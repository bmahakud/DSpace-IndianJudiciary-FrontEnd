exports.id=1262,exports.ids=[1262],exports.modules={32411:(__unused_webpack_module2,__webpack_exports__,__webpack_require__2)=>{"use strict";__webpack_require__2.d(__webpack_exports__,{z:()=>SignpostingDataService});var rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__2(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__2(60444),_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__2(24697),_dspace_rest_dspace_rest_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__2(27477),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__2(11201);let SignpostingDataService=(()=>{class SignpostingDataService2{constructor(appConfig,restService){this.appConfig=appConfig,this.restService=restService}getLinks(uuid){return this.restService.get(`${this.appConfig.rest.baseUrl}/signposting/links/${uuid}`).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.WL)(err=>(0,rxjs__WEBPACK_IMPORTED_MODULE_3__.of)([])),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.Tj)(res=>200===res.statusCode?res.payload:[]))}static{this.\u0275fac=function(t){return new(t||SignpostingDataService2)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(_config_app_config_interface__WEBPACK_IMPORTED_MODULE_0__.vQ),_angular_core__WEBPACK_IMPORTED_MODULE_4__.KVO(_dspace_rest_dspace_rest_service__WEBPACK_IMPORTED_MODULE_1__.Y))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.jDH({token:SignpostingDataService2,factory:SignpostingDataService2.\u0275fac,providedIn:"root"})}}return SignpostingDataService2})()},44786:(__unused_webpack_module2,__webpack_exports__,__webpack_require__2)=>{"use strict";__webpack_require__2.d(__webpack_exports__,{l:()=>BitstreamPermissionsService});var rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__2(9238),rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__2(60444),_api_urls__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__2(77140),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__2(11201),_angular_common_http__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__2(98465);let BitstreamPermissionsService=(()=>{class BitstreamPermissionsService2{constructor(http){this.http=http,this.baseUrl=`${_api_urls__WEBPACK_IMPORTED_MODULE_0__.$}/server/api/custom/bitstreams`}getBitstreamPermissions(bitstreamId){return this.http.get(`${this.baseUrl}/${bitstreamId}/permissions`).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.WL)(error=>(console.error(`Error fetching permissions for bitstream ${bitstreamId}:`,error),(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)({userId:"",policies:[],bitstreamId}))))}hasBitstreamPermissions(bitstreamId){return this.getBitstreamPermissions(bitstreamId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.Tj)(permission=>!0===permission.isAdmin||permission.policies&&permission.policies.length>0))}canDownload(bitstreamId){return this.getBitstreamPermissions(bitstreamId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.Tj)(permission=>{if(!0===permission.isAdmin)return!0;if(!permission.policies||0===permission.policies.length)return!1;const now=new Date;return permission.policies.some(policy=>!!policy.download&&this.isWithinTimeRange(policy,now))}))}canPrint(bitstreamId){return this.getBitstreamPermissions(bitstreamId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.Tj)(permission=>{if(!0===permission.isAdmin)return!0;if(!permission.policies||0===permission.policies.length)return!1;const now=new Date;return permission.policies.some(policy=>!!policy.print&&this.isWithinTimeRange(policy,now))}))}checkTimeAccess(bitstreamId){return this.getBitstreamPermissions(bitstreamId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.Tj)(permission=>{if(!0===permission.isAdmin)return{hasAccess:!0,message:"You have admin access to this file.",validUntil:null,validFrom:null};if(!permission.policies||0===permission.policies.length)return{hasAccess:!1,message:"No access policies found for this file.",validUntil:null,validFrom:null};const now=new Date;for(const policy of permission.policies){const timeStatus=this.getTimeAccessStatus(policy,now);if(timeStatus.hasAccess)return timeStatus}let nextAccessPolicy=null,nextAccessDate=null;for(const policy of permission.policies){if(!policy.startDate)continue;const startDate=new Date(policy.startDate);startDate>now&&(!nextAccessDate||startDate<nextAccessDate)&&(nextAccessPolicy=policy,nextAccessDate=startDate)}if(nextAccessPolicy&&nextAccessDate)return{hasAccess:!1,message:`Access will be available from ${this.formatDate(nextAccessDate)}.`,validUntil:null,validFrom:nextAccessDate};let lastExpiredPolicy=null,lastExpiredDate=null;for(const policy of permission.policies){if(!policy.endDate)continue;const endDate=new Date(policy.endDate);endDate<now&&(!lastExpiredDate||endDate>lastExpiredDate)&&(lastExpiredPolicy=policy,lastExpiredDate=endDate)}return lastExpiredPolicy&&lastExpiredDate?{hasAccess:!1,message:`Access expired on ${this.formatDate(lastExpiredDate)}.`,validUntil:lastExpiredDate,validFrom:null}:{hasAccess:!1,message:"You do not have access to view this file at this time.",validUntil:null,validFrom:null}}))}getTimeAccessStatus(policy,now){if(this.isWithinTimeRange(policy,now)){let message="You have access to view this file",validUntil=null;if(policy.endDate){const endDate=new Date(policy.endDate);validUntil=endDate;const timeRemaining=this.getTimeRemainingText(now,endDate);message+=` until ${this.formatDate(endDate)} (${timeRemaining})`}return{hasAccess:!0,message,validUntil,validFrom:policy.startDate?new Date(policy.startDate):null}}if(policy.startDate&&new Date(policy.startDate)>now){const startDate=new Date(policy.startDate);return{hasAccess:!1,message:`Access will be available from ${this.formatDate(startDate)}.`,validUntil:null,validFrom:startDate}}if(policy.endDate&&new Date(policy.endDate)<now){const endDate=new Date(policy.endDate);return{hasAccess:!1,message:`Access expired on ${this.formatDate(endDate)}.`,validUntil:endDate,validFrom:null}}return{hasAccess:!1,message:"You do not have access to view this file at this time.",validUntil:null,validFrom:null}}isWithinTimeRange(policy,now){return!(policy.startDate&&now<new Date(policy.startDate))&&!(policy.endDate&&now>new Date(policy.endDate))}formatDate(date){return date.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}getTimeRemainingText(now,endDate){const diffMs=endDate.getTime()-now.getTime(),diffDays=Math.floor(diffMs/864e5),diffHours=Math.floor(diffMs%864e5/36e5),diffMinutes=Math.floor(diffMs%36e5/6e4);return diffDays>0?`${diffDays} day${1!==diffDays?"s":""} ${diffHours} hour${1!==diffHours?"s":""} remaining`:diffHours>0?`${diffHours} hour${1!==diffHours?"s":""} ${diffMinutes} minute${1!==diffMinutes?"s":""} remaining`:`${diffMinutes} minute${1!==diffMinutes?"s":""} remaining`}static{this.\u0275fac=function(t){return new(t||BitstreamPermissionsService2)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.KVO(_angular_common_http__WEBPACK_IMPORTED_MODULE_4__.Qq))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_3__.jDH({token:BitstreamPermissionsService2,factory:BitstreamPermissionsService2.\u0275fac,providedIn:"root"})}}return BitstreamPermissionsService2})()},21262:(__unused_webpack_module2,__webpack_exports__,__webpack_require__2)=>{"use strict";__webpack_require__2.r(__webpack_exports__),__webpack_require__2.d(__webpack_exports__,{ROUTES:()=>ROUTES});var signposting_data_service=__webpack_require__2(32411),common=__webpack_require__2(87514),pdf=__webpack_require__2(51198),api_urls=(__webpack_require__2(26634),__webpack_require__2(77140)),core=__webpack_require__2(11201),http=__webpack_require__2(98465);let SignpostingDataService1=(()=>{class SignpostingDataService12{constructor(http2){this.http=http2,this.apiBase=`${api_urls.$}/server/api/core/items`}getItemByUuid(uuid){return this.http.get(`${this.apiBase}/${uuid}?projection=full`)}static{this.\u0275fac=function(t){return new(t||SignpostingDataService12)(core.KVO(http.Qq))}}static{this.\u0275prov=core.jDH({token:SignpostingDataService12,factory:SignpostingDataService12.\u0275fac,providedIn:"root"})}}return SignpostingDataService12})();var cjs=__webpack_require__2(9238),operators=__webpack_require__2(60444);let PdfService=(()=>{class PdfService2{constructor(http2){this.http=http2}fetchRestrictedPdf(bitstreamUuid){return this.http.get(`${api_urls.$}/server/api/custom/bitstreams/${bitstreamUuid}/filtered-content`,{responseType:"blob",withCredentials:!0}).pipe((0,operators.L5)(2),(0,operators.WL)(error=>(console.error("Error fetching PDF:",error),(0,cjs.throwError)(()=>new Error("Failed to fetch PDF. Please try again later.")))))}createBlobUrl(blob){return URL.createObjectURL(blob)}revokeBlobUrl(url){url&&url.startsWith("blob:")&&URL.revokeObjectURL(url)}static{this.\u0275fac=function(t){return new(t||PdfService2)(core.KVO(http.Qq))}}static{this.\u0275prov=core.jDH({token:PdfService2,factory:PdfService2.\u0275fac,providedIn:"root"})}}return PdfService2})();var bitstream_permissions_service=__webpack_require__2(44786),fesm2022_forms=__webpack_require__2(13054);let BitstreamCommentService=(()=>{class BitstreamCommentService2{constructor(http2){this.http=http2,this.baseUrl=`${api_urls.$}/server/api/bitstream/comment`}getComments(bitstreamId){return this.http.get(`${this.baseUrl}/bitstream/${bitstreamId}`,{withCredentials:!0})}addComment(comment){return this.http.post(this.baseUrl,comment,{withCredentials:!0})}updateComment(id,newText){const headers=new http.Lr({"Content-Type":"text/plain"});return this.http.put(`${this.baseUrl}/${id}`,newText,{headers,withCredentials:!0})}deleteComment(id){return this.http.delete(`${this.baseUrl}/${id}`,{withCredentials:!0})}static{this.\u0275fac=function(t){return new(t||BitstreamCommentService2)(core.KVO(http.Qq))}}static{this.\u0275prov=core.jDH({token:BitstreamCommentService2,factory:BitstreamCommentService2.\u0275fac,providedIn:"root"})}}return BitstreamCommentService2})();var router=__webpack_require__2(18134);const _c0=["pdfContainer"],_c1=a0=>({minimized:a0});function ViewerComponent_button_9_Template(rf,ctx){if(1&rf){const _r1=core.RV6();core.j41(0,"button",5),core.bIt("click",function(){core.eBV(_r1);const ctx_r1=core.XpG();return core.Njj(ctx_r1.toggleFullScreen())}),core.EFF(1," Open in Full Screen "),core.k0s()}}function ViewerComponent_div_11_tr_13_Template(rf,ctx){if(1&rf&&(core.j41(0,"tr")(1,"td"),core.EFF(2),core.k0s(),core.j41(3,"td"),core.EFF(4),core.k0s()()),2&rf){const item_r4=ctx.$implicit;core.R7$(2),core.JRh(item_r4.name),core.R7$(2),core.JRh(item_r4.value)}}function ViewerComponent_div_11_Template(rf,ctx){if(1&rf){const _r3=core.RV6();core.j41(0,"div",23)(1,"div",24)(2,"span"),core.EFF(3,"Metadata"),core.k0s(),core.j41(4,"button",25),core.bIt("click",function(){core.eBV(_r3);const ctx_r1=core.XpG();return core.Njj(ctx_r1.toggleMetadataPanel())}),core.nrm(5,"i",26),core.k0s()(),core.j41(6,"div",27)(7,"table")(8,"tr")(9,"th"),core.EFF(10,"Metadata"),core.k0s(),core.j41(11,"th"),core.EFF(12,"Value"),core.k0s()(),core.DNE(13,ViewerComponent_div_11_tr_13_Template,5,2,"tr",28),core.k0s()()()}if(2&rf){const ctx_r1=core.XpG();core.R7$(13),core.Y8G("ngForOf",ctx_r1.metadata)}}function ViewerComponent_button_12_Template(rf,ctx){if(1&rf){const _r5=core.RV6();core.j41(0,"button",29),core.bIt("click",function(){core.eBV(_r5);const ctx_r1=core.XpG();return core.Njj(ctx_r1.toggleMetadataPanel())}),core.nrm(1,"i",30),core.k0s()}}function ViewerComponent_div_14_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",31)(1,"div",32)(2,"div",33)(3,"span",34),core.EFF(4,"Loading..."),core.k0s()(),core.j41(5,"p",35),core.EFF(6),core.k0s()()()),2&rf){const ctx_r1=core.XpG();core.R7$(6),core.JRh(ctx_r1.checkingPermissions?"Checking permissions...":"Loading file...")}}function ViewerComponent_div_15_Template(rf,ctx){if(1&rf){const _r6=core.RV6();core.j41(0,"div",36)(1,"div",37)(2,"h3"),core.EFF(3,"Access Restricted"),core.k0s(),core.j41(4,"p"),core.EFF(5),core.k0s(),core.j41(6,"button",38),core.bIt("click",function(){core.eBV(_r6);const ctx_r1=core.XpG();return core.Njj(ctx_r1.checkFilePermissions(ctx_r1.currentBitstreamId))}),core.EFF(7,"Check Again"),core.k0s()()()}if(2&rf){const ctx_r1=core.XpG();core.R7$(5),core.JRh((null==ctx_r1.timeAccessStatus?null:ctx_r1.timeAccessStatus.message)||"Access denied at this time.")}}function ViewerComponent_div_16_div_1_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",68),core.nrm(1,"i",69),core.EFF(2),core.nI1(3,"date"),core.k0s()),2&rf){const ctx_r1=core.XpG(2);core.R7$(2),core.SpI(" \u23f0 Access expires: ",core.i5U(3,1,ctx_r1.timeAccessStatus.validUntil,"medium")," ")}}function ViewerComponent_div_16_button_6_Template(rf,ctx){if(1&rf){const _r8=core.RV6();core.j41(0,"button",70),core.bIt("click",function(){core.eBV(_r8);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.maximizePdfView())}),core.nrm(1,"i",71),core.k0s()}}function ViewerComponent_div_16_button_7_Template(rf,ctx){if(1&rf){const _r9=core.RV6();core.j41(0,"button",72),core.bIt("click",function(){core.eBV(_r9);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.restorePanels())}),core.nrm(1,"i",73),core.k0s()}}function ViewerComponent_div_16_button_29_Template(rf,ctx){if(1&rf){const _r10=core.RV6();core.j41(0,"button",74),core.bIt("click",function(){core.eBV(_r10);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.printFile())}),core.nrm(1,"i",75),core.k0s()}}function ViewerComponent_div_16_button_30_Template(rf,ctx){if(1&rf){const _r11=core.RV6();core.j41(0,"button",76),core.bIt("click",function(){core.eBV(_r11);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.downloadFile())}),core.nrm(1,"i",77),core.k0s()}}function ViewerComponent_div_16_div_33_div_7_Template(rf,ctx){if(1&rf){const _r13=core.RV6();core.j41(0,"div",85)(1,"span"),core.EFF(2),core.k0s(),core.j41(3,"button",86),core.bIt("click",function(){core.eBV(_r13);const ctx_r1=core.XpG(3);return core.Njj(ctx_r1.prevSearchResult())}),core.nrm(4,"i",26),core.k0s(),core.j41(5,"button",87),core.bIt("click",function(){core.eBV(_r13);const ctx_r1=core.XpG(3);return core.Njj(ctx_r1.nextSearchResult())}),core.nrm(6,"i",30),core.k0s()()}if(2&rf){const ctx_r1=core.XpG(3);core.R7$(2),core.Lme("",ctx_r1.currentSearchIndex+1," of ",ctx_r1.searchResults.length,""),core.R7$(),core.Y8G("disabled",ctx_r1.currentSearchIndex<=0),core.R7$(2),core.Y8G("disabled",ctx_r1.currentSearchIndex>=ctx_r1.searchResults.length-1)}}function ViewerComponent_div_16_div_33_Template(rf,ctx){if(1&rf){const _r12=core.RV6();core.j41(0,"div",78)(1,"div",79)(2,"input",80),core.mxI("ngModelChange",function($event){core.eBV(_r12);const ctx_r1=core.XpG(2);return core.DH7(ctx_r1.searchText,$event)||(ctx_r1.searchText=$event),core.Njj($event)}),core.bIt("keyup.enter",function(){core.eBV(_r12);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.searchPdf())}),core.k0s(),core.j41(3,"button",81),core.bIt("click",function(){core.eBV(_r12);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.searchPdf())}),core.nrm(4,"i",56),core.k0s(),core.j41(5,"button",82),core.bIt("click",function(){core.eBV(_r12);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.clearSearch())}),core.nrm(6,"i",83),core.k0s()(),core.DNE(7,ViewerComponent_div_16_div_33_div_7_Template,7,4,"div",84),core.k0s()}if(2&rf){const ctx_r1=core.XpG(2);core.R7$(2),core.R50("ngModel",ctx_r1.searchText),core.R7$(5),core.Y8G("ngIf",ctx_r1.searchResults.length>0)}}function ViewerComponent_div_16_Template(rf,ctx){if(1&rf){const _r7=core.RV6();core.j41(0,"div",39),core.DNE(1,ViewerComponent_div_16_div_1_Template,4,4,"div",40),core.j41(2,"div",41)(3,"button",42),core.bIt("click",function(){core.eBV(_r7);const ctx_r1=core.XpG();return core.Njj(ctx_r1.toggleMetadataPanel())}),core.nrm(4,"i",43),core.k0s(),core.j41(5,"div",44),core.DNE(6,ViewerComponent_div_16_button_6_Template,2,0,"button",45)(7,ViewerComponent_div_16_button_7_Template,2,0,"button",46),core.j41(8,"div",47)(9,"div",48)(10,"button",49),core.bIt("click",function(){core.eBV(_r7);const ctx_r1=core.XpG();return core.Njj(ctx_r1.prevPage())}),core.nrm(11,"i",50),core.k0s(),core.j41(12,"div",51),core.EFF(13),core.k0s(),core.j41(14,"button",52),core.bIt("click",function(){core.eBV(_r7);const ctx_r1=core.XpG();return core.Njj(ctx_r1.nextPage())}),core.nrm(15,"i",53),core.k0s(),core.j41(16,"span",54),core.EFF(17),core.k0s()(),core.j41(18,"button",55),core.bIt("click",function(){core.eBV(_r7);const ctx_r1=core.XpG();return core.Njj(ctx_r1.toggleSearch())}),core.nrm(19,"i",56),core.k0s()(),core.j41(20,"div",57)(21,"button",58),core.bIt("click",function(){core.eBV(_r7);const ctx_r1=core.XpG();return core.Njj(ctx_r1.zoomOut())}),core.nrm(22,"i",59),core.k0s(),core.j41(23,"span",60),core.EFF(24),core.nI1(25,"number"),core.k0s(),core.j41(26,"button",61),core.bIt("click",function(){core.eBV(_r7);const ctx_r1=core.XpG();return core.Njj(ctx_r1.zoomIn())}),core.nrm(27,"i",62),core.k0s()(),core.j41(28,"div",63),core.DNE(29,ViewerComponent_div_16_button_29_Template,2,0,"button",64)(30,ViewerComponent_div_16_button_30_Template,2,0,"button",65),core.k0s()(),core.j41(31,"button",42),core.bIt("click",function(){core.eBV(_r7);const ctx_r1=core.XpG();return core.Njj(ctx_r1.toggleCommentPanel())}),core.nrm(32,"i",43),core.k0s()(),core.DNE(33,ViewerComponent_div_16_div_33_Template,8,2,"div",66),core.nrm(34,"div",67,0),core.k0s()}if(2&rf){const ctx_r1=core.XpG();core.R7$(),core.Y8G("ngIf",ctx_r1.hasTimeAccess&&(null==ctx_r1.timeAccessStatus?null:ctx_r1.timeAccessStatus.validUntil)),core.R7$(2),core.FS9("title",ctx_r1.isMetadataMinimized?"Show Metadata":"Minimize Metadata Panel"),core.Y8G("ngClass",core.eq3(20,_c1,ctx_r1.isMetadataMinimized)),core.R7$(),core.Y8G("ngClass",ctx_r1.isMetadataMinimized?"fa-chevron-right":"fa-chevron-left"),core.R7$(2),core.Y8G("ngIf",!ctx_r1.isMetadataMinimized||!ctx_r1.isCommentMinimized),core.R7$(),core.Y8G("ngIf",ctx_r1.isMetadataMinimized&&ctx_r1.isCommentMinimized),core.R7$(3),core.Y8G("disabled",ctx_r1.currentPage<=1),core.R7$(3),core.JRh(ctx_r1.currentPage),core.R7$(),core.Y8G("disabled",ctx_r1.currentPage>=ctx_r1.totalPages),core.R7$(3),core.SpI("of ",ctx_r1.totalPages,""),core.R7$(7),core.SpI("",core.i5U(25,17,ctx_r1.zoomLevel,"1.0-1"),"x"),core.R7$(5),core.Y8G("ngIf",ctx_r1.canPrintFile),core.R7$(),core.Y8G("ngIf",ctx_r1.canDownloadFile),core.R7$(),core.FS9("title",ctx_r1.isCommentMinimized?"Show Comments":"Minimize Comment Panel"),core.Y8G("ngClass",core.eq3(22,_c1,ctx_r1.isCommentMinimized)),core.R7$(),core.Y8G("ngClass",ctx_r1.isCommentMinimized?"fa-chevron-left":"fa-chevron-right"),core.R7$(),core.Y8G("ngIf",ctx_r1.isSearchVisible)}}function ViewerComponent_div_17_button_15_Template(rf,ctx){if(1&rf){const _r15=core.RV6();core.j41(0,"button",5),core.bIt("click",function(){core.eBV(_r15);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.downloadImage())}),core.EFF(1,"\u2b07"),core.k0s()}}function ViewerComponent_div_17_Template(rf,ctx){if(1&rf){const _r14=core.RV6();core.j41(0,"div",88)(1,"div",89)(2,"div",90)(3,"button",5),core.bIt("click",function(){core.eBV(_r14);const ctx_r1=core.XpG();return core.Njj(ctx_r1.imageZoomOut())}),core.EFF(4,"\u2212"),core.k0s(),core.j41(5,"button",5),core.bIt("click",function(){core.eBV(_r14);const ctx_r1=core.XpG();return core.Njj(ctx_r1.imageZoomIn())}),core.EFF(6,"+"),core.k0s(),core.j41(7,"span"),core.EFF(8),core.nI1(9,"number"),core.k0s()(),core.j41(10,"div",91)(11,"button",5),core.bIt("click",function(){core.eBV(_r14);const ctx_r1=core.XpG();return core.Njj(ctx_r1.toggleImageFullScreen())}),core.EFF(12,"\u26f6"),core.k0s(),core.j41(13,"button",5),core.bIt("click",function(){core.eBV(_r14);const ctx_r1=core.XpG();return core.Njj(ctx_r1.openImageInNewTab())}),core.EFF(14,"\u2197"),core.k0s(),core.DNE(15,ViewerComponent_div_17_button_15_Template,2,0,"button",7),core.k0s()(),core.j41(16,"div",92),core.nrm(17,"img",93),core.k0s()()}if(2&rf){const ctx_r1=core.XpG();core.R7$(8),core.SpI("Zoom: ",core.i5U(9,5,ctx_r1.imageZoomLevel,"1.0-1"),""),core.R7$(7),core.Y8G("ngIf",ctx_r1.canDownloadFile),core.R7$(2),core.xc7("transform","scale("+ctx_r1.imageZoomLevel+")"),core.Y8G("src",ctx_r1.fileUrl,core.B4B)}}function ViewerComponent_div_18_button_4_Template(rf,ctx){if(1&rf){const _r17=core.RV6();core.j41(0,"button",5),core.bIt("click",function(){core.eBV(_r17);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.downloadVideo())}),core.EFF(1,"\u2b07"),core.k0s()}}function ViewerComponent_div_18_div_8_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",98)(1,"p"),core.EFF(2,"\u26a0\ufe0f Unable to load video. Please check permissions or file format."),core.k0s(),core.j41(3,"p")(4,"strong"),core.EFF(5,"Debug info:"),core.k0s(),core.EFF(6),core.k0s()()),2&rf){const ctx_r1=core.XpG(2);core.R7$(6),core.SpI(" ",ctx_r1.fileUrl,"")}}function ViewerComponent_div_18_Template(rf,ctx){if(1&rf){const _r16=core.RV6();core.j41(0,"div",94)(1,"div",95)(2,"button",5),core.bIt("click",function(){core.eBV(_r16);const ctx_r1=core.XpG();return core.Njj(ctx_r1.openVideoInNewTab())}),core.EFF(3,"\u2197"),core.k0s(),core.DNE(4,ViewerComponent_div_18_button_4_Template,2,0,"button",7),core.k0s(),core.j41(5,"div",92)(6,"video",96),core.bIt("error",function($event){core.eBV(_r16);const ctx_r1=core.XpG();return core.Njj(ctx_r1.onVideoError($event))}),core.EFF(7," Your browser does not support the video tag. "),core.k0s(),core.DNE(8,ViewerComponent_div_18_div_8_Template,7,1,"div",97),core.k0s()()}if(2&rf){const ctx_r1=core.XpG();core.R7$(4),core.Y8G("ngIf",ctx_r1.canDownloadFile),core.R7$(2),core.Y8G("src",ctx_r1.fileUrl,core.B4B),core.R7$(2),core.Y8G("ngIf",ctx_r1.videoError)}}function ViewerComponent_div_19_button_4_Template(rf,ctx){if(1&rf){const _r19=core.RV6();core.j41(0,"button",5),core.bIt("click",function(){core.eBV(_r19);const ctx_r1=core.XpG(2);return core.Njj(ctx_r1.downloadAudio())}),core.EFF(1,"\u2b07"),core.k0s()}}function ViewerComponent_div_19_Template(rf,ctx){if(1&rf){const _r18=core.RV6();core.j41(0,"div",99)(1,"div",100)(2,"button",5),core.bIt("click",function(){core.eBV(_r18);const ctx_r1=core.XpG();return core.Njj(ctx_r1.openAudioInNewTab())}),core.EFF(3,"\u2197"),core.k0s(),core.DNE(4,ViewerComponent_div_19_button_4_Template,2,0,"button",7),core.k0s(),core.j41(5,"div",92)(6,"audio",101),core.EFF(7," Your browser does not support the audio tag. "),core.k0s()()()}if(2&rf){const ctx_r1=core.XpG();core.R7$(4),core.Y8G("ngIf",ctx_r1.canDownloadFile),core.R7$(2),core.Y8G("src",ctx_r1.fileUrl,core.B4B)}}function ViewerComponent_div_20_Template(rf,ctx){1&rf&&(core.j41(0,"div",102),core.EFF(1," \u26a0\ufe0f Download not permitted for this file "),core.k0s())}function ViewerComponent_div_21_Template(rf,ctx){1&rf&&(core.j41(0,"div",103),core.EFF(1," \u26a0\ufe0f Printing not permitted for this file "),core.k0s())}function ViewerComponent_div_22_div_3_Template(rf,ctx){1&rf&&(core.j41(0,"div",111)(1,"p",112),core.EFF(2,"No comments yet."),core.k0s()())}function ViewerComponent_div_22_div_4_div_10_Template(rf,ctx){if(1&rf){const _r21=core.RV6();core.j41(0,"div",119)(1,"button",120),core.bIt("click",function(){core.eBV(_r21);const comment_r22=core.XpG().$implicit,ctx_r1=core.XpG(2);return core.Njj(ctx_r1.confirmDelete(comment_r22.id))}),core.EFF(2),core.k0s()()}if(2&rf){const comment_r22=core.XpG().$implicit,ctx_r1=core.XpG(2);core.R7$(),core.Y8G("disabled",ctx_r1.deletingCommentId===comment_r22.id),core.R7$(),core.SpI(" ",ctx_r1.deletingCommentId===comment_r22.id?"Deleting...":"Delete"," ")}}function ViewerComponent_div_22_div_4_Template(rf,ctx){if(1&rf&&(core.j41(0,"div",113)(1,"div",114)(2,"span",115),core.EFF(3),core.k0s(),core.j41(4,"span",116),core.EFF(5),core.nI1(6,"date"),core.k0s()(),core.j41(7,"div",117)(8,"p"),core.EFF(9),core.k0s()(),core.DNE(10,ViewerComponent_div_22_div_4_div_10_Template,3,2,"div",118),core.k0s()),2&rf){const comment_r22=ctx.$implicit,ctx_r1=core.XpG(2);core.R7$(3),core.JRh(comment_r22.commenterName||"Anonymous"),core.R7$(2),core.JRh(core.i5U(6,4,comment_r22.createdDate,"medium")),core.R7$(4),core.JRh(comment_r22.comment||comment_r22.text),core.R7$(),core.Y8G("ngIf",ctx_r1.isAdmin)}}function ViewerComponent_div_22_div_10_Template(rf,ctx){1&rf&&(core.j41(0,"div",121),core.EFF(1," Only administrators can add comments. "),core.k0s())}function ViewerComponent_div_22_Template(rf,ctx){if(1&rf){const _r20=core.RV6();core.j41(0,"div",104)(1,"h4"),core.EFF(2,"Comments"),core.k0s(),core.DNE(3,ViewerComponent_div_22_div_3_Template,3,0,"div",105)(4,ViewerComponent_div_22_div_4_Template,11,7,"div",106),core.j41(5,"div",107)(6,"textarea",108),core.mxI("ngModelChange",function($event){core.eBV(_r20);const ctx_r1=core.XpG();return core.DH7(ctx_r1.newCommentText,$event)||(ctx_r1.newCommentText=$event),core.Njj($event)}),core.EFF(7,"        "),core.k0s(),core.j41(8,"button",109),core.bIt("click",function(){core.eBV(_r20);const ctx_r1=core.XpG();return core.Njj(ctx_r1.addComment())}),core.EFF(9),core.k0s(),core.DNE(10,ViewerComponent_div_22_div_10_Template,2,0,"div",110),core.k0s()()}if(2&rf){const ctx_r1=core.XpG();core.R7$(3),core.Y8G("ngIf",0===ctx_r1.comments.length),core.R7$(),core.Y8G("ngForOf",ctx_r1.comments),core.R7$(2),core.R50("ngModel",ctx_r1.newCommentText),core.Y8G("disabled",!ctx_r1.isAdmin||ctx_r1.isAddingComment),core.R7$(2),core.Y8G("disabled",!ctx_r1.isAdmin||ctx_r1.isAddingComment||!ctx_r1.newCommentText.trim()),core.R7$(),core.SpI(" ",ctx_r1.isAddingComment?"Adding...":"Add Comment"," "),core.R7$(),core.Y8G("ngIf",!ctx_r1.isAdmin)}}function ViewerComponent_button_23_Template(rf,ctx){if(1&rf){const _r23=core.RV6();core.j41(0,"button",122),core.bIt("click",function(){core.eBV(_r23);const ctx_r1=core.XpG();return core.Njj(ctx_r1.toggleCommentPanel())}),core.nrm(1,"i",26),core.k0s()}}function ViewerComponent_div_24_Template(rf,ctx){if(1&rf){const _r24=core.RV6();core.j41(0,"div",123),core.bIt("click",function(){core.eBV(_r24);const ctx_r1=core.XpG();return core.Njj(ctx_r1.cancelDelete())}),core.j41(1,"div",124),core.bIt("click",function($event){return core.eBV(_r24),core.Njj($event.stopPropagation())}),core.j41(2,"div",125)(3,"h3"),core.EFF(4,"Confirm Delete"),core.k0s()(),core.j41(5,"div",126)(6,"p"),core.EFF(7,"Are you sure you want to delete this comment?"),core.k0s(),core.j41(8,"p",127),core.EFF(9,"This action cannot be undone."),core.k0s()(),core.j41(10,"div",128)(11,"button",129),core.bIt("click",function(){core.eBV(_r24);const ctx_r1=core.XpG();return core.Njj(ctx_r1.cancelDelete())}),core.EFF(12,"Cancel"),core.k0s(),core.j41(13,"button",130),core.bIt("click",function(){core.eBV(_r24);const ctx_r1=core.XpG();return core.Njj(ctx_r1.confirmDeleteComment())}),core.EFF(14,"Delete"),core.k0s()()()()}}const ROUTES=[{path:"i/:itemUuid/f/:bitstreamUuid",component:(()=>{class ViewerComponent2{constructor(route,signpostingService,metadataApiService,location,cdr,http2,pdfService,bitstreamPermissionsService,bitstreamCommentService){this.route=route,this.signpostingService=signpostingService,this.metadataApiService=metadataApiService,this.location=location,this.cdr=cdr,this.http=http2,this.pdfService=pdfService,this.bitstreamPermissionsService=bitstreamPermissionsService,this.bitstreamCommentService=bitstreamCommentService,this.isAdmin=!1,this.fileUrl="",this.pdfDoc=null,this.currentPage=1,this.totalPages=0,this.zoomLevel=1,this.fileType="",this.isLoading=!1,this.currentBitstreamId="",this.isPdfFile=!1,this.isImageFile=!1,this.isVideoFile=!1,this.isAudioFile=!1,this.isSearchVisible=!1,this.searchText="",this.searchResults=[],this.currentSearchIndex=-1,this.canDownloadFile=!1,this.canPrintFile=!1,this.checkingPermissions=!1,this.timeAccessStatus=null,this.hasTimeAccess=!1,this.accessExpirationTimer=null,this.accessCheckInterval=null,this.excludedFields=["dc.description.provenance","dc.identifier.uri","dc.date.accessioned"],this.comments=[],this.newCommentText="",this.isAddingComment=!1,this.showDeleteConfirmation=!1,this.commentToDelete=null,this.deletingCommentId=null,this.metadata=[],this.orderedMetadataKeys=["dc.casetype","dc.title","dc.caseyear","dc.date.disposal","dc.contributor.author","dc.pname","dc.rname","dc.paname","dc.raname","dc.district","dc.date.scan","dc.verified-by","dc.date.verification","dc.barcode","dc.batch-number","dc.size","dc.char-count","dc.pages"],this.customMetadataLabels={"dc.caseyear":"Case Year","dc.casetype":"Case Type","dc.title":"Case Number","dc.case.district":"District","dc.district":"District","dc.pname":"Petitioner Name","dc.rname":"Respondent Name","dc.paname":"Petitioner's Advocate Name","dc.raname":"Respondent's Advocate Name","dc.contributor.author":"Judge Name","dc.date.accessioned":"Access Date","dc.date.issued":"Issued Year","dc.date.disposal":"Disposal Date","dc.identifier.uri":"Handle URL","dc.title.alternative":"Alternative Title","dc.type":"Document Type","dc.barcode":"Barcode Number","dc.batch-number":"Batch Number","dc.char-count":"Character Count","dc.date.scan":"Scan Date","dc.date.verification":"Date Verification","dc.pages":"No of Pages of the Main File","dc.size":"File Size","dc.verified-by":"Verified By"},this.isMetadataMinimized=!1,this.isCommentMinimized=!1,this.videoError=!1,this.imageZoomLevel=1}ngOnInit(){this.route.params.subscribe(params=>{const itemUuid=params.itemUuid,bitstreamUuid=params.bitstreamUuid;itemUuid&&bitstreamUuid?(this.currentBitstreamId=bitstreamUuid,this.fetchMetadataFromApi(itemUuid),this.checkFilePermissions(bitstreamUuid)):console.error("\u274c Missing itemUuid or bitstreamUuid in route")})}checkFilePermissions(bitstreamId){this.checkingPermissions=!0,this.bitstreamPermissionsService.getBitstreamPermissions(bitstreamId).subscribe({next:permData=>{if(this.isAdmin=!0===permData?.isAdmin,this.isAdmin)return this.canDownloadFile=!0,this.canPrintFile=!0,this.hasTimeAccess=!0,document.body.classList.add("can-print"),this.fetchFileData(this.route.snapshot.params.itemUuid,bitstreamId),this.checkingPermissions=!1,void this.cdr.detectChanges();this.bitstreamPermissionsService.checkTimeAccess(bitstreamId).subscribe({next:accessStatus=>{this.timeAccessStatus=accessStatus,this.hasTimeAccess=accessStatus.hasAccess,console.log(`Time-based access for ${bitstreamId}:`,accessStatus),this.hasTimeAccess&&(this.fetchFileData(this.route.snapshot.params.itemUuid,bitstreamId),this.setupAccessExpirationTimer(),this.setupPeriodicAccessCheck(bitstreamId)),this.bitstreamPermissionsService.canDownload(bitstreamId).subscribe({next:canDownload=>{this.canDownloadFile=canDownload},error:err=>{console.error("Error checking download permission:",err),this.canDownloadFile=!1}}),this.bitstreamPermissionsService.canPrint(bitstreamId).subscribe({next:canPrint=>{this.canPrintFile=canPrint,canPrint?document.body.classList.add("can-print"):document.body.classList.remove("can-print")},error:err=>{console.error("Error checking print permission:",err),this.canPrintFile=!1,document.body.classList.remove("can-print")},complete:()=>{this.checkingPermissions=!1,this.cdr.detectChanges()}})},error:err=>{console.error("Error checking time-based access:",err),this.hasTimeAccess=!1,this.timeAccessStatus={hasAccess:!1,message:"Error checking access permissions.",validUntil:null,validFrom:null},this.checkingPermissions=!1,this.cdr.detectChanges()}})},error:err=>{console.error("Error fetching bitstream permissions:",err),this.checkingPermissions=!1,this.cdr.detectChanges()}})}setupAccessExpirationTimer(){if(this.accessExpirationTimer&&(this.accessExpirationTimer.unsubscribe(),this.accessExpirationTimer=null),this.timeAccessStatus?.validUntil){const now=new Date,timeUntilExpiration=this.timeAccessStatus.validUntil.getTime()-now.getTime();timeUntilExpiration>0&&(console.log(`Setting up access expiration timer for ${timeUntilExpiration}ms`),this.accessExpirationTimer=(0,cjs.interval)(timeUntilExpiration).subscribe(()=>{console.log("Access expiration timer triggered"),this.checkFilePermissions(this.currentBitstreamId)}))}}setupPeriodicAccessCheck(bitstreamId){this.accessCheckInterval&&(this.accessCheckInterval.unsubscribe(),this.accessCheckInterval=null),this.accessCheckInterval=(0,cjs.interval)(6e4).subscribe(()=>{console.log("Periodic access check triggered"),this.bitstreamPermissionsService.checkTimeAccess(bitstreamId).subscribe({next:accessStatus=>{this.hasTimeAccess!==accessStatus.hasAccess&&(this.timeAccessStatus=accessStatus,this.hasTimeAccess=accessStatus.hasAccess,this.hasTimeAccess||(this.fileUrl&&this.fileUrl.startsWith("blob:")&&(this.pdfService.revokeBlobUrl(this.fileUrl),this.fileUrl=""),this.pdfDoc=null),this.cdr.detectChanges())}})})}fetchMetadataFromApi(uuid){this.metadataApiService.getItemByUuid(uuid).subscribe({next:res=>{const metadataMap={},apiMetadata=res.metadata;for(const key in apiMetadata)if(apiMetadata.hasOwnProperty(key)&&!this.excludedFields.includes(key)){const combinedValue=apiMetadata[key].map(v=>v.value).join(", ");metadataMap[key]=combinedValue}const orderedMetadata=[];this.orderedMetadataKeys.forEach(key=>{metadataMap[key]&&orderedMetadata.push({name:this.customMetadataLabels[key]||key,value:metadataMap[key]})});for(const key in metadataMap)this.orderedMetadataKeys.includes(key)||orderedMetadata.push({name:this.customMetadataLabels[key]||key,value:metadataMap[key]});this.metadata=orderedMetadata,console.log("Processed metadata:",this.metadata),console.log("Metadata fields:"),this.metadata.forEach(item=>{console.log(`${item.name}: ${item.value}`)}),this.cdr.detectChanges()},error:err=>{console.error("Error fetching metadata from API",err)}})}goBack(){this.location.back()}fetchFileData(itemUuid,bitstreamUuid){this.videoError=!1,this.loadComments(bitstreamUuid),this.signpostingService.getLinks(itemUuid).subscribe(links=>{if(links&&links.length>0){const fileItem=links.find(item=>"item"===item.rel&&item.href.includes(bitstreamUuid));if(fileItem){this.fileType=fileItem.type;const lowerUrl=fileItem.href.toLowerCase();this.isPdfFile="application/pdf"===this.fileType||lowerUrl.endsWith(".pdf"),this.isImageFile=this.fileType.startsWith("image/")||[".jpg",".jpeg",".png",".gif",".bmp",".webp",".tiff",".svg"].some(ext=>lowerUrl.endsWith(ext)),this.isVideoFile=this.fileType.startsWith("video/")||[".mp4",".webm",".ogg",".mov",".avi",".mkv"].some(ext=>lowerUrl.endsWith(ext)),this.isAudioFile=this.fileType.startsWith("audio/")||[".mp3",".wav",".m4a",".ogg",".aac",".flac"].some(ext=>lowerUrl.endsWith(ext)),this.isPdfFile?this.fetchRestrictedPdf(bitstreamUuid):(this.fileUrl=fileItem.href,this.cdr.detectChanges())}else console.error("\u274c File with given bitstream UUID not found in signposting links")}else console.error("\u274c No signposting links found for this item")})}fetchRestrictedPdf(bitstreamUuid){this.isLoading=!0,this.pdfService.fetchRestrictedPdf(bitstreamUuid).subscribe({next:blob=>{const blobUrl=this.pdfService.createBlobUrl(blob);this.fileUrl=blobUrl,this.loadPdf(),this.isLoading=!1,this.cdr.detectChanges()},error:err=>{console.error("\u274c Error fetching restricted PDF:",err),this.isLoading=!1,this.cdr.detectChanges()}})}loadPdf(){pdf.getDocument({url:this.fileUrl}).promise.then(pdf2=>{this.pdfDoc=pdf2,this.totalPages=pdf2.numPages,this.currentPage=1,this.renderAllPages(),this.cdr.detectChanges()}).catch(err=>console.error("PDF loading error:",err))}renderAllPages(){const container=this.pdfContainer.nativeElement;container.innerHTML="";for(let pageNum=1;pageNum<=this.totalPages;pageNum++)this.pdfDoc.getPage(pageNum).then(page=>{const viewport=page.getViewport({scale:this.zoomLevel}),pageContainer=document.createElement("div");pageContainer.classList.add("page-container"),pageContainer.style.position="relative",pageContainer.style.margin="16px auto",pageContainer.dataset.pageNumber=pageNum.toString(),pageContainer.style.width=`${viewport.width}px`,pageContainer.style.height=`${viewport.height}px`;const canvas=document.createElement("canvas");canvas.width=viewport.width,canvas.height=viewport.height;const ctx=canvas.getContext("2d");page.render({canvasContext:ctx,viewport}),pageContainer.appendChild(canvas),container.appendChild(pageContainer),page.getTextContent().then(textContent=>{const textLayerDiv=document.createElement("div");textLayerDiv.className="textLayer",textLayerDiv.style.position="absolute",textLayerDiv.style.top="0",textLayerDiv.style.left="0",textLayerDiv.style.height=`${viewport.height}px`,textLayerDiv.style.width=`${viewport.width}px`,textLayerDiv.style.pointerEvents="none",pageContainer.appendChild(textLayerDiv),pdf.renderTextLayer({textContent,container:textLayerDiv,viewport,textDivs:[]}).promise.then(()=>{const termToHighlight=this.searchText?.trim()||this.searchTerm?.trim();termToHighlight&&this.highlightMatches(textLayerDiv,termToHighlight)})})})}highlightMatches(textLayerDiv,searchTerm){if(!searchTerm||""===searchTerm.trim())return;const normalizedSearch=searchTerm.trim().replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),regex=new RegExp(normalizedSearch,"gi");textLayerDiv.querySelectorAll("span mark.highlight-search").forEach(mark=>{const parent=mark.parentNode;parent&&(parent.replaceChild(document.createTextNode(mark.textContent||""),mark),parent.normalize())}),textLayerDiv.querySelectorAll("span").forEach(span=>{const text=span.textContent||"";if(!regex.test(text))return;regex.lastIndex=0;const frag=document.createDocumentFragment();let match,lastIndex=0;for(;null!==(match=regex.exec(text));){const start=match.index,end=start+match[0].length;lastIndex<start&&frag.appendChild(document.createTextNode(text.slice(lastIndex,start)));const highlight=document.createElement("mark");highlight.className="highlight-search",highlight.textContent=match[0],frag.appendChild(highlight),lastIndex=end}lastIndex<text.length&&frag.appendChild(document.createTextNode(text.slice(lastIndex))),span.innerHTML="",span.appendChild(frag)})}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.scrollToPage(this.currentPage))}prevPage(){this.currentPage>1&&(this.currentPage--,this.scrollToPage(this.currentPage))}scrollToPage(pageNumber){const container=this.pdfContainer.nativeElement,pages=container.querySelectorAll(".page-container");pages[pageNumber-1]&&container.scrollTo({top:pages[pageNumber-1].offsetTop-20,behavior:"smooth"})}updateCurrentPageOnScroll(){const container=this.pdfContainer.nativeElement,pages=Array.from(container.querySelectorAll(".page-container"));for(let i=0;i<pages.length;i++){const page=pages[i];if(container.scrollTop<page.offsetTop+page.offsetHeight/2){this.currentPage=i+1,this.cdr.detectChanges();break}}}ngAfterViewInit(){this.pdfContainer&&this.pdfContainer.nativeElement&&this.pdfContainer.nativeElement.addEventListener("scroll",()=>{this.updateCurrentPageOnScroll()})}zoomIn(){this.zoomLevel+=.2,this.renderAllPages()}zoomOut(){this.zoomLevel>.5&&(this.zoomLevel-=.2,this.renderAllPages())}toggleFullScreen(){const elem=document.querySelector(".file-container");elem&&!document.fullscreenElement?elem.requestFullscreen():document.exitFullscreen()}openInNewTab(){window.open(this.fileUrl,"_blank")}printFile(){if(!this.canPrintFile)return void console.warn("Print permission denied");const pdfWindow=window.open(this.fileUrl,"_blank");if(pdfWindow){const printListener=()=>{pdfWindow.focus(),pdfWindow.print(),pdfWindow.removeEventListener("load",printListener)};pdfWindow.addEventListener("load",printListener)}else alert("Popup blocked! Please allow popups for this site to print the PDF.")}downloadFile(){if(!this.canDownloadFile)return void console.warn("Download permission denied");let fileName="download.pdf";console.log("Current metadata array:",this.metadata);try{const caseTypeEntry=this.metadata.find(item=>"Case Type"===item.name),caseNumberEntry=this.metadata.find(item=>"Case Number"===item.name),caseYearEntry=this.metadata.find(item=>"Case Year"===item.name);console.log("Found metadata entries:",{caseTypeEntry,caseNumberEntry,caseYearEntry});const caseType=caseTypeEntry?.value?.trim()||"",caseNumber=caseNumberEntry?.value?.trim()||"",caseYear=caseYearEntry?.value?.trim()||"";if(console.log("Extracted values:",{caseType,caseNumber,caseYear}),caseType||caseNumber||caseYear){const sanitizeCaseType=caseType.replace(/[^a-zA-Z0-9]/g,""),sanitizeCaseNumber=caseNumber.replace(/[^a-zA-Z0-9]/g,""),sanitizeCaseYear=caseYear.replace(/[^a-zA-Z0-9]/g,""),filenameParts=[];sanitizeCaseType&&filenameParts.push(sanitizeCaseType),sanitizeCaseNumber&&filenameParts.push(sanitizeCaseNumber),sanitizeCaseYear&&filenameParts.push(sanitizeCaseYear),filenameParts.length>0&&(fileName=filenameParts.join("_")+".pdf",console.log("Generated custom filename:",fileName))}else{console.log("Trying flexible metadata search...");const caseTypeAlt=this.findMetadataByPartialName("type"),caseNumberAlt=this.findMetadataByPartialName("number"),caseYearAlt=this.findMetadataByPartialName("year");if(console.log("Flexible search results:",{caseTypeAlt,caseNumberAlt,caseYearAlt}),caseTypeAlt||caseNumberAlt||caseYearAlt){const sanitizeTypeAlt=(caseTypeAlt||"").replace(/[^a-zA-Z0-9]/g,""),sanitizeNumberAlt=(caseNumberAlt||"").replace(/[^a-zA-Z0-9]/g,""),sanitizeYearAlt=(caseYearAlt||"").replace(/[^a-zA-Z0-9]/g,""),altParts=[];sanitizeTypeAlt&&altParts.push(sanitizeTypeAlt),sanitizeNumberAlt&&altParts.push(sanitizeNumberAlt),sanitizeYearAlt&&altParts.push(sanitizeYearAlt),altParts.length>0&&(fileName=altParts.join("_")+".pdf",console.log("Generated alternative filename:",fileName))}}}catch(error){console.error("Error generating filename:",error)}console.log("Final download filename:",fileName),fetch(this.fileUrl).then(res=>{if(!res.ok)throw new Error("Network response was not ok");return res.blob()}).then(blob=>{const url=URL.createObjectURL(blob),a=document.createElement("a");a.href=url,a.download=fileName,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(url)}).catch(err=>{console.error("Download error:",err)})}findMetadataByPartialName(partialName){const lowerPartialName=partialName.toLowerCase();return this.metadata.find(item=>item.name.toLowerCase().includes(lowerPartialName))?.value?.trim()||""}imageZoomIn(){this.imageZoomLevel+=.2}imageZoomOut(){this.imageZoomLevel>.4&&(this.imageZoomLevel-=.2)}downloadImage(){if(!this.canDownloadFile)return void console.warn("Download permission denied");const img=new Image;img.crossOrigin="anonymous",img.src=this.fileUrl,img.onload=()=>{const canvas=document.createElement("canvas");canvas.width=img.naturalWidth,canvas.height=img.naturalHeight,canvas.getContext("2d")?.drawImage(img,0,0),canvas.toBlob(blob=>{if(blob){const url=URL.createObjectURL(blob),a=document.createElement("a");a.href=url,a.download=this.fileUrl.split("/").pop()||"image.jpg",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(url)}},"image/jpeg")},img.onerror=()=>{console.error("Image failed to load. Cannot download.")}}openImageInNewTab(){window.open(this.fileUrl,"_blank")}toggleImageFullScreen(){const elem=document.querySelector(".image-container");elem&&!document.fullscreenElement?elem.requestFullscreen():document.exitFullscreen()}toggleSearch(){this.isSearchVisible=!this.isSearchVisible,this.cdr.detectChanges(),this.isSearchVisible&&setTimeout(()=>{const searchInput=document.getElementById("pdf-search-input");searchInput&&searchInput.focus()},100)}onSearchInput(event){this.searchText=event.target.value}clearSearch(){this.searchText="",this.searchResults=[],this.currentSearchIndex=-1;const container=this.pdfContainer?.nativeElement;container&&(container.querySelectorAll(".textLayer").forEach(layer=>{layer.querySelectorAll("mark.highlight-search").forEach(mark=>{const parent=mark.parentNode;parent&&(parent.replaceChild(document.createTextNode(mark.textContent||""),mark),parent.normalize())})}),this.cdr.detectChanges())}searchPdf(){if(!this.searchText.trim()||!this.pdfDoc)return;this.searchResults=[],this.currentSearchIndex=-1;const searchPromises=[];for(let i=1;i<=this.totalPages;i++)searchPromises.push(this.pdfDoc.getPage(i).then(page=>page.getTextContent().then(textContent=>{const text=textContent.items.map(item=>item.str).join(" "),regex=new RegExp(this.searchText,"gi");let match;for(;null!==(match=regex.exec(text));)this.searchResults.push({pageNum:i,position:match.index,text:match[0]})})));Promise.all(searchPromises).then(()=>{this.searchResults.length>0&&(this.currentSearchIndex=0,this.renderAllPages(),setTimeout(()=>{this.navigateToSearchResult(0)},300)),this.cdr.detectChanges()})}navigateToSearchResult(index){if(index>=0&&index<this.searchResults.length){const result=this.searchResults[index];this.currentSearchIndex=index;const container=this.pdfContainer.nativeElement,targetPage=container.querySelectorAll(".page-container")[result.pageNum-1];if(targetPage){container.scrollTo({top:targetPage.offsetTop-50,behavior:"smooth"}),container.querySelectorAll(".highlight-search.active").forEach(el=>el.classList.remove("active")),container.querySelectorAll(".textLayer").forEach(layer=>{this.highlightMatches(layer,this.searchText)});const currentTextLayer=targetPage.querySelector(".textLayer");if(currentTextLayer){const matches=currentTextLayer.querySelectorAll(".highlight-search");matches.length>0&&matches[0].classList.add("active")}}}}nextSearchResult(){this.currentSearchIndex<this.searchResults.length-1&&this.navigateToSearchResult(this.currentSearchIndex+1)}prevSearchResult(){this.currentSearchIndex>0&&this.navigateToSearchResult(this.currentSearchIndex-1)}downloadVideo(){this.canDownloadFile?fetch(this.fileUrl).then(res=>{if(!res.ok)throw new Error("Network response was not ok");return res.blob()}).then(blob=>{const url=URL.createObjectURL(blob),a=document.createElement("a");a.href=url,a.download=this.fileUrl.split("/").pop()||"video.mp4",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(url)}).catch(err=>{console.error("Download error:",err)}):console.warn("Download permission denied")}openVideoInNewTab(){window.open(this.fileUrl,"_blank")}openAudioInNewTab(){window.open(this.fileUrl,"_blank")}downloadAudio(){this.canDownloadFile?fetch(this.fileUrl).then(res=>{if(!res.ok)throw new Error("Network response was not ok");return res.blob()}).then(blob=>{const url=URL.createObjectURL(blob),a=document.createElement("a");a.href=url,a.download=this.fileUrl.split("/").pop()||"audio.mp3",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(url)}).catch(err=>{console.error("Download error:",err)}):console.warn("Download permission denied")}ngOnDestroy(){localStorage.removeItem("pdfSearchTerm"),this.fileUrl&&this.fileUrl.startsWith("blob:")&&this.pdfService.revokeBlobUrl(this.fileUrl),document.body.classList.remove("can-print"),this.accessExpirationTimer&&this.accessExpirationTimer.unsubscribe(),this.accessCheckInterval&&this.accessCheckInterval.unsubscribe()}loadComments(bitstreamId){this.bitstreamCommentService.getComments(bitstreamId).subscribe({next:res=>{this.comments=res,this.cdr.detectChanges()},error:err=>console.error("Failed to load comments",err)})}addComment(){const comment=this.newCommentText.trim();comment&&!this.isAddingComment&&(this.isAddingComment=!0,this.bitstreamCommentService.addComment({bitstreamId:this.currentBitstreamId,comment}).subscribe({next:res=>{this.comments.push(res),this.newCommentText="",this.isAddingComment=!1,this.cdr.detectChanges()},error:err=>{console.error("Failed to add comment",err),this.isAddingComment=!1,this.cdr.detectChanges()}}))}confirmDelete(commentId){this.commentToDelete=commentId,this.showDeleteConfirmation=!0}cancelDelete(){this.showDeleteConfirmation=!1,this.commentToDelete=null}confirmDeleteComment(){null!==this.commentToDelete&&(this.deletingCommentId=this.commentToDelete,this.showDeleteConfirmation=!1,this.bitstreamCommentService.deleteComment(this.commentToDelete).subscribe({next:()=>{this.comments=this.comments.filter(c=>c.id!==this.commentToDelete),this.deletingCommentId=null,this.commentToDelete=null,this.cdr.detectChanges()},error:err=>{console.error("Delete failed",err),this.deletingCommentId=null,this.commentToDelete=null,this.cdr.detectChanges()}}))}toggleMetadataPanel(){this.isMetadataMinimized=!this.isMetadataMinimized}toggleCommentPanel(){this.isCommentMinimized=!this.isCommentMinimized}maximizePdfView(){this.isMetadataMinimized=!0,this.isCommentMinimized=!0}restorePanels(){this.isMetadataMinimized=!1,this.isCommentMinimized=!1}onVideoError(event){this.videoError=!0,console.error("Video failed to load:",this.fileUrl,event)}static{this.\u0275fac=function(t){return new(t||ViewerComponent2)(core.rXU(router.nX),core.rXU(signposting_data_service.z),core.rXU(SignpostingDataService1),core.rXU(common.aZ),core.rXU(core.gRc),core.rXU(http.Qq),core.rXU(PdfService),core.rXU(bitstream_permissions_service.l),core.rXU(BitstreamCommentService))}}static{this.\u0275cmp=core.VBU({type:ViewerComponent2,selectors:[["app-viewer"]],viewQuery:function(rf,ctx){if(1&rf&&core.GBs(_c0,5),2&rf){let _t;core.mGM(_t=core.lsd())&&(ctx.pdfContainer=_t.first)}},standalone:!0,features:[core.aNF],decls:25,vars:15,consts:[["pdfContainer",""],[1,"viewer-container"],[1,"file-header"],[1,"filename"],[1,"header-buttons"],[1,"icon-button",3,"click"],[1,"back-icon"],["class","icon-button",3,"click",4,"ngIf"],[1,"content-container",2,"display","flex","flex-direction","row","height","100%"],["class","metadata-container","style","width: 300px; background: white; overflow-y: auto; border-right: 1px solid #ddd;",4,"ngIf"],["class","icon-button panel-toggle minimized-left","title","Show Metadata",3,"click",4,"ngIf"],[1,"file-container",2,"flex","1","position","relative","overflow","hidden"],["class","loading-overlay",4,"ngIf"],["class","access-denied-container",4,"ngIf"],["class","pdf-container pdf-image-style",4,"ngIf"],["class","image-container",4,"ngIf"],["class","video-container",4,"ngIf"],["class","audio-container",4,"ngIf"],["class","permission-notice download-notice",4,"ngIf"],["class","permission-notice print-notice",4,"ngIf"],["class","comment-panel",4,"ngIf"],["class","icon-button panel-toggle minimized-right","title","Show Comments",3,"click",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"metadata-container",2,"width","300px","background","white","overflow-y","auto","border-right","1px solid #ddd"],[1,"metadata-header"],["title","Minimize Metadata Panel",1,"icon-button","panel-toggle",3,"click"],[1,"fas","fa-chevron-left"],[1,"metadata-table"],[4,"ngFor","ngForOf"],["title","Show Metadata",1,"icon-button","panel-toggle","minimized-left",3,"click"],[1,"fas","fa-chevron-right"],[1,"loading-overlay"],[1,"spinner-container"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[1,"access-denied-container"],[1,"access-denied-message"],[1,"btn","btn-primary","mt-3",3,"click"],[1,"pdf-container","pdf-image-style"],["class","access-info-banner",4,"ngIf"],["role","toolbar","aria-label","PDF toolbar",1,"toolbar","pdf-toolbar-image","pdf-toolbar-header"],[1,"icon-button","panel-toggle",3,"click","ngClass","title"],[1,"fas",3,"ngClass"],[1,"pdf-toolbar-center-group"],["class","icon-button","title","Maximize PDF View",3,"click",4,"ngIf"],["class","icon-button","title","Restore Panels",3,"click",4,"ngIf"],[1,"toolbar-left","toolbar-group"],["aria-label","Page navigation",1,"page-navigation"],["title","Previous Page","aria-label","Previous Page",1,"arrow-button","up-arrow",3,"click","disabled"],[1,"fas","fa-chevron-up"],["aria-label","Current Page",1,"page-number-box"],["title","Next Page","aria-label","Next Page",1,"arrow-button","down-arrow",3,"click","disabled"],[1,"fas","fa-chevron-down"],[1,"page-separator"],["title","Search in PDF","aria-label","Search in PDF",1,"icon-button",3,"click"],[1,"fas","fa-search"],[1,"toolbar-center","toolbar-group"],["title","Zoom Out","aria-label","Zoom Out",1,"icon-button",3,"click"],[1,"fas","fa-search-minus"],[1,"zoom-level"],["title","Zoom In","aria-label","Zoom In",1,"icon-button",3,"click"],[1,"fas","fa-search-plus"],[1,"toolbar-right","toolbar-group"],["class","icon-button","title","Print PDF","aria-label","Print PDF",3,"click",4,"ngIf"],["class","icon-button","title","Download PDF","aria-label","Download PDF",3,"click",4,"ngIf"],["class","search-bar pdf-search-bar-image",4,"ngIf"],["aria-label","PDF document area",1,"pdf-scroll-container","pdf-scroll-image"],[1,"access-info-banner"],[1,"fas","fa-clock"],["title","Maximize PDF View",1,"icon-button",3,"click"],[1,"fas","fa-expand"],["title","Restore Panels",1,"icon-button",3,"click"],[1,"fas","fa-compress"],["title","Print PDF","aria-label","Print PDF",1,"icon-button",3,"click"],[1,"fas","fa-print"],["title","Download PDF","aria-label","Download PDF",1,"icon-button",3,"click"],[1,"fas","fa-download"],[1,"search-bar","pdf-search-bar-image"],[1,"search-input-container"],["id","pdf-search-input","placeholder","Search in document...","aria-label","Search in document",3,"ngModelChange","keyup.enter","ngModel"],["title","Search","aria-label","Search",3,"click"],["title","Clear search","aria-label","Clear search",1,"clear-button",3,"click"],[1,"fas","fa-times"],["class","search-navigation",4,"ngIf"],[1,"search-navigation"],["title","Previous result","aria-label","Previous result",1,"icon-button",3,"click","disabled"],["title","Next result","aria-label","Next result",1,"icon-button",3,"click","disabled"],[1,"image-container"],[1,"toolbar","toolbarimg"],[1,"toolbar-left"],[1,"toolbar-right"],[1,"pdf-scroll-container"],["alt","Document Image",1,"responsive-image",3,"src"],[1,"video-container"],[1,"toolbar","toolbar-video"],["controls","","preload","metadata",1,"responsive-video",3,"error","src"],["class","video-error-message",4,"ngIf"],[1,"video-error-message"],[1,"audio-container"],[1,"toolbar","toolbar-audio"],["controls","","preload","metadata",1,"responsive-audio",3,"src"],[1,"permission-notice","download-notice"],[1,"permission-notice","print-notice"],[1,"comment-panel"],["class","no-comments",4,"ngIf"],["class","comment-box",4,"ngFor","ngForOf"],[1,"add-comment-box"],["placeholder","Add comment...","rows","3",3,"ngModelChange","ngModel","disabled"],[3,"click","disabled"],["style","margin-top: 8px; font-size: 12px; color: #666; font-style: italic;",4,"ngIf"],[1,"no-comments"],[2,"color","#666","font-style","italic"],[1,"comment-box"],[1,"comment-header"],[1,"comment-author"],[1,"comment-date"],[1,"comment-body"],["class","comment-actions",4,"ngIf"],[1,"comment-actions"],[1,"delete-button",3,"click","disabled"],[2,"margin-top","8px","font-size","12px","color","#666","font-style","italic"],["title","Show Comments",1,"icon-button","panel-toggle","minimized-right",3,"click"],[1,"modal-overlay",3,"click"],[1,"confirmation-modal",3,"click"],[1,"modal-header"],[1,"modal-body"],[1,"warning-text"],[1,"modal-footer"],[1,"btn-cancel",3,"click"],[1,"btn-delete",3,"click"]],template:function(rf,ctx){1&rf&&(core.j41(0,"div",1)(1,"div",2)(2,"span",3),core.EFF(3),core.k0s(),core.j41(4,"div",4)(5,"button",5),core.bIt("click",function(){return ctx.goBack()}),core.j41(6,"i",6),core.EFF(7,"\u2190"),core.k0s(),core.EFF(8," Back"),core.k0s(),core.DNE(9,ViewerComponent_button_9_Template,2,0,"button",7),core.k0s()(),core.j41(10,"div",8),core.DNE(11,ViewerComponent_div_11_Template,14,1,"div",9)(12,ViewerComponent_button_12_Template,2,0,"button",10),core.j41(13,"div",11),core.DNE(14,ViewerComponent_div_14_Template,7,1,"div",12)(15,ViewerComponent_div_15_Template,8,1,"div",13)(16,ViewerComponent_div_16_Template,36,24,"div",14)(17,ViewerComponent_div_17_Template,18,8,"div",15)(18,ViewerComponent_div_18_Template,9,3,"div",16)(19,ViewerComponent_div_19_Template,8,2,"div",17)(20,ViewerComponent_div_20_Template,2,0,"div",18)(21,ViewerComponent_div_21_Template,2,0,"div",19),core.k0s(),core.DNE(22,ViewerComponent_div_22_Template,11,7,"div",20)(23,ViewerComponent_button_23_Template,2,0,"button",21),core.k0s(),core.DNE(24,ViewerComponent_div_24_Template,15,0,"div",22),core.k0s()),2&rf&&(core.R7$(3),core.JRh(ctx.fileUrl.split("/").pop()),core.R7$(6),core.Y8G("ngIf",ctx.hasTimeAccess),core.R7$(2),core.Y8G("ngIf",!ctx.isMetadataMinimized),core.R7$(),core.Y8G("ngIf",ctx.isMetadataMinimized),core.R7$(2),core.Y8G("ngIf",ctx.isLoading||ctx.checkingPermissions),core.R7$(),core.Y8G("ngIf",!ctx.hasTimeAccess&&!ctx.isLoading&&!ctx.checkingPermissions),core.R7$(),core.Y8G("ngIf",ctx.isPdfFile&&ctx.hasTimeAccess),core.R7$(),core.Y8G("ngIf",ctx.isImageFile&&ctx.hasTimeAccess),core.R7$(),core.Y8G("ngIf",ctx.isVideoFile&&ctx.hasTimeAccess),core.R7$(),core.Y8G("ngIf",ctx.isAudioFile&&ctx.hasTimeAccess),core.R7$(),core.Y8G("ngIf",!ctx.canDownloadFile&&ctx.hasTimeAccess),core.R7$(),core.Y8G("ngIf",!ctx.canPrintFile&&ctx.hasTimeAccess),core.R7$(),core.Y8G("ngIf",!ctx.isCommentMinimized),core.R7$(),core.Y8G("ngIf",ctx.isCommentMinimized),core.R7$(),core.Y8G("ngIf",ctx.showDeleteConfirmation))},dependencies:[common.MD,common.YU,common.Sq,common.bT,common.QX,common.vh,fesm2022_forms.YN,fesm2022_forms.me,fesm2022_forms.BC,fesm2022_forms.vS],styles:['.viewer-container{display:flex;flex-direction:column;height:100vh}.file-header{display:flex;justify-content:space-between;align-items:center;padding:8px 16px;background-color:#fff;border-bottom:1px solid #ddd}.filename{font-weight:500;font-size:14px}.header-buttons{display:flex;gap:8px}.icon-button{display:flex;align-items:center;padding:4px 8px;background-color:#fff;border:1px solid #ccc;border-radius:3px;cursor:pointer;font-size:12px}.back-icon{margin-right:4px}.content-container{display:flex;flex:1;overflow:hidden}.metadata-container{width:300px;min-width:300px;background-color:#fff;border-right:1px solid #ddd;display:flex;flex-direction:column;overflow-y:auto;max-height:100vh}.metadata-header{padding:8px 12px;background-color:#f0f0f0;border-bottom:1px solid #ddd;font-weight:500;font-size:14px}.metadata-table{flex:1;overflow-y:auto}.metadata-table table{width:100%;border-collapse:collapse}.metadata-table th{background-color:#f5f5f5;text-align:left;padding:8px 12px;font-size:13px;font-weight:500;border-bottom:1px solid #ddd}.metadata-table td{padding:8px 12px;font-size:13px;border-bottom:1px solid #eee}.file-container{flex:1;display:flex;flex-direction:column;overflow:hidden}.pdf-container{flex:1;display:flex;flex-direction:column;position:relative;overflow:hidden}.toolbar{position:sticky;top:0;left:0;right:0;display:flex;justify-content:space-between;padding:10px;background:#f8f8f8;border-bottom:1px solid #ddd;z-index:10}.toolbar-left,.toolbar-center,.toolbar-right{display:flex;align-items:center;gap:8px}.page-navigation{display:flex;align-items:center;margin:0 8px}.page-number-container{display:flex;align-items:center}.page-number-box{width:30px;height:24px;display:flex;align-items:center;justify-content:center;border:1px solid #ccc;background-color:#fff;border-radius:3px;font-size:13px}.page-arrows{display:flex;flex-direction:column;margin-left:2px}.arrow-button{width:16px;height:12px;display:flex;align-items:center;justify-content:center;background-color:#f0f0f0;border:1px solid #ccc;border-radius:2px;padding:0;font-size:8px;cursor:pointer}.up-arrow{margin-bottom:1px}.down-arrow{margin-top:1px}.page-separator{margin-left:4px;font-size:13px}.pdf-scroll-container canvas{display:block;margin:0 auto 16px;box-shadow:0 0 8px #0000001a;background-color:#fff}canvas{display:block;margin:0 auto}.pdf-scroll-container canvas{max-width:100%;width:auto}.pdf-scroll-container::-webkit-scrollbar{width:8px}.pdf-scroll-container::-webkit-scrollbar-track{background:#f1f1f1}.pdf-scroll-container::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.pdf-scroll-container::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.pdf-scroll-container{flex:1;overflow:auto;padding:16px;display:flex;flex-direction:column;align-items:center}canvas{margin-bottom:16px;box-shadow:0 0 8px #0000001a;background-color:#fff;max-width:100%}.image-container{display:flex;justify-content:center;align-items:center;height:100%;overflow:auto;background-color:#fff;width:100%}.toolbarimg{position:sticky;top:0;left:0;right:0;display:flex;justify-content:space-around;padding:10px;background:#f8f8f8;border-bottom:1px solid #ddd;z-index:10;width:100%}.responsive-image{max-width:100%;max-height:100%;object-fit:contain}.metadata-table::-webkit-scrollbar{width:8px}.metadata-table::-webkit-scrollbar-track{background:#f1f1f1}.metadata-table::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.metadata-table::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.image-container{flex:1;display:flex;flex-direction:column;overflow:hidden;background-color:#fff}.image-container .toolbar-left,.image-container .toolbar-right{display:flex;align-items:center;gap:8px}.image-container .pdf-scroll-container{flex:1;overflow:auto;padding:16px;display:flex;flex-direction:column;align-items:center;width:100%;box-sizing:border-box}.image-container .responsive-image{max-width:100%;max-height:none;margin-bottom:16px;box-shadow:0 0 8px #0000001a;background-color:#fff;transition:transform .3s ease}.search-button{display:flex;align-items:center;justify-content:center}.search-icon{font-size:14px}.search-bar{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;background-color:#f0f0f0;border-bottom:1px solid #ddd}.search-input-container{display:flex;flex:1;max-width:500px}.search-input-container input{flex:1;padding:6px 10px;border:1px solid #ccc;border-radius:3px;font-size:13px;margin-right:8px}.search-input-container button{padding:6px 12px;background-color:#f8f8f8;border:1px solid #ccc;border-radius:3px;cursor:pointer;font-size:13px}.search-navigation{display:flex;align-items:center;gap:8px;font-size:13px}.search-navigation .icon-button{padding:2px 4px}.search-navigation .icon-button[disabled]{opacity:.5;cursor:not-allowed}.clear-button{margin-left:5px}.textLayer{position:absolute;top:0;left:0;z-index:2;width:100%;height:100%;line-height:1;white-space:pre;color:#0000!important;pointer-events:none;opacity:1!important}.textLayer span{position:absolute;white-space:pre;transform-origin:0 0;background:none!important;color:#0000!important}.textLayer mark.highlight-search{background-color:#ff0!important;color:#0000!important;mix-blend-mode:multiply;border-radius:2px;opacity:.6}@media (prefers-color-scheme: dark){.textLayer mark.highlight-search{background-color:#ff06!important;mix-blend-mode:screen}}.responsive-video{width:100%;max-height:80vh}.toolbar-video{display:flex;justify-content:flex-end;padding:10px;gap:8px}.responsive-audio{width:100%;max-height:80vh}.toolbar-audio{display:flex;justify-content:flex-end;padding:10px;gap:8px}.loading-overlay{position:absolute;inset:0;background-color:#fffc;display:flex;justify-content:center;align-items:center;z-index:10}.spinner-container{text-align:center}.permission-notice{margin:10px;padding:8px 12px;border-radius:4px;font-size:14px;display:flex;align-items:center;gap:8px}.download-notice,.print-notice{background-color:#f8f9fa;border-left:4px solid #6c757d}.access-denied-container{display:flex;justify-content:center;align-items:center;min-height:400px;width:100%}.access-denied-message{text-align:center;background-color:#f8f9fa;border-radius:8px;padding:30px;max-width:500px;box-shadow:0 4px 6px #0000001a}.access-icon{font-size:48px;margin-bottom:20px;color:#6c757d}.access-denied-message h3{margin-bottom:16px;color:#343a40}.access-denied-message p{color:#495057;margin-bottom:16px}.access-timing{background-color:#e9ecef;padding:10px;border-radius:4px;margin:16px 0}.access-info-banner{background:#f4f6fa;color:#1976d2;border-left:4px solid #1976d2;border-radius:6px;padding:10px 18px;margin:16px 0 0;font-size:15px;font-weight:500;display:flex;align-items:center;gap:10px;box-shadow:0 2px 8px #1976d20f;letter-spacing:.01em}.access-info-banner i{font-size:18px!important;color:#1976d2!important;margin-right:6px}@media print{body:not(.can-print) *{display:none!important}body:not(.can-print):before{content:"Printing is not permitted for this document.";display:block!important;text-align:center;font-size:24px;margin-top:40vh}}.comment-panel{background:#f9f9f9;border-left:1px solid #ccc;padding:1rem;max-width:300px;overflow-y:auto}.comment-box{background-color:#f8f9fa;border:1px solid #ddd;border-radius:8px;padding:12px 16px;margin-bottom:12px;box-shadow:0 1px 3px #0000000d}.comment-header{display:flex;justify-content:space-between;font-size:.875rem;color:#555;margin-bottom:8px}.comment-author{font-weight:700}.comment-date{color:#888;font-style:italic}.comment-body{font-size:1rem;margin-bottom:8px;color:#333}.comment-actions{text-align:right}.delete-button{background:none;border:none;color:#d9534f;font-size:.9rem;cursor:pointer;padding:4px 8px;border-radius:4px;transition:background-color .2s ease}.delete-button:hover{background-color:#f2dede}.add-comment-box{margin-top:16px;padding:12px;background-color:#fff;border-radius:8px;border:1px solid #ddd}.add-comment-box textarea{width:100%;resize:vertical;min-height:60px;padding:8px;border:1px solid #ccc;border-radius:4px;font-family:inherit;font-size:14px;margin-bottom:8px}.add-comment-box textarea:disabled{background-color:#f5f5f5;color:#666}.add-comment-box button{background-color:#007bff;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .2s ease}.add-comment-box button:hover:not(:disabled){background-color:#0056b3}.add-comment-box button:disabled{background-color:#6c757d;cursor:not-allowed}.no-comments{text-align:center;padding:20px;color:#666;font-style:italic}.enhanced-pdf-viewer{background:#f4f6fa;border-radius:16px;box-shadow:0 4px 24px #00000014;margin:16px 0;padding-bottom:8px;transition:box-shadow .2s}.enhanced-toolbar{background:#fff;border-radius:12px 12px 0 0;box-shadow:0 2px 8px #0000000a;padding:14px 24px;margin:0 8px;display:flex;align-items:center;gap:0;min-height:56px}.toolbar-group{display:flex;align-items:center;gap:16px}.enhanced-toolbar .icon-button,.enhanced-toolbar .arrow-button{background:#f4f6fa;border:none;border-radius:6px;font-size:18px;padding:8px 12px;margin:0 2px;transition:background .15s,box-shadow .15s,color .15s;box-shadow:0 1px 2px #00000008;color:#2d3a4a;outline:none}.enhanced-toolbar .icon-button:focus,.enhanced-toolbar .arrow-button:focus{box-shadow:0 0 0 2px #1976d2}.enhanced-toolbar .icon-button:hover:not(:disabled),.enhanced-toolbar .arrow-button:hover:not(:disabled){background:#e3eaf6;color:#1976d2}.enhanced-toolbar .icon-button:active,.enhanced-toolbar .arrow-button:active{background:#dbe6f7}.enhanced-toolbar .icon-button[disabled],.enhanced-toolbar .arrow-button[disabled]{opacity:.5;cursor:not-allowed}.page-number-box{background:#fff;border:1.5px solid #dbe6f7;border-radius:6px;font-size:16px;font-weight:600;width:40px;height:36px;display:flex;align-items:center;justify-content:center;margin:0 6px;box-shadow:0 1px 2px #00000008}.page-separator{margin-left:8px;font-size:15px;color:#888}.zoom-level{font-size:15px;font-weight:500;margin:0 8px;color:#1976d2}.enhanced-search-bar{background:#e3eaf6;border-radius:0 0 12px 12px;margin:0 8px 8px;padding:10px 18px;display:flex;align-items:center;gap:16px;box-shadow:0 2px 8px #00000008}.enhanced-search-bar .search-input-container{flex:1;display:flex;align-items:center;background:#fff;border-radius:6px;box-shadow:0 1px 2px #00000008;padding:2px 8px}.enhanced-search-bar input[type=text],.enhanced-search-bar input[type=search]{border:none;background:#0000;font-size:15px;padding:8px 6px;outline:none;flex:1}.enhanced-search-bar button{background:none;border:none;color:#1976d2;font-size:18px;margin-left:4px;padding:6px 8px;border-radius:4px;transition:background .15s,color .15s}.enhanced-search-bar button:hover:not(:disabled){background:#dbe6f7;color:#1251a0}.enhanced-search-bar .clear-button{color:#d32f2f}.enhanced-search-bar .clear-button:hover{background:#fbe9e7;color:#b71c1c}.enhanced-pdf-scroll{background:#f4f6fa;border-radius:0 0 12px 12px;padding:24px 0;min-height:60vh;box-shadow:0 2px 8px #00000008}.enhanced-pdf-scroll canvas{border-radius:12px;box-shadow:0 4px 24px #0000001a;margin-bottom:32px;background:#fff;transition:box-shadow .2s}@media (max-width: 900px){.enhanced-toolbar,.enhanced-search-bar{flex-direction:column;align-items:stretch;gap:8px;padding:10px 8px}.enhanced-pdf-viewer{border-radius:8px;margin:8px 0}.enhanced-pdf-scroll{border-radius:0 0 8px 8px;padding:12px 0}}@media (max-width: 600px){.enhanced-toolbar,.enhanced-search-bar{flex-direction:column;align-items:stretch;gap:6px;padding:8px 2px}.enhanced-pdf-viewer{border-radius:4px;margin:4px 0}.enhanced-pdf-scroll{border-radius:0 0 4px 4px;padding:6px 0}}.modal-overlay{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;animation:fadeIn .2s ease-out}.confirmation-modal{background:#fff;border-radius:8px;box-shadow:0 10px 25px #0003;max-width:400px;width:90%;animation:slideIn .3s ease-out}.modal-header{padding:20px 24px 16px;border-bottom:1px solid #e9ecef}.modal-header h3{margin:0;font-size:1.25rem;font-weight:600;color:#343a40}.modal-body{padding:20px 24px}.modal-body p{margin:0 0 12px;color:#495057;line-height:1.5}.warning-text{color:#dc3545!important;font-size:.9rem;font-style:italic}.modal-footer{padding:16px 24px 20px;display:flex;justify-content:flex-end;gap:12px;border-top:1px solid #e9ecef}.btn-cancel,.btn-delete{padding:8px 20px;border:none;border-radius:4px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;min-width:80px}.btn-cancel{background-color:#6c757d;color:#fff}.btn-cancel:hover{background-color:#5a6268}.btn-delete{background-color:#dc3545;color:#fff}.btn-delete:hover{background-color:#c82333}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@media (max-width: 480px){.confirmation-modal{margin:20px;width:calc(100% - 40px)}.modal-footer{flex-direction:column}.btn-cancel,.btn-delete{width:100%}}.pdf-image-style{background:#f8f9fb!important;border-radius:0!important;box-shadow:none!important;margin:0!important;padding:0!important;min-height:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start}.pdf-toolbar-image{background:#f8f9fb!important;border-radius:0!important;box-shadow:none!important;padding:8px 0!important;margin:0!important;min-height:40px;display:flex;align-items:center;justify-content:center;border-bottom:1px solid #e0e0e0}.pdf-toolbar-image .toolbar-group{gap:12px}.pdf-toolbar-image .icon-button,.pdf-toolbar-image .arrow-button{background:#fff!important;border:1px solid #e0e0e0!important;border-radius:4px!important;font-size:16px!important;padding:6px 10px!important;margin:0 2px!important;color:#2d3a4a!important;box-shadow:none!important;transition:background .15s,color .15s}.pdf-toolbar-image .icon-button:hover:not(:disabled),.pdf-toolbar-image .arrow-button:hover:not(:disabled){background:#f0f4fa!important;color:#1976d2!important}.pdf-toolbar-image .icon-button:active,.pdf-toolbar-image .arrow-button:active{background:#e3eaf6!important}.pdf-toolbar-image .icon-button[disabled],.pdf-toolbar-image .arrow-button[disabled]{opacity:.5;cursor:not-allowed}.pdf-toolbar-image .page-number-box{background:#fff!important;border:1px solid #e0e0e0!important;border-radius:4px!important;font-size:15px!important;font-weight:600;width:36px;height:32px;display:flex;align-items:center;justify-content:center;margin:0 4px!important;box-shadow:none!important}.pdf-toolbar-image .zoom-level{font-size:14px!important;font-weight:500;margin:0 6px!important;color:#1976d2!important}.pdf-search-bar-image{background:#f8f9fb!important;border-radius:0!important;margin:0!important;padding:8px 0!important;display:flex;align-items:center;gap:12px;box-shadow:none!important;border-bottom:1px solid #e0e0e0}.pdf-search-bar-image .search-input-container{flex:1;display:flex;align-items:center;background:#fff!important;border-radius:4px!important;box-shadow:none!important;padding:2px 8px!important;border:1px solid #e0e0e0!important}.pdf-search-bar-image input[type=text],.pdf-search-bar-image input[type=search]{border:none!important;background:#0000!important;font-size:14px!important;padding:7px 6px!important;outline:none!important;flex:1}.pdf-search-bar-image button{background:none!important;border:none!important;color:#1976d2!important;font-size:16px!important;margin-left:4px!important;padding:6px 8px!important;border-radius:4px!important;transition:background .15s,color .15s}.pdf-search-bar-image button:hover:not(:disabled){background:#e3eaf6!important;color:#1251a0!important}.pdf-search-bar-image .clear-button{color:#d32f2f!important}.pdf-search-bar-image .clear-button:hover{background:#fbe9e7!important;color:#b71c1c!important}.pdf-scroll-image{background:#f8f9fb!important;border-radius:0!important;padding:0!important;min-height:60vh;box-shadow:none!important;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.pdf-scroll-image canvas{border-radius:0!important;box-shadow:none!important;margin-bottom:24px!important;background:#fff!important;max-width:100%!important;height:auto!important;display:block}@media (max-width: 900px){.pdf-toolbar-image,.pdf-search-bar-image{flex-direction:column;align-items:stretch;gap:8px;padding:8px 0!important}.pdf-image-style{border-radius:0!important;margin:0!important}.pdf-scroll-image{border-radius:0!important;padding:0!important}}@media (max-width: 600px){.pdf-toolbar-image,.pdf-search-bar-image{flex-direction:column;align-items:stretch;gap:6px;padding:6px 0!important}.pdf-image-style{border-radius:0!important;margin:0!important}.pdf-scroll-image{border-radius:0!important;padding:0!important}}@media print{body.print-pdf-only .viewer-container>*:not(.content-container),body.print-pdf-only .content-container>*:not(.file-container),body.print-pdf-only .file-container>*:not(.pdf-container),body.print-pdf-only .pdf-container>*:not(.pdf-scroll-container),body.print-pdf-only .pdf-container>*:not(.pdf-scroll-image),body.print-pdf-only .pdf-container>*:not(.enhanced-pdf-scroll){display:none!important}body.print-pdf-only .pdf-scroll-container,body.print-pdf-only .pdf-scroll-image,body.print-pdf-only .enhanced-pdf-scroll{display:block!important;position:static!important;background:#fff!important;box-shadow:none!important;padding:0!important;margin:0!important;width:100vw!important;min-height:100vh!important}body.print-pdf-only .pdf-scroll-container canvas,body.print-pdf-only .pdf-scroll-image canvas,body.print-pdf-only .enhanced-pdf-scroll canvas{box-shadow:none!important;border-radius:0!important;margin:0 auto!important;background:#fff!important;width:100%!important;max-width:100vw!important;height:auto!important;page-break-after:always;page-break-inside:avoid}html,body{background:#fff!important;margin:0!important;padding:0!important;width:100vw!important;min-height:100vh!important}}.pdf-toolbar-header{display:flex;align-items:center;justify-content:space-between;background:#f8f9fb!important;border-bottom:1px solid #e0e0e0;padding:0!important;min-height:44px;position:relative;z-index:2}.pdf-toolbar-center-group{display:flex;align-items:center;justify-content:center;flex:1;gap:16px}.panel-toggle{background:#fff!important;border:1px solid #e0e0e0!important;border-radius:4px!important;font-size:16px!important;padding:4px 8px!important;margin:0 2px!important;color:#2d3a4a!important;box-shadow:none!important;transition:background .15s,color .15s;min-width:32px;min-height:32px;display:flex;align-items:center;justify-content:center}.panel-toggle:hover:not(:disabled){background:#f0f4fa!important;color:#1976d2!important}.panel-toggle:active{background:#e3eaf6!important}.minimized-left{position:absolute;left:0;top:50%;transform:translateY(-50%);z-index:3}.minimized-right{position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:3}@media (max-width: 900px){.pdf-toolbar-header{flex-direction:column;min-height:60px;padding:0!important}.pdf-toolbar-center-group{flex-direction:column;gap:8px}}@media (max-width: 600px){.pdf-toolbar-header{flex-direction:column;min-height:60px;padding:0!important}.pdf-toolbar-center-group{flex-direction:column;gap:6px}}.pdf-toolbar-header .icon-button i,.pdf-toolbar-header .panel-toggle i{font-size:15px!important;color:#b0b4bb!important;transition:color .15s,background .15s}.pdf-toolbar-header .icon-button:hover i,.pdf-toolbar-header .panel-toggle:hover i{color:#1976d2!important}.pdf-toolbar-header .icon-button:active i,.pdf-toolbar-header .panel-toggle:active i{color:#1251a0!important}.pdf-toolbar-header .icon-button,.pdf-toolbar-header .panel-toggle{min-width:28px;min-height:28px;padding:2px 6px!important;border-radius:4px!important;background:#f8f9fb!important;border:1px solid #e0e0e0!important;box-shadow:none!important}.pdf-toolbar-header .icon-button:focus,.pdf-toolbar-header .panel-toggle:focus{outline:2px solid #b0b4bb}.icon-button i,.panel-toggle i{font-size:15px!important;color:#b0b4bb!important;transition:color .15s,background .15s}.icon-button:hover i,.panel-toggle:hover i{color:#1976d2!important}.icon-button:active i,.panel-toggle:active i{color:#1251a0!important}\n'],encapsulation:2})}}return ViewerComponent2})()}]},51198:(module,__unused_webpack_exports,__webpack_require__)=>{var _asyncToGenerator=__webpack_require__(75453).default,factory;globalThis,factory=()=>(()=>{"use strict";var __webpack_modules__=[,(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.VerbosityLevel=exports2.Util=exports2.UnknownErrorException=exports2.UnexpectedResponseException=exports2.UNSUPPORTED_FEATURES=exports2.TextRenderingMode=exports2.StreamType=exports2.RenderingIntentFlag=exports2.PermissionFlag=exports2.PasswordResponses=exports2.PasswordException=exports2.PageActionEventType=exports2.OPS=exports2.MissingPDFException=exports2.LINE_FACTOR=exports2.LINE_DESCENT_FACTOR=exports2.InvalidPDFException=exports2.ImageKind=exports2.IDENTITY_MATRIX=exports2.FormatError=exports2.FontType=exports2.FeatureTest=exports2.FONT_IDENTITY_MATRIX=exports2.DocumentActionEventType=exports2.CMapCompressionType=exports2.BaseException=exports2.AnnotationType=exports2.AnnotationStateModelType=exports2.AnnotationReviewState=exports2.AnnotationReplyType=exports2.AnnotationMode=exports2.AnnotationMarkedState=exports2.AnnotationFlag=exports2.AnnotationFieldFlag=exports2.AnnotationEditorType=exports2.AnnotationEditorPrefix=exports2.AnnotationEditorParamsType=exports2.AnnotationBorderStyleType=exports2.AnnotationActionEventType=exports2.AbortException=void 0,exports2.arrayByteLength=arrayByteLength,exports2.arraysToBytes=function arraysToBytes(arr){const length=arr.length;if(1===length&&arr[0]instanceof Uint8Array)return arr[0];let resultLength=0;for(let i=0;i<length;i++)resultLength+=arrayByteLength(arr[i]);let pos=0;const data=new Uint8Array(resultLength);for(let i=0;i<length;i++){let item=arr[i];item instanceof Uint8Array||(item="string"==typeof item?stringToBytes(item):new Uint8Array(item));const itemLength=item.byteLength;data.set(item,pos),pos+=itemLength}return data},exports2.assert=function assert(cond,msg){cond||unreachable(msg)},exports2.bytesToString=function bytesToString(bytes){("object"!=typeof bytes||null===bytes||void 0===bytes.length)&&unreachable("Invalid argument for bytesToString");const length=bytes.length;if(length<8192)return String.fromCharCode.apply(null,bytes);const strBuf=[];for(let i=0;i<length;i+=8192){const chunkEnd=Math.min(i+8192,length),chunk=bytes.subarray(i,chunkEnd);strBuf.push(String.fromCharCode.apply(null,chunk))}return strBuf.join("")},exports2.createPromiseCapability=function createPromiseCapability(){const capability=Object.create(null);let isSettled=!1;return Object.defineProperty(capability,"settled",{get:()=>isSettled}),capability.promise=new Promise(function(resolve,reject){capability.resolve=function(data){isSettled=!0,resolve(data)},capability.reject=function(reason){isSettled=!0,reject(reason)}}),capability},exports2.createValidAbsoluteUrl=function createValidAbsoluteUrl(url,baseUrl=null,options=null){if(!url)return null;try{if(options&&"string"==typeof url){if(options.addDefaultProtocol&&url.startsWith("www.")){const dots=url.match(/\./g);dots&&dots.length>=2&&(url=`http://${url}`)}if(options.tryConvertEncoding)try{url=stringToUTF8String(url)}catch{}}const absoluteUrl=baseUrl?new URL(url,baseUrl):new URL(url);if(function _isValidProtocol(url){if(!url)return!1;switch(url.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(absoluteUrl))return absoluteUrl}catch{}return null},exports2.escapeString=function escapeString(str){return str.replace(/([()\\\n\r])/g,match=>"\n"===match?"\\n":"\r"===match?"\\r":`\\${match}`)},exports2.getModificationDate=function getModificationDate(date=new Date){return[date.getUTCFullYear().toString(),(date.getUTCMonth()+1).toString().padStart(2,"0"),date.getUTCDate().toString().padStart(2,"0"),date.getUTCHours().toString().padStart(2,"0"),date.getUTCMinutes().toString().padStart(2,"0"),date.getUTCSeconds().toString().padStart(2,"0")].join("")},exports2.getVerbosityLevel=function getVerbosityLevel(){return verbosity},exports2.info=function info(msg){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${msg}`)},exports2.isArrayBuffer=function isArrayBuffer(v){return"object"==typeof v&&null!==v&&void 0!==v.byteLength},exports2.isArrayEqual=function isArrayEqual(arr1,arr2){if(arr1.length!==arr2.length)return!1;for(let i=0,ii=arr1.length;i<ii;i++)if(arr1[i]!==arr2[i])return!1;return!0},exports2.isAscii=function isAscii(str){return/^[\x00-\x7F]*$/.test(str)},exports2.objectFromMap=function objectFromMap(map){const obj=Object.create(null);for(const[key,value]of map)obj[key]=value;return obj},exports2.objectSize=function objectSize(obj){return Object.keys(obj).length},exports2.setVerbosityLevel=function setVerbosityLevel(level){Number.isInteger(level)&&(verbosity=level)},exports2.shadow=shadow,exports2.string32=function string32(value){return String.fromCharCode(value>>24&255,value>>16&255,value>>8&255,255&value)},exports2.stringToBytes=stringToBytes,exports2.stringToPDFString=function stringToPDFString(str){if(str[0]>="\xef"){let encoding;if("\xfe"===str[0]&&"\xff"===str[1]?encoding="utf-16be":"\xff"===str[0]&&"\xfe"===str[1]?encoding="utf-16le":"\xef"===str[0]&&"\xbb"===str[1]&&"\xbf"===str[2]&&(encoding="utf-8"),encoding)try{const decoder=new TextDecoder(encoding,{fatal:!0}),buffer=stringToBytes(str);return decoder.decode(buffer)}catch(ex){warn(`stringToPDFString: "${ex}".`)}}const strBuf=[];for(let i=0,ii=str.length;i<ii;i++){const code=PDFStringTranslateTable[str.charCodeAt(i)];strBuf.push(code?String.fromCharCode(code):str.charAt(i))}return strBuf.join("")},exports2.stringToUTF16BEString=function stringToUTF16BEString(str){const buf=["\xfe\xff"];for(let i=0,ii=str.length;i<ii;i++){const char=str.charCodeAt(i);buf.push(String.fromCharCode(char>>8&255),String.fromCharCode(255&char))}return buf.join("")},exports2.stringToUTF8String=stringToUTF8String,exports2.unreachable=unreachable,exports2.utf8StringToString=function utf8StringToString(str){return unescape(encodeURIComponent(str))},exports2.warn=warn,__w_pdfjs_require__2(2),exports2.IDENTITY_MATRIX=[1,0,0,1,0,0],exports2.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],exports2.LINE_FACTOR=1.35,exports2.LINE_DESCENT_FACTOR=.35,exports2.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},exports2.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},exports2.AnnotationEditorPrefix="pdfjs_internal_editor_",exports2.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},exports2.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},exports2.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},exports2.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},exports2.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},exports2.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},exports2.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},exports2.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},exports2.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},exports2.AnnotationReplyType={GROUP:"Group",REPLY:"R"},exports2.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},exports2.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},exports2.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},exports2.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},exports2.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},exports2.PageActionEventType={O:"PageOpen",C:"PageClose"},exports2.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},exports2.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5};exports2.VerbosityLevel=VerbosityLevel,exports2.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},exports2.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},exports2.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},exports2.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function warn(msg){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${msg}`)}function unreachable(msg){throw new Error(msg)}function shadow(obj,prop,value){return Object.defineProperty(obj,prop,{value,enumerable:!0,configurable:!0,writable:!1}),value}const BaseException=function(){function BaseException2(message,name){this.constructor===BaseException2&&unreachable("Cannot initialize BaseException."),this.message=message,this.name=name}return BaseException2.prototype=new Error,BaseException2.constructor=BaseException2,BaseException2}();function stringToBytes(str){"string"!=typeof str&&unreachable("Invalid argument for stringToBytes");const length=str.length,bytes=new Uint8Array(length);for(let i=0;i<length;++i)bytes[i]=255&str.charCodeAt(i);return bytes}function arrayByteLength(arr){return void 0!==arr.length?arr.length:void 0!==arr.byteLength?arr.byteLength:void unreachable("Invalid argument for arrayByteLength")}exports2.BaseException=BaseException,exports2.PasswordException=class PasswordException extends BaseException{constructor(msg,code){super(msg,"PasswordException"),this.code=code}},exports2.UnknownErrorException=class UnknownErrorException extends BaseException{constructor(msg,details){super(msg,"UnknownErrorException"),this.details=details}},exports2.InvalidPDFException=class InvalidPDFException extends BaseException{constructor(msg){super(msg,"InvalidPDFException")}},exports2.MissingPDFException=class MissingPDFException extends BaseException{constructor(msg){super(msg,"MissingPDFException")}},exports2.UnexpectedResponseException=class UnexpectedResponseException extends BaseException{constructor(msg,status){super(msg,"UnexpectedResponseException"),this.status=status}},exports2.FormatError=class FormatError extends BaseException{constructor(msg){super(msg,"FormatError")}},exports2.AbortException=class AbortException extends BaseException{constructor(msg){super(msg,"AbortException")}},exports2.FeatureTest=class FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",function isLittleEndian(){const buffer8=new Uint8Array(4);return buffer8[0]=1,1===new Uint32Array(buffer8.buffer,0,1)[0]}())}static get isEvalSupported(){return shadow(this,"isEvalSupported",function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const hexNumbers=[...Array(256).keys()].map(n=>n.toString(16).padStart(2,"0"));class Util{static makeHexColor(r,g,b){return`#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`}static scaleMinMax(transform,minMax){let temp;transform[0]?(transform[0]<0&&(temp=minMax[0],minMax[0]=minMax[1],minMax[1]=temp),minMax[0]*=transform[0],minMax[1]*=transform[0],transform[3]<0&&(temp=minMax[2],minMax[2]=minMax[3],minMax[3]=temp),minMax[2]*=transform[3],minMax[3]*=transform[3]):(temp=minMax[0],minMax[0]=minMax[2],minMax[2]=temp,temp=minMax[1],minMax[1]=minMax[3],minMax[3]=temp,transform[1]<0&&(temp=minMax[2],minMax[2]=minMax[3],minMax[3]=temp),minMax[2]*=transform[1],minMax[3]*=transform[1],transform[2]<0&&(temp=minMax[0],minMax[0]=minMax[1],minMax[1]=temp),minMax[0]*=transform[2],minMax[1]*=transform[2]),minMax[0]+=transform[4],minMax[1]+=transform[4],minMax[2]+=transform[5],minMax[3]+=transform[5]}static transform(m1,m2){return[m1[0]*m2[0]+m1[2]*m2[1],m1[1]*m2[0]+m1[3]*m2[1],m1[0]*m2[2]+m1[2]*m2[3],m1[1]*m2[2]+m1[3]*m2[3],m1[0]*m2[4]+m1[2]*m2[5]+m1[4],m1[1]*m2[4]+m1[3]*m2[5]+m1[5]]}static applyTransform(p,m){return[p[0]*m[0]+p[1]*m[2]+m[4],p[0]*m[1]+p[1]*m[3]+m[5]]}static applyInverseTransform(p,m){const d=m[0]*m[3]-m[1]*m[2];return[(p[0]*m[3]-p[1]*m[2]+m[2]*m[5]-m[4]*m[3])/d,(-p[0]*m[1]+p[1]*m[0]+m[4]*m[1]-m[5]*m[0])/d]}static getAxialAlignedBoundingBox(r,m){const p1=Util.applyTransform(r,m),p2=Util.applyTransform(r.slice(2,4),m),p3=Util.applyTransform([r[0],r[3]],m),p4=Util.applyTransform([r[2],r[1]],m);return[Math.min(p1[0],p2[0],p3[0],p4[0]),Math.min(p1[1],p2[1],p3[1],p4[1]),Math.max(p1[0],p2[0],p3[0],p4[0]),Math.max(p1[1],p2[1],p3[1],p4[1])]}static inverseTransform(m){const d=m[0]*m[3]-m[1]*m[2];return[m[3]/d,-m[1]/d,-m[2]/d,m[0]/d,(m[2]*m[5]-m[4]*m[3])/d,(m[4]*m[1]-m[5]*m[0])/d]}static apply3dTransform(m,v){return[m[0]*v[0]+m[1]*v[1]+m[2]*v[2],m[3]*v[0]+m[4]*v[1]+m[5]*v[2],m[6]*v[0]+m[7]*v[1]+m[8]*v[2]]}static singularValueDecompose2dScale(m){const transpose=[m[0],m[2],m[1],m[3]],a=m[0]*transpose[0]+m[1]*transpose[2],d=m[2]*transpose[1]+m[3]*transpose[3],first=(a+d)/2,second=Math.sqrt((a+d)**2-4*(a*d-(m[2]*transpose[0]+m[3]*transpose[2])*(m[0]*transpose[1]+m[1]*transpose[3])))/2,sy=first-second||1;return[Math.sqrt(first+second||1),Math.sqrt(sy)]}static normalizeRect(rect){const r=rect.slice(0);return rect[0]>rect[2]&&(r[0]=rect[2],r[2]=rect[0]),rect[1]>rect[3]&&(r[1]=rect[3],r[3]=rect[1]),r}static intersect(rect1,rect2){const xLow=Math.max(Math.min(rect1[0],rect1[2]),Math.min(rect2[0],rect2[2])),xHigh=Math.min(Math.max(rect1[0],rect1[2]),Math.max(rect2[0],rect2[2]));if(xLow>xHigh)return null;const yLow=Math.max(Math.min(rect1[1],rect1[3]),Math.min(rect2[1],rect2[3])),yHigh=Math.min(Math.max(rect1[1],rect1[3]),Math.max(rect2[1],rect2[3]));return yLow>yHigh?null:[xLow,yLow,xHigh,yHigh]}static bezierBoundingBox(x0,y0,x1,y1,x2,y2,x3,y3){const tvalues=[],bounds=[[],[]];let a,b,c,t,t1,t2,b2ac,sqrtb2ac;for(let i=0;i<2;++i)if(0===i?(b=6*x0-12*x1+6*x2,a=-3*x0+9*x1-9*x2+3*x3,c=3*x1-3*x0):(b=6*y0-12*y1+6*y2,a=-3*y0+9*y1-9*y2+3*y3,c=3*y1-3*y0),Math.abs(a)<1e-12){if(Math.abs(b)<1e-12)continue;t=-c/b,0<t&&t<1&&tvalues.push(t)}else b2ac=b*b-4*c*a,sqrtb2ac=Math.sqrt(b2ac),!(b2ac<0)&&(t1=(-b+sqrtb2ac)/(2*a),0<t1&&t1<1&&tvalues.push(t1),t2=(-b-sqrtb2ac)/(2*a),0<t2&&t2<1&&tvalues.push(t2));let mt,j=tvalues.length;const jlen=j;for(;j--;)t=tvalues[j],mt=1-t,bounds[0][j]=mt*mt*mt*x0+3*mt*mt*t*x1+3*mt*t*t*x2+t*t*t*x3,bounds[1][j]=mt*mt*mt*y0+3*mt*mt*t*y1+3*mt*t*t*y2+t*t*t*y3;return bounds[0][jlen]=x0,bounds[1][jlen]=y0,bounds[0][jlen+1]=x3,bounds[1][jlen+1]=y3,bounds[0].length=bounds[1].length=jlen+2,[Math.min(...bounds[0]),Math.min(...bounds[1]),Math.max(...bounds[0]),Math.max(...bounds[1])]}}exports2.Util=Util;const PDFStringTranslateTable=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function stringToUTF8String(str){return decodeURIComponent(escape(str))}},(__unused_webpack_module2,__unused_webpack_exports2,__w_pdfjs_require__2)=>{__w_pdfjs_require__2(3)},(__unused_webpack_module2,exports2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.isNodeJS=void 0;const isNodeJS=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);exports2.isNodeJS=isNodeJS},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory,NodeCMapReaderFactory,NodeStandardFontDataFactory}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=NodeCanvasFactory,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=NodeCMapReaderFactory,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=NodeStandardFontDataFactory}function setPDFNetworkStreamFactory(pdfNetworkStreamFactory){createPDFNetworkStream=pdfNetworkStreamFactory}function getDocument(src){const task=new PDFDocumentLoadingTask;let source;if("string"==typeof src||src instanceof URL)source={url:src};else if((0,_util.isArrayBuffer)(src))source={data:src};else if(src instanceof PDFDataRangeTransport)source={range:src};else{if("object"!=typeof src)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!src.url&&!src.data&&!src.range)throw new Error("Invalid parameter object: need either .data, .range or .url");source=src}const params=Object.create(null);let rangeTransport=null,worker2=null;for(const key in source){const value=source[key];switch(key){case"url":if(typeof window<"u")try{params[key]=new URL(value,window.location).href;continue}catch(ex){(0,_util.warn)(`Cannot create valid URL: "${ex}".`)}else if("string"==typeof value||value instanceof URL){params[key]=value.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":rangeTransport=value;continue;case"worker":worker2=value;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&value instanceof Buffer)params[key]=new Uint8Array(value);else{if(value instanceof Uint8Array)break;if("string"==typeof value)params[key]=(0,_util.stringToBytes)(value);else if("object"!=typeof value||null===value||isNaN(value.length)){if(!(0,_util.isArrayBuffer)(value))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");params[key]=new Uint8Array(value)}else params[key]=new Uint8Array(value)}continue}params[key]=value}if(params.CMapReaderFactory=params.CMapReaderFactory||DefaultCMapReaderFactory,params.StandardFontDataFactory=params.StandardFontDataFactory||DefaultStandardFontDataFactory,params.ignoreErrors=!0!==params.stopAtErrors,params.fontExtraProperties=!0===params.fontExtraProperties,params.pdfBug=!0===params.pdfBug,params.enableXfa=!0===params.enableXfa,(!Number.isInteger(params.rangeChunkSize)||params.rangeChunkSize<1)&&(params.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof params.docBaseUrl||(0,_display_utils.isDataScheme)(params.docBaseUrl))&&(params.docBaseUrl=null),(!Number.isInteger(params.maxImageSize)||params.maxImageSize<-1)&&(params.maxImageSize=-1),"string"!=typeof params.cMapUrl&&(params.cMapUrl=null),"string"!=typeof params.standardFontDataUrl&&(params.standardFontDataUrl=null),"boolean"!=typeof params.useWorkerFetch&&(params.useWorkerFetch=params.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&params.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof params.isEvalSupported&&(params.isEvalSupported=!0),"boolean"!=typeof params.disableFontFace&&(params.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof params.useSystemFonts&&(params.useSystemFonts=!_is_node.isNodeJS&&!params.disableFontFace),("object"!=typeof params.ownerDocument||null===params.ownerDocument)&&(params.ownerDocument=globalThis.document),"boolean"!=typeof params.disableRange&&(params.disableRange=!1),"boolean"!=typeof params.disableStream&&(params.disableStream=!1),"boolean"!=typeof params.disableAutoFetch&&(params.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(params.verbosity),!worker2){const workerParams={verbosity:params.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};worker2=workerParams.port?PDFWorker.fromPort(workerParams):new PDFWorker(workerParams),task._worker=worker2}const docId=task.docId;return worker2.promise.then(function(){if(task.destroyed)throw new Error("Loading aborted");const workerIdPromise=_fetchDocument(worker2,params,rangeTransport,docId),networkStreamPromise=new Promise(function(resolve){let networkStream;rangeTransport?networkStream=new _transport_stream.PDFDataTransportStream({length:params.length,initialData:params.initialData,progressiveDone:params.progressiveDone,contentDispositionFilename:params.contentDispositionFilename,disableRange:params.disableRange,disableStream:params.disableStream},rangeTransport):params.data||(networkStream=createPDFNetworkStream({url:params.url,length:params.length,httpHeaders:params.httpHeaders,withCredentials:params.withCredentials,rangeChunkSize:params.rangeChunkSize,disableRange:params.disableRange,disableStream:params.disableStream})),resolve(networkStream)});return Promise.all([workerIdPromise,networkStreamPromise]).then(function([workerId,networkStream]){if(task.destroyed)throw new Error("Loading aborted");const messageHandler=new _message_handler.MessageHandler(docId,workerId,worker2.port),transport=new WorkerTransport(messageHandler,task,networkStream,params);task._transport=transport,messageHandler.send("Ready",null)})}).catch(task._capability.reject),task}function _fetchDocument(_x,_x2,_x3,_x4){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(worker2,source,pdfDataRangeTransport,docId){if(worker2.destroyed)throw new Error("Worker was destroyed");pdfDataRangeTransport&&(source.length=pdfDataRangeTransport.length,source.initialData=pdfDataRangeTransport.initialData,source.progressiveDone=pdfDataRangeTransport.progressiveDone,source.contentDispositionFilename=pdfDataRangeTransport.contentDispositionFilename);const workerId=yield worker2.messageHandler.sendWithPromise("GetDocRequest",{docId,apiVersion:"2.16.105",source:{data:source.data,url:source.url,password:source.password,disableAutoFetch:source.disableAutoFetch,rangeChunkSize:source.rangeChunkSize,length:source.length},maxImageSize:source.maxImageSize,disableFontFace:source.disableFontFace,docBaseUrl:source.docBaseUrl,ignoreErrors:source.ignoreErrors,isEvalSupported:source.isEvalSupported,fontExtraProperties:source.fontExtraProperties,enableXfa:source.enableXfa,useSystemFonts:source.useSystemFonts,cMapUrl:source.useWorkerFetch?source.cMapUrl:null,standardFontDataUrl:source.useWorkerFetch?source.standardFontDataUrl:null});if(source.data&&(source.data=null),worker2.destroyed)throw new Error("Worker was destroyed");return workerId})).apply(this,arguments)}class PDFDocumentLoadingTask{static#docId=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#docId++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var _this=this;return _asyncToGenerator(function*(){_this.destroyed=!0,yield _this._transport?.destroy(),_this._transport=null,_this._worker&&(_this._worker.destroy(),_this._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(length,initialData,progressiveDone=!1,contentDispositionFilename=null){this.length=length,this.initialData=initialData,this.progressiveDone=progressiveDone,this.contentDispositionFilename=contentDispositionFilename,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(listener){this._rangeListeners.push(listener)}addProgressListener(listener){this._progressListeners.push(listener)}addProgressiveReadListener(listener){this._progressiveReadListeners.push(listener)}addProgressiveDoneListener(listener){this._progressiveDoneListeners.push(listener)}onDataRange(begin,chunk){for(const listener of this._rangeListeners)listener(begin,chunk)}onDataProgress(loaded,total){this._readyCapability.promise.then(()=>{for(const listener of this._progressListeners)listener(loaded,total)})}onDataProgressiveRead(chunk){this._readyCapability.promise.then(()=>{for(const listener of this._progressiveReadListeners)listener(chunk)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const listener of this._progressiveDoneListeners)listener()})}transportReady(){this._readyCapability.resolve()}requestDataRange(begin,end){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(pdfInfo,transport){var _ref,_this2=this;this._pdfInfo=pdfInfo,this._transport=transport,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(_ref=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),_this2.stats||{streamTypes:{},fontTypes:{}}}),function(){return _ref.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(pageNumber){return this._transport.getPage(pageNumber)}getPageIndex(ref){return this._transport.getPageIndex(ref)}getDestinations(){return this._transport.getDestinations()}getDestination(id){return this._transport.getDestination(id)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(keepLoadedFonts=!1){return this._transport.startCleanup(keepLoadedFonts||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(pageIndex,pageInfo,transport,ownerDocument,pdfBug=!1){this._pageIndex=pageIndex,this._pageInfo=pageInfo,this._ownerDocument=ownerDocument,this._transport=transport,this._stats=pdfBug?new _display_utils.StatTimer:null,this._pdfBug=pdfBug,this.commonObjs=transport.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale,rotation=this.rotate,offsetX=0,offsetY=0,dontFlip=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale,rotation,offsetX,offsetY,dontFlip})}getAnnotations({intent="display"}={}){const intentArgs=this._transport.getRenderingIntent(intent);let promise=this._annotationPromises.get(intentArgs.cacheKey);return promise||(promise=this._transport.getAnnotations(this._pageIndex,intentArgs.renderingIntent),this._annotationPromises.set(intentArgs.cacheKey,promise),promise=promise.then(annotations=>{for(const annotation of annotations)void 0!==annotation.titleObj&&Object.defineProperty(annotation,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),annotation.titleObj.str)}),void 0!==annotation.contentsObj&&Object.defineProperty(annotation,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),annotation.contentsObj.str)});return annotations})),promise}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var _this3=this;return _asyncToGenerator(function*(){return _this3._transport._htmlForXfa?.children[_this3._pageIndex]||null})()}render({canvasContext,viewport,intent="display",annotationMode=_util.AnnotationMode.ENABLE,transform=null,imageLayer=null,canvasFactory=null,background=null,optionalContentConfigPromise=null,annotationCanvasMap=null,pageColors=null,printAnnotationStorage=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&annotationMode===_util.AnnotationMode.ENABLE&&(annotationMode=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&annotationMode===_util.AnnotationMode.ENABLE&&(annotationMode=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const intentArgs=this._transport.getRenderingIntent(intent,annotationMode,printAnnotationStorage);this.pendingCleanup=!1,optionalContentConfigPromise||(optionalContentConfigPromise=this._transport.getOptionalContentConfig());let intentState=this._intentStates.get(intentArgs.cacheKey);intentState||(intentState=Object.create(null),this._intentStates.set(intentArgs.cacheKey,intentState)),intentState.streamReaderCancelTimeout&&(clearTimeout(intentState.streamReaderCancelTimeout),intentState.streamReaderCancelTimeout=null);const canvasFactoryInstance=canvasFactory||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),intentPrint=!!(intentArgs.renderingIntent&_util.RenderingIntentFlag.PRINT);intentState.displayReadyCapability||(intentState.displayReadyCapability=(0,_util.createPromiseCapability)(),intentState.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(intentArgs));const complete=error=>{intentState.renderTasks.delete(internalRenderTask),(this.cleanupAfterRender||intentPrint)&&(this.pendingCleanup=!0),this._tryCleanup(),error?(internalRenderTask.capability.reject(error),this._abortOperatorList({intentState,reason:error instanceof Error?error:new Error(error)})):internalRenderTask.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},internalRenderTask=new InternalRenderTask({callback:complete,params:{canvasContext,viewport,transform,imageLayer,background},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap,operatorList:intentState.operatorList,pageIndex:this._pageIndex,canvasFactory:canvasFactoryInstance,useRequestAnimationFrame:!intentPrint,pdfBug:this._pdfBug,pageColors});(intentState.renderTasks||=new Set).add(internalRenderTask);const renderTask=internalRenderTask.task;return Promise.all([intentState.displayReadyCapability.promise,optionalContentConfigPromise]).then(([transparency,optionalContentConfig])=>{this.pendingCleanup?complete():(this._stats&&this._stats.time("Rendering"),internalRenderTask.initializeGraphics({transparency,optionalContentConfig}),internalRenderTask.operatorListChanged())}).catch(complete),renderTask}getOperatorList({intent="display",annotationMode=_util.AnnotationMode.ENABLE,printAnnotationStorage=null}={}){const intentArgs=this._transport.getRenderingIntent(intent,annotationMode,printAnnotationStorage,!0);let opListTask,intentState=this._intentStates.get(intentArgs.cacheKey);return intentState||(intentState=Object.create(null),this._intentStates.set(intentArgs.cacheKey,intentState)),intentState.opListReadCapability||(opListTask=Object.create(null),opListTask.operatorListChanged=function operatorListChanged(){intentState.operatorList.lastChunk&&(intentState.opListReadCapability.resolve(intentState.operatorList),intentState.renderTasks.delete(opListTask))},intentState.opListReadCapability=(0,_util.createPromiseCapability)(),(intentState.renderTasks||=new Set).add(opListTask),intentState.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(intentArgs)),intentState.opListReadCapability.promise}streamTextContent({disableCombineTextItems=!1,includeMarkedContent=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==disableCombineTextItems,includeMarkedContent:!0===includeMarkedContent},{highWaterMark:100,size:textContent=>textContent.items.length})}getTextContent(params={}){if(this._transport._htmlForXfa)return this.getXfa().then(xfa=>_xfa_text.XfaText.textContent(xfa));const readableStream=this.streamTextContent(params);return new Promise(function(resolve,reject){const reader=readableStream.getReader(),textContent={items:[],styles:Object.create(null)};!function pump(){reader.read().then(function({value,done}){done?resolve(textContent):(Object.assign(textContent.styles,value.styles),textContent.items.push(...value.items),pump())},reject)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const waitOn=[];for(const intentState of this._intentStates.values())if(this._abortOperatorList({intentState,reason:new Error("Page was destroyed."),force:!0}),!intentState.opListReadCapability)for(const internalRenderTask of intentState.renderTasks)waitOn.push(internalRenderTask.completed),internalRenderTask.cancel();this.objs.clear();for(const bitmap of this._bitmaps)bitmap.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(waitOn)}cleanup(resetStats=!1){return this.pendingCleanup=!0,this._tryCleanup(resetStats)}_tryCleanup(resetStats=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks,operatorList}of this._intentStates.values())if(renderTasks.size>0||!operatorList.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,resetStats&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const bitmap of this._bitmaps)bitmap.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(transparency,cacheKey){const intentState=this._intentStates.get(cacheKey);intentState&&(this._stats&&this._stats.timeEnd("Page Request"),intentState.displayReadyCapability&&intentState.displayReadyCapability.resolve(transparency))}_renderPageChunk(operatorListChunk,intentState){for(let i=0,ii=operatorListChunk.length;i<ii;i++)intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]),intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);intentState.operatorList.lastChunk=operatorListChunk.lastChunk,intentState.operatorList.separateAnnots=operatorListChunk.separateAnnots;for(const internalRenderTask of intentState.renderTasks)internalRenderTask.operatorListChanged();operatorListChunk.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent,cacheKey,annotationStorageMap}){const reader=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:renderingIntent,cacheKey,annotationStorage:annotationStorageMap}).getReader(),intentState=this._intentStates.get(cacheKey);intentState.streamReader=reader;const pump=()=>{reader.read().then(({value,done})=>{done?intentState.streamReader=null:this._transport.destroyed||(this._renderPageChunk(value,intentState),pump())},reason=>{if(intentState.streamReader=null,!this._transport.destroyed){if(intentState.operatorList){intentState.operatorList.lastChunk=!0;for(const internalRenderTask of intentState.renderTasks)internalRenderTask.operatorListChanged();this._tryCleanup()}if(intentState.displayReadyCapability)intentState.displayReadyCapability.reject(reason);else{if(!intentState.opListReadCapability)throw reason;intentState.opListReadCapability.reject(reason)}}})};pump()}_abortOperatorList({intentState,reason,force=!1}){if(intentState.streamReader){if(!force){if(intentState.renderTasks.size>0)return;if(reason instanceof _display_utils.RenderingCancelledException)return void(intentState.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState,reason,force:!0}),intentState.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(intentState.streamReader.cancel(new _util.AbortException(reason.message)).catch(()=>{}),intentState.streamReader=null,!this._transport.destroyed){for(const[curCacheKey,curIntentState]of this._intentStates)if(curIntentState===intentState){this._intentStates.delete(curCacheKey);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(obj,transfers){const event={data:structuredClone(obj,transfers)};this._deferred.then(()=>{for(const listener of this._listeners)listener.call(this,event)})}addEventListener(name,listener){this._listeners.push(listener)}removeEventListener(name,listener){const i=this._listeners.indexOf(listener);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const pdfjsFilePath=document?.currentScript?.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(baseUrl,otherUrl){let base;try{if(base=new URL(baseUrl),!base.origin||"null"===base.origin)return!1}catch{return!1}const other=new URL(otherUrl,base);return base.origin===other.origin},PDFWorkerUtil.createCDNWrapper=function(url){return URL.createObjectURL(new Blob([`importScripts("${url}");`]))};class PDFWorker{static#workerPorts=new WeakMap;constructor({name=null,port=null,verbosity=(0,_util.getVerbosityLevel)()}={}){if(port&&PDFWorker.#workerPorts.has(port))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=name,this.destroyed=!1,this.verbosity=verbosity,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,port)return PDFWorker.#workerPorts.set(port,this),void this._initializeFromPort(port);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(port){this._port=port,this._messageHandler=new _message_handler.MessageHandler("main","worker",port),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,workerSrc)||(workerSrc=PDFWorkerUtil.createCDNWrapper(new URL(workerSrc,window.location).href));const worker2=new Worker(workerSrc),messageHandler=new _message_handler.MessageHandler("main","worker",worker2),terminateEarly=()=>{worker2.removeEventListener("error",onWorkerError),messageHandler.destroy(),worker2.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},onWorkerError=()=>{this._webWorker||terminateEarly()};worker2.addEventListener("error",onWorkerError),messageHandler.on("test",data=>{worker2.removeEventListener("error",onWorkerError),this.destroyed?terminateEarly():data?(this._messageHandler=messageHandler,this._port=worker2,this._webWorker=worker2,this._readyCapability.resolve(),messageHandler.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),messageHandler.destroy(),worker2.terminate())}),messageHandler.on("ready",data=>{if(worker2.removeEventListener("error",onWorkerError),this.destroyed)terminateEarly();else try{sendTest()}catch{this._setupFakeWorker()}});const sendTest=()=>{const testObj=new Uint8Array;messageHandler.send("test",testObj,[testObj.buffer])};return void sendTest()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(WorkerMessageHandler=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const port=new LoopbackPort;this._port=port;const id="fake"+PDFWorkerUtil.fakeWorkerId++,workerHandler=new _message_handler.MessageHandler(id+"_worker",id,port);WorkerMessageHandler.setup(workerHandler,port);const messageHandler=new _message_handler.MessageHandler(id,id+"_worker",port);this._messageHandler=messageHandler,this._readyCapability.resolve(),messageHandler.send("configure",{verbosity:this.verbosity})}).catch(reason=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${reason.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(params){if(!params?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#workerPorts.has(params.port)?this.#workerPorts.get(params.port):new PDFWorker(params)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function loader2(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#docStats=null;#pageCache=new Map;#pagePromises=new Map;#metadataPromise=null;constructor(messageHandler,loadingTask,networkStream,params){this.messageHandler=messageHandler,this.loadingTask=loadingTask,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:loadingTask.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:params.ownerDocument,styleElement:params.styleElement}),this._params=params,params.useWorkerFetch||(this.CMapReaderFactory=new params.CMapReaderFactory({baseUrl:params.cMapUrl,isCompressed:params.cMapPacked}),this.StandardFontDataFactory=new params.StandardFontDataFactory({baseUrl:params.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=networkStream,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#docStats}getRenderingIntent(intent,annotationMode=_util.AnnotationMode.ENABLE,printAnnotationStorage=null,isOpList=!1){let renderingIntent=_util.RenderingIntentFlag.DISPLAY,annotationMap=null;switch(intent){case"any":renderingIntent=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":renderingIntent=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${intent}`)}switch(annotationMode){case _util.AnnotationMode.DISABLE:renderingIntent+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:renderingIntent+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:renderingIntent+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,annotationMap=(renderingIntent&_util.RenderingIntentFlag.PRINT&&printAnnotationStorage instanceof _annotation_storage.PrintAnnotationStorage?printAnnotationStorage:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${annotationMode}`)}return isOpList&&(renderingIntent+=_util.RenderingIntentFlag.OPLIST),{renderingIntent,cacheKey:`${renderingIntent}_${_annotation_storage.AnnotationStorage.getHash(annotationMap)}`,annotationStorageMap:annotationMap}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const waitOn=[];for(const page of this.#pageCache.values())waitOn.push(page._destroy());this.#pageCache.clear(),this.#pagePromises.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const terminated=this.messageHandler.sendWithPromise("Terminate",null);return waitOn.push(terminated),Promise.all(waitOn).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#metadataPromise=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler,loadingTask}=this;messageHandler.on("GetReader",(data,sink)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=evt=>{this._lastProgress={loaded:evt.loaded,total:evt.total}},sink.onPull=()=>{this._fullReader.read().then(function({value,done}){done?sink.close():((0,_util.assert)((0,_util.isArrayBuffer)(value),"GetReader - expected an ArrayBuffer."),sink.enqueue(new Uint8Array(value),1,[value]))}).catch(reason=>{sink.error(reason)})},sink.onCancel=reason=>{this._fullReader.cancel(reason),sink.ready.catch(readyReason=>{if(!this.destroyed)throw readyReason})}}),messageHandler.on("ReaderHeadersReady",data=>{const headersCapability=(0,_util.createPromiseCapability)(),fullReader=this._fullReader;return fullReader.headersReady.then(()=>{(!fullReader.isStreamingSupported||!fullReader.isRangeSupported)&&(this._lastProgress&&loadingTask.onProgress?.(this._lastProgress),fullReader.onProgress=evt=>{loadingTask.onProgress?.({loaded:evt.loaded,total:evt.total})}),headersCapability.resolve({isStreamingSupported:fullReader.isStreamingSupported,isRangeSupported:fullReader.isRangeSupported,contentLength:fullReader.contentLength})},headersCapability.reject),headersCapability.promise}),messageHandler.on("GetRangeReader",(data,sink)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const rangeReader=this._networkStream.getRangeReader(data.begin,data.end);rangeReader?(sink.onPull=()=>{rangeReader.read().then(function({value,done}){done?sink.close():((0,_util.assert)((0,_util.isArrayBuffer)(value),"GetRangeReader - expected an ArrayBuffer."),sink.enqueue(new Uint8Array(value),1,[value]))}).catch(reason=>{sink.error(reason)})},sink.onCancel=reason=>{rangeReader.cancel(reason),sink.ready.catch(readyReason=>{if(!this.destroyed)throw readyReason})}):sink.close()}),messageHandler.on("GetDoc",({pdfInfo})=>{this._numPages=pdfInfo.numPages,this._htmlForXfa=pdfInfo.htmlForXfa,delete pdfInfo.htmlForXfa,loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo,this))}),messageHandler.on("DocException",function(ex){let reason;switch(ex.name){case"PasswordException":reason=new _util.PasswordException(ex.message,ex.code);break;case"InvalidPDFException":reason=new _util.InvalidPDFException(ex.message);break;case"MissingPDFException":reason=new _util.MissingPDFException(ex.message);break;case"UnexpectedResponseException":reason=new _util.UnexpectedResponseException(ex.message,ex.status);break;case"UnknownErrorException":reason=new _util.UnknownErrorException(ex.message,ex.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}loadingTask._capability.reject(reason)}),messageHandler.on("PasswordRequest",exception=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),loadingTask.onPassword){const updatePassword=password=>{password instanceof Error?this._passwordCapability.reject(password):this._passwordCapability.resolve({password})};try{loadingTask.onPassword(updatePassword,exception.code)}catch(ex){this._passwordCapability.reject(ex)}}else this._passwordCapability.reject(new _util.PasswordException(exception.message,exception.code));return this._passwordCapability.promise}),messageHandler.on("DataLoaded",data=>{loadingTask.onProgress?.({loaded:data.length,total:data.length}),this.downloadInfoCapability.resolve(data)}),messageHandler.on("StartRenderPage",data=>{this.destroyed||this.#pageCache.get(data.pageIndex)._startRenderPage(data.transparency,data.cacheKey)}),messageHandler.on("commonobj",([id,type,exportedData])=>{if(!this.destroyed&&!this.commonObjs.has(id))switch(type){case"Font":const params=this._params;if("error"in exportedData){const exportedError=exportedData.error;(0,_util.warn)(`Error during font loading: ${exportedError}`),this.commonObjs.resolve(id,exportedError);break}let fontRegistry=null;params.pdfBug&&globalThis.FontInspector?.enabled&&(fontRegistry={registerFont(font2,url){globalThis.FontInspector.fontAdded(font2,url)}});const font=new _font_loader.FontFaceObject(exportedData,{isEvalSupported:params.isEvalSupported,disableFontFace:params.disableFontFace,ignoreErrors:params.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry});this.fontLoader.bind(font).catch(reason=>messageHandler.sendWithPromise("FontFallback",{id})).finally(()=>{!params.fontExtraProperties&&font.data&&(font.data=null),this.commonObjs.resolve(id,font)});break;case"FontPath":case"Image":this.commonObjs.resolve(id,exportedData);break;default:throw new Error(`Got unknown common object type ${type}`)}}),messageHandler.on("obj",([id,pageIndex,type,imageData])=>{if(this.destroyed)return;const pageProxy=this.#pageCache.get(pageIndex);if(!pageProxy.objs.has(id))switch(type){case"Image":pageProxy.objs.resolve(id,imageData);const MAX_IMAGE_SIZE_TO_STORE=8e6;if(imageData){let length;if(imageData.bitmap){const{bitmap,width,height}=imageData;length=width*height*4,pageProxy._bitmaps.add(bitmap)}else length=imageData.data?.length||0;length>MAX_IMAGE_SIZE_TO_STORE&&(pageProxy.cleanupAfterRender=!0)}break;case"Pattern":pageProxy.objs.resolve(id,imageData);break;default:throw new Error(`Got unknown object type ${type}`)}}),messageHandler.on("DocProgress",data=>{this.destroyed||loadingTask.onProgress?.({loaded:data.loaded,total:data.total})}),messageHandler.on("DocStats",data=>{this.destroyed||(this.#docStats=Object.freeze({streamTypes:Object.freeze(data.streamTypes),fontTypes:Object.freeze(data.fontTypes)}))}),messageHandler.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),messageHandler.on("FetchBuiltInCMap",data=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(data):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),messageHandler.on("FetchStandardFontData",data=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(data):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(featureId)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(pageNumber){if(!Number.isInteger(pageNumber)||pageNumber<=0||pageNumber>this._numPages)return Promise.reject(new Error("Invalid page request."));const pageIndex=pageNumber-1,cachedPromise=this.#pagePromises.get(pageIndex);if(cachedPromise)return cachedPromise;const promise=this.messageHandler.sendWithPromise("GetPage",{pageIndex}).then(pageInfo=>{if(this.destroyed)throw new Error("Transport destroyed");const page=new PDFPageProxy(pageIndex,pageInfo,this,this._params.ownerDocument,this._params.pdfBug);return this.#pageCache.set(pageIndex,page),page});return this.#pagePromises.set(pageIndex,promise),promise}getPageIndex(ref){return"object"!=typeof ref||null===ref||!Number.isInteger(ref.num)||ref.num<0||!Number.isInteger(ref.gen)||ref.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ref.num,gen:ref.gen})}getAnnotations(pageIndex,intent){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex,intent})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(id){return"string"!=typeof id?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(pageIndex){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex})}getStructTree(pageIndex){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(results=>new _optional_content_config.OptionalContentConfig(results))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#metadataPromise||=this.messageHandler.sendWithPromise("GetMetadata",null).then(results=>({info:results[0],metadata:results[1]?new _metadata.Metadata(results[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(keepLoadedFonts=!1){var _this5=this;return _asyncToGenerator(function*(){if(yield _this5.messageHandler.sendWithPromise("Cleanup",null),!_this5.destroyed){for(const page of _this5.#pageCache.values())if(!page.cleanup())throw new Error(`startCleanup: Page ${page.pageNumber} is currently rendering.`);_this5.commonObjs.clear(),keepLoadedFonts||_this5.fontLoader.clear(),_this5.#metadataPromise=null,_this5._getFieldObjectsPromise=null,_this5._hasJSActionsPromise=null}})()}get loadingParams(){const params=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:params.disableAutoFetch,enableXfa:params.enableXfa})}}class PDFObjects{#objs=Object.create(null);#ensureObj(objId){return this.#objs[objId]||(this.#objs[objId]={capability:(0,_util.createPromiseCapability)(),data:null})}get(objId,callback=null){if(callback){const obj2=this.#ensureObj(objId);return obj2.capability.promise.then(()=>callback(obj2.data)),null}const obj=this.#objs[objId];if(!obj?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${objId}.`);return obj.data}has(objId){return this.#objs[objId]?.capability.settled||!1}resolve(objId,data=null){const obj=this.#ensureObj(objId);obj.data=data,obj.capability.resolve()}clear(){this.#objs=Object.create(null)}}class RenderTask{#internalRenderTask=null;constructor(internalRenderTask){this.#internalRenderTask=internalRenderTask,this.onContinue=null}get promise(){return this.#internalRenderTask.capability.promise}cancel(){this.#internalRenderTask.cancel()}get separateAnnots(){const{separateAnnots}=this.#internalRenderTask.operatorList;if(!separateAnnots)return!1;const{annotationCanvasMap}=this.#internalRenderTask;return separateAnnots.form||separateAnnots.canvas&&annotationCanvasMap?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#canvasInUse=new WeakSet;constructor({callback,params,objs,commonObjs,annotationCanvasMap,operatorList,pageIndex,canvasFactory,useRequestAnimationFrame=!1,pdfBug=!1,pageColors=null}){this.callback=callback,this.params=params,this.objs=objs,this.commonObjs=commonObjs,this.annotationCanvasMap=annotationCanvasMap,this.operatorListIdx=null,this.operatorList=operatorList,this._pageIndex=pageIndex,this.canvasFactory=canvasFactory,this._pdfBug=pdfBug,this.pageColors=pageColors,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===useRequestAnimationFrame&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=params.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency=!1,optionalContentConfig}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#canvasInUse.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext,viewport,transform,imageLayer,background}=this.params;this.gfx=new _canvas.CanvasGraphics(canvasContext,this.commonObjs,this.objs,this.canvasFactory,imageLayer,optionalContentConfig,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform,viewport,transparency,background}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(error=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#canvasInUse.delete(this._canvas),this.callback(error||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var _this6=this;return _asyncToGenerator(function*(){_this6.cancelled||(_this6.operatorListIdx=_this6.gfx.executeOperatorList(_this6.operatorList,_this6.operatorListIdx,_this6._continueBound,_this6.stepper),_this6.operatorListIdx===_this6.operatorList.argsArray.length&&(_this6.running=!1,_this6.operatorList.lastChunk&&(_this6.gfx.endDrawing(),_this6._canvas&&InternalRenderTask.#canvasInUse.delete(_this6._canvas),_this6.callback())))})()}}const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.PrintAnnotationStorage=exports2.AnnotationStorage=void 0;var _util2=__w_pdfjs_require__2(1),_editor=__w_pdfjs_require__2(6),_murmurhash=__w_pdfjs_require__2(10);class AnnotationStorage{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(key,defaultValue){const value=this._storage.get(key);return void 0===value?defaultValue:Object.assign(defaultValue,value)}getRawValue(key){return this._storage.get(key)}remove(key){if(this._storage.delete(key),0===this._storage.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const value of this._storage.values())if(value instanceof _editor.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(key,value){const obj=this._storage.get(key);let modified=!1;if(void 0!==obj)for(const[entry,val]of Object.entries(value))obj[entry]!==val&&(modified=!0,obj[entry]=val);else modified=!0,this._storage.set(key,value);modified&&this.#setModified(),value instanceof _editor.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(value.constructor._type)}has(key){return this._storage.has(key)}getAll(){return this._storage.size>0?(0,_util2.objectFromMap)(this._storage):null}get size(){return this._storage.size}#setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(0===this._storage.size)return null;const clone=new Map;for(const[key,val]of this._storage){const serialized=val instanceof _editor.AnnotationEditor?val.serialize():val;serialized&&clone.set(key,serialized)}return clone}static getHash(map){if(!map)return"";const hash=new _murmurhash.MurmurHash3_64;for(const[key,val]of map)hash.update(`${key}:${JSON.stringify(val)}`);return hash.hexdigest()}}exports2.AnnotationStorage=AnnotationStorage;class PrintAnnotationStorage extends AnnotationStorage{#serializable=null;constructor(parent){super(),this.#serializable=structuredClone(parent.serializable)}get print(){(0,_util2.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#serializable}}exports2.PrintAnnotationStorage=PrintAnnotationStorage},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.AnnotationEditor=void 0;var _tools=__w_pdfjs_require__2(7),_util2=__w_pdfjs_require__2(1);class AnnotationEditor{#boundFocusin=this.focusin.bind(this);#boundFocusout=this.focusout.bind(this);#hasBeenSelected=!1;#isEditing=!1;#isInEditMode=!1;#zIndex=AnnotationEditor._zIndex++;static _colorManager=new _tools.ColorManager;static _zIndex=1;constructor(parameters){this.constructor===AnnotationEditor&&(0,_util2.unreachable)("Cannot initialize AnnotationEditor."),this.parent=parameters.parent,this.id=parameters.id,this.width=this.height=null,this.pageIndex=parameters.parent.pageIndex,this.name=parameters.name,this.div=null;const[width,height]=this.parent.viewportBaseDimensions;this.x=parameters.x/width,this.y=parameters.y/height,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,_util2.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#zIndex}focusin(event){this.#hasBeenSelected?this.#hasBeenSelected=!1:this.parent.setSelected(this)}focusout(event){!this.isAttachedToDOM||event.relatedTarget?.closest(`#${this.id}`)||(event.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(event){const rect=this.parent.div.getBoundingClientRect();this.startX=event.clientX-rect.x,this.startY=event.clientY-rect.y,event.dataTransfer.setData("text/plain",this.id),event.dataTransfer.effectAllowed="move"}setAt(x,y,tx,ty){const[width,height]=this.parent.viewportBaseDimensions;[tx,ty]=this.screenToPageTranslation(tx,ty),this.x=(x+tx)/width,this.y=(y+ty)/height,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(x,y){const[width,height]=this.parent.viewportBaseDimensions;[x,y]=this.screenToPageTranslation(x,y),this.x+=x/width,this.y+=y/height,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(x,y){const{rotation}=this.parent.viewport;switch(rotation){case 90:return[y,-x];case 180:return[-x,-y];case 270:return[-y,x];default:return[x,y]}}setDims(width,height){const[parentWidth,parentHeight]=this.parent.viewportBaseDimensions;this.div.style.width=100*width/parentWidth+"%",this.div.style.height=100*height/parentHeight+"%"}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#boundFocusin),this.div.addEventListener("focusout",this.#boundFocusout);const[tx,ty]=this.getInitialTranslation();return this.translate(tx,ty),(0,_tools.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(event){const isMac=_tools.KeyboardManager.platform.isMac;0!==event.button||event.ctrlKey&&isMac?event.preventDefault():(event.ctrlKey&&!isMac||event.shiftKey||event.metaKey&&isMac?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#hasBeenSelected=!0)}getRect(tx,ty){const[parentWidth,parentHeight]=this.parent.viewportBaseDimensions,[pageWidth,pageHeight]=this.parent.pageDimensions,shiftX=pageWidth*tx/parentWidth,shiftY=pageHeight*ty/parentHeight,x=this.x*pageWidth,y=this.y*pageHeight,width=this.width*pageWidth,height=this.height*pageHeight;switch(this.rotation){case 0:return[x+shiftX,pageHeight-y-shiftY-height,x+shiftX+width,pageHeight-y-shiftY];case 90:return[x+shiftY,pageHeight-y+shiftX,x+shiftY+height,pageHeight-y+shiftX+width];case 180:return[x-shiftX-width,pageHeight-y+shiftY,x-shiftX,pageHeight-y+shiftY+height];case 270:return[x-shiftY-height,pageHeight-y-shiftX-width,x-shiftY,pageHeight-y-shiftX];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(rect,pageHeight){const[x1,y1,x2,y2]=rect,width=x2-x1,height=y2-y1;switch(this.rotation){case 0:return[x1,pageHeight-y2,width,height];case 90:return[x1,pageHeight-y1,height,width];case 180:return[x2,pageHeight-y1,width,height];case 270:return[x2,pageHeight-y2,height,width];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#isInEditMode=!0}disableEditMode(){this.#isInEditMode=!1}isInEditMode(){return this.#isInEditMode}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#boundFocusin)}serialize(){(0,_util2.unreachable)("An editor must be serializable")}static deserialize(data,parent){const editor=new this.prototype.constructor({parent,id:parent.getNextId()});editor.rotation=data.rotation;const[pageWidth,pageHeight]=parent.pageDimensions,[x,y,width,height]=editor.getRectInCurrentCoords(data.rect,pageHeight);return editor.x=x/pageWidth,editor.y=y/pageHeight,editor.width=width/pageWidth,editor.height=height/pageHeight,editor}remove(){this.div.removeEventListener("focusin",this.#boundFocusin),this.div.removeEventListener("focusout",this.#boundFocusout),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(type,value){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#isEditing}set isEditing(value){this.#isEditing=value,value?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}exports2.AnnotationEditor=AnnotationEditor},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.KeyboardManager=exports2.CommandManager=exports2.ColorManager=exports2.AnnotationEditorUIManager=void 0,exports2.bindEvents=function bindEvents(obj,element,names){for(const name of names)element.addEventListener(name,obj[name].bind(obj))},exports2.opacityToHex=function opacityToHex(opacity){return Math.round(Math.min(255,Math.max(1,255*opacity))).toString(16).padStart(2,"0")};var _util2=__w_pdfjs_require__2(1),_display_utils2=__w_pdfjs_require__2(8);class IdManager{#id=0;getId(){return`${_util2.AnnotationEditorPrefix}${this.#id++}`}}class CommandManager{#commands=[];#locked=!1;#maxSize;#position=-1;constructor(maxSize=128){this.#maxSize=maxSize}add({cmd,undo,mustExec,type=NaN,overwriteIfSameType=!1,keepUndo=!1}){if(mustExec&&cmd(),this.#locked)return;const save={cmd,undo,type};if(-1===this.#position)return this.#commands.length>0&&(this.#commands.length=0),this.#position=0,void this.#commands.push(save);if(overwriteIfSameType&&this.#commands[this.#position].type===type)return keepUndo&&(save.undo=this.#commands[this.#position].undo),void(this.#commands[this.#position]=save);const next=this.#position+1;next===this.#maxSize?this.#commands.splice(0,1):(this.#position=next,next<this.#commands.length&&this.#commands.splice(next)),this.#commands.push(save)}undo(){-1!==this.#position&&(this.#locked=!0,this.#commands[this.#position].undo(),this.#locked=!1,this.#position-=1)}redo(){this.#position<this.#commands.length-1&&(this.#position+=1,this.#locked=!0,this.#commands[this.#position].cmd(),this.#locked=!1)}hasSomethingToUndo(){return-1!==this.#position}hasSomethingToRedo(){return this.#position<this.#commands.length-1}destroy(){this.#commands=null}}exports2.CommandManager=CommandManager;class KeyboardManager{constructor(callbacks){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const isMac=KeyboardManager.platform.isMac;for(const[keys,callback]of callbacks)for(const key of keys){const isMacKey=key.startsWith("mac+");isMac&&isMacKey?(this.callbacks.set(key.slice(4),callback),this.allKeys.add(key.split("+").at(-1))):!isMac&&!isMacKey&&(this.callbacks.set(key,callback),this.allKeys.add(key.split("+").at(-1)))}}static get platform(){const platform=typeof navigator<"u"?navigator.platform:"";return(0,_util2.shadow)(this,"platform",{isWin:platform.includes("Win"),isMac:platform.includes("Mac")})}#serialize(event){event.altKey&&this.buffer.push("alt"),event.ctrlKey&&this.buffer.push("ctrl"),event.metaKey&&this.buffer.push("meta"),event.shiftKey&&this.buffer.push("shift"),this.buffer.push(event.key);const str=this.buffer.join("+");return this.buffer.length=0,str}exec(self2,event){if(!this.allKeys.has(event.key))return;const callback=this.callbacks.get(this.#serialize(event));callback&&(callback.bind(self2)(),event.stopPropagation(),event.preventDefault())}}exports2.KeyboardManager=KeyboardManager;class ClipboardManager{#elements=null;copy(element){element&&(Array.isArray(element)?this.#elements=element.map(el=>el.serialize()):this.#elements=[element.serialize()],this.#elements=this.#elements.filter(el=>!!el),0===this.#elements.length&&(this.#elements=null))}paste(){return this.#elements}isEmpty(){return null===this.#elements}destroy(){this.#elements=null}}class ColorManager{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const colors=new Map([["CanvasText",null],["Canvas",null]]);return(0,_display_utils2.getColorValues)(colors),(0,_util2.shadow)(this,"_colors",colors)}convert(color){const rgb=(0,_display_utils2.getRGB)(color);if(!window.matchMedia("(forced-colors: active)").matches)return rgb;for(const[name,RGB]of this._colors)if(RGB.every((x,i)=>x===rgb[i]))return ColorManager._colorsMapping.get(name);return rgb}getHexCode(name){const rgb=this._colors.get(name);return rgb?_util2.Util.makeHexColor(...rgb):name}}exports2.ColorManager=ColorManager;class AnnotationEditorUIManager{#activeEditor=null;#allEditors=new Map;#allLayers=new Map;#clipboardManager=new ClipboardManager;#commandManager=new CommandManager;#currentPageIndex=0;#editorTypes=null;#eventBus=null;#idManager=new IdManager;#isEnabled=!1;#mode=_util2.AnnotationEditorType.NONE;#selectedEditors=new Set;#boundKeydown=this.keydown.bind(this);#boundOnEditingAction=this.onEditingAction.bind(this);#boundOnPageChanging=this.onPageChanging.bind(this);#previousStates={isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#container=null;static _keyboardManager=new KeyboardManager([[["ctrl+a","mac+meta+a"],AnnotationEditorUIManager.prototype.selectAll],[["ctrl+c","mac+meta+c"],AnnotationEditorUIManager.prototype.copy],[["ctrl+v","mac+meta+v"],AnnotationEditorUIManager.prototype.paste],[["ctrl+x","mac+meta+x"],AnnotationEditorUIManager.prototype.cut],[["ctrl+z","mac+meta+z"],AnnotationEditorUIManager.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],AnnotationEditorUIManager.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],AnnotationEditorUIManager.prototype.delete],[["Escape","mac+Escape"],AnnotationEditorUIManager.prototype.unselectAll]]);constructor(container,eventBus){this.#container=container,this.#eventBus=eventBus,this.#eventBus._on("editingaction",this.#boundOnEditingAction),this.#eventBus._on("pagechanging",this.#boundOnPageChanging)}destroy(){this.#removeKeyboardManager(),this.#eventBus._off("editingaction",this.#boundOnEditingAction),this.#eventBus._off("pagechanging",this.#boundOnPageChanging);for(const layer of this.#allLayers.values())layer.destroy();this.#allLayers.clear(),this.#allEditors.clear(),this.#activeEditor=null,this.#selectedEditors.clear(),this.#clipboardManager.destroy(),this.#commandManager.destroy()}onPageChanging({pageNumber}){this.#currentPageIndex=pageNumber-1}focusMainContainer(){this.#container.focus()}#addKeyboardManager(){this.#container.addEventListener("keydown",this.#boundKeydown)}#removeKeyboardManager(){this.#container.removeEventListener("keydown",this.#boundKeydown)}keydown(event){this.getActive()?.shouldGetKeyboardEvents()||AnnotationEditorUIManager._keyboardManager.exec(this,event)}onEditingAction(details){["undo","redo","cut","copy","paste","delete","selectAll"].includes(details.name)&&this[details.name]()}#dispatchUpdateStates(details){Object.entries(details).some(([key,value])=>this.#previousStates[key]!==value)&&this.#eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#previousStates,details)})}#dispatchUpdateUI(details){this.#eventBus.dispatch("annotationeditorparamschanged",{source:this,details})}setEditingState(isEditing){isEditing?(this.#addKeyboardManager(),this.#dispatchUpdateStates({isEditing:this.#mode!==_util2.AnnotationEditorType.NONE,isEmpty:this.#isEmpty(),hasSomethingToUndo:this.#commandManager.hasSomethingToUndo(),hasSomethingToRedo:this.#commandManager.hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:this.#clipboardManager.isEmpty()})):(this.#removeKeyboardManager(),this.#dispatchUpdateStates({isEditing:!1}))}registerEditorTypes(types){this.#editorTypes=types;for(const editorType of this.#editorTypes)this.#dispatchUpdateUI(editorType.defaultPropertiesToUpdate)}getId(){return this.#idManager.getId()}addLayer(layer){this.#allLayers.set(layer.pageIndex,layer),this.#isEnabled?layer.enable():layer.disable()}removeLayer(layer){this.#allLayers.delete(layer.pageIndex)}updateMode(mode){if(this.#mode=mode,mode===_util2.AnnotationEditorType.NONE)this.setEditingState(!1),this.#disableAll();else{this.setEditingState(!0),this.#enableAll();for(const layer of this.#allLayers.values())layer.updateMode(mode)}}updateToolbar(mode){mode!==this.#mode&&this.#eventBus.dispatch("switchannotationeditormode",{source:this,mode})}updateParams(type,value){for(const editor of this.#selectedEditors)editor.updateParams(type,value);for(const editorType of this.#editorTypes)editorType.updateDefaultParams(type,value)}#enableAll(){if(!this.#isEnabled){this.#isEnabled=!0;for(const layer of this.#allLayers.values())layer.enable()}}#disableAll(){if(this.unselectAll(),this.#isEnabled){this.#isEnabled=!1;for(const layer of this.#allLayers.values())layer.disable()}}getEditors(pageIndex){const editors=[];for(const editor of this.#allEditors.values())editor.pageIndex===pageIndex&&editors.push(editor);return editors}getEditor(id){return this.#allEditors.get(id)}addEditor(editor){this.#allEditors.set(editor.id,editor)}removeEditor(editor){this.#allEditors.delete(editor.id),this.unselect(editor)}#addEditorToLayer(editor){const layer=this.#allLayers.get(editor.pageIndex);layer?layer.addOrRebuild(editor):this.addEditor(editor)}setActiveEditor(editor){this.#activeEditor!==editor&&(this.#activeEditor=editor,editor&&this.#dispatchUpdateUI(editor.propertiesToUpdate))}toggleSelected(editor){if(this.#selectedEditors.has(editor))return this.#selectedEditors.delete(editor),editor.unselect(),void this.#dispatchUpdateStates({hasSelectedEditor:this.hasSelection});this.#selectedEditors.add(editor),editor.select(),this.#dispatchUpdateUI(editor.propertiesToUpdate),this.#dispatchUpdateStates({hasSelectedEditor:!0})}setSelected(editor){for(const ed of this.#selectedEditors)ed!==editor&&ed.unselect();this.#selectedEditors.clear(),this.#selectedEditors.add(editor),editor.select(),this.#dispatchUpdateUI(editor.propertiesToUpdate),this.#dispatchUpdateStates({hasSelectedEditor:!0})}isSelected(editor){return this.#selectedEditors.has(editor)}unselect(editor){editor.unselect(),this.#selectedEditors.delete(editor),this.#dispatchUpdateStates({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#selectedEditors.size}undo(){this.#commandManager.undo(),this.#dispatchUpdateStates({hasSomethingToUndo:this.#commandManager.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#isEmpty()})}redo(){this.#commandManager.redo(),this.#dispatchUpdateStates({hasSomethingToUndo:!0,hasSomethingToRedo:this.#commandManager.hasSomethingToRedo(),isEmpty:this.#isEmpty()})}addCommands(params){this.#commandManager.add(params),this.#dispatchUpdateStates({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#isEmpty()})}#isEmpty(){if(0===this.#allEditors.size)return!0;if(1===this.#allEditors.size)for(const editor of this.#allEditors.values())return editor.isEmpty();return!1}delete(){if(this.#activeEditor&&this.#activeEditor.commitOrRemove(),!this.hasSelection)return;const editors=[...this.#selectedEditors];this.addCommands({cmd:()=>{for(const editor of editors)editor.remove()},undo:()=>{for(const editor of editors)this.#addEditorToLayer(editor)},mustExec:!0})}copy(){if(this.#activeEditor&&this.#activeEditor.commitOrRemove(),this.hasSelection){const editors=[];for(const editor of this.#selectedEditors)editor.isEmpty()||editors.push(editor);if(0===editors.length)return;this.#clipboardManager.copy(editors),this.#dispatchUpdateStates({hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(this.#clipboardManager.isEmpty())return;this.unselectAll();const layer=this.#allLayers.get(this.#currentPageIndex),newEditors=this.#clipboardManager.paste().map(data=>layer.deserialize(data));this.addCommands({cmd:()=>{for(const editor of newEditors)this.#addEditorToLayer(editor);this.#selectEditors(newEditors)},undo:()=>{for(const editor of newEditors)editor.remove()},mustExec:!0})}#selectEditors(editors){this.#selectedEditors.clear();for(const editor of editors)editor.isEmpty()||(this.#selectedEditors.add(editor),editor.select());this.#dispatchUpdateStates({hasSelectedEditor:!0})}selectAll(){for(const editor of this.#selectedEditors)editor.commit();this.#selectEditors(this.#allEditors.values())}unselectAll(){if(this.#activeEditor)this.#activeEditor.commitOrRemove();else if(0!==this.#selectEditors.size){for(const editor of this.#selectedEditors)editor.unselect();this.#selectedEditors.clear(),this.#dispatchUpdateStates({hasSelectedEditor:!1})}}isActive(editor){return this.#activeEditor===editor}getActive(){return this.#activeEditor}getMode(){return this.#mode}}exports2.AnnotationEditorUIManager=AnnotationEditorUIManager},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.StatTimer=exports2.RenderingCancelledException=exports2.PixelsPerInch=exports2.PageViewport=exports2.PDFDateString=exports2.DOMStandardFontDataFactory=exports2.DOMSVGFactory=exports2.DOMCanvasFactory=exports2.DOMCMapReaderFactory=exports2.AnnotationPrefix=void 0,exports2.deprecated=function deprecated(details){console.log("Deprecated API usage: "+details)},exports2.getColorValues=function getColorValues(colors){const span=document.createElement("span");span.style.visibility="hidden",document.body.append(span);for(const name of colors.keys()){span.style.color=name;const computedColor=window.getComputedStyle(span).color;colors.set(name,getRGB(computedColor))}span.remove()},exports2.getCurrentTransform=function getCurrentTransform(ctx){const{a,b,c,d,e,f}=ctx.getTransform();return[a,b,c,d,e,f]},exports2.getCurrentTransformInverse=function getCurrentTransformInverse(ctx){const{a,b,c,d,e,f}=ctx.getTransform().invertSelf();return[a,b,c,d,e,f]},exports2.getFilenameFromUrl=function getFilenameFromUrl(url){const anchor=url.indexOf("#"),query=url.indexOf("?"),end=Math.min(anchor>0?anchor:url.length,query>0?query:url.length);return url.substring(url.lastIndexOf("/",end)+1,end)},exports2.getPdfFilenameFromUrl=function getPdfFilenameFromUrl(url,defaultFilename="document.pdf"){if("string"!=typeof url)return defaultFilename;if(isDataScheme(url))return(0,_util2.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),defaultFilename;const reFilename=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,splitURI=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(url);let suggestedFilename=reFilename.exec(splitURI[1])||reFilename.exec(splitURI[2])||reFilename.exec(splitURI[3]);if(suggestedFilename&&(suggestedFilename=suggestedFilename[0],suggestedFilename.includes("%")))try{suggestedFilename=reFilename.exec(decodeURIComponent(suggestedFilename))[0]}catch{}return suggestedFilename||defaultFilename},exports2.getRGB=getRGB,exports2.getXfaPageViewport=function getXfaPageViewport(xfaPage,{scale=1,rotation=0}){const{width,height}=xfaPage.attributes.style,viewBox=[0,0,parseInt(width),parseInt(height)];return new PageViewport({viewBox,scale,rotation})},exports2.isDataScheme=isDataScheme,exports2.isPdfFile=function isPdfFile(filename){return"string"==typeof filename&&/\.pdf$/i.test(filename)},exports2.isValidFetchUrl=isValidFetchUrl,exports2.loadScript=function loadScript(src,removeScriptElement=!1){return new Promise((resolve,reject)=>{const script=document.createElement("script");script.src=src,script.onload=function(evt){removeScriptElement&&script.remove(),resolve(evt)},script.onerror=function(){reject(new Error(`Cannot load script at: ${script.src}`))},(document.head||document.documentElement).append(script)})};var _base_factory=__w_pdfjs_require__2(9),_util2=__w_pdfjs_require__2(1);function fetchData(_x5){return _fetchData.apply(this,arguments)}function _fetchData(){return(_fetchData=_asyncToGenerator(function*(url,asTypedArray=!1){if(isValidFetchUrl(url,document.baseURI)){const response=yield fetch(url);if(!response.ok)throw new Error(response.statusText);return asTypedArray?new Uint8Array(yield response.arrayBuffer()):(0,_util2.stringToBytes)(yield response.text())}return new Promise((resolve,reject)=>{const request=new XMLHttpRequest;request.open("GET",url,!0),asTypedArray&&(request.responseType="arraybuffer"),request.onreadystatechange=()=>{if(request.readyState===XMLHttpRequest.DONE){if(200===request.status||0===request.status){let data;if(asTypedArray&&request.response?data=new Uint8Array(request.response):!asTypedArray&&request.responseText&&(data=(0,_util2.stringToBytes)(request.responseText)),data)return void resolve(data)}reject(new Error(request.statusText))}},request.send(null)})})).apply(this,arguments)}exports2.AnnotationPrefix="pdfjs_internal_id_",exports2.PixelsPerInch=class PixelsPerInch{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF},exports2.DOMCanvasFactory=class DOMCanvasFactory extends _base_factory.BaseCanvasFactory{constructor({ownerDocument=globalThis.document}={}){super(),this._document=ownerDocument}_createCanvas(width,height){const canvas=this._document.createElement("canvas");return canvas.width=width,canvas.height=height,canvas}},exports2.DOMCMapReaderFactory=class DOMCMapReaderFactory extends _base_factory.BaseCMapReaderFactory{_fetchData(url,compressionType){return fetchData(url,this.isCompressed).then(data=>({cMapData:data,compressionType}))}},exports2.DOMStandardFontDataFactory=class DOMStandardFontDataFactory extends _base_factory.BaseStandardFontDataFactory{_fetchData(url){return fetchData(url,!0)}},exports2.DOMSVGFactory=class DOMSVGFactory extends _base_factory.BaseSVGFactory{_createSVG(type){return document.createElementNS("http://www.w3.org/2000/svg",type)}};class PageViewport{constructor({viewBox,scale,rotation,offsetX=0,offsetY=0,dontFlip=!1}){this.viewBox=viewBox,this.scale=scale,this.rotation=rotation,this.offsetX=offsetX,this.offsetY=offsetY;const centerX=(viewBox[2]+viewBox[0])/2,centerY=(viewBox[3]+viewBox[1])/2;let rotateA,rotateB,rotateC,rotateD,offsetCanvasX,offsetCanvasY,width,height;switch((rotation%=360)<0&&(rotation+=360),rotation){case 180:rotateA=-1,rotateB=0,rotateC=0,rotateD=1;break;case 90:rotateA=0,rotateB=1,rotateC=1,rotateD=0;break;case 270:rotateA=0,rotateB=-1,rotateC=-1,rotateD=0;break;case 0:rotateA=1,rotateB=0,rotateC=0,rotateD=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}dontFlip&&(rotateC=-rotateC,rotateD=-rotateD),0===rotateA?(offsetCanvasX=Math.abs(centerY-viewBox[1])*scale+offsetX,offsetCanvasY=Math.abs(centerX-viewBox[0])*scale+offsetY,width=Math.abs(viewBox[3]-viewBox[1])*scale,height=Math.abs(viewBox[2]-viewBox[0])*scale):(offsetCanvasX=Math.abs(centerX-viewBox[0])*scale+offsetX,offsetCanvasY=Math.abs(centerY-viewBox[1])*scale+offsetY,width=Math.abs(viewBox[2]-viewBox[0])*scale,height=Math.abs(viewBox[3]-viewBox[1])*scale),this.transform=[rotateA*scale,rotateB*scale,rotateC*scale,rotateD*scale,offsetCanvasX-rotateA*scale*centerX-rotateC*scale*centerY,offsetCanvasY-rotateB*scale*centerX-rotateD*scale*centerY],this.width=width,this.height=height}clone({scale=this.scale,rotation=this.rotation,offsetX=this.offsetX,offsetY=this.offsetY,dontFlip=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale,rotation,offsetX,offsetY,dontFlip})}convertToViewportPoint(x,y){return _util2.Util.applyTransform([x,y],this.transform)}convertToViewportRectangle(rect){const topLeft=_util2.Util.applyTransform([rect[0],rect[1]],this.transform),bottomRight=_util2.Util.applyTransform([rect[2],rect[3]],this.transform);return[topLeft[0],topLeft[1],bottomRight[0],bottomRight[1]]}convertToPdfPoint(x,y){return _util2.Util.applyInverseTransform([x,y],this.transform)}}function isDataScheme(url){const ii=url.length;let i=0;for(;i<ii&&""===url[i].trim();)i++;return"data:"===url.substring(i,i+5).toLowerCase()}function isValidFetchUrl(url,baseUrl){try{const{protocol}=baseUrl?new URL(url,baseUrl):new URL(url);return"http:"===protocol||"https:"===protocol}catch{return!1}}let pdfDateStringRegex;function getRGB(color){if(color.startsWith("#")){const colorRGB=parseInt(color.slice(1),16);return[(16711680&colorRGB)>>16,(65280&colorRGB)>>8,255&colorRGB]}return color.startsWith("rgb(")?color.slice(4,-1).split(",").map(x=>parseInt(x)):color.startsWith("rgba(")?color.slice(5,-1).split(",").map(x=>parseInt(x)).slice(0,3):((0,_util2.warn)(`Not a valid color format: "${color}"`),[0,0,0])}exports2.PageViewport=PageViewport,exports2.RenderingCancelledException=class RenderingCancelledException extends _util2.BaseException{constructor(msg,type){super(msg,"RenderingCancelledException"),this.type=type}},exports2.StatTimer=class StatTimer{constructor(){this.started=Object.create(null),this.times=[]}time(name){name in this.started&&(0,_util2.warn)(`Timer is already running for ${name}`),this.started[name]=Date.now()}timeEnd(name){name in this.started||(0,_util2.warn)(`Timer has not been started for ${name}`),this.times.push({name,start:this.started[name],end:Date.now()}),delete this.started[name]}toString(){const outBuf=[];let longest=0;for(const time of this.times){const name=time.name;name.length>longest&&(longest=name.length)}for(const time of this.times){const duration=time.end-time.start;outBuf.push(`${time.name.padEnd(longest)} ${duration}ms\n`)}return outBuf.join("")}},exports2.PDFDateString=class PDFDateString{static toDateObject(input){if(!input||"string"!=typeof input)return null;pdfDateStringRegex||(pdfDateStringRegex=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const matches=pdfDateStringRegex.exec(input);if(!matches)return null;const year=parseInt(matches[1],10);let month=parseInt(matches[2],10);month=month>=1&&month<=12?month-1:0;let day=parseInt(matches[3],10);day=day>=1&&day<=31?day:1;let hour=parseInt(matches[4],10);hour=hour>=0&&hour<=23?hour:0;let minute=parseInt(matches[5],10);minute=minute>=0&&minute<=59?minute:0;let second=parseInt(matches[6],10);second=second>=0&&second<=59?second:0;const universalTimeRelation=matches[7]||"Z";let offsetHour=parseInt(matches[8],10);offsetHour=offsetHour>=0&&offsetHour<=23?offsetHour:0;let offsetMinute=parseInt(matches[9],10)||0;return offsetMinute=offsetMinute>=0&&offsetMinute<=59?offsetMinute:0,"-"===universalTimeRelation?(hour+=offsetHour,minute+=offsetMinute):"+"===universalTimeRelation&&(hour-=offsetHour,minute-=offsetMinute),new Date(Date.UTC(year,month,day,hour,minute,second))}}},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.BaseStandardFontDataFactory=exports2.BaseSVGFactory=exports2.BaseCanvasFactory=exports2.BaseCMapReaderFactory=void 0;var _util2=__w_pdfjs_require__2(1);class BaseCanvasFactory{constructor(){this.constructor===BaseCanvasFactory&&(0,_util2.unreachable)("Cannot initialize BaseCanvasFactory.")}create(width,height){if(width<=0||height<=0)throw new Error("Invalid canvas size");const canvas=this._createCanvas(width,height);return{canvas,context:canvas.getContext("2d")}}reset(canvasAndContext,width,height){if(!canvasAndContext.canvas)throw new Error("Canvas is not specified");if(width<=0||height<=0)throw new Error("Invalid canvas size");canvasAndContext.canvas.width=width,canvasAndContext.canvas.height=height}destroy(canvasAndContext){if(!canvasAndContext.canvas)throw new Error("Canvas is not specified");canvasAndContext.canvas.width=0,canvasAndContext.canvas.height=0,canvasAndContext.canvas=null,canvasAndContext.context=null}_createCanvas(width,height){(0,_util2.unreachable)("Abstract method `_createCanvas` called.")}}exports2.BaseCanvasFactory=BaseCanvasFactory;class BaseCMapReaderFactory{constructor({baseUrl=null,isCompressed=!1}){this.constructor===BaseCMapReaderFactory&&(0,_util2.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=baseUrl,this.isCompressed=isCompressed}fetch({name}){var _this7=this;return _asyncToGenerator(function*(){if(!_this7.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!name)throw new Error("CMap name must be specified.");const url=_this7.baseUrl+name+(_this7.isCompressed?".bcmap":"");return _this7._fetchData(url,_this7.isCompressed?_util2.CMapCompressionType.BINARY:_util2.CMapCompressionType.NONE).catch(reason=>{throw new Error(`Unable to load ${_this7.isCompressed?"binary ":""}CMap at: ${url}`)})})()}_fetchData(url,compressionType){(0,_util2.unreachable)("Abstract method `_fetchData` called.")}}exports2.BaseCMapReaderFactory=BaseCMapReaderFactory;class BaseStandardFontDataFactory{constructor({baseUrl=null}){this.constructor===BaseStandardFontDataFactory&&(0,_util2.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=baseUrl}fetch({filename}){var _this8=this;return _asyncToGenerator(function*(){if(!_this8.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!filename)throw new Error("Font filename must be specified.");const url=`${_this8.baseUrl}${filename}`;return _this8._fetchData(url).catch(reason=>{throw new Error(`Unable to load font data at: ${url}`)})})()}_fetchData(url){(0,_util2.unreachable)("Abstract method `_fetchData` called.")}}exports2.BaseStandardFontDataFactory=BaseStandardFontDataFactory;class BaseSVGFactory{constructor(){this.constructor===BaseSVGFactory&&(0,_util2.unreachable)("Cannot initialize BaseSVGFactory.")}create(width,height,skipDimensions=!1){if(width<=0||height<=0)throw new Error("Invalid SVG dimensions");const svg=this._createSVG("svg:svg");return svg.setAttribute("version","1.1"),skipDimensions||(svg.setAttribute("width",`${width}px`),svg.setAttribute("height",`${height}px`)),svg.setAttribute("preserveAspectRatio","none"),svg.setAttribute("viewBox",`0 0 ${width} ${height}`),svg}createElement(type){if("string"!=typeof type)throw new Error("Invalid SVG element type");return this._createSVG(type)}_createSVG(type){(0,_util2.unreachable)("Abstract method `_createSVG` called.")}}exports2.BaseSVGFactory=BaseSVGFactory},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.MurmurHash3_64=void 0;var _util2=__w_pdfjs_require__2(1);exports2.MurmurHash3_64=class MurmurHash3_64{constructor(seed){this.h1=seed?4294967295&seed:3285377520,this.h2=seed?4294967295&seed:3285377520}update(input){let data,length;if("string"==typeof input){data=new Uint8Array(2*input.length),length=0;for(let i=0,ii=input.length;i<ii;i++){const code=input.charCodeAt(i);code<=255?data[length++]=code:(data[length++]=code>>>8,data[length++]=255&code)}}else{if(!(0,_util2.isArrayBuffer)(input))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");data=input.slice(),length=data.byteLength}const blockCounts=length>>2,tailLength=length-4*blockCounts,dataUint32=new Uint32Array(data.buffer,0,blockCounts);let k1=0,k2=0,h1=this.h1,h2=this.h2;const C1=3432918353,C2=461845907;for(let i=0;i<blockCounts;i++)1&i?(k1=dataUint32[i],k1=k1*C1&4294901760|11601*k1&65535,k1=k1<<15|k1>>>17,k1=k1*C2&4294901760|13715*k1&65535,h1^=k1,h1=h1<<13|h1>>>19,h1=5*h1+3864292196):(k2=dataUint32[i],k2=k2*C1&4294901760|11601*k2&65535,k2=k2<<15|k2>>>17,k2=k2*C2&4294901760|13715*k2&65535,h2^=k2,h2=h2<<13|h2>>>19,h2=5*h2+3864292196);switch(k1=0,tailLength){case 3:k1^=data[4*blockCounts+2]<<16;case 2:k1^=data[4*blockCounts+1]<<8;case 1:k1^=data[4*blockCounts],k1=k1*C1&4294901760|11601*k1&65535,k1=k1<<15|k1>>>17,k1=k1*C2&4294901760|13715*k1&65535,1&blockCounts?h1^=k1:h2^=k1}this.h1=h1,this.h2=h2}hexdigest(){let h1=this.h1,h2=this.h2;h1^=h2>>>1,h1=3981806797*h1&4294901760|36045*h1&65535,h2=4283543511*h2&4294901760|(2950163797*(h2<<16|h1>>>16)&4294901760)>>>16,h1^=h2>>>1,h1=444984403*h1&4294901760|60499*h1&65535,h2=3301882366*h2&4294901760|(3120437893*(h2<<16|h1>>>16)&4294901760)>>>16,h1^=h2>>>1;const hex1=(h1>>>0).toString(16),hex2=(h2>>>0).toString(16);return hex1.padStart(8,"0")+hex2.padStart(8,"0")}}},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.FontLoader=exports2.FontFaceObject=void 0;var _util2=__w_pdfjs_require__2(1);class BaseFontLoader{constructor({docId,onUnsupportedFeature,ownerDocument=globalThis.document,styleElement=null}){this.constructor===BaseFontLoader&&(0,_util2.unreachable)("Cannot initialize BaseFontLoader."),this.docId=docId,this._onUnsupportedFeature=onUnsupportedFeature,this._document=ownerDocument,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(nativeFontFace){this.nativeFontFaces.push(nativeFontFace),this._document.fonts.add(nativeFontFace)}insertRule(rule){let styleElement=this.styleElement;styleElement||(styleElement=this.styleElement=this._document.createElement("style"),styleElement.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(styleElement));const styleSheet=styleElement.sheet;styleSheet.insertRule(rule,styleSheet.cssRules.length)}clear(){for(const nativeFontFace of this.nativeFontFaces)this._document.fonts.delete(nativeFontFace);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(font){var _this9=this;return _asyncToGenerator(function*(){if(font.attached||font.missingFile)return;if(font.attached=!0,_this9.isFontLoadingAPISupported){const nativeFontFace=font.createNativeFontFace();if(nativeFontFace){_this9.addNativeFontFace(nativeFontFace);try{yield nativeFontFace.loaded}catch(ex){throw _this9._onUnsupportedFeature({featureId:_util2.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,_util2.warn)(`Failed to load font '${nativeFontFace.family}': '${ex}'.`),font.disableFontFace=!0,ex}}return}const rule=font.createFontFaceRule();if(rule){if(_this9.insertRule(rule),_this9.isSyncFontLoadingSupported)return;yield new Promise(resolve=>{const request=_this9._queueLoadingCallback(resolve);_this9._prepareFontLoadEvent([rule],[font],request)})}})()}_queueLoadingCallback(callback){(0,_util2.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,_util2.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,_util2.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,_util2.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(rules,fontsToLoad,request){(0,_util2.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let FontLoader;exports2.FontLoader=FontLoader,exports2.FontLoader=FontLoader=class extends BaseFontLoader{constructor(params){super(params),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let supported=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(supported=!0),(0,_util2.shadow)(this,"isSyncFontLoadingSupported",supported)}_queueLoadingCallback(callback){const context=this.loadingContext,request={id:"pdfjs-font-loading-"+context.nextRequestId++,done:!1,complete:function completeRequest(){for((0,_util2.assert)(!request.done,"completeRequest() cannot be called twice."),request.done=!0;context.requests.length>0&&context.requests[0].done;){const otherRequest=context.requests.shift();setTimeout(otherRequest.callback,0)}},callback};return context.requests.push(request),request}get _loadTestFont(){return(0,_util2.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(rules,fonts,request){function int32(data2,offset){return data2.charCodeAt(offset)<<24|data2.charCodeAt(offset+1)<<16|data2.charCodeAt(offset+2)<<8|255&data2.charCodeAt(offset+3)}function spliceString(s,offset,remove,insert){return s.substring(0,offset)+insert+s.substring(offset+remove)}let i,ii;const canvas=this._document.createElement("canvas");canvas.width=1,canvas.height=1;const ctx=canvas.getContext("2d");let called=0;const loadTestFontId=`lt${Date.now()}${this.loadTestFontId++}`;let data=this._loadTestFont;data=spliceString(data,976,loadTestFontId.length,loadTestFontId);let checksum=int32(data,16);for(i=0,ii=loadTestFontId.length-3;i<ii;i+=4)checksum=checksum-1482184792+int32(loadTestFontId,i)|0;i<loadTestFontId.length&&(checksum=checksum-1482184792+int32(loadTestFontId+"XXX",i)|0),data=spliceString(data,16,4,(0,_util2.string32)(checksum));const url=`url(data:font/opentype;base64,${btoa(data)});`;this.insertRule(`@font-face {font-family:"${loadTestFontId}";src:${url}}`);const names=[];for(const font of fonts)names.push(font.loadedName);names.push(loadTestFontId);const div=this._document.createElement("div");div.style.visibility="hidden",div.style.width=div.style.height="10px",div.style.position="absolute",div.style.top=div.style.left="0px";for(const name of names){const span=this._document.createElement("span");span.textContent="Hi",span.style.fontFamily=name,div.append(span)}this._document.body.append(div),function isFontReady(name,callback){if(called++,called>30)return(0,_util2.warn)("Load test font never loaded."),void callback();ctx.font="30px "+name,ctx.fillText(".",0,20),ctx.getImageData(0,0,1,1).data[3]>0?callback():setTimeout(isFontReady.bind(null,name,callback))}(loadTestFontId,()=>{div.remove(),request.complete()})}},exports2.FontFaceObject=class FontFaceObject{constructor(translatedData,{isEvalSupported=!0,disableFontFace=!1,ignoreErrors=!1,onUnsupportedFeature,fontRegistry=null}){this.compiledGlyphs=Object.create(null);for(const i in translatedData)this[i]=translatedData[i];this.isEvalSupported=!1!==isEvalSupported,this.disableFontFace=!0===disableFontFace,this.ignoreErrors=!0===ignoreErrors,this._onUnsupportedFeature=onUnsupportedFeature,this.fontRegistry=fontRegistry}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let nativeFontFace;if(this.cssFontInfo){const css={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(css.style=`oblique ${this.cssFontInfo.italicAngle}deg`),nativeFontFace=new FontFace(this.cssFontInfo.fontFamily,this.data,css)}else nativeFontFace=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),nativeFontFace}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const data=(0,_util2.bytesToString)(this.data),url=`url(data:${this.mimetype};base64,${btoa(data)});`;let rule;if(this.cssFontInfo){let css=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(css+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),rule=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${css}src:${url}}`}else rule=`@font-face {font-family:"${this.loadedName}";src:${url}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,url),rule}getPathGenerator(objs,character){if(void 0!==this.compiledGlyphs[character])return this.compiledGlyphs[character];let cmds;try{cmds=objs.get(this.loadedName+"_path_"+character)}catch(ex){if(!this.ignoreErrors)throw ex;return this._onUnsupportedFeature({featureId:_util2.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,_util2.warn)(`getPathGenerator - ignoring character: "${ex}".`),this.compiledGlyphs[character]=function(c,size){}}if(this.isEvalSupported&&_util2.FeatureTest.isEvalSupported){const jsBuf=[];for(const current of cmds){const args=void 0!==current.args?current.args.join(","):"";jsBuf.push("c.",current.cmd,"(",args,");\n")}return this.compiledGlyphs[character]=new Function("c","size",jsBuf.join(""))}return this.compiledGlyphs[character]=function(c,size){for(const current of cmds)"scale"===current.cmd&&(current.args=[size,-size]),c[current.cmd].apply(c,current.args)}}}},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.CanvasGraphics=void 0;var _display_utils2=__w_pdfjs_require__2(8),_util2=__w_pdfjs_require__2(1),_pattern_helper=__w_pdfjs_require__2(13),_image_utils=__w_pdfjs_require__2(14);const MAX_SIZE_TO_COMPILE=__w_pdfjs_require__2(3).isNodeJS&&typeof Path2D>"u"?-1:1e3;class CachedCanvases{constructor(canvasFactory){this.canvasFactory=canvasFactory,this.cache=Object.create(null)}getCanvas(id,width,height){let canvasEntry;return void 0!==this.cache[id]?(canvasEntry=this.cache[id],this.canvasFactory.reset(canvasEntry,width,height)):(canvasEntry=this.canvasFactory.create(width,height),this.cache[id]=canvasEntry),canvasEntry}delete(id){delete this.cache[id]}clear(){for(const id in this.cache)this.canvasFactory.destroy(this.cache[id]),delete this.cache[id]}}function drawImageAtIntegerCoords(ctx,srcImg,srcX,srcY,srcW,srcH,destX,destY,destW,destH){const[a,b,c,d,tx,ty]=(0,_display_utils2.getCurrentTransform)(ctx);if(0===b&&0===c){const rTlX=Math.round(destX*a+tx),rTlY=Math.round(destY*d+ty),rWidth=Math.abs(Math.round((destX+destW)*a+tx)-rTlX)||1,rHeight=Math.abs(Math.round((destY+destH)*d+ty)-rTlY)||1;return ctx.setTransform(Math.sign(a),0,0,Math.sign(d),rTlX,rTlY),ctx.drawImage(srcImg,srcX,srcY,srcW,srcH,0,0,rWidth,rHeight),ctx.setTransform(a,b,c,d,tx,ty),[rWidth,rHeight]}if(0===a&&0===d){const rTlX=Math.round(destY*c+tx),rTlY=Math.round(destX*b+ty),rWidth=Math.abs(Math.round((destY+destH)*c+tx)-rTlX)||1,rHeight=Math.abs(Math.round((destX+destW)*b+ty)-rTlY)||1;return ctx.setTransform(0,Math.sign(b),Math.sign(c),0,rTlX,rTlY),ctx.drawImage(srcImg,srcX,srcY,srcW,srcH,0,0,rHeight,rWidth),ctx.setTransform(a,b,c,d,tx,ty),[rHeight,rWidth]}return ctx.drawImage(srcImg,srcX,srcY,srcW,srcH,destX,destY,destW,destH),[Math.hypot(a,b)*destW,Math.hypot(c,d)*destH]}class CanvasExtraState{constructor(width,height){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_util2.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_util2.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_util2.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,width,height])}clone(){const clone=Object.create(this);return clone.clipBox=this.clipBox.slice(),clone}setCurrentPoint(x,y){this.x=x,this.y=y}updatePathMinMax(transform,x,y){[x,y]=_util2.Util.applyTransform([x,y],transform),this.minX=Math.min(this.minX,x),this.minY=Math.min(this.minY,y),this.maxX=Math.max(this.maxX,x),this.maxY=Math.max(this.maxY,y)}updateRectMinMax(transform,rect){const p1=_util2.Util.applyTransform(rect,transform),p2=_util2.Util.applyTransform(rect.slice(2),transform);this.minX=Math.min(this.minX,p1[0],p2[0]),this.minY=Math.min(this.minY,p1[1],p2[1]),this.maxX=Math.max(this.maxX,p1[0],p2[0]),this.maxY=Math.max(this.maxY,p1[1],p2[1])}updateScalingPathMinMax(transform,minMax){_util2.Util.scaleMinMax(transform,minMax),this.minX=Math.min(this.minX,minMax[0]),this.maxX=Math.max(this.maxX,minMax[1]),this.minY=Math.min(this.minY,minMax[2]),this.maxY=Math.max(this.maxY,minMax[3])}updateCurvePathMinMax(transform,x0,y0,x1,y1,x2,y2,x3,y3,minMax){const box=_util2.Util.bezierBoundingBox(x0,y0,x1,y1,x2,y2,x3,y3);if(minMax)return minMax[0]=Math.min(minMax[0],box[0],box[2]),minMax[1]=Math.max(minMax[1],box[0],box[2]),minMax[2]=Math.min(minMax[2],box[1],box[3]),void(minMax[3]=Math.max(minMax[3],box[1],box[3]));this.updateRectMinMax(transform,box)}getPathBoundingBox(pathType=_pattern_helper.PathType.FILL,transform=null){const box=[this.minX,this.minY,this.maxX,this.maxY];if(pathType===_pattern_helper.PathType.STROKE){transform||(0,_util2.unreachable)("Stroke bounding box must include transform.");const scale=_util2.Util.singularValueDecompose2dScale(transform),xStrokePad=scale[0]*this.lineWidth/2,yStrokePad=scale[1]*this.lineWidth/2;box[0]-=xStrokePad,box[1]-=yStrokePad,box[2]+=xStrokePad,box[3]+=yStrokePad}return box}updateClipFromPath(){const intersect=_util2.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(intersect||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(box){this.clipBox=box,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(pathType=_pattern_helper.PathType.FILL,transform=null){return _util2.Util.intersect(this.clipBox,this.getPathBoundingBox(pathType,transform))}}function putBinaryImageData(ctx,imgData,transferMaps=null){if(typeof ImageData<"u"&&imgData instanceof ImageData)return void ctx.putImageData(imgData,0,0);const height=imgData.height,width=imgData.width,partialChunkHeight=height%16,fullChunks=(height-partialChunkHeight)/16,totalChunks=0===partialChunkHeight?fullChunks:fullChunks+1,chunkImgData=ctx.createImageData(width,16);let destPos,srcPos=0;const src=imgData.data,dest=chunkImgData.data;let i,j,thisChunkHeight,elemsInThisChunk,transferMapRed,transferMapGreen,transferMapBlue,transferMapGray;if(transferMaps)switch(transferMaps.length){case 1:transferMapRed=transferMaps[0],transferMapGreen=transferMaps[0],transferMapBlue=transferMaps[0],transferMapGray=transferMaps[0];break;case 4:transferMapRed=transferMaps[0],transferMapGreen=transferMaps[1],transferMapBlue=transferMaps[2],transferMapGray=transferMaps[3]}if(imgData.kind===_util2.ImageKind.GRAYSCALE_1BPP){const srcLength=src.byteLength,dest32=new Uint32Array(dest.buffer,0,dest.byteLength>>2),dest32DataLength=dest32.length,fullSrcDiff=width+7>>3;let white=4294967295,black=_util2.FeatureTest.isLittleEndian?4278190080:255;for(transferMapGray&&255===transferMapGray[0]&&0===transferMapGray[255]&&([white,black]=[black,white]),i=0;i<totalChunks;i++){for(thisChunkHeight=i<fullChunks?16:partialChunkHeight,destPos=0,j=0;j<thisChunkHeight;j++){const srcDiff=srcLength-srcPos;let k=0;const kEnd=srcDiff>fullSrcDiff?width:8*srcDiff-7,kEndUnrolled=-8&kEnd;let mask=0,srcByte=0;for(;k<kEndUnrolled;k+=8)srcByte=src[srcPos++],dest32[destPos++]=128&srcByte?white:black,dest32[destPos++]=64&srcByte?white:black,dest32[destPos++]=32&srcByte?white:black,dest32[destPos++]=16&srcByte?white:black,dest32[destPos++]=8&srcByte?white:black,dest32[destPos++]=4&srcByte?white:black,dest32[destPos++]=2&srcByte?white:black,dest32[destPos++]=1&srcByte?white:black;for(;k<kEnd;k++)0===mask&&(srcByte=src[srcPos++],mask=128),dest32[destPos++]=srcByte&mask?white:black,mask>>=1}for(;destPos<dest32DataLength;)dest32[destPos++]=0;ctx.putImageData(chunkImgData,0,16*i)}}else if(imgData.kind===_util2.ImageKind.RGBA_32BPP){const hasTransferMaps=!!(transferMapRed||transferMapGreen||transferMapBlue);for(j=0,elemsInThisChunk=16*width*4,i=0;i<fullChunks;i++){if(dest.set(src.subarray(srcPos,srcPos+elemsInThisChunk)),srcPos+=elemsInThisChunk,hasTransferMaps)for(let k=0;k<elemsInThisChunk;k+=4)transferMapRed&&(dest[k+0]=transferMapRed[dest[k+0]]),transferMapGreen&&(dest[k+1]=transferMapGreen[dest[k+1]]),transferMapBlue&&(dest[k+2]=transferMapBlue[dest[k+2]]);ctx.putImageData(chunkImgData,0,j),j+=16}if(i<totalChunks){if(elemsInThisChunk=width*partialChunkHeight*4,dest.set(src.subarray(srcPos,srcPos+elemsInThisChunk)),hasTransferMaps)for(let k=0;k<elemsInThisChunk;k+=4)transferMapRed&&(dest[k+0]=transferMapRed[dest[k+0]]),transferMapGreen&&(dest[k+1]=transferMapGreen[dest[k+1]]),transferMapBlue&&(dest[k+2]=transferMapBlue[dest[k+2]]);ctx.putImageData(chunkImgData,0,j)}}else{if(imgData.kind!==_util2.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${imgData.kind}`);{const hasTransferMaps=!!(transferMapRed||transferMapGreen||transferMapBlue);for(thisChunkHeight=16,elemsInThisChunk=width*thisChunkHeight,i=0;i<totalChunks;i++){for(i>=fullChunks&&(thisChunkHeight=partialChunkHeight,elemsInThisChunk=width*thisChunkHeight),destPos=0,j=elemsInThisChunk;j--;)dest[destPos++]=src[srcPos++],dest[destPos++]=src[srcPos++],dest[destPos++]=src[srcPos++],dest[destPos++]=255;if(hasTransferMaps)for(let k=0;k<destPos;k+=4)transferMapRed&&(dest[k+0]=transferMapRed[dest[k+0]]),transferMapGreen&&(dest[k+1]=transferMapGreen[dest[k+1]]),transferMapBlue&&(dest[k+2]=transferMapBlue[dest[k+2]]);ctx.putImageData(chunkImgData,0,16*i)}}}}function putBinaryImageMask(ctx,imgData){if(imgData.bitmap)return void ctx.drawImage(imgData.bitmap,0,0);const height=imgData.height,width=imgData.width,partialChunkHeight=height%16,fullChunks=(height-partialChunkHeight)/16,totalChunks=0===partialChunkHeight?fullChunks:fullChunks+1,chunkImgData=ctx.createImageData(width,16);let srcPos=0;const src=imgData.data,dest=chunkImgData.data;for(let i=0;i<totalChunks;i++){const thisChunkHeight=i<fullChunks?16:partialChunkHeight;({srcPos}=(0,_image_utils.applyMaskImageData)({src,srcPos,dest,width,height:thisChunkHeight})),ctx.putImageData(chunkImgData,0,16*i)}}function copyCtxState(sourceCtx,destCtx){const properties=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let i=0,ii=properties.length;i<ii;i++){const property=properties[i];void 0!==sourceCtx[property]&&(destCtx[property]=sourceCtx[property])}void 0!==sourceCtx.setLineDash&&(destCtx.setLineDash(sourceCtx.getLineDash()),destCtx.lineDashOffset=sourceCtx.lineDashOffset)}function resetCtxToDefault(ctx,foregroundColor){ctx.strokeStyle=ctx.fillStyle=foregroundColor||"#000000",ctx.fillRule="nonzero",ctx.globalAlpha=1,ctx.lineWidth=1,ctx.lineCap="butt",ctx.lineJoin="miter",ctx.miterLimit=10,ctx.globalCompositeOperation="source-over",ctx.font="10px sans-serif",void 0!==ctx.setLineDash&&(ctx.setLineDash([]),ctx.lineDashOffset=0)}function composeSMaskBackdrop(bytes,r0,g0,b0){const length=bytes.length;for(let i=3;i<length;i+=4){const alpha=bytes[i];if(0===alpha)bytes[i-3]=r0,bytes[i-2]=g0,bytes[i-1]=b0;else if(alpha<255){const alpha_=255-alpha;bytes[i-3]=bytes[i-3]*alpha+r0*alpha_>>8,bytes[i-2]=bytes[i-2]*alpha+g0*alpha_>>8,bytes[i-1]=bytes[i-1]*alpha+b0*alpha_>>8}}}function composeSMaskAlpha(maskData,layerData,transferMap){const length=maskData.length;for(let i=3;i<length;i+=4)layerData[i]=layerData[i]*(transferMap?transferMap[maskData[i]]:maskData[i])*.00392156862745098|0}function composeSMaskLuminosity(maskData,layerData,transferMap){const length=maskData.length;for(let i=3;i<length;i+=4){const y=77*maskData[i-3]+152*maskData[i-2]+28*maskData[i-1];layerData[i]=transferMap?layerData[i]*transferMap[y>>8]>>8:layerData[i]*y>>16}}function getImageSmoothingEnabled(transform,interpolate){const scale=_util2.Util.singularValueDecompose2dScale(transform);scale[0]=Math.fround(scale[0]),scale[1]=Math.fround(scale[1]);const actualScale=Math.fround((globalThis.devicePixelRatio||1)*_display_utils2.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==interpolate?interpolate:scale[0]<=actualScale||scale[1]<=actualScale}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};class CanvasGraphics{constructor(canvasCtx,commonObjs,objs,canvasFactory,imageLayer,optionalContentConfig,annotationCanvasMap,pageColors){this.ctx=canvasCtx,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=commonObjs,this.objs=objs,this.canvasFactory=canvasFactory,this.imageLayer=imageLayer,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=optionalContentConfig,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=annotationCanvasMap,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=pageColors?.background||null,this.foregroundColor=pageColors?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(data,fallback=null){return"string"==typeof data?data.startsWith("g_")?this.commonObjs.get(data):this.objs.get(data):fallback}beginDrawing({transform,viewport,transparency=!1,background=null}){const width=this.ctx.canvas.width,height=this.ctx.canvas.height,defaultBackgroundColor=background||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const fg=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const bg=this.backgroundColor=this.ctx.fillStyle;let isValidDefaultBg=!0,defaultBg=defaultBackgroundColor;if(this.ctx.fillStyle=defaultBackgroundColor,defaultBg=this.ctx.fillStyle,isValidDefaultBg="string"==typeof defaultBg&&/^#[0-9A-Fa-f]{6}$/.test(defaultBg),"#000000"===fg&&"#ffffff"===bg||fg===bg||!isValidDefaultBg)this.foregroundColor=this.backgroundColor=null;else{const[rB,gB,bB]=(0,_display_utils2.getRGB)(defaultBg),newComp=x=>(x/=255)<=.03928?x/12.92:((x+.055)/1.055)**2.4,lumB=Math.round(.2126*newComp(rB)+.7152*newComp(gB)+.0722*newComp(bB));this.selectColor=(r,g,b)=>{const lumC=.2126*newComp(r)+.7152*newComp(g)+.0722*newComp(b);return Math.round(lumC)===lumB?bg:fg}}}if(this.ctx.fillStyle=this.backgroundColor||defaultBackgroundColor,this.ctx.fillRect(0,0,width,height),this.ctx.restore(),transparency){const transparentCanvas=this.cachedCanvases.getCanvas("transparent",width,height);this.compositeCtx=this.ctx,this.transparentCanvas=transparentCanvas.canvas,this.ctx=transparentCanvas.context,this.ctx.save(),this.ctx.transform(...(0,_display_utils2.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx,this.foregroundColor),transform&&(this.ctx.transform(...transform),this.outputScaleX=transform[0],this.outputScaleY=transform[0]),this.ctx.transform(...viewport.transform),this.viewportScale=viewport.scale,this.baseTransform=(0,_display_utils2.getCurrentTransform)(this.ctx),this.imageLayer&&((0,_display_utils2.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(operatorList,executionStartIdx,continueCallback,stepper){const argsArray=operatorList.argsArray,fnArray=operatorList.fnArray;let i=executionStartIdx||0;const argsArrayLen=argsArray.length;if(argsArrayLen===i)return i;const chunkOperations=argsArrayLen-i>10&&"function"==typeof continueCallback,endTime=chunkOperations?Date.now()+15:0;let steps=0;const commonObjs=this.commonObjs,objs=this.objs;let fnId;for(;;){if(void 0!==stepper&&i===stepper.nextBreakPoint)return stepper.breakIt(i,continueCallback),i;if(fnId=fnArray[i],fnId!==_util2.OPS.dependency)this[fnId].apply(this,argsArray[i]);else for(const depObjId of argsArray[i]){const objsPool=depObjId.startsWith("g_")?commonObjs:objs;if(!objsPool.has(depObjId))return objsPool.get(depObjId,continueCallback),i}if(i++,i===argsArrayLen)return i;if(chunkOperations&&++steps>10){if(Date.now()>endTime)return continueCallback(),i;steps=0}}}#restoreInitialState(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#restoreInitialState(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const cache of this._cachedBitmapsMap.values()){for(const canvas of cache.values())typeof HTMLCanvasElement<"u"&&canvas instanceof HTMLCanvasElement&&(canvas.width=canvas.height=0);cache.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(img,inverseTransform){const width=img.width,height=img.height;let tmpCanvas,tmpCtx,widthScale=Math.max(Math.hypot(inverseTransform[0],inverseTransform[1]),1),heightScale=Math.max(Math.hypot(inverseTransform[2],inverseTransform[3]),1),paintWidth=width,paintHeight=height,tmpCanvasId="prescale1";for(;widthScale>2&&paintWidth>1||heightScale>2&&paintHeight>1;){let newWidth=paintWidth,newHeight=paintHeight;widthScale>2&&paintWidth>1&&(newWidth=Math.ceil(paintWidth/2),widthScale/=paintWidth/newWidth),heightScale>2&&paintHeight>1&&(newHeight=Math.ceil(paintHeight/2),heightScale/=paintHeight/newHeight),tmpCanvas=this.cachedCanvases.getCanvas(tmpCanvasId,newWidth,newHeight),tmpCtx=tmpCanvas.context,tmpCtx.clearRect(0,0,newWidth,newHeight),tmpCtx.drawImage(img,0,0,paintWidth,paintHeight,0,0,newWidth,newHeight),img=tmpCanvas.canvas,paintWidth=newWidth,paintHeight=newHeight,tmpCanvasId="prescale1"===tmpCanvasId?"prescale2":"prescale1"}return{img,paintWidth,paintHeight}}_createMaskCanvas(img){const ctx=this.ctx,{width,height}=img,fillColor=this.current.fillColor,isPatternFill=this.current.patternFill,currentTransform=(0,_display_utils2.getCurrentTransform)(ctx);let cache,cacheKey,scaled,maskCanvas;if((img.bitmap||img.data)&&img.count>1){const mainKey=img.bitmap||img.data.buffer,withoutTranslation=currentTransform.slice(0,4);cacheKey=JSON.stringify(isPatternFill?withoutTranslation:[withoutTranslation,fillColor]),cache=this._cachedBitmapsMap.get(mainKey),cache||(cache=new Map,this._cachedBitmapsMap.set(mainKey,cache));const cachedImage=cache.get(cacheKey);if(cachedImage&&!isPatternFill)return{canvas:cachedImage,offsetX:Math.round(Math.min(currentTransform[0],currentTransform[2])+currentTransform[4]),offsetY:Math.round(Math.min(currentTransform[1],currentTransform[3])+currentTransform[5])};scaled=cachedImage}scaled||(maskCanvas=this.cachedCanvases.getCanvas("maskCanvas",width,height),putBinaryImageMask(maskCanvas.context,img));let maskToCanvas=_util2.Util.transform(currentTransform,[1/width,0,0,-1/height,0,0]);maskToCanvas=_util2.Util.transform(maskToCanvas,[1,0,0,1,0,-height]);const cord1=_util2.Util.applyTransform([0,0],maskToCanvas),cord2=_util2.Util.applyTransform([width,height],maskToCanvas),rect=_util2.Util.normalizeRect([cord1[0],cord1[1],cord2[0],cord2[1]]),drawnWidth=Math.round(rect[2]-rect[0])||1,drawnHeight=Math.round(rect[3]-rect[1])||1,fillCanvas=this.cachedCanvases.getCanvas("fillCanvas",drawnWidth,drawnHeight),fillCtx=fillCanvas.context,offsetX=Math.min(cord1[0],cord2[0]),offsetY=Math.min(cord1[1],cord2[1]);fillCtx.translate(-offsetX,-offsetY),fillCtx.transform(...maskToCanvas),scaled||(scaled=this._scaleImage(maskCanvas.canvas,(0,_display_utils2.getCurrentTransformInverse)(fillCtx)),scaled=scaled.img,cache&&isPatternFill&&cache.set(cacheKey,scaled)),fillCtx.imageSmoothingEnabled=getImageSmoothingEnabled((0,_display_utils2.getCurrentTransform)(fillCtx),img.interpolate),drawImageAtIntegerCoords(fillCtx,scaled,0,0,scaled.width,scaled.height,0,0,width,height),fillCtx.globalCompositeOperation="source-in";const inverse=_util2.Util.transform((0,_display_utils2.getCurrentTransformInverse)(fillCtx),[1,0,0,1,-offsetX,-offsetY]);return fillCtx.fillStyle=isPatternFill?fillColor.getPattern(ctx,this,inverse,_pattern_helper.PathType.FILL):fillColor,fillCtx.fillRect(0,0,width,height),cache&&!isPatternFill&&(this.cachedCanvases.delete("fillCanvas"),cache.set(cacheKey,fillCanvas.canvas)),{canvas:fillCanvas.canvas,offsetX:Math.round(offsetX),offsetY:Math.round(offsetY)}}setLineWidth(width){width!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=width,this.ctx.lineWidth=width}setLineCap(style){this.ctx.lineCap=LINE_CAP_STYLES[style]}setLineJoin(style){this.ctx.lineJoin=LINE_JOIN_STYLES[style]}setMiterLimit(limit){this.ctx.miterLimit=limit}setDash(dashArray,dashPhase){const ctx=this.ctx;void 0!==ctx.setLineDash&&(ctx.setLineDash(dashArray),ctx.lineDashOffset=dashPhase)}setRenderingIntent(intent){}setFlatness(flatness){}setGState(states){for(let i=0,ii=states.length;i<ii;i++){const state=states[i],value=state[1];switch(state[0]){case"LW":this.setLineWidth(value);break;case"LC":this.setLineCap(value);break;case"LJ":this.setLineJoin(value);break;case"ML":this.setMiterLimit(value);break;case"D":this.setDash(value[0],value[1]);break;case"RI":this.setRenderingIntent(value);break;case"FL":this.setFlatness(value);break;case"Font":this.setFont(value[0],value[1]);break;case"CA":this.current.strokeAlpha=state[1];break;case"ca":this.current.fillAlpha=state[1],this.ctx.globalAlpha=state[1];break;case"BM":this.ctx.globalCompositeOperation=value;break;case"SMask":this.current.activeSMask=value?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=value}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const inSMaskMode=this.inSMaskMode;this.current.activeSMask&&!inSMaskMode?this.beginSMaskMode():!this.current.activeSMask&&inSMaskMode&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const scratchCanvas=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=scratchCanvas.context;const ctx=this.ctx;ctx.setTransform(...(0,_display_utils2.getCurrentTransform)(this.suspendedCtx)),copyCtxState(this.suspendedCtx,ctx),function mirrorContextOperations(ctx,destCtx){if(ctx._removeMirroring)throw new Error("Context is already forwarding operations.");ctx.__originalSave=ctx.save,ctx.__originalRestore=ctx.restore,ctx.__originalRotate=ctx.rotate,ctx.__originalScale=ctx.scale,ctx.__originalTranslate=ctx.translate,ctx.__originalTransform=ctx.transform,ctx.__originalSetTransform=ctx.setTransform,ctx.__originalResetTransform=ctx.resetTransform,ctx.__originalClip=ctx.clip,ctx.__originalMoveTo=ctx.moveTo,ctx.__originalLineTo=ctx.lineTo,ctx.__originalBezierCurveTo=ctx.bezierCurveTo,ctx.__originalRect=ctx.rect,ctx.__originalClosePath=ctx.closePath,ctx.__originalBeginPath=ctx.beginPath,ctx._removeMirroring=()=>{ctx.save=ctx.__originalSave,ctx.restore=ctx.__originalRestore,ctx.rotate=ctx.__originalRotate,ctx.scale=ctx.__originalScale,ctx.translate=ctx.__originalTranslate,ctx.transform=ctx.__originalTransform,ctx.setTransform=ctx.__originalSetTransform,ctx.resetTransform=ctx.__originalResetTransform,ctx.clip=ctx.__originalClip,ctx.moveTo=ctx.__originalMoveTo,ctx.lineTo=ctx.__originalLineTo,ctx.bezierCurveTo=ctx.__originalBezierCurveTo,ctx.rect=ctx.__originalRect,ctx.closePath=ctx.__originalClosePath,ctx.beginPath=ctx.__originalBeginPath,delete ctx._removeMirroring},ctx.save=function(){destCtx.save(),this.__originalSave()},ctx.restore=function(){destCtx.restore(),this.__originalRestore()},ctx.translate=function(x,y){destCtx.translate(x,y),this.__originalTranslate(x,y)},ctx.scale=function(x,y){destCtx.scale(x,y),this.__originalScale(x,y)},ctx.transform=function(a,b,c,d,e,f){destCtx.transform(a,b,c,d,e,f),this.__originalTransform(a,b,c,d,e,f)},ctx.setTransform=function(a,b,c,d,e,f){destCtx.setTransform(a,b,c,d,e,f),this.__originalSetTransform(a,b,c,d,e,f)},ctx.resetTransform=function(){destCtx.resetTransform(),this.__originalResetTransform()},ctx.rotate=function(angle){destCtx.rotate(angle),this.__originalRotate(angle)},ctx.clip=function(rule){destCtx.clip(rule),this.__originalClip(rule)},ctx.moveTo=function(x,y){destCtx.moveTo(x,y),this.__originalMoveTo(x,y)},ctx.lineTo=function(x,y){destCtx.lineTo(x,y),this.__originalLineTo(x,y)},ctx.bezierCurveTo=function(cp1x,cp1y,cp2x,cp2y,x,y){destCtx.bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y),this.__originalBezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y)},ctx.rect=function(x,y,width,height){destCtx.rect(x,y,width,height),this.__originalRect(x,y,width,height)},ctx.closePath=function(){destCtx.closePath(),this.__originalClosePath()},ctx.beginPath=function(){destCtx.beginPath(),this.__originalBeginPath()}}(ctx,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(dirtyBox){this.current.activeSMask&&(dirtyBox?(dirtyBox[0]=Math.floor(dirtyBox[0]),dirtyBox[1]=Math.floor(dirtyBox[1]),dirtyBox[2]=Math.ceil(dirtyBox[2]),dirtyBox[3]=Math.ceil(dirtyBox[3])):dirtyBox=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function composeSMask(ctx,smask,layerCtx,layerBox){const layerOffsetX=layerBox[0],layerOffsetY=layerBox[1],layerWidth=layerBox[2]-layerOffsetX,layerHeight=layerBox[3]-layerOffsetY;0===layerWidth||0===layerHeight||(function genericComposeSMask(maskCtx,layerCtx,width,height,subtype,backdrop,transferMap,layerOffsetX,layerOffsetY,maskOffsetX,maskOffsetY){const hasBackdrop=!!backdrop,r0=hasBackdrop?backdrop[0]:0,g0=hasBackdrop?backdrop[1]:0,b0=hasBackdrop?backdrop[2]:0;let composeFn;composeFn="Luminosity"===subtype?composeSMaskLuminosity:composeSMaskAlpha;const chunkSize=Math.min(height,Math.ceil(1048576/width));for(let row=0;row<height;row+=chunkSize){const chunkHeight=Math.min(chunkSize,height-row),maskData=maskCtx.getImageData(layerOffsetX-maskOffsetX,row+(layerOffsetY-maskOffsetY),width,chunkHeight),layerData=layerCtx.getImageData(layerOffsetX,row+layerOffsetY,width,chunkHeight);hasBackdrop&&composeSMaskBackdrop(maskData.data,r0,g0,b0),composeFn(maskData.data,layerData.data,transferMap),layerCtx.putImageData(layerData,layerOffsetX,row+layerOffsetY)}}(smask.context,layerCtx,layerWidth,layerHeight,smask.subtype,smask.backdrop,smask.transferMap,layerOffsetX,layerOffsetY,smask.offsetX,smask.offsetY),ctx.save(),ctx.globalAlpha=1,ctx.globalCompositeOperation="source-over",ctx.setTransform(1,0,0,1,0,0),ctx.drawImage(layerCtx.canvas,0,0),ctx.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,dirtyBox),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const old=this.current;this.stateStack.push(old),this.current=old.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(a,b,c,d,e,f){this.ctx.transform(a,b,c,d,e,f),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(ops,args,minMax){const ctx=this.ctx,current=this.current;let startX,startY,x=current.x,y=current.y;const currentTransform=(0,_display_utils2.getCurrentTransform)(ctx),isScalingMatrix=0===currentTransform[0]&&0===currentTransform[3]||0===currentTransform[1]&&0===currentTransform[2],minMaxForBezier=isScalingMatrix?minMax.slice(0):null;for(let i=0,j=0,ii=ops.length;i<ii;i++)switch(0|ops[i]){case _util2.OPS.rectangle:x=args[j++],y=args[j++];const width=args[j++],height=args[j++],xw=x+width,yh=y+height;ctx.moveTo(x,y),0===width||0===height?ctx.lineTo(xw,yh):(ctx.lineTo(xw,y),ctx.lineTo(xw,yh),ctx.lineTo(x,yh)),isScalingMatrix||current.updateRectMinMax(currentTransform,[x,y,xw,yh]),ctx.closePath();break;case _util2.OPS.moveTo:x=args[j++],y=args[j++],ctx.moveTo(x,y),isScalingMatrix||current.updatePathMinMax(currentTransform,x,y);break;case _util2.OPS.lineTo:x=args[j++],y=args[j++],ctx.lineTo(x,y),isScalingMatrix||current.updatePathMinMax(currentTransform,x,y);break;case _util2.OPS.curveTo:startX=x,startY=y,x=args[j+4],y=args[j+5],ctx.bezierCurveTo(args[j],args[j+1],args[j+2],args[j+3],x,y),current.updateCurvePathMinMax(currentTransform,startX,startY,args[j],args[j+1],args[j+2],args[j+3],x,y,minMaxForBezier),j+=6;break;case _util2.OPS.curveTo2:startX=x,startY=y,ctx.bezierCurveTo(x,y,args[j],args[j+1],args[j+2],args[j+3]),current.updateCurvePathMinMax(currentTransform,startX,startY,x,y,args[j],args[j+1],args[j+2],args[j+3],minMaxForBezier),x=args[j+2],y=args[j+3],j+=4;break;case _util2.OPS.curveTo3:startX=x,startY=y,x=args[j+2],y=args[j+3],ctx.bezierCurveTo(args[j],args[j+1],x,y,x,y),current.updateCurvePathMinMax(currentTransform,startX,startY,args[j],args[j+1],x,y,x,y,minMaxForBezier),j+=4;break;case _util2.OPS.closePath:ctx.closePath()}isScalingMatrix&&current.updateScalingPathMinMax(currentTransform,minMaxForBezier),current.setCurrentPoint(x,y)}closePath(){this.ctx.closePath()}stroke(consumePath){consumePath=!(typeof consumePath<"u")||consumePath;const ctx=this.ctx,strokeColor=this.current.strokeColor;ctx.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof strokeColor&&strokeColor?.getPattern?(ctx.save(),ctx.strokeStyle=strokeColor.getPattern(ctx,this,(0,_display_utils2.getCurrentTransformInverse)(ctx),_pattern_helper.PathType.STROKE),this.rescaleAndStroke(!1),ctx.restore()):this.rescaleAndStroke(!0)),consumePath&&this.consumePath(this.current.getClippedPathBoundingBox()),ctx.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(consumePath){consumePath=!(typeof consumePath<"u")||consumePath;const ctx=this.ctx,fillColor=this.current.fillColor;let needRestore=!1;this.current.patternFill&&(ctx.save(),ctx.fillStyle=fillColor.getPattern(ctx,this,(0,_display_utils2.getCurrentTransformInverse)(ctx),_pattern_helper.PathType.FILL),needRestore=!0);const intersect=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==intersect&&(this.pendingEOFill?(ctx.fill("evenodd"),this.pendingEOFill=!1):ctx.fill()),needRestore&&ctx.restore(),consumePath&&this.consumePath(intersect)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=_util2.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const paths=this.pendingTextPaths,ctx=this.ctx;if(void 0!==paths){ctx.save(),ctx.beginPath();for(const path of paths)ctx.setTransform(...path.transform),ctx.translate(path.x,path.y),path.addToPath(ctx,path.fontSize);ctx.restore(),ctx.clip(),ctx.beginPath(),delete this.pendingTextPaths}else ctx.beginPath()}setCharSpacing(spacing){this.current.charSpacing=spacing}setWordSpacing(spacing){this.current.wordSpacing=spacing}setHScale(scale){this.current.textHScale=scale/100}setLeading(leading){this.current.leading=-leading}setFont(fontRefName,size){const fontObj=this.commonObjs.get(fontRefName),current=this.current;if(!fontObj)throw new Error(`Can't find font for ${fontRefName}`);if(current.fontMatrix=fontObj.fontMatrix||_util2.FONT_IDENTITY_MATRIX,(0===current.fontMatrix[0]||0===current.fontMatrix[3])&&(0,_util2.warn)("Invalid font matrix for font "+fontRefName),size<0?(size=-size,current.fontDirection=-1):current.fontDirection=1,this.current.font=fontObj,this.current.fontSize=size,fontObj.isType3Font)return;let bold="normal";fontObj.black?bold="900":fontObj.bold&&(bold="bold");const italic=fontObj.italic?"italic":"normal",typeface=`"${fontObj.loadedName||"sans-serif"}", ${fontObj.fallbackName}`;let browserFontSize=size;size<16?browserFontSize=16:size>100&&(browserFontSize=100),this.current.fontSizeScale=size/browserFontSize,this.ctx.font=`${italic} ${bold} ${browserFontSize}px ${typeface}`}setTextRenderingMode(mode){this.current.textRenderingMode=mode}setTextRise(rise){this.current.textRise=rise}moveText(x,y){this.current.x=this.current.lineX+=x,this.current.y=this.current.lineY+=y}setLeadingMoveText(x,y){this.setLeading(-y),this.moveText(x,y)}setTextMatrix(a,b,c,d,e,f){this.current.textMatrix=[a,b,c,d,e,f],this.current.textMatrixScale=Math.hypot(a,b),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(character,x,y,patternTransform){const ctx=this.ctx,current=this.current,font=current.font,textRenderingMode=current.textRenderingMode,fontSize=current.fontSize/current.fontSizeScale,fillStrokeMode=textRenderingMode&_util2.TextRenderingMode.FILL_STROKE_MASK,isAddToPathSet=!!(textRenderingMode&_util2.TextRenderingMode.ADD_TO_PATH_FLAG),patternFill=current.patternFill&&!font.missingFile;let addToPath;(font.disableFontFace||isAddToPathSet||patternFill)&&(addToPath=font.getPathGenerator(this.commonObjs,character)),font.disableFontFace||patternFill?(ctx.save(),ctx.translate(x,y),ctx.beginPath(),addToPath(ctx,fontSize),patternTransform&&ctx.setTransform(...patternTransform),(fillStrokeMode===_util2.TextRenderingMode.FILL||fillStrokeMode===_util2.TextRenderingMode.FILL_STROKE)&&ctx.fill(),(fillStrokeMode===_util2.TextRenderingMode.STROKE||fillStrokeMode===_util2.TextRenderingMode.FILL_STROKE)&&ctx.stroke(),ctx.restore()):((fillStrokeMode===_util2.TextRenderingMode.FILL||fillStrokeMode===_util2.TextRenderingMode.FILL_STROKE)&&ctx.fillText(character,x,y),(fillStrokeMode===_util2.TextRenderingMode.STROKE||fillStrokeMode===_util2.TextRenderingMode.FILL_STROKE)&&ctx.strokeText(character,x,y)),isAddToPathSet&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,_display_utils2.getCurrentTransform)(ctx),x,y,fontSize,addToPath})}get isFontSubpixelAAEnabled(){const{context:ctx}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ctx.scale(1.5,1),ctx.fillText("I",0,10);const data=ctx.getImageData(0,0,10,10).data;let enabled=!1;for(let i=3;i<data.length;i+=4)if(data[i]>0&&data[i]<255){enabled=!0;break}return(0,_util2.shadow)(this,"isFontSubpixelAAEnabled",enabled)}showText(glyphs){const current=this.current,font=current.font;if(font.isType3Font)return this.showType3Text(glyphs);const fontSize=current.fontSize;if(0===fontSize)return;const ctx=this.ctx,fontSizeScale=current.fontSizeScale,charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,fontDirection=current.fontDirection,textHScale=current.textHScale*fontDirection,glyphsLength=glyphs.length,vertical=font.vertical,spacingDir=vertical?1:-1,defaultVMetrics=font.defaultVMetrics,widthAdvanceScale=fontSize*current.fontMatrix[0],simpleFillText=current.textRenderingMode===_util2.TextRenderingMode.FILL&&!font.disableFontFace&&!current.patternFill;let patternTransform;if(ctx.save(),ctx.transform(...current.textMatrix),ctx.translate(current.x,current.y+current.textRise),ctx.scale(textHScale,fontDirection>0?-1:1),current.patternFill){ctx.save();const pattern=current.fillColor.getPattern(ctx,this,(0,_display_utils2.getCurrentTransformInverse)(ctx),_pattern_helper.PathType.FILL);patternTransform=(0,_display_utils2.getCurrentTransform)(ctx),ctx.restore(),ctx.fillStyle=pattern}let lineWidth=current.lineWidth;const scale=current.textMatrixScale;if(0===scale||0===lineWidth){const fillStrokeMode=current.textRenderingMode&_util2.TextRenderingMode.FILL_STROKE_MASK;(fillStrokeMode===_util2.TextRenderingMode.STROKE||fillStrokeMode===_util2.TextRenderingMode.FILL_STROKE)&&(lineWidth=this.getSinglePixelWidth())}else lineWidth/=scale;1!==fontSizeScale&&(ctx.scale(fontSizeScale,fontSizeScale),lineWidth/=fontSizeScale),ctx.lineWidth=lineWidth;let i,x=0;for(i=0;i<glyphsLength;++i){const glyph=glyphs[i];if("number"==typeof glyph){x+=spacingDir*glyph*fontSize/1e3;continue}let restoreNeeded=!1;const spacing=(glyph.isSpace?wordSpacing:0)+charSpacing,character=glyph.fontChar,accent=glyph.accent;let scaledX,scaledY,charWidth,width=glyph.width;if(vertical){const vmetric=glyph.vmetric||defaultVMetrics,vx=-(glyph.vmetric?vmetric[1]:.5*width)*widthAdvanceScale;width=vmetric?-vmetric[0]:width,scaledX=vx/fontSizeScale,scaledY=(x+vmetric[2]*widthAdvanceScale)/fontSizeScale}else scaledX=x/fontSizeScale,scaledY=0;if(font.remeasure&&width>0){const measuredWidth=1e3*ctx.measureText(character).width/fontSize*fontSizeScale;if(width<measuredWidth&&this.isFontSubpixelAAEnabled){const characterScaleX=width/measuredWidth;restoreNeeded=!0,ctx.save(),ctx.scale(characterScaleX,1),scaledX/=characterScaleX}else width!==measuredWidth&&(scaledX+=(width-measuredWidth)/2e3*fontSize/fontSizeScale)}this.contentVisible&&(glyph.isInFont||font.missingFile)&&(simpleFillText&&!accent?ctx.fillText(character,scaledX,scaledY):(this.paintChar(character,scaledX,scaledY,patternTransform),accent&&this.paintChar(accent.fontChar,scaledX+fontSize*accent.offset.x/fontSizeScale,scaledY-fontSize*accent.offset.y/fontSizeScale,patternTransform))),charWidth=vertical?width*widthAdvanceScale-spacing*fontDirection:width*widthAdvanceScale+spacing*fontDirection,x+=charWidth,restoreNeeded&&ctx.restore()}vertical?current.y-=x:current.x+=x*textHScale,ctx.restore(),this.compose()}showType3Text(glyphs){const ctx=this.ctx,current=this.current,font=current.font,fontSize=current.fontSize,fontDirection=current.fontDirection,spacingDir=font.vertical?1:-1,charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,textHScale=current.textHScale*fontDirection,fontMatrix=current.fontMatrix||_util2.FONT_IDENTITY_MATRIX,glyphsLength=glyphs.length;let i,glyph,width,spacingLength;if(current.textRenderingMode!==_util2.TextRenderingMode.INVISIBLE&&0!==fontSize){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,ctx.save(),ctx.transform(...current.textMatrix),ctx.translate(current.x,current.y),ctx.scale(textHScale,fontDirection),i=0;i<glyphsLength;++i){if(glyph=glyphs[i],"number"==typeof glyph){spacingLength=spacingDir*glyph*fontSize/1e3,this.ctx.translate(spacingLength,0),current.x+=spacingLength*textHScale;continue}const spacing=(glyph.isSpace?wordSpacing:0)+charSpacing,operatorList=font.charProcOperatorList[glyph.operatorListId];operatorList?(this.contentVisible&&(this.processingType3=glyph,this.save(),ctx.scale(fontSize,fontSize),ctx.transform(...fontMatrix),this.executeOperatorList(operatorList),this.restore()),width=_util2.Util.applyTransform([glyph.width,0],fontMatrix)[0]*fontSize+spacing,ctx.translate(width,0),current.x+=width*textHScale):(0,_util2.warn)(`Type3 character "${glyph.operatorListId}" is not available.`)}ctx.restore(),this.processingType3=null}}setCharWidth(xWidth,yWidth){}setCharWidthAndBounds(xWidth,yWidth,llx,lly,urx,ury){this.ctx.rect(llx,lly,urx-llx,ury-lly),this.ctx.clip(),this.endPath()}getColorN_Pattern(IR){let pattern;if("TilingPattern"===IR[0]){const color=IR[1],baseTransform=this.baseTransform||(0,_display_utils2.getCurrentTransform)(this.ctx);pattern=new _pattern_helper.TilingPattern(IR,color,this.ctx,{createCanvasGraphics:ctx=>new CanvasGraphics(ctx,this.commonObjs,this.objs,this.canvasFactory)},baseTransform)}else pattern=this._getPattern(IR[1],IR[2]);return pattern}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(r,g,b){const color=this.selectColor?.(r,g,b)||_util2.Util.makeHexColor(r,g,b);this.ctx.strokeStyle=color,this.current.strokeColor=color}setFillRGBColor(r,g,b){const color=this.selectColor?.(r,g,b)||_util2.Util.makeHexColor(r,g,b);this.ctx.fillStyle=color,this.current.fillColor=color,this.current.patternFill=!1}_getPattern(objId,matrix=null){let pattern;return this.cachedPatterns.has(objId)?pattern=this.cachedPatterns.get(objId):(pattern=(0,_pattern_helper.getShadingPattern)(this.objs.get(objId)),this.cachedPatterns.set(objId,pattern)),matrix&&(pattern.matrix=matrix),pattern}shadingFill(objId){if(!this.contentVisible)return;const ctx=this.ctx;this.save();const pattern=this._getPattern(objId);ctx.fillStyle=pattern.getPattern(ctx,this,(0,_display_utils2.getCurrentTransformInverse)(ctx),_pattern_helper.PathType.SHADING);const inv=(0,_display_utils2.getCurrentTransformInverse)(ctx);if(inv){const canvas=ctx.canvas,width=canvas.width,height=canvas.height,bl=_util2.Util.applyTransform([0,0],inv),br=_util2.Util.applyTransform([0,height],inv),ul=_util2.Util.applyTransform([width,0],inv),ur=_util2.Util.applyTransform([width,height],inv),x0=Math.min(bl[0],br[0],ul[0],ur[0]),y0=Math.min(bl[1],br[1],ul[1],ur[1]),x1=Math.max(bl[0],br[0],ul[0],ur[0]),y1=Math.max(bl[1],br[1],ul[1],ur[1]);this.ctx.fillRect(x0,y0,x1-x0,y1-y0)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,_util2.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,_util2.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(matrix,bbox){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(matrix)&&6===matrix.length&&this.transform(...matrix),this.baseTransform=(0,_display_utils2.getCurrentTransform)(this.ctx),bbox)&&(this.ctx.rect(bbox[0],bbox[1],bbox[2]-bbox[0],bbox[3]-bbox[1]),this.current.updateRectMinMax((0,_display_utils2.getCurrentTransform)(this.ctx),bbox),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(group){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const currentCtx=this.ctx;group.isolated||(0,_util2.info)("TODO: Support non-isolated groups."),group.knockout&&(0,_util2.warn)("Knockout groups not supported.");const currentTransform=(0,_display_utils2.getCurrentTransform)(currentCtx);if(group.matrix&&currentCtx.transform(...group.matrix),!group.bbox)throw new Error("Bounding box is required.");let bounds=_util2.Util.getAxialAlignedBoundingBox(group.bbox,(0,_display_utils2.getCurrentTransform)(currentCtx));bounds=_util2.Util.intersect(bounds,[0,0,currentCtx.canvas.width,currentCtx.canvas.height])||[0,0,0,0];const offsetX=Math.floor(bounds[0]),offsetY=Math.floor(bounds[1]);let drawnWidth=Math.max(Math.ceil(bounds[2])-offsetX,1),drawnHeight=Math.max(Math.ceil(bounds[3])-offsetY,1),scaleX=1,scaleY=1;drawnWidth>4096&&(scaleX=drawnWidth/4096,drawnWidth=4096),drawnHeight>4096&&(scaleY=drawnHeight/4096,drawnHeight=4096),this.current.startNewPathAndClipBox([0,0,drawnWidth,drawnHeight]);let cacheId="groupAt"+this.groupLevel;group.smask&&(cacheId+="_smask_"+this.smaskCounter++%2);const scratchCanvas=this.cachedCanvases.getCanvas(cacheId,drawnWidth,drawnHeight),groupCtx=scratchCanvas.context;groupCtx.scale(1/scaleX,1/scaleY),groupCtx.translate(-offsetX,-offsetY),groupCtx.transform(...currentTransform),group.smask?this.smaskStack.push({canvas:scratchCanvas.canvas,context:groupCtx,offsetX,offsetY,scaleX,scaleY,subtype:group.smask.subtype,backdrop:group.smask.backdrop,transferMap:group.smask.transferMap||null,startTransformInverse:null}):(currentCtx.setTransform(1,0,0,1,0,0),currentCtx.translate(offsetX,offsetY),currentCtx.scale(scaleX,scaleY),currentCtx.save()),copyCtxState(currentCtx,groupCtx),this.ctx=groupCtx,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(currentCtx),this.groupLevel++}endGroup(group){if(!this.contentVisible)return;this.groupLevel--;const groupCtx=this.ctx,ctx=this.groupStack.pop();if(this.ctx=ctx,this.ctx.imageSmoothingEnabled=!1,group.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const currentMtx=(0,_display_utils2.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...currentMtx);const dirtyBox=_util2.Util.getAxialAlignedBoundingBox([0,0,groupCtx.canvas.width,groupCtx.canvas.height],currentMtx);this.ctx.drawImage(groupCtx.canvas,0,0),this.ctx.restore(),this.compose(dirtyBox)}}beginAnnotation(id,rect,transform,matrix,hasOwnCanvas){if(this.#restoreInitialState(),resetCtxToDefault(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(rect)&&4===rect.length){const width=rect[2]-rect[0],height=rect[3]-rect[1];if(hasOwnCanvas&&this.annotationCanvasMap){(transform=transform.slice())[4]-=rect[0],transform[5]-=rect[1],(rect=rect.slice())[0]=rect[1]=0,rect[2]=width,rect[3]=height;const[scaleX,scaleY]=_util2.Util.singularValueDecompose2dScale((0,_display_utils2.getCurrentTransform)(this.ctx)),{viewportScale}=this,canvasWidth=Math.ceil(width*this.outputScaleX*viewportScale),canvasHeight=Math.ceil(height*this.outputScaleY*viewportScale);this.annotationCanvas=this.canvasFactory.create(canvasWidth,canvasHeight);const{canvas,context}=this.annotationCanvas;this.annotationCanvasMap.set(id,canvas),this.annotationCanvas.savedCtx=this.ctx,this.ctx=context,this.ctx.setTransform(scaleX,0,0,-scaleY,0,height*scaleY),resetCtxToDefault(this.ctx,this.foregroundColor)}else resetCtxToDefault(this.ctx,this.foregroundColor),this.ctx.rect(rect[0],rect[1],width,height),this.ctx.clip(),this.endPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...transform),this.transform(...matrix)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(img){if(!this.contentVisible)return;const count=img.count;(img=this.getObject(img.data,img)).count=count;const ctx=this.ctx,glyph=this.processingType3;if(glyph&&(void 0===glyph.compiled&&(glyph.compiled=function compileType3Glyph(imgData){const{width,height}=imgData;if(width>MAX_SIZE_TO_COMPILE||height>MAX_SIZE_TO_COMPILE)return null;const POINT_TYPES=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),width1=width+1;let i,j,j0,points=new Uint8Array(width1*(height+1));const lineSize=width+7&-8;let data=new Uint8Array(lineSize*height),pos=0;for(const elem of imgData.data){let mask=128;for(;mask>0;)data[pos++]=elem&mask?0:255,mask>>=1}let count=0;for(pos=0,0!==data[pos]&&(points[0]=1,++count),j=1;j<width;j++)data[pos]!==data[pos+1]&&(points[j]=data[pos]?2:1,++count),pos++;for(0!==data[pos]&&(points[j]=2,++count),i=1;i<height;i++){pos=i*lineSize,j0=i*width1,data[pos-lineSize]!==data[pos]&&(points[j0]=data[pos]?1:8,++count);let sum=(data[pos]?4:0)+(data[pos-lineSize]?8:0);for(j=1;j<width;j++)sum=(sum>>2)+(data[pos+1]?4:0)+(data[pos-lineSize+1]?8:0),POINT_TYPES[sum]&&(points[j0+j]=POINT_TYPES[sum],++count),pos++;if(data[pos-lineSize]!==data[pos]&&(points[j0+j]=data[pos]?2:4,++count),count>1e3)return null}for(pos=lineSize*(height-1),j0=i*width1,0!==data[pos]&&(points[j0]=8,++count),j=1;j<width;j++)data[pos]!==data[pos+1]&&(points[j0+j]=data[pos]?4:8,++count),pos++;if(0!==data[pos]&&(points[j0+j]=4,++count),count>1e3)return null;const steps=new Int32Array([0,width1,-1,0,-width1,0,0,0,1]),path=new Path2D;for(i=0;count&&i<=height;i++){let p=i*width1;const end=p+width;for(;p<end&&!points[p];)p++;if(p===end)continue;path.moveTo(p%width1,i);const p0=p;let type=points[p];do{const step=steps[type];do{p+=step}while(!points[p]);const pp=points[p];5!==pp&&10!==pp?(type=pp,points[p]=0):(type=pp&51*type>>4,points[p]&=type>>2|type<<2),path.lineTo(p%width1,p/width1|0),points[p]||--count}while(p0!==p);--i}return data=null,points=null,function(c){c.save(),c.scale(1/width,-1/height),c.translate(0,-height),c.fill(path),c.beginPath(),c.restore()}}(img)),glyph.compiled))return void glyph.compiled(ctx);const mask=this._createMaskCanvas(img),maskCanvas=mask.canvas;ctx.save(),ctx.setTransform(1,0,0,1,0,0),ctx.drawImage(maskCanvas,mask.offsetX,mask.offsetY),ctx.restore(),this.compose()}paintImageMaskXObjectRepeat(img,scaleX,skewX=0,skewY=0,scaleY,positions){if(!this.contentVisible)return;img=this.getObject(img.data,img);const ctx=this.ctx;ctx.save();const currentTransform=(0,_display_utils2.getCurrentTransform)(ctx);ctx.transform(scaleX,skewX,skewY,scaleY,0,0);const mask=this._createMaskCanvas(img);ctx.setTransform(1,0,0,1,0,0);for(let i=0,ii=positions.length;i<ii;i+=2){const trans=_util2.Util.transform(currentTransform,[scaleX,skewX,skewY,scaleY,positions[i],positions[i+1]]),[x,y]=_util2.Util.applyTransform([0,0],trans);ctx.drawImage(mask.canvas,x,y)}ctx.restore(),this.compose()}paintImageMaskXObjectGroup(images){if(!this.contentVisible)return;const ctx=this.ctx,fillColor=this.current.fillColor,isPatternFill=this.current.patternFill;for(const image of images){const{data,width,height,transform}=image,maskCanvas=this.cachedCanvases.getCanvas("maskCanvas",width,height),maskCtx=maskCanvas.context;maskCtx.save(),putBinaryImageMask(maskCtx,this.getObject(data,image)),maskCtx.globalCompositeOperation="source-in",maskCtx.fillStyle=isPatternFill?fillColor.getPattern(maskCtx,this,(0,_display_utils2.getCurrentTransformInverse)(ctx),_pattern_helper.PathType.FILL):fillColor,maskCtx.fillRect(0,0,width,height),maskCtx.restore(),ctx.save(),ctx.transform(...transform),ctx.scale(1,-1),drawImageAtIntegerCoords(ctx,maskCanvas.canvas,0,0,width,height,0,-1,1,1),ctx.restore()}this.compose()}paintImageXObject(objId){if(!this.contentVisible)return;const imgData=this.getObject(objId);imgData?this.paintInlineImageXObject(imgData):(0,_util2.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(objId,scaleX,scaleY,positions){if(!this.contentVisible)return;const imgData=this.getObject(objId);if(!imgData)return void(0,_util2.warn)("Dependent image isn't ready yet");const width=imgData.width,height=imgData.height,map=[];for(let i=0,ii=positions.length;i<ii;i+=2)map.push({transform:[scaleX,0,0,scaleY,positions[i],positions[i+1]],x:0,y:0,w:width,h:height});this.paintInlineImageXObjectGroup(imgData,map)}paintInlineImageXObject(imgData){if(!this.contentVisible)return;const width=imgData.width,height=imgData.height,ctx=this.ctx;let imgToPaint;if(this.save(),ctx.scale(1/width,-1/height),"function"==typeof HTMLElement&&imgData instanceof HTMLElement||!imgData.data)imgToPaint=imgData;else{const tmpCanvas=this.cachedCanvases.getCanvas("inlineImage",width,height);putBinaryImageData(tmpCanvas.context,imgData,this.current.transferMaps),imgToPaint=tmpCanvas.canvas}const scaled=this._scaleImage(imgToPaint,(0,_display_utils2.getCurrentTransformInverse)(ctx));ctx.imageSmoothingEnabled=getImageSmoothingEnabled((0,_display_utils2.getCurrentTransform)(ctx),imgData.interpolate);const[rWidth,rHeight]=drawImageAtIntegerCoords(ctx,scaled.img,0,0,scaled.paintWidth,scaled.paintHeight,0,-height,width,height);if(this.imageLayer){const[left,top]=_util2.Util.applyTransform([0,-height],(0,_display_utils2.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData,left,top,width:rWidth,height:rHeight})}this.compose(),this.restore()}paintInlineImageXObjectGroup(imgData,map){if(!this.contentVisible)return;const ctx=this.ctx,w=imgData.width,h=imgData.height,tmpCanvas=this.cachedCanvases.getCanvas("inlineImage",w,h);putBinaryImageData(tmpCanvas.context,imgData,this.current.transferMaps);for(const entry of map){if(ctx.save(),ctx.transform(...entry.transform),ctx.scale(1,-1),drawImageAtIntegerCoords(ctx,tmpCanvas.canvas,entry.x,entry.y,entry.w,entry.h,0,-1,1,1),this.imageLayer){const[left,top]=_util2.Util.applyTransform([entry.x,entry.y],(0,_display_utils2.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData,left,top,width:w,height:h})}ctx.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(tag){}markPointProps(tag,properties){}beginMarkedContent(tag){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(tag,properties){this.markedContentStack.push("OC"===tag?{visible:this.optionalContentConfig.isVisible(properties)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(clipBox){const isEmpty=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(clipBox);const ctx=this.ctx;this.pendingClip&&(isEmpty||(this.pendingClip===EO_CLIP?ctx.clip("evenodd"):ctx.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ctx.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const m=(0,_display_utils2.getCurrentTransform)(this.ctx);if(0===m[1]&&0===m[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(m[0]),Math.abs(m[3]));else{const absDet=Math.abs(m[0]*m[3]-m[2]*m[1]),normX=Math.hypot(m[0],m[2]),normY=Math.hypot(m[1],m[3]);this._cachedGetSinglePixelWidth=Math.max(normX,normY)/absDet}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth}=this.current,m=(0,_display_utils2.getCurrentTransform)(this.ctx);let scaleX,scaleY;if(0===m[1]&&0===m[2]){const normX=Math.abs(m[0]),normY=Math.abs(m[3]);if(0===lineWidth)scaleX=1/normX,scaleY=1/normY;else{const scaledXLineWidth=normX*lineWidth,scaledYLineWidth=normY*lineWidth;scaleX=scaledXLineWidth<1?1/scaledXLineWidth:1,scaleY=scaledYLineWidth<1?1/scaledYLineWidth:1}}else{const absDet=Math.abs(m[0]*m[3]-m[2]*m[1]),normX=Math.hypot(m[0],m[1]),normY=Math.hypot(m[2],m[3]);if(0===lineWidth)scaleX=normY/absDet,scaleY=normX/absDet;else{const baseArea=lineWidth*absDet;scaleX=normY>baseArea?normY/baseArea:1,scaleY=normX>baseArea?normX/baseArea:1}}this._cachedScaleForStroking=[scaleX,scaleY]}return this._cachedScaleForStroking}rescaleAndStroke(saveRestore){const{ctx}=this,{lineWidth}=this.current,[scaleX,scaleY]=this.getScaleForStroking();if(ctx.lineWidth=lineWidth||1,1===scaleX&&1===scaleY)return void ctx.stroke();let savedMatrix,savedDashes,savedDashOffset;saveRestore&&(savedMatrix=(0,_display_utils2.getCurrentTransform)(ctx),savedDashes=ctx.getLineDash().slice(),savedDashOffset=ctx.lineDashOffset),ctx.scale(scaleX,scaleY);const scale=Math.max(scaleX,scaleY);ctx.setLineDash(ctx.getLineDash().map(x=>x/scale)),ctx.lineDashOffset/=scale,ctx.stroke(),saveRestore&&(ctx.setTransform(...savedMatrix),ctx.setLineDash(savedDashes),ctx.lineDashOffset=savedDashOffset)}isContentVisible(){for(let i=this.markedContentStack.length-1;i>=0;i--)if(!this.markedContentStack[i].visible)return!1;return!0}}exports2.CanvasGraphics=CanvasGraphics;for(const op in _util2.OPS)void 0!==CanvasGraphics.prototype[op]&&(CanvasGraphics.prototype[_util2.OPS[op]]=CanvasGraphics.prototype[op])},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.TilingPattern=exports2.PathType=void 0,exports2.getShadingPattern=function getShadingPattern(IR){switch(IR[0]){case"RadialAxial":return new RadialAxialShadingPattern(IR);case"Mesh":return new MeshShadingPattern(IR);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${IR[0]}`)};var _util2=__w_pdfjs_require__2(1),_display_utils2=__w_pdfjs_require__2(8),_is_node2=__w_pdfjs_require__2(3);const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(ctx,bbox){if(!bbox||_is_node2.isNodeJS)return;const width=bbox[2]-bbox[0],height=bbox[3]-bbox[1],region=new Path2D;region.rect(bbox[0],bbox[1],width,height),ctx.clip(region)}exports2.PathType=PathType;class BaseShadingPattern{constructor(){this.constructor===BaseShadingPattern&&(0,_util2.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,_util2.unreachable)("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor(IR){super(),this._type=IR[1],this._bbox=IR[2],this._colorStops=IR[3],this._p0=IR[4],this._p1=IR[5],this._r0=IR[6],this._r1=IR[7],this.matrix=null}_createGradient(ctx){let grad;"axial"===this._type?grad=ctx.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(grad=ctx.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const colorStop of this._colorStops)grad.addColorStop(colorStop[0],colorStop[1]);return grad}getPattern(ctx,owner,inverse,pathType){let pattern;if(pathType===PathType.STROKE||pathType===PathType.FILL){const ownerBBox=owner.current.getClippedPathBoundingBox(pathType,(0,_display_utils2.getCurrentTransform)(ctx))||[0,0,0,0],width=Math.ceil(ownerBBox[2]-ownerBBox[0])||1,height=Math.ceil(ownerBBox[3]-ownerBBox[1])||1,tmpCanvas=owner.cachedCanvases.getCanvas("pattern",width,height,!0),tmpCtx=tmpCanvas.context;tmpCtx.clearRect(0,0,tmpCtx.canvas.width,tmpCtx.canvas.height),tmpCtx.beginPath(),tmpCtx.rect(0,0,tmpCtx.canvas.width,tmpCtx.canvas.height),tmpCtx.translate(-ownerBBox[0],-ownerBBox[1]),inverse=_util2.Util.transform(inverse,[1,0,0,1,ownerBBox[0],ownerBBox[1]]),tmpCtx.transform(...owner.baseTransform),this.matrix&&tmpCtx.transform(...this.matrix),applyBoundingBox(tmpCtx,this._bbox),tmpCtx.fillStyle=this._createGradient(tmpCtx),tmpCtx.fill(),pattern=ctx.createPattern(tmpCanvas.canvas,"no-repeat");const domMatrix=new DOMMatrix(inverse);try{pattern.setTransform(domMatrix)}catch(ex){(0,_util2.warn)(`RadialAxialShadingPattern.getPattern: "${ex?.message}".`)}}else applyBoundingBox(ctx,this._bbox),pattern=this._createGradient(ctx);return pattern}}function drawTriangle(data,context,p1,p2,p3,c1,c2,c3){const coords=context.coords,colors=context.colors,bytes=data.data,rowSize=4*data.width;let tmp;coords[p1+1]>coords[p2+1]&&(tmp=p1,p1=p2,p2=tmp,tmp=c1,c1=c2,c2=tmp),coords[p2+1]>coords[p3+1]&&(tmp=p2,p2=p3,p3=tmp,tmp=c2,c2=c3,c3=tmp),coords[p1+1]>coords[p2+1]&&(tmp=p1,p1=p2,p2=tmp,tmp=c1,c1=c2,c2=tmp);const x1=(coords[p1]+context.offsetX)*context.scaleX,y1=(coords[p1+1]+context.offsetY)*context.scaleY,x2=(coords[p2]+context.offsetX)*context.scaleX,y2=(coords[p2+1]+context.offsetY)*context.scaleY,x3=(coords[p3]+context.offsetX)*context.scaleX,y3=(coords[p3+1]+context.offsetY)*context.scaleY;if(y1>=y3)return;const c1r=colors[c1],c1g=colors[c1+1],c1b=colors[c1+2],c2r=colors[c2],c2g=colors[c2+1],c2b=colors[c2+2],c3r=colors[c3],c3g=colors[c3+1],c3b=colors[c3+2],minY=Math.round(y1),maxY=Math.round(y3);let xa,car,cag,cab,xb,cbr,cbg,cbb;for(let y=minY;y<=maxY;y++){if(y<y2){let k2;k2=y<y1?0:(y1-y)/(y1-y2),xa=x1-(x1-x2)*k2,car=c1r-(c1r-c2r)*k2,cag=c1g-(c1g-c2g)*k2,cab=c1b-(c1b-c2b)*k2}else{let k2;k2=y>y3?1:y2===y3?0:(y2-y)/(y2-y3),xa=x2-(x2-x3)*k2,car=c2r-(c2r-c3r)*k2,cag=c2g-(c2g-c3g)*k2,cab=c2b-(c2b-c3b)*k2}let k;k=y<y1?0:y>y3?1:(y1-y)/(y1-y3),xb=x1-(x1-x3)*k,cbr=c1r-(c1r-c3r)*k,cbg=c1g-(c1g-c3g)*k,cbb=c1b-(c1b-c3b)*k;const x1_=Math.round(Math.min(xa,xb)),x2_=Math.round(Math.max(xa,xb));let j=rowSize*y+4*x1_;for(let x=x1_;x<=x2_;x++)k=(xa-x)/(xa-xb),k<0?k=0:k>1&&(k=1),bytes[j++]=car-(car-cbr)*k|0,bytes[j++]=cag-(cag-cbg)*k|0,bytes[j++]=cab-(cab-cbb)*k|0,bytes[j++]=255}}function drawFigure(data,figure,context){const ps=figure.coords,cs=figure.colors;let i,ii;switch(figure.type){case"lattice":const verticesPerRow=figure.verticesPerRow,rows=Math.floor(ps.length/verticesPerRow)-1,cols=verticesPerRow-1;for(i=0;i<rows;i++){let q=i*verticesPerRow;for(let j=0;j<cols;j++,q++)drawTriangle(data,context,ps[q],ps[q+1],ps[q+verticesPerRow],cs[q],cs[q+1],cs[q+verticesPerRow]),drawTriangle(data,context,ps[q+verticesPerRow+1],ps[q+1],ps[q+verticesPerRow],cs[q+verticesPerRow+1],cs[q+1],cs[q+verticesPerRow])}break;case"triangles":for(i=0,ii=ps.length;i<ii;i+=3)drawTriangle(data,context,ps[i],ps[i+1],ps[i+2],cs[i],cs[i+1],cs[i+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor(IR){super(),this._coords=IR[2],this._colors=IR[3],this._figures=IR[4],this._bounds=IR[5],this._bbox=IR[7],this._background=IR[8],this.matrix=null}_createMeshCanvas(combinedScale,backgroundColor,cachedCanvases){const offsetX=Math.floor(this._bounds[0]),offsetY=Math.floor(this._bounds[1]),boundsWidth=Math.ceil(this._bounds[2])-offsetX,boundsHeight=Math.ceil(this._bounds[3])-offsetY,width=Math.min(Math.ceil(Math.abs(boundsWidth*combinedScale[0]*1.1)),3e3),height=Math.min(Math.ceil(Math.abs(boundsHeight*combinedScale[1]*1.1)),3e3),scaleX=boundsWidth/width,scaleY=boundsHeight/height,context={coords:this._coords,colors:this._colors,offsetX:-offsetX,offsetY:-offsetY,scaleX:1/scaleX,scaleY:1/scaleY},tmpCanvas=cachedCanvases.getCanvas("mesh",width+4,height+4,!1),tmpCtx=tmpCanvas.context,data=tmpCtx.createImageData(width,height);if(backgroundColor){const bytes=data.data;for(let i=0,ii=bytes.length;i<ii;i+=4)bytes[i]=backgroundColor[0],bytes[i+1]=backgroundColor[1],bytes[i+2]=backgroundColor[2],bytes[i+3]=255}for(const figure of this._figures)drawFigure(data,figure,context);return tmpCtx.putImageData(data,2,2),{canvas:tmpCanvas.canvas,offsetX:offsetX-2*scaleX,offsetY:offsetY-2*scaleY,scaleX,scaleY}}getPattern(ctx,owner,inverse,pathType){let scale;if(applyBoundingBox(ctx,this._bbox),pathType===PathType.SHADING)scale=_util2.Util.singularValueDecompose2dScale((0,_display_utils2.getCurrentTransform)(ctx));else if(scale=_util2.Util.singularValueDecompose2dScale(owner.baseTransform),this.matrix){const matrixScale=_util2.Util.singularValueDecompose2dScale(this.matrix);scale=[scale[0]*matrixScale[0],scale[1]*matrixScale[1]]}const temporaryPatternCanvas=this._createMeshCanvas(scale,pathType===PathType.SHADING?null:this._background,owner.cachedCanvases);return pathType!==PathType.SHADING&&(ctx.setTransform(...owner.baseTransform),this.matrix&&ctx.transform(...this.matrix)),ctx.translate(temporaryPatternCanvas.offsetX,temporaryPatternCanvas.offsetY),ctx.scale(temporaryPatternCanvas.scaleX,temporaryPatternCanvas.scaleY),ctx.createPattern(temporaryPatternCanvas.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}class TilingPattern{static get MAX_PATTERN_SIZE(){return(0,_util2.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(IR,color,ctx,canvasGraphicsFactory,baseTransform){this.operatorList=IR[2],this.matrix=IR[3]||[1,0,0,1,0,0],this.bbox=IR[4],this.xstep=IR[5],this.ystep=IR[6],this.paintType=IR[7],this.tilingType=IR[8],this.color=color,this.ctx=ctx,this.canvasGraphicsFactory=canvasGraphicsFactory,this.baseTransform=baseTransform}createPatternCanvas(owner){const operatorList=this.operatorList,bbox=this.bbox,xstep=this.xstep,ystep=this.ystep,paintType=this.paintType,color=this.color,canvasGraphicsFactory=this.canvasGraphicsFactory;(0,_util2.info)("TilingType: "+this.tilingType);const x0=bbox[0],y0=bbox[1],x1=bbox[2],y1=bbox[3],matrixScale=_util2.Util.singularValueDecompose2dScale(this.matrix),curMatrixScale=_util2.Util.singularValueDecompose2dScale(this.baseTransform),combinedScale=[matrixScale[0]*curMatrixScale[0],matrixScale[1]*curMatrixScale[1]],dimx=this.getSizeAndScale(xstep,this.ctx.canvas.width,combinedScale[0]),dimy=this.getSizeAndScale(ystep,this.ctx.canvas.height,combinedScale[1]),tmpCanvas=owner.cachedCanvases.getCanvas("pattern",dimx.size,dimy.size,!0),tmpCtx=tmpCanvas.context,graphics=canvasGraphicsFactory.createCanvasGraphics(tmpCtx);graphics.groupLevel=owner.groupLevel,this.setFillAndStrokeStyleToContext(graphics,paintType,color);let adjustedX0=x0,adjustedY0=y0,adjustedX1=x1,adjustedY1=y1;return x0<0&&(adjustedX0=0,adjustedX1+=Math.abs(x0)),y0<0&&(adjustedY0=0,adjustedY1+=Math.abs(y0)),tmpCtx.translate(-dimx.scale*adjustedX0,-dimy.scale*adjustedY0),graphics.transform(dimx.scale,0,0,dimy.scale,0,0),tmpCtx.save(),this.clipBbox(graphics,adjustedX0,adjustedY0,adjustedX1,adjustedY1),graphics.baseTransform=(0,_display_utils2.getCurrentTransform)(graphics.ctx),graphics.executeOperatorList(operatorList),graphics.endDrawing(),{canvas:tmpCanvas.canvas,scaleX:dimx.scale,scaleY:dimy.scale,offsetX:adjustedX0,offsetY:adjustedY0}}getSizeAndScale(step,realOutputSize,scale){step=Math.abs(step);const maxSize=Math.max(TilingPattern.MAX_PATTERN_SIZE,realOutputSize);let size=Math.ceil(step*scale);return size>=maxSize?size=maxSize:scale=size/step,{scale,size}}clipBbox(graphics,x0,y0,x1,y1){graphics.ctx.rect(x0,y0,x1-x0,y1-y0),graphics.current.updateRectMinMax((0,_display_utils2.getCurrentTransform)(graphics.ctx),[x0,y0,x1,y1]),graphics.clip(),graphics.endPath()}setFillAndStrokeStyleToContext(graphics,paintType,color){const context=graphics.ctx,current=graphics.current;switch(paintType){case 1:const ctx=this.ctx;context.fillStyle=ctx.fillStyle,context.strokeStyle=ctx.strokeStyle,current.fillColor=ctx.fillStyle,current.strokeColor=ctx.strokeStyle;break;case 2:const cssColor=_util2.Util.makeHexColor(color[0],color[1],color[2]);context.fillStyle=cssColor,context.strokeStyle=cssColor,current.fillColor=cssColor,current.strokeColor=cssColor;break;default:throw new _util2.FormatError(`Unsupported paint type: ${paintType}`)}}getPattern(ctx,owner,inverse,pathType){let matrix=inverse;pathType!==PathType.SHADING&&(matrix=_util2.Util.transform(matrix,owner.baseTransform),this.matrix&&(matrix=_util2.Util.transform(matrix,this.matrix)));const temporaryPatternCanvas=this.createPatternCanvas(owner);let domMatrix=new DOMMatrix(matrix);domMatrix=domMatrix.translate(temporaryPatternCanvas.offsetX,temporaryPatternCanvas.offsetY),domMatrix=domMatrix.scale(1/temporaryPatternCanvas.scaleX,1/temporaryPatternCanvas.scaleY);const pattern=ctx.createPattern(temporaryPatternCanvas.canvas,"repeat");try{pattern.setTransform(domMatrix)}catch(ex){(0,_util2.warn)(`TilingPattern.getPattern: "${ex?.message}".`)}return pattern}}exports2.TilingPattern=TilingPattern},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.applyMaskImageData=function applyMaskImageData({src,srcPos=0,dest,destPos=0,width,height,inverseDecode=!1}){const opaque=_util2.FeatureTest.isLittleEndian?4278190080:255,[zeroMapping,oneMapping]=inverseDecode?[0,opaque]:[opaque,0],widthInSource=width>>3,widthRemainder=7&width,srcLength=src.length;dest=new Uint32Array(dest.buffer);for(let i=0;i<height;i++){for(const max=srcPos+widthInSource;srcPos<max;srcPos++){const elem2=srcPos<srcLength?src[srcPos]:255;dest[destPos++]=128&elem2?oneMapping:zeroMapping,dest[destPos++]=64&elem2?oneMapping:zeroMapping,dest[destPos++]=32&elem2?oneMapping:zeroMapping,dest[destPos++]=16&elem2?oneMapping:zeroMapping,dest[destPos++]=8&elem2?oneMapping:zeroMapping,dest[destPos++]=4&elem2?oneMapping:zeroMapping,dest[destPos++]=2&elem2?oneMapping:zeroMapping,dest[destPos++]=1&elem2?oneMapping:zeroMapping}if(0===widthRemainder)continue;const elem=srcPos<srcLength?src[srcPos++]:255;for(let j=0;j<widthRemainder;j++)dest[destPos++]=elem&1<<7-j?oneMapping:zeroMapping}return{srcPos,destPos}};var _util2=__w_pdfjs_require__2(1)},(__unused_webpack_module2,exports2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.GlobalWorkerOptions=void 0;const GlobalWorkerOptions=Object.create(null);exports2.GlobalWorkerOptions=GlobalWorkerOptions,GlobalWorkerOptions.workerPort=void 0===GlobalWorkerOptions.workerPort?null:GlobalWorkerOptions.workerPort,GlobalWorkerOptions.workerSrc=void 0===GlobalWorkerOptions.workerSrc?"":GlobalWorkerOptions.workerSrc},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.MessageHandler=void 0;var _util2=__w_pdfjs_require__2(1);function wrapReason(reason){switch(reason instanceof Error||"object"==typeof reason&&null!==reason||(0,_util2.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),reason.name){case"AbortException":return new _util2.AbortException(reason.message);case"MissingPDFException":return new _util2.MissingPDFException(reason.message);case"PasswordException":return new _util2.PasswordException(reason.message,reason.code);case"UnexpectedResponseException":return new _util2.UnexpectedResponseException(reason.message,reason.status);case"UnknownErrorException":return new _util2.UnknownErrorException(reason.message,reason.details);default:return new _util2.UnknownErrorException(reason.message,reason.toString())}}exports2.MessageHandler=class MessageHandler{constructor(sourceName,targetName,comObj){this.sourceName=sourceName,this.targetName=targetName,this.comObj=comObj,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=event=>{const data=event.data;if(data.targetName!==this.sourceName)return;if(data.stream)return void this._processStreamMessage(data);if(data.callback){const callbackId=data.callbackId,capability=this.callbackCapabilities[callbackId];if(!capability)throw new Error(`Cannot resolve callback ${callbackId}`);if(delete this.callbackCapabilities[callbackId],1===data.callback)capability.resolve(data.data);else{if(2!==data.callback)throw new Error("Unexpected callback case");capability.reject(wrapReason(data.reason))}return}const action=this.actionHandler[data.action];if(!action)throw new Error(`Unknown action from worker: ${data.action}`);if(data.callbackId){const cbSourceName=this.sourceName,cbTargetName=data.sourceName;new Promise(function(resolve){resolve(action(data.data))}).then(function(result){comObj.postMessage({sourceName:cbSourceName,targetName:cbTargetName,callback:1,callbackId:data.callbackId,data:result})},function(reason){comObj.postMessage({sourceName:cbSourceName,targetName:cbTargetName,callback:2,callbackId:data.callbackId,reason:wrapReason(reason)})})}else data.streamId?this._createStreamSink(data):action(data.data)},comObj.addEventListener("message",this._onComObjOnMessage)}on(actionName,handler){const ah=this.actionHandler;if(ah[actionName])throw new Error(`There is already an actionName called "${actionName}"`);ah[actionName]=handler}send(actionName,data,transfers){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:actionName,data},transfers)}sendWithPromise(actionName,data,transfers){const callbackId=this.callbackId++,capability=(0,_util2.createPromiseCapability)();this.callbackCapabilities[callbackId]=capability;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:actionName,callbackId,data},transfers)}catch(ex){capability.reject(ex)}return capability.promise}sendWithStream(actionName,data,queueingStrategy,transfers){const streamId=this.streamId++,sourceName=this.sourceName,targetName=this.targetName,comObj=this.comObj;return new ReadableStream({start:controller=>{const startCapability=(0,_util2.createPromiseCapability)();return this.streamControllers[streamId]={controller,startCall:startCapability,pullCall:null,cancelCall:null,isClosed:!1},comObj.postMessage({sourceName,targetName,action:actionName,streamId,data,desiredSize:controller.desiredSize},transfers),startCapability.promise},pull:controller=>{const pullCapability=(0,_util2.createPromiseCapability)();return this.streamControllers[streamId].pullCall=pullCapability,comObj.postMessage({sourceName,targetName,stream:6,streamId,desiredSize:controller.desiredSize}),pullCapability.promise},cancel:reason=>{(0,_util2.assert)(reason instanceof Error,"cancel must have a valid reason");const cancelCapability=(0,_util2.createPromiseCapability)();return this.streamControllers[streamId].cancelCall=cancelCapability,this.streamControllers[streamId].isClosed=!0,comObj.postMessage({sourceName,targetName,stream:1,streamId,reason:wrapReason(reason)}),cancelCapability.promise}},queueingStrategy)}_createStreamSink(data){const streamId=data.streamId,sourceName=this.sourceName,targetName=data.sourceName,comObj=this.comObj,self2=this,action=this.actionHandler[data.action],streamSink={enqueue(chunk,size=1,transfers){if(this.isCancelled)return;const lastDesiredSize=this.desiredSize;this.desiredSize-=size,lastDesiredSize>0&&this.desiredSize<=0&&(this.sinkCapability=(0,_util2.createPromiseCapability)(),this.ready=this.sinkCapability.promise),comObj.postMessage({sourceName,targetName,stream:4,streamId,chunk},transfers)},close(){this.isCancelled||(this.isCancelled=!0,comObj.postMessage({sourceName,targetName,stream:3,streamId}),delete self2.streamSinks[streamId])},error(reason){(0,_util2.assert)(reason instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,comObj.postMessage({sourceName,targetName,stream:5,streamId,reason:wrapReason(reason)}))},sinkCapability:(0,_util2.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:data.desiredSize,ready:null};streamSink.sinkCapability.resolve(),streamSink.ready=streamSink.sinkCapability.promise,this.streamSinks[streamId]=streamSink,new Promise(function(resolve){resolve(action(data.data,streamSink))}).then(function(){comObj.postMessage({sourceName,targetName,stream:8,streamId,success:!0})},function(reason){comObj.postMessage({sourceName,targetName,stream:8,streamId,reason:wrapReason(reason)})})}_processStreamMessage(data){const streamId=data.streamId,sourceName=this.sourceName,targetName=data.sourceName,comObj=this.comObj,streamController=this.streamControllers[streamId],streamSink=this.streamSinks[streamId];switch(data.stream){case 8:data.success?streamController.startCall.resolve():streamController.startCall.reject(wrapReason(data.reason));break;case 7:data.success?streamController.pullCall.resolve():streamController.pullCall.reject(wrapReason(data.reason));break;case 6:if(!streamSink){comObj.postMessage({sourceName,targetName,stream:7,streamId,success:!0});break}streamSink.desiredSize<=0&&data.desiredSize>0&&streamSink.sinkCapability.resolve(),streamSink.desiredSize=data.desiredSize,new Promise(function(resolve){resolve(streamSink.onPull&&streamSink.onPull())}).then(function(){comObj.postMessage({sourceName,targetName,stream:7,streamId,success:!0})},function(reason){comObj.postMessage({sourceName,targetName,stream:7,streamId,reason:wrapReason(reason)})});break;case 4:if((0,_util2.assert)(streamController,"enqueue should have stream controller"),streamController.isClosed)break;streamController.controller.enqueue(data.chunk);break;case 3:if((0,_util2.assert)(streamController,"close should have stream controller"),streamController.isClosed)break;streamController.isClosed=!0,streamController.controller.close(),this._deleteStreamController(streamController,streamId);break;case 5:(0,_util2.assert)(streamController,"error should have stream controller"),streamController.controller.error(wrapReason(data.reason)),this._deleteStreamController(streamController,streamId);break;case 2:data.success?streamController.cancelCall.resolve():streamController.cancelCall.reject(wrapReason(data.reason)),this._deleteStreamController(streamController,streamId);break;case 1:if(!streamSink)break;new Promise(function(resolve){resolve(streamSink.onCancel&&streamSink.onCancel(wrapReason(data.reason)))}).then(function(){comObj.postMessage({sourceName,targetName,stream:2,streamId,success:!0})},function(reason){comObj.postMessage({sourceName,targetName,stream:2,streamId,reason:wrapReason(reason)})}),streamSink.sinkCapability.reject(wrapReason(data.reason)),streamSink.isCancelled=!0,delete this.streamSinks[streamId];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(streamController,streamId){var _this10=this;return _asyncToGenerator(function*(){yield Promise.allSettled([streamController.startCall&&streamController.startCall.promise,streamController.pullCall&&streamController.pullCall.promise,streamController.cancelCall&&streamController.cancelCall.promise]),delete _this10.streamControllers[streamId]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.Metadata=void 0;var _util2=__w_pdfjs_require__2(1);exports2.Metadata=class Metadata{#metadataMap;#data;constructor({parsedData,rawData}){this.#metadataMap=parsedData,this.#data=rawData}getRaw(){return this.#data}get(name){return this.#metadataMap.get(name)??null}getAll(){return(0,_util2.objectFromMap)(this.#metadataMap)}has(name){return this.#metadataMap.has(name)}}},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.OptionalContentConfig=void 0;var _util2=__w_pdfjs_require__2(1);const INTERNAL=Symbol("INTERNAL");class OptionalContentGroup{#visible=!0;constructor(name,intent){this.name=name,this.intent=intent}get visible(){return this.#visible}_setVisible(internal,visible){internal!==INTERNAL&&(0,_util2.unreachable)("Internal method `_setVisible` called."),this.#visible=visible}}exports2.OptionalContentConfig=class OptionalContentConfig{#cachedHasInitialVisibility=!0;#groups=new Map;#initialVisibility=null;#order=null;constructor(data){if(this.name=null,this.creator=null,null!==data){this.name=data.name,this.creator=data.creator,this.#order=data.order;for(const group of data.groups)this.#groups.set(group.id,new OptionalContentGroup(group.name,group.intent));if("OFF"===data.baseState)for(const group of this.#groups.values())group._setVisible(INTERNAL,!1);for(const on of data.on)this.#groups.get(on)._setVisible(INTERNAL,!0);for(const off of data.off)this.#groups.get(off)._setVisible(INTERNAL,!1);this.#initialVisibility=new Map;for(const[id,group]of this.#groups)this.#initialVisibility.set(id,group.visible)}}#evaluateVisibilityExpression(array){const length=array.length;if(length<2)return!0;const operator=array[0];for(let i=1;i<length;i++){const element=array[i];let state;if(Array.isArray(element))state=this.#evaluateVisibilityExpression(element);else{if(!this.#groups.has(element))return(0,_util2.warn)(`Optional content group not found: ${element}`),!0;state=this.#groups.get(element).visible}switch(operator){case"And":if(!state)return!1;break;case"Or":if(state)return!0;break;case"Not":return!state;default:return!0}}return"And"===operator}isVisible(group){if(0===this.#groups.size)return!0;if(!group)return(0,_util2.warn)("Optional content group not defined."),!0;if("OCG"===group.type)return this.#groups.has(group.id)?this.#groups.get(group.id).visible:((0,_util2.warn)(`Optional content group not found: ${group.id}`),!0);if("OCMD"===group.type){if(group.expression)return this.#evaluateVisibilityExpression(group.expression);if(!group.policy||"AnyOn"===group.policy){for(const id of group.ids){if(!this.#groups.has(id))return(0,_util2.warn)(`Optional content group not found: ${id}`),!0;if(this.#groups.get(id).visible)return!0}return!1}if("AllOn"===group.policy){for(const id of group.ids){if(!this.#groups.has(id))return(0,_util2.warn)(`Optional content group not found: ${id}`),!0;if(!this.#groups.get(id).visible)return!1}return!0}if("AnyOff"===group.policy){for(const id of group.ids){if(!this.#groups.has(id))return(0,_util2.warn)(`Optional content group not found: ${id}`),!0;if(!this.#groups.get(id).visible)return!0}return!1}if("AllOff"===group.policy){for(const id of group.ids){if(!this.#groups.has(id))return(0,_util2.warn)(`Optional content group not found: ${id}`),!0;if(this.#groups.get(id).visible)return!1}return!0}return(0,_util2.warn)(`Unknown optional content policy ${group.policy}.`),!0}return(0,_util2.warn)(`Unknown group type ${group.type}.`),!0}setVisibility(id,visible=!0){this.#groups.has(id)?(this.#groups.get(id)._setVisible(INTERNAL,!!visible),this.#cachedHasInitialVisibility=null):(0,_util2.warn)(`Optional content group not found: ${id}`)}get hasInitialVisibility(){if(null!==this.#cachedHasInitialVisibility)return this.#cachedHasInitialVisibility;for(const[id,group]of this.#groups){const visible=this.#initialVisibility.get(id);if(group.visible!==visible)return this.#cachedHasInitialVisibility=!1}return this.#cachedHasInitialVisibility=!0}getOrder(){return this.#groups.size?this.#order?this.#order.slice():[...this.#groups.keys()]:null}getGroups(){return this.#groups.size>0?(0,_util2.objectFromMap)(this.#groups):null}getGroup(id){return this.#groups.get(id)||null}}},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.PDFDataTransportStream=void 0;var _util2=__w_pdfjs_require__2(1),_display_utils2=__w_pdfjs_require__2(8);exports2.PDFDataTransportStream=class PDFDataTransportStream{constructor(params,pdfDataRangeTransport){(0,_util2.assert)(pdfDataRangeTransport,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=params.progressiveDone||!1,this._contentDispositionFilename=params.contentDispositionFilename||null;const initialData=params.initialData;if(initialData?.length>0){const buffer=new Uint8Array(initialData).buffer;this._queuedChunks.push(buffer)}this._pdfDataRangeTransport=pdfDataRangeTransport,this._isStreamingSupported=!params.disableStream,this._isRangeSupported=!params.disableRange,this._contentLength=params.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((begin,chunk)=>{this._onReceiveData({begin,chunk})}),this._pdfDataRangeTransport.addProgressListener((loaded,total)=>{this._onProgress({loaded,total})}),this._pdfDataRangeTransport.addProgressiveReadListener(chunk=>{this._onReceiveData({chunk})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(args){const buffer=new Uint8Array(args.chunk).buffer;if(void 0===args.begin)this._fullRequestReader?this._fullRequestReader._enqueue(buffer):this._queuedChunks.push(buffer);else{const found=this._rangeReaders.some(function(rangeReader){return rangeReader._begin===args.begin&&(rangeReader._enqueue(buffer),!0)});(0,_util2.assert)(found,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(evt){if(void 0===evt.total){const firstReader=this._rangeReaders[0];firstReader?.onProgress&&firstReader.onProgress({loaded:evt.loaded})}else{const fullReader=this._fullRequestReader;fullReader?.onProgress&&fullReader.onProgress({loaded:evt.loaded,total:evt.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(reader){const i=this._rangeReaders.indexOf(reader);i>=0&&this._rangeReaders.splice(i,1)}getFullReader(){(0,_util2.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const queuedChunks=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,queuedChunks,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(begin,end){if(end<=this._progressiveDataLength)return null;const reader=new PDFDataTransportStreamRangeReader(this,begin,end);return this._pdfDataRangeTransport.requestDataRange(begin,end),this._rangeReaders.push(reader),reader}cancelAllRequests(reason){this._fullRequestReader&&this._fullRequestReader.cancel(reason);for(const reader of this._rangeReaders.slice(0))reader.cancel(reason);this._pdfDataRangeTransport.abort()}};class PDFDataTransportStreamReader{constructor(stream,queuedChunks,progressiveDone=!1,contentDispositionFilename=null){this._stream=stream,this._done=progressiveDone||!1,this._filename=(0,_display_utils2.isPdfFile)(contentDispositionFilename)?contentDispositionFilename:null,this._queuedChunks=queuedChunks||[],this._loaded=0;for(const chunk of this._queuedChunks)this._loaded+=chunk.byteLength;this._requests=[],this._headersReady=Promise.resolve(),stream._fullRequestReader=this,this.onProgress=null}_enqueue(chunk){this._done||(this._requests.length>0?this._requests.shift().resolve({value:chunk,done:!1}):this._queuedChunks.push(chunk),this._loaded+=chunk.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var _this11=this;return _asyncToGenerator(function*(){if(_this11._queuedChunks.length>0)return{value:_this11._queuedChunks.shift(),done:!1};if(_this11._done)return{value:void 0,done:!0};const requestCapability=(0,_util2.createPromiseCapability)();return _this11._requests.push(requestCapability),requestCapability.promise})()}cancel(reason){this._done=!0;for(const requestCapability of this._requests)requestCapability.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor(stream,begin,end){this._stream=stream,this._begin=begin,this._end=end,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(chunk){if(!this._done){if(0===this._requests.length)this._queuedChunk=chunk;else{this._requests.shift().resolve({value:chunk,done:!1});for(const requestCapability of this._requests)requestCapability.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var _this12=this;return _asyncToGenerator(function*(){if(_this12._queuedChunk){const chunk=_this12._queuedChunk;return _this12._queuedChunk=null,{value:chunk,done:!1}}if(_this12._done)return{value:void 0,done:!0};const requestCapability=(0,_util2.createPromiseCapability)();return _this12._requests.push(requestCapability),requestCapability.promise})()}cancel(reason){this._done=!0;for(const requestCapability of this._requests)requestCapability.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(__unused_webpack_module2,exports2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.XfaText=void 0;class XfaText{static textContent(xfa){const items=[],output={items,styles:Object.create(null)};return function walk(node){if(!node)return;let str=null;const name=node.name;if("#text"===name)str=node.value;else{if(!XfaText.shouldBuildText(name))return;node?.attributes?.textContent?str=node.attributes.textContent:node.value&&(str=node.value)}if(null!==str&&items.push({str}),node.children)for(const child of node.children)walk(child)}(xfa),output}static shouldBuildText(name){return!("textarea"===name||"input"===name||"option"===name||"select"===name)}}exports2.XfaText=XfaText},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.NodeStandardFontDataFactory=exports2.NodeCanvasFactory=exports2.NodeCMapReaderFactory=void 0;var _base_factory=__w_pdfjs_require__2(9);const fetchData=function(url){return new Promise((resolve,reject)=>{__webpack_require__(79896).readFile(url,(error,data)=>{!error&&data?resolve(new Uint8Array(data)):reject(new Error(error))})})};exports2.NodeCanvasFactory=class NodeCanvasFactory extends _base_factory.BaseCanvasFactory{_createCanvas(width,height){return __webpack_require__(Object(function(){var e=new Error("Cannot find module 'canvas'");throw e.code="MODULE_NOT_FOUND",e}())).createCanvas(width,height)}},exports2.NodeCMapReaderFactory=class NodeCMapReaderFactory extends _base_factory.BaseCMapReaderFactory{_fetchData(url,compressionType){return fetchData(url).then(data=>({cMapData:data,compressionType}))}},exports2.NodeStandardFontDataFactory=class NodeStandardFontDataFactory extends _base_factory.BaseStandardFontDataFactory{_fetchData(url){return fetchData(url)}}},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.AnnotationEditorLayer=void 0;var _tools=__w_pdfjs_require__2(7),_util2=__w_pdfjs_require__2(1),_freetext=__w_pdfjs_require__2(23),_ink=__w_pdfjs_require__2(24);exports2.AnnotationEditorLayer=(()=>{class AnnotationEditorLayer2{#accessibilityManager;#allowClick=!1;#boundPointerup=this.pointerup.bind(this);#boundPointerdown=this.pointerdown.bind(this);#editors=new Map;#hadPointerDown=!1;#isCleaningUp=!1;#uiManager;static _initialized=!1;constructor(options){AnnotationEditorLayer2._initialized||(AnnotationEditorLayer2._initialized=!0,_freetext.FreeTextEditor.initialize(options.l10n),_ink.InkEditor.initialize(options.l10n),options.uiManager.registerEditorTypes([_freetext.FreeTextEditor,_ink.InkEditor])),this.#uiManager=options.uiManager,this.annotationStorage=options.annotationStorage,this.pageIndex=options.pageIndex,this.div=options.div,this.#accessibilityManager=options.accessibilityManager,this.#uiManager.addLayer(this)}updateToolbar(mode){this.#uiManager.updateToolbar(mode)}updateMode(mode=this.#uiManager.getMode()){this.#cleanup(),mode===_util2.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#uiManager.unselectAll()}addInkEditorIfNeeded(isCommitting){if(isCommitting||this.#uiManager.getMode()===_util2.AnnotationEditorType.INK){if(!isCommitting)for(const editor2 of this.#editors.values())if(editor2.isEmpty())return void editor2.setInBackground();this.#createAndAddNewEditor({offsetX:0,offsetY:0}).setInBackground()}}setEditingState(isEditing){this.#uiManager.setEditingState(isEditing)}addCommands(params){this.#uiManager.addCommands(params)}enable(){this.div.style.pointerEvents="auto";for(const editor of this.#editors.values())editor.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const editor of this.#editors.values())editor.disableEditing()}setActiveEditor(editor){this.#uiManager.getActive()!==editor&&this.#uiManager.setActiveEditor(editor)}enableClick(){this.div.addEventListener("pointerdown",this.#boundPointerdown),this.div.addEventListener("pointerup",this.#boundPointerup)}disableClick(){this.div.removeEventListener("pointerdown",this.#boundPointerdown),this.div.removeEventListener("pointerup",this.#boundPointerup)}attach(editor){this.#editors.set(editor.id,editor)}detach(editor){this.#editors.delete(editor.id),this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv)}remove(editor){this.#uiManager.removeEditor(editor),this.detach(editor),this.annotationStorage.remove(editor.id),editor.div.style.display="none",setTimeout(()=>{editor.div.style.display="",editor.div.remove(),editor.isAttachedToDOM=!1,document.activeElement===document.body&&this.#uiManager.focusMainContainer()},0),this.#isCleaningUp||this.addInkEditorIfNeeded(!1)}#changeParent(editor){editor.parent!==this&&(this.attach(editor),editor.pageIndex=this.pageIndex,editor.parent?.detach(editor),editor.parent=this,editor.div&&editor.isAttachedToDOM&&(editor.div.remove(),this.div.append(editor.div)))}add(editor){if(this.#changeParent(editor),this.#uiManager.addEditor(editor),this.attach(editor),!editor.isAttachedToDOM){const div=editor.render();this.div.append(div),editor.isAttachedToDOM=!0}this.moveEditorInDOM(editor),editor.onceAdded(),this.addToAnnotationStorage(editor)}moveEditorInDOM(editor){this.#accessibilityManager?.moveElementInDOM(this.div,editor.div,editor.contentDiv,!0)}addToAnnotationStorage(editor){!editor.isEmpty()&&!this.annotationStorage.has(editor.id)&&this.annotationStorage.setValue(editor.id,editor)}addOrRebuild(editor){editor.needsToBeRebuilt()?editor.rebuild():this.add(editor)}addANewEditor(editor){this.addCommands({cmd:()=>{this.addOrRebuild(editor)},undo:()=>{editor.remove()},mustExec:!0})}addUndoableEditor(editor){this.addCommands({cmd:()=>{this.addOrRebuild(editor)},undo:()=>{editor.remove()},mustExec:!1})}getNextId(){return this.#uiManager.getId()}#createNewEditor(params){switch(this.#uiManager.getMode()){case _util2.AnnotationEditorType.FREETEXT:return new _freetext.FreeTextEditor(params);case _util2.AnnotationEditorType.INK:return new _ink.InkEditor(params)}return null}deserialize(data){switch(data.annotationType){case _util2.AnnotationEditorType.FREETEXT:return _freetext.FreeTextEditor.deserialize(data,this);case _util2.AnnotationEditorType.INK:return _ink.InkEditor.deserialize(data,this)}return null}#createAndAddNewEditor(event){const id=this.getNextId(),editor=this.#createNewEditor({parent:this,id,x:event.offsetX,y:event.offsetY});return editor&&this.add(editor),editor}setSelected(editor){this.#uiManager.setSelected(editor)}toggleSelected(editor){this.#uiManager.toggleSelected(editor)}isSelected(editor){return this.#uiManager.isSelected(editor)}unselect(editor){this.#uiManager.unselect(editor)}pointerup(event){if(!(0!==event.button||event.ctrlKey&&_tools.KeyboardManager.platform.isMac)&&event.target===this.div&&this.#hadPointerDown){if(this.#hadPointerDown=!1,!this.#allowClick)return void(this.#allowClick=!0);this.#createAndAddNewEditor(event)}}pointerdown(event){if(0!==event.button||event.ctrlKey&&_tools.KeyboardManager.platform.isMac||event.target!==this.div)return;this.#hadPointerDown=!0;const editor=this.#uiManager.getActive();this.#allowClick=!editor||editor.isEmpty()}drop(event){const id=event.dataTransfer.getData("text/plain"),editor=this.#uiManager.getEditor(id);if(!editor)return;event.preventDefault(),event.dataTransfer.dropEffect="move",this.#changeParent(editor);const rect=this.div.getBoundingClientRect();editor.translate(event.clientX-rect.x-editor.startX,event.clientY-rect.y-editor.startY),this.moveEditorInDOM(editor),editor.div.focus()}dragover(event){event.preventDefault()}destroy(){this.#uiManager.getActive()?.parent===this&&this.#uiManager.setActiveEditor(null);for(const editor of this.#editors.values())this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv),editor.isAttachedToDOM=!1,editor.div.remove(),editor.parent=null;this.div=null,this.#editors.clear(),this.#uiManager.removeLayer(this)}#cleanup(){this.#isCleaningUp=!0;for(const editor of this.#editors.values())editor.isEmpty()&&editor.remove();this.#isCleaningUp=!1}render(parameters){this.viewport=parameters.viewport,(0,_tools.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const editor of this.#uiManager.getEditors(this.pageIndex))this.add(editor);this.updateMode()}update(parameters){this.viewport=parameters.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[pageLLx,pageLLy,pageURx,pageURy]=this.viewport.viewBox;return[pageURx-pageLLx,pageURy-pageLLy]}get viewportBaseDimensions(){const{width,height,rotation}=this.viewport;return rotation%180==0?[width,height]:[height,width]}setDimensions(){const{width,height,rotation}=this.viewport,flipOrientation=rotation%180!=0,widthStr=Math.floor(width)+"px",heightStr=Math.floor(height)+"px";this.div.style.width=flipOrientation?heightStr:widthStr,this.div.style.height=flipOrientation?widthStr:heightStr,this.div.setAttribute("data-main-rotation",rotation)}}return AnnotationEditorLayer2})()},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.FreeTextEditor=void 0;var _util2=__w_pdfjs_require__2(1),_tools=__w_pdfjs_require__2(7),_editor=__w_pdfjs_require__2(6);class FreeTextEditor extends _editor.AnnotationEditor{#boundEditorDivBlur=this.editorDivBlur.bind(this);#boundEditorDivFocus=this.editorDivFocus.bind(this);#boundEditorDivKeydown=this.editorDivKeydown.bind(this);#color;#content="";#hasAlreadyBeenCommitted=!1;#fontSize;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=new _tools.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],FreeTextEditor.prototype.commitOrRemove]]);static _type="freetext";constructor(params){super({...params,name:"freeTextEditor"}),this.#color=params.color||FreeTextEditor._defaultColor||_editor.AnnotationEditor._defaultLineColor,this.#fontSize=params.fontSize||FreeTextEditor._defaultFontSize}static initialize(l10n){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(str=>[str,l10n.get(str)]));const style=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(style.getPropertyValue("--freetext-padding"))}static updateDefaultParams(type,value){switch(type){case _util2.AnnotationEditorParamsType.FREETEXT_SIZE:FreeTextEditor._defaultFontSize=value;break;case _util2.AnnotationEditorParamsType.FREETEXT_COLOR:FreeTextEditor._defaultColor=value}}updateParams(type,value){switch(type){case _util2.AnnotationEditorParamsType.FREETEXT_SIZE:this.#updateFontSize(value);break;case _util2.AnnotationEditorParamsType.FREETEXT_COLOR:this.#updateColor(value)}}static get defaultPropertiesToUpdate(){return[[_util2.AnnotationEditorParamsType.FREETEXT_SIZE,FreeTextEditor._defaultFontSize],[_util2.AnnotationEditorParamsType.FREETEXT_COLOR,FreeTextEditor._defaultColor||_editor.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[_util2.AnnotationEditorParamsType.FREETEXT_SIZE,this.#fontSize],[_util2.AnnotationEditorParamsType.FREETEXT_COLOR,this.#color]]}#updateFontSize(fontSize){const setFontsize=size=>{this.editorDiv.style.fontSize=`calc(${size}px * var(--scale-factor))`,this.translate(0,-(size-this.#fontSize)*this.parent.scaleFactor),this.#fontSize=size,this.#setEditorDimensions()},savedFontsize=this.#fontSize;this.parent.addCommands({cmd:()=>{setFontsize(fontSize)},undo:()=>{setFontsize(savedFontsize)},mustExec:!0,type:_util2.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#updateColor(color){const savedColor=this.#color;this.parent.addCommands({cmd:()=>{this.#color=color,this.editorDiv.style.color=color},undo:()=>{this.#color=savedColor,this.editorDiv.style.color=savedColor},mustExec:!0,type:_util2.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){return[-FreeTextEditor._internalPadding*this.parent.scaleFactor,-(FreeTextEditor._internalPadding+this.#fontSize)*this.parent.scaleFactor]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(_util2.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",this.#boundEditorDivKeydown),this.editorDiv.addEventListener("focus",this.#boundEditorDivFocus),this.editorDiv.addEventListener("blur",this.#boundEditorDivBlur))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#boundEditorDivKeydown),this.editorDiv.removeEventListener("focus",this.#boundEditorDivFocus),this.editorDiv.removeEventListener("blur",this.#boundEditorDivBlur),this.div.focus(),this.isEditing=!1)}focusin(event){super.focusin(event),event.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}#extractText(){const divs=this.editorDiv.getElementsByTagName("div");if(0===divs.length)return this.editorDiv.innerText;const buffer=[];for(let i=0,ii=divs.length;i<ii;i++){const first=divs[i].firstChild;buffer.push("#text"===first?.nodeName?first.data:"")}return buffer.join("\n")}#setEditorDimensions(){const[parentWidth,parentHeight]=this.parent.viewportBaseDimensions,rect=this.div.getBoundingClientRect();this.width=rect.width/parentWidth,this.height=rect.height/parentHeight}commit(){super.commit(),this.#hasAlreadyBeenCommitted||(this.#hasAlreadyBeenCommitted=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#content=this.#extractText().trimEnd(),this.#setEditorDimensions()}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(event){this.enableEditMode(),this.editorDiv.focus()}keydown(event){event.target===this.div&&"Enter"===event.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(event){FreeTextEditor._keyboardManager.exec(this,event)}editorDivFocus(event){this.isEditing=!0}editorDivBlur(event){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let baseX,baseY;this.width&&(baseX=this.x,baseY=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),FreeTextEditor._l10nPromise.get("editor_free_text_aria_label").then(msg=>this.editorDiv?.setAttribute("aria-label",msg)),FreeTextEditor._l10nPromise.get("free_text_default_content").then(msg=>this.editorDiv?.setAttribute("default-content",msg)),this.editorDiv.contentEditable=!0;const{style}=this.editorDiv;if(style.fontSize=`calc(${this.#fontSize}px * var(--scale-factor))`,style.color=this.#color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,_tools.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[parentWidth,parentHeight]=this.parent.viewportBaseDimensions;this.setAt(baseX*parentWidth,baseY*parentHeight,this.width*parentWidth,this.height*parentHeight);for(const line of this.#content.split("\n")){const div=document.createElement("div");div.append(line?document.createTextNode(line):document.createElement("br")),this.editorDiv.append(div)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(data,parent){const editor=super.deserialize(data,parent);return editor.#fontSize=data.fontSize,editor.#color=_util2.Util.makeHexColor(...data.color),editor.#content=data.value,editor}serialize(){if(this.isEmpty())return null;const padding=FreeTextEditor._internalPadding*this.parent.scaleFactor,rect=this.getRect(padding,padding),color=_editor.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:_util2.AnnotationEditorType.FREETEXT,color,fontSize:this.#fontSize,value:this.#content,pageIndex:this.parent.pageIndex,rect,rotation:this.rotation}}}exports2.FreeTextEditor=FreeTextEditor},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.InkEditor=void 0,Object.defineProperty(exports2,"fitCurve",{enumerable:!0,get:function(){return _pdfjsFitCurve.fitCurve}});var _util2=__w_pdfjs_require__2(1),_editor=__w_pdfjs_require__2(6),_pdfjsFitCurve=__w_pdfjs_require__2(25),_tools=__w_pdfjs_require__2(7);exports2.InkEditor=(()=>{class InkEditor2 extends _editor.AnnotationEditor{#aspectRatio=0;#baseHeight=0;#baseWidth=0;#boundCanvasPointermove=this.canvasPointermove.bind(this);#boundCanvasPointerleave=this.canvasPointerleave.bind(this);#boundCanvasPointerup=this.canvasPointerup.bind(this);#boundCanvasPointerdown=this.canvasPointerdown.bind(this);#disableEditing=!1;#isCanvasInitialized=!1;#lastPoint=null;#observer=null;#realWidth=0;#realHeight=0;#requestFrameCallback=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(params){super({...params,name:"inkEditor"}),this.color=params.color||null,this.thickness=params.thickness||null,this.opacity=params.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(l10n){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(str=>[str,l10n.get(str)]))}static updateDefaultParams(type,value){switch(type){case _util2.AnnotationEditorParamsType.INK_THICKNESS:InkEditor2._defaultThickness=value;break;case _util2.AnnotationEditorParamsType.INK_COLOR:InkEditor2._defaultColor=value;break;case _util2.AnnotationEditorParamsType.INK_OPACITY:InkEditor2._defaultOpacity=value/100}}updateParams(type,value){switch(type){case _util2.AnnotationEditorParamsType.INK_THICKNESS:this.#updateThickness(value);break;case _util2.AnnotationEditorParamsType.INK_COLOR:this.#updateColor(value);break;case _util2.AnnotationEditorParamsType.INK_OPACITY:this.#updateOpacity(value)}}static get defaultPropertiesToUpdate(){return[[_util2.AnnotationEditorParamsType.INK_THICKNESS,InkEditor2._defaultThickness],[_util2.AnnotationEditorParamsType.INK_COLOR,InkEditor2._defaultColor||_editor.AnnotationEditor._defaultLineColor],[_util2.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*InkEditor2._defaultOpacity)]]}get propertiesToUpdate(){return[[_util2.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||InkEditor2._defaultThickness],[_util2.AnnotationEditorParamsType.INK_COLOR,this.color||InkEditor2._defaultColor||_editor.AnnotationEditor._defaultLineColor],[_util2.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??InkEditor2._defaultOpacity))]]}#updateThickness(thickness){const savedThickness=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=thickness,this.#fitToContent()},undo:()=>{this.thickness=savedThickness,this.#fitToContent()},mustExec:!0,type:_util2.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#updateColor(color){const savedColor=this.color;this.parent.addCommands({cmd:()=>{this.color=color,this.#redraw()},undo:()=>{this.color=savedColor,this.#redraw()},mustExec:!0,type:_util2.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#updateOpacity(opacity){opacity/=100;const savedOpacity=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=opacity,this.#redraw()},undo:()=>{this.opacity=savedOpacity,this.#redraw()},mustExec:!0,type:_util2.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(this.#createCanvas(),this.#createObserver()),this.isAttachedToDOM||(this.parent.add(this),this.#setCanvasDims()),this.#fitToContent())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#observer.disconnect(),this.#observer=null,super.remove())}enableEditMode(){this.#disableEditing||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#boundCanvasPointerdown),this.canvas.addEventListener("pointerup",this.#boundCanvasPointerup))}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#boundCanvasPointerdown),this.canvas.removeEventListener("pointerup",this.#boundCanvasPointerup))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#getInitialBBox(){const{width,height,rotation}=this.parent.viewport;switch(rotation){case 90:return[0,width,width,height];case 180:return[width,height,width,height];case 270:return[height,0,width,height];default:return[0,0,width,height]}}#setStroke(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,_tools.opacityToHex)(this.opacity)}`}#startDrawing(x,y){this.isEditing=!0,this.#isCanvasInitialized||(this.#isCanvasInitialized=!0,this.#setCanvasDims(),this.thickness||=InkEditor2._defaultThickness,this.color||=InkEditor2._defaultColor||_editor.AnnotationEditor._defaultLineColor,this.opacity??=InkEditor2._defaultOpacity),this.currentPath.push([x,y]),this.#lastPoint=null,this.#setStroke(),this.ctx.beginPath(),this.ctx.moveTo(x,y),this.#requestFrameCallback=()=>{this.#requestFrameCallback&&(this.#lastPoint&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#redraw(),this.ctx.lineTo(...this.#lastPoint),this.#lastPoint=null,this.ctx.stroke()),window.requestAnimationFrame(this.#requestFrameCallback))},window.requestAnimationFrame(this.#requestFrameCallback)}#draw(x,y){const[lastX,lastY]=this.currentPath.at(-1);x===lastX&&y===lastY||(this.currentPath.push([x,y]),this.#lastPoint=[x,y])}#stopDrawing(x,y){this.ctx.closePath(),this.#requestFrameCallback=null,x=Math.min(Math.max(x,0),this.canvas.width),y=Math.min(Math.max(y,0),this.canvas.height);const[lastX,lastY]=this.currentPath.at(-1);let bezier;if((x!==lastX||y!==lastY)&&this.currentPath.push([x,y]),1!==this.currentPath.length)bezier=(0,_pdfjsFitCurve.fitCurve)(this.currentPath,30,null);else{const xy=[x,y];bezier=[[xy,xy.slice(),xy.slice(),xy]]}const path2D=InkEditor2.#buildPath2D(bezier);this.currentPath.length=0,this.parent.addCommands({cmd:()=>{this.paths.push(bezier),this.bezierPath2D.push(path2D),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#createCanvas(),this.#createObserver()),this.#fitToContent())},mustExec:!0})}#redraw(){if(this.isEmpty())return void this.#updateTransform();this.#setStroke();const{canvas,ctx}=this;ctx.setTransform(1,0,0,1,0,0),ctx.clearRect(0,0,canvas.width,canvas.height),this.#updateTransform();for(const path of this.bezierPath2D)ctx.stroke(path)}commit(){this.#disableEditing||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#disableEditing=!0,this.div.classList.add("disabled"),this.#fitToContent(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(event){super.focusin(event),this.enableEditMode()}canvasPointerdown(event){0!==event.button||!this.isInEditMode()||this.#disableEditing||(this.setInForeground(),"mouse"!==event.type&&this.div.focus(),event.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#boundCanvasPointerleave),this.canvas.addEventListener("pointermove",this.#boundCanvasPointermove),this.#startDrawing(event.offsetX,event.offsetY))}canvasPointermove(event){event.stopPropagation(),this.#draw(event.offsetX,event.offsetY)}canvasPointerup(event){0===event.button&&this.isInEditMode()&&0!==this.currentPath.length&&(event.stopPropagation(),this.#endDrawing(event),this.setInBackground())}canvasPointerleave(event){this.#endDrawing(event),this.setInBackground()}#endDrawing(event){this.#stopDrawing(event.offsetX,event.offsetY),this.canvas.removeEventListener("pointerleave",this.#boundCanvasPointerleave),this.canvas.removeEventListener("pointermove",this.#boundCanvasPointermove),this.parent.addToAnnotationStorage(this)}#createCanvas(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",InkEditor2._l10nPromise.get("editor_ink_canvas_aria_label").then(msg=>this.canvas?.setAttribute("aria-label",msg)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#createObserver(){this.#observer=new ResizeObserver(entries=>{const rect=entries[0].contentRect;rect.width&&rect.height&&this.setDimensions(rect.width,rect.height)}),this.#observer.observe(this.div)}render(){if(this.div)return this.div;let baseX,baseY;this.width&&(baseX=this.x,baseY=this.y),super.render(),InkEditor2._l10nPromise.get("editor_ink_aria_label").then(msg=>this.div?.setAttribute("aria-label",msg));const[x,y,w,h]=this.#getInitialBBox();if(this.setAt(x,y,0,0),this.setDims(w,h),this.#createCanvas(),this.width){const[parentWidth,parentHeight]=this.parent.viewportBaseDimensions;this.setAt(baseX*parentWidth,baseY*parentHeight,this.width*parentWidth,this.height*parentHeight),this.#isCanvasInitialized=!0,this.#setCanvasDims(),this.setDims(this.width*parentWidth,this.height*parentHeight),this.#redraw(),this.#setMinDims(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#createObserver(),this.div}#setCanvasDims(){if(!this.#isCanvasInitialized)return;const[parentWidth,parentHeight]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*parentWidth),this.canvas.height=Math.ceil(this.height*parentHeight),this.#updateTransform()}setDimensions(width,height){const roundedWidth=Math.round(width),roundedHeight=Math.round(height);if(this.#realWidth===roundedWidth&&this.#realHeight===roundedHeight)return;this.#realWidth=roundedWidth,this.#realHeight=roundedHeight,this.canvas.style.visibility="hidden",this.#aspectRatio&&Math.abs(this.#aspectRatio-width/height)>.01&&(height=Math.ceil(width/this.#aspectRatio),this.setDims(width,height));const[parentWidth,parentHeight]=this.parent.viewportBaseDimensions;this.width=width/parentWidth,this.height=height/parentHeight,this.#disableEditing&&this.#setScaleFactor(width,height),this.#setCanvasDims(),this.#redraw(),this.canvas.style.visibility="visible"}#setScaleFactor(width,height){const padding=this.#getPadding(),scaleFactorW=(width-padding)/this.#baseWidth,scaleFactorH=(height-padding)/this.#baseHeight;this.scaleFactor=Math.min(scaleFactorW,scaleFactorH)}#updateTransform(){const padding=this.#getPadding()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+padding,this.translationY*this.scaleFactor+padding)}static#buildPath2D(bezier){const path2D=new Path2D;for(let i=0,ii=bezier.length;i<ii;i++){const[first,control1,control2,second]=bezier[i];0===i&&path2D.moveTo(...first),path2D.bezierCurveTo(control1[0],control1[1],control2[0],control2[1],second[0],second[1])}return path2D}#serializePaths(s,tx,ty,h){const paths=[],padding=this.thickness/2;let buffer,points;for(const bezier of this.paths){buffer=[],points=[];for(let i=0,ii=bezier.length;i<ii;i++){const[first,control1,control2,second]=bezier[i],p10=s*(first[0]+tx)+padding,p11=h-s*(first[1]+ty)-padding,p20=s*(control1[0]+tx)+padding,p21=h-s*(control1[1]+ty)-padding,p30=s*(control2[0]+tx)+padding,p31=h-s*(control2[1]+ty)-padding,p40=s*(second[0]+tx)+padding,p41=h-s*(second[1]+ty)-padding;0===i&&(buffer.push(p10,p11),points.push(p10,p11)),buffer.push(p20,p21,p30,p31,p40,p41),this.#extractPointsOnBezier(p10,p11,p20,p21,p30,p31,p40,p41,4,points)}paths.push({bezier:buffer,points})}return paths}#extractPointsOnBezier(p10,p11,p20,p21,p30,p31,p40,p41,n,points){if(this.#isAlmostFlat(p10,p11,p20,p21,p30,p31,p40,p41))points.push(p40,p41);else{for(let i=1;i<n-1;i++){const t=i/n,mt=1-t;let q10=t*p10+mt*p20,q11=t*p11+mt*p21,q20=t*p20+mt*p30,q21=t*p21+mt*p31;q10=t*q10+mt*q20,q11=t*q11+mt*q21,q20=t*q20+mt*(t*p30+mt*p40),q21=t*q21+mt*(t*p31+mt*p41),q10=t*q10+mt*q20,q11=t*q11+mt*q21,points.push(q10,q11)}points.push(p40,p41)}}#isAlmostFlat(p10,p11,p20,p21,p30,p31,p40,p41){const ay=(3*p21-2*p11-p41)**2,by=(3*p31-p11-2*p41)**2;return Math.max((3*p20-2*p10-p40)**2,(3*p30-p10-2*p40)**2)+Math.max(ay,by)<=10}#getBbox(){let xMin=1/0,xMax=-1/0,yMin=1/0,yMax=-1/0;for(const path of this.paths)for(const[first,control1,control2,second]of path){const bbox=_util2.Util.bezierBoundingBox(...first,...control1,...control2,...second);xMin=Math.min(xMin,bbox[0]),yMin=Math.min(yMin,bbox[1]),xMax=Math.max(xMax,bbox[2]),yMax=Math.max(yMax,bbox[3])}return[xMin,yMin,xMax,yMax]}#getPadding(){return this.#disableEditing?Math.ceil(this.thickness*this.parent.scaleFactor):0}#fitToContent(firstTime=!1){if(this.isEmpty())return;if(!this.#disableEditing)return void this.#redraw();const bbox=this.#getBbox(),padding=this.#getPadding();this.#baseWidth=Math.max(16,bbox[2]-bbox[0]),this.#baseHeight=Math.max(16,bbox[3]-bbox[1]);const width=Math.ceil(padding+this.#baseWidth*this.scaleFactor),height=Math.ceil(padding+this.#baseHeight*this.scaleFactor),[parentWidth,parentHeight]=this.parent.viewportBaseDimensions;this.width=width/parentWidth,this.height=height/parentHeight,this.#aspectRatio=width/height,this.#setMinDims();const prevTranslationX=this.translationX,prevTranslationY=this.translationY;this.translationX=-bbox[0],this.translationY=-bbox[1],this.#setCanvasDims(),this.#redraw(),this.#realWidth=width,this.#realHeight=height,this.setDims(width,height);const unscaledPadding=firstTime?padding/this.scaleFactor/2:0;this.translate(prevTranslationX-this.translationX-unscaledPadding,prevTranslationY-this.translationY-unscaledPadding)}#setMinDims(){const{style}=this.div;this.#aspectRatio>=1?(style.minHeight="16px",style.minWidth=`${Math.round(16*this.#aspectRatio)}px`):(style.minWidth="16px",style.minHeight=`${Math.round(16/this.#aspectRatio)}px`)}static deserialize(data,parent){const editor=super.deserialize(data,parent);editor.thickness=data.thickness,editor.color=_util2.Util.makeHexColor(...data.color),editor.opacity=data.opacity;const[pageWidth,pageHeight]=parent.pageDimensions,width=editor.width*pageWidth,height=editor.height*pageHeight,scaleFactor=parent.scaleFactor,padding=data.thickness/2;editor.#aspectRatio=width/height,editor.#disableEditing=!0,editor.#realWidth=Math.round(width),editor.#realHeight=Math.round(height);for(const{bezier}of data.paths){const path=[];editor.paths.push(path);let p0=scaleFactor*(bezier[0]-padding),p1=scaleFactor*(height-bezier[1]-padding);for(let i=2,ii=bezier.length;i<ii;i+=6){const p30=scaleFactor*(bezier[i+4]-padding),p31=scaleFactor*(height-bezier[i+5]-padding);path.push([[p0,p1],[scaleFactor*(bezier[i]-padding),scaleFactor*(height-bezier[i+1]-padding)],[scaleFactor*(bezier[i+2]-padding),scaleFactor*(height-bezier[i+3]-padding)],[p30,p31]]),p0=p30,p1=p31}const path2D=this.#buildPath2D(path);editor.bezierPath2D.push(path2D)}const bbox=editor.#getBbox();return editor.#baseWidth=Math.max(16,bbox[2]-bbox[0]),editor.#baseHeight=Math.max(16,bbox[3]-bbox[1]),editor.#setScaleFactor(width,height),editor}serialize(){if(this.isEmpty())return null;const rect=this.getRect(0,0),height=this.rotation%180==0?rect[3]-rect[1]:rect[2]-rect[0],color=_editor.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:_util2.AnnotationEditorType.INK,color,thickness:this.thickness,opacity:this.opacity,paths:this.#serializePaths(this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,height),pageIndex:this.parent.pageIndex,rect,rotation:this.rotation}}}return InkEditor2})()},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.fitCurve=void 0;const fitCurve=__w_pdfjs_require__2(26);exports2.fitCurve=fitCurve},module2=>{function fitCubic(points,leftTangent,rightTangent,error,progressCallback){var bezCurve,u,uPrime,maxError,prevErr,splitPoint,prevSplit,centerVector,toCenterTangent,fromCenterTangent,beziers,dist,i;if(2===points.length)return dist=maths.vectorLen(maths.subtract(points[0],points[1]))/3,[bezCurve=[points[0],maths.addArrays(points[0],maths.mulItems(leftTangent,dist)),maths.addArrays(points[1],maths.mulItems(rightTangent,dist)),points[1]]];if(u=function chordLengthParameterize(points){var currU,prevU,prevP,u=[];return points.forEach((p,i)=>{currU=i?prevU+maths.vectorLen(maths.subtract(p,prevP)):0,u.push(currU),prevU=currU,prevP=p}),u=u.map(x=>x/prevU)}(points),[bezCurve,maxError,splitPoint]=generateAndReport(points,u,u,leftTangent,rightTangent,progressCallback),0===maxError||maxError<error)return[bezCurve];if(maxError<error*error)for(uPrime=u,prevErr=maxError,prevSplit=splitPoint,i=0;i<20;i++){if(uPrime=reparameterize(bezCurve,points,uPrime),[bezCurve,maxError,splitPoint]=generateAndReport(points,u,uPrime,leftTangent,rightTangent,progressCallback),maxError<error)return[bezCurve];if(splitPoint===prevSplit){let errChange=maxError/prevErr;if(errChange>.9999&&errChange<1.0001)break}prevErr=maxError,prevSplit=splitPoint}return beziers=[],(centerVector=maths.subtract(points[splitPoint-1],points[splitPoint+1])).every(val=>0===val)&&(centerVector=maths.subtract(points[splitPoint-1],points[splitPoint]),[centerVector[0],centerVector[1]]=[-centerVector[1],centerVector[0]]),toCenterTangent=maths.normalize(centerVector),fromCenterTangent=maths.mulItems(toCenterTangent,-1),(beziers=beziers.concat(fitCubic(points.slice(0,splitPoint+1),leftTangent,toCenterTangent,error,progressCallback))).concat(fitCubic(points.slice(splitPoint),fromCenterTangent,rightTangent,error,progressCallback))}function generateAndReport(points,paramsOrig,paramsPrime,leftTangent,rightTangent,progressCallback){var bezCurve,maxError,splitPoint;return bezCurve=function generateBezier(points,parameters,leftTangent,rightTangent){var bezCurve,A,a,C,X,det_C0_C1,alpha_l,alpha_r,epsilon,segLength,i,len,tmp,u,ux,firstPoint=points[0],lastPoint=points[points.length-1];for(bezCurve=[firstPoint,null,null,lastPoint],A=maths.zeros_Xx2x2(parameters.length),i=0,len=parameters.length;i<len;i++)(a=A[i])[0]=maths.mulItems(leftTangent,3*(u=parameters[i])*((ux=1-u)*ux)),a[1]=maths.mulItems(rightTangent,3*ux*(u*u));for(C=[[0,0],[0,0]],X=[0,0],i=0,len=points.length;i<len;i++)u=parameters[i],C[0][0]+=maths.dot((a=A[i])[0],a[0]),C[0][1]+=maths.dot(a[0],a[1]),C[1][0]+=maths.dot(a[0],a[1]),C[1][1]+=maths.dot(a[1],a[1]),tmp=maths.subtract(points[i],bezier.q([firstPoint,firstPoint,lastPoint,lastPoint],u)),X[0]+=maths.dot(a[0],tmp),X[1]+=maths.dot(a[1],tmp);return alpha_l=0==(det_C0_C1=C[0][0]*C[1][1]-C[1][0]*C[0][1])?0:(X[0]*C[1][1]-X[1]*C[0][1])/det_C0_C1,alpha_r=0===det_C0_C1?0:(C[0][0]*X[1]-C[1][0]*X[0])/det_C0_C1,alpha_l<(epsilon=1e-6*(segLength=maths.vectorLen(maths.subtract(firstPoint,lastPoint))))||alpha_r<epsilon?(bezCurve[1]=maths.addArrays(firstPoint,maths.mulItems(leftTangent,segLength/3)),bezCurve[2]=maths.addArrays(lastPoint,maths.mulItems(rightTangent,segLength/3))):(bezCurve[1]=maths.addArrays(firstPoint,maths.mulItems(leftTangent,alpha_l)),bezCurve[2]=maths.addArrays(lastPoint,maths.mulItems(rightTangent,alpha_r))),bezCurve}(points,paramsPrime,leftTangent,rightTangent),[maxError,splitPoint]=function computeMaxError(points,bez,parameters){var dist,maxDist,splitPoint,v,i,count,point,t;maxDist=0,splitPoint=Math.floor(points.length/2);const t_distMap=mapTtoRelativeDistances(bez,10);for(i=0,count=points.length;i<count;i++)point=points[i],t=find_t(0,parameters[i],t_distMap,10),(dist=(v=maths.subtract(bezier.q(bez,t),point))[0]*v[0]+v[1]*v[1])>maxDist&&(maxDist=dist,splitPoint=i);return[maxDist,splitPoint]}(points,bezCurve,paramsOrig),progressCallback&&progressCallback({bez:bezCurve,points,params:paramsOrig,maxErr:maxError,maxPoint:splitPoint}),[bezCurve,maxError,splitPoint]}function reparameterize(bezier2,points,parameters){return parameters.map((p,i)=>function newtonRaphsonRootFind(bez,point,u){var d=maths.subtract(bezier.q(bez,u),point),qprime=bezier.qprime(bez,u),numerator=maths.mulMatrix(d,qprime),denominator=maths.sum(maths.squareItems(qprime))+2*maths.mulMatrix(d,bezier.qprimeprime(bez,u));return 0===denominator?u:u-numerator/denominator}(bezier2,points[i],p))}var mapTtoRelativeDistances=function(bez,B_parts){for(var B_t_curr,B_t_dist=[0],B_t_prev=bez[0],sumLen=0,i=1;i<=B_parts;i++)B_t_curr=bezier.q(bez,i/B_parts),sumLen+=maths.vectorLen(maths.subtract(B_t_curr,B_t_prev)),B_t_dist.push(sumLen),B_t_prev=B_t_curr;return B_t_dist.map(x=>x/sumLen)};function find_t(bez,param,t_distMap,B_parts){if(param<0)return 0;if(param>1)return 1;for(var lenMin,tMin,t,i=1;i<=B_parts;i++)if(param<=t_distMap[i]){t=(param-(lenMin=t_distMap[i-1]))/(t_distMap[i]-lenMin)*(i/B_parts-(tMin=(i-1)/B_parts))+tMin;break}return t}function createTangent(pointA,pointB){return maths.normalize(maths.subtract(pointA,pointB))}class maths{static zeros_Xx2x2(x){for(var zs=[];x--;)zs.push([0,0]);return zs}static mulItems(items,multiplier){return items.map(x=>x*multiplier)}static mulMatrix(m1,m2){return m1.reduce((sum,x1,i)=>sum+x1*m2[i],0)}static subtract(arr1,arr2){return arr1.map((x1,i)=>x1-arr2[i])}static addArrays(arr1,arr2){return arr1.map((x1,i)=>x1+arr2[i])}static addItems(items,addition){return items.map(x=>x+addition)}static sum(items){return items.reduce((sum,x)=>sum+x)}static dot(m1,m2){return maths.mulMatrix(m1,m2)}static vectorLen(v){return Math.hypot(...v)}static divItems(items,divisor){return items.map(x=>x/divisor)}static squareItems(items){return items.map(x=>x*x)}static normalize(v){return this.divItems(v,this.vectorLen(v))}}class bezier{static q(ctrlPoly,t){var tx=1-t,pA=maths.mulItems(ctrlPoly[0],tx*tx*tx),pB=maths.mulItems(ctrlPoly[1],3*tx*tx*t),pC=maths.mulItems(ctrlPoly[2],3*tx*t*t),pD=maths.mulItems(ctrlPoly[3],t*t*t);return maths.addArrays(maths.addArrays(pA,pB),maths.addArrays(pC,pD))}static qprime(ctrlPoly,t){var tx=1-t,pA=maths.mulItems(maths.subtract(ctrlPoly[1],ctrlPoly[0]),3*tx*tx),pB=maths.mulItems(maths.subtract(ctrlPoly[2],ctrlPoly[1]),6*tx*t),pC=maths.mulItems(maths.subtract(ctrlPoly[3],ctrlPoly[2]),3*t*t);return maths.addArrays(maths.addArrays(pA,pB),pC)}static qprimeprime(ctrlPoly,t){return maths.addArrays(maths.mulItems(maths.addArrays(maths.subtract(ctrlPoly[2],maths.mulItems(ctrlPoly[1],2)),ctrlPoly[0]),6*(1-t)),maths.mulItems(maths.addArrays(maths.subtract(ctrlPoly[3],maths.mulItems(ctrlPoly[2],2)),ctrlPoly[1]),6*t))}}module2.exports=function fitCurve(points,maxError,progressCallback){if(!Array.isArray(points))throw new TypeError("First argument should be an array");if(points.forEach(point=>{if(!Array.isArray(point)||point.some(item=>"number"!=typeof item)||point.length!==points[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),(points=points.filter((point,i)=>0===i||!point.every((val,j)=>val===points[i-1][j]))).length<2)return[];const len=points.length,leftTangent=createTangent(points[1],points[0]),rightTangent=createTangent(points[len-2],points[len-1]);return fitCubic(points,leftTangent,rightTangent,maxError,progressCallback)},module2.exports.fitCubic=fitCubic,module2.exports.createTangent=createTangent},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.AnnotationLayer=void 0;var _util2=__w_pdfjs_require__2(1),_display_utils2=__w_pdfjs_require__2(8),_annotation_storage2=__w_pdfjs_require__2(5),_scripting_utils=__w_pdfjs_require__2(28),_xfa_layer=__w_pdfjs_require__2(29);const GetElementsByNameSet=new WeakSet;function getRectDims(rect){return{width:rect[2]-rect[0],height:rect[3]-rect[1]}}class AnnotationElementFactory{static create(parameters){switch(parameters.data.annotationType){case _util2.AnnotationType.LINK:return new LinkAnnotationElement(parameters);case _util2.AnnotationType.TEXT:return new TextAnnotationElement(parameters);case _util2.AnnotationType.WIDGET:switch(parameters.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(parameters);case"Btn":return parameters.data.radioButton?new RadioButtonWidgetAnnotationElement(parameters):parameters.data.checkBox?new CheckboxWidgetAnnotationElement(parameters):new PushButtonWidgetAnnotationElement(parameters);case"Ch":return new ChoiceWidgetAnnotationElement(parameters)}return new WidgetAnnotationElement(parameters);case _util2.AnnotationType.POPUP:return new PopupAnnotationElement(parameters);case _util2.AnnotationType.FREETEXT:return new FreeTextAnnotationElement(parameters);case _util2.AnnotationType.LINE:return new LineAnnotationElement(parameters);case _util2.AnnotationType.SQUARE:return new SquareAnnotationElement(parameters);case _util2.AnnotationType.CIRCLE:return new CircleAnnotationElement(parameters);case _util2.AnnotationType.POLYLINE:return new PolylineAnnotationElement(parameters);case _util2.AnnotationType.CARET:return new CaretAnnotationElement(parameters);case _util2.AnnotationType.INK:return new InkAnnotationElement(parameters);case _util2.AnnotationType.POLYGON:return new PolygonAnnotationElement(parameters);case _util2.AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(parameters);case _util2.AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(parameters);case _util2.AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(parameters);case _util2.AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(parameters);case _util2.AnnotationType.STAMP:return new StampAnnotationElement(parameters);case _util2.AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(parameters);default:return new AnnotationElement(parameters)}}}class AnnotationElement{constructor(parameters,{isRenderable=!1,ignoreBorder=!1,createQuadrilaterals=!1}={}){this.isRenderable=isRenderable,this.data=parameters.data,this.layer=parameters.layer,this.page=parameters.page,this.viewport=parameters.viewport,this.linkService=parameters.linkService,this.downloadManager=parameters.downloadManager,this.imageResourcesPath=parameters.imageResourcesPath,this.renderForms=parameters.renderForms,this.svgFactory=parameters.svgFactory,this.annotationStorage=parameters.annotationStorage,this.enableScripting=parameters.enableScripting,this.hasJSActions=parameters.hasJSActions,this._fieldObjects=parameters.fieldObjects,this._mouseState=parameters.mouseState,isRenderable&&(this.container=this._createContainer(ignoreBorder)),createQuadrilaterals&&(this.quadrilaterals=this._createQuadrilaterals(ignoreBorder))}_createContainer(ignoreBorder=!1){const data=this.data,page=this.page,viewport=this.viewport,container=document.createElement("section"),{width,height}=getRectDims(data.rect),[pageLLx,pageLLy,pageURx,pageURy]=viewport.viewBox,pageWidth=pageURx-pageLLx,pageHeight=pageURy-pageLLy;container.setAttribute("data-annotation-id",data.id);const rect=_util2.Util.normalizeRect([data.rect[0],page.view[3]-data.rect[1]+page.view[1],data.rect[2],page.view[3]-data.rect[3]+page.view[1]]);if(!ignoreBorder&&data.borderStyle.width>0){container.style.borderWidth=`${data.borderStyle.width}px`;const horizontalRadius=data.borderStyle.horizontalCornerRadius,verticalRadius=data.borderStyle.verticalCornerRadius;switch(horizontalRadius>0||verticalRadius>0?container.style.borderRadius=`calc(${horizontalRadius}px * var(--scale-factor)) / calc(${verticalRadius}px * var(--scale-factor))`:this instanceof RadioButtonWidgetAnnotationElement&&(container.style.borderRadius=`calc(${width}px * var(--scale-factor)) / calc(${height}px * var(--scale-factor))`),data.borderStyle.style){case _util2.AnnotationBorderStyleType.SOLID:container.style.borderStyle="solid";break;case _util2.AnnotationBorderStyleType.DASHED:container.style.borderStyle="dashed";break;case _util2.AnnotationBorderStyleType.BEVELED:(0,_util2.warn)("Unimplemented border style: beveled");break;case _util2.AnnotationBorderStyleType.INSET:(0,_util2.warn)("Unimplemented border style: inset");break;case _util2.AnnotationBorderStyleType.UNDERLINE:container.style.borderBottomStyle="solid"}const borderColor=data.borderColor||null;borderColor?container.style.borderColor=_util2.Util.makeHexColor(0|borderColor[0],0|borderColor[1],0|borderColor[2]):container.style.borderWidth=0}container.style.left=100*(rect[0]-pageLLx)/pageWidth+"%",container.style.top=100*(rect[1]-pageLLy)/pageHeight+"%";const{rotation}=data;return data.hasOwnCanvas||0===rotation?(container.style.width=100*width/pageWidth+"%",container.style.height=100*height/pageHeight+"%"):this.setRotation(rotation,container),container}setRotation(angle,container=this.container){const[pageLLx,pageLLy,pageURx,pageURy]=this.viewport.viewBox,pageWidth=pageURx-pageLLx,pageHeight=pageURy-pageLLy,{width,height}=getRectDims(this.data.rect);let elementWidth,elementHeight;angle%180==0?(elementWidth=100*width/pageWidth,elementHeight=100*height/pageHeight):(elementWidth=100*height/pageWidth,elementHeight=100*width/pageHeight),container.style.width=`${elementWidth}%`,container.style.height=`${elementHeight}%`,container.setAttribute("data-main-rotation",(360-angle)%360)}get _commonActions(){const setColor=(jsName,styleName,event)=>{const color=event.detail[jsName];event.target.style[styleName]=_scripting_utils.ColorConverters[`${color[0]}_HTML`](color.slice(1))};return(0,_util2.shadow)(this,"_commonActions",{display:event=>{const hidden=event.detail.display%2==1;this.container.style.visibility=hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden,print:0===event.detail.display||3===event.detail.display})},print:event=>{this.annotationStorage.setValue(this.data.id,{print:event.detail.print})},hidden:event=>{this.container.style.visibility=event.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:event.detail.hidden})},focus:event=>{setTimeout(()=>event.target.focus({preventScroll:!1}),0)},userName:event=>{event.target.title=event.detail.userName},readonly:event=>{event.detail.readonly?event.target.setAttribute("readonly",""):event.target.removeAttribute("readonly")},required:event=>{this._setRequired(event.target,event.detail.required)},bgColor:event=>{setColor("bgColor","backgroundColor",event)},fillColor:event=>{setColor("fillColor","backgroundColor",event)},fgColor:event=>{setColor("fgColor","color",event)},textColor:event=>{setColor("textColor","color",event)},borderColor:event=>{setColor("borderColor","borderColor",event)},strokeColor:event=>{setColor("strokeColor","borderColor",event)},rotation:event=>{const angle=event.detail.rotation;this.setRotation(angle),this.annotationStorage.setValue(this.data.id,{rotation:angle})}})}_dispatchEventFromSandbox(actions,jsEvent){const commonActions=this._commonActions;for(const name of Object.keys(jsEvent.detail)){const action=actions[name]||commonActions[name];action&&action(jsEvent)}}_setDefaultPropertiesFromJS(element){if(!this.enableScripting)return;const storedData=this.annotationStorage.getRawValue(this.data.id);if(!storedData)return;const commonActions=this._commonActions;for(const[actionName,detail]of Object.entries(storedData)){const action=commonActions[actionName];action&&(action({detail:{[actionName]:detail},target:element}),delete storedData[actionName])}}_createQuadrilaterals(ignoreBorder=!1){if(!this.data.quadPoints)return null;const quadrilaterals=[],savedRect=this.data.rect;for(const quadPoint of this.data.quadPoints)this.data.rect=[quadPoint[2].x,quadPoint[2].y,quadPoint[1].x,quadPoint[1].y],quadrilaterals.push(this._createContainer(ignoreBorder));return this.data.rect=savedRect,quadrilaterals}_createPopup(trigger,data){let container=this.container;this.quadrilaterals&&(trigger=trigger||this.quadrilaterals,container=this.quadrilaterals[0]),trigger||((trigger=document.createElement("div")).className="popupTriggerArea",container.append(trigger));const popup=new PopupElement({container,trigger,color:data.color,titleObj:data.titleObj,modificationDate:data.modificationDate,contentsObj:data.contentsObj,richText:data.richText,hideWrapper:!0}).render();popup.style.left="100%",container.append(popup)}_renderQuadrilaterals(className){for(const quadrilateral of this.quadrilaterals)quadrilateral.className=className;return this.quadrilaterals}render(){(0,_util2.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(name,skipId=null){const fields=[];if(this._fieldObjects){const fieldObj=this._fieldObjects[name];if(fieldObj)for(const{page,id,exportValues}of fieldObj){if(-1===page||id===skipId)continue;const exportValue="string"==typeof exportValues?exportValues:null,domElement=document.querySelector(`[data-element-id="${id}"]`);!domElement||GetElementsByNameSet.has(domElement)?fields.push({id,exportValue,domElement}):(0,_util2.warn)(`_getElementsByName - element not allowed: ${id}`)}return fields}for(const domElement of document.getElementsByName(name)){const{id,exportValue}=domElement;id!==skipId&&GetElementsByNameSet.has(domElement)&&fields.push({id,exportValue,domElement})}return fields}static get platform(){const platform=typeof navigator<"u"?navigator.platform:"";return(0,_util2.shadow)(this,"platform",{isWin:platform.includes("Win"),isMac:platform.includes("Mac")})}}class LinkAnnotationElement extends AnnotationElement{constructor(parameters,options=null){super(parameters,{isRenderable:!0,ignoreBorder:!!options?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=parameters.data.isTooltipOnly}render(){const{data,linkService}=this,link=document.createElement("a");link.setAttribute("data-element-id",data.id);let isBound=!1;return data.url?(linkService.addLinkAttributes(link,data.url,data.newWindow),isBound=!0):data.action?(this._bindNamedAction(link,data.action),isBound=!0):data.dest?(this._bindLink(link,data.dest),isBound=!0):(data.actions&&(data.actions.Action||data.actions["Mouse Up"]||data.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(link,data),isBound=!0),data.resetForm?(this._bindResetFormAction(link,data.resetForm),isBound=!0):this.isTooltipOnly&&!isBound&&(this._bindLink(link,""),isBound=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((quadrilateral,index)=>{const linkElement=0===index?link:link.cloneNode();return quadrilateral.append(linkElement),quadrilateral}):(this.container.className="linkAnnotation",isBound&&this.container.append(link),this.container)}_bindLink(link,destination){link.href=this.linkService.getDestinationHash(destination),link.onclick=()=>(destination&&this.linkService.goToDestination(destination),!1),(destination||""===destination)&&(link.className="internalLink")}_bindNamedAction(link,action){link.href=this.linkService.getAnchorUrl(""),link.onclick=()=>(this.linkService.executeNamedAction(action),!1),link.className="internalLink"}_bindJSAction(link,data){link.href=this.linkService.getAnchorUrl("");const map=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const name of Object.keys(data.actions)){const jsName=map.get(name);jsName&&(link[jsName]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:data.id,name}}),!1))}link.onclick||(link.onclick=()=>!1),link.className="internalLink"}_bindResetFormAction(link,resetForm){const otherClickAction=link.onclick;if(otherClickAction||(link.href=this.linkService.getAnchorUrl("")),link.className="internalLink",!this._fieldObjects)return(0,_util2.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(otherClickAction||(link.onclick=()=>!1));link.onclick=()=>{otherClickAction&&otherClickAction();const{fields:resetFormFields,refs:resetFormRefs,include}=resetForm,allFields=[];if(0!==resetFormFields.length||0!==resetFormRefs.length){const fieldIds=new Set(resetFormRefs);for(const fieldName of resetFormFields){const fields=this._fieldObjects[fieldName]||[];for(const{id}of fields)fieldIds.add(id)}for(const fields of Object.values(this._fieldObjects))for(const field of fields)fieldIds.has(field.id)===include&&allFields.push(field)}else for(const fields of Object.values(this._fieldObjects))allFields.push(...fields);const storage=this.annotationStorage,allIds=[];for(const field of allFields){const{id}=field;switch(allIds.push(id),field.type){case"text":case"combobox":case"listbox":storage.setValue(id,{value:field.defaultValue||""});break;case"checkbox":case"radiobutton":storage.setValue(id,{value:field.defaultValue===field.exportValues});break;default:continue}const domElement=document.querySelector(`[data-element-id="${id}"]`);domElement&&(GetElementsByNameSet.has(domElement)?domElement.dispatchEvent(new Event("resetform")):(0,_util2.warn)(`_bindResetFormAction - element not allowed: ${id}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:allIds,name:"ResetForm"}}),!1}}}class TextAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!!(parameters.data.hasPopup||parameters.data.titleObj?.str||parameters.data.contentsObj?.str||parameters.data.richText?.str)})}render(){this.container.className="textAnnotation";const image=document.createElement("img");return image.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",image.alt="[{{type}} Annotation]",image.dataset.l10nId="text_annotation_type",image.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(image,this.data),this.container.append(image),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(event){const{isWin,isMac}=AnnotationElement.platform;return isWin&&event.ctrlKey||isMac&&event.metaKey}_setEventListener(element,baseName,eventName,valueGetter){baseName.includes("mouse")?element.addEventListener(baseName,event=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:eventName,value:valueGetter(event),shift:event.shiftKey,modifier:this._getKeyModifier(event)}})}):element.addEventListener(baseName,event=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:eventName,value:valueGetter(event)}})})}_setEventListeners(element,names,getter){for(const[baseName,eventName]of names)("Action"===eventName||this.data.actions?.[eventName])&&this._setEventListener(element,baseName,eventName,getter)}_setBackgroundColor(element){const color=this.data.backgroundColor||null;element.style.backgroundColor=null===color?"transparent":_util2.Util.makeHexColor(color[0],color[1],color[2])}_setTextStyle(element){const{fontColor}=this.data.defaultAppearanceData,fontSize=this.data.defaultAppearanceData.fontSize||9,style=element.style;let computedFontSize;if(this.data.multiLine){const height=Math.abs(this.data.rect[3]-this.data.rect[1]),numberOfLines=Math.round(height/(_util2.LINE_FACTOR*fontSize))||1;computedFontSize=Math.min(fontSize,Math.round(height/numberOfLines/_util2.LINE_FACTOR))}else{const height=Math.abs(this.data.rect[3]-this.data.rect[1]);computedFontSize=Math.min(fontSize,Math.round(height/_util2.LINE_FACTOR))}style.fontSize=`calc(${computedFontSize}px * var(--scale-factor))`,style.color=_util2.Util.makeHexColor(fontColor[0],fontColor[1],fontColor[2]),null!==this.data.textAlignment&&(style.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(element,isRequired){isRequired?element.setAttribute("required",!0):element.removeAttribute("required"),element.setAttribute("aria-required",isRequired)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor(parameters){super(parameters,{isRenderable:parameters.renderForms||!parameters.data.hasAppearance&&!!parameters.data.fieldValue})}setPropertyOnSiblings(base,key,value,keyInStorage){const storage=this.annotationStorage;for(const element of this._getElementsByName(base.name,base.id))element.domElement&&(element.domElement[key]=value),storage.setValue(element.id,{[keyInStorage]:value})}render(){const storage=this.annotationStorage,id=this.data.id;this.container.className="textWidgetAnnotation";let element=null;if(this.renderForms){const storedData=storage.getValue(id,{value:this.data.fieldValue});let textContent=storedData.formattedValue||storedData.value||"";const maxLen=storage.getValue(id,{charLimit:this.data.maxLen}).charLimit;maxLen&&textContent.length>maxLen&&(textContent=textContent.slice(0,maxLen));const elementData={userValue:textContent,formattedValue:null,valueOnFocus:""};this.data.multiLine?(element=document.createElement("textarea"),element.textContent=textContent,this.data.doNotScroll&&(element.style.overflowY="hidden")):(element=document.createElement("input"),element.type="text",element.setAttribute("value",textContent),this.data.doNotScroll&&(element.style.overflowX="hidden")),GetElementsByNameSet.add(element),element.setAttribute("data-element-id",id),element.disabled=this.data.readOnly,element.name=this.data.fieldName,element.tabIndex=1e3,this._setRequired(element,this.data.required),maxLen&&(element.maxLength=maxLen),element.addEventListener("input",event=>{storage.setValue(id,{value:event.target.value}),this.setPropertyOnSiblings(element,"value",event.target.value,"value")}),element.addEventListener("resetform",event=>{element.value=elementData.userValue=this.data.defaultFieldValue??"",elementData.formattedValue=null});let blurListener=event=>{const{formattedValue}=elementData;null!=formattedValue&&(event.target.value=formattedValue),event.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){element.addEventListener("focus",event=>{elementData.userValue&&(event.target.value=elementData.userValue),elementData.valueOnFocus=event.target.value}),element.addEventListener("updatefromsandbox",jsEvent=>{this._dispatchEventFromSandbox({value(event){elementData.userValue=event.detail.value??"",storage.setValue(id,{value:elementData.userValue.toString()}),event.target.value=elementData.userValue},formattedValue(event){const{formattedValue}=event.detail;elementData.formattedValue=formattedValue,null!=formattedValue&&event.target!==document.activeElement&&(event.target.value=formattedValue),storage.setValue(id,{formattedValue})},selRange(event){event.target.setSelectionRange(...event.detail.selRange)},charLimit:event=>{const{charLimit}=event.detail,{target}=event;if(0===charLimit)return void target.removeAttribute("maxLength");target.setAttribute("maxLength",charLimit);let value=elementData.userValue;!value||value.length<=charLimit||(value=value.slice(0,charLimit),target.value=elementData.userValue=value,storage.setValue(id,{value}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id,name:"Keystroke",value,willCommit:!0,commitKey:1,selStart:target.selectionStart,selEnd:target.selectionEnd}}))}},jsEvent)}),element.addEventListener("keydown",event=>{let commitKey=-1;if("Escape"===event.key?commitKey=0:"Enter"===event.key?commitKey=2:"Tab"===event.key&&(commitKey=3),-1===commitKey)return;const{value}=event.target;elementData.valueOnFocus!==value&&(elementData.userValue=value,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id,name:"Keystroke",value,willCommit:!0,commitKey,selStart:event.target.selectionStart,selEnd:event.target.selectionEnd}}))});const _blurListener=blurListener;blurListener=null,element.addEventListener("blur",event=>{const{value}=event.target;elementData.userValue=value,this._mouseState.isDown&&elementData.valueOnFocus!==value&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id,name:"Keystroke",value,willCommit:!0,commitKey:1,selStart:event.target.selectionStart,selEnd:event.target.selectionEnd}}),_blurListener(event)}),this.data.actions?.Keystroke&&element.addEventListener("beforeinput",event=>{const{data,target}=event,{value,selectionStart,selectionEnd}=target;let selStart=selectionStart,selEnd=selectionEnd;switch(event.inputType){case"deleteWordBackward":{const match=value.substring(0,selectionStart).match(/\w*[^\w]*$/);match&&(selStart-=match[0].length);break}case"deleteWordForward":{const match=value.substring(selectionStart).match(/^[^\w]*\w*/);match&&(selEnd+=match[0].length);break}case"deleteContentBackward":selectionStart===selectionEnd&&(selStart-=1);break;case"deleteContentForward":selectionStart===selectionEnd&&(selEnd+=1)}event.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id,name:"Keystroke",value,change:data||"",willCommit:!1,selStart,selEnd}})}),this._setEventListeners(element,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],event=>event.target.value)}if(blurListener&&element.addEventListener("blur",blurListener),this.data.comb){const combWidth=(this.data.rect[2]-this.data.rect[0])/maxLen;element.classList.add("comb"),element.style.letterSpacing=`calc(${combWidth}px * var(--scale-factor) - 1ch)`}}else element=document.createElement("div"),element.textContent=this.data.fieldValue,element.style.verticalAlign="middle",element.style.display="table-cell";return this._setTextStyle(element),this._setBackgroundColor(element),this._setDefaultPropertiesFromJS(element),this.container.append(element),this.container}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor(parameters){super(parameters,{isRenderable:parameters.renderForms})}render(){const storage=this.annotationStorage,data=this.data,id=data.id;let value=storage.getValue(id,{value:data.exportValue===data.fieldValue}).value;"string"==typeof value&&(value="Off"!==value,storage.setValue(id,{value})),this.container.className="buttonWidgetAnnotation checkBox";const element=document.createElement("input");return GetElementsByNameSet.add(element),element.setAttribute("data-element-id",id),element.disabled=data.readOnly,this._setRequired(element,this.data.required),element.type="checkbox",element.name=data.fieldName,value&&element.setAttribute("checked",!0),element.setAttribute("exportValue",data.exportValue),element.tabIndex=1e3,element.addEventListener("change",event=>{const{name,checked}=event.target;for(const checkbox of this._getElementsByName(name,id)){const curChecked=checked&&checkbox.exportValue===data.exportValue;checkbox.domElement&&(checkbox.domElement.checked=curChecked),storage.setValue(checkbox.id,{value:curChecked})}storage.setValue(id,{value:checked})}),element.addEventListener("resetform",event=>{event.target.checked=(data.defaultFieldValue||"Off")===data.exportValue}),this.enableScripting&&this.hasJSActions&&(element.addEventListener("updatefromsandbox",jsEvent=>{this._dispatchEventFromSandbox({value(event){event.target.checked="Off"!==event.detail.value,storage.setValue(id,{value:event.target.checked})}},jsEvent)}),this._setEventListeners(element,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],event=>event.target.checked)),this._setBackgroundColor(element),this._setDefaultPropertiesFromJS(element),this.container.append(element),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor(parameters){super(parameters,{isRenderable:parameters.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const storage=this.annotationStorage,data=this.data,id=data.id;let value=storage.getValue(id,{value:data.fieldValue===data.buttonValue}).value;"string"==typeof value&&(value=value!==data.buttonValue,storage.setValue(id,{value}));const element=document.createElement("input");if(GetElementsByNameSet.add(element),element.setAttribute("data-element-id",id),element.disabled=data.readOnly,this._setRequired(element,this.data.required),element.type="radio",element.name=data.fieldName,value&&element.setAttribute("checked",!0),element.tabIndex=1e3,element.addEventListener("change",event=>{const{name,checked}=event.target;for(const radio of this._getElementsByName(name,id))storage.setValue(radio.id,{value:!1});storage.setValue(id,{value:checked})}),element.addEventListener("resetform",event=>{const defaultValue=data.defaultFieldValue;event.target.checked=null!=defaultValue&&defaultValue===data.buttonValue}),this.enableScripting&&this.hasJSActions){const pdfButtonValue=data.buttonValue;element.addEventListener("updatefromsandbox",jsEvent=>{this._dispatchEventFromSandbox({value:event=>{const checked=pdfButtonValue===event.detail.value;for(const radio of this._getElementsByName(event.target.name)){const curChecked=checked&&radio.id===id;radio.domElement&&(radio.domElement.checked=curChecked),storage.setValue(radio.id,{value:curChecked})}}},jsEvent)}),this._setEventListeners(element,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],event=>event.target.checked)}return this._setBackgroundColor(element),this._setDefaultPropertiesFromJS(element),this.container.append(element),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor(parameters){super(parameters,{ignoreBorder:parameters.data.hasAppearance})}render(){const container=super.render();container.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(container.title=this.data.alternativeText);const linkElement=container.lastChild;return this.enableScripting&&this.hasJSActions&&linkElement&&(this._setDefaultPropertiesFromJS(linkElement),linkElement.addEventListener("updatefromsandbox",jsEvent=>{this._dispatchEventFromSandbox({},jsEvent)})),container}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor(parameters){super(parameters,{isRenderable:parameters.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const storage=this.annotationStorage,id=this.data.id,storedData=storage.getValue(id,{value:this.data.fieldValue}),selectElement=document.createElement("select");GetElementsByNameSet.add(selectElement),selectElement.setAttribute("data-element-id",id),selectElement.disabled=this.data.readOnly,this._setRequired(selectElement,this.data.required),selectElement.name=this.data.fieldName,selectElement.tabIndex=1e3;let addAnEmptyEntry=this.data.combo&&this.data.options.length>0;this.data.combo||(selectElement.size=this.data.options.length,this.data.multiSelect&&(selectElement.multiple=!0)),selectElement.addEventListener("resetform",event=>{const defaultValue=this.data.defaultFieldValue;for(const option of selectElement.options)option.selected=option.value===defaultValue});for(const option of this.data.options){const optionElement=document.createElement("option");optionElement.textContent=option.displayValue,optionElement.value=option.exportValue,storedData.value.includes(option.exportValue)&&(optionElement.setAttribute("selected",!0),addAnEmptyEntry=!1),selectElement.append(optionElement)}let removeEmptyEntry=null;if(addAnEmptyEntry){const noneOptionElement=document.createElement("option");noneOptionElement.value=" ",noneOptionElement.setAttribute("hidden",!0),noneOptionElement.setAttribute("selected",!0),selectElement.prepend(noneOptionElement),removeEmptyEntry=()=>{noneOptionElement.remove(),selectElement.removeEventListener("input",removeEmptyEntry),removeEmptyEntry=null},selectElement.addEventListener("input",removeEmptyEntry)}const getValue=(event,isExport)=>{const name=isExport?"value":"textContent",options=event.target.options;return event.target.multiple?Array.prototype.filter.call(options,option=>option.selected).map(option=>option[name]):-1===options.selectedIndex?null:options[options.selectedIndex][name]},getItems=event=>Array.prototype.map.call(event.target.options,option=>({displayValue:option.textContent,exportValue:option.value}));return this.enableScripting&&this.hasJSActions?(selectElement.addEventListener("updatefromsandbox",jsEvent=>{this._dispatchEventFromSandbox({value(event){removeEmptyEntry?.();const value=event.detail.value,values=new Set(Array.isArray(value)?value:[value]);for(const option of selectElement.options)option.selected=values.has(option.value);storage.setValue(id,{value:getValue(event,!0)})},multipleSelection(event){selectElement.multiple=!0},remove(event){const options=selectElement.options,index=event.detail.remove;options[index].selected=!1,selectElement.remove(index),options.length>0&&-1===Array.prototype.findIndex.call(options,option=>option.selected)&&(options[0].selected=!0),storage.setValue(id,{value:getValue(event,!0),items:getItems(event)})},clear(event){for(;0!==selectElement.length;)selectElement.remove(0);storage.setValue(id,{value:null,items:[]})},insert(event){const{index,displayValue,exportValue}=event.detail.insert,selectChild=selectElement.children[index],optionElement=document.createElement("option");optionElement.textContent=displayValue,optionElement.value=exportValue,selectChild?selectChild.before(optionElement):selectElement.append(optionElement),storage.setValue(id,{value:getValue(event,!0),items:getItems(event)})},items(event){const{items}=event.detail;for(;0!==selectElement.length;)selectElement.remove(0);for(const item of items){const{displayValue,exportValue}=item,optionElement=document.createElement("option");optionElement.textContent=displayValue,optionElement.value=exportValue,selectElement.append(optionElement)}selectElement.options.length>0&&(selectElement.options[0].selected=!0),storage.setValue(id,{value:getValue(event,!0),items:getItems(event)})},indices(event){const indices=new Set(event.detail.indices);for(const option of event.target.options)option.selected=indices.has(option.index);storage.setValue(id,{value:getValue(event,!0)})},editable(event){event.target.disabled=!event.detail.editable}},jsEvent)}),selectElement.addEventListener("input",event=>{const exportValue=getValue(event,!0),value=getValue(event,!1);storage.setValue(id,{value:exportValue}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id,name:"Keystroke",value,changeEx:exportValue,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(selectElement,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],event=>event.target.checked)):selectElement.addEventListener("input",function(event){storage.setValue(id,{value:getValue(event,!0)})}),this.data.combo&&this._setTextStyle(selectElement),this._setBackgroundColor(selectElement),this._setDefaultPropertiesFromJS(selectElement),this.container.append(selectElement),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!!(parameters.data.titleObj?.str||parameters.data.contentsObj?.str||parameters.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const parentElements=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===parentElements.length)return this.container;const popup=new PopupElement({container:this.container,trigger:Array.from(parentElements),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),page=this.page,rect=_util2.Util.normalizeRect([this.data.parentRect[0],page.view[3]-this.data.parentRect[1]+page.view[1],this.data.parentRect[2],page.view[3]-this.data.parentRect[3]+page.view[1]]),popupLeft=rect[0]+this.data.parentRect[2]-this.data.parentRect[0],popupTop=rect[1],[pageLLx,pageLLy,pageURx,pageURy]=this.viewport.viewBox,pageHeight=pageURy-pageLLy;return this.container.style.left=100*(popupLeft-pageLLx)/(pageURx-pageLLx)+"%",this.container.style.top=100*(popupTop-pageLLy)/pageHeight+"%",this.container.append(popup.render()),this.container}}class PopupElement{constructor(parameters){this.container=parameters.container,this.trigger=parameters.trigger,this.color=parameters.color,this.titleObj=parameters.titleObj,this.modificationDate=parameters.modificationDate,this.contentsObj=parameters.contentsObj,this.richText=parameters.richText,this.hideWrapper=parameters.hideWrapper||!1,this.pinned=!1}render(){const wrapper=document.createElement("div");wrapper.className="popupWrapper",this.hideElement=this.hideWrapper?wrapper:this.container,this.hideElement.hidden=!0;const popup=document.createElement("div");popup.className="popup";const color=this.color;color&&(popup.style.backgroundColor=_util2.Util.makeHexColor(0|.7*(255-color[0])+color[0],0|.7*(255-color[1])+color[1],0|.7*(255-color[2])+color[2]));const title=document.createElement("h1");title.dir=this.titleObj.dir,title.textContent=this.titleObj.str,popup.append(title);const dateObject=_display_utils2.PDFDateString.toDateObject(this.modificationDate);if(dateObject){const modificationDate=document.createElement("span");modificationDate.className="popupDate",modificationDate.textContent="{{date}}, {{time}}",modificationDate.dataset.l10nId="annotation_date_string",modificationDate.dataset.l10nArgs=JSON.stringify({date:dateObject.toLocaleDateString(),time:dateObject.toLocaleTimeString()}),popup.append(modificationDate)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const contents=this._formatContents(this.contentsObj);popup.append(contents)}else _xfa_layer.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:popup}),popup.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const element of this.trigger)element.addEventListener("click",this._toggle.bind(this)),element.addEventListener("mouseover",this._show.bind(this,!1)),element.addEventListener("mouseout",this._hide.bind(this,!1));return popup.addEventListener("click",this._hide.bind(this,!0)),wrapper.append(popup),wrapper}_formatContents({str,dir}){const p=document.createElement("p");p.className="popupContent",p.dir=dir;const lines=str.split(/(?:\r\n?|\n)/);for(let i=0,ii=lines.length;i<ii;++i)p.append(document.createTextNode(lines[i])),i<ii-1&&p.append(document.createElement("br"));return p}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(pin=!1){pin&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(unpin=!0){unpin&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class FreeTextAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!!(parameters.data.hasPopup||parameters.data.titleObj?.str||parameters.data.contentsObj?.str||parameters.data.richText?.str),ignoreBorder:!0}),this.textContent=parameters.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const content=document.createElement("div");content.className="annotationTextContent",content.setAttribute("role","comment");for(const line of this.textContent){const lineSpan=document.createElement("span");lineSpan.textContent=line,content.append(lineSpan)}this.container.append(content)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class LineAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!!(parameters.data.hasPopup||parameters.data.titleObj?.str||parameters.data.contentsObj?.str||parameters.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const data=this.data,{width,height}=getRectDims(data.rect),svg=this.svgFactory.create(width,height,!0),line=this.svgFactory.createElement("svg:line");return line.setAttribute("x1",data.rect[2]-data.lineCoordinates[0]),line.setAttribute("y1",data.rect[3]-data.lineCoordinates[1]),line.setAttribute("x2",data.rect[2]-data.lineCoordinates[2]),line.setAttribute("y2",data.rect[3]-data.lineCoordinates[3]),line.setAttribute("stroke-width",data.borderStyle.width||1),line.setAttribute("stroke","transparent"),line.setAttribute("fill","transparent"),svg.append(line),this.container.append(svg),this._createPopup(line,data),this.container}}class SquareAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!!(parameters.data.hasPopup||parameters.data.titleObj?.str||parameters.data.contentsObj?.str||parameters.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const data=this.data,{width,height}=getRectDims(data.rect),svg=this.svgFactory.create(width,height,!0),borderWidth=data.borderStyle.width,square=this.svgFactory.createElement("svg:rect");return square.setAttribute("x",borderWidth/2),square.setAttribute("y",borderWidth/2),square.setAttribute("width",width-borderWidth),square.setAttribute("height",height-borderWidth),square.setAttribute("stroke-width",borderWidth||1),square.setAttribute("stroke","transparent"),square.setAttribute("fill","transparent"),svg.append(square),this.container.append(svg),this._createPopup(square,data),this.container}}class CircleAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!!(parameters.data.hasPopup||parameters.data.titleObj?.str||parameters.data.contentsObj?.str||parameters.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const data=this.data,{width,height}=getRectDims(data.rect),svg=this.svgFactory.create(width,height,!0),borderWidth=data.borderStyle.width,circle=this.svgFactory.createElement("svg:ellipse");return circle.setAttribute("cx",width/2),circle.setAttribute("cy",height/2),circle.setAttribute("rx",width/2-borderWidth/2),circle.setAttribute("ry",height/2-borderWidth/2),circle.setAttribute("stroke-width",borderWidth||1),circle.setAttribute("stroke","transparent"),circle.setAttribute("fill","transparent"),svg.append(circle),this.container.append(svg),this._createPopup(circle,data),this.container}}class PolylineAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!!(parameters.data.hasPopup||parameters.data.titleObj?.str||parameters.data.contentsObj?.str||parameters.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const data=this.data,{width,height}=getRectDims(data.rect),svg=this.svgFactory.create(width,height,!0);let points=[];for(const coordinate of data.vertices)points.push(coordinate.x-data.rect[0]+","+(data.rect[3]-coordinate.y));points=points.join(" ");const polyline=this.svgFactory.createElement(this.svgElementName);return polyline.setAttribute("points",points),polyline.setAttribute("stroke-width",data.borderStyle.width||1),polyline.setAttribute("stroke","transparent"),polyline.setAttribute("fill","transparent"),svg.append(polyline),this.container.append(svg),this._createPopup(polyline,data),this.container}}class PolygonAnnotationElement extends PolylineAnnotationElement{constructor(parameters){super(parameters),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!!(parameters.data.hasPopup||parameters.data.titleObj?.str||parameters.data.contentsObj?.str||parameters.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class InkAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!!(parameters.data.hasPopup||parameters.data.titleObj?.str||parameters.data.contentsObj?.str||parameters.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const data=this.data,{width,height}=getRectDims(data.rect),svg=this.svgFactory.create(width,height,!0);for(const inkList of data.inkLists){let points=[];for(const coordinate of inkList)points.push(`${coordinate.x-data.rect[0]},${data.rect[3]-coordinate.y}`);points=points.join(" ");const polyline=this.svgFactory.createElement(this.svgElementName);polyline.setAttribute("points",points),polyline.setAttribute("stroke-width",data.borderStyle.width||1),polyline.setAttribute("stroke","transparent"),polyline.setAttribute("fill","transparent"),this._createPopup(polyline,data),svg.append(polyline)}return this.container.append(svg),this.container}}class HighlightAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!!(parameters.data.hasPopup||parameters.data.titleObj?.str||parameters.data.contentsObj?.str||parameters.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class UnderlineAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!!(parameters.data.hasPopup||parameters.data.titleObj?.str||parameters.data.contentsObj?.str||parameters.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class SquigglyAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!!(parameters.data.hasPopup||parameters.data.titleObj?.str||parameters.data.contentsObj?.str||parameters.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class StrikeOutAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!!(parameters.data.hasPopup||parameters.data.titleObj?.str||parameters.data.contentsObj?.str||parameters.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class StampAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!!(parameters.data.hasPopup||parameters.data.titleObj?.str||parameters.data.contentsObj?.str||parameters.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class FileAttachmentAnnotationElement extends AnnotationElement{constructor(parameters){super(parameters,{isRenderable:!0});const{filename,content}=this.data.file;this.filename=(0,_display_utils2.getFilenameFromUrl)(filename),this.content=content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename,content})}render(){this.container.className="fileAttachmentAnnotation";const trigger=document.createElement("div");return trigger.className="popupTriggerArea",trigger.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(trigger,this.data),this.container.append(trigger),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class AnnotationLayer{static#appendElement(element,id,div,accessibilityManager){const contentElement=element.firstChild||element;contentElement.id=`${_display_utils2.AnnotationPrefix}${id}`,div.append(element),accessibilityManager?.moveElementInDOM(div,element,contentElement,!1)}static render(parameters){const{annotations,div,viewport,accessibilityManager}=parameters;this.#setDimensions(div,viewport);let zIndex=0;for(const data of annotations){if(data.annotationType!==_util2.AnnotationType.POPUP){const{width,height}=getRectDims(data.rect);if(width<=0||height<=0)continue}const element=AnnotationElementFactory.create({data,layer:div,page:parameters.page,viewport,linkService:parameters.linkService,downloadManager:parameters.downloadManager,imageResourcesPath:parameters.imageResourcesPath||"",renderForms:!1!==parameters.renderForms,svgFactory:new _display_utils2.DOMSVGFactory,annotationStorage:parameters.annotationStorage||new _annotation_storage2.AnnotationStorage,enableScripting:parameters.enableScripting,hasJSActions:parameters.hasJSActions,fieldObjects:parameters.fieldObjects,mouseState:parameters.mouseState||{isDown:!1}});if(element.isRenderable){const rendered=element.render();if(data.hidden&&(rendered.style.visibility="hidden"),Array.isArray(rendered))for(const renderedElement of rendered)renderedElement.style.zIndex=zIndex++,AnnotationLayer.#appendElement(renderedElement,data.id,div,accessibilityManager);else rendered.style.zIndex=zIndex++,element instanceof PopupAnnotationElement?div.prepend(rendered):AnnotationLayer.#appendElement(rendered,data.id,div,accessibilityManager)}}this.#setAnnotationCanvasMap(div,parameters.annotationCanvasMap)}static update(parameters){const{annotationCanvasMap,div,viewport}=parameters;this.#setDimensions(div,viewport),this.#setAnnotationCanvasMap(div,annotationCanvasMap),div.hidden=!1}static#setDimensions(div,{width,height,rotation}){const{style}=div,flipOrientation=rotation%180!=0,widthStr=Math.floor(width)+"px",heightStr=Math.floor(height)+"px";style.width=flipOrientation?heightStr:widthStr,style.height=flipOrientation?widthStr:heightStr,div.setAttribute("data-main-rotation",rotation)}static#setAnnotationCanvasMap(div,annotationCanvasMap){if(annotationCanvasMap){for(const[id,canvas]of annotationCanvasMap){const element=div.querySelector(`[data-annotation-id="${id}"]`);if(!element)continue;const{firstChild}=element;firstChild?"CANVAS"===firstChild.nodeName?firstChild.replaceWith(canvas):firstChild.before(canvas):element.append(canvas)}annotationCanvasMap.clear()}}}exports2.AnnotationLayer=AnnotationLayer},(__unused_webpack_module2,exports2)=>{function makeColorComp(n){return Math.floor(255*Math.max(0,Math.min(1,n))).toString(16).padStart(2,"0")}Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.ColorConverters=void 0,exports2.ColorConverters=class ColorConverters{static CMYK_G([c,y,m,k]){return["G",1-Math.min(1,.3*c+.59*m+.11*y+k)]}static G_CMYK([g]){return["CMYK",0,0,0,1-g]}static G_RGB([g]){return["RGB",g,g,g]}static G_HTML([g]){const G=makeColorComp(g);return`#${G}${G}${G}`}static RGB_G([r,g,b]){return["G",.3*r+.59*g+.11*b]}static RGB_HTML([r,g,b]){return`#${makeColorComp(r)}${makeColorComp(g)}${makeColorComp(b)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([c,y,m,k]){return["RGB",1-Math.min(1,c+k),1-Math.min(1,m+k),1-Math.min(1,y+k)]}static CMYK_HTML(components){const rgb=this.CMYK_RGB(components).slice(1);return this.RGB_HTML(rgb)}static RGB_CMYK([r,g,b]){const c=1-r,m=1-g,y=1-b;return["CMYK",c,m,y,Math.min(c,m,y)]}}},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.XfaLayer=void 0;var _xfa_text2=__w_pdfjs_require__2(20);exports2.XfaLayer=class XfaLayer{static setupStorage(html,id,element,storage,intent){const storedData=storage.getValue(id,{value:null});switch(element.name){case"textarea":if(null!==storedData.value&&(html.textContent=storedData.value),"print"===intent)break;html.addEventListener("input",event=>{storage.setValue(id,{value:event.target.value})});break;case"input":if("radio"===element.attributes.type||"checkbox"===element.attributes.type){if(storedData.value===element.attributes.xfaOn?html.setAttribute("checked",!0):storedData.value===element.attributes.xfaOff&&html.removeAttribute("checked"),"print"===intent)break;html.addEventListener("change",event=>{storage.setValue(id,{value:event.target.getAttribute(event.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==storedData.value&&html.setAttribute("value",storedData.value),"print"===intent)break;html.addEventListener("input",event=>{storage.setValue(id,{value:event.target.value})})}break;case"select":if(null!==storedData.value)for(const option of element.children)option.attributes.value===storedData.value&&(option.attributes.selected=!0);html.addEventListener("input",event=>{const options=event.target.options;storage.setValue(id,{value:-1===options.selectedIndex?"":options[options.selectedIndex].value})})}}static setAttributes({html,element,storage=null,intent,linkService}){const{attributes}=element,isHTMLAnchorElement=html instanceof HTMLAnchorElement;"radio"===attributes.type&&(attributes.name=`${attributes.name}-${intent}`);for(const[key,value]of Object.entries(attributes))if(null!=value)switch(key){case"class":value.length&&html.setAttribute(key,value.join(" "));break;case"dataId":break;case"id":html.setAttribute("data-element-id",value);break;case"style":Object.assign(html.style,value);break;case"textContent":html.textContent=value;break;default:(!isHTMLAnchorElement||"href"!==key&&"newWindow"!==key)&&html.setAttribute(key,value)}isHTMLAnchorElement&&linkService.addLinkAttributes(html,attributes.href,attributes.newWindow),storage&&attributes.dataId&&this.setupStorage(html,attributes.dataId,element,storage)}static render(parameters){const storage=parameters.annotationStorage,linkService=parameters.linkService,root=parameters.xfaHtml,intent=parameters.intent||"display",rootHtml=document.createElement(root.name);root.attributes&&this.setAttributes({html:rootHtml,element:root,intent,linkService});const stack=[[root,-1,rootHtml]],rootDiv=parameters.div;if(rootDiv.append(rootHtml),parameters.viewport){const transform=`matrix(${parameters.viewport.transform.join(",")})`;rootDiv.style.transform=transform}"richText"!==intent&&rootDiv.setAttribute("class","xfaLayer xfaFont");const textDivs=[];for(;stack.length>0;){const[parent,i,html]=stack.at(-1);if(i+1===parent.children.length){stack.pop();continue}const child=parent.children[++stack.at(-1)[1]];if(null===child)continue;const{name}=child;if("#text"===name){const node=document.createTextNode(child.value);textDivs.push(node),html.append(node);continue}let childHtml;if(childHtml=child?.attributes?.xmlns?document.createElementNS(child.attributes.xmlns,name):document.createElement(name),html.append(childHtml),child.attributes&&this.setAttributes({html:childHtml,element:child,storage,intent,linkService}),child.children&&child.children.length>0)stack.push([child,-1,childHtml]);else if(child.value){const node=document.createTextNode(child.value);_xfa_text2.XfaText.shouldBuildText(name)&&textDivs.push(node),childHtml.append(node)}}for(const el of rootDiv.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))el.setAttribute("readOnly",!0);return{textDivs}}static update(parameters){const transform=`matrix(${parameters.viewport.transform.join(",")})`;parameters.div.style.transform=transform,parameters.div.hidden=!1}}},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.TextLayerRenderTask=void 0,exports2.renderTextLayer=function renderTextLayer(renderParameters){const task=new TextLayerRenderTask({textContent:renderParameters.textContent,textContentStream:renderParameters.textContentStream,container:renderParameters.container,viewport:renderParameters.viewport,textDivs:renderParameters.textDivs,textContentItemsStr:renderParameters.textContentItemsStr,enhanceTextSelection:renderParameters.enhanceTextSelection});return task._render(renderParameters.timeout),task};var _util2=__w_pdfjs_require__2(1),_display_utils2=__w_pdfjs_require__2(8);const ascentCache=new Map,AllWhitespaceRegexp=/^\s+$/g;function appendText(task,geom,styles,ctx){const textDiv=document.createElement("span"),textDivProperties=task._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==geom.str,hasEOL:geom.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:""!==geom.str,hasEOL:geom.hasEOL,fontSize:0};task._textDivs.push(textDiv);const tx=_util2.Util.transform(task._viewport.transform,geom.transform);let angle=Math.atan2(tx[1],tx[0]);const style=styles[geom.fontName];style.vertical&&(angle+=Math.PI/2);const fontHeight=Math.hypot(tx[2],tx[3]),fontAscent=fontHeight*function getAscent(fontFamily,ctx){const cachedAscent=ascentCache.get(fontFamily);if(cachedAscent)return cachedAscent;ctx.save(),ctx.font=`30px ${fontFamily}`;const metrics=ctx.measureText("");let ascent=metrics.fontBoundingBoxAscent,descent=Math.abs(metrics.fontBoundingBoxDescent);if(ascent){ctx.restore();const ratio=ascent/(ascent+descent);return ascentCache.set(fontFamily,ratio),ratio}ctx.strokeStyle="red",ctx.clearRect(0,0,30,30),ctx.strokeText("g",0,0);let pixels=ctx.getImageData(0,0,30,30).data;descent=0;for(let i=pixels.length-1-3;i>=0;i-=4)if(pixels[i]>0){descent=Math.ceil(i/4/30);break}ctx.clearRect(0,0,30,30),ctx.strokeText("A",0,30),pixels=ctx.getImageData(0,0,30,30).data,ascent=0;for(let i=0,ii=pixels.length;i<ii;i+=4)if(pixels[i]>0){ascent=30-Math.floor(i/4/30);break}if(ctx.restore(),ascent){const ratio=ascent/(ascent+descent);return ascentCache.set(fontFamily,ratio),ratio}return ascentCache.set(fontFamily,.8),.8}(style.fontFamily,ctx);let left,top;0===angle?(left=tx[4],top=tx[5]-fontAscent):(left=tx[4]+fontAscent*Math.sin(angle),top=tx[5]-fontAscent*Math.cos(angle)),textDiv.style.left=`${left}px`,textDiv.style.top=`${top}px`,textDiv.style.fontSize=`${fontHeight}px`,textDiv.style.fontFamily=style.fontFamily,textDivProperties.fontSize=fontHeight,textDiv.setAttribute("role","presentation"),textDiv.textContent=geom.str,textDiv.dir=geom.dir,task._fontInspectorEnabled&&(textDiv.dataset.fontName=geom.fontName),0!==angle&&(textDivProperties.angle=angle*(180/Math.PI));let shouldScaleText=!1;if(geom.str.length>1||task._enhanceTextSelection&&AllWhitespaceRegexp.test(geom.str))shouldScaleText=!0;else if(" "!==geom.str&&geom.transform[0]!==geom.transform[3]){const absScaleX=Math.abs(geom.transform[0]),absScaleY=Math.abs(geom.transform[3]);absScaleX!==absScaleY&&Math.max(absScaleX,absScaleY)/Math.min(absScaleX,absScaleY)>1.5&&(shouldScaleText=!0)}if(shouldScaleText&&(textDivProperties.canvasWidth=style.vertical?geom.height*task._viewport.scale:geom.width*task._viewport.scale),task._textDivProperties.set(textDiv,textDivProperties),task._textContentStream&&task._layoutText(textDiv),task._enhanceTextSelection&&textDivProperties.hasText){let angleCos=1,angleSin=0;0!==angle&&(angleCos=Math.cos(angle),angleSin=Math.sin(angle));const divWidth=(style.vertical?geom.height:geom.width)*task._viewport.scale,divHeight=fontHeight;let m,b;0!==angle?(m=[angleCos,angleSin,-angleSin,angleCos,left,top],b=_util2.Util.getAxialAlignedBoundingBox([0,0,divWidth,divHeight],m)):b=[left,top,left+divWidth,top+divHeight],task._bounds.push({left:b[0],top:b[1],right:b[2],bottom:b[3],div:textDiv,size:[divWidth,divHeight],m})}}function render(task){if(task._canceled)return;const textDivs=task._textDivs,capability=task._capability,textDivsLength=textDivs.length;if(textDivsLength>1e5)return task._renderingDone=!0,void capability.resolve();if(!task._textContentStream)for(let i=0;i<textDivsLength;i++)task._layoutText(textDivs[i]);task._renderingDone=!0,capability.resolve()}function findPositiveMin(ts,offset,count){let result=0;for(let i=0;i<count;i++){const t=ts[offset++];t>0&&(result=result?Math.min(t,result):t)}return result}function expandBoundsLTR(width,bounds){bounds.sort(function(a,b){return a.x1-b.x1||a.index-b.index});const horizon=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const boundary of bounds){let i=0;for(;i<horizon.length&&horizon[i].end<=boundary.y1;)i++;let j=horizon.length-1;for(;j>=0&&horizon[j].start>=boundary.y2;)j--;let horizonPart,affectedBoundary,q,k,maxXNew=-1/0;for(q=i;q<=j;q++){let xNew;horizonPart=horizon[q],affectedBoundary=horizonPart.boundary,xNew=affectedBoundary.x2>boundary.x1?affectedBoundary.index>boundary.index?affectedBoundary.x1New:boundary.x1:void 0===affectedBoundary.x2New?(affectedBoundary.x2+boundary.x1)/2:affectedBoundary.x2New,xNew>maxXNew&&(maxXNew=xNew)}for(boundary.x1New=maxXNew,q=i;q<=j;q++)horizonPart=horizon[q],affectedBoundary=horizonPart.boundary,void 0===affectedBoundary.x2New?affectedBoundary.x2>boundary.x1?affectedBoundary.index>boundary.index&&(affectedBoundary.x2New=affectedBoundary.x2):affectedBoundary.x2New=maxXNew:affectedBoundary.x2New>maxXNew&&(affectedBoundary.x2New=Math.max(maxXNew,affectedBoundary.x2));const changedHorizon=[];let lastBoundary=null;for(q=i;q<=j;q++){horizonPart=horizon[q],affectedBoundary=horizonPart.boundary;const useBoundary=affectedBoundary.x2>boundary.x2?affectedBoundary:boundary;lastBoundary===useBoundary?changedHorizon.at(-1).end=horizonPart.end:(changedHorizon.push({start:horizonPart.start,end:horizonPart.end,boundary:useBoundary}),lastBoundary=useBoundary)}for(horizon[i].start<boundary.y1&&(changedHorizon[0].start=boundary.y1,changedHorizon.unshift({start:horizon[i].start,end:boundary.y1,boundary:horizon[i].boundary})),boundary.y2<horizon[j].end&&(changedHorizon.at(-1).end=boundary.y2,changedHorizon.push({start:boundary.y2,end:horizon[j].end,boundary:horizon[j].boundary})),q=i;q<=j;q++){if(horizonPart=horizon[q],affectedBoundary=horizonPart.boundary,void 0!==affectedBoundary.x2New)continue;let used=!1;for(k=i-1;!used&&k>=0&&horizon[k].start>=affectedBoundary.y1;k--)used=horizon[k].boundary===affectedBoundary;for(k=j+1;!used&&k<horizon.length&&horizon[k].end<=affectedBoundary.y2;k++)used=horizon[k].boundary===affectedBoundary;for(k=0;!used&&k<changedHorizon.length;k++)used=changedHorizon[k].boundary===affectedBoundary;used||(affectedBoundary.x2New=maxXNew)}Array.prototype.splice.apply(horizon,[i,j-i+1,...changedHorizon])}for(const horizonPart of horizon){const affectedBoundary=horizonPart.boundary;void 0===affectedBoundary.x2New&&(affectedBoundary.x2New=Math.max(width,affectedBoundary.x2))}}class TextLayerRenderTask{constructor({textContent,textContentStream,container,viewport,textDivs,textContentItemsStr,enhanceTextSelection}){enhanceTextSelection&&(0,_display_utils2.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=textContent,this._textContentStream=textContentStream,this._container=container,this._document=container.ownerDocument,this._viewport=viewport,this._textDivs=textDivs||[],this._textContentItemsStr=textContentItemsStr||[],this._enhanceTextSelection=!!enhanceTextSelection,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,_util2.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new _util2.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(items,styleCache){for(let i=0,len=items.length;i<len;i++)if(void 0!==items[i].str)this._textContentItemsStr.push(items[i].str),appendText(this,items[i],styleCache,this._layoutTextCtx);else if("beginMarkedContentProps"===items[i].type||"beginMarkedContent"===items[i].type){const parent=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==items[i].id&&this._container.setAttribute("id",`${items[i].id}`),parent.append(this._container)}else"endMarkedContent"===items[i].type&&(this._container=this._container.parentNode)}_layoutText(textDiv){const textDivProperties=this._textDivProperties.get(textDiv);let transform="";if(0!==textDivProperties.canvasWidth&&textDivProperties.hasText){const{fontFamily}=textDiv.style,{fontSize}=textDivProperties;(fontSize!==this._layoutTextLastFontSize||fontFamily!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${fontSize*this._devicePixelRatio}px ${fontFamily}`,this._layoutTextLastFontSize=fontSize,this._layoutTextLastFontFamily=fontFamily);const{width}=this._layoutTextCtx.measureText(textDiv.textContent);if(width>0){const scale=this._devicePixelRatio*textDivProperties.canvasWidth/width;this._enhanceTextSelection&&(textDivProperties.scale=scale),transform=`scaleX(${scale})`}}if(0!==textDivProperties.angle&&(transform=`rotate(${textDivProperties.angle}deg) ${transform}`),transform.length>0&&(this._enhanceTextSelection&&(textDivProperties.originalTransform=transform),textDiv.style.transform=transform),textDivProperties.hasText&&this._container.append(textDiv),textDivProperties.hasEOL){const br=document.createElement("br");br.setAttribute("role","presentation"),this._container.append(br)}}_render(timeout=0){const capability=(0,_util2.createPromiseCapability)();let styleCache=Object.create(null);const canvas=this._document.createElement("canvas");if(canvas.height=canvas.width=30,this._layoutTextCtx=canvas.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),capability.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const pump=()=>{this._reader.read().then(({value,done})=>{done?capability.resolve():(Object.assign(styleCache,value.styles),this._processItems(value.items,styleCache),pump())},capability.reject)};this._reader=this._textContentStream.getReader(),pump()}}capability.promise.then(()=>{styleCache=null,timeout?this._renderTimer=setTimeout(()=>{render(this),this._renderTimer=null},timeout):render(this)},this._capability.reject)}expandTextDivs(expandDivs=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function expand(task){const bounds=task._bounds,viewport=task._viewport,expanded=function expandBounds(width,height,boxes){const bounds=boxes.map(function(box,i){return{x1:box.left,y1:box.top,x2:box.right,y2:box.bottom,index:i,x1New:void 0,x2New:void 0}});expandBoundsLTR(width,bounds);const expanded=new Array(boxes.length);for(const b of bounds)expanded[b.index]={left:b.x1New,top:0,right:b.x2New,bottom:0};boxes.map(function(box,i){const e=expanded[i],b=bounds[i];b.x1=box.top,b.y1=width-e.right,b.x2=box.bottom,b.y2=width-e.left,b.index=i,b.x1New=void 0,b.x2New=void 0}),expandBoundsLTR(height,bounds);for(const b of bounds){const i=b.index;expanded[i].top=b.x1New,expanded[i].bottom=b.x2New}return expanded}(viewport.width,viewport.height,bounds);for(let i=0;i<expanded.length;i++){const div=bounds[i].div,divProperties=task._textDivProperties.get(div);if(0===divProperties.angle){divProperties.paddingLeft=bounds[i].left-expanded[i].left,divProperties.paddingTop=bounds[i].top-expanded[i].top,divProperties.paddingRight=expanded[i].right-bounds[i].right,divProperties.paddingBottom=expanded[i].bottom-bounds[i].bottom,task._textDivProperties.set(div,divProperties);continue}const e=expanded[i],b=bounds[i],m=b.m,c=m[0],s=m[1],points=[[0,0],[0,b.size[1]],[b.size[0],0],b.size],ts=new Float64Array(64);for(let j=0,jj=points.length;j<jj;j++){const t=_util2.Util.applyTransform(points[j],m);ts[j+0]=c&&(e.left-t[0])/c,ts[j+4]=s&&(e.top-t[1])/s,ts[j+8]=c&&(e.right-t[0])/c,ts[j+12]=s&&(e.bottom-t[1])/s,ts[j+16]=s&&(e.left-t[0])/-s,ts[j+20]=c&&(e.top-t[1])/c,ts[j+24]=s&&(e.right-t[0])/-s,ts[j+28]=c&&(e.bottom-t[1])/c,ts[j+32]=c&&(e.left-t[0])/-c,ts[j+36]=s&&(e.top-t[1])/-s,ts[j+40]=c&&(e.right-t[0])/-c,ts[j+44]=s&&(e.bottom-t[1])/-s,ts[j+48]=s&&(e.left-t[0])/s,ts[j+52]=c&&(e.top-t[1])/-c,ts[j+56]=s&&(e.right-t[0])/s,ts[j+60]=c&&(e.bottom-t[1])/-c}const boxScale=1+Math.min(Math.abs(c),Math.abs(s));divProperties.paddingLeft=findPositiveMin(ts,32,16)/boxScale,divProperties.paddingTop=findPositiveMin(ts,48,16)/boxScale,divProperties.paddingRight=findPositiveMin(ts,0,16)/boxScale,divProperties.paddingBottom=findPositiveMin(ts,16,16)/boxScale,task._textDivProperties.set(div,divProperties)}}(this),this._bounds=null);const transformBuf=[],paddingBuf=[];for(let i=0,ii=this._textDivs.length;i<ii;i++){const div=this._textDivs[i],divProps=this._textDivProperties.get(div);divProps.hasText&&(expandDivs?(transformBuf.length=0,paddingBuf.length=0,divProps.originalTransform&&transformBuf.push(divProps.originalTransform),divProps.paddingTop>0?(paddingBuf.push(`${divProps.paddingTop}px`),transformBuf.push(`translateY(${-divProps.paddingTop}px)`)):paddingBuf.push(0),paddingBuf.push(divProps.paddingRight>0?divProps.paddingRight/divProps.scale+"px":0),paddingBuf.push(divProps.paddingBottom>0?`${divProps.paddingBottom}px`:0),divProps.paddingLeft>0?(paddingBuf.push(divProps.paddingLeft/divProps.scale+"px"),transformBuf.push(`translateX(${-divProps.paddingLeft/divProps.scale}px)`)):paddingBuf.push(0),div.style.padding=paddingBuf.join(" "),transformBuf.length&&(div.style.transform=transformBuf.join(" "))):(div.style.padding=null,div.style.transform=divProps.originalTransform))}}}exports2.TextLayerRenderTask=TextLayerRenderTask},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.SVGGraphics=void 0;var _display_utils2=__w_pdfjs_require__2(8),_util2=__w_pdfjs_require__2(1),_is_node2=__w_pdfjs_require__2(3);let SVGGraphics=class{constructor(){(0,_util2.unreachable)("Not implemented: SVGGraphics")}};exports2.SVGGraphics=SVGGraphics;{let opListToTree=function(opList){let opTree=[];const tmp=[];for(const opListElement of opList)"save"!==opListElement.fn?"restore"===opListElement.fn?opTree=tmp.pop():opTree.push(opListElement):(opTree.push({fnId:92,fn:"group",items:[]}),tmp.push(opTree),opTree=opTree.at(-1).items);return opTree},pf=function(value){if(Number.isInteger(value))return value.toString();const s=value.toFixed(10);let i=s.length-1;if("0"!==s[i])return s;do{i--}while("0"===s[i]);return s.substring(0,"."===s[i]?i:i+1)},pm=function(m){if(0===m[4]&&0===m[5]){if(0===m[1]&&0===m[2])return 1===m[0]&&1===m[3]?"":`scale(${pf(m[0])} ${pf(m[3])})`;if(m[0]===m[3]&&m[1]===-m[2]){const a=180*Math.acos(m[0])/Math.PI;return`rotate(${pf(a)})`}}else if(1===m[0]&&0===m[1]&&0===m[2]&&1===m[3])return`translate(${pf(m[4])} ${pf(m[5])})`;return`matrix(${pf(m[0])} ${pf(m[1])} ${pf(m[2])} ${pf(m[3])} ${pf(m[4])} ${pf(m[5])})`};const SVG_DEFAULTS={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},XML_NS="http://www.w3.org/XML/1998/namespace",XLINK_NS="http://www.w3.org/1999/xlink",LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],createObjectURL=function(data,contentType="",forceDataSchema=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!forceDataSchema)return URL.createObjectURL(new Blob([data],{type:contentType}));const digits="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let buffer=`data:${contentType};base64,`;for(let i=0,ii=data.length;i<ii;i+=3){const b1=255&data[i],b2=255&data[i+1],b3=255&data[i+2];buffer+=digits[b1>>2]+digits[(3&b1)<<4|b2>>4]+digits[i+1<ii?(15&b2)<<2|b3>>6:64]+digits[i+2<ii?63&b3:64]}return buffer},convertImgDataToPng=function(){const PNG_HEADER=new Uint8Array([137,80,78,71,13,10,26,10]),crcTable=new Int32Array(256);for(let i=0;i<256;i++){let c=i;for(let h=0;h<8;h++)c=1&c?3988292384^c>>1&2147483647:c>>1&2147483647;crcTable[i]=c}function writePngChunk(type,body,data,offset){let p=offset;const len=body.length;data[p]=len>>24&255,data[p+1]=len>>16&255,data[p+2]=len>>8&255,data[p+3]=255&len,p+=4,data[p]=255&type.charCodeAt(0),data[p+1]=255&type.charCodeAt(1),data[p+2]=255&type.charCodeAt(2),data[p+3]=255&type.charCodeAt(3),p+=4,data.set(body,p),p+=body.length;const crc=function crc32(data,start,end){let crc=-1;for(let i=start;i<end;i++)crc=crc>>>8^crcTable[255&(crc^data[i])];return~crc}(data,offset+4,p);data[p]=crc>>24&255,data[p+1]=crc>>16&255,data[p+2]=crc>>8&255,data[p+3]=255&crc}function deflateSyncUncompressed(literals){let len=literals.length;const deflateBlocks=Math.ceil(len/65535),idat=new Uint8Array(2+len+5*deflateBlocks+4);let pi=0;idat[pi++]=120,idat[pi++]=156;let pos=0;for(;len>65535;)idat[pi++]=0,idat[pi++]=255,idat[pi++]=255,idat[pi++]=0,idat[pi++]=0,idat.set(literals.subarray(pos,pos+65535),pi),pi+=65535,pos+=65535,len-=65535;idat[pi++]=1,idat[pi++]=255&len,idat[pi++]=len>>8&255,idat[pi++]=255&~len,idat[pi++]=(65535&~len)>>8&255,idat.set(literals.subarray(pos),pi),pi+=literals.length-pos;const adler=function adler32(data,start,end){let a=1,b=0;for(let i=start;i<end;++i)a=(a+(255&data[i]))%65521,b=(b+a)%65521;return b<<16|a}(literals,0,literals.length);return idat[pi++]=adler>>24&255,idat[pi++]=adler>>16&255,idat[pi++]=adler>>8&255,idat[pi++]=255&adler,idat}return function(imgData,forceDataSchema,isMask){return function encode(imgData,kind,forceDataSchema,isMask){const width=imgData.width,height=imgData.height;let bitDepth,colorType,lineSize;const bytes=imgData.data;switch(kind){case _util2.ImageKind.GRAYSCALE_1BPP:colorType=0,bitDepth=1,lineSize=width+7>>3;break;case _util2.ImageKind.RGB_24BPP:colorType=2,bitDepth=8,lineSize=3*width;break;case _util2.ImageKind.RGBA_32BPP:colorType=6,bitDepth=8,lineSize=4*width;break;default:throw new Error("invalid format")}const literals=new Uint8Array((1+lineSize)*height);let offsetLiterals=0,offsetBytes=0;for(let y=0;y<height;++y)literals[offsetLiterals++]=0,literals.set(bytes.subarray(offsetBytes,offsetBytes+lineSize),offsetLiterals),offsetBytes+=lineSize,offsetLiterals+=lineSize;if(kind===_util2.ImageKind.GRAYSCALE_1BPP&&isMask){offsetLiterals=0;for(let y=0;y<height;y++){offsetLiterals++;for(let i=0;i<lineSize;i++)literals[offsetLiterals++]^=255}}const ihdr=new Uint8Array([width>>24&255,width>>16&255,width>>8&255,255&width,height>>24&255,height>>16&255,height>>8&255,255&height,bitDepth,colorType,0,0,0]),idat=function deflateSync(literals){if(!_is_node2.isNodeJS)return deflateSyncUncompressed(literals);try{let input;input=parseInt(process.versions.node)>=8?literals:Buffer.from(literals);const output=__webpack_require__(43106).deflateSync(input,{level:9});return output instanceof Uint8Array?output:new Uint8Array(output)}catch(e){(0,_util2.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return deflateSyncUncompressed(literals)}(literals),data=new Uint8Array(PNG_HEADER.length+36+ihdr.length+idat.length);let offset=0;return data.set(PNG_HEADER,offset),offset+=PNG_HEADER.length,writePngChunk("IHDR",ihdr,data,offset),offset+=12+ihdr.length,writePngChunk("IDATA",idat,data,offset),offset+=12+idat.length,writePngChunk("IEND",new Uint8Array(0),data,offset),createObjectURL(data,"image/png",forceDataSchema)}(imgData,void 0===imgData.kind?_util2.ImageKind.GRAYSCALE_1BPP:imgData.kind,forceDataSchema,isMask)}}();class SVGExtraState{constructor(){this.fontSizeScale=1,this.fontWeight=SVG_DEFAULTS.fontWeight,this.fontSize=0,this.textMatrix=_util2.IDENTITY_MATRIX,this.fontMatrix=_util2.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=_util2.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=SVG_DEFAULTS.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(x,y){this.x=x,this.y=y}}let clipCount=0,maskCount=0,shadingCount=0;exports2.SVGGraphics=SVGGraphics=class{constructor(commonObjs,objs,forceDataSchema=!1){(0,_display_utils2.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new _display_utils2.DOMSVGFactory,this.current=new SVGExtraState,this.transformMatrix=_util2.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=commonObjs,this.objs=objs,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!forceDataSchema,this._operatorIdMapping=[];for(const op in _util2.OPS)this._operatorIdMapping[_util2.OPS[op]]=op}save(){this.transformStack.push(this.transformMatrix);const old=this.current;this.extraStack.push(old),this.current=old.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(items){this.save(),this.executeOpTree(items),this.restore()}loadDependencies(operatorList){const fnArray=operatorList.fnArray,argsArray=operatorList.argsArray;for(let i=0,ii=fnArray.length;i<ii;i++)if(fnArray[i]===_util2.OPS.dependency)for(const obj of argsArray[i]){const objsPool=obj.startsWith("g_")?this.commonObjs:this.objs,promise=new Promise(resolve=>{objsPool.get(obj,resolve)});this.current.dependencies.push(promise)}return Promise.all(this.current.dependencies)}transform(a,b,c,d,e,f){this.transformMatrix=_util2.Util.transform(this.transformMatrix,[a,b,c,d,e,f]),this.tgrp=null}getSVG(operatorList,viewport){this.viewport=viewport;const svgElement=this._initialize(viewport);return this.loadDependencies(operatorList).then(()=>(this.transformMatrix=_util2.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(operatorList)),svgElement))}convertOpList(operatorList){const operatorIdMapping=this._operatorIdMapping,argsArray=operatorList.argsArray,fnArray=operatorList.fnArray,opList=[];for(let i=0,ii=fnArray.length;i<ii;i++){const fnId=fnArray[i];opList.push({fnId,fn:operatorIdMapping[fnId],args:argsArray[i]})}return opListToTree(opList)}executeOpTree(opTree){for(const opTreeElement of opTree){const fn=opTreeElement.fn,args=opTreeElement.args;switch(0|opTreeElement.fnId){case _util2.OPS.beginText:this.beginText();break;case _util2.OPS.dependency:break;case _util2.OPS.setLeading:this.setLeading(args);break;case _util2.OPS.setLeadingMoveText:this.setLeadingMoveText(args[0],args[1]);break;case _util2.OPS.setFont:this.setFont(args);break;case _util2.OPS.showText:case _util2.OPS.showSpacedText:this.showText(args[0]);break;case _util2.OPS.endText:this.endText();break;case _util2.OPS.moveText:this.moveText(args[0],args[1]);break;case _util2.OPS.setCharSpacing:this.setCharSpacing(args[0]);break;case _util2.OPS.setWordSpacing:this.setWordSpacing(args[0]);break;case _util2.OPS.setHScale:this.setHScale(args[0]);break;case _util2.OPS.setTextMatrix:this.setTextMatrix(args[0],args[1],args[2],args[3],args[4],args[5]);break;case _util2.OPS.setTextRise:this.setTextRise(args[0]);break;case _util2.OPS.setTextRenderingMode:this.setTextRenderingMode(args[0]);break;case _util2.OPS.setLineWidth:this.setLineWidth(args[0]);break;case _util2.OPS.setLineJoin:this.setLineJoin(args[0]);break;case _util2.OPS.setLineCap:this.setLineCap(args[0]);break;case _util2.OPS.setMiterLimit:this.setMiterLimit(args[0]);break;case _util2.OPS.setFillRGBColor:this.setFillRGBColor(args[0],args[1],args[2]);break;case _util2.OPS.setStrokeRGBColor:this.setStrokeRGBColor(args[0],args[1],args[2]);break;case _util2.OPS.setStrokeColorN:this.setStrokeColorN(args);break;case _util2.OPS.setFillColorN:this.setFillColorN(args);break;case _util2.OPS.shadingFill:this.shadingFill(args[0]);break;case _util2.OPS.setDash:this.setDash(args[0],args[1]);break;case _util2.OPS.setRenderingIntent:this.setRenderingIntent(args[0]);break;case _util2.OPS.setFlatness:this.setFlatness(args[0]);break;case _util2.OPS.setGState:this.setGState(args[0]);break;case _util2.OPS.fill:this.fill();break;case _util2.OPS.eoFill:this.eoFill();break;case _util2.OPS.stroke:this.stroke();break;case _util2.OPS.fillStroke:this.fillStroke();break;case _util2.OPS.eoFillStroke:this.eoFillStroke();break;case _util2.OPS.clip:this.clip("nonzero");break;case _util2.OPS.eoClip:this.clip("evenodd");break;case _util2.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _util2.OPS.paintImageXObject:this.paintImageXObject(args[0]);break;case _util2.OPS.paintInlineImageXObject:this.paintInlineImageXObject(args[0]);break;case _util2.OPS.paintImageMaskXObject:this.paintImageMaskXObject(args[0]);break;case _util2.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(args[0],args[1]);break;case _util2.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _util2.OPS.closePath:this.closePath();break;case _util2.OPS.closeStroke:this.closeStroke();break;case _util2.OPS.closeFillStroke:this.closeFillStroke();break;case _util2.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _util2.OPS.nextLine:this.nextLine();break;case _util2.OPS.transform:this.transform(args[0],args[1],args[2],args[3],args[4],args[5]);break;case _util2.OPS.constructPath:this.constructPath(args[0],args[1]);break;case _util2.OPS.endPath:this.endPath();break;case 92:this.group(opTreeElement.items);break;default:(0,_util2.warn)(`Unimplemented operator ${fn}`)}}}setWordSpacing(wordSpacing){this.current.wordSpacing=wordSpacing}setCharSpacing(charSpacing){this.current.charSpacing=charSpacing}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(a,b,c,d,e,f){const current=this.current;current.textMatrix=current.lineMatrix=[a,b,c,d,e,f],current.textMatrixScale=Math.hypot(a,b),current.x=current.lineX=0,current.y=current.lineY=0,current.xcoords=[],current.ycoords=[],current.tspan=this.svgFactory.createElement("svg:tspan"),current.tspan.setAttributeNS(null,"font-family",current.fontFamily),current.tspan.setAttributeNS(null,"font-size",`${pf(current.fontSize)}px`),current.tspan.setAttributeNS(null,"y",pf(-current.y)),current.txtElement=this.svgFactory.createElement("svg:text"),current.txtElement.append(current.tspan)}beginText(){const current=this.current;current.x=current.lineX=0,current.y=current.lineY=0,current.textMatrix=_util2.IDENTITY_MATRIX,current.lineMatrix=_util2.IDENTITY_MATRIX,current.textMatrixScale=1,current.tspan=this.svgFactory.createElement("svg:tspan"),current.txtElement=this.svgFactory.createElement("svg:text"),current.txtgrp=this.svgFactory.createElement("svg:g"),current.xcoords=[],current.ycoords=[]}moveText(x,y){const current=this.current;current.x=current.lineX+=x,current.y=current.lineY+=y,current.xcoords=[],current.ycoords=[],current.tspan=this.svgFactory.createElement("svg:tspan"),current.tspan.setAttributeNS(null,"font-family",current.fontFamily),current.tspan.setAttributeNS(null,"font-size",`${pf(current.fontSize)}px`),current.tspan.setAttributeNS(null,"y",pf(-current.y))}showText(glyphs){const current=this.current,font=current.font,fontSize=current.fontSize;if(0===fontSize)return;const fontSizeScale=current.fontSizeScale,charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,fontDirection=current.fontDirection,textHScale=current.textHScale*fontDirection,vertical=font.vertical,spacingDir=vertical?1:-1,defaultVMetrics=font.defaultVMetrics,widthAdvanceScale=fontSize*current.fontMatrix[0];let x=0;for(const glyph of glyphs){if(null===glyph){x+=fontDirection*wordSpacing;continue}if("number"==typeof glyph){x+=spacingDir*glyph*fontSize/1e3;continue}const spacing=(glyph.isSpace?wordSpacing:0)+charSpacing,character=glyph.fontChar;let scaledX,scaledY,charWidth,width=glyph.width;if(vertical){let vx;const vmetric=glyph.vmetric||defaultVMetrics;vx=glyph.vmetric?vmetric[1]:.5*width,vx=-vx*widthAdvanceScale,width=vmetric?-vmetric[0]:width,scaledX=vx/fontSizeScale,scaledY=(x+vmetric[2]*widthAdvanceScale)/fontSizeScale}else scaledX=x/fontSizeScale,scaledY=0;(glyph.isInFont||font.missingFile)&&(current.xcoords.push(current.x+scaledX),vertical&&current.ycoords.push(-current.y+scaledY),current.tspan.textContent+=character),charWidth=vertical?width*widthAdvanceScale-spacing*fontDirection:width*widthAdvanceScale+spacing*fontDirection,x+=charWidth}current.tspan.setAttributeNS(null,"x",current.xcoords.map(pf).join(" ")),current.tspan.setAttributeNS(null,"y",vertical?current.ycoords.map(pf).join(" "):pf(-current.y)),vertical?current.y-=x:current.x+=x*textHScale,current.tspan.setAttributeNS(null,"font-family",current.fontFamily),current.tspan.setAttributeNS(null,"font-size",`${pf(current.fontSize)}px`),current.fontStyle!==SVG_DEFAULTS.fontStyle&&current.tspan.setAttributeNS(null,"font-style",current.fontStyle),current.fontWeight!==SVG_DEFAULTS.fontWeight&&current.tspan.setAttributeNS(null,"font-weight",current.fontWeight);const fillStrokeMode=current.textRenderingMode&_util2.TextRenderingMode.FILL_STROKE_MASK;fillStrokeMode===_util2.TextRenderingMode.FILL||fillStrokeMode===_util2.TextRenderingMode.FILL_STROKE?(current.fillColor!==SVG_DEFAULTS.fillColor&&current.tspan.setAttributeNS(null,"fill",current.fillColor),current.fillAlpha<1&&current.tspan.setAttributeNS(null,"fill-opacity",current.fillAlpha)):current.tspan.setAttributeNS(null,"fill",current.textRenderingMode===_util2.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(fillStrokeMode===_util2.TextRenderingMode.STROKE||fillStrokeMode===_util2.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(current.tspan,1/(current.textMatrixScale||1));let textMatrix=current.textMatrix;0!==current.textRise&&(textMatrix=textMatrix.slice(),textMatrix[5]+=current.textRise),current.txtElement.setAttributeNS(null,"transform",`${pm(textMatrix)} scale(${pf(textHScale)}, -1)`),current.txtElement.setAttributeNS(XML_NS,"xml:space","preserve"),current.txtElement.append(current.tspan),current.txtgrp.append(current.txtElement),this._ensureTransformGroup().append(current.txtElement)}setLeadingMoveText(x,y){this.setLeading(-y),this.moveText(x,y)}addFontStyle(fontObj){if(!fontObj.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const url=createObjectURL(fontObj.data,fontObj.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${fontObj.loadedName}"; src: url(${url}); }\n`}setFont(details){const current=this.current,fontObj=this.commonObjs.get(details[0]);let size=details[1];current.font=fontObj,this.embedFonts&&!fontObj.missingFile&&!this.embeddedFonts[fontObj.loadedName]&&(this.addFontStyle(fontObj),this.embeddedFonts[fontObj.loadedName]=fontObj),current.fontMatrix=fontObj.fontMatrix||_util2.FONT_IDENTITY_MATRIX;let bold="normal";fontObj.black?bold="900":fontObj.bold&&(bold="bold");const italic=fontObj.italic?"italic":"normal";size<0?(size=-size,current.fontDirection=-1):current.fontDirection=1,current.fontSize=size,current.fontFamily=fontObj.loadedName,current.fontWeight=bold,current.fontStyle=italic,current.tspan=this.svgFactory.createElement("svg:tspan"),current.tspan.setAttributeNS(null,"y",pf(-current.y)),current.xcoords=[],current.ycoords=[]}endText(){const current=this.current;current.textRenderingMode&_util2.TextRenderingMode.ADD_TO_PATH_FLAG&&current.txtElement?.hasChildNodes()&&(current.element=current.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(width){width>0&&(this.current.lineWidth=width)}setLineCap(style){this.current.lineCap=LINE_CAP_STYLES[style]}setLineJoin(style){this.current.lineJoin=LINE_JOIN_STYLES[style]}setMiterLimit(limit){this.current.miterLimit=limit}setStrokeAlpha(strokeAlpha){this.current.strokeAlpha=strokeAlpha}setStrokeRGBColor(r,g,b){this.current.strokeColor=_util2.Util.makeHexColor(r,g,b)}setFillAlpha(fillAlpha){this.current.fillAlpha=fillAlpha}setFillRGBColor(r,g,b){this.current.fillColor=_util2.Util.makeHexColor(r,g,b),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(args){this.current.strokeColor=this._makeColorN_Pattern(args)}setFillColorN(args){this.current.fillColor=this._makeColorN_Pattern(args)}shadingFill(args){const width=this.viewport.width,height=this.viewport.height,inv=_util2.Util.inverseTransform(this.transformMatrix),bl=_util2.Util.applyTransform([0,0],inv),br=_util2.Util.applyTransform([0,height],inv),ul=_util2.Util.applyTransform([width,0],inv),ur=_util2.Util.applyTransform([width,height],inv),x0=Math.min(bl[0],br[0],ul[0],ur[0]),y0=Math.min(bl[1],br[1],ul[1],ur[1]),x1=Math.max(bl[0],br[0],ul[0],ur[0]),y1=Math.max(bl[1],br[1],ul[1],ur[1]),rect=this.svgFactory.createElement("svg:rect");rect.setAttributeNS(null,"x",x0),rect.setAttributeNS(null,"y",y0),rect.setAttributeNS(null,"width",x1-x0),rect.setAttributeNS(null,"height",y1-y0),rect.setAttributeNS(null,"fill",this._makeShadingPattern(args)),this.current.fillAlpha<1&&rect.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(rect)}_makeColorN_Pattern(args){return"TilingPattern"===args[0]?this._makeTilingPattern(args):this._makeShadingPattern(args)}_makeTilingPattern(args){const color=args[1],operatorList=args[2],matrix=args[3]||_util2.IDENTITY_MATRIX,[x0,y0,x1,y1]=args[4],xstep=args[5],ystep=args[6],paintType=args[7],tilingId="shading"+shadingCount++,[tx0,ty0,tx1,ty1]=_util2.Util.normalizeRect([..._util2.Util.applyTransform([x0,y0],matrix),..._util2.Util.applyTransform([x1,y1],matrix)]),[xscale,yscale]=_util2.Util.singularValueDecompose2dScale(matrix),txstep=xstep*xscale,tystep=ystep*yscale,tiling=this.svgFactory.createElement("svg:pattern");tiling.setAttributeNS(null,"id",tilingId),tiling.setAttributeNS(null,"patternUnits","userSpaceOnUse"),tiling.setAttributeNS(null,"width",txstep),tiling.setAttributeNS(null,"height",tystep),tiling.setAttributeNS(null,"x",`${tx0}`),tiling.setAttributeNS(null,"y",`${ty0}`);const svg=this.svg,transformMatrix=this.transformMatrix,fillColor=this.current.fillColor,strokeColor=this.current.strokeColor,bbox=this.svgFactory.create(tx1-tx0,ty1-ty0);if(this.svg=bbox,this.transformMatrix=matrix,2===paintType){const cssColor=_util2.Util.makeHexColor(...color);this.current.fillColor=cssColor,this.current.strokeColor=cssColor}return this.executeOpTree(this.convertOpList(operatorList)),this.svg=svg,this.transformMatrix=transformMatrix,this.current.fillColor=fillColor,this.current.strokeColor=strokeColor,tiling.append(bbox.childNodes[0]),this.defs.append(tiling),`url(#${tilingId})`}_makeShadingPattern(args){switch("string"==typeof args&&(args=this.objs.get(args)),args[0]){case"RadialAxial":const shadingId="shading"+shadingCount++,colorStops=args[3];let gradient;switch(args[1]){case"axial":const point0=args[4],point1=args[5];gradient=this.svgFactory.createElement("svg:linearGradient"),gradient.setAttributeNS(null,"id",shadingId),gradient.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gradient.setAttributeNS(null,"x1",point0[0]),gradient.setAttributeNS(null,"y1",point0[1]),gradient.setAttributeNS(null,"x2",point1[0]),gradient.setAttributeNS(null,"y2",point1[1]);break;case"radial":const focalPoint=args[4],circlePoint=args[5],focalRadius=args[6],circleRadius=args[7];gradient=this.svgFactory.createElement("svg:radialGradient"),gradient.setAttributeNS(null,"id",shadingId),gradient.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gradient.setAttributeNS(null,"cx",circlePoint[0]),gradient.setAttributeNS(null,"cy",circlePoint[1]),gradient.setAttributeNS(null,"r",circleRadius),gradient.setAttributeNS(null,"fx",focalPoint[0]),gradient.setAttributeNS(null,"fy",focalPoint[1]),gradient.setAttributeNS(null,"fr",focalRadius);break;default:throw new Error(`Unknown RadialAxial type: ${args[1]}`)}for(const colorStop of colorStops){const stop=this.svgFactory.createElement("svg:stop");stop.setAttributeNS(null,"offset",colorStop[0]),stop.setAttributeNS(null,"stop-color",colorStop[1]),gradient.append(stop)}return this.defs.append(gradient),`url(#${shadingId})`;case"Mesh":return(0,_util2.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${args[0]}`)}}setDash(dashArray,dashPhase){this.current.dashArray=dashArray,this.current.dashPhase=dashPhase}constructPath(ops,args){const current=this.current;let x=current.x,y=current.y,d=[],j=0;for(const op of ops)switch(0|op){case _util2.OPS.rectangle:x=args[j++],y=args[j++];const xw=x+args[j++],yh=y+args[j++];d.push("M",pf(x),pf(y),"L",pf(xw),pf(y),"L",pf(xw),pf(yh),"L",pf(x),pf(yh),"Z");break;case _util2.OPS.moveTo:x=args[j++],y=args[j++],d.push("M",pf(x),pf(y));break;case _util2.OPS.lineTo:x=args[j++],y=args[j++],d.push("L",pf(x),pf(y));break;case _util2.OPS.curveTo:x=args[j+4],y=args[j+5],d.push("C",pf(args[j]),pf(args[j+1]),pf(args[j+2]),pf(args[j+3]),pf(x),pf(y)),j+=6;break;case _util2.OPS.curveTo2:d.push("C",pf(x),pf(y),pf(args[j]),pf(args[j+1]),pf(args[j+2]),pf(args[j+3])),x=args[j+2],y=args[j+3],j+=4;break;case _util2.OPS.curveTo3:x=args[j+2],y=args[j+3],d.push("C",pf(args[j]),pf(args[j+1]),pf(x),pf(y),pf(x),pf(y)),j+=4;break;case _util2.OPS.closePath:d.push("Z")}d=d.join(" "),current.path&&ops.length>0&&ops[0]!==_util2.OPS.rectangle&&ops[0]!==_util2.OPS.moveTo?d=current.path.getAttributeNS(null,"d")+d:(current.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(current.path)),current.path.setAttributeNS(null,"d",d),current.path.setAttributeNS(null,"fill","none"),current.element=current.path,current.setCurrentPoint(x,y)}endPath(){const current=this.current;if(current.path=null,!this.pendingClip)return;if(!current.element)return void(this.pendingClip=null);const clipId="clippath"+clipCount++,clipPath=this.svgFactory.createElement("svg:clipPath");clipPath.setAttributeNS(null,"id",clipId),clipPath.setAttributeNS(null,"transform",pm(this.transformMatrix));const clipElement=current.element.cloneNode(!0);if(clipElement.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,clipPath.append(clipElement),this.defs.append(clipPath),current.activeClipUrl){current.clipGroup=null;for(const prev of this.extraStack)prev.clipGroup=null;clipPath.setAttributeNS(null,"clip-path",current.activeClipUrl)}current.activeClipUrl=`url(#${clipId})`,this.tgrp=null}clip(type){this.pendingClip=type}closePath(){const current=this.current;if(current.path){const d=`${current.path.getAttributeNS(null,"d")}Z`;current.path.setAttributeNS(null,"d",d)}}setLeading(leading){this.current.leading=-leading}setTextRise(textRise){this.current.textRise=textRise}setTextRenderingMode(textRenderingMode){this.current.textRenderingMode=textRenderingMode}setHScale(scale){this.current.textHScale=scale/100}setRenderingIntent(intent){}setFlatness(flatness){}setGState(states){for(const[key,value]of states)switch(key){case"LW":this.setLineWidth(value);break;case"LC":this.setLineCap(value);break;case"LJ":this.setLineJoin(value);break;case"ML":this.setMiterLimit(value);break;case"D":this.setDash(value[0],value[1]);break;case"RI":this.setRenderingIntent(value);break;case"FL":this.setFlatness(value);break;case"Font":this.setFont(value);break;case"CA":this.setStrokeAlpha(value);break;case"ca":this.setFillAlpha(value);break;default:(0,_util2.warn)(`Unimplemented graphic state operator ${key}`)}}fill(){const current=this.current;current.element&&(current.element.setAttributeNS(null,"fill",current.fillColor),current.element.setAttributeNS(null,"fill-opacity",current.fillAlpha),this.endPath())}stroke(){const current=this.current;current.element&&(this._setStrokeAttributes(current.element),current.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(element,lineWidthScale=1){const current=this.current;let dashArray=current.dashArray;1!==lineWidthScale&&dashArray.length>0&&(dashArray=dashArray.map(function(value){return lineWidthScale*value})),element.setAttributeNS(null,"stroke",current.strokeColor),element.setAttributeNS(null,"stroke-opacity",current.strokeAlpha),element.setAttributeNS(null,"stroke-miterlimit",pf(current.miterLimit)),element.setAttributeNS(null,"stroke-linecap",current.lineCap),element.setAttributeNS(null,"stroke-linejoin",current.lineJoin),element.setAttributeNS(null,"stroke-width",pf(lineWidthScale*current.lineWidth)+"px"),element.setAttributeNS(null,"stroke-dasharray",dashArray.map(pf).join(" ")),element.setAttributeNS(null,"stroke-dashoffset",pf(lineWidthScale*current.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const rect=this.svgFactory.createElement("svg:rect");rect.setAttributeNS(null,"x","0"),rect.setAttributeNS(null,"y","0"),rect.setAttributeNS(null,"width","1px"),rect.setAttributeNS(null,"height","1px"),rect.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(rect)}paintImageXObject(objId){const imgData=objId.startsWith("g_")?this.commonObjs.get(objId):this.objs.get(objId);imgData?this.paintInlineImageXObject(imgData):(0,_util2.warn)(`Dependent image with object ID ${objId} is not ready yet`)}paintInlineImageXObject(imgData,mask){const width=imgData.width,height=imgData.height,imgSrc=convertImgDataToPng(imgData,this.forceDataSchema,!!mask),cliprect=this.svgFactory.createElement("svg:rect");cliprect.setAttributeNS(null,"x","0"),cliprect.setAttributeNS(null,"y","0"),cliprect.setAttributeNS(null,"width",pf(width)),cliprect.setAttributeNS(null,"height",pf(height)),this.current.element=cliprect,this.clip("nonzero");const imgEl=this.svgFactory.createElement("svg:image");imgEl.setAttributeNS(XLINK_NS,"xlink:href",imgSrc),imgEl.setAttributeNS(null,"x","0"),imgEl.setAttributeNS(null,"y",pf(-height)),imgEl.setAttributeNS(null,"width",pf(width)+"px"),imgEl.setAttributeNS(null,"height",pf(height)+"px"),imgEl.setAttributeNS(null,"transform",`scale(${pf(1/width)} ${pf(-1/height)})`),mask?mask.append(imgEl):this._ensureTransformGroup().append(imgEl)}paintImageMaskXObject(imgData){const current=this.current,width=imgData.width,height=imgData.height,fillColor=current.fillColor;current.maskId="mask"+maskCount++;const mask=this.svgFactory.createElement("svg:mask");mask.setAttributeNS(null,"id",current.maskId);const rect=this.svgFactory.createElement("svg:rect");rect.setAttributeNS(null,"x","0"),rect.setAttributeNS(null,"y","0"),rect.setAttributeNS(null,"width",pf(width)),rect.setAttributeNS(null,"height",pf(height)),rect.setAttributeNS(null,"fill",fillColor),rect.setAttributeNS(null,"mask",`url(#${current.maskId})`),this.defs.append(mask),this._ensureTransformGroup().append(rect),this.paintInlineImageXObject(imgData,mask)}paintFormXObjectBegin(matrix,bbox){if(Array.isArray(matrix)&&6===matrix.length&&this.transform(matrix[0],matrix[1],matrix[2],matrix[3],matrix[4],matrix[5]),bbox){const width=bbox[2]-bbox[0],height=bbox[3]-bbox[1],cliprect=this.svgFactory.createElement("svg:rect");cliprect.setAttributeNS(null,"x",bbox[0]),cliprect.setAttributeNS(null,"y",bbox[1]),cliprect.setAttributeNS(null,"width",pf(width)),cliprect.setAttributeNS(null,"height",pf(height)),this.current.element=cliprect,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(viewport){const svg=this.svgFactory.create(viewport.width,viewport.height),definitions=this.svgFactory.createElement("svg:defs");svg.append(definitions),this.defs=definitions;const rootGroup=this.svgFactory.createElement("svg:g");return rootGroup.setAttributeNS(null,"transform",pm(viewport.transform)),svg.append(rootGroup),this.svg=rootGroup,svg}_ensureClipGroup(){if(!this.current.clipGroup){const clipGroup=this.svgFactory.createElement("svg:g");clipGroup.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(clipGroup),this.current.clipGroup=clipGroup}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",pm(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.PDFNodeStream=void 0;var _util2=__w_pdfjs_require__2(1),_network_utils=__w_pdfjs_require__2(33);const fs=__webpack_require__(79896),http=__webpack_require__(58611),https=__webpack_require__(65692),url=__webpack_require__(87016),fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;exports2.PDFNodeStream=class PDFNodeStream{constructor(source){this.source=source,this.url=function parseUrl(sourceUrl){const parsedUrl=url.parse(sourceUrl);return"file:"===parsedUrl.protocol||parsedUrl.host?parsedUrl:/^[a-z]:[/\\]/i.test(sourceUrl)?url.parse(`file:///${sourceUrl}`):(parsedUrl.host||(parsedUrl.protocol="file:"),parsedUrl)}(source.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&source.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,_util2.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader(start,end){if(end<=this._progressiveDataLength)return null;const rangeReader=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,start,end):new PDFNodeStreamRangeReader(this,start,end);return this._rangeRequestReaders.push(rangeReader),rangeReader}cancelAllRequests(reason){this._fullRequestReader&&this._fullRequestReader.cancel(reason);for(const reader of this._rangeRequestReaders.slice(0))reader.cancel(reason)}};class BaseFullReader{constructor(stream){this._url=stream.url,this._done=!1,this._storedError=null,this.onProgress=null;const source=stream.source;this._contentLength=source.length,this._loaded=0,this._filename=null,this._disableRange=source.disableRange||!1,this._rangeChunkSize=source.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!source.disableStream,this._isRangeSupported=!source.disableRange,this._readableStream=null,this._readCapability=(0,_util2.createPromiseCapability)(),this._headersCapability=(0,_util2.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var _this13=this;return _asyncToGenerator(function*(){if(yield _this13._readCapability.promise,_this13._done)return{value:void 0,done:!0};if(_this13._storedError)throw _this13._storedError;const chunk=_this13._readableStream.read();return null===chunk?(_this13._readCapability=(0,_util2.createPromiseCapability)(),_this13.read()):(_this13._loaded+=chunk.length,_this13.onProgress&&_this13.onProgress({loaded:_this13._loaded,total:_this13._contentLength}),{value:new Uint8Array(chunk).buffer,done:!1})})()}cancel(reason){this._readableStream?this._readableStream.destroy(reason):this._error(reason)}_error(reason){this._storedError=reason,this._readCapability.resolve()}_setReadableStream(readableStream){this._readableStream=readableStream,readableStream.on("readable",()=>{this._readCapability.resolve()}),readableStream.on("end",()=>{readableStream.destroy(),this._done=!0,this._readCapability.resolve()}),readableStream.on("error",reason=>{this._error(reason)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _util2.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor(stream){this._url=stream.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,_util2.createPromiseCapability)(),this._isStreamingSupported=!stream.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var _this14=this;return _asyncToGenerator(function*(){if(yield _this14._readCapability.promise,_this14._done)return{value:void 0,done:!0};if(_this14._storedError)throw _this14._storedError;const chunk=_this14._readableStream.read();return null===chunk?(_this14._readCapability=(0,_util2.createPromiseCapability)(),_this14.read()):(_this14._loaded+=chunk.length,_this14.onProgress&&_this14.onProgress({loaded:_this14._loaded}),{value:new Uint8Array(chunk).buffer,done:!1})})()}cancel(reason){this._readableStream?this._readableStream.destroy(reason):this._error(reason)}_error(reason){this._storedError=reason,this._readCapability.resolve()}_setReadableStream(readableStream){this._readableStream=readableStream,readableStream.on("readable",()=>{this._readCapability.resolve()}),readableStream.on("end",()=>{readableStream.destroy(),this._done=!0,this._readCapability.resolve()}),readableStream.on("error",reason=>{this._error(reason)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function createRequestOptions(parsedUrl,headers){return{protocol:parsedUrl.protocol,auth:parsedUrl.auth,host:parsedUrl.hostname,port:parsedUrl.port,path:parsedUrl.path,method:"GET",headers}}class PDFNodeStreamFullReader extends BaseFullReader{constructor(stream){super(stream);const handleResponse=response=>{if(404===response.statusCode){const error=new _util2.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=error,void this._headersCapability.reject(error)}this._headersCapability.resolve(),this._setReadableStream(response);const getResponseHeader=name=>this._readableStream.headers[name.toLowerCase()],{allowRangeRequests,suggestedLength}=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader,isHttp:stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=allowRangeRequests,this._contentLength=suggestedLength||this._contentLength,this._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader)};this._request=null,this._request="http:"===this._url.protocol?http.request(createRequestOptions(this._url,stream.httpHeaders),handleResponse):https.request(createRequestOptions(this._url,stream.httpHeaders),handleResponse),this._request.on("error",reason=>{this._storedError=reason,this._headersCapability.reject(reason)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor(stream,start,end){super(stream),this._httpHeaders={};for(const property in stream.httpHeaders){const value=stream.httpHeaders[property];typeof value>"u"||(this._httpHeaders[property]=value)}this._httpHeaders.Range=`bytes=${start}-${end-1}`;const handleResponse=response=>{if(404!==response.statusCode)this._setReadableStream(response);else{const error=new _util2.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=error}};this._request=null,this._request="http:"===this._url.protocol?http.request(createRequestOptions(this._url,this._httpHeaders),handleResponse):https.request(createRequestOptions(this._url,this._httpHeaders),handleResponse),this._request.on("error",reason=>{this._storedError=reason}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor(stream){super(stream);let path=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(path=path.replace(/^\//,"")),fs.lstat(path,(error,stat)=>{if(error)return"ENOENT"===error.code&&(error=new _util2.MissingPDFException(`Missing PDF "${path}".`)),this._storedError=error,void this._headersCapability.reject(error);this._contentLength=stat.size,this._setReadableStream(fs.createReadStream(path)),this._headersCapability.resolve()})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor(stream,start,end){super(stream);let path=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(path=path.replace(/^\//,"")),this._setReadableStream(fs.createReadStream(path,{start,end:end-1}))}}},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.createResponseStatusError=function createResponseStatusError(status,url){return 404===status||0===status&&url.startsWith("file:")?new _util2.MissingPDFException('Missing PDF "'+url+'".'):new _util2.UnexpectedResponseException(`Unexpected server response (${status}) while retrieving PDF "${url}".`,status)},exports2.extractFilenameFromHeader=function extractFilenameFromHeader(getResponseHeader){const contentDisposition=getResponseHeader("Content-Disposition");if(contentDisposition){let filename=(0,_content_disposition.getFilenameFromContentDispositionHeader)(contentDisposition);if(filename.includes("%"))try{filename=decodeURIComponent(filename)}catch{}if((0,_display_utils2.isPdfFile)(filename))return filename}return null},exports2.validateRangeRequestCapabilities=function validateRangeRequestCapabilities({getResponseHeader,isHttp,rangeChunkSize,disableRange}){const returnValues={allowRangeRequests:!1,suggestedLength:void 0},length=parseInt(getResponseHeader("Content-Length"),10);return!Number.isInteger(length)||(returnValues.suggestedLength=length,length<=2*rangeChunkSize)||disableRange||!isHttp||"bytes"!==getResponseHeader("Accept-Ranges")||"identity"!==(getResponseHeader("Content-Encoding")||"identity")||(returnValues.allowRangeRequests=!0),returnValues},exports2.validateResponseStatus=function validateResponseStatus(status){return 200===status||206===status};var _util2=__w_pdfjs_require__2(1),_content_disposition=__w_pdfjs_require__2(34),_display_utils2=__w_pdfjs_require__2(8)},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.getFilenameFromContentDispositionHeader=function getFilenameFromContentDispositionHeader(contentDisposition){let needsEncodingFixup=!0,tmp=toParamRegExp("filename\\*","i").exec(contentDisposition);if(tmp){tmp=tmp[1];let filename=rfc2616unquote(tmp);return filename=unescape(filename),filename=rfc5987decode(filename),filename=rfc2047decode(filename),fixupEncoding(filename)}if(tmp=function rfc2231getparam(contentDispositionStr){const matches=[];let match;const iter=toParamRegExp("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(match=iter.exec(contentDispositionStr));){let[,n,quot,part]=match;if(n=parseInt(n,10),n in matches){if(0===n)break}else matches[n]=[quot,part]}const parts=[];for(let n=0;n<matches.length&&n in matches;++n){let[quot,part]=matches[n];part=rfc2616unquote(part),quot&&(part=unescape(part),0===n&&(part=rfc5987decode(part))),parts.push(part)}return parts.join("")}(contentDisposition),tmp)return fixupEncoding(rfc2047decode(tmp));if(tmp=toParamRegExp("filename","i").exec(contentDisposition),tmp){tmp=tmp[1];let filename=rfc2616unquote(tmp);return filename=rfc2047decode(filename),fixupEncoding(filename)}function toParamRegExp(attributePattern,flags){return new RegExp("(?:^|;)\\s*"+attributePattern+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',flags)}function textdecode(encoding,value){if(encoding){if(!/^[\x00-\xFF]+$/.test(value))return value;try{const decoder=new TextDecoder(encoding,{fatal:!0}),buffer=(0,_util2.stringToBytes)(value);value=decoder.decode(buffer),needsEncodingFixup=!1}catch{}}return value}function fixupEncoding(value){return needsEncodingFixup&&/[\x80-\xff]/.test(value)&&(value=textdecode("utf-8",value),needsEncodingFixup&&(value=textdecode("iso-8859-1",value))),value}function rfc2616unquote(value){if(value.startsWith('"')){const parts=value.slice(1).split('\\"');for(let i=0;i<parts.length;++i){const quotindex=parts[i].indexOf('"');-1!==quotindex&&(parts[i]=parts[i].slice(0,quotindex),parts.length=i+1),parts[i]=parts[i].replace(/\\(.)/g,"$1")}value=parts.join('"')}return value}function rfc5987decode(extvalue){const encodingend=extvalue.indexOf("'");return-1===encodingend?extvalue:textdecode(extvalue.slice(0,encodingend),extvalue.slice(encodingend+1).replace(/^[^']*'/,""))}function rfc2047decode(value){return!value.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(value)?value:value.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(matches,charset,encoding,text){if("q"===encoding||"Q"===encoding)return textdecode(charset,text=(text=text.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(match,hex){return String.fromCharCode(parseInt(hex,16))}));try{text=atob(text)}catch{}return textdecode(charset,text)})}return""};var _util2=__w_pdfjs_require__2(1)},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.PDFNetworkStream=void 0;var _util2=__w_pdfjs_require__2(1),_network_utils=__w_pdfjs_require__2(33);class NetworkManager{constructor(url,args={}){this.url=url,this.isHttp=/^https?:/i.test(url),this.httpHeaders=this.isHttp&&args.httpHeaders||Object.create(null),this.withCredentials=args.withCredentials||!1,this.getXhr=args.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(begin,end,listeners){const args={begin,end};for(const prop in listeners)args[prop]=listeners[prop];return this.request(args)}requestFull(listeners){return this.request(listeners)}request(args){const xhr=this.getXhr(),xhrId=this.currXhrId++,pendingRequest=this.pendingRequests[xhrId]={xhr};xhr.open("GET",this.url),xhr.withCredentials=this.withCredentials;for(const property in this.httpHeaders){const value=this.httpHeaders[property];typeof value>"u"||xhr.setRequestHeader(property,value)}return this.isHttp&&"begin"in args&&"end"in args?(xhr.setRequestHeader("Range",`bytes=${args.begin}-${args.end-1}`),pendingRequest.expectedStatus=206):pendingRequest.expectedStatus=200,xhr.responseType="arraybuffer",args.onError&&(xhr.onerror=function(evt){args.onError(xhr.status)}),xhr.onreadystatechange=this.onStateChange.bind(this,xhrId),xhr.onprogress=this.onProgress.bind(this,xhrId),pendingRequest.onHeadersReceived=args.onHeadersReceived,pendingRequest.onDone=args.onDone,pendingRequest.onError=args.onError,pendingRequest.onProgress=args.onProgress,xhr.send(null),xhrId}onProgress(xhrId,evt){const pendingRequest=this.pendingRequests[xhrId];pendingRequest&&pendingRequest.onProgress?.(evt)}onStateChange(xhrId,evt){const pendingRequest=this.pendingRequests[xhrId];if(!pendingRequest)return;const xhr=pendingRequest.xhr;if(xhr.readyState>=2&&pendingRequest.onHeadersReceived&&(pendingRequest.onHeadersReceived(),delete pendingRequest.onHeadersReceived),4!==xhr.readyState||!(xhrId in this.pendingRequests))return;if(delete this.pendingRequests[xhrId],0===xhr.status&&this.isHttp)return void pendingRequest.onError?.(xhr.status);const xhrStatus=xhr.status||200;if((200!==xhrStatus||206!==pendingRequest.expectedStatus)&&xhrStatus!==pendingRequest.expectedStatus)return void pendingRequest.onError?.(xhr.status);const chunk=function getArrayBuffer(xhr){const data=xhr.response;return"string"!=typeof data?data:(0,_util2.stringToBytes)(data).buffer}(xhr);if(206===xhrStatus){const rangeHeader=xhr.getResponseHeader("Content-Range"),matches=/bytes (\d+)-(\d+)\/(\d+)/.exec(rangeHeader);pendingRequest.onDone({begin:parseInt(matches[1],10),chunk})}else chunk?pendingRequest.onDone({begin:0,chunk}):pendingRequest.onError?.(xhr.status)}getRequestXhr(xhrId){return this.pendingRequests[xhrId].xhr}isPendingRequest(xhrId){return xhrId in this.pendingRequests}abortRequest(xhrId){const xhr=this.pendingRequests[xhrId].xhr;delete this.pendingRequests[xhrId],xhr.abort()}}exports2.PDFNetworkStream=class PDFNetworkStream{constructor(source){this._source=source,this._manager=new NetworkManager(source.url,{httpHeaders:source.httpHeaders,withCredentials:source.withCredentials}),this._rangeChunkSize=source.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(reader){const i=this._rangeRequestReaders.indexOf(reader);i>=0&&this._rangeRequestReaders.splice(i,1)}getFullReader(){return(0,_util2.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader(begin,end){const reader=new PDFNetworkStreamRangeRequestReader(this._manager,begin,end);return reader.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(reader),reader}cancelAllRequests(reason){this._fullRequestReader?.cancel(reason);for(const reader of this._rangeRequestReaders.slice(0))reader.cancel(reason)}};class PDFNetworkStreamFullRequestReader{constructor(manager,source){this._manager=manager;const args={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=source.url,this._fullRequestId=manager.requestFull(args),this._headersReceivedCapability=(0,_util2.createPromiseCapability)(),this._disableRange=source.disableRange||!1,this._contentLength=source.length,this._rangeChunkSize=source.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const fullRequestXhrId=this._fullRequestId,fullRequestXhr=this._manager.getRequestXhr(fullRequestXhrId),getResponseHeader=name=>fullRequestXhr.getResponseHeader(name),{allowRangeRequests,suggestedLength}=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=suggestedLength||this._contentLength,this._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader),this._isRangeSupported&&this._manager.abortRequest(fullRequestXhrId),this._headersReceivedCapability.resolve()}_onDone(data){if(data&&(this._requests.length>0?this._requests.shift().resolve({value:data.chunk,done:!1}):this._cachedChunks.push(data.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const requestCapability of this._requests)requestCapability.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(status){this._storedError=(0,_network_utils.createResponseStatusError)(status,this._url),this._headersReceivedCapability.reject(this._storedError);for(const requestCapability of this._requests)requestCapability.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(evt){this.onProgress?.({loaded:evt.loaded,total:evt.lengthComputable?evt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var _this15=this;return _asyncToGenerator(function*(){if(_this15._storedError)throw _this15._storedError;if(_this15._cachedChunks.length>0)return{value:_this15._cachedChunks.shift(),done:!1};if(_this15._done)return{value:void 0,done:!0};const requestCapability=(0,_util2.createPromiseCapability)();return _this15._requests.push(requestCapability),requestCapability.promise})()}cancel(reason){this._done=!0,this._headersReceivedCapability.reject(reason);for(const requestCapability of this._requests)requestCapability.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor(manager,begin,end){this._manager=manager;const args={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=manager.url,this._requestId=manager.requestRange(begin,end,args),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(data){const chunk=data.chunk;this._requests.length>0?this._requests.shift().resolve({value:chunk,done:!1}):this._queuedChunk=chunk,this._done=!0;for(const requestCapability of this._requests)requestCapability.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(status){this._storedError=(0,_network_utils.createResponseStatusError)(status,this._url);for(const requestCapability of this._requests)requestCapability.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(evt){this.isStreamingSupported||this.onProgress?.({loaded:evt.loaded})}get isStreamingSupported(){return!1}read(){var _this16=this;return _asyncToGenerator(function*(){if(_this16._storedError)throw _this16._storedError;if(null!==_this16._queuedChunk){const chunk=_this16._queuedChunk;return _this16._queuedChunk=null,{value:chunk,done:!1}}if(_this16._done)return{value:void 0,done:!0};const requestCapability=(0,_util2.createPromiseCapability)();return _this16._requests.push(requestCapability),requestCapability.promise})()}cancel(reason){this._done=!0;for(const requestCapability of this._requests)requestCapability.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(__unused_webpack_module2,exports2,__w_pdfjs_require__2)=>{Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.PDFFetchStream=void 0;var _util2=__w_pdfjs_require__2(1),_network_utils=__w_pdfjs_require__2(33);function createFetchOptions(headers,withCredentials,abortController){return{method:"GET",headers,signal:abortController.signal,mode:"cors",credentials:withCredentials?"include":"same-origin",redirect:"follow"}}function createHeaders(httpHeaders){const headers=new Headers;for(const property in httpHeaders){const value=httpHeaders[property];typeof value>"u"||headers.append(property,value)}return headers}exports2.PDFFetchStream=class PDFFetchStream{constructor(source){this.source=source,this.isHttp=/^https?:/i.test(source.url),this.httpHeaders=this.isHttp&&source.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,_util2.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader(begin,end){if(end<=this._progressiveDataLength)return null;const reader=new PDFFetchStreamRangeReader(this,begin,end);return this._rangeRequestReaders.push(reader),reader}cancelAllRequests(reason){this._fullRequestReader&&this._fullRequestReader.cancel(reason);for(const reader of this._rangeRequestReaders.slice(0))reader.cancel(reason)}};class PDFFetchStreamReader{constructor(stream){this._stream=stream,this._reader=null,this._loaded=0,this._filename=null;const source=stream.source;this._withCredentials=source.withCredentials||!1,this._contentLength=source.length,this._headersCapability=(0,_util2.createPromiseCapability)(),this._disableRange=source.disableRange||!1,this._rangeChunkSize=source.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!source.disableStream,this._isRangeSupported=!source.disableRange,this._headers=createHeaders(this._stream.httpHeaders);const url=source.url;fetch(url,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(response=>{if(!(0,_network_utils.validateResponseStatus)(response.status))throw(0,_network_utils.createResponseStatusError)(response.status,url);this._reader=response.body.getReader(),this._headersCapability.resolve();const getResponseHeader=name=>response.headers.get(name),{allowRangeRequests,suggestedLength}=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=allowRangeRequests,this._contentLength=suggestedLength||this._contentLength,this._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _util2.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var _this17=this;return _asyncToGenerator(function*(){yield _this17._headersCapability.promise;const{value,done}=yield _this17._reader.read();return done?{value,done}:(_this17._loaded+=value.byteLength,_this17.onProgress&&_this17.onProgress({loaded:_this17._loaded,total:_this17._contentLength}),{value:new Uint8Array(value).buffer,done:!1})})()}cancel(reason){this._reader&&this._reader.cancel(reason),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor(stream,begin,end){this._stream=stream,this._reader=null,this._loaded=0;const source=stream.source;this._withCredentials=source.withCredentials||!1,this._readCapability=(0,_util2.createPromiseCapability)(),this._isStreamingSupported=!source.disableStream,this._abortController=new AbortController,this._headers=createHeaders(this._stream.httpHeaders),this._headers.append("Range",`bytes=${begin}-${end-1}`);const url=source.url;fetch(url,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(response=>{if(!(0,_network_utils.validateResponseStatus)(response.status))throw(0,_network_utils.createResponseStatusError)(response.status,url);this._readCapability.resolve(),this._reader=response.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var _this18=this;return _asyncToGenerator(function*(){yield _this18._readCapability.promise;const{value,done}=yield _this18._reader.read();return done?{value,done}:(_this18._loaded+=value.byteLength,_this18.onProgress&&_this18.onProgress({loaded:_this18._loaded}),{value:new Uint8Array(value).buffer,done:!1})})()}cancel(reason){this._reader&&this._reader.cancel(reason),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module2=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module2,module2.exports,__w_pdfjs_require__),module2.exports}var __nested_webpack_exports__={};return(()=>{var exports2=__nested_webpack_exports__;Object.defineProperty(exports2,"__esModule",{value:!0}),Object.defineProperty(exports2,"AnnotationEditorLayer",{enumerable:!0,get:function(){return _annotation_editor_layer.AnnotationEditorLayer}}),Object.defineProperty(exports2,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return _util2.AnnotationEditorParamsType}}),Object.defineProperty(exports2,"AnnotationEditorType",{enumerable:!0,get:function(){return _util2.AnnotationEditorType}}),Object.defineProperty(exports2,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return _tools.AnnotationEditorUIManager}}),Object.defineProperty(exports2,"AnnotationLayer",{enumerable:!0,get:function(){return _annotation_layer.AnnotationLayer}}),Object.defineProperty(exports2,"AnnotationMode",{enumerable:!0,get:function(){return _util2.AnnotationMode}}),Object.defineProperty(exports2,"CMapCompressionType",{enumerable:!0,get:function(){return _util2.CMapCompressionType}}),Object.defineProperty(exports2,"GlobalWorkerOptions",{enumerable:!0,get:function(){return _worker_options2.GlobalWorkerOptions}}),Object.defineProperty(exports2,"InvalidPDFException",{enumerable:!0,get:function(){return _util2.InvalidPDFException}}),Object.defineProperty(exports2,"LoopbackPort",{enumerable:!0,get:function(){return _api.LoopbackPort}}),Object.defineProperty(exports2,"MissingPDFException",{enumerable:!0,get:function(){return _util2.MissingPDFException}}),Object.defineProperty(exports2,"OPS",{enumerable:!0,get:function(){return _util2.OPS}}),Object.defineProperty(exports2,"PDFDataRangeTransport",{enumerable:!0,get:function(){return _api.PDFDataRangeTransport}}),Object.defineProperty(exports2,"PDFDateString",{enumerable:!0,get:function(){return _display_utils2.PDFDateString}}),Object.defineProperty(exports2,"PDFWorker",{enumerable:!0,get:function(){return _api.PDFWorker}}),Object.defineProperty(exports2,"PasswordResponses",{enumerable:!0,get:function(){return _util2.PasswordResponses}}),Object.defineProperty(exports2,"PermissionFlag",{enumerable:!0,get:function(){return _util2.PermissionFlag}}),Object.defineProperty(exports2,"PixelsPerInch",{enumerable:!0,get:function(){return _display_utils2.PixelsPerInch}}),Object.defineProperty(exports2,"RenderingCancelledException",{enumerable:!0,get:function(){return _display_utils2.RenderingCancelledException}}),Object.defineProperty(exports2,"SVGGraphics",{enumerable:!0,get:function(){return _svg.SVGGraphics}}),Object.defineProperty(exports2,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return _util2.UNSUPPORTED_FEATURES}}),Object.defineProperty(exports2,"UnexpectedResponseException",{enumerable:!0,get:function(){return _util2.UnexpectedResponseException}}),Object.defineProperty(exports2,"Util",{enumerable:!0,get:function(){return _util2.Util}}),Object.defineProperty(exports2,"VerbosityLevel",{enumerable:!0,get:function(){return _util2.VerbosityLevel}}),Object.defineProperty(exports2,"XfaLayer",{enumerable:!0,get:function(){return _xfa_layer.XfaLayer}}),Object.defineProperty(exports2,"build",{enumerable:!0,get:function(){return _api.build}}),Object.defineProperty(exports2,"createPromiseCapability",{enumerable:!0,get:function(){return _util2.createPromiseCapability}}),Object.defineProperty(exports2,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return _util2.createValidAbsoluteUrl}}),Object.defineProperty(exports2,"getDocument",{enumerable:!0,get:function(){return _api.getDocument}}),Object.defineProperty(exports2,"getFilenameFromUrl",{enumerable:!0,get:function(){return _display_utils2.getFilenameFromUrl}}),Object.defineProperty(exports2,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _display_utils2.getPdfFilenameFromUrl}}),Object.defineProperty(exports2,"getXfaPageViewport",{enumerable:!0,get:function(){return _display_utils2.getXfaPageViewport}}),Object.defineProperty(exports2,"isPdfFile",{enumerable:!0,get:function(){return _display_utils2.isPdfFile}}),Object.defineProperty(exports2,"loadScript",{enumerable:!0,get:function(){return _display_utils2.loadScript}}),Object.defineProperty(exports2,"renderTextLayer",{enumerable:!0,get:function(){return _text_layer.renderTextLayer}}),Object.defineProperty(exports2,"shadow",{enumerable:!0,get:function(){return _util2.shadow}}),Object.defineProperty(exports2,"version",{enumerable:!0,get:function(){return _api.version}});var _util2=__w_pdfjs_require__(1),_api=__w_pdfjs_require__(4),_display_utils2=__w_pdfjs_require__(8),_annotation_editor_layer=__w_pdfjs_require__(22),_tools=__w_pdfjs_require__(7),_annotation_layer=__w_pdfjs_require__(27),_worker_options2=__w_pdfjs_require__(15),_is_node2=__w_pdfjs_require__(3),_text_layer=__w_pdfjs_require__(30),_svg=__w_pdfjs_require__(31),_xfa_layer=__w_pdfjs_require__(29);if(_is_node2.isNodeJS){const{PDFNodeStream}=__w_pdfjs_require__(32);(0,_api.setPDFNetworkStreamFactory)(params=>new PDFNodeStream(params))}else{const{PDFNetworkStream}=__w_pdfjs_require__(35),{PDFFetchStream}=__w_pdfjs_require__(36);(0,_api.setPDFNetworkStreamFactory)(params=>(0,_display_utils2.isValidFetchUrl)(params.url)?new PDFFetchStream(params):new PDFNetworkStream(params))}})(),__nested_webpack_exports__})(),module.exports=factory()},26634:(module2,__unused_webpack_exports2,__webpack_require__2)=>{var _asyncToGenerator2=__webpack_require__2(75453).default;globalThis,module2.exports=(()=>{"use strict";var e=[,(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.WorkerTask=t2.WorkerMessageHandler=void 0;var e3,r=a2(2),n=a2(5),i=a2(6),s=a2(8),o=a2(71),c=a2(65),l=a2(4),h=a2(102),u=a2(103);class WorkerTask{constructor(e3){this.name=e3,this.terminated=!1,this._capability=(0,r.createPromiseCapability)()}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}t2.WorkerTask=WorkerTask;class WorkerMessageHandler{static setup(e3,t3){let a3=!1;e3.on("test",function(t4){a3||(a3=!0,e3.send("test",t4 instanceof Uint8Array))}),e3.on("configure",function(e4){(0,r.setVerbosityLevel)(e4.verbosity)}),e3.on("GetDocRequest",function(e4){return WorkerMessageHandler.createDocumentHandler(e4,t3)})}static createDocumentHandler(e3,t3){let a3,d=!1,f=null;const g=[],p=(0,r.getVerbosityLevel)(),m=e3.apiVersion;if("2.16.105"!==m)throw new Error(`The API version "${m}" does not match the Worker version "2.16.105".`);const y=[];for(const e4 in[])y.push(e4);if(y.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+y.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");if(typeof ReadableStream>"u"){const e4="The browser/environment lacks native support for critical functionality used by the PDF.js library (e.g. `ReadableStream`); ";throw l.isNodeJS?new Error(e4+"please use a `legacy`-build instead."):new Error(e4+"please update to a supported browser.")}const w=e3.docId,S=e3.docBaseUrl,x=e3.docId+"_worker";let k=new h.MessageHandler(x,w,t3);function ensureNotTerminated(){if(d)throw new Error("Worker was terminated")}function startWorkerTask(e4){g.push(e4)}function finishWorkerTask(e4){e4.finish();const t4=g.indexOf(e4);g.splice(t4,1)}function loadDocument(_x){return _loadDocument.apply(this,arguments)}function _loadDocument(){return(_loadDocument=_asyncToGenerator2(function*(e4){yield a3.ensureDoc("checkHeader"),yield a3.ensureDoc("parseStartXRef"),yield a3.ensureDoc("parse",[e4]),yield a3.ensureDoc("checkFirstPage",[e4]),yield a3.ensureDoc("checkLastPage",[e4]);const t4=yield a3.ensureDoc("isPureXfa");if(t4){const e5=new WorkerTask("loadXfaFonts");startWorkerTask(e5),yield Promise.all([a3.loadXfaFonts(k,e5).catch(e6=>{}).then(()=>finishWorkerTask(e5)),a3.loadXfaImages()])}const[r2,n2]=yield Promise.all([a3.ensureDoc("numPages"),a3.ensureDoc("fingerprints")]);return{numPages:r2,fingerprints:n2,htmlForXfa:t4?yield a3.ensureDoc("htmlForXfa"):null}})).apply(this,arguments)}return k.on("GetPage",function(e4){return a3.getPage(e4.pageIndex).then(function(e5){return Promise.all([a3.ensure(e5,"rotate"),a3.ensure(e5,"ref"),a3.ensure(e5,"userUnit"),a3.ensure(e5,"view")]).then(function([e6,t4,a4,r2]){return{rotate:e6,ref:t4,userUnit:a4,view:r2}})})}),k.on("GetPageIndex",function(e4){const t4=n.Ref.get(e4.num,e4.gen);return a3.ensureCatalog("getPageIndex",[t4])}),k.on("GetDestinations",function(e4){return a3.ensureCatalog("destinations")}),k.on("GetDestination",function(e4){return a3.ensureCatalog("getDestination",[e4.id])}),k.on("GetPageLabels",function(e4){return a3.ensureCatalog("pageLabels")}),k.on("GetPageLayout",function(e4){return a3.ensureCatalog("pageLayout")}),k.on("GetPageMode",function(e4){return a3.ensureCatalog("pageMode")}),k.on("GetViewerPreferences",function(e4){return a3.ensureCatalog("viewerPreferences")}),k.on("GetOpenAction",function(e4){return a3.ensureCatalog("openAction")}),k.on("GetAttachments",function(e4){return a3.ensureCatalog("attachments")}),k.on("GetJavaScript",function(e4){return a3.ensureCatalog("javaScript")}),k.on("GetDocJSActions",function(e4){return a3.ensureCatalog("jsActions")}),k.on("GetPageJSActions",function({pageIndex:e4}){return a3.getPage(e4).then(function(e5){return a3.ensure(e5,"jsActions")})}),k.on("GetOutline",function(e4){return a3.ensureCatalog("documentOutline")}),k.on("GetOptionalContentConfig",function(e4){return a3.ensureCatalog("optionalContentConfig")}),k.on("GetPermissions",function(e4){return a3.ensureCatalog("permissions")}),k.on("GetMetadata",function(e4){return Promise.all([a3.ensureDoc("documentInfo"),a3.ensureCatalog("metadata")])}),k.on("GetMarkInfo",function(e4){return a3.ensureCatalog("markInfo")}),k.on("GetData",function(e4){return a3.requestLoadedStream(),a3.onLoadedStream().then(function(e5){return e5.bytes})}),k.on("GetAnnotations",function({pageIndex:e4,intent:t4}){return a3.getPage(e4).then(function(a4){const r2=new WorkerTask(`GetAnnotations: page ${e4}`);return startWorkerTask(r2),a4.getAnnotationsData(k,r2,t4).then(e5=>(finishWorkerTask(r2),e5),e5=>{finishWorkerTask(r2)})})}),k.on("GetFieldObjects",function(e4){return a3.ensureDoc("fieldObjects")}),k.on("HasJSActions",function(e4){return a3.ensureDoc("hasJSActions")}),k.on("GetCalculationOrderIds",function(e4){return a3.ensureDoc("calculationOrderIds")}),k.on("SaveDocument",function({isPureXfa:e4,numPages:t4,annotationStorage:s2,filename:o2}){a3.requestLoadedStream();const l2=e4?null:(0,i.getNewAnnotationsMap)(s2),h2=[a3.onLoadedStream(),a3.ensureCatalog("acroForm"),a3.ensureCatalog("acroFormRef"),a3.ensureDoc("xref"),a3.ensureDoc("startXRef")];if(l2)for(const[e5,t5]of l2)h2.push(a3.getPage(e5).then(a4=>{const r2=new WorkerTask(`Save (editor): page ${e5}`);return a4.saveNewAnnotations(k,r2,t5).finally(function(){finishWorkerTask(r2)})}));if(e4)h2.push(a3.serializeXfaData(s2));else for(let e5=0;e5<t4;e5++)h2.push(a3.getPage(e5).then(function(t5){const a4=new WorkerTask(`Save: page ${e5}`);return t5.save(k,a4,s2).finally(function(){finishWorkerTask(a4)})}));return Promise.all(h2).then(function([t5,a4,i2,s3,l3,...h3]){let u2=[],d2=null;if(e4){if(d2=h3[0],!d2)return t5.bytes}else if(u2=h3.flat(2),0===u2.length)return t5.bytes;const f2=a4 instanceof n.Dict&&a4.get("XFA")||null;let g2=null,p2=!1;if(Array.isArray(f2)){for(let e5=0,t6=f2.length;e5<t6;e5+=2)"datasets"===f2[e5]&&(g2=f2[e5+1],i2=null,p2=!0);null===g2&&(g2=s3.getNewRef())}else f2&&(i2=null,(0,r.warn)("Unsupported XFA type."));let m2=Object.create(null);if(s3.trailer){const e5=Object.create(null),t6=s3.trailer.get("Info")||null;t6 instanceof n.Dict&&t6.forEach((t7,a5)=>{"string"==typeof a5&&(e5[t7]=(0,r.stringToPDFString)(a5))}),m2={rootRef:s3.trailer.getRaw("Root")||null,encryptRef:s3.trailer.getRaw("Encrypt")||null,newRef:s3.getNewRef(),infoRef:s3.trailer.getRaw("Info")||null,info:e5,fileIds:s3.trailer.get("ID")||null,startXRef:l3,filename:o2}}return s3.resetNewRef(),(0,c.incrementalUpdate)({originalData:t5.bytes,xrefInfo:m2,newRefs:u2,xref:s3,hasXfa:!!f2,xfaDatasetsRef:g2,hasXfaDatasetsEntry:p2,acroFormRef:i2,acroForm:a4,xfaData:d2})})}),k.on("GetOperatorList",function(e4,t4){const n2=e4.pageIndex;a3.getPage(n2).then(function(a4){const i2=new WorkerTask(`GetOperatorList: page ${n2}`);startWorkerTask(i2);const s2=p>=r.VerbosityLevel.INFOS?Date.now():0;a4.getOperatorList({handler:k,sink:t4,task:i2,intent:e4.intent,cacheKey:e4.cacheKey,annotationStorage:e4.annotationStorage}).then(function(e5){finishWorkerTask(i2),s2&&(0,r.info)(`page=${n2+1} - getOperatorList: time=${Date.now()-s2}ms, len=${e5.length}`),t4.close()},function(e5){finishWorkerTask(i2),i2.terminated||(k.send("UnsupportedFeature",{featureId:r.UNSUPPORTED_FEATURES.errorOperatorList}),t4.error(e5))})})}),k.on("GetTextContent",function(e4,t4){const n2=e4.pageIndex;a3.getPage(n2).then(function(a4){const i2=new WorkerTask("GetTextContent: page "+n2);startWorkerTask(i2);const s2=p>=r.VerbosityLevel.INFOS?Date.now():0;a4.extractTextContent({handler:k,task:i2,sink:t4,includeMarkedContent:e4.includeMarkedContent,combineTextItems:e4.combineTextItems}).then(function(){finishWorkerTask(i2),s2&&(0,r.info)(`page=${n2+1} - getTextContent: time=`+(Date.now()-s2)+"ms"),t4.close()},function(e5){finishWorkerTask(i2),i2.terminated||t4.error(e5)})})}),k.on("GetStructTree",function(e4){return a3.getPage(e4.pageIndex).then(function(e5){return a3.ensure(e5,"getStructTree")})}),k.on("FontFallback",function(e4){return a3.fontFallback(e4.id,k)}),k.on("Cleanup",function(e4){return a3.cleanup(!0)}),k.on("Terminate",function(e4){d=!0;const t4=[];if(a3){a3.terminate(new r.AbortException("Worker was terminated."));const e5=a3.cleanup();t4.push(e5),a3=null}else(0,o.clearGlobalCaches)();f&&f(new r.AbortException("Worker was terminated."));for(const e5 of g)t4.push(e5.finished),e5.terminate();return Promise.all(t4).then(function(){k.destroy(),k=null})}),k.on("Ready",function(t4){(function(e4){function onSuccess(e5){ensureNotTerminated(),k.send("GetDoc",{pdfInfo:e5})}function onFailure(e5){if(ensureNotTerminated(),e5 instanceof r.PasswordException){const t5=new WorkerTask(`PasswordException: response ${e5.code}`);startWorkerTask(t5),k.sendWithPromise("PasswordRequest",e5).then(function({password:e6}){finishWorkerTask(t5),a3.updatePassword(e6),pdfManagerReady()}).catch(function(){finishWorkerTask(t5),k.send("DocException",e5)})}else k.send("DocException",e5 instanceof r.InvalidPDFException||e5 instanceof r.MissingPDFException||e5 instanceof r.UnexpectedResponseException||e5 instanceof r.UnknownErrorException?e5:new r.UnknownErrorException(e5.message,e5.toString()))}function pdfManagerReady(){ensureNotTerminated(),loadDocument(!1).then(onSuccess,function(e5){ensureNotTerminated(),e5 instanceof i.XRefParseException?(a3.requestLoadedStream(),a3.onLoadedStream().then(function(){ensureNotTerminated(),loadDocument(!0).then(onSuccess,onFailure)})):onFailure(e5)})}ensureNotTerminated(),function getPdfManager(e4,t4,a4){const n2=(0,r.createPromiseCapability)();let i2;const o2=e4.source;if(o2.data){try{i2=new s.LocalPdfManager(w,o2.data,o2.password,k,t4,a4,S),n2.resolve(i2)}catch(e5){n2.reject(e5)}return n2.promise}let c2,l2=[];try{c2=new u.PDFWorkerStream(k)}catch(e5){return n2.reject(e5),n2.promise}const h2=c2.getFullReader();h2.headersReady.then(function(){if(h2.isRangeSupported){i2=new s.NetworkPdfManager(w,c2,{msgHandler:k,password:o2.password,length:h2.contentLength,disableAutoFetch:o2.disableAutoFetch||h2.isStreamingSupported,rangeChunkSize:o2.rangeChunkSize},t4,a4,S);for(const e6 of l2)i2.sendProgressiveData(e6);l2=[],n2.resolve(i2),f=null}}).catch(function(e5){n2.reject(e5),f=null});let d2=0;return new Promise(function(e5,c3){const readChunk=function({value:e6,done:u2}){try{if(ensureNotTerminated(),u2)return i2||function(){const e7=(0,r.arraysToBytes)(l2);o2.length&&e7.length!==o2.length&&(0,r.warn)("reported HTTP length is different from actual");try{i2=new s.LocalPdfManager(w,e7,o2.password,k,t4,a4,S),n2.resolve(i2)}catch(e8){n2.reject(e8)}l2=[]}(),void(f=null);d2+=(0,r.arrayByteLength)(e6),h2.isStreamingSupported||k.send("DocProgress",{loaded:d2,total:Math.max(d2,h2.contentLength||0)}),i2?i2.sendProgressiveData(e6):l2.push(e6),h2.read().then(readChunk,c3)}catch(e7){c3(e7)}};h2.read().then(readChunk,c3)}).catch(function(e5){n2.reject(e5),f=null}),f=function(e5){c2.cancelAllRequests(e5)},n2.promise}(e4,{maxImageSize:e4.maxImageSize,disableFontFace:e4.disableFontFace,ignoreErrors:e4.ignoreErrors,isEvalSupported:e4.isEvalSupported,fontExtraProperties:e4.fontExtraProperties,useSystemFonts:e4.useSystemFonts,cMapUrl:e4.cMapUrl,standardFontDataUrl:e4.standardFontDataUrl},e4.enableXfa).then(function(e5){if(d)throw e5.terminate(new r.AbortException("Worker was terminated.")),new Error("Worker was terminated");a3=e5,a3.onLoadedStream().then(function(e6){k.send("DataLoaded",{length:e6.bytes.byteLength})})}).then(pdfManagerReady,onFailure)})(e3),e3=null}),x}static initializeFromPort(e3){const t3=new h.MessageHandler("worker","main",e3);WorkerMessageHandler.setup(t3,e3),t3.send("ready",null)}}t2.WorkerMessageHandler=WorkerMessageHandler,typeof window>"u"&&!l.isNodeJS&&typeof self<"u"&&"function"==typeof(e3=self).postMessage&&"onmessage"in e3&&WorkerMessageHandler.initializeFromPort(self)},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.VerbosityLevel=t2.Util=t2.UnknownErrorException=t2.UnexpectedResponseException=t2.UNSUPPORTED_FEATURES=t2.TextRenderingMode=t2.StreamType=t2.RenderingIntentFlag=t2.PermissionFlag=t2.PasswordResponses=t2.PasswordException=t2.PageActionEventType=t2.OPS=t2.MissingPDFException=t2.LINE_FACTOR=t2.LINE_DESCENT_FACTOR=t2.InvalidPDFException=t2.ImageKind=t2.IDENTITY_MATRIX=t2.FormatError=t2.FontType=t2.FeatureTest=t2.FONT_IDENTITY_MATRIX=t2.DocumentActionEventType=t2.CMapCompressionType=t2.BaseException=t2.AnnotationType=t2.AnnotationStateModelType=t2.AnnotationReviewState=t2.AnnotationReplyType=t2.AnnotationMode=t2.AnnotationMarkedState=t2.AnnotationFlag=t2.AnnotationFieldFlag=t2.AnnotationEditorType=t2.AnnotationEditorPrefix=t2.AnnotationEditorParamsType=t2.AnnotationBorderStyleType=t2.AnnotationActionEventType=t2.AbortException=void 0,t2.arrayByteLength=arrayByteLength,t2.arraysToBytes=function(e3){const t3=e3.length;if(1===t3&&e3[0]instanceof Uint8Array)return e3[0];let a3=0;for(let r3=0;r3<t3;r3++)a3+=arrayByteLength(e3[r3]);let r2=0;const n2=new Uint8Array(a3);for(let a4=0;a4<t3;a4++){let t4=e3[a4];t4 instanceof Uint8Array||(t4="string"==typeof t4?stringToBytes(t4):new Uint8Array(t4));const i2=t4.byteLength;n2.set(t4,r2),r2+=i2}return n2},t2.assert=function(e3,t3){e3||unreachable(t3)},t2.bytesToString=function(e3){"object"==typeof e3&&null!==e3&&void 0!==e3.length||unreachable("Invalid argument for bytesToString");const t3=e3.length;if(t3<8192)return String.fromCharCode.apply(null,e3);const r2=[];for(let n2=0;n2<t3;n2+=8192){const i2=Math.min(n2+8192,t3),s2=e3.subarray(n2,i2);r2.push(String.fromCharCode.apply(null,s2))}return r2.join("")},t2.createPromiseCapability=function(){const e3=Object.create(null);let t3=!1;return Object.defineProperty(e3,"settled",{get:()=>t3}),e3.promise=new Promise(function(a3,r2){e3.resolve=function(e4){t3=!0,a3(e4)},e3.reject=function(e4){t3=!0,r2(e4)}}),e3},t2.createValidAbsoluteUrl=function(e3,t3=null,a3=null){if(!e3)return null;try{if(a3&&"string"==typeof e3){if(a3.addDefaultProtocol&&e3.startsWith("www.")){const t4=e3.match(/\./g);t4&&t4.length>=2&&(e3=`http://${e3}`)}if(a3.tryConvertEncoding)try{e3=stringToUTF8String(e3)}catch{}}const r2=t3?new URL(e3,t3):new URL(e3);if(function(e4){if(!e4)return!1;switch(e4.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r2))return r2}catch{}return null},t2.escapeString=function(e3){return e3.replace(/([()\\\n\r])/g,e4=>"\n"===e4?"\\n":"\r"===e4?"\\r":`\\${e4}`)},t2.getModificationDate=function(e3=new Date){return[e3.getUTCFullYear().toString(),(e3.getUTCMonth()+1).toString().padStart(2,"0"),e3.getUTCDate().toString().padStart(2,"0"),e3.getUTCHours().toString().padStart(2,"0"),e3.getUTCMinutes().toString().padStart(2,"0"),e3.getUTCSeconds().toString().padStart(2,"0")].join("")},t2.getVerbosityLevel=function(){return n},t2.info=function(e3){n>=r.INFOS&&console.log(`Info: ${e3}`)},t2.isArrayBuffer=function(e3){return"object"==typeof e3&&null!==e3&&void 0!==e3.byteLength},t2.isArrayEqual=function(e3,t3){if(e3.length!==t3.length)return!1;for(let a3=0,r2=e3.length;a3<r2;a3++)if(e3[a3]!==t3[a3])return!1;return!0},t2.isAscii=function(e3){return/^[\x00-\x7F]*$/.test(e3)},t2.objectFromMap=function(e3){const t3=Object.create(null);for(const[a3,r2]of e3)t3[a3]=r2;return t3},t2.objectSize=function(e3){return Object.keys(e3).length},t2.setVerbosityLevel=function(e3){Number.isInteger(e3)&&(n=e3)},t2.shadow=shadow,t2.string32=function(e3){return String.fromCharCode(e3>>24&255,e3>>16&255,e3>>8&255,255&e3)},t2.stringToBytes=stringToBytes,t2.stringToPDFString=function(e3){if(e3[0]>="\xef"){let t4;if("\xfe"===e3[0]&&"\xff"===e3[1]?t4="utf-16be":"\xff"===e3[0]&&"\xfe"===e3[1]?t4="utf-16le":"\xef"===e3[0]&&"\xbb"===e3[1]&&"\xbf"===e3[2]&&(t4="utf-8"),t4)try{const a3=new TextDecoder(t4,{fatal:!0}),r2=stringToBytes(e3);return a3.decode(r2)}catch(e4){warn(`stringToPDFString: "${e4}".`)}}const t3=[];for(let a3=0,r2=e3.length;a3<r2;a3++){const r3=o[e3.charCodeAt(a3)];t3.push(r3?String.fromCharCode(r3):e3.charAt(a3))}return t3.join("")},t2.stringToUTF16BEString=function(e3){const t3=["\xfe\xff"];for(let a3=0,r2=e3.length;a3<r2;a3++){const r3=e3.charCodeAt(a3);t3.push(String.fromCharCode(r3>>8&255),String.fromCharCode(255&r3))}return t3.join("")},t2.stringToUTF8String=stringToUTF8String,t2.unreachable=unreachable,t2.utf8StringToString=function(e3){return unescape(encodeURIComponent(e3))},t2.warn=warn,a2(3),t2.IDENTITY_MATRIX=[1,0,0,1,0,0],t2.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t2.LINE_FACTOR=1.35,t2.LINE_DESCENT_FACTOR=.35,t2.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},t2.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},t2.AnnotationEditorPrefix="pdfjs_internal_editor_",t2.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},t2.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},t2.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t2.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t2.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t2.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t2.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t2.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t2.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t2.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t2.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t2.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t2.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t2.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t2.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t2.PageActionEventType={O:"PageOpen",C:"PageClose"},t2.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t2.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const r={ERRORS:0,WARNINGS:1,INFOS:5};t2.VerbosityLevel=r,t2.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t2.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t2.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},t2.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let n=r.WARNINGS;function warn(e3){n>=r.WARNINGS&&console.log(`Warning: ${e3}`)}function unreachable(e3){throw new Error(e3)}function shadow(e3,t3,a3){return Object.defineProperty(e3,t3,{value:a3,enumerable:!0,configurable:!0,writable:!1}),a3}const i=function(){function BaseException(e3,t3){this.constructor===BaseException&&unreachable("Cannot initialize BaseException."),this.message=e3,this.name=t3}return BaseException.prototype=new Error,BaseException.constructor=BaseException,BaseException}();function stringToBytes(e3){"string"!=typeof e3&&unreachable("Invalid argument for stringToBytes");const t3=e3.length,a3=new Uint8Array(t3);for(let r2=0;r2<t3;++r2)a3[r2]=255&e3.charCodeAt(r2);return a3}function arrayByteLength(e3){return void 0!==e3.length?e3.length:void 0!==e3.byteLength?e3.byteLength:void unreachable("Invalid argument for arrayByteLength")}t2.BaseException=i,t2.PasswordException=class extends i{constructor(e3,t3){super(e3,"PasswordException"),this.code=t3}},t2.UnknownErrorException=class extends i{constructor(e3,t3){super(e3,"UnknownErrorException"),this.details=t3}},t2.InvalidPDFException=class extends i{constructor(e3){super(e3,"InvalidPDFException")}},t2.MissingPDFException=class extends i{constructor(e3){super(e3,"MissingPDFException")}},t2.UnexpectedResponseException=class extends i{constructor(e3,t3){super(e3,"UnexpectedResponseException"),this.status=t3}},t2.FormatError=class extends i{constructor(e3){super(e3,"FormatError")}},t2.AbortException=class extends i{constructor(e3){super(e3,"AbortException")}},t2.FeatureTest=class{static get isLittleEndian(){return shadow(this,"isLittleEndian",function(){const e3=new Uint8Array(4);return e3[0]=1,1===new Uint32Array(e3.buffer,0,1)[0]}())}static get isEvalSupported(){return shadow(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const s=[...Array(256).keys()].map(e3=>e3.toString(16).padStart(2,"0"));class Util{static makeHexColor(e3,t3,a3){return`#${s[e3]}${s[t3]}${s[a3]}`}static scaleMinMax(e3,t3){let a3;e3[0]?(e3[0]<0&&(a3=t3[0],t3[0]=t3[1],t3[1]=a3),t3[0]*=e3[0],t3[1]*=e3[0],e3[3]<0&&(a3=t3[2],t3[2]=t3[3],t3[3]=a3),t3[2]*=e3[3],t3[3]*=e3[3]):(a3=t3[0],t3[0]=t3[2],t3[2]=a3,a3=t3[1],t3[1]=t3[3],t3[3]=a3,e3[1]<0&&(a3=t3[2],t3[2]=t3[3],t3[3]=a3),t3[2]*=e3[1],t3[3]*=e3[1],e3[2]<0&&(a3=t3[0],t3[0]=t3[1],t3[1]=a3),t3[0]*=e3[2],t3[1]*=e3[2]),t3[0]+=e3[4],t3[1]+=e3[4],t3[2]+=e3[5],t3[3]+=e3[5]}static transform(e3,t3){return[e3[0]*t3[0]+e3[2]*t3[1],e3[1]*t3[0]+e3[3]*t3[1],e3[0]*t3[2]+e3[2]*t3[3],e3[1]*t3[2]+e3[3]*t3[3],e3[0]*t3[4]+e3[2]*t3[5]+e3[4],e3[1]*t3[4]+e3[3]*t3[5]+e3[5]]}static applyTransform(e3,t3){return[e3[0]*t3[0]+e3[1]*t3[2]+t3[4],e3[0]*t3[1]+e3[1]*t3[3]+t3[5]]}static applyInverseTransform(e3,t3){const a3=t3[0]*t3[3]-t3[1]*t3[2];return[(e3[0]*t3[3]-e3[1]*t3[2]+t3[2]*t3[5]-t3[4]*t3[3])/a3,(-e3[0]*t3[1]+e3[1]*t3[0]+t3[4]*t3[1]-t3[5]*t3[0])/a3]}static getAxialAlignedBoundingBox(e3,t3){const a3=Util.applyTransform(e3,t3),r2=Util.applyTransform(e3.slice(2,4),t3),n2=Util.applyTransform([e3[0],e3[3]],t3),i2=Util.applyTransform([e3[2],e3[1]],t3);return[Math.min(a3[0],r2[0],n2[0],i2[0]),Math.min(a3[1],r2[1],n2[1],i2[1]),Math.max(a3[0],r2[0],n2[0],i2[0]),Math.max(a3[1],r2[1],n2[1],i2[1])]}static inverseTransform(e3){const t3=e3[0]*e3[3]-e3[1]*e3[2];return[e3[3]/t3,-e3[1]/t3,-e3[2]/t3,e3[0]/t3,(e3[2]*e3[5]-e3[4]*e3[3])/t3,(e3[4]*e3[1]-e3[5]*e3[0])/t3]}static apply3dTransform(e3,t3){return[e3[0]*t3[0]+e3[1]*t3[1]+e3[2]*t3[2],e3[3]*t3[0]+e3[4]*t3[1]+e3[5]*t3[2],e3[6]*t3[0]+e3[7]*t3[1]+e3[8]*t3[2]]}static singularValueDecompose2dScale(e3){const t3=[e3[0],e3[2],e3[1],e3[3]],a3=e3[0]*t3[0]+e3[1]*t3[2],i2=e3[2]*t3[1]+e3[3]*t3[3],s2=(a3+i2)/2,o2=Math.sqrt((a3+i2)**2-4*(a3*i2-(e3[2]*t3[0]+e3[3]*t3[2])*(e3[0]*t3[1]+e3[1]*t3[3])))/2,l=s2-o2||1;return[Math.sqrt(s2+o2||1),Math.sqrt(l)]}static normalizeRect(e3){const t3=e3.slice(0);return e3[0]>e3[2]&&(t3[0]=e3[2],t3[2]=e3[0]),e3[1]>e3[3]&&(t3[1]=e3[3],t3[3]=e3[1]),t3}static intersect(e3,t3){const a3=Math.max(Math.min(e3[0],e3[2]),Math.min(t3[0],t3[2])),r2=Math.min(Math.max(e3[0],e3[2]),Math.max(t3[0],t3[2]));if(a3>r2)return null;const n2=Math.max(Math.min(e3[1],e3[3]),Math.min(t3[1],t3[3])),i2=Math.min(Math.max(e3[1],e3[3]),Math.max(t3[1],t3[3]));return n2>i2?null:[a3,n2,r2,i2]}static bezierBoundingBox(e3,t3,a3,r2,n2,i2,s2,o2){const c=[],l=[[],[]];let h,u,d,f,g,p,m,b;for(let l2=0;l2<2;++l2)if(0===l2?(u=6*e3-12*a3+6*n2,h=-3*e3+9*a3-9*n2+3*s2,d=3*a3-3*e3):(u=6*t3-12*r2+6*i2,h=-3*t3+9*r2-9*i2+3*o2,d=3*r2-3*t3),Math.abs(h)<1e-12){if(Math.abs(u)<1e-12)continue;f=-d/u,0<f&&f<1&&c.push(f)}else m=u*u-4*d*h,b=Math.sqrt(m),m<0||(g=(-u+b)/(2*h),0<g&&g<1&&c.push(g),p=(-u-b)/(2*h),0<p&&p<1&&c.push(p));let y,w=c.length;const S=w;for(;w--;)f=c[w],y=1-f,l[0][w]=y*y*y*e3+3*y*y*f*a3+3*y*f*f*n2+f*f*f*s2,l[1][w]=y*y*y*t3+3*y*y*f*r2+3*y*f*f*i2+f*f*f*o2;return l[0][S]=e3,l[1][S]=t3,l[0][S+1]=s2,l[1][S+1]=o2,l[0].length=l[1].length=S+2,[Math.min(...l[0]),Math.min(...l[1]),Math.max(...l[0]),Math.max(...l[1])]}}t2.Util=Util;const o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function stringToUTF8String(e3){return decodeURIComponent(escape(e3))}},(e2,t2,a2)=>{a2(4)},(e2,t2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.isNodeJS=void 0;const a2=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);t2.isNodeJS=a2},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.RefSetCache=t2.RefSet=t2.Ref=t2.Name=t2.EOF=t2.Dict=t2.Cmd=t2.CIRCULAR_REF=void 0,t2.clearPrimitiveCaches=function(){o._clearCache(),s._clearCache(),l._clearCache()},t2.isCmd=function(e3,t3){return e3 instanceof o&&(void 0===t3||e3.cmd===t3)},t2.isDict=function(e3,t3){return e3 instanceof Dict&&(void 0===t3||isName(e3.get("Type"),t3))},t2.isName=isName,t2.isRefsEqual=function(e3,t3){return e3.num===t3.num&&e3.gen===t3.gen};var r=a2(2);const n=Symbol("CIRCULAR_REF");t2.CIRCULAR_REF=n;const i=Symbol("EOF");t2.EOF=i;const s=function(){let e3=Object.create(null);class Name{constructor(e4){this.name=e4}static get(t3){return e3[t3]||(e3[t3]=new Name(t3))}static _clearCache(){e3=Object.create(null)}}return Name}();t2.Name=s;const o=function(){let e3=Object.create(null);class Cmd{constructor(e4){this.cmd=e4}static get(t3){return e3[t3]||(e3[t3]=new Cmd(t3))}static _clearCache(){e3=Object.create(null)}}return Cmd}();t2.Cmd=o;const c=function(){return c};class Dict{constructor(e3=null){this._map=Object.create(null),this.xref=e3,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=c}assignXref(e3){this.xref=e3}get size(){return Object.keys(this._map).length}get(e3,t3,a3){let r2=this._map[e3];return void 0===r2&&void 0!==t3&&(r2=this._map[t3],void 0===r2&&void 0!==a3&&(r2=this._map[a3])),r2 instanceof l&&this.xref?this.xref.fetch(r2,this.suppressEncryption):r2}getAsync(e3,t3,a3){var _this=this;return _asyncToGenerator2(function*(){let r2=_this._map[e3];return void 0===r2&&void 0!==t3&&(r2=_this._map[t3],void 0===r2&&void 0!==a3&&(r2=_this._map[a3])),r2 instanceof l&&_this.xref?_this.xref.fetchAsync(r2,_this.suppressEncryption):r2})()}getArray(e3,t3,a3){let r2=this._map[e3];if(void 0===r2&&void 0!==t3&&(r2=this._map[t3],void 0===r2&&void 0!==a3&&(r2=this._map[a3])),r2 instanceof l&&this.xref&&(r2=this.xref.fetch(r2,this.suppressEncryption)),Array.isArray(r2)){r2=r2.slice();for(let e4=0,t4=r2.length;e4<t4;e4++)r2[e4]instanceof l&&this.xref&&(r2[e4]=this.xref.fetch(r2[e4],this.suppressEncryption))}return r2}getRaw(e3){return this._map[e3]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(e3,t3){this._map[e3]=t3}has(e3){return void 0!==this._map[e3]}forEach(e3){for(const t3 in this._map)e3(t3,this.get(t3))}static get empty(){const e3=new Dict(null);return e3.set=(e4,t3)=>{(0,r.unreachable)("Should not call `set` on the empty dictionary.")},(0,r.shadow)(this,"empty",e3)}static merge({xref:e3,dictArray:t3,mergeSubDicts:a3=!1}){const r2=new Dict(e3),n2=new Map;for(const e4 of t3)if(e4 instanceof Dict)for(const[t4,r3]of Object.entries(e4._map)){let e5=n2.get(t4);if(void 0===e5)e5=[],n2.set(t4,e5);else if(!(a3&&r3 instanceof Dict))continue;e5.push(r3)}for(const[t4,a4]of n2){if(1===a4.length||!(a4[0]instanceof Dict)){r2._map[t4]=a4[0];continue}const n3=new Dict(e3);for(const e4 of a4)for(const[t5,a5]of Object.entries(e4._map))void 0===n3._map[t5]&&(n3._map[t5]=a5);n3.size>0&&(r2._map[t4]=n3)}return n2.clear(),r2.size>0?r2:Dict.empty}}t2.Dict=Dict;const l=function(){let e3=Object.create(null);class Ref{constructor(e4,t3){this.num=e4,this.gen=t3}toString(){return 0===this.gen?`${this.num}R`:`${this.num}R${this.gen}`}static get(t3,a3){const r2=0===a3?`${t3}R`:`${t3}R${a3}`;return e3[r2]||(e3[r2]=new Ref(t3,a3))}static _clearCache(){e3=Object.create(null)}}return Ref}();t2.Ref=l;class RefSet{constructor(e3=null){this._set=new Set(e3&&e3._set)}has(e3){return this._set.has(e3.toString())}put(e3){this._set.add(e3.toString())}remove(e3){this._set.delete(e3.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}t2.RefSet=RefSet;class RefSetCache{constructor(){this._map=new Map}get size(){return this._map.size}get(e3){return this._map.get(e3.toString())}has(e3){return this._map.has(e3.toString())}put(e3,t3){this._map.set(e3.toString(),t3)}putAlias(e3,t3){this._map.set(e3.toString(),this.get(t3))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}function isName(e3,t3){return e3 instanceof s&&(void 0===t3||e3.name===t3)}t2.RefSetCache=RefSetCache},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.XRefParseException=t2.XRefEntryException=t2.ParserEOFException=t2.MissingDataException=t2.DocStats=void 0,t2.collectActions=function(e3,t3,a3){const i2=Object.create(null),s2=getInheritableProperty({dict:t3,key:"AA",stopWhenFound:!1});if(s2)for(let t4=s2.length-1;t4>=0;t4--){const r2=s2[t4];if(r2 instanceof n.Dict)for(const t5 of r2.getKeys()){const s3=a3[t5];if(!s3)continue;const l=[];_collectJS(r2.getRaw(t5),e3,l,new n.RefSet),l.length>0&&(i2[s3]=l)}}if(t3.has("A")){const s3=[];_collectJS(t3.get("A"),e3,s3,new n.RefSet),s3.length>0&&(i2.Action=s3)}return(0,r.objectSize)(i2)>0?i2:null},t2.encodeToXmlString=function(e3){const t3=[];let a3=0;for(let r2=0,n2=e3.length;r2<n2;r2++){const n3=e3.codePointAt(r2);if(32<=n3&&n3<=126){const i2=o[n3];i2&&(a3<r2&&t3.push(e3.substring(a3,r2)),t3.push(i2),a3=r2+1)}else a3<r2&&t3.push(e3.substring(a3,r2)),t3.push(`&#x${n3.toString(16).toUpperCase()};`),n3>55295&&(n3<57344||n3>65533)&&r2++,a3=r2+1}return 0===t3.length?e3:(a3<e3.length&&t3.push(e3.substring(a3,e3.length)),t3.join(""))},t2.escapePDFName=function(e3){const t3=[];let a3=0;for(let r2=0,n2=e3.length;r2<n2;r2++){const n3=e3.charCodeAt(r2);(n3<33||n3>126||35===n3||40===n3||41===n3||60===n3||62===n3||91===n3||93===n3||123===n3||125===n3||47===n3||37===n3)&&(a3<r2&&t3.push(e3.substring(a3,r2)),t3.push(`#${n3.toString(16)}`),a3=r2+1)}return 0===t3.length?e3:(a3<e3.length&&t3.push(e3.substring(a3,e3.length)),t3.join(""))},t2.getArrayLookupTableFactory=function(e3){let t3;return function(){if(e3){let a3=e3();e3=null,t3=Object.create(null);for(let e4=0,r2=a3.length;e4<r2;e4+=2)t3[a3[e4]]=a3[e4+1];a3=null}return t3}},t2.getInheritableProperty=getInheritableProperty,t2.getLookupTableFactory=function(e3){let t3;return function(){return e3&&(t3=Object.create(null),e3(t3),e3=null),t3}},t2.getNewAnnotationsMap=function(e3){if(!e3)return null;const t3=new Map;for(const[a3,n2]of e3){if(!a3.startsWith(r.AnnotationEditorPrefix))continue;let e4=t3.get(n2.pageIndex);e4||(e4=[],t3.set(n2.pageIndex,e4)),e4.push(n2)}return t3.size>0?t3:null},t2.isWhiteSpace=function(e3){return 32===e3||9===e3||13===e3||10===e3},t2.log2=function(e3){return e3<=0?0:Math.ceil(Math.log2(e3))},t2.numberToString=function(e3){if(Number.isInteger(e3))return e3.toString();const t3=Math.round(100*e3);return t3%100==0?(t3/100).toString():e3.toFixed(t3%10==0?1:2)},t2.parseXFAPath=function(e3){const t3=/(.+)\[(\d+)\]$/;return e3.split(".").map(e4=>{const a3=e4.match(t3);return a3?{name:a3[1],pos:parseInt(a3[2],10)}:{name:e4,pos:0}})},t2.readInt8=function(e3,t3){return e3[t3]<<24>>24},t2.readUint16=function(e3,t3){return e3[t3]<<8|e3[t3+1]},t2.readUint32=function(e3,t3){return(e3[t3]<<24|e3[t3+1]<<16|e3[t3+2]<<8|e3[t3+3])>>>0},t2.recoverJsURL=function(e3){const t3=new RegExp("^\\s*("+["app.launchURL","window.open","xfa.host.gotoURL"].join("|").split(".").join("\\.")+")\\((?:'|\")([^'\"]*)(?:'|\")(?:,\\s*(\\w+)\\)|\\))","i").exec(e3);if(t3&&t3[2]){let a3=!1;return"true"===t3[3]&&"app.launchURL"===t3[1]&&(a3=!0),{url:t3[2],newWindow:a3}}return null},t2.toRomanNumerals=function(e3,t3=!1){(0,r.assert)(Number.isInteger(e3)&&e3>0,"The number should be a positive integer.");const a3=[];let n2;for(;e3>=1e3;)e3-=1e3,a3.push("M");n2=e3/100|0,e3%=100,a3.push(s[n2]),n2=e3/10|0,e3%=10,a3.push(s[10+n2]),a3.push(s[20+e3]);const i2=a3.join("");return t3?i2.toLowerCase():i2},t2.validateCSSFont=function(e3){const t3=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:a3,fontWeight:n2,italicAngle:i2}=e3;if(/^".*"$/.test(a3)){if(/[^\\]"/.test(a3.slice(1,a3.length-1)))return(0,r.warn)(`XFA - FontFamily contains some unescaped ": ${a3}.`),!1}else if(/^'.*'$/.test(a3)){if(/[^\\]'/.test(a3.slice(1,a3.length-1)))return(0,r.warn)(`XFA - FontFamily contains some unescaped ': ${a3}.`),!1}else for(const e4 of a3.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(e4)||!/^[\w-\\]+$/.test(e4))return(0,r.warn)(`XFA - FontFamily contains some invalid <custom-ident>: ${a3}.`),!1;const s2=n2?n2.toString():"";e3.fontWeight=t3.has(s2)?s2:"400";const o2=parseFloat(i2);return e3.italicAngle=isNaN(o2)||o2<-90||o2>90?"14":i2.toString(),!0};var r=a2(2),n=a2(5),i=a2(7);function getInheritableProperty({dict:e3,key:t3,getArray:a3=!1,stopWhenFound:r2=!0}){let i2;const s2=new n.RefSet;for(;e3 instanceof n.Dict&&(!e3.objId||!s2.has(e3.objId));){e3.objId&&s2.put(e3.objId);const n2=a3?e3.getArray(t3):e3.get(t3);if(void 0!==n2){if(r2)return n2;i2||(i2=[]),i2.push(n2)}e3=e3.get("Parent")}return i2}t2.MissingDataException=class MissingDataException extends r.BaseException{constructor(e3,t3){super(`Missing data [${e3}, ${t3})`,"MissingDataException"),this.begin=e3,this.end=t3}},t2.ParserEOFException=class ParserEOFException extends r.BaseException{constructor(e3){super(e3,"ParserEOFException")}},t2.XRefEntryException=class XRefEntryException extends r.BaseException{constructor(e3){super(e3,"XRefEntryException")}},t2.XRefParseException=class XRefParseException extends r.BaseException{constructor(e3){super(e3,"XRefParseException")}},t2.DocStats=class{constructor(e3){this._handler=e3,this._streamTypes=new Set,this._fontTypes=new Set}_send(){const e3=Object.create(null),t3=Object.create(null);for(const t4 of this._streamTypes)e3[t4]=!0;for(const e4 of this._fontTypes)t3[e4]=!0;this._handler.send("DocStats",{streamTypes:e3,fontTypes:t3})}addStreamType(e3){this._streamTypes.has(e3)||(this._streamTypes.add(e3),this._send())}addFontType(e3){this._fontTypes.has(e3)||(this._fontTypes.add(e3),this._send())}};const s=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function _collectJS(e3,t3,a3,s2){if(!e3)return;let o2=null;if(e3 instanceof n.Ref){if(s2.has(e3))return;o2=e3,s2.put(o2),e3=t3.fetch(e3)}if(Array.isArray(e3))for(const r2 of e3)_collectJS(r2,t3,a3,s2);else if(e3 instanceof n.Dict){if((0,n.isName)(e3.get("S"),"JavaScript")){const t4=e3.get("JS");let n2;t4 instanceof i.BaseStream?n2=t4.getString():"string"==typeof t4&&(n2=t4),n2=n2&&(0,r.stringToPDFString)(n2).replace(/\u0000/g,""),n2&&a3.push(n2)}_collectJS(e3.getRaw("Next"),t3,a3,s2)}o2&&s2.remove(o2)}const o={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.BaseStream=void 0;var r=a2(2);class BaseStream{constructor(){this.constructor===BaseStream&&(0,r.unreachable)("Cannot initialize BaseStream.")}get length(){(0,r.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,r.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,r.shadow)(this,"isDataLoaded",!0)}getByte(){(0,r.unreachable)("Abstract method `getByte` called")}getBytes(e3){(0,r.unreachable)("Abstract method `getBytes` called")}peekByte(){const e3=this.getByte();return-1!==e3&&this.pos--,e3}peekBytes(e3){const t3=this.getBytes(e3);return this.pos-=t3.length,t3}getUint16(){const e3=this.getByte(),t3=this.getByte();return-1===e3||-1===t3?-1:(e3<<8)+t3}getInt32(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()}getByteRange(e3,t3){(0,r.unreachable)("Abstract method `getByteRange` called")}getString(e3){return(0,r.bytesToString)(this.getBytes(e3))}skip(e3){this.pos+=e3||1}reset(){(0,r.unreachable)("Abstract method `reset` called")}moveStart(){(0,r.unreachable)("Abstract method `moveStart` called")}makeSubStream(e3,t3,a3=null){(0,r.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}t2.BaseStream=BaseStream},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.NetworkPdfManager=t2.LocalPdfManager=void 0;var r=a2(2),n=a2(9),i=a2(6),s=a2(11),o=a2(10);function parseDocBaseUrl(e3){if(e3){const t3=(0,r.createValidAbsoluteUrl)(e3);if(t3)return t3.href;(0,r.warn)(`Invalid absolute docBaseUrl: "${e3}".`)}return null}class BasePdfManager{constructor(){this.constructor===BasePdfManager&&(0,r.unreachable)("Cannot initialize BasePdfManager.")}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return(0,r.shadow)(this,"docBaseUrl",this.pdfDocument.catalog.baseUrl||this._docBaseUrl)}onLoadedStream(){(0,r.unreachable)("Abstract method `onLoadedStream` called")}ensureDoc(e3,t3){return this.ensure(this.pdfDocument,e3,t3)}ensureXRef(e3,t3){return this.ensure(this.pdfDocument.xref,e3,t3)}ensureCatalog(e3,t3){return this.ensure(this.pdfDocument.catalog,e3,t3)}getPage(e3){return this.pdfDocument.getPage(e3)}fontFallback(e3,t3){return this.pdfDocument.fontFallback(e3,t3)}loadXfaFonts(e3,t3){return this.pdfDocument.loadXfaFonts(e3,t3)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(e3){return this.pdfDocument.serializeXfaData(e3)}cleanup(e3=!1){return this.pdfDocument.cleanup(e3)}ensure(e3,t3,a3){return _asyncToGenerator2(function*(){(0,r.unreachable)("Abstract method `ensure` called")})()}requestRange(e3,t3){(0,r.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(){(0,r.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(e3){(0,r.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(e3){this._password=e3}terminate(e3){(0,r.unreachable)("Abstract method `terminate` called")}}t2.LocalPdfManager=class extends BasePdfManager{constructor(e3,t3,a3,r2,n2,i2,c){super(),this._docId=e3,this._password=a3,this._docBaseUrl=parseDocBaseUrl(c),this.msgHandler=r2,this.evaluatorOptions=n2,this.enableXfa=i2;const l=new o.Stream(t3);this.pdfDocument=new s.PDFDocument(this,l),this._loadedStreamPromise=Promise.resolve(l)}ensure(e3,t3,a3){return _asyncToGenerator2(function*(){const r2=e3[t3];return"function"==typeof r2?r2.apply(e3,a3):r2})()}requestRange(e3,t3){return Promise.resolve()}requestLoadedStream(){}onLoadedStream(){return this._loadedStreamPromise}terminate(e3){}},t2.NetworkPdfManager=class extends BasePdfManager{constructor(e3,t3,a3,r2,i2,o2){super(),this._docId=e3,this._password=a3.password,this._docBaseUrl=parseDocBaseUrl(o2),this.msgHandler=a3.msgHandler,this.evaluatorOptions=r2,this.enableXfa=i2,this.streamManager=new n.ChunkedStreamManager(t3,{msgHandler:a3.msgHandler,length:a3.length,disableAutoFetch:a3.disableAutoFetch,rangeChunkSize:a3.rangeChunkSize}),this.pdfDocument=new s.PDFDocument(this,this.streamManager.getStream())}ensure(e3,t3,a3){var _this2=this;return _asyncToGenerator2(function*(){try{const r2=e3[t3];return"function"==typeof r2?r2.apply(e3,a3):r2}catch(r2){if(!(r2 instanceof i.MissingDataException))throw r2;return yield _this2.requestRange(r2.begin,r2.end),_this2.ensure(e3,t3,a3)}})()}requestRange(e3,t3){return this.streamManager.requestRange(e3,t3)}requestLoadedStream(){this.streamManager.requestAllChunks()}sendProgressiveData(e3){this.streamManager.onReceiveData({chunk:e3})}onLoadedStream(){return this.streamManager.onLoadedStream()}terminate(e3){this.streamManager.abort(e3)}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.ChunkedStreamManager=t2.ChunkedStream=void 0;var r=a2(2),n=a2(6),i=a2(10);class ChunkedStream extends i.Stream{constructor(e3,t3,a3){super(new Uint8Array(e3),0,e3,null),this.chunkSize=t3,this._loadedChunks=new Set,this.numChunks=Math.ceil(e3/t3),this.manager=a3,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const e3=[];for(let t3=0,a3=this.numChunks;t3<a3;++t3)this._loadedChunks.has(t3)||e3.push(t3);return e3}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(e3,t3){const a3=this.chunkSize;if(e3%a3!=0)throw new Error(`Bad begin offset: ${e3}`);const r2=e3+t3.byteLength;if(r2%a3!=0&&r2!==this.bytes.length)throw new Error(`Bad end offset: ${r2}`);this.bytes.set(new Uint8Array(t3),e3);const n2=Math.floor(e3/a3),i2=Math.floor((r2-1)/a3)+1;for(let e4=n2;e4<i2;++e4)this._loadedChunks.add(e4)}onReceiveProgressiveData(e3){let t3=this.progressiveDataLength;const a3=Math.floor(t3/this.chunkSize);this.bytes.set(new Uint8Array(e3),t3),t3+=e3.byteLength,this.progressiveDataLength=t3;const r2=t3>=this.end?this.numChunks:Math.floor(t3/this.chunkSize);for(let e4=a3;e4<r2;++e4)this._loadedChunks.add(e4)}ensureByte(e3){if(e3<this.progressiveDataLength)return;const t3=Math.floor(e3/this.chunkSize);if(!(t3>this.numChunks)&&t3!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(t3))throw new n.MissingDataException(e3,e3+1);this.lastSuccessfulEnsureByteChunk=t3}}ensureRange(e3,t3){if(e3>=t3||t3<=this.progressiveDataLength)return;const a3=Math.floor(e3/this.chunkSize);if(a3>this.numChunks)return;const r2=Math.min(Math.floor((t3-1)/this.chunkSize)+1,this.numChunks);for(let i2=a3;i2<r2;++i2)if(!this._loadedChunks.has(i2))throw new n.MissingDataException(e3,t3)}nextEmptyChunk(e3){const t3=this.numChunks;for(let a3=0;a3<t3;++a3){const r2=(e3+a3)%t3;if(!this._loadedChunks.has(r2))return r2}return null}hasChunk(e3){return this._loadedChunks.has(e3)}getByte(){const e3=this.pos;return e3>=this.end?-1:(e3>=this.progressiveDataLength&&this.ensureByte(e3),this.bytes[this.pos++])}getBytes(e3){const t3=this.bytes,a3=this.pos,r2=this.end;if(!e3)return r2>this.progressiveDataLength&&this.ensureRange(a3,r2),t3.subarray(a3,r2);let n2=a3+e3;return n2>r2&&(n2=r2),n2>this.progressiveDataLength&&this.ensureRange(a3,n2),this.pos=n2,t3.subarray(a3,n2)}getByteRange(e3,t3){return e3<0&&(e3=0),t3>this.end&&(t3=this.end),t3>this.progressiveDataLength&&this.ensureRange(e3,t3),this.bytes.subarray(e3,t3)}makeSubStream(e3,t3,a3=null){function ChunkedStreamSubstream(){}t3?e3+t3>this.progressiveDataLength&&this.ensureRange(e3,e3+t3):e3>=this.progressiveDataLength&&this.ensureByte(e3),(ChunkedStreamSubstream.prototype=Object.create(this)).getMissingChunks=function(){const e4=this.chunkSize,t4=Math.floor(this.start/e4),a4=Math.floor((this.end-1)/e4)+1,r3=[];for(let e5=t4;e5<a4;++e5)this._loadedChunks.has(e5)||r3.push(e5);return r3},Object.defineProperty(ChunkedStreamSubstream.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks||0===this.getMissingChunks().length},configurable:!0});const r2=new ChunkedStreamSubstream;return r2.pos=r2.start=e3,r2.end=e3+t3||this.end,r2.dict=a3,r2}getBaseStreams(){return[this]}}t2.ChunkedStream=ChunkedStream,t2.ChunkedStreamManager=class{constructor(e3,t3){this.length=t3.length,this.chunkSize=t3.rangeChunkSize,this.stream=new ChunkedStream(this.length,this.chunkSize,this),this.pdfNetworkStream=e3,this.disableAutoFetch=t3.disableAutoFetch,this.msgHandler=t3.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=(0,r.createPromiseCapability)()}onLoadedStream(){return this._loadedStreamCapability.promise}sendRequest(e3,t3){const a3=this.pdfNetworkStream.getRangeReader(e3,t3);a3.isStreamingSupported||(a3.onProgress=this.onProgress.bind(this));let n2=[],i2=0;return new Promise((e4,t4)=>{const readChunk=s=>{try{if(!s.done){const e5=s.value;return n2.push(e5),i2+=(0,r.arrayByteLength)(e5),a3.isStreamingSupported&&this.onProgress({loaded:i2}),void a3.read().then(readChunk,t4)}const o=(0,r.arraysToBytes)(n2);n2=null,e4(o)}catch(e5){t4(e5)}};a3.read().then(readChunk,t4)}).then(t4=>{this.aborted||this.onReceiveData({chunk:t4,begin:e3})})}requestAllChunks(){const e3=this.stream.getMissingChunks();return this._requestChunks(e3),this._loadedStreamCapability.promise}_requestChunks(e3){const t3=this.currRequestId++,a3=new Set;this._chunksNeededByRequest.set(t3,a3);for(const t4 of e3)this.stream.hasChunk(t4)||a3.add(t4);if(0===a3.size)return Promise.resolve();const n2=(0,r.createPromiseCapability)();this._promisesByRequest.set(t3,n2);const i2=[];for(const e4 of a3){let a4=this._requestsByChunk.get(e4);a4||(a4=[],this._requestsByChunk.set(e4,a4),i2.push(e4)),a4.push(t3)}if(i2.length>0){const e4=this.groupChunks(i2);for(const t4 of e4){const e5=t4.beginChunk*this.chunkSize,a4=Math.min(t4.endChunk*this.chunkSize,this.length);this.sendRequest(e5,a4).catch(n2.reject)}}return n2.promise.catch(e4=>{if(!this.aborted)throw e4})}getStream(){return this.stream}requestRange(e3,t3){t3=Math.min(t3,this.length);const a3=this.getBeginChunk(e3),r2=this.getEndChunk(t3),n2=[];for(let e4=a3;e4<r2;++e4)n2.push(e4);return this._requestChunks(n2)}requestRanges(e3=[]){const t3=[];for(const a3 of e3){const e4=this.getBeginChunk(a3.begin),r2=this.getEndChunk(a3.end);for(let a4=e4;a4<r2;++a4)t3.includes(a4)||t3.push(a4)}return t3.sort(function(e4,t4){return e4-t4}),this._requestChunks(t3)}groupChunks(e3){const t3=[];let a3=-1,r2=-1;for(let n2=0,i2=e3.length;n2<i2;++n2){const i3=e3[n2];a3<0&&(a3=i3),r2>=0&&r2+1!==i3&&(t3.push({beginChunk:a3,endChunk:r2+1}),a3=i3),n2+1===e3.length&&t3.push({beginChunk:a3,endChunk:i3+1}),r2=i3}return t3}onProgress(e3){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+e3.loaded,total:this.length})}onReceiveData(e3){const t3=e3.chunk,a3=void 0===e3.begin,r2=a3?this.progressiveDataLength:e3.begin,n2=r2+t3.byteLength,i2=Math.floor(r2/this.chunkSize),s=n2<this.length?Math.floor(n2/this.chunkSize):Math.ceil(n2/this.chunkSize);a3?(this.stream.onReceiveProgressiveData(t3),this.progressiveDataLength=n2):this.stream.onReceiveData(r2,t3),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const o=[];for(let e4=i2;e4<s;++e4){const t4=this._requestsByChunk.get(e4);if(t4){this._requestsByChunk.delete(e4);for(const a4 of t4){const t5=this._chunksNeededByRequest.get(a4);t5.has(e4)&&t5.delete(e4),t5.size>0||o.push(a4)}}}if(!this.disableAutoFetch&&0===this._requestsByChunk.size){let e4;if(1===this.stream.numChunksLoaded){const t4=this.stream.numChunks-1;this.stream.hasChunk(t4)||(e4=t4)}else e4=this.stream.nextEmptyChunk(s);Number.isInteger(e4)&&this._requestChunks([e4])}for(const e4 of o){const t4=this._promisesByRequest.get(e4);this._promisesByRequest.delete(e4),t4.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(e3){this._loadedStreamCapability.reject(e3)}getBeginChunk(e3){return Math.floor(e3/this.chunkSize)}getEndChunk(e3){return Math.floor((e3-1)/this.chunkSize)+1}abort(e3){this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(e3);for(const t3 of this._promisesByRequest.values())t3.reject(e3)}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.StringStream=t2.Stream=t2.NullStream=void 0;var r=a2(7),n=a2(2);class Stream extends r.BaseStream{constructor(e3,t3,a3,r2){super(),this.bytes=e3 instanceof Uint8Array?e3:new Uint8Array(e3),this.start=t3||0,this.pos=this.start,this.end=t3+a3||this.bytes.length,this.dict=r2}get length(){return this.end-this.start}get isEmpty(){return 0===this.length}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(e3){const t3=this.bytes,a3=this.pos,r2=this.end;if(!e3)return t3.subarray(a3,r2);let n2=a3+e3;return n2>r2&&(n2=r2),this.pos=n2,t3.subarray(a3,n2)}getByteRange(e3,t3){return e3<0&&(e3=0),t3>this.end&&(t3=this.end),this.bytes.subarray(e3,t3)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(e3,t3,a3=null){return new Stream(this.bytes.buffer,e3,t3,a3)}}t2.Stream=Stream,t2.StringStream=class extends Stream{constructor(e3){super((0,n.stringToBytes)(e3))}},t2.NullStream=class extends Stream{constructor(){super(new Uint8Array(0))}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.Page=t2.PDFDocument=void 0;var r=a2(12),n=a2(2),i=a2(6),s=a2(5),o=a2(51),c=a2(7),l=a2(67),h=a2(69),u=a2(71),d=a2(100),f=a2(17),g=a2(10),p=a2(75),m=a2(62),b=a2(15),y=a2(19),w=a2(74),S=a2(65),x=a2(76),k=a2(101);const C=[0,0,612,792];class Page{constructor({pdfManager:e3,xref:t3,pageIndex:a3,pageDict:r2,ref:n2,globalIdFactory:i2,fontCache:s2,builtInCMapCache:o2,standardFontDataCache:c2,globalImageCache:l2,nonBlendModesSet:h2,xfaFactory:u2}){this.pdfManager=e3,this.pageIndex=a3,this.pageDict=r2,this.xref=t3,this.ref=n2,this.fontCache=s2,this.builtInCMapCache=o2,this.standardFontDataCache=c2,this.globalImageCache=l2,this.nonBlendModesSet=h2,this.evaluatorOptions=e3.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=u2;const d2={obj:0};this._localIdFactory=class extends i2{static createObjId(){return`p${a3}_${++d2.obj}`}static getPageObjId(){return`page${n2.toString()}`}}}_getInheritableProperty(e3,t3=!1){const a3=(0,i.getInheritableProperty)({dict:this.pageDict,key:e3,getArray:t3,stopWhenFound:!1});return Array.isArray(a3)?1!==a3.length&&a3[0]instanceof s.Dict?s.Dict.merge({xref:this.xref,dictArray:a3}):a3[0]:a3}get content(){return this.pageDict.getArray("Contents")}get resources(){const e3=this._getInheritableProperty("Resources");return(0,n.shadow)(this,"resources",e3 instanceof s.Dict?e3:s.Dict.empty)}_getBoundingBox(e3){if(this.xfaData)return this.xfaData.bbox;const t3=this._getInheritableProperty(e3,!0);if(Array.isArray(t3)&&4===t3.length){if(t3[2]-t3[0]!=0&&t3[3]-t3[1]!=0)return t3;(0,n.warn)(`Empty /${e3} entry.`)}return null}get mediaBox(){return(0,n.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||C)}get cropBox(){return(0,n.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let e3=this.pageDict.get("UserUnit");return("number"!=typeof e3||e3<=0)&&(e3=1),(0,n.shadow)(this,"userUnit",e3)}get view(){const{cropBox:e3,mediaBox:t3}=this;let a3;if(e3===t3||(0,n.isArrayEqual)(e3,t3))a3=t3;else{const r2=n.Util.intersect(e3,t3);r2&&r2[2]-r2[0]!=0&&r2[3]-r2[1]!=0?a3=r2:(0,n.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,n.shadow)(this,"view",a3||t3)}get rotate(){let e3=this._getInheritableProperty("Rotate")||0;return e3%90!=0?e3=0:e3>=360?e3%=360:e3<0&&(e3=(e3%360+360)%360),(0,n.shadow)(this,"rotate",e3)}_onSubStreamError(e3,t3,a3){if(!this.evaluatorOptions.ignoreErrors)throw t3;e3.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorContentSubStream}),(0,n.warn)(`getContentStream - ignoring sub-stream (${a3}): "${t3}".`)}getContentStream(e3){return this.pdfManager.ensure(this,"content").then(t3=>t3 instanceof c.BaseStream?t3:Array.isArray(t3)?new y.StreamsSequenceStream(t3,this._onSubStreamError.bind(this,e3)):new g.NullStream)}get xfaData(){return(0,n.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}saveNewAnnotations(e3,t3,a3){var _this3=this;return _asyncToGenerator2(function*(){if(_this3.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const n2=new b.PartialEvaluator({xref:_this3.xref,handler:e3,pageIndex:_this3.pageIndex,idFactory:_this3._localIdFactory,fontCache:_this3.fontCache,builtInCMapCache:_this3.builtInCMapCache,standardFontDataCache:_this3.standardFontDataCache,globalImageCache:_this3.globalImageCache,options:_this3.evaluatorOptions}),i2=_this3.pageDict,s2=_this3.annotations.slice(),o2=yield r.AnnotationFactory.saveNewAnnotations(n2,t3,a3);for(const{ref:e4}of o2.annotations)s2.push(e4);const c2=i2.get("Annots");i2.set("Annots",s2);const l2=[];let h2=null;_this3.xref.encrypt&&(h2=_this3.xref.encrypt.createCipherTransform(_this3.ref.num,_this3.ref.gen)),(0,S.writeObject)(_this3.ref,i2,l2,h2),c2&&i2.set("Annots",c2);const u2=o2.dependencies;return u2.push({ref:_this3.ref,data:l2.join("")},...o2.annotations),u2})()}save(e3,t3,a3){const r2=new b.PartialEvaluator({xref:this.xref,handler:e3,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(e4){const i2=[];for(const s2 of e4)s2.mustBePrinted(a3)&&i2.push(s2.save(r2,t3,a3).catch(function(e5){return(0,n.warn)(`save - ignoring annotation data during "${t3.name}" task: "${e5}".`),null}));return Promise.all(i2).then(function(e5){return e5.filter(e6=>!!e6)})})}loadResources(e3){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new p.ObjectLoader(this.resources,e3,this.xref).load())}getOperatorList({handler:e3,sink:t3,task:a3,intent:s2,cacheKey:o2,annotationStorage:c2=null}){const l2=this.getContentStream(e3),h2=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),u2=new b.PartialEvaluator({xref:this.xref,handler:e3,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),d2=this.xfaFactory?null:(0,i.getNewAnnotationsMap)(c2);let f2=Promise.resolve(null);if(d2){const e4=d2.get(this.pageIndex);e4&&(f2=r.AnnotationFactory.printNewAnnotations(u2,a3,e4))}const g2=Promise.all([l2,h2]).then(([r2])=>{const n2=new m.OperatorList(s2,t3);return e3.send("StartRenderPage",{transparency:u2.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:o2}),u2.getOperatorList({stream:r2,task:a3,resources:this.resources,operatorList:n2}).then(function(){return n2})});return Promise.all([g2,this._parsedAnnotations,f2]).then(function([e4,t4,r2]){if(r2&&(t4=t4.concat(r2)),0===t4.length||s2&n.RenderingIntentFlag.ANNOTATIONS_DISABLE)return e4.flush(!0),{length:e4.totalLength};const i2=!!(s2&n.RenderingIntentFlag.ANNOTATIONS_FORMS),o3=!!(s2&n.RenderingIntentFlag.ANY),l3=!!(s2&n.RenderingIntentFlag.DISPLAY),h3=!!(s2&n.RenderingIntentFlag.PRINT),d3=[];for(const e5 of t4)(o3||l3&&e5.mustBeViewed(c2)||h3&&e5.mustBePrinted(c2))&&d3.push(e5.getOperatorList(u2,a3,s2,i2,c2).catch(function(e6){return(0,n.warn)(`getOperatorList - ignoring annotation data during "${a3.name}" task: "${e6}".`),null}));return Promise.all(d3).then(function(t5){let a4=!1,r3=!1;for(const{opList:n2,separateForm:i3,separateCanvas:s3}of t5)e4.addOpList(n2),i3&&(a4=i3),s3&&(r3=s3);return e4.flush(!0,{form:a4,canvas:r3}),{length:e4.totalLength}})})}extractTextContent({handler:e3,task:t3,includeMarkedContent:a3,sink:r2,combineTextItems:n2}){const i2=this.getContentStream(e3),s2=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([i2,s2]).then(([i3])=>new b.PartialEvaluator({xref:this.xref,handler:e3,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}).getTextContent({stream:i3,task:t3,resources:this.resources,includeMarkedContent:a3,combineTextItems:n2,sink:r2,viewBox:this.view}))}getStructTree(){var _this42=this;return _asyncToGenerator2(function*(){const e3=yield _this42.pdfManager.ensureCatalog("structTreeRoot");return e3?(yield _this42.pdfManager.ensure(_this42,"_parseStructTree",[e3])).serializable:null})()}_parseStructTree(e3){const t3=new w.StructTreePage(e3,this.pageDict);return t3.parse(),t3}getAnnotationsData(e3,t3,a3){var _this5=this;return _asyncToGenerator2(function*(){const r2=yield _this5._parsedAnnotations;if(0===r2.length)return[];const i2=[],s2=[];let o2;const c2=!!(a3&n.RenderingIntentFlag.ANY),l2=!!(a3&n.RenderingIntentFlag.DISPLAY),h2=!!(a3&n.RenderingIntentFlag.PRINT);for(const a4 of r2){const r3=c2||l2&&a4.viewable;(r3||h2&&a4.printable)&&s2.push(a4.data),a4.hasTextContent&&r3&&(o2||(o2=new b.PartialEvaluator({xref:_this5.xref,handler:e3,pageIndex:_this5.pageIndex,idFactory:_this5._localIdFactory,fontCache:_this5.fontCache,builtInCMapCache:_this5.builtInCMapCache,standardFontDataCache:_this5.standardFontDataCache,globalImageCache:_this5.globalImageCache,options:_this5.evaluatorOptions})),i2.push(a4.extractTextContent(o2,t3,_this5.view).catch(function(e4){(0,n.warn)(`getAnnotationsData - ignoring textContent during "${t3.name}" task: "${e4}".`)})))}return yield Promise.all(i2),s2})()}get annotations(){const e3=this._getInheritableProperty("Annots");return(0,n.shadow)(this,"annotations",Array.isArray(e3)?e3:[])}get _parsedAnnotations(){const e3=this.pdfManager.ensure(this,"annotations").then(()=>{const e4=[];for(const t3 of this.annotations)e4.push(r.AnnotationFactory.create(this.xref,t3,this.pdfManager,this._localIdFactory,!1).catch(function(e5){return(0,n.warn)(`_parsedAnnotations: "${e5}".`),null}));return Promise.all(e4).then(function(e5){if(0===e5.length)return e5;const t3=[];let a3;for(const n2 of e5)n2&&(n2 instanceof r.PopupAnnotation?(a3||(a3=[]),a3.push(n2)):t3.push(n2));return a3&&t3.push(...a3),t3})});return(0,n.shadow)(this,"_parsedAnnotations",e3)}get jsActions(){const e3=(0,i.collectActions)(this.xref,this.pageDict,n.PageActionEventType);return(0,n.shadow)(this,"jsActions",e3)}}t2.Page=Page;const v=new Uint8Array([37,80,68,70,45]),F=new Uint8Array([115,116,97,114,116,120,114,101,102]),O=new Uint8Array([101,110,100,111,98,106]),T=/^[1-9]\.\d$/;function find(e3,t3,a3=1024,r2=!1){const n2=t3.length,i2=e3.peekBytes(a3),s2=i2.length-n2;if(s2<=0)return!1;if(r2){const a4=n2-1;let r3=i2.length-1;for(;r3>=a4;){let s3=0;for(;s3<n2&&i2[r3-s3]===t3[a4-s3];)s3++;if(s3>=n2)return e3.pos+=r3-a4,!0;r3--}}else{let a4=0;for(;a4<=s2;){let r3=0;for(;r3<n2&&i2[a4+r3]===t3[r3];)r3++;if(r3>=n2)return e3.pos+=a4,!0;a4++}}return!1}t2.PDFDocument=class{constructor(e3,t3){if(t3.length<=0)throw new n.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=e3,this.stream=t3,this.xref=new k.XRef(t3,e3),this._pagePromises=new Map,this._version=null;const a3={font:0};this._globalIdFactory=class{static getDocId(){return`g_${e3.docId}`}static createFontId(){return"f"+ ++a3.font}static createObjId(){(0,n.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,n.unreachable)("Abstract method `getPageObjId` called.")}}}parse(e3){this.xref.parse(e3),this.catalog=new h.Catalog(this.pdfManager,this.xref),this.catalog.version&&(this._version=this.catalog.version)}get linearization(){let e3=null;try{e3=f.Linearization.create(this.stream)}catch(e4){if(e4 instanceof i.MissingDataException)throw e4;(0,n.info)(e4)}return(0,n.shadow)(this,"linearization",e3)}get startXRef(){const e3=this.stream;let t3=0;if(this.linearization)e3.reset(),find(e3,O)&&(t3=e3.pos+6-e3.start);else{const r2=F.length;let n2=!1,s2=e3.end;for(;!n2&&s2>0;)s2-=1024-r2,s2<0&&(s2=0),e3.pos=s2,n2=find(e3,F,1024,!0);if(n2){let a4;e3.skip(9);do{a4=e3.getByte()}while((0,i.isWhiteSpace)(a4));let r3="";for(;a4>=32&&a4<=57;)r3+=String.fromCharCode(a4),a4=e3.getByte();t3=parseInt(r3,10),isNaN(t3)&&(t3=0)}}return(0,n.shadow)(this,"startXRef",t3)}checkHeader(){const e3=this.stream;if(e3.reset(),!find(e3,v))return;e3.moveStart();let t3,a3="";for(;(t3=e3.getByte())>32&&!(a3.length>=12);)a3+=String.fromCharCode(t3);this._version||(this._version=a3.substring(5))}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let e3=0;return e3=this.catalog.hasActualNumPages?this.catalog.numPages:this.xfaFactory?this.xfaFactory.getNumPages():this.linearization?this.linearization.numPages:this.catalog.numPages,(0,n.shadow)(this,"numPages",e3)}_hasOnlyDocumentSignatures(e3,t3=0){return!!Array.isArray(e3)&&e3.every(e4=>{if(!((e4=this.xref.fetchIfRef(e4))instanceof s.Dict))return!1;if(e4.has("Kids"))return++t3>10?((0,n.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(e4.get("Kids"),t3);const a3=(0,s.isName)(e4.get("FT"),"Sig"),r2=e4.get("Rect"),i2=Array.isArray(r2)&&r2.every(e5=>0===e5);return a3&&i2})}get _xfaStreams(){const e3=this.catalog.acroForm;if(!e3)return null;const t3=e3.get("XFA"),a3={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(t3 instanceof c.BaseStream&&!t3.isEmpty)return a3["xdp:xdp"]=t3,a3;if(!Array.isArray(t3)||0===t3.length)return null;for(let e4=0,r2=t3.length;e4<r2;e4+=2){let n2;if(n2=0===e4?"xdp:xdp":e4===r2-2?"/xdp:xdp":t3[e4],!a3.hasOwnProperty(n2))continue;const i2=this.xref.fetchIfRef(t3[e4+1]);i2 instanceof c.BaseStream&&!i2.isEmpty&&(a3[n2]=i2)}return a3}get xfaDatasets(){const e3=this._xfaStreams;if(!e3)return(0,n.shadow)(this,"xfaDatasets",null);for(const t3 of["datasets","xdp:xdp"]){const a3=e3[t3];if(a3)try{const e4={[t3]:(0,n.stringToUTF8String)(a3.getString())};return(0,n.shadow)(this,"xfaDatasets",new d.DatasetReader(e4))}catch{(0,n.warn)("XFA - Invalid utf-8 string.");break}}return(0,n.shadow)(this,"xfaDatasets",null)}get xfaData(){const e3=this._xfaStreams;if(!e3)return null;const t3=Object.create(null);for(const[a3,r2]of Object.entries(e3))if(r2)try{t3[a3]=(0,n.stringToUTF8String)(r2.getString())}catch{return(0,n.warn)("XFA - Invalid utf-8 string."),null}return t3}get xfaFactory(){let e3;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(e3=this.xfaData),(0,n.shadow)(this,"xfaFactory",e3?new x.XFAFactory(e3):null)}get isPureXfa(){return!!this.xfaFactory&&this.xfaFactory.isValid()}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}loadXfaImages(){var _this6=this;return _asyncToGenerator2(function*(){const e3=yield _this6.pdfManager.ensureCatalog("xfaImages");if(!e3)return;const t3=e3.getKeys();yield new p.ObjectLoader(e3,t3,_this6.xref).load();const r2=new Map;for(const a4 of t3){const t4=e3.get(a4);t4 instanceof c.BaseStream&&r2.set(a4,t4.getBytes())}_this6.xfaFactory.setImages(r2)})()}loadXfaFonts(e3,t3){var _this7=this;return _asyncToGenerator2(function*(){const a3=yield _this7.pdfManager.ensureCatalog("acroForm");if(!a3)return;const r2=yield a3.getAsync("DR");if(!(r2 instanceof s.Dict))return;yield new p.ObjectLoader(r2,["Font"],_this7.xref).load();const l2=r2.get("Font");if(!(l2 instanceof s.Dict))return;const h2=Object.assign(Object.create(null),_this7.pdfManager.evaluatorOptions);h2.useSystemFonts=!1;const u2=new b.PartialEvaluator({xref:_this7.xref,handler:e3,pageIndex:-1,idFactory:_this7._globalIdFactory,fontCache:_this7.catalog.fontCache,builtInCMapCache:_this7.catalog.builtInCMapCache,standardFontDataCache:_this7.catalog.standardFontDataCache,options:h2}),d2=new m.OperatorList,f2=[],g2={get font(){return f2.at(-1)},set font(e4){f2.push(e4)},clone(){return this}},y2=new Map;l2.forEach((e4,t4)=>{y2.set(e4,t4)});const w2=[];for(const[e4,a4]of y2){const o2=a4.get("FontDescriptor");if(!(o2 instanceof s.Dict))continue;let c3=o2.get("FontFamily");c3=c3.replace(/[ ]+(\d)/g,"$1");const l3={fontFamily:c3,fontWeight:o2.get("FontWeight"),italicAngle:-o2.get("ItalicAngle")};(0,i.validateCSSFont)(l3)&&w2.push(u2.handleSetFont(r2,[s.Name.get(e4),1],null,d2,t3,g2,null,l3).catch(function(e5){return(0,n.warn)(`loadXfaFonts: "${e5}".`),null}))}yield Promise.all(w2);const S2=_this7.xfaFactory.setFonts(f2);if(!S2)return;h2.ignoreErrors=!0,w2.length=0,f2.length=0;const x2=new Set;for(const e4 of S2)(0,o.getXfaFontName)(`${e4}-Regular`)||x2.add(e4);x2.size&&S2.push("PdfJS-Fallback");for(const e4 of S2)if(!x2.has(e4))for(const a4 of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const i2=`${e4}-${a4.name}`,c3=(0,o.getXfaFontDict)(i2);w2.push(u2.handleSetFont(r2,[s.Name.get(i2),1],null,d2,t3,g2,c3,{fontFamily:e4,fontWeight:a4.fontWeight,italicAngle:a4.italicAngle}).catch(function(e5){return(0,n.warn)(`loadXfaFonts: "${e5}".`),null}))}yield Promise.all(w2),_this7.xfaFactory.appendFonts(f2,x2)})()}serializeXfaData(e3){var _this8=this;return _asyncToGenerator2(function*(){return _this8.xfaFactory?_this8.xfaFactory.serializeData(e3):null})()}get formInfo(){const e3={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},t3=this.catalog.acroForm;if(!t3)return(0,n.shadow)(this,"formInfo",e3);try{const a3=t3.get("Fields"),r2=Array.isArray(a3)&&a3.length>0;e3.hasFields=r2;const n2=t3.get("XFA");e3.hasXfa=Array.isArray(n2)&&n2.length>0||n2 instanceof c.BaseStream&&!n2.isEmpty;const i2=!!(1&t3.get("SigFlags")),s2=i2&&this._hasOnlyDocumentSignatures(a3);e3.hasAcroForm=r2&&!s2,e3.hasSignatures=i2}catch(e4){if(e4 instanceof i.MissingDataException)throw e4;(0,n.warn)(`Cannot fetch form information: "${e4}".`)}return(0,n.shadow)(this,"formInfo",e3)}get documentInfo(){let e3=this._version;("string"!=typeof e3||!T.test(e3))&&((0,n.warn)(`Invalid PDF header version number: ${e3}`),e3=null);const t3={PDFFormatVersion:e3,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let a3;try{a3=this.xref.trailer.get("Info")}catch(e4){if(e4 instanceof i.MissingDataException)throw e4;(0,n.info)("The document information dictionary is invalid.")}if(!(a3 instanceof s.Dict))return(0,n.shadow)(this,"documentInfo",t3);for(const e4 of a3.getKeys()){const r2=a3.get(e4);switch(e4){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if("string"==typeof r2){t3[e4]=(0,n.stringToPDFString)(r2);continue}break;case"Trapped":if(r2 instanceof s.Name){t3[e4]=r2;continue}break;default:let a4;switch(typeof r2){case"string":a4=(0,n.stringToPDFString)(r2);break;case"number":case"boolean":a4=r2;break;default:r2 instanceof s.Name&&(a4=r2)}if(void 0===a4){(0,n.warn)(`Bad value, for custom key "${e4}", in Info: ${r2}.`);continue}t3.Custom||(t3.Custom=Object.create(null)),t3.Custom[e4]=a4;continue}(0,n.warn)(`Bad value, for key "${e4}", in Info: ${r2}.`)}return(0,n.shadow)(this,"documentInfo",t3)}get fingerprints(){function validate(e4){return"string"==typeof e4&&e4.length>0&&"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"!==e4}function hexString(e4){const t4=[];for(let a4=0,r2=e4.length;a4<r2;a4++){const r3=e4[a4].toString(16);t4.push(r3.padStart(2,"0"))}return t4.join("")}const e3=this.xref.trailer.get("ID");let t3,a3;return Array.isArray(e3)&&validate(e3[0])?(t3=(0,n.stringToBytes)(e3[0]),e3[1]!==e3[0]&&validate(e3[1])&&(a3=(0,n.stringToBytes)(e3[1]))):t3=(0,l.calculateMD5)(this.stream.getByteRange(0,1024),0,1024),(0,n.shadow)(this,"fingerprints",[hexString(t3),a3?hexString(a3):null])}_getLinearizationPage(e3){var _this9=this;return _asyncToGenerator2(function*(){const{catalog:t3,linearization:a3,xref:r2}=_this9,i2=s.Ref.get(a3.objectNumberFirst,0);try{const e4=yield r2.fetchAsync(i2);if(e4 instanceof s.Dict){let a4=e4.getRaw("Type");if(a4 instanceof s.Ref&&(a4=yield r2.fetchAsync(a4)),(0,s.isName)(a4,"Page")||!e4.has("Type")&&!e4.has("Kids"))return t3.pageKidsCountCache.has(i2)||t3.pageKidsCountCache.put(i2,1),t3.pageIndexCache.has(i2)||t3.pageIndexCache.put(i2,0),[e4,i2]}throw new n.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(a4){return(0,n.warn)(`_getLinearizationPage: "${a4.message}".`),t3.getPageDict(e3)}})()}getPage(e3){const t3=this._pagePromises.get(e3);if(t3)return t3;const{catalog:a3,linearization:r2,xfaFactory:n2}=this;let i2;return i2=n2?Promise.resolve([s.Dict.empty,null]):r2&&r2.pageFirst===e3?this._getLinearizationPage(e3):a3.getPageDict(e3),i2=i2.then(([t4,r3])=>new Page({pdfManager:this.pdfManager,xref:this.xref,pageIndex:e3,pageDict:t4,ref:r3,globalIdFactory:this._globalIdFactory,fontCache:a3.fontCache,builtInCMapCache:a3.builtInCMapCache,standardFontDataCache:a3.standardFontDataCache,globalImageCache:a3.globalImageCache,nonBlendModesSet:a3.nonBlendModesSet,xfaFactory:n2})),this._pagePromises.set(e3,i2),i2}checkFirstPage(e3=!1){var _this10=this;return _asyncToGenerator2(function*(){if(!e3)try{yield _this10.getPage(0)}catch(e4){if(e4 instanceof i.XRefEntryException)throw _this10._pagePromises.delete(0),yield _this10.cleanup(),new i.XRefParseException}})()}checkLastPage(e3=!1){var _this11=this;return _asyncToGenerator2(function*(){const{catalog:t3,pdfManager:a3}=_this11;let r2;t3.setActualNumPages();try{if(yield Promise.all([a3.ensureDoc("xfaFactory"),a3.ensureDoc("linearization"),a3.ensureCatalog("numPages")]),_this11.xfaFactory)return;if(r2=_this11.linearization?_this11.linearization.numPages:t3.numPages,!Number.isInteger(r2))throw new n.FormatError("Page count is not an integer.");if(r2<=1)return;yield _this11.getPage(r2-1)}catch(s2){if(_this11._pagePromises.delete(r2-1),yield _this11.cleanup(),s2 instanceof i.XRefEntryException&&!e3)throw new i.XRefParseException;let o2;(0,n.warn)(`checkLastPage - invalid /Pages tree /Count: ${r2}.`);try{o2=yield t3.getAllPageDicts(e3)}catch(a4){if(a4 instanceof i.XRefEntryException&&!e3)throw new i.XRefParseException;return void t3.setActualNumPages(1)}for(const[e4,[r3,n2]]of o2){let i2;r3 instanceof Error?(i2=Promise.reject(r3),i2.catch(()=>{})):i2=Promise.resolve(new Page({pdfManager:a3,xref:_this11.xref,pageIndex:e4,pageDict:r3,ref:n2,globalIdFactory:_this11._globalIdFactory,fontCache:t3.fontCache,builtInCMapCache:t3.builtInCMapCache,standardFontDataCache:t3.standardFontDataCache,globalImageCache:t3.globalImageCache,nonBlendModesSet:t3.nonBlendModesSet,xfaFactory:null})),_this11._pagePromises.set(e4,i2)}t3.setActualNumPages(o2.size)}})()}fontFallback(e3,t3){return this.catalog.fontFallback(e3,t3)}cleanup(e3=!1){var _this12=this;return _asyncToGenerator2(function*(){return _this12.catalog?_this12.catalog.cleanup(e3):(0,u.clearGlobalCaches)()})()}_collectFieldObjects(e3,t3,a3){const i2=this.xref.fetchIfRef(t3);if(i2.has("T")){const t4=(0,n.stringToPDFString)(i2.get("T"));e3=""===e3?t4:`${e3}.${t4}`}if(a3.has(e3)||a3.set(e3,[]),a3.get(e3).push(r.AnnotationFactory.create(this.xref,t3,this.pdfManager,this._localIdFactory,!0).then(e4=>e4&&e4.getFieldObject()).catch(function(e4){return(0,n.warn)(`_collectFieldObjects: "${e4}".`),null})),i2.has("Kids")){const t4=i2.get("Kids");for(const r2 of t4)this._collectFieldObjects(e3,r2,a3)}}get fieldObjects(){if(!this.formInfo.hasFields)return(0,n.shadow)(this,"fieldObjects",Promise.resolve(null));const e3=Object.create(null),t3=new Map;for(const e4 of this.catalog.acroForm.get("Fields"))this._collectFieldObjects("",e4,t3);const a3=[];for(const[r2,n2]of t3)a3.push(Promise.all(n2).then(t4=>{(t4=t4.filter(e4=>!!e4)).length>0&&(e3[r2]=t4)}));return(0,n.shadow)(this,"fieldObjects",Promise.all(a3).then(()=>e3))}get hasJSActions(){const e3=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,n.shadow)(this,"hasJSActions",e3)}_parseHasJSActions(){var _this13=this;return _asyncToGenerator2(function*(){const[e3,t3]=yield Promise.all([_this13.pdfManager.ensureCatalog("jsActions"),_this13.pdfManager.ensureDoc("fieldObjects")]);return!!e3||!!t3&&Object.values(t3).some(e4=>e4.some(e5=>null!==e5.actions))})()}get calculationOrderIds(){const e3=this.catalog.acroForm;if(!e3||!e3.has("CO"))return(0,n.shadow)(this,"calculationOrderIds",null);const t3=e3.get("CO");if(!Array.isArray(t3)||0===t3.length)return(0,n.shadow)(this,"calculationOrderIds",null);const a3=[];for(const e4 of t3)e4 instanceof s.Ref&&a3.push(e4.toString());return(0,n.shadow)(this,"calculationOrderIds",0===a3.length?null:a3)}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.PopupAnnotation=t2.MarkupAnnotation=t2.AnnotationFactory=t2.AnnotationBorderStyle=t2.Annotation=void 0,t2.getQuadPoints=getQuadPoints;var r=a2(2),n=a2(6),i=a2(13),s=a2(5),o=a2(65),c=a2(7),l=a2(60),h=a2(69),u=a2(14),d=a2(72),f=a2(75),g=a2(62),p=a2(10),m=a2(76);function getRgbColor(e3,t3=new Uint8ClampedArray(3)){if(!Array.isArray(e3))return t3;const a3=t3||new Uint8ClampedArray(3);switch(e3.length){case 0:return null;case 1:return u.ColorSpace.singletons.gray.getRgbItem(e3,0,a3,0),a3;case 3:return u.ColorSpace.singletons.rgb.getRgbItem(e3,0,a3,0),a3;case 4:return u.ColorSpace.singletons.cmyk.getRgbItem(e3,0,a3,0),a3;default:return t3}}function getQuadPoints(e3,t3){if(!e3.has("QuadPoints"))return null;const a3=e3.getArray("QuadPoints");if(!Array.isArray(a3)||0===a3.length||a3.length%8>0)return null;const r2=[];for(let e4=0,n2=a3.length/8;e4<n2;e4++){r2.push([]);for(let n3=8*e4,i2=8*e4+8;n3<i2;n3+=2){const i3=a3[n3],s2=a3[n3+1];if(null!==t3&&(i3<t3[0]||i3>t3[2]||s2<t3[1]||s2>t3[3]))return null;r2[e4].push({x:i3,y:s2})}}return r2.map(e4=>{const[t4,a4,r3,n2]=e4.reduce(([e5,t5,a5,r4],n3)=>[Math.min(e5,n3.x),Math.max(t5,n3.x),Math.min(a5,n3.y),Math.max(r4,n3.y)],[Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE]);return[{x:t4,y:n2},{x:a4,y:n2},{x:t4,y:r3},{x:a4,y:r3}]})}function getTransformMatrix(e3,t3,a3){const[n2,i2,s2,o2]=r.Util.getAxialAlignedBoundingBox(t3,a3);if(n2===s2||i2===o2)return[1,0,0,1,e3[0],e3[1]];const c2=(e3[2]-e3[0])/(s2-n2),l2=(e3[3]-e3[1])/(o2-i2);return[c2,0,0,l2,e3[0]-n2*c2,e3[1]-i2*l2]}t2.AnnotationFactory=class{static create(e3,t3,a3,r2,n2){return Promise.all([a3.ensureCatalog("acroForm"),a3.ensureCatalog("baseUrl"),a3.ensureDoc("xfaDatasets"),n2?this._getPageIndex(e3,t3,a3):-1]).then(([i2,s2,o2,c2])=>a3.ensure(this,"_create",[e3,t3,a3,r2,i2,o2,n2,c2]))}static _create(e3,t3,a3,i2,o2,c2,l2,h2=-1){const u2=e3.fetchIfRef(t3);if(!(u2 instanceof s.Dict))return;const d2=t3 instanceof s.Ref?t3.toString():`annot_${i2.createObjId()}`;let f2=u2.get("Subtype");f2=f2 instanceof s.Name?f2.name:null;const g2={xref:e3,ref:t3,dict:u2,subtype:f2,id:d2,pdfManager:a3,acroForm:o2 instanceof s.Dict?o2:s.Dict.empty,xfaDatasets:c2,collectFields:l2,pageIndex:h2};switch(f2){case"Link":return new LinkAnnotation(g2);case"Text":return new TextAnnotation(g2);case"Widget":let e4=(0,n.getInheritableProperty)({dict:u2,key:"FT"});switch(e4=e4 instanceof s.Name?e4.name:null,e4){case"Tx":return new TextWidgetAnnotation(g2);case"Btn":return new ButtonWidgetAnnotation(g2);case"Ch":return new ChoiceWidgetAnnotation(g2);case"Sig":return new SignatureWidgetAnnotation(g2)}return(0,r.warn)(`Unimplemented widget field type "${e4}", falling back to base field type.`),new WidgetAnnotation(g2);case"Popup":return new PopupAnnotation(g2);case"FreeText":return new FreeTextAnnotation(g2);case"Line":return new LineAnnotation(g2);case"Square":return new SquareAnnotation(g2);case"Circle":return new CircleAnnotation(g2);case"PolyLine":return new PolylineAnnotation(g2);case"Polygon":return new PolygonAnnotation(g2);case"Caret":return new CaretAnnotation(g2);case"Ink":return new InkAnnotation(g2);case"Highlight":return new HighlightAnnotation(g2);case"Underline":return new UnderlineAnnotation(g2);case"Squiggly":return new SquigglyAnnotation(g2);case"StrikeOut":return new StrikeOutAnnotation(g2);case"Stamp":return new StampAnnotation(g2);case"FileAttachment":return new FileAttachmentAnnotation(g2);default:return l2||(0,r.warn)(f2?`Unimplemented annotation type "${f2}", falling back to base annotation.`:"Annotation is missing the required /Subtype."),new Annotation(g2)}}static _getPageIndex(e3,t3,a3){return _asyncToGenerator2(function*(){try{const r2=yield e3.fetchIfRefAsync(t3);if(!(r2 instanceof s.Dict))return-1;const n2=r2.getRaw("P");return n2 instanceof s.Ref?yield a3.ensureCatalog("getPageIndex",[n2]):-1}catch(e4){return(0,r.warn)(`_getPageIndex: "${e4}".`),-1}})()}static saveNewAnnotations(e3,t3,a3){return _asyncToGenerator2(function*(){const n2=e3.xref;let i2;const c2=[],l2=[];for(const h2 of a3)switch(h2.annotationType){case r.AnnotationEditorType.FREETEXT:if(!i2){const e4=new s.Dict(n2);e4.set("BaseFont",s.Name.get("Helvetica")),e4.set("Type",s.Name.get("Font")),e4.set("Subtype",s.Name.get("Type1")),e4.set("Encoding",s.Name.get("WinAnsiEncoding"));const t4=[];i2=n2.getNewRef(),(0,o.writeObject)(i2,e4,t4,null),c2.push({ref:i2,data:t4.join("")})}l2.push(FreeTextAnnotation.createNewAnnotation(n2,h2,c2,{evaluator:e3,task:t3,baseFontRef:i2}));break;case r.AnnotationEditorType.INK:l2.push(InkAnnotation.createNewAnnotation(n2,h2,c2))}return{annotations:yield Promise.all(l2),dependencies:c2}})()}static printNewAnnotations(e3,t3,a3){return _asyncToGenerator2(function*(){if(!a3)return null;const n2=e3.xref,i2=[];for(const s2 of a3)switch(s2.annotationType){case r.AnnotationEditorType.FREETEXT:i2.push(FreeTextAnnotation.createNewPrintAnnotation(n2,s2,{evaluator:e3,task:t3}));break;case r.AnnotationEditorType.INK:i2.push(InkAnnotation.createNewPrintAnnotation(n2,s2))}return Promise.all(i2)})()}};class Annotation{constructor(e3){const t3=e3.dict;this.setTitle(t3.get("T")),this.setContents(t3.get("Contents")),this.setModificationDate(t3.get("M")),this.setFlags(t3.get("F")),this.setRectangle(t3.getArray("Rect")),this.setColor(t3.getArray("C")),this.setBorderStyle(t3),this.setAppearance(t3),this.setOptionalContent(t3);const a3=t3.get("MK");if(this.setBorderAndBackgroundColors(a3),this.setRotation(a3),this._streams=[],this.appearance&&this._streams.push(this.appearance),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:e3.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:e3.subtype,hasOwnCanvas:!1},e3.collectFields){const a4=t3.get("Kids");if(Array.isArray(a4)){const e4=[];for(const t4 of a4)t4 instanceof s.Ref&&e4.push(t4.toString());0!==e4.length&&(this.data.kidIds=e4)}this.data.actions=(0,n.collectActions)(e3.xref,t3,r.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(t3),this.data.pageIndex=e3.pageIndex}this._fallbackFontDict=null}_hasFlag(e3,t3){return!!(e3&t3)}_isViewable(e3){return!this._hasFlag(e3,r.AnnotationFlag.INVISIBLE)&&!this._hasFlag(e3,r.AnnotationFlag.NOVIEW)}_isPrintable(e3){return this._hasFlag(e3,r.AnnotationFlag.PRINT)&&!this._hasFlag(e3,r.AnnotationFlag.INVISIBLE)}mustBeViewed(e3){const t3=e3&&e3.get(this.data.id);return t3&&void 0!==t3.hidden?!t3.hidden:this.viewable&&!this._hasFlag(this.flags,r.AnnotationFlag.HIDDEN)}mustBePrinted(e3){const t3=e3&&e3.get(this.data.id);return t3&&void 0!==t3.print?t3.print:this.printable}get viewable(){return null!==this.data.quadPoints&&(0===this.flags||this._isViewable(this.flags))}get printable(){return null!==this.data.quadPoints&&0!==this.flags&&this._isPrintable(this.flags)}_parseStringHelper(e3){const t3="string"==typeof e3?(0,r.stringToPDFString)(e3):"";return{str:t3,dir:t3&&"rtl"===(0,l.bidi)(t3).dir?"rtl":"ltr"}}setTitle(e3){this._title=this._parseStringHelper(e3)}setContents(e3){this._contents=this._parseStringHelper(e3)}setModificationDate(e3){this.modificationDate="string"==typeof e3?e3:null}setFlags(e3){this.flags=Number.isInteger(e3)&&e3>0?e3:0}hasFlag(e3){return this._hasFlag(this.flags,e3)}setRectangle(e3){this.rectangle=Array.isArray(e3)&&4===e3.length?r.Util.normalizeRect(e3):[0,0,0,0]}setColor(e3){this.color=getRgbColor(e3)}setLineEndings(e3){if(this.lineEndings=["None","None"],Array.isArray(e3)&&2===e3.length)for(let t3=0;t3<2;t3++){const a3=e3[t3];if(a3 instanceof s.Name)switch(a3.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[t3]=a3.name;continue}(0,r.warn)(`Ignoring invalid lineEnding: ${a3}`)}}setRotation(e3){if(this.rotation=0,e3 instanceof s.Dict){let t3=e3.get("R")||0;Number.isInteger(t3)&&0!==t3&&(t3%=360,t3<0&&(t3+=360),t3%90==0&&(this.rotation=t3))}}setBorderAndBackgroundColors(e3){e3 instanceof s.Dict?(this.borderColor=getRgbColor(e3.getArray("BC"),null),this.backgroundColor=getRgbColor(e3.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(e3){if(this.borderStyle=new AnnotationBorderStyle,e3 instanceof s.Dict)if(e3.has("BS")){const t3=e3.get("BS"),a3=t3.get("Type");(!a3||(0,s.isName)(a3,"Border"))&&(this.borderStyle.setWidth(t3.get("W"),this.rectangle),this.borderStyle.setStyle(t3.get("S")),this.borderStyle.setDashArray(t3.getArray("D")))}else if(e3.has("Border")){const t3=e3.getArray("Border");Array.isArray(t3)&&t3.length>=3&&(this.borderStyle.setHorizontalCornerRadius(t3[0]),this.borderStyle.setVerticalCornerRadius(t3[1]),this.borderStyle.setWidth(t3[2],this.rectangle),4===t3.length&&this.borderStyle.setDashArray(t3[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(e3){this.appearance=null;const t3=e3.get("AP");if(!(t3 instanceof s.Dict))return;const a3=t3.get("N");if(a3 instanceof c.BaseStream)return void(this.appearance=a3);if(!(a3 instanceof s.Dict))return;const r2=e3.get("AS");r2 instanceof s.Name&&a3.has(r2.name)&&(this.appearance=a3.get(r2.name))}setOptionalContent(e3){this.oc=null;const t3=e3.get("OC");t3 instanceof s.Name?(0,r.warn)("setOptionalContent: Support for /Name-entry is not implemented."):t3 instanceof s.Dict&&(this.oc=t3)}loadResources(e3,t3){return t3.dict.getAsync("Resources").then(t4=>{if(t4)return new f.ObjectLoader(t4,e3,t4.xref).load().then(function(){return t4})})}getOperatorList(e3,t3,a3,n2,i2){var _this14=this;return _asyncToGenerator2(function*(){const o2=_this14.data;let c2=_this14.appearance;const l2=!!(_this14.data.hasOwnCanvas&&a3&r.RenderingIntentFlag.DISPLAY);if(!c2){if(!l2)return{opList:new g.OperatorList,separateForm:!1,separateCanvas:!1};c2=new p.StringStream(""),c2.dict=new s.Dict}const h2=c2.dict,u2=yield _this14.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],c2),d2=h2.getArray("BBox")||[0,0,1,1],f2=h2.getArray("Matrix")||[1,0,0,1,0,0],m2=getTransformMatrix(o2.rect,d2,f2),b=new g.OperatorList;let y;return _this14.oc&&(y=yield e3.parseMarkedContentProps(_this14.oc,null)),void 0!==y&&b.addOp(r.OPS.beginMarkedContentProps,["OC",y]),b.addOp(r.OPS.beginAnnotation,[o2.id,o2.rect,m2,f2,l2]),yield e3.getOperatorList({stream:c2,task:t3,resources:u2,operatorList:b,fallbackFontDict:_this14._fallbackFontDict}),b.addOp(r.OPS.endAnnotation,[]),void 0!==y&&b.addOp(r.OPS.endMarkedContent,[]),_this14.reset(),{opList:b,separateForm:!1,separateCanvas:l2}})()}save(e3,t3,a3){return _asyncToGenerator2(function*(){return null})()}get hasTextContent(){return!1}extractTextContent(e3,t3,a3){var _this15=this;return _asyncToGenerator2(function*(){if(!_this15.appearance)return;const r2=yield _this15.loadResources(["ExtGState","Font","Properties","XObject"],_this15.appearance),n2=[],i2=[],s2={desiredSize:Math.Infinity,ready:!0,enqueue(e4,t4){for(const t5 of e4.items)i2.push(t5.str),t5.hasEOL&&(n2.push(i2.join("")),i2.length=0)}};yield e3.getTextContent({stream:_this15.appearance,task:t3,resources:r2,includeMarkedContent:!0,combineTextItems:!0,sink:s2,viewBox:a3}),_this15.reset(),i2.length&&n2.push(i2.join("")),n2.length>0&&(_this15.data.textContent=n2)})()}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const e3 of this._streams)e3.reset()}_constructFieldName(e3){if(!e3.has("T")&&!e3.has("Parent"))return(0,r.warn)("Unknown field name, falling back to empty field name."),"";if(!e3.has("Parent"))return(0,r.stringToPDFString)(e3.get("T"));const t3=[];e3.has("T")&&t3.unshift((0,r.stringToPDFString)(e3.get("T")));let a3=e3;const n2=new s.RefSet;for(e3.objId&&n2.put(e3.objId);a3.has("Parent")&&(a3=a3.get("Parent"),a3 instanceof s.Dict&&(!a3.objId||!n2.has(a3.objId)));)a3.objId&&n2.put(a3.objId),a3.has("T")&&t3.unshift((0,r.stringToPDFString)(a3.get("T")));return t3.join(".")}}t2.Annotation=Annotation;class AnnotationBorderStyle{constructor(){this.width=1,this.style=r.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(e3,t3=[0,0,0,0]){if(e3 instanceof s.Name)this.width=0;else if("number"==typeof e3){if(e3>0){const a3=(t3[2]-t3[0])/2,n2=(t3[3]-t3[1])/2;a3>0&&n2>0&&(e3>a3||e3>n2)&&((0,r.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${e3}`),e3=1)}this.width=e3}}setStyle(e3){if(e3 instanceof s.Name)switch(e3.name){case"S":this.style=r.AnnotationBorderStyleType.SOLID;break;case"D":this.style=r.AnnotationBorderStyleType.DASHED;break;case"B":this.style=r.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=r.AnnotationBorderStyleType.INSET;break;case"U":this.style=r.AnnotationBorderStyleType.UNDERLINE}}setDashArray(e3,t3=!1){if(Array.isArray(e3)&&e3.length>0){let a3=!0,r2=!0;for(const t4 of e3){if(!(+t4>=0)){a3=!1;break}t4>0&&(r2=!1)}a3&&!r2?(this.dashArray=e3,t3&&this.setStyle(s.Name.get("D"))):this.width=0}else e3&&(this.width=0)}setHorizontalCornerRadius(e3){Number.isInteger(e3)&&(this.horizontalCornerRadius=e3)}setVerticalCornerRadius(e3){Number.isInteger(e3)&&(this.verticalCornerRadius=e3)}}t2.AnnotationBorderStyle=AnnotationBorderStyle;class MarkupAnnotation extends Annotation{constructor(e3){super(e3);const t3=e3.dict;if(t3.has("IRT")){const e4=t3.getRaw("IRT");this.data.inReplyTo=e4 instanceof s.Ref?e4.toString():null;const a3=t3.get("RT");this.data.replyType=a3 instanceof s.Name?a3.name:r.AnnotationReplyType.REPLY}if(this.data.replyType===r.AnnotationReplyType.GROUP){const e4=t3.get("IRT");this.setTitle(e4.get("T")),this.data.titleObj=this._title,this.setContents(e4.get("Contents")),this.data.contentsObj=this._contents,e4.has("CreationDate")?(this.setCreationDate(e4.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,e4.has("M")?(this.setModificationDate(e4.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,this.data.hasPopup=e4.has("Popup"),e4.has("C")?(this.setColor(e4.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(t3.get("CreationDate")),this.data.creationDate=this.creationDate,this.data.hasPopup=t3.has("Popup"),t3.has("C")||(this.data.color=null);t3.has("RC")&&(this.data.richText=m.XFAFactory.getRichTextAsHtml(t3.get("RC")))}setCreationDate(e3){this.creationDate="string"==typeof e3?e3:null}_setDefaultAppearance({xref:e3,extra:t3,strokeColor:a3,fillColor:r2,blendMode:n2,strokeAlpha:i2,fillAlpha:o2,pointsCallback:c2}){let l2=Number.MAX_VALUE,h2=Number.MAX_VALUE,u2=Number.MIN_VALUE,d2=Number.MIN_VALUE;const f2=["q"];t3&&f2.push(t3),a3&&f2.push(`${a3[0]} ${a3[1]} ${a3[2]} RG`),r2&&f2.push(`${r2[0]} ${r2[1]} ${r2[2]} rg`);let g2=this.data.quadPoints;g2||(g2=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const e4 of g2){const[t4,a4,r3,n3]=c2(f2,e4);l2=Math.min(l2,t4),u2=Math.max(u2,a4),h2=Math.min(h2,r3),d2=Math.max(d2,n3)}f2.push("Q");const m2=new s.Dict(e3),b=new s.Dict(e3);b.set("Subtype",s.Name.get("Form"));const y=new p.StringStream(f2.join(" "));y.dict=b,m2.set("Fm0",y);const w=new s.Dict(e3);n2&&w.set("BM",s.Name.get(n2)),"number"==typeof i2&&w.set("CA",i2),"number"==typeof o2&&w.set("ca",o2);const S=new s.Dict(e3);S.set("GS0",w);const x=new s.Dict(e3);x.set("ExtGState",S),x.set("XObject",m2);const k=new s.Dict(e3);k.set("Resources",x);const C=this.data.rect=[l2,h2,u2,d2];k.set("BBox",C),this.appearance=new p.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=k,this._streams.push(this.appearance,y)}static createNewAnnotation(e3,t3,a3,r2){var _this16=this;return _asyncToGenerator2(function*(){const n2=e3.getNewRef(),i2=e3.getNewRef(),s2=_this16.createNewDict(t3,e3,{apRef:i2}),c2=yield _this16.createNewAppearanceStream(t3,e3,r2),l2=[];let h2=e3.encrypt?e3.encrypt.createCipherTransform(i2.num,i2.gen):null;return(0,o.writeObject)(i2,c2,l2,h2),a3.push({ref:i2,data:l2.join("")}),l2.length=0,h2=e3.encrypt?e3.encrypt.createCipherTransform(n2.num,n2.gen):null,(0,o.writeObject)(n2,s2,l2,h2),{ref:n2,data:l2.join("")}})()}static createNewPrintAnnotation(e3,t3,a3){var _this17=this;return _asyncToGenerator2(function*(){const r2=yield _this17.createNewAppearanceStream(t3,e3,a3),n2=_this17.createNewDict(t3,e3,{ap:r2});return new _this17.prototype.constructor({dict:n2,xref:e3})})()}}t2.MarkupAnnotation=MarkupAnnotation;class WidgetAnnotation extends Annotation{constructor(e3){super(e3);const t3=e3.dict,a3=this.data;this.ref=e3.ref,a3.annotationType=r.AnnotationType.WIDGET,void 0===a3.fieldName&&(a3.fieldName=this._constructFieldName(t3)),void 0===a3.actions&&(a3.actions=(0,n.collectActions)(e3.xref,t3,r.AnnotationActionEventType));let o2=(0,n.getInheritableProperty)({dict:t3,key:"V",getArray:!0});a3.fieldValue=this._decodeFormValue(o2);const c2=(0,n.getInheritableProperty)({dict:t3,key:"DV",getArray:!0});if(a3.defaultFieldValue=this._decodeFormValue(c2),void 0===o2&&e3.xfaDatasets){const t4=this._title.str;t4&&(this._hasValueFromXFA=!0,a3.fieldValue=o2=e3.xfaDatasets.getValue(t4))}void 0===o2&&null!==a3.defaultFieldValue&&(a3.fieldValue=a3.defaultFieldValue),a3.alternativeText=(0,r.stringToPDFString)(t3.get("TU")||"");const l2=(0,n.getInheritableProperty)({dict:t3,key:"DA"})||e3.acroForm.get("DA");this._defaultAppearance="string"==typeof l2?l2:"",a3.defaultAppearanceData=(0,i.parseDefaultAppearance)(this._defaultAppearance);const h2=(0,n.getInheritableProperty)({dict:t3,key:"FT"});a3.fieldType=h2 instanceof s.Name?h2.name:null;const u2=(0,n.getInheritableProperty)({dict:t3,key:"DR"}),d2=e3.acroForm.get("DR"),f2=this.appearance&&this.appearance.dict.get("Resources");this._fieldResources={localResources:u2,acroFormResources:d2,appearanceResources:f2,mergedResources:s.Dict.merge({xref:e3.xref,dictArray:[u2,f2,d2],mergeSubDicts:!0})},a3.fieldFlags=(0,n.getInheritableProperty)({dict:t3,key:"Ff"}),(!Number.isInteger(a3.fieldFlags)||a3.fieldFlags<0)&&(a3.fieldFlags=0),a3.readOnly=this.hasFieldFlag(r.AnnotationFieldFlag.READONLY),a3.required=this.hasFieldFlag(r.AnnotationFieldFlag.REQUIRED),a3.hidden=this._hasFlag(a3.annotationFlags,r.AnnotationFlag.HIDDEN)}_decodeFormValue(e3){return Array.isArray(e3)?e3.filter(e4=>"string"==typeof e4).map(e4=>(0,r.stringToPDFString)(e4)):e3 instanceof s.Name?(0,r.stringToPDFString)(e3.name):"string"==typeof e3?(0,r.stringToPDFString)(e3):null}hasFieldFlag(e3){return!!(this.data.fieldFlags&e3)}static _getRotationMatrix(e3,t3,a3){switch(e3){case 90:return[0,1,-1,0,t3,0];case 180:return[-1,0,0,-1,t3,a3];case 270:return[0,-1,1,0,0,a3];default:throw new Error("Invalid rotation")}}getRotationMatrix(e3){const t3=e3?e3.get(this.data.id):void 0;let a3=t3&&t3.rotation;return void 0===a3&&(a3=this.rotation),0===a3?r.IDENTITY_MATRIX:WidgetAnnotation._getRotationMatrix(a3,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1])}getBorderAndBackgroundAppearances(e3){const t3=e3?e3.get(this.data.id):void 0;let a3=t3&&t3.rotation;if(void 0===a3&&(a3=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const r2=this.data.rect[2]-this.data.rect[0],n2=this.data.rect[3]-this.data.rect[1],s2=0===a3||180===a3?`0 0 ${r2} ${n2} re`:`0 0 ${n2} ${r2} re`;let o2="";return this.backgroundColor&&(o2=`${(0,i.getPdfColor)(this.backgroundColor,!0)} ${s2} f `),this.borderColor&&(o2+=`${this.borderStyle.width||1} w ${(0,i.getPdfColor)(this.borderColor,!1)} ${s2} S `),o2}getOperatorList(e3,t3,a3,n2,i2){var _superprop_getGetOperatorList=()=>super.getOperatorList,_this18=this;return _asyncToGenerator2(function*(){if(n2&&!(_this18 instanceof SignatureWidgetAnnotation))return{opList:new g.OperatorList,separateForm:!0,separateCanvas:!1};if(!_this18._hasText)return _superprop_getGetOperatorList().call(_this18,e3,t3,a3,n2,i2);const s2=yield _this18._getAppearance(e3,t3,i2);if(_this18.appearance&&null===s2)return _superprop_getGetOperatorList().call(_this18,e3,t3,a3,n2,i2);const o2=new g.OperatorList;if(!_this18._defaultAppearance||null===s2)return{opList:o2,separateForm:!1,separateCanvas:!1};const l2=getTransformMatrix(_this18.data.rect,[0,0,_this18.data.rect[2]-_this18.data.rect[0],_this18.data.rect[3]-_this18.data.rect[1]],[1,0,0,1,0,0]);let h2;_this18.oc&&(h2=yield e3.parseMarkedContentProps(_this18.oc,null)),void 0!==h2&&o2.addOp(r.OPS.beginMarkedContentProps,["OC",h2]),o2.addOp(r.OPS.beginAnnotation,[_this18.data.id,_this18.data.rect,l2,_this18.getRotationMatrix(i2),!1]);const u2=new p.StringStream(s2);return yield e3.getOperatorList({stream:u2,task:t3,resources:_this18._fieldResources.mergedResources,operatorList:o2}),o2.addOp(r.OPS.endAnnotation,[]),void 0!==h2&&o2.addOp(r.OPS.endMarkedContent,[]),{opList:o2,separateForm:!1,separateCanvas:!1}})()}_getMKDict(e3){const t3=new s.Dict(null);return e3&&t3.set("R",e3),this.borderColor&&t3.set("BC",Array.from(this.borderColor).map(e4=>e4/255)),this.backgroundColor&&t3.set("BG",Array.from(this.backgroundColor).map(e4=>e4/255)),t3.size>0?t3:null}save(e3,t3,a3){var _this19=this;return _asyncToGenerator2(function*(){const n2=a3?a3.get(_this19.data.id):void 0;let i2=n2&&n2.value,c2=n2&&n2.rotation;if(i2===_this19.data.fieldValue||void 0===i2){if(!_this19._hasValueFromXFA&&void 0===c2)return null;i2=i2||_this19.data.fieldValue}if(void 0===c2&&!_this19._hasValueFromXFA&&Array.isArray(i2)&&Array.isArray(_this19.data.fieldValue)&&i2.length===_this19.data.fieldValue.length&&i2.every((e4,t4)=>e4===_this19.data.fieldValue[t4]))return null;void 0===c2&&(c2=_this19.rotation);let l2=yield _this19._getAppearance(e3,t3,a3);if(null===l2)return null;const{xref:h2}=e3,u2=h2.fetchIfRef(_this19.ref);if(!(u2 instanceof s.Dict))return null;const d2=[0,0,_this19.data.rect[2]-_this19.data.rect[0],_this19.data.rect[3]-_this19.data.rect[1]],f2={path:(0,r.stringToPDFString)(u2.get("T")||""),value:i2},g2=h2.getNewRef(),p2=new s.Dict(h2);p2.set("N",g2);const m2=h2.encrypt;let b=null,y=null;m2&&(b=m2.createCipherTransform(_this19.ref.num,_this19.ref.gen),y=m2.createCipherTransform(g2.num,g2.gen),l2=y.encryptString(l2));const encoder=e4=>(0,r.isAscii)(e4)?e4:(0,r.stringToUTF16BEString)(e4);u2.set("V",Array.isArray(i2)?i2.map(encoder):encoder(i2)),u2.set("AP",p2),u2.set("M",`D:${(0,r.getModificationDate)()}`);const w=_this19._getMKDict(c2);w&&u2.set("MK",w);const S=new s.Dict(h2);S.set("Length",l2.length),S.set("Subtype",s.Name.get("Form")),S.set("Resources",_this19._getSaveFieldResources(h2)),S.set("BBox",d2);const x=_this19.getRotationMatrix(a3);x!==r.IDENTITY_MATRIX&&S.set("Matrix",x);const k=[`${_this19.ref.num} ${_this19.ref.gen} obj\n`];(0,o.writeDict)(u2,k,b),k.push("\nendobj\n");const C=[`${g2.num} ${g2.gen} obj\n`];return(0,o.writeDict)(S,C,y),C.push(" stream\n",l2,"\nendstream\nendobj\n"),[{ref:_this19.ref,data:k.join(""),xfa:f2},{ref:g2,data:C.join(""),xfa:null}]})()}_getAppearance(e3,t3,a3){var _this20=this;return _asyncToGenerator2(function*(){if(_this20.hasFieldFlag(r.AnnotationFieldFlag.PASSWORD))return null;const n2=a3?a3.get(_this20.data.id):void 0;let s2,o2;if(n2&&(s2=n2.formattedValue||n2.value,o2=n2.rotation),void 0===o2&&void 0===s2&&(!_this20._hasValueFromXFA||_this20.appearance))return null;if(void 0===s2&&(s2=_this20.data.fieldValue,!s2)||(Array.isArray(s2)&&1===s2.length&&(s2=s2[0]),(0,r.assert)("string"==typeof s2,"Expected `value` to be a string."),s2=s2.trim(),""===s2))return"";void 0===o2&&(o2=_this20.rotation);let c2=-1;_this20.data.multiLine&&(c2=s2.split(/\r\n|\r|\n/).length);let l2=_this20.data.rect[3]-_this20.data.rect[1],h2=_this20.data.rect[2]-_this20.data.rect[0];90!==o2&&270!==o2||([h2,l2]=[l2,h2]),_this20._defaultAppearance||(_this20.data.defaultAppearanceData=(0,i.parseDefaultAppearance)(_this20._defaultAppearance="/Helvetica 0 Tf 0 g"));const u2=yield WidgetAnnotation._getFontData(e3,t3,_this20.data.defaultAppearanceData,_this20._fieldResources.mergedResources),[d2,f2]=_this20._computeFontSize(l2-2,h2-4,s2,u2,c2);let g2=u2.descent;isNaN(g2)&&(g2=0);const p2=Math.min(Math.floor((l2-f2)/2),2)+Math.abs(g2)*f2,m2=_this20.data.textAlignment;if(_this20.data.multiLine)return _this20._getMultilineAppearance(d2,s2,u2,f2,h2,l2,m2,2,p2,a3);const b=u2.encodeString(s2).join("");if(_this20.data.comb)return _this20._getCombAppearance(d2,u2,b,h2,2,p2,a3);const y=_this20.getBorderAndBackgroundAppearances(a3);return 0===m2||m2>2?`/Tx BMC q ${y}BT `+d2+` 1 0 0 1 2 ${p2} Tm (${(0,r.escapeString)(b)}) Tj ET Q EMC`:`/Tx BMC q ${y}BT `+d2+` 1 0 0 1 0 0 Tm ${_this20._renderText(b,u2,f2,h2,m2,2,p2)} ET Q EMC`})()}static _getFontData(e3,t3,a3,r2){return _asyncToGenerator2(function*(){const n2=new g.OperatorList,i2={font:null,clone(){return this}},{fontName:o2,fontSize:c2}=a3;return yield e3.handleSetFont(r2,[o2&&s.Name.get(o2),c2],null,n2,t3,i2,null),i2.font})()}_getTextWidth(e3,t3){return t3.charsToGlyphs(e3).reduce((e4,t4)=>e4+t4.width,0)/1e3}_computeFontSize(e3,t3,a3,n2,s2){let{fontSize:o2}=this.data.defaultAppearanceData;if(!o2){const roundWithTwoDigits=e4=>Math.floor(100*e4)/100;if(-1===s2){const i2=this._getTextWidth(a3,n2);o2=roundWithTwoDigits(Math.min(e3/r.LINE_FACTOR,t3/i2))}else{const i2=a3.split(/\r\n?|\n/),c3=[];for(const e4 of i2){const t4=n2.encodeString(e4).join(""),a4=n2.charsToGlyphs(t4),r2=n2.getCharPositions(t4);c3.push({line:t4,glyphs:a4,positions:r2})}const isTooBig=a4=>{let r2=0;for(const i3 of c3)if(r2+=this._splitLine(null,n2,a4,t3,i3).length*a4,r2>e3)return!0;return!1};o2=12;let l3=o2*r.LINE_FACTOR,h2=Math.round(e3/l3);for(h2=Math.max(h2,s2);l3=e3/h2,o2=roundWithTwoDigits(l3/r.LINE_FACTOR),isTooBig(o2);)h2++}const{fontName:c2,fontColor:l2}=this.data.defaultAppearanceData;this._defaultAppearance=(0,i.createDefaultAppearance)({fontSize:o2,fontName:c2,fontColor:l2})}return[this._defaultAppearance,o2]}_renderText(e3,t3,a3,i2,s2,o2,c2){let l2;return l2=1===s2?(i2-this._getTextWidth(e3,t3)*a3)/2:2===s2?i2-this._getTextWidth(e3,t3)*a3-o2:o2,l2=(0,n.numberToString)(l2),`${l2} ${c2=(0,n.numberToString)(c2)} Td (${(0,r.escapeString)(e3)}) Tj`}_getSaveFieldResources(e3){const{localResources:t3,appearanceResources:a3,acroFormResources:r2}=this._fieldResources,n2=this.data.defaultAppearanceData&&this.data.defaultAppearanceData.fontName;if(!n2)return t3||s.Dict.empty;for(const e4 of[t3,a3])if(e4 instanceof s.Dict){const t4=e4.get("Font");if(t4 instanceof s.Dict&&t4.has(n2))return e4}if(r2 instanceof s.Dict){const a4=r2.get("Font");if(a4 instanceof s.Dict&&a4.has(n2)){const r3=new s.Dict(e3);r3.set(n2,a4.getRaw(n2));const i2=new s.Dict(e3);return i2.set("Font",r3),s.Dict.merge({xref:e3,dictArray:[i2,t3],mergeSubDicts:!0})}}return t3||s.Dict.empty}getFieldObject(){return null}}class TextWidgetAnnotation extends WidgetAnnotation{constructor(e3){super(e3),this._hasText=!0;const t3=e3.dict;"string"!=typeof this.data.fieldValue&&(this.data.fieldValue="");let a3=(0,n.getInheritableProperty)({dict:t3,key:"Q"});(!Number.isInteger(a3)||a3<0||a3>2)&&(a3=null),this.data.textAlignment=a3;let i2=(0,n.getInheritableProperty)({dict:t3,key:"MaxLen"});(!Number.isInteger(i2)||i2<0)&&(i2=0),this.data.maxLen=i2,this.data.multiLine=this.hasFieldFlag(r.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(r.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(r.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(r.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(r.AnnotationFieldFlag.FILESELECT)&&0!==this.data.maxLen,this.data.doNotScroll=this.hasFieldFlag(r.AnnotationFieldFlag.DONOTSCROLL)}_getCombAppearance(e3,t3,a3,i2,s2,o2,c2){const l2=(0,n.numberToString)(i2/this.data.maxLen),h2=[],u2=t3.getCharPositions(a3);for(const[e4,t4]of u2)h2.push(`(${(0,r.escapeString)(a3.substring(e4,t4))}) Tj`);return`/Tx BMC q ${this.getBorderAndBackgroundAppearances(c2)}BT `+e3+` 1 0 0 1 ${s2} ${o2} Tm ${h2.join(` ${l2} 0 Td `)} ET Q EMC`}_getMultilineAppearance(e3,t3,a3,r2,n2,i2,s2,o2,c2,l2){const h2=t3.split(/\r\n?|\n/),u2=[],d2=n2-2*o2;for(const e4 of h2){const t4=this._splitLine(e4,a3,r2,d2);for(const e5 of t4)u2.push(this._renderText(e5,a3,r2,n2,s2,0===u2.length?o2:0,-r2))}const f2=u2.join("\n");return`/Tx BMC q ${this.getBorderAndBackgroundAppearances(l2)}BT `+e3+` 1 0 0 1 0 ${i2} Tm ${f2} ET Q EMC`}_splitLine(e3,t3,a3,r2,n2={}){e3=n2.line||t3.encodeString(e3).join("");const i2=n2.glyphs||t3.charsToGlyphs(e3);if(i2.length<=1)return[e3];const s2=n2.positions||t3.getCharPositions(e3),o2=a3/1e3,c2=[];let l2=-1,h2=-1,u2=-1,d2=0,f2=0;for(let t4=0,a4=i2.length;t4<a4;t4++){const[a5,n3]=s2[t4],g2=i2[t4],p2=g2.width*o2;" "===g2.unicode?f2+p2>r2?(c2.push(e3.substring(d2,a5)),d2=a5,f2=p2,l2=-1,u2=-1):(f2+=p2,l2=a5,h2=n3,u2=t4):f2+p2>r2?-1!==l2?(c2.push(e3.substring(d2,h2)),d2=h2,t4=u2+1,l2=-1,f2=0):(c2.push(e3.substring(d2,a5)),d2=a5,f2=p2):f2+=p2}return d2<e3.length&&c2.push(e3.substring(d2,e3.length)),c2}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(r.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class ButtonWidgetAnnotation extends WidgetAnnotation{constructor(e3){super(e3),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(r.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(r.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(r.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(r.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(r.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(e3):this.data.radioButton?this._processRadioButton(e3):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(e3)):(0,r.warn)("Invalid field flags for button widget annotation")}getOperatorList(e3,t3,a3,n2,i2){var _superprop_getGetOperatorList2=()=>super.getOperatorList,_this21=this;return _asyncToGenerator2(function*(){if(_this21.data.pushButton)return _superprop_getGetOperatorList2().call(_this21,e3,t3,a3,!1,i2);let s2=null,o2=null;if(i2){const e4=i2.get(_this21.data.id);s2=e4?e4.value:null,o2=e4?e4.rotation:null}if(null===s2&&_this21.appearance)return _superprop_getGetOperatorList2().call(_this21,e3,t3,a3,n2,i2);null==s2&&(s2=_this21.data.checkBox?_this21.data.fieldValue===_this21.data.exportValue:_this21.data.fieldValue===_this21.data.buttonValue);const c2=s2?_this21.checkedAppearance:_this21.uncheckedAppearance;if(c2){const s3=_this21.appearance,l2=c2.dict.getArray("Matrix")||r.IDENTITY_MATRIX;o2&&c2.dict.set("Matrix",_this21.getRotationMatrix(i2)),_this21.appearance=c2;const h2=_superprop_getGetOperatorList2().call(_this21,e3,t3,a3,n2,i2);return _this21.appearance=s3,c2.dict.set("Matrix",l2),h2}return{opList:new g.OperatorList,separateForm:!1,separateCanvas:!1}})()}save(e3,t3,a3){var _this22=this;return _asyncToGenerator2(function*(){return _this22.data.checkBox?_this22._saveCheckbox(e3,t3,a3):_this22.data.radioButton?_this22._saveRadioButton(e3,t3,a3):null})()}_saveCheckbox(e3,t3,a3){var _this23=this;return _asyncToGenerator2(function*(){if(!a3)return null;const n2=a3.get(_this23.data.id);let i2=n2&&n2.rotation,c2=n2&&n2.value;if(void 0===i2&&(void 0===c2||_this23.data.fieldValue===_this23.data.exportValue===c2))return null;const l2=e3.xref.fetchIfRef(_this23.ref);if(!(l2 instanceof s.Dict))return null;void 0===i2&&(i2=_this23.rotation),void 0===c2&&(c2=_this23.data.fieldValue===_this23.data.exportValue);const h2={path:(0,r.stringToPDFString)(l2.get("T")||""),value:c2?_this23.data.exportValue:""},u2=s.Name.get(c2?_this23.data.exportValue:"Off");l2.set("V",u2),l2.set("AS",u2),l2.set("M",`D:${(0,r.getModificationDate)()}`);const d2=_this23._getMKDict(i2);d2&&l2.set("MK",d2);const f2=e3.xref.encrypt;let g2=null;f2&&(g2=f2.createCipherTransform(_this23.ref.num,_this23.ref.gen));const p2=[`${_this23.ref.num} ${_this23.ref.gen} obj\n`];return(0,o.writeDict)(l2,p2,g2),p2.push("\nendobj\n"),[{ref:_this23.ref,data:p2.join(""),xfa:h2}]})()}_saveRadioButton(e3,t3,a3){var _this24=this;return _asyncToGenerator2(function*(){if(!a3)return null;const n2=a3.get(_this24.data.id);let i2=n2&&n2.rotation,c2=n2&&n2.value;if(void 0===i2&&(void 0===c2||_this24.data.fieldValue===_this24.data.buttonValue===c2))return null;const l2=e3.xref.fetchIfRef(_this24.ref);if(!(l2 instanceof s.Dict))return null;void 0===c2&&(c2=_this24.data.fieldValue===_this24.data.buttonValue),void 0===i2&&(i2=_this24.rotation);const h2={path:(0,r.stringToPDFString)(l2.get("T")||""),value:c2?_this24.data.buttonValue:""},u2=s.Name.get(c2?_this24.data.buttonValue:"Off");let d2=null;const f2=e3.xref.encrypt;if(c2)if(_this24.parent instanceof s.Ref){const t4=e3.xref.fetch(_this24.parent);let a4=null;f2&&(a4=f2.createCipherTransform(_this24.parent.num,_this24.parent.gen)),t4.set("V",u2),d2=[`${_this24.parent.num} ${_this24.parent.gen} obj\n`],(0,o.writeDict)(t4,d2,a4),d2.push("\nendobj\n")}else _this24.parent instanceof s.Dict&&_this24.parent.set("V",u2);l2.set("AS",u2),l2.set("M",`D:${(0,r.getModificationDate)()}`);const g2=_this24._getMKDict(i2);g2&&l2.set("MK",g2);let p2=null;f2&&(p2=f2.createCipherTransform(_this24.ref.num,_this24.ref.gen));const m2=[`${_this24.ref.num} ${_this24.ref.gen} obj\n`];(0,o.writeDict)(l2,m2,p2),m2.push("\nendobj\n");const b=[{ref:_this24.ref,data:m2.join(""),xfa:h2}];return null!==d2&&b.push({ref:_this24.parent,data:d2.join(""),xfa:null}),b})()}_getDefaultCheckedAppearance(e3,t3){const a3=this.data.rect[2]-this.data.rect[0],i2=this.data.rect[3]-this.data.rect[1],o2=[0,0,a3,i2],c2=.8*Math.min(a3,i2);let l2,h2;"check"===t3?(l2={width:.755*c2,height:.705*c2},h2="3"):"disc"===t3?(l2={width:.791*c2,height:.705*c2},h2="l"):(0,r.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${t3}`);const u2=`q BT /PdfJsZaDb ${c2} Tf 0 g ${(0,n.numberToString)((a3-l2.width)/2)} ${(0,n.numberToString)((i2-l2.height)/2)} Td (${h2}) Tj ET Q`,d2=new s.Dict(e3.xref);d2.set("FormType",1),d2.set("Subtype",s.Name.get("Form")),d2.set("Type",s.Name.get("XObject")),d2.set("BBox",o2),d2.set("Matrix",[1,0,0,1,0,0]),d2.set("Length",u2.length);const f2=new s.Dict(e3.xref),g2=new s.Dict(e3.xref);g2.set("PdfJsZaDb",this.fallbackFontDict),f2.set("Font",g2),d2.set("Resources",f2),this.checkedAppearance=new p.StringStream(u2),this.checkedAppearance.dict=d2,this._streams.push(this.checkedAppearance)}_processCheckBox(e3){const t3=e3.dict.get("AP");if(!(t3 instanceof s.Dict))return;const a3=t3.get("N");if(!(a3 instanceof s.Dict))return;const r2=this._decodeFormValue(e3.dict.get("AS"));"string"==typeof r2&&(this.data.fieldValue=r2);const n2=null!==this.data.fieldValue&&"Off"!==this.data.fieldValue?this.data.fieldValue:"Yes",i2=a3.getKeys();if(0===i2.length)i2.push("Off",n2);else if(1===i2.length)"Off"===i2[0]?i2.push(n2):i2.unshift("Off");else if(i2.includes(n2))i2.length=0,i2.push("Off",n2);else{const e4=i2.find(e5=>"Off"!==e5);i2.length=0,i2.push("Off",e4)}i2.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=i2[1],this.checkedAppearance=a3.get(this.data.exportValue)||null,this.uncheckedAppearance=a3.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(e3,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}_processRadioButton(e3){this.data.fieldValue=this.data.buttonValue=null;const t3=e3.dict.get("Parent");if(t3 instanceof s.Dict){this.parent=e3.dict.getRaw("Parent");const a4=t3.get("V");a4 instanceof s.Name&&(this.data.fieldValue=this._decodeFormValue(a4))}const a3=e3.dict.get("AP");if(!(a3 instanceof s.Dict))return;const r2=a3.get("N");if(r2 instanceof s.Dict){for(const e4 of r2.getKeys())if("Off"!==e4){this.data.buttonValue=this._decodeFormValue(e4);break}this.checkedAppearance=r2.get(this.data.buttonValue)||null,this.uncheckedAppearance=r2.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(e3,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}}_processPushButton(e3){e3.dict.has("A")||e3.dict.has("AA")||this.data.alternativeText?(this.data.isTooltipOnly=!e3.dict.has("A")&&!e3.dict.has("AA"),h.Catalog.parseDestDictionary({destDict:e3.dict,resultObj:this.data,docBaseUrl:e3.pdfManager.docBaseUrl})):(0,r.warn)("Push buttons without action dictionaries are not supported")}getFieldObject(){let e3,t3="button";return this.data.checkBox?(t3="checkbox",e3=this.data.exportValue):this.data.radioButton&&(t3="radiobutton",e3=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:e3,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:t3}}get fallbackFontDict(){const e3=new s.Dict;return e3.set("BaseFont",s.Name.get("ZapfDingbats")),e3.set("Type",s.Name.get("FallbackType")),e3.set("Subtype",s.Name.get("FallbackType")),e3.set("Encoding",s.Name.get("ZapfDingbatsEncoding")),(0,r.shadow)(this,"fallbackFontDict",e3)}}class ChoiceWidgetAnnotation extends WidgetAnnotation{constructor(e3){super(e3),this.data.options=[];const t3=(0,n.getInheritableProperty)({dict:e3.dict,key:"Opt"});if(Array.isArray(t3)){const a3=e3.xref;for(let e4=0,r2=t3.length;e4<r2;e4++){const r3=a3.fetchIfRef(t3[e4]),n2=Array.isArray(r3);this.data.options[e4]={exportValue:this._decodeFormValue(n2?a3.fetchIfRef(r3[0]):r3),displayValue:this._decodeFormValue(n2?a3.fetchIfRef(r3[1]):r3)}}}"string"==typeof this.data.fieldValue?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]),this.data.combo=this.hasFieldFlag(r.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(r.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue.length>0?this.data.fieldValue[0]:null,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:this.data.combo?"combobox":"listbox"}}_getAppearance(e3,t3,a3){var _superprop_get_getAppearance=()=>super._getAppearance,_this25=this;return _asyncToGenerator2(function*(){if(_this25.data.combo)return _superprop_get_getAppearance().call(_this25,e3,t3,a3);if(!a3)return null;const n2=a3.get(_this25.data.id);if(!n2)return null;const s2=n2.rotation;let o2=n2.value;if(void 0===s2&&void 0===o2)return null;void 0===o2?o2=_this25.data.fieldValue:Array.isArray(o2)||(o2=[o2]);let c2=_this25.data.rect[3]-_this25.data.rect[1],l2=_this25.data.rect[2]-_this25.data.rect[0];90!==s2&&270!==s2||([l2,c2]=[c2,l2]);const h2=_this25.data.options.length,u2=[];for(let e4=0;e4<h2;e4++){const{exportValue:t4}=_this25.data.options[e4];o2.includes(t4)&&u2.push(e4)}_this25._defaultAppearance||(_this25.data.defaultAppearanceData=(0,i.parseDefaultAppearance)(_this25._defaultAppearance="/Helvetica 0 Tf 0 g"));const d2=yield WidgetAnnotation._getFontData(e3,t3,_this25.data.defaultAppearanceData,_this25._fieldResources.mergedResources);let f2,{fontSize:g2}=_this25.data.defaultAppearanceData;if(g2)f2=_this25._defaultAppearance;else{const e4=(c2-2)/h2;let t4,a4=-1;for(const{displayValue:e5}of _this25.data.options){const r2=_this25._getTextWidth(e5,d2);r2>a4&&(a4=r2,t4=e5)}[f2,g2]=_this25._computeFontSize(e4,l2-4,t4,d2,-1)}const p2=g2*r.LINE_FACTOR,m2=(p2-g2)/2,b=Math.floor(c2/p2);let y;if(1===u2.length){const e4=u2[0];y=e4-e4%b}else y=u2.length?u2[0]:0;const w=Math.min(y+b+1,h2),S=["/Tx BMC q",`1 1 ${l2} ${c2} re W n`];if(u2.length){S.push("0.600006 0.756866 0.854904 rg");for(const e4 of u2)y<=e4&&e4<w&&S.push(`1 ${c2-(e4-y+1)*p2} ${l2} ${p2} re f`)}S.push("BT",f2,`1 0 0 1 0 ${c2} Tm`);for(let e4=y;e4<w;e4++){const{displayValue:t4}=_this25.data.options[e4];S.push(_this25._renderText(t4,d2,g2,l2,0,e4===y?2:0,-p2+(e4===y?m2:0)))}return S.push("ET Q EMC"),S.join("\n")})()}}class SignatureWidgetAnnotation extends WidgetAnnotation{constructor(e3){super(e3),this.data.fieldValue=null}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class TextAnnotation extends MarkupAnnotation{constructor(e3){super(e3);const t3=e3.dict;this.data.annotationType=r.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=t3.has("Name")?t3.get("Name").name:"Note"),t3.has("State")?(this.data.state=t3.get("State")||null,this.data.stateModel=t3.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class LinkAnnotation extends Annotation{constructor(e3){super(e3),this.data.annotationType=r.AnnotationType.LINK;const t3=getQuadPoints(e3.dict,this.rectangle);t3&&(this.data.quadPoints=t3),this.data.borderColor=this.data.borderColor||this.data.color,h.Catalog.parseDestDictionary({destDict:e3.dict,resultObj:this.data,docBaseUrl:e3.pdfManager.docBaseUrl})}}class PopupAnnotation extends Annotation{constructor(e3){super(e3),this.data.annotationType=r.AnnotationType.POPUP;let t3=e3.dict.get("Parent");if(!t3)return void(0,r.warn)("Popup annotation has a missing or invalid parent annotation.");const a3=t3.get("Subtype");this.data.parentType=a3 instanceof s.Name?a3.name:null;const n2=e3.dict.getRaw("Parent");this.data.parentId=n2 instanceof s.Ref?n2.toString():null;const i2=t3.getArray("Rect");this.data.parentRect=Array.isArray(i2)&&4===i2.length?r.Util.normalizeRect(i2):[0,0,0,0];const o2=t3.get("RT");if((0,s.isName)(o2,r.AnnotationReplyType.GROUP)&&(t3=t3.get("IRT")),t3.has("M")?(this.setModificationDate(t3.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,t3.has("C")?(this.setColor(t3.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const e4=t3.get("F");this._isViewable(e4)&&this.setFlags(e4)}this.setTitle(t3.get("T")),this.data.titleObj=this._title,this.setContents(t3.get("Contents")),this.data.contentsObj=this._contents,t3.has("RC")&&(this.data.richText=m.XFAFactory.getRichTextAsHtml(t3.get("RC")))}}t2.PopupAnnotation=PopupAnnotation;class FreeTextAnnotation extends MarkupAnnotation{constructor(e3){super(e3),this.data.annotationType=r.AnnotationType.FREETEXT}get hasTextContent(){return!!this.appearance}static createNewDict(e3,t3,{apRef:a3,ap:n2}){const{color:o2,fontSize:c2,rect:l2,rotation:h2,user:u2,value:d2}=e3,f2=new s.Dict(t3);f2.set("Type",s.Name.get("Annot")),f2.set("Subtype",s.Name.get("FreeText")),f2.set("CreationDate",`D:${(0,r.getModificationDate)()}`),f2.set("Rect",l2);const g2=`/Helv ${c2} Tf ${(0,i.getPdfColor)(o2,!0)}`;f2.set("DA",g2),f2.set("Contents",d2),f2.set("F",4),f2.set("Border",[0,0,0]),f2.set("Rotate",h2),u2&&f2.set("T",(0,r.stringToUTF8String)(u2));const p2=new s.Dict(t3);return f2.set("AP",p2),p2.set("N",a3||n2),f2}static createNewAppearanceStream(e3,t3,a3){return _asyncToGenerator2(function*(){const{baseFontRef:o2,evaluator:c2,task:l2}=a3,{color:h2,fontSize:u2,rect:d2,rotation:f2,value:g2}=e3,m2=new s.Dict(t3),b=new s.Dict(t3);if(o2)b.set("Helv",o2);else{const e4=new s.Dict(t3);e4.set("BaseFont",s.Name.get("Helvetica")),e4.set("Type",s.Name.get("Font")),e4.set("Subtype",s.Name.get("Type1")),e4.set("Encoding",s.Name.get("WinAnsiEncoding")),b.set("Helv",e4)}m2.set("Font",b);const y=yield WidgetAnnotation._getFontData(c2,l2,{fontName:"Helvetica",fontSize:u2},m2),[w,S,x,k]=d2;let C=x-w,v=k-S;f2%180!=0&&([C,v]=[v,C]);const F=g2.split("\n"),O=u2/1e3;let T=-1/0;const M=[];for(let e4 of F){e4=y.encodeString(e4).join(""),M.push(e4);let t4=0;const a4=y.charsToGlyphs(e4);for(const e5 of a4)t4+=e5.width*O;T=Math.max(T,t4)}let E=1;T>C&&(E=C/T);let D=1;const N=r.LINE_FACTOR*u2,R=r.LINE_DESCENT_FACTOR*u2,L=N*F.length;L>v&&(D=v/L);const j=u2*Math.min(E,D),$=["q",`0 0 ${(0,n.numberToString)(C)} ${(0,n.numberToString)(v)} re W n`,"BT",`1 0 0 1 0 ${(0,n.numberToString)(v+R)} Tm 0 Tc ${(0,i.getPdfColor)(h2,!0)}`,`/Helv ${(0,n.numberToString)(j)} Tf`],_=(0,n.numberToString)(N);for(const e4 of M)$.push(`0 -${_} Td (${(0,r.escapeString)(e4)}) Tj`);$.push("ET","Q");const U=$.join("\n"),X=new s.Dict(t3);if(X.set("FormType",1),X.set("Subtype",s.Name.get("Form")),X.set("Type",s.Name.get("XObject")),X.set("BBox",[0,0,C,v]),X.set("Length",U.length),X.set("Resources",m2),f2){const e4=WidgetAnnotation._getRotationMatrix(f2,C,v);X.set("Matrix",e4)}const H=new p.StringStream(U);return H.dict=X,H})()}}class LineAnnotation extends MarkupAnnotation{constructor(e3){super(e3);const{dict:t3}=e3;this.data.annotationType=r.AnnotationType.LINE;const a3=t3.getArray("L");if(this.data.lineCoordinates=r.Util.normalizeRect(a3),this.setLineEndings(t3.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const n2=this.color?Array.from(this.color).map(e4=>e4/255):[0,0,0],i2=t3.get("CA");let s2=null,o2=t3.getArray("IC");o2&&(o2=getRgbColor(o2,null),s2=o2?Array.from(o2).map(e4=>e4/255):null);const c2=s2?i2:null,l2=this.borderStyle.width||1,h2=2*l2,u2=[this.data.lineCoordinates[0]-h2,this.data.lineCoordinates[1]-h2,this.data.lineCoordinates[2]+h2,this.data.lineCoordinates[3]+h2];r.Util.intersect(this.rectangle,u2)||(this.rectangle=u2),this._setDefaultAppearance({xref:e3.xref,extra:`${l2} w`,strokeColor:n2,fillColor:s2,strokeAlpha:i2,fillAlpha:c2,pointsCallback:(e4,t4)=>(e4.push(`${a3[0]} ${a3[1]} m`,`${a3[2]} ${a3[3]} l`,"S"),[t4[0].x-l2,t4[1].x+l2,t4[3].y-l2,t4[1].y+l2])})}}}class SquareAnnotation extends MarkupAnnotation{constructor(e3){if(super(e3),this.data.annotationType=r.AnnotationType.SQUARE,!this.appearance){const t3=this.color?Array.from(this.color).map(e4=>e4/255):[0,0,0],a3=e3.dict.get("CA");let r2=null,n2=e3.dict.getArray("IC");if(n2&&(n2=getRgbColor(n2,null),r2=n2?Array.from(n2).map(e4=>e4/255):null),0===this.borderStyle.width&&!r2)return;this._setDefaultAppearance({xref:e3.xref,extra:`${this.borderStyle.width} w`,strokeColor:t3,fillColor:r2,strokeAlpha:a3,fillAlpha:r2?a3:null,pointsCallback:(e4,t4)=>(e4.push(`${t4[2].x+this.borderStyle.width/2} ${t4[2].y+this.borderStyle.width/2} ${t4[3].x-t4[2].x-this.borderStyle.width} ${t4[1].y-t4[3].y-this.borderStyle.width} re`),e4.push(r2?"B":"S"),[t4[0].x,t4[1].x,t4[3].y,t4[1].y])})}}}class CircleAnnotation extends MarkupAnnotation{constructor(e3){if(super(e3),this.data.annotationType=r.AnnotationType.CIRCLE,!this.appearance){const t3=this.color?Array.from(this.color).map(e4=>e4/255):[0,0,0],a3=e3.dict.get("CA");let r2=null,n2=e3.dict.getArray("IC");n2&&(n2=getRgbColor(n2,null),r2=n2?Array.from(n2).map(e4=>e4/255):null);const i2=r2?a3:null;if(0===this.borderStyle.width&&!r2)return;const s2=4/3*Math.tan(Math.PI/8);this._setDefaultAppearance({xref:e3.xref,extra:`${this.borderStyle.width} w`,strokeColor:t3,fillColor:r2,strokeAlpha:a3,fillAlpha:i2,pointsCallback:(e4,t4)=>{const a4=t4[0].x+this.borderStyle.width/2,n3=t4[0].y-this.borderStyle.width/2,i3=t4[3].x-this.borderStyle.width/2,o2=t4[3].y+this.borderStyle.width/2,c2=a4+(i3-a4)/2,l2=n3+(o2-n3)/2,h2=(i3-a4)/2*s2,u2=(o2-n3)/2*s2;return e4.push(`${c2} ${o2} m`,`${c2+h2} ${o2} ${i3} ${l2+u2} ${i3} ${l2} c`,`${i3} ${l2-u2} ${c2+h2} ${n3} ${c2} ${n3} c`,`${c2-h2} ${n3} ${a4} ${l2-u2} ${a4} ${l2} c`,`${a4} ${l2+u2} ${c2-h2} ${o2} ${c2} ${o2} c`,"h"),e4.push(r2?"B":"S"),[t4[0].x,t4[1].x,t4[3].y,t4[1].y]}})}}}class PolylineAnnotation extends MarkupAnnotation{constructor(e3){super(e3);const{dict:t3}=e3;this.data.annotationType=r.AnnotationType.POLYLINE,this.data.vertices=[],this instanceof PolygonAnnotation||(this.setLineEndings(t3.getArray("LE")),this.data.lineEndings=this.lineEndings);const a3=t3.getArray("Vertices");if(Array.isArray(a3)){for(let e4=0,t4=a3.length;e4<t4;e4+=2)this.data.vertices.push({x:a3[e4],y:a3[e4+1]});if(!this.appearance){const a4=this.color?Array.from(this.color).map(e4=>e4/255):[0,0,0],n2=t3.get("CA"),i2=this.borderStyle.width||1,s2=2*i2,o2=[1/0,1/0,-1/0,-1/0];for(const e4 of this.data.vertices)o2[0]=Math.min(o2[0],e4.x-s2),o2[1]=Math.min(o2[1],e4.y-s2),o2[2]=Math.max(o2[2],e4.x+s2),o2[3]=Math.max(o2[3],e4.y+s2);r.Util.intersect(this.rectangle,o2)||(this.rectangle=o2),this._setDefaultAppearance({xref:e3.xref,extra:`${i2} w`,strokeColor:a4,strokeAlpha:n2,pointsCallback:(e4,t4)=>{const a5=this.data.vertices;for(let t5=0,r2=a5.length;t5<r2;t5++)e4.push(`${a5[t5].x} ${a5[t5].y} ${0===t5?"m":"l"}`);return e4.push("S"),[t4[0].x,t4[1].x,t4[3].y,t4[1].y]}})}}}}class PolygonAnnotation extends PolylineAnnotation{constructor(e3){super(e3),this.data.annotationType=r.AnnotationType.POLYGON}}class CaretAnnotation extends MarkupAnnotation{constructor(e3){super(e3),this.data.annotationType=r.AnnotationType.CARET}}class InkAnnotation extends MarkupAnnotation{constructor(e3){super(e3),this.data.annotationType=r.AnnotationType.INK,this.data.inkLists=[];const t3=e3.dict.getArray("InkList");if(!Array.isArray(t3))return;const a3=e3.xref;for(let e4=0,r2=t3.length;e4<r2;++e4){this.data.inkLists.push([]);for(let r3=0,n2=t3[e4].length;r3<n2;r3+=2)this.data.inkLists[e4].push({x:a3.fetchIfRef(t3[e4][r3]),y:a3.fetchIfRef(t3[e4][r3+1])})}if(!this.appearance){const t4=this.color?Array.from(this.color).map(e4=>e4/255):[0,0,0],a4=e3.dict.get("CA"),n2=this.borderStyle.width||1,i2=2*n2,s2=[1/0,1/0,-1/0,-1/0];for(const e4 of this.data.inkLists)for(const t5 of e4)s2[0]=Math.min(s2[0],t5.x-i2),s2[1]=Math.min(s2[1],t5.y-i2),s2[2]=Math.max(s2[2],t5.x+i2),s2[3]=Math.max(s2[3],t5.y+i2);r.Util.intersect(this.rectangle,s2)||(this.rectangle=s2),this._setDefaultAppearance({xref:e3.xref,extra:`${n2} w`,strokeColor:t4,strokeAlpha:a4,pointsCallback:(e4,t5)=>{for(const t6 of this.data.inkLists){for(let a5=0,r2=t6.length;a5<r2;a5++)e4.push(`${t6[a5].x} ${t6[a5].y} ${0===a5?"m":"l"}`);e4.push("S")}return[t5[0].x,t5[1].x,t5[3].y,t5[1].y]}})}}static createNewDict(e3,t3,{apRef:a3,ap:n2}){const{paths:i2,rect:o2,rotation:c2}=e3,l2=new s.Dict(t3);l2.set("Type",s.Name.get("Annot")),l2.set("Subtype",s.Name.get("Ink")),l2.set("CreationDate",`D:${(0,r.getModificationDate)()}`),l2.set("Rect",o2),l2.set("InkList",i2.map(e4=>e4.points)),l2.set("F",4),l2.set("Border",[0,0,0]),l2.set("Rotate",c2);const h2=new s.Dict(t3);return l2.set("AP",h2),h2.set("N",a3||n2),l2}static createNewAppearanceStream(e3,t3,a3){return _asyncToGenerator2(function*(){const{color:r2,rect:o2,rotation:c2,paths:l2,thickness:h2,opacity:u2}=e3,[d2,f2,g2,m2]=o2;let b=g2-d2,y=m2-f2;c2%180!=0&&([b,y]=[y,b]);const w=[`${h2} w 1 J 1 j`,`${(0,i.getPdfColor)(r2,!1)}`];1!==u2&&w.push("/R0 gs");const S=[];for(const{bezier:e4}of l2){S.length=0,S.push(`${(0,n.numberToString)(e4[0])} ${(0,n.numberToString)(e4[1])} m`);for(let t4=2,a4=e4.length;t4<a4;t4+=6){const a5=e4.slice(t4,t4+6).map(n.numberToString).join(" ");S.push(`${a5} c`)}S.push("S"),w.push(S.join("\n"))}const x=w.join("\n"),k=new s.Dict(t3);if(k.set("FormType",1),k.set("Subtype",s.Name.get("Form")),k.set("Type",s.Name.get("XObject")),k.set("BBox",[0,0,b,y]),k.set("Length",x.length),c2){const e4=WidgetAnnotation._getRotationMatrix(c2,b,y);k.set("Matrix",e4)}if(1!==u2){const e4=new s.Dict(t3),a4=new s.Dict(t3),r3=new s.Dict(t3);r3.set("CA",u2),r3.set("Type",s.Name.get("ExtGState")),a4.set("R0",r3),e4.set("ExtGState",a4),k.set("Resources",e4)}const C=new p.StringStream(x);return C.dict=k,C})()}}class HighlightAnnotation extends MarkupAnnotation{constructor(e3){if(super(e3),this.data.annotationType=r.AnnotationType.HIGHLIGHT,this.data.quadPoints=getQuadPoints(e3.dict,null)){const t3=this.appearance&&this.appearance.dict.get("Resources");if(!this.appearance||!t3||!t3.has("ExtGState")){this.appearance&&(0,r.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const t4=this.color?Array.from(this.color).map(e4=>e4/255):[1,1,0],a3=e3.dict.get("CA");this._setDefaultAppearance({xref:e3.xref,fillColor:t4,blendMode:"Multiply",fillAlpha:a3,pointsCallback:(e4,t5)=>(e4.push(`${t5[0].x} ${t5[0].y} m`,`${t5[1].x} ${t5[1].y} l`,`${t5[3].x} ${t5[3].y} l`,`${t5[2].x} ${t5[2].y} l`,"f"),[t5[0].x,t5[1].x,t5[3].y,t5[1].y])})}}else this.data.hasPopup=!1}}class UnderlineAnnotation extends MarkupAnnotation{constructor(e3){if(super(e3),this.data.annotationType=r.AnnotationType.UNDERLINE,this.data.quadPoints=getQuadPoints(e3.dict,null)){if(!this.appearance){const t3=this.color?Array.from(this.color).map(e4=>e4/255):[0,0,0],a3=e3.dict.get("CA");this._setDefaultAppearance({xref:e3.xref,extra:"[] 0 d 1 w",strokeColor:t3,strokeAlpha:a3,pointsCallback:(e4,t4)=>(e4.push(`${t4[2].x} ${t4[2].y} m`,`${t4[3].x} ${t4[3].y} l`,"S"),[t4[0].x,t4[1].x,t4[3].y,t4[1].y])})}}else this.data.hasPopup=!1}}class SquigglyAnnotation extends MarkupAnnotation{constructor(e3){if(super(e3),this.data.annotationType=r.AnnotationType.SQUIGGLY,this.data.quadPoints=getQuadPoints(e3.dict,null)){if(!this.appearance){const t3=this.color?Array.from(this.color).map(e4=>e4/255):[0,0,0],a3=e3.dict.get("CA");this._setDefaultAppearance({xref:e3.xref,extra:"[] 0 d 1 w",strokeColor:t3,strokeAlpha:a3,pointsCallback:(e4,t4)=>{const a4=(t4[0].y-t4[2].y)/6;let r2=a4,n2=t4[2].x;const i2=t4[2].y,s2=t4[3].x;e4.push(`${n2} ${i2+r2} m`);do{n2+=2,r2=0===r2?a4:0,e4.push(`${n2} ${i2+r2} l`)}while(n2<s2);return e4.push("S"),[t4[2].x,s2,i2-2*a4,i2+2*a4]}})}}else this.data.hasPopup=!1}}class StrikeOutAnnotation extends MarkupAnnotation{constructor(e3){if(super(e3),this.data.annotationType=r.AnnotationType.STRIKEOUT,this.data.quadPoints=getQuadPoints(e3.dict,null)){if(!this.appearance){const t3=this.color?Array.from(this.color).map(e4=>e4/255):[0,0,0],a3=e3.dict.get("CA");this._setDefaultAppearance({xref:e3.xref,extra:"[] 0 d 1 w",strokeColor:t3,strokeAlpha:a3,pointsCallback:(e4,t4)=>(e4.push((t4[0].x+t4[2].x)/2+" "+(t4[0].y+t4[2].y)/2+" m",(t4[1].x+t4[3].x)/2+" "+(t4[1].y+t4[3].y)/2+" l","S"),[t4[0].x,t4[1].x,t4[3].y,t4[1].y])})}}else this.data.hasPopup=!1}}class StampAnnotation extends MarkupAnnotation{constructor(e3){super(e3),this.data.annotationType=r.AnnotationType.STAMP}}class FileAttachmentAnnotation extends MarkupAnnotation{constructor(e3){super(e3);const t3=new d.FileSpec(e3.dict.get("FS"),e3.xref);this.data.annotationType=r.AnnotationType.FILEATTACHMENT,this.data.file=t3.serializable}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.createDefaultAppearance=function({fontSize:e3,fontName:t3,fontColor:a3}){return`/${(0,r.escapePDFName)(t3)} ${e3} Tf ${getPdfColor(a3,!0)}`},t2.getPdfColor=getPdfColor,t2.parseDefaultAppearance=function(e3){return new DefaultAppearanceEvaluator(e3).parse()};var r=a2(6),n=a2(2),i=a2(14),s=a2(15),o=a2(5),c=a2(10);class DefaultAppearanceEvaluator extends s.EvaluatorPreprocessor{constructor(e3){super(new c.StringStream(e3))}parse(){const e3={fn:0,args:[]},t3={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;e3.args.length=0,this.read(e3);){if(0!==this.savedStatesDepth)continue;const{fn:a3,args:r2}=e3;switch(0|a3){case n.OPS.setFont:const[e4,a4]=r2;e4 instanceof o.Name&&(t3.fontName=e4.name),"number"==typeof a4&&a4>0&&(t3.fontSize=a4);break;case n.OPS.setFillRGBColor:i.ColorSpace.singletons.rgb.getRgbItem(r2,0,t3.fontColor,0);break;case n.OPS.setFillGray:i.ColorSpace.singletons.gray.getRgbItem(r2,0,t3.fontColor,0);break;case n.OPS.setFillColorSpace:i.ColorSpace.singletons.cmyk.getRgbItem(r2,0,t3.fontColor,0)}}}catch(e4){(0,n.warn)(`parseDefaultAppearance - ignoring errors: "${e4}".`)}return t3}}function getPdfColor(e3,t3){return e3[0]===e3[1]&&e3[1]===e3[2]?`${(0,r.numberToString)(e3[0]/255)} ${t3?"g":"G"}`:Array.from(e3).map(e4=>(0,r.numberToString)(e4/255)).join(" ")+" "+(t3?"rg":"RG")}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.ColorSpace=void 0;var r=a2(2),n=a2(5),i=a2(7),s=a2(6);class ColorSpace{constructor(e3,t3){this.constructor===ColorSpace&&(0,r.unreachable)("Cannot initialize ColorSpace."),this.name=e3,this.numComps=t3}getRgb(e3,t3){const a3=new Uint8ClampedArray(3);return this.getRgbItem(e3,t3,a3,0),a3}getRgbItem(e3,t3,a3,n2){(0,r.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(e3,t3,a3,n2,i2,s2,o2){(0,r.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(e3,t3){(0,r.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(e3){return!1}isDefaultDecode(e3,t3){return ColorSpace.isDefaultDecode(e3,this.numComps)}fillRgb(e3,t3,a3,r2,n2,i2,s2,o2,c2){const l2=t3*a3;let h2=null;const u=1<<s2,d=a3!==n2||t3!==r2;if(this.isPassthrough(s2))h2=o2;else if(1===this.numComps&&l2>u&&"DeviceGray"!==this.name&&"DeviceRGB"!==this.name){const t4=s2<=8?new Uint8Array(u):new Uint16Array(u);for(let e4=0;e4<u;e4++)t4[e4]=e4;const a4=new Uint8ClampedArray(3*u);if(this.getRgbBuffer(t4,0,u,a4,0,s2,0),d){h2=new Uint8Array(3*l2);let e4=0;for(let t5=0;t5<l2;++t5){const r3=3*o2[t5];h2[e4++]=a4[r3],h2[e4++]=a4[r3+1],h2[e4++]=a4[r3+2]}}else{let t5=0;for(let r3=0;r3<l2;++r3){const n3=3*o2[r3];e3[t5++]=a4[n3],e3[t5++]=a4[n3+1],e3[t5++]=a4[n3+2],t5+=c2}}}else d?(h2=new Uint8ClampedArray(3*l2),this.getRgbBuffer(o2,0,l2,h2,0,s2,0)):this.getRgbBuffer(o2,0,r2*i2,e3,0,s2,c2);if(h2)if(d)!function(e4,t4,a4,r3,n3,i3,s3){s3=1!==s3?0:s3;const o3=a4/n3,c3=r3/i3;let l3,h3=0;const u2=new Uint16Array(n3),d2=3*a4;for(let e5=0;e5<n3;e5++)u2[e5]=3*Math.floor(e5*o3);for(let a5=0;a5<i3;a5++){const r4=Math.floor(a5*c3)*d2;for(let a6=0;a6<n3;a6++)l3=r4+u2[a6],t4[h3++]=e4[l3++],t4[h3++]=e4[l3++],t4[h3++]=e4[l3++],h3+=s3}}(h2,e3,t3,a3,r2,n2,c2);else{let t4=0,a4=0;for(let n3=0,s3=r2*i2;n3<s3;n3++)e3[t4++]=h2[a4++],e3[t4++]=h2[a4++],e3[t4++]=h2[a4++],t4+=c2}}get usesZeroToOneRange(){return(0,r.shadow)(this,"usesZeroToOneRange",!0)}static _cache(e3,t3,a3,r2){if(!a3)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!r2)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let i2,s2;e3 instanceof n.Ref&&(s2=e3,e3=t3.fetch(e3)),e3 instanceof n.Name&&(i2=e3.name),(i2||s2)&&a3.set(i2,s2,r2)}static getCached(e3,t3,a3){if(!a3)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(e3 instanceof n.Ref){const r2=a3.getByRef(e3);if(r2)return r2;try{e3=t3.fetch(e3)}catch(e4){if(e4 instanceof s.MissingDataException)throw e4}}if(e3 instanceof n.Name){const t4=a3.getByName(e3.name);if(t4)return t4}return null}static parseAsync({cs:e3,xref:t3,resources:a3=null,pdfFunctionFactory:r2,localColorSpaceCache:n2}){var _this26=this;return _asyncToGenerator2(function*(){const i2=_this26._parse(e3,t3,a3,r2);return _this26._cache(e3,t3,n2,i2),i2})()}static parse({cs:e3,xref:t3,resources:a3=null,pdfFunctionFactory:r2,localColorSpaceCache:n2}){const i2=this.getCached(e3,t3,n2);if(i2)return i2;const s2=this._parse(e3,t3,a3,r2);return this._cache(e3,t3,n2,s2),s2}static _parse(e3,t3,a3=null,i2){if((e3=t3.fetchIfRef(e3))instanceof n.Name)switch(e3.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new PatternCS(null);default:if(a3 instanceof n.Dict){const r2=a3.get("ColorSpace");if(r2 instanceof n.Dict){const s2=r2.get(e3.name);if(s2){if(s2 instanceof n.Name)return this._parse(s2,t3,a3,i2);e3=s2;break}}}throw new r.FormatError(`Unrecognized ColorSpace: ${e3.name}`)}if(Array.isArray(e3)){const n2=t3.fetchIfRef(e3[0]).name;let s2,o2,u,d,f,g;switch(n2){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return s2=t3.fetchIfRef(e3[1]),d=s2.getArray("WhitePoint"),f=s2.getArray("BlackPoint"),g=s2.get("Gamma"),new c(d,f,g);case"CalRGB":s2=t3.fetchIfRef(e3[1]),d=s2.getArray("WhitePoint"),f=s2.getArray("BlackPoint"),g=s2.getArray("Gamma");const p=s2.getArray("Matrix");return new l(d,f,g,p);case"ICCBased":const m=t3.fetchIfRef(e3[1]).dict;o2=m.get("N");const b=m.get("Alternate");if(b){const e4=this._parse(b,t3,a3,i2);if(e4.numComps===o2)return e4;(0,r.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(1===o2)return this.singletons.gray;if(3===o2)return this.singletons.rgb;if(4===o2)return this.singletons.cmyk;break;case"Pattern":return u=e3[1]||null,u&&(u=this._parse(u,t3,a3,i2)),new PatternCS(u);case"I":case"Indexed":u=this._parse(e3[1],t3,a3,i2);const y=t3.fetchIfRef(e3[2])+1,w=t3.fetchIfRef(e3[3]);return new IndexedCS(u,y,w);case"Separation":case"DeviceN":const S=t3.fetchIfRef(e3[1]);o2=Array.isArray(S)?S.length:1,u=this._parse(e3[2],t3,a3,i2);const x=i2.create(e3[3]);return new AlternateCS(o2,u,x);case"Lab":s2=t3.fetchIfRef(e3[1]),d=s2.getArray("WhitePoint"),f=s2.getArray("BlackPoint");const k=s2.getArray("Range");return new h(d,f,k);default:throw new r.FormatError(`Unimplemented ColorSpace object: ${n2}`)}}throw new r.FormatError(`Unrecognized ColorSpace object: ${e3}`)}static isDefaultDecode(e3,t3){if(!Array.isArray(e3))return!0;if(2*t3!==e3.length)return(0,r.warn)("The decode map is not the correct length"),!0;for(let t4=0,a3=e3.length;t4<a3;t4+=2)if(0!==e3[t4]||1!==e3[t4+1])return!1;return!0}static get singletons(){return(0,r.shadow)(this,"singletons",{get gray(){return(0,r.shadow)(this,"gray",new DeviceGrayCS)},get rgb(){return(0,r.shadow)(this,"rgb",new DeviceRgbCS)},get cmyk(){return(0,r.shadow)(this,"cmyk",new o)}})}}t2.ColorSpace=ColorSpace;class AlternateCS extends ColorSpace{constructor(e3,t3,a3){super("Alternate",e3),this.base=t3,this.tintFn=a3,this.tmpBuf=new Float32Array(t3.numComps)}getRgbItem(e3,t3,a3,r2){const n2=this.tmpBuf;this.tintFn(e3,t3,n2,0),this.base.getRgbItem(n2,0,a3,r2)}getRgbBuffer(e3,t3,a3,r2,n2,i2,s2){const o2=this.tintFn,c2=this.base,l2=1/((1<<i2)-1),h2=c2.numComps,u=c2.usesZeroToOneRange,d=(c2.isPassthrough(8)||!u)&&0===s2;let f=d?n2:0;const g=d?r2:new Uint8ClampedArray(h2*a3),p=this.numComps,m=new Float32Array(p),b=new Float32Array(h2);let y,w;for(y=0;y<a3;y++){for(w=0;w<p;w++)m[w]=e3[t3++]*l2;if(o2(m,0,b,0),u)for(w=0;w<h2;w++)g[f++]=255*b[w];else c2.getRgbItem(b,0,g,f),f+=h2}d||c2.getRgbBuffer(g,0,a3,r2,n2,8,s2)}getOutputLength(e3,t3){return this.base.getOutputLength(e3*this.base.numComps/this.numComps,t3)}}class PatternCS extends ColorSpace{constructor(e3){super("Pattern",null),this.base=e3}isDefaultDecode(e3,t3){(0,r.unreachable)("Should not call PatternCS.isDefaultDecode")}}class IndexedCS extends ColorSpace{constructor(e3,t3,a3){super("Indexed",1),this.base=e3,this.highVal=t3;const n2=e3.numComps*t3;if(this.lookup=new Uint8Array(n2),a3 instanceof i.BaseStream){const e4=a3.getBytes(n2);this.lookup.set(e4)}else{if("string"!=typeof a3)throw new r.FormatError(`IndexedCS - unrecognized lookup table: ${a3}`);for(let e4=0;e4<n2;++e4)this.lookup[e4]=255&a3.charCodeAt(e4)}}getRgbItem(e3,t3,a3,r2){this.base.getRgbBuffer(this.lookup,e3[t3]*this.base.numComps,1,a3,r2,8,0)}getRgbBuffer(e3,t3,a3,r2,n2,i2,s2){const o2=this.base,c2=o2.numComps,l2=o2.getOutputLength(c2,s2),h2=this.lookup;for(let i3=0;i3<a3;++i3){const a4=e3[t3++]*c2;o2.getRgbBuffer(h2,a4,1,r2,n2,8,s2),n2+=l2}}getOutputLength(e3,t3){return this.base.getOutputLength(e3*this.base.numComps,t3)}isDefaultDecode(e3,t3){return!Array.isArray(e3)||(2!==e3.length?((0,r.warn)("Decode map length is not correct"),!0):!Number.isInteger(t3)||t3<1?((0,r.warn)("Bits per component is not correct"),!0):0===e3[0]&&e3[1]===(1<<t3)-1)}}class DeviceGrayCS extends ColorSpace{constructor(){super("DeviceGray",1)}getRgbItem(e3,t3,a3,r2){a3[r2]=a3[r2+1]=a3[r2+2]=255*e3[t3]}getRgbBuffer(e3,t3,a3,r2,n2,i2,s2){const o2=255/((1<<i2)-1);let c2=t3,l2=n2;for(let t4=0;t4<a3;++t4){const t5=o2*e3[c2++];r2[l2++]=t5,r2[l2++]=t5,r2[l2++]=t5,l2+=s2}}getOutputLength(e3,t3){return e3*(3+t3)}}class DeviceRgbCS extends ColorSpace{constructor(){super("DeviceRGB",3)}getRgbItem(e3,t3,a3,r2){a3[r2]=255*e3[t3],a3[r2+1]=255*e3[t3+1],a3[r2+2]=255*e3[t3+2]}getRgbBuffer(e3,t3,a3,r2,n2,i2,s2){if(8===i2&&0===s2)return void r2.set(e3.subarray(t3,t3+3*a3),n2);const o2=255/((1<<i2)-1);let c2=t3,l2=n2;for(let t4=0;t4<a3;++t4)r2[l2++]=o2*e3[c2++],r2[l2++]=o2*e3[c2++],r2[l2++]=o2*e3[c2++],l2+=s2}getOutputLength(e3,t3){return e3*(3+t3)/3|0}isPassthrough(e3){return 8===e3}}const o=function(){function convertToRgb(e3,t3,a3,r2,n2){const i2=e3[t3]*a3,s2=e3[t3+1]*a3,o2=e3[t3+2]*a3,c2=e3[t3+3]*a3;r2[n2]=255+i2*(-4.387332384609988*i2+54.48615194189176*s2+18.82290502165302*o2+212.25662451639585*c2-285.2331026137004)+s2*(1.7149763477362134*s2-5.6096736904047315*o2+-17.873870861415444*c2-5.497006427196366)+o2*(-2.5217340131683033*o2-21.248923337353073*c2+17.5119270841813)+c2*(-21.86122147463605*c2-189.48180835922747),r2[n2+1]=255+i2*(8.841041422036149*i2+60.118027045597366*s2+6.871425592049007*o2+31.159100130055922*c2-79.2970844816548)+s2*(-15.310361306967817*s2+17.575251261109482*o2+131.35250912493976*c2-190.9453302588951)+o2*(4.444339102852739*o2+9.8632861493405*c2-24.86741582555878)+c2*(-20.737325471181034*c2-187.80453709719578),r2[n2+2]=255+i2*(.8842522430003296*i2+8.078677503112928*s2+30.89978309703729*o2-.23883238689178934*c2-14.183576799673286)+s2*(10.49593273432072*s2+63.02378494754052*o2+50.606957656360734*c2-112.23884253719248)+o2*(.03296041114873217*o2+115.60384449646641*c2-193.58209356861505)+c2*(-22.33816807309886*c2-180.12613974708367)}return class extends ColorSpace{constructor(){super("DeviceCMYK",4)}getRgbItem(e3,t3,a3,r2){convertToRgb(e3,t3,1,a3,r2)}getRgbBuffer(e3,t3,a3,r2,n2,i2,s2){const o2=1/((1<<i2)-1);for(let i3=0;i3<a3;i3++)convertToRgb(e3,t3,o2,r2,n2),t3+=4,n2+=3+s2}getOutputLength(e3,t3){return e3/4*(3+t3)|0}}}(),c=function(){function convertToRgb(e3,t3,a3,r2,n2,i2){const c2=Math.max(295.8*(e3.YW*(t3[a3]*i2)**e3.G)**.3333333333333333-40.8,0);r2[n2]=c2,r2[n2+1]=c2,r2[n2+2]=c2}return class extends ColorSpace{constructor(e3,t3,a3){if(super("CalGray",1),!e3)throw new r.FormatError("WhitePoint missing - required for color space CalGray");if(t3=t3||[0,0,0],a3=a3||1,this.XW=e3[0],this.YW=e3[1],this.ZW=e3[2],this.XB=t3[0],this.YB=t3[1],this.ZB=t3[2],this.G=a3,this.XW<0||this.ZW<0||1!==this.YW)throw new r.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,r.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),0===this.XB&&0===this.YB&&0===this.ZB||(0,r.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,r.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(e3,t3,a3,r2){convertToRgb(this,e3,t3,a3,r2,1)}getRgbBuffer(e3,t3,a3,r2,n2,i2,s2){const o2=1/((1<<i2)-1);for(let i3=0;i3<a3;++i3)convertToRgb(this,e3,t3,r2,n2,o2),t3+=1,n2+=3+s2}getOutputLength(e3,t3){return e3*(3+t3)}}}(),l=function(){const e3=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),t3=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),a3=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),n2=new Float32Array([1,1,1]),i2=new Float32Array(3),s2=new Float32Array(3),o2=new Float32Array(3);function matrixProduct(e4,t4,a4){a4[0]=e4[0]*t4[0]+e4[1]*t4[1]+e4[2]*t4[2],a4[1]=e4[3]*t4[0]+e4[4]*t4[1]+e4[5]*t4[2],a4[2]=e4[6]*t4[0]+e4[7]*t4[1]+e4[8]*t4[2]}function sRGBTransferFunction(e4){return e4<=.0031308?adjustToRange(0,1,12.92*e4):e4>=.99554525?1:adjustToRange(0,1,1.055*e4**(1/2.4)-.055)}function adjustToRange(e4,t4,a4){return Math.max(e4,Math.min(t4,a4))}function decodeL(e4){return e4<0?-decodeL(-e4):e4>8?((e4+16)/116)**3:.0011070564598794539*e4}function convertToRgb(r2,c2,l2,h2,u,d){const f=adjustToRange(0,1,c2[l2]*d),g=adjustToRange(0,1,c2[l2+1]*d),p=adjustToRange(0,1,c2[l2+2]*d),m=1===f?1:f**r2.GR,b=1===g?1:g**r2.GG,y=1===p?1:p**r2.GB,S=r2.MYA*m+r2.MYB*b+r2.MYC*y,x=r2.MZA*m+r2.MZB*b+r2.MZC*y,k=s2;k[0]=r2.MXA*m+r2.MXB*b+r2.MXC*y,k[1]=S,k[2]=x;const C=o2;!function(a4,r3,n3){if(1===a4[0]&&1===a4[2])return n3[0]=r3[0],n3[1]=r3[1],void(n3[2]=r3[2]);const s3=n3;matrixProduct(e3,r3,s3);const o3=i2;var e4,t4,a5;(a5=o3)[0]=1*(t4=s3)[0]/(e4=a4)[0],a5[1]=1*t4[1]/e4[1],a5[2]=1*t4[2]/e4[2],matrixProduct(t3,o3,n3)}(r2.whitePoint,k,C);const v=s2;!function(e4,t4,a4){if(0===e4[0]&&0===e4[1]&&0===e4[2])return a4[0]=t4[0],a4[1]=t4[1],void(a4[2]=t4[2]);const r3=decodeL(0),n3=(1-r3)/(1-decodeL(e4[0])),i3=1-n3,s3=(1-r3)/(1-decodeL(e4[1])),o3=1-s3,c3=(1-r3)/(1-decodeL(e4[2])),l3=1-c3;a4[0]=t4[0]*n3+i3,a4[1]=t4[1]*s3+o3,a4[2]=t4[2]*c3+l3}(r2.blackPoint,C,v);const F=o2;!function(a4,r3,n3){const s3=n3;matrixProduct(e3,r3,s3);const o3=i2;var e4,t4,a5;(a5=o3)[0]=.95047*(t4=s3)[0]/(e4=a4)[0],a5[1]=1*t4[1]/e4[1],a5[2]=1.08883*t4[2]/e4[2],matrixProduct(t3,o3,n3)}(n2,v,F);const O=s2;matrixProduct(a3,F,O),h2[u]=255*sRGBTransferFunction(O[0]),h2[u+1]=255*sRGBTransferFunction(O[1]),h2[u+2]=255*sRGBTransferFunction(O[2])}return class extends ColorSpace{constructor(e4,t4,a4,n3){if(super("CalRGB",3),!e4)throw new r.FormatError("WhitePoint missing - required for color space CalRGB");t4=t4||new Float32Array(3),a4=a4||new Float32Array([1,1,1]),n3=n3||new Float32Array([1,0,0,0,1,0,0,0,1]);const i3=e4[0],s3=e4[1],o3=e4[2];this.whitePoint=e4;const c2=t4[0],l2=t4[1],h2=t4[2];if(this.blackPoint=t4,this.GR=a4[0],this.GG=a4[1],this.GB=a4[2],this.MXA=n3[0],this.MYA=n3[1],this.MZA=n3[2],this.MXB=n3[3],this.MYB=n3[4],this.MZB=n3[5],this.MXC=n3[6],this.MYC=n3[7],this.MZC=n3[8],i3<0||o3<0||1!==s3)throw new r.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(c2<0||l2<0||h2<0)&&((0,r.info)(`Invalid BlackPoint for ${this.name} [${c2}, ${l2}, ${h2}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,r.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(e4,t4,a4,r2){convertToRgb(this,e4,t4,a4,r2,1)}getRgbBuffer(e4,t4,a4,r2,n3,i3,s3){const o3=1/((1<<i3)-1);for(let i4=0;i4<a4;++i4)convertToRgb(this,e4,t4,r2,n3,o3),t4+=3,n3+=3+s3}getOutputLength(e4,t4){return e4*(3+t4)/3|0}}}(),h=function(){function fn_g(e3){let t3;return t3=e3>=6/29?e3**3:108/841*(e3-4/29),t3}function decode(e3,t3,a3,r2){return a3+e3*(r2-a3)/t3}function convertToRgb(e3,t3,a3,r2,n2,i2){let s2=t3[a3],o2=t3[a3+1],c2=t3[a3+2];!1!==r2&&(s2=decode(s2,r2,0,100),o2=decode(o2,r2,e3.amin,e3.amax),c2=decode(c2,r2,e3.bmin,e3.bmax)),o2>e3.amax?o2=e3.amax:o2<e3.amin&&(o2=e3.amin),c2>e3.bmax?c2=e3.bmax:c2<e3.bmin&&(c2=e3.bmin);const l2=(s2+16)/116,u=l2-c2/200,d=e3.XW*fn_g(l2+o2/500),f=e3.YW*fn_g(l2),g=e3.ZW*fn_g(u);let p,m,b;e3.ZW<1?(p=3.1339*d+-1.617*f+-.4906*g,m=-.9785*d+1.916*f+.0333*g,b=.072*d+-.229*f+1.4057*g):(p=3.2406*d+-1.5372*f+-.4986*g,m=-.9689*d+1.8758*f+.0415*g,b=.0557*d+-.204*f+1.057*g),n2[i2]=255*Math.sqrt(p),n2[i2+1]=255*Math.sqrt(m),n2[i2+2]=255*Math.sqrt(b)}return class extends ColorSpace{constructor(e3,t3,a3){if(super("Lab",3),!e3)throw new r.FormatError("WhitePoint missing - required for color space Lab");if(t3=t3||[0,0,0],a3=a3||[-100,100,-100,100],this.XW=e3[0],this.YW=e3[1],this.ZW=e3[2],this.amin=a3[0],this.amax=a3[1],this.bmin=a3[2],this.bmax=a3[3],this.XB=t3[0],this.YB=t3[1],this.ZB=t3[2],this.XW<0||this.ZW<0||1!==this.YW)throw new r.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,r.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,r.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(e3,t3,a3,r2){convertToRgb(this,e3,t3,!1,a3,r2)}getRgbBuffer(e3,t3,a3,r2,n2,i2,s2){const o2=(1<<i2)-1;for(let i3=0;i3<a3;i3++)convertToRgb(this,e3,t3,o2,r2,n2),t3+=3,n2+=3+s2}getOutputLength(e3,t3){return e3*(3+t3)/3|0}isDefaultDecode(e3,t3){return!0}get usesZeroToOneRange(){return(0,r.shadow)(this,"usesZeroToOneRange",!1)}}}()},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.PartialEvaluator=t2.EvaluatorPreprocessor=void 0;var r=a2(2),n=a2(16),i=a2(5),s=a2(34),o=a2(38),c=a2(37),l=a2(41),h=a2(40),u=a2(50),d=a2(51),f=a2(42),g=a2(57),p=a2(17),m=a2(59),b=a2(10),y=a2(7),w=a2(60),S=a2(14),x=a2(19),k=a2(39),C=a2(6),v=a2(45),F=a2(61),O=a2(62),T=a2(63);const M=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),N=Promise.resolve();function normalizeBlendMode(e3,t3=!1){if(Array.isArray(e3)){for(let t4=0,a3=e3.length;t4<a3;t4++){const a4=normalizeBlendMode(e3[t4],!0);if(a4)return a4}return(0,r.warn)(`Unsupported blend mode Array: ${e3}`),"source-over"}if(!(e3 instanceof i.Name))return t3?null:"source-over";switch(e3.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return t3?null:((0,r.warn)(`Unsupported blend mode: ${e3.name}`),"source-over")}function incrementCachedImageMaskCount(e3){e3.fn===r.OPS.paintImageMaskXObject&&e3.args[0]&&e3.args[0].count>0&&e3.args[0].count++}class TimeSlotManager{static get TIME_SLOT_DURATION_MS(){return(0,r.shadow)(this,"TIME_SLOT_DURATION_MS",20)}static get CHECK_TIME_EVERY(){return(0,r.shadow)(this,"CHECK_TIME_EVERY",100)}constructor(){this.reset()}check(){return!(++this.checked<TimeSlotManager.CHECK_TIME_EVERY)&&(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+TimeSlotManager.TIME_SLOT_DURATION_MS,this.checked=0}}class PartialEvaluator{constructor({xref:e3,handler:t3,pageIndex:a3,idFactory:r2,fontCache:n2,builtInCMapCache:i2,standardFontDataCache:s2,globalImageCache:o2,options:c2=null}){this.xref=e3,this.handler=t3,this.pageIndex=a3,this.idFactory=r2,this.fontCache=n2,this.builtInCMapCache=i2,this.standardFontDataCache=s2,this.globalImageCache=o2,this.options=c2||M,this.parsingType3Font=!1,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this)}get _pdfFunctionFactory(){const e3=new g.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,r.shadow)(this,"_pdfFunctionFactory",e3)}clone(e3=null){const t3=Object.create(this);return t3.options=Object.assign(Object.create(null),this.options,e3),t3}hasBlendModes(e3,t3){if(!(e3 instanceof i.Dict)||e3.objId&&t3.has(e3.objId))return!1;const a3=new i.RefSet(t3);e3.objId&&a3.put(e3.objId);const n2=[e3],s2=this.xref;for(;n2.length;){const e4=n2.shift(),t4=e4.get("ExtGState");if(t4 instanceof i.Dict)for(let e5 of t4.getRawValues()){if(e5 instanceof i.Ref){if(a3.has(e5))continue;try{e5=s2.fetch(e5)}catch(t6){a3.put(e5),(0,r.info)(`hasBlendModes - ignoring ExtGState: "${t6}".`);continue}}if(!(e5 instanceof i.Dict))continue;e5.objId&&a3.put(e5.objId);const t5=e5.get("BM");if(t5 instanceof i.Name){if("Normal"!==t5.name)return!0}else if(void 0!==t5&&Array.isArray(t5))for(const e6 of t5)if(e6 instanceof i.Name&&"Normal"!==e6.name)return!0}const o2=e4.get("XObject");if(o2 instanceof i.Dict)for(let e5 of o2.getRawValues()){if(e5 instanceof i.Ref){if(a3.has(e5))continue;try{e5=s2.fetch(e5)}catch(t6){a3.put(e5),(0,r.info)(`hasBlendModes - ignoring XObject: "${t6}".`);continue}}if(!(e5 instanceof y.BaseStream))continue;e5.dict.objId&&a3.put(e5.dict.objId);const t5=e5.dict.get("Resources");t5 instanceof i.Dict&&(!t5.objId||!a3.has(t5.objId))&&(n2.push(t5),t5.objId&&a3.put(t5.objId))}}for(const e4 of a3)t3.put(e4);return!1}fetchBuiltInCMap(e3){var _this27=this;return _asyncToGenerator2(function*(){const t3=_this27.builtInCMapCache.get(e3);if(t3)return t3;let a3;if(null!==_this27.options.cMapUrl){const t4=`${_this27.options.cMapUrl}${e3}.bcmap`,n2=yield fetch(t4);if(!n2.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${t4}" with "${n2.statusText}".`);a3={cMapData:new Uint8Array(yield n2.arrayBuffer()),compressionType:r.CMapCompressionType.BINARY}}else a3=yield _this27.handler.sendWithPromise("FetchBuiltInCMap",{name:e3});return a3.compressionType!==r.CMapCompressionType.NONE&&_this27.builtInCMapCache.set(e3,a3),a3})()}fetchStandardFontData(e3){var _this28=this;return _asyncToGenerator2(function*(){const t3=_this28.standardFontDataCache.get(e3);if(t3)return new b.Stream(t3);if(_this28.options.useSystemFonts&&"Symbol"!==e3&&"ZapfDingbats"!==e3)return null;const a3=(0,l.getFontNameToFileMap)()[e3];let n2;if(null!==_this28.options.standardFontDataUrl){const e4=`${_this28.options.standardFontDataUrl}${a3}`,t4=yield fetch(e4);t4.ok?n2=yield t4.arrayBuffer():(0,r.warn)(`fetchStandardFontData: failed to fetch file "${e4}" with "${t4.statusText}".`)}else try{n2=yield _this28.handler.sendWithPromise("FetchStandardFontData",{filename:a3})}catch(e4){(0,r.warn)(`fetchStandardFontData: failed to fetch file "${a3}" with "${e4}".`)}return n2?(_this28.standardFontDataCache.set(e3,n2),new b.Stream(n2)):null})()}buildFormXObject(e3,t3,a3,n2,s2,o2,c2){var _this29=this;return _asyncToGenerator2(function*(){const l2=t3.dict,h2=l2.getArray("Matrix");let u2,d2,f2=l2.getArray("BBox");f2=Array.isArray(f2)&&4===f2.length?r.Util.normalizeRect(f2):null,l2.has("OC")&&(u2=yield _this29.parseMarkedContentProps(l2.get("OC"),e3)),void 0!==u2&&n2.addOp(r.OPS.beginMarkedContentProps,["OC",u2]);const g2=l2.get("Group");if(g2){d2={matrix:h2,bbox:f2,smask:a3,isolated:!1,knockout:!1};const t4=g2.get("S");let s3=null;if((0,i.isName)(t4,"Transparency")&&(d2.isolated=g2.get("I")||!1,d2.knockout=g2.get("K")||!1,g2.has("CS"))){const t5=g2.getRaw("CS");s3=S.ColorSpace.getCached(t5,_this29.xref,c2)||(yield _this29.parseColorSpace({cs:t5,resources:e3,localColorSpaceCache:c2}))}a3&&a3.backdrop&&(s3=s3||S.ColorSpace.singletons.rgb,a3.backdrop=s3.getRgb(a3.backdrop,0)),n2.addOp(r.OPS.beginGroup,[d2])}return n2.addOp(r.OPS.paintFormXObjectBegin,g2?[h2,null]:[h2,f2]),_this29.getOperatorList({stream:t3,task:s2,resources:l2.get("Resources")||e3,operatorList:n2,initialState:o2}).then(function(){n2.addOp(r.OPS.paintFormXObjectEnd,[]),g2&&n2.addOp(r.OPS.endGroup,[d2]),void 0!==u2&&n2.addOp(r.OPS.endMarkedContent,[])})})()}_sendImgData(e3,t3,a3=!1){const r2=t3?[t3.bitmap||t3.data.buffer]:null;return this.parsingType3Font||a3?this.handler.send("commonobj",[e3,"Image",t3],r2):this.handler.send("obj",[e3,this.pageIndex,"Image",t3],r2)}buildPaintImageXObject({resources:e3,image:t3,isInline:a3=!1,operatorList:n2,cacheKey:i2,localImageCache:s2,localColorSpaceCache:o2}){var _this30=this;return _asyncToGenerator2(function*(){const c2=t3.dict,l2=c2.objId,h2=c2.get("W","Width"),u2=c2.get("H","Height");if(!h2||"number"!=typeof h2||!u2||"number"!=typeof u2)return void(0,r.warn)("Image dimensions are missing, or not numbers.");const d2=_this30.options.maxImageSize;if(-1!==d2&&h2*u2>d2){const e4="Image exceeded maximum allowed size and was removed.";if(_this30.options.ignoreErrors)return void(0,r.warn)(e4);throw new Error(e4)}let f2,g2,p2;if(c2.has("OC")&&(f2=yield _this30.parseMarkedContentProps(c2.get("OC"),e3)),c2.get("IM","ImageMask")){const e4=c2.get("I","Interpolate"),o3=t3.getBytes((h2+7>>3)*u2),d3=c2.getArray("D","Decode");if(_this30.parsingType3Font)return g2=T.PDFImage.createRawMask({imgArray:o3,width:h2,height:u2,imageIsFromDecodeStream:t3 instanceof x.DecodeStream,inverseDecode:!!d3&&d3[0]>0,interpolate:e4}),g2.cached=!!i2,p2=[g2],n2.addImageOps(r.OPS.paintImageMaskXObject,p2,f2),void(i2&&s2.set(i2,l2,{fn:r.OPS.paintImageMaskXObject,args:p2,optionalContent:f2}));if(g2=T.PDFImage.createMask({imgArray:o3,width:h2,height:u2,imageIsFromDecodeStream:t3 instanceof x.DecodeStream,inverseDecode:!!d3&&d3[0]>0,interpolate:e4}),g2.isSingleOpaquePixel)return n2.addImageOps(r.OPS.paintSolidColorImageMask,[],f2),void(i2&&s2.set(i2,l2,{fn:r.OPS.paintSolidColorImageMask,args:[],optionalContent:f2}));const m3=`mask_${_this30.idFactory.createObjId()}`;return n2.addDependency(m3),_this30._sendImgData(m3,g2),p2=[{data:m3,width:g2.width,height:g2.height,interpolate:g2.interpolate,count:1}],n2.addImageOps(r.OPS.paintImageMaskXObject,p2,f2),void(i2&&s2.set(i2,l2,{fn:r.OPS.paintImageMaskXObject,args:p2,optionalContent:f2}))}const m2=c2.get("SM","SMask")||!1,b2=c2.get("Mask")||!1;if(a3&&!m2&&!b2&&h2+u2<200)return g2=new T.PDFImage({xref:_this30.xref,res:e3,image:t3,isInline:a3,pdfFunctionFactory:_this30._pdfFunctionFactory,localColorSpaceCache:o2}).createImageData(!0),void n2.addImageOps(r.OPS.paintInlineImageXObject,[g2],f2);let y2=`img_${_this30.idFactory.createObjId()}`,w2=!1;_this30.parsingType3Font?y2=`${_this30.idFactory.getDocId()}_type3_${y2}`:l2&&(w2=_this30.globalImageCache.shouldCache(l2,_this30.pageIndex),w2&&(y2=`${_this30.idFactory.getDocId()}_${y2}`)),n2.addDependency(y2),p2=[y2,h2,u2],T.PDFImage.buildImage({xref:_this30.xref,res:e3,image:t3,isInline:a3,pdfFunctionFactory:_this30._pdfFunctionFactory,localColorSpaceCache:o2}).then(e4=>(g2=e4.createImageData(!1),i2&&l2&&w2&&_this30.globalImageCache.addByteSize(l2,g2.data.length),_this30._sendImgData(y2,g2,w2))).catch(e4=>((0,r.warn)(`Unable to decode image "${y2}": "${e4}".`),_this30._sendImgData(y2,null,w2))),n2.addImageOps(r.OPS.paintImageXObject,p2,f2),i2&&(s2.set(i2,l2,{fn:r.OPS.paintImageXObject,args:p2,optionalContent:f2}),l2&&((0,r.assert)(!a3,"Cannot cache an inline image globally."),_this30.globalImageCache.addPageIndex(l2,_this30.pageIndex),w2&&_this30.globalImageCache.setData(l2,{objId:y2,fn:r.OPS.paintImageXObject,args:p2,optionalContent:f2,byteSize:0})))})()}handleSMask(e3,t3,a3,r2,n2,i2){const s2=e3.get("G"),o2={subtype:e3.get("S").name,backdrop:e3.get("BC")},c2=e3.get("TR");if((0,g.isPDFFunction)(c2)){const e4=this._pdfFunctionFactory.create(c2),t4=new Uint8Array(256),a4=new Float32Array(1);for(let r3=0;r3<256;r3++)a4[0]=r3/255,e4(a4,0,a4,0),t4[r3]=255*a4[0]|0;o2.transferMap=t4}return this.buildFormXObject(t3,s2,o2,a3,r2,n2.state.clone(),i2)}handleTransferFunction(e3){let t3;if(Array.isArray(e3))t3=e3;else{if(!(0,g.isPDFFunction)(e3))return null;t3=[e3]}const a3=[];let r2=0,n2=0;for(const e4 of t3){const t4=this.xref.fetchIfRef(e4);if(r2++,(0,i.isName)(t4,"Identity")){a3.push(null);continue}if(!(0,g.isPDFFunction)(t4))return null;const s2=this._pdfFunctionFactory.create(t4),o2=new Uint8Array(256),c2=new Float32Array(1);for(let e5=0;e5<256;e5++)c2[0]=e5/255,s2(c2,0,c2,0),o2[e5]=255*c2[0]|0;a3.push(o2),n2++}return 1!==r2&&4!==r2||0===n2?null:a3}handleTilingType(e3,t3,a3,n2,s2,o2,c2,l2){const h2=new O.OperatorList,d2=i.Dict.merge({xref:this.xref,dictArray:[s2.get("Resources"),a3]});return this.getOperatorList({stream:n2,task:c2,resources:d2,operatorList:h2}).then(function(){const a4=h2.getIR(),r2=(0,u.getTilingPatternIR)(a4,s2,t3);o2.addDependencies(h2.dependencies),o2.addOp(e3,r2),s2.objId&&l2.set(null,s2.objId,{operatorListIR:a4,dict:s2})}).catch(e4=>{if(!(e4 instanceof r.AbortException)){if(!this.options.ignoreErrors)throw e4;this.handler.send("UnsupportedFeature",{featureId:r.UNSUPPORTED_FEATURES.errorTilingPattern}),(0,r.warn)(`handleTilingType - ignoring pattern: "${e4}".`)}})}handleSetFont(e3,t3,a3,n2,o2,c2,l2=null,h2=null){return this.loadFont(t3&&t3[0]instanceof i.Name?t3[0].name:null,a3,e3,l2,h2).then(t4=>t4.font.isType3Font?t4.loadType3Data(this,e3,o2).then(function(){return n2.addDependencies(t4.type3Dependencies),t4}).catch(e4=>(this.handler.send("UnsupportedFeature",{featureId:r.UNSUPPORTED_FEATURES.errorFontLoadType3}),new TranslatedFont({loadedName:"g_font_error",font:new s.ErrorFont(`Type3 font load error: ${e4}`),dict:t4.font,evaluatorOptions:this.options}))):t4).then(e4=>(c2.font=e4.font,e4.send(this.handler),e4.loadedName))}handleText(e3,t3){const a3=t3.font,n2=a3.charsToGlyphs(e3);return a3.data&&(t3.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG||"Pattern"===t3.fillColorSpace.name||a3.disableFontFace||this.options.disableFontFace)&&PartialEvaluator.buildFontPaths(a3,n2,this.handler,this.options),n2}ensureStateFont(e3){if(e3.font)return;const t3=new r.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(!this.options.ignoreErrors)throw t3;this.handler.send("UnsupportedFeature",{featureId:r.UNSUPPORTED_FEATURES.errorFontState}),(0,r.warn)(`ensureStateFont: "${t3}".`)}setGState({resources:e3,gState:t3,operatorList:a3,cacheKey:n2,task:s2,stateManager:o2,localGStateCache:c2,localColorSpaceCache:l2}){var _this31=this;return _asyncToGenerator2(function*(){const h2=t3.objId;let u2=!0;const d2=[],f2=t3.getKeys();let g2=Promise.resolve();for(let n3=0,c3=f2.length;n3<c3;n3++){const c4=f2[n3],h3=t3.get(c4);switch(c4){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":d2.push([c4,h3]);break;case"Font":u2=!1,g2=g2.then(()=>_this31.handleSetFont(e3,null,h3[0],a3,s2,o2.state).then(function(e4){a3.addDependency(e4),d2.push([c4,[e4,h3[1]]])}));break;case"BM":d2.push([c4,normalizeBlendMode(h3)]);break;case"SMask":if((0,i.isName)(h3,"None")){d2.push([c4,!1]);break}h3 instanceof i.Dict?(u2=!1,g2=g2.then(()=>_this31.handleSMask(h3,e3,a3,s2,o2,l2)),d2.push([c4,!0])):(0,r.warn)("Unsupported SMask type");break;case"TR":const t4=_this31.handleTransferFunction(h3);d2.push([c4,t4]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,r.info)("graphic state operator "+c4);break;default:(0,r.info)("Unknown graphic state operator "+c4)}}return g2.then(function(){d2.length>0&&a3.addOp(r.OPS.setGState,[d2]),u2&&c2.set(n2,h2,d2)})})()}loadFont(e3,t3,a3,n2=null,c2=null){var _this32=this;const errorFont=function(){var _ref=_asyncToGenerator2(function*(){return new TranslatedFont({loadedName:"g_font_error",font:new s.ErrorFont(`Font "${e3}" is not available.`),dict:t3,evaluatorOptions:_this32.options})});return function(){return _ref.apply(this,arguments)}}(),l2=this.xref;let h2;if(t3)t3 instanceof i.Ref&&(h2=t3);else{const t4=a3.get("Font");t4&&(h2=t4.getRaw(e3))}if(!h2){const a4=`Font "${e3||t3&&t3.toString()}" is not available`;if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,r.warn)(`${a4}.`),errorFont();this.handler.send("UnsupportedFeature",{featureId:r.UNSUPPORTED_FEATURES.errorFontMissing}),(0,r.warn)(`${a4} -- attempting to fallback to a default font.`),h2=n2||PartialEvaluator.fallbackFontDict}if(this.parsingType3Font&&this.type3FontRefs.has(h2))return errorFont();if(this.fontCache.has(h2))return this.fontCache.get(h2);if(!((t3=l2.fetchIfRef(h2))instanceof i.Dict))return errorFont();if(t3.cacheKey&&this.fontCache.has(t3.cacheKey))return this.fontCache.get(t3.cacheKey);const u2=(0,r.createPromiseCapability)();let d2;try{d2=this.preEvaluateFont(t3),d2.cssFontInfo=c2}catch(e4){return(0,r.warn)(`loadFont - preEvaluateFont failed: "${e4}".`),errorFont()}const{descriptor:f2,hash:g2}=d2,p2=h2 instanceof i.Ref;let m2;if(p2&&(m2=`f${h2.toString()}`),g2&&f2 instanceof i.Dict){f2.fontAliases||(f2.fontAliases=Object.create(null));const e4=f2.fontAliases;if(e4[g2]){const t4=e4[g2].aliasRef;if(p2&&t4&&this.fontCache.has(t4))return this.fontCache.putAlias(h2,t4),this.fontCache.get(h2)}else e4[g2]={fontID:this.idFactory.createFontId()};p2&&(e4[g2].aliasRef=h2),m2=e4[g2].fontID}return p2?this.fontCache.put(h2,u2.promise):(m2||(m2=this.idFactory.createFontId()),t3.cacheKey=`cacheKey_${m2}`,this.fontCache.put(t3.cacheKey,u2.promise)),(0,r.assert)(m2&&m2.startsWith("f"),'The "fontID" must be (correctly) defined.'),t3.loadedName=`${this.idFactory.getDocId()}_${m2}`,this.translateFont(d2).then(e4=>{void 0!==e4.fontType&&l2.stats.addFontType(e4.fontType),u2.resolve(new TranslatedFont({loadedName:t3.loadedName,font:e4,dict:t3,evaluatorOptions:this.options}))}).catch(e4=>{this.handler.send("UnsupportedFeature",{featureId:r.UNSUPPORTED_FEATURES.errorFontTranslate}),(0,r.warn)(`loadFont - translateFont failed: "${e4}".`);try{const e5=f2&&f2.get("FontFile3"),t4=e5&&e5.get("Subtype"),a4=(0,o.getFontType)(d2.type,t4&&t4.name);void 0!==a4&&l2.stats.addFontType(a4)}catch{}u2.resolve(new TranslatedFont({loadedName:t3.loadedName,font:new s.ErrorFont(e4 instanceof Error?e4.message:e4),dict:t3,evaluatorOptions:this.options}))}),u2.promise}buildPath(e3,t3,a3,n2=!1){const i2=e3.length-1;let s2;if(a3||(a3=[]),i2<0||e3.fnArray[i2]!==r.OPS.constructPath)n2&&((0,r.warn)(`Encountered path operator "${t3}" inside of a text object.`),e3.addOp(r.OPS.save,null)),s2=[1/0,-1/0,1/0,-1/0],e3.addOp(r.OPS.constructPath,[[t3],a3,s2]),n2&&e3.addOp(r.OPS.restore,null);else{const r2=e3.argsArray[i2];r2[0].push(t3),Array.prototype.push.apply(r2[1],a3),s2=r2[2]}switch(t3){case r.OPS.rectangle:s2[0]=Math.min(s2[0],a3[0],a3[0]+a3[2]),s2[1]=Math.max(s2[1],a3[0],a3[0]+a3[2]),s2[2]=Math.min(s2[2],a3[1],a3[1]+a3[3]),s2[3]=Math.max(s2[3],a3[1],a3[1]+a3[3]);break;case r.OPS.moveTo:case r.OPS.lineTo:s2[0]=Math.min(s2[0],a3[0]),s2[1]=Math.max(s2[1],a3[0]),s2[2]=Math.min(s2[2],a3[1]),s2[3]=Math.max(s2[3],a3[1])}}parseColorSpace({cs:e3,resources:t3,localColorSpaceCache:a3}){return S.ColorSpace.parseAsync({cs:e3,xref:this.xref,resources:t3,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:a3}).catch(e4=>{if(e4 instanceof r.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:r.UNSUPPORTED_FEATURES.errorColorSpace}),(0,r.warn)(`parseColorSpace - ignoring ColorSpace: "${e4}".`),null;throw e4})}parseShading({shading:e3,resources:t3,localColorSpaceCache:a3,localShadingPatternCache:r2}){let n2=r2.get(e3);if(!n2){const i2=u.Pattern.parseShading(e3,this.xref,t3,this.handler,this._pdfFunctionFactory,a3).getIR();n2=`pattern_${this.idFactory.createObjId()}`,r2.set(e3,n2),this.handler.send("obj",[n2,this.pageIndex,"Pattern",i2])}return n2}handleColorN(e3,t3,a3,n2,s2,o2,c2,l2,h2,d2){const f2=a3.pop();if(f2 instanceof i.Name){const g2=s2.getRaw(f2.name),p2=g2 instanceof i.Ref&&h2.getByRef(g2);if(p2)try{const r2=n2.base?n2.base.getRgb(a3,0):null,i2=(0,u.getTilingPatternIR)(p2.operatorListIR,p2.dict,r2);return void e3.addOp(t3,i2)}catch{}const m2=this.xref.fetchIfRef(g2);if(m2){const i2=m2 instanceof y.BaseStream?m2.dict:m2,s3=i2.get("PatternType");if(1===s3){const r2=n2.base?n2.base.getRgb(a3,0):null;return this.handleTilingType(t3,r2,o2,m2,i2,e3,c2,h2)}if(2===s3){const a4=i2.get("Shading"),r2=i2.getArray("Matrix"),n3=this.parseShading({shading:a4,resources:o2,localColorSpaceCache:l2,localShadingPatternCache:d2});return void e3.addOp(t3,["Shading",n3,r2])}throw new r.FormatError(`Unknown PatternType: ${s3}`)}}throw new r.FormatError(`Unknown PatternName: ${f2}`)}_parseVisibilityExpression(e3,t3,a3){if(++t3>10)return void(0,r.warn)("Visibility expression is too deeply nested");const n2=e3.length,s2=this.xref.fetchIfRef(e3[0]);if(!(n2<2)&&s2 instanceof i.Name){switch(s2.name){case"And":case"Or":case"Not":a3.push(s2.name);break;default:return void(0,r.warn)(`Invalid operator ${s2.name} in visibility expression`)}for(let r2=1;r2<n2;r2++){const n3=e3[r2],s3=this.xref.fetchIfRef(n3);if(Array.isArray(s3)){const e4=[];a3.push(e4),this._parseVisibilityExpression(s3,t3,e4)}else n3 instanceof i.Ref&&a3.push(n3.toString())}}else(0,r.warn)("Invalid visibility expression")}parseMarkedContentProps(e3,t3){var _this33=this;return _asyncToGenerator2(function*(){let a3;if(e3 instanceof i.Name)a3=t3.get("Properties").get(e3.name);else{if(!(e3 instanceof i.Dict))throw new r.FormatError("Optional content properties malformed.");a3=e3}const n2=a3.get("Type").name;if("OCG"===n2)return{type:n2,id:a3.objId};if("OCMD"===n2){const e4=a3.get("VE");if(Array.isArray(e4)){const t5=[];if(_this33._parseVisibilityExpression(e4,0,t5),t5.length>0)return{type:"OCMD",expression:t5}}const t4=a3.get("OCGs");if(Array.isArray(t4)||t4 instanceof i.Dict){const e5=[];if(Array.isArray(t4))for(const a4 of t4)e5.push(a4.toString());else e5.push(t4.objId);return{type:n2,ids:e5,policy:a3.get("P")instanceof i.Name?a3.get("P").name:null,expression:null}}if(t4 instanceof i.Ref)return{type:n2,id:t4.toString()}}return null})()}getOperatorList({stream:e3,task:t3,resources:a3,operatorList:n2,initialState:s2=null,fallbackFontDict:o2=null}){if(a3=a3||i.Dict.empty,s2=s2||new EvalState,!n2)throw new Error('getOperatorList: missing "operatorList" parameter');const c2=this,l2=this.xref;let h2=!1;const u2=new m.LocalImageCache,d2=new m.LocalColorSpaceCache,f2=new m.LocalGStateCache,g2=new m.LocalTilingPatternCache,p2=new Map,b2=a3.get("XObject")||i.Dict.empty,w2=a3.get("Pattern")||i.Dict.empty,x2=new StateManager(s2),k2=new EvaluatorPreprocessor(e3,l2,x2),C2=new TimeSlotManager;function closePendingRestoreOPS(e4){for(let e5=0,t4=k2.savedStatesDepth;e5<t4;e5++)n2.addOp(r.OPS.restore,[])}return new Promise(function promiseBody(e4,s3){const next=function(t4){Promise.all([t4,n2.ready]).then(function(){try{promiseBody(e4,s3)}catch(e5){s3(e5)}},s3)};t3.ensureNotTerminated(),C2.reset();const m2={};let v2,F2,O2,T2,M2,E2;for(;!(v2=C2.check())&&(m2.args=null,k2.read(m2));){let e5=m2.args,s4=m2.fn;switch(0|s4){case r.OPS.paintXObject:if(E2=e5[0]instanceof i.Name,M2=e5[0].name,E2){const t4=u2.getByName(M2);if(t4){n2.addImageOps(t4.fn,t4.args,t4.optionalContent),incrementCachedImageMaskCount(t4),e5=null;continue}}return void next(new Promise(function(e6,s5){if(!E2)throw new r.FormatError("XObject must be referred to by name.");let o3=b2.getRaw(M2);if(o3 instanceof i.Ref){const t4=u2.getByRef(o3);if(t4)return n2.addImageOps(t4.fn,t4.args,t4.optionalContent),incrementCachedImageMaskCount(t4),void e6();const a4=c2.globalImageCache.getData(o3,c2.pageIndex);if(a4)return n2.addDependency(a4.objId),n2.addImageOps(a4.fn,a4.args,a4.optionalContent),void e6();o3=l2.fetch(o3)}if(!(o3 instanceof y.BaseStream))throw new r.FormatError("XObject should be a stream");const h3=o3.dict.get("Subtype");if(!(h3 instanceof i.Name))throw new r.FormatError("XObject should have a Name subtype");if("Form"!==h3.name)if("Image"!==h3.name){if("PS"!==h3.name)throw new r.FormatError(`Unhandled XObject subtype ${h3.name}`);(0,r.info)("Ignored XObject subtype PS"),e6()}else c2.buildPaintImageXObject({resources:a3,image:o3,operatorList:n2,cacheKey:M2,localImageCache:u2,localColorSpaceCache:d2}).then(e6,s5);else x2.save(),c2.buildFormXObject(a3,o3,null,n2,t3,x2.state.clone(),d2).then(function(){x2.restore(),e6()},s5)}).catch(function(e6){if(!(e6 instanceof r.AbortException)){if(!c2.options.ignoreErrors)throw e6;c2.handler.send("UnsupportedFeature",{featureId:r.UNSUPPORTED_FEATURES.errorXObject}),(0,r.warn)(`getOperatorList - ignoring XObject: "${e6}".`)}}));case r.OPS.setFont:var D2=e5[1];return void next(c2.handleSetFont(a3,e5,null,n2,t3,x2.state,o2).then(function(e6){n2.addDependency(e6),n2.addOp(r.OPS.setFont,[e6,D2])}));case r.OPS.beginText:h2=!0;break;case r.OPS.endText:h2=!1;break;case r.OPS.endInlineImage:var R=e5[0].cacheKey;if(R){const t4=u2.getByName(R);if(t4){n2.addImageOps(t4.fn,t4.args,t4.optionalContent),incrementCachedImageMaskCount(t4),e5=null;continue}}return void next(c2.buildPaintImageXObject({resources:a3,image:e5[0],isInline:!0,operatorList:n2,cacheKey:R,localImageCache:u2,localColorSpaceCache:d2}));case r.OPS.showText:if(!x2.state.font){c2.ensureStateFont(x2.state);continue}e5[0]=c2.handleText(e5[0],x2.state);break;case r.OPS.showSpacedText:if(!x2.state.font){c2.ensureStateFont(x2.state);continue}var L=e5[0],j=[],$=L.length,_=x2.state;for(F2=0;F2<$;++F2){const e6=L[F2];"string"==typeof e6?Array.prototype.push.apply(j,c2.handleText(e6,_)):"number"==typeof e6&&j.push(e6)}e5[0]=j,s4=r.OPS.showText;break;case r.OPS.nextLineShowText:if(!x2.state.font){c2.ensureStateFont(x2.state);continue}n2.addOp(r.OPS.nextLine),e5[0]=c2.handleText(e5[0],x2.state),s4=r.OPS.showText;break;case r.OPS.nextLineSetSpacingShowText:if(!x2.state.font){c2.ensureStateFont(x2.state);continue}n2.addOp(r.OPS.nextLine),n2.addOp(r.OPS.setWordSpacing,[e5.shift()]),n2.addOp(r.OPS.setCharSpacing,[e5.shift()]),e5[0]=c2.handleText(e5[0],x2.state),s4=r.OPS.showText;break;case r.OPS.setTextRenderingMode:x2.state.textRenderingMode=e5[0];break;case r.OPS.setFillColorSpace:{const t4=S.ColorSpace.getCached(e5[0],l2,d2);if(t4){x2.state.fillColorSpace=t4;continue}return void next(c2.parseColorSpace({cs:e5[0],resources:a3,localColorSpaceCache:d2}).then(function(e6){e6&&(x2.state.fillColorSpace=e6)}))}case r.OPS.setStrokeColorSpace:{const t4=S.ColorSpace.getCached(e5[0],l2,d2);if(t4){x2.state.strokeColorSpace=t4;continue}return void next(c2.parseColorSpace({cs:e5[0],resources:a3,localColorSpaceCache:d2}).then(function(e6){e6&&(x2.state.strokeColorSpace=e6)}))}case r.OPS.setFillColor:T2=x2.state.fillColorSpace,e5=T2.getRgb(e5,0),s4=r.OPS.setFillRGBColor;break;case r.OPS.setStrokeColor:T2=x2.state.strokeColorSpace,e5=T2.getRgb(e5,0),s4=r.OPS.setStrokeRGBColor;break;case r.OPS.setFillGray:x2.state.fillColorSpace=S.ColorSpace.singletons.gray,e5=S.ColorSpace.singletons.gray.getRgb(e5,0),s4=r.OPS.setFillRGBColor;break;case r.OPS.setStrokeGray:x2.state.strokeColorSpace=S.ColorSpace.singletons.gray,e5=S.ColorSpace.singletons.gray.getRgb(e5,0),s4=r.OPS.setStrokeRGBColor;break;case r.OPS.setFillCMYKColor:x2.state.fillColorSpace=S.ColorSpace.singletons.cmyk,e5=S.ColorSpace.singletons.cmyk.getRgb(e5,0),s4=r.OPS.setFillRGBColor;break;case r.OPS.setStrokeCMYKColor:x2.state.strokeColorSpace=S.ColorSpace.singletons.cmyk,e5=S.ColorSpace.singletons.cmyk.getRgb(e5,0),s4=r.OPS.setStrokeRGBColor;break;case r.OPS.setFillRGBColor:x2.state.fillColorSpace=S.ColorSpace.singletons.rgb,e5=S.ColorSpace.singletons.rgb.getRgb(e5,0);break;case r.OPS.setStrokeRGBColor:x2.state.strokeColorSpace=S.ColorSpace.singletons.rgb,e5=S.ColorSpace.singletons.rgb.getRgb(e5,0);break;case r.OPS.setFillColorN:if(T2=x2.state.fillColorSpace,"Pattern"===T2.name)return void next(c2.handleColorN(n2,r.OPS.setFillColorN,e5,T2,w2,a3,t3,d2,g2,p2));e5=T2.getRgb(e5,0),s4=r.OPS.setFillRGBColor;break;case r.OPS.setStrokeColorN:if(T2=x2.state.strokeColorSpace,"Pattern"===T2.name)return void next(c2.handleColorN(n2,r.OPS.setStrokeColorN,e5,T2,w2,a3,t3,d2,g2,p2));e5=T2.getRgb(e5,0),s4=r.OPS.setStrokeRGBColor;break;case r.OPS.shadingFill:var U=a3.get("Shading");if(!U)throw new r.FormatError("No shading resource found");var X=U.get(e5[0].name);if(!X)throw new r.FormatError("No shading object found");e5=[c2.parseShading({shading:X,resources:a3,localColorSpaceCache:d2,localShadingPatternCache:p2})],s4=r.OPS.shadingFill;break;case r.OPS.setGState:if(E2=e5[0]instanceof i.Name,M2=e5[0].name,E2){const t4=f2.getByName(M2);if(t4){t4.length>0&&n2.addOp(r.OPS.setGState,[t4]),e5=null;continue}}return void next(new Promise(function(e6,s5){if(!E2)throw new r.FormatError("GState must be referred to by name.");const o3=a3.get("ExtGState");if(!(o3 instanceof i.Dict))throw new r.FormatError("ExtGState should be a dictionary.");const l3=o3.get(M2);if(!(l3 instanceof i.Dict))throw new r.FormatError("GState should be a dictionary.");c2.setGState({resources:a3,gState:l3,operatorList:n2,cacheKey:M2,task:t3,stateManager:x2,localGStateCache:f2,localColorSpaceCache:d2}).then(e6,s5)}).catch(function(e6){if(!(e6 instanceof r.AbortException)){if(!c2.options.ignoreErrors)throw e6;c2.handler.send("UnsupportedFeature",{featureId:r.UNSUPPORTED_FEATURES.errorExtGState}),(0,r.warn)(`getOperatorList - ignoring ExtGState: "${e6}".`)}}));case r.OPS.moveTo:case r.OPS.lineTo:case r.OPS.curveTo:case r.OPS.curveTo2:case r.OPS.curveTo3:case r.OPS.closePath:case r.OPS.rectangle:c2.buildPath(n2,s4,e5,h2);continue;case r.OPS.markPoint:case r.OPS.markPointProps:case r.OPS.beginCompat:case r.OPS.endCompat:continue;case r.OPS.beginMarkedContentProps:if(!(e5[0]instanceof i.Name)){(0,r.warn)(`Expected name for beginMarkedContentProps arg0=${e5[0]}`);continue}if("OC"===e5[0].name)return void next(c2.parseMarkedContentProps(e5[1],a3).then(e6=>{n2.addOp(r.OPS.beginMarkedContentProps,["OC",e6])}).catch(e6=>{if(!(e6 instanceof r.AbortException)){if(!c2.options.ignoreErrors)throw e6;c2.handler.send("UnsupportedFeature",{featureId:r.UNSUPPORTED_FEATURES.errorMarkedContent}),(0,r.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${e6}".`)}}));e5=[e5[0].name,e5[1]instanceof i.Dict?e5[1].get("MCID"):null];break;default:if(null!==e5){for(F2=0,O2=e5.length;F2<O2&&!(e5[F2]instanceof i.Dict);F2++);if(F2<O2){(0,r.warn)("getOperatorList - ignoring operator: "+s4);continue}}}n2.addOp(s4,e5)}v2?next(N):(closePendingRestoreOPS(),e4())}).catch(e4=>{if(!(e4 instanceof r.AbortException)){if(!this.options.ignoreErrors)throw e4;this.handler.send("UnsupportedFeature",{featureId:r.UNSUPPORTED_FEATURES.errorOperatorList}),(0,r.warn)(`getOperatorList - ignoring errors during "${t3.name}" task: "${e4}".`),closePendingRestoreOPS()}})}getTextContent({stream:e3,task:t3,resources:a3,stateManager:n2=null,combineTextItems:s2=!1,includeMarkedContent:o2=!1,sink:c2,seenStyles:l2=new Set,viewBox:u2}){a3=a3||i.Dict.empty,n2=n2||new StateManager(new TextState);const d2=(0,h.getNormalizedUnicodes)(),f2={items:[],styles:Object.create(null)},g2={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},p2=[" "," "];let b2=0;function saveLastChar(e4){const t4=(b2+1)%2,a4=" "!==p2[b2]&&" "===p2[t4];return p2[b2]=e4,b2=t4,a4}function resetLastChars(){p2[0]=p2[1]=" ",b2=0}const S2=this,x2=this.xref,k2=[];let C2=null;const v2=new m.LocalImageCache,F2=new m.LocalGStateCache,O2=new EvaluatorPreprocessor(e3,x2,n2);let T2;function getCurrentTextTransform(){const e4=T2.font,t4=[T2.fontSize*T2.textHScale,0,0,T2.fontSize,0,T2.textRise];if(e4.isType3Font&&(T2.fontSize<=1||e4.isCharBBox)&&!(0,r.isArrayEqual)(T2.fontMatrix,r.FONT_IDENTITY_MATRIX)){const a4=e4.bbox[3]-e4.bbox[1];a4>0&&(t4[3]*=a4*T2.fontMatrix[3])}return r.Util.transform(T2.ctm,r.Util.transform(T2.textMatrix,t4))}function ensureTextContentItem(){if(g2.initialized)return g2;const e4=T2.font,t4=e4.loadedName;l2.has(t4)||(l2.add(t4),f2.styles[t4]={fontFamily:e4.fallbackName,ascent:e4.ascent,descent:e4.descent,vertical:e4.vertical}),g2.fontName=t4;const a4=g2.transform=getCurrentTextTransform();e4.vertical?(g2.width=g2.totalWidth=Math.hypot(a4[0],a4[1]),g2.height=g2.totalHeight=0,g2.vertical=!0):(g2.width=g2.totalWidth=0,g2.height=g2.totalHeight=Math.hypot(a4[2],a4[3]),g2.vertical=!1);const r2=Math.hypot(T2.textLineMatrix[0],T2.textLineMatrix[1]),n3=Math.hypot(T2.ctm[0],T2.ctm[1]);return g2.textAdvanceScale=n3*r2,g2.trackingSpaceMin=.1*T2.fontSize,g2.notASpace=.03*T2.fontSize,g2.negativeSpaceMax=-.2*T2.fontSize,g2.spaceInFlowMin=.1*T2.fontSize,g2.spaceInFlowMax=.6*T2.fontSize,g2.hasEOL=!1,g2.initialized=!0,g2}function updateAdvanceScale(){if(!g2.initialized)return;const e4=Math.hypot(T2.textLineMatrix[0],T2.textLineMatrix[1]),t4=Math.hypot(T2.ctm[0],T2.ctm[1])*e4;t4!==g2.textAdvanceScale&&(g2.vertical?(g2.totalHeight+=g2.height*g2.textAdvanceScale,g2.height=0):(g2.totalWidth+=g2.width*g2.textAdvanceScale,g2.width=0),g2.textAdvanceScale=t4)}function handleSetFont(e4,n3){return S2.loadFont(e4,n3,a3).then(function(e5){return e5.font.isType3Font?e5.loadType3Data(S2,a3,t3).catch(function(){}).then(function(){return e5}):e5}).then(function(e5){T2.font=e5.font,T2.fontMatrix=e5.font.fontMatrix||r.FONT_IDENTITY_MATRIX})}function applyInverseRotation(e4,t4,a4){const r2=Math.hypot(a4[0],a4[1]);return[(a4[0]*e4+a4[1]*t4)/r2,(a4[2]*e4+a4[3]*t4)/r2]}function compareWithLastPosition(){const e4=getCurrentTextTransform();let t4=e4[4],a4=e4[5];const r2=t4-u2[0],n3=a4-u2[1];if(r2<0||r2>u2[2]||n3<0||n3>u2[3])return!1;if(!s2||!T2.font||!g2.prevTransform)return!0;let i2=g2.prevTransform[4],o3=g2.prevTransform[5];if(i2===t4&&o3===a4)return!0;let c3=-1;switch(e4[0]&&0===e4[1]&&0===e4[2]?c3=e4[0]>0?0:180:e4[1]&&0===e4[0]&&0===e4[3]&&(c3=e4[1]>0?90:270),c3){case 0:break;case 90:[t4,a4]=[a4,t4],[i2,o3]=[o3,i2];break;case 180:[t4,a4,i2,o3]=[-t4,-a4,-i2,-o3];break;case 270:[t4,a4]=[-a4,-t4],[i2,o3]=[-o3,-i2];break;default:[t4,a4]=applyInverseRotation(t4,a4,e4),[i2,o3]=applyInverseRotation(i2,o3,g2.prevTransform)}if(T2.font.vertical){const e5=(o3-a4)/g2.textAdvanceScale,r3=t4-i2,n4=Math.sign(g2.height);return e5<n4*g2.negativeSpaceMax?Math.abs(r3)>.5*g2.width?(appendEOL(),!0):(resetLastChars(),flushTextContentItem(),!0):Math.abs(r3)>g2.width?(appendEOL(),!0):(e5<=n4*g2.notASpace&&resetLastChars(),e5<=n4*g2.trackingSpaceMin?g2.height+=e5:addFakeSpaces(e5,g2.prevTransform,n4)||(0===g2.str.length?(resetLastChars(),f2.items.push({str:" ",dir:"ltr",width:0,height:Math.abs(e5),transform:g2.prevTransform,fontName:g2.fontName,hasEOL:!1})):g2.height+=e5),!0)}const l3=(t4-i2)/g2.textAdvanceScale,h2=a4-o3,d3=Math.sign(g2.width);return l3<d3*g2.negativeSpaceMax?Math.abs(h2)>.5*g2.height?(appendEOL(),!0):(resetLastChars(),flushTextContentItem(),!0):Math.abs(h2)>g2.height?(appendEOL(),!0):(l3<=d3*g2.notASpace&&resetLastChars(),l3<=d3*g2.trackingSpaceMin?g2.width+=l3:addFakeSpaces(l3,g2.prevTransform,d3)||(0===g2.str.length?(resetLastChars(),f2.items.push({str:" ",dir:"ltr",width:Math.abs(l3),height:0,transform:g2.prevTransform,fontName:g2.fontName,hasEOL:!1})):g2.width+=l3),!0)}function buildTextContentItem({chars:e4,extraSpacing:t4}){const a4=T2.font;if(!e4){const e5=T2.charSpacing+t4;return void(e5&&(a4.vertical?T2.translateTextMatrix(0,-e5):T2.translateTextMatrix(e5*T2.textHScale,0)))}const r2=a4.charsToGlyphs(e4),n3=T2.fontMatrix[0]*T2.fontSize;for(let e5=0,i2=r2.length;e5<i2;e5++){const s3=r2[e5];if(s3.isInvisibleFormatMark)continue;let o3=T2.charSpacing+(e5+1===i2?t4:0),c3=s3.width;a4.vertical&&(c3=s3.vmetric?s3.vmetric[0]:-c3);let l3=c3*n3;if(s3.isWhitespace){a4.vertical?(o3+=-l3+T2.wordSpacing,T2.translateTextMatrix(0,-o3)):(o3+=l3+T2.wordSpacing,T2.translateTextMatrix(o3*T2.textHScale,0)),saveLastChar(" ");continue}if(!compareWithLastPosition())continue;const u3=ensureTextContentItem();s3.isZeroWidthDiacritic&&(l3=0),a4.vertical?(T2.translateTextMatrix(0,l3),l3=Math.abs(l3),u3.height+=l3):(l3*=T2.textHScale,T2.translateTextMatrix(l3,0),u3.width+=l3),l3&&(u3.prevTransform=getCurrentTextTransform());let f3=s3.unicode;f3=d2[f3]||f3,f3=(0,h.reverseIfRtl)(f3),saveLastChar(f3)&&u3.str.push(" "),u3.str.push(f3),o3&&(a4.vertical?T2.translateTextMatrix(0,-o3):T2.translateTextMatrix(o3*T2.textHScale,0))}}function appendEOL(){resetLastChars(),g2.initialized?(g2.hasEOL=!0,flushTextContentItem()):f2.items.push({str:"",dir:"ltr",width:0,height:0,transform:getCurrentTextTransform(),fontName:T2.font.loadedName,hasEOL:!0})}function addFakeSpaces(e4,t4,a4){if(a4*g2.spaceInFlowMin<=e4&&e4<=a4*g2.spaceInFlowMax)return g2.initialized&&(resetLastChars(),g2.str.push(" ")),!1;const r2=g2.fontName;let n3=0;return g2.vertical&&(n3=e4,e4=0),flushTextContentItem(),resetLastChars(),f2.items.push({str:" ",dir:"ltr",width:Math.abs(e4),height:Math.abs(n3),transform:t4||getCurrentTextTransform(),fontName:r2,hasEOL:!1}),!0}function flushTextContentItem(){g2.initialized&&g2.str&&(g2.vertical?g2.totalHeight+=g2.height*g2.textAdvanceScale:g2.totalWidth+=g2.width*g2.textAdvanceScale,f2.items.push(function(e4){const t4=e4.str.join(""),a4=(0,w.bidi)(t4,-1,e4.vertical);return{str:a4.str,dir:a4.dir,width:Math.abs(e4.totalWidth),height:Math.abs(e4.totalHeight),transform:e4.transform,fontName:e4.fontName,hasEOL:e4.hasEOL}}(g2)),g2.initialized=!1,g2.str.length=0)}function enqueueChunk(e4=!1){const t4=f2.items.length;0!==t4&&!(e4&&t4<10)&&(c2.enqueue(f2,t4),f2.items=[],f2.styles=Object.create(null))}const M2=new TimeSlotManager;return new Promise(function promiseBody(e4,h2){const next=function(t4){enqueueChunk(!0),Promise.all([t4,c2.ready]).then(function(){try{promiseBody(e4,h2)}catch(e5){h2(e5)}},h2)};t3.ensureNotTerminated(),M2.reset();const d3={};let g3,p3=[];for(;!(g3=M2.check())&&(p3.length=0,d3.args=p3,O2.read(d3));){switch(T2=n2.state,p3=d3.args,0|d3.fn){case r.OPS.setFont:var m2=p3[0].name,b3=p3[1];if(T2.font&&m2===T2.fontName&&b3===T2.fontSize)break;return flushTextContentItem(),T2.fontName=m2,T2.fontSize=b3,void next(handleSetFont(m2,null));case r.OPS.setTextRise:T2.textRise=p3[0];break;case r.OPS.setHScale:T2.textHScale=p3[0]/100;break;case r.OPS.setLeading:T2.leading=p3[0];break;case r.OPS.moveText:T2.translateTextLineMatrix(p3[0],p3[1]),T2.textMatrix=T2.textLineMatrix.slice();break;case r.OPS.setLeadingMoveText:T2.leading=-p3[1],T2.translateTextLineMatrix(p3[0],p3[1]),T2.textMatrix=T2.textLineMatrix.slice();break;case r.OPS.nextLine:T2.carriageReturn();break;case r.OPS.setTextMatrix:T2.setTextMatrix(p3[0],p3[1],p3[2],p3[3],p3[4],p3[5]),T2.setTextLineMatrix(p3[0],p3[1],p3[2],p3[3],p3[4],p3[5]),updateAdvanceScale();break;case r.OPS.setCharSpacing:T2.charSpacing=p3[0];break;case r.OPS.setWordSpacing:T2.wordSpacing=p3[0];break;case r.OPS.beginText:T2.textMatrix=r.IDENTITY_MATRIX.slice(),T2.textLineMatrix=r.IDENTITY_MATRIX.slice();break;case r.OPS.showSpacedText:if(!n2.state.font){S2.ensureStateFont(n2.state);continue}const e6=(T2.font.vertical?1:-1)*T2.fontSize/1e3,h3=p3[0];for(let t4=0,a4=h3.length;t4<a4-1;t4++){const a5=h3[t4];if("string"==typeof a5)k2.push(a5);else if("number"==typeof a5&&0!==a5){const t5=k2.join("");k2.length=0,buildTextContentItem({chars:t5,extraSpacing:a5*e6})}}const d4=h3.at(-1);if("string"==typeof d4&&k2.push(d4),k2.length>0){const e7=k2.join("");k2.length=0,buildTextContentItem({chars:e7,extraSpacing:0})}break;case r.OPS.showText:if(!n2.state.font){S2.ensureStateFont(n2.state);continue}buildTextContentItem({chars:p3[0],extraSpacing:0});break;case r.OPS.nextLineShowText:if(!n2.state.font){S2.ensureStateFont(n2.state);continue}T2.carriageReturn(),buildTextContentItem({chars:p3[0],extraSpacing:0});break;case r.OPS.nextLineSetSpacingShowText:if(!n2.state.font){S2.ensureStateFont(n2.state);continue}T2.wordSpacing=p3[0],T2.charSpacing=p3[1],T2.carriageReturn(),buildTextContentItem({chars:p3[2],extraSpacing:0});break;case r.OPS.paintXObject:flushTextContentItem(),C2||(C2=a3.get("XObject")||i.Dict.empty);var w2=p3[0]instanceof i.Name,E2=p3[0].name;if(w2&&v2.getByName(E2))break;return void next(new Promise(function(e7,h4){if(!w2)throw new r.FormatError("XObject must be referred to by name.");let d5=C2.getRaw(E2);if(d5 instanceof i.Ref){if(v2.getByRef(d5))return void e7();if(S2.globalImageCache.getData(d5,S2.pageIndex))return void e7();d5=x2.fetch(d5)}if(!(d5 instanceof y.BaseStream))throw new r.FormatError("XObject should be a stream");const f3=d5.dict.get("Subtype");if(!(f3 instanceof i.Name))throw new r.FormatError("XObject should have a Name subtype");if("Form"!==f3.name)return v2.set(E2,d5.dict.objId,!0),void e7();const g4=n2.state.clone(),p4=new StateManager(g4),m3=d5.dict.getArray("Matrix");Array.isArray(m3)&&6===m3.length&&p4.transform(m3),enqueueChunk();const b4={enqueueInvoked:!1,enqueue(e8,t4){this.enqueueInvoked=!0,c2.enqueue(e8,t4)},get desiredSize(){return c2.desiredSize},get ready(){return c2.ready}};S2.getTextContent({stream:d5,task:t3,resources:d5.dict.get("Resources")||a3,stateManager:p4,combineTextItems:s2,includeMarkedContent:o2,sink:b4,seenStyles:l2,viewBox:u2}).then(function(){b4.enqueueInvoked||v2.set(E2,d5.dict.objId,!0),e7()},h4)}).catch(function(e7){if(!(e7 instanceof r.AbortException)){if(!S2.options.ignoreErrors)throw e7;(0,r.warn)(`getTextContent - ignoring XObject: "${e7}".`)}}));case r.OPS.setGState:if(E2=p3[0].name,(w2=p3[0]instanceof i.Name)&&F2.getByName(E2))break;return void next(new Promise(function(e7,t4){if(!w2)throw new r.FormatError("GState must be referred to by name.");const n3=a3.get("ExtGState");if(!(n3 instanceof i.Dict))throw new r.FormatError("ExtGState should be a dictionary.");const s3=n3.get(E2);if(!(s3 instanceof i.Dict))throw new r.FormatError("GState should be a dictionary.");const o3=s3.get("Font");o3?(flushTextContentItem(),T2.fontName=null,T2.fontSize=o3[1],handleSetFont(null,o3[0]).then(e7,t4)):(F2.set(E2,s3.objId,!0),e7())}).catch(function(e7){if(!(e7 instanceof r.AbortException)){if(!S2.options.ignoreErrors)throw e7;(0,r.warn)(`getTextContent - ignoring ExtGState: "${e7}".`)}}));case r.OPS.beginMarkedContent:flushTextContentItem(),o2&&f2.items.push({type:"beginMarkedContent",tag:p3[0]instanceof i.Name?p3[0].name:null});break;case r.OPS.beginMarkedContentProps:if(flushTextContentItem(),o2){let e7=null;p3[1]instanceof i.Dict&&(e7=p3[1].get("MCID")),f2.items.push({type:"beginMarkedContentProps",id:Number.isInteger(e7)?`${S2.idFactory.getPageObjId()}_mcid${e7}`:null,tag:p3[0]instanceof i.Name?p3[0].name:null})}break;case r.OPS.endMarkedContent:flushTextContentItem(),o2&&f2.items.push({type:"endMarkedContent"})}if(f2.items.length>=c2.desiredSize){g3=!0;break}}g3?next(N):(flushTextContentItem(),enqueueChunk(),e4())}).catch(e4=>{if(!(e4 instanceof r.AbortException)){if(!this.options.ignoreErrors)throw e4;(0,r.warn)(`getTextContent - ignoring errors during "${t3.name}" task: "${e4}".`),flushTextContentItem(),enqueueChunk()}})}extractDataStructures(e3,t3,a3){const n2=this.xref;let s2;const l2=this.readToUnicode(a3.toUnicode||e3.get("ToUnicode")||t3.get("ToUnicode"));if(a3.composite){const t4=e3.get("CIDSystemInfo");t4 instanceof i.Dict&&(a3.cidSystemInfo={registry:(0,r.stringToPDFString)(t4.get("Registry")),ordering:(0,r.stringToPDFString)(t4.get("Ordering")),supplement:t4.get("Supplement")});try{const t5=e3.get("CIDToGIDMap");t5 instanceof y.BaseStream&&(s2=t5.getBytes())}catch(e4){if(!this.options.ignoreErrors)throw e4;(0,r.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${e4}".`)}}const h2=[];let u2,d2=null;if(e3.has("Encoding")){if(u2=e3.get("Encoding"),u2 instanceof i.Dict){if(d2=u2.get("BaseEncoding"),d2=d2 instanceof i.Name?d2.name:null,u2.has("Differences")){const e4=u2.get("Differences");let t4=0;for(let a4=0,s3=e4.length;a4<s3;a4++){const s4=n2.fetchIfRef(e4[a4]);if("number"==typeof s4)t4=s4;else{if(!(s4 instanceof i.Name))throw new r.FormatError(`Invalid entry in 'Differences' array: ${s4}`);h2[t4++]=s4.name}}}}else if(u2 instanceof i.Name)d2=u2.name;else{const e4="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new r.FormatError(e4);(0,r.warn)(e4)}"MacRomanEncoding"!==d2&&"MacExpertEncoding"!==d2&&"WinAnsiEncoding"!==d2&&(d2=null)}return d2?a3.defaultEncoding=(0,c.getEncoding)(d2):(u2=c.StandardEncoding,"TrueType"!==a3.type||!!(a3.flags&o.FontFlags.Nonsymbolic)||(u2=c.WinAnsiEncoding),!!(a3.flags&o.FontFlags.Symbolic)&&(u2=c.MacRomanEncoding,a3.file&&!a3.isInternalFont||(/Symbol/i.test(a3.name)?u2=c.SymbolSetEncoding:/Dingbats|Wingdings/i.test(a3.name)&&(u2=c.ZapfDingbatsEncoding))),a3.defaultEncoding=u2),a3.differences=h2,a3.baseEncodingName=d2,a3.hasEncoding=!!d2||h2.length>0,a3.dict=e3,l2.then(e4=>(a3.toUnicode=e4,this.buildToUnicode(a3))).then(e4=>(a3.toUnicode=e4,s2&&(a3.cidToGidMap=this.readCidToGidMap(s2,e4)),a3))}_simpleFontToUnicode(e3,t3=!1){(0,r.assert)(!e3.composite,"Must be a simple font.");const a3=[],n2=e3.defaultEncoding.slice(),i2=e3.baseEncodingName,s2=e3.differences;for(const e4 in s2){const t4=s2[e4];".notdef"!==t4&&(n2[e4]=t4)}const o2=(0,k.getGlyphsUnicode)();for(const r2 in n2){let s3=n2[r2];if(""!==s3)if(void 0!==o2[s3])a3[r2]=String.fromCharCode(o2[s3]);else{let n3=0;switch(s3[0]){case"G":3===s3.length&&(n3=parseInt(s3.substring(1),16));break;case"g":5===s3.length&&(n3=parseInt(s3.substring(1),16));break;case"C":case"c":if(s3.length>=3&&s3.length<=4){const a5=s3.substring(1);if(t3){n3=parseInt(a5,16);break}if(n3=+a5,Number.isNaN(n3)&&Number.isInteger(parseInt(a5,16)))return this._simpleFontToUnicode(e3,!0)}break;default:const a4=(0,h.getUnicodeForGlyph)(s3,o2);-1!==a4&&(n3=a4)}if(n3>0&&n3<=1114111&&Number.isInteger(n3)){if(i2&&n3===+r2){const e4=(0,c.getEncoding)(i2);if(e4&&(s3=e4[r2])){a3[r2]=String.fromCharCode(o2[s3]);continue}}a3[r2]=String.fromCodePoint(n3)}}}return a3}buildToUnicode(e3){var _this34=this;return _asyncToGenerator2(function*(){if(e3.hasIncludedToUnicodeMap=!!e3.toUnicode&&e3.toUnicode.length>0,e3.hasIncludedToUnicodeMap)return!e3.composite&&e3.hasEncoding&&(e3.fallbackToUnicode=_this34._simpleFontToUnicode(e3)),e3.toUnicode;if(!e3.composite)return new f.ToUnicodeMap(_this34._simpleFontToUnicode(e3));if(e3.composite&&(e3.cMap.builtInCMap&&!(e3.cMap instanceof n.IdentityCMap)||"Adobe"===e3.cidSystemInfo.registry&&("GB1"===e3.cidSystemInfo.ordering||"CNS1"===e3.cidSystemInfo.ordering||"Japan1"===e3.cidSystemInfo.ordering||"Korea1"===e3.cidSystemInfo.ordering))){const{registry:t3,ordering:a3}=e3.cidSystemInfo,s2=i.Name.get(`${t3}-${a3}-UCS2`),o2=yield n.CMapFactory.create({encoding:s2,fetchBuiltInCMap:_this34._fetchBuiltInCMapBound,useCMap:null}),c2=[];return e3.cMap.forEach(function(e4,t4){if(t4>65535)throw new r.FormatError("Max size of CID is 65,535");const a4=o2.lookup(t4);a4&&(c2[e4]=String.fromCharCode((a4.charCodeAt(0)<<8)+a4.charCodeAt(1)))}),new f.ToUnicodeMap(c2)}return new f.IdentityToUnicodeMap(e3.firstChar,e3.lastChar)})()}readToUnicode(e3){return e3?e3 instanceof i.Name?n.CMapFactory.create({encoding:e3,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(e4){return e4 instanceof n.IdentityCMap?new f.IdentityToUnicodeMap(0,65535):new f.ToUnicodeMap(e4.getMap())}):e3 instanceof y.BaseStream?n.CMapFactory.create({encoding:e3,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(e4){if(e4 instanceof n.IdentityCMap)return new f.IdentityToUnicodeMap(0,65535);const t3=new Array(e4.length);return e4.forEach(function(e5,a3){if("number"==typeof a3)return void(t3[e5]=String.fromCodePoint(a3));const r2=[];for(let e6=0;e6<a3.length;e6+=2){const t4=a3.charCodeAt(e6)<<8|a3.charCodeAt(e6+1);if(55296!=(63488&t4)){r2.push(t4);continue}e6+=2;const n2=a3.charCodeAt(e6)<<8|a3.charCodeAt(e6+1);r2.push(((1023&t4)<<10)+(1023&n2)+65536)}t3[e5]=String.fromCodePoint(...r2)}),new f.ToUnicodeMap(t3)},e4=>{if(e4 instanceof r.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:r.UNSUPPORTED_FEATURES.errorFontToUnicode}),(0,r.warn)(`readToUnicode - ignoring ToUnicode data: "${e4}".`),null;throw e4}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(e3,t3){const a3=[];for(let r2=0,n2=e3.length;r2<n2;r2++){const n3=e3[r2++]<<8|e3[r2],i2=r2>>1;(0!==n3||t3.has(i2))&&(a3[i2]=n3)}return a3}extractWidths(e3,t3,a3){const r2=this.xref;let n2=[],s2=0;const c2=[];let l2,h2,u2,d2,f2,g2,p2,m2;if(a3.composite){if(s2=e3.has("DW")?e3.get("DW"):1e3,m2=e3.get("W"),m2)for(h2=0,u2=m2.length;h2<u2;h2++)if(g2=r2.fetchIfRef(m2[h2++]),p2=r2.fetchIfRef(m2[h2]),Array.isArray(p2))for(d2=0,f2=p2.length;d2<f2;d2++)n2[g2++]=r2.fetchIfRef(p2[d2]);else{const e4=r2.fetchIfRef(m2[++h2]);for(d2=g2;d2<=p2;d2++)n2[d2]=e4}if(a3.vertical){let t4=e3.getArray("DW2")||[880,-1e3];if(l2=[t4[1],.5*s2,t4[0]],t4=e3.get("W2"),t4)for(h2=0,u2=t4.length;h2<u2;h2++)if(g2=r2.fetchIfRef(t4[h2++]),p2=r2.fetchIfRef(t4[h2]),Array.isArray(p2))for(d2=0,f2=p2.length;d2<f2;d2++)c2[g2++]=[r2.fetchIfRef(p2[d2++]),r2.fetchIfRef(p2[d2++]),r2.fetchIfRef(p2[d2])];else{const e4=[r2.fetchIfRef(t4[++h2]),r2.fetchIfRef(t4[++h2]),r2.fetchIfRef(t4[++h2])];for(d2=g2;d2<=p2;d2++)c2[d2]=e4}}}else{const o2=a3.firstChar;if(m2=e3.get("Widths"),m2){for(d2=o2,h2=0,u2=m2.length;h2<u2;h2++)n2[d2++]=r2.fetchIfRef(m2[h2]);s2=parseFloat(t3.get("MissingWidth"))||0}else{const t4=e3.get("BaseFont");if(t4 instanceof i.Name){const e4=this.getBaseFontMetrics(t4.name);n2=this.buildCharCodeToWidth(e4.widths,a3),s2=e4.defaultWidth}}}let b2=!0,y2=s2;for(const e4 in n2){const t4=n2[e4];if(t4)if(y2){if(y2!==t4){b2=!1;break}}else y2=t4}b2&&(a3.flags|=o.FontFlags.FixedPitch),a3.defaultWidth=s2,a3.widths=n2,a3.defaultVMetrics=l2,a3.vmetrics=c2}isSerifFont(e3){const t3=e3.split("-")[0];return t3 in(0,l.getSerifFonts)()||-1!==t3.search(/serif/gi)}getBaseFontMetrics(e3){let t3=0,a3=Object.create(null),r2=!1,n2=(0,l.getStdFontMap)()[e3]||e3;const i2=(0,v.getMetrics)();n2 in i2||(n2=this.isSerifFont(e3)?"Times-Roman":"Helvetica");const s2=i2[n2];return"number"==typeof s2?(t3=s2,r2=!0):a3=s2(),{defaultWidth:t3,monospace:r2,widths:a3}}buildCharCodeToWidth(e3,t3){const a3=Object.create(null),r2=t3.differences,n2=t3.defaultEncoding;for(let t4=0;t4<256;t4++)t4 in r2&&e3[r2[t4]]?a3[t4]=e3[r2[t4]]:t4 in n2&&e3[n2[t4]]&&(a3[t4]=e3[n2[t4]]);return a3}preEvaluateFont(e3){const t3=e3;let a3=e3.get("Subtype");if(!(a3 instanceof i.Name))throw new r.FormatError("invalid font Subtype");let n2,s2,o2=!1;if("Type0"===a3.name){const t4=e3.get("DescendantFonts");if(!t4)throw new r.FormatError("Descendant fonts are not specified");if(!((e3=Array.isArray(t4)?this.xref.fetchIfRef(t4[0]):t4)instanceof i.Dict))throw new r.FormatError("Descendant font is not a dictionary.");if(a3=e3.get("Subtype"),!(a3 instanceof i.Name))throw new r.FormatError("invalid font Subtype");o2=!0}const c2=e3.get("FirstChar")||0,l2=e3.get("LastChar")||(o2?65535:255),h2=e3.get("FontDescriptor");if(h2){n2=new F.MurmurHash3_64;const a4=t3.getRaw("Encoding");if(a4 instanceof i.Name)n2.update(a4.name);else if(a4 instanceof i.Ref)n2.update(a4.toString());else if(a4 instanceof i.Dict)for(const e4 of a4.getRawValues())if(e4 instanceof i.Name)n2.update(e4.name);else if(e4 instanceof i.Ref)n2.update(e4.toString());else if(Array.isArray(e4)){const t4=e4.length,a5=new Array(t4);for(let r3=0;r3<t4;r3++){const t5=e4[r3];t5 instanceof i.Name?a5[r3]=t5.name:("number"==typeof t5||t5 instanceof i.Ref)&&(a5[r3]=t5.toString())}n2.update(a5.join())}if(n2.update(`${c2}-${l2}`),s2=e3.get("ToUnicode")||t3.get("ToUnicode"),s2 instanceof y.BaseStream){const e4=s2.str||s2,t4=e4.buffer?new Uint8Array(e4.buffer.buffer,0,e4.bufferLength):new Uint8Array(e4.bytes.buffer,e4.start,e4.end-e4.start);n2.update(t4)}else s2 instanceof i.Name&&n2.update(s2.name);const r2=e3.get("Widths")||t3.get("Widths");if(Array.isArray(r2)){const e4=[];for(const t4 of r2)("number"==typeof t4||t4 instanceof i.Ref)&&e4.push(t4.toString());n2.update(e4.join())}if(o2){n2.update("compositeFont");const a5=e3.get("W")||t3.get("W");if(Array.isArray(a5)){const e4=[];for(const t4 of a5)if("number"==typeof t4||t4 instanceof i.Ref)e4.push(t4.toString());else if(Array.isArray(t4)){const a6=[];for(const e5 of t4)("number"==typeof e5||e5 instanceof i.Ref)&&a6.push(e5.toString());e4.push(`[${a6.join()}]`)}n2.update(e4.join())}const r3=e3.getRaw("CIDToGIDMap")||t3.getRaw("CIDToGIDMap");r3 instanceof i.Name?n2.update(r3.name):r3 instanceof i.Ref?n2.update(r3.toString()):r3 instanceof y.BaseStream&&n2.update(r3.peekBytes())}}return{descriptor:h2,dict:e3,baseDict:t3,composite:o2,type:a3.name,firstChar:c2,lastChar:l2,toUnicode:s2,hash:n2?n2.hexdigest():""}}translateFont({descriptor:e3,dict:t3,baseDict:a3,composite:c2,type:h2,firstChar:u2,lastChar:f2,toUnicode:g2,cssFontInfo:p2}){var _this35=this;return _asyncToGenerator2(function*(){const m2="Type3"===h2;let y2;if(!e3){if(!m2){let e4=t3.get("BaseFont");if(!(e4 instanceof i.Name))throw new r.FormatError("Base font is not specified");e4=e4.name.replace(/[,_]/g,"-");const n2=_this35.getBaseFontMetrics(e4),c3=e4.split("-")[0],d2=(_this35.isSerifFont(c3)?o.FontFlags.Serif:0)|(n2.monospace?o.FontFlags.FixedPitch:0)|((0,l.getSymbolsFonts)()[c3]?o.FontFlags.Symbolic:o.FontFlags.Nonsymbolic);y2={type:h2,name:e4,loadedName:a3.loadedName,widths:n2.widths,defaultWidth:n2.defaultWidth,isSimulatedFlags:!0,flags:d2,firstChar:u2,lastChar:f2,toUnicode:g2,xHeight:0,capHeight:0,italicAngle:0,isType3Font:m2};const p3=t3.get("Widths"),b2=(0,l.getStandardFontName)(e4);let w3=null;return b2&&(y2.isStandardFont=!0,w3=yield _this35.fetchStandardFontData(b2),y2.isInternalFont=!!w3),_this35.extractDataStructures(t3,t3,y2).then(t4=>{if(p3){const e5=[];let a4=u2;for(let t5=0,r2=p3.length;t5<r2;t5++)e5[a4++]=_this35.xref.fetchIfRef(p3[t5]);t4.widths=e5}else t4.widths=_this35.buildCharCodeToWidth(n2.widths,t4);return new s.Font(e4,w3,t4)})}(e3=new i.Dict(null)).set("FontName",i.Name.get(h2)),e3.set("FontBBox",t3.getArray("FontBBox")||[0,0,0,0])}let w2,S2,x2,k2,C2,v2=e3.get("FontName"),F2=t3.get("BaseFont");if("string"==typeof v2&&(v2=i.Name.get(v2)),"string"==typeof F2&&(F2=i.Name.get(F2)),!m2){const e4=v2&&v2.name,t4=F2&&F2.name;e4!==t4&&((0,r.info)(`The FontDescriptor's FontName is "${e4}" but should be the same as the Font's BaseFont "${t4}".`),e4&&t4&&t4.startsWith(e4)&&(v2=F2))}if(v2=v2||F2,!(v2 instanceof i.Name))throw new r.FormatError("invalid font name");try{w2=e3.get("FontFile","FontFile2","FontFile3")}catch(e4){if(!_this35.options.ignoreErrors)throw e4;(0,r.warn)(`translateFont - fetching "${v2.name}" font file: "${e4}".`),w2=new b.NullStream}let O2=!1,T2=!1,M2=null;if(w2){if(w2.dict){const e4=w2.dict.get("Subtype");e4 instanceof i.Name&&(S2=e4.name),x2=w2.dict.get("Length1"),k2=w2.dict.get("Length2"),C2=w2.dict.get("Length3")}}else if(p2){const e4=(0,d.getXfaFontName)(v2.name);e4&&(p2.fontFamily=`${p2.fontFamily}-PdfJS-XFA`,p2.metrics=e4.metrics||null,M2=e4.factors||null,w2=yield _this35.fetchStandardFontData(e4.name),T2=!!w2,a3=t3=(0,d.getXfaFontDict)(v2.name),c2=!0)}else if(!m2){const e4=(0,l.getStandardFontName)(v2.name);e4&&(O2=!0,w2=yield _this35.fetchStandardFontData(e4),T2=!!w2)}if(y2={type:h2,name:v2.name,subtype:S2,file:w2,length1:x2,length2:k2,length3:C2,isStandardFont:O2,isInternalFont:T2,loadedName:a3.loadedName,composite:c2,fixedPitch:!1,fontMatrix:t3.getArray("FontMatrix")||r.FONT_IDENTITY_MATRIX,firstChar:u2,lastChar:f2,toUnicode:g2,bbox:e3.getArray("FontBBox")||t3.getArray("FontBBox"),ascent:e3.get("Ascent"),descent:e3.get("Descent"),xHeight:e3.get("XHeight")||0,capHeight:e3.get("CapHeight")||0,flags:e3.get("Flags"),italicAngle:e3.get("ItalicAngle")||0,isType3Font:m2,cssFontInfo:p2,scaleFactors:M2},c2){const e4=a3.get("Encoding");e4 instanceof i.Name&&(y2.cidEncoding=e4.name);const t4=yield n.CMapFactory.create({encoding:e4,fetchBuiltInCMap:_this35._fetchBuiltInCMapBound,useCMap:null});y2.cMap=t4,y2.vertical=y2.cMap.vertical}return _this35.extractDataStructures(t3,a3,y2).then(a4=>(_this35.extractWidths(t3,e3,a4),new s.Font(v2.name,w2,a4)))})()}static buildFontPaths(e3,t3,a3,n2){function buildPath(t4){const i2=`${e3.loadedName}_path_${t4}`;try{if(e3.renderer.hasBuiltPath(t4))return;a3.send("commonobj",[i2,"FontPath",e3.renderer.getPathJs(t4)])}catch(e4){if(n2.ignoreErrors)return a3.send("UnsupportedFeature",{featureId:r.UNSUPPORTED_FEATURES.errorFontBuildPath}),void(0,r.warn)(`buildFontPaths - ignoring ${i2} glyph: "${e4}".`);throw e4}}for(const e4 of t3){buildPath(e4.fontChar);const t4=e4.accent;t4&&t4.fontChar&&buildPath(t4.fontChar)}}static get fallbackFontDict(){const e3=new i.Dict;return e3.set("BaseFont",i.Name.get("PDFJS-FallbackFont")),e3.set("Type",i.Name.get("FallbackType")),e3.set("Subtype",i.Name.get("FallbackType")),e3.set("Encoding",i.Name.get("WinAnsiEncoding")),(0,r.shadow)(this,"fallbackFontDict",e3)}}t2.PartialEvaluator=PartialEvaluator;class TranslatedFont{constructor({loadedName:e3,font:t3,dict:a3,evaluatorOptions:r2}){this.loadedName=e3,this.font=t3,this.dict=a3,this._evaluatorOptions=r2||M,this.type3Loaded=null,this.type3Dependencies=t3.isType3Font?new Set:null,this.sent=!1}send(e3){this.sent||(this.sent=!0,e3.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(e3){this.font.data&&(this.font.disableFontFace=!0,PartialEvaluator.buildFontPaths(this.font,this.font.glyphCacheValues,e3,this._evaluatorOptions))}loadType3Data(e3,t3,a3){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const n2=e3.clone({ignoreErrors:!1});n2.parsingType3Font=!0;const s2=new i.RefSet(e3.type3FontRefs);this.dict.objId&&!s2.has(this.dict.objId)&&s2.put(this.dict.objId),n2.type3FontRefs=s2;const o2=this.font,c2=this.type3Dependencies;let l2=Promise.resolve();const h2=this.dict.get("CharProcs"),u2=this.dict.get("Resources")||t3,d2=Object.create(null),f2=r.Util.normalizeRect(o2.bbox||[0,0,0,0]),m2=Math.hypot(f2[2]-f2[0],f2[3]-f2[1]);for(const e4 of h2.getKeys())l2=l2.then(()=>{const t4=h2.get(e4),i2=new O.OperatorList;return n2.getOperatorList({stream:t4,task:a3,resources:u2,operatorList:i2}).then(()=>{i2.fnArray[0]===r.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(i2,m2),d2[e4]=i2.getIR();for(const e5 of i2.dependencies)c2.add(e5)}).catch(function(t5){(0,r.warn)(`Type3 font resource "${e4}" is not available.`);const a4=new O.OperatorList;d2[e4]=a4.getIR()})});return this.type3Loaded=l2.then(()=>{o2.charProcOperatorList=d2,this._bbox&&(o2.isCharBBox=!0,o2.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(e3,t3=NaN){const a3=r.Util.normalizeRect(e3.argsArray[0].slice(2)),n2=a3[2]-a3[0],i2=a3[3]-a3[1],s2=Math.hypot(n2,i2);0===n2||0===i2?(e3.fnArray.splice(0,1),e3.argsArray.splice(0,1)):(0===t3||Math.round(s2/t3)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],a3[0]),this._bbox[1]=Math.min(this._bbox[1],a3[1]),this._bbox[2]=Math.max(this._bbox[2],a3[2]),this._bbox[3]=Math.max(this._bbox[3],a3[3]));let o2=0,c2=e3.length;for(;o2<c2;){switch(e3.fnArray[o2]){case r.OPS.setCharWidthAndBounds:break;case r.OPS.setStrokeColorSpace:case r.OPS.setFillColorSpace:case r.OPS.setStrokeColor:case r.OPS.setStrokeColorN:case r.OPS.setFillColor:case r.OPS.setFillColorN:case r.OPS.setStrokeGray:case r.OPS.setFillGray:case r.OPS.setStrokeRGBColor:case r.OPS.setFillRGBColor:case r.OPS.setStrokeCMYKColor:case r.OPS.setFillCMYKColor:case r.OPS.shadingFill:case r.OPS.setRenderingIntent:e3.fnArray.splice(o2,1),e3.argsArray.splice(o2,1),c2--;continue;case r.OPS.setGState:const[t4]=e3.argsArray[o2];let a4=0,n3=t4.length;for(;a4<n3;){const[e4]=t4[a4];switch(e4){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":t4.splice(a4,1),n3--;continue}a4++}}o2++}}}class StateManager{constructor(e3=new EvalState){this.state=e3,this.stateStack=[]}save(){const e3=this.state;this.stateStack.push(this.state),this.state=e3.clone()}restore(){const e3=this.stateStack.pop();e3&&(this.state=e3)}transform(e3){this.state.ctm=r.Util.transform(this.state.ctm,e3)}}class TextState{constructor(){this.ctm=new Float32Array(r.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.font=null,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.textMatrix=r.IDENTITY_MATRIX.slice(),this.textLineMatrix=r.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(e3,t3,a3,r2,n2,i2){const s2=this.textMatrix;s2[0]=e3,s2[1]=t3,s2[2]=a3,s2[3]=r2,s2[4]=n2,s2[5]=i2}setTextLineMatrix(e3,t3,a3,r2,n2,i2){const s2=this.textLineMatrix;s2[0]=e3,s2[1]=t3,s2[2]=a3,s2[3]=r2,s2[4]=n2,s2[5]=i2}translateTextMatrix(e3,t3){const a3=this.textMatrix;a3[4]=a3[0]*e3+a3[2]*t3+a3[4],a3[5]=a3[1]*e3+a3[3]*t3+a3[5]}translateTextLineMatrix(e3,t3){const a3=this.textLineMatrix;a3[4]=a3[0]*e3+a3[2]*t3+a3[4],a3[5]=a3[1]*e3+a3[3]*t3+a3[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const e3=Object.create(this);return e3.textMatrix=this.textMatrix.slice(),e3.textLineMatrix=this.textLineMatrix.slice(),e3.fontMatrix=this.fontMatrix.slice(),e3}}class EvalState{constructor(){this.ctm=new Float32Array(r.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=r.TextRenderingMode.FILL,this.fillColorSpace=S.ColorSpace.singletons.gray,this.strokeColorSpace=S.ColorSpace.singletons.gray}clone(){return Object.create(this)}}class EvaluatorPreprocessor{static get opMap(){const e3=(0,C.getLookupTableFactory)(function(e4){e4.w={id:r.OPS.setLineWidth,numArgs:1,variableArgs:!1},e4.J={id:r.OPS.setLineCap,numArgs:1,variableArgs:!1},e4.j={id:r.OPS.setLineJoin,numArgs:1,variableArgs:!1},e4.M={id:r.OPS.setMiterLimit,numArgs:1,variableArgs:!1},e4.d={id:r.OPS.setDash,numArgs:2,variableArgs:!1},e4.ri={id:r.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},e4.i={id:r.OPS.setFlatness,numArgs:1,variableArgs:!1},e4.gs={id:r.OPS.setGState,numArgs:1,variableArgs:!1},e4.q={id:r.OPS.save,numArgs:0,variableArgs:!1},e4.Q={id:r.OPS.restore,numArgs:0,variableArgs:!1},e4.cm={id:r.OPS.transform,numArgs:6,variableArgs:!1},e4.m={id:r.OPS.moveTo,numArgs:2,variableArgs:!1},e4.l={id:r.OPS.lineTo,numArgs:2,variableArgs:!1},e4.c={id:r.OPS.curveTo,numArgs:6,variableArgs:!1},e4.v={id:r.OPS.curveTo2,numArgs:4,variableArgs:!1},e4.y={id:r.OPS.curveTo3,numArgs:4,variableArgs:!1},e4.h={id:r.OPS.closePath,numArgs:0,variableArgs:!1},e4.re={id:r.OPS.rectangle,numArgs:4,variableArgs:!1},e4.S={id:r.OPS.stroke,numArgs:0,variableArgs:!1},e4.s={id:r.OPS.closeStroke,numArgs:0,variableArgs:!1},e4.f={id:r.OPS.fill,numArgs:0,variableArgs:!1},e4.F={id:r.OPS.fill,numArgs:0,variableArgs:!1},e4["f*"]={id:r.OPS.eoFill,numArgs:0,variableArgs:!1},e4.B={id:r.OPS.fillStroke,numArgs:0,variableArgs:!1},e4["B*"]={id:r.OPS.eoFillStroke,numArgs:0,variableArgs:!1},e4.b={id:r.OPS.closeFillStroke,numArgs:0,variableArgs:!1},e4["b*"]={id:r.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},e4.n={id:r.OPS.endPath,numArgs:0,variableArgs:!1},e4.W={id:r.OPS.clip,numArgs:0,variableArgs:!1},e4["W*"]={id:r.OPS.eoClip,numArgs:0,variableArgs:!1},e4.BT={id:r.OPS.beginText,numArgs:0,variableArgs:!1},e4.ET={id:r.OPS.endText,numArgs:0,variableArgs:!1},e4.Tc={id:r.OPS.setCharSpacing,numArgs:1,variableArgs:!1},e4.Tw={id:r.OPS.setWordSpacing,numArgs:1,variableArgs:!1},e4.Tz={id:r.OPS.setHScale,numArgs:1,variableArgs:!1},e4.TL={id:r.OPS.setLeading,numArgs:1,variableArgs:!1},e4.Tf={id:r.OPS.setFont,numArgs:2,variableArgs:!1},e4.Tr={id:r.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},e4.Ts={id:r.OPS.setTextRise,numArgs:1,variableArgs:!1},e4.Td={id:r.OPS.moveText,numArgs:2,variableArgs:!1},e4.TD={id:r.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},e4.Tm={id:r.OPS.setTextMatrix,numArgs:6,variableArgs:!1},e4["T*"]={id:r.OPS.nextLine,numArgs:0,variableArgs:!1},e4.Tj={id:r.OPS.showText,numArgs:1,variableArgs:!1},e4.TJ={id:r.OPS.showSpacedText,numArgs:1,variableArgs:!1},e4["'"]={id:r.OPS.nextLineShowText,numArgs:1,variableArgs:!1},e4['"']={id:r.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},e4.d0={id:r.OPS.setCharWidth,numArgs:2,variableArgs:!1},e4.d1={id:r.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},e4.CS={id:r.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},e4.cs={id:r.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},e4.SC={id:r.OPS.setStrokeColor,numArgs:4,variableArgs:!0},e4.SCN={id:r.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},e4.sc={id:r.OPS.setFillColor,numArgs:4,variableArgs:!0},e4.scn={id:r.OPS.setFillColorN,numArgs:33,variableArgs:!0},e4.G={id:r.OPS.setStrokeGray,numArgs:1,variableArgs:!1},e4.g={id:r.OPS.setFillGray,numArgs:1,variableArgs:!1},e4.RG={id:r.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},e4.rg={id:r.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},e4.K={id:r.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},e4.k={id:r.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},e4.sh={id:r.OPS.shadingFill,numArgs:1,variableArgs:!1},e4.BI={id:r.OPS.beginInlineImage,numArgs:0,variableArgs:!1},e4.ID={id:r.OPS.beginImageData,numArgs:0,variableArgs:!1},e4.EI={id:r.OPS.endInlineImage,numArgs:1,variableArgs:!1},e4.Do={id:r.OPS.paintXObject,numArgs:1,variableArgs:!1},e4.MP={id:r.OPS.markPoint,numArgs:1,variableArgs:!1},e4.DP={id:r.OPS.markPointProps,numArgs:2,variableArgs:!1},e4.BMC={id:r.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},e4.BDC={id:r.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},e4.EMC={id:r.OPS.endMarkedContent,numArgs:0,variableArgs:!1},e4.BX={id:r.OPS.beginCompat,numArgs:0,variableArgs:!1},e4.EX={id:r.OPS.endCompat,numArgs:0,variableArgs:!1},e4.BM=null,e4.BD=null,e4.true=null,e4.fa=null,e4.fal=null,e4.fals=null,e4.false=null,e4.nu=null,e4.nul=null,e4.null=null});return(0,r.shadow)(this,"opMap",e3())}static get MAX_INVALID_PATH_OPS(){return(0,r.shadow)(this,"MAX_INVALID_PATH_OPS",10)}constructor(e3,t3,a3=new StateManager){this.parser=new p.Parser({lexer:new p.Lexer(e3,EvaluatorPreprocessor.opMap),xref:t3}),this.stateManager=a3,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(e3){let t3=e3.args;for(;;){const a3=this.parser.getObj();if(a3 instanceof i.Cmd){const n2=a3.cmd,i2=EvaluatorPreprocessor.opMap[n2];if(!i2){(0,r.warn)(`Unknown command "${n2}".`);continue}const s2=i2.id,o2=i2.numArgs;let c2=null!==t3?t3.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=s2>=r.OPS.moveTo&&s2<=r.OPS.endPath,i2.variableArgs)c2>o2&&(0,r.info)(`Command ${n2}: expected [0, ${o2}] args, but received ${c2} args.`);else{if(c2!==o2){const e4=this.nonProcessedArgs;for(;c2>o2;)e4.push(t3.shift()),c2--;for(;c2<o2&&0!==e4.length;)null===t3&&(t3=[]),t3.unshift(e4.pop()),c2++}if(c2<o2){const e4=`command ${n2}: expected ${o2} args, but received ${c2} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>EvaluatorPreprocessor.MAX_INVALID_PATH_OPS)throw new r.FormatError(`Invalid ${e4}`);(0,r.warn)(`Skipping ${e4}`),null!==t3&&(t3.length=0);continue}}return this.preprocessCommand(s2,t3),e3.fn=s2,e3.args=t3,!0}if(a3===i.EOF)return!1;if(null!==a3&&(null===t3&&(t3=[]),t3.push(a3),t3.length>33))throw new r.FormatError("Too many arguments")}}preprocessCommand(e3,t3){switch(0|e3){case r.OPS.save:this.stateManager.save();break;case r.OPS.restore:this.stateManager.restore();break;case r.OPS.transform:this.stateManager.transform(t3)}}}t2.EvaluatorPreprocessor=EvaluatorPreprocessor},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.IdentityCMap=t2.CMapFactory=t2.CMap=void 0;var r=a2(2),n=a2(5),i=a2(7),s=a2(17),o=a2(6),c=a2(10);const l=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],h=2**24-1;class CMap{constructor(e3=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=e3}addCodespaceRange(e3,t3,a3){this.codespaceRanges[e3-1].push(t3,a3),this.numCodespaceRanges++}mapCidRange(e3,t3,a3){if(t3-e3>h)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;e3<=t3;)this._map[e3++]=a3++}mapBfRange(e3,t3,a3){if(t3-e3>h)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const r2=a3.length-1;for(;e3<=t3;){this._map[e3++]=a3;const t4=a3.charCodeAt(r2)+1;a3=t4>255?a3.substring(0,r2-1)+String.fromCharCode(a3.charCodeAt(r2-1)+1)+"\0":a3.substring(0,r2)+String.fromCharCode(t4)}}mapBfRangeToArray(e3,t3,a3){if(t3-e3>h)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const r2=a3.length;let n2=0;for(;e3<=t3&&n2<r2;)this._map[e3]=a3[n2++],++e3}mapOne(e3,t3){this._map[e3]=t3}lookup(e3){return this._map[e3]}contains(e3){return void 0!==this._map[e3]}forEach(e3){const t3=this._map,a3=t3.length;if(a3<=65536)for(let r2=0;r2<a3;r2++)void 0!==t3[r2]&&e3(r2,t3[r2]);else for(const a4 in t3)e3(a4,t3[a4])}charCodeOf(e3){const t3=this._map;if(t3.length<=65536)return t3.indexOf(e3);for(const a3 in t3)if(t3[a3]===e3)return 0|a3;return-1}getMap(){return this._map}readCharCode(e3,t3,a3){let r2=0;const n2=this.codespaceRanges;for(let i2=0,s2=n2.length;i2<s2;i2++){r2=(r2<<8|e3.charCodeAt(t3+i2))>>>0;const s3=n2[i2];for(let e4=0,t4=s3.length;e4<t4;){const t5=s3[e4++],n3=s3[e4++];if(r2>=t5&&r2<=n3)return a3.charcode=r2,void(a3.length=i2+1)}}a3.charcode=0,a3.length=1}getCharCodeLength(e3){const t3=this.codespaceRanges;for(let a3=0,r2=t3.length;a3<r2;a3++){const r3=t3[a3];for(let t4=0,n2=r3.length;t4<n2;){const n3=r3[t4++],i2=r3[t4++];if(e3>=n3&&e3<=i2)return a3+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if("Identity-H"!==this.name&&"Identity-V"!==this.name||65536!==this._map.length)return!1;for(let e3=0;e3<65536;e3++)if(this._map[e3]!==e3)return!1;return!0}}t2.CMap=CMap;class IdentityCMap extends CMap{constructor(e3,t3){super(),this.vertical=e3,this.addCodespaceRange(t3,0,65535)}mapCidRange(e3,t3,a3){(0,r.unreachable)("should not call mapCidRange")}mapBfRange(e3,t3,a3){(0,r.unreachable)("should not call mapBfRange")}mapBfRangeToArray(e3,t3,a3){(0,r.unreachable)("should not call mapBfRangeToArray")}mapOne(e3,t3){(0,r.unreachable)("should not call mapCidOne")}lookup(e3){return Number.isInteger(e3)&&e3<=65535?e3:void 0}contains(e3){return Number.isInteger(e3)&&e3<=65535}forEach(e3){for(let t3=0;t3<=65535;t3++)e3(t3,t3)}charCodeOf(e3){return Number.isInteger(e3)&&e3<=65535?e3:-1}getMap(){const e3=new Array(65536);for(let t3=0;t3<=65535;t3++)e3[t3]=t3;return e3}get length(){return 65536}get isIdentityCMap(){(0,r.unreachable)("should not access .isIdentityCMap")}}t2.IdentityCMap=IdentityCMap;const u=function(){function hexToInt(e4,t3){let a3=0;for(let r2=0;r2<=t3;r2++)a3=a3<<8|e4[r2];return a3>>>0}function hexToStr(e4,t3){return 1===t3?String.fromCharCode(e4[0],e4[1]):3===t3?String.fromCharCode(e4[0],e4[1],e4[2],e4[3]):String.fromCharCode.apply(null,e4.subarray(0,t3+1))}function addHex(e4,t3,a3){let r2=0;for(let n2=a3;n2>=0;n2--)r2+=e4[n2]+t3[n2],e4[n2]=255&r2,r2>>=8}function incHex(e4,t3){let a3=1;for(let r2=t3;r2>=0&&a3>0;r2--)a3+=e4[r2],e4[r2]=255&a3,a3>>=8}class BinaryCMapStream{constructor(e4){this.buffer=e4,this.pos=0,this.end=e4.length,this.tmpBuf=new Uint8Array(19)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let e4,t3=0;do{const a3=this.readByte();if(a3<0)throw new r.FormatError("unexpected EOF in bcmap");e4=!(128&a3),t3=t3<<7|127&a3}while(!e4);return t3}readSigned(){const e4=this.readNumber();return 1&e4?~(e4>>>1):e4>>>1}readHex(e4,t3){e4.set(this.buffer.subarray(this.pos,this.pos+t3+1)),this.pos+=t3+1}readHexNumber(e4,t3){let a3;const n2=this.tmpBuf;let i2=0;do{const e5=this.readByte();if(e5<0)throw new r.FormatError("unexpected EOF in bcmap");a3=!(128&e5),n2[i2++]=127&e5}while(!a3);let s2=t3,o2=0,c2=0;for(;s2>=0;){for(;c2<8&&n2.length>0;)o2|=n2[--i2]<<c2,c2+=7;e4[s2]=255&o2,s2--,o2>>=8,c2-=8}}readHexSigned(e4,t3){this.readHexNumber(e4,t3);const a3=1&e4[t3]?255:0;let r2=0;for(let n2=0;n2<=t3;n2++)r2=(1&r2)<<8|e4[n2],e4[n2]=r2>>1^a3}readString(){const e4=this.readNumber();let t3="";for(let a3=0;a3<e4;a3++)t3+=String.fromCharCode(this.readNumber());return t3}}return class{process(t3,a3,r2){return _asyncToGenerator2(function*(){const n2=new BinaryCMapStream(t3),i2=n2.readByte();a3.vertical=!!(1&i2);let s2=null;const o2=new Uint8Array(16),c2=new Uint8Array(16),l2=new Uint8Array(16),h2=new Uint8Array(16),u2=new Uint8Array(16);let d2,f;for(;(f=n2.readByte())>=0;){const t4=f>>5;if(7===t4){switch(31&f){case 0:n2.readString();break;case 1:s2=n2.readString()}continue}const r3=!!(16&f),i3=15&f;if(i3+1>16)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const g=1,p=n2.readNumber();switch(t4){case 0:n2.readHex(o2,i3),n2.readHexNumber(c2,i3),addHex(c2,o2,i3),a3.addCodespaceRange(i3+1,hexToInt(o2,i3),hexToInt(c2,i3));for(let e4=1;e4<p;e4++)incHex(c2,i3),n2.readHexNumber(o2,i3),addHex(o2,c2,i3),n2.readHexNumber(c2,i3),addHex(c2,o2,i3),a3.addCodespaceRange(i3+1,hexToInt(o2,i3),hexToInt(c2,i3));break;case 1:n2.readHex(o2,i3),n2.readHexNumber(c2,i3),addHex(c2,o2,i3),n2.readNumber();for(let e4=1;e4<p;e4++)incHex(c2,i3),n2.readHexNumber(o2,i3),addHex(o2,c2,i3),n2.readHexNumber(c2,i3),addHex(c2,o2,i3),n2.readNumber();break;case 2:n2.readHex(l2,i3),d2=n2.readNumber(),a3.mapOne(hexToInt(l2,i3),d2);for(let e4=1;e4<p;e4++)incHex(l2,i3),r3||(n2.readHexNumber(u2,i3),addHex(l2,u2,i3)),d2=n2.readSigned()+(d2+1),a3.mapOne(hexToInt(l2,i3),d2);break;case 3:n2.readHex(o2,i3),n2.readHexNumber(c2,i3),addHex(c2,o2,i3),d2=n2.readNumber(),a3.mapCidRange(hexToInt(o2,i3),hexToInt(c2,i3),d2);for(let e4=1;e4<p;e4++)incHex(c2,i3),r3?o2.set(c2):(n2.readHexNumber(o2,i3),addHex(o2,c2,i3)),n2.readHexNumber(c2,i3),addHex(c2,o2,i3),d2=n2.readNumber(),a3.mapCidRange(hexToInt(o2,i3),hexToInt(c2,i3),d2);break;case 4:n2.readHex(l2,g),n2.readHex(h2,i3),a3.mapOne(hexToInt(l2,g),hexToStr(h2,i3));for(let e4=1;e4<p;e4++)incHex(l2,g),r3||(n2.readHexNumber(u2,g),addHex(l2,u2,g)),incHex(h2,i3),n2.readHexSigned(u2,i3),addHex(h2,u2,i3),a3.mapOne(hexToInt(l2,g),hexToStr(h2,i3));break;case 5:n2.readHex(o2,g),n2.readHexNumber(c2,g),addHex(c2,o2,g),n2.readHex(h2,i3),a3.mapBfRange(hexToInt(o2,g),hexToInt(c2,g),hexToStr(h2,i3));for(let e4=1;e4<p;e4++)incHex(c2,g),r3?o2.set(c2):(n2.readHexNumber(o2,g),addHex(o2,c2,g)),n2.readHexNumber(c2,g),addHex(c2,o2,g),n2.readHex(h2,i3),a3.mapBfRange(hexToInt(o2,g),hexToInt(c2,g),hexToStr(h2,i3));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${t4}`)}}return s2?r2(s2):a3})()}}}();t2.CMapFactory=function(){function strToInt(e3){let t3=0;for(let a3=0;a3<e3.length;a3++)t3=t3<<8|e3.charCodeAt(a3);return t3>>>0}function expectString(e3){if("string"!=typeof e3)throw new r.FormatError("Malformed CMap: expected string.")}function expectInt(e3){if(!Number.isInteger(e3))throw new r.FormatError("Malformed CMap: expected int.")}function parseBfChar(e3,t3){for(;;){let a3=t3.getObj();if(a3===n.EOF)break;if((0,n.isCmd)(a3,"endbfchar"))return;expectString(a3);const r2=strToInt(a3);a3=t3.getObj(),expectString(a3),e3.mapOne(r2,a3)}}function parseBfRange(e3,t3){for(;;){let a3=t3.getObj();if(a3===n.EOF)break;if((0,n.isCmd)(a3,"endbfrange"))return;expectString(a3);const r2=strToInt(a3);a3=t3.getObj(),expectString(a3);const i2=strToInt(a3);if(a3=t3.getObj(),Number.isInteger(a3)||"string"==typeof a3){const t4=Number.isInteger(a3)?String.fromCharCode(a3):a3;e3.mapBfRange(r2,i2,t4)}else{if(!(0,n.isCmd)(a3,"["))break;{a3=t3.getObj();const s2=[];for(;!(0,n.isCmd)(a3,"]")&&a3!==n.EOF;)s2.push(a3),a3=t3.getObj();e3.mapBfRangeToArray(r2,i2,s2)}}}throw new r.FormatError("Invalid bf range.")}function parseCidChar(e3,t3){for(;;){let a3=t3.getObj();if(a3===n.EOF)break;if((0,n.isCmd)(a3,"endcidchar"))return;expectString(a3);const r2=strToInt(a3);a3=t3.getObj(),expectInt(a3),e3.mapOne(r2,a3)}}function parseCidRange(e3,t3){for(;;){let a3=t3.getObj();if(a3===n.EOF)break;if((0,n.isCmd)(a3,"endcidrange"))return;expectString(a3);const r2=strToInt(a3);a3=t3.getObj(),expectString(a3);const i2=strToInt(a3);a3=t3.getObj(),expectInt(a3),e3.mapCidRange(r2,i2,a3)}}function parseCodespaceRange(e3,t3){for(;;){let a3=t3.getObj();if(a3===n.EOF)break;if((0,n.isCmd)(a3,"endcodespacerange"))return;if("string"!=typeof a3)break;const r2=strToInt(a3);if(a3=t3.getObj(),"string"!=typeof a3)break;const i2=strToInt(a3);e3.addCodespaceRange(a3.length,r2,i2)}throw new r.FormatError("Invalid codespace range.")}function parseWMode(e3,t3){const a3=t3.getObj();Number.isInteger(a3)&&(e3.vertical=!!a3)}function parseCMapName(e3,t3){const a3=t3.getObj();a3 instanceof n.Name&&(e3.name=a3.name)}function parseCMap(_x2,_x3,_x4,_x5){return _parseCMap.apply(this,arguments)}function _parseCMap(){return(_parseCMap=_asyncToGenerator2(function*(e3,t3,a3,i2){let s2,c2;e:for(;;)try{const a4=t3.getObj();if(a4===n.EOF)break;if(a4 instanceof n.Name)"WMode"===a4.name?parseWMode(e3,t3):"CMapName"===a4.name&&parseCMapName(e3,t3),s2=a4;else if(a4 instanceof n.Cmd)switch(a4.cmd){case"endcmap":break e;case"usecmap":s2 instanceof n.Name&&(c2=s2.name);break;case"begincodespacerange":parseCodespaceRange(e3,t3);break;case"beginbfchar":parseBfChar(e3,t3);break;case"begincidchar":parseCidChar(e3,t3);break;case"beginbfrange":parseBfRange(e3,t3);break;case"begincidrange":parseCidRange(e3,t3)}}catch(e4){if(e4 instanceof o.MissingDataException)throw e4;(0,r.warn)("Invalid cMap data: "+e4);continue}return!i2&&c2&&(i2=c2),i2?extendCMap(e3,a3,i2):e3})).apply(this,arguments)}function extendCMap(_x6,_x7,_x8){return _extendCMap.apply(this,arguments)}function _extendCMap(){return(_extendCMap=_asyncToGenerator2(function*(e3,t3,a3){if(e3.useCMap=yield createBuiltInCMap(a3,t3),0===e3.numCodespaceRanges){const t4=e3.useCMap.codespaceRanges;for(let a4=0;a4<t4.length;a4++)e3.codespaceRanges[a4]=t4[a4].slice();e3.numCodespaceRanges=e3.useCMap.numCodespaceRanges}return e3.useCMap.forEach(function(t4,a4){e3.contains(t4)||e3.mapOne(t4,e3.useCMap.lookup(t4))}),e3})).apply(this,arguments)}function createBuiltInCMap(_x9,_x10){return _createBuiltInCMap.apply(this,arguments)}function _createBuiltInCMap(){return(_createBuiltInCMap=_asyncToGenerator2(function*(e3,t3){if("Identity-H"===e3)return new IdentityCMap(!1,2);if("Identity-V"===e3)return new IdentityCMap(!0,2);if(!l.includes(e3))throw new Error("Unknown CMap name: "+e3);if(!t3)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:a3,compressionType:n2}=yield t3(e3),i2=new CMap(!0);if(n2===r.CMapCompressionType.BINARY)return(new u).process(a3,i2,e4=>extendCMap(i2,t3,e4));if(n2===r.CMapCompressionType.NONE){const e4=new s.Lexer(new c.Stream(a3));return parseCMap(i2,e4,t3,null)}throw new Error("TODO: Only BINARY/NONE CMap compression is currently supported.")})).apply(this,arguments)}return{create:e3=>_asyncToGenerator2(function*(){const t3=e3.encoding,a3=e3.fetchBuiltInCMap,r2=e3.useCMap;if(t3 instanceof n.Name)return createBuiltInCMap(t3.name,a3);if(t3 instanceof i.BaseStream){const e4=yield parseCMap(new CMap,new s.Lexer(t3),a3,r2);return e4.isIdentityCMap?createBuiltInCMap(e4.name,a3):e4}throw new Error("Encoding required.")})()}}()},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.Parser=t2.Linearization=t2.Lexer=void 0;var r=a2(2),n=a2(5),i=a2(6),s=a2(18),o=a2(20),c=a2(21),l=a2(23),h=a2(24),u=a2(27),d=a2(29),f=a2(31),g=a2(10),p=a2(32),m=a2(33);function computeAdler32(e3){const t3=e3.length;let a3=1,r2=0;for(let n2=0;n2<t3;++n2)a3+=255&e3[n2],r2+=a3;return r2%65521<<16|a3%65521}class Parser{constructor({lexer:e3,xref:t3,allowStreams:a3=!1,recoveryMode:r2=!1}){this.lexer=e3,this.xref=t3,this.allowStreams=a3,this.recoveryMode=r2,this.imageCache=Object.create(null),this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof n.Cmd&&"ID"===this.buf2.cmd?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(e3){if(e3 instanceof i.MissingDataException)throw e3;return!1}}getObj(e3=null){const t3=this.buf1;if(this.shift(),t3 instanceof n.Cmd)switch(t3.cmd){case"BI":return this.makeInlineImage(e3);case"[":const a3=[];for(;!(0,n.isCmd)(this.buf1,"]")&&this.buf1!==n.EOF;)a3.push(this.getObj(e3));if(this.buf1===n.EOF){if(this.recoveryMode)return a3;throw new i.ParserEOFException("End of file inside array.")}return this.shift(),a3;case"<<":const s2=new n.Dict(this.xref);for(;!(0,n.isCmd)(this.buf1,">>")&&this.buf1!==n.EOF;){if(!(this.buf1 instanceof n.Name)){(0,r.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const t4=this.buf1.name;if(this.shift(),this.buf1===n.EOF)break;s2.set(t4,this.getObj(e3))}if(this.buf1===n.EOF){if(this.recoveryMode)return s2;throw new i.ParserEOFException("End of file inside dictionary.")}return(0,n.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(s2,e3):s2:(this.shift(),s2);default:return t3}if(Number.isInteger(t3)){if(Number.isInteger(this.buf1)&&(0,n.isCmd)(this.buf2,"R")){const e4=n.Ref.get(t3,this.buf1);return this.shift(),this.shift(),e4}return t3}return"string"==typeof t3&&e3?e3.decryptString(t3):t3}findDefaultInlineStreamEnd(e3){const t3=this.lexer,a3=e3.pos;let s2,o2,c2=0;for(;-1!==(s2=e3.getByte());)if(0===c2)c2=69===s2?1:0;else if(1===c2)c2=73===s2?2:0;else if((0,r.assert)(2===c2,"findDefaultInlineStreamEnd - invalid state."),32===s2||10===s2||13===s2){o2=e3.pos;const a4=e3.peekBytes(10);for(let e4=0,t4=a4.length;e4<t4;e4++)if(s2=a4[e4],(0!==s2||0===a4[e4+1])&&10!==s2&&13!==s2&&(s2<32||s2>127)){c2=0;break}if(2!==c2)continue;if(t3.knownCommands){const e4=t3.peekObj();e4 instanceof n.Cmd&&!t3.knownCommands[e4.cmd]&&(c2=0)}else(0,r.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");if(2===c2)break}else c2=0;-1===s2&&((0,r.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),o2&&((0,r.warn)('... trying to recover by using the last "EI" occurrence.'),e3.skip(-(e3.pos-o2))));let l2=4;return e3.skip(-l2),s2=e3.peekByte(),e3.skip(l2),(0,i.isWhiteSpace)(s2)||l2--,e3.pos-l2-a3}findDCTDecodeInlineStreamEnd(e3){const t3=e3.pos;let a3,n2,i2=!1;for(;-1!==(a3=e3.getByte());)if(255===a3){switch(e3.getByte()){case 0:break;case 255:e3.skip(-1);break;case 217:i2=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:n2=e3.getUint16(),e3.skip(n2>2?n2-2:-2)}if(i2)break}const s2=e3.pos-t3;return-1===a3?((0,r.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),e3.skip(-s2),this.findDefaultInlineStreamEnd(e3)):(this.inlineStreamSkipEI(e3),s2)}findASCII85DecodeInlineStreamEnd(e3){const t3=e3.pos;let a3;for(;-1!==(a3=e3.getByte());)if(126===a3){const t4=e3.pos;for(a3=e3.peekByte();(0,i.isWhiteSpace)(a3);)e3.skip(),a3=e3.peekByte();if(62===a3){e3.skip();break}if(e3.pos>t4){const t5=e3.peekBytes(2);if(69===t5[0]&&73===t5[1])break}}const n2=e3.pos-t3;return-1===a3?((0,r.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),e3.skip(-n2),this.findDefaultInlineStreamEnd(e3)):(this.inlineStreamSkipEI(e3),n2)}findASCIIHexDecodeInlineStreamEnd(e3){const t3=e3.pos;let a3;for(;-1!==(a3=e3.getByte())&&62!==a3;);const n2=e3.pos-t3;return-1===a3?((0,r.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),e3.skip(-n2),this.findDefaultInlineStreamEnd(e3)):(this.inlineStreamSkipEI(e3),n2)}inlineStreamSkipEI(e3){let t3,a3=0;for(;-1!==(t3=e3.getByte());)if(0===a3)a3=69===t3?1:0;else if(1===a3)a3=73===t3?2:0;else if(2===a3)break}makeInlineImage(e3){const t3=this.lexer,a3=t3.stream,i2=new n.Dict(this.xref);let s2;for(;!(0,n.isCmd)(this.buf1,"ID")&&this.buf1!==n.EOF;){if(!(this.buf1 instanceof n.Name))throw new r.FormatError("Dictionary key must be a name object");const t4=this.buf1.name;if(this.shift(),this.buf1===n.EOF)break;i2.set(t4,this.getObj(e3))}-1!==t3.beginInlineImagePos&&(s2=a3.pos-t3.beginInlineImagePos);const o2=i2.get("F","Filter");let c2;if(o2 instanceof n.Name)c2=o2.name;else if(Array.isArray(o2)){const e4=this.xref.fetchIfRef(o2[0]);e4 instanceof n.Name&&(c2=e4.name)}const l2=a3.pos;let h2;switch(c2){case"DCT":case"DCTDecode":h2=this.findDCTDecodeInlineStreamEnd(a3);break;case"A85":case"ASCII85Decode":h2=this.findASCII85DecodeInlineStreamEnd(a3);break;case"AHx":case"ASCIIHexDecode":h2=this.findASCIIHexDecodeInlineStreamEnd(a3);break;default:h2=this.findDefaultInlineStreamEnd(a3)}let u2,d2=a3.makeSubStream(l2,h2,i2);if(h2<1e3&&s2<5552){const e4=d2.getBytes();d2.reset();const r2=a3.pos;a3.pos=t3.beginInlineImagePos;const i3=a3.getBytes(s2);a3.pos=r2,u2=computeAdler32(e4)+"_"+computeAdler32(i3);const o3=this.imageCache[u2];if(void 0!==o3)return this.buf2=n.Cmd.get("EI"),this.shift(),o3.reset(),o3}return e3&&(d2=e3.createStream(d2,h2)),d2=this.filter(d2,i2,h2),d2.dict=i2,void 0!==u2&&(d2.cacheKey=`inline_${h2}_${u2}`,this.imageCache[u2]=d2),this.buf2=n.Cmd.get("EI"),this.shift(),d2}_findStreamLength(e3,t3){const{stream:a3}=this.lexer;a3.pos=e3;const r2=t3.length;for(;a3.pos<a3.end;){const n2=a3.peekBytes(2048),i2=n2.length-r2;if(i2<=0)break;let s2=0;for(;s2<i2;){let i3=0;for(;i3<r2&&n2[s2+i3]===t3[i3];)i3++;if(i3>=r2)return a3.pos+=s2,a3.pos-e3;s2++}a3.pos+=i2}return-1}makeStream(e3,t3){const a3=this.lexer;let s2=a3.stream;a3.skipToNextLine();const o2=s2.pos-1;let c2=e3.get("Length");if(Number.isInteger(c2)||((0,r.info)(`Bad length "${c2&&c2.toString()}" in stream.`),c2=0),s2.pos=o2+c2,a3.nextChar(),this.tryShift()&&(0,n.isCmd)(this.buf2,"endstream"))this.shift();else{const e4=new Uint8Array([101,110,100,115,116,114,101,97,109]);let t4=this._findStreamLength(o2,e4);if(t4<0){for(let n2=1;n2<=1;n2++){const a5=e4.length-n2,c3=e4.slice(0,a5),l2=this._findStreamLength(o2,c3);if(l2>=0){const e5=s2.peekBytes(a5+1)[a5];if(!(0,i.isWhiteSpace)(e5))break;(0,r.info)(`Found "${(0,r.bytesToString)(c3)}" when searching for endstream command.`),t4=l2;break}}if(t4<0)throw new r.FormatError("Missing endstream command.")}c2=t4,a3.nextChar(),this.shift(),this.shift()}return this.shift(),s2=s2.makeSubStream(o2,c2,e3),t3&&(s2=t3.createStream(s2,c2)),s2=this.filter(s2,e3,c2),s2.dict=e3,s2}filter(e3,t3,a3){let i2=t3.get("F","Filter"),s2=t3.get("DP","DecodeParms");if(i2 instanceof n.Name)return Array.isArray(s2)&&(0,r.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(e3,i2.name,a3,s2);let o2=a3;if(Array.isArray(i2)){const t4=i2,a4=s2;for(let c2=0,l2=t4.length;c2<l2;++c2){if(i2=this.xref.fetchIfRef(t4[c2]),!(i2 instanceof n.Name))throw new r.FormatError(`Bad filter name "${i2}"`);s2=null,Array.isArray(a4)&&c2 in a4&&(s2=this.xref.fetchIfRef(a4[c2])),e3=this.makeFilter(e3,i2.name,o2,s2),o2=null}}return e3}makeFilter(e3,t3,a3,n2){if(0===a3)return(0,r.warn)(`Empty "${t3}" stream.`),new g.NullStream;const b2=this.xref.stats;try{switch(t3){case"Fl":case"FlateDecode":return b2.addStreamType(r.StreamType.FLATE),n2?new p.PredictorStream(new l.FlateStream(e3,a3),a3,n2):new l.FlateStream(e3,a3);case"LZW":case"LZWDecode":b2.addStreamType(r.StreamType.LZW);let t4=1;return n2?(n2.has("EarlyChange")&&(t4=n2.get("EarlyChange")),new p.PredictorStream(new f.LZWStream(e3,a3,t4),a3,n2)):new f.LZWStream(e3,a3,t4);case"DCT":case"DCTDecode":return b2.addStreamType(r.StreamType.DCT),new u.JpegStream(e3,a3,n2);case"JPX":case"JPXDecode":return b2.addStreamType(r.StreamType.JPX),new d.JpxStream(e3,a3,n2);case"A85":case"ASCII85Decode":return b2.addStreamType(r.StreamType.A85),new s.Ascii85Stream(e3,a3);case"AHx":case"ASCIIHexDecode":return b2.addStreamType(r.StreamType.AHX),new o.AsciiHexStream(e3,a3);case"CCF":case"CCITTFaxDecode":return b2.addStreamType(r.StreamType.CCF),new c.CCITTFaxStream(e3,a3,n2);case"RL":case"RunLengthDecode":return b2.addStreamType(r.StreamType.RLX),new m.RunLengthStream(e3,a3);case"JBIG2Decode":return b2.addStreamType(r.StreamType.JBIG),new h.Jbig2Stream(e3,a3,n2)}return(0,r.warn)(`Filter "${t3}" is not supported.`),e3}catch(e4){if(e4 instanceof i.MissingDataException)throw e4;return(0,r.warn)(`Invalid stream: "${e4}"`),new g.NullStream}}}t2.Parser=Parser;const b=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function toHexDigit(e3){return e3>=48&&e3<=57?15&e3:e3>=65&&e3<=70||e3>=97&&e3<=102?9+(15&e3):-1}class Lexer{constructor(e3,t3=null){this.stream=e3,this.nextChar(),this.strBuf=[],this.knownCommands=t3,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let e3=this.currentChar,t3=!1,a3=0,n2=0;if(45===e3?(n2=-1,e3=this.nextChar(),45===e3&&(e3=this.nextChar())):43===e3&&(n2=1,e3=this.nextChar()),10===e3||13===e3)do{e3=this.nextChar()}while(10===e3||13===e3);if(46===e3&&(a3=10,e3=this.nextChar()),e3<48||e3>57){if((0,i.isWhiteSpace)(e3)||-1===e3){if(10===a3&&0===n2)return(0,r.warn)("Lexer.getNumber - treating a single decimal point as zero."),0;if(0===a3&&-1===n2)return(0,r.warn)("Lexer.getNumber - treating a single minus sign as zero."),0}throw new r.FormatError(`Invalid number: ${String.fromCharCode(e3)} (charCode ${e3})`)}n2=n2||1;let s2=e3-48,o2=0,c2=1;for(;(e3=this.nextChar())>=0;)if(e3>=48&&e3<=57){const r2=e3-48;t3?o2=10*o2+r2:(0!==a3&&(a3*=10),s2=10*s2+r2)}else if(46===e3){if(0!==a3)break;a3=1}else if(45===e3)(0,r.warn)("Badly formatted number: minus sign in the middle");else{if(69!==e3&&101!==e3)break;if(e3=this.peekChar(),43===e3||45===e3)c2=45===e3?-1:1,this.nextChar();else if(e3<48||e3>57)break;t3=!0}return 0!==a3&&(s2/=a3),t3&&(s2*=10**(c2*o2)),n2*s2}getString(){let e3=1,t3=!1;const a3=this.strBuf;a3.length=0;let n2=this.nextChar();for(;;){let i2=!1;switch(0|n2){case-1:(0,r.warn)("Unterminated string"),t3=!0;break;case 40:++e3,a3.push("(");break;case 41:0==--e3?(this.nextChar(),t3=!0):a3.push(")");break;case 92:switch(n2=this.nextChar(),n2){case-1:(0,r.warn)("Unterminated string"),t3=!0;break;case 110:a3.push("\n");break;case 114:a3.push("\r");break;case 116:a3.push("\t");break;case 98:a3.push("\b");break;case 102:a3.push("\f");break;case 92:case 40:case 41:a3.push(String.fromCharCode(n2));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let e4=15&n2;n2=this.nextChar(),i2=!0,n2>=48&&n2<=55&&(e4=(e4<<3)+(15&n2),n2=this.nextChar(),n2>=48&&n2<=55&&(i2=!1,e4=(e4<<3)+(15&n2))),a3.push(String.fromCharCode(e4));break;case 13:10===this.peekChar()&&this.nextChar();break;case 10:break;default:a3.push(String.fromCharCode(n2))}break;default:a3.push(String.fromCharCode(n2))}if(t3)break;i2||(n2=this.nextChar())}return a3.join("")}getName(){let e3,t3;const a3=this.strBuf;for(a3.length=0;(e3=this.nextChar())>=0&&!b[e3];)if(35===e3){if(e3=this.nextChar(),b[e3]){(0,r.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),a3.push("#");break}const n2=toHexDigit(e3);if(-1!==n2){t3=e3,e3=this.nextChar();const i2=toHexDigit(e3);if(-1===i2){if((0,r.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(e3)}) in hexadecimal number.`),a3.push("#",String.fromCharCode(t3)),b[e3])break;a3.push(String.fromCharCode(e3));continue}a3.push(String.fromCharCode(n2<<4|i2))}else a3.push("#",String.fromCharCode(e3))}else a3.push(String.fromCharCode(e3));return a3.length>127&&(0,r.warn)(`Name token is longer than allowed by the spec: ${a3.length}`),n.Name.get(a3.join(""))}_hexStringWarn(e3){5!=this._hexStringNumWarn++?this._hexStringNumWarn>5||(0,r.warn)(`getHexString - ignoring invalid character: ${e3}`):(0,r.warn)("getHexString - ignoring additional invalid characters.")}getHexString(){const e3=this.strBuf;e3.length=0;let t3,a3,n2=this.currentChar,i2=!0;for(this._hexStringNumWarn=0;;){if(n2<0){(0,r.warn)("Unterminated hex string");break}if(62===n2){this.nextChar();break}if(1!==b[n2]){if(i2){if(t3=toHexDigit(n2),-1===t3){this._hexStringWarn(n2),n2=this.nextChar();continue}}else{if(a3=toHexDigit(n2),-1===a3){this._hexStringWarn(n2),n2=this.nextChar();continue}e3.push(String.fromCharCode(t3<<4|a3))}i2=!i2,n2=this.nextChar()}else n2=this.nextChar()}return e3.join("")}getObj(){let e3=!1,t3=this.currentChar;for(;;){if(t3<0)return n.EOF;if(e3)10!==t3&&13!==t3||(e3=!1);else if(37===t3)e3=!0;else if(1!==b[t3])break;t3=this.nextChar()}switch(0|t3){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),n.Cmd.get("[");case 93:return this.nextChar(),n.Cmd.get("]");case 60:return t3=this.nextChar(),60===t3?(this.nextChar(),n.Cmd.get("<<")):this.getHexString();case 62:return t3=this.nextChar(),62===t3?(this.nextChar(),n.Cmd.get(">>")):n.Cmd.get(">");case 123:return this.nextChar(),n.Cmd.get("{");case 125:return this.nextChar(),n.Cmd.get("}");case 41:throw this.nextChar(),new r.FormatError(`Illegal character: ${t3}`)}let a3=String.fromCharCode(t3);if(t3<32||t3>127){const e4=this.peekChar();if(e4>=32&&e4<=127)return this.nextChar(),n.Cmd.get(a3)}const i2=this.knownCommands;let s2=i2&&void 0!==i2[a3];for(;(t3=this.nextChar())>=0&&!b[t3];){const e4=a3+String.fromCharCode(t3);if(s2&&void 0===i2[e4])break;if(128===a3.length)throw new r.FormatError(`Command token too long: ${a3.length}`);a3=e4,s2=i2&&void 0!==i2[a3]}return"true"===a3||"false"!==a3&&("null"===a3?null:("BI"===a3&&(this.beginInlineImagePos=this.stream.pos),n.Cmd.get(a3)))}peekObj(){const e3=this.stream.pos,t3=this.currentChar,a3=this.beginInlineImagePos;let n2;try{n2=this.getObj()}catch(e4){if(e4 instanceof i.MissingDataException)throw e4;(0,r.warn)(`peekObj: ${e4}`)}return this.stream.pos=e3,this.currentChar=t3,this.beginInlineImagePos=a3,n2}skipToNextLine(){let e3=this.currentChar;for(;e3>=0;){if(13===e3){e3=this.nextChar(),10===e3&&this.nextChar();break}if(10===e3){this.nextChar();break}e3=this.nextChar()}}}t2.Lexer=Lexer,t2.Linearization=class{static create(e3){function getInt(e4,t4,a4=!1){const r3=e4.get(t4);if(Number.isInteger(r3)&&(a4?r3>=0:r3>0))return r3;throw new Error(`The "${t4}" parameter in the linearization dictionary is invalid.`)}const t3=new Parser({lexer:new Lexer(e3),xref:null}),a3=t3.getObj(),r2=t3.getObj(),i2=t3.getObj(),s2=t3.getObj();let o2,c2;if(!(Number.isInteger(a3)&&Number.isInteger(r2)&&(0,n.isCmd)(i2,"obj")&&s2 instanceof n.Dict&&"number"==typeof(o2=s2.get("Linearized"))&&o2>0))return null;if((c2=getInt(s2,"L"))!==e3.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.');return{length:c2,hints:function(e4){const t4=e4.get("H");let a4;if(Array.isArray(t4)&&(2===(a4=t4.length)||4===a4)){for(let e5=0;e5<a4;e5++){const a5=t4[e5];if(!(Number.isInteger(a5)&&a5>0))throw new Error(`Hint (${e5}) in the linearization dictionary is invalid.`)}return t4}throw new Error("Hint array in the linearization dictionary is invalid.")}(s2),objectNumberFirst:getInt(s2,"O"),endFirst:getInt(s2,"E"),numPages:getInt(s2,"N"),mainXRefEntriesOffset:getInt(s2,"T"),pageFirst:s2.has("P")?getInt(s2,"P",!0):0}}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.Ascii85Stream=void 0;var r=a2(19),n=a2(6);t2.Ascii85Stream=class Ascii85Stream extends r.DecodeStream{constructor(e3,t3){t3&&(t3*=.8),super(t3),this.str=e3,this.dict=e3.dict,this.input=new Uint8Array(5)}readBlock(){const e3=this.str;let t3=e3.getByte();for(;(0,n.isWhiteSpace)(t3);)t3=e3.getByte();if(-1===t3||126===t3)return void(this.eof=!0);const a3=this.bufferLength;let r2,i;if(122===t3){for(r2=this.ensureBuffer(a3+4),i=0;i<4;++i)r2[a3+i]=0;this.bufferLength+=4}else{const s=this.input;for(s[0]=t3,i=1;i<5;++i){for(t3=e3.getByte();(0,n.isWhiteSpace)(t3);)t3=e3.getByte();if(s[i]=t3,-1===t3||126===t3)break}if(r2=this.ensureBuffer(a3+i-1),this.bufferLength+=i-1,i<5){for(;i<5;++i)s[i]=117;this.eof=!0}let o=0;for(i=0;i<5;++i)o=85*o+(s[i]-33);for(i=3;i>=0;--i)r2[a3+i]=255&o,o>>=8}}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.StreamsSequenceStream=t2.DecodeStream=void 0;var r=a2(7),n=a2(10);const i=new Uint8Array(0);class DecodeStream extends r.BaseStream{constructor(e3){if(super(),this._rawMinBufferLength=e3||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=i,this.minBufferLength=512,e3)for(;this.minBufferLength<e3;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength}ensureBuffer(e3){const t3=this.buffer;if(e3<=t3.byteLength)return t3;let a3=this.minBufferLength;for(;a3<e3;)a3*=2;const r2=new Uint8Array(a3);return r2.set(t3),this.buffer=r2}getByte(){const e3=this.pos;for(;this.bufferLength<=e3;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(e3){const t3=this.pos;let a3;if(e3){for(this.ensureBuffer(t3+e3),a3=t3+e3;!this.eof&&this.bufferLength<a3;)this.readBlock();const r2=this.bufferLength;a3>r2&&(a3=r2)}else{for(;!this.eof;)this.readBlock();a3=this.bufferLength}return this.pos=a3,this.buffer.subarray(t3,a3)}reset(){this.pos=0}makeSubStream(e3,t3,a3=null){if(void 0===t3)for(;!this.eof;)this.readBlock();else{const a4=e3+t3;for(;this.bufferLength<=a4&&!this.eof;)this.readBlock()}return new n.Stream(this.buffer,e3,t3,a3)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}t2.DecodeStream=DecodeStream,t2.StreamsSequenceStream=class extends DecodeStream{constructor(e3,t3=null){let a3=0;for(const t4 of e3)a3+=t4 instanceof DecodeStream?t4._rawMinBufferLength:t4.length;super(a3),this.streams=e3,this._onError=t3}readBlock(){const e3=this.streams;if(0===e3.length)return void(this.eof=!0);const t3=e3.shift();let a3;try{a3=t3.getBytes()}catch(e4){if(this._onError)return void this._onError(e4,t3.dict&&t3.dict.objId);throw e4}const r2=this.bufferLength,n2=r2+a3.length;this.ensureBuffer(n2).set(a3,r2),this.bufferLength=n2}getBaseStreams(){const e3=[];for(const t3 of this.streams){const a3=t3.getBaseStreams();a3&&e3.push(...a3)}return e3.length>0?e3:null}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.AsciiHexStream=void 0;var r=a2(19);t2.AsciiHexStream=class AsciiHexStream extends r.DecodeStream{constructor(e3,t3){t3&&(t3*=.5),super(t3),this.str=e3,this.dict=e3.dict,this.firstDigit=-1}readBlock(){const e3=this.str.getBytes(8e3);if(!e3.length)return void(this.eof=!0);const a3=this.ensureBuffer(this.bufferLength+(e3.length+1>>1));let r2=this.bufferLength,n=this.firstDigit;for(const t4 of e3){let e4;if(t4>=48&&t4<=57)e4=15&t4;else{if(!(t4>=65&&t4<=70||t4>=97&&t4<=102)){if(62===t4){this.eof=!0;break}continue}e4=9+(15&t4)}n<0?n=e4:(a3[r2++]=n<<4|e4,n=-1)}n>=0&&this.eof&&(a3[r2++]=n<<4,n=-1),this.firstDigit=n,this.bufferLength=r2}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.CCITTFaxStream=void 0;var r=a2(22),n=a2(19),i=a2(5);t2.CCITTFaxStream=class CCITTFaxStream extends n.DecodeStream{constructor(e3,t3,a3){super(t3),this.str=e3,this.dict=e3.dict,a3 instanceof i.Dict||(a3=i.Dict.empty),this.ccittFaxDecoder=new r.CCITTFaxDecoder({next:()=>e3.getByte()},{K:a3.get("K"),EndOfLine:a3.get("EndOfLine"),EncodedByteAlign:a3.get("EncodedByteAlign"),Columns:a3.get("Columns"),Rows:a3.get("Rows"),EndOfBlock:a3.get("EndOfBlock"),BlackIs1:a3.get("BlackIs1")})}readBlock(){for(;!this.eof;){const e3=this.ccittFaxDecoder.readNextChar();if(-1===e3)return void(this.eof=!0);this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=e3}}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.CCITTFaxDecoder=void 0;var r=a2(2);const n=-1,i=[[-1,-1],[-1,-1],[7,8],[7,7],[6,6],[6,6],[6,5],[6,5],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2]],s=[[-1,-1],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],o=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],c=[[-1,-1],[-1,-1],[12,-2],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],l=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],h=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];t2.CCITTFaxDecoder=class{constructor(e3,t3={}){if(!e3||"function"!=typeof e3.next)throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=e3,this.eof=!1,this.encoding=t3.K||0,this.eoline=t3.EndOfLine||!1,this.byteAlign=t3.EncodedByteAlign||!1,this.columns=t3.Columns||1728,this.rows=t3.Rows||0;let a3,r2=t3.EndOfBlock;for(null==r2&&(r2=!0),this.eoblock=r2,this.black=t3.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;0===(a3=this._lookBits(12));)this._eatBits(1);1===a3&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const e3=this.refLine,t3=this.codingLine,a3=this.columns;let i2,s2,o2,c2,l2;if(0===this.outputBits){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;let o3,l3,h2;if(this.err=!1,this.nextLine2D){for(c2=0;t3[c2]<a3;++c2)e3[c2]=t3[c2];for(e3[c2++]=a3,e3[c2]=a3,t3[0]=0,this.codingPos=0,i2=0,s2=0;t3[this.codingPos]<a3;)switch(o3=this._getTwoDimCode(),o3){case 0:this._addPixels(e3[i2+1],s2),e3[i2+1]<a3&&(i2+=2);break;case 1:if(o3=l3=0,s2){do{o3+=h2=this._getBlackCode()}while(h2>=64);do{l3+=h2=this._getWhiteCode()}while(h2>=64)}else{do{o3+=h2=this._getWhiteCode()}while(h2>=64);do{l3+=h2=this._getBlackCode()}while(h2>=64)}for(this._addPixels(t3[this.codingPos]+o3,s2),t3[this.codingPos]<a3&&this._addPixels(t3[this.codingPos]+l3,1^s2);e3[i2]<=t3[this.codingPos]&&e3[i2]<a3;)i2+=2;break;case 7:if(this._addPixels(e3[i2]+3,s2),s2^=1,t3[this.codingPos]<a3)for(++i2;e3[i2]<=t3[this.codingPos]&&e3[i2]<a3;)i2+=2;break;case 5:if(this._addPixels(e3[i2]+2,s2),s2^=1,t3[this.codingPos]<a3)for(++i2;e3[i2]<=t3[this.codingPos]&&e3[i2]<a3;)i2+=2;break;case 3:if(this._addPixels(e3[i2]+1,s2),s2^=1,t3[this.codingPos]<a3)for(++i2;e3[i2]<=t3[this.codingPos]&&e3[i2]<a3;)i2+=2;break;case 2:if(this._addPixels(e3[i2],s2),s2^=1,t3[this.codingPos]<a3)for(++i2;e3[i2]<=t3[this.codingPos]&&e3[i2]<a3;)i2+=2;break;case 8:if(this._addPixelsNeg(e3[i2]-3,s2),s2^=1,t3[this.codingPos]<a3)for(i2>0?--i2:++i2;e3[i2]<=t3[this.codingPos]&&e3[i2]<a3;)i2+=2;break;case 6:if(this._addPixelsNeg(e3[i2]-2,s2),s2^=1,t3[this.codingPos]<a3)for(i2>0?--i2:++i2;e3[i2]<=t3[this.codingPos]&&e3[i2]<a3;)i2+=2;break;case 4:if(this._addPixelsNeg(e3[i2]-1,s2),s2^=1,t3[this.codingPos]<a3)for(i2>0?--i2:++i2;e3[i2]<=t3[this.codingPos]&&e3[i2]<a3;)i2+=2;break;case n:this._addPixels(a3,0),this.eof=!0;break;default:(0,r.info)("bad 2d code"),this._addPixels(a3,0),this.err=!0}}else for(t3[0]=0,this.codingPos=0,s2=0;t3[this.codingPos]<a3;){if(o3=0,s2)do{o3+=h2=this._getBlackCode()}while(h2>=64);else do{o3+=h2=this._getWhiteCode()}while(h2>=64);this._addPixels(t3[this.codingPos]+o3,s2),s2^=1}let u=!1;if(this.byteAlign&&(this.inputBits&=-8),this.eoblock||this.row!==this.rows-1){if(o3=this._lookBits(12),this.eoline)for(;o3!==n&&1!==o3;)this._eatBits(1),o3=this._lookBits(12);else for(;0===o3;)this._eatBits(1),o3=this._lookBits(12);1===o3?(this._eatBits(12),u=!0):o3===n&&(this.eof=!0)}else this.rowsDone=!0;if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&u&&this.byteAlign){if(o3=this._lookBits(12),1===o3){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(c2=0;c2<4;++c2)o3=this._lookBits(12),1!==o3&&(0,r.info)("bad rtc code: "+o3),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(o3=this._lookBits(13),o3===n)return this.eof=!0,-1;if(o3>>1==1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(1&o3))}this.outputBits=t3[0]>0?t3[this.codingPos=0]:t3[this.codingPos=1],this.row++}if(this.outputBits>=8)l2=1&this.codingPos?0:255,this.outputBits-=8,0===this.outputBits&&t3[this.codingPos]<a3&&(this.codingPos++,this.outputBits=t3[this.codingPos]-t3[this.codingPos-1]);else{o2=8,l2=0;do{if("number"!=typeof this.outputBits)throw new r.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>o2?(l2<<=o2,1&this.codingPos||(l2|=255>>8-o2),this.outputBits-=o2,o2=0):(l2<<=this.outputBits,1&this.codingPos||(l2|=255>>8-this.outputBits),o2-=this.outputBits,this.outputBits=0,t3[this.codingPos]<a3?(this.codingPos++,this.outputBits=t3[this.codingPos]-t3[this.codingPos-1]):o2>0&&(l2<<=o2,o2=0))}while(o2)}return this.black&&(l2^=255),l2}_addPixels(e3,t3){const a3=this.codingLine;let n2=this.codingPos;e3>a3[n2]&&(e3>this.columns&&((0,r.info)("row is wrong length"),this.err=!0,e3=this.columns),1&n2^t3&&++n2,a3[n2]=e3),this.codingPos=n2}_addPixelsNeg(e3,t3){const a3=this.codingLine;let n2=this.codingPos;if(e3>a3[n2])e3>this.columns&&((0,r.info)("row is wrong length"),this.err=!0,e3=this.columns),1&n2^t3&&++n2,a3[n2]=e3;else if(e3<a3[n2]){for(e3<0&&((0,r.info)("invalid code"),this.err=!0,e3=0);n2>0&&e3<a3[n2-1];)--n2;a3[n2]=e3}this.codingPos=n2}_findTableCode(e3,t3,a3,r2){const i2=r2||0;for(let r3=e3;r3<=t3;++r3){let e4=this._lookBits(r3);if(e4===n)return[!0,1,!1];if(r3<t3&&(e4<<=t3-r3),!i2||e4>=i2){const t4=a3[e4-i2];if(t4[0]===r3)return this._eatBits(r3),[!0,t4[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let e3,t3=0;if(this.eoblock){if(t3=this._lookBits(7),e3=i[t3],e3&&e3[0]>0)return this._eatBits(e3[0]),e3[1]}else{const e4=this._findTableCode(1,7,i);if(e4[0]&&e4[2])return e4[1]}return(0,r.info)("Bad two dim code"),n}_getWhiteCode(){let e3,t3=0;if(this.eoblock){if(t3=this._lookBits(12),t3===n)return 1;if(e3=t3>>5?o[t3>>3]:s[t3],e3[0]>0)return this._eatBits(e3[0]),e3[1]}else{let e4=this._findTableCode(1,9,o);if(e4[0]||(e4=this._findTableCode(11,12,s),e4[0]))return e4[1]}return(0,r.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let e3,t3;if(this.eoblock){if(e3=this._lookBits(13),e3===n)return 1;if(t3=e3>>7?!(e3>>9)&&e3>>7?l[(e3>>1)-64]:h[e3>>7]:c[e3],t3[0]>0)return this._eatBits(t3[0]),t3[1]}else{let e4=this._findTableCode(2,6,h);if(e4[0]||(e4=this._findTableCode(7,12,l,64),e4[0])||(e4=this._findTableCode(10,13,c),e4[0]))return e4[1]}return(0,r.info)("bad black code"),this._eatBits(1),1}_lookBits(e3){let t3;for(;this.inputBits<e3;){if(-1===(t3=this.source.next()))return 0===this.inputBits?n:this.inputBuf<<e3-this.inputBits&65535>>16-e3;this.inputBuf=this.inputBuf<<8|t3,this.inputBits+=8}return this.inputBuf>>this.inputBits-e3&65535>>16-e3}_eatBits(e3){(this.inputBits-=e3)<0&&(this.inputBits=0)}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.FlateStream=void 0;var r=a2(19),n=a2(2);const i=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),o=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),c=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],l=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];t2.FlateStream=class FlateStream extends r.DecodeStream{constructor(e3,t3){super(t3),this.str=e3,this.dict=e3.dict;const a3=e3.getByte(),r2=e3.getByte();if(-1===a3||-1===r2)throw new n.FormatError(`Invalid header in flate stream: ${a3}, ${r2}`);if(8!=(15&a3))throw new n.FormatError(`Unknown compression method in flate stream: ${a3}, ${r2}`);if(((a3<<8)+r2)%31!=0)throw new n.FormatError(`Bad FCHECK in flate stream: ${a3}, ${r2}`);if(32&r2)throw new n.FormatError(`FDICT bit set in flate stream: ${a3}, ${r2}`);this.codeSize=0,this.codeBuf=0}getBits(e3){const t3=this.str;let a3,r2=this.codeSize,i2=this.codeBuf;for(;r2<e3;){if(-1===(a3=t3.getByte()))throw new n.FormatError("Bad encoding in flate stream");i2|=a3<<r2,r2+=8}return a3=i2&(1<<e3)-1,this.codeBuf=i2>>e3,this.codeSize=r2-=e3,a3}getCode(e3){const t3=this.str,a3=e3[0],r2=e3[1];let i2,s2=this.codeSize,o2=this.codeBuf;for(;s2<r2&&-1!==(i2=t3.getByte());)o2|=i2<<s2,s2+=8;const c2=a3[o2&(1<<r2)-1],l2=c2>>16,h=65535&c2;if(l2<1||s2<l2)throw new n.FormatError("Bad encoding in flate stream");return this.codeBuf=o2>>l2,this.codeSize=s2-l2,h}generateHuffmanTable(e3){const t3=e3.length;let a3,r2=0;for(a3=0;a3<t3;++a3)e3[a3]>r2&&(r2=e3[a3]);const n2=1<<r2,i2=new Int32Array(n2);for(let s2=1,o2=0,c2=2;s2<=r2;++s2,o2<<=1,c2<<=1)for(let r3=0;r3<t3;++r3)if(e3[r3]===s2){let e4=0,t4=o2;for(a3=0;a3<s2;++a3)e4=e4<<1|1&t4,t4>>=1;for(a3=e4;a3<n2;a3+=c2)i2[a3]=s2<<16|r3;++o2}return[i2,r2]}readBlock(){let e3,t3;const a3=this.str;let r2,h,u=this.getBits(3);if(1&u&&(this.eof=!0),u>>=1,0===u){let t4;if(-1===(t4=a3.getByte()))throw new n.FormatError("Bad block header in flate stream");let r3=t4;if(-1===(t4=a3.getByte()))throw new n.FormatError("Bad block header in flate stream");if(r3|=t4<<8,-1===(t4=a3.getByte()))throw new n.FormatError("Bad block header in flate stream");let i2=t4;if(-1===(t4=a3.getByte()))throw new n.FormatError("Bad block header in flate stream");if(i2|=t4<<8,i2!==(65535&~r3)&&(0!==r3||0!==i2))throw new n.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const s2=this.bufferLength,o2=s2+r3;if(e3=this.ensureBuffer(o2),this.bufferLength=o2,0===r3)-1===a3.peekByte()&&(this.eof=!0);else{const t5=a3.getBytes(r3);e3.set(t5,s2),t5.length<r3&&(this.eof=!0)}return}if(1===u)r2=c,h=l;else{if(2!==u)throw new n.FormatError("Unknown block type in flate stream");{const e4=this.getBits(5)+257,a4=this.getBits(5)+1,n2=this.getBits(4)+4,s2=new Uint8Array(i.length);let o2;for(o2=0;o2<n2;++o2)s2[i[o2]]=this.getBits(3);const c2=this.generateHuffmanTable(s2);t3=0,o2=0;const l2=e4+a4,u2=new Uint8Array(l2);let d2,f2,g;for(;o2<l2;){const e5=this.getCode(c2);if(16===e5)d2=2,f2=3,g=t3;else if(17===e5)d2=3,f2=3,g=t3=0;else{if(18!==e5){u2[o2++]=t3=e5;continue}d2=7,f2=11,g=t3=0}let a5=this.getBits(d2)+f2;for(;a5-- >0;)u2[o2++]=g}r2=this.generateHuffmanTable(u2.subarray(0,e4)),h=this.generateHuffmanTable(u2.subarray(e4,l2))}}e3=this.buffer;let d=e3?e3.length:0,f=this.bufferLength;for(;;){let a4=this.getCode(r2);if(a4<256){f+1>=d&&(e3=this.ensureBuffer(f+1),d=e3.length),e3[f++]=a4;continue}if(256===a4)return void(this.bufferLength=f);a4-=257,a4=s[a4];let n2=a4>>16;n2>0&&(n2=this.getBits(n2)),t3=(65535&a4)+n2,a4=this.getCode(h),a4=o[a4],n2=a4>>16,n2>0&&(n2=this.getBits(n2));const i2=(65535&a4)+n2;f+t3>=d&&(e3=this.ensureBuffer(f+t3),d=e3.length);for(let a5=0;a5<t3;++a5,++f)e3[f]=e3[f-i2]}}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.Jbig2Stream=void 0;var r=a2(7),n=a2(19),i=a2(5),s=a2(25),o=a2(2);t2.Jbig2Stream=class Jbig2Stream extends n.DecodeStream{constructor(e3,t3,a3){super(t3),this.stream=e3,this.dict=e3.dict,this.maybeLength=t3,this.params=a3}get bytes(){return(0,o.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(e3){}readBlock(){if(this.eof)return;const e3=new s.Jbig2Image,t3=[];if(this.params instanceof i.Dict){const e4=this.params.get("JBIG2Globals");if(e4 instanceof r.BaseStream){const a4=e4.getBytes();t3.push({data:a4,start:0,end:a4.length})}}t3.push({data:this.bytes,start:0,end:this.bytes.length});const a3=e3.parseChunks(t3),n2=a3.length;for(let e4=0;e4<n2;e4++)a3[e4]^=255;this.buffer=a3,this.bufferLength=n2,this.eof=!0}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.Jbig2Image=void 0;var r=a2(2),n=a2(6),i=a2(26),s=a2(22);class Jbig2Error extends r.BaseException{constructor(e3){super(`JBIG2 error: ${e3}`,"Jbig2Error")}}class ContextCache{getContexts(e3){return e3 in this?this[e3]:this[e3]=new Int8Array(65536)}}class DecodingContext{constructor(e3,t3,a3){this.data=e3,this.start=t3,this.end=a3}get decoder(){const e3=new i.ArithmeticDecoder(this.data,this.start,this.end);return(0,r.shadow)(this,"decoder",e3)}get contextCache(){const e3=new ContextCache;return(0,r.shadow)(this,"contextCache",e3)}}function decodeInteger(e3,t3,a3){const r2=e3.getContexts(t3);let n2=1;function readBits(e4){let t4=0;for(let i3=0;i3<e4;i3++){const e5=a3.readBit(r2,n2);n2=n2<256?n2<<1|e5:511&(n2<<1|e5)|256,t4=t4<<1|e5}return t4>>>0}const i2=readBits(1),s2=readBits(1)?readBits(1)?readBits(1)?readBits(1)?readBits(1)?readBits(32)+4436:readBits(12)+340:readBits(8)+84:readBits(6)+20:readBits(4)+4:readBits(2);return 0===i2?s2:s2>0?-s2:null}function decodeIAID(e3,t3,a3){const r2=e3.getContexts("IAID");let n2=1;for(let e4=0;e4<a3;e4++)n2=n2<<1|t3.readBit(r2,n2);return a3<31?n2&(1<<a3)-1:2147483647&n2}const o=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],c=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],l=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],h=[39717,1941,229,405],u=[32,8];function decodeBitmap(e3,t3,a3,r2,n2,i2,s2,o2){if(e3)return decodeMMRBitmap(new Reader(o2.data,o2.start,o2.end),t3,a3,!1);if(0===r2&&!i2&&!n2&&4===s2.length&&3===s2[0].x&&-1===s2[0].y&&-3===s2[1].x&&-1===s2[1].y&&2===s2[2].x&&-2===s2[2].y&&-2===s2[3].x&&-2===s2[3].y)return function(e4,t4,a4){const r3=a4.decoder,n3=a4.contextCache.getContexts("GB"),i3=[];let s3,o3,c2,l3,h2,u3,d3;for(o3=0;o3<t4;o3++)for(h2=i3[o3]=new Uint8Array(e4),u3=o3<1?h2:i3[o3-1],d3=o3<2?h2:i3[o3-2],s3=d3[0]<<13|d3[1]<<12|d3[2]<<11|u3[0]<<7|u3[1]<<6|u3[2]<<5|u3[3]<<4,c2=0;c2<e4;c2++)h2[c2]=l3=r3.readBit(n3,s3),s3=(31735&s3)<<1|(c2+3<e4?d3[c2+3]<<11:0)|(c2+4<e4?u3[c2+4]<<4:0)|l3;return i3}(t3,a3,o2);const l2=!!i2,u2=c[r2].concat(s2);u2.sort(function(e4,t4){return e4.y-t4.y||e4.x-t4.x});const d2=u2.length,f2=new Int8Array(d2),g=new Int8Array(d2),p=[];let m,b,y=0,w=0,S=0,x=0;for(b=0;b<d2;b++)f2[b]=u2[b].x,g[b]=u2[b].y,w=Math.min(w,u2[b].x),S=Math.max(S,u2[b].x),x=Math.min(x,u2[b].y),b<d2-1&&u2[b].y===u2[b+1].y&&u2[b].x===u2[b+1].x-1?y|=1<<d2-1-b:p.push(b);const k=p.length,C=new Int8Array(k),v=new Int8Array(k),F=new Uint16Array(k);for(m=0;m<k;m++)b=p[m],C[m]=u2[b].x,v[m]=u2[b].y,F[m]=1<<d2-1-b;const O=-w,T=-x,M=t3-S,E=h[r2];let D=new Uint8Array(t3);const N=[],R=o2.decoder,L=o2.contextCache.getContexts("GB");let j,$,_,U,X,H=0,q=0;for(let e4=0;e4<a3;e4++)if(n2&&(H^=R.readBit(L,E),H))N.push(D);else for(D=new Uint8Array(D),N.push(D),j=0;j<t3;j++){if(l2&&i2[e4][j]){D[j]=0;continue}if(j>=O&&j<M&&e4>=T)for(q=q<<1&y,b=0;b<k;b++)$=e4+v[b],_=j+C[b],U=N[$][_],U&&(U=F[b],q|=U);else for(q=0,X=d2-1,b=0;b<d2;b++,X--)_=j+f2[b],_>=0&&_<t3&&($=e4+g[b],$>=0&&(U=N[$][_],U&&(q|=U<<X)));const a4=R.readBit(L,q);D[j]=a4}return N}function decodeRefinement(e3,t3,a3,r2,n2,i2,s2,o2,c2){let h2=l[a3].coding;0===a3&&(h2=h2.concat([o2[0]]));const d2=h2.length,f2=new Int32Array(d2),g=new Int32Array(d2);let p;for(p=0;p<d2;p++)f2[p]=h2[p].x,g[p]=h2[p].y;let m=l[a3].reference;0===a3&&(m=m.concat([o2[1]]));const b=m.length,y=new Int32Array(b),w=new Int32Array(b);for(p=0;p<b;p++)y[p]=m[p].x,w[p]=m[p].y;const S=r2[0].length,x=r2.length,k=u[a3],C=[],v=c2.decoder,F=c2.contextCache.getContexts("GR");let O=0;for(let a4=0;a4<t3;a4++){if(s2&&(O^=v.readBit(F,k),O))throw new Jbig2Error("prediction is not supported");const t4=new Uint8Array(e3);C.push(t4);for(let s3=0;s3<e3;s3++){let o3,c3,l2=0;for(p=0;p<d2;p++)o3=a4+g[p],c3=s3+f2[p],o3<0||c3<0||c3>=e3?l2<<=1:l2=l2<<1|C[o3][c3];for(p=0;p<b;p++)o3=a4+w[p]-i2,c3=s3+y[p]-n2,o3<0||o3>=x||c3<0||c3>=S?l2<<=1:l2=l2<<1|r2[o3][c3];const h3=v.readBit(F,l2);t4[s3]=h3}}return C}function decodeTextRegion(e3,t3,a3,r2,n2,i2,s2,o2,c2,l2,h2,u2,d2,f2,g,p,m,b,y){if(e3&&t3)throw new Jbig2Error("refinement with Huffman is not supported");const w=[];let S,x;for(S=0;S<r2;S++){if(x=new Uint8Array(a3),n2)for(let e4=0;e4<a3;e4++)x[e4]=n2;w.push(x)}const k=m.decoder,C=m.contextCache;let v=e3?-f2.tableDeltaT.decode(y):-decodeInteger(C,"IADT",k),F=0;for(S=0;S<i2;){v+=e3?f2.tableDeltaT.decode(y):decodeInteger(C,"IADT",k),F+=e3?f2.tableFirstS.decode(y):decodeInteger(C,"IAFS",k);let r3=F;for(;;){let n3=0;s2>1&&(n3=e3?y.readBits(b):decodeInteger(C,"IAIT",k));const i3=s2*v+n3,F2=e3?f2.symbolIDTable.decode(y):decodeIAID(C,k,c2),O=t3&&(e3?y.readBit():decodeInteger(C,"IARI",k));let T=o2[F2],M=T[0].length,E=T.length;if(O){const e4=decodeInteger(C,"IARDW",k),t4=decodeInteger(C,"IARDH",k);M+=e4,E+=t4,T=decodeRefinement(M,E,g,T,(e4>>1)+decodeInteger(C,"IARDX",k),(t4>>1)+decodeInteger(C,"IARDY",k),!1,p,m)}const D=i3-(1&u2?0:E-1),N=r3-(2&u2?M-1:0);let R,L,j;if(l2){for(R=0;R<E;R++){if(x=w[N+R],!x)continue;j=T[R];const e4=Math.min(a3-D,M);switch(d2){case 0:for(L=0;L<e4;L++)x[D+L]|=j[L];break;case 2:for(L=0;L<e4;L++)x[D+L]^=j[L];break;default:throw new Jbig2Error(`operator ${d2} is not supported`)}}r3+=E-1}else{for(L=0;L<E;L++)if(x=w[D+L],x)switch(j=T[L],d2){case 0:for(R=0;R<M;R++)x[N+R]|=j[R];break;case 2:for(R=0;R<M;R++)x[N+R]^=j[R];break;default:throw new Jbig2Error(`operator ${d2} is not supported`)}r3+=M-1}S++;const $=e3?f2.tableDeltaS.decode(y):decodeInteger(C,"IADS",k);if(null===$)break;r3+=$+h2}}return w}function readSegmentHeader(e3,t3){const a3={};a3.number=(0,n.readUint32)(e3,t3);const r2=e3[t3+4],i2=63&r2;if(!o[i2])throw new Jbig2Error("invalid segment type: "+i2);a3.type=i2,a3.typeName=o[i2],a3.deferredNonRetain=!!(128&r2);const s2=!!(64&r2),c2=e3[t3+5];let l2=c2>>5&7;const h2=[31&c2];let u2=t3+6;if(7===c2){l2=536870911&(0,n.readUint32)(e3,u2-1),u2+=3;let t4=l2+7>>3;for(h2[0]=e3[u2++];--t4>0;)h2.push(e3[u2++])}else if(5===c2||6===c2)throw new Jbig2Error("invalid referred-to flags");a3.retainBits=h2;let f2=4;a3.number<=256?f2=1:a3.number<=65536&&(f2=2);const g=[];let p,m;for(p=0;p<l2;p++){let t4;t4=1===f2?e3[u2]:2===f2?(0,n.readUint16)(e3,u2):(0,n.readUint32)(e3,u2),g.push(t4),u2+=f2}if(a3.referredTo=g,s2?(a3.pageAssociation=(0,n.readUint32)(e3,u2),u2+=4):a3.pageAssociation=e3[u2++],a3.length=(0,n.readUint32)(e3,u2),u2+=4,4294967295===a3.length){if(38!==i2)throw new Jbig2Error("invalid unknown segment length");{const t4=readRegionSegmentInformation(e3,u2),r3=!!(1&e3[u2+d]),n2=6,i3=new Uint8Array(n2);for(r3||(i3[0]=255,i3[1]=172),i3[2]=t4.height>>>24&255,i3[3]=t4.height>>16&255,i3[4]=t4.height>>8&255,i3[5]=255&t4.height,p=u2,m=e3.length;p<m;p++){let t5=0;for(;t5<n2&&i3[t5]===e3[p+t5];)t5++;if(t5===n2){a3.length=p+n2;break}}if(4294967295===a3.length)throw new Jbig2Error("segment end was not found")}}return a3.headerEnd=u2,a3}function readSegments(e3,t3,a3,r2){const n2=[];let i2=a3;for(;i2<r2;){const a4=readSegmentHeader(t3,i2);i2=a4.headerEnd;const r3={header:a4,data:t3};if(e3.randomAccess||(r3.start=i2,i2+=a4.length,r3.end=i2),n2.push(r3),51===a4.type)break}if(e3.randomAccess)for(let e4=0,t4=n2.length;e4<t4;e4++)n2[e4].start=i2,i2+=n2[e4].header.length,n2[e4].end=i2;return n2}function readRegionSegmentInformation(e3,t3){return{width:(0,n.readUint32)(e3,t3),height:(0,n.readUint32)(e3,t3+4),x:(0,n.readUint32)(e3,t3+8),y:(0,n.readUint32)(e3,t3+12),combinationOperator:7&e3[t3+16]}}const d=17;function processSegment(e3,t3){const a3=e3.header,r2=e3.data,i2=e3.end;let s2,o2,c2,l2,h2=e3.start;switch(a3.type){case 0:const e4={},t4=(0,n.readUint16)(r2,h2);if(e4.huffman=!!(1&t4),e4.refinement=!!(2&t4),e4.huffmanDHSelector=t4>>2&3,e4.huffmanDWSelector=t4>>4&3,e4.bitmapSizeSelector=t4>>6&1,e4.aggregationInstancesSelector=t4>>7&1,e4.bitmapCodingContextUsed=!!(256&t4),e4.bitmapCodingContextRetained=!!(512&t4),e4.template=t4>>10&3,e4.refinementTemplate=t4>>12&1,h2+=2,!e4.huffman){for(l2=0===e4.template?4:1,o2=[],c2=0;c2<l2;c2++)o2.push({x:(0,n.readInt8)(r2,h2),y:(0,n.readInt8)(r2,h2+1)}),h2+=2;e4.at=o2}if(e4.refinement&&!e4.refinementTemplate){for(o2=[],c2=0;c2<2;c2++)o2.push({x:(0,n.readInt8)(r2,h2),y:(0,n.readInt8)(r2,h2+1)}),h2+=2;e4.refinementAt=o2}e4.numberOfExportedSymbols=(0,n.readUint32)(r2,h2),h2+=4,e4.numberOfNewSymbols=(0,n.readUint32)(r2,h2),h2+=4,s2=[e4,a3.number,a3.referredTo,r2,h2,i2];break;case 6:case 7:const u3={};u3.info=readRegionSegmentInformation(r2,h2),h2+=d;const f2=(0,n.readUint16)(r2,h2);if(h2+=2,u3.huffman=!!(1&f2),u3.refinement=!!(2&f2),u3.logStripSize=f2>>2&3,u3.stripSize=1<<u3.logStripSize,u3.referenceCorner=f2>>4&3,u3.transposed=!!(64&f2),u3.combinationOperator=f2>>7&3,u3.defaultPixelValue=f2>>9&1,u3.dsOffset=f2<<17>>27,u3.refinementTemplate=f2>>15&1,u3.huffman){const e5=(0,n.readUint16)(r2,h2);h2+=2,u3.huffmanFS=3&e5,u3.huffmanDS=e5>>2&3,u3.huffmanDT=e5>>4&3,u3.huffmanRefinementDW=e5>>6&3,u3.huffmanRefinementDH=e5>>8&3,u3.huffmanRefinementDX=e5>>10&3,u3.huffmanRefinementDY=e5>>12&3,u3.huffmanRefinementSizeSelector=!!(16384&e5)}if(u3.refinement&&!u3.refinementTemplate){for(o2=[],c2=0;c2<2;c2++)o2.push({x:(0,n.readInt8)(r2,h2),y:(0,n.readInt8)(r2,h2+1)}),h2+=2;u3.refinementAt=o2}u3.numberOfSymbolInstances=(0,n.readUint32)(r2,h2),h2+=4,s2=[u3,a3.referredTo,r2,h2,i2];break;case 16:const g={},p=r2[h2++];g.mmr=!!(1&p),g.template=p>>1&3,g.patternWidth=r2[h2++],g.patternHeight=r2[h2++],g.maxPatternIndex=(0,n.readUint32)(r2,h2),h2+=4,s2=[g,a3.number,r2,h2,i2];break;case 22:case 23:const m={};m.info=readRegionSegmentInformation(r2,h2),h2+=d;const b=r2[h2++];m.mmr=!!(1&b),m.template=b>>1&3,m.enableSkip=!!(8&b),m.combinationOperator=b>>4&7,m.defaultPixelValue=b>>7&1,m.gridWidth=(0,n.readUint32)(r2,h2),h2+=4,m.gridHeight=(0,n.readUint32)(r2,h2),h2+=4,m.gridOffsetX=4294967295&(0,n.readUint32)(r2,h2),h2+=4,m.gridOffsetY=4294967295&(0,n.readUint32)(r2,h2),h2+=4,m.gridVectorX=(0,n.readUint16)(r2,h2),h2+=2,m.gridVectorY=(0,n.readUint16)(r2,h2),h2+=2,s2=[m,a3.referredTo,r2,h2,i2];break;case 38:case 39:const y={};y.info=readRegionSegmentInformation(r2,h2),h2+=d;const w=r2[h2++];if(y.mmr=!!(1&w),y.template=w>>1&3,y.prediction=!!(8&w),!y.mmr){for(l2=0===y.template?4:1,o2=[],c2=0;c2<l2;c2++)o2.push({x:(0,n.readInt8)(r2,h2),y:(0,n.readInt8)(r2,h2+1)}),h2+=2;y.at=o2}s2=[y,r2,h2,i2];break;case 48:const S={width:(0,n.readUint32)(r2,h2),height:(0,n.readUint32)(r2,h2+4),resolutionX:(0,n.readUint32)(r2,h2+8),resolutionY:(0,n.readUint32)(r2,h2+12)};4294967295===S.height&&delete S.height;const x=r2[h2+16];(0,n.readUint16)(r2,h2+17),S.lossless=!!(1&x),S.refinement=!!(2&x),S.defaultPixelValue=x>>2&1,S.combinationOperator=x>>3&3,S.requiresBuffer=!!(32&x),S.combinationOperatorOverride=!!(64&x),s2=[S];break;case 49:case 50:case 51:case 62:break;case 53:s2=[a3.number,r2,h2,i2];break;default:throw new Jbig2Error(`segment type ${a3.typeName}(${a3.type}) is not implemented`)}const u2="on"+a3.typeName;u2 in t3&&t3[u2].apply(t3,s2)}function processSegments(e3,t3){for(let a3=0,r2=e3.length;a3<r2;a3++)processSegment(e3[a3],t3)}class SimpleSegmentVisitor{onPageInformation(e3){this.currentPageInfo=e3;const a3=new Uint8ClampedArray((e3.width+7>>3)*e3.height);e3.defaultPixelValue&&a3.fill(255),this.buffer=a3}drawBitmap(e3,t3){const a3=this.currentPageInfo,r2=e3.width,n2=e3.height,i2=a3.width+7>>3,s2=a3.combinationOperatorOverride?e3.combinationOperator:a3.combinationOperator,o2=this.buffer,c2=128>>(7&e3.x);let l2,h2,u2,d2,f2=e3.y*i2+(e3.x>>3);switch(s2){case 0:for(l2=0;l2<n2;l2++){for(u2=c2,d2=f2,h2=0;h2<r2;h2++)t3[l2][h2]&&(o2[d2]|=u2),u2>>=1,u2||(u2=128,d2++);f2+=i2}break;case 2:for(l2=0;l2<n2;l2++){for(u2=c2,d2=f2,h2=0;h2<r2;h2++)t3[l2][h2]&&(o2[d2]^=u2),u2>>=1,u2||(u2=128,d2++);f2+=i2}break;default:throw new Jbig2Error(`operator ${s2} is not supported`)}}onImmediateGenericRegion(e3,t3,a3,r2){const n2=e3.info,i2=new DecodingContext(t3,a3,r2),s2=decodeBitmap(e3.mmr,n2.width,n2.height,e3.template,e3.prediction,null,e3.at,i2);this.drawBitmap(n2,s2)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(e3,t3,a3,r2,i2,s2){let o2,c2;e3.huffman&&(o2=function(e4,t4,a4){let r3,n2,i3,s3,o3=0;switch(e4.huffmanDHSelector){case 0:case 1:r3=getStandardTable(e4.huffmanDHSelector+4);break;case 3:r3=getCustomHuffmanTable(o3,t4,a4),o3++;break;default:throw new Jbig2Error("invalid Huffman DH selector")}switch(e4.huffmanDWSelector){case 0:case 1:n2=getStandardTable(e4.huffmanDWSelector+2);break;case 3:n2=getCustomHuffmanTable(o3,t4,a4),o3++;break;default:throw new Jbig2Error("invalid Huffman DW selector")}return e4.bitmapSizeSelector?(i3=getCustomHuffmanTable(o3,t4,a4),o3++):i3=getStandardTable(1),s3=e4.aggregationInstancesSelector?getCustomHuffmanTable(o3,t4,a4):getStandardTable(1),{tableDeltaHeight:r3,tableDeltaWidth:n2,tableBitmapSize:i3,tableAggregateInstances:s3}}(e3,a3,this.customTables),c2=new Reader(r2,i2,s2));let l2=this.symbols;l2||(this.symbols=l2={});const h2=[];for(const e4 of a3){const t4=l2[e4];t4&&h2.push(...t4)}const u2=new DecodingContext(r2,i2,s2);l2[t3]=function(e4,t4,a4,r3,i3,s3,o3,c3,l3,h3,u3,d2){if(e4&&t4)throw new Jbig2Error("symbol refinement with Huffman is not supported");const f2=[];let g=0,p=(0,n.log2)(a4.length+r3);const m=u3.decoder,b=u3.contextCache;let y,w;for(e4&&(y=getStandardTable(1),w=[],p=Math.max(p,1));f2.length<r3;){g+=e4?s3.tableDeltaHeight.decode(d2):decodeInteger(b,"IADH",m);let r4=0,n2=0;const i4=e4?w.length:0;for(;;){const i5=e4?s3.tableDeltaWidth.decode(d2):decodeInteger(b,"IADW",m);if(null===i5)break;let y2;if(r4+=i5,n2+=r4,t4){const n3=decodeInteger(b,"IAAI",m);if(n3>1)y2=decodeTextRegion(e4,t4,r4,g,0,n3,1,a4.concat(f2),p,0,0,1,0,s3,l3,h3,u3,0,d2);else{const e5=decodeIAID(b,m,p),t5=decodeInteger(b,"IARDX",m),n4=decodeInteger(b,"IARDY",m);y2=decodeRefinement(r4,g,l3,e5<a4.length?a4[e5]:f2[e5-a4.length],t5,n4,!1,h3,u3)}f2.push(y2)}else e4?w.push(r4):(y2=decodeBitmap(!1,r4,g,o3,!1,null,c3,u3),f2.push(y2))}if(e4&&!t4){const e5=s3.tableBitmapSize.decode(d2);let t5;if(d2.byteAlign(),0===e5)t5=readUncompressedBitmap(d2,n2,g);else{const a6=d2.end,r5=d2.position+e5;d2.end=r5,t5=decodeMMRBitmap(d2,n2,g,!1),d2.end=a6,d2.position=r5}const a5=w.length;if(i4===a5-1)f2.push(t5);else{let e6,r5,n3,s4,o4,c4=0;for(e6=i4;e6<a5;e6++){for(s4=w[e6],n3=c4+s4,o4=[],r5=0;r5<g;r5++)o4.push(t5[r5].subarray(c4,n3));f2.push(o4),c4=n3}}}}const S=[],x=[];let k,C,v=!1;const F=a4.length+r3;for(;x.length<F;){let t5=e4?y.decode(d2):decodeInteger(b,"IAEX",m);for(;t5--;)x.push(v);v=!v}for(k=0,C=a4.length;k<C;k++)x[k]&&S.push(a4[k]);for(let e5=0;e5<r3;k++,e5++)x[k]&&S.push(f2[e5]);return S}(e3.huffman,e3.refinement,h2,e3.numberOfNewSymbols,0,o2,e3.template,e3.at,e3.refinementTemplate,e3.refinementAt,u2,c2)}onImmediateTextRegion(e3,t3,a3,r2,i2){const s2=e3.info;let o2,c2;const l2=this.symbols,h2=[];for(const e4 of t3){const t4=l2[e4];t4&&h2.push(...t4)}const u2=(0,n.log2)(h2.length);e3.huffman&&(c2=new Reader(a3,r2,i2),o2=function(e4,t4,a4,r3,n2){const i3=[];for(let e5=0;e5<=34;e5++){const t5=n2.readBits(4);i3.push(new HuffmanLine([e5,t5,0,0]))}const s3=new HuffmanTable(i3,!1);i3.length=0;for(let e5=0;e5<r3;){const t5=s3.decode(n2);if(t5>=32){let a5,r4,s4;switch(t5){case 32:if(0===e5)throw new Jbig2Error("no previous value in symbol ID table");r4=n2.readBits(2)+3,a5=i3[e5-1].prefixLength;break;case 33:r4=n2.readBits(3)+3,a5=0;break;case 34:r4=n2.readBits(7)+11,a5=0;break;default:throw new Jbig2Error("invalid code length in symbol ID table")}for(s4=0;s4<r4;s4++)i3.push(new HuffmanLine([e5,a5,0,0])),e5++}else i3.push(new HuffmanLine([e5,t5,0,0])),e5++}n2.byteAlign();const o3=new HuffmanTable(i3,!1);let c3,l3,h3,u3=0;switch(e4.huffmanFS){case 0:case 1:c3=getStandardTable(e4.huffmanFS+6);break;case 3:c3=getCustomHuffmanTable(u3,t4,a4),u3++;break;default:throw new Jbig2Error("invalid Huffman FS selector")}switch(e4.huffmanDS){case 0:case 1:case 2:l3=getStandardTable(e4.huffmanDS+8);break;case 3:l3=getCustomHuffmanTable(u3,t4,a4),u3++;break;default:throw new Jbig2Error("invalid Huffman DS selector")}switch(e4.huffmanDT){case 0:case 1:case 2:h3=getStandardTable(e4.huffmanDT+11);break;case 3:h3=getCustomHuffmanTable(u3,t4,a4),u3++;break;default:throw new Jbig2Error("invalid Huffman DT selector")}if(e4.refinement)throw new Jbig2Error("refinement with Huffman is not supported");return{symbolIDTable:o3,tableFirstS:c3,tableDeltaS:l3,tableDeltaT:h3}}(e3,t3,this.customTables,h2.length,c2));const d2=new DecodingContext(a3,r2,i2),f2=decodeTextRegion(e3.huffman,e3.refinement,s2.width,s2.height,e3.defaultPixelValue,e3.numberOfSymbolInstances,e3.stripSize,h2,u2,e3.transposed,e3.dsOffset,e3.referenceCorner,e3.combinationOperator,o2,e3.refinementTemplate,e3.refinementAt,d2,e3.logStripSize,c2);this.drawBitmap(s2,f2)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(e3,t3,a3,r2,n2){let i2=this.patterns;i2||(this.patterns=i2={});const s2=new DecodingContext(a3,r2,n2);i2[t3]=function(e4,t4,a4,r3,n3,i3){const s3=[];e4||(s3.push({x:-t4,y:0}),0===n3&&s3.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const o2=decodeBitmap(e4,(r3+1)*t4,a4,n3,!1,null,s3,i3),c2=[];for(let e5=0;e5<=r3;e5++){const r4=[],n4=t4*e5,i4=n4+t4;for(let e6=0;e6<a4;e6++)r4.push(o2[e6].subarray(n4,i4));c2.push(r4)}return c2}(e3.mmr,e3.patternWidth,e3.patternHeight,e3.maxPatternIndex,e3.template,s2)}onImmediateHalftoneRegion(e3,t3,a3,r2,i2){const s2=this.patterns[t3[0]],o2=e3.info,c2=new DecodingContext(a3,r2,i2),l2=function(e4,t4,a4,r3,i3,s3,o3,c3,l3,h2,u2,d2,f2,g,p){if(o3)throw new Jbig2Error("skip is not supported");if(0!==c3)throw new Jbig2Error(`operator "${c3}" is not supported in halftone region`);const m=[];let b,y,w;for(b=0;b<i3;b++){if(w=new Uint8Array(r3),s3)for(y=0;y<r3;y++)w[y]=s3;m.push(w)}const x=t4[0],k=x[0].length,C=x.length,v=(0,n.log2)(t4.length),F=[];e4||(F.push({x:a4<=1?3:2,y:-1}),0===a4&&F.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const O=[];let T,M,E,D,N,R,L,j,$,_,U;for(e4&&(T=new Reader(p.data,p.start,p.end)),b=v-1;b>=0;b--)M=e4?decodeMMRBitmap(T,l3,h2,!0):decodeBitmap(!1,l3,h2,a4,!1,null,F,p),O[b]=M;for(E=0;E<h2;E++)for(D=0;D<l3;D++){for(N=0,R=0,y=v-1;y>=0;y--)N^=O[y][E][D],R|=N<<y;if(L=t4[R],j=u2+E*g+D*f2>>8,$=d2+E*f2-D*g>>8,j>=0&&j+k<=r3&&$>=0&&$+C<=i3)for(b=0;b<C;b++)for(U=m[$+b],_=L[b],y=0;y<k;y++)U[j+y]|=_[y];else{let e5,t5;for(b=0;b<C;b++)if(t5=$+b,!(t5<0||t5>=i3))for(U=m[t5],_=L[b],y=0;y<k;y++)e5=j+y,e5>=0&&e5<r3&&(U[e5]|=_[y])}}return m}(e3.mmr,s2,e3.template,o2.width,o2.height,e3.defaultPixelValue,e3.enableSkip,e3.combinationOperator,e3.gridWidth,e3.gridHeight,e3.gridOffsetX,e3.gridOffsetY,e3.gridVectorX,e3.gridVectorY,c2);this.drawBitmap(o2,l2)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(e3,t3,a3,r2){let i2=this.customTables;i2||(this.customTables=i2={}),i2[e3]=function(e4,t4,a4){const r3=e4[t4],i3=4294967295&(0,n.readUint32)(e4,t4+1),s2=4294967295&(0,n.readUint32)(e4,t4+5),o2=new Reader(e4,t4+9,a4),c2=1+(r3>>1&7),l2=1+(r3>>4&7),h2=[];let u2,d2,f2=i3;do{u2=o2.readBits(c2),d2=o2.readBits(l2),h2.push(new HuffmanLine([f2,u2,d2,0])),f2+=1<<d2}while(f2<s2);return u2=o2.readBits(c2),h2.push(new HuffmanLine([i3-1,u2,32,0,"lower"])),u2=o2.readBits(c2),h2.push(new HuffmanLine([s2,u2,32,0])),1&r3&&(u2=o2.readBits(c2),h2.push(new HuffmanLine([u2,0]))),new HuffmanTable(h2,!1)}(t3,a3,r2)}}class HuffmanLine{constructor(e3){2===e3.length?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=e3[0],this.rangeLength=0,this.prefixCode=e3[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=e3[0],this.prefixLength=e3[1],this.rangeLength=e3[2],this.prefixCode=e3[3],this.isLowerRange="lower"===e3[4])}}class HuffmanTreeNode{constructor(e3){this.children=[],e3?(this.isLeaf=!0,this.rangeLength=e3.rangeLength,this.rangeLow=e3.rangeLow,this.isLowerRange=e3.isLowerRange,this.isOOB=e3.isOOB):this.isLeaf=!1}buildTree(e3,t3){const a3=e3.prefixCode>>t3&1;if(t3<=0)this.children[a3]=new HuffmanTreeNode(e3);else{let r2=this.children[a3];r2||(this.children[a3]=r2=new HuffmanTreeNode(null)),r2.buildTree(e3,t3-1)}}decodeNode(e3){if(this.isLeaf){if(this.isOOB)return null;const t4=e3.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-t4:t4)}const t3=this.children[e3.readBit()];if(!t3)throw new Jbig2Error("invalid Huffman data");return t3.decodeNode(e3)}}class HuffmanTable{constructor(e3,t3){t3||this.assignPrefixCodes(e3),this.rootNode=new HuffmanTreeNode(null);for(let t4=0,a3=e3.length;t4<a3;t4++){const a4=e3[t4];a4.prefixLength>0&&this.rootNode.buildTree(a4,a4.prefixLength-1)}}decode(e3){return this.rootNode.decodeNode(e3)}assignPrefixCodes(e3){const t3=e3.length;let a3=0;for(let r3=0;r3<t3;r3++)a3=Math.max(a3,e3[r3].prefixLength);const r2=new Uint32Array(a3+1);for(let a4=0;a4<t3;a4++)r2[e3[a4].prefixLength]++;let n2,i2,s2,o2=1,c2=0;for(r2[0]=0;o2<=a3;){for(c2=c2+r2[o2-1]<<1,n2=c2,i2=0;i2<t3;)s2=e3[i2],s2.prefixLength===o2&&(s2.prefixCode=n2,n2++),i2++;o2++}}}const f={};function getStandardTable(e3){let t3,a3=f[e3];if(a3)return a3;switch(e3){case 1:t3=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:t3=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:t3=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:t3=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:t3=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:t3=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:t3=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:t3=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:t3=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:t3=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:t3=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:t3=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:t3=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:t3=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:t3=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new Jbig2Error(`standard table B.${e3} does not exist`)}for(let e4=0,a4=t3.length;e4<a4;e4++)t3[e4]=new HuffmanLine(t3[e4]);return a3=new HuffmanTable(t3,!0),f[e3]=a3,a3}class Reader{constructor(e3,t3,a3){this.data=e3,this.start=t3,this.end=a3,this.position=t3,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new Jbig2Error("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const e3=this.currentByte>>this.shift&1;return this.shift--,e3}readBits(e3){let t3,a3=0;for(t3=e3-1;t3>=0;t3--)a3|=this.readBit()<<t3;return a3}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function getCustomHuffmanTable(e3,t3,a3){let r2=0;for(let n2=0,i2=t3.length;n2<i2;n2++){const i3=a3[t3[n2]];if(i3){if(e3===r2)return i3;r2++}}throw new Jbig2Error("can't find custom Huffman table")}function readUncompressedBitmap(e3,t3,a3){const r2=[];for(let n2=0;n2<a3;n2++){const a4=new Uint8Array(t3);r2.push(a4);for(let r3=0;r3<t3;r3++)a4[r3]=e3.readBit();e3.byteAlign()}return r2}function decodeMMRBitmap(e3,t3,a3,r2){const i2=new s.CCITTFaxDecoder(e3,{K:-1,Columns:t3,Rows:a3,BlackIs1:!0,EndOfBlock:r2}),o2=[];let c2,l2=!1;for(let e4=0;e4<a3;e4++){const e5=new Uint8Array(t3);o2.push(e5);let a4=-1;for(let r3=0;r3<t3;r3++)a4<0&&(c2=i2.readNextChar(),-1===c2&&(c2=0,l2=!0),a4=7),e5[r3]=c2>>a4&1,a4--}if(r2&&!l2)for(let t4=0;t4<5&&-1!==i2.readNextChar();t4++);return o2}t2.Jbig2Image=class{parseChunks(e3){return function(e4){const t3=new SimpleSegmentVisitor;for(let a3=0,r2=e4.length;a3<r2;a3++){const r3=e4[a3];processSegments(readSegments({},r3.data,r3.start,r3.end),t3)}return t3.buffer}(e3)}parse(e3){throw new Error("Not implemented: Jbig2Image.parse")}}},(e2,t2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.ArithmeticDecoder=void 0;const a2=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];t2.ArithmeticDecoder=class{constructor(e3,t3,a3){this.data=e3,this.bp=t3,this.dataEnd=a3,this.chigh=e3[t3],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const e3=this.data;let t3=this.bp;255===e3[t3]?e3[t3+1]>143?(this.clow+=65280,this.ct=8):(t3++,this.clow+=e3[t3]<<9,this.ct=7,this.bp=t3):(t3++,this.clow+=t3<this.dataEnd?e3[t3]<<8:65280,this.ct=8,this.bp=t3),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(e3,t3){let r=e3[t3]>>1,n=1&e3[t3];const i=a2[r],s=i.qe;let o,c=this.a-s;if(this.chigh<s)c<s?(c=s,o=n,r=i.nmps):(c=s,o=1^n,1===i.switchFlag&&(n=o),r=i.nlps);else{if(this.chigh-=s,32768&c)return this.a=c,n;c<s?(o=1^n,1===i.switchFlag&&(n=o),r=i.nlps):(o=n,r=i.nmps)}do{0===this.ct&&this.byteIn(),c<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--}while(!(32768&c));return this.a=c,e3[t3]=r<<1|n,o}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.JpegStream=void 0;var r=a2(19),n=a2(5),i=a2(28),s=a2(2);t2.JpegStream=class JpegStream extends r.DecodeStream{constructor(e3,t3,a3){let r2;for(;-1!==(r2=e3.getByte());)if(255===r2){e3.skip(-1);break}super(t3),this.stream=e3,this.dict=e3.dict,this.maybeLength=t3,this.params=a3}get bytes(){return(0,s.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(e3){}readBlock(){if(this.eof)return;const e3={decodeTransform:void 0,colorTransform:void 0},t3=this.dict.getArray("D","Decode");if(this.forceRGB&&Array.isArray(t3)){const a4=this.dict.get("BPC","BitsPerComponent")||8,r3=t3.length,n2=new Int32Array(r3);let i2=!1;const s2=(1<<a4)-1;for(let e4=0;e4<r3;e4+=2)n2[e4]=256*(t3[e4+1]-t3[e4])|0,n2[e4+1]=t3[e4]*s2|0,256===n2[e4]&&0===n2[e4+1]||(i2=!0);i2&&(e3.decodeTransform=n2)}if(this.params instanceof n.Dict){const t4=this.params.get("ColorTransform");Number.isInteger(t4)&&(e3.colorTransform=t4)}const a3=new i.JpegImage(e3);a3.parse(this.bytes);const r2=a3.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=r2,this.bufferLength=r2.length,this.eof=!0}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.JpegImage=void 0;var r=a2(2),n=a2(6);class JpegError extends r.BaseException{constructor(e3){super(`JPEG error: ${e3}`,"JpegError")}}class DNLMarkerError extends r.BaseException{constructor(e3,t3){super(e3,"DNLMarkerError"),this.scanLines=t3}}class EOIMarkerError extends r.BaseException{constructor(e3){super(e3,"EOIMarkerError")}}const i=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),s=4017,o=799,c=3406,l=2276,h=1567,u=3784,d=5793,f=2896;function buildHuffmanTable(e3,t3){let a3,r2,n2=0,i2=16;for(;i2>0&&!e3[i2-1];)i2--;const s2=[{children:[],index:0}];let o2,c2=s2[0];for(a3=0;a3<i2;a3++){for(r2=0;r2<e3[a3];r2++){for(c2=s2.pop(),c2.children[c2.index]=t3[n2];c2.index>0;)c2=s2.pop();for(c2.index++,s2.push(c2);s2.length<=a3;)s2.push(o2={children:[],index:0}),c2.children[c2.index]=o2.children,c2=o2;n2++}a3+1<i2&&(s2.push(o2={children:[],index:0}),c2.children[c2.index]=o2.children,c2=o2)}return s2[0].children}function getBlockBufferOffset(e3,t3,a3){return 64*((e3.blocksPerLine+1)*t3+a3)}function decodeScan(e3,t3,a3,s2,o2,c2,l2,h2,u2,d2=!1){const f2=a3.mcusPerLine,p=t3;let m=0,b=0;function readBit(){if(b>0)return b--,m>>b&1;if(m=e3[t3++],255===m){const r2=e3[t3++];if(r2){if(220===r2&&d2){const r3=(0,n.readUint16)(e3,t3+=2);if(t3+=2,r3>0&&r3!==a3.scanLines)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",r3)}else if(217===r2){if(d2){const e4=x*(8===a3.precision?8:0);if(e4>0&&Math.round(a3.scanLines/e4)>=10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",e4)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new JpegError(`unexpected marker ${(m<<8|r2).toString(16)}`)}}return b=7,m>>>7}function decodeHuffman(e4){let t4=e4;for(;;){switch(t4=t4[readBit()],typeof t4){case"number":return t4;case"object":continue}throw new JpegError("invalid huffman sequence")}}function receive(e4){let t4=0;for(;e4>0;)t4=t4<<1|readBit(),e4--;return t4}function receiveAndExtend(e4){if(1===e4)return 1===readBit()?1:-1;const t4=receive(e4);return t4>=1<<e4-1?t4:t4+(-1<<e4)+1}let w,y=0,S=0,x=0;function decodeMcu(e4,t4,a4,r2,n2){x=(a4/f2|0)*e4.v+r2,t4(e4,getBlockBufferOffset(e4,x,a4%f2*e4.h+n2))}function decodeBlock(e4,t4,a4){x=a4/e4.blocksPerLine|0,t4(e4,getBlockBufferOffset(e4,x,a4%e4.blocksPerLine))}const k=s2.length;let C,v,F,O,T,M;M=a3.progressive?0===c2?0===h2?function(e4,t4){const a4=decodeHuffman(e4.huffmanTableDC),r2=0===a4?0:receiveAndExtend(a4)<<u2;e4.blockData[t4]=e4.pred+=r2}:function(e4,t4){e4.blockData[t4]|=readBit()<<u2}:0===h2?function(e4,t4){if(y>0)return void y--;let a4=c2;const r2=l2;for(;a4<=r2;){const r3=decodeHuffman(e4.huffmanTableAC),n2=15&r3,s3=r3>>4;if(0!==n2)a4+=s3,e4.blockData[t4+i[a4]]=receiveAndExtend(n2)*(1<<u2),a4++;else{if(s3<15){y=receive(s3)+(1<<s3)-1;break}a4+=16}}}:function(e4,t4){let a4=c2;const r2=l2;let n2,s3,o3=0;for(;a4<=r2;){const r3=t4+i[a4],c3=e4.blockData[r3]<0?-1:1;switch(S){case 0:if(s3=decodeHuffman(e4.huffmanTableAC),n2=15&s3,o3=s3>>4,0===n2)o3<15?(y=receive(o3)+(1<<o3),S=4):(o3=16,S=1);else{if(1!==n2)throw new JpegError("invalid ACn encoding");w=receiveAndExtend(n2),S=o3?2:3}continue;case 1:case 2:e4.blockData[r3]?e4.blockData[r3]+=c3*(readBit()<<u2):(o3--,0===o3&&(S=2===S?3:0));break;case 3:e4.blockData[r3]?e4.blockData[r3]+=c3*(readBit()<<u2):(e4.blockData[r3]=w<<u2,S=0);break;case 4:e4.blockData[r3]&&(e4.blockData[r3]+=c3*(readBit()<<u2))}a4++}4===S&&(y--,0===y&&(S=0))}:function(e4,t4){const a4=decodeHuffman(e4.huffmanTableDC),r2=0===a4?0:receiveAndExtend(a4);e4.blockData[t4]=e4.pred+=r2;let n2=1;for(;n2<64;){const a5=decodeHuffman(e4.huffmanTableAC),r3=15&a5,s3=a5>>4;if(0!==r3)n2+=s3,e4.blockData[t4+i[n2]]=receiveAndExtend(r3),n2++;else{if(s3<15)break;n2+=16}}};let E,D,N,R,L=0;for(D=1===k?s2[0].blocksPerLine*s2[0].blocksPerColumn:f2*a3.mcusPerColumn;L<=D;){const a4=o2?Math.min(D-L,o2):D;if(a4>0){for(v=0;v<k;v++)s2[v].pred=0;if(y=0,1===k)for(C=s2[0],T=0;T<a4;T++)decodeBlock(C,M,L),L++;else for(T=0;T<a4;T++){for(v=0;v<k;v++)for(C=s2[v],N=C.h,R=C.v,F=0;F<R;F++)for(O=0;O<N;O++)decodeMcu(C,M,L,F,O);L++}}if(b=0,E=findNextFileMarker(e3,t3),!E)break;if(E.invalid&&((0,r.warn)(`decodeScan - ${a4>0?"unexpected":"excessive"} MCU data, current marker is: ${E.invalid}`),t3=E.offset),!(E.marker>=65488&&E.marker<=65495))break;t3+=2}return t3-p}function quantizeAndInverse(e3,t3,a3){const r2=e3.quantizationTable,n2=e3.blockData;let i2,g,p,m,b,y,w,S,x,k,C,v,F,O,T,M,E;if(!r2)throw new JpegError("missing required Quantization Table.");for(let e4=0;e4<64;e4+=8)x=n2[t3+e4],k=n2[t3+e4+1],C=n2[t3+e4+2],v=n2[t3+e4+3],F=n2[t3+e4+4],O=n2[t3+e4+5],T=n2[t3+e4+6],M=n2[t3+e4+7],x*=r2[e4],k|C|v|F|O|T|M?(k*=r2[e4+1],C*=r2[e4+2],v*=r2[e4+3],F*=r2[e4+4],O*=r2[e4+5],T*=r2[e4+6],M*=r2[e4+7],i2=d*x+128>>8,g=d*F+128>>8,p=C,m=T,b=f*(k-M)+128>>8,S=f*(k+M)+128>>8,y=v<<4,w=O<<4,i2=i2+g+1>>1,g=i2-g,E=p*u+m*h+128>>8,p=p*h-m*u+128>>8,m=E,b=b+w+1>>1,w=b-w,S=S+y+1>>1,y=S-y,i2=i2+m+1>>1,m=i2-m,g=g+p+1>>1,p=g-p,E=b*l+S*c+2048>>12,b=b*c-S*l+2048>>12,S=E,E=y*o+w*s+2048>>12,y=y*s-w*o+2048>>12,w=E,a3[e4]=i2+S,a3[e4+7]=i2-S,a3[e4+1]=g+w,a3[e4+6]=g-w,a3[e4+2]=p+y,a3[e4+5]=p-y,a3[e4+3]=m+b,a3[e4+4]=m-b):(E=d*x+512>>10,a3[e4]=E,a3[e4+1]=E,a3[e4+2]=E,a3[e4+3]=E,a3[e4+4]=E,a3[e4+5]=E,a3[e4+6]=E,a3[e4+7]=E);for(let e4=0;e4<8;++e4)x=a3[e4],k=a3[e4+8],C=a3[e4+16],v=a3[e4+24],F=a3[e4+32],O=a3[e4+40],T=a3[e4+48],M=a3[e4+56],k|C|v|F|O|T|M?(i2=d*x+2048>>12,g=d*F+2048>>12,p=C,m=T,b=f*(k-M)+2048>>12,S=f*(k+M)+2048>>12,y=v,w=O,i2=4112+(i2+g+1>>1),g=i2-g,E=p*u+m*h+2048>>12,p=p*h-m*u+2048>>12,m=E,b=b+w+1>>1,w=b-w,S=S+y+1>>1,y=S-y,i2=i2+m+1>>1,m=i2-m,g=g+p+1>>1,p=g-p,E=b*l+S*c+2048>>12,b=b*c-S*l+2048>>12,S=E,E=y*o+w*s+2048>>12,y=y*s-w*o+2048>>12,w=E,x=i2+S,M=i2-S,k=g+w,T=g-w,C=p+y,O=p-y,v=m+b,F=m-b,x<16?x=0:x>=4080?x=255:x>>=4,k<16?k=0:k>=4080?k=255:k>>=4,C<16?C=0:C>=4080?C=255:C>>=4,v<16?v=0:v>=4080?v=255:v>>=4,F<16?F=0:F>=4080?F=255:F>>=4,O<16?O=0:O>=4080?O=255:O>>=4,T<16?T=0:T>=4080?T=255:T>>=4,M<16?M=0:M>=4080?M=255:M>>=4,n2[t3+e4]=x,n2[t3+e4+8]=k,n2[t3+e4+16]=C,n2[t3+e4+24]=v,n2[t3+e4+32]=F,n2[t3+e4+40]=O,n2[t3+e4+48]=T,n2[t3+e4+56]=M):(E=d*x+8192>>14,E=E<-2040?0:E>=2024?255:E+2056>>4,n2[t3+e4]=E,n2[t3+e4+8]=E,n2[t3+e4+16]=E,n2[t3+e4+24]=E,n2[t3+e4+32]=E,n2[t3+e4+40]=E,n2[t3+e4+48]=E,n2[t3+e4+56]=E)}function buildComponentData(e3,t3){const a3=t3.blocksPerLine,r2=t3.blocksPerColumn,n2=new Int16Array(64);for(let e4=0;e4<r2;e4++)for(let r3=0;r3<a3;r3++)quantizeAndInverse(t3,getBlockBufferOffset(t3,e4,r3),n2);return t3.blockData}function findNextFileMarker(e3,t3,a3=t3){const r2=e3.length-1;let i2=a3<t3?a3:t3;if(t3>=r2)return null;const s2=(0,n.readUint16)(e3,t3);if(s2>=65472&&s2<=65534)return{invalid:null,marker:s2,offset:t3};let o2=(0,n.readUint16)(e3,i2);for(;!(o2>=65472&&o2<=65534);){if(++i2>=r2)return null;o2=(0,n.readUint16)(e3,i2)}return{invalid:s2.toString(16),marker:o2,offset:i2}}t2.JpegImage=class{constructor({decodeTransform:e3=null,colorTransform:t3=-1}={}){this._decodeTransform=e3,this._colorTransform=t3}parse(e3,{dnlScanLines:t3=null}={}){function readDataBlock(){const t4=(0,n.readUint16)(e3,o2);o2+=2;let a4=o2+t4-2;const i2=findNextFileMarker(e3,a4,o2);i2&&i2.invalid&&((0,r.warn)("readDataBlock - incorrect length, current marker is: "+i2.invalid),a4=i2.offset);const s3=e3.subarray(o2,a4);return o2+=s3.length,s3}function prepareComponents(e4){const t4=Math.ceil(e4.samplesPerLine/8/e4.maxH),a4=Math.ceil(e4.scanLines/8/e4.maxV);for(let r2=0,n2=e4.components.length;r2<n2;r2++){const n3=e4.components[r2],i2=Math.ceil(Math.ceil(e4.samplesPerLine/8)*n3.h/e4.maxH),s3=Math.ceil(Math.ceil(e4.scanLines/8)*n3.v/e4.maxV);n3.blockData=new Int16Array(a4*n3.v*64*(t4*n3.h+1)),n3.blocksPerLine=i2,n3.blocksPerColumn=s3}e4.mcusPerLine=t4,e4.mcusPerColumn=a4}let a3,s2,o2=0,c2=null,l2=null,h2=0;const u2=[],d2=[],f2=[];let g=(0,n.readUint16)(e3,o2);if(o2+=2,65496!==g)throw new JpegError("SOI not found");g=(0,n.readUint16)(e3,o2),o2+=2;e:for(;65497!==g;){let p,m,b;switch(g){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const y=readDataBlock();65504===g&&74===y[0]&&70===y[1]&&73===y[2]&&70===y[3]&&0===y[4]&&(c2={version:{major:y[5],minor:y[6]},densityUnits:y[7],xDensity:y[8]<<8|y[9],yDensity:y[10]<<8|y[11],thumbWidth:y[12],thumbHeight:y[13],thumbData:y.subarray(14,14+3*y[12]*y[13])}),65518===g&&65===y[0]&&100===y[1]&&111===y[2]&&98===y[3]&&101===y[4]&&(l2={version:y[5]<<8|y[6],flags0:y[7]<<8|y[8],flags1:y[9]<<8|y[10],transformCode:y[11]});break;case 65499:const w=(0,n.readUint16)(e3,o2);o2+=2;const S=w+o2-2;let x;for(;o2<S;){const t4=e3[o2++],a4=new Uint16Array(64);if(t4>>4){if(t4>>4!=1)throw new JpegError("DQT - invalid table spec");for(m=0;m<64;m++)x=i[m],a4[x]=(0,n.readUint16)(e3,o2),o2+=2}else for(m=0;m<64;m++)x=i[m],a4[x]=e3[o2++];u2[15&t4]=a4}break;case 65472:case 65473:case 65474:if(a3)throw new JpegError("Only single frame JPEGs supported");o2+=2,a3={},a3.extended=65473===g,a3.progressive=65474===g,a3.precision=e3[o2++];const k=(0,n.readUint16)(e3,o2);o2+=2,a3.scanLines=t3||k,a3.samplesPerLine=(0,n.readUint16)(e3,o2),o2+=2,a3.components=[],a3.componentIds={};const C=e3[o2++];let v=0,F=0;for(p=0;p<C;p++){const t4=e3[o2],r2=e3[o2+1]>>4,n2=15&e3[o2+1];v<r2&&(v=r2),F<n2&&(F=n2),b=a3.components.push({h:r2,v:n2,quantizationId:e3[o2+2],quantizationTable:null}),a3.componentIds[t4]=b-1,o2+=3}a3.maxH=v,a3.maxV=F,prepareComponents(a3);break;case 65476:const O=(0,n.readUint16)(e3,o2);for(o2+=2,p=2;p<O;){const t4=e3[o2++],a4=new Uint8Array(16);let r2=0;for(m=0;m<16;m++,o2++)r2+=a4[m]=e3[o2];const n2=new Uint8Array(r2);for(m=0;m<r2;m++,o2++)n2[m]=e3[o2];p+=17+r2,(t4>>4?d2:f2)[15&t4]=buildHuffmanTable(a4,n2)}break;case 65501:o2+=2,s2=(0,n.readUint16)(e3,o2),o2+=2;break;case 65498:const T=1==++h2&&!t3;o2+=2;const M=e3[o2++],E=[];for(p=0;p<M;p++){const t4=e3[o2++],n2=a3.components[a3.componentIds[t4]];n2.index=t4;const i2=e3[o2++];n2.huffmanTableDC=f2[i2>>4],n2.huffmanTableAC=d2[15&i2],E.push(n2)}const D=e3[o2++],N=e3[o2++],R=e3[o2++];try{const t4=decodeScan(e3,o2,a3,E,s2,D,N,R>>4,15&R,T);o2+=t4}catch(t4){if(t4 instanceof DNLMarkerError)return(0,r.warn)(`${t4.message} -- attempting to re-parse the JPEG image.`),this.parse(e3,{dnlScanLines:t4.scanLines});if(t4 instanceof EOIMarkerError){(0,r.warn)(`${t4.message} -- ignoring the rest of the image data.`);break e}throw t4}break;case 65500:o2+=4;break;case 65535:255!==e3[o2]&&o2--;break;default:const L=findNextFileMarker(e3,o2-2,o2-3);if(L&&L.invalid){(0,r.warn)("JpegImage.parse - unexpected data, current marker is: "+L.invalid),o2=L.offset;break}if(!L||o2>=e3.length-1){(0,r.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new JpegError("JpegImage.parse - unknown marker: "+g.toString(16))}g=(0,n.readUint16)(e3,o2),o2+=2}this.width=a3.samplesPerLine,this.height=a3.scanLines,this.jfif=c2,this.adobe=l2,this.components=[];for(let e4=0,t4=a3.components.length;e4<t4;e4++){const t5=a3.components[e4],r2=u2[t5.quantizationId];r2&&(t5.quantizationTable=r2),this.components.push({index:t5.index,output:buildComponentData(0,t5),scaleX:t5.h/a3.maxH,scaleY:t5.v/a3.maxV,blocksPerLine:t5.blocksPerLine,blocksPerColumn:t5.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(e3,t3,a3=!1){const r2=this.width/e3,n2=this.height/t3;let i2,s2,o2,c2,l2,h2,u2,d2,f2,g,p,m=0;const b=this.components.length,y=e3*t3*b,w=new Uint8ClampedArray(y),S=new Uint32Array(e3),x=4294967288;let k;for(u2=0;u2<b;u2++){if(i2=this.components[u2],s2=i2.scaleX*r2,o2=i2.scaleY*n2,m=u2,p=i2.output,c2=i2.blocksPerLine+1<<3,s2!==k){for(l2=0;l2<e3;l2++)d2=0|l2*s2,S[l2]=(d2&x)<<3|7&d2;k=s2}for(h2=0;h2<t3;h2++)for(d2=0|h2*o2,g=c2*(d2&x)|(7&d2)<<3,l2=0;l2<e3;l2++)w[m]=p[g+S[l2]],m+=b}let C=this._decodeTransform;if(a3||4!==b||C||(C=new Int32Array([-256,255,-256,255,-256,255,-256,255])),C)for(u2=0;u2<y;)for(d2=0,f2=0;d2<b;d2++,u2++,f2+=2)w[u2]=(w[u2]*C[f2]>>8)+C[f2+1];return w}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this._colorTransform&&(82!==this.components[0].index||71!==this.components[1].index||66!==this.components[2].index):1===this._colorTransform}_convertYccToRgb(e3){let t3,a3,r2;for(let n2=0,i2=e3.length;n2<i2;n2+=3)t3=e3[n2],a3=e3[n2+1],r2=e3[n2+2],e3[n2]=t3-179.456+1.402*r2,e3[n2+1]=t3+135.459-.344*a3-.714*r2,e3[n2+2]=t3-226.816+1.772*a3;return e3}_convertYcckToRgb(e3){let t3,a3,r2,n2,i2=0;for(let s2=0,o2=e3.length;s2<o2;s2+=4)t3=e3[s2],a3=e3[s2+1],r2=e3[s2+2],n2=e3[s2+3],e3[i2++]=a3*(-660635669420364e-19*a3+.000437130475926232*r2-54080610064599e-18*t3+.00048449797120281*n2-.154362151871126)-122.67195406894+r2*(-.000957964378445773*r2+.000817076911346625*t3-.00477271405408747*n2+1.53380253221734)+t3*(.000961250184130688*t3-.00266257332283933*n2+.48357088451265)+n2*(-.000336197177618394*n2+.484791561490776),e3[i2++]=107.268039397724+a3*(219927104525741e-19*a3-.000640992018297945*r2+.000659397001245577*t3+.000426105652938837*n2-.176491792462875)+r2*(-.000778269941513683*r2+.00130872261408275*t3+.000770482631801132*n2-.151051492775562)+t3*(.00126935368114843*t3-.00265090189010898*n2+.25802910206845)+n2*(-.000318913117588328*n2-.213742400323665),e3[i2++]=a3*(-.000570115196973677*a3-263409051004589e-19*r2+.0020741088115012*t3-.00288260236853442*n2+.814272968359295)-20.810012546947+r2*(-153496057440975e-19*r2-.000132689043961446*t3+.000560833691242812*n2-.195152027534049)+t3*(.00174418132927582*t3-.00255243321439347*n2+.116935020465145)+n2*(-.000343531996510555*n2+.24165260232407);return e3.subarray(0,i2)}_convertYcckToCmyk(e3){let t3,a3,r2;for(let n2=0,i2=e3.length;n2<i2;n2+=4)t3=e3[n2],a3=e3[n2+1],r2=e3[n2+2],e3[n2]=434.456-t3-1.402*r2,e3[n2+1]=119.541-t3+.344*a3+.714*r2,e3[n2+2]=481.816-t3-1.772*a3;return e3}_convertCmykToRgb(e3){let t3,a3,r2,n2,i2=0;for(let s2=0,o2=e3.length;s2<o2;s2+=4)t3=e3[s2],a3=e3[s2+1],r2=e3[s2+2],n2=e3[s2+3],e3[i2++]=255+t3*(-6747147073602441e-20*t3+.0008379262121013727*a3+.0002894718188643294*r2+.003264231057537806*n2-1.1185611867203937)+a3*(26374107616089405e-21*a3-8626949158638572e-20*r2-.0002748769067499491*n2-.02155688794978967)+r2*(-3878099212869363e-20*r2-.0003267808279485286*n2+.0686742238595345)-n2*(.0003361971776183937*n2+.7430659151342254),e3[i2++]=255+t3*(.00013596372813588848*t3+.000924537132573585*a3+.00010567359618683593*r2+.0004791864687436512*n2-.3109689587515875)+a3*(-.00023545346108370344*a3+.0002702845253534714*r2+.0020200308977307156*n2-.7488052167015494)+r2*(6834815998235662e-20*r2+.00015168452363460973*n2-.09751927774728933)-n2*(.0003189131175883281*n2+.7364883807733168),e3[i2++]=255+t3*(13598650411385307e-21*t3+.00012423956175490851*a3+.0004751985097583589*r2-36729317476630422e-22*n2-.05562186980264034)+a3*(.00016141380598724676*a3+.0009692239130725186*r2+.0007782692450036253*n2-.44015232367526463)+r2*(5.068882914068769e-7*r2+.0017778369011375071*n2-.7591454649749609)-n2*(.0003435319965105553*n2+.7063770186160144);return e3.subarray(0,i2)}getData({width:e3,height:t3,forceRGB:a3=!1,isSourcePDF:r2=!1}){if(this.numComponents>4)throw new JpegError("Unsupported color mode");const n2=this._getLinearizedBlockData(e3,t3,r2);if(1===this.numComponents&&a3){const e4=n2.length,t4=new Uint8ClampedArray(3*e4);let a4=0;for(let r3=0;r3<e4;r3++){const e5=n2[r3];t4[a4++]=e5,t4[a4++]=e5,t4[a4++]=e5}return t4}if(3===this.numComponents&&this._isColorConversionNeeded)return this._convertYccToRgb(n2);if(4===this.numComponents){if(this._isColorConversionNeeded)return a3?this._convertYcckToRgb(n2):this._convertYcckToCmyk(n2);if(a3)return this._convertCmykToRgb(n2)}return n2}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.JpxStream=void 0;var r=a2(19),n=a2(30),i=a2(2);t2.JpxStream=class JpxStream extends r.DecodeStream{constructor(e3,t3,a3){super(t3),this.stream=e3,this.dict=e3.dict,this.maybeLength=t3,this.params=a3}get bytes(){return(0,i.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(e3){}readBlock(){if(this.eof)return;const e3=new n.JpxImage;e3.parse(this.bytes);const t3=e3.width,a3=e3.height,r2=e3.componentsCount,i2=e3.tiles.length;if(1===i2)this.buffer=e3.tiles[0].items;else{const n2=new Uint8ClampedArray(t3*a3*r2);for(let a4=0;a4<i2;a4++){const i3=e3.tiles[a4],o=i3.height,h=i3.items;let u=0,d=(t3*i3.top+i3.left)*r2;const f=t3*r2,g=i3.width*r2;for(let e4=0;e4<o;e4++){const e5=h.subarray(u,u+g);n2.set(e5,d),u+=g,d+=f}}this.buffer=n2}this.bufferLength=this.buffer.length,this.eof=!0}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.JpxImage=void 0;var r=a2(2),n=a2(6),i=a2(26);class JpxError extends r.BaseException{constructor(e3){super(`JPX error: ${e3}`,"JpxError")}}const s={LL:0,LH:1,HL:1,HH:2};function calculateComponentDimensions(e3,t3){e3.x0=Math.ceil(t3.XOsiz/e3.XRsiz),e3.x1=Math.ceil(t3.Xsiz/e3.XRsiz),e3.y0=Math.ceil(t3.YOsiz/e3.YRsiz),e3.y1=Math.ceil(t3.Ysiz/e3.YRsiz),e3.width=e3.x1-e3.x0,e3.height=e3.y1-e3.y0}function calculateTileGrids(e3,t3){const a3=e3.SIZ,r2=[];let n2;const i2=Math.ceil((a3.Xsiz-a3.XTOsiz)/a3.XTsiz),s2=Math.ceil((a3.Ysiz-a3.YTOsiz)/a3.YTsiz);for(let e4=0;e4<s2;e4++)for(let t4=0;t4<i2;t4++)n2={},n2.tx0=Math.max(a3.XTOsiz+t4*a3.XTsiz,a3.XOsiz),n2.ty0=Math.max(a3.YTOsiz+e4*a3.YTsiz,a3.YOsiz),n2.tx1=Math.min(a3.XTOsiz+(t4+1)*a3.XTsiz,a3.Xsiz),n2.ty1=Math.min(a3.YTOsiz+(e4+1)*a3.YTsiz,a3.Ysiz),n2.width=n2.tx1-n2.tx0,n2.height=n2.ty1-n2.ty0,n2.components=[],r2.push(n2);e3.tiles=r2;for(let e4=0,i3=a3.Csiz;e4<i3;e4++){const a4=t3[e4];for(let t4=0,i4=r2.length;t4<i4;t4++){const i5={};n2=r2[t4],i5.tcx0=Math.ceil(n2.tx0/a4.XRsiz),i5.tcy0=Math.ceil(n2.ty0/a4.YRsiz),i5.tcx1=Math.ceil(n2.tx1/a4.XRsiz),i5.tcy1=Math.ceil(n2.ty1/a4.YRsiz),i5.width=i5.tcx1-i5.tcx0,i5.height=i5.tcy1-i5.tcy0,n2.components[e4]=i5}}}function getBlocksDimensions(e3,t3,a3){const r2=t3.codingStyleParameters,n2={};return r2.entropyCoderWithCustomPrecincts?(n2.PPx=r2.precinctsSizes[a3].PPx,n2.PPy=r2.precinctsSizes[a3].PPy):(n2.PPx=15,n2.PPy=15),n2.xcb_=a3>0?Math.min(r2.xcb,n2.PPx-1):Math.min(r2.xcb,n2.PPx),n2.ycb_=a3>0?Math.min(r2.ycb,n2.PPy-1):Math.min(r2.ycb,n2.PPy),n2}function buildPrecincts(e3,t3,a3){const r2=1<<a3.PPx,n2=1<<a3.PPy,i2=0===t3.resLevel,s2=1<<a3.PPx+(i2?0:-1),o2=1<<a3.PPy+(i2?0:-1),c=t3.trx1>t3.trx0?Math.ceil(t3.trx1/r2)-Math.floor(t3.trx0/r2):0,l=t3.try1>t3.try0?Math.ceil(t3.try1/n2)-Math.floor(t3.try0/n2):0;t3.precinctParameters={precinctWidth:r2,precinctHeight:n2,numprecinctswide:c,numprecinctshigh:l,numprecincts:c*l,precinctWidthInSubband:s2,precinctHeightInSubband:o2}}function buildCodeblocks(e3,t3,a3){const r2=a3.xcb_,n2=a3.ycb_,i2=1<<r2,s2=1<<n2,o2=t3.tbx0>>r2,c=t3.tby0>>n2,l=t3.tbx1+i2-1>>r2,h=t3.tby1+s2-1>>n2,u=t3.resolution.precinctParameters,d=[],f=[];let g,p,m,b;for(p=c;p<h;p++)for(g=o2;g<l;g++){if(m={cbx:g,cby:p,tbx0:i2*g,tby0:s2*p,tbx1:i2*(g+1),tby1:s2*(p+1)},m.tbx0_=Math.max(t3.tbx0,m.tbx0),m.tby0_=Math.max(t3.tby0,m.tby0),m.tbx1_=Math.min(t3.tbx1,m.tbx1),m.tby1_=Math.min(t3.tby1,m.tby1),b=Math.floor((m.tbx0_-t3.tbx0)/u.precinctWidthInSubband)+Math.floor((m.tby0_-t3.tby0)/u.precinctHeightInSubband)*u.numprecinctswide,m.precinctNumber=b,m.subbandType=t3.type,m.Lblock=3,m.tbx1_<=m.tbx0_||m.tby1_<=m.tby0_)continue;d.push(m);let e4=f[b];void 0!==e4?(g<e4.cbxMin?e4.cbxMin=g:g>e4.cbxMax&&(e4.cbxMax=g),p<e4.cbyMin?e4.cbxMin=p:p>e4.cbyMax&&(e4.cbyMax=p)):f[b]=e4={cbxMin:g,cbyMin:p,cbxMax:g,cbyMax:p},m.precinct=e4}t3.codeblockParameters={codeblockWidth:r2,codeblockHeight:n2,numcodeblockwide:l-o2+1,numcodeblockhigh:h-c+1},t3.codeblocks=d,t3.precincts=f}function createPacket(e3,t3,a3){const r2=[],n2=e3.subbands;for(let e4=0,a4=n2.length;e4<a4;e4++){const a5=n2[e4].codeblocks;for(let e5=0,n3=a5.length;e5<n3;e5++){const n4=a5[e5];n4.precinctNumber===t3&&r2.push(n4)}}return{layerNumber:a3,codeblocks:r2}}function LayerResolutionComponentPositionIterator(e3){const r2=e3.tiles[e3.currentTile.index],n2=r2.codingStyleDefaultParameters.layersCount,i2=e3.SIZ.Csiz;let s2=0;for(let e4=0;e4<i2;e4++)s2=Math.max(s2,r2.components[e4].codingStyleParameters.decompositionLevelsCount);let o2=0,c=0,l=0,h=0;this.nextPacket=function(){for(;o2<n2;o2++){for(;c<=s2;c++){for(;l<i2;l++){const e4=r2.components[l];if(c>e4.codingStyleParameters.decompositionLevelsCount)continue;const t4=e4.resolutions[c],a4=t4.precinctParameters.numprecincts;for(;h<a4;){const e5=createPacket(t4,h,o2);return h++,e5}h=0}l=0}c=0}throw new JpxError("Out of packets")}}function ResolutionLayerComponentPositionIterator(e3){const r2=e3.tiles[e3.currentTile.index],n2=r2.codingStyleDefaultParameters.layersCount,i2=e3.SIZ.Csiz;let s2=0;for(let e4=0;e4<i2;e4++)s2=Math.max(s2,r2.components[e4].codingStyleParameters.decompositionLevelsCount);let o2=0,c=0,l=0,h=0;this.nextPacket=function(){for(;o2<=s2;o2++){for(;c<n2;c++){for(;l<i2;l++){const e4=r2.components[l];if(o2>e4.codingStyleParameters.decompositionLevelsCount)continue;const t4=e4.resolutions[o2],a4=t4.precinctParameters.numprecincts;for(;h<a4;){const e5=createPacket(t4,h,c);return h++,e5}h=0}l=0}c=0}throw new JpxError("Out of packets")}}function ResolutionPositionComponentLayerIterator(e3){const r2=e3.tiles[e3.currentTile.index],n2=r2.codingStyleDefaultParameters.layersCount,i2=e3.SIZ.Csiz;let s2,o2,c,l,h=0;for(c=0;c<i2;c++)h=Math.max(h,r2.components[c].codingStyleParameters.decompositionLevelsCount);const u=new Int32Array(h+1);for(o2=0;o2<=h;++o2){let e4=0;for(c=0;c<i2;++c){const t4=r2.components[c].resolutions;o2<t4.length&&(e4=Math.max(e4,t4[o2].precinctParameters.numprecincts))}u[o2]=e4}s2=0,o2=0,c=0,l=0,this.nextPacket=function(){for(;o2<=h;o2++){for(;l<u[o2];l++){for(;c<i2;c++){const e4=r2.components[c];if(o2>e4.codingStyleParameters.decompositionLevelsCount)continue;const t4=e4.resolutions[o2];if(!(l>=t4.precinctParameters.numprecincts)){for(;s2<n2;){const e5=createPacket(t4,l,s2);return s2++,e5}s2=0}}c=0}l=0}throw new JpxError("Out of packets")}}function PositionComponentResolutionLayerIterator(e3){const r2=e3.tiles[e3.currentTile.index],n2=r2.codingStyleDefaultParameters.layersCount,i2=e3.SIZ.Csiz,s2=getPrecinctSizesInImageScale(r2),o2=s2;let c=0,l=0,h=0,u=0,d=0;this.nextPacket=function(){for(;d<o2.maxNumHigh;d++){for(;u<o2.maxNumWide;u++){for(;h<i2;h++){const e4=r2.components[h],t4=e4.codingStyleParameters.decompositionLevelsCount;for(;l<=t4;l++){const t5=e4.resolutions[l],r3=getPrecinctIndexIfExist(u,d,s2.components[h].resolutions[l],o2,t5);if(null!==r3){for(;c<n2;){const e5=createPacket(t5,r3,c);return c++,e5}c=0}}l=0}h=0}u=0}throw new JpxError("Out of packets")}}function ComponentPositionResolutionLayerIterator(e3){const r2=e3.tiles[e3.currentTile.index],n2=r2.codingStyleDefaultParameters.layersCount,i2=e3.SIZ.Csiz,s2=getPrecinctSizesInImageScale(r2);let o2=0,c=0,l=0,h=0,u=0;this.nextPacket=function(){for(;l<i2;++l){const e4=r2.components[l],t4=s2.components[l],a4=e4.codingStyleParameters.decompositionLevelsCount;for(;u<t4.maxNumHigh;u++){for(;h<t4.maxNumWide;h++){for(;c<=a4;c++){const a5=e4.resolutions[c],i3=getPrecinctIndexIfExist(h,u,t4.resolutions[c],t4,a5);if(null!==i3){for(;o2<n2;){const e5=createPacket(a5,i3,o2);return o2++,e5}o2=0}}c=0}h=0}u=0}throw new JpxError("Out of packets")}}function getPrecinctIndexIfExist(e3,t3,a3,r2,n2){const i2=e3*r2.minWidth,s2=t3*r2.minHeight;return i2%a3.width!=0||s2%a3.height!=0?null:i2/a3.height+s2/a3.width*n2.precinctParameters.numprecinctswide}function getPrecinctSizesInImageScale(e3){const t3=e3.components.length;let a3=Number.MAX_VALUE,r2=Number.MAX_VALUE,n2=0,i2=0;const s2=new Array(t3);for(let o2=0;o2<t3;o2++){const t4=e3.components[o2],c=t4.codingStyleParameters.decompositionLevelsCount,l=new Array(c+1);let h=Number.MAX_VALUE,u=Number.MAX_VALUE,d=0,f=0,g=1;for(let e4=c;e4>=0;--e4){const a4=t4.resolutions[e4],r3=g*a4.precinctParameters.precinctWidth,n3=g*a4.precinctParameters.precinctHeight;h=Math.min(h,r3),u=Math.min(u,n3),d=Math.max(d,a4.precinctParameters.numprecinctswide),f=Math.max(f,a4.precinctParameters.numprecinctshigh),l[e4]={width:r3,height:n3},g<<=1}a3=Math.min(a3,h),r2=Math.min(r2,u),n2=Math.max(n2,d),i2=Math.max(i2,f),s2[o2]={resolutions:l,minWidth:h,minHeight:u,maxNumWide:d,maxNumHigh:f}}return{components:s2,minWidth:a3,minHeight:r2,maxNumWide:n2,maxNumHigh:i2}}function buildPackets(e3){const r2=e3.tiles[e3.currentTile.index],n2=e3.SIZ.Csiz;for(let e4=0;e4<n2;e4++){const t4=r2.components[e4],a4=t4.codingStyleParameters.decompositionLevelsCount,n3=[],i3=[];for(let e5=0;e5<=a4;e5++){const r3=getBlocksDimensions(0,t4,e5),s2={},o2=1<<a4-e5;let c;if(s2.trx0=Math.ceil(t4.tcx0/o2),s2.try0=Math.ceil(t4.tcy0/o2),s2.trx1=Math.ceil(t4.tcx1/o2),s2.try1=Math.ceil(t4.tcy1/o2),s2.resLevel=e5,buildPrecincts(0,s2,r3),n3.push(s2),0===e5)c={},c.type="LL",c.tbx0=Math.ceil(t4.tcx0/o2),c.tby0=Math.ceil(t4.tcy0/o2),c.tbx1=Math.ceil(t4.tcx1/o2),c.tby1=Math.ceil(t4.tcy1/o2),c.resolution=s2,buildCodeblocks(0,c,r3),i3.push(c),s2.subbands=[c];else{const n4=1<<a4-e5+1,o3=[];c={},c.type="HL",c.tbx0=Math.ceil(t4.tcx0/n4-.5),c.tby0=Math.ceil(t4.tcy0/n4),c.tbx1=Math.ceil(t4.tcx1/n4-.5),c.tby1=Math.ceil(t4.tcy1/n4),c.resolution=s2,buildCodeblocks(0,c,r3),i3.push(c),o3.push(c),c={},c.type="LH",c.tbx0=Math.ceil(t4.tcx0/n4),c.tby0=Math.ceil(t4.tcy0/n4-.5),c.tbx1=Math.ceil(t4.tcx1/n4),c.tby1=Math.ceil(t4.tcy1/n4-.5),c.resolution=s2,buildCodeblocks(0,c,r3),i3.push(c),o3.push(c),c={},c.type="HH",c.tbx0=Math.ceil(t4.tcx0/n4-.5),c.tby0=Math.ceil(t4.tcy0/n4-.5),c.tbx1=Math.ceil(t4.tcx1/n4-.5),c.tby1=Math.ceil(t4.tcy1/n4-.5),c.resolution=s2,buildCodeblocks(0,c,r3),i3.push(c),o3.push(c),s2.subbands=o3}}t4.resolutions=n3,t4.subbands=i3}const i2=r2.codingStyleDefaultParameters.progressionOrder;switch(i2){case 0:r2.packetsIterator=new LayerResolutionComponentPositionIterator(e3);break;case 1:r2.packetsIterator=new ResolutionLayerComponentPositionIterator(e3);break;case 2:r2.packetsIterator=new ResolutionPositionComponentLayerIterator(e3);break;case 3:r2.packetsIterator=new PositionComponentResolutionLayerIterator(e3);break;case 4:r2.packetsIterator=new ComponentPositionResolutionLayerIterator(e3);break;default:throw new JpxError(`Unsupported progression order ${i2}`)}}function parseTilePackets(e3,t3,a3,r2){let i2,s2=0,o2=0,c=!1;function readBits(e4){for(;o2<e4;){const e5=t3[a3+s2];s2++,c?(i2=i2<<7|e5,o2+=7,c=!1):(i2=i2<<8|e5,o2+=8),255===e5&&(c=!0)}return o2-=e4,i2>>>o2&(1<<e4)-1}function skipMarkerIfEqual(e4){return 255===t3[a3+s2-1]&&t3[a3+s2]===e4?(skipBytes(1),!0):255===t3[a3+s2]&&t3[a3+s2+1]===e4&&(skipBytes(2),!0)}function skipBytes(e4){s2+=e4}function alignToByte(){o2=0,c&&(s2++,c=!1)}function readCodingpasses(){if(0===readBits(1))return 1;if(0===readBits(1))return 2;let e4=readBits(2);return e4<3?e4+3:(e4=readBits(5),e4<31?e4+6:(e4=readBits(7),e4+37))}const u=e3.COD.sopMarkerUsed,d=e3.COD.ephMarkerUsed,f=e3.tiles[e3.currentTile.index].packetsIterator;for(;s2<r2;){alignToByte(),u&&skipMarkerIfEqual(145)&&skipBytes(4);const e4=f.nextPacket();if(!readBits(1))continue;const r3=e4.layerNumber,i3=[];let o3;for(let t4=0,a4=e4.codeblocks.length;t4<a4;t4++){o3=e4.codeblocks[t4];let a5=o3.precinct;const s3=o3.cbx-a5.cbxMin,c2=o3.cby-a5.cbyMin;let l2,h2,u2=!1,d2=!1;if(void 0!==o3.included)u2=!!readBits(1);else{let e5;if(a5=o3.precinct,void 0!==a5.inclusionTree)e5=a5.inclusionTree;else{const t5=a5.cbxMax-a5.cbxMin+1,n2=a5.cbyMax-a5.cbyMin+1;e5=new InclusionTree(t5,n2,r3),h2=new TagTree(t5,n2),a5.inclusionTree=e5,a5.zeroBitPlanesTree=h2;for(let e6=0;e6<r3;e6++)if(0!==readBits(1))throw new JpxError("Invalid tag tree")}if(e5.reset(s3,c2,r3))for(;;){if(!readBits(1)){e5.incrementValue(r3);break}if(l2=!e5.nextLevel(),l2){o3.included=!0,u2=d2=!0;break}}}if(!u2)continue;if(d2){for(h2=a5.zeroBitPlanesTree,h2.reset(s3,c2);;)if(readBits(1)){if(l2=!h2.nextLevel(),l2)break}else h2.incrementValue();o3.zeroBitPlanes=h2.value}const f2=readCodingpasses();for(;readBits(1);)o3.Lblock++;const g=(0,n.log2)(f2),p=readBits((f2<1<<g?g-1:g)+o3.Lblock);i3.push({codeblock:o3,codingpasses:f2,dataLength:p})}for(alignToByte(),d&&skipMarkerIfEqual(146);i3.length>0;){const e5=i3.shift();o3=e5.codeblock,void 0===o3.data&&(o3.data=[]),o3.data.push({data:t3,start:a3+s2,end:a3+s2+e5.dataLength,codingpasses:e5.codingpasses}),s2+=e5.dataLength}}return s2}function copyCoefficients(e3,t3,a3,r2,n2,s2,c,l,h){const u=r2.tbx0,d=r2.tby0,f=r2.tbx1-r2.tbx0,g=r2.codeblocks,p="H"===r2.type.charAt(0)?1:0,m="H"===r2.type.charAt(1)?t3:0;for(let a4=0,b=g.length;a4<b;++a4){const b2=g[a4],y=b2.tbx1_-b2.tbx0_,w=b2.tby1_-b2.tby0_;if(0===y||0===w||void 0===b2.data)continue;const S=new o(y,w,b2.subbandType,b2.zeroBitPlanes,s2);let x=2;const k=b2.data;let C,v,F,O=0,T=0;for(C=0,v=k.length;C<v;C++)F=k[C],O+=F.end-F.start,T+=F.codingpasses;const M=new Uint8Array(O);let E=0;for(C=0,v=k.length;C<v;C++){F=k[C];const e4=F.data.subarray(F.start,F.end);M.set(e4,E),E+=e4.length}const D=new i.ArithmeticDecoder(M,0,O);for(S.setDecoder(D),C=0;C<T;C++){switch(x){case 0:S.runSignificancePropagationPass();break;case 1:S.runMagnitudeRefinementPass();break;case 2:S.runCleanupPass(),l&&S.checkSegmentationSymbol()}h&&S.reset(),x=(x+1)%3}let N=b2.tbx0_-u+(b2.tby0_-d)*f;const R=S.coefficentsSign,L=S.coefficentsMagnitude,j=S.bitsDecoded,$=c?0:.5;let _,U,X;E=0;const H="LL"!==r2.type;for(C=0;C<w;C++){const a5=2*(N/f|0)*(t3-f)+p+m;for(_=0;_<y;_++)U=L[E],0!==U&&(U=(U+$)*n2,0!==R[E]&&(U=-U),X=j[E],e3[H?a5+(N<<1):N]=c&&X>=s2?U:U*(1<<s2-X)),N++,E++;N+=f-y}}}function transformTile(e3,t3,a3){const r2=t3.components[a3],n2=r2.codingStyleParameters,i2=r2.quantizationParameters,o2=n2.decompositionLevelsCount,c=i2.SPqcds,l=i2.scalarExpounded,h=i2.guardBits,u=n2.segmentationSymbolUsed,d=n2.resetContextProbabilities,f=e3.components[a3].precision,g=n2.reversibleTransformation,p=g?new ReversibleTransform:new IrreversibleTransform,m=[];let b=0;for(let e4=0;e4<=o2;e4++){const t4=r2.resolutions[e4],a4=t4.trx1-t4.trx0,n3=t4.try1-t4.try0,i3=new Float32Array(a4*n3);for(let r3=0,n4=t4.subbands.length;r3<n4;r3++){let n5,o3;l?(n5=c[b].mu,o3=c[b].epsilon,b++):(n5=c[0].mu,o3=c[0].epsilon+(e4>0?1-e4:0));const p2=t4.subbands[r3];copyCoefficients(i3,a4,0,p2,g?1:2**(f+s[p2.type]-o3)*(1+n5/2048),h+o3-1,g,u,d)}m.push({width:a4,height:n3,items:i3})}const y=p.calculate(m,r2.tcx0,r2.tcy0);return{left:r2.tcx0,top:r2.tcy0,width:y.width,height:y.height,items:y.items}}function initializeTile(e3,t3){const a3=e3.SIZ.Csiz,r2=e3.tiles[t3];for(let t4=0;t4<a3;t4++){const a4=r2.components[t4];a4.quantizationParameters=void 0!==e3.currentTile.QCC[t4]?e3.currentTile.QCC[t4]:e3.currentTile.QCD,a4.codingStyleParameters=void 0!==e3.currentTile.COC[t4]?e3.currentTile.COC[t4]:e3.currentTile.COD}r2.codingStyleDefaultParameters=e3.currentTile.COD}t2.JpxImage=class{constructor(){this.failOnCorruptedImage=!1}parse(e3){if(65359===(0,n.readUint16)(e3,0))return void this.parseCodestream(e3,0,e3.length);const t3=e3.length;let a3=0;for(;a3<t3;){let i2=8,s2=(0,n.readUint32)(e3,a3);const o2=(0,n.readUint32)(e3,a3+4);if(a3+=i2,1===s2&&(s2=4294967296*(0,n.readUint32)(e3,a3)+(0,n.readUint32)(e3,a3+4),a3+=8,i2+=8),0===s2&&(s2=t3-a3+i2),s2<i2)throw new JpxError("Invalid box field size");const c=s2-i2;let l=!0;switch(o2){case 1785737832:l=!1;break;case 1668246642:const t4=e3[a3];if(1===t4){const t5=(0,n.readUint32)(e3,a3+3);switch(t5){case 16:case 17:case 18:break;default:(0,r.warn)("Unknown colorspace "+t5)}}else 2===t4&&(0,r.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(e3,a3,a3+c);break;case 1783636e3:218793738!==(0,n.readUint32)(e3,a3)&&(0,r.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const i3=String.fromCharCode(o2>>24&255,o2>>16&255,o2>>8&255,255&o2);(0,r.warn)(`Unsupported header type ${o2} (${i3}).`)}l&&(a3+=c)}}parseImageProperties(e3){let t3=e3.getByte();for(;t3>=0;){const a3=t3;if(t3=e3.getByte(),65361==(a3<<8|t3)){e3.skip(4);const t4=e3.getInt32()>>>0,a4=e3.getInt32()>>>0,r2=e3.getInt32()>>>0,n2=e3.getInt32()>>>0;e3.skip(16);const i2=e3.getUint16();return this.width=t4-r2,this.height=a4-n2,this.componentsCount=i2,void(this.bitsPerComponent=8)}}throw new JpxError("No size marker found in JPX stream")}parseCodestream(e3,t3,a3){const i2={};let s2=!1;try{let o2=t3;for(;o2+1<a3;){const t4=(0,n.readUint16)(e3,o2);o2+=2;let a4,c,l,h,u,d,f=0;switch(t4){case 65359:i2.mainHeader=!0;break;case 65497:break;case 65361:f=(0,n.readUint16)(e3,o2);const g={};g.Xsiz=(0,n.readUint32)(e3,o2+4),g.Ysiz=(0,n.readUint32)(e3,o2+8),g.XOsiz=(0,n.readUint32)(e3,o2+12),g.YOsiz=(0,n.readUint32)(e3,o2+16),g.XTsiz=(0,n.readUint32)(e3,o2+20),g.YTsiz=(0,n.readUint32)(e3,o2+24),g.XTOsiz=(0,n.readUint32)(e3,o2+28),g.YTOsiz=(0,n.readUint32)(e3,o2+32);const p=(0,n.readUint16)(e3,o2+36);g.Csiz=p;const m=[];a4=o2+38;for(let t5=0;t5<p;t5++){const t6={precision:1+(127&e3[a4]),isSigned:!!(128&e3[a4]),XRsiz:e3[a4+1],YRsiz:e3[a4+2]};a4+=3,calculateComponentDimensions(t6,g),m.push(t6)}i2.SIZ=g,i2.components=m,calculateTileGrids(i2,m),i2.QCC=[],i2.COC=[];break;case 65372:f=(0,n.readUint16)(e3,o2);const b={};switch(a4=o2+2,c=e3[a4++],31&c){case 0:h=8,u=!0;break;case 1:h=16,u=!1;break;case 2:h=16,u=!0;break;default:throw new Error("Invalid SQcd value "+c)}for(b.noQuantization=8===h,b.scalarExpounded=u,b.guardBits=c>>5,l=[];a4<f+o2;){const t5={};8===h?(t5.epsilon=e3[a4++]>>3,t5.mu=0):(t5.epsilon=e3[a4]>>3,t5.mu=(7&e3[a4])<<8|e3[a4+1],a4+=2),l.push(t5)}b.SPqcds=l,i2.mainHeader?i2.QCD=b:(i2.currentTile.QCD=b,i2.currentTile.QCC=[]);break;case 65373:f=(0,n.readUint16)(e3,o2);const y={};let w;switch(a4=o2+2,i2.SIZ.Csiz<257?w=e3[a4++]:(w=(0,n.readUint16)(e3,a4),a4+=2),c=e3[a4++],31&c){case 0:h=8,u=!0;break;case 1:h=16,u=!1;break;case 2:h=16,u=!0;break;default:throw new Error("Invalid SQcd value "+c)}for(y.noQuantization=8===h,y.scalarExpounded=u,y.guardBits=c>>5,l=[];a4<f+o2;){const t5={};8===h?(t5.epsilon=e3[a4++]>>3,t5.mu=0):(t5.epsilon=e3[a4]>>3,t5.mu=(7&e3[a4])<<8|e3[a4+1],a4+=2),l.push(t5)}y.SPqcds=l,i2.mainHeader?i2.QCC[w]=y:i2.currentTile.QCC[w]=y;break;case 65362:f=(0,n.readUint16)(e3,o2);const S={};a4=o2+2;const x=e3[a4++];S.entropyCoderWithCustomPrecincts=!!(1&x),S.sopMarkerUsed=!!(2&x),S.ephMarkerUsed=!!(4&x),S.progressionOrder=e3[a4++],S.layersCount=(0,n.readUint16)(e3,a4),a4+=2,S.multipleComponentTransform=e3[a4++],S.decompositionLevelsCount=e3[a4++],S.xcb=2+(15&e3[a4++]),S.ycb=2+(15&e3[a4++]);const k=e3[a4++];if(S.selectiveArithmeticCodingBypass=!!(1&k),S.resetContextProbabilities=!!(2&k),S.terminationOnEachCodingPass=!!(4&k),S.verticallyStripe=!!(8&k),S.predictableTermination=!!(16&k),S.segmentationSymbolUsed=!!(32&k),S.reversibleTransformation=e3[a4++],S.entropyCoderWithCustomPrecincts){const t5=[];for(;a4<f+o2;){const r2=e3[a4++];t5.push({PPx:15&r2,PPy:r2>>4})}S.precinctsSizes=t5}const C=[];S.selectiveArithmeticCodingBypass&&C.push("selectiveArithmeticCodingBypass"),S.terminationOnEachCodingPass&&C.push("terminationOnEachCodingPass"),S.verticallyStripe&&C.push("verticallyStripe"),S.predictableTermination&&C.push("predictableTermination"),C.length>0&&(s2=!0,(0,r.warn)(`JPX: Unsupported COD options (${C.join(", ")}).`)),i2.mainHeader?i2.COD=S:(i2.currentTile.COD=S,i2.currentTile.COC=[]);break;case 65424:f=(0,n.readUint16)(e3,o2),d={},d.index=(0,n.readUint16)(e3,o2+2),d.length=(0,n.readUint32)(e3,o2+4),d.dataEnd=d.length+o2-2,d.partIndex=e3[o2+8],d.partsCount=e3[o2+9],i2.mainHeader=!1,0===d.partIndex&&(d.COD=i2.COD,d.COC=i2.COC.slice(0),d.QCD=i2.QCD,d.QCC=i2.QCC.slice(0)),i2.currentTile=d;break;case 65427:d=i2.currentTile,0===d.partIndex&&(initializeTile(i2,d.index),buildPackets(i2)),f=d.dataEnd-o2,parseTilePackets(i2,e3,o2,f);break;case 65363:(0,r.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:f=(0,n.readUint16)(e3,o2);break;default:throw new Error("Unknown codestream code: "+t4.toString(16))}o2+=f}}catch(e4){if(s2||this.failOnCorruptedImage)throw new JpxError(e4.message);(0,r.warn)(`JPX: Trying to recover from: "${e4.message}".`)}this.tiles=function(e4){const a4=e4.components,r2=e4.SIZ.Csiz,n2=[];for(let t5=0,i3=e4.tiles.length;t5<i3;t5++){const i4=e4.tiles[t5],s3=[];for(let t6=0;t6<r2;t6++)s3[t6]=transformTile(e4,i4,t6);const o2=s3[0],c=new Uint8ClampedArray(o2.items.length*r2),l={left:o2.left,top:o2.top,width:o2.width,height:o2.height,items:c};let h,u,d,f,g,p,m,b=0;if(i4.codingStyleDefaultParameters.multipleComponentTransform){const e5=4===r2,t6=s3[0].items,n3=s3[1].items,o3=s3[2].items,l2=e5?s3[3].items:null;h=a4[0].precision-8,u=.5+(128<<h);const w=r2-3;if(f=t6.length,i4.components[0].codingStyleParameters.reversibleTransformation)for(d=0;d<f;d++,b+=w){g=t6[d]+u,p=n3[d],m=o3[d];const e6=g-(m+p>>2);c[b++]=e6+m>>h,c[b++]=e6>>h,c[b++]=e6+p>>h}else for(d=0;d<f;d++,b+=w)g=t6[d]+u,p=n3[d],m=o3[d],c[b++]=g+1.402*m>>h,c[b++]=g-.34413*p-.71414*m>>h,c[b++]=g+1.772*p>>h;if(e5)for(d=0,b=3;d<f;d++,b+=4)c[b]=l2[d]+u>>h}else for(let e5=0;e5<r2;e5++){const t6=s3[e5].items;for(h=a4[e5].precision-8,u=.5+(128<<h),b=e5,d=0,f=t6.length;d<f;d++)c[b]=t6[d]+u>>h,b+=r2}n2.push(l)}return n2}(i2),this.width=i2.SIZ.Xsiz-i2.SIZ.XOsiz,this.height=i2.SIZ.Ysiz-i2.SIZ.YOsiz,this.componentsCount=i2.SIZ.Csiz}};class TagTree{constructor(e3,t3){const a3=(0,n.log2)(Math.max(e3,t3))+1;this.levels=[];for(let r2=0;r2<a3;r2++)this.levels.push({width:e3,height:t3,items:[]}),e3=Math.ceil(e3/2),t3=Math.ceil(t3/2)}reset(e3,t3){let a3,r2=0,n2=0;for(;r2<this.levels.length;){a3=this.levels[r2];const i2=e3+t3*a3.width;if(void 0!==a3.items[i2]){n2=a3.items[i2];break}a3.index=i2,e3>>=1,t3>>=1,r2++}r2--,a3=this.levels[r2],a3.items[a3.index]=n2,this.currentLevel=r2,delete this.value}incrementValue(){const e3=this.levels[this.currentLevel];e3.items[e3.index]++}nextLevel(){let e3=this.currentLevel,t3=this.levels[e3];const a3=t3.items[t3.index];return e3--,e3<0?(this.value=a3,!1):(this.currentLevel=e3,t3=this.levels[e3],t3.items[t3.index]=a3,!0)}}class InclusionTree{constructor(e3,t3,a3){const r2=(0,n.log2)(Math.max(e3,t3))+1;this.levels=[];for(let n2=0;n2<r2;n2++){const r3=new Uint8Array(e3*t3);for(let e4=0,t4=r3.length;e4<t4;e4++)r3[e4]=a3;this.levels.push({width:e3,height:t3,items:r3}),e3=Math.ceil(e3/2),t3=Math.ceil(t3/2)}}reset(e3,t3,a3){let r2=0;for(;r2<this.levels.length;){const n2=this.levels[r2],i2=e3+t3*n2.width;n2.index=i2;const s2=n2.items[i2];if(255===s2)break;if(s2>a3)return this.currentLevel=r2,this.propagateValues(),!1;e3>>=1,t3>>=1,r2++}return this.currentLevel=r2-1,!0}incrementValue(e3){const t3=this.levels[this.currentLevel];t3.items[t3.index]=e3+1,this.propagateValues()}propagateValues(){let e3=this.currentLevel,t3=this.levels[e3];const a3=t3.items[t3.index];for(;--e3>=0;)t3=this.levels[e3],t3.items[t3.index]=a3}nextLevel(){let e3=this.currentLevel,t3=this.levels[e3];const a3=t3.items[t3.index];return t3.items[t3.index]=255,e3--,!(e3<0||(this.currentLevel=e3,t3=this.levels[e3],t3.items[t3.index]=a3,0))}}const o=function(){const t3=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),a3=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),r2=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);return class{constructor(e4,n2,i2,s2,o2){let c;this.width=e4,this.height=n2,c="HH"===i2?r2:"HL"===i2?a3:t3,this.contextLabelTable=c;const l=e4*n2;let h;this.neighborsSignificance=new Uint8Array(l),this.coefficentsSign=new Uint8Array(l),h=o2>14?new Uint32Array(l):o2>6?new Uint16Array(l):new Uint8Array(l),this.coefficentsMagnitude=h,this.processingFlags=new Uint8Array(l);const u=new Uint8Array(l);if(0!==s2)for(let e5=0;e5<l;e5++)u[e5]=s2;this.bitsDecoded=u,this.reset()}setDecoder(e4){this.decoder=e4}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6}setNeighborsSignificance(e4,t4,a4){const r3=this.neighborsSignificance,n2=this.width,i2=this.height,s2=t4>0,o2=t4+1<n2;let c;e4>0&&(c=a4-n2,s2&&(r3[c-1]+=16),o2&&(r3[c+1]+=16),r3[c]+=4),e4+1<i2&&(c=a4+n2,s2&&(r3[c-1]+=16),o2&&(r3[c+1]+=16),r3[c]+=4),s2&&(r3[a4-1]+=1),o2&&(r3[a4+1]+=1),r3[a4]|=128}runSignificancePropagationPass(){const e4=this.decoder,t4=this.width,a4=this.height,r3=this.coefficentsMagnitude,n2=this.coefficentsSign,i2=this.neighborsSignificance,s2=this.processingFlags,o2=this.contexts,c=this.contextLabelTable,l=this.bitsDecoded;for(let h=0;h<a4;h+=4)for(let u=0;u<t4;u++){let d=h*t4+u;for(let f=0;f<4;f++,d+=t4){const t5=h+f;if(t5>=a4)break;if(s2[d]&=-2,!r3[d]&&i2[d]){if(e4.readBit(o2,c[i2[d]])){const e5=this.decodeSignBit(t5,u,d);n2[d]=e5,r3[d]=1,this.setNeighborsSignificance(t5,u,d),s2[d]|=2}l[d]++,s2[d]|=1}}}}decodeSignBit(e4,t4,a4){const r3=this.width,i2=this.coefficentsMagnitude,s2=this.coefficentsSign;let o2,c,l,h,u,d;h=t4>0&&0!==i2[a4-1],t4+1<r3&&0!==i2[a4+1]?(l=s2[a4+1],h?(c=s2[a4-1],o2=1-l-c):o2=1-l-l):h?(c=s2[a4-1],o2=1-c-c):o2=0;const f=3*o2;return h=e4>0&&0!==i2[a4-r3],e4+1<this.height&&0!==i2[a4+r3]?(l=s2[a4+r3],h?(c=s2[a4-r3],o2=1-l-c+f):o2=1-l-l+f):h?(c=s2[a4-r3],o2=1-c-c+f):o2=f,o2>=0?(u=9+o2,d=this.decoder.readBit(this.contexts,u)):(u=9-o2,d=1^this.decoder.readBit(this.contexts,u)),d}runMagnitudeRefinementPass(){const e4=this.decoder,t4=this.width,r3=this.coefficentsMagnitude,n2=this.neighborsSignificance,i2=this.contexts,s2=this.bitsDecoded,o2=this.processingFlags,c=t4*this.height,l=4*t4;for(let a5,h=0;h<c;h=a5){a5=Math.min(c,h+l);for(let c2=0;c2<t4;c2++)for(let l2=h+c2;l2<a5;l2+=t4){if(!r3[l2]||1&o2[l2])continue;let t5=16;2&o2[l2]&&(o2[l2]^=2,t5=127&n2[l2]?14:15);const a6=e4.readBit(i2,t5);r3[l2]=r3[l2]<<1|a6,s2[l2]++,o2[l2]|=1}}}runCleanupPass(){const t4=this.decoder,a4=this.width,r3=this.height,n2=this.neighborsSignificance,i2=this.coefficentsMagnitude,s2=this.coefficentsSign,o2=this.contexts,c=this.contextLabelTable,l=this.bitsDecoded,h=this.processingFlags,u=a4,d=2*a4,f=3*a4;let g;for(let p=0;p<r3;p=g){g=Math.min(p+4,r3);const m=p*a4,b=p+3<r3;for(let r4=0;r4<a4;r4++){const y=m+r4;let w,S=0,x=y,k=p;if(b&&0===h[y]&&0===h[y+u]&&0===h[y+d]&&0===h[y+f]&&0===n2[y]&&0===n2[y+u]&&0===n2[y+d]&&0===n2[y+f]){if(!t4.readBit(o2,18)){l[y]++,l[y+u]++,l[y+d]++,l[y+f]++;continue}S=t4.readBit(o2,17)<<1|t4.readBit(o2,17),0!==S&&(k=p+S,x+=S*a4),w=this.decodeSignBit(k,r4,x),s2[x]=w,i2[x]=1,this.setNeighborsSignificance(k,r4,x),h[x]|=2,x=y;for(let e4=p;e4<=k;e4++,x+=a4)l[x]++;S++}for(k=p+S;k<g;k++,x+=a4)i2[x]||1&h[x]||(1===t4.readBit(o2,c[n2[x]])&&(w=this.decodeSignBit(k,r4,x),s2[x]=w,i2[x]=1,this.setNeighborsSignificance(k,r4,x),h[x]|=2),l[x]++)}}}checkSegmentationSymbol(){const t4=this.decoder,a4=this.contexts;if(10!=(t4.readBit(a4,17)<<3|t4.readBit(a4,17)<<2|t4.readBit(a4,17)<<1|t4.readBit(a4,17)))throw new JpxError("Invalid segmentation symbol")}}}();class Transform{constructor(){this.constructor===Transform&&(0,r.unreachable)("Cannot initialize Transform.")}calculate(e3,t3,a3){let r2=e3[0];for(let n2=1,i2=e3.length;n2<i2;n2++)r2=this.iterate(r2,e3[n2],t3,a3);return r2}extend(e3,t3,a3){let r2=t3-1,n2=t3+1,i2=t3+a3-2,s2=t3+a3;e3[r2--]=e3[n2++],e3[s2++]=e3[i2--],e3[r2--]=e3[n2++],e3[s2++]=e3[i2--],e3[r2--]=e3[n2++],e3[s2++]=e3[i2--],e3[r2]=e3[n2],e3[s2]=e3[i2]}filter(e3,t3,a3){(0,r.unreachable)("Abstract method `filter` called")}iterate(e3,t3,a3,r2){const n2=e3.width,i2=e3.height;let s2=e3.items;const o2=t3.width,c=t3.height,l=t3.items;let h,u,d,f,g,p;for(d=0,h=0;h<i2;h++)for(f=2*h*o2,u=0;u<n2;u++,d++,f+=2)l[f]=s2[d];s2=e3.items=null;const m=new Float32Array(o2+8);if(1===o2){if(1&a3)for(p=0,d=0;p<c;p++,d+=o2)l[d]*=.5}else for(p=0,d=0;p<c;p++,d+=o2)m.set(l.subarray(d,d+o2),4),this.extend(m,4,o2),this.filter(m,4,o2),l.set(m.subarray(4,4+o2),d);let b=16;const y=[];for(h=0;h<b;h++)y.push(new Float32Array(c+8));let w,S=0;if(e3=4+c,1===c){if(1&r2)for(g=0;g<o2;g++)l[g]*=.5}else for(g=0;g<o2;g++){if(0===S){for(b=Math.min(o2-g,b),d=g,f=4;f<e3;d+=o2,f++)for(w=0;w<b;w++)y[w][f]=l[d+w];S=b}S--;const t4=y[S];if(this.extend(t4,4,c),this.filter(t4,4,c),0===S)for(d=g-b+1,f=4;f<e3;d+=o2,f++)for(w=0;w<b;w++)l[d+w]=y[w][f]}return{width:o2,height:c,items:l}}}class IrreversibleTransform extends Transform{filter(e3,t3,a3){const r2=a3>>1;let n2,i2,s2,o2;const c=-1.586134342059924,l=-.052980118572961,h=.882911075530934,u=.443506852043971,d=1.230174104914001;for(n2=(t3|=0)-3,i2=r2+4;i2--;n2+=2)e3[n2]*=.8128930661159609;for(n2=t3-2,s2=u*e3[n2-1],i2=r2+3;i2--&&(o2=u*e3[n2+1],e3[n2]=d*e3[n2]-s2-o2,i2--);n2+=2)n2+=2,s2=u*e3[n2+1],e3[n2]=d*e3[n2]-s2-o2;for(n2=t3-1,s2=h*e3[n2-1],i2=r2+2;i2--&&(o2=h*e3[n2+1],e3[n2]-=s2+o2,i2--);n2+=2)n2+=2,s2=h*e3[n2+1],e3[n2]-=s2+o2;for(n2=t3,s2=l*e3[n2-1],i2=r2+1;i2--&&(o2=l*e3[n2+1],e3[n2]-=s2+o2,i2--);n2+=2)n2+=2,s2=l*e3[n2+1],e3[n2]-=s2+o2;if(0!==r2)for(n2=t3+1,s2=c*e3[n2-1],i2=r2;i2--&&(o2=c*e3[n2+1],e3[n2]-=s2+o2,i2--);n2+=2)n2+=2,s2=c*e3[n2+1],e3[n2]-=s2+o2}}class ReversibleTransform extends Transform{filter(e3,t3,a3){const r2=a3>>1;let n2,i2;for(n2=t3|=0,i2=r2+1;i2--;n2+=2)e3[n2]-=e3[n2-1]+e3[n2+1]+2>>2;for(n2=t3+1,i2=r2;i2--;n2+=2)e3[n2]+=e3[n2-1]+e3[n2+1]>>1}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.LZWStream=void 0;var r=a2(19);t2.LZWStream=class LZWStream extends r.DecodeStream{constructor(e3,t3,a3){super(t3),this.str=e3,this.dict=e3.dict,this.cachedData=0,this.bitsCached=0;const n={earlyChange:a3,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(4096),dictionaryLengths:new Uint16Array(4096),dictionaryPrevCodes:new Uint16Array(4096),currentSequence:new Uint8Array(4096),currentSequenceLength:0};for(let e4=0;e4<256;++e4)n.dictionaryValues[e4]=e4,n.dictionaryLengths[e4]=1;this.lzwState=n}readBits(e3){let t3=this.bitsCached,a3=this.cachedData;for(;t3<e3;){const e4=this.str.getByte();if(-1===e4)return this.eof=!0,null;a3=a3<<8|e4,t3+=8}return this.bitsCached=t3-=e3,this.cachedData=a3,this.lastCode=null,a3>>>t3&(1<<e3)-1}readBlock(){let e3,t3,a3,r2=1024;const n=this.lzwState;if(!n)return;const i=n.earlyChange;let s=n.nextCode;const o=n.dictionaryValues,c=n.dictionaryLengths,l=n.dictionaryPrevCodes;let h=n.codeLength,u=n.prevCode;const d=n.currentSequence;let f=n.currentSequenceLength,g=0,p=this.bufferLength,m=this.ensureBuffer(this.bufferLength+r2);for(e3=0;e3<512;e3++){const e4=this.readBits(h),n2=f>0;if(e4<256)d[0]=e4,f=1;else{if(!(e4>=258)){if(256===e4){h=9,s=258,f=0;continue}this.eof=!0,delete this.lzwState;break}if(e4<s)for(f=c[e4],t3=f-1,a3=e4;t3>=0;t3--)d[t3]=o[a3],a3=l[a3];else d[f++]=d[0]}if(n2&&(l[s]=u,c[s]=c[u]+1,o[s]=d[0],s++,h=s+i&s+i-1?h:0|Math.min(Math.log(s+i)/.6931471805599453+1,12)),u=e4,g+=f,r2<g){do{r2+=512}while(r2<g);m=this.ensureBuffer(this.bufferLength+r2)}for(t3=0;t3<f;t3++)m[p++]=d[t3]}n.nextCode=s,n.codeLength=h,n.prevCode=u,n.currentSequenceLength=f,this.bufferLength=p}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.PredictorStream=void 0;var r=a2(19),n=a2(5),i=a2(2);t2.PredictorStream=class PredictorStream extends r.DecodeStream{constructor(e3,t3,a3){if(super(t3),!(a3 instanceof n.Dict))return e3;const r2=this.predictor=a3.get("Predictor")||1;if(r2<=1)return e3;if(2!==r2&&(r2<10||r2>15))throw new i.FormatError(`Unsupported predictor: ${r2}`);this.readBlock=2===r2?this.readBlockTiff:this.readBlockPng,this.str=e3,this.dict=e3.dict;const s=this.colors=a3.get("Colors")||1,o=this.bits=a3.get("BPC","BitsPerComponent")||8,c=this.columns=a3.get("Columns")||1;return this.pixBytes=s*o+7>>3,this.rowBytes=c*s*o+7>>3,this}readBlockTiff(){const e3=this.rowBytes,t3=this.bufferLength,a3=this.ensureBuffer(t3+e3),r2=this.bits,n2=this.colors,i2=this.str.getBytes(e3);if(this.eof=!i2.length,this.eof)return;let s,o=0,c=0,l=0,h=0,u=t3;if(1===r2&&1===n2)for(s=0;s<e3;++s){let e4=i2[s]^o;e4^=e4>>1,e4^=e4>>2,e4^=e4>>4,o=(1&e4)<<7,a3[u++]=e4}else if(8===r2){for(s=0;s<n2;++s)a3[u++]=i2[s];for(;s<e3;++s)a3[u]=a3[u-n2]+i2[s],u++}else if(16===r2){const t4=2*n2;for(s=0;s<t4;++s)a3[u++]=i2[s];for(;s<e3;s+=2){const e4=((255&i2[s])<<8)+(255&i2[s+1])+((255&a3[u-t4])<<8)+(255&a3[u-t4+1]);a3[u++]=e4>>8&255,a3[u++]=255&e4}}else{const e4=new Uint8Array(n2+1),u2=(1<<r2)-1;let d=0,f=t3;const g=this.columns;for(s=0;s<g;++s)for(let t4=0;t4<n2;++t4)l<r2&&(o=o<<8|255&i2[d++],l+=8),e4[t4]=e4[t4]+(o>>l-r2)&u2,l-=r2,c=c<<r2|e4[t4],h+=r2,h>=8&&(a3[f++]=c>>h-8&255,h-=8);h>0&&(a3[f++]=(c<<8-h)+(o&(1<<8-h)-1))}this.bufferLength+=e3}readBlockPng(){const e3=this.rowBytes,t3=this.pixBytes,a3=this.str.getByte(),r2=this.str.getBytes(e3);if(this.eof=!r2.length,this.eof)return;const n2=this.bufferLength,s=this.ensureBuffer(n2+e3);let o=s.subarray(n2-e3,n2);0===o.length&&(o=new Uint8Array(e3));let c,l,h,u=n2;switch(a3){case 0:for(c=0;c<e3;++c)s[u++]=r2[c];break;case 1:for(c=0;c<t3;++c)s[u++]=r2[c];for(;c<e3;++c)s[u]=s[u-t3]+r2[c]&255,u++;break;case 2:for(c=0;c<e3;++c)s[u++]=o[c]+r2[c]&255;break;case 3:for(c=0;c<t3;++c)s[u++]=(o[c]>>1)+r2[c];for(;c<e3;++c)s[u]=(o[c]+s[u-t3]>>1)+r2[c]&255,u++;break;case 4:for(c=0;c<t3;++c)l=o[c],h=r2[c],s[u++]=l+h;for(;c<e3;++c){l=o[c];const e4=o[c-t3],a4=s[u-t3],n3=a4+l-e4;let i2=n3-a4;i2<0&&(i2=-i2);let d=n3-l;d<0&&(d=-d);let f=n3-e4;f<0&&(f=-f),h=r2[c],s[u++]=i2<=d&&i2<=f?a4+h:d<=f?l+h:e4+h}break;default:throw new i.FormatError(`Unsupported predictor: ${a3}`)}this.bufferLength+=e3}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.RunLengthStream=void 0;var r=a2(19);t2.RunLengthStream=class RunLengthStream extends r.DecodeStream{constructor(e3,t3){super(t3),this.str=e3,this.dict=e3.dict}readBlock(){const e3=this.str.getBytes(2);if(!e3||e3.length<2||128===e3[0])return void(this.eof=!0);let t3,a3=this.bufferLength,r2=e3[0];if(r2<128){if(t3=this.ensureBuffer(a3+r2+1),t3[a3++]=e3[1],r2>0){const e4=this.str.getBytes(r2);t3.set(e4,a3),a3+=r2}}else{r2=257-r2;const n=e3[1];t3=this.ensureBuffer(a3+r2+1);for(let e4=0;e4<r2;e4++)t3[a3++]=n}this.bufferLength=a3}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.Font=t2.ErrorFont=void 0;var r=a2(2),n=a2(35),i=a2(38),s=a2(40),o=a2(39),c=a2(37),l=a2(41),h=a2(42),u=a2(43),d=a2(44),f=a2(45),g=a2(46),p=a2(16),m=a2(47),b=a2(6),y=a2(10),w=a2(48);const S=[[57344,63743],[1048576,1114109]],x=1e3,k=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","fontType","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","type","vertical"],C=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function adjustWidths(e3){if(!e3.fontMatrix||e3.fontMatrix[0]===r.FONT_IDENTITY_MATRIX[0])return;const t3=.001/e3.fontMatrix[0],a3=e3.widths;for(const e4 in a3)a3[e4]*=t3;e3.defaultWidth*=t3}function amendFallbackToUnicode(e3){if(!e3.fallbackToUnicode||e3.toUnicode instanceof h.IdentityToUnicodeMap)return;const t3=[];for(const a3 in e3.fallbackToUnicode)e3.toUnicode.has(a3)||(t3[a3]=e3.fallbackToUnicode[a3]);t3.length>0&&e3.toUnicode.amend(t3)}class Glyph{constructor(e3,t3,a3,r2,n2,i2,o2,c2,l2){this.originalCharCode=e3,this.fontChar=t3,this.unicode=a3,this.accent=r2,this.width=n2,this.vmetric=i2,this.operatorListId=o2,this.isSpace=c2,this.isInFont=l2;const h2=(0,s.getCharUnicodeCategory)(a3);this.isWhitespace=h2.isWhitespace,this.isZeroWidthDiacritic=h2.isZeroWidthDiacritic,this.isInvisibleFormatMark=h2.isInvisibleFormatMark}matchesForCache(e3,t3,a3,r2,n2,i2,s2,o2,c2){return this.originalCharCode===e3&&this.fontChar===t3&&this.unicode===a3&&this.accent===r2&&this.width===n2&&this.vmetric===i2&&this.operatorListId===s2&&this.isSpace===o2&&this.isInFont===c2}}function int16(e3,t3){return(e3<<8)+t3}function writeSignedInt16(e3,t3,a3){e3[t3+1]=a3,e3[t3]=a3>>>8}function signedInt16(e3,t3){const a3=(e3<<8)+t3;return 32768&a3?a3-65536:a3}function string16(e3){return String.fromCharCode(e3>>8&255,255&e3)}function safeString16(e3){return e3>32767?e3=32767:e3<-32768&&(e3=-32768),String.fromCharCode(e3>>8&255,255&e3)}function isTrueTypeCollectionFile(e3){const t3=e3.peekBytes(4);return"ttcf"===(0,r.bytesToString)(t3)}function applyStandardFontGlyphMap(e3,t3){for(const a3 in t3)e3[+a3]=t3[a3]}function buildToFontChar(e3,t3,a3){const r2=[];let n2;for(let a4=0,i2=e3.length;a4<i2;a4++)n2=(0,s.getUnicodeForGlyph)(e3[a4],t3),-1!==n2&&(r2[a4]=n2);for(const e4 in a3)n2=(0,s.getUnicodeForGlyph)(a3[e4],t3),-1!==n2&&(r2[+e4]=n2);return r2}function convertCidString(e3,t3,a3=!1){switch(t3.length){case 1:return t3.charCodeAt(0);case 2:return t3.charCodeAt(0)<<8|t3.charCodeAt(1)}const n2=`Unsupported CID string (charCode ${e3}): "${t3}".`;if(a3)throw new r.FormatError(n2);return(0,r.warn)(n2),t3}function adjustMapping(e3,t3,a3,n2){const i2=Object.create(null),s2=new Map,o2=[],c2=new Set;let l2=0;const h2=S[l2][0];let u2=h2,d2=S[l2][1];for(let f2 in e3){f2|=0;let g2=e3[f2];if(!t3(g2))continue;if(u2>d2){if(l2++,l2>=S.length){(0,r.warn)("Ran out of space in font private use area.");break}u2=S[l2][0],d2=S[l2][1]}const p2=u2++;0===g2&&(g2=a3);let m2=n2.get(f2);"string"==typeof m2&&(m2=m2.codePointAt(0)),m2&&m2<h2&&!c2.has(g2)&&(s2.set(m2,g2),c2.add(g2)),i2[p2]=g2,o2[f2]=p2}return{toFontChar:o2,charCodeToGlyphId:i2,toUnicodeExtraMap:s2,nextAvailableFontCharCode:u2}}function createCmapTable(e3,t3,a3){const n2=function(e4,t4,a4){const r2=[];for(const t5 in e4)e4[t5]>=a4||r2.push({fontCharCode:0|t5,glyphId:e4[t5]});if(t4)for(const[e5,n4]of t4)n4>=a4||r2.push({fontCharCode:e5,glyphId:n4});0===r2.length&&r2.push({fontCharCode:0,glyphId:0}),r2.sort(function(e5,t5){return e5.fontCharCode-t5.fontCharCode});const n3=[],i3=r2.length;for(let e5=0;e5<i3;){const t5=r2[e5].fontCharCode,a5=[r2[e5].glyphId];++e5;let s3=t5;for(;e5<i3&&s3+1===r2[e5].fontCharCode&&(a5.push(r2[e5].glyphId),++s3,++e5,65535!==s3););n3.push([t5,s3,a5])}return n3}(e3,t3,a3),i2=n2.at(-1)[1]>65535?2:1;let s2,o2,c2,l2,h2="\0\0"+string16(i2)+"\0\x03\0\x01"+(0,r.string32)(4+8*i2);for(s2=n2.length-1;s2>=0&&!(n2[s2][0]<=65535);--s2);const u2=s2+1;n2[s2][0]<65535&&65535===n2[s2][1]&&(n2[s2][1]=65534);const d2=n2[s2][1]<65535?1:0,f2=u2+d2,g2=m.OpenTypeFileBuilder.getSearchParams(f2,2);let p2,b2,y2,w2,S2="",x2="",k2="",C2="",v="",F=0;for(s2=0,o2=u2;s2<o2;s2++){p2=n2[s2],b2=p2[0],y2=p2[1],S2+=string16(b2),x2+=string16(y2),w2=p2[2];let e4=!0;for(c2=1,l2=w2.length;c2<l2;++c2)if(w2[c2]!==w2[c2-1]+1){e4=!1;break}if(e4)k2+=string16(w2[0]-b2&65535),C2+=string16(0);else{const e5=2*(f2-s2)+2*F;for(F+=y2-b2+1,k2+=string16(0),C2+=string16(e5),c2=0,l2=w2.length;c2<l2;++c2)v+=string16(w2[c2])}}d2>0&&(x2+="\xff\xff",S2+="\xff\xff",k2+="\0\x01",C2+="\0\0");const O="\0\0"+string16(2*f2)+string16(g2.range)+string16(g2.entry)+string16(g2.rangeShift)+x2+"\0\0"+S2+k2+C2+v;let T="",M="";if(i2>1){for(h2+="\0\x03\0\n"+(0,r.string32)(4+8*i2+4+O.length),T="",s2=0,o2=n2.length;s2<o2;s2++){p2=n2[s2],b2=p2[0],w2=p2[2];let e4=w2[0];for(c2=1,l2=w2.length;c2<l2;++c2)w2[c2]!==w2[c2-1]+1&&(y2=p2[0]+c2-1,T+=(0,r.string32)(b2)+(0,r.string32)(y2)+(0,r.string32)(e4),b2=y2+1,e4=w2[c2]);T+=(0,r.string32)(b2)+(0,r.string32)(p2[1])+(0,r.string32)(e4)}M="\0\f\0\0"+(0,r.string32)(T.length+16)+"\0\0\0\0"+(0,r.string32)(T.length/12)}return h2+"\0\x04"+string16(O.length+4)+O+M+T}function createOS2Table(e3,t3,a3){a3=a3||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let n2=0,i2=0,o2=0,c2=0,l2=null,h2=0;if(t3){for(let e4 in t3){e4|=0,(l2>e4||!l2)&&(l2=e4),h2<e4&&(h2=e4);const t4=(0,s.getUnicodeRangeFor)(e4);if(t4<32)n2|=1<<t4;else if(t4<64)i2|=1<<t4-32;else if(t4<96)o2|=1<<t4-64;else{if(!(t4<123))throw new r.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");c2|=1<<t4-96}}h2>65535&&(h2=65535)}else l2=0,h2=255;const u2=e3.bbox||[0,0,0,0],f2=e3.ascentScaled?1:(a3.unitsPerEm||1/(e3.fontMatrix||r.FONT_IDENTITY_MATRIX)[0])/x,g2=a3.ascent||Math.round(f2*(e3.ascent||u2[3]));let p2=a3.descent||Math.round(f2*(e3.descent||u2[1]));p2>0&&e3.descent>0&&u2[1]<0&&(p2=-p2);const m2=a3.yMax||g2,b2=-a3.yMin||-p2;return"\0\x03\x02$\x01\xf4\0\x05\0\0\x02\x8a\x02\xbb\0\0\0\x8c\x02\x8a\x02\xbb\0\0\x01\xdf\x001\x01\x02\0\0\0\0\x06"+String.fromCharCode(e3.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,r.string32)(n2)+(0,r.string32)(i2)+(0,r.string32)(o2)+(0,r.string32)(c2)+"*21*"+string16(e3.italicAngle?1:0)+string16(l2||e3.firstChar)+string16(h2||e3.lastChar)+string16(g2)+string16(p2)+"\0d"+string16(m2)+string16(b2)+"\0\0\0\0\0\0\0\0"+string16(e3.xHeight)+string16(e3.capHeight)+string16(0)+string16(l2||e3.firstChar)+"\0\x03"}function createPostTable(e3){const t3=Math.floor(65536*e3.italicAngle);return"\0\x03\0\0"+(0,r.string32)(t3)+"\0\0\0\0"+(0,r.string32)(e3.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function createPostscriptName(e3){return e3.replace(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function createNameTable(e3,t3){t3||(t3=[[],[]]);const a3=[t3[0][0]||"Original licence",t3[0][1]||e3,t3[0][2]||"Unknown",t3[0][3]||"uniqueID",t3[0][4]||e3,t3[0][5]||"Version 0.11",t3[0][6]||createPostscriptName(e3),t3[0][7]||"Unknown",t3[0][8]||"Unknown",t3[0][9]||"Unknown"],r2=[];let n2,i2,s2,o2,c2;for(n2=0,i2=a3.length;n2<i2;n2++){c2=t3[1][n2]||a3[n2];const e4=[];for(s2=0,o2=c2.length;s2<o2;s2++)e4.push(string16(c2.charCodeAt(s2)));r2.push(e4.join(""))}const l2=[a3,r2],h2=["\0\x01","\0\x03"],u2=["\0\0","\0\x01"],d2=["\0\0","\x04\t"],f2=a3.length*h2.length;let g2="\0\0"+string16(f2)+string16(12*f2+6),p2=0;for(n2=0,i2=h2.length;n2<i2;n2++){const e4=l2[n2];for(s2=0,o2=e4.length;s2<o2;s2++)c2=e4[s2],g2+=h2[n2]+u2[n2]+d2[n2]+string16(s2)+string16(c2.length)+string16(p2),p2+=c2.length}return g2+=a3.join("")+r2.join(""),g2}t2.Font=class{constructor(e3,t3,a3){this.name=e3,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=a3.loadedName,this.isType3Font=a3.isType3Font,this.missingFile=!1,this.cssFontInfo=a3.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let n2=!!(a3.flags&i.FontFlags.Serif);if(!n2&&!a3.isSimulatedFlags){const t4=e3.replace(/[,_]/g,"-").split("-")[0],a4=(0,l.getSerifFonts)();for(const e4 of t4.split("+"))if(a4[e4]){n2=!0;break}}this.isSerifFont=n2,this.isSymbolicFont=!!(a3.flags&i.FontFlags.Symbolic),this.isMonospace=!!(a3.flags&i.FontFlags.FixedPitch);let s2=a3.type,o2=a3.subtype;this.type=s2,this.subtype=o2;let c2,h2="sans-serif";if(this.isMonospace?h2="monospace":this.isSerifFont&&(h2="serif"),this.fallbackName=h2,this.differences=a3.differences,this.widths=a3.widths,this.defaultWidth=a3.defaultWidth,this.composite=a3.composite,this.cMap=a3.cMap,this.capHeight=a3.capHeight/x,this.ascent=a3.ascent/x,this.descent=a3.descent/x,this.lineHeight=this.ascent-this.descent,this.fontMatrix=a3.fontMatrix,this.bbox=a3.bbox,this.defaultEncoding=a3.defaultEncoding,this.toUnicode=a3.toUnicode,this.toFontChar=[],"Type3"!==a3.type)if(this.cidEncoding=a3.cidEncoding||"",this.vertical=!!a3.vertical,this.vertical&&(this.vmetrics=a3.vmetrics,this.defaultVMetrics=a3.defaultVMetrics),t3&&!t3.isEmpty){[s2,o2]=function getFontFileType(e3,{type:t3,subtype:a3,composite:n2}){let i2,s2;return function(e4){const t4=e4.peekBytes(4);return 65536===(0,b.readUint32)(t4,0)||"true"===(0,r.bytesToString)(t4)}(e3)||isTrueTypeCollectionFile(e3)?i2=n2?"CIDFontType2":"TrueType":function(e4){const t4=e4.peekBytes(4);return"OTTO"===(0,r.bytesToString)(t4)}(e3)?i2=n2?"CIDFontType2":"OpenType":function(e4){const t4=e4.peekBytes(2);return 37===t4[0]&&33===t4[1]||128===t4[0]&&1===t4[1]}(e3)?i2=n2?"CIDFontType0":"MMType1"===t3?"MMType1":"Type1":function(e4){const t4=e4.peekBytes(4);return t4[0]>=1&&t4[3]>=1&&t4[3]<=4}(e3)?n2?(i2="CIDFontType0",s2="CIDFontType0C"):(i2="MMType1"===t3?"MMType1":"Type1",s2="Type1C"):((0,r.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),i2=t3,s2=a3),[i2,s2]}(t3,a3),s2===this.type&&o2===this.subtype||(0,r.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${s2}/${o2}.`);try{switch(s2){case"MMType1":(0,r.info)("MMType1 font ("+e3+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const n3="Type1C"===o2||"CIDFontType0C"===o2?new u.CFFFont(t3,a3):new w.Type1Font(e3,t3,a3);adjustWidths(a3),c2=this.convert(e3,n3,a3);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",c2=this.checkAndRepair(e3,t3,a3),this.isOpenType&&(adjustWidths(a3),s2="OpenType");break;default:throw new r.FormatError(`Font ${s2} is not supported`)}}catch(e4){return(0,r.warn)(e4),void this.fallbackToSystemFont(a3)}amendFallbackToUnicode(a3),this.data=c2,this.fontType=(0,i.getFontType)(s2,o2,a3.isStandardFont),this.fontMatrix=a3.fontMatrix,this.widths=a3.widths,this.defaultWidth=a3.defaultWidth,this.toUnicode=a3.toUnicode,this.seacMap=a3.seacMap}else t3&&(0,r.warn)('Font file is empty in "'+e3+'" ('+this.loadedName+")"),this.fallbackToSystemFont(a3);else{for(let e4=0;e4<256;e4++)this.toFontChar[e4]=this.differences[e4]||a3.defaultEncoding[e4];this.fontType=r.FontType.TYPE3}}get renderer(){const e3=d.FontRendererFactory.create(this,i.SEAC_ANALYSIS_ENABLED);return(0,r.shadow)(this,"renderer",e3)}exportData(e3=!1){const t3=e3?[...k,...C]:k,a3=Object.create(null);let r2,n2;for(r2 of t3)n2=this[r2],void 0!==n2&&(a3[r2]=n2);return a3}fallbackToSystemFont(e3){this.missingFile=!0;const t3=this.name,a3=this.type,n2=this.subtype;let u2=(0,i.normalizeFontName)(t3);const d2=(0,l.getStdFontMap)(),g2=(0,l.getNonStdFontMap)(),p2=!!d2[u2],m2=!(!g2[u2]||!d2[g2[u2]]);u2=d2[u2]||g2[u2]||u2;const b2=(0,f.getFontBasicMetrics)()[u2];b2&&(isNaN(this.ascent)&&(this.ascent=b2.ascent/x),isNaN(this.descent)&&(this.descent=b2.descent/x),isNaN(this.capHeight)&&(this.capHeight=b2.capHeight/x)),this.bold=-1!==u2.search(/bold/gi),this.italic=-1!==u2.search(/oblique/gi)||-1!==u2.search(/italic/gi),this.black=-1!==t3.search(/Black/g);const y2=-1!==t3.search(/Narrow/g);if(this.remeasure=(!p2||y2)&&Object.keys(this.widths).length>0,(p2||m2)&&"CIDFontType2"===a3&&this.cidEncoding.startsWith("Identity-")){const a4=e3.cidToGidMap,r2=[];if(applyStandardFontGlyphMap(r2,(0,l.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(t3)?applyStandardFontGlyphMap(r2,(0,l.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(t3)&&applyStandardFontGlyphMap(r2,(0,l.getSupplementalGlyphMapForCalibri)()),a4){for(const e4 in r2){const t4=r2[e4];void 0!==a4[t4]&&(r2[+e4]=a4[t4])}a4.length!==this.toUnicode.length&&e3.hasIncludedToUnicodeMap&&this.toUnicode instanceof h.IdentityToUnicodeMap&&this.toUnicode.forEach(function(e4,t4){void 0===a4[r2[e4]]&&(r2[+e4]=t4)})}this.toUnicode instanceof h.IdentityToUnicodeMap||this.toUnicode.forEach(function(e4,t4){r2[+e4]=t4}),this.toFontChar=r2,this.toUnicode=new h.ToUnicodeMap(r2)}else if(/Symbol/i.test(u2))this.toFontChar=buildToFontChar(c.SymbolSetEncoding,(0,o.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(u2))/Wingdings/i.test(t3)&&(0,r.warn)("Non-embedded Wingdings font, falling back to ZapfDingbats."),this.toFontChar=buildToFontChar(c.ZapfDingbatsEncoding,(0,o.getDingbatsGlyphsUnicode)(),this.differences);else if(p2){const e4=buildToFontChar(this.defaultEncoding,(0,o.getGlyphsUnicode)(),this.differences);"CIDFontType2"!==a3||this.cidEncoding.startsWith("Identity-")||this.toUnicode instanceof h.IdentityToUnicodeMap||this.toUnicode.forEach(function(t4,a4){e4[+t4]=a4}),this.toFontChar=e4}else{const e4=(0,o.getGlyphsUnicode)(),a4=[];this.toUnicode.forEach((t4,r2)=>{if(!this.composite){const n3=(0,s.getUnicodeForGlyph)(this.differences[t4]||this.defaultEncoding[t4],e4);-1!==n3&&(r2=n3)}a4[+t4]=r2}),this.composite&&this.toUnicode instanceof h.IdentityToUnicodeMap&&/Verdana/i.test(t3)&&applyStandardFontGlyphMap(a4,(0,l.getGlyphMapForStandardFonts)()),this.toFontChar=a4}amendFallbackToUnicode(e3),this.loadedName=u2.split("-")[0],this.fontType=(0,i.getFontType)(a3,n2,e3.isStandardFont)}checkAndRepair(e3,t3,a3){const s2=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function readTables(e4,t4){const a4=Object.create(null);a4["OS/2"]=null,a4.cmap=null,a4.head=null,a4.hhea=null,a4.hmtx=null,a4.maxp=null,a4.name=null,a4.post=null;for(let r2=0;r2<t4;r2++){const t5=readTableEntry(e4);s2.includes(t5.tag)&&0!==t5.length&&(a4[t5.tag]=t5)}return a4}function readTableEntry(e4){const t4=e4.getString(4),a4=e4.getInt32()>>>0,r2=e4.getInt32()>>>0,n2=e4.getInt32()>>>0,i2=e4.pos;e4.pos=e4.start||0,e4.skip(r2);const s3=e4.getBytes(n2);return e4.pos=i2,"head"===t4&&(s3[8]=s3[9]=s3[10]=s3[11]=0,s3[17]|=32),{tag:t4,checksum:a4,length:n2,offset:r2,data:s3}}function readOpenTypeHeader(e4){return{version:e4.getString(4),numTables:e4.getUint16(),searchRange:e4.getUint16(),entrySelector:e4.getUint16(),rangeShift:e4.getUint16()}}function sanitizeGlyph(e4,t4,a4,r2,n2,i2){const s3={length:0,sizeOfInstructions:0};if(a4-t4<=12)return s3;const o2=e4.subarray(t4,a4);let c2=signedInt16(o2[0],o2[1]);if(c2<0)return c2=-1,writeSignedInt16(o2,0,c2),r2.set(o2,n2),s3.length=o2.length,s3;let l3,h2=10,u2=0;for(l3=0;l3<c2;l3++)u2=1+(o2[h2]<<8|o2[h2+1]),h2+=2;const d3=h2,f3=o2[h2]<<8|o2[h2+1];s3.sizeOfInstructions=f3,h2+=2+f3;const g2=h2;let p2=0;for(l3=0;l3<u2;l3++){const e5=o2[h2++];192&e5&&(o2[h2-1]=63&e5);let t5=2;2&e5?t5=1:16&e5&&(t5=0);let a5=2;4&e5?a5=1:32&e5&&(a5=0);const r3=t5+a5;if(p2+=r3,8&e5){const e6=o2[h2++];l3+=e6,p2+=e6*r3}}if(0===p2)return s3;let m2=h2+p2;return m2>o2.length?s3:!i2&&f3>0?(r2.set(o2.subarray(0,d3),n2),r2.set([0,0],n2+d3),r2.set(o2.subarray(g2,m2),n2+d3+2),m2-=f3,o2.length-m2>3&&(m2=m2+3&-4),s3.length=m2,s3):o2.length-m2>3?(m2=m2+3&-4,r2.set(o2.subarray(0,m2),n2),s3.length=m2,s3):(r2.set(o2,n2),s3.length=o2.length,s3)}function readNameTable(e4){const a4=(t3.start||0)+e4.offset;t3.pos=a4;const r2=[[],[]],n2=e4.length,i2=a4+n2;if(0!==t3.getUint16()||n2<6)return r2;const s3=t3.getUint16(),o2=t3.getUint16(),c2=[];let l3,h2;for(l3=0;l3<s3&&t3.pos+12<=i2;l3++){const e5={platform:t3.getUint16(),encoding:t3.getUint16(),language:t3.getUint16(),name:t3.getUint16(),length:t3.getUint16(),offset:t3.getUint16()};(1===e5.platform&&0===e5.encoding&&0===e5.language||3===e5.platform&&1===e5.encoding&&1033===e5.language)&&c2.push(e5)}for(l3=0,h2=c2.length;l3<h2;l3++){const e5=c2[l3];if(e5.length<=0)continue;const n3=a4+o2+e5.offset;if(n3+e5.length>i2)continue;t3.pos=n3;const s4=e5.name;if(e5.encoding){let a5="";for(let r3=0,n4=e5.length;r3<n4;r3+=2)a5+=String.fromCharCode(t3.getUint16());r2[1][s4]=a5}else r2[0][s4]=t3.getString(e5.length)}return r2}const l2=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function sanitizeTTProgram(e4,t4){let a4,n2,i2,s3,o2,c2=e4.data,h2=0,u2=0,d3=0;const f3=[],g2=[],p2=[];let m2=t4.tooComplexToFollowFunctions,b3=!1,y2=0,w3=0;for(let e5=c2.length;h2<e5;){const e6=c2[h2++];if(64===e6)if(n2=c2[h2++],b3||w3)h2+=n2;else for(a4=0;a4<n2;a4++)f3.push(c2[h2++]);else if(65===e6)if(n2=c2[h2++],b3||w3)h2+=2*n2;else for(a4=0;a4<n2;a4++)i2=c2[h2++],f3.push(i2<<8|c2[h2++]);else if(176==(248&e6))if(n2=e6-176+1,b3||w3)h2+=n2;else for(a4=0;a4<n2;a4++)f3.push(c2[h2++]);else if(184==(248&e6))if(n2=e6-184+1,b3||w3)h2+=2*n2;else for(a4=0;a4<n2;a4++)i2=c2[h2++],f3.push(i2<<8|c2[h2++]);else if(43!==e6||m2)if(44!==e6||m2){if(45===e6)if(b3)b3=!1,u2=h2;else{if(o2=g2.pop(),!o2)return(0,r.warn)("TT: ENDF bad stack"),void(t4.hintsValid=!1);s3=p2.pop(),c2=o2.data,h2=o2.i,t4.functionsStackDeltas[s3]=f3.length-o2.stackTop}else if(137===e6)(b3||w3)&&((0,r.warn)("TT: nested IDEFs not allowed"),m2=!0),b3=!0,d3=h2;else if(88===e6)++y2;else if(27===e6)w3=y2;else if(89===e6)w3===y2&&(w3=0),--y2;else if(28===e6&&!b3&&!w3){const e7=f3.at(-1);e7>0&&(h2+=e7-1)}}else(b3||w3)&&((0,r.warn)("TT: nested FDEFs not allowed"),m2=!0),b3=!0,d3=h2,s3=f3.pop(),t4.functionsDefined[s3]={data:c2,i:h2};else if(!b3&&!w3)if(s3=f3.at(-1),isNaN(s3))(0,r.info)("TT: CALL empty stack (or invalid entry).");else if(t4.functionsUsed[s3]=!0,s3 in t4.functionsStackDeltas){const e7=f3.length+t4.functionsStackDeltas[s3];if(e7<0)return(0,r.warn)("TT: CALL invalid functions stack delta."),void(t4.hintsValid=!1);f3.length=e7}else if(s3 in t4.functionsDefined&&!p2.includes(s3)){if(g2.push({data:c2,i:h2,stackTop:f3.length-1}),p2.push(s3),o2=t4.functionsDefined[s3],!o2)return(0,r.warn)("TT: CALL non-existent function"),void(t4.hintsValid=!1);c2=o2.data,h2=o2.i}if(!b3&&!w3){let t5=0;for(e6<=142?t5=l2[e6]:e6>=192&&e6<=223?t5=-1:e6>=224&&(t5=-2),e6>=113&&e6<=117&&(n2=f3.pop(),isNaN(n2)||(t5=2*-n2));t5<0&&f3.length>0;)f3.pop(),t5++;for(;t5>0;)f3.push(NaN),t5--}}t4.tooComplexToFollowFunctions=m2;const S3=[c2];h2>c2.length&&S3.push(new Uint8Array(h2-c2.length)),d3>u2&&((0,r.warn)("TT: complementing a missing function tail"),S3.push(new Uint8Array([34,45]))),function(e5,t5){if(t5.length>1){let a5,r2,n3=0;for(a5=0,r2=t5.length;a5<r2;a5++)n3+=t5[a5].length;n3=n3+3&-4;const i3=new Uint8Array(n3);let s4=0;for(a5=0,r2=t5.length;a5<r2;a5++)i3.set(t5[a5],s4),s4+=t5[a5].length;e5.data=i3,e5.length=n3}}(e4,S3)}let d2,f2,b2,w2;if(isTrueTypeCollectionFile(t3=new y.Stream(new Uint8Array(t3.getBytes())))){const e4=function(e5,t4){const{numFonts:a4,offsetTable:n2}=function(e6){const t5=e6.getString(4);(0,r.assert)("ttcf"===t5,"Must be a TrueType Collection font.");const a5=e6.getUint16(),n3=e6.getUint16(),i3=e6.getInt32()>>>0,s4=[];for(let t6=0;t6<i3;t6++)s4.push(e6.getInt32()>>>0);const o2={ttcTag:t5,majorVersion:a5,minorVersion:n3,numFonts:i3,offsetTable:s4};switch(a5){case 1:return o2;case 2:return o2.dsigTag=e6.getInt32()>>>0,o2.dsigLength=e6.getInt32()>>>0,o2.dsigOffset=e6.getInt32()>>>0,o2}throw new r.FormatError(`Invalid TrueType Collection majorVersion: ${a5}.`)}(e5),i2=t4.split("+");let s3;for(let o2=0;o2<a4;o2++){e5.pos=(e5.start||0)+n2[o2];const a5=readOpenTypeHeader(e5),c2=readTables(e5,a5.numTables);if(!c2.name)throw new r.FormatError('TrueType Collection font must contain a "name" table.');const l3=readNameTable(c2.name);for(let e6=0,r2=l3.length;e6<r2;e6++)for(let r3=0,n3=l3[e6].length;r3<n3;r3++){const n4=l3[e6][r3]&&l3[e6][r3].replace(/\s/g,"");if(n4){if(n4===t4)return{header:a5,tables:c2};if(!(i2.length<2))for(const e7 of i2)n4===e7&&(s3={name:e7,header:a5,tables:c2})}}}if(s3)return(0,r.warn)(`TrueType Collection does not contain "${t4}" font, falling back to "${s3.name}" font instead.`),{header:s3.header,tables:s3.tables};throw new r.FormatError(`TrueType Collection does not contain "${t4}" font.`)}(t3,this.name);d2=e4.header,f2=e4.tables}else d2=readOpenTypeHeader(t3),f2=readTables(t3,d2.numTables);const S2=!f2["CFF "];if(S2){if(!f2.loca)throw new r.FormatError('Required "loca" table is not found');f2.glyf||((0,r.warn)('Required "glyf" table is not found -- trying to recover.'),f2.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{if("OTTO"===d2.version&&(!a3.composite||!((a3.cidToGidMap||[]).length>0)&&a3.cMap instanceof p.IdentityCMap)||!f2.head||!f2.hhea||!f2.maxp||!f2.post)return w2=new y.Stream(f2["CFF "].data),b2=new u.CFFFont(w2,a3),adjustWidths(a3),this.convert(e3,b2,a3);delete f2.glyf,delete f2.loca,delete f2.fpgm,delete f2.prep,delete f2["cvt "],this.isOpenType=!0}if(!f2.maxp)throw new r.FormatError('Required "maxp" table is not found');t3.pos=(t3.start||0)+f2.maxp.offset;const x2=t3.getInt32(),k2=t3.getUint16();if(a3.scaleFactors&&a3.scaleFactors.length===k2&&S2){const{scaleFactors:e4}=a3,t4=int16(f2.head.data[50],f2.head.data[51]),r2=new g.GlyfTable({glyfTable:f2.glyf.data,isGlyphLocationsLong:t4,locaTable:f2.loca.data,numGlyphs:k2});r2.scale(e4);const{glyf:n2,loca:i2,isLocationLong:s3}=r2.write();f2.glyf.data=n2,f2.loca.data=i2,s3!==!!t4&&(f2.head.data[50]=0,f2.head.data[51]=s3?1:0);const o2=f2.hmtx.data;for(let t5=0;t5<k2;t5++){const a4=4*t5,r3=Math.round(e4[t5]*int16(o2[a4],o2[a4+1]));o2[a4]=r3>>8&255,o2[a4+1]=255&r3,writeSignedInt16(o2,a4+2,Math.round(e4[t5]*signedInt16(o2[a4+2],o2[a4+3])))}}let C2=k2+1,v=!0;C2>65535&&(v=!1,C2=k2,(0,r.warn)("Not enough space in glyfs to duplicate first glyph."));let F=0,O=0;x2>=65536&&f2.maxp.length>=22&&(t3.pos+=8,t3.getUint16()>2&&(f2.maxp.data[14]=0,f2.maxp.data[15]=2),t3.pos+=4,F=t3.getUint16(),t3.pos+=4,O=t3.getUint16()),f2.maxp.data[4]=C2>>8,f2.maxp.data[5]=255&C2;const T=function(e4,t4,a4,n2){const i2={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(e4&&sanitizeTTProgram(e4,i2),t4&&sanitizeTTProgram(t4,i2),e4&&function(e5,t5){if(!e5.tooComplexToFollowFunctions)if(e5.functionsDefined.length>t5)(0,r.warn)("TT: more functions defined than expected"),e5.hintsValid=!1;else for(let a5=0,n3=e5.functionsUsed.length;a5<n3;a5++){if(a5>t5)return(0,r.warn)("TT: invalid function id: "+a5),void(e5.hintsValid=!1);if(e5.functionsUsed[a5]&&!e5.functionsDefined[a5])return(0,r.warn)("TT: undefined function: "+a5),void(e5.hintsValid=!1)}}(i2,n2),a4&&1&a4.length){const e5=new Uint8Array(a4.length+1);e5.set(a4.data),a4.data=e5}return i2.hintsValid}(f2.fpgm,f2.prep,f2["cvt "],F);if(T||(delete f2.fpgm,delete f2.prep,delete f2["cvt "]),function(e4,t4,a4,n2,i2,s3){if(!t4)return void(a4&&(a4.data=null));e4.pos=(e4.start||0)+t4.offset,e4.pos+=4,e4.pos+=2,e4.pos+=2,e4.pos+=2,e4.pos+=2,e4.pos+=2,e4.pos+=2,e4.pos+=2,e4.pos+=2,e4.pos+=2;const o2=e4.getUint16();e4.pos+=8,e4.pos+=2;let c2=e4.getUint16();0!==o2&&(2&int16(n2.data[44],n2.data[45])||(t4.data[22]=0,t4.data[23]=0)),c2>i2&&((0,r.info)(`The numOfMetrics (${c2}) should not be greater than the numGlyphs (${i2}).`),c2=i2,t4.data[34]=(65280&c2)>>8,t4.data[35]=255&c2);const l3=i2-c2-(a4.length-4*c2>>1);if(l3>0){const e5=new Uint8Array(a4.length+2*l3);e5.set(a4.data),s3&&(e5[a4.length]=a4.data[2],e5[a4.length+1]=a4.data[3]),a4.data=e5}}(t3,f2.hhea,f2.hmtx,f2.head,C2,v),!f2.head)throw new r.FormatError('Required "head" table is not found');!function(e4,t4,a4){const n2=e4.data,i2=(n2[0]<<24)+(n2[1]<<16)+(n2[2]<<8)+n2[3];i2>>16!=1&&((0,r.info)("Attempting to fix invalid version in head table: "+i2),n2[0]=0,n2[1]=1,n2[2]=0,n2[3]=0);const s3=int16(n2[50],n2[51]);if(s3<0||s3>1){(0,r.info)("Attempting to fix invalid indexToLocFormat in head table: "+s3);const e5=t4+1;if(a4===e5<<1)n2[50]=0,n2[51]=0;else{if(a4!==e5<<2)throw new r.FormatError("Could not fix indexToLocFormat: "+s3);n2[50]=0,n2[51]=1}}}(f2.head,k2,S2?f2.loca.length:0);let M=Object.create(null);if(S2){const e4=int16(f2.head.data[50],f2.head.data[51]),t4=function(e5,t5,a4,r2,n2,i2,s3){let o2,c2,l3;r2?(o2=4,c2=function(e6,t6){return e6[t6]<<24|e6[t6+1]<<16|e6[t6+2]<<8|e6[t6+3]},l3=function(e6,t6,a5){e6[t6]=a5>>>24&255,e6[t6+1]=a5>>16&255,e6[t6+2]=a5>>8&255,e6[t6+3]=255&a5}):(o2=2,c2=function(e6,t6){return e6[t6]<<9|e6[t6+1]<<1},l3=function(e6,t6,a5){e6[t6]=a5>>9&255,e6[t6+1]=a5>>1&255});const h2=i2?a4+1:a4,u2=o2*(1+h2),d3=new Uint8Array(u2);d3.set(e5.data.subarray(0,u2)),e5.data=d3;const f3=t5.data,g2=f3.length,p2=new Uint8Array(g2);let m2,b3;const y2=[];for(m2=0,b3=0;m2<a4+1;m2++,b3+=o2){let e6=c2(d3,b3);e6>g2&&(e6=g2),y2.push({index:m2,offset:e6,endOffset:0})}for(y2.sort((e6,t6)=>e6.offset-t6.offset),m2=0;m2<a4;m2++)y2[m2].endOffset=y2[m2+1].offset;for(y2.sort((e6,t6)=>e6.index-t6.index),m2=0;m2<a4;m2++){const{offset:e6,endOffset:t6}=y2[m2];if(0!==e6||0!==t6)break;const a5=y2[m2+1].offset;if(0!==a5){y2[m2].endOffset=a5;break}}const w3=Object.create(null);let S3=0;for(l3(d3,0,S3),m2=0,b3=o2;m2<a4;m2++,b3+=o2){const e6=sanitizeGlyph(f3,y2[m2].offset,y2[m2].endOffset,p2,S3,n2),t6=e6.length;0===t6&&(w3[m2]=!0),e6.sizeOfInstructions>s3&&(s3=e6.sizeOfInstructions),S3+=t6,l3(d3,b3,S3)}if(0===S3){const e6=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(m2=0,b3=o2;m2<h2;m2++,b3+=o2)l3(d3,b3,e6.length);t5.data=e6}else if(i2){const a5=c2(d3,o2);p2.length>a5+S3?t5.data=p2.subarray(0,a5+S3):(t5.data=new Uint8Array(a5+S3),t5.data.set(p2.subarray(0,S3))),t5.data.set(p2.subarray(0,a5),S3),l3(e5.data,d3.length-o2,S3+a5)}else t5.data=p2.subarray(0,S3);return{missingGlyphs:w3,maxSizeOfInstructions:s3}}(f2.loca,f2.glyf,k2,e4,T,v,O);M=t4.missingGlyphs,x2>=65536&&f2.maxp.length>=22&&(f2.maxp.data[26]=t4.maxSizeOfInstructions>>8,f2.maxp.data[27]=255&t4.maxSizeOfInstructions)}if(!f2.hhea)throw new r.FormatError('Required "hhea" table is not found');0===f2.hhea.data[10]&&0===f2.hhea.data[11]&&(f2.hhea.data[10]=255,f2.hhea.data[11]=255);const E={unitsPerEm:int16(f2.head.data[18],f2.head.data[19]),yMax:int16(f2.head.data[42],f2.head.data[43]),yMin:signedInt16(f2.head.data[38],f2.head.data[39]),ascent:signedInt16(f2.hhea.data[4],f2.hhea.data[5]),descent:signedInt16(f2.hhea.data[6],f2.hhea.data[7]),lineGap:signedInt16(f2.hhea.data[8],f2.hhea.data[9])};this.ascent=E.ascent/E.unitsPerEm,this.descent=E.descent/E.unitsPerEm,this.lineGap=E.lineGap/E.unitsPerEm,this.cssFontInfo&&this.cssFontInfo.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,f2.post&&function(e4,a4,n2){const s3=(t3.start||0)+e4.offset;t3.pos=s3;const o2=s3+e4.length,c2=t3.getInt32();t3.skip(28);let l3,h2,u2=!0;switch(c2){case 65536:l3=i.MacStandardGlyphOrdering;break;case 131072:const e5=t3.getUint16();if(e5!==n2){u2=!1;break}const s4=[];for(h2=0;h2<e5;++h2){const e6=t3.getUint16();if(e6>=32768){u2=!1;break}s4.push(e6)}if(!u2)break;const d3=[],f3=[];for(;t3.pos<o2;){const e6=t3.getByte();for(f3.length=e6,h2=0;h2<e6;++h2)f3[h2]=String.fromCharCode(t3.getByte());d3.push(f3.join(""))}for(l3=[],h2=0;h2<e5;++h2){const e6=s4[h2];l3.push(e6<258?i.MacStandardGlyphOrdering[e6]:d3[e6-258])}break;case 196608:break;default:(0,r.warn)("Unknown/unsupported post table version "+c2),u2=!1,a4.defaultEncoding&&(l3=a4.defaultEncoding)}a4.glyphNames=l3}(f2.post,a3,k2),f2.post={tag:"post",data:createPostTable(a3)};const D=[];function hasGlyph(e4){return!M[e4]}if(a3.composite){const e4=a3.cidToGidMap||[],t4=0===e4.length;a3.cMap.forEach(function(a4,n2){if("string"==typeof n2&&(n2=convertCidString(a4,n2,!0)),n2>65535)throw new r.FormatError("Max size of CID is 65,535");let i2=-1;t4?i2=n2:void 0!==e4[n2]&&(i2=e4[n2]),i2>=0&&i2<k2&&hasGlyph(i2)&&(D[a4]=i2)})}else{const e4=function(e5,t4,a4,n3){if(!e5)return(0,r.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let i2,s4=(t4.start||0)+e5.offset;t4.pos=s4,t4.skip(2);const o2=t4.getUint16();let c2,l4=!1;for(let e6=0;e6<o2;e6++){const r2=t4.getUint16(),i3=t4.getUint16(),s5=t4.getInt32()>>>0;let h3=!1;if(!c2||c2.platformId!==r2||c2.encodingId!==i3){if(0!==r2||0!==i3&&1!==i3&&3!==i3)if(1===r2&&0===i3)h3=!0;else if(3!==r2||1!==i3||!n3&&c2){if(a4&&3===r2&&0===i3){h3=!0;let a5=!0;if(e6<o2-1){const e7=t4.peekBytes(2);int16(e7[0],e7[1])<r2&&(a5=!1)}a5&&(l4=!0)}}else h3=!0,a4||(l4=!0);else h3=!0;if(h3&&(c2={platformId:r2,encodingId:i3,offset:s5}),l4)break}}if(c2&&(t4.pos=s4+c2.offset),!c2||-1===t4.peekByte())return(0,r.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const h2=t4.getUint16();let u3=!1;const d4=[];let f3,g3;if(0===h2){for(t4.skip(4),f3=0;f3<256;f3++){const e6=t4.getByte();e6&&d4.push({charCode:f3,glyphId:e6})}u3=!0}else if(2===h2){t4.skip(4);const e6=[];let a5=0;for(let r3=0;r3<256;r3++){const r4=t4.getUint16()>>3;e6.push(r4),a5=Math.max(r4,a5)}const r2=[];for(let e7=0;e7<=a5;e7++)r2.push({firstCode:t4.getUint16(),entryCount:t4.getUint16(),idDelta:signedInt16(t4.getByte(),t4.getByte()),idRangePos:t4.pos+t4.getUint16()});for(let a6=0;a6<256;a6++)if(0===e6[a6])t4.pos=r2[0].idRangePos+2*a6,g3=t4.getUint16(),d4.push({charCode:a6,glyphId:g3});else{const n4=r2[e6[a6]];for(f3=0;f3<n4.entryCount;f3++){const e7=(a6<<8)+f3+n4.firstCode;t4.pos=n4.idRangePos+2*f3,g3=t4.getUint16(),0!==g3&&(g3=(g3+n4.idDelta)%65536),d4.push({charCode:e7,glyphId:g3})}}}else if(4===h2){t4.skip(4);const e6=t4.getUint16()>>1;t4.skip(6);const a5=[];let r2;for(r2=0;r2<e6;r2++)a5.push({end:t4.getUint16()});for(t4.skip(2),r2=0;r2<e6;r2++)a5[r2].start=t4.getUint16();for(r2=0;r2<e6;r2++)a5[r2].delta=t4.getUint16();let n4,o3=0;for(r2=0;r2<e6;r2++){i2=a5[r2];const s5=t4.getUint16();s5?(n4=(s5>>1)-(e6-r2),i2.offsetIndex=n4,o3=Math.max(o3,n4+i2.end-i2.start+1)):i2.offsetIndex=-1}const c3=[];for(f3=0;f3<o3;f3++)c3.push(t4.getUint16());for(r2=0;r2<e6;r2++){i2=a5[r2],s4=i2.start;const e7=i2.end,t5=i2.delta;for(n4=i2.offsetIndex,f3=s4;f3<=e7;f3++)65535!==f3&&(g3=n4<0?f3:c3[n4+f3-s4],g3=g3+t5&65535,d4.push({charCode:f3,glyphId:g3}))}}else if(6===h2){t4.skip(4);const e6=t4.getUint16(),a5=t4.getUint16();for(f3=0;f3<a5;f3++)g3=t4.getUint16(),d4.push({charCode:e6+f3,glyphId:g3})}else{if(12!==h2)return(0,r.warn)("cmap table has unsupported format: "+h2),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};{t4.skip(10);const e6=t4.getInt32()>>>0;for(f3=0;f3<e6;f3++){const e7=t4.getInt32()>>>0,a5=t4.getInt32()>>>0;let r2=t4.getInt32()>>>0;for(let t5=e7;t5<=a5;t5++)d4.push({charCode:t5,glyphId:r2++})}}}d4.sort(function(e6,t5){return e6.charCode-t5.charCode});for(let e6=1;e6<d4.length;e6++)d4[e6-1].charCode===d4[e6].charCode&&(d4.splice(e6,1),e6--);return{platformId:c2.platformId,encodingId:c2.encodingId,mappings:d4,hasShortCmap:u3}}(f2.cmap,t3,this.isSymbolicFont,a3.hasEncoding),n2=e4.platformId,s3=e4.encodingId,l3=e4.mappings,u2=l3.length;let d3=[],g2=!1;if(!a3.hasEncoding||"MacRomanEncoding"!==a3.baseEncodingName&&"WinAnsiEncoding"!==a3.baseEncodingName||(d3=(0,c.getEncoding)(a3.baseEncodingName)),a3.hasEncoding&&!this.isSymbolicFont&&(3===n2&&1===s3||1===n2&&0===s3)){const e5=(0,o.getGlyphsUnicode)();for(let t4=0;t4<256;t4++){let r2;if(r2=void 0!==this.differences[t4]?this.differences[t4]:d3.length&&""!==d3[t4]?d3[t4]:c.StandardEncoding[t4],!r2)continue;const o2=(0,i.recoverGlyphName)(r2,e5);let f3;if(3===n2&&1===s3?f3=e5[o2]:1===n2&&0===s3&&(f3=c.MacRomanEncoding.indexOf(o2)),void 0===f3){if(!a3.glyphNames&&a3.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof h.IdentityToUnicodeMap)){const e6=this.toUnicode.get(t4);e6&&(f3=e6.codePointAt(0))}if(void 0===f3)continue}for(let e6=0;e6<u2;++e6)if(l3[e6].charCode===f3){D[t4]=l3[e6].glyphId;break}}}else if(0===n2){for(let e5=0;e5<u2;++e5)D[l3[e5].charCode]=l3[e5].glyphId;g2=!0}else for(let e5=0;e5<u2;++e5){let t4=l3[e5].charCode;3===n2&&t4>=61440&&t4<=61695&&(t4&=255),D[t4]=l3[e5].glyphId}if(a3.glyphNames&&(d3.length||this.differences.length))for(let e5=0;e5<256;++e5){if(!g2&&void 0!==D[e5])continue;const t4=this.differences[e5]||d3[e5];if(!t4)continue;const r2=a3.glyphNames.indexOf(t4);r2>0&&hasGlyph(r2)&&(D[e5]=r2)}}0===D.length&&(D[0]=0);let N=C2-1;if(v||(N=0),!a3.cssFontInfo){const e4=adjustMapping(D,hasGlyph,N,this.toUnicode);this.toFontChar=e4.toFontChar,f2.cmap={tag:"cmap",data:createCmapTable(e4.charCodeToGlyphId,e4.toUnicodeExtraMap,C2)},f2["OS/2"]&&function(e5,t4){t4.pos=(t4.start||0)+e5.offset;const a4=t4.getUint16();t4.skip(60);const r2=t4.getUint16();return!(a4<4&&768&r2||t4.getUint16()>t4.getUint16()||(t4.skip(6),0===t4.getUint16())||(e5.data[8]=e5.data[9]=0,0))}(f2["OS/2"],t3)||(f2["OS/2"]={tag:"OS/2",data:createOS2Table(a3,e4.charCodeToGlyphId,E)})}if(!S2)try{w2=new y.Stream(f2["CFF "].data),b2=new n.CFFParser(w2,a3,i.SEAC_ANALYSIS_ENABLED).parse(),b2.duplicateFirstGlyph();const e4=new n.CFFCompiler(b2);f2["CFF "].data=e4.compile()}catch{(0,r.warn)("Failed to compile font "+a3.loadedName)}if(f2.name){const t4=readNameTable(f2.name);f2.name.data=createNameTable(e3,t4),this.psName=t4[0][6]||null}else f2.name={tag:"name",data:createNameTable(this.name)};const R=new m.OpenTypeFileBuilder(d2.version);for(const e4 in f2)R.addTable(e4,f2[e4].data);return R.toArray()}convert(e3,t3,a3){a3.fixedPitch=!1,a3.builtInEncoding&&function(e4,t4){if(e4.isInternalFont||t4===e4.defaultEncoding||e4.toUnicode instanceof h.IdentityToUnicodeMap)return;const a4=[],r2=(0,o.getGlyphsUnicode)();for(const n3 in t4){if(e4.hasIncludedToUnicodeMap){if(e4.toUnicode.has(n3))continue}else if(e4.hasEncoding&&(0===e4.differences.length||void 0!==e4.differences[n3]))continue;const o2=(0,s.getUnicodeForGlyph)(t4[n3],r2);-1!==o2&&(a4[n3]=String.fromCharCode(o2))}a4.length>0&&e4.toUnicode.amend(a4)}(a3,a3.builtInEncoding);let n2=1;t3 instanceof u.CFFFont&&(n2=t3.numGlyphs-1);const l2=t3.getGlyphMapping(a3);let d2=null,f2=l2,g2=null;a3.cssFontInfo||(d2=adjustMapping(l2,t3.hasGlyphId.bind(t3),n2,this.toUnicode),this.toFontChar=d2.toFontChar,f2=d2.charCodeToGlyphId,g2=d2.toUnicodeExtraMap);const p2=t3.numGlyphs;function getCharCodes(e4,t4){let a4=null;for(const r2 in e4)t4===e4[r2]&&(a4||(a4=[]),a4.push(0|r2));return a4}function createCharCode(e4,t4){for(const a4 in e4)if(t4===e4[a4])return 0|a4;return d2.charCodeToGlyphId[d2.nextAvailableFontCharCode]=t4,d2.nextAvailableFontCharCode++}const b2=t3.seacs;if(d2&&i.SEAC_ANALYSIS_ENABLED&&b2&&b2.length){const e4=a3.fontMatrix||r.FONT_IDENTITY_MATRIX,n3=t3.getCharset(),i2=Object.create(null);for(let t4 in b2){t4|=0;const a4=b2[t4],s2=c.StandardEncoding[a4[3]],o2=n3.indexOf(c.StandardEncoding[a4[2]]),h2=n3.indexOf(s2);if(o2<0||h2<0)continue;const u2={x:a4[0]*e4[0]+a4[1]*e4[2]+e4[4],y:a4[0]*e4[1]+a4[1]*e4[3]+e4[5]},f3=getCharCodes(l2,t4);if(f3)for(let e5=0,t5=f3.length;e5<t5;e5++){const t6=f3[e5],a5=d2.charCodeToGlyphId,r3=createCharCode(a5,o2),n4=createCharCode(a5,h2);i2[t6]={baseFontCharCode:r3,accentFontCharCode:n4,accentOffset:u2}}}a3.seacMap=i2}const y2=1/(a3.fontMatrix||r.FONT_IDENTITY_MATRIX)[0],w2=new m.OpenTypeFileBuilder("OTTO");return w2.addTable("CFF ",t3.data),w2.addTable("OS/2",createOS2Table(a3,f2)),w2.addTable("cmap",createCmapTable(f2,g2,p2)),w2.addTable("head","\0\x01\0\0\0\0\x10\0\0\0\0\0_\x0f<\xf5\0\0"+safeString16(y2)+"\0\0\0\0\x9e\v~'\0\0\0\0\x9e\v~'\0\0"+safeString16(a3.descent)+"\x0f\xff"+safeString16(a3.ascent)+string16(a3.italicAngle?2:0)+"\0\x11\0\0\0\0\0\0"),w2.addTable("hhea","\0\x01\0\0"+safeString16(a3.ascent)+safeString16(a3.descent)+"\0\0\xff\xff\0\0\0\0\0\0"+safeString16(a3.capHeight)+safeString16(Math.tan(a3.italicAngle)*a3.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+string16(p2)),w2.addTable("hmtx",function(){const e4=t3.charstrings,a4=t3.cff?t3.cff.widths:null;let r2="\0\0\0\0";for(let t4=1,n3=p2;t4<n3;t4++){let n4=0;if(e4){const a5=e4[t4-1];n4="width"in a5?a5.width:0}else a4&&(n4=Math.ceil(a4[t4]||0));r2+=string16(n4)+string16(0)}return r2}()),w2.addTable("maxp","\0\0P\0"+string16(p2)),w2.addTable("name",createNameTable(e3)),w2.addTable("post",createPostTable(a3)),w2.toArray()}get spaceWidth(){const e3=["space","minus","one","i","I"];let t3;for(let a3=0,r2=e3.length;a3<r2;a3++){const r3=e3[a3];if(r3 in this.widths){t3=this.widths[r3];break}const n2=(0,o.getGlyphsUnicode)()[r3];let i2=0;if(this.composite&&this.cMap.contains(n2)&&(i2=this.cMap.lookup(n2),"string"==typeof i2&&(i2=convertCidString(n2,i2))),!i2&&this.toUnicode&&(i2=this.toUnicode.charCodeOf(n2)),i2<=0&&(i2=n2),t3=this.widths[i2],t3)break}return t3=t3||this.defaultWidth,(0,r.shadow)(this,"spaceWidth",t3)}_charToGlyph(e3,t3=!1){let a3,n2,i2,o2=e3;this.cMap&&this.cMap.contains(e3)&&(o2=this.cMap.lookup(e3),"string"==typeof o2&&(o2=convertCidString(e3,o2))),n2=this.widths[o2],"number"!=typeof n2&&(n2=this.defaultWidth);const c2=this.vmetrics&&this.vmetrics[o2];let l2=this.toUnicode.get(e3)||e3;"number"==typeof l2&&(l2=String.fromCharCode(l2));let h2=void 0!==this.toFontChar[e3];if(a3=this.toFontChar[e3]||e3,this.missingFile){const t4=this.differences[e3]||this.defaultEncoding[e3];".notdef"!==t4&&""!==t4||"Type1"!==this.type||(a3=32),a3=(0,s.mapSpecialUnicodeValues)(a3)}this.isType3Font&&(i2=a3);let u2=null;if(this.seacMap&&this.seacMap[e3]){h2=!0;const t4=this.seacMap[e3];a3=t4.baseFontCharCode,u2={fontChar:String.fromCodePoint(t4.accentFontCharCode),offset:t4.accentOffset}}let d2="";"number"==typeof a3&&(a3<=1114111?d2=String.fromCodePoint(a3):(0,r.warn)(`charToGlyph - invalid fontCharCode: ${a3}`));let f2=this._glyphCache[e3];return(!f2||!f2.matchesForCache(e3,d2,l2,u2,n2,c2,i2,t3,h2))&&(f2=new Glyph(e3,d2,l2,u2,n2,c2,i2,t3,h2),this._glyphCache[e3]=f2),f2}charsToGlyphs(e3){let t3=this._charsCache[e3];if(t3)return t3;if(t3=[],this.cMap){const a3=Object.create(null),r2=e3.length;let n2=0;for(;n2<r2;){this.cMap.readCharCode(e3,n2,a3);const{charcode:r3,length:i2}=a3;n2+=i2;const s2=this._charToGlyph(r3,1===i2&&32===e3.charCodeAt(n2-1));t3.push(s2)}}else for(let a3=0,r2=e3.length;a3<r2;++a3){const r3=e3.charCodeAt(a3),n2=this._charToGlyph(r3,32===r3);t3.push(n2)}return this._charsCache[e3]=t3}getCharPositions(e3){const t3=[];if(this.cMap){const a3=Object.create(null);let r2=0;for(;r2<e3.length;){this.cMap.readCharCode(e3,r2,a3);const n2=a3.length;t3.push([r2,r2+n2]),r2+=n2}}else for(let a3=0,r2=e3.length;a3<r2;++a3)t3.push([a3,a3+1]);return t3}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(e3){const t3=[],a3=[],hasCurrentBufErrors=()=>t3.length%2==1,r2=this.toUnicode instanceof h.IdentityToUnicodeMap?e4=>this.toUnicode.charCodeOf(e4):e4=>this.toUnicode.charCodeOf(String.fromCodePoint(e4));for(let n2=0,i2=e3.length;n2<i2;n2++){const i3=e3.codePointAt(n2);if(i3>55295&&(i3<57344||i3>65533)&&n2++,this.toUnicode){const e4=r2(i3);if(-1!==e4){hasCurrentBufErrors()&&(t3.push(a3.join("")),a3.length=0);for(let t4=(this.cMap?this.cMap.getCharCodeLength(e4):1)-1;t4>=0;t4--)a3.push(String.fromCharCode(e4>>8*t4&255));continue}}hasCurrentBufErrors()||(t3.push(a3.join("")),a3.length=0),a3.push(String.fromCodePoint(i3))}return t3.push(a3.join("")),t3}},t2.ErrorFont=class{constructor(e3){this.error=e3,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(e3){return[e3]}exportData(e3=!1){return{error:this.error}}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.CFFTopDict=t2.CFFStrings=t2.CFFStandardStrings=t2.CFFPrivateDict=t2.CFFParser=t2.CFFIndex=t2.CFFHeader=t2.CFFFDSelect=t2.CFFCompiler=t2.CFFCharset=t2.CFF=void 0;var r=a2(2),n=a2(36),i=a2(37);const s=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];t2.CFFStandardStrings=s;const c=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],l=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(e3,t3){e3[t3-2]=e3[t3-2]+e3[t3-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(e3,t3){e3[t3-2]=e3[t3-2]-e3[t3-1]}},{id:"div",min:2,stackDelta:-1,stackFn(e3,t3){e3[t3-2]=e3[t3-2]/e3[t3-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(e3,t3){e3[t3-1]=-e3[t3-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(e3,t3){e3[t3-2]=e3[t3-2]*e3[t3-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];t2.CFFParser=class{constructor(e3,t3,a3){this.bytes=e3.getBytes(),this.properties=t3,this.seacAnalysisEnabled=!!a3}parse(){const e3=this.properties,t3=new CFF;this.cff=t3;const a3=this.parseHeader(),r2=this.parseIndex(a3.endPos),n2=this.parseIndex(r2.endPos),i2=this.parseIndex(n2.endPos),s2=this.parseIndex(i2.endPos),o2=this.parseDict(n2.obj.get(0)),c2=this.createDict(CFFTopDict,o2,t3.strings);t3.header=a3.obj,t3.names=this.parseNameIndex(r2.obj),t3.strings=this.parseStringIndex(i2.obj),t3.topDict=c2,t3.globalSubrIndex=s2.obj,this.parsePrivateDict(t3.topDict),t3.isCIDFont=c2.hasName("ROS");const l2=c2.getByName("CharStrings"),h2=this.parseIndex(l2).obj,u2=c2.getByName("FontMatrix");u2&&(e3.fontMatrix=u2);const d2=c2.getByName("FontBBox");let f,g;if(d2&&(e3.ascent=Math.max(d2[3],d2[1]),e3.descent=Math.min(d2[1],d2[3]),e3.ascentScaled=!0),t3.isCIDFont){const e4=this.parseIndex(c2.getByName("FDArray")).obj;for(let a4=0,r3=e4.count;a4<r3;++a4){const r4=e4.get(a4),n3=this.createDict(CFFTopDict,this.parseDict(r4),t3.strings);this.parsePrivateDict(n3),t3.fdArray.push(n3)}g=null,f=this.parseCharsets(c2.getByName("charset"),h2.count,t3.strings,!0),t3.fdSelect=this.parseFDSelect(c2.getByName("FDSelect"),h2.count)}else f=this.parseCharsets(c2.getByName("charset"),h2.count,t3.strings,!1),g=this.parseEncoding(c2.getByName("Encoding"),e3,t3.strings,f.charset);t3.charset=f,t3.encoding=g;const p=this.parseCharStrings({charStrings:h2,localSubrIndex:c2.privateDict.subrsIndex,globalSubrIndex:s2.obj,fdSelect:t3.fdSelect,fdArray:t3.fdArray,privateDict:c2.privateDict});return t3.charStrings=p.charStrings,t3.seacs=p.seacs,t3.widths=p.widths,t3}parseHeader(){let e3=this.bytes;const t3=e3.length;let a3=0;for(;a3<t3&&1!==e3[a3];)++a3;if(a3>=t3)throw new r.FormatError("Invalid CFF header");0!==a3&&((0,r.info)("cff data is shifted"),e3=e3.subarray(a3),this.bytes=e3);const s2=e3[2];return{obj:new CFFHeader(e3[0],e3[1],s2,e3[3]),endPos:s2}}parseDict(e3){let t3=0;function parseOperand(){let a4=e3[t3++];return 30===a4?function(){let a5="";const n3=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],i3=e3.length;for(;t3<i3;){const i4=e3[t3++],s2=i4>>4,o2=15&i4;if(15===s2||(a5+=n3[s2],15===o2))break;a5+=n3[o2]}return parseFloat(a5)}():28===a4?(a4=e3[t3++],a4=(a4<<24|e3[t3++]<<16)>>16,a4):29===a4?(a4=e3[t3++],a4=a4<<8|e3[t3++],a4=a4<<8|e3[t3++],a4=a4<<8|e3[t3++],a4):a4>=32&&a4<=246?a4-139:a4>=247&&a4<=250?256*(a4-247)+e3[t3++]+108:a4>=251&&a4<=254?-256*(a4-251)-e3[t3++]-108:((0,r.warn)('CFFParser_parseDict: "'+a4+'" is a reserved command.'),NaN)}let a3=[];const n2=[];t3=0;const i2=e3.length;for(;t3<i2;){let r2=e3[t3];r2<=21?(12===r2&&(r2=r2<<8|e3[++t3]),n2.push([r2,a3]),a3=[],++t3):a3.push(parseOperand())}return n2}parseIndex(e3){const t3=new CFFIndex,a3=this.bytes,r2=a3[e3++]<<8|a3[e3++],n2=[];let i2,s2,o2=e3;if(0!==r2){const t4=a3[e3++],c2=e3+(r2+1)*t4-1;for(i2=0,s2=r2+1;i2<s2;++i2){let r3=0;for(let n3=0;n3<t4;++n3)r3<<=8,r3+=a3[e3++];n2.push(c2+r3)}o2=n2[r2]}for(i2=0,s2=n2.length-1;i2<s2;++i2)t3.add(a3.subarray(n2[i2],n2[i2+1]));return{obj:t3,endPos:o2}}parseNameIndex(e3){const t3=[];for(let a3=0,n2=e3.count;a3<n2;++a3){const n3=e3.get(a3);t3.push((0,r.bytesToString)(n3))}return t3}parseStringIndex(e3){const t3=new CFFStrings;for(let a3=0,n2=e3.count;a3<n2;++a3){const n3=e3.get(a3);t3.add((0,r.bytesToString)(n3))}return t3}createDict(e3,t3,a3){const r2=new e3(a3);for(let e4=0,a4=t3.length;e4<a4;++e4){const a5=t3[e4];r2.setByKey(a5[0],a5[1])}return r2}parseCharString(e3,t3,a3,n2){if(!t3||e3.callDepth>10)return!1;let i2=e3.stackSize;const s2=e3.stack,o2=t3.length;for(let h2=0;h2<o2;){const o3=t3[h2++];let u2=null;if(12===o3){const e4=t3[h2++];0===e4?(t3[h2-2]=139,t3[h2-1]=22,i2=0):u2=l[e4]}else if(28===o3)s2[i2]=(t3[h2]<<24|t3[h2+1]<<16)>>16,h2+=2,i2++;else if(14===o3){if(i2>=4&&(i2-=4,this.seacAnalysisEnabled))return e3.seac=s2.slice(i2,i2+4),!1;u2=c[o3]}else if(o3>=32&&o3<=246)s2[i2]=o3-139,i2++;else if(o3>=247&&o3<=254)s2[i2]=o3<251?(o3-247<<8)+t3[h2]+108:-(o3-251<<8)-t3[h2]-108,h2++,i2++;else if(255===o3)s2[i2]=(t3[h2]<<24|t3[h2+1]<<16|t3[h2+2]<<8|t3[h2+3])/65536,h2+=4,i2++;else if(19===o3||20===o3)e3.hints+=i2>>1,h2+=e3.hints+7>>3,i2%=2,u2=c[o3];else{if(10===o3||29===o3){let t4;if(t4=10===o3?a3:n2,!t4)return u2=c[o3],(0,r.warn)("Missing subrsIndex for "+u2.id),!1;let l2=32768;t4.count<1240?l2=107:t4.count<33900&&(l2=1131);const h3=s2[--i2]+l2;if(h3<0||h3>=t4.count||isNaN(h3))return u2=c[o3],(0,r.warn)("Out of bounds subrIndex for "+u2.id),!1;if(e3.stackSize=i2,e3.callDepth++,!this.parseCharString(e3,t4.get(h3),a3,n2))return!1;e3.callDepth--,i2=e3.stackSize;continue}if(11===o3)return e3.stackSize=i2,!0;0===o3&&h2===t3.length?(t3[h2-1]=14,u2=c[14]):u2=c[o3]}if(u2){if(u2.stem&&(e3.hints+=i2>>1,3===o3||23===o3?e3.hasVStems=!0:e3.hasVStems&&(1===o3||18===o3)&&((0,r.warn)("CFF stem hints are in wrong order"),t3[h2-1]=1===o3?3:23)),"min"in u2&&!e3.undefStack&&i2<u2.min)return(0,r.warn)("Not enough parameters for "+u2.id+"; actual: "+i2+", expected: "+u2.min),0===i2&&(t3[h2-1]=14,!0);e3.firstStackClearing&&u2.stackClearing&&(e3.firstStackClearing=!1,i2-=u2.min,i2>=2&&u2.stem?i2%=2:i2>1&&(0,r.warn)("Found too many parameters for stack-clearing command"),i2>0&&(e3.width=s2[i2-1])),"stackDelta"in u2?("stackFn"in u2&&u2.stackFn(s2,i2),i2+=u2.stackDelta):u2.stackClearing?i2=0:u2.resetStack?(i2=0,e3.undefStack=!1):u2.undefStack&&(i2=0,e3.undefStack=!0,e3.firstStackClearing=!1)}}return e3.stackSize=i2,!0}parseCharStrings({charStrings:e3,localSubrIndex:t3,globalSubrIndex:a3,fdSelect:n2,fdArray:i2,privateDict:s2}){const o2=[],c2=[],l2=e3.count;for(let h2=0;h2<l2;h2++){const l3=e3.get(h2),u2={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let d2=!0,f=null,g=s2;if(n2&&i2.length){const e4=n2.getFDIndex(h2);-1===e4&&((0,r.warn)("Glyph index is not in fd select."),d2=!1),e4>=i2.length&&((0,r.warn)("Invalid fd index for glyph index."),d2=!1),d2&&(g=i2[e4].privateDict,f=g.subrsIndex)}else t3&&(f=t3);if(d2&&(d2=this.parseCharString(u2,l3,f,a3)),null!==u2.width){const e4=g.getByName("nominalWidthX");c2[h2]=e4+u2.width}else{const e4=g.getByName("defaultWidthX");c2[h2]=e4}null!==u2.seac&&(o2[h2]=u2.seac),d2||e3.set(h2,new Uint8Array([14]))}return{charStrings:e3,seacs:o2,widths:c2}}emptyPrivateDictionary(e3){const t3=this.createDict(CFFPrivateDict,[],e3.strings);e3.setByKey(18,[0,0]),e3.privateDict=t3}parsePrivateDict(e3){if(!e3.hasName("Private"))return void this.emptyPrivateDictionary(e3);const t3=e3.getByName("Private");if(!Array.isArray(t3)||2!==t3.length)return void e3.removeByName("Private");const a3=t3[0],r2=t3[1];if(0===a3||r2>=this.bytes.length)return void this.emptyPrivateDictionary(e3);const i2=this.bytes.subarray(r2,r2+a3),s2=this.parseDict(i2),o2=this.createDict(CFFPrivateDict,s2,e3.strings);if(e3.privateDict=o2,!o2.getByName("Subrs"))return;const c2=o2.getByName("Subrs"),l2=r2+c2;if(0===c2||l2>=this.bytes.length)return void this.emptyPrivateDictionary(e3);const h2=this.parseIndex(l2);o2.subrsIndex=h2.obj}parseCharsets(e3,t3,a3,i2){if(0===e3)return new CFFCharset(!0,d.ISO_ADOBE,n.ISOAdobeCharset);if(1===e3)return new CFFCharset(!0,d.EXPERT,n.ExpertCharset);if(2===e3)return new CFFCharset(!0,d.EXPERT_SUBSET,n.ExpertSubsetCharset);const s2=this.bytes,o2=e3,c2=s2[e3++],l2=[i2?0:".notdef"];let h2,u2,f;switch(t3-=1,c2){case 0:for(f=0;f<t3;f++)h2=s2[e3++]<<8|s2[e3++],l2.push(i2?h2:a3.get(h2));break;case 1:for(;l2.length<=t3;)for(h2=s2[e3++]<<8|s2[e3++],u2=s2[e3++],f=0;f<=u2;f++)l2.push(i2?h2++:a3.get(h2++));break;case 2:for(;l2.length<=t3;)for(h2=s2[e3++]<<8|s2[e3++],u2=s2[e3++]<<8|s2[e3++],f=0;f<=u2;f++)l2.push(i2?h2++:a3.get(h2++));break;default:throw new r.FormatError("Unknown charset format")}const p=s2.subarray(o2,e3);return new CFFCharset(!1,c2,l2,p)}parseEncoding(e3,t3,a3,n2){const s2=Object.create(null),o2=this.bytes;let c2,l2,h2,u2=!1,d2=null;if(0===e3||1===e3){u2=!0,c2=e3;const t4=e3?i.ExpertEncoding:i.StandardEncoding;for(l2=0,h2=n2.length;l2<h2;l2++){const e4=t4.indexOf(n2[l2]);-1!==e4&&(s2[e4]=l2)}}else{const t4=e3;switch(c2=o2[e3++],127&c2){case 0:const t5=o2[e3++];for(l2=1;l2<=t5;l2++)s2[o2[e3++]]=l2;break;case 1:const a4=o2[e3++];let n3=1;for(l2=0;l2<a4;l2++){const t6=o2[e3++],a5=o2[e3++];for(let e4=t6;e4<=t6+a5;e4++)s2[e4]=n3++}break;default:throw new r.FormatError(`Unknown encoding format: ${c2} in CFF`)}const i2=e3;128&c2&&(o2[t4]&=127,function(){const t5=o2[e3++];for(l2=0;l2<t5;l2++){const t6=o2[e3++],r2=(o2[e3++]<<8)+(255&o2[e3++]);s2[t6]=n2.indexOf(a3.get(r2))}}()),d2=o2.subarray(t4,i2)}return c2&=127,new CFFEncoding(u2,c2,s2,d2)}parseFDSelect(e3,t3){const a3=this.bytes,n2=a3[e3++],i2=[];let s2;switch(n2){case 0:for(s2=0;s2<t3;++s2){const t4=a3[e3++];i2.push(t4)}break;case 3:const o2=a3[e3++]<<8|a3[e3++];for(s2=0;s2<o2;++s2){let t4=a3[e3++]<<8|a3[e3++];0===s2&&0!==t4&&((0,r.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),t4=0);const n3=a3[e3++],o3=a3[e3]<<8|a3[e3+1];for(let e4=t4;e4<o3;++e4)i2.push(n3)}e3+=2;break;default:throw new r.FormatError(`parseFDSelect: Unknown format "${n2}".`)}if(i2.length!==t3)throw new r.FormatError("parseFDSelect: Invalid font data.");return new CFFFDSelect(n2,i2)}};class CFF{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new CFFStrings,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535)return void(0,r.warn)("Not enough space in charstrings to duplicate first glyph.");const e3=this.charStrings.get(0);this.charStrings.add(e3),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(e3){return!(e3<0||e3>=this.charStrings.count)&&this.charStrings.get(e3).length>0}}t2.CFF=CFF;class CFFHeader{constructor(e3,t3,a3,r2){this.major=e3,this.minor=t3,this.hdrSize=a3,this.offSize=r2}}t2.CFFHeader=CFFHeader;class CFFStrings{constructor(){this.strings=[]}get(e3){return e3>=0&&e3<=390?s[e3]:e3-391<=this.strings.length?this.strings[e3-391]:s[0]}getSID(e3){let t3=s.indexOf(e3);return-1!==t3?t3:(t3=this.strings.indexOf(e3),-1!==t3?t3+391:-1)}add(e3){this.strings.push(e3)}get count(){return this.strings.length}}t2.CFFStrings=CFFStrings;class CFFIndex{constructor(){this.objects=[],this.length=0}add(e3){this.length+=e3.length,this.objects.push(e3)}set(e3,t3){this.length+=t3.length-this.objects[e3].length,this.objects[e3]=t3}get(e3){return this.objects[e3]}get count(){return this.objects.length}}t2.CFFIndex=CFFIndex;class CFFDict{constructor(e3,t3){this.keyToNameMap=e3.keyToNameMap,this.nameToKeyMap=e3.nameToKeyMap,this.defaults=e3.defaults,this.types=e3.types,this.opcodes=e3.opcodes,this.order=e3.order,this.strings=t3,this.values=Object.create(null)}setByKey(e3,t3){if(!(e3 in this.keyToNameMap))return!1;const a3=t3.length;if(0===a3)return!0;for(let n3=0;n3<a3;n3++)if(isNaN(t3[n3]))return(0,r.warn)('Invalid CFFDict value: "'+t3+'" for key "'+e3+'".'),!0;const n2=this.types[e3];return"num"!==n2&&"sid"!==n2&&"offset"!==n2||(t3=t3[0]),this.values[e3]=t3,!0}setByName(e3,t3){if(!(e3 in this.nameToKeyMap))throw new r.FormatError(`Invalid dictionary name "${e3}"`);this.values[this.nameToKeyMap[e3]]=t3}hasName(e3){return this.nameToKeyMap[e3]in this.values}getByName(e3){if(!(e3 in this.nameToKeyMap))throw new r.FormatError(`Invalid dictionary name ${e3}"`);const t3=this.nameToKeyMap[e3];return t3 in this.values?this.values[t3]:this.defaults[t3]}removeByName(e3){delete this.values[this.nameToKeyMap[e3]]}static createTables(e3){const t3={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(let a3=0,r2=e3.length;a3<r2;++a3){const r3=e3[a3],n2=Array.isArray(r3[0])?(r3[0][0]<<8)+r3[0][1]:r3[0];t3.keyToNameMap[n2]=r3[1],t3.nameToKeyMap[r3[1]]=n2,t3.types[n2]=r3[2],t3.defaults[n2]=r3[3],t3.opcodes[n2]=Array.isArray(r3[0])?r3[0]:[r3[0]],t3.order.push(n2)}return t3}}const h=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class CFFTopDict extends CFFDict{static get tables(){return(0,r.shadow)(this,"tables",this.createTables(h))}constructor(e3){super(CFFTopDict.tables,e3),this.privateDict=null}}t2.CFFTopDict=CFFTopDict;const u=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class CFFPrivateDict extends CFFDict{static get tables(){return(0,r.shadow)(this,"tables",this.createTables(u))}constructor(e3){super(CFFPrivateDict.tables,e3),this.subrsIndex=null}}t2.CFFPrivateDict=CFFPrivateDict;const d={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class CFFCharset{constructor(e3,t3,a3,r2){this.predefined=e3,this.format=t3,this.charset=a3,this.raw=r2}}t2.CFFCharset=CFFCharset;class CFFEncoding{constructor(e3,t3,a3,r2){this.predefined=e3,this.format=t3,this.encoding=a3,this.raw=r2}}class CFFFDSelect{constructor(e3,t3){this.format=e3,this.fdSelect=t3}getFDIndex(e3){return e3<0||e3>=this.fdSelect.length?-1:this.fdSelect[e3]}}t2.CFFFDSelect=CFFFDSelect;class CFFOffsetTracker{constructor(){this.offsets=Object.create(null)}isTracking(e3){return e3 in this.offsets}track(e3,t3){if(e3 in this.offsets)throw new r.FormatError(`Already tracking location of ${e3}`);this.offsets[e3]=t3}offset(e3){for(const t3 in this.offsets)this.offsets[t3]+=e3}setEntryLocation(e3,t3,a3){if(!(e3 in this.offsets))throw new r.FormatError(`Not tracking location of ${e3}`);const n2=a3.data,i2=this.offsets[e3];for(let e4=0,a4=t3.length;e4<a4;++e4){const a5=5*e4+i2,s2=a5+1,o2=a5+2,c2=a5+3,l2=a5+4;if(29!==n2[a5]||0!==n2[s2]||0!==n2[o2]||0!==n2[c2]||0!==n2[l2])throw new r.FormatError("writing to an offset that is not empty");const h2=t3[e4];n2[a5]=29,n2[s2]=h2>>24&255,n2[o2]=h2>>16&255,n2[c2]=h2>>8&255,n2[l2]=255&h2}}}class CFFCompiler{constructor(e3){this.cff=e3}compile(){const e3=this.cff,t3={data:[],length:0,add(e4){this.data=this.data.concat(e4),this.length=this.data.length}},a3=this.compileHeader(e3.header);t3.add(a3);const n2=this.compileNameIndex(e3.names);if(t3.add(n2),e3.isCIDFont&&e3.topDict.hasName("FontMatrix")){const t4=e3.topDict.getByName("FontMatrix");e3.topDict.removeByName("FontMatrix");for(let a4=0,n3=e3.fdArray.length;a4<n3;a4++){const n4=e3.fdArray[a4];let i3=t4.slice(0);n4.hasName("FontMatrix")&&(i3=r.Util.transform(i3,n4.getByName("FontMatrix"))),n4.setByName("FontMatrix",i3)}}const i2=e3.topDict.getByName("XUID");i2&&i2.length>16&&e3.topDict.removeByName("XUID"),e3.topDict.setByName("charset",0);let s2=this.compileTopDicts([e3.topDict],t3.length,e3.isCIDFont);t3.add(s2.output);const o2=s2.trackers[0],c2=this.compileStringIndex(e3.strings.strings);t3.add(c2);const l2=this.compileIndex(e3.globalSubrIndex);if(t3.add(l2),e3.encoding&&e3.topDict.hasName("Encoding"))if(e3.encoding.predefined)o2.setEntryLocation("Encoding",[e3.encoding.format],t3);else{const a4=this.compileEncoding(e3.encoding);o2.setEntryLocation("Encoding",[t3.length],t3),t3.add(a4)}const h2=this.compileCharset(e3.charset,e3.charStrings.count,e3.strings,e3.isCIDFont);o2.setEntryLocation("charset",[t3.length],t3),t3.add(h2);const u2=this.compileCharStrings(e3.charStrings);if(o2.setEntryLocation("CharStrings",[t3.length],t3),t3.add(u2),e3.isCIDFont){o2.setEntryLocation("FDSelect",[t3.length],t3);const a4=this.compileFDSelect(e3.fdSelect);t3.add(a4),s2=this.compileTopDicts(e3.fdArray,t3.length,!0),o2.setEntryLocation("FDArray",[t3.length],t3),t3.add(s2.output),this.compilePrivateDicts(e3.fdArray,s2.trackers,t3)}return this.compilePrivateDicts([e3.topDict],[o2],t3),t3.add([0]),t3.data}encodeNumber(e3){return Number.isInteger(e3)?this.encodeInteger(e3):this.encodeFloat(e3)}static get EncodeFloatRegExp(){return(0,r.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(e3){let t3=e3.toString();const a3=CFFCompiler.EncodeFloatRegExp.exec(t3);if(a3){const r3=parseFloat("1e"+((a3[2]?+a3[2]:0)+a3[1].length));t3=(Math.round(e3*r3)/r3).toString()}let r2,n2,i2="";for(r2=0,n2=t3.length;r2<n2;++r2){const e4=t3[r2];i2+="e"===e4?"-"===t3[++r2]?"c":"b":"."===e4?"a":"-"===e4?"e":e4}i2+=1&i2.length?"f":"ff";const s2=[30];for(r2=0,n2=i2.length;r2<n2;r2+=2)s2.push(parseInt(i2.substring(r2,r2+2),16));return s2}encodeInteger(e3){let t3;return t3=e3>=-107&&e3<=107?[e3+139]:e3>=108&&e3<=1131?[247+((e3-=108)>>8),255&e3]:e3>=-1131&&e3<=-108?[251+((e3=-e3-108)>>8),255&e3]:e3>=-32768&&e3<=32767?[28,e3>>8&255,255&e3]:[29,e3>>24&255,e3>>16&255,e3>>8&255,255&e3],t3}compileHeader(e3){return[e3.major,e3.minor,4,e3.offSize]}compileNameIndex(e3){const t3=new CFFIndex;for(let a3=0,n2=e3.length;a3<n2;++a3){const n3=e3[a3],i2=Math.min(n3.length,127);let s2=new Array(i2);for(let e4=0;e4<i2;e4++){let t4=n3[e4];(t4<"!"||t4>"~"||"["===t4||"]"===t4||"("===t4||")"===t4||"{"===t4||"}"===t4||"<"===t4||">"===t4||"/"===t4||"%"===t4)&&(t4="_"),s2[e4]=t4}s2=s2.join(""),""===s2&&(s2="Bad_Font_Name"),t3.add((0,r.stringToBytes)(s2))}return this.compileIndex(t3)}compileTopDicts(e3,t3,a3){const r2=[];let n2=new CFFIndex;for(let i2=0,s2=e3.length;i2<s2;++i2){const s3=e3[i2];a3&&(s3.removeByName("CIDFontVersion"),s3.removeByName("CIDFontRevision"),s3.removeByName("CIDFontType"),s3.removeByName("CIDCount"),s3.removeByName("UIDBase"));const o2=new CFFOffsetTracker,c2=this.compileDict(s3,o2);r2.push(o2),n2.add(c2),o2.offset(t3)}return n2=this.compileIndex(n2,r2),{trackers:r2,output:n2}}compilePrivateDicts(e3,t3,a3){for(let n2=0,i2=e3.length;n2<i2;++n2){const i3=e3[n2],s2=i3.privateDict;if(!s2||!i3.hasName("Private"))throw new r.FormatError("There must be a private dictionary.");const o2=new CFFOffsetTracker,c2=this.compileDict(s2,o2);let l2=a3.length;if(o2.offset(l2),c2.length||(l2=0),t3[n2].setEntryLocation("Private",[c2.length,l2],a3),a3.add(c2),s2.subrsIndex&&s2.hasName("Subrs")){const e4=this.compileIndex(s2.subrsIndex);o2.setEntryLocation("Subrs",[c2.length],a3),a3.add(e4)}}}compileDict(e3,t3){const a3=[];for(const n2 of e3.order){if(!(n2 in e3.values))continue;let i2=e3.values[n2],s2=e3.types[n2];if(Array.isArray(s2)||(s2=[s2]),Array.isArray(i2)||(i2=[i2]),0!==i2.length){for(let o2=0,c2=s2.length;o2<c2;++o2){const c3=s2[o2],l2=i2[o2];switch(c3){case"num":case"sid":a3.push(...this.encodeNumber(l2));break;case"offset":const s3=e3.keyToNameMap[n2];t3.isTracking(s3)||t3.track(s3,a3.length),a3.push(29,0,0,0,0);break;case"array":case"delta":a3.push(...this.encodeNumber(l2));for(let e4=1,t4=i2.length;e4<t4;++e4)a3.push(...this.encodeNumber(i2[e4]));break;default:throw new r.FormatError(`Unknown data type of ${c3}`)}}a3.push(...e3.opcodes[n2])}}return a3}compileStringIndex(e3){const t3=new CFFIndex;for(let a3=0,n2=e3.length;a3<n2;++a3)t3.add((0,r.stringToBytes)(e3[a3]));return this.compileIndex(t3)}compileGlobalSubrIndex(){this.out.writeByteArray(this.compileIndex(this.cff.globalSubrIndex))}compileCharStrings(e3){const t3=new CFFIndex;for(let a3=0;a3<e3.count;a3++){const r2=e3.get(a3);t3.add(0!==r2.length?r2:new Uint8Array([139,14]))}return this.compileIndex(t3)}compileCharset(e3,t3,a3,n2){let i2;const s2=t3-1;if(n2)i2=new Uint8Array([2,0,0,s2>>8&255,255&s2]);else{i2=new Uint8Array(1+2*s2),i2[0]=0;let t4=0;const n3=e3.charset.length;let o2=!1;for(let s3=1;s3<i2.length;s3+=2){let c2=0;if(t4<n3){const n4=e3.charset[t4++];c2=a3.getSID(n4),-1===c2&&(c2=0,o2||(o2=!0,(0,r.warn)(`Couldn't find ${n4} in CFF strings`)))}i2[s3]=c2>>8&255,i2[s3+1]=255&c2}}return this.compileTypedArray(i2)}compileEncoding(e3){return this.compileTypedArray(e3.raw)}compileFDSelect(e3){const t3=e3.format;let a3,r2;switch(t3){case 0:for(a3=new Uint8Array(1+e3.fdSelect.length),a3[0]=t3,r2=0;r2<e3.fdSelect.length;r2++)a3[r2+1]=e3.fdSelect[r2];break;case 3:const n2=0;let i2=e3.fdSelect[0];const s2=[t3,0,0,n2>>8&255,255&n2,i2];for(r2=1;r2<e3.fdSelect.length;r2++){const t4=e3.fdSelect[r2];t4!==i2&&(s2.push(r2>>8&255,255&r2,t4),i2=t4)}const o2=(s2.length-3)/3;s2[1]=o2>>8&255,s2[2]=255&o2,s2.push(r2>>8&255,255&r2),a3=new Uint8Array(s2)}return this.compileTypedArray(a3)}compileTypedArray(e3){const t3=[];for(let a3=0,r2=e3.length;a3<r2;++a3)t3[a3]=e3[a3];return t3}compileIndex(e3,t3=[]){const a3=e3.objects,r2=a3.length;if(0===r2)return[0,0];const n2=[r2>>8&255,255&r2];let i2,s2,o2=1;for(i2=0;i2<r2;++i2)o2+=a3[i2].length;s2=o2<256?1:o2<65536?2:o2<16777216?3:4,n2.push(s2);let c2=1;for(i2=0;i2<r2+1;i2++)1===s2?n2.push(255&c2):2===s2?n2.push(c2>>8&255,255&c2):3===s2?n2.push(c2>>16&255,c2>>8&255,255&c2):n2.push(c2>>>24&255,c2>>16&255,c2>>8&255,255&c2),a3[i2]&&(c2+=a3[i2].length);for(i2=0;i2<r2;i2++){t3[i2]&&t3[i2].offset(n2.length);for(let e4=0,t4=a3[i2].length;e4<t4;e4++)n2.push(a3[i2][e4])}return n2}}t2.CFFCompiler=CFFCompiler},(e2,t2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.ISOAdobeCharset=t2.ExpertSubsetCharset=t2.ExpertCharset=void 0,t2.ISOAdobeCharset=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],t2.ExpertCharset=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],t2.ExpertSubsetCharset=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"]},(e2,t2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.ZapfDingbatsEncoding=t2.WinAnsiEncoding=t2.SymbolSetEncoding=t2.StandardEncoding=t2.MacRomanEncoding=t2.ExpertEncoding=void 0,t2.getEncoding=function(e3){switch(e3){case"WinAnsiEncoding":return s;case"StandardEncoding":return i;case"MacRomanEncoding":return n;case"SymbolSetEncoding":return o;case"ZapfDingbatsEncoding":return c;case"ExpertEncoding":return a2;case"MacExpertEncoding":return r;default:return null}};const a2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];t2.ExpertEncoding=a2;const r=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],n=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];t2.MacRomanEncoding=n;const i=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];t2.StandardEncoding=i;const s=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];t2.WinAnsiEncoding=s;const o=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];t2.SymbolSetEncoding=o;const c=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];t2.ZapfDingbatsEncoding=c},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.SEAC_ANALYSIS_ENABLED=t2.MacStandardGlyphOrdering=t2.FontFlags=void 0,t2.getFontType=function(e3,t3,a3=!1){switch(e3){case"Type1":return a3?r.FontType.TYPE1STANDARD:"Type1C"===t3?r.FontType.TYPE1C:r.FontType.TYPE1;case"CIDFontType0":return"CIDFontType0C"===t3?r.FontType.CIDFONTTYPE0C:r.FontType.CIDFONTTYPE0;case"OpenType":return r.FontType.OPENTYPE;case"TrueType":return r.FontType.TRUETYPE;case"CIDFontType2":return r.FontType.CIDFONTTYPE2;case"MMType1":return r.FontType.MMTYPE1;case"Type0":return r.FontType.TYPE0;default:return r.FontType.UNKNOWN}},t2.normalizeFontName=function(e3){return e3.replace(/[,_]/g,"-").replace(/\s/g,"")},t2.recoverGlyphName=recoverGlyphName,t2.type1FontGlyphMapping=function(e3,t3,a3){const r2=Object.create(null);let s2,c,l;const h=!!(e3.flags&o.Symbolic);if(e3.isInternalFont)for(l=t3,c=0;c<l.length;c++)s2=a3.indexOf(l[c]),r2[c]=s2>=0?s2:0;else if(e3.baseEncodingName)for(l=(0,n.getEncoding)(e3.baseEncodingName),c=0;c<l.length;c++)s2=a3.indexOf(l[c]),r2[c]=s2>=0?s2:0;else if(h)for(c in t3)r2[c]=t3[c];else for(l=n.StandardEncoding,c=0;c<l.length;c++)s2=a3.indexOf(l[c]),r2[c]=s2>=0?s2:0;const u=e3.differences;let d;if(u)for(c in u){const e4=u[c];if(s2=a3.indexOf(e4),-1===s2){d||(d=(0,i.getGlyphsUnicode)());const t4=recoverGlyphName(e4,d);t4!==e4&&(s2=a3.indexOf(t4))}r2[c]=s2>=0?s2:0}return r2};var r=a2(2),n=a2(37),i=a2(39),s=a2(40);t2.SEAC_ANALYSIS_ENABLED=!0;const o={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};function recoverGlyphName(e3,t3){if(void 0!==t3[e3])return e3;const a3=(0,s.getUnicodeForGlyph)(e3,t3);if(-1!==a3)for(const e4 in t3)if(t3[e4]===a3)return e4;return(0,r.info)("Unable to recover a standard glyph name for: "+e3),e3}t2.FontFlags=o,t2.MacStandardGlyphOrdering=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"]},(e2,t2,a2)=>{a2.r(t2),a2.d(t2,{getDingbatsGlyphsUnicode:()=>i,getGlyphsUnicode:()=>n});var r=a2(6);const n=(0,r.getArrayLookupTableFactory)(function(){return["A",65,"AE",198,"AEacute",508,"AEmacron",482,"AEsmall",63462,"Aacute",193,"Aacutesmall",63457,"Abreve",258,"Abreveacute",7854,"Abrevecyrillic",1232,"Abrevedotbelow",7862,"Abrevegrave",7856,"Abrevehookabove",7858,"Abrevetilde",7860,"Acaron",461,"Acircle",9398,"Acircumflex",194,"Acircumflexacute",7844,"Acircumflexdotbelow",7852,"Acircumflexgrave",7846,"Acircumflexhookabove",7848,"Acircumflexsmall",63458,"Acircumflextilde",7850,"Acute",63177,"Acutesmall",63412,"Acyrillic",1040,"Adblgrave",512,"Adieresis",196,"Adieresiscyrillic",1234,"Adieresismacron",478,"Adieresissmall",63460,"Adotbelow",7840,"Adotmacron",480,"Agrave",192,"Agravesmall",63456,"Ahookabove",7842,"Aiecyrillic",1236,"Ainvertedbreve",514,"Alpha",913,"Alphatonos",902,"Amacron",256,"Amonospace",65313,"Aogonek",260,"Aring",197,"Aringacute",506,"Aringbelow",7680,"Aringsmall",63461,"Asmall",63329,"Atilde",195,"Atildesmall",63459,"Aybarmenian",1329,"B",66,"Bcircle",9399,"Bdotaccent",7682,"Bdotbelow",7684,"Becyrillic",1041,"Benarmenian",1330,"Beta",914,"Bhook",385,"Blinebelow",7686,"Bmonospace",65314,"Brevesmall",63220,"Bsmall",63330,"Btopbar",386,"C",67,"Caarmenian",1342,"Cacute",262,"Caron",63178,"Caronsmall",63221,"Ccaron",268,"Ccedilla",199,"Ccedillaacute",7688,"Ccedillasmall",63463,"Ccircle",9400,"Ccircumflex",264,"Cdot",266,"Cdotaccent",266,"Cedillasmall",63416,"Chaarmenian",1353,"Cheabkhasiancyrillic",1212,"Checyrillic",1063,"Chedescenderabkhasiancyrillic",1214,"Chedescendercyrillic",1206,"Chedieresiscyrillic",1268,"Cheharmenian",1347,"Chekhakassiancyrillic",1227,"Cheverticalstrokecyrillic",1208,"Chi",935,"Chook",391,"Circumflexsmall",63222,"Cmonospace",65315,"Coarmenian",1361,"Csmall",63331,"D",68,"DZ",497,"DZcaron",452,"Daarmenian",1332,"Dafrican",393,"Dcaron",270,"Dcedilla",7696,"Dcircle",9401,"Dcircumflexbelow",7698,"Dcroat",272,"Ddotaccent",7690,"Ddotbelow",7692,"Decyrillic",1044,"Deicoptic",1006,"Delta",8710,"Deltagreek",916,"Dhook",394,"Dieresis",63179,"DieresisAcute",63180,"DieresisGrave",63181,"Dieresissmall",63400,"Digammagreek",988,"Djecyrillic",1026,"Dlinebelow",7694,"Dmonospace",65316,"Dotaccentsmall",63223,"Dslash",272,"Dsmall",63332,"Dtopbar",395,"Dz",498,"Dzcaron",453,"Dzeabkhasiancyrillic",1248,"Dzecyrillic",1029,"Dzhecyrillic",1039,"E",69,"Eacute",201,"Eacutesmall",63465,"Ebreve",276,"Ecaron",282,"Ecedillabreve",7708,"Echarmenian",1333,"Ecircle",9402,"Ecircumflex",202,"Ecircumflexacute",7870,"Ecircumflexbelow",7704,"Ecircumflexdotbelow",7878,"Ecircumflexgrave",7872,"Ecircumflexhookabove",7874,"Ecircumflexsmall",63466,"Ecircumflextilde",7876,"Ecyrillic",1028,"Edblgrave",516,"Edieresis",203,"Edieresissmall",63467,"Edot",278,"Edotaccent",278,"Edotbelow",7864,"Efcyrillic",1060,"Egrave",200,"Egravesmall",63464,"Eharmenian",1335,"Ehookabove",7866,"Eightroman",8551,"Einvertedbreve",518,"Eiotifiedcyrillic",1124,"Elcyrillic",1051,"Elevenroman",8554,"Emacron",274,"Emacronacute",7702,"Emacrongrave",7700,"Emcyrillic",1052,"Emonospace",65317,"Encyrillic",1053,"Endescendercyrillic",1186,"Eng",330,"Enghecyrillic",1188,"Enhookcyrillic",1223,"Eogonek",280,"Eopen",400,"Epsilon",917,"Epsilontonos",904,"Ercyrillic",1056,"Ereversed",398,"Ereversedcyrillic",1069,"Escyrillic",1057,"Esdescendercyrillic",1194,"Esh",425,"Esmall",63333,"Eta",919,"Etarmenian",1336,"Etatonos",905,"Eth",208,"Ethsmall",63472,"Etilde",7868,"Etildebelow",7706,"Euro",8364,"Ezh",439,"Ezhcaron",494,"Ezhreversed",440,"F",70,"Fcircle",9403,"Fdotaccent",7710,"Feharmenian",1366,"Feicoptic",996,"Fhook",401,"Fitacyrillic",1138,"Fiveroman",8548,"Fmonospace",65318,"Fourroman",8547,"Fsmall",63334,"G",71,"GBsquare",13191,"Gacute",500,"Gamma",915,"Gammaafrican",404,"Gangiacoptic",1002,"Gbreve",286,"Gcaron",486,"Gcedilla",290,"Gcircle",9404,"Gcircumflex",284,"Gcommaaccent",290,"Gdot",288,"Gdotaccent",288,"Gecyrillic",1043,"Ghadarmenian",1346,"Ghemiddlehookcyrillic",1172,"Ghestrokecyrillic",1170,"Gheupturncyrillic",1168,"Ghook",403,"Gimarmenian",1331,"Gjecyrillic",1027,"Gmacron",7712,"Gmonospace",65319,"Grave",63182,"Gravesmall",63328,"Gsmall",63335,"Gsmallhook",667,"Gstroke",484,"H",72,"H18533",9679,"H18543",9642,"H18551",9643,"H22073",9633,"HPsquare",13259,"Haabkhasiancyrillic",1192,"Hadescendercyrillic",1202,"Hardsigncyrillic",1066,"Hbar",294,"Hbrevebelow",7722,"Hcedilla",7720,"Hcircle",9405,"Hcircumflex",292,"Hdieresis",7718,"Hdotaccent",7714,"Hdotbelow",7716,"Hmonospace",65320,"Hoarmenian",1344,"Horicoptic",1e3,"Hsmall",63336,"Hungarumlaut",63183,"Hungarumlautsmall",63224,"Hzsquare",13200,"I",73,"IAcyrillic",1071,"IJ",306,"IUcyrillic",1070,"Iacute",205,"Iacutesmall",63469,"Ibreve",300,"Icaron",463,"Icircle",9406,"Icircumflex",206,"Icircumflexsmall",63470,"Icyrillic",1030,"Idblgrave",520,"Idieresis",207,"Idieresisacute",7726,"Idieresiscyrillic",1252,"Idieresissmall",63471,"Idot",304,"Idotaccent",304,"Idotbelow",7882,"Iebrevecyrillic",1238,"Iecyrillic",1045,"Ifraktur",8465,"Igrave",204,"Igravesmall",63468,"Ihookabove",7880,"Iicyrillic",1048,"Iinvertedbreve",522,"Iishortcyrillic",1049,"Imacron",298,"Imacroncyrillic",1250,"Imonospace",65321,"Iniarmenian",1339,"Iocyrillic",1025,"Iogonek",302,"Iota",921,"Iotaafrican",406,"Iotadieresis",938,"Iotatonos",906,"Ismall",63337,"Istroke",407,"Itilde",296,"Itildebelow",7724,"Izhitsacyrillic",1140,"Izhitsadblgravecyrillic",1142,"J",74,"Jaarmenian",1345,"Jcircle",9407,"Jcircumflex",308,"Jecyrillic",1032,"Jheharmenian",1355,"Jmonospace",65322,"Jsmall",63338,"K",75,"KBsquare",13189,"KKsquare",13261,"Kabashkircyrillic",1184,"Kacute",7728,"Kacyrillic",1050,"Kadescendercyrillic",1178,"Kahookcyrillic",1219,"Kappa",922,"Kastrokecyrillic",1182,"Kaverticalstrokecyrillic",1180,"Kcaron",488,"Kcedilla",310,"Kcircle",9408,"Kcommaaccent",310,"Kdotbelow",7730,"Keharmenian",1364,"Kenarmenian",1343,"Khacyrillic",1061,"Kheicoptic",998,"Khook",408,"Kjecyrillic",1036,"Klinebelow",7732,"Kmonospace",65323,"Koppacyrillic",1152,"Koppagreek",990,"Ksicyrillic",1134,"Ksmall",63339,"L",76,"LJ",455,"LL",63167,"Lacute",313,"Lambda",923,"Lcaron",317,"Lcedilla",315,"Lcircle",9409,"Lcircumflexbelow",7740,"Lcommaaccent",315,"Ldot",319,"Ldotaccent",319,"Ldotbelow",7734,"Ldotbelowmacron",7736,"Liwnarmenian",1340,"Lj",456,"Ljecyrillic",1033,"Llinebelow",7738,"Lmonospace",65324,"Lslash",321,"Lslashsmall",63225,"Lsmall",63340,"M",77,"MBsquare",13190,"Macron",63184,"Macronsmall",63407,"Macute",7742,"Mcircle",9410,"Mdotaccent",7744,"Mdotbelow",7746,"Menarmenian",1348,"Mmonospace",65325,"Msmall",63341,"Mturned",412,"Mu",924,"N",78,"NJ",458,"Nacute",323,"Ncaron",327,"Ncedilla",325,"Ncircle",9411,"Ncircumflexbelow",7754,"Ncommaaccent",325,"Ndotaccent",7748,"Ndotbelow",7750,"Nhookleft",413,"Nineroman",8552,"Nj",459,"Njecyrillic",1034,"Nlinebelow",7752,"Nmonospace",65326,"Nowarmenian",1350,"Nsmall",63342,"Ntilde",209,"Ntildesmall",63473,"Nu",925,"O",79,"OE",338,"OEsmall",63226,"Oacute",211,"Oacutesmall",63475,"Obarredcyrillic",1256,"Obarreddieresiscyrillic",1258,"Obreve",334,"Ocaron",465,"Ocenteredtilde",415,"Ocircle",9412,"Ocircumflex",212,"Ocircumflexacute",7888,"Ocircumflexdotbelow",7896,"Ocircumflexgrave",7890,"Ocircumflexhookabove",7892,"Ocircumflexsmall",63476,"Ocircumflextilde",7894,"Ocyrillic",1054,"Odblacute",336,"Odblgrave",524,"Odieresis",214,"Odieresiscyrillic",1254,"Odieresissmall",63478,"Odotbelow",7884,"Ogoneksmall",63227,"Ograve",210,"Ogravesmall",63474,"Oharmenian",1365,"Ohm",8486,"Ohookabove",7886,"Ohorn",416,"Ohornacute",7898,"Ohorndotbelow",7906,"Ohorngrave",7900,"Ohornhookabove",7902,"Ohorntilde",7904,"Ohungarumlaut",336,"Oi",418,"Oinvertedbreve",526,"Omacron",332,"Omacronacute",7762,"Omacrongrave",7760,"Omega",8486,"Omegacyrillic",1120,"Omegagreek",937,"Omegaroundcyrillic",1146,"Omegatitlocyrillic",1148,"Omegatonos",911,"Omicron",927,"Omicrontonos",908,"Omonospace",65327,"Oneroman",8544,"Oogonek",490,"Oogonekmacron",492,"Oopen",390,"Oslash",216,"Oslashacute",510,"Oslashsmall",63480,"Osmall",63343,"Ostrokeacute",510,"Otcyrillic",1150,"Otilde",213,"Otildeacute",7756,"Otildedieresis",7758,"Otildesmall",63477,"P",80,"Pacute",7764,"Pcircle",9413,"Pdotaccent",7766,"Pecyrillic",1055,"Peharmenian",1354,"Pemiddlehookcyrillic",1190,"Phi",934,"Phook",420,"Pi",928,"Piwrarmenian",1363,"Pmonospace",65328,"Psi",936,"Psicyrillic",1136,"Psmall",63344,"Q",81,"Qcircle",9414,"Qmonospace",65329,"Qsmall",63345,"R",82,"Raarmenian",1356,"Racute",340,"Rcaron",344,"Rcedilla",342,"Rcircle",9415,"Rcommaaccent",342,"Rdblgrave",528,"Rdotaccent",7768,"Rdotbelow",7770,"Rdotbelowmacron",7772,"Reharmenian",1360,"Rfraktur",8476,"Rho",929,"Ringsmall",63228,"Rinvertedbreve",530,"Rlinebelow",7774,"Rmonospace",65330,"Rsmall",63346,"Rsmallinverted",641,"Rsmallinvertedsuperior",694,"S",83,"SF010000",9484,"SF020000",9492,"SF030000",9488,"SF040000",9496,"SF050000",9532,"SF060000",9516,"SF070000",9524,"SF080000",9500,"SF090000",9508,"SF100000",9472,"SF110000",9474,"SF190000",9569,"SF200000",9570,"SF210000",9558,"SF220000",9557,"SF230000",9571,"SF240000",9553,"SF250000",9559,"SF260000",9565,"SF270000",9564,"SF280000",9563,"SF360000",9566,"SF370000",9567,"SF380000",9562,"SF390000",9556,"SF400000",9577,"SF410000",9574,"SF420000",9568,"SF430000",9552,"SF440000",9580,"SF450000",9575,"SF460000",9576,"SF470000",9572,"SF480000",9573,"SF490000",9561,"SF500000",9560,"SF510000",9554,"SF520000",9555,"SF530000",9579,"SF540000",9578,"Sacute",346,"Sacutedotaccent",7780,"Sampigreek",992,"Scaron",352,"Scarondotaccent",7782,"Scaronsmall",63229,"Scedilla",350,"Schwa",399,"Schwacyrillic",1240,"Schwadieresiscyrillic",1242,"Scircle",9416,"Scircumflex",348,"Scommaaccent",536,"Sdotaccent",7776,"Sdotbelow",7778,"Sdotbelowdotaccent",7784,"Seharmenian",1357,"Sevenroman",8550,"Shaarmenian",1351,"Shacyrillic",1064,"Shchacyrillic",1065,"Sheicoptic",994,"Shhacyrillic",1210,"Shimacoptic",1004,"Sigma",931,"Sixroman",8549,"Smonospace",65331,"Softsigncyrillic",1068,"Ssmall",63347,"Stigmagreek",986,"T",84,"Tau",932,"Tbar",358,"Tcaron",356,"Tcedilla",354,"Tcircle",9417,"Tcircumflexbelow",7792,"Tcommaaccent",354,"Tdotaccent",7786,"Tdotbelow",7788,"Tecyrillic",1058,"Tedescendercyrillic",1196,"Tenroman",8553,"Tetsecyrillic",1204,"Theta",920,"Thook",428,"Thorn",222,"Thornsmall",63486,"Threeroman",8546,"Tildesmall",63230,"Tiwnarmenian",1359,"Tlinebelow",7790,"Tmonospace",65332,"Toarmenian",1337,"Tonefive",444,"Tonesix",388,"Tonetwo",423,"Tretroflexhook",430,"Tsecyrillic",1062,"Tshecyrillic",1035,"Tsmall",63348,"Twelveroman",8555,"Tworoman",8545,"U",85,"Uacute",218,"Uacutesmall",63482,"Ubreve",364,"Ucaron",467,"Ucircle",9418,"Ucircumflex",219,"Ucircumflexbelow",7798,"Ucircumflexsmall",63483,"Ucyrillic",1059,"Udblacute",368,"Udblgrave",532,"Udieresis",220,"Udieresisacute",471,"Udieresisbelow",7794,"Udieresiscaron",473,"Udieresiscyrillic",1264,"Udieresisgrave",475,"Udieresismacron",469,"Udieresissmall",63484,"Udotbelow",7908,"Ugrave",217,"Ugravesmall",63481,"Uhookabove",7910,"Uhorn",431,"Uhornacute",7912,"Uhorndotbelow",7920,"Uhorngrave",7914,"Uhornhookabove",7916,"Uhorntilde",7918,"Uhungarumlaut",368,"Uhungarumlautcyrillic",1266,"Uinvertedbreve",534,"Ukcyrillic",1144,"Umacron",362,"Umacroncyrillic",1262,"Umacrondieresis",7802,"Umonospace",65333,"Uogonek",370,"Upsilon",933,"Upsilon1",978,"Upsilonacutehooksymbolgreek",979,"Upsilonafrican",433,"Upsilondieresis",939,"Upsilondieresishooksymbolgreek",980,"Upsilonhooksymbol",978,"Upsilontonos",910,"Uring",366,"Ushortcyrillic",1038,"Usmall",63349,"Ustraightcyrillic",1198,"Ustraightstrokecyrillic",1200,"Utilde",360,"Utildeacute",7800,"Utildebelow",7796,"V",86,"Vcircle",9419,"Vdotbelow",7806,"Vecyrillic",1042,"Vewarmenian",1358,"Vhook",434,"Vmonospace",65334,"Voarmenian",1352,"Vsmall",63350,"Vtilde",7804,"W",87,"Wacute",7810,"Wcircle",9420,"Wcircumflex",372,"Wdieresis",7812,"Wdotaccent",7814,"Wdotbelow",7816,"Wgrave",7808,"Wmonospace",65335,"Wsmall",63351,"X",88,"Xcircle",9421,"Xdieresis",7820,"Xdotaccent",7818,"Xeharmenian",1341,"Xi",926,"Xmonospace",65336,"Xsmall",63352,"Y",89,"Yacute",221,"Yacutesmall",63485,"Yatcyrillic",1122,"Ycircle",9422,"Ycircumflex",374,"Ydieresis",376,"Ydieresissmall",63487,"Ydotaccent",7822,"Ydotbelow",7924,"Yericyrillic",1067,"Yerudieresiscyrillic",1272,"Ygrave",7922,"Yhook",435,"Yhookabove",7926,"Yiarmenian",1349,"Yicyrillic",1031,"Yiwnarmenian",1362,"Ymonospace",65337,"Ysmall",63353,"Ytilde",7928,"Yusbigcyrillic",1130,"Yusbigiotifiedcyrillic",1132,"Yuslittlecyrillic",1126,"Yuslittleiotifiedcyrillic",1128,"Z",90,"Zaarmenian",1334,"Zacute",377,"Zcaron",381,"Zcaronsmall",63231,"Zcircle",9423,"Zcircumflex",7824,"Zdot",379,"Zdotaccent",379,"Zdotbelow",7826,"Zecyrillic",1047,"Zedescendercyrillic",1176,"Zedieresiscyrillic",1246,"Zeta",918,"Zhearmenian",1338,"Zhebrevecyrillic",1217,"Zhecyrillic",1046,"Zhedescendercyrillic",1174,"Zhedieresiscyrillic",1244,"Zlinebelow",7828,"Zmonospace",65338,"Zsmall",63354,"Zstroke",437,"a",97,"aabengali",2438,"aacute",225,"aadeva",2310,"aagujarati",2694,"aagurmukhi",2566,"aamatragurmukhi",2622,"aarusquare",13059,"aavowelsignbengali",2494,"aavowelsigndeva",2366,"aavowelsigngujarati",2750,"abbreviationmarkarmenian",1375,"abbreviationsigndeva",2416,"abengali",2437,"abopomofo",12570,"abreve",259,"abreveacute",7855,"abrevecyrillic",1233,"abrevedotbelow",7863,"abrevegrave",7857,"abrevehookabove",7859,"abrevetilde",7861,"acaron",462,"acircle",9424,"acircumflex",226,"acircumflexacute",7845,"acircumflexdotbelow",7853,"acircumflexgrave",7847,"acircumflexhookabove",7849,"acircumflextilde",7851,"acute",180,"acutebelowcmb",791,"acutecmb",769,"acutecomb",769,"acutedeva",2388,"acutelowmod",719,"acutetonecmb",833,"acyrillic",1072,"adblgrave",513,"addakgurmukhi",2673,"adeva",2309,"adieresis",228,"adieresiscyrillic",1235,"adieresismacron",479,"adotbelow",7841,"adotmacron",481,"ae",230,"aeacute",509,"aekorean",12624,"aemacron",483,"afii00208",8213,"afii08941",8356,"afii10017",1040,"afii10018",1041,"afii10019",1042,"afii10020",1043,"afii10021",1044,"afii10022",1045,"afii10023",1025,"afii10024",1046,"afii10025",1047,"afii10026",1048,"afii10027",1049,"afii10028",1050,"afii10029",1051,"afii10030",1052,"afii10031",1053,"afii10032",1054,"afii10033",1055,"afii10034",1056,"afii10035",1057,"afii10036",1058,"afii10037",1059,"afii10038",1060,"afii10039",1061,"afii10040",1062,"afii10041",1063,"afii10042",1064,"afii10043",1065,"afii10044",1066,"afii10045",1067,"afii10046",1068,"afii10047",1069,"afii10048",1070,"afii10049",1071,"afii10050",1168,"afii10051",1026,"afii10052",1027,"afii10053",1028,"afii10054",1029,"afii10055",1030,"afii10056",1031,"afii10057",1032,"afii10058",1033,"afii10059",1034,"afii10060",1035,"afii10061",1036,"afii10062",1038,"afii10063",63172,"afii10064",63173,"afii10065",1072,"afii10066",1073,"afii10067",1074,"afii10068",1075,"afii10069",1076,"afii10070",1077,"afii10071",1105,"afii10072",1078,"afii10073",1079,"afii10074",1080,"afii10075",1081,"afii10076",1082,"afii10077",1083,"afii10078",1084,"afii10079",1085,"afii10080",1086,"afii10081",1087,"afii10082",1088,"afii10083",1089,"afii10084",1090,"afii10085",1091,"afii10086",1092,"afii10087",1093,"afii10088",1094,"afii10089",1095,"afii10090",1096,"afii10091",1097,"afii10092",1098,"afii10093",1099,"afii10094",1100,"afii10095",1101,"afii10096",1102,"afii10097",1103,"afii10098",1169,"afii10099",1106,"afii10100",1107,"afii10101",1108,"afii10102",1109,"afii10103",1110,"afii10104",1111,"afii10105",1112,"afii10106",1113,"afii10107",1114,"afii10108",1115,"afii10109",1116,"afii10110",1118,"afii10145",1039,"afii10146",1122,"afii10147",1138,"afii10148",1140,"afii10192",63174,"afii10193",1119,"afii10194",1123,"afii10195",1139,"afii10196",1141,"afii10831",63175,"afii10832",63176,"afii10846",1241,"afii299",8206,"afii300",8207,"afii301",8205,"afii57381",1642,"afii57388",1548,"afii57392",1632,"afii57393",1633,"afii57394",1634,"afii57395",1635,"afii57396",1636,"afii57397",1637,"afii57398",1638,"afii57399",1639,"afii57400",1640,"afii57401",1641,"afii57403",1563,"afii57407",1567,"afii57409",1569,"afii57410",1570,"afii57411",1571,"afii57412",1572,"afii57413",1573,"afii57414",1574,"afii57415",1575,"afii57416",1576,"afii57417",1577,"afii57418",1578,"afii57419",1579,"afii57420",1580,"afii57421",1581,"afii57422",1582,"afii57423",1583,"afii57424",1584,"afii57425",1585,"afii57426",1586,"afii57427",1587,"afii57428",1588,"afii57429",1589,"afii57430",1590,"afii57431",1591,"afii57432",1592,"afii57433",1593,"afii57434",1594,"afii57440",1600,"afii57441",1601,"afii57442",1602,"afii57443",1603,"afii57444",1604,"afii57445",1605,"afii57446",1606,"afii57448",1608,"afii57449",1609,"afii57450",1610,"afii57451",1611,"afii57452",1612,"afii57453",1613,"afii57454",1614,"afii57455",1615,"afii57456",1616,"afii57457",1617,"afii57458",1618,"afii57470",1607,"afii57505",1700,"afii57506",1662,"afii57507",1670,"afii57508",1688,"afii57509",1711,"afii57511",1657,"afii57512",1672,"afii57513",1681,"afii57514",1722,"afii57519",1746,"afii57534",1749,"afii57636",8362,"afii57645",1470,"afii57658",1475,"afii57664",1488,"afii57665",1489,"afii57666",1490,"afii57667",1491,"afii57668",1492,"afii57669",1493,"afii57670",1494,"afii57671",1495,"afii57672",1496,"afii57673",1497,"afii57674",1498,"afii57675",1499,"afii57676",1500,"afii57677",1501,"afii57678",1502,"afii57679",1503,"afii57680",1504,"afii57681",1505,"afii57682",1506,"afii57683",1507,"afii57684",1508,"afii57685",1509,"afii57686",1510,"afii57687",1511,"afii57688",1512,"afii57689",1513,"afii57690",1514,"afii57694",64298,"afii57695",64299,"afii57700",64331,"afii57705",64287,"afii57716",1520,"afii57717",1521,"afii57718",1522,"afii57723",64309,"afii57793",1460,"afii57794",1461,"afii57795",1462,"afii57796",1467,"afii57797",1464,"afii57798",1463,"afii57799",1456,"afii57800",1458,"afii57801",1457,"afii57802",1459,"afii57803",1474,"afii57804",1473,"afii57806",1465,"afii57807",1468,"afii57839",1469,"afii57841",1471,"afii57842",1472,"afii57929",700,"afii61248",8453,"afii61289",8467,"afii61352",8470,"afii61573",8236,"afii61574",8237,"afii61575",8238,"afii61664",8204,"afii63167",1645,"afii64937",701,"agrave",224,"agujarati",2693,"agurmukhi",2565,"ahiragana",12354,"ahookabove",7843,"aibengali",2448,"aibopomofo",12574,"aideva",2320,"aiecyrillic",1237,"aigujarati",2704,"aigurmukhi",2576,"aimatragurmukhi",2632,"ainarabic",1593,"ainfinalarabic",65226,"aininitialarabic",65227,"ainmedialarabic",65228,"ainvertedbreve",515,"aivowelsignbengali",2504,"aivowelsigndeva",2376,"aivowelsigngujarati",2760,"akatakana",12450,"akatakanahalfwidth",65393,"akorean",12623,"alef",1488,"alefarabic",1575,"alefdageshhebrew",64304,"aleffinalarabic",65166,"alefhamzaabovearabic",1571,"alefhamzaabovefinalarabic",65156,"alefhamzabelowarabic",1573,"alefhamzabelowfinalarabic",65160,"alefhebrew",1488,"aleflamedhebrew",64335,"alefmaddaabovearabic",1570,"alefmaddaabovefinalarabic",65154,"alefmaksuraarabic",1609,"alefmaksurafinalarabic",65264,"alefmaksurainitialarabic",65267,"alefmaksuramedialarabic",65268,"alefpatahhebrew",64302,"alefqamatshebrew",64303,"aleph",8501,"allequal",8780,"alpha",945,"alphatonos",940,"amacron",257,"amonospace",65345,"ampersand",38,"ampersandmonospace",65286,"ampersandsmall",63270,"amsquare",13250,"anbopomofo",12578,"angbopomofo",12580,"angbracketleft",12296,"angbracketright",12297,"angkhankhuthai",3674,"angle",8736,"anglebracketleft",12296,"anglebracketleftvertical",65087,"anglebracketright",12297,"anglebracketrightvertical",65088,"angleleft",9001,"angleright",9002,"angstrom",8491,"anoteleia",903,"anudattadeva",2386,"anusvarabengali",2434,"anusvaradeva",2306,"anusvaragujarati",2690,"aogonek",261,"apaatosquare",13056,"aparen",9372,"apostrophearmenian",1370,"apostrophemod",700,"apple",63743,"approaches",8784,"approxequal",8776,"approxequalorimage",8786,"approximatelyequal",8773,"araeaekorean",12686,"araeakorean",12685,"arc",8978,"arighthalfring",7834,"aring",229,"aringacute",507,"aringbelow",7681,"arrowboth",8596,"arrowdashdown",8675,"arrowdashleft",8672,"arrowdashright",8674,"arrowdashup",8673,"arrowdblboth",8660,"arrowdbldown",8659,"arrowdblleft",8656,"arrowdblright",8658,"arrowdblup",8657,"arrowdown",8595,"arrowdownleft",8601,"arrowdownright",8600,"arrowdownwhite",8681,"arrowheaddownmod",709,"arrowheadleftmod",706,"arrowheadrightmod",707,"arrowheadupmod",708,"arrowhorizex",63719,"arrowleft",8592,"arrowleftdbl",8656,"arrowleftdblstroke",8653,"arrowleftoverright",8646,"arrowleftwhite",8678,"arrowright",8594,"arrowrightdblstroke",8655,"arrowrightheavy",10142,"arrowrightoverleft",8644,"arrowrightwhite",8680,"arrowtableft",8676,"arrowtabright",8677,"arrowup",8593,"arrowupdn",8597,"arrowupdnbse",8616,"arrowupdownbase",8616,"arrowupleft",8598,"arrowupleftofdown",8645,"arrowupright",8599,"arrowupwhite",8679,"arrowvertex",63718,"asciicircum",94,"asciicircummonospace",65342,"asciitilde",126,"asciitildemonospace",65374,"ascript",593,"ascriptturned",594,"asmallhiragana",12353,"asmallkatakana",12449,"asmallkatakanahalfwidth",65383,"asterisk",42,"asteriskaltonearabic",1645,"asteriskarabic",1645,"asteriskmath",8727,"asteriskmonospace",65290,"asterisksmall",65121,"asterism",8258,"asuperior",63209,"asymptoticallyequal",8771,"at",64,"atilde",227,"atmonospace",65312,"atsmall",65131,"aturned",592,"aubengali",2452,"aubopomofo",12576,"audeva",2324,"augujarati",2708,"augurmukhi",2580,"aulengthmarkbengali",2519,"aumatragurmukhi",2636,"auvowelsignbengali",2508,"auvowelsigndeva",2380,"auvowelsigngujarati",2764,"avagrahadeva",2365,"aybarmenian",1377,"ayin",1506,"ayinaltonehebrew",64288,"ayinhebrew",1506,"b",98,"babengali",2476,"backslash",92,"backslashmonospace",65340,"badeva",2348,"bagujarati",2732,"bagurmukhi",2604,"bahiragana",12400,"bahtthai",3647,"bakatakana",12496,"bar",124,"barmonospace",65372,"bbopomofo",12549,"bcircle",9425,"bdotaccent",7683,"bdotbelow",7685,"beamedsixteenthnotes",9836,"because",8757,"becyrillic",1073,"beharabic",1576,"behfinalarabic",65168,"behinitialarabic",65169,"behiragana",12409,"behmedialarabic",65170,"behmeeminitialarabic",64671,"behmeemisolatedarabic",64520,"behnoonfinalarabic",64621,"bekatakana",12505,"benarmenian",1378,"bet",1489,"beta",946,"betasymbolgreek",976,"betdagesh",64305,"betdageshhebrew",64305,"bethebrew",1489,"betrafehebrew",64332,"bhabengali",2477,"bhadeva",2349,"bhagujarati",2733,"bhagurmukhi",2605,"bhook",595,"bihiragana",12403,"bikatakana",12499,"bilabialclick",664,"bindigurmukhi",2562,"birusquare",13105,"blackcircle",9679,"blackdiamond",9670,"blackdownpointingtriangle",9660,"blackleftpointingpointer",9668,"blackleftpointingtriangle",9664,"blacklenticularbracketleft",12304,"blacklenticularbracketleftvertical",65083,"blacklenticularbracketright",12305,"blacklenticularbracketrightvertical",65084,"blacklowerlefttriangle",9699,"blacklowerrighttriangle",9698,"blackrectangle",9644,"blackrightpointingpointer",9658,"blackrightpointingtriangle",9654,"blacksmallsquare",9642,"blacksmilingface",9787,"blacksquare",9632,"blackstar",9733,"blackupperlefttriangle",9700,"blackupperrighttriangle",9701,"blackuppointingsmalltriangle",9652,"blackuppointingtriangle",9650,"blank",9251,"blinebelow",7687,"block",9608,"bmonospace",65346,"bobaimaithai",3610,"bohiragana",12412,"bokatakana",12508,"bparen",9373,"bqsquare",13251,"braceex",63732,"braceleft",123,"braceleftbt",63731,"braceleftmid",63730,"braceleftmonospace",65371,"braceleftsmall",65115,"bracelefttp",63729,"braceleftvertical",65079,"braceright",125,"bracerightbt",63742,"bracerightmid",63741,"bracerightmonospace",65373,"bracerightsmall",65116,"bracerighttp",63740,"bracerightvertical",65080,"bracketleft",91,"bracketleftbt",63728,"bracketleftex",63727,"bracketleftmonospace",65339,"bracketlefttp",63726,"bracketright",93,"bracketrightbt",63739,"bracketrightex",63738,"bracketrightmonospace",65341,"bracketrighttp",63737,"breve",728,"brevebelowcmb",814,"brevecmb",774,"breveinvertedbelowcmb",815,"breveinvertedcmb",785,"breveinverteddoublecmb",865,"bridgebelowcmb",810,"bridgeinvertedbelowcmb",826,"brokenbar",166,"bstroke",384,"bsuperior",63210,"btopbar",387,"buhiragana",12406,"bukatakana",12502,"bullet",8226,"bulletinverse",9688,"bulletoperator",8729,"bullseye",9678,"c",99,"caarmenian",1390,"cabengali",2458,"cacute",263,"cadeva",2330,"cagujarati",2714,"cagurmukhi",2586,"calsquare",13192,"candrabindubengali",2433,"candrabinducmb",784,"candrabindudeva",2305,"candrabindugujarati",2689,"capslock",8682,"careof",8453,"caron",711,"caronbelowcmb",812,"caroncmb",780,"carriagereturn",8629,"cbopomofo",12568,"ccaron",269,"ccedilla",231,"ccedillaacute",7689,"ccircle",9426,"ccircumflex",265,"ccurl",597,"cdot",267,"cdotaccent",267,"cdsquare",13253,"cedilla",184,"cedillacmb",807,"cent",162,"centigrade",8451,"centinferior",63199,"centmonospace",65504,"centoldstyle",63394,"centsuperior",63200,"chaarmenian",1401,"chabengali",2459,"chadeva",2331,"chagujarati",2715,"chagurmukhi",2587,"chbopomofo",12564,"cheabkhasiancyrillic",1213,"checkmark",10003,"checyrillic",1095,"chedescenderabkhasiancyrillic",1215,"chedescendercyrillic",1207,"chedieresiscyrillic",1269,"cheharmenian",1395,"chekhakassiancyrillic",1228,"cheverticalstrokecyrillic",1209,"chi",967,"chieuchacirclekorean",12919,"chieuchaparenkorean",12823,"chieuchcirclekorean",12905,"chieuchkorean",12618,"chieuchparenkorean",12809,"chochangthai",3594,"chochanthai",3592,"chochingthai",3593,"chochoethai",3596,"chook",392,"cieucacirclekorean",12918,"cieucaparenkorean",12822,"cieuccirclekorean",12904,"cieuckorean",12616,"cieucparenkorean",12808,"cieucuparenkorean",12828,"circle",9675,"circlecopyrt",169,"circlemultiply",8855,"circleot",8857,"circleplus",8853,"circlepostalmark",12342,"circlewithlefthalfblack",9680,"circlewithrighthalfblack",9681,"circumflex",710,"circumflexbelowcmb",813,"circumflexcmb",770,"clear",8999,"clickalveolar",450,"clickdental",448,"clicklateral",449,"clickretroflex",451,"club",9827,"clubsuitblack",9827,"clubsuitwhite",9831,"cmcubedsquare",13220,"cmonospace",65347,"cmsquaredsquare",13216,"coarmenian",1409,"colon",58,"colonmonetary",8353,"colonmonospace",65306,"colonsign",8353,"colonsmall",65109,"colontriangularhalfmod",721,"colontriangularmod",720,"comma",44,"commaabovecmb",787,"commaaboverightcmb",789,"commaaccent",63171,"commaarabic",1548,"commaarmenian",1373,"commainferior",63201,"commamonospace",65292,"commareversedabovecmb",788,"commareversedmod",701,"commasmall",65104,"commasuperior",63202,"commaturnedabovecmb",786,"commaturnedmod",699,"compass",9788,"congruent",8773,"contourintegral",8750,"control",8963,"controlACK",6,"controlBEL",7,"controlBS",8,"controlCAN",24,"controlCR",13,"controlDC1",17,"controlDC2",18,"controlDC3",19,"controlDC4",20,"controlDEL",127,"controlDLE",16,"controlEM",25,"controlENQ",5,"controlEOT",4,"controlESC",27,"controlETB",23,"controlETX",3,"controlFF",12,"controlFS",28,"controlGS",29,"controlHT",9,"controlLF",10,"controlNAK",21,"controlNULL",0,"controlRS",30,"controlSI",15,"controlSO",14,"controlSOT",2,"controlSTX",1,"controlSUB",26,"controlSYN",22,"controlUS",31,"controlVT",11,"copyright",169,"copyrightsans",63721,"copyrightserif",63193,"cornerbracketleft",12300,"cornerbracketlefthalfwidth",65378,"cornerbracketleftvertical",65089,"cornerbracketright",12301,"cornerbracketrighthalfwidth",65379,"cornerbracketrightvertical",65090,"corporationsquare",13183,"cosquare",13255,"coverkgsquare",13254,"cparen",9374,"cruzeiro",8354,"cstretched",663,"curlyand",8911,"curlyor",8910,"currency",164,"cyrBreve",63185,"cyrFlex",63186,"cyrbreve",63188,"cyrflex",63189,"d",100,"daarmenian",1380,"dabengali",2470,"dadarabic",1590,"dadeva",2342,"dadfinalarabic",65214,"dadinitialarabic",65215,"dadmedialarabic",65216,"dagesh",1468,"dageshhebrew",1468,"dagger",8224,"daggerdbl",8225,"dagujarati",2726,"dagurmukhi",2598,"dahiragana",12384,"dakatakana",12480,"dalarabic",1583,"dalet",1491,"daletdagesh",64307,"daletdageshhebrew",64307,"dalethebrew",1491,"dalfinalarabic",65194,"dammaarabic",1615,"dammalowarabic",1615,"dammatanaltonearabic",1612,"dammatanarabic",1612,"danda",2404,"dargahebrew",1447,"dargalefthebrew",1447,"dasiapneumatacyrilliccmb",1157,"dblGrave",63187,"dblanglebracketleft",12298,"dblanglebracketleftvertical",65085,"dblanglebracketright",12299,"dblanglebracketrightvertical",65086,"dblarchinvertedbelowcmb",811,"dblarrowleft",8660,"dblarrowright",8658,"dbldanda",2405,"dblgrave",63190,"dblgravecmb",783,"dblintegral",8748,"dbllowline",8215,"dbllowlinecmb",819,"dbloverlinecmb",831,"dblprimemod",698,"dblverticalbar",8214,"dblverticallineabovecmb",782,"dbopomofo",12553,"dbsquare",13256,"dcaron",271,"dcedilla",7697,"dcircle",9427,"dcircumflexbelow",7699,"dcroat",273,"ddabengali",2465,"ddadeva",2337,"ddagujarati",2721,"ddagurmukhi",2593,"ddalarabic",1672,"ddalfinalarabic",64393,"dddhadeva",2396,"ddhabengali",2466,"ddhadeva",2338,"ddhagujarati",2722,"ddhagurmukhi",2594,"ddotaccent",7691,"ddotbelow",7693,"decimalseparatorarabic",1643,"decimalseparatorpersian",1643,"decyrillic",1076,"degree",176,"dehihebrew",1453,"dehiragana",12391,"deicoptic",1007,"dekatakana",12487,"deleteleft",9003,"deleteright",8998,"delta",948,"deltaturned",397,"denominatorminusonenumeratorbengali",2552,"dezh",676,"dhabengali",2471,"dhadeva",2343,"dhagujarati",2727,"dhagurmukhi",2599,"dhook",599,"dialytikatonos",901,"dialytikatonoscmb",836,"diamond",9830,"diamondsuitwhite",9826,"dieresis",168,"dieresisacute",63191,"dieresisbelowcmb",804,"dieresiscmb",776,"dieresisgrave",63192,"dieresistonos",901,"dihiragana",12386,"dikatakana",12482,"dittomark",12291,"divide",247,"divides",8739,"divisionslash",8725,"djecyrillic",1106,"dkshade",9619,"dlinebelow",7695,"dlsquare",13207,"dmacron",273,"dmonospace",65348,"dnblock",9604,"dochadathai",3598,"dodekthai",3604,"dohiragana",12393,"dokatakana",12489,"dollar",36,"dollarinferior",63203,"dollarmonospace",65284,"dollaroldstyle",63268,"dollarsmall",65129,"dollarsuperior",63204,"dong",8363,"dorusquare",13094,"dotaccent",729,"dotaccentcmb",775,"dotbelowcmb",803,"dotbelowcomb",803,"dotkatakana",12539,"dotlessi",305,"dotlessj",63166,"dotlessjstrokehook",644,"dotmath",8901,"dottedcircle",9676,"doubleyodpatah",64287,"doubleyodpatahhebrew",64287,"downtackbelowcmb",798,"downtackmod",725,"dparen",9375,"dsuperior",63211,"dtail",598,"dtopbar",396,"duhiragana",12389,"dukatakana",12485,"dz",499,"dzaltone",675,"dzcaron",454,"dzcurl",677,"dzeabkhasiancyrillic",1249,"dzecyrillic",1109,"dzhecyrillic",1119,"e",101,"eacute",233,"earth",9793,"ebengali",2447,"ebopomofo",12572,"ebreve",277,"ecandradeva",2317,"ecandragujarati",2701,"ecandravowelsigndeva",2373,"ecandravowelsigngujarati",2757,"ecaron",283,"ecedillabreve",7709,"echarmenian",1381,"echyiwnarmenian",1415,"ecircle",9428,"ecircumflex",234,"ecircumflexacute",7871,"ecircumflexbelow",7705,"ecircumflexdotbelow",7879,"ecircumflexgrave",7873,"ecircumflexhookabove",7875,"ecircumflextilde",7877,"ecyrillic",1108,"edblgrave",517,"edeva",2319,"edieresis",235,"edot",279,"edotaccent",279,"edotbelow",7865,"eegurmukhi",2575,"eematragurmukhi",2631,"efcyrillic",1092,"egrave",232,"egujarati",2703,"eharmenian",1383,"ehbopomofo",12573,"ehiragana",12360,"ehookabove",7867,"eibopomofo",12575,"eight",56,"eightarabic",1640,"eightbengali",2542,"eightcircle",9319,"eightcircleinversesansserif",10129,"eightdeva",2414,"eighteencircle",9329,"eighteenparen",9349,"eighteenperiod",9369,"eightgujarati",2798,"eightgurmukhi",2670,"eighthackarabic",1640,"eighthangzhou",12328,"eighthnotebeamed",9835,"eightideographicparen",12839,"eightinferior",8328,"eightmonospace",65304,"eightoldstyle",63288,"eightparen",9339,"eightperiod",9359,"eightpersian",1784,"eightroman",8567,"eightsuperior",8312,"eightthai",3672,"einvertedbreve",519,"eiotifiedcyrillic",1125,"ekatakana",12456,"ekatakanahalfwidth",65396,"ekonkargurmukhi",2676,"ekorean",12628,"elcyrillic",1083,"element",8712,"elevencircle",9322,"elevenparen",9342,"elevenperiod",9362,"elevenroman",8570,"ellipsis",8230,"ellipsisvertical",8942,"emacron",275,"emacronacute",7703,"emacrongrave",7701,"emcyrillic",1084,"emdash",8212,"emdashvertical",65073,"emonospace",65349,"emphasismarkarmenian",1371,"emptyset",8709,"enbopomofo",12579,"encyrillic",1085,"endash",8211,"endashvertical",65074,"endescendercyrillic",1187,"eng",331,"engbopomofo",12581,"enghecyrillic",1189,"enhookcyrillic",1224,"enspace",8194,"eogonek",281,"eokorean",12627,"eopen",603,"eopenclosed",666,"eopenreversed",604,"eopenreversedclosed",606,"eopenreversedhook",605,"eparen",9376,"epsilon",949,"epsilontonos",941,"equal",61,"equalmonospace",65309,"equalsmall",65126,"equalsuperior",8316,"equivalence",8801,"erbopomofo",12582,"ercyrillic",1088,"ereversed",600,"ereversedcyrillic",1101,"escyrillic",1089,"esdescendercyrillic",1195,"esh",643,"eshcurl",646,"eshortdeva",2318,"eshortvowelsigndeva",2374,"eshreversedloop",426,"eshsquatreversed",645,"esmallhiragana",12359,"esmallkatakana",12455,"esmallkatakanahalfwidth",65386,"estimated",8494,"esuperior",63212,"eta",951,"etarmenian",1384,"etatonos",942,"eth",240,"etilde",7869,"etildebelow",7707,"etnahtafoukhhebrew",1425,"etnahtafoukhlefthebrew",1425,"etnahtahebrew",1425,"etnahtalefthebrew",1425,"eturned",477,"eukorean",12641,"euro",8364,"evowelsignbengali",2503,"evowelsigndeva",2375,"evowelsigngujarati",2759,"exclam",33,"exclamarmenian",1372,"exclamdbl",8252,"exclamdown",161,"exclamdownsmall",63393,"exclammonospace",65281,"exclamsmall",63265,"existential",8707,"ezh",658,"ezhcaron",495,"ezhcurl",659,"ezhreversed",441,"ezhtail",442,"f",102,"fadeva",2398,"fagurmukhi",2654,"fahrenheit",8457,"fathaarabic",1614,"fathalowarabic",1614,"fathatanarabic",1611,"fbopomofo",12552,"fcircle",9429,"fdotaccent",7711,"feharabic",1601,"feharmenian",1414,"fehfinalarabic",65234,"fehinitialarabic",65235,"fehmedialarabic",65236,"feicoptic",997,"female",9792,"ff",64256,"f_f",64256,"ffi",64259,"ffl",64260,"fi",64257,"fifteencircle",9326,"fifteenparen",9346,"fifteenperiod",9366,"figuredash",8210,"filledbox",9632,"filledrect",9644,"finalkaf",1498,"finalkafdagesh",64314,"finalkafdageshhebrew",64314,"finalkafhebrew",1498,"finalmem",1501,"finalmemhebrew",1501,"finalnun",1503,"finalnunhebrew",1503,"finalpe",1507,"finalpehebrew",1507,"finaltsadi",1509,"finaltsadihebrew",1509,"firsttonechinese",713,"fisheye",9673,"fitacyrillic",1139,"five",53,"fivearabic",1637,"fivebengali",2539,"fivecircle",9316,"fivecircleinversesansserif",10126,"fivedeva",2411,"fiveeighths",8541,"fivegujarati",2795,"fivegurmukhi",2667,"fivehackarabic",1637,"fivehangzhou",12325,"fiveideographicparen",12836,"fiveinferior",8325,"fivemonospace",65301,"fiveoldstyle",63285,"fiveparen",9336,"fiveperiod",9356,"fivepersian",1781,"fiveroman",8564,"fivesuperior",8309,"fivethai",3669,"fl",64258,"florin",402,"fmonospace",65350,"fmsquare",13209,"fofanthai",3615,"fofathai",3613,"fongmanthai",3663,"forall",8704,"four",52,"fourarabic",1636,"fourbengali",2538,"fourcircle",9315,"fourcircleinversesansserif",10125,"fourdeva",2410,"fourgujarati",2794,"fourgurmukhi",2666,"fourhackarabic",1636,"fourhangzhou",12324,"fourideographicparen",12835,"fourinferior",8324,"fourmonospace",65300,"fournumeratorbengali",2551,"fouroldstyle",63284,"fourparen",9335,"fourperiod",9355,"fourpersian",1780,"fourroman",8563,"foursuperior",8308,"fourteencircle",9325,"fourteenparen",9345,"fourteenperiod",9365,"fourthai",3668,"fourthtonechinese",715,"fparen",9377,"fraction",8260,"franc",8355,"g",103,"gabengali",2455,"gacute",501,"gadeva",2327,"gafarabic",1711,"gaffinalarabic",64403,"gafinitialarabic",64404,"gafmedialarabic",64405,"gagujarati",2711,"gagurmukhi",2583,"gahiragana",12364,"gakatakana",12460,"gamma",947,"gammalatinsmall",611,"gammasuperior",736,"gangiacoptic",1003,"gbopomofo",12557,"gbreve",287,"gcaron",487,"gcedilla",291,"gcircle",9430,"gcircumflex",285,"gcommaaccent",291,"gdot",289,"gdotaccent",289,"gecyrillic",1075,"gehiragana",12370,"gekatakana",12466,"geometricallyequal",8785,"gereshaccenthebrew",1436,"gereshhebrew",1523,"gereshmuqdamhebrew",1437,"germandbls",223,"gershayimaccenthebrew",1438,"gershayimhebrew",1524,"getamark",12307,"ghabengali",2456,"ghadarmenian",1394,"ghadeva",2328,"ghagujarati",2712,"ghagurmukhi",2584,"ghainarabic",1594,"ghainfinalarabic",65230,"ghaininitialarabic",65231,"ghainmedialarabic",65232,"ghemiddlehookcyrillic",1173,"ghestrokecyrillic",1171,"gheupturncyrillic",1169,"ghhadeva",2394,"ghhagurmukhi",2650,"ghook",608,"ghzsquare",13203,"gihiragana",12366,"gikatakana",12462,"gimarmenian",1379,"gimel",1490,"gimeldagesh",64306,"gimeldageshhebrew",64306,"gimelhebrew",1490,"gjecyrillic",1107,"glottalinvertedstroke",446,"glottalstop",660,"glottalstopinverted",662,"glottalstopmod",704,"glottalstopreversed",661,"glottalstopreversedmod",705,"glottalstopreversedsuperior",740,"glottalstopstroke",673,"glottalstopstrokereversed",674,"gmacron",7713,"gmonospace",65351,"gohiragana",12372,"gokatakana",12468,"gparen",9378,"gpasquare",13228,"gradient",8711,"grave",96,"gravebelowcmb",790,"gravecmb",768,"gravecomb",768,"gravedeva",2387,"gravelowmod",718,"gravemonospace",65344,"gravetonecmb",832,"greater",62,"greaterequal",8805,"greaterequalorless",8923,"greatermonospace",65310,"greaterorequivalent",8819,"greaterorless",8823,"greateroverequal",8807,"greatersmall",65125,"gscript",609,"gstroke",485,"guhiragana",12368,"guillemotleft",171,"guillemotright",187,"guilsinglleft",8249,"guilsinglright",8250,"gukatakana",12464,"guramusquare",13080,"gysquare",13257,"h",104,"haabkhasiancyrillic",1193,"haaltonearabic",1729,"habengali",2489,"hadescendercyrillic",1203,"hadeva",2361,"hagujarati",2745,"hagurmukhi",2617,"haharabic",1581,"hahfinalarabic",65186,"hahinitialarabic",65187,"hahiragana",12399,"hahmedialarabic",65188,"haitusquare",13098,"hakatakana",12495,"hakatakanahalfwidth",65418,"halantgurmukhi",2637,"hamzaarabic",1569,"hamzalowarabic",1569,"hangulfiller",12644,"hardsigncyrillic",1098,"harpoonleftbarbup",8636,"harpoonrightbarbup",8640,"hasquare",13258,"hatafpatah",1458,"hatafpatah16",1458,"hatafpatah23",1458,"hatafpatah2f",1458,"hatafpatahhebrew",1458,"hatafpatahnarrowhebrew",1458,"hatafpatahquarterhebrew",1458,"hatafpatahwidehebrew",1458,"hatafqamats",1459,"hatafqamats1b",1459,"hatafqamats28",1459,"hatafqamats34",1459,"hatafqamatshebrew",1459,"hatafqamatsnarrowhebrew",1459,"hatafqamatsquarterhebrew",1459,"hatafqamatswidehebrew",1459,"hatafsegol",1457,"hatafsegol17",1457,"hatafsegol24",1457,"hatafsegol30",1457,"hatafsegolhebrew",1457,"hatafsegolnarrowhebrew",1457,"hatafsegolquarterhebrew",1457,"hatafsegolwidehebrew",1457,"hbar",295,"hbopomofo",12559,"hbrevebelow",7723,"hcedilla",7721,"hcircle",9431,"hcircumflex",293,"hdieresis",7719,"hdotaccent",7715,"hdotbelow",7717,"he",1492,"heart",9829,"heartsuitblack",9829,"heartsuitwhite",9825,"hedagesh",64308,"hedageshhebrew",64308,"hehaltonearabic",1729,"heharabic",1607,"hehebrew",1492,"hehfinalaltonearabic",64423,"hehfinalalttwoarabic",65258,"hehfinalarabic",65258,"hehhamzaabovefinalarabic",64421,"hehhamzaaboveisolatedarabic",64420,"hehinitialaltonearabic",64424,"hehinitialarabic",65259,"hehiragana",12408,"hehmedialaltonearabic",64425,"hehmedialarabic",65260,"heiseierasquare",13179,"hekatakana",12504,"hekatakanahalfwidth",65421,"hekutaarusquare",13110,"henghook",615,"herutusquare",13113,"het",1495,"hethebrew",1495,"hhook",614,"hhooksuperior",689,"hieuhacirclekorean",12923,"hieuhaparenkorean",12827,"hieuhcirclekorean",12909,"hieuhkorean",12622,"hieuhparenkorean",12813,"hihiragana",12402,"hikatakana",12498,"hikatakanahalfwidth",65419,"hiriq",1460,"hiriq14",1460,"hiriq21",1460,"hiriq2d",1460,"hiriqhebrew",1460,"hiriqnarrowhebrew",1460,"hiriqquarterhebrew",1460,"hiriqwidehebrew",1460,"hlinebelow",7830,"hmonospace",65352,"hoarmenian",1392,"hohipthai",3627,"hohiragana",12411,"hokatakana",12507,"hokatakanahalfwidth",65422,"holam",1465,"holam19",1465,"holam26",1465,"holam32",1465,"holamhebrew",1465,"holamnarrowhebrew",1465,"holamquarterhebrew",1465,"holamwidehebrew",1465,"honokhukthai",3630,"hookabovecomb",777,"hookcmb",777,"hookpalatalizedbelowcmb",801,"hookretroflexbelowcmb",802,"hoonsquare",13122,"horicoptic",1001,"horizontalbar",8213,"horncmb",795,"hotsprings",9832,"house",8962,"hparen",9379,"hsuperior",688,"hturned",613,"huhiragana",12405,"huiitosquare",13107,"hukatakana",12501,"hukatakanahalfwidth",65420,"hungarumlaut",733,"hungarumlautcmb",779,"hv",405,"hyphen",45,"hypheninferior",63205,"hyphenmonospace",65293,"hyphensmall",65123,"hyphensuperior",63206,"hyphentwo",8208,"i",105,"iacute",237,"iacyrillic",1103,"ibengali",2439,"ibopomofo",12583,"ibreve",301,"icaron",464,"icircle",9432,"icircumflex",238,"icyrillic",1110,"idblgrave",521,"ideographearthcircle",12943,"ideographfirecircle",12939,"ideographicallianceparen",12863,"ideographiccallparen",12858,"ideographiccentrecircle",12965,"ideographicclose",12294,"ideographiccomma",12289,"ideographiccommaleft",65380,"ideographiccongratulationparen",12855,"ideographiccorrectcircle",12963,"ideographicearthparen",12847,"ideographicenterpriseparen",12861,"ideographicexcellentcircle",12957,"ideographicfestivalparen",12864,"ideographicfinancialcircle",12950,"ideographicfinancialparen",12854,"ideographicfireparen",12843,"ideographichaveparen",12850,"ideographichighcircle",12964,"ideographiciterationmark",12293,"ideographiclaborcircle",12952,"ideographiclaborparen",12856,"ideographicleftcircle",12967,"ideographiclowcircle",12966,"ideographicmedicinecircle",12969,"ideographicmetalparen",12846,"ideographicmoonparen",12842,"ideographicnameparen",12852,"ideographicperiod",12290,"ideographicprintcircle",12958,"ideographicreachparen",12867,"ideographicrepresentparen",12857,"ideographicresourceparen",12862,"ideographicrightcircle",12968,"ideographicsecretcircle",12953,"ideographicselfparen",12866,"ideographicsocietyparen",12851,"ideographicspace",12288,"ideographicspecialparen",12853,"ideographicstockparen",12849,"ideographicstudyparen",12859,"ideographicsunparen",12848,"ideographicsuperviseparen",12860,"ideographicwaterparen",12844,"ideographicwoodparen",12845,"ideographiczero",12295,"ideographmetalcircle",12942,"ideographmooncircle",12938,"ideographnamecircle",12948,"ideographsuncircle",12944,"ideographwatercircle",12940,"ideographwoodcircle",12941,"ideva",2311,"idieresis",239,"idieresisacute",7727,"idieresiscyrillic",1253,"idotbelow",7883,"iebrevecyrillic",1239,"iecyrillic",1077,"ieungacirclekorean",12917,"ieungaparenkorean",12821,"ieungcirclekorean",12903,"ieungkorean",12615,"ieungparenkorean",12807,"igrave",236,"igujarati",2695,"igurmukhi",2567,"ihiragana",12356,"ihookabove",7881,"iibengali",2440,"iicyrillic",1080,"iideva",2312,"iigujarati",2696,"iigurmukhi",2568,"iimatragurmukhi",2624,"iinvertedbreve",523,"iishortcyrillic",1081,"iivowelsignbengali",2496,"iivowelsigndeva",2368,"iivowelsigngujarati",2752,"ij",307,"ikatakana",12452,"ikatakanahalfwidth",65394,"ikorean",12643,"ilde",732,"iluyhebrew",1452,"imacron",299,"imacroncyrillic",1251,"imageorapproximatelyequal",8787,"imatragurmukhi",2623,"imonospace",65353,"increment",8710,"infinity",8734,"iniarmenian",1387,"integral",8747,"integralbottom",8993,"integralbt",8993,"integralex",63733,"integraltop",8992,"integraltp",8992,"intersection",8745,"intisquare",13061,"invbullet",9688,"invcircle",9689,"invsmileface",9787,"iocyrillic",1105,"iogonek",303,"iota",953,"iotadieresis",970,"iotadieresistonos",912,"iotalatin",617,"iotatonos",943,"iparen",9380,"irigurmukhi",2674,"ismallhiragana",12355,"ismallkatakana",12451,"ismallkatakanahalfwidth",65384,"issharbengali",2554,"istroke",616,"isuperior",63213,"iterationhiragana",12445,"iterationkatakana",12541,"itilde",297,"itildebelow",7725,"iubopomofo",12585,"iucyrillic",1102,"ivowelsignbengali",2495,"ivowelsigndeva",2367,"ivowelsigngujarati",2751,"izhitsacyrillic",1141,"izhitsadblgravecyrillic",1143,"j",106,"jaarmenian",1393,"jabengali",2460,"jadeva",2332,"jagujarati",2716,"jagurmukhi",2588,"jbopomofo",12560,"jcaron",496,"jcircle",9433,"jcircumflex",309,"jcrossedtail",669,"jdotlessstroke",607,"jecyrillic",1112,"jeemarabic",1580,"jeemfinalarabic",65182,"jeeminitialarabic",65183,"jeemmedialarabic",65184,"jeharabic",1688,"jehfinalarabic",64395,"jhabengali",2461,"jhadeva",2333,"jhagujarati",2717,"jhagurmukhi",2589,"jheharmenian",1403,"jis",12292,"jmonospace",65354,"jparen",9381,"jsuperior",690,"k",107,"kabashkircyrillic",1185,"kabengali",2453,"kacute",7729,"kacyrillic",1082,"kadescendercyrillic",1179,"kadeva",2325,"kaf",1499,"kafarabic",1603,"kafdagesh",64315,"kafdageshhebrew",64315,"kaffinalarabic",65242,"kafhebrew",1499,"kafinitialarabic",65243,"kafmedialarabic",65244,"kafrafehebrew",64333,"kagujarati",2709,"kagurmukhi",2581,"kahiragana",12363,"kahookcyrillic",1220,"kakatakana",12459,"kakatakanahalfwidth",65398,"kappa",954,"kappasymbolgreek",1008,"kapyeounmieumkorean",12657,"kapyeounphieuphkorean",12676,"kapyeounpieupkorean",12664,"kapyeounssangpieupkorean",12665,"karoriisquare",13069,"kashidaautoarabic",1600,"kashidaautonosidebearingarabic",1600,"kasmallkatakana",12533,"kasquare",13188,"kasraarabic",1616,"kasratanarabic",1613,"kastrokecyrillic",1183,"katahiraprolongmarkhalfwidth",65392,"kaverticalstrokecyrillic",1181,"kbopomofo",12558,"kcalsquare",13193,"kcaron",489,"kcedilla",311,"kcircle",9434,"kcommaaccent",311,"kdotbelow",7731,"keharmenian",1412,"kehiragana",12369,"kekatakana",12465,"kekatakanahalfwidth",65401,"kenarmenian",1391,"kesmallkatakana",12534,"kgreenlandic",312,"khabengali",2454,"khacyrillic",1093,"khadeva",2326,"khagujarati",2710,"khagurmukhi",2582,"khaharabic",1582,"khahfinalarabic",65190,"khahinitialarabic",65191,"khahmedialarabic",65192,"kheicoptic",999,"khhadeva",2393,"khhagurmukhi",2649,"khieukhacirclekorean",12920,"khieukhaparenkorean",12824,"khieukhcirclekorean",12906,"khieukhkorean",12619,"khieukhparenkorean",12810,"khokhaithai",3586,"khokhonthai",3589,"khokhuatthai",3587,"khokhwaithai",3588,"khomutthai",3675,"khook",409,"khorakhangthai",3590,"khzsquare",13201,"kihiragana",12365,"kikatakana",12461,"kikatakanahalfwidth",65399,"kiroguramusquare",13077,"kiromeetorusquare",13078,"kirosquare",13076,"kiyeokacirclekorean",12910,"kiyeokaparenkorean",12814,"kiyeokcirclekorean",12896,"kiyeokkorean",12593,"kiyeokparenkorean",12800,"kiyeoksioskorean",12595,"kjecyrillic",1116,"klinebelow",7733,"klsquare",13208,"kmcubedsquare",13222,"kmonospace",65355,"kmsquaredsquare",13218,"kohiragana",12371,"kohmsquare",13248,"kokaithai",3585,"kokatakana",12467,"kokatakanahalfwidth",65402,"kooposquare",13086,"koppacyrillic",1153,"koreanstandardsymbol",12927,"koroniscmb",835,"kparen",9382,"kpasquare",13226,"ksicyrillic",1135,"ktsquare",13263,"kturned",670,"kuhiragana",12367,"kukatakana",12463,"kukatakanahalfwidth",65400,"kvsquare",13240,"kwsquare",13246,"l",108,"labengali",2482,"lacute",314,"ladeva",2354,"lagujarati",2738,"lagurmukhi",2610,"lakkhangyaothai",3653,"lamaleffinalarabic",65276,"lamalefhamzaabovefinalarabic",65272,"lamalefhamzaaboveisolatedarabic",65271,"lamalefhamzabelowfinalarabic",65274,"lamalefhamzabelowisolatedarabic",65273,"lamalefisolatedarabic",65275,"lamalefmaddaabovefinalarabic",65270,"lamalefmaddaaboveisolatedarabic",65269,"lamarabic",1604,"lambda",955,"lambdastroke",411,"lamed",1500,"lameddagesh",64316,"lameddageshhebrew",64316,"lamedhebrew",1500,"lamfinalarabic",65246,"lamhahinitialarabic",64714,"laminitialarabic",65247,"lamjeeminitialarabic",64713,"lamkhahinitialarabic",64715,"lamlamhehisolatedarabic",65010,"lammedialarabic",65248,"lammeemhahinitialarabic",64904,"lammeeminitialarabic",64716,"largecircle",9711,"lbar",410,"lbelt",620,"lbopomofo",12556,"lcaron",318,"lcedilla",316,"lcircle",9435,"lcircumflexbelow",7741,"lcommaaccent",316,"ldot",320,"ldotaccent",320,"ldotbelow",7735,"ldotbelowmacron",7737,"leftangleabovecmb",794,"lefttackbelowcmb",792,"less",60,"lessequal",8804,"lessequalorgreater",8922,"lessmonospace",65308,"lessorequivalent",8818,"lessorgreater",8822,"lessoverequal",8806,"lesssmall",65124,"lezh",622,"lfblock",9612,"lhookretroflex",621,"lira",8356,"liwnarmenian",1388,"lj",457,"ljecyrillic",1113,"ll",63168,"lladeva",2355,"llagujarati",2739,"llinebelow",7739,"llladeva",2356,"llvocalicbengali",2529,"llvocalicdeva",2401,"llvocalicvowelsignbengali",2531,"llvocalicvowelsigndeva",2403,"lmiddletilde",619,"lmonospace",65356,"lmsquare",13264,"lochulathai",3628,"logicaland",8743,"logicalnot",172,"logicalnotreversed",8976,"logicalor",8744,"lolingthai",3621,"longs",383,"lowlinecenterline",65102,"lowlinecmb",818,"lowlinedashed",65101,"lozenge",9674,"lparen",9383,"lslash",322,"lsquare",8467,"lsuperior",63214,"ltshade",9617,"luthai",3622,"lvocalicbengali",2444,"lvocalicdeva",2316,"lvocalicvowelsignbengali",2530,"lvocalicvowelsigndeva",2402,"lxsquare",13267,"m",109,"mabengali",2478,"macron",175,"macronbelowcmb",817,"macroncmb",772,"macronlowmod",717,"macronmonospace",65507,"macute",7743,"madeva",2350,"magujarati",2734,"magurmukhi",2606,"mahapakhhebrew",1444,"mahapakhlefthebrew",1444,"mahiragana",12414,"maichattawalowleftthai",63637,"maichattawalowrightthai",63636,"maichattawathai",3659,"maichattawaupperleftthai",63635,"maieklowleftthai",63628,"maieklowrightthai",63627,"maiekthai",3656,"maiekupperleftthai",63626,"maihanakatleftthai",63620,"maihanakatthai",3633,"maitaikhuleftthai",63625,"maitaikhuthai",3655,"maitholowleftthai",63631,"maitholowrightthai",63630,"maithothai",3657,"maithoupperleftthai",63629,"maitrilowleftthai",63634,"maitrilowrightthai",63633,"maitrithai",3658,"maitriupperleftthai",63632,"maiyamokthai",3654,"makatakana",12510,"makatakanahalfwidth",65423,"male",9794,"mansyonsquare",13127,"maqafhebrew",1470,"mars",9794,"masoracirclehebrew",1455,"masquare",13187,"mbopomofo",12551,"mbsquare",13268,"mcircle",9436,"mcubedsquare",13221,"mdotaccent",7745,"mdotbelow",7747,"meemarabic",1605,"meemfinalarabic",65250,"meeminitialarabic",65251,"meemmedialarabic",65252,"meemmeeminitialarabic",64721,"meemmeemisolatedarabic",64584,"meetorusquare",13133,"mehiragana",12417,"meizierasquare",13182,"mekatakana",12513,"mekatakanahalfwidth",65426,"mem",1502,"memdagesh",64318,"memdageshhebrew",64318,"memhebrew",1502,"menarmenian",1396,"merkhahebrew",1445,"merkhakefulahebrew",1446,"merkhakefulalefthebrew",1446,"merkhalefthebrew",1445,"mhook",625,"mhzsquare",13202,"middledotkatakanahalfwidth",65381,"middot",183,"mieumacirclekorean",12914,"mieumaparenkorean",12818,"mieumcirclekorean",12900,"mieumkorean",12609,"mieumpansioskorean",12656,"mieumparenkorean",12804,"mieumpieupkorean",12654,"mieumsioskorean",12655,"mihiragana",12415,"mikatakana",12511,"mikatakanahalfwidth",65424,"minus",8722,"minusbelowcmb",800,"minuscircle",8854,"minusmod",727,"minusplus",8723,"minute",8242,"miribaarusquare",13130,"mirisquare",13129,"mlonglegturned",624,"mlsquare",13206,"mmcubedsquare",13219,"mmonospace",65357,"mmsquaredsquare",13215,"mohiragana",12418,"mohmsquare",13249,"mokatakana",12514,"mokatakanahalfwidth",65427,"molsquare",13270,"momathai",3617,"moverssquare",13223,"moverssquaredsquare",13224,"mparen",9384,"mpasquare",13227,"mssquare",13235,"msuperior",63215,"mturned",623,"mu",181,"mu1",181,"muasquare",13186,"muchgreater",8811,"muchless",8810,"mufsquare",13196,"mugreek",956,"mugsquare",13197,"muhiragana",12416,"mukatakana",12512,"mukatakanahalfwidth",65425,"mulsquare",13205,"multiply",215,"mumsquare",13211,"munahhebrew",1443,"munahlefthebrew",1443,"musicalnote",9834,"musicalnotedbl",9835,"musicflatsign",9837,"musicsharpsign",9839,"mussquare",13234,"muvsquare",13238,"muwsquare",13244,"mvmegasquare",13241,"mvsquare",13239,"mwmegasquare",13247,"mwsquare",13245,"n",110,"nabengali",2472,"nabla",8711,"nacute",324,"nadeva",2344,"nagujarati",2728,"nagurmukhi",2600,"nahiragana",12394,"nakatakana",12490,"nakatakanahalfwidth",65413,"napostrophe",329,"nasquare",13185,"nbopomofo",12555,"nbspace",160,"ncaron",328,"ncedilla",326,"ncircle",9437,"ncircumflexbelow",7755,"ncommaaccent",326,"ndotaccent",7749,"ndotbelow",7751,"nehiragana",12397,"nekatakana",12493,"nekatakanahalfwidth",65416,"newsheqelsign",8362,"nfsquare",13195,"ngabengali",2457,"ngadeva",2329,"ngagujarati",2713,"ngagurmukhi",2585,"ngonguthai",3591,"nhiragana",12435,"nhookleft",626,"nhookretroflex",627,"nieunacirclekorean",12911,"nieunaparenkorean",12815,"nieuncieuckorean",12597,"nieuncirclekorean",12897,"nieunhieuhkorean",12598,"nieunkorean",12596,"nieunpansioskorean",12648,"nieunparenkorean",12801,"nieunsioskorean",12647,"nieuntikeutkorean",12646,"nihiragana",12395,"nikatakana",12491,"nikatakanahalfwidth",65414,"nikhahitleftthai",63641,"nikhahitthai",3661,"nine",57,"ninearabic",1641,"ninebengali",2543,"ninecircle",9320,"ninecircleinversesansserif",10130,"ninedeva",2415,"ninegujarati",2799,"ninegurmukhi",2671,"ninehackarabic",1641,"ninehangzhou",12329,"nineideographicparen",12840,"nineinferior",8329,"ninemonospace",65305,"nineoldstyle",63289,"nineparen",9340,"nineperiod",9360,"ninepersian",1785,"nineroman",8568,"ninesuperior",8313,"nineteencircle",9330,"nineteenparen",9350,"nineteenperiod",9370,"ninethai",3673,"nj",460,"njecyrillic",1114,"nkatakana",12531,"nkatakanahalfwidth",65437,"nlegrightlong",414,"nlinebelow",7753,"nmonospace",65358,"nmsquare",13210,"nnabengali",2467,"nnadeva",2339,"nnagujarati",2723,"nnagurmukhi",2595,"nnnadeva",2345,"nohiragana",12398,"nokatakana",12494,"nokatakanahalfwidth",65417,"nonbreakingspace",160,"nonenthai",3603,"nonuthai",3609,"noonarabic",1606,"noonfinalarabic",65254,"noonghunnaarabic",1722,"noonghunnafinalarabic",64415,"nooninitialarabic",65255,"noonjeeminitialarabic",64722,"noonjeemisolatedarabic",64587,"noonmedialarabic",65256,"noonmeeminitialarabic",64725,"noonmeemisolatedarabic",64590,"noonnoonfinalarabic",64653,"notcontains",8716,"notelement",8713,"notelementof",8713,"notequal",8800,"notgreater",8815,"notgreaternorequal",8817,"notgreaternorless",8825,"notidentical",8802,"notless",8814,"notlessnorequal",8816,"notparallel",8742,"notprecedes",8832,"notsubset",8836,"notsucceeds",8833,"notsuperset",8837,"nowarmenian",1398,"nparen",9385,"nssquare",13233,"nsuperior",8319,"ntilde",241,"nu",957,"nuhiragana",12396,"nukatakana",12492,"nukatakanahalfwidth",65415,"nuktabengali",2492,"nuktadeva",2364,"nuktagujarati",2748,"nuktagurmukhi",2620,"numbersign",35,"numbersignmonospace",65283,"numbersignsmall",65119,"numeralsigngreek",884,"numeralsignlowergreek",885,"numero",8470,"nun",1504,"nundagesh",64320,"nundageshhebrew",64320,"nunhebrew",1504,"nvsquare",13237,"nwsquare",13243,"nyabengali",2462,"nyadeva",2334,"nyagujarati",2718,"nyagurmukhi",2590,"o",111,"oacute",243,"oangthai",3629,"obarred",629,"obarredcyrillic",1257,"obarreddieresiscyrillic",1259,"obengali",2451,"obopomofo",12571,"obreve",335,"ocandradeva",2321,"ocandragujarati",2705,"ocandravowelsigndeva",2377,"ocandravowelsigngujarati",2761,"ocaron",466,"ocircle",9438,"ocircumflex",244,"ocircumflexacute",7889,"ocircumflexdotbelow",7897,"ocircumflexgrave",7891,"ocircumflexhookabove",7893,"ocircumflextilde",7895,"ocyrillic",1086,"odblacute",337,"odblgrave",525,"odeva",2323,"odieresis",246,"odieresiscyrillic",1255,"odotbelow",7885,"oe",339,"oekorean",12634,"ogonek",731,"ogonekcmb",808,"ograve",242,"ogujarati",2707,"oharmenian",1413,"ohiragana",12362,"ohookabove",7887,"ohorn",417,"ohornacute",7899,"ohorndotbelow",7907,"ohorngrave",7901,"ohornhookabove",7903,"ohorntilde",7905,"ohungarumlaut",337,"oi",419,"oinvertedbreve",527,"okatakana",12458,"okatakanahalfwidth",65397,"okorean",12631,"olehebrew",1451,"omacron",333,"omacronacute",7763,"omacrongrave",7761,"omdeva",2384,"omega",969,"omega1",982,"omegacyrillic",1121,"omegalatinclosed",631,"omegaroundcyrillic",1147,"omegatitlocyrillic",1149,"omegatonos",974,"omgujarati",2768,"omicron",959,"omicrontonos",972,"omonospace",65359,"one",49,"onearabic",1633,"onebengali",2535,"onecircle",9312,"onecircleinversesansserif",10122,"onedeva",2407,"onedotenleader",8228,"oneeighth",8539,"onefitted",63196,"onegujarati",2791,"onegurmukhi",2663,"onehackarabic",1633,"onehalf",189,"onehangzhou",12321,"oneideographicparen",12832,"oneinferior",8321,"onemonospace",65297,"onenumeratorbengali",2548,"oneoldstyle",63281,"oneparen",9332,"oneperiod",9352,"onepersian",1777,"onequarter",188,"oneroman",8560,"onesuperior",185,"onethai",3665,"onethird",8531,"oogonek",491,"oogonekmacron",493,"oogurmukhi",2579,"oomatragurmukhi",2635,"oopen",596,"oparen",9386,"openbullet",9702,"option",8997,"ordfeminine",170,"ordmasculine",186,"orthogonal",8735,"oshortdeva",2322,"oshortvowelsigndeva",2378,"oslash",248,"oslashacute",511,"osmallhiragana",12361,"osmallkatakana",12457,"osmallkatakanahalfwidth",65387,"ostrokeacute",511,"osuperior",63216,"otcyrillic",1151,"otilde",245,"otildeacute",7757,"otildedieresis",7759,"oubopomofo",12577,"overline",8254,"overlinecenterline",65098,"overlinecmb",773,"overlinedashed",65097,"overlinedblwavy",65100,"overlinewavy",65099,"overscore",175,"ovowelsignbengali",2507,"ovowelsigndeva",2379,"ovowelsigngujarati",2763,"p",112,"paampssquare",13184,"paasentosquare",13099,"pabengali",2474,"pacute",7765,"padeva",2346,"pagedown",8671,"pageup",8670,"pagujarati",2730,"pagurmukhi",2602,"pahiragana",12401,"paiyannoithai",3631,"pakatakana",12497,"palatalizationcyrilliccmb",1156,"palochkacyrillic",1216,"pansioskorean",12671,"paragraph",182,"parallel",8741,"parenleft",40,"parenleftaltonearabic",64830,"parenleftbt",63725,"parenleftex",63724,"parenleftinferior",8333,"parenleftmonospace",65288,"parenleftsmall",65113,"parenleftsuperior",8317,"parenlefttp",63723,"parenleftvertical",65077,"parenright",41,"parenrightaltonearabic",64831,"parenrightbt",63736,"parenrightex",63735,"parenrightinferior",8334,"parenrightmonospace",65289,"parenrightsmall",65114,"parenrightsuperior",8318,"parenrighttp",63734,"parenrightvertical",65078,"partialdiff",8706,"paseqhebrew",1472,"pashtahebrew",1433,"pasquare",13225,"patah",1463,"patah11",1463,"patah1d",1463,"patah2a",1463,"patahhebrew",1463,"patahnarrowhebrew",1463,"patahquarterhebrew",1463,"patahwidehebrew",1463,"pazerhebrew",1441,"pbopomofo",12550,"pcircle",9439,"pdotaccent",7767,"pe",1508,"pecyrillic",1087,"pedagesh",64324,"pedageshhebrew",64324,"peezisquare",13115,"pefinaldageshhebrew",64323,"peharabic",1662,"peharmenian",1402,"pehebrew",1508,"pehfinalarabic",64343,"pehinitialarabic",64344,"pehiragana",12410,"pehmedialarabic",64345,"pekatakana",12506,"pemiddlehookcyrillic",1191,"perafehebrew",64334,"percent",37,"percentarabic",1642,"percentmonospace",65285,"percentsmall",65130,"period",46,"periodarmenian",1417,"periodcentered",183,"periodhalfwidth",65377,"periodinferior",63207,"periodmonospace",65294,"periodsmall",65106,"periodsuperior",63208,"perispomenigreekcmb",834,"perpendicular",8869,"perthousand",8240,"peseta",8359,"pfsquare",13194,"phabengali",2475,"phadeva",2347,"phagujarati",2731,"phagurmukhi",2603,"phi",966,"phi1",981,"phieuphacirclekorean",12922,"phieuphaparenkorean",12826,"phieuphcirclekorean",12908,"phieuphkorean",12621,"phieuphparenkorean",12812,"philatin",632,"phinthuthai",3642,"phisymbolgreek",981,"phook",421,"phophanthai",3614,"phophungthai",3612,"phosamphaothai",3616,"pi",960,"pieupacirclekorean",12915,"pieupaparenkorean",12819,"pieupcieuckorean",12662,"pieupcirclekorean",12901,"pieupkiyeokkorean",12658,"pieupkorean",12610,"pieupparenkorean",12805,"pieupsioskiyeokkorean",12660,"pieupsioskorean",12612,"pieupsiostikeutkorean",12661,"pieupthieuthkorean",12663,"pieuptikeutkorean",12659,"pihiragana",12404,"pikatakana",12500,"pisymbolgreek",982,"piwrarmenian",1411,"plus",43,"plusbelowcmb",799,"pluscircle",8853,"plusminus",177,"plusmod",726,"plusmonospace",65291,"plussmall",65122,"plussuperior",8314,"pmonospace",65360,"pmsquare",13272,"pohiragana",12413,"pointingindexdownwhite",9759,"pointingindexleftwhite",9756,"pointingindexrightwhite",9758,"pointingindexupwhite",9757,"pokatakana",12509,"poplathai",3611,"postalmark",12306,"postalmarkface",12320,"pparen",9387,"precedes",8826,"prescription",8478,"primemod",697,"primereversed",8245,"product",8719,"projective",8965,"prolongedkana",12540,"propellor",8984,"propersubset",8834,"propersuperset",8835,"proportion",8759,"proportional",8733,"psi",968,"psicyrillic",1137,"psilipneumatacyrilliccmb",1158,"pssquare",13232,"puhiragana",12407,"pukatakana",12503,"pvsquare",13236,"pwsquare",13242,"q",113,"qadeva",2392,"qadmahebrew",1448,"qafarabic",1602,"qaffinalarabic",65238,"qafinitialarabic",65239,"qafmedialarabic",65240,"qamats",1464,"qamats10",1464,"qamats1a",1464,"qamats1c",1464,"qamats27",1464,"qamats29",1464,"qamats33",1464,"qamatsde",1464,"qamatshebrew",1464,"qamatsnarrowhebrew",1464,"qamatsqatanhebrew",1464,"qamatsqatannarrowhebrew",1464,"qamatsqatanquarterhebrew",1464,"qamatsqatanwidehebrew",1464,"qamatsquarterhebrew",1464,"qamatswidehebrew",1464,"qarneyparahebrew",1439,"qbopomofo",12561,"qcircle",9440,"qhook",672,"qmonospace",65361,"qof",1511,"qofdagesh",64327,"qofdageshhebrew",64327,"qofhebrew",1511,"qparen",9388,"quarternote",9833,"qubuts",1467,"qubuts18",1467,"qubuts25",1467,"qubuts31",1467,"qubutshebrew",1467,"qubutsnarrowhebrew",1467,"qubutsquarterhebrew",1467,"qubutswidehebrew",1467,"question",63,"questionarabic",1567,"questionarmenian",1374,"questiondown",191,"questiondownsmall",63423,"questiongreek",894,"questionmonospace",65311,"questionsmall",63295,"quotedbl",34,"quotedblbase",8222,"quotedblleft",8220,"quotedblmonospace",65282,"quotedblprime",12318,"quotedblprimereversed",12317,"quotedblright",8221,"quoteleft",8216,"quoteleftreversed",8219,"quotereversed",8219,"quoteright",8217,"quoterightn",329,"quotesinglbase",8218,"quotesingle",39,"quotesinglemonospace",65287,"r",114,"raarmenian",1404,"rabengali",2480,"racute",341,"radeva",2352,"radical",8730,"radicalex",63717,"radoverssquare",13230,"radoverssquaredsquare",13231,"radsquare",13229,"rafe",1471,"rafehebrew",1471,"ragujarati",2736,"ragurmukhi",2608,"rahiragana",12425,"rakatakana",12521,"rakatakanahalfwidth",65431,"ralowerdiagonalbengali",2545,"ramiddlediagonalbengali",2544,"ramshorn",612,"ratio",8758,"rbopomofo",12566,"rcaron",345,"rcedilla",343,"rcircle",9441,"rcommaaccent",343,"rdblgrave",529,"rdotaccent",7769,"rdotbelow",7771,"rdotbelowmacron",7773,"referencemark",8251,"reflexsubset",8838,"reflexsuperset",8839,"registered",174,"registersans",63720,"registerserif",63194,"reharabic",1585,"reharmenian",1408,"rehfinalarabic",65198,"rehiragana",12428,"rekatakana",12524,"rekatakanahalfwidth",65434,"resh",1512,"reshdageshhebrew",64328,"reshhebrew",1512,"reversedtilde",8765,"reviahebrew",1431,"reviamugrashhebrew",1431,"revlogicalnot",8976,"rfishhook",638,"rfishhookreversed",639,"rhabengali",2525,"rhadeva",2397,"rho",961,"rhook",637,"rhookturned",635,"rhookturnedsuperior",693,"rhosymbolgreek",1009,"rhotichookmod",734,"rieulacirclekorean",12913,"rieulaparenkorean",12817,"rieulcirclekorean",12899,"rieulhieuhkorean",12608,"rieulkiyeokkorean",12602,"rieulkiyeoksioskorean",12649,"rieulkorean",12601,"rieulmieumkorean",12603,"rieulpansioskorean",12652,"rieulparenkorean",12803,"rieulphieuphkorean",12607,"rieulpieupkorean",12604,"rieulpieupsioskorean",12651,"rieulsioskorean",12605,"rieulthieuthkorean",12606,"rieultikeutkorean",12650,"rieulyeorinhieuhkorean",12653,"rightangle",8735,"righttackbelowcmb",793,"righttriangle",8895,"rihiragana",12426,"rikatakana",12522,"rikatakanahalfwidth",65432,"ring",730,"ringbelowcmb",805,"ringcmb",778,"ringhalfleft",703,"ringhalfleftarmenian",1369,"ringhalfleftbelowcmb",796,"ringhalfleftcentered",723,"ringhalfright",702,"ringhalfrightbelowcmb",825,"ringhalfrightcentered",722,"rinvertedbreve",531,"rittorusquare",13137,"rlinebelow",7775,"rlongleg",636,"rlonglegturned",634,"rmonospace",65362,"rohiragana",12429,"rokatakana",12525,"rokatakanahalfwidth",65435,"roruathai",3619,"rparen",9389,"rrabengali",2524,"rradeva",2353,"rragurmukhi",2652,"rreharabic",1681,"rrehfinalarabic",64397,"rrvocalicbengali",2528,"rrvocalicdeva",2400,"rrvocalicgujarati",2784,"rrvocalicvowelsignbengali",2500,"rrvocalicvowelsigndeva",2372,"rrvocalicvowelsigngujarati",2756,"rsuperior",63217,"rtblock",9616,"rturned",633,"rturnedsuperior",692,"ruhiragana",12427,"rukatakana",12523,"rukatakanahalfwidth",65433,"rupeemarkbengali",2546,"rupeesignbengali",2547,"rupiah",63197,"ruthai",3620,"rvocalicbengali",2443,"rvocalicdeva",2315,"rvocalicgujarati",2699,"rvocalicvowelsignbengali",2499,"rvocalicvowelsigndeva",2371,"rvocalicvowelsigngujarati",2755,"s",115,"sabengali",2488,"sacute",347,"sacutedotaccent",7781,"sadarabic",1589,"sadeva",2360,"sadfinalarabic",65210,"sadinitialarabic",65211,"sadmedialarabic",65212,"sagujarati",2744,"sagurmukhi",2616,"sahiragana",12373,"sakatakana",12469,"sakatakanahalfwidth",65403,"sallallahoualayhewasallamarabic",65018,"samekh",1505,"samekhdagesh",64321,"samekhdageshhebrew",64321,"samekhhebrew",1505,"saraaathai",3634,"saraaethai",3649,"saraaimaimalaithai",3652,"saraaimaimuanthai",3651,"saraamthai",3635,"saraathai",3632,"saraethai",3648,"saraiileftthai",63622,"saraiithai",3637,"saraileftthai",63621,"saraithai",3636,"saraothai",3650,"saraueeleftthai",63624,"saraueethai",3639,"saraueleftthai",63623,"sarauethai",3638,"sarauthai",3640,"sarauuthai",3641,"sbopomofo",12569,"scaron",353,"scarondotaccent",7783,"scedilla",351,"schwa",601,"schwacyrillic",1241,"schwadieresiscyrillic",1243,"schwahook",602,"scircle",9442,"scircumflex",349,"scommaaccent",537,"sdotaccent",7777,"sdotbelow",7779,"sdotbelowdotaccent",7785,"seagullbelowcmb",828,"second",8243,"secondtonechinese",714,"section",167,"seenarabic",1587,"seenfinalarabic",65202,"seeninitialarabic",65203,"seenmedialarabic",65204,"segol",1462,"segol13",1462,"segol1f",1462,"segol2c",1462,"segolhebrew",1462,"segolnarrowhebrew",1462,"segolquarterhebrew",1462,"segoltahebrew",1426,"segolwidehebrew",1462,"seharmenian",1405,"sehiragana",12379,"sekatakana",12475,"sekatakanahalfwidth",65406,"semicolon",59,"semicolonarabic",1563,"semicolonmonospace",65307,"semicolonsmall",65108,"semivoicedmarkkana",12444,"semivoicedmarkkanahalfwidth",65439,"sentisquare",13090,"sentosquare",13091,"seven",55,"sevenarabic",1639,"sevenbengali",2541,"sevencircle",9318,"sevencircleinversesansserif",10128,"sevendeva",2413,"seveneighths",8542,"sevengujarati",2797,"sevengurmukhi",2669,"sevenhackarabic",1639,"sevenhangzhou",12327,"sevenideographicparen",12838,"seveninferior",8327,"sevenmonospace",65303,"sevenoldstyle",63287,"sevenparen",9338,"sevenperiod",9358,"sevenpersian",1783,"sevenroman",8566,"sevensuperior",8311,"seventeencircle",9328,"seventeenparen",9348,"seventeenperiod",9368,"seventhai",3671,"sfthyphen",173,"shaarmenian",1399,"shabengali",2486,"shacyrillic",1096,"shaddaarabic",1617,"shaddadammaarabic",64609,"shaddadammatanarabic",64606,"shaddafathaarabic",64608,"shaddakasraarabic",64610,"shaddakasratanarabic",64607,"shade",9618,"shadedark",9619,"shadelight",9617,"shademedium",9618,"shadeva",2358,"shagujarati",2742,"shagurmukhi",2614,"shalshelethebrew",1427,"shbopomofo",12565,"shchacyrillic",1097,"sheenarabic",1588,"sheenfinalarabic",65206,"sheeninitialarabic",65207,"sheenmedialarabic",65208,"sheicoptic",995,"sheqel",8362,"sheqelhebrew",8362,"sheva",1456,"sheva115",1456,"sheva15",1456,"sheva22",1456,"sheva2e",1456,"shevahebrew",1456,"shevanarrowhebrew",1456,"shevaquarterhebrew",1456,"shevawidehebrew",1456,"shhacyrillic",1211,"shimacoptic",1005,"shin",1513,"shindagesh",64329,"shindageshhebrew",64329,"shindageshshindot",64300,"shindageshshindothebrew",64300,"shindageshsindot",64301,"shindageshsindothebrew",64301,"shindothebrew",1473,"shinhebrew",1513,"shinshindot",64298,"shinshindothebrew",64298,"shinsindot",64299,"shinsindothebrew",64299,"shook",642,"sigma",963,"sigma1",962,"sigmafinal",962,"sigmalunatesymbolgreek",1010,"sihiragana",12375,"sikatakana",12471,"sikatakanahalfwidth",65404,"siluqhebrew",1469,"siluqlefthebrew",1469,"similar",8764,"sindothebrew",1474,"siosacirclekorean",12916,"siosaparenkorean",12820,"sioscieuckorean",12670,"sioscirclekorean",12902,"sioskiyeokkorean",12666,"sioskorean",12613,"siosnieunkorean",12667,"siosparenkorean",12806,"siospieupkorean",12669,"siostikeutkorean",12668,"six",54,"sixarabic",1638,"sixbengali",2540,"sixcircle",9317,"sixcircleinversesansserif",10127,"sixdeva",2412,"sixgujarati",2796,"sixgurmukhi",2668,"sixhackarabic",1638,"sixhangzhou",12326,"sixideographicparen",12837,"sixinferior",8326,"sixmonospace",65302,"sixoldstyle",63286,"sixparen",9337,"sixperiod",9357,"sixpersian",1782,"sixroman",8565,"sixsuperior",8310,"sixteencircle",9327,"sixteencurrencydenominatorbengali",2553,"sixteenparen",9347,"sixteenperiod",9367,"sixthai",3670,"slash",47,"slashmonospace",65295,"slong",383,"slongdotaccent",7835,"smileface",9786,"smonospace",65363,"sofpasuqhebrew",1475,"softhyphen",173,"softsigncyrillic",1100,"sohiragana",12381,"sokatakana",12477,"sokatakanahalfwidth",65407,"soliduslongoverlaycmb",824,"solidusshortoverlaycmb",823,"sorusithai",3625,"sosalathai",3624,"sosothai",3595,"sosuathai",3626,"space",32,"spacehackarabic",32,"spade",9824,"spadesuitblack",9824,"spadesuitwhite",9828,"sparen",9390,"squarebelowcmb",827,"squarecc",13252,"squarecm",13213,"squarediagonalcrosshatchfill",9641,"squarehorizontalfill",9636,"squarekg",13199,"squarekm",13214,"squarekmcapital",13262,"squareln",13265,"squarelog",13266,"squaremg",13198,"squaremil",13269,"squaremm",13212,"squaremsquared",13217,"squareorthogonalcrosshatchfill",9638,"squareupperlefttolowerrightfill",9639,"squareupperrighttolowerleftfill",9640,"squareverticalfill",9637,"squarewhitewithsmallblack",9635,"srsquare",13275,"ssabengali",2487,"ssadeva",2359,"ssagujarati",2743,"ssangcieuckorean",12617,"ssanghieuhkorean",12677,"ssangieungkorean",12672,"ssangkiyeokkorean",12594,"ssangnieunkorean",12645,"ssangpieupkorean",12611,"ssangsioskorean",12614,"ssangtikeutkorean",12600,"ssuperior",63218,"sterling",163,"sterlingmonospace",65505,"strokelongoverlaycmb",822,"strokeshortoverlaycmb",821,"subset",8834,"subsetnotequal",8842,"subsetorequal",8838,"succeeds",8827,"suchthat",8715,"suhiragana",12377,"sukatakana",12473,"sukatakanahalfwidth",65405,"sukunarabic",1618,"summation",8721,"sun",9788,"superset",8835,"supersetnotequal",8843,"supersetorequal",8839,"svsquare",13276,"syouwaerasquare",13180,"t",116,"tabengali",2468,"tackdown",8868,"tackleft",8867,"tadeva",2340,"tagujarati",2724,"tagurmukhi",2596,"taharabic",1591,"tahfinalarabic",65218,"tahinitialarabic",65219,"tahiragana",12383,"tahmedialarabic",65220,"taisyouerasquare",13181,"takatakana",12479,"takatakanahalfwidth",65408,"tatweelarabic",1600,"tau",964,"tav",1514,"tavdages",64330,"tavdagesh",64330,"tavdageshhebrew",64330,"tavhebrew",1514,"tbar",359,"tbopomofo",12554,"tcaron",357,"tccurl",680,"tcedilla",355,"tcheharabic",1670,"tchehfinalarabic",64379,"tchehinitialarabic",64380,"tchehmedialarabic",64381,"tcircle",9443,"tcircumflexbelow",7793,"tcommaaccent",355,"tdieresis",7831,"tdotaccent",7787,"tdotbelow",7789,"tecyrillic",1090,"tedescendercyrillic",1197,"teharabic",1578,"tehfinalarabic",65174,"tehhahinitialarabic",64674,"tehhahisolatedarabic",64524,"tehinitialarabic",65175,"tehiragana",12390,"tehjeeminitialarabic",64673,"tehjeemisolatedarabic",64523,"tehmarbutaarabic",1577,"tehmarbutafinalarabic",65172,"tehmedialarabic",65176,"tehmeeminitialarabic",64676,"tehmeemisolatedarabic",64526,"tehnoonfinalarabic",64627,"tekatakana",12486,"tekatakanahalfwidth",65411,"telephone",8481,"telephoneblack",9742,"telishagedolahebrew",1440,"telishaqetanahebrew",1449,"tencircle",9321,"tenideographicparen",12841,"tenparen",9341,"tenperiod",9361,"tenroman",8569,"tesh",679,"tet",1496,"tetdagesh",64312,"tetdageshhebrew",64312,"tethebrew",1496,"tetsecyrillic",1205,"tevirhebrew",1435,"tevirlefthebrew",1435,"thabengali",2469,"thadeva",2341,"thagujarati",2725,"thagurmukhi",2597,"thalarabic",1584,"thalfinalarabic",65196,"thanthakhatlowleftthai",63640,"thanthakhatlowrightthai",63639,"thanthakhatthai",3660,"thanthakhatupperleftthai",63638,"theharabic",1579,"thehfinalarabic",65178,"thehinitialarabic",65179,"thehmedialarabic",65180,"thereexists",8707,"therefore",8756,"theta",952,"theta1",977,"thetasymbolgreek",977,"thieuthacirclekorean",12921,"thieuthaparenkorean",12825,"thieuthcirclekorean",12907,"thieuthkorean",12620,"thieuthparenkorean",12811,"thirteencircle",9324,"thirteenparen",9344,"thirteenperiod",9364,"thonangmonthothai",3601,"thook",429,"thophuthaothai",3602,"thorn",254,"thothahanthai",3607,"thothanthai",3600,"thothongthai",3608,"thothungthai",3606,"thousandcyrillic",1154,"thousandsseparatorarabic",1644,"thousandsseparatorpersian",1644,"three",51,"threearabic",1635,"threebengali",2537,"threecircle",9314,"threecircleinversesansserif",10124,"threedeva",2409,"threeeighths",8540,"threegujarati",2793,"threegurmukhi",2665,"threehackarabic",1635,"threehangzhou",12323,"threeideographicparen",12834,"threeinferior",8323,"threemonospace",65299,"threenumeratorbengali",2550,"threeoldstyle",63283,"threeparen",9334,"threeperiod",9354,"threepersian",1779,"threequarters",190,"threequartersemdash",63198,"threeroman",8562,"threesuperior",179,"threethai",3667,"thzsquare",13204,"tihiragana",12385,"tikatakana",12481,"tikatakanahalfwidth",65409,"tikeutacirclekorean",12912,"tikeutaparenkorean",12816,"tikeutcirclekorean",12898,"tikeutkorean",12599,"tikeutparenkorean",12802,"tilde",732,"tildebelowcmb",816,"tildecmb",771,"tildecomb",771,"tildedoublecmb",864,"tildeoperator",8764,"tildeoverlaycmb",820,"tildeverticalcmb",830,"timescircle",8855,"tipehahebrew",1430,"tipehalefthebrew",1430,"tippigurmukhi",2672,"titlocyrilliccmb",1155,"tiwnarmenian",1407,"tlinebelow",7791,"tmonospace",65364,"toarmenian",1385,"tohiragana",12392,"tokatakana",12488,"tokatakanahalfwidth",65412,"tonebarextrahighmod",741,"tonebarextralowmod",745,"tonebarhighmod",742,"tonebarlowmod",744,"tonebarmidmod",743,"tonefive",445,"tonesix",389,"tonetwo",424,"tonos",900,"tonsquare",13095,"topatakthai",3599,"tortoiseshellbracketleft",12308,"tortoiseshellbracketleftsmall",65117,"tortoiseshellbracketleftvertical",65081,"tortoiseshellbracketright",12309,"tortoiseshellbracketrightsmall",65118,"tortoiseshellbracketrightvertical",65082,"totaothai",3605,"tpalatalhook",427,"tparen",9391,"trademark",8482,"trademarksans",63722,"trademarkserif",63195,"tretroflexhook",648,"triagdn",9660,"triaglf",9668,"triagrt",9658,"triagup",9650,"ts",678,"tsadi",1510,"tsadidagesh",64326,"tsadidageshhebrew",64326,"tsadihebrew",1510,"tsecyrillic",1094,"tsere",1461,"tsere12",1461,"tsere1e",1461,"tsere2b",1461,"tserehebrew",1461,"tserenarrowhebrew",1461,"tserequarterhebrew",1461,"tserewidehebrew",1461,"tshecyrillic",1115,"tsuperior",63219,"ttabengali",2463,"ttadeva",2335,"ttagujarati",2719,"ttagurmukhi",2591,"tteharabic",1657,"ttehfinalarabic",64359,"ttehinitialarabic",64360,"ttehmedialarabic",64361,"tthabengali",2464,"tthadeva",2336,"tthagujarati",2720,"tthagurmukhi",2592,"tturned",647,"tuhiragana",12388,"tukatakana",12484,"tukatakanahalfwidth",65410,"tusmallhiragana",12387,"tusmallkatakana",12483,"tusmallkatakanahalfwidth",65391,"twelvecircle",9323,"twelveparen",9343,"twelveperiod",9363,"twelveroman",8571,"twentycircle",9331,"twentyhangzhou",21316,"twentyparen",9351,"twentyperiod",9371,"two",50,"twoarabic",1634,"twobengali",2536,"twocircle",9313,"twocircleinversesansserif",10123,"twodeva",2408,"twodotenleader",8229,"twodotleader",8229,"twodotleadervertical",65072,"twogujarati",2792,"twogurmukhi",2664,"twohackarabic",1634,"twohangzhou",12322,"twoideographicparen",12833,"twoinferior",8322,"twomonospace",65298,"twonumeratorbengali",2549,"twooldstyle",63282,"twoparen",9333,"twoperiod",9353,"twopersian",1778,"tworoman",8561,"twostroke",443,"twosuperior",178,"twothai",3666,"twothirds",8532,"u",117,"uacute",250,"ubar",649,"ubengali",2441,"ubopomofo",12584,"ubreve",365,"ucaron",468,"ucircle",9444,"ucircumflex",251,"ucircumflexbelow",7799,"ucyrillic",1091,"udattadeva",2385,"udblacute",369,"udblgrave",533,"udeva",2313,"udieresis",252,"udieresisacute",472,"udieresisbelow",7795,"udieresiscaron",474,"udieresiscyrillic",1265,"udieresisgrave",476,"udieresismacron",470,"udotbelow",7909,"ugrave",249,"ugujarati",2697,"ugurmukhi",2569,"uhiragana",12358,"uhookabove",7911,"uhorn",432,"uhornacute",7913,"uhorndotbelow",7921,"uhorngrave",7915,"uhornhookabove",7917,"uhorntilde",7919,"uhungarumlaut",369,"uhungarumlautcyrillic",1267,"uinvertedbreve",535,"ukatakana",12454,"ukatakanahalfwidth",65395,"ukcyrillic",1145,"ukorean",12636,"umacron",363,"umacroncyrillic",1263,"umacrondieresis",7803,"umatragurmukhi",2625,"umonospace",65365,"underscore",95,"underscoredbl",8215,"underscoremonospace",65343,"underscorevertical",65075,"underscorewavy",65103,"union",8746,"universal",8704,"uogonek",371,"uparen",9392,"upblock",9600,"upperdothebrew",1476,"upsilon",965,"upsilondieresis",971,"upsilondieresistonos",944,"upsilonlatin",650,"upsilontonos",973,"uptackbelowcmb",797,"uptackmod",724,"uragurmukhi",2675,"uring",367,"ushortcyrillic",1118,"usmallhiragana",12357,"usmallkatakana",12453,"usmallkatakanahalfwidth",65385,"ustraightcyrillic",1199,"ustraightstrokecyrillic",1201,"utilde",361,"utildeacute",7801,"utildebelow",7797,"uubengali",2442,"uudeva",2314,"uugujarati",2698,"uugurmukhi",2570,"uumatragurmukhi",2626,"uuvowelsignbengali",2498,"uuvowelsigndeva",2370,"uuvowelsigngujarati",2754,"uvowelsignbengali",2497,"uvowelsigndeva",2369,"uvowelsigngujarati",2753,"v",118,"vadeva",2357,"vagujarati",2741,"vagurmukhi",2613,"vakatakana",12535,"vav",1493,"vavdagesh",64309,"vavdagesh65",64309,"vavdageshhebrew",64309,"vavhebrew",1493,"vavholam",64331,"vavholamhebrew",64331,"vavvavhebrew",1520,"vavyodhebrew",1521,"vcircle",9445,"vdotbelow",7807,"vecyrillic",1074,"veharabic",1700,"vehfinalarabic",64363,"vehinitialarabic",64364,"vehmedialarabic",64365,"vekatakana",12537,"venus",9792,"verticalbar",124,"verticallineabovecmb",781,"verticallinebelowcmb",809,"verticallinelowmod",716,"verticallinemod",712,"vewarmenian",1406,"vhook",651,"vikatakana",12536,"viramabengali",2509,"viramadeva",2381,"viramagujarati",2765,"visargabengali",2435,"visargadeva",2307,"visargagujarati",2691,"vmonospace",65366,"voarmenian",1400,"voicediterationhiragana",12446,"voicediterationkatakana",12542,"voicedmarkkana",12443,"voicedmarkkanahalfwidth",65438,"vokatakana",12538,"vparen",9393,"vtilde",7805,"vturned",652,"vuhiragana",12436,"vukatakana",12532,"w",119,"wacute",7811,"waekorean",12633,"wahiragana",12431,"wakatakana",12527,"wakatakanahalfwidth",65436,"wakorean",12632,"wasmallhiragana",12430,"wasmallkatakana",12526,"wattosquare",13143,"wavedash",12316,"wavyunderscorevertical",65076,"wawarabic",1608,"wawfinalarabic",65262,"wawhamzaabovearabic",1572,"wawhamzaabovefinalarabic",65158,"wbsquare",13277,"wcircle",9446,"wcircumflex",373,"wdieresis",7813,"wdotaccent",7815,"wdotbelow",7817,"wehiragana",12433,"weierstrass",8472,"wekatakana",12529,"wekorean",12638,"weokorean",12637,"wgrave",7809,"whitebullet",9702,"whitecircle",9675,"whitecircleinverse",9689,"whitecornerbracketleft",12302,"whitecornerbracketleftvertical",65091,"whitecornerbracketright",12303,"whitecornerbracketrightvertical",65092,"whitediamond",9671,"whitediamondcontainingblacksmalldiamond",9672,"whitedownpointingsmalltriangle",9663,"whitedownpointingtriangle",9661,"whiteleftpointingsmalltriangle",9667,"whiteleftpointingtriangle",9665,"whitelenticularbracketleft",12310,"whitelenticularbracketright",12311,"whiterightpointingsmalltriangle",9657,"whiterightpointingtriangle",9655,"whitesmallsquare",9643,"whitesmilingface",9786,"whitesquare",9633,"whitestar",9734,"whitetelephone",9743,"whitetortoiseshellbracketleft",12312,"whitetortoiseshellbracketright",12313,"whiteuppointingsmalltriangle",9653,"whiteuppointingtriangle",9651,"wihiragana",12432,"wikatakana",12528,"wikorean",12639,"wmonospace",65367,"wohiragana",12434,"wokatakana",12530,"wokatakanahalfwidth",65382,"won",8361,"wonmonospace",65510,"wowaenthai",3623,"wparen",9394,"wring",7832,"wsuperior",695,"wturned",653,"wynn",447,"x",120,"xabovecmb",829,"xbopomofo",12562,"xcircle",9447,"xdieresis",7821,"xdotaccent",7819,"xeharmenian",1389,"xi",958,"xmonospace",65368,"xparen",9395,"xsuperior",739,"y",121,"yaadosquare",13134,"yabengali",2479,"yacute",253,"yadeva",2351,"yaekorean",12626,"yagujarati",2735,"yagurmukhi",2607,"yahiragana",12420,"yakatakana",12516,"yakatakanahalfwidth",65428,"yakorean",12625,"yamakkanthai",3662,"yasmallhiragana",12419,"yasmallkatakana",12515,"yasmallkatakanahalfwidth",65388,"yatcyrillic",1123,"ycircle",9448,"ycircumflex",375,"ydieresis",255,"ydotaccent",7823,"ydotbelow",7925,"yeharabic",1610,"yehbarreearabic",1746,"yehbarreefinalarabic",64431,"yehfinalarabic",65266,"yehhamzaabovearabic",1574,"yehhamzaabovefinalarabic",65162,"yehhamzaaboveinitialarabic",65163,"yehhamzaabovemedialarabic",65164,"yehinitialarabic",65267,"yehmedialarabic",65268,"yehmeeminitialarabic",64733,"yehmeemisolatedarabic",64600,"yehnoonfinalarabic",64660,"yehthreedotsbelowarabic",1745,"yekorean",12630,"yen",165,"yenmonospace",65509,"yeokorean",12629,"yeorinhieuhkorean",12678,"yerahbenyomohebrew",1450,"yerahbenyomolefthebrew",1450,"yericyrillic",1099,"yerudieresiscyrillic",1273,"yesieungkorean",12673,"yesieungpansioskorean",12675,"yesieungsioskorean",12674,"yetivhebrew",1434,"ygrave",7923,"yhook",436,"yhookabove",7927,"yiarmenian",1397,"yicyrillic",1111,"yikorean",12642,"yinyang",9775,"yiwnarmenian",1410,"ymonospace",65369,"yod",1497,"yoddagesh",64313,"yoddageshhebrew",64313,"yodhebrew",1497,"yodyodhebrew",1522,"yodyodpatahhebrew",64287,"yohiragana",12424,"yoikorean",12681,"yokatakana",12520,"yokatakanahalfwidth",65430,"yokorean",12635,"yosmallhiragana",12423,"yosmallkatakana",12519,"yosmallkatakanahalfwidth",65390,"yotgreek",1011,"yoyaekorean",12680,"yoyakorean",12679,"yoyakthai",3618,"yoyingthai",3597,"yparen",9396,"ypogegrammeni",890,"ypogegrammenigreekcmb",837,"yr",422,"yring",7833,"ysuperior",696,"ytilde",7929,"yturned",654,"yuhiragana",12422,"yuikorean",12684,"yukatakana",12518,"yukatakanahalfwidth",65429,"yukorean",12640,"yusbigcyrillic",1131,"yusbigiotifiedcyrillic",1133,"yuslittlecyrillic",1127,"yuslittleiotifiedcyrillic",1129,"yusmallhiragana",12421,"yusmallkatakana",12517,"yusmallkatakanahalfwidth",65389,"yuyekorean",12683,"yuyeokorean",12682,"yyabengali",2527,"yyadeva",2399,"z",122,"zaarmenian",1382,"zacute",378,"zadeva",2395,"zagurmukhi",2651,"zaharabic",1592,"zahfinalarabic",65222,"zahinitialarabic",65223,"zahiragana",12374,"zahmedialarabic",65224,"zainarabic",1586,"zainfinalarabic",65200,"zakatakana",12470,"zaqefgadolhebrew",1429,"zaqefqatanhebrew",1428,"zarqahebrew",1432,"zayin",1494,"zayindagesh",64310,"zayindageshhebrew",64310,"zayinhebrew",1494,"zbopomofo",12567,"zcaron",382,"zcircle",9449,"zcircumflex",7825,"zcurl",657,"zdot",380,"zdotaccent",380,"zdotbelow",7827,"zecyrillic",1079,"zedescendercyrillic",1177,"zedieresiscyrillic",1247,"zehiragana",12380,"zekatakana",12476,"zero",48,"zeroarabic",1632,"zerobengali",2534,"zerodeva",2406,"zerogujarati",2790,"zerogurmukhi",2662,"zerohackarabic",1632,"zeroinferior",8320,"zeromonospace",65296,"zerooldstyle",63280,"zeropersian",1776,"zerosuperior",8304,"zerothai",3664,"zerowidthjoiner",65279,"zerowidthnonjoiner",8204,"zerowidthspace",8203,"zeta",950,"zhbopomofo",12563,"zhearmenian",1386,"zhebrevecyrillic",1218,"zhecyrillic",1078,"zhedescendercyrillic",1175,"zhedieresiscyrillic",1245,"zihiragana",12376,"zikatakana",12472,"zinorhebrew",1454,"zlinebelow",7829,"zmonospace",65370,"zohiragana",12382,"zokatakana",12478,"zparen",9397,"zretroflexhook",656,"zstroke",438,"zuhiragana",12378,"zukatakana",12474,".notdef",0,"angbracketleftbig",9001,"angbracketleftBig",9001,"angbracketleftbigg",9001,"angbracketleftBigg",9001,"angbracketrightBig",9002,"angbracketrightbig",9002,"angbracketrightBigg",9002,"angbracketrightbigg",9002,"arrowhookleft",8618,"arrowhookright",8617,"arrowlefttophalf",8636,"arrowleftbothalf",8637,"arrownortheast",8599,"arrownorthwest",8598,"arrowrighttophalf",8640,"arrowrightbothalf",8641,"arrowsoutheast",8600,"arrowsouthwest",8601,"backslashbig",8726,"backslashBig",8726,"backslashBigg",8726,"backslashbigg",8726,"bardbl",8214,"bracehtipdownleft",65079,"bracehtipdownright",65079,"bracehtipupleft",65080,"bracehtipupright",65080,"braceleftBig",123,"braceleftbig",123,"braceleftbigg",123,"braceleftBigg",123,"bracerightBig",125,"bracerightbig",125,"bracerightbigg",125,"bracerightBigg",125,"bracketleftbig",91,"bracketleftBig",91,"bracketleftbigg",91,"bracketleftBigg",91,"bracketrightBig",93,"bracketrightbig",93,"bracketrightbigg",93,"bracketrightBigg",93,"ceilingleftbig",8968,"ceilingleftBig",8968,"ceilingleftBigg",8968,"ceilingleftbigg",8968,"ceilingrightbig",8969,"ceilingrightBig",8969,"ceilingrightbigg",8969,"ceilingrightBigg",8969,"circledotdisplay",8857,"circledottext",8857,"circlemultiplydisplay",8855,"circlemultiplytext",8855,"circleplusdisplay",8853,"circleplustext",8853,"contintegraldisplay",8750,"contintegraltext",8750,"coproductdisplay",8720,"coproducttext",8720,"floorleftBig",8970,"floorleftbig",8970,"floorleftbigg",8970,"floorleftBigg",8970,"floorrightbig",8971,"floorrightBig",8971,"floorrightBigg",8971,"floorrightbigg",8971,"hatwide",770,"hatwider",770,"hatwidest",770,"intercal",7488,"integraldisplay",8747,"integraltext",8747,"intersectiondisplay",8898,"intersectiontext",8898,"logicalanddisplay",8743,"logicalandtext",8743,"logicalordisplay",8744,"logicalortext",8744,"parenleftBig",40,"parenleftbig",40,"parenleftBigg",40,"parenleftbigg",40,"parenrightBig",41,"parenrightbig",41,"parenrightBigg",41,"parenrightbigg",41,"prime",8242,"productdisplay",8719,"producttext",8719,"radicalbig",8730,"radicalBig",8730,"radicalBigg",8730,"radicalbigg",8730,"radicalbt",8730,"radicaltp",8730,"radicalvertex",8730,"slashbig",47,"slashBig",47,"slashBigg",47,"slashbigg",47,"summationdisplay",8721,"summationtext",8721,"tildewide",732,"tildewider",732,"tildewidest",732,"uniondisplay",8899,"unionmultidisplay",8846,"unionmultitext",8846,"unionsqdisplay",8852,"unionsqtext",8852,"uniontext",8899,"vextenddouble",8741,"vextendsingle",8739]}),i=(0,r.getArrayLookupTableFactory)(function(){return["space",32,"a1",9985,"a2",9986,"a202",9987,"a3",9988,"a4",9742,"a5",9990,"a119",9991,"a118",9992,"a117",9993,"a11",9755,"a12",9758,"a13",9996,"a14",9997,"a15",9998,"a16",9999,"a105",1e4,"a17",10001,"a18",10002,"a19",10003,"a20",10004,"a21",10005,"a22",10006,"a23",10007,"a24",10008,"a25",10009,"a26",10010,"a27",10011,"a28",10012,"a6",10013,"a7",10014,"a8",10015,"a9",10016,"a10",10017,"a29",10018,"a30",10019,"a31",10020,"a32",10021,"a33",10022,"a34",10023,"a35",9733,"a36",10025,"a37",10026,"a38",10027,"a39",10028,"a40",10029,"a41",10030,"a42",10031,"a43",10032,"a44",10033,"a45",10034,"a46",10035,"a47",10036,"a48",10037,"a49",10038,"a50",10039,"a51",10040,"a52",10041,"a53",10042,"a54",10043,"a55",10044,"a56",10045,"a57",10046,"a58",10047,"a59",10048,"a60",10049,"a61",10050,"a62",10051,"a63",10052,"a64",10053,"a65",10054,"a66",10055,"a67",10056,"a68",10057,"a69",10058,"a70",10059,"a71",9679,"a72",10061,"a73",9632,"a74",10063,"a203",10064,"a75",10065,"a204",10066,"a76",9650,"a77",9660,"a78",9670,"a79",10070,"a81",9687,"a82",10072,"a83",10073,"a84",10074,"a97",10075,"a98",10076,"a99",10077,"a100",10078,"a101",10081,"a102",10082,"a103",10083,"a104",10084,"a106",10085,"a107",10086,"a108",10087,"a112",9827,"a111",9830,"a110",9829,"a109",9824,"a120",9312,"a121",9313,"a122",9314,"a123",9315,"a124",9316,"a125",9317,"a126",9318,"a127",9319,"a128",9320,"a129",9321,"a130",10102,"a131",10103,"a132",10104,"a133",10105,"a134",10106,"a135",10107,"a136",10108,"a137",10109,"a138",10110,"a139",10111,"a140",10112,"a141",10113,"a142",10114,"a143",10115,"a144",10116,"a145",10117,"a146",10118,"a147",10119,"a148",10120,"a149",10121,"a150",10122,"a151",10123,"a152",10124,"a153",10125,"a154",10126,"a155",10127,"a156",10128,"a157",10129,"a158",10130,"a159",10131,"a160",10132,"a161",8594,"a163",8596,"a164",8597,"a196",10136,"a165",10137,"a192",10138,"a166",10139,"a167",10140,"a168",10141,"a169",10142,"a170",10143,"a171",10144,"a172",10145,"a173",10146,"a162",10147,"a174",10148,"a175",10149,"a176",10150,"a177",10151,"a178",10152,"a179",10153,"a193",10154,"a180",10155,"a199",10156,"a181",10157,"a200",10158,"a182",10159,"a201",10161,"a183",10162,"a184",10163,"a197",10164,"a185",10165,"a194",10166,"a198",10167,"a186",10168,"a195",10169,"a187",10170,"a188",10171,"a189",10172,"a190",10173,"a191",10174,"a89",10088,"a90",10089,"a93",10090,"a94",10091,"a91",10092,"a92",10093,"a205",10094,"a85",10095,"a206",10096,"a86",10097,"a87",10098,"a88",10099,"a95",10100,"a96",10101,".notdef",0]})},(e2,t2,a2)=>{a2.r(t2),a2.d(t2,{clearUnicodeCaches:()=>clearUnicodeCaches,getCharUnicodeCategory:()=>getCharUnicodeCategory,getNormalizedUnicodes:()=>s,getUnicodeForGlyph:()=>getUnicodeForGlyph,getUnicodeRangeFor:()=>getUnicodeRangeFor,mapSpecialUnicodeValues:()=>mapSpecialUnicodeValues,reverseIfRtl:()=>reverseIfRtl});var r=a2(6);const n=(0,r.getLookupTableFactory)(function(e3){e3[63721]=169,e3[63193]=169,e3[63720]=174,e3[63194]=174,e3[63722]=8482,e3[63195]=8482,e3[63729]=9127,e3[63730]=9128,e3[63731]=9129,e3[63740]=9131,e3[63741]=9132,e3[63742]=9133,e3[63726]=9121,e3[63727]=9122,e3[63728]=9123,e3[63737]=9124,e3[63738]=9125,e3[63739]=9126,e3[63723]=9115,e3[63724]=9116,e3[63725]=9117,e3[63734]=9118,e3[63735]=9119,e3[63736]=9120});function mapSpecialUnicodeValues(e3){return e3>=65520&&e3<=65535?0:e3>=62976&&e3<=63743?n()[e3]||e3:173===e3?45:e3}function getUnicodeForGlyph(e3,t3){let a3=t3[e3];if(void 0!==a3)return a3;if(!e3)return-1;if("u"===e3[0]){const t4=e3.length;let r2;if(7===t4&&"n"===e3[1]&&"i"===e3[2])r2=e3.substring(3);else{if(!(t4>=5&&t4<=7))return-1;r2=e3.substring(1)}if(r2===r2.toUpperCase()&&(a3=parseInt(r2,16),a3>=0))return a3}return-1}const i=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function getUnicodeRangeFor(e3){for(let t3=0,a3=i.length;t3<a3;t3++){const a4=i[t3];if(e3>=a4.begin&&e3<a4.end)return t3}return-1}const s=(0,r.getArrayLookupTableFactory)(function(){return["\xa8"," \u0308","\xaf"," \u0304","\xb4"," \u0301","\xb5","\u03bc","\xb8"," \u0327","\u0132","IJ","\u0133","ij","\u013f","L\xb7","\u0140","l\xb7","\u0149","\u02bcn","\u017f","s","\u01c4","D\u017d","\u01c5","D\u017e","\u01c6","d\u017e","\u01c7","LJ","\u01c8","Lj","\u01c9","lj","\u01ca","NJ","\u01cb","Nj","\u01cc","nj","\u01f1","DZ","\u01f2","Dz","\u01f3","dz","\u02d8"," \u0306","\u02d9"," \u0307","\u02da"," \u030a","\u02db"," \u0328","\u02dc"," \u0303","\u02dd"," \u030b","\u037a"," \u0345","\u0384"," \u0301","\u03d0","\u03b2","\u03d1","\u03b8","\u03d2","\u03a5","\u03d5","\u03c6","\u03d6","\u03c0","\u03f0","\u03ba","\u03f1","\u03c1","\u03f2","\u03c2","\u03f4","\u0398","\u03f5","\u03b5","\u03f9","\u03a3","\u0587","\u0565\u0582","\u0675","\u0627\u0674","\u0676","\u0648\u0674","\u0677","\u06c7\u0674","\u0678","\u064a\u0674","\u0e33","\u0e4d\u0e32","\u0eb3","\u0ecd\u0eb2","\u0edc","\u0eab\u0e99","\u0edd","\u0eab\u0ea1","\u0f77","\u0fb2\u0f81","\u0f79","\u0fb3\u0f81","\u1e9a","a\u02be","\u1fbd"," \u0313","\u1fbf"," \u0313","\u1fc0"," \u0342","\u1ffe"," \u0314","\u2002"," ","\u2003"," ","\u2004"," ","\u2005"," ","\u2006"," ","\u2008"," ","\u2009"," ","\u200a"," ","\u2017"," \u0333","\u2024",".","\u2025","..","\u2026","...","\u2033","\u2032\u2032","\u2034","\u2032\u2032\u2032","\u2036","\u2035\u2035","\u2037","\u2035\u2035\u2035","\u203c","!!","\u203e"," \u0305","\u2047","??","\u2048","?!","\u2049","!?","\u2057","\u2032\u2032\u2032\u2032","\u205f"," ","\u20a8","Rs","\u2100","a/c","\u2101","a/s","\u2103","\xb0C","\u2105","c/o","\u2106","c/u","\u2107","\u0190","\u2109","\xb0F","\u2116","No","\u2121","TEL","\u2135","\u05d0","\u2136","\u05d1","\u2137","\u05d2","\u2138","\u05d3","\u213b","FAX","\u2160","I","\u2161","II","\u2162","III","\u2163","IV","\u2164","V","\u2165","VI","\u2166","VII","\u2167","VIII","\u2168","IX","\u2169","X","\u216a","XI","\u216b","XII","\u216c","L","\u216d","C","\u216e","D","\u216f","M","\u2170","i","\u2171","ii","\u2172","iii","\u2173","iv","\u2174","v","\u2175","vi","\u2176","vii","\u2177","viii","\u2178","ix","\u2179","x","\u217a","xi","\u217b","xii","\u217c","l","\u217d","c","\u217e","d","\u217f","m","\u222c","\u222b\u222b","\u222d","\u222b\u222b\u222b","\u222f","\u222e\u222e","\u2230","\u222e\u222e\u222e","\u2474","(1)","\u2475","(2)","\u2476","(3)","\u2477","(4)","\u2478","(5)","\u2479","(6)","\u247a","(7)","\u247b","(8)","\u247c","(9)","\u247d","(10)","\u247e","(11)","\u247f","(12)","\u2480","(13)","\u2481","(14)","\u2482","(15)","\u2483","(16)","\u2484","(17)","\u2485","(18)","\u2486","(19)","\u2487","(20)","\u2488","1.","\u2489","2.","\u248a","3.","\u248b","4.","\u248c","5.","\u248d","6.","\u248e","7.","\u248f","8.","\u2490","9.","\u2491","10.","\u2492","11.","\u2493","12.","\u2494","13.","\u2495","14.","\u2496","15.","\u2497","16.","\u2498","17.","\u2499","18.","\u249a","19.","\u249b","20.","\u249c","(a)","\u249d","(b)","\u249e","(c)","\u249f","(d)","\u24a0","(e)","\u24a1","(f)","\u24a2","(g)","\u24a3","(h)","\u24a4","(i)","\u24a5","(j)","\u24a6","(k)","\u24a7","(l)","\u24a8","(m)","\u24a9","(n)","\u24aa","(o)","\u24ab","(p)","\u24ac","(q)","\u24ad","(r)","\u24ae","(s)","\u24af","(t)","\u24b0","(u)","\u24b1","(v)","\u24b2","(w)","\u24b3","(x)","\u24b4","(y)","\u24b5","(z)","\u2a0c","\u222b\u222b\u222b\u222b","\u2a74","::=","\u2a75","==","\u2a76","===","\u2e9f","\u6bcd","\u2ef3","\u9f9f","\u2f00","\u4e00","\u2f01","\u4e28","\u2f02","\u4e36","\u2f03","\u4e3f","\u2f04","\u4e59","\u2f05","\u4e85","\u2f06","\u4e8c","\u2f07","\u4ea0","\u2f08","\u4eba","\u2f09","\u513f","\u2f0a","\u5165","\u2f0b","\u516b","\u2f0c","\u5182","\u2f0d","\u5196","\u2f0e","\u51ab","\u2f0f","\u51e0","\u2f10","\u51f5","\u2f11","\u5200","\u2f12","\u529b","\u2f13","\u52f9","\u2f14","\u5315","\u2f15","\u531a","\u2f16","\u5338","\u2f17","\u5341","\u2f18","\u535c","\u2f19","\u5369","\u2f1a","\u5382","\u2f1b","\u53b6","\u2f1c","\u53c8","\u2f1d","\u53e3","\u2f1e","\u56d7","\u2f1f","\u571f","\u2f20","\u58eb","\u2f21","\u5902","\u2f22","\u590a","\u2f23","\u5915","\u2f24","\u5927","\u2f25","\u5973","\u2f26","\u5b50","\u2f27","\u5b80","\u2f28","\u5bf8","\u2f29","\u5c0f","\u2f2a","\u5c22","\u2f2b","\u5c38","\u2f2c","\u5c6e","\u2f2d","\u5c71","\u2f2e","\u5ddb","\u2f2f","\u5de5","\u2f30","\u5df1","\u2f31","\u5dfe","\u2f32","\u5e72","\u2f33","\u5e7a","\u2f34","\u5e7f","\u2f35","\u5ef4","\u2f36","\u5efe","\u2f37","\u5f0b","\u2f38","\u5f13","\u2f39","\u5f50","\u2f3a","\u5f61","\u2f3b","\u5f73","\u2f3c","\u5fc3","\u2f3d","\u6208","\u2f3e","\u6236","\u2f3f","\u624b","\u2f40","\u652f","\u2f41","\u6534","\u2f42","\u6587","\u2f43","\u6597","\u2f44","\u65a4","\u2f45","\u65b9","\u2f46","\u65e0","\u2f47","\u65e5","\u2f48","\u66f0","\u2f49","\u6708","\u2f4a","\u6728","\u2f4b","\u6b20","\u2f4c","\u6b62","\u2f4d","\u6b79","\u2f4e","\u6bb3","\u2f4f","\u6bcb","\u2f50","\u6bd4","\u2f51","\u6bdb","\u2f52","\u6c0f","\u2f53","\u6c14","\u2f54","\u6c34","\u2f55","\u706b","\u2f56","\u722a","\u2f57","\u7236","\u2f58","\u723b","\u2f59","\u723f","\u2f5a","\u7247","\u2f5b","\u7259","\u2f5c","\u725b","\u2f5d","\u72ac","\u2f5e","\u7384","\u2f5f","\u7389","\u2f60","\u74dc","\u2f61","\u74e6","\u2f62","\u7518","\u2f63","\u751f","\u2f64","\u7528","\u2f65","\u7530","\u2f66","\u758b","\u2f67","\u7592","\u2f68","\u7676","\u2f69","\u767d","\u2f6a","\u76ae","\u2f6b","\u76bf","\u2f6c","\u76ee","\u2f6d","\u77db","\u2f6e","\u77e2","\u2f6f","\u77f3","\u2f70","\u793a","\u2f71","\u79b8","\u2f72","\u79be","\u2f73","\u7a74","\u2f74","\u7acb","\u2f75","\u7af9","\u2f76","\u7c73","\u2f77","\u7cf8","\u2f78","\u7f36","\u2f79","\u7f51","\u2f7a","\u7f8a","\u2f7b","\u7fbd","\u2f7c","\u8001","\u2f7d","\u800c","\u2f7e","\u8012","\u2f7f","\u8033","\u2f80","\u807f","\u2f81","\u8089","\u2f82","\u81e3","\u2f83","\u81ea","\u2f84","\u81f3","\u2f85","\u81fc","\u2f86","\u820c","\u2f87","\u821b","\u2f88","\u821f","\u2f89","\u826e","\u2f8a","\u8272","\u2f8b","\u8278","\u2f8c","\u864d","\u2f8d","\u866b","\u2f8e","\u8840","\u2f8f","\u884c","\u2f90","\u8863","\u2f91","\u897e","\u2f92","\u898b","\u2f93","\u89d2","\u2f94","\u8a00","\u2f95","\u8c37","\u2f96","\u8c46","\u2f97","\u8c55","\u2f98","\u8c78","\u2f99","\u8c9d","\u2f9a","\u8d64","\u2f9b","\u8d70","\u2f9c","\u8db3","\u2f9d","\u8eab","\u2f9e","\u8eca","\u2f9f","\u8f9b","\u2fa0","\u8fb0","\u2fa1","\u8fb5","\u2fa2","\u9091","\u2fa3","\u9149","\u2fa4","\u91c6","\u2fa5","\u91cc","\u2fa6","\u91d1","\u2fa7","\u9577","\u2fa8","\u9580","\u2fa9","\u961c","\u2faa","\u96b6","\u2fab","\u96b9","\u2fac","\u96e8","\u2fad","\u9751","\u2fae","\u975e","\u2faf","\u9762","\u2fb0","\u9769","\u2fb1","\u97cb","\u2fb2","\u97ed","\u2fb3","\u97f3","\u2fb4","\u9801","\u2fb5","\u98a8","\u2fb6","\u98db","\u2fb7","\u98df","\u2fb8","\u9996","\u2fb9","\u9999","\u2fba","\u99ac","\u2fbb","\u9aa8","\u2fbc","\u9ad8","\u2fbd","\u9adf","\u2fbe","\u9b25","\u2fbf","\u9b2f","\u2fc0","\u9b32","\u2fc1","\u9b3c","\u2fc2","\u9b5a","\u2fc3","\u9ce5","\u2fc4","\u9e75","\u2fc5","\u9e7f","\u2fc6","\u9ea5","\u2fc7","\u9ebb","\u2fc8","\u9ec3","\u2fc9","\u9ecd","\u2fca","\u9ed1","\u2fcb","\u9ef9","\u2fcc","\u9efd","\u2fcd","\u9f0e","\u2fce","\u9f13","\u2fcf","\u9f20","\u2fd0","\u9f3b","\u2fd1","\u9f4a","\u2fd2","\u9f52","\u2fd3","\u9f8d","\u2fd4","\u9f9c","\u2fd5","\u9fa0","\u3036","\u3012","\u3038","\u5341","\u3039","\u5344","\u303a","\u5345","\u309b"," \u3099","\u309c"," \u309a","\u3131","\u1100","\u3132","\u1101","\u3133","\u11aa","\u3134","\u1102","\u3135","\u11ac","\u3136","\u11ad","\u3137","\u1103","\u3138","\u1104","\u3139","\u1105","\u313a","\u11b0","\u313b","\u11b1","\u313c","\u11b2","\u313d","\u11b3","\u313e","\u11b4","\u313f","\u11b5","\u3140","\u111a","\u3141","\u1106","\u3142","\u1107","\u3143","\u1108","\u3144","\u1121","\u3145","\u1109","\u3146","\u110a","\u3147","\u110b","\u3148","\u110c","\u3149","\u110d","\u314a","\u110e","\u314b","\u110f","\u314c","\u1110","\u314d","\u1111","\u314e","\u1112","\u314f","\u1161","\u3150","\u1162","\u3151","\u1163","\u3152","\u1164","\u3153","\u1165","\u3154","\u1166","\u3155","\u1167","\u3156","\u1168","\u3157","\u1169","\u3158","\u116a","\u3159","\u116b","\u315a","\u116c","\u315b","\u116d","\u315c","\u116e","\u315d","\u116f","\u315e","\u1170","\u315f","\u1171","\u3160","\u1172","\u3161","\u1173","\u3162","\u1174","\u3163","\u1175","\u3164","\u1160","\u3165","\u1114","\u3166","\u1115","\u3167","\u11c7","\u3168","\u11c8","\u3169","\u11cc","\u316a","\u11ce","\u316b","\u11d3","\u316c","\u11d7","\u316d","\u11d9","\u316e","\u111c","\u316f","\u11dd","\u3170","\u11df","\u3171","\u111d","\u3172","\u111e","\u3173","\u1120","\u3174","\u1122","\u3175","\u1123","\u3176","\u1127","\u3177","\u1129","\u3178","\u112b","\u3179","\u112c","\u317a","\u112d","\u317b","\u112e","\u317c","\u112f","\u317d","\u1132","\u317e","\u1136","\u317f","\u1140","\u3180","\u1147","\u3181","\u114c","\u3182","\u11f1","\u3183","\u11f2","\u3184","\u1157","\u3185","\u1158","\u3186","\u1159","\u3187","\u1184","\u3188","\u1185","\u3189","\u1188","\u318a","\u1191","\u318b","\u1192","\u318c","\u1194","\u318d","\u119e","\u318e","\u11a1","\u3200","(\u1100)","\u3201","(\u1102)","\u3202","(\u1103)","\u3203","(\u1105)","\u3204","(\u1106)","\u3205","(\u1107)","\u3206","(\u1109)","\u3207","(\u110b)","\u3208","(\u110c)","\u3209","(\u110e)","\u320a","(\u110f)","\u320b","(\u1110)","\u320c","(\u1111)","\u320d","(\u1112)","\u320e","(\u1100\u1161)","\u320f","(\u1102\u1161)","\u3210","(\u1103\u1161)","\u3211","(\u1105\u1161)","\u3212","(\u1106\u1161)","\u3213","(\u1107\u1161)","\u3214","(\u1109\u1161)","\u3215","(\u110b\u1161)","\u3216","(\u110c\u1161)","\u3217","(\u110e\u1161)","\u3218","(\u110f\u1161)","\u3219","(\u1110\u1161)","\u321a","(\u1111\u1161)","\u321b","(\u1112\u1161)","\u321c","(\u110c\u116e)","\u321d","(\u110b\u1169\u110c\u1165\u11ab)","\u321e","(\u110b\u1169\u1112\u116e)","\u3220","(\u4e00)","\u3221","(\u4e8c)","\u3222","(\u4e09)","\u3223","(\u56db)","\u3224","(\u4e94)","\u3225","(\u516d)","\u3226","(\u4e03)","\u3227","(\u516b)","\u3228","(\u4e5d)","\u3229","(\u5341)","\u322a","(\u6708)","\u322b","(\u706b)","\u322c","(\u6c34)","\u322d","(\u6728)","\u322e","(\u91d1)","\u322f","(\u571f)","\u3230","(\u65e5)","\u3231","(\u682a)","\u3232","(\u6709)","\u3233","(\u793e)","\u3234","(\u540d)","\u3235","(\u7279)","\u3236","(\u8ca1)","\u3237","(\u795d)","\u3238","(\u52b4)","\u3239","(\u4ee3)","\u323a","(\u547c)","\u323b","(\u5b66)","\u323c","(\u76e3)","\u323d","(\u4f01)","\u323e","(\u8cc7)","\u323f","(\u5354)","\u3240","(\u796d)","\u3241","(\u4f11)","\u3242","(\u81ea)","\u3243","(\u81f3)","\u32c0","1\u6708","\u32c1","2\u6708","\u32c2","3\u6708","\u32c3","4\u6708","\u32c4","5\u6708","\u32c5","6\u6708","\u32c6","7\u6708","\u32c7","8\u6708","\u32c8","9\u6708","\u32c9","10\u6708","\u32ca","11\u6708","\u32cb","12\u6708","\u3358","0\u70b9","\u3359","1\u70b9","\u335a","2\u70b9","\u335b","3\u70b9","\u335c","4\u70b9","\u335d","5\u70b9","\u335e","6\u70b9","\u335f","7\u70b9","\u3360","8\u70b9","\u3361","9\u70b9","\u3362","10\u70b9","\u3363","11\u70b9","\u3364","12\u70b9","\u3365","13\u70b9","\u3366","14\u70b9","\u3367","15\u70b9","\u3368","16\u70b9","\u3369","17\u70b9","\u336a","18\u70b9","\u336b","19\u70b9","\u336c","20\u70b9","\u336d","21\u70b9","\u336e","22\u70b9","\u336f","23\u70b9","\u3370","24\u70b9","\u33e0","1\u65e5","\u33e1","2\u65e5","\u33e2","3\u65e5","\u33e3","4\u65e5","\u33e4","5\u65e5","\u33e5","6\u65e5","\u33e6","7\u65e5","\u33e7","8\u65e5","\u33e8","9\u65e5","\u33e9","10\u65e5","\u33ea","11\u65e5","\u33eb","12\u65e5","\u33ec","13\u65e5","\u33ed","14\u65e5","\u33ee","15\u65e5","\u33ef","16\u65e5","\u33f0","17\u65e5","\u33f1","18\u65e5","\u33f2","19\u65e5","\u33f3","20\u65e5","\u33f4","21\u65e5","\u33f5","22\u65e5","\u33f6","23\u65e5","\u33f7","24\u65e5","\u33f8","25\u65e5","\u33f9","26\u65e5","\u33fa","27\u65e5","\u33fb","28\u65e5","\u33fc","29\u65e5","\u33fd","30\u65e5","\u33fe","31\u65e5","\ufb00","ff","\ufb01","fi","\ufb02","fl","\ufb03","ffi","\ufb04","ffl","\ufb05","\u017ft","\ufb06","st","\ufb13","\u0574\u0576","\ufb14","\u0574\u0565","\ufb15","\u0574\u056b","\ufb16","\u057e\u0576","\ufb17","\u0574\u056d","\ufb4f","\u05d0\u05dc","\ufb50","\u0671","\ufb51","\u0671","\ufb52","\u067b","\ufb53","\u067b","\ufb54","\u067b","\ufb55","\u067b","\ufb56","\u067e","\ufb57","\u067e","\ufb58","\u067e","\ufb59","\u067e","\ufb5a","\u0680","\ufb5b","\u0680","\ufb5c","\u0680","\ufb5d","\u0680","\ufb5e","\u067a","\ufb5f","\u067a","\ufb60","\u067a","\ufb61","\u067a","\ufb62","\u067f","\ufb63","\u067f","\ufb64","\u067f","\ufb65","\u067f","\ufb66","\u0679","\ufb67","\u0679","\ufb68","\u0679","\ufb69","\u0679","\ufb6a","\u06a4","\ufb6b","\u06a4","\ufb6c","\u06a4","\ufb6d","\u06a4","\ufb6e","\u06a6","\ufb6f","\u06a6","\ufb70","\u06a6","\ufb71","\u06a6","\ufb72","\u0684","\ufb73","\u0684","\ufb74","\u0684","\ufb75","\u0684","\ufb76","\u0683","\ufb77","\u0683","\ufb78","\u0683","\ufb79","\u0683","\ufb7a","\u0686","\ufb7b","\u0686","\ufb7c","\u0686","\ufb7d","\u0686","\ufb7e","\u0687","\ufb7f","\u0687","\ufb80","\u0687","\ufb81","\u0687","\ufb82","\u068d","\ufb83","\u068d","\ufb84","\u068c","\ufb85","\u068c","\ufb86","\u068e","\ufb87","\u068e","\ufb88","\u0688","\ufb89","\u0688","\ufb8a","\u0698","\ufb8b","\u0698","\ufb8c","\u0691","\ufb8d","\u0691","\ufb8e","\u06a9","\ufb8f","\u06a9","\ufb90","\u06a9","\ufb91","\u06a9","\ufb92","\u06af","\ufb93","\u06af","\ufb94","\u06af","\ufb95","\u06af","\ufb96","\u06b3","\ufb97","\u06b3","\ufb98","\u06b3","\ufb99","\u06b3","\ufb9a","\u06b1","\ufb9b","\u06b1","\ufb9c","\u06b1","\ufb9d","\u06b1","\ufb9e","\u06ba","\ufb9f","\u06ba","\ufba0","\u06bb","\ufba1","\u06bb","\ufba2","\u06bb","\ufba3","\u06bb","\ufba4","\u06c0","\ufba5","\u06c0","\ufba6","\u06c1","\ufba7","\u06c1","\ufba8","\u06c1","\ufba9","\u06c1","\ufbaa","\u06be","\ufbab","\u06be","\ufbac","\u06be","\ufbad","\u06be","\ufbae","\u06d2","\ufbaf","\u06d2","\ufbb0","\u06d3","\ufbb1","\u06d3","\ufbd3","\u06ad","\ufbd4","\u06ad","\ufbd5","\u06ad","\ufbd6","\u06ad","\ufbd7","\u06c7","\ufbd8","\u06c7","\ufbd9","\u06c6","\ufbda","\u06c6","\ufbdb","\u06c8","\ufbdc","\u06c8","\ufbdd","\u0677","\ufbde","\u06cb","\ufbdf","\u06cb","\ufbe0","\u06c5","\ufbe1","\u06c5","\ufbe2","\u06c9","\ufbe3","\u06c9","\ufbe4","\u06d0","\ufbe5","\u06d0","\ufbe6","\u06d0","\ufbe7","\u06d0","\ufbe8","\u0649","\ufbe9","\u0649","\ufbea","\u0626\u0627","\ufbeb","\u0626\u0627","\ufbec","\u0626\u06d5","\ufbed","\u0626\u06d5","\ufbee","\u0626\u0648","\ufbef","\u0626\u0648","\ufbf0","\u0626\u06c7","\ufbf1","\u0626\u06c7","\ufbf2","\u0626\u06c6","\ufbf3","\u0626\u06c6","\ufbf4","\u0626\u06c8","\ufbf5","\u0626\u06c8","\ufbf6","\u0626\u06d0","\ufbf7","\u0626\u06d0","\ufbf8","\u0626\u06d0","\ufbf9","\u0626\u0649","\ufbfa","\u0626\u0649","\ufbfb","\u0626\u0649","\ufbfc","\u06cc","\ufbfd","\u06cc","\ufbfe","\u06cc","\ufbff","\u06cc","\ufc00","\u0626\u062c","\ufc01","\u0626\u062d","\ufc02","\u0626\u0645","\ufc03","\u0626\u0649","\ufc04","\u0626\u064a","\ufc05","\u0628\u062c","\ufc06","\u0628\u062d","\ufc07","\u0628\u062e","\ufc08","\u0628\u0645","\ufc09","\u0628\u0649","\ufc0a","\u0628\u064a","\ufc0b","\u062a\u062c","\ufc0c","\u062a\u062d","\ufc0d","\u062a\u062e","\ufc0e","\u062a\u0645","\ufc0f","\u062a\u0649","\ufc10","\u062a\u064a","\ufc11","\u062b\u062c","\ufc12","\u062b\u0645","\ufc13","\u062b\u0649","\ufc14","\u062b\u064a","\ufc15","\u062c\u062d","\ufc16","\u062c\u0645","\ufc17","\u062d\u062c","\ufc18","\u062d\u0645","\ufc19","\u062e\u062c","\ufc1a","\u062e\u062d","\ufc1b","\u062e\u0645","\ufc1c","\u0633\u062c","\ufc1d","\u0633\u062d","\ufc1e","\u0633\u062e","\ufc1f","\u0633\u0645","\ufc20","\u0635\u062d","\ufc21","\u0635\u0645","\ufc22","\u0636\u062c","\ufc23","\u0636\u062d","\ufc24","\u0636\u062e","\ufc25","\u0636\u0645","\ufc26","\u0637\u062d","\ufc27","\u0637\u0645","\ufc28","\u0638\u0645","\ufc29","\u0639\u062c","\ufc2a","\u0639\u0645","\ufc2b","\u063a\u062c","\ufc2c","\u063a\u0645","\ufc2d","\u0641\u062c","\ufc2e","\u0641\u062d","\ufc2f","\u0641\u062e","\ufc30","\u0641\u0645","\ufc31","\u0641\u0649","\ufc32","\u0641\u064a","\ufc33","\u0642\u062d","\ufc34","\u0642\u0645","\ufc35","\u0642\u0649","\ufc36","\u0642\u064a","\ufc37","\u0643\u0627","\ufc38","\u0643\u062c","\ufc39","\u0643\u062d","\ufc3a","\u0643\u062e","\ufc3b","\u0643\u0644","\ufc3c","\u0643\u0645","\ufc3d","\u0643\u0649","\ufc3e","\u0643\u064a","\ufc3f","\u0644\u062c","\ufc40","\u0644\u062d","\ufc41","\u0644\u062e","\ufc42","\u0644\u0645","\ufc43","\u0644\u0649","\ufc44","\u0644\u064a","\ufc45","\u0645\u062c","\ufc46","\u0645\u062d","\ufc47","\u0645\u062e","\ufc48","\u0645\u0645","\ufc49","\u0645\u0649","\ufc4a","\u0645\u064a","\ufc4b","\u0646\u062c","\ufc4c","\u0646\u062d","\ufc4d","\u0646\u062e","\ufc4e","\u0646\u0645","\ufc4f","\u0646\u0649","\ufc50","\u0646\u064a","\ufc51","\u0647\u062c","\ufc52","\u0647\u0645","\ufc53","\u0647\u0649","\ufc54","\u0647\u064a","\ufc55","\u064a\u062c","\ufc56","\u064a\u062d","\ufc57","\u064a\u062e","\ufc58","\u064a\u0645","\ufc59","\u064a\u0649","\ufc5a","\u064a\u064a","\ufc5b","\u0630\u0670","\ufc5c","\u0631\u0670","\ufc5d","\u0649\u0670","\ufc5e"," \u064c\u0651","\ufc5f"," \u064d\u0651","\ufc60"," \u064e\u0651","\ufc61"," \u064f\u0651","\ufc62"," \u0650\u0651","\ufc63"," \u0651\u0670","\ufc64","\u0626\u0631","\ufc65","\u0626\u0632","\ufc66","\u0626\u0645","\ufc67","\u0626\u0646","\ufc68","\u0626\u0649","\ufc69","\u0626\u064a","\ufc6a","\u0628\u0631","\ufc6b","\u0628\u0632","\ufc6c","\u0628\u0645","\ufc6d","\u0628\u0646","\ufc6e","\u0628\u0649","\ufc6f","\u0628\u064a","\ufc70","\u062a\u0631","\ufc71","\u062a\u0632","\ufc72","\u062a\u0645","\ufc73","\u062a\u0646","\ufc74","\u062a\u0649","\ufc75","\u062a\u064a","\ufc76","\u062b\u0631","\ufc77","\u062b\u0632","\ufc78","\u062b\u0645","\ufc79","\u062b\u0646","\ufc7a","\u062b\u0649","\ufc7b","\u062b\u064a","\ufc7c","\u0641\u0649","\ufc7d","\u0641\u064a","\ufc7e","\u0642\u0649","\ufc7f","\u0642\u064a","\ufc80","\u0643\u0627","\ufc81","\u0643\u0644","\ufc82","\u0643\u0645","\ufc83","\u0643\u0649","\ufc84","\u0643\u064a","\ufc85","\u0644\u0645","\ufc86","\u0644\u0649","\ufc87","\u0644\u064a","\ufc88","\u0645\u0627","\ufc89","\u0645\u0645","\ufc8a","\u0646\u0631","\ufc8b","\u0646\u0632","\ufc8c","\u0646\u0645","\ufc8d","\u0646\u0646","\ufc8e","\u0646\u0649","\ufc8f","\u0646\u064a","\ufc90","\u0649\u0670","\ufc91","\u064a\u0631","\ufc92","\u064a\u0632","\ufc93","\u064a\u0645","\ufc94","\u064a\u0646","\ufc95","\u064a\u0649","\ufc96","\u064a\u064a","\ufc97","\u0626\u062c","\ufc98","\u0626\u062d","\ufc99","\u0626\u062e","\ufc9a","\u0626\u0645","\ufc9b","\u0626\u0647","\ufc9c","\u0628\u062c","\ufc9d","\u0628\u062d","\ufc9e","\u0628\u062e","\ufc9f","\u0628\u0645","\ufca0","\u0628\u0647","\ufca1","\u062a\u062c","\ufca2","\u062a\u062d","\ufca3","\u062a\u062e","\ufca4","\u062a\u0645","\ufca5","\u062a\u0647","\ufca6","\u062b\u0645","\ufca7","\u062c\u062d","\ufca8","\u062c\u0645","\ufca9","\u062d\u062c","\ufcaa","\u062d\u0645","\ufcab","\u062e\u062c","\ufcac","\u062e\u0645","\ufcad","\u0633\u062c","\ufcae","\u0633\u062d","\ufcaf","\u0633\u062e","\ufcb0","\u0633\u0645","\ufcb1","\u0635\u062d","\ufcb2","\u0635\u062e","\ufcb3","\u0635\u0645","\ufcb4","\u0636\u062c","\ufcb5","\u0636\u062d","\ufcb6","\u0636\u062e","\ufcb7","\u0636\u0645","\ufcb8","\u0637\u062d","\ufcb9","\u0638\u0645","\ufcba","\u0639\u062c","\ufcbb","\u0639\u0645","\ufcbc","\u063a\u062c","\ufcbd","\u063a\u0645","\ufcbe","\u0641\u062c","\ufcbf","\u0641\u062d","\ufcc0","\u0641\u062e","\ufcc1","\u0641\u0645","\ufcc2","\u0642\u062d","\ufcc3","\u0642\u0645","\ufcc4","\u0643\u062c","\ufcc5","\u0643\u062d","\ufcc6","\u0643\u062e","\ufcc7","\u0643\u0644","\ufcc8","\u0643\u0645","\ufcc9","\u0644\u062c","\ufcca","\u0644\u062d","\ufccb","\u0644\u062e","\ufccc","\u0644\u0645","\ufccd","\u0644\u0647","\ufcce","\u0645\u062c","\ufccf","\u0645\u062d","\ufcd0","\u0645\u062e","\ufcd1","\u0645\u0645","\ufcd2","\u0646\u062c","\ufcd3","\u0646\u062d","\ufcd4","\u0646\u062e","\ufcd5","\u0646\u0645","\ufcd6","\u0646\u0647","\ufcd7","\u0647\u062c","\ufcd8","\u0647\u0645","\ufcd9","\u0647\u0670","\ufcda","\u064a\u062c","\ufcdb","\u064a\u062d","\ufcdc","\u064a\u062e","\ufcdd","\u064a\u0645","\ufcde","\u064a\u0647","\ufcdf","\u0626\u0645","\ufce0","\u0626\u0647","\ufce1","\u0628\u0645","\ufce2","\u0628\u0647","\ufce3","\u062a\u0645","\ufce4","\u062a\u0647","\ufce5","\u062b\u0645","\ufce6","\u062b\u0647","\ufce7","\u0633\u0645","\ufce8","\u0633\u0647","\ufce9","\u0634\u0645","\ufcea","\u0634\u0647","\ufceb","\u0643\u0644","\ufcec","\u0643\u0645","\ufced","\u0644\u0645","\ufcee","\u0646\u0645","\ufcef","\u0646\u0647","\ufcf0","\u064a\u0645","\ufcf1","\u064a\u0647","\ufcf2","\u0640\u064e\u0651","\ufcf3","\u0640\u064f\u0651","\ufcf4","\u0640\u0650\u0651","\ufcf5","\u0637\u0649","\ufcf6","\u0637\u064a","\ufcf7","\u0639\u0649","\ufcf8","\u0639\u064a","\ufcf9","\u063a\u0649","\ufcfa","\u063a\u064a","\ufcfb","\u0633\u0649","\ufcfc","\u0633\u064a","\ufcfd","\u0634\u0649","\ufcfe","\u0634\u064a","\ufcff","\u062d\u0649","\ufd00","\u062d\u064a","\ufd01","\u062c\u0649","\ufd02","\u062c\u064a","\ufd03","\u062e\u0649","\ufd04","\u062e\u064a","\ufd05","\u0635\u0649","\ufd06","\u0635\u064a","\ufd07","\u0636\u0649","\ufd08","\u0636\u064a","\ufd09","\u0634\u062c","\ufd0a","\u0634\u062d","\ufd0b","\u0634\u062e","\ufd0c","\u0634\u0645","\ufd0d","\u0634\u0631","\ufd0e","\u0633\u0631","\ufd0f","\u0635\u0631","\ufd10","\u0636\u0631","\ufd11","\u0637\u0649","\ufd12","\u0637\u064a","\ufd13","\u0639\u0649","\ufd14","\u0639\u064a","\ufd15","\u063a\u0649","\ufd16","\u063a\u064a","\ufd17","\u0633\u0649","\ufd18","\u0633\u064a","\ufd19","\u0634\u0649","\ufd1a","\u0634\u064a","\ufd1b","\u062d\u0649","\ufd1c","\u062d\u064a","\ufd1d","\u062c\u0649","\ufd1e","\u062c\u064a","\ufd1f","\u062e\u0649","\ufd20","\u062e\u064a","\ufd21","\u0635\u0649","\ufd22","\u0635\u064a","\ufd23","\u0636\u0649","\ufd24","\u0636\u064a","\ufd25","\u0634\u062c","\ufd26","\u0634\u062d","\ufd27","\u0634\u062e","\ufd28","\u0634\u0645","\ufd29","\u0634\u0631","\ufd2a","\u0633\u0631","\ufd2b","\u0635\u0631","\ufd2c","\u0636\u0631","\ufd2d","\u0634\u062c","\ufd2e","\u0634\u062d","\ufd2f","\u0634\u062e","\ufd30","\u0634\u0645","\ufd31","\u0633\u0647","\ufd32","\u0634\u0647","\ufd33","\u0637\u0645","\ufd34","\u0633\u062c","\ufd35","\u0633\u062d","\ufd36","\u0633\u062e","\ufd37","\u0634\u062c","\ufd38","\u0634\u062d","\ufd39","\u0634\u062e","\ufd3a","\u0637\u0645","\ufd3b","\u0638\u0645","\ufd3c","\u0627\u064b","\ufd3d","\u0627\u064b","\ufd50","\u062a\u062c\u0645","\ufd51","\u062a\u062d\u062c","\ufd52","\u062a\u062d\u062c","\ufd53","\u062a\u062d\u0645","\ufd54","\u062a\u062e\u0645","\ufd55","\u062a\u0645\u062c","\ufd56","\u062a\u0645\u062d","\ufd57","\u062a\u0645\u062e","\ufd58","\u062c\u0645\u062d","\ufd59","\u062c\u0645\u062d","\ufd5a","\u062d\u0645\u064a","\ufd5b","\u062d\u0645\u0649","\ufd5c","\u0633\u062d\u062c","\ufd5d","\u0633\u062c\u062d","\ufd5e","\u0633\u062c\u0649","\ufd5f","\u0633\u0645\u062d","\ufd60","\u0633\u0645\u062d","\ufd61","\u0633\u0645\u062c","\ufd62","\u0633\u0645\u0645","\ufd63","\u0633\u0645\u0645","\ufd64","\u0635\u062d\u062d","\ufd65","\u0635\u062d\u062d","\ufd66","\u0635\u0645\u0645","\ufd67","\u0634\u062d\u0645","\ufd68","\u0634\u062d\u0645","\ufd69","\u0634\u062c\u064a","\ufd6a","\u0634\u0645\u062e","\ufd6b","\u0634\u0645\u062e","\ufd6c","\u0634\u0645\u0645","\ufd6d","\u0634\u0645\u0645","\ufd6e","\u0636\u062d\u0649","\ufd6f","\u0636\u062e\u0645","\ufd70","\u0636\u062e\u0645","\ufd71","\u0637\u0645\u062d","\ufd72","\u0637\u0645\u062d","\ufd73","\u0637\u0645\u0645","\ufd74","\u0637\u0645\u064a","\ufd75","\u0639\u062c\u0645","\ufd76","\u0639\u0645\u0645","\ufd77","\u0639\u0645\u0645","\ufd78","\u0639\u0645\u0649","\ufd79","\u063a\u0645\u0645","\ufd7a","\u063a\u0645\u064a","\ufd7b","\u063a\u0645\u0649","\ufd7c","\u0641\u062e\u0645","\ufd7d","\u0641\u062e\u0645","\ufd7e","\u0642\u0645\u062d","\ufd7f","\u0642\u0645\u0645","\ufd80","\u0644\u062d\u0645","\ufd81","\u0644\u062d\u064a","\ufd82","\u0644\u062d\u0649","\ufd83","\u0644\u062c\u062c","\ufd84","\u0644\u062c\u062c","\ufd85","\u0644\u062e\u0645","\ufd86","\u0644\u062e\u0645","\ufd87","\u0644\u0645\u062d","\ufd88","\u0644\u0645\u062d","\ufd89","\u0645\u062d\u062c","\ufd8a","\u0645\u062d\u0645","\ufd8b","\u0645\u062d\u064a","\ufd8c","\u0645\u062c\u062d","\ufd8d","\u0645\u062c\u0645","\ufd8e","\u0645\u062e\u062c","\ufd8f","\u0645\u062e\u0645","\ufd92","\u0645\u062c\u062e","\ufd93","\u0647\u0645\u062c","\ufd94","\u0647\u0645\u0645","\ufd95","\u0646\u062d\u0645","\ufd96","\u0646\u062d\u0649","\ufd97","\u0646\u062c\u0645","\ufd98","\u0646\u062c\u0645","\ufd99","\u0646\u062c\u0649","\ufd9a","\u0646\u0645\u064a","\ufd9b","\u0646\u0645\u0649","\ufd9c","\u064a\u0645\u0645","\ufd9d","\u064a\u0645\u0645","\ufd9e","\u0628\u062e\u064a","\ufd9f","\u062a\u062c\u064a","\ufda0","\u062a\u062c\u0649","\ufda1","\u062a\u062e\u064a","\ufda2","\u062a\u062e\u0649","\ufda3","\u062a\u0645\u064a","\ufda4","\u062a\u0645\u0649","\ufda5","\u062c\u0645\u064a","\ufda6","\u062c\u062d\u0649","\ufda7","\u062c\u0645\u0649","\ufda8","\u0633\u062e\u0649","\ufda9","\u0635\u062d\u064a","\ufdaa","\u0634\u062d\u064a","\ufdab","\u0636\u062d\u064a","\ufdac","\u0644\u062c\u064a","\ufdad","\u0644\u0645\u064a","\ufdae","\u064a\u062d\u064a","\ufdaf","\u064a\u062c\u064a","\ufdb0","\u064a\u0645\u064a","\ufdb1","\u0645\u0645\u064a","\ufdb2","\u0642\u0645\u064a","\ufdb3","\u0646\u062d\u064a","\ufdb4","\u0642\u0645\u062d","\ufdb5","\u0644\u062d\u0645","\ufdb6","\u0639\u0645\u064a","\ufdb7","\u0643\u0645\u064a","\ufdb8","\u0646\u062c\u062d","\ufdb9","\u0645\u062e\u064a","\ufdba","\u0644\u062c\u0645","\ufdbb","\u0643\u0645\u0645","\ufdbc","\u0644\u062c\u0645","\ufdbd","\u0646\u062c\u062d","\ufdbe","\u062c\u062d\u064a","\ufdbf","\u062d\u062c\u064a","\ufdc0","\u0645\u062c\u064a","\ufdc1","\u0641\u0645\u064a","\ufdc2","\u0628\u062d\u064a","\ufdc3","\u0643\u0645\u0645","\ufdc4","\u0639\u062c\u0645","\ufdc5","\u0635\u0645\u0645","\ufdc6","\u0633\u062e\u064a","\ufdc7","\u0646\u062c\u064a","\ufe49","\u203e","\ufe4a","\u203e","\ufe4b","\u203e","\ufe4c","\u203e","\ufe4d","_","\ufe4e","_","\ufe4f","_","\ufe80","\u0621","\ufe81","\u0622","\ufe82","\u0622","\ufe83","\u0623","\ufe84","\u0623","\ufe85","\u0624","\ufe86","\u0624","\ufe87","\u0625","\ufe88","\u0625","\ufe89","\u0626","\ufe8a","\u0626","\ufe8b","\u0626","\ufe8c","\u0626","\ufe8d","\u0627","\ufe8e","\u0627","\ufe8f","\u0628","\ufe90","\u0628","\ufe91","\u0628","\ufe92","\u0628","\ufe93","\u0629","\ufe94","\u0629","\ufe95","\u062a","\ufe96","\u062a","\ufe97","\u062a","\ufe98","\u062a","\ufe99","\u062b","\ufe9a","\u062b","\ufe9b","\u062b","\ufe9c","\u062b","\ufe9d","\u062c","\ufe9e","\u062c","\ufe9f","\u062c","\ufea0","\u062c","\ufea1","\u062d","\ufea2","\u062d","\ufea3","\u062d","\ufea4","\u062d","\ufea5","\u062e","\ufea6","\u062e","\ufea7","\u062e","\ufea8","\u062e","\ufea9","\u062f","\ufeaa","\u062f","\ufeab","\u0630","\ufeac","\u0630","\ufead","\u0631","\ufeae","\u0631","\ufeaf","\u0632","\ufeb0","\u0632","\ufeb1","\u0633","\ufeb2","\u0633","\ufeb3","\u0633","\ufeb4","\u0633","\ufeb5","\u0634","\ufeb6","\u0634","\ufeb7","\u0634","\ufeb8","\u0634","\ufeb9","\u0635","\ufeba","\u0635","\ufebb","\u0635","\ufebc","\u0635","\ufebd","\u0636","\ufebe","\u0636","\ufebf","\u0636","\ufec0","\u0636","\ufec1","\u0637","\ufec2","\u0637","\ufec3","\u0637","\ufec4","\u0637","\ufec5","\u0638","\ufec6","\u0638","\ufec7","\u0638","\ufec8","\u0638","\ufec9","\u0639","\ufeca","\u0639","\ufecb","\u0639","\ufecc","\u0639","\ufecd","\u063a","\ufece","\u063a","\ufecf","\u063a","\ufed0","\u063a","\ufed1","\u0641","\ufed2","\u0641","\ufed3","\u0641","\ufed4","\u0641","\ufed5","\u0642","\ufed6","\u0642","\ufed7","\u0642","\ufed8","\u0642","\ufed9","\u0643","\ufeda","\u0643","\ufedb","\u0643","\ufedc","\u0643","\ufedd","\u0644","\ufede","\u0644","\ufedf","\u0644","\ufee0","\u0644","\ufee1","\u0645","\ufee2","\u0645","\ufee3","\u0645","\ufee4","\u0645","\ufee5","\u0646","\ufee6","\u0646","\ufee7","\u0646","\ufee8","\u0646","\ufee9","\u0647","\ufeea","\u0647","\ufeeb","\u0647","\ufeec","\u0647","\ufeed","\u0648","\ufeee","\u0648","\ufeef","\u0649","\ufef0","\u0649","\ufef1","\u064a","\ufef2","\u064a","\ufef3","\u064a","\ufef4","\u064a","\ufef5","\u0644\u0622","\ufef6","\u0644\u0622","\ufef7","\u0644\u0623","\ufef8","\u0644\u0623","\ufef9","\u0644\u0625","\ufefa","\u0644\u0625","\ufefb","\u0644\u0627","\ufefc","\u0644\u0627"]});function reverseIfRtl(e3){const t3=e3.length;if(t3<=1||!function(e4){let t4=i[13];return e4>=t4.begin&&e4<t4.end||(t4=i[11],e4>=t4.begin&&e4<t4.end)}(e3.charCodeAt(0)))return e3;const a3=[];for(let r2=t3-1;r2>=0;r2--)a3.push(e3[r2]);return a3.join("")}const o=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),c=new Map;function getCharUnicodeCategory(e3){const t3=c.get(e3);if(t3)return t3;const a3=e3.match(o),r2={isWhitespace:!(!a3||!a3[1]),isZeroWidthDiacritic:!(!a3||!a3[2]),isInvisibleFormatMark:!(!a3||!a3[3])};return c.set(e3,r2),r2}function clearUnicodeCaches(){c.clear()}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.getSerifFonts=t2.getNonStdFontMap=t2.getGlyphMapForStandardFonts=t2.getFontNameToFileMap=void 0,t2.getStandardFontName=function(e3){const t3=(0,n.normalizeFontName)(e3);return i()[t3]},t2.getSymbolsFonts=t2.getSupplementalGlyphMapForCalibri=t2.getSupplementalGlyphMapForArialBlack=t2.getStdFontMap=void 0;var r=a2(6),n=a2(38);const i=(0,r.getLookupTableFactory)(function(e3){e3["Times-Roman"]="Times-Roman",e3.Helvetica="Helvetica",e3.Courier="Courier",e3.Symbol="Symbol",e3["Times-Bold"]="Times-Bold",e3["Helvetica-Bold"]="Helvetica-Bold",e3["Courier-Bold"]="Courier-Bold",e3.ZapfDingbats="ZapfDingbats",e3["Times-Italic"]="Times-Italic",e3["Helvetica-Oblique"]="Helvetica-Oblique",e3["Courier-Oblique"]="Courier-Oblique",e3["Times-BoldItalic"]="Times-BoldItalic",e3["Helvetica-BoldOblique"]="Helvetica-BoldOblique",e3["Courier-BoldOblique"]="Courier-BoldOblique",e3.ArialNarrow="Helvetica",e3["ArialNarrow-Bold"]="Helvetica-Bold",e3["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",e3["ArialNarrow-Italic"]="Helvetica-Oblique",e3.ArialBlack="Helvetica",e3["ArialBlack-Bold"]="Helvetica-Bold",e3["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",e3["ArialBlack-Italic"]="Helvetica-Oblique",e3["Arial-Black"]="Helvetica",e3["Arial-Black-Bold"]="Helvetica-Bold",e3["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",e3["Arial-Black-Italic"]="Helvetica-Oblique",e3.Arial="Helvetica",e3["Arial-Bold"]="Helvetica-Bold",e3["Arial-BoldItalic"]="Helvetica-BoldOblique",e3["Arial-Italic"]="Helvetica-Oblique",e3.ArialMT="Helvetica",e3["Arial-BoldItalicMT"]="Helvetica-BoldOblique",e3["Arial-BoldMT"]="Helvetica-Bold",e3["Arial-ItalicMT"]="Helvetica-Oblique",e3.ArialUnicodeMS="Helvetica",e3["ArialUnicodeMS-Bold"]="Helvetica-Bold",e3["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",e3["ArialUnicodeMS-Italic"]="Helvetica-Oblique",e3["Courier-BoldItalic"]="Courier-BoldOblique",e3["Courier-Italic"]="Courier-Oblique",e3.CourierNew="Courier",e3["CourierNew-Bold"]="Courier-Bold",e3["CourierNew-BoldItalic"]="Courier-BoldOblique",e3["CourierNew-Italic"]="Courier-Oblique",e3["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",e3["CourierNewPS-BoldMT"]="Courier-Bold",e3["CourierNewPS-ItalicMT"]="Courier-Oblique",e3.CourierNewPSMT="Courier",e3["Helvetica-BoldItalic"]="Helvetica-BoldOblique",e3["Helvetica-Italic"]="Helvetica-Oblique",e3["Symbol-Bold"]="Symbol",e3["Symbol-BoldItalic"]="Symbol",e3["Symbol-Italic"]="Symbol",e3.TimesNewRoman="Times-Roman",e3["TimesNewRoman-Bold"]="Times-Bold",e3["TimesNewRoman-BoldItalic"]="Times-BoldItalic",e3["TimesNewRoman-Italic"]="Times-Italic",e3.TimesNewRomanPS="Times-Roman",e3["TimesNewRomanPS-Bold"]="Times-Bold",e3["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",e3["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",e3["TimesNewRomanPS-BoldMT"]="Times-Bold",e3["TimesNewRomanPS-Italic"]="Times-Italic",e3["TimesNewRomanPS-ItalicMT"]="Times-Italic",e3.TimesNewRomanPSMT="Times-Roman",e3["TimesNewRomanPSMT-Bold"]="Times-Bold",e3["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",e3["TimesNewRomanPSMT-Italic"]="Times-Italic"});t2.getStdFontMap=i;const s=(0,r.getLookupTableFactory)(function(e3){e3.Courier="FoxitFixed.pfb",e3["Courier-Bold"]="FoxitFixedBold.pfb",e3["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",e3["Courier-Oblique"]="FoxitFixedItalic.pfb",e3.Helvetica="FoxitSans.pfb",e3["Helvetica-Bold"]="FoxitSansBold.pfb",e3["Helvetica-BoldOblique"]="FoxitSansBoldItalic.pfb",e3["Helvetica-Oblique"]="FoxitSansItalic.pfb",e3["Times-Roman"]="FoxitSerif.pfb",e3["Times-Bold"]="FoxitSerifBold.pfb",e3["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",e3["Times-Italic"]="FoxitSerifItalic.pfb",e3.Symbol="FoxitSymbol.pfb",e3.ZapfDingbats="FoxitDingbats.pfb",e3["LiberationSans-Regular"]="LiberationSans-Regular.ttf",e3["LiberationSans-Bold"]="LiberationSans-Bold.ttf",e3["LiberationSans-Italic"]="LiberationSans-Italic.ttf",e3["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});t2.getFontNameToFileMap=s;const o=(0,r.getLookupTableFactory)(function(e3){e3.Calibri="Helvetica",e3["Calibri-Bold"]="Helvetica-Bold",e3["Calibri-BoldItalic"]="Helvetica-BoldOblique",e3["Calibri-Italic"]="Helvetica-Oblique",e3.CenturyGothic="Helvetica",e3["CenturyGothic-Bold"]="Helvetica-Bold",e3["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",e3["CenturyGothic-Italic"]="Helvetica-Oblique",e3.ComicSansMS="Comic Sans MS",e3["ComicSansMS-Bold"]="Comic Sans MS-Bold",e3["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",e3["ComicSansMS-Italic"]="Comic Sans MS-Italic",e3["ItcSymbol-Bold"]="Helvetica-Bold",e3["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",e3["ItcSymbol-Book"]="Helvetica",e3["ItcSymbol-BookItalic"]="Helvetica-Oblique",e3["ItcSymbol-Medium"]="Helvetica",e3["ItcSymbol-MediumItalic"]="Helvetica-Oblique",e3.LucidaConsole="Courier",e3["LucidaConsole-Bold"]="Courier-Bold",e3["LucidaConsole-BoldItalic"]="Courier-BoldOblique",e3["LucidaConsole-Italic"]="Courier-Oblique",e3["LucidaSans-Demi"]="Helvetica-Bold",e3["MS-Gothic"]="MS Gothic",e3["MS-Gothic-Bold"]="MS Gothic-Bold",e3["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",e3["MS-Gothic-Italic"]="MS Gothic-Italic",e3["MS-Mincho"]="MS Mincho",e3["MS-Mincho-Bold"]="MS Mincho-Bold",e3["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",e3["MS-Mincho-Italic"]="MS Mincho-Italic",e3["MS-PGothic"]="MS PGothic",e3["MS-PGothic-Bold"]="MS PGothic-Bold",e3["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",e3["MS-PGothic-Italic"]="MS PGothic-Italic",e3["MS-PMincho"]="MS PMincho",e3["MS-PMincho-Bold"]="MS PMincho-Bold",e3["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",e3["MS-PMincho-Italic"]="MS PMincho-Italic",e3.NuptialScript="Times-Italic",e3.SegoeUISymbol="Helvetica",e3.Wingdings="ZapfDingbats",e3["Wingdings-Regular"]="ZapfDingbats"});t2.getNonStdFontMap=o;const c=(0,r.getLookupTableFactory)(function(e3){e3["Adobe Jenson"]=!0,e3["Adobe Text"]=!0,e3.Albertus=!0,e3.Aldus=!0,e3.Alexandria=!0,e3.Algerian=!0,e3["American Typewriter"]=!0,e3.Antiqua=!0,e3.Apex=!0,e3.Arno=!0,e3.Aster=!0,e3.Aurora=!0,e3.Baskerville=!0,e3.Bell=!0,e3.Bembo=!0,e3["Bembo Schoolbook"]=!0,e3.Benguiat=!0,e3["Berkeley Old Style"]=!0,e3["Bernhard Modern"]=!0,e3["Berthold City"]=!0,e3.Bodoni=!0,e3["Bauer Bodoni"]=!0,e3["Book Antiqua"]=!0,e3.Bookman=!0,e3["Bordeaux Roman"]=!0,e3["Californian FB"]=!0,e3.Calisto=!0,e3.Calvert=!0,e3.Capitals=!0,e3.Cambria=!0,e3.Cartier=!0,e3.Caslon=!0,e3.Catull=!0,e3.Centaur=!0,e3["Century Old Style"]=!0,e3["Century Schoolbook"]=!0,e3.Chaparral=!0,e3["Charis SIL"]=!0,e3.Cheltenham=!0,e3["Cholla Slab"]=!0,e3.Clarendon=!0,e3.Clearface=!0,e3.Cochin=!0,e3.Colonna=!0,e3["Computer Modern"]=!0,e3["Concrete Roman"]=!0,e3.Constantia=!0,e3["Cooper Black"]=!0,e3.Corona=!0,e3.Ecotype=!0,e3.Egyptienne=!0,e3.Elephant=!0,e3.Excelsior=!0,e3.Fairfield=!0,e3["FF Scala"]=!0,e3.Folkard=!0,e3.Footlight=!0,e3.FreeSerif=!0,e3["Friz Quadrata"]=!0,e3.Garamond=!0,e3.Gentium=!0,e3.Georgia=!0,e3.Gloucester=!0,e3["Goudy Old Style"]=!0,e3["Goudy Schoolbook"]=!0,e3["Goudy Pro Font"]=!0,e3.Granjon=!0,e3["Guardian Egyptian"]=!0,e3.Heather=!0,e3.Hercules=!0,e3["High Tower Text"]=!0,e3.Hiroshige=!0,e3["Hoefler Text"]=!0,e3["Humana Serif"]=!0,e3.Imprint=!0,e3["Ionic No. 5"]=!0,e3.Janson=!0,e3.Joanna=!0,e3.Korinna=!0,e3.Lexicon=!0,e3.LiberationSerif=!0,e3["Liberation Serif"]=!0,e3["Linux Libertine"]=!0,e3.Literaturnaya=!0,e3.Lucida=!0,e3["Lucida Bright"]=!0,e3.Melior=!0,e3.Memphis=!0,e3.Miller=!0,e3.Minion=!0,e3.Modern=!0,e3["Mona Lisa"]=!0,e3["Mrs Eaves"]=!0,e3["MS Serif"]=!0,e3["Museo Slab"]=!0,e3["New York"]=!0,e3["Nimbus Roman"]=!0,e3["NPS Rawlinson Roadway"]=!0,e3.NuptialScript=!0,e3.Palatino=!0,e3.Perpetua=!0,e3.Plantin=!0,e3["Plantin Schoolbook"]=!0,e3.Playbill=!0,e3["Poor Richard"]=!0,e3["Rawlinson Roadway"]=!0,e3.Renault=!0,e3.Requiem=!0,e3.Rockwell=!0,e3.Roman=!0,e3["Rotis Serif"]=!0,e3.Sabon=!0,e3.Scala=!0,e3.Seagull=!0,e3.Sistina=!0,e3.Souvenir=!0,e3.STIX=!0,e3["Stone Informal"]=!0,e3["Stone Serif"]=!0,e3.Sylfaen=!0,e3.Times=!0,e3.Trajan=!0,e3.Trinit\u00e9=!0,e3["Trump Mediaeval"]=!0,e3.Utopia=!0,e3["Vale Type"]=!0,e3["Bitstream Vera"]=!0,e3["Vera Serif"]=!0,e3.Versailles=!0,e3.Wanted=!0,e3.Weiss=!0,e3["Wide Latin"]=!0,e3.Windsor=!0,e3.XITS=!0});t2.getSerifFonts=c;const l=(0,r.getLookupTableFactory)(function(e3){e3.Dingbats=!0,e3.Symbol=!0,e3.ZapfDingbats=!0});t2.getSymbolsFonts=l;const h=(0,r.getLookupTableFactory)(function(e3){e3[2]=10,e3[3]=32,e3[4]=33,e3[5]=34,e3[6]=35,e3[7]=36,e3[8]=37,e3[9]=38,e3[10]=39,e3[11]=40,e3[12]=41,e3[13]=42,e3[14]=43,e3[15]=44,e3[16]=45,e3[17]=46,e3[18]=47,e3[19]=48,e3[20]=49,e3[21]=50,e3[22]=51,e3[23]=52,e3[24]=53,e3[25]=54,e3[26]=55,e3[27]=56,e3[28]=57,e3[29]=58,e3[30]=894,e3[31]=60,e3[32]=61,e3[33]=62,e3[34]=63,e3[35]=64,e3[36]=65,e3[37]=66,e3[38]=67,e3[39]=68,e3[40]=69,e3[41]=70,e3[42]=71,e3[43]=72,e3[44]=73,e3[45]=74,e3[46]=75,e3[47]=76,e3[48]=77,e3[49]=78,e3[50]=79,e3[51]=80,e3[52]=81,e3[53]=82,e3[54]=83,e3[55]=84,e3[56]=85,e3[57]=86,e3[58]=87,e3[59]=88,e3[60]=89,e3[61]=90,e3[62]=91,e3[63]=92,e3[64]=93,e3[65]=94,e3[66]=95,e3[67]=96,e3[68]=97,e3[69]=98,e3[70]=99,e3[71]=100,e3[72]=101,e3[73]=102,e3[74]=103,e3[75]=104,e3[76]=105,e3[77]=106,e3[78]=107,e3[79]=108,e3[80]=109,e3[81]=110,e3[82]=111,e3[83]=112,e3[84]=113,e3[85]=114,e3[86]=115,e3[87]=116,e3[88]=117,e3[89]=118,e3[90]=119,e3[91]=120,e3[92]=121,e3[93]=122,e3[94]=123,e3[95]=124,e3[96]=125,e3[97]=126,e3[98]=196,e3[99]=197,e3[100]=199,e3[101]=201,e3[102]=209,e3[103]=214,e3[104]=220,e3[105]=225,e3[106]=224,e3[107]=226,e3[108]=228,e3[109]=227,e3[110]=229,e3[111]=231,e3[112]=233,e3[113]=232,e3[114]=234,e3[115]=235,e3[116]=237,e3[117]=236,e3[118]=238,e3[119]=239,e3[120]=241,e3[121]=243,e3[122]=242,e3[123]=244,e3[124]=246,e3[125]=245,e3[126]=250,e3[127]=249,e3[128]=251,e3[129]=252,e3[130]=8224,e3[131]=176,e3[132]=162,e3[133]=163,e3[134]=167,e3[135]=8226,e3[136]=182,e3[137]=223,e3[138]=174,e3[139]=169,e3[140]=8482,e3[141]=180,e3[142]=168,e3[143]=8800,e3[144]=198,e3[145]=216,e3[146]=8734,e3[147]=177,e3[148]=8804,e3[149]=8805,e3[150]=165,e3[151]=181,e3[152]=8706,e3[153]=8721,e3[154]=8719,e3[156]=8747,e3[157]=170,e3[158]=186,e3[159]=8486,e3[160]=230,e3[161]=248,e3[162]=191,e3[163]=161,e3[164]=172,e3[165]=8730,e3[166]=402,e3[167]=8776,e3[168]=8710,e3[169]=171,e3[170]=187,e3[171]=8230,e3[200]=193,e3[203]=205,e3[210]=218,e3[223]=711,e3[224]=321,e3[225]=322,e3[226]=352,e3[227]=353,e3[228]=381,e3[229]=382,e3[233]=221,e3[234]=253,e3[252]=263,e3[253]=268,e3[254]=269,e3[258]=258,e3[260]=260,e3[261]=261,e3[265]=280,e3[266]=281,e3[267]=282,e3[268]=283,e3[269]=313,e3[275]=323,e3[276]=324,e3[278]=328,e3[283]=344,e3[284]=345,e3[285]=346,e3[286]=347,e3[292]=367,e3[295]=377,e3[296]=378,e3[298]=380,e3[305]=963,e3[306]=964,e3[307]=966,e3[308]=8215,e3[309]=8252,e3[310]=8319,e3[311]=8359,e3[312]=8592,e3[313]=8593,e3[337]=9552,e3[493]=1039,e3[494]=1040,e3[672]=1488,e3[673]=1489,e3[674]=1490,e3[675]=1491,e3[676]=1492,e3[677]=1493,e3[678]=1494,e3[679]=1495,e3[680]=1496,e3[681]=1497,e3[682]=1498,e3[683]=1499,e3[684]=1500,e3[685]=1501,e3[686]=1502,e3[687]=1503,e3[688]=1504,e3[689]=1505,e3[690]=1506,e3[691]=1507,e3[692]=1508,e3[693]=1509,e3[694]=1510,e3[695]=1511,e3[696]=1512,e3[697]=1513,e3[698]=1514,e3[705]=1524,e3[706]=8362,e3[710]=64288,e3[711]=64298,e3[759]=1617,e3[761]=1776,e3[763]=1778,e3[775]=1652,e3[777]=1764,e3[778]=1780,e3[779]=1781,e3[780]=1782,e3[782]=771,e3[783]=64726,e3[786]=8363,e3[788]=8532,e3[790]=768,e3[791]=769,e3[792]=768,e3[795]=803,e3[797]=64336,e3[798]=64337,e3[799]=64342,e3[800]=64343,e3[801]=64344,e3[802]=64345,e3[803]=64362,e3[804]=64363,e3[805]=64364,e3[2424]=7821,e3[2425]=7822,e3[2426]=7823,e3[2427]=7824,e3[2428]=7825,e3[2429]=7826,e3[2430]=7827,e3[2433]=7682,e3[2678]=8045,e3[2679]=8046,e3[2830]=1552,e3[2838]=686,e3[2840]=751,e3[2842]=753,e3[2843]=754,e3[2844]=755,e3[2846]=757,e3[2856]=767,e3[2857]=848,e3[2858]=849,e3[2862]=853,e3[2863]=854,e3[2864]=855,e3[2865]=861,e3[2866]=862,e3[2906]=7460,e3[2908]=7462,e3[2909]=7463,e3[2910]=7464,e3[2912]=7466,e3[2913]=7467,e3[2914]=7468,e3[2916]=7470,e3[2917]=7471,e3[2918]=7472,e3[2920]=7474,e3[2921]=7475,e3[2922]=7476,e3[2924]=7478,e3[2925]=7479,e3[2926]=7480,e3[2928]=7482,e3[2929]=7483,e3[2930]=7484,e3[2932]=7486,e3[2933]=7487,e3[2934]=7488,e3[2936]=7490,e3[2937]=7491,e3[2938]=7492,e3[2940]=7494,e3[2941]=7495,e3[2942]=7496,e3[2944]=7498,e3[2946]=7500,e3[2948]=7502,e3[2950]=7504,e3[2951]=7505,e3[2952]=7506,e3[2954]=7508,e3[2955]=7509,e3[2956]=7510,e3[2958]=7512,e3[2959]=7513,e3[2960]=7514,e3[2962]=7516,e3[2963]=7517,e3[2964]=7518,e3[2966]=7520,e3[2967]=7521,e3[2968]=7522,e3[2970]=7524,e3[2971]=7525,e3[2972]=7526,e3[2974]=7528,e3[2975]=7529,e3[2976]=7530,e3[2978]=1537,e3[2979]=1538,e3[2980]=1539,e3[2982]=1549,e3[2983]=1551,e3[2984]=1552,e3[2986]=1554,e3[2987]=1555,e3[2988]=1556,e3[2990]=1623,e3[2991]=1624,e3[2995]=1775,e3[2999]=1791,e3[3002]=64290,e3[3003]=64291,e3[3004]=64292,e3[3006]=64294,e3[3007]=64295,e3[3008]=64296,e3[3011]=1900,e3[3014]=8223,e3[3015]=8244,e3[3017]=7532,e3[3018]=7533,e3[3019]=7534,e3[3075]=7590,e3[3076]=7591,e3[3079]=7594,e3[3080]=7595,e3[3083]=7598,e3[3084]=7599,e3[3087]=7602,e3[3088]=7603,e3[3091]=7606,e3[3092]=7607,e3[3095]=7610,e3[3096]=7611,e3[3099]=7614,e3[3100]=7615,e3[3103]=7618,e3[3104]=7619,e3[3107]=8337,e3[3108]=8338,e3[3116]=1884,e3[3119]=1885,e3[3120]=1885,e3[3123]=1886,e3[3124]=1886,e3[3127]=1887,e3[3128]=1887,e3[3131]=1888,e3[3132]=1888,e3[3135]=1889,e3[3136]=1889,e3[3139]=1890,e3[3140]=1890,e3[3143]=1891,e3[3144]=1891,e3[3147]=1892,e3[3148]=1892,e3[3153]=580,e3[3154]=581,e3[3157]=584,e3[3158]=585,e3[3161]=588,e3[3162]=589,e3[3165]=891,e3[3166]=892,e3[3169]=1274,e3[3170]=1275,e3[3173]=1278,e3[3174]=1279,e3[3181]=7622,e3[3182]=7623,e3[3282]=11799,e3[3316]=578,e3[3379]=42785,e3[3393]=1159,e3[3416]=8377});t2.getGlyphMapForStandardFonts=h;const u=(0,r.getLookupTableFactory)(function(e3){e3[227]=322,e3[264]=261,e3[291]=346});t2.getSupplementalGlyphMapForArialBlack=u;const d=(0,r.getLookupTableFactory)(function(e3){e3[1]=32,e3[4]=65,e3[6]=193,e3[17]=66,e3[18]=67,e3[21]=268,e3[24]=68,e3[28]=69,e3[30]=201,e3[32]=282,e3[38]=70,e3[39]=71,e3[44]=72,e3[47]=73,e3[49]=205,e3[58]=74,e3[60]=75,e3[62]=76,e3[68]=77,e3[69]=78,e3[75]=79,e3[87]=80,e3[89]=81,e3[90]=82,e3[92]=344,e3[94]=83,e3[97]=352,e3[100]=84,e3[104]=85,e3[115]=86,e3[116]=87,e3[121]=88,e3[122]=89,e3[124]=221,e3[127]=90,e3[129]=381,e3[258]=97,e3[260]=225,e3[268]=261,e3[271]=98,e3[272]=99,e3[273]=263,e3[275]=269,e3[282]=100,e3[286]=101,e3[288]=233,e3[290]=283,e3[295]=281,e3[296]=102,e3[336]=103,e3[346]=104,e3[349]=105,e3[351]=237,e3[361]=106,e3[364]=107,e3[367]=108,e3[371]=322,e3[373]=109,e3[374]=110,e3[381]=111,e3[383]=243,e3[393]=112,e3[395]=113,e3[396]=114,e3[398]=345,e3[400]=115,e3[401]=347,e3[403]=353,e3[410]=116,e3[437]=117,e3[448]=118,e3[449]=119,e3[454]=120,e3[455]=121,e3[457]=253,e3[460]=122,e3[462]=382,e3[463]=380,e3[853]=44,e3[855]=58,e3[856]=46,e3[876]=47,e3[878]=45,e3[882]=45,e3[894]=40,e3[895]=41,e3[896]=91,e3[897]=93,e3[923]=64,e3[1004]=48,e3[1005]=49,e3[1006]=50,e3[1007]=51,e3[1008]=52,e3[1009]=53,e3[1010]=54,e3[1011]=55,e3[1012]=56,e3[1013]=57,e3[1081]=37,e3[1085]=43,e3[1086]=45});t2.getSupplementalGlyphMapForCalibri=d},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.ToUnicodeMap=t2.IdentityToUnicodeMap=void 0;var r=a2(2);t2.ToUnicodeMap=class{constructor(e3=[]){this._map=e3}get length(){return this._map.length}forEach(e3){for(const t3 in this._map)e3(t3,this._map[t3].charCodeAt(0))}has(e3){return void 0!==this._map[e3]}get(e3){return this._map[e3]}charCodeOf(e3){const t3=this._map;if(t3.length<=65536)return t3.indexOf(e3);for(const a3 in t3)if(t3[a3]===e3)return 0|a3;return-1}amend(e3){for(const t3 in e3)this._map[t3]=e3[t3]}},t2.IdentityToUnicodeMap=class{constructor(e3,t3){this.firstChar=e3,this.lastChar=t3}get length(){return this.lastChar+1-this.firstChar}forEach(e3){for(let t3=this.firstChar,a3=this.lastChar;t3<=a3;t3++)e3(t3,t3)}has(e3){return this.firstChar<=e3&&e3<=this.lastChar}get(e3){if(this.firstChar<=e3&&e3<=this.lastChar)return String.fromCharCode(e3)}charCodeOf(e3){return Number.isInteger(e3)&&e3>=this.firstChar&&e3<=this.lastChar?e3:-1}amend(e3){(0,r.unreachable)("Should not call amend()")}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.CFFFont=void 0;var r=a2(35),n=a2(38),i=a2(2);t2.CFFFont=class{constructor(e3,t3){this.properties=t3;const a3=new r.CFFParser(e3,t3,n.SEAC_ANALYSIS_ENABLED);this.cff=a3.parse(),this.cff.duplicateFirstGlyph();const s=new r.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=s.compile()}catch{(0,i.warn)("Failed to compile font "+t3.loadedName),this.data=e3}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const e3=this.cff,t3=this.properties,a3=e3.charset.charset;let r2,i2;if(t3.composite){let n2;if(r2=Object.create(null),e3.isCIDFont)for(i2=0;i2<a3.length;i2++)n2=t3.cMap.charCodeOf(a3[i2]),r2[n2]=i2;else for(i2=0;i2<e3.charStrings.count;i2++)n2=t3.cMap.charCodeOf(i2),r2[n2]=i2;return r2}let s=e3.encoding?e3.encoding.encoding:null;return t3.isInternalFont&&(s=t3.defaultEncoding),r2=(0,n.type1FontGlyphMapping)(t3,s,a3),r2}hasGlyphId(e3){return this.cff.hasGlyphId(e3)}_createBuiltInEncoding(){const{charset:e3,encoding:t3}=this.cff;if(!e3||!t3)return;const a3=e3.charset,r2=t3.encoding,n2=[];for(const e4 in r2){const t4=r2[e4];if(t4>=0){const r3=a3[t4];r3&&(n2[e4]=r3)}}n2.length>0&&(this.properties.builtInEncoding=n2)}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.FontRendererFactory=void 0;var r=a2(2),n=a2(35),i=a2(39),s=a2(37),o=a2(10);function getUint32(e3,t3){return(e3[t3]<<24|e3[t3+1]<<16|e3[t3+2]<<8|e3[t3+3])>>>0}function getUint16(e3,t3){return e3[t3]<<8|e3[t3+1]}function getInt16(e3,t3){return(e3[t3]<<24|e3[t3+1]<<16)>>16}function getInt8(e3,t3){return e3[t3]<<24>>24}function getFloat214(e3,t3){return getInt16(e3,t3)/16384}function getSubroutineBias(e3){const t3=e3.length;let a3=32768;return t3<1240?a3=107:t3<33900&&(a3=1131),a3}function parseCmap(e3,t3,a3){const n2=1===getUint16(e3,t3+2)?getUint32(e3,t3+8):getUint32(e3,t3+16),i2=getUint16(e3,t3+n2);let s2,o2,c2;if(4===i2){getUint16(e3,t3+n2+2);const a4=getUint16(e3,t3+n2+6)>>1;for(o2=t3+n2+14,s2=[],c2=0;c2<a4;c2++,o2+=2)s2[c2]={end:getUint16(e3,o2)};for(o2+=2,c2=0;c2<a4;c2++,o2+=2)s2[c2].start=getUint16(e3,o2);for(c2=0;c2<a4;c2++,o2+=2)s2[c2].idDelta=getUint16(e3,o2);for(c2=0;c2<a4;c2++,o2+=2){let t4=getUint16(e3,o2);if(0!==t4){s2[c2].ids=[];for(let a5=0,r2=s2[c2].end-s2[c2].start+1;a5<r2;a5++)s2[c2].ids[a5]=getUint16(e3,o2+t4),t4+=2}}return s2}if(12===i2){const a4=getUint32(e3,t3+n2+12);for(o2=t3+n2+16,s2=[],c2=0;c2<a4;c2++)t3=getUint32(e3,o2),s2.push({start:t3,end:getUint32(e3,o2+4),idDelta:getUint32(e3,o2+8)-t3}),o2+=12;return s2}throw new r.FormatError(`unsupported cmap: ${i2}`)}function parseCff(e3,t3,a3,r2){const i2=new n.CFFParser(new o.Stream(e3,t3,a3-t3),{},r2).parse();return{glyphs:i2.charStrings.objects,subrs:i2.topDict.privateDict&&i2.topDict.privateDict.subrsIndex&&i2.topDict.privateDict.subrsIndex.objects,gsubrs:i2.globalSubrIndex&&i2.globalSubrIndex.objects,isCFFCIDFont:i2.isCIDFont,fdSelect:i2.fdSelect,fdArray:i2.fdArray}}function lookupCmap(e3,t3){const a3=t3.codePointAt(0);let r2=0,n2=0,i2=e3.length-1;for(;n2<i2;){const t4=n2+i2+1>>1;a3<e3[t4].start?i2=t4-1:n2=t4}return e3[n2].start<=a3&&a3<=e3[n2].end&&(r2=e3[n2].idDelta+(e3[n2].ids?e3[n2].ids[a3-e3[n2].start]:a3)&65535),{charCode:a3,glyphId:r2}}function compileGlyf(e3,t3,a3){function moveTo(e4,a4){t3.push({cmd:"moveTo",args:[e4,a4]})}function lineTo(e4,a4){t3.push({cmd:"lineTo",args:[e4,a4]})}function quadraticCurveTo(e4,a4,r3,n3){t3.push({cmd:"quadraticCurveTo",args:[e4,a4,r3,n3]})}let r2=0;const n2=getInt16(e3,r2);let i2,s2=0,o2=0;if(r2+=10,n2<0)do{i2=getUint16(e3,r2);const n3=getUint16(e3,r2+2);let c2,l;r2+=4,1&i2?(2&i2?(c2=getInt16(e3,r2),l=getInt16(e3,r2+2)):(c2=getUint16(e3,r2),l=getUint16(e3,r2+2)),r2+=4):2&i2?(c2=getInt8(e3,r2++),l=getInt8(e3,r2++)):(c2=e3[r2++],l=e3[r2++]),2&i2?(s2=c2,o2=l):(s2=0,o2=0);let h=1,u=1,d=0,f=0;8&i2?(h=u=getFloat214(e3,r2),r2+=2):64&i2?(h=getFloat214(e3,r2),u=getFloat214(e3,r2+2),r2+=4):128&i2&&(h=getFloat214(e3,r2),d=getFloat214(e3,r2+2),f=getFloat214(e3,r2+4),u=getFloat214(e3,r2+6),r2+=8);const g=a3.glyphs[n3];g&&(t3.push({cmd:"save"},{cmd:"transform",args:[h,d,f,u,s2,o2]}),compileGlyf(g,t3,a3),t3.push({cmd:"restore"}))}while(32&i2);else{const t4=[];let a4,c2;for(a4=0;a4<n2;a4++)t4.push(getUint16(e3,r2)),r2+=2;r2+=2+getUint16(e3,r2);const l=t4.at(-1)+1,h=[];for(;h.length<l;){i2=e3[r2++];let t5=1;for(8&i2&&(t5+=e3[r2++]);t5-- >0;)h.push({flags:i2})}for(a4=0;a4<l;a4++){switch(18&h[a4].flags){case 0:s2+=getInt16(e3,r2),r2+=2;break;case 2:s2-=e3[r2++];break;case 18:s2+=e3[r2++]}h[a4].x=s2}for(a4=0;a4<l;a4++){switch(36&h[a4].flags){case 0:o2+=getInt16(e3,r2),r2+=2;break;case 4:o2-=e3[r2++];break;case 36:o2+=e3[r2++]}h[a4].y=o2}let u=0;for(r2=0;r2<n2;r2++){const e4=t4[r2],n3=h.slice(u,e4+1);if(1&n3[0].flags)n3.push(n3[0]);else if(1&n3.at(-1).flags)n3.unshift(n3.at(-1));else{const e5={flags:1,x:(n3[0].x+n3.at(-1).x)/2,y:(n3[0].y+n3.at(-1).y)/2};n3.unshift(e5),n3.push(e5)}for(moveTo(n3[0].x,n3[0].y),a4=1,c2=n3.length;a4<c2;a4++)1&n3[a4].flags?lineTo(n3[a4].x,n3[a4].y):1&n3[a4+1].flags?(quadraticCurveTo(n3[a4].x,n3[a4].y,n3[a4+1].x,n3[a4+1].y),a4++):quadraticCurveTo(n3[a4].x,n3[a4].y,(n3[a4].x+n3[a4+1].x)/2,(n3[a4].y+n3[a4+1].y)/2);u=e4+1}}}function compileCharString(e3,t3,a3,n2){function moveTo(e4,a4){t3.push({cmd:"moveTo",args:[e4,a4]})}function lineTo(e4,a4){t3.push({cmd:"lineTo",args:[e4,a4]})}function bezierCurveTo(e4,a4,r2,n3,i3,s2){t3.push({cmd:"bezierCurveTo",args:[e4,a4,r2,n3,i3,s2]})}const i2=[];let o2=0,c2=0,l=0;!function parse(e4){let h=0;for(;h<e4.length;){let u,d,f,g,p,m,b,y,w,S=!1,x=e4[h++];switch(x){case 1:case 3:case 18:case 23:l+=i2.length>>1,S=!0;break;case 4:c2+=i2.pop(),moveTo(o2,c2),S=!0;break;case 5:for(;i2.length>0;)o2+=i2.shift(),c2+=i2.shift(),lineTo(o2,c2);break;case 6:for(;i2.length>0&&(o2+=i2.shift(),lineTo(o2,c2),0!==i2.length);)c2+=i2.shift(),lineTo(o2,c2);break;case 7:for(;i2.length>0&&(c2+=i2.shift(),lineTo(o2,c2),0!==i2.length);)o2+=i2.shift(),lineTo(o2,c2);break;case 8:for(;i2.length>0;)u=o2+i2.shift(),f=c2+i2.shift(),d=u+i2.shift(),g=f+i2.shift(),o2=d+i2.shift(),c2=g+i2.shift(),bezierCurveTo(u,f,d,g,o2,c2);break;case 10:if(y=i2.pop(),w=null,a3.isCFFCIDFont){const e5=a3.fdSelect.getFDIndex(n2);if(e5>=0&&e5<a3.fdArray.length){const t4=a3.fdArray[e5];let r2;t4.privateDict&&t4.privateDict.subrsIndex&&(r2=t4.privateDict.subrsIndex.objects),r2&&(y+=getSubroutineBias(r2),w=r2[y])}else(0,r.warn)("Invalid fd index for glyph index.")}else w=a3.subrs[y+a3.subrsBias];w&&parse(w);break;case 11:return;case 12:switch(x=e4[h++],x){case 34:u=o2+i2.shift(),d=u+i2.shift(),p=c2+i2.shift(),o2=d+i2.shift(),bezierCurveTo(u,c2,d,p,o2,p),u=o2+i2.shift(),d=u+i2.shift(),o2=d+i2.shift(),bezierCurveTo(u,p,d,c2,o2,c2);break;case 35:u=o2+i2.shift(),f=c2+i2.shift(),d=u+i2.shift(),g=f+i2.shift(),o2=d+i2.shift(),c2=g+i2.shift(),bezierCurveTo(u,f,d,g,o2,c2),u=o2+i2.shift(),f=c2+i2.shift(),d=u+i2.shift(),g=f+i2.shift(),o2=d+i2.shift(),c2=g+i2.shift(),bezierCurveTo(u,f,d,g,o2,c2),i2.pop();break;case 36:u=o2+i2.shift(),p=c2+i2.shift(),d=u+i2.shift(),m=p+i2.shift(),o2=d+i2.shift(),bezierCurveTo(u,p,d,m,o2,m),u=o2+i2.shift(),d=u+i2.shift(),b=m+i2.shift(),o2=d+i2.shift(),bezierCurveTo(u,m,d,b,o2,c2);break;case 37:const e5=o2,t4=c2;u=o2+i2.shift(),f=c2+i2.shift(),d=u+i2.shift(),g=f+i2.shift(),o2=d+i2.shift(),c2=g+i2.shift(),bezierCurveTo(u,f,d,g,o2,c2),u=o2+i2.shift(),f=c2+i2.shift(),d=u+i2.shift(),g=f+i2.shift(),o2=d,c2=g,Math.abs(o2-e5)>Math.abs(c2-t4)?o2+=i2.shift():c2+=i2.shift(),bezierCurveTo(u,f,d,g,o2,c2);break;default:throw new r.FormatError(`unknown operator: 12 ${x}`)}break;case 14:if(i2.length>=4){const e5=i2.pop(),r2=i2.pop();c2=i2.pop(),o2=i2.pop(),t3.push({cmd:"save"},{cmd:"translate",args:[o2,c2]});let n3=lookupCmap(a3.cmap,String.fromCharCode(a3.glyphNameMap[s.StandardEncoding[e5]]));compileCharString(a3.glyphs[n3.glyphId],t3,a3,n3.glyphId),t3.push({cmd:"restore"}),n3=lookupCmap(a3.cmap,String.fromCharCode(a3.glyphNameMap[s.StandardEncoding[r2]])),compileCharString(a3.glyphs[n3.glyphId],t3,a3,n3.glyphId)}return;case 19:case 20:l+=i2.length>>1,h+=l+7>>3,S=!0;break;case 21:c2+=i2.pop(),o2+=i2.pop(),moveTo(o2,c2),S=!0;break;case 22:o2+=i2.pop(),moveTo(o2,c2),S=!0;break;case 24:for(;i2.length>2;)u=o2+i2.shift(),f=c2+i2.shift(),d=u+i2.shift(),g=f+i2.shift(),o2=d+i2.shift(),c2=g+i2.shift(),bezierCurveTo(u,f,d,g,o2,c2);o2+=i2.shift(),c2+=i2.shift(),lineTo(o2,c2);break;case 25:for(;i2.length>6;)o2+=i2.shift(),c2+=i2.shift(),lineTo(o2,c2);u=o2+i2.shift(),f=c2+i2.shift(),d=u+i2.shift(),g=f+i2.shift(),o2=d+i2.shift(),c2=g+i2.shift(),bezierCurveTo(u,f,d,g,o2,c2);break;case 26:for(i2.length%2&&(o2+=i2.shift());i2.length>0;)u=o2,f=c2+i2.shift(),d=u+i2.shift(),g=f+i2.shift(),o2=d,c2=g+i2.shift(),bezierCurveTo(u,f,d,g,o2,c2);break;case 27:for(i2.length%2&&(c2+=i2.shift());i2.length>0;)u=o2+i2.shift(),f=c2,d=u+i2.shift(),g=f+i2.shift(),o2=d+i2.shift(),c2=g,bezierCurveTo(u,f,d,g,o2,c2);break;case 28:i2.push((e4[h]<<24|e4[h+1]<<16)>>16),h+=2;break;case 29:y=i2.pop()+a3.gsubrsBias,w=a3.gsubrs[y],w&&parse(w);break;case 30:for(;i2.length>0&&(u=o2,f=c2+i2.shift(),d=u+i2.shift(),g=f+i2.shift(),o2=d+i2.shift(),c2=g+(1===i2.length?i2.shift():0),bezierCurveTo(u,f,d,g,o2,c2),0!==i2.length);)u=o2+i2.shift(),f=c2,d=u+i2.shift(),g=f+i2.shift(),c2=g+i2.shift(),o2=d+(1===i2.length?i2.shift():0),bezierCurveTo(u,f,d,g,o2,c2);break;case 31:for(;i2.length>0&&(u=o2+i2.shift(),f=c2,d=u+i2.shift(),g=f+i2.shift(),c2=g+i2.shift(),o2=d+(1===i2.length?i2.shift():0),bezierCurveTo(u,f,d,g,o2,c2),0!==i2.length);)u=o2,f=c2+i2.shift(),d=u+i2.shift(),g=f+i2.shift(),o2=d+i2.shift(),c2=g+(1===i2.length?i2.shift():0),bezierCurveTo(u,f,d,g,o2,c2);break;default:if(x<32)throw new r.FormatError(`unknown operator: ${x}`);x<247?i2.push(x-139):x<251?i2.push(256*(x-247)+e4[h++]+108):x<255?i2.push(256*-(x-251)-e4[h++]-108):(i2.push((e4[h]<<24|e4[h+1]<<16|e4[h+2]<<8|e4[h+3])/65536),h+=4)}S&&(i2.length=0)}}(e3)}const c=[];class CompiledFont{constructor(e3){this.constructor===CompiledFont&&(0,r.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=e3,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(e3){const{charCode:t3,glyphId:a3}=lookupCmap(this.cmap,e3);let r2=this.compiledGlyphs[a3];if(!r2)try{r2=this.compileGlyph(this.glyphs[a3],a3),this.compiledGlyphs[a3]=r2}catch(e4){throw this.compiledGlyphs[a3]=c,void 0===this.compiledCharCodeToGlyphId[t3]&&(this.compiledCharCodeToGlyphId[t3]=a3),e4}return void 0===this.compiledCharCodeToGlyphId[t3]&&(this.compiledCharCodeToGlyphId[t3]=a3),r2}compileGlyph(e3,t3){if(!e3||0===e3.length||14===e3[0])return c;let a3=this.fontMatrix;if(this.isCFFCIDFont){const e4=this.fdSelect.getFDIndex(t3);e4>=0&&e4<this.fdArray.length?a3=this.fdArray[e4].getByName("FontMatrix")||r.FONT_IDENTITY_MATRIX:(0,r.warn)("Invalid fd index for glyph index.")}const n2=[{cmd:"save"},{cmd:"transform",args:a3.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(e3,n2,t3),n2.push({cmd:"restore"}),n2}compileGlyphImpl(){(0,r.unreachable)("Children classes should implement this.")}hasBuiltPath(e3){const{charCode:t3,glyphId:a3}=lookupCmap(this.cmap,e3);return void 0!==this.compiledGlyphs[a3]&&void 0!==this.compiledCharCodeToGlyphId[t3]}}class TrueTypeCompiled extends CompiledFont{constructor(e3,t3,a3){super(a3||[488e-6,0,0,488e-6,0,0]),this.glyphs=e3,this.cmap=t3}compileGlyphImpl(e3,t3){compileGlyf(e3,t3,this)}}class Type2Compiled extends CompiledFont{constructor(e3,t3,a3,r2){super(a3||[.001,0,0,.001,0,0]),this.glyphs=e3.glyphs,this.gsubrs=e3.gsubrs||[],this.subrs=e3.subrs||[],this.cmap=t3,this.glyphNameMap=r2||(0,i.getGlyphsUnicode)(),this.gsubrsBias=getSubroutineBias(this.gsubrs),this.subrsBias=getSubroutineBias(this.subrs),this.isCFFCIDFont=e3.isCFFCIDFont,this.fdSelect=e3.fdSelect,this.fdArray=e3.fdArray}compileGlyphImpl(e3,t3,a3){compileCharString(e3,t3,this,a3)}}t2.FontRendererFactory=class{static create(e3,t3){const a3=new Uint8Array(e3.data);let n2,i2,s2,o2,c2,l;const h=getUint16(a3,4);for(let e4=0,u=12;e4<h;e4++,u+=16){const e5=(0,r.bytesToString)(a3.subarray(u,u+4)),h2=getUint32(a3,u+8),d=getUint32(a3,u+12);switch(e5){case"cmap":n2=parseCmap(a3,h2);break;case"glyf":i2=a3.subarray(h2,h2+d);break;case"loca":s2=a3.subarray(h2,h2+d);break;case"head":l=getUint16(a3,h2+18),c2=getUint16(a3,h2+50);break;case"CFF ":o2=parseCff(a3,h2,h2+d,t3)}}if(i2){const t4=l?[1/l,0,0,1/l,0,0]:e3.fontMatrix;return new TrueTypeCompiled(function(e4,t5,a4){let r2,n3;a4?(r2=4,n3=getUint32):(r2=2,n3=(e5,t6)=>2*getUint16(e5,t6));const i3=[];let s3=n3(t5,0);for(let a5=r2;a5<t5.length;a5+=r2){const r3=n3(t5,a5);i3.push(e4.subarray(s3,r3)),s3=r3}return i3}(i2,s2,c2),n2,t4)}return new Type2Compiled(o2,n2,e3.fontMatrix,e3.glyphNameMap)}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.getMetrics=t2.getFontBasicMetrics=void 0;var r=a2(6);const n=(0,r.getLookupTableFactory)(function(e3){e3.Courier=600,e3["Courier-Bold"]=600,e3["Courier-BoldOblique"]=600,e3["Courier-Oblique"]=600,e3.Helvetica=(0,r.getLookupTableFactory)(function(e4){e4.space=278,e4.exclam=278,e4.quotedbl=355,e4.numbersign=556,e4.dollar=556,e4.percent=889,e4.ampersand=667,e4.quoteright=222,e4.parenleft=333,e4.parenright=333,e4.asterisk=389,e4.plus=584,e4.comma=278,e4.hyphen=333,e4.period=278,e4.slash=278,e4.zero=556,e4.one=556,e4.two=556,e4.three=556,e4.four=556,e4.five=556,e4.six=556,e4.seven=556,e4.eight=556,e4.nine=556,e4.colon=278,e4.semicolon=278,e4.less=584,e4.equal=584,e4.greater=584,e4.question=556,e4.at=1015,e4.A=667,e4.B=667,e4.C=722,e4.D=722,e4.E=667,e4.F=611,e4.G=778,e4.H=722,e4.I=278,e4.J=500,e4.K=667,e4.L=556,e4.M=833,e4.N=722,e4.O=778,e4.P=667,e4.Q=778,e4.R=722,e4.S=667,e4.T=611,e4.U=722,e4.V=667,e4.W=944,e4.X=667,e4.Y=667,e4.Z=611,e4.bracketleft=278,e4.backslash=278,e4.bracketright=278,e4.asciicircum=469,e4.underscore=556,e4.quoteleft=222,e4.a=556,e4.b=556,e4.c=500,e4.d=556,e4.e=556,e4.f=278,e4.g=556,e4.h=556,e4.i=222,e4.j=222,e4.k=500,e4.l=222,e4.m=833,e4.n=556,e4.o=556,e4.p=556,e4.q=556,e4.r=333,e4.s=500,e4.t=278,e4.u=556,e4.v=500,e4.w=722,e4.x=500,e4.y=500,e4.z=500,e4.braceleft=334,e4.bar=260,e4.braceright=334,e4.asciitilde=584,e4.exclamdown=333,e4.cent=556,e4.sterling=556,e4.fraction=167,e4.yen=556,e4.florin=556,e4.section=556,e4.currency=556,e4.quotesingle=191,e4.quotedblleft=333,e4.guillemotleft=556,e4.guilsinglleft=333,e4.guilsinglright=333,e4.fi=500,e4.fl=500,e4.endash=556,e4.dagger=556,e4.daggerdbl=556,e4.periodcentered=278,e4.paragraph=537,e4.bullet=350,e4.quotesinglbase=222,e4.quotedblbase=333,e4.quotedblright=333,e4.guillemotright=556,e4.ellipsis=1e3,e4.perthousand=1e3,e4.questiondown=611,e4.grave=333,e4.acute=333,e4.circumflex=333,e4.tilde=333,e4.macron=333,e4.breve=333,e4.dotaccent=333,e4.dieresis=333,e4.ring=333,e4.cedilla=333,e4.hungarumlaut=333,e4.ogonek=333,e4.caron=333,e4.emdash=1e3,e4.AE=1e3,e4.ordfeminine=370,e4.Lslash=556,e4.Oslash=778,e4.OE=1e3,e4.ordmasculine=365,e4.ae=889,e4.dotlessi=278,e4.lslash=222,e4.oslash=611,e4.oe=944,e4.germandbls=611,e4.Idieresis=278,e4.eacute=556,e4.abreve=556,e4.uhungarumlaut=556,e4.ecaron=556,e4.Ydieresis=667,e4.divide=584,e4.Yacute=667,e4.Acircumflex=667,e4.aacute=556,e4.Ucircumflex=722,e4.yacute=500,e4.scommaaccent=500,e4.ecircumflex=556,e4.Uring=722,e4.Udieresis=722,e4.aogonek=556,e4.Uacute=722,e4.uogonek=556,e4.Edieresis=667,e4.Dcroat=722,e4.commaaccent=250,e4.copyright=737,e4.Emacron=667,e4.ccaron=500,e4.aring=556,e4.Ncommaaccent=722,e4.lacute=222,e4.agrave=556,e4.Tcommaaccent=611,e4.Cacute=722,e4.atilde=556,e4.Edotaccent=667,e4.scaron=500,e4.scedilla=500,e4.iacute=278,e4.lozenge=471,e4.Rcaron=722,e4.Gcommaaccent=778,e4.ucircumflex=556,e4.acircumflex=556,e4.Amacron=667,e4.rcaron=333,e4.ccedilla=500,e4.Zdotaccent=611,e4.Thorn=667,e4.Omacron=778,e4.Racute=722,e4.Sacute=667,e4.dcaron=643,e4.Umacron=722,e4.uring=556,e4.threesuperior=333,e4.Ograve=778,e4.Agrave=667,e4.Abreve=667,e4.multiply=584,e4.uacute=556,e4.Tcaron=611,e4.partialdiff=476,e4.ydieresis=500,e4.Nacute=722,e4.icircumflex=278,e4.Ecircumflex=667,e4.adieresis=556,e4.edieresis=556,e4.cacute=500,e4.nacute=556,e4.umacron=556,e4.Ncaron=722,e4.Iacute=278,e4.plusminus=584,e4.brokenbar=260,e4.registered=737,e4.Gbreve=778,e4.Idotaccent=278,e4.summation=600,e4.Egrave=667,e4.racute=333,e4.omacron=556,e4.Zacute=611,e4.Zcaron=611,e4.greaterequal=549,e4.Eth=722,e4.Ccedilla=722,e4.lcommaaccent=222,e4.tcaron=317,e4.eogonek=556,e4.Uogonek=722,e4.Aacute=667,e4.Adieresis=667,e4.egrave=556,e4.zacute=500,e4.iogonek=222,e4.Oacute=778,e4.oacute=556,e4.amacron=556,e4.sacute=500,e4.idieresis=278,e4.Ocircumflex=778,e4.Ugrave=722,e4.Delta=612,e4.thorn=556,e4.twosuperior=333,e4.Odieresis=778,e4.mu=556,e4.igrave=278,e4.ohungarumlaut=556,e4.Eogonek=667,e4.dcroat=556,e4.threequarters=834,e4.Scedilla=667,e4.lcaron=299,e4.Kcommaaccent=667,e4.Lacute=556,e4.trademark=1e3,e4.edotaccent=556,e4.Igrave=278,e4.Imacron=278,e4.Lcaron=556,e4.onehalf=834,e4.lessequal=549,e4.ocircumflex=556,e4.ntilde=556,e4.Uhungarumlaut=722,e4.Eacute=667,e4.emacron=556,e4.gbreve=556,e4.onequarter=834,e4.Scaron=667,e4.Scommaaccent=667,e4.Ohungarumlaut=778,e4.degree=400,e4.ograve=556,e4.Ccaron=722,e4.ugrave=556,e4.radical=453,e4.Dcaron=722,e4.rcommaaccent=333,e4.Ntilde=722,e4.otilde=556,e4.Rcommaaccent=722,e4.Lcommaaccent=556,e4.Atilde=667,e4.Aogonek=667,e4.Aring=667,e4.Otilde=778,e4.zdotaccent=500,e4.Ecaron=667,e4.Iogonek=278,e4.kcommaaccent=500,e4.minus=584,e4.Icircumflex=278,e4.ncaron=556,e4.tcommaaccent=278,e4.logicalnot=584,e4.odieresis=556,e4.udieresis=556,e4.notequal=549,e4.gcommaaccent=556,e4.eth=556,e4.zcaron=500,e4.ncommaaccent=556,e4.onesuperior=333,e4.imacron=278,e4.Euro=556}),e3["Helvetica-Bold"]=(0,r.getLookupTableFactory)(function(e4){e4.space=278,e4.exclam=333,e4.quotedbl=474,e4.numbersign=556,e4.dollar=556,e4.percent=889,e4.ampersand=722,e4.quoteright=278,e4.parenleft=333,e4.parenright=333,e4.asterisk=389,e4.plus=584,e4.comma=278,e4.hyphen=333,e4.period=278,e4.slash=278,e4.zero=556,e4.one=556,e4.two=556,e4.three=556,e4.four=556,e4.five=556,e4.six=556,e4.seven=556,e4.eight=556,e4.nine=556,e4.colon=333,e4.semicolon=333,e4.less=584,e4.equal=584,e4.greater=584,e4.question=611,e4.at=975,e4.A=722,e4.B=722,e4.C=722,e4.D=722,e4.E=667,e4.F=611,e4.G=778,e4.H=722,e4.I=278,e4.J=556,e4.K=722,e4.L=611,e4.M=833,e4.N=722,e4.O=778,e4.P=667,e4.Q=778,e4.R=722,e4.S=667,e4.T=611,e4.U=722,e4.V=667,e4.W=944,e4.X=667,e4.Y=667,e4.Z=611,e4.bracketleft=333,e4.backslash=278,e4.bracketright=333,e4.asciicircum=584,e4.underscore=556,e4.quoteleft=278,e4.a=556,e4.b=611,e4.c=556,e4.d=611,e4.e=556,e4.f=333,e4.g=611,e4.h=611,e4.i=278,e4.j=278,e4.k=556,e4.l=278,e4.m=889,e4.n=611,e4.o=611,e4.p=611,e4.q=611,e4.r=389,e4.s=556,e4.t=333,e4.u=611,e4.v=556,e4.w=778,e4.x=556,e4.y=556,e4.z=500,e4.braceleft=389,e4.bar=280,e4.braceright=389,e4.asciitilde=584,e4.exclamdown=333,e4.cent=556,e4.sterling=556,e4.fraction=167,e4.yen=556,e4.florin=556,e4.section=556,e4.currency=556,e4.quotesingle=238,e4.quotedblleft=500,e4.guillemotleft=556,e4.guilsinglleft=333,e4.guilsinglright=333,e4.fi=611,e4.fl=611,e4.endash=556,e4.dagger=556,e4.daggerdbl=556,e4.periodcentered=278,e4.paragraph=556,e4.bullet=350,e4.quotesinglbase=278,e4.quotedblbase=500,e4.quotedblright=500,e4.guillemotright=556,e4.ellipsis=1e3,e4.perthousand=1e3,e4.questiondown=611,e4.grave=333,e4.acute=333,e4.circumflex=333,e4.tilde=333,e4.macron=333,e4.breve=333,e4.dotaccent=333,e4.dieresis=333,e4.ring=333,e4.cedilla=333,e4.hungarumlaut=333,e4.ogonek=333,e4.caron=333,e4.emdash=1e3,e4.AE=1e3,e4.ordfeminine=370,e4.Lslash=611,e4.Oslash=778,e4.OE=1e3,e4.ordmasculine=365,e4.ae=889,e4.dotlessi=278,e4.lslash=278,e4.oslash=611,e4.oe=944,e4.germandbls=611,e4.Idieresis=278,e4.eacute=556,e4.abreve=556,e4.uhungarumlaut=611,e4.ecaron=556,e4.Ydieresis=667,e4.divide=584,e4.Yacute=667,e4.Acircumflex=722,e4.aacute=556,e4.Ucircumflex=722,e4.yacute=556,e4.scommaaccent=556,e4.ecircumflex=556,e4.Uring=722,e4.Udieresis=722,e4.aogonek=556,e4.Uacute=722,e4.uogonek=611,e4.Edieresis=667,e4.Dcroat=722,e4.commaaccent=250,e4.copyright=737,e4.Emacron=667,e4.ccaron=556,e4.aring=556,e4.Ncommaaccent=722,e4.lacute=278,e4.agrave=556,e4.Tcommaaccent=611,e4.Cacute=722,e4.atilde=556,e4.Edotaccent=667,e4.scaron=556,e4.scedilla=556,e4.iacute=278,e4.lozenge=494,e4.Rcaron=722,e4.Gcommaaccent=778,e4.ucircumflex=611,e4.acircumflex=556,e4.Amacron=722,e4.rcaron=389,e4.ccedilla=556,e4.Zdotaccent=611,e4.Thorn=667,e4.Omacron=778,e4.Racute=722,e4.Sacute=667,e4.dcaron=743,e4.Umacron=722,e4.uring=611,e4.threesuperior=333,e4.Ograve=778,e4.Agrave=722,e4.Abreve=722,e4.multiply=584,e4.uacute=611,e4.Tcaron=611,e4.partialdiff=494,e4.ydieresis=556,e4.Nacute=722,e4.icircumflex=278,e4.Ecircumflex=667,e4.adieresis=556,e4.edieresis=556,e4.cacute=556,e4.nacute=611,e4.umacron=611,e4.Ncaron=722,e4.Iacute=278,e4.plusminus=584,e4.brokenbar=280,e4.registered=737,e4.Gbreve=778,e4.Idotaccent=278,e4.summation=600,e4.Egrave=667,e4.racute=389,e4.omacron=611,e4.Zacute=611,e4.Zcaron=611,e4.greaterequal=549,e4.Eth=722,e4.Ccedilla=722,e4.lcommaaccent=278,e4.tcaron=389,e4.eogonek=556,e4.Uogonek=722,e4.Aacute=722,e4.Adieresis=722,e4.egrave=556,e4.zacute=500,e4.iogonek=278,e4.Oacute=778,e4.oacute=611,e4.amacron=556,e4.sacute=556,e4.idieresis=278,e4.Ocircumflex=778,e4.Ugrave=722,e4.Delta=612,e4.thorn=611,e4.twosuperior=333,e4.Odieresis=778,e4.mu=611,e4.igrave=278,e4.ohungarumlaut=611,e4.Eogonek=667,e4.dcroat=611,e4.threequarters=834,e4.Scedilla=667,e4.lcaron=400,e4.Kcommaaccent=722,e4.Lacute=611,e4.trademark=1e3,e4.edotaccent=556,e4.Igrave=278,e4.Imacron=278,e4.Lcaron=611,e4.onehalf=834,e4.lessequal=549,e4.ocircumflex=611,e4.ntilde=611,e4.Uhungarumlaut=722,e4.Eacute=667,e4.emacron=556,e4.gbreve=611,e4.onequarter=834,e4.Scaron=667,e4.Scommaaccent=667,e4.Ohungarumlaut=778,e4.degree=400,e4.ograve=611,e4.Ccaron=722,e4.ugrave=611,e4.radical=549,e4.Dcaron=722,e4.rcommaaccent=389,e4.Ntilde=722,e4.otilde=611,e4.Rcommaaccent=722,e4.Lcommaaccent=611,e4.Atilde=722,e4.Aogonek=722,e4.Aring=722,e4.Otilde=778,e4.zdotaccent=500,e4.Ecaron=667,e4.Iogonek=278,e4.kcommaaccent=556,e4.minus=584,e4.Icircumflex=278,e4.ncaron=611,e4.tcommaaccent=333,e4.logicalnot=584,e4.odieresis=611,e4.udieresis=611,e4.notequal=549,e4.gcommaaccent=611,e4.eth=611,e4.zcaron=500,e4.ncommaaccent=611,e4.onesuperior=333,e4.imacron=278,e4.Euro=556}),e3["Helvetica-BoldOblique"]=(0,r.getLookupTableFactory)(function(e4){e4.space=278,e4.exclam=333,e4.quotedbl=474,e4.numbersign=556,e4.dollar=556,e4.percent=889,e4.ampersand=722,e4.quoteright=278,e4.parenleft=333,e4.parenright=333,e4.asterisk=389,e4.plus=584,e4.comma=278,e4.hyphen=333,e4.period=278,e4.slash=278,e4.zero=556,e4.one=556,e4.two=556,e4.three=556,e4.four=556,e4.five=556,e4.six=556,e4.seven=556,e4.eight=556,e4.nine=556,e4.colon=333,e4.semicolon=333,e4.less=584,e4.equal=584,e4.greater=584,e4.question=611,e4.at=975,e4.A=722,e4.B=722,e4.C=722,e4.D=722,e4.E=667,e4.F=611,e4.G=778,e4.H=722,e4.I=278,e4.J=556,e4.K=722,e4.L=611,e4.M=833,e4.N=722,e4.O=778,e4.P=667,e4.Q=778,e4.R=722,e4.S=667,e4.T=611,e4.U=722,e4.V=667,e4.W=944,e4.X=667,e4.Y=667,e4.Z=611,e4.bracketleft=333,e4.backslash=278,e4.bracketright=333,e4.asciicircum=584,e4.underscore=556,e4.quoteleft=278,e4.a=556,e4.b=611,e4.c=556,e4.d=611,e4.e=556,e4.f=333,e4.g=611,e4.h=611,e4.i=278,e4.j=278,e4.k=556,e4.l=278,e4.m=889,e4.n=611,e4.o=611,e4.p=611,e4.q=611,e4.r=389,e4.s=556,e4.t=333,e4.u=611,e4.v=556,e4.w=778,e4.x=556,e4.y=556,e4.z=500,e4.braceleft=389,e4.bar=280,e4.braceright=389,e4.asciitilde=584,e4.exclamdown=333,e4.cent=556,e4.sterling=556,e4.fraction=167,e4.yen=556,e4.florin=556,e4.section=556,e4.currency=556,e4.quotesingle=238,e4.quotedblleft=500,e4.guillemotleft=556,e4.guilsinglleft=333,e4.guilsinglright=333,e4.fi=611,e4.fl=611,e4.endash=556,e4.dagger=556,e4.daggerdbl=556,e4.periodcentered=278,e4.paragraph=556,e4.bullet=350,e4.quotesinglbase=278,e4.quotedblbase=500,e4.quotedblright=500,e4.guillemotright=556,e4.ellipsis=1e3,e4.perthousand=1e3,e4.questiondown=611,e4.grave=333,e4.acute=333,e4.circumflex=333,e4.tilde=333,e4.macron=333,e4.breve=333,e4.dotaccent=333,e4.dieresis=333,e4.ring=333,e4.cedilla=333,e4.hungarumlaut=333,e4.ogonek=333,e4.caron=333,e4.emdash=1e3,e4.AE=1e3,e4.ordfeminine=370,e4.Lslash=611,e4.Oslash=778,e4.OE=1e3,e4.ordmasculine=365,e4.ae=889,e4.dotlessi=278,e4.lslash=278,e4.oslash=611,e4.oe=944,e4.germandbls=611,e4.Idieresis=278,e4.eacute=556,e4.abreve=556,e4.uhungarumlaut=611,e4.ecaron=556,e4.Ydieresis=667,e4.divide=584,e4.Yacute=667,e4.Acircumflex=722,e4.aacute=556,e4.Ucircumflex=722,e4.yacute=556,e4.scommaaccent=556,e4.ecircumflex=556,e4.Uring=722,e4.Udieresis=722,e4.aogonek=556,e4.Uacute=722,e4.uogonek=611,e4.Edieresis=667,e4.Dcroat=722,e4.commaaccent=250,e4.copyright=737,e4.Emacron=667,e4.ccaron=556,e4.aring=556,e4.Ncommaaccent=722,e4.lacute=278,e4.agrave=556,e4.Tcommaaccent=611,e4.Cacute=722,e4.atilde=556,e4.Edotaccent=667,e4.scaron=556,e4.scedilla=556,e4.iacute=278,e4.lozenge=494,e4.Rcaron=722,e4.Gcommaaccent=778,e4.ucircumflex=611,e4.acircumflex=556,e4.Amacron=722,e4.rcaron=389,e4.ccedilla=556,e4.Zdotaccent=611,e4.Thorn=667,e4.Omacron=778,e4.Racute=722,e4.Sacute=667,e4.dcaron=743,e4.Umacron=722,e4.uring=611,e4.threesuperior=333,e4.Ograve=778,e4.Agrave=722,e4.Abreve=722,e4.multiply=584,e4.uacute=611,e4.Tcaron=611,e4.partialdiff=494,e4.ydieresis=556,e4.Nacute=722,e4.icircumflex=278,e4.Ecircumflex=667,e4.adieresis=556,e4.edieresis=556,e4.cacute=556,e4.nacute=611,e4.umacron=611,e4.Ncaron=722,e4.Iacute=278,e4.plusminus=584,e4.brokenbar=280,e4.registered=737,e4.Gbreve=778,e4.Idotaccent=278,e4.summation=600,e4.Egrave=667,e4.racute=389,e4.omacron=611,e4.Zacute=611,e4.Zcaron=611,e4.greaterequal=549,e4.Eth=722,e4.Ccedilla=722,e4.lcommaaccent=278,e4.tcaron=389,e4.eogonek=556,e4.Uogonek=722,e4.Aacute=722,e4.Adieresis=722,e4.egrave=556,e4.zacute=500,e4.iogonek=278,e4.Oacute=778,e4.oacute=611,e4.amacron=556,e4.sacute=556,e4.idieresis=278,e4.Ocircumflex=778,e4.Ugrave=722,e4.Delta=612,e4.thorn=611,e4.twosuperior=333,e4.Odieresis=778,e4.mu=611,e4.igrave=278,e4.ohungarumlaut=611,e4.Eogonek=667,e4.dcroat=611,e4.threequarters=834,e4.Scedilla=667,e4.lcaron=400,e4.Kcommaaccent=722,e4.Lacute=611,e4.trademark=1e3,e4.edotaccent=556,e4.Igrave=278,e4.Imacron=278,e4.Lcaron=611,e4.onehalf=834,e4.lessequal=549,e4.ocircumflex=611,e4.ntilde=611,e4.Uhungarumlaut=722,e4.Eacute=667,e4.emacron=556,e4.gbreve=611,e4.onequarter=834,e4.Scaron=667,e4.Scommaaccent=667,e4.Ohungarumlaut=778,e4.degree=400,e4.ograve=611,e4.Ccaron=722,e4.ugrave=611,e4.radical=549,e4.Dcaron=722,e4.rcommaaccent=389,e4.Ntilde=722,e4.otilde=611,e4.Rcommaaccent=722,e4.Lcommaaccent=611,e4.Atilde=722,e4.Aogonek=722,e4.Aring=722,e4.Otilde=778,e4.zdotaccent=500,e4.Ecaron=667,e4.Iogonek=278,e4.kcommaaccent=556,e4.minus=584,e4.Icircumflex=278,e4.ncaron=611,e4.tcommaaccent=333,e4.logicalnot=584,e4.odieresis=611,e4.udieresis=611,e4.notequal=549,e4.gcommaaccent=611,e4.eth=611,e4.zcaron=500,e4.ncommaaccent=611,e4.onesuperior=333,e4.imacron=278,e4.Euro=556}),e3["Helvetica-Oblique"]=(0,r.getLookupTableFactory)(function(e4){e4.space=278,e4.exclam=278,e4.quotedbl=355,e4.numbersign=556,e4.dollar=556,e4.percent=889,e4.ampersand=667,e4.quoteright=222,e4.parenleft=333,e4.parenright=333,e4.asterisk=389,e4.plus=584,e4.comma=278,e4.hyphen=333,e4.period=278,e4.slash=278,e4.zero=556,e4.one=556,e4.two=556,e4.three=556,e4.four=556,e4.five=556,e4.six=556,e4.seven=556,e4.eight=556,e4.nine=556,e4.colon=278,e4.semicolon=278,e4.less=584,e4.equal=584,e4.greater=584,e4.question=556,e4.at=1015,e4.A=667,e4.B=667,e4.C=722,e4.D=722,e4.E=667,e4.F=611,e4.G=778,e4.H=722,e4.I=278,e4.J=500,e4.K=667,e4.L=556,e4.M=833,e4.N=722,e4.O=778,e4.P=667,e4.Q=778,e4.R=722,e4.S=667,e4.T=611,e4.U=722,e4.V=667,e4.W=944,e4.X=667,e4.Y=667,e4.Z=611,e4.bracketleft=278,e4.backslash=278,e4.bracketright=278,e4.asciicircum=469,e4.underscore=556,e4.quoteleft=222,e4.a=556,e4.b=556,e4.c=500,e4.d=556,e4.e=556,e4.f=278,e4.g=556,e4.h=556,e4.i=222,e4.j=222,e4.k=500,e4.l=222,e4.m=833,e4.n=556,e4.o=556,e4.p=556,e4.q=556,e4.r=333,e4.s=500,e4.t=278,e4.u=556,e4.v=500,e4.w=722,e4.x=500,e4.y=500,e4.z=500,e4.braceleft=334,e4.bar=260,e4.braceright=334,e4.asciitilde=584,e4.exclamdown=333,e4.cent=556,e4.sterling=556,e4.fraction=167,e4.yen=556,e4.florin=556,e4.section=556,e4.currency=556,e4.quotesingle=191,e4.quotedblleft=333,e4.guillemotleft=556,e4.guilsinglleft=333,e4.guilsinglright=333,e4.fi=500,e4.fl=500,e4.endash=556,e4.dagger=556,e4.daggerdbl=556,e4.periodcentered=278,e4.paragraph=537,e4.bullet=350,e4.quotesinglbase=222,e4.quotedblbase=333,e4.quotedblright=333,e4.guillemotright=556,e4.ellipsis=1e3,e4.perthousand=1e3,e4.questiondown=611,e4.grave=333,e4.acute=333,e4.circumflex=333,e4.tilde=333,e4.macron=333,e4.breve=333,e4.dotaccent=333,e4.dieresis=333,e4.ring=333,e4.cedilla=333,e4.hungarumlaut=333,e4.ogonek=333,e4.caron=333,e4.emdash=1e3,e4.AE=1e3,e4.ordfeminine=370,e4.Lslash=556,e4.Oslash=778,e4.OE=1e3,e4.ordmasculine=365,e4.ae=889,e4.dotlessi=278,e4.lslash=222,e4.oslash=611,e4.oe=944,e4.germandbls=611,e4.Idieresis=278,e4.eacute=556,e4.abreve=556,e4.uhungarumlaut=556,e4.ecaron=556,e4.Ydieresis=667,e4.divide=584,e4.Yacute=667,e4.Acircumflex=667,e4.aacute=556,e4.Ucircumflex=722,e4.yacute=500,e4.scommaaccent=500,e4.ecircumflex=556,e4.Uring=722,e4.Udieresis=722,e4.aogonek=556,e4.Uacute=722,e4.uogonek=556,e4.Edieresis=667,e4.Dcroat=722,e4.commaaccent=250,e4.copyright=737,e4.Emacron=667,e4.ccaron=500,e4.aring=556,e4.Ncommaaccent=722,e4.lacute=222,e4.agrave=556,e4.Tcommaaccent=611,e4.Cacute=722,e4.atilde=556,e4.Edotaccent=667,e4.scaron=500,e4.scedilla=500,e4.iacute=278,e4.lozenge=471,e4.Rcaron=722,e4.Gcommaaccent=778,e4.ucircumflex=556,e4.acircumflex=556,e4.Amacron=667,e4.rcaron=333,e4.ccedilla=500,e4.Zdotaccent=611,e4.Thorn=667,e4.Omacron=778,e4.Racute=722,e4.Sacute=667,e4.dcaron=643,e4.Umacron=722,e4.uring=556,e4.threesuperior=333,e4.Ograve=778,e4.Agrave=667,e4.Abreve=667,e4.multiply=584,e4.uacute=556,e4.Tcaron=611,e4.partialdiff=476,e4.ydieresis=500,e4.Nacute=722,e4.icircumflex=278,e4.Ecircumflex=667,e4.adieresis=556,e4.edieresis=556,e4.cacute=500,e4.nacute=556,e4.umacron=556,e4.Ncaron=722,e4.Iacute=278,e4.plusminus=584,e4.brokenbar=260,e4.registered=737,e4.Gbreve=778,e4.Idotaccent=278,e4.summation=600,e4.Egrave=667,e4.racute=333,e4.omacron=556,e4.Zacute=611,e4.Zcaron=611,e4.greaterequal=549,e4.Eth=722,e4.Ccedilla=722,e4.lcommaaccent=222,e4.tcaron=317,e4.eogonek=556,e4.Uogonek=722,e4.Aacute=667,e4.Adieresis=667,e4.egrave=556,e4.zacute=500,e4.iogonek=222,e4.Oacute=778,e4.oacute=556,e4.amacron=556,e4.sacute=500,e4.idieresis=278,e4.Ocircumflex=778,e4.Ugrave=722,e4.Delta=612,e4.thorn=556,e4.twosuperior=333,e4.Odieresis=778,e4.mu=556,e4.igrave=278,e4.ohungarumlaut=556,e4.Eogonek=667,e4.dcroat=556,e4.threequarters=834,e4.Scedilla=667,e4.lcaron=299,e4.Kcommaaccent=667,e4.Lacute=556,e4.trademark=1e3,e4.edotaccent=556,e4.Igrave=278,e4.Imacron=278,e4.Lcaron=556,e4.onehalf=834,e4.lessequal=549,e4.ocircumflex=556,e4.ntilde=556,e4.Uhungarumlaut=722,e4.Eacute=667,e4.emacron=556,e4.gbreve=556,e4.onequarter=834,e4.Scaron=667,e4.Scommaaccent=667,e4.Ohungarumlaut=778,e4.degree=400,e4.ograve=556,e4.Ccaron=722,e4.ugrave=556,e4.radical=453,e4.Dcaron=722,e4.rcommaaccent=333,e4.Ntilde=722,e4.otilde=556,e4.Rcommaaccent=722,e4.Lcommaaccent=556,e4.Atilde=667,e4.Aogonek=667,e4.Aring=667,e4.Otilde=778,e4.zdotaccent=500,e4.Ecaron=667,e4.Iogonek=278,e4.kcommaaccent=500,e4.minus=584,e4.Icircumflex=278,e4.ncaron=556,e4.tcommaaccent=278,e4.logicalnot=584,e4.odieresis=556,e4.udieresis=556,e4.notequal=549,e4.gcommaaccent=556,e4.eth=556,e4.zcaron=500,e4.ncommaaccent=556,e4.onesuperior=333,e4.imacron=278,e4.Euro=556}),e3.Symbol=(0,r.getLookupTableFactory)(function(e4){e4.space=250,e4.exclam=333,e4.universal=713,e4.numbersign=500,e4.existential=549,e4.percent=833,e4.ampersand=778,e4.suchthat=439,e4.parenleft=333,e4.parenright=333,e4.asteriskmath=500,e4.plus=549,e4.comma=250,e4.minus=549,e4.period=250,e4.slash=278,e4.zero=500,e4.one=500,e4.two=500,e4.three=500,e4.four=500,e4.five=500,e4.six=500,e4.seven=500,e4.eight=500,e4.nine=500,e4.colon=278,e4.semicolon=278,e4.less=549,e4.equal=549,e4.greater=549,e4.question=444,e4.congruent=549,e4.Alpha=722,e4.Beta=667,e4.Chi=722,e4.Delta=612,e4.Epsilon=611,e4.Phi=763,e4.Gamma=603,e4.Eta=722,e4.Iota=333,e4.theta1=631,e4.Kappa=722,e4.Lambda=686,e4.Mu=889,e4.Nu=722,e4.Omicron=722,e4.Pi=768,e4.Theta=741,e4.Rho=556,e4.Sigma=592,e4.Tau=611,e4.Upsilon=690,e4.sigma1=439,e4.Omega=768,e4.Xi=645,e4.Psi=795,e4.Zeta=611,e4.bracketleft=333,e4.therefore=863,e4.bracketright=333,e4.perpendicular=658,e4.underscore=500,e4.radicalex=500,e4.alpha=631,e4.beta=549,e4.chi=549,e4.delta=494,e4.epsilon=439,e4.phi=521,e4.gamma=411,e4.eta=603,e4.iota=329,e4.phi1=603,e4.kappa=549,e4.lambda=549,e4.mu=576,e4.nu=521,e4.omicron=549,e4.pi=549,e4.theta=521,e4.rho=549,e4.sigma=603,e4.tau=439,e4.upsilon=576,e4.omega1=713,e4.omega=686,e4.xi=493,e4.psi=686,e4.zeta=494,e4.braceleft=480,e4.bar=200,e4.braceright=480,e4.similar=549,e4.Euro=750,e4.Upsilon1=620,e4.minute=247,e4.lessequal=549,e4.fraction=167,e4.infinity=713,e4.florin=500,e4.club=753,e4.diamond=753,e4.heart=753,e4.spade=753,e4.arrowboth=1042,e4.arrowleft=987,e4.arrowup=603,e4.arrowright=987,e4.arrowdown=603,e4.degree=400,e4.plusminus=549,e4.second=411,e4.greaterequal=549,e4.multiply=549,e4.proportional=713,e4.partialdiff=494,e4.bullet=460,e4.divide=549,e4.notequal=549,e4.equivalence=549,e4.approxequal=549,e4.ellipsis=1e3,e4.arrowvertex=603,e4.arrowhorizex=1e3,e4.carriagereturn=658,e4.aleph=823,e4.Ifraktur=686,e4.Rfraktur=795,e4.weierstrass=987,e4.circlemultiply=768,e4.circleplus=768,e4.emptyset=823,e4.intersection=768,e4.union=768,e4.propersuperset=713,e4.reflexsuperset=713,e4.notsubset=713,e4.propersubset=713,e4.reflexsubset=713,e4.element=713,e4.notelement=713,e4.angle=768,e4.gradient=713,e4.registerserif=790,e4.copyrightserif=790,e4.trademarkserif=890,e4.product=823,e4.radical=549,e4.dotmath=250,e4.logicalnot=713,e4.logicaland=603,e4.logicalor=603,e4.arrowdblboth=1042,e4.arrowdblleft=987,e4.arrowdblup=603,e4.arrowdblright=987,e4.arrowdbldown=603,e4.lozenge=494,e4.angleleft=329,e4.registersans=790,e4.copyrightsans=790,e4.trademarksans=786,e4.summation=713,e4.parenlefttp=384,e4.parenleftex=384,e4.parenleftbt=384,e4.bracketlefttp=384,e4.bracketleftex=384,e4.bracketleftbt=384,e4.bracelefttp=494,e4.braceleftmid=494,e4.braceleftbt=494,e4.braceex=494,e4.angleright=329,e4.integral=274,e4.integraltp=686,e4.integralex=686,e4.integralbt=686,e4.parenrighttp=384,e4.parenrightex=384,e4.parenrightbt=384,e4.bracketrighttp=384,e4.bracketrightex=384,e4.bracketrightbt=384,e4.bracerighttp=494,e4.bracerightmid=494,e4.bracerightbt=494,e4.apple=790}),e3["Times-Roman"]=(0,r.getLookupTableFactory)(function(e4){e4.space=250,e4.exclam=333,e4.quotedbl=408,e4.numbersign=500,e4.dollar=500,e4.percent=833,e4.ampersand=778,e4.quoteright=333,e4.parenleft=333,e4.parenright=333,e4.asterisk=500,e4.plus=564,e4.comma=250,e4.hyphen=333,e4.period=250,e4.slash=278,e4.zero=500,e4.one=500,e4.two=500,e4.three=500,e4.four=500,e4.five=500,e4.six=500,e4.seven=500,e4.eight=500,e4.nine=500,e4.colon=278,e4.semicolon=278,e4.less=564,e4.equal=564,e4.greater=564,e4.question=444,e4.at=921,e4.A=722,e4.B=667,e4.C=667,e4.D=722,e4.E=611,e4.F=556,e4.G=722,e4.H=722,e4.I=333,e4.J=389,e4.K=722,e4.L=611,e4.M=889,e4.N=722,e4.O=722,e4.P=556,e4.Q=722,e4.R=667,e4.S=556,e4.T=611,e4.U=722,e4.V=722,e4.W=944,e4.X=722,e4.Y=722,e4.Z=611,e4.bracketleft=333,e4.backslash=278,e4.bracketright=333,e4.asciicircum=469,e4.underscore=500,e4.quoteleft=333,e4.a=444,e4.b=500,e4.c=444,e4.d=500,e4.e=444,e4.f=333,e4.g=500,e4.h=500,e4.i=278,e4.j=278,e4.k=500,e4.l=278,e4.m=778,e4.n=500,e4.o=500,e4.p=500,e4.q=500,e4.r=333,e4.s=389,e4.t=278,e4.u=500,e4.v=500,e4.w=722,e4.x=500,e4.y=500,e4.z=444,e4.braceleft=480,e4.bar=200,e4.braceright=480,e4.asciitilde=541,e4.exclamdown=333,e4.cent=500,e4.sterling=500,e4.fraction=167,e4.yen=500,e4.florin=500,e4.section=500,e4.currency=500,e4.quotesingle=180,e4.quotedblleft=444,e4.guillemotleft=500,e4.guilsinglleft=333,e4.guilsinglright=333,e4.fi=556,e4.fl=556,e4.endash=500,e4.dagger=500,e4.daggerdbl=500,e4.periodcentered=250,e4.paragraph=453,e4.bullet=350,e4.quotesinglbase=333,e4.quotedblbase=444,e4.quotedblright=444,e4.guillemotright=500,e4.ellipsis=1e3,e4.perthousand=1e3,e4.questiondown=444,e4.grave=333,e4.acute=333,e4.circumflex=333,e4.tilde=333,e4.macron=333,e4.breve=333,e4.dotaccent=333,e4.dieresis=333,e4.ring=333,e4.cedilla=333,e4.hungarumlaut=333,e4.ogonek=333,e4.caron=333,e4.emdash=1e3,e4.AE=889,e4.ordfeminine=276,e4.Lslash=611,e4.Oslash=722,e4.OE=889,e4.ordmasculine=310,e4.ae=667,e4.dotlessi=278,e4.lslash=278,e4.oslash=500,e4.oe=722,e4.germandbls=500,e4.Idieresis=333,e4.eacute=444,e4.abreve=444,e4.uhungarumlaut=500,e4.ecaron=444,e4.Ydieresis=722,e4.divide=564,e4.Yacute=722,e4.Acircumflex=722,e4.aacute=444,e4.Ucircumflex=722,e4.yacute=500,e4.scommaaccent=389,e4.ecircumflex=444,e4.Uring=722,e4.Udieresis=722,e4.aogonek=444,e4.Uacute=722,e4.uogonek=500,e4.Edieresis=611,e4.Dcroat=722,e4.commaaccent=250,e4.copyright=760,e4.Emacron=611,e4.ccaron=444,e4.aring=444,e4.Ncommaaccent=722,e4.lacute=278,e4.agrave=444,e4.Tcommaaccent=611,e4.Cacute=667,e4.atilde=444,e4.Edotaccent=611,e4.scaron=389,e4.scedilla=389,e4.iacute=278,e4.lozenge=471,e4.Rcaron=667,e4.Gcommaaccent=722,e4.ucircumflex=500,e4.acircumflex=444,e4.Amacron=722,e4.rcaron=333,e4.ccedilla=444,e4.Zdotaccent=611,e4.Thorn=556,e4.Omacron=722,e4.Racute=667,e4.Sacute=556,e4.dcaron=588,e4.Umacron=722,e4.uring=500,e4.threesuperior=300,e4.Ograve=722,e4.Agrave=722,e4.Abreve=722,e4.multiply=564,e4.uacute=500,e4.Tcaron=611,e4.partialdiff=476,e4.ydieresis=500,e4.Nacute=722,e4.icircumflex=278,e4.Ecircumflex=611,e4.adieresis=444,e4.edieresis=444,e4.cacute=444,e4.nacute=500,e4.umacron=500,e4.Ncaron=722,e4.Iacute=333,e4.plusminus=564,e4.brokenbar=200,e4.registered=760,e4.Gbreve=722,e4.Idotaccent=333,e4.summation=600,e4.Egrave=611,e4.racute=333,e4.omacron=500,e4.Zacute=611,e4.Zcaron=611,e4.greaterequal=549,e4.Eth=722,e4.Ccedilla=667,e4.lcommaaccent=278,e4.tcaron=326,e4.eogonek=444,e4.Uogonek=722,e4.Aacute=722,e4.Adieresis=722,e4.egrave=444,e4.zacute=444,e4.iogonek=278,e4.Oacute=722,e4.oacute=500,e4.amacron=444,e4.sacute=389,e4.idieresis=278,e4.Ocircumflex=722,e4.Ugrave=722,e4.Delta=612,e4.thorn=500,e4.twosuperior=300,e4.Odieresis=722,e4.mu=500,e4.igrave=278,e4.ohungarumlaut=500,e4.Eogonek=611,e4.dcroat=500,e4.threequarters=750,e4.Scedilla=556,e4.lcaron=344,e4.Kcommaaccent=722,e4.Lacute=611,e4.trademark=980,e4.edotaccent=444,e4.Igrave=333,e4.Imacron=333,e4.Lcaron=611,e4.onehalf=750,e4.lessequal=549,e4.ocircumflex=500,e4.ntilde=500,e4.Uhungarumlaut=722,e4.Eacute=611,e4.emacron=444,e4.gbreve=500,e4.onequarter=750,e4.Scaron=556,e4.Scommaaccent=556,e4.Ohungarumlaut=722,e4.degree=400,e4.ograve=500,e4.Ccaron=667,e4.ugrave=500,e4.radical=453,e4.Dcaron=722,e4.rcommaaccent=333,e4.Ntilde=722,e4.otilde=500,e4.Rcommaaccent=667,e4.Lcommaaccent=611,e4.Atilde=722,e4.Aogonek=722,e4.Aring=722,e4.Otilde=722,e4.zdotaccent=444,e4.Ecaron=611,e4.Iogonek=333,e4.kcommaaccent=500,e4.minus=564,e4.Icircumflex=333,e4.ncaron=500,e4.tcommaaccent=278,e4.logicalnot=564,e4.odieresis=500,e4.udieresis=500,e4.notequal=549,e4.gcommaaccent=500,e4.eth=500,e4.zcaron=444,e4.ncommaaccent=500,e4.onesuperior=300,e4.imacron=278,e4.Euro=500}),e3["Times-Bold"]=(0,r.getLookupTableFactory)(function(e4){e4.space=250,e4.exclam=333,e4.quotedbl=555,e4.numbersign=500,e4.dollar=500,e4.percent=1e3,e4.ampersand=833,e4.quoteright=333,e4.parenleft=333,e4.parenright=333,e4.asterisk=500,e4.plus=570,e4.comma=250,e4.hyphen=333,e4.period=250,e4.slash=278,e4.zero=500,e4.one=500,e4.two=500,e4.three=500,e4.four=500,e4.five=500,e4.six=500,e4.seven=500,e4.eight=500,e4.nine=500,e4.colon=333,e4.semicolon=333,e4.less=570,e4.equal=570,e4.greater=570,e4.question=500,e4.at=930,e4.A=722,e4.B=667,e4.C=722,e4.D=722,e4.E=667,e4.F=611,e4.G=778,e4.H=778,e4.I=389,e4.J=500,e4.K=778,e4.L=667,e4.M=944,e4.N=722,e4.O=778,e4.P=611,e4.Q=778,e4.R=722,e4.S=556,e4.T=667,e4.U=722,e4.V=722,e4.W=1e3,e4.X=722,e4.Y=722,e4.Z=667,e4.bracketleft=333,e4.backslash=278,e4.bracketright=333,e4.asciicircum=581,e4.underscore=500,e4.quoteleft=333,e4.a=500,e4.b=556,e4.c=444,e4.d=556,e4.e=444,e4.f=333,e4.g=500,e4.h=556,e4.i=278,e4.j=333,e4.k=556,e4.l=278,e4.m=833,e4.n=556,e4.o=500,e4.p=556,e4.q=556,e4.r=444,e4.s=389,e4.t=333,e4.u=556,e4.v=500,e4.w=722,e4.x=500,e4.y=500,e4.z=444,e4.braceleft=394,e4.bar=220,e4.braceright=394,e4.asciitilde=520,e4.exclamdown=333,e4.cent=500,e4.sterling=500,e4.fraction=167,e4.yen=500,e4.florin=500,e4.section=500,e4.currency=500,e4.quotesingle=278,e4.quotedblleft=500,e4.guillemotleft=500,e4.guilsinglleft=333,e4.guilsinglright=333,e4.fi=556,e4.fl=556,e4.endash=500,e4.dagger=500,e4.daggerdbl=500,e4.periodcentered=250,e4.paragraph=540,e4.bullet=350,e4.quotesinglbase=333,e4.quotedblbase=500,e4.quotedblright=500,e4.guillemotright=500,e4.ellipsis=1e3,e4.perthousand=1e3,e4.questiondown=500,e4.grave=333,e4.acute=333,e4.circumflex=333,e4.tilde=333,e4.macron=333,e4.breve=333,e4.dotaccent=333,e4.dieresis=333,e4.ring=333,e4.cedilla=333,e4.hungarumlaut=333,e4.ogonek=333,e4.caron=333,e4.emdash=1e3,e4.AE=1e3,e4.ordfeminine=300,e4.Lslash=667,e4.Oslash=778,e4.OE=1e3,e4.ordmasculine=330,e4.ae=722,e4.dotlessi=278,e4.lslash=278,e4.oslash=500,e4.oe=722,e4.germandbls=556,e4.Idieresis=389,e4.eacute=444,e4.abreve=500,e4.uhungarumlaut=556,e4.ecaron=444,e4.Ydieresis=722,e4.divide=570,e4.Yacute=722,e4.Acircumflex=722,e4.aacute=500,e4.Ucircumflex=722,e4.yacute=500,e4.scommaaccent=389,e4.ecircumflex=444,e4.Uring=722,e4.Udieresis=722,e4.aogonek=500,e4.Uacute=722,e4.uogonek=556,e4.Edieresis=667,e4.Dcroat=722,e4.commaaccent=250,e4.copyright=747,e4.Emacron=667,e4.ccaron=444,e4.aring=500,e4.Ncommaaccent=722,e4.lacute=278,e4.agrave=500,e4.Tcommaaccent=667,e4.Cacute=722,e4.atilde=500,e4.Edotaccent=667,e4.scaron=389,e4.scedilla=389,e4.iacute=278,e4.lozenge=494,e4.Rcaron=722,e4.Gcommaaccent=778,e4.ucircumflex=556,e4.acircumflex=500,e4.Amacron=722,e4.rcaron=444,e4.ccedilla=444,e4.Zdotaccent=667,e4.Thorn=611,e4.Omacron=778,e4.Racute=722,e4.Sacute=556,e4.dcaron=672,e4.Umacron=722,e4.uring=556,e4.threesuperior=300,e4.Ograve=778,e4.Agrave=722,e4.Abreve=722,e4.multiply=570,e4.uacute=556,e4.Tcaron=667,e4.partialdiff=494,e4.ydieresis=500,e4.Nacute=722,e4.icircumflex=278,e4.Ecircumflex=667,e4.adieresis=500,e4.edieresis=444,e4.cacute=444,e4.nacute=556,e4.umacron=556,e4.Ncaron=722,e4.Iacute=389,e4.plusminus=570,e4.brokenbar=220,e4.registered=747,e4.Gbreve=778,e4.Idotaccent=389,e4.summation=600,e4.Egrave=667,e4.racute=444,e4.omacron=500,e4.Zacute=667,e4.Zcaron=667,e4.greaterequal=549,e4.Eth=722,e4.Ccedilla=722,e4.lcommaaccent=278,e4.tcaron=416,e4.eogonek=444,e4.Uogonek=722,e4.Aacute=722,e4.Adieresis=722,e4.egrave=444,e4.zacute=444,e4.iogonek=278,e4.Oacute=778,e4.oacute=500,e4.amacron=500,e4.sacute=389,e4.idieresis=278,e4.Ocircumflex=778,e4.Ugrave=722,e4.Delta=612,e4.thorn=556,e4.twosuperior=300,e4.Odieresis=778,e4.mu=556,e4.igrave=278,e4.ohungarumlaut=500,e4.Eogonek=667,e4.dcroat=556,e4.threequarters=750,e4.Scedilla=556,e4.lcaron=394,e4.Kcommaaccent=778,e4.Lacute=667,e4.trademark=1e3,e4.edotaccent=444,e4.Igrave=389,e4.Imacron=389,e4.Lcaron=667,e4.onehalf=750,e4.lessequal=549,e4.ocircumflex=500,e4.ntilde=556,e4.Uhungarumlaut=722,e4.Eacute=667,e4.emacron=444,e4.gbreve=500,e4.onequarter=750,e4.Scaron=556,e4.Scommaaccent=556,e4.Ohungarumlaut=778,e4.degree=400,e4.ograve=500,e4.Ccaron=722,e4.ugrave=556,e4.radical=549,e4.Dcaron=722,e4.rcommaaccent=444,e4.Ntilde=722,e4.otilde=500,e4.Rcommaaccent=722,e4.Lcommaaccent=667,e4.Atilde=722,e4.Aogonek=722,e4.Aring=722,e4.Otilde=778,e4.zdotaccent=444,e4.Ecaron=667,e4.Iogonek=389,e4.kcommaaccent=556,e4.minus=570,e4.Icircumflex=389,e4.ncaron=556,e4.tcommaaccent=333,e4.logicalnot=570,e4.odieresis=500,e4.udieresis=556,e4.notequal=549,e4.gcommaaccent=500,e4.eth=500,e4.zcaron=444,e4.ncommaaccent=556,e4.onesuperior=300,e4.imacron=278,e4.Euro=500}),e3["Times-BoldItalic"]=(0,r.getLookupTableFactory)(function(e4){e4.space=250,e4.exclam=389,e4.quotedbl=555,e4.numbersign=500,e4.dollar=500,e4.percent=833,e4.ampersand=778,e4.quoteright=333,e4.parenleft=333,e4.parenright=333,e4.asterisk=500,e4.plus=570,e4.comma=250,e4.hyphen=333,e4.period=250,e4.slash=278,e4.zero=500,e4.one=500,e4.two=500,e4.three=500,e4.four=500,e4.five=500,e4.six=500,e4.seven=500,e4.eight=500,e4.nine=500,e4.colon=333,e4.semicolon=333,e4.less=570,e4.equal=570,e4.greater=570,e4.question=500,e4.at=832,e4.A=667,e4.B=667,e4.C=667,e4.D=722,e4.E=667,e4.F=667,e4.G=722,e4.H=778,e4.I=389,e4.J=500,e4.K=667,e4.L=611,e4.M=889,e4.N=722,e4.O=722,e4.P=611,e4.Q=722,e4.R=667,e4.S=556,e4.T=611,e4.U=722,e4.V=667,e4.W=889,e4.X=667,e4.Y=611,e4.Z=611,e4.bracketleft=333,e4.backslash=278,e4.bracketright=333,e4.asciicircum=570,e4.underscore=500,e4.quoteleft=333,e4.a=500,e4.b=500,e4.c=444,e4.d=500,e4.e=444,e4.f=333,e4.g=500,e4.h=556,e4.i=278,e4.j=278,e4.k=500,e4.l=278,e4.m=778,e4.n=556,e4.o=500,e4.p=500,e4.q=500,e4.r=389,e4.s=389,e4.t=278,e4.u=556,e4.v=444,e4.w=667,e4.x=500,e4.y=444,e4.z=389,e4.braceleft=348,e4.bar=220,e4.braceright=348,e4.asciitilde=570,e4.exclamdown=389,e4.cent=500,e4.sterling=500,e4.fraction=167,e4.yen=500,e4.florin=500,e4.section=500,e4.currency=500,e4.quotesingle=278,e4.quotedblleft=500,e4.guillemotleft=500,e4.guilsinglleft=333,e4.guilsinglright=333,e4.fi=556,e4.fl=556,e4.endash=500,e4.dagger=500,e4.daggerdbl=500,e4.periodcentered=250,e4.paragraph=500,e4.bullet=350,e4.quotesinglbase=333,e4.quotedblbase=500,e4.quotedblright=500,e4.guillemotright=500,e4.ellipsis=1e3,e4.perthousand=1e3,e4.questiondown=500,e4.grave=333,e4.acute=333,e4.circumflex=333,e4.tilde=333,e4.macron=333,e4.breve=333,e4.dotaccent=333,e4.dieresis=333,e4.ring=333,e4.cedilla=333,e4.hungarumlaut=333,e4.ogonek=333,e4.caron=333,e4.emdash=1e3,e4.AE=944,e4.ordfeminine=266,e4.Lslash=611,e4.Oslash=722,e4.OE=944,e4.ordmasculine=300,e4.ae=722,e4.dotlessi=278,e4.lslash=278,e4.oslash=500,e4.oe=722,e4.germandbls=500,e4.Idieresis=389,e4.eacute=444,e4.abreve=500,e4.uhungarumlaut=556,e4.ecaron=444,e4.Ydieresis=611,e4.divide=570,e4.Yacute=611,e4.Acircumflex=667,e4.aacute=500,e4.Ucircumflex=722,e4.yacute=444,e4.scommaaccent=389,e4.ecircumflex=444,e4.Uring=722,e4.Udieresis=722,e4.aogonek=500,e4.Uacute=722,e4.uogonek=556,e4.Edieresis=667,e4.Dcroat=722,e4.commaaccent=250,e4.copyright=747,e4.Emacron=667,e4.ccaron=444,e4.aring=500,e4.Ncommaaccent=722,e4.lacute=278,e4.agrave=500,e4.Tcommaaccent=611,e4.Cacute=667,e4.atilde=500,e4.Edotaccent=667,e4.scaron=389,e4.scedilla=389,e4.iacute=278,e4.lozenge=494,e4.Rcaron=667,e4.Gcommaaccent=722,e4.ucircumflex=556,e4.acircumflex=500,e4.Amacron=667,e4.rcaron=389,e4.ccedilla=444,e4.Zdotaccent=611,e4.Thorn=611,e4.Omacron=722,e4.Racute=667,e4.Sacute=556,e4.dcaron=608,e4.Umacron=722,e4.uring=556,e4.threesuperior=300,e4.Ograve=722,e4.Agrave=667,e4.Abreve=667,e4.multiply=570,e4.uacute=556,e4.Tcaron=611,e4.partialdiff=494,e4.ydieresis=444,e4.Nacute=722,e4.icircumflex=278,e4.Ecircumflex=667,e4.adieresis=500,e4.edieresis=444,e4.cacute=444,e4.nacute=556,e4.umacron=556,e4.Ncaron=722,e4.Iacute=389,e4.plusminus=570,e4.brokenbar=220,e4.registered=747,e4.Gbreve=722,e4.Idotaccent=389,e4.summation=600,e4.Egrave=667,e4.racute=389,e4.omacron=500,e4.Zacute=611,e4.Zcaron=611,e4.greaterequal=549,e4.Eth=722,e4.Ccedilla=667,e4.lcommaaccent=278,e4.tcaron=366,e4.eogonek=444,e4.Uogonek=722,e4.Aacute=667,e4.Adieresis=667,e4.egrave=444,e4.zacute=389,e4.iogonek=278,e4.Oacute=722,e4.oacute=500,e4.amacron=500,e4.sacute=389,e4.idieresis=278,e4.Ocircumflex=722,e4.Ugrave=722,e4.Delta=612,e4.thorn=500,e4.twosuperior=300,e4.Odieresis=722,e4.mu=576,e4.igrave=278,e4.ohungarumlaut=500,e4.Eogonek=667,e4.dcroat=500,e4.threequarters=750,e4.Scedilla=556,e4.lcaron=382,e4.Kcommaaccent=667,e4.Lacute=611,e4.trademark=1e3,e4.edotaccent=444,e4.Igrave=389,e4.Imacron=389,e4.Lcaron=611,e4.onehalf=750,e4.lessequal=549,e4.ocircumflex=500,e4.ntilde=556,e4.Uhungarumlaut=722,e4.Eacute=667,e4.emacron=444,e4.gbreve=500,e4.onequarter=750,e4.Scaron=556,e4.Scommaaccent=556,e4.Ohungarumlaut=722,e4.degree=400,e4.ograve=500,e4.Ccaron=667,e4.ugrave=556,e4.radical=549,e4.Dcaron=722,e4.rcommaaccent=389,e4.Ntilde=722,e4.otilde=500,e4.Rcommaaccent=667,e4.Lcommaaccent=611,e4.Atilde=667,e4.Aogonek=667,e4.Aring=667,e4.Otilde=722,e4.zdotaccent=389,e4.Ecaron=667,e4.Iogonek=389,e4.kcommaaccent=500,e4.minus=606,e4.Icircumflex=389,e4.ncaron=556,e4.tcommaaccent=278,e4.logicalnot=606,e4.odieresis=500,e4.udieresis=556,e4.notequal=549,e4.gcommaaccent=500,e4.eth=500,e4.zcaron=389,e4.ncommaaccent=556,e4.onesuperior=300,e4.imacron=278,e4.Euro=500}),e3["Times-Italic"]=(0,r.getLookupTableFactory)(function(e4){e4.space=250,e4.exclam=333,e4.quotedbl=420,e4.numbersign=500,e4.dollar=500,e4.percent=833,e4.ampersand=778,e4.quoteright=333,e4.parenleft=333,e4.parenright=333,e4.asterisk=500,e4.plus=675,e4.comma=250,e4.hyphen=333,e4.period=250,e4.slash=278,e4.zero=500,e4.one=500,e4.two=500,e4.three=500,e4.four=500,e4.five=500,e4.six=500,e4.seven=500,e4.eight=500,e4.nine=500,e4.colon=333,e4.semicolon=333,e4.less=675,e4.equal=675,e4.greater=675,e4.question=500,e4.at=920,e4.A=611,e4.B=611,e4.C=667,e4.D=722,e4.E=611,e4.F=611,e4.G=722,e4.H=722,e4.I=333,e4.J=444,e4.K=667,e4.L=556,e4.M=833,e4.N=667,e4.O=722,e4.P=611,e4.Q=722,e4.R=611,e4.S=500,e4.T=556,e4.U=722,e4.V=611,e4.W=833,e4.X=611,e4.Y=556,e4.Z=556,e4.bracketleft=389,e4.backslash=278,e4.bracketright=389,e4.asciicircum=422,e4.underscore=500,e4.quoteleft=333,e4.a=500,e4.b=500,e4.c=444,e4.d=500,e4.e=444,e4.f=278,e4.g=500,e4.h=500,e4.i=278,e4.j=278,e4.k=444,e4.l=278,e4.m=722,e4.n=500,e4.o=500,e4.p=500,e4.q=500,e4.r=389,e4.s=389,e4.t=278,e4.u=500,e4.v=444,e4.w=667,e4.x=444,e4.y=444,e4.z=389,e4.braceleft=400,e4.bar=275,e4.braceright=400,e4.asciitilde=541,e4.exclamdown=389,e4.cent=500,e4.sterling=500,e4.fraction=167,e4.yen=500,e4.florin=500,e4.section=500,e4.currency=500,e4.quotesingle=214,e4.quotedblleft=556,e4.guillemotleft=500,e4.guilsinglleft=333,e4.guilsinglright=333,e4.fi=500,e4.fl=500,e4.endash=500,e4.dagger=500,e4.daggerdbl=500,e4.periodcentered=250,e4.paragraph=523,e4.bullet=350,e4.quotesinglbase=333,e4.quotedblbase=556,e4.quotedblright=556,e4.guillemotright=500,e4.ellipsis=889,e4.perthousand=1e3,e4.questiondown=500,e4.grave=333,e4.acute=333,e4.circumflex=333,e4.tilde=333,e4.macron=333,e4.breve=333,e4.dotaccent=333,e4.dieresis=333,e4.ring=333,e4.cedilla=333,e4.hungarumlaut=333,e4.ogonek=333,e4.caron=333,e4.emdash=889,e4.AE=889,e4.ordfeminine=276,e4.Lslash=556,e4.Oslash=722,e4.OE=944,e4.ordmasculine=310,e4.ae=667,e4.dotlessi=278,e4.lslash=278,e4.oslash=500,e4.oe=667,e4.germandbls=500,e4.Idieresis=333,e4.eacute=444,e4.abreve=500,e4.uhungarumlaut=500,e4.ecaron=444,e4.Ydieresis=556,e4.divide=675,e4.Yacute=556,e4.Acircumflex=611,e4.aacute=500,e4.Ucircumflex=722,e4.yacute=444,e4.scommaaccent=389,e4.ecircumflex=444,e4.Uring=722,e4.Udieresis=722,e4.aogonek=500,e4.Uacute=722,e4.uogonek=500,e4.Edieresis=611,e4.Dcroat=722,e4.commaaccent=250,e4.copyright=760,e4.Emacron=611,e4.ccaron=444,e4.aring=500,e4.Ncommaaccent=667,e4.lacute=278,e4.agrave=500,e4.Tcommaaccent=556,e4.Cacute=667,e4.atilde=500,e4.Edotaccent=611,e4.scaron=389,e4.scedilla=389,e4.iacute=278,e4.lozenge=471,e4.Rcaron=611,e4.Gcommaaccent=722,e4.ucircumflex=500,e4.acircumflex=500,e4.Amacron=611,e4.rcaron=389,e4.ccedilla=444,e4.Zdotaccent=556,e4.Thorn=611,e4.Omacron=722,e4.Racute=611,e4.Sacute=500,e4.dcaron=544,e4.Umacron=722,e4.uring=500,e4.threesuperior=300,e4.Ograve=722,e4.Agrave=611,e4.Abreve=611,e4.multiply=675,e4.uacute=500,e4.Tcaron=556,e4.partialdiff=476,e4.ydieresis=444,e4.Nacute=667,e4.icircumflex=278,e4.Ecircumflex=611,e4.adieresis=500,e4.edieresis=444,e4.cacute=444,e4.nacute=500,e4.umacron=500,e4.Ncaron=667,e4.Iacute=333,e4.plusminus=675,e4.brokenbar=275,e4.registered=760,e4.Gbreve=722,e4.Idotaccent=333,e4.summation=600,e4.Egrave=611,e4.racute=389,e4.omacron=500,e4.Zacute=556,e4.Zcaron=556,e4.greaterequal=549,e4.Eth=722,e4.Ccedilla=667,e4.lcommaaccent=278,e4.tcaron=300,e4.eogonek=444,e4.Uogonek=722,e4.Aacute=611,e4.Adieresis=611,e4.egrave=444,e4.zacute=389,e4.iogonek=278,e4.Oacute=722,e4.oacute=500,e4.amacron=500,e4.sacute=389,e4.idieresis=278,e4.Ocircumflex=722,e4.Ugrave=722,e4.Delta=612,e4.thorn=500,e4.twosuperior=300,e4.Odieresis=722,e4.mu=500,e4.igrave=278,e4.ohungarumlaut=500,e4.Eogonek=611,e4.dcroat=500,e4.threequarters=750,e4.Scedilla=500,e4.lcaron=300,e4.Kcommaaccent=667,e4.Lacute=556,e4.trademark=980,e4.edotaccent=444,e4.Igrave=333,e4.Imacron=333,e4.Lcaron=611,e4.onehalf=750,e4.lessequal=549,e4.ocircumflex=500,e4.ntilde=500,e4.Uhungarumlaut=722,e4.Eacute=611,e4.emacron=444,e4.gbreve=500,e4.onequarter=750,e4.Scaron=500,e4.Scommaaccent=500,e4.Ohungarumlaut=722,e4.degree=400,e4.ograve=500,e4.Ccaron=667,e4.ugrave=500,e4.radical=453,e4.Dcaron=722,e4.rcommaaccent=389,e4.Ntilde=667,e4.otilde=500,e4.Rcommaaccent=611,e4.Lcommaaccent=556,e4.Atilde=611,e4.Aogonek=611,e4.Aring=611,e4.Otilde=722,e4.zdotaccent=389,e4.Ecaron=611,e4.Iogonek=333,e4.kcommaaccent=444,e4.minus=675,e4.Icircumflex=333,e4.ncaron=500,e4.tcommaaccent=278,e4.logicalnot=675,e4.odieresis=500,e4.udieresis=500,e4.notequal=549,e4.gcommaaccent=500,e4.eth=500,e4.zcaron=389,e4.ncommaaccent=500,e4.onesuperior=300,e4.imacron=278,e4.Euro=500}),e3.ZapfDingbats=(0,r.getLookupTableFactory)(function(e4){e4.space=278,e4.a1=974,e4.a2=961,e4.a202=974,e4.a3=980,e4.a4=719,e4.a5=789,e4.a119=790,e4.a118=791,e4.a117=690,e4.a11=960,e4.a12=939,e4.a13=549,e4.a14=855,e4.a15=911,e4.a16=933,e4.a105=911,e4.a17=945,e4.a18=974,e4.a19=755,e4.a20=846,e4.a21=762,e4.a22=761,e4.a23=571,e4.a24=677,e4.a25=763,e4.a26=760,e4.a27=759,e4.a28=754,e4.a6=494,e4.a7=552,e4.a8=537,e4.a9=577,e4.a10=692,e4.a29=786,e4.a30=788,e4.a31=788,e4.a32=790,e4.a33=793,e4.a34=794,e4.a35=816,e4.a36=823,e4.a37=789,e4.a38=841,e4.a39=823,e4.a40=833,e4.a41=816,e4.a42=831,e4.a43=923,e4.a44=744,e4.a45=723,e4.a46=749,e4.a47=790,e4.a48=792,e4.a49=695,e4.a50=776,e4.a51=768,e4.a52=792,e4.a53=759,e4.a54=707,e4.a55=708,e4.a56=682,e4.a57=701,e4.a58=826,e4.a59=815,e4.a60=789,e4.a61=789,e4.a62=707,e4.a63=687,e4.a64=696,e4.a65=689,e4.a66=786,e4.a67=787,e4.a68=713,e4.a69=791,e4.a70=785,e4.a71=791,e4.a72=873,e4.a73=761,e4.a74=762,e4.a203=762,e4.a75=759,e4.a204=759,e4.a76=892,e4.a77=892,e4.a78=788,e4.a79=784,e4.a81=438,e4.a82=138,e4.a83=277,e4.a84=415,e4.a97=392,e4.a98=392,e4.a99=668,e4.a100=668,e4.a89=390,e4.a90=390,e4.a93=317,e4.a94=317,e4.a91=276,e4.a92=276,e4.a205=509,e4.a85=509,e4.a206=410,e4.a86=410,e4.a87=234,e4.a88=234,e4.a95=334,e4.a96=334,e4.a101=732,e4.a102=544,e4.a103=544,e4.a104=910,e4.a106=667,e4.a107=760,e4.a108=760,e4.a112=776,e4.a111=595,e4.a110=694,e4.a109=626,e4.a120=788,e4.a121=788,e4.a122=788,e4.a123=788,e4.a124=788,e4.a125=788,e4.a126=788,e4.a127=788,e4.a128=788,e4.a129=788,e4.a130=788,e4.a131=788,e4.a132=788,e4.a133=788,e4.a134=788,e4.a135=788,e4.a136=788,e4.a137=788,e4.a138=788,e4.a139=788,e4.a140=788,e4.a141=788,e4.a142=788,e4.a143=788,e4.a144=788,e4.a145=788,e4.a146=788,e4.a147=788,e4.a148=788,e4.a149=788,e4.a150=788,e4.a151=788,e4.a152=788,e4.a153=788,e4.a154=788,e4.a155=788,e4.a156=788,e4.a157=788,e4.a158=788,e4.a159=788,e4.a160=894,e4.a161=838,e4.a163=1016,e4.a164=458,e4.a196=748,e4.a165=924,e4.a192=748,e4.a166=918,e4.a167=927,e4.a168=928,e4.a169=928,e4.a170=834,e4.a171=873,e4.a172=828,e4.a173=924,e4.a162=924,e4.a174=917,e4.a175=930,e4.a176=931,e4.a177=463,e4.a178=883,e4.a179=836,e4.a193=836,e4.a180=867,e4.a199=867,e4.a181=696,e4.a200=696,e4.a182=874,e4.a201=874,e4.a183=760,e4.a184=946,e4.a197=771,e4.a185=865,e4.a194=771,e4.a198=888,e4.a186=967,e4.a195=888,e4.a187=831,e4.a188=873,e4.a189=927,e4.a190=970,e4.a191=918})});t2.getMetrics=n;const i=(0,r.getLookupTableFactory)(function(e3){e3.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},e3["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},e3["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e3["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e3.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},e3["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e3["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},e3["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e3["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},e3["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},e3["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},e3["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},e3.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},e3.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});t2.getFontBasicMetrics=i},(e2,t2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.GlyfTable=void 0,t2.GlyfTable=class{constructor({glyfTable:e3,isGlyphLocationsLong:t3,locaTable:a2,numGlyphs:r}){this.glyphs=[];const n=new DataView(a2.buffer,a2.byteOffset,a2.byteLength),i=new DataView(e3.buffer,e3.byteOffset,e3.byteLength),s=t3?4:2;let o=t3?n.getUint32(0):2*n.getUint16(0),c=0;for(let e4=0;e4<r;e4++){c+=s;const e5=t3?n.getUint32(c):2*n.getUint16(c);if(e5===o){this.glyphs.push(new Glyph({}));continue}const a3=Glyph.parse(o,i);this.glyphs.push(a3),o=e5}}getSize(){return this.glyphs.reduce((e3,t3)=>e3+(t3.getSize()+3&-4),0)}write(){const e3=this.getSize(),t3=new DataView(new ArrayBuffer(e3)),a2=e3>131070,r=a2?4:2,n=new DataView(new ArrayBuffer((this.glyphs.length+1)*r));a2?n.setUint32(0,0):n.setUint16(0,0);let i=0,s=0;for(const e4 of this.glyphs)i+=e4.write(i,t3),i=i+3&-4,s+=r,a2?n.setUint32(s,i):n.setUint16(s,i>>1);return{isLocationLong:a2,loca:new Uint8Array(n.buffer),glyf:new Uint8Array(t3.buffer)}}scale(e3){for(let t3=0,a2=this.glyphs.length;t3<a2;t3++)this.glyphs[t3].scale(e3[t3])}};class Glyph{constructor({header:e3=null,simple:t3=null,composites:a2=null}){this.header=e3,this.simple=t3,this.composites=a2}static parse(e3,t3){const[a2,r]=GlyphHeader.parse(e3,t3);if(e3+=a2,r.numberOfContours<0){const a3=[];for(;;){const[r2,n2]=CompositeGlyph.parse(e3,t3);if(e3+=r2,a3.push(n2),!(32&n2.flags))break}return new Glyph({header:r,composites:a3})}const n=SimpleGlyph.parse(e3,t3,r.numberOfContours);return new Glyph({header:r,simple:n})}getSize(){if(!this.header)return 0;const e3=this.simple?this.simple.getSize():this.composites.reduce((e4,t3)=>e4+t3.getSize(),0);return this.header.getSize()+e3}write(e3,t3){if(!this.header)return 0;const a2=e3;if(e3+=this.header.write(e3,t3),this.simple)e3+=this.simple.write(e3,t3);else for(const a3 of this.composites)e3+=a3.write(e3,t3);return e3-a2}scale(e3){if(!this.header)return;const t3=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(t3,e3),this.simple)this.simple.scale(t3,e3);else for(const a2 of this.composites)a2.scale(t3,e3)}}class GlyphHeader{constructor({numberOfContours:e3,xMin:t3,yMin:a2,xMax:r,yMax:n}){this.numberOfContours=e3,this.xMin=t3,this.yMin=a2,this.xMax=r,this.yMax=n}static parse(e3,t3){return[10,new GlyphHeader({numberOfContours:t3.getInt16(e3),xMin:t3.getInt16(e3+2),yMin:t3.getInt16(e3+4),xMax:t3.getInt16(e3+6),yMax:t3.getInt16(e3+8)})]}getSize(){return 10}write(e3,t3){return t3.setInt16(e3,this.numberOfContours),t3.setInt16(e3+2,this.xMin),t3.setInt16(e3+4,this.yMin),t3.setInt16(e3+6,this.xMax),t3.setInt16(e3+8,this.yMax),10}scale(e3,t3){this.xMin=Math.round(e3+(this.xMin-e3)*t3),this.xMax=Math.round(e3+(this.xMax-e3)*t3)}}class Contour{constructor({flags:e3,xCoordinates:t3,yCoordinates:a2}){this.xCoordinates=t3,this.yCoordinates=a2,this.flags=e3}}class SimpleGlyph{constructor({contours:e3,instructions:t3}){this.contours=e3,this.instructions=t3}static parse(e3,t3,a2){const r=[];for(let n2=0;n2<a2;n2++){const a3=t3.getUint16(e3);e3+=2,r.push(a3)}const n=r[a2-1]+1,i=t3.getUint16(e3);e3+=2;const s=new Uint8Array(t3).slice(e3,e3+i);e3+=i;const o=[];for(let a3=0;a3<n;e3++,a3++){let r2=t3.getUint8(e3);if(o.push(r2),8&r2){const n2=t3.getUint8(++e3);r2^=8;for(let e4=0;e4<n2;e4++)o.push(r2);a3+=n2}}const c=[];let l=[],h=[],u=[];const d=[];let f=0,g=0;for(let a3=0;a3<n;a3++){const n2=o[a3];if(2&n2){const a4=t3.getUint8(e3++);g+=16&n2?a4:-a4,l.push(g)}else 16&n2||(g+=t3.getInt16(e3),e3+=2),l.push(g);r[f]===a3&&(f++,c.push(l),l=[])}g=0,f=0;for(let a3=0;a3<n;a3++){const n2=o[a3];if(4&n2){const a4=t3.getUint8(e3++);g+=32&n2?a4:-a4,h.push(g)}else 32&n2||(g+=t3.getInt16(e3),e3+=2),h.push(g);u.push(1&n2|64&n2),r[f]===a3&&(l=c[f],f++,d.push(new Contour({flags:u,xCoordinates:l,yCoordinates:h})),h=[],u=[])}return new SimpleGlyph({contours:d,instructions:s})}getSize(){let e3=2*this.contours.length+2+this.instructions.length,t3=0,a2=0;for(const r of this.contours){e3+=r.flags.length;for(let n=0,i=r.xCoordinates.length;n<i;n++){const i2=r.xCoordinates[n],s=r.yCoordinates[n];let o=Math.abs(i2-t3);o>255?e3+=2:o>0&&(e3+=1),t3=i2,o=Math.abs(s-a2),o>255?e3+=2:o>0&&(e3+=1),a2=s}}return e3}write(e3,t3){const a2=e3,r=[],n=[],i=[];let s=0,o=0;for(const a3 of this.contours){for(let e4=0,t4=a3.xCoordinates.length;e4<t4;e4++){let t5=a3.flags[e4];const c=a3.xCoordinates[e4];let l=c-s;if(0===l)t5|=16,r.push(0);else{const e5=Math.abs(l);e5<=255?(t5|=l>=0?18:2,r.push(e5)):r.push(l)}s=c;const h=a3.yCoordinates[e4];if(l=h-o,0===l)t5|=32,n.push(0);else{const e5=Math.abs(l);e5<=255?(t5|=l>=0?36:4,n.push(e5)):n.push(l)}o=h,i.push(t5)}t3.setUint16(e3,r.length-1),e3+=2}t3.setUint16(e3,this.instructions.length),e3+=2,this.instructions.length&&(new Uint8Array(t3.buffer,0,t3.buffer.byteLength).set(this.instructions,e3),e3+=this.instructions.length);for(const a3 of i)t3.setUint8(e3++,a3);for(let a3=0,n2=r.length;a3<n2;a3++){const n3=r[a3],s2=i[a3];2&s2?t3.setUint8(e3++,n3):16&s2||(t3.setInt16(e3,n3),e3+=2)}for(let a3=0,r2=n.length;a3<r2;a3++){const r3=n[a3],s2=i[a3];4&s2?t3.setUint8(e3++,r3):32&s2||(t3.setInt16(e3,r3),e3+=2)}return e3-a2}scale(e3,t3){for(const a2 of this.contours)if(0!==a2.xCoordinates.length)for(let r=0,n=a2.xCoordinates.length;r<n;r++)a2.xCoordinates[r]=Math.round(e3+(a2.xCoordinates[r]-e3)*t3)}}class CompositeGlyph{constructor({flags:e3,glyphIndex:t3,argument1:a2,argument2:r,transf:n,instructions:i}){this.flags=e3,this.glyphIndex=t3,this.argument1=a2,this.argument2=r,this.transf=n,this.instructions=i}static parse(e3,t3){const a2=e3,r=[];let n=t3.getUint16(e3);const i=t3.getUint16(e3+2);let s,o;e3+=4,1&n?(2&n?(s=t3.getInt16(e3),o=t3.getInt16(e3+2)):(s=t3.getUint16(e3),o=t3.getUint16(e3+2)),e3+=4,n^=1):(2&n?(s=t3.getInt8(e3),o=t3.getInt8(e3+1)):(s=t3.getUint8(e3),o=t3.getUint8(e3+1)),e3+=2),8&n?(r.push(t3.getUint16(e3)),e3+=2):64&n?(r.push(t3.getUint16(e3),t3.getUint16(e3+2)),e3+=4):128&n&&(r.push(t3.getUint16(e3),t3.getUint16(e3+2),t3.getUint16(e3+4),t3.getUint16(e3+6)),e3+=8);let c=null;if(256&n){const a3=t3.getUint16(e3);e3+=2,c=new Uint8Array(t3).slice(e3,e3+a3),e3+=a3}return[e3-a2,new CompositeGlyph({flags:n,glyphIndex:i,argument1:s,argument2:o,transf:r,instructions:c})]}getSize(){let e3=4+2*this.transf.length;return 256&this.flags&&(e3+=2+this.instructions.length),e3+=2,2&this.flags?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(e3+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(e3+=2),e3}write(e3,t3){const a2=e3;return 2&this.flags?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=1):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=1),t3.setUint16(e3,this.flags),t3.setUint16(e3+2,this.glyphIndex),e3+=4,1&this.flags?(2&this.flags?(t3.setInt16(e3,this.argument1),t3.setInt16(e3+2,this.argument2)):(t3.setUint16(e3,this.argument1),t3.setUint16(e3+2,this.argument2)),e3+=4):(t3.setUint8(e3,this.argument1),t3.setUint8(e3+1,this.argument2),e3+=2),256&this.flags&&(t3.setUint16(e3,this.instructions.length),e3+=2,this.instructions.length&&(new Uint8Array(t3.buffer,0,t3.buffer.byteLength).set(this.instructions,e3),e3+=this.instructions.length)),e3-a2}scale(e3,t3){}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.OpenTypeFileBuilder=void 0;var r=a2(6),n=a2(2);function writeInt16(e3,t3,a3){e3[t3]=a3>>8&255,e3[t3+1]=255&a3}function writeInt32(e3,t3,a3){e3[t3]=a3>>24&255,e3[t3+1]=a3>>16&255,e3[t3+2]=a3>>8&255,e3[t3+3]=255&a3}function writeData(e3,t3,a3){if(a3 instanceof Uint8Array)e3.set(a3,t3);else if("string"==typeof a3)for(let r2=0,n2=a3.length;r2<n2;r2++)e3[t3++]=255&a3.charCodeAt(r2);else for(let r2=0,n2=a3.length;r2<n2;r2++)e3[t3++]=255&a3[r2]}class OpenTypeFileBuilder{constructor(e3){this.sfnt=e3,this.tables=Object.create(null)}static getSearchParams(e3,t3){let a3=1,r2=0;for(;(a3^e3)>a3;)a3<<=1,r2++;const n2=a3*t3;return{range:n2,entry:r2,rangeShift:t3*e3-n2}}toArray(){let e3=this.sfnt;const t3=this.tables,a3=Object.keys(t3);a3.sort();const i=a3.length;let s,o,c,l,h,u=12+16*i;const d=[u];for(s=0;s<i;s++)l=t3[a3[s]],u+=(l.length+3&-4)>>>0,d.push(u);const f=new Uint8Array(u);for(s=0;s<i;s++)l=t3[a3[s]],writeData(f,d[s],l);"true"===e3&&(e3=(0,n.string32)(65536)),f[0]=255&e3.charCodeAt(0),f[1]=255&e3.charCodeAt(1),f[2]=255&e3.charCodeAt(2),f[3]=255&e3.charCodeAt(3),writeInt16(f,4,i);const g=OpenTypeFileBuilder.getSearchParams(i,16);for(writeInt16(f,6,g.range),writeInt16(f,8,g.entry),writeInt16(f,10,g.rangeShift),u=12,s=0;s<i;s++){h=a3[s],f[u]=255&h.charCodeAt(0),f[u+1]=255&h.charCodeAt(1),f[u+2]=255&h.charCodeAt(2),f[u+3]=255&h.charCodeAt(3);let e4=0;for(o=d[s],c=d[s+1];o<c;o+=4)e4=e4+(0,r.readUint32)(f,o)>>>0;writeInt32(f,u+4,e4),writeInt32(f,u+8,d[s]),writeInt32(f,u+12,t3[h].length),u+=16}return f}addTable(e3,t3){if(e3 in this.tables)throw new Error("Table "+e3+" already exists");this.tables[e3]=t3}}t2.OpenTypeFileBuilder=OpenTypeFileBuilder},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.Type1Font=void 0;var r=a2(35),n=a2(38),i=a2(6),s=a2(10),o=a2(49),c=a2(2);function findBlock(e3,t3,a3){const r2=e3.length,n2=t3.length,s2=r2-n2;let o2=a3,c2=!1;for(;o2<s2;){let a4=0;for(;a4<n2&&e3[o2+a4]===t3[a4];)a4++;if(a4>=n2){for(o2+=a4;o2<r2&&(0,i.isWhiteSpace)(e3[o2]);)o2++;c2=!0;break}o2++}return{found:c2,length:o2}}t2.Type1Font=class{constructor(e3,t3,a3){let r2=a3.length1,i2=a3.length2,l=t3.peekBytes(6);const h=128===l[0]&&1===l[1];h&&(t3.skip(6),r2=l[5]<<24|l[4]<<16|l[3]<<8|l[2]);const u=function(e4,t4){const a4=[101,101,120,101,99],r3=e4.pos;let n2,i3,o2,l2;try{n2=e4.getBytes(t4),i3=n2.length}catch{}if(i3===t4&&(o2=findBlock(n2,a4,t4-2*a4.length),o2.found&&o2.length===t4))return{stream:new s.Stream(n2),length:t4};for((0,c.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),e4.pos=r3;o2=findBlock(e4.peekBytes(2048),a4,0),0!==o2.length;)if(e4.pos+=o2.length,o2.found){l2=e4.pos-r3;break}return e4.pos=r3,l2?{stream:new s.Stream(e4.getBytes(l2)),length:l2}:((0,c.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new s.Stream(e4.getBytes(t4)),length:t4})}(t3,r2);new o.Type1Parser(u.stream,!1,n.SEAC_ANALYSIS_ENABLED).extractFontHeader(a3),h&&(l=t3.getBytes(6),i2=l[5]<<24|l[4]<<16|l[3]<<8|l[2]);const d=function(e4,t4){const a4=e4.getBytes();return{stream:new s.Stream(a4),length:a4.length}}(t3),f=new o.Type1Parser(d.stream,!0,n.SEAC_ANALYSIS_ENABLED).extractFontProgram(a3);for(const e4 in f.properties)a3[e4]=f.properties[e4];const g=f.charstrings,p=this.getType2Charstrings(g),m=this.getType2Subrs(f.subrs);this.charstrings=g,this.data=this.wrap(e3,p,this.charstrings,m,a3),this.seacs=this.getSeacs(f.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const e3=[".notdef"];for(const{glyphName:t3}of this.charstrings)e3.push(t3);return e3}getGlyphMapping(e3){const t3=this.charstrings;if(e3.composite){const a4=Object.create(null);for(let r3=0,n2=t3.length;r3<n2;r3++)a4[e3.cMap.charCodeOf(r3)]=r3+1;return a4}const a3=[".notdef"];let r2,i2;for(i2=0;i2<t3.length;i2++)a3.push(t3[i2].glyphName);const s2=e3.builtInEncoding;if(s2){r2=Object.create(null);for(const e4 in s2)i2=a3.indexOf(s2[e4]),i2>=0&&(r2[e4]=i2)}return(0,n.type1FontGlyphMapping)(e3,r2,a3)}hasGlyphId(e3){return!(e3<0||e3>=this.numGlyphs)&&(0===e3||this.charstrings[e3-1].charstring.length>0)}getSeacs(e3){const t3=[];for(let a3=0,r2=e3.length;a3<r2;a3++){const r3=e3[a3];r3.seac&&(t3[a3+1]=r3.seac)}return t3}getType2Charstrings(e3){const t3=[];for(let a3=0,r2=e3.length;a3<r2;a3++)t3.push(e3[a3].charstring);return t3}getType2Subrs(e3){let t3=0;const a3=e3.length;t3=a3<1133?107:a3<33769?1131:32768;const r2=[];let n2;for(n2=0;n2<t3;n2++)r2.push([11]);for(n2=0;n2<a3;n2++)r2.push(e3[n2]);return r2}wrap(e3,t3,a3,n2,i2){const s2=new r.CFF;s2.header=new r.CFFHeader(1,0,4,4),s2.names=[e3];const o2=new r.CFFTopDict;o2.setByName("version",391),o2.setByName("Notice",392),o2.setByName("FullName",393),o2.setByName("FamilyName",394),o2.setByName("Weight",395),o2.setByName("Encoding",null),o2.setByName("FontMatrix",i2.fontMatrix),o2.setByName("FontBBox",i2.bbox),o2.setByName("charset",null),o2.setByName("CharStrings",null),o2.setByName("Private",null),s2.topDict=o2;const c2=new r.CFFStrings;c2.add("Version 0.11"),c2.add("See original notice"),c2.add(e3),c2.add(e3),c2.add("Medium"),s2.strings=c2,s2.globalSubrIndex=new r.CFFIndex;const l=t3.length,h=[".notdef"];let u,d;for(u=0;u<l;u++){const e4=a3[u].glyphName;-1===r.CFFStandardStrings.indexOf(e4)&&c2.add(e4),h.push(e4)}s2.charset=new r.CFFCharset(!1,0,h);const f=new r.CFFIndex;for(f.add([139,14]),u=0;u<l;u++)f.add(t3[u]);s2.charStrings=f;const g=new r.CFFPrivateDict;g.setByName("Subrs",null);const p=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(u=0,d=p.length;u<d;u++){const e4=p[u];if(!(e4 in i2.privateData))continue;const t4=i2.privateData[e4];if(Array.isArray(t4))for(let e5=t4.length-1;e5>0;e5--)t4[e5]-=t4[e5-1];g.setByName(e4,t4)}s2.topDict.privateDict=g;const m=new r.CFFIndex;for(u=0,d=n2.length;u<d;u++)m.add(n2[u]);return g.subrsIndex=m,new r.CFFCompiler(s2).compile()}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.Type1Parser=void 0;var r=a2(37),n=a2(6),i=a2(10),s=a2(2);const o=[4],c=[5],l=[6],h=[7],u=[8],d=[12,35],f=[14],g=[21],p=[22],m=[30],b=[31];class Type1CharString{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(e3,t3,a3){const r2=e3.length;let n2,i2,y,w=!1;for(let S=0;S<r2;S++){let r3=e3[S];if(r3<32){switch(12===r3&&(r3=(r3<<8)+e3[++S]),r3){case 1:case 3:case 9:case 3072:case 3073:case 3074:case 3105:this.stack=[];break;case 4:if(this.flexing){if(this.stack.length<1){w=!0;break}const e5=this.stack.pop();this.stack.push(0,e5);break}w=this.executeCommand(1,o);break;case 5:w=this.executeCommand(2,c);break;case 6:w=this.executeCommand(1,l);break;case 7:w=this.executeCommand(1,h);break;case 8:w=this.executeCommand(6,u);break;case 10:if(this.stack.length<1){w=!0;break}if(y=this.stack.pop(),!t3[y]){w=!0;break}w=this.convert(t3[y],t3,a3);break;case 11:return w;case 13:if(this.stack.length<2){w=!0;break}n2=this.stack.pop(),i2=this.stack.pop(),this.lsb=i2,this.width=n2,this.stack.push(n2,i2),w=this.executeCommand(2,p);break;case 14:this.output.push(f[0]);break;case 21:if(this.flexing)break;w=this.executeCommand(2,g);break;case 22:if(this.flexing){this.stack.push(0);break}w=this.executeCommand(1,p);break;case 30:w=this.executeCommand(4,m);break;case 31:w=this.executeCommand(4,b);break;case 3078:if(a3){const e5=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-e5,w=this.executeCommand(0,f)}else w=this.executeCommand(4,f);break;case 3079:if(this.stack.length<4){w=!0;break}this.stack.pop(),n2=this.stack.pop();const e4=this.stack.pop();i2=this.stack.pop(),this.lsb=i2,this.width=n2,this.stack.push(n2,i2,e4),w=this.executeCommand(3,g);break;case 3084:if(this.stack.length<2){w=!0;break}const S2=this.stack.pop(),x=this.stack.pop();this.stack.push(x/S2);break;case 3088:if(this.stack.length<2){w=!0;break}y=this.stack.pop();const k=this.stack.pop();if(0===y&&3===k){const e5=this.stack.splice(this.stack.length-17,17);this.stack.push(e5[2]+e5[0],e5[3]+e5[1],e5[4],e5[5],e5[6],e5[7],e5[8],e5[9],e5[10],e5[11],e5[12],e5[13],e5[14]),w=this.executeCommand(13,d,!0),this.flexing=!1,this.stack.push(e5[15],e5[16])}else 1===y&&0===k&&(this.flexing=!0);break;case 3089:break;default:(0,s.warn)('Unknown type 1 charstring command of "'+r3+'"')}if(w)break}else r3<=246?r3-=139:r3=r3<=250?256*(r3-247)+e3[++S]+108:r3<=254?-256*(r3-251)-e3[++S]-108:(255&e3[++S])<<24|(255&e3[++S])<<16|(255&e3[++S])<<8|255&e3[++S],this.stack.push(r3)}return w}executeCommand(e3,t3,a3){const r2=this.stack.length;if(e3>r2)return!0;const n2=r2-e3;for(let e4=n2;e4<r2;e4++){let t4=this.stack[e4];Number.isInteger(t4)?this.output.push(28,t4>>8&255,255&t4):(t4=65536*t4|0,this.output.push(255,t4>>24&255,t4>>16&255,t4>>8&255,255&t4))}return this.output.push(...t3),a3?this.stack.splice(n2,e3):this.stack.length=0,!1}}function isHexDigit(e3){return e3>=48&&e3<=57||e3>=65&&e3<=70||e3>=97&&e3<=102}function decrypt(e3,t3,a3){if(a3>=e3.length)return new Uint8Array(0);let r2,n2,i2=0|t3;for(r2=0;r2<a3;r2++)i2=52845*(e3[r2]+i2)+22719&65535;const s2=e3.length-a3,o2=new Uint8Array(s2);for(r2=a3,n2=0;n2<s2;r2++,n2++){const t4=e3[r2];o2[n2]=t4^i2>>8,i2=52845*(t4+i2)+22719&65535}return o2}function isSpecial(e3){return 47===e3||91===e3||93===e3||123===e3||125===e3||40===e3||41===e3}t2.Type1Parser=class{constructor(e3,t3,a3){if(t3){const t4=e3.getBytes(),a4=!((isHexDigit(t4[0])||(0,n.isWhiteSpace)(t4[0]))&&isHexDigit(t4[1])&&isHexDigit(t4[2])&&isHexDigit(t4[3])&&isHexDigit(t4[4])&&isHexDigit(t4[5])&&isHexDigit(t4[6])&&isHexDigit(t4[7]));e3=new i.Stream(a4?decrypt(t4,55665,4):function(e4,t5,a5){let r2=55665;const n2=e4.length,i2=new Uint8Array(n2>>>1);let s2,o2;for(s2=0,o2=0;s2<n2;s2++){const t6=e4[s2];if(!isHexDigit(t6))continue;let a6;for(s2++;s2<n2&&!isHexDigit(a6=e4[s2]);)s2++;if(s2<n2){const e5=parseInt(String.fromCharCode(t6,a6),16);i2[o2++]=e5^r2>>8,r2=52845*(e5+r2)+22719&65535}}return i2.slice(4,o2)}(t4))}this.seacAnalysisEnabled=!!a3,this.stream=e3,this.nextChar()}readNumberArray(){this.getToken();const e3=[];for(;;){const t3=this.getToken();if(null===t3||"]"===t3||"}"===t3)break;e3.push(parseFloat(t3||0))}return e3}readNumber(){const e3=this.getToken();return parseFloat(e3||0)}readInt(){const e3=this.getToken();return 0|parseInt(e3||0,10)}readBoolean(){return"true"===this.getToken()?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let e3=!1,t3=this.currentChar;for(;;){if(-1===t3)return null;if(e3)10!==t3&&13!==t3||(e3=!1);else if(37===t3)e3=!0;else if(!(0,n.isWhiteSpace)(t3))break;t3=this.nextChar()}if(isSpecial(t3))return this.nextChar(),String.fromCharCode(t3);let a3="";do{a3+=String.fromCharCode(t3),t3=this.nextChar()}while(t3>=0&&!(0,n.isWhiteSpace)(t3)&&!isSpecial(t3));return a3}readCharStrings(e3,t3){return-1===t3?e3:decrypt(e3,4330,t3)}extractFontProgram(e3){const t3=this.stream,a3=[],r2=[],n2=Object.create(null);n2.lenIV=4;const i2={subrs:[],charstrings:[],properties:{privateData:n2}};let s2,o2,c2,l2;for(;null!==(s2=this.getToken());)if("/"===s2)switch(s2=this.getToken(),s2){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();s2=this.getToken(),null!==s2&&"end"!==s2;){if("/"!==s2)continue;const e5=this.getToken();o2=this.readInt(),this.getToken(),c2=o2>0?t3.getBytes(o2):new Uint8Array(0),l2=i2.properties.privateData.lenIV;const a4=this.readCharStrings(c2,l2);this.nextChar(),s2=this.getToken(),"noaccess"===s2?this.getToken():"/"===s2&&this.prevChar(),r2.push({glyph:e5,encoded:a4})}break;case"Subrs":for(this.readInt(),this.getToken();"dup"===this.getToken();){const e5=this.readInt();o2=this.readInt(),this.getToken(),c2=o2>0?t3.getBytes(o2):new Uint8Array(0),l2=i2.properties.privateData.lenIV;const r3=this.readCharStrings(c2,l2);this.nextChar(),s2=this.getToken(),"noaccess"===s2&&this.getToken(),a3[e5]=r3}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":this.readNumberArray();break;case"StemSnapH":case"StemSnapV":i2.properties.privateData[s2]=this.readNumberArray();break;case"StdHW":case"StdVW":i2.properties.privateData[s2]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":i2.properties.privateData[s2]=this.readNumber();break;case"ForceBold":i2.properties.privateData[s2]=this.readBoolean()}for(const{encoded:t4,glyph:n3}of r2){const r3=new Type1CharString,s3=r3.convert(t4,a3,this.seacAnalysisEnabled);let o3=r3.output;s3&&(o3=[14]);const c3={glyphName:n3,charstring:o3,width:r3.width,lsb:r3.lsb,seac:r3.seac};if(".notdef"===n3?i2.charstrings.unshift(c3):i2.charstrings.push(c3),e3.builtInEncoding){const t5=e3.builtInEncoding.indexOf(n3);t5>-1&&void 0===e3.widths[t5]&&t5>=e3.firstChar&&t5<=e3.lastChar&&(e3.widths[t5]=r3.width)}}return i2}extractFontHeader(e3){let t3;for(;null!==(t3=this.getToken());)if("/"===t3)switch(t3=this.getToken(),t3){case"FontMatrix":const a3=this.readNumberArray();e3.fontMatrix=a3;break;case"Encoding":const n2=this.getToken();let i2;if(/^\d+$/.test(n2)){i2=[];const e4=0|parseInt(n2,10);this.getToken();for(let a4=0;a4<e4;a4++){for(t3=this.getToken();"dup"!==t3&&"def"!==t3;)if(t3=this.getToken(),null===t3)return;if("def"===t3)break;const e5=this.readInt();this.getToken();const a5=this.getToken();i2[e5]=a5,this.getToken()}}else i2=(0,r.getEncoding)(n2);e3.builtInEncoding=i2;break;case"FontBBox":const s2=this.readNumberArray();e3.ascent=Math.max(s2[3],s2[1]),e3.descent=Math.min(s2[1],s2[3]),e3.ascentScaled=!0}}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.Pattern=void 0,t2.getTilingPatternIR=function(e3,t3,a3){const n2=t3.getArray("Matrix"),i2=r.Util.normalizeRect(t3.getArray("BBox")),s2=t3.get("XStep"),o2=t3.get("YStep"),c2=t3.get("PaintType"),l2=t3.get("TilingType");if(i2[2]-i2[0]==0||i2[3]-i2[1]==0)throw new r.FormatError(`Invalid getTilingPatternIR /BBox array: [${i2}].`);return["TilingPattern",a3,e3,n2,i2,s2,o2,c2,l2]};var r=a2(2),n=a2(7),i=a2(14),s=a2(6);t2.Pattern=class{constructor(){(0,r.unreachable)("Cannot initialize Pattern.")}static parseShading(e3,t3,a3,i2,f2,g){const p=e3 instanceof n.BaseStream?e3.dict:e3,m=p.get("ShadingType");try{switch(m){case 2:case 3:return new RadialAxialShading(p,t3,a3,f2,g);case 4:case 5:case 6:case 7:return new MeshShading(e3,t3,a3,f2,g);default:throw new r.FormatError("Unsupported ShadingType: "+m)}}catch(e4){if(e4 instanceof s.MissingDataException)throw e4;return i2.send("UnsupportedFeature",{featureId:r.UNSUPPORTED_FEATURES.shadingPattern}),(0,r.warn)(e4),new DummyShading}}};class BaseShading{static get SMALL_NUMBER(){return(0,r.shadow)(this,"SMALL_NUMBER",1e-6)}constructor(){this.constructor===BaseShading&&(0,r.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,r.unreachable)("Abstract method `getIR` called.")}}class RadialAxialShading extends BaseShading{constructor(e3,t3,a3,n2,s2){super(),this.coordsArr=e3.getArray("Coords"),this.shadingType=e3.get("ShadingType");const o2=i.ColorSpace.parse({cs:e3.getRaw("CS")||e3.getRaw("ColorSpace"),xref:t3,resources:a3,pdfFunctionFactory:n2,localColorSpaceCache:s2}),l2=e3.getArray("BBox");this.bbox=Array.isArray(l2)&&4===l2.length?r.Util.normalizeRect(l2):null;let h2=0,u2=1;if(e3.has("Domain")){const t4=e3.getArray("Domain");h2=t4[0],u2=t4[1]}let d2=!1,f2=!1;if(e3.has("Extend")){const t4=e3.getArray("Extend");d2=t4[0],f2=t4[1]}if(!(3!==this.shadingType||d2&&f2)){const[e4,t4,a4,n3,i2,s3]=this.coordsArr,o3=Math.hypot(e4-n3,t4-i2);a4<=s3+o3&&s3<=a4+o3&&(0,r.warn)("Unsupported radial gradient.")}this.extendStart=d2,this.extendEnd=f2;const g=e3.getRaw("Function"),p=n2.createFromArray(g),m=(u2-h2)/10,b=this.colorStops=[];if(h2>=u2||m<=0)return void(0,r.info)("Bad shading domain.");const y=new Float32Array(o2.numComps),w=new Float32Array(1);let S;for(let e4=0;e4<=10;e4++){w[0]=h2+e4*m,p(w,0,y,0),S=o2.getRgb(y,0);const t4=r.Util.makeHexColor(S[0],S[1],S[2]);b.push([e4/10,t4])}let x="transparent";e3.has("Background")&&(S=o2.getRgb(e3.get("Background"),0),x=r.Util.makeHexColor(S[0],S[1],S[2])),d2||(b.unshift([0,x]),b[1][0]+=BaseShading.SMALL_NUMBER),f2||(b.at(-1)[0]-=BaseShading.SMALL_NUMBER,b.push([1,x])),this.colorStops=b}getIR(){const e3=this.coordsArr,t3=this.shadingType;let a3,n2,i2,s2,l2;return 2===t3?(n2=[e3[0],e3[1]],i2=[e3[2],e3[3]],s2=null,l2=null,a3="axial"):3===t3?(n2=[e3[0],e3[1]],i2=[e3[3],e3[4]],s2=e3[2],l2=e3[5],a3="radial"):(0,r.unreachable)(`getPattern type unknown: ${t3}`),["RadialAxial",a3,this.bbox,this.colorStops,n2,i2,s2,l2]}}class MeshStreamReader{constructor(e3,t3){this.stream=e3,this.context=t3,this.buffer=0,this.bufferLength=0,this.tmpCompsBuf=new Float32Array(t3.numComps),this.tmpCsCompsBuf=t3.colorFn?new Float32Array(t3.colorSpace.numComps):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const e3=this.stream.getByte();return!(e3<0||(this.buffer=e3,this.bufferLength=8,0))}readBits(e3){let t3=this.buffer,a3=this.bufferLength;if(32===e3){if(0===a3)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;t3=t3<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const e4=this.stream.getByte();return this.buffer=e4&(1<<a3)-1,(t3<<8-a3|(255&e4)>>a3)>>>0}if(8===e3&&0===a3)return this.stream.getByte();for(;a3<e3;)t3=t3<<8|this.stream.getByte(),a3+=8;return a3-=e3,this.bufferLength=a3,this.buffer=t3&(1<<a3)-1,t3>>a3}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const e3=this.context.bitsPerCoordinate,t3=this.readBits(e3),a3=this.readBits(e3),r2=this.context.decode,n2=e3<32?1/((1<<e3)-1):2.3283064365386963e-10;return[t3*n2*(r2[1]-r2[0])+r2[0],a3*n2*(r2[3]-r2[2])+r2[2]]}readComponents(){const e3=this.context.numComps,t3=this.context.bitsPerComponent,a3=t3<32?1/((1<<t3)-1):2.3283064365386963e-10,r2=this.context.decode,n2=this.tmpCompsBuf;for(let i3=0,s2=4;i3<e3;i3++,s2+=2){const e4=this.readBits(t3);n2[i3]=e4*a3*(r2[s2+1]-r2[s2])+r2[s2]}const i2=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(n2,0,i2,0),this.context.colorSpace.getRgb(i2,0)}}const f=function(){const e3=[];return function(t3){return e3[t3]||(e3[t3]=function(e4){const t4=[];for(let a3=0;a3<=e4;a3++){const r2=a3/e4,n2=1-r2;t4.push(new Float32Array([n2*n2*n2,3*r2*n2*n2,3*r2*r2*n2,r2*r2*r2]))}return t4}(t3)),e3[t3]}}();class MeshShading extends BaseShading{static get MIN_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,r.shadow)(this,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3)}static get MAX_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,r.shadow)(this,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20)}static get TRIANGLE_DENSITY(){return(0,r.shadow)(this,"TRIANGLE_DENSITY",20)}constructor(e3,t3,a3,s2,o2){if(super(),!(e3 instanceof n.BaseStream))throw new r.FormatError("Mesh data is not a stream");const c2=e3.dict;this.shadingType=c2.get("ShadingType");const f2=c2.getArray("BBox");this.bbox=Array.isArray(f2)&&4===f2.length?r.Util.normalizeRect(f2):null;const g=i.ColorSpace.parse({cs:c2.getRaw("CS")||c2.getRaw("ColorSpace"),xref:t3,resources:a3,pdfFunctionFactory:s2,localColorSpaceCache:o2});this.background=c2.has("Background")?g.getRgb(c2.get("Background"),0):null;const p=c2.getRaw("Function"),m=p?s2.createFromArray(p):null;this.coords=[],this.colors=[],this.figures=[];const b={bitsPerCoordinate:c2.get("BitsPerCoordinate"),bitsPerComponent:c2.get("BitsPerComponent"),bitsPerFlag:c2.get("BitsPerFlag"),decode:c2.getArray("Decode"),colorFn:m,colorSpace:g,numComps:m?1:g.numComps},y=new MeshStreamReader(e3,b);let w=!1;switch(this.shadingType){case 4:this._decodeType4Shading(y);break;case 5:const e4=0|c2.get("VerticesPerRow");if(e4<2)throw new r.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(y,e4);break;case 6:this._decodeType6Shading(y),w=!0;break;case 7:this._decodeType7Shading(y),w=!0;break;default:(0,r.unreachable)("Unsupported mesh type.")}if(w){this._updateBounds();for(let e4=0,t4=this.figures.length;e4<t4;e4++)this._buildFigureFromPatch(e4)}this._updateBounds(),this._packData()}_decodeType4Shading(e3){const t3=this.coords,a3=this.colors,n2=[],i2=[];let s2=0;for(;e3.hasData;){const o2=e3.readFlag(),c2=e3.readCoordinate(),l2=e3.readComponents();if(0===s2){if(!(0<=o2&&o2<=2))throw new r.FormatError("Unknown type4 flag");switch(o2){case 0:s2=3;break;case 1:i2.push(i2.at(-2),i2.at(-1)),s2=1;break;case 2:i2.push(i2.at(-3),i2.at(-1)),s2=1}n2.push(o2)}i2.push(t3.length),t3.push(c2),a3.push(l2),s2--,e3.align()}this.figures.push({type:"triangles",coords:new Int32Array(i2),colors:new Int32Array(i2)})}_decodeType5Shading(e3,t3){const a3=this.coords,r2=this.colors,n2=[];for(;e3.hasData;){const t4=e3.readCoordinate(),i2=e3.readComponents();n2.push(a3.length),a3.push(t4),r2.push(i2)}this.figures.push({type:"lattice",coords:new Int32Array(n2),colors:new Int32Array(n2),verticesPerRow:t3})}_decodeType6Shading(e3){const t3=this.coords,a3=this.colors,n2=new Int32Array(16),i2=new Int32Array(4);for(;e3.hasData;){const s2=e3.readFlag();if(!(0<=s2&&s2<=3))throw new r.FormatError("Unknown type6 flag");const o2=t3.length;for(let a4=0,r2=0!==s2?8:12;a4<r2;a4++)t3.push(e3.readCoordinate());const c2=a3.length;for(let t4=0,r2=0!==s2?2:4;t4<r2;t4++)a3.push(e3.readComponents());let l2,h2,u2,d2;switch(s2){case 0:n2[12]=o2+3,n2[13]=o2+4,n2[14]=o2+5,n2[15]=o2+6,n2[8]=o2+2,n2[11]=o2+7,n2[4]=o2+1,n2[7]=o2+8,n2[0]=o2,n2[1]=o2+11,n2[2]=o2+10,n2[3]=o2+9,i2[2]=c2+1,i2[3]=c2+2,i2[0]=c2,i2[1]=c2+3;break;case 1:l2=n2[12],h2=n2[13],u2=n2[14],d2=n2[15],n2[12]=d2,n2[13]=o2+0,n2[14]=o2+1,n2[15]=o2+2,n2[8]=u2,n2[11]=o2+3,n2[4]=h2,n2[7]=o2+4,n2[0]=l2,n2[1]=o2+7,n2[2]=o2+6,n2[3]=o2+5,l2=i2[2],h2=i2[3],i2[2]=h2,i2[3]=c2,i2[0]=l2,i2[1]=c2+1;break;case 2:l2=n2[15],h2=n2[11],n2[12]=n2[3],n2[13]=o2+0,n2[14]=o2+1,n2[15]=o2+2,n2[8]=n2[7],n2[11]=o2+3,n2[4]=h2,n2[7]=o2+4,n2[0]=l2,n2[1]=o2+7,n2[2]=o2+6,n2[3]=o2+5,l2=i2[3],i2[2]=i2[1],i2[3]=c2,i2[0]=l2,i2[1]=c2+1;break;case 3:n2[12]=n2[0],n2[13]=o2+0,n2[14]=o2+1,n2[15]=o2+2,n2[8]=n2[1],n2[11]=o2+3,n2[4]=n2[2],n2[7]=o2+4,n2[0]=n2[3],n2[1]=o2+7,n2[2]=o2+6,n2[3]=o2+5,i2[2]=i2[0],i2[3]=c2,i2[0]=i2[1],i2[1]=c2+1}n2[5]=t3.length,t3.push([(-4*t3[n2[0]][0]-t3[n2[15]][0]+6*(t3[n2[4]][0]+t3[n2[1]][0])-2*(t3[n2[12]][0]+t3[n2[3]][0])+3*(t3[n2[13]][0]+t3[n2[7]][0]))/9,(-4*t3[n2[0]][1]-t3[n2[15]][1]+6*(t3[n2[4]][1]+t3[n2[1]][1])-2*(t3[n2[12]][1]+t3[n2[3]][1])+3*(t3[n2[13]][1]+t3[n2[7]][1]))/9]),n2[6]=t3.length,t3.push([(-4*t3[n2[3]][0]-t3[n2[12]][0]+6*(t3[n2[2]][0]+t3[n2[7]][0])-2*(t3[n2[0]][0]+t3[n2[15]][0])+3*(t3[n2[4]][0]+t3[n2[14]][0]))/9,(-4*t3[n2[3]][1]-t3[n2[12]][1]+6*(t3[n2[2]][1]+t3[n2[7]][1])-2*(t3[n2[0]][1]+t3[n2[15]][1])+3*(t3[n2[4]][1]+t3[n2[14]][1]))/9]),n2[9]=t3.length,t3.push([(-4*t3[n2[12]][0]-t3[n2[3]][0]+6*(t3[n2[8]][0]+t3[n2[13]][0])-2*(t3[n2[0]][0]+t3[n2[15]][0])+3*(t3[n2[11]][0]+t3[n2[1]][0]))/9,(-4*t3[n2[12]][1]-t3[n2[3]][1]+6*(t3[n2[8]][1]+t3[n2[13]][1])-2*(t3[n2[0]][1]+t3[n2[15]][1])+3*(t3[n2[11]][1]+t3[n2[1]][1]))/9]),n2[10]=t3.length,t3.push([(-4*t3[n2[15]][0]-t3[n2[0]][0]+6*(t3[n2[11]][0]+t3[n2[14]][0])-2*(t3[n2[12]][0]+t3[n2[3]][0])+3*(t3[n2[2]][0]+t3[n2[8]][0]))/9,(-4*t3[n2[15]][1]-t3[n2[0]][1]+6*(t3[n2[11]][1]+t3[n2[14]][1])-2*(t3[n2[12]][1]+t3[n2[3]][1])+3*(t3[n2[2]][1]+t3[n2[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(n2),colors:new Int32Array(i2)})}}_decodeType7Shading(e3){const t3=this.coords,a3=this.colors,n2=new Int32Array(16),i2=new Int32Array(4);for(;e3.hasData;){const s2=e3.readFlag();if(!(0<=s2&&s2<=3))throw new r.FormatError("Unknown type7 flag");const o2=t3.length;for(let a4=0,r2=0!==s2?12:16;a4<r2;a4++)t3.push(e3.readCoordinate());const c2=a3.length;for(let t4=0,r2=0!==s2?2:4;t4<r2;t4++)a3.push(e3.readComponents());let l2,h2,u2,d2;switch(s2){case 0:n2[12]=o2+3,n2[13]=o2+4,n2[14]=o2+5,n2[15]=o2+6,n2[8]=o2+2,n2[9]=o2+13,n2[10]=o2+14,n2[11]=o2+7,n2[4]=o2+1,n2[5]=o2+12,n2[6]=o2+15,n2[7]=o2+8,n2[0]=o2,n2[1]=o2+11,n2[2]=o2+10,n2[3]=o2+9,i2[2]=c2+1,i2[3]=c2+2,i2[0]=c2,i2[1]=c2+3;break;case 1:l2=n2[12],h2=n2[13],u2=n2[14],d2=n2[15],n2[12]=d2,n2[13]=o2+0,n2[14]=o2+1,n2[15]=o2+2,n2[8]=u2,n2[9]=o2+9,n2[10]=o2+10,n2[11]=o2+3,n2[4]=h2,n2[5]=o2+8,n2[6]=o2+11,n2[7]=o2+4,n2[0]=l2,n2[1]=o2+7,n2[2]=o2+6,n2[3]=o2+5,l2=i2[2],h2=i2[3],i2[2]=h2,i2[3]=c2,i2[0]=l2,i2[1]=c2+1;break;case 2:l2=n2[15],h2=n2[11],n2[12]=n2[3],n2[13]=o2+0,n2[14]=o2+1,n2[15]=o2+2,n2[8]=n2[7],n2[9]=o2+9,n2[10]=o2+10,n2[11]=o2+3,n2[4]=h2,n2[5]=o2+8,n2[6]=o2+11,n2[7]=o2+4,n2[0]=l2,n2[1]=o2+7,n2[2]=o2+6,n2[3]=o2+5,l2=i2[3],i2[2]=i2[1],i2[3]=c2,i2[0]=l2,i2[1]=c2+1;break;case 3:n2[12]=n2[0],n2[13]=o2+0,n2[14]=o2+1,n2[15]=o2+2,n2[8]=n2[1],n2[9]=o2+9,n2[10]=o2+10,n2[11]=o2+3,n2[4]=n2[2],n2[5]=o2+8,n2[6]=o2+11,n2[7]=o2+4,n2[0]=n2[3],n2[1]=o2+7,n2[2]=o2+6,n2[3]=o2+5,i2[2]=i2[0],i2[3]=c2,i2[0]=i2[1],i2[1]=c2+1}this.figures.push({type:"patch",coords:new Int32Array(n2),colors:new Int32Array(i2)})}}_buildFigureFromPatch(e3){const t3=this.figures[e3];(0,r.assert)("patch"===t3.type,"Unexpected patch mesh figure");const a3=this.coords,n2=this.colors,i2=t3.coords,s2=t3.colors,o2=Math.min(a3[i2[0]][0],a3[i2[3]][0],a3[i2[12]][0],a3[i2[15]][0]),c2=Math.min(a3[i2[0]][1],a3[i2[3]][1],a3[i2[12]][1],a3[i2[15]][1]),l2=Math.max(a3[i2[0]][0],a3[i2[3]][0],a3[i2[12]][0],a3[i2[15]][0]),h2=Math.max(a3[i2[0]][1],a3[i2[3]][1],a3[i2[12]][1],a3[i2[15]][1]);let u2=Math.ceil((l2-o2)*MeshShading.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));u2=Math.max(MeshShading.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(MeshShading.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,u2));let d2=Math.ceil((h2-c2)*MeshShading.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));d2=Math.max(MeshShading.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(MeshShading.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,d2));const g=u2+1,p=new Int32Array((d2+1)*g),m=new Int32Array((d2+1)*g);let b=0;const y=new Uint8Array(3),w=new Uint8Array(3),S=n2[s2[0]],x=n2[s2[1]],k=n2[s2[2]],C=n2[s2[3]],v=f(d2),F=f(u2);for(let e4=0;e4<=d2;e4++){y[0]=(S[0]*(d2-e4)+k[0]*e4)/d2|0,y[1]=(S[1]*(d2-e4)+k[1]*e4)/d2|0,y[2]=(S[2]*(d2-e4)+k[2]*e4)/d2|0,w[0]=(x[0]*(d2-e4)+C[0]*e4)/d2|0,w[1]=(x[1]*(d2-e4)+C[1]*e4)/d2|0,w[2]=(x[2]*(d2-e4)+C[2]*e4)/d2|0;for(let t4=0;t4<=u2;t4++,b++){if(!(0!==e4&&e4!==d2||0!==t4&&t4!==u2))continue;let r2=0,s3=0,o3=0;for(let n3=0;n3<=3;n3++)for(let c4=0;c4<=3;c4++,o3++){const l3=v[e4][n3]*F[t4][c4];r2+=a3[i2[o3]][0]*l3,s3+=a3[i2[o3]][1]*l3}p[b]=a3.length,a3.push([r2,s3]),m[b]=n2.length;const c3=new Uint8Array(3);c3[0]=(y[0]*(u2-t4)+w[0]*t4)/u2|0,c3[1]=(y[1]*(u2-t4)+w[1]*t4)/u2|0,c3[2]=(y[2]*(u2-t4)+w[2]*t4)/u2|0,n2.push(c3)}}p[0]=i2[0],m[0]=s2[0],p[u2]=i2[3],m[u2]=s2[1],p[g*d2]=i2[12],m[g*d2]=s2[2],p[g*d2+u2]=i2[15],m[g*d2+u2]=s2[3],this.figures[e3]={type:"lattice",coords:p,colors:m,verticesPerRow:g}}_updateBounds(){let e3=this.coords[0][0],t3=this.coords[0][1],a3=e3,r2=t3;for(let n2=1,i2=this.coords.length;n2<i2;n2++){const i3=this.coords[n2][0],s2=this.coords[n2][1];e3=e3>i3?i3:e3,t3=t3>s2?s2:t3,a3=a3<i3?i3:a3,r2=r2<s2?s2:r2}this.bounds=[e3,t3,a3,r2]}_packData(){let e3,t3,a3,r2;const n2=this.coords,i2=new Float32Array(2*n2.length);for(e3=0,a3=0,t3=n2.length;e3<t3;e3++){const t4=n2[e3];i2[a3++]=t4[0],i2[a3++]=t4[1]}this.coords=i2;const s2=this.colors,o2=new Uint8Array(3*s2.length);for(e3=0,a3=0,t3=s2.length;e3<t3;e3++){const t4=s2[e3];o2[a3++]=t4[0],o2[a3++]=t4[1],o2[a3++]=t4[2]}this.colors=o2;const c2=this.figures;for(e3=0,t3=c2.length;e3<t3;e3++){const t4=c2[e3],n3=t4.coords,i3=t4.colors;for(a3=0,r2=n3.length;a3<r2;a3++)n3[a3]*=2,i3[a3]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class DummyShading extends BaseShading{getIR(){return["Dummy"]}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.getXfaFontDict=function(e3){const t3=function(e4){const t4=getXfaFontName(e4);if(!t4)return null;const{baseWidths:a4,baseMapping:r3,factors:n2}=t4;let i3;i3=n2?a4.map((e5,t5)=>e5*n2[t5]):a4;let s2,o2=-2;const c2=[];for(const[e5,t5]of r3.map((e6,t6)=>[e6,t6]).sort(([e6],[t6])=>e6-t6))-1!==e5&&(e5===o2+1?(s2.push(i3[t5]),o2+=1):(o2=e5,s2=[i3[t5]],c2.push(e5,s2)));return c2}(e3),a3=new n.Dict(null);a3.set("BaseFont",n.Name.get(e3)),a3.set("Type",n.Name.get("Font")),a3.set("Subtype",n.Name.get("CIDFontType2")),a3.set("Encoding",n.Name.get("Identity-H")),a3.set("CIDToGIDMap",n.Name.get("Identity")),a3.set("W",t3),a3.set("FirstChar",t3[0]),a3.set("LastChar",t3.at(-2)+t3.at(-1).length-1);const r2=new n.Dict(null);a3.set("FontDescriptor",r2);const i2=new n.Dict(null);return i2.set("Ordering","Identity"),i2.set("Registry","Adobe"),i2.set("Supplement",0),a3.set("CIDSystemInfo",i2),a3},t2.getXfaFontName=getXfaFontName;var r=a2(52),n=a2(5),i=a2(53),s=a2(54),o=a2(55),c=a2(56),l=a2(6),h=a2(38);const u=(0,l.getLookupTableFactory)(function(e3){e3["MyriadPro-Regular"]=e3["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:o.MyriadProRegularFactors,baseWidths:s.LiberationSansRegularWidths,baseMapping:s.LiberationSansRegularMapping,metrics:o.MyriadProRegularMetrics},e3["MyriadPro-Bold"]=e3["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:o.MyriadProBoldFactors,baseWidths:s.LiberationSansBoldWidths,baseMapping:s.LiberationSansBoldMapping,metrics:o.MyriadProBoldMetrics},e3["MyriadPro-It"]=e3["MyriadPro-Italic"]=e3["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:o.MyriadProItalicFactors,baseWidths:s.LiberationSansItalicWidths,baseMapping:s.LiberationSansItalicMapping,metrics:o.MyriadProItalicMetrics},e3["MyriadPro-BoldIt"]=e3["MyriadPro-BoldItalic"]=e3["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:o.MyriadProBoldItalicFactors,baseWidths:s.LiberationSansBoldItalicWidths,baseMapping:s.LiberationSansBoldItalicMapping,metrics:o.MyriadProBoldItalicMetrics},e3.ArialMT=e3.Arial=e3["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:s.LiberationSansRegularWidths,baseMapping:s.LiberationSansRegularMapping},e3["Arial-BoldMT"]=e3["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:s.LiberationSansBoldWidths,baseMapping:s.LiberationSansBoldMapping},e3["Arial-ItalicMT"]=e3["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:s.LiberationSansItalicWidths,baseMapping:s.LiberationSansItalicMapping},e3["Arial-BoldItalicMT"]=e3["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:s.LiberationSansBoldItalicWidths,baseMapping:s.LiberationSansBoldItalicMapping},e3["Calibri-Regular"]={name:"LiberationSans-Regular",factors:r.CalibriRegularFactors,baseWidths:s.LiberationSansRegularWidths,baseMapping:s.LiberationSansRegularMapping,metrics:r.CalibriRegularMetrics},e3["Calibri-Bold"]={name:"LiberationSans-Bold",factors:r.CalibriBoldFactors,baseWidths:s.LiberationSansBoldWidths,baseMapping:s.LiberationSansBoldMapping,metrics:r.CalibriBoldMetrics},e3["Calibri-Italic"]={name:"LiberationSans-Italic",factors:r.CalibriItalicFactors,baseWidths:s.LiberationSansItalicWidths,baseMapping:s.LiberationSansItalicMapping,metrics:r.CalibriItalicMetrics},e3["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:r.CalibriBoldItalicFactors,baseWidths:s.LiberationSansBoldItalicWidths,baseMapping:s.LiberationSansBoldItalicMapping,metrics:r.CalibriBoldItalicMetrics},e3["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:c.SegoeuiRegularFactors,baseWidths:s.LiberationSansRegularWidths,baseMapping:s.LiberationSansRegularMapping,metrics:c.SegoeuiRegularMetrics},e3["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:c.SegoeuiBoldFactors,baseWidths:s.LiberationSansBoldWidths,baseMapping:s.LiberationSansBoldMapping,metrics:c.SegoeuiBoldMetrics},e3["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:c.SegoeuiItalicFactors,baseWidths:s.LiberationSansItalicWidths,baseMapping:s.LiberationSansItalicMapping,metrics:c.SegoeuiItalicMetrics},e3["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:c.SegoeuiBoldItalicFactors,baseWidths:s.LiberationSansBoldItalicWidths,baseMapping:s.LiberationSansBoldItalicMapping,metrics:c.SegoeuiBoldItalicMetrics},e3["Helvetica-Regular"]=e3.Helvetica={name:"LiberationSans-Regular",factors:i.HelveticaRegularFactors,baseWidths:s.LiberationSansRegularWidths,baseMapping:s.LiberationSansRegularMapping,metrics:i.HelveticaRegularMetrics},e3["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:i.HelveticaBoldFactors,baseWidths:s.LiberationSansBoldWidths,baseMapping:s.LiberationSansBoldMapping,metrics:i.HelveticaBoldMetrics},e3["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:i.HelveticaItalicFactors,baseWidths:s.LiberationSansItalicWidths,baseMapping:s.LiberationSansItalicMapping,metrics:i.HelveticaItalicMetrics},e3["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:i.HelveticaBoldItalicFactors,baseWidths:s.LiberationSansBoldItalicWidths,baseMapping:s.LiberationSansBoldItalicMapping,metrics:i.HelveticaBoldItalicMetrics}});function getXfaFontName(e3){const t3=(0,h.normalizeFontName)(e3);return u()[t3]}},(e2,t2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.CalibriRegularMetrics=t2.CalibriRegularFactors=t2.CalibriItalicMetrics=t2.CalibriItalicFactors=t2.CalibriBoldMetrics=t2.CalibriBoldItalicMetrics=t2.CalibriBoldItalicFactors=t2.CalibriBoldFactors=void 0,t2.CalibriBoldFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],t2.CalibriBoldMetrics={lineHeight:1.2207,lineGap:.2207},t2.CalibriBoldItalicFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],t2.CalibriBoldItalicMetrics={lineHeight:1.2207,lineGap:.2207},t2.CalibriItalicFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],t2.CalibriItalicMetrics={lineHeight:1.2207,lineGap:.2207},t2.CalibriRegularFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1],t2.CalibriRegularMetrics={lineHeight:1.2207,lineGap:.2207}},(e2,t2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.HelveticaRegularMetrics=t2.HelveticaRegularFactors=t2.HelveticaItalicMetrics=t2.HelveticaItalicFactors=t2.HelveticaBoldMetrics=t2.HelveticaBoldItalicMetrics=t2.HelveticaBoldItalicFactors=t2.HelveticaBoldFactors=void 0,t2.HelveticaBoldFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],t2.HelveticaBoldMetrics={lineHeight:1.2,lineGap:.2},t2.HelveticaBoldItalicFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],t2.HelveticaBoldItalicMetrics={lineHeight:1.35,lineGap:.2},t2.HelveticaItalicFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],t2.HelveticaItalicMetrics={lineHeight:1.35,lineGap:.2},t2.HelveticaRegularFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],t2.HelveticaRegularMetrics={lineHeight:1.2,lineGap:.2}},(e2,t2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.LiberationSansRegularWidths=t2.LiberationSansRegularMapping=t2.LiberationSansItalicWidths=t2.LiberationSansItalicMapping=t2.LiberationSansBoldWidths=t2.LiberationSansBoldMapping=t2.LiberationSansBoldItalicWidths=t2.LiberationSansBoldItalicMapping=void 0,t2.LiberationSansBoldWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],t2.LiberationSansBoldMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],t2.LiberationSansBoldItalicWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],t2.LiberationSansBoldItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],t2.LiberationSansItalicWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],t2.LiberationSansItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],t2.LiberationSansRegularWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],t2.LiberationSansRegularMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]},(e2,t2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.MyriadProRegularMetrics=t2.MyriadProRegularFactors=t2.MyriadProItalicMetrics=t2.MyriadProItalicFactors=t2.MyriadProBoldMetrics=t2.MyriadProBoldItalicMetrics=t2.MyriadProBoldItalicFactors=t2.MyriadProBoldFactors=void 0,t2.MyriadProBoldFactors=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],t2.MyriadProBoldMetrics={lineHeight:1.2,lineGap:.2},t2.MyriadProBoldItalicFactors=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],t2.MyriadProBoldItalicMetrics={lineHeight:1.2,lineGap:.2},t2.MyriadProItalicFactors=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],t2.MyriadProItalicMetrics={lineHeight:1.2,lineGap:.2},t2.MyriadProRegularFactors=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],t2.MyriadProRegularMetrics={lineHeight:1.2,lineGap:.2}},(e2,t2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.SegoeuiRegularMetrics=t2.SegoeuiRegularFactors=t2.SegoeuiItalicMetrics=t2.SegoeuiItalicFactors=t2.SegoeuiBoldMetrics=t2.SegoeuiBoldItalicMetrics=t2.SegoeuiBoldItalicFactors=t2.SegoeuiBoldFactors=void 0,t2.SegoeuiBoldFactors=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],t2.SegoeuiBoldMetrics={lineHeight:1.33008,lineGap:0},t2.SegoeuiBoldItalicFactors=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],t2.SegoeuiBoldItalicMetrics={lineHeight:1.33008,lineGap:0},t2.SegoeuiItalicFactors=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],t2.SegoeuiItalicMetrics={lineHeight:1.33008,lineGap:0},t2.SegoeuiRegularFactors=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1],t2.SegoeuiRegularMetrics={lineHeight:1.33008,lineGap:0}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.PostScriptEvaluator=t2.PostScriptCompiler=t2.PDFFunctionFactory=void 0,t2.isPDFFunction=function(e3){let t3;if("object"!=typeof e3)return!1;if(e3 instanceof r.Dict)t3=e3;else{if(!(e3 instanceof s.BaseStream))return!1;t3=e3.dict}return t3.has("FunctionType")};var r=a2(5),n=a2(2),i=a2(58),s=a2(7),o=a2(59);function toNumberArray(e3){if(!Array.isArray(e3))return null;const t3=e3.length;for(let a3=0;a3<t3;a3++)if("number"!=typeof e3[a3]){const a4=new Array(t3);for(let r2=0;r2<t3;r2++)a4[r2]=+e3[r2];return a4}return e3}t2.PDFFunctionFactory=class{constructor({xref:e3,isEvalSupported:t3=!0}){this.xref=e3,this.isEvalSupported=!1!==t3}create(e3){const t3=this.getCached(e3);if(t3)return t3;const a3=PDFFunction.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:e3 instanceof r.Ref?this.xref.fetch(e3):e3});return this._cache(e3,a3),a3}createFromArray(e3){const t3=this.getCached(e3);if(t3)return t3;const a3=PDFFunction.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:e3 instanceof r.Ref?this.xref.fetch(e3):e3});return this._cache(e3,a3),a3}getCached(e3){let t3;if(e3 instanceof r.Ref?t3=e3:e3 instanceof r.Dict?t3=e3.objId:e3 instanceof s.BaseStream&&(t3=e3.dict&&e3.dict.objId),t3){const e4=this._localFunctionCache.getByRef(t3);if(e4)return e4}return null}_cache(e3,t3){if(!t3)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let a3;e3 instanceof r.Ref?a3=e3:e3 instanceof r.Dict?a3=e3.objId:e3 instanceof s.BaseStream&&(a3=e3.dict&&e3.dict.objId),a3&&this._localFunctionCache.set(null,a3,t3)}get _localFunctionCache(){return(0,n.shadow)(this,"_localFunctionCache",new o.LocalFunctionCache)}};class PDFFunction{static getSampleArray(e3,t3,a3,r2){let n2,i2,s2=1;for(n2=0,i2=e3.length;n2<i2;n2++)s2*=e3[n2];s2*=t3;const o2=new Array(s2);let c=0,l=0;const h=1/(2**a3-1),u=r2.getBytes((s2*a3+7)/8);let d=0;for(n2=0;n2<s2;n2++){for(;c<a3;)l<<=8,l|=u[d++],c+=8;c-=a3,o2[n2]=(l>>c)*h,l&=(1<<c)-1}return o2}static parse({xref:e3,isEvalSupported:t3,fn:a3}){const r2=a3.dict||a3;switch(r2.get("FunctionType")){case 0:return this.constructSampled({xref:e3,isEvalSupported:t3,fn:a3,dict:r2});case 1:break;case 2:return this.constructInterpolated({xref:e3,isEvalSupported:t3,dict:r2});case 3:return this.constructStiched({xref:e3,isEvalSupported:t3,dict:r2});case 4:return this.constructPostScript({xref:e3,isEvalSupported:t3,fn:a3,dict:r2})}throw new n.FormatError("Unknown type of function")}static parseArray({xref:e3,isEvalSupported:t3,fnObj:a3}){if(!Array.isArray(a3))return this.parse({xref:e3,isEvalSupported:t3,fn:a3});const r2=[];for(let n2=0,i2=a3.length;n2<i2;n2++)r2.push(this.parse({xref:e3,isEvalSupported:t3,fn:e3.fetchIfRef(a3[n2])}));return function(e4,t4,a4,n2){for(let i2=0,s2=r2.length;i2<s2;i2++)r2[i2](e4,t4,a4,n2+i2)}}static constructSampled({fn:a3,dict:r2}){function toMultiArray(e4){const t4=e4.length,a4=[];let r3=0;for(let n2=0;n2<t4;n2+=2)a4[r3++]=[e4[n2],e4[n2+1]];return a4}function interpolate(e4,t4,a4,r3,n2){return r3+(n2-r3)/(a4-t4)*(e4-t4)}let i2=toNumberArray(r2.getArray("Domain")),s2=toNumberArray(r2.getArray("Range"));if(!i2||!s2)throw new n.FormatError("No domain or range");const o2=i2.length/2,c=s2.length/2;i2=toMultiArray(i2),s2=toMultiArray(s2);const l=toNumberArray(r2.getArray("Size")),h=r2.get("BitsPerSample"),u=r2.get("Order")||1;1!==u&&(0,n.info)("No support for cubic spline interpolation: "+u);let d=toNumberArray(r2.getArray("Encode"));if(d)d=toMultiArray(d);else{d=[];for(let e4=0;e4<o2;++e4)d.push([0,l[e4]-1])}let f=toNumberArray(r2.getArray("Decode"));f=f?toMultiArray(f):s2;const g=this.getSampleArray(l,c,h,a3);return function(e4,t4,a4,r3){const n2=1<<o2,h2=new Float64Array(n2),u2=new Uint32Array(n2);let p,m;for(m=0;m<n2;m++)h2[m]=1;let b=c,y=1;for(p=0;p<o2;++p){const a5=i2[p][0],r4=i2[p][1];let s3=interpolate(Math.min(Math.max(e4[t4+p],a5),r4),a5,r4,d[p][0],d[p][1]);const o3=l[p];s3=Math.min(Math.max(s3,0),o3-1);const c2=s3<o3-1?Math.floor(s3):s3-1,f2=c2+1-s3,g2=s3-c2,w=c2*b,S=w+b;for(m=0;m<n2;m++)m&y?(h2[m]*=g2,u2[m]+=S):(h2[m]*=f2,u2[m]+=w);b*=o3,y<<=1}for(m=0;m<c;++m){let e5=0;for(p=0;p<n2;p++)e5+=g[u2[p]+m]*h2[p];e5=interpolate(e5,0,1,f[m][0],f[m][1]),a4[r3+m]=Math.min(Math.max(e5,s2[m][0]),s2[m][1])}}}static constructInterpolated({dict:a3}){const r2=toNumberArray(a3.getArray("C0"))||[0],n2=toNumberArray(a3.getArray("C1"))||[1],i2=a3.get("N"),s2=[];for(let e4=0,t4=r2.length;e4<t4;++e4)s2.push(n2[e4]-r2[e4]);const o2=s2.length;return function(e4,t4,a4,n3){const c=1===i2?e4[t4]:e4[t4]**i2;for(let e5=0;e5<o2;++e5)a4[n3+e5]=r2[e5]+c*s2[e5]}}static constructStiched({xref:e3,isEvalSupported:t3,dict:a3}){const r2=toNumberArray(a3.getArray("Domain"));if(!r2)throw new n.FormatError("No domain");if(r2.length/2!=1)throw new n.FormatError("Bad domain for stiched function");const i2=a3.get("Functions"),s2=[];for(let a4=0,r3=i2.length;a4<r3;++a4)s2.push(this.parse({xref:e3,isEvalSupported:t3,fn:e3.fetchIfRef(i2[a4])}));const o2=toNumberArray(a3.getArray("Bounds")),c=toNumberArray(a3.getArray("Encode")),l=new Float32Array(1);return function(e4,t4,a4,n2){const i3=(t5=r2[0],(e5=e4[t4])>(a5=r2[1])?e5=a5:e5<t5&&(e5=t5),e5),h=o2.length;var e5,t5,a5;let u;for(u=0;u<h&&!(i3<o2[u]);++u);let d=r2[0];u>0&&(d=o2[u-1]);let f=r2[1];u<o2.length&&(f=o2[u]);const g=c[2*u];l[0]=d===f?g:g+(i3-d)*(c[2*u+1]-g)/(f-d),s2[u](l,0,a4,n2)}}static constructPostScript({isEvalSupported:t3,fn:a3,dict:r2}){const s2=toNumberArray(r2.getArray("Domain")),o2=toNumberArray(r2.getArray("Range"));if(!s2)throw new n.FormatError("No domain.");if(!o2)throw new n.FormatError("No range.");const c=new i.PostScriptLexer(a3),l=new i.PostScriptParser(c).parse();if(t3&&n.FeatureTest.isEvalSupported){const e4=(new PostScriptCompiler).compile(l,s2,o2);if(e4)return new Function("src","srcOffset","dest","destOffset",e4)}(0,n.info)("Unable to compile PS function");const h=o2.length>>1,u=s2.length>>1,d=new PostScriptEvaluator(l),f=Object.create(null);let g=8192;const p=new Float32Array(u);return function(e4,t4,a4,r3){let n2,i2,s3="";const c2=p;for(n2=0;n2<u;n2++)i2=e4[t4+n2],c2[n2]=i2,s3+=i2+"_";const l2=f[s3];if(void 0!==l2)return void a4.set(l2,r3);const m=new Float32Array(h),b=d.execute(c2),y=b.length-h;for(n2=0;n2<h;n2++){i2=b[y+n2];let e5=o2[2*n2];i2<e5?i2=e5:(e5=o2[2*n2+1],i2>e5&&(i2=e5)),m[n2]=i2}g>0&&(g--,f[s3]=m),a4.set(m,r3)}}}class PostScriptStack{static get MAX_STACK_SIZE(){return(0,n.shadow)(this,"MAX_STACK_SIZE",100)}constructor(e3){this.stack=e3?Array.prototype.slice.call(e3,0):[]}push(e3){if(this.stack.length>=PostScriptStack.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(e3)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(e3){if(this.stack.length+e3>=PostScriptStack.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const t3=this.stack;for(let a3=t3.length-e3,r2=e3-1;r2>=0;r2--,a3++)t3.push(t3[a3])}index(e3){this.push(this.stack[this.stack.length-e3-1])}roll(e3,t3){const a3=this.stack,r2=a3.length-e3,n2=a3.length-1,i2=r2+(t3-Math.floor(t3/e3)*e3);for(let e4=r2,t4=n2;e4<t4;e4++,t4--){const r3=a3[e4];a3[e4]=a3[t4],a3[t4]=r3}for(let e4=r2,t4=i2-1;e4<t4;e4++,t4--){const r3=a3[e4];a3[e4]=a3[t4],a3[t4]=r3}for(let e4=i2,t4=n2;e4<t4;e4++,t4--){const r3=a3[e4];a3[e4]=a3[t4],a3[t4]=r3}}}class PostScriptEvaluator{constructor(e3){this.operators=e3}execute(e3){const t3=new PostScriptStack(e3);let a3=0;const r2=this.operators,i2=r2.length;let s2,o2,c;for(;a3<i2;)if(s2=r2[a3++],"number"!=typeof s2)switch(s2){case"jz":c=t3.pop(),o2=t3.pop(),o2||(a3=c);break;case"j":o2=t3.pop(),a3=o2;break;case"abs":o2=t3.pop(),t3.push(Math.abs(o2));break;case"add":c=t3.pop(),o2=t3.pop(),t3.push(o2+c);break;case"and":c=t3.pop(),o2=t3.pop(),t3.push("boolean"==typeof o2&&"boolean"==typeof c?o2&&c:o2&c);break;case"atan":o2=t3.pop(),t3.push(Math.atan(o2));break;case"bitshift":c=t3.pop(),o2=t3.pop(),t3.push(o2>0?o2<<c:o2>>c);break;case"ceiling":o2=t3.pop(),t3.push(Math.ceil(o2));break;case"copy":o2=t3.pop(),t3.copy(o2);break;case"cos":o2=t3.pop(),t3.push(Math.cos(o2));break;case"cvi":o2=0|t3.pop(),t3.push(o2);break;case"cvr":break;case"div":c=t3.pop(),o2=t3.pop(),t3.push(o2/c);break;case"dup":t3.copy(1);break;case"eq":c=t3.pop(),o2=t3.pop(),t3.push(o2===c);break;case"exch":t3.roll(2,1);break;case"exp":c=t3.pop(),o2=t3.pop(),t3.push(o2**c);break;case"false":t3.push(!1);break;case"floor":o2=t3.pop(),t3.push(Math.floor(o2));break;case"ge":c=t3.pop(),o2=t3.pop(),t3.push(o2>=c);break;case"gt":c=t3.pop(),o2=t3.pop(),t3.push(o2>c);break;case"idiv":c=t3.pop(),o2=t3.pop(),t3.push(o2/c|0);break;case"index":o2=t3.pop(),t3.index(o2);break;case"le":c=t3.pop(),o2=t3.pop(),t3.push(o2<=c);break;case"ln":o2=t3.pop(),t3.push(Math.log(o2));break;case"log":o2=t3.pop(),t3.push(Math.log(o2)/Math.LN10);break;case"lt":c=t3.pop(),o2=t3.pop(),t3.push(o2<c);break;case"mod":c=t3.pop(),o2=t3.pop(),t3.push(o2%c);break;case"mul":c=t3.pop(),o2=t3.pop(),t3.push(o2*c);break;case"ne":c=t3.pop(),o2=t3.pop(),t3.push(o2!==c);break;case"neg":o2=t3.pop(),t3.push(-o2);break;case"not":o2=t3.pop(),t3.push("boolean"==typeof o2?!o2:~o2);break;case"or":c=t3.pop(),o2=t3.pop(),t3.push("boolean"==typeof o2&&"boolean"==typeof c?o2||c:o2|c);break;case"pop":t3.pop();break;case"roll":c=t3.pop(),o2=t3.pop(),t3.roll(o2,c);break;case"round":o2=t3.pop(),t3.push(Math.round(o2));break;case"sin":o2=t3.pop(),t3.push(Math.sin(o2));break;case"sqrt":o2=t3.pop(),t3.push(Math.sqrt(o2));break;case"sub":c=t3.pop(),o2=t3.pop(),t3.push(o2-c);break;case"true":t3.push(!0);break;case"truncate":o2=t3.pop(),o2=o2<0?Math.ceil(o2):Math.floor(o2),t3.push(o2);break;case"xor":c=t3.pop(),o2=t3.pop(),t3.push("boolean"==typeof o2&&"boolean"==typeof c?o2!==c:o2^c);break;default:throw new n.FormatError(`Unknown operator ${s2}`)}else t3.push(s2);return t3.stack}}t2.PostScriptEvaluator=PostScriptEvaluator;class AstNode{constructor(e3){this.type=e3}visit(e3){(0,n.unreachable)("abstract method")}}class AstArgument extends AstNode{constructor(e3,t3,a3){super("args"),this.index=e3,this.min=t3,this.max=a3}visit(e3){e3.visitArgument(this)}}class AstLiteral extends AstNode{constructor(e3){super("literal"),this.number=e3,this.min=e3,this.max=e3}visit(e3){e3.visitLiteral(this)}}class AstBinaryOperation extends AstNode{constructor(e3,t3,a3,r2,n2){super("binary"),this.op=e3,this.arg1=t3,this.arg2=a3,this.min=r2,this.max=n2}visit(e3){e3.visitBinaryOperation(this)}}class AstMin extends AstNode{constructor(e3,t3){super("max"),this.arg=e3,this.min=e3.min,this.max=t3}visit(e3){e3.visitMin(this)}}class AstVariable extends AstNode{constructor(e3,t3,a3){super("var"),this.index=e3,this.min=t3,this.max=a3}visit(e3){e3.visitVariable(this)}}class AstVariableDefinition extends AstNode{constructor(e3,t3){super("definition"),this.variable=e3,this.arg=t3}visit(e3){e3.visitVariableDefinition(this)}}class ExpressionBuilderVisitor{constructor(){this.parts=[]}visitArgument(e3){this.parts.push("Math.max(",e3.min,", Math.min(",e3.max,", src[srcOffset + ",e3.index,"]))")}visitVariable(e3){this.parts.push("v",e3.index)}visitLiteral(e3){this.parts.push(e3.number)}visitBinaryOperation(e3){this.parts.push("("),e3.arg1.visit(this),this.parts.push(" ",e3.op," "),e3.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(e3){this.parts.push("var "),e3.variable.visit(this),this.parts.push(" = "),e3.arg.visit(this),this.parts.push(";")}visitMin(e3){this.parts.push("Math.min("),e3.arg.visit(this),this.parts.push(", ",e3.max,")")}toString(){return this.parts.join("")}}function buildAddOperation(e3,t3){return"literal"===t3.type&&0===t3.number?e3:"literal"===e3.type&&0===e3.number?t3:"literal"===t3.type&&"literal"===e3.type?new AstLiteral(e3.number+t3.number):new AstBinaryOperation("+",e3,t3,e3.min+t3.min,e3.max+t3.max)}function buildMulOperation(e3,t3){if("literal"===t3.type){if(0===t3.number)return new AstLiteral(0);if(1===t3.number)return e3;if("literal"===e3.type)return new AstLiteral(e3.number*t3.number)}if("literal"===e3.type){if(0===e3.number)return new AstLiteral(0);if(1===e3.number)return t3}const a3=Math.min(e3.min*t3.min,e3.min*t3.max,e3.max*t3.min,e3.max*t3.max),r2=Math.max(e3.min*t3.min,e3.min*t3.max,e3.max*t3.min,e3.max*t3.max);return new AstBinaryOperation("*",e3,t3,a3,r2)}function buildSubOperation(e3,t3){if("literal"===t3.type){if(0===t3.number)return e3;if("literal"===e3.type)return new AstLiteral(e3.number-t3.number)}return"binary"===t3.type&&"-"===t3.op&&"literal"===e3.type&&1===e3.number&&"literal"===t3.arg1.type&&1===t3.arg1.number?t3.arg2:new AstBinaryOperation("-",e3,t3,e3.min-t3.max,e3.max-t3.min)}function buildMinOperation(e3,t3){return e3.min>=t3?new AstLiteral(t3):e3.max<=t3?e3:new AstMin(e3,t3)}class PostScriptCompiler{compile(e3,t3,a3){const r2=[],n2=[],i2=t3.length>>1,s2=a3.length>>1;let o2,c,l,h,u,d,f,g,p=0;for(let e4=0;e4<i2;e4++)r2.push(new AstArgument(e4,t3[2*e4],t3[2*e4+1]));for(let t4=0,a4=e3.length;t4<a4;t4++)if(g=e3[t4],"number"!=typeof g)switch(g){case"add":if(r2.length<2)return null;h=r2.pop(),l=r2.pop(),r2.push(buildAddOperation(l,h));break;case"cvr":if(r2.length<1)return null;break;case"mul":if(r2.length<2)return null;h=r2.pop(),l=r2.pop(),r2.push(buildMulOperation(l,h));break;case"sub":if(r2.length<2)return null;h=r2.pop(),l=r2.pop(),r2.push(buildSubOperation(l,h));break;case"exch":if(r2.length<2)return null;u=r2.pop(),d=r2.pop(),r2.push(u,d);break;case"pop":if(r2.length<1)return null;r2.pop();break;case"index":if(r2.length<1||(l=r2.pop(),"literal"!==l.type)||(o2=l.number,o2<0||!Number.isInteger(o2)||r2.length<o2))return null;if(u=r2[r2.length-o2-1],"literal"===u.type||"var"===u.type){r2.push(u);break}f=new AstVariable(p++,u.min,u.max),r2[r2.length-o2-1]=f,r2.push(f),n2.push(new AstVariableDefinition(f,u));break;case"dup":if(r2.length<1)return null;if("number"==typeof e3[t4+1]&&"gt"===e3[t4+2]&&e3[t4+3]===t4+7&&"jz"===e3[t4+4]&&"pop"===e3[t4+5]&&e3[t4+6]===e3[t4+1]){l=r2.pop(),r2.push(buildMinOperation(l,e3[t4+1])),t4+=6;break}if(u=r2.at(-1),"literal"===u.type||"var"===u.type){r2.push(u);break}f=new AstVariable(p++,u.min,u.max),r2[r2.length-1]=f,r2.push(f),n2.push(new AstVariableDefinition(f,u));break;case"roll":if(r2.length<2||(h=r2.pop(),l=r2.pop(),"literal"!==h.type||"literal"!==l.type)||(c=h.number,o2=l.number,o2<=0||!Number.isInteger(o2)||!Number.isInteger(c)||r2.length<o2))return null;if(c=(c%o2+o2)%o2,0===c)break;Array.prototype.push.apply(r2,r2.splice(r2.length-o2,o2-c));break;default:return null}else r2.push(new AstLiteral(g));if(r2.length!==s2)return null;const m=[];for(const e4 of n2){const t4=new ExpressionBuilderVisitor;e4.visit(t4),m.push(t4.toString())}for(let e4=0,t4=r2.length;e4<t4;e4++){const t5=r2[e4],n3=new ExpressionBuilderVisitor;t5.visit(n3);const i3=a3[2*e4],s3=a3[2*e4+1],o3=[n3.toString()];i3>t5.min&&(o3.unshift("Math.max(",i3,", "),o3.push(")")),s3<t5.max&&(o3.unshift("Math.min(",s3,", "),o3.push(")")),o3.unshift("dest[destOffset + ",e4,"] = "),o3.push(";"),m.push(o3.join(""))}return m.join("\n")}}t2.PostScriptCompiler=PostScriptCompiler},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.PostScriptParser=t2.PostScriptLexer=void 0;var r=a2(2),n=a2(5),i=a2(6);t2.PostScriptParser=class{constructor(e3){this.lexer=e3,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(e3){return this.token.type===e3&&(this.nextToken(),!0)}expect(e3){if(this.accept(e3))return!0;throw new r.FormatError(`Unexpected symbol: found ${this.token.type} expected ${e3}.`)}parse(){return this.nextToken(),this.expect(s.LBRACE),this.parseBlock(),this.expect(s.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(s.NUMBER))this.operators.push(this.prev.value);else if(this.accept(s.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept(s.LBRACE))return;this.parseCondition()}}parseCondition(){const e3=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(s.RBRACE),this.accept(s.IF))this.operators[e3]=this.operators.length,this.operators[e3+1]="jz";else{if(!this.accept(s.LBRACE))throw new r.FormatError("PS Function: error parsing conditional.");{const t3=this.operators.length;this.operators.push(null,null);const a3=this.operators.length;this.parseBlock(),this.expect(s.RBRACE),this.expect(s.IFELSE),this.operators[t3]=this.operators.length,this.operators[t3+1]="j",this.operators[e3]=a3,this.operators[e3+1]="jz"}}}};const s={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class PostScriptToken{static get opCache(){return(0,r.shadow)(this,"opCache",Object.create(null))}constructor(e3,t3){this.type=e3,this.value=t3}static getOperator(e3){return PostScriptToken.opCache[e3]||(PostScriptToken.opCache[e3]=new PostScriptToken(s.OPERATOR,e3))}static get LBRACE(){return(0,r.shadow)(this,"LBRACE",new PostScriptToken(s.LBRACE,"{"))}static get RBRACE(){return(0,r.shadow)(this,"RBRACE",new PostScriptToken(s.RBRACE,"}"))}static get IF(){return(0,r.shadow)(this,"IF",new PostScriptToken(s.IF,"IF"))}static get IFELSE(){return(0,r.shadow)(this,"IFELSE",new PostScriptToken(s.IFELSE,"IFELSE"))}}t2.PostScriptLexer=class{constructor(e3){this.stream=e3,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let e3=!1,t3=this.currentChar;for(;;){if(t3<0)return n.EOF;if(e3)10!==t3&&13!==t3||(e3=!1);else if(37===t3)e3=!0;else if(!(0,i.isWhiteSpace)(t3))break;t3=this.nextChar()}switch(0|t3){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new PostScriptToken(s.NUMBER,this.getNumber());case 123:return this.nextChar(),PostScriptToken.LBRACE;case 125:return this.nextChar(),PostScriptToken.RBRACE}const a3=this.strBuf;for(a3.length=0,a3[0]=String.fromCharCode(t3);(t3=this.nextChar())>=0&&(t3>=65&&t3<=90||t3>=97&&t3<=122);)a3.push(String.fromCharCode(t3));const r2=a3.join("");switch(r2.toLowerCase()){case"if":return PostScriptToken.IF;case"ifelse":return PostScriptToken.IFELSE;default:return PostScriptToken.getOperator(r2)}}getNumber(){let e3=this.currentChar;const t3=this.strBuf;for(t3.length=0,t3[0]=String.fromCharCode(e3);(e3=this.nextChar())>=0&&(e3>=48&&e3<=57||45===e3||46===e3);)t3.push(String.fromCharCode(e3));const a3=parseFloat(t3.join(""));if(isNaN(a3))throw new r.FormatError(`Invalid floating point number: ${a3}`);return a3}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.LocalTilingPatternCache=t2.LocalImageCache=t2.LocalGStateCache=t2.LocalFunctionCache=t2.LocalColorSpaceCache=t2.GlobalImageCache=void 0;var r=a2(2),n=a2(5);class BaseLocalCache{constructor(e3){this.constructor===BaseLocalCache&&(0,r.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=!0===(e3&&e3.onlyRefs),this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new n.RefSetCache}getByName(e3){this._onlyRefs&&(0,r.unreachable)("Should not call `getByName` method.");const t3=this._nameRefMap.get(e3);return t3?this.getByRef(t3):this._imageMap.get(e3)||null}getByRef(e3){return this._imageCache.get(e3)||null}set(e3,t3,a3){(0,r.unreachable)("Abstract method `set` called.")}}t2.LocalImageCache=class extends BaseLocalCache{set(e3,t3=null,a3){if("string"!=typeof e3)throw new Error('LocalImageCache.set - expected "name" argument.');if(t3){if(this._imageCache.has(t3))return;this._nameRefMap.set(e3,t3),this._imageCache.put(t3,a3)}else this._imageMap.has(e3)||this._imageMap.set(e3,a3)}},t2.LocalColorSpaceCache=class extends BaseLocalCache{set(e3=null,t3=null,a3){if("string"!=typeof e3&&!t3)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(t3){if(this._imageCache.has(t3))return;null!==e3&&this._nameRefMap.set(e3,t3),this._imageCache.put(t3,a3)}else this._imageMap.has(e3)||this._imageMap.set(e3,a3)}},t2.LocalFunctionCache=class extends BaseLocalCache{constructor(e3){super({onlyRefs:!0})}set(e3=null,t3,a3){if(!t3)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(t3)||this._imageCache.put(t3,a3)}},t2.LocalGStateCache=class extends BaseLocalCache{set(e3,t3=null,a3){if("string"!=typeof e3)throw new Error('LocalGStateCache.set - expected "name" argument.');if(t3){if(this._imageCache.has(t3))return;this._nameRefMap.set(e3,t3),this._imageCache.put(t3,a3)}else this._imageMap.has(e3)||this._imageMap.set(e3,a3)}},t2.LocalTilingPatternCache=class extends BaseLocalCache{constructor(e3){super({onlyRefs:!0})}set(e3=null,t3,a3){if(!t3)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(t3)||this._imageCache.put(t3,a3)}};class GlobalImageCache{static get NUM_PAGES_THRESHOLD(){return(0,r.shadow)(this,"NUM_PAGES_THRESHOLD",2)}static get MIN_IMAGES_TO_CACHE(){return(0,r.shadow)(this,"MIN_IMAGES_TO_CACHE",10)}static get MAX_BYTE_SIZE(){return(0,r.shadow)(this,"MAX_BYTE_SIZE",4e7)}constructor(){this._refCache=new n.RefSetCache,this._imageCache=new n.RefSetCache}get _byteSize(){let e3=0;for(const t3 of this._imageCache)e3+=t3.byteSize;return e3}get _cacheLimitReached(){return!(this._imageCache.size<GlobalImageCache.MIN_IMAGES_TO_CACHE||this._byteSize<GlobalImageCache.MAX_BYTE_SIZE)}shouldCache(e3,t3){const a3=this._refCache.get(e3);return!((a3?a3.size+(a3.has(t3)?0:1):1)<GlobalImageCache.NUM_PAGES_THRESHOLD||!this._imageCache.has(e3)&&this._cacheLimitReached)}addPageIndex(e3,t3){let a3=this._refCache.get(e3);a3||(a3=new Set,this._refCache.put(e3,a3)),a3.add(t3)}addByteSize(e3,t3){const a3=this._imageCache.get(e3);a3&&(a3.byteSize||(a3.byteSize=t3))}getData(e3,t3){const a3=this._refCache.get(e3);if(!a3||a3.size<GlobalImageCache.NUM_PAGES_THRESHOLD)return null;const r2=this._imageCache.get(e3);return r2?(a3.add(t3),r2):null}setData(e3,t3){if(!this._refCache.has(e3))throw new Error('GlobalImageCache.setData - expected "addPageIndex" to have been called.');this._imageCache.has(e3)||(this._cacheLimitReached?(0,r.warn)("GlobalImageCache.setData - cache limit reached."):this._imageCache.put(e3,t3))}clear(e3=!1){e3||this._refCache.clear(),this._imageCache.clear()}}t2.GlobalImageCache=GlobalImageCache},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.bidi=function(e3,t3=-1,a3=!1){let c=!0;const l=e3.length;if(0===l||a3)return createBidiText(e3,c,a3);s.length=l,o.length=l;let h,u,d=0;for(h=0;h<l;++h){s[h]=e3.charAt(h);const t4=e3.charCodeAt(h);let a4="L";t4<=255?a4=n[t4]:1424<=t4&&t4<=1524?a4="R":1536<=t4&&t4<=1791?(a4=i[255&t4],a4||(0,r.warn)("Bidi: invalid Unicode character "+t4.toString(16))):1792<=t4&&t4<=2220&&(a4="AL"),"R"!==a4&&"AL"!==a4&&"AN"!==a4||d++,o[h]=a4}if(0===d)return c=!0,createBidiText(e3,c);-1===t3&&(d/l<.3&&l>4?(c=!0,t3=0):(c=!1,t3=1));const f=[];for(h=0;h<l;++h)f[h]=t3;const g=isOdd(t3)?"R":"L",p=g,m=p;let b,y=p;for(h=0;h<l;++h)"NSM"===o[h]?o[h]=y:y=o[h];for(y=p,h=0;h<l;++h)b=o[h],"EN"===b?o[h]="AL"===y?"AN":"EN":"R"!==b&&"L"!==b&&"AL"!==b||(y=b);for(h=0;h<l;++h)b=o[h],"AL"===b&&(o[h]="R");for(h=1;h<l-1;++h)"ES"===o[h]&&"EN"===o[h-1]&&"EN"===o[h+1]&&(o[h]="EN"),"CS"!==o[h]||"EN"!==o[h-1]&&"AN"!==o[h-1]||o[h+1]!==o[h-1]||(o[h]=o[h-1]);for(h=0;h<l;++h)if("EN"===o[h]){for(let e4=h-1;e4>=0&&"ET"===o[e4];--e4)o[e4]="EN";for(let e4=h+1;e4<l&&"ET"===o[e4];++e4)o[e4]="EN"}for(h=0;h<l;++h)b=o[h],"WS"!==b&&"ES"!==b&&"ET"!==b&&"CS"!==b||(o[h]="ON");for(y=p,h=0;h<l;++h)b=o[h],"EN"===b?o[h]="L"===y?"L":"EN":"R"!==b&&"L"!==b||(y=b);for(h=0;h<l;++h)if("ON"===o[h]){const e4=findUnequal(o,h+1,"ON");let t4=p;h>0&&(t4=o[h-1]);let a4=m;e4+1<l&&(a4=o[e4+1]),"L"!==t4&&(t4="R"),"L"!==a4&&(a4="R"),t4===a4&&setValues(o,h,e4,t4),h=e4-1}for(h=0;h<l;++h)"ON"===o[h]&&(o[h]=g);for(h=0;h<l;++h)b=o[h],isEven(f[h])?"R"===b?f[h]+=1:"AN"!==b&&"EN"!==b||(f[h]+=2):"L"!==b&&"AN"!==b&&"EN"!==b||(f[h]+=1);let w,S=-1,x=99;for(h=0,u=f.length;h<u;++h)w=f[h],S<w&&(S=w),x>w&&isOdd(w)&&(x=w);for(w=S;w>=x;--w){let e4=-1;for(h=0,u=f.length;h<u;++h)f[h]<w?e4>=0&&(reverseValues(s,e4,h),e4=-1):e4<0&&(e4=h);e4>=0&&reverseValues(s,e4,f.length)}for(h=0,u=s.length;h<u;++h){const e4=s[h];"<"!==e4&&">"!==e4||(s[h]="")}return createBidiText(s.join(""),c)};var r=a2(2);const n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],i=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function isOdd(e3){return!!(1&e3)}function isEven(e3){return!(1&e3)}function findUnequal(e3,t3,a3){let r2,n2;for(r2=t3,n2=e3.length;r2<n2;++r2)if(e3[r2]!==a3)return r2;return r2}function setValues(e3,t3,a3,r2){for(let n2=t3;n2<a3;++n2)e3[n2]=r2}function reverseValues(e3,t3,a3){for(let r2=t3,n2=a3-1;r2<n2;++r2,--n2){const t4=e3[r2];e3[r2]=e3[n2],e3[n2]=t4}}function createBidiText(e3,t3,a3=!1){let r2="ltr";return a3?r2="ttb":t3||(r2="rtl"),{str:e3,dir:r2}}const s=[],o=[]},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.MurmurHash3_64=void 0;var r=a2(2);const n=3285377520,i=4294901760,s=65535;t2.MurmurHash3_64=class{constructor(e3){this.h1=e3?4294967295&e3:n,this.h2=e3?4294967295&e3:n}update(e3){let t3,a3;if("string"==typeof e3){t3=new Uint8Array(2*e3.length),a3=0;for(let r2=0,n3=e3.length;r2<n3;r2++){const n4=e3.charCodeAt(r2);n4<=255?t3[a3++]=n4:(t3[a3++]=n4>>>8,t3[a3++]=255&n4)}}else{if(!(0,r.isArrayBuffer)(e3))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");t3=e3.slice(),a3=t3.byteLength}const n2=a3>>2,o=a3-4*n2,c=new Uint32Array(t3.buffer,0,n2);let l=0,h=0,u=this.h1,d=this.h2;const f=3432918353,g=461845907,p=11601,m=13715;for(let e4=0;e4<n2;e4++)1&e4?(l=c[e4],l=l*f&i|l*p&s,l=l<<15|l>>>17,l=l*g&i|l*m&s,u^=l,u=u<<13|u>>>19,u=5*u+3864292196):(h=c[e4],h=h*f&i|h*p&s,h=h<<15|h>>>17,h=h*g&i|h*m&s,d^=h,d=d<<13|d>>>19,d=5*d+3864292196);switch(l=0,o){case 3:l^=t3[4*n2+2]<<16;case 2:l^=t3[4*n2+1]<<8;case 1:l^=t3[4*n2],l=l*f&i|l*p&s,l=l<<15|l>>>17,l=l*g&i|l*m&s,1&n2?u^=l:d^=l}this.h1=u,this.h2=d}hexdigest(){let e3=this.h1,t3=this.h2;e3^=t3>>>1,e3=3981806797*e3&i|36045*e3&s,t3=4283543511*t3&i|(2950163797*(t3<<16|e3>>>16)&i)>>>16,e3^=t3>>>1,e3=444984403*e3&i|60499*e3&s,t3=3301882366*t3&i|(3120437893*(t3<<16|e3>>>16)&i)>>>16,e3^=t3>>>1;const a3=(e3>>>0).toString(16),r2=(t3>>>0).toString(16);return a3.padStart(8,"0")+r2.padStart(8,"0")}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.OperatorList=void 0;var r=a2(2);function addState(e3,t3,a3,r2,n2){let i=e3;for(let e4=0,a4=t3.length-1;e4<a4;e4++){const a5=t3[e4];i=i[a5]||(i[a5]=[])}i[t3.at(-1)]={checkFn:a3,iterateFn:r2,processFn:n2}}const n=[];addState(n,[r.OPS.save,r.OPS.transform,r.OPS.paintInlineImageXObject,r.OPS.restore],null,function(e3,t3){const a3=e3.fnArray,n2=(t3-(e3.iCurr-3))%4;switch(n2){case 0:return a3[t3]===r.OPS.save;case 1:return a3[t3]===r.OPS.transform;case 2:return a3[t3]===r.OPS.paintInlineImageXObject;case 3:return a3[t3]===r.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${n2}`)},function(e3,t3){const a3=e3.fnArray,n2=e3.argsArray,i=e3.iCurr,s=i-3,o=i-2,c=i-1,l=Math.min(Math.floor((t3-s)/4),200);if(l<10)return t3-(t3-s)%4;let h=0;const u=[];let d=0,f=1,g=1;for(let e4=0;e4<l;e4++){const t4=n2[o+(e4<<2)],a4=n2[c+(e4<<2)][0];f+a4.width>1e3&&(h=Math.max(h,f),g+=d+2,f=0,d=0),u.push({transform:t4,x:f,y:g,w:a4.width,h:a4.height}),f+=a4.width+2,d=Math.max(d,a4.height)}const p=Math.max(h,f)+1,m=g+d+1,b=new Uint8Array(p*m*4),y=p<<2;for(let e4=0;e4<l;e4++){const t4=n2[c+(e4<<2)][0].data,a4=u[e4].w<<2;let r2=0,i2=u[e4].x+u[e4].y*p<<2;b.set(t4.subarray(0,a4),i2-y);for(let n3=0,s2=u[e4].h;n3<s2;n3++)b.set(t4.subarray(r2,r2+a4),i2),r2+=a4,i2+=y;for(b.set(t4.subarray(r2-a4,r2),i2);i2>=0;)t4[i2-4]=t4[i2],t4[i2-3]=t4[i2+1],t4[i2-2]=t4[i2+2],t4[i2-1]=t4[i2+3],t4[i2+a4]=t4[i2+a4-4],t4[i2+a4+1]=t4[i2+a4-3],t4[i2+a4+2]=t4[i2+a4-2],t4[i2+a4+3]=t4[i2+a4-1],i2-=y}return a3.splice(s,4*l,r.OPS.paintInlineImageXObjectGroup),n2.splice(s,4*l,[{width:p,height:m,kind:r.ImageKind.RGBA_32BPP,data:b},u]),s+1}),addState(n,[r.OPS.save,r.OPS.transform,r.OPS.paintImageMaskXObject,r.OPS.restore],null,function(e3,t3){const a3=e3.fnArray,n2=(t3-(e3.iCurr-3))%4;switch(n2){case 0:return a3[t3]===r.OPS.save;case 1:return a3[t3]===r.OPS.transform;case 2:return a3[t3]===r.OPS.paintImageMaskXObject;case 3:return a3[t3]===r.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${n2}`)},function(e3,t3){const a3=e3.fnArray,n2=e3.argsArray,i=e3.iCurr,s=i-3,o=i-2,c=i-1;let l=Math.floor((t3-s)/4);if(l<10)return t3-(t3-s)%4;let h,u,d=!1;const f=n2[c][0],g=n2[o][0],p=n2[o][1],m=n2[o][2],b=n2[o][3];if(p===m){d=!0,h=o+4;let e4=c+4;for(let t4=1;t4<l;t4++,h+=4,e4+=4)if(u=n2[h],n2[e4][0]!==f||u[0]!==g||u[1]!==p||u[2]!==m||u[3]!==b){t4<10?d=!1:l=t4;break}}if(d){l=Math.min(l,1e3);const e4=new Float32Array(2*l);h=o;for(let t4=0;t4<l;t4++,h+=4)u=n2[h],e4[t4<<1]=u[4],e4[1+(t4<<1)]=u[5];a3.splice(s,4*l,r.OPS.paintImageMaskXObjectRepeat),n2.splice(s,4*l,[f,g,p,m,b,e4])}else{l=Math.min(l,100);const e4=[];for(let t4=0;t4<l;t4++){u=n2[o+(t4<<2)];const a4=n2[c+(t4<<2)][0];e4.push({data:a4.data,width:a4.width,height:a4.height,interpolate:a4.interpolate,count:a4.count,transform:u})}a3.splice(s,4*l,r.OPS.paintImageMaskXObjectGroup),n2.splice(s,4*l,[e4])}return s+1}),addState(n,[r.OPS.save,r.OPS.transform,r.OPS.paintImageXObject,r.OPS.restore],function(e3){const t3=e3.argsArray,a3=e3.iCurr-2;return 0===t3[a3][1]&&0===t3[a3][2]},function(e3,t3){const a3=e3.fnArray,n2=e3.argsArray,i=(t3-(e3.iCurr-3))%4;switch(i){case 0:return a3[t3]===r.OPS.save;case 1:if(a3[t3]!==r.OPS.transform)return!1;const i2=e3.iCurr-2;return n2[t3][0]===n2[i2][0]&&0===n2[t3][1]&&0===n2[t3][2]&&n2[t3][3]===n2[i2][3];case 2:return a3[t3]===r.OPS.paintImageXObject&&n2[t3][0]===n2[e3.iCurr-1][0];case 3:return a3[t3]===r.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${i}`)},function(e3,t3){const a3=e3.fnArray,n2=e3.argsArray,i=e3.iCurr,s=i-3,o=i-2,c=n2[i-1][0],l=n2[o][0],h=n2[o][3],u=Math.min(Math.floor((t3-s)/4),1e3);if(u<3)return t3-(t3-s)%4;const d=new Float32Array(2*u);let f=o;for(let e4=0;e4<u;e4++,f+=4){const t4=n2[f];d[e4<<1]=t4[4],d[1+(e4<<1)]=t4[5]}const g=[c,l,h,d];return a3.splice(s,4*u,r.OPS.paintImageXObjectRepeat),n2.splice(s,4*u,g),s+1}),addState(n,[r.OPS.beginText,r.OPS.setFont,r.OPS.setTextMatrix,r.OPS.showText,r.OPS.endText],null,function(e3,t3){const a3=e3.fnArray,n2=e3.argsArray,i=(t3-(e3.iCurr-4))%5;switch(i){case 0:return a3[t3]===r.OPS.beginText;case 1:return a3[t3]===r.OPS.setFont;case 2:return a3[t3]===r.OPS.setTextMatrix;case 3:if(a3[t3]!==r.OPS.showText)return!1;const i2=e3.iCurr-3;return n2[t3][0]===n2[i2][0]&&n2[t3][1]===n2[i2][1];case 4:return a3[t3]===r.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${i}`)},function(e3,t3){const a3=e3.fnArray,r2=e3.argsArray,n2=e3.iCurr,i=n2-4,s=n2-3,o=n2-2,c=n2-1,l=n2,h=r2[s][0],u=r2[s][1];let d=Math.min(Math.floor((t3-i)/5),1e3);if(d<3)return t3-(t3-i)%5;let f=i;i>=4&&a3[i-4]===a3[s]&&a3[i-3]===a3[o]&&a3[i-2]===a3[c]&&a3[i-1]===a3[l]&&r2[i-4][0]===h&&r2[i-4][1]===u&&(d++,f-=5);let g=f+4;for(let e4=1;e4<d;e4++)a3.splice(g,3),r2.splice(g,3),g+=2;return g+1});class NullOptimizer{constructor(e3){this.queue=e3}_optimize(){}push(e3,t3){this.queue.fnArray.push(e3),this.queue.argsArray.push(t3),this._optimize()}flush(){}reset(){}}class QueueOptimizer extends NullOptimizer{constructor(e3){super(e3),this.state=null,this.context={iCurr:0,fnArray:e3.fnArray,argsArray:e3.argsArray},this.match=null,this.lastProcessed=0}_optimize(){const e3=this.queue.fnArray;let t3=this.lastProcessed,a3=e3.length,r2=this.state,i=this.match;if(!r2&&!i&&t3+1===a3&&!n[e3[t3]])return void(this.lastProcessed=a3);const s=this.context;for(;t3<a3;){if(i){if((0,i.iterateFn)(s,t3)){t3++;continue}if(t3=(0,i.processFn)(s,t3+1),a3=e3.length,i=null,r2=null,t3>=a3)break}r2=(r2||n)[e3[t3]],r2&&!Array.isArray(r2)?(s.iCurr=t3,t3++,(!r2.checkFn||(0,r2.checkFn)(s))&&(i=r2),r2=null):t3++}this.state=r2,this.match=i,this.lastProcessed=t3}flush(){for(;this.match;)this.lastProcessed=(0,this.match.processFn)(this.context,this.queue.fnArray.length),this.match=null,this.state=null,this._optimize()}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class OperatorList{static get CHUNK_SIZE(){return(0,r.shadow)(this,"CHUNK_SIZE",1e3)}static get CHUNK_SIZE_ABOUT(){return(0,r.shadow)(this,"CHUNK_SIZE_ABOUT",this.CHUNK_SIZE-5)}constructor(e3=0,t3){this._streamSink=t3,this.fnArray=[],this.argsArray=[],this.optimizer=!t3||e3&r.RenderingIntentFlag.OPLIST?new NullOptimizer(this):new QueueOptimizer(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=t3?null:Promise.resolve()}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(e3,t3){this.optimizer.push(e3,t3),this.weight++,this._streamSink&&(this.weight>=OperatorList.CHUNK_SIZE||this.weight>=OperatorList.CHUNK_SIZE_ABOUT&&(e3===r.OPS.restore||e3===r.OPS.endText))&&this.flush()}addImageOps(e3,t3,a3){void 0!==a3&&this.addOp(r.OPS.beginMarkedContentProps,["OC",a3]),this.addOp(e3,t3),void 0!==a3&&this.addOp(r.OPS.endMarkedContent,[])}addDependency(e3){this.dependencies.has(e3)||(this.dependencies.add(e3),this.addOp(r.OPS.dependency,[e3]))}addDependencies(e3){for(const t3 of e3)this.addDependency(t3)}addOpList(e3){if(e3 instanceof OperatorList){for(const t3 of e3.dependencies)this.dependencies.add(t3);for(let t3=0,a3=e3.length;t3<a3;t3++)this.addOp(e3.fnArray[t3],e3.argsArray[t3])}else(0,r.warn)('addOpList - ignoring invalid "opList" parameter.')}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const e3=[],{fnArray:t3,argsArray:a3,length:n2}=this;for(let i=0;i<n2;i++)switch(t3[i]){case r.OPS.paintInlineImageXObject:case r.OPS.paintInlineImageXObjectGroup:case r.OPS.paintImageMaskXObject:const t4=a3[i][0];!t4.cached&&t4.data&&t4.data.buffer instanceof ArrayBuffer&&e3.push(t4.data.buffer)}return e3}flush(e3=!1,t3=null){this.optimizer.flush();const a3=this.length;this._totalLength+=a3,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:e3,separateAnnots:t3,length:a3},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}t2.OperatorList=OperatorList},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.PDFImage=void 0;var r=a2(2),n=a2(64),i=a2(7),s=a2(14),o=a2(19),c=a2(27),l=a2(30),h=a2(5);function decodeAndClamp(e3,t3,a3,r2){return(e3=t3+e3*a3)<0?e3=0:e3>r2&&(e3=r2),e3}function resizeImageMask(e3,t3,a3,r2,n2,i2){const s2=n2*i2;let o2;o2=t3<=8?new Uint8Array(s2):t3<=16?new Uint16Array(s2):new Uint32Array(s2);const c2=a3/n2,l2=r2/i2;let h2,u,d,f,g=0;const p=new Uint16Array(n2),m=a3;for(h2=0;h2<n2;h2++)p[h2]=Math.floor(h2*c2);for(h2=0;h2<i2;h2++)for(d=Math.floor(h2*l2)*m,u=0;u<n2;u++)f=d+p[u],o2[g++]=e3[f];return o2}class PDFImage{constructor({xref:e3,res:t3,image:a3,isInline:n2=!1,smask:o2=null,mask:c2=null,isMask:u=!1,pdfFunctionFactory:d,localColorSpaceCache:f}){this.image=a3;const g=a3.dict,p=g.get("F","Filter");let m;if(p instanceof h.Name)m=p.name;else if(Array.isArray(p)){const t4=e3.fetchIfRef(p[0]);t4 instanceof h.Name&&(m=t4.name)}switch(m){case"JPXDecode":const e4=new l.JpxImage;e4.parseImageProperties(a3.stream),a3.stream.reset(),a3.width=e4.width,a3.height=e4.height,a3.bitsPerComponent=e4.bitsPerComponent,a3.numComps=e4.componentsCount;break;case"JBIG2Decode":a3.bitsPerComponent=1,a3.numComps=1}let b=g.get("W","Width"),y=g.get("H","Height");if(Number.isInteger(a3.width)&&a3.width>0&&Number.isInteger(a3.height)&&a3.height>0&&(a3.width!==b||a3.height!==y)&&((0,r.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),b=a3.width,y=a3.height),b<1||y<1)throw new r.FormatError(`Invalid image width: ${b} or height: ${y}`);this.width=b,this.height=y,this.interpolate=g.get("I","Interpolate"),this.imageMask=g.get("IM","ImageMask")||!1,this.matte=g.get("Matte")||!1;let w=a3.bitsPerComponent;if(!w&&(w=g.get("BPC","BitsPerComponent"),!w)){if(!this.imageMask)throw new r.FormatError(`Bits per component missing in image: ${this.imageMask}`);w=1}if(this.bpc=w,!this.imageMask){let i2=g.getRaw("CS")||g.getRaw("ColorSpace");if(!i2)switch((0,r.info)("JPX images (which do not require color spaces)"),a3.numComps){case 1:i2=h.Name.get("DeviceGray");break;case 3:i2=h.Name.get("DeviceRGB");break;case 4:i2=h.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${a3.numComps} color components not supported.`)}this.colorSpace=s.ColorSpace.parse({cs:i2,xref:e3,resources:n2?t3:null,pdfFunctionFactory:d,localColorSpaceCache:f}),this.numComps=this.colorSpace.numComps}if(this.decode=g.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,w)||u&&!s.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const e4=(1<<w)-1;this.decodeCoefficients=[],this.decodeAddends=[];const t4=this.colorSpace&&"Indexed"===this.colorSpace.name;for(let a4=0,r2=0;a4<this.decode.length;a4+=2,++r2){const n3=this.decode[a4],i2=this.decode[a4+1];this.decodeCoefficients[r2]=t4?(i2-n3)/e4:i2-n3,this.decodeAddends[r2]=t4?n3:e4*n3}}o2?this.smask=new PDFImage({xref:e3,res:t3,image:o2,isInline:n2,pdfFunctionFactory:d,localColorSpaceCache:f}):c2&&(c2 instanceof i.BaseStream?c2.dict.get("IM","ImageMask")?this.mask=new PDFImage({xref:e3,res:t3,image:c2,isInline:n2,isMask:!0,pdfFunctionFactory:d,localColorSpaceCache:f}):(0,r.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=c2)}static buildImage({xref:e3,res:t3,image:a3,isInline:n2=!1,pdfFunctionFactory:s2,localColorSpaceCache:o2}){return _asyncToGenerator2(function*(){const c2=a3;let l2=null,h2=null;const u=a3.dict.get("SMask"),d=a3.dict.get("Mask");return u?u instanceof i.BaseStream?l2=u:(0,r.warn)("Unsupported /SMask format."):d&&(d instanceof i.BaseStream||Array.isArray(d)?h2=d:(0,r.warn)("Unsupported /Mask format.")),new PDFImage({xref:e3,res:t3,image:c2,isInline:n2,smask:l2,mask:h2,pdfFunctionFactory:s2,localColorSpaceCache:o2})})()}static createRawMask({imgArray:e3,width:t3,height:a3,imageIsFromDecodeStream:r2,inverseDecode:n2,interpolate:i2}){const s2=(t3+7>>3)*a3,o2=e3.byteLength;let c2,l2;if(!r2||n2&&s2!==o2?n2?(c2=new Uint8Array(s2),c2.set(e3),c2.fill(255,o2)):c2=new Uint8Array(e3):c2=e3,n2)for(l2=0;l2<o2;l2++)c2[l2]^=255;return{data:c2,width:t3,height:a3,interpolate:i2}}static createMask({imgArray:e3,width:t3,height:a3,imageIsFromDecodeStream:i2,inverseDecode:s2,interpolate:o2}){const c2=1===t3&&1===a3&&s2===(0===e3.length||!!(128&e3[0]));if(c2)return{isSingleOpaquePixel:c2};if(r.FeatureTest.isOffscreenCanvasSupported){const r2=new OffscreenCanvas(t3,a3),i3=r2.getContext("2d"),c3=i3.createImageData(t3,a3);return(0,n.applyMaskImageData)({src:e3,dest:c3.data,width:t3,height:a3,inverseDecode:s2}),i3.putImageData(c3,0,0),{data:null,width:t3,height:a3,interpolate:o2,bitmap:r2.transferToImageBitmap()}}return this.createRawMask({imgArray:e3,width:t3,height:a3,inverseDecode:s2,imageIsFromDecodeStream:i2,interpolate:o2})}get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)}get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)}decodeBuffer(e3){const t3=this.bpc,a3=this.numComps,r2=this.decodeAddends,n2=this.decodeCoefficients,i2=(1<<t3)-1;let s2,o2;if(1===t3){for(s2=0,o2=e3.length;s2<o2;s2++)e3[s2]=+!e3[s2];return}let c2=0;for(s2=0,o2=this.width*this.height;s2<o2;s2++)for(let t4=0;t4<a3;t4++)e3[c2]=decodeAndClamp(e3[c2],r2[t4],n2[t4],i2),c2++}getComponents(e3){const t3=this.bpc;if(8===t3)return e3;const a3=this.width,r2=this.height,n2=this.numComps,i2=a3*r2*n2;let s2,o2=0;s2=t3<=8?new Uint8Array(i2):t3<=16?new Uint16Array(i2):new Uint32Array(i2);const c2=a3*n2,l2=(1<<t3)-1;let h2,u,d=0;if(1===t3){let t4,a4,n3;for(let i3=0;i3<r2;i3++){for(a4=d+(-8&c2),n3=d+c2;d<a4;)u=e3[o2++],s2[d]=u>>7&1,s2[d+1]=u>>6&1,s2[d+2]=u>>5&1,s2[d+3]=u>>4&1,s2[d+4]=u>>3&1,s2[d+5]=u>>2&1,s2[d+6]=u>>1&1,s2[d+7]=1&u,d+=8;if(d<n3)for(u=e3[o2++],t4=128;d<n3;)s2[d++]=+!!(u&t4),t4>>=1}}else{let a4=0;for(u=0,d=0,h2=i2;d<h2;++d){for(d%c2==0&&(u=0,a4=0);a4<t3;)u=u<<8|e3[o2++],a4+=8;const r3=a4-t3;let n3=u>>r3;n3<0?n3=0:n3>l2&&(n3=l2),s2[d]=n3,u&=(1<<r3)-1,a4=r3}}return s2}fillOpacity(e3,t3,a3,n2,i2){const s2=this.smask,o2=this.mask;let c2,l2,h2,u,d,f;if(s2)l2=s2.width,h2=s2.height,c2=new Uint8ClampedArray(l2*h2),s2.fillGrayBuffer(c2),l2===t3&&h2===a3||(c2=resizeImageMask(c2,s2.bpc,l2,h2,t3,a3));else if(o2)if(o2 instanceof PDFImage){for(l2=o2.width,h2=o2.height,c2=new Uint8ClampedArray(l2*h2),o2.numComps=1,o2.fillGrayBuffer(c2),u=0,d=l2*h2;u<d;++u)c2[u]=255-c2[u];l2===t3&&h2===a3||(c2=resizeImageMask(c2,o2.bpc,l2,h2,t3,a3))}else{if(!Array.isArray(o2))throw new r.FormatError("Unknown mask format.");{c2=new Uint8ClampedArray(t3*a3);const e4=this.numComps;for(u=0,d=t3*a3;u<d;++u){let t4=0;const a4=u*e4;for(f=0;f<e4;++f){const e5=i2[a4+f],r2=2*f;if(e5<o2[r2]||e5>o2[r2+1]){t4=255;break}}c2[u]=t4}}}if(c2)for(u=0,f=3,d=t3*n2;u<d;++u,f+=4)e3[f]=c2[u];else for(u=0,f=3,d=t3*n2;u<d;++u,f+=4)e3[f]=255}undoPreblend(e3,t3,a3){const r2=this.smask&&this.smask.matte;if(!r2)return;const n2=this.colorSpace.getRgb(r2,0),i2=n2[0],s2=n2[1],o2=n2[2],c2=t3*a3*4;for(let t4=0;t4<c2;t4+=4){const a4=e3[t4+3];if(0===a4){e3[t4]=255,e3[t4+1]=255,e3[t4+2]=255;continue}const r3=255/a4;e3[t4]=(e3[t4]-i2)*r3+i2,e3[t4+1]=(e3[t4+1]-s2)*r3+s2,e3[t4+2]=(e3[t4+2]-o2)*r3+o2}}createImageData(e3=!1){const t3=this.drawWidth,a3=this.drawHeight,n2={width:t3,height:a3,interpolate:this.interpolate,kind:0,data:null},s2=this.width,o2=this.height,l2=this.bpc,h2=s2*this.numComps*l2+7>>3;if(!e3){let e4;if("DeviceGray"===this.colorSpace.name&&1===l2?e4=r.ImageKind.GRAYSCALE_1BPP:"DeviceRGB"!==this.colorSpace.name||8!==l2||this.needsDecode||(e4=r.ImageKind.RGB_24BPP),e4&&!this.smask&&!this.mask&&t3===s2&&a3===o2){if(n2.kind=e4,n2.data=this.getImageBytes(o2*h2,{}),this.needsDecode){(0,r.assert)(e4===r.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const t4=n2.data;for(let e5=0,a4=t4.length;e5<a4;e5++)t4[e5]^=255}return n2}if(this.image instanceof c.JpegStream&&!this.smask&&!this.mask){let e5=o2*h2;switch(this.colorSpace.name){case"DeviceGray":e5*=3;case"DeviceRGB":case"DeviceCMYK":return n2.kind=r.ImageKind.RGB_24BPP,n2.data=this.getImageBytes(e5,{drawWidth:t3,drawHeight:a3,forceRGB:!0}),n2}}}const u=this.getImageBytes(o2*h2,{internal:!0}),d=0|u.length/h2*a3/o2,f=this.getComponents(u);let g,p;return e3||this.smask||this.mask?(n2.kind=r.ImageKind.RGBA_32BPP,n2.data=new Uint8ClampedArray(t3*a3*4),g=1,p=!0,this.fillOpacity(n2.data,t3,a3,d,f)):(n2.kind=r.ImageKind.RGB_24BPP,n2.data=new Uint8ClampedArray(t3*a3*3),g=0,p=!1),this.needsDecode&&this.decodeBuffer(f),this.colorSpace.fillRgb(n2.data,s2,o2,t3,a3,d,l2,f,g),p&&this.undoPreblend(n2.data,t3,d),n2}fillGrayBuffer(e3){const t3=this.numComps;if(1!==t3)throw new r.FormatError(`Reading gray scale from a color image: ${t3}`);const a3=this.width,n2=this.height,i2=this.bpc,o2=this.getImageBytes(n2*(a3*t3*i2+7>>3),{internal:!0}),c2=this.getComponents(o2);let l2,h2;if(1===i2){if(h2=a3*n2,this.needsDecode)for(l2=0;l2<h2;++l2)e3[l2]=c2[l2]-1&255;else for(l2=0;l2<h2;++l2)e3[l2]=255&-c2[l2];return}this.needsDecode&&this.decodeBuffer(c2),h2=a3*n2;const u=255/((1<<i2)-1);for(l2=0;l2<h2;++l2)e3[l2]=u*c2[l2]}getImageBytes(e3,{drawWidth:t3,drawHeight:a3,forceRGB:n2=!1,internal:i2=!1}){this.image.reset(),this.image.drawWidth=t3||this.width,this.image.drawHeight=a3||this.height,this.image.forceRGB=!!n2;const s2=this.image.getBytes(e3);return i2||this.image instanceof o.DecodeStream?s2:((0,r.assert)(s2 instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(s2))}}t2.PDFImage=PDFImage},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.applyMaskImageData=function({src:e3,srcPos:t3=0,dest:a3,destPos:n=0,width:i,height:s,inverseDecode:o=!1}){const c=r.FeatureTest.isLittleEndian?4278190080:255,[l,h]=o?[0,c]:[c,0],u=i>>3,d=7&i,f=e3.length;a3=new Uint32Array(a3.buffer);for(let r2=0;r2<s;r2++){for(const r4=t3+u;t3<r4;t3++){const r5=t3<f?e3[t3]:255;a3[n++]=128&r5?h:l,a3[n++]=64&r5?h:l,a3[n++]=32&r5?h:l,a3[n++]=16&r5?h:l,a3[n++]=8&r5?h:l,a3[n++]=4&r5?h:l,a3[n++]=2&r5?h:l,a3[n++]=1&r5?h:l}if(0===d)continue;const r3=t3<f?e3[t3++]:255;for(let e4=0;e4<d;e4++)a3[n++]=r3&1<<7-e4?h:l}return{srcPos:t3,destPos:n}};var r=a2(2)},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.incrementalUpdate=function({originalData:e3,xrefInfo:t3,newRefs:a3,xref:o2=null,hasXfa:l=!1,xfaDatasetsRef:h=null,hasXfaDatasetsEntry:u=!1,acroFormRef:d=null,acroForm:f=null,xfaData:g=null}){l&&function({xfaData:e4,xfaDatasetsRef:t4,hasXfaDatasetsEntry:a4,acroFormRef:n2,acroForm:o3,newRefs:c2,xref:l2}){if(null===l2)return;if(!a4){if(!n2)return void(0,r.warn)("XFA - Cannot save it");const e5=o3.get("XFA"),a5=e5.slice();a5.splice(2,0,"datasets"),a5.splice(3,0,t4),o3.set("XFA",a5);const i2=l2.encrypt;let s2=null;i2&&(s2=i2.createCipherTransform(n2.num,n2.gen));const h3=[`${n2.num} ${n2.gen} obj\n`];writeDict(o3,h3,s2),h3.push("\n"),o3.set("XFA",e5),c2.push({ref:n2,data:h3.join("")})}null===e4&&(e4=function(e5,t5){const a5=new s.SimpleXMLParser({hasAttributes:!0}).parseFromString(e5);for(const{xfa:e6}of t5){if(!e6)continue;const{path:t6,value:n4}=e6;if(!t6)continue;const o4=a5.documentElement.searchNode((0,i.parseXFAPath)(t6),0);o4?o4.childNodes=Array.isArray(n4)?n4.map(e7=>new s.SimpleDOMNode("value",e7)):[new s.SimpleDOMNode("#text",n4)]:(0,r.warn)(`Node not found for path: ${t6}`)}const n3=[];return a5.documentElement.dump(n3),n3.join("")}(l2.fetchIfRef(t4).getString(),c2));const u2=l2.encrypt;u2&&(e4=u2.createCipherTransform(t4.num,t4.gen).encryptString(e4)),c2.push({ref:t4,data:`${t4.num} ${t4.gen} obj\n<< /Type /EmbeddedFile /Length ${e4.length}>>\nstream\n`+e4+"\nendstream\nendobj\n"})}({xfaData:g,xfaDatasetsRef:h,hasXfaDatasetsEntry:u,acroFormRef:d,acroForm:f,newRefs:a3,xref:o2,xrefInfo:t3});const p=new n.Dict(null),m=t3.newRef;let b,y;const w=e3.at(-1);10===w||13===w?(b=[],y=e3.length):(b=["\n"],y=e3.length+1),p.set("Size",m.num+1),p.set("Prev",t3.startXRef),p.set("Type",n.Name.get("XRef")),null!==t3.rootRef&&p.set("Root",t3.rootRef),null!==t3.infoRef&&p.set("Info",t3.infoRef),null!==t3.encryptRef&&p.set("Encrypt",t3.encryptRef),a3.push({ref:m,data:""}),a3=a3.sort((e4,t4)=>e4.ref.num-t4.ref.num);const S=[[0,1,65535]],x=[0,1];let k=0;for(const{ref:e4,data:t4}of a3)k=Math.max(k,y),S.push([1,y,Math.min(e4.gen,65535)]),y+=t4.length,x.push(e4.num,1),b.push(t4);if(p.set("Index",x),Array.isArray(t3.fileIds)&&t3.fileIds.length>0){const e4=function(e5,t4){const a4=Math.floor(Date.now()/1e3),n2=t4.filename||"",i2=[a4.toString(),n2,e5.toString()];let s2=i2.reduce((e6,t5)=>e6+t5.length,0);for(const e6 of Object.values(t4.info))i2.push(e6),s2+=e6.length;const o3=new Uint8Array(s2);let l2=0;for(const e6 of i2)writeString(e6,l2,o3),l2+=e6.length;return(0,r.bytesToString)((0,c.calculateMD5)(o3))}(y,t3);p.set("ID",[t3.fileIds[0],e4])}const C=[1,Math.ceil(Math.log2(k)/8),2],v=(C[0]+C[1]+C[2])*S.length;p.set("W",C),p.set("Length",v),b.push(`${m.num} ${m.gen} obj\n`),writeDict(p,b,null),b.push(" stream\n");const F=b.reduce((e4,t4)=>e4+t4.length,0),O=`\nendstream\nendobj\nstartxref\n${y}\n%%EOF\n`,T=new Uint8Array(e3.length+F+v+O.length);T.set(e3);let M=e3.length;for(const e4 of b)writeString(e4,M,T),M+=e4.length;for(const[e4,t4,a4]of S)M=writeInt(e4,C[0],M,T),M=writeInt(t4,C[1],M,T),M=writeInt(a4,C[2],M,T);return writeString(O,M,T),T},t2.writeDict=writeDict,t2.writeObject=function(e3,t3,a3,r2){a3.push(`${e3.num} ${e3.gen} obj\n`),t3 instanceof n.Dict?writeDict(t3,a3,r2):t3 instanceof o.BaseStream&&writeStream(t3,a3,r2),a3.push("\nendobj\n")};var r=a2(2),n=a2(5),i=a2(6),s=a2(66),o=a2(7),c=a2(67);function writeDict(e3,t3,a3){t3.push("<<");for(const r2 of e3.getKeys())t3.push(` /${(0,i.escapePDFName)(r2)} `),writeValue(e3.getRaw(r2),t3,a3);t3.push(">>")}function writeStream(e3,t3,a3){writeDict(e3.dict,t3,a3),t3.push(" stream\n");let r2=e3.getString();null!==a3&&(r2=a3.encryptString(r2)),t3.push(r2,"\nendstream\n")}function writeValue(e3,t3,a3){e3 instanceof n.Name?t3.push(`/${(0,i.escapePDFName)(e3.name)}`):e3 instanceof n.Ref?t3.push(`${e3.num} ${e3.gen} R`):Array.isArray(e3)?function(e4,t4,a4){t4.push("[");let r2=!0;for(const n2 of e4)r2?r2=!1:t4.push(" "),writeValue(n2,t4,a4);t4.push("]")}(e3,t3,a3):"string"==typeof e3?(null!==a3&&(e3=a3.encryptString(e3)),t3.push(`(${(0,r.escapeString)(e3)})`)):"number"==typeof e3?t3.push((0,i.numberToString)(e3)):"boolean"==typeof e3?t3.push(e3.toString()):e3 instanceof n.Dict?writeDict(e3,t3,a3):e3 instanceof o.BaseStream?writeStream(e3,t3,a3):null===e3?t3.push("null"):(0,r.warn)(`Unhandled value in writer: ${typeof e3}, please file a bug.`)}function writeInt(e3,t3,a3,r2){for(let n2=t3+a3-1;n2>a3-1;n2--)r2[n2]=255&e3,e3>>=8;return a3+t3}function writeString(e3,t3,a3){for(let r2=0,n2=e3.length;r2<n2;r2++)a3[t3+r2]=255&e3.charCodeAt(r2)}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.XMLParserErrorCode=t2.XMLParserBase=t2.SimpleXMLParser=t2.SimpleDOMNode=void 0;var r=a2(6);const n={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function isWhitespace(e3,t3){const a3=e3[t3];return" "===a3||"\n"===a3||"\r"===a3||"\t"===a3}t2.XMLParserErrorCode=n;class XMLParserBase{_resolveEntities(e3){return e3.replace(/&([^;]+);/g,(e4,t3)=>{if("#x"===t3.substring(0,2))return String.fromCodePoint(parseInt(t3.substring(2),16));if("#"===t3.substring(0,1))return String.fromCodePoint(parseInt(t3.substring(1),10));switch(t3){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(t3)})}_parseContent(e3,t3){const a3=[];let r2=t3;function skipWs(){for(;r2<e3.length&&isWhitespace(e3,r2);)++r2}for(;r2<e3.length&&!isWhitespace(e3,r2)&&">"!==e3[r2]&&"/"!==e3[r2];)++r2;const n2=e3.substring(t3,r2);for(skipWs();r2<e3.length&&">"!==e3[r2]&&"/"!==e3[r2]&&"?"!==e3[r2];){skipWs();let t4="",n3="";for(;r2<e3.length&&!isWhitespace(e3,r2)&&"="!==e3[r2];)t4+=e3[r2],++r2;if(skipWs(),"="!==e3[r2])return null;++r2,skipWs();const i=e3[r2];if('"'!==i&&"'"!==i)return null;const s=e3.indexOf(i,++r2);if(s<0)return null;n3=e3.substring(r2,s),a3.push({name:t4,value:this._resolveEntities(n3)}),r2=s+1,skipWs()}return{name:n2,attributes:a3,parsed:r2-t3}}_parseProcessingInstruction(e3,t3){let a3=t3;for(;a3<e3.length&&!isWhitespace(e3,a3)&&">"!==e3[a3]&&"?"!==e3[a3]&&"/"!==e3[a3];)++a3;const r2=e3.substring(t3,a3);!function(){for(;a3<e3.length&&isWhitespace(e3,a3);)++a3}();const n2=a3;for(;a3<e3.length&&("?"!==e3[a3]||">"!==e3[a3+1]);)++a3;return{name:r2,value:e3.substring(n2,a3),parsed:a3-t3}}parseXml(e3){let t3=0;for(;t3<e3.length;){let a3=t3;if("<"===e3[t3]){let t4;switch(++a3,e3[a3]){case"/":if(++a3,t4=e3.indexOf(">",a3),t4<0)return void this.onError(n.UnterminatedElement);this.onEndElement(e3.substring(a3,t4)),a3=t4+1;break;case"?":++a3;const r2=this._parseProcessingInstruction(e3,a3);if("?>"!==e3.substring(a3+r2.parsed,a3+r2.parsed+2))return void this.onError(n.UnterminatedXmlDeclaration);this.onPi(r2.name,r2.value),a3+=r2.parsed+2;break;case"!":if("--"===e3.substring(a3+1,a3+3)){if(t4=e3.indexOf("--\x3e",a3+3),t4<0)return void this.onError(n.UnterminatedComment);this.onComment(e3.substring(a3+3,t4)),a3=t4+3}else if("[CDATA["===e3.substring(a3+1,a3+8)){if(t4=e3.indexOf("]]>",a3+8),t4<0)return void this.onError(n.UnterminatedCdat);this.onCdata(e3.substring(a3+8,t4)),a3=t4+3}else{if("DOCTYPE"!==e3.substring(a3+1,a3+8))return void this.onError(n.MalformedElement);{const r3=e3.indexOf("[",a3+8);let i2=!1;if(t4=e3.indexOf(">",a3+8),t4<0)return void this.onError(n.UnterminatedDoctypeDeclaration);if(r3>0&&t4>r3){if(t4=e3.indexOf("]>",a3+8),t4<0)return void this.onError(n.UnterminatedDoctypeDeclaration);i2=!0}const s2=e3.substring(a3+8,t4+(i2?1:0));this.onDoctype(s2),a3=t4+(i2?2:1)}}break;default:const i=this._parseContent(e3,a3);if(null===i)return void this.onError(n.MalformedElement);let s=!1;if("/>"===e3.substring(a3+i.parsed,a3+i.parsed+2))s=!0;else if(">"!==e3.substring(a3+i.parsed,a3+i.parsed+1))return void this.onError(n.UnterminatedElement);this.onBeginElement(i.name,i.attributes,s),a3+=i.parsed+(s?2:1)}}else{for(;a3<e3.length&&"<"!==e3[a3];)a3++;const r2=e3.substring(t3,a3);this.onText(this._resolveEntities(r2))}t3=a3}}onResolveEntity(e3){return`&${e3};`}onPi(e3,t3){}onComment(e3){}onCdata(e3){}onDoctype(e3){}onText(e3){}onBeginElement(e3,t3,a3){}onEndElement(e3){}onError(e3){}}t2.XMLParserBase=XMLParserBase;class SimpleDOMNode{constructor(e3,t3){this.nodeName=e3,this.nodeValue=t3,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const e3=this.parentNode.childNodes;if(!e3)return;const t3=e3.indexOf(this);return-1!==t3?e3[t3+1]:void 0}get textContent(){return this.childNodes?this.childNodes.map(function(e3){return e3.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}searchNode(e3,t3){if(t3>=e3.length)return this;const a3=e3[t3],r2=[];let n2=this;for(;;){if(a3.name===n2.nodeName){if(0!==a3.pos){if(0===r2.length)return null;{const[i]=r2.pop();let s=0;for(const r3 of i.childNodes)if(a3.name===r3.nodeName){if(s===a3.pos)return r3.searchNode(e3,t3+1);s++}return n2.searchNode(e3,t3+1)}}{const a4=n2.searchNode(e3,t3+1);if(null!==a4)return a4}}if(n2.childNodes&&0!==n2.childNodes.length)r2.push([n2,0]),n2=n2.childNodes[0];else{if(0===r2.length)return null;for(;0!==r2.length;){const[e4,t4]=r2.pop(),a4=t4+1;if(a4<e4.childNodes.length){r2.push([e4,a4]),n2=e4.childNodes[a4];break}}if(0===r2.length)return null}}}dump(e3){if("#text"!==this.nodeName){if(e3.push(`<${this.nodeName}`),this.attributes)for(const t3 of this.attributes)e3.push(` ${t3.name}="${(0,r.encodeToXmlString)(t3.value)}"`);if(this.hasChildNodes()){e3.push(">");for(const t3 of this.childNodes)t3.dump(e3);e3.push(`</${this.nodeName}>`)}else e3.push(this.nodeValue?`>${(0,r.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`:"/>")}else e3.push((0,r.encodeToXmlString)(this.nodeValue))}}t2.SimpleDOMNode=SimpleDOMNode,t2.SimpleXMLParser=class extends XMLParserBase{constructor({hasAttributes:e3=!1,lowerCaseName:t3=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=n.NoError,this._hasAttributes=e3,this._lowerCaseName=t3}parseFromString(e3){if(this._currentFragment=[],this._stack=[],this._errorCode=n.NoError,this.parseXml(e3),this._errorCode!==n.NoError)return;const[t3]=this._currentFragment;return t3?{documentElement:t3}:void 0}onText(e3){if(function(e4){for(let t4=0,a3=e4.length;t4<a3;t4++)if(!isWhitespace(e4,t4))return!1;return!0}(e3))return;const t3=new SimpleDOMNode("#text",e3);this._currentFragment.push(t3)}onCdata(e3){const t3=new SimpleDOMNode("#text",e3);this._currentFragment.push(t3)}onBeginElement(e3,t3,a3){this._lowerCaseName&&(e3=e3.toLowerCase());const r2=new SimpleDOMNode(e3);r2.childNodes=[],this._hasAttributes&&(r2.attributes=t3),this._currentFragment.push(r2),a3||(this._stack.push(this._currentFragment),this._currentFragment=r2.childNodes)}onEndElement(e3){this._currentFragment=this._stack.pop()||[];const t3=this._currentFragment.at(-1);if(!t3)return null;for(let e4=0,a3=t3.childNodes.length;e4<a3;e4++)t3.childNodes[e4].parentNode=t3;return t3}onError(e3){this._errorCode=e3}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.calculateSHA256=t2.calculateMD5=t2.PDF20=t2.PDF17=t2.CipherTransformFactory=t2.ARCFourCipher=t2.AES256Cipher=t2.AES128Cipher=void 0,t2.calculateSHA384=calculateSHA384,t2.calculateSHA512=void 0;var r=a2(2),n=a2(5),i=a2(68);class ARCFourCipher{constructor(e3){this.a=0,this.b=0;const t3=new Uint8Array(256),a3=e3.length;for(let e4=0;e4<256;++e4)t3[e4]=e4;for(let r2=0,n2=0;r2<256;++r2){const i2=t3[r2];n2=n2+i2+e3[r2%a3]&255,t3[r2]=t3[n2],t3[n2]=i2}this.s=t3}encryptBlock(e3){let t3=this.a,a3=this.b;const r2=this.s,n2=e3.length,i2=new Uint8Array(n2);for(let s2=0;s2<n2;++s2){t3=t3+1&255;const n3=r2[t3];a3=a3+n3&255;const o2=r2[a3];r2[t3]=o2,r2[a3]=n3,i2[s2]=e3[s2]^r2[n3+o2&255]}return this.a=t3,this.b=a3,i2}decryptBlock(e3){return this.encryptBlock(e3)}encrypt(e3){return this.encryptBlock(e3)}}t2.ARCFourCipher=ARCFourCipher;const s=function(){const e3=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),t3=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);return function(a3,r2,n2){let i2=1732584193,s2=-271733879,o2=-1732584194,c2=271733878;const l2=n2+72&-64,h2=new Uint8Array(l2);let u,d;for(u=0;u<n2;++u)h2[u]=a3[r2++];h2[u++]=128;const f=l2-8;for(;u<f;)h2[u++]=0;h2[u++]=n2<<3&255,h2[u++]=n2>>5&255,h2[u++]=n2>>13&255,h2[u++]=n2>>21&255,h2[u++]=n2>>>29&255,h2[u++]=0,h2[u++]=0,h2[u++]=0;const g=new Int32Array(16);for(u=0;u<l2;){for(d=0;d<16;++d,u+=4)g[d]=h2[u]|h2[u+1]<<8|h2[u+2]<<16|h2[u+3]<<24;let a4,r3,n3=i2,l3=s2,f2=o2,p=c2;for(d=0;d<64;++d){d<16?(a4=l3&f2|~l3&p,r3=d):d<32?(a4=p&l3|~p&f2,r3=5*d+1&15):d<48?(a4=l3^f2^p,r3=3*d+5&15):(a4=f2^(l3|~p),r3=7*d&15);const i3=p,s3=n3+a4+t3[d]+g[r3]|0,o3=e3[d];p=f2,f2=l3,l3=l3+(s3<<o3|s3>>>32-o3)|0,n3=i3}i2=i2+n3|0,s2=s2+l3|0,o2=o2+f2|0,c2=c2+p|0}return new Uint8Array([255&i2,i2>>8&255,i2>>16&255,i2>>>24&255,255&s2,s2>>8&255,s2>>16&255,s2>>>24&255,255&o2,o2>>8&255,o2>>16&255,o2>>>24&255,255&c2,c2>>8&255,c2>>16&255,c2>>>24&255])}}();t2.calculateMD5=s;class Word64{constructor(e3,t3){this.high=0|e3,this.low=0|t3}and(e3){this.high&=e3.high,this.low&=e3.low}xor(e3){this.high^=e3.high,this.low^=e3.low}or(e3){this.high|=e3.high,this.low|=e3.low}shiftRight(e3){e3>=32?(this.low=this.high>>>e3-32|0,this.high=0):(this.low=this.low>>>e3|this.high<<32-e3,this.high=this.high>>>e3|0)}shiftLeft(e3){e3>=32?(this.high=this.low<<e3-32,this.low=0):(this.high=this.high<<e3|this.low>>>32-e3,this.low<<=e3)}rotateRight(e3){let t3,a3;32&e3?(a3=this.low,t3=this.high):(t3=this.low,a3=this.high),this.low=t3>>>(e3&=31)|a3<<32-e3,this.high=a3>>>e3|t3<<32-e3}not(){this.high=~this.high,this.low=~this.low}add(e3){const t3=(this.low>>>0)+(e3.low>>>0);let a3=(this.high>>>0)+(e3.high>>>0);t3>4294967295&&(a3+=1),this.low=0|t3,this.high=0|a3}copyTo(e3,t3){e3[t3]=this.high>>>24&255,e3[t3+1]=this.high>>16&255,e3[t3+2]=this.high>>8&255,e3[t3+3]=255&this.high,e3[t3+4]=this.low>>>24&255,e3[t3+5]=this.low>>16&255,e3[t3+6]=this.low>>8&255,e3[t3+7]=255&this.low}assign(e3){this.high=e3.high,this.low=e3.low}}const o=function(){function rotr(e4,t3){return e4>>>t3|e4<<32-t3}function ch(e4,t3,a3){return e4&t3^~e4&a3}function maj(e4,t3,a3){return e4&t3^e4&a3^t3&a3}function sigma(e4){return rotr(e4,2)^rotr(e4,13)^rotr(e4,22)}function sigmaPrime(e4){return rotr(e4,6)^rotr(e4,11)^rotr(e4,25)}const e3=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];return function(t3,a3,r2){let n2=1779033703,i2=3144134277,s2=1013904242,o2=2773480762,c2=1359893119,l2=2600822924,h2=528734635,u=1541459225;const d=64*Math.ceil((r2+9)/64),f=new Uint8Array(d);let g,p;for(g=0;g<r2;++g)f[g]=t3[a3++];f[g++]=128;const m=d-8;for(;g<m;)f[g++]=0;f[g++]=0,f[g++]=0,f[g++]=0,f[g++]=r2>>>29&255,f[g++]=r2>>21&255,f[g++]=r2>>13&255,f[g++]=r2>>5&255,f[g++]=r2<<3&255;const b=new Uint32Array(64);for(g=0;g<d;){for(p=0;p<16;++p)b[p]=f[g]<<24|f[g+1]<<16|f[g+2]<<8|f[g+3],g+=4;for(p=16;p<64;++p)b[p]=(rotr(y=b[p-2],17)^rotr(y,19)^y>>>10)+b[p-7]+(rotr(e4=b[p-15],7)^rotr(e4,18)^e4>>>3)+b[p-16]|0;let t4,a4,r3=n2,d2=i2,m2=s2,w=o2,S=c2,x=l2,k=h2,C=u;for(p=0;p<64;++p)t4=C+sigmaPrime(S)+ch(S,x,k)+e3[p]+b[p],a4=sigma(r3)+maj(r3,d2,m2),C=k,k=x,x=S,S=w+t4|0,w=m2,m2=d2,d2=r3,r3=t4+a4|0;n2=n2+r3|0,i2=i2+d2|0,s2=s2+m2|0,o2=o2+w|0,c2=c2+S|0,l2=l2+x|0,h2=h2+k|0,u=u+C|0}var e4,y;return new Uint8Array([n2>>24&255,n2>>16&255,n2>>8&255,255&n2,i2>>24&255,i2>>16&255,i2>>8&255,255&i2,s2>>24&255,s2>>16&255,s2>>8&255,255&s2,o2>>24&255,o2>>16&255,o2>>8&255,255&o2,c2>>24&255,c2>>16&255,c2>>8&255,255&c2,l2>>24&255,l2>>16&255,l2>>8&255,255&l2,h2>>24&255,h2>>16&255,h2>>8&255,255&h2,u>>24&255,u>>16&255,u>>8&255,255&u])}}();t2.calculateSHA256=o;const c=function(){function ch(e4,t3,a3,r2,n2){e4.assign(t3),e4.and(a3),n2.assign(t3),n2.not(),n2.and(r2),e4.xor(n2)}function maj(e4,t3,a3,r2,n2){e4.assign(t3),e4.and(a3),n2.assign(t3),n2.and(r2),e4.xor(n2),n2.assign(a3),n2.and(r2),e4.xor(n2)}function sigma(e4,t3,a3){e4.assign(t3),e4.rotateRight(28),a3.assign(t3),a3.rotateRight(34),e4.xor(a3),a3.assign(t3),a3.rotateRight(39),e4.xor(a3)}function sigmaPrime(e4,t3,a3){e4.assign(t3),e4.rotateRight(14),a3.assign(t3),a3.rotateRight(18),e4.xor(a3),a3.assign(t3),a3.rotateRight(41),e4.xor(a3)}function littleSigma(e4,t3,a3){e4.assign(t3),e4.rotateRight(1),a3.assign(t3),a3.rotateRight(8),e4.xor(a3),a3.assign(t3),a3.shiftRight(7),e4.xor(a3)}function littleSigmaPrime(e4,t3,a3){e4.assign(t3),e4.rotateRight(19),a3.assign(t3),a3.rotateRight(61),e4.xor(a3),a3.assign(t3),a3.shiftRight(6),e4.xor(a3)}const e3=[new Word64(1116352408,3609767458),new Word64(1899447441,602891725),new Word64(3049323471,3964484399),new Word64(3921009573,2173295548),new Word64(961987163,4081628472),new Word64(1508970993,3053834265),new Word64(2453635748,2937671579),new Word64(2870763221,3664609560),new Word64(3624381080,2734883394),new Word64(310598401,1164996542),new Word64(607225278,1323610764),new Word64(1426881987,3590304994),new Word64(1925078388,4068182383),new Word64(2162078206,991336113),new Word64(2614888103,633803317),new Word64(3248222580,3479774868),new Word64(3835390401,2666613458),new Word64(4022224774,944711139),new Word64(264347078,2341262773),new Word64(604807628,2007800933),new Word64(770255983,1495990901),new Word64(1249150122,1856431235),new Word64(1555081692,3175218132),new Word64(1996064986,2198950837),new Word64(2554220882,3999719339),new Word64(2821834349,766784016),new Word64(2952996808,2566594879),new Word64(3210313671,3203337956),new Word64(3336571891,1034457026),new Word64(3584528711,2466948901),new Word64(113926993,3758326383),new Word64(338241895,168717936),new Word64(666307205,1188179964),new Word64(773529912,1546045734),new Word64(1294757372,1522805485),new Word64(1396182291,2643833823),new Word64(1695183700,2343527390),new Word64(1986661051,1014477480),new Word64(2177026350,1206759142),new Word64(2456956037,344077627),new Word64(2730485921,1290863460),new Word64(2820302411,3158454273),new Word64(3259730800,3505952657),new Word64(3345764771,106217008),new Word64(3516065817,3606008344),new Word64(3600352804,1432725776),new Word64(4094571909,1467031594),new Word64(275423344,851169720),new Word64(430227734,3100823752),new Word64(506948616,1363258195),new Word64(659060556,3750685593),new Word64(883997877,3785050280),new Word64(958139571,3318307427),new Word64(1322822218,3812723403),new Word64(1537002063,2003034995),new Word64(1747873779,3602036899),new Word64(1955562222,1575990012),new Word64(2024104815,1125592928),new Word64(2227730452,2716904306),new Word64(2361852424,442776044),new Word64(2428436474,593698344),new Word64(2756734187,3733110249),new Word64(3204031479,2999351573),new Word64(3329325298,3815920427),new Word64(3391569614,3928383900),new Word64(3515267271,566280711),new Word64(3940187606,3454069534),new Word64(4118630271,4000239992),new Word64(116418474,1914138554),new Word64(174292421,2731055270),new Word64(289380356,3203993006),new Word64(460393269,320620315),new Word64(685471733,587496836),new Word64(852142971,1086792851),new Word64(1017036298,365543100),new Word64(1126000580,2618297676),new Word64(1288033470,3409855158),new Word64(1501505948,4234509866),new Word64(1607167915,987167468),new Word64(1816402316,1246189591)];return function(t3,a3,r2,n2=!1){let i2,s2,o2,c2,l2,h2,u,d;n2?(i2=new Word64(3418070365,3238371032),s2=new Word64(1654270250,914150663),o2=new Word64(2438529370,812702999),c2=new Word64(355462360,4144912697),l2=new Word64(1731405415,4290775857),h2=new Word64(2394180231,1750603025),u=new Word64(3675008525,1694076839),d=new Word64(1203062813,3204075428)):(i2=new Word64(1779033703,4089235720),s2=new Word64(3144134277,2227873595),o2=new Word64(1013904242,4271175723),c2=new Word64(2773480762,1595750129),l2=new Word64(1359893119,2917565137),h2=new Word64(2600822924,725511199),u=new Word64(528734635,4215389547),d=new Word64(1541459225,327033209));const f=128*Math.ceil((r2+17)/128),g=new Uint8Array(f);let p,m;for(p=0;p<r2;++p)g[p]=t3[a3++];g[p++]=128;const b=f-16;for(;p<b;)g[p++]=0;g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=r2>>>29&255,g[p++]=r2>>21&255,g[p++]=r2>>13&255,g[p++]=r2>>5&255,g[p++]=r2<<3&255;const y=new Array(80);for(p=0;p<80;p++)y[p]=new Word64(0,0);let w=new Word64(0,0),S=new Word64(0,0),x=new Word64(0,0),k=new Word64(0,0),C=new Word64(0,0),v=new Word64(0,0),F=new Word64(0,0),O=new Word64(0,0);const T=new Word64(0,0),M=new Word64(0,0),E=new Word64(0,0),D=new Word64(0,0);let N,R;for(p=0;p<f;){for(m=0;m<16;++m)y[m].high=g[p]<<24|g[p+1]<<16|g[p+2]<<8|g[p+3],y[m].low=g[p+4]<<24|g[p+5]<<16|g[p+6]<<8|g[p+7],p+=8;for(m=16;m<80;++m)N=y[m],littleSigmaPrime(N,y[m-2],D),N.add(y[m-7]),littleSigma(E,y[m-15],D),N.add(E),N.add(y[m-16]);for(w.assign(i2),S.assign(s2),x.assign(o2),k.assign(c2),C.assign(l2),v.assign(h2),F.assign(u),O.assign(d),m=0;m<80;++m)T.assign(O),sigmaPrime(E,C,D),T.add(E),ch(E,C,v,F,D),T.add(E),T.add(e3[m]),T.add(y[m]),sigma(M,w,D),maj(E,w,S,x,D),M.add(E),N=O,O=F,F=v,v=C,k.add(T),C=k,k=x,x=S,S=w,N.assign(T),N.add(M),w=N;i2.add(w),s2.add(S),o2.add(x),c2.add(k),l2.add(C),h2.add(v),u.add(F),d.add(O)}return n2?(R=new Uint8Array(48),i2.copyTo(R,0),s2.copyTo(R,8),o2.copyTo(R,16),c2.copyTo(R,24),l2.copyTo(R,32),h2.copyTo(R,40)):(R=new Uint8Array(64),i2.copyTo(R,0),s2.copyTo(R,8),o2.copyTo(R,16),c2.copyTo(R,24),l2.copyTo(R,32),h2.copyTo(R,40),u.copyTo(R,48),d.copyTo(R,56)),R}}();function calculateSHA384(e3,t3,a3){return c(e3,t3,a3,!0)}t2.calculateSHA512=c;class NullCipher{decryptBlock(e3){return e3}encrypt(e3){return e3}}class AESBaseCipher{constructor(){this.constructor===AESBaseCipher&&(0,r.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let e3=0;e3<256;e3++)this._mixCol[e3]=e3<128?e3<<1:e3<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(e3){(0,r.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(e3,t3){let a3,r2,n2;const i2=new Uint8Array(16);i2.set(e3);for(let e4=0,a4=this._keySize;e4<16;++e4,++a4)i2[e4]^=t3[a4];for(let e4=this._cyclesOfRepetition-1;e4>=1;--e4){a3=i2[13],i2[13]=i2[9],i2[9]=i2[5],i2[5]=i2[1],i2[1]=a3,a3=i2[14],r2=i2[10],i2[14]=i2[6],i2[10]=i2[2],i2[6]=a3,i2[2]=r2,a3=i2[15],r2=i2[11],n2=i2[7],i2[15]=i2[3],i2[11]=a3,i2[7]=r2,i2[3]=n2;for(let e5=0;e5<16;++e5)i2[e5]=this._inv_s[i2[e5]];for(let a4=0,r3=16*e4;a4<16;++a4,++r3)i2[a4]^=t3[r3];for(let e5=0;e5<16;e5+=4){const r3=this._mix[i2[e5+1]],n3=this._mix[i2[e5+2]],s2=this._mix[i2[e5+3]];a3=this._mix[i2[e5]]^r3>>>8^r3<<24^n3>>>16^n3<<16^s2>>>24^s2<<8,i2[e5]=a3>>>24&255,i2[e5+1]=a3>>16&255,i2[e5+2]=a3>>8&255,i2[e5+3]=255&a3}}a3=i2[13],i2[13]=i2[9],i2[9]=i2[5],i2[5]=i2[1],i2[1]=a3,a3=i2[14],r2=i2[10],i2[14]=i2[6],i2[10]=i2[2],i2[6]=a3,i2[2]=r2,a3=i2[15],r2=i2[11],n2=i2[7],i2[15]=i2[3],i2[11]=a3,i2[7]=r2,i2[3]=n2;for(let e4=0;e4<16;++e4)i2[e4]=this._inv_s[i2[e4]],i2[e4]^=t3[e4];return i2}_encrypt(e3,t3){const a3=this._s;let r2,n2,i2;const s2=new Uint8Array(16);s2.set(e3);for(let e4=0;e4<16;++e4)s2[e4]^=t3[e4];for(let e4=1;e4<this._cyclesOfRepetition;e4++){for(let e5=0;e5<16;++e5)s2[e5]=a3[s2[e5]];i2=s2[1],s2[1]=s2[5],s2[5]=s2[9],s2[9]=s2[13],s2[13]=i2,i2=s2[2],n2=s2[6],s2[2]=s2[10],s2[6]=s2[14],s2[10]=i2,s2[14]=n2,i2=s2[3],n2=s2[7],r2=s2[11],s2[3]=s2[15],s2[7]=i2,s2[11]=n2,s2[15]=r2;for(let e5=0;e5<16;e5+=4){const t4=s2[e5+0],a4=s2[e5+1],n3=s2[e5+2],i3=s2[e5+3];r2=t4^a4^n3^i3,s2[e5+0]^=r2^this._mixCol[t4^a4],s2[e5+1]^=r2^this._mixCol[a4^n3],s2[e5+2]^=r2^this._mixCol[n3^i3],s2[e5+3]^=r2^this._mixCol[i3^t4]}for(let a4=0,r3=16*e4;a4<16;++a4,++r3)s2[a4]^=t3[r3]}for(let e4=0;e4<16;++e4)s2[e4]=a3[s2[e4]];i2=s2[1],s2[1]=s2[5],s2[5]=s2[9],s2[9]=s2[13],s2[13]=i2,i2=s2[2],n2=s2[6],s2[2]=s2[10],s2[6]=s2[14],s2[10]=i2,s2[14]=n2,i2=s2[3],n2=s2[7],r2=s2[11],s2[3]=s2[15],s2[7]=i2,s2[11]=n2,s2[15]=r2;for(let e4=0,a4=this._keySize;e4<16;++e4,++a4)s2[e4]^=t3[a4];return s2}_decryptBlock2(e3,t3){const a3=e3.length;let r2=this.buffer,n2=this.bufferPosition;const i2=[];let s2=this.iv;for(let t4=0;t4<a3;++t4){if(r2[n2]=e3[t4],++n2,n2<16)continue;const a4=this._decrypt(r2,this._key);for(let e4=0;e4<16;++e4)a4[e4]^=s2[e4];s2=r2,i2.push(a4),r2=new Uint8Array(16),n2=0}if(this.buffer=r2,this.bufferLength=n2,this.iv=s2,0===i2.length)return new Uint8Array(0);let o2=16*i2.length;if(t3){const e4=i2.at(-1);let t4=e4[15];if(t4<=16){for(let a4=15,r3=16-t4;a4>=r3;--a4)if(e4[a4]!==t4){t4=0;break}o2-=t4,i2[i2.length-1]=e4.subarray(0,16-t4)}}const c2=new Uint8Array(o2);for(let e4=0,t4=0,a4=i2.length;e4<a4;++e4,t4+=16)c2.set(i2[e4],t4);return c2}decryptBlock(e3,t3,a3=null){const r2=e3.length,n2=this.buffer;let i2=this.bufferPosition;if(a3)this.iv=a3;else{for(let t4=0;i2<16&&t4<r2;++t4,++i2)n2[i2]=e3[t4];if(i2<16)return this.bufferLength=i2,new Uint8Array(0);this.iv=n2,e3=e3.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(e3,t3)}encrypt(e3,t3){const a3=e3.length;let r2=this.buffer,n2=this.bufferPosition;const i2=[];t3||(t3=new Uint8Array(16));for(let s3=0;s3<a3;++s3){if(r2[n2]=e3[s3],++n2,n2<16)continue;for(let e4=0;e4<16;++e4)r2[e4]^=t3[e4];const a4=this._encrypt(r2,this._key);t3=a4,i2.push(a4),r2=new Uint8Array(16),n2=0}if(this.buffer=r2,this.bufferLength=n2,this.iv=t3,0===i2.length)return new Uint8Array(0);const o2=new Uint8Array(16*i2.length);for(let e4=0,t4=0,a4=i2.length;e4<a4;++e4,t4+=16)o2.set(i2[e4],t4);return o2}}class AES128Cipher extends AESBaseCipher{constructor(e3){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(e3)}_expandKey(e3){const t3=this._s,a3=this._rcon,r2=new Uint8Array(176);r2.set(e3);for(let e4=16,n2=1;e4<176;++n2){let i2=r2[e4-3],s2=r2[e4-2],o2=r2[e4-1],c2=r2[e4-4];i2=t3[i2],s2=t3[s2],o2=t3[o2],c2=t3[c2],i2^=a3[n2];for(let t4=0;t4<4;++t4)r2[e4]=i2^=r2[e4-16],e4++,r2[e4]=s2^=r2[e4-16],e4++,r2[e4]=o2^=r2[e4-16],e4++,r2[e4]=c2^=r2[e4-16],e4++}return r2}}t2.AES128Cipher=AES128Cipher;class AES256Cipher extends AESBaseCipher{constructor(e3){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(e3)}_expandKey(e3){const t3=this._s,a3=new Uint8Array(240);a3.set(e3);let r2,n2,i2,s2,o2=1;for(let e4=32,c2=1;e4<240;++c2){e4%32==16?(r2=t3[r2],n2=t3[n2],i2=t3[i2],s2=t3[s2]):e4%32==0&&(r2=a3[e4-3],n2=a3[e4-2],i2=a3[e4-1],s2=a3[e4-4],r2=t3[r2],n2=t3[n2],i2=t3[i2],s2=t3[s2],r2^=o2,(o2<<=1)>=256&&(o2=255&(27^o2)));for(let t4=0;t4<4;++t4)a3[e4]=r2^=a3[e4-32],e4++,a3[e4]=n2^=a3[e4-32],e4++,a3[e4]=i2^=a3[e4-32],e4++,a3[e4]=s2^=a3[e4-32],e4++}return a3}}t2.AES256Cipher=AES256Cipher;class PDF17{checkOwnerPassword(e3,t3,a3,n2){const i2=new Uint8Array(e3.length+56);i2.set(e3,0),i2.set(t3,e3.length),i2.set(a3,e3.length+t3.length);const s2=o(i2,0,i2.length);return(0,r.isArrayEqual)(s2,n2)}checkUserPassword(e3,t3,a3){const n2=new Uint8Array(e3.length+8);n2.set(e3,0),n2.set(t3,e3.length);const i2=o(n2,0,n2.length);return(0,r.isArrayEqual)(i2,a3)}getOwnerKey(e3,t3,a3,r2){const n2=new Uint8Array(e3.length+56);n2.set(e3,0),n2.set(t3,e3.length),n2.set(a3,e3.length+t3.length);const i2=o(n2,0,n2.length);return new AES256Cipher(i2).decryptBlock(r2,!1,new Uint8Array(16))}getUserKey(e3,t3,a3){const r2=new Uint8Array(e3.length+8);r2.set(e3,0),r2.set(t3,e3.length);const n2=o(r2,0,r2.length);return new AES256Cipher(n2).decryptBlock(a3,!1,new Uint8Array(16))}}t2.PDF17=PDF17;const l=function(){function calculatePDF20Hash(e3,t3,a3){let r2=o(t3,0,t3.length).subarray(0,32),n2=[0],i2=0;for(;i2<64||n2.at(-1)>i2-32;){const t4=e3.length+r2.length+a3.length,s2=new Uint8Array(t4);let l2=0;s2.set(e3,l2),l2+=e3.length,s2.set(r2,l2),l2+=r2.length,s2.set(a3,l2);const h2=new Uint8Array(64*t4);for(let e4=0,a4=0;e4<64;e4++,a4+=t4)h2.set(s2,a4);n2=new AES128Cipher(r2.subarray(0,16)).encrypt(h2,r2.subarray(16,32));let u=0;for(let e4=0;e4<16;e4++)u*=1,u%=3,u+=(n2[e4]>>>0)%3,u%=3;0===u?r2=o(n2,0,n2.length):1===u?r2=calculateSHA384(n2,0,n2.length):2===u&&(r2=c(n2,0,n2.length)),i2++}return r2.subarray(0,32)}return class{hash(e3,t3,a3){return calculatePDF20Hash(e3,t3,a3)}checkOwnerPassword(e3,t3,a3,n2){const i2=new Uint8Array(e3.length+56);i2.set(e3,0),i2.set(t3,e3.length),i2.set(a3,e3.length+t3.length);const s2=calculatePDF20Hash(e3,i2,a3);return(0,r.isArrayEqual)(s2,n2)}checkUserPassword(e3,t3,a3){const n2=new Uint8Array(e3.length+8);n2.set(e3,0),n2.set(t3,e3.length);const i2=calculatePDF20Hash(e3,n2,[]);return(0,r.isArrayEqual)(i2,a3)}getOwnerKey(e3,t3,a3,r2){const n2=new Uint8Array(e3.length+56);n2.set(e3,0),n2.set(t3,e3.length),n2.set(a3,e3.length+t3.length);const i2=calculatePDF20Hash(e3,n2,a3);return new AES256Cipher(i2).decryptBlock(r2,!1,new Uint8Array(16))}getUserKey(e3,t3,a3){const r2=new Uint8Array(e3.length+8);r2.set(e3,0),r2.set(t3,e3.length);const n2=calculatePDF20Hash(e3,r2,[]);return new AES256Cipher(n2).decryptBlock(a3,!1,new Uint8Array(16))}}}();t2.PDF20=l;class CipherTransform{constructor(e3,t3){this.StringCipherConstructor=e3,this.StreamCipherConstructor=t3}createStream(e3,t3){const a3=new this.StreamCipherConstructor;return new i.DecryptStream(e3,t3,function(e4,t4){return a3.decryptBlock(e4,t4)})}decryptString(e3){const t3=new this.StringCipherConstructor;let a3=(0,r.stringToBytes)(e3);return a3=t3.decryptBlock(a3,!0),(0,r.bytesToString)(a3)}encryptString(e3){const t3=new this.StringCipherConstructor;if(t3 instanceof AESBaseCipher){const a4=16-e3.length%16;e3+=String.fromCharCode(a4).repeat(a4);const n2=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(n2);else for(let e4=0;e4<16;e4++)n2[e4]=Math.floor(256*Math.random());let i2=(0,r.stringToBytes)(e3);i2=t3.encrypt(i2,n2);const s2=new Uint8Array(16+i2.length);return s2.set(n2),s2.set(i2,16),(0,r.bytesToString)(s2)}let a3=(0,r.stringToBytes)(e3);return a3=t3.encrypt(a3),(0,r.bytesToString)(a3)}}const h=function(){const e3=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function prepareKeyData(t4,a3,r2,n2,i2,o2,c2,l2){const u=new Uint8Array(40+r2.length+t4.length);let d,f,g=0;if(a3)for(f=Math.min(32,a3.length);g<f;++g)u[g]=a3[g];for(d=0;g<32;)u[g++]=e3[d++];for(d=0,f=r2.length;d<f;++d)u[g++]=r2[d];for(u[g++]=255&i2,u[g++]=i2>>8&255,u[g++]=i2>>16&255,u[g++]=i2>>>24&255,d=0,f=t4.length;d<f;++d)u[g++]=t4[d];o2>=4&&!l2&&(u[g++]=255,u[g++]=255,u[g++]=255,u[g++]=255);let p=s(u,0,g);const m=c2>>3;if(o2>=3)for(d=0;d<50;++d)p=s(p,0,m);const b=p.subarray(0,m);let y,w;if(o2>=3){for(g=0;g<32;++g)u[g]=e3[g];for(d=0,f=t4.length;d<f;++d)u[g++]=t4[d];y=new ARCFourCipher(b),w=y.encryptBlock(s(u,0,g)),f=b.length;const a4=new Uint8Array(f);for(d=1;d<=19;++d){for(let e4=0;e4<f;++e4)a4[e4]=b[e4]^d;y=new ARCFourCipher(a4),w=y.encryptBlock(w)}for(d=0,f=w.length;d<f;++d)if(n2[d]!==w[d])return null}else for(y=new ARCFourCipher(b),w=y.encryptBlock(e3),d=0,f=w.length;d<f;++d)if(n2[d]!==w[d])return null;return b}const t3=n.Name.get("Identity");function buildObjectKey(e4,t4,a3,r2=!1){const n2=new Uint8Array(a3.length+9),i2=a3.length;let o2;for(o2=0;o2<i2;++o2)n2[o2]=a3[o2];return n2[o2++]=255&e4,n2[o2++]=e4>>8&255,n2[o2++]=e4>>16&255,n2[o2++]=255&t4,n2[o2++]=t4>>8&255,r2&&(n2[o2++]=115,n2[o2++]=65,n2[o2++]=108,n2[o2++]=84),s(n2,0,o2).subarray(0,Math.min(a3.length+5,16))}function buildCipherConstructor(e4,t4,a3,i2,s2){if(!(t4 instanceof n.Name))throw new r.FormatError("Invalid crypt filter name.");const o2=e4.get(t4.name);let c2;if(null!=o2&&(c2=o2.get("CFM")),!c2||"None"===c2.name)return function(){return new NullCipher};if("V2"===c2.name)return function(){return new ARCFourCipher(buildObjectKey(a3,i2,s2,!1))};if("AESV2"===c2.name)return function(){return new AES128Cipher(buildObjectKey(a3,i2,s2,!0))};if("AESV3"===c2.name)return function(){return new AES256Cipher(s2)};throw new r.FormatError("Unknown crypto method")}return class{constructor(a3,i2,o2){const c2=a3.get("Filter");if(!(0,n.isName)(c2,"Standard"))throw new r.FormatError("unknown encryption method");this.filterName=c2.name,this.dict=a3;const h2=a3.get("V");if(!Number.isInteger(h2)||1!==h2&&2!==h2&&4!==h2&&5!==h2)throw new r.FormatError("unsupported encryption algorithm");this.algorithm=h2;let u=a3.get("Length");if(!u)if(h2<=3)u=40;else{const e4=a3.get("CF"),t4=a3.get("StmF");if(e4 instanceof n.Dict&&t4 instanceof n.Name){e4.suppressEncryption=!0;const a4=e4.get(t4.name);u=a4&&a4.get("Length")||128,u<40&&(u<<=3)}}if(!Number.isInteger(u)||u<40||u%8!=0)throw new r.FormatError("invalid key length");const d=(0,r.stringToBytes)(a3.get("O")).subarray(0,32),f=(0,r.stringToBytes)(a3.get("U")).subarray(0,32),g=a3.get("P"),p=a3.get("R"),m=(4===h2||5===h2)&&!1!==a3.get("EncryptMetadata");this.encryptMetadata=m;const b=(0,r.stringToBytes)(i2);let y,w;if(o2){if(6===p)try{o2=(0,r.utf8StringToString)(o2)}catch{(0,r.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}y=(0,r.stringToBytes)(o2)}if(5!==h2)w=prepareKeyData(b,y,d,f,g,p,u,m);else{const e4=(0,r.stringToBytes)(a3.get("O")).subarray(32,40),t4=(0,r.stringToBytes)(a3.get("O")).subarray(40,48),n2=(0,r.stringToBytes)(a3.get("U")).subarray(0,48),i3=(0,r.stringToBytes)(a3.get("U")).subarray(32,40),s2=(0,r.stringToBytes)(a3.get("U")).subarray(40,48),o3=(0,r.stringToBytes)(a3.get("OE")),c3=(0,r.stringToBytes)(a3.get("UE"));(0,r.stringToBytes)(a3.get("Perms")),w=function(e5,t5,a4,r2,n3,i4,s3,o4,c4,h3,u2,d2){if(t5){const e6=Math.min(127,t5.length);t5=t5.subarray(0,e6)}else t5=[];let f2;return f2=6===e5?new l:new PDF17,f2.checkUserPassword(t5,o4,s3)?f2.getUserKey(t5,c4,u2):t5.length&&f2.checkOwnerPassword(t5,r2,i4,a4)?f2.getOwnerKey(t5,n3,i4,h3):null}(p,y,d,e4,t4,n2,f,i3,s2,o3,c3)}if(!w&&!o2)throw new r.PasswordException("No password given",r.PasswordResponses.NEED_PASSWORD);if(!w&&o2&&(w=prepareKeyData(b,function(t5,a4,r2,n2){const i3=new Uint8Array(32);let o3=0;const c3=Math.min(32,t5.length);for(;o3<c3;++o3)i3[o3]=t5[o3];let l2=0;for(;o3<32;)i3[o3++]=e3[l2++];let h3=s(i3,0,o3);const u2=n2>>3;if(r2>=3)for(l2=0;l2<50;++l2)h3=s(h3,0,h3.length);let d2,f2;if(r2>=3){f2=a4;const e4=new Uint8Array(u2);for(l2=19;l2>=0;l2--){for(let t6=0;t6<u2;++t6)e4[t6]=h3[t6]^l2;d2=new ARCFourCipher(e4),f2=d2.encryptBlock(f2)}}else d2=new ARCFourCipher(h3.subarray(0,u2)),f2=d2.encryptBlock(a4);return f2}(y,d,p,u),d,f,g,p,u,m)),!w)throw new r.PasswordException("Incorrect Password",r.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=w,h2>=4){const e4=a3.get("CF");e4 instanceof n.Dict&&(e4.suppressEncryption=!0),this.cf=e4,this.stmf=a3.get("StmF")||t3,this.strf=a3.get("StrF")||t3,this.eff=a3.get("EFF")||this.stmf}}createCipherTransform(e4,t4){if(4===this.algorithm||5===this.algorithm)return new CipherTransform(buildCipherConstructor(this.cf,this.strf,e4,t4,this.encryptionKey),buildCipherConstructor(this.cf,this.stmf,e4,t4,this.encryptionKey));const a3=buildObjectKey(e4,t4,this.encryptionKey,!1),r2=function(){return new ARCFourCipher(a3)};return new CipherTransform(r2,r2)}}}();t2.CipherTransformFactory=h},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.DecryptStream=void 0;var r=a2(19);t2.DecryptStream=class DecryptStream extends r.DecodeStream{constructor(e3,t3,a3){super(t3),this.str=e3,this.dict=e3.dict,this.decrypt=a3,this.nextChunk=null,this.initialized=!1}readBlock(){let e3;if(this.initialized?e3=this.nextChunk:(e3=this.str.getBytes(512),this.initialized=!0),!e3||0===e3.length)return void(this.eof=!0);this.nextChunk=this.str.getBytes(512),e3=(0,this.decrypt)(e3,!(this.nextChunk&&this.nextChunk.length>0));let a3=this.bufferLength;const r2=e3.length,n=this.ensureBuffer(a3+r2);for(let t4=0;t4<r2;t4++)n[a3++]=e3[t4];this.bufferLength=a3}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.Catalog=void 0;var r=a2(6),n=a2(2),i=a2(5),s=a2(70),o=a2(7),c=a2(71),l=a2(14),h=a2(72),u=a2(59),d=a2(73),f=a2(74);function fetchDestination(e3){return e3 instanceof i.Dict&&(e3=e3.get("D")),Array.isArray(e3)?e3:null}class Catalog{constructor(e3,t3){if(this.pdfManager=e3,this.xref=t3,this._catDict=t3.getCatalogObj(),!(this._catDict instanceof i.Dict))throw new n.FormatError("Catalog object is not a dictionary.");this._actualNumPages=null,this.fontCache=new i.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new u.GlobalImageCache,this.pageKidsCountCache=new i.RefSetCache,this.pageIndexCache=new i.RefSetCache,this.nonBlendModesSet=new i.RefSet}get version(){const e3=this._catDict.get("Version");return(0,n.shadow)(this,"version",e3 instanceof i.Name?e3.name:null)}get lang(){const e3=this._catDict.get("Lang");return(0,n.shadow)(this,"lang","string"==typeof e3?(0,n.stringToPDFString)(e3):null)}get needsRendering(){const e3=this._catDict.get("NeedsRendering");return(0,n.shadow)(this,"needsRendering","boolean"==typeof e3&&e3)}get collection(){let e3=null;try{const t3=this._catDict.get("Collection");t3 instanceof i.Dict&&t3.size>0&&(e3=t3)}catch(e4){if(e4 instanceof r.MissingDataException)throw e4;(0,n.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,n.shadow)(this,"collection",e3)}get acroForm(){let e3=null;try{const t3=this._catDict.get("AcroForm");t3 instanceof i.Dict&&t3.size>0&&(e3=t3)}catch(e4){if(e4 instanceof r.MissingDataException)throw e4;(0,n.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,n.shadow)(this,"acroForm",e3)}get acroFormRef(){const e3=this._catDict.getRaw("AcroForm");return(0,n.shadow)(this,"acroFormRef",e3 instanceof i.Ref?e3:null)}get metadata(){const e3=this._catDict.getRaw("Metadata");if(!(e3 instanceof i.Ref))return(0,n.shadow)(this,"metadata",null);let t3=null;try{const r2=this.xref.fetch(e3,!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata));if(r2 instanceof o.BaseStream&&r2.dict instanceof i.Dict){const e4=r2.dict.get("Type"),a4=r2.dict.get("Subtype");if((0,i.isName)(e4,"Metadata")&&(0,i.isName)(a4,"XML")){const e5=(0,n.stringToUTF8String)(r2.getString());e5&&(t3=new d.MetadataParser(e5).serializable)}}}catch(e4){if(e4 instanceof r.MissingDataException)throw e4;(0,n.info)(`Skipping invalid Metadata: "${e4}".`)}return(0,n.shadow)(this,"metadata",t3)}get markInfo(){let e3=null;try{e3=this._readMarkInfo()}catch(e4){if(e4 instanceof r.MissingDataException)throw e4;(0,n.warn)("Unable to read mark info.")}return(0,n.shadow)(this,"markInfo",e3)}_readMarkInfo(){const e3=this._catDict.get("MarkInfo");if(!(e3 instanceof i.Dict))return null;const t3={Marked:!1,UserProperties:!1,Suspects:!1};for(const a3 in t3){const r2=e3.get(a3);"boolean"==typeof r2&&(t3[a3]=r2)}return t3}get structTreeRoot(){let e3=null;try{e3=this._readStructTreeRoot()}catch(e4){if(e4 instanceof r.MissingDataException)throw e4;(0,n.warn)("Unable read to structTreeRoot info.")}return(0,n.shadow)(this,"structTreeRoot",e3)}_readStructTreeRoot(){const e3=this._catDict.get("StructTreeRoot");if(!(e3 instanceof i.Dict))return null;const t3=new f.StructTreeRoot(e3);return t3.init(),t3}get toplevelPagesDict(){const e3=this._catDict.get("Pages");if(!(e3 instanceof i.Dict))throw new n.FormatError("Invalid top-level pages dictionary.");return(0,n.shadow)(this,"toplevelPagesDict",e3)}get documentOutline(){let e3=null;try{e3=this._readDocumentOutline()}catch(e4){if(e4 instanceof r.MissingDataException)throw e4;(0,n.warn)("Unable to read document outline.")}return(0,n.shadow)(this,"documentOutline",e3)}_readDocumentOutline(){let e3=this._catDict.get("Outlines");if(!(e3 instanceof i.Dict&&(e3=e3.getRaw("First"),e3 instanceof i.Ref)))return null;const t3={items:[]},a3=[{obj:e3,parent:t3}],r2=new i.RefSet;r2.put(e3);const s2=this.xref,o2=new Uint8ClampedArray(3);for(;a3.length>0;){const t4=a3.shift(),c2=s2.fetchIfRef(t4.obj);if(null===c2)continue;if(!c2.has("Title"))throw new n.FormatError("Invalid outline item encountered.");const h2={url:null,dest:null};Catalog.parseDestDictionary({destDict:c2,resultObj:h2,docBaseUrl:this.pdfManager.docBaseUrl});const u2=c2.get("Title"),d2=c2.get("F")||0,f2=c2.getArray("C"),g=c2.get("Count");let p=o2;!Array.isArray(f2)||3!==f2.length||0===f2[0]&&0===f2[1]&&0===f2[2]||(p=l.ColorSpace.singletons.rgb.getRgb(f2,0));const m={dest:h2.dest,url:h2.url,unsafeUrl:h2.unsafeUrl,newWindow:h2.newWindow,title:(0,n.stringToPDFString)(u2),color:p,count:Number.isInteger(g)?g:void 0,bold:!!(2&d2),italic:!!(1&d2),items:[]};t4.parent.items.push(m),e3=c2.getRaw("First"),e3 instanceof i.Ref&&!r2.has(e3)&&(a3.push({obj:e3,parent:m}),r2.put(e3)),e3=c2.getRaw("Next"),e3 instanceof i.Ref&&!r2.has(e3)&&(a3.push({obj:e3,parent:t4.parent}),r2.put(e3))}return t3.items.length>0?t3.items:null}get permissions(){let e3=null;try{e3=this._readPermissions()}catch(e4){if(e4 instanceof r.MissingDataException)throw e4;(0,n.warn)("Unable to read permissions.")}return(0,n.shadow)(this,"permissions",e3)}_readPermissions(){const e3=this.xref.trailer.get("Encrypt");if(!(e3 instanceof i.Dict))return null;let t3=e3.get("P");if("number"!=typeof t3)return null;t3+=4294967296;const a3=[];for(const e4 in n.PermissionFlag){const r2=n.PermissionFlag[e4];t3&r2&&a3.push(r2)}return a3}get optionalContentConfig(){let e3=null;try{const t3=this._catDict.get("OCProperties");if(!t3)return(0,n.shadow)(this,"optionalContentConfig",null);const a3=t3.get("D");if(!a3)return(0,n.shadow)(this,"optionalContentConfig",null);const r2=t3.get("OCGs");if(!Array.isArray(r2))return(0,n.shadow)(this,"optionalContentConfig",null);const s2=[],o2=[];for(const e4 of r2){if(!(e4 instanceof i.Ref))continue;o2.push(e4);const t4=this.xref.fetchIfRef(e4);s2.push({id:e4.toString(),name:"string"==typeof t4.get("Name")?(0,n.stringToPDFString)(t4.get("Name")):null,intent:"string"==typeof t4.get("Intent")?(0,n.stringToPDFString)(t4.get("Intent")):null})}e3=this._readOptionalContentConfig(a3,o2),e3.groups=s2}catch(e4){if(e4 instanceof r.MissingDataException)throw e4;(0,n.warn)(`Unable to read optional content config: ${e4}`)}return(0,n.shadow)(this,"optionalContentConfig",e3)}_readOptionalContentConfig(e3,t3){function parseOnOff(e4){const a4=[];if(Array.isArray(e4))for(const r3 of e4)r3 instanceof i.Ref&&t3.includes(r3)&&a4.push(r3.toString());return a4}function parseOrder(e4,a4=0){if(!Array.isArray(e4))return null;const n2=[];for(const s4 of e4){if(s4 instanceof i.Ref&&t3.includes(s4)){r2.put(s4),n2.push(s4.toString());continue}const e5=parseNestedOrder(s4,a4);e5&&n2.push(e5)}if(a4>0)return n2;const s3=[];for(const e5 of t3)r2.has(e5)||s3.push(e5.toString());return s3.length&&n2.push({name:null,order:s3}),n2}function parseNestedOrder(e4,t4){if(++t4>s2)return(0,n.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const r3=a3.fetchIfRef(e4);if(!Array.isArray(r3))return null;const i2=a3.fetchIfRef(r3[0]);if("string"!=typeof i2)return null;const o2=parseOrder(r3.slice(1),t4);return o2&&o2.length?{name:(0,n.stringToPDFString)(i2),order:o2}:null}const a3=this.xref,r2=new i.RefSet,s2=10;return{name:"string"==typeof e3.get("Name")?(0,n.stringToPDFString)(e3.get("Name")):null,creator:"string"==typeof e3.get("Creator")?(0,n.stringToPDFString)(e3.get("Creator")):null,baseState:e3.get("BaseState")instanceof i.Name?e3.get("BaseState").name:null,on:parseOnOff(e3.get("ON")),off:parseOnOff(e3.get("OFF")),order:parseOrder(e3.get("Order")),groups:null}}setActualNumPages(e3=null){this._actualNumPages=e3}get hasActualNumPages(){return null!==this._actualNumPages}get _pagesCount(){const e3=this.toplevelPagesDict.get("Count");if(!Number.isInteger(e3))throw new n.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,n.shadow)(this,"_pagesCount",e3)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const e3=this._readDests(),t3=Object.create(null);if(e3 instanceof s.NameTree)for(const[a3,r2]of e3.getAll()){const e4=fetchDestination(r2);e4&&(t3[(0,n.stringToPDFString)(a3)]=e4)}else e3 instanceof i.Dict&&e3.forEach(function(e4,a3){const r2=fetchDestination(a3);r2&&(t3[e4]=r2)});return(0,n.shadow)(this,"destinations",t3)}getDestination(e3){const t3=this._readDests();if(t3 instanceof s.NameTree){const a3=fetchDestination(t3.get(e3));if(a3)return a3;const r2=this.destinations[e3];if(r2)return(0,n.warn)(`Found "${e3}" at an incorrect position in the NameTree.`),r2}else if(t3 instanceof i.Dict){const a3=fetchDestination(t3.get(e3));if(a3)return a3}return null}_readDests(){const e3=this._catDict.get("Names");return e3&&e3.has("Dests")?new s.NameTree(e3.getRaw("Dests"),this.xref):this._catDict.has("Dests")?this._catDict.get("Dests"):void 0}get pageLabels(){let e3=null;try{e3=this._readPageLabels()}catch(e4){if(e4 instanceof r.MissingDataException)throw e4;(0,n.warn)("Unable to read page labels.")}return(0,n.shadow)(this,"pageLabels",e3)}_readPageLabels(){const e3=this._catDict.getRaw("PageLabels");if(!e3)return null;const t3=new Array(this.numPages);let a3=null,o2="";const c2=new s.NumberTree(e3,this.xref).getAll();let l2="",h2=1;for(let e4=0,s2=this.numPages;e4<s2;e4++){const s3=c2.get(e4);if(void 0!==s3){if(!(s3 instanceof i.Dict))throw new n.FormatError("PageLabel is not a dictionary.");if(s3.has("Type")&&!(0,i.isName)(s3.get("Type"),"PageLabel"))throw new n.FormatError("Invalid type in PageLabel dictionary.");if(s3.has("S")){const e5=s3.get("S");if(!(e5 instanceof i.Name))throw new n.FormatError("Invalid style in PageLabel dictionary.");a3=e5.name}else a3=null;if(s3.has("P")){const e5=s3.get("P");if("string"!=typeof e5)throw new n.FormatError("Invalid prefix in PageLabel dictionary.");o2=(0,n.stringToPDFString)(e5)}else o2="";if(s3.has("St")){const e5=s3.get("St");if(!(Number.isInteger(e5)&&e5>=1))throw new n.FormatError("Invalid start in PageLabel dictionary.");h2=e5}else h2=1}switch(a3){case"D":l2=h2;break;case"R":case"r":l2=(0,r.toRomanNumerals)(h2,"r"===a3);break;case"A":case"a":const e5=26,o3=h2-1;l2=String.fromCharCode(("a"===a3?97:65)+o3%e5).repeat(Math.floor(o3/e5)+1);break;default:if(a3)throw new n.FormatError(`Invalid style "${a3}" in PageLabel dictionary.`);l2=""}t3[e4]=o2+l2,h2++}return t3}get pageLayout(){const e3=this._catDict.get("PageLayout");let t3="";if(e3 instanceof i.Name)switch(e3.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":t3=e3.name}return(0,n.shadow)(this,"pageLayout",t3)}get pageMode(){const e3=this._catDict.get("PageMode");let t3="UseNone";if(e3 instanceof i.Name)switch(e3.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":t3=e3.name}return(0,n.shadow)(this,"pageMode",t3)}get viewerPreferences(){const e3=this._catDict.get("ViewerPreferences");if(!(e3 instanceof i.Dict))return(0,n.shadow)(this,"viewerPreferences",null);let t3=null;for(const a3 of e3.getKeys()){const r2=e3.get(a3);let s2;switch(a3){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":"boolean"==typeof r2&&(s2=r2);break;case"NonFullScreenPageMode":if(r2 instanceof i.Name)switch(r2.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":s2=r2.name;break;default:s2="UseNone"}break;case"Direction":if(r2 instanceof i.Name)switch(r2.name){case"L2R":case"R2L":s2=r2.name;break;default:s2="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(r2 instanceof i.Name)switch(r2.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":s2=r2.name;break;default:s2="CropBox"}break;case"PrintScaling":if(r2 instanceof i.Name)switch(r2.name){case"None":case"AppDefault":s2=r2.name;break;default:s2="AppDefault"}break;case"Duplex":if(r2 instanceof i.Name)switch(r2.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":s2=r2.name;break;default:s2="None"}break;case"PrintPageRange":Array.isArray(r2)&&r2.length%2==0&&r2.every((e4,t4,a4)=>Number.isInteger(e4)&&e4>0&&(0===t4||e4>=a4[t4-1])&&e4<=this.numPages)&&(s2=r2);break;case"NumCopies":Number.isInteger(r2)&&r2>0&&(s2=r2);break;default:(0,n.warn)(`Ignoring non-standard key in ViewerPreferences: ${a3}.`);continue}void 0!==s2?(t3||(t3=Object.create(null)),t3[a3]=s2):(0,n.warn)(`Bad value, for key "${a3}", in ViewerPreferences: ${r2}.`)}return(0,n.shadow)(this,"viewerPreferences",t3)}get openAction(){const e3=this._catDict.get("OpenAction"),t3=Object.create(null);if(e3 instanceof i.Dict){const a3=new i.Dict(this.xref);a3.set("A",e3);const r2={url:null,dest:null,action:null};Catalog.parseDestDictionary({destDict:a3,resultObj:r2}),Array.isArray(r2.dest)?t3.dest=r2.dest:r2.action&&(t3.action=r2.action)}else Array.isArray(e3)&&(t3.dest=e3);return(0,n.shadow)(this,"openAction",(0,n.objectSize)(t3)>0?t3:null)}get attachments(){const e3=this._catDict.get("Names");let t3=null;if(e3 instanceof i.Dict&&e3.has("EmbeddedFiles")){const a3=new s.NameTree(e3.getRaw("EmbeddedFiles"),this.xref);for(const[e4,r2]of a3.getAll()){const a4=new h.FileSpec(r2,this.xref);t3||(t3=Object.create(null)),t3[(0,n.stringToPDFString)(e4)]=a4.serializable}}return(0,n.shadow)(this,"attachments",t3)}get xfaImages(){const e3=this._catDict.get("Names");let t3=null;if(e3 instanceof i.Dict&&e3.has("XFAImages")){const a3=new s.NameTree(e3.getRaw("XFAImages"),this.xref);for(const[e4,r2]of a3.getAll())t3||(t3=new i.Dict(this.xref)),t3.set((0,n.stringToPDFString)(e4),r2)}return(0,n.shadow)(this,"xfaImages",t3)}_collectJavaScript(){const e3=this._catDict.get("Names");let t3=null;function appendIfJavaScriptDict(e4,a4){if(!(a4 instanceof i.Dict&&(0,i.isName)(a4.get("S"),"JavaScript")))return;let r2=a4.get("JS");if(r2 instanceof o.BaseStream)r2=r2.getString();else if("string"!=typeof r2)return;null===t3&&(t3=new Map),r2=(0,n.stringToPDFString)(r2).replace(/\u0000/g,""),t3.set(e4,r2)}if(e3 instanceof i.Dict&&e3.has("JavaScript")){const t4=new s.NameTree(e3.getRaw("JavaScript"),this.xref);for(const[e4,a4]of t4.getAll())appendIfJavaScriptDict((0,n.stringToPDFString)(e4),a4)}const a3=this._catDict.get("OpenAction");return a3&&appendIfJavaScriptDict("OpenAction",a3),t3}get javaScript(){const e3=this._collectJavaScript();return(0,n.shadow)(this,"javaScript",e3?[...e3.values()]:null)}get jsActions(){const e3=this._collectJavaScript();let t3=(0,r.collectActions)(this.xref,this._catDict,n.DocumentActionEventType);if(e3){t3||(t3=Object.create(null));for(const[a3,r2]of e3)a3 in t3?t3[a3].push(r2):t3[a3]=[r2]}return(0,n.shadow)(this,"jsActions",t3)}fontFallback(e3,t3){var _this36=this;return _asyncToGenerator2(function*(){const a3=yield Promise.all(_this36.fontCache);for(const r2 of a3)if(r2.loadedName===e3)return void r2.fallback(t3)})()}cleanup(e3=!1){var _this37=this;return _asyncToGenerator2(function*(){(0,c.clearGlobalCaches)(),_this37.globalImageCache.clear(e3),_this37.pageKidsCountCache.clear(),_this37.pageIndexCache.clear(),_this37.nonBlendModesSet.clear();const t3=yield Promise.all(_this37.fontCache);for(const{dict:e4}of t3)delete e4.cacheKey;_this37.fontCache.clear(),_this37.builtInCMapCache.clear(),_this37.standardFontDataCache.clear()})()}getPageDict(e3){var _this38=this;return _asyncToGenerator2(function*(){const t3=[_this38.toplevelPagesDict],a3=new i.RefSet,r2=_this38._catDict.getRaw("Pages");r2 instanceof i.Ref&&a3.put(r2);const s2=_this38.xref,o2=_this38.pageKidsCountCache,c2=_this38.pageIndexCache;let l2=0;for(;t3.length;){const r3=t3.pop();if(r3 instanceof i.Ref){const h3=o2.get(r3);if(h3>=0&&l2+h3<=e3){l2+=h3;continue}if(a3.has(r3))throw new n.FormatError("Pages tree contains circular reference.");a3.put(r3);const u3=yield s2.fetchAsync(r3);if(u3 instanceof i.Dict){let t4=u3.getRaw("Type");if(t4 instanceof i.Ref&&(t4=yield s2.fetchAsync(t4)),(0,i.isName)(t4,"Page")||!u3.has("Kids")){if(o2.has(r3)||o2.put(r3,1),c2.has(r3)||c2.put(r3,l2),l2===e3)return[u3,r3];l2++;continue}}t3.push(u3);continue}if(!(r3 instanceof i.Dict))throw new n.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:h2}=r3;let u2=r3.getRaw("Count");if(u2 instanceof i.Ref&&(u2=yield s2.fetchAsync(u2)),Number.isInteger(u2)&&u2>=0&&(h2&&!o2.has(h2)&&o2.put(h2,u2),l2+u2<=e3)){l2+=u2;continue}let d2=r3.getRaw("Kids");if(d2 instanceof i.Ref&&(d2=yield s2.fetchAsync(d2)),!Array.isArray(d2)){let t4=r3.getRaw("Type");if(t4 instanceof i.Ref&&(t4=yield s2.fetchAsync(t4)),(0,i.isName)(t4,"Page")||!r3.has("Kids")){if(l2===e3)return[r3,null];l2++;continue}throw new n.FormatError("Page dictionary kids object is not an array.")}for(let e4=d2.length-1;e4>=0;e4--)t3.push(d2[e4])}throw new Error(`Page index ${e3} not found.`)})()}getAllPageDicts(e3=!1){var _this39=this;return _asyncToGenerator2(function*(){const t3=[{currentNode:_this39.toplevelPagesDict,posInKids:0}],a3=new i.RefSet,s2=_this39._catDict.getRaw("Pages");s2 instanceof i.Ref&&a3.put(s2);const o2=new Map,c2=_this39.xref,l2=_this39.pageIndexCache;let h2=0;function addPageDict(e4,t4){t4&&!l2.has(t4)&&l2.put(t4,h2),o2.set(h2++,[e4,t4])}function addPageError(t4){if(t4 instanceof r.XRefEntryException&&!e3)throw t4;o2.set(h2++,[t4,null])}for(;t3.length>0;){const e4=t3.at(-1),{currentNode:r2,posInKids:s3}=e4;let o3=r2.getRaw("Kids");if(o3 instanceof i.Ref)try{o3=yield c2.fetchAsync(o3)}catch(e5){addPageError(e5);break}if(!Array.isArray(o3)){addPageError(new n.FormatError("Page dictionary kids object is not an array."));break}if(s3>=o3.length){t3.pop();continue}const l3=o3[s3];let h3;if(l3 instanceof i.Ref){if(a3.has(l3)){addPageError(new n.FormatError("Pages tree contains circular reference."));break}a3.put(l3);try{h3=yield c2.fetchAsync(l3)}catch(e5){addPageError(e5);break}}else h3=l3;if(!(h3 instanceof i.Dict)){addPageError(new n.FormatError("Page dictionary kid reference points to wrong type of object."));break}let u2=h3.getRaw("Type");if(u2 instanceof i.Ref)try{u2=yield c2.fetchAsync(u2)}catch(e5){addPageError(e5);break}(0,i.isName)(u2,"Page")||!h3.has("Kids")?addPageDict(h3,l3 instanceof i.Ref?l3:null):t3.push({currentNode:h3,posInKids:0}),e4.posInKids++}return o2})()}getPageIndex(e3){const t3=this.pageIndexCache.get(e3);if(void 0!==t3)return Promise.resolve(t3);const a3=this.xref;let r2=0;const next=t4=>function(t5){let r3,s2=0;return a3.fetchAsync(t5).then(function(a4){if((0,i.isRefsEqual)(t5,e3)&&!(0,i.isDict)(a4,"Page")&&!(a4 instanceof i.Dict&&!a4.has("Type")&&a4.has("Contents")))throw new n.FormatError("The reference does not point to a /Page dictionary.");if(!a4)return null;if(!(a4 instanceof i.Dict))throw new n.FormatError("Node must be a dictionary.");return r3=a4.getRaw("Parent"),a4.getAsync("Parent")}).then(function(e4){if(!e4)return null;if(!(e4 instanceof i.Dict))throw new n.FormatError("Parent must be a dictionary.");return e4.getAsync("Kids")}).then(function(e4){if(!e4)return null;const o2=[];let c2=!1;for(let r4=0,l2=e4.length;r4<l2;r4++){const l3=e4[r4];if(!(l3 instanceof i.Ref))throw new n.FormatError("Kid must be a reference.");if((0,i.isRefsEqual)(l3,t5)){c2=!0;break}o2.push(a3.fetchAsync(l3).then(function(e5){if(!(e5 instanceof i.Dict))throw new n.FormatError("Kid node must be a dictionary.");e5.has("Count")?s2+=e5.get("Count"):s2++}))}if(!c2)throw new n.FormatError("Kid reference not found in parent's kids.");return Promise.all(o2).then(function(){return[s2,r3]})})}(t4).then(t5=>{if(!t5)return this.pageIndexCache.put(e3,r2),r2;const[a4,n2]=t5;return r2+=a4,next(n2)});return next(e3)}get baseUrl(){const e3=this._catDict.get("URI");if(e3 instanceof i.Dict){const t3=e3.get("Base");if("string"==typeof t3){const e4=(0,n.createValidAbsoluteUrl)(t3,null,{tryConvertEncoding:!0});if(e4)return(0,n.shadow)(this,"baseUrl",e4.href)}}return(0,n.shadow)(this,"baseUrl",null)}static parseDestDictionary(e3){const t3=e3.destDict;if(!(t3 instanceof i.Dict))return void(0,n.warn)("parseDestDictionary: `destDict` must be a dictionary.");const a3=e3.resultObj;if("object"!=typeof a3)return void(0,n.warn)("parseDestDictionary: `resultObj` must be an object.");const s2=e3.docBaseUrl||null;let c2,l2,h2=t3.get("A");if(h2 instanceof i.Dict||(t3.has("Dest")?h2=t3.get("Dest"):(h2=t3.get("AA"),h2 instanceof i.Dict&&(h2.has("D")?h2=h2.get("D"):h2.has("U")&&(h2=h2.get("U"))))),h2 instanceof i.Dict){const e4=h2.get("S");if(!(e4 instanceof i.Name))return void(0,n.warn)("parseDestDictionary: Invalid type in Action dictionary.");const t4=e4.name;switch(t4){case"ResetForm":const e5=h2.get("Flags"),s3=!(1&("number"==typeof e5?e5:0)),u2=[],d2=[];for(const e6 of h2.get("Fields")||[])e6 instanceof i.Ref?d2.push(e6.toString()):"string"==typeof e6&&u2.push((0,n.stringToPDFString)(e6));a3.resetForm={fields:u2,refs:d2,include:s3};break;case"URI":c2=h2.get("URI"),c2 instanceof i.Name&&(c2="/"+c2.name);break;case"GoTo":l2=h2.get("D");break;case"Launch":case"GoToR":const f2=h2.get("F");f2 instanceof i.Dict?c2=f2.get("F")||null:"string"==typeof f2&&(c2=f2);let g=h2.get("D");if(g&&(g instanceof i.Name&&(g=g.name),"string"==typeof c2)){const e6=c2.split("#")[0];"string"==typeof g?c2=e6+"#"+g:Array.isArray(g)&&(c2=e6+"#"+JSON.stringify(g))}const p=h2.get("NewWindow");"boolean"==typeof p&&(a3.newWindow=p);break;case"Named":const m=h2.get("N");m instanceof i.Name&&(a3.action=m.name);break;case"JavaScript":const b=h2.get("JS");let y;b instanceof o.BaseStream?y=b.getString():"string"==typeof b&&(y=b);const w=y&&(0,r.recoverJsURL)((0,n.stringToPDFString)(y));if(w){c2=w.url,a3.newWindow=w.newWindow;break}default:if("JavaScript"===t4||"SubmitForm"===t4)break;(0,n.warn)(`parseDestDictionary - unsupported action: "${t4}".`)}}else t3.has("Dest")&&(l2=t3.get("Dest"));if("string"==typeof c2){const e4=(0,n.createValidAbsoluteUrl)(c2,s2,{addDefaultProtocol:!0,tryConvertEncoding:!0});e4&&(a3.url=e4.href),a3.unsafeUrl=c2}l2&&(l2 instanceof i.Name&&(l2=l2.name),"string"==typeof l2?a3.dest=(0,n.stringToPDFString)(l2):Array.isArray(l2)&&(a3.dest=l2))}}t2.Catalog=Catalog},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.NumberTree=t2.NameTree=void 0;var r=a2(5),n=a2(2);class NameOrNumberTree{constructor(e3,t3,a3){this.constructor===NameOrNumberTree&&(0,n.unreachable)("Cannot initialize NameOrNumberTree."),this.root=e3,this.xref=t3,this._type=a3}getAll(){const e3=new Map;if(!this.root)return e3;const t3=this.xref,a3=new r.RefSet;a3.put(this.root);const i=[this.root];for(;i.length>0;){const s=t3.fetchIfRef(i.shift());if(!(s instanceof r.Dict))continue;if(s.has("Kids")){const e4=s.get("Kids");if(!Array.isArray(e4))continue;for(const t4 of e4){if(a3.has(t4))throw new n.FormatError(`Duplicate entry in "${this._type}" tree.`);i.push(t4),a3.put(t4)}continue}const o=s.get(this._type);if(Array.isArray(o))for(let a4=0,r2=o.length;a4<r2;a4+=2)e3.set(t3.fetchIfRef(o[a4]),t3.fetchIfRef(o[a4+1]))}return e3}get(e3){if(!this.root)return null;const t3=this.xref;let a3=t3.fetchIfRef(this.root),r2=0;for(;a3.has("Kids");){if(++r2>10)return(0,n.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const i2=a3.get("Kids");if(!Array.isArray(i2))return null;let s=0,o=i2.length-1;for(;s<=o;){const r3=s+o>>1,n2=t3.fetchIfRef(i2[r3]),c=n2.get("Limits");if(e3<t3.fetchIfRef(c[0]))o=r3-1;else{if(!(e3>t3.fetchIfRef(c[1]))){a3=n2;break}s=r3+1}}if(s>o)return null}const i=a3.get(this._type);if(Array.isArray(i)){let a4=0,r3=i.length-2;for(;a4<=r3;){const n2=a4+r3>>1,s=n2+(1&n2),o=t3.fetchIfRef(i[s]);if(e3<o)r3=s-2;else{if(!(e3>o))return t3.fetchIfRef(i[s+1]);a4=s+2}}}return null}}t2.NameTree=class extends NameOrNumberTree{constructor(e3,t3){super(e3,t3,"Names")}},t2.NumberTree=class extends NameOrNumberTree{constructor(e3,t3){super(e3,t3,"Nums")}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.clearGlobalCaches=function(){(0,r.clearPrimitiveCaches)(),(0,n.clearUnicodeCaches)()};var r=a2(5),n=a2(40)},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.FileSpec=void 0;var r=a2(2),n=a2(7),i=a2(5);function pickPlatformItem(e3){return e3.has("UF")?e3.get("UF"):e3.has("F")?e3.get("F"):e3.has("Unix")?e3.get("Unix"):e3.has("Mac")?e3.get("Mac"):e3.has("DOS")?e3.get("DOS"):null}t2.FileSpec=class{constructor(e3,t3){e3 instanceof i.Dict&&(this.xref=t3,this.root=e3,e3.has("FS")&&(this.fs=e3.get("FS")),this.description=e3.has("Desc")?(0,r.stringToPDFString)(e3.get("Desc")):"",e3.has("RF")&&(0,r.warn)("Related file specifications are not supported"),this.contentAvailable=!0,e3.has("EF")||(this.contentAvailable=!1,(0,r.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const e3=pickPlatformItem(this.root)||"unnamed";this._filename=(0,r.stringToPDFString)(e3).replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\/g,"/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=pickPlatformItem(this.root.get("EF")));let e3=null;if(this.contentRef){const t3=this.xref.fetchIfRef(this.contentRef);t3 instanceof n.BaseStream?e3=t3.getBytes():(0,r.warn)("Embedded file specification points to non-existing/invalid content")}else(0,r.warn)("Embedded file specification does not have a content");return e3}get serializable(){return{filename:this.filename,content:this.content}}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.MetadataParser=void 0;var r=a2(66);t2.MetadataParser=class{constructor(e3){e3=this._repair(e3);const t3=new r.SimpleXMLParser({lowerCaseName:!0}).parseFromString(e3);this._metadataMap=new Map,this._data=e3,t3&&this._parse(t3)}_repair(e3){return e3.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(e4,t3){const a3=t3.replace(/\\([0-3])([0-7])([0-7])/g,function(e5,t4,a4,r3){return String.fromCharCode(64*t4+8*a4+1*r3)}).replace(/&(amp|apos|gt|lt|quot);/g,function(e5,t4){switch(t4){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${t4} isn't defined.`)}),r2=[];for(let e5=0,t4=a3.length;e5<t4;e5+=2){const t5=256*a3.charCodeAt(e5)+a3.charCodeAt(e5+1);r2.push(t5>=32&&t5<127&&60!==t5&&62!==t5&&38!==t5?String.fromCharCode(t5):"&#x"+(65536+t5).toString(16).substring(1)+";")}return">"+r2.join("")})}_getSequence(e3){const t3=e3.nodeName;return"rdf:bag"!==t3&&"rdf:seq"!==t3&&"rdf:alt"!==t3?null:e3.childNodes.filter(e4=>"rdf:li"===e4.nodeName)}_parseArray(e3){if(!e3.hasChildNodes())return;const[t3]=e3.childNodes,a3=this._getSequence(t3)||[];this._metadataMap.set(e3.nodeName,a3.map(e4=>e4.textContent.trim()))}_parse(e3){let t3=e3.documentElement;if("rdf:rdf"!==t3.nodeName)for(t3=t3.firstChild;t3&&"rdf:rdf"!==t3.nodeName;)t3=t3.nextSibling;if(t3&&"rdf:rdf"===t3.nodeName&&t3.hasChildNodes())for(const e4 of t3.childNodes)if("rdf:description"===e4.nodeName)for(const t4 of e4.childNodes){const e5=t4.nodeName;switch(e5){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(t4);continue}this._metadataMap.set(e5,t4.textContent.trim())}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.StructTreeRoot=t2.StructTreePage=void 0;var r=a2(5),n=a2(2),i=a2(70);const s="PAGE_CONTENT",o="STREAM_CONTENT",c="OBJECT",l="ELEMENT";t2.StructTreeRoot=class{constructor(e3){this.dict=e3,this.roleMap=new Map}init(){this.readRoleMap()}readRoleMap(){const e3=this.dict.get("RoleMap");e3 instanceof r.Dict&&e3.forEach((e4,t3)=>{t3 instanceof r.Name&&this.roleMap.set(e4,t3.name)})}};class StructElementNode{constructor(e3,t3){this.tree=e3,this.dict=t3,this.kids=[],this.parseKids()}get role(){const e3=this.dict.get("S"),t3=e3 instanceof r.Name?e3.name:"",{root:a3}=this.tree;return a3.roleMap.has(t3)?a3.roleMap.get(t3):t3}parseKids(){let e3=null;const t3=this.dict.getRaw("Pg");t3 instanceof r.Ref&&(e3=t3.toString());const a3=this.dict.get("K");if(Array.isArray(a3))for(const t4 of a3){const a4=this.parseKid(e3,t4);a4&&this.kids.push(a4)}else{const t4=this.parseKid(e3,a3);t4&&this.kids.push(t4)}}parseKid(e3,t3){if(Number.isInteger(t3))return this.tree.pageDict.objId!==e3?null:new StructElement({type:s,mcid:t3,pageObjId:e3});let a3=null;if(t3 instanceof r.Ref?a3=this.dict.xref.fetch(t3):t3 instanceof r.Dict&&(a3=t3),!a3)return null;const n2=a3.getRaw("Pg");n2 instanceof r.Ref&&(e3=n2.toString());const i2=a3.get("Type")instanceof r.Name?a3.get("Type").name:null;return"MCR"===i2?this.tree.pageDict.objId!==e3?null:new StructElement({type:o,refObjId:a3.getRaw("Stm")instanceof r.Ref?a3.getRaw("Stm").toString():null,pageObjId:e3,mcid:a3.get("MCID")}):"OBJR"===i2?this.tree.pageDict.objId!==e3?null:new StructElement({type:c,refObjId:a3.getRaw("Obj")instanceof r.Ref?a3.getRaw("Obj").toString():null,pageObjId:e3}):new StructElement({type:l,dict:a3})}}class StructElement{constructor({type:e3,dict:t3=null,mcid:a3=null,pageObjId:r2=null,refObjId:n2=null}){this.type=e3,this.dict=t3,this.mcid=a3,this.pageObjId=r2,this.refObjId=n2,this.parentNode=null}}t2.StructTreePage=class{constructor(e3,t3){this.root=e3,this.rootDict=e3?e3.dict:null,this.pageDict=t3,this.nodes=[]}parse(){if(!this.root||!this.rootDict)return;const e3=this.rootDict.get("ParentTree");if(!e3)return;const t3=this.pageDict.get("StructParents");if(!Number.isInteger(t3))return;const a3=new i.NumberTree(e3,this.rootDict.xref).get(t3);if(!Array.isArray(a3))return;const n2=new Map;for(const e4 of a3)e4 instanceof r.Ref&&this.addNode(this.rootDict.xref.fetch(e4),n2)}addNode(e3,t3,a3=0){if(a3>40)return(0,n.warn)("StructTree MAX_DEPTH reached."),null;if(t3.has(e3))return t3.get(e3);const i2=new StructElementNode(this,e3);t3.set(e3,i2);const s2=e3.get("P");if(!s2||(0,r.isName)(s2.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(e3,i2)||t3.delete(e3),i2;const o2=this.addNode(s2,t3,a3+1);if(!o2)return i2;let c2=!1;for(const t4 of o2.kids)t4.type===l&&t4.dict===e3&&(t4.parentNode=i2,c2=!0);return c2||t3.delete(e3),i2}addTopLevelNode(e3,t3){const a3=this.rootDict.get("K");if(!a3)return!1;if(a3 instanceof r.Dict)return a3.objId===e3.objId&&(this.nodes[0]=t3,!0);if(!Array.isArray(a3))return!0;let n2=!1;for(let r2=0;r2<a3.length;r2++){const i2=a3[r2];i2&&i2.toString()===e3.objId&&(this.nodes[r2]=t3,n2=!0)}return n2}get serializable(){function nodeToSerializable(e4,t3,a3=0){if(a3>40)return void(0,n.warn)("StructTree too deep to be fully serialized.");const r2=Object.create(null);r2.role=e4.role,r2.children=[],t3.children.push(r2);const i2=e4.dict.get("Alt");"string"==typeof i2&&(r2.alt=(0,n.stringToPDFString)(i2));const h=e4.dict.get("Lang");"string"==typeof h&&(r2.lang=(0,n.stringToPDFString)(h));for(const t4 of e4.kids){const e5=t4.type===l?t4.parentNode:null;e5?nodeToSerializable(e5,r2,a3+1):t4.type===s||t4.type===o?r2.children.push({type:"content",id:`page${t4.pageObjId}_mcid${t4.mcid}`}):t4.type===c&&r2.children.push({type:"object",id:t4.refObjId})}}const e3=Object.create(null);e3.children=[],e3.role="Root";for(const t3 of this.nodes)t3&&nodeToSerializable(t3,e3);return e3}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.ObjectLoader=void 0;var r=a2(5),n=a2(7),i=a2(6),s=a2(2);function addChildren(e3,t3){if(e3 instanceof r.Dict)e3=e3.getRawValues();else if(e3 instanceof n.BaseStream)e3=e3.dict.getRawValues();else if(!Array.isArray(e3))return;for(const i2 of e3)((a3=i2)instanceof r.Ref||a3 instanceof r.Dict||a3 instanceof n.BaseStream||Array.isArray(a3))&&t3.push(i2);var a3}t2.ObjectLoader=class{constructor(e3,t3,a3){this.dict=e3,this.keys=t3,this.xref=a3,this.refSet=null}load(){var _this40=this;return _asyncToGenerator2(function*(){if(_this40.xref.stream.isDataLoaded)return;const{keys:e3,dict:t3}=_this40;_this40.refSet=new r.RefSet;const a3=[];for(let r2=0,n2=e3.length;r2<n2;r2++){const n3=t3.getRaw(e3[r2]);void 0!==n3&&a3.push(n3)}return _this40._walk(a3)})()}_walk(e3){var _this41=this;return _asyncToGenerator2(function*(){const t3=[],a3=[];for(;e3.length;){let o=e3.pop();if(o instanceof r.Ref){if(_this41.refSet.has(o))continue;try{_this41.refSet.put(o),o=_this41.xref.fetch(o)}catch(e4){if(!(e4 instanceof i.MissingDataException)){(0,s.warn)(`ObjectLoader._walk - requesting all data: "${e4}".`),_this41.refSet=null;const{manager:t4}=_this41.xref.stream;return t4.requestAllChunks()}t3.push(o),a3.push({begin:e4.begin,end:e4.end})}}if(o instanceof n.BaseStream){const e4=o.getBaseStreams();if(e4){let r2=!1;for(const t4 of e4)t4.isDataLoaded||(r2=!0,a3.push({begin:t4.start,end:t4.end}));r2&&t3.push(o)}}addChildren(o,e3)}if(a3.length){yield _this41.xref.stream.manager.requestRanges(a3);for(const e4 of t3)e4 instanceof r.Ref&&_this41.refSet.remove(e4);return _this41._walk(t3)}_this41.refSet=null})()}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.XFAFactory=void 0;var r=a2(77),n=a2(81),i=a2(87),s=a2(85),o=a2(78),c=a2(2),l=a2(88),h=a2(98);class XFAFactory{constructor(e3){try{this.root=(new l.XFAParser).parse(XFAFactory._createDocument(e3));const t3=new n.Binder(this.root);this.form=t3.bind(),this.dataHandler=new i.DataHandler(this.root,t3.getData()),this.form[r.$globalData].template=this.form}catch(e4){(0,c.warn)(`XFA - an error occurred during parsing and binding: ${e4}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const e3=this.form[r.$toPages]();return new Promise((t3,a3)=>{const nextIteration=()=>{try{const a4=e3.next();a4.done?t3(a4.value):setTimeout(nextIteration,0)}catch(e4){a3(e4)}};setTimeout(nextIteration,0)})}_createPages(){var _this42=this;return _asyncToGenerator2(function*(){try{_this42.pages=yield _this42._createPagesHelper(),_this42.dims=_this42.pages.children.map(e3=>{const{width:t3,height:a3}=e3.attributes.style;return[0,0,parseInt(t3),parseInt(a3)]})}catch(e3){(0,c.warn)(`XFA - an error occurred during layout: ${e3}`)}})()}getBoundingBox(e3){return this.dims[e3]}getNumPages(){var _this43=this;return _asyncToGenerator2(function*(){return _this43.pages||(yield _this43._createPages()),_this43.dims.length})()}setImages(e3){this.form[r.$globalData].images=e3}setFonts(e3){this.form[r.$globalData].fontFinder=new s.FontFinder(e3);const t3=[];for(let e4 of this.form[r.$globalData].usedTypefaces)e4=(0,o.stripQuotes)(e4),this.form[r.$globalData].fontFinder.find(e4)||t3.push(e4);return t3.length>0?t3:null}appendFonts(e3,t3){this.form[r.$globalData].fontFinder.add(e3,t3)}getPages(){var _this44=this;return _asyncToGenerator2(function*(){_this44.pages||(yield _this44._createPages());const e3=_this44.pages;return _this44.pages=null,e3})()}serializeData(e3){return this.dataHandler.serialize(e3)}static _createDocument(e3){return e3["/xdp:xdp"]?Object.values(e3).join(""):e3["xdp:xdp"]}static getRichTextAsHtml(e3){if(!e3||"string"!=typeof e3)return null;try{let t3=new l.XFAParser(h.XhtmlNamespace,!0).parse(e3);if(!["body","xhtml"].includes(t3[r.$nodeName])){const e4=h.XhtmlNamespace.body({});e4[r.$appendChild](t3),t3=e4}const a3=t3[r.$toHTML]();if(!a3.success)return null;const{html:n2}=a3,{attributes:i2}=n2;return i2&&(i2.class&&(i2.class=i2.class.filter(e4=>!e4.startsWith("xfa"))),i2.dir="auto"),{html:n2,str:t3[r.$text]()}}catch(e4){(0,c.warn)(`XFA - an error occurred during parsing of rich text: ${e4}`)}return null}}t2.XFAFactory=XFAFactory},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.XmlObject=t2.XFAObjectArray=t2.XFAObject=t2.XFAAttribute=t2.StringObject=t2.OptionObject=t2.Option10=t2.Option01=t2.IntegerObject=t2.ContentObject=t2.$uid=t2.$toStyle=t2.$toString=t2.$toPages=t2.$toHTML=t2.$text=t2.$tabIndex=t2.$setValue=t2.$setSetAttributes=t2.$setId=t2.$searchNode=t2.$root=t2.$resolvePrototypes=t2.$removeChild=t2.$pushPara=t2.$pushGlyphs=t2.$popPara=t2.$onText=t2.$onChildCheck=t2.$onChild=t2.$nsAttributes=t2.$nodeName=t2.$namespaceId=t2.$isUsable=t2.$isTransparent=t2.$isThereMoreWidth=t2.$isSplittable=t2.$isNsAgnostic=t2.$isDescendent=t2.$isDataValue=t2.$isCDATAXml=t2.$isBindable=t2.$insertAt=t2.$indexOf=t2.$ids=t2.$hasSettableValue=t2.$globalData=t2.$getTemplateRoot=t2.$getSubformParent=t2.$getRealChildrenByNameIt=t2.$getParent=t2.$getNextPage=t2.$getExtra=t2.$getDataValue=t2.$getContainedChildren=t2.$getChildrenByNameIt=t2.$getChildrenByName=t2.$getChildrenByClass=t2.$getChildren=t2.$getAvailableSpace=t2.$getAttributes=t2.$getAttributeIt=t2.$flushHTML=t2.$finalize=t2.$extra=t2.$dump=t2.$data=t2.$content=t2.$consumed=t2.$clone=t2.$cleanup=t2.$cleanPage=t2.$clean=t2.$childrenToHTML=t2.$appendChild=t2.$addHTML=t2.$acceptWhitespace=void 0;var r=a2(78),n=a2(2),i=a2(6),s=a2(79),o=a2(80);const c=Symbol();t2.$acceptWhitespace=c;const l=Symbol();t2.$addHTML=l;const h=Symbol();t2.$appendChild=h;const u=Symbol();t2.$childrenToHTML=u;const d=Symbol();t2.$clean=d;const f=Symbol();t2.$cleanPage=f;const g=Symbol();t2.$cleanup=g;const p=Symbol();t2.$clone=p;const m=Symbol();t2.$consumed=m;const b=Symbol("content");t2.$content=b;const y=Symbol("data");t2.$data=y;const w=Symbol();t2.$dump=w;const S=Symbol("extra");t2.$extra=S;const x=Symbol();t2.$finalize=x;const k=Symbol();t2.$flushHTML=k;const C=Symbol();t2.$getAttributeIt=C;const v=Symbol();t2.$getAttributes=v;const F=Symbol();t2.$getAvailableSpace=F;const O=Symbol();t2.$getChildrenByClass=O;const T=Symbol();t2.$getChildrenByName=T;const M=Symbol();t2.$getChildrenByNameIt=M;const E=Symbol();t2.$getDataValue=E;const D=Symbol();t2.$getExtra=D;const N=Symbol();t2.$getRealChildrenByNameIt=N;const R=Symbol();t2.$getChildren=R;const L=Symbol();t2.$getContainedChildren=L;const j=Symbol();t2.$getNextPage=j;const $=Symbol();t2.$getSubformParent=$;const _=Symbol();t2.$getParent=_;const U=Symbol();t2.$getTemplateRoot=U;const X=Symbol();t2.$globalData=X;const H=Symbol();t2.$hasSettableValue=H;const q=Symbol();t2.$ids=q;const z=Symbol();t2.$indexOf=z;const W=Symbol();t2.$insertAt=W;const G=Symbol();t2.$isCDATAXml=G;const V=Symbol();t2.$isBindable=V;const K=Symbol();t2.$isDataValue=K;const Y=Symbol();t2.$isDescendent=Y;const J=Symbol();t2.$isNsAgnostic=J;const Z=Symbol();t2.$isSplittable=Z;const Q=Symbol();t2.$isThereMoreWidth=Q;const ee=Symbol();t2.$isTransparent=ee;const te=Symbol();t2.$isUsable=te;const ae=Symbol(),re=Symbol("namespaceId");t2.$namespaceId=re;const ne=Symbol("nodeName");t2.$nodeName=ne;const ie=Symbol();t2.$nsAttributes=ie;const se=Symbol();t2.$onChild=se;const oe=Symbol();t2.$onChildCheck=oe;const ce=Symbol();t2.$onText=ce;const le=Symbol();t2.$pushGlyphs=le;const he=Symbol();t2.$popPara=he;const ue=Symbol();t2.$pushPara=ue;const de=Symbol();t2.$removeChild=de;const fe=Symbol("root");t2.$root=fe;const ge=Symbol();t2.$resolvePrototypes=ge;const pe=Symbol();t2.$searchNode=pe;const me=Symbol();t2.$setId=me;const be=Symbol();t2.$setSetAttributes=be;const ye=Symbol();t2.$setValue=ye;const we=Symbol();t2.$tabIndex=we;const Se=Symbol();t2.$text=Se;const xe=Symbol();t2.$toPages=xe;const Ae=Symbol();t2.$toHTML=Ae;const ke=Symbol();t2.$toString=ke;const Ce=Symbol();t2.$toStyle=Ce;const ve=Symbol("uid");t2.$uid=ve;const Fe=Symbol(),Oe=Symbol(),Te=Symbol(),Ie=Symbol("_children"),Me=Symbol(),Pe=Symbol(),Ee=Symbol(),De=Symbol(),Ne=Symbol(),Be=Symbol(),Re=Symbol(),Le=Symbol(),je=Symbol(),$e=Symbol("parent"),_e=Symbol(),Ue=Symbol(),Xe=Symbol();let He=0;const qe=s.NamespaceIds.datasets.id;class XFAObject{constructor(e3,t3,a3=!1){this[re]=e3,this[ne]=t3,this[Re]=a3,this[$e]=null,this[Ie]=[],this[ve]=`${t3}${He++}`,this[X]=null}[se](e3){if(!this[Re]||!this[oe](e3))return!1;const t3=e3[ne],a3=this[t3];if(!(a3 instanceof XFAObjectArray))return null!==a3&&this[de](a3),this[t3]=e3,this[h](e3),!0;if(a3.push(e3))return this[h](e3),!0;let r2="";return this.id?r2=` (id: ${this.id})`:this.name&&(r2=` (name: ${this.name} ${this.h.value})`),(0,n.warn)(`XFA - node "${this[ne]}"${r2} has already enough "${t3}"!`),!1}[oe](e3){return this.hasOwnProperty(e3[ne])&&e3[re]===this[re]}[J](){return!1}[c](){return!1}[G](){return!1}[V](){return!1}[he](){this.para&&this[U]()[S].paraStack.pop()}[ue](){this[U]()[S].paraStack.push(this.para)}[me](e3){this.id&&this[re]===s.NamespaceIds.template.id&&e3.set(this.id,this)}[U](){return this[X].template}[Z](){return!1}[Q](){return!1}[h](e3){e3[$e]=this,this[Ie].push(e3),!e3[X]&&this[X]&&(e3[X]=this[X])}[de](e3){const t3=this[Ie].indexOf(e3);this[Ie].splice(t3,1)}[H](){return this.hasOwnProperty("value")}[ye](e3){}[ce](e3){}[x](){}[d](e3){delete this[Re],this[g]&&(e3.clean(this[g]),delete this[g])}[z](e3){return this[Ie].indexOf(e3)}[W](e3,t3){t3[$e]=this,this[Ie].splice(e3,0,t3),!t3[X]&&this[X]&&(t3[X]=this[X])}[ee](){return!this.name}[ae](){return""}[Se](){return 0===this[Ie].length?this[b]:this[Ie].map(e3=>e3[Se]()).join("")}get[Te](){const e3=Object.getPrototypeOf(this);if(!e3._attributes){const t3=e3._attributes=new Set;for(const e4 of Object.getOwnPropertyNames(this)){if(null===this[e4]||this[e4]instanceof XFAObject||this[e4]instanceof XFAObjectArray)break;t3.add(e4)}}return(0,n.shadow)(this,Te,e3._attributes)}[Y](e3){let t3=this;for(;t3;){if(t3===e3)return!0;t3=t3[_]()}return!1}[_](){return this[$e]}[$](){return this[_]()}[R](e3=null){return e3?this[e3]:this[Ie]}[w](){const e3=Object.create(null);this[b]&&(e3.$content=this[b]);for(const t3 of Object.getOwnPropertyNames(this)){const a3=this[t3];null!==a3&&(a3 instanceof XFAObject?e3[t3]=a3[w]():a3 instanceof XFAObjectArray?a3.isEmpty()||(e3[t3]=a3.dump()):e3[t3]=a3)}return e3}[Ce](){return null}[Ae](){return r.HTMLResult.EMPTY}*[L](){for(const e3 of this[R]())yield e3}*[De](e3,t3){for(const a3 of this[L]())if(!e3||t3===e3.has(a3[ne])){const e4=this[F](),t4=a3[Ae](e4);t4.success||(this[S].failingNode=a3),yield t4}}[k](){return null}[l](e3,t3){this[S].children.push(e3)}[F](){}[u]({filter:e3=null,include:t3=!0}){if(this[S].generator){const e4=this[F](),t4=this[S].failingNode[Ae](e4);if(!t4.success)return t4;t4.html&&this[l](t4.html,t4.bbox),delete this[S].failingNode}else this[S].generator=this[De](e3,t3);for(;;){const e4=this[S].generator.next();if(e4.done)break;const t4=e4.value;if(!t4.success)return t4;t4.html&&this[l](t4.html,t4.bbox)}return this[S].generator=null,r.HTMLResult.EMPTY}[be](e3){this[Ue]=new Set(Object.keys(e3))}[Be](e3){const t3=this[Te],a3=this[Ue];return[...e3].filter(e4=>t3.has(e4)&&!a3.has(e4))}[ge](e3,t3=new Set){for(const a3 of this[Ie])a3[_e](e3,t3)}[_e](e3,t3){const a3=this[Ne](e3,t3);a3?this[Fe](a3,e3,t3):this[ge](e3,t3)}[Ne](e3,t3){const{use:a3,usehref:r2}=this;if(!a3&&!r2)return null;let i2=null,s2=null,c2=null,l2=a3;if(r2?(l2=r2,r2.startsWith("#som(")&&r2.endsWith(")")?s2=r2.slice(5,r2.length-1):r2.startsWith(".#som(")&&r2.endsWith(")")?s2=r2.slice(6,r2.length-1):r2.startsWith("#")?c2=r2.slice(1):r2.startsWith(".#")&&(c2=r2.slice(2))):a3.startsWith("#")?c2=a3.slice(1):s2=a3,this.use=this.usehref="",c2?i2=e3.get(c2):(i2=(0,o.searchNode)(e3.get(fe),this,s2,!0,!1),i2&&(i2=i2[0])),!i2)return(0,n.warn)(`XFA - Invalid prototype reference: ${l2}.`),null;if(i2[ne]!==this[ne])return(0,n.warn)(`XFA - Incompatible prototype: ${i2[ne]} !== ${this[ne]}.`),null;if(t3.has(i2))return(0,n.warn)("XFA - Cycle detected in prototypes use."),null;t3.add(i2);const h2=i2[Ne](e3,t3);return h2&&i2[Fe](h2,e3,t3),i2[ge](e3,t3),t3.delete(i2),i2}[Fe](e3,t3,a3){if(a3.has(e3))(0,n.warn)("XFA - Cycle detected in prototypes use.");else{!this[b]&&e3[b]&&(this[b]=e3[b]),new Set(a3).add(e3);for(const t4 of this[Be](e3[Ue]))this[t4]=e3[t4],this[Ue]&&this[Ue].add(t4);for(const r2 of Object.getOwnPropertyNames(this)){if(this[Te].has(r2))continue;const n2=this[r2],i2=e3[r2];if(n2 instanceof XFAObjectArray){for(const e4 of n2[Ie])e4[_e](t3,a3);for(let r3=n2[Ie].length,s2=i2[Ie].length;r3<s2;r3++){const i3=e3[Ie][r3][p]();if(!n2.push(i3))break;i3[$e]=this,this[Ie].push(i3),i3[_e](t3,a3)}}else if(null===n2){if(null!==i2){const e4=i2[p]();e4[$e]=this,this[r2]=e4,this[Ie].push(e4),e4[_e](t3,a3)}}else n2[ge](t3,a3),i2&&n2[Fe](i2,t3,a3)}}}static[Me](e3){return Array.isArray(e3)?e3.map(e4=>XFAObject[Me](e4)):"object"==typeof e3&&null!==e3?Object.assign({},e3):e3}[p](){const e3=Object.create(Object.getPrototypeOf(this));for(const t3 of Object.getOwnPropertySymbols(this))try{e3[t3]=this[t3]}catch{(0,n.shadow)(e3,t3,this[t3])}e3[ve]=`${e3[ne]}${He++}`,e3[Ie]=[];for(const t3 of Object.getOwnPropertyNames(this)){if(this[Te].has(t3)){e3[t3]=XFAObject[Me](this[t3]);continue}const a3=this[t3];e3[t3]=a3 instanceof XFAObjectArray?new XFAObjectArray(a3[Le]):null}for(const t3 of this[Ie]){const a3=t3[ne],r2=t3[p]();e3[Ie].push(r2),r2[$e]=e3,null===e3[a3]?e3[a3]=r2:e3[a3][Ie].push(r2)}return e3}[R](e3=null){return e3?this[Ie].filter(t3=>t3[ne]===e3):this[Ie]}[O](e3){return this[e3]}[T](e3,t3,a3=!0){return Array.from(this[M](e3,t3,a3))}*[M](e3,t3,a3=!0){if("parent"!==e3){for(const a4 of this[Ie])a4[ne]===e3&&(yield a4),a4.name===e3&&(yield a4),(t3||a4[ee]())&&(yield*a4[M](e3,t3,!1));a3&&this[Te].has(e3)&&(yield new XFAAttribute(this,e3,this[e3]))}else yield this[$e]}}t2.XFAObject=XFAObject;class XFAObjectArray{constructor(e3=1/0){this[Le]=e3,this[Ie]=[]}push(e3){return this[Ie].length<=this[Le]?(this[Ie].push(e3),!0):((0,n.warn)(`XFA - node "${e3[ne]}" accepts no more than ${this[Le]} children`),!1)}isEmpty(){return 0===this[Ie].length}dump(){return 1===this[Ie].length?this[Ie][0][w]():this[Ie].map(e3=>e3[w]())}[p](){const e3=new XFAObjectArray(this[Le]);return e3[Ie]=this[Ie].map(e4=>e4[p]()),e3}get children(){return this[Ie]}clear(){this[Ie].length=0}}t2.XFAObjectArray=XFAObjectArray;class XFAAttribute{constructor(e3,t3,a3){this[$e]=e3,this[ne]=t3,this[b]=a3,this[m]=!1,this[ve]="attribute"+He++}[_](){return this[$e]}[K](){return!0}[E](){return this[b].trim()}[ye](e3){this[b]=(e3=e3.value||"").toString()}[Se](){return this[b]}[Y](e3){return this[$e]===e3||this[$e][Y](e3)}}t2.XFAAttribute=XFAAttribute;class XmlObject extends XFAObject{constructor(e3,t3,a3={}){if(super(e3,t3),this[b]="",this[Pe]=null,"#text"!==t3){const e4=new Map;this[Oe]=e4;for(const[t4,r2]of Object.entries(a3))e4.set(t4,new XFAAttribute(this,t4,r2));if(a3.hasOwnProperty(ie)){const e5=a3[ie].xfa.dataNode;void 0!==e5&&("dataGroup"===e5?this[Pe]=!1:"dataValue"===e5&&(this[Pe]=!0))}}this[m]=!1}[ke](e3){const t3=this[ne];if("#text"===t3)return void e3.push((0,i.encodeToXmlString)(this[b]));const a3=(0,n.utf8StringToString)(t3),r2=this[re]===qe?"xfa:":"";e3.push(`<${r2}${a3}`);for(const[t4,a4]of this[Oe].entries()){const r3=(0,n.utf8StringToString)(t4);e3.push(` ${r3}="${(0,i.encodeToXmlString)(a4[b])}"`)}if(null!==this[Pe]&&e3.push(this[Pe]?' xfa:dataNode="dataValue"':' xfa:dataNode="dataGroup"'),this[b]||0!==this[Ie].length){if(e3.push(">"),this[b])"string"==typeof this[b]?e3.push((0,i.encodeToXmlString)(this[b])):this[b][ke](e3);else for(const t4 of this[Ie])t4[ke](e3);e3.push(`</${r2}${a3}>`)}else e3.push("/>")}[se](e3){if(this[b]){const e4=new XmlObject(this[re],"#text");this[h](e4),e4[b]=this[b],this[b]=""}return this[h](e3),!0}[ce](e3){this[b]+=e3}[x](){if(this[b]&&this[Ie].length>0){const e3=new XmlObject(this[re],"#text");this[h](e3),e3[b]=this[b],delete this[b]}}[Ae](){return"#text"===this[ne]?r.HTMLResult.success({name:"#text",value:this[b]}):r.HTMLResult.EMPTY}[R](e3=null){return e3?this[Ie].filter(t3=>t3[ne]===e3):this[Ie]}[v](){return this[Oe]}[O](e3){const t3=this[Oe].get(e3);return void 0!==t3?t3:this[R](e3)}*[M](e3,t3){const a3=this[Oe].get(e3);a3&&(yield a3);for(const a4 of this[Ie])a4[ne]===e3&&(yield a4),t3&&(yield*a4[M](e3,t3))}*[C](e3,t3){const a3=this[Oe].get(e3);!a3||t3&&a3[m]||(yield a3);for(const a4 of this[Ie])yield*a4[C](e3,t3)}*[N](e3,t3,a3){for(const r2 of this[Ie])r2[ne]!==e3||a3&&r2[m]||(yield r2),t3&&(yield*r2[N](e3,t3,a3))}[K](){return null===this[Pe]?0===this[Ie].length||this[Ie][0][re]===s.NamespaceIds.xhtml.id:this[Pe]}[E](){return null===this[Pe]?0===this[Ie].length?this[b].trim():this[Ie][0][re]===s.NamespaceIds.xhtml.id?this[Ie][0][Se]().trim():null:this[b].trim()}[ye](e3){this[b]=(e3=e3.value||"").toString()}[w](e3=!1){const t3=Object.create(null);e3&&(t3.$ns=this[re]),this[b]&&(t3.$content=this[b]),t3.$name=this[ne],t3.children=[];for(const a3 of this[Ie])t3.children.push(a3[w](e3));t3.attributes=Object.create(null);for(const[e4,a3]of this[Oe])t3.attributes[e4]=a3[b];return t3}}t2.XmlObject=XmlObject;class ContentObject extends XFAObject{constructor(e3,t3){super(e3,t3),this[b]=""}[ce](e3){this[b]+=e3}[x](){}}t2.ContentObject=ContentObject,t2.OptionObject=class extends ContentObject{constructor(e3,t3,a3){super(e3,t3),this[je]=a3}[x](){this[b]=(0,r.getKeyword)({data:this[b],defaultValue:this[je][0],validate:e3=>this[je].includes(e3)})}[d](e3){super[d](e3),delete this[je]}},t2.StringObject=class extends ContentObject{[x](){this[b]=this[b].trim()}};class IntegerObject extends ContentObject{constructor(e3,t3,a3,r2){super(e3,t3),this[Ee]=a3,this[Xe]=r2}[x](){this[b]=(0,r.getInteger)({data:this[b],defaultValue:this[Ee],validate:this[Xe]})}[d](e3){super[d](e3),delete this[Ee],delete this[Xe]}}t2.IntegerObject=IntegerObject,t2.Option01=class extends IntegerObject{constructor(e3,t3){super(e3,t3,0,e4=>1===e4)}},t2.Option10=class extends IntegerObject{constructor(e3,t3){super(e3,t3,1,e4=>0===e4)}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.HTMLResult=void 0,t2.getBBox=function(e3){if(!e3)return{x:-1,y:-1,width:-1,height:-1};const a3=e3.trim().split(/\s*,\s*/).map(e4=>getMeasurement(e4,"-1"));if(a3.length<4||a3[2]<0||a3[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[r2,n2,i2,s]=a3;return{x:r2,y:n2,width:i2,height:s}},t2.getColor=function(e3,t3=[0,0,0]){let[a3,r2,n2]=t3;if(!e3)return{r:a3,g:r2,b:n2};const i2=e3.trim().split(/\s*,\s*/).map(e4=>Math.min(Math.max(0,parseInt(e4.trim(),10)),255)).map(e4=>isNaN(e4)?0:e4);return i2.length<3||([a3,r2,n2]=i2),{r:a3,g:r2,b:n2}},t2.getFloat=function({data:e3,defaultValue:t3,validate:a3}){if(!e3)return t3;e3=e3.trim();const r2=parseFloat(e3);return!isNaN(r2)&&a3(r2)?r2:t3},t2.getInteger=function({data:e3,defaultValue:t3,validate:a3}){if(!e3)return t3;e3=e3.trim();const r2=parseInt(e3,10);return!isNaN(r2)&&a3(r2)?r2:t3},t2.getKeyword=getKeyword,t2.getMeasurement=getMeasurement,t2.getRatio=function(e3){if(!e3)return{num:1,den:1};const t3=e3.trim().split(/\s*:\s*/).map(e4=>parseFloat(e4)).filter(e4=>!isNaN(e4));if(1===t3.length&&t3.push(1),0===t3.length)return{num:1,den:1};const[a3,r2]=t3;return{num:a3,den:r2}},t2.getRelevant=function(e3){return e3?e3.trim().split(/\s+/).map(e4=>({excluded:"-"===e4[0],viewname:e4.substring(1)})):[]},t2.getStringOption=function(e3,t3){return getKeyword({data:e3,defaultValue:t3[0],validate:e4=>t3.includes(e4)})},t2.stripQuotes=function(e3){return e3.startsWith("'")||e3.startsWith('"')?e3.slice(1,e3.length-1):e3};var r=a2(2);const n={pt:e3=>e3,cm:e3=>e3/2.54*72,mm:e3=>e3/25.4*72,in:e3=>72*e3,px:e3=>e3},i=/([+-]?\d+\.?\d*)(.*)/;function getKeyword({data:e3,defaultValue:t3,validate:a3}){return e3&&a3(e3=e3.trim())?e3:t3}function getMeasurement(e3,t3="0"){if(t3=t3||"0",!e3)return getMeasurement(t3);const a3=e3.trim().match(i);if(!a3)return getMeasurement(t3);const[,r2,s]=a3,o=parseFloat(r2);if(isNaN(o))return getMeasurement(t3);if(0===o)return 0;const c=n[s];return c?c(o):o}class HTMLResult{static get FAILURE(){return(0,r.shadow)(this,"FAILURE",new HTMLResult(!1,null,null,null))}static get EMPTY(){return(0,r.shadow)(this,"EMPTY",new HTMLResult(!0,null,null,null))}constructor(e3,t3,a3,r2){this.success=e3,this.html=t3,this.bbox=a3,this.breakNode=r2}isBreak(){return!!this.breakNode}static breakNode(e3){return new HTMLResult(!1,null,null,e3)}static success(e3,t3=null){return new HTMLResult(!0,e3,t3,null)}}t2.HTMLResult=HTMLResult},(e2,t2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.NamespaceIds=t2.$buildXFAObject=void 0;const a2=Symbol();t2.$buildXFAObject=a2,t2.NamespaceIds={config:{id:0,check:e3=>e3.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:e3=>e3.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:e3=>e3.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:e3=>e3.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:e3=>e3.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:e3=>"http://ns.adobe.com/xdp/pdf/"===e3},signature:{id:6,check:e3=>"http://www.w3.org/2000/09/xmldsig#"===e3},sourceSet:{id:7,check:e3=>e3.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:e3=>"http://www.w3.org/1999/XSL/Transform"===e3},template:{id:9,check:e3=>e3.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:e3=>e3.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:e3=>"http://ns.adobe.com/xdp/"===e3},xfdf:{id:12,check:e3=>"http://ns.adobe.com/xfdf/"===e3},xhtml:{id:13,check:e3=>"http://www.w3.org/1999/xhtml"===e3},xmpmeta:{id:14,check:e3=>"http://ns.adobe.com/xmpmeta/"===e3}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.createDataNode=function(e3,t3,a3){const n2=parseExpression(a3);if(!n2||n2.some(e4=>e4.operator===l))return null;const s2=f.get(n2[0].name);let o2=0;s2?(e3=s2(e3,t3),o2=1):e3=t3||e3;for(let t4=n2.length;o2<t4;o2++){const{name:t5,operator:a4,index:s3}=n2[o2];if(!isFinite(s3))return n2[o2].index=0,createNodes(e3,n2.slice(o2));let u2;switch(a4){case c:u2=e3[r.$getChildrenByName](t5,!1);break;case l:u2=e3[r.$getChildrenByName](t5,!0);break;case h:u2=e3[r.$getChildrenByClass](t5),u2=u2 instanceof r.XFAObjectArray?u2.children:[u2]}if(0===u2.length)return createNodes(e3,n2.slice(o2));if(!(s3<u2.length))return n2[o2].index=s3-u2.length,createNodes(e3,n2.slice(o2));{const t6=u2[s3];if(!(t6 instanceof r.XFAObject))return(0,i.warn)("XFA - Cannot create a node."),null;e3=t6}}return null},t2.searchNode=function(e3,t3,a3,n2=!0,i2=!0){const s2=parseExpression(a3,n2);if(!s2)return null;const o2=f.get(s2[0].name);let u2,d2=0;o2?(u2=!0,e3=[o2(e3,t3)],d2=1):(u2=null===t3,e3=[t3||e3]);for(let a4=s2.length;d2<a4;d2++){const{name:a5,cacheName:n3,operator:o3,index:f2}=s2[d2],p2=[];for(const t4 of e3){if(!(t4 instanceof r.XFAObject))continue;let e4,s3;if(i2&&(s3=g.get(t4),s3||(s3=new Map,g.set(t4,s3)),e4=s3.get(n3)),!e4){switch(o3){case c:e4=t4[r.$getChildrenByName](a5,!1);break;case l:e4=t4[r.$getChildrenByName](a5,!0);break;case h:e4=t4[r.$getChildrenByClass](a5),e4=e4 instanceof r.XFAObjectArray?e4.children:[e4]}i2&&s3.set(n3,e4)}e4.length>0&&p2.push(e4)}if(0!==p2.length||u2||0!==d2)e3=isFinite(f2)?p2.filter(e4=>f2<e4.length).map(e4=>e4[f2]):p2.flat();else{if(!(t3=t3[r.$getParent]()))return null;d2=-1,e3=[t3]}}return 0===e3.length?null:e3};var r=a2(77),n=a2(79),i=a2(2);const s=/^[^.[]+/,o=/^[^\]]+/,c=0,l=1,h=2,u=3,d=4,f=new Map([["$data",(e3,t3)=>e3.datasets?e3.datasets.data:e3],["$record",(e3,t3)=>(e3.datasets?e3.datasets.data:e3)[r.$getChildren]()[0]],["$template",(e3,t3)=>e3.template],["$connectionSet",(e3,t3)=>e3.connectionSet],["$form",(e3,t3)=>e3.form],["$layout",(e3,t3)=>e3.layout],["$host",(e3,t3)=>e3.host],["$dataWindow",(e3,t3)=>e3.dataWindow],["$event",(e3,t3)=>e3.event],["!",(e3,t3)=>e3.datasets],["$xfa",(e3,t3)=>e3],["xfa",(e3,t3)=>e3],["$",(e3,t3)=>t3]]),g=new WeakMap,p=n.NamespaceIds.datasets.id;function parseExpression(e3,t3,a3=!0){let r2=e3.match(s);if(!r2)return null;let[n2]=r2;const f2=[{name:n2,cacheName:"."+n2,index:0,js:null,formCalc:null,operator:c}];let g2=n2.length;for(;g2<e3.length;){const m=g2;if("["===e3.charAt(g2++)){if(r2=e3.slice(g2).match(o),!r2)return(0,i.warn)("XFA - Invalid index in SOM expression"),null;f2.at(-1).index="*"===(p2=(p2=r2[0]).trim())?1/0:parseInt(p2,10)||0,g2+=r2[0].length+1;continue}let b;switch(e3.charAt(g2)){case".":if(!t3)return null;g2++,b=l;break;case"#":g2++,b=h;break;case"[":if(a3)return(0,i.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;b=u;break;case"(":if(a3)return(0,i.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;b=d;break;default:b=c}if(r2=e3.slice(g2).match(s),!r2)break;[n2]=r2,g2+=n2.length,f2.push({name:n2,cacheName:e3.slice(m,g2),operator:b,index:0,js:null,formCalc:null})}var p2;return f2}function createNodes(e3,t3){let a3=null;for(const{name:n2,index:i2}of t3){for(let t4=0,s2=isFinite(i2)?i2:0;t4<=s2;t4++)a3=new r.XmlObject(e3[r.$namespaceId]===p?-1:e3[r.$namespaceId],n2),e3[r.$appendChild](a3);e3=a3}return a3}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.Binder=void 0;var r=a2(77),n=a2(82),i=a2(80),s=a2(79),o=a2(2);const c=s.NamespaceIds.datasets.id;function createText(e3){const t3=new n.Text({});return t3[r.$content]=e3,t3}t2.Binder=class{constructor(e3){this.root=e3,this.datasets=e3.datasets,this.data=e3.datasets&&e3.datasets.data?e3.datasets.data:new r.XmlObject(s.NamespaceIds.datasets.id,"data"),this.emptyMerge=0===this.data[r.$getChildren]().length,this.root.form=this.form=e3.template[r.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(e3,t3,a3){if(e3[r.$data]=t3,e3[r.$hasSettableValue]())if(t3[r.$isDataValue]()){const a4=t3[r.$getDataValue]();e3[r.$setValue](createText(a4))}else if(e3 instanceof n.Field&&e3.ui&&e3.ui.choiceList&&"multiSelect"===e3.ui.choiceList.open){const a4=t3[r.$getChildren]().map(e4=>e4[r.$content].trim()).join("\n");e3[r.$setValue](createText(a4))}else this._isConsumeData()&&(0,o.warn)("XFA - Nodes haven't the same type.");else!t3[r.$isDataValue]()||this._isMatchTemplate()?this._bindElement(e3,t3):(0,o.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(e3,t3,a3,n2){if(!e3)return null;let i2,o2;for(let n3=0;n3<3;n3++){for(i2=a3[r.$getRealChildrenByNameIt](e3,!1,!0);o2=i2.next().value,o2;)if(t3===o2[r.$isDataValue]())return o2;if(a3[r.$namespaceId]===s.NamespaceIds.datasets.id&&"data"===a3[r.$nodeName])break;a3=a3[r.$getParent]()}return n2?(i2=this.data[r.$getRealChildrenByNameIt](e3,!0,!1),o2=i2.next().value,o2||(i2=this.data[r.$getAttributeIt](e3,!0),o2=i2.next().value,o2&&o2[r.$isDataValue]()?o2:null)):null}_setProperties(e3,t3){if(e3.hasOwnProperty("setProperty"))for(const{ref:a3,target:s2,connection:c2}of e3.setProperty.children){if(c2||!a3)continue;const l=(0,i.searchNode)(this.root,t3,a3,!1,!1);if(!l){(0,o.warn)(`XFA - Invalid reference: ${a3}.`);continue}const[h]=l;if(!h[r.$isDescendent](this.data)){(0,o.warn)("XFA - Invalid node: must be a data node.");continue}const u=(0,i.searchNode)(this.root,e3,s2,!1,!1);if(!u){(0,o.warn)(`XFA - Invalid target: ${s2}.`);continue}const[d]=u;if(!d[r.$isDescendent](e3)){(0,o.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const f=d[r.$getParent]();if(d instanceof n.SetProperty||f instanceof n.SetProperty){(0,o.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(d instanceof n.BindItems||f instanceof n.BindItems){(0,o.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const g=h[r.$text](),p=d[r.$nodeName];if(d instanceof r.XFAAttribute){const e4=Object.create(null);e4[p]=g;const t4=Reflect.construct(Object.getPrototypeOf(f).constructor,[e4]);f[p]=t4[p]}else d.hasOwnProperty(r.$content)?(d[r.$data]=h,d[r.$content]=g,d[r.$finalize]()):(0,o.warn)("XFA - Invalid node to use in setProperty")}}_bindItems(e3,t3){if(!e3.hasOwnProperty("items")||!e3.hasOwnProperty("bindItems")||e3.bindItems.isEmpty())return;for(const t4 of e3.items.children)e3[r.$removeChild](t4);e3.items.clear();const a3=new n.Items({}),s2=new n.Items({});e3[r.$appendChild](a3),e3.items.push(a3),e3[r.$appendChild](s2),e3.items.push(s2);for(const{ref:n2,labelRef:c2,valueRef:l,connection:h}of e3.bindItems.children){if(h||!n2)continue;const e4=(0,i.searchNode)(this.root,t3,n2,!1,!1);if(e4)for(const t4 of e4){if(!t4[r.$isDescendent](this.datasets)){(0,o.warn)(`XFA - Invalid ref (${n2}): must be a datasets child.`);continue}const e5=(0,i.searchNode)(this.root,t4,c2,!0,!1);if(!e5){(0,o.warn)(`XFA - Invalid label: ${c2}.`);continue}const[h2]=e5;if(!h2[r.$isDescendent](this.datasets)){(0,o.warn)("XFA - Invalid label: must be a datasets child.");continue}const u=(0,i.searchNode)(this.root,t4,l,!0,!1);if(!u){(0,o.warn)(`XFA - Invalid value: ${l}.`);continue}const[d]=u;if(!d[r.$isDescendent](this.datasets)){(0,o.warn)("XFA - Invalid value: must be a datasets child.");continue}const f=createText(h2[r.$text]()),g=createText(d[r.$text]());a3[r.$appendChild](f),a3.text.push(f),s2[r.$appendChild](g),s2.text.push(g)}else(0,o.warn)(`XFA - Invalid reference: ${n2}.`)}}_bindOccurrences(e3,t3,a3){let n2;if(t3.length>1&&(n2=e3[r.$clone](),n2[r.$removeChild](n2.occur),n2.occur=null),this._bindValue(e3,t3[0],a3),this._setProperties(e3,t3[0]),this._bindItems(e3,t3[0]),1===t3.length)return;const i2=e3[r.$getParent](),s2=e3[r.$nodeName],o2=i2[r.$indexOf](e3);for(let e4=1,c2=t3.length;e4<c2;e4++){const c3=t3[e4],l=n2[r.$clone]();i2[s2].push(l),i2[r.$insertAt](o2+e4,l),this._bindValue(l,c3,a3),this._setProperties(l,c3),this._bindItems(l,c3)}}_createOccurrences(e3){if(!this.emptyMerge)return;const{occur:t3}=e3;if(!t3||t3.initial<=1)return;const a3=e3[r.$getParent](),n2=e3[r.$nodeName];if(!(a3[n2]instanceof r.XFAObjectArray))return;let i2;i2=e3.name?a3[n2].children.filter(t4=>t4.name===e3.name).length:a3[n2].children.length;const s2=a3[r.$indexOf](e3)+1,o2=t3.initial-i2;if(o2){const t4=e3[r.$clone]();t4[r.$removeChild](t4.occur),t4.occur=null,a3[n2].push(t4),a3[r.$insertAt](s2,t4);for(let e4=1;e4<o2;e4++){const i3=t4[r.$clone]();a3[n2].push(i3),a3[r.$insertAt](s2+e4,i3)}}}_getOccurInfo(e3){const{name:t3,occur:a3}=e3;return a3&&t3?[a3.min,-1===a3.max?1/0:a3.max]:[1,1]}_setAndBind(e3,t3){this._setProperties(e3,t3),this._bindItems(e3,t3),this._bindElement(e3,t3)}_bindElement(e3,t3){const a3=[];this._createOccurrences(e3);for(const n2 of e3[r.$getChildren]()){if(n2[r.$data])continue;if(void 0===this._mergeMode&&"subform"===n2[r.$nodeName]){this._mergeMode="consumeData"===n2.mergeMode;const e5=t3[r.$getChildren]();if(e5.length>0)this._bindOccurrences(n2,[e5[0]],null);else if(this.emptyMerge){const a4=n2[r.$data]=new r.XmlObject(t3[r.$namespaceId]===c?-1:t3[r.$namespaceId],n2.name||"root");t3[r.$appendChild](a4),this._bindElement(n2,a4)}continue}if(!n2[r.$isBindable]())continue;let e4=!1,s2=null,l=null,h=null;if(n2.bind){switch(n2.bind.match){case"none":this._setAndBind(n2,t3);continue;case"global":e4=!0;break;case"dataRef":if(!n2.bind.ref){(0,o.warn)(`XFA - ref is empty in node ${n2[r.$nodeName]}.`),this._setAndBind(n2,t3);continue}l=n2.bind.ref}n2.bind.picture&&(s2=n2.bind.picture[r.$content])}const[u,d]=this._getOccurInfo(n2);if(l){if(h=(0,i.searchNode)(this.root,t3,l,!0,!1),null===h){if(h=(0,i.createDataNode)(this.data,t3,l),!h)continue;this._isConsumeData()&&(h[r.$consumed]=!0),this._setAndBind(n2,h);continue}this._isConsumeData()&&(h=h.filter(e5=>!e5[r.$consumed])),h.length>d?h=h.slice(0,d):0===h.length&&(h=null),h&&this._isConsumeData()&&h.forEach(e5=>{e5[r.$consumed]=!0})}else{if(!n2.name){this._setAndBind(n2,t3);continue}if(this._isConsumeData()){const a4=[];for(;a4.length<d;){const i2=this._findDataByNameToConsume(n2.name,n2[r.$hasSettableValue](),t3,e4);if(!i2)break;i2[r.$consumed]=!0,a4.push(i2)}h=a4.length>0?a4:null}else{if(h=t3[r.$getRealChildrenByNameIt](n2.name,!1,this.emptyMerge).next().value,!h){if(0===u){a3.push(n2);continue}h=n2[r.$data]=new r.XmlObject(t3[r.$namespaceId]===c?-1:t3[r.$namespaceId],n2.name),this.emptyMerge&&(h[r.$consumed]=!0),t3[r.$appendChild](h),this._setAndBind(n2,h);continue}this.emptyMerge&&(h[r.$consumed]=!0),h=[h]}}h?this._bindOccurrences(n2,h,s2):u>0?this._setAndBind(n2,t3):a3.push(n2)}a3.forEach(e4=>e4[r.$getParent]()[r.$removeChild](e4))}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.Value=t2.Text=t2.TemplateNamespace=t2.Template=t2.SetProperty=t2.Items=t2.Field=t2.BindItems=void 0;var r=a2(77),n=a2(79),i=a2(83),s=a2(84),o=a2(78),c=a2(2),l=a2(85),h=a2(6),u=a2(80);const d=n.NamespaceIds.template.id,f="http://www.w3.org/2000/svg",g=/^H(\d+)$/,p=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),m=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function getBorderDims(e3){if(!e3||!e3.border)return{w:0,h:0};const t3=e3.border[r.$getExtra]();return t3?{w:t3.widths[0]+t3.widths[2]+t3.insets[0]+t3.insets[2],h:t3.widths[1]+t3.widths[3]+t3.insets[1]+t3.insets[3]}:{w:0,h:0}}function hasMargin(e3){return e3.margin&&(e3.margin.topInset||e3.margin.rightInset||e3.margin.bottomInset||e3.margin.leftInset)}function _setValue(e3,t3){if(!e3.value){const t4=new Value({});e3[r.$appendChild](t4),e3.value=t4}e3.value[r.$setValue](t3)}function*getContainedChildren(e3){for(const t3 of e3[r.$getChildren]())t3 instanceof SubformSet?yield*t3[r.$getContainedChildren]():yield t3}function isRequired(e3){return e3.validate&&"error"===e3.validate.nullTest}function setTabIndex(e3){for(;e3;){if(!e3.traversal)return void(e3[r.$tabIndex]=e3[r.$getParent]()[r.$tabIndex]);if(e3[r.$tabIndex])return;let t3=null;for(const a4 of e3.traversal[r.$getChildren]())if("next"===a4.operation){t3=a4;break}if(!t3||!t3.ref)return void(e3[r.$tabIndex]=e3[r.$getParent]()[r.$tabIndex]);const a3=e3[r.$getTemplateRoot]();e3[r.$tabIndex]=++a3[r.$tabIndex];const n2=a3[r.$searchNode](t3.ref,e3);if(!n2)return;e3=n2[0]}}function applyAssist(e3,t3){const a3=e3.assist;if(a3){const e4=a3[r.$toHTML]();e4&&(t3.title=e4);const n2=a3.role.match(g);if(n2){const a4=n2[1];t3.role="heading",t3["aria-level"]=a4}}if("table"===e3.layout)t3.role="table";else if("row"===e3.layout)t3.role="row";else{const a4=e3[r.$getParent]();"row"===a4.layout&&(t3.role=a4.assist&&"TH"===a4.assist.role?"columnheader":"cell")}}function ariaLabel(e3){if(!e3.assist)return null;const t3=e3.assist;return t3.speak&&""!==t3.speak[r.$content]?t3.speak[r.$content]:t3.toolTip?t3.toolTip[r.$content]:null}function valueToHtml(e3){return o.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:e3}]})}function setFirstUnsplittable(e3){const t3=e3[r.$getTemplateRoot]();null===t3[r.$extra].firstUnsplittable&&(t3[r.$extra].firstUnsplittable=e3,t3[r.$extra].noLayoutFailure=!0)}function unsetFirstUnsplittable(e3){const t3=e3[r.$getTemplateRoot]();t3[r.$extra].firstUnsplittable===e3&&(t3[r.$extra].noLayoutFailure=!1)}function handleBreak(e3){if(e3[r.$extra]||(e3[r.$extra]=Object.create(null),"auto"===e3.targetType))return!1;const t3=e3[r.$getTemplateRoot]();let a3=null;if(e3.target){if(a3=t3[r.$searchNode](e3.target,e3[r.$getParent]()),!a3)return!1;a3=a3[0]}const{currentPageArea:n2,currentContentArea:i2}=t3[r.$extra];if("pageArea"===e3.targetType)return a3 instanceof PageArea||(a3=null),e3.startNew?(e3[r.$extra].target=a3||n2,!0):!(!a3||a3===n2||(e3[r.$extra].target=a3,0));a3 instanceof ContentArea||(a3=null);const s2=a3&&a3[r.$getParent]();let o2,c2=s2;if(e3.startNew)if(a3){const e4=s2.contentArea.children,t4=e4.indexOf(i2),r2=e4.indexOf(a3);-1!==t4&&t4<r2&&(c2=null),o2=r2-1}else o2=n2.contentArea.children.indexOf(i2);else{if(!a3||a3===i2)return!1;o2=s2.contentArea.children.indexOf(a3)-1,c2=s2===n2?null:s2}return e3[r.$extra].target=c2,e3[r.$extra].index=o2,!0}function handleOverflow(e3,t3,a3){const n2=e3[r.$getTemplateRoot](),i2=n2[r.$extra].noLayoutFailure,s2=t3[r.$getSubformParent];t3[r.$getSubformParent]=()=>e3,n2[r.$extra].noLayoutFailure=!0;const o2=t3[r.$toHTML](a3);e3[r.$addHTML](o2.html,o2.bbox),n2[r.$extra].noLayoutFailure=i2,t3[r.$getSubformParent]=s2}class AppearanceFilter extends r.StringObject{constructor(e3){super(d,"appearanceFilter"),this.id=e3.id||"",this.type=(0,o.getStringOption)(e3.type,["optional","required"]),this.use=e3.use||"",this.usehref=e3.usehref||""}}class Arc extends r.XFAObject{constructor(e3){super(d,"arc",!0),this.circular=(0,o.getInteger)({data:e3.circular,defaultValue:0,validate:e4=>1===e4}),this.hand=(0,o.getStringOption)(e3.hand,["even","left","right"]),this.id=e3.id||"",this.startAngle=(0,o.getFloat)({data:e3.startAngle,defaultValue:0,validate:e4=>!0}),this.sweepAngle=(0,o.getFloat)({data:e3.sweepAngle,defaultValue:360,validate:e4=>!0}),this.use=e3.use||"",this.usehref=e3.usehref||"",this.edge=null,this.fill=null}[r.$toHTML](){const e3=this.edge||new Edge({}),t3=e3[r.$toStyle](),a3=Object.create(null);let n2;this.fill&&"visible"===this.fill.presence?Object.assign(a3,this.fill[r.$toStyle]()):a3.fill="transparent",a3.strokeWidth=(0,s.measureToString)("visible"===e3.presence?e3.thickness:0),a3.stroke=t3.color;const i2={xmlns:f,style:{width:"100%",height:"100%",overflow:"visible"}};if(360===this.sweepAngle)n2={name:"ellipse",attributes:{xmlns:f,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:a3}};else{const e4=this.startAngle*Math.PI/180,t4=this.sweepAngle*Math.PI/180,r2=this.sweepAngle>180?1:0,[s2,o2,c3,l2]=[50*(1+Math.cos(e4)),50*(1-Math.sin(e4)),50*(1+Math.cos(e4+t4)),50*(1-Math.sin(e4+t4))];n2={name:"path",attributes:{xmlns:f,d:`M ${s2} ${o2} A 50 50 0 ${r2} 0 ${c3} ${l2}`,vectorEffect:"non-scaling-stroke",style:a3}},Object.assign(i2,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const c2={name:"svg",children:[n2],attributes:i2};return hasMargin(this[r.$getParent]()[r.$getParent]())?o.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[c2]}):(c2.attributes.style.position="absolute",o.HTMLResult.success(c2))}}class Area extends r.XFAObject{constructor(e3){super(d,"area",!0),this.colSpan=(0,o.getInteger)({data:e3.colSpan,defaultValue:1,validate:e4=>e4>=1||-1===e4}),this.id=e3.id||"",this.name=e3.name||"",this.relevant=(0,o.getRelevant)(e3.relevant),this.use=e3.use||"",this.usehref=e3.usehref||"",this.x=(0,o.getMeasurement)(e3.x,"0pt"),this.y=(0,o.getMeasurement)(e3.y,"0pt"),this.desc=null,this.extras=null,this.area=new r.XFAObjectArray,this.draw=new r.XFAObjectArray,this.exObject=new r.XFAObjectArray,this.exclGroup=new r.XFAObjectArray,this.field=new r.XFAObjectArray,this.subform=new r.XFAObjectArray,this.subformSet=new r.XFAObjectArray}*[r.$getContainedChildren](){yield*getContainedChildren(this)}[r.$isTransparent](){return!0}[r.$isBindable](){return!0}[r.$addHTML](e3,t3){const[a3,n2,i2,s2]=t3;this[r.$extra].width=Math.max(this[r.$extra].width,a3+i2),this[r.$extra].height=Math.max(this[r.$extra].height,n2+s2),this[r.$extra].children.push(e3)}[r.$getAvailableSpace](){return this[r.$extra].availableSpace}[r.$toHTML](e3){const t3=(0,s.toStyle)(this,"position"),a3={style:t3,id:this[r.$uid],class:["xfaArea"]};(0,s.isPrintOnly)(this)&&a3.class.push("xfaPrintOnly"),this.name&&(a3.xfaName=this.name);const n2=[];this[r.$extra]={children:n2,width:0,height:0,availableSpace:e3};const i2=this[r.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!i2.success)return i2.isBreak()?i2:(delete this[r.$extra],o.HTMLResult.FAILURE);t3.width=(0,s.measureToString)(this[r.$extra].width),t3.height=(0,s.measureToString)(this[r.$extra].height);const c2={name:"div",attributes:a3,children:n2},l2=[this.x,this.y,this[r.$extra].width,this[r.$extra].height];return delete this[r.$extra],o.HTMLResult.success(c2,l2)}}class Assist extends r.XFAObject{constructor(e3){super(d,"assist",!0),this.id=e3.id||"",this.role=e3.role||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.speak=null,this.toolTip=null}[r.$toHTML](){return this.toolTip&&this.toolTip[r.$content]?this.toolTip[r.$content]:null}}class Barcode extends r.XFAObject{constructor(e3){super(d,"barcode",!0),this.charEncoding=(0,o.getKeyword)({data:e3.charEncoding?e3.charEncoding.toLowerCase():"",defaultValue:"",validate:e4=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(e4)||e4.match(/iso-8859-\d{2}/)}),this.checksum=(0,o.getStringOption)(e3.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,o.getInteger)({data:e3.dataColumnCount,defaultValue:-1,validate:e4=>e4>=0}),this.dataLength=(0,o.getInteger)({data:e3.dataLength,defaultValue:-1,validate:e4=>e4>=0}),this.dataPrep=(0,o.getStringOption)(e3.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,o.getInteger)({data:e3.dataRowCount,defaultValue:-1,validate:e4=>e4>=0}),this.endChar=e3.endChar||"",this.errorCorrectionLevel=(0,o.getInteger)({data:e3.errorCorrectionLevel,defaultValue:-1,validate:e4=>e4>=0&&e4<=8}),this.id=e3.id||"",this.moduleHeight=(0,o.getMeasurement)(e3.moduleHeight,"5mm"),this.moduleWidth=(0,o.getMeasurement)(e3.moduleWidth,"0.25mm"),this.printCheckDigit=(0,o.getInteger)({data:e3.printCheckDigit,defaultValue:0,validate:e4=>1===e4}),this.rowColumnRatio=(0,o.getRatio)(e3.rowColumnRatio),this.startChar=e3.startChar||"",this.textLocation=(0,o.getStringOption)(e3.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,o.getInteger)({data:e3.truncate,defaultValue:0,validate:e4=>1===e4}),this.type=(0,o.getStringOption)(e3.type?e3.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,o.getStringOption)(e3.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.wideNarrowRatio=(0,o.getRatio)(e3.wideNarrowRatio),this.encrypt=null,this.extras=null}}class Bind extends r.XFAObject{constructor(e3){super(d,"bind",!0),this.match=(0,o.getStringOption)(e3.match,["once","dataRef","global","none"]),this.ref=e3.ref||"",this.picture=null}}class BindItems extends r.XFAObject{constructor(e3){super(d,"bindItems"),this.connection=e3.connection||"",this.labelRef=e3.labelRef||"",this.ref=e3.ref||"",this.valueRef=e3.valueRef||""}}t2.BindItems=BindItems;class Bookend extends r.XFAObject{constructor(e3){super(d,"bookend"),this.id=e3.id||"",this.leader=e3.leader||"",this.trailer=e3.trailer||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class BooleanElement extends r.Option01{constructor(e3){super(d,"boolean"),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}[r.$toHTML](e3){return valueToHtml(1===this[r.$content]?"1":"0")}}class Border extends r.XFAObject{constructor(e3){super(d,"border",!0),this.break=(0,o.getStringOption)(e3.break,["close","open"]),this.hand=(0,o.getStringOption)(e3.hand,["even","left","right"]),this.id=e3.id||"",this.presence=(0,o.getStringOption)(e3.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,o.getRelevant)(e3.relevant),this.use=e3.use||"",this.usehref=e3.usehref||"",this.corner=new r.XFAObjectArray(4),this.edge=new r.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[r.$getExtra](){if(!this[r.$extra]){const e3=this.edge.children.slice();if(e3.length<4){const t4=e3.at(-1)||new Edge({});for(let a4=e3.length;a4<4;a4++)e3.push(t4)}const t3=e3.map(e4=>e4.thickness),a3=[0,0,0,0];this.margin&&(a3[0]=this.margin.topInset,a3[1]=this.margin.rightInset,a3[2]=this.margin.bottomInset,a3[3]=this.margin.leftInset),this[r.$extra]={widths:t3,insets:a3,edges:e3}}return this[r.$extra]}[r.$toStyle](){const{edges:e3}=this[r.$getExtra](),t3=e3.map(e4=>{const t4=e4[r.$toStyle]();return t4.color=t4.color||"#000000",t4}),a3=Object.create(null);if(this.margin&&Object.assign(a3,this.margin[r.$toStyle]()),this.fill&&"visible"===this.fill.presence&&Object.assign(a3,this.fill[r.$toStyle]()),this.corner.children.some(e4=>0!==e4.radius)){const e4=this.corner.children.map(e5=>e5[r.$toStyle]());if(2===e4.length||3===e4.length){const t4=e4.at(-1);for(let a4=e4.length;a4<4;a4++)e4.push(t4)}a3.borderRadius=e4.map(e5=>e5.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":a3.borderStyle="";break;case"inactive":a3.borderStyle="none";break;default:a3.borderStyle=t3.map(e4=>e4.style).join(" ")}return a3.borderWidth=t3.map(e4=>e4.width).join(" "),a3.borderColor=t3.map(e4=>e4.color).join(" "),a3}}class Break extends r.XFAObject{constructor(e3){super(d,"break",!0),this.after=(0,o.getStringOption)(e3.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=e3.afterTarget||"",this.before=(0,o.getStringOption)(e3.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=e3.beforeTarget||"",this.bookendLeader=e3.bookendLeader||"",this.bookendTrailer=e3.bookendTrailer||"",this.id=e3.id||"",this.overflowLeader=e3.overflowLeader||"",this.overflowTarget=e3.overflowTarget||"",this.overflowTrailer=e3.overflowTrailer||"",this.startNew=(0,o.getInteger)({data:e3.startNew,defaultValue:0,validate:e4=>1===e4}),this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null}}class BreakAfter extends r.XFAObject{constructor(e3){super(d,"breakAfter",!0),this.id=e3.id||"",this.leader=e3.leader||"",this.startNew=(0,o.getInteger)({data:e3.startNew,defaultValue:0,validate:e4=>1===e4}),this.target=e3.target||"",this.targetType=(0,o.getStringOption)(e3.targetType,["auto","contentArea","pageArea"]),this.trailer=e3.trailer||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.script=null}}class BreakBefore extends r.XFAObject{constructor(e3){super(d,"breakBefore",!0),this.id=e3.id||"",this.leader=e3.leader||"",this.startNew=(0,o.getInteger)({data:e3.startNew,defaultValue:0,validate:e4=>1===e4}),this.target=e3.target||"",this.targetType=(0,o.getStringOption)(e3.targetType,["auto","contentArea","pageArea"]),this.trailer=e3.trailer||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.script=null}[r.$toHTML](e3){return this[r.$extra]={},o.HTMLResult.FAILURE}}class Button extends r.XFAObject{constructor(e3){super(d,"button",!0),this.highlight=(0,o.getStringOption)(e3.highlight,["inverted","none","outline","push"]),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null}[r.$toHTML](e3){const t3=this[r.$getParent]()[r.$getParent](),a3={name:"button",attributes:{id:this[r.$uid],class:["xfaButton"],style:{}},children:[]};for(const e4 of t3.event.children){if("click"!==e4.activity||!e4.script)continue;const t4=(0,h.recoverJsURL)(e4.script[r.$content]);if(!t4)continue;const n2=(0,s.fixURL)(t4.url);n2&&a3.children.push({name:"a",attributes:{id:"link"+this[r.$uid],href:n2,newWindow:t4.newWindow,class:["xfaLink"],style:{}},children:[]})}return o.HTMLResult.success(a3)}}class Calculate extends r.XFAObject{constructor(e3){super(d,"calculate",!0),this.id=e3.id||"",this.override=(0,o.getStringOption)(e3.override,["disabled","error","ignore","warning"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null,this.message=null,this.script=null}}class Caption extends r.XFAObject{constructor(e3){super(d,"caption",!0),this.id=e3.id||"",this.placement=(0,o.getStringOption)(e3.placement,["left","bottom","inline","right","top"]),this.presence=(0,o.getStringOption)(e3.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,o.getMeasurement)(e3.reserve)),this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[r.$setValue](e3){_setValue(this,e3)}[r.$getExtra](e3){if(!this[r.$extra]){let{width:t3,height:a3}=e3;switch(this.placement){case"left":case"right":case"inline":t3=this.reserve<=0?t3:this.reserve;break;case"top":case"bottom":a3=this.reserve<=0?a3:this.reserve}this[r.$extra]=(0,s.layoutNode)(this,{width:t3,height:a3})}return this[r.$extra]}[r.$toHTML](e3){if(!this.value)return o.HTMLResult.EMPTY;this[r.$pushPara]();const t3=this.value[r.$toHTML](e3).html;if(!t3)return this[r.$popPara](),o.HTMLResult.EMPTY;const a3=this.reserve;if(this.reserve<=0){const{w:t4,h:a4}=this[r.$getExtra](e3);switch(this.placement){case"left":case"right":case"inline":this.reserve=t4;break;case"top":case"bottom":this.reserve=a4}}const n2=[];n2.push("string"==typeof t3?{name:"#text",value:t3}:t3);const i2=(0,s.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(i2.width=(0,s.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(i2.height=(0,s.measureToString)(this.reserve))}return(0,s.setPara)(this,null,t3),this[r.$popPara](),this.reserve=a3,o.HTMLResult.success({name:"div",attributes:{style:i2,class:["xfaCaption"]},children:n2})}}class Certificate extends r.StringObject{constructor(e3){super(d,"certificate"),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class Certificates extends r.XFAObject{constructor(e3){super(d,"certificates",!0),this.credentialServerPolicy=(0,o.getStringOption)(e3.credentialServerPolicy,["optional","required"]),this.id=e3.id||"",this.url=e3.url||"",this.urlPolicy=e3.urlPolicy||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class CheckButton extends r.XFAObject{constructor(e3){super(d,"checkButton",!0),this.id=e3.id||"",this.mark=(0,o.getStringOption)(e3.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,o.getStringOption)(e3.shape,["square","round"]),this.size=(0,o.getMeasurement)(e3.size,"10pt"),this.use=e3.use||"",this.usehref=e3.usehref||"",this.border=null,this.extras=null,this.margin=null}[r.$toHTML](e3){const t3=(0,s.toStyle)("margin"),a3=(0,s.measureToString)(this.size);let n2,i2,c2;t3.width=t3.height=a3;const l2=this[r.$getParent]()[r.$getParent](),h2=l2.items.children.length&&l2.items.children[0][r.$toHTML]().html||[],u2={on:(void 0!==h2[0]?h2[0]:"on").toString(),off:(void 0!==h2[1]?h2[1]:"off").toString()},d2=(l2.value&&l2.value[r.$text]()||"off")===u2.on||void 0,f2=l2[r.$getSubformParent]();let p2;f2 instanceof ExclGroup?(c2=f2[r.$uid],n2="radio",i2="xfaRadio",p2=f2[r.$data]&&f2[r.$data][r.$uid]||f2[r.$uid]):(n2="checkbox",i2="xfaCheckbox",p2=l2[r.$data]&&l2[r.$data][r.$uid]||l2[r.$uid]);const m2={name:"input",attributes:{class:[i2],style:t3,fieldId:l2[r.$uid],dataId:p2,type:n2,checked:d2,xfaOn:u2.on,xfaOff:u2.off,"aria-label":ariaLabel(l2),"aria-required":!1}};return c2&&(m2.attributes.name=c2),isRequired(l2)&&(m2.attributes["aria-required"]=!0,m2.attributes.required=!0),o.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[m2]})}}class ChoiceList extends r.XFAObject{constructor(e3){super(d,"choiceList",!0),this.commitOn=(0,o.getStringOption)(e3.commitOn,["select","exit"]),this.id=e3.id||"",this.open=(0,o.getStringOption)(e3.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,o.getInteger)({data:e3.textEntry,defaultValue:0,validate:e4=>1===e4}),this.use=e3.use||"",this.usehref=e3.usehref||"",this.border=null,this.extras=null,this.margin=null}[r.$toHTML](e3){const t3=(0,s.toStyle)(this,"border","margin"),a3=this[r.$getParent]()[r.$getParent](),n2={fontSize:`calc(${a3.font&&a3.font.size||10}px * var(--scale-factor))`},i2=[];if(a3.items.children.length>0){const e4=a3.items;let t4=0,s2=0;2===e4.children.length&&(t4=e4.children[0].save,s2=1-t4);const o2=e4.children[t4][r.$toHTML]().html,c3=e4.children[s2][r.$toHTML]().html;let l2=!1;const h2=a3.value&&a3.value[r.$text]()||"";for(let e5=0,t5=o2.length;e5<t5;e5++){const t6={name:"option",attributes:{value:c3[e5]||o2[e5],style:n2},value:o2[e5]};c3[e5]===h2&&(t6.attributes.selected=l2=!0),i2.push(t6)}l2||i2.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const c2={class:["xfaSelect"],fieldId:a3[r.$uid],dataId:a3[r.$data]&&a3[r.$data][r.$uid]||a3[r.$uid],style:t3,"aria-label":ariaLabel(a3),"aria-required":!1};return isRequired(a3)&&(c2["aria-required"]=!0,c2.required=!0),"multiSelect"===this.open&&(c2.multiple=!0),o.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:i2,attributes:c2}]})}}class Color extends r.XFAObject{constructor(e3){super(d,"color",!0),this.cSpace=(0,o.getStringOption)(e3.cSpace,["SRGB"]),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.value=e3.value?(0,o.getColor)(e3.value):"",this.extras=null}[r.$hasSettableValue](){return!1}[r.$toStyle](){return this.value?c.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class Comb extends r.XFAObject{constructor(e3){super(d,"comb"),this.id=e3.id||"",this.numberOfCells=(0,o.getInteger)({data:e3.numberOfCells,defaultValue:0,validate:e4=>e4>=0}),this.use=e3.use||"",this.usehref=e3.usehref||""}}class Connect extends r.XFAObject{constructor(e3){super(d,"connect",!0),this.connection=e3.connection||"",this.id=e3.id||"",this.ref=e3.ref||"",this.usage=(0,o.getStringOption)(e3.usage,["exportAndImport","exportOnly","importOnly"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.picture=null}}class ContentArea extends r.XFAObject{constructor(e3){super(d,"contentArea",!0),this.h=(0,o.getMeasurement)(e3.h),this.id=e3.id||"",this.name=e3.name||"",this.relevant=(0,o.getRelevant)(e3.relevant),this.use=e3.use||"",this.usehref=e3.usehref||"",this.w=(0,o.getMeasurement)(e3.w),this.x=(0,o.getMeasurement)(e3.x,"0pt"),this.y=(0,o.getMeasurement)(e3.y,"0pt"),this.desc=null,this.extras=null}[r.$toHTML](e3){const t3={left:(0,s.measureToString)(this.x),top:(0,s.measureToString)(this.y),width:(0,s.measureToString)(this.w),height:(0,s.measureToString)(this.h)},a3=["xfaContentarea"];return(0,s.isPrintOnly)(this)&&a3.push("xfaPrintOnly"),o.HTMLResult.success({name:"div",children:[],attributes:{style:t3,class:a3,id:this[r.$uid]}})}}class Corner extends r.XFAObject{constructor(e3){super(d,"corner",!0),this.id=e3.id||"",this.inverted=(0,o.getInteger)({data:e3.inverted,defaultValue:0,validate:e4=>1===e4}),this.join=(0,o.getStringOption)(e3.join,["square","round"]),this.presence=(0,o.getStringOption)(e3.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,o.getMeasurement)(e3.radius),this.stroke=(0,o.getStringOption)(e3.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,o.getMeasurement)(e3.thickness,"0.5pt"),this.use=e3.use||"",this.usehref=e3.usehref||"",this.color=null,this.extras=null}[r.$toStyle](){const e3=(0,s.toStyle)(this,"visibility");return e3.radius=(0,s.measureToString)("square"===this.join?0:this.radius),e3}}class DateElement extends r.ContentObject{constructor(e3){super(d,"date"),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}[r.$finalize](){const e3=this[r.$content].trim();this[r.$content]=e3?new Date(e3):null}[r.$toHTML](e3){return valueToHtml(this[r.$content]?this[r.$content].toString():"")}}class DateTime extends r.ContentObject{constructor(e3){super(d,"dateTime"),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}[r.$finalize](){const e3=this[r.$content].trim();this[r.$content]=e3?new Date(e3):null}[r.$toHTML](e3){return valueToHtml(this[r.$content]?this[r.$content].toString():"")}}class DateTimeEdit extends r.XFAObject{constructor(e3){super(d,"dateTimeEdit",!0),this.hScrollPolicy=(0,o.getStringOption)(e3.hScrollPolicy,["auto","off","on"]),this.id=e3.id||"",this.picker=(0,o.getStringOption)(e3.picker,["host","none"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[r.$toHTML](e3){const t3=(0,s.toStyle)(this,"border","font","margin"),a3=this[r.$getParent]()[r.$getParent](),n2={name:"input",attributes:{type:"text",fieldId:a3[r.$uid],dataId:a3[r.$data]&&a3[r.$data][r.$uid]||a3[r.$uid],class:["xfaTextfield"],style:t3,"aria-label":ariaLabel(a3),"aria-required":!1}};return isRequired(a3)&&(n2.attributes["aria-required"]=!0,n2.attributes.required=!0),o.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[n2]})}}class Decimal extends r.ContentObject{constructor(e3){super(d,"decimal"),this.fracDigits=(0,o.getInteger)({data:e3.fracDigits,defaultValue:2,validate:e4=>!0}),this.id=e3.id||"",this.leadDigits=(0,o.getInteger)({data:e3.leadDigits,defaultValue:-1,validate:e4=>!0}),this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}[r.$finalize](){const e3=parseFloat(this[r.$content].trim());this[r.$content]=isNaN(e3)?null:e3}[r.$toHTML](e3){return valueToHtml(null!==this[r.$content]?this[r.$content].toString():"")}}class DefaultUi extends r.XFAObject{constructor(e3){super(d,"defaultUi",!0),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null}}class Desc extends r.XFAObject{constructor(e3){super(d,"desc",!0),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.boolean=new r.XFAObjectArray,this.date=new r.XFAObjectArray,this.dateTime=new r.XFAObjectArray,this.decimal=new r.XFAObjectArray,this.exData=new r.XFAObjectArray,this.float=new r.XFAObjectArray,this.image=new r.XFAObjectArray,this.integer=new r.XFAObjectArray,this.text=new r.XFAObjectArray,this.time=new r.XFAObjectArray}}class DigestMethod extends r.OptionObject{constructor(e3){super(d,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class DigestMethods extends r.XFAObject{constructor(e3){super(d,"digestMethods",!0),this.id=e3.id||"",this.type=(0,o.getStringOption)(e3.type,["optional","required"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.digestMethod=new r.XFAObjectArray}}class Draw extends r.XFAObject{constructor(e3){super(d,"draw",!0),this.anchorType=(0,o.getStringOption)(e3.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,o.getInteger)({data:e3.colSpan,defaultValue:1,validate:e4=>e4>=1||-1===e4}),this.h=e3.h?(0,o.getMeasurement)(e3.h):"",this.hAlign=(0,o.getStringOption)(e3.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=e3.id||"",this.locale=e3.locale||"",this.maxH=(0,o.getMeasurement)(e3.maxH,"0pt"),this.maxW=(0,o.getMeasurement)(e3.maxW,"0pt"),this.minH=(0,o.getMeasurement)(e3.minH,"0pt"),this.minW=(0,o.getMeasurement)(e3.minW,"0pt"),this.name=e3.name||"",this.presence=(0,o.getStringOption)(e3.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,o.getRelevant)(e3.relevant),this.rotate=(0,o.getInteger)({data:e3.rotate,defaultValue:0,validate:e4=>e4%90==0}),this.use=e3.use||"",this.usehref=e3.usehref||"",this.w=e3.w?(0,o.getMeasurement)(e3.w):"",this.x=(0,o.getMeasurement)(e3.x,"0pt"),this.y=(0,o.getMeasurement)(e3.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new r.XFAObjectArray}[r.$setValue](e3){_setValue(this,e3)}[r.$toHTML](e3){if(setTabIndex(this),"hidden"===this.presence||"inactive"===this.presence)return o.HTMLResult.EMPTY;(0,s.fixDimensions)(this),this[r.$pushPara]();const t3=this.w,a3=this.h,{w:n2,h:c2,isBroken:l2}=(0,s.layoutNode)(this,e3);if(n2&&""===this.w){if(l2&&this[r.$getSubformParent]()[r.$isThereMoreWidth]())return this[r.$popPara](),o.HTMLResult.FAILURE;this.w=n2}if(c2&&""===this.h&&(this.h=c2),setFirstUnsplittable(this),!(0,i.checkDimensions)(this,e3))return this.w=t3,this.h=a3,this[r.$popPara](),o.HTMLResult.FAILURE;unsetFirstUnsplittable(this);const h2=(0,s.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,s.setMinMaxDimensions)(this,h2),h2.margin&&(h2.padding=h2.margin,delete h2.margin);const u2=["xfaDraw"];this.font&&u2.push("xfaFont"),(0,s.isPrintOnly)(this)&&u2.push("xfaPrintOnly");const d2={style:h2,id:this[r.$uid],class:u2};this.name&&(d2.xfaName=this.name);const f2={name:"div",attributes:d2,children:[]};applyAssist(this,d2);const g2=(0,s.computeBbox)(this,f2,e3),p2=this.value?this.value[r.$toHTML](e3).html:null;return null===p2?(this.w=t3,this.h=a3,this[r.$popPara](),o.HTMLResult.success((0,s.createWrapper)(this,f2),g2)):(f2.children.push(p2),(0,s.setPara)(this,h2,p2),this.w=t3,this.h=a3,this[r.$popPara](),o.HTMLResult.success((0,s.createWrapper)(this,f2),g2))}}class Edge extends r.XFAObject{constructor(e3){super(d,"edge",!0),this.cap=(0,o.getStringOption)(e3.cap,["square","butt","round"]),this.id=e3.id||"",this.presence=(0,o.getStringOption)(e3.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,o.getStringOption)(e3.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,o.getMeasurement)(e3.thickness,"0.5pt"),this.use=e3.use||"",this.usehref=e3.usehref||"",this.color=null,this.extras=null}[r.$toStyle](){const e3=(0,s.toStyle)(this,"visibility");if(Object.assign(e3,{linecap:this.cap,width:(0,s.measureToString)(this.thickness),color:this.color?this.color[r.$toStyle]():"#000000",style:""}),"visible"!==this.presence)e3.style="none";else switch(this.stroke){case"solid":e3.style="solid";break;case"dashDot":case"dashDotDot":case"dashed":e3.style="dashed";break;case"dotted":e3.style="dotted";break;case"embossed":e3.style="ridge";break;case"etched":e3.style="groove";break;case"lowered":e3.style="inset";break;case"raised":e3.style="outset"}return e3}}class Encoding extends r.OptionObject{constructor(e3){super(d,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class Encodings extends r.XFAObject{constructor(e3){super(d,"encodings",!0),this.id=e3.id||"",this.type=(0,o.getStringOption)(e3.type,["optional","required"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.encoding=new r.XFAObjectArray}}class Encrypt extends r.XFAObject{constructor(e3){super(d,"encrypt",!0),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.certificate=null}}class EncryptData extends r.XFAObject{constructor(e3){super(d,"encryptData",!0),this.id=e3.id||"",this.operation=(0,o.getStringOption)(e3.operation,["encrypt","decrypt"]),this.target=e3.target||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.filter=null,this.manifest=null}}class Encryption extends r.XFAObject{constructor(e3){super(d,"encryption",!0),this.id=e3.id||"",this.type=(0,o.getStringOption)(e3.type,["optional","required"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.certificate=new r.XFAObjectArray}}class EncryptionMethod extends r.OptionObject{constructor(e3){super(d,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class EncryptionMethods extends r.XFAObject{constructor(e3){super(d,"encryptionMethods",!0),this.id=e3.id||"",this.type=(0,o.getStringOption)(e3.type,["optional","required"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.encryptionMethod=new r.XFAObjectArray}}class Event2 extends r.XFAObject{constructor(e3){super(d,"event",!0),this.activity=(0,o.getStringOption)(e3.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=e3.id||"",this.listen=(0,o.getStringOption)(e3.listen,["refOnly","refAndDescendents"]),this.name=e3.name||"",this.ref=e3.ref||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class ExData extends r.ContentObject{constructor(e3){super(d,"exData"),this.contentType=e3.contentType||"",this.href=e3.href||"",this.id=e3.id||"",this.maxLength=(0,o.getInteger)({data:e3.maxLength,defaultValue:-1,validate:e4=>e4>=-1}),this.name=e3.name||"",this.rid=e3.rid||"",this.transferEncoding=(0,o.getStringOption)(e3.transferEncoding,["none","base64","package"]),this.use=e3.use||"",this.usehref=e3.usehref||""}[r.$isCDATAXml](){return"text/html"===this.contentType}[r.$onChild](e3){return("text/html"===this.contentType&&e3[r.$namespaceId]===n.NamespaceIds.xhtml.id||"text/xml"===this.contentType)&&(this[r.$content]=e3,!0)}[r.$toHTML](e3){return"text/html"===this.contentType&&this[r.$content]?this[r.$content][r.$toHTML](e3):o.HTMLResult.EMPTY}}class ExObject extends r.XFAObject{constructor(e3){super(d,"exObject",!0),this.archive=e3.archive||"",this.classId=e3.classId||"",this.codeBase=e3.codeBase||"",this.codeType=e3.codeType||"",this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null,this.boolean=new r.XFAObjectArray,this.date=new r.XFAObjectArray,this.dateTime=new r.XFAObjectArray,this.decimal=new r.XFAObjectArray,this.exData=new r.XFAObjectArray,this.exObject=new r.XFAObjectArray,this.float=new r.XFAObjectArray,this.image=new r.XFAObjectArray,this.integer=new r.XFAObjectArray,this.text=new r.XFAObjectArray,this.time=new r.XFAObjectArray}}class ExclGroup extends r.XFAObject{constructor(e3){super(d,"exclGroup",!0),this.access=(0,o.getStringOption)(e3.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=e3.accessKey||"",this.anchorType=(0,o.getStringOption)(e3.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,o.getInteger)({data:e3.colSpan,defaultValue:1,validate:e4=>e4>=1||-1===e4}),this.h=e3.h?(0,o.getMeasurement)(e3.h):"",this.hAlign=(0,o.getStringOption)(e3.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=e3.id||"",this.layout=(0,o.getStringOption)(e3.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,o.getMeasurement)(e3.maxH,"0pt"),this.maxW=(0,o.getMeasurement)(e3.maxW,"0pt"),this.minH=(0,o.getMeasurement)(e3.minH,"0pt"),this.minW=(0,o.getMeasurement)(e3.minW,"0pt"),this.name=e3.name||"",this.presence=(0,o.getStringOption)(e3.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,o.getRelevant)(e3.relevant),this.use=e3.use||"",this.usehref=e3.usehref||"",this.w=e3.w?(0,o.getMeasurement)(e3.w):"",this.x=(0,o.getMeasurement)(e3.x,"0pt"),this.y=(0,o.getMeasurement)(e3.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new r.XFAObjectArray,this.event=new r.XFAObjectArray,this.field=new r.XFAObjectArray,this.setProperty=new r.XFAObjectArray}[r.$isBindable](){return!0}[r.$hasSettableValue](){return!0}[r.$setValue](e3){for(const t3 of this.field.children){if(!t3.value){const e4=new Value({});t3[r.$appendChild](e4),t3.value=e4}t3.value[r.$setValue](e3)}}[r.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&0===this[r.$extra].attempt&&this[r.$extra].numberInLine>0||this[r.$getParent]()[r.$isThereMoreWidth]()}[r.$isSplittable](){const e3=this[r.$getSubformParent]();return!!e3[r.$isSplittable]()&&(void 0!==this[r.$extra]._isSplittable?this[r.$extra]._isSplittable:"position"===this.layout||this.layout.includes("row")?(this[r.$extra]._isSplittable=!1,!1):!(e3.layout&&e3.layout.endsWith("-tb")&&0!==e3[r.$extra].numberInLine||(this[r.$extra]._isSplittable=!0,0)))}[r.$flushHTML](){return(0,i.flushHTML)(this)}[r.$addHTML](e3,t3){(0,i.addHTML)(this,e3,t3)}[r.$getAvailableSpace](){return(0,i.getAvailableSpace)(this)}[r.$toHTML](e3){if(setTabIndex(this),"hidden"===this.presence||"inactive"===this.presence||0===this.h||0===this.w)return o.HTMLResult.EMPTY;(0,s.fixDimensions)(this);const t3=[],a3={id:this[r.$uid],class:[]};(0,s.setAccess)(this,a3.class),this[r.$extra]||(this[r.$extra]=Object.create(null)),Object.assign(this[r.$extra],{children:t3,attributes:a3,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,e3.width),height:Math.min(this.h||1/0,e3.height)},width:0,height:0,prevHeight:0,currentWidth:0});const n2=this[r.$isSplittable]();if(n2||setFirstUnsplittable(this),!(0,i.checkDimensions)(this,e3))return o.HTMLResult.FAILURE;const c2=new Set(["field"]);if(this.layout.includes("row")){const e4=this[r.$getSubformParent]().columnWidths;Array.isArray(e4)&&e4.length>0&&(this[r.$extra].columnWidths=e4,this[r.$extra].currentColumn=0)}const l2=(0,s.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),h2=["xfaExclgroup"],u2=(0,s.layoutClass)(this);u2&&h2.push(u2),(0,s.isPrintOnly)(this)&&h2.push("xfaPrintOnly"),a3.style=l2,a3.class=h2,this.name&&(a3.xfaName=this.name),this[r.$pushPara]();const d2="lr-tb"===this.layout||"rl-tb"===this.layout,f2=d2?2:1;for(;this[r.$extra].attempt<f2;this[r.$extra].attempt++){d2&&1===this[r.$extra].attempt&&(this[r.$extra].numberInLine=0);const e4=this[r.$childrenToHTML]({filter:c2,include:!0});if(e4.success)break;if(e4.isBreak())return this[r.$popPara](),e4;if(d2&&0===this[r.$extra].attempt&&0===this[r.$extra].numberInLine&&!this[r.$getTemplateRoot]()[r.$extra].noLayoutFailure){this[r.$extra].attempt=f2;break}}if(this[r.$popPara](),n2||unsetFirstUnsplittable(this),this[r.$extra].attempt===f2)return n2||delete this[r.$extra],o.HTMLResult.FAILURE;let g2=0,p2=0;this.margin&&(g2=this.margin.leftInset+this.margin.rightInset,p2=this.margin.topInset+this.margin.bottomInset);const m2=Math.max(this[r.$extra].width+g2,this.w||0),b=Math.max(this[r.$extra].height+p2,this.h||0),y=[this.x,this.y,m2,b];""===this.w&&(l2.width=(0,s.measureToString)(m2)),""===this.h&&(l2.height=(0,s.measureToString)(b));const w={name:"div",attributes:a3,children:t3};return applyAssist(this,a3),delete this[r.$extra],o.HTMLResult.success((0,s.createWrapper)(this,w),y)}}class Execute extends r.XFAObject{constructor(e3){super(d,"execute"),this.connection=e3.connection||"",this.executeType=(0,o.getStringOption)(e3.executeType,["import","remerge"]),this.id=e3.id||"",this.runAt=(0,o.getStringOption)(e3.runAt,["client","both","server"]),this.use=e3.use||"",this.usehref=e3.usehref||""}}class Extras extends r.XFAObject{constructor(e3){super(d,"extras",!0),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.boolean=new r.XFAObjectArray,this.date=new r.XFAObjectArray,this.dateTime=new r.XFAObjectArray,this.decimal=new r.XFAObjectArray,this.exData=new r.XFAObjectArray,this.extras=new r.XFAObjectArray,this.float=new r.XFAObjectArray,this.image=new r.XFAObjectArray,this.integer=new r.XFAObjectArray,this.text=new r.XFAObjectArray,this.time=new r.XFAObjectArray}}class Field extends r.XFAObject{constructor(e3){super(d,"field",!0),this.access=(0,o.getStringOption)(e3.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=e3.accessKey||"",this.anchorType=(0,o.getStringOption)(e3.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,o.getInteger)({data:e3.colSpan,defaultValue:1,validate:e4=>e4>=1||-1===e4}),this.h=e3.h?(0,o.getMeasurement)(e3.h):"",this.hAlign=(0,o.getStringOption)(e3.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=e3.id||"",this.locale=e3.locale||"",this.maxH=(0,o.getMeasurement)(e3.maxH,"0pt"),this.maxW=(0,o.getMeasurement)(e3.maxW,"0pt"),this.minH=(0,o.getMeasurement)(e3.minH,"0pt"),this.minW=(0,o.getMeasurement)(e3.minW,"0pt"),this.name=e3.name||"",this.presence=(0,o.getStringOption)(e3.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,o.getRelevant)(e3.relevant),this.rotate=(0,o.getInteger)({data:e3.rotate,defaultValue:0,validate:e4=>e4%90==0}),this.use=e3.use||"",this.usehref=e3.usehref||"",this.w=e3.w?(0,o.getMeasurement)(e3.w):"",this.x=(0,o.getMeasurement)(e3.x,"0pt"),this.y=(0,o.getMeasurement)(e3.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new r.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new r.XFAObjectArray,this.connect=new r.XFAObjectArray,this.event=new r.XFAObjectArray,this.setProperty=new r.XFAObjectArray}[r.$isBindable](){return!0}[r.$setValue](e3){_setValue(this,e3)}[r.$toHTML](e3){if(setTabIndex(this),!this.ui){let e4;switch(this.ui=new Ui({}),this.ui[r.$globalData]=this[r.$globalData],this[r.$appendChild](this.ui),this.items.children.length){case 0:e4=new TextEdit({}),this.ui.textEdit=e4;break;case 1:e4=new CheckButton({}),this.ui.checkButton=e4;break;case 2:e4=new ChoiceList({}),this.ui.choiceList=e4}this.ui[r.$appendChild](e4)}if(!this.ui||"hidden"===this.presence||"inactive"===this.presence||0===this.h||0===this.w)return o.HTMLResult.EMPTY;this.caption&&delete this.caption[r.$extra],this[r.$pushPara]();const t3=this.caption?this.caption[r.$toHTML](e3).html:null,a3=this.w,n2=this.h;let c2=0,h2=0;this.margin&&(c2=this.margin.leftInset+this.margin.rightInset,h2=this.margin.topInset+this.margin.bottomInset);let u2=null;if(""===this.w||""===this.h){let t4=null,a4=null,n3=0,i2=0;if(this.ui.checkButton)n3=i2=this.ui.checkButton.size;else{const{w:t5,h:a5}=(0,s.layoutNode)(this,e3);null!==t5?(n3=t5,i2=a5):i2=(0,l.getMetrics)(this.font,!0).lineNoGap}if(u2=getBorderDims(this.ui[r.$getExtra]()),n3+=u2.w,i2+=u2.h,this.caption){const{w:s2,h:c3,isBroken:l2}=this.caption[r.$getExtra](e3);if(l2&&this[r.$getSubformParent]()[r.$isThereMoreWidth]())return this[r.$popPara](),o.HTMLResult.FAILURE;switch(t4=s2,a4=c3,this.caption.placement){case"left":case"right":case"inline":t4+=n3;break;case"top":case"bottom":a4+=i2}}else t4=n3,a4=i2;t4&&""===this.w&&(t4+=c2,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<t4?t4:this.minW)),a4&&""===this.h&&(a4+=h2,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<a4?a4:this.minH))}if(this[r.$popPara](),(0,s.fixDimensions)(this),setFirstUnsplittable(this),!(0,i.checkDimensions)(this,e3))return this.w=a3,this.h=n2,this[r.$popPara](),o.HTMLResult.FAILURE;unsetFirstUnsplittable(this);const d2=(0,s.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,s.setMinMaxDimensions)(this,d2);const f2=["xfaField"];this.font&&f2.push("xfaFont"),(0,s.isPrintOnly)(this)&&f2.push("xfaPrintOnly");const g2={style:d2,id:this[r.$uid],class:f2};d2.margin&&(d2.padding=d2.margin,delete d2.margin),(0,s.setAccess)(this,f2),this.name&&(g2.xfaName=this.name);const p2=[],m2={name:"div",attributes:g2,children:p2};applyAssist(this,g2);const b=this.border?this.border[r.$toStyle]():null,y=(0,s.computeBbox)(this,m2,e3),w=this.ui[r.$toHTML]().html;if(!w)return Object.assign(d2,b),o.HTMLResult.success((0,s.createWrapper)(this,m2),y);this[r.$tabIndex]&&(w.children&&w.children[0]?w.children[0].attributes.tabindex=this[r.$tabIndex]:w.attributes.tabindex=this[r.$tabIndex]),w.attributes.style||(w.attributes.style=Object.create(null));let S=null;if(this.ui.button?(1===w.children.length&&([S]=w.children.splice(0,1)),Object.assign(w.attributes.style,b)):Object.assign(d2,b),p2.push(w),this.value)if(this.ui.imageEdit)w.children.push(this.value[r.$toHTML]().html);else if(!this.ui.button){let e4="";if(this.value.exData)e4=this.value.exData[r.$text]();else if(this.value.text)e4=this.value.text[r.$getExtra]();else{const t4=this.value[r.$toHTML]().html;null!==t4&&(e4=t4.children[0].value)}this.ui.textEdit&&this.value.text&&this.value.text.maxChars&&(w.children[0].attributes.maxLength=this.value.text.maxChars),e4&&(this.ui.numericEdit&&(e4=parseFloat(e4),e4=isNaN(e4)?"":e4.toString()),"textarea"===w.children[0].name?w.children[0].attributes.textContent=e4:w.children[0].attributes.value=e4)}if(!this.ui.imageEdit&&w.children&&w.children[0]&&this.h){u2=u2||getBorderDims(this.ui[r.$getExtra]());let t4=0;this.caption&&["top","bottom"].includes(this.caption.placement)?(t4=this.caption.reserve,t4<=0&&(t4=this.caption[r.$getExtra](e3).h),w.children[0].attributes.style.height=(0,s.measureToString)(this.h-t4-h2-u2.h)):w.children[0].attributes.style.height="100%"}if(S&&w.children.push(S),!t3)return w.attributes.class&&w.attributes.class.push("xfaLeft"),this.w=a3,this.h=n2,o.HTMLResult.success((0,s.createWrapper)(this,m2),y);if(this.ui.button)return d2.padding&&delete d2.padding,"div"===t3.name&&(t3.name="span"),w.children.push(t3),o.HTMLResult.success(m2,y);switch(this.ui.checkButton&&(t3.attributes.class[0]="xfaCaptionForCheckButton"),w.attributes.class||(w.attributes.class=[]),w.children.splice(0,0,t3),this.caption.placement){case"left":case"inline":w.attributes.class.push("xfaLeft");break;case"right":w.attributes.class.push("xfaRight");break;case"top":w.attributes.class.push("xfaTop");break;case"bottom":w.attributes.class.push("xfaBottom")}return this.w=a3,this.h=n2,o.HTMLResult.success((0,s.createWrapper)(this,m2),y)}}t2.Field=Field;class Fill extends r.XFAObject{constructor(e3){super(d,"fill",!0),this.id=e3.id||"",this.presence=(0,o.getStringOption)(e3.presence,["visible","hidden","inactive","invisible"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[r.$toStyle](){const e3=this[r.$getParent](),t3=e3[r.$getParent]()[r.$getParent](),a3=Object.create(null);let n2="color",i2=n2;e3 instanceof Border&&(n2="background-color",i2="background",t3 instanceof Ui&&(a3.backgroundColor="white")),(e3 instanceof Rectangle||e3 instanceof Arc)&&(n2=i2="fill",a3.fill="white");for(const e4 of Object.getOwnPropertyNames(this)){if("extras"===e4||"color"===e4)continue;const t4=this[e4];if(!(t4 instanceof r.XFAObject))continue;const s2=t4[r.$toStyle](this.color);return s2&&(a3[s2.startsWith("#")?n2:i2]=s2),a3}if(this.color&&this.color.value){const e4=this.color[r.$toStyle]();a3[e4.startsWith("#")?n2:i2]=e4}return a3}}class Filter extends r.XFAObject{constructor(e3){super(d,"filter",!0),this.addRevocationInfo=(0,o.getStringOption)(e3.addRevocationInfo,["","required","optional","none"]),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.version=(0,o.getInteger)({data:this.version,defaultValue:5,validate:e4=>e4>=1&&e4<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class Float extends r.ContentObject{constructor(e3){super(d,"float"),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}[r.$finalize](){const e3=parseFloat(this[r.$content].trim());this[r.$content]=isNaN(e3)?null:e3}[r.$toHTML](e3){return valueToHtml(null!==this[r.$content]?this[r.$content].toString():"")}}class Font extends r.XFAObject{constructor(e3){super(d,"font",!0),this.baselineShift=(0,o.getMeasurement)(e3.baselineShift),this.fontHorizontalScale=(0,o.getFloat)({data:e3.fontHorizontalScale,defaultValue:100,validate:e4=>e4>=0}),this.fontVerticalScale=(0,o.getFloat)({data:e3.fontVerticalScale,defaultValue:100,validate:e4=>e4>=0}),this.id=e3.id||"",this.kerningMode=(0,o.getStringOption)(e3.kerningMode,["none","pair"]),this.letterSpacing=(0,o.getMeasurement)(e3.letterSpacing,"0"),this.lineThrough=(0,o.getInteger)({data:e3.lineThrough,defaultValue:0,validate:e4=>1===e4||2===e4}),this.lineThroughPeriod=(0,o.getStringOption)(e3.lineThroughPeriod,["all","word"]),this.overline=(0,o.getInteger)({data:e3.overline,defaultValue:0,validate:e4=>1===e4||2===e4}),this.overlinePeriod=(0,o.getStringOption)(e3.overlinePeriod,["all","word"]),this.posture=(0,o.getStringOption)(e3.posture,["normal","italic"]),this.size=(0,o.getMeasurement)(e3.size,"10pt"),this.typeface=e3.typeface||"Courier",this.underline=(0,o.getInteger)({data:e3.underline,defaultValue:0,validate:e4=>1===e4||2===e4}),this.underlinePeriod=(0,o.getStringOption)(e3.underlinePeriod,["all","word"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.weight=(0,o.getStringOption)(e3.weight,["normal","bold"]),this.extras=null,this.fill=null}[r.$clean](e3){super[r.$clean](e3),this[r.$globalData].usedTypefaces.add(this.typeface)}[r.$toStyle](){const e3=(0,s.toStyle)(this,"fill"),t3=e3.color;return t3&&("#000000"===t3?delete e3.color:t3.startsWith("#")||(e3.background=t3,e3.backgroundClip="text",e3.color="transparent")),this.baselineShift&&(e3.verticalAlign=(0,s.measureToString)(this.baselineShift)),e3.fontKerning="none"===this.kerningMode?"none":"normal",e3.letterSpacing=(0,s.measureToString)(this.letterSpacing),0!==this.lineThrough&&(e3.textDecoration="line-through",2===this.lineThrough&&(e3.textDecorationStyle="double")),0!==this.overline&&(e3.textDecoration="overline",2===this.overline&&(e3.textDecorationStyle="double")),e3.fontStyle=this.posture,e3.fontSize=(0,s.measureToString)(.99*this.size),(0,s.setFontFamily)(this,this,this[r.$globalData].fontFinder,e3),0!==this.underline&&(e3.textDecoration="underline",2===this.underline&&(e3.textDecorationStyle="double")),e3.fontWeight=this.weight,e3}}class Format extends r.XFAObject{constructor(e3){super(d,"format",!0),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null,this.picture=null}}class Handler extends r.StringObject{constructor(e3){super(d,"handler"),this.id=e3.id||"",this.type=(0,o.getStringOption)(e3.type,["optional","required"]),this.use=e3.use||"",this.usehref=e3.usehref||""}}class Hyphenation extends r.XFAObject{constructor(e3){super(d,"hyphenation"),this.excludeAllCaps=(0,o.getInteger)({data:e3.excludeAllCaps,defaultValue:0,validate:e4=>1===e4}),this.excludeInitialCap=(0,o.getInteger)({data:e3.excludeInitialCap,defaultValue:0,validate:e4=>1===e4}),this.hyphenate=(0,o.getInteger)({data:e3.hyphenate,defaultValue:0,validate:e4=>1===e4}),this.id=e3.id||"",this.pushCharacterCount=(0,o.getInteger)({data:e3.pushCharacterCount,defaultValue:3,validate:e4=>e4>=0}),this.remainCharacterCount=(0,o.getInteger)({data:e3.remainCharacterCount,defaultValue:3,validate:e4=>e4>=0}),this.use=e3.use||"",this.usehref=e3.usehref||"",this.wordCharacterCount=(0,o.getInteger)({data:e3.wordCharacterCount,defaultValue:7,validate:e4=>e4>=0})}}class Image2 extends r.StringObject{constructor(e3){super(d,"image"),this.aspect=(0,o.getStringOption)(e3.aspect,["fit","actual","height","none","width"]),this.contentType=e3.contentType||"",this.href=e3.href||"",this.id=e3.id||"",this.name=e3.name||"",this.transferEncoding=(0,o.getStringOption)(e3.transferEncoding,["base64","none","package"]),this.use=e3.use||"",this.usehref=e3.usehref||""}[r.$toHTML](){if(this.contentType&&!p.has(this.contentType.toLowerCase()))return o.HTMLResult.EMPTY;let e3=this[r.$globalData].images&&this[r.$globalData].images.get(this.href);if(!e3&&(this.href||!this[r.$content])||(e3||"base64"!==this.transferEncoding||(e3=(0,c.stringToBytes)(atob(this[r.$content]))),!e3))return o.HTMLResult.EMPTY;if(!this.contentType){for(const[t4,a4]of m)if(e3.length>t4.length&&t4.every((t5,a5)=>t5===e3[a5])){this.contentType=a4;break}if(!this.contentType)return o.HTMLResult.EMPTY}const t3=new Blob([e3],{type:this.contentType});let a3;switch(this.aspect){case"fit":case"actual":break;case"height":a3={height:"100%",objectFit:"fill"};break;case"none":a3={width:"100%",height:"100%",objectFit:"fill"};break;case"width":a3={width:"100%",objectFit:"fill"}}const n2=this[r.$getParent]();return o.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:a3,src:URL.createObjectURL(t3),alt:n2?ariaLabel(n2[r.$getParent]()):null}})}}class ImageEdit extends r.XFAObject{constructor(e3){super(d,"imageEdit",!0),this.data=(0,o.getStringOption)(e3.data,["link","embed"]),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.border=null,this.extras=null,this.margin=null}[r.$toHTML](e3){return"embed"===this.data?o.HTMLResult.success({name:"div",children:[],attributes:{}}):o.HTMLResult.EMPTY}}class Integer extends r.ContentObject{constructor(e3){super(d,"integer"),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}[r.$finalize](){const e3=parseInt(this[r.$content].trim(),10);this[r.$content]=isNaN(e3)?null:e3}[r.$toHTML](e3){return valueToHtml(null!==this[r.$content]?this[r.$content].toString():"")}}class Issuers extends r.XFAObject{constructor(e3){super(d,"issuers",!0),this.id=e3.id||"",this.type=(0,o.getStringOption)(e3.type,["optional","required"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.certificate=new r.XFAObjectArray}}class Items extends r.XFAObject{constructor(e3){super(d,"items",!0),this.id=e3.id||"",this.name=e3.name||"",this.presence=(0,o.getStringOption)(e3.presence,["visible","hidden","inactive","invisible"]),this.ref=e3.ref||"",this.save=(0,o.getInteger)({data:e3.save,defaultValue:0,validate:e4=>1===e4}),this.use=e3.use||"",this.usehref=e3.usehref||"",this.boolean=new r.XFAObjectArray,this.date=new r.XFAObjectArray,this.dateTime=new r.XFAObjectArray,this.decimal=new r.XFAObjectArray,this.exData=new r.XFAObjectArray,this.float=new r.XFAObjectArray,this.image=new r.XFAObjectArray,this.integer=new r.XFAObjectArray,this.text=new r.XFAObjectArray,this.time=new r.XFAObjectArray}[r.$toHTML](){const e3=[];for(const t3 of this[r.$getChildren]())e3.push(t3[r.$text]());return o.HTMLResult.success(e3)}}t2.Items=Items;class Keep extends r.XFAObject{constructor(e3){super(d,"keep",!0),this.id=e3.id||"";const t3=["none","contentArea","pageArea"];this.intact=(0,o.getStringOption)(e3.intact,t3),this.next=(0,o.getStringOption)(e3.next,t3),this.previous=(0,o.getStringOption)(e3.previous,t3),this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null}}class KeyUsage extends r.XFAObject{constructor(e3){super(d,"keyUsage");const t3=["","yes","no"];this.crlSign=(0,o.getStringOption)(e3.crlSign,t3),this.dataEncipherment=(0,o.getStringOption)(e3.dataEncipherment,t3),this.decipherOnly=(0,o.getStringOption)(e3.decipherOnly,t3),this.digitalSignature=(0,o.getStringOption)(e3.digitalSignature,t3),this.encipherOnly=(0,o.getStringOption)(e3.encipherOnly,t3),this.id=e3.id||"",this.keyAgreement=(0,o.getStringOption)(e3.keyAgreement,t3),this.keyCertSign=(0,o.getStringOption)(e3.keyCertSign,t3),this.keyEncipherment=(0,o.getStringOption)(e3.keyEncipherment,t3),this.nonRepudiation=(0,o.getStringOption)(e3.nonRepudiation,t3),this.type=(0,o.getStringOption)(e3.type,["optional","required"]),this.use=e3.use||"",this.usehref=e3.usehref||""}}class Line extends r.XFAObject{constructor(e3){super(d,"line",!0),this.hand=(0,o.getStringOption)(e3.hand,["even","left","right"]),this.id=e3.id||"",this.slope=(0,o.getStringOption)(e3.slope,["\\","/"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.edge=null}[r.$toHTML](){const e3=this[r.$getParent]()[r.$getParent](),t3=this.edge||new Edge({}),a3=t3[r.$toStyle](),n2=Object.create(null),i2="visible"===t3.presence?t3.thickness:0;n2.strokeWidth=(0,s.measureToString)(i2),n2.stroke=a3.color;let c2,l2,h2,u2,d2="100%",g2="100%";e3.w<=i2?([c2,l2,h2,u2]=["50%",0,"50%","100%"],d2=n2.strokeWidth):e3.h<=i2?([c2,l2,h2,u2]=[0,"50%","100%","50%"],g2=n2.strokeWidth):[c2,l2,h2,u2]="\\"===this.slope?[0,0,"100%","100%"]:[0,"100%","100%",0];const p2={name:"svg",children:[{name:"line",attributes:{xmlns:f,x1:c2,y1:l2,x2:h2,y2:u2,style:n2}}],attributes:{xmlns:f,width:d2,height:g2,style:{overflow:"visible"}}};return hasMargin(e3)?o.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[p2]}):(p2.attributes.style.position="absolute",o.HTMLResult.success(p2))}}class Linear extends r.XFAObject{constructor(e3){super(d,"linear",!0),this.id=e3.id||"",this.type=(0,o.getStringOption)(e3.type,["toRight","toBottom","toLeft","toTop"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.color=null,this.extras=null}[r.$toStyle](e3){return e3=e3?e3[r.$toStyle]():"#FFFFFF",`linear-gradient(${this.type.replace(/([RBLT])/," $1").toLowerCase()}, ${e3}, ${this.color?this.color[r.$toStyle]():"#000000"})`}}class LockDocument extends r.ContentObject{constructor(e3){super(d,"lockDocument"),this.id=e3.id||"",this.type=(0,o.getStringOption)(e3.type,["optional","required"]),this.use=e3.use||"",this.usehref=e3.usehref||""}[r.$finalize](){this[r.$content]=(0,o.getStringOption)(this[r.$content],["auto","0","1"])}}class Manifest extends r.XFAObject{constructor(e3){super(d,"manifest",!0),this.action=(0,o.getStringOption)(e3.action,["include","all","exclude"]),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null,this.ref=new r.XFAObjectArray}}class Margin extends r.XFAObject{constructor(e3){super(d,"margin",!0),this.bottomInset=(0,o.getMeasurement)(e3.bottomInset,"0"),this.id=e3.id||"",this.leftInset=(0,o.getMeasurement)(e3.leftInset,"0"),this.rightInset=(0,o.getMeasurement)(e3.rightInset,"0"),this.topInset=(0,o.getMeasurement)(e3.topInset,"0"),this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null}[r.$toStyle](){return{margin:(0,s.measureToString)(this.topInset)+" "+(0,s.measureToString)(this.rightInset)+" "+(0,s.measureToString)(this.bottomInset)+" "+(0,s.measureToString)(this.leftInset)}}}class Mdp extends r.XFAObject{constructor(e3){super(d,"mdp"),this.id=e3.id||"",this.permissions=(0,o.getInteger)({data:e3.permissions,defaultValue:2,validate:e4=>1===e4||3===e4}),this.signatureType=(0,o.getStringOption)(e3.signatureType,["filler","author"]),this.use=e3.use||"",this.usehref=e3.usehref||""}}class Medium extends r.XFAObject{constructor(e3){super(d,"medium"),this.id=e3.id||"",this.imagingBBox=(0,o.getBBox)(e3.imagingBBox),this.long=(0,o.getMeasurement)(e3.long),this.orientation=(0,o.getStringOption)(e3.orientation,["portrait","landscape"]),this.short=(0,o.getMeasurement)(e3.short),this.stock=e3.stock||"",this.trayIn=(0,o.getStringOption)(e3.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,o.getStringOption)(e3.trayOut,["auto","delegate"]),this.use=e3.use||"",this.usehref=e3.usehref||""}}class Message extends r.XFAObject{constructor(e3){super(d,"message",!0),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.text=new r.XFAObjectArray}}class NumericEdit extends r.XFAObject{constructor(e3){super(d,"numericEdit",!0),this.hScrollPolicy=(0,o.getStringOption)(e3.hScrollPolicy,["auto","off","on"]),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[r.$toHTML](e3){const t3=(0,s.toStyle)(this,"border","font","margin"),a3=this[r.$getParent]()[r.$getParent](),n2={name:"input",attributes:{type:"text",fieldId:a3[r.$uid],dataId:a3[r.$data]&&a3[r.$data][r.$uid]||a3[r.$uid],class:["xfaTextfield"],style:t3,"aria-label":ariaLabel(a3),"aria-required":!1}};return isRequired(a3)&&(n2.attributes["aria-required"]=!0,n2.attributes.required=!0),o.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[n2]})}}class Occur extends r.XFAObject{constructor(e3){super(d,"occur",!0),this.id=e3.id||"",this.initial=""!==e3.initial?(0,o.getInteger)({data:e3.initial,defaultValue:"",validate:e4=>!0}):"",this.max=""!==e3.max?(0,o.getInteger)({data:e3.max,defaultValue:1,validate:e4=>!0}):"",this.min=""!==e3.min?(0,o.getInteger)({data:e3.min,defaultValue:1,validate:e4=>!0}):"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null}[r.$clean](){const e3=this[r.$getParent](),t3=this.min;""===this.min&&(this.min=e3 instanceof PageArea||e3 instanceof PageSet?0:1),""===this.max&&(this.max=""===t3?e3 instanceof PageArea||e3 instanceof PageSet?-1:1:this.min),-1!==this.max&&this.max<this.min&&(this.max=this.min),""===this.initial&&(this.initial=e3 instanceof Template?1:this.min)}}class Oid extends r.StringObject{constructor(e3){super(d,"oid"),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class Oids extends r.XFAObject{constructor(e3){super(d,"oids",!0),this.id=e3.id||"",this.type=(0,o.getStringOption)(e3.type,["optional","required"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.oid=new r.XFAObjectArray}}class Overflow extends r.XFAObject{constructor(e3){super(d,"overflow"),this.id=e3.id||"",this.leader=e3.leader||"",this.target=e3.target||"",this.trailer=e3.trailer||"",this.use=e3.use||"",this.usehref=e3.usehref||""}[r.$getExtra](){if(!this[r.$extra]){const e3=this[r.$getParent](),t3=this[r.$getTemplateRoot](),a3=t3[r.$searchNode](this.target,e3),n2=t3[r.$searchNode](this.leader,e3),i2=t3[r.$searchNode](this.trailer,e3);this[r.$extra]={target:a3&&a3[0]||null,leader:n2&&n2[0]||null,trailer:i2&&i2[0]||null,addLeader:!1,addTrailer:!1}}return this[r.$extra]}}class PageArea extends r.XFAObject{constructor(e3){super(d,"pageArea",!0),this.blankOrNotBlank=(0,o.getStringOption)(e3.blankOrNotBlank,["any","blank","notBlank"]),this.id=e3.id||"",this.initialNumber=(0,o.getInteger)({data:e3.initialNumber,defaultValue:1,validate:e4=>!0}),this.name=e3.name||"",this.numbered=(0,o.getInteger)({data:e3.numbered,defaultValue:1,validate:e4=>!0}),this.oddOrEven=(0,o.getStringOption)(e3.oddOrEven,["any","even","odd"]),this.pagePosition=(0,o.getStringOption)(e3.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,o.getRelevant)(e3.relevant),this.use=e3.use||"",this.usehref=e3.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new r.XFAObjectArray,this.contentArea=new r.XFAObjectArray,this.draw=new r.XFAObjectArray,this.exclGroup=new r.XFAObjectArray,this.field=new r.XFAObjectArray,this.subform=new r.XFAObjectArray}[r.$isUsable](){return this[r.$extra]?!this.occur||-1===this.occur.max||this[r.$extra].numberOfUse<this.occur.max:(this[r.$extra]={numberOfUse:0},!0)}[r.$cleanPage](){delete this[r.$extra]}[r.$getNextPage](){this[r.$extra]||(this[r.$extra]={numberOfUse:0});const e3=this[r.$getParent]();return"orderedOccurrence"===e3.relation&&this[r.$isUsable]()?(this[r.$extra].numberOfUse+=1,this):e3[r.$getNextPage]()}[r.$getAvailableSpace](){return this[r.$extra].space||{width:0,height:0}}[r.$toHTML](){this[r.$extra]||(this[r.$extra]={numberOfUse:1});const e3=[];this[r.$extra].children=e3;const t3=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(t3.width=(0,s.measureToString)(this.medium.short),t3.height=(0,s.measureToString)(this.medium.long),this[r.$extra].space={width:this.medium.short,height:this.medium.long},"landscape"===this.medium.orientation){const e4=t3.width;t3.width=t3.height,t3.height=e4,this[r.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,c.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[r.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[r.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),o.HTMLResult.success({name:"div",children:e3,attributes:{class:["xfaPage"],id:this[r.$uid],style:t3,xfaName:this.name}})}}class PageSet extends r.XFAObject{constructor(e3){super(d,"pageSet",!0),this.duplexImposition=(0,o.getStringOption)(e3.duplexImposition,["longEdge","shortEdge"]),this.id=e3.id||"",this.name=e3.name||"",this.relation=(0,o.getStringOption)(e3.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,o.getRelevant)(e3.relevant),this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null,this.occur=null,this.pageArea=new r.XFAObjectArray,this.pageSet=new r.XFAObjectArray}[r.$cleanPage](){for(const e3 of this.pageArea.children)e3[r.$cleanPage]();for(const e3 of this.pageSet.children)e3[r.$cleanPage]()}[r.$isUsable](){return!this.occur||-1===this.occur.max||this[r.$extra].numberOfUse<this.occur.max}[r.$getNextPage](){if(this[r.$extra]||(this[r.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),"orderedOccurrence"===this.relation){if(this[r.$extra].pageIndex+1<this.pageArea.children.length)return this[r.$extra].pageIndex+=1,this.pageArea.children[this[r.$extra].pageIndex][r.$getNextPage]();if(this[r.$extra].pageSetIndex+1<this.pageSet.children.length)return this[r.$extra].pageSetIndex+=1,this.pageSet.children[this[r.$extra].pageSetIndex][r.$getNextPage]();if(this[r.$isUsable]())return this[r.$extra].numberOfUse+=1,this[r.$extra].pageIndex=-1,this[r.$extra].pageSetIndex=-1,this[r.$getNextPage]();const e4=this[r.$getParent]();return e4 instanceof PageSet?e4[r.$getNextPage]():(this[r.$cleanPage](),this[r.$getNextPage]())}const e3=this[r.$getTemplateRoot]()[r.$extra].pageNumber,t3=e3%2==0?"even":"odd",a3=0===e3?"first":"rest";let n2=this.pageArea.children.find(e4=>e4.oddOrEven===t3&&e4.pagePosition===a3);return n2||(n2=this.pageArea.children.find(e4=>"any"===e4.oddOrEven&&e4.pagePosition===a3),n2)?n2:(n2=this.pageArea.children.find(e4=>"any"===e4.oddOrEven&&"any"===e4.pagePosition),n2||this.pageArea.children[0])}}class Para extends r.XFAObject{constructor(e3){super(d,"para",!0),this.hAlign=(0,o.getStringOption)(e3.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=e3.id||"",this.lineHeight=e3.lineHeight?(0,o.getMeasurement)(e3.lineHeight,"0pt"):"",this.marginLeft=e3.marginLeft?(0,o.getMeasurement)(e3.marginLeft,"0pt"):"",this.marginRight=e3.marginRight?(0,o.getMeasurement)(e3.marginRight,"0pt"):"",this.orphans=(0,o.getInteger)({data:e3.orphans,defaultValue:0,validate:e4=>e4>=0}),this.preserve=e3.preserve||"",this.radixOffset=e3.radixOffset?(0,o.getMeasurement)(e3.radixOffset,"0pt"):"",this.spaceAbove=e3.spaceAbove?(0,o.getMeasurement)(e3.spaceAbove,"0pt"):"",this.spaceBelow=e3.spaceBelow?(0,o.getMeasurement)(e3.spaceBelow,"0pt"):"",this.tabDefault=e3.tabDefault?(0,o.getMeasurement)(this.tabDefault):"",this.tabStops=(e3.tabStops||"").trim().split(/\s+/).map((e4,t3)=>t3%2==1?(0,o.getMeasurement)(e4):e4),this.textIndent=e3.textIndent?(0,o.getMeasurement)(e3.textIndent,"0pt"):"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.vAlign=(0,o.getStringOption)(e3.vAlign,["top","bottom","middle"]),this.widows=(0,o.getInteger)({data:e3.widows,defaultValue:0,validate:e4=>e4>=0}),this.hyphenation=null}[r.$toStyle](){const e3=(0,s.toStyle)(this,"hAlign");return""!==this.marginLeft&&(e3.paddingLeft=(0,s.measureToString)(this.marginLeft)),""!==this.marginRight&&(e3.paddingight=(0,s.measureToString)(this.marginRight)),""!==this.spaceAbove&&(e3.paddingTop=(0,s.measureToString)(this.spaceAbove)),""!==this.spaceBelow&&(e3.paddingBottom=(0,s.measureToString)(this.spaceBelow)),""!==this.textIndent&&(e3.textIndent=(0,s.measureToString)(this.textIndent),(0,s.fixTextIndent)(e3)),this.lineHeight>0&&(e3.lineHeight=(0,s.measureToString)(this.lineHeight)),""!==this.tabDefault&&(e3.tabSize=(0,s.measureToString)(this.tabDefault)),this.hyphenatation&&Object.assign(e3,this.hyphenatation[r.$toStyle]()),e3}}class PasswordEdit extends r.XFAObject{constructor(e3){super(d,"passwordEdit",!0),this.hScrollPolicy=(0,o.getStringOption)(e3.hScrollPolicy,["auto","off","on"]),this.id=e3.id||"",this.passwordChar=e3.passwordChar||"*",this.use=e3.use||"",this.usehref=e3.usehref||"",this.border=null,this.extras=null,this.margin=null}}class Pattern extends r.XFAObject{constructor(e3){super(d,"pattern",!0),this.id=e3.id||"",this.type=(0,o.getStringOption)(e3.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.color=null,this.extras=null}[r.$toStyle](e3){e3=e3?e3[r.$toStyle]():"#FFFFFF";const t3=this.color?this.color[r.$toStyle]():"#000000",a3="repeating-linear-gradient",n2=`${e3},${e3} 5px,${t3} 5px,${t3} 10px`;switch(this.type){case"crossHatch":return`${a3}(to top,${n2}) ${a3}(to right,${n2})`;case"crossDiagonal":return`${a3}(45deg,${n2}) ${a3}(-45deg,${n2})`;case"diagonalLeft":return`${a3}(45deg,${n2})`;case"diagonalRight":return`${a3}(-45deg,${n2})`;case"horizontal":return`${a3}(to top,${n2})`;case"vertical":return`${a3}(to right,${n2})`}return""}}class Picture extends r.StringObject{constructor(e3){super(d,"picture"),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class Proto extends r.XFAObject{constructor(e3){super(d,"proto",!0),this.appearanceFilter=new r.XFAObjectArray,this.arc=new r.XFAObjectArray,this.area=new r.XFAObjectArray,this.assist=new r.XFAObjectArray,this.barcode=new r.XFAObjectArray,this.bindItems=new r.XFAObjectArray,this.bookend=new r.XFAObjectArray,this.boolean=new r.XFAObjectArray,this.border=new r.XFAObjectArray,this.break=new r.XFAObjectArray,this.breakAfter=new r.XFAObjectArray,this.breakBefore=new r.XFAObjectArray,this.button=new r.XFAObjectArray,this.calculate=new r.XFAObjectArray,this.caption=new r.XFAObjectArray,this.certificate=new r.XFAObjectArray,this.certificates=new r.XFAObjectArray,this.checkButton=new r.XFAObjectArray,this.choiceList=new r.XFAObjectArray,this.color=new r.XFAObjectArray,this.comb=new r.XFAObjectArray,this.connect=new r.XFAObjectArray,this.contentArea=new r.XFAObjectArray,this.corner=new r.XFAObjectArray,this.date=new r.XFAObjectArray,this.dateTime=new r.XFAObjectArray,this.dateTimeEdit=new r.XFAObjectArray,this.decimal=new r.XFAObjectArray,this.defaultUi=new r.XFAObjectArray,this.desc=new r.XFAObjectArray,this.digestMethod=new r.XFAObjectArray,this.digestMethods=new r.XFAObjectArray,this.draw=new r.XFAObjectArray,this.edge=new r.XFAObjectArray,this.encoding=new r.XFAObjectArray,this.encodings=new r.XFAObjectArray,this.encrypt=new r.XFAObjectArray,this.encryptData=new r.XFAObjectArray,this.encryption=new r.XFAObjectArray,this.encryptionMethod=new r.XFAObjectArray,this.encryptionMethods=new r.XFAObjectArray,this.event=new r.XFAObjectArray,this.exData=new r.XFAObjectArray,this.exObject=new r.XFAObjectArray,this.exclGroup=new r.XFAObjectArray,this.execute=new r.XFAObjectArray,this.extras=new r.XFAObjectArray,this.field=new r.XFAObjectArray,this.fill=new r.XFAObjectArray,this.filter=new r.XFAObjectArray,this.float=new r.XFAObjectArray,this.font=new r.XFAObjectArray,this.format=new r.XFAObjectArray,this.handler=new r.XFAObjectArray,this.hyphenation=new r.XFAObjectArray,this.image=new r.XFAObjectArray,this.imageEdit=new r.XFAObjectArray,this.integer=new r.XFAObjectArray,this.issuers=new r.XFAObjectArray,this.items=new r.XFAObjectArray,this.keep=new r.XFAObjectArray,this.keyUsage=new r.XFAObjectArray,this.line=new r.XFAObjectArray,this.linear=new r.XFAObjectArray,this.lockDocument=new r.XFAObjectArray,this.manifest=new r.XFAObjectArray,this.margin=new r.XFAObjectArray,this.mdp=new r.XFAObjectArray,this.medium=new r.XFAObjectArray,this.message=new r.XFAObjectArray,this.numericEdit=new r.XFAObjectArray,this.occur=new r.XFAObjectArray,this.oid=new r.XFAObjectArray,this.oids=new r.XFAObjectArray,this.overflow=new r.XFAObjectArray,this.pageArea=new r.XFAObjectArray,this.pageSet=new r.XFAObjectArray,this.para=new r.XFAObjectArray,this.passwordEdit=new r.XFAObjectArray,this.pattern=new r.XFAObjectArray,this.picture=new r.XFAObjectArray,this.radial=new r.XFAObjectArray,this.reason=new r.XFAObjectArray,this.reasons=new r.XFAObjectArray,this.rectangle=new r.XFAObjectArray,this.ref=new r.XFAObjectArray,this.script=new r.XFAObjectArray,this.setProperty=new r.XFAObjectArray,this.signData=new r.XFAObjectArray,this.signature=new r.XFAObjectArray,this.signing=new r.XFAObjectArray,this.solid=new r.XFAObjectArray,this.speak=new r.XFAObjectArray,this.stipple=new r.XFAObjectArray,this.subform=new r.XFAObjectArray,this.subformSet=new r.XFAObjectArray,this.subjectDN=new r.XFAObjectArray,this.subjectDNs=new r.XFAObjectArray,this.submit=new r.XFAObjectArray,this.text=new r.XFAObjectArray,this.textEdit=new r.XFAObjectArray,this.time=new r.XFAObjectArray,this.timeStamp=new r.XFAObjectArray,this.toolTip=new r.XFAObjectArray,this.traversal=new r.XFAObjectArray,this.traverse=new r.XFAObjectArray,this.ui=new r.XFAObjectArray,this.validate=new r.XFAObjectArray,this.value=new r.XFAObjectArray,this.variables=new r.XFAObjectArray}}class Radial extends r.XFAObject{constructor(e3){super(d,"radial",!0),this.id=e3.id||"",this.type=(0,o.getStringOption)(e3.type,["toEdge","toCenter"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.color=null,this.extras=null}[r.$toStyle](e3){e3=e3?e3[r.$toStyle]():"#FFFFFF";const t3=this.color?this.color[r.$toStyle]():"#000000";return`radial-gradient(circle at center, ${"toEdge"===this.type?`${e3},${t3}`:`${t3},${e3}`})`}}class Reason extends r.StringObject{constructor(e3){super(d,"reason"),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class Reasons extends r.XFAObject{constructor(e3){super(d,"reasons",!0),this.id=e3.id||"",this.type=(0,o.getStringOption)(e3.type,["optional","required"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.reason=new r.XFAObjectArray}}class Rectangle extends r.XFAObject{constructor(e3){super(d,"rectangle",!0),this.hand=(0,o.getStringOption)(e3.hand,["even","left","right"]),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.corner=new r.XFAObjectArray(4),this.edge=new r.XFAObjectArray(4),this.fill=null}[r.$toHTML](){const e3=this.edge.children.length?this.edge.children[0]:new Edge({}),t3=e3[r.$toStyle](),a3=Object.create(null);this.fill&&"visible"===this.fill.presence?Object.assign(a3,this.fill[r.$toStyle]()):a3.fill="transparent",a3.strokeWidth=(0,s.measureToString)("visible"===e3.presence?e3.thickness:0),a3.stroke=t3.color;const n2=(this.corner.children.length?this.corner.children[0]:new Corner({}))[r.$toStyle](),i2={name:"svg",children:[{name:"rect",attributes:{xmlns:f,width:"100%",height:"100%",x:0,y:0,rx:n2.radius,ry:n2.radius,style:a3}}],attributes:{xmlns:f,style:{overflow:"visible"},width:"100%",height:"100%"}};return hasMargin(this[r.$getParent]()[r.$getParent]())?o.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[i2]}):(i2.attributes.style.position="absolute",o.HTMLResult.success(i2))}}class RefElement extends r.StringObject{constructor(e3){super(d,"ref"),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class Script extends r.StringObject{constructor(e3){super(d,"script"),this.binding=e3.binding||"",this.contentType=e3.contentType||"",this.id=e3.id||"",this.name=e3.name||"",this.runAt=(0,o.getStringOption)(e3.runAt,["client","both","server"]),this.use=e3.use||"",this.usehref=e3.usehref||""}}class SetProperty extends r.XFAObject{constructor(e3){super(d,"setProperty"),this.connection=e3.connection||"",this.ref=e3.ref||"",this.target=e3.target||""}}t2.SetProperty=SetProperty;class SignData extends r.XFAObject{constructor(e3){super(d,"signData",!0),this.id=e3.id||"",this.operation=(0,o.getStringOption)(e3.operation,["sign","clear","verify"]),this.ref=e3.ref||"",this.target=e3.target||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.filter=null,this.manifest=null}}class Signature extends r.XFAObject{constructor(e3){super(d,"signature",!0),this.id=e3.id||"",this.type=(0,o.getStringOption)(e3.type,["PDF1.3","PDF1.6"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Signing extends r.XFAObject{constructor(e3){super(d,"signing",!0),this.id=e3.id||"",this.type=(0,o.getStringOption)(e3.type,["optional","required"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.certificate=new r.XFAObjectArray}}class Solid extends r.XFAObject{constructor(e3){super(d,"solid",!0),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null}[r.$toStyle](e3){return e3?e3[r.$toStyle]():"#FFFFFF"}}class Speak extends r.StringObject{constructor(e3){super(d,"speak"),this.disable=(0,o.getInteger)({data:e3.disable,defaultValue:0,validate:e4=>1===e4}),this.id=e3.id||"",this.priority=(0,o.getStringOption)(e3.priority,["custom","caption","name","toolTip"]),this.rid=e3.rid||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class Stipple extends r.XFAObject{constructor(e3){super(d,"stipple",!0),this.id=e3.id||"",this.rate=(0,o.getInteger)({data:e3.rate,defaultValue:50,validate:e4=>e4>=0&&e4<=100}),this.use=e3.use||"",this.usehref=e3.usehref||"",this.color=null,this.extras=null}[r.$toStyle](e3){const t3=this.rate/100;return c.Util.makeHexColor(Math.round(e3.value.r*(1-t3)+this.value.r*t3),Math.round(e3.value.g*(1-t3)+this.value.g*t3),Math.round(e3.value.b*(1-t3)+this.value.b*t3))}}class Subform extends r.XFAObject{constructor(e3){super(d,"subform",!0),this.access=(0,o.getStringOption)(e3.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,o.getInteger)({data:e3.allowMacro,defaultValue:0,validate:e4=>1===e4}),this.anchorType=(0,o.getStringOption)(e3.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,o.getInteger)({data:e3.colSpan,defaultValue:1,validate:e4=>e4>=1||-1===e4}),this.columnWidths=(e3.columnWidths||"").trim().split(/\s+/).map(e4=>"-1"===e4?-1:(0,o.getMeasurement)(e4)),this.h=e3.h?(0,o.getMeasurement)(e3.h):"",this.hAlign=(0,o.getStringOption)(e3.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=e3.id||"",this.layout=(0,o.getStringOption)(e3.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=e3.locale||"",this.maxH=(0,o.getMeasurement)(e3.maxH,"0pt"),this.maxW=(0,o.getMeasurement)(e3.maxW,"0pt"),this.mergeMode=(0,o.getStringOption)(e3.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,o.getMeasurement)(e3.minH,"0pt"),this.minW=(0,o.getMeasurement)(e3.minW,"0pt"),this.name=e3.name||"",this.presence=(0,o.getStringOption)(e3.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,o.getRelevant)(e3.relevant),this.restoreState=(0,o.getStringOption)(e3.restoreState,["manual","auto"]),this.scope=(0,o.getStringOption)(e3.scope,["name","none"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.w=e3.w?(0,o.getMeasurement)(e3.w):"",this.x=(0,o.getMeasurement)(e3.x,"0pt"),this.y=(0,o.getMeasurement)(e3.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new r.XFAObjectArray,this.breakAfter=new r.XFAObjectArray,this.breakBefore=new r.XFAObjectArray,this.connect=new r.XFAObjectArray,this.draw=new r.XFAObjectArray,this.event=new r.XFAObjectArray,this.exObject=new r.XFAObjectArray,this.exclGroup=new r.XFAObjectArray,this.field=new r.XFAObjectArray,this.proto=new r.XFAObjectArray,this.setProperty=new r.XFAObjectArray,this.subform=new r.XFAObjectArray,this.subformSet=new r.XFAObjectArray}[r.$getSubformParent](){const e3=this[r.$getParent]();return e3 instanceof SubformSet?e3[r.$getSubformParent]():e3}[r.$isBindable](){return!0}[r.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&0===this[r.$extra].attempt&&this[r.$extra].numberInLine>0||this[r.$getParent]()[r.$isThereMoreWidth]()}*[r.$getContainedChildren](){yield*getContainedChildren(this)}[r.$flushHTML](){return(0,i.flushHTML)(this)}[r.$addHTML](e3,t3){(0,i.addHTML)(this,e3,t3)}[r.$getAvailableSpace](){return(0,i.getAvailableSpace)(this)}[r.$isSplittable](){const e3=this[r.$getSubformParent]();return!!e3[r.$isSplittable]()&&(void 0!==this[r.$extra]._isSplittable?this[r.$extra]._isSplittable:"position"===this.layout||this.layout.includes("row")||this.keep&&"none"!==this.keep.intact?(this[r.$extra]._isSplittable=!1,!1):!(e3.layout&&e3.layout.endsWith("-tb")&&0!==e3[r.$extra].numberInLine||(this[r.$extra]._isSplittable=!0,0)))}[r.$toHTML](e3){if(setTabIndex(this),this.break){if("auto"!==this.break.after||""!==this.break.afterTarget){const e4=new BreakAfter({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});e4[r.$globalData]=this[r.$globalData],this[r.$appendChild](e4),this.breakAfter.push(e4)}if("auto"!==this.break.before||""!==this.break.beforeTarget){const e4=new BreakBefore({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});e4[r.$globalData]=this[r.$globalData],this[r.$appendChild](e4),this.breakBefore.push(e4)}if(""!==this.break.overflowTarget){const e4=new Overflow({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});e4[r.$globalData]=this[r.$globalData],this[r.$appendChild](e4),this.overflow.push(e4)}this[r.$removeChild](this.break),this.break=null}if("hidden"===this.presence||"inactive"===this.presence)return o.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,c.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const e4=this.breakBefore.children[0];if(handleBreak(e4))return o.HTMLResult.breakNode(e4)}if(this[r.$extra]&&this[r.$extra].afterBreakAfter)return o.HTMLResult.EMPTY;(0,s.fixDimensions)(this);const t3=[],a3={id:this[r.$uid],class:[]};(0,s.setAccess)(this,a3.class),this[r.$extra]||(this[r.$extra]=Object.create(null)),Object.assign(this[r.$extra],{children:t3,line:null,attributes:a3,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,e3.width),height:Math.min(this.h||1/0,e3.height)},width:0,height:0,prevHeight:0,currentWidth:0});const n2=this[r.$getTemplateRoot](),l2=n2[r.$extra].noLayoutFailure,h2=this[r.$isSplittable]();if(h2||setFirstUnsplittable(this),!(0,i.checkDimensions)(this,e3))return o.HTMLResult.FAILURE;const u2=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const e4=this[r.$getSubformParent]().columnWidths;Array.isArray(e4)&&e4.length>0&&(this[r.$extra].columnWidths=e4,this[r.$extra].currentColumn=0)}const d2=(0,s.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),f2=["xfaSubform"],g2=(0,s.layoutClass)(this);if(g2&&f2.push(g2),a3.style=d2,a3.class=f2,this.name&&(a3.xfaName=this.name),this.overflow){const t4=this.overflow[r.$getExtra]();t4.addLeader&&(t4.addLeader=!1,handleOverflow(this,t4.leader,e3))}this[r.$pushPara]();const p2="lr-tb"===this.layout||"rl-tb"===this.layout,m2=p2?2:1;for(;this[r.$extra].attempt<m2;this[r.$extra].attempt++){p2&&1===this[r.$extra].attempt&&(this[r.$extra].numberInLine=0);const e4=this[r.$childrenToHTML]({filter:u2,include:!0});if(e4.success)break;if(e4.isBreak())return this[r.$popPara](),e4;if(p2&&0===this[r.$extra].attempt&&0===this[r.$extra].numberInLine&&!n2[r.$extra].noLayoutFailure){this[r.$extra].attempt=m2;break}}if(this[r.$popPara](),h2||unsetFirstUnsplittable(this),n2[r.$extra].noLayoutFailure=l2,this[r.$extra].attempt===m2)return this.overflow&&(this[r.$getTemplateRoot]()[r.$extra].overflowNode=this.overflow),h2||delete this[r.$extra],o.HTMLResult.FAILURE;if(this.overflow){const t4=this.overflow[r.$getExtra]();t4.addTrailer&&(t4.addTrailer=!1,handleOverflow(this,t4.trailer,e3))}let b=0,y=0;this.margin&&(b=this.margin.leftInset+this.margin.rightInset,y=this.margin.topInset+this.margin.bottomInset);const w=Math.max(this[r.$extra].width+b,this.w||0),S=Math.max(this[r.$extra].height+y,this.h||0),x=[this.x,this.y,w,S];if(""===this.w&&(d2.width=(0,s.measureToString)(w)),""===this.h&&(d2.height=(0,s.measureToString)(S)),("0px"===d2.width||"0px"===d2.height)&&0===t3.length)return o.HTMLResult.EMPTY;const k={name:"div",attributes:a3,children:t3};applyAssist(this,a3);const C=o.HTMLResult.success((0,s.createWrapper)(this,k),x);if(this.breakAfter.children.length>=1){const e4=this.breakAfter.children[0];if(handleBreak(e4))return this[r.$extra].afterBreakAfter=C,o.HTMLResult.breakNode(e4)}return delete this[r.$extra],C}}class SubformSet extends r.XFAObject{constructor(e3){super(d,"subformSet",!0),this.id=e3.id||"",this.name=e3.name||"",this.relation=(0,o.getStringOption)(e3.relation,["ordered","choice","unordered"]),this.relevant=(0,o.getRelevant)(e3.relevant),this.use=e3.use||"",this.usehref=e3.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new r.XFAObjectArray,this.breakBefore=new r.XFAObjectArray,this.subform=new r.XFAObjectArray,this.subformSet=new r.XFAObjectArray}*[r.$getContainedChildren](){yield*getContainedChildren(this)}[r.$getSubformParent](){let e3=this[r.$getParent]();for(;!(e3 instanceof Subform);)e3=e3[r.$getParent]();return e3}[r.$isBindable](){return!0}}class SubjectDN extends r.ContentObject{constructor(e3){super(d,"subjectDN"),this.delimiter=e3.delimiter||",",this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}[r.$finalize](){this[r.$content]=new Map(this[r.$content].split(this.delimiter).map(e3=>((e3=e3.split("=",2))[0]=e3[0].trim(),e3)))}}class SubjectDNs extends r.XFAObject{constructor(e3){super(d,"subjectDNs",!0),this.id=e3.id||"",this.type=(0,o.getStringOption)(e3.type,["optional","required"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.subjectDN=new r.XFAObjectArray}}class Submit extends r.XFAObject{constructor(e3){super(d,"submit",!0),this.embedPDF=(0,o.getInteger)({data:e3.embedPDF,defaultValue:0,validate:e4=>1===e4}),this.format=(0,o.getStringOption)(e3.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=e3.id||"",this.target=e3.target||"",this.textEncoding=(0,o.getKeyword)({data:e3.textEncoding?e3.textEncoding.toLowerCase():"",defaultValue:"",validate:e4=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(e4)||e4.match(/iso-8859-\d{2}/)}),this.use=e3.use||"",this.usehref=e3.usehref||"",this.xdpContent=e3.xdpContent||"",this.encrypt=null,this.encryptData=new r.XFAObjectArray,this.signData=new r.XFAObjectArray}}class Template extends r.XFAObject{constructor(e3){super(d,"template",!0),this.baseProfile=(0,o.getStringOption)(e3.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new r.XFAObjectArray}[r.$finalize](){0===this.subform.children.length&&(0,c.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,c.warn)("XFA - Several subforms in template node: please file a bug."),this[r.$tabIndex]=5e3}[r.$isSplittable](){return!0}[r.$searchNode](e3,t3){return e3.startsWith("#")?[this[r.$ids].get(e3.slice(1))]:(0,u.searchNode)(this,t3,e3,!0,!0)}*[r.$toPages](){if(!this.subform.children.length)return o.HTMLResult.success({name:"div",children:[]});this[r.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const e3=this.subform.children[0];e3.pageSet[r.$cleanPage]();const t3=e3.pageSet.pageArea.children,a3={name:"div",children:[]};let n2=null,i2=null,s2=null;if(e3.breakBefore.children.length>=1?(i2=e3.breakBefore.children[0],s2=i2.target):e3.subform.children.length>=1&&e3.subform.children[0].breakBefore.children.length>=1?(i2=e3.subform.children[0].breakBefore.children[0],s2=i2.target):e3.break&&e3.break.beforeTarget?(i2=e3.break,s2=i2.beforeTarget):e3.subform.children.length>=1&&e3.subform.children[0].break&&e3.subform.children[0].break.beforeTarget&&(i2=e3.subform.children[0].break,s2=i2.beforeTarget),i2){const e4=this[r.$searchNode](s2,i2[r.$getParent]());e4 instanceof PageArea&&(n2=e4,i2[r.$extra]={})}n2||(n2=t3[0]),n2[r.$extra]={numberOfUse:1};const l2=n2[r.$getParent]();l2[r.$extra]={numberOfUse:1,pageIndex:l2.pageArea.children.indexOf(n2),pageSetIndex:0};let h2,u2=null,d2=null,f2=!0,g2=0,p2=0;for(;;){if(f2)g2=0;else if(a3.children.pop(),3==++g2)return(0,c.warn)("XFA - Something goes wrong: please file a bug."),a3;h2=null,this[r.$extra].currentPageArea=n2;const t4=n2[r.$toHTML]().html;a3.children.push(t4),u2&&(this[r.$extra].noLayoutFailure=!0,t4.children.push(u2[r.$toHTML](n2[r.$extra].space).html),u2=null),d2&&(this[r.$extra].noLayoutFailure=!0,t4.children.push(d2[r.$toHTML](n2[r.$extra].space).html),d2=null);const i3=n2.contentArea.children,s3=t4.children.filter(e4=>e4.attributes.class.includes("xfaContentarea"));f2=!1,this[r.$extra].firstUnsplittable=null,this[r.$extra].noLayoutFailure=!1;const flush=t5=>{const a4=e3[r.$flushHTML]();a4&&(f2=f2||a4.children&&0!==a4.children.length,s3[t5].children.push(a4))};for(let t5=p2,n3=i3.length;t5<n3;t5++){const n4=this[r.$extra].currentContentArea=i3[t5],o2={width:n4.w,height:n4.h};p2=0,u2&&(s3[t5].children.push(u2[r.$toHTML](o2).html),u2=null),d2&&(s3[t5].children.push(d2[r.$toHTML](o2).html),d2=null);const c2=e3[r.$toHTML](o2);if(c2.success)return c2.html?(f2=f2||c2.html.children&&0!==c2.html.children.length,s3[t5].children.push(c2.html)):!f2&&a3.children.length>1&&a3.children.pop(),a3;if(c2.isBreak()){const e4=c2.breakNode;if(flush(t5),"auto"===e4.targetType)continue;e4.leader&&(u2=this[r.$searchNode](e4.leader,e4[r.$getParent]()),u2=u2?u2[0]:null),e4.trailer&&(d2=this[r.$searchNode](e4.trailer,e4[r.$getParent]()),d2=d2?d2[0]:null),"pageArea"===e4.targetType?(h2=e4[r.$extra].target,t5=1/0):e4[r.$extra].target?(h2=e4[r.$extra].target,p2=e4[r.$extra].index+1,t5=1/0):t5=e4[r.$extra].index}else if(this[r.$extra].overflowNode){const e4=this[r.$extra].overflowNode;this[r.$extra].overflowNode=null;const a4=e4[r.$getExtra](),n5=a4.target;a4.addLeader=null!==a4.leader,a4.addTrailer=null!==a4.trailer,flush(t5);const s4=t5;if(t5=1/0,n5 instanceof PageArea)h2=n5;else if(n5 instanceof ContentArea){const e5=i3.indexOf(n5);-1!==e5?e5>s4?t5=e5-1:p2=e5:(h2=n5[r.$getParent](),p2=h2.contentArea.children.indexOf(n5))}}else flush(t5)}this[r.$extra].pageNumber+=1,h2&&(h2[r.$isUsable]()?h2[r.$extra].numberOfUse+=1:h2=null),n2=h2||n2[r.$getNextPage](),yield null}}}t2.Template=Template;class Text extends r.ContentObject{constructor(e3){super(d,"text"),this.id=e3.id||"",this.maxChars=(0,o.getInteger)({data:e3.maxChars,defaultValue:0,validate:e4=>e4>=0}),this.name=e3.name||"",this.rid=e3.rid||"",this.use=e3.use||"",this.usehref=e3.usehref||""}[r.$acceptWhitespace](){return!0}[r.$onChild](e3){return e3[r.$namespaceId]===n.NamespaceIds.xhtml.id?(this[r.$content]=e3,!0):((0,c.warn)(`XFA - Invalid content in Text: ${e3[r.$nodeName]}.`),!1)}[r.$onText](e3){this[r.$content]instanceof r.XFAObject||super[r.$onText](e3)}[r.$finalize](){"string"==typeof this[r.$content]&&(this[r.$content]=this[r.$content].replace(/\r\n/g,"\n"))}[r.$getExtra](){return"string"==typeof this[r.$content]?this[r.$content].split(/[\u2029\u2028\n]/).reduce((e3,t3)=>(t3&&e3.push(t3),e3),[]).join("\n"):this[r.$content][r.$text]()}[r.$toHTML](e3){if("string"==typeof this[r.$content]){const e4=valueToHtml(this[r.$content]).html;return this[r.$content].includes("\u2029")?(e4.name="div",e4.children=[],this[r.$content].split("\u2029").map(e5=>e5.split(/[\u2028\n]/).reduce((e6,t3)=>(e6.push({name:"span",value:t3},{name:"br"}),e6),[])).forEach(t3=>{e4.children.push({name:"p",children:t3})})):/[\u2028\n]/.test(this[r.$content])&&(e4.name="div",e4.children=[],this[r.$content].split(/[\u2028\n]/).forEach(t3=>{e4.children.push({name:"span",value:t3},{name:"br"})})),o.HTMLResult.success(e4)}return this[r.$content][r.$toHTML](e3)}}t2.Text=Text;class TextEdit extends r.XFAObject{constructor(e3){super(d,"textEdit",!0),this.allowRichText=(0,o.getInteger)({data:e3.allowRichText,defaultValue:0,validate:e4=>1===e4}),this.hScrollPolicy=(0,o.getStringOption)(e3.hScrollPolicy,["auto","off","on"]),this.id=e3.id||"",this.multiLine=(0,o.getInteger)({data:e3.multiLine,defaultValue:"",validate:e4=>0===e4||1===e4}),this.use=e3.use||"",this.usehref=e3.usehref||"",this.vScrollPolicy=(0,o.getStringOption)(e3.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[r.$toHTML](e3){const t3=(0,s.toStyle)(this,"border","font","margin");let a3;const n2=this[r.$getParent]()[r.$getParent]();return""===this.multiLine&&(this.multiLine=n2 instanceof Draw?1:0),a3=1===this.multiLine?{name:"textarea",attributes:{dataId:n2[r.$data]&&n2[r.$data][r.$uid]||n2[r.$uid],fieldId:n2[r.$uid],class:["xfaTextfield"],style:t3,"aria-label":ariaLabel(n2),"aria-required":!1}}:{name:"input",attributes:{type:"text",dataId:n2[r.$data]&&n2[r.$data][r.$uid]||n2[r.$uid],fieldId:n2[r.$uid],class:["xfaTextfield"],style:t3,"aria-label":ariaLabel(n2),"aria-required":!1}},isRequired(n2)&&(a3.attributes["aria-required"]=!0,a3.attributes.required=!0),o.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[a3]})}}class Time extends r.StringObject{constructor(e3){super(d,"time"),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}[r.$finalize](){const e3=this[r.$content].trim();this[r.$content]=e3?new Date(e3):null}[r.$toHTML](e3){return valueToHtml(this[r.$content]?this[r.$content].toString():"")}}class TimeStamp extends r.XFAObject{constructor(e3){super(d,"timeStamp"),this.id=e3.id||"",this.server=e3.server||"",this.type=(0,o.getStringOption)(e3.type,["optional","required"]),this.use=e3.use||"",this.usehref=e3.usehref||""}}class ToolTip extends r.StringObject{constructor(e3){super(d,"toolTip"),this.id=e3.id||"",this.rid=e3.rid||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class Traversal extends r.XFAObject{constructor(e3){super(d,"traversal",!0),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null,this.traverse=new r.XFAObjectArray}}class Traverse extends r.XFAObject{constructor(e3){super(d,"traverse",!0),this.id=e3.id||"",this.operation=(0,o.getStringOption)(e3.operation,["next","back","down","first","left","right","up"]),this.ref=e3.ref||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[r.$isTransparent](){return!1}}class Ui extends r.XFAObject{constructor(e3){super(d,"ui",!0),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[r.$getExtra](){if(void 0===this[r.$extra]){for(const e3 of Object.getOwnPropertyNames(this)){if("extras"===e3||"picture"===e3)continue;const t3=this[e3];if(t3 instanceof r.XFAObject)return this[r.$extra]=t3,t3}this[r.$extra]=null}return this[r.$extra]}[r.$toHTML](e3){const t3=this[r.$getExtra]();return t3?t3[r.$toHTML](e3):o.HTMLResult.EMPTY}}class Validate extends r.XFAObject{constructor(e3){super(d,"validate",!0),this.formatTest=(0,o.getStringOption)(e3.formatTest,["warning","disabled","error"]),this.id=e3.id||"",this.nullTest=(0,o.getStringOption)(e3.nullTest,["disabled","error","warning"]),this.scriptTest=(0,o.getStringOption)(e3.scriptTest,["error","disabled","warning"]),this.use=e3.use||"",this.usehref=e3.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class Value extends r.XFAObject{constructor(e3){super(d,"value",!0),this.id=e3.id||"",this.override=(0,o.getInteger)({data:e3.override,defaultValue:0,validate:e4=>1===e4}),this.relevant=(0,o.getRelevant)(e3.relevant),this.use=e3.use||"",this.usehref=e3.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[r.$setValue](e3){const t3=this[r.$getParent]();if(t3 instanceof Field&&t3.ui&&t3.ui.imageEdit)return this.image||(this.image=new Image2({}),this[r.$appendChild](this.image)),void(this.image[r.$content]=e3[r.$content]);const a3=e3[r.$nodeName];if(null===this[a3]){for(const e4 of Object.getOwnPropertyNames(this)){const t4=this[e4];t4 instanceof r.XFAObject&&(this[e4]=null,this[r.$removeChild](t4))}this[e3[r.$nodeName]]=e3,this[r.$appendChild](e3)}else this[a3][r.$content]=e3[r.$content]}[r.$text](){if(this.exData)return"string"==typeof this.exData[r.$content]?this.exData[r.$content].trim():this.exData[r.$content][r.$text]().trim();for(const e3 of Object.getOwnPropertyNames(this)){if("image"===e3)continue;const t3=this[e3];if(t3 instanceof r.XFAObject)return(t3[r.$content]||"").toString().trim()}return null}[r.$toHTML](e3){for(const t3 of Object.getOwnPropertyNames(this)){const a3=this[t3];if(a3 instanceof r.XFAObject)return a3[r.$toHTML](e3)}return o.HTMLResult.EMPTY}}t2.Value=Value;class Variables extends r.XFAObject{constructor(e3){super(d,"variables",!0),this.id=e3.id||"",this.use=e3.use||"",this.usehref=e3.usehref||"",this.boolean=new r.XFAObjectArray,this.date=new r.XFAObjectArray,this.dateTime=new r.XFAObjectArray,this.decimal=new r.XFAObjectArray,this.exData=new r.XFAObjectArray,this.float=new r.XFAObjectArray,this.image=new r.XFAObjectArray,this.integer=new r.XFAObjectArray,this.manifest=new r.XFAObjectArray,this.script=new r.XFAObjectArray,this.text=new r.XFAObjectArray,this.time=new r.XFAObjectArray}[r.$isTransparent](){return!0}}class TemplateNamespace{static[n.$buildXFAObject](e3,t3){if(TemplateNamespace.hasOwnProperty(e3)){const a3=TemplateNamespace[e3](t3);return a3[r.$setSetAttributes](t3),a3}}static appearanceFilter(e3){return new AppearanceFilter(e3)}static arc(e3){return new Arc(e3)}static area(e3){return new Area(e3)}static assist(e3){return new Assist(e3)}static barcode(e3){return new Barcode(e3)}static bind(e3){return new Bind(e3)}static bindItems(e3){return new BindItems(e3)}static bookend(e3){return new Bookend(e3)}static boolean(e3){return new BooleanElement(e3)}static border(e3){return new Border(e3)}static break(e3){return new Break(e3)}static breakAfter(e3){return new BreakAfter(e3)}static breakBefore(e3){return new BreakBefore(e3)}static button(e3){return new Button(e3)}static calculate(e3){return new Calculate(e3)}static caption(e3){return new Caption(e3)}static certificate(e3){return new Certificate(e3)}static certificates(e3){return new Certificates(e3)}static checkButton(e3){return new CheckButton(e3)}static choiceList(e3){return new ChoiceList(e3)}static color(e3){return new Color(e3)}static comb(e3){return new Comb(e3)}static connect(e3){return new Connect(e3)}static contentArea(e3){return new ContentArea(e3)}static corner(e3){return new Corner(e3)}static date(e3){return new DateElement(e3)}static dateTime(e3){return new DateTime(e3)}static dateTimeEdit(e3){return new DateTimeEdit(e3)}static decimal(e3){return new Decimal(e3)}static defaultUi(e3){return new DefaultUi(e3)}static desc(e3){return new Desc(e3)}static digestMethod(e3){return new DigestMethod(e3)}static digestMethods(e3){return new DigestMethods(e3)}static draw(e3){return new Draw(e3)}static edge(e3){return new Edge(e3)}static encoding(e3){return new Encoding(e3)}static encodings(e3){return new Encodings(e3)}static encrypt(e3){return new Encrypt(e3)}static encryptData(e3){return new EncryptData(e3)}static encryption(e3){return new Encryption(e3)}static encryptionMethod(e3){return new EncryptionMethod(e3)}static encryptionMethods(e3){return new EncryptionMethods(e3)}static event(e3){return new Event2(e3)}static exData(e3){return new ExData(e3)}static exObject(e3){return new ExObject(e3)}static exclGroup(e3){return new ExclGroup(e3)}static execute(e3){return new Execute(e3)}static extras(e3){return new Extras(e3)}static field(e3){return new Field(e3)}static fill(e3){return new Fill(e3)}static filter(e3){return new Filter(e3)}static float(e3){return new Float(e3)}static font(e3){return new Font(e3)}static format(e3){return new Format(e3)}static handler(e3){return new Handler(e3)}static hyphenation(e3){return new Hyphenation(e3)}static image(e3){return new Image2(e3)}static imageEdit(e3){return new ImageEdit(e3)}static integer(e3){return new Integer(e3)}static issuers(e3){return new Issuers(e3)}static items(e3){return new Items(e3)}static keep(e3){return new Keep(e3)}static keyUsage(e3){return new KeyUsage(e3)}static line(e3){return new Line(e3)}static linear(e3){return new Linear(e3)}static lockDocument(e3){return new LockDocument(e3)}static manifest(e3){return new Manifest(e3)}static margin(e3){return new Margin(e3)}static mdp(e3){return new Mdp(e3)}static medium(e3){return new Medium(e3)}static message(e3){return new Message(e3)}static numericEdit(e3){return new NumericEdit(e3)}static occur(e3){return new Occur(e3)}static oid(e3){return new Oid(e3)}static oids(e3){return new Oids(e3)}static overflow(e3){return new Overflow(e3)}static pageArea(e3){return new PageArea(e3)}static pageSet(e3){return new PageSet(e3)}static para(e3){return new Para(e3)}static passwordEdit(e3){return new PasswordEdit(e3)}static pattern(e3){return new Pattern(e3)}static picture(e3){return new Picture(e3)}static proto(e3){return new Proto(e3)}static radial(e3){return new Radial(e3)}static reason(e3){return new Reason(e3)}static reasons(e3){return new Reasons(e3)}static rectangle(e3){return new Rectangle(e3)}static ref(e3){return new RefElement(e3)}static script(e3){return new Script(e3)}static setProperty(e3){return new SetProperty(e3)}static signData(e3){return new SignData(e3)}static signature(e3){return new Signature(e3)}static signing(e3){return new Signing(e3)}static solid(e3){return new Solid(e3)}static speak(e3){return new Speak(e3)}static stipple(e3){return new Stipple(e3)}static subform(e3){return new Subform(e3)}static subformSet(e3){return new SubformSet(e3)}static subjectDN(e3){return new SubjectDN(e3)}static subjectDNs(e3){return new SubjectDNs(e3)}static submit(e3){return new Submit(e3)}static template(e3){return new Template(e3)}static text(e3){return new Text(e3)}static textEdit(e3){return new TextEdit(e3)}static time(e3){return new Time(e3)}static timeStamp(e3){return new TimeStamp(e3)}static toolTip(e3){return new ToolTip(e3)}static traversal(e3){return new Traversal(e3)}static traverse(e3){return new Traverse(e3)}static ui(e3){return new Ui(e3)}static validate(e3){return new Validate(e3)}static value(e3){return new Value(e3)}static variables(e3){return new Variables(e3)}}t2.TemplateNamespace=TemplateNamespace},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.addHTML=function(e3,t3,a3){const i=e3[r.$extra],s=i.availableSpace,[o,c,l,h]=a3;switch(e3.layout){case"position":i.width=Math.max(i.width,o+l),i.height=Math.max(i.height,c+h),i.children.push(t3);break;case"lr-tb":case"rl-tb":(!i.line||1===i.attempt)&&(i.line=createLine(e3,[]),i.children.push(i.line),i.numberInLine=0),i.numberInLine+=1,i.line.children.push(t3),0===i.attempt?(i.currentWidth+=l,i.height=Math.max(i.height,i.prevHeight+h)):(i.currentWidth=l,i.prevHeight=i.height,i.height+=h,i.attempt=0),i.width=Math.max(i.width,i.currentWidth);break;case"rl-row":case"row":{i.children.push(t3),i.width+=l,i.height=Math.max(i.height,h);const e4=(0,n.measureToString)(i.height);for(const t4 of i.children)t4.attributes.style.height=e4;break}case"table":case"tb":i.width=Math.min(s.width,Math.max(i.width,l)),i.height+=h,i.children.push(t3)}},t2.checkDimensions=function(e3,t3){if(null===e3[r.$getTemplateRoot]()[r.$extra].firstUnsplittable||0===e3.w||0===e3.h)return!0;const a3=e3[r.$getSubformParent](),n2=a3[r.$extra]&&a3[r.$extra].attempt||0,[,i,s,o]=function(e4){let t4,a4,r2=""===e4.w?NaN:e4.w,n3=""===e4.h?NaN:e4.h,[i2,s2]=[0,0];switch(e4.anchorType||""){case"bottomCenter":[i2,s2]=[r2/2,n3];break;case"bottomLeft":[i2,s2]=[0,n3];break;case"bottomRight":[i2,s2]=[r2,n3];break;case"middleCenter":[i2,s2]=[r2/2,n3/2];break;case"middleLeft":[i2,s2]=[0,n3/2];break;case"middleRight":[i2,s2]=[r2,n3/2];break;case"topCenter":[i2,s2]=[r2/2,0];break;case"topRight":[i2,s2]=[r2,0]}switch(e4.rotate||0){case 0:[t4,a4]=[-i2,-s2];break;case 90:[t4,a4]=[-s2,i2],[r2,n3]=[n3,-r2];break;case 180:[t4,a4]=[i2,s2],[r2,n3]=[-r2,-n3];break;case 270:[t4,a4]=[s2,-i2],[r2,n3]=[-n3,r2]}return[e4.x+t4+Math.min(0,r2),e4.y+a4+Math.min(0,n3),Math.abs(r2),Math.abs(n3)]}(e3);switch(a3.layout){case"lr-tb":case"rl-tb":return 0===n2?e3[r.$getTemplateRoot]()[r.$extra].noLayoutFailure?""!==e3.w?Math.round(s-t3.width)<=2:t3.width>2:!(""!==e3.h&&Math.round(o-t3.height)>2)&&(""!==e3.w?Math.round(s-t3.width)<=2||0===a3[r.$extra].numberInLine&&t3.height>2:t3.width>2):!!e3[r.$getTemplateRoot]()[r.$extra].noLayoutFailure||!(""!==e3.h&&Math.round(o-t3.height)>2)&&(""===e3.w||Math.round(s-t3.width)<=2||!a3[r.$isThereMoreWidth]())&&t3.height>2;case"table":case"tb":return!!e3[r.$getTemplateRoot]()[r.$extra].noLayoutFailure||(""===e3.h||e3[r.$isSplittable]()?(""===e3.w||Math.round(s-t3.width)<=2||!a3[r.$isThereMoreWidth]())&&t3.height>2:Math.round(o-t3.height)<=2);case"position":return!!(e3[r.$getTemplateRoot]()[r.$extra].noLayoutFailure||""===e3.h||Math.round(o+i-t3.height)<=2)||o+i>e3[r.$getTemplateRoot]()[r.$extra].currentContentArea.h;case"rl-row":case"row":return!!e3[r.$getTemplateRoot]()[r.$extra].noLayoutFailure||""===e3.h||Math.round(o-t3.height)<=2;default:return!0}},t2.flushHTML=function(e3){if(!e3[r.$extra])return null;const t3={name:"div",attributes:e3[r.$extra].attributes,children:e3[r.$extra].children};if(e3[r.$extra].failingNode){const a3=e3[r.$extra].failingNode[r.$flushHTML]();a3&&(e3.layout.endsWith("-tb")?t3.children.push(createLine(e3,[a3])):t3.children.push(a3))}return 0===t3.children.length?null:t3},t2.getAvailableSpace=function(e3){const t3=e3[r.$extra].availableSpace,a3=e3.margin?e3.margin.topInset+e3.margin.bottomInset:0,n2=e3.margin?e3.margin.leftInset+e3.margin.rightInset:0;switch(e3.layout){case"lr-tb":case"rl-tb":return 0===e3[r.$extra].attempt?{width:t3.width-n2-e3[r.$extra].currentWidth,height:t3.height-a3-e3[r.$extra].prevHeight}:{width:t3.width-n2,height:t3.height-a3-e3[r.$extra].height};case"rl-row":case"row":return{width:e3[r.$extra].columnWidths.slice(e3[r.$extra].currentColumn).reduce((e4,t4)=>e4+t4),height:t3.height-n2};case"table":case"tb":return{width:t3.width-n2,height:t3.height-a3-e3[r.$extra].height};default:return t3}};var r=a2(77),n=a2(84);function createLine(e3,t3){return{name:"div",attributes:{class:["lr-tb"===e3.layout?"xfaLr":"xfaRl"]},children:t3}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.computeBbox=function(e3,t3,a3){let n2;if(""!==e3.w&&""!==e3.h)n2=[e3.x,e3.y,e3.w,e3.h];else{if(!a3)return null;let i2=e3.w;if(""===i2){if(0===e3.maxW){const t4=e3[r.$getSubformParent]();i2="position"===t4.layout&&""!==t4.w?0:e3.minW}else i2=Math.min(e3.maxW,a3.width);t3.attributes.style.width=measureToString(i2)}let s2=e3.h;if(""===s2){if(0===e3.maxH){const t4=e3[r.$getSubformParent]();s2="position"===t4.layout&&""!==t4.h?0:e3.minH}else s2=Math.min(e3.maxH,a3.height);t3.attributes.style.height=measureToString(s2)}n2=[e3.x,e3.y,i2,s2]}return n2},t2.createWrapper=function(e3,t3){const{attributes:a3}=t3,{style:n2}=a3,i2={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(a3.class.push("xfaWrapped"),e3.border){const{widths:a4,insets:s2}=e3.border[r.$extra];let o2,c2,l=s2[0],h=s2[3];const u=s2[0]+s2[2],d=s2[1]+s2[3];switch(e3.border.hand){case"even":l-=a4[0]/2,h-=a4[3]/2,o2=`calc(100% + ${(a4[1]+a4[3])/2-d}px)`,c2=`calc(100% + ${(a4[0]+a4[2])/2-u}px)`;break;case"left":l-=a4[0],h-=a4[3],o2=`calc(100% + ${a4[1]+a4[3]-d}px)`,c2=`calc(100% + ${a4[0]+a4[2]-u}px)`;break;case"right":o2=d?`calc(100% - ${d}px)`:"100%",c2=u?`calc(100% - ${u}px)`:"100%"}const f=["xfaBorder"];isPrintOnly(e3.border)&&f.push("xfaPrintOnly");const g={name:"div",attributes:{class:f,style:{top:`${l}px`,left:`${h}px`,width:o2,height:c2}},children:[]};for(const e4 of["border","borderWidth","borderColor","borderRadius","borderStyle"])void 0!==n2[e4]&&(g.attributes.style[e4]=n2[e4],delete n2[e4]);i2.children.push(g,t3)}else i2.children.push(t3);for(const e4 of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])void 0!==n2[e4]&&(i2.attributes.style[e4]=n2[e4],delete n2[e4]);return i2.attributes.style.position="absolute"===n2.position?"absolute":"relative",delete n2.position,n2.alignSelf&&(i2.attributes.style.alignSelf=n2.alignSelf,delete n2.alignSelf),i2},t2.fixDimensions=function(e3){const t3=e3[r.$getSubformParent]();if(t3.layout&&t3.layout.includes("row")){const a3=t3[r.$extra],n2=e3.colSpan;let i2;i2=-1===n2?a3.columnWidths.slice(a3.currentColumn).reduce((e4,t4)=>e4+t4,0):a3.columnWidths.slice(a3.currentColumn,a3.currentColumn+n2).reduce((e4,t4)=>e4+t4,0),isNaN(i2)||(e3.w=i2)}t3.layout&&"position"!==t3.layout&&(e3.x=e3.y=0),"table"===e3.layout&&""===e3.w&&Array.isArray(e3.columnWidths)&&(e3.w=e3.columnWidths.reduce((e4,t4)=>e4+t4,0))},t2.fixTextIndent=function(e3){const t3=(0,i.getMeasurement)(e3.textIndent,"0px");if(t3>=0)return;const a3="padding"+("left"==("right"===e3.textAlign?"right":"left")?"Left":"Right"),r2=(0,i.getMeasurement)(e3[a3],"0px");e3[a3]=r2-t3+"px"},t2.fixURL=function(e3){const t3=(0,n.createValidAbsoluteUrl)(e3,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return t3?t3.href:null},t2.isPrintOnly=isPrintOnly,t2.layoutClass=function(e3){switch(e3.layout){case"position":default:return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb"}},t2.layoutNode=function(e3,t3){let a3=null,n2=null,i2=!1;if((!e3.w||!e3.h)&&e3.value){let s2=0,o2=0;e3.margin&&(s2=e3.margin.leftInset+e3.margin.rightInset,o2=e3.margin.topInset+e3.margin.bottomInset);let c2=null,l=null;e3.para&&(l=Object.create(null),c2=""===e3.para.lineHeight?null:e3.para.lineHeight,l.top=""===e3.para.spaceAbove?0:e3.para.spaceAbove,l.bottom=""===e3.para.spaceBelow?0:e3.para.spaceBelow,l.left=""===e3.para.marginLeft?0:e3.para.marginLeft,l.right=""===e3.para.marginRight?0:e3.para.marginRight);let h=e3.font;if(!h){const t4=e3[r.$getTemplateRoot]();let a4=e3[r.$getParent]();for(;a4&&a4!==t4;){if(a4.font){h=a4.font;break}a4=a4[r.$getParent]()}}const u=(e3.w||t3.width)-s2,d=e3[r.$globalData].fontFinder;if(e3.value.exData&&e3.value.exData[r.$content]&&"text/html"===e3.value.exData.contentType){const t4=layoutText(e3.value.exData[r.$content],h,l,c2,d,u);n2=t4.width,a3=t4.height,i2=t4.isBroken}else{const t4=e3.value[r.$text]();if(t4){const e4=layoutText(t4,h,l,c2,d,u);n2=e4.width,a3=e4.height,i2=e4.isBroken}}null===n2||e3.w||(n2+=s2),null===a3||e3.h||(a3+=o2)}return{w:n2,h:a3,isBroken:i2}},t2.measureToString=measureToString,t2.setAccess=function(e3,t3){switch(e3.access){case"nonInteractive":t3.push("xfaNonInteractive");break;case"readOnly":t3.push("xfaReadOnly");break;case"protected":t3.push("xfaDisabled")}},t2.setFontFamily=function(e3,t3,a3,r2){if(!a3)return void delete r2.fontFamily;const n2=(0,i.stripQuotes)(e3.typeface);r2.fontFamily=`"${n2}"`;const o2=a3.find(n2);if(o2){const{fontFamily:a4}=o2.regular.cssFontInfo;a4!==n2&&(r2.fontFamily=`"${a4}"`);const i2=getCurrentPara(t3);if(i2&&""!==i2.lineHeight||r2.lineHeight)return;const c2=(0,s.selectFont)(e3,o2);c2&&(r2.lineHeight=Math.max(1.2,c2.lineHeight))}},t2.setMinMaxDimensions=function(e3,t3){"position"===e3[r.$getSubformParent]().layout&&(e3.minW>0&&(t3.minWidth=measureToString(e3.minW)),e3.maxW>0&&(t3.maxWidth=measureToString(e3.maxW)),e3.minH>0&&(t3.minHeight=measureToString(e3.minH)),e3.maxH>0&&(t3.maxHeight=measureToString(e3.maxH)))},t2.setPara=function(e3,t3,a3){if(a3.attributes.class&&a3.attributes.class.includes("xfaRich")){t3&&(""===e3.h&&(t3.height="auto"),""===e3.w&&(t3.width="auto"));const n2=getCurrentPara(e3);if(n2){const e4=a3.attributes.style;switch(e4.display="flex",e4.flexDirection="column",n2.vAlign){case"top":e4.justifyContent="start";break;case"bottom":e4.justifyContent="end";break;case"middle":e4.justifyContent="center"}const t4=n2[r.$toStyle]();for(const[a4,r2]of Object.entries(t4))a4 in e4||(e4[a4]=r2)}}},t2.toStyle=function(e3,...t3){const a3=Object.create(null);for(const i2 of t3){const t4=e3[i2];if(null!==t4)if(c.hasOwnProperty(i2))c[i2](e3,a3);else if(t4 instanceof r.XFAObject){const e4=t4[r.$toStyle]();e4?Object.assign(a3,e4):(0,n.warn)(`(DEBUG) - XFA - style for ${i2} not implemented yet`)}}return a3};var r=a2(77),n=a2(2),i=a2(78),s=a2(85),o=a2(86);function measureToString(e3){return"string"==typeof e3?"0px":Number.isInteger(e3)?`${e3}px`:`${e3.toFixed(2)}px`}const c={anchorType(e3,t3){const a3=e3[r.$getSubformParent]();if(a3&&(!a3.layout||"position"===a3.layout))switch("transform"in t3||(t3.transform=""),e3.anchorType){case"bottomCenter":t3.transform+="translate(-50%, -100%)";break;case"bottomLeft":t3.transform+="translate(0,-100%)";break;case"bottomRight":t3.transform+="translate(-100%,-100%)";break;case"middleCenter":t3.transform+="translate(-50%,-50%)";break;case"middleLeft":t3.transform+="translate(0,-50%)";break;case"middleRight":t3.transform+="translate(-100%,-50%)";break;case"topCenter":t3.transform+="translate(-50%,0)";break;case"topRight":t3.transform+="translate(-100%,0)"}},dimensions(e3,t3){const a3=e3[r.$getSubformParent]();let n2=e3.w;const i2=e3.h;if(a3.layout&&a3.layout.includes("row")){const t4=a3[r.$extra],i3=e3.colSpan;let s2;-1===i3?(s2=t4.columnWidths.slice(t4.currentColumn).reduce((e4,t5)=>e4+t5,0),t4.currentColumn=0):(s2=t4.columnWidths.slice(t4.currentColumn,t4.currentColumn+i3).reduce((e4,t5)=>e4+t5,0),t4.currentColumn=(t4.currentColumn+e3.colSpan)%t4.columnWidths.length),isNaN(s2)||(n2=e3.w=s2)}t3.width=""!==n2?measureToString(n2):"auto",t3.height=""!==i2?measureToString(i2):"auto"},position(e3,t3){const a3=e3[r.$getSubformParent]();(!a3||!a3.layout||"position"===a3.layout)&&(t3.position="absolute",t3.left=measureToString(e3.x),t3.top=measureToString(e3.y))},rotate(e3,t3){e3.rotate&&("transform"in t3||(t3.transform=""),t3.transform+=`rotate(-${e3.rotate}deg)`,t3.transformOrigin="top left")},presence(e3,t3){switch(e3.presence){case"invisible":t3.visibility="hidden";break;case"hidden":case"inactive":t3.display="none"}},hAlign(e3,t3){if("para"===e3[r.$nodeName])switch(e3.hAlign){case"justifyAll":t3.textAlign="justify-all";break;case"radix":t3.textAlign="left";break;default:t3.textAlign=e3.hAlign}else switch(e3.hAlign){case"left":t3.alignSelf="start";break;case"center":t3.alignSelf="center";break;case"right":t3.alignSelf="end"}},margin(e3,t3){e3.margin&&(t3.margin=e3.margin[r.$toStyle]().margin)}};function layoutText(e3,t3,a3,n2,i2,s2){const c2=new o.TextMeasure(t3,a3,n2,i2);return"string"==typeof e3?c2.addString(e3):e3[r.$pushGlyphs](c2),c2.compute(s2)}function isPrintOnly(e3){return e3.relevant.length>0&&!e3.relevant[0].excluded&&"print"===e3.relevant[0].viewname}function getCurrentPara(e3){const t3=e3[r.$getTemplateRoot]()[r.$extra].paraStack;return t3.length?t3.at(-1):null}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.FontFinder=void 0,t2.getMetrics=function(e3,t3=!1){let a3=null;if(e3){const t4=(0,n.stripQuotes)(e3.typeface),i3=e3[r.$globalData].fontFinder.find(t4);a3=selectFont(e3,i3)}if(!a3)return{lineHeight:12,lineGap:2,lineNoGap:10};const i2=e3.size||10,s=a3.lineHeight?Math.max(t3?0:1.2,a3.lineHeight):1.2,o=void 0===a3.lineGap?.2:a3.lineGap;return{lineHeight:s*i2,lineGap:o*i2,lineNoGap:Math.max(1,s-o)*i2}},t2.selectFont=selectFont;var r=a2(77),n=a2(78),i=a2(2);function selectFont(e3,t3){return"italic"===e3.posture?"bold"===e3.weight?t3.bolditalic:t3.italic:"bold"===e3.weight?t3.bold:t3.regular}t2.FontFinder=class{constructor(e3){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(e3)}add(e3,t3=null){for(const t4 of e3)this.addPdfFont(t4);for(const e4 of this.fonts.values())e4.regular||(e4.regular=e4.italic||e4.bold||e4.bolditalic);if(!t3||0===t3.size)return;const a3=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const e4 of t3)this.fonts.set(e4,a3)}addPdfFont(e3){const t3=e3.cssFontInfo,a3=t3.fontFamily;let r2=this.fonts.get(a3);r2||(r2=Object.create(null),this.fonts.set(a3,r2),this.defaultFont||(this.defaultFont=r2));let n2="";const i2=parseFloat(t3.fontWeight);0!==parseFloat(t3.italicAngle)?n2=i2>=700?"bolditalic":"italic":i2>=700&&(n2="bold"),n2||((e3.name.includes("Bold")||e3.psName&&e3.psName.includes("Bold"))&&(n2="bold"),(e3.name.includes("Italic")||e3.name.endsWith("It")||e3.psName&&(e3.psName.includes("Italic")||e3.psName.endsWith("It")))&&(n2+="italic")),n2||(n2="regular"),r2[n2]=e3}getDefault(){return this.defaultFont}find(e3,t3=!0){let a3=this.fonts.get(e3)||this.cache.get(e3);if(a3)return a3;const r2=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let n2=e3.replace(r2,"");if(a3=this.fonts.get(n2),a3)return this.cache.set(e3,a3),a3;n2=n2.toLowerCase();const s=[];for(const[e4,t4]of this.fonts.entries())e4.replace(r2,"").toLowerCase().startsWith(n2)&&s.push(t4);if(0===s.length)for(const[,e4]of this.fonts.entries())e4.regular.name&&e4.regular.name.replace(r2,"").toLowerCase().startsWith(n2)&&s.push(e4);if(0===s.length){n2=n2.replace(/psmt|mt/gi,"");for(const[e4,t4]of this.fonts.entries())e4.replace(r2,"").toLowerCase().startsWith(n2)&&s.push(t4)}if(0===s.length)for(const e4 of this.fonts.values())e4.regular.name&&e4.regular.name.replace(r2,"").toLowerCase().startsWith(n2)&&s.push(e4);return s.length>=1?(1!==s.length&&t3&&(0,i.warn)(`XFA - Too many choices to guess the correct font: ${e3}`),this.cache.set(e3,s[0]),s[0]):(t3&&!this.warned.has(e3)&&(this.warned.add(e3),(0,i.warn)(`XFA - Cannot find the font: ${e3}`)),null)}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.TextMeasure=void 0;var r=a2(85);class FontInfo{constructor(e3,t3,a3,n){if(this.lineHeight=a3,this.paraMargin=t3||{top:0,bottom:0,left:0,right:0},!e3)return void([this.pdfFont,this.xfaFont]=this.defaultFont(n));this.xfaFont={typeface:e3.typeface,posture:e3.posture,weight:e3.weight,size:e3.size,letterSpacing:e3.letterSpacing};const i=n.find(e3.typeface);i?(this.pdfFont=(0,r.selectFont)(e3,i),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(n))):[this.pdfFont,this.xfaFont]=this.defaultFont(n)}defaultFont(e3){const t3=e3.find("Helvetica",!1)||e3.find("Myriad Pro",!1)||e3.find("Arial",!1)||e3.getDefault();if(t3&&t3.regular){const e4=t3.regular;return[e4,{typeface:e4.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0}]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class FontSelector{constructor(e3,t3,a3,r2){this.fontFinder=r2,this.stack=[new FontInfo(e3,t3,a3,r2)]}pushData(e3,t3,a3){const r2=this.stack.at(-1);for(const t4 of["typeface","posture","weight","size","letterSpacing"])e3[t4]||(e3[t4]=r2.xfaFont[t4]);for(const e4 of["top","bottom","left","right"])isNaN(t3[e4])&&(t3[e4]=r2.paraMargin[e4]);const n=new FontInfo(e3,t3,a3||r2.lineHeight,this.fontFinder);n.pdfFont||(n.pdfFont=r2.pdfFont),this.stack.push(n)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}t2.TextMeasure=class{constructor(e3,t3,a3,r2){this.glyphs=[],this.fontSelector=new FontSelector(e3,t3,a3,r2),this.extraHeight=0}pushData(e3,t3,a3){this.fontSelector.pushData(e3,t3,a3)}popFont(e3){return this.fontSelector.popFont()}addPara(){const e3=this.fontSelector.topFont();this.extraHeight+=e3.paraMargin.top+e3.paraMargin.bottom}addString(e3){if(!e3)return;const t3=this.fontSelector.topFont(),a3=t3.xfaFont.size;if(t3.pdfFont){const r2=t3.xfaFont.letterSpacing,n=t3.pdfFont,i=n.lineHeight||1.2,s=t3.lineHeight||Math.max(1.2,i)*a3,c=Math.max(1,i-(void 0===n.lineGap?.2:n.lineGap))*a3,l=a3/1e3,h=n.defaultWidth||n.charsToGlyphs(" ")[0].width;for(const t4 of e3.split(/[\u2029\n]/)){const e4=n.encodeString(t4).join(""),a4=n.charsToGlyphs(e4);for(const e5 of a4)this.glyphs.push([(e5.width||h)*l+r2,s,c,e5.unicode,!1]);this.glyphs.push([0,0,0,"\n",!0])}this.glyphs.pop()}else{for(const t4 of e3.split(/[\u2029\n]/)){for(const e4 of t4.split(""))this.glyphs.push([a3,1.2*a3,a3,e4,!1]);this.glyphs.push([0,0,0,"\n",!0])}this.glyphs.pop()}}compute(e3){let t3=-1,a3=0,r2=0,n=0,i=0,s=0,o=!1,c=!0;for(let l=0,h=this.glyphs.length;l<h;l++){const[h2,u,d,f,g]=this.glyphs[l],p=" "===f,m=c?d:u;g?(r2=Math.max(r2,i),i=0,n+=s,s=m,t3=-1,a3=0,c=!1):p?i+h2>e3?(r2=Math.max(r2,i),i=0,n+=s,s=m,t3=-1,a3=0,o=!0,c=!1):(s=Math.max(m,s),a3=i,i+=h2,t3=l):i+h2>e3?(n+=s,s=m,-1!==t3?(l=t3,r2=Math.max(r2,a3),i=0,t3=-1,a3=0):(r2=Math.max(r2,i),i=h2),o=!0,c=!1):(i+=h2,s=Math.max(m,s))}return r2=Math.max(r2,i),n+=s+this.extraHeight,{width:1.02*r2,height:n,isBroken:o}}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.DataHandler=void 0;var r=a2(77);t2.DataHandler=class{constructor(e3,t3){this.data=t3,this.dataset=e3.datasets||null}serialize(e3){const t3=[[-1,this.data[r.$getChildren]()]];for(;t3.length>0;){const a4=t3.at(-1),[n,i]=a4;if(n+1===i.length){t3.pop();continue}const s=i[++a4[0]],o=e3.get(s[r.$uid]);if(o)s[r.$setValue](o);else{const t4=s[r.$getAttributes]();for(const a5 of t4.values()){const t5=e3.get(a5[r.$uid]);if(t5){a5[r.$setValue](t5);break}}}const c=s[r.$getChildren]();c.length>0&&t3.push([-1,c])}const a3=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const e4 of this.dataset[r.$getChildren]())"data"!==e4[r.$nodeName]&&e4[r.$toString](a3);return this.data[r.$toString](a3),a3.push("</xfa:datasets>"),a3.join("")}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.XFAParser=void 0;var r=a2(77),n=a2(66),i=a2(89),s=a2(2);class XFAParser extends n.XMLParserBase{constructor(e3=null,t3=!1){super(),this._builder=new i.Builder(e3),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=n.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=t3}parse(e3){if(this.parseXml(e3),this._errorCode===n.XMLParserErrorCode.NoError)return this._current[r.$finalize](),this._current.element}onText(e3){e3=e3.replace(this._nbsps,e4=>e4.slice(1)+" "),this._richText||this._current[r.$acceptWhitespace]()?this._current[r.$onText](e3,this._richText):this._whiteRegex.test(e3)||this._current[r.$onText](e3.trim())}onCdata(e3){this._current[r.$onText](e3)}_mkAttributes(e3,t3){let a3=null,n2=null;const i2=Object.create({});for(const{name:o,value:c}of e3)if("xmlns"===o)a3?(0,s.warn)(`XFA - multiple namespace definition in <${t3}>`):a3=c;else if(o.startsWith("xmlns:")){const e4=o.substring(6);n2||(n2=[]),n2.push({prefix:e4,value:c})}else{const e4=o.indexOf(":");if(-1===e4)i2[o]=c;else{let t4=i2[r.$nsAttributes];t4||(t4=i2[r.$nsAttributes]=Object.create(null));const[a4,n3]=[o.slice(0,e4),o.slice(e4+1)];let s2=t4[a4];s2||(s2=t4[a4]=Object.create(null)),s2[n3]=c}}return[a3,n2,i2]}_getNameAndPrefix(e3,t3){const a3=e3.indexOf(":");return-1===a3?[e3,null]:[e3.substring(a3+1),t3?"":e3.substring(0,a3)]}onBeginElement(e3,t3,a3){const[n2,i2,s2]=this._mkAttributes(t3,e3),[o,c]=this._getNameAndPrefix(e3,this._builder.isNsAgnostic()),l=this._builder.build({nsPrefix:c,name:o,attributes:s2,namespace:n2,prefixes:i2});l[r.$globalData]=this._globalData,a3?(l[r.$finalize](),this._current[r.$onChild](l)&&l[r.$setId](this._ids),l[r.$clean](this._builder)):(this._stack.push(this._current),this._current=l)}onEndElement(e3){const t3=this._current;if(t3[r.$isCDATAXml]()&&"string"==typeof t3[r.$content]){const e4=new XFAParser;e4._globalData=this._globalData;const a3=e4.parse(t3[r.$content]);t3[r.$content]=null,t3[r.$onChild](a3)}t3[r.$finalize](),this._current=this._stack.pop(),this._current[r.$onChild](t3)&&t3[r.$setId](this._ids),t3[r.$clean](this._builder)}onError(e3){this._errorCode=e3}}t2.XFAParser=XFAParser},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.Builder=void 0;var r=a2(79),n=a2(77),i=a2(90),s=a2(82),o=a2(99),c=a2(2);class Root extends n.XFAObject{constructor(e3){super(-1,"root",Object.create(null)),this.element=null,this[n.$ids]=e3}[n.$onChild](e3){return this.element=e3,!0}[n.$finalize](){super[n.$finalize](),this.element.template instanceof s.Template&&(this[n.$ids].set(n.$root,this.element),this.element.template[n.$resolvePrototypes](this[n.$ids]),this.element.template[n.$ids]=this[n.$ids])}}class Empty extends n.XFAObject{constructor(){super(-1,"",Object.create(null))}[n.$onChild](e3){return!1}}t2.Builder=class{constructor(e3=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(r.NamespaceIds).map(({id:e4})=>e4)),this._currentNamespace=e3||new o.UnknownNamespace(++this._nextNsId)}buildRoot(e3){return new Root(e3)}build({nsPrefix:e3,name:t3,attributes:a3,namespace:s2,prefixes:o2}){const c2=null!==s2;if(c2&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(s2)),o2&&this._addNamespacePrefix(o2),a3.hasOwnProperty(n.$nsAttributes)){const e4=i.NamespaceSetUp.datasets,t4=a3[n.$nsAttributes];let r2=null;for(const[a4,n2]of Object.entries(t4))if(this._getNamespaceToUse(a4)===e4){r2={xfa:n2};break}r2?a3[n.$nsAttributes]=r2:delete a3[n.$nsAttributes]}const l=this._getNamespaceToUse(e3),h=l&&l[r.$buildXFAObject](t3,a3)||new Empty;return h[n.$isNsAgnostic]()&&this._nsAgnosticLevel++,(c2||o2||h[n.$isNsAgnostic]())&&(h[n.$cleanup]={hasNamespace:c2,prefixes:o2,nsAgnostic:h[n.$isNsAgnostic]()}),h}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(e3){let t3=this._namespaces.get(e3);if(t3)return t3;for(const[a3,{check:n2}]of Object.entries(r.NamespaceIds))if(n2(e3)){if(t3=i.NamespaceSetUp[a3],t3)return this._namespaces.set(e3,t3),t3;break}return t3=new o.UnknownNamespace(++this._nextNsId),this._namespaces.set(e3,t3),t3}_addNamespacePrefix(e3){for(const{prefix:t3,value:a3}of e3){const e4=this._searchNamespace(a3);let r2=this._namespacePrefixes.get(t3);r2||(r2=[],this._namespacePrefixes.set(t3,r2)),r2.push(e4)}}_getNamespaceToUse(e3){if(!e3)return this._currentNamespace;const t3=this._namespacePrefixes.get(e3);return t3&&t3.length>0?t3.at(-1):((0,c.warn)(`Unknown namespace prefix: ${e3}.`),null)}clean(e3){const{hasNamespace:t3,prefixes:a3,nsAgnostic:r2}=e3;t3&&(this._currentNamespace=this._namespaceStack.pop()),a3&&a3.forEach(({prefix:e4})=>{this._namespacePrefixes.get(e4).pop()}),r2&&this._nsAgnosticLevel--}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.NamespaceSetUp=void 0;var r=a2(91),n=a2(92),i=a2(93),s=a2(94),o=a2(95),c=a2(96),l=a2(82),h=a2(97),u=a2(98);t2.NamespaceSetUp={config:r.ConfigNamespace,connection:n.ConnectionSetNamespace,datasets:i.DatasetsNamespace,localeSet:s.LocaleSetNamespace,signature:o.SignatureNamespace,stylesheet:c.StylesheetNamespace,template:l.TemplateNamespace,xdp:h.XdpNamespace,xhtml:u.XhtmlNamespace}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.ConfigNamespace=void 0;var r=a2(79),n=a2(77),i=a2(78),s=a2(2);const o=r.NamespaceIds.config.id;class Acrobat extends n.XFAObject{constructor(e3){super(o,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new n.XFAObjectArray}}class Acrobat7 extends n.XFAObject{constructor(e3){super(o,"acrobat7",!0),this.dynamicRender=null}}class ADBE_JSConsole extends n.OptionObject{constructor(e3){super(o,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class ADBE_JSDebugger extends n.OptionObject{constructor(e3){super(o,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class AddSilentPrint extends n.Option01{constructor(e3){super(o,"addSilentPrint")}}class AddViewerPreferences extends n.Option01{constructor(e3){super(o,"addViewerPreferences")}}class AdjustData extends n.Option10{constructor(e3){super(o,"adjustData")}}class AdobeExtensionLevel extends n.IntegerObject{constructor(e3){super(o,"adobeExtensionLevel",0,e4=>e4>=1&&e4<=8)}}class Agent extends n.XFAObject{constructor(e3){super(o,"agent",!0),this.name=e3.name?e3.name.trim():"",this.common=new n.XFAObjectArray}}class AlwaysEmbed extends n.ContentObject{constructor(e3){super(o,"alwaysEmbed")}}class Amd extends n.StringObject{constructor(e3){super(o,"amd")}}class Area extends n.XFAObject{constructor(e3){super(o,"area"),this.level=(0,i.getInteger)({data:e3.level,defaultValue:0,validate:e4=>e4>=1&&e4<=3}),this.name=(0,i.getStringOption)(e3.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class Attributes extends n.OptionObject{constructor(e3){super(o,"attributes",["preserve","delegate","ignore"])}}class AutoSave extends n.OptionObject{constructor(e3){super(o,"autoSave",["disabled","enabled"])}}class Base extends n.StringObject{constructor(e3){super(o,"base")}}class BatchOutput extends n.XFAObject{constructor(e3){super(o,"batchOutput"),this.format=(0,i.getStringOption)(e3.format,["none","concat","zip","zipCompress"])}}class BehaviorOverride extends n.ContentObject{constructor(e3){super(o,"behaviorOverride")}[n.$finalize](){this[n.$content]=new Map(this[n.$content].trim().split(/\s+/).filter(e3=>e3.includes(":")).map(e3=>e3.split(":",2)))}}class Cache extends n.XFAObject{constructor(e3){super(o,"cache",!0),this.templateCache=null}}class Change extends n.Option01{constructor(e3){super(o,"change")}}class Common extends n.XFAObject{constructor(e3){super(o,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new n.XFAObjectArray}}class Compress extends n.XFAObject{constructor(e3){super(o,"compress"),this.scope=(0,i.getStringOption)(e3.scope,["imageOnly","document"])}}class CompressLogicalStructure extends n.Option01{constructor(e3){super(o,"compressLogicalStructure")}}class CompressObjectStream extends n.Option10{constructor(e3){super(o,"compressObjectStream")}}class Compression extends n.XFAObject{constructor(e3){super(o,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class Config extends n.XFAObject{constructor(e3){super(o,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new n.XFAObjectArray}}class Conformance extends n.OptionObject{constructor(e3){super(o,"conformance",["A","B"])}}class ContentCopy extends n.Option01{constructor(e3){super(o,"contentCopy")}}class Copies extends n.IntegerObject{constructor(e3){super(o,"copies",1,e4=>e4>=1)}}class Creator extends n.StringObject{constructor(e3){super(o,"creator")}}class CurrentPage extends n.IntegerObject{constructor(e3){super(o,"currentPage",0,e4=>e4>=0)}}class Data extends n.XFAObject{constructor(e3){super(o,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new n.XFAObjectArray,this.transform=new n.XFAObjectArray}}class Debug extends n.XFAObject{constructor(e3){super(o,"debug",!0),this.uri=null}}class DefaultTypeface extends n.ContentObject{constructor(e3){super(o,"defaultTypeface"),this.writingScript=(0,i.getStringOption)(e3.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class Destination extends n.OptionObject{constructor(e3){super(o,"destination",["pdf","pcl","ps","webClient","zpl"])}}class DocumentAssembly extends n.Option01{constructor(e3){super(o,"documentAssembly")}}class Driver extends n.XFAObject{constructor(e3){super(o,"driver",!0),this.name=e3.name?e3.name.trim():"",this.fontInfo=null,this.xdc=null}}class DuplexOption extends n.OptionObject{constructor(e3){super(o,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class DynamicRender extends n.OptionObject{constructor(e3){super(o,"dynamicRender",["forbidden","required"])}}class Embed extends n.Option01{constructor(e3){super(o,"embed")}}class Encrypt extends n.Option01{constructor(e3){super(o,"encrypt")}}class Encryption extends n.XFAObject{constructor(e3){super(o,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class EncryptionLevel extends n.OptionObject{constructor(e3){super(o,"encryptionLevel",["40bit","128bit"])}}class Enforce extends n.StringObject{constructor(e3){super(o,"enforce")}}class Equate extends n.XFAObject{constructor(e3){super(o,"equate"),this.force=(0,i.getInteger)({data:e3.force,defaultValue:1,validate:e4=>0===e4}),this.from=e3.from||"",this.to=e3.to||""}}class EquateRange extends n.XFAObject{constructor(e3){super(o,"equateRange"),this.from=e3.from||"",this.to=e3.to||"",this._unicodeRange=e3.unicodeRange||""}get unicodeRange(){const e3=[],t3=/U\+([0-9a-fA-F]+)/,a3=this._unicodeRange;for(let r2 of a3.split(",").map(e4=>e4.trim()).filter(e4=>!!e4))r2=r2.split("-",2).map(e4=>{const a4=e4.match(t3);return a4?parseInt(a4[1],16):0}),1===r2.length&&r2.push(r2[0]),e3.push(r2);return(0,s.shadow)(this,"unicodeRange",e3)}}class Exclude extends n.ContentObject{constructor(e3){super(o,"exclude")}[n.$finalize](){this[n.$content]=this[n.$content].trim().split(/\s+/).filter(e3=>e3&&["calculate","close","enter","exit","initialize","ready","validate"].includes(e3))}}class ExcludeNS extends n.StringObject{constructor(e3){super(o,"excludeNS")}}class FlipLabel extends n.OptionObject{constructor(e3){super(o,"flipLabel",["usePrinterSetting","on","off"])}}class FontInfo extends n.XFAObject{constructor(e3){super(o,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new n.XFAObjectArray,this.defaultTypeface=new n.XFAObjectArray,this.neverEmbed=new n.XFAObjectArray}}class FormFieldFilling extends n.Option01{constructor(e3){super(o,"formFieldFilling")}}class GroupParent extends n.StringObject{constructor(e3){super(o,"groupParent")}}class IfEmpty extends n.OptionObject{constructor(e3){super(o,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class IncludeXDPContent extends n.StringObject{constructor(e3){super(o,"includeXDPContent")}}class IncrementalLoad extends n.OptionObject{constructor(e3){super(o,"incrementalLoad",["none","forwardOnly"])}}class IncrementalMerge extends n.Option01{constructor(e3){super(o,"incrementalMerge")}}class Interactive extends n.Option01{constructor(e3){super(o,"interactive")}}class Jog extends n.OptionObject{constructor(e3){super(o,"jog",["usePrinterSetting","none","pageSet"])}}class LabelPrinter extends n.XFAObject{constructor(e3){super(o,"labelPrinter",!0),this.name=(0,i.getStringOption)(e3.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Layout extends n.OptionObject{constructor(e3){super(o,"layout",["paginate","panel"])}}class Level extends n.IntegerObject{constructor(e3){super(o,"level",0,e4=>e4>0)}}class Linearized extends n.Option01{constructor(e3){super(o,"linearized")}}class Locale extends n.StringObject{constructor(e3){super(o,"locale")}}class LocaleSet extends n.StringObject{constructor(e3){super(o,"localeSet")}}class Log extends n.XFAObject{constructor(e3){super(o,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class MapElement extends n.XFAObject{constructor(e3){super(o,"map",!0),this.equate=new n.XFAObjectArray,this.equateRange=new n.XFAObjectArray}}class MediumInfo extends n.XFAObject{constructor(e3){super(o,"mediumInfo",!0),this.map=null}}class Message extends n.XFAObject{constructor(e3){super(o,"message",!0),this.msgId=null,this.severity=null}}class Messaging extends n.XFAObject{constructor(e3){super(o,"messaging",!0),this.message=new n.XFAObjectArray}}class Mode extends n.OptionObject{constructor(e3){super(o,"mode",["append","overwrite"])}}class ModifyAnnots extends n.Option01{constructor(e3){super(o,"modifyAnnots")}}class MsgId extends n.IntegerObject{constructor(e3){super(o,"msgId",1,e4=>e4>=1)}}class NameAttr extends n.StringObject{constructor(e3){super(o,"nameAttr")}}class NeverEmbed extends n.ContentObject{constructor(e3){super(o,"neverEmbed")}}class NumberOfCopies extends n.IntegerObject{constructor(e3){super(o,"numberOfCopies",null,e4=>e4>=2&&e4<=5)}}class OpenAction extends n.XFAObject{constructor(e3){super(o,"openAction",!0),this.destination=null}}class Output extends n.XFAObject{constructor(e3){super(o,"output",!0),this.to=null,this.type=null,this.uri=null}}class OutputBin extends n.StringObject{constructor(e3){super(o,"outputBin")}}class OutputXSL extends n.XFAObject{constructor(e3){super(o,"outputXSL",!0),this.uri=null}}class Overprint extends n.OptionObject{constructor(e3){super(o,"overprint",["none","both","draw","field"])}}class Packets extends n.StringObject{constructor(e3){super(o,"packets")}[n.$finalize](){"*"!==this[n.$content]&&(this[n.$content]=this[n.$content].trim().split(/\s+/).filter(e3=>["config","datasets","template","xfdf","xslt"].includes(e3)))}}class PageOffset extends n.XFAObject{constructor(e3){super(o,"pageOffset"),this.x=(0,i.getInteger)({data:e3.x,defaultValue:"useXDCSetting",validate:e4=>!0}),this.y=(0,i.getInteger)({data:e3.y,defaultValue:"useXDCSetting",validate:e4=>!0})}}class PageRange extends n.StringObject{constructor(e3){super(o,"pageRange")}[n.$finalize](){const e3=this[n.$content].trim().split(/\s+/).map(e4=>parseInt(e4,10)),t3=[];for(let a3=0,r2=e3.length;a3<r2;a3+=2)t3.push(e3.slice(a3,a3+2));this[n.$content]=t3}}class Pagination extends n.OptionObject{constructor(e3){super(o,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class PaginationOverride extends n.OptionObject{constructor(e3){super(o,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Part extends n.IntegerObject{constructor(e3){super(o,"part",1,e4=>!1)}}class Pcl extends n.XFAObject{constructor(e3){super(o,"pcl",!0),this.name=e3.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class Pdf extends n.XFAObject{constructor(e3){super(o,"pdf",!0),this.name=e3.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class Pdfa extends n.XFAObject{constructor(e3){super(o,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class Permissions extends n.XFAObject{constructor(e3){super(o,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class PickTrayByPDFSize extends n.Option01{constructor(e3){super(o,"pickTrayByPDFSize")}}class Picture extends n.StringObject{constructor(e3){super(o,"picture")}}class PlaintextMetadata extends n.Option01{constructor(e3){super(o,"plaintextMetadata")}}class Presence extends n.OptionObject{constructor(e3){super(o,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class Present extends n.XFAObject{constructor(e3){super(o,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new n.XFAObjectArray,this.labelPrinter=new n.XFAObjectArray,this.pcl=new n.XFAObjectArray,this.pdf=new n.XFAObjectArray,this.ps=new n.XFAObjectArray,this.submitUrl=new n.XFAObjectArray,this.webClient=new n.XFAObjectArray,this.zpl=new n.XFAObjectArray}}class Print extends n.Option01{constructor(e3){super(o,"print")}}class PrintHighQuality extends n.Option01{constructor(e3){super(o,"printHighQuality")}}class PrintScaling extends n.OptionObject{constructor(e3){super(o,"printScaling",["appdefault","noScaling"])}}class PrinterName extends n.StringObject{constructor(e3){super(o,"printerName")}}class Producer extends n.StringObject{constructor(e3){super(o,"producer")}}class Ps extends n.XFAObject{constructor(e3){super(o,"ps",!0),this.name=e3.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class Range extends n.ContentObject{constructor(e3){super(o,"range")}[n.$finalize](){this[n.$content]=this[n.$content].trim().split(/\s*,\s*/,2).map(e3=>e3.split("-").map(e4=>parseInt(e4.trim(),10))).filter(e3=>e3.every(e4=>!isNaN(e4))).map(e3=>(1===e3.length&&e3.push(e3[0]),e3))}}class Record extends n.ContentObject{constructor(e3){super(o,"record")}[n.$finalize](){this[n.$content]=this[n.$content].trim();const e3=parseInt(this[n.$content],10);!isNaN(e3)&&e3>=0&&(this[n.$content]=e3)}}class Relevant extends n.ContentObject{constructor(e3){super(o,"relevant")}[n.$finalize](){this[n.$content]=this[n.$content].trim().split(/\s+/)}}class Rename extends n.ContentObject{constructor(e3){super(o,"rename")}[n.$finalize](){this[n.$content]=this[n.$content].trim(),(this[n.$content].toLowerCase().startsWith("xml")||this[n.$content].match(new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u")))&&(0,s.warn)("XFA - Rename: invalid XFA name")}}class RenderPolicy extends n.OptionObject{constructor(e3){super(o,"renderPolicy",["server","client"])}}class RunScripts extends n.OptionObject{constructor(e3){super(o,"runScripts",["both","client","none","server"])}}class Script extends n.XFAObject{constructor(e3){super(o,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class ScriptModel extends n.OptionObject{constructor(e3){super(o,"scriptModel",["XFA","none"])}}class Severity extends n.OptionObject{constructor(e3){super(o,"severity",["ignore","error","information","trace","warning"])}}class SilentPrint extends n.XFAObject{constructor(e3){super(o,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class Staple extends n.XFAObject{constructor(e3){super(o,"staple"),this.mode=(0,i.getStringOption)(e3.mode,["usePrinterSetting","on","off"])}}class StartNode extends n.StringObject{constructor(e3){super(o,"startNode")}}class StartPage extends n.IntegerObject{constructor(e3){super(o,"startPage",0,e4=>!0)}}class SubmitFormat extends n.OptionObject{constructor(e3){super(o,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class SubmitUrl extends n.StringObject{constructor(e3){super(o,"submitUrl")}}class SubsetBelow extends n.IntegerObject{constructor(e3){super(o,"subsetBelow",100,e4=>e4>=0&&e4<=100)}}class SuppressBanner extends n.Option01{constructor(e3){super(o,"suppressBanner")}}class Tagged extends n.Option01{constructor(e3){super(o,"tagged")}}class Template extends n.XFAObject{constructor(e3){super(o,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class Threshold extends n.OptionObject{constructor(e3){super(o,"threshold",["trace","error","information","warning"])}}class To extends n.OptionObject{constructor(e3){super(o,"to",["null","memory","stderr","stdout","system","uri"])}}class TemplateCache extends n.XFAObject{constructor(e3){super(o,"templateCache"),this.maxEntries=(0,i.getInteger)({data:e3.maxEntries,defaultValue:5,validate:e4=>e4>=0})}}class Trace extends n.XFAObject{constructor(e3){super(o,"trace",!0),this.area=new n.XFAObjectArray}}class Transform extends n.XFAObject{constructor(e3){super(o,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class Type extends n.OptionObject{constructor(e3){super(o,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class Uri extends n.StringObject{constructor(e3){super(o,"uri")}}class Validate extends n.OptionObject{constructor(e3){super(o,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class ValidateApprovalSignatures extends n.ContentObject{constructor(e3){super(o,"validateApprovalSignatures")}[n.$finalize](){this[n.$content]=this[n.$content].trim().split(/\s+/).filter(e3=>["docReady","postSign"].includes(e3))}}class ValidationMessaging extends n.OptionObject{constructor(e3){super(o,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class Version extends n.OptionObject{constructor(e3){super(o,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class VersionControl extends n.XFAObject{constructor(e3){super(o,"VersionControl"),this.outputBelow=(0,i.getStringOption)(e3.outputBelow,["warn","error","update"]),this.sourceAbove=(0,i.getStringOption)(e3.sourceAbove,["warn","error"]),this.sourceBelow=(0,i.getStringOption)(e3.sourceBelow,["update","maintain"])}}class ViewerPreferences extends n.XFAObject{constructor(e3){super(o,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class WebClient extends n.XFAObject{constructor(e3){super(o,"webClient",!0),this.name=e3.name?e3.name.trim():"",this.fontInfo=null,this.xdc=null}}class Whitespace extends n.OptionObject{constructor(e3){super(o,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class Window extends n.ContentObject{constructor(e3){super(o,"window")}[n.$finalize](){const e3=this[n.$content].trim().split(/\s*,\s*/,2).map(e4=>parseInt(e4,10));e3.some(e4=>isNaN(e4))?this[n.$content]=[0,0]:(1===e3.length&&e3.push(e3[0]),this[n.$content]=e3)}}class Xdc extends n.XFAObject{constructor(e3){super(o,"xdc",!0),this.uri=new n.XFAObjectArray,this.xsl=new n.XFAObjectArray}}class Xdp extends n.XFAObject{constructor(e3){super(o,"xdp",!0),this.packets=null}}class Xsl extends n.XFAObject{constructor(e3){super(o,"xsl",!0),this.debug=null,this.uri=null}}class Zpl extends n.XFAObject{constructor(e3){super(o,"zpl",!0),this.name=e3.name?e3.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class ConfigNamespace{static[r.$buildXFAObject](e3,t3){if(ConfigNamespace.hasOwnProperty(e3))return ConfigNamespace[e3](t3)}static acrobat(e3){return new Acrobat(e3)}static acrobat7(e3){return new Acrobat7(e3)}static ADBE_JSConsole(e3){return new ADBE_JSConsole(e3)}static ADBE_JSDebugger(e3){return new ADBE_JSDebugger(e3)}static addSilentPrint(e3){return new AddSilentPrint(e3)}static addViewerPreferences(e3){return new AddViewerPreferences(e3)}static adjustData(e3){return new AdjustData(e3)}static adobeExtensionLevel(e3){return new AdobeExtensionLevel(e3)}static agent(e3){return new Agent(e3)}static alwaysEmbed(e3){return new AlwaysEmbed(e3)}static amd(e3){return new Amd(e3)}static area(e3){return new Area(e3)}static attributes(e3){return new Attributes(e3)}static autoSave(e3){return new AutoSave(e3)}static base(e3){return new Base(e3)}static batchOutput(e3){return new BatchOutput(e3)}static behaviorOverride(e3){return new BehaviorOverride(e3)}static cache(e3){return new Cache(e3)}static change(e3){return new Change(e3)}static common(e3){return new Common(e3)}static compress(e3){return new Compress(e3)}static compressLogicalStructure(e3){return new CompressLogicalStructure(e3)}static compressObjectStream(e3){return new CompressObjectStream(e3)}static compression(e3){return new Compression(e3)}static config(e3){return new Config(e3)}static conformance(e3){return new Conformance(e3)}static contentCopy(e3){return new ContentCopy(e3)}static copies(e3){return new Copies(e3)}static creator(e3){return new Creator(e3)}static currentPage(e3){return new CurrentPage(e3)}static data(e3){return new Data(e3)}static debug(e3){return new Debug(e3)}static defaultTypeface(e3){return new DefaultTypeface(e3)}static destination(e3){return new Destination(e3)}static documentAssembly(e3){return new DocumentAssembly(e3)}static driver(e3){return new Driver(e3)}static duplexOption(e3){return new DuplexOption(e3)}static dynamicRender(e3){return new DynamicRender(e3)}static embed(e3){return new Embed(e3)}static encrypt(e3){return new Encrypt(e3)}static encryption(e3){return new Encryption(e3)}static encryptionLevel(e3){return new EncryptionLevel(e3)}static enforce(e3){return new Enforce(e3)}static equate(e3){return new Equate(e3)}static equateRange(e3){return new EquateRange(e3)}static exclude(e3){return new Exclude(e3)}static excludeNS(e3){return new ExcludeNS(e3)}static flipLabel(e3){return new FlipLabel(e3)}static fontInfo(e3){return new FontInfo(e3)}static formFieldFilling(e3){return new FormFieldFilling(e3)}static groupParent(e3){return new GroupParent(e3)}static ifEmpty(e3){return new IfEmpty(e3)}static includeXDPContent(e3){return new IncludeXDPContent(e3)}static incrementalLoad(e3){return new IncrementalLoad(e3)}static incrementalMerge(e3){return new IncrementalMerge(e3)}static interactive(e3){return new Interactive(e3)}static jog(e3){return new Jog(e3)}static labelPrinter(e3){return new LabelPrinter(e3)}static layout(e3){return new Layout(e3)}static level(e3){return new Level(e3)}static linearized(e3){return new Linearized(e3)}static locale(e3){return new Locale(e3)}static localeSet(e3){return new LocaleSet(e3)}static log(e3){return new Log(e3)}static map(e3){return new MapElement(e3)}static mediumInfo(e3){return new MediumInfo(e3)}static message(e3){return new Message(e3)}static messaging(e3){return new Messaging(e3)}static mode(e3){return new Mode(e3)}static modifyAnnots(e3){return new ModifyAnnots(e3)}static msgId(e3){return new MsgId(e3)}static nameAttr(e3){return new NameAttr(e3)}static neverEmbed(e3){return new NeverEmbed(e3)}static numberOfCopies(e3){return new NumberOfCopies(e3)}static openAction(e3){return new OpenAction(e3)}static output(e3){return new Output(e3)}static outputBin(e3){return new OutputBin(e3)}static outputXSL(e3){return new OutputXSL(e3)}static overprint(e3){return new Overprint(e3)}static packets(e3){return new Packets(e3)}static pageOffset(e3){return new PageOffset(e3)}static pageRange(e3){return new PageRange(e3)}static pagination(e3){return new Pagination(e3)}static paginationOverride(e3){return new PaginationOverride(e3)}static part(e3){return new Part(e3)}static pcl(e3){return new Pcl(e3)}static pdf(e3){return new Pdf(e3)}static pdfa(e3){return new Pdfa(e3)}static permissions(e3){return new Permissions(e3)}static pickTrayByPDFSize(e3){return new PickTrayByPDFSize(e3)}static picture(e3){return new Picture(e3)}static plaintextMetadata(e3){return new PlaintextMetadata(e3)}static presence(e3){return new Presence(e3)}static present(e3){return new Present(e3)}static print(e3){return new Print(e3)}static printHighQuality(e3){return new PrintHighQuality(e3)}static printScaling(e3){return new PrintScaling(e3)}static printerName(e3){return new PrinterName(e3)}static producer(e3){return new Producer(e3)}static ps(e3){return new Ps(e3)}static range(e3){return new Range(e3)}static record(e3){return new Record(e3)}static relevant(e3){return new Relevant(e3)}static rename(e3){return new Rename(e3)}static renderPolicy(e3){return new RenderPolicy(e3)}static runScripts(e3){return new RunScripts(e3)}static script(e3){return new Script(e3)}static scriptModel(e3){return new ScriptModel(e3)}static severity(e3){return new Severity(e3)}static silentPrint(e3){return new SilentPrint(e3)}static staple(e3){return new Staple(e3)}static startNode(e3){return new StartNode(e3)}static startPage(e3){return new StartPage(e3)}static submitFormat(e3){return new SubmitFormat(e3)}static submitUrl(e3){return new SubmitUrl(e3)}static subsetBelow(e3){return new SubsetBelow(e3)}static suppressBanner(e3){return new SuppressBanner(e3)}static tagged(e3){return new Tagged(e3)}static template(e3){return new Template(e3)}static templateCache(e3){return new TemplateCache(e3)}static threshold(e3){return new Threshold(e3)}static to(e3){return new To(e3)}static trace(e3){return new Trace(e3)}static transform(e3){return new Transform(e3)}static type(e3){return new Type(e3)}static uri(e3){return new Uri(e3)}static validate(e3){return new Validate(e3)}static validateApprovalSignatures(e3){return new ValidateApprovalSignatures(e3)}static validationMessaging(e3){return new ValidationMessaging(e3)}static version(e3){return new Version(e3)}static versionControl(e3){return new VersionControl(e3)}static viewerPreferences(e3){return new ViewerPreferences(e3)}static webClient(e3){return new WebClient(e3)}static whitespace(e3){return new Whitespace(e3)}static window(e3){return new Window(e3)}static xdc(e3){return new Xdc(e3)}static xdp(e3){return new Xdp(e3)}static xsl(e3){return new Xsl(e3)}static zpl(e3){return new Zpl(e3)}}t2.ConfigNamespace=ConfigNamespace},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.ConnectionSetNamespace=void 0;var r=a2(79),n=a2(77);const i=r.NamespaceIds.connectionSet.id;class ConnectionSet extends n.XFAObject{constructor(e3){super(i,"connectionSet",!0),this.wsdlConnection=new n.XFAObjectArray,this.xmlConnection=new n.XFAObjectArray,this.xsdConnection=new n.XFAObjectArray}}class EffectiveInputPolicy extends n.XFAObject{constructor(e3){super(i,"effectiveInputPolicy"),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class EffectiveOutputPolicy extends n.XFAObject{constructor(e3){super(i,"effectiveOutputPolicy"),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class Operation extends n.StringObject{constructor(e3){super(i,"operation"),this.id=e3.id||"",this.input=e3.input||"",this.name=e3.name||"",this.output=e3.output||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class RootElement extends n.StringObject{constructor(e3){super(i,"rootElement"),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class SoapAction extends n.StringObject{constructor(e3){super(i,"soapAction"),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class SoapAddress extends n.StringObject{constructor(e3){super(i,"soapAddress"),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class Uri extends n.StringObject{constructor(e3){super(i,"uri"),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class WsdlAddress extends n.StringObject{constructor(e3){super(i,"wsdlAddress"),this.id=e3.id||"",this.name=e3.name||"",this.use=e3.use||"",this.usehref=e3.usehref||""}}class WsdlConnection extends n.XFAObject{constructor(e3){super(i,"wsdlConnection",!0),this.dataDescription=e3.dataDescription||"",this.name=e3.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class XmlConnection extends n.XFAObject{constructor(e3){super(i,"xmlConnection",!0),this.dataDescription=e3.dataDescription||"",this.name=e3.name||"",this.uri=null}}class XsdConnection extends n.XFAObject{constructor(e3){super(i,"xsdConnection",!0),this.dataDescription=e3.dataDescription||"",this.name=e3.name||"",this.rootElement=null,this.uri=null}}class ConnectionSetNamespace{static[r.$buildXFAObject](e3,t3){if(ConnectionSetNamespace.hasOwnProperty(e3))return ConnectionSetNamespace[e3](t3)}static connectionSet(e3){return new ConnectionSet(e3)}static effectiveInputPolicy(e3){return new EffectiveInputPolicy(e3)}static effectiveOutputPolicy(e3){return new EffectiveOutputPolicy(e3)}static operation(e3){return new Operation(e3)}static rootElement(e3){return new RootElement(e3)}static soapAction(e3){return new SoapAction(e3)}static soapAddress(e3){return new SoapAddress(e3)}static uri(e3){return new Uri(e3)}static wsdlAddress(e3){return new WsdlAddress(e3)}static wsdlConnection(e3){return new WsdlConnection(e3)}static xmlConnection(e3){return new XmlConnection(e3)}static xsdConnection(e3){return new XsdConnection(e3)}}t2.ConnectionSetNamespace=ConnectionSetNamespace},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.DatasetsNamespace=void 0;var r=a2(77),n=a2(79);const i=n.NamespaceIds.datasets.id;class Data extends r.XmlObject{constructor(e3){super(i,"data",e3)}[r.$isNsAgnostic](){return!0}}class Datasets extends r.XFAObject{constructor(e3){super(i,"datasets",!0),this.data=null,this.Signature=null}[r.$onChild](e3){const t3=e3[r.$nodeName];("data"===t3&&e3[r.$namespaceId]===i||"Signature"===t3&&e3[r.$namespaceId]===n.NamespaceIds.signature.id)&&(this[t3]=e3),this[r.$appendChild](e3)}}class DatasetsNamespace{static[n.$buildXFAObject](e3,t3){if(DatasetsNamespace.hasOwnProperty(e3))return DatasetsNamespace[e3](t3)}static datasets(e3){return new Datasets(e3)}static data(e3){return new Data(e3)}}t2.DatasetsNamespace=DatasetsNamespace},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.LocaleSetNamespace=void 0;var r=a2(79),n=a2(77),i=a2(78);const s=r.NamespaceIds.localeSet.id;class CalendarSymbols extends n.XFAObject{constructor(e3){super(s,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new n.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new n.XFAObjectArray(2)}}class CurrencySymbol extends n.StringObject{constructor(e3){super(s,"currencySymbol"),this.name=(0,i.getStringOption)(e3.name,["symbol","isoname","decimal"])}}class CurrencySymbols extends n.XFAObject{constructor(e3){super(s,"currencySymbols",!0),this.currencySymbol=new n.XFAObjectArray(3)}}class DatePattern extends n.StringObject{constructor(e3){super(s,"datePattern"),this.name=(0,i.getStringOption)(e3.name,["full","long","med","short"])}}class DatePatterns extends n.XFAObject{constructor(e3){super(s,"datePatterns",!0),this.datePattern=new n.XFAObjectArray(4)}}class DateTimeSymbols extends n.ContentObject{constructor(e3){super(s,"dateTimeSymbols")}}class Day extends n.StringObject{constructor(e3){super(s,"day")}}class DayNames extends n.XFAObject{constructor(e3){super(s,"dayNames",!0),this.abbr=(0,i.getInteger)({data:e3.abbr,defaultValue:0,validate:e4=>1===e4}),this.day=new n.XFAObjectArray(7)}}class Era extends n.StringObject{constructor(e3){super(s,"era")}}class EraNames extends n.XFAObject{constructor(e3){super(s,"eraNames",!0),this.era=new n.XFAObjectArray(2)}}class Locale extends n.XFAObject{constructor(e3){super(s,"locale",!0),this.desc=e3.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class LocaleSet extends n.XFAObject{constructor(e3){super(s,"localeSet",!0),this.locale=new n.XFAObjectArray}}class Meridiem extends n.StringObject{constructor(e3){super(s,"meridiem")}}class MeridiemNames extends n.XFAObject{constructor(e3){super(s,"meridiemNames",!0),this.meridiem=new n.XFAObjectArray(2)}}class Month extends n.StringObject{constructor(e3){super(s,"month")}}class MonthNames extends n.XFAObject{constructor(e3){super(s,"monthNames",!0),this.abbr=(0,i.getInteger)({data:e3.abbr,defaultValue:0,validate:e4=>1===e4}),this.month=new n.XFAObjectArray(12)}}class NumberPattern extends n.StringObject{constructor(e3){super(s,"numberPattern"),this.name=(0,i.getStringOption)(e3.name,["full","long","med","short"])}}class NumberPatterns extends n.XFAObject{constructor(e3){super(s,"numberPatterns",!0),this.numberPattern=new n.XFAObjectArray(4)}}class NumberSymbol extends n.StringObject{constructor(e3){super(s,"numberSymbol"),this.name=(0,i.getStringOption)(e3.name,["decimal","grouping","percent","minus","zero"])}}class NumberSymbols extends n.XFAObject{constructor(e3){super(s,"numberSymbols",!0),this.numberSymbol=new n.XFAObjectArray(5)}}class TimePattern extends n.StringObject{constructor(e3){super(s,"timePattern"),this.name=(0,i.getStringOption)(e3.name,["full","long","med","short"])}}class TimePatterns extends n.XFAObject{constructor(e3){super(s,"timePatterns",!0),this.timePattern=new n.XFAObjectArray(4)}}class TypeFace extends n.XFAObject{constructor(e3){super(s,"typeFace",!0),this.name=""|e3.name}}class TypeFaces extends n.XFAObject{constructor(e3){super(s,"typeFaces",!0),this.typeFace=new n.XFAObjectArray}}class LocaleSetNamespace{static[r.$buildXFAObject](e3,t3){if(LocaleSetNamespace.hasOwnProperty(e3))return LocaleSetNamespace[e3](t3)}static calendarSymbols(e3){return new CalendarSymbols(e3)}static currencySymbol(e3){return new CurrencySymbol(e3)}static currencySymbols(e3){return new CurrencySymbols(e3)}static datePattern(e3){return new DatePattern(e3)}static datePatterns(e3){return new DatePatterns(e3)}static dateTimeSymbols(e3){return new DateTimeSymbols(e3)}static day(e3){return new Day(e3)}static dayNames(e3){return new DayNames(e3)}static era(e3){return new Era(e3)}static eraNames(e3){return new EraNames(e3)}static locale(e3){return new Locale(e3)}static localeSet(e3){return new LocaleSet(e3)}static meridiem(e3){return new Meridiem(e3)}static meridiemNames(e3){return new MeridiemNames(e3)}static month(e3){return new Month(e3)}static monthNames(e3){return new MonthNames(e3)}static numberPattern(e3){return new NumberPattern(e3)}static numberPatterns(e3){return new NumberPatterns(e3)}static numberSymbol(e3){return new NumberSymbol(e3)}static numberSymbols(e3){return new NumberSymbols(e3)}static timePattern(e3){return new TimePattern(e3)}static timePatterns(e3){return new TimePatterns(e3)}static typeFace(e3){return new TypeFace(e3)}static typeFaces(e3){return new TypeFaces(e3)}}t2.LocaleSetNamespace=LocaleSetNamespace},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.SignatureNamespace=void 0;var r=a2(79),n=a2(77);const i=r.NamespaceIds.signature.id;class Signature extends n.XFAObject{constructor(e3){super(i,"signature",!0)}}class SignatureNamespace{static[r.$buildXFAObject](e3,t3){if(SignatureNamespace.hasOwnProperty(e3))return SignatureNamespace[e3](t3)}static signature(e3){return new Signature(e3)}}t2.SignatureNamespace=SignatureNamespace},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.StylesheetNamespace=void 0;var r=a2(79),n=a2(77);const i=r.NamespaceIds.stylesheet.id;class Stylesheet extends n.XFAObject{constructor(e3){super(i,"stylesheet",!0)}}class StylesheetNamespace{static[r.$buildXFAObject](e3,t3){if(StylesheetNamespace.hasOwnProperty(e3))return StylesheetNamespace[e3](t3)}static stylesheet(e3){return new Stylesheet(e3)}}t2.StylesheetNamespace=StylesheetNamespace},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.XdpNamespace=void 0;var r=a2(79),n=a2(77);const i=r.NamespaceIds.xdp.id;class Xdp extends n.XFAObject{constructor(e3){super(i,"xdp",!0),this.uuid=e3.uuid||"",this.timeStamp=e3.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new n.XFAObjectArray,this.template=null}[n.$onChildCheck](e3){const t3=r.NamespaceIds[e3[n.$nodeName]];return t3&&e3[n.$namespaceId]===t3.id}}class XdpNamespace{static[r.$buildXFAObject](e3,t3){if(XdpNamespace.hasOwnProperty(e3))return XdpNamespace[e3](t3)}static xdp(e3){return new Xdp(e3)}}t2.XdpNamespace=XdpNamespace},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.XhtmlNamespace=void 0;var r=a2(77),n=a2(79),i=a2(84),s=a2(78);const o=n.NamespaceIds.xhtml.id,c=Symbol(),l=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),h=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",e3=>"none"===e3?"none":"normal"],["xfa-font-horizontal-scale",e3=>`scaleX(${Math.max(0,Math.min(parseInt(e3)/100)).toFixed(2)})`],["xfa-font-vertical-scale",e3=>`scaleY(${Math.max(0,Math.min(parseInt(e3)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(e3,t3)=>(e3=t3.fontSize=(0,s.getMeasurement)(e3),(0,i.measureToString)(.99*e3))],["letter-spacing",e3=>(0,i.measureToString)((0,s.getMeasurement)(e3))],["line-height",e3=>(0,i.measureToString)((0,s.getMeasurement)(e3))],["margin",e3=>(0,i.measureToString)((0,s.getMeasurement)(e3))],["margin-bottom",e3=>(0,i.measureToString)((0,s.getMeasurement)(e3))],["margin-left",e3=>(0,i.measureToString)((0,s.getMeasurement)(e3))],["margin-right",e3=>(0,i.measureToString)((0,s.getMeasurement)(e3))],["margin-top",e3=>(0,i.measureToString)((0,s.getMeasurement)(e3))],["text-indent",e3=>(0,i.measureToString)((0,s.getMeasurement)(e3))],["font-family",e3=>e3],["vertical-align",e3=>(0,i.measureToString)((0,s.getMeasurement)(e3))]]),u=/\s+/g,d=/[\r\n]+/g,f=/\r\n?/g;function mapStyle(e3,t3,a3){const n2=Object.create(null);if(!e3)return n2;const o2=Object.create(null);for(const[t4,a4]of e3.split(";").map(e4=>e4.split(":",2))){const e4=h.get(t4);if(""===e4)continue;let r2=a4;e4&&(r2="string"==typeof e4?e4:e4(a4,o2)),t4.endsWith("scale")?n2.transform=n2.transform?`${n2[t4]} ${r2}`:r2:n2[t4.replaceAll(/-([a-zA-Z])/g,(e5,t5)=>t5.toUpperCase())]=r2}if(n2.fontFamily&&(0,i.setFontFamily)({typeface:n2.fontFamily,weight:n2.fontWeight||"normal",posture:n2.fontStyle||"normal",size:o2.fontSize||0},t3,t3[r.$globalData].fontFinder,n2),a3&&n2.verticalAlign&&"0px"!==n2.verticalAlign&&n2.fontSize){const a4=(0,s.getMeasurement)(n2.fontSize);n2.fontSize=(0,i.measureToString)(.583*a4),n2.verticalAlign=(0,i.measureToString)(Math.sign((0,s.getMeasurement)(n2.verticalAlign))*a4*.333)}return a3&&n2.fontSize&&(n2.fontSize=`calc(${n2.fontSize} * var(--scale-factor))`),(0,i.fixTextIndent)(n2),n2}const g=new Set(["body","html"]);class XhtmlObject extends r.XmlObject{constructor(e3,t3){super(o,t3),this[c]=!1,this.style=e3.style||""}[r.$clean](e3){var e4;super[r.$clean](e3),this.style=(e4=this).style?e4.style.trim().split(/\s*;\s*/).filter(e5=>!!e5).map(e5=>e5.split(/\s*:\s*/,2)).filter(([t3,a3])=>("font-family"===t3&&e4[r.$globalData].usedTypefaces.add(a3),l.has(t3))).map(e5=>e5.join(":")).join(";"):""}[r.$acceptWhitespace](){return!g.has(this[r.$nodeName])}[r.$onText](e3,t3=!1){t3?this[c]=!0:(e3=e3.replace(d,""),this.style.includes("xfa-spacerun:yes")||(e3=e3.replace(u," "))),e3&&(this[r.$content]+=e3)}[r.$pushGlyphs](e3,t3=!0){const a3=Object.create(null),n2={top:NaN,bottom:NaN,left:NaN,right:NaN};let i2=null;for(const[e4,t4]of this.style.split(";").map(e5=>e5.split(":",2)))switch(e4){case"font-family":a3.typeface=(0,s.stripQuotes)(t4);break;case"font-size":a3.size=(0,s.getMeasurement)(t4);break;case"font-weight":a3.weight=t4;break;case"font-style":a3.posture=t4;break;case"letter-spacing":a3.letterSpacing=(0,s.getMeasurement)(t4);break;case"margin":const e5=t4.split(/ \t/).map(e6=>(0,s.getMeasurement)(e6));switch(e5.length){case 1:n2.top=n2.bottom=n2.left=n2.right=e5[0];break;case 2:n2.top=n2.bottom=e5[0],n2.left=n2.right=e5[1];break;case 3:n2.top=e5[0],n2.bottom=e5[2],n2.left=n2.right=e5[1];break;case 4:n2.top=e5[0],n2.left=e5[1],n2.bottom=e5[2],n2.right=e5[3]}break;case"margin-top":n2.top=(0,s.getMeasurement)(t4);break;case"margin-bottom":n2.bottom=(0,s.getMeasurement)(t4);break;case"margin-left":n2.left=(0,s.getMeasurement)(t4);break;case"margin-right":n2.right=(0,s.getMeasurement)(t4);break;case"line-height":i2=(0,s.getMeasurement)(t4)}if(e3.pushData(a3,n2,i2),this[r.$content])e3.addString(this[r.$content]);else for(const t4 of this[r.$getChildren]())"#text"!==t4[r.$nodeName]?t4[r.$pushGlyphs](e3):e3.addString(t4[r.$content]);t3&&e3.popFont()}[r.$toHTML](e3){const t3=[];if(this[r.$extra]={children:t3},this[r.$childrenToHTML]({}),0===t3.length&&!this[r.$content])return s.HTMLResult.EMPTY;let a3;return a3=this[c]?this[r.$content]?this[r.$content].replace(f,"\n"):void 0:this[r.$content]||void 0,s.HTMLResult.success({name:this[r.$nodeName],attributes:{href:this.href,style:mapStyle(this.style,this,this[c])},children:t3,value:a3})}}class A extends XhtmlObject{constructor(e3){super(e3,"a"),this.href=(0,i.fixURL)(e3.href)||""}}class B extends XhtmlObject{constructor(e3){super(e3,"b")}[r.$pushGlyphs](e3){e3.pushFont({weight:"bold"}),super[r.$pushGlyphs](e3),e3.popFont()}}class Body extends XhtmlObject{constructor(e3){super(e3,"body")}[r.$toHTML](e3){const t3=super[r.$toHTML](e3),{html:a3}=t3;return a3?(a3.name="div",a3.attributes.class=["xfaRich"],t3):s.HTMLResult.EMPTY}}class Br extends XhtmlObject{constructor(e3){super(e3,"br")}[r.$text](){return"\n"}[r.$pushGlyphs](e3){e3.addString("\n")}[r.$toHTML](e3){return s.HTMLResult.success({name:"br"})}}class Html extends XhtmlObject{constructor(e3){super(e3,"html")}[r.$toHTML](e3){const t3=[];if(this[r.$extra]={children:t3},this[r.$childrenToHTML]({}),0===t3.length)return s.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[r.$content]||""});if(1===t3.length){const e4=t3[0];if(e4.attributes&&e4.attributes.class.includes("xfaRich"))return s.HTMLResult.success(e4)}return s.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:t3})}}class I extends XhtmlObject{constructor(e3){super(e3,"i")}[r.$pushGlyphs](e3){e3.pushFont({posture:"italic"}),super[r.$pushGlyphs](e3),e3.popFont()}}class Li extends XhtmlObject{constructor(e3){super(e3,"li")}}class Ol extends XhtmlObject{constructor(e3){super(e3,"ol")}}class P extends XhtmlObject{constructor(e3){super(e3,"p")}[r.$pushGlyphs](e3){super[r.$pushGlyphs](e3,!1),e3.addString("\n"),e3.addPara(),e3.popFont()}[r.$text](){return this[r.$getParent]()[r.$getChildren]().at(-1)===this?super[r.$text]():super[r.$text]()+"\n"}}class Span extends XhtmlObject{constructor(e3){super(e3,"span")}}class Sub extends XhtmlObject{constructor(e3){super(e3,"sub")}}class Sup extends XhtmlObject{constructor(e3){super(e3,"sup")}}class Ul extends XhtmlObject{constructor(e3){super(e3,"ul")}}class XhtmlNamespace{static[n.$buildXFAObject](e3,t3){if(XhtmlNamespace.hasOwnProperty(e3))return XhtmlNamespace[e3](t3)}static a(e3){return new A(e3)}static b(e3){return new B(e3)}static body(e3){return new Body(e3)}static br(e3){return new Br(e3)}static html(e3){return new Html(e3)}static i(e3){return new I(e3)}static li(e3){return new Li(e3)}static ol(e3){return new Ol(e3)}static p(e3){return new P(e3)}static span(e3){return new Span(e3)}static sub(e3){return new Sub(e3)}static sup(e3){return new Sup(e3)}static ul(e3){return new Ul(e3)}}t2.XhtmlNamespace=XhtmlNamespace},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.UnknownNamespace=void 0;var r=a2(79),n=a2(77);t2.UnknownNamespace=class UnknownNamespace{constructor(e3){this.namespaceId=e3}[r.$buildXFAObject](e3,t3){return new n.XmlObject(this.namespaceId,e3,t3)}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.DatasetReader=void 0;var r=a2(2),n=a2(6),i=a2(66);function decodeString(e3){try{return(0,r.stringToUTF8String)(e3)}catch(t3){return(0,r.warn)(`UTF-8 decoding failed: "${t3}".`),e3}}class DatasetXMLParser extends i.SimpleXMLParser{constructor(e3){super(e3),this.node=null}onEndElement(e3){const t3=super.onEndElement(e3);if(t3&&"xfa:datasets"===e3)throw this.node=t3,new Error("Aborting DatasetXMLParser.")}}t2.DatasetReader=class{constructor(e3){if(e3.datasets)this.node=new i.SimpleXMLParser({hasAttributes:!0}).parseFromString(e3.datasets).documentElement;else{const t3=new DatasetXMLParser({hasAttributes:!0});try{t3.parseFromString(e3["xdp:xdp"])}catch{}this.node=t3.node}}getValue(e3){if(!this.node||!e3)return"";const t3=this.node.searchNode((0,n.parseXFAPath)(e3),0);if(!t3)return"";const a3=t3.firstChild;return a3&&"value"===a3.nodeName?t3.children.map(e4=>decodeString(e4.textContent)):decodeString(t3.textContent)}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.XRef=void 0;var r=a2(2),n=a2(5),i=a2(6),s=a2(17),o=a2(7),c=a2(67);t2.XRef=class{constructor(e3,t3){this.stream=e3,this.pdfManager=t3,this.entries=[],this.xrefstms=Object.create(null),this._cacheMap=new Map,this._pendingRefs=new n.RefSet,this.stats=new i.DocStats(t3.msgHandler),this._newRefNum=null}getNewRef(){return null===this._newRefNum&&(this._newRefNum=this.entries.length||1),n.Ref.get(this._newRefNum++,0)}resetNewRef(){this._newRefNum=null}setStartXRef(e3){this.startXRefQueue=[e3]}parse(e3=!1){let t3,a3,s2;e3?((0,r.warn)("Indexing all PDF objects"),t3=this.indexObjects()):t3=this.readXRef(),t3.assignXref(this),this.trailer=t3;try{a3=t3.get("Encrypt")}catch(e4){if(e4 instanceof i.MissingDataException)throw e4;(0,r.warn)(`XRef.parse - Invalid "Encrypt" reference: "${e4}".`)}if(a3 instanceof n.Dict){const e4=t3.get("ID"),r2=e4&&e4.length?e4[0]:"";a3.suppressEncryption=!0,this.encrypt=new c.CipherTransformFactory(a3,r2,this.pdfManager.password)}try{s2=t3.get("Root")}catch(e4){if(e4 instanceof i.MissingDataException)throw e4;(0,r.warn)(`XRef.parse - Invalid "Root" reference: "${e4}".`)}if(s2 instanceof n.Dict)try{if(s2.get("Pages")instanceof n.Dict)return void(this.root=s2)}catch(e4){if(e4 instanceof i.MissingDataException)throw e4;(0,r.warn)(`XRef.parse - Invalid "Pages" reference: "${e4}".`)}throw e3?new r.InvalidPDFException("Invalid Root reference."):new i.XRefParseException}processXRefTable(e3){"tableState"in this||(this.tableState={entryNum:0,streamPos:e3.lexer.stream.pos,parserBuf1:e3.buf1,parserBuf2:e3.buf2});const t3=this.readXRefTable(e3);if(!(0,n.isCmd)(t3,"trailer"))throw new r.FormatError("Invalid XRef table: could not find trailer dictionary");let a3=e3.getObj();if(a3 instanceof n.Dict||!a3.dict||(a3=a3.dict),!(a3 instanceof n.Dict))throw new r.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,a3}readXRefTable(e3){const t3=e3.lexer.stream,a3=this.tableState;let i2;for(t3.pos=a3.streamPos,e3.buf1=a3.parserBuf1,e3.buf2=a3.parserBuf2;;){if(!("firstEntryNum"in a3)||!("entryCount"in a3)){if((0,n.isCmd)(i2=e3.getObj(),"trailer"))break;a3.firstEntryNum=i2,a3.entryCount=e3.getObj()}let s2=a3.firstEntryNum;const o2=a3.entryCount;if(!Number.isInteger(s2)||!Number.isInteger(o2))throw new r.FormatError("Invalid XRef table: wrong types in subsection header");for(let i3=a3.entryNum;i3<o2;i3++){a3.streamPos=t3.pos,a3.entryNum=i3,a3.parserBuf1=e3.buf1,a3.parserBuf2=e3.buf2;const c2={};c2.offset=e3.getObj(),c2.gen=e3.getObj();const l=e3.getObj();if(l instanceof n.Cmd)switch(l.cmd){case"f":c2.free=!0;break;case"n":c2.uncompressed=!0}if(!Number.isInteger(c2.offset)||!Number.isInteger(c2.gen)||!c2.free&&!c2.uncompressed)throw new r.FormatError(`Invalid entry in XRef subsection: ${s2}, ${o2}`);0===i3&&c2.free&&1===s2&&(s2=0),this.entries[i3+s2]||(this.entries[i3+s2]=c2)}a3.entryNum=0,a3.streamPos=t3.pos,a3.parserBuf1=e3.buf1,a3.parserBuf2=e3.buf2,delete a3.firstEntryNum,delete a3.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new r.FormatError("Invalid XRef table: unexpected first object");return i2}processXRefStream(e3){if(!("streamState"in this)){const t3=e3.dict,a3=t3.get("W");let r2=t3.get("Index");r2||(r2=[0,t3.get("Size")]),this.streamState={entryRanges:r2,byteWidths:a3,entryNum:0,streamPos:e3.pos}}return this.readXRefStream(e3),delete this.streamState,e3.dict}readXRefStream(e3){const t3=this.streamState;e3.pos=t3.streamPos;const[a3,n2,i2]=t3.byteWidths,s2=t3.entryRanges;for(;s2.length>0;){const[o2,c2]=s2;if(!Number.isInteger(o2)||!Number.isInteger(c2))throw new r.FormatError(`Invalid XRef range fields: ${o2}, ${c2}`);if(!Number.isInteger(a3)||!Number.isInteger(n2)||!Number.isInteger(i2))throw new r.FormatError(`Invalid XRef entry fields length: ${o2}, ${c2}`);for(let s3=t3.entryNum;s3<c2;++s3){t3.entryNum=s3,t3.streamPos=e3.pos;let c3=0,l=0,h=0;for(let t4=0;t4<a3;++t4){const t5=e3.getByte();if(-1===t5)throw new r.FormatError("Invalid XRef byteWidths 'type'.");c3=c3<<8|t5}0===a3&&(c3=1);for(let t4=0;t4<n2;++t4){const t5=e3.getByte();if(-1===t5)throw new r.FormatError("Invalid XRef byteWidths 'offset'.");l=l<<8|t5}for(let t4=0;t4<i2;++t4){const t5=e3.getByte();if(-1===t5)throw new r.FormatError("Invalid XRef byteWidths 'generation'.");h=h<<8|t5}const u={};switch(u.offset=l,u.gen=h,c3){case 0:u.free=!0;break;case 1:u.uncompressed=!0;break;case 2:break;default:throw new r.FormatError(`Invalid XRef entry type: ${c3}`)}this.entries[o2+s3]||(this.entries[o2+s3]=u)}t3.entryNum=0,t3.streamPos=e3.pos,s2.splice(0,2)}}indexObjects(){function readToken(e4,t4){let a4="",r2=e4[t4];for(;10!==r2&&13!==r2&&60!==r2&&!(++t4>=e4.length);)a4+=String.fromCharCode(r2),r2=e4[t4];return a4}function skipUntil(e4,t4,a4){const r2=a4.length,n2=e4.length;let i2=0;for(;t4<n2;){let n3=0;for(;n3<r2&&e4[t4+n3]===a4[n3];)++n3;if(n3>=r2)break;t4++,i2++}return i2}const e3=/^(\d+)\s+(\d+)\s+obj\b/,t3=/\bendobj[\b\s]$/,a3=/\s+(\d+\s+\d+\s+obj[\b\s<])$/,o2=new Uint8Array([116,114,97,105,108,101,114]),c2=new Uint8Array([115,116,97,114,116,120,114,101,102]),l=new Uint8Array([111,98,106]),h=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const u=this.stream;u.pos=0;const d=u.getBytes(),f=d.length;let g=u.start;const p=[],m=[];for(;g<f;){let n2=d[g];if(9===n2||10===n2||13===n2||32===n2){++g;continue}if(37===n2){do{if(++g,g>=f)break;n2=d[g]}while(10!==n2&&13!==n2);continue}const b2=readToken(d,g);let y;if(b2.startsWith("xref")&&(4===b2.length||/\s/.test(b2[4])))g+=skipUntil(d,g,o2),p.push(g),g+=skipUntil(d,g,c2);else if(y=e3.exec(b2)){const e4=0|y[1],n3=0|y[2];let o3,c3=g+b2.length,f2=!1;if(this.entries[e4]){if(this.entries[e4].gen===n3)try{new s.Parser({lexer:new s.Lexer(u.makeSubStream(c3))}).getObj(),f2=!0}catch(e5){e5 instanceof i.ParserEOFException?(0,r.warn)(`indexObjects -- checking object (${b2}): "${e5}".`):f2=!0}}else f2=!0;for(f2&&(this.entries[e4]={offset:g-u.start,gen:n3,uncompressed:!0});c3<d.length;){const e5=c3+skipUntil(d,c3,l)+4;o3=e5-g;const n4=Math.max(e5-25,c3),i2=(0,r.bytesToString)(d.subarray(n4,e5));if(t3.test(i2))break;{const e6=a3.exec(i2);if(e6&&e6[1]){(0,r.warn)('indexObjects: Found new "obj" inside of another "obj", caused by missing "endobj" -- trying to recover.'),o3-=e6[1].length;break}}c3=e5}const p2=d.subarray(g,g+o3),w=skipUntil(p2,0,h);w<o3&&p2[w+5]<64&&(m.push(g-u.start),this.xrefstms[g-u.start]=1),g+=o3}else b2.startsWith("trailer")&&(7===b2.length||/\s/.test(b2[7]))?(p.push(g),g+=skipUntil(d,g,c2)):g+=b2.length+1}for(let e4=0,t4=m.length;e4<t4;++e4)this.startXRefQueue.push(m[e4]),this.readXRef(!0);let b;for(let e4=0,t4=p.length;e4<t4;++e4){u.pos=p[e4];const t5=new s.Parser({lexer:new s.Lexer(u),xref:this,allowStreams:!0,recoveryMode:!0}),a4=t5.getObj();if(!(0,n.isCmd)(a4,"trailer"))continue;const r2=t5.getObj();if(r2 instanceof n.Dict){try{const e5=r2.get("Root");if(!(e5 instanceof n.Dict))continue;const t6=e5.get("Pages");if(!(t6 instanceof n.Dict))continue;const a5=t6.get("Count");if(!Number.isInteger(a5))continue}catch{continue}if(r2.has("ID"))return r2;b=r2}}if(b)return b;if(this.topDict)return this.topDict;throw new r.InvalidPDFException("Invalid PDF structure.")}readXRef(e3=!1){const t3=this.stream,a3=new Set;try{for(;this.startXRefQueue.length;){const e4=this.startXRefQueue[0];if(a3.has(e4)){(0,r.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}a3.add(e4),t3.pos=e4+t3.start;const i2=new s.Parser({lexer:new s.Lexer(t3),xref:this,allowStreams:!0});let c2,l=i2.getObj();if((0,n.isCmd)(l,"xref")){if(c2=this.processXRefTable(i2),this.topDict||(this.topDict=c2),l=c2.get("XRefStm"),Number.isInteger(l)){const e5=l;e5 in this.xrefstms||(this.xrefstms[e5]=1,this.startXRefQueue.push(e5))}}else{if(!Number.isInteger(l))throw new r.FormatError("Invalid XRef stream header");if(!(Number.isInteger(i2.getObj())&&(0,n.isCmd)(i2.getObj(),"obj")&&(l=i2.getObj())instanceof o.BaseStream))throw new r.FormatError("Invalid XRef stream");if(c2=this.processXRefStream(l),this.topDict||(this.topDict=c2),!c2)throw new r.FormatError("Failed to read XRef stream")}l=c2.get("Prev"),Number.isInteger(l)?this.startXRefQueue.push(l):l instanceof n.Ref&&this.startXRefQueue.push(l.num),this.startXRefQueue.shift()}return this.topDict}catch(e4){if(e4 instanceof i.MissingDataException)throw e4;(0,r.info)("(while reading XRef): "+e4),this.startXRefQueue.shift()}if(!e3)throw new i.XRefParseException}getEntry(e3){const t3=this.entries[e3];return t3&&!t3.free&&t3.offset?t3:null}fetchIfRef(e3,t3=!1){return e3 instanceof n.Ref?this.fetch(e3,t3):e3}fetch(e3,t3=!1){if(!(e3 instanceof n.Ref))throw new Error("ref object is not a reference");const a3=e3.num,i2=this._cacheMap.get(a3);if(void 0!==i2)return i2 instanceof n.Dict&&!i2.objId&&(i2.objId=e3.toString()),i2;let s2=this.getEntry(a3);if(null===s2)return this._cacheMap.set(a3,s2),s2;if(this._pendingRefs.has(e3))return this._pendingRefs.remove(e3),(0,r.warn)(`Ignoring circular reference: ${e3}.`),n.CIRCULAR_REF;this._pendingRefs.put(e3);try{s2=s2.uncompressed?this.fetchUncompressed(e3,s2,t3):this.fetchCompressed(e3,s2,t3),this._pendingRefs.remove(e3)}catch(t4){throw this._pendingRefs.remove(e3),t4}return s2 instanceof n.Dict?s2.objId=e3.toString():s2 instanceof o.BaseStream&&(s2.dict.objId=e3.toString()),s2}fetchUncompressed(e3,t3,a3=!1){const r2=e3.gen;let c2=e3.num;if(t3.gen!==r2)throw new i.XRefEntryException(`Inconsistent generation in XRef: ${e3}`);const l=this.stream.makeSubStream(t3.offset+this.stream.start),h=new s.Parser({lexer:new s.Lexer(l),xref:this,allowStreams:!0}),u=h.getObj(),d=h.getObj(),f=h.getObj();if(u!==c2||d!==r2||!(f instanceof n.Cmd))throw new i.XRefEntryException(`Bad (uncompressed) XRef entry: ${e3}`);if("obj"!==f.cmd){if(f.cmd.startsWith("obj")&&(c2=parseInt(f.cmd.substring(3),10),!Number.isNaN(c2)))return c2;throw new i.XRefEntryException(`Bad (uncompressed) XRef entry: ${e3}`)}return(t3=this.encrypt&&!a3?h.getObj(this.encrypt.createCipherTransform(c2,r2)):h.getObj())instanceof o.BaseStream||this._cacheMap.set(c2,t3),t3}fetchCompressed(e3,t3,a3=!1){const c2=t3.offset,l=this.fetch(n.Ref.get(c2,0));if(!(l instanceof o.BaseStream))throw new r.FormatError("bad ObjStm stream");const h=l.dict.get("First"),u=l.dict.get("N");if(!Number.isInteger(h)||!Number.isInteger(u))throw new r.FormatError("invalid first and n parameters for ObjStm stream");let d=new s.Parser({lexer:new s.Lexer(l),xref:this,allowStreams:!0});const f=new Array(u),g=new Array(u);for(let e4=0;e4<u;++e4){const t4=d.getObj();if(!Number.isInteger(t4))throw new r.FormatError(`invalid object number in the ObjStm stream: ${t4}`);const a4=d.getObj();if(!Number.isInteger(a4))throw new r.FormatError(`invalid object offset in the ObjStm stream: ${a4}`);f[e4]=t4,g[e4]=a4}const p=(l.start||0)+h,m=new Array(u);for(let e4=0;e4<u;++e4){const t4=e4<u-1?g[e4+1]-g[e4]:void 0;if(t4<0)throw new r.FormatError("Invalid offset in the ObjStm stream.");d=new s.Parser({lexer:new s.Lexer(l.makeSubStream(p+g[e4],t4,l.dict)),xref:this,allowStreams:!0});const a4=d.getObj();if(m[e4]=a4,a4 instanceof o.BaseStream)continue;const n2=f[e4],i2=this.entries[n2];i2&&i2.offset===c2&&i2.gen===e4&&this._cacheMap.set(n2,a4)}if(void 0===(t3=m[t3.gen]))throw new i.XRefEntryException(`Bad (compressed) XRef entry: ${e3}`);return t3}fetchIfRefAsync(e3,t3){var _this45=this;return _asyncToGenerator2(function*(){return e3 instanceof n.Ref?_this45.fetchAsync(e3,t3):e3})()}fetchAsync(e3,t3){var _this46=this;return _asyncToGenerator2(function*(){try{return _this46.fetch(e3,t3)}catch(a3){if(!(a3 instanceof i.MissingDataException))throw a3;return yield _this46.pdfManager.requestRange(a3.begin,a3.end),_this46.fetchAsync(e3,t3)}})()}getCatalogObj(){return this.root}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.MessageHandler=void 0;var r=a2(2);function wrapReason(e3){switch(e3 instanceof Error||"object"==typeof e3&&null!==e3||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e3.name){case"AbortException":return new r.AbortException(e3.message);case"MissingPDFException":return new r.MissingPDFException(e3.message);case"PasswordException":return new r.PasswordException(e3.message,e3.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(e3.message,e3.status);case"UnknownErrorException":return new r.UnknownErrorException(e3.message,e3.details);default:return new r.UnknownErrorException(e3.message,e3.toString())}}t2.MessageHandler=class{constructor(e3,t3,a3){this.sourceName=e3,this.targetName=t3,this.comObj=a3,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e4=>{const t4=e4.data;if(t4.targetName!==this.sourceName)return;if(t4.stream)return void this._processStreamMessage(t4);if(t4.callback){const e5=t4.callbackId,a4=this.callbackCapabilities[e5];if(!a4)throw new Error(`Cannot resolve callback ${e5}`);if(delete this.callbackCapabilities[e5],1===t4.callback)a4.resolve(t4.data);else{if(2!==t4.callback)throw new Error("Unexpected callback case");a4.reject(wrapReason(t4.reason))}return}const r2=this.actionHandler[t4.action];if(!r2)throw new Error(`Unknown action from worker: ${t4.action}`);if(t4.callbackId){const e5=this.sourceName,s2=t4.sourceName;new Promise(function(e6){e6(r2(t4.data))}).then(function(r3){a3.postMessage({sourceName:e5,targetName:s2,callback:1,callbackId:t4.callbackId,data:r3})},function(r3){a3.postMessage({sourceName:e5,targetName:s2,callback:2,callbackId:t4.callbackId,reason:wrapReason(r3)})})}else t4.streamId?this._createStreamSink(t4):r2(t4.data)},a3.addEventListener("message",this._onComObjOnMessage)}on(e3,t3){const a3=this.actionHandler;if(a3[e3])throw new Error(`There is already an actionName called "${e3}"`);a3[e3]=t3}send(e3,t3,a3){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e3,data:t3},a3)}sendWithPromise(e3,t3,a3){const n2=this.callbackId++,i2=(0,r.createPromiseCapability)();this.callbackCapabilities[n2]=i2;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e3,callbackId:n2,data:t3},a3)}catch(e4){i2.reject(e4)}return i2.promise}sendWithStream(e3,t3,a3,n2){const i2=this.streamId++,o2=this.sourceName,c2=this.targetName,l2=this.comObj;return new ReadableStream({start:a4=>{const s2=(0,r.createPromiseCapability)();return this.streamControllers[i2]={controller:a4,startCall:s2,pullCall:null,cancelCall:null,isClosed:!1},l2.postMessage({sourceName:o2,targetName:c2,action:e3,streamId:i2,data:t3,desiredSize:a4.desiredSize},n2),s2.promise},pull:e4=>{const t4=(0,r.createPromiseCapability)();return this.streamControllers[i2].pullCall=t4,l2.postMessage({sourceName:o2,targetName:c2,stream:6,streamId:i2,desiredSize:e4.desiredSize}),t4.promise},cancel:e4=>{(0,r.assert)(e4 instanceof Error,"cancel must have a valid reason");const t4=(0,r.createPromiseCapability)();return this.streamControllers[i2].cancelCall=t4,this.streamControllers[i2].isClosed=!0,l2.postMessage({sourceName:o2,targetName:c2,stream:1,streamId:i2,reason:wrapReason(e4)}),t4.promise}},a3)}_createStreamSink(e3){const t3=e3.streamId,a3=this.sourceName,n2=e3.sourceName,i2=this.comObj,s2=this,o2=this.actionHandler[e3.action],u2={enqueue(e4,s3=1,o3){if(this.isCancelled)return;const c2=this.desiredSize;this.desiredSize-=s3,c2>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),i2.postMessage({sourceName:a3,targetName:n2,stream:4,streamId:t3,chunk:e4},o3)},close(){this.isCancelled||(this.isCancelled=!0,i2.postMessage({sourceName:a3,targetName:n2,stream:3,streamId:t3}),delete s2.streamSinks[t3])},error(e4){(0,r.assert)(e4 instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i2.postMessage({sourceName:a3,targetName:n2,stream:5,streamId:t3,reason:wrapReason(e4)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e3.desiredSize,ready:null};u2.sinkCapability.resolve(),u2.ready=u2.sinkCapability.promise,this.streamSinks[t3]=u2,new Promise(function(t4){t4(o2(e3.data,u2))}).then(function(){i2.postMessage({sourceName:a3,targetName:n2,stream:8,streamId:t3,success:!0})},function(e4){i2.postMessage({sourceName:a3,targetName:n2,stream:8,streamId:t3,reason:wrapReason(e4)})})}_processStreamMessage(e3){const t3=e3.streamId,a3=this.sourceName,n2=e3.sourceName,i2=this.comObj,g=this.streamControllers[t3],p=this.streamSinks[t3];switch(e3.stream){case 8:e3.success?g.startCall.resolve():g.startCall.reject(wrapReason(e3.reason));break;case 7:e3.success?g.pullCall.resolve():g.pullCall.reject(wrapReason(e3.reason));break;case 6:if(!p){i2.postMessage({sourceName:a3,targetName:n2,stream:7,streamId:t3,success:!0});break}p.desiredSize<=0&&e3.desiredSize>0&&p.sinkCapability.resolve(),p.desiredSize=e3.desiredSize,new Promise(function(e4){e4(p.onPull&&p.onPull())}).then(function(){i2.postMessage({sourceName:a3,targetName:n2,stream:7,streamId:t3,success:!0})},function(e4){i2.postMessage({sourceName:a3,targetName:n2,stream:7,streamId:t3,reason:wrapReason(e4)})});break;case 4:if((0,r.assert)(g,"enqueue should have stream controller"),g.isClosed)break;g.controller.enqueue(e3.chunk);break;case 3:if((0,r.assert)(g,"close should have stream controller"),g.isClosed)break;g.isClosed=!0,g.controller.close(),this._deleteStreamController(g,t3);break;case 5:(0,r.assert)(g,"error should have stream controller"),g.controller.error(wrapReason(e3.reason)),this._deleteStreamController(g,t3);break;case 2:e3.success?g.cancelCall.resolve():g.cancelCall.reject(wrapReason(e3.reason)),this._deleteStreamController(g,t3);break;case 1:if(!p)break;new Promise(function(t4){t4(p.onCancel&&p.onCancel(wrapReason(e3.reason)))}).then(function(){i2.postMessage({sourceName:a3,targetName:n2,stream:2,streamId:t3,success:!0})},function(e4){i2.postMessage({sourceName:a3,targetName:n2,stream:2,streamId:t3,reason:wrapReason(e4)})}),p.sinkCapability.reject(wrapReason(e3.reason)),p.isCancelled=!0,delete this.streamSinks[t3];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(e3,t3){var _this47=this;return _asyncToGenerator2(function*(){yield Promise.allSettled([e3.startCall&&e3.startCall.promise,e3.pullCall&&e3.pullCall.promise,e3.cancelCall&&e3.cancelCall.promise]),delete _this47.streamControllers[t3]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(e2,t2,a2)=>{Object.defineProperty(t2,"__esModule",{value:!0}),t2.PDFWorkerStream=void 0;var r=a2(2);t2.PDFWorkerStream=class{constructor(e3){this._msgHandler=e3,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new PDFWorkerStreamReader(this._msgHandler),this._fullRequestReader}getRangeReader(e3,t3){const a3=new PDFWorkerStreamRangeReader(e3,t3,this._msgHandler);return this._rangeRequestReaders.push(a3),a3}cancelAllRequests(e3){this._fullRequestReader&&this._fullRequestReader.cancel(e3);for(const t3 of this._rangeRequestReaders.slice(0))t3.cancel(e3)}};class PDFWorkerStreamReader{constructor(e3){this._msgHandler=e3,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const t3=this._msgHandler.sendWithStream("GetReader");this._reader=t3.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(e4=>{this._isStreamingSupported=e4.isStreamingSupported,this._isRangeSupported=e4.isRangeSupported,this._contentLength=e4.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}read(){var _this48=this;return _asyncToGenerator2(function*(){const{value:e3,done:t3}=yield _this48._reader.read();return t3?{value:void 0,done:!0}:{value:e3.buffer,done:!1}})()}cancel(e3){this._reader.cancel(e3)}}class PDFWorkerStreamRangeReader{constructor(e3,t3,a3){this._msgHandler=a3,this.onProgress=null;const r2=this._msgHandler.sendWithStream("GetRangeReader",{begin:e3,end:t3});this._reader=r2.getReader()}get isStreamingSupported(){return!1}read(){var _this49=this;return _asyncToGenerator2(function*(){const{value:e3,done:t3}=yield _this49._reader.read();return t3?{value:void 0,done:!0}:{value:e3.buffer,done:!1}})()}cancel(e3){this._reader.cancel(e3)}}}],t={};function __w_pdfjs_require__2(a2){var r=t[a2];if(void 0!==r)return r.exports;var n=t[a2]={exports:{}};return e[a2](n,n.exports,__w_pdfjs_require__2),n.exports}__w_pdfjs_require__2.d=(e2,t2)=>{for(var a2 in t2)__w_pdfjs_require__2.o(t2,a2)&&!__w_pdfjs_require__2.o(e2,a2)&&Object.defineProperty(e2,a2,{enumerable:!0,get:t2[a2]})},__w_pdfjs_require__2.o=(e2,t2)=>Object.prototype.hasOwnProperty.call(e2,t2),__w_pdfjs_require__2.r=e2=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e2,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e2,"__esModule",{value:!0})};var a={};return(()=>{var e2=a;Object.defineProperty(e2,"__esModule",{value:!0}),Object.defineProperty(e2,"WorkerMessageHandler",{enumerable:!0,get:function(){return t2.WorkerMessageHandler}});var t2=__w_pdfjs_require__2(1)})(),a})()}};