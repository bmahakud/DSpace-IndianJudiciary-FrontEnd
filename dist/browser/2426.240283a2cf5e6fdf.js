(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[2426],{45706:(F,b,n)=>{"use strict";n.r(b),n.d(b,{MetadataImportPageComponent:()=>d});var s=n(89417),o=n(41780),c=n(32736),e=n(80183),f=n(1504),O=n(73666),M=n(82777),v=n(39806),g=n(2448),a=n(54438),I=n(60177),t=n(7901);let d=(()=>{class P{constructor(E,h,p,C,T){this.location=E,this.translate=h,this.notificationsService=p,this.scriptDataService=C,this.router=T,this.validateOnly=!0}setFile(E){this.fileObject=E}onReturn(){this.location.back()}importMetadata(){if(null==this.fileObject)this.notificationsService.error(this.translate.get("admin.metadata-import.page.error.addFile"));else{const E=[Object.assign(new O.p,{name:"-f",value:this.fileObject.name})];this.validateOnly&&E.push(Object.assign(new O.p,{name:"-v",value:!0})),this.scriptDataService.invoke(c.METADATA_IMPORT_SCRIPT_NAME,E,[this.fileObject]).pipe((0,e.qD)()).subscribe(h=>{if(h.hasSucceeded){const p=this.translate.get("process.new.notification.success.title"),C=this.translate.get("process.new.notification.success.content");this.notificationsService.success(p,C),(0,M.hj)(h.payload)&&this.router.navigateByUrl((0,f.yJ)(h.payload.processId))}else{const p=this.translate.get("process.new.notification.error.title"),C=this.translate.get("process.new.notification.error.content");this.notificationsService.error(p,C)}})}}static{this.\u0275fac=function(h){return new(h||P)(a.rXU(I.aZ),a.rXU(o.c$),a.rXU(v.I),a.rXU(c.ScriptDataService),a.rXU(t.Ix))}}static{this.\u0275cmp=a.VBU({type:P,selectors:[["ds-base-metadata-import-page"]],standalone:!0,features:[a.aNF],decls:24,vars:21,consts:[[1,"container"],["id","header"],[1,"mb-3"],[1,"form-check"],["type","checkbox","id","validateOnly",1,"form-check-input",3,"ngModelChange","ngModel"],["for","validateOnly",1,"form-check-label"],["id","validateOnlyHelpBlock",1,"form-text","text-muted"],[3,"onFileAdded","dropMessageLabel","dropMessageLabelReplacement"],[1,"space-children-mr"],["id","backButton",1,"btn","btn-secondary",3,"click"],["id","proceedButton",1,"btn","btn-primary",3,"click"]],template:function(h,p){1&h&&(a.j41(0,"div",0)(1,"h1",1),a.EFF(2),a.nI1(3,"translate"),a.k0s(),a.j41(4,"p"),a.EFF(5),a.nI1(6,"translate"),a.k0s(),a.j41(7,"div",2)(8,"div",3)(9,"input",4),a.mxI("ngModelChange",function(T){return a.DH7(p.validateOnly,T)||(p.validateOnly=T),T}),a.k0s(),a.j41(10,"label",5),a.EFF(11),a.nI1(12,"translate"),a.k0s()(),a.j41(13,"small",6),a.EFF(14),a.nI1(15,"translate"),a.k0s()(),a.j41(16,"ds-file-dropzone-no-uploader",7),a.bIt("onFileAdded",function(T){return p.setFile(T)}),a.k0s(),a.j41(17,"div",8)(18,"button",9),a.bIt("click",function(){return p.onReturn()}),a.EFF(19),a.nI1(20,"translate"),a.k0s(),a.j41(21,"button",10),a.bIt("click",function(){return p.importMetadata()}),a.EFF(22),a.nI1(23,"translate"),a.k0s()()()),2&h&&(a.R7$(2),a.JRh(a.bMT(3,9,"admin.metadata-import.page.header")),a.R7$(3),a.JRh(a.bMT(6,11,"admin.metadata-import.page.help")),a.R7$(4),a.R50("ngModel",p.validateOnly),a.R7$(2),a.SpI(" ",a.bMT(12,13,"admin.metadata-import.page.validateOnly")," "),a.R7$(3),a.SpI(" ",a.bMT(15,15,"admin.metadata-import.page.validateOnly.hint")," "),a.R7$(2),a.Y8G("dropMessageLabel","admin.metadata-import.page.dropMsg")("dropMessageLabelReplacement","admin.metadata-import.page.dropMsgReplace"),a.R7$(3),a.JRh(a.bMT(20,17,"admin.metadata-import.page.button.return")),a.R7$(3),a.JRh(a.bMT(23,19,"admin.metadata-import.page.button.proceed")))},dependencies:[g.i,s.YN,s.Zm,s.BC,s.vS,o.h,o.D9],encapsulation:2})}}return P})()},2426:(F,b,n)=>{"use strict";n.r(b),n.d(b,{ROUTES:()=>Z});var s=n(70379),o=n(41780),c=n(3040),e=n(54438);let f=(()=>{class r{static{this.\u0275fac=function(m){return new(m||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ds-admin-curation-task"]],standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[1,"container"]],template:function(m,l){1&m&&(e.j41(0,"div",0)(1,"h1"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"ds-curation-form"),e.k0s()),2&m&&(e.R7$(2),e.JRh(e.bMT(3,1,"admin.curation-tasks.header")))},dependencies:[c.X,o.h,o.D9],encapsulation:2})}}return r})();var O=n(60177),M=n(89417),v=n(63172),g=n(96697),a=n(96526),I=n(32736),t=n(73666),d=n(7673),P=n(6041),u=n(13864),E=n(73183),h=n(54705),p=n(58003),C=n(7901);function T(r,S){if(1&r&&(e.j41(0,"span",5),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r){const i=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,i.header))}}let D=(()=>{class r extends h.${constructor(i,m){super(i,m),this.activeModal=i,this.route=m,this.objectType=u.W.DSPACEOBJECT,this.selectorTypes=[u.W.COLLECTION],this.action=h.u.IMPORT_BATCH,this.response=new e.bkB}navigate(i){return i instanceof P.p?(this.response.emit(i),(0,d.of)(null)):(this.response.emit(null),(0,d.of)(null))}static{this.\u0275fac=function(m){return new(m||r)(e.rXU(p.Lw),e.rXU(C.nX))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ds-import-batch-selector"]],outputs:{response:"response"},standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(m,l){1&m&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return l.close()}),e.k0s()(),e.j41(5,"div",2),e.DNE(6,T,3,3,"span",3),e.j41(7,"ds-dso-selector",4),e.bIt("onSelect",function(U){return l.selectObject(U)}),e.k0s()()()),2&m&&(e.R7$(2),e.SpI("",e.bMT(3,5,"dso-selector."+l.action+"."+l.objectType.toString().toLowerCase()+".head")," "),e.R7$(4),e.Y8G("ngIf",l.header),e.R7$(),e.Y8G("currentDSOId",null==l.dsoRD?null:l.dsoRD.payload.uuid)("types",l.selectorTypes)("sort",l.defaultSort))},dependencies:[O.bT,E.x,o.h,o.D9],encapsulation:2})}}return r})();var _=n(82777),y=n(39806),k=n(2448),j=n(10887),L=n(21626);function N(r,S){if(1&r){const i=e.RV6();e.j41(0,"p"),e.EFF(1," selected collection: "),e.j41(2,"b"),e.EFF(3),e.k0s(),e.EFF(4,"\xa0 "),e.j41(5,"a",16),e.bIt("click",function(){e.eBV(i);const l=e.XpG();return e.Njj(l.removeDspaceObject())}),e.EFF(6),e.nI1(7,"translate"),e.k0s()()}if(2&r){const i=e.XpG();e.R7$(3),e.JRh(i.getDspaceObjectName()),e.R7$(3),e.JRh(e.bMT(7,2,"admin.batch-import.page.remove"))}}function x(r,S){if(1&r){const i=e.RV6();e.j41(0,"ds-file-dropzone-no-uploader",17),e.bIt("onFileAdded",function(l){e.eBV(i);const R=e.XpG();return e.Njj(R.setFile(l))}),e.k0s()}2&r&&e.Y8G("dropMessageLabel","admin.batch-import.page.dropMsg")("dropMessageLabelReplacement","admin.batch-import.page.dropMsgReplace")}function z(r,S){if(1&r){const i=e.RV6();e.j41(0,"div",18)(1,"input",19),e.nI1(2,"translate"),e.mxI("ngModelChange",function(l){e.eBV(i);const R=e.XpG();return e.DH7(R.fileURL,l)||(R.fileURL=l),e.Njj(l)}),e.k0s()()}if(2&r){const i=e.XpG();e.R7$(),e.FS9("placeholder",e.bMT(2,2,"admin.metadata-import.page.urlMsg")),e.R50("ngModel",i.fileURL)}}let W=(()=>{class r{constructor(i,m,l,R,U,Q,q,ee){this.location=i,this.translate=m,this.notificationsService=l,this.scriptDataService=R,this.router=U,this.modalService=Q,this.dsoNameService=q,this.http=ee,this.validateOnly=!0,this.dso=null,this.isUpload=!0}setFile(i){this.fileObject=i}onReturn(){this.location.back()}selectCollection(){this.modalService.open(D).componentInstance.response.pipe((0,g.s)(1)).subscribe(m=>{this.dso=m||null})}importMetadata(){if(null==this.fileObject&&(0,_.Im)(this.fileURL))this.notificationsService.error(this.translate.get(this.isUpload?"admin.metadata-import.page.error.addFile":"admin.metadata-import.page.error.addFileUrl"));else{const i=[Object.assign(new t.p,{name:"--add"})];this.isUpload?i.push(Object.assign(new t.p,{name:"--zip",value:this.fileObject.name})):(this.fileObject=null,i.push(Object.assign(new t.p,{name:"--url",value:this.fileURL}))),this.dso&&i.push(Object.assign(new t.p,{name:"--collection",value:this.dso.uuid})),this.validateOnly&&i.push(Object.assign(new t.p,{name:"-v",value:!0}));const m=new FormData;m.append("file",this.fileObject),this.http.post(`${j.$}/server/api/bulk-upload/upload/${this.dso.uuid}`,m).subscribe({next:U=>{this.notificationsService.success("Upload Success","Bulk file uploaded successfully."),this.resetForm()},error:U=>{this.notificationsService.error("Upload Failed","Could not upload bulk file.")}})}}getDspaceObjectName(){return this.dso?this.dsoNameService.getName(this.dso):null}removeDspaceObject(){this.dso=null}toggleUpload(){this.isUpload=!this.isUpload}resetForm(){this.fileObject=null,this.fileURL="",this.dso=null,this.validateOnly=!0,this.isUpload=!0}static{this.\u0275fac=function(m){return new(m||r)(e.rXU(O.aZ),e.rXU(o.c$),e.rXU(y.I),e.rXU(I.ScriptDataService),e.rXU(C.Ix),e.rXU(p.Bq),e.rXU(a.f),e.rXU(L.Qq))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ds-batch-import-page"]],standalone:!0,features:[e.aNF],decls:36,vars:36,consts:[[1,"container"],["id","header"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"mb-3"],[1,"form-check"],["type","checkbox","id","validateOnly",1,"form-check-input",3,"ngModelChange","ngModel"],["for","validateOnly",1,"form-check-label"],["id","validateOnlyHelpBlock",1,"form-text","text-muted"],["color","#ebebeb",3,"change","checkedLabel","uncheckedLabel","checked"],[1,"form-text","text-muted","d-block"],["data-test","file-dropzone",3,"dropMessageLabel","dropMessageLabelReplacement","onFileAdded",4,"ngIf"],["class","mb-3 mt-2",4,"ngIf"],[1,"space-children-mr"],["id","backButton",1,"btn","btn-secondary",3,"click"],["id","proceedButton",1,"btn","btn-primary",3,"click","disabled"],["href","javascript:void(0)",3,"click"],["data-test","file-dropzone",3,"onFileAdded","dropMessageLabel","dropMessageLabelReplacement"],[1,"mb-3","mt-2"],["type","text","data-test","file-url-input",1,"form-control",3,"ngModelChange","placeholder","ngModel"]],template:function(m,l){1&m&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,N,8,4,"p",2),e.j41(8,"p")(9,"button",3),e.bIt("click",function(){return l.selectCollection()}),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"div",4)(13,"div",5)(14,"input",6),e.mxI("ngModelChange",function(U){return e.DH7(l.validateOnly,U)||(l.validateOnly=U),U}),e.k0s(),e.j41(15,"label",7),e.EFF(16),e.nI1(17,"translate"),e.k0s()(),e.j41(18,"small",8),e.EFF(19),e.nI1(20,"translate"),e.k0s()(),e.j41(21,"ui-switch",9),e.nI1(22,"translate"),e.nI1(23,"translate"),e.bIt("change",function(){return l.toggleUpload()}),e.k0s(),e.j41(24,"small",10),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.DNE(27,x,1,2,"ds-file-dropzone-no-uploader",11)(28,z,3,4,"div",12),e.j41(29,"div",13)(30,"button",14),e.bIt("click",function(){return l.onReturn()}),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"button",15),e.bIt("click",function(){return l.importMetadata()}),e.EFF(34),e.nI1(35,"translate"),e.k0s()()()),2&m&&(e.R7$(2),e.JRh(e.bMT(3,16,"admin.batch-import.page.header")),e.R7$(3),e.JRh(e.bMT(6,18,"admin.batch-import.page.help")),e.R7$(2),e.Y8G("ngIf",l.dso),e.R7$(3),e.JRh(e.bMT(11,20,"admin.metadata-import.page.button.select-collection")),e.R7$(4),e.R50("ngModel",l.validateOnly),e.R7$(2),e.SpI(" ",e.bMT(17,22,"admin.metadata-import.page.validateOnly")," "),e.R7$(3),e.SpI(" ",e.bMT(20,24,"admin.batch-import.page.validateOnly.hint")," "),e.R7$(2),e.Y8G("checkedLabel",e.bMT(22,26,"admin.metadata-import.page.toggle.upload"))("uncheckedLabel",e.bMT(23,28,"admin.metadata-import.page.toggle.url"))("checked",l.isUpload),e.R7$(4),e.SpI(" ",e.bMT(26,30,"admin.batch-import.page.toggle.help")," "),e.R7$(2),e.Y8G("ngIf",l.isUpload),e.R7$(),e.Y8G("ngIf",!l.isUpload),e.R7$(3),e.JRh(e.bMT(32,32,"admin.metadata-import.page.button.return")),e.R7$(2),e.Y8G("disabled",!l.dso),e.R7$(),e.SpI(" ",e.bMT(35,34,"admin.metadata-import.page.button.proceed")," "))},dependencies:[O.bT,o.h,o.D9,M.YN,M.me,M.Zm,M.BC,M.vS,v.z,v.S,k.i],encapsulation:2})}}return r})();var A=n(8886);n(45706);const $=["*"];function K(r,S){}let G=(()=>{class r extends A.J{getComponentName(){return"MetadataImportPageComponent"}importThemedComponent(i){return n(63324)(`./${i}/app/admin/admin-import-metadata-page/metadata-import-page.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,45706))}static{this.\u0275fac=(()=>{let i;return function(l){return(i||(i=e.xGo(r)))(l||r)}})()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ds-metadata-import-page"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:$,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(m,l){1&m&&(e.NAR(),e.DNE(0,K,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return r})();var B=n(47483);n(91440);const X=["*"];function V(r,S){}let H=(()=>{class r extends A.J{getComponentName(){return"AdminSearchPageComponent"}importThemedComponent(i){return n(86658)(`./${i}/app/admin/admin-search-page/admin-search-page.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,91440))}static{this.\u0275fac=(()=>{let i;return function(l){return(i||(i=e.xGo(r)))(l||r)}})()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ds-admin-search-page"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:X,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(m,l){1&m&&(e.NAR(),e.DNE(0,V,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return r})();n(76576);const J=["*"];function w(r,S){}const Z=[{path:B.uD,loadChildren:()=>Promise.all([n.e(1653),n.e(4097)]).then(n.bind(n,24097)).then(r=>r.ROUTES)},{path:B.jE,loadChildren:()=>Promise.all([n.e(7558),n.e(6549)]).then(n.bind(n,66549)).then(r=>r.ROUTES)},{path:"search",resolve:{breadcrumb:s.S},component:H,data:{title:"admin.search.title",breadcrumbKey:"admin.search"}},{path:"workflow",resolve:{breadcrumb:s.S},component:(()=>{class r extends A.J{getComponentName(){return"AdminWorkflowPageComponent"}importThemedComponent(i){return n(12212)(`./${i}/app/admin/admin-workflow-page/admin-workflow-page.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,76576))}static{this.\u0275fac=(()=>{let i;return function(l){return(i||(i=e.xGo(r)))(l||r)}})()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["ds-admin-workflow-page"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:J,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(m,l){1&m&&(e.NAR(),e.DNE(0,w,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return r})(),data:{title:"admin.workflow.title",breadcrumbKey:"admin.workflow"}},{path:"curation-tasks",resolve:{breadcrumb:s.S},component:f,data:{title:"admin.curation-tasks.title",breadcrumbKey:"admin.curation-tasks"}},{path:"metadata-import",resolve:{breadcrumb:s.S},component:G,data:{title:"admin.metadata-import.title",breadcrumbKey:"admin.metadata-import"}},{path:"batch-import",resolve:{breadcrumb:s.S},component:W,data:{title:"admin.batch-import.title",breadcrumbKey:"admin.batch-import"}},{path:"system-wide-alert",resolve:{breadcrumb:s.S},loadChildren:()=>n.e(7341).then(n.bind(n,7341)).then(r=>r.ROUTES),data:{title:"admin.system-wide-alert.title",breadcrumbKey:"admin.system-wide-alert"}},{path:B.z$,children:[{path:"",pathMatch:"full",redirectTo:"services"},{path:"services",loadChildren:()=>Promise.all([n.e(2076),n.e(8409)]).then(n.bind(n,28409)).then(r=>r.ROUTES)}]},{path:B.p8,loadChildren:()=>n.e(3725).then(n.bind(n,83725)).then(r=>r.ROUTES)},{path:B.iF,loadChildren:()=>Promise.all([n.e(2076),n.e(6310)]).then(n.bind(n,76310)).then(r=>r.ROUTES)}]},91440:(F,b,n)=>{"use strict";n.r(b),n.d(b,{AdminSearchPageComponent:()=>e});var s=n(26292),o=n(4021),c=n(54438);let e=(()=>{class f{constructor(){this.context=s.o.AdminSearch}static{this.\u0275fac=function(v){return new(v||f)}}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-base-admin-search-page"]],standalone:!0,features:[c.aNF],decls:1,vars:1,consts:[["configuration","administrativeView",3,"context"]],template:function(v,g){1&v&&c.nrm(0,"ds-configuration-search-page",0),2&v&&c.Y8G("context",g.context)},dependencies:[o.M]})}}return f})()},76576:(F,b,n)=>{"use strict";n.r(b),n.d(b,{AdminWorkflowPageComponent:()=>e});var s=n(26292),o=n(4021),c=n(54438);let e=(()=>{class f{constructor(){this.context=s.o.AdminWorkflowSearch}static{this.\u0275fac=function(v){return new(v||f)}}static{this.\u0275cmp=c.VBU({type:f,selectors:[["ds-base-admin-workflow-page"]],standalone:!0,features:[c.aNF],decls:1,vars:1,consts:[["configuration","supervision",3,"context"]],template:function(v,g){1&v&&c.nrm(0,"ds-configuration-search-page",0),2&v&&c.Y8G("context",g.context)},dependencies:[o.M]})}}return f})()},90839:(F,b,n)=>{"use strict";n.d(b,{Q:()=>s});class s{constructor(c,e){this.text=c,this.url=e}}},70379:(F,b,n)=>{"use strict";n.d(b,{S:()=>v});var s=n(54438),o=n(82777),c=n(30506),e=n(7673),f=n(90839);let M=(()=>{class g{getBreadcrumbs(I,t){return(0,e.of)([new f.Q(I+".breadcrumbs",t)])}static{this.\u0275fac=function(t){return new(t||g)}}static{this.\u0275prov=s.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();const v=(g,a,I=(0,s.WQX)(M))=>{const t=g.data.breadcrumbKey;if((0,o.Tn)(t))throw new Error('You provided an i18nBreadcrumbResolver for url "'+g.url+"\" but no breadcrumbKey in the route's data");return{provider:I,key:t,url:(0,c.F)(g)}}},3040:(F,b,n)=>{"use strict";n.d(b,{X:()=>h});var s=n(60177),o=n(89417),c=n(41780),e=n(96354),f=n(8917),O=n(32736),M=n(80183),v=n(1504),g=n(82777),a=n(73335),I=n(39806),t=n(54438),d=n(7901);function P(p,C){if(1&p&&(t.j41(0,"option",9),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&p){const T=C.$implicit;t.Y8G("value",T),t.R7$(),t.SpI(" ",t.bMT(2,2,"curation-task.task."+T+".label")," ")}}function u(p,C){1&p&&(t.j41(0,"div",3)(1,"label",10),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.nrm(4,"input",11),t.j41(5,"small",12),t.EFF(6),t.nI1(7,"translate"),t.k0s()()),2&p&&(t.R7$(2),t.JRh(t.bMT(3,2,"curation.form.handle.label")),t.R7$(4),t.JRh(t.bMT(7,4,"curation.form.handle.hint")))}let h=(()=>{class p{constructor(T,D,_,y,k,j,L){this.scriptDataService=T,this.configurationDataService=D,this.notificationsService=_,this.translateService=y,this.handleService=k,this.router=j,this.cdr=L,this.subs=[]}ngOnDestroy(){this.subs.forEach(T=>T.unsubscribe())}ngOnInit(){this.form=new o.J3({task:new o.hs(""),handle:new o.hs("")}),this.config=this.configurationDataService.findByPropertyName("plugin.named.org.dspace.curate.CurationTask"),this.subs.push(this.config.pipe((0,M.ak)()).subscribe(T=>{this.tasks=T.values.filter(D=>(0,g.hj)(D)&&D.includes("=")).map(D=>D.split("=")[1].trim()),this.form.get("task").patchValue(this.tasks[0]),this.cdr.detectChanges()}))}hasHandleValue(){return(0,g.a4)(this.dsoHandle)}submit(){const T=this.form.get("task").value;let D;D=this.hasHandleValue()?this.handleService.normalizeHandle(this.dsoHandle).pipe((0,e.T)(_=>((0,g.Im)(_)&&this.notificationsService.error(this.translateService.get("curation.form.submit.error.head"),this.translateService.get("curation.form.submit.error.invalid-handle")),_))):this.handleService.normalizeHandle(this.form.get("handle").value).pipe((0,e.T)(_=>(0,g.Im)(_)?"all":_)),this.subs.push(D.subscribe(_=>{(0,g.a4)(_)&&this.subs.push(this.scriptDataService.invoke("curate",[{name:"-t",value:T},{name:"-i",value:_}],[]).pipe((0,M.qD)()).subscribe(y=>{y.hasSucceeded?(this.notificationsService.success(this.translateService.get("curation.form.submit.success.head"),this.translateService.get("curation.form.submit.success.content")),this.router.navigateByUrl((0,v.yJ)(y.payload.processId))):this.notificationsService.error(this.translateService.get("curation.form.submit.error.head"),this.translateService.get("curation.form.submit.error.content"))}))}))}static{this.\u0275fac=function(D){return new(D||p)(t.rXU(O.ScriptDataService),t.rXU(f.ConfigurationDataService),t.rXU(I.I),t.rXU(c.c$),t.rXU(a.e),t.rXU(d.Ix),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:p,selectors:[["ds-curation-form"]],inputs:{dsoHandle:"dsoHandle"},standalone:!0,features:[t.aNF],decls:13,vars:9,consts:[[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"row","mb-2"],[1,"col-12","col-sm-6"],["for","task",1,"fw-bold","form-label"],["id","task","formControlName","task",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["class","col-12 col-sm-6",4,"ngIf"],["type","submit",1,"btn","btn-default","btn-primary"],[3,"value"],["for","handle",1,"fw-bold","form-label"],["id","handle","formControlName","handle",1,"form-control"],[1,"text-muted"]],template:function(D,_){1&D&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return _.submit()}),t.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"select",5),t.DNE(8,P,3,4,"option",6),t.k0s()(),t.DNE(9,u,8,6,"div",7),t.k0s(),t.j41(10,"button",8),t.EFF(11),t.nI1(12,"translate"),t.k0s()()()),2&D&&(t.Y8G("formGroup",_.form),t.R7$(5),t.JRh(t.bMT(6,5,"curation.form.task-select.label")),t.R7$(3),t.Y8G("ngForOf",_.tasks),t.R7$(),t.Y8G("ngIf",!_.hasHandleValue()),t.R7$(2),t.JRh(t.bMT(12,7,"curation.form.submit")))},dependencies:[o.YN,o.qT,o.xH,o.y7,o.me,o.wz,o.BC,o.cb,o.X1,o.j4,o.JD,s.pM,s.bT,c.h,c.D9],encapsulation:2})}}return p})()},2448:(F,b,n)=>{"use strict";n.d(b,{i:()=>t});var s=n(60177),o=n(54438),c=n(89417),e=n(41780),f=n(59519),O=n.n(f),M=n(27200),v=n(7673),g=n(32979);function a(d,P){if(1&d&&(o.j41(0,"div",8)(1,"div",9)(2,"p",10),o.EFF(3),o.nI1(4,"translate"),o.k0s()()()),2&d){const u=o.XpG();o.R7$(3),o.JRh(o.bMT(4,1,u.dropMessageLabel))}}function I(d,P){if(1&d&&(o.j41(0,"p",4),o.EFF(1),o.k0s()),2&d){const u=o.XpG();o.R7$(),o.SpI(" ",null==u.fileObject?null:u.fileObject.name," ")}}let t=(()=>{class d{constructor(){this.onFileAdded=new o.bkB,this.uploadFilesOptions=Object.assign(new g.H,{url:"placeholder"})}ngOnInit(){this.uploaderId="ds-drag-and-drop-uploader"+O()(),this.isOverDocumentDropZone=(0,v.of)(!1),this.uploader=new M.l0({url:"placeholder"})}onDrop(u){u.preventDefault(),u.stopPropagation()}onDragOver(u){u.preventDefault(),u.stopPropagation(),"HTML"!==u.target.tagName&&(this.isOverDocumentDropZone=(0,v.of)(!0))}fileOverDocument(u){u||(this.isOverDocumentDropZone=(0,v.of)(u))}handleFileInput(u){const E=u.target;E.files&&E.files.length>0&&this.setFile(E.files)}setFile(u){this.fileObject=u.length>0?u[0]:void 0,this.onFileAdded.emit(this.fileObject)}static{this.\u0275fac=function(E){return new(E||d)}}static{this.\u0275cmp=o.VBU({type:d,selectors:[["ds-file-dropzone-no-uploader"]],hostBindings:function(E,h){1&E&&o.bIt("drop",function(C){return h.onDrop(C)},!1,o.tSv)("dragover",function(C){return h.onDragOver(C)},!1,o.tSv)},inputs:{dropMessageLabel:"dropMessageLabel",dropMessageLabelReplacement:"dropMessageLabelReplacement"},outputs:{onFileAdded:"onFileAdded"},standalone:!0,features:[o.aNF],decls:16,vars:18,consts:[["ng2FileDrop","",1,"ds-document-drop-zone","position-fixed","h-100","w-100",3,"onFileDrop","fileOver","uploader"],["class","ds-document-drop-zone-inner position-fixed h-100 w-100 p-2",4,"ngIf"],[1,"well","ds-base-drop-zone","mt-1","mb-3","text-muted","p-2"],["class","text-center m-0 p-0 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"text-center","m-0","p-0","d-flex","justify-content-center","align-items-center"],["aria-hidden","true",1,"fas","fa-cloud-upload"],[1,"btn","btn-link","m-0","p-0","ms-1"],["type","file","name","file-upload","id","file-upload",1,"form-control-file","d-none",3,"change"],[1,"ds-document-drop-zone-inner","position-fixed","h-100","w-100","p-2"],[1,"ds-document-drop-zone-inner-content","position-relative","d-flex","flex-column","justify-content-center","text-center","h-100","w-100"],[1,"text-primary"]],template:function(E,h){1&E&&(o.j41(0,"div",0),o.nI1(1,"async"),o.bIt("onFileDrop",function(C){return h.setFile(C)})("fileOver",function(C){return h.fileOverDocument(C)}),o.k0s(),o.DNE(2,a,5,3,"div",1),o.nI1(3,"async"),o.j41(4,"div",2),o.DNE(5,I,2,1,"p",3),o.j41(6,"p",4)(7,"span"),o.nrm(8,"i",5),o.EFF(9),o.nI1(10,"translate"),o.nI1(11,"translate"),o.k0s(),o.j41(12,"label",6)(13,"input",7),o.bIt("change",function(C){return h.handleFileInput(C)}),o.k0s(),o.EFF(14),o.nI1(15,"translate"),o.k0s()()()),2&E&&(o.AVh("ds-document-drop-zone-active",o.bMT(1,8,h.isOverDocumentDropZone)),o.Y8G("uploader",h.uploader),o.R7$(2),o.Y8G("ngIf",o.bMT(3,10,h.isOverDocumentDropZone)),o.R7$(3),o.Y8G("ngIf",h.fileObject),o.R7$(4),o.Lme(" ",o.bMT(10,12,null==h.fileObject?h.dropMessageLabel:h.dropMessageLabelReplacement)," ",o.bMT(11,14,"uploader.or"),""),o.R7$(5),o.SpI(" ",o.bMT(15,16,"uploader.browse")," "))},dependencies:[s.MD,s.bT,s.Jj,c.YN,e.h,e.D9,M.eB,M.Ff],styles:[".ds-base-drop-zone[_ngcontent-%COMP%]{border:2px dashed var(--bs-gray-600)}.ds-document-drop-zone[_ngcontent-%COMP%]{top:0;left:0;z-index:-1;display:block;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease}.ds-document-drop-zone-active[_ngcontent-%COMP%]{z-index:var(--ds-drop-zone-area-z-index)!important;opacity:1;visibility:visible}.ds-document-drop-zone-inner[_ngcontent-%COMP%]{background-color:#ffffffb3;z-index:var(--ds-drop-zone-area-inner-z-index);top:0;left:0}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]{border:4px dashed var(--bs-primary);z-index:var(--ds-drop-zone-area-inner-z-index)}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--bs-font-size-lg) * 2.5)}"]})}}return d})()},63324:(F,b,n)=>{var s={"./custom/app/admin/admin-import-metadata-page/metadata-import-page.component":[77413,7413]};function o(c){if(!n.o(s,c))return Promise.resolve().then(()=>{var O=new Error("Cannot find module '"+c+"'");throw O.code="MODULE_NOT_FOUND",O});var e=s[c],f=e[0];return n.e(e[1]).then(()=>n(f))}o.keys=()=>Object.keys(s),o.id=63324,F.exports=o},86658:(F,b,n)=>{var s={"./custom/app/admin/admin-search-page/admin-search-page.component":[38835,8835]};function o(c){if(!n.o(s,c))return Promise.resolve().then(()=>{var O=new Error("Cannot find module '"+c+"'");throw O.code="MODULE_NOT_FOUND",O});var e=s[c],f=e[0];return n.e(e[1]).then(()=>n(f))}o.keys=()=>Object.keys(s),o.id=86658,F.exports=o},12212:(F,b,n)=>{var s={"./custom/app/admin/admin-workflow-page/admin-workflow-page.component":[88483,8483]};function o(c){if(!n.o(s,c))return Promise.resolve().then(()=>{var O=new Error("Cannot find module '"+c+"'");throw O.code="MODULE_NOT_FOUND",O});var e=s[c],f=e[0];return n.e(e[1]).then(()=>n(f))}o.keys=()=>Object.keys(s),o.id=12212,F.exports=o},63172:(F,b,n)=>{"use strict";n.d(b,{S:()=>v,z:()=>g});var s=n(54438),o=n(89417),c=n(60177);const e=["*"];function f(a,I){if(1&a&&(s.j41(0,"label",2)(1,"span",3),s.EFF(2),s.k0s(),s.j41(3,"span",4),s.EFF(4),s.k0s()()),2&a){const t=s.XpG();s.R7$(),s.xc7("color",t.getColor("checkedTextColor")),s.BMQ("aria-label",t.checkedLabel),s.R7$(),s.JRh(t.checkedLabel),s.R7$(),s.xc7("color",t.getColor("uncheckedTextColor")),s.BMQ("aria-label",t.uncheckedLabel),s.R7$(),s.JRh(t.uncheckedLabel)}}const O=new s.nKC("UI_SWITCH_OPTIONS"),M={provide:o.kq,useExisting:(0,s.Rfq)(()=>v),multi:!0};let v=(()=>{class a{constructor(t={},d){this.cdr=d,this.change=new s.bkB,this.changeEvent=new s.bkB,this.valueChange=new s.bkB,this.onTouchedCallback=P=>{},this.onChangeCallback=P=>{},this.size=t&&t.size||"medium",this.color=t&&t.color,this.switchOffColor=t&&t.switchOffColor,this.switchColor=t&&t.switchColor,this.defaultBgColor=t&&t.defaultBgColor,this.defaultBoColor=t&&t.defaultBoColor,this.checkedLabel=t&&t.checkedLabel,this.uncheckedLabel=t&&t.uncheckedLabel,this.checkedTextColor=t&&t.checkedTextColor,this.uncheckedTextColor=t&&t.uncheckedTextColor}set checked(t){this._checked=!1!==t}get checked(){return this._checked}set disabled(t){this._disabled=!1!==t}get disabled(){return this._disabled}set reverse(t){this._reverse=!1!==t}get reverse(){return this._reverse}set loading(t){this._loading=!1!==t}get loading(){return this._loading}getColor(t=""){return"borderColor"===t?this.defaultBoColor:"switchColor"===t?this.reverse?this.checked&&this.switchOffColor||this.switchColor:this.checked?this.switchColor:this.switchOffColor||this.switchColor:"checkedTextColor"===t?this.reverse?this.uncheckedTextColor:this.checkedTextColor:"uncheckedTextColor"===t?this.reverse?this.checkedTextColor:this.uncheckedTextColor:this.reverse?this.checked?this.defaultBgColor:this.color:this.checked?this.color:this.defaultBgColor}onClick(t){this.disabled||(this.checked=!this.checked,this.change.emit(this.checked),this.valueChange.emit(this.checked),this.changeEvent.emit(t),this.onChangeCallback(this.checked),this.onTouchedCallback(this.checked),this.cdr.markForCheck())}onToggle(t){this.disabled||(this.beforeChange?this._beforeChange=this.beforeChange.subscribe(d=>{d&&this.onClick(t)}):this.onClick(t))}writeValue(t){t!==this.checked&&(this.checked=!!t),this.onChangeCallback(this.checked),this.cdr&&this.cdr.markForCheck()}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngOnDestroy(){this._beforeChange&&this._beforeChange.unsubscribe()}}return a.\u0275fac=function(t){return new(t||a)(s.rXU(O,8),s.rXU(s.gRc))},a.\u0275cmp=s.VBU({type:a,selectors:[["ui-switch"]],hostBindings:function(t,d){1&t&&s.bIt("click",function(u){return d.onToggle(u)})},inputs:{size:"size",color:"color",switchOffColor:"switchOffColor",switchColor:"switchColor",defaultBgColor:"defaultBgColor",defaultBoColor:"defaultBoColor",checkedLabel:"checkedLabel",uncheckedLabel:"uncheckedLabel",checkedTextColor:"checkedTextColor",uncheckedTextColor:"uncheckedTextColor",beforeChange:"beforeChange",ariaLabel:"ariaLabel",checked:"checked",disabled:"disabled",reverse:"reverse",loading:"loading"},outputs:{change:"change",changeEvent:"changeEvent",valueChange:"valueChange"},features:[s.Jv_([M])],ngContentSelectors:e,decls:4,vars:21,consts:[["type","button","role","switch",1,"switch"],["class","switch-pane",4,"ngIf"],[1,"switch-pane"],[1,"switch-label-checked"],[1,"switch-label-unchecked"]],template:function(t,d){1&t&&(s.NAR(),s.j41(0,"button",0),s.DNE(1,f,5,8,"label",1),s.j41(2,"small"),s.SdG(3),s.k0s()()),2&t&&(s.xc7("background-color",d.getColor())("border-color",d.getColor("borderColor")),s.AVh("checked",d.checked)("disabled",d.disabled)("loading",d.loading)("switch-large","large"===d.size)("switch-medium","medium"===d.size)("switch-small","small"===d.size),s.BMQ("aria-checked",d.checked)("aria-label",d.ariaLabel),s.R7$(),s.Y8G("ngIf",d.checkedLabel||d.uncheckedLabel),s.R7$(),s.xc7("background",d.getColor("switchColor")))},dependencies:[c.bT],encapsulation:2}),a})(),g=(()=>{class a{static forRoot(t){return{ngModule:a,providers:[{provide:O,useValue:t||{}}]}}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=s.$C({type:a}),a.\u0275inj=s.G2t({imports:[c.MD,o.YN,o.YN]}),a})()}}]);