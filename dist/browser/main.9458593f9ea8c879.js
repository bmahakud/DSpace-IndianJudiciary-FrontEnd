(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[8792],{25093:(F,D,n)=>{"use strict";n.d(D,{Ax:()=>h,P5:()=>u,bL:()=>e,mK:()=>f,w4:()=>m,xl:()=>v});var i=n(69799),t=n(45663);const u="epeople";function e(){return new t.t((0,i.XG)(),u).toString()}function h(E){return new t.t(e(),E,"edit").toString()}const m="groups";function f(){return new t.t((0,i.XG)(),m).toString()}function v(E){return new t.t(f(),E,"edit").toString()}},19353:(F,D,n)=>{"use strict";n.d(D,{_c:()=>u,bA:()=>t,oQ:()=>e});var i=n(91e3);const t={EDIT_EPERSON:(0,i.N)("dspace/epeople-registry/EDIT_EPERSON"),CANCEL_EDIT_EPERSON:(0,i.N)("dspace/epeople-registry/CANCEL_EDIT_EPERSON")};class u{constructor(m){this.type=t.EDIT_EPERSON,this.eperson=m}}class e{constructor(){this.type=t.CANCEL_EDIT_EPERSON}}},72796:(F,D,n)=>{"use strict";n.d(D,{v:()=>ce});var i=n(60177),t=n(89417),u=n(7901),e=n(41780),h=n(84412),m=n(84572),f=n(7673),v=n(25558),E=n(96354),_=n(39901),C=n(96697),I=n(96526),R=n(96820),T=n(74449),A=n(44494),p=n(79145),x=n(22978),O=n(80183),w=n(60456),M=n(48674),L=n(39806),B=n(5682),k=n(23401),W=n(25093),U=n(54438);const K=()=>["top","right","bottom"],Y=De=>({content:"admin.access-control.groups.form.tooltip.editGroup.addEpeople",id:"edit-group-add-epeople",iconPlacement:"right",tooltipPlacement:De}),G=De=>({name:De}),q=De=>["btn btn-sm",De];function z(De,be){if(1&De){const me=U.RV6();U.j41(0,"button",22),U.nI1(1,"translate"),U.bIt("click",function(){U.eBV(me);const Ee=U.XpG().$implicit,Te=U.XpG(2);return U.Njj(Te.deleteMemberFromGroup(Ee.eperson))}),U.nrm(2,"i",23),U.k0s()}if(2&De){const me=U.XpG().$implicit,re=U.XpG(2);U.FS9("title",U.i5U(1,4,re.messagePrefix+".table.edit.buttons.remove",U.eq3(7,G,re.dsoNameService.getName(me.eperson)))),U.Y8G("dsBtnDisabled",re.actionConfig.remove.disabled)("ngClass",U.eq3(9,q,re.actionConfig.remove.css)),U.R7$(2),U.Y8G("ngClass",re.actionConfig.remove.icon)}}function te(De,be){if(1&De){const me=U.RV6();U.j41(0,"button",22),U.nI1(1,"translate"),U.bIt("click",function(){U.eBV(me);const Ee=U.XpG().$implicit,Te=U.XpG(2);return U.Njj(Te.addMemberToGroup(Ee.eperson))}),U.nrm(2,"i",23),U.k0s()}if(2&De){const me=U.XpG().$implicit,re=U.XpG(2);U.FS9("title",U.i5U(1,4,re.messagePrefix+".table.edit.buttons.add",U.eq3(7,G,re.dsoNameService.getName(me.eperson)))),U.Y8G("dsBtnDisabled",re.actionConfig.add.disabled)("ngClass",U.eq3(9,q,re.actionConfig.add.css)),U.R7$(2),U.Y8G("ngClass",re.actionConfig.add.icon)}}function Z(De,be){if(1&De&&(U.j41(0,"tr")(1,"td",17),U.EFF(2),U.k0s(),U.j41(3,"td",17)(4,"a",19),U.EFF(5),U.k0s()(),U.j41(6,"td",17),U.EFF(7),U.nI1(8,"translate"),U.nrm(9,"br"),U.EFF(10),U.nI1(11,"translate"),U.k0s(),U.j41(12,"td",17)(13,"div",20),U.DNE(14,z,3,11,"button",21)(15,te,3,11,"button",21),U.k0s()()()),2&De){const me=be.$implicit,re=U.XpG(2);U.R7$(2),U.JRh(me.eperson.id),U.R7$(2),U.Y8G("routerLink",re.getEPersonEditRoute(me.eperson.id)),U.R7$(),U.SpI(" ",re.dsoNameService.getName(me.eperson)," "),U.R7$(2),U.Lme(" ",U.bMT(8,9,re.messagePrefix+".table.email"),": ",me.eperson.email?me.eperson.email:"-",""),U.R7$(3),U.Lme(" ",U.bMT(11,11,re.messagePrefix+".table.netid"),": ",me.eperson.netid?me.eperson.netid:"-"," "),U.R7$(4),U.Y8G("ngIf",me.ableToDelete),U.R7$(),U.Y8G("ngIf",!me.ableToDelete)}}function J(De,be){if(1&De&&(U.j41(0,"ds-pagination",13),U.nI1(1,"async"),U.j41(2,"div",14)(3,"table",15)(4,"thead")(5,"tr")(6,"th",16),U.EFF(7),U.nI1(8,"translate"),U.k0s(),U.j41(9,"th",16),U.EFF(10),U.nI1(11,"translate"),U.k0s(),U.j41(12,"th",16),U.EFF(13),U.nI1(14,"translate"),U.k0s(),U.j41(15,"th",17),U.EFF(16),U.nI1(17,"translate"),U.k0s()()(),U.j41(18,"tbody"),U.DNE(19,Z,16,13,"tr",18),U.nI1(20,"async"),U.k0s()()()()),2&De){let me,re;const Ee=U.XpG();U.Y8G("paginationOptions",Ee.config)("collectionSize",null==(me=U.bMT(1,9,Ee.ePeopleMembersOfGroup))?null:me.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),U.R7$(7),U.JRh(U.bMT(8,11,Ee.messagePrefix+".table.id")),U.R7$(3),U.JRh(U.bMT(11,13,Ee.messagePrefix+".table.name")),U.R7$(3),U.JRh(U.bMT(14,15,Ee.messagePrefix+".table.identity")),U.R7$(3),U.JRh(U.bMT(17,17,Ee.messagePrefix+".table.edit")),U.R7$(3),U.Y8G("ngForOf",null==(re=U.bMT(20,19,Ee.ePeopleMembersOfGroup))?null:re.page)}}function Q(De,be){if(1&De&&(U.j41(0,"div",24),U.EFF(1),U.nI1(2,"translate"),U.k0s()),2&De){const me=U.XpG();U.R7$(),U.SpI(" ",U.bMT(2,1,me.messagePrefix+".no-members-yet")," ")}}function ee(De,be){if(1&De&&(U.j41(0,"span"),U.EFF(1),U.nI1(2,"translate"),U.k0s()),2&De){const me=U.XpG();U.R7$(),U.SpI(" ",U.bMT(2,1,me.messagePrefix+".search.head")," ")}}function le(De,be){if(1&De){const me=U.RV6();U.j41(0,"tr")(1,"td",17),U.EFF(2),U.k0s(),U.j41(3,"td",17)(4,"a",19),U.EFF(5),U.k0s()(),U.j41(6,"td",17),U.EFF(7),U.nI1(8,"translate"),U.nrm(9,"br"),U.EFF(10),U.nI1(11,"translate"),U.k0s(),U.j41(12,"td",17)(13,"div",20)(14,"button",22),U.nI1(15,"translate"),U.bIt("click",function(){const Ee=U.eBV(me).$implicit,Te=U.XpG(2);return U.Njj(Te.addMemberToGroup(Ee))}),U.nrm(16,"i",23),U.k0s()()()()}if(2&De){const me=be.$implicit,re=U.XpG(2);U.R7$(2),U.JRh(me.id),U.R7$(2),U.Y8G("routerLink",re.getEPersonEditRoute(me.id)),U.R7$(),U.SpI(" ",re.dsoNameService.getName(me)," "),U.R7$(2),U.Lme(" ",U.bMT(8,11,re.messagePrefix+".table.email"),": ",me.email?me.email:"-",""),U.R7$(3),U.Lme(" ",U.bMT(11,13,re.messagePrefix+".table.netid"),": ",me.netid?me.netid:"-"," "),U.R7$(4),U.FS9("title",U.i5U(15,15,re.messagePrefix+".table.edit.buttons.add",U.eq3(18,G,re.dsoNameService.getName(me)))),U.Y8G("dsBtnDisabled",re.actionConfig.add.disabled)("ngClass",U.eq3(20,q,re.actionConfig.add.css)),U.R7$(2),U.Y8G("ngClass",re.actionConfig.add.icon)}}function ne(De,be){if(1&De&&(U.j41(0,"ds-pagination",13),U.nI1(1,"async"),U.j41(2,"div",14)(3,"table",25)(4,"thead")(5,"tr")(6,"th",16),U.EFF(7),U.nI1(8,"translate"),U.k0s(),U.j41(9,"th",16),U.EFF(10),U.nI1(11,"translate"),U.k0s(),U.j41(12,"th",16),U.EFF(13),U.nI1(14,"translate"),U.k0s(),U.j41(15,"th",17),U.EFF(16),U.nI1(17,"translate"),U.k0s()()(),U.j41(18,"tbody"),U.DNE(19,le,17,22,"tr",18),U.nI1(20,"async"),U.k0s()()()()),2&De){let me,re;const Ee=U.XpG();U.Y8G("paginationOptions",Ee.configSearch)("collectionSize",null==(me=U.bMT(1,9,Ee.ePeopleSearch))?null:me.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),U.R7$(7),U.JRh(U.bMT(8,11,Ee.messagePrefix+".table.id")),U.R7$(3),U.JRh(U.bMT(11,13,Ee.messagePrefix+".table.name")),U.R7$(3),U.JRh(U.bMT(14,15,Ee.messagePrefix+".table.identity")),U.R7$(3),U.JRh(U.bMT(17,17,Ee.messagePrefix+".table.edit")),U.R7$(3),U.Y8G("ngForOf",null==(re=U.bMT(20,19,Ee.ePeopleSearch))?null:re.page)}}function fe(De,be){if(1&De&&(U.j41(0,"div",24),U.EFF(1),U.nI1(2,"translate"),U.k0s()),2&De){const me=U.XpG();U.R7$(),U.SpI(" ",U.bMT(2,1,me.messagePrefix+".no-items")," ")}}var se=function(De){return De[De.ActiveGroup=0]="ActiveGroup",De[De.Members=1]="Members",De[De.SearchResults=2]="SearchResults",De}(se||{});let ce=(()=>{class De{constructor(me,re,Ee,Te,tt,ht,Fe,Et){this.groupDataService=me,this.ePersonDataService=re,this.translateService=Ee,this.notificationsService=Te,this.formBuilder=tt,this.paginationService=ht,this.router=Fe,this.dsoNameService=Et,this.actionConfig={add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-plus fa-fw"},remove:{css:"btn-outline-danger",disabled:!1,icon:"fas fa-trash-alt fa-fw"}},this.ePeopleSearch=new h.t(void 0),this.ePeopleMembersOfGroup=new h.t(void 0),this.configSearch=Object.assign(new k.W,{id:"sml",pageSize:5,currentPage:1}),this.config=Object.assign(new k.W,{id:"ml",pageSize:5,currentPage:1}),this.subs=new Map,this.getEPersonEditRoute=W.Ax,this.currentSearchQuery=""}ngOnInit(){this.searchForm=this.formBuilder.group({query:""}),this.subs.set(se.ActiveGroup,this.groupDataService.getActiveGroup().subscribe(me=>{null!=me&&(this.groupBeingEdited=me,this.retrieveMembers(this.config.currentPage),this.search({query:""}))}))}retrieveMembers(me){this.unsubFrom(se.Members),this.subs.set(se.Members,this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,v.n)(re=>this.ePersonDataService.findListByHref(this.groupBeingEdited._links.epersons.href,{currentPage:re.currentPage,elementsPerPage:re.pageSize})),(0,O.bD)(),(0,E.T)(re=>{if(!re.hasFailed)return re;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:re.errorMessage}))}),(0,v.n)(re=>(0,m.z)([...re.payload.page.map(Te=>(0,m.z)(this.isMemberOfGroup(Te),ht=>{const Fe=new p.h;return Fe.eperson=Te,Fe.ableToDelete=ht,Fe}))]).pipe((0,_.U)([]),(0,E.T)(Te=>(0,R.g)(re.payload.pageInfo,Te))))).subscribe(re=>{this.ePeopleMembersOfGroup.next(re)}))}isMemberOfGroup(me){return(0,f.of)(!0)}unsubFrom(me){this.subs.has(me)&&(this.subs.get(me).unsubscribe(),this.subs.delete(me))}deleteMemberFromGroup(me){this.groupDataService.getActiveGroup().pipe((0,C.s)(1)).subscribe(re=>{if(null!=re){const Ee=this.groupDataService.deleteMemberFromGroup(re,me);this.showNotifications("deleteMember",Ee,this.dsoNameService.getName(me),re),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}addMemberToGroup(me){this.groupDataService.getActiveGroup().pipe((0,C.s)(1)).subscribe(re=>{if(null!=re){const Ee=this.groupDataService.addMemberToGroup(re,me);this.showNotifications("addMember",Ee,this.dsoNameService.getName(me),re),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}search(me){this.unsubFrom(se.SearchResults),this.subs.set(se.SearchResults,this.paginationService.getCurrentPagination(this.configSearch.id,this.configSearch).pipe((0,v.n)(re=>{const Ee=me.query;return null!=Ee&&this.currentSearchQuery!==Ee&&this.groupBeingEdited&&(this.currentSearchQuery=Ee,this.paginationService.resetPage(this.configSearch.id)),this.searchDone=!0,this.ePersonDataService.searchNonMembers(this.currentSearchQuery,this.groupBeingEdited.id,{currentPage:re.currentPage,elementsPerPage:re.pageSize},!1,!0)}),(0,O.bD)(),(0,E.T)(re=>{if(!re.hasFailed)return re;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:re.errorMessage}))}),(0,O.Bo)()).subscribe(re=>{this.ePeopleSearch.next(re)}))}ngOnDestroy(){for(const me of this.subs.keys())this.unsubFrom(me);this.paginationService.clearPagination(this.config.id),this.paginationService.clearPagination(this.configSearch.id)}showNotifications(me,re,Ee,Te){re.pipe((0,O.qD)()).subscribe(tt=>{tt.hasSucceeded?this.notificationsService.success(this.translateService.get(this.messagePrefix+".notification.success."+me,{name:Ee})):this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure."+me,{name:Ee}))})}clearFormAndResetResult(){this.searchForm.patchValue({query:""}),this.search({query:""})}static{this.\u0275fac=function(re){return new(re||De)(U.rXU(A.GroupDataService),U.rXU(T.EPersonDataService),U.rXU(e.c$),U.rXU(L.I),U.rXU(t.ze),U.rXU(x.m),U.rXU(u.Ix),U.rXU(I.f))}}static{this.\u0275cmp=U.VBU({type:De,selectors:[["ds-members-list"]],inputs:{messagePrefix:"messagePrefix",actionConfig:"actionConfig"},standalone:!0,features:[U.aNF],decls:31,vars:31,consts:[[1,"border-bottom","pb-2"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],["id","search",1,"border-bottom","pb-2"],[4,"dsContextHelp"],[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","me-3"],[1,"form-group","input-group","me-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","ePeopleMembersOfGroup",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"btn-group","edit-field"],[3,"dsBtnDisabled","ngClass","title","click",4,"ngIf"],[3,"click","dsBtnDisabled","ngClass","title"],[3,"ngClass"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","epersonsSearch",1,"table","table-striped","table-hover","table-bordered"]],template:function(re,Ee){if(1&re&&(U.qex(0),U.j41(1,"h2",0),U.EFF(2),U.nI1(3,"translate"),U.k0s(),U.j41(4,"h3"),U.EFF(5),U.nI1(6,"translate"),U.k0s(),U.DNE(7,J,21,21,"ds-pagination",1),U.nI1(8,"async"),U.DNE(9,Q,3,3,"div",2),U.nI1(10,"async"),U.nI1(11,"async"),U.j41(12,"h3",3),U.DNE(13,ee,3,3,"span",4),U.k0s(),U.j41(14,"form",5),U.bIt("ngSubmit",function(){return Ee.search(Ee.searchForm.value)}),U.j41(15,"div",6)(16,"div",7),U.nrm(17,"input",8),U.j41(18,"span",9)(19,"button",10),U.nrm(20,"i",11),U.EFF(21),U.nI1(22,"translate"),U.k0s()()()(),U.j41(23,"div")(24,"button",12),U.bIt("click",function(){return Ee.clearFormAndResetResult()}),U.EFF(25),U.nI1(26,"translate"),U.k0s()()(),U.DNE(27,ne,21,21,"ds-pagination",1),U.nI1(28,"async"),U.DNE(29,fe,3,3,"div",2),U.nI1(30,"async"),U.bVm()),2&re){let Te,tt,ht,Fe;U.R7$(2),U.JRh(U.bMT(3,10,Ee.messagePrefix+".head")),U.R7$(3),U.JRh(U.bMT(6,12,Ee.messagePrefix+".headMembers")),U.R7$(2),U.Y8G("ngIf",(null==(Te=U.bMT(8,14,Ee.ePeopleMembersOfGroup))?null:Te.totalElements)>0),U.R7$(2),U.Y8G("ngIf",void 0===U.bMT(10,16,Ee.ePeopleMembersOfGroup)||0===(null==(tt=U.bMT(11,18,Ee.ePeopleMembersOfGroup))?null:tt.totalElements)),U.R7$(4),U.Y8G("dsContextHelp",U.eq3(29,Y,U.lJ4(28,K))),U.R7$(),U.Y8G("formGroup",Ee.searchForm),U.R7$(7),U.SpI(" ",U.bMT(22,20,Ee.messagePrefix+".search.button"),""),U.R7$(4),U.JRh(U.bMT(26,22,Ee.messagePrefix+".button.see-all")),U.R7$(2),U.Y8G("ngIf",(null==(ht=U.bMT(28,24,Ee.ePeopleSearch))?null:ht.totalElements)>0),U.R7$(2),U.Y8G("ngIf",0===(null==(Fe=U.bMT(30,26,Ee.ePeopleSearch))?null:Fe.totalElements)&&Ee.searchDone)}},dependencies:[e.h,e.D9,M.G,t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,B.e,i.bT,i.Jj,u.Wk,i.YU,i.Sq,w.A],encapsulation:2})}}return De})()},85255:(F,D,n)=>{"use strict";n.d(D,{C:()=>u,O3:()=>t,Sb:()=>e});var i=n(91e3);const t={EDIT_GROUP:(0,i.N)("dspace/epeople-registry/EDIT_GROUP"),CANCEL_EDIT_GROUP:(0,i.N)("dspace/epeople-registry/CANCEL_EDIT_GROUP")};class u{constructor(m){this.type=t.EDIT_GROUP,this.group=m}}class e{constructor(){this.type=t.CANCEL_EDIT_GROUP}}},68630:(F,D,n)=>{"use strict";n.r(D),n.d(D,{LdnServicesService:()=>w});var i=n(96697),t=n(96354),u=n(72734),e=n(53954),h=n(41684),m=n(39280),f=n(13617),v=n(46787),E=n(63897),_=n(87158),C=n(35108),I=n(41023),R=n(43052),T=n(32473),A=n(4910),p=n(45663),x=n(39806),O=n(54438);let w=(()=>{class M extends E.W{constructor(B,k,W,U,K){super("ldnservices",B,k,W,U),this.requestService=B,this.rdbService=k,this.objectCache=W,this.halService=U,this.notificationsService=K,this.findByPatternEndpoint="byInboundPattern",this.findAllData=new v.H(this.linkPath,B,k,W,U,this.responseMsToLive),this.searchData=new C.X(this.linkPath,B,k,W,U,this.responseMsToLive),this.deleteData=new f.I(this.linkPath,B,k,W,U,K,this.responseMsToLive,this.constructIdEndpoint),this.patchData=new _.n(this.linkPath,B,k,W,U,this.comparator,this.responseMsToLive,this.constructIdEndpoint),this.createData=new m.V(this.linkPath,B,k,W,U,K,this.responseMsToLive)}create(B,...k){return this.createData.create(B,...k)}patch(B,k){return this.patchData.patch(B,k)}update(B){return this.patchData.update(B)}commitUpdates(B){return this.patchData.commitUpdates(B)}createPatchFromCache(B){return this.patchData.createPatchFromCache(B)}findAll(B,k,W,...U){return this.findAllData.findAll(B,k,W,...U)}findByInboundPattern(B,k,W,U,...K){const Y=[new e.x("pattern",B)],G=Object.assign(new I._,k,{searchParams:Y});return this.searchBy(this.findByPatternEndpoint,G,W,U,...K)}delete(B,k){return this.deleteData.delete(B,k)}deleteByHref(B,k){return this.deleteData.deleteByHref(B,k)}searchBy(B,k,W,U,...K){return this.searchData.searchBy(B,k,W,U,...K)}invoke(B,k,W,U){const K=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,i.s)(1),(0,t.T)(Y=>new p.t(Y,B,"processes",k).toString()),(0,t.T)(Y=>{const G=this.getInvocationFormData(W,U);return new R.E0(K,Y,G)})).subscribe(Y=>this.requestService.send(Y)),this.rdbService.buildFromRequestUUID(K)}getInvocationFormData(B,k){const W=new FormData;return W.set("properties",JSON.stringify(B)),k.forEach(U=>{W.append("file",U)}),W}static{this.\u0275fac=function(k){return new(k||M)(O.KVO(T.B),O.KVO(u.o),O.KVO(h.$),O.KVO(A.Y),O.KVO(x.I))}}static{this.\u0275prov=O.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},29009:(F,D,n)=>{"use strict";n.d(D,{tc:()=>u,uC:()=>e,zd:()=>t});var i=n(42547);const t=new i.v("ldnservice"),u=new i.v("itemfilters"),e=new i.v("itemfilter")},13275:(F,D,n)=>{"use strict";n.d(D,{VZ:()=>t,rn:()=>i,wU:()=>u});const i="quality-assurance",t="publication-claim";function u(){return`/${i}`}},40887:(F,D,n)=>{"use strict";n.d(D,{o:()=>t});var i=n(78541);class t extends i.q{}},3e3:(F,D,n)=>{"use strict";n.d(D,{a:()=>v});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(76829),m=n(98688),f=n(60654);let v=class extends h.M{constructor(){super(...arguments),this.type=f.g}static{this.type=f.g}get self(){return this._links.self.href}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([m.aK,(0,i.Sn)("design:type",Object)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"notificationId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"notificationType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"coarNotifyType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"activityStreamType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"inReplyTo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"object",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"relatedItem",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"ldnService",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"context",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"message",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"queueAttempts",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"queueLastStartTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],v.prototype,"origin",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],v.prototype,"target",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"queueStatusLabel",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"queueTimeout",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"queueStatus",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"thumbnail",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",u.c)],v.prototype,"item",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",u.c)],v.prototype,"accessStatus",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(h.M)],v)},60654:(F,D,n)=>{"use strict";n.d(D,{g:()=>t});const t=new(n(42547).v)("message")},88857:(F,D,n)=>{"use strict";n.r(D),n.d(D,{AdminNotifyMessagesService:()=>w});var i=n(22806),t=n(7673),u=n(31943),e=n(73028),h=n(96354),m=n(88141),f=n(25558),v=n(72734),E=n(41684),_=n(63897),C=n(29326),I=n(43052),R=n(32473),T=n(4910),A=n(80183),p=n(39806),x=n(68630),O=n(54438);let w=(()=>{class M extends _.W{constructor(B,k,W,U,K,Y,G){super("messages",B,k,W,U),this.requestService=B,this.rdbService=k,this.objectCache=W,this.halService=U,this.notificationsService=K,this.ldnServicesService=Y,this.itemDataService=G,this.reprocessEndpoint="enqueueretry"}getDetailedMessages(B){return(0,i.H)(B).pipe((0,e.Z)(k=>k.target||k.origin?this.ldnServicesService.findById((k.target||k.origin).toString()).pipe((0,A.Hz)(),(0,h.T)(W=>({...k,ldnService:W.name}))):(0,t.of)(k)),(0,e.Z)(k=>k.object||k.context?this.itemDataService.findById(k.object||k.context).pipe((0,A.Hz)(),(0,h.T)(W=>({...k,relatedItem:W.name}))):(0,t.of)(k)),(0,u.S)((k,W)=>[...k,W],[]))}reprocessMessage(B,k){const W=this.requestService.generateRequestId();return this.halService.getEndpoint(this.reprocessEndpoint).pipe((0,h.T)(U=>U.replace("{id}",B.id)),(0,h.T)(U=>new I.Qf(W,U)),(0,m.M)(U=>this.requestService.send(U)),(0,f.n)(U=>this.rdbService.buildFromRequestUUID(U.uuid)),(0,A.qD)(),(0,A.Hz)(),(0,e.Z)(U=>this.getDetailedMessages([U]))).pipe((0,e.Z)(U=>k.pipe((0,h.T)(K=>{const Y=U[0],G=K.find(z=>z.id===B.id),q=K.indexOf(G);return Y.target=B.target,Y.object=B.object,Y.origin=B.origin,Y.context=B.context,K[q]=Y,K}))))}static{this.\u0275fac=function(k){return new(k||M)(O.KVO(R.B),O.KVO(v.o),O.KVO(E.$),O.KVO(T.Y),O.KVO(p.I),O.KVO(x.LdnServicesService),O.KVO(C.ItemDataService))}}static{this.\u0275prov=O.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},29679:(F,D,n)=>{"use strict";n.d(D,{Cv:()=>e,Sh:()=>t,ZU:()=>h,hO:()=>u});var i=n(91e3);const t={SELECT_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/SELECT_FORMAT"),DESELECT_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/DESELECT_FORMAT"),DESELECT_ALL_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/DESELECT_ALL_FORMAT")};class u{constructor(f){this.type=t.SELECT_FORMAT,this.bitstreamFormat=f}}class e{constructor(f){this.type=t.DESELECT_FORMAT,this.bitstreamFormat=f}}class h{constructor(){this.type=t.DESELECT_ALL_FORMAT}}},86628:(F,D,n)=>{"use strict";n.d(D,{Gr:()=>f,Kt:()=>t,Q6:()=>h,TE:()=>I,Tf:()=>E,Wi:()=>e,dF:()=>v,jC:()=>_,w2:()=>u,yb:()=>C,zn:()=>m});var i=n(91e3);const t={EDIT_SCHEMA:(0,i.N)("dspace/metadata-registry/EDIT_SCHEMA"),CANCEL_EDIT_SCHEMA:(0,i.N)("dspace/metadata-registry/CANCEL_SCHEMA"),SELECT_SCHEMA:(0,i.N)("dspace/metadata-registry/SELECT_SCHEMA"),DESELECT_SCHEMA:(0,i.N)("dspace/metadata-registry/DESELECT_SCHEMA"),DESELECT_ALL_SCHEMA:(0,i.N)("dspace/metadata-registry/DESELECT_ALL_SCHEMA"),EDIT_FIELD:(0,i.N)("dspace/metadata-registry/EDIT_FIELD"),CANCEL_EDIT_FIELD:(0,i.N)("dspace/metadata-registry/CANCEL_FIELD"),SELECT_FIELD:(0,i.N)("dspace/metadata-registry/SELECT_FIELD"),DESELECT_FIELD:(0,i.N)("dspace/metadata-registry/DESELECT_FIELD"),DESELECT_ALL_FIELD:(0,i.N)("dspace/metadata-registry/DESELECT_ALL_FIELD")};class u{constructor(T){this.type=t.EDIT_SCHEMA,this.schema=T}}class e{constructor(){this.type=t.CANCEL_EDIT_SCHEMA}}class h{constructor(T){this.type=t.SELECT_SCHEMA,this.schema=T}}class m{constructor(T){this.type=t.DESELECT_SCHEMA,this.schema=T}}class f{constructor(){this.type=t.DESELECT_ALL_SCHEMA}}class v{constructor(T){this.type=t.EDIT_FIELD,this.field=T}}class E{constructor(){this.type=t.CANCEL_EDIT_FIELD}}class _{constructor(T){this.type=t.SELECT_FIELD,this.field=T}}class C{constructor(T){this.type=t.DESELECT_FIELD,this.field=T}}class I{constructor(){this.type=t.DESELECT_ALL_FIELD}}},47483:(F,D,n)=>{"use strict";n.d(D,{P$:()=>E,b7:()=>I,iF:()=>v,jE:()=>e,p8:()=>f,uD:()=>h,z$:()=>m});var i=n(69799),t=n(45663),u=n(13275);const e="registries",h="notifications",m="ldn",f="reports",v="notify-dashboard";function E(){return new t.t((0,i.D6)(),e).toString()}function I(){return new t.t(`/${h}`,(0,u.wU)()).toString()}},9901:(F,D,n)=>{"use strict";n.d(D,{g:()=>C});var i=n(60177),t=n(7901),u=n(41780),e=n(82777),h=n(39548),m=n(19340),f=n(6446),v=n(75465),E=n(54438);const _=I=>({disabled:I});let C=(()=>{class I extends f.a{constructor(T,A,p,x){super(T,A,p),this.menuService=A,this.injector=p,this.router=x,this.menuID=m.D.ADMIN,this.itemModel=T.model}ngOnInit(){this.isDisabled=this.itemModel?.disabled||(0,e.Im)(this.itemModel?.link),super.ngOnInit()}navigate(T){T.preventDefault(),this.isDisabled||this.router.navigate(this.itemModel.link)}adminMenuSectionId(T){return`admin-menu-section-${T}`}adminMenuSectionTitleId(T){return`admin-menu-section-${T}-title`}static{this.\u0275fac=function(A){return new(A||I)(E.rXU("sectionDataProvider"),E.rXU(h.$),E.rXU(E.zZn),E.rXU(t.Ix))}}static{this.\u0275cmp=E.VBU({type:I,selectors:[["ds-admin-sidebar-section"]],standalone:!0,features:[E.Vt3,E.aNF],decls:10,vars:16,consts:[["role","menuitem","href","javascript:void(0);",1,"sidebar-section-wrapper",3,"keyup.space","keyup.enter","ngClass","routerLink"],["data-test","sidebar-section-icon","aria-hidden","true",1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item"],[3,"id"]],template:function(A,p){1&A&&(E.j41(0,"div")(1,"a",0),E.bIt("keyup.space",function(O){return p.navigate(O)})("keyup.enter",function(O){return p.navigate(O)}),E.j41(2,"div",1),E.nrm(3,"i"),E.k0s(),E.j41(4,"div",2)(5,"div",3)(6,"span",4),E.nI1(7,"dsBrowserOnly"),E.EFF(8),E.nI1(9,"translate"),E.k0s()()()()()),2&A&&(E.R7$(),E.Y8G("ngClass",E.eq3(14,_,p.isDisabled))("routerLink",p.itemModel.link),E.BMQ("aria-disabled",p.isDisabled)("aria-labelledby",p.adminMenuSectionTitleId(p.section.id)),E.R7$(2),E.ZvI("fas fa-",p.section.icon," fa-fw"),E.R7$(3),E.Y8G("id",p.adminMenuSectionTitleId(p.section.id)),E.BMQ("data-test",E.bMT(7,10,p.adminMenuSectionTitleId(p.section.id))),E.R7$(2),E.SpI(" ",E.bMT(9,12,p.itemModel.text)," "))},dependencies:[i.YU,t.Wk,u.h,u.D9,v.L]})}}return I})()},43832:(F,D,n)=>{"use strict";n.r(D),n.d(D,{AdminSidebarComponent:()=>z});var i=n(60177),t=n(58003),u=n(41780),e=n(84412),h=n(84572),m=n(61594),f=n(96354),v=n(70152),E=n(23294),_=n(53993),C=n(67116),I=n(65007),R=n(621),T=n(30458),A=n(39548),p=n(19340),x=n(1221),O=n(82522),w=n(75465),M=n(54438),L=n(7901);const B=(te,Z,J)=>({expanded:te,collapsed:Z,transitioning:J}),k=(te,Z)=>({collapsedWidth:te,expandedWidth:Z}),W=(te,Z)=>({value:te,params:Z});function U(te,Z){1&te&&M.eu8(0)}function K(te,Z){if(1&te&&(M.qex(0),M.DNE(1,U,1,0,"ng-container",16),M.nI1(2,"async"),M.nI1(3,"async"),M.bVm()),2&te){const J=Z.$implicit,Q=M.XpG(2);M.R7$(),M.Y8G("ngComponentOutlet",M.bMT(2,2,Q.sectionMap$).get(J.id).component)("ngComponentOutletInjector",M.bMT(3,4,Q.sectionMap$).get(J.id).injector)}}function Y(te,Z){1&te&&(M.nrm(0,"i",17),M.nI1(1,"translate")),2&te&&M.Y8G("title",M.bMT(1,1,"menu.section.icon.pin"))}function G(te,Z){1&te&&(M.nrm(0,"i",18),M.nI1(1,"translate")),2&te&&M.Y8G("title",M.bMT(1,1,"menu.section.icon.unpin"))}function q(te,Z){if(1&te){const J=M.RV6();M.j41(0,"nav",1),M.nI1(1,"async"),M.nI1(2,"async"),M.nI1(3,"async"),M.nI1(4,"translate"),M.bIt("@slideSidebar.done",function(ee){M.eBV(J);const le=M.XpG();return M.Njj(le.finishSlide(ee))})("@slideSidebar.start",function(ee){M.eBV(J);const le=M.XpG();return M.Njj(le.startSlide(ee))})("mouseenter",function(ee){M.eBV(J);const le=M.XpG();return M.Njj(le.handleMouseEnter(ee))})("mouseleave",function(ee){M.eBV(J);const le=M.XpG();return M.Njj(le.handleMouseLeave(ee))}),M.j41(5,"div",2)(6,"div",3)(7,"div",4),M.nrm(8,"img",5),M.nI1(9,"translate"),M.k0s(),M.j41(10,"div",6)(11,"div",7)(12,"h4",8),M.EFF(13),M.nI1(14,"translate"),M.k0s()()()()(),M.j41(15,"div",9)(16,"div",10),M.nI1(17,"translate"),M.DNE(18,K,4,6,"ng-container",11),M.nI1(19,"async"),M.k0s()(),M.j41(20,"div",12)(21,"a",13),M.nI1(22,"dsBrowserOnly"),M.bIt("click",function(ee){M.eBV(J);const le=M.XpG();return M.Njj(le.toggle(ee))})("keyup.space",function(ee){M.eBV(J);const le=M.XpG();return M.Njj(le.toggle(ee))}),M.j41(23,"div",4),M.DNE(24,Y,2,3,"i",14),M.nI1(25,"async"),M.DNE(26,G,2,3,"i",15),M.nI1(27,"async"),M.k0s(),M.j41(28,"div",6)(29,"div",7),M.EFF(30),M.nI1(31,"async"),M.nI1(32,"translate"),M.k0s()()()()()}if(2&te){const J=M.XpG();M.Y8G("ngClass",M.sMw(37,B,J.sidebarOpen,J.sidebarClosed,J.sidebarTransitioning))("@slideSidebar",M.l_i(44,W,!0!==M.bMT(1,11,J.sidebarExpanded)?"collapsed":"expanded",M.l_i(41,k,M.bMT(2,13,J.collapsedSidebarWidth$),M.bMT(3,15,J.expandedSidebarWidth$)))),M.BMQ("aria-label",M.bMT(4,17,"menu.header.nav.description")),M.R7$(8),M.Y8G("alt",M.bMT(9,19,"menu.header.image.logo")),M.R7$(5),M.JRh(M.bMT(14,21,"menu.header.admin")),M.R7$(3),M.BMQ("aria-label",M.bMT(17,23,"menu.header.admin.description")),M.R7$(2),M.Y8G("ngForOf",M.bMT(19,25,J.sections)),M.R7$(3),M.BMQ("data-test",M.bMT(22,27,"sidebar-collapse-toggle")),M.R7$(3),M.Y8G("ngIf",M.bMT(25,29,J.menuCollapsed)),M.R7$(2),M.Y8G("ngIf",!0!==M.bMT(27,31,J.menuCollapsed)),M.R7$(4),M.SpI(" ",M.bMT(32,35,M.bMT(31,33,J.menuCollapsed)?"menu.section.pin":"menu.section.unpin")," ")}}let z=(()=>{class te extends T.Z{constructor(J,Q,ee,le,ne,fe,se){super(J,Q,ne,fe,se),this.menuService=J,this.injector=Q,this.variableService=ee,this.authService=le,this.authorizationService=ne,this.route=fe,this.themeService=se,this.menuID=p.D.ADMIN,this.sidebarOpen=!0,this.sidebarClosed=!this.sidebarOpen,this.sidebarTransitioning=!this.sidebarOpen,this.inFocus$=new e.t(!1)}ngOnInit(){super.ngOnInit(),this.authService.isAuthenticated().subscribe(J=>{J&&this.menuService.showMenu(this.menuID)}),this.menuCollapsed.pipe((0,m.$)()).subscribe(J=>{this.sidebarOpen=!J,this.sidebarClosed=J}),this.sidebarExpanded=(0,h.z)([this.menuCollapsed,this.menuPreviewCollapsed]).pipe((0,f.T)(([J,Q])=>!J||!Q)),this.inFocus$.pipe((0,v.B)(50),(0,E.F)(),(0,_.E)((0,h.z)([this.menuCollapsed,this.menuPreviewCollapsed]))).subscribe(([J,[Q,ee]])=>{Q&&(J&&ee?this.expandPreview(new Event("focusin \u2192 expand")):!J&&!ee&&this.collapsePreview(new Event("focusout \u2192 collapse")))}),this.menuVisible=this.menuService.isMenuVisibleWithVisibleSections(this.menuID)}handleFocusIn(){this.inFocus$.next(!0)}handleFocusOut(){this.inFocus$.next(!1)}handleMouseEnter(J){this.inFocus$.getValue()?J.preventDefault():this.expandPreview(J)}handleMouseLeave(J){this.inFocus$.getValue()?J.preventDefault():this.collapsePreview(J)}startSlide(J){this.sidebarTransitioning=!0,"expanded"===J.toState?this.sidebarClosed=!1:"collapsed"===J.toState&&(this.sidebarOpen=!1)}finishSlide(J){this.sidebarTransitioning=!1,"expanded"===J.fromState?this.sidebarClosed=!0:"collapsed"===J.fromState&&(this.sidebarOpen=!0)}static{this.\u0275fac=function(Q){return new(Q||te)(M.rXU(A.$),M.rXU(M.zZn),M.rXU(x.J),M.rXU(C.uR),M.rXU(I.AuthorizationDataService),M.rXU(L.nX),M.rXU(O.Fs))}}static{this.\u0275cmp=M.VBU({type:te,selectors:[["ds-base-admin-sidebar"]],hostBindings:function(Q,ee){1&Q&&M.bIt("focusin",function(){return ee.handleFocusIn()})("focusout",function(){return ee.handleFocusOut()})},inputs:{expandedSidebarWidth$:"expandedSidebarWidth$",collapsedSidebarWidth$:"collapsedSidebarWidth$"},standalone:!0,features:[M.Vt3,M.aNF],decls:2,vars:3,consts:[["class","navbar navbar-dark p-0 vh-100","id","admin-sidebar",3,"ngClass","mouseenter","mouseleave",4,"ngIf"],["id","admin-sidebar",1,"navbar","navbar-dark","p-0","vh-100",3,"mouseenter","mouseleave","ngClass"],["id","sidebar-header-container","aria-hidden","true",1,"sidebar-full-width-container"],[1,"sidebar-section-wrapper"],[1,"sidebar-fixed-element-wrapper"],["id","admin-sidebar-logo","src","assets/images/dspace-logo-mini.svg","aria-hidden","true",3,"alt"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item"],[1,"my-1"],["id","sidebar-top-level-items-container",1,"sidebar-full-width-container"],["id","sidebar-top-level-items","role","menubar",1,"sidebar-full-width-container"],[4,"ngFor","ngForOf"],["id","sidebar-collapse-toggle-container",1,"sidebar-full-width-container"],["id","sidebar-collapse-toggle","href","javascript:void(0);",1,"sidebar-section-wrapper","sidebar-full-width-container",3,"click","keyup.space"],["class","fas fa-fw fa-angle-double-right",3,"title",4,"ngIf"],["class","fas fa-fw fa-angle-double-left",3,"title",4,"ngIf"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[1,"fas","fa-fw","fa-angle-double-right",3,"title"],[1,"fas","fa-fw","fa-angle-double-left",3,"title"]],template:function(Q,ee){1&Q&&(M.DNE(0,q,33,47,"nav",0),M.nI1(1,"async")),2&Q&&M.Y8G("ngIf",M.bMT(1,1,ee.menuVisible))},dependencies:[i.bT,t.zH,t.QE,i.YU,i.pM,i.OI,i.Jj,u.h,u.D9,w.L],styles:["[_nghost-%COMP%]{position:fixed;left:0;top:0;z-index:var(--ds-sidebar-z-index)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]{max-width:var(--ds-admin-sidebar-fixed-element-width);display:flex;flex-direction:column;flex-wrap:nowrap}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]{flex:1 1 auto;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:var(--ds-dark-scrollbar-width);height:3px}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-button{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--ds-dark-scrollbar-alt-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{height:50px;background-color:var(--ds-dark-scrollbar-fg);border-radius:3px}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background-color:var(--ds-dark-scrollbar-alt-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-resizer{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   img#admin-sidebar-logo[_ngcontent-%COMP%]{height:var(--ds-admin-sidebar-logo-height)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-full-width-container{width:100%;padding-left:0;padding-right:0;margin-left:0;margin-right:0}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-item{padding-top:var(--ds-admin-sidebar-item-padding);padding-bottom:var(--ds-admin-sidebar-item-padding)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-fixed-element-wrapper{min-width:var(--ds-admin-sidebar-fixed-element-width);flex:1 1 auto;display:flex;flex-direction:row;justify-content:center;align-items:center}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-collapsible-element-outer-wrapper{display:flex;flex-wrap:wrap;justify-content:flex-end;max-width:calc(100% - var(--ds-admin-sidebar-fixed-element-width));padding-left:var(--ds-dark-scrollbar-width);overflow-x:hidden}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-collapsible-element-outer-wrapper>.sidebar-collapsible-element-inner-wrapper{min-width:calc(var(--ds-admin-sidebar-collapsible-element-width) - var(--ds-dark-scrollbar-width));height:100%;padding-right:var(--ds-admin-sidebar-item-padding)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]    {color:#fff}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a{color:var(--ds-admin-sidebar-link-color);text-decoration:none}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a:hover, [_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a:focus{color:var(--ds-admin-sidebar-link-hover-color)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-header-container[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-header-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-header-container[_ngcontent-%COMP%]   .sidebar-fixed-element-wrapper[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-header-bg)}  .browser-firefox-windows{--ds-dark-scrollbar-width: 20px}"],data:{animation:[R.ck]}})}}return te})()},99452:(F,D,n)=>{"use strict";n.d(D,{W:()=>U});var i=n(60177),t=n(41780),u=n(84572),e=n(96354),h=n(49969);const m=(0,h.iF)({backgroundColor:"{{ startColor }}"}),f=(0,h.iF)({backgroundColor:"{{ endColor }}"}),v=(0,h.hZ)("bgColor",[(0,h.wk)("startBackground",m,{params:{startColor:"*"}}),(0,h.wk)("endBackground",f,{params:{endColor:"*"}}),(0,h.kY)("startBackground <=> endBackground",(0,h.Os)([(0,h.P)("@*",(0,h.MA)()),(0,h.i0)("200ms")]))]);var E=n(68681),_=n(621),C=n(39548),I=n(19340),R=n(1221),T=n(75465),A=n(9901),p=n(54438),x=n(7901);const O=K=>({expanded:K}),w=K=>({endColor:K}),M=(K,Y)=>({value:K,params:Y});function L(K,Y){1&K&&p.eu8(0)}function B(K,Y){1&K&&p.eu8(0)}function k(K,Y){if(1&K&&(p.j41(0,"div",14),p.DNE(1,B,1,0,"ng-container",6),p.nI1(2,"async"),p.nI1(3,"async"),p.k0s()),2&K){const G=Y.$implicit,q=p.XpG(2);p.R7$(),p.Y8G("ngComponentOutlet",p.bMT(2,2,q.sectionMap$).get(G.id).component)("ngComponentOutletInjector",p.bMT(3,4,q.sectionMap$).get(G.id).injector)}}function W(K,Y){if(1&K&&(p.j41(0,"div",9),p.nrm(1,"div",10),p.j41(2,"div",3)(3,"div",11)(4,"div",12),p.nI1(5,"translate"),p.DNE(6,k,4,6,"div",13),p.nI1(7,"async"),p.k0s()()()()),2&K){const G=p.XpG();p.Y8G("@slide",void 0),p.R7$(4),p.Y8G("id",G.adminMenuSectionId(G.section.id)),p.BMQ("aria-label",p.bMT(5,4,"menu.section."+G.section.id)),p.R7$(2),p.Y8G("ngForOf",p.bMT(7,6,G.subSections$))}}let U=(()=>{class K extends A.g{constructor(G,q,z,te,Z){super(G,q,te,Z),this.menuService=q,this.variableService=z,this.injector=te,this.router=Z,this.menuID=I.D.ADMIN}ngOnInit(){super.ngOnInit(),this.sidebarActiveBg$=this.variableService.getVariable("--ds-admin-sidebar-active-bg"),this.isSidebarCollapsed$=this.menuService.isMenuCollapsed(this.menuID),this.isSidebarPreviewCollapsed$=this.menuService.isMenuPreviewCollapsed(this.menuID),this.isExpanded$=(0,u.z)([this.active$,this.isSidebarCollapsed$,this.isSidebarPreviewCollapsed$]).pipe((0,e.T)(([G,q,z])=>G&&(!q||!z)))}toggleSection(G){this.menuService.expandMenuPreview(this.menuID),super.toggleSection(G)}adminMenuSubsectionId(G,q){return`admin-menu-section-${G}-${q}`}static{this.\u0275fac=function(q){return new(q||K)(p.rXU("sectionDataProvider"),p.rXU(C.$),p.rXU(R.J),p.rXU(p.zZn),p.rXU(x.Ix))}}static{this.\u0275cmp=p.VBU({type:K,selectors:[["ds-expandable-admin-sidebar-section"]],standalone:!0,features:[p.Vt3,p.aNF],decls:20,vars:43,consts:[[3,"ngClass"],["role","menuitem","tabindex","0","aria-haspopup","menu","href","javascript:void(0);",1,"sidebar-section-wrapper",3,"click","keyup.space"],["data-test","sidebar-section-icon","aria-hidden","true",1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item","toggler-wrapper"],[3,"id"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["aria-hidden","true",1,"fas","fa-chevron-right","fa-xs"],["class","sidebar-section-wrapper subsection",4,"ngIf"],[1,"sidebar-section-wrapper","subsection"],[1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper"],["role","menu",1,"sidebar-sub-level-item-list",3,"id"],["class","sidebar-item",4,"ngFor","ngForOf"],[1,"sidebar-item"]],template:function(q,z){1&q&&(p.j41(0,"div",0),p.nI1(1,"async"),p.nI1(2,"async"),p.nI1(3,"async"),p.j41(4,"a",1),p.nI1(5,"async"),p.nI1(6,"translate"),p.bIt("click",function(Z){return z.toggleSection(Z)})("keyup.space",function(Z){return z.toggleSection(Z)}),p.j41(7,"div",2),p.nrm(8,"i"),p.k0s(),p.j41(9,"div",3)(10,"div",4)(11,"span",5),p.nI1(12,"dsBrowserOnly"),p.DNE(13,L,1,0,"ng-container",6),p.nI1(14,"async"),p.nI1(15,"async"),p.k0s(),p.nrm(16,"i",7),p.nI1(17,"async"),p.k0s()()(),p.DNE(18,W,8,8,"div",8),p.nI1(19,"async"),p.k0s()),2&q&&(p.Y8G("ngClass",p.eq3(36,O,p.bMT(1,16,z.isExpanded$)))("@bgColor",p.l_i(40,M,p.bMT(2,18,z.isExpanded$)?"endBackground":"startBackground",p.eq3(38,w,p.bMT(3,20,z.sidebarActiveBg$)))),p.R7$(4),p.AVh("disabled",null==z.section.model?null:z.section.model.disabled),p.BMQ("aria-controls",z.adminMenuSectionId(z.section.id))("aria-expanded",p.bMT(5,22,z.isExpanded$))("aria-label",p.bMT(6,24,"menu.section.toggle."+z.section.id)),p.R7$(4),p.ZvI("fas fa-",z.section.icon," fa-fw"),p.R7$(3),p.Y8G("id",z.adminMenuSectionTitleId(z.section.id)),p.BMQ("data-test",p.bMT(12,26,z.adminMenuSectionTitleId(z.section.id))),p.R7$(2),p.Y8G("ngComponentOutlet",p.bMT(14,28,z.sectionMap$).get(z.section.id).component)("ngComponentOutletInjector",p.bMT(15,30,z.sectionMap$).get(z.section.id).injector),p.R7$(3),p.Y8G("@rotate",p.bMT(17,32,z.isExpanded$)?"expanded":"collapsed"),p.R7$(2),p.Y8G("ngIf",p.bMT(19,34,z.isExpanded$)))},dependencies:[i.YU,i.OI,i.bT,i.pM,i.Jj,t.h,t.D9,T.L],styles:["[_nghost-%COMP%]   .sidebar-sub-level-item-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}[_nghost-%COMP%]   .sidebar-sub-level-item-list[_ngcontent-%COMP%]     .ds-menu-item{margin-left:var(--ds-admin-sidebar-section-indent)}[_nghost-%COMP%]   .toggler-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .subsection[_ngcontent-%COMP%]   .sidebar-collapsible-element-inner-wrapper[_ngcontent-%COMP%]{overflow-y:hidden}"],data:{animation:[E.e$,_.M6,v]}})}}return K})()},61242:(F,D,n)=>{"use strict";n.d(D,{u:()=>m});var i=n(8886),u=(n(43832),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["collapsedSidebarWidth$","expandedSidebarWidth$"]}getComponentName(){return"AdminSidebarComponent"}importThemedComponent(E){return n(48832)(`./${E}/app/admin/admin-sidebar/admin-sidebar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,43832))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-admin-sidebar"]],inputs:{expandedSidebarWidth$:"expandedSidebarWidth$",collapsedSidebarWidth$:"collapsedSidebarWidth$"},standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},69799:(F,D,n)=>{"use strict";n.d(D,{D6:()=>x,Do:()=>L,EI:()=>De,ET:()=>R,EX:()=>Z,Eo:()=>T,Ep:()=>le,H_:()=>_,N2:()=>Q,OC:()=>q,Q:()=>U,RC:()=>ee,RD:()=>te,RZ:()=>ce,Th:()=>w,UP:()=>fe,Vv:()=>W,XG:()=>se,al:()=>k,bZ:()=>z,cp:()=>Y,dF:()=>C,e_:()=>ne,gf:()=>re,hV:()=>I,il:()=>M,l2:()=>E,lH:()=>be,n:()=>J,pU:()=>p,pX:()=>O,sB:()=>A,sT:()=>B,wN:()=>G});var i=n(64611),t=n(54671),u=n(6041),e=n(10046),h=n(88318),m=n(45663),f=n(90887),v=n(82777);const E="bitstreams",_="bitstream";function C(){return`/${E}`}function I(ht){return new m.t(C(),ht.uuid,"download").toString()}function R(ht,Fe){return{routerLink:new m.t((0,f.Fy)(),ht.uuid,"request-a-copy").toString(),queryParams:{bitstream:Fe.uuid}}}const T="home";function A(){return`/${T}`}const p="admin";function x(){return`/${p}`}const O="profile";function w(){return`/${O}`}const M="register";function L(){return`/${M}`}const B="forgot";function k(){return`/${B}`}const W="workflowitems";function U(){return`/${W}`}const K="workspaceitems";function Y(){return`/${K}`}function G(ht){if((0,v.a4)(ht))switch(ht.type){case e.E.type.value:return(0,t.c5)(ht.uuid);case u.p.type.value:return(0,i.JW)(ht.uuid);case h.q.type.value:return(0,f._o)(ht)}}const q="403";function z(){return`/${q}`}const te="404";function Z(){return`/${te}`}const J="500";function Q(){return`/${J}`}const ee="error",le="info";function ne(){return`/${le}`}const fe="access-control";function se(){return`/${fe}`}const ce="request-a-copy";function De(){return`/${ce}`}const be="health",me="subscriptions";function re(){return`/${me}`}},195:(F,D,n)=>{"use strict";n.d(D,{rd:()=>Tn,pc:()=>Zn,ox:()=>Bn,wP:()=>wn});var i=n(20766),t=n(25499),u=n(19353);const e={editEPerson:null};var m=n(85255);const f={editGroup:null};var E=n(86628);const _={editSchema:null,selectedSchemas:[],editField:null,selectedFields:[]},R_SAVE=(0,n(91e3).N)("dspace/community-list-page/SAVE"),A={expandedNodes:[],loadingNode:null};var x=n(10110),M=n(55116);const L={allIconsVisible:!1,models:{}};function k(ct,vt,pn){const{[vt]:Nn,...Jn}=ct.models,cs={...Jn,[vt]:{...Nn,isTooltipVisible:pn(Nn.isTooltipVisible)}};return{...ct,models:cs}}var W=n(82777),U=n(94337);function Y(ct,vt,pn){return Object.assign({},ct,{[vt]:pn})}var G=n(48125),q=n.n(G),z=n(63448),te=n.n(z),Z=n(32710);const J=Object.create(null);var me=n(19340);const re={[me.D.ADMIN]:{id:me.D.ADMIN,collapsed:!0,previewCollapsed:!0,visible:!1,sections:{},sectionToSubsectionIndex:{}},[me.D.PUBLIC]:{id:me.D.PUBLIC,collapsed:!0,previewCollapsed:!0,visible:!0,sections:{},sectionToSubsectionIndex:{}},[me.D.DSO_EDIT]:{id:me.D.DSO_EDIT,collapsed:!0,previewCollapsed:!0,visible:!1,sections:{},sectionToSubsectionIndex:{}}};var Ee=n(54476);function Gt(ct,vt,pn){const Nn=ct[vt.menuID],Jn=Object.assign({},Nn.sections,{[pn.id]:pn}),Gs=Object.assign({},Nn,{sections:Jn});return Object.assign({},ct,{[vt.menuID]:Gs})}function Zt(ct,vt,pn){const Jn=ct[vt.menuID].sections[vt.id];return(0,W.a4)(Jn)?Gt(ct,vt,Object.assign({},Jn,pn)):ct}var mt=n(11568);const Pt=[];var ut=n(61281);function nn(ct){return{id:ct,selection:[]}}function gn(ct,vt){return ct.findIndex(pn=>pn.equals(vt))>=0}var It=n(65580);const zt=Object.create(null);var wt=n(18757);const bt=Object.create({});var Dt=n(65354);const Ft={width:null,height:null};var xe=n(22180);const Ve=Object.create(null);var Be=n(52680);const At={sidebarCollapsed:!0};var st=n(15314);const ke={currentTheme:null};var dt=n(26500);const St=Object.create(null),Tn={router:i.C_,hostWindow:function ot(ct=Ft,vt){return vt.type===Dt.O.RESIZE?Object.assign({},ct,vt.payload):ct},forms:function Q(ct=J,vt){switch(vt.type){case Z.AI.FORM_INIT:return function fe(ct,vt){const pn={data:vt.payload.formData,valid:vt.payload.valid,touched:{},errors:[]};if((0,W.a4)(ct[vt.payload.formId])){const Nn=Object.assign({},ct);return Nn[vt.payload.formId]=Object.assign({},Nn[vt.payload.formId],pn),Nn}return Object.assign({},ct,{[vt.payload.formId]:pn})}(ct,vt);case Z.AI.FORM_CHANGE:return function se(ct,vt){if((0,W.a4)(ct[vt.payload.formId])){const pn=Object.assign({},ct);return pn[vt.payload.formId]=Object.assign({},pn[vt.payload.formId],{data:vt.payload.formData,valid:ct[vt.payload.formId].valid}),pn}return ct}(ct,vt);case Z.AI.FORM_ADD_TOUCHED:return function be(ct,vt){if((0,W.a4)(ct[vt.payload.formId])){const pn=Object.assign({},ct),Nn=Object.assign({},pn[vt.payload.formId]);return pn[vt.payload.formId]=Nn,Nn.touched={...Nn.touched},vt.payload.touched.forEach(Jn=>Nn.touched[Jn]=!0),pn}return ct}(ct,vt);case Z.AI.FORM_REMOVE:return function De(ct,vt){if((0,W.a4)(ct[vt.payload.formId])){const pn=Object.assign({},ct);return delete pn[vt.payload.formId],pn}return ct}(ct,vt);case Z.AI.FORM_STATUS_CHANGE:return function ce(ct,vt){if((0,W.a4)(ct[vt.payload.formId])){const pn=Object.assign({},ct);return pn[vt.payload.formId]=Object.assign({},pn[vt.payload.formId],{data:ct[vt.payload.formId].data,valid:vt.payload.valid}),pn}return Object.assign({},ct,{[vt.payload.formId]:{data:ct[vt.payload.formId].data,valid:vt.payload.valid}})}(ct,vt);case Z.AI.FORM_ADD_ERROR:return function ee(ct,vt){const pn=vt.payload.formId;if((0,W.a4)(ct[pn])){const Nn={fieldId:vt.payload.fieldId,fieldIndex:vt.payload.fieldIndex,message:vt.payload.errorMessage},Jn=vt.payload.fieldId.replace(/\_/g,"."),Gs=Object.assign({},ct[pn].touched,{[Jn]:!0});return Object.assign({},ct,{[pn]:{data:ct[pn].data,valid:ct[pn].valid,errors:ct[pn].errors?te()(ct[pn].errors.concat(Nn),q()):[].concat(Nn),touched:Gs}})}return ct}(ct,vt);case Z.AI.FORM_REMOVE_ERROR:return function le(ct,vt){const pn=vt.payload.formId,Nn=vt.payload.fieldId,Jn=vt.payload.fieldIndex;if((0,W.a4)(ct[pn])){const Gs=ct[pn].errors.filter(Cs=>Cs.fieldId!==Nn||Cs.fieldIndex!==Jn),cs=Object.assign({},ct);return cs[pn]=Object.assign({},ct[pn],{errors:Gs}),cs}return ct}(ct,vt);case Z.AI.FORM_CLEAR_ERRORS:return function ne(ct,vt){const pn=vt.payload.formId;if((0,W.a4)(ct[pn])){const Nn=[],Jn=Object.assign({},ct);return Jn[pn]=Object.assign({},ct[pn],{errors:Nn}),Jn}return ct}(ct,vt);default:return ct}},metadataRegistry:function C(ct=_,vt){switch(vt.type){case E.Kt.EDIT_SCHEMA:return Object.assign({},ct,{editSchema:vt.schema});case E.Kt.CANCEL_EDIT_SCHEMA:return Object.assign({},ct,{editSchema:null});case E.Kt.SELECT_SCHEMA:return Object.assign({},ct,{selectedSchemas:[...ct.selectedSchemas,vt.schema]});case E.Kt.DESELECT_SCHEMA:return Object.assign({},ct,{selectedSchemas:ct.selectedSchemas.filter(pn=>pn!==vt.schema)});case E.Kt.DESELECT_ALL_SCHEMA:return Object.assign({},ct,{selectedSchemas:[]});case E.Kt.EDIT_FIELD:return Object.assign({},ct,{editField:vt.field});case E.Kt.CANCEL_EDIT_FIELD:return Object.assign({},ct,{editField:null});case E.Kt.SELECT_FIELD:return Object.assign({},ct,{selectedFields:[...ct.selectedFields,vt.field]});case E.Kt.DESELECT_FIELD:return Object.assign({},ct,{selectedFields:ct.selectedFields.filter(pn=>pn!==vt.field)});case E.Kt.DESELECT_ALL_FIELD:return Object.assign({},ct,{selectedFields:[]});default:return ct}},notifications:function Ce(ct=Pt,vt){switch(vt.type){case mt.Is.NEW_NOTIFICATION:return[...ct,vt.payload];case mt.Is.REMOVE_ALL_NOTIFICATIONS:return[];case mt.Is.REMOVE_NOTIFICATION:return((ct,vt)=>ct.filter(pn=>pn.id!==vt.payload))(ct,vt);default:return ct}},sidebar:function Qe(ct=At,vt){switch(vt.type){case Be.Kd.COLLAPSE:return Object.assign({},ct,{sidebarCollapsed:!0});case Be.Kd.EXPAND:return Object.assign({},ct,{sidebarCollapsed:!1});case Be.Kd.TOGGLE:return Object.assign({},ct,{sidebarCollapsed:!ct.sidebarCollapsed});default:return ct}},searchFilter:function Ke(ct=Ve,vt){switch(vt.type){case xe.y$.INITIALIZE:return Object.assign({},ct,{[vt.filterName]:{filterCollapsed:!vt.initiallyExpanded,minimized:!1,page:1}});case xe.y$.COLLAPSE:return Object.assign({},ct,{[vt.filterName]:{filterCollapsed:!0,minimized:ct[vt.filterName].minimized,page:ct[vt.filterName].page}});case xe.y$.EXPAND:return Object.assign({},ct,{[vt.filterName]:{filterCollapsed:!1,minimized:ct[vt.filterName].minimized,page:ct[vt.filterName].page}});case xe.y$.DECREMENT_PAGE:{const pn=ct[vt.filterName].page-1;return Object.assign({},ct,{[vt.filterName]:{filterCollapsed:ct[vt.filterName].filterCollapsed,minimized:ct[vt.filterName].minimized,page:pn>=1?pn:1}})}case xe.y$.INCREMENT_PAGE:return Object.assign({},ct,{[vt.filterName]:{filterCollapsed:ct[vt.filterName].filterCollapsed,minimized:ct[vt.filterName].minimized,page:ct[vt.filterName].page+1}});case xe.y$.MINIMIZE_ALL:return Object.assign({},...Object.entries(ct).map(([pn,Nn])=>({[pn]:{...Nn,minimized:!0}})));case xe.y$.RESET_PAGE:return Object.assign({},ct,{[vt.filterName]:{filterCollapsed:ct[vt.filterName].filterCollapsed,minimized:!1,page:1}});case xe.y$.TOGGLE:return Object.assign({},ct,{[vt.filterName]:{filterCollapsed:!ct[vt.filterName].filterCollapsed,minimized:ct[vt.filterName].minimized,page:ct[vt.filterName].page}});default:return ct}},truncatable:function ln(ct=St,vt){switch(vt.type){case dt.VR.COLLAPSE:return Object.assign({},ct,{[vt.id]:{collapsed:!0}});case dt.VR.EXPAND:return Object.assign({},ct,{[vt.id]:{collapsed:!1}});case dt.VR.TOGGLE:return ct[vt.id]||(ct[vt.id]={collapsed:!1}),Object.assign({},ct,{[vt.id]:{collapsed:!ct[vt.id].collapsed}});default:return ct}},cssVariables:function Jt(ct=bt,vt){switch(vt.type){case wt.$s.ADD:{const pn=vt.payload;return Object.assign({},ct,{[pn.name]:pn.value})}case wt.$s.ADD_ALL:return Object.assign({},ct,...vt.payload.map(({key:Nn,value:Jn})=>({[Nn]:Jn})));case wt.$s.CLEAR:return bt;default:return ct}},theme:function Le(ct=ke,vt){return vt.type===st.t.SET?{currentTheme:vt.payload.name}:ct},menus:function Te(ct=re,vt){switch(vt.type){case Ee.jZ.COLLAPSE_MENU:{const pn=Object.assign({},ct[vt.menuID],{collapsed:!0});return Object.assign({},ct,{[vt.menuID]:pn})}case Ee.jZ.EXPAND_MENU:{const pn=Object.assign({},ct[vt.menuID],{collapsed:!1});return Object.assign({},ct,{[vt.menuID]:pn})}case Ee.jZ.COLLAPSE_MENU_PREVIEW:{const pn=Object.assign({},ct[vt.menuID],{previewCollapsed:!0});return Object.assign({},ct,{[vt.menuID]:pn})}case Ee.jZ.EXPAND_MENU_PREVIEW:{const pn=Object.assign({},ct[vt.menuID],{previewCollapsed:!1});return Object.assign({},ct,{[vt.menuID]:pn})}case Ee.jZ.TOGGLE_MENU:{const pn=ct[vt.menuID],Nn=Object.assign({},pn,{collapsed:!pn.collapsed});return Object.assign({},ct,{[vt.menuID]:Nn})}case Ee.jZ.SHOW_MENU:{const pn=Object.assign({},ct[vt.menuID],{visible:!0});return Object.assign({},ct,{[vt.menuID]:pn})}case Ee.jZ.HIDE_MENU:{const pn=Object.assign({},ct[vt.menuID],{visible:!1});return Object.assign({},ct,{[vt.menuID]:pn})}case Ee.jZ.REINIT_MENUS:return Object.assign({},re);case Ee.jZ.ADD_SECTION:return function tt(ct,vt){return function ht(ct,vt){const pn=ct[vt.menuID],Nn={},Jn={};Object.values(pn.sections).sort((cs,Cs)=>(cs.index||0)-(Cs.index||0)).forEach(cs=>{if(Nn[cs.id]=cs,(0,W.a4)(cs.parentID)){const Cs=(0,W.a4)(Jn[cs.parentID])?Jn[cs.parentID]:[];Jn[cs.parentID]=[...Cs,cs.id]}});const Gs=Object.assign({},pn,{sections:Nn,sectionToSubsectionIndex:Jn});return Object.assign({},ct,{[vt.menuID]:Gs})}(Gt(ct,vt,vt.section),vt)}(ct,vt);case Ee.jZ.REMOVE_SECTION:return function Fe(ct,vt){const Nn=vt.id,Jn=function Et(ct,vt,pn){const Nn=vt.id,Jn=vt.parentID;if((0,W.a4)(Jn)){const Gs=ct[pn],cs=Gs.sectionToSubsectionIndex,Cs=(0,W.a4)(cs[Jn])?cs[Jn]:[],ds=Object.assign({},cs,{[Jn]:Cs.filter(En=>En!==Nn)}),dn=Object.assign({},Gs,{sectionToSubsectionIndex:ds});return Object.assign({},ct,{[pn]:dn})}return ct}(ct,ct[vt.menuID].sections[vt.id],vt.menuID),Gs=Object.assign({},Jn[vt.menuID],{sections:Object.assign({},Jn[vt.menuID].sections)});return delete Gs.sections[Nn],Object.assign({},Jn,{[vt.menuID]:Gs})}(ct,vt);case Ee.jZ.ACTIVATE_SECTION:return function Ne(ct,vt){if((0,W.a4)(ct[vt.menuID].sections[vt.id]))return Zt(ct,vt,{active:!0})}(ct,vt);case Ee.jZ.DEACTIVATE_SECTION:return function Mt(ct,vt){if((0,W.a4)(ct[vt.menuID].sections[vt.id]))return Zt(ct,vt,{active:!1})}(ct,vt);case Ee.jZ.TOGGLE_ACTIVE_SECTION:return function rt(ct,vt){const pn=ct[vt.menuID].sections[vt.id];return(0,W.a4)(pn)?Zt(ct,vt,{active:!pn.active}):ct}(ct,vt);case Ee.jZ.HIDE_SECTION:return function Ye(ct,vt){return Zt(ct,vt,{visible:!1})}(ct,vt);case Ee.jZ.SHOW_SECTION:return function pt(ct,vt){return Zt(ct,vt,{visible:!0})}(ct,vt);default:return ct}},objectSelection:function Yt(ct=zt,vt){switch(vt.type){case It.T8.INITIAL_SELECT:return(0,W.Im)(ct)||(0,W.Im)(ct[vt.key])||(0,W.Im)(ct[vt.key][vt.id])?Object.assign({},ct,{[vt.key]:Object.assign({},ct[vt.key],{[vt.id]:{checked:!0}})}):ct;case It.T8.INITIAL_DESELECT:return(0,W.Im)(ct)||(0,W.Im)(ct[vt.key])||(0,W.Im)(ct[vt.key][vt.id])?Object.assign({},ct,{[vt.key]:Object.assign({},ct[vt.key],{[vt.id]:{checked:!1}})}):ct;case It.T8.SELECT:return Object.assign({},ct,{[vt.key]:Object.assign({},ct[vt.key],{[vt.id]:{checked:!0}})});case It.T8.DESELECT:return Object.assign({},ct,{[vt.key]:Object.assign({},ct[vt.key],{[vt.id]:{checked:!1}})});case It.T8.SWITCH:return Object.assign({},ct,{[vt.key]:Object.assign({},ct[vt.key],{[vt.id]:{checked:!!((0,W.Im)(ct)||(0,W.Im)(ct[vt.key])||(0,W.Im)(ct[vt.key][vt.id]))||!ct[vt.key][vt.id].checked}})});case It.T8.RESET:return(0,W.Im)(vt.key)?{}:Object.assign({},ct,{[vt.key]:{}});default:return ct}},selectableLists:function hn(ct={},vt){const pn=ct[vt.id]||nn(vt.id);switch(vt.type){case ut.Sg.SELECT:{const Nn=function an(ct,vt){const pn=vt.payload.filter(Jn=>!gn(ct.selection,Jn)),Nn=[...ct.selection,...pn];return Object.assign({},ct,{selection:Nn})}(pn,vt);return Object.assign({},ct,{[vt.id]:Nn})}case ut.Sg.SELECT_SINGLE:{const Nn=function Pn(ct,vt){let pn=ct.selection;return gn(ct.selection,vt.payload.object)||(pn=[...ct.selection,vt.payload.object]),Object.assign({},ct,{selection:pn})}(pn,vt);return Object.assign({},ct,{[vt.id]:Nn})}case ut.Sg.DESELECT:{const Nn=function yt(ct,vt){const pn=ct.selection.filter(Nn=>(0,W.Tn)(vt.payload.find(Jn=>Jn.equals(Nn))));return Object.assign({},ct,{selection:pn})}(pn,vt);return Object.assign({},ct,{[vt.id]:Nn})}case ut.Sg.DESELECT_SINGLE:{const Nn=function Kt(ct,vt){const pn=ct.selection.filter(Nn=>!Nn.equals(vt.payload));return Object.assign({},ct,{selection:pn})}(pn,vt);return Object.assign({},ct,{[vt.id]:Nn})}case ut.Sg.SET_SELECTION:{const Nn=function Rt(ct,vt){return Object.assign({},ct,{selection:vt.payload})}(pn,vt);return Object.assign({},ct,{[vt.id]:Nn})}case ut.Sg.DESELECT_ALL:{const Nn=nn(vt.id);return Object.assign({},ct,{[vt.id]:Nn})}default:return ct}},relationshipLists:function K(ct={},vt){switch(vt.type){case U.SF.SET_NAME_VARIANT:{const Jn=Y(ct[vt.payload.listID]||{},vt.payload.itemID,vt.payload.nameVariant);return Object.assign({},ct,{[vt.payload.listID]:Jn})}case U.SF.REMOVE_NAME_VARIANT:{const pn=ct[vt.payload.listID];if((0,W.a4)(pn)&&(0,W.a4)(pn[vt.payload.itemID])){const Nn=Y(pn,vt.payload.itemID,void 0);return Object.assign({},ct,{[vt.payload.listID]:Nn})}return ct}default:return ct}},communityList:function p(ct=A,vt){return vt.type===R_SAVE?Object.assign({},ct,{expandedNodes:vt.payload.expandedNodes,loadingNode:vt.payload.loadingNode}):ct},epeopleRegistry:function h(ct=e,vt){switch(vt.type){case u.bA.EDIT_EPERSON:return Object.assign({},ct,{editEPerson:vt.eperson});case u.bA.CANCEL_EDIT_EPERSON:return Object.assign({},ct,{editEPerson:null});default:return ct}},groupRegistry:function v(ct=f,vt){switch(vt.type){case m.O3.EDIT_GROUP:return Object.assign({},ct,{editGroup:vt.group});case m.O3.CANCEL_EDIT_GROUP:return Object.assign({},ct,{editGroup:null});default:return ct}},correlationId:(ct=null,vt)=>vt.type===x.N.SET?vt.payload:ct,contextHelp:function B(ct=L,vt){switch(vt.type){case M.y5.CONTEXT_HELP_TOGGLE_ICONS:return{...ct,allIconsVisible:!ct.allIconsVisible};case M.y5.CONTEXT_HELP_ADD:{const pn={...ct.models,[vt.model.id]:vt.model};return{...ct,models:pn}}case M.y5.CONTEXT_HELP_REMOVE:{const{[vt.id]:pn,...Nn}=ct.models;return{...ct,models:Nn}}case M.y5.CONTEXT_HELP_TOGGLE_TOOLTIP:return k(ct,vt.id,pn=>!pn);case M.y5.CONTEXT_HELP_SHOW_TOOLTIP:return k(ct,vt.id,pn=>!0);case M.y5.CONTEXT_HELP_HIDE_TOOLTIP:return k(ct,vt.id,pn=>!1);default:return ct}}},Bn=ct=>ct.router;function Zn(ct,vt){return(0,t.Mz)(vt,pn=>{if((0,W.a4)(pn))return pn[ct]})}const wn={runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0}}},87832:(F,D,n)=>{"use strict";n.r(D),n.d(D,{BreadcrumbsComponent:()=>p});var i=n(60177),t=n(7901),u=n(58003),e=n(41780),h=n(18226),m=n(54438),f=n(87152);const v=()=>({text:"home.breadcrumbs",url:"/"});function E(x,O){1&x&&m.eu8(0)}function _(x,O){1&x&&m.eu8(0)}function C(x,O){if(1&x&&(m.qex(0),m.DNE(1,_,1,0,"ng-container",6),m.bVm()),2&x){const w=O.$implicit,M=O.last;m.XpG(2);const L=m.sdS(4),B=m.sdS(6);m.R7$(),m.Y8G("ngTemplateOutlet",M?B:L)("ngTemplateOutletContext",w)}}function I(x,O){if(1&x&&(m.j41(0,"nav",4)(1,"ol",5),m.DNE(2,E,1,0,"ng-container",6)(3,C,2,2,"ng-container",7),m.k0s()()),2&x){const w=m.XpG().ngVar,M=m.sdS(4),L=m.sdS(6);m.R7$(2),m.Y8G("ngTemplateOutlet",(null==w?null:w.length)>0?M:L)("ngTemplateOutletContext",m.lJ4(3,v)),m.R7$(),m.Y8G("ngForOf",w)}}function R(x,O){if(1&x&&(m.j41(0,"li",8)(1,"div",9)(2,"a",10),m.nI1(3,"translate"),m.EFF(4),m.nI1(5,"translate"),m.k0s()()()),2&x){const w=O.text,M=O.url;m.R7$(2),m.Y8G("routerLink",M)("ngbTooltip",m.bMT(3,3,w)),m.R7$(2),m.JRh(m.bMT(5,5,w))}}function T(x,O){if(1&x&&(m.j41(0,"li",11)(1,"div",9)(2,"div",12),m.EFF(3),m.nI1(4,"translate"),m.k0s()()()),2&x){const w=O.text;m.R7$(3),m.JRh(m.bMT(4,1,w))}}function A(x,O){if(1&x&&(m.qex(0),m.DNE(1,I,4,4,"nav",3),m.nI1(2,"async"),m.DNE(3,R,6,7,"ng-template",null,0,m.C5r)(5,T,5,3,"ng-template",null,1,m.C5r),m.bVm()),2&x){const w=m.XpG();m.R7$(),m.Y8G("ngIf",m.bMT(2,1,w.showBreadcrumbs$))}}let p=(()=>{class x{constructor(w){this.breadcrumbsService=w,this.breadcrumbs$=w.breadcrumbs$,this.showBreadcrumbs$=w.showBreadcrumbs$}static{this.\u0275fac=function(M){return new(M||x)(m.rXU(f.E))}}static{this.\u0275cmp=m.VBU({type:x,selectors:[["ds-base-breadcrumbs"]],standalone:!0,features:[m.aNF],decls:2,vars:3,consts:[["breadcrumb",""],["activeBreadcrumb",""],[4,"ngVar"],["aria-label","breadcrumb","class","nav-breadcrumb",4,"ngIf"],["aria-label","breadcrumb",1,"nav-breadcrumb"],[1,"container","breadcrumb","my-0"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"breadcrumb-item"],[1,"breadcrumb-item-limiter"],["placement","bottom",1,"text-truncate",3,"routerLink","ngbTooltip"],["aria-current","page",1,"breadcrumb-item","active"],[1,"text-truncate"]],template:function(M,L){1&M&&(m.DNE(0,A,7,3,"ng-container",2),m.nI1(1,"async")),2&M&&m.Y8G("ngVar",m.bMT(1,1,L.breadcrumbs$))},dependencies:[h.r,i.bT,i.T3,i.pM,t.Wk,u.n8,u.md,i.Jj,e.h,e.D9],styles:['@charset "UTF-8";.nav-breadcrumb[_ngcontent-%COMP%]{background-color:var(--ds-breadcrumb-bg)}.breadcrumb[_ngcontent-%COMP%]{border-radius:0;padding-bottom:calc(var(--ds-content-spacing) / 2);padding-top:calc(var(--ds-content-spacing) / 2);background-color:var(--ds-breadcrumb-bg);padding-left:calc(var(--bs-spacer) * .75);padding-right:calc(var(--bs-spacer) * .75)}li.breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb-item-limiter[_ngcontent-%COMP%]{display:inline-block;max-width:var(--ds-breadcrumb-max-length)}.breadcrumb-item-limiter[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;display:block}li.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ds-breadcrumb-link-color)}li.breadcrumb-item.active[_ngcontent-%COMP%]{color:var(--ds-breadcrumb-link-active-color)}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:block;content:"\\2022"!important}']})}}return x})()},87152:(F,D,n)=>{"use strict";n.d(D,{E:()=>C});var i=n(7901),t=n(92771),u=n(84572),e=n(7673),h=n(5964),m=n(88141),f=n(25558),v=n(96354),E=n(82777),_=n(54438);let C=(()=>{class I{constructor(T,A){this.route=T,this.router=A,this.breadcrumbs$=new t.m(1),this.showBreadcrumbs$=new t.m(1)}listenForRouteChanges(){this.router.events.pipe((0,h.p)(T=>T instanceof i.wF),(0,m.M)(()=>this.reset()),(0,f.n)(()=>this.resolveBreadcrumbs(this.route.root))).subscribe(this.breadcrumbs$)}resolveBreadcrumbs(T){const A=T.snapshot.data,p=T.snapshot.routeConfig,x=(0,E.Tn)(T.firstChild);if(x&&((0,E.a4)(A.showBreadcrumbs)?this.showBreadcrumbs$.next(A.showBreadcrumbs):(0,E.b0)(A.breadcrumb)&&this.showBreadcrumbs$.next(!1)),(0,E.a4)(A)&&(0,E.a4)(A.breadcrumb)&&(0,E.a4)(p)&&(0,E.a4)(p.resolve)&&(0,E.a4)(p.resolve.breadcrumb)){const{provider:O,key:w,url:M}=A.breadcrumb;return x?O.getBreadcrumbs(w,M):(0,u.z)(O.getBreadcrumbs(w,M),this.resolveBreadcrumbs(T.firstChild)).pipe((0,v.T)(L=>[].concat.apply([],L)))}return x?(0,e.of)([]):this.resolveBreadcrumbs(T.firstChild)}reset(){this.showBreadcrumbs$.next(!0)}static{this.\u0275fac=function(A){return new(A||I)(_.KVO(i.nX),_.KVO(i.Ix))}}static{this.\u0275prov=_.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},46754:(F,D,n)=>{"use strict";n.d(D,{B:()=>h});var i=n(8886),t=n(54438);const u=["*"];function e(m,f){}let h=(()=>{class m extends i.J{getComponentName(){return"BreadcrumbsComponent"}importThemedComponent(v){return n(32012)(`./${v}/app/breadcrumbs/breadcrumbs.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,87832))}static{this.\u0275fac=(()=>{let v;return function(_){return(v||(v=t.xGo(m)))(_||m)}})()}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ds-breadcrumbs"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:u,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(E,_){1&E&&(t.NAR(),t.DNE(0,e,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return m})()},49010:(F,D,n)=>{"use strict";n.d(D,{v0:()=>te,el:()=>Z,M0:()=>Q});var i=n(60177),t=n(54438),u=n(41780),e=n(84412),h=n(7673),m=n(84572),f=n(96354),v=n(23294),E=n(37958),_=n(82640),C=n(88280),I=n(96526),R=n(37864);class T{constructor(le,ne,fe,se,ce,De){this.metadataDefinition=le,this.pagination=ne,this.sort=fe,this.startsWith=se,this.scope=ce,this.fetchThumbnail=De}}var A=n(6238),p=n(13989),x=n(22978),w=(n(26292),n(80183)),M=n(82777),L=n(82394),B=n(23401),k=n(19798),U=(n(1624),n(7901));const K=ee=>({startsWith:ee}),Y=(ee,le,ne)=>({field:ee,startsWith:le,value:ne});function G(ee,le){if(1&ee){const ne=t.RV6();t.j41(0,"ds-browse-by",5),t.nI1(1,"translate"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.nI1(4,"async"),t.nI1(5,"async"),t.bIt("prev",function(){t.eBV(ne);const se=t.XpG(2);return t.Njj(se.goPrev())})("next",function(){t.eBV(ne);const se=t.XpG(2);return t.Njj(se.goNext())}),t.k0s()}if(2&ee){const ne=t.XpG(2);t.FS9("title",t.i5U(3,12,"browse.title",t.sMw(21,Y,t.bMT(1,7,"browse.metadata."+ne.browseId),ne.startsWith?t.i5U(2,9,"browse.startsWith",t.eq3(19,K,'"'+ne.startsWith+'"')):"",ne.value?'"'+ne.value+'"':""))),t.Y8G("displayTitle",ne.displayTitle)("objects$",void 0!==ne.items$?ne.items$:ne.browseEntries$)("paginationConfig",t.bMT(4,15,ne.currentPagination$))("sortConfig",t.bMT(5,17,ne.currentSort$))("type",ne.startsWithType)("startsWithOptions",ne.startsWithOptions)}}function q(ee,le){1&ee&&(t.nrm(0,"ds-loading",6),t.nI1(1,"translate")),2&ee&&t.FS9("message",t.bMT(1,1,"loading.browse-by-page"))}function z(ee,le){if(1&ee&&(t.j41(0,"section",1)(1,"div",2),t.DNE(2,G,6,25,"ds-browse-by",3),t.nI1(3,"async"),t.DNE(4,q,2,3,"ds-loading",4),t.nI1(5,"async"),t.k0s()()),2&ee){const ne=t.XpG();t.R7$(2),t.Y8G("ngIf",!0!==t.bMT(3,2,ne.loading$)),t.R7$(2),t.Y8G("ngIf",t.bMT(5,4,ne.loading$))}}const te="bbm";let Z=(()=>{class ee{constructor(ne,fe,se,ce,De,be,me,re){this.route=ne,this.browseService=fe,this.dsoService=se,this.paginationService=ce,this.router=De,this.appConfig=be,this.dsoNameService=me,this.platformId=re,this.displayTitle=!0,this.scope$=new e.t(void 0),this.subs=[],this.defaultBrowseId="author",this.browseId=this.defaultBrowseId,this.startsWithType=k.c.text,this.value="",this.loading$=(0,h.of)(!0),this.ssrRenderingDisabled=!1,this.fetchThumbnails=this.appConfig.browseBy.showThumbnails,this.paginationConfig=Object.assign(new B.W,{id:te,currentPage:1,pageSize:this.appConfig.browseBy.pageSize}),this.ssrRenderingDisabled=!this.renderOnServerSide&&!C.c.ssr.enableBrowseComponent&&(0,i.Vy)(this.platformId)}ngOnInit(){if(this.ssrRenderingDisabled)return void(this.loading$=(0,h.of)(!1));const ne=new A.z("default",A.U.ASC);this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,ne);const fe=(0,m.z)([this.route.params,this.route.queryParams]).pipe((0,f.T)(([se,ce])=>Object.assign({},se,ce)),(0,v.F)((se,ce)=>se.id===ce.id&&se.authority===ce.authority&&se.value===ce.value&&se.startsWith===ce.startsWith));this.subs.push((0,m.z)([fe,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([se,ce,De,be])=>{this.browseId=se.id||this.defaultBrowseId,this.authority=se.authority,this.value="string"==typeof se.value?se.value.trim():"",(void 0===se.startsWith||""===se.startsWith)&&(this.startsWith=void 0),"string"==typeof se.startsWith&&(this.startsWith=se.startsWith.trim()),(0,M.hj)(this.value)?this.updatePageWithItems(Q(se,ce,De,be,this.browseId,this.fetchThumbnails),this.value,this.authority):this.updatePage(Q(se,ce,De,be,this.browseId,!1))})),this.updateStartsWithTextOptions()}ngOnChanges(ne){(0,M.a4)(ne.scope)&&this.scope$.next(this.scope)}updateStartsWithTextOptions(){this.startsWithOptions=["0-9",..."ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")]}updatePage(ne){this.browseEntries$=this.browseService.getBrowseEntriesFor(ne),this.loading$=this.browseEntries$.pipe((0,f.T)(fe=>fe.isLoading)),this.items$=void 0}updatePageWithItems(ne,fe,se){this.items$=this.browseService.getBrowseItemsFor(fe,se,ne),this.loading$=this.items$.pipe((0,f.T)(ce=>ce.isLoading))}goPrev(){this.items$?this.items$.pipe((0,w.yd)()).subscribe(ne=>{this.items$=this.browseService.getPrevBrowseItems(ne)}):this.browseEntries$&&this.browseEntries$.pipe((0,w.yd)()).subscribe(ne=>{this.browseEntries$=this.browseService.getPrevBrowseEntries(ne)})}goNext(){this.items$?this.items$.pipe((0,w.yd)()).subscribe(ne=>{this.items$=this.browseService.getNextBrowseItems(ne)}):this.browseEntries$&&this.browseEntries$.pipe((0,w.yd)()).subscribe(ne=>{this.browseEntries$=this.browseService.getNextBrowseEntries(ne)})}ngOnDestroy(){this.subs.filter(ne=>(0,M.a4)(ne)).forEach(ne=>ne.unsubscribe()),this.paginationService.clearPagination(this.paginationConfig.id)}static{this.\u0275fac=function(fe){return new(fe||ee)(t.rXU(U.nX),t.rXU(R.q),t.rXU(p.DSpaceObjectDataService),t.rXU(x.m),t.rXU(U.Ix),t.rXU(_.vQ),t.rXU(I.f),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:ee,selectors:[["ds-browse-by-metadata"]],inputs:{context:"context",browseByType:"browseByType",scope:"scope",displayTitle:"displayTitle",renderOnServerSide:"renderOnServerSide"},standalone:!0,features:[t.OA$,t.aNF],decls:1,vars:1,consts:[["class","comcol-page-browse-section",4,"ngIf"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"]],template:function(fe,se){1&fe&&t.DNE(0,z,6,6,"section",0),2&fe&&t.Y8G("ngIf",!se.ssrRenderingDisabled)},dependencies:[i.Jj,i.bT,u.h,u.D9,L.v,E.U]})}}return ee})();function Q(ee,le,ne,fe,se,ce){return new T(se,ne,fe,ee.startsWith,le,ce)}},1624:(F,D,n)=>{"use strict";n.d(D,{O:()=>i});var i=function(t){return t.Title="title",t.Metadata="text",t.Date="date",t.Hierarchy="hierarchy",t}(i||{})},81387:(F,D,n)=>{"use strict";n.d(D,{cv:()=>ht});var i=n(26292),t=n(82777),u=n(81569),e=n(60177),h=n(54438),m=n(41780),f=n(7673),v=n(84572),E=n(96354),_=n(23294),C=n(37958),I=n(82640),R=n(88280),T=n(96526),A=n(37864),p=n(6238),x=n(13989),O=n(22978),w=n(12866),M=n(82394),L=n(19798),B=n(49010),k=n(7901);const W=Fe=>({startsWith:Fe}),U=(Fe,Et,Ye)=>({field:Fe,startsWith:Et,value:Ye});function K(Fe,Et){if(1&Fe){const Ye=h.RV6();h.j41(0,"ds-browse-by",5),h.nI1(1,"translate"),h.nI1(2,"translate"),h.nI1(3,"translate"),h.nI1(4,"async"),h.nI1(5,"async"),h.bIt("prev",function(){h.eBV(Ye);const Mt=h.XpG(2);return h.Njj(Mt.goPrev())})("next",function(){h.eBV(Ye);const Mt=h.XpG(2);return h.Njj(Mt.goNext())}),h.k0s()}if(2&Fe){const Ye=h.XpG(2);h.FS9("title",h.i5U(3,12,"browse.title",h.sMw(21,U,h.bMT(1,7,"browse.metadata."+Ye.browseId),Ye.startsWith?h.i5U(2,9,"browse.startsWith",h.eq3(19,W,'"'+Ye.startsWith+'"')):"",Ye.value?'"'+Ye.value+'"':""))),h.Y8G("displayTitle",Ye.displayTitle)("objects$",void 0!==Ye.items$?Ye.items$:Ye.browseEntries$)("paginationConfig",h.bMT(4,15,Ye.currentPagination$))("sortConfig",h.bMT(5,17,Ye.currentSort$))("type",Ye.startsWithType)("startsWithOptions",Ye.startsWithOptions)}}function Y(Fe,Et){1&Fe&&(h.nrm(0,"ds-loading",6),h.nI1(1,"translate")),2&Fe&&h.FS9("message",h.bMT(1,1,"loading.browse-by-page"))}function G(Fe,Et){if(1&Fe&&(h.j41(0,"section",1)(1,"div",2),h.DNE(2,K,6,25,"ds-browse-by",3),h.nI1(3,"async"),h.DNE(4,Y,2,3,"ds-loading",4),h.nI1(5,"async"),h.k0s()()),2&Fe){const Ye=h.XpG();h.R7$(2),h.Y8G("ngIf",!0!==h.bMT(3,2,Ye.loading$)),h.R7$(2),h.Y8G("ngIf",h.bMT(5,4,Ye.loading$))}}let q=(()=>{class Fe extends B.el{constructor(Ye,pt,Mt,Ne,rt,Gt,Zt,mt,Pt){super(Ye,pt,Mt,Ne,rt,Gt,Zt,Pt),this.route=Ye,this.browseService=pt,this.dsoService=Mt,this.paginationService=Ne,this.router=rt,this.appConfig=Gt,this.dsoNameService=Zt,this.cdRef=mt,this.platformId=Pt,this.defaultMetadataKeys=["dc.date.issued"]}ngOnInit(){if(!this.renderOnServerSide&&!R.c.ssr.enableBrowseComponent&&(0,e.Vy)(this.platformId))return void(this.loading$=(0,f.of)(!1));const Ye=new p.z("default",p.U.ASC);this.startsWithType=L.c.date,this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,Ye);const pt=(0,v.z)([this.route.params,this.route.queryParams]).pipe((0,E.T)(([Mt,Ne])=>Object.assign({},Mt,Ne)),(0,_.F)((Mt,Ne)=>Mt.id===Ne.id&&Mt.startsWith===Ne.startsWith));this.subs.push((0,v.z)([pt,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([Mt,Ne,rt,Gt])=>{const Zt=Mt.browseDefinition?Mt.browseDefinition.metadataKeys:this.defaultMetadataKeys;this.browseId=Mt.id||this.defaultBrowseId,this.startsWith=+Mt.startsWith||Mt.startsWith;const mt=(0,B.M0)(Mt,Ne,rt,Gt,this.browseId,this.fetchThumbnails);this.updatePageWithItems(mt,this.value,void 0),this.updateStartsWithOptions(this.browseId,Zt,Mt.scope)}))}updateStartsWithOptions(Ye,pt,Mt){const Ne=this.browseService.getFirstItemFor(Ye,Mt,p.U.ASC),rt=this.browseService.getFirstItemFor(Ye,Mt,p.U.DESC);this.loading$=(0,v.z)([Ne,rt]).pipe((0,E.T)(([Gt,Zt])=>Gt.isLoading||Zt.isLoading)),this.subs.push((0,v.z)([Ne,rt]).subscribe(([Gt,Zt])=>{let mt=this.getLimit(Gt,pt,this.appConfig.browseBy.defaultLowerLimit);const Pt=this.getLimit(Zt,pt,(new Date).getUTCFullYear()),Ce=[],je=5*Math.floor((Pt-this.appConfig.browseBy.oneYearLimit)/5),ut=10*Math.floor((Pt-this.appConfig.browseBy.fiveYearLimit)/10);mt-=mt<=ut?10:mt<=je?5:1;let hn=Pt;for(;hn>mt;)Ce.push(hn),hn<=ut?hn-=10:hn<=je?hn-=5:hn--;(0,t.hj)(Ce)&&(this.startsWithOptions=Ce,this.cdRef.detectChanges())}))}getLimit(Ye,pt,Mt){if((0,t.a4)(Ye.payload)){const Ne=Ye.payload.firstMetadataValue(pt);if((0,t.hj)(Ne)&&(0,w.vd)(Ne)){const rt=new Date(Ne);return isNaN(rt.getUTCFullYear())?Mt:rt.getUTCFullYear()}return(new Date).getUTCFullYear()}}static{this.\u0275fac=function(pt){return new(pt||Fe)(h.rXU(k.nX),h.rXU(A.q),h.rXU(x.DSpaceObjectDataService),h.rXU(O.m),h.rXU(k.Ix),h.rXU(I.vQ),h.rXU(T.f),h.rXU(h.gRc),h.rXU(h.Agw))}}static{this.\u0275cmp=h.VBU({type:Fe,selectors:[["ds-browse-by-date"]],standalone:!0,features:[h.Vt3,h.aNF],decls:1,vars:1,consts:[["class","comcol-page-browse-section",4,"ngIf"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"]],template:function(pt,Mt){1&pt&&h.DNE(0,G,6,6,"section",0),2&pt&&h.Y8G("ngIf",!Mt.ssrRenderingDisabled)},dependencies:[e.Jj,e.bT,m.h,m.D9,M.v,C.U]})}}return Fe})();var z=n(84412),te=n(81262),Z=n(1624);const J=()=>["/search"],Q=Fe=>({field:Fe,startsWith:"",value:""});function ee(Fe,Et){if(1&Fe&&(h.j41(0,"h1"),h.EFF(1),h.nI1(2,"translate"),h.nI1(3,"translate"),h.k0s()),2&Fe){const Ye=h.XpG();h.R7$(),h.SpI(" ",h.i5U(3,3,"browse.title",h.eq3(6,Q,h.bMT(2,1,"browse.metadata."+Ye.vocabularyName)))," ")}}let le=(()=>{class Fe{constructor(Ye,pt){this.route=Ye,this.translate=pt,this.displayTitle=!0,this.scope$=new z.t(void 0),this.selectedItems=[],this.subs=[]}ngOnInit(){this.browseDefinition$=this.route.data.pipe((0,E.T)(Ye=>Ye.browseDefinition)),this.subs.push(this.browseDefinition$.subscribe(Ye=>{this.selectedItems=[],this.facetType=Ye.facetType,this.vocabularyName=Ye.vocabulary,this.vocabularyOptions={name:this.vocabularyName,closed:!0},this.description=this.translate.instant(`browse.metadata.${this.vocabularyName}.tree.description`)})),this.subs.push(this.scope$.subscribe(()=>{this.updateQueryParams()}))}ngOnChanges(){this.scope$.next(this.scope)}onSelect(Ye){this.selectedItems.push(Ye),this.filterValues=this.selectedItems.map(pt=>`${pt.value},equals`),this.updateQueryParams()}onDeselect(Ye){this.selectedItems=this.selectedItems.filter(pt=>pt.id!==Ye.id),this.filterValues=this.filterValues.filter(pt=>pt!==`${Ye.value},equals`),this.updateQueryParams()}updateQueryParams(){this.queryParams={["f."+this.facetType]:this.filterValues},(0,t.a4)(this.scope)&&(this.queryParams.scope=this.scope)}ngOnDestroy(){this.subs.forEach(Ye=>Ye.unsubscribe())}static{this.\u0275fac=function(pt){return new(pt||Fe)(h.rXU(k.nX),h.rXU(m.c$))}}static{this.\u0275cmp=h.VBU({type:Fe,selectors:[["ds-browse-by-taxonomy"]],inputs:{context:"context",browseByType:"browseByType",scope:"scope",displayTitle:"displayTitle"},standalone:!0,features:[h.OA$,h.aNF],decls:7,vars:12,consts:[[4,"ngIf"],[1,"mb-3"],[3,"select","deselect","description","vocabularyOptions","multiSelect","showAdd"],[1,"btn","btn-primary",3,"routerLink","queryParams","queryParamsHandling"]],template:function(pt,Mt){1&pt&&(h.j41(0,"section"),h.DNE(1,ee,4,8,"h1",0),h.j41(2,"div",1)(3,"ds-vocabulary-treeview",2),h.bIt("select",function(rt){return Mt.onSelect(rt)})("deselect",function(rt){return Mt.onDeselect(rt)}),h.k0s()(),h.j41(4,"a",3),h.EFF(5),h.nI1(6,"translate"),h.k0s()()),2&pt&&(h.R7$(),h.Y8G("ngIf",Mt.displayTitle),h.R7$(2),h.Y8G("description",Mt.description)("vocabularyOptions",Mt.vocabularyOptions)("multiSelect",!0)("showAdd",!1),h.R7$(),h.Y8G("routerLink",h.lJ4(11,J))("queryParams",Mt.queryParams)("queryParamsHandling","merge"),h.R7$(),h.SpI(" ",h.bMT(6,9,"browse.taxonomy.button"),""))},dependencies:[e.bT,m.h,m.D9,te.P,k.Wk]})}}return Fe})();const ne=Fe=>({startsWith:Fe}),fe=(Fe,Et,Ye)=>({field:Fe,startsWith:Et,value:Ye});function se(Fe,Et){if(1&Fe){const Ye=h.RV6();h.j41(0,"ds-browse-by",5),h.nI1(1,"translate"),h.nI1(2,"translate"),h.nI1(3,"translate"),h.nI1(4,"async"),h.nI1(5,"async"),h.bIt("prev",function(){h.eBV(Ye);const Mt=h.XpG(2);return h.Njj(Mt.goPrev())})("next",function(){h.eBV(Ye);const Mt=h.XpG(2);return h.Njj(Mt.goNext())}),h.k0s()}if(2&Fe){const Ye=h.XpG(2);h.FS9("title",h.i5U(3,12,"browse.title",h.sMw(21,fe,h.bMT(1,7,"browse.metadata."+Ye.browseId),Ye.startsWith?h.i5U(2,9,"browse.startsWith",h.eq3(19,ne,'"'+Ye.startsWith+'"')):"",Ye.value?'"'+Ye.value+'"':""))),h.Y8G("displayTitle",Ye.displayTitle)("objects$",void 0!==Ye.items$?Ye.items$:Ye.browseEntries$)("paginationConfig",h.bMT(4,15,Ye.currentPagination$))("sortConfig",h.bMT(5,17,Ye.currentSort$))("type",Ye.startsWithType)("startsWithOptions",Ye.startsWithOptions)}}function ce(Fe,Et){1&Fe&&(h.nrm(0,"ds-loading",6),h.nI1(1,"translate")),2&Fe&&h.FS9("message",h.bMT(1,1,"loading.browse-by-page"))}function De(Fe,Et){if(1&Fe&&(h.j41(0,"section",1)(1,"div",2),h.DNE(2,se,6,25,"ds-browse-by",3),h.nI1(3,"async"),h.DNE(4,ce,2,3,"ds-loading",4),h.nI1(5,"async"),h.k0s()()),2&Fe){const Ye=h.XpG();h.R7$(2),h.Y8G("ngIf",!0!==h.bMT(3,2,Ye.loading$)),h.R7$(2),h.Y8G("ngIf",h.bMT(5,4,Ye.loading$))}}let be=(()=>{class Fe extends B.el{ngOnInit(){if(!this.renderOnServerSide&&!R.c.ssr.enableBrowseComponent&&(0,e.Vy)(this.platformId))return void(this.loading$=(0,f.of)(!1));const Ye=new p.z("dc.title",p.U.ASC);this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,Ye);const pt=(0,v.z)([this.route.params,this.route.queryParams]).pipe((0,E.T)(([Mt,Ne])=>Object.assign({},Mt,Ne)),(0,_.F)((Mt,Ne)=>Mt.id===Ne.id&&Mt.startsWith===Ne.startsWith));this.subs.push((0,v.z)([pt,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([Mt,Ne,rt,Gt])=>{this.startsWith=+Mt.startsWith||Mt.startsWith,this.browseId=Mt.id||this.defaultBrowseId,this.updatePageWithItems((0,B.M0)(Mt,Ne,rt,Gt,this.browseId,this.fetchThumbnails),void 0,void 0)})),this.updateStartsWithTextOptions()}static{this.\u0275fac=(()=>{let Ye;return function(Mt){return(Ye||(Ye=h.xGo(Fe)))(Mt||Fe)}})()}static{this.\u0275cmp=h.VBU({type:Fe,selectors:[["ds-browse-by-title"]],standalone:!0,features:[h.Vt3,h.aNF],decls:1,vars:1,consts:[["class","comcol-page-browse-section",4,"ngIf"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"]],template:function(pt,Mt){1&pt&&h.DNE(0,De,6,6,"section",0),2&pt&&h.Y8G("ngIf",!Mt.ssrRenderingDisabled)},dependencies:[e.Jj,e.bT,m.h,m.D9,M.v,C.U]})}}return Fe})();const me=Z.O.Metadata,re=i.o.Any,Te=new Map([[Z.O.Date,new Map([[re,new Map([[u.SS,q]])]])],[Z.O.Metadata,new Map([[re,new Map([[u.SS,B.el]])]])],[Z.O.Hierarchy,new Map([[re,new Map([[u.SS,le]])]])],[Z.O.Title,new Map([[re,new Map([[u.SS,be]])]])]]);function ht(Fe,Et,Ye){let pt=Te.get(Fe);(0,t.Tn)(pt)&&(pt=Te.get(me));let Mt=pt.get(Et);(0,t.Tn)(Mt)&&(Mt=pt.get(re));const Ne=(0,u.eW)(Mt,Ye);return(0,t.Tn)(Ne)?Mt.get(u.SS):Ne}},64611:(F,D,n)=>{"use strict";n.d(D,{BW:()=>v,CC:()=>u,Cb:()=>t,JW:()=>h,WJ:()=>R,_:()=>C,_E:()=>m,dv:()=>E,gH:()=>f,gj:()=>_});var i=n(45663);const t="parent",u="collections";function e(){return`/${u}`}function h(T){return new i.t(e(),T).toString()}function m(T){return new i.t(e(),T,C).toString()}function f(){return new i.t(e(),_).toString()}function v(T){return new i.t(h(T),C,I).toString()}function E(T){return new i.t(h(T),R).toString()}const _="create",C="edit",I="roles",R="itemtemplate"},54671:(F,D,n)=>{"use strict";n.d(D,{D6:()=>_,EU:()=>E,b2:()=>e,c5:()=>m,f2:()=>u,lG:()=>v,pk:()=>f,zQ:()=>C});var i=n(64611),t=n(45663);const u="parent",e="communities";function h(){return`/${e}`}function m(R){return new t.t(h(),R).toString()}function f(R){return new t.t(h(),R,C).toString()}function v(){return new t.t(h(),_).toString()}function E(R){return new t.t((0,i.JW)(R),C,I).toString()}const _="create",C="edit",I="roles"},13820:(F,D,n)=>{"use strict";n.d(D,{H:()=>C});var i=n(5964),t=n(96354),u=n(23294),e=n(96697),h=n(25558),m=n(88141),f=n(82777),v=n(43052),E=n(80183),_=n(45663);class C{constructor(R,T,A){this.halService=R,this.requestService=T,this.rdbService=A,this.linkName="authn",this.shortlivedtokensEndpoint="shortlivedtokens"}fetchRequest(R,...T){return this.rdbService.buildFromRequestUUID(R,...T).pipe((0,E.qD)())}getEndpointByMethod(R,T,...A){let p=(0,f.hj)(T)?`${R}/${T}`:`${R}`;return A?.length>0&&A.forEach((x,O)=>{p+=(0===O?"?":"&")+`embed=${x.name}`}),p}postToEndpoint(R,T,A){const p=this.requestService.generateRequestId(),x=this.halService.getEndpoint(this.linkName);return x.pipe((0,i.p)(O=>(0,f.hj)(O)),(0,t.T)(O=>this.getEndpointByMethod(O,R)),(0,u.F)(),(0,t.T)(O=>new v.Qf(p,O,T,A)),(0,e.s)(1)).subscribe(O=>{this.requestService.send(O)}),x.pipe((0,h.n)(()=>this.fetchRequest(p)))}getRequest(R,T,...A){const p=this.requestService.generateRequestId(),x=this.halService.getEndpoint(this.linkName);return x.pipe((0,i.p)(O=>(0,f.hj)(O)),(0,t.T)(O=>this.getEndpointByMethod(O,R,...A)),(0,u.F)(),(0,t.T)(O=>new v.IP(p,O,void 0,T)),(0,e.s)(1)).subscribe(O=>{this.requestService.send(O)}),x.pipe((0,h.n)(()=>this.fetchRequest(p,...A)))}getShortlivedToken(){return this.halService.getEndpoint(this.linkName).pipe((0,i.p)(R=>(0,f.hj)(R)),(0,u.F)(),(0,t.T)(R=>new _.t(R,this.shortlivedtokensEndpoint).toString()),(0,h.n)(R=>this.createShortLivedTokenRequest(R)),(0,m.M)(R=>this.requestService.send(R)),(0,h.n)(R=>this.rdbService.buildFromRequestUUID(R.uuid)),(0,E.qD)(),(0,t.T)(R=>R.hasSucceeded?R.payload.value:null))}}},59836:(F,D,n)=>{"use strict";n.d(D,{$K:()=>w,$X:()=>U,D9:()=>h,FD:()=>Y,G2:()=>T,HQ:()=>f,IO:()=>O,IV:()=>m,JT:()=>q,K0:()=>G,S3:()=>E,Sn:()=>u,VU:()=>R,Wu:()=>p,YO:()=>K,Yk:()=>t,cU:()=>z,dj:()=>x,du:()=>I,e0:()=>_,eh:()=>B,es:()=>te,j3:()=>k,kZ:()=>M,ks:()=>e,mg:()=>C,nB:()=>L,qY:()=>W,sy:()=>v,v1:()=>Z});var i=n(91e3);const t={AUTHENTICATE:(0,i.N)("dspace/auth/AUTHENTICATE"),AUTHENTICATE_ERROR:(0,i.N)("dspace/auth/AUTHENTICATE_ERROR"),AUTHENTICATE_SUCCESS:(0,i.N)("dspace/auth/AUTHENTICATE_SUCCESS"),AUTHENTICATED:(0,i.N)("dspace/auth/AUTHENTICATED"),AUTHENTICATED_ERROR:(0,i.N)("dspace/auth/AUTHENTICATED_ERROR"),AUTHENTICATED_SUCCESS:(0,i.N)("dspace/auth/AUTHENTICATED_SUCCESS"),CHECK_AUTHENTICATION_TOKEN:(0,i.N)("dspace/auth/CHECK_AUTHENTICATION_TOKEN"),CHECK_AUTHENTICATION_TOKEN_COOKIE:(0,i.N)("dspace/auth/CHECK_AUTHENTICATION_TOKEN_COOKIE"),SET_AUTH_COOKIE_STATUS:(0,i.N)("dspace/auth/SET_AUTH_COOKIE_STATUS"),RETRIEVE_AUTH_METHODS:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS"),RETRIEVE_AUTH_METHODS_SUCCESS:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS_SUCCESS"),RETRIEVE_AUTH_METHODS_ERROR:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS_ERROR"),REDIRECT_TOKEN_EXPIRED:(0,i.N)("dspace/auth/REDIRECT_TOKEN_EXPIRED"),REDIRECT_AUTHENTICATION_REQUIRED:(0,i.N)("dspace/auth/REDIRECT_AUTHENTICATION_REQUIRED"),REFRESH_TOKEN:(0,i.N)("dspace/auth/REFRESH_TOKEN"),REFRESH_TOKEN_SUCCESS:(0,i.N)("dspace/auth/REFRESH_TOKEN_SUCCESS"),REFRESH_TOKEN_ERROR:(0,i.N)("dspace/auth/REFRESH_TOKEN_ERROR"),RETRIEVE_TOKEN:(0,i.N)("dspace/auth/RETRIEVE_TOKEN"),ADD_MESSAGE:(0,i.N)("dspace/auth/ADD_MESSAGE"),RESET_MESSAGES:(0,i.N)("dspace/auth/RESET_MESSAGES"),LOG_OUT:(0,i.N)("dspace/auth/LOG_OUT"),LOG_OUT_ERROR:(0,i.N)("dspace/auth/LOG_OUT_ERROR"),LOG_OUT_SUCCESS:(0,i.N)("dspace/auth/LOG_OUT_SUCCESS"),SET_REDIRECT_URL:(0,i.N)("dspace/auth/SET_REDIRECT_URL"),RETRIEVE_AUTHENTICATED_EPERSON:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON"),RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS"),RETRIEVE_AUTHENTICATED_EPERSON_ERROR:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON_ERROR"),REDIRECT_AFTER_LOGIN_SUCCESS:(0,i.N)("dspace/auth/REDIRECT_AFTER_LOGIN_SUCCESS"),SET_USER_AS_IDLE:(0,i.N)("dspace/auth/SET_USER_AS_IDLE"),UNSET_USER_AS_IDLE:(0,i.N)("dspace/auth/UNSET_USER_AS_IDLE")};class u{constructor(Q,ee){this.type=t.AUTHENTICATE,this.payload={email:Q,password:ee}}}class e{constructor(Q){this.type=t.AUTHENTICATED,this.payload=Q}}class h{constructor(Q,ee,le){this.type=t.AUTHENTICATED_SUCCESS,this.payload={authenticated:Q,authToken:ee,userHref:le}}}class m{constructor(Q){this.type=t.AUTHENTICATED_ERROR,this.payload=Q}}class f{constructor(Q){this.type=t.AUTHENTICATE_ERROR,this.payload=Q}}class v{constructor(Q){this.type=t.AUTHENTICATE_SUCCESS,this.payload=Q}}class E{constructor(){this.type=t.CHECK_AUTHENTICATION_TOKEN}}class _{constructor(){this.type=t.CHECK_AUTHENTICATION_TOKEN_COOKIE}}class C{constructor(Q){this.type=t.SET_AUTH_COOKIE_STATUS,this.payload=!1,this.payload=Q}}class I{constructor(Q){this.payload=Q,this.type=t.LOG_OUT}}class R{constructor(Q){this.type=t.LOG_OUT_ERROR,this.payload=Q}}class T{constructor(Q){this.payload=Q,this.type=t.LOG_OUT_SUCCESS}}class p{constructor(Q){this.type=t.REDIRECT_TOKEN_EXPIRED,this.payload=Q}}class x{constructor(Q){this.type=t.REFRESH_TOKEN,this.payload=Q}}class O{constructor(Q){this.type=t.REFRESH_TOKEN_SUCCESS,this.payload=Q}}class w{constructor(){this.type=t.REFRESH_TOKEN_ERROR}}class M{constructor(){this.type=t.RETRIEVE_TOKEN}}class L{constructor(Q){this.type=t.ADD_MESSAGE,this.payload=Q}}class B{constructor(){this.type=t.RESET_MESSAGES}}class k{constructor(Q){this.type=t.RETRIEVE_AUTH_METHODS,this.payload=Q}}class W{constructor(Q){this.type=t.RETRIEVE_AUTH_METHODS_SUCCESS,this.payload=Q}}class U{constructor(){this.type=t.RETRIEVE_AUTH_METHODS_ERROR}}class K{constructor(Q){this.type=t.SET_REDIRECT_URL,this.payload=Q}}class Y{constructor(Q){this.type=t.REDIRECT_AFTER_LOGIN_SUCCESS,this.payload=Q}}class G{constructor(Q){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON,this.payload=Q}}class q{constructor(Q){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS,this.payload=Q}}class z{constructor(Q){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON_ERROR,this.payload=Q}}class te{constructor(){this.type=t.SET_USER_AS_IDLE}}class Z{constructor(){this.type=t.UNSET_USER_AS_IDLE}}},67116:(F,D,n)=>{"use strict";n.d(D,{Ru:()=>Z,S0:()=>te,kL:()=>J,of:()=>Q,uR:()=>ee});var i=n(21626),t=n(25499),u=n(7673),e=n(5964),h=n(99172),m=n(96354),f=n(25558),v=n(96697),E=n(88280),_=n(59540),C=n(82777),I=n(39806),R=n(43404),T=n(67600),A=n(96820),p=n(74449),x=n(93130),O=n(56760),w=n(1676),M=n(80183),L=n(32089),B=n(59836),k=n(13820),W=n(40667),U=n(10034),K=n(38169),Y=n(54438),G=n(7901),q=n(59752),z=n(41780);const te="/login",Z="/logout",J="dsRedirectUrl",Q="dsImpersonatingEPerson";let ee=(()=>{class le{constructor(fe,se,ce,De,be,me,re,Ee,Te,tt,ht,Fe){this.req=fe,this._window=se,this.response=ce,this.authRequestService=De,this.epersonService=be,this.router=me,this.routeService=re,this.storage=Ee,this.store=Te,this.hardRedirectService=tt,this.notificationService=ht,this.translateService=Fe,this.store.pipe((0,e.p)(Et=>void 0!==Et?.core?.auth),(0,t.Lt)(K.wR),(0,h.Z)(!1)).subscribe(Et=>this._authenticated=Et)}authenticate(fe,se){const ce=`password=${encodeURIComponent(se)}&user=${encodeURIComponent(fe)}`,De=Object.create({});let be=new i.Lr;return be=be.append("Content-Type","application/x-www-form-urlencoded"),De.headers=be,this.authRequestService.postToEndpoint("login",ce,De).pipe((0,m.T)(me=>{if((0,C.a4)(me.payload)&&me.payload.authenticated)return me.payload;throw new Error("auth.errors.invalid-user")}))}checkAuthenticationCookie(){const fe=Object.create({});let se=new i.Lr;return se=se.append("Accept","application/json"),fe.headers=se,fe.withCredentials=!0,this.authRequestService.getRequest("status",fe).pipe((0,m.T)(ce=>Object.assign(new W.T,ce.payload)))}isAuthenticated(){return this.store.pipe((0,t.Lt)(K.wR))}isAuthenticationLoaded(){return this.store.pipe((0,t.Lt)(K.TR))}setExternalAuthStatus(fe){this.store.dispatch(new B.mg(fe))}isExternalAuthentication(){return this.store.pipe((0,t.Lt)(K.qD))}authenticatedUser(fe){const se=Object.create({});let ce=new i.Lr;return ce=ce.append("Accept","application/json"),ce=ce.append("Authorization",`Bearer ${fe.accessToken}`),se.headers=ce,this.authRequestService.getRequest("status",se).pipe((0,m.T)(De=>{const be=De.payload;if((0,C.a4)(be)&&be.authenticated)return be._links.eperson.href;throw new Error("Not authenticated")}))}retrieveAuthenticatedUserByHref(fe){return this.epersonService.findByHref(fe).pipe((0,M.Hz)())}retrieveAuthenticatedUserById(fe){return this.epersonService.findById(fe).pipe((0,M.Hz)())}getAuthenticatedUserFromStore(){return this.store.pipe((0,t.Lt)(K.At),(0,C.Az)(),(0,f.n)(fe=>this.epersonService.findById(fe)),(0,M.Hz)())}checkAuthenticationToken(){this.store.dispatch(new B.S3)}getSpecialGroupsFromAuthStatus(){return this.authRequestService.getRequest("status",null,(0,T.s)("specialGroups")).pipe((0,M.qD)(),(0,f.n)(fe=>fe.hasSucceeded?fe.payload.specialGroups:(0,R.CX)((0,A.g)(new L.Q,[]))))}hasValidAuthenticationToken(){return this.store.pipe((0,t.Lt)(K.Y5),(0,v.s)(1),(0,m.T)(fe=>{const se=(0,C.hj)(fe)?fe:this.storage.get(U.R);if((0,C.hj)(se)&&se.hasOwnProperty("accessToken")&&(0,C.hj)(se.accessToken)&&!this.isTokenExpired(se))return se;throw!1}))}refreshAuthenticationToken(fe){const se=Object.create({});let ce=new i.Lr;return ce=ce.append("Accept","application/json"),fe&&fe.accessToken&&(ce=ce.append("Authorization",`Bearer ${fe.accessToken}`)),se.headers=ce,se.withCredentials=!0,this.authRequestService.postToEndpoint("login",{},se).pipe((0,m.T)(De=>{const be=De.payload;if((0,C.a4)(be)&&be.authenticated)return be.token;throw new Error("Not authenticated")}))}resetAuthenticationError(){this.store.dispatch(new B.eh)}retrieveAuthMethodsFromAuthStatus(fe){let se=[];return(0,C.hj)(fe.authMethods)&&(se=fe.authMethods),(0,u.of)(se)}logout(){let fe=new i.Lr;return fe=fe.append("Content-Type","application/x-www-form-urlencoded"),this.authRequestService.postToEndpoint("logout",Object.create({headers:fe,responseType:"text"})).pipe((0,m.T)(ce=>{const De=ce.payload;if((0,C.a4)(De)&&!De.authenticated)return!0;throw new Error("auth.errors.invalid-user")}))}buildAuthHeader(fe){return(0,C.Im)(fe)&&(fe=this.getToken()),this._authenticated&&(0,C.Pe)(fe)?`Bearer ${fe.accessToken}`:""}getToken(){let fe;return this.store.pipe((0,v.s)(1),(0,t.Lt)(K.Y5)).subscribe(se=>{fe=se||null}),fe}trackTokenExpiration(){let fe,se=!1;this.store.pipe((0,t.Lt)(K.Y5)).subscribe(ce=>{if(se&&void 0!==fe&&void 0===ce&&(this.notificationService.error(this.translateService.get("auth.messages.token-refresh-failed")),setTimeout(()=>this.navigateToRedirectUrl(this.hardRedirectService.getCurrentRoute()),1e4),se=!1),se&&void 0!==ce&&fe.expires!==ce.expires&&(se=!1),!se&&(fe=ce||null,null!=fe)){let De=fe.expires-(new Date).getTime()-E.c.auth.rest.timeLeftBeforeTokenRefresh;De<0&&(De=0),(0,C.a4)(this.tokenRefreshTimer)&&clearTimeout(this.tokenRefreshTimer),this.tokenRefreshTimer=setTimeout(()=>{this.store.dispatch(new B.dj(fe)),se=!0},De)}})}isTokenExpiring(){return this.store.pipe((0,t.Lt)(K.Pc),(0,v.s)(1),(0,m.T)(fe=>!this.isTokenExpired()&&!fe&&this.getToken().expires-3e5<Date.now()))}isTokenExpired(fe){return(fe=fe||this.getToken())&&fe.expires<Date.now()}storeToken(fe){const se=Date.now()+864e5,De={expires:new Date(se)};return this.storage.set(U.R,fe,De)}removeToken(){return this.storage.remove(U.R)}replaceToken(fe){return this.removeToken(),this.storeToken(fe)}redirectToLogin(){this.router.navigate([te])}redirectToLoginWhenTokenExpired(){const fe=te+"?expired=true";this._window.nativeWindow.location?this._window.nativeWindow.location.href=fe:this.response?this.response._headerSent||this.response.redirect(302,fe):this.router.navigateByUrl(fe)}navigateToRedirectUrl(fe){if(!(0,C.a4)(fe)||!fe.includes("reload/")){let se=`reload/${(new Date).getTime()}`;(0,C.hj)(fe)&&!fe.startsWith(te)&&(se+=`?redirect=${encodeURIComponent(fe)}`),this.hardRedirectService.redirect(se)}}refreshAfterLogout(){this.navigateToRedirectUrl(void 0)}getRedirectUrl(){return this.store.pipe((0,t.Lt)(K.M3),(0,m.T)(fe=>(0,C.a4)(fe)?fe:this.storage.get(J)))}setRedirectUrl(fe){const se=Date.now()+36e5,De={expires:new Date(se)};this.storage.set(J,fe,De),this.store.dispatch(new B.YO((0,C.EA)(fe)?fe:""))}setRedirectUrlIfNotSet(fe){this.getRedirectUrl().pipe((0,v.s)(1)).subscribe(se=>{(0,C.Tn)(se)&&this.setRedirectUrl(fe)})}clearRedirectUrl(){this.store.dispatch(new B.YO(void 0)),this.storage.remove(J)}impersonate(fe){this.storage.set(Q,fe),this.refreshAfterLogout()}stopImpersonating(){this.storage.remove(Q)}stopImpersonatingAndRefresh(){this.stopImpersonating(),this.refreshAfterLogout()}getImpersonateID(){return this.storage.get(Q)}isImpersonating(){return(0,C.a4)(this.getImpersonateID())}isImpersonatingUser(fe){return this.getImpersonateID()===fe}getShortlivedToken(){return this.isAuthenticated().pipe((0,f.n)(fe=>fe?this.authRequestService.getShortlivedToken():(0,u.of)(null)))}isUserIdle(){return this.store.pipe((0,t.Lt)(K.xB))}setIdle(fe){this.store.dispatch(fe?new B.es:new B.v1)}static{this.\u0275fac=function(se){return new(se||le)(Y.KVO(_.S),Y.KVO(w.lc),Y.KVO(_.C,8),Y.KVO(k.H),Y.KVO(p.EPersonDataService),Y.KVO(G.Ix),Y.KVO(O.v$),Y.KVO(x.O),Y.KVO(t.il),Y.KVO(q.$),Y.KVO(I.I),Y.KVO(z.c$))}}static{this.\u0275prov=Y.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}}return le})()},49347:(F,D,n)=>{"use strict";n.d(D,{t:()=>E});var i=n(54438),t=n(7901),u=n(25499),e=n(47677),h=n(25558),m=n(96354),f=n(67116),v=n(38169);const E=(C,I,R=(0,i.WQX)(f.uR),T=(0,i.WQX)(t.Ix),A=(0,i.WQX)(u.il))=>{const p=I.url;return A.pipe((0,u.Lt)(v.VV)).pipe((0,e.I)(x=>!1===x),(0,h.n)(()=>A.pipe((0,u.Lt)(v.wR))),(0,m.T)(x=>x||(R.setRedirectUrl(p),R.removeToken(),T.createUrlTree([f.S0]))))}},40667:(F,D,n)=>{"use strict";n.d(D,{T:()=>I});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(24547),m=n(58235),f=n(36074),v=n(42547),E=n(98688);const _=new v.v("status");var C=n(10034);let I=class{static{this.type=_}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"id",void 0),(0,i.Cg)([E.aK,t.autoserialize,(0,i.Sn)("design:type",v.v)],I.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new h.a("auth-status"),"id"),(0,i.Sn)("design:type",String)],I.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],I.prototype,"okay",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],I.prototype,"authenticated",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],I.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",u.c)],I.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(f.U,!0),(0,i.Sn)("design:type",u.c)],I.prototype,"specialGroups",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",C.S)],I.prototype,"token",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],I.prototype,"error",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],I.prototype,"authMethods",void 0),I=(0,i.Cg)([e.gV],I)},10034:(F,D,n)=>{"use strict";function i(E){this.message=E}n.d(D,{S:()=>v,R:()=>f}),(i.prototype=new Error).name="InvalidCharacterError";var t=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(E){var _=String(E).replace(/=+$/,"");if(_.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var C,I,R=0,T=0,A="";I=_.charAt(T++);~I&&(C=R%4?64*C+I:I,R++%4)?A+=String.fromCharCode(255&C>>(-2*R&6)):0)I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(I);return A};function e(E){this.message=E}(e.prototype=new Error).name="InvalidTokenError";const f="dsAuthInfo";class v{constructor(_){this.accessToken=_.replace("Bearer ","");try{const C=function h(E,_){if("string"!=typeof E)throw new e("Invalid token specified");var C=!0===(_=_||{}).header?0:1;try{return JSON.parse(function u(E){var _=E.replace(/-/g,"+").replace(/_/g,"/");switch(_.length%4){case 0:break;case 2:_+="==";break;case 3:_+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(t(_).replace(/(.)/g,function(I,R){var T=R.charCodeAt(0).toString(16).toUpperCase();return T.length<2&&(T="0"+T),"%"+T}))}catch{return t(_)}}(E.split(".")[C]))}catch(I){throw new e("Invalid token specified: "+I.message)}}(this.accessToken);this.expires=1e3*C.exp}catch{this.expires=0}}}},2044:(F,D,n)=>{"use strict";n.d(D,{Q:()=>i});var i=function(t){return t.Password="password",t.Shibboleth="shibboleth",t.Ldap="ldap",t.Ip="ip",t.X509="x509",t.Oidc="oidc",t.Orcid="orcid",t.Saml="saml",t}(i||{})},52027:(F,D,n)=>{"use strict";n.d(D,{q:()=>t});var i=n(2044);class t{constructor(e,h,m){switch(this.position=h,e){case"ip":this.authMethodType=i.Q.Ip;break;case"ldap":this.authMethodType=i.Q.Ldap;break;case"shibboleth":this.authMethodType=i.Q.Shibboleth,this.location=m;break;case"x509":this.authMethodType=i.Q.X509;break;case"password":this.authMethodType=i.Q.Password;break;case"oidc":this.authMethodType=i.Q.Oidc,this.location=m;break;case"orcid":this.authMethodType=i.Q.Orcid,this.location=m;break;case"saml":this.authMethodType=i.Q.Saml,this.location=m}}}},38169:(F,D,n)=>{"use strict";n.d(D,{At:()=>M,F8:()=>z,Gv:()=>Y,H8:()=>L,M3:()=>Z,Pc:()=>G,TR:()=>W,VV:()=>K,Y5:()=>q,dx:()=>B,hx:()=>w,qD:()=>U,wR:()=>k,xB:()=>J});var i=n(25499),t=n(47797);const u=(0,i.Mz)(t.N,Q=>Q.auth),w=(0,i.Mz)(u,Q=>Q.authMethods),M=(0,i.Mz)(u,Q=>Q.userId),L=(0,i.Mz)(u,Q=>Q.error),B=(0,i.Mz)(u,Q=>Q.info),k=(0,i.Mz)(u,Q=>Q.authenticated),W=(0,i.Mz)(u,Q=>Q.loaded),U=(0,i.Mz)(u,Q=>Q.externalAuth),K=(0,i.Mz)(u,Q=>Q.loading),Y=(0,i.Mz)(u,Q=>Q.blocking),G=(0,i.Mz)(u,Q=>Q.refreshing),q=(0,i.Mz)(u,Q=>Q.authToken),z=(0,i.Mz)(u,Q=>Q.error),Z=((0,i.Mz)(u,Q=>Q.error),(0,i.Mz)(u,Q=>Q.redirectUrl)),J=(0,i.Mz)(u,Q=>Q.idle)},96526:(F,D,n)=>{"use strict";n.d(D,{f:()=>h});var i=n(82777),t=n(39552),u=n(54438),e=n(41780);let h=(()=>{class m{constructor(v){this.translateService=v,this.factories={EPerson:E=>{const _=E.firstMetadataValue("eperson.firstname"),C=E.firstMetadataValue("eperson.lastname");return(0,i.Im)(_)&&(0,i.Im)(C)?this.translateService.instant("dso.name.unnamed"):(0,i.Im)(_)||(0,i.Im)(C)?_||C:`${_} ${C}`},Person:E=>{const _=E.firstMetadataValue("person.familyName"),C=E.firstMetadataValue("person.givenName");return(0,i.Im)(_)&&(0,i.Im)(C)?E.firstMetadataValue("dc.title")||this.translateService.instant("dso.name.unnamed"):(0,i.Im)(_)||(0,i.Im)(C)?_||C:`${_}, ${C}`},OrgUnit:E=>E.firstMetadataValue("organization.legalName")||this.translateService.instant("dso.name.untitled"),Default:E=>E.firstMetadataValue("dc.title")||E.name||this.translateService.instant("dso.name.untitled")}}getName(v){if(v){const _=v.getRenderTypes().filter(I=>"string"==typeof I).find(I=>Object.keys(this.factories).includes(I));let C;return(0,i.a4)(_)&&(C=this.factories[_](v)),(0,i.Im)(C)&&(C=this.factories.Default(v)),C}return""}getHitHighlights(v,E){const C=E.getRenderTypes().filter(I=>"string"==typeof I).find(I=>["Person","OrgUnit"].includes(I));if("Person"===C){const I=this.firstMetadataValue(v,E,"person.familyName"),R=this.firstMetadataValue(v,E,"person.givenName");return(0,i.Im)(I)&&(0,i.Im)(R)?this.firstMetadataValue(v,E,"dc.title")||E.name:(0,i.Im)(I)||(0,i.Im)(R)?I||R:`${I}, ${R}`}return"OrgUnit"===C?this.firstMetadataValue(v,E,"organization.legalName")||this.translateService.instant("dso.name.untitled"):this.firstMetadataValue(v,E,"dc.title")||E.name||this.translateService.instant("dso.name.untitled")}firstMetadataValue(v,E,_){return t.O.firstValue([v.hitHighlights,E.metadata],_)}static{this.\u0275fac=function(E){return new(E||m)(u.KVO(e.c$))}}static{this.\u0275prov=u.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},42673:(F,D,n)=>{"use strict";n.r(D),n.d(D,{BrowseDefinitionDataService:()=>p,createAndSendBrowseDefinitionGetRequest:()=>T});var i=n(7673),t=n(96697),u=n(82777),e=n(72734),h=n(53954),m=n(41684),f=n(46787),v=n(63897),E=n(35108),_=n(43052),C=n(32473),I=n(4910),R=n(54438);const T=(x,O,w,M=!0)=>{(0,u.hj)(w)&&("string"==typeof w&&(w=(0,i.of)(w)),w.pipe((0,u.VT)(),(0,t.s)(1)).subscribe(L=>{const B=x.generateRequestId(),k=new _.FQ(B,L);(0,u.a4)(O)&&(k.responseMsToLive=O),x.send(k,M)}))};class A extends f.H{createAndSendGetRequest(O,w=!0){T(this.requestService,this.responseMsToLive,O,w)}}let p=(()=>{class x extends v.W{constructor(w,M,L,B){super("browses",w,M,L,B),this.requestService=w,this.rdbService=M,this.objectCache=L,this.halService=B,this.searchData=new E.X(this.linkPath,w,M,L,B,this.responseMsToLive),this.findAllData=new A(this.linkPath,w,M,L,B,this.responseMsToLive)}findAll(w={},M=!0,L=!0,...B){return this.findAllData.findAll(w,M,L,...B)}searchBy(w,M,L,B,...k){return this.searchData.searchBy(w,M,L,B,...k)}getSearchByHref(w,M,...L){return this.searchData.getSearchByHref(w,M,...L)}findByFields(w,M=!0,L=!0,...B){const k=[];k.push(new h.x("fields",w));const W=this.getSearchByHref("byFields",{searchParams:k},...B);return this.findByHref(W,M,L,...B)}createAndSendGetRequest(w,M=!0){T(this.requestService,this.responseMsToLive,w,M)}static{this.\u0275fac=function(M){return new(M||x)(R.KVO(C.B),R.KVO(e.o),R.KVO(m.$),R.KVO(I.Y))}}static{this.\u0275prov=R.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})()},37864:(F,D,n)=>{"use strict";n.d(D,{q:()=>A});var i=n(96354),t=n(99172),u=n(23294),e=n(88280),h=n(82777),m=n(67600),f=n(70413),v=n(32473),E=n(4910),_=n(80183),C=n(45663),I=n(42673),R=n(54438);function T(){const p=[(0,m.s)("thumbnail")];return e.c.item.showAccessStatuses&&p.push((0,m.s)("accessStatus")),p}let A=(()=>{class p{static toSearchKeyArray(O){const w=O.split("."),M=[];M.push("*");for(let L=0;L<w.length-1;L++){const k=[...w.slice(0,L+1),"*"].join(".");M.push(k)}return M.push(O),M}constructor(O,w,M,L){this.requestService=O,this.halService=w,this.browseDefinitionDataService=M,this.hrefOnlyDataService=L,this.linkPath="browses"}getBrowseDefinitions(){return this.browseDefinitionDataService.findAll({elementsPerPage:9999}).pipe((0,_.yd)())}getBrowseEntriesFor(O){const w=this.getBrowseDefinitions().pipe((0,_.Jq)(O.metadataDefinition),(0,h.Az)(),(0,i.T)(M=>M.entries.href||M.entries),(0,h.Az)(),(0,i.T)(M=>{const L=[];return(0,h.hj)(O.scope)&&L.push(`scope=${O.scope}`),(0,h.hj)(O.sort)&&L.push(`sort=${O.sort.field},${O.sort.direction}`),(0,h.hj)(O.pagination)&&(L.push("page="+(O.pagination.currentPage-1)),L.push(`size=${O.pagination.pageSize}`)),(0,h.hj)(O.startsWith)&&L.push(`startsWith=${O.startsWith}`),(0,h.hj)(L)&&(M=new C.t(M,`?${L.join("&")}`).toString()),M}));return O.fetchThumbnail?this.hrefOnlyDataService.findListByHref(w,{},void 0,void 0,...T()):this.hrefOnlyDataService.findListByHref(w)}getBrowseItemsFor(O,w,M){const L=this.getBrowseDefinitions().pipe((0,_.Jq)(M.metadataDefinition),(0,h.Az)(),(0,i.T)(B=>B.items.href||B.items),(0,h.Az)(),(0,i.T)(B=>{const k=[];return(0,h.hj)(M.scope)&&k.push(`scope=${M.scope}`),(0,h.hj)(M.sort)&&k.push(`sort=${M.sort.field},${M.sort.direction}`),(0,h.hj)(M.pagination)&&(k.push("page="+(M.pagination.currentPage-1)),k.push(`size=${M.pagination.pageSize}`)),(0,h.hj)(M.startsWith)&&k.push(`startsWith=${M.startsWith}`),(0,h.hj)(O)&&k.push(`filterValue=${encodeURIComponent(O)}`),(0,h.hj)(w)&&k.push(`filterAuthority=${encodeURIComponent(w)}`),(0,h.hj)(k)&&(B=new C.t(B,`?${k.join("&")}`).toString()),B}));return M.fetchThumbnail?this.hrefOnlyDataService.findListByHref(L,{},void 0,void 0,...T()):this.hrefOnlyDataService.findListByHref(L)}getFirstItemFor(O,w,M){const L=this.getBrowseDefinitions().pipe((0,_.Jq)(O),(0,h.Az)(),(0,i.T)(B=>B.items.href||B.items),(0,h.Az)(),(0,i.T)(B=>{const k=[];return(0,h.a4)(w)&&k.push(`scope=${w}`),k.push("page=0"),k.push("size=1"),M&&k.push("sort=default,"+M),(0,h.hj)(k)&&(B=new C.t(B,`?${k.join("&")}`).toString()),B}));return this.hrefOnlyDataService.findListByHref(L).pipe((0,_.yd)(),(0,_.GD)())}getPrevBrowseItems(O){return this.hrefOnlyDataService.findListByHref(O.payload.prev)}getNextBrowseItems(O){return this.hrefOnlyDataService.findListByHref(O.payload.next)}getPrevBrowseEntries(O){return this.hrefOnlyDataService.findListByHref(O.payload.prev)}getNextBrowseEntries(O){return this.hrefOnlyDataService.findListByHref(O.payload.next)}getBrowseURLFor(O,w){const M=p.toSearchKeyArray(O);return this.getBrowseDefinitions().pipe((0,_.Bo)(),(0,_.W8)(),(0,i.T)(L=>L.find(B=>{let k="";return Array.isArray(B.metadataKeys)&&(k=B.metadataKeys.find(W=>M.indexOf(W)>=0)),(0,h.hj)(k)})),(0,i.T)(L=>{if((0,h.Im)(L)||(0,h.Im)(L._links)||(0,h.Im)(L._links[w]))throw new Error(`A browse endpoint for ${w} on ${O} isn't configured`);return L._links[w]||L._links[w].href}),(0,t.Z)(void 0),(0,u.F)())}static{this.\u0275fac=function(w){return new(w||p)(R.KVO(v.B),R.KVO(E.Y),R.KVO(I.BrowseDefinitionDataService),R.KVO(f.HrefOnlyDataService))}}static{this.\u0275prov=R.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},21921:(F,D,n)=>{"use strict";n.d(D,{FR:()=>m,O3:()=>w,Qt:()=>R,gV:()=>I,nf:()=>x,o8:()=>M,qP:()=>h});var i=n(54438),t=n(82777),u=n(87891);new i.nKC("getDataServiceFor",{providedIn:"root",factory:()=>A});const h=new i.nKC("getLinkDefinition",{providedIn:"root",factory:()=>w}),m=new i.nKC("getLinkDefinitions",{providedIn:"root",factory:()=>O}),E=(Symbol("resolvedLink"),new Map),_=new Map,C=new Map;function I(L){E.set(L.type.value,L)}function R(L){return E.get((0,u.zA)(L))}function A(L){return _.get(L.value)}const x=(L,B=!1,k)=>(W,U)=>{let K=C.get(W.constructor);(0,t.Tn)(K)&&(K=new Map),(0,t.Tn)(k)&&(k=U),K.set(k,{resourceType:L,isList:B,linkName:k,propertyName:U}),C.set(W.constructor,K)},O=L=>C.get(L),w=(L,B)=>{const k=C.get(L);if((0,t.a4)(k))return k.get(B)};function M(L){return B=>{const k=C.get(L)||new Map,W=C.get(B)||new Map;k.forEach((U,K)=>{W.has(K)||W.set(K,U)}),C.set(B,W)}}},1321:(F,D,n)=>{"use strict";n.d(D,{_:()=>E});var i=n(983),t=n(25558),u=n(99437),e=n(82640),h=n(82777),m=n(4047),f=n(21921),v=n(54438);let E=(()=>{class _{constructor(I,R,T,A){this.injector=I,this.map=R,this.getLinkDefinition=T,this.getLinkDefinitions=A}resolveLinks(I,...R){return R.forEach(T=>{this.resolveLink(I,T)}),I}resolveLinkWithoutAttaching(I,R){const T=this.getLinkDefinition(I.constructor,R.name);if((0,h.a4)(T))return(0,m.M)(this.map,T.resourceType.value,this.injector).pipe((0,t.n)(p=>{const x=I._links[T.linkName];if((0,h.a4)(x)){const O=x.href;try{return T.isList?p.findListByHref(O,R.findListOptions,R.useCachedVersionIfAvailable,R.reRequestOnStale,...R.linksToFollow):p.findByHref(O,R.useCachedVersionIfAvailable,R.reRequestOnStale,...R.linksToFollow)}catch(w){throw console.error(`Something went wrong when using ${T.resourceType.value}) ${(0,h.a4)(p)?"":"(undefined) "}to resolve link ${String(R.name)} at ${O}`),w}}return i.w}),(0,u.W)(p=>{throw new Error(`The @link() for ${String(R.name)} on ${I.constructor.name} models uses the resource type ${T.resourceType.value.toUpperCase()}, but there is no service with an @dataService(${T.resourceType.value.toUpperCase()}) annotation in order to retrieve it`)}));if(!R.isOptional)throw new Error(`followLink('${String(R.name)}') was used as a required link for a ${I.constructor.name}, but there is no property on ${I.constructor.name} models with an @link() for ${String(R.name)}`);return i.w}resolveLink(I,R){const A=this.getLinkDefinitions(I.constructor).get(R.name);return(0,h.hj)(A)?I[A.propertyName]=this.resolveLinkWithoutAttaching(I,R):I[R.name]=this.resolveLinkWithoutAttaching(I,R),I}removeResolvedLinks(I){const R=Object.assign(new I.constructor,I),T=this.getLinkDefinitions(I.constructor);return(0,h.hj)(T)&&T.forEach(A=>{R[A.propertyName]=void 0}),R}static{this.\u0275fac=function(R){return new(R||_)(v.KVO(v.zZn),v.KVO(e.l9),v.KVO(f.qP),v.KVO(f.FR))}}static{this.\u0275prov=v.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},72734:(F,D,n)=>{"use strict";n.d(D,{o:()=>K});var i=n(7673),t=n(84572),u=n(77876),e=n(25558),h=n(96354),m=n(99172),f=n(5964),v=n(23294),_=n(82777),C=n(43404),I=n(67600),R=n(96820),T=n(74346),A=n(1716),p=n(32473),x=n(7434),O=n(69227),w=n(80183),M=n(91098),L=n(87891),B=n(41684),k=n(21921),W=n(1321),U=n(54438);let K=(()=>{class Y{constructor(q,z,te){this.objectCache=q,this.linkService=z,this.requestService=te}buildPayload(q,z,...te){return(0,_.Tn)(z)&&(z=(0,i.of)(void 0)),(0,t.z)([z,q]).pipe((0,e.n)(([Z,J])=>{const Q=this.hasExactMatchInObjectCache(Z,J);return(0,_.a4)(J.response)&&(Q||this.isCacheablePayload(J)||this.isUnCacheablePayload(J))?Q?this.objectCache.getObjectByHref(Z):this.isCacheablePayload(J)?this.objectCache.getObjectByHref(J.response.payloadLink.href):[this.plainObjectToInstance(J.response.unCacheableObject)]:(0,x.yO)(J.state)?[null]:[void 0]}),(0,e.n)(Z=>{if((0,_.a4)(Z)){if((0,L.zA)(Z.type)===T.v.value)return this.buildPaginatedList(Z,...te);if((0,_.hj)(te))return[this.linkService.resolveLinks(Z,...te)]}return[Z]}))}plainObjectToInstance(q){const z=(0,k.Qt)(q.type);return Object.assign("function"==typeof z?new z:{},q)}hasExactMatchInObjectCache(q,z){return(0,_.a4)(z)&&(0,_.a4)(z.request)&&(0,_.hj)(z.request.uuid)&&(0,_.a4)(q)&&this.objectCache.hasByHref(q,z.request.uuid)}isCacheablePayload(q){return(0,_.a4)(q.response.payloadLink)&&(0,_.hj)(q.response.payloadLink.href)}isUnCacheablePayload(q){return(0,_.a4)(q.response.unCacheableObject)}buildPaginatedList(q,...z){const te=z.find(Q=>"page"===Q.name),Z=z.filter(Q=>"page"!==Q.name),J=Object.assign(new R.O,q);if((0,_.a4)(te)){if((0,_.Im)(J.page)){const Q=J._links.page.map(ee=>ee.href);return this.objectCache.getList(Q).pipe((0,h.T)(ee=>(J.page=ee.map(le=>this.plainObjectToInstance(le)).map(le=>this.linkService.resolveLinks(le,...te.linksToFollow)),(0,_.hj)(Z)?this.linkService.resolveLinks(J,...Z):J)))}if(J.page=J.page.filter(Q=>null!=Q).map(Q=>this.plainObjectToInstance(Q)).map(Q=>this.linkService.resolveLinks(Q,...te.linksToFollow)),(0,_.hj)(Z))return(0,i.of)(this.linkService.resolveLinks(J,...Z))}return(0,i.of)(J)}buildFromRequestUUID(q,...z){"string"==typeof q&&(q=(0,i.of)(q));const te=q.pipe((0,M.m9)(this.requestService)),Z=this.buildPayload(te,void 0,...z);return this.toRemoteDataObservable(te,Z)}buildFromRequestUUIDAndAwait(q,z,...te){const Z=this.buildFromRequestUUID(q,...te),J=new u.h;return Z.pipe((0,w.qD)(),(0,e.n)(Q=>Q.hasSucceeded?z(Q):[!0])).subscribe(()=>{J.next(!0),J.complete()}),Z.pipe((0,e.n)(Q=>Q.hasSucceeded?J.pipe((0,h.T)(()=>Q)):[Q]))}buildFromHref(q,...z){"string"==typeof q&&(q=(0,i.of)(q));const te=(q=q.pipe((0,h.T)(Q=>(0,O.tJ)(Q)))).pipe((0,e.n)(Q=>this.objectCache.getRequestUUIDBySelfLink(Q))),Z=(0,t.z)([q.pipe((0,M.Ky)(this.requestService),(0,m.Z)(void 0)),te.pipe((0,M.m9)(this.requestService),(0,m.Z)(void 0))]).pipe((0,f.p)(([Q,ee])=>(0,_.a4)(Q)||(0,_.a4)(ee)),(0,h.T)(([Q,ee])=>(0,_.Tn)(ee)?Q:(0,_.Tn)(Q)?ee:(0,x.QO)(Q.state)&&(0,x.QO)(ee.state)||!(0,x.QO)(Q.state)&&!(0,x.QO)(ee.state)?Q.lastUpdated>=ee.lastUpdated?Q:ee:(0,x.QO)(ee.state)?Q:ee)),J=this.buildPayload(Z,q,...z);return this.toRemoteDataObservable(Z,J).pipe(function E(Y,G){return(0,v.F)((q,z)=>G?G(q[Y],z[Y]):q[Y]===z[Y])}("lastUpdated"))}buildSingle(q,...z){return this.buildFromHref(q,...z)}toRemoteDataObservable(q,z){return(0,t.z)([q,z]).pipe((0,f.p)(([te,Z])=>(0,_.a4)(te)&&!((0,x.yO)(te.state)&&(0,_.b0)(Z))),(0,h.T)(([te,Z])=>{let J=te.response;return(0,_.Tn)(J)&&(J={}),new A.j(J.timeCompleted,te.request.responseMsToLive,te.lastUpdated,te.state,J.errorMessage,Z,J.statusCode)}))}buildList(q,...z){return this.buildFromHref(q,(0,I.s)("page",{shouldEmbed:!1},...z))}aggregate(q){return(0,_.Im)(q)?(0,C.CX)([],(new Date).getTime()):(0,t.z)(q).pipe((0,h.T)(z=>{const te=z.map(se=>se.timeCompleted).reduce((se,ce)=>ce>se?ce:se),Z=z.map(se=>se.msToLive).reduce((se,ce)=>ce<se?ce:se),J=z.map(se=>se.lastUpdated).reduce((se,ce)=>ce>se?ce:se);let Q;Q=z.some(se=>se.isRequestPending)?x.zE.RequestPending:z.some(se=>se.isResponsePending)?x.zE.ResponsePending:z.some(se=>se.isErrorStale)?x.zE.ErrorStale:z.some(se=>se.isError)?x.zE.Error:z.some(se=>se.isSuccessStale)?x.zE.SuccessStale:x.zE.Success;const ee=z.map(se=>se.errorMessage).map((se,ce)=>{if((0,_.a4)(se))return`[${ce}]: ${se}`}).filter(se=>(0,_.a4)(se)).join(", "),le=new Set(z.map(se=>se.statusCode));let ne;1===le.size?ne=le.values().next().value:le.size>1&&(ne=207);const fe=z.map(se=>se.payload);return new A.j(te,Z,J,Q,ee,fe,ne)}))}static{this.\u0275fac=function(z){return new(z||Y)(U.KVO(B.$),U.KVO(W._),U.KVO(p.B))}}static{this.\u0275prov=U.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}}return Y})()},56970:(F,D,n)=>{"use strict";n.d(D,{I:()=>t});class i{}class t extends i{}},24547:(F,D,n)=>{"use strict";n.d(D,{a:()=>t});var i=n(82777);class t{constructor(e){this.prefix=e}Serialize(e){}Deserialize(e){return(0,i.a4)(e)?`${this.prefix}-${e}`:e}}},53954:(F,D,n)=>{"use strict";n.d(D,{x:()=>i});class i{constructor(u,e,h=!0){this.fieldName=u,this.fieldValue=e,this.encodeValue=h,h&&(this.fieldValue=encodeURIComponent(e))}}},6238:(F,D,n)=>{"use strict";n.d(D,{U:()=>i,z:()=>t});var i=function(u){return u.ASC="ASC",u.DESC="DESC",u}(i||{});class t{constructor(e,h){this.field=e,this.direction=h}}},98372:(F,D,n)=>{"use strict";n.d(D,{Bc:()=>v,YA:()=>u,Yp:()=>h,dL:()=>m,db:()=>t,gL:()=>f,ok:()=>E,sI:()=>e});var i=n(91e3);const t={ADD:(0,i.N)("dspace/core/cache/object/ADD"),REMOVE:(0,i.N)("dspace/core/cache/object/REMOVE"),RESET_TIMESTAMPS:(0,i.N)("dspace/core/cache/object/RESET_TIMESTAMPS"),ADD_PATCH:(0,i.N)("dspace/core/cache/object/ADD_PATCH"),APPLY_PATCH:(0,i.N)("dspace/core/cache/object/APPLY_PATCH"),ADD_DEPENDENTS:(0,i.N)("dspace/core/cache/object/ADD_DEPENDENTS"),REMOVE_DEPENDENTS:(0,i.N)("dspace/core/cache/object/REMOVE_DEPENDENTS")};class u{constructor(C,I,R,T,A){this.type=t.ADD,this.payload={objectToCache:C,timeCompleted:I,msToLive:R,requestUUID:T,alternativeLink:A}}}class e{constructor(C){this.type=t.REMOVE,this.payload=C}}class h{constructor(C){this.type=t.RESET_TIMESTAMPS,this.payload=C}}class m{constructor(C,I){this.type=t.ADD_PATCH,this.payload={href:C,operations:I}}}class f{constructor(C){this.type=t.APPLY_PATCH,this.payload=C}}class v{constructor(C,I){this.type=t.ADD_DEPENDENTS,this.payload={href:C,dependentRequestUUIDs:I}}}class E{constructor(C){this.type=t.REMOVE_DEPENDENTS,this.payload=C}}},87891:(F,D,n)=>{"use strict";n.d(D,{gT:()=>f,zA:()=>e});var i=n(93583),t=n(82777),u=n(98372);const e=A=>{if((0,t.a4)(A)){if("string"==typeof A)return A;if("string"==typeof A.value)return A.value}},m=Object.create(null);function f(A=m,p){switch(p.type){case u.db.ADD:return function v(A,p){const x=(0,t.a4)(p.payload.objectToCache?._links?.self)?p.payload.objectToCache._links.self.href:p.payload.alternativeLink,O=A[x]||{},w=(0,t.a4)(p.payload.alternativeLink)?[p.payload.alternativeLink]:[];return(0,t.a4)(x)?Object.assign({},A,{[x]:{data:p.payload.objectToCache,timeCompleted:p.payload.timeCompleted,msToLive:p.payload.msToLive,requestUUIDs:[p.payload.requestUUID,...O.requestUUIDs||[]],dependentRequestUUIDs:O.dependentRequestUUIDs||[],isDirty:(0,t.hj)(O.patches),patches:O.patches||[],alternativeLinks:[...O.alternativeLinks||[],...w]}}):A}(A,p);case u.db.REMOVE:return function E(A,p){if((0,t.a4)(A[p.payload])){const x=Object.assign({},A);return delete x[p.payload],x}return A}(A,p);case u.db.RESET_TIMESTAMPS:return function _(A,p){const x=Object.create(null);return Object.keys(A).forEach(O=>{x[O]=Object.assign({},A[O],{timeCompleted:p.payload})}),x}(A,p);case u.db.ADD_PATCH:return function C(A,p){const x=p.payload.href,O=p.payload.operations,w=Object.assign({},A);return(0,t.a4)(w[x])&&(w[x]=Object.assign({},w[x],{patches:[...w[x].patches,{operations:O}],isDirty:!0})),w}(A,p);case u.db.APPLY_PATCH:return function I(A,p){const x=p.payload,O=Object.assign({},A);if((0,t.a4)(O[x])){const w=[].concat(...O[x].patches.map(L=>L.operations)),M=(0,i.X6)(O[x].data,w,void 0,!1);O[x]=Object.assign({},O[x],{data:M.newDocument,patches:[]})}return O}(A,p);case u.db.ADD_DEPENDENTS:return function R(A,p){const x=p.payload.href,O=Object.assign({},A);return(0,t.a4)(O[x])&&(O[x]=Object.assign({},O[x],{dependentRequestUUIDs:[...new Set([...O[x]?.dependentRequestUUIDs||[],...p.payload.dependentRequestUUIDs])]})),O}(A,p);case u.db.REMOVE_DEPENDENTS:return function T(A,p){const x=p.payload,O=Object.assign({},A);return(0,t.a4)(O[x])&&(O[x]=Object.assign({},O[x],{dependentRequestUUIDs:[]})),O}(A,p);default:return A}}},41684:(F,D,n)=>{"use strict";n.d(D,{$:()=>W});var i=n(25499),t=n(93583),u=n(84572),e=n(7673),h=n(96354),m=n(96697),f=n(73028),v=n(5964),E=n(25558),_=n(23294),C=n(82777),I=n(47797),R=n(43377),T=n(71442),A=n(69227),p=n(51672),x=n(21921),O=n(1321),w=n(98372),M=n(78394),L=n(54438);const B=(0,i.Mz)(I.N,U=>U["cache/object"]);let W=(()=>{class U{constructor(Y,G){this.store=Y,this.linkService=G}add(Y,G,q,z){(0,C.a4)(Y)&&(Y=this.linkService.removeResolvedLinks(Y)),this.store.dispatch(new w.YA(Y,(new Date).getTime(),G,q,z))}remove(Y){this.removeRelatedLinksFromIndex(Y),this.store.dispatch(new w.sI(Y))}removeRelatedLinksFromIndex(Y){const G=this.getByHref(Y),q=G.pipe((0,h.T)(te=>te.alternativeLinks),(0,m.s)(1)),z=G.pipe((0,h.T)(te=>Object.entries(te.data._links).filter(([Z,J])=>"self"!==Z).map(([Z,J])=>J.href)),(0,m.s)(1));this.removeLinksFromAlternativeLinkIndex(q),this.removeLinksFromAlternativeLinkIndex(z)}removeLinksFromAlternativeLinkIndex(Y){Y.subscribe(G=>G.forEach(q=>{this.store.dispatch(new T.NL(p.U.ALTERNATIVE_OBJECT_LINK,q))}))}getObjectByUUID(Y){return this.store.pipe((0,i.Lt)((0,A.vH)(Y)),(0,f.Z)(G=>this.getObjectByHref(G)))}getObjectByHref(Y){return this.getByHref(Y).pipe((0,h.T)(G=>{if((0,C.hj)(G.patches)){const q=[].concat(...G.patches.map(te=>te.operations)),z=(0,t.X6)(G.data,q,void 0,!1).newDocument;return Object.assign({},G,{data:z})}return G}),(0,h.T)(G=>{if((0,C.a4)(G.data)){const q=(0,x.Qt)(G.data.type);if("function"!=typeof q)throw new Error(`${q} is not a valid constructor for ${JSON.stringify(G.data)}`);return Object.assign(new q,G.data)}return null}))}getByHref(Y){return(0,u.z)([this.getByAlternativeLink(Y),this.getBySelfLink(Y)]).pipe((0,h.T)(G=>G.find(q=>(0,C.a4)(q))),(0,v.p)(G=>(0,C.a4)(G)))}getBySelfLink(Y){return this.store.pipe((0,i.Lt)((U=>(0,i.Mz)(B,K=>K[U]))(Y)))}getByAlternativeLink(Y){return this.store.pipe((0,i.Lt)((0,A.Fn)(Y)),(0,E.n)(G=>this.getBySelfLink(G)))}getRequestUUIDBySelfLink(Y){return this.getByHref(Y).pipe((0,h.T)(G=>G.requestUUIDs[0]),(0,_.F)())}getRequestUUIDByObjectUUID(Y){return this.store.pipe((0,i.Lt)((0,A.vH)(Y)),(0,f.Z)(G=>this.getRequestUUIDBySelfLink(G)))}getList(Y){return(0,C.Im)(Y)?(0,e.of)([]):(0,u.z)(Y.map(G=>this.getObjectByHref(G)))}hasByUUID(Y){let G=!1;return this.store.pipe((0,i.Lt)((0,A.vH)(Y)),(0,m.s)(1)).subscribe(q=>G=this.hasByHref(q)),G}hasByHref(Y,G){let q=!1;return this.getByHref(Y).subscribe(z=>{q=!(0,C.hj)(G)||z.requestUUIDs.includes(G)}).unsubscribe(),q}hasByHref$(Y){return(0,u.z)(this.getBySelfLink(Y),this.getByAlternativeLink(Y)).pipe((0,h.T)(G=>G.some(q=>(0,C.a4)(q))))}addPatch(Y,G){this.store.dispatch(new w.dL(Y,G)),this.store.dispatch(new M.Fs(Y,R.D.PATCH))}isDirty(Y){return(0,C.hj)(Y.patches)}applyPatchesToCachedObject(Y){this.store.dispatch(new w.gL(Y))}addDependency(Y,G){(0,C.Tn)(Y)||(0,C.Tn)(G)||("string"==typeof Y&&(Y=(0,e.of)(Y)),"string"==typeof G&&(G=(0,e.of)(G)),(0,u.z)([Y,G.pipe((0,E.n)(q=>this.resolveSelfLink(q)))]).pipe((0,E.n)(([q,z])=>{const te=(0,e.of)(z);return(0,u.z)([te,te.pipe((0,E.n)(Z=>this.getBySelfLink(Z)),(0,h.T)(Z=>Z?.dependentRequestUUIDs||[])),this.getByHref(q).pipe((0,h.T)(Z=>Z?.requestUUIDs?.[0]))])}),(0,m.s)(1)).subscribe(([q,z,te])=>{(0,C.a4)(q)&&(0,C.a4)(te)&&!z.includes(te)&&this.store.dispatch(new w.Bc(q,[te]))}))}removeDependents(Y){this.resolveSelfLink(Y).pipe((0,m.s)(1)).subscribe(G=>{(0,C.a4)(G)&&this.store.dispatch(new w.ok(G))})}resolveSelfLink(Y){return this.getBySelfLink(Y).pipe((0,E.n)(G=>(0,C.hj)(G)?[Y]:this.store.pipe((0,i.Lt)((0,A.Fn)(Y)))))}static{this.\u0275fac=function(G){return new(G||U)(L.KVO(i.il),L.KVO(O._))}}static{this.\u0275prov=L.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}}return U})()},13808:(F,D,n)=>{"use strict";n.d(D,{Ku:()=>i,_p:()=>m,bM:()=>u,hT:()=>t});class i{constructor(A,p,x){this.isSuccessful=A,this.statusCode=p,this.statusText=x,this.toCache=!0}}class t extends i{constructor(A,p,x){super(!0,A,`${A}`),this.link=p,this.unCacheableObject=x}}class u extends i{constructor(A,p,x,O){super(!0,p,x),this.resourceSelfLinks=A,this.statusCode=p,this.statusText=x,this.pageInfo=O}}class m extends i{constructor(A){super(!1,A.statusCode,A.statusText),console.error(A),this.errorMessage=A.message}}},78394:(F,D,n)=>{"use strict";n.d(D,{Fs:()=>u,G9:()=>t,a0:()=>h,eR:()=>e});var i=n(91e3);const t={ADD:(0,i.N)("dspace/core/cache/syncbuffer/ADD"),COMMIT:(0,i.N)("dspace/core/cache/syncbuffer/COMMIT"),EMPTY:(0,i.N)("dspace/core/cache/syncbuffer/EMPTY")};class u{constructor(f,v){this.type=t.ADD,this.payload={href:f,method:v}}}class e{constructor(f){this.type=t.COMMIT,this.payload=f}}class h{constructor(f){this.type=t.EMPTY,this.payload=f}}},42084:(F,D,n)=>{"use strict";n.d(D,{P:()=>f});var i=n(96354),t=n(8917),u=n(65007),e=n(3970),h=n(80183),m=n(54438);let f=(()=>{class v{constructor(_,C){this.configService=_,this.authorizationService=C,this._inboxRelationLink="http://www.w3.org/ns/ldp#inbox"}isCoarConfigEnabled(){return this.authorizationService.isAuthorized(e._.CoarNotifyEnabled)}getCoarLdnLocalInboxUrls(){return this.configService.findByPropertyName("ldn.notify.inbox").pipe((0,h.qD)(),(0,i.T)(_=>_.hasSucceeded?_.payload.values:[]))}getInboxRelationLink(){return this._inboxRelationLink}static{this.\u0275fac=function(C){return new(C||v)(m.KVO(t.ConfigurationDataService),m.KVO(u.AuthorizationDataService))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},25168:(F,D,n)=>{"use strict";n.d(D,{M:()=>v});var i=n(31635),t=n(74850),u=n(21921),e=n(96820),h=n(49797),m=n(96787);let f=class extends h.G{static{this.type=m.gf}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],f.prototype,"isDefault",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",e.O)],f.prototype,"sections",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],f.prototype,"_links",void 0),f=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(h.G)],f);let v=class extends f{static{this.type=m.Nm}};v=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(f)],v)},7232:(F,D,n)=>{"use strict";n.d(D,{f:()=>f});var i=n(31635),t=n(74850),u=n(21921),e=n(49797),h=n(96787);let m=class extends e.G{static{this.type=h.vH}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],m.prototype,"rows",void 0),m=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(e.G)],m);let f=class extends m{static{this.type=h.KX}};f=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(m)],f)},96787:(F,D,n)=>{"use strict";n.d(D,{KX:()=>h,NS:()=>_,Nm:()=>t,V_:()=>v,WJ:()=>f,XI:()=>C,gf:()=>u,mU:()=>E,vH:()=>e});var i=n(42547);const t=new i.v("submissiondefinitions"),u=new i.v("submissiondefinition"),e=new i.v("submissionform"),h=new i.v("submissionforms"),f=(new i.v("submissionsections"),new i.v("submissionsection")),v=new i.v("submissionuploads"),E=new i.v("submissionupload"),_=new i.v("submissionaccessoption"),C=new i.v("bulkaccessconditionoption")},49797:(F,D,n)=>{"use strict";n.d(D,{G:()=>h});var i=n(31635),t=n(74850),u=n(42547),e=n(98688);class h{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"name",void 0),(0,i.Cg)([e.aK,t.autoserialize,(0,i.Sn)("design:type",u.v)],h.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],h.prototype,"_links",void 0)},47797:(F,D,n)=>{"use strict";n.d(D,{N:()=>t});const t=(0,n(25499).UX)("core")},45022:(F,D,n)=>{"use strict";n.r(D),n.d(D,{AccessStatusDataService:()=>f});var i=n(72734),t=n(41684),u=n(4910),e=n(49802),h=n(32473),m=n(54438);let f=(()=>{class v extends e.L{constructor(_,C,I,R){super("accessStatus",_,C,I,R),this.requestService=_,this.rdbService=C,this.objectCache=I,this.halService=R}findAccessStatusFor(_){return this.findByHref(_._links.accessStatus.href)}static{this.\u0275fac=function(C){return new(C||v)(m.KVO(h.B),m.KVO(i.o),m.KVO(t.$),m.KVO(u.Y))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},51538:(F,D,n)=>{"use strict";n.d(D,{aE:()=>E});var i=n(88280),t=n(82777),u=n(21921),e=n(28580),h=n(32089),m=n(96820);function f(_){return(0,t.hj)(_._links)&&(0,t.a4)(_._links.self)}function v(_){return(0,t.a4)(_.page)&&(0,t.a4)(_.page.size)&&(0,t.a4)(_.page.totalElements)&&(0,t.a4)(_.page.totalPages)&&(0,t.a4)(_.page.number)}class E{constructor(){this.shouldDirectlyAttachEmbeds=!1,this.serializerConstructor=e.T}process(C,I,R){if((0,t.hj)(C)){if((0,t.Tn)(C)||"object"!=typeof C)return C;if(v(C))return this.processPaginatedList(C,I);if(Array.isArray(C))return this.processArray(C,I);if(f(C)){const A=this.deserialize(C);return(0,t.hj)(C._embedded)&&Object.keys(C._embedded).filter(p=>C._embedded.hasOwnProperty(p)).forEach(p=>{const x=this.process(C._embedded[p],I,C._links[p].href);(0,t.a4)(A)&&this.shouldDirectlyAttachEmbeds&&(0,t.hj)(x)&&(v(C._embedded[p])?(A[p]=x,A[p].page=x.page.map(O=>this.retrieveObjectOrUrl(O))):f(C._embedded[p])?A[p]=this.retrieveObjectOrUrl(x):Array.isArray(x)&&(A[p]=x.map(O=>this.retrieveObjectOrUrl(O))))}),this.cache(A,I,C,R),A}const T={};return Object.keys(C).filter(A=>C.hasOwnProperty(A)).filter(A=>(0,t.a4)(C[A])).forEach(A=>{T[A]=this.process(C[A],I)}),T}}processPaginatedList(C,I){const R=this.processPageInfo(C);let T=C._embedded;(0,t.Tn)(T)?T=[]:Array.isArray(T)||(T=this.flattenSingleKeyObject(T));const A=this.processArray(T,I);return(0,m.g)(R,A)}processArray(C,I){let R=[];return C.forEach(T=>{R=[...R,this.process(T,I)]}),R}deserialize(C){const I=C.type;if((0,t.a4)(I)){const R=(0,u.Qt)(I);return(0,t.a4)(R)?new this.serializerConstructor(R).deserialize(C):(console.warn("cannot deserialize type "+I),null)}return console.warn("cannot deserialize type "+I),null}cache(C,I,R,T){this.toCache&&this.addToObjectCache(C,I,R,T)}addToObjectCache(C,I,R,T){if((0,t.Tn)(C)||(0,t.Tn)(C._links)||(0,t.Tn)(C._links.self)||(0,t.Tn)(C._links.self.href)){const A=(0,t.a4)(R)&&(0,t.a4)(R.type)?R.type:"object";let p;return p=(0,t.a4)(R._embedded)?JSON.stringify(Object.assign({},R,{_embedded:"..."})):JSON.stringify(R),void console.warn(`Can't cache incomplete ${A}: ${JSON.stringify(C)}, parsed from (partial) response: ${p}`)}this.objectCache.add(C,(0,t.a4)(I.responseMsToLive)?I.responseMsToLive:i.c.cache.msToLive.default,I.uuid,T)}processPageInfo(C){if((0,t.a4)(C.page)){const I=Object.assign({},C.page,{_links:C._links}),R=new e.T(h.Q).deserialize(I);return R.currentPage>=0&&Object.assign(R,{currentPage:R.currentPage+1}),R}}flattenSingleKeyObject(C){const I=Object.keys(C);if(1!==I.length)throw new Error(`Expected an object with a single key, got: ${JSON.stringify(C)}`);return C[I[0]]}retrieveObjectOrUrl(C){return this.toCache?C._links.self.href:C}isSuccessStatus(C){return C>=200&&C<300}}},49802:(F,D,n)=>{"use strict";n.d(D,{L:()=>O});var i=n(7673),t=n(44668),u=n(77876),e=n(22806),h=n(88141),m=n(96697),f=n(96354),v=n(28492),E=n(25558),_=n(73028),C=n(56594),I=n(82777),R=n(21921),T=n(80183),A=n(45663),p=n(43052);class O{constructor(M,L,B,k,W,U){this.linkPath=M,this.requestService=L,this.rdbService=B,this.objectCache=k,this.halService=W,this.responseMsToLive=U}getBrowseEndpoint(M={},L){return this.getEndpoint()}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}buildHrefFromFindOptions(M,L,B=[],...k){let W=[...B];return(0,I.a4)(L.currentPage)&&"number"==typeof L.currentPage&&(W=this.addHrefArg(M,W,"page="+(L.currentPage-1))),(0,I.a4)(L.elementsPerPage)&&(W=this.addHrefArg(M,W,`size=${L.elementsPerPage}`)),(0,I.a4)(L.sort)&&(W=this.addHrefArg(M,W,`sort=${L.sort.field},${L.sort.direction}`)),(0,I.a4)(L.startsWith)&&(W=this.addHrefArg(M,W,`startsWith=${L.startsWith}`)),(0,I.a4)(L.searchParams)&&L.searchParams.forEach(U=>{W=this.addHrefArg(M,W,`${U.fieldName}=${U.fieldValue}`)}),W=this.addEmbedParams(M,W,...k),(0,I.hj)(W)?new A.t(M,`?${W.join("&")}`).toString():M}buildHrefWithParams(M,L,...B){let k=[];return(0,I.a4)(L)&&L.forEach(W=>{k=this.addHrefArg(M,k,`${W.fieldName}=${W.fieldValue}`)}),k=this.addEmbedParams(M,k,...B),(0,I.hj)(k)?new A.t(M,`?${k.join("&")}`).toString():M}addEmbedParams(M,L,...B){return B.forEach(k=>{if((0,I.a4)(k)&&k.shouldEmbed){const W="embed="+String(k.name);(0,I.a4)(k.findListOptions)&&(0,I.a4)(k.findListOptions.elementsPerPage)&&(L=this.addHrefArg(M,L,"embed.size="+String(k.name)+"="+k.findListOptions.elementsPerPage)),L=(0,I.hj)(k.linksToFollow)?this.addNestedEmbeds(W,M,L,...k.linksToFollow):this.addHrefArg(M,L,W)}}),L}addHrefArg(M,L,B){return M.includes(B)||L.includes(B)?[...L]:[...L,B]}addNestedEmbeds(M,L,B,...k){let W=M;return k.forEach(U=>{if((0,I.a4)(U)&&U.shouldEmbed){if(W=W+"%2F"+String(U.name),(0,I.a4)(U.findListOptions)&&(0,I.a4)(U.findListOptions.elementsPerPage)){const K="embed.size="+W.split("=")[1]+"="+U.findListOptions.elementsPerPage;B=this.addHrefArg(L,B,K)}B=(0,I.a4)(U.linksToFollow)&&(0,I.hj)(U.linksToFollow)?this.addNestedEmbeds(W,L,B,...U.linksToFollow):this.addHrefArg(L,B,W)}}),B}reRequestStaleRemoteData(M,L){return B=>!0===M?B.pipe((0,h.M)(k=>{(0,I.a4)(k)&&k.isStale&&L()})):B}findByHref(M,L=!0,B=!0,...k){"string"==typeof M&&(M=(0,i.of)(M));const W=M.pipe((0,I.VT)(),(0,m.s)(1),(0,f.T)(Y=>this.buildHrefFromFindOptions(Y,{},[],...k)),(0,t.t)({bufferSize:1,refCount:!0})),U=(new Date).getTime();this.createAndSendGetRequest(W,L);const K=this.rdbService.buildSingle(W,...k).pipe((0,v.j)(Y=>Y.isStale||!L&&Y.lastUpdated<U),this.reRequestStaleRemoteData(B,()=>this.findByHref(M,L,B,...k)));return K.pipe((0,h.M)(Y=>{if((0,I.a4)(Y?.payload?._links))for(const G of Object.keys(Y.payload._links)){const q=(0,R.O3)(Y.payload.constructor,G);if(q?.propertyName&&(0,I.a4)(Y.payload[q.propertyName])&&"self"!==G){const z=[].concat(Y.payload._links[G]);for(const te of z)(0,I.a4)(te?.href)&&this.addDependency(K,te.href)}}}))}findListByHref(M,L={},B=!0,k=!0,...W){"string"==typeof M&&(M=(0,i.of)(M));const U=M.pipe((0,I.VT)(),(0,m.s)(1),(0,f.T)(G=>this.buildHrefFromFindOptions(G,L,[],...W)),(0,t.t)({bufferSize:1,refCount:!0})),K=(new Date).getTime();this.createAndSendGetRequest(U,B);const Y=this.rdbService.buildList(U,...W).pipe((0,v.j)(G=>G.isStale||!B&&G.lastUpdated<K),this.reRequestStaleRemoteData(k,()=>this.findListByHref(M,L,B,k,...W)));return Y.pipe((0,h.M)(G=>{if((0,I.a4)(G?.payload?.page))for(const q of G.payload.page)if((0,I.a4)(q?._links))for(const z of Object.keys(q._links)){const te=(0,R.O3)(q.constructor,z);if(te?.propertyName&&"self"!==z&&(0,I.a4)(q[te.propertyName])){const Z=[].concat(q._links[z]);for(const J of Z)(0,I.a4)(J?.href)&&this.addDependency(Y,J.href)}}}))}createAndSendGetRequest(M,L=!0){(0,I.hj)(M)&&("string"==typeof M&&(M=(0,i.of)(M)),M.pipe((0,I.VT)(),(0,m.s)(1)).subscribe(B=>{const k=this.requestService.generateRequestId(),W=new p.IP(k,B);(0,I.a4)(this.responseMsToLive)&&(W.responseMsToLive=this.responseMsToLive),this.requestService.send(W,L)}))}hasCachedResponse(M){if((0,I.hj)(M))return"string"==typeof M&&(M=(0,i.of)(M)),M.pipe((0,I.VT)(),(0,m.s)(1),(0,f.T)(L=>{const B=this.requestService.generateRequestId(),k=new p.IP(B,L);return!this.requestService.shouldDispatchRequest(k,!0)}));throw new Error("Can't check whether there is a cached response for an empty href$")}hasCachedErrorResponse(M){return this.hasCachedResponse(M).pipe((0,E.n)(L=>L?this.rdbService.buildSingle(M).pipe((0,T.qD)(),(0,f.T)(B=>B.hasFailed)):(0,i.of)(!1)))}getLinkPath(){return this.linkPath}addDependency(M,L){this.objectCache.addDependency(M.pipe((0,T.qD)(),(0,E.n)(B=>B.hasSucceeded?[B.payload._links.self.href]:[void 0])),L)}invalidateByHref(M){const L=new u.h;return this.objectCache.getByHref(M).pipe((0,m.s)(1),(0,E.n)(B=>(0,e.H)([...B.requestUUIDs,...B.dependentRequestUUIDs]).pipe((0,_.Z)(k=>this.requestService.setStaleByUUID(k)),(0,C.$)()))).subscribe(()=>{this.objectCache.removeDependents(M),L.next(!0),L.complete()}),L}}},39280:(F,D,n)=>{"use strict";n.d(D,{V:()=>C});var i=n(23294),t=n(96354),u=n(96697),e=n(77048),h=n(82777),m=n(4065),f=n(21921),v=n(28580),E=n(43052),_=n(49802);class C extends _.L{constructor(R,T,A,p,x,O,w){super(R,T,A,p,x,w),this.linkPath=R,this.requestService=T,this.rdbService=A,this.objectCache=p,this.halService=x,this.notificationsService=O,this.responseMsToLive=w}create(R,...T){const A=this.getEndpoint().pipe((0,h.VT)(),(0,i.F)(),(0,t.T)(p=>this.buildHrefWithParams(p,T)));return this.createOnEndpoint(R,A)}createOnEndpoint(R,T){const A=this.requestService.generateRequestId(),p=new v.T((0,f.Qt)(R.type)).serialize(R);T.pipe((0,u.s)(1)).subscribe(O=>{const w=new E.QU(A,O,JSON.stringify(p));(0,h.a4)(this.responseMsToLive)&&(w.responseMsToLive=this.responseMsToLive),this.requestService.send(w)});const x=this.rdbService.buildFromRequestUUID(A);return x.pipe((0,e.v)(O=>O.isLoading,!0)).subscribe(O=>{O.hasFailed&&this.notificationsService.error("Server Error:",O.errorMessage,new m.y(-1))}),x}}},13617:(F,D,n)=>{"use strict";n.d(D,{I:()=>h});var i=n(25558),t=n(82777),u=n(43052),e=n(63897);class h extends e.W{constructor(f,v,E,_,C,I,R,T){if(super(f,v,E,_,C,R,T),this.linkPath=f,this.requestService=v,this.rdbService=E,this.objectCache=_,this.halService=C,this.notificationsService=I,this.responseMsToLive=R,this.constructIdEndpoint=T,(0,t.Tn)(T))throw new Error(`DeleteDataImpl initialized without a constructIdEndpoint method (linkPath: ${f})`)}delete(f,v){return this.getIDHrefObs(f).pipe((0,i.n)(E=>this.deleteByHref(E,v)))}deleteByHref(f,v){const E=this.requestService.generateRequestId();let _=f;v&&v.forEach(I=>_+=(_.includes("?")?"&":"?")+"copyVirtualMetadata="+I);const C=new u.$(E,_);return(0,t.a4)(this.responseMsToLive)&&(C.responseMsToLive=this.responseMsToLive),this.requestService.send(C),this.rdbService.buildFromRequestUUIDAndAwait(E,()=>this.invalidateByHref(f))}}},46787:(F,D,n)=>{"use strict";n.d(D,{H:()=>m});var i=n(5964),t=n(96354),u=n(23294),e=n(82777),h=n(49802);class m extends h.L{constructor(v,E,_,C,I,R){super(v,E,_,C,I,R),this.linkPath=v,this.requestService=E,this.rdbService=_,this.objectCache=C,this.halService=I,this.responseMsToLive=R}findAll(v={},E=!0,_=!0,...C){return this.findListByHref(this.getFindAllHref(v),v,E,_,...C)}getFindAllHref(v={},E,..._){const C=[];return this.getBrowseEndpoint(v).pipe((0,i.p)(R=>(0,e.hj)(R)),(0,t.T)(R=>(0,e.hj)(E)?`${R}/${E}`:R),(0,u.F)()).pipe((0,t.T)(R=>this.buildHrefFromFindOptions(R,v,C,..._)))}}},63897:(F,D,n)=>{"use strict";n.d(D,{W:()=>m});var i=n(96354),t=n(96697),u=n(25558),e=n(49802);const h=(f,v)=>`${f}/${v}`;class m extends e.L{constructor(v,E,_,C,I,R,T=h){super(v,E,_,C,I,R),this.linkPath=v,this.requestService=E,this.rdbService=_,this.objectCache=C,this.halService=I,this.responseMsToLive=R,this.constructIdEndpoint=T}findById(v,E=!0,_=!0,...C){const I=this.getIDHrefObs(encodeURIComponent(v),...C);return this.findByHref(I,E,_,...C)}getIDHref(v,E,..._){return this.buildHrefFromFindOptions(this.constructIdEndpoint(v,E),{},[],..._)}getIDHrefObs(v,...E){return this.getEndpoint().pipe((0,i.T)(_=>this.getIDHref(_,v,...E)))}invalidateById(v){const E=this.getIDHrefObs(v).pipe((0,t.s)(1),(0,u.n)(_=>this.invalidateByHref(_)));return E.subscribe(),E}}},87158:(F,D,n)=>{"use strict";n.d(D,{n:()=>v});var i=n(96354),t=n(47677),u=n(73028),e=n(82777),h=n(80183),m=n(43052),f=n(63897);class v extends f.W{constructor(_,C,I,R,T,A,p,x){if(super(_,C,I,R,T,p,x),this.linkPath=_,this.requestService=C,this.rdbService=I,this.objectCache=R,this.halService=T,this.comparator=A,this.responseMsToLive=p,this.constructIdEndpoint=x,(0,e.Tn)(x))throw new Error(`PatchDataImpl initialized without a constructIdEndpoint method (linkPath: ${_})`)}patch(_,C){const I=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,i.T)(T=>this.getIDHref(T,_.uuid))).pipe((0,t.I)(T=>(0,e.a4)(T))).subscribe(T=>{const A=new m.EA(I,T,C);(0,e.a4)(this.responseMsToLive)&&(A.responseMsToLive=this.responseMsToLive),this.requestService.send(A)}),this.rdbService.buildFromRequestUUIDAndAwait(I,()=>this.invalidateByHref(_._links.self.href))}update(_){return this.createPatchFromCache(_).pipe((0,u.Z)(C=>((0,e.hj)(C)&&this.objectCache.addPatch(_._links.self.href,C),this.findByHref(_._links.self.href,!0,!0))))}commitUpdates(_){this.requestService.commit(_)}createPatchFromCache(_){return this.findByHref(_._links.self.href,!0,!1).pipe((0,h.yd)(),(0,h.Bo)(),(0,i.T)(I=>this.comparator.diff(I,_)))}}},91967:(F,D,n)=>{"use strict";n.d(D,{W:()=>h});var i=n(82777),t=n(28580),u=n(43052),e=n(49802);class h extends e.L{constructor(f,v,E,_,C,I){super(f,v,E,_,C,I),this.linkPath=f,this.requestService=v,this.rdbService=E,this.objectCache=_,this.halService=C,this.responseMsToLive=I}put(f){const v=this.requestService.generateRequestId(),E=new t.T(f.constructor).serialize(f),_=new u.v_(v,f._links.self.href,E);return(0,i.a4)(this.responseMsToLive)&&(_.responseMsToLive=this.responseMsToLive),this.requestService.send(_),this.rdbService.buildFromRequestUUID(v)}}},35108:(F,D,n)=>{"use strict";n.d(D,{X:()=>m});var i=n(96354),t=n(5964),u=n(82777),e=n(49802);const h=(f,v)=>`${f}/search/${v}`;class m extends e.L{constructor(v,E,_,C,I,R,T=h){if(super(v,E,_,C,I,R),this.linkPath=v,this.requestService=E,this.rdbService=_,this.objectCache=C,this.halService=I,this.responseMsToLive=R,this.constructSearchEndpoint=T,(0,u.Tn)(T))throw new Error(`SearchDataImpl initialized without a constructSearchEndpoint method (linkPath: ${v})`)}searchBy(v,E={},_=!0,C=!0,...I){const R=this.getSearchByHref(v,E,...I);return this.findListByHref(R,void 0,_,C,...I)}getSearchByHref(v,E={},..._){const C=[];return this.getSearchEndpoint(v).pipe((0,i.T)(R=>this.buildHrefFromFindOptions(R,E,C,..._)))}getSearchEndpoint(v){return this.halService.getEndpoint(this.linkPath).pipe((0,t.p)(E=>(0,u.hj)(E)),(0,i.T)(E=>this.constructSearchEndpoint(E,v)))}}},42578:(F,D,n)=>{"use strict";n.r(D),n.d(D,{BitstreamDataService:()=>z});var i=n(21626),t=n(84572),u=n(983),e=n(25558),h=n(96354),m=n(96697),f=n(47677),v=n(82777),E=n(39806),_=n(43404),C=n(67600),I=n(72734),R=n(53954),T=n(41684),A=n(4910),p=n(80183),x=n(32089),O=n(91098),w=n(13617),M=n(63897),L=n(87158),B=n(35108),k=n(4856),W=n(81443),U=n(12598),K=n(96820),Y=n(43052),G=n(32473),q=n(54438);let z=(()=>{class te extends M.W{constructor(J,Q,ee,le,ne,fe,se,ce){super("bitstreams",J,Q,ee,le),this.requestService=J,this.rdbService=Q,this.objectCache=ee,this.halService=le,this.bundleService=ne,this.bitstreamFormatService=fe,this.comparator=se,this.notificationsService=ce,this.searchData=new B.X(this.linkPath,J,Q,ee,le,this.responseMsToLive),this.patchData=new L.n(this.linkPath,J,Q,ee,le,se,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new w.I(this.linkPath,J,Q,ee,le,ce,this.responseMsToLive,this.constructIdEndpoint)}findAllByBundle(J,Q,ee=!0,le=!0,...ne){return this.findListByHref(J._links.bitstreams.href,Q,ee,le,...ne)}findAllByItemAndBundleName(J,Q,ee,le=!0,ne=!0,...fe){return this.bundleService.findByItemAndName(J,Q).pipe((0,e.n)(se=>se.hasSucceeded&&(0,v.a4)(se.payload)?this.findAllByBundle(se.payload,ee,le,ne,...fe):se.hasSucceeded||404!==se.statusCode?[se]:(0,_.CX)((0,K.g)(new x.Q,[]),(new Date).getTime())))}updateFormat(J,Q){const ee=this.requestService.generateRequestId(),le=this.getBrowseEndpoint().pipe((0,h.T)(fe=>`${fe}/${J.id}`),(0,e.n)(fe=>this.halService.getEndpoint("format",fe))),ne=this.bitstreamFormatService.getBrowseEndpoint().pipe((0,h.T)(fe=>`${fe}/${Q.id}`));return(0,t.z)([le,ne]).pipe((0,h.T)(([fe,se])=>{const ce=Object.create({});let De=new i.Lr;return De=De.append("Content-Type","text/uri-list"),ce.headers=De,new Y.v_(ee,fe,se,ce)}),(0,O.w$)(this.requestService),(0,m.s)(1)).subscribe(()=>{this.requestService.removeByHrefSubstring(J.self+"/format")}),this.rdbService.buildFromRequestUUID(ee)}findByItemHandle(J,Q,ee,le=!0,ne=!0,...fe){const se=[];se.push(new R.x("handle",J)),(0,v.a4)(Q)&&se.push(new R.x("sequenceId",Q)),(0,v.a4)(ee)&&se.push(new R.x("filename",ee));const ce=this.getSearchByHref("byItemHandle",{searchParams:se},...fe);return this.findByHref(ce,le,ne,...fe)}getSearchByHref(J,Q,...ee){return this.searchData.getSearchByHref(J,Q,...ee)}findPrimaryBitstreamByItemAndName(J,Q,ee=!0,le=!0,ne){return this.bundleService.findByItemAndName(J,Q,ee,le,ne,(0,C.s)("primaryBitstream")).pipe((0,p.qD)(),(0,e.n)(fe=>fe.hasSucceeded?fe.payload.primaryBitstream.pipe((0,p.qD)(),(0,h.T)(se=>se.hasSucceeded?se.payload:null)):u.w))}searchBy(J,Q,ee,le,...ne){return this.searchData.searchBy(J,Q,ee,le,...ne)}commitUpdates(J){this.patchData.commitUpdates(J)}patch(J,Q){return this.patchData.patch(J,Q)}update(J){return this.patchData.update(J)}createPatchFromCache(J){return this.patchData.createPatchFromCache(J)}delete(J,Q){return this.deleteData.delete(J,Q)}deleteByHref(J,Q){return this.deleteData.deleteByHref(J,Q)}removeMultiple(J){const Q=J.map(ne=>({op:"remove",path:`/bitstreams/${ne.id}`})),ee=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,f.I)(ne=>(0,v.a4)(ne))).subscribe(ne=>{const fe=new Y.EA(ee,ne,Q);(0,v.a4)(this.responseMsToLive)&&(fe.responseMsToLive=this.responseMsToLive),this.requestService.send(fe)}),this.rdbService.buildFromRequestUUIDAndAwait(ee,()=>(0,t.z)(J.map(ne=>this.invalidateByHref(ne._links.self.href))))}static{this.\u0275fac=function(Q){return new(Q||te)(q.KVO(G.B),q.KVO(I.o),q.KVO(T.$),q.KVO(A.Y),q.KVO(W.BundleDataService),q.KVO(k.BitstreamFormatDataService),q.KVO(U.j),q.KVO(E.I))}}static{this.\u0275prov=q.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}}return te})()},4856:(F,D,n)=>{"use strict";n.r(D),n.d(D,{BitstreamFormatDataService:()=>M});var i=n(25499),t=n(96354),u=n(23294),e=n(88141),h=n(29679),m=n(39806),f=n(72734),v=n(41684),E=n(47797),_=n(4910),C=n(91098),I=n(13617),R=n(46787),T=n(63897),A=n(43052),p=n(32473),x=n(54438);const O=(0,i.Mz)(E.N,L=>L.bitstreamFormats),w=(0,i.Mz)(O,L=>L.selectedBitstreamFormats);let M=(()=>{class L extends T.W{constructor(k,W,U,K,Y,G){super("bitstreamformats",k,W,U,K),this.requestService=k,this.rdbService=W,this.objectCache=U,this.halService=K,this.notificationsService=Y,this.store=G,this.linkPath="bitstreamformats",this.findAllData=new R.H(this.linkPath,k,W,U,K,this.responseMsToLive),this.deleteData=new I.I(this.linkPath,k,W,U,K,Y,this.responseMsToLive,this.constructIdEndpoint)}getUpdateEndpoint(k){return this.getBrowseEndpoint().pipe((0,t.T)(W=>this.getIDHref(W,k)))}getCreateEndpoint(){return this.getBrowseEndpoint()}updateBitstreamFormat(k){const W=this.requestService.generateRequestId();return this.getUpdateEndpoint(k.id).pipe((0,u.F)(),(0,t.T)(U=>new A.v_(W,U,k)),(0,C.w$)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID(W)}createBitstreamFormat(k){const W=this.requestService.generateRequestId();return this.getCreateEndpoint().pipe((0,t.T)(U=>new A.Qf(W,U,k)),(0,C.w$)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID(W)}clearBitStreamFormatRequests(){return this.getBrowseEndpoint().pipe((0,e.M)(k=>this.requestService.removeByHrefSubstring(k)))}getSelectedBitstreamFormats(){return this.store.pipe((0,i.Lt)(w))}selectBitstreamFormat(k){this.store.dispatch(new h.hO(k))}deselectBitstreamFormat(k){this.store.dispatch(new h.Cv(k))}deselectAllBitstreamFormats(){this.store.dispatch(new h.ZU)}findByBitstream(k){return this.findByHref(k._links.format.href)}findAll(k,W,U,...K){return this.findAllData.findAll(k,W,U,...K)}delete(k,W){return this.deleteData.delete(k,W)}deleteByHref(k,W){return this.deleteData.deleteByHref(k,W)}static{this.\u0275fac=function(W){return new(W||L)(x.KVO(p.B),x.KVO(f.o),x.KVO(v.$),x.KVO(_.Y),x.KVO(m.I),x.KVO(i.il))}}static{this.\u0275prov=x.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})()},81443:(F,D,n)=>{"use strict";n.r(D),n.d(D,{BundleDataService:()=>p});var i=n(96354),t=n(25558),u=n(96697),e=n(82777),h=n(72734),m=n(41684),f=n(4910),v=n(63897),E=n(87158),_=n(12598),C=n(1716),I=n(43052),R=n(32473),T=n(7434),A=n(54438);let p=(()=>{class x extends v.W{constructor(w,M,L,B,k){super("bundles",w,M,L,B),this.requestService=w,this.rdbService=M,this.objectCache=L,this.halService=B,this.comparator=k,this.bitstreamsEndpoint="bitstreams",this.patchData=new E.n(this.linkPath,w,M,L,B,k,this.responseMsToLive,this.constructIdEndpoint)}findAllByItem(w,M,L=!0,B=!0,...k){return this.findListByHref(w._links.bundles.href,M,L,B,...k)}findByItemAndName(w,M,L=!0,B=!0,k,...W){return this.findAllByItem(w,k??{elementsPerPage:9999},L,B,...W).pipe((0,i.T)(K=>{if((0,e.a4)(K.payload)&&(0,e.a4)(K.payload.page)){const Y=K.payload.page.find(G=>G.name===M);return(0,e.a4)(Y)?new C.j(K.timeCompleted,K.msToLive,K.lastUpdated,T.zE.Success,null,Y,200):new C.j(K.timeCompleted,K.msToLive,K.lastUpdated,T.zE.Error,`The bundle with name ${M} was not found.`,null,404)}return K}))}getBitstreamsEndpoint(w,M){return this.getBrowseEndpoint().pipe((0,t.n)(L=>this.halService.getEndpoint(this.bitstreamsEndpoint,`${L}/${w}`)),(0,i.T)(L=>M?M.toRestUrl(L):L))}getBitstreams(w,M,...L){const B=this.getBitstreamsEndpoint(w,M);return B.pipe((0,u.s)(1)).subscribe(k=>{const W=new I.IP(this.requestService.generateRequestId(),k);this.requestService.send(W,!0)}),this.rdbService.buildList(B,...L)}commitUpdates(w){this.patchData.commitUpdates(w)}patch(w,M){return this.patchData.patch(w,M)}update(w){return this.patchData.update(w)}createPatchFromCache(w){return this.patchData.createPatchFromCache(w)}static{this.\u0275fac=function(M){return new(M||x)(A.KVO(R.B),A.KVO(h.o),A.KVO(m.$),A.KVO(f.Y),A.KVO(_.j))}}static{this.\u0275prov=A.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})()},6983:(F,D,n)=>{"use strict";n.r(D),n.d(D,{CollectionDataService:()=>U});var i=n(21626),t=n(96354),u=n(25558),e=n(96697),h=n(5964),m=n(82777),f=n(4065),v=n(39806),E=n(72734),_=n(53954),C=n(41684),I=n(28580),R=n(45348),T=n(4910),A=n(80183),p=n(42578),x=n(3440),O=n(46660),w=n(12598),M=n(41023),L=n(43052),B=n(32473),k=n(54438),W=n(41780);let U=(()=>{class K extends x.x{constructor(G,q,z,te,Z,J,Q,ee,le){super("collections",G,q,z,te,Z,J,Q),this.requestService=G,this.rdbService=q,this.objectCache=z,this.halService=te,this.comparator=Z,this.notificationsService=J,this.bitstreamDataService=Q,this.communityDataService=ee,this.translate=le,this.errorTitle="collection.source.update.notifications.error.title",this.contentSourceError="collection.source.update.notifications.error.content"}getAuthorizedCollection(G,q={},z=!0,te=!0,...Z){return q=Object.assign({},q,{searchParams:[new _.x("query",G)]}),this.searchBy("findSubmitAuthorized",q,z,te,...Z).pipe((0,A.bD)())}getAuthorizedCollectionByEntityType(G,q,z={},te=!0,...Z){return z=Object.assign({},z,{searchParams:[new _.x("query",G),new _.x("entityType",q)]}),this.searchBy("findSubmitAuthorizedByEntityType",z,!0,te,...Z).pipe((0,A.bD)())}getAuthorizedCollectionByCommunity(G,q,z={},te=!0){return z=Object.assign({},z,{searchParams:[new _.x("uuid",G),new _.x("query",q)]}),this.searchBy("findSubmitAuthorizedByCommunity",z,te).pipe((0,A.bD)())}getAuthorizedCollectionByCommunityAndEntityType(G,q,z={},te=!0,...Z){const Q=[new _.x("uuid",G),new _.x("entityType",q)];return z=Object.assign({},z,{searchParams:Q}),this.searchBy("findSubmitAuthorizedByCommunityAndEntityType",z,!0,te,...Z).pipe((0,A.bD)())}hasAuthorizedCollection(){const q=new M._;return q.elementsPerPage=1,this.searchBy("findSubmitAuthorized",q).pipe((0,A.qD)(),(0,t.T)(z=>z?.payload?.totalElements>0))}getHarvesterEndpoint(G){return this.halService.getEndpoint(this.linkPath).pipe((0,u.n)(q=>this.halService.getEndpoint("harvester",`${q}/${G}`)))}getContentSource(G,q=!0){const z=this.getHarvesterEndpoint(G).pipe((0,m.VT)(),(0,e.s)(1));return z.subscribe(te=>{const Z=new L.IL(this.requestService.generateRequestId(),te);this.requestService.send(Z,q)}),this.rdbService.buildSingle(z)}updateContentSource(G,q){const z=this.requestService.generateRequestId(),te=new I.T(R.Z).serialize(q);return this.getHarvesterEndpoint(G).pipe((0,e.s)(1),(0,t.T)(J=>{const Q=Object.create({});let ee=new i.Lr;return ee=ee.append("Content-Type","application/json"),Q.headers=ee,new L.xu(z,J,JSON.stringify(te),Q)})).subscribe(J=>this.requestService.send(J)),this.rdbService.buildFromRequestUUID(z).pipe((0,A.qD)(),(0,t.T)(J=>J.hasFailed?(0,m.a4)(J.errorMessage)?this.notificationsService.error(this.translate.instant(this.errorTitle),422===J.statusCode?this.translate.instant(this.contentSourceError):J.errorMessage,new f.y(-1)):void 0:J),(0,m.VT)(),(0,t.T)(J=>(0,m.hj)(J.payload)?J.payload:J))}getFindByParentHref(G){return this.halService.getEndpoint("communities").pipe((0,u.n)(q=>this.halService.getEndpoint("collections",`${q}/${G}`)))}findOwningCollectionFor(G){return this.findByHref(G._links.owningCollection.href)}findMappedCollectionsFor(G,q){return this.findListByHref(G._links.mappedCollections.href,q)}getScopeCommunityHref(G){return this.communityDataService.getEndpoint().pipe((0,t.T)(q=>this.communityDataService.getIDHref(q,G.scopeID)),(0,h.p)(q=>(0,m.hj)(q)),(0,e.s)(1))}static{this.\u0275fac=function(q){return new(q||K)(k.KVO(B.B),k.KVO(E.o),k.KVO(C.$),k.KVO(T.Y),k.KVO(w.j),k.KVO(v.I),k.KVO(p.BitstreamDataService),k.KVO(O.CommunityDataService),k.KVO(W.c$))}}static{this.\u0275prov=k.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})()},3440:(F,D,n)=>{"use strict";n.d(D,{x:()=>x});var i=n(84572),t=n(25558),u=n(96354),e=n(5964),h=n(23294),m=n(96697),f=n(82777),v=n(43404),E=n(80183),_=n(45663),C=n(39280),I=n(13617),R=n(46787),T=n(63897),A=n(87158),p=n(35108);class x extends T.W{constructor(w,M,L,B,k,W,U,K){super(w,M,L,B,k),this.linkPath=w,this.requestService=M,this.rdbService=L,this.objectCache=B,this.halService=k,this.comparator=W,this.notificationsService=U,this.bitstreamDataService=K,this.createData=new C.V(this.linkPath,M,L,B,k,U,this.responseMsToLive),this.findAllData=new R.H(this.linkPath,M,L,B,k,this.responseMsToLive),this.searchData=new p.X(this.linkPath,M,L,B,k,this.responseMsToLive),this.patchData=new A.n(this.linkPath,M,L,B,k,W,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new I.I(this.linkPath,M,L,B,k,U,this.responseMsToLive,this.constructIdEndpoint)}getBrowseEndpoint(w={},M=this.linkPath){if((0,f.Im)(w.scopeID))return this.halService.getEndpoint(M);{const L=this.getScopeCommunityHref(w);return this.createAndSendGetRequest(L,!0),L.pipe((0,t.n)(B=>this.rdbService.buildSingle(B)),(0,E.qD)(),(0,u.T)(B=>{if(B.hasFailed)throw new Error(`The Community with scope ${w.scopeID} couldn't be retrieved`);return B.payload._links[M]}),(0,e.p)(B=>(0,f.hj)(B)),(0,u.T)(B=>B.href),(0,h.F)())}}findByParent(w,M={},...L){const B=this.getFindByParentHref(w).pipe((0,u.T)(k=>this.buildHrefFromFindOptions(k,M)));return this.findListByHref(B,M,!0,!0,...L)}getLogoEndpoint(w){return this.halService.getEndpoint(this.linkPath).pipe((0,u.T)(M=>new _.t(M,w,"logo").toString()))}deleteLogo(w){const M=w.logo;return(0,f.a4)(M)?M.pipe((0,E.qD)(),(0,t.n)(L=>L.hasFailed?(console.error(`Couldn't retrieve the logo '${w._links.logo.href}' in order to delete it.`),[L]):this.bitstreamDataService.deleteByHref(L.payload._links.self.href))):(0,v.PM)("The given object doesn't have a logo",400)}refreshCache(w){const M=this.parentCommunityUrlLookup(w);(0,f.a4)(M)&&(0,i.z)([this.findByHref(M).pipe((0,E.qD)()),this.halService.getEndpoint("communities/search/top").pipe((0,m.s)(1))]).subscribe(([L,B])=>{L.hasSucceeded&&(0,f.hj)(L.payload)&&(0,f.hj)(L.payload.id)?this.requestService.setStaleByHrefSubstring(L.payload.id):this.requestService.setStaleByHrefSubstring(B)})}parentCommunityUrlLookup(w){const M=w._links.parentCommunity;return(0,f.hj)(M)?M.href:null}create(w,...M){return this.createData.create(w,...M)}findAll(w,M,L,...B){return this.findAllData.findAll(w,M,L,...B)}searchBy(w,M,L,B,...k){return this.searchData.searchBy(w,M,L,B,...k)}commitUpdates(w){this.patchData.commitUpdates(w)}patch(w,M){return this.patchData.patch(w,M)}update(w){return this.patchData.update(w)}createPatchFromCache(w){return this.patchData.createPatchFromCache(w)}delete(w,M){return this.deleteData.delete(w,M)}deleteByHref(w,M){return this.deleteData.deleteByHref(w,M)}}},46660:(F,D,n)=>{"use strict";n.r(D),n.d(D,{CommunityDataService:()=>A});var i=n(96354),t=n(25558),u=n(5964),e=n(96697),h=n(82777),m=n(39806),f=n(72734),v=n(41684),E=n(4910),_=n(42578),C=n(3440),I=n(12598),R=n(32473),T=n(54438);let A=(()=>{class p extends C.x{constructor(O,w,M,L,B,k,W){super("communities",O,w,M,L,B,k,W),this.requestService=O,this.rdbService=w,this.objectCache=M,this.halService=L,this.comparator=B,this.notificationsService=k,this.bitstreamDataService=W,this.topLinkPath="search/top"}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}findTop(O={},...w){return this.getEndpoint().pipe((0,i.T)(M=>`${M}/search/top`),(0,t.n)(M=>this.findListByHref(M,O,!0,!0,...w)))}getFindByParentHref(O){return this.halService.getEndpoint(this.linkPath).pipe((0,t.n)(w=>this.halService.getEndpoint("subcommunities",`${w}/${O}`)))}getScopeCommunityHref(O){return this.getEndpoint().pipe((0,i.T)(w=>this.getIDHref(w,O.scopeID)),(0,u.p)(w=>(0,h.hj)(w)),(0,e.s)(1))}static{this.\u0275fac=function(w){return new(w||p)(T.KVO(R.B),T.KVO(f.o),T.KVO(v.$),T.KVO(E.Y),T.KVO(I.j),T.KVO(m.I),T.KVO(_.BitstreamDataService))}}static{this.\u0275prov=T.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},8917:(F,D,n)=>{"use strict";n.r(D),n.d(D,{ConfigurationDataService:()=>f});var i=n(72734),t=n(41684),u=n(4910),e=n(63897),h=n(32473),m=n(54438);let f=(()=>{class v extends e.W{constructor(_,C,I,R){super("properties",_,C,I,R),this.requestService=_,this.rdbService=C,this.objectCache=I,this.halService=R}findByPropertyName(_){return this.findById(_)}static{this.\u0275fac=function(C){return new(C||v)(m.KVO(h.B),m.KVO(i.o),m.KVO(t.$),m.KVO(u.Y))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},37419:(F,D,n)=>{"use strict";n.d(D,{Y:()=>f});var i=n(93583),t=n(21921),u=n(74850);class e{constructor(E){this.modelType=E}serialize(E){return h((0,u.Serialize)(E,this.modelType))}serializeArray(E){return h((0,u.Serialize)(E,this.modelType))}deserialize(E){if(Array.isArray(E))throw new Error("Expected a single model, use deserializeArray() instead");return(0,u.Deserialize)(E,this.modelType)}deserializeArray(E){if(!Array.isArray(E))throw new Error("Expected an Array, use deserialize() instead");return(0,u.Deserialize)(E,this.modelType)}}function h(v){const E={};for(const[_,C]of Object.entries(v))null!==C&&(E[_]=C);return E}var m=n(54438);let f=(()=>{class v{diff(_,C){const I=new e((0,t.Qt)(_.type)),R=new e((0,t.Qt)(C.type));return(0,i.UD)(I.serialize(_),R.serialize(C))}static{this.\u0275fac=function(C){return new(C||v)}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},12598:(F,D,n)=>{"use strict";n.d(D,{j:()=>h});var i=n(93583),t=n(84418),u=n.n(t),e=n(54438);let h=(()=>{class m{diff(v,E){return(0,i.UD)(this.filterUUIDsFromMetadata(v.metadata),this.filterUUIDsFromMetadata(E.metadata)).map(_=>Object.assign({},_,{path:"/metadata"+_.path}))}filterUUIDsFromMetadata(v){const E=u()(v);for(const _ of Object.keys(E))for(const C of E[_])C.uuid=void 0;return E}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=e.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},13989:(F,D,n)=>{"use strict";n.r(D),n.d(D,{DSpaceObjectDataService:()=>f});var i=n(72734),t=n(41684),u=n(4910),e=n(63897),h=n(32473),m=n(54438);let f=(()=>{class v extends e.W{constructor(_,C,I,R){super("dso",_,C,I,R,void 0,(T,A)=>T.replace(/{\?uuid}/,`?uuid=${A}`)),this.requestService=_,this.rdbService=C,this.objectCache=I,this.halService=R}static{this.\u0275fac=function(C){return new(C||v)(m.KVO(h.B),m.KVO(i.o),m.KVO(t.$),m.KVO(u.Y))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},49872:(F,D,n)=>{"use strict";n.d(D,{D3:()=>p,k_:()=>R});var i=n(88280),t=n(82777),u=n(21921),e=n(41684),h=n(13808),m=n(28580),f=n(69227),v=n(32089),E=n(45663),_=n(96820),C=n(43377),I=n(54438);function R(x){return(0,t.a4)(x)&&(0,t.a4)(x._links)&&(0,t.a4)(x._links.self)&&(0,t.a4)(x._links.self.href)}const A=x=>x.split("?").map(O=>O.split("&")).reduce((O,w)=>[...O,...w]);let p=(()=>{class x{constructor(w){this.objectCache=w,this.serializerConstructor=m.T}parse(w,M){let L;M=this.ensureSelfLink(w,M),w.method===C.D.GET&&(L=(0,f.tJ)(w.href));const B=this.process(M.payload,w,L);return(0,t.a4)(B)?R(B)?new h.hT(M.statusCode,B._links.self):new h.hT(M.statusCode,void 0,B):new h.hT(M.statusCode)}process(w,M,L){const B=(0,f.fW)(M.href);if((0,t.hj)(w)){if((0,t.Tn)(w)||"object"!=typeof w)return w;if(function T(x){return(0,t.a4)(x.page)&&(0,t.a4)(x.page.size)&&(0,t.a4)(x.page.totalElements)&&(0,t.a4)(x.page.totalPages)&&(0,t.a4)(x.page.number)}(w))return this.processPaginatedList(w,M,L);if(Array.isArray(w))return this.processArray(w,M);if(R(w)){const W=this.deserialize(w);return(0,t.hj)(w._embedded)&&Object.keys(w._embedded).filter(U=>w._embedded.hasOwnProperty(U)).forEach(U=>{let K=w._links[U].href;const Y=B.find(G=>G.name===U);(0,t.a4)(Y)&&(K=new E.t(K,`?size=${Y.size}`).toString()),null==w._embedded[U]?this.addToObjectCache(null,M,w,K):R(w._embedded[U])||this.objectCache.add(w._embedded[U],(0,t.a4)(M.responseMsToLive)?M.responseMsToLive:i.c.cache.msToLive.default,M.uuid,K),this.process(w._embedded[U],M,K)}),this.addToObjectCache(W,M,w,L),W}const k={};return Object.keys(w).filter(W=>w.hasOwnProperty(W)).filter(W=>(0,t.a4)(w[W])).forEach(W=>{k[W]=this.process(w[W],M)}),k}}ensureSelfLink(w,M){const L=(0,f.tJ)(w.href);if(w.method===C.D.GET&&(0,t.a4)(M)&&(0,t.a4)(M.payload)&&(0,t.a4)(M.payload._links))if((0,t.Tn)(M.payload._links.self)||(0,t.Tn)(M.payload._links.self.href))console.warn(`The response for '${w.href}' doesn't have a self link. This could mean there's an issue with the REST endpoint`),M.payload._links=Object.assign({},M.payload._links,{self:{href:L}});else{const B=A(L),k=A(M.payload._links.self.href);B[0]===k[0]&&(B.some(W=>!k.includes(W))||k.some(W=>!B.includes(W)))&&(console.warn(`The response for '${L}' has the self link '${M.payload._links.self.href}'. These don't match. This could mean there's an issue with the REST endpoint`),M.payload._links=Object.assign({},M.payload._links,{self:{href:L}}))}return M}processPaginatedList(w,M,L){const B=this.processPageInfo(w);let k=w._embedded;(0,t.Tn)(k)?k=[]:Array.isArray(k)||(k=this.flattenSingleKeyObject(k));const W=this.processArray(k,M),U=(0,_.g)(B,W,!0,w._links);return this.addToObjectCache(U,M,w,L),U}processArray(w,M){let L=[];return w.forEach(B=>{L=[...L,this.process(B,M)]}),L}deserialize(w){const M=w.type,L=this.getConstructorFor(M);return(0,t.a4)(L)?new this.serializerConstructor(L).deserialize(w):(console.warn("cannot deserialize type "+M),null)}getConstructorFor(w){return(0,t.a4)(w)?(0,u.Qt)(w):null}addToObjectCache(w,M,L,B){if((0,t.a4)(w)&&!R(w)){const k=(0,t.a4)(L)&&(0,t.a4)(L.type)?L.type:"object";let W;return W=(0,t.a4)(L._embedded)?JSON.stringify(Object.assign({},L,{_embedded:"..."})):JSON.stringify(L),void console.warn(`Can't cache incomplete ${k}: ${JSON.stringify(w)}, parsed from (partial) response: ${W}`)}(0,t.a4)(w)&&B===w._links.self.href&&(B=void 0),this.objectCache.add(w,(0,t.a4)(M.responseMsToLive)?M.responseMsToLive:i.c.cache.msToLive.default,M.uuid,B)}processPageInfo(w){if((0,t.a4)(w.page)){const M=new m.T(v.Q).deserialize(w.page);return M.currentPage>=0&&Object.assign(M,{currentPage:M.currentPage+1}),M}}flattenSingleKeyObject(w){const M=Object.keys(w);if(1!==M.length)throw new Error(`Expected an object with a single key, got: ${JSON.stringify(w)}`);return w[M[0]]}isSuccessStatus(w){return w>=200&&w<300}static{this.\u0275fac=function(M){return new(M||x)(I.KVO(e.$))}}static{this.\u0275prov=I.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})()},30077:(F,D,n)=>{"use strict";n.d(D,{f:()=>T});var i=n(25558),t=n(96354),u=n(96697),e=n(72734),h=n(41684),m=n(4910),f=n(80183),v=n(49802),E=n(46787),_=n(35108),C=n(38096),I=n(32473),R=n(54438);let T=(()=>{class A extends v.L{constructor(x,O,w,M,L){super("entitytypes",x,O,w,M),this.requestService=x,this.rdbService=O,this.objectCache=w,this.halService=M,this.relationshipTypeService=L,this.findAllData=new E.H(this.linkPath,x,O,w,M,this.responseMsToLive),this.searchData=new _.X(this.linkPath,x,O,w,M,this.responseMsToLive)}getBrowseEndpoint(x,O){return this.halService.getEndpoint(this.linkPath)}getRelationshipTypesEndpoint(x){return this.halService.getEndpoint(this.linkPath).pipe((0,i.n)(O=>this.halService.getEndpoint("relationshiptypes",`${O}/${x}`)))}isLeftType(x,O){return x.leftType.pipe((0,f.yd)(),(0,f.Bo)(),(0,t.T)(w=>w.uuid===O.uuid))}getAllAuthorizedRelationshipType(x={}){return this.searchBy("findAllByAuthorizedCollection",x).pipe((0,f.bD)())}hasMoreThanOneAuthorized(){return this.getAllAuthorizedRelationshipType({elementsPerPage:2,currentPage:1}).pipe((0,t.T)(O=>{let w;return w=!!O.payload&&O.payload.page.length>1,w}))}getAllAuthorizedRelationshipTypeImport(x={}){return this.searchBy("findAllByAuthorizedExternalSource",x).pipe((0,f.bD)())}hasMoreThanOneAuthorizedImport(){return this.getAllAuthorizedRelationshipTypeImport({elementsPerPage:2,currentPage:1}).pipe((0,u.s)(1),(0,t.T)(O=>O?.payload?.totalElements>1))}getEntityTypeRelationships(x,O=!0,w=!0,...M){const L=this.getRelationshipTypesEndpoint(x);return this.relationshipTypeService.findListByHref(L,void 0,O,w,...M)}getEntityTypeByLabel(x){return this.halService.getEndpoint(this.linkPath).pipe((0,u.s)(1),(0,i.n)(O=>this.findByHref(O+"/label/"+x)))}findAll(x,O,w,...M){return this.findAllData.findAll(x,O,w,...M)}searchBy(x,O,w,M,...L){return this.searchData.searchBy(x,O,w,M,...L)}static{this.\u0275fac=function(O){return new(O||A)(R.KVO(I.B),R.KVO(e.o),R.KVO(h.$),R.KVO(m.Y),R.KVO(C.RelationshipTypeDataService))}}static{this.\u0275prov=R.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},57514:(F,D,n)=>{"use strict";n.d(D,{Q:()=>R});var i=n(96354),t=n(25558),u=n(23294),e=n(96697),h=n(82777),m=n(72734),f=n(41684),v=n(4910),E=n(63897),_=n(35108),C=n(32473),I=n(54438);let R=(()=>{class T extends E.W{constructor(p,x,O,w){super("externalsources",p,x,O,w),this.requestService=p,this.rdbService=x,this.objectCache=O,this.halService=w,this.searchData=new _.X(this.linkPath,p,x,O,w,this.responseMsToLive)}getBrowseEndpoint(p={},x=this.linkPath){return this.halService.getEndpoint(x)}getEntriesEndpoint(p){return this.getBrowseEndpoint().pipe((0,i.T)(x=>this.getIDHref(x,p)),(0,t.n)(x=>this.halService.getEndpoint("entries",x)))}getExternalSourceEntries(p,x,O=!0,w=!0,...M){const L=this.getEntriesEndpoint(p).pipe((0,h.VT)(),(0,u.F)(),(0,i.T)(B=>(0,h.a4)(x)?x.toRestUrl(B):B),(0,e.s)(1));return this.hasCachedErrorResponse(L).pipe((0,t.n)(B=>this.findListByHref(L,void 0,!B,w,...M)))}searchBy(p,x,O,w,...M){return this.searchData.searchBy(p,x,O,w,...M)}static{this.\u0275fac=function(x){return new(x||T)(I.KVO(C.B),I.KVO(m.o),I.KVO(f.$),I.KVO(v.Y))}}static{this.\u0275prov=I.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},65007:(F,D,n)=>{"use strict";n.r(D),n.d(D,{AuthorizationDataService:()=>k});var i=n(7673),t=n(96354),u=n(99437),e=n(25558),h=n(82777),m=n(67600),f=n(72734),v=n(53954),E=n(41684),_=n(4910),C=n(80183),I=n(49802),R=n(35108),T=n(41023),A=n(32473),p=n(5090);class x{constructor(U,K,Y){this.objectUrl=U,this.ePersonUuid=K,this.featureId=Y}}var O=n(84572),B=n(54438);let k=(()=>{class W extends I.L{constructor(K,Y,G,q,z){super("authorizations",K,Y,G,q),this.requestService=K,this.rdbService=Y,this.objectCache=G,this.halService=q,this.siteService=z,this.linkPath="authorizations",this.searchByObjectPath="object",this.searchData=new R.X(this.linkPath,K,Y,G,q,this.responseMsToLive)}invalidateAuthorizationsRequestCache(){this.requestService.setStaleByHrefSubstring(this.linkPath)}isAuthorized(K,Y,G,q=!0,z=!0){return this.searchByObject(K,Y,G,{},q,z,(0,m.s)("feature")).pipe((0,C.qD)(),(0,t.T)(te=>401!==te.statusCode&&(0,h.a4)(te.payload)&&(0,h.hj)(te.payload.page)?te.payload.page:[]),(0,u.W)(()=>(0,i.of)([])),(W=>U=>U.pipe((0,e.n)(K=>(0,h.hj)(K)?(0,O.z)([...K.filter(Y=>(0,h.a4)(Y.feature)).map(Y=>Y.feature.pipe((0,C.ak)()))]):(0,i.of)([])),(0,t.T)(K=>K.filter(Y=>Y.id===W.valueOf()).length>0)))(K))}searchByObject(K,Y,G,q={},z=!0,te=!0,...Z){const J=(0,i.of)(Y).pipe((0,e.n)(ee=>(0,h.Tn)(ee)?this.siteService.find().pipe((0,t.T)(le=>le.self)):(0,i.of)(ee))),Q=J.pipe((0,t.T)(ee=>new x(ee,G,K)),(0,e.n)(ee=>this.searchBy(this.searchByObjectPath,this.createSearchOptions(ee.objectUrl,q,ee.ePersonUuid,ee.featureId),z,te,...Z)));return this.addDependency(Q,J),Q}createSearchOptions(K,Y={},G,q){let z=[];return(0,h.hj)(Y.searchParams)&&(z=[...Y.searchParams]),z.push(new v.x("uri",K,!1)),(0,h.a4)(q)&&z.push(new v.x("feature",q)),(0,h.a4)(G)&&z.push(new v.x("eperson",G)),Object.assign(new T._,Y,{searchParams:[...z]})}searchBy(K,Y,G,q,...z){return this.searchData.searchBy(K,Y,G,q,...z)}static{this.\u0275fac=function(Y){return new(Y||W)(B.KVO(A.B),B.KVO(f.o),B.KVO(E.$),B.KVO(_.Y),B.KVO(p.SiteDataService))}}static{this.\u0275prov=B.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})()},36673:(F,D,n)=>{"use strict";n.d(D,{i:()=>e});var i=n(7673),t=n(3970);const e=(0,n(89673).L)(()=>(0,i.of)(t._.CanManageGroups))},89673:(F,D,n)=>{"use strict";n.d(D,{L:()=>u});var i=n(96354),t=n(51581);const u=(e,h,m)=>(0,t.h)((f,v)=>e(f,v).pipe((0,i.T)(E=>[E])),h,m)},36329:(F,D,n)=>{"use strict";n.d(D,{Y:()=>e});var i=n(7673),t=n(3970);const e=(0,n(89673).L)(()=>(0,i.of)(t._.AdministratorOf))},51581:(F,D,n)=>{"use strict";n.d(D,{h:()=>_});var i=n(54438),t=n(7901),u=n(7673),e=n(84572),h=n(25558),m=n(67116),f=n(308),v=n(65007);const E=()=>(0,u.of)(void 0),_=(C,I=E,R=E)=>(T,A)=>{const p=(0,i.WQX)(v.AuthorizationDataService),x=(0,i.WQX)(t.Ix),O=(0,i.WQX)(m.uR);return(0,e.z)([C(T,A),I(T,A),R(T,A)]).pipe((0,h.n)(([w,M,L])=>(0,e.z)(w.map(B=>p.isAuthorized(B,M,L)))),(0,f.ci)(x,O,A.url))}},3970:(F,D,n)=>{"use strict";n.d(D,{_:()=>i});var i=function(t){return t.LoginOnBehalfOf="loginOnBehalfOf",t.AdministratorOf="administratorOf",t.CanDelete="canDelete",t.CanEditMetadata="canEditMetadata",t.WithdrawItem="withdrawItem",t.ReinstateItem="reinstateItem",t.EPersonRegistration="epersonRegistration",t.CanManageGroups="canManageGroups",t.CanManageGroup="canManageGroup",t.IsCollectionAdmin="isCollectionAdmin",t.IsCommunityAdmin="isCommunityAdmin",t.CanChangePassword="canChangePassword",t.CanDownload="canDownload",t.CanRequestACopy="canRequestACopy",t.CanManageVersions="canManageVersions",t.CanManageBitstreamBundles="canManageBitstreamBundles",t.CanManageRelationships="canManageRelationships",t.CanManageMappings="canManageMappings",t.CanManagePolicies="canManagePolicies",t.CanMakePrivate="canMakePrivate",t.CanMove="canMove",t.CanEditVersion="canEditVersion",t.CanDeleteVersion="canDeleteVersion",t.CanCreateVersion="canCreateVersion",t.CanViewUsageStatistics="canViewUsageStatistics",t.CanSendFeedback="canSendFeedback",t.CanClaimItem="canClaimItem",t.CanSynchronizeWithORCID="canSynchronizeWithORCID",t.CanSubmit="canSubmit",t.CanEditItem="canEditItem",t.CanRegisterDOI="canRegisterDOI",t.CanSubscribe="canSubscribeDso",t.CoarNotifyEnabled="coarNotifyEnabled",t.CanSeeQA="canSeeQA",t.EPersonForgotPassword="epersonForgotPassword",t}(i||{})},41023:(F,D,n)=>{"use strict";n.d(D,{_:()=>i});class i{}},70413:(F,D,n)=>{"use strict";n.r(D),n.d(D,{HrefOnlyDataService:()=>f});var i=n(72734),t=n(41684),u=n(4910),e=n(49802),h=n(32473),m=n(54438);let f=(()=>{class v{constructor(_,C,I,R){this.requestService=_,this.rdbService=C,this.objectCache=I,this.halService=R,this.dataService=new e.L(void 0,_,C,I,R)}findByHref(_,C=!0,I=!0,...R){return this.dataService.findByHref(_,C,I,...R)}findListByHref(_,C={},I=!0,R=!0,...T){return this.dataService.findListByHref(_,C,I,R,...T)}static{this.\u0275fac=function(C){return new(C||v)(m.KVO(h.B),m.KVO(i.o),m.KVO(t.$),m.KVO(u.Y))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},29326:(F,D,n)=>{"use strict";n.r(D),n.d(D,{BaseItemDataService:()=>K,ItemDataService:()=>Y});var i=n(21626),t=n(5964),u=n(96354),e=n(23294),h=n(25558),m=n(96697),f=n(47677),v=n(82777),E=n(39806),_=n(37864),C=n(72734),I=n(41684),R=n(4910),T=n(91098),A=n(45663),p=n(39280),x=n(13617),O=n(63897),w=n(87158),M=n(81443),L=n(12598),B=n(43052),k=n(32473),W=n(14410),U=n(54438);class K extends O.W{constructor(q,z,te,Z,J,Q,ee,le,ne,fe=((se,ce)=>`${se}/${ce}`)){super(q,z,te,Z,J,void 0,fe),this.linkPath=q,this.requestService=z,this.rdbService=te,this.objectCache=Z,this.halService=J,this.notificationsService=Q,this.comparator=ee,this.browseService=le,this.bundleService=ne,this.constructIdEndpoint=fe,this.createData=new p.V(this.linkPath,z,te,Z,J,Q,this.responseMsToLive),this.patchData=new w.n(this.linkPath,z,te,Z,J,ee,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new x.I(this.linkPath,z,te,Z,J,Q,this.responseMsToLive,this.constructIdEndpoint)}getBrowseEndpoint(q={},z=this.linkPath){let te="dc.date.issued";return q.sort&&q.sort.field&&(te=q.sort.field),this.browseService.getBrowseURLFor(te,z).pipe((0,t.p)(Z=>(0,v.hj)(Z)),(0,u.T)(Z=>new A.t(Z,`?scope=${q.scopeID}`).toString()),(0,e.F)())}getMappedCollectionsEndpoint(q,z){return this.halService.getEndpoint(this.linkPath).pipe((0,u.T)(te=>this.getIDHref(te,q)),(0,u.T)(te=>`${te}/mappedCollections${z?`/${z}`:""}`))}removeMappingFromCollection(q,z){return this.getMappedCollectionsEndpoint(q,z).pipe((0,v.VT)(),(0,e.F)(),(0,u.T)(te=>new B.$(this.requestService.generateRequestId(),te)),(0,T.w$)(this.requestService),(0,h.n)(te=>this.rdbService.buildFromRequestUUID(te.uuid)))}mapToCollection(q,z){return this.getMappedCollectionsEndpoint(q).pipe((0,v.VT)(),(0,e.F)(),(0,u.T)(te=>{const Z=Object.create({});let J=new i.Lr;return J=J.append("Content-Type","text/uri-list"),Z.headers=J,new B.Qf(this.requestService.generateRequestId(),te,z,Z)}),(0,T.w$)(this.requestService),(0,h.n)(te=>this.rdbService.buildFromRequestUUID(te.uuid)))}setWithDrawn(q,z){const te={op:"replace",path:"/withdrawn",value:z};return this.requestService.removeByHrefSubstring("/discover"),this.patch(q,[te])}setDiscoverable(q,z){const te={op:"replace",path:"/discoverable",value:z};return this.requestService.removeByHrefSubstring("/discover"),this.patch(q,[te])}getBundlesEndpoint(q){return this.halService.getEndpoint(this.linkPath).pipe((0,h.n)(z=>this.halService.getEndpoint("bundles",`${z}/${q}`)))}getBundles(q,z){const te=this.getBundlesEndpoint(q).pipe((0,u.T)(Z=>z?z.toRestUrl(Z):Z));return te.pipe((0,m.s)(1)).subscribe(Z=>{const J=new B.IP(this.requestService.generateRequestId(),Z);this.requestService.send(J)}),this.rdbService.buildList(te)}createBundle(q,z,te){const Z=this.requestService.generateRequestId(),J=this.getBundlesEndpoint(q),Q={name:z,metadata:te||{}};return J.pipe((0,m.s)(1)).subscribe(ee=>{const le=Object.create({});let ne=new i.Lr;ne=ne.append("Content-Type","application/json"),le.headers=ne;const fe=new B.Qf(Z,ee,JSON.stringify(Q),le);this.requestService.send(fe)}),this.rdbService.buildFromRequestUUID(Z)}getIdentifiersEndpoint(q){return this.halService.getEndpoint(this.linkPath).pipe((0,h.n)(z=>this.halService.getEndpoint("identifiers",`${z}/${q}`)))}getMoveItemEndpoint(q,z){return this.halService.getEndpoint(this.linkPath).pipe((0,u.T)(te=>this.getIDHref(te,q)),(0,u.T)(te=>`${te}/owningCollection?inheritPolicies=${z}`))}moveToCollection(q,z,te){const Z=Object.create({});let J=new i.Lr;J=J.append("Content-Type","text/uri-list"),Z.headers=J;const Q=this.requestService.generateRequestId();return this.getMoveItemEndpoint(q,te).pipe((0,f.I)(le=>(0,v.a4)(le)),(0,u.T)(le=>{const ne=new B.v_(Q,le,z._links.self.href,Z);return Object.assign(ne,{getResponseParser:()=>W.M}),ne})).subscribe(le=>{this.requestService.send(le)}),this.rdbService.buildFromRequestUUID(Q)}importExternalSourceEntry(q,z){const te=Object.create({});let Z=new i.Lr;Z=Z.append("Content-Type","text/uri-list"),te.headers=Z;const J=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,u.T)(ee=>`${ee}?owningCollection=${z}`)).pipe((0,f.I)(ee=>(0,v.a4)(ee)),(0,u.T)(ee=>{const le=new B.Qf(J,ee,q._links.self.href,te);this.requestService.send(le)})).subscribe(),this.rdbService.buildFromRequestUUID(J)}getBitstreamsEndpoint(q){return this.halService.getEndpoint(this.linkPath).pipe((0,h.n)(z=>this.halService.getEndpoint("bitstreams",`${z}/${q}`)))}invalidateItemCache(q){this.requestService.setStaleByHrefSubstring("item/"+q)}commitUpdates(q){this.patchData.commitUpdates(q)}patch(q,z){return this.patchData.patch(q,z)}update(q){return this.patchData.update(q)}createPatchFromCache(q){return this.patchData.createPatchFromCache(q)}delete(q,z){return this.deleteData.delete(q,z)}deleteByHref(q,z){return this.deleteData.deleteByHref(q,z)}create(q,...z){return this.createData.create(q,...z)}}let Y=(()=>{class G extends K{constructor(z,te,Z,J,Q,ee,le,ne){super("items",z,te,Z,J,Q,ee,le,ne),this.requestService=z,this.rdbService=te,this.objectCache=Z,this.halService=J,this.notificationsService=Q,this.comparator=ee,this.browseService=le,this.bundleService=ne}static{this.\u0275fac=function(te){return new(te||G)(U.KVO(k.B),U.KVO(C.o),U.KVO(I.$),U.KVO(R.Y),U.KVO(E.I),U.KVO(L.j),U.KVO(_.q),U.KVO(M.BundleDataService))}}static{this.\u0275prov=U.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})()},57568:(F,D,n)=>{"use strict";n.d(D,{c:()=>G});var i=n(92771),t=n(30017),u=n(98071),e=n(21413),h=n(58750),m=n(39974),f=n(71985);const E={connector:()=>new e.B};var I=n(77048),R=n(79131),T=n(9326),A=n(22806),x=n(96697),O=n(96354),w=n(99172),M=n(23294),L=n(23401),B=n(33550),k=n(80183),W=n(78655),U=n(57514),K=n(32473),Y=n(54438);let G=(()=>{class q{constructor(te,Z,J){this.externalSourceService=te,this.searchService=Z,this.requestService=J,this.singleResultOptions=Object.assign(new L.W,{id:"single-result-options",pageSize:1})}getLocalResults(te,Z,J=!0){const Q=Object.assign(new B.C({}),Z,{fixedFilter:te.filter,configuration:te.searchConfiguration});return J&&(this.searchConfig=Q),this.searchService.search(Q).pipe(function C(q,z){const te=(0,u.T)(q)?q:()=>q;return(0,u.T)(z)?function _(q,z=E){const{connector:te}=z;return(0,m.N)((Z,J)=>{const Q=te();(0,h.Tg)(q(function v(q){return new f.c(z=>q.subscribe(z))}(Q))).subscribe(J),J.add(Z.subscribe(Q))})}(z,{connector:te}):Z=>new t.G(Z,te)}(()=>new i.m(1),ee=>ee.pipe((0,I.v)(le=>le.isLoading),function p(...q){const z=(0,T.lI)(q);return(0,m.N)((te,Z)=>{(0,R.K)()((0,A.H)([te,...q],z)).subscribe(Z)})}(ee.pipe((0,x.s)(1))))))}getTotalLocalResults(te,Z){return this.getLocalResults(te,Object.assign(new B.C({}),Z,{pagination:this.singleResultOptions}),!1).pipe((0,k.v7)(),(0,k.Bo)(),(0,O.T)(J=>J.totalElements),(0,w.Z)(0))}getTotalExternalResults(te,Z){return this.externalSourceService.getExternalSourceEntries(te.id,Object.assign(new B.C({}),Z,{pagination:this.singleResultOptions})).pipe((0,k.v7)(),(0,k.Bo)(),(0,O.T)(J=>J.totalElements),(0,w.Z)(0),(0,M.F)())}removeLocalResultsCache(){this.searchService.getEndpoint().subscribe(te=>this.requestService.removeByHrefSubstring(te))}static{this.\u0275fac=function(Z){return new(Z||q)(Y.KVO(U.Q),Y.KVO(W.S),Y.KVO(K.B))}}static{this.\u0275prov=Y.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})()},25103:(F,D,n)=>{"use strict";n.d(D,{B:()=>i});var i=function(t){return t[t.UPDATE=0]="UPDATE",t[t.ADD=1]="ADD",t[t.REMOVE=2]="REMOVE",t}(i||{})},16105:(F,D,n)=>{"use strict";n.d(D,{Ft:()=>t,KD:()=>m,S3:()=>_,XO:()=>e,Y8:()=>v,g$:()=>u,jX:()=>E,mW:()=>I,nY:()=>h,wS:()=>f,zJ:()=>C});var i=n(91e3);const t={INITIALIZE_FIELDS:(0,i.N)("dspace/core/cache/object-updates/INITIALIZE_FIELDS"),SET_EDITABLE_FIELD:(0,i.N)("dspace/core/cache/object-updates/SET_EDITABLE_FIELD"),SET_VALID_FIELD:(0,i.N)("dspace/core/cache/object-updates/SET_VALID_FIELD"),ADD_FIELD:(0,i.N)("dspace/core/cache/object-updates/ADD_FIELD"),SELECT_VIRTUAL_METADATA:(0,i.N)("dspace/core/cache/object-updates/SELECT_VIRTUAL_METADATA"),DISCARD:(0,i.N)("dspace/core/cache/object-updates/DISCARD"),REINSTATE:(0,i.N)("dspace/core/cache/object-updates/REINSTATE"),REMOVE:(0,i.N)("dspace/core/cache/object-updates/REMOVE"),REMOVE_ALL:(0,i.N)("dspace/core/cache/object-updates/REMOVE_ALL"),REMOVE_FIELD:(0,i.N)("dspace/core/cache/object-updates/REMOVE_FIELD")};class u{constructor(T,A,p,x){this.type=t.INITIALIZE_FIELDS,this.payload={url:T,fields:A,lastModified:p,patchOperationService:x}}}class e{constructor(T,A,p){this.type=t.ADD_FIELD,this.payload={url:T,field:A,changeType:p}}}class h{constructor(T,A,p,x){this.type=t.SELECT_VIRTUAL_METADATA,this.payload={url:T,source:A,uuid:p,select:x}}}class m{constructor(T,A,p){this.type=t.SET_EDITABLE_FIELD,this.payload={url:T,uuid:A,editable:p}}}class f{constructor(T,A,p){this.type=t.SET_VALID_FIELD,this.payload={url:T,uuid:A,isValid:p}}}class v{constructor(T,A,p=!1){this.type=t.DISCARD,this.payload={url:T,notification:A,discardAll:p}}}class E{constructor(T){this.type=t.REINSTATE,this.payload={url:T}}}class _{constructor(T){this.type=t.REMOVE,this.payload={url:T}}}class C{constructor(){this.type=t.REMOVE_ALL}}class I{constructor(T,A){this.type=t.REMOVE_FIELD,this.payload={url:T,uuid:A}}}},66898:(F,D,n)=>{"use strict";n.d(D,{O:()=>v,U:()=>e});var i=n(82777),t=n(25103),u=n(16105);const e="/trash",h={editable:!1,isNew:!1,isValid:!0},m={editable:!0,isNew:!0,isValid:void 0},f=Object.create(null);function v(k=f,W){switch(W.type){case u.Ft.INITIALIZE_FIELDS:return function E(k,W){const U=W.payload.url,Y=W.payload.lastModified,G=W.payload.patchOperationService,q=function B(k){const W=k.map(K=>K.uuid),U={};return W.forEach(K=>U[K]=h),U}(W.payload.fields),z=Object.assign({},k[U],{fieldStates:q},{fieldUpdates:{}},{virtualMetadataSources:{}},{lastModified:Y},{patchOperationService:G});return Object.assign({},k,{[U]:z})}(k,W);case u.Ft.ADD_FIELD:return function _(k,W){const U=W.payload.url,K=W.payload.field,Y=W.payload.changeType,G=k[U]||{fieldUpdates:{}};let q=G.fieldStates;Y===t.B.ADD&&(q=Object.assign({},{[K.uuid]:m},G.fieldStates));let z=G.fieldUpdates[K.uuid]||{};const te=function w(k,W){return(0,i.Tn)(W)?k:(0,i.Tn)(k)?W:k.valueOf()>W.valueOf()?k:W}(z.changeType,Y);z=Object.assign({},{field:K,changeType:te});const Z=Object.assign({},G.fieldUpdates,{[K.uuid]:z}),J=Object.assign({},G,{fieldStates:q},{fieldUpdates:Z});return Object.assign({},k,{[U]:J})}(k,W);case u.Ft.SELECT_VIRTUAL_METADATA:return function C(k,W){const U=W.payload.url,K=W.payload.source,q=k[U]||{},z=Object.assign({},q.virtualMetadataSources[K],{[W.payload.uuid]:W.payload.select}),te=Object.assign({},q.virtualMetadataSources,{[K]:z}),Z=Object.assign({},q,{virtualMetadataSources:te});return Object.assign({},k,{[U]:Z})}(k,W);case u.Ft.DISCARD:return function I(k,W){if(W.payload.discardAll){let U=Object.assign({},k);return Object.keys(k).filter(K=>!K.endsWith(e)).forEach(K=>{U=R(K,U)}),U}return R(W.payload.url,k)}(k,W);case u.Ft.REINSTATE:return function T(k,W){const U=W.payload.url,Y=Object.assign({},k,{[U]:k[U+e]});return delete Y[U+e],Y}(k,W);case u.Ft.REMOVE:return function A(k,W){return function p(k,W){const U=Object.assign({},k);return delete U[W+e],U}(k,W.payload.url)}(k,W);case u.Ft.REMOVE_ALL:return function x(k){const W=Object.assign({},k);return Object.keys(k).filter(U=>U.endsWith(e)).forEach(U=>{delete W[U]}),W}(k);case u.Ft.REMOVE_FIELD:return function O(k,W){const U=W.payload.url,K=W.payload.uuid;let Y=k[U];if((0,i.a4)(Y)){const G=Object.assign({},Y.fieldUpdates);(0,i.a4)(G[K])&&delete G[K];const q=Object.assign({},Y.fieldStates);(0,i.a4)(q[K])&&(q[K].isNew?delete q[K]:q[K]=Object.assign({},q[K],{editable:!1,isValid:!0})),Y=Object.assign({},k[U],{fieldUpdates:G,fieldStates:q})}return Object.assign({},k,{[U]:Y})}(k,W);case u.Ft.SET_EDITABLE_FIELD:return function M(k,W){const U=W.payload.url,K=W.payload.uuid,G=k[U],z=Object.assign({},G.fieldStates[K],{editable:W.payload.editable}),te=Object.assign({},G.fieldStates,{[K]:z}),Z=Object.assign({},G,{fieldStates:te});return Object.assign({},k,{[U]:Z})}(k,W);case u.Ft.SET_VALID_FIELD:return function L(k,W){const U=W.payload.url,K=W.payload.uuid,G=k[U],z=Object.assign({},G.fieldStates[K],{isValid:W.payload.isValid}),te=Object.assign({},G.fieldStates,{[K]:z}),Z=Object.assign({},G,{fieldStates:te});return Object.assign({},k,{[U]:Z})}(k,W);default:return k}}function R(k,W){const U=W[k],K={};Object.keys(U.fieldStates).forEach(G=>{const q=U.fieldStates[G];q.isNew||(K[G]=Object.assign({},q,{editable:!1,isValid:!0}))});const Y=Object.assign({},U,{fieldUpdates:{},fieldStates:K});return Object.assign({},W,{[k]:Y},{[k+e]:U})}},96820:(F,D,n)=>{"use strict";n.d(D,{O:()=>C,g:()=>_});var i=n(31635),t=n(74850),u=n(82777),e=n(21921),h=n(56970),m=n(32089),f=n(42547),v=n(98688),E=n(74346);const _=(I,R,T=!1,A)=>{const p=new C;let x;return(0,u.Tn)(I)&&(I=new m.Q),p.pageInfo=I,(0,u.Im)(R)?x=[]:(x=R.map(O=>(0,u.a4)(O)&&(0,u.a4)(O._links)&&(0,u.a4)(O._links.self)?O._links.self:null),x.every(O=>(0,u.Tn)(O))&&(x=void 0)),p._links=Object.assign({},A,I._links,{page:x}),(!T||(0,u.b0)(x))&&(p.page=R),p};let C=class extends h.I{constructor(){super(...arguments),this.type=E.v}static{this.type=E.v}get elementsPerPage(){return(0,u.a4)(this.pageInfo)&&(0,u.a4)(this.pageInfo.elementsPerPage)?this.pageInfo.elementsPerPage:this.getPageLength()}set elementsPerPage(R){this.pageInfo.elementsPerPage=R}get totalElements(){return(0,u.a4)(this.pageInfo)&&(0,u.a4)(this.pageInfo.totalElements)?this.pageInfo.totalElements:this.getPageLength()}set totalElements(R){this.pageInfo.totalElements=R}get totalPages(){return(0,u.a4)(this.pageInfo)&&(0,u.a4)(this.pageInfo.totalPages)?this.pageInfo.totalPages:1}set totalPages(R){this.pageInfo.totalPages=R}get currentPage(){return(0,u.a4)(this.pageInfo)&&(0,u.a4)(this.pageInfo.currentPage)?this.pageInfo.currentPage:1}set currentPage(R){this.pageInfo.currentPage=R}get first(){if((0,u.a4)(this._links.first)&&(0,u.a4)(this._links.first.href))return this._links.first.href}set first(R){this._links.first={href:R},this.pageInfo._links.first={href:R}}get prev(){if((0,u.a4)(this._links.prev)&&(0,u.a4)(this._links.prev.href))return this._links.prev.href}set prev(R){this._links.prev={href:R},this.pageInfo._links.prev={href:R}}get next(){if((0,u.a4)(this._links.next)&&(0,u.a4)(this._links.next.href))return this._links.next.href}set next(R){this._links.next={href:R},this.pageInfo._links.next={href:R}}get last(){if((0,u.a4)(this._links.last)&&(0,u.a4)(this._links.last.href))return this._links.last.href}set last(R){this._links.last={href:R},this.pageInfo._links.last={href:R}}get self(){return this._links.self.href}set self(R){this._links.self={href:R},this.pageInfo._links.self={href:R}}getPageLength(){return Array.isArray(this.page)?this.page.length:0}};(0,i.Cg)([v.aK,(0,i.Sn)("design:type",Object)],C.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",f.v)],C.prototype,"objectType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",m.Q)],C.prototype,"pageInfo",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),C=(0,i.Cg)([e.gV],C)},74346:(F,D,n)=>{"use strict";n.d(D,{v:()=>t});const t=new(n(42547).v)("paginated-list")},32736:(F,D,n)=>{"use strict";n.r(D),n.d(D,{BATCH_EXPORT_SCRIPT_NAME:()=>x,BATCH_IMPORT_SCRIPT_NAME:()=>p,METADATA_EXPORT_SCRIPT_NAME:()=>A,METADATA_IMPORT_SCRIPT_NAME:()=>T,ScriptDataService:()=>O});var i=n(96697),t=n(96354),u=n(82777),e=n(72734),h=n(41684),m=n(4910),f=n(80183),v=n(45663),E=n(46787),_=n(63897),C=n(43052),I=n(32473),R=n(54438);const T="metadata-import",A="metadata-export",p="import",x="export";let O=(()=>{class w extends _.W{constructor(L,B,k,W){super("scripts",L,B,k,W),this.requestService=L,this.rdbService=B,this.objectCache=k,this.halService=W,this.findAllData=new E.H(this.linkPath,L,B,k,W,this.responseMsToLive)}invoke(L,B,k){const W=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,i.s)(1),(0,t.T)(U=>new v.t(U,L,"processes").toString()),(0,t.T)(U=>{const K=this.getInvocationFormData(B,k);return new C.E0(W,U,K)})).subscribe(U=>this.requestService.send(U)),this.rdbService.buildFromRequestUUID(W)}getInvocationFormData(L,B){const k=new FormData;return k.set("properties",JSON.stringify(L)),B.forEach(W=>{k.append("file",W)}),k}scriptWithNameExistsAndCanExecute(L){return this.findById(L).pipe((0,f.qD)(),(0,t.T)(B=>(0,u.a4)(B.payload)))}findAll(L,B,k,...W){return this.findAllData.findAll(L,B,k,...W)}static{this.\u0275fac=function(B){return new(B||w)(R.KVO(I.B),R.KVO(e.o),R.KVO(h.$),R.KVO(m.Y))}}static{this.\u0275prov=R.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},48833:(F,D,n)=>{"use strict";n.r(D),n.d(D,{RelationshipDataService:()=>me});var i=n(21626),t=n(25499),u=n(84572),e=n(7673),h=n(96354),m=n(96697),f=n(23294),v=n(25558),E=n(88141),_=n(5964),C=n(99172),I=n(73028),R=n(82640),T=n(195),A=n(46588),p=n(82777),x=n(94337),O=n(67600),w=n(49656),M=n(72734),L=n(53954),B=n(41684),k=n(5410),W=n(4910),U=n(67359),K=n(93498),Y=n(90424),G=n(80183),q=n(91098),z=n(63897),te=n(91967),Z=n(35108),J=n(41023),Q=n(29326),ee=n(43052),le=n(32473),ne=n(7434),fe=n(54438);const se=re=>re.relationshipLists,ce=re=>(0,T.pc)(re,se),be=re=>Ee=>Ee.pipe((0,G.ak)(),(0,h.T)(Te=>Te.uuid===re.uuid));let me=(()=>{class re extends z.W{constructor(Te,tt,ht,Fe,Et,Ye,pt,Mt,Ne){super("relationships",Te,tt,Fe,ht,9e5),this.requestService=Te,this.rdbService=tt,this.halService=ht,this.objectCache=Fe,this.metadataService=Et,this.itemService=Ye,this.appStore=pt,this.paginatedRelationsToItems=Mt,this.appConfig=Ne,this.searchData=new Z.X(this.linkPath,Te,tt,Fe,ht,this.responseMsToLive),this.putData=new te.W(this.linkPath,Te,tt,Fe,ht,this.responseMsToLive)}getRelationshipEndpoint(Te){return this.getBrowseEndpoint().pipe((0,h.T)(tt=>`${tt}/${Te}`))}deleteRelationship(Te,tt,ht=!0){return this.getRelationshipEndpoint(Te).pipe((0,p.VT)(),(0,m.s)(1),(0,f.F)(),(0,h.T)(Fe=>new ee.$(this.requestService.generateRequestId(),Fe+"?copyVirtualMetadata="+tt)),(0,q.w$)(this.requestService),(0,v.n)(Fe=>this.rdbService.buildFromRequestUUID(Fe.uuid)),(0,G.qD)(),(0,E.M)(()=>{ht&&this.refreshRelationshipItemsInCacheByRelationship(Te)}))}addRelationship(Te,tt,ht,Fe,Et,Ye=!0){const pt=Object.create({});let Mt=new i.Lr;return Mt=Mt.append("Content-Type","text/uri-list"),pt.headers=Mt,this.halService.getEndpoint(this.linkPath).pipe((0,p.VT)(),(0,m.s)(1),(0,h.T)(Ne=>`${Ne}?relationshipType=${Te}`),(0,h.T)(Ne=>(0,p.hj)(Fe)?`${Ne}&leftwardValue=${Fe}`:Ne),(0,h.T)(Ne=>(0,p.hj)(Et)?`${Ne}&rightwardValue=${Et}`:Ne),(0,h.T)(Ne=>new ee.Qf(this.requestService.generateRequestId(),Ne,`${tt.self} \n ${ht.self}`,pt)),(0,q.w$)(this.requestService),(0,v.n)(Ne=>this.rdbService.buildFromRequestUUID(Ne.uuid)),(0,G.qD)(),(0,E.M)(()=>{Ye&&(this.refreshRelationshipItemsInCache(tt),this.refreshRelationshipItemsInCache(ht))}))}refreshRelationshipItemsInCacheByRelationship(Te){this.findById(Te,!0,!1,(0,O.s)("leftItem"),(0,O.s)("rightItem")).pipe((0,G.yd)(),(0,G.Bo)(),(0,v.n)(tt=>(0,u.z)(tt.leftItem.pipe((0,G.yd)(),(0,G.Bo)()),tt.rightItem.pipe((0,G.yd)(),(0,G.Bo)()))),(0,m.s)(1)).subscribe(([tt,ht])=>{this.refreshRelationshipItemsInCache(tt),this.refreshRelationshipItemsInCache(ht)})}refreshRelationshipItemsInCache(Te){this.objectCache.remove(Te._links.self.href),this.requestService.removeByHrefSubstring(Te.uuid),(0,u.z)([this.objectCache.hasByHref$(Te._links.self.href),this.requestService.hasByHref$(Te.self)]).pipe((0,_.p)(([tt,ht])=>!tt&&!ht),(0,m.s)(1)).subscribe(()=>this.itemService.findByHref(Te._links.self.href))}getItemRelationshipsArray(Te,...tt){return this.findListByHref(Te._links.relationships.href,void 0,!0,!1,...tt).pipe((0,G.yd)(),(0,G.Bo)(),(0,h.T)(ht=>ht.page),(0,p.Az)(),(0,f.F)((0,A.W2)()))}getRelationshipTypeLabelsByItem(Te){return this.getItemRelationshipsArray(Te,(0,O.s)("leftItem"),(0,O.s)("rightItem"),(0,O.s)("relationshipType")).pipe((0,v.n)(tt=>(0,u.z)(tt.map(ht=>this.getRelationshipTypeLabelByRelationshipAndItem(ht,Te)))),(0,h.T)(tt=>Array.from(new Set(tt))))}getRelationshipTypeLabelByRelationshipAndItem(Te,tt){return Te.leftItem.pipe((0,G.yd)(),(0,h.T)(ht=>ht.payload),(0,v.n)(ht=>Te.relationshipType.pipe((0,G.yd)(),(0,h.T)(Fe=>Fe.payload),(0,h.T)(Fe=>ht.uuid===tt.uuid?Fe.leftwardType:Fe.rightwardType))))}getRelatedItems(Te){return this.getItemRelationshipsArray(Te,(0,O.s)("leftItem"),(0,O.s)("rightItem"),(0,O.s)("relationshipType")).pipe((0,A.NG)(Te.uuid))}getRelatedItemsByLabel(Te,tt,ht){const Fe=(0,w.nW)(ht.fetchThumbnail,this.appConfig.item.showAccessStatuses);return Fe.push((0,O.s)("relationshipType")),this.getItemRelationshipsByLabel(Te,tt,ht,!0,!0,...Fe).pipe(this.paginatedRelationsToItems(Te.uuid))}getItemRelationshipsByLabel(Te,tt,ht,Fe=!0,Et=!0,...Ye){let pt=new J._;ht&&(pt=Object.assign(new J._,ht));const Mt=[new L.x("label",tt),new L.x("dso",Te.id)];pt.searchParams=pt.searchParams?[...pt.searchParams,...Mt]:Mt;const Ne=this.searchBy("byLabel",pt,Fe,!1,...Ye);return this.addDependency(Ne,Te._links.self.href),Ne.pipe(this.reRequestStaleRemoteData(Et,()=>this.getItemRelationshipsByLabel(Te,tt,ht,Fe,Et,...Ye)))}getRelationshipsByRelatedItemIds(Te,tt){return this.getItemRelationshipsArray(Te,(0,O.s)("leftItem"),(0,O.s)("rightItem")).pipe((0,v.n)(ht=>(0,u.z)(ht.map(Fe=>{const Et=this.isItemInUUIDArray(Fe.leftItem,tt),Ye=this.isItemInUUIDArray(Fe.rightItem,tt);return(0,u.z)([Et,Ye]).pipe((0,_.p)(([pt,Mt])=>pt||Mt),(0,h.T)(()=>Fe),(0,C.Z)(void 0))}))),(0,h.T)(ht=>ht.filter(Fe=>(0,p.a4)(Fe))))}isItemInUUIDArray(Te,tt){return Te.pipe((0,G.yd)(),(0,h.T)(ht=>ht.payload),(0,h.T)(ht=>tt.includes(ht.uuid)))}getRelationshipByItemsAndLabel(Te,tt,ht,Fe){return this.getItemRelationshipsByLabel(Te,ht,Fe,!0,!1,(0,O.s)("relationshipType"),(0,O.s)("leftItem"),(0,O.s)("rightItem")).pipe((0,G.yd)(),(0,I.Z)(Et=>Et.payload.page),(0,I.Z)(Et=>(0,u.z)([this.itemService.findByHref(Et._links.leftItem.href).pipe(be(tt)),this.itemService.findByHref(Et._links.rightItem.href).pipe(be(tt))]).pipe((0,h.T)(([Ye,pt])=>Ye||pt),(0,h.T)(Ye=>Ye?Et:void 0))),(0,_.p)(Et=>(0,p.a4)(Et)),(0,m.s)(1))}setNameVariant(Te,tt,ht){this.appStore.dispatch(new x.dD(Te,tt,ht))}getNameVariant(Te,tt){return this.appStore.pipe((0,t.Lt)(((re,Ee)=>(0,T.pc)(Ee,ce(re)))(Te,tt)))}removeNameVariant(Te,tt){this.appStore.dispatch(new x.zH(Te,tt))}getNameVariantsByListID(Te){return this.appStore.pipe((0,t.Lt)(ce(Te)))}updateNameVariant(Te,tt,ht,Fe){return this.getRelationshipByItemsAndLabel(Te,tt,ht).pipe((0,v.n)(Et=>Et.relationshipType.pipe((0,G.yd)(),(0,G.Bo)(),(0,h.T)(Ye=>({relation:Et,type:Ye})))),(0,v.n)(Et=>{const{relation:Ye,type:pt}=Et;let Mt;return Mt=Object.assign(new U.b,Ye,ht===pt.leftwardType?{rightwardValue:Fe}:{leftwardValue:Fe}),this.update(Mt)}))}isLeftItem(Te,tt){return Te.leftItem.pipe((0,G.yd)(),(0,G.Bo)(),(0,_.p)(ht=>(0,p.a4)(ht)&&(0,p.hj)(ht.uuid)),(0,h.T)(ht=>ht.uuid===tt.uuid))}updatePlace(Te){let tt;tt=Object.assign(new U.b,Te.relationship,Te.useLeftItem?{rightPlace:Te.newIndex}:{leftPlace:Te.newIndex});const ht=this.update(tt);return ht.pipe((0,_.p)(Fe=>Fe.state===ne.zE.ResponsePending),(0,m.s)(1)).subscribe(Fe=>{Fe.state===ne.zE.ResponsePending&&this.refreshRelationshipItemsInCacheByRelationship(Te.relationship.id)}),ht}update(Te){return this.putData.put(Te)}searchByItemsAndType(Te,tt,ht,Fe){const Et=[new L.x("typeId",Te),new L.x("focusItem",tt),new L.x("relationshipLabel",ht),new L.x("size",Fe.length),new L.x("embed","leftItem"),new L.x("embed","rightItem")];Fe.forEach(pt=>{Et.push(new L.x("relatedItem",pt))});const Ye=this.searchBy("byItemsAndType",{searchParams:Et});return Fe.forEach(pt=>{this.addDependency(Ye,this.itemService.getIDHrefObs(encodeURIComponent(pt)))}),Ye}searchBy(Te,tt,ht,Fe,...Et){return this.searchData.searchBy(Te,tt,ht,Fe,...Et)}resolveMetadataRepresentation(Te,tt,ht){return this.metadataService.isVirtual(Te)?this.findById(this.metadataService.virtualValue(Te),!0,!1,(0,O.s)("leftItem"),(0,O.s)("rightItem")).pipe((0,G.yd)(),(0,v.n)(Fe=>(0,u.z)(Fe.payload.leftItem,Fe.payload.rightItem).pipe((0,_.p)(([Et,Ye])=>Et.hasCompleted&&Ye.hasCompleted),(0,h.T)(([Et,Ye])=>Et.hasSucceeded&&Ye.hasSucceeded?Ye.hasSucceeded&&Et.payload.id===tt.id?Ye.payload:Ye.payload.id===tt.id?Et.payload:void 0:null),(0,h.T)(Et=>(0,p.a4)(Et)?Object.assign(new K.y(Te),Et):Object.assign(new Y.Q(ht),Te))))):(0,e.of)(Object.assign(new Y.Q(ht),Te))}static{this.\u0275fac=function(tt){return new(tt||re)(fe.KVO(le.B),fe.KVO(M.o),fe.KVO(W.Y),fe.KVO(B.$),fe.KVO(k.T),fe.KVO(Q.ItemDataService),fe.KVO(t.il),fe.KVO(A.ky),fe.KVO(R.vQ))}}static{this.\u0275prov=fe.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}}return re})()},38096:(F,D,n)=>{"use strict";n.r(D),n.d(D,{RelationshipTypeDataService:()=>w});var i=n(84572),t=n(25558),u=n(73028),e=n(56594),h=n(96354),m=n(82777),f=n(67600),v=n(72734),E=n(53954),_=n(41684),C=n(4910),I=n(80183),R=n(49802),T=n(46787),A=n(35108),p=n(32473),x=n(54438);const O=(M,L)=>M.hasSucceeded&&M.payload.label===L;let w=(()=>{class M extends R.L{constructor(B,k,W,U){super("relationshiptypes",B,k,W,U),this.requestService=B,this.rdbService=k,this.objectCache=W,this.halService=U,this.searchData=new A.X(this.linkPath,B,k,W,U,this.responseMsToLive),this.findAllData=new T.H(this.linkPath,B,k,W,U,this.responseMsToLive)}getRelationshipTypeByLabelAndTypes(B,k,W){return this.findAllData.findAll({currentPage:1,elementsPerPage:9999},!0,!0,(0,f.s)("leftType"),(0,f.s)("rightType")).pipe((0,I.yd)(),(0,t.n)(U=>U.payload.page),(0,u.Z)(U=>U.leftwardType===B?this.checkType(U,k,W):U.rightwardType===B?this.checkType(U,W,k):[null]),(0,e.$)(),(0,h.T)(U=>{const K=U.find(Y=>(0,m.a4)(Y));return(0,m.a4)(K)?K:null}))}checkType(B,k,W){return(0,i.z)([B.leftType.pipe((0,I.qD)()),B.rightType.pipe((0,I.qD)())]).pipe((0,h.T)(([U,K])=>O(U,k)&&O(K,W)?B:null))}searchByEntityType(B,k=!0,W=!0,...U){return this.searchData.searchBy("byEntityType",{searchParams:[new E.x("type",B),new E.x("size",100)]},k,W,...U).pipe((0,I.yd)(),(0,I.Bo)())}static{this.\u0275fac=function(k){return new(k||M)(x.KVO(p.B),x.KVO(v.o),x.KVO(_.$),x.KVO(C.Y))}}static{this.\u0275prov=x.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},1716:(F,D,n)=>{"use strict";n.d(D,{j:()=>t});var i=n(7434);class t{constructor(e,h,m,f,v,E,_){this.timeCompleted=e,this.msToLive=h,this.lastUpdated=m,this.state=f,this.errorMessage=v,this.payload=E,this.statusCode=_}get isRequestPending(){return(0,i.DB)(this.state)}get isResponsePending(){return(0,i.vT)(this.state)}get isError(){return(0,i.bJ)(this.state)}get isSuccess(){return(0,i.oJ)(this.state)}get isErrorStale(){return(0,i.uN)(this.state)}get isSuccessStale(){return(0,i.DF)(this.state)}get isLoading(){return(0,i.VP)(this.state)}get hasFailed(){return(0,i.WN)(this.state)}get hasSucceeded(){return(0,i.yO)(this.state)}get hasCompleted(){return(0,i.Uj)(this.state)}get isStale(){return(0,i.QO)(this.state)}get hasNoContent(){return 204===this.statusCode}}},7434:(F,D,n)=>{"use strict";n.d(D,{DB:()=>t,DF:()=>m,QO:()=>R,Uj:()=>I,VP:()=>E,WN:()=>_,bJ:()=>u,oJ:()=>e,uN:()=>h,vT:()=>f,yO:()=>C,zE:()=>i});var i=function(T){return T.RequestPending="RequestPending",T.ResponsePending="ResponsePending",T.Error="Error",T.Success="Success",T.ResponsePendingStale="ResponsePendingStale",T.ErrorStale="ErrorStale",T.SuccessStale="SuccessStale",T}(i||{});const t=T=>T===i.RequestPending,u=T=>T===i.Error,e=T=>T===i.Success,h=T=>T===i.ErrorStale,m=T=>T===i.SuccessStale,f=T=>T===i.ResponsePending,v=T=>T===i.ResponsePendingStale,E=T=>t(T)||f(T)||v(T),_=T=>{if(!E(T))return u(T)||h(T)},C=T=>{if(!E(T))return e(T)||m(T)},I=T=>!E(T),R=T=>v(T)||m(T)||h(T)},10524:(F,D,n)=>{"use strict";n.d(D,{G:()=>i});class i extends Error{}},96393:(F,D,n)=>{"use strict";n.d(D,{Di:()=>m,Gl:()=>f,HL:()=>v,PW:()=>h,cX:()=>E,tO:()=>t,uw:()=>e});var i=n(91e3);const t={CONFIGURE:(0,i.N)("dspace/core/data/request/CONFIGURE"),EXECUTE:(0,i.N)("dspace/core/data/request/EXECUTE"),SUCCESS:(0,i.N)("dspace/core/data/request/SUCCESS"),ERROR:(0,i.N)("dspace/core/data/request/ERROR"),STALE:(0,i.N)("dspace/core/data/request/STALE"),RESET_TIMESTAMPS:(0,i.N)("dspace/core/data/request/RESET_TIMESTAMPS"),REMOVE:(0,i.N)("dspace/core/data/request/REMOVE")};class u{constructor(){this.lastUpdated=(new Date).getTime()}}class e extends u{constructor(I){super(),this.type=t.CONFIGURE,this.payload=I}}class h extends u{constructor(I){super(),this.type=t.EXECUTE,this.payload=I}}class m extends u{constructor(I,R,T,A){super(),this.type=t.SUCCESS,this.payload={uuid:I,timeCompleted:(new Date).getTime(),statusCode:R,link:T,unCacheableObject:A}}}class f extends u{constructor(I,R,T){super(),this.type=t.ERROR,this.payload={uuid:I,timeCompleted:(new Date).getTime(),statusCode:R,errorMessage:T}}}class v extends u{constructor(I){super(),this.type=t.STALE,this.payload={uuid:I}}}class E{constructor(I){this.type=t.RESET_TIMESTAMPS,this.payload=I}}},43052:(F,D,n)=>{"use strict";n.d(D,{FQ:()=>ne,IL:()=>Ee,QU:()=>re,Dk:()=>tt,$:()=>J,ld:()=>se,IP:()=>q,Wx:()=>Y,E0:()=>te,WP:()=>Et,EA:()=>le,Qf:()=>z,v_:()=>Z,Rn:()=>De,e$:()=>be,aY:()=>me,Iu:()=>ce,_w:()=>Fe,$I:()=>ht,xu:()=>Te});var i=n(68552),t=n(41684),u=n(13808),e=n(51538),h=n(54438);let m=(()=>{class Ye extends e.aE{constructor(Mt){super(),this.objectCache=Mt,this.toCache=!1}parse(Mt,Ne){if(this.isSuccessStatus(Ne.statusCode))return new u.hT(Ne.statusCode);throw new Error("Unexpected response from server")}static{this.\u0275fac=function(Ne){return new(Ne||Ye)(h.KVO(t.$))}}static{this.\u0275prov=h.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}}return Ye})();var f=n(82777),v=n(87369),E=n(55451),_=n(393),C=n(98277),I=n(70035),R=n(50800),T=n(7654),A=n(49872);let p=(()=>{class Ye extends A.D3{constructor(Mt){super(Mt),this.objectCache=Mt}deserialize(Mt){const Ne=Mt.browseType;if(Mt.type===v.z.value&&(0,f.a4)(Ne)){let rt;if(Ne===I.L.value)rt=new this.serializerConstructor(C.R);else if(Ne===_.z.value)rt=new this.serializerConstructor(E.P);else{if(Ne!==T.o.value)throw new Error("An error occurred while retrieving the browse definitions.");rt=new this.serializerConstructor(R.f)}return rt.deserialize(Mt)}throw new Error("An error occurred while retrieving the browse definitions.")}static{this.\u0275fac=function(Ne){return new(Ne||Ye)(h.KVO(t.$))}}static{this.\u0275prov=h.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}}return Ye})();var x=n(28580),O=n(45348);class w{}let M=(()=>{class Ye extends A.D3{parse(Mt,Ne){const rt=Ne.payload,Gt=new x.T(O.Z).deserialize(rt);let Zt=[];return rt._embedded&&rt._embedded.harvestermetadata&&rt._embedded.harvestermetadata.configs&&(Zt=new x.T(w).serializeArray(rt._embedded.harvestermetadata.configs)),Gt.metadataConfigs=Zt,this.addToObjectCache(Gt,Mt,Ne),new u.hT(Ne.statusCode,Gt._links.self)}static{this.\u0275fac=(()=>{let Mt;return function(rt){return(Mt||(Mt=h.xGo(Ye)))(rt||Ye)}})()}static{this.\u0275prov=h.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}}return Ye})();var L=n(88280),B=n(21921);let k=(()=>{class Ye extends A.D3{parse(Mt,Ne){try{Ne=this.ensureSelfLink(Mt,Ne);const rt=this.process(Ne.payload,Mt);if((0,f.a4)(rt)){const Gt=rt.type;let Zt;return(0,f.a4)(Gt)&&(Zt=(0,B.Qt)(Gt)),(0,A.k_)(rt)&&(0,f.a4)(Zt)?new u.hT(Ne.statusCode,rt._links.self):new u.hT(Ne.statusCode,void 0,rt)}return new u.hT(Ne.statusCode)}catch{return console.warn(`Couldn't parse endpoint request at ${Mt.href}`),new u.hT(Ne.statusCode,void 0,{_links:Ne.payload._links})}}deserialize(Mt){const Ne=Mt.type;if((0,f.a4)(Ne)){const rt=(0,B.Qt)(Ne);if((0,f.a4)(rt))return new this.serializerConstructor(rt).deserialize(Mt)}return Mt}addToObjectCache(Mt,Ne,rt,Gt){if(!(0,A.k_)(Mt)){const Zt=(0,f.a4)(rt)&&(0,f.a4)(rt.type)?rt.type:"object";let mt;return mt=(0,f.a4)(rt._embedded)?JSON.stringify(Object.assign({},rt,{_embedded:"..."})):JSON.stringify(rt),void console.warn(`Can't cache incomplete ${Zt}: ${JSON.stringify(Mt)}, parsed from (partial) response: ${mt}`)}(0,f.a4)(this.getConstructorFor(Mt.type))&&this.objectCache.add(Mt,(0,f.a4)(Ne.responseMsToLive)?Ne.responseMsToLive:L.c.cache.msToLive.default,Ne.uuid,Gt)}static{this.\u0275fac=(()=>{let Mt;return function(rt){return(Mt||(Mt=h.xGo(Ye)))(rt||Ye)}})()}static{this.\u0275prov=h.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}}return Ye})();var W=n(43377);class U{constructor(pt,Mt,Ne=W.D.GET,rt,Gt){this.uuid=pt,this.href=Mt,this.method=Ne,this.body=rt,this.options=Gt,this.responseMsToLive=L.c.cache.msToLive.default,this.isMultipart=!1}}class K extends U{}var Y=function(Ye){return Ye.UUID="uuid",Ye.HANDLE="handle",Ye}(Y||{});class G extends K{getResponseParser(){return A.D3}}class q extends G{constructor(pt,Mt,Ne,rt){super(pt,Mt,W.D.GET,Ne,rt),this.uuid=pt,this.href=Mt,this.body=Ne,this.options=rt}}class z extends G{constructor(pt,Mt,Ne,rt){super(pt,Mt,W.D.POST,Ne),this.uuid=pt,this.href=Mt,this.body=Ne,this.options=rt}}class te extends G{constructor(pt,Mt,Ne,rt){super(pt,Mt,W.D.POST,Ne),this.uuid=pt,this.href=Mt,this.body=Ne,this.options=rt,this.isMultipart=!0}}class Z extends G{constructor(pt,Mt,Ne,rt){super(pt,Mt,W.D.PUT,Ne),this.uuid=pt,this.href=Mt,this.body=Ne,this.options=rt}}class J extends G{constructor(pt,Mt,Ne,rt){super(pt,Mt,W.D.DELETE,Ne),this.uuid=pt,this.href=Mt,this.body=Ne,this.options=rt}}class le extends G{constructor(pt,Mt,Ne,rt){super(pt,Mt,W.D.PATCH,Ne),this.uuid=pt,this.href=Mt,this.body=Ne,this.options=rt}}class ne extends G{getResponseParser(){return p}}class se extends q{getResponseParser(){return k}}class ce extends q{constructor(pt,Mt){super(pt,Mt)}getResponseParser(){return i.BE}}class De extends J{constructor(pt,Mt){super(pt,Mt),this.uuid=pt,this.href=Mt}getResponseParser(){return i.BE}}class be extends le{constructor(pt,Mt,Ne){super(pt,Mt,Ne),this.uuid=pt,this.href=Mt,this.body=Ne}getResponseParser(){return i.BE}}class me extends z{constructor(pt,Mt,Ne,rt){super(pt,Mt,Ne,rt),this.uuid=pt,this.href=Mt,this.body=Ne,this.options=rt}getResponseParser(){return i.BE}}class re extends z{constructor(pt,Mt,Ne,rt){super(pt,Mt,Ne,rt),this.body=Ne,this.options=rt}}class Ee extends q{constructor(pt,Mt){super(pt,Mt)}getResponseParser(){return M}}class Te extends Z{constructor(pt,Mt,Ne,rt){super(pt,Mt,Ne,rt),this.body=Ne,this.options=rt}getResponseParser(){return M}}class tt extends J{constructor(pt,Mt,Ne){super(pt,Mt),this.resourceID=Ne}}class ht extends z{constructor(pt,Mt,Ne,rt){super(pt,Mt,Ne,rt),this.body=Ne,this.options=rt}getResponseParser(){return m}}class Fe extends J{constructor(pt,Mt,Ne,rt){super(pt,Mt,Ne,rt),this.body=Ne,this.options=rt}getResponseParser(){return m}}class Et extends q{constructor(){super(...arguments),this.responseMsToLive=1e4}}},32473:(F,D,n)=>{"use strict";n.d(D,{B:()=>te});var i=n(21626),t=n(25499),u=n(84418),e=n.n(u),h=n(25007),m=n(22806),f=n(96697),v=n(96354),E=n(88141),_=n(25558),C=n(73028),I=n(47677),R=n(56594),T=n(5964),A=n(82777),p=n(41684),x=n(78394),O=n(47797),w=n(69227),M=n(96393),L=n(7434),B=n(43377),k=n(54438),W=n(30164);const U=(0,t.Mz)(O.N,Z=>Z["data/request"]),z=Z=>{if((0,A.Tn)(Z))return!1;if((0,L.VP)(Z.state))return!0;if((0,L.QO)(Z.state))return!1;{const J=Z.response.timeCompleted+Z.request.responseMsToLive;return!((new Date).getTime()>J)}};let te=(()=>{class Z{constructor(Q,ee,le){this.objectCache=Q,this.uuidService=ee,this.store=le,this.requestsOnTheirWayToTheStore=[]}generateRequestId(){return`client/${this.uuidService.generate()}`}isPending(Q){if(Q.method!==B.D.GET)return!1;if(this.requestsOnTheirWayToTheStore.includes(Q.href))return!0;let ee=!1;return this.getByHref(Q.href).pipe((0,f.s)(1)).subscribe(le=>{ee=(0,A.a4)(le)&&(0,L.VP)(le.state)&&!(0,L.QO)(le.state)}),ee}getByUUID(Q){return this.store.pipe((0,t.Lt)((Z=>(0,t.Mz)(U,J=>(0,A.a4)(J)?J[Z]:void 0))(Q)),this.fixRequestHeaders(),this.checkStale())}fixRequestHeaders(){return Q=>Q.pipe((0,v.T)(ee=>((0,A.a4)(ee)&&(0,A.a4)(ee.request)&&(0,A.a4)(ee.request.options)&&(0,A.a4)(ee.request.options.headers)&&((ee=e()(ee)).request.options.headers=Object.assign(new i.Lr,ee.request.options.headers)),ee)))}checkStale(){return Q=>Q.pipe((0,E.M)(ee=>{(0,A.a4)(ee)&&(0,A.a4)(ee.request)&&!(0,L.QO)(ee.state)&&!z(ee)&&h.$.schedule(()=>this.store.dispatch(new M.HL(ee.request.uuid)))}))}getByHref(Q){return this.store.pipe((0,t.Lt)((Z=>(0,t.Mz)(w.bS,U,(J,Q)=>{let ee;if((0,A.a4)(J))return ee=J[(0,w.tJ)(Z)],(0,A.a4)(Q)?Q[ee]:void 0}))(Q)),this.fixRequestHeaders(),this.checkStale())}send(Q,ee=!1){return ee&&Q.method!==B.D.GET&&console.warn(`${JSON.stringify(Q,null,2)} is not a GET request. In general only GET requests should reuse cached data.`),!!this.shouldDispatchRequest(Q,ee)&&(this.dispatchRequest(Q),Q.method===B.D.GET&&this.trackRequestsOnTheirWayToTheStore(Q),!0)}uriEncodeBody(Q){let ee="";return(0,A.hj)(Q)&&"object"==typeof Q&&Object.keys(Q).forEach(le=>{const ne=encodeURIComponent(le);if(Array.isArray(Q[le]))for(const fe of Q[le]){const ce=`${ne}=${encodeURIComponent(fe)}`;ee=(0,A.Im)(ee)?ee.concat(ce):ee.concat("&",ce)}else{const se=`${ne}=${encodeURIComponent(Q[le])}`;ee=(0,A.Im)(ee)?ee.concat(se):ee.concat("&",se)}}),ee}removeByHrefSubstring(Q){return this.setStaleByHrefSubstring(Q)}setStaleByHrefSubstring(Q){const ee=this.store.pipe((0,t.Lt)(((Z,J)=>(0,t.Mz)(Z,Q=>((Z,J)=>{let Q=[];return(0,A.hj)(Z)&&(Q=Object.keys(Z).filter(ee=>ee.includes(J)).map(ee=>Z[ee])),Q})(Q,J)))(w.bS,Q)),(0,f.s)(1));return ee.subscribe(le=>{for(const ne of le)this.store.dispatch(new M.HL(ne))}),this.requestsOnTheirWayToTheStore=this.requestsOnTheirWayToTheStore.filter(le=>le.indexOf(Q)<0),ee.pipe((0,_.n)(le=>(0,A.Im)(le)?[!0]:(0,m.H)(le).pipe((0,C.Z)(ne=>this.getByUUID(ne)),(0,v.T)(ne=>(0,A.Tn)(ne)||(0,L.QO)(ne.state)),(0,I.I)(ne=>!0===ne),(0,R.$)(),(0,v.T)(()=>!0))))}setStaleByUUID(Q){return this.store.dispatch(new M.HL(Q)),this.getByUUID(Q).pipe((0,v.T)(ee=>(0,L.QO)(ee.state)),(0,T.p)(ee=>ee),(0,f.s)(1))}setStaleByHref(Q){const ee=this.getByHref(Q);return ee.pipe((0,T.p)(le=>(0,A.hj)(le)),(0,v.T)(le=>le.request.uuid),(0,f.s)(1)).subscribe(le=>{this.store.dispatch(new M.HL(le))}),ee.pipe((0,v.T)(le=>(0,L.QO)(le.state)),(0,T.p)(le=>le),(0,f.s)(1))}shouldDispatchRequest(Q,ee){if(Q.method!==B.D.GET)return!0;if(this.isPending(Q))return!1;if(ee){const le=(0,w.tJ)(Q.href);if(!0===this.hasByHref(le))return!1;{let ne=!1;return this.objectCache.getByHref(le).subscribe(fe=>{ne=this.hasByUUID(fe.requestUUIDs[0])}).unsubscribe(),!ne}}return!0}dispatchRequest(Q){h.$.schedule(()=>{this.store.dispatch(new M.uw(Q)),this.store.dispatch(new M.PW(Q.uuid))})}trackRequestsOnTheirWayToTheStore(Q){this.requestsOnTheirWayToTheStore=[...this.requestsOnTheirWayToTheStore,Q.href],this.getByHref(Q.href).pipe((0,T.p)(ee=>(0,A.a4)(ee)&&(0,A.a4)(ee.request)&&ee.request.uuid===Q.uuid),(0,f.s)(1)).subscribe(ee=>{this.requestsOnTheirWayToTheStore=this.requestsOnTheirWayToTheStore.filter(le=>le!==Q.href)})}commit(Q){this.store.dispatch(new x.eR(Q))}hasByHref(Q,ee=!0){let le=!1;return this.hasByHref$(Q,ee).subscribe(ne=>le=ne).unsubscribe(),le}hasByHref$(Q,ee=!0){return this.getByHref(Q).pipe((0,v.T)(le=>ee?z(le):(0,A.a4)(le)))}hasByUUID(Q,ee=!0){let le=!1;return this.hasByUUID$(Q,ee).subscribe(ne=>le=ne).unsubscribe(),le}hasByUUID$(Q,ee=!0){return this.getByUUID(Q).pipe((0,v.T)(le=>ee?z(le):(0,A.a4)(le)))}static{this.\u0275fac=function(ee){return new(ee||Z)(k.KVO(p.$),k.KVO(W.v),k.KVO(t.il))}}static{this.\u0275prov=k.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}return Z})()},43377:(F,D,n)=>{"use strict";n.d(D,{D:()=>i});var i=function(t){return t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE",t.OPTIONS="OPTIONS",t.HEAD="HEAD",t.PATCH="PATCH",t}(i||{})},29443:(F,D,n)=>{"use strict";n.r(D),n.d(D,{RootDataService:()=>C});var i=n(7673),t=n(99437),u=n(96354),e=n(72734),h=n(41684),m=n(4910),f=n(80183),v=n(49802),E=n(32473),_=n(54438);let C=(()=>{class I extends v.L{constructor(T,A,p,x){super("",T,A,p,x,216e5),this.requestService=T,this.rdbService=A,this.objectCache=p,this.halService=x}checkServerAvailability(){return this.findRoot().pipe((0,t.W)(T=>(console.error(T),(0,i.of)(!1))),(0,f.qD)(),(0,u.T)(T=>200===T.statusCode))}findRoot(T=!0,A=!0,...p){return this.findByHref(this.halService.getRootHref(),T,A,...p)}invalidateRootCache(){this.requestService.setStaleByHref(this.halService.getRootHref())}static{this.\u0275fac=function(A){return new(A||I)(_.KVO(E.B),_.KVO(e.o),_.KVO(h.$),_.KVO(m.Y))}}static{this.\u0275prov=_.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},44701:(F,D,n)=>{"use strict";n.d(D,{z:()=>v});var i=n(82777),t=n(1102),u=n(13808),e=n(28580),h=n(14391),m=n(49872),f=n(54438);let v=(()=>{class E extends m.D3{parse(C,I){const T=I.payload._embedded.searchResult||{_embedded:{objects:[]}};T.appliedFilters=I.payload.appliedFilters,T.sort=I.payload.sort,T.scope=I.payload.scope,T.configuration=I.payload.configuration;const A=T._embedded.objects.map(w=>w.hitHighlights).map(w=>{const M={};if(w)for(const L of Object.keys(w)){const B=Object.assign(new h.vD,{value:w[L].join("..."),language:null});M[L]=[B]}return M}),p=T._embedded.objects.filter(w=>(0,i.a4)(w._embedded)).map(w=>w._embedded.indexableObject).map(w=>this.process(w,C)).map(w=>w._links.self.href).reduce((w,M)=>[...w,M],[]),x=T._embedded.objects.filter(w=>(0,i.a4)(w._embedded)).map((w,M)=>Object.assign({},w,{indexableObject:p[M],hitHighlights:A[M]}));T.objects=x;const O=new e.T(t.n).deserialize(T);return O.pageInfo=this.processPageInfo(T),this.addToObjectCache(O,C,I),new u.hT(I.statusCode,O._links.self)}static{this.\u0275fac=(()=>{let C;return function(R){return(C||(C=f.xGo(E)))(R||E)}})()}static{this.\u0275prov=f.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},5090:(F,D,n)=>{"use strict";n.r(D),n.d(D,{SiteDataService:()=>_});var i=n(96354),t=n(72734),u=n(41684),e=n(4910),h=n(80183),m=n(49802),f=n(46787),v=n(32473),E=n(54438);let _=(()=>{class C extends m.L{constructor(R,T,A,p){super("sites",R,T,A,p),this.requestService=R,this.rdbService=T,this.objectCache=A,this.halService=p,this.findAllData=new f.H(this.linkPath,R,T,A,p,this.responseMsToLive)}find(){return this.findAll().pipe((0,h.yd)(),(0,i.T)(R=>R.payload),(0,i.T)(R=>R.page[0]))}findAll(R,T,A,...p){return this.findAllData.findAll(R,T,A,...p)}static{this.\u0275fac=function(T){return new(T||C)(E.KVO(v.B),E.KVO(t.o),E.KVO(u.$),E.KVO(e.Y))}}static{this.\u0275prov=E.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},14410:(F,D,n)=>{"use strict";n.d(D,{M:()=>u});var i=n(13808),t=n(54438);let u=(()=>{class e{parse(m,f){return new i.Ku(f.statusCode>=200&&f.statusCode<300,f.statusCode,f.statusText)}static{this.\u0275fac=function(f){return new(f||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},27795:(F,D,n)=>{"use strict";n.r(D),n.d(D,{SystemWideAlertDataService:()=>I});var i=n(39806),t=n(72734),u=n(41684),e=n(4910),h=n(39280),m=n(46787),f=n(63897),v=n(91967),E=n(35108),_=n(32473),C=n(54438);let I=(()=>{class R extends f.W{constructor(A,p,x,O,w){super("systemwidealerts",A,p,x,O),this.requestService=A,this.rdbService=p,this.objectCache=x,this.halService=O,this.notificationsService=w,this.findAllData=new m.H(this.linkPath,A,p,x,O,this.responseMsToLive),this.createData=new h.V(this.linkPath,A,p,x,O,w,this.responseMsToLive),this.putData=new v.W(this.linkPath,A,p,x,O,this.responseMsToLive),this.searchData=new E.X(this.linkPath,A,p,x,O,this.responseMsToLive)}findAll(A,p,x,...O){return this.findAllData.findAll(A,p,x,...O)}create(A,...p){return this.createData.create(A,...p)}put(A){return this.putData.put(A)}searchBy(A,p,x,O,...w){return this.searchData.searchBy(A,p,x,O,...w)}static{this.\u0275fac=function(p){return new(p||R)(C.KVO(_.B),C.KVO(t.o),C.KVO(u.$),C.KVO(e.Y),C.KVO(i.I))}}static{this.\u0275prov=C.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},52749:(F,D,n)=>{"use strict";n.r(D),n.d(D,{WorkflowActionDataService:()=>f});var i=n(72734),t=n(41684),u=n(4910),e=n(63897),h=n(32473),m=n(54438);let f=(()=>{class v extends e.W{constructor(_,C,I,R){super("workflowactions",_,C,I,R),this.requestService=_,this.rdbService=C,this.objectCache=I,this.halService=R,this.linkPath="workflowactions"}static{this.\u0275fac=function(C){return new(C||v)(m.KVO(h.B),m.KVO(i.o),m.KVO(t.$),m.KVO(u.Y))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},53778:(F,D,n)=>{"use strict";n.d(D,{Y:()=>_});var i=n(21626),t=n(18810),u=n(96354),e=n(99437),h=n(82777),m=n(10524),f=n(43377),v=n(54438);const E="application/json; charset=utf-8";let _=(()=>{class C{constructor(R){this.http=R}get(R){const T={observe:"response",headers:new i.Lr({"Content-Type":E})};return this.http.get(R,T).pipe((0,u.T)(A=>({payload:A.body,statusCode:A.status,statusText:A.statusText})),(0,e.W)(A=>(0,t.$)(()=>(console.log("Error: ",A),this.handleHttpError(A)))))}request(R,T,A,p,x){const O={};return O.body=A,R===f.D.POST&&(0,h.hj)(A)&&(0,h.hj)(A.name)&&(O.body=this.buildFormData(A)),O.observe="response",p&&p.responseType&&(O.responseType=p.responseType),O.headers=(0,h.Tn)(p)||(0,h.Tn)(p.headers)?new i.Lr:p.headers,p&&p.params&&(O.params=p.params),p&&p.withCredentials&&(O.withCredentials=p.withCredentials),!O.headers.has("Content-Type")&&!x&&(O.headers=O.headers.set("Content-Type",E)),this.http.request(R,T,O).pipe((0,u.T)(w=>({payload:w.body,headers:w.headers,statusCode:w.status,statusText:w.statusText})),(0,e.W)(w=>(0,t.$)(()=>this.handleHttpError(w))))}buildFormData(R){const T=new FormData;if(T.append("name",R.name),R.metadata)for(const A of Object.keys(R.metadata))for(const p of R.allMetadataValues(A))T.append(A,p);return T}handleHttpError(R){if(R instanceof i.yz){const T=new m.G((0,h.hj)(R?.error?.message)?R.error.message:R.message);return T.statusCode=R.status,T.statusText=R.statusText,T}return console.error("Cannot construct RequestError from",R),R}static{this.\u0275fac=function(T){return new(T||C)(v.KVO(i.Qq))}}static{this.\u0275prov=v.jDH({token:C,factory:C.\u0275fac})}}return C})()},28580:(F,D,n)=>{"use strict";n.d(D,{T:()=>t});var i=n(74850);class t{constructor(e){this.modelType=e}serialize(e){return(0,i.Serialize)(e,this.modelType)}serializeArray(e){return(0,i.Serialize)(e,this.modelType)}deserialize(e){if(Array.isArray(e))throw new Error("Expected a single model, use deserializeArray() instead");return(0,i.Deserialize)(e,this.modelType)}deserializeArray(e){if(!Array.isArray(e))throw new Error("Expected an Array, use deserialize() instead");return(0,i.Deserialize)(e,this.modelType)}}},17366:(F,D,n)=>{"use strict";n.d(D,{e:()=>m});var i=n(54438),t=n(7901),u=n(7673),e=n(88280),h=n(308);const m=f=>(v,E)=>{const _=(0,i.WQX)(t.Ix);return e.c.info.enableEndUserAgreement?f().pipe((0,h.gM)(_,E.url)):(0,u.of)(!0)}},3636:(F,D,n)=>{"use strict";n.d(D,{GH:()=>R,Mk:()=>I});var i=n(7673),t=n(25558),u=n(96354),e=n(96697),h=n(82777),m=n(67116),f=n(74449),v=n(93130),E=n(80183),_=n(54438);const C="hasAgreedEndUser",I="dspace.agreements.end-user";let R=(()=>{class T{constructor(p,x,O){this.cookie=p,this.authService=x,this.ePersonService=O}hasCurrentUserOrCookieAcceptedAgreement(p){return this.isCookieAccepted()?(0,i.of)(!0):this.hasCurrentUserAcceptedAgreement(p)}hasCurrentUserAcceptedAgreement(p){return this.authService.isAuthenticated().pipe((0,t.n)(x=>x?this.authService.getAuthenticatedUserFromStore().pipe((0,u.T)(O=>(0,h.a4)(O)&&O.hasMetadata(I)&&"true"===O.firstMetadata(I).value)):(0,i.of)(p)))}setUserAcceptedAgreement(p){return this.authService.isAuthenticated().pipe((0,t.n)(x=>x?this.authService.getAuthenticatedUserFromStore().pipe((0,e.s)(1),(0,t.n)(O=>{const w={value:String(p)};let M;return M=O.hasMetadata(I)?{op:"replace",path:`/metadata/${I}/0`,value:w}:{op:"add",path:`/metadata/${I}`,value:[w]},this.ePersonService.patch(O,[M])}),(0,E.qD)(),(0,u.T)(O=>O.hasSucceeded)):(this.setCookieAccepted(p),(0,i.of)(!0))),(0,e.s)(1))}isCookieAccepted(){return!0===this.cookie.get(C)}setCookieAccepted(p){this.cookie.set(C,p)}removeCookieAccepted(){this.cookie.remove(C)}static{this.\u0275fac=function(x){return new(x||T)(_.KVO(v.O),_.KVO(m.uR),_.KVO(f.EPersonDataService))}}static{this.\u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},74449:(F,D,n)=>{"use strict";n.r(D),n.d(D,{EPersonDataService:()=>q,editEPersonSelector:()=>G});var i=n(25499),t=n(96354),u=n(96697),e=n(47677),h=n(25093),m=n(19353),f=n(82777),v=n(39806),E=n(72734),_=n(53954),C=n(41684),I=n(39280),R=n(13617),T=n(63897),A=n(87158),p=n(35108),x=n(12598),O=n(41023),w=n(96820),M=n(1716),L=n(43052),B=n(32473),k=n(4910),W=n(80183),U=n(32089),K=n(54438);const G=(0,i.Mz)(z=>z.epeopleRegistry,z=>z.editEPerson);let q=(()=>{class z extends T.W{constructor(Z,J,Q,ee,le,ne,fe){super("epersons",Z,J,Q,ee),this.requestService=Z,this.rdbService=J,this.objectCache=Q,this.halService=ee,this.comparator=le,this.notificationsService=ne,this.store=fe,this.searchByEmailPath="byEmail",this.searchByMetadataPath="byMetadata",this.createData=new I.V(this.linkPath,Z,J,Q,ee,ne,this.responseMsToLive),this.searchData=new p.X(this.linkPath,Z,J,Q,ee,this.responseMsToLive),this.patchData=new A.n(this.linkPath,Z,J,Q,ee,le,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new R.I(this.linkPath,Z,J,Q,ee,ne,this.responseMsToLive,this.constructIdEndpoint)}searchByScope(Z,J,Q={},ee,le=!0){switch(Z){case"metadata":default:return this.getEpeopleByMetadata(J.trim(),Q,ee,le);case"email":return this.getEPersonByEmail(J.trim(),ee,le).pipe((0,t.T)(ne=>{if(ne.hasSucceeded){let fe;return fe=204===ne.statusCode||(0,f.Tn)(ne.payload)?[]:[ne.payload],new M.j(ne.timeCompleted,ne.msToLive,ne.lastUpdated,ne.state,ne.errorMessage,(0,w.g)(new U.Q({elementsPerPage:Q.elementsPerPage,totalElements:fe.length,totalPages:fe.length,currentPage:1}),fe),ne.statusCode)}return ne}))}}getEPersonByEmail(Z,J=!0,Q=!0,...ee){const le=new O._;le.searchParams=[new _.x("email",Z)];const ne=this.searchData.getSearchByHref(this.searchByEmailPath,le,...ee);return this.findByHref(ne,J,Q,...ee)}getEpeopleByMetadata(Z,J,Q=!0,ee=!0,...le){const ne=[new _.x("query",Z)];return this.getEPeopleBy(ne,this.searchByMetadataPath,J,Q,ee,...le)}getEPeopleBy(Z,J,Q,ee=!0,le=!0,...ne){let fe=new O._;return Q&&(fe=Object.assign(new O._,Q)),fe.searchParams=fe.searchParams?[...fe.searchParams,...Z]:Z,this.searchBy(J,fe,ee,le,...ne)}searchNonMembers(Z,J,Q,ee=!0,le=!0,...ne){const fe=[new _.x("query",Z),new _.x("group",J)];let se=new O._;return Q&&(se=Object.assign(new O._,Q)),se.searchParams=se.searchParams?[...se.searchParams,...fe]:fe,this.searchBy("isNotMemberOf",se,ee,le,...ne)}updateEPerson(Z){const J=this.requestService.generateRequestId();return this.findByHref(Z._links.self.href,!0,!1).pipe((0,W.yd)(),(0,W.Bo)(),(0,u.s)(1)).subscribe(ee=>{const le=this.generateOperations(ee,Z),ne=new L.EA(J,Z._links.self.href,le);return this.requestService.send(ne)}),this.rdbService.buildFromRequestUUID(J)}generateOperations(Z,J){let Q=this.comparator.diff(Z,J).filter(ee=>"replace"===ee.op);return(0,f.a4)(Z.email)&&Z.email!==J.email&&(Q=[...Q,{op:"replace",path:"/email",value:J.email}]),(0,f.a4)(Z.requireCertificate)&&Z.requireCertificate!==J.requireCertificate&&(Q=[...Q,{op:"replace",path:"/certificate",value:J.requireCertificate}]),(0,f.a4)(Z.canLogIn)&&Z.canLogIn!==J.canLogIn&&(Q=[...Q,{op:"replace",path:"/canLogIn",value:J.canLogIn}]),Q}clearEPersonRequests(){this.getBrowseEndpoint().pipe((0,u.s)(1)).subscribe(Z=>{this.requestService.removeByHrefSubstring(Z)})}clearLinkRequests(Z){this.requestService.setStaleByHrefSubstring(Z)}getActiveEPerson(){return this.store.pipe((0,i.Lt)(G))}cancelEditEPerson(){this.store.dispatch(new m.oQ)}editEPerson(Z){this.store.dispatch(new m._c(Z))}deleteEPerson(Z){return this.delete(Z.id)}startEditingNewEPerson(Z){return this.getActiveEPerson().pipe((0,u.s)(1)).subscribe(J=>{Z===J?this.cancelEditEPerson():this.editEPerson(Z)}),(0,h.Ax)(Z.id)}createEPersonForToken(Z,J){const Q=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,t.T)(le=>`${le}?token=${J}`)).pipe((0,e.I)(le=>(0,f.a4)(le))).subscribe(le=>{const ne=new L.Qf(Q,le,Z);this.requestService.send(ne)}),this.rdbService.buildFromRequestUUID(Q)}patchPasswordWithToken(Z,J,Q){const ee=this.requestService.generateRequestId(),le=Object.assign({op:"add",path:"/password",value:{new_password:Q}});return this.halService.getEndpoint(this.linkPath).pipe((0,t.T)(fe=>this.getIDHref(fe,Z)),(0,t.T)(fe=>`${fe}?token=${J}`)).pipe((0,e.I)(fe=>(0,f.a4)(fe))).subscribe(fe=>{const se=new L.EA(ee,fe,[le]);this.requestService.send(se)}),this.rdbService.buildFromRequestUUID(ee)}create(Z,...J){return this.createData.create(Z,...J)}searchBy(Z,J,Q,ee,...le){return this.searchData.searchBy(Z,J,Q,ee,...le)}createPatchFromCache(Z){return this.patchData.createPatchFromCache(Z)}patch(Z,J){return this.patchData.patch(Z,J)}update(Z){return this.patchData.update(Z)}commitUpdates(Z){this.patchData.commitUpdates(Z)}delete(Z,J){return this.deleteData.delete(Z,J)}deleteByHref(Z,J){return this.deleteData.deleteByHref(Z,J)}static{this.\u0275fac=function(J){return new(J||z)(K.KVO(B.B),K.KVO(E.o),K.KVO(C.$),K.KVO(k.Y),K.KVO(x.j),K.KVO(v.I),K.KVO(i.il))}}static{this.\u0275prov=K.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})()},44494:(F,D,n)=>{"use strict";n.r(D),n.d(D,{GroupDataService:()=>Y});var i=n(21626),t=n(25499),u=n(44437),e=n(96697),h=n(25093),m=n(85255),f=n(39806),v=n(96526),E=n(72734),_=n(53954),C=n(41684),I=n(39280),R=n(13617),T=n(63897),A=n(87158),p=n(35108),x=n(12598),O=n(41023),w=n(43052),M=n(32473),L=n(4910),B=n(80183),k=n(31924),W=n(54438);const K=(0,t.Mz)(G=>G.groupRegistry,G=>G.editGroup);let Y=(()=>{class G extends T.W{constructor(z,te,Z,J,Q,ee,le,ne){super("groups",z,te,Z,J),this.requestService=z,this.rdbService=te,this.objectCache=Z,this.halService=J,this.comparator=Q,this.notificationsService=ee,this.nameService=le,this.store=ne,this.browseEndpoint="",this.ePersonsEndpoint="epersons",this.subgroupsEndpoint="subgroups",this.createData=new I.V(this.linkPath,z,te,Z,J,ee,this.responseMsToLive),this.searchData=new p.X(this.linkPath,z,te,Z,J,this.responseMsToLive),this.patchData=new A.n(this.linkPath,z,te,Z,J,Q,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new R.I(this.linkPath,z,te,Z,J,ee,this.responseMsToLive,this.constructIdEndpoint)}searchGroups(z,te,Z=!0,J=!0,...Q){const ee=[new _.x("query",z)];let le=new O._;return te&&(le=Object.assign(new O._,te)),le.searchParams=le.searchParams?[...le.searchParams,...ee]:ee,this.searchBy("byMetadata",le,Z,J,...Q)}searchNonMemberGroups(z,te,Z,J=!0,Q=!0,...ee){const le=[new _.x("query",z),new _.x("group",te)];let ne=new O._;return Z&&(ne=Object.assign(new O._,Z)),ne.searchParams=ne.searchParams?[...ne.searchParams,...le]:le,this.searchBy("isNotMemberOf",ne,J,Q,...ee)}addSubGroupToGroup(z,te){const Z=this.requestService.generateRequestId(),J=Object.create({});let Q=new i.Lr;Q=Q.append("Content-Type","text/uri-list"),J.headers=Q;const ee=new w.Qf(Z,z.self+"/"+this.subgroupsEndpoint,te.self,J);return this.requestService.send(ee),this.rdbService.buildFromRequestUUIDAndAwait(Z,()=>(0,u.y)(this.invalidateByHref(z._links.self.href),this.requestService.setStaleByHrefSubstring(z._links.subgroups.href).pipe((0,e.s)(1))))}deleteSubGroupFromGroup(z,te){const Z=this.requestService.generateRequestId(),J=new w.$(Z,z.self+"/"+this.subgroupsEndpoint+"/"+te.id);return this.requestService.send(J),this.rdbService.buildFromRequestUUIDAndAwait(Z,()=>(0,u.y)(this.invalidateByHref(z._links.self.href),this.requestService.setStaleByHrefSubstring(z._links.subgroups.href).pipe((0,e.s)(1))))}addMemberToGroup(z,te){const Z=this.requestService.generateRequestId(),J=Object.create({});let Q=new i.Lr;Q=Q.append("Content-Type","text/uri-list"),J.headers=Q;const ee=new w.Qf(Z,z.self+"/"+this.ePersonsEndpoint,te.self,J);return this.requestService.send(ee),this.rdbService.buildFromRequestUUIDAndAwait(Z,()=>(0,u.y)(this.invalidateByHref(te._links.self.href),this.requestService.setStaleByHrefSubstring(te._links.groups.href).pipe((0,e.s)(1)),this.requestService.setStaleByHrefSubstring(z._links.epersons.href).pipe((0,e.s)(1))))}deleteMemberFromGroup(z,te){const Z=this.requestService.generateRequestId(),J=new w.$(Z,z.self+"/"+this.ePersonsEndpoint+"/"+te.id);return this.requestService.send(J),this.rdbService.buildFromRequestUUIDAndAwait(Z,()=>(0,u.y)(this.invalidateByHref(te._links.self.href),this.requestService.setStaleByHrefSubstring(te._links.groups.href).pipe((0,e.s)(1)),this.requestService.setStaleByHrefSubstring(z._links.epersons.href).pipe((0,e.s)(1))))}getActiveGroup(){return this.store.pipe((0,t.Lt)(K))}cancelEditGroup(){this.store.dispatch(new m.Sb)}editGroup(z){this.store.dispatch(new m.C(z))}clearGroupsRequests(){this.getBrowseEndpoint().pipe((0,e.s)(1)).subscribe(z=>{this.requestService.removeByHrefSubstring(z)})}clearGroupLinkRequests(z){this.requestService.setStaleByHrefSubstring(z)}getGroupRegistryRouterLink(){return"/access-control/groups"}startEditingNewGroup(z){return this.getActiveGroup().pipe((0,e.s)(1)).subscribe(te=>{z===te?this.cancelEditGroup():this.editGroup(z)}),this.getGroupEditPageRouterLinkWithID(z.id)}getGroupEditPageRouterLink(z){return(0,h.xl)(z.id)}getGroupEditPageRouterLinkWithID(z){return(0,h.xl)(z)}getUUIDFromString(z){let te="";const Z=z.match(/[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}/g);return null!=Z&&(te=Z[0]),te}createComcolGroup(z,te,Z){const J=this.requestService.generateRequestId(),Q=Object.assign(new k.Y,{metadata:{"dc.description":[{value:`${this.nameService.getName(z)} ${te} group`}]}});this.requestService.send(new w.QU(J,Z,JSON.stringify(Q)));const ee=this.rdbService.buildFromRequestUUID(J).pipe((0,B.qD)());return ee.subscribe(le=>{le.hasSucceeded&&this.requestService.removeByHrefSubstring(Z)}),ee}deleteComcolGroup(z){const te=this.requestService.generateRequestId();this.requestService.send(new w.$(te,z));const Z=this.rdbService.buildFromRequestUUID(te).pipe((0,B.qD)());return Z.subscribe(J=>{J.hasSucceeded&&this.requestService.removeByHrefSubstring(z)}),Z}create(z,...te){return this.createData.create(z,...te)}searchBy(z,te,Z,J,...Q){return this.searchData.searchBy(z,te,Z,J,...Q)}createPatchFromCache(z){return this.patchData.createPatchFromCache(z)}patch(z,te){return this.patchData.patch(z,te)}update(z){return this.patchData.update(z)}commitUpdates(z){this.patchData.commitUpdates(z)}delete(z,te){return this.deleteData.delete(z,te)}deleteByHref(z,te){return this.deleteData.deleteByHref(z,te)}static{this.\u0275fac=function(te){return new(te||G)(W.KVO(M.B),W.KVO(E.o),W.KVO(C.$),W.KVO(L.Y),W.KVO(x.j),W.KVO(f.I),W.KVO(v.f),W.KVO(t.il))}}static{this.\u0275prov=W.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})()},79145:(F,D,n)=>{"use strict";n.d(D,{h:()=>i});class i{}},26349:(F,D,n)=>{"use strict";n.d(D,{f:()=>v});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(76829),m=n(58235),f=n(36074);let v=class extends h.M{static{this.type=m.N}get name(){return this.firstMetadataValue("eperson.firstname")+" "+this.firstMetadataValue("eperson.lastname")}getRenderTypes(){return["EPerson",this.constructor.name,...super.getRenderTypes()]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"handle",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"netid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"lastActive",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"canLogIn",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"email",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"requireCertificate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"selfRegistered",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"password",void 0),(0,i.Cg)([(0,e.nf)(f.U,!0),(0,i.Sn)("design:type",u.c)],v.prototype,"groups",void 0),v=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(h.M)],v)},58235:(F,D,n)=>{"use strict";n.d(D,{N:()=>t});const t=new(n(42547).v)("eperson")},31924:(F,D,n)=>{"use strict";n.d(D,{Y:()=>_});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(76829),m=n(39147),f=n(98688),v=n(58235),E=n(36074);let _=class extends h.M{static{this.type=E.U}};(0,i.Cg)([f.aK,(0,t.autoserializeAs)("name"),(0,i.Sn)("design:type",String)],_.prototype,"_name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"handle",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"permanent",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(E.U,!0),(0,i.Sn)("design:type",u.c)],_.prototype,"subgroups",void 0),(0,i.Cg)([(0,e.nf)(v.N,!0),(0,i.Sn)("design:type",u.c)],_.prototype,"epersons",void 0),(0,i.Cg)([(0,e.nf)(m.X),(0,i.Sn)("design:type",u.c)],_.prototype,"object",void 0),_=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(h.M)],_)},36074:(F,D,n)=>{"use strict";n.d(D,{U:()=>t});const t=new(n(42547).v)("group")},54949:(F,D,n)=>{"use strict";n.d(D,{z:()=>t});const t=new(n(42547).v)("workflowitem")},6291:(F,D,n)=>{"use strict";n.d(D,{l:()=>t});const t=new(n(42547).v)("workspaceitem")},34826:(F,D,n)=>{"use strict";n.d(D,{BA:()=>x,oL:()=>p,wq:()=>O});var i=n(60177),t=n(84412),u=n(983),e=n(84572),h=n(7673),m=n(96697),f=n(96354),v=n(25558),E=n(88141),_=n(82777),C=n(8917),I=n(93130),R=n(1676),T=n(80183),A=n(54438);const p="_GRECAPTCHA",x="google-recaptcha";let O=(()=>{class w{captchaKey(){return this.captchaKeySubject$.asObservable()}captchaMode(){return this.captchaModeSubject$.asObservable()}captchaVersion(){return this.captchaVersionSubject$.asObservable()}constructor(L,B,k,W,U){this.cookieService=L,this._document=B,this._window=k,this.configService=U,this.captchaVersionSubject$=new t.t(null),this.captchaKeySubject$=new t.t(null),this.captchaModeSubject$=new t.t(null),this.refreshCaptchaScript=()=>{this.loadRecaptchaProperties().subscribe()},this._window.nativeWindow&&(this._window.nativeWindow.refreshCaptchaScript=this.refreshCaptchaScript),this.renderer=W.createRenderer(null,null),this.configService.findByPropertyName("registration.verification.enabled").pipe((0,m.s)(1),(0,T.qD)(),(0,f.T)(Y=>Y.hasSucceeded&&Y.payload&&(0,_.hj)(Y.payload.values)&&"true"===Y.payload.values[0].toLowerCase())).pipe((0,v.n)(Y=>Y?this.loadRecaptchaProperties():u.w)).subscribe()}loadRecaptchaProperties(){const L=this.configService.findByPropertyName("google.recaptcha.key.site").pipe((0,T.qD)()),B=this.configService.findByPropertyName("google.recaptcha.version").pipe((0,T.qD)()),k=this.configService.findByPropertyName("google.recaptcha.mode").pipe((0,T.qD)());return(0,e.z)([B,k,L]).pipe((0,E.M)(([W,U,K])=>{if(this.cookieService.get("orejime-anonymous")&&this.cookieService.get("orejime-anonymous")[x]&&K.hasSucceeded&&W.hasSucceeded&&(0,_.hj)(W.payload?.values)&&(0,_.hj)(K.payload?.values)){const Y=K.payload?.values[0],G=W.payload?.values[0];let q;switch(this.captchaKeySubject$.next(Y),this.captchaVersionSubject$.next(G),G){case"v3":K.hasSucceeded&&(0,_.hj)(K.payload?.values)&&(q=this.buildCaptchaUrl(Y),this.captchaModeSubject$.next("invisible"));break;case"v2":U.hasSucceeded&&(0,_.hj)(U.payload?.values)&&(q=this.buildCaptchaUrl(),this.captchaModeSubject$.next(U.payload?.values[0]))}q&&this.loadScript(q)}}))}getRecaptchaToken(L){return this.captchaKey().pipe((0,v.n)(B=>grecaptcha.execute(B,{action:L})))}executeRecaptcha(){return(0,h.of)(grecaptcha.execute())}getRecaptchaTokenResponse(){return grecaptcha.getResponse()}buildCaptchaUrl(L){const B="https://www.google.com/recaptcha/api.js";return L?`${B}?render=${L}`:B}loadScript(L){return new Promise((B,k)=>{const W=this.renderer.createElement("script");W.type="text/javascript",W.src=L,W.text="",W.onload=B,W.onerror=k,this.renderer.appendChild(this._document.head,W)})}static{this.\u0275fac=function(B){return new(B||w)(A.KVO(I.O),A.KVO(i.qQ),A.KVO(R.lc),A.KVO(A._9s),A.KVO(C.ConfigurationDataService))}}static{this.\u0275prov=A.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},23274:(F,D,n)=>{"use strict";n.d(D,{_:()=>u,i:()=>t});var i=n(91e3);const t={ADD_TO_HISTORY:(0,i.N)("dspace/history/ADD_TO_HISTORY"),GET_HISTORY:(0,i.N)("dspace/history/GET_HISTORY")};class u{constructor(h){this.type=t.ADD_TO_HISTORY,this.payload={url:h}}}},51672:(F,D,n)=>{"use strict";n.d(D,{U:()=>i});var i=function(t){return t.OBJECT="object/uuid-to-self-link",t.REQUEST="get-request/href-to-uuid",t.ALTERNATIVE_OBJECT_LINK="object/alt-link-to-self-link",t}(i||{})},71442:(F,D,n)=>{"use strict";n.d(D,{H9:()=>e,Lv:()=>u,NL:()=>h,WJ:()=>t});var i=n(91e3);const t={ADD:(0,i.N)("dspace/core/index/ADD"),REMOVE_BY_VALUE:(0,i.N)("dspace/core/index/REMOVE_BY_VALUE"),REMOVE_BY_SUBSTRING:(0,i.N)("dspace/core/index/REMOVE_BY_SUBSTRING")};class u{constructor(f,v,E){this.type=t.ADD,this.payload={name:f,key:v,value:E}}}class e{constructor(f,v){this.type=t.REMOVE_BY_VALUE,this.payload={name:f,value:v}}}class h{constructor(f,v){this.type=t.REMOVE_BY_SUBSTRING,this.payload={name:f,value:v}}}},69227:(F,D,n)=>{"use strict";n.d(D,{Fn:()=>T,Qc:()=>R,bS:()=>_,fW:()=>f,tJ:()=>m,vH:()=>I});var i=n(25499),t=n(82777),u=n(47797),e=n(45663),h=n(51672);const m=A=>{if((0,t.hj)(A))try{const p=new URL(A);if((0,t.hj)(p.search)){const x=p.search.split(/[?|&]/).filter(w=>(0,t.hj)(w)).filter(w=>!(w.startsWith("embed=")||w.startsWith("embed.size=")));let O="";return(0,t.hj)(x)&&(O=`?${x.join("&")}`),A=new e.t(p.origin,p.pathname,O).toString()}}catch{}return A},f=A=>{if((0,t.hj)(A))try{const p=new URL(A);if((0,t.hj)(p.search))return p.search.split(/[?|&]/).filter(x=>(0,t.hj)(x)).map(x=>x.match(/^embed.size=([^=]+)=(\d+)$/)).filter(x=>(0,t.a4)(x)&&(0,t.a4)(x[1])&&(0,t.a4)(x[2])).map(x=>({name:x[1],size:Number(x[2])}))}catch{}return[]},v=(0,i.Mz)(u.N,A=>A.index),E=(0,i.Mz)(v,A=>A[h.U.OBJECT]),_=(0,i.Mz)(v,A=>A[h.U.REQUEST]),C=(0,i.Mz)(v,A=>A[h.U.ALTERNATIVE_OBJECT_LINK]),I=A=>(0,i.Mz)(E,p=>(0,t.a4)(p)?p[A]:void 0),R=A=>(0,i.Mz)(_,p=>(0,t.a4)(p)?p[m(A)]:void 0),T=A=>(0,i.Mz)(C,p=>(0,t.a4)(p)?p[A]:void 0)},92409:(F,D,n)=>{"use strict";n.d(D,{S:()=>u});var i=n(82777),t=n(45663);class u extends t.t{constructor(h,...m){super(h,...m),this._rootElement=h,this._subRootElement=m.join("/")}get rootElement(){return this._rootElement}get subRootElement(){return this._subRootElement}getPath(h){(0,i.EA)(h)&&Array.isArray(h)&&(h=h.join("/"));let m="/"+this.toString();return(0,i.EA)(h)&&(m+="/"+h),{rootElement:this._rootElement,subRootElement:this._subRootElement,path:m}}}},98107:(F,D,n)=>{"use strict";n.d(D,{Bp:()=>R,Ce:()=>t,MI:()=>u,QZ:()=>C,X2:()=>v,Zd:()=>e,kM:()=>I,pg:()=>m,qy:()=>f,td:()=>_,v$:()=>h});var i=n(91e3);const t={NEW_JSON_PATCH_ADD_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_ADD_OPERATION"),NEW_JSON_PATCH_COPY_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_COPY_OPERATION"),NEW_JSON_PATCH_MOVE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_MOVE_OPERATION"),NEW_JSON_PATCH_REMOVE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_REMOVE_OPERATION"),NEW_JSON_PATCH_REPLACE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_REPLACE_OPERATION"),COMMIT_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/COMMIT_JSON_PATCH_OPERATIONS"),ROLLBACK_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/ROLLBACK_JSON_PATCH_OPERATIONS"),FLUSH_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/FLUSH_JSON_PATCH_OPERATIONS"),FLUSH_JSON_PATCH_OPERATION:(0,i.N)("dspace/core/patch/FLUSH_JSON_PATCH_OPERATION"),START_TRANSACTION_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/START_TRANSACTION_JSON_PATCH_OPERATIONS"),DELETE_PENDING_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/DELETE_PENDING_JSON_PATCH_OPERATIONS")};class u{constructor(A,p){this.type=t.COMMIT_JSON_PATCH_OPERATIONS,this.payload={resourceType:A,resourceId:p}}}class e{constructor(A,p){this.type=t.ROLLBACK_JSON_PATCH_OPERATIONS,this.payload={resourceType:A,resourceId:p}}}class h{constructor(A,p,x){this.type=t.START_TRANSACTION_JSON_PATCH_OPERATIONS,this.payload={resourceType:A,resourceId:p,startTime:x}}}class m{constructor(A,p){this.type=t.FLUSH_JSON_PATCH_OPERATIONS,this.payload={resourceType:A,resourceId:p}}}class f{constructor(A,p,x){this.type=t.FLUSH_JSON_PATCH_OPERATION,this.payload={resourceType:A,resourceId:p,path:x}}}class v{constructor(A,p,x,O){this.type=t.NEW_JSON_PATCH_ADD_OPERATION,this.payload={resourceType:A,resourceId:p,path:x,value:O}}}class _{constructor(A,p,x,O){this.type=t.NEW_JSON_PATCH_MOVE_OPERATION,this.payload={resourceType:A,resourceId:p,from:x,path:O}}}class C{constructor(A,p,x){this.type=t.NEW_JSON_PATCH_REMOVE_OPERATION,this.payload={resourceType:A,resourceId:p,path:x}}}class I{constructor(A,p,x,O){this.type=t.NEW_JSON_PATCH_REPLACE_OPERATION,this.payload={resourceType:A,resourceId:p,path:x,value:O}}}class R{constructor(){this.type=t.DELETE_PENDING_JSON_PATCH_OPERATIONS}}},4047:(F,D,n)=>{"use strict";n.d(D,{M:()=>t});var i=n(59030);function t(u,e,h){return(0,i.v)(()=>u.has(e)&&"function"==typeof u.get(e)?u.get(e)().then(f=>h.get("default"in f?f.default:f)).catch(f=>{throw f}):null)}},63648:(F,D,n)=>{"use strict";n.d(D,{iH:()=>x,m4:()=>A});var i=n(60177),t=n(84572),u=n(7673),e=n(96697),h=n(73028),m=n(96354),f=n(88280),v=n(82777),E=n(67116),_=n(93130),C=n(56760),I=n(1676),R=n(54438),T=n(41780);const A="dsLanguage";var p=function(O){return O[O.UI=0]="UI",O[O.EPERSON=1]="EPERSON",O[O.BROWSER=2]="BROWSER",O}(p||{});let x=(()=>{class O{constructor(M,L,B,k,W,U){this._window=M,this.cookie=L,this.translate=B,this.authService=k,this.routeService=W,this.document=U,this.EPERSON_LANG_METADATA="eperson.language"}getCurrentLanguageCode(){let M=this.getLanguageCodeFromCookie();return((0,v.Im)(M)||void 0===f.c.languages.find(L=>L.code===M&&L.active))&&(M=this.translate.getLangs().includes(this.translate.getBrowserLang())?this.translate.getBrowserLang():f.c.defaultLanguage),M}getLanguageCodeList(){return(0,t.z)([this.authService.isAuthenticated(),this.authService.isAuthenticationLoaded()]).pipe((0,e.s)(1),(0,h.Z)(([L,B])=>(0,u.of)([]).pipe((0,m.T)(W=>{const U=[];return this.translate.currentLang&&U.push(...this.setQuality([this.translate.currentLang],p.UI,!1)),(0,v.hj)(W)&&U.push(...W),navigator.languages&&U.push(...this.setQuality(Object.assign([],navigator.languages),p.BROWSER,!(0,v.Im)(this.translate.currentLang))),U}))))}getLanguageCodeFromCookie(){return this.cookie.get(A)}saveLanguageCodeToCookie(M){this.cookie.set(A,M)}setCurrentLanguageCode(M){(0,v.Im)(M)&&(M=this.getCurrentLanguageCode()),this.translate.use(M),this.saveLanguageCodeToCookie(M),this.document.documentElement.lang=M}setQuality(M,L,B){const k=[];let W=0;const U=M.length>10?M.length:10;let K;switch(L){case p.EPERSON:K=2;break;case p.BROWSER:K=B?10:1;break;default:K=1}return M.forEach(Y=>{let G=Y+";q=",q=(U-W++)/U;q=M.length>10?q.toFixed(2):q,G+=q/K,k.push(G)}),k}refreshAfterChangeLanguage(){this.routeService.getCurrentUrl().pipe((0,e.s)(1)).subscribe(M=>{this._window.nativeWindow.location.href=`reload/${(new Date).getTime()}?redirect=`+encodeURIComponent(M)})}static{this.\u0275fac=function(L){return new(L||O)(R.KVO(I.lc),R.KVO(_.O),R.KVO(T.c$),R.KVO(E.uR),R.KVO(C.v$),R.KVO(i.qQ))}}static{this.\u0275prov=R.jDH({token:O,factory:O.\u0275fac})}}return O})()},52733:(F,D,n)=>{"use strict";n.d(D,{A:()=>C});var i=n(31635),t=n(74850),u=n(71985),e=n(82777),h=n(22878),m=n(21921),f=n(42547),v=n(98688),E=n(1259),_=n(51934);let C=class extends h.u{static{this.type=E.R}toString(R="."){let T=this.element;return(0,e.hj)(this.qualifier)&&(T+=R+this.qualifier),T}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([v.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],C.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],C.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"element",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"qualifier",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"scopeNote",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),(0,i.Cg)([(0,m.nf)(_.M),(0,i.Sn)("design:type",u.c)],C.prototype,"schema",void 0),C=(0,i.Cg)([m.gV],C)},1259:(F,D,n)=>{"use strict";n.d(D,{R:()=>t});const t=new(n(42547).v)("metadatafield")},32872:(F,D,n)=>{"use strict";n.d(D,{p:()=>v});var i=n(31635),t=n(74850),u=n(22878),e=n(21921),h=n(42547),m=n(98688),f=n(51934);let v=class extends u.u{static{this.type=f.M}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"id",void 0),(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",h.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"prefix",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"namespace",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([e.gV],v)},51934:(F,D,n)=>{"use strict";n.d(D,{M:()=>t});const t=new(n(42547).v)("metadataschema")},5410:(F,D,n)=>{"use strict";n.d(D,{T:()=>e});var i=n(82777),t=n(14391),u=n(54438);let e=(()=>{class h{isVirtual(f){return(0,i.a4)(f?.authority)&&f.authority.startsWith(t.BY)}virtualValue(f){if(this.isVirtual(f))return f.authority.substring(f.authority.indexOf(t.BY)+t.BY.length)}static{this.\u0275fac=function(v){return new(v||h)}}static{this.\u0275prov=u.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},61723:(F,D,n)=>{"use strict";n.r(D),n.d(D,{QualityAssuranceSourceDataService:()=>_});var i=n(39806),t=n(72734),u=n(41684),e=n(46787),h=n(63897),m=n(35108),f=n(32473),v=n(4910),E=n(54438);let _=(()=>{class C extends h.W{constructor(R,T,A,p,x){super("qualityassurancesources",R,T,A,p),this.requestService=R,this.rdbService=T,this.objectCache=A,this.halService=p,this.notificationsService=x,this.searchByTargetMethod="byTarget",this.findAllData=new e.H(this.linkPath,R,T,A,p,this.responseMsToLive),this.searchAllData=new m.X(this.linkPath,R,T,A,p,this.responseMsToLive)}getSources(R={},T=!0,A=!0,...p){return this.findAllData.findAll(R,T,A,...p)}clearFindAllSourceRequests(){this.requestService.setStaleByHrefSubstring("qualityassurancesources")}getSource(R,T=!0,A=!0,...p){return this.findById(R,T,A,...p)}getSourcesByTarget(R={},T=!0,A=!0,...p){return this.searchAllData.searchBy(this.searchByTargetMethod,R,T,A,...p)}static{this.\u0275fac=function(T){return new(T||C)(E.KVO(f.B),E.KVO(t.o),E.KVO(u.$),E.KVO(v.Y),E.KVO(i.I))}}static{this.\u0275prov=E.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},31936:(F,D,n)=>{"use strict";n.r(D),n.d(D,{QualityAssuranceTopicDataService:()=>_});var i=n(39806),t=n(72734),u=n(41684),e=n(46787),h=n(63897),m=n(35108),f=n(32473),v=n(4910),E=n(54438);let _=(()=>{class C extends h.W{constructor(R,T,A,p,x){super("qualityassurancetopics",R,T,A,p),this.requestService=R,this.rdbService=T,this.objectCache=A,this.halService=p,this.notificationsService=x,this.searchByTargetMethod="byTarget",this.searchBySourceMethod="bySource",this.findAllData=new e.H(this.linkPath,R,T,A,p,this.responseMsToLive),this.searchData=new m.X(this.linkPath,R,T,A,p,this.responseMsToLive)}searchTopicsByTarget(R={},T=!0,A=!0,...p){return this.searchData.searchBy(this.searchByTargetMethod,R,T,A,...p)}searchTopicsBySource(R={},T=!0,A=!0,...p){return this.searchData.searchBy(this.searchBySourceMethod,R,T,A,...p)}clearFindAllTopicsRequests(){this.requestService.setStaleByHrefSubstring("qualityassurancetopics")}getTopic(R,T=!0,A=!0,...p){return this.findById(R,T,A,...p)}static{this.\u0275fac=function(T){return new(T||C)(E.KVO(f.B),E.KVO(t.o),E.KVO(u.$),E.KVO(v.Y),E.KVO(i.I))}}static{this.\u0275prov=E.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},178:(F,D,n)=>{"use strict";n.d(D,{P:()=>t});const t=new(n(42547).v)("suggestion")},96687:(F,D,n)=>{"use strict";n.r(D),n.d(D,{SuggestionDataService:()=>I});var i=n(39806),t=n(72734),u=n(53954),e=n(41684),h=n(13617),m=n(63897),f=n(35108),v=n(32473),E=n(4910),_=n(54438),C=n(21626);let I=(()=>{class R extends m.W{constructor(A,p,x,O,w,M){super("suggestions",A,p,x,O),this.requestService=A,this.rdbService=p,this.objectCache=x,this.halService=O,this.notificationsService=w,this.http=M,this.searchFindByTargetAndSourceMethod="findByTargetAndSource",this.deleteData=new h.I(this.linkPath,A,p,x,O,w,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new f.X(this.linkPath,A,p,x,O,this.responseMsToLive)}deleteSuggestion(A){return this.deleteData.delete(A)}getSuggestionsByTargetAndSource(A,p,x={},...O){return x.searchParams=[new u.x("target",A),new u.x("source",p)],this.searchData.searchBy(this.searchFindByTargetAndSourceMethod,x,!1,!0,...O)}clearSuggestionRequests(){this.requestService.setStaleByHrefSubstring(this.searchFindByTargetAndSourceMethod)}static{this.\u0275fac=function(p){return new(p||R)(_.KVO(v.B),_.KVO(t.o),_.KVO(e.$),_.KVO(E.Y),_.KVO(i.I),_.KVO(C.Qq))}}static{this.\u0275prov=_.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},94791:(F,D,n)=>{"use strict";n.r(D),n.d(D,{SuggestionTargetDataService:()=>T});var i=n(39806),t=n(72734),u=n(53954),e=n(41684),h=n(46787),m=n(63897),f=n(35108),v=n(37419),E=n(32473),_=n(4910),C=n(54438),I=n(25499),R=n(21626);let T=(()=>{class A extends m.W{constructor(x,O,w,M,L,B,k,W){super("suggestiontargets",x,O,M,L),this.requestService=x,this.rdbService=O,this.store=w,this.objectCache=M,this.halService=L,this.notificationsService=B,this.http=k,this.comparator=W,this.linkPath="suggestiontargets",this.searchFindBySourceMethod="findBySource",this.searchFindByTargetMethod="findByTarget",this.findAllData=new h.H(this.linkPath,x,O,M,L,this.responseMsToLive),this.searchData=new f.X(this.linkPath,x,O,M,L,this.responseMsToLive)}getTargetsBySource(x,O={},w=!0,M=!0,...L){return O.searchParams=[new u.x("source",x)],this.searchBy(this.searchFindBySourceMethod,O,w,M,...L)}getTargetsByUser(x,O={},...w){return O.searchParams=[new u.x("target",x)],this.searchBy(this.searchFindByTargetMethod,O,!0,!0,...w)}getTargetById(x){return this.findById(x)}searchBy(x,O,w,M,...L){return this.searchData.searchBy(x,O,w,M,...L)}findAll(x={},O=!0,w=!0,...M){return this.findAllData.findAll(x,O,w,...M)}static{this.\u0275fac=function(O){return new(O||A)(C.KVO(E.B),C.KVO(t.o),C.KVO(I.il),C.KVO(e.$),C.KVO(_.Y),C.KVO(i.I),C.KVO(R.Qq),C.KVO(v.Y))}}static{this.\u0275prov=C.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},22978:(F,D,n)=>{"use strict";n.d(D,{m:()=>T});var i=n(84572),t=n(96354),u=n(5964),e=n(96697),h=n(82777),f=n(80597),v=n(23401),E=n(6238),_=n(41023),C=n(56760),I=n(54438),R=n(7901);let T=(()=>{class A{constructor(x,O){this.routeService=x,this.router=O,this.defaultSortOptions=new E.z("dc.title",E.U.ASC),this.clearParams={}}getCurrentPagination(x,O){const w=this.routeService.getQueryParameterValue(`${x}.page`),M=this.routeService.getQueryParameterValue(`${x}.rpp`);return(0,i.z)([w,M]).pipe((0,t.T)(([L,B])=>Object.assign(new v.W,O,{currentPage:this.convertToNumeric(L,O.currentPage),pageSize:this.getBestMatchPageSize(B,O)})))}getCurrentSort(x,O,w){!w&&((0,h.Im)(O)||!(0,h.a4)(O))&&(O=this.defaultSortOptions);const M=this.routeService.getQueryParameterValue(`${x}.sd`),L=this.routeService.getQueryParameterValue(`${x}.sf`);return(0,i.z)([M,L]).pipe((0,t.T)(([B,k])=>new E.z(k||O?.field,E.U[B]||O?.direction)))}getFindListOptions(x,O,w){const M=new v.W;M.currentPage=O.currentPage,M.pageSize=O.elementsPerPage;const L=this.getCurrentPagination(x,M),B=this.getCurrentSort(x,O.sort,w);return(0,i.z)([L,B]).pipe((0,u.p)(([k,W])=>(0,h.a4)(k)&&(0,h.a4)(W)),(0,t.T)(([k,W])=>Object.assign(new _._,O,{sort:W,currentPage:k.currentPage,elementsPerPage:k.pageSize})))}resetPage(x){this.updateRoute(x,{page:1})}updateRoute(x,O,w,M,L){this.updateRouteWithUrl(x,[],O,w,M,L)}updateRouteWithUrl(x,O,w,M,L,B){this.getCurrentRouting(x).subscribe(k=>{const W=this.getParametersWithIdName(x,k),U=this.getParametersWithIdName(x,w);if((0,h.hj)((0,f.iv)(U,W))||(0,h.hj)(M)||(0,h.hj)(this.clearParams)){const K=Object.assign({},this.clearParams,W,U,M);this.router.navigate(O,L?{queryParams:K,queryParamsHandling:"merge",fragment:`p-${x}`,...B}:{queryParams:K,queryParamsHandling:"merge",...B}),this.clearParams={}}})}clearPagination(x){const O={};O[`${x}.page`]=null,O[`${x}.rpp`]=null,O[`${x}.sf`]=null,O[`${x}.sd`]=null,Object.assign(this.clearParams,O)}getPageParam(x){return`${x}.page`}getCurrentRouting(x){return this.getFindListOptions(x,{},!0).pipe((0,e.s)(1),(0,t.T)(O=>({page:O.currentPage,pageSize:O.elementsPerPage,sortField:O.sort.field,sortDirection:O.sort.direction})))}getParametersWithIdName(x,O){const w={};return(0,h.a4)(O.page)&&(w[`${x}.page`]=`${O.page}`),(0,h.a4)(O.pageSize)&&(w[`${x}.rpp`]=`${O.pageSize}`),(0,h.a4)(O.sortField)&&(w[`${x}.sf`]=`${O.sortField}`),(0,h.a4)(O.sortDirection)&&(w[`${x}.sd`]=`${O.sortDirection}`),w}convertToNumeric(x,O){let w=O;return function m(A){return!Array.isArray(A)&&A-parseFloat(A)+1>=0}(x)&&(w=+x),w}getBestMatchPageSize(x,O){const w=this.convertToNumeric(x,O.pageSize),M=O.pageSizeOptions.map(B=>Math.abs(B-w)),L=Math.min.apply(Math,M);return O.pageSizeOptions[M.indexOf(L)]}static{this.\u0275fac=function(O){return new(O||A)(I.KVO(C.v$),I.KVO(R.Ix))}}static{this.\u0275prov=I.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},76151:(F,D,n)=>{"use strict";n.d(D,{w:()=>_});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(56970),m=n(13868),f=n(42547),v=n(98688),E=n(71077);let _=class extends h.I{static{this.type=E.T}};(0,i.Cg)([v.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([(0,t.deserializeAs)("id"),(0,i.Sn)("design:type",String)],_.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"visible",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.U),(0,i.Sn)("design:type",u.c)],_.prototype,"item",void 0),_=(0,i.Cg)([e.gV],_)},71077:(F,D,n)=>{"use strict";n.d(D,{T:()=>t});const t=new(n(42547).v)("profile")},98926:(F,D,n)=>{"use strict";n.r(D),n.d(D,{ResearcherProfileDataService:()=>K});var i=n(21626),t=n(7673),u=n(96354),e=n(47677),h=n(73028),m=n(82777),f=n(39806),v=n(43404),E=n(67600),_=n(72734),C=n(41684),I=n(39280),R=n(13617),T=n(63897),A=n(87158),p=n(35108),x=n(37419),O=n(29326),w=n(43052),M=n(32473),L=n(4910),B=n(80183),k=n(76151),W=n(54438),U=n(7901);let K=(()=>{class Y extends T.W{constructor(q,z,te,Z,J,Q,ee,le){super("profiles",q,z,te,Z,1e4),this.requestService=q,this.rdbService=z,this.objectCache=te,this.halService=Z,this.notificationsService=J,this.router=Q,this.comparator=ee,this.itemService=le,this.createData=new I.V(this.linkPath,q,z,te,Z,J,this.responseMsToLive),this.patchData=new A.n(this.linkPath,q,z,te,Z,ee,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new p.X(this.linkPath,q,z,te,Z,this.responseMsToLive),this.deleteData=new R.I(this.linkPath,q,z,te,Z,J,this.responseMsToLive,this.constructIdEndpoint)}findByRelatedItem(q){const z=q.firstMetadata("dspace.object.owner")?.authority;return(0,m.Im)(z)?(0,v.PM)():this.findById(z)}findRelatedItemId(q){return(q.item?q.item:this.itemService.findByHref(q._links.item.href,!1)).pipe((0,B.qD)(),(0,u.T)(te=>te.hasSucceeded&&te.payload?te.payload.id:null))}setVisibility(q,z){return this.patch(q,[{path:"/visible",op:"replace",value:z}])}createFromExternalSource(q){const z=Object.create({});let te=new i.Lr;te=te.append("Content-Type","text/uri-list"),z.headers=te;const Z=this.requestService.generateRequestId();return this.halService.getEndpoint(this.getLinkPath()).pipe((0,e.I)(Q=>(0,m.a4)(Q)),(0,u.T)(Q=>this.buildHrefWithParams(Q,[],(0,E.s)("item")))).subscribe(Q=>{const ee=new w.Qf(Z,Q,q,z);this.requestService.send(ee)}),this.rdbService.buildFromRequestUUID(Z,(0,E.s)("item"))}createFromExternalSourceAndReturnRelatedItemId(q){return this.createFromExternalSource(q).pipe((0,B.qD)(),(0,h.Z)(z=>z.hasSucceeded?this.findRelatedItemId(z.payload):(0,t.of)(null)))}create(q,...z){return(0,m.Im)(q)&&(q=new k.w),this.createData.create(q,...z)}searchBy(q,z,te,Z,...J){return this.searchData.searchBy(q,z,te,Z,...J)}getSearchByHref(q,z,...te){return this.searchData.getSearchByHref(q,z,...te)}commitUpdates(q){this.patchData.commitUpdates(q)}createPatchFromCache(q){return this.patchData.createPatchFromCache(q)}patch(q,z){return this.patchData.patch(q,z)}update(q){return this.patchData.update(q)}delete(q,z){return this.deleteData.delete(q,z)}deleteByHref(q,z){return this.deleteData.deleteByHref(q,z)}static{this.\u0275fac=function(z){return new(z||Y)(W.KVO(M.B),W.KVO(_.o),W.KVO(C.$),W.KVO(L.Y),W.KVO(f.I),W.KVO(U.Ix),W.KVO(x.Y),W.KVO(O.ItemDataService))}}static{this.\u0275prov=W.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}}return Y})()},46355:(F,D,n)=>{"use strict";n.d(D,{X:()=>i});var i=function(t){return t.READ="READ",t.WRITE="WRITE",t.DELETE="DELETE",t.ADD="ADD",t.REMOVE="REMOVE",t[t.WORKFLOW_STEP_1=5]="WORKFLOW_STEP_1",t[t.WORKFLOW_STEP_2=6]="WORKFLOW_STEP_2",t[t.WORKFLOW_STEP_3=7]="WORKFLOW_STEP_3",t[t.WORKFLOW_ABORT=8]="WORKFLOW_ABORT",t.DEFAULT_BITSTREAM_READ="DEFAULT_BITSTREAM_READ",t.DEFAULT_ITEM_READ="DEFAULT_ITEM_READ",t.ADMIN="ADMIN",t.WITHDRAWN_READ="WITHDRAWN_READ",t}(i||{})},46251:(F,D,n)=>{"use strict";n.d(D,{t:()=>i});var i=function(t){return t.TYPE_SUBMISSION="TYPE_SUBMISSION",t.TYPE_WORKFLOW="TYPE_WORKFLOW",t.TYPE_INHERITED="TYPE_INHERITED",t.TYPE_CUSTOM="TYPE_CUSTOM",t}(i||{})},28235:(F,D,n)=>{"use strict";n.d(D,{h:()=>R});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(24547),m=n(58235),f=n(36074),v=n(42547),E=n(98688),I=(n(46355),n(46251),n(88985));let R=class{static{this.type=I.O}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"policyType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],R.prototype,"action",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"startDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"endDate",void 0),(0,i.Cg)([E.aK,t.autoserialize,(0,i.Sn)("design:type",v.v)],R.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new h.a("resource-policy"),"id"),(0,i.Sn)("design:type",String)],R.prototype,"uuid",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],R.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",u.c)],R.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(f.U),(0,i.Sn)("design:type",u.c)],R.prototype,"group",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],R.prototype,"pageStart",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],R.prototype,"pageEnd",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],R.prototype,"print",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],R.prototype,"download",void 0),R=(0,i.Cg)([e.gV],R)},88985:(F,D,n)=>{"use strict";n.d(D,{O:()=>t});const t=new(n(42547).v)("resourcepolicy")},67944:(F,D,n)=>{"use strict";n.d(D,{T:()=>i});var i=function(t){return t.Submitter="submitter",t.Controller="controller",t.Admin="admin",t}(i||{})},46265:(F,D,n)=>{"use strict";n.d(D,{W:()=>m});var i=n(7673),t=n(23294),u=n(6983),e=n(67944),h=n(54438);let m=(()=>{class f{constructor(E){this.collectionService=E}isSubmitter(){return this.collectionService.hasAuthorizedCollection().pipe((0,t.F)())}isController(){return(0,i.of)(!0)}isAdmin(){return(0,i.of)(!1)}checkRole(E){let _;switch(E){case e.T.Submitter:_=this.isSubmitter();break;case e.T.Controller:_=this.isController();break;case e.T.Admin:_=this.isAdmin()}return _}static{this.\u0275fac=function(_){return new(_||f)(h.KVO(u.CollectionDataService))}}static{this.\u0275prov=h.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},10887:(F,D,n)=>{"use strict";n.d(D,{$:()=>t});const t="http://10.184.240.87:8080"},93130:(F,D,n)=>{"use strict";n.d(D,{O:()=>e});var i=n(21413),t=n(59540),u=n(54438);let e=(()=>{class h{constructor(f){this.req=f,this.cookieSource=new i.B,this.cookies$=this.cookieSource.asObservable()}updateSource(){this.cookieSource.next(this.getAll())}static{this.\u0275fac=function(v){return new(v||h)(u.KVO(t.S))}}static{this.\u0275prov=u.jDH({token:h,factory:h.\u0275fac})}}return h})()},59752:(F,D,n)=>{"use strict";n.d(D,{$:()=>t});var i=n(54438);let t=(()=>{class u{static{this.\u0275fac=function(m){return new(m||u)}}static{this.\u0275prov=i.jDH({token:u,factory:u.\u0275fac})}}return u})()},8865:(F,D,n)=>{"use strict";n.d(D,{m:()=>u});var i=n(60177),t=n(54438);let u=(()=>{class e{constructor(m,f){this.rendererFactory=m,this.document=f}addTag(m){try{const f=this.rendererFactory.createRenderer(this.document,{id:"-1",encapsulation:t.gXe.None,styles:[],data:{}}),v=f.createElement("link"),E=this.document.head;if(null===E)throw new Error("<head> not found within DOCUMENT.");return Object.keys(m).forEach(_=>f.setAttribute(v,_,m[_])),f.appendChild(E,v),f}catch(f){console.error("Error within linkService: ",f)}}removeTag(m){if(m)try{const f=this.rendererFactory.createRenderer(this.document,{id:"-1",encapsulation:t.gXe.None,styles:[],data:{}}),v=this.document.head;if(null===v)throw new Error("<head> not found within DOCUMENT.");const E=this.document.querySelectorAll("link["+m+"]");for(const _ of E)f.removeChild(v,_)}catch(f){f instanceof Error&&console.error("Error while removing tag: "+f.message)}}static{this.\u0275fac=function(f){return new(f||e)(t.KVO(t._9s),t.KVO(i.qQ))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},88091:(F,D,n)=>{"use strict";n.d(D,{f:()=>t});var i=n(54438);let t=(()=>{class u{static{this.\u0275fac=function(m){return new(m||u)}}static{this.\u0275prov=i.jDH({token:u,factory:u.\u0275fac})}}return u})()},61905:(F,D,n)=>{"use strict";n.d(D,{$H:()=>m,HH:()=>t,Yb:()=>v,eL:()=>f,fP:()=>e,hX:()=>u,sV:()=>E});var i=n(91e3);const t={SET_QUERY_PARAMETERS:(0,i.N)("dspace/core/route/SET_QUERY_PARAMETERS"),SET_PARAMETERS:(0,i.N)("dspace/core/route/SET_PARAMETERS"),ADD_QUERY_PARAMETER:(0,i.N)("dspace/core/route/ADD_QUERY_PARAMETER"),ADD_PARAMETER:(0,i.N)("dspace/core/route/ADD_PARAMETER"),SET_QUERY_PARAMETER:(0,i.N)("dspace/core/route/SET_QUERY_PARAMETER"),SET_PARAMETER:(0,i.N)("dspace/core/route/SET_PARAMETER"),RESET:(0,i.N)("dspace/core/route/RESET")};class u{constructor(C){this.type=t.SET_QUERY_PARAMETERS,this.payload=C}}class e{constructor(C){this.type=t.SET_PARAMETERS,this.payload=C}}class m{constructor(C,I){this.type=t.ADD_PARAMETER,this.payload={key:C,value:I}}}class f{constructor(C,I){this.type=t.SET_QUERY_PARAMETER,this.payload={key:C,value:I}}}class v{constructor(C,I){this.type=t.SET_PARAMETER,this.payload={key:C,value:I}}}class E{constructor(){this.type=t.RESET}}},56760:(F,D,n)=>{"use strict";n.d(D,{v$:()=>L});var i=n(7901),t=n(25499),u=n(48125),e=n.n(u),h=n(84572),m=n(96354),f=n(23294),v=n(5964),E=n(96697),_=n(82777),C=n(47797),I=n(23274);const R=(0,t.Mz)(C.N,B=>B.history);var T=n(61905),A=n(54438);const p=(0,t.Mz)(C.N,B=>(0,_.a4)(B)&&(0,_.a4)(B.route)?B.route.params:void 0);(0,t.Mz)(C.N,B=>(0,_.a4)(B)&&(0,_.a4)(B.route)?B.route.queryParams:void 0);let L=(()=>{class B{constructor(W,U,K){this.route=W,this.router=U,this.store=K,this.saveRouting()}getQueryParameterValues(W){return this.getQueryParamMap().pipe((0,m.T)(U=>[...U.getAll(W)]),(0,f.F)((U,K)=>JSON.stringify(U)===JSON.stringify(K)))}getQueryParameterValue(W){return this.getQueryParamMap().pipe((0,m.T)(U=>U.get(W)),(0,f.F)())}hasQueryParam(W){return this.getQueryParamMap().pipe((0,m.T)(U=>U.has(W)),(0,f.F)())}hasQueryParamWithValue(W,U){return this.getQueryParamMap().pipe((0,m.T)(K=>K.getAll(W).indexOf(U)>-1),(0,f.F)())}getRouteParameterValue(W){return this.store.pipe((0,t.Lt)((B=>function M(B,k){return(0,t.Mz)(k,W=>{if((0,_.a4)(W))return W[B]})}(B,p))(W)))}getRouteDataValue(W){return this.route.data.pipe((0,m.T)(U=>U[W]),(0,f.F)())}getQueryParamsWithPrefix(W){return this.getQueryParamMap().pipe((0,m.T)(U=>{const K={};return U.keys.filter(Y=>Y.startsWith(W)).forEach(Y=>{K[Y]=[...U.getAll(Y)]}),K}),(0,f.F)((U,K)=>JSON.stringify(U)===JSON.stringify(K)))}getQueryParamMap(){return this.route.queryParamMap.pipe((0,m.T)(W=>{const U=this.router.routerState.snapshot;return e()(W,U.root.queryParamMap)?W:U.root.queryParamMap}))}saveRouting(){this.router.events.pipe((0,v.p)(W=>W instanceof i.wF)).subscribe(W=>{this.store.dispatch(new I._(W.urlAfterRedirects))})}getRouteParams(){let W=this.route;for(;W.firstChild;)W=W.firstChild;return W.params}getHistory(){return this.store.pipe((0,t.Lt)(R))}getCurrentUrl(){return this.getHistory().pipe((0,m.T)(W=>W[W.length-1]||""))}getPreviousUrl(){return this.getHistory().pipe((0,m.T)(W=>W[W.length-2]||""))}addParameter(W,U){this.store.dispatch(new T.$H(W,U))}setParameter(W,U){this.store.dispatch(new T.Yb(W,U))}setQueryParameter(W,U){this.store.dispatch(new T.eL(W,U))}setCurrentRouteInfo(){(0,h.z)(this.getRouteParams(),this.route.queryParams).pipe((0,E.s)(1)).subscribe(([W,U])=>{this.store.dispatch(new T.fP(W)),this.store.dispatch(new T.hX(U))})}getParamsExceptValue(W,U){return this.route.queryParams.pipe((0,m.T)(K=>{const Y=Object.assign({},K),G=Y[W];return G===U||void 0===U?delete Y[W]:Array.isArray(G)&&G.includes(U)&&(Y[W]=G.filter(q=>q!==U),0===Y[W].length&&delete Y[W]),Y}))}getParamsWithAdditionalValue(W,U){return this.route.queryParams.pipe((0,m.T)(K=>{const Y=Object.assign({},K),G=Y[W];return Y[W]=void 0===G?U:Array.isArray(G)?[...G,U]:[G,U],Y}))}static{this.\u0275fac=function(U){return new(U||B)(A.KVO(i.nX),A.KVO(i.Ix),A.KVO(t.il))}}static{this.\u0275prov=A.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}}return B})()},7337:(F,D,n)=>{"use strict";n.d(D,{w:()=>u});var i=n(59540),t=n(54438);let u=(()=>{class e{constructor(m){this.response=m}setStatus(m,f){return this.response&&(this.response.statusCode=m,f&&(this.response.statusMessage=f)),this}setUnauthorized(m="Unauthorized"){return this.setStatus(401,m)}setForbidden(m="Forbidden"){return this.setStatus(403,m)}setNotFound(m="Not found"){return this.setStatus(404,m)}setInternalServerError(m="Internal Server Error"){return this.setStatus(500,m)}setHeader(m,f){this.response&&this.response.setHeader(m,f)}static{this.\u0275fac=function(f){return new(f||e)(t.KVO(i.C,8))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},1676:(F,D,n)=>{"use strict";n.d(D,{lc:()=>t});const t=new(n(54438).nKC)("NativeWindowService",{providedIn:"root",factory:function e(){return new u}});class u{get nativeWindow(){return typeof window<"u"&&window}}},308:(F,D,n)=>{"use strict";n.d(D,{QD:()=>E,ci:()=>C,gM:()=>I});var i=n(54438),t=n(84572),u=n(53993),e=n(5964),h=n(96354),m=n(69799),f=n(16805);new i.nKC("redirectOn4xx",{providedIn:"root",factory:()=>E});const E=(R,T)=>A=>A.pipe((0,u.E)(T.isAuthenticated()),(0,e.p)(([p,x])=>{if(p.hasFailed){if(404===p.statusCode||422===p.statusCode)return R.navigateByUrl((0,m.EX)(),{skipLocationChange:!0}),!1;if(403===p.statusCode||401===p.statusCode)return x?(R.navigateByUrl((0,m.bZ)(),{skipLocationChange:!0}),!1):(T.setRedirectUrl(R.url),R.navigateByUrl("login"),!1)}return!0}),(0,h.T)(([p])=>p)),C=(R,T,A)=>p=>(0,t.z)(p,T.isAuthenticated()).pipe((0,h.T)(([x,O])=>!!x.some(w=>!0===w)||(O?R.parseUrl((0,m.bZ)()):(T.setRedirectUrl(A),R.parseUrl("login"))))),I=(R,T)=>A=>A.pipe((0,h.T)(p=>{const x={redirect:encodeURIComponent(T)};return p||R.createUrlTree([(0,f.KN)()],{queryParams:x})}))},70334:(F,D,n)=>{"use strict";n.d(D,{c:()=>i});var i=function(t){return t.Known="KNOWN",t.Unknown="UNKNOWN",t.Supported="SUPPORTED",t}(i||{})},760:(F,D,n)=>{"use strict";n.d(D,{v:()=>E});var i=n(31635),t=n(74850),u=n(21921),e=n(24547),h=n(98688),m=n(92174),v=(n(70334),n(42547));let E=class{static{this.type=m.a}};(0,i.Cg)([h.aK,t.autoserialize,(0,i.Sn)("design:type",v.v)],E.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"shortDescription",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"mimetype",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"supportLevel",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],E.prototype,"internal",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],E.prototype,"extensions",void 0),(0,i.Cg)([(0,t.deserializeAs)(new e.a("bitstream-format"),"id"),(0,i.Sn)("design:type",String)],E.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"id",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([u.gV],E)},92174:(F,D,n)=>{"use strict";n.d(D,{a:()=>t});const t=new(n(42547).v)("bitstreamformat")},33376:(F,D,n)=>{"use strict";n.d(D,{_:()=>E});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(96470),m=n(92174),f=n(2527),v=n(76829);let E=class extends v.M{static{this.type=h.e}getParentLinkKey(){return"format"}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],E.prototype,"sizeBytes",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"bundleName",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(h.e,!1,"thumbnail"),(0,i.Sn)("design:type",u.c)],E.prototype,"thumbnail",void 0),(0,i.Cg)([(0,e.nf)(m.a,!1,"format"),(0,i.Sn)("design:type",u.c)],E.prototype,"format",void 0),(0,i.Cg)([(0,e.nf)(f.d),(0,i.Sn)("design:type",u.c)],E.prototype,"bundle",void 0),E=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(v.M)],E)},96470:(F,D,n)=>{"use strict";n.d(D,{e:()=>t});const t=new(n(42547).v)("bitstream")},34427:(F,D,n)=>{"use strict";n.d(D,{o:()=>e});var i=n(31635),t=n(74850),u=n(56970);class e extends u.I{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],e.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)("metadata"),(0,i.Sn)("design:type",Array)],e.prototype,"metadataKeys",void 0)},87369:(F,D,n)=>{"use strict";n.d(D,{z:()=>t});const t=new(n(42547).v)("browse")},70673:(F,D,n)=>{"use strict";n.d(D,{N:()=>E});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(96470),m=n(2527),f=n(76829),v=n(13868);let E=class extends f.M{static{this.type=m.d}};(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(h.e),(0,i.Sn)("design:type",u.c)],E.prototype,"primaryBitstream",void 0),(0,i.Cg)([(0,e.nf)(h.e,!0),(0,i.Sn)("design:type",u.c)],E.prototype,"bitstreams",void 0),(0,i.Cg)([(0,e.nf)(v.U),(0,i.Sn)("design:type",u.c)],E.prototype,"item",void 0),E=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(f.M)],E)},2527:(F,D,n)=>{"use strict";n.d(D,{d:()=>t});const t=new(n(42547).v)("bundle")},6041:(F,D,n)=>{"use strict";n.d(D,{p:()=>I});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(88985),m=n(98688),f=n(96470),v=n(9927),E=n(72364),_=n(76829),C=n(18602);let I=class extends _.M{static{this.type=v.n}get handle(){return this.firstMetadataValue("dc.identifier.uri")}get introductoryText(){return this.firstMetadataValue("dc.description")}get shortDescription(){return this.firstMetadataValue("dc.description.abstract")}get copyrightText(){return this.firstMetadataValue("dc.rights")}get dcLicense(){return this.firstMetadataValue("dc.rights.license")}get sidebarText(){return this.firstMetadataValue("dc.description.tableofcontents")}getParentLinkKey(){return"parentCommunity"}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",Number)],I.prototype,"archivedItemsCount",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],I.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(C.m),(0,i.Sn)("design:type",u.c)],I.prototype,"license",void 0),(0,i.Cg)([(0,e.nf)(f.e),(0,i.Sn)("design:type",u.c)],I.prototype,"logo",void 0),(0,i.Cg)([(0,e.nf)(h.O,!0),(0,i.Sn)("design:type",u.c)],I.prototype,"defaultAccessConditions",void 0),(0,i.Cg)([(0,e.nf)(E.G,!1),(0,i.Sn)("design:type",u.c)],I.prototype,"parentCommunity",void 0),I=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(_.M)],I)},9927:(F,D,n)=>{"use strict";n.d(D,{n:()=>t});const t=new(n(42547).v)("collection")},10046:(F,D,n)=>{"use strict";n.d(D,{E:()=>_});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(98688),m=n(96470),f=n(9927),v=n(72364),E=n(76829);let _=class extends E.M{static{this.type=v.G}get handle(){return this.firstMetadataValue("dc.identifier.uri")}get introductoryText(){return this.firstMetadataValue("dc.description")}get shortDescription(){return this.firstMetadataValue("dc.description.abstract")}get copyrightText(){return this.firstMetadataValue("dc.rights")}get sidebarText(){return this.firstMetadataValue("dc.description.tableofcontents")}getParentLinkKey(){return"parentCommunity"}};(0,i.Cg)([h.aK,t.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"archivedItemsCount",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.e),(0,i.Sn)("design:type",u.c)],_.prototype,"logo",void 0),(0,i.Cg)([(0,e.nf)(f.n,!0),(0,i.Sn)("design:type",u.c)],_.prototype,"collections",void 0),(0,i.Cg)([(0,e.nf)(v.G,!0),(0,i.Sn)("design:type",u.c)],_.prototype,"subcommunities",void 0),(0,i.Cg)([(0,e.nf)(v.G,!1),(0,i.Sn)("design:type",u.c)],_.prototype,"parentCommunity",void 0),_=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(E.M)],_)},72364:(F,D,n)=>{"use strict";n.d(D,{G:()=>t});const t=new(n(42547).v)("community")},98179:(F,D,n)=>{"use strict";n.d(D,{l:()=>i});var i=function(t){return t[t.CF_ACCEPTED=600]="CF_ACCEPTED",t[t.CF_UNCERTAIN=500]="CF_UNCERTAIN",t[t.CF_AMBIGUOUS=400]="CF_AMBIGUOUS",t[t.CF_NOTFOUND=300]="CF_NOTFOUND",t[t.CF_FAILED=200]="CF_FAILED",t[t.CF_REJECTED=100]="CF_REJECTED",t[t.CF_NOVALUE=0]="CF_NOVALUE",t[t.CF_UNSET=-1]="CF_UNSET",t}(i||{})},54559:(F,D,n)=>{"use strict";n.d(D,{f:()=>t});var i=n(82777);class t{Serialize(e){return(0,i.Im)(e)?"all":e}Deserialize(e){return"all"===e?"":e}}},45348:(F,D,n)=>{"use strict";n.d(D,{Z:()=>_,s:()=>E});var i=n(31635),t=n(74850),u=n(21921),e=n(56970),h=n(98688),m=n(42547);const f=new m.v("contentsource");var v=n(54559),E=function(C){return C.None="NONE",C.Metadata="METADATA_ONLY",C.MetadataAndRef="METADATA_AND_REF",C.MetadataAndBitstreams="METADATA_AND_BITSTREAMS",C}(E||{});let _=class extends e.I{constructor(){super(...arguments),this.type=f,this.harvestType=E.None}static{this.type=f}};(0,i.Cg)([h.aK,(0,i.Sn)("design:type",m.v)],_.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)("self"),(0,i.Sn)("design:type",String)],_.prototype,"uuid",void 0),(0,i.Cg)([(0,t.autoserializeAs)("oai_source"),(0,i.Sn)("design:type",String)],_.prototype,"oaiSource",void 0),(0,i.Cg)([(0,t.deserializeAs)(new v.f,"oai_set_id"),(0,t.serializeAs)(new v.f,"oai_set_id"),(0,i.Sn)("design:type",String)],_.prototype,"oaiSetId",void 0),(0,i.Cg)([(0,t.autoserializeAs)("metadata_config_id"),(0,i.Sn)("design:type",String)],_.prototype,"metadataConfigId",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_type"),(0,i.Sn)("design:type",Object)],_.prototype,"harvestType",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_status"),(0,i.Sn)("design:type",String)],_.prototype,"harvestStatus",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_start_time"),(0,i.Sn)("design:type",String)],_.prototype,"harvestStartTime",void 0),(0,i.Cg)([(0,t.autoserializeAs)("last_harvested"),(0,i.Sn)("design:type",String)],_.prototype,"lastHarvested",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_message"),(0,i.Sn)("design:type",String)],_.prototype,"message",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([u.gV],_)},26292:(F,D,n)=>{"use strict";n.d(D,{o:()=>i});var i=function(t){return t.Any="undefined",t.ItemPage="itemPage",t.Search="search",t.Workflow="workflow",t.Workspace="workspace",t.SupervisedItems="supervisedWorkspace",t.AdminMenu="adminMenu",t.EntitySearchModalWithNameVariants="EntitySearchModalWithNameVariants",t.EntitySearchModal="EntitySearchModal",t.AdminSearch="adminSearch",t.AdminWorkflowSearch="adminWorkflowSearch",t.SideBarSearchModal="sideBarSearchModal",t.SideBarSearchModalCurrent="sideBarSearchModalCurrent",t.ScopeSelectorModal="scopeSelectorModal",t.ScopeSelectorModalCurrent="scopeSelectorModalCurrent",t.MyDSpaceArchived="mydspaceArchived",t.MyDSpaceWorkspace="mydspaceWorkspace",t.MyDSpaceWorkflow="mydspaceWorkflow",t.MyDSpaceDeclined="mydspaceDeclined",t.MyDSpaceApproved="mydspaceApproved",t.MyDSpaceWaitingController="mydspaceWaitingController",t.MyDSpaceValidation="mydspaceValidation",t.Bitstream="bitstream",t.CoarNotify="coarNotify",t}(i||{})},52998:(F,D,n)=>{"use strict";function i(t,u){t.getValue()!==u&&t.next(u)}n.d(D,{S:()=>i})},13864:(F,D,n)=>{"use strict";n.d(D,{W:()=>i});var i=function(t){return t.BUNDLE="BUNDLE",t.BITSTREAM="BITSTREAM",t.ITEM="ITEM",t.COLLECTION="COLLECTION",t.COMMUNITY="COMMUNITY",t.DSPACEOBJECT="DSPACEOBJECT",t}(i||{})},76829:(F,D,n)=>{"use strict";n.d(D,{M:()=>C});var i=n(31635),t=n(74850),u=n(82777),e=n(22878),h=n(21921),m=n(98688),f=n(39147),v=n(14391),E=n(39552),_=n(42547);let C=class extends e.u{static{this.type=f.X}get self(){return this._links.self.href}set self(R){this._links.self={href:R}}get name(){return(0,u.b0)(this._name)?this.firstMetadataValue("dc.title"):this._name}set name(R){(0,u.a4)(this.firstMetadata("dc.title"))&&(this.firstMetadata("dc.title").value=R),this._name=R}get metadataAsList(){return E.O.toViewModelList(this.metadata)}allMetadata(R,T){return E.O.all(this.metadata,R,T)}allMetadataValues(R,T){return E.O.allValues(this.metadata,R,T)}firstMetadata(R,T){return E.O.first(this.metadata,R,T)}firstMetadataValue(R,T){return E.O.firstValue(this.metadata,R,T)}hasMetadata(R,T){return E.O.has(this.metadata,R,T)}findMetadataSortedByPlace(R){return this.allMetadata(R).sort((T,A)=>(0,u.Tn)(T.place)&&(0,u.Tn)(A.place)?0:(0,u.Tn)(T.place)?-1:(0,u.Tn)(A.place)?1:T.place-A.place)}getRenderTypes(){return[this.constructor]}setMetadata(R,T,...A){const p=A.map((x,O)=>{const w=new v.vD;return w.value=x,w.authority=null,w.confidence=-1,w.language=T||null,w.place=O,w});(0,u.Tn)(this.metadata)&&(this.metadata=Object.create({})),this.metadata[R]=p}removeMetadata(R){delete this.metadata[R]}};(0,i.Cg)([m.aK,(0,t.deserializeAs)("name"),(0,i.Sn)("design:type",String)],C.prototype,"_name",void 0),(0,i.Cg)([m.aK,(0,t.autoserializeAs)(String,"uuid"),(0,i.Sn)("design:type",String)],C.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String),(0,i.Sn)("design:type",String)],C.prototype,"uuid",void 0),(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",_.v)],C.prototype,"type",void 0),(0,i.Cg)([m.aK,(0,t.autoserializeAs)(v.Of),(0,i.Sn)("design:type",v.Cr)],C.prototype,"metadata",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),C=(0,i.Cg)([h.gV],C)},39147:(F,D,n)=>{"use strict";n.d(D,{X:()=>t});const t=new(n(42547).v)("dspaceobject")},15179:(F,D,n)=>{"use strict";n.d(D,{$:()=>E});var i=n(31635),t=n(74850),u=n(22878),e=n(21921),h=n(98688),m=n(42547);const f=new m.v("externalSourceEntry");var v=n(14391);let E=class extends u.u{static{this.type=f}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"id",void 0),(0,i.Cg)([h.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],E.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"display",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"externalSource",void 0),(0,i.Cg)([(0,t.autoserializeAs)(v.Of),(0,i.Sn)("design:type",v.Cr)],E.prototype,"metadata",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([e.gV],E)},31507:(F,D,n)=>{"use strict";n.d(D,{B:()=>_});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(56970),m=n(98688),f=n(42547);const v=new f.v("externalsource");var E=n(49623);let _=class extends h.I{static{this.type=v}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"hierarchical",void 0),(0,i.Cg)([(0,e.nf)(E.N,!0),(0,i.Sn)("design:type",u.c)],_.prototype,"entityTypes",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([e.gV],_)},89269:(F,D,n)=>{"use strict";n.d(D,{E:()=>v});var i=n(96697),t=n(96354),u=n(82777),e=n(67116),h=n(1676),m=n(45663),f=n(54438);let v=(()=>{class E{constructor(C,I){this._window=C,this.authService=I}retrieveFileDownloadLink(C){return this.authService.getShortlivedToken().pipe((0,i.s)(1),(0,t.T)(I=>(0,u.a4)(I)?new m.t(C,`?authentication-token=${I}`).toString():C))}getFileNameFromResponseContentDisposition(C){const I=C.headers.get("content-disposition")||"";return((/filename="([^;]+)"/gi.exec(I)||[])[1]||"untitled").trim().replace(/\.[^/.]+$/,"")}static{this.\u0275fac=function(I){return new(I||E)(f.KVO(h.lc),f.KVO(e.uR))}}static{this.\u0275prov=f.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},55451:(F,D,n)=>{"use strict";n.d(D,{P:()=>v});var i=n(31635),t=n(74850),u=n(21921),e=n(98688),h=n(393),m=n(8472),f=n(42547);let v=class extends m.o{constructor(){super(...arguments),this.type=h.z}static{this.type=h.z}get self(){return this._links.self.href}getRenderType(){return this.dataType}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",f.v)],v.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(m.o)],v)},393:(F,D,n)=>{"use strict";n.d(D,{z:()=>t});const t=new(n(42547).v)("flatBrowse")},4910:(F,D,n)=>{"use strict";n.d(D,{Y:()=>A});var i=n(88141),t=n(5964),u=n(96354),e=n(96697),h=n(25558),m=n(99172),f=n(23294),v=n(82777),E=n(72734),_=n(43052),C=n(32473),I=n(61424),R=n(80183),T=n(54438);let A=(()=>{class p{constructor(O,w){this.requestService=O,this.rdbService=w}getRootHref(){return(new I.F).toString()}getRootEndpointMap(){return this.getEndpointMapAt(this.getRootHref())}getEndpointMapAt(O){const w=new _.ld(this.requestService.generateRequestId(),O);return this.requestService.send(w,!0),this.rdbService.buildFromHref(O).pipe((0,i.M)(M=>{(0,v.a4)(M)&&M.isStale&&this.getEndpointMapAt(O)}),(0,t.p)(M=>!M.isStale),(0,R.qD)(),(0,u.T)(M=>{if((0,v.a4)(M.payload))return M.payload._links;console.warn(`No _links section found at ${O}`)}))}getEndpoint(O,w){const M=O.split("/").filter(L=>(0,v.hj)(L));return this.getEndpointAt(w||this.getRootHref(),...M).pipe((0,e.s)(1))}getEndpointAt(O,...w){if((0,v.Im)(w))throw new Error("cant't fetch the URL without the HAL link names");const M=this.getEndpointMapAt(O).pipe((0,u.T)(L=>{const B=w[0];if((0,v.a4)(L)&&(0,v.a4)(L[B]))return L[B].href;throw new Error(`${JSON.stringify(L)} doesn't contain the link ${B}`)}));return 1===w.length?M.pipe((0,e.s)(1)):M.pipe((0,h.n)(L=>this.getEndpointAt(L,...w.slice(1))),(0,e.s)(1))}isEnabledOnRestApi(O){return this.getRootEndpointMap().pipe((0,u.T)(w=>(0,v.hj)(w[O])),(0,m.Z)(void 0),(0,f.F)())}static{this.\u0275fac=function(w){return new(w||p)(T.KVO(C.B),T.KVO(E.o))}}static{this.\u0275prov=T.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},11453:(F,D,n)=>{"use strict";n.d(D,{s:()=>u});var i=n(31635),t=n(74850);class u{}(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],u.prototype,"_links",void 0)},98277:(F,D,n)=>{"use strict";n.d(D,{R:()=>E});var i=n(31635),t=n(74850),u=n(1624),e=n(21921),h=n(98688),m=n(34427),f=n(70035),v=n(42547);let E=class extends m.o{constructor(){super(...arguments),this.type=f.L}static{this.type=f.L}get self(){return this._links.self.href}getRenderType(){return u.O.Hierarchy}};(0,i.Cg)([h.aK,(0,i.Sn)("design:type",v.v)],E.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"facetType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"vocabulary",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(m.o)],E)},70035:(F,D,n)=>{"use strict";n.d(D,{L:()=>t});const t=new(n(42547).v)("hierarchicalBrowse")},23881:(F,D,n)=>{"use strict";n.d(D,{S:()=>v});var i=n(31635),t=n(74850),u=n(21921),e=n(24547),h=n(98688),m=n(42547),f=n(49623);let v=class{static{this.type=f.N}};(0,i.Cg)([h.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"label",void 0),(0,i.Cg)([(0,t.deserializeAs)(new e.a(v.type.value),"id"),(0,i.Sn)("design:type",String)],v.prototype,"uuid",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([u.gV],v)},49623:(F,D,n)=>{"use strict";n.d(D,{N:()=>t,k:()=>u});const t=new(n(42547).v)("entitytype"),u="none"},59854:(F,D,n)=>{"use strict";n.d(D,{F:()=>_});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(24547),m=n(98688),f=n(42547),v=n(49623),E=n(80284);let _=class{static{this.type=E.U}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"label",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([(0,t.deserializeAs)(new h.a(_.type.value),"id"),(0,i.Sn)("design:type",String)],_.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"leftwardType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"leftMaxCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"leftMinCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"rightwardType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"rightMaxCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"rightMinCardinality",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(v.N),(0,i.Sn)("design:type",u.c)],_.prototype,"leftType",void 0),(0,i.Cg)([(0,e.nf)(v.N),(0,i.Sn)("design:type",u.c)],_.prototype,"rightType",void 0),_=(0,i.Cg)([e.gV],_)},80284:(F,D,n)=>{"use strict";n.d(D,{U:()=>t});const t=new(n(42547).v)("relationshiptype")},67359:(F,D,n)=>{"use strict";n.d(D,{b:()=>C});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(24547),m=n(98688),f=n(13868),v=n(42547),E=n(17133),_=n(80284);let C=class{static{this.type=E.X}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",v.v)],C.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new h.a(C.type.value),"id"),(0,i.Sn)("design:type",String)],C.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],C.prototype,"leftPlace",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],C.prototype,"rightPlace",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"leftwardValue",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"rightwardValue",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.U),(0,i.Sn)("design:type",u.c)],C.prototype,"leftItem",void 0),(0,i.Cg)([(0,e.nf)(f.U),(0,i.Sn)("design:type",u.c)],C.prototype,"rightItem",void 0),(0,i.Cg)([(0,e.nf)(_.U),(0,i.Sn)("design:type",u.c)],C.prototype,"relationshipType",void 0),C=(0,i.Cg)([e.gV],C)},17133:(F,D,n)=>{"use strict";n.d(D,{X:()=>t});const t=new(n(42547).v)("relationship")},52920:(F,D,n)=>{"use strict";n.d(D,{b:()=>f});var i=n(31635),t=n(74850),u=n(21921),e=n(98688),h=n(42547);const m=new h.v("itemrequest");let f=class{static{this.type=m}};(0,i.Cg)([e.aK,t.autoserialize,(0,i.Sn)("design:type",h.v)],f.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"token",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],f.prototype,"allfiles",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"requestEmail",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"requestName",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"requestMessage",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"requestDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],f.prototype,"acceptRequest",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"decisionDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"expires",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"itemId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"bitstreamId",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],f.prototype,"_links",void 0),f=(0,i.Cg)([u.gV],f)},88318:(F,D,n)=>{"use strict";n.d(D,{q:()=>A});var i=n(31635),t=n(74850),u=n(71985),e=n(87922),h=n(82777),m=n(89177),f=n(21921),v=n(96470),E=n(2527),_=n(9927),C=n(76829),I=n(13868),R=n(17133),T=n(16321);let A=class extends C.M{static{this.type=I.U}getRenderTypes(){const x=this.firstMetadataValue("dspace.entity.type");return(0,h.Im)(x)?super.getRenderTypes():[x,...super.getRenderTypes()]}getParentLinkKey(){return"owningCollection"}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],A.prototype,"handle",void 0),(0,i.Cg)([(0,t.deserializeAs)(Date),(0,i.Sn)("design:type",Date)],A.prototype,"lastModified",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"inArchive"),(0,i.Sn)("design:type",Boolean)],A.prototype,"isArchived",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"discoverable"),(0,i.Sn)("design:type",Boolean)],A.prototype,"isDiscoverable",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"withdrawn"),(0,i.Sn)("design:type",Boolean)],A.prototype,"isWithdrawn",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],A.prototype,"_links",void 0),(0,i.Cg)([(0,f.nf)(_.n),(0,i.Sn)("design:type",u.c)],A.prototype,"owningCollection",void 0),(0,i.Cg)([(0,f.nf)(T.x),(0,i.Sn)("design:type",u.c)],A.prototype,"version",void 0),(0,i.Cg)([(0,f.nf)(E.d,!0),(0,i.Sn)("design:type",u.c)],A.prototype,"bundles",void 0),(0,i.Cg)([(0,f.nf)(R.X,!0),(0,i.Sn)("design:type",u.c)],A.prototype,"relationships",void 0),(0,i.Cg)([(0,f.nf)(v.e,!1,"thumbnail"),(0,i.Sn)("design:type",u.c)],A.prototype,"thumbnail",void 0),(0,i.Cg)([(0,f.nf)(e.E),(0,i.Sn)("design:type",u.c)],A.prototype,"accessStatus",void 0),(0,i.Cg)([(0,f.nf)(m.f,!1,"identifiers"),(0,i.Sn)("design:type",u.c)],A.prototype,"identifiers",void 0),A=(0,i.Cg)([f.gV,(0,t.inheritSerialization)(C.M)],A)},13868:(F,D,n)=>{"use strict";n.d(D,{U:()=>t});const t=new(n(42547).v)("item")},18602:(F,D,n)=>{"use strict";n.d(D,{m:()=>t});const t=new(n(42547).v)("license")},93498:(F,D,n)=>{"use strict";n.d(D,{y:()=>u});var i=n(88318),t=n(85448);class u extends i.q{constructor(h){super(),this.virtualMetadata=h}get itemType(){return this.firstMetadataValue("dspace.entity.type")}get representationType(){return t.d.Item}getValue(){return this.virtualMetadata.value}}},85448:(F,D,n)=>{"use strict";n.d(D,{d:()=>i});var i=function(t){return t.None="none",t.Item="item",t.AuthorityControlled="authority_controlled",t.PlainText="plain_text",t.BrowseLink="browse_link",t}(i||{})},90424:(F,D,n)=>{"use strict";n.d(D,{Q:()=>e});var i=n(82777),t=n(14391),u=n(85448);class e extends t.vD{constructor(m,f){super(),this.itemType=m,this.browseDefinition=f}get representationType(){return(0,i.a4)(this.authority)?u.d.AuthorityControlled:(0,i.a4)(this.browseDefinition)?u.d.BrowseLink:u.d.PlainText}getValue(){return this.value}}},14391:(F,D,n)=>{"use strict";n.d(D,{BY:()=>e,Cr:()=>h,Of:()=>v,vD:()=>m});var i=n(31635),t=n(74850),u=n(36883);const e="virtual::";class h{}class m{constructor(){this.uuid=(0,u.A)()}}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"language",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],m.prototype,"place",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"authority",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],m.prototype,"confidence",void 0);const v={Serialize(E){const _={};return Object.keys(E).forEach(C=>{_[C]=(0,t.Serialize)(E[C],m)}),_},Deserialize(E){const _={};return Object.keys(E).forEach(C=>{_[C]=(0,t.Deserialize)(E[C],m)}),_}}},39552:(F,D,n)=>{"use strict";n.d(D,{O:()=>f});var i=n(28267),t=n.n(i),u=n(69136),e=n.n(u),h=n(82777),m=n(14391);class f{static all(E,_,C){const I=E instanceof Array?E:[E],R=[];for(const T of I){for(const A of f.resolveKeys(T,_)){const p=T[A];if(p)for(const x of p)f.valueMatches(x,C)&&R.push(x)}if(!(0,h.Im)(R))return R}return R}static allValues(E,_,C){return f.all(E,_,C).map(I=>I.value)}static first(E,_,C){const I=E instanceof Array?E:[E];for(const R of I)for(const T of f.resolveKeys(R,_)){const A=R[T];if(A)return A.find(p=>f.valueMatches(p,C))}}static firstValue(E,_,C){const I=f.first(E,_,C);return(0,h.b0)(I)?void 0:I.value}static has(E,_,C){return(0,h.EA)(f.first(E,_,C))}static valueMatches(E,_){if(!_)return!0;if(_.language&&_.language!==E.language)return!1;if(_.authority&&_.authority!==E.authority)return!1;if(_.value){let C=_.value,I=E.value;return _.ignoreCase&&(C=_.value.toLowerCase(),I=E.value.toLowerCase()),_.substring?I.includes(C):I===C}return!0}static resolveKeys(E={},_){const C=_ instanceof Array?_:[_],I=[];for(const R of C)if(R.includes("*")){const T=new RegExp("^"+R.replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")+"$");for(const A of Object.keys(E))!I.includes(A)&&T.test(A)&&I.push(A)}else E.hasOwnProperty(R)&&!I.includes(R)&&I.push(R);return I}static toViewModelList(E){let _=[];return Object.keys(E).sort().forEach(C=>{const I=E[C].map((R,T)=>Object.assign({},R,{order:T,key:C}));_=[..._,...I]}),_}static toMetadataMap(E){const _={},C=t()(E,I=>I.key);return Object.keys(C).sort().forEach(I=>{const R=e()(C[I],["order"]);_[I]=R.map(T=>{const A=Object.assign(new m.vD,T);return delete A.order,delete A.key,A})}),_}static setFirstValue(E,_,C){(0,h.hj)(E[_])?E[_][0].value=C:E[_]=[Object.assign(new m.vD,{value:C})]}}},8472:(F,D,n)=>{"use strict";n.d(D,{o:()=>h});var i=n(31635),t=n(74850),e=(n(1624),n(34427));let h=class extends e.o{};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],h.prototype,"sortOptions",void 0),(0,i.Cg)([(0,t.autoserializeAs)("order"),(0,i.Sn)("design:type",String)],h.prototype,"defaultSortOrder",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"dataType",void 0),h=(0,i.Cg)([(0,t.inheritSerialization)(e.o)],h)},80183:(F,D,n)=>{"use strict";n.d(D,{f6:()=>x,F3:()=>p,bD:()=>M,v7:()=>te,Hz:()=>Y,Jq:()=>J,D4:()=>z,qD:()=>L,GD:()=>Q,yd:()=>k,ak:()=>U,QQ:()=>K,Ar:()=>G,o5:()=>W,W8:()=>w,Bo:()=>O,LB:()=>le,qn:()=>ee,jY:()=>Z});var i=n(54438),t=n(40605),u=n(84572),e=n(39974),h=n(85343),m=n(54360),f=n(58750),E=n(70152),_=n(96354),C=n(5964),I=n(96697),R=n(47677),T=n(25558),A=n(82777);const p=(ne,fe)=>function v(ne){return(0,e.N)((fe,se)=>{let ce=!1,De=null,be=null;const me=()=>{if(be?.unsubscribe(),be=null,ce){ce=!1;const re=De;De=null,se.next(re)}};fe.subscribe((0,m._)(se,re=>{be?.unsubscribe(),ce=!0,De=re,be=(0,m._)(se,me,h.l),(0,f.Tg)(ne(re)).subscribe(be)},()=>{me(),se.complete()},void 0,()=>{De=be=null}))})}(()=>(0,t.Y)(ne,fe)),x=new i.nKC("debounceTime",{providedIn:"root",factory:()=>E.B}),O=()=>ne=>ne.pipe((0,_.T)(fe=>fe?.payload)),w=()=>ne=>ne.pipe((0,_.T)(fe=>fe.page)),M=()=>ne=>ne.pipe((0,C.p)(fe=>(0,A.a4)(fe)&&fe.hasCompleted)),L=()=>ne=>ne.pipe(M(),(0,I.s)(1)),k=()=>ne=>ne.pipe((0,C.p)(fe=>fe.hasSucceeded),(0,I.s)(1)),W=()=>ne=>ne.pipe((0,R.I)(fe=>fe.hasSucceeded&&(0,A.hj)(fe.payload))),U=()=>ne=>ne.pipe(k(),O()),K=()=>ne=>ne.pipe(W(),O()),Y=()=>ne=>ne.pipe(te(),O()),G=()=>ne=>ne.pipe(k(),O(),w()),z=()=>ne=>ne.pipe((0,R.I)(fe=>!fe.isLoading)),te=()=>ne=>ne.pipe((0,C.p)(fe=>fe.hasSucceeded)),Z=()=>ne=>ne.pipe((0,C.p)(fe=>fe.hasSucceeded),(0,_.T)(fe=>{const se=fe.payload.page.filter(De=>(0,A.a4)(De)).map(De=>De.indexableObject),ce=Object.assign(fe.payload,{page:se});return Object.assign(fe,{payload:ce})})),J=ne=>fe=>fe.pipe(O(),w(),(0,_.T)(se=>se.find(ce=>ce.id===ne)),(0,_.T)(se=>{if((0,A.hj)(se))return se._links;throw new Error(`No metadata browse definition could be found for id '${ne}'`)})),Q=()=>ne=>ne.pipe((0,_.T)(fe=>Object.assign(fe,{payload:fe.payload.page.length>0?fe.payload.page[0]:void 0}))),ee=()=>ne=>ne.pipe((0,A.Az)(),(0,_.T)(fe=>fe.payload.page.filter(se=>(0,A.a4)(se)))),le=()=>ne=>ne.pipe((0,A.Az)(),(0,_.T)(fe=>fe.payload.page.filter(se=>(0,A.a4)(se))),(0,T.n)(fe=>{const se=fe.map(ce=>ce.schema.pipe(U(),(0,_.T)(De=>({field:ce,schema:De}))));return(0,A.hj)(se)?(0,u.z)(se):[[]]}),(0,_.T)(fe=>fe.map(se=>se.schema.prefix+"."+se.field.toString())))},32089:(F,D,n)=>{"use strict";n.d(D,{Q:()=>e});var i=n(31635),t=n(74850),u=n(82777);class e{constructor(m){(0,u.a4)(m)&&(this.elementsPerPage=m.elementsPerPage,this.totalElements=m.totalElements,this.totalPages=m.totalPages,this.currentPage=m.currentPage)}get self(){return this._links.self.href}get last(){if((0,u.a4)(this._links)&&(0,u.a4)(this._links.last))return this._links.last.href}get next(){if((0,u.a4)(this._links)&&(0,u.a4)(this._links.next))return this._links.next.href}get prev(){if((0,u.a4)(this._links)&&(0,u.a4)(this._links.prev))return this._links.prev.href}get first(){if((0,u.a4)(this._links)&&(0,u.a4)(this._links.first))return this._links.first.href}}(0,i.Cg)([(0,t.autoserializeAs)(Number,"size"),(0,i.Sn)("design:type",Number)],e.prototype,"elementsPerPage",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],e.prototype,"totalElements",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],e.prototype,"totalPages",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Number,"number"),(0,i.Sn)("design:type",Number)],e.prototype,"currentPage",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],e.prototype,"_links",void 0)},71135:(F,D,n)=>{"use strict";n.d(D,{c:()=>h});var i=n(31635),t=n(21921);const e=new(n(42547).v)("registration");let h=class{static{this.type=e}};h=(0,i.Cg)([t.gV],h)},91098:(F,D,n)=>{"use strict";n.d(D,{Ky:()=>e,m9:()=>h,w$:()=>f});var i=n(73028),t=n(88141),u=n(82777);const e=v=>E=>E.pipe((0,i.Z)(_=>v.getByHref(_)),(0,u.Az)()),h=v=>E=>E.pipe((0,i.Z)(_=>v.getByUUID(_)),(0,u.Az)()),f=v=>E=>E.pipe((0,t.M)(_=>v.send(_)))},42547:(F,D,n)=>{"use strict";n.d(D,{v:()=>i});class i{constructor(u){this.value=u}}},39012:(F,D,n)=>{"use strict";n.d(D,{g:()=>be});var i=n(84572),t=n(84412),u=n(57786),e=n(99172),h=n(96354),m=n(5964),f=n(96697),v=n(82640),E=n(82777),_=n(23401),C=n(43404),I=n(59780),R=n(33550);class T{constructor(re,Ee,Te){this.key=re,this.values=Ee,this.operator=Te}}var A=n(6842),p=n(54196),x=n(1321),O=n(72734),w=n(6238),M=n(31635),L=n(74850),B=n(21921),k=n(98688);const U=new(n(42547).v)("discovery-facets");let K=class{constructor(){this.type=U}static{this.type=U}};(0,M.Cg)([k.aK,(0,M.Sn)("design:type",Object)],K.prototype,"type",void 0),(0,M.Cg)([L.deserialize,(0,M.Sn)("design:type",Object)],K.prototype,"_links",void 0),K=(0,M.Cg)([B.gV],K);var Y=n(13808),G=n(28580),q=n(49872),z=n(54438);let te=(()=>{class me extends q.D3{parse(Ee,Te){const tt=Te.payload._embedded.facets,Fe=new G.T(A.F).deserializeArray(tt),Et={self:Te.payload._links.self};Fe.forEach(pt=>{Et[pt.name]={href:pt._links.self.href}});const Ye=Object.assign(new K,{filters:Fe,_links:Et});return this.addToObjectCache(Ye,Ee,Te),new Y.hT(Te.statusCode,Ye._links.self)}static{this.\u0275fac=(()=>{let Ee;return function(tt){return(Ee||(Ee=z.xGo(me)))(tt||me)}})()}static{this.\u0275prov=z.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}}return me})();var Z=n(1716),J=n(43052),Q=n(32473),ee=n(22978),le=n(56760),ne=n(45663),fe=n(13864),se=n(4910),ce=n(80183),De=n(7901);let be=(()=>{class me{constructor(Ee,Te,tt,ht,Fe,Et,Ye,pt){this.routeService=Ee,this.paginationService=Te,this.route=tt,this.linkService=ht,this.halService=Fe,this.requestService=Et,this.rdb=Ye,this.appConfig=pt,this.configurationLinkPath="discover/search",this.facetLinkPathPrefix="discover/facets/",this.paginationID="spc",this.defaultPagination=Object.assign(new _.W,{id:this.paginationID,pageSize:10,currentPage:1}),this.defaultScope="",this.defaultQuery="",this.subs=new Map(null),this.initDefaults()}get defaults(){if((0,E.Tn)(this._defaults)){const Ee=new R.C({pagination:this.defaultPagination,scope:this.defaultScope,query:this.defaultQuery});this._defaults=(0,C.CX)(Ee,(new Date).getTime())}return this._defaults}getCurrentConfiguration(Ee){return(0,i.z)([this.routeService.getQueryParameterValue("configuration").pipe((0,e.Z)(void 0)),this.routeService.getRouteParameterValue("configuration").pipe((0,e.Z)(void 0))]).pipe((0,h.T)(([Te,tt])=>Te||tt||Ee))}getCurrentScope(Ee){return this.routeService.getQueryParameterValue("scope").pipe((0,h.T)(Te=>Te||Ee))}getCurrentQuery(Ee){return this.routeService.getQueryParameterValue("query").pipe((0,h.T)(Te=>Te||Ee))}getCurrentDSOType(){return this.routeService.getQueryParameterValue("dsoType").pipe((0,m.p)(Ee=>(0,E.hj)(Ee)&&(0,E.a4)(fe.W[Ee.toUpperCase()])),(0,h.T)(Ee=>fe.W[Ee.toUpperCase()]))}getCurrentPagination(Ee,Te){return this.paginationService.getCurrentPagination(Ee,Te)}getCurrentSort(Ee,Te){return this.paginationService.getCurrentSort(Ee,Te)}getCurrentFilters(){return this.routeService.getQueryParamsWithPrefix("f.").pipe((0,h.T)(Ee=>{if((0,E.hj)(Ee)){const Te=[];return Object.keys(Ee).forEach(tt=>{if(tt.endsWith(".min")||tt.endsWith(".max")){const ht=tt.slice(0,-4);(0,E.Tn)(Te.find(Fe=>Fe.key===ht))&&Te.push(new T(ht,["["+(Ee[ht+".min"]?Ee[ht+".min"][0]:"*")+" TO "+(Ee[ht+".max"]?Ee[ht+".max"][0]:"*")+"]"],"equals"))}else Te.push(new T(tt,Ee[tt]))}),Te}return[]}))}getCurrentFixedFilter(){return this.routeService.getRouteParameterValue("fixedFilterQuery")}getCurrentFrontendFilters(){return this.routeService.getQueryParamsWithPrefix("f.")}getCurrentViewMode(Ee){return this.routeService.getQueryParameterValue("view").pipe((0,h.T)(Te=>Te||Ee))}getConfigurationSearchConfig(Ee,Te){return this.getSearchConfigurationFor(Te,Ee).pipe((0,ce.Hz)())}getConfigurationSortOptions(Ee){return Ee.sortOptions.map(Te=>({field:Te.name,direction:Te.sortOrder.toLowerCase()===w.U.ASC.toLowerCase()?w.U.ASC:w.U.DESC}))}getConfigurationAdvancedSearchFilters(Ee,Te){return this.getConfigurationSearchConfig(Ee,Te).pipe((0,h.T)(tt=>tt.filters.filter(ht=>this.appConfig.search.advancedFilters.filter.includes(ht.filter)).filter(ht=>ht.type!==I.R.range)))}setPaginationId(Ee){if((0,E.hj)(Ee)){const Te=this.paginatedSearchOptions.getValue(),tt=Object.assign(new R.C({}),Te,{pagination:Object.assign({},Te.pagination,{id:Ee})});this.unsubscribeFromSearchOptions(this.paginationID),this.paginationID=Ee,this.paginatedSearchOptions.next(tt),this.setSearchSubscription(this.paginationID,this.paginatedSearchOptions.value)}}ngOnDestroy(){this.subs.forEach(Ee=>Ee.filter(Te=>(0,E.a4)(Te)).forEach(Te=>Te.unsubscribe())),this.subs=new Map(null)}initDefaults(){this.defaults.pipe((0,ce.yd)()).subscribe(Ee=>{const Te=Ee.payload;this.paginatedSearchOptions=new t.t(Te),this.searchOptions=new t.t(Te),this.setSearchSubscription(this.paginationID,Te)})}setSearchSubscription(Ee,Te){this.unsubscribeFromSearchOptions(Ee);const tt=[this.subscribeToSearchOptions(Te),this.subscribeToPaginatedSearchOptions(Ee||Te.pagination.id,Te)];this.subs.set(this.paginationID,tt)}subscribeToSearchOptions(Ee){return(0,u.h)(this.getConfigurationPart(Ee.configuration),this.getScopePart(Ee.scope),this.getQueryPart(Ee.query),this.getDSOTypePart(),this.getFiltersPart(),this.getFixedFilterPart(),this.getViewModePart(Ee.view)).subscribe(Te=>{const tt=this.searchOptions.getValue(),ht=Object.assign(new R.C({}),tt,Te);this.searchOptions.next(ht)})}subscribeToPaginatedSearchOptions(Ee,Te){return(0,u.h)(this.getConfigurationPart(Te.configuration),this.getPaginationPart(Ee,Te.pagination),this.getSortPart(Ee,Te.sort),this.getScopePart(Te.scope),this.getQueryPart(Te.query),this.getDSOTypePart(),this.getFiltersPart(),this.getFixedFilterPart(),this.getViewModePart(Te.view)).subscribe(tt=>{const ht=this.paginatedSearchOptions.getValue(),Fe=Object.assign(new R.C({}),ht,tt);this.paginatedSearchOptions.next(Fe)})}unsubscribeFromSearchOptions(Ee){this.subs.has(this.paginationID)&&(this.subs.get(this.paginationID).filter(Te=>(0,E.a4)(Te)).forEach(Te=>Te.unsubscribe()),this.subs.delete(Ee))}getConfigurationPart(Ee){return this.getCurrentConfiguration(Ee).pipe((0,h.T)(Te=>({configuration:Te})))}getScopePart(Ee){return this.getCurrentScope(Ee).pipe((0,h.T)(Te=>({scope:Te})))}getQueryPart(Ee){return this.getCurrentQuery(Ee).pipe((0,h.T)(Te=>({query:Te})))}getDSOTypePart(){return this.getCurrentDSOType().pipe((0,h.T)(Ee=>({dsoType:Ee})))}getPaginationPart(Ee,Te){return this.getCurrentPagination(Ee,Te).pipe((0,h.T)(tt=>({pagination:tt})))}getSortPart(Ee,Te){return this.getCurrentSort(Ee,Te).pipe((0,h.T)(tt=>({sort:tt})))}getFiltersPart(){return this.getCurrentFilters().pipe((0,h.T)(Ee=>({filters:Ee})))}getFixedFilterPart(){return this.getCurrentFixedFilter().pipe((0,E.VT)(),(0,h.T)(Ee=>({fixedFilter:Ee})))}getSearchConfigurationFor(Ee,Te){const tt=this.halService.getEndpoint(this.configurationLinkPath).pipe((0,h.T)(ht=>this.getConfigUrl(ht,Ee,Te)));return tt.pipe((0,f.s)(1)).subscribe(ht=>{const Fe=new J.IP(this.requestService.generateRequestId(),ht);this.requestService.send(Fe,!0)}),this.rdb.buildFromHref(tt)}getConfigUrl(Ee,Te,tt){const ht=[];return(0,E.hj)(Te)&&ht.push(`scope=${Te}`),(0,E.hj)(tt)&&ht.push(`configuration=${tt}`),(0,E.hj)(ht)&&(Ee=new ne.t(Ee,`?${ht.join("&")}`).toString()),Ee}getConfig(Ee,Te){const tt=this.halService.getEndpoint(this.facetLinkPathPrefix).pipe((0,h.T)(ht=>this.getConfigUrl(ht,Ee,Te)));return tt.pipe((0,f.s)(1)).subscribe(ht=>{let Fe=new J.IP(this.requestService.generateRequestId(),ht);Fe=Object.assign(Fe,{getResponseParser:()=>te}),this.requestService.send(Fe,!0)}),this.rdb.buildFromHref(tt).pipe((0,h.T)(ht=>{if(ht.hasSucceeded){let Fe;return Fe=(0,E.hj)(ht.payload.filters)?ht.payload.filters.map(Et=>Object.assign(new A.F,Et)):[],new Z.j(ht.timeCompleted,ht.msToLive,ht.lastUpdated,ht.state,ht.errorMessage,Fe,ht.statusCode)}return ht}))}unselectAppliedFilterParams(Ee,Te,tt){return this.routeService.getParamsExceptValue(`f.${Ee}`,(0,E.a4)(tt)?(0,p.mq)(Te,tt):Te).pipe((0,h.T)(ht=>Object.assign(ht,{[this.paginationService.getPageParam(this.paginationID)]:1})))}selectNewAppliedFilterParams(Ee,Te,tt){return this.routeService.getParamsWithAdditionalValue(`f.${Ee}`,(0,E.a4)(tt)?(0,p.mq)(Te,tt):Te).pipe((0,h.T)(ht=>Object.assign(ht,{[this.paginationService.getPageParam(this.paginationID)]:1})))}getViewModePart(Ee){return this.getCurrentViewMode(Ee).pipe((0,h.T)(Te=>({view:Te})))}static{this.\u0275fac=function(Te){return new(Te||me)(z.KVO(le.v$),z.KVO(ee.m),z.KVO(De.nX),z.KVO(x._),z.KVO(se.Y),z.KVO(Q.B),z.KVO(O.o),z.KVO(v.vQ))}}static{this.\u0275prov=z.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}}return me})()},15465:(F,D,n)=>{"use strict";n.d(D,{U:()=>x});var i=n(25499),t=n(84572),u=n(7673),e=n(96354),h=n(23294),m=n(82777),f=n(23401),v=n(54196),E=n(22180),_=n(54438);let C=(()=>{class M{constructor(){this.specials=["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"],this.regex=RegExp("["+this.specials.join("\\")+"]","g")}transform(B,k){const W=this.escapeRegExp(k),U=new RegExp(W,"gi");return B.replace(U,"<em>$&</em>")}escapeRegExp(B){return B.replace(this.regex,"\\$&")}static{this.\u0275fac=function(k){return new(k||M)}}static{this.\u0275pipe=_.EJ8({name:"dsEmphasize",type:M,pure:!0,standalone:!0})}}return M})();var I=n(6238),R=n(56760),T=n(80183),A=n(78655);const p=M=>M.searchFilter;let x=(()=>{class M{constructor(B,k,W){this.searchService=B,this.store=k,this.routeService=W}isFilterActiveWithValue(B,k){return this.routeService.hasQueryParamWithValue(B,k)}isFilterActive(B){return this.routeService.hasQueryParam(B)}getCurrentScope(){return this.routeService.getQueryParameterValue("scope")}getCurrentQuery(){return this.routeService.getQueryParameterValue("query")}getCurrentPagination(B={}){const k=this.routeService.getQueryParameterValue("page"),W=this.routeService.getQueryParameterValue("pageSize");return(0,t.z)(k,W).pipe((0,e.T)(([U,K])=>Object.assign(new f.W,B,{currentPage:U||1,pageSize:K||B.pageSize})))}getCurrentSort(B){const k=this.routeService.getQueryParameterValue("sortDirection"),W=this.routeService.getQueryParameterValue("sortField");return(0,t.z)(k,W).pipe((0,e.T)(([U,K])=>new I.z(K||B.field,I.U[U]||B.direction)))}getCurrentFilters(){return this.routeService.getQueryParamsWithPrefix("f.")}getCurrentView(){return this.routeService.getQueryParameterValue("view")}findSuggestions(B,k,W){return(0,m.hj)(W)?this.searchService.getFacetValuesFor(B,1,k,W.toLowerCase()).pipe((0,T.yd)(),(0,e.T)(U=>U.payload.page.map(K=>({displayValue:this.getDisplayValue(K,W),query:(0,v.SB)(K,B),value:(0,v.gp)((0,v.SB)(K,B))})))):(0,u.of)([])}getDisplayValue(B,k){return`${(new C).transform(B.value,k)} (${B.count})`}isCollapsed(B){return this.store.pipe((0,i.Lt)(O(B)),(0,e.T)(k=>!!k&&(k.filterCollapsed||k.minimized)),(0,h.F)())}getPage(B){return this.store.pipe((0,i.Lt)(O(B)),(0,e.T)(k=>k?k.page:1),(0,h.F)())}collapse(B){this.store.dispatch(new E.ge(B))}expand(B){this.store.dispatch(new E.nj(B))}toggle(B){this.store.dispatch(new E.Fi(B))}initializeFilter(B){this.store.dispatch(new E.L2(B))}decrementPage(B){this.store.dispatch(new E.R0(B))}incrementPage(B){this.store.dispatch(new E.tq(B))}resetPage(B){this.store.dispatch(new E.Bf(B))}minimizeAll(){this.store.dispatch(new E.Po)}static{this.\u0275fac=function(k){return new(k||M)(_.KVO(A.S),_.KVO(i.il),_.KVO(R.v$))}}static{this.\u0275prov=_.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();function O(M){return function w(M){return(0,i.Mz)(p,L=>{if((0,m.a4)(L))return L[M]})}(M)}},78655:(F,D,n)=>{"use strict";n.d(D,{S:()=>Ee});var i=n(84412),t=n(84572),u=n(96354),e=n(23294),h=n(96697),m=n(25558),f=n(88141),v=n(82777),E=n(23401),_=n(33550),C=n(1102),I=n(43280),R=n(72734),T=n(49802),A=n(13989),p=n(54994),x=n(31635),O=n(74850),w=n(21921),M=n(96820),L=n(98688),k=(n(59780),n(24385));const U=new(n(42547).v)("discovery-facetvalues");let K=class extends k.a{constructor(){super(...arguments),this.type=U}static{this.type=U}};(0,x.Cg)([L.aK,(0,x.Sn)("design:type",Object)],K.prototype,"type",void 0),(0,x.Cg)([O.autoserialize,(0,x.Sn)("design:type",String)],K.prototype,"name",void 0),(0,x.Cg)([(0,O.autoserializeAs)(String,"facetType"),(0,x.Sn)("design:type",String)],K.prototype,"filterType",void 0),(0,x.Cg)([O.autoserialize,(0,x.Sn)("design:type",Number)],K.prototype,"facetLimit",void 0),(0,x.Cg)([(0,O.autoserializeAs)(p.L,"values"),(0,x.Sn)("design:type",Array)],K.prototype,"page",void 0),K=(0,x.Cg)([w.gV,(0,O.inheritSerialization)(M.O),(0,O.inheritSerialization)(k.a)],K);var Y=n(13808),G=n(28580),q=n(49872),z=n(54438);let te=(()=>{class Te extends q.D3{parse(ht,Fe){const Et=Fe.payload,Ye=new G.T(K).deserialize(Et);return Ye.pageInfo=this.processPageInfo(Et),Ye.page=new G.T(p.L).deserializeArray(Et._embedded.values),this.addToObjectCache(Ye,ht,Fe),new Y.hT(Fe.statusCode,Ye._links.self)}static{this.\u0275fac=(()=>{let ht;return function(Et){return(ht||(ht=z.xGo(Te)))(Et||Te)}})()}static{this.\u0275prov=z.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})();var Z=n(1716),J=n(43052),Q=n(32473),ee=n(44701),le=n(22978),ne=n(56760),fe=n(45663),se=n(4910),ce=n(80183),De=n(78448),be=n(39012),me=n(97324);class re extends T.L{constructor(){super("discover",void 0,void 0,void 0,void 0)}addEmbedParams(tt,ht,...Fe){return super.addEmbedParams(tt,ht,...Fe)}}let Ee=(()=>{class Te{constructor(ht,Fe,Et,Ye,pt,Mt,Ne,rt){this.routeService=ht,this.requestService=Fe,this.rdb=Et,this.halService=Ye,this.dspaceObjectService=pt,this.paginationService=Mt,this.searchConfigurationService=Ne,this.angulartics2=rt,this.searchLinkPath="discover/search/objects",this.parser=ee.z,this.request=J.IP,this.appliedFilters$=new i.t([]),this.searchDataService=new re}getSelectedValuesForFilter(ht){return this.appliedFilters$.pipe((0,u.T)(Fe=>Fe.filter(Et=>Et.filter===ht)),(0,e.F)((Fe,Et)=>JSON.stringify(Fe)===JSON.stringify(Et)))}setServiceOptions(ht,Fe){ht&&(this.parser=ht),Fe&&(this.request=Fe)}getEndpoint(ht){return this.halService.getEndpoint(this.searchLinkPath).pipe((0,u.T)(Fe=>(0,v.a4)(ht)?ht.toRestUrl(Fe):Fe))}search(ht,Fe,Et=!0,Ye=!0,...pt){const Mt=this.getEndpoint(ht);Mt.pipe((0,h.s)(1),(0,u.T)(rt=>{const Gt=this.searchDataService.addEmbedParams(rt,[],...pt);return(0,v.hj)(Gt)?new fe.t(rt,`?${Gt.join("&")}`).toString():rt})).subscribe(rt=>{const Gt=new this.request(this.requestService.generateRequestId(),rt);Object.assign(Gt,{responseMsToLive:(0,v.a4)(Fe)?Fe:Gt.responseMsToLive,getResponseParser:()=>this.parser,searchOptions:ht}),this.requestService.send(Gt,Et)});const Ne=Mt.pipe((0,m.n)(rt=>this.rdb.buildFromHref(rt)));return this.directlyAttachIndexableObjects(Ne,Et,Ye,...pt)}directlyAttachIndexableObjects(ht,Fe=!0,Et=!0,...Ye){return ht.pipe((0,m.n)(pt=>{if((0,v.a4)(pt.payload)&&(0,v.hj)(pt.payload.page)){const Mt=pt.payload.page.map(Ne=>this.dspaceObjectService.findByHref(Ne._links.indexableObject.href,Fe,Et,...Ye).pipe((0,ce.qD)(),(0,ce.Bo)(),(0,v.Az)(),(0,u.T)(rt=>{const Zt=(0,I.L)(rt.constructor);return Object.assign(new Zt,Ne,{indexableObject:rt})})));return(0,t.z)(Mt).pipe((0,u.T)(Ne=>{const rt=Object.assign(new C.n,pt.payload,{page:Ne});return new Z.j(pt.timeCompleted,pt.msToLive,pt.lastUpdated,pt.state,pt.errorMessage,rt,pt.statusCode)}))}return[pt]}))}getFacetValuesFor(ht,Fe,Et,Ye,pt=!0){let Mt,Ne=[];(0,v.a4)(Ye)&&Ne.push(`prefix=${encodeURIComponent(Ye)}`),(0,v.a4)(Et)?Mt=(Et=Object.assign(new _.C({}),Et,{pagination:Object.assign({},Et.pagination,{currentPage:Fe,pageSize:ht.pageSize})})).toRestUrl(ht._links.self.href,Ne):(Ne=["page="+(Fe-1),`size=${ht.pageSize}`,...Ne],Mt=new fe.t(ht._links.self.href,`?${Ne.join("&")}`).toString());let rt=new this.request(this.requestService.generateRequestId(),Mt);return rt=Object.assign(rt,{getResponseParser:()=>te}),this.requestService.send(rt,pt),this.rdb.buildFromHref(Mt).pipe((0,f.M)(Gt=>{if(Gt.hasSucceeded){const Zt=(Gt.payload.appliedFilters??[]).filter(mt=>(0,v.a4)(mt)).map(mt=>Object.assign({},mt,{operator:(0,v.a4)(mt.value.match(/\[\s*(\*|\d+)\s*TO\s*(\*|\d+)\s*]/))?"range":mt.operator}));this.appliedFilters$.next(Zt)}}))}getViewMode(){return this.routeService.getQueryParamMap().pipe((0,u.T)(ht=>(0,v.hj)(ht.get("view"))&&(0,v.a4)(ht.get("view"))?ht.get("view"):De.n.ListElement))}setViewMode(ht,Fe){this.paginationService.getCurrentPagination(this.searchConfigurationService.paginationID,new E.W).pipe((0,h.s)(1)).subscribe(Et=>{let Ye={page:1};const pt={view:ht};ht===De.n.DetailedListElement?Ye=Object.assign(Ye,{pageSize:1}):1===Et.pageSize&&(Ye=Object.assign(Ye,{pageSize:10})),this.paginationService.updateRouteWithUrl(this.searchConfigurationService.paginationID,(0,v.a4)(Fe)?Fe:[this.getSearchLink()],Ye,pt)})}trackSearch(ht,Fe,Et){const Ye=[],pt=Fe.appliedFilters||[];for(let Mt=0,Ne=pt.length;Mt<Ne;Mt++)Ye.push(pt[Mt]);this.angulartics2.eventTrack.next({action:"search",properties:{searchOptions:ht,page:{size:ht.pagination.size,totalElements:Fe.pageInfo.totalElements,totalPages:Fe.pageInfo.totalPages,number:ht.pagination.currentPage},sort:{by:ht.sort.field,order:ht.sort.direction},filters:Ye,clickedObject:Et}})}getSearchLink(){return"/search"}static{this.\u0275fac=function(Fe){return new(Fe||Te)(z.KVO(ne.v$),z.KVO(Q.B),z.KVO(R.o),z.KVO(se.Y),z.KVO(A.DSpaceObjectDataService),z.KVO(le.m),z.KVO(be.g),z.KVO(me.il))}}static{this.\u0275prov=z.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},30164:(F,D,n)=>{"use strict";n.d(D,{v:()=>u});var i=n(36883),t=n(54438);let u=(()=>{class e{generate(){return(0,i.A)()}static{this.\u0275fac=function(f){return new(f||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},50800:(F,D,n)=>{"use strict";n.d(D,{f:()=>v});var i=n(31635),t=n(74850),u=n(21921),e=n(98688),h=n(8472),m=n(42547),f=n(7654);let v=class extends h.o{constructor(){super(...arguments),this.type=f.o}static{this.type=f.o}get self(){return this._links.self.href}getRenderType(){return this.dataType}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",m.v)],v.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(h.o)],v)},7654:(F,D,n)=>{"use strict";n.d(D,{o:()=>t});const t=new(n(42547).v)("valueList")},65592:(F,D,n)=>{"use strict";n.d(D,{s:()=>t});const t=new(n(42547).v)("versionhistory")},2035:(F,D,n)=>{"use strict";n.d(D,{R:()=>C});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(58235),m=n(98688),f=n(76829),v=n(13868),E=n(16321),_=n(65592);let C=class extends f.M{static{this.type=E.x}};(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],C.prototype,"version",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"summary",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"submitterName",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Date)],C.prototype,"created",void 0),(0,i.Cg)([m.aK,(0,e.nf)(_.s),(0,i.Sn)("design:type",u.c)],C.prototype,"versionhistory",void 0),(0,i.Cg)([m.aK,(0,e.nf)(v.U),(0,i.Sn)("design:type",u.c)],C.prototype,"item",void 0),(0,i.Cg)([m.aK,(0,e.nf)(h.N),(0,i.Sn)("design:type",u.c)],C.prototype,"eperson",void 0),C=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(f.M)],C)},16321:(F,D,n)=>{"use strict";n.d(D,{x:()=>t});const t=new(n(42547).v)("version")},78448:(F,D,n)=>{"use strict";n.d(D,{n:()=>i});var i=function(t){return t.ListElement="list",t.GridElement="grid",t.DetailedListElement="detailed",t.StandalonePage="standalone",t.Table="table",t}(i||{})},12070:(F,D,n)=>{"use strict";n.d(D,{K:()=>v});var i=n(31635),t=n(74850),u=n(21921),e=n(11453),h=n(42547),m=n(98688),f=n(84276);let v=class extends e.s{static{this.type=f.N}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",h.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)("report-type"),(0,i.Sn)("design:type",String)],v.prototype,"reportType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],v.prototype,"points",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(e.s)],v)},84276:(F,D,n)=>{"use strict";n.d(D,{N:()=>t});const t=new(n(42547).v)("usagereport")},92946:(F,D,n)=>{"use strict";n.d(D,{Q:()=>t});const t=new(n(42547).v)("submissioncclicense")},62572:(F,D,n)=>{"use strict";n.d(D,{C:()=>v});var i=n(31635),t=n(74850),u=n(21921),e=n(11453),h=n(42547),m=n(98688),f=n(92946);let v=class extends e.s{static{this.type=f.Q}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",h.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],v.prototype,"fields",void 0),v=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(e.s)],v)},91902:(F,D,n)=>{"use strict";n.d(D,{w:()=>R});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(25168),m=n(58235),f=n(9927),v=n(76829),E=n(13868),_=n(83987),C=n(98688);let R=class extends v.M{get self(){return this._links.self.href}};(0,i.Cg)([C.aK,t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Date)],R.prototype,"lastModified",void 0),(0,i.Cg)([(0,e.nf)(f.n),(0,i.Sn)("design:type",Object)],R.prototype,"collection",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",class I{})],R.prototype,"sections",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],R.prototype,"errors",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],R.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(E.U),(0,i.Sn)("design:type",Object)],R.prototype,"item",void 0),(0,i.Cg)([(0,e.nf)(h.M.type),(0,i.Sn)("design:type",Object)],R.prototype,"submissionDefinition",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",Object)],R.prototype,"submitter",void 0),(0,i.Cg)([(0,e.nf)(_.T),(0,i.Sn)("design:type",u.c)],R.prototype,"supervisionOrders",void 0),R=(0,i.Cg)([(0,t.inheritSerialization)(v.M)],R)},25567:(F,D,n)=>{"use strict";n.d(D,{t:()=>f});var i=n(31635),t=n(74850),u=n(21921),e=n(24547),h=n(54949),m=n(91902);let f=class extends m.w{static{this.type=h.z}};(0,i.Cg)([(0,t.deserializeAs)(new e.a(f.type.value),"id"),(0,i.Sn)("design:type",String)],f.prototype,"uuid",void 0),f=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(m.w),(0,u.o8)(m.w)],f)},91581:(F,D,n)=>{"use strict";n.d(D,{F:()=>f});var i=n(31635),t=n(74850),u=n(21921),e=n(24547),h=n(6291),m=n(91902);let f=class extends m.w{static{this.type=h.l}};(0,i.Cg)([(0,t.deserializeAs)(new e.a(f.type.value),"id"),(0,i.Sn)("design:type",String)],f.prototype,"uuid",void 0),f=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(m.w),(0,u.o8)(m.w)],f)},69723:(F,D,n)=>{"use strict";n.r(D),n.d(D,{SubmissionDuplicateDataService:()=>I});var i=n(72734),t=n(53954),u=n(41684),e=n(49802),h=n(35108),m=n(41023),f=n(43052),v=n(32473),E=n(44701),_=n(4910),C=n(54438);let I=(()=>{class R extends e.L{constructor(A,p,x,O){super("duplicates",A,p,x,O),this.requestService=A,this.rdbService=p,this.objectCache=x,this.halService=O,this.parser=E.z,this.request=f.IP,this.searchData=new h.X(this.linkPath,A,p,x,O,this.responseMsToLive)}searchBy(A,p,x,O,...w){return this.searchData.searchBy(A,p,x,O,...w)}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}setServiceOptions(A,p){A&&(this.parser=A),p&&(this.request=p)}findDuplicates(A,p,x=!0,O=!0,...w){const M=[new t.x("uuid",A)];let L=new m._;return p&&(L=Object.assign(new m._,p)),L.searchParams=L.searchParams?[...L.searchParams,...M]:M,this.searchBy("findByItem",L,x,O,...w)}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(p){return new(p||R)(C.KVO(v.B),C.KVO(i.o),C.KVO(u.$),C.KVO(_.Y))}}static{this.\u0275prov=C.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},83203:(F,D,n)=>{"use strict";n.d(D,{U:()=>K});var i=n(72734),t=n(43052),u=n(32473),e=n(57786);function h(Y,G){return(q,z)=>!Y.call(G,q,z)}var m=n(5964),v=n(73028),E=n(96697),_=n(88141),C=n(96354),I=n(47677),R=n(23294),T=n(82777),A=n(80183),p=n(98107),x=n(645),O=n(47797);function w(Y){return(0,x.pc)(O.N,"json/patch",Y)}class L{submitJsonPatchOperations(G,q,z){const te=this.requestService.generateRequestId();let Z=null;const[J,Q]=function f(Y,G){return q=>[(0,m.p)(Y,G)(q),(0,m.p)(h(Y,G))(q)]}(ee=>(0,T.hj)(ee.body))(G.pipe((0,v.Z)(ee=>this.store.select(w(q)).pipe((0,E.s)(1),(0,m.p)(le=>(0,T.b0)(le)||!le.commitPending),(0,_.M)(()=>Z=(new Date).getTime()),(0,C.T)(le=>{const ne=[];return(0,T.hj)(le)&&((0,T.hj)(z)?(0,T.EA)(le.children[z])&&(0,T.hj)(le.children[z].body)&&le.children[z].body.forEach(fe=>{ne.push(fe.operation)}):Object.keys(le.children).filter(fe=>le.children.hasOwnProperty(fe)).filter(fe=>(0,T.a4)(le.children[fe])).filter(fe=>(0,T.a4)(le.children[fe].body)).forEach(fe=>{le.children[fe].body.forEach(se=>{ne.push(se.operation)})})),this.getRequestInstance(te,ee,ne)})))));return(0,e.h)(Q.pipe((0,m.p)(ee=>(0,T.Im)(ee.body)),(0,_.M)(()=>Z=null),(0,C.T)(()=>null)),J.pipe((0,m.p)(ee=>(0,T.hj)(ee.body)),(0,_.M)(()=>this.store.dispatch(new p.v$(q,z,Z))),(0,_.M)(ee=>this.requestService.send(ee)),(0,v.Z)(()=>this.rdbService.buildFromRequestUUID(te).pipe((0,A.qD)(),(0,I.I)(ee=>Z<ee.timeCompleted),(0,C.T)(ee=>{if(ee.hasFailed)throw this.store.dispatch(new p.Zd(q,z)),new Error(ee.errorMessage);if((0,T.a4)(ee.payload)&&(0,T.hj)(ee.payload.dataDefinition))return this.store.dispatch(new p.MI(q,z)),ee.payload.dataDefinition}),(0,R.F)()))))}deletePendingJsonPatchOperations(){this.store.dispatch(new p.Bp)}getRequestInstance(G,q,z){return new this.patchRequestConstructor(G,q,z)}getEndpointByIDHref(G,q){return(0,T.hj)(q)?`${G}/${q}`:`${G}`}jsonPatchByResourceType(G,q,z){const te=this.halService.getEndpoint(G).pipe((0,m.p)(Z=>(0,T.hj)(Z)),(0,R.F)(),(0,C.T)(Z=>this.getEndpointByIDHref(Z,q)));return this.submitJsonPatchOperations(te,z)}hasPendingOperations(G){return this.store.select(w(G)).pipe((0,C.T)(q=>!(0,T.Im)(q)&&Object.values(q.children).filter(z=>!(0,T.Im)(z.body)).length>0),(0,R.F)())}jsonPatchByResourceID(G,q,z,te){const Z=this.halService.getEndpoint(G).pipe((0,m.p)(J=>(0,T.hj)(J)),(0,R.F)(),(0,C.T)(J=>this.getEndpointByIDHref(J,q)));return this.submitJsonPatchOperations(Z,z,te)}}var B=n(4910),k=n(45663),W=n(54438),U=n(25499);let K=(()=>{class Y extends L{constructor(q,z,te,Z){super(),this.requestService=q,this.store=z,this.rdbService=te,this.halService=Z,this.linkPath="",this.patchRequestConstructor=t.e$}getRequestInstance(q,z,te){return new this.patchRequestConstructor(q,new k.t(z,"?embed=item").toString(),te)}static{this.\u0275fac=function(z){return new(z||Y)(W.KVO(u.B),W.KVO(U.il),W.KVO(i.o),W.KVO(B.Y))}}static{this.\u0275prov=W.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}}return Y})()},49903:(F,D,n)=>{"use strict";n.d(D,{$:()=>I});var i=n(7673),t=n(96354),u=n(88280),e=n(61010),h=n(1716),m=n(7434),f=n(4910),v=n(83085),E=n(52837),_=n(24261),C=n(54438);let I=(()=>{class R{constructor(A,p,x,O){this.workspaceitemDataService=A,this.workflowItemDataService=p,this.submissionService=x,this.halService=O}getHrefByID(A){const p=this.submissionService.getSubmissionScope()===v.L.WorkspaceItem?this.workspaceitemDataService:this.workflowItemDataService;return this.halService.getEndpoint(p.getLinkPath()).pipe((0,t.T)(x=>p.getIDHref(x,encodeURIComponent(A))))}findById(A,p=!0,x=!0,...O){switch(this.submissionService.getSubmissionScope()){case v.L.WorkspaceItem:return this.workspaceitemDataService.findById(A,p,x,...O);case v.L.WorkflowItem:return this.workflowItemDataService.findById(A,p,x,...O);default:{const w=(new Date).getTime();return(0,i.of)(new h.j(w,u.c.cache.msToLive.default,w,m.zE.Error,"The request could not be sent. Unable to determine the type of submission object",void 0,400))}}}static{this.\u0275fac=function(p){return new(p||R)(C.KVO(_.WorkspaceitemDataService),C.KVO(E.WorkflowItemDataService),C.KVO(e.E),C.KVO(f.Y))}}static{this.\u0275prov=C.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},68552:(F,D,n)=>{"use strict";n.d(D,{BE:()=>R,Z5:()=>I});var i=n(93583),t=n(82777),u=n(61280),e=n(41684),h=n(13808),m=n(51538),f=n(54438);let v=(()=>{class T extends m.aE{constructor(p){super(),this.objectCache=p,this.toCache=!0}parse(p,x){let O;O=(0,t.a4)(x.payload)&&(0,t.a4)(x.payload.page)&&0===x.payload.page.totalElements?{page:[]}:this.process(x.payload,p);let w=O;if((0,t.Tn)(O))return new h.bM([],x.statusCode,x.statusText,void 0);(0,t.a4)(O.page)?w=O.page:Array.isArray(O)||(w=[O]);const M=w.map(L=>L._links.self.href);return new h.bM(M,x.statusCode,x.statusText,this.processPageInfo(x.payload))}static{this.\u0275fac=function(x){return new(x||T)(f.KVO(e.$))}}static{this.\u0275prov=f.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();var E=n(25567),_=n(91581);function I(T,A){let p=T;return(0,t.Pe)(T)&&("object"==typeof T&&function C(T){return"object"==typeof T&&T.hasOwnProperty("value")&&T.hasOwnProperty("language")&&T.hasOwnProperty("authority")&&T.hasOwnProperty("confidence")}(T)?p=new u.e(T.value,T.language,T.authority,T.display||T.value,T.place||A,T.confidence,T.otherInformation):Array.isArray(T)?(p=[],T.forEach((x,O)=>{p[O]=I(x,O)})):"object"==typeof T&&(p=Object.create({}),Object.keys(T).forEach(x=>{p[x]=I(T[x])}))),p}let R=(()=>{class T extends m.aE{constructor(p,x){super(),this.objectCache=p,this.dsoParser=x,this.toCache=!1,this.shouldDirectlyAttachEmbeds=!0}parse(p,x){if(this.dsoParser.parse((0,i.Go)(p),(0,i.Go)(x)),(0,t.hj)(x.payload)&&(0,t.hj)(x.payload._links)&&this.isSuccessStatus(x.statusCode)){const O=this.processResponse(x.payload,p);return new h.hT(x.statusCode,void 0,{dataDefinition:O})}if((0,t.Im)(x.payload)&&this.isSuccessStatus(x.statusCode))return new h.hT(x.statusCode);throw new Error("Unexpected response from server")}processResponse(p,x){const O=this.process(p,x),w=Array.of();return(Array.isArray(O)?O:Array.of(O)).forEach(L=>{if((L instanceof _.F||L instanceof E.t)&&L.sections){const B=Object.create({});Object.keys(L.sections).forEach(k=>{if("object"==typeof L.sections[k]&&(0,t.hj)(L.sections[k])&&(!L.sections[k].hasOwnProperty("files")||(0,t.hj)(L.sections[k].files))){const W=Object.create({});Object.keys(L.sections[k]).forEach(U=>{const K=L.sections[k][U];Array.isArray(K)?(W[U]=[],K.forEach((Y,G)=>{const q=I(Y,G);(0,t.hj)(q)&&W[U].push(q)})):W[U]=K}),B[k]=W}}),L=Object.assign({},L,{sections:B})}w.push(L)}),w}static{this.\u0275fac=function(x){return new(x||T)(f.KVO(e.$),f.KVO(v))}}static{this.\u0275prov=f.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},67625:(F,D,n)=>{"use strict";n.d(D,{O:()=>A});var i=n(96354),t=n(23294),u=n(5964),e=n(88141),h=n(73028),m=n(82777),f=n(72734),v=n(13808),E=n(43052),_=n(32473),C=n(4910),I=n(80183),R=n(45663),T=n(54438);let A=(()=>{class p{constructor(O,w,M){this.rdbService=O,this.requestService=w,this.halService=M,this.linkPath="workspaceitems"}fetchRequest(O){return this.rdbService.buildFromRequestUUID(O).pipe((0,I.qD)(),(0,i.T)(w=>{if(w.hasFailed)throw new v._p({statusText:w.errorMessage,statusCode:w.statusCode});return(0,m.a4)(w.payload)?w.payload.dataDefinition:w.payload}),(0,t.F)())}getEndpointByIDHref(O,w,M){let L=(0,m.hj)(w)?`${O}/${w}`:`${O}`;return L=new R.t(L,"?embed=item,sections,collection").toString(),M&&(L=new R.t(L,`&owningCollection=${M}`).toString()),L}deleteById(O,w){const M=this.requestService.generateRequestId();return this.halService.getEndpoint(w||this.linkPath).pipe((0,u.p)(L=>(0,m.hj)(L)),(0,t.F)(),(0,i.T)(L=>this.getEndpointByIDHref(L,O)),(0,i.T)(L=>new E.Rn(M,L)),(0,e.M)(L=>this.requestService.send(L)),(0,h.Z)(()=>this.fetchRequest(M)),(0,t.F)())}getDataById(O,w){const M=this.requestService.generateRequestId();return this.halService.getEndpoint(O).pipe((0,i.T)(L=>this.getEndpointByIDHref(L,w)),(0,u.p)(L=>(0,m.hj)(L)),(0,t.F)(),(0,i.T)(L=>new E.Iu(M,L)),(0,e.M)(L=>{this.requestService.send(L)}),(0,h.Z)(()=>this.fetchRequest(M)),(0,t.F)())}postToEndpoint(O,w,M,L,B){const k=this.requestService.generateRequestId();return this.halService.getEndpoint(O).pipe((0,u.p)(W=>(0,m.hj)(W)),(0,i.T)(W=>this.getEndpointByIDHref(W,M,B)),(0,t.F)(),(0,i.T)(W=>new E.aY(k,W,w,L)),(0,e.M)(W=>this.requestService.send(W)),(0,h.Z)(()=>this.fetchRequest(k)),(0,t.F)())}patchToEndpoint(O,w,M){const L=this.requestService.generateRequestId();return this.halService.getEndpoint(O).pipe((0,u.p)(B=>(0,m.hj)(B)),(0,i.T)(B=>this.getEndpointByIDHref(B,M)),(0,t.F)(),(0,i.T)(B=>new E.e$(L,B,w)),(0,e.M)(B=>this.requestService.send(B)),(0,h.Z)(()=>this.fetchRequest(L)),(0,t.F)())}static{this.\u0275fac=function(w){return new(w||p)(T.KVO(f.o),T.KVO(_.B),T.KVO(C.Y))}}static{this.\u0275prov=T.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},83085:(F,D,n)=>{"use strict";n.d(D,{L:()=>i});var i=function(t){return t.WorkspaceItem="WORKSPACE",t.WorkflowItem="WORKFLOW",t}(i||{})},30056:(F,D,n)=>{"use strict";n.d(D,{Hx:()=>t,cK:()=>e,mt:()=>u});var i=n(42547);const t=new i.v("vocabulary"),u=new i.v("vocabularyEntry"),e=new i.v("vocabularyEntryDetail")},36599:(F,D,n)=>{"use strict";n.d(D,{M:()=>m});var i=n(31635),t=n(74850),u=n(21921),e=n(30056),h=n(43235);let m=class extends h.b{static{this.type=e.cK}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],m.prototype,"selectable",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],m.prototype,"_links",void 0),m=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(h.b)],m)},43235:(F,D,n)=>{"use strict";n.d(D,{b:()=>E});var i=n(31635),t=n(74850),u=n(82777),e=n(56899),h=n(22878),m=n(21921),f=n(98688),v=n(30056);let E=class extends h.u{static{this.type=v.mt}hasAuthority(){return(0,u.hj)(this.authority)}hasValue(){return(0,u.hj)(this.value)}hasOtherInformation(){return(0,u.hj)(this.otherInformation)}hasPlaceholder(){return this.hasValue()&&this.value===e.N}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"authority",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"display",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],E.prototype,"otherInformation",void 0),(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",Object)],E.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([m.gV],E)},89293:(F,D,n)=>{"use strict";n.d(D,{n:()=>i});class i{constructor(u,e=!1){this.name=u,this.closed=e}}},75955:(F,D,n)=>{"use strict";n.r(D),n.d(D,{VocabularyEntryDetailsDataService:()=>E});var i=n(72734),t=n(41684),u=n(46787),e=n(63897),h=n(35108),m=n(32473),f=n(4910),v=n(54438);let E=(()=>{class _ extends e.W{constructor(I,R,T,A){super("vocabularyEntryDetails",I,R,T,A),this.requestService=I,this.rdbService=R,this.objectCache=T,this.halService=A,this.findAllData=new u.H(this.linkPath,I,R,T,A,this.responseMsToLive),this.searchData=new h.X(this.linkPath,I,R,T,A,this.responseMsToLive)}findAll(I,R,T,...A){return this.findAllData.findAll(I,R,T,...A)}searchBy(I,R,T,A,...p){return this.searchData.searchBy(I,R,T,A,...p)}static{this.\u0275fac=function(R){return new(R||_)(v.KVO(m.B),v.KVO(i.o),v.KVO(t.$),v.KVO(f.Y))}}static{this.\u0275prov=v.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},59081:(F,D,n)=>{"use strict";n.r(D),n.d(D,{VocabularyDataService:()=>C});var i=n(72734),t=n(53954),u=n(41684),e=n(46787),h=n(63897),m=n(35108),f=n(41023),v=n(32473),E=n(4910),_=n(54438);let C=(()=>{class I extends h.W{constructor(T,A,p,x){super("vocabularies",T,A,p,x),this.requestService=T,this.rdbService=A,this.objectCache=p,this.halService=x,this.searchByMetadataAndCollectionPath="byMetadataAndCollection",this.findAllData=new e.H(this.linkPath,T,A,p,x,this.responseMsToLive),this.searchData=new m.X(this.linkPath,T,A,p,x,this.responseMsToLive)}findAll(T,A,p,...x){return this.findAllData.findAll(T,A,p,...x)}getVocabularyByMetadataAndCollection(T,A,p=!0,x=!0,...O){const w=new f._;w.searchParams=[new t.x("metadata",T),new t.x("collection",A)];const M=this.searchData.getSearchByHref(this.searchByMetadataAndCollectionPath,w,...O);return this.findByHref(M,p,x,...O)}static{this.\u0275fac=function(A){return new(A||I)(_.KVO(v.B),_.KVO(i.o),_.KVO(u.$),_.KVO(E.Y))}}static{this.\u0275prov=_.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},19506:(F,D,n)=>{"use strict";n.d(D,{g:()=>A});var i=n(25558),t=n(96354),u=n(73028),e=n(82777),h=n(67600),m=n(53954),f=n(32473),v=n(80183),E=n(32089),_=n(41023);class C extends _._{constructor(x="",O,w,M,L,B,k){super(),this.query=x,this.filter=O,this.exact=w,this.entryID=M,this.elementsPerPage=L,this.currentPage=B,this.sort=k;const W=[];(0,e.hj)(x)&&W.push(new m.x("query",x)),(0,e.hj)(O)&&W.push(new m.x("filter",O)),(0,e.hj)(w)&&W.push(new m.x("exact",w.toString())),(0,e.hj)(M)&&W.push(new m.x("entryID",M)),this.searchParams=W}}var I=n(59081),R=n(75955),T=n(54438);let A=(()=>{class p{constructor(O,w,M){this.requestService=O,this.vocabularyDataService=w,this.vocabularyEntryDetailDataService=M,this.searchTopMethod="top"}findVocabularyByHref(O,w=!0,M=!0,...L){return this.vocabularyDataService.findByHref(O,w,M,...L)}findVocabularyById(O,w=!0,M=!0,...L){return this.vocabularyDataService.findById(O,w,M,...L)}findAllVocabularies(O={},w=!0,M=!0,...L){return this.vocabularyDataService.findAll(O,w,M,...L)}getVocabularyByMetadataAndCollection(O,w,M=!0,L=!0,...B){return this.vocabularyDataService.getVocabularyByMetadataAndCollection(O,w,M,L,...B)}getVocabularyEntries(O,w){const M=new C(null,null,null,null,w.elementsPerPage,w.currentPage);return this.findVocabularyById(O.name,!0,!0,(0,h.s)("entries",{findListOptions:M,shouldEmbed:!1})).pipe((0,v.ak)(),(0,i.n)(L=>L.entries))}getVocabularyEntriesByValue(O,w,M,L){const B=new C(null,O,w,null,L.elementsPerPage,L.currentPage);return this.findVocabularyById(M.name,!0,!0,(0,h.s)("entries",{findListOptions:B,shouldEmbed:!1})).pipe((0,v.ak)(),(0,i.n)(k=>k.entries))}getVocabularyEntryByValue(O,w){return this.getVocabularyEntriesByValue(O,!0,w,new E.Q).pipe((0,v.Ar)(),(0,t.T)(M=>(0,e.hj)(M)?M[0]:null))}getVocabularyEntryByID(O,w){const M=new E.Q,L=new C(null,null,null,O,M.elementsPerPage,M.currentPage);return this.findVocabularyById(w.name,!0,!0,(0,h.s)("entries",{findListOptions:L,shouldEmbed:!1})).pipe((0,v.ak)(),(0,i.n)(B=>B.entries),(0,v.Ar)(),(0,t.T)(B=>(0,e.hj)(B)?B[0]:null))}findEntryDetailByHref(O,w=!0,M=!0,...L){return this.vocabularyEntryDetailDataService.findByHref(O,w,M,...L)}findEntryDetailById(O,w,M=!0,L=!0,B=!0,...k){return this.vocabularyEntryDetailDataService.findById(B?`${w}:${O}`:O,M,L,...k)}getEntryDetailParent(O,w,M=!0,L=!0,...B){const k=`${w}:${O}/parent`;return this.vocabularyEntryDetailDataService.getBrowseEndpoint().pipe((0,t.T)(W=>`${W}/${k}`),(0,u.Z)(W=>this.vocabularyEntryDetailDataService.findByHref(W,M,L,...B)))}getEntryDetailChildren(O,w,M,L=!0,B=!0,...k){const W=new C(null,null,null,null,M.elementsPerPage,M.currentPage);return this.vocabularyEntryDetailDataService.getBrowseEndpoint().pipe((0,t.T)(U=>`${U}/${w}:${O}/children`),(0,i.n)(U=>this.vocabularyEntryDetailDataService.findListByHref(U,W,L,B,...k)))}searchTopEntries(O,w,M=!0,L=!0,...B){const k=new C(null,null,null,null,w.elementsPerPage,w.currentPage);return k.searchParams=[new m.x("vocabulary",O)],this.vocabularyEntryDetailDataService.searchBy(this.searchTopMethod,k,M,L,...B)}clearSearchTopRequests(){this.requestService.removeByHrefSubstring(`search/${this.searchTopMethod}`)}static{this.\u0275fac=function(w){return new(w||p)(T.KVO(f.B),T.KVO(I.VocabularyDataService),T.KVO(R.VocabularyEntryDetailsDataService))}}static{this.\u0275prov=T.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},52837:(F,D,n)=>{"use strict";n.r(D),n.d(D,{WorkflowItemDataService:()=>x});var i=n(96354),t=n(47677),u=n(82777),e=n(39806),h=n(72734),m=n(53954),f=n(41684),v=n(13617),E=n(63897),_=n(35108),C=n(41023),I=n(43052),R=n(32473),T=n(4910),A=n(80183),p=n(54438);let x=(()=>{class O extends E.W{constructor(M,L,B,k,W){super("workflowitems",M,L,B,k),this.requestService=M,this.rdbService=L,this.objectCache=B,this.halService=k,this.notificationsService=W,this.searchByItemLinkPath="item",this.responseMsToLive=1e4,this.searchData=new _.X(this.linkPath,M,L,B,k,this.responseMsToLive),this.deleteData=new v.I(this.linkPath,M,L,B,k,W,this.responseMsToLive,this.constructIdEndpoint)}delete(M){return this.deleteWFI(M,!0)}sendBack(M){return this.deleteWFI(M,!1).pipe((0,A.qD)(),(0,i.T)(L=>L.hasSucceeded))}deleteWFI(M,L){const B=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,i.T)(W=>this.deleteData.getIDHref(W,M)),(0,i.T)(W=>W+"?expunge="+L)).pipe((0,t.I)(W=>(0,u.a4)(W))).subscribe(W=>{const U=new I.Dk(B,W,M);this.requestService.send(U)}),this.rdbService.buildFromRequestUUID(B)}findByItem(M,L=!1,B=!0,k={},...W){const U=new C._;U.searchParams=[new m.x("uuid",M)];const K=this.searchData.getSearchByHref(this.searchByItemLinkPath,U,...W);return this.findByHref(K,L,B,...W)}searchBy(M,L,B,k,...W){return this.searchData.searchBy(M,L,B,k,...W)}deleteByHref(M,L){return this.deleteData.deleteByHref(M,L)}static{this.\u0275fac=function(L){return new(L||O)(p.KVO(R.B),p.KVO(h.o),p.KVO(f.$),p.KVO(T.Y),p.KVO(e.I))}}static{this.\u0275prov=p.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},24261:(F,D,n)=>{"use strict";n.r(D),n.d(D,{WorkspaceitemDataService:()=>w});var i=n(21626),t=n(96354),u=n(47677),e=n(82777),h=n(39806),m=n(72734),f=n(53954),v=n(41684),E=n(13617),_=n(63897),C=n(35108),I=n(12598),R=n(41023),T=n(43052),A=n(32473),p=n(4910),x=n(54438),O=n(25499);let w=(()=>{class M extends _.W{constructor(B,k,W,U,K,Y,G,q){super("workspaceitems",K,Y,G,k),this.comparator=B,this.halService=k,this.http=W,this.notificationsService=U,this.requestService=K,this.rdbService=Y,this.objectCache=G,this.store=q,this.linkPath="workspaceitems",this.searchByItemLinkPath="item",this.deleteData=new E.I(this.linkPath,K,Y,G,k,U,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new C.X(this.linkPath,K,Y,G,k,this.responseMsToLive)}delete(B,k){return this.deleteData.delete(B,k)}deleteByHref(B,k){return this.deleteData.deleteByHref(B,k)}findByItem(B,k=!1,W=!0,U={},...K){const Y=new R._;Y.searchParams=[new f.x("uuid",B)];const G=this.searchData.getSearchByHref(this.searchByItemLinkPath,Y,...K);return this.findByHref(G,k,W,...K)}importExternalSourceEntry(B,k){const W=Object.create({});let U=new i.Lr;U=U.append("Content-Type","text/uri-list"),W.headers=U;const K=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,t.T)(G=>`${G}?owningCollection=${k}`)).pipe((0,u.I)(G=>(0,e.a4)(G)),(0,t.T)(G=>{const q=new T.Qf(K,G,B,W);this.requestService.send(q)})).subscribe(),this.rdbService.buildFromRequestUUID(K)}searchBy(B,k,W,U,...K){return this.searchData.searchBy(B,k,W,U,...K)}static{this.\u0275fac=function(k){return new(k||M)(x.KVO(I.j),x.KVO(p.Y),x.KVO(i.Qq),x.KVO(h.I),x.KVO(A.B),x.KVO(m.o),x.KVO(v.$),x.KVO(O.il))}}static{this.\u0275prov=x.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},83987:(F,D,n)=>{"use strict";n.d(D,{T:()=>t});const t=new(n(42547).v)("supervisionorder")},66129:(F,D,n)=>{"use strict";n.r(D),n.d(D,{SupervisionOrderDataService:()=>k});var i=n(21626),t=n(96354),u=n(61594),e=n(82777),h=n(39806),m=n(72734),f=n(53954),v=n(41684),E=n(39280),_=n(13617),C=n(63897),I=n(87158),R=n(35108),T=n(37419),A=n(41023),p=n(43052),x=n(32473),O=n(14410),w=n(44494),M=n(4910),L=n(80183),B=n(54438);let k=(()=>{class W extends C.W{constructor(K,Y,G,q,z,te,Z){super("supervisionorders",K,Y,G,q),this.requestService=K,this.rdbService=Y,this.objectCache=G,this.halService=q,this.notificationsService=z,this.comparator=te,this.groupService=Z,this.searchByGroupMethod="group",this.searchByItemMethod="byItem",this.createData=new E.V(this.linkPath,K,Y,G,q,z,this.responseMsToLive),this.searchData=new R.X(this.linkPath,K,Y,G,q,this.responseMsToLive),this.patchData=new I.n(this.linkPath,K,Y,G,q,te,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new _.I(this.linkPath,K,Y,G,q,z,this.responseMsToLive,this.constructIdEndpoint)}create(K,Y,G,q){const z=[];return z.push(new f.x("uuid",Y)),z.push(new f.x("group",G)),z.push(new f.x("type",q)),this.createData.create(K,...z)}delete(K){return this.deleteData.delete(K).pipe((0,L.qD)(),(0,t.T)(Y=>Y.hasSucceeded))}update(K){return this.patchData.update(K)}searchByGroup(K,Y,G=!0,q=!0,...z){const te=new A._;return te.searchParams=[new f.x("uuid",K)],(0,e.hj)(Y)&&te.searchParams.push(new f.x("item",Y)),this.searchData.searchBy(this.searchByGroupMethod,te,G,q,...z)}searchByItem(K,Y=!0,G=!0,...q){const z=new A._;return z.searchParams=[new f.x("uuid",K)],this.searchData.searchBy(this.searchByItemMethod,z,Y,G,...q)}updateTarget(K,Y,G,q){const te=this.groupService.getIDHrefObs(G),Z=Object.create({});let J=new i.Lr;J=J.append("Content-Type","text/uri-list"),Z.headers=J;const Q=this.requestService.generateRequestId();return te.pipe((0,u.$)()).subscribe(ee=>{const ne=new p.v_(Q,Y+"/"+q,ee,Z);Object.assign(ne,{getResponseParser:()=>O.M}),this.requestService.send(ne)}),this.rdbService.buildFromRequestUUIDAndAwait(Q,()=>this.invalidateByHref(Y))}static{this.\u0275fac=function(Y){return new(Y||W)(B.KVO(x.B),B.KVO(m.o),B.KVO(v.$),B.KVO(M.Y),B.KVO(h.I),B.KVO(T.Y),B.KVO(w.GroupDataService))}}static{this.\u0275prov=B.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})()},12532:(F,D,n)=>{"use strict";n.r(D),n.d(D,{ClaimedTaskDataService:()=>C});var i=n(21626),t=n(72734),u=n(53954),e=n(41684),h=n(41023),m=n(32473),f=n(4910),v=n(80183),E=n(67846),_=n(54438);let C=(()=>{class I extends E.w{constructor(T,A,p,x){super("claimedtasks",T,A,p,x,1e3),this.requestService=T,this.rdbService=A,this.objectCache=p,this.halService=x}claimTask(T,A){const p=Object.create({});let x=new i.Lr;return x=x.append("Content-Type","text/uri-list"),p.headers=x,this.postToEndpoint(this.linkPath,A,null,p)}submitTask(T,A){return this.postToEndpoint(this.linkPath,this.requestService.uriEncodeBody(A),T,this.makeHttpOptions())}returnToPoolTask(T){return this.deleteById(this.linkPath,T,this.makeHttpOptions())}findByItem(T){const A=new h._;return A.searchParams=[new u.x("uuid",T)],this.searchTask("findByItem",A).pipe((0,v.yd)())}static{this.\u0275fac=function(A){return new(A||I)(_.KVO(m.B),_.KVO(t.o),_.KVO(e.$),_.KVO(f.Y))}}static{this.\u0275prov=_.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},78416:(F,D,n)=>{"use strict";n.d(D,{T:()=>m});var i=n(31635),t=n(74850),u=n(21921),e=n(22822),h=n(55411);let m=class extends h.B{static{this.type=e.a}};m=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(h.B),(0,u.o8)(h.B)],m)},22822:(F,D,n)=>{"use strict";n.d(D,{a:()=>t});const t=new(n(42547).v)("claimedtask")},27605:(F,D,n)=>{"use strict";n.d(D,{k:()=>m});var i=n(31635),t=n(74850),u=n(21921),e=n(26147),h=n(55411);let m=class extends h.B{static{this.type=e.T}};m=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(h.B),(0,u.o8)(h.B)],m)},26147:(F,D,n)=>{"use strict";n.d(D,{T:()=>t});const t=new(n(42547).v)("pooltask")},55411:(F,D,n)=>{"use strict";n.d(D,{B:()=>I});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(58235),m=n(36074),f=n(54949),v=n(76829);const _=new(n(42547).v)("taskobject");var C=n(47069);let I=class extends v.M{static{this.type=_}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"step",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],I.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(h.N,!1,"owner"),(0,i.Sn)("design:type",u.c)],I.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(m.U),(0,i.Sn)("design:type",u.c)],I.prototype,"group",void 0),(0,i.Cg)([(0,e.nf)(f.z),(0,i.Sn)("design:type",Object)],I.prototype,"workflowitem",void 0),(0,i.Cg)([(0,e.nf)(C.f,!1,"action"),(0,i.Sn)("design:type",u.c)],I.prototype,"action",void 0),I=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(v.M)],I)},47069:(F,D,n)=>{"use strict";n.d(D,{f:()=>t});const t=new(n(42547).v)("workflowaction")},28515:(F,D,n)=>{"use strict";n.r(D),n.d(D,{PoolTaskDataService:()=>_});var i=n(72734),t=n(53954),u=n(41684),e=n(41023),h=n(32473),m=n(4910),f=n(80183),v=n(67846),E=n(54438);let _=(()=>{class C extends v.w{constructor(R,T,A,p){super("pooltasks",R,T,A,p,1e3),this.requestService=R,this.rdbService=T,this.objectCache=A,this.halService=p}findByItem(R){const T=new e._;return T.searchParams=[new t.x("uuid",R)],this.searchTask("findByItem",T).pipe((0,f.qD)())}getPoolTaskEndpointById(R){return this.getEndpointById(R)}static{this.\u0275fac=function(T){return new(T||C)(E.KVO(h.B),E.KVO(i.o),E.KVO(u.$),E.KVO(m.Y))}}static{this.\u0275prov=E.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},67846:(F,D,n)=>{"use strict";n.d(D,{w:()=>T});var i=n(21626),t=n(5964),u=n(96354),e=n(23294),h=n(88141),m=n(73028),f=n(47677),v=n(82777),E=n(63897),_=n(35108),C=n(43052),I=n(80183);class R{constructor(p,x,O){this.isSuccessful=p,this.statusCode=x,this.errorMessage=O}get hasSucceeded(){return this.isSuccessful}}class T extends E.W{constructor(p,x,O,w,M,L){super(p,x,O,w,M),this.linkPath=p,this.requestService=x,this.rdbService=O,this.objectCache=w,this.halService=M,this.responseMsToLive=L,this.searchData=new _.X(this.linkPath,x,O,w,M,this.responseMsToLive)}getEndpointByIDHref(p,x){return(0,v.hj)(x)?`${p}/${x}`:`${p}`}postToEndpoint(p,x,O,w){const M=this.requestService.generateRequestId();return this.halService.getEndpoint(p).pipe((0,t.p)(L=>(0,v.hj)(L)),(0,u.T)(L=>this.getEndpointByIDHref(L,O)),(0,e.F)(),(0,u.T)(L=>new C.$I(M,L,x,w)),(0,h.M)(L=>this.requestService.send(L)),(0,m.Z)(L=>this.fetchRequest(M)),(0,e.F)())}deleteById(p,x,O){const w=this.requestService.generateRequestId();return this.getEndpointById(x,p).pipe((0,u.T)(M=>new C._w(w,M,null,O)),(0,h.M)(M=>this.requestService.send(M)),(0,m.Z)(M=>this.fetchRequest(w)),(0,e.F)())}getEndpointById(p,x){return this.halService.getEndpoint(x||this.linkPath).pipe((0,t.p)(O=>(0,v.hj)(O)),(0,e.F)(),(0,u.T)(O=>this.getEndpointByIDHref(O,p)))}searchTask(p,x={},...O){return this.searchData.getSearchByHref(p,x,...O).pipe((0,f.I)(M=>(0,v.a4)(M)),(0,m.Z)(M=>this.findByHref(M,!1,!0).pipe((0,I.bD)(),(0,h.M)(()=>this.requestService.setStaleByHrefSubstring(M)))))}fetchRequest(p){return this.rdbService.buildFromRequestUUID(p).pipe((0,I.qD)(),(0,u.T)(x=>x.hasFailed?new R(!1,x.statusCode,x.errorMessage):new R(!0,x.statusCode)))}makeHttpOptions(){const p=Object.create({});let x=new i.Lr;return x=x.append("Content-Type","application/x-www-form-urlencoded"),p.headers=x,p}searchBy(p,x,O,w,...M){return this.searchData.searchBy(p,x,O,w,...M)}}},61424:(F,D,n)=>{"use strict";n.d(D,{F:()=>u});var i=n(88280),t=n(45663);class u extends t.t{constructor(...h){super(i.c.rest.baseUrl,"/api",...h)}}},45663:(F,D,n)=>{"use strict";n.d(D,{t:()=>t});var i=n(82777);class t{constructor(...e){this.parts=e}toString(){if((0,i.Im)(this.parts))return"";{let e=this.parts.join("/");return e=e.replace(/:\//g,"://"),e=e.replace(/([^:\s])\/+/g,"$1/"),e=e.replace(/\/($|\?|&|#[^!])/g,"$1"),e=e.replace(/(\?.+)\?/g,"$1&"),e}}}},98688:(F,D,n)=>{"use strict";n.d(D,{_U:()=>h,aK:()=>f,gM:()=>E,ug:()=>m});var i=n(82777);const t=new Map,u=new Map;function e(C,I,R){const T=R.find(A=>{if(C[A]===I[A]||(0,i.Tn)(C[A])&&(0,i.Tn)(I[A]))return!1;if((0,i.Tn)(C[A])||(0,i.Tn)(I[A]))return!0;const p=function _(C,I){return(u.get(C)||new Map).get(I)}(C.constructor,A);return(0,i.a4)(p)?!e(C[A],I[A],p):C[A]instanceof h?!C[A].equals(I[A]):"object"==typeof C[A]?!e(C[A],I[A],Object.keys(C)):C[A]!==I[A]});return(0,i.Tn)(T)}class h{equals(I){if((0,i.Tn)(I))return!1;if(this===I)return!0;const R=v(this.constructor);return e(this,I,Object.keys(this).filter(A=>!R.includes(A)))}}function m(C){return function(R){const T=v(C)||[],A=v(R)||[];t.set(R,[...A,...T]);const p=u.get(R)||new Map,x=u.get(C)||new Map;Array.from(x.keys()).filter(O=>!Array.from(p.keys()).includes(O)).forEach(O=>{E(...x.get(O))(new R,O)})}}function f(C,I){if(!C)return;let R=t.get(C.constructor);(0,i.Im)(R)&&(R=[]),t.set(C.constructor,[...R,I])}function v(C){return t.get(C)||[]}function E(...C){return function(R,T){if(!R)return;let A=u.get(R.constructor);(0,i.Im)(A)&&(A=new Map),A.set(T,C),u.set(R.constructor,A)}}},19460:(F,D,n)=>{"use strict";n.d(D,{dX:()=>u,oo:()=>t,sA:()=>i});const i="X-XSRF-TOKEN",t="DSPACE-XSRF-TOKEN",u="XSRF-TOKEN"},10110:(F,D,n)=>{"use strict";n.d(D,{N:()=>t,q:()=>u});const t={SET:(0,n(91e3).N)("dspace/core/correlationId/SET")};class u{constructor(h){this.payload=h,this.type=t.SET}}},73308:(F,D,n)=>{"use strict";n.r(D),n.d(D,{FooterComponent:()=>O});var i=n(60177),t=n(7901),u=n(41780),e=n(7673),h=n(82640),m=n(42084),f=n(65007),v=n(3970),E=n(82777),_=n(54438),C=n(49844);const I=w=>({year:w});function R(w,M){1&w&&(_.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"h5",14),_.EFF(5,"Footer Content"),_.k0s(),_.j41(6,"ul",15)(7,"li")(8,"a",16),_.EFF(9,"Lorem ipsum"),_.k0s()(),_.j41(10,"li")(11,"a",16),_.EFF(12,"Ut facilisis"),_.k0s()(),_.j41(13,"li")(14,"a",16),_.EFF(15,"Aenean sit"),_.k0s()()()(),_.j41(16,"div",13)(17,"h5",14),_.EFF(18,"Footer Content"),_.k0s(),_.j41(19,"ul",15)(20,"li")(21,"a",16),_.EFF(22,"Suspendisse potenti"),_.k0s()()()(),_.j41(23,"div",17)(24,"h5",14),_.EFF(25,"Footer Content"),_.k0s(),_.j41(26,"p"),_.EFF(27," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae aliquam voluptatem veniam, est atque cumque eum delectus sint! "),_.k0s()()()()())}function T(w,M){1&w&&(_.j41(0,"li")(1,"a",18),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&w&&(_.R7$(2),_.JRh(_.bMT(3,1,"footer.link.privacy-policy")))}function A(w,M){1&w&&(_.j41(0,"li")(1,"a",19),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&w&&(_.R7$(2),_.JRh(_.bMT(3,1,"footer.link.end-user-agreement")))}function p(w,M){1&w&&(_.j41(0,"li")(1,"a",20),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&w&&(_.R7$(2),_.JRh(_.bMT(3,1,"footer.link.feedback")))}function x(w,M){1&w&&(_.j41(0,"div",21)(1,"a",22),_.nrm(2,"img",23),_.nI1(3,"translate"),_.EFF(4),_.nI1(5,"translate"),_.k0s()()),2&w&&(_.R7$(2),_.BMQ("alt",_.bMT(3,2,"menu.header.image.logo")),_.R7$(2),_.SpI(" ",_.bMT(5,4,"footer.link.coar-notify-support")," "))}let O=(()=>{class w{constructor(L,B,k,W){this.cookies=L,this.authorizationService=B,this.notifyInfoService=k,this.appConfig=W,this.dateObj=Date.now(),this.showTopFooter=!1}ngOnInit(){this.showPrivacyPolicy=this.appConfig.info.enablePrivacyStatement,this.showEndUserAgreement=this.appConfig.info.enableEndUserAgreement,this.coarLdnEnabled$=this.appConfig.info.enableCOARNotifySupport?this.notifyInfoService.isCoarConfigEnabled():(0,e.of)(!1),this.showSendFeedback$=this.authorizationService.isAuthorized(v._.CanSendFeedback)}showCookieSettings(){return(0,E.a4)(this.cookies)&&this.cookies.showSettings(),!1}static{this.\u0275fac=function(B){return new(B||w)(_.rXU(C.B,8),_.rXU(f.AuthorizationDataService),_.rXU(m.P),_.rXU(h.vQ))}}static{this.\u0275cmp=_.VBU({type:w,selectors:[["ds-base-footer"]],standalone:!0,features:[_.aNF],decls:25,vars:27,consts:[["class","top-footer",4,"ngIf"],[1,"bottom-footer","p-1","d-flex","justify-content-center","align-items-center","text-white"],[1,"content-container"],[1,"m-0"],[1,"text-white"],["href","https://www.lyrasis.org/",1,"text-white"],[1,"footer-info","list-unstyled","d-flex","justify-content-center","mb-0"],["type","button",1,"btn","btn-link","text-white",3,"click"],[4,"ngIf"],["class","notify-enabled text-white",4,"ngIf"],[1,"top-footer"],[1,"container","p-4"],[1,"row"],[1,"col-lg-4","col-md-6","mb-4","mb-lg-0"],[1,"text-uppercase"],[1,"list-unstyled","mb-0"],["routerLink","./",1,""],[1,"col-lg-4","col-md-12","mb-4","mb-md-0"],["routerLink","info/privacy",1,"btn","text-white"],["routerLink","info/end-user-agreement",1,"btn","text-white"],["routerLink","info/feedback",1,"btn","text-white"],[1,"notify-enabled","text-white"],["routerLink","info/coar-notify-support",1,"coar-notify-support-route"],["src","assets/images/n-coar.svg",1,"n-coar"]],template:function(B,k){1&B&&(_.j41(0,"footer"),_.DNE(1,R,28,0,"div",0),_.j41(2,"div",1)(3,"div",2)(4,"p",3)(5,"a",4),_.EFF(6),_.nI1(7,"translate"),_.k0s(),_.EFF(8),_.nI1(9,"date"),_.nI1(10,"translate"),_.j41(11,"a",5),_.EFF(12),_.nI1(13,"translate"),_.k0s()(),_.j41(14,"ul",6)(15,"li")(16,"button",7),_.bIt("click",function(){return k.showCookieSettings()}),_.EFF(17),_.nI1(18,"translate"),_.k0s()(),_.DNE(19,T,4,3,"li",8)(20,A,4,3,"li",8)(21,p,4,3,"li",8),_.nI1(22,"async"),_.k0s()(),_.DNE(23,x,6,6,"div",9),_.nI1(24,"async"),_.k0s()()),2&B&&(_.R7$(),_.Y8G("ngIf",k.showTopFooter),_.R7$(5),_.JRh(_.bMT(7,9,"footer.link.dspace")),_.R7$(2),_.SpI(" ",_.i5U(10,14,"footer.copyright",_.eq3(25,I,_.i5U(9,11,k.dateObj,"y")))," "),_.R7$(4),_.JRh(_.bMT(13,17,"footer.link.lyrasis")),_.R7$(5),_.SpI(" ",_.bMT(18,19,"footer.link.cookies")," "),_.R7$(2),_.Y8G("ngIf",k.showPrivacyPolicy),_.R7$(),_.Y8G("ngIf",k.showEndUserAgreement),_.R7$(),_.Y8G("ngIf",_.bMT(22,21,k.showSendFeedback$)),_.R7$(2),_.Y8G("ngIf",_.bMT(24,23,k.coarLdnEnabled$)))},dependencies:[i.bT,t.Wk,i.Jj,i.vh,u.h,u.D9],styles:['[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{background-color:var(--ds-footer-bg);text-align:center;z-index:var(--ds-footer-z-index);border-top:var(--ds-footer-border);padding:var(--ds-footer-padding)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:var(--ds-footer-logo-height)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .top-footer[_ngcontent-%COMP%]{background-color:var(--ds-top-footer-bg);padding:var(--ds-footer-padding);margin:calc(var(--ds-footer-padding) * -1)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:0;margin-top:20px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]   .coar-notify-support-route[_ngcontent-%COMP%]{padding:0 calc(var(--bs-spacer) / 2);color:inherit}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]   .n-coar[_ngcontent-%COMP%]{height:var(--ds-footer-n-coar-height);margin-bottom:8.5px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-flex}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{padding:0 calc(var(--bs-spacer) / 2);color:inherit;font-size:.875em}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{box-shadow:none;text-decoration:underline}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem #ffffff80}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child):after{content:"";border-right:1px var(--bs-secondary) solid}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{box-shadow:none}']})}}return w})()},74920:(F,D,n)=>{"use strict";n.d(D,{C:()=>m});var i=n(8886),u=(n(73308),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"FooterComponent"}importThemedComponent(E){return n(43562)(`./${E}/app/footer/footer.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,73308))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-footer"]],standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},1748:(F,D,n)=>{"use strict";n.r(D),n.d(D,{ForbiddenComponent:()=>m});var i=n(7901),t=n(41780),u=n(67116),e=n(7337),h=n(54438);let m=(()=>{class f{constructor(E,_){this.authService=E,this.responseService=_,this.responseService.setForbidden()}ngOnInit(){this.authService.clearRedirectUrl()}static{this.\u0275fac=function(_){return new(_||f)(h.rXU(u.uR),h.rXU(e.w))}}static{this.\u0275cmp=h.VBU({type:f,selectors:[["ds-base-forbidden"]],standalone:!0,features:[h.aNF],decls:16,vars:9,consts:[[1,"forbidden","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(_,C){1&_&&(h.j41(0,"div",0)(1,"h1"),h.EFF(2,"403"),h.k0s(),h.j41(3,"h2")(4,"small"),h.EFF(5),h.nI1(6,"translate"),h.k0s()(),h.nrm(7,"br"),h.j41(8,"p"),h.EFF(9),h.nI1(10,"translate"),h.k0s(),h.nrm(11,"br"),h.j41(12,"p",1)(13,"a",2),h.EFF(14),h.nI1(15,"translate"),h.k0s()()()),2&_&&(h.R7$(5),h.JRh(h.bMT(6,3,"403.forbidden")),h.R7$(4),h.JRh(h.bMT(10,5,"403.help")),h.R7$(5),h.JRh(h.bMT(15,7,"403.link.home-page")))},dependencies:[i.Wk,t.h,t.D9]})}}return f})()},78221:(F,D,n)=>{"use strict";n.r(D),n.d(D,{HeaderNavbarWrapperComponent:()=>E});var i=n(60177),t=n(95960),u=n(77632),e=n(57538),h=n(39548),m=n(19340),f=n(54438);const v=_=>({open:_});let E=(()=>{class _{constructor(I,R){this.menuService=I,this.windowService=R,this.menuID=m.D.PUBLIC,this.maxMobileWidth=e.tP.SM}ngOnInit(){this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth),this.isNavBarCollapsed$=this.menuService.isMenuCollapsed(this.menuID)}static{this.\u0275fac=function(R){return new(R||_)(f.rXU(h.$),f.rXU(e.CV))}}static{this.\u0275cmp=f.VBU({type:_,selectors:[["ds-base-header-navbar-wrapper"]],standalone:!0,features:[f.aNF],decls:4,vars:5,consts:[["id","header-navbar-wrapper",3,"ngClass"]],template:function(R,T){1&R&&(f.j41(0,"div",0),f.nI1(1,"async"),f.nrm(2,"ds-header")(3,"ds-navbar"),f.k0s()),2&R&&f.Y8G("ngClass",f.eq3(3,v,!0!==f.bMT(1,1,T.isNavBarCollapsed$)))},dependencies:[i.YU,t.q,u.D,i.Jj],styles:["[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]{border-bottom:1px var(--ds-header-navbar-border-bottom-color) solid}"]})}}return _})()},77529:(F,D,n)=>{"use strict";n.d(D,{h:()=>m});var i=n(8886),u=(n(78221),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"HeaderNavbarWrapperComponent"}importThemedComponent(E){return n(20991)(`./${E}/app/header-nav-wrapper/header-navbar-wrapper.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,78221))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-header-navbar-wrapper"]],standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},20968:(F,D,n)=>{"use strict";n.d(D,{Y:()=>f});var i=n(60177),t=n(41780),u=n(96354),e=n(40188),h=n(54438);function m(v,E){if(1&v){const _=h.RV6();h.j41(0,"div")(1,"a",1),h.nI1(2,"translate"),h.nI1(3,"translate"),h.bIt("click",function(){h.eBV(_);const I=h.XpG();return h.Njj(I.onClick())}),h.nrm(4,"i",2),h.k0s()()}2&v&&(h.R7$(),h.Y8G("title",h.bMT(2,2,"nav.context-help-toggle")),h.BMQ("aria-label",h.bMT(3,4,"nav.context-help-toggle")))}let f=(()=>{class v{constructor(_,C){this.elRef=_,this.contextHelpService=C,this.subscriptions=[]}ngOnInit(){this.buttonVisible$=this.contextHelpService.tooltipCount$().pipe((0,u.T)(_=>_>0)),this.subscriptions.push(this.buttonVisible$.subscribe(_=>{_?this.elRef.nativeElement.classList.remove("d-none"):this.elRef.nativeElement.classList.add("d-none")}))}onClick(){this.contextHelpService.toggleIcons()}static{this.\u0275fac=function(C){return new(C||v)(h.rXU(h.aKT),h.rXU(e.O))}}static{this.\u0275cmp=h.VBU({type:v,selectors:[["ds-context-help-toggle"]],standalone:!0,features:[h.aNF],decls:2,vars:3,consts:[[4,"ngIf"],["href","javascript:void(0);","role","menuitem",3,"click","title"],[1,"fas","fa-lg","fa-fw","fa-question-circle","ds-context-help-toggle"]],template:function(C,I){1&C&&(h.DNE(0,m,5,6,"div",0),h.nI1(1,"async")),2&C&&h.Y8G("ngIf",h.bMT(1,1,I.buttonVisible$))},dependencies:[i.bT,i.Jj,t.h,t.D9],styles:[".ds-context-help-toggle[_ngcontent-%COMP%]{color:var(--ds-header-icon-color);background-color:var(--ds-header-bg)}.ds-context-help-toggle[_ngcontent-%COMP%]:hover, .ds-context-help-toggle[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}"]})}}return v})()},34912:(F,D,n)=>{"use strict";n.r(D),n.d(D,{HeaderComponent:()=>A});var i=n(60177),t=n(7901),u=n(58003),e=n(41780),h=n(3224),m=n(44002),f=n(57538),v=n(34458),E=n(28068),_=n(39548),C=n(19340),I=n(20968),R=n(54438);function T(p,x){if(1&p){const O=R.RV6();R.j41(0,"div",6)(1,"button",7),R.nI1(2,"translate"),R.bIt("click",function(){R.eBV(O);const M=R.XpG();return R.Njj(M.toggleNavbar())}),R.nrm(3,"span",8),R.k0s()()}2&p&&(R.R7$(),R.BMQ("aria-label",R.bMT(2,1,"nav.toggle")))}let A=(()=>{class p{constructor(O,w){this.menuService=O,this.windowService=w,this.menuID=C.D.PUBLIC,this.maxMobileWidth=f.tP.SM}ngOnInit(){this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth)}toggleNavbar(){this.menuService.toggleMenu(this.menuID)}static{this.\u0275fac=function(w){return new(w||p)(R.rXU(_.$),R.rXU(f.CV))}}static{this.\u0275cmp=R.VBU({type:p,selectors:[["ds-base-header"]],standalone:!0,features:[R.aNF],decls:15,vars:9,consts:[[1,"container"],[1,"d-flex","flex-row","justify-content-between"],["routerLink","/home",1,"navbar-brand","my-2"],["src","assets/images/HighCourtLogo.jpeg"],["role","navigation",1,"navbar","navbar-light","navbar-expand-md","flex-shrink-0","px-0"],["class","ps-2",4,"ngIf"],[1,"ps-2"],["type","button","aria-controls","collapsingNav","aria-expanded","false",1,"navbar-toggler","px-0",3,"click"],["aria-hidden","true",1,"fas","fa-bars","fa-fw","toggler-icon"]],template:function(w,M){1&w&&(R.j41(0,"header")(1,"div",0)(2,"div",1)(3,"a",2),R.nrm(4,"img",3),R.nI1(5,"translate"),R.k0s(),R.j41(6,"nav",4),R.nI1(7,"translate"),R.nrm(8,"ds-search-navbar")(9,"ds-lang-switch")(10,"ds-context-help-toggle")(11,"ds-auth-nav-menu")(12,"ds-impersonate-navbar"),R.DNE(13,T,4,3,"div",5),R.nI1(14,"async"),R.k0s()()()()),2&w&&(R.R7$(4),R.BMQ("alt",R.bMT(5,3,"menu.header.image.logo")),R.R7$(2),R.BMQ("aria-label",R.bMT(7,5,"nav.user.description")),R.R7$(7),R.Y8G("ngIf",R.bMT(14,7,M.isMobile$)))},dependencies:[t.Wk,E.n,u.zH,u.QE,h.X,I.Y,m.v,v.d,e.h,e.D9,i.Jj,i.bT],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background-color:var(--ds-header-bg)}[_nghost-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height);max-width:100%}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:none;color:var(--ds-header-icon-color)}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]   .toggler-icon[_ngcontent-%COMP%]{width:1.5em;height:1.5em;line-height:1.5}[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{display:flex;gap:calc(var(--bs-spacer) / 3);align-items:center}"]})}}return p})()},95960:(F,D,n)=>{"use strict";n.d(D,{q:()=>m});var i=n(8886),u=(n(34912),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"HeaderComponent"}importThemedComponent(E){return n(16722)(`./${E}/app/header/header.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,34912))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-header"]],standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},52178:(F,D,n)=>{"use strict";n.r(D),n.d(D,{HomeNewsComponent:()=>t});var i=n(54438);let t=(()=>{class u{static{this.\u0275fac=function(m){return new(m||u)}}static{this.\u0275cmp=i.VBU({type:u,selectors:[["ds-base-home-news"]],standalone:!0,features:[i.aNF],decls:20,vars:0,consts:[[1,"jumbotron","py-4","px-2","py-sm-5","px-sm-0","mt-0","mb-4"],[1,"container"],[1,"d-flex","flex-wrap"],[1,"display-2"],[1,"lead"],["href","https://wiki.lyrasis.org/display/DSPACE/DSpace+Positioning","target","_blank"]],template:function(m,f){1&m&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),i.EFF(5,"DSpace 9"),i.k0s(),i.j41(6,"p",4),i.EFF(7,"DSpace is the world leading open source repository platform that enables organisations to:"),i.k0s()()(),i.j41(8,"ul")(9,"li"),i.EFF(10,"easily ingest documents, audio, video, datasets and their corresponding Dublin Core metadata "),i.k0s(),i.j41(11,"li"),i.EFF(12,"open up this content to local and global audiences, thanks to the OAI-PMH interface and Google Scholar optimizations "),i.k0s(),i.j41(13,"li"),i.EFF(14,"issue permanent urls and trustworthy identifiers, including optional integrations with handle.net and DataCite DOI"),i.k0s()(),i.j41(15,"p"),i.EFF(16,"Join an international community of "),i.j41(17,"a",5),i.EFF(18,"leading institutions using DSpace"),i.k0s(),i.EFF(19,". "),i.k0s()()())},styles:["[_nghost-%COMP%]{display:block}.display-3[_ngcontent-%COMP%]{word-break:break-word}.jumbotron[_ngcontent-%COMP%]{background-color:var(--ds-home-news-background-color)}a[_ngcontent-%COMP%]{color:var(--ds-home-news-link-color)}a[_ngcontent-%COMP%]:hover{color:var(--ds-home-news-link-hover-color)}"]})}}return u})()},16805:(F,D,n)=>{"use strict";n.d(D,{KN:()=>m,KS:()=>h,UB:()=>e,jK:()=>t,lB:()=>u});var i=n(69799);const t="end-user-agreement",u="privacy",e="feedback",h="coar-notify-support";function m(){return function _(C){return`${(0,i.e_)()}/${C}`}(t)}},4436:(F,D,n)=>{"use strict";n.d(D,{$2:()=>u,Bw:()=>m,Jr:()=>h,K4:()=>f,KY:()=>v,Pg:()=>t,RS:()=>e,kH:()=>i});const i="withdraw",t="reinstate",u="private",e="public",h="delete",m="move",f="authorizations",v="register-doi"},13933:(F,D,n)=>{"use strict";n.d(D,{W:()=>f});var i=n(60177),t=n(41780),e=(n(88318),n(54438));function h(v,E){if(1&v&&(e.j41(0,"tr",4)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s()()),2&v){const _=E.$implicit,C=e.XpG().$implicit;e.R7$(2),e.JRh(C.key),e.R7$(2),e.JRh(_.value),e.R7$(2),e.JRh(_.language)}}function m(v,E){if(1&v&&(e.qex(0),e.DNE(1,h,7,3,"tr",3),e.bVm()),2&v){const _=E.$implicit;e.R7$(),e.Y8G("ngForOf",_.value)}}let f=(()=>{class v{ngOnChanges(){this.metadata=this.item?.metadata}static{this.\u0275fac=function(C){return new(C||v)}}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-modify-item-overview"]],inputs:{item:"item"},standalone:!0,features:[e.OA$,e.aNF],decls:15,vars:12,consts:[["id","metadata",1,"table","table-striped","table-hover","table-responsive"],["scope","col"],[4,"ngFor","ngForOf"],["class","metadata-row",4,"ngFor","ngForOf"],[1,"metadata-row"]],template:function(C,I){1&C&&(e.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",1),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",1),e.EFF(10),e.nI1(11,"translate"),e.k0s()()(),e.j41(12,"tbody"),e.DNE(13,m,2,1,"ng-container",2),e.nI1(14,"keyvalue"),e.k0s()()),2&C&&(e.R7$(4),e.JRh(e.bMT(5,4,"item.edit.modify.overview.field")),e.R7$(3),e.JRh(e.bMT(8,6,"item.edit.modify.overview.value")),e.R7$(3),e.JRh(e.bMT(11,8,"item.edit.modify.overview.language")),e.R7$(3),e.Y8G("ngForOf",e.bMT(14,10,I.metadata)))},dependencies:[i.pM,i.lG,t.h,t.D9],encapsulation:2})}}return v})()},44616:(F,D,n)=>{"use strict";n.d(D,{r:()=>U});var i=n(60177),t=n(7901),u=n(41780),e=n(84412),h=n(84572),m=n(99172),f=n(88141),v=n(53993),E=n(25558),_=n(31943),C=n(96354),I=n(96526),R=n(6983),T=n(41023),p=(n(88318),n(80183)),x=n(82777),O=n(79222),w=n(54438);const M=K=>["/collections",K];function L(K,Y){if(1&K&&w.nrm(0,"span",7),2&K){const G=w.XpG(2);w.Y8G("innerHTML",G.separator,w.npT)}}function B(K,Y){if(1&K&&(w.j41(0,"a",5)(1,"span"),w.EFF(2),w.k0s(),w.DNE(3,L,1,1,"span",6),w.k0s()),2&K){const G=Y.$implicit,q=Y.last,z=w.XpG();w.Y8G("routerLink",w.eq3(3,M,G.id)),w.R7$(2),w.JRh(z.dsoNameService.getName(G)),w.R7$(),w.Y8G("ngIf",!q)}}function k(K,Y){1&K&&(w.j41(0,"div"),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&K&&(w.R7$(),w.SpI(" ",w.bMT(2,1,"item.page.collections.loading")," "))}function W(K,Y){if(1&K){const G=w.RV6();w.j41(0,"a",8),w.bIt("click",function(z){w.eBV(G);const te=w.XpG();return z.preventDefault(),w.Njj(te.handleLoadMore())}),w.EFF(1),w.nI1(2,"translate"),w.k0s()}2&K&&(w.R7$(),w.SpI(" ",w.bMT(2,1,"item.page.collections.load-more")," "))}let U=(()=>{class K{constructor(G,q,z){this.cds=G,this.dsoNameService=q,this.cdr=z,this.label="item.page.collections",this.separator="<br/>",this.pageSize=5,this.lastPage$=new e.t(0),this.loadMore$=new e.t(void 0),this.isLoading$=new e.t(!0),this.hasMore$=new e.t(!0)}ngOnInit(){const G=this.cds.findOwningCollectionFor(this.item).pipe((0,p.ak)(),(0,m.Z)(null)),q=this.loadMore$.pipe((0,f.M)(()=>this.isLoading$.next(!0)),(0,v.E)(this.lastPage$),(0,E.n)(([z,te])=>this.cds.findMappedCollectionsFor(this.item,Object.assign(new T._,{elementsPerPage:this.pageSize,currentPage:te+1}))),(0,p.bD)(),(0,f.M)(()=>this.isLoading$.next(!1)),(0,p.Hz)(),(0,f.M)(z=>this.hasMore$.next(z.currentPage<z.totalPages)),(0,f.M)(z=>this.lastPage$.next(z.currentPage)),(0,p.W8)(),(0,_.S)((z,te)=>[...z,...te],[]),(0,m.Z)([]));this.collections$=(0,h.z)([G,q]).pipe((0,C.T)(([z,te])=>[z,...te].filter(Z=>(0,x.a4)(Z)))),this.cdr.detectChanges()}handleLoadMore(){this.loadMore$.next()}static{this.\u0275fac=function(q){return new(q||K)(w.rXU(R.CollectionDataService),w.rXU(I.f),w.rXU(w.gRc))}}static{this.\u0275cmp=w.VBU({type:K,selectors:[["ds-item-page-collections"]],inputs:{item:"item",separator:"separator"},standalone:!0,features:[w.aNF],decls:10,vars:14,consts:[[3,"label"],[1,"collections"],[3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],["class","load-more-btn btn btn-sm btn-outline-secondary","role","button","href","javascript:void(0);",3,"click",4,"ngIf"],[3,"routerLink"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],["role","button","href","javascript:void(0);",1,"load-more-btn","btn","btn-sm","btn-outline-secondary",3,"click"]],template:function(q,z){1&q&&(w.j41(0,"ds-metadata-field-wrapper",0),w.nI1(1,"translate"),w.j41(2,"div",1),w.DNE(3,B,4,5,"a",2),w.nI1(4,"async"),w.k0s(),w.DNE(5,k,3,3,"div",3),w.nI1(6,"async"),w.DNE(7,W,3,3,"a",4),w.nI1(8,"async"),w.nI1(9,"async"),w.k0s()),2&q&&(w.Y8G("label",w.bMT(1,4,z.label)),w.R7$(3),w.Y8G("ngForOf",w.bMT(4,6,z.collections$)),w.R7$(2),w.Y8G("ngIf",w.bMT(6,8,z.isLoading$)),w.R7$(2),w.Y8G("ngIf",!0!==w.bMT(8,10,z.isLoading$)&&w.bMT(9,12,z.hasMore$)))},dependencies:[O.Q,u.h,u.D9,i.Sq,i.Jj,t.Wk,i.bT],encapsulation:2})}}return K})()},90887:(F,D,n)=>{"use strict";n.d(D,{$r:()=>m,DL:()=>E,Fy:()=>e,_o:()=>h,_z:()=>A,aX:()=>T,jU:()=>C,nF:()=>f,vf:()=>_,xb:()=>u});var i=n(45663),t=n(82777);const u="items";function e(){return`/${u}`}function h(p){return v(p.firstMetadataValue("dspace.entity.type"),p.uuid)}function m(p){return new i.t(h(p),C).toString()}function f(p){return new i.t(h(p),C,I).toString()}function v(p,x){return(0,t.hj)(p)?new i.t("/entities",encodeURIComponent(p.toLowerCase()),x).toString():new i.t(e(),x).toString()}function E(p,x){return new i.t(v(p,x),C).toString()}function _(p){return new i.t(e(),R,p).toString()}const C="edit",I="versionhistory",R="version",T="bitstreams/new",A="orcid"},39630:(F,D,n)=>{"use strict";n.r(D),n.d(D,{MediaViewerImageComponent:()=>h});var i=n(60177),t=n(23632),u=n(67116),e=n(54438);let h=(()=>{class m{constructor(v){this.authService=v,this.thumbnailPlaceholder="./assets/images/replacement_image.svg",this.galleryOptions=[],this.galleryImages=[]}ngOnChanges(){this.galleryOptions=[{preview:void 0===this.preview||this.preview,image:!0,imageSize:"contain",thumbnails:!1,imageArrows:!1,startIndex:0,imageAnimation:t.O7.Slide,previewCloseOnEsc:!0,previewZoom:!0,previewRotate:!0,previewFullscreen:!0}],this.galleryImages=this.image?[{small:this.image,medium:this.image,big:this.image}]:this.convertToGalleryImage(this.images)}ngOnInit(){this.isAuthenticated$=this.authService.isAuthenticated(),this.ngOnChanges()}convertToGalleryImage(v){const E=[];for(const _ of v)"image"===_.format&&E.push({small:_.thumbnail?_.thumbnail:this.thumbnailPlaceholder,medium:_.thumbnail?_.thumbnail:this.thumbnailPlaceholder,big:_.bitstream._links.content.href});return E}static{this.\u0275fac=function(E){return new(E||m)(e.rXU(u.uR))}}static{this.\u0275cmp=e.VBU({type:m,selectors:[["ds-base-media-viewer-image"]],inputs:{images:"images",preview:"preview",image:"image"},standalone:!0,features:[e.OA$,e.aNF],decls:3,vars:6,consts:[[1,"ngx-gallery",3,"options","images"]],template:function(E,_){1&E&&(e.j41(0,"div"),e.nI1(1,"async"),e.nrm(2,"ngx-gallery",0),e.k0s()),2&E&&(e.AVh("change-gallery",e.bMT(1,4,_.isAuthenticated$)),e.R7$(2),e.Y8G("options",_.galleryOptions)("images",_.galleryImages))},dependencies:[t.cz,t.Fv,i.Jj],styles:['[_nghost-%COMP%]     .ngx-gallery{width:unset!important;height:unset!important}[_nghost-%COMP%]     ngx-gallery-image{max-width:340px!important}[_nghost-%COMP%]     ngx-gallery-image .ngx-gallery-image{background-position:left}[_nghost-%COMP%]     ngx-gallery-image:after{padding-top:75%;display:block;content:""}']})}}return m})()},56242:(F,D,n)=>{"use strict";n.d(D,{Q:()=>m});var i=n(8886),u=(n(39630),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["images","preview","image"]}getComponentName(){return"MediaViewerImageComponent"}importThemedComponent(E){return n(52636)(`./${E}/app/item-page/media-viewer/media-viewer-image/media-viewer-image.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,39630))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-media-viewer-image"]],inputs:{images:"images",preview:"preview",image:"image"},standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},90823:(F,D,n)=>{"use strict";n.r(D),n.d(D,{MediaViewerVideoComponent:()=>R});var i=n(60177),t=n(58003),u=n(41780),e=n(96526),h=n(60456);class m{constructor(A,p,x){this.src=A,this.srclang=p,this.langLabel=x}}const f={ab:"Abkhazian",aa:"Afar",af:"Afrikaans",ak:"Akan",sq:"Albanian",am:"Amharic",ar:"Arabic",an:"Aragonese",hy:"Armenian",as:"Assamese",av:"Avaric",ae:"Avestan",ay:"Aymara",az:"Azerbaijani",bm:"Bambara",ba:"Bashkir",eu:"Basque",be:"Belarusian",bn:"Bengali (Bangla)",bh:"Bihari",bi:"Bislama",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",ny:"Chichewa, Chewa, Nyanja",zh:"Chinese",cv:"Chuvash",kw:"Cornish",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",dv:"Divehi, Dhivehi, Maldivian",nl:"Dutch",dz:"Dzongkha",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",fo:"Faroese",fj:"Fijian",fi:"Finnish",fr:"French",ff:"Fula, Fulah, Pulaar, Pular",gl:"Galician",gd:"Gaelic (Scottish)",gv:"Gaelic (Manx)",ka:"Georgian",de:"German",el:"Greek",gn:"Guarani",gu:"Gujarati",ht:"Haitian Creole",ha:"Hausa",he:"Hebrew",hz:"Herero",hi:"Hindi",ho:"Hiri Motu",hu:"Hungarian",is:"Icelandic",io:"Ido",ig:"Igbo",in:"Indonesian",ia:"Interlingua",ie:"Interlingue",iu:"Inuktitut",ik:"Inupiak",ga:"Irish",it:"Italian",ja:"Japanese",jv:"Javanese",kl:"Kalaallisut, Greenlandic",kn:"Kannada",kr:"Kanuri",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ki:"Kikuyu",rw:"Kinyarwanda (Rwanda)",rn:"Kirundi",ky:"Kyrgyz",kv:"Komi",kg:"Kongo",ko:"Korean",ku:"Kurdish",kj:"Kwanyama",lo:"Lao",la:"Latin",lv:"Latvian (Lettish)",li:"Limburgish ( Limburger)",ln:"Lingala",lt:"Lithuanian",lu:"Luga-Katanga",lg:"Luganda, Ganda",lb:"Luxembourgish",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mh:"Marshallese",mo:"Moldavian",mn:"Mongolian",na:"Nauru",nv:"Navajo",ng:"Ndonga",nd:"Northern Ndebele",ne:"Nepali",no:"Norwegian",nb:"Norwegian bokm\xe5l",nn:"Norwegian nynorsk",oc:"Occitan",oj:"Ojibwe",cu:"Old Church Slavonic, Old Bulgarian",or:"Oriya",om:"Oromo (Afaan Oromo)",os:"Ossetian",pi:"P\u0101li",ps:"Pashto, Pushto",fa:"Persian (Farsi)",pl:"Polish",pt:"Portuguese",pa:"Punjabi (Eastern)",qu:"Quechua",rm:"Romansh",ro:"Romanian",ru:"Russian",se:"Sami",sm:"Samoan",sg:"Sango",sa:"Sanskrit",sr:"Serbian",sh:"Serbo-Croatian",st:"Sesotho",tn:"Setswana",sn:"Shona",ii:"Sichuan Yi, Nuosu",sd:"Sindhi",si:"Sinhalese",ss:"Siswati (Swati)",sk:"Slovak",sl:"Slovenian",so:"Somali",nr:"Southern Ndebele",es:"Spanish",su:"Sundanese",sw:"Swahili (Kiswahili)",sv:"Swedish",tl:"Tagalog",ty:"Tahitian",tg:"Tajik",ta:"Tamil",tt:"Tatar",te:"Telugu",th:"Thai",bo:"Tibetan",ti:"Tigrinya",to:"Tonga",ts:"Tsonga",tr:"Turkish",tk:"Turkmen",tw:"Twi",ug:"Uyghur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volap\xfck",wa:"Wallon",cy:"Welsh",wo:"Wolof",fy:"Western Frisian",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang, Chuang",zu:"Zulu"};var v=n(54438);function E(T,A){if(1&T&&(v.qex(0),v.nrm(1,"track",4),v.bVm()),2&T){const p=A.$implicit;v.R7$(),v.Y8G("src",p.src,v.B4B)("label",p.langLabel)("srclang",p.srclang)}}function _(T,A){if(1&T&&(v.qex(0),v.DNE(1,E,2,3,"ng-container",3),v.bVm()),2&T){const p=A.ngIf;v.R7$(),v.Y8G("ngForOf",p)}}function C(T,A){if(1&T){const p=v.RV6();v.j41(0,"button",12),v.bIt("click",function(){const O=v.eBV(p).index,w=v.XpG(2);return v.Njj(w.selectedMedia(O))}),v.EFF(1),v.k0s()}if(2&T){const p=A.$implicit,x=v.XpG(2);v.R7$(),v.SpI(" ",x.dsoNameService.getName(p.bitstream)," ")}}function I(T,A){if(1&T){const p=v.RV6();v.j41(0,"div",5)(1,"button",6),v.bIt("click",function(){v.eBV(p);const O=v.XpG();return v.Njj(O.prevMedia())}),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.j41(4,"button",7),v.bIt("click",function(){v.eBV(p);const O=v.XpG();return v.Njj(O.nextMedia())}),v.EFF(5),v.nI1(6,"translate"),v.k0s(),v.j41(7,"div",8)(8,"button",9),v.EFF(9),v.nI1(10,"translate"),v.k0s(),v.j41(11,"div",10),v.DNE(12,C,2,1,"button",11),v.k0s()()()}if(2&T){const p=v.XpG();v.R7$(),v.Y8G("dsBtnDisabled",0===p.currentIndex),v.R7$(),v.SpI(" ",v.bMT(3,6,"media-viewer.previous")," "),v.R7$(2),v.Y8G("dsBtnDisabled",p.currentIndex===p.medias.length-1),v.R7$(),v.SpI(" ",v.bMT(6,8,"media-viewer.next")," "),v.R7$(4),v.SpI(" ",v.bMT(10,10,"media-viewer.playlist")," "),v.R7$(3),v.Y8G("ngForOf",p.medias)}}let R=(()=>{class T{constructor(p){this.dsoNameService=p,this.captions=[],this.isCollapsed=!1,this.currentIndex=0,this.replacements={video:"./assets/images/replacement_video.svg",audio:"./assets/images/replacement_audio.svg"}}getMediaCap(p,x){const O=[],w=x.filter(M=>M.name.substring(0,M.name.length-7).toLowerCase()===p.toLowerCase());for(const M of w){const L=M.name.slice(-6,-4).toLowerCase();O.push(new m(M._links.content.href,L,f[L]))}return O}selectedMedia(p){this.currentIndex=p}nextMedia(){this.currentIndex++}prevMedia(){this.currentIndex--}static{this.\u0275fac=function(x){return new(x||T)(v.rXU(e.f))}}static{this.\u0275cmp=v.VBU({type:T,selectors:[["ds-base-media-viewer-video"]],inputs:{medias:"medias",captions:"captions"},standalone:!0,features:[v.aNF],decls:3,vars:4,consts:[["crossorigin","anonymous","id","singleVideo","preload","none","controls","",3,"src","poster"],[4,"ngIf"],["class","buttons",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"src","label","srclang"],[1,"buttons"],[1,"btn","btn-primary","previous",3,"click","dsBtnDisabled"],[1,"btn","btn-primary","next",3,"click","dsBtnDisabled"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary","playlist"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","","class","list-element",3,"click",4,"ngFor","ngForOf"],["ngbDropdownItem","",1,"list-element",3,"click"]],template:function(x,O){1&x&&(v.j41(0,"video",0),v.DNE(1,_,2,1,"ng-container",1),v.k0s(),v.DNE(2,I,13,12,"div",2)),2&x&&(v.Y8G("src",O.medias[O.currentIndex].bitstream._links.content.href,v.B4B)("poster",O.medias[O.currentIndex].thumbnail||O.replacements[O.medias[O.currentIndex].format],v.B4B),v.R7$(),v.Y8G("ngIf",O.getMediaCap(O.medias[O.currentIndex].bitstream.name,O.captions)),v.R7$(),v.Y8G("ngIf",(null==O.medias?null:O.medias.length)>1))},dependencies:[i.Sq,t.zH,t.tg,t.do,t.U0,t._H,u.h,u.D9,i.bT,h.A],styles:["video[_ngcontent-%COMP%]{width:100%;height:auto;max-width:340px}.buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem}"]})}}return T})()},38342:(F,D,n)=>{"use strict";n.d(D,{U:()=>m});var i=n(8886),u=(n(90823),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["medias","captions"]}getComponentName(){return"MediaViewerVideoComponent"}importThemedComponent(E){return n(38815)(`./${E}/app/item-page/media-viewer/media-viewer-video/media-viewer-video.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,90823))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-media-viewer-video"]],inputs:{medias:"medias",captions:"captions"},standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},90337:(F,D,n)=>{"use strict";n.r(D),n.d(D,{MediaViewerComponent:()=>Z});var i=n(60177),t=n(41780),u=n(84412),e=n(5964),h=n(96697),m=n(88280),f=n(42578);n(88318);class E{}var _=n(80183),C=n(82777),I=n(82394),R=n(67600),T=n(18226),A=n(97402),p=n(56242),x=n(38342),O=n(54438);const w=()=>["audio","video"];function M(J,Q){1&J&&(O.nrm(0,"ds-loading",4),O.nI1(1,"translate")),2&J&&(O.FS9("message",O.bMT(1,2,"loading.default")),O.Y8G("showMessage",!1))}function L(J,Q){if(1&J&&(O.nrm(0,"ds-media-viewer-video",9),O.nI1(1,"async")),2&J){const ee=O.XpG(5).ngVar,le=O.XpG();O.Y8G("medias",ee)("captions",O.bMT(1,2,le.captions$))}}function B(J,Q){if(1&J&&O.nrm(0,"ds-media-viewer-image",10),2&J){const ee=O.XpG(5).ngVar;O.Y8G("images",ee)}}function k(J,Q){1&J&&O.eu8(0)}function W(J,Q){if(1&J&&(O.qex(0),O.DNE(1,L,2,4,"ds-media-viewer-video",7)(2,B,1,1,"ds-media-viewer-image",8)(3,k,1,0,"ng-container",6),O.bVm()),2&J){const ee=Q.ngVar,le=O.XpG().ngVar;O.XpG(3);const ne=O.sdS(4);O.R7$(),O.Y8G("ngIf",le),O.R7$(),O.Y8G("ngIf",ee),O.R7$(),O.Y8G("ngIf",ee||le)("ngIfElse",ne)}}function U(J,Q){if(1&J&&(O.qex(0),O.DNE(1,W,4,4,"ng-container",1),O.bVm()),2&J){const ee=O.XpG(3).ngVar,le=O.XpG();O.R7$(),O.Y8G("ngVar",le.mediaOptions.image&&"image"===(null==ee[0]?null:ee[0].format))}}function K(J,Q){if(1&J&&(O.qex(0),O.DNE(1,U,2,1,"ng-container",1),O.bVm()),2&J){const ee=O.XpG(2).ngVar,le=O.XpG();O.R7$(),O.Y8G("ngVar",le.mediaOptions.video&&O.lJ4(1,w).includes(null==ee[0]?null:ee[0].format))}}function Y(J,Q){if(1&J&&(O.j41(0,"div",5),O.DNE(1,K,2,2,"ng-container",6),O.k0s()),2&J){const ee=O.XpG().ngVar,le=O.sdS(4);O.R7$(),O.Y8G("ngIf",ee.length>0)("ngIfElse",le)}}function G(J,Q){if(1&J&&(O.nrm(0,"ds-media-viewer-image",13),O.nI1(1,"async")),2&J){let ee;const le=O.XpG(3);O.Y8G("image",(null==(ee=O.bMT(1,2,le.thumbnailsRD$))||null==ee.payload||null==ee.payload.page[0]?null:ee.payload.page[0]._links.content.href)||le.thumbnailPlaceholder)("preview",!1)}}function q(J,Q){if(1&J&&(O.nrm(0,"ds-thumbnail",14),O.nI1(1,"async")),2&J){let ee;const le=O.XpG(3);O.Y8G("thumbnail",null==(ee=O.bMT(1,1,le.thumbnailsRD$))||null==ee.payload?null:ee.payload.page[0])}}function z(J,Q){if(1&J&&O.DNE(0,G,2,4,"ds-media-viewer-image",11)(1,q,2,3,"ds-thumbnail",12),2&J){const ee=O.XpG(2);O.Y8G("ngIf",ee.mediaOptions.image&&ee.mediaOptions.video),O.R7$(),O.Y8G("ngIf",!(ee.mediaOptions.image&&ee.mediaOptions.video))}}function te(J,Q){if(1&J&&(O.qex(0),O.DNE(1,M,2,4,"ds-loading",2)(2,Y,2,2,"div",3)(3,z,2,2,"ng-template",null,0,O.C5r),O.bVm()),2&J){const ee=O.XpG();O.R7$(),O.Y8G("ngIf",ee.isLoading),O.R7$(),O.Y8G("ngIf",!ee.isLoading)}}let Z=(()=>{class J{constructor(ee,le){this.bitstreamDataService=ee,this.changeDetectorRef=le,this.mediaOptions=m.c.mediaViewer,this.mediaList$=new u.t([]),this.captions$=new u.t([]),this.isLoading=!0,this.thumbnailPlaceholder="./assets/images/replacement_document.svg",this.subs=[]}ngOnDestroy(){this.subs.forEach(ee=>ee.unsubscribe())}ngOnInit(){const ee=[...this.mediaOptions.image?["image"]:[],...this.mediaOptions.video?["audio","video"]:[]];this.thumbnailsRD$=this.loadRemoteData("THUMBNAIL"),this.subs.push(this.loadRemoteData("ORIGINAL").subscribe(le=>{0===le.payload.page.length?(this.isLoading=!1,this.mediaList$.next([])):this.subs.push(this.thumbnailsRD$.subscribe(ne=>{for(let fe=0;fe<le.payload.page.length;fe++)this.subs.push(le.payload.page[fe].format.pipe((0,_.ak)()).subscribe(se=>{const ce=this.createMediaViewerItem(le.payload.page[fe],se,ne.payload&&ne.payload.page[fe]);ee.includes(ce.format)?this.mediaList$.next([...this.mediaList$.getValue(),ce]):"text/vtt"===se.mimetype&&this.captions$.next([...this.captions$.getValue(),le.payload.page[fe]])}));this.isLoading=!1,this.changeDetectorRef.detectChanges()}))}))}loadRemoteData(ee){return this.bitstreamDataService.findAllByItemAndBundleName(this.item,ee,{},!0,!0,(0,R.s)("format")).pipe((0,e.p)(le=>(0,C.a4)(le)&&((0,C.a4)(le.errorMessage)||(0,C.a4)(le.payload))),(0,h.s)(1))}createMediaViewerItem(ee,le,ne){const fe=new E;return fe.bitstream=ee,fe.format=le.mimetype.split("/")[0],fe.mimetype=le.mimetype,fe.thumbnail=ne?ne._links.content.href:null,fe}static{this.\u0275fac=function(le){return new(le||J)(O.rXU(f.BitstreamDataService),O.rXU(O.gRc))}}static{this.\u0275cmp=O.VBU({type:J,selectors:[["ds-base-media-viewer"]],inputs:{item:"item",mediaOptions:"mediaOptions"},standalone:!0,features:[O.aNF],decls:2,vars:3,consts:[["showThumbnail",""],[4,"ngVar"],[3,"message","showMessage",4,"ngIf"],["class","media-viewer",4,"ngIf"],[3,"message","showMessage"],[1,"media-viewer"],[4,"ngIf","ngIfElse"],[3,"medias","captions",4,"ngIf"],[3,"images",4,"ngIf"],[3,"medias","captions"],[3,"images"],[3,"image","preview",4,"ngIf"],[3,"thumbnail",4,"ngIf"],[3,"image","preview"],[3,"thumbnail"]],template:function(le,ne){1&le&&(O.DNE(0,te,5,2,"ng-container",1),O.nI1(1,"async")),2&le&&O.Y8G("ngVar",O.bMT(1,1,ne.mediaList$))},dependencies:[p.Q,A.T,i.Jj,i.bT,x.U,t.h,t.D9,I.v,T.r]})}}return J})()},20261:(F,D,n)=>{"use strict";n.d(D,{e:()=>u});var i=n(82777),t=n(54438);let u=(()=>{class e{ngOnInit(){this.objects=[],this.subscriptions=[],this.increase()}getPage(m){}increase(){const m=this.getPage(this.objects.length+1);(0,i.a4)(m)&&this.objects.push(m)}decrease(){this.objects.length>1&&this.objects.pop()}ngOnDestroy(){(0,i.hj)(this.subscriptions)&&this.subscriptions.forEach(m=>{m.unsubscribe()})}static{this.\u0275fac=function(f){return new(f||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["ds-abstract-incremental-list"]],standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(f,v){},encapsulation:2})}}return e})()},1231:(F,D,n)=>{"use strict";n.r(D),n.d(D,{FileSectionComponent:()=>Y});var i=n(60177),t=n(41780),u=n(84412),e=n(82640),h=n(96526),m=n(42578),v=(n(88318),n(80183)),E=n(82777),_=n(28836),C=n(82394),I=n(79222),R=n(39806),T=n(43525),A=n(18226),p=n(54438),x=n(7901);function O(G,q){1&G&&(p.j41(0,"span",14),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&G&&(p.R7$(),p.JRh(p.bMT(2,1,"item.page.bitstreams.primary")))}function w(G,q){if(1&G&&p.nrm(0,"span",15),2&G){const z=p.XpG(5);p.FS9("innerHTML",z.separator,p.npT)}}function M(G,q){if(1&G&&(p.j41(0,"ds-file-download-link",11)(1,"span"),p.DNE(2,O,3,3,"span",12),p.EFF(3),p.k0s(),p.j41(4,"span"),p.EFF(5),p.nI1(6,"dsFileSize"),p.k0s(),p.DNE(7,w,1,1,"span",13),p.k0s()),2&G){const z=q.$implicit,te=q.last,Z=p.XpG(4);p.Y8G("bitstream",z)("item",Z.item),p.R7$(2),p.Y8G("ngIf",Z.primaryBitsreamId===z.id),p.R7$(),p.SpI(" ",Z.dsoNameService.getName(z)," "),p.R7$(2),p.SpI(" (",p.bMT(6,6,null==z?null:z.sizeBytes),")"),p.R7$(2),p.Y8G("ngIf",!te)}}function L(G,q){1&G&&(p.nrm(0,"ds-loading",16),p.nI1(1,"translate")),2&G&&(p.FS9("message",p.bMT(1,2,"loading.default")),p.Y8G("showMessage",!1))}function B(G,q){if(1&G){const z=p.RV6();p.j41(0,"div",17)(1,"button",18),p.bIt("click",function(){p.eBV(z);const Z=p.XpG(4);return p.Njj(Z.getNextPage())}),p.EFF(2),p.nI1(3,"translate"),p.k0s()()}2&G&&(p.R7$(2),p.JRh(p.bMT(3,1,"item.page.bitstreams.view-more")))}function k(G,q){if(1&G){const z=p.RV6();p.j41(0,"div",19)(1,"button",20),p.bIt("click",function(){p.eBV(z);const Z=p.XpG(4);return Z.currentPage=void 0,p.Njj(Z.getNextPage())}),p.EFF(2),p.nI1(3,"translate"),p.k0s()()}2&G&&(p.R7$(2),p.JRh(p.bMT(3,1,"item.page.bitstreams.collapse")))}function W(G,q){if(1&G){const z=p.RV6();p.j41(0,"div",4),p.DNE(1,M,8,8,"ds-file-download-link",5),p.j41(2,"button",6),p.bIt("click",function(){const Z=p.eBV(z).$implicit,J=p.XpG(3);return p.Njj(J.viewFile(Z))}),p.nrm(3,"i",7),p.EFF(4," View "),p.k0s(),p.DNE(5,L,2,4,"ds-loading",8)(6,B,4,3,"div",9)(7,k,4,3,"div",10),p.k0s()}if(2&G){const z=p.XpG(2).ngVar,te=p.XpG();p.R7$(),p.Y8G("ngForOf",z),p.R7$(4),p.Y8G("ngIf",te.isLoading),p.R7$(),p.Y8G("ngIf",!te.isLastPage),p.R7$(),p.Y8G("ngIf",te.isLastPage&&1!==te.currentPage)}}function U(G,q){if(1&G&&(p.j41(0,"ds-metadata-field-wrapper",2),p.nI1(1,"translate"),p.DNE(2,W,8,4,"div",3),p.k0s()),2&G){const z=p.XpG().ngVar,te=p.XpG();p.Y8G("label",p.bMT(1,2,te.label)),p.R7$(2),p.Y8G("ngForOf",z)}}function K(G,q){if(1&G&&(p.qex(0),p.DNE(1,U,3,4,"ds-metadata-field-wrapper",1),p.bVm()),2&G){const z=q.ngVar;p.R7$(),p.Y8G("ngIf",(null==z?null:z.length)>0)}}let Y=(()=>{class G{constructor(z,te,Z,J,Q,ee){this.bitstreamDataService=z,this.notificationsService=te,this.translateService=Z,this.dsoNameService=J,this.appConfig=Q,this.router=ee,this.label="item.page.files",this.separator="<br/>",this.pageSize=this.appConfig.item.bitstream.pageSize}ngOnInit(){this.getPrimaryBitstreamId(),this.getNextPage()}getPrimaryBitstreamId(){this.bitstreamDataService.findPrimaryBitstreamByItemAndName(this.item,"ORIGINAL",!0,!0).subscribe(z=>{z&&(this.primaryBitsreamId=z?.id)})}getNextPage(){this.isLoading=!0,void 0===this.currentPage?(this.currentPage=1,this.bitstreams$=new u.t([])):this.currentPage++,this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{currentPage:this.currentPage,elementsPerPage:this.pageSize}).pipe((0,v.qD)()).subscribe(z=>{if(z.errorMessage)this.notificationsService.error(this.translateService.get("file-section.error.header"),`${z.statusCode} ${z.errorMessage}`);else if((0,E.a4)(z.payload)){const te=this.bitstreams$.getValue();this.bitstreams$.next([...te,...z.payload.page]),this.isLoading=!1,this.isLastPage=this.currentPage===z.payload.totalPages}})}viewFile(z){if(this.item&&this.item.uuid){const te=this.item.uuid;console.log("uuid",te),console.log(this.item);const Z=`/viewer/${te}`;console.log("Navigating to viewer:",Z),this.router.navigate([Z])}else console.error("Item UUID not found. Cannot navigate.")}static{this.\u0275fac=function(te){return new(te||G)(p.rXU(m.BitstreamDataService),p.rXU(R.I),p.rXU(t.c$),p.rXU(h.f),p.rXU(e.vQ),p.rXU(x.Ix))}}static{this.\u0275cmp=p.VBU({type:G,selectors:[["ds-base-item-page-file-section"]],inputs:{item:"item"},standalone:!0,features:[p.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[3,"label",4,"ngIf"],[3,"label"],["class","d-flex align-items-center gap-2",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","gap-2"],[3,"bitstream","item",4,"ngFor","ngForOf"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fas","fa-eye"],[3,"message","showMessage",4,"ngIf"],["class","mt-1","id","view-more",4,"ngIf"],["class","mt-1","id","collapse",4,"ngIf"],[3,"bitstream","item"],["class","badge bg-primary",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"badge","bg-primary"],[3,"innerHTML"],[3,"message","showMessage"],["id","view-more",1,"mt-1"],[1,"bitstream-view-more","btn","btn-outline-secondary","btn-sm",3,"click"],["id","collapse",1,"mt-1"],[1,"bitstream-collapse","btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(te,Z){1&te&&(p.DNE(0,K,2,1,"ng-container",0),p.nI1(1,"async")),2&te&&p.Y8G("ngVar",p.bMT(1,1,Z.bitstreams$))},dependencies:[i.MD,i.Sq,i.bT,i.Jj,_.z,I.Q,C.v,t.h,t.D9,T.s,A.r],encapsulation:2})}}return G})()},42458:(F,D,n)=>{"use strict";n.r(D),n.d(D,{ItemPageTitleFieldComponent:()=>f});var i=n(60177),t=n(41780),u=n(96526),h=(n(88318),n(54438));function m(v,E){if(1&v&&(h.j41(0,"div",3),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&v){const _=E.ngIf;h.R7$(),h.SpI(" ",h.bMT(2,1,_.toLowerCase()+".page.titleprefix")," ")}}let f=(()=>{class v{constructor(_){this.dsoNameService=_}static{this.\u0275fac=function(C){return new(C||v)(h.rXU(u.f))}}static{this.\u0275cmp=h.VBU({type:v,selectors:[["ds-base-item-page-title-field"]],inputs:{item:"item"},standalone:!0,features:[h.aNF],decls:4,vars:2,consts:[[1,"item-page-title-field"],["class","d-inline",4,"ngIf"],[1,"dont-break-out"],[1,"d-inline"]],template:function(C,I){1&C&&(h.j41(0,"h1",0),h.DNE(1,m,3,3,"div",1),h.j41(2,"span",2),h.EFF(3),h.k0s()()),2&C&&(h.R7$(),h.Y8G("ngIf",I.item.firstMetadataValue("dspace.entity.type")),h.R7$(2),h.JRh(I.dsoNameService.getName(I.item)))},dependencies:[i.bT,t.h,t.D9],encapsulation:2})}}return v})()},26077:(F,D,n)=>{"use strict";n.d(D,{V:()=>f}),n(88318);var t=n(8886),e=(n(42458),n(54438));const h=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"ItemPageTitleFieldComponent"}importThemedComponent(_){return n(17026)(`./${_}/app/item-page/simple/field-components/specific-field/title/item-page-title-field.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,42458))}static{this.\u0275fac=(()=>{let _;return function(I){return(_||(_=e.xGo(v)))(I||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-item-page-title-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:h,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,I){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},46588:(F,D,n)=>{"use strict";n.d(D,{EF:()=>A,NG:()=>T,W2:()=>R,ky:()=>C});var i=n(54438),t=n(7673),u=n(44437),e=n(84572),h=n(73028),m=n(96354),f=n(23294),v=n(25558),E=n(80183),_=n(82777);const C=new i.nKC("paginatedRelationsToItems",{providedIn:"root",factory:()=>A}),R=()=>{return p=p=>(0,_.a4)(p)?p.id:void 0,(x,O)=>{if(!Array.isArray(x)||!Array.isArray(O))return!1;const w=x.map(p),M=O.map(p);return w.length===M.length&&w.every(L=>M.includes(L))&&M.every(L=>w.includes(L))};var p},T=p=>x=>x.pipe((0,h.Z)(O=>0===O.length?(0,t.of)([]):(0,u.y)(...O.map(w=>(0,e.z)([w.leftItem,w.rightItem])))),(0,m.T)(O=>O.filter(([w,M])=>w.hasSucceeded&&M.hasSucceeded).map(([w,M])=>w.payload.id===p?M.payload:M.payload.id===p?w.payload:void 0).filter(w=>(0,_.a4)(w))),(0,f.F)(R())),A=p=>x=>x.pipe((0,E.qD)(),(0,v.n)(O=>(0,e.z)(O.payload.page.map(w=>(0,e.z)([w.leftItem.pipe((0,E.qD)(),(0,m.T)(M=>M.hasSucceeded?M.payload:null)),w.rightItem.pipe((0,E.qD)(),(0,m.T)(M=>M.hasSucceeded?M.payload:null))]))).pipe((0,m.T)(w=>w.map(([M,L])=>(0,_.a4)(M)&&M.id===p?L:(0,_.a4)(L)&&L.id===p?M:void 0).filter(M=>(0,_.a4)(M))),(0,f.F)(R()),(0,m.T)(w=>Object.assign(O,{payload:Object.assign(O.payload,{page:w})})))))},12063:(F,D,n)=>{"use strict";n.r(D),n.d(D,{MetadataRepresentationListComponent:()=>Y});var i=n(60177),t=n(41780),u=n(44437),e=n(96354),h=n(37864),m=n(42673),f=n(48833),v=n(5410),_=(n(88318),n(14391)),C=n(90424),I=n(80183),R=n(82394),T=n(79222),A=n(32272),p=n(18226),x=n(20261),O=n(54438);const w=G=>({amount:G});function M(G,q){1&G&&O.nrm(0,"ds-metadata-representation-loader",6),2&G&&O.Y8G("mdRepresentation",q.$implicit)}function L(G,q){1&G&&(O.nrm(0,"ds-loading",7),O.nI1(1,"translate")),2&G&&O.FS9("message",O.bMT(1,1,"loading.default"))}function B(G,q){if(1&G){const z=O.RV6();O.j41(0,"div",11)(1,"button",12),O.bIt("click",function(){O.eBV(z);const Z=O.XpG(4);return O.Njj(Z.increase())}),O.EFF(2),O.nI1(3,"translate"),O.k0s()()}if(2&G){const z=O.XpG(4);O.R7$(2),O.JRh(O.i5U(3,1,"item.page.related-items.view-more",O.eq3(4,w,z.total-z.objects.length*z.incrementBy<z.incrementBy?z.total-z.objects.length*z.incrementBy:z.incrementBy)))}}function k(G,q){if(1&G){const z=O.RV6();O.j41(0,"div",13)(1,"button",12),O.bIt("click",function(){O.eBV(z);const Z=O.XpG(4);return O.Njj(Z.decrease())}),O.EFF(2),O.nI1(3,"translate"),O.k0s()()}if(2&G){const z=O.XpG(2).ngVar;O.R7$(2),O.JRh(O.i5U(3,1,"item.page.related-items.view-less",O.eq3(4,w,null==z?null:z.length)))}}function W(G,q){if(1&G&&(O.j41(0,"div",8),O.DNE(1,B,4,6,"div",9)(2,k,4,6,"div",10),O.k0s()),2&G){const z=O.XpG(3);O.R7$(),O.Y8G("ngIf",z.objects.length*z.incrementBy<z.total),O.R7$(),O.Y8G("ngIf",z.objects.length>1)}}function U(G,q){if(1&G&&(O.qex(0),O.DNE(1,M,1,1,"ds-metadata-representation-loader",3)(2,L,2,3,"ds-loading",4)(3,W,3,2,"div",5),O.bVm()),2&G){const z=q.ngVar,te=O.XpG().index,Z=O.XpG();O.R7$(),O.Y8G("ngForOf",z),O.R7$(),O.Y8G("ngIf",te+1===Z.objects.length&&te>0&&(!z||0===(null==z?null:z.length))),O.R7$(),O.Y8G("ngIf",te+1===Z.objects.length&&(null==z?null:z.length)>0)}}function K(G,q){if(1&G&&(O.qex(0),O.DNE(1,U,4,3,"ng-container",2),O.nI1(2,"async"),O.bVm()),2&G){const z=q.$implicit;O.R7$(),O.Y8G("ngVar",O.bMT(2,1,z))}}let Y=(()=>{class G extends x.e{constructor(z,te,Z){super(),this.relationshipService=z,this.browseDefinitionDataService=te,this.metadataService=Z,this.incrementBy=10}getPage(z){const te=this.parentItem.findMetadataSortedByPlace(this.metadataFields);return this.total=te.length,this.resolveMetadataRepresentations(te,z)}resolveMetadataRepresentations(z,te){return(0,u.y)(...z.slice(this.objects.length*this.incrementBy,this.objects.length*this.incrementBy+this.incrementBy).map(Z=>Object.assign(new _.vD,Z)).map(Z=>{if(this.metadataService.isVirtual(Z))return this.relationshipService.resolveMetadataRepresentation(Z,this.parentItem,this.itemType);{let J=[];return this.metadataFields.forEach(Q=>{J=J.concat(h.q.toSearchKeyArray(Q))}),this.browseDefinitionDataService.findByFields(this.metadataFields).pipe((0,I.qD)(),(0,e.T)(Q=>Object.assign(new C.Q(this.itemType,Q.payload),Z)))}}))}static{this.\u0275fac=function(te){return new(te||G)(O.rXU(f.RelationshipDataService),O.rXU(m.BrowseDefinitionDataService),O.rXU(v.T))}}static{this.\u0275cmp=O.VBU({type:G,selectors:[["ds-base-metadata-representation-list"]],inputs:{parentItem:"parentItem",itemType:"itemType",metadataFields:"metadataFields",label:"label",incrementBy:"incrementBy"},standalone:!0,features:[O.Vt3,O.aNF],decls:2,vars:2,consts:[[3,"label"],[4,"ngFor","ngForOf"],[4,"ngVar"],[3,"mdRepresentation",4,"ngFor","ngForOf"],[3,"message",4,"ngIf"],["class","d-inline-block w-100 mt-2",4,"ngIf"],[3,"mdRepresentation"],[3,"message"],[1,"d-inline-block","w-100","mt-2"],["class","float-start",4,"ngIf"],["class","float-end",4,"ngIf"],[1,"float-start"],[1,"btn","btn-link","btn-link-inline",3,"click"],[1,"float-end"]],template:function(te,Z){1&te&&(O.j41(0,"ds-metadata-field-wrapper",0),O.DNE(1,K,3,3,"ng-container",1),O.k0s()),2&te&&(O.Y8G("label",Z.label),O.R7$(),O.Y8G("ngForOf",Z.objects))},dependencies:[T.Q,i.pM,p.r,A.V,i.bT,R.v,i.Jj,t.h,t.D9],encapsulation:2})}}return G})()},13955:(F,D,n)=>{"use strict";n.d(D,{U$:()=>L,EN:()=>M});var i=n(54438),t=n(84572),u=n(61594),e=n(96354),h=n(82640),m=n(1321),f=n(72734),v=n(6238),E=n(32473),_=n(22978),C=n(46265),I=n(56760),R=n(26292),T=n(4910),A=n(39012),p=n(23401),x=function(B){return B.Workspace="workspace",B.SupervisedItems="supervisedWorkspace",B.Workflow="workflow",B}(x||{}),O=n(7901);const w=new Map([[x.Workspace,R.o.Workspace],[x.SupervisedItems,R.o.SupervisedItems],[x.Workflow,R.o.Workflow]]),M=new i.nKC("searchConfigurationService");let L=(()=>{class B extends A.g{constructor(W,U,K,Y,G,q,z,te,Z){super(U,K,Y,G,q,z,te,Z),this.roleService=W,this.routeService=U,this.paginationService=K,this.route=Y,this.linkService=G,this.halService=q,this.requestService=z,this.rdb=te,this.appConfig=Z,this.defaultPagination=Object.assign(new p.W,{id:"mydspace-page",pageSize:10,currentPage:1}),this.defaultSort=new v.z("dc.date.issued",v.U.DESC),this.defaultConfiguration="workspace",this.defaultScope="",this.defaultQuery="",this._defaults=null,this.initDefaults(),this.isSubmitter$=this.roleService.isSubmitter(),this.isController$=this.roleService.isController(),this.isAdmin$=this.roleService.isAdmin()}getAvailableConfigurationTypes(){return(0,t.z)(this.isSubmitter$,this.isController$,this.isAdmin$).pipe((0,u.$)(),(0,e.T)(([W,U,K])=>{const Y=[];return W&&Y.push(x.Workspace),(U||K)&&(Y.push(x.SupervisedItems),Y.push(x.Workflow)),Y}))}getAvailableConfigurationOptions(){return this.getAvailableConfigurationTypes().pipe((0,u.$)(),(0,e.T)(W=>{const U=[];return W.forEach(K=>{const Y=K,G=`mydspace.show.${Y}`,q=w.get(K);U.push({value:Y,label:G,context:q})}),U}))}static{this.\u0275fac=function(U){return new(U||B)(i.KVO(C.W),i.KVO(I.v$),i.KVO(_.m),i.KVO(O.nX),i.KVO(m._),i.KVO(T.Y),i.KVO(E.B),i.KVO(f.o),i.KVO(h.vQ))}}static{this.\u0275prov=i.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}}return B})()},54880:(F,D,n)=>{"use strict";n.d(D,{o:()=>Z});var i=n(60177),t=n(54438),u=n(61594),e=n(67116),h=n(4910),m=n(82777),f=n(39806),v=n(43095),E=n(32979),_=n(41780),C=n(90934),I=n(58003);let R=(()=>{class J{constructor(ee){this.activeModal=ee}selectObject(ee){this.activeModal.close(ee.collection)}close(){this.activeModal.close()}static{this.\u0275fac=function(le){return new(le||J)(t.rXU(I.Lw))}}static{this.\u0275cmp=t.VBU({type:J,selectors:[["ds-collection-selector"]],standalone:!0,features:[t.aNF],decls:7,vars:3,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"selectionChange"]],template:function(le,ne){1&le&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return ne.close()}),t.k0s()(),t.j41(5,"div",2)(6,"ds-collection-dropdown",3),t.bIt("selectionChange",function(se){return ne.selectObject(se)}),t.k0s()()()),2&le&&(t.R7$(2),t.SpI("",t.bMT(3,1,"dso-selector.create.submission.head")," "))},dependencies:[C.m,_.h,_.D9]})}}return J})();var T=n(84412),A=n(7673),p=n(73028),x=n(96697),O=n(96354),w=n(30077),M=n(60456),L=n(53948),B=n(75465),k=n(7901);function W(J,Q){if(1&J){const ee=t.RV6();t.j41(0,"div",2)(1,"button",3),t.nI1(2,"translate"),t.nI1(3,"async"),t.nI1(4,"translate"),t.bIt("click",function(){t.eBV(ee);const ne=t.XpG();return t.Njj(ne.openPage(ne.singleEntity))}),t.nrm(5,"i",4),t.k0s()()}if(2&J){const ee=t.XpG();t.R7$(),t.FS9("title",t.bMT(2,3,"mydspace.new-submission-external")),t.Y8G("dsBtnDisabled",!0!==t.bMT(3,5,ee.initialized$)),t.BMQ("aria-label",t.bMT(4,7,"mydspace.new-submission-external"))}}function U(J,Q){if(1&J){const ee=t.RV6();t.j41(0,"div",5)(1,"button",6),t.nI1(2,"translate"),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"dsBrowserOnly"),t.nrm(6,"i",4)(7,"span",7),t.k0s(),t.j41(8,"div",8)(9,"ds-entity-dropdown",9),t.bIt("selectionChange",function(ne){t.eBV(ee);const fe=t.XpG();return t.Njj(fe.openPage(ne))}),t.k0s()()()}if(2&J){const ee=t.XpG();t.R7$(),t.FS9("title",t.bMT(2,5,"mydspace.new-submission-external")),t.Y8G("dsBtnDisabled",!0!==t.bMT(3,7,ee.initialized$)),t.BMQ("aria-label",t.bMT(4,9,"mydspace.new-submission-external"))("data-test",t.bMT(5,11,"import-dropdown")),t.R7$(8),t.Y8G("isSubmission",!1)}}let K=(()=>{class J{constructor(ee,le){this.entityTypeService=ee,this.router=le,this.initialized$=new T.t(!1),this.subs=[]}ngOnInit(){this.moreThanOne$=this.entityTypeService.hasMoreThanOneAuthorizedImport(),this.singleEntity$=this.moreThanOne$.pipe((0,p.Z)(ee=>ee?(this.initialized$.next(!0),(0,A.of)(null)):this.entityTypeService.getAllAuthorizedRelationshipTypeImport({elementsPerPage:1,currentPage:1}).pipe((0,x.s)(1),(0,O.T)(ne=>(this.initialized$.next(!0),ne?.payload?.page[0])))),(0,x.s)(1)),this.subs.push(this.singleEntity$.subscribe(ee=>{this.singleEntity=ee}))}openPage(ee){const le=Object.create({});ee&&(le.entity=ee.label),this.router.navigate(["/import-external"],{queryParams:le})}ngOnDestroy(){this.subs.filter(ee=>(0,m.a4)(ee)).forEach(ee=>ee.unsubscribe())}static{this.\u0275fac=function(le){return new(le||J)(t.rXU(w.f),t.rXU(k.Ix))}}static{this.\u0275cmp=t.VBU({type:J,selectors:[["ds-my-dspace-new-external-dropdown"]],standalone:!0,features:[t.aNF],decls:4,vars:6,consts:[["class","add",4,"ngIf"],["class","add w-100","display","dynamic","placement","bottom-right","ngbDropdown","",4,"ngIf"],[1,"add"],["role","button",1,"btn","btn-lg","btn-outline-primary","mt-1","ms-2",3,"click","dsBtnDisabled","title"],["aria-hidden","true",1,"fa","fa-file-import"],["display","dynamic","placement","bottom-right","ngbDropdown","",1,"add","w-100"],["id","dropdownImport","ngbDropdownToggle","","type","button",1,"btn","btn-lg","btn-outline-primary","mt-1","ms-2",3,"dsBtnDisabled","title"],["aria-hidden","true",1,"caret"],["ngbDropdownMenu","","id","importControlsDropdownMenu","aria-labelledby","dropdownImport",1,"dropdown-menu","p-0"],[3,"selectionChange","isSubmission"]],template:function(le,ne){1&le&&(t.DNE(0,W,6,9,"div",0),t.nI1(1,"async"),t.DNE(2,U,10,13,"div",1),t.nI1(3,"async")),2&le&&(t.Y8G("ngIf",!0!==t.bMT(1,2,ne.moreThanOne$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,ne.moreThanOne$)))},dependencies:[L.Y,I.zH,I.tg,I.do,I.U0,i.Jj,_.h,_.D9,B.L,i.bT,M.A],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}#importControlsDropdownMenu[_ngcontent-%COMP%]{min-width:18rem;box-shadow:0 0 0 .25rem #2b4e7240}"]})}}return J})();var Y=n(52798);function G(J,Q){if(1&J){const ee=t.RV6();t.j41(0,"div",2)(1,"button",3),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("click",function(){t.eBV(ee);const ne=t.XpG();return t.Njj(ne.openDialog(ne.singleEntity))}),t.nrm(4,"i",4),t.k0s()()}if(2&J){const ee=t.XpG();t.R7$(),t.Y8G("dsBtnDisabled",!0!==t.bMT(2,2,ee.initialized$)),t.BMQ("aria-label",t.bMT(3,4,"mydspace.new-submission"))}}function q(J,Q){if(1&J){const ee=t.RV6();t.j41(0,"div",5)(1,"button",6),t.nI1(2,"translate"),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"dsBrowserOnly"),t.nrm(6,"i",4)(7,"span",7),t.k0s(),t.j41(8,"div",8)(9,"ds-entity-dropdown",9),t.bIt("selectionChange",function(ne){t.eBV(ee);const fe=t.XpG();return t.Njj(fe.openDialog(ne))}),t.k0s()()()}if(2&J){const ee=t.XpG();t.R7$(),t.FS9("title",t.bMT(2,5,"mydspace.new-submission")),t.Y8G("dsBtnDisabled",!0!==t.bMT(3,7,ee.initialized$)),t.BMQ("aria-label",t.bMT(4,9,"mydspace.new-submission"))("data-test",t.bMT(5,11,"submission-dropdown")),t.R7$(8),t.Y8G("isSubmission",!0)}}let z=(()=>{class J{constructor(ee,le){this.entityTypeService=ee,this.modalService=le,this.subs=[]}ngOnInit(){this.initialized$=(0,A.of)(!1),this.moreThanOne$=this.entityTypeService.hasMoreThanOneAuthorized(),this.singleEntity$=this.moreThanOne$.pipe((0,p.Z)(ee=>ee?(this.initialized$=(0,A.of)(!0),(0,A.of)(null)):this.entityTypeService.getAllAuthorizedRelationshipType({elementsPerPage:1,currentPage:1}).pipe((0,O.T)(ne=>(this.initialized$=(0,A.of)(!0),ne.payload.page[0])),(0,x.s)(1))),(0,x.s)(1)),this.subs.push(this.singleEntity$.subscribe(ee=>this.singleEntity=ee))}openDialog(ee){this.modalService.open(Y.L).componentInstance.entityType=ee.label}ngOnDestroy(){this.subs.filter(ee=>(0,m.a4)(ee)).forEach(ee=>ee.unsubscribe())}static{this.\u0275fac=function(le){return new(le||J)(t.rXU(w.f),t.rXU(I.Bq))}}static{this.\u0275cmp=t.VBU({type:J,selectors:[["ds-my-dspace-new-submission-dropdown"]],standalone:!0,features:[t.aNF],decls:4,vars:6,consts:[["class","add",4,"ngIf"],["class","add w-100","display","dynamic","placement","bottom-right","ngbDropdown","",4,"ngIf"],[1,"add"],["role","button",1,"btn","btn-lg","btn-primary","mt-1","ms-2",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fa","fa-plus-circle"],["display","dynamic","placement","bottom-right","ngbDropdown","",1,"add","w-100"],["id","dropdownSubmission","ngbDropdownToggle","","type","button",1,"btn","btn-lg","btn-primary","mt-1","ms-2",3,"dsBtnDisabled","title"],["aria-hidden","true",1,"caret"],["ngbDropdownMenu","","id","entityControlsDropdownMenu","aria-labelledby","dropdownSubmission",1,"dropdown-menu","p-0"],[3,"selectionChange","isSubmission"]],template:function(le,ne){1&le&&(t.DNE(0,G,5,6,"div",0),t.nI1(1,"async"),t.DNE(2,q,10,13,"div",1),t.nI1(3,"async")),2&le&&(t.Y8G("ngIf",!0!==t.bMT(1,2,ne.moreThanOne$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,ne.moreThanOne$)))},dependencies:[L.Y,I.zH,I.tg,I.do,I.U0,i.Jj,_.h,_.D9,B.L,i.bT,M.A],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}#entityControlsDropdownMenu[_ngcontent-%COMP%]{min-width:18rem;box-shadow:0 0 0 .25rem #2b4e7240}"]})}}return J})();function te(J,Q){if(1&J){const ee=t.RV6();t.j41(0,"ds-uploader",4),t.bIt("onCompleteItem",function(ne){t.eBV(ee);const fe=t.XpG();return t.Njj(fe.onCompleteItem(ne))})("onUploadError",function(ne){t.eBV(ee);const fe=t.XpG();return t.Njj(fe.onUploadError(ne))})("onFileSelected",function(ne){t.eBV(ee);const fe=t.XpG();return t.Njj(fe.afterFileLoaded(ne))}),t.k0s()}if(2&J){const ee=t.XpG();t.Y8G("uploadFilesOptions",ee.uploadFilesOptions)}}let Z=(()=>{class J{constructor(ee,le,ne,fe,se,ce,De){this.authService=ee,this.changeDetectorRef=le,this.halService=ne,this.notificationsService=fe,this.translate=se,this.modalService=ce,this.router=De,this.uploadEnd=new t.bkB,this.uploadFilesOptions=new E.H}ngOnInit(){this.uploadFilesOptions.autoUpload=!1,this.sub=this.halService.getEndpoint("workspaceitems").pipe((0,u.$)()).subscribe(ee=>{this.uploadFilesOptions.url=ee,this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.changeDetectorRef.detectChanges()})}onCompleteItem(ee){if(ee&&ee._embedded&&ee._embedded.workspaceitems&&ee._embedded.workspaceitems.length>0){const le=ee._embedded.workspaceitems;this.uploadEnd.emit(le),1===le.length?this.router.navigateByUrl("/workspaceitems/"+le[0].id+"/edit"):le.length>1&&this.notificationsService.success(null,this.translate.get("mydspace.upload.upload-multiple-successful",{qty:le.length}))}else this.notificationsService.error(null,this.translate.get("mydspace.upload.upload-failed"))}onUploadError(ee){let le="mydspace.upload.upload-failed";(0,m.a4)(ee.status)&&422===ee.status&&(le="mydspace.upload.upload-failed-manyentries"),this.notificationsService.error(null,this.translate.get(le))}afterFileLoaded(ee){const le=this.uploaderComponent.uploader;(0,m.a4)(ee)&&ee.length>1?(this.notificationsService.error(null,this.translate.get("mydspace.upload.upload-failed-moreonefile")),le.clearQueue(),this.changeDetectorRef.detectChanges()):this.modalService.open(R).result.then(fe=>{le.onBuildItemForm=(se,ce)=>{ce.append("owningCollection",fe.uuid)},le.uploadAll()})}ngOnDestroy(){(0,m.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(le){return new(le||J)(t.rXU(e.uR),t.rXU(t.gRc),t.rXU(h.Y),t.rXU(f.I),t.rXU(_.c$),t.rXU(I.Bq),t.rXU(k.Ix))}}static{this.\u0275cmp=t.VBU({type:J,selectors:[["ds-my-dspace-new-submission"]],viewQuery:function(le,ne){if(1&le&&t.GBs(v.y,5),2&le){let fe;t.mGM(fe=t.lsd())&&(ne.uploaderComponent=fe.first)}},outputs:{uploadEnd:"uploadEnd"},standalone:!0,features:[t.aNF],decls:7,vars:1,consts:[[1,"parent","mb-3"],[1,"upload"],[3,"uploadFilesOptions","onCompleteItem","onUploadError","onFileSelected",4,"ngIf"],[1,"add"],[3,"onCompleteItem","onUploadError","onFileSelected","uploadFilesOptions"]],template:function(le,ne){1&le&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,te,1,1,"ds-uploader",2),t.k0s(),t.j41(3,"div",3),t.nrm(4,"ds-my-dspace-new-submission-dropdown"),t.k0s(),t.j41(5,"div",3),t.nrm(6,"ds-my-dspace-new-external-dropdown"),t.k0s()()),2&le&&(t.R7$(2),t.Y8G("ngIf",""!==ne.uploadFilesOptions.url))},dependencies:[K,z,v.y,i.bT],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}"]})}}return J})()},92157:(F,D,n)=>{"use strict";n.r(D),n.d(D,{MYDSPACE_ROUTE:()=>z,MyDSpacePageComponent:()=>te});var i=n(60177),t=n(96697),u=n(82777),e=n(1102),h=n(13808),m=n(28580),f=n(14391),v=n(49872),E=n(54438);let _=(()=>{class Z extends v.D3{parse(Q,ee){const ne=ee.payload._embedded.searchResult||{_embedded:{objects:[]}},fe=ne._embedded.objects.map(be=>be.hitHighlights).map(be=>{const me={};if(be)for(const re of Object.keys(be)){const Ee=Object.assign(new f.vD,{value:be[re].join("..."),language:null});me[re]=[Ee]}return me}),se=ne._embedded.objects.filter(be=>(0,u.a4)(be._embedded)).map(be=>be._embedded.indexableObject).map(be=>this.process(be,Q)).map(be=>be._links.self.href).reduce((be,me)=>[...be,...me],[]),ce=ne._embedded.objects.filter(be=>(0,u.a4)(be._embedded)).map((be,me)=>Object.assign({},be,{indexableObject:se[me],hitHighlights:fe[me],_embedded:this.filterEmbeddedObjects(be)}));ne.objects=ce;const De=new m.T(e.n).deserialize(ne);return De.pageInfo=this.processPageInfo(ne),this.addToObjectCache(De,Q,ee),new h.hT(ee.statusCode,De._links.self)}filterEmbeddedObjects(Q){const ee=["submitter","item","workspaceitem","workflowitem"];return Q._embedded.indexableObject&&Q._embedded.indexableObject._embedded?Object.assign({},Q._embedded,{indexableObject:Object.assign({},Q._embedded.indexableObject,{_embedded:Object.keys(Q._embedded.indexableObject._embedded).filter(le=>ee.includes(le)).reduce((le,ne)=>(le[ne]=Q._embedded.indexableObject._embedded[ne],le),{})})}):Q}static{this.\u0275fac=(()=>{let Q;return function(le){return(Q||(Q=E.xGo(Z)))(le||Z)}})()}static{this.\u0275prov=E.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}return Z})();var C=n(43052),I=n(67944),R=n(78655),T=n(78448),A=n(7724),p=n(41477),x=n(54992),O=n(13955),w=n(54880),M=n(85592),L=n(10887),B=n(21626);let k=(()=>{class Z{constructor(Q){this.http=Q,this.apiUrl=`${L.$}/server/api/filter-media`}triggerFilterMedia(){return this.http.get(this.apiUrl,{responseType:"text"})}static{this.\u0275fac=function(ee){return new(ee||Z)(E.KVO(B.Qq))}}static{this.\u0275prov=E.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}return Z})();var W=n(96354),U=n(25558);let K=(()=>{class Z{constructor(Q){this.http=Q,this.baseUrl=`${L.$}/server/api`}getLatestItems(Q=0,ee=10){return this.http.get(`${this.baseUrl}/discover/search/objects?sort=lastModified,DESC&page=${Q}&size=${ee}&configuration=workspace&embed=thumbnail&embed=item%2Fthumbnail`)}uploadTranscription(Q){return this.http.post(`${this.baseUrl}/transcription/upload/${Q}`,{})}getLatestItemAndUploadTranscription(){return this.getLatestItems().pipe((0,W.T)(Q=>{if(Q?._embedded?.searchResult?._embedded?.objects?.length>0)return Q._embedded.searchResult._embedded.objects[0]._embedded.indexableObject.uuid;throw new Error("No items found")}),(0,U.n)(Q=>this.uploadTranscription(Q)))}static{this.\u0275fac=function(ee){return new(ee||Z)(E.KVO(B.Qq))}}static{this.\u0275prov=E.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}return Z})();const Y=Z=>[Z];function G(Z,J){1&Z&&E.nrm(0,"ds-my-dspace-new-submission")}function q(Z,J){if(1&Z&&(E.nrm(0,"ds-search",3),E.nI1(1,"async")),2&Z){const Q=E.XpG();E.Y8G("configuration",Q.configuration)("configurationList",E.bMT(1,4,Q.configurationList$))("context",Q.context)("viewModeList",Q.viewModeList)}}const z="/mydspace";let te=(()=>{class Z{constructor(Q,ee,le,ne){this.service=Q,this.searchConfigService=ee,this.filterMediaService=le,this.itemTranscriptionService=ne,this.roleTypeEnum=I.T,this.viewModeList=[T.n.ListElement,T.n.DetailedListElement],this.service.setServiceOptions(_,C.WP)}ngOnInit(){this.configurationList$=this.searchConfigService.getAvailableConfigurationOptions(),this.configurationList$.pipe((0,t.s)(1)).subscribe(Q=>{this.configuration=Q[0].value,this.context=Q[0].context}),this.filterMediaService.triggerFilterMedia().subscribe({next:Q=>console.log("Filter Media API response:",Q),error:Q=>console.error("Filter Media API error:",Q)}),this.itemTranscriptionService.getLatestItemAndUploadTranscription().subscribe({next:Q=>console.log("Transcription upload response:",Q),error:Q=>console.error("Transcription upload error:",Q)}),console.log("MyDSpacePageComponent initialized")}static{this.\u0275fac=function(ee){return new(ee||Z)(E.rXU(R.S),E.rXU(O.EN),E.rXU(k),E.rXU(K))}}static{this.\u0275cmp=E.VBU({type:Z,selectors:[["ds-base-my-dspace-page"]],standalone:!0,features:[E.Jv_([{provide:O.EN,useClass:O.U$}]),E.aNF],decls:5,vars:4,consts:[[1,"container"],[4,"dsShowOnlyForRole"],[3,"configuration","configurationList","context","viewModeList",4,"ngIf"],[3,"configuration","configurationList","context","viewModeList"]],template:function(ee,le){1&ee&&(E.j41(0,"div",0),E.nrm(1,"ds-suggestions-notification")(2,"ds-my-dspace-qa-events-notifications"),E.DNE(3,G,1,0,"ds-my-dspace-new-submission",1),E.k0s(),E.DNE(4,q,2,6,"ds-search",2)),2&ee&&(E.R7$(3),E.Y8G("dsShowOnlyForRole",E.eq3(2,Y,le.roleTypeEnum.Submitter)),E.R7$(),E.Y8G("ngIf",le.configuration&&le.context))},dependencies:[x.N,w.o,i.Jj,p.q,i.bT,A.w,M.P],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}[_nghost-%COMP%]{--bs-gutter-x: .75rem}  .search-controls{margin-bottom:var(--bs-spacer)}"],changeDetection:0})}}return Z})()},85592:(F,D,n)=>{"use strict";n.d(D,{P:()=>p});var i=n(60177),t=n(7901),u=n(41780),e=n(7673),h=n(88141),m=n(47483),f=n(61723),v=n(80183),E=n(54438);const _=x=>({num:x}),C=(x,O)=>[x,O],I=()=>({forward:!0});function R(x,O){if(1&x&&(E.j41(0,"div",3)(1,"div",4),E.nrm(2,"img",5),E.k0s(),E.j41(3,"div",6)(4,"div",7),E.EFF(5),E.nI1(6,"translate"),E.k0s(),E.j41(7,"button",8),E.EFF(8),E.nI1(9,"translate"),E.k0s()()()),2&x){const w=E.XpG().$implicit,M=E.XpG(2);E.R7$(2),E.Mz_("src","assets/images/qa-",w.id,"-logo.png",E.B4B),E.Mz_("alt","",w.id," logo"),E.R7$(3),E.SpI(" ",E.i5U(6,8,"mydspace.qa-event-notification.check.notification-info",E.eq3(13,_,w.totalEvents))," "),E.R7$(2),E.Y8G("routerLink",E.l_i(15,C,M.getQualityAssuranceRoute(),w.id))("queryParams",E.lJ4(18,I)),E.R7$(),E.SpI(" ",E.bMT(9,11,"mydspace.qa-event-notification-info.check.button")," ")}}function T(x,O){if(1&x&&(E.qex(0),E.DNE(1,R,10,19,"div",2),E.bVm()),2&x){const w=O.$implicit;E.R7$(),E.Y8G("ngIf",w.totalEvents>0)}}function A(x,O){if(1&x&&(E.qex(0),E.DNE(1,T,2,1,"ng-container",1),E.nI1(2,"async"),E.bVm()),2&x){const w=E.XpG();E.R7$(),E.Y8G("ngForOf",E.bMT(2,1,w.sources$))}}let p=(()=>{class x{constructor(w){this.qualityAssuranceSourceDataService=w,this.sources$=(0,e.of)([])}ngOnInit(){this.getSources()}getSources(){this.sources$=this.qualityAssuranceSourceDataService.getSources().pipe((0,v.qD)(),(0,h.M)(w=>{if(w.hasFailed)throw new Error("Can't retrieve Quality Assurance sources")}),(0,v.Bo)(),(0,v.W8)())}getQualityAssuranceRoute(){return(0,m.b7)()}static{this.\u0275fac=function(M){return new(M||x)(E.rXU(f.QualityAssuranceSourceDataService))}}static{this.\u0275cmp=E.VBU({type:x,selectors:[["ds-my-dspace-qa-events-notifications"]],standalone:!0,features:[E.aNF],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["class","alert alert-info d-flex flex-row",4,"ngIf"],[1,"alert","alert-info","d-flex","flex-row"],[1,"source-logo-container"],["onerror","this.src='assets/images/dspace-logo.svg'",1,"source-logo",3,"src","alt"],[1,"w-100","d-flex","justify-content-between"],[1,"ps-4","align-self-center"],[1,"btn","btn-primary","align-self-center",3,"routerLink","queryParams"]],template:function(M,L){if(1&M&&(E.DNE(0,A,3,3,"ng-container",0),E.nI1(1,"async")),2&M){let B;E.Y8G("ngIf",(null==(B=E.bMT(1,1,L.sources$))?null:B.length)>0)}},dependencies:[i.Jj,i.Sq,u.h,u.D9,t.Wk,i.bT],styles:[".source-logo[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height);max-width:100%;margin:auto}.source-logo-container[_ngcontent-%COMP%]{width:var(--ds-qa-logo-width);display:flex;justify-content:center}.sections-gap[_ngcontent-%COMP%]{gap:1rem}"],changeDetection:0})}}return x})()},58499:(F,D,n)=>{"use strict";n.r(D),n.d(D,{ExpandableNavbarSectionComponent:()=>A});var i=n(60177),t=n(7901),u=n(61594),e=n(621),h=n(57538),m=n(39548),f=n(19340),v=n(79803),E=n(26821),_=n(54438);function C(p,x){1&p&&_.eu8(0)}function I(p,x){1&p&&_.eu8(0)}function R(p,x){if(1&p&&(_.j41(0,"div",9),_.DNE(1,I,1,0,"ng-container",3),_.nI1(2,"async"),_.nI1(3,"async"),_.k0s()),2&p){const O=x.$implicit,w=_.XpG(2);_.R7$(),_.Y8G("ngComponentOutlet",_.bMT(2,2,w.sectionMap$).get(O.id).component)("ngComponentOutletInjector",_.bMT(3,4,w.sectionMap$).get(O.id).injector)}}function T(p,x){if(1&p){const O=_.RV6();_.j41(0,"div",6),_.bIt("click",function(M){_.eBV(O);const L=_.XpG();return _.Njj(L.deactivateSection(M))})("dsHoverOutside",function(M){_.eBV(O);const L=_.XpG();return _.Njj(L.deactivateSection(M,!1))}),_.j41(1,"div",7),_.DNE(2,R,4,6,"div",8),_.nI1(3,"async"),_.k0s()()}if(2&p){const O=_.XpG();_.Y8G("id",O.expandableNavbarSectionId())("dsHoverOutsideOfParentSelector","#expandable-navbar-section-"+O.section.id),_.R7$(),_.Y8G("@slide",void 0),_.R7$(),_.Y8G("ngForOf",_.bMT(3,4,O.subSections$))}}let A=(()=>{class p extends E.X{onResize(){this.isMobile$.pipe((0,u.$)()).subscribe(O=>{O!==this.wasMobile&&(this.wasMobile=O,this.menuService.deactivateSection(this.menuID,this.section.id),this.mouseEntered=!1)})}constructor(O,w,M,L){super(O,w,M),this.section=O,this.menuService=w,this.injector=M,this.windowService=L,this.menuID=f.D.PUBLIC,this.mouseEntered=!1,this.focusOnFirstChildSection=!1,this.wasMobile=void 0,this.addArrowEventListeners=!1,this.isMobile$=this.windowService.isMobile()}ngOnInit(){super.ngOnInit(),this.subs.push(this.active$.subscribe(O=>{!0===O?this.addArrowEventListeners=!0:(this.focusOnFirstChildSection=void 0,this.unsubscribeFromEventListeners())}))}ngAfterViewChecked(){this.addArrowEventListeners&&(this.dropdownItems=document.querySelectorAll(`#${this.expandableNavbarSectionId()} *[role="menuitem"]`),this.dropdownItems.forEach(O=>{O.addEventListener("keydown",this.navigateDropdown.bind(this))}),this.focusOnFirstChildSection&&this.dropdownItems.length>0&&this.dropdownItems.item(0).focus(),this.addArrowEventListeners=!1)}ngOnDestroy(){super.ngOnDestroy(),this.unsubscribeFromEventListeners()}toggleSection(O){this.focusOnFirstChildSection="click"!==O.type,super.toggleSection(O)}unsubscribeFromEventListeners(){this.dropdownItems&&(this.dropdownItems.forEach(O=>{O.removeEventListener("keydown",this.navigateDropdown.bind(this))}),this.dropdownItems=void 0)}onMouseEnter(O){this.isMobile$.pipe((0,u.$)()).subscribe(w=>{!w&&!this.active$.value&&!this.mouseEntered&&this.activateSection(O),this.mouseEntered=!0})}onMouseLeave(O){this.isMobile$.pipe((0,u.$)()).subscribe(w=>{!w&&this.active$.value&&this.mouseEntered&&this.deactivateSection(O),this.mouseEntered=!1})}expandableNavbarSectionId(){return`expandable-navbar-section-${this.section.id}-dropdown`}navigateDropdown(O){if("Tab"===O.code)return void this.deactivateSection(O,!1);if("Escape"===O.code)return this.deactivateSection(O,!1),void document.querySelector(`a[aria-controls="${this.expandableNavbarSectionId()}"]`)?.focus();O.preventDefault(),O.stopPropagation();const w=document.querySelectorAll(`#${this.expandableNavbarSectionId()} *[role="menuitem"]`);if(0===w.length)return;const M=Array.from(w).findIndex(L=>L===O.target);"ArrowDown"===O.key?w[(M+1)%w.length].focus():"ArrowUp"===O.key&&w[(M-1+w.length)%w.length].focus()}keyDown(O){switch(O.code){case"Tab":this.deactivateSection(O,!1);break;case"ArrowDown":this.focusOnFirstChildSection=!0,this.activateSection(O);break;case"Space":case"Enter":O.preventDefault()}}static{this.\u0275fac=function(w){return new(w||p)(_.rXU("sectionDataProvider"),_.rXU(m.$),_.rXU(_.zZn),_.rXU(h.CV))}}static{this.\u0275cmp=_.VBU({type:p,selectors:[["ds-base-expandable-navbar-section"]],hostBindings:function(w,M){1&w&&_.bIt("resize",function(B){return M.onResize(B)},!1,_.tSv)},standalone:!0,features:[_.Vt3,_.aNF],decls:10,vars:16,consts:[["data-test","navbar-section-wrapper",1,"ds-menu-item-wrapper","text-md-center",3,"mouseenter","mouseleave","id"],["href","javascript:void(0);","routerLinkActive","active","role","menuitem","aria-haspopup","menu","data-test","navbar-section-toggler",1,"d-flex","flex-row","flex-nowrap","align-items-center","gapx-1","ds-menu-toggler-wrapper",3,"keyup.enter","keyup.space","click","keydown"],[1,"flex-fill"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["aria-hidden","true",1,"fas","fa-caret-down","fa-xs","toggle-menu-icon"],["role","menu","class","dropdown-menu show nav-dropdown-menu m-0 shadow-none border-top-0 px-3 px-md-0 pt-0 pt-md-1",3,"id","dsHoverOutsideOfParentSelector","click","dsHoverOutside",4,"ngIf"],["role","menu",1,"dropdown-menu","show","nav-dropdown-menu","m-0","shadow-none","border-top-0","px-3","px-md-0","pt-0","pt-md-1",3,"click","dsHoverOutside","id","dsHoverOutsideOfParentSelector"],["role","presentation"],["class","text-nowrap","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"text-nowrap"]],template:function(w,M){1&w&&(_.j41(0,"div",0),_.bIt("mouseenter",function(B){return M.onMouseEnter(B)})("mouseleave",function(B){return M.onMouseLeave(B)}),_.j41(1,"a",1),_.nI1(2,"async"),_.bIt("keyup.enter",function(B){return M.toggleSection(B)})("keyup.space",function(B){return M.toggleSection(B)})("click",function(B){return M.toggleSection(B)})("keydown",function(B){return M.keyDown(B)}),_.j41(3,"span",2),_.DNE(4,C,1,0,"ng-container",3),_.nI1(5,"async"),_.nI1(6,"async"),_.k0s(),_.nrm(7,"i",4),_.k0s(),_.DNE(8,T,4,6,"div",5),_.nI1(9,"async"),_.k0s()),2&w&&(_.Y8G("id","expandable-navbar-section-"+M.section.id),_.R7$(),_.AVh("disabled",null==M.section.model?null:M.section.model.disabled),_.BMQ("aria-expanded",_.bMT(2,8,M.active$).valueOf())("aria-controls",M.expandableNavbarSectionId()),_.R7$(3),_.Y8G("ngComponentOutlet",_.bMT(5,10,M.sectionMap$).get(M.section.id).component)("ngComponentOutletInjector",_.bMT(6,12,M.sectionMap$).get(M.section.id).injector),_.R7$(4),_.Y8G("ngIf",!0===_.bMT(9,14,M.active$).valueOf()))},dependencies:[i.Jj,v.l,i.OI,i.pM,i.bT,t.wQ],styles:["[_nghost-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{overflow:hidden;min-width:100%;top:100%;border:0;background-color:var(--ds-expandable-navbar-bg)}@media (min-width: 768px){[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0;background-color:var(--ds-navbar-dropdown-bg)}}[_nghost-%COMP%]   .toggle-menu-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .toggle-menu-icon[_ngcontent-%COMP%]:hover{text-decoration:none}"],data:{animation:[e.M6]}})}}return p})()},26821:(F,D,n)=>{"use strict";n.d(D,{X:()=>f});var i=n(60177),t=n(39548),u=n(19340),e=n(6446),h=n(54438);function m(v,E){1&v&&h.eu8(0)}let f=(()=>{class v extends e.a{constructor(_,C,I){super(_,C,I),this.menuService=C,this.injector=I,this.menuID=u.D.PUBLIC}ngOnInit(){super.ngOnInit()}static{this.\u0275fac=function(C){return new(C||v)(h.rXU("sectionDataProvider"),h.rXU(t.$),h.rXU(h.zZn))}}static{this.\u0275cmp=h.VBU({type:v,selectors:[["ds-navbar-section"]],standalone:!0,features:[h.Vt3,h.aNF],decls:4,vars:7,consts:[[1,"ds-menu-item-wrapper","text-md-center",3,"id"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(C,I){1&C&&(h.j41(0,"div",0),h.DNE(1,m,1,0,"ng-container",1),h.nI1(2,"async"),h.nI1(3,"async"),h.k0s()),2&C&&(h.Y8G("id","navbar-section-"+I.section.id),h.R7$(),h.Y8G("ngComponentOutlet",h.bMT(2,3,I.sectionMap$).get(I.section.id).component)("ngComponentOutletInjector",h.bMT(3,5,I.sectionMap$).get(I.section.id).injector))},dependencies:[i.OI,i.Jj]})}}return v})()},67454:(F,D,n)=>{"use strict";n.r(D),n.d(D,{NavbarComponent:()=>L});var i=n(60177),t=n(58003),u=n(25499),e=n(41780),h=n(38169),m=n(37864),f=n(65007),v=n(621),E=n(28619),_=n(57538),C=n(30458),I=n(39548),R=n(19340),T=n(82522),A=n(54438),p=n(7901);const x=B=>({open:B});function O(B,k){1&B&&(A.qex(0),A.nrm(1,"ds-user-menu",7),A.bVm()),2&B&&(A.R7$(),A.Y8G("inExpandableNavbar",!0))}function w(B,k){1&B&&A.eu8(0)}function M(B,k){if(1&B&&(A.qex(0),A.DNE(1,w,1,0,"ng-container",8),A.nI1(2,"async"),A.nI1(3,"async"),A.bVm()),2&B){let W,U;const K=k.$implicit,Y=A.XpG();A.R7$(),A.Y8G("ngComponentOutlet",null==(W=A.bMT(2,2,Y.sectionMap$).get(K.id))?null:W.component)("ngComponentOutletInjector",null==(U=A.bMT(3,4,Y.sectionMap$).get(K.id))?null:U.injector)}}let L=(()=>{class B extends C.Z{constructor(W,U,K,Y,G,q,z,te){super(W,U,G,q,z),this.menuService=W,this.injector=U,this.windowService=K,this.browseService=Y,this.authorizationService=G,this.route=q,this.themeService=z,this.store=te,this.menuID=R.D.PUBLIC,this.maxMobileWidth=_.tP.SM}ngOnInit(){super.ngOnInit(),this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth),this.isAuthenticated$=this.store.pipe((0,u.Lt)(h.wR))}static{this.\u0275fac=function(U){return new(U||B)(A.rXU(I.$),A.rXU(A.zZn),A.rXU(_.CV),A.rXU(m.q),A.rXU(f.AuthorizationDataService),A.rXU(p.nX),A.rXU(T.Fs),A.rXU(u.il))}}static{this.\u0275cmp=A.VBU({type:B,selectors:[["ds-base-navbar"]],standalone:!0,features:[A.Vt3,A.aNF],decls:15,vars:25,consts:[["role","navigation","id","main-navbar",1,"navbar","navbar-light","navbar-expand-md","px-md-0","navbar-container",3,"ngClass"],[1,"navbar-inner-container","w-100"],[1,"w-100"],["id","collapsingNav"],[4,"ngIf"],[1,"navbar-nav","align-items-md-center","me-auto","shadow-none","gapx-3"],[4,"ngFor","ngForOf"],[3,"inExpandableNavbar"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(U,K){1&U&&(A.j41(0,"nav",0),A.nI1(1,"async"),A.nI1(2,"async"),A.nI1(3,"async"),A.nI1(4,"translate"),A.j41(5,"div",1),A.nI1(6,"async"),A.j41(7,"div",2)(8,"div",3),A.DNE(9,O,2,1,"ng-container",4),A.nI1(10,"async"),A.nI1(11,"async"),A.j41(12,"div",5),A.DNE(13,M,4,6,"ng-container",6),A.nI1(14,"async"),A.k0s()()()()()),2&U&&(A.Y8G("ngClass",A.eq3(23,x,!0!==A.bMT(1,7,K.menuCollapsed)))("@slideMobileNav",!0!==A.bMT(2,9,K.windowService.isXsOrSm())?"default":A.bMT(3,11,K.menuCollapsed)?"collapsed":"expanded"),A.BMQ("aria-label",A.bMT(4,13,"nav.main.description")),A.R7$(5),A.AVh("container",!0!==A.bMT(6,15,K.isMobile$)),A.R7$(4),A.Y8G("ngIf",A.bMT(10,17,K.isMobile$)&&A.bMT(11,19,K.isAuthenticated$)),A.R7$(4),A.Y8G("ngForOf",A.bMT(14,21,K.sections)))},dependencies:[t.zH,t.QE,i.YU,i.bT,E.r,i.pM,i.OI,i.Jj,e.h,e.D9],styles:["[_nghost-%COMP%]{--ds-expandable-navbar-height: auto}[_nghost-%COMP%]   nav.navbar[_ngcontent-%COMP%]{background-color:var(--ds-navbar-bg);align-items:baseline;padding:0}@media screen and (max-width: 767.98px){[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{width:100vw;background-color:var(--bs-white);position:absolute;overflow:hidden;height:0;z-index:var(--ds-nav-z-index)}[_nghost-%COMP%]   .navbar.open[_ngcontent-%COMP%]{height:auto;min-height:100vh;border-bottom:1px var(--ds-header-navbar-border-bottom-color) solid}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .reset-padding-md[_ngcontent-%COMP%]{margin-left:calc(var(--bs-spacer) / -1);margin-right:calc(var(--bs-spacer) / -1)}}@media screen and (max-width: 767.98px){[_nghost-%COMP%]   .navbar-expand-md.navbar-container[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .navbar-expand-md.navbar-container[_ngcontent-%COMP%] > .navbar-inner-container[_ngcontent-%COMP%]{padding:0 var(--bs-spacer)}}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item, [_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-toggler-wrapper{white-space:nowrap;text-decoration:none}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .dropdown-menu{padding:.5rem!important}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item{display:block;color:var(--ds-navbar-link-color);padding:.5rem 0}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item:hover, [_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item:focus{color:var(--ds-navbar-link-color-hover)}"],data:{animation:[v.p8]}})}}return B})()},77632:(F,D,n)=>{"use strict";n.d(D,{D:()=>m});var i=n(8886),u=(n(67454),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"NavbarComponent"}importThemedComponent(E){return n(19318)(`./${E}/app/navbar/navbar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,67454))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-navbar"]],standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},38571:(F,D,n)=>{"use strict";n.d(D,{W:()=>I,I:()=>R});var i=n(25499),t=n(74566);const u={source:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0};var h=n(79984);const m={topics:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0};var v=n(54503);const E={targets:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0},_={sources:{},currentUserTargets:null,currentUserTargetsVisited:!1},I={qaTopic:function f(T=m,A){switch(A.type){case h.py.RETRIEVE_ALL_TOPICS:return Object.assign({},T,{topics:[],processing:!0});case h.py.ADD_TOPICS:return Object.assign({},T,{topics:A.payload.topics,processing:!1,loaded:!0,totalPages:A.payload.totalPages,currentPage:T.currentPage,totalElements:A.payload.totalElements});case h.py.RETRIEVE_ALL_TOPICS_ERROR:return Object.assign({},T,{processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});default:return T}},qaSource:function e(T=u,A){switch(A.type){case t.xq.RETRIEVE_ALL_SOURCE:return Object.assign({},T,{source:[],processing:!0});case t.xq.ADD_SOURCE:return Object.assign({},T,{source:A.payload.source,processing:!1,loaded:!0,totalPages:A.payload.totalPages,currentPage:T.currentPage,totalElements:A.payload.totalElements});case t.xq.RETRIEVE_ALL_SOURCE_ERROR:return Object.assign({},T,{processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});default:return T}},suggestionTarget:function C(T=_,A){switch(A.type){case v.lz.RETRIEVE_TARGETS_BY_SOURCE:{const p=T.sources[A.payload.source]||Object.assign({},E),x=Object.assign({},p,{targets:[],processing:!0});return Object.assign({},T,{sources:Object.assign({},T.sources,{[A.payload.source]:x})})}case v.lz.ADD_TARGETS:{const p=T.sources[A.payload.source]||Object.assign({},E),x=Object.assign({},p,{targets:p.targets.concat(A.payload.targets),processing:!1,loaded:!0,totalPages:A.payload.totalPages,currentPage:A.payload.currentPage,totalElements:A.payload.totalElements});return Object.assign({},T,{sources:Object.assign({},T.sources,{[A.payload.source]:x})})}case v.lz.RETRIEVE_TARGETS_BY_SOURCE_ERROR:{const p=T.sources[A.payload.source]||Object.assign({},E),x=Object.assign({},p,{targets:[],processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});return Object.assign({},T,{sources:Object.assign({},T.sources,{[A.payload.source]:x})})}case v.lz.ADD_USER_SUGGESTIONS:return Object.assign({},T,{currentUserTargets:A.payload.suggestionTargets});case v.lz.MARK_USER_SUGGESTIONS_AS_VISITED:return Object.assign({},T,{currentUserTargetsVisited:!0});case v.lz.CLEAR_TARGETS:{const p=T.sources[A.payload.source]||Object.assign({},E),x=Object.assign({},p,{targets:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0});return Object.assign({},T,{sources:Object.assign({},T.sources,{[A.payload.source]:x})})}default:return T}}},R=(0,i.UX)("suggestionNotifications")},74566:(F,D,n)=>{"use strict";n.d(D,{$_:()=>h,Fx:()=>e,lZ:()=>u,xq:()=>t});var i=n(91e3);const t={ADD_SOURCE:(0,i.N)("dspace/integration/notifications/qa/ADD_SOURCE"),RETRIEVE_ALL_SOURCE:(0,i.N)("dspace/integration/notifications/qa/RETRIEVE_ALL_SOURCE"),RETRIEVE_ALL_SOURCE_ERROR:(0,i.N)("dspace/integration/notifications/qa/RETRIEVE_ALL_SOURCE_ERROR")};class u{constructor(f,v){this.type=t.RETRIEVE_ALL_SOURCE,this.payload={elementsPerPage:f,currentPage:v}}}class e{constructor(){this.type=t.RETRIEVE_ALL_SOURCE_ERROR}}class h{constructor(f,v,E,_){this.type=t.ADD_SOURCE,this.payload={source:f,totalPages:v,currentPage:E,totalElements:_}}}},13246:(F,D,n)=>{"use strict";n.d(D,{p:()=>m});var i=n(96354),t=n(6238),u=n(61723),e=n(80183),h=n(54438);let m=(()=>{class f{constructor(E){this.qualityAssuranceSourceRestService=E}getSources(E,_){const C=new t.z("name",t.U.ASC);return this.qualityAssuranceSourceRestService.getSources({elementsPerPage:E,currentPage:_,sort:C}).pipe((0,e.qD)(),(0,i.T)(R=>{if(R.hasSucceeded)return R.payload;throw new Error("Can't retrieve Quality Assurance source from the Broker source REST service")}))}static{this.\u0275fac=function(_){return new(_||f)(h.KVO(u.QualityAssuranceSourceDataService))}}static{this.\u0275prov=h.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},79984:(F,D,n)=>{"use strict";n.d(D,{C3:()=>h,IL:()=>e,_v:()=>u,py:()=>t});var i=n(91e3);const t={ADD_TOPICS:(0,i.N)("dspace/integration/notifications/qa/topic/ADD_TOPICS"),RETRIEVE_ALL_TOPICS:(0,i.N)("dspace/integration/notifications/qa/topic/RETRIEVE_ALL_TOPICS"),RETRIEVE_ALL_TOPICS_ERROR:(0,i.N)("dspace/integration/notifications/qa/topic/RETRIEVE_ALL_TOPICS_ERROR")};class u{constructor(f,v,E,_){this.type=t.RETRIEVE_ALL_TOPICS,this.payload={elementsPerPage:f,currentPage:v,source:E,target:_}}}class e{constructor(){this.type=t.RETRIEVE_ALL_TOPICS_ERROR}}class h{constructor(f,v,E,_){this.type=t.ADD_TOPICS,this.payload={topics:f,totalPages:v,currentPage:E,totalElements:_}}}},54503:(F,D,n)=>{"use strict";n.d(D,{Af:()=>v,Fz:()=>e,Gx:()=>m,Pc:()=>h,eb:()=>f,en:()=>_,g3:()=>E,lz:()=>t,ri:()=>u});var i=n(91e3);const t={ADD_TARGETS:(0,i.N)("dspace/integration/openaire/suggestions/target/ADD_TARGETS"),CLEAR_TARGETS:(0,i.N)("dspace/integration/openaire/suggestions/target/CLEAR_TARGETS"),RETRIEVE_TARGETS_BY_SOURCE:(0,i.N)("dspace/integration/openaire/suggestions/target/RETRIEVE_TARGETS_BY_SOURCE"),RETRIEVE_TARGETS_BY_SOURCE_ERROR:(0,i.N)("dspace/integration/openaire/suggestions/target/RETRIEVE_TARGETS_BY_SOURCE_ERROR"),ADD_USER_SUGGESTIONS:(0,i.N)("dspace/integration/openaire/suggestions/target/ADD_USER_SUGGESTIONS"),REFRESH_USER_SUGGESTIONS:(0,i.N)("dspace/integration/openaire/suggestions/target/REFRESH_USER_SUGGESTIONS"),REFRESH_USER_SUGGESTIONS_ERROR:(0,i.N)("dspace/integration/openaire/suggestions/target/REFRESH_USER_SUGGESTIONS_ERROR"),MARK_USER_SUGGESTIONS_AS_VISITED:(0,i.N)("dspace/integration/openaire/suggestions/target/MARK_USER_SUGGESTIONS_AS_VISITED")};class u{constructor(I,R,T){this.type=t.RETRIEVE_TARGETS_BY_SOURCE,this.payload={source:I,elementsPerPage:R,currentPage:T}}}class e{constructor(I){this.type=t.RETRIEVE_TARGETS_BY_SOURCE_ERROR,this.payload={source:I}}}class h{constructor(I,R,T,A,p){this.type=t.ADD_TARGETS,this.payload={source:I,targets:R,totalPages:T,currentPage:A,totalElements:p}}}class m{constructor(I){this.type=t.ADD_USER_SUGGESTIONS,this.payload={suggestionTargets:I}}}class f{constructor(){this.type=t.REFRESH_USER_SUGGESTIONS}}class v{constructor(){this.type=t.REFRESH_USER_SUGGESTIONS_ERROR}}class E{constructor(){this.type=t.MARK_USER_SUGGESTIONS_AS_VISITED}}class _{constructor(I){this.type=t.CLEAR_TARGETS,this.payload={source:I}}}},31224:(F,D,n)=>{"use strict";n.d(D,{x:()=>O});var i=n(25499),t=n(96354),u=n(645),e=n(38571);function m(){return(0,u.hZ)(e.I,"suggestionTarget")}function f(w){return(0,i.Mz)(m(),M=>M.sources[w])}(0,i.UX)("suggestionNotifications");const E=w=>(0,i.Mz)(f(w),M=>M?.loaded||!1),R=w=>(0,i.Mz)(f(w),M=>M?.totalElements||0);var p=n(54503),x=n(54438);let O=(()=>{class w{constructor(L){this.store=L}getSuggestionTargets(L){return this.store.pipe((0,i.Lt)(function v(w){return(0,i.Mz)(f(w),M=>M.targets)}(L)))}isSuggestionTargetsLoading(L){return this.store.pipe((0,i.Lt)(E(L)),(0,t.T)(B=>!B))}isSuggestionTargetsLoaded(L){return this.store.pipe((0,i.Lt)(E(L)))}isSuggestionTargetsProcessing(L){return this.store.pipe((0,i.Lt)((w=>(0,i.Mz)(f(w),M=>M?.processing||!1))(L)))}getSuggestionTargetsTotalPages(L){return this.store.pipe((0,i.Lt)(R(L)))}getSuggestionTargetsCurrentPage(L){return this.store.pipe((0,i.Lt)((w=>(0,i.Mz)(f(w),M=>M?.currentPage||0))(L)))}getSuggestionTargetsTotals(L){return this.store.pipe((0,i.Lt)(R(L)))}dispatchRetrieveSuggestionTargets(L,B,k){this.store.dispatch(new p.ri(L,B,k))}getCurrentUserSuggestionTargets(){return this.store.pipe((0,i.Lt)((0,i.Mz)(m(),w=>w?.currentUserTargets||[])))}hasUserVisitedSuggestions(){return this.store.pipe((0,i.Lt)((0,i.Mz)(m(),w=>w?.currentUserTargetsVisited||!1)))}dispatchMarkUserSuggestionsAsVisitedAction(){this.store.dispatch(new p.g3)}dispatchClearSuggestionTargetsAction(L){this.store.dispatch(new p.en(L))}dispatchRefreshUserSuggestionsAction(){this.store.dispatch(new p.eb)}static{this.\u0275fac=function(B){return new(B||w)(x.KVO(i.il))}}static{this.\u0275prov=x.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},7724:(F,D,n)=>{"use strict";n.d(D,{w:()=>_});var i=n(60177),t=n(7901),u=n(41780),e=n(31224),h=n(67977),m=n(54438);function f(C,I){if(1&C&&(m.j41(0,"div",4),m.nrm(1,"div",5),m.nI1(2,"translate"),m.EFF(3),m.nI1(4,"translate"),m.j41(5,"a",6),m.EFF(6),m.nI1(7,"translate"),m.k0s()()),2&C){const R=m.XpG().$implicit,T=m.XpG(2);m.R7$(),m.Y8G("innerHTML",m.i5U(2,4,"notification.suggestion",T.getNotificationSuggestionInterpolation(R)),m.npT),m.R7$(2),m.SpI(" ",m.bMT(4,7,"notification.suggestion.please")," "),m.R7$(2),m.Y8G("routerLink",T.getNotificationSuggestionInterpolation(R).url),m.R7$(),m.SpI(" ",m.bMT(7,9,"notification.suggestion.review")," ")}}function v(C,I){if(1&C&&(m.qex(0,2),m.DNE(1,f,8,11,"div",3),m.bVm()),2&C){const R=I.$implicit;m.R7$(),m.Y8G("ngIf",R.total>0)}}function E(C,I){if(1&C&&(m.qex(0),m.DNE(1,v,2,1,"ng-container",1),m.bVm()),2&C){const R=I.ngIf;m.R7$(),m.Y8G("ngForOf",R)}}let _=(()=>{class C{constructor(R,T){this.suggestionTargetsStateService=R,this.suggestionsService=T}ngOnInit(){this.suggestionsRD$=this.suggestionTargetsStateService.getCurrentUserSuggestionTargets(),this.suggestionTargetsStateService.dispatchMarkUserSuggestionsAsVisitedAction()}getNotificationSuggestionInterpolation(R){return this.suggestionsService.getNotificationSuggestionInterpolation(R)}static{this.\u0275fac=function(T){return new(T||C)(m.rXU(e.x),m.rXU(h.F))}}static{this.\u0275cmp=m.VBU({type:C,selectors:[["ds-suggestions-notification"]],standalone:!0,features:[m.aNF],decls:2,vars:3,consts:[[4,"ngIf"],["class","alert alert-info",4,"ngFor","ngForOf"],[1,"alert","alert-info"],["class","alert alert-success d-block",4,"ngIf"],[1,"alert","alert-success","d-block"],[3,"innerHTML"],[3,"routerLink"]],template:function(T,A){1&T&&(m.DNE(0,E,2,1,"ng-container",0),m.nI1(1,"async")),2&T&&m.Y8G("ngIf",m.bMT(1,1,A.suggestionsRD$))},dependencies:[t.Wk,u.h,u.D9,i.Jj,i.bT,i.Sq]})}}return C})()},67977:(F,D,n)=>{"use strict";n.d(D,{F:()=>O});var i=n(7673),t=n(27468),u=n(96697),e=n(96354),h=n(73028),m=n(99437),f=n(88280),v=n(6238),E=n(96687),_=n(94791),C=n(98926),I=n(80183),R=n(82777),T=n(67600),A=n(24215),p=n(54438),x=n(41780);let O=(()=>{class w{constructor(L,B,k,W){this.researcherProfileService=L,this.suggestionsDataService=B,this.suggestionTargetDataService=k,this.translateService=W}getTargets(L,B,k){const W=new v.z("display",v.U.ASC);return this.suggestionTargetDataService.getTargetsBySource(L,{elementsPerPage:B,currentPage:k,sort:W}).pipe((0,I.D4)(),(0,u.s)(1),(0,e.T)(K=>{if(K.hasSucceeded)return K.payload;throw new Error("Can't retrieve Suggestion Target from the Search Target REST service")}))}getSuggestions(L,B,k,W){const[U,K]=L.split(":");return this.suggestionsDataService.getSuggestionsByTargetAndSource(K,U,{elementsPerPage:B,currentPage:k,sort:W})}clearSuggestionRequests(){this.suggestionsDataService.clearSuggestionRequests()}deleteReviewedSuggestion(L){return this.suggestionsDataService.deleteSuggestion(L).pipe((0,e.T)(B=>{if(B.isSuccess)return B;throw new Error("Can't delete Suggestion from the Search Target REST service")}),(0,u.s)(1))}retrieveCurrentUserSuggestions(L){return(0,R.Tn)(L)?(0,i.of)([]):this.researcherProfileService.findById(L,!0,!0,(0,T.s)("item")).pipe((0,I.qD)(),(0,h.Z)(B=>(0,R.hj)(B)&&B.hasSucceeded&&(0,R.hj)(B.payload)?this.researcherProfileService.findRelatedItemId(B.payload).pipe((0,h.Z)(k=>this.suggestionTargetDataService.getTargetsByUser(k).pipe((0,I.Ar)()))):(0,i.of)([])),(0,m.W)(()=>(0,i.of)([])))}approveAndImport(L,B,k){const W=this.resolveCollectionId(B,k);return L.importExternalSourceEntry(B.externalSourceUri,W).pipe((0,I.ak)(),(0,m.W)(()=>(0,i.of)(null)))}ignoreSuggestion(L){return this.deleteReviewedSuggestion(L).pipe((0,m.W)(()=>(0,i.of)(null)))}approveAndImportMultiple(L,B,k){return(0,t.p)(B.map(W=>this.approveAndImport(L,W,k))).pipe((0,e.T)(W=>({success:W.filter(U=>null!=U).length,fails:W.filter(U=>null==U).length})),(0,u.s)(1))}ignoreSuggestionMultiple(L){return(0,t.p)(L.map(B=>this.ignoreSuggestion(B.id))).pipe((0,e.T)(B=>({success:B.filter(k=>null!=k).length,fails:B.filter(k=>null==k).length})),(0,u.s)(1))}getTargetUuid(L){const B=L.id.split(":");return 2===B.length?B[1]:null}getNotificationSuggestionInterpolation(L){return{count:L.total,source:this.translateService.instant(this.translateSuggestionSource(L.source)),type:this.translateService.instant(this.translateSuggestionType(L.source)),suggestionId:L.id,displayName:L.display,url:(0,A.jV)(L.id)}}translateSuggestionType(L){return"suggestion.type."+L}translateSuggestionSource(L){return"suggestion.source."+L}resolveCollectionId(L,B){return(0,R.a4)(B)?B:f.c.suggestion.find(k=>k.source===L.source).collectionId}isCollectionFixed(L){return 1===this.getFixedCollectionIds(L).length}getFixedCollectionIds(L){const B={};return L.forEach(k=>{const W=f.c.suggestion.find(U=>U.source===k.source);(0,R.a4)(W)&&(B[W.collectionId]=!0)}),Object.keys(B)}static{this.\u0275fac=function(B){return new(B||w)(p.KVO(C.ResearcherProfileDataService),p.KVO(E.SuggestionDataService),p.KVO(_.SuggestionTargetDataService),p.KVO(x.c$))}}static{this.\u0275prov=p.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},2670:(F,D,n)=>{"use strict";n.r(D),n.d(D,{PageErrorComponent:()=>e});var i=n(41780),t=n(54438),u=n(7901);let e=(()=>{class h{constructor(f){this.activatedRoute=f,this.activatedRoute.queryParams.subscribe(v=>{this.status=v.status,this.code=v.code})}static{this.\u0275fac=function(v){return new(v||h)(t.rXU(u.nX))}}static{this.\u0275cmp=t.VBU({type:h,selectors:[["ds-base-page-error"]],standalone:!0,features:[t.aNF],decls:16,vars:10,consts:[[1,"page-internal-server-error","container"],["data-test","status"],[1,"text-center"],["href","/home",1,"btn","btn-primary"]],template:function(v,E){1&v&&(t.j41(0,"div",0)(1,"h1",1),t.EFF(2),t.k0s(),t.j41(3,"h2")(4,"small"),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.nrm(7,"br"),t.j41(8,"p"),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.nrm(11,"br"),t.j41(12,"p",2)(13,"a",3),t.EFF(14),t.nI1(15,"translate"),t.k0s()()()),2&v&&(t.R7$(2),t.JRh(E.status),t.R7$(3),t.JRh(t.bMT(6,4,"error-page.description."+E.status)),t.R7$(4),t.JRh(t.bMT(10,6,"error-page."+E.code)),t.R7$(5),t.JRh(t.bMT(15,8,E.status+".link.home-page")))},dependencies:[i.h,i.D9]})}}return h})()},82290:(F,D,n)=>{"use strict";n.r(D),n.d(D,{PageInternalServerErrorComponent:()=>e});var i=n(41780),t=n(7337),u=n(54438);let e=(()=>{class h{constructor(f){this.responseService=f,this.responseService.setInternalServerError()}static{this.\u0275fac=function(v){return new(v||h)(u.rXU(t.w))}}static{this.\u0275cmp=u.VBU({type:h,selectors:[["ds-base-page-internal-server-error"]],standalone:!0,features:[u.aNF],decls:16,vars:9,consts:[[1,"page-internal-server-error","container"],[1,"text-center"],["href","home",1,"btn","btn-primary"]],template:function(v,E){1&v&&(u.j41(0,"div",0)(1,"h1"),u.EFF(2,"500"),u.k0s(),u.j41(3,"h2")(4,"small"),u.EFF(5),u.nI1(6,"translate"),u.k0s()(),u.nrm(7,"br"),u.j41(8,"p"),u.EFF(9),u.nI1(10,"translate"),u.k0s(),u.nrm(11,"br"),u.j41(12,"p",1)(13,"a",2),u.EFF(14),u.nI1(15,"translate"),u.k0s()()()),2&v&&(u.R7$(5),u.SpI(" ",u.bMT(6,3,"500.page-internal-server-error")," "),u.R7$(4),u.JRh(u.bMT(10,5,"500.help")),u.R7$(5),u.JRh(u.bMT(15,7,"500.link.home-page")))},dependencies:[i.h,i.D9]})}}return h})()},53830:(F,D,n)=>{"use strict";n.r(D),n.d(D,{PageNotFoundComponent:()=>m});var i=n(7901),t=n(41780),u=n(67116),e=n(7337),h=n(54438);let m=(()=>{class f{constructor(E,_){this.authservice=E,this.responseService=_,this.responseService.setNotFound()}ngOnInit(){this.authservice.clearRedirectUrl()}static{this.\u0275fac=function(_){return new(_||f)(h.rXU(u.uR),h.rXU(e.w))}}static{this.\u0275cmp=h.VBU({type:f,selectors:[["ds-base-pagenotfound"]],standalone:!0,features:[h.aNF],decls:16,vars:9,consts:[[1,"page-not-found","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(_,C){1&_&&(h.j41(0,"div",0)(1,"h1"),h.EFF(2,"404"),h.k0s(),h.j41(3,"h2")(4,"small"),h.EFF(5),h.nI1(6,"translate"),h.k0s()(),h.nrm(7,"br"),h.j41(8,"p"),h.EFF(9),h.nI1(10,"translate"),h.k0s(),h.nrm(11,"br"),h.j41(12,"p",1)(13,"a",2),h.EFF(14),h.nI1(15,"translate"),h.k0s()()()),2&_&&(h.R7$(5),h.JRh(h.bMT(6,3,"404.page-not-found")),h.R7$(4),h.JRh(h.bMT(10,5,"404.help")),h.R7$(5),h.JRh(h.bMT(15,7,"404.link.home-page")))},dependencies:[i.Wk,t.h,t.D9]})}}return f})()},1504:(F,D,n)=>{"use strict";n.d(D,{JO:()=>u,rG:()=>t,yJ:()=>e});var i=n(45663);const t="processes",u=()=>`/${t}`,e=h=>new i.t(u(),h).toString()},73666:(F,D,n)=>{"use strict";n.d(D,{p:()=>i});class i{}},31189:(F,D,n)=>{"use strict";n.d(D,{K:()=>i});var i=function(t){return t.SCHEDULED="SCHEDULED",t.RUNNING="RUNNING",t.COMPLETED="COMPLETED",t.FAILED="FAILED",t}(i||{})},30721:(F,D,n)=>{"use strict";n.d(D,{M:()=>R});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(96470),m=n(42547);const f=new m.v("processOutput");var v=n(98688),E=n(43733);const _=new m.v("filetypes");var C=n(20930);n(31189);let R=class{static{this.type=C.A}};(0,i.Cg)([v.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],R.prototype,"type",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String),(0,i.Sn)("design:type",String)],R.prototype,"processId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"userId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"creationTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"startTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"endTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"scriptName",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"processStatus",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],R.prototype,"parameters",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],R.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(E.M),(0,i.Sn)("design:type",u.c)],R.prototype,"script",void 0),(0,i.Cg)([(0,e.nf)(f),(0,i.Sn)("design:type",u.c)],R.prototype,"output",void 0),(0,i.Cg)([(0,e.nf)(h.e,!0),(0,i.Sn)("design:type",u.c)],R.prototype,"files",void 0),(0,i.Cg)([(0,e.nf)(_),(0,i.Sn)("design:type",u.c)],R.prototype,"filetypes",void 0),R=(0,i.Cg)([e.gV],R)},20930:(F,D,n)=>{"use strict";n.d(D,{A:()=>t});const t=new(n(42547).v)("process")},24903:(F,D,n)=>{"use strict";n.d(D,{e:()=>f});var i=n(31635),t=n(74850),u=n(21921),e=n(42547),h=n(98688),m=n(43733);let f=class{static{this.type=m.M}};(0,i.Cg)([h.aK,t.autoserialize,(0,i.Sn)("design:type",e.v)],f.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],f.prototype,"parameters",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],f.prototype,"_links",void 0),f=(0,i.Cg)([u.gV],f)},43733:(F,D,n)=>{"use strict";n.d(D,{M:()=>t});const t=new(n(42547).v)("script")},87114:(F,D,n)=>{"use strict";n.r(D),n.d(D,{RootComponent:()=>Z});var i=n(60177),t=n(7901),u=n(41780),e=n(7673),h=n(84412),m=n(84572),f=n(28492),v=n(61594),E=n(96354),_=n(99172),C=n(88280),I=n(61242),R=n(69799),T=n(46754),A=n(1676),p=n(74920),x=n(77529),O=n(621),w=n(57538),M=n(98776),L=n(82394),B=n(39548),k=n(19340),W=n(25871),U=n(1221),K=n(58429),Y=n(54438);const G=(J,Q)=>({collapsedWidth:J,expandedWidth:Q}),q=(J,Q)=>({value:J,params:Q});function z(J,Q){1&J&&(Y.j41(0,"div",8),Y.nrm(1,"ds-loading",9),Y.k0s()),2&J&&(Y.R7$(),Y.Y8G("showMessage",!1))}function te(J,Q){1&J&&(Y.j41(0,"div",10),Y.nrm(1,"ds-loading",9),Y.k0s()),2&J&&(Y.R7$(),Y.Y8G("showMessage",!1))}let Z=(()=>{class J{constructor(ee,le,ne,fe,se){this.router=ee,this.cssService=le,this.menuService=ne,this.windowService=fe,this._window=se,this.theme=(0,e.of)({}),this.browserOsClasses=new h.t([]),this.notificationOptions=C.c.notifications}ngOnInit(){const ee=this.getBrowserName();if(ee){const ne=new Array;ne.push(`browser-${ee}`);const fe=this.getOSName();fe&&ne.push(`browser-${ee}-${fe}`),this.browserOsClasses.next(ne)}this.isSidebarVisible$=this.menuService.isMenuVisibleWithVisibleSections(k.D.ADMIN),this.expandedSidebarWidth$=this.cssService.getVariable("--ds-admin-sidebar-total-width").pipe((0,f.j)(ne=>!ne),(0,v.$)()),this.collapsedSidebarWidth$=this.cssService.getVariable("--ds-admin-sidebar-fixed-element-width").pipe((0,f.j)(ne=>!ne),(0,v.$)());const le=this.menuService.isMenuCollapsed(k.D.ADMIN);this.slideSidebarOver$=(0,m.z)([le,this.windowService.isXsOrSm()]).pipe((0,E.T)(([ne,fe])=>ne||fe),(0,_.Z)(!0)),this.router.url===(0,R.N2)()&&(this.shouldShowRouteLoader=!1)}skipToMainContent(){const ee=document.getElementById("main-content");ee&&(ee.tabIndex=-1,ee.focus())}getBrowserName(){const ee=this._window.nativeWindow.navigator?.userAgent;return/Firefox/.test(ee)?"firefox":/Safari/.test(ee)?"safari":void 0}getOSName(){const ee=this._window.nativeWindow.navigator?.userAgent;if(/Windows/.test(ee))return"windows"}static{this.\u0275fac=function(le){return new(le||J)(Y.rXU(t.Ix),Y.rXU(U.J),Y.rXU(B.$),Y.rXU(w.CV),Y.rXU(A.lc))}}static{this.\u0275cmp=Y.VBU({type:J,selectors:[["ds-base-root"]],inputs:{shouldShowFullscreenLoader:"shouldShowFullscreenLoader",shouldShowRouteLoader:"shouldShowRouteLoader"},standalone:!0,features:[Y.aNF],decls:22,vars:30,consts:[["id","skip-to-main-content",1,"sr-only",3,"click"],[1,"outer-wrapper",3,"ngClass"],[3,"expandedSidebarWidth$","collapsedSidebarWidth$"],[1,"inner-wrapper"],["id","main-content",1,"my-cs"],["class","container d-flex justify-content-center align-items-center h-100",4,"ngIf"],[3,"options"],["class","ds-full-screen-loader",4,"ngIf"],[1,"container","d-flex","justify-content-center","align-items-center","h-100"],[3,"showMessage"],[1,"ds-full-screen-loader"]],template:function(le,ne){1&le&&(Y.j41(0,"button",0),Y.bIt("click",function(){return ne.skipToMainContent()}),Y.EFF(1),Y.nI1(2,"translate"),Y.k0s(),Y.j41(3,"div",1),Y.nI1(4,"async"),Y.nI1(5,"async"),Y.nI1(6,"async"),Y.nI1(7,"async"),Y.nI1(8,"async"),Y.nrm(9,"ds-admin-sidebar",2),Y.j41(10,"div",3),Y.nrm(11,"ds-system-wide-alert-banner")(12,"ds-header-navbar-wrapper")(13,"ds-breadcrumbs"),Y.j41(14,"main",4),Y.DNE(15,z,2,1,"div",5),Y.j41(16,"div"),Y.nrm(17,"router-outlet"),Y.k0s()(),Y.nrm(18,"ds-footer"),Y.k0s()(),Y.nrm(19,"ds-notifications-board",6),Y.DNE(20,te,2,1,"div",7),Y.nrm(21,"ds-live-region")),2&le&&(Y.R7$(),Y.SpI(" ",Y.bMT(2,12,"root.skip-to-content"),"\n"),Y.R7$(2),Y.AVh("d-none",ne.shouldShowFullscreenLoader),Y.Y8G("ngClass",Y.bMT(4,14,ne.browserOsClasses.asObservable()))("@slideSidebarPadding",Y.l_i(27,q,!0!==Y.bMT(5,16,ne.isSidebarVisible$)?"hidden":Y.bMT(6,18,ne.slideSidebarOver$)?"unpinned":"pinned",Y.l_i(24,G,Y.bMT(7,20,ne.collapsedSidebarWidth$),Y.bMT(8,22,ne.expandedSidebarWidth$)))),Y.R7$(6),Y.Y8G("expandedSidebarWidth$",ne.expandedSidebarWidth$)("collapsedSidebarWidth$",ne.collapsedSidebarWidth$),Y.R7$(6),Y.Y8G("ngIf",ne.shouldShowRouteLoader),Y.R7$(),Y.AVh("d-none",ne.shouldShowRouteLoader),Y.R7$(3),Y.Y8G("options",ne.notificationOptions),Y.R7$(),Y.Y8G("ngIf",ne.shouldShowFullscreenLoader))},dependencies:[u.h,u.D9,I.u,K.E,x.h,T.B,i.bT,i.YU,L.v,t.n3,p.C,W.s,i.Jj,M.E],styles:["#skip-to-main-content[_ngcontent-%COMP%]{position:absolute;top:-40px;left:0;opacity:0;transition:opacity .3s;z-index:calc(var(--ds-nav-z-index) + 1);border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0}#skip-to-main-content[_ngcontent-%COMP%]:focus{opacity:1;top:0}"],data:{animation:[O.tr]}})}}return J})()},73940:(F,D,n)=>{"use strict";n.r(D),n.d(D,{SearchNavbarComponent:()=>_});var i=n(89417),t=n(41780),u=n(78655),e=n(621),h=n(75465),m=n(46301),f=n(54438),v=n(7901);const E=["searchInput"];let _=(()=>{class C{constructor(R,T,A){this.formBuilder=R,this.router=T,this.searchService=A,this.searchExpanded=!1,this.isExpanded="collapsed",this.searchForm=this.formBuilder.group({query:""})}expand(){this.searchExpanded=!0,this.isExpanded="expanded",this.editSearch()}collapse(){this.searchField.nativeElement.blur(),this.searchExpanded=!1,this.isExpanded="collapsed"}editSearch(){this.searchField.nativeElement.focus()}onSubmit(R){this.collapse();const T=Object.assign({},R),A=[this.searchService.getSearchLink().replace("/","")];this.searchForm.reset(),this.router.navigate(A,{queryParams:T})}static{this.\u0275fac=function(T){return new(T||C)(f.rXU(i.ze),f.rXU(v.Ix),f.rXU(u.S))}}static{this.\u0275cmp=f.VBU({type:C,selectors:[["ds-base-search-navbar"]],viewQuery:function(T,A){if(1&T&&f.GBs(E,5),2&T){let p;f.mGM(p=f.lsd())&&(A.searchField=p.first)}},standalone:!0,features:[f.aNF],decls:13,vars:23,consts:[["searchInput",""],[3,"dsClickOutside","title"],[1,"d-inline-block","position-relative"],["autocomplete","on",1,"d-flex",3,"ngSubmit","formGroup"],["name","query","formControlName","query","type","text",1,"d-inline-block","bg-transparent","position-absolute","form-control","dropdown-menu-right","p1",3,"placeholder","tabIndex"],["type","button",1,"submit-icon","btn","btn-link","btn-link-inline",3,"click"],[1,"fas","fa-search","fa-lg","fa-fw"]],template:function(T,A){if(1&T){const p=f.RV6();f.j41(0,"div",1),f.nI1(1,"translate"),f.bIt("dsClickOutside",function(){return f.eBV(p),f.Njj(A.collapse())}),f.j41(2,"div",2)(3,"form",3),f.bIt("ngSubmit",function(){return f.eBV(p),f.Njj(A.onSubmit(A.searchForm.value))}),f.nrm(4,"input",4,0),f.nI1(6,"translate"),f.nI1(7,"translate"),f.nI1(8,"dsBrowserOnly"),f.j41(9,"button",5),f.nI1(10,"translate"),f.nI1(11,"dsBrowserOnly"),f.bIt("click",function(){return f.eBV(p),f.Njj(A.searchExpanded?A.onSubmit(A.searchForm.value):A.expand())}),f.nrm(12,"em",6),f.k0s()()()()}2&T&&(f.Y8G("title",f.bMT(1,11,"nav.search")),f.R7$(3),f.Y8G("formGroup",A.searchForm),f.R7$(),f.AVh("display",A.searchExpanded?"inline-block":"none"),f.FS9("placeholder",A.searchExpanded?f.bMT(6,13,"nav.search"):""),f.Y8G("@toggleAnimation",A.isExpanded)("tabIndex",A.searchExpanded?0:-1),f.BMQ("aria-label",f.bMT(7,15,"nav.search"))("data-test",f.bMT(8,17,"header-search-box")),f.R7$(5),f.BMQ("aria-label",f.bMT(10,19,"nav.search.button"))("data-test",f.bMT(11,21,"header-search-icon")))},dependencies:[m.z,i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,t.h,t.D9,h.L],styles:["input[type=text][_ngcontent-%COMP%]{margin-top:calc(-.3 * var(--bs-font-size-base));background-color:#fff!important;border-color:var(--ds-header-icon-color);right:0}input[type=text].collapsed[_ngcontent-%COMP%]{opacity:0}.submit-icon[_ngcontent-%COMP%]{cursor:pointer;position:sticky;top:0;border:0!important;color:var(--ds-header-icon-color)}.submit-icon[_ngcontent-%COMP%]:hover, .submit-icon[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}@media screen and (max-width: 768px){.query[_ngcontent-%COMP%]:focus{max-width:250px!important;width:40vw!important}}"],data:{animation:[e.l9]}})}}return C})()},3224:(F,D,n)=>{"use strict";n.d(D,{X:()=>m});var i=n(8886),u=(n(73940),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"SearchNavbarComponent"}importThemedComponent(E){return n(28754)(`./${E}/app/search-navbar/search-navbar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,73940))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-search-navbar"]],standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},32487:(F,D,n)=>{"use strict";n.r(D),n.d(D,{ConfigurationSearchPageComponent:()=>be});var i=n(60177),t=n(54438),u=n(41780),e=n(82640),h=n(56760),m=n(78655),f=n(39012),v=n(13955),E=n(10214),_=n(57538),C=n(77766),I=n(55366),R=n(14131),T=n(79443),A=n(18016),p=n(50919),x=n(52600),O=n(35538),w=n(7901);const M=[[["","searchContentTop",""]],[["","additionalSearchOptions",""]]],L=["[searchContentTop]","[additionalSearchOptions]"];function B(me,re){}function k(me,re){1&me&&t.DNE(0,B,0,0,"ng-template")}function W(me,re){if(1&me&&(t.j41(0,"div",6)(1,"div",7)(2,"div",8),t.DNE(3,k,1,0,null,9),t.k0s()()()),2&me){t.XpG();const Ee=t.sdS(11);t.R7$(3),t.Y8G("ngTemplateOutlet",Ee)}}function U(me,re){}function K(me,re){1&me&&t.DNE(0,U,0,0,"ng-template")}function Y(me,re){if(1&me&&(t.j41(0,"div"),t.DNE(1,K,1,0,null,9),t.k0s()),2&me){t.XpG();const Ee=t.sdS(7);t.R7$(),t.Y8G("ngTemplateOutlet",Ee)}}function G(me,re){}function q(me,re){1&me&&t.DNE(0,G,0,0,"ng-template")}function z(me,re){if(1&me&&(t.j41(0,"ds-page-with-sidebar",10),t.DNE(1,q,1,0,null,9),t.k0s()),2&me){const Ee=t.XpG(),Te=t.sdS(7),tt=t.sdS(9);t.Y8G("id","search-page")("sideBarWidth",Ee.sideBarWidth)("sidebarContent",tt),t.R7$(),t.Y8G("ngTemplateOutlet",Te)}}function te(me,re){}function Z(me,re){1&me&&t.DNE(0,te,0,0,"ng-template")}function J(me,re){if(1&me&&(t.qex(0),t.DNE(1,Z,1,0,null,9),t.bVm()),2&me){t.XpG(3);const Ee=t.sdS(11);t.R7$(),t.Y8G("ngTemplateOutlet",Ee)}}function Q(me,re){if(1&me&&(t.j41(0,"div",8),t.DNE(1,J,2,1,"ng-container",4),t.SdG(2,1),t.k0s()),2&me){const Ee=t.XpG(2);t.R7$(),t.Y8G("ngIf",Ee.searchEnabled)}}function ee(me,re){if(1&me&&t.nrm(0,"ds-view-mode-switch",18),2&me){const Ee=t.XpG(2);t.Y8G("viewModeList",Ee.viewModeList)("inPlaceSearch",Ee.inPlaceSearch)}}function le(me,re){if(1&me){const Ee=t.RV6();t.j41(0,"ds-search-results",19),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.bIt("contentChange",function(tt){t.eBV(Ee);const ht=t.XpG(2);return t.Njj(ht.onContentChange(tt))})("deselectObject",function(tt){t.eBV(Ee);const ht=t.XpG(2);return t.Njj(ht.deselectObject.emit(tt))})("selectObject",function(tt){t.eBV(Ee);const ht=t.XpG(2);return t.Njj(ht.selectObject.emit(tt))}),t.k0s()}if(2&me){const Ee=t.XpG(2);t.Y8G("searchResults",t.bMT(1,10,Ee.resultsRD$))("searchConfig",t.bMT(2,12,Ee.searchOptions$))("configuration",t.bMT(3,14,Ee.currentConfiguration$))("disableHeader",!Ee.searchEnabled)("linkType",Ee.linkType)("context",t.bMT(4,16,Ee.currentContext$))("selectable",Ee.selectable)("selectionConfig",Ee.selectionConfig)("showCsvExport",Ee.showCsvExport)("showThumbnails",Ee.showThumbnails)}}function ne(me,re){if(1&me){const Ee=t.RV6();t.j41(0,"div",7),t.DNE(1,Q,3,1,"div",11),t.nI1(2,"async"),t.j41(3,"div",12)(4,"div",13),t.DNE(5,ee,1,2,"ds-view-mode-switch",14),t.j41(6,"button",15),t.bIt("click",function(){t.eBV(Ee);const tt=t.XpG();return t.Njj(tt.openSidebar())}),t.nrm(7,"i",16),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.SdG(10),t.DNE(11,le,5,18,"ds-search-results",17),t.k0s()()}if(2&me){const Ee=t.XpG();t.R7$(),t.Y8G("ngIf",!0!==t.bMT(2,4,Ee.isXsOrSm$)),t.R7$(4),t.Y8G("ngIf",Ee.inPlaceSearch&&Ee.showViewModes),t.R7$(3),t.SpI(" ",t.bMT(9,6,"search.sidebar.open")," "),t.R7$(3),t.Y8G("ngIf",Ee.inPlaceSearch)}}function fe(me,re){if(1&me){const Ee=t.RV6();t.j41(0,"ds-search-sidebar",22),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("changeConfiguration",function(tt){t.eBV(Ee);const ht=t.XpG(2);return t.Njj(ht.changeContext(tt.context))})("changeViewMode",function(){t.eBV(Ee);const tt=t.XpG(2);return t.Njj(tt.changeViewMode)}),t.k0s()}if(2&me){let Ee;const Te=t.XpG(2);t.Y8G("configurationList",Te.configurationList)("configuration",t.bMT(1,12,Te.currentConfiguration$))("currentScope",t.bMT(2,14,Te.currentScope$))("filters",Te.filtersRD$.asObservable())("refreshFilters",Te.refreshFilters)("resultCount",null==(Ee=t.bMT(3,16,Te.resultsRD$))||null==Ee.payload?null:Ee.payload.totalElements)("searchOptions",t.bMT(4,18,Te.searchOptions$))("sortOptionsList",t.bMT(5,20,Te.sortOptionsList$))("currentSortOption",t.bMT(6,22,Te.currentSortOptions$))("inPlaceSearch",Te.inPlaceSearch)("viewModeList",Te.viewModeList)("showViewModes",Te.showViewModes)}}function se(me,re){if(1&me){const Ee=t.RV6();t.j41(0,"ds-search-sidebar",23),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("toggleSidebar",function(){t.eBV(Ee);const tt=t.XpG(2);return t.Njj(tt.closeSidebar())})("changeConfiguration",function(tt){t.eBV(Ee);const ht=t.XpG(2);return t.Njj(ht.changeContext(tt.context))})("changeViewMode",function(){t.eBV(Ee);const tt=t.XpG(2);return t.Njj(tt.changeViewMode())}),t.k0s()}if(2&me){let Ee;const Te=t.XpG(2);t.Y8G("configurationList",Te.configurationList)("configuration",t.bMT(1,12,Te.currentConfiguration$))("currentScope",t.bMT(2,14,Te.currentScope$))("filters",Te.filtersRD$.asObservable())("refreshFilters",Te.refreshFilters)("resultCount",null==(Ee=t.bMT(3,16,Te.resultsRD$))||null==Ee.payload?null:Ee.payload.totalElements)("searchOptions",t.bMT(4,18,Te.searchOptions$))("sortOptionsList",t.bMT(5,20,Te.sortOptionsList$))("currentSortOption",t.bMT(6,22,Te.currentSortOptions$))("inPlaceSearch",Te.inPlaceSearch)("viewModeList",Te.viewModeList)("showViewModes",Te.showViewModes)}}function ce(me,re){if(1&me&&(t.DNE(0,fe,7,24,"ds-search-sidebar",20),t.nI1(1,"async"),t.DNE(2,se,7,24,"ds-search-sidebar",21),t.nI1(3,"async")),2&me){const Ee=t.XpG();t.Y8G("ngIf",!0!==t.bMT(1,2,Ee.isXsOrSm$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,Ee.isXsOrSm$))}}function De(me,re){if(1&me){const Ee=t.RV6();t.j41(0,"ds-search-form",24),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("submitSearch",function(tt){t.eBV(Ee);const ht=t.XpG();return t.Njj(ht.onSubmitSearch(tt))}),t.k0s(),t.j41(4,"div",25)(5,"div",26),t.nrm(6,"ds-search-labels",27),t.k0s()()}if(2&me){let Ee,Te;const tt=t.XpG();t.Y8G("query",null==(Ee=t.bMT(1,8,tt.searchOptions$))?null:Ee.query)("scope",null==(Te=t.bMT(2,10,tt.searchOptions$))?null:Te.scope)("hideScopeInUrl",tt.hideScopeInUrl)("currentUrl",tt.searchLink)("showScopeSelector",tt.showScopeSelector)("inPlaceSearch",tt.inPlaceSearch)("searchPlaceholder",t.bMT(3,12,tt.searchFormPlaceholder)),t.R7$(6),t.Y8G("inPlaceSearch",tt.inPlaceSearch)}}let be=(()=>{class me extends C.SearchComponent{constructor(Ee,Te,tt,ht,Fe,Et,Ye,pt){super(Ee,Te,tt,ht,Fe,Et,Ye,pt),this.service=Ee,this.sidebarService=Te,this.windowService=tt,this.searchConfigService=ht,this.routeService=Fe,this.router=Et,this.appConfig=Ye,this.platformId=pt}static{this.\u0275fac=function(Te){return new(Te||me)(t.rXU(m.S),t.rXU(x.o),t.rXU(_.CV),t.rXU(v.EN),t.rXU(h.v$),t.rXU(w.Ix),t.rXU(e.vQ),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:me,selectors:[["ds-base-configuration-search-page"]],standalone:!0,features:[t.Jv_([{provide:v.EN,useClass:f.g}]),t.Vt3,t.aNF],ngContentSelectors:L,decls:12,vars:9,consts:[["searchContent",""],["sidebarContent",""],["searchForm",""],["class","container",4,"ngIf"],[4,"ngIf"],[3,"id","sideBarWidth","sidebarContent",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],[3,"id","sideBarWidth","sidebarContent"],["class","col-12",4,"ngIf"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch",4,"ngIf"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-end","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails","contentChange","deselectObject","selectObject",4,"ngIf"],[3,"viewModeList","inPlaceSearch"],[3,"contentChange","deselectObject","selectObject","searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar",3,"changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"toggleSidebar","changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-form",3,"submitSearch","query","scope","hideScopeInUrl","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-12"],[3,"inPlaceSearch"]],template:function(Te,tt){1&Te&&(t.NAR(M),t.DNE(0,W,4,1,"div",3),t.nI1(1,"async"),t.DNE(2,Y,2,1,"div",4),t.nI1(3,"async"),t.DNE(4,z,2,4,"ds-page-with-sidebar",5),t.nI1(5,"async"),t.DNE(6,ne,12,8,"ng-template",null,0,t.C5r)(8,ce,4,6,"ng-template",null,1,t.C5r)(10,De,7,14,"ng-template",null,2,t.C5r)),2&Te&&(t.Y8G("ngIf",tt.searchEnabled&&t.bMT(1,3,tt.isXsOrSm$)),t.R7$(2),t.Y8G("ngIf",!tt.showSidebar&&t.bMT(3,5,tt.initialized$)),t.R7$(2),t.Y8G("ngIf",tt.showSidebar&&t.bMT(5,7,tt.initialized$)))},dependencies:[i.bT,i.T3,p.f,O.g,R.N,T.p,A.d,I.L,i.Jj,u.h,u.D9],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}[_nghost-%COMP%]{--bs-gutter-x: .75rem}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[E.W]},changeDetection:0})}}return me})()},4021:(F,D,n)=>{"use strict";n.d(D,{M:()=>v}),n(26292),n(7581);var u=n(8886),h=(n(32487),n(54438));const m=["*"];function f(E,_){}let v=(()=>{class E extends u.J{constructor(){super(...arguments),this.inAndOutputNames=["configurationList","context","configuration","fixedFilterQuery","useCachedVersionIfAvailable","inPlaceSearch","linkType","paginationId","searchEnabled","sideBarWidth","searchFormPlaceholder","selectable","selectionConfig","showCsvExport","showSidebar","showThumbnails","showViewModes","useUniquePageId","viewModeList","showScopeSelector","trackStatistics","query","scope","hideScopeInUrl"]}getComponentName(){return"ConfigurationSearchPageComponent"}importThemedComponent(C){return n(21133)(`./${C}/app/search-page/configuration-search-page.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,32487))}static{this.\u0275fac=(()=>{let C;return function(R){return(C||(C=h.xGo(E)))(R||E)}})()}static{this.\u0275cmp=h.VBU({type:E,selectors:[["ds-configuration-search-page"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl"},standalone:!0,features:[h.Vt3,h.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(I,R){1&I&&(h.NAR(),h.DNE(0,f,0,0,"ng-template",null,0,h.C5r),h.j41(2,"div",null,1),h.SdG(4),h.k0s())},encapsulation:2})}}return E})()},22924:(F,D,n)=>{"use strict";n.d(D,{e:()=>f});var i=n(54438),t=n(82777),u=n(82522),e=n(92827);const h=["DynamicComponentLoader"];function m(v,E){}let f=(()=>{class v{constructor(_){this.themeService=_,this.subs=[],this.inputNamesDependentForComponent=[],this.inputNames=[],this.outputNames=[]}ngOnInit(){this.instantiateComponent()}ngOnChanges(_){(0,t.a4)(this.compRef)&&(this.inputNamesDependentForComponent.some(C=>(0,t.a4)(_[C])&&_[C].previousValue!==_[C].currentValue)?(this.destroyComponentInstance(),this.instantiateComponent()):this.connectInputsAndOutputs())}ngOnDestroy(){this.subs.filter(_=>(0,t.a4)(_)).forEach(_=>_.unsubscribe()),this.destroyComponentInstance()}instantiateComponent(){const _=this.getComponent(),C=this.componentViewContainerRef;C.clear(),this.compRef=C.createComponent(_,{index:0,injector:void 0}),this.connectInputsAndOutputs()}destroyComponentInstance(){(0,t.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=null)}connectInputsAndOutputs(){(0,t.hj)(this.inputNames)&&(0,t.a4)(this.compRef)&&(0,t.a4)(this.compRef.instance)&&this.inputNames.filter(_=>void 0!==this[_]).filter(_=>this[_]!==this.compRef.instance[_]).forEach(_=>{this.compRef.setInput(_,this[_])}),(0,t.hj)(this.outputNames)&&(0,t.a4)(this.compRef)&&(0,t.a4)(this.compRef.instance)&&this.outputNames.filter(_=>void 0!==this[_]).filter(_=>this[_]!==this.compRef.instance[_]).forEach(_=>{this.compRef.instance[_]=this[_]})}static{this.\u0275fac=function(C){return new(C||v)(i.rXU(u.Fs))}}static{this.\u0275cmp=i.VBU({type:v,selectors:[["ds-abstract-component-loader"]],viewQuery:function(C,I){if(1&C&&i.GBs(h,7,i.c1b),2&C){let R;i.mGM(R=i.lsd())&&(I.componentViewContainerRef=R.first)}},standalone:!0,features:[i.OA$,i.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(C,I){1&C&&i.DNE(0,m,0,0,"ng-template",1,0,i.C5r)},dependencies:[e.z],encapsulation:2})}}return v})()},92827:(F,D,n)=>{"use strict";n.d(D,{z:()=>t});var i=n(54438);let t=(()=>{class u{constructor(h){this.viewContainerRef=h}static{this.\u0275fac=function(m){return new(m||u)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:u,selectors:[["","dsDynamicComponentLoader",""]],standalone:!0})}}return u})()},47978:(F,D,n)=>{"use strict";n.d(D,{v:()=>i});var i=function(t){return t.Success="alert-success",t.Error="alert-danger",t.Info="alert-info",t.Warning="alert-warning",t}(i||{})},16292:(F,D,n)=>{"use strict";n.d(D,{C:()=>_});var i=n(49969),t=n(60177),u=n(54438),e=n(41780),h=n(50332);const m=["*"];function f(C,I){if(1&C&&(u.nrm(0,"span",4),u.nI1(1,"translate")),2&C){const R=u.XpG(2);u.Y8G("innerHTML",u.bMT(1,1,R.content),u.npT)}}function v(C,I){if(1&C){const R=u.RV6();u.j41(0,"button",5),u.bIt("click",function(){u.eBV(R);const A=u.XpG(2);return u.Njj(A.dismiss())}),u.k0s()}}function E(C,I){if(1&C&&(u.j41(0,"div",1),u.DNE(1,f,2,3,"span",2),u.SdG(2),u.DNE(3,v,1,0,"button",3),u.k0s()),2&C){const R=u.XpG();u.ZvI("alert ",R.type," alert-dismissible fade show w-100 p-3"),u.Y8G("@enterLeave",R.animate),u.R7$(),u.Y8G("ngIf",R.content),u.R7$(2),u.Y8G("ngIf",R.dismissible)}}let _=(()=>{class C{constructor(R){this.cdr=R,this.dismissible=!1,this.close=new u.bkB,this.animate="fadeIn",this.dismissed=!1}dismiss(){this.dismissible&&(this.animate="fadeOut",this.cdr.detectChanges(),setTimeout(()=>{this.dismissed=!0,this.close.emit(),this.cdr.detectChanges()},300))}static{this.\u0275fac=function(T){return new(T||C)(u.rXU(u.gRc))}}static{this.\u0275cmp=u.VBU({type:C,selectors:[["ds-alert"]],inputs:{content:"content",dismissible:"dismissible",type:"type"},outputs:{close:"close"},standalone:!0,features:[u.aNF],ngContentSelectors:m,decls:1,vars:1,consts:[["role","alert",3,"class",4,"ngIf"],["role","alert"],[3,"innerHTML",4,"ngIf"],["type","button","class","btn-close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(T,A){1&T&&(u.NAR(),u.DNE(0,E,4,6,"div",0)),2&T&&u.Y8G("ngIf",!A.dismissed)},dependencies:[t.bT,e.h,e.D9],styles:[".btn-close{opacity:.75}.btn-close:focus{outline:none!important}button.close{opacity:.6}\n"],encapsulation:2,data:{animation:[(0,i.hZ)("enterLeave",[h.ai,h.wA])]}})}}return C})()},50332:(F,D,n)=>{"use strict";n.d(D,{HT:()=>t,Ws:()=>_,Xn:()=>E,ai:()=>m,e9:()=>u,qG:()=>v,wA:()=>h});var i=n(49969);const t=(0,i.wk)("fadeIn",(0,i.iF)({opacity:1})),u=(0,i.kY)("* => fadeIn",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),e=(0,i.kY)(":enter",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),h=(0,i.wk)("fadeOut",(0,i.iF)({opacity:0})),m=(0,i.kY)("fadeIn => fadeOut",[(0,i.iF)({opacity:1}),(0,i.i0)(400,(0,i.iF)({opacity:0}))]),f=(0,i.kY)(":leave",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),v=(0,i.hZ)("fadeIn",[e]),E=(0,i.hZ)("fadeOut",[f]),_=(0,i.hZ)("fadeInOut",[e,f])},6703:(F,D,n)=>{"use strict";n.d(D,{B_:()=>e,Py:()=>h,Wk:()=>t,iP:()=>u});var i=n(49969);const t=(0,i.wk)("fromTopIn",(0,i.iF)({opacity:1,transform:"translateY(0)"})),u=(0,i.kY)("* => fromTopIn",[(0,i.iF)({opacity:0,transform:"translateY(-5%)"}),(0,i.i0)("400ms ease-in-out")]),e=(0,i.wk)("fromTopOut",(0,i.iF)({opacity:0,transform:"translateY(5%)"})),h=(0,i.kY)("fromTopIn => fromTopOut",[(0,i.iF)({opacity:1,transform:"translateY(0)"}),(0,i.i0)("300ms ease-in-out")]);(0,i.hZ)("fromTopIn",[u]),(0,i.hZ)("fromTopOut",[h]),(0,i.hZ)("fromTopInOut",[u,h])},10214:(F,D,n)=>{"use strict";n.d(D,{W:()=>t});var i=n(49969);const t=(0,i.hZ)("pushInOut",[(0,i.wk)("expanded",(0,i.iF)({left:"100%"})),(0,i.wk)("collapsed",(0,i.iF)({left:0})),(0,i.kY)("expanded <=> collapsed",(0,i.i0)(250))])},68681:(F,D,n)=>{"use strict";n.d(D,{CC:()=>u,L2:()=>e,Ru:()=>h,UE:()=>t,e$:()=>C});var i=n(49969);const t=(0,i.wk)("rotateIn",(0,i.iF)({opacity:1,transform:"rotate(0deg)"})),u=(0,i.kY)("* => rotateIn",[(0,i.iF)({opacity:0,transform:"rotate(5deg)"}),(0,i.i0)("400ms ease-in-out")]),e=(0,i.wk)("rotateOut",(0,i.iF)({opacity:0,transform:"rotate(5deg)"})),h=(0,i.kY)("rotateIn => rotateOut",[(0,i.iF)({opacity:1,transform:"rotate(0deg)"}),(0,i.i0)("400ms ease-in-out")]),C=((0,i.hZ)("rotateIn",[u]),(0,i.hZ)("rotateOut",[h]),(0,i.hZ)("rotateInOut",[u,h]),(0,i.hZ)("rotate",[(0,i.wk)("expanded",(0,i.iF)({transform:"rotate(90deg)"})),(0,i.wk)("collapsed",(0,i.iF)({transform:"rotate(0deg)"})),(0,i.kY)("expanded <=> collapsed",[(0,i.i0)("200ms")])]))},621:(F,D,n)=>{"use strict";n.d(D,{M6:()=>t,ck:()=>C,l9:()=>R,p8:()=>u,tr:()=>I});var i=n(49969);const t=(0,i.hZ)("slide",[(0,i.wk)("expanded",(0,i.iF)({height:"*"})),(0,i.wk)("collapsed",(0,i.iF)({height:0})),(0,i.wk)("void",(0,i.iF)({height:0})),(0,i.wk)("*",(0,i.iF)({height:"*"})),(0,i.kY)(":enter",[(0,i.i0)("200ms")]),(0,i.kY)(":leave",[(0,i.i0)("200ms")]),(0,i.kY)("expanded <=> collapsed",(0,i.i0)(250))]),u=(0,i.hZ)("slideMobileNav",[(0,i.wk)("expanded",(0,i.iF)({height:"*",minHeight:"*"})),(0,i.wk)("collapsed",(0,i.iF)({height:0,minHeight:0})),(0,i.kY)("expanded <=> collapsed",(0,i.i0)("300ms"))]),e=(0,i.iF)({maxWidth:"{{collapsedWidth}}"}),h=(0,i.iF)({maxWidth:"{{expandedWidth}}"}),m=(0,i.iF)({paddingLeft:"{{collapsedWidth}}"}),f=(0,i.iF)({paddingLeft:"{{expandedWidth}}"}),v=(0,i.iF)({paddingLeft:"0"}),E={params:{collapsedWidth:"*",expandedWidth:"*"}},_="300ms ease-in-out",C=(0,i.hZ)("slideSidebar",[(0,i.wk)("collapsed",e,E),(0,i.wk)("expanded",h,E),(0,i.kY)("expanded => collapsed",(0,i.i0)(_,e)),(0,i.kY)("collapsed => expanded",(0,i.i0)(_,h))]),I=(0,i.hZ)("slideSidebarPadding",[(0,i.wk)("hidden",v),(0,i.wk)("unpinned",m,E),(0,i.wk)("pinned",f,E),(0,i.kY)("hidden <=> unpinned",(0,i.i0)(_)),(0,i.kY)("hidden <=> pinned",(0,i.i0)(_)),(0,i.kY)("unpinned <=> pinned",(0,i.i0)(_))]),R=(0,i.hZ)("toggleAnimation",[(0,i.wk)("collapsed",(0,i.iF)({width:"0",opacity:"0"})),(0,i.wk)("expanded",(0,i.iF)({width:"250px",opacity:"1"})),(0,i.kY)("* => collapsed",(0,i.Os)([(0,i.i0)("300ms ease-in-out",(0,i.iF)({width:"30px"})),(0,i.i0)("300ms ease-in",(0,i.iF)({opacity:"0"}))])),(0,i.kY)("* => expanded",(0,i.Os)([(0,i.i0)("300ms ease-out",(0,i.iF)({opacity:"1"})),(0,i.i0)("300ms ease-in-out",(0,i.iF)({width:"250px"}))]))])},56292:(F,D,n)=>{"use strict";n.r(D),n.d(D,{AuthNavMenuComponent:()=>K});var i=n(60177),t=n(7901),u=n(58003),e=n(25499),h=n(41780),m=n(7673),f=n(5964),v=n(96354),E=n(195),_=n(67116),C=n(38169),I=n(50332),R=n(82777),T=n(57538),A=n(68900),p=n(75465),x=n(28619),O=n(54438);const w=Y=>({"ps-3 pe-3":Y});function M(Y,G){if(1&Y){const q=O.RV6();O.j41(0,"div",7),O.bIt("click",function(te){return O.eBV(q),O.Njj(te.stopPropagation())}),O.j41(1,"div",8,1)(3,"a",9),O.nI1(4,"translate"),O.nI1(5,"dsBrowserOnly"),O.bIt("click",function(te){return O.eBV(q),O.Njj(te.preventDefault())}),O.EFF(6),O.nI1(7,"translate"),O.k0s(),O.j41(8,"div",10),O.nI1(9,"async"),O.nI1(10,"translate"),O.nrm(11,"ds-log-in",11),O.k0s()()()}if(2&Y){const q=O.sdS(2),z=O.XpG(2);O.R7$(),O.Y8G("@fadeInOut",void 0),O.R7$(2),O.BMQ("aria-label",O.bMT(4,8,"nav.login"))("data-test",O.bMT(5,10,"login-menu"))("aria-expanded",q.isOpen()),O.R7$(3),O.JRh(O.bMT(7,12,"nav.login")),O.R7$(2),O.Y8G("ngClass",O.eq3(18,w,O.bMT(9,14,z.loading))),O.BMQ("aria-label",O.bMT(10,16,"nav.login")),O.R7$(3),O.Y8G("isStandalonePage",!1)}}function L(Y,G){if(1&Y){const q=O.RV6();O.j41(0,"div",12)(1,"div",8,2)(3,"a",13),O.nI1(4,"translate"),O.nI1(5,"translate"),O.nI1(6,"dsBrowserOnly"),O.bIt("click",function(te){return O.eBV(q),O.Njj(te.preventDefault())}),O.nrm(7,"i",14),O.k0s(),O.j41(8,"div",15)(9,"ds-user-menu",16),O.bIt("changedRoute",function(){O.eBV(q);const te=O.sdS(2);return O.Njj(te.close())}),O.k0s()()()()}2&Y&&(O.R7$(),O.Y8G("@fadeInOut",void 0),O.R7$(2),O.Y8G("title",O.bMT(4,5,"nav.user-profile-menu-and-logout")),O.BMQ("aria-label",O.bMT(5,7,"nav.user-profile-menu-and-logout"))("data-test",O.bMT(6,9,"user-menu")),O.R7$(6),O.Y8G("inExpandableNavbar",!1))}function B(Y,G){if(1&Y&&(O.j41(0,"div",4),O.DNE(1,M,12,20,"div",5),O.nI1(2,"async"),O.nI1(3,"async"),O.DNE(4,L,10,11,"div",6),O.nI1(5,"async"),O.nI1(6,"async"),O.k0s()),2&Y){const q=O.XpG();O.R7$(),O.Y8G("ngIf",!0!==O.bMT(2,2,q.isAuthenticated)&&O.bMT(3,4,q.showAuth)),O.R7$(3),O.Y8G("ngIf",O.bMT(5,6,q.isAuthenticated)&&O.bMT(6,8,q.showAuth))}}function k(Y,G){1&Y&&(O.j41(0,"a",20),O.EFF(1),O.nI1(2,"translate"),O.j41(3,"span",21),O.EFF(4,"(current)"),O.k0s()()),2&Y&&(O.R7$(),O.SpI(" ",O.bMT(2,1,"nav.login"),""))}function W(Y,G){1&Y&&(O.j41(0,"a",22),O.nI1(1,"translate"),O.nI1(2,"translate"),O.nrm(3,"i",23),O.j41(4,"span",21),O.EFF(5,"(current)"),O.k0s()()),2&Y&&(O.Y8G("title",O.bMT(1,2,"nav.logout")),O.BMQ("aria-label",O.bMT(2,4,"nav.logout")))}function U(Y,G){if(1&Y&&(O.j41(0,"div",17),O.DNE(1,k,5,3,"a",18),O.nI1(2,"async"),O.DNE(3,W,6,6,"a",19),O.nI1(4,"async"),O.k0s()),2&Y){const q=O.XpG();O.R7$(),O.Y8G("ngIf",!0!==O.bMT(2,2,q.isAuthenticated)),O.R7$(2),O.Y8G("ngIf",O.bMT(4,4,q.isAuthenticated))}}let K=(()=>{class Y{constructor(q,z,te){this.store=q,this.windowService=z,this.authService=te,this.showAuth=(0,m.of)(!1),this.isMobile$=this.windowService.isMobile()}ngOnInit(){this.isAuthenticated=this.store.pipe((0,e.Lt)(C.wR)),this.loading=this.store.pipe((0,e.Lt)(C.VV)),this.user=this.authService.getAuthenticatedUserFromStore(),this.showAuth=this.store.pipe((0,e.Lt)(E.ox),(0,f.p)(q=>(0,R.EA)(q)&&(0,R.EA)(q.state)),(0,v.T)(q=>!q.state.url.startsWith(_.S0)&&!q.state.url.startsWith(_.Ru)))}static{this.\u0275fac=function(z){return new(z||Y)(O.rXU(e.il),O.rXU(T.CV),O.rXU(_.uR))}}static{this.\u0275cmp=O.VBU({type:Y,selectors:[["ds-base-auth-nav-menu"]],standalone:!0,features:[O.aNF],decls:4,vars:4,consts:[["mobileButtons",""],["loginDrop","ngbDropdown"],["loggedInDrop","ngbDropdown"],["class","navbar-nav me-auto","data-test","auth-nav",4,"ngIf","ngIfElse"],["data-test","auth-nav",1,"navbar-nav","me-auto"],["class","nav-item",3,"click",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"nav-item",3,"click"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["href","javascript:void(0);","role","menuitem","aria-haspopup","menu","aria-controls","loginDropdownMenu","ngbDropdownToggle","",1,"dropdownLogin","px-0.5",3,"click"],["id","loginDropdownMenu","ngbDropdownMenu","","role","menu",3,"ngClass"],[3,"isStandalonePage"],[1,"nav-item"],["href","javascript:void(0);","role","menuitem","aria-controls","user-menu-dropdown","ngbDropdownToggle","",1,"dropdownLogout","px-1",3,"click","title"],[1,"fas","fa-user-circle","fa-lg","fa-fw"],["id","logoutDropdownMenu","ngbDropdownMenu",""],[3,"changedRoute","inExpandableNavbar"],["data-test","auth-nav"],["routerLink","/login","routerLinkActive","active","class","loginLink px-0.5","role","button",4,"ngIf"],["role","button","routerLink","/logout","routerLinkActive","active","class","logoutLink px-1",3,"title",4,"ngIf"],["routerLink","/login","routerLinkActive","active","role","button",1,"loginLink","px-0.5"],[1,"sr-only"],["role","button","routerLink","/logout","routerLinkActive","active",1,"logoutLink","px-1",3,"title"],[1,"fas","fa-sign-out-alt","fa-lg","fa-fw"]],template:function(z,te){if(1&z&&(O.DNE(0,B,7,10,"div",3),O.nI1(1,"async"),O.DNE(2,U,5,6,"ng-template",null,0,O.C5r)),2&z){const Z=O.sdS(3);O.Y8G("ngIf",!0!==O.bMT(1,2,te.isMobile$))("ngIfElse",Z)}},dependencies:[i.YU,i.bT,u.zH,u.tg,u.do,u.U0,A.W,t.Wk,t.wQ,x.r,i.Jj,h.h,h.D9,p.L],styles:["#loginDropdownMenu[_ngcontent-%COMP%], #logoutDropdownMenu[_ngcontent-%COMP%]{min-width:330px;z-index:1002}#loginDropdownMenu[_ngcontent-%COMP%]{min-height:75px}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:active, .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:#0000!important}.loginLink[_ngcontent-%COMP%], .dropdownLogin[_ngcontent-%COMP%], .logoutLink[_ngcontent-%COMP%], .dropdownLogout[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}.loginLink[_ngcontent-%COMP%]:hover, .loginLink[_ngcontent-%COMP%]:focus, .dropdownLogin[_ngcontent-%COMP%]:hover, .dropdownLogin[_ngcontent-%COMP%]:focus, .logoutLink[_ngcontent-%COMP%]:hover, .logoutLink[_ngcontent-%COMP%]:focus, .dropdownLogout[_ngcontent-%COMP%]:hover, .dropdownLogout[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}.dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible).active, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible):active, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible).active:focus, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible):active:focus, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible).active, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible):active, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible).active:focus, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible):active:focus{box-shadow:unset}"],data:{animation:[I.Ws,I.Xn]}})}}return Y})()},44002:(F,D,n)=>{"use strict";n.d(D,{v:()=>m});var i=n(8886),u=(n(56292),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"AuthNavMenuComponent"}importThemedComponent(E){return n(51808)(`./${E}/app/shared/auth-nav-menu/auth-nav-menu.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,56292))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-auth-nav-menu"]],standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},28619:(F,D,n)=>{"use strict";n.d(D,{r:()=>m});var i=n(54438),t=n(8886);n(51609);const e=["*"];function h(f,v){}let m=(()=>{class f extends t.J{constructor(){super(...arguments),this.changedRoute=new i.bkB,this.inAndOutputNames=["inExpandableNavbar","changedRoute"]}getComponentName(){return"UserMenuComponent"}importThemedComponent(E){return n(13361)(`./${E}/app/shared/auth-nav-menu/user-menu/user-menu.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,51609))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=i.xGo(f)))(C||f)}})()}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-user-menu"]],inputs:{inExpandableNavbar:"inExpandableNavbar"},outputs:{changedRoute:"changedRoute"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(i.NAR(),i.DNE(0,h,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return f})()},51609:(F,D,n)=>{"use strict";n.r(D),n.d(D,{UserMenuComponent:()=>W});var i=n(60177),t=n(54438),u=n(7901),e=n(25499),h=n(41780),m=n(69799),f=n(67116),v=n(38169),E=n(96526),_=n(92157),C=n(82394),I=n(61980),R=n(65007),T=n(5090),A=n(25558),p=n(3970);const x=U=>[U],O=()=>["/adminpool"],w=()=>["/jtdr"];function M(U,K){1&U&&t.nrm(0,"ds-loading")}function L(U,K){if(1&U){const Y=t.RV6();t.j41(0,"li",5),t.bIt("click",function(){t.eBV(Y);const q=t.XpG(2);return t.Njj(q.onMenuItemClick())}),t.j41(1,"a",6),t.EFF(2," Jtdr "),t.k0s()()}2&U&&(t.R7$(),t.Y8G("routerLink",t.lJ4(1,w)))}function B(U,K){1&U&&(t.qex(0),t.nrm(1,"li",8),t.j41(2,"li",9),t.nrm(3,"ds-log-out",10),t.k0s(),t.bVm())}function k(U,K){if(1&U){const Y=t.RV6();t.j41(0,"ul",2),t.nI1(1,"translate"),t.j41(2,"li",3),t.EFF(3),t.nI1(4,"async"),t.nrm(5,"br"),t.j41(6,"span",4),t.EFF(7),t.nI1(8,"async"),t.k0s()(),t.j41(9,"li",5),t.bIt("click",function(){t.eBV(Y);const q=t.XpG();return t.Njj(q.onMenuItemClick())}),t.j41(10,"a",6),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"li",5),t.bIt("click",function(){t.eBV(Y);const q=t.XpG();return t.Njj(q.onMenuItemClick())}),t.j41(14,"a",6),t.EFF(15),t.nI1(16,"translate"),t.k0s()(),t.j41(17,"li",5),t.bIt("click",function(){t.eBV(Y);const q=t.XpG();return t.Njj(q.onMenuItemClick())}),t.j41(18,"a",6),t.EFF(19,"Admin pool"),t.k0s()(),t.DNE(20,L,3,2,"li",7),t.nI1(21,"async"),t.j41(22,"li",5),t.bIt("click",function(){t.eBV(Y);const q=t.XpG();return t.Njj(q.onMenuItemClick())}),t.j41(23,"a",6),t.EFF(24),t.nI1(25,"translate"),t.k0s()(),t.DNE(26,B,4,0,"ng-container",0),t.k0s()}if(2&U){let Y;const G=t.XpG();t.Y8G("ngClass",G.inExpandableNavbar?"user-menu-mobile pb-2 mb-2 border-bottom":"user-menu-dropdown"),t.BMQ("aria-label",t.bMT(1,13,"nav.user-profile-menu-and-logout")),t.R7$(3),t.SpI(" ",G.dsoNameService.getName(t.bMT(4,15,G.user$)),""),t.R7$(4),t.JRh(null==(Y=t.bMT(8,17,G.user$))?null:Y.email),t.R7$(3),t.Y8G("routerLink",t.eq3(27,x,G.profileRoute)),t.R7$(),t.JRh(t.bMT(12,19,"nav.profile")),t.R7$(3),t.Y8G("routerLink",t.eq3(29,x,G.mydspaceRoute)),t.R7$(),t.JRh(t.bMT(16,21,"nav.mydspace")),t.R7$(3),t.Y8G("routerLink",t.lJ4(31,O)),t.R7$(2),t.Y8G("ngIf",t.bMT(21,23,G.isAdmin$)),t.R7$(3),t.Y8G("routerLink",t.eq3(32,x,G.subscriptionsRoute)),t.R7$(),t.JRh(t.bMT(25,25,"nav.subscriptions")),t.R7$(2),t.Y8G("ngIf",!G.inExpandableNavbar)}}let W=(()=>{class U{constructor(Y,G,q,z,te){this.store=Y,this.authService=G,this.dsoNameService=q,this.authorizationService=z,this.siteDataService=te,this.inExpandableNavbar=!1,this.changedRoute=new t.bkB,this.mydspaceRoute=_.MYDSPACE_ROUTE,this.profileRoute=(0,m.Th)(),this.subscriptionsRoute=(0,m.gf)()}ngOnInit(){this.loading$=this.store.pipe((0,e.Lt)(v.VV)),this.user$=this.authService.getAuthenticatedUserFromStore(),this.isAdmin$=this.siteDataService.find().pipe((0,A.n)(Y=>this.authorizationService.isAuthorized(p._.AdministratorOf,Y._links.self.href)))}onMenuItemClick(){this.changedRoute.emit()}static{this.\u0275fac=function(G){return new(G||U)(t.rXU(e.il),t.rXU(f.uR),t.rXU(E.f),t.rXU(R.AuthorizationDataService),t.rXU(T.SiteDataService))}}static{this.\u0275cmp=t.VBU({type:U,selectors:[["ds-base-user-menu"]],inputs:{inExpandableNavbar:"inExpandableNavbar"},outputs:{changedRoute:"changedRoute"},standalone:!0,features:[t.aNF],decls:4,vars:6,consts:[[4,"ngIf"],["class","user-menu","role","menu","id","user-menu-dropdown",3,"ngClass",4,"ngIf"],["role","menu","id","user-menu-dropdown",1,"user-menu",3,"ngClass"],["role","presentation",1,"ds-menu-item-wrapper","username-email-wrapper"],[1,"text-muted"],["role","presentation",1,"ds-menu-item-wrapper",3,"click"],["role","menuitem","routerLinkActive","active",1,"ds-menu-item",3,"routerLink"],["class","ds-menu-item-wrapper","role","presentation",3,"click",4,"ngIf"],["aria-hidden","true",1,"dropdown-divider"],["role","presentation",1,"ds-menu-item-wrapper"],["data-test","log-out-component"]],template:function(G,q){1&G&&(t.DNE(0,M,1,0,"ds-loading",0),t.nI1(1,"async"),t.DNE(2,k,27,34,"ul",1),t.nI1(3,"async")),2&G&&(t.Y8G("ngIf",t.bMT(1,2,q.loading$)),t.R7$(2),t.Y8G("ngIf",!0!==t.bMT(3,4,q.loading$)))},dependencies:[i.bT,C.v,u.wQ,i.YU,u.Wk,I.y,i.Jj,h.h,h.D9],styles:["[_nghost-%COMP%]   ul.user-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%], [_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper.username-email-wrapper[_ngcontent-%COMP%]{padding:var(--ds-user-menu-item-vertical-padding) var(--ds-user-menu-dropdown-padding)}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%]{display:block;color:var(--ds-expandable-navbar-link-color)}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%]:hover{color:var(--ds-expandable-navbar-link-color-hover);background-color:var(--ds-user-menu-dropdown-link-background-hover)}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]{padding-top:var(--ds-user-menu-item-vertical-padding);padding-bottom:var(--ds-user-menu-item-vertical-padding)}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%], [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]{color:var(--ds-expandable-navbar-link-color)!important}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]:focus{color:var(--ds-expandable-navbar-link-background-hover)!important}"]})}}return U})()},22192:(F,D,n)=>{"use strict";n.r(D),n.d(D,{BrowseByComponent:()=>G});var i=n(60177),t=n(54438),u=n(41780),e=n(84412),h=n(84572),m=n(96354),v=(n(6238),n(22978)),E=n(56760),_=n(78448),C=n(50332),I=n(82777),R=n(79632),T=n(82394),A=n(67560),p=n(4420),x=n(31956),O=n(19798),w=n(18226);function M(q,z){if(1&q&&(t.j41(0,"h1"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&q){const te=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,te.title))}}function L(q,z){if(1&q&&(t.j41(0,"div",6),t.nrm(1,"ds-results-back-button",7),t.k0s()),2&q){const te=t.XpG(3);t.R7$(),t.Y8G("back",te.back)("buttonLabel",te.buttonLabel)}}function B(q,z){if(1&q){const te=t.RV6();t.j41(0,"div"),t.DNE(1,L,2,2,"div",4),t.nI1(2,"async"),t.j41(3,"ds-viewable-collection",5),t.bIt("prev",function(){t.eBV(te);const J=t.XpG(2);return t.Njj(J.goPrev())})("next",function(){t.eBV(te);const J=t.XpG(2);return t.Njj(J.goNext())}),t.k0s()()}if(2&q){const te=t.XpG().ngVar,Z=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("ngIf",t.bMT(2,6,Z.shouldDisplayResetButton$)),t.R7$(2),t.Y8G("config",Z.paginationConfig)("sortConfig",Z.sortConfig)("showPaginator",Z.showPaginator)("objects",te)}}function k(q,z){1&q&&(t.nrm(0,"ds-loading",8),t.nI1(1,"translate")),2&q&&t.FS9("message",t.bMT(1,1,"loading.browse-by"))}function W(q,z){1&q&&(t.nrm(0,"ds-error",8),t.nI1(1,"translate")),2&q&&t.FS9("message",t.bMT(1,1,"error.browse-by"))}function U(q,z){if(1&q&&(t.j41(0,"div",11),t.nrm(1,"ds-results-back-button",7),t.k0s()),2&q){const te=t.XpG(3);t.R7$(),t.Y8G("back",te.back)("buttonLabel",te.buttonLabel)}}function K(q,z){if(1&q&&(t.j41(0,"div"),t.DNE(1,U,2,2,"div",9),t.nI1(2,"async"),t.j41(3,"div",10),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&q){const te=t.XpG(2);t.R7$(),t.Y8G("ngIf",t.bMT(2,2,te.shouldDisplayResetButton$)),t.R7$(3),t.SpI(" ",t.bMT(5,4,"browse.empty")," ")}}function Y(q,z){if(1&q&&(t.qex(0),t.DNE(1,M,3,3,"h1",1),t.nrm(2,"ds-starts-with-loader",2),t.DNE(3,B,4,8,"div",1)(4,k,2,3,"ds-loading",3)(5,W,2,3,"ds-error",3)(6,K,6,6,"div",1),t.bVm()),2&q){const te=z.ngVar,Z=t.XpG();t.R7$(),t.Y8G("ngIf",Z.displayTitle),t.R7$(),t.Y8G("paginationId",null==Z.paginationConfig?null:Z.paginationConfig.id)("startsWithOptions",Z.startsWithOptions)("type",Z.type),t.R7$(),t.Y8G("ngIf",(null==te?null:te.hasSucceeded)&&!(null!=te&&te.isLoading)&&(null==te||null==te.payload?null:te.payload.page.length)>0),t.R7$(),t.Y8G("ngIf",!te||(null==te?null:te.isLoading)),t.R7$(),t.Y8G("ngIf",null==te?null:te.hasFailed),t.R7$(),t.Y8G("ngIf",!(null!=te&&te.isLoading)&&0===(null==te||null==te.payload?null:te.payload.page.length))}}let G=(()=>{class q{constructor(te,Z,J,Q){this.injector=te,this.paginationService=Z,this.translateService=J,this.routeService=Q,this.viewMode=_.n.ListElement,this.displayTitle=!0,this.type=O.c.text,this.startsWithOptions=[],this.showPaginator=!0,this.hideGear=!1,this.prev=new t.bkB,this.next=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.previousPage$=new e.t("1"),this.buttonLabel=this.translateService.get("browse.back.all-results"),this.back=()=>{this.paginationService.updateRoute(this.paginationConfig.id,{page:+this.previousPage$.value>1?+this.previousPage$.value:1},{[this.paginationConfig.id+".return"]:null,value:null,startsWith:null})}}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}ngOnInit(){const te=this.routeService.getQueryParameterValue("startsWith"),Z=this.routeService.getQueryParameterValue("value");this.shouldDisplayResetButton$=(0,h.z)([te,Z]).pipe((0,m.T)(([J,Q])=>(0,I.a4)(J)||(0,I.a4)(Q)))}ngOnChanges(){this.sub&&this.sub.unsubscribe(),this.sub=this.routeService.getQueryParameterValue(this.paginationConfig.id+".return").subscribe(this.previousPage$)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(Z){return new(Z||q)(t.rXU(t.zZn),t.rXU(v.m),t.rXU(u.c$),t.rXU(E.v$))}}static{this.\u0275cmp=t.VBU({type:q,selectors:[["ds-base-browse-by"]],inputs:{title:"title",displayTitle:"displayTitle",objects$:"objects$",paginationConfig:"paginationConfig",sortConfig:"sortConfig",type:"type",startsWithOptions:"startsWithOptions",showPaginator:"showPaginator",hideGear:"hideGear"},outputs:{prev:"prev",next:"next",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"paginationId","startsWithOptions","type"],[3,"message",4,"ngIf"],["class","mb-2 reset",4,"ngIf"],[3,"prev","next","config","sortConfig","showPaginator","objects"],[1,"mb-2","reset"],[3,"back","buttonLabel"],[3,"message"],["class","d-inline-block mb-4 reset",4,"ngIf"],["role","alert",1,"alert","alert-info","w-100"],[1,"d-inline-block","mb-4","reset"]],template:function(Z,J){1&Z&&(t.DNE(0,Y,7,8,"ng-container",0),t.nI1(1,"async")),2&Z&&t.Y8G("ngVar",t.bMT(1,1,J.objects$))},dependencies:[w.r,i.bT,p.U,A.h,T.v,R.A,i.Jj,u.h,u.D9,x.u],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}"],data:{animation:[C.qG,C.Ws]}})}}return q})()},37958:(F,D,n)=>{"use strict";n.d(D,{U:()=>v});var i=n(54438),e=(n(6238),n(19798),n(8886));n(22192);const m=["*"];function f(E,_){}let v=(()=>{class E extends e.J{constructor(){super(...arguments),this.prev=new i.bkB,this.next=new i.bkB,this.pageSizeChange=new i.bkB,this.sortDirectionChange=new i.bkB,this.inAndOutputNames=["title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","showPaginator","hideGear","prev","next","pageSizeChange","sortDirectionChange"]}getComponentName(){return"BrowseByComponent"}importThemedComponent(C){return n(60939)(`./${C}/app/shared/browse-by/browse-by.component.ts`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,22192))}static{this.\u0275fac=(()=>{let C;return function(R){return(C||(C=i.xGo(E)))(R||E)}})()}static{this.\u0275cmp=i.VBU({type:E,selectors:[["ds-browse-by"]],inputs:{title:"title",displayTitle:"displayTitle",objects$:"objects$",paginationConfig:"paginationConfig",sortConfig:"sortConfig",type:"type",startsWithOptions:"startsWithOptions",showPaginator:"showPaginator",hideGear:"hideGear"},outputs:{prev:"prev",next:"next",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(I,R){1&I&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return E})()},60456:(F,D,n)=>{"use strict";n.d(D,{A:()=>t});var i=n(54438);let t=(()=>{class u{constructor(){this.isDisabled=!1}set dsBtnDisabled(h){this.isDisabled=!!h}get disabledClass(){return this.isDisabled}handleClick(h){this.isDisabled&&(h.preventDefault(),h.stopImmediatePropagation())}handleKeydown(h){this.isDisabled&&("Enter"===h.key||"Space"===h.key)&&(h.preventDefault(),h.stopImmediatePropagation())}static{this.\u0275fac=function(m){return new(m||u)}}static{this.\u0275dir=i.FsC({type:u,selectors:[["","dsBtnDisabled",""]],hostVars:3,hostBindings:function(m,f){1&m&&i.bIt("click",function(E){return f.handleClick(E)})("keydown",function(E){return f.handleKeydown(E)}),2&m&&(i.BMQ("aria-disabled",f.isDisabled),i.AVh("disabled",f.disabledClass))},inputs:{dsBtnDisabled:"dsBtnDisabled"},standalone:!0})}}return u})()},14860:(F,D,n)=>{"use strict";n.r(D),n.d(D,{CollectionDropdownComponent:()=>q});var i=n(60177),t=n(54438),u=n(89417),e=n(41780),h=n(86820),m=n(84412),f=n(22806),v=n(7673),E=n(70152),_=n(23294),C=n(99172),I=n(25558),R=n(73028),T=n(96354),A=n(19852),p=n(96697),x=n(96526),O=n(6983),w=n(80183),M=n(82777),L=n(82394),B=n(67600);function k(z,te){if(1&z){const Z=t.RV6();t.j41(0,"div",6)(1,"input",7,0),t.nI1(3,"translate"),t.bIt("click",function(Q){return t.eBV(Z),t.Njj(Q.stopPropagation())}),t.k0s()()}if(2&z){const Z=t.XpG();t.R7$(),t.FS9("placeholder",t.bMT(3,2,"submission.sections.general.search-collection")),t.Y8G("formControl",Z.searchField)}}function W(z,te){1&z&&(t.j41(0,"li",8),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&z&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"submission.sections.general.no-collection")," "))}function U(z,te){if(1&z&&(t.j41(0,"div",14),t.EFF(1),t.nrm(2,"i",15),t.k0s()),2&z){const Z=te.$implicit;t.R7$(),t.SpI(" ",Z.name," ")}}function K(z,te){if(1&z){const Z=t.RV6();t.j41(0,"li",10),t.bIt("click",function(){const Q=t.eBV(Z).$implicit,ee=t.XpG(2);return t.Njj(ee.onSelect(Q))}),t.j41(1,"div",11),t.DNE(2,U,3,1,"div",12),t.j41(3,"div",13),t.EFF(4),t.k0s()()()}if(2&z){const Z=te.$implicit;t.FS9("title",Z.collection.name),t.R7$(2),t.Y8G("ngForOf",Z.communities),t.R7$(2),t.JRh(Z.collection.name)}}function Y(z,te){if(1&z&&(t.qex(0),t.DNE(1,K,5,3,"li",9),t.bVm()),2&z){const Z=t.XpG();t.R7$(),t.Y8G("ngForOf",Z.searchListCollection)}}function G(z,te){1&z&&(t.j41(0,"li")(1,"button",16),t.nrm(2,"ds-loading",17),t.nI1(3,"translate"),t.k0s()()),2&z&&(t.R7$(2),t.FS9("message",t.bMT(3,1,"loading.default")))}let q=(()=>{class z{constructor(Z,J,Q,ee){this.changeDetectorRef=Z,this.collectionDataService=J,this.el=Q,this.dsoNameService=ee,this.searchField=new u.hs,this.scrollableBottom=!1,this.scrollableTop=!1,this.subs=[],this.searchListCollection=[],this.selectionChange=new t.bkB,this.isLoading=new m.t(!1),this.searchComplete=new t.bkB,this.theOnlySelectable=new t.bkB}onMousewheel(Z){Z.wheelDelta>0&&this.scrollableTop&&Z.preventDefault(),Z.wheelDelta<0&&this.scrollableBottom&&Z.preventDefault()}ngOnInit(){this.isLoading.next(!1),this.subs.push(this.searchField.valueChanges.pipe((0,E.B)(500),(0,_.F)(),(0,C.Z)("")).subscribe(Z=>{(0,M.a4)(Z)&&Z!==this.currentQuery&&(this.resetPagination(),this.currentQuery=Z,this.populateCollectionList(this.currentQuery,this.currentPage))})),setTimeout(()=>this.el.nativeElement.querySelector("input").focus(),0)}onScroll(Z){this.scrollableBottom=Z.target.scrollTop+Z.target.clientHeight===Z.target.scrollHeight,this.scrollableTop=0===Z.target.scrollTop}onScrollDown(){this.hasNextPage&&this.populateCollectionList(this.currentQuery,++this.currentPage)}onSelect(Z){this.isLoading.next(!0),this.selectionChange.emit(Z)}populateCollectionList(Z,J){this.isLoading.next(!0);const Q={elementsPerPage:10,currentPage:J};let ee;ee=this.entityType?this.collectionDataService.getAuthorizedCollectionByEntityType(Z,this.entityType,Q,!0,(0,B.s)("parentCommunity")):this.collectionDataService.getAuthorizedCollection(Z,Q,!0,!0,(0,B.s)("parentCommunity")),this.searchListCollection$=ee.pipe((0,w.qD)(),(0,I.n)(le=>(this.searchComplete.emit(),le.hasSucceeded&&le.payload.totalElements>0?(this.searchListCollection.length>=le.payload.totalElements&&(this.hasNextPage=!1),this.emitSelectionEvents(le),(0,f.H)(le.payload.page).pipe((0,R.Z)(ne=>ne.parentCommunity.pipe((0,w.ak)(),(0,T.T)(fe=>({communities:[{id:fe.id,name:this.dsoNameService.getName(fe)}],collection:{id:ne.id,uuid:ne.id,name:this.dsoNameService.getName(ne)}})))),(0,A.T)((ne,fe)=>[...ne,fe],[]))):(this.hasNextPage=!1,(0,v.of)([]))))),this.subs.push(this.searchListCollection$.subscribe(le=>{this.searchListCollection.push(...le),this.hideShowLoader(!1),this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(Z=>(0,M.a4)(Z)).forEach(Z=>Z.unsubscribe())}reset(){this.searchField.setValue("")}resetPagination(){this.currentPage=1,this.currentQuery="",this.hasNextPage=!0,this.searchListCollection=[]}hideShowLoader(Z){this.isLoading.next(Z)}emitSelectionEvents(Z){if(1===Z.payload.totalElements){const J=Z.payload.page[0];Z.payload.page[0].parentCommunity.pipe((0,w.ak)(),(0,p.s)(1)).subscribe(Q=>{this.theOnlySelectable.emit({communities:[{id:Q.id,name:this.dsoNameService.getName(Q),uuid:Q.id}],collection:{id:J.id,uuid:J.id,name:this.dsoNameService.getName(J)}})})}}static{this.\u0275fac=function(J){return new(J||z)(t.rXU(t.gRc),t.rXU(O.CollectionDataService),t.rXU(t.aKT),t.rXU(x.f))}}static{this.\u0275cmp=t.VBU({type:z,selectors:[["ds-base-collection-dropdown"]],hostBindings:function(J,Q){1&J&&t.bIt("mousewheel",function(le){return Q.onMousewheel(le)})},inputs:{entityType:"entityType"},outputs:{selectionChange:"selectionChange",searchComplete:"searchComplete",theOnlySelectable:"theOnlySelectable"},standalone:!0,features:[t.aNF],decls:8,vars:13,consts:[["searchFieldEl",""],["class","mb-3 w-100 pe-2 ps-2 my-2",4,"ngIf"],[1,"dropdown-divider","m-0"],["role","menu","infiniteScroll","",1,"scrollable-menu","p-0","m-0",3,"scroll","scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","fromRoot","scrollWindow"],["class","dropdown-item disabled","role","menuitem",4,"ngIf"],[4,"ngIf"],[1,"mb-3","w-100","pe-2","ps-2","my-2"],["type","search",1,"form-control","w-100",3,"click","placeholder","formControl"],["role","menuitem",1,"dropdown-item","disabled"],["class","dropdown-item collection-item","role","menuitem",3,"title","click",4,"ngFor","ngForOf"],["role","menuitem",1,"dropdown-item","collection-item",3,"click","title"],[1,"list-unstyled","mb-0"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-primary","fw-bold"],[1,"list-item","text-truncate","text-secondary"],["aria-hidden","true",1,"fa","fa-level-down"],[1,"dropdown-item","disabled"],[3,"message"]],template:function(J,Q){1&J&&(t.DNE(0,k,4,4,"div",1),t.nrm(1,"div",2),t.j41(2,"ul",3),t.bIt("scroll",function(le){return Q.onScroll(le)})("scrolled",function(){return Q.onScrollDown()}),t.DNE(3,W,3,3,"li",4),t.nI1(4,"async"),t.DNE(5,Y,2,1,"ng-container",5)(6,G,4,3,"li",5),t.nI1(7,"async"),t.k0s()),2&J&&(t.Y8G("ngIf",Q.searchField),t.R7$(2),t.Y8G("infiniteScrollDistance",1.5)("infiniteScrollThrottle",0)("infiniteScrollUpDistance",1.5)("fromRoot",!0)("scrollWindow",!1),t.R7$(),t.Y8G("ngIf",0===(null==Q.searchListCollection?null:Q.searchListCollection.length)&&!0!==t.bMT(4,9,Q.isLoading)),t.R7$(2),t.Y8G("ngIf",(null==Q.searchListCollection?null:Q.searchListCollection.length)>0),t.R7$(),t.Y8G("ngIf",t.bMT(7,11,Q.isLoading)))},dependencies:[i.bT,u.YN,u.me,u.BC,u.X1,u.l_,h.eO,h.DP,i.pM,L.v,i.Jj,e.h,e.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}li[_ngcontent-%COMP%]:not(:last-of-type), .dropdown-divider[_ngcontent-%COMP%]{border-top:none;border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#collectionControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;left:0!important;box-shadow:var(--bs-btn-focus-box-shadow)}"]})}}return z})()},90934:(F,D,n)=>{"use strict";n.d(D,{m:()=>m});var i=n(54438),t=n(8886);n(14860);const e=["*"];function h(f,v){}let m=(()=>{class f extends t.J{constructor(){super(...arguments),this.searchComplete=new i.bkB,this.theOnlySelectable=new i.bkB,this.selectionChange=new i.bkB,this.inAndOutputNames=["entityType","searchComplete","theOnlySelectable","selectionChange"]}getComponentName(){return"CollectionDropdownComponent"}importThemedComponent(E){return n(80882)(`./${E}/app/shared/collection-dropdown/collection-dropdown.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,14860))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=i.xGo(f)))(C||f)}})()}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-collection-dropdown"]],inputs:{entityType:"entityType"},outputs:{searchComplete:"searchComplete",theOnlySelectable:"theOnlySelectable",selectionChange:"selectionChange"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(i.NAR(),i.DNE(0,h,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return f})()},9284:(F,D,n)=>{"use strict";n.d(D,{M:()=>f});var i=n(60177),t=n(54438),u=n(41780),e=n(58003);const h=v=>({dsoName:v});function m(v,E){if(1&v&&t.nrm(0,"i"),2&v){const _=t.XpG();t.HbH(_.confirmIcon)}}let f=(()=>{class v{constructor(_){this.activeModal=_,this.brandColor="primary",this.response=new t.bkB}confirmPressed(){this.response.emit(!0),this.close()}cancelPressed(){this.response.emit(!1),this.close()}close(){this.activeModal.close()}static{this.\u0275fac=function(C){return new(C||v)(t.rXU(e.Lw))}}static{this.\u0275cmp=t.VBU({type:v,selectors:[["ds-confirmation-modal"]],inputs:{headerLabel:"headerLabel",infoLabel:"infoLabel",cancelLabel:"cancelLabel",confirmLabel:"confirmLabel",confirmIcon:"confirmIcon",brandColor:"brandColor",name:"name"},outputs:{response:"response"},standalone:!0,features:[t.aNF],decls:18,vars:28,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button","aria-label","Cancel",1,"cancel","btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],["type","button","aria-label","Confirm","ngbAutofocus","",3,"click"],[3,"class",4,"ngIf"]],template:function(C,I){1&C&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return I.close()}),t.k0s()(),t.j41(5,"div",2)(6,"p"),t.EFF(7),t.nI1(8,"translate"),t.k0s()(),t.j41(9,"div",3)(10,"button",4),t.bIt("click",function(){return I.cancelPressed()}),t.nrm(11,"i",5),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.j41(14,"button",6),t.bIt("click",function(){return I.confirmPressed()}),t.DNE(15,m,1,3,"i",7),t.EFF(16),t.nI1(17,"translate"),t.k0s()()()),2&C&&(t.R7$(2),t.SpI("",t.i5U(3,8,I.headerLabel,t.eq3(20,h,I.name))," "),t.R7$(5),t.JRh(t.i5U(8,11,I.infoLabel,t.eq3(22,h,I.name))),t.R7$(5),t.SpI(" ",t.i5U(13,14,I.cancelLabel,t.eq3(24,h,I.name))," "),t.R7$(2),t.ZvI("confirm btn btn-",I.brandColor,""),t.R7$(),t.Y8G("ngIf",I.confirmIcon),t.R7$(),t.SpI(" ",t.i5U(17,17,I.confirmLabel,t.eq3(26,h,I.name))," "))},dependencies:[i.bT,u.h,u.D9],encapsulation:2})}}return v})()},55116:(F,D,n)=>{"use strict";n.d(D,{C:()=>E,Ed:()=>f,JD:()=>v,Ln:()=>u,Xd:()=>h,eE:()=>e,y5:()=>t});var i=n(91e3);const t={CONTEXT_HELP_TOGGLE_ICONS:(0,i.N)("dspace/context-help/CONTEXT_HELP_TOGGLE_ICONS"),CONTEXT_HELP_ADD:(0,i.N)("dspace/context-help/CONTEXT_HELP_ADD"),CONTEXT_HELP_REMOVE:(0,i.N)("dspace/context-help/CONTEXT_HELP_REMOVE"),CONTEXT_HELP_TOGGLE_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_TOGGLE_TOOLTIP"),CONTEXT_HELP_SHOW_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_SHOW_TOOLTIP"),CONTEXT_HELP_HIDE_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_HIDE_TOOLTIP")};class u{constructor(){this.type=t.CONTEXT_HELP_TOGGLE_ICONS}}class e{constructor(C){this.type=t.CONTEXT_HELP_ADD,this.model=C}}class h{constructor(C){this.type=t.CONTEXT_HELP_REMOVE,this.id=C}}class m{constructor(C){this.id=C}}class f extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_TOGGLE_TOOLTIP}}class v extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_SHOW_TOOLTIP}}class E extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_HIDE_TOOLTIP}}},48674:(F,D,n)=>{"use strict";n.d(D,{G:()=>L});var i=n(40188),t=n(60177),u=n(58003),e=n(84412),h=n(84572),m=n(23294),f=n(73028),v=n(96354),E=n(82777),_=n(54438),C=n(41780);const I=["tooltip"],R=(B,k)=>({"ds-context-help-icon fas fa-question-circle shadow-sm":!0,"ds-context-help-icon-right":B,"ds-context-help-icon-left":k});function T(B,k){if(1&B&&(_.qex(0),_.j41(1,"a",7),_.EFF(2),_.k0s(),_.bVm()),2&B){const W=_.XpG().$implicit;_.R7$(),_.FS9("href",W.href,_.B4B),_.R7$(),_.JRh(W.text)}}function A(B,k){if(1&B&&(_.qex(0),_.EFF(1),_.bVm()),2&B){const W=_.XpG().$implicit;_.R7$(),_.SpI(" ",W," ")}}function p(B,k){if(1&B&&(_.qex(0),_.DNE(1,T,3,2,"ng-container",6)(2,A,2,1,"ng-container",6),_.bVm()),2&B){const W=k.$implicit;_.R7$(),_.Y8G("ngIf",W.href),_.R7$(),_.Y8G("ngIf",void 0===W.href)}}function x(B,k){if(1&B&&(_.j41(0,"div",4),_.DNE(1,p,3,2,"ng-container",5),_.nI1(2,"async"),_.k0s()),2&B){const W=_.XpG();_.R7$(),_.Y8G("ngForOf",_.bMT(2,1,W.parsedContent$))}}function O(B,k){if(1&B){const W=_.RV6();_.j41(0,"i",8,1),_.bIt("click",function(){_.eBV(W);const K=_.XpG();return _.Njj(K.onClick())}),_.k0s()}if(2&B){const W=_.XpG(),U=_.sdS(1);_.Y8G("ngClass",_.l_i(3,R,"left"!==W.iconPlacement,"left"===W.iconPlacement))("ngbTooltip",U)("placement",W.tooltipPlacement)}}function w(B,k){1&B&&_.eu8(0)}let M=(()=>{class B{set dontParseLinks(W){this.dontParseLinks$.next(W)}set content(W){this.content$.next(W)}constructor(W,U){this.translateService=W,this.contextHelpService=U,this.tooltipPlacement=[],this.iconPlacement="left",this.dontParseLinks$=new e.t(!1),this.content$=new e.t(void 0),this.subs=[]}ngOnInit(){this.parsedContent$=(0,h.z)([this.content$.pipe((0,m.F)(),(0,f.Z)(W=>this.translateService.get(W))),this.dontParseLinks$.pipe((0,m.F)())]).pipe((0,v.T)(([W,U])=>U?[W]:this.parseLinks(W))),this.shouldShowIcon$=this.contextHelpService.shouldShowIcons$()}set setTooltip(W){this.tooltip=W,this.clearSubs(),void 0!==this.tooltip&&(this.subs=[this.contextHelpService.getContextHelp$(this.id).pipe((0,E.Az)()).subscribe(U=>{U.isTooltipVisible&&!this.tooltip.isOpen()?this.tooltip.open():!U.isTooltipVisible&&this.tooltip.isOpen()&&this.tooltip.close()}),this.tooltip.shown.subscribe(()=>{this.contextHelpService.showTooltip(this.id)}),this.tooltip.hidden.subscribe(()=>{this.contextHelpService.hideTooltip(this.id)})])}ngOnDestroy(){this.clearSubs()}onClick(){this.contextHelpService.toggleTooltip(this.id)}parseLinks(W){const K=/^\[([^\]]*)\]\(([^\)]*)\)$/;return W.match(/[^\[]+|\[([^\]]*)\]\(([^\)]*)\)/g).map(Y=>{const G=Y.match(K);return null===G?Y:{href:G[2],text:G[1]}})}clearSubs(){this.subs.forEach(W=>W.unsubscribe()),this.subs=[]}static{this.\u0275fac=function(U){return new(U||B)(_.rXU(C.c$),_.rXU(i.O))}}static{this.\u0275cmp=_.VBU({type:B,selectors:[["ds-context-help-wrapper"]],viewQuery:function(U,K){if(1&U&&_.GBs(I,5),2&U){let Y;_.mGM(Y=_.lsd())&&(K.setTooltip=Y.first)}},inputs:{templateRef:"templateRef",id:"id",tooltipPlacement:"tooltipPlacement",iconPlacement:"iconPlacement",dontParseLinks:"dontParseLinks",content:"content"},standalone:!0,features:[_.aNF],decls:5,vars:4,consts:[["help",""],["tooltip","ngbTooltip"],["autoClose","outside","triggers","manual","container","body",3,"ngClass","ngbTooltip","placement","click",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"preserve-line-breaks","ds-context-help-content"],[4,"ngFor","ngForOf"],[4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href"],["autoClose","outside","triggers","manual","container","body",3,"click","ngClass","ngbTooltip","placement"]],template:function(U,K){1&U&&(_.DNE(0,x,3,3,"ng-template",null,0,_.C5r)(2,O,2,6,"i",2),_.nI1(3,"async"),_.DNE(4,w,1,0,"ng-container",3)),2&U&&(_.R7$(2),_.Y8G("ngIf",_.bMT(3,2,K.shouldShowIcon$)),_.R7$(2),_.Y8G("ngTemplateOutlet",K.templateRef))},dependencies:[t.pM,t.bT,t.YU,u.n8,u.md,t.T3,t.Jj],styles:["[_nghost-%COMP%]{position:relative}.ds-context-help-icon[_ngcontent-%COMP%]{position:absolute;top:0;cursor:pointer;color:var(--bs-info);background-color:var(--bs-white);font-size:16px;line-height:1;border-radius:50%}.ds-context-help-icon-left[_ngcontent-%COMP%]{left:var(--ds-context-x-offset)}.ds-context-help-icon-right[_ngcontent-%COMP%]{right:calc(-1 * var(--ds-context-help-icon-size))}  .tooltip-inner{width:var(--ds-context-help-tooltip-width);max-width:var(--ds-context-help-tooltip-width)}  .tooltip-inner a{color:var(--ds-context-help-tooltip-link-color);text-decoration:underline}"]})}}return B})(),L=(()=>{class B{constructor(W,U,K){this.templateRef=W,this.viewContainerRef=U,this.contextHelpService=K,this.mostRecentId=void 0}ngOnChanges(){this.clearMostRecentId(),this.mostRecentId=this.dsContextHelp.id,this.contextHelpService.add({id:this.dsContextHelp.id,isTooltipVisible:!1}),void 0===this.wrapper&&(this.wrapper=this.viewContainerRef.createComponent(M)),this.wrapper.setInput("templateRef",this.templateRef),this.wrapper.setInput("content",this.dsContextHelp.content),this.wrapper.setInput("id",this.dsContextHelp.id),this.wrapper.setInput("tooltipPlacement",this.dsContextHelp.tooltipPlacement),this.wrapper.setInput("iconPlacement",this.dsContextHelp.iconPlacement)}ngOnDestroy(){this.clearMostRecentId(),(0,E.a4)(this.wrapper)&&(this.wrapper.destroy(),this.wrapper=void 0)}clearMostRecentId(){void 0!==this.mostRecentId&&this.contextHelpService.remove(this.mostRecentId)}static{this.\u0275fac=function(U){return new(U||B)(_.rXU(_.C4Q),_.rXU(_.c1b),_.rXU(i.O))}}static{this.\u0275dir=_.FsC({type:B,selectors:[["","dsContextHelp",""]],inputs:{dsContextHelp:"dsContextHelp"},standalone:!0,features:[_.OA$]})}}return B})()},40188:(F,D,n)=>{"use strict";n.d(D,{O:()=>E});var i=n(25499),t=n(96354),u=n(55116),e=n(54438);const h=(0,i.UX)("contextHelp"),m=(0,i.Mz)(h,_=>_.allIconsVisible),v=(0,i.Mz)(h,_=>_.models);let E=(()=>{class _{constructor(I){this.store=I}shouldShowIcons$(){return this.store.pipe((0,i.Lt)(m))}getContextHelp$(I){return this.store.pipe((0,i.Lt)((_=>(0,i.Mz)(h,C=>C.models[_]))(I)))}tooltipCount$(){return this.store.pipe((0,i.Lt)(v)).pipe((0,t.T)(I=>Object.keys(I).length))}toggleIcons(){this.store.dispatch(new u.Ln)}add(I){this.store.dispatch(new u.eE(I))}remove(I){this.store.dispatch(new u.Xd(I))}toggleTooltip(I){this.store.dispatch(new u.Ed(I))}showTooltip(I){this.store.dispatch(new u.JD(I))}hideTooltip(I){this.store.dispatch(new u.C(I))}static{this.\u0275fac=function(R){return new(R||_)(e.KVO(i.il))}}static{this.\u0275prov=e.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},49844:(F,D,n)=>{"use strict";n.d(D,{B:()=>t});var i=n(54438);let t=(()=>{class u{static{this.\u0275fac=function(m){return new(m||u)}}static{this.\u0275prov=i.jDH({token:u,factory:u.\u0275fac})}}return u})()},12866:(F,D,n)=>{"use strict";function i(O){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(O)}function t(O,w){if(w.length<O)throw new TypeError(O+" argument"+(O>1?"s":"")+" required, but only "+w.length+" present")}n.d(D,{Sd:()=>C,$T:()=>A,z5:()=>_,vd:()=>p,PR:()=>R,zX:()=>x});var m=n(56106),f=n(83278),v=n.n(f),E=n(82777);function _(O){return v()(O)&&O.hasOwnProperty("day")&&O.hasOwnProperty("month")&&O.hasOwnProperty("year")}function C(O){const w=O instanceof Date?O:I("string"==typeof O?R(O):O);return(0,m.formatInTimeZone)(w,"UTC","yyyy-MM-dd'T'HH:mm:ss'Z'")}function I(O){return new Date(Date.UTC(O.year,O.month-1,O.day))}function R(O){return function T(O){return(0,E.Tn)(O)&&(O=new Date),{year:O.getUTCFullYear(),month:O.getUTCMonth()+1,day:O.getUTCDate()}}(new Date(O))}function A(O){const w=O instanceof Date?O:I(O);return(0,m.formatInTimeZone)(w,"UTC","yyyy-MM-dd")}function p(O){return!(0,E.Tn)(O)&&function h(O){if(t(1,arguments),!function u(O){return t(1,arguments),O instanceof Date||"object"===i(O)&&"[object Date]"===Object.prototype.toString.call(O)}(O)&&"number"!=typeof O)return!1;var w=function e(O){t(1,arguments);var w=Object.prototype.toString.call(O);return O instanceof Date||"object"===i(O)&&"[object Date]"===w?new Date(O.getTime()):"number"==typeof O||"[object Number]"===w?new Date(O):(("string"==typeof O||"[object String]"===w)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}(O);return!isNaN(Number(w))}(new Date(O))}function x(O){return p(O)?new Date(O).getUTCFullYear():null}},17807:(F,D,n)=>{"use strict";n.d(D,{T:()=>C});var i=n(60177),t=n(65007),u=n(30458),e=n(39548),h=n(19340),m=n(82522),f=n(54438),v=n(7901);function E(I,R){1&I&&f.eu8(0)}function _(I,R){if(1&I&&(f.j41(0,"div",2),f.DNE(1,E,1,0,"ng-container",3),f.nI1(2,"async"),f.nI1(3,"async"),f.k0s()),2&I){let T,A;const p=R.$implicit,x=f.XpG();f.R7$(),f.Y8G("ngComponentOutlet",null==(T=f.bMT(2,2,x.sectionMap$).get(p.id))?null:T.component)("ngComponentOutletInjector",null==(A=f.bMT(3,4,x.sectionMap$).get(p.id))?null:A.injector)}}let C=(()=>{class I extends u.Z{constructor(T,A,p,x,O){super(T,A,p,x,O),this.menuService=T,this.injector=A,this.authorizationService=p,this.route=x,this.themeService=O,this.menuID=h.D.DSO_EDIT}static{this.\u0275fac=function(A){return new(A||I)(f.rXU(e.$),f.rXU(f.zZn),f.rXU(t.AuthorizationDataService),f.rXU(v.nX),f.rXU(m.Fs))}}static{this.\u0275cmp=f.VBU({type:I,selectors:[["ds-dso-edit-menu"]],standalone:!0,features:[f.Vt3,f.aNF],decls:3,vars:3,consts:[[1,"dso-edit-menu","d-flex"],["class","ms-1",4,"ngFor","ngForOf"],[1,"ms-1"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(A,p){1&A&&(f.j41(0,"div",0),f.DNE(1,_,4,6,"div",1),f.nI1(2,"async"),f.k0s()),2&A&&(f.R7$(),f.Y8G("ngForOf",f.bMT(2,1,p.sections)))},dependencies:[i.pM,i.OI,i.Jj]})}}return I})()},76052:(F,D,n)=>{"use strict";n.d(D,{e:()=>Y});var i=n(60177),t=n(89417),u=n(41780),e=n(86820),h=n(96354),m=n(96526),f=n(6983),v=n(96820),E=n(1716),_=n(80183),C=n(78655),I=n(82777),R=n(59458),T=n(82394),A=n(39806),p=n(77537),x=n(17191),O=n(67600),w=n(73183),M=n(54438);const L=G=>({type:G}),B=G=>({"bg-primary":G});function k(G,q){if(1&G&&(M.j41(0,"button",10),M.EFF(1),M.nI1(2,"translate"),M.k0s()),2&G){const z=M.XpG(2);M.R7$(),M.SpI(" ",M.i5U(2,1,"dso-selector.no-results",M.eq3(4,L,z.typesString))," ")}}function W(G,q){if(1&G){const z=M.RV6();M.j41(0,"button",11,0),M.bIt("click",function(){const Z=M.eBV(z).$implicit,J=M.XpG(2);return M.Njj(J.onClick(Z))}),M.nrm(2,"ds-listable-object-component-loader",12),M.k0s()}if(2&G){const z=q.$implicit,te=M.XpG(2);M.FS9("title",te.getName(z)),M.Y8G("ngClass",M.eq3(6,B,z.id===te.currentDSOId)),M.R7$(2),M.Y8G("object",z)("viewMode",te.viewMode)("linkType",te.linkTypes.None)("context",te.getContext(z.id))}}function U(G,q){if(1&G&&(M.qex(0),M.DNE(1,k,3,6,"button",8),M.nI1(2,"async"),M.DNE(3,W,3,8,"button",9),M.nI1(4,"async"),M.bVm()),2&G){const z=M.XpG();M.R7$(),M.Y8G("ngIf",0===M.bMT(2,2,z.listEntries$).length),M.R7$(2),M.Y8G("ngForOf",M.bMT(4,4,z.listEntries$))}}function K(G,q){1&G&&(M.j41(0,"button",13),M.nI1(1,"translate"),M.nrm(2,"ds-loading",14),M.k0s()),2&G&&(M.FS9("title",M.bMT(1,2,"loading.default")),M.R7$(2),M.Y8G("showMessage",!1))}let Y=(()=>{class G extends w.x{constructor(z,te,Z,J,Q){super(z,Z,J,Q),this.searchService=z,this.collectionDataService=te,this.notifcationsService=Z,this.translate=J,this.dsoNameService=Q}getCurrentDSOQuery(){return this.currentDSOId}search(z,te,Z=!0){let J=null;const Q={currentPage:te,elementsPerPage:this.defaultPagination.pageSize};return J=this.entityType?this.collectionDataService.getAuthorizedCollectionByEntityType(z,this.entityType,Q):this.collectionDataService.getAuthorizedCollection(z,Q,Z,!1,(0,O.s)("parentCommunity")),J.pipe((0,_.qD)(),(0,h.T)(ee=>Object.assign(new E.j(null,null,null,null),ee,{payload:(0,I.a4)(ee.payload)?(0,v.g)(ee.payload.pageInfo,ee.payload.page.map(le=>Object.assign(new p.A,{indexableObject:le}))):null})))}static{this.\u0275fac=function(te){return new(te||G)(M.rXU(C.S),M.rXU(f.CollectionDataService),M.rXU(A.I),M.rXU(u.c$),M.rXU(m.f))}}static{this.\u0275cmp=M.VBU({type:G,selectors:[["ds-authorized-collection-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[M.Vt3,M.aNF],decls:10,vars:23,consts:[["listEntryElement",""],[1,"mb-3","w-100","pe-2","ps-2"],["type","search","ngbAutofocus","",1,"form-control",3,"click","keyup.enter","placeholder","formControl"],[1,"dropdown-divider"],[1,"scrollable-menu","list-group",3,"id"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot"],[4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry",3,"title",4,"ngIf"],["class","list-group-item list-group-item-action border-0 disabled",4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry","dsHoverClass","ds-hover",3,"ngClass","title","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","border-0","disabled"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"click","ngClass","title"],[3,"object","viewMode","linkType","context"],[1,"list-group-item","list-group-item-action","border-0","list-entry",3,"title"],[3,"showMessage"]],template:function(te,Z){1&te&&(M.j41(0,"div",1)(1,"input",2),M.nI1(2,"translate"),M.nI1(3,"translate"),M.bIt("click",function(Q){return Q.stopPropagation()})("keyup.enter",function(){return Z.selectSingleResult()}),M.k0s()(),M.nrm(4,"div",3),M.j41(5,"div",4)(6,"div",5),M.bIt("scrolled",function(){return Z.onScrollDown()}),M.DNE(7,U,5,6,"ng-container",6),M.nI1(8,"async"),M.DNE(9,K,3,4,"button",7),M.k0s()()),2&te&&(M.R7$(),M.FS9("placeholder",M.i5U(2,11,"dso-selector.placeholder",M.eq3(19,L,Z.typesString))),M.Y8G("formControl",Z.input),M.BMQ("aria-label",M.i5U(3,14,"dso-selector.placeholder",M.eq3(21,L,Z.typesString))),M.R7$(4),M.Mz_("id","scrollable-menu-dso-selector-",Z.randomSeed,""),M.R7$(),M.Y8G("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer","#scrollable-menu-dso-selector-"+Z.randomSeed)("fromRoot",!0),M.R7$(),M.Y8G("ngIf",M.bMT(8,17,Z.listEntries$)),M.R7$(2),M.Y8G("ngIf",Z.loading))},dependencies:[t.YN,t.me,t.BC,t.X1,t.l_,e.eO,e.DP,i.bT,i.pM,R.k,i.YU,x.v,T.v,i.Jj,u.h,u.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow-x:hidden}"]})}}return G})()},73183:(F,D,n)=>{"use strict";n.d(D,{x:()=>fe});var i=n(60177),t=n(54438),u=n(89417),e=n(41780),h=n(86820),m=n(84412),f=n(7673),v=n(84572),E=n(70152),_=n(99172),C=n(88141),I=n(25558),R=n(96354),T=n(96526),p=(n(6238),n(96820)),x=n(26292),O=n(80183),w=n(78655),M=n(78448),L=n(82777),B=n(59458),k=n(82394),W=n(3050),U=n(39806),K=n(7581),Y=n(17191),G=n(51805),q=n(83851),z=n(33550);const te=["listEntryElement"],Z=se=>({type:se}),J=se=>({"bg-primary":se});function Q(se,ce){if(1&se&&(t.j41(0,"button",10),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&se){const De=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(2,1,"dso-selector.no-results",t.eq3(4,Z,De.typesString))," ")}}function ee(se,ce){if(1&se){const De=t.RV6();t.j41(0,"button",11,0),t.bIt("click",function(){const me=t.eBV(De).$implicit,re=t.XpG(2);return t.Njj(re.onClick(me))}),t.nrm(2,"ds-listable-object-component-loader",12),t.k0s()}if(2&se){const De=ce.$implicit,be=t.XpG(2);t.FS9("title",be.getName(De)),t.Y8G("ngClass",t.eq3(6,J,De.id===be.currentDSOId)),t.R7$(2),t.Y8G("object",De)("viewMode",be.viewMode)("linkType",be.linkTypes.None)("context",be.getContext(De.id))}}function le(se,ce){if(1&se&&(t.qex(0),t.DNE(1,Q,3,6,"button",8),t.nI1(2,"async"),t.DNE(3,ee,3,8,"button",9),t.nI1(4,"async"),t.bVm()),2&se){const De=t.XpG();t.R7$(),t.Y8G("ngIf",0===t.bMT(2,2,De.listEntries$).length),t.R7$(2),t.Y8G("ngForOf",t.bMT(4,4,De.listEntries$))}}function ne(se,ce){1&se&&(t.j41(0,"button",13),t.nI1(1,"translate"),t.nrm(2,"ds-loading",14),t.k0s()),2&se&&(t.FS9("title",t.bMT(1,2,"loading.default")),t.R7$(2),t.Y8G("showMessage",!1))}let fe=(()=>{class se{constructor(De,be,me,re){this.searchService=De,this.notifcationsService=be,this.translate=me,this.dsoNameService=re,this.viewMode=M.n.ListElement,this.searchBoxId=null,this.onSelect=new t.bkB,this.input=new u.hs,this.defaultPagination={id:"dso-selector",currentPage:1,pageSize:10},this.listEntries$=new m.t(null),this.currentPage$=new m.t(1),this.hasNextPage=!1,this.loading=!1,this.debounceTime=500,this.linkTypes=K.n,this.subs=[],this.randomSeed=Math.random().toString(36).substring(2,6)}ngOnInit(){let De;this.typesString=this.types.map(be=>this.translate.instant(`dso-selector.placeholder.type.${be.toString().toLowerCase()}`)).join(", "),De=(0,L.hj)(this.currentDSOId)?this.search(this.getCurrentDSOQuery(),1).pipe((0,O.ak)()):(0,f.of)((0,p.g)(void 0,[])),this.subs.push((0,v.z)(De,this.input.valueChanges.pipe((0,E.B)(this.debounceTime),(0,_.Z)(""),(0,C.M)(()=>this.currentPage$.next(1))),this.currentPage$).pipe((0,I.n)(([be,me,re])=>(this.loading=!0,1===re&&this.listEntries$.next(null),this.search(me,re).pipe((0,R.T)(Ee=>(Ee.hasSucceeded?Ee.payload.page=[...(0,L.Im)(me)&&1===re?be.page:[],...Ee.payload.page.filter(Te=>(0,L.hj)(me)||Te.indexableObject.id!==this.currentDSOId)]:Ee.hasFailed&&this.notifcationsService.error(this.translate.instant("dso-selector.error.title",{type:this.typesString}),Ee.errorMessage),Ee)))))).subscribe(be=>{this.updateList(be)}))}updateList(De){this.loading=!1;const be=this.listEntries$.getValue();De.hasSucceeded?((0,L.Tn)(be)?this.listEntries$.next(De.payload.page):this.listEntries$.next([...be,...De.payload.page]),this.hasNextPage=De.payload.totalElements>this.listEntries$.getValue().length):(this.listEntries$.next([...(0,L.Tn)(be)?[]:this.listEntries$.getValue(),new G.t(W._.Error,"dso-selector.results-could-not-be-retrieved",q.t.value)]),this.hasNextPage=!1)}getCurrentDSOQuery(){return`search.resourceid:${this.currentDSOId}`}search(De,be,me=!0){const re=De?null:this.sort;return this.searchService.search(new z.C({query:De,dsoTypes:this.types,pagination:Object.assign({},this.defaultPagination,{currentPage:be}),sort:re}),null,me).pipe((0,O.qD)())}onScrollDown(){this.hasNextPage&&!this.loading&&this.currentPage$.next(this.currentPage$.value+1)}selectSingleResult(){this.listElements.length>0&&this.listElements.first.nativeElement.click()}getContext(De){return this.context===x.o.ScopeSelectorModal?De===this.currentDSOId?x.o.ScopeSelectorModalCurrent:x.o.ScopeSelectorModal:De===this.currentDSOId?x.o.SideBarSearchModalCurrent:x.o.SideBarSearchModal}ngOnDestroy(){this.subs.filter(De=>(0,L.a4)(De)).forEach(De=>De.unsubscribe())}onClick(De){(0,L.a4)(De.indexableObject)?this.onSelect.emit(De.indexableObject):(this.listEntries$.value.pop(),this.hasNextPage=!0,this.search(this.input.value?this.input.value:"",this.currentPage$.value,!1).pipe((0,O.qD)()).subscribe(be=>{this.updateList(be)}))}getName(De){return(0,L.a4)(De.indexableObject)?this.dsoNameService.getName(De.indexableObject):null}static{this.\u0275fac=function(be){return new(be||se)(t.rXU(w.S),t.rXU(U.I),t.rXU(e.c$),t.rXU(T.f))}}static{this.\u0275cmp=t.VBU({type:se,selectors:[["ds-dso-selector"]],viewQuery:function(be,me){if(1&be&&t.GBs(te,5),2&be){let re;t.mGM(re=t.lsd())&&(me.listElements=re)}},inputs:{context:"context",currentDSOId:"currentDSOId",types:"types",sort:"sort",searchBoxId:"searchBoxId"},outputs:{onSelect:"onSelect"},standalone:!0,features:[t.aNF],decls:10,vars:23,consts:[["listEntryElement",""],[1,"mb-3","w-100","pe-2","ps-2"],["type","search","ngbAutofocus","",1,"form-control",3,"click","keyup.enter","placeholder","formControl"],[1,"dropdown-divider"],[1,"scrollable-menu","list-group",3,"id"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot"],[4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry",3,"title",4,"ngIf"],["class","list-group-item list-group-item-action border-0 disabled",4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry","dsHoverClass","ds-hover",3,"ngClass","title","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","border-0","disabled"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"click","ngClass","title"],[3,"object","viewMode","linkType","context"],[1,"list-group-item","list-group-item-action","border-0","list-entry",3,"title"],[3,"showMessage"]],template:function(be,me){1&be&&(t.j41(0,"div",1)(1,"input",2),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(Ee){return Ee.stopPropagation()})("keyup.enter",function(){return me.selectSingleResult()}),t.k0s()(),t.nrm(4,"div",3),t.j41(5,"div",4)(6,"div",5),t.bIt("scrolled",function(){return me.onScrollDown()}),t.DNE(7,le,5,6,"ng-container",6),t.nI1(8,"async"),t.DNE(9,ne,3,4,"button",7),t.k0s()()),2&be&&(t.R7$(),t.FS9("placeholder",t.i5U(2,11,"dso-selector.placeholder",t.eq3(19,Z,me.typesString))),t.Y8G("formControl",me.input),t.BMQ("aria-label",t.i5U(3,14,"dso-selector.placeholder",t.eq3(21,Z,me.typesString))),t.R7$(4),t.Mz_("id","scrollable-menu-dso-selector-",me.randomSeed,""),t.R7$(),t.Y8G("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer","#scrollable-menu-dso-selector-"+me.randomSeed)("fromRoot",!0),t.R7$(),t.Y8G("ngIf",t.bMT(8,17,me.listEntries$)),t.R7$(2),t.Y8G("ngIf",me.loading))},dependencies:[u.YN,u.me,u.BC,u.X1,u.l_,h.eO,h.DP,i.bT,i.pM,B.k,i.YU,Y.v,k.v,i.Jj,e.h,e.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow-x:hidden}"]})}}return se})()},10270:(F,D,n)=>{"use strict";n.r(D),n.d(D,{CreateCollectionParentSelectorComponent:()=>R});var i=n(60177),t=n(41780),u=n(88280),e=n(64611),h=n(6238),m=n(13864),f=n(73183),v=n(54705),E=n(54438),_=n(58003),C=n(7901);function I(T,A){if(1&T&&(E.j41(0,"span",5),E.EFF(1),E.nI1(2,"translate"),E.k0s()),2&T){const p=E.XpG();E.R7$(),E.JRh(E.bMT(2,1,p.header))}}let R=(()=>{class T extends v.${constructor(p,x,O){super(p,x),this.activeModal=p,this.route=x,this.router=O,this.objectType=m.W.COLLECTION,this.selectorTypes=[m.W.COMMUNITY],this.action=v.u.CREATE,this.header="dso-selector.create.collection.sub-level",this.defaultSort=new h.z(u.c.comcolSelectionSort.sortField,u.c.comcolSelectionSort.sortDirection)}navigate(p){const x={queryParams:{[e.Cb]:p.uuid}};this.router.navigate([(0,e.gH)()],x)}static{this.\u0275fac=function(x){return new(x||T)(E.rXU(_.Lw),E.rXU(C.nX),E.rXU(C.Ix))}}static{this.\u0275cmp=E.VBU({type:T,selectors:[["ds-base-create-collection-parent-selector"]],standalone:!0,features:[E.Vt3,E.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(x,O){1&x&&(E.j41(0,"div")(1,"div",0),E.EFF(2),E.nI1(3,"translate"),E.j41(4,"button",1),E.bIt("click",function(){return O.close()}),E.k0s()(),E.j41(5,"div",2),E.DNE(6,I,3,3,"span",3),E.j41(7,"ds-dso-selector",4),E.bIt("onSelect",function(M){return O.selectObject(M)}),E.k0s()()()),2&x&&(E.R7$(2),E.SpI("",E.bMT(3,5,"dso-selector."+O.action+"."+O.objectType.toString().toLowerCase()+".head")," "),E.R7$(4),E.Y8G("ngIf",O.header),E.R7$(),E.Y8G("currentDSOId",null==O.dsoRD?null:O.dsoRD.payload.uuid)("types",O.selectorTypes)("sort",O.defaultSort))},dependencies:[i.bT,f.x,t.h,t.D9],encapsulation:2})}}return T})()},76538:(F,D,n)=>{"use strict";n.r(D),n.d(D,{CreateCommunityParentSelectorComponent:()=>p});var i=n(60177),t=n(41780),u=n(88280),e=n(54671),h=n(6238),m=n(65007),f=n(3970),v=n(13864),E=n(82777),_=n(73183),C=n(54705),I=n(54438),R=n(58003),T=n(7901);function A(x,O){if(1&x){const w=I.RV6();I.j41(0,"div",6)(1,"button",7),I.bIt("click",function(){I.eBV(w);const L=I.XpG();return I.Njj(L.selectObject(void 0))}),I.EFF(2),I.nI1(3,"translate"),I.k0s(),I.j41(4,"div",8),I.nrm(5,"hr"),I.j41(6,"div",9)(7,"span",10),I.EFF(8),I.nI1(9,"translate"),I.k0s()()()()}2&x&&(I.R7$(2),I.JRh(I.bMT(3,2,"dso-selector.create.community.top-level")),I.R7$(6),I.JRh(I.bMT(9,4,"dso-selector.create.community.or-divider")))}let p=(()=>{class x extends C.${constructor(w,M,L,B){super(w,M),this.activeModal=w,this.route=M,this.router=L,this.authorizationService=B,this.objectType=v.W.COMMUNITY,this.selectorTypes=[v.W.COMMUNITY],this.action=C.u.CREATE,this.defaultSort=new h.z(u.c.comcolSelectionSort.sortField,u.c.comcolSelectionSort.sortDirection)}ngOnInit(){this.isAdmin$=this.authorizationService.isAuthorized(f._.AdministratorOf)}navigate(w){let M={};(0,E.a4)(w)&&(M={queryParams:{[e.f2]:w.uuid}}),this.router.navigate([(0,e.lG)()],M)}static{this.\u0275fac=function(M){return new(M||x)(I.rXU(R.Lw),I.rXU(T.nX),I.rXU(T.Ix),I.rXU(m.AuthorizationDataService))}}static{this.\u0275cmp=I.VBU({type:x,selectors:[["ds-base-create-community-parent-selector"]],standalone:!0,features:[I.Vt3,I.aNF],decls:12,vars:12,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["data-test","admin-div",4,"ngIf"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types","sort"],["data-test","admin-div"],[1,"btn","btn-outline-primary","btn-lg","btn-block","w-100",3,"click"],[1,"h3","position-relative","py-1","my-3","fw-normal"],["id","create-community-or-separator",1,"text-center","position-absolute","w-100"],[1,"px-4","bg-white"]],template:function(M,L){1&M&&(I.j41(0,"div")(1,"div",0),I.EFF(2),I.nI1(3,"translate"),I.j41(4,"button",1),I.bIt("click",function(){return L.close()}),I.k0s()(),I.j41(5,"div",2),I.DNE(6,A,10,6,"div",3),I.nI1(7,"async"),I.j41(8,"span",4),I.EFF(9),I.nI1(10,"translate"),I.k0s(),I.j41(11,"ds-dso-selector",5),I.bIt("onSelect",function(k){return L.selectObject(k)}),I.k0s()()()),2&M&&(I.R7$(2),I.SpI("",I.bMT(3,6,"dso-selector."+L.action+"."+L.objectType.toString().toLowerCase()+".head")," "),I.R7$(4),I.Y8G("ngIf",I.bMT(7,8,L.isAdmin$)),I.R7$(3),I.JRh(I.bMT(10,10,"dso-selector.create.community.sub-level")),I.R7$(2),I.Y8G("currentDSOId",null==L.dsoRD?null:L.dsoRD.payload.uuid)("types",L.selectorTypes)("sort",L.defaultSort))},dependencies:[i.Jj,_.x,i.bT,t.h,t.D9],styles:["#create-community-or-separator[_ngcontent-%COMP%]{top:0}"]})}}return x})()},86866:(F,D,n)=>{"use strict";n.r(D),n.d(D,{CreateItemParentSelectorComponent:()=>I});var i=n(60177),t=n(41780),u=n(88280),e=n(6238),h=n(13864),m=n(76052),f=n(54705),v=n(54438),E=n(58003),_=n(7901);function C(R,T){if(1&R&&(v.j41(0,"span",5),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&R){const A=v.XpG();v.R7$(),v.JRh(v.bMT(2,1,A.header))}}let I=(()=>{class R extends f.${constructor(A,p,x){super(A,p),this.activeModal=A,this.route=p,this.router=x,this.objectType=h.W.ITEM,this.selectorTypes=[h.W.COLLECTION],this.action=f.u.CREATE,this.header="dso-selector.create.item.sub-level",this.defaultSort=new e.z(u.c.comcolSelectionSort.sortField,u.c.comcolSelectionSort.sortDirection)}navigate(A){const p={queryParams:{collection:A.uuid}};this.entityType&&(p.queryParams.entityType=this.entityType),this.router.navigate(["/submit"],p)}static{this.\u0275fac=function(p){return new(p||R)(v.rXU(E.Lw),v.rXU(_.nX),v.rXU(_.Ix))}}static{this.\u0275cmp=v.VBU({type:R,selectors:[["ds-base-create-item-parent-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[v.Vt3,v.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","entityType","types"],[1,"h5","px-2"]],template:function(p,x){1&p&&(v.j41(0,"div")(1,"div",0),v.EFF(2),v.nI1(3,"translate"),v.j41(4,"button",1),v.bIt("click",function(){return x.close()}),v.k0s()(),v.j41(5,"div",2),v.DNE(6,C,3,3,"span",3),v.j41(7,"ds-authorized-collection-selector",4),v.bIt("onSelect",function(w){return x.selectObject(w)}),v.k0s()()()),2&p&&(v.R7$(2),v.SpI("",v.bMT(3,5,"dso-selector."+x.action+"."+x.objectType.toString().toLowerCase()+".head")," "),v.R7$(4),v.Y8G("ngIf",x.header),v.R7$(),v.Y8G("currentDSOId",null==x.dsoRD?null:x.dsoRD.payload.uuid)("entityType",x.entityType)("types",x.selectorTypes))},dependencies:[i.bT,m.e,t.h,t.D9],encapsulation:2})}}return R})()},52798:(F,D,n)=>{"use strict";n.d(D,{L:()=>m});var i=n(8886),u=(n(86866),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["entityType"]}getComponentName(){return"CreateItemParentSelectorComponent"}importThemedComponent(E){return n(25074)(`./${E}/app/shared/dso-selector/modal-wrappers/create-item-parent-selector/create-item-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,86866))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-create-item-parent-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},54705:(F,D,n)=>{"use strict";n.d(D,{$:()=>f,u:()=>m});var i=n(54438),u=(n(1716),n(82777)),e=n(58003),h=n(7901),m=function(v){return v.CREATE="create",v.EDIT="edit",v.EXPORT_METADATA="export-metadata",v.IMPORT_BATCH="import-batch",v.SET_SCOPE="set-scope",v.EXPORT_BATCH="export-batch",v}(m||{});let f=(()=>{class v{constructor(_,C){this.activeModal=_,this.route=C,this.emitOnly=!1,this.select=new i.bkB}ngOnInit(){const _=this.findRouteData(C=>(0,u.a4)(C.data.dso),this.route.root.snapshot);(0,u.a4)(_)&&(this.dsoRD=_.data.dso)}findRouteData(_,...C){const I=C.find(_);if((0,u.a4)(I))return I;{const R=C.map(T=>T.children).reduce((T,A)=>[...T,...A]);return(0,u.hj)(R)?this.findRouteData(_,...R):void 0}}selectObject(_){this.close(),this.emitOnly?this.select.emit(_):this.navigate(_)}close(){this.activeModal.close()}static{this.\u0275fac=function(C){return new(C||v)(i.rXU(e.Lw),i.rXU(h.nX))}}static{this.\u0275cmp=i.VBU({type:v,selectors:[["ds-dso-selector-modal"]],inputs:{dsoRD:"dsoRD",emitOnly:"emitOnly",header:"header"},outputs:{select:"select"},decls:0,vars:0,template:function(C,I){},encapsulation:2})}}return v})()},73234:(F,D,n)=>{"use strict";n.r(D),n.d(D,{EditCollectionSelectorComponent:()=>R});var i=n(60177),t=n(41780),u=n(88280),e=n(64611),h=n(6238),m=n(13864),f=n(73183),v=n(54705),E=n(54438),_=n(58003),C=n(7901);function I(T,A){if(1&T&&(E.j41(0,"span",5),E.EFF(1),E.nI1(2,"translate"),E.k0s()),2&T){const p=E.XpG();E.R7$(),E.JRh(E.bMT(2,1,p.header))}}let R=(()=>{class T extends v.${constructor(p,x,O){super(p,x),this.activeModal=p,this.route=x,this.router=O,this.objectType=m.W.COLLECTION,this.selectorTypes=[m.W.COLLECTION],this.action=v.u.EDIT,this.defaultSort=new h.z(u.c.comcolSelectionSort.sortField,u.c.comcolSelectionSort.sortDirection)}navigate(p){this.router.navigate([(0,e._E)(p.uuid)])}static{this.\u0275fac=function(x){return new(x||T)(E.rXU(_.Lw),E.rXU(C.nX),E.rXU(C.Ix))}}static{this.\u0275cmp=E.VBU({type:T,selectors:[["ds-base-edit-collection-selector"]],standalone:!0,features:[E.Vt3,E.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(x,O){1&x&&(E.j41(0,"div")(1,"div",0),E.EFF(2),E.nI1(3,"translate"),E.j41(4,"button",1),E.bIt("click",function(){return O.close()}),E.k0s()(),E.j41(5,"div",2),E.DNE(6,I,3,3,"span",3),E.j41(7,"ds-dso-selector",4),E.bIt("onSelect",function(M){return O.selectObject(M)}),E.k0s()()()),2&x&&(E.R7$(2),E.SpI("",E.bMT(3,5,"dso-selector."+O.action+"."+O.objectType.toString().toLowerCase()+".head")," "),E.R7$(4),E.Y8G("ngIf",O.header),E.R7$(),E.Y8G("currentDSOId",null==O.dsoRD?null:O.dsoRD.payload.uuid)("types",O.selectorTypes)("sort",O.defaultSort))},dependencies:[i.bT,f.x,t.h,t.D9],encapsulation:2})}}return T})()},64990:(F,D,n)=>{"use strict";n.r(D),n.d(D,{EditCommunitySelectorComponent:()=>R});var i=n(60177),t=n(41780),u=n(88280),e=n(54671),h=n(6238),m=n(13864),f=n(73183),v=n(54705),E=n(54438),_=n(58003),C=n(7901);function I(T,A){if(1&T&&(E.j41(0,"span",5),E.EFF(1),E.nI1(2,"translate"),E.k0s()),2&T){const p=E.XpG();E.R7$(),E.JRh(E.bMT(2,1,p.header))}}let R=(()=>{class T extends v.${constructor(p,x,O){super(p,x),this.activeModal=p,this.route=x,this.router=O,this.objectType=m.W.COMMUNITY,this.selectorTypes=[m.W.COMMUNITY],this.action=v.u.EDIT,this.defaultSort=new h.z(u.c.comcolSelectionSort.sortField,u.c.comcolSelectionSort.sortDirection)}navigate(p){this.router.navigate([(0,e.pk)(p.uuid)])}static{this.\u0275fac=function(x){return new(x||T)(E.rXU(_.Lw),E.rXU(C.nX),E.rXU(C.Ix))}}static{this.\u0275cmp=E.VBU({type:T,selectors:[["ds-base-edit-community-selector"]],standalone:!0,features:[E.Vt3,E.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(x,O){1&x&&(E.j41(0,"div")(1,"div",0),E.EFF(2),E.nI1(3,"translate"),E.j41(4,"button",1),E.bIt("click",function(){return O.close()}),E.k0s()(),E.j41(5,"div",2),E.DNE(6,I,3,3,"span",3),E.j41(7,"ds-dso-selector",4),E.bIt("onSelect",function(M){return O.selectObject(M)}),E.k0s()()()),2&x&&(E.R7$(2),E.SpI("",E.bMT(3,5,"dso-selector."+O.action+"."+O.objectType.toString().toLowerCase()+".head")," "),E.R7$(4),E.Y8G("ngIf",O.header),E.R7$(),E.Y8G("currentDSOId",null==O.dsoRD?null:O.dsoRD.payload.uuid)("types",O.selectorTypes)("sort",O.defaultSort))},dependencies:[i.bT,f.x,t.h,t.D9],encapsulation:2})}}return T})()},29380:(F,D,n)=>{"use strict";n.r(D),n.d(D,{EditItemSelectorComponent:()=>C});var i=n(60177),t=n(41780),u=n(13864),e=n(90887),h=n(73183),m=n(54705),f=n(54438),v=n(58003),E=n(7901);function _(I,R){if(1&I&&(f.j41(0,"span",5),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&I){const T=f.XpG();f.R7$(),f.JRh(f.bMT(2,1,T.header))}}let C=(()=>{class I extends m.${constructor(T,A,p){super(T,A),this.activeModal=T,this.route=A,this.router=p,this.objectType=u.W.ITEM,this.selectorTypes=[u.W.ITEM],this.action=m.u.EDIT}navigate(T){this.router.navigate([(0,e.$r)(T)])}static{this.\u0275fac=function(A){return new(A||I)(f.rXU(v.Lw),f.rXU(E.nX),f.rXU(E.Ix))}}static{this.\u0275cmp=f.VBU({type:I,selectors:[["ds-base-edit-item-selector"]],standalone:!0,features:[f.Vt3,f.aNF],decls:8,vars:6,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types"],[1,"h5","px-2"]],template:function(A,p){1&A&&(f.j41(0,"div")(1,"div",0),f.EFF(2),f.nI1(3,"translate"),f.j41(4,"button",1),f.bIt("click",function(){return p.close()}),f.k0s()(),f.j41(5,"div",2),f.DNE(6,_,3,3,"span",3),f.j41(7,"ds-dso-selector",4),f.bIt("onSelect",function(O){return p.selectObject(O)}),f.k0s()()()),2&A&&(f.R7$(2),f.SpI("",f.bMT(3,4,"dso-selector."+p.action+"."+p.objectType.toString().toLowerCase()+".head")," "),f.R7$(4),f.Y8G("ngIf",p.header),f.R7$(),f.Y8G("currentDSOId",null==p.dsoRD?null:p.dsoRD.payload.uuid)("types",p.selectorTypes))},dependencies:[i.bT,h.x,t.h,t.D9],encapsulation:2})}}return I})()},82777:(F,D,n)=>{"use strict";n.d(D,{Az:()=>v,EA:()=>h,Im:()=>E,Pe:()=>u,Tn:()=>m,VT:()=>C,a4:()=>f,b0:()=>e,hj:()=>_,kZ:()=>t});var i=n(5964);function t(T){return null===T}function u(T){return null!==T}function e(T){return void 0===T}function h(T){return void 0!==T}function m(T){return e(T)||t(T)}function f(T){return h(T)&&u(T)}const v=()=>T=>T.pipe((0,i.p)(A=>f(A)));function E(T){if(m(T))return!0;if("number"==typeof T.size)return!T.size;const A=typeof T;if("object"===A){const p=T.size;if("number"==typeof p)return!p}if("number"==typeof T.length&&"function"!==A)return!T.length;if("object"===A){if(0===Object.keys(T).length)return!0;const p=T.length;if("number"==typeof p)return!p}return!1}function _(T){return!E(T)}const C=()=>T=>T.pipe((0,i.p)(A=>_(A)))},53948:(F,D,n)=>{"use strict";n.d(D,{Y:()=>p});var i=n(60177),t=n(54438),u=n(41780),e=n(86820),h=n(84412),m=n(25558),f=n(19852),v=n(99172),E=n(30077),_=n(80183),C=n(82777),I=n(82394);function R(x,O){1&x&&(t.j41(0,"li")(1,"button",3),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&x&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"submission.sections.general.no-entity")," "))}function T(x,O){if(1&x){const w=t.RV6();t.j41(0,"li",4)(1,"button",5),t.bIt("click",function(){const L=t.eBV(w).$implicit,B=t.XpG();return t.Njj(B.onSelect(L))}),t.j41(2,"ul",6)(3,"li",7),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()()}if(2&x){const w=O.$implicit;t.R7$(),t.FS9("title",w.label),t.R7$(3),t.JRh(t.bMT(5,2,w.label.toLowerCase()+".listelement.badge"))}}function A(x,O){1&x&&(t.j41(0,"li")(1,"button",3),t.nrm(2,"ds-loading",8),t.nI1(3,"translate"),t.k0s()()),2&x&&(t.R7$(2),t.FS9("message",t.bMT(3,1,"loading.default")))}let p=(()=>{class x{constructor(w,M,L){this.changeDetectorRef=w,this.entityTypeService=M,this.el=L,this.scrollableBottom=!1,this.scrollableTop=!1,this.searchListEntity=[],this.selectionChange=new t.bkB,this.isLoadingList=new h.t(!1),this.subs=[]}onMousewheel(w){w.wheelDelta>0&&this.scrollableTop&&w.preventDefault(),w.wheelDelta<0&&this.scrollableBottom&&w.preventDefault()}ngOnInit(){this.resetPagination(),this.populateEntityList(this.currentPage)}onScroll(w){this.scrollableBottom=w.target.scrollTop+w.target.clientHeight===w.target.scrollHeight,this.scrollableTop=0===w.target.scrollTop}onScrollDown(){this.hasNextPage&&this.populateEntityList(++this.currentPage)}onSelect(w){this.selectionChange.emit(w)}populateEntityList(w){this.isLoadingList.next(!0);const M={elementsPerPage:10,currentPage:w};let L;L=this.isSubmission?this.entityTypeService.getAllAuthorizedRelationshipType(M):this.entityTypeService.getAllAuthorizedRelationshipTypeImport(M),this.searchListEntity$=L.pipe((0,_.o5)(),(0,m.n)(B=>(this.searchListEntity.length+M.elementsPerPage>=B.payload.totalElements&&(this.hasNextPage=!1),B.payload.page)),(0,f.T)((B,k)=>[...B,k],[]),(0,v.Z)([])),this.subs.push(this.searchListEntity$.subscribe(B=>{this.searchListEntity.push(...B)},void 0,()=>{this.hideShowLoader(!1),this.changeDetectorRef.detectChanges()}))}resetPagination(){this.currentPage=1,this.hasNextPage=!0,this.searchListEntity=[]}hideShowLoader(w){this.isLoadingList.next(w)}ngOnDestroy(){this.subs.filter(w=>(0,C.a4)(w)).forEach(w=>w.unsubscribe())}static{this.\u0275fac=function(M){return new(M||x)(t.rXU(t.gRc),t.rXU(E.f),t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:x,selectors:[["ds-entity-dropdown"]],hostBindings:function(M,L){1&M&&t.bIt("mousewheel",function(k){return L.onMousewheel(k)})},inputs:{isSubmission:"isSubmission"},outputs:{selectionChange:"selectionChange"},standalone:!0,features:[t.aNF],decls:6,vars:12,consts:[["role","menu","infiniteScroll","",1,"scrollable-menu","list-unstyled","mb-0",3,"scroll","scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","fromRoot","scrollWindow"],[4,"ngIf"],["class","entity-item text-primary",4,"ngFor","ngForOf"],["role","menuitem",1,"dropdown-item","disabled"],[1,"entity-item","text-primary"],["role","menuitem",1,"dropdown-item",3,"click","title"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","fw-bold"],[3,"message"]],template:function(M,L){1&M&&(t.j41(0,"ul",0),t.bIt("scroll",function(k){return L.onScroll(k)})("scrolled",function(){return L.onScrollDown()}),t.DNE(1,R,4,3,"li",1),t.nI1(2,"async"),t.DNE(3,T,6,4,"li",2)(4,A,4,3,"li",1),t.nI1(5,"async"),t.k0s()),2&M&&(t.Y8G("infiniteScrollDistance",5)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",1.5)("fromRoot",!0)("scrollWindow",!1),t.R7$(),t.Y8G("ngIf",0===(null==L.searchListEntity?null:L.searchListEntity.length)&&!0!==t.bMT(2,8,L.isLoadingList)),t.R7$(2),t.Y8G("ngForOf",L.searchListEntity),t.R7$(),t.Y8G("ngIf",t.bMT(5,10,L.isLoadingList)))},dependencies:[e.eO,e.DP,i.bT,i.pM,I.v,i.Jj,u.h,u.D9],styles:[".dropdown-item[_ngcontent-%COMP%]{padding:.35rem 1rem}.dropdown-item[_ngcontent-%COMP%]:active{color:#fff!important}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}li[_ngcontent-%COMP%]:not(:last-of-type)   .dropdown-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#entityControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;left:0!important;box-shadow:var(--bs-btn-focus-box-shadow)}"]})}}return x})()},50518:(F,D,n)=>{"use strict";n.d(D,{T:()=>Y});var i=n(60177),t=n(54438),u=n(41780),e=n(59519),h=n.n(e),m=n(84412),f=n(96354),v=n(82640),E=n(96526),_=n(41023),C=n(58235),I=n(36074),R=n(4047),T=n(22978),A=n(80183),p=n(50332),x=n(82777),O=n(5682),w=n(23401),M=n(89417);let L=(()=>{class G{constructor(z){this.formBuilder=z,this.labelPrefix="admin.access-control.epeople.",this.subs=[],this.search=new t.bkB,this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}reset(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}submit(z){const te={scope:(0,x.Pe)(z)?z.scope:"metadata",query:(0,x.Pe)(z)?z.query:""};this.search.emit(te)}static{this.\u0275fac=function(te){return new(te||G)(t.rXU(M.ze))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-eperson-search-box"]],outputs:{search:"search"},standalone:!0,features:[t.aNF],decls:20,vars:13,consts:[[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],["name","scope","id","scope","formControlName","scope","aria-label","Search scope",1,"form-select"],["value","metadata"],["value","email"],[1,"flex-grow-1","me-3","ms-3"],[1,"mb-3","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(te,Z){1&te&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(Q){return Z.submit(Z.searchForm.value),Q.stopImmediatePropagation()}),t.j41(1,"div")(2,"select",1)(3,"option",2),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"option",3),t.EFF(7),t.nI1(8,"translate"),t.k0s()()(),t.j41(9,"div",4)(10,"div",5),t.nrm(11,"input",6),t.j41(12,"button",7),t.nrm(13,"i",8),t.EFF(14),t.nI1(15,"translate"),t.k0s()()(),t.j41(16,"div")(17,"button",9),t.bIt("click",function(){return Z.submit(null),Z.reset()}),t.EFF(18),t.nI1(19,"translate"),t.k0s()()()),2&te&&(t.Y8G("formGroup",Z.searchForm),t.R7$(4),t.JRh(t.bMT(5,5,Z.labelPrefix+"search.scope.metadata")),t.R7$(3),t.JRh(t.bMT(8,7,Z.labelPrefix+"search.scope.email")),t.R7$(7),t.SpI(" ",t.bMT(15,9,Z.labelPrefix+"search.button")," "),t.R7$(4),t.SpI(" ",t.bMT(19,11,Z.labelPrefix+"button.see-all")," "))},dependencies:[M.YN,M.qT,M.xH,M.y7,M.me,M.wz,M.BC,M.cb,M.X1,M.j4,M.JD,u.h,u.D9],encapsulation:2})}}return G})(),B=(()=>{class G{constructor(z){this.formBuilder=z,this.labelPrefix="admin.access-control.groups.",this.subs=[],this.search=new t.bkB,this.searchForm=this.formBuilder.group({query:""})}reset(){this.searchForm=this.formBuilder.group({query:""})}submit(z){const te={scope:"",query:(0,x.Pe)(z)?z.query:""};this.search.emit(te)}static{this.\u0275fac=function(te){return new(te||G)(t.rXU(M.ze))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-group-search-box"]],outputs:{search:"search"},standalone:!0,features:[t.aNF],decls:12,vars:7,consts:[[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","me-3"],[1,"mb-3","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(te,Z){1&te&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(Q){return Z.submit(Z.searchForm.value),Q.stopImmediatePropagation()}),t.j41(1,"div",1)(2,"div",2),t.nrm(3,"input",3),t.j41(4,"button",4),t.nrm(5,"i",5),t.EFF(6),t.nI1(7,"translate"),t.k0s()()(),t.j41(8,"div")(9,"button",6),t.bIt("click",function(){return Z.submit(null),Z.reset()}),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()),2&te&&(t.Y8G("formGroup",Z.searchForm),t.R7$(6),t.SpI(" ",t.bMT(7,3,Z.labelPrefix+"search.button")," "),t.R7$(4),t.SpI(" ",t.bMT(11,5,Z.labelPrefix+"button.see-all")," "))},dependencies:[M.YN,M.qT,M.me,M.BC,M.cb,M.X1,M.j4,M.JD,u.h,u.D9],encapsulation:2})}}return G})();function k(G,q){if(1&G){const z=t.RV6();t.j41(0,"ds-eperson-search-box",3),t.bIt("search",function(Z){t.eBV(z);const J=t.XpG();return t.Njj(J.onSearch(Z))}),t.k0s()}}function W(G,q){if(1&G){const z=t.RV6();t.j41(0,"ds-group-search-box",3),t.bIt("search",function(Z){t.eBV(z);const J=t.XpG();return t.Njj(J.onSearch(Z))}),t.k0s()}}function U(G,q){if(1&G){const z=t.RV6();t.j41(0,"tr"),t.nI1(1,"async"),t.j41(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td",7)(7,"button",9),t.bIt("click",function(){const Z=t.eBV(z).$implicit,J=t.XpG(2);return t.Njj(J.emitSelect(Z))}),t.EFF(8),t.nI1(9,"translate"),t.k0s()()()}if(2&G){const z=q.$implicit,te=t.XpG(2);t.AVh("table-primary",t.bMT(1,5,te.isSelected(z))),t.R7$(3),t.JRh(z.id),t.R7$(2),t.JRh(te.dsoNameService.getName(z)),t.R7$(3),t.SpI(" ",t.bMT(9,7,"resource-policies.form.eperson-group-list.select.btn")," ")}}function K(G,q){if(1&G&&(t.j41(0,"ds-pagination",4),t.nI1(1,"async"),t.j41(2,"div",5)(3,"table",6)(4,"thead")(5,"tr",7)(6,"th"),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"th"),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"th"),t.EFF(13),t.nI1(14,"translate"),t.k0s()()(),t.j41(15,"tbody"),t.DNE(16,U,10,9,"tr",8),t.nI1(17,"async"),t.k0s()()()()),2&G){let z,te;const Z=t.XpG();t.Y8G("paginationOptions",Z.paginationOptions)("collectionSize",null==(z=t.bMT(1,8,Z.getList()))||null==z.payload?null:z.payload.totalElements)("retainScrollPosition",!0)("hideGear",!0),t.R7$(7),t.JRh(t.bMT(8,10,"resource-policies.form.eperson-group-list.table.headers.id")),t.R7$(3),t.JRh(t.bMT(11,12,"resource-policies.form.eperson-group-list.table.headers.name")),t.R7$(3),t.JRh(t.bMT(14,14,"resource-policies.form.eperson-group-list.table.headers.action")),t.R7$(3),t.Y8G("ngForOf",null==(te=t.bMT(17,16,Z.getList()))||null==te.payload?null:te.payload.page)}}let Y=(()=>{class G{constructor(z,te,Z,J){this.dsoNameService=z,this.parentInjector=te,this.paginationService=Z,this.dataServiceMap=J,this.isListOfEPerson=!0,this.select=new t.bkB,this.currentSearchQuery="",this.currentSearchScope="metadata",this.paginationOptions=new w.W,this.list$=new m.t({}),this.entrySelectedId=new m.t(""),this.subs=[]}ngOnInit(){(0,R.M)(this.dataServiceMap,(this.isListOfEPerson?C.N:I.U).value,this.parentInjector).subscribe(Z=>{this.dataService=Z,this.paginationOptions.id=h()("egl"),this.paginationOptions.pageSize=5,this.initSelected&&this.entrySelectedId.next(this.initSelected),this.updateList(this.currentSearchScope,this.currentSearchQuery)})}emitSelect(z){this.select.emit(z),this.entrySelectedId.next(z.id)}getList(){return this.list$.asObservable()}isSelected(z){return this.entrySelectedId.asObservable().pipe((0,f.T)(te=>(0,x.hj)(te)&&te===z.id))}onSearch(z){this.currentSearchQuery=z.query,this.currentSearchScope=z.scope,this.paginationService.resetPage(this.paginationOptions.id),this.updateList(this.currentSearchScope,this.currentSearchQuery)}updateList(z,te){(0,x.a4)(this.pageConfigSub)&&this.pageConfigSub.unsubscribe(),this.pageConfigSub=this.paginationService.getCurrentPagination(this.paginationOptions.id,this.paginationOptions).subscribe(Z=>{const J=Object.assign({},new _._,{elementsPerPage:Z.pageSize,currentPage:Z.currentPage}),Q=this.isListOfEPerson?this.dataService.searchByScope(z,te,J):this.dataService.searchGroups(te,J);this.subs.push(Q.pipe((0,A.qD)()).subscribe(ee=>{(0,x.a4)(this.list$)&&this.list$.next(ee)}))})}ngOnDestroy(){this.list$=null,this.subs.filter(z=>(0,x.a4)(z)).forEach(z=>z.unsubscribe()),this.paginationService.clearPagination(this.paginationOptions.id)}static{this.\u0275fac=function(te){return new(te||G)(t.rXU(E.f),t.rXU(t.zZn),t.rXU(T.m),t.rXU(v.l9))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-eperson-group-list"]],inputs:{isListOfEPerson:"isListOfEPerson",initSelected:"initSelected"},outputs:{select:"select"},standalone:!0,features:[t.aNF],decls:5,vars:6,consts:[[1,"mt-3"],[3,"search",4,"ngIf"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear",4,"ngIf"],[3,"search"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear"],[1,"table-responsive"],["id","groups",1,"table","table-sm","table-striped","table-hover","table-bordered"],[1,"text-center"],[3,"table-primary",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:function(te,Z){if(1&te&&(t.j41(0,"div",0),t.DNE(1,k,1,0,"ds-eperson-search-box",1)(2,W,1,0,"ds-group-search-box",1)(3,K,18,18,"ds-pagination",2),t.nI1(4,"async"),t.k0s()),2&te){let J;t.Y8G("@fadeInOut",void 0),t.R7$(),t.Y8G("ngIf",Z.isListOfEPerson),t.R7$(),t.Y8G("ngIf",!Z.isListOfEPerson),t.R7$(),t.Y8G("ngIf",(null==(J=t.bMT(4,4,Z.getList()))||null==J.payload?null:J.payload.totalElements)>0)}},dependencies:[i.bT,L,B,O.e,i.pM,i.Jj,u.h,u.D9],data:{animation:[p.Ws]}})}}return G})()},79632:(F,D,n)=>{"use strict";n.d(D,{A:()=>h});var i=n(16292),t=n(47978),u=n(54438),e=n(41780);let h=(()=>{class m{constructor(v){this.translate=v,this.message="Error...",this.AlertTypeEnum=t.v}ngOnInit(){void 0===this.message&&(this.subscription=this.translate.get("error.default").subscribe(v=>{this.message=v}))}ngOnDestroy(){void 0!==this.subscription&&this.subscription.unsubscribe()}static{this.\u0275fac=function(E){return new(E||m)(u.rXU(e.c$))}}static{this.\u0275cmp=u.VBU({type:m,selectors:[["ds-error"]],inputs:{message:"message"},standalone:!0,features:[u.aNF],decls:2,vars:3,consts:[[3,"type","dismissible"],[3,"innerHTML"]],template:function(E,_){1&E&&(u.j41(0,"ds-alert",0),u.nrm(1,"span",1),u.k0s()),2&E&&(u.Y8G("type",_.AlertTypeEnum.Error)("dismissible",!1),u.R7$(),u.Y8G("innerHTML",_.message,u.npT))},dependencies:[i.C]})}}return m})()},10634:(F,D,n)=>{"use strict";n.r(D),n.d(D,{FileDownloadLinkComponent:()=>w});var i=n(60177),t=n(7901),u=n(41780),e=n(84572),h=n(7673),m=n(96354),f=n(69799),v=n(96526),E=n(65007),_=n(3970),R=(n(33376),n(88318),n(82777)),T=n(54438);const A=["*"];function p(M,L){1&M&&(T.j41(0,"span",4),T.nI1(1,"translate"),T.nrm(2,"i",5),T.k0s()),2&M&&T.BMQ("aria-label",T.bMT(1,1,"file-download-link.restricted"))}function x(M,L){1&M&&T.eu8(0)}function O(M,L){1&M&&T.SdG(0)}let w=(()=>{class M{constructor(B,k){this.authorizationService=B,this.dsoNameService=k,this.cssClasses="",this.isBlank=!1,this.enableRequestACopy=!0}ngOnInit(){if(this.enableRequestACopy){this.canDownload$=this.authorizationService.isAuthorized(_._.CanDownload,(0,R.hj)(this.bitstream)?this.bitstream.self:void 0);const B=this.authorizationService.isAuthorized(_._.CanRequestACopy,(0,R.hj)(this.bitstream)?this.bitstream.self:void 0);this.bitstreamPath$=(0,e.z)([this.canDownload$,B]).pipe((0,m.T)(([k,W])=>this.getBitstreamPath(k,W)))}else this.bitstreamPath$=(0,h.of)(this.getBitstreamDownloadPath()),this.canDownload$=(0,h.of)(!0)}getBitstreamPath(B,k){return!B&&k&&(0,R.a4)(this.item)?(0,f.ET)(this.item,this.bitstream):this.getBitstreamDownloadPath()}getBitstreamDownloadPath(){return{routerLink:(0,f.hV)(this.bitstream),queryParams:{}}}static{this.\u0275fac=function(k){return new(k||M)(T.rXU(E.AuthorizationDataService),T.rXU(v.f))}}static{this.\u0275cmp=T.VBU({type:M,selectors:[["ds-base-file-download-link"]],inputs:{bitstream:"bitstream",item:"item",cssClasses:"cssClasses",isBlank:"isBlank",enableRequestACopy:"enableRequestACopy"},standalone:!0,features:[T.aNF],ngContentSelectors:A,decls:9,vars:15,consts:[["content",""],[1,"dont-break-out",3,"routerLink","queryParams","target","ngClass"],["role","img","class","pe-1",4,"ngIf"],[4,"ngTemplateOutlet"],["role","img",1,"pe-1"],[1,"fas","fa-lock"]],template:function(k,W){if(1&k&&(T.NAR(),T.j41(0,"a",1),T.nI1(1,"async"),T.nI1(2,"async"),T.nI1(3,"translate"),T.DNE(4,p,3,3,"span",2),T.nI1(5,"async"),T.DNE(6,x,1,0,"ng-container",3),T.k0s(),T.DNE(7,O,1,0,"ng-template",null,0,T.C5r)),2&k){let U,K;const Y=T.sdS(8);T.Y8G("routerLink",null==(U=T.bMT(1,7,W.bitstreamPath$))?null:U.routerLink)("queryParams",null==(K=T.bMT(2,9,W.bitstreamPath$))?null:K.queryParams)("target",W.isBlank?"_blank":"_self")("ngClass",W.cssClasses),T.BMQ("aria-label",T.bMT(3,11,"file-download-link.download")+W.dsoNameService.getName(W.bitstream)),T.R7$(4),T.Y8G("ngIf",!0!==T.bMT(5,13,W.canDownload$)),T.R7$(2),T.Y8G("ngTemplateOutlet",Y)}},dependencies:[t.Wk,i.YU,i.bT,i.T3,i.Jj,u.h,u.D9]})}}return M})()},28836:(F,D,n)=>{"use strict";n.d(D,{z:()=>v}),n(33376),n(88318);var u=n(8886),h=(n(10634),n(54438));const m=["*"];function f(E,_){}let v=(()=>{class E extends u.J{constructor(){super(...arguments),this.inAndOutputNames=["bitstream","item","cssClasses","isBlank","enableRequestACopy"]}getComponentName(){return"FileDownloadLinkComponent"}importThemedComponent(C){return n(72834)(`./${C}/app/shared/file-download-link/file-download-link.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,10634))}static{this.\u0275fac=(()=>{let C;return function(R){return(C||(C=h.xGo(E)))(R||E)}})()}static{this.\u0275cmp=h.VBU({type:E,selectors:[["ds-file-download-link"]],inputs:{bitstream:"bitstream",item:"item",cssClasses:"cssClasses",isBlank:"isBlank",enableRequestACopy:"enableRequestACopy"},standalone:!0,features:[h.Vt3,h.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(I,R){1&I&&(h.NAR(),h.DNE(0,f,0,0,"ng-template",null,0,h.C5r),h.j41(2,"div",null,1),h.SdG(4),h.k0s())},encapsulation:2})}}return E})()},56899:(F,D,n)=>{"use strict";n.d(D,{N:()=>t,T:()=>i});const i="RELATION",t="#PLACEHOLDER_PARENT_METADATA_VALUE#"},10460:(F,D,n)=>{"use strict";n.d(D,{_:()=>wt});var i=n(60177),t=n(54438),u=n(89417),e=n(58003),h=n(1473),m=n(41780),f=n(84572),v=n(47677),E=n(25558),_=n(96697),C=n(96354),I=n(99172),R=n(82640),T=n(48833),A=n(5410),p=n(14391),x=n(80183),O=n(49903),w=n(46588),M=n(61010),L=n(82777),B=n(27442),k=n(13329),W=n(67600),U=n(49656),K=n(33126),Y=n(61280),G=n(56568),q=n(56899);let z=(()=>{class bt{constructor(Dt,Ft,ot,xe){this.dynamicMatchers=Dt,this.dynamicFormRelationService=Ft,this.formBuilderService=ot,this.injector=xe}getTypeBindValue(Dt){let Ft;return Ft=(0,L.Tn)(Dt)||"string"==typeof Dt?Dt:Dt instanceof Y.e&&Dt.hasAuthority()?Dt.authority:Dt.value,Ft}getRelatedFormModel(Dt){const Ft=[];return Dt.typeBindRelations.forEach(ot=>ot.when.forEach(xe=>{if(Dt.id===xe.id)throw new Error(`FormControl ${Dt.id} cannot depend on itself`);const Ve=this.formBuilderService.getTypeBindModel();Dt&&!Ft.some(Ke=>Ke===Ve)&&Ft.push(Ve)})),Ft}matchesCondition(Dt,Ft){const ot=Dt.operator||h.fXj;return Dt.when.reduce((xe,Ve,Ke)=>{const Be=this.formBuilderService.getTypeBindModel();let At,Qe=Be.value;Be.type===q.T&&(Qe=Be.value.map(ke=>ke[Be.mandatoryField])),At=Array.isArray(Qe)?[...Qe.map(ke=>this.getTypeBindValue(ke))]:[this.getTypeBindValue(Qe)];let st=!(Be&&Dt.match===Ft.match);for(const ke of At){if(Be&&Dt.match===Ft.match){if(Ke>0&&ot===h.fcY&&!xe)return!1;if(Ke>0&&ot===h.fXj&&xe)return!0;if(st=Ve.value===ke,st)break}if(Be&&Dt.match===Ft.opposingMatch){if(Ke>0&&ot===h.fcY&&xe)return!0;if(Ke>0&&ot===h.fXj&&!xe)return!1;if(st=Ve.value!==ke,!st)break}}return st},!1)}subscribeRelations(Dt,Ft){const ot=this.getRelatedFormModel(Dt),xe=[];return Object.values(ot).forEach(Ve=>{if((0,L.a4)(Ve)){const Ke=(0,L.Tn)(Ve.value)||"string"==typeof Ve.value||Array.isArray(Ve.value)?Ve.value:Ve.value.value,At=("CHECKBOX_GROUP"===Ve.type?Ve.valueUpdates:Ve.valueChanges).pipe((0,I.Z)(Ke));xe.push(At.subscribe(()=>{(0,L.a4)(this.dynamicMatchers)&&this.dynamicMatchers.forEach(Qe=>{const st=this.dynamicFormRelationService.findRelationByMatcher(Dt.typeBindRelations,Qe);if(void 0!==st){const ke=this.matchesCondition(st,Qe);Qe.onChange(ke,Dt,Ft,this.injector)}})}))}}),xe}getTypeBindRelations(Dt){const Ft=[];return Dt.forEach(ot=>{Ft.push({id:"dc.type",value:ot})}),[{match:h.zUr,operator:h.fXj,when:Ft}]}static{this.\u0275fac=function(Ft){return new(Ft||bt)(t.KVO(h._sU,8),t.KVO(h.$eO),t.KVO(K.j),t.KVO(t.zZn))}}static{this.\u0275prov=t.jDH({token:bt,factory:bt.\u0275fac,providedIn:"root"})}}return bt})();var te=n(84412),Z=n(5964),Q=(n(88318),n(93498)),ee=n(82394),le=n(32272),ne=n(59496),fe=n(25499);function se(bt,Jt){1&bt&&(t.qex(0),t.nrm(1,"ds-loading",5),t.bVm()),2&bt&&(t.R7$(),t.Y8G("showMessage",!1))}function ce(bt,Jt){if(1&bt&&(t.qex(0),t.nrm(1,"ds-metadata-representation-loader",6),t.nI1(2,"async"),t.bVm()),2&bt){const Dt=t.XpG();t.R7$(),t.Y8G("mdRepresentation",t.bMT(2,1,Dt.metadataRepresentation$))}}class De{constructor(Jt,Dt){this.oldIndex=Jt,this.newIndex=Dt}update(){this.oldIndex=this.newIndex}get hasMoved(){return this.oldIndex!==this.newIndex}}class me extends De{constructor(Jt,Dt,Ft,ot,xe,Ve){super(xe,Ve),this.relationship=Jt,this.useLeftItem=Dt,this.store=Ft,this.submissionID=ot,this.relationship=Jt,this.useLeftItem=Dt}getId(){return this.relationship.id}getPlace(){return this.useLeftItem?this.relationship.rightPlace:this.relationship.leftPlace}}let re=(()=>{class bt{constructor(Dt,Ft,ot){this.selectableListService=Dt,this.store=Ft,this.submissionService=ot,this.metadataRepresentation$=new te.t(void 0),this.remove=new t.bkB,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){(0,L.a4)(this.reoRel)&&this.subs.push((this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem).pipe((0,x.v7)(),(0,x.Bo)(),(0,Z.p)(Ft=>(0,L.a4)(Ft)&&(0,L.hj)(Ft.uuid))).subscribe(Ft=>{this.relatedItem=Ft;const ot=this.submissionItem.firstMetadata(this.relationshipOptions.metadataField,{value:this.relatedItem.uuid});if((0,L.a4)(ot)){const xe=this.submissionItem.firstMetadata(this.metadataFields,{authority:ot.authority}),Ve=Object.assign(new Q.y(xe),this.relatedItem);this.metadataRepresentation$.next(Ve)}}))}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.submissionService.getSubmissionObject(this.submissionId).pipe((0,Z.p)(Dt=>!Dt.savePending&&!Dt.isLoading),(0,_.s)(1)).subscribe(()=>{this.selectableListService.deselectSingle(this.listId,Object.assign(new B.H,{indexableObject:this.relatedItem})),this.store.dispatch(new ne.Fw(this.submissionItem,this.relatedItem,this.relationshipOptions.relationshipType,this.submissionId)),this.remove.emit()})}ngOnDestroy(){this.subs.filter(Dt=>(0,L.a4)(Dt)).forEach(Dt=>Dt.unsubscribe())}static{this.\u0275fac=function(Ft){return new(Ft||bt)(t.rXU(k.K),t.rXU(fe.il),t.rXU(M.E))}}static{this.\u0275cmp=t.VBU({type:bt,selectors:[["ds-existing-metadata-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},standalone:!0,features:[t.OA$,t.aNF],decls:9,vars:9,consts:[[1,"d-flex"],[1,"me-auto","text-contents"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click","title"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"mdRepresentation"]],template:function(Ft,ot){1&Ft&&(t.j41(0,"div",0)(1,"span",1),t.DNE(2,se,2,1,"ng-container",2),t.nI1(3,"async"),t.DNE(4,ce,3,3,"ng-container",2),t.nI1(5,"async"),t.k0s(),t.j41(6,"button",3),t.nI1(7,"translate"),t.bIt("click",function(){return ot.removeSelection()}),t.nrm(8,"i",4),t.k0s()()),2&Ft&&(t.R7$(2),t.Y8G("ngIf",void 0===t.bMT(3,3,ot.metadataRepresentation$)),t.R7$(2),t.Y8G("ngIf",t.bMT(5,5,ot.metadataRepresentation$)),t.R7$(2),t.FS9("title",t.bMT(7,7,"form.remove")))},dependencies:[i.bT,ee.v,i.Jj,le.V,m.h,m.D9]})}}return bt})();var Ee=n(78448),Te=n(17191);function tt(bt,Jt){1&bt&&(t.qex(0),t.nrm(1,"ds-loading",5),t.bVm()),2&bt&&(t.R7$(),t.Y8G("showMessage",!1))}function ht(bt,Jt){if(1&bt&&(t.qex(0),t.nrm(1,"ds-listable-object-component-loader",6),t.nI1(2,"async"),t.bVm()),2&bt){const Dt=t.XpG();t.R7$(),t.Y8G("showLabel",!1)("viewMode",Dt.viewType)("object",t.bMT(2,3,Dt.relatedItem$))}}let Et=(()=>{class bt{constructor(Dt,Ft,ot){this.selectableListService=Dt,this.submissionService=Ft,this.store=ot,this.relatedItem$=new te.t(void 0),this.viewType=Ee.n.ListElement,this.remove=new t.bkB,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){(0,L.a4)(this.reoRel)&&this.subs.push((this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem).pipe((0,x.v7)(),(0,x.Bo)(),(0,Z.p)(Ft=>(0,L.a4)(Ft)&&(0,L.hj)(Ft.uuid))).subscribe(Ft=>{this.relatedItem$.next(Ft)}))}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.selectableListService.deselectSingle(this.listId,Object.assign(new B.H,{indexableObject:this.relatedItem$.getValue()})),this.store.dispatch(new ne.Fw(this.submissionItem,this.relatedItem$.getValue(),this.relationshipOptions.relationshipType,this.submissionId))}ngOnDestroy(){this.subs.filter(Dt=>(0,L.a4)(Dt)).forEach(Dt=>Dt.unsubscribe())}static{this.\u0275fac=function(Ft){return new(Ft||bt)(t.rXU(k.K),t.rXU(M.E),t.rXU(fe.il))}}static{this.\u0275cmp=t.VBU({type:bt,selectors:[["ds-existing-relation-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},standalone:!0,features:[t.OA$,t.aNF],decls:8,vars:6,consts:[[1,"d-flex"],[1,"flex-grow-1","me-auto"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"showLabel","viewMode","object"]],template:function(Ft,ot){1&Ft&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,tt,2,1,"ng-container",2),t.nI1(3,"async"),t.DNE(4,ht,3,5,"ng-container",2),t.nI1(5,"async"),t.k0s(),t.j41(6,"button",3),t.bIt("click",function(){return ot.removeSelection()}),t.nrm(7,"i",4),t.k0s()()),2&Ft&&(t.R7$(2),t.Y8G("ngIf",void 0===t.bMT(3,2,ot.relatedItem$)),t.R7$(2),t.Y8G("ngIf",t.bMT(5,4,ot.relatedItem$)))},dependencies:[ee.v,i.Jj,Te.v,i.bT],styles:["span.text-contents[_ngcontent-%COMP%]{padding:var(--bs-btn-padding-y) 0}"]})}}return bt})();var Ye=n(37636),pt=n(6011);const Mt=["componentViewContainer"],Ne=["*"],rt=(bt,Jt)=>[bt,Jt],Gt=bt=>({$implicit:bt}),Zt=(bt,Jt)=>({row:bt,"d-none":Jt}),mt=()=>({standalone:!0}),Pt=bt=>({"d-block pb-2 pt-2":bt});function Ce(bt,Jt){if(1&bt&&(t.nrm(0,"label",12),t.nI1(1,"translate"),t.nI1(2,"translate")),2&bt){const Dt=t.XpG();t.Y8G("id","label_"+Dt.model.id)("for",Dt.id)("innerHTML",Dt.model.required&&Dt.model.label?t.bMT(1,4,Dt.model.label)+" *":t.bMT(2,6,Dt.model.label),t.npT)("ngClass",t.l_i(8,rt,Dt.getClass("element","label"),Dt.getClass("grid","label")))}}function je(bt,Jt){1&bt&&t.eu8(0)}function ut(bt,Jt){if(1&bt&&(t.nrm(0,"small",13),t.nI1(1,"translate")),2&bt){const Dt=t.XpG();t.Y8G("innerHTML",t.bMT(1,2,Dt.model.hint),t.npT)("ngClass",Dt.getClass("element","hint"))}}function hn(bt,Jt){1&bt&&t.nrm(0,"div",14)}function an(bt,Jt){if(1&bt&&(t.j41(0,"small",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&bt){const Dt=Jt.$implicit,Ft=t.XpG(2);t.R7$(),t.JRh(t.i5U(2,1,Dt,Ft.model.validators))}}function Pn(bt,Jt){if(1&bt&&(t.j41(0,"div",15),t.DNE(1,an,3,4,"small",16),t.k0s()),2&bt){const Dt=t.XpG();t.Y8G("id",Dt.id+"_errors")("ngClass",t.l_i(3,rt,Dt.getClass("element","errors"),Dt.getClass("grid","errors"))),t.R7$(),t.Y8G("ngForOf",Dt.errorMessages)}}function yt(bt,Jt){if(1&bt&&(t.j41(0,"option",21),t.EFF(1),t.k0s()),2&bt){const Dt=Jt.$implicit;t.Y8G("value",Dt.code),t.R7$(),t.JRh(Dt.display)}}function Kt(bt,Jt){if(1&bt){const Dt=t.RV6();t.j41(0,"div",18)(1,"select",19,1),t.mxI("ngModelChange",function(ot){t.eBV(Dt);const xe=t.XpG();return t.DH7(xe.model.language,ot)||(xe.model.language=ot),t.Njj(ot)}),t.bIt("blur",function(ot){t.eBV(Dt);const xe=t.XpG();return t.Njj(xe.onBlur(ot))})("change",function(ot){t.eBV(Dt);const xe=t.XpG();return t.Njj(xe.onChangeLanguage(ot))}),t.DNE(3,yt,2,2,"option",20),t.k0s()()}if(2&bt){const Dt=t.XpG();t.R7$(),t.Y8G("disabled",Dt.model.readOnly),t.R50("ngModel",Dt.model.language),t.Y8G("ngModelOptions",t.lJ4(4,mt)),t.R7$(2),t.Y8G("ngForOf",Dt.model.languageCodes)}}function Rt(bt,Jt){if(1&bt){const Dt=t.RV6();t.j41(0,"div",22)(1,"button",23),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(ot){return t.eBV(Dt),t.XpG().openLookup(),t.Njj(ot.stopPropagation())}),t.nrm(4,"i",24),t.k0s()()}2&bt&&(t.R7$(),t.FS9("ngbTooltip",t.bMT(2,2,"form.lookup-help")),t.BMQ("aria-label",t.bMT(3,4,"form.lookup-help")))}function nn(bt,Jt){1&bt&&t.eu8(0)}function gn(bt,Jt){if(1&bt){const Dt=t.RV6();t.j41(0,"ds-existing-metadata-list-element",27),t.nI1(1,"async"),t.nI1(2,"async"),t.bIt("remove",function(){t.eBV(Dt);const ot=t.XpG(2);return t.Njj(ot.onRemove())}),t.k0s()}if(2&bt){const Dt=t.XpG(2);t.Y8G("reoRel",t.bMT(1,6,Dt.relationshipValue$))("submissionItem",t.bMT(2,8,Dt.item$))("listId",Dt.listId)("metadataFields",Dt.model.metadataFields)("submissionId",Dt.model.submissionId)("relationshipOptions",Dt.model.relationship)}}function It(bt,Jt){if(1&bt&&(t.nrm(0,"ds-existing-relation-list-element",28),t.nI1(1,"async"),t.nI1(2,"async")),2&bt){const Dt=t.XpG(2);t.Y8G("ngClass",t.eq3(11,Pt,!(null!=Dt.context&&Dt.context.index)))("reoRel",t.bMT(1,7,Dt.relationshipValue$))("submissionItem",t.bMT(2,9,Dt.item$))("listId",Dt.listId)("metadataFields",Dt.model.metadataFields)("submissionId",Dt.model.submissionId)("relationshipOptions",Dt.model.relationship)}}function zt(bt,Jt){if(1&bt&&(t.nrm(0,"small",13),t.nI1(1,"translate")),2&bt){const Dt=t.XpG(2);t.Y8G("innerHTML",t.bMT(1,2,Dt.model.hint),t.npT)("ngClass",Dt.getClass("element","hint"))}}function Yt(bt,Jt){if(1&bt&&(t.qex(0),t.DNE(1,gn,3,10,"ds-existing-metadata-list-element",25)(2,It,3,13,"ds-existing-relation-list-element",26)(3,zt,2,4,"small",6),t.nrm(4,"div",14),t.bVm()),2&bt){const Dt=t.XpG();t.R7$(),t.Y8G("ngIf",Dt.model.hasSelectableMetadata),t.R7$(),t.Y8G("ngIf",!Dt.model.hasSelectableMetadata),t.R7$(),t.Y8G("ngIf",Dt.hasHint&&(!1===Dt.model.repeatable||(null==Dt.context?null:Dt.context.index)===(null==Dt.context||null==Dt.context.context||null==Dt.context.context.groups?null:Dt.context.context.groups.length)-1)&&(!Dt.showErrorMessages||0===Dt.errorMessages.length))}}let wt=(()=>{class bt extends h.R7k{get componentType(){return this.dynamicFormControlFn(this.model)}constructor(Dt,Ft,ot,xe,Ve,Ke,Be,At,Qe,st,ke,Le,dt,St,ln,Tn,Bn,Zn){super(dt,Dt,ot,xe,Ft,Be),this.componentFactoryResolver=Dt,this.dynamicFormComponentService=Ft,this.layoutService=ot,this.validationService=xe,this.typeBindRelationService=Ve,this.translateService=Ke,this.relationService=Be,this.modalService=At,this.relationshipService=Qe,this.selectableListService=st,this.store=ke,this.submissionObjectService=Le,this.ref=dt,this.formBuilderService=St,this.submissionService=ln,this.metadataService=Tn,this.appConfig=Bn,this.dynamicFormControlFn=Zn,this.asBootstrapFormGroup=!1,this.bindId=!0,this.context=null,this.hasErrorMessaging=!1,this.layout=null,this.subs=[],this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.customEvent=new t.bkB,this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}ngOnInit(){this.isRelationship=(0,L.a4)(this.model.relationship);const Dt=(0,L.a4)(this.model.relationshipConfig);if(this.isRelationship||Dt){const Ft=this.model.relationshipConfig||this.model.relationship,ot=Object.assign(new G.j,Ft);if(this.listId=`list-${this.model.submissionId}-${ot.relationshipType}`,this.setItem(),Dt||!this.model.repeatable){const xe=this.selectableListService.getSelectableList(this.listId).pipe((0,v.I)(Ve=>(0,L.Tn)(Ve)),(0,E.n)(()=>this.item$.pipe((0,_.s)(1))),(0,E.n)(Ve=>{const Ke=this.relationshipService.getItemRelationshipsByLabel(Ve,ot.relationshipType,void 0,!0,!0,(0,W.s)("leftItem"),(0,W.s)("rightItem"),(0,W.s)("relationshipType"));return Ke.pipe((0,x.ak)(),(0,x.W8)()).subscribe(Be=>{Be.forEach(At=>{const Qe=Ve.firstMetadata(ot.metadataField,{authority:`${p.BY}${At.id}`}),st=Ve.firstMetadata(this.model.metadataFields,{authority:`${p.BY}${At.id}`});(0,L.a4)(Qe)&&(0,L.hj)(Qe.value)&&(0,L.a4)(st)&&(0,L.hj)(st.value)&&this.relationshipService.setNameVariant(this.listId,Qe.value,st.value)})}),Ke.pipe((0,w.EF)(Ve.uuid),(0,x.yd)(),(0,C.T)(Be=>Be.payload.page.map(At=>Object.assign(new B.H,{indexableObject:At}))))})).subscribe(Ve=>this.selectableListService.select(this.listId,Ve));this.subs.push(xe)}if(this.value=(0,L.a4)(this.model.metadataValue)?Object.assign(new Y.e,this.model.metadataValue):Object.assign(new Y.e,this.model.value),(0,L.a4)(this.value)&&this.metadataService.isVirtual(this.value)){const xe=this.relationshipService.findById(this.metadataService.virtualValue(this.value),!0,!0,...(0,U.nW)(this.fetchThumbnail,this.appConfig.item.showAccessStatuses)).pipe((0,x.v7)(),(0,x.Bo)());this.relationshipValue$=(0,f.z)([this.item$.pipe((0,_.s)(1)),xe]).pipe((0,E.n)(([Ve,Ke])=>Ke.leftItem.pipe((0,x.v7)(),(0,x.Bo)(),(0,C.T)(Be=>new me(Ke,Be.uuid!==Ve.uuid,this.store,this.model.submissionId)))),(0,I.Z)(void 0))}}}get isCheckbox(){return this.model.type===h.eU4||this.model.type===Ye.L}ngOnChanges(Dt){Dt&&!this.isRelationship&&(0,L.a4)(this.group.get(this.model.id))&&(super.ngOnChanges(Dt),this.model&&this.model.placeholder&&(this.model.placeholder=this.translateService.instant(this.model.placeholder)),this.model.typeBindRelations&&this.model.typeBindRelations.length>0&&this.subscriptions.push(...this.typeBindRelationService.subscribeRelations(this.model,this.control)))}ngDoCheck(){(0,L.EA)(this.showErrorMessagesPreviousStage)&&this.showErrorMessagesPreviousStage!==this.showErrorMessages&&(this.showErrorMessagesPreviousStage=this.showErrorMessages,this.forceShowErrorDetection())}ngAfterViewInit(){this.showErrorMessagesPreviousStage=this.showErrorMessages}createFormControlComponent(){if(super.createFormControlComponent(),null!==this.componentType){let Dt;this.context&&this.context instanceof h.fHx&&(Dt=this.context.index);const Ft=this.dynamicFormComponentService.getFormControlRef(this.model,Dt);Ft&&(Ft.formModel=this.formModel,Ft.formGroup=this.formGroup)}}forceShowErrorDetection(){this.showErrorMessages&&(this.destroyFormControlComponent(),this.createFormControlComponent())}onChangeLanguage(Dt){(0,L.hj)(this.model.value)&&this.onChange(Dt)}hasRelationship(){return(0,L.hj)(this.model)&&this.model.hasOwnProperty("relationship")&&(0,L.hj)(this.model.relationship)}isVirtual(){const Dt=this.model.metadataValue;return(0,L.hj)(Dt)&&Dt.isVirtual}hasResultsSelected(){return this.model.value.pipe((0,C.T)(Dt=>(0,L.hj)(Dt)))}openLookup(){this.modalRef=this.modalService.open(pt.d,{size:"lg"}),(0,L.a4)(this.model.value)&&(this.focus.emit({$event:new Event("focus"),context:this.context,control:this.control,model:this.model,type:h.HkG.Focus}),this.change.emit({$event:new Event("change"),context:this.context,control:this.control,model:this.model,type:h.HkG.Change})),this.submissionService.dispatchSave(this.model.submissionId);const Dt=this.modalRef.componentInstance;(0,L.a4)(this.model.value)&&!this.model.readOnly&&("string"==typeof this.model.value?Dt.query=this.model.value:"string"==typeof this.model.value.value&&(Dt.query=this.model.value.value)),Dt.repeatable=this.model.repeatable,Dt.listId=this.listId,Dt.relationshipOptions=this.model.relationship,Dt.label=this.model.relationship.relationshipType,Dt.metadataFields=this.model.metadataFields,Dt.item=this.item,Dt.collection=this.collection,Dt.submissionId=this.model.submissionId}onRemove(){const Dt=this.context.context,Ft=this.formBuilderService.getPath(Dt),ot=this.group.root.get(Ft);this.formBuilderService.removeFormArrayGroup(this.context.index,ot,Dt),0===this.model.parent.context.groups.length&&this.formBuilderService.addFormArrayGroup(ot,Dt)}ngOnDestroy(){this.subs.filter(Dt=>(0,L.a4)(Dt)).forEach(Dt=>Dt.unsubscribe())}get hasHint(){return(0,L.hj)(this.model.hint)&&"&nbsp;"!==this.model.hint}setItem(){const Dt=this.submissionObjectService.findById(this.model.submissionId,!0,!0,(0,W.s)("item"),(0,W.s)("collection")).pipe((0,x.v7)(),(0,x.Bo)());this.item$=Dt.pipe((0,E.n)(ot=>ot.item.pipe((0,x.v7)(),(0,x.Bo)())));const Ft=Dt.pipe((0,E.n)(ot=>ot.collection.pipe((0,x.v7)(),(0,x.Bo)())));this.subs.push(this.item$.subscribe(ot=>this.item=ot)),this.subs.push(Ft.subscribe(ot=>this.collection=ot))}static{this.\u0275fac=function(Ft){return new(Ft||bt)(t.rXU(t.OM3),t.rXU(h.cYz),t.rXU(h.fpj),t.rXU(h.STK),t.rXU(z),t.rXU(m.c$),t.rXU(h.$eO),t.rXU(e.Bq),t.rXU(T.RelationshipDataService),t.rXU(k.K),t.rXU(fe.il),t.rXU(O.$),t.rXU(t.gRc),t.rXU(K.j),t.rXU(M.E),t.rXU(A.T),t.rXU(R.vQ),t.rXU(h.Fdw))}}static{this.\u0275cmp=t.VBU({type:bt,selectors:[["ds-dynamic-form-control-container"]],contentQueries:function(Ft,ot,xe){if(1&Ft&&t.wni(xe,h.vJF,4),2&Ft){let Ve;t.mGM(Ve=t.lsd())&&(ot.contentTemplateList=Ve)}},viewQuery:function(Ft,ot){if(1&Ft&&t.GBs(Mt,7,t.c1b),2&Ft){let xe;t.mGM(xe=t.lsd())&&(ot.componentViewContainerRef=xe.first)}},inputs:{inputTemplateList:[t.Mj6.None,"templates","inputTemplateList"],hasMetadataModel:"hasMetadataModel",formId:"formId",formGroup:"formGroup",formModel:"formModel",asBootstrapFormGroup:"asBootstrapFormGroup",bindId:"bindId",context:"context",group:"group",hostClass:"hostClass",hasErrorMessaging:"hasErrorMessaging",layout:"layout",model:"model"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],ngContentSelectors:Ne,decls:16,vars:27,consts:[["componentViewContainer",""],["language","ngModel"],[3,"formGroup","ngClass"],["class","form-label",3,"id","for","innerHTML","ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["class","text-muted ds-hint",3,"innerHTML","ngClass",4,"ngIf"],["class","clearfix w-100 mb-2",4,"ngIf"],[3,"id","ngClass",4,"ngIf"],["class","col-xs-2",4,"ngIf"],["class","col-auto text-center",4,"ngIf"],[4,"ngIf"],[1,"form-label",3,"id","for","innerHTML","ngClass"],[1,"text-muted","ds-hint",3,"innerHTML","ngClass"],[1,"clearfix","w-100","mb-2"],[3,"id","ngClass"],["class","invalid-feedback d-block",4,"ngFor","ngForOf"],[1,"invalid-feedback","d-block"],[1,"col-xs-2"],["required","",1,"form-select",3,"ngModelChange","blur","change","disabled","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-auto","text-center"],["type","button","placement","top","data-test","lookup-button",1,"btn","btn-secondary",3,"click","ngbTooltip"],[1,"fa","fa-search"],[3,"reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions","remove",4,"ngIf"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions",4,"ngIf"],[3,"remove","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"]],template:function(Ft,ot){1&Ft&&(t.NAR(),t.j41(0,"div",2),t.DNE(1,Ce,3,11,"label",3)(2,je,1,0,"ng-container",4),t.j41(3,"div",5)(4,"div",5)(5,"div"),t.eu8(6,null,0),t.k0s(),t.DNE(8,ut,2,4,"small",6)(9,hn,1,0,"div",7)(10,Pn,2,6,"div",8),t.k0s(),t.DNE(11,Kt,4,5,"div",9)(12,Rt,5,6,"div",10),t.k0s(),t.DNE(13,nn,1,0,"ng-container",4)(14,Yt,5,3,"ng-container",11),t.SdG(15),t.k0s()),2&Ft&&(t.AVh("mb-3","GROUP"!==ot.model.type&&ot.asBootstrapFormGroup||ot.getClass("element","container").includes("mb-3"))("d-none",ot.model.hidden),t.Y8G("formGroup",ot.group)("ngClass",t.l_i(19,rt,ot.getClass("element","container"),ot.getClass("grid","container"))),t.R7$(),t.Y8G("ngIf",!ot.isCheckbox&&ot.hasLabel),t.R7$(),t.Y8G("ngTemplateOutlet",null==ot.startTemplate?null:ot.startTemplate.templateRef)("ngTemplateOutletContext",t.eq3(22,Gt,ot.model)),t.R7$(),t.Y8G("ngClass",t.l_i(24,Zt,ot.model.hasLanguages||ot.isRelationship,ot.metadataService.isVirtual(ot.value)&&(ot.model.hasSelectableMetadata||(null==ot.context?null:ot.context.index)>0))),t.R7$(),t.Y8G("ngClass",ot.getClass("grid","control")),t.R7$(4),t.Y8G("ngIf",ot.hasHint&&(ot.formBuilderService.hasArrayGroupValue(ot.model)||!ot.model.repeatable&&(!1===ot.isRelationship||null===(null==ot.value?null:ot.value.value))||!0===ot.model.repeatable&&(null==ot.context?null:ot.context.index)===(null==ot.context||null==ot.context.context||null==ot.context.context.groups?null:ot.context.context.groups.length)-1)&&(!ot.showErrorMessages||0===ot.errorMessages.length)),t.R7$(),t.Y8G("ngIf",null!==(null==ot.context?null:ot.context.index)&&(!ot.showErrorMessages||0===ot.errorMessages.length)),t.R7$(),t.Y8G("ngIf",!ot.model.hideErrorMessages&&ot.showErrorMessages),t.R7$(),t.Y8G("ngIf",ot.model.languageCodes&&ot.model.languageCodes.length>0),t.R7$(),t.Y8G("ngIf",ot.isRelationship),t.R7$(),t.Y8G("ngTemplateOutlet",null==ot.endTemplate?null:ot.endTemplate.templateRef)("ngTemplateOutletContext",ot.model),t.R7$(),t.Y8G("ngIf",ot.metadataService.isVirtual(ot.value)))},dependencies:[re,i.bT,i.YU,i.Jj,m.h,m.D9,u.X1,u.xH,u.y7,u.wz,u.BC,u.cb,u.YS,u.j4,i.Sq,u.YN,u.vS,e.n8,e.md,i.T3,Et],styles:["[_nghost-%COMP%]     .ds-form-input-addon{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}[_nghost-%COMP%]     .ds-form-input-btn{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}[_nghost-%COMP%]     .ds-form-input-btn:focus{box-shadow:none!important}[_nghost-%COMP%]     button.ds-form-add-more:focus{outline:none;box-shadow:none!important}[_nghost-%COMP%]     .ds-form-input-value{border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     .fa-spin{pointer-events:none}[_nghost-%COMP%]     .left-addon .far, [_nghost-%COMP%]     .left-addon .fas, [_nghost-%COMP%]     .left-addon i{left:0}[_nghost-%COMP%]     .right-addon .far, [_nghost-%COMP%]     .right-addon .fas, [_nghost-%COMP%]     .right-addon i{right:0}[_nghost-%COMP%]     .left-addon input{padding-left:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .right-addon input{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     select.form-control{appearance:auto}[_nghost-%COMP%]     .col-sm-6, [_nghost-%COMP%]     .col-sm-12{padding-left:15px;padding-right:15px}[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center}[_nghost-%COMP%]     .custom-select{appearance:none}[_nghost-%COMP%]     .btn-group-toggle>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}[_nghost-%COMP%]     dynamic-ng-bootstrap-radio-group{display:block;width:100%}[_nghost-%COMP%]     dynamic-ng-bootstrap-radio-group>.btn-group.btn-group-toggle{width:100%}[_nghost-%COMP%]     .custom-control-input.is-invalid~.custom-control-label{color:var(--bs-form-invalid-color)}"]})}}return bt})()},37636:(F,D,n)=>{"use strict";n.d(D,{L:()=>u,i:()=>e});var i=n(31635),t=n(1473);const u="CUSTOM_SWITCH";class e extends t.M7d{constructor(m,f){super(m,f),this.type=u}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],e.prototype,"type",void 0)},33382:(F,D,n)=>{"use strict";n.d(D,{q:()=>x,P:()=>O});var i=n(60177),t=n(54438),u=n(89417),e=n(1473),h=n(41780),m=n(48125),f=n.n(m),v=n(82777),E=n(60456);const _=w=>({field:w}),C=w=>({"is-invalid":w});let I=(()=>{class w{constructor(L,B,k){this.fb=L,this.cd=B,this.translate=k,this.selected=new t.bkB,this.remove=new t.bkB,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB}ngOnInit(){this.step=this.step||1,this.min=this.min||0,this.max=this.max||100,this.size=this.size||1,this.disabled=this.disabled||!1,this.invalid=this.invalid||!1,this.cd.detectChanges()}ngOnChanges(L){this.value?L.max&&(this.value=this.value>this.max?this.max:this.value):L.value&&null===L.value.currentValue?this.value=null:L.invalid&&(this.invalid=L.invalid.currentValue)}changeValue(L=!1){if((0,v.Im)(this.value))this.value=this.startValue;else{this.startValue=this.value;let B=this.value;L?B-=this.step:B+=this.step,this.value=B>=this.min&&B<=this.max?B:B>this.max?this.min:this.max}this.emitChange()}toggleDown(){this.changeValue(!0)}toggleUp(){this.changeValue()}update(L){try{const B=Number.parseInt(L.target.value,10);this.value=B>=this.min&&B<=this.max?B:null===L.target.value||""===L.target.value?null:void 0,this.emitChange()}catch{this.value=void 0}}onBlur(L){this.blur.emit(L)}onFocus(L){this.value&&(this.startValue=this.value),this.focus.emit(L)}writeValue(L){this.startValue=L||this.min}registerOnChange(L){}registerOnTouched(L){}emitChange(){this.change.emit({field:this.name,value:this.value})}static{this.\u0275fac=function(B){return new(B||w)(t.rXU(u.ze),t.rXU(t.gRc),t.rXU(h.c$))}}static{this.\u0275cmp=t.VBU({type:w,selectors:[["ds-number-picker"]],inputs:{id:"id",step:"step",min:"min",max:"max",size:"size",placeholder:"placeholder",name:"name",disabled:"disabled",invalid:"invalid",value:"value"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Jv_([{provide:u.kq,useExisting:w,multi:!0}]),t.OA$,t.aNF],decls:12,vars:27,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-around","me-3"],["type","button","tabindex","0",1,"btn","btn-link-focus",3,"click","dsBtnDisabled"],[1,"chevron"],[1,"sr-only"],["type","text",1,"form-control","d-inline-block","text-center",3,"ngModelChange","blur","change","focus","id","maxlength","size","placeholder","name","ngModel","readonly","disabled","ngClass","title"],[1,"chevron","bottom"]],template:function(B,k){1&B&&(t.j41(0,"div",0)(1,"button",1),t.bIt("click",function(){return k.toggleUp()}),t.nrm(2,"span",2),t.j41(3,"span",3),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"input",4),t.mxI("ngModelChange",function(U){return t.DH7(k.value,U)||(k.value=U),U}),t.bIt("blur",function(U){return k.onBlur(U),U.stopPropagation()})("change",function(U){return k.update(U),U.stopPropagation()})("focus",function(U){return k.onFocus(U),U.stopPropagation()}),t.k0s(),t.j41(7,"button",1),t.bIt("click",function(){return k.toggleDown()}),t.nrm(8,"span",5),t.j41(9,"span",3),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()),2&B&&(t.R7$(),t.Y8G("dsBtnDisabled",k.disabled),t.R7$(3),t.JRh(t.i5U(5,15,"form.number-picker.increment",t.eq3(21,_,k.name))),t.R7$(2),t.FS9("id",k.id),t.FS9("maxlength",k.size),t.FS9("size",k.size),t.FS9("placeholder",k.placeholder),t.FS9("title",k.placeholder),t.Y8G("name",k.name),t.R50("ngModel",k.value),t.Y8G("readonly",k.disabled)("disabled",k.disabled)("ngClass",t.eq3(23,C,k.invalid)),t.BMQ("aria-label",k.placeholder),t.R7$(),t.Y8G("dsBtnDisabled",k.disabled),t.R7$(3),t.JRh(t.i5U(11,18,"form.number-picker.decrement",t.eq3(25,_,k.name))))},dependencies:[i.YU,u.YN,u.me,u.BC,u.tU,u.vS,h.h,h.D9,E.A],styles:['[_nghost-%COMP%]{outline:none}.chevron[_ngcontent-%COMP%]:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.71em}.chevron.bottom[_ngcontent-%COMP%]:before{top:-.3em;transform:rotate(135deg)}input[_ngcontent-%COMP%]{max-width:80px!important}.btn-link-focus[_ngcontent-%COMP%]{font-weight:400;color:#1f7293;text-decoration:none;box-shadow:none}.btn-link-focus[_ngcontent-%COMP%]:hover{color:#001a1a;text-decoration:underline}.btn-link-focus[_ngcontent-%COMP%]:disabled, .btn-link-focus.disabled[_ngcontent-%COMP%]{color:#6c757d;border:rgba(0,0,0,0);pointer-events:none}.btn-link-focus[_ngcontent-%COMP%]:focus, .btn-link-focus.focus[_ngcontent-%COMP%]{text-decoration:underline}']})}}return w})();n(87668);const T=(w,M)=>[w,M];function A(w,M){1&w&&(t.j41(0,"span"),t.EFF(1,"*"),t.k0s())}function p(w,M){if(1&w&&(t.j41(0,"legend",5),t.EFF(1),t.DNE(2,A,2,0,"span",6),t.k0s()),2&w){const L=t.XpG();t.Y8G("id","legend_"+L.model.id)("ngClass",t.l_i(4,T,L.getClass("element","label"),L.getClass("grid","label"))),t.R7$(),t.SpI(" ",L.model.placeholder," "),t.R7$(),t.Y8G("ngIf",L.model.required)}}const x="-";let O=(()=>{class w extends e.S6A{constructor(L,B,k,W){super(L,B),this.layoutService=L,this.validationService=B,this.renderer=k,this._document=W,this.bindId=!0,this.selected=new t.bkB,this.remove=new t.bkB,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.minMonth=1,this.maxMonth=12,this.minDay=1,this.maxDay=31,this.disabledMonth=!0,this.disabledDay=!0,this.fields=["_year","_month","_day"]}ngOnInit(){const L=new Date;if(this.initialYear=L.getUTCFullYear(),this.initialMonth=L.getUTCMonth()+1,this.initialDay=L.getUTCDate(),this.model&&null!==this.model.value){const B=this.model.value.toString().split(x);B.length>0&&(this.initialYear=parseInt(B[0],10),this.year=this.initialYear,this.disabledMonth=!1),B.length>1&&(this.initialMonth=parseInt(B[1],10),this.month=this.initialMonth,this.disabledDay=!1),B.length>2&&(this.initialDay=parseInt(B[2],10),this.day=this.initialDay)}this.maxYear=L.getUTCFullYear()+100}onBlur(L){this.blur.emit()}onChange(L){switch(L.field){case"year":null!==L.value?this.year=L.value:(this.year=void 0,this.month=void 0,this.day=void 0,this.disabledMonth=!0,this.disabledDay=!0);break;case"month":null!==L.value?this.month=L.value:(this.month=void 0,this.day=void 0,this.disabledDay=!0);break;case"day":this.day=null!==L.value?L.value:void 0}if(!this.disabledDay){const W=new Date(this.year,this.month?this.month-1:0,1);this.maxDay=this.getLastDay(W),this.day>this.maxDay&&(this.day=this.maxDay)}(0,v.a4)(this.year)&&"year"===L.field?this.disabledMonth=!1:(0,v.a4)(this.month)&&"month"===L.field&&(this.disabledDay=!1);let B=null;if((0,v.a4)(this.year)){let k=this.year.toString();for(;k.length<4;)k="0"+k;B=k}if((0,v.a4)(this.month)){const k=1===this.month.toString().length?"0"+this.month.toString():this.month.toString();B+=x+k}if((0,v.a4)(this.day)){const k=1===this.day.toString().length?"0"+this.day.toString():this.day.toString();B+=x+k}this.model.value=B,this.change.emit(B)}onTabKeydown(L){L.preventDefault();const B=this._document.activeElement;B.blur();const k=this.selectedFieldIndex(B);if(k<0)return;const W=k+1;W<this.fields.length&&this.focusInput(this.fields[W])}onShiftTabKeyDown(L){L.preventDefault();const B=this._document.activeElement;B.blur();const W=this.selectedFieldIndex(B)-1;W>=0&&this.focusInput(this.fields[W])}selectedFieldIndex(L){return this.fields.findIndex(B=>f()(L.id,this.model.id.concat(B)))}focusInput(L){const B=this._document.getElementById(this.model.id.concat(L));B&&((0,v.a4)(this.year)&&f()(L,"_year")&&(this.disabledMonth=!0,this.disabledDay=!0),(0,v.a4)(this.year)&&f()(L,"_month")?this.disabledMonth=!1:(0,v.a4)(this.month)&&f()(L,"_day")&&(this.disabledDay=!1),setTimeout(()=>{this.renderer.selectRootElement(B).focus()},100))}onFocus(L){this.focus.emit(L)}getLastDay(L){return L.setMonth(L.getMonth()+1,0),L.getDate()}static{this.\u0275fac=function(B){return new(B||w)(t.rXU(e.fpj),t.rXU(e.STK),t.rXU(t.sFG),t.rXU(i.qQ))}}static{this.\u0275cmp=t.VBU({type:w,selectors:[["ds-date-picker"]],hostBindings:function(B,k){1&B&&t.bIt("keydown.tab",function(U){return k.onTabKeydown(U)})("keydown.shift.tab",function(U){return k.onShiftTabKeyDown(U)})},inputs:{bindId:"bindId",group:"group",model:"model",legend:"legend"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:10,vars:35,consts:[[1,"d-flex"],[3,"id","ngClass",4,"ngIf"],["tabindex","0",3,"ngModelChange","blur","change","focus","id","disabled","min","max","name","size","ngModel","value","invalid","placeholder"],["tabindex","0",3,"ngModelChange","blur","change","focus","id","min","max","name","size","ngModel","value","placeholder","disabled"],[1,"clearfix"],[3,"id","ngClass"],[4,"ngIf"]],template:function(B,k){1&B&&(t.j41(0,"div")(1,"fieldset",0),t.DNE(2,p,3,7,"legend",1),t.j41(3,"ds-number-picker",2),t.nI1(4,"translate"),t.mxI("ngModelChange",function(U){return t.DH7(k.initialYear,U)||(k.initialYear=U),U}),t.bIt("blur",function(U){return k.onBlur(U)})("change",function(U){return k.onChange(U)})("focus",function(U){return k.onFocus(U)}),t.k0s(),t.j41(5,"ds-number-picker",3),t.nI1(6,"translate"),t.mxI("ngModelChange",function(U){return t.DH7(k.initialMonth,U)||(k.initialMonth=U),U}),t.bIt("blur",function(U){return k.onBlur(U)})("change",function(U){return k.onChange(U)})("focus",function(U){return k.onFocus(U)}),t.k0s(),t.j41(7,"ds-number-picker",3),t.nI1(8,"translate"),t.mxI("ngModelChange",function(U){return t.DH7(k.initialDay,U)||(k.initialDay=U),U}),t.bIt("blur",function(U){return k.onBlur(U)})("change",function(U){return k.onChange(U)})("focus",function(U){return k.onFocus(U)}),t.k0s()()(),t.nrm(9,"div",4)),2&B&&(t.R7$(2),t.Y8G("ngIf",!k.model.repeatable),t.R7$(),t.Y8G("id",k.model.id+"_year")("disabled",k.model.disabled)("min",k.minYear)("max",k.maxYear)("name","year")("size",4),t.R50("ngModel",k.initialYear),t.Y8G("value",k.year)("invalid",k.showErrorMessages)("placeholder",t.bMT(4,29,"form.date-picker.placeholder.year")),t.R7$(2),t.Y8G("id",k.model.id+"_month")("min",k.minMonth)("max",k.maxMonth)("name","month")("size",6),t.R50("ngModel",k.initialMonth),t.Y8G("value",k.month)("placeholder",t.bMT(6,31,"form.date-picker.placeholder.month"))("disabled",!k.year||k.model.disabled),t.R7$(2),t.Y8G("id",k.model.id+"_day")("min",k.minDay)("max",k.maxDay)("name","day")("size",2),t.R50("ngModel",k.initialDay),t.Y8G("value",k.day)("placeholder",t.bMT(8,33,"form.date-picker.placeholder.day"))("disabled",!k.month||k.model.disabled))},dependencies:[i.YU,i.bT,I,u.YN,u.BC,u.vS,h.h,h.D9],styles:[".col-lg-1[_ngcontent-%COMP%]{width:auto}legend[_ngcontent-%COMP%]{font-size:initial;float:none}"]})}}return w})()},87668:(F,D,n)=>{"use strict";n.d(D,{g:()=>v,s:()=>f});var i=n(31635),t=n(1473),u=n(84412),e=n(21413),h=n(14391),m=n(82777);const f="DATE";class v extends t.eGm{constructor(_,C){super(_,C),this.type=f,this.hasLanguages=!1,this.repeatable=!1,this.malformedDate=!1,this.legend=_.legend,this.metadataValue=_.metadataValue,this.typeBindRelations=_.typeBindRelations?_.typeBindRelations:[],this.hiddenUpdates=new u.t(this.hidden),this.repeatable=_.repeatable;const I=this.getRootParent(this);I&&(0,m.EA)(I.hidden)&&(I.hidden=this.hidden)}getRootParent(_){return(0,m.Im)(_)||(0,m.Im)(_.parent)?_:this.getRootParent(_.parent)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.B)],v.prototype,"hiddenUpdates",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],v.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],v.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",h.vD)],v.prototype,"metadataValue",void 0)},6458:(F,D,n)=>{"use strict";n.d(D,{H:()=>h,v:()=>e});var i=n(31635),t=n(1473),u=n(66733);const e="EMPTY";class h extends u.C{constructor(f,v){super(f,v),this.type=e,this.readOnly=!0,this.disabled=!0,this.hasSelectableMetadata=f.hasSelectableMetadata,this.value=f.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],h.prototype,"hasSelectableMetadata",void 0)},66733:(F,D,n)=>{"use strict";n.d(D,{C:()=>v});var i=n(31635),t=n(1473),u=n(21413),e=n(89293),h=n(82777),m=n(61280),f=n(56568);class v extends t.rA_{constructor(_,C){super(_,C),this.typeBindHidden=!1,this.repeatable=_.repeatable,this.metadataFields=_.metadataFields,this.hint=_.hint,this.readOnly=_.readOnly,this.disabled=_.readOnly,this.value=_.value,this.relationship=_.relationship,this.submissionId=_.submissionId,this.hasSelectableMetadata=_.hasSelectableMetadata,this.metadataValue=_.metadataValue,this.place=_.place,this.isModelOfInnerForm=!!(0,h.a4)(_.isModelOfInnerForm)&&_.isModelOfInnerForm,this.hideErrorMessages=_.hideErrorMessages,this.language=_.language,this.language||(_.value instanceof m.e?this.language=_.value.language:Array.isArray(_.value)&&_.value[0].language&&(this.language=_.value[0].language)),this.languageCodes=_.languageCodes,this.languageUpdates=new u.B,this.languageUpdates.subscribe(I=>{this.language=I}),this.typeBindRelations=_.typeBindRelations?_.typeBindRelations:[],this.vocabularyOptions=_.vocabularyOptions}get hasAuthority(){return this.vocabularyOptions&&(0,h.a4)(this.vocabularyOptions.name)}get hasLanguages(){return this.languageCodes&&this.languageCodes.length>1}get language(){return this._language}set language(_){this._language=_}get languageCodes(){return this._languageCodes}set languageCodes(_){this._languageCodes=_,(!this.language||""===this.language)&&(this.language=this.languageCodes?this.languageCodes[0].code:null)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.n)],v.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],v.prototype,"_languageCodes",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],v.prototype,"_language",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",u.B)],v.prototype,"languageUpdates",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],v.prototype,"place",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],v.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],v.prototype,"typeBindHidden",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",f.j)],v.prototype,"relationship",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],v.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],v.prototype,"metadataFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],v.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],v.prototype,"hasSelectableMetadata",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",m.e)],v.prototype,"metadataValue",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],v.prototype,"isModelOfInnerForm",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],v.prototype,"hideErrorMessages",void 0)},8590:(F,D,n)=>{"use strict";n.d(D,{m:()=>h});var i=n(31635),t=n(1473),u=n(82777),e=n(56568);class h extends t.UqU{constructor(f,v){super(f,v),this.notRepeatable=!1,this.required=!1,this.showButtons=!0,this.isRowArray=!0,this.isInlineGroupArray=!1,(0,u.a4)(f.notRepeatable)&&(this.notRepeatable=f.notRepeatable),(0,u.a4)(f.required)&&(this.required=f.required),(0,u.a4)(f.showButtons)&&(this.showButtons=f.showButtons),this.submissionId=f.submissionId,this.relationshipConfig=f.relationshipConfig,this.metadataKey=f.metadataKey,this.metadataFields=f.metadataFields,this.hasSelectableMetadata=f.hasSelectableMetadata,this.isDraggable=f.isDraggable,this.typeBindRelations=f.typeBindRelations?f.typeBindRelations:[],this.isInlineGroupArray=!!f.isInlineGroupArray&&f.isInlineGroupArray}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],h.prototype,"notRepeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],h.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.j)],h.prototype,"relationshipConfig",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"metadataKey",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],h.prototype,"metadataFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],h.prototype,"hasSelectableMetadata",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],h.prototype,"isDraggable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],h.prototype,"showButtons",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],h.prototype,"typeBindRelations",void 0)},77485:(F,D,n)=>{"use strict";n.d(D,{E:()=>e});var i=n(31635),t=n(1473),u=n(66733);class e extends u.C{constructor(m,f){super(m,f),this.type=t.TwG,this.cols=m.cols,this.rows=m.rows,this.wrap=m.wrap}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],e.prototype,"cols",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],e.prototype,"rows",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],e.prototype,"wrap",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],e.prototype,"type",void 0)},54875:(F,D,n)=>{"use strict";n.d(D,{o:()=>C});var i=n(1473),t=n(7673),u=n(96354),e=n(32089),h=n(43235),m=n(19506),f=n(82777),v=n(61280),_=(n(66733),n(54438));let C=(()=>{class I extends i.S6A{constructor(T,A,p){super(A,p),this.vocabularyService=T,this.layoutService=A,this.validationService=p}getInitValueFromModel(T=!1){let A;if((0,f.hj)(this.model.value)&&this.model.value instanceof v.e&&!this.model.value.hasAuthorityToGenerate()){let p;p=this.model.value.hasAuthority()?this.vocabularyService.getVocabularyEntryByID(this.model.value.authority,this.model.vocabularyOptions):this.vocabularyService.getVocabularyEntryByValue(this.model.value.value,this.model.vocabularyOptions),A=p.pipe((0,u.T)(x=>{if((0,f.hj)(x)){const O=new v.e(x.value,null,x.authority,x.display,this.model.value.place,null,x.otherInformation||null);return T&&(O.confidence=this.model.value.confidence),O}return this.model.value}))}else A=(0,f.hj)(this.model.value)&&this.model.value instanceof h.b?(0,t.of)(new v.e(this.model.value.value,null,this.model.value.authority,this.model.value.display,0,null,this.model.value.otherInformation||null)):(0,t.of)(new v.e(this.model.value));return A}onBlur(T){this.blur.emit(T)}onFocus(T){this.focus.emit(T)}dispatchUpdate(T){this.model.value=T,this.change.emit(T)}updatePageInfo(T,A,p,x){this.pageInfo=Object.assign(new e.Q,{elementsPerPage:T,currentPage:A,totalElements:p,totalPages:x})}static{this.\u0275fac=function(A){return new(A||I)(_.rXU(m.g),_.rXU(i.fpj),_.rXU(i.STK))}}static{this.\u0275cmp=_.VBU({type:I,selectors:[["ds-dynamic-vocabulary"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_.Vt3],decls:0,vars:0,template:function(A,p){},encapsulation:2})}}return I})()},29658:(F,D,n)=>{"use strict";n.d(D,{R:()=>m});var i=n(31635),t=n(1473),u=n(21413),e=n(89293),h=n(82777);class m extends t.JVJ{constructor(v,E){super(v,E),this.isListGroup=!0,this.vocabularyOptions=v.vocabularyOptions,this.groupLength=v.groupLength||5,this._value=[],this.repeatable=v.repeatable,this.required=v.required,this.hint=v.hint,this.valueUpdates=new u.B,this.valueUpdates.subscribe(_=>this.value=_),this.valueUpdates.next(v.value),this.typeBindRelations=v.typeBindRelations?v.typeBindRelations:[]}get hasAuthority(){return this.vocabularyOptions&&(0,h.a4)(this.vocabularyOptions.name)}get value(){return this._value}set value(v){v&&(this._value=Array.isArray(v)?v:this.value.concat([v]))}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.n)],m.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],m.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],m.prototype,"groupLength",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"_value",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],m.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"hint",void 0)},90558:(F,D,n)=>{"use strict";n.d(D,{t:()=>h});var i=n(31635),t=n(1473),u=n(89293),e=n(82777);class h extends t.tK_{constructor(f,v){super(f,v),this.isListGroup=!0,this.vocabularyOptions=f.vocabularyOptions,this.groupLength=f.groupLength||5,this.repeatable=f.repeatable,this.required=f.required,this.hint=f.hint,this.value=f.value,this.typeBindRelations=f.typeBindRelations?f.typeBindRelations:[]}get hasAuthority(){return this.vocabularyOptions&&(0,e.a4)(this.vocabularyOptions.name)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",u.n)],h.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],h.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],h.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],h.prototype,"groupLength",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],h.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"hint",void 0)},37146:(F,D,n)=>{"use strict";n.d(D,{V:()=>e,_:()=>h});var i=n(31635),t=n(1473),u=n(80902);const e="LOOKUP_NAME";class h extends u.P{constructor(f,v){super(f,v),this.type=e,this.separator=f.separator||",",this.placeholder=f.firstPlaceholder||"form.last-name",this.secondPlaceholder=f.secondPlaceholder||"form.first-name"}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"separator",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"secondPlaceholder",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"type",void 0)},80902:(F,D,n)=>{"use strict";n.d(D,{P:()=>h,d:()=>e});var i=n(31635),t=n(1473),u=n(66733);const e="LOOKUP";class h extends u.C{constructor(f,v){super(f,v),this.type=e,this.autoComplete=t.DAG,this.maxOptions=f.maxOptions||10,this.value=f.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],h.prototype,"maxOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"type",void 0)},18302:(F,D,n)=>{"use strict";n.d(D,{d:()=>De});var i=n(60177),t=n(54438),u=n(89417),e=n(58003),h=n(41780),m=n(71985),f=n(21413),v=n(7673),E=n(79335),_=n(70152),C=n(23294),I=n(88141),R=n(25558),T=n(99437),A=n(96354),p=n(5964),x=n(96697),O=n(96820),w=n(80183),M=n(32089),L=n(19506),B=n(82777),k=n(99390),W=n(39729),U=n(38443),K=n(61280),Y=n(54875),q=(n(45500),n(1473));const z=["instance"],te=be=>({entry:be});function Z(be,me){if(1&be&&t.eu8(0,5),2&be){const re=me.result;t.XpG();const Ee=t.sdS(3),Te=t.sdS(5);t.Y8G("ngTemplateOutlet",re.hasOtherInformation()?Ee:Te)("ngTemplateOutletContext",t.eq3(2,te,re))}}function J(be,me){if(1&be&&(t.j41(0,"li",9),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&be){const re=me.$implicit;t.R7$(),t.Lme(" ",t.bMT(2,2,"form.other-information."+re.key)," : ",re.value," ")}}function Q(be,me){if(1&be&&(t.j41(0,"ul",6)(1,"li",7),t.EFF(2),t.k0s(),t.DNE(3,J,3,4,"li",8),t.nI1(4,"dsObjNgFor"),t.k0s()),2&be){const re=me.entry;t.R7$(2),t.JRh(re.value),t.R7$(),t.Y8G("ngForOf",t.bMT(4,2,re.otherInformation))}}function ee(be,me){if(1&be&&(t.j41(0,"ul",6)(1,"li",7),t.EFF(2),t.k0s()()),2&be){const re=me.entry;t.R7$(2),t.JRh(re.value)}}function le(be,me){1&be&&t.nrm(0,"i",15)}function ne(be,me){if(1&be){const re=t.RV6();t.j41(0,"i",16),t.bIt("whenClickOnConfidenceNotAccepted",function(Te){t.eBV(re);const tt=t.XpG(2);return t.Njj(tt.whenClickOnConfidenceNotAccepted(Te))}),t.k0s()}if(2&be){const re=t.XpG(2);t.Y8G("authorityValue",re.currentValue)}}function fe(be,me){1&be&&(t.j41(0,"div",17),t.EFF(1,"Sorry, suggestions could not be loaded."),t.k0s())}function se(be,me){if(1&be){const re=t.RV6();t.j41(0,"div",10),t.DNE(1,le,1,0,"i",11)(2,ne,1,1,"i",12),t.j41(3,"input",13,3),t.nI1(5,"translate"),t.mxI("ngModelChange",function(Te){t.eBV(re);const tt=t.XpG();return t.DH7(tt.currentValue,Te)||(tt.currentValue=Te),t.Njj(Te)}),t.bIt("blur",function(Te){t.eBV(re);const tt=t.XpG();return t.Njj(tt.onBlur(Te))})("focus",function(Te){t.eBV(re);const tt=t.XpG();return t.Njj(tt.onFocus(Te))})("change",function(Te){t.eBV(re);const tt=t.XpG();return t.Njj(tt.onChange(Te))})("input",function(Te){t.eBV(re);const tt=t.XpG();return t.Njj(tt.onInput(Te))})("selectItem",function(Te){t.eBV(re);const tt=t.XpG();return t.Njj(tt.onSelectItem(Te))}),t.k0s(),t.DNE(6,fe,2,0,"div",14),t.k0s()}if(2&be){const re=t.XpG(),Ee=t.sdS(1);t.R7$(),t.Y8G("ngIf",re.searching||re.loadingInitialValue),t.R7$(),t.Y8G("ngIf",!re.searching&&!re.loadingInitialValue),t.R7$(),t.AVh("is-invalid",re.showErrorMessages),t.Y8G("id",re.model.id)("inputFormatter",re.formatter)("name",re.model.name)("ngbTypeahead",re.search)("placeholder",re.model.placeholder)("readonly",re.model.readOnly)("disabled",re.model.readOnly)("resultTemplate",Ee)("type",re.model.inputType),t.R50("ngModel",re.currentValue),t.BMQ("aria-labelledby","label_"+re.model.id)("autoComplete",re.model.autoComplete)("aria-label",t.bMT(5,18,re.model.label)),t.R7$(3),t.Y8G("ngIf",re.searchFailed)}}function ce(be,me){if(1&be){const re=t.RV6();t.j41(0,"div",10)(1,"i",18),t.bIt("click",function(Te){t.eBV(re);const tt=t.XpG();return t.Njj(tt.openTree(Te))}),t.k0s(),t.j41(2,"input",19),t.nI1(3,"translate"),t.bIt("focus",function(Te){t.eBV(re);const tt=t.XpG();return t.Njj(tt.onFocus(Te))})("change",function(Te){t.eBV(re);const tt=t.XpG();return t.Njj(tt.onChange(Te))})("click",function(Te){t.eBV(re);const tt=t.XpG();return t.Njj(tt.openTree(Te))})("keydown",function(Te){return t.eBV(re),t.Njj(Te.preventDefault())})("keypress",function(Te){return t.eBV(re),t.Njj(Te.preventDefault())})("keyup",function(Te){return t.eBV(re),t.Njj(Te.preventDefault())}),t.k0s()()}if(2&be){const re=t.XpG();t.R7$(2),t.AVh("is-invalid",re.showErrorMessages)("tree-input",!re.model.readOnly),t.Y8G("id",re.id)("name",re.model.name)("placeholder",re.model.placeholder)("readonly",!0)("disabled",re.model.readOnly)("type",re.model.inputType)("value",null==re.currentValue?null:re.currentValue.display),t.BMQ("aria-labelledby","label_"+re.model.id)("autoComplete",re.model.autoComplete)("aria-label",t.bMT(3,14,re.model.label))}}let De=(()=>{class be extends Y.o{constructor(re,Ee,Te,tt,ht){super(re,Te,ht),this.vocabularyService=re,this.cdr=Ee,this.layoutService=Te,this.modalService=tt,this.validationService=ht,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.pageInfo=new M.Q,this.searching=!1,this.loadingInitialValue=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed$=new m.c(()=>()=>this.changeSearchingStatus(!1)),this.click$=new f.B,this.subs=[],this.formatter=Fe=>"object"==typeof Fe?Fe.display:Fe,this.search=Fe=>Fe.pipe((0,E.h)(this.click$),(0,_.B)(300),(0,C.F)(),(0,I.M)(()=>this.changeSearchingStatus(!0)),(0,R.n)(Et=>""===Et||Et.length<this.model.minChars?(0,v.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(Et,!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,w.ak)(),(0,I.M)(()=>this.searchFailed=!1),(0,T.W)(()=>(this.searchFailed=!0,(0,v.of)((0,O.g)(new M.Q,[])))))),(0,A.T)(Et=>Et.page),(0,I.M)(()=>this.changeSearchingStatus(!1)),(0,E.h)(this.hideSearchingWhenUnsubscribed$))}ngOnInit(){this.model.value&&this.setCurrentValue(this.model.value,!0),this.vocabulary$=this.vocabularyService.findVocabularyById(this.model.vocabularyOptions.name).pipe((0,w.ak)(),(0,C.F)()),this.isHierarchicalVocabulary$=this.vocabulary$.pipe((0,A.T)(re=>re.hierarchical)),this.subs.push(this.group.get(this.model.id).valueChanges.pipe((0,p.p)(re=>this.currentValue!==re)).subscribe(re=>{this.setCurrentValue(this.model.value)}))}changeSearchingStatus(re){this.searching=re,this.cdr.detectChanges()}changeLoadingInitialValueStatus(re){this.loadingInitialValue=re,this.cdr.detectChanges()}isHierarchicalVocabulary(){return this.isHierarchicalVocabulary$}onInput(re){!this.model.vocabularyOptions.closed&&(0,B.hj)(re.target.value)&&(this.inputValue=new K.e(re.target.value))}onBlur(re){this.instance.isPopupOpen()?(re.preventDefault(),re.stopImmediatePropagation(),!this.model.vocabularyOptions.closed&&(0,B.hj)(this.inputValue)&&((0,B.Pe)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null)):(!this.model.vocabularyOptions.closed&&(0,B.hj)(this.inputValue)&&((0,B.Pe)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null),this.blur.emit(re))}onChange(re){re.stopPropagation(),(0,B.Im)(this.currentValue)&&this.dispatchUpdate(null)}onSelectItem(re){this.inputValue=null,this.setCurrentValue(re.item),this.dispatchUpdate(re.item)}openTree(re){this.model.readOnly||(re.preventDefault(),re.stopImmediatePropagation(),this.subs.push(this.vocabulary$.pipe((0,A.T)(Ee=>Ee.preloadLevel),(0,x.s)(1)).subscribe(Ee=>{const Te=this.modalService.open(U._,{size:"lg",windowClass:"treeview"});Te.componentInstance.vocabularyOptions=this.model.vocabularyOptions,Te.componentInstance.preloadLevel=Ee,Te.componentInstance.selectedItems=this.currentValue?[this.currentValue]:[],Te.result.then(tt=>{tt&&(this.currentValue=tt,this.dispatchUpdate(tt))},()=>{})})))}whenClickOnConfidenceNotAccepted(re){this.model.readOnly||this.click$.next(this.formatter(this.currentValue))}setCurrentValue(re,Ee=!1){let Te;Ee?(this.changeLoadingInitialValueStatus(!0),this.getInitValueFromModel(!0).subscribe(tt=>{this.changeLoadingInitialValueStatus(!1),this.currentValue=tt,this.cdr.detectChanges()})):(Te=(0,B.Im)(re)?"":re.value,this.currentValue=Te,this.cdr.detectChanges())}ngOnDestroy(){this.subs.filter(re=>(0,B.a4)(re)).forEach(re=>re.unsubscribe())}static{this.\u0275fac=function(Ee){return new(Ee||be)(t.rXU(L.g),t.rXU(t.gRc),t.rXU(q.fpj),t.rXU(e.Bq),t.rXU(q.STK))}}static{this.\u0275cmp=t.VBU({type:be,selectors:[["ds-dynamic-onebox"]],viewQuery:function(Ee,Te){if(1&Ee&&t.GBs(z,5),2&Ee){let tt;t.mGM(tt=t.lsd())&&(Te.instance=tt.first)}},inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:10,vars:6,consts:[["rt",""],["hasInfo",""],["noInfo",""],["instance","ngbTypeahead"],["class","position-relative right-addon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","fw-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["dsAuthorityConfidenceState","","class","far fa-circle fa-2x fa-fw position-absolute mt-1 p-0","aria-hidden","true",3,"authorityValue","whenClickOnConfidenceNotAccepted",4,"ngIf"],[1,"form-control",3,"ngModelChange","blur","focus","change","input","selectItem","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","disabled","resultTemplate","type","ngModel"],["class","invalid-feedback",4,"ngIf"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0",3,"whenClickOnConfidenceNotAccepted","authorityValue"],[1,"invalid-feedback"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","tree-toggle",3,"click"],[1,"form-control",3,"focus","change","click","keydown","keypress","keyup","id","name","placeholder","readonly","disabled","type","value"]],template:function(Ee,Te){1&Ee&&(t.DNE(0,Z,1,4,"ng-template",null,0,t.C5r)(2,Q,5,4,"ng-template",null,1,t.C5r)(4,ee,3,1,"ng-template",null,2,t.C5r)(6,se,7,20,"div",4),t.nI1(7,"async"),t.DNE(8,ce,4,16,"div",4),t.nI1(9,"async")),2&Ee&&(t.R7$(6),t.Y8G("ngIf",!0!==t.bMT(7,2,Te.isHierarchicalVocabulary())),t.R7$(2),t.Y8G("ngIf",t.bMT(9,4,Te.isHierarchicalVocabulary())))},dependencies:[e.h_,e.$n,i.bT,i.Jj,W.K,i.T3,h.h,h.D9,k.U,i.Sq,u.YN,u.me,u.BC,u.vS],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}select.form-control[_ngcontent-%COMP%]{appearance:auto}.col-sm-6[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.treeview[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:85vh!important;overflow-y:auto}.tree-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.tree-input[readonly][_ngcontent-%COMP%]{background-color:#fff}"]})}}return be})()},45500:(F,D,n)=>{"use strict";n.d(D,{K:()=>h,m:()=>e});var i=n(31635),t=n(1473),u=n(66733);const e="ONEBOX";class h extends u.C{constructor(f,v){super(f,v),this.type=e,this.autoComplete=t.DAG,this.minChars=f.minChars||3}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],h.prototype,"minChars",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"type",void 0)},11166:(F,D,n)=>{"use strict";n.d(D,{W:()=>m});var i=n(31635),t=n(1473),u=n(82777),e=n(56899),h=n(66733);class m extends h.C{constructor(v,E){super(v,E),this.type=e.T,this.submissionId=v.submissionId,this.formConfiguration=v.formConfiguration,this.mandatoryField=v.mandatoryField,this.relationFields=v.relationFields,this.scopeUUID=v.scopeUUID,this.submissionScope=v.submissionScope,this.value=v.value||[]}isEmpty(){const v=this.getGroupValue();return 1===v.length&&(0,u.kZ)(v[0][this.mandatoryField])}getGroupValue(){if((0,u.Im)(this.value)){const v=Object.create({});return v[this.mandatoryField]=null,this.relationFields.forEach(E=>{v[E]=null}),[v]}return this.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"formConfiguration",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"mandatoryField",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"relationFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"scopeUUID",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"submissionScope",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"type",void 0)},83766:(F,D,n)=>{"use strict";n.d(D,{s:()=>G});var i=n(60177),t=n(54438),u=n(58003),e=n(41780),h=n(86820),m=n(7673),f=n(96697),v=n(23294),E=n(99437),_=n(88141),C=n(96354),I=n(82640),R=n(96820),T=n(4047),A=n(80183),p=n(32089),x=n(19506),O=n(82777),w=n(54875),L=(n(11220),n(1473));const B=["dropdownMenu"];function k(q,z){1&q&&t.nrm(0,"i",13)}function W(q,z){1&q&&t.nrm(0,"i",14)}function U(q,z){1&q&&(t.j41(0,"button",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&q&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"form.no-results")," "))}function K(q,z){if(1&q){const te=t.RV6();t.j41(0,"button",16),t.nI1(1,"async"),t.bIt("keydown.enter",function(){const J=t.eBV(te).$implicit,Q=t.XpG(),ee=t.sdS(1);return Q.onSelect(J),t.Njj(ee.close())})("mousedown",function(){const J=t.eBV(te).$implicit,Q=t.XpG(),ee=t.sdS(1);return Q.onSelect(J),t.Njj(ee.close())}),t.EFF(2),t.k0s()}if(2&q){const te=z.$implicit,Z=z.index,J=t.XpG();t.AVh("active",Z===J.selectedIndex),t.FS9("title",J.inputFormatter(te)),t.BMQ("id",J.inputFormatter(te)===t.bMT(1,5,J.currentValue)?"combobox_"+J.id+"_selected":null),t.R7$(2),t.SpI(" ",J.inputFormatter(te)," ")}}function Y(q,z){1&q&&(t.j41(0,"div",17)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&q&&(t.R7$(2),t.JRh(t.bMT(3,1,"form.loading")))}let G=(()=>{class q extends w.o{constructor(te,Z,J,Q,ee,le){super(te,J,Q),this.vocabularyService=te,this.cdr=Z,this.layoutService=J,this.validationService=Q,this.parentInjector=ee,this.dataServiceMap=le,this.bindId=!0,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.loading=!1,this.inputText=null,this.selectedIndex=0,this.acceptableKeys=["Space","NumpadMultiply","NumpadAdd","NumpadSubtract","NumpadDecimal","Semicolon","Equal","Comma","Minus","Period","Quote","Backquote"],this.inputFormatter=ne=>this.model.formatFunction?this.model.formatFunction(ne):ne.display||ne.value}ngOnInit(){((0,O.a4)(this.model.resourceType)?(0,T.M)(this.dataServiceMap,this.model.resourceType.value,this.parentInjector):(0,m.of)(null)).pipe((0,f.s)(1)).subscribe(Z=>{this.findAllService=Z,this.useFindAllService=(0,O.a4)(this.findAllService?.findAll)&&"function"==typeof this.findAllService.findAll,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!0)}),this.group.get(this.model.id).valueChanges.pipe((0,v.F)()).subscribe(Z=>{this.setCurrentValue(Z)})}getDataFromService(){return this.useFindAllService?this.findAllService.findAll({elementsPerPage:this.pageInfo.elementsPerPage,currentPage:this.pageInfo.currentPage}):this.vocabularyService.getVocabularyEntriesByValue(this.inputText,!1,this.model.vocabularyOptions,this.pageInfo)}loadOptions(te){this.loading=!0,this.getDataFromService().pipe((0,A.ak)(),(0,E.W)(()=>(0,m.of)((0,R.g)(new p.Q,[]))),(0,_.M)(()=>this.loading=!1)).subscribe(Z=>{this.optionsList=Z.page,te&&this.model.value&&this.setCurrentValue(this.model.value,!0),this.updatePageInfo(Z.pageInfo.elementsPerPage,Z.pageInfo.currentPage,Z.pageInfo.totalElements,Z.pageInfo.totalPages),this.selectedIndex=0,this.cdr.detectChanges()})}openDropdown(te){this.model.readOnly||(this.group.markAsUntouched(),this.inputText=null,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!1),te.open())}navigateDropdown(te){"ArrowDown"===te.key?this.selectedIndex=Math.min(this.selectedIndex+1,this.optionsList.length-1):"ArrowUp"===te.key&&(this.selectedIndex=Math.max(this.selectedIndex-1,0)),this.scrollToSelected()}scrollToSelected(){const Z=this.dropdownMenu.nativeElement.querySelectorAll(".dropdown-item")[this.selectedIndex];Z&&Z.scrollIntoView({block:"nearest"})}selectOnKeyDown(te,Z){const J=te.key;"Enter"===J?(te.preventDefault(),te.stopPropagation(),Z.isOpen()?(this.onSelect(this.optionsList[this.selectedIndex]),Z.close()):Z.open()):"ArrowDown"===J||"ArrowUp"===J?(te.preventDefault(),te.stopPropagation(),this.navigateDropdown(te)):"Backspace"===J?this.removeKeyFromInput():this.isAcceptableKey(J)&&this.addKeyToInput(J)}addKeyToInput(te){null===this.inputText&&(this.inputText=""),this.inputText+=te,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!1)}removeKeyFromInput(){null!==this.inputText&&(this.inputText=this.inputText.slice(0,-1),""===this.inputText&&(this.inputText=null),this.loadOptions(!1))}isAcceptableKey(te){return!(1!==te.length||!te.match(/^[a-zA-Z0-9]*$/))||this.acceptableKeys.includes(te)}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.loading=!0,this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.getDataFromService().pipe((0,A.ak)(),(0,E.W)(()=>(0,m.of)((0,R.g)(new p.Q,[]))),(0,_.M)(()=>this.loading=!1)).subscribe(te=>{this.optionsList=this.optionsList.concat(te.page),this.updatePageInfo(te.pageInfo.elementsPerPage,te.pageInfo.currentPage,te.pageInfo.totalElements,te.pageInfo.totalPages),this.cdr.detectChanges()}))}onSelect(te){this.group.markAsDirty(),this.dispatchUpdate(te),this.setCurrentValue(te)}setCurrentValue(te,Z=!1){let J;J=Z&&!this.useFindAllService?this.getInitValueFromModel().pipe((0,C.T)(Q=>Q.display)):(0,O.Im)(te)?(0,m.of)(""):(0,m.of)("string"==typeof te?te:this.useFindAllService?te[this.model.displayKey]:te.display),this.currentValue=J}static{this.\u0275fac=function(Z){return new(Z||q)(t.rXU(x.g),t.rXU(t.gRc),t.rXU(L.fpj),t.rXU(L.STK),t.rXU(t.zZn),t.rXU(I.l9))}}static{this.\u0275cmp=t.VBU({type:q,selectors:[["ds-dynamic-scrollable-dropdown"]],viewQuery:function(Z,J){if(1&Z&&t.GBs(B,5,t.aKT),2&Z){let Q;t.mGM(Q=t.lsd())&&(J.dropdownMenu=Q.first)}},inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:19,vars:38,consts:[["sdRef","ngbDropdown"],["dropdownMenu",""],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"w-100"],["role","combobox",1,"position-relative","right-addon"],["ngbDropdownToggle","","class","position-absolute scrollable-dropdown-toggle","aria-hidden","true",4,"ngIf"],["class","dropdown-toggle position-absolute toggle-icon","aria-hidden","true",4,"ngIf"],[1,"form-control",3,"blur","click","focus","keydown","id","name","readonly","disabled","type","value"],["ngbDropdownMenu","",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["role","listbox","infiniteScroll","",1,"scrollable-menu",3,"scrolled","id","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow"],["class","dropdown-item disabled","type","button",4,"ngIf"],["role","option","type","button",1,"dropdown-item","collection-item","text-truncate",3,"click","mousedown","title"],["class","dropdown-item collection-item text-truncate","role","option","type","button",3,"active","title","keydown.enter","mousedown",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],["ngbDropdownToggle","","aria-hidden","true",1,"position-absolute","scrollable-dropdown-toggle"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","toggle-icon"],["type","button",1,"dropdown-item","disabled"],["role","option","type","button",1,"dropdown-item","collection-item","text-truncate",3,"keydown.enter","mousedown","title"],[1,"scrollable-dropdown-loading","text-center"]],template:function(Z,J){if(1&Z){const Q=t.RV6();t.j41(0,"div",2,0)(2,"div",3),t.nI1(3,"async"),t.DNE(4,k,1,0,"i",4)(5,W,1,0,"i",5),t.j41(6,"input",6),t.nI1(7,"async"),t.bIt("blur",function(le){return t.eBV(Q),t.Njj(J.onBlur(le))})("click",function(le){t.eBV(Q);const ne=t.sdS(1);return le.stopPropagation(),t.Njj(J.openDropdown(ne))})("focus",function(le){return t.eBV(Q),t.Njj(J.onFocus(le))})("keydown",function(le){t.eBV(Q);const ne=t.sdS(1);return t.Njj(J.selectOnKeyDown(le,ne))}),t.k0s()(),t.j41(8,"div",7,1)(10,"div",8),t.bIt("scrolled",function(){return t.eBV(Q),t.Njj(J.onScroll())}),t.DNE(11,U,3,3,"button",9),t.j41(12,"button",10),t.nI1(13,"translate"),t.bIt("click",function(){t.eBV(Q);const le=t.sdS(1);return J.onSelect(void 0),t.Njj(le.close())})("mousedown",function(){t.eBV(Q);const le=t.sdS(1);return J.onSelect(void 0),t.Njj(le.close())}),t.j41(14,"i"),t.EFF(15),t.nI1(16,"translate"),t.k0s()(),t.DNE(17,K,3,7,"button",11)(18,Y,4,3,"div",12),t.k0s()()()}if(2&Z){const Q=t.sdS(1);t.R7$(2),t.BMQ("aria-label",J.model.label)("aria-owns","combobox_"+J.id+"_listbox")("aria-expanded",Q.isOpen())("aria-activedescendant",t.bMT(3,30,J.currentValue)?"combobox_"+J.id+"_selected":null),t.R7$(2),t.Y8G("ngIf",!J.model.readOnly),t.R7$(),t.Y8G("ngIf",J.model.readOnly),t.R7$(),t.AVh("is-invalid",J.showErrorMessages)("scrollable-dropdown-input",!J.model.readOnly),t.Y8G("id",J.id)("name",J.model.name)("readonly",!0)("disabled",J.model.readOnly)("type",J.model.inputType)("value",t.bMT(7,32,J.currentValue)),t.BMQ("aria-controls","combobox_"+J.id+"_listbox")("aria-label",J.model.placeholder)("autoComplete",J.model.autoComplete),t.R7$(2),t.BMQ("aria-label",J.model.placeholder),t.R7$(2),t.Y8G("id","combobox_"+J.id+"_listbox")("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),t.BMQ("aria-label",J.model.placeholder),t.R7$(),t.Y8G("ngIf",J.optionsList&&0===J.optionsList.length),t.R7$(),t.FS9("title",t.bMT(13,34,"dropdown.clear.tooltip")),t.R7$(3),t.JRh(t.bMT(16,36,"dropdown.clear")),t.R7$(2),t.Y8G("ngForOf",J.optionsList),t.R7$(),t.Y8G("ngIf",J.loading)}},dependencies:[u.zH,u.tg,u.do,u.U0,i.bT,i.Jj,h.eO,h.DP,i.Sq,e.h,e.D9],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}select.form-control[_ngcontent-%COMP%]{appearance:auto}.col-sm-6[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}.collection-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}.scrollable-dropdown-loading[_ngcontent-%COMP%]{background-color:var(--bs-primary);color:#fff;height:calc(var(--bs-spacer) * 2)!important;line-height:calc(var(--bs-spacer) * 2);position:sticky;bottom:0}.scrollable-dropdown-menu[_ngcontent-%COMP%]{left:0!important;margin-bottom:var(--bs-spacer);z-index:1000}.scrollable-dropdown-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.scrollable-dropdown-input[readonly][_ngcontent-%COMP%]{background-color:#fff}.toggle-icon[_ngcontent-%COMP%]{padding:.7rem .7rem 0}"]})}}return q})()},11220:(F,D,n)=>{"use strict";n.d(D,{W:()=>e,j:()=>h});var i=n(31635),t=n(1473),u=n(66733);const e="SCROLLABLE_DROPDOWN";class h extends u.C{constructor(f,v){super(f,v),this.type=e,this.autoComplete=t.DAG,this.vocabularyOptions=f.vocabularyOptions,this.maxOptions=f.maxOptions||10,this.displayKey=f.displayKey||"display",this.formatFunction=f.formatFunction,this.resourceType=f.resourceType}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],h.prototype,"maxOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"displayKey",void 0)},38512:(F,D,n)=>{"use strict";n.d(D,{H:()=>h,v:()=>e});var i=n(31635),t=n(1473),u=n(66733);const e="TAG";class h extends u.C{constructor(f,v){super(f,v),this.type=e,this.autoComplete=t.DAG,this.minChars=f.minChars||3,this.value=f.value||[]}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],h.prototype,"minChars",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"type",void 0)},6011:(F,D,n)=>{"use strict";n.d(D,{d:()=>Pn});var i=n(60177),t=n(54438),u=n(58003),e=n(41780),h=n(84412),m=n(84572),f=n(96354),v=n(96697),E=n(65245),_=n(25558),C=n(72734),I=n(53954),R=n(57514),T=n(41023),A=n(57568),p=n(48833),x=n(26292),O=n(80183),w=n(39012),M=n(13955),L=n(60456),B=n(82777),k=n(82394),W=n(13329),U=n(67600),q=(n(6041),n(31507),n(88318),n(8886));n(4089);const te=["*"];function Z(yt,Kt){}let J=(()=>{class yt extends q.J{constructor(){super(...arguments),this.inAndOutputNames=["label","listId","item","collection","relationship","context","query","repeatable","importedObject","externalSource"],this.importedObject=new t.bkB}getComponentName(){return"DsDynamicLookupRelationExternalSourceTabComponent"}importThemedComponent(Rt){return n(90331)(`./${Rt}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,4089))}static{this.\u0275fac=(()=>{let Rt;return function(gn){return(Rt||(Rt=t.xGo(yt)))(gn||yt)}})()}static{this.\u0275cmp=t.VBU({type:yt,selectors:[["ds-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",query:"query",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:te,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(nn,gn){1&nn&&(t.NAR(),t.DNE(0,Z,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return yt})();var Q=n(59496);n(59854),n(26091);const ne=["*"];function fe(yt,Kt){}let se=(()=>{class yt extends q.J{constructor(){super(...arguments),this.inAndOutputNames=["relationship","listId","query","hiddenQuery","repeatable","selection$","context","relationshipType","item","isLeft","toRemove","isEditRelationship","deselectObject","selectObject","resultFound"],this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.resultFound=new t.bkB}getComponentName(){return"DsDynamicLookupRelationSearchTabComponent"}importThemedComponent(Rt){return n(37919)(`./${Rt}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,26091))}static{this.\u0275fac=(()=>{let Rt;return function(gn){return(Rt||(Rt=t.xGo(yt)))(gn||yt)}})()}static{this.\u0275cmp=t.VBU({type:yt,selectors:[["ds-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",hiddenQuery:"hiddenQuery",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:ne,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(nn,gn){1&nn&&(t.NAR(),t.DNE(0,fe,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return yt})();var ce=n(96820),De=n(22978),be=n(32089),me=n(67560),re=n(46580),Ee=n(23401),Te=n(43404),tt=n(7901);const ht=(yt,Kt)=>({repeatable:yt,listId:Kt});function Fe(yt,Kt){1&yt&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&yt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"submission.sections.describe.relationship-lookup.selection-tab.no-selection")," "))}function Et(yt,Kt){if(1&yt){const Rt=t.RV6();t.j41(0,"div")(1,"h3"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"ds-viewable-collection",4),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("deselectObject",function(gn){t.eBV(Rt);const It=t.XpG();return t.Njj(It.deselectObject.emit(gn))})("selectObject",function(gn){t.eBV(Rt);const It=t.XpG();return t.Njj(It.selectObject.emit(gn))}),t.k0s()()}if(2&yt){const Rt=t.XpG();t.R7$(2),t.JRh(t.bMT(3,7,"submission.sections.describe.relationship-lookup.selection-tab.title."+Rt.relationshipType)),t.R7$(2),t.Y8G("objects",t.bMT(5,9,Rt.selectionRD$))("selectable",!0)("selectionConfig",t.l_i(13,ht,Rt.repeatable,Rt.listId))("config",t.bMT(6,11,Rt.currentPagination$))("hideGear",!0)("context",Rt.context)}}let Ye=(()=>{class yt{constructor(Rt,nn,gn){this.router=Rt,this.searchConfigService=nn,this.paginationService=gn,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.initialPagination=Object.assign(new Ee.W,{id:"spc",pageSize:5})}ngOnInit(){this.resetRoute(),this.selectionRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,f.T)(Rt=>Rt.pagination),(0,_.n)(Rt=>this.selection$.pipe((0,v.s)(1),(0,f.T)(nn=>{const gn=(Rt.currentPage-1)*Rt.pageSize,zt=nn.slice(gn,gn+Rt.pageSize>nn.length?nn.length:gn+Rt.pageSize),Yt=new be.Q({elementsPerPage:Rt.pageSize,totalElements:nn.length,currentPage:Rt.currentPage,totalPages:Math.ceil(nn.length/Rt.pageSize)});return(0,Te.SP)((0,ce.g)(Yt,zt))})))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination)}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}static{this.\u0275fac=function(nn){return new(nn||yt)(t.rXU(tt.Ix),t.rXU(w.g),t.rXU(De.m))}}static{this.\u0275cmp=t.VBU({type:yt,selectors:[["ds-dynamic-lookup-relation-selection-tab"]],inputs:{relationshipType:"relationshipType",listId:"listId",repeatable:"repeatable",selection$:"selection$",selectionRD$:"selectionRD$",context:"context"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.Jv_([{provide:M.EN,useClass:w.g}]),t.aNF],decls:11,vars:9,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[4,"ngIf"],[3,"deselectObject","selectObject","objects","selectable","selectionConfig","config","hideGear","context"]],template:function(nn,gn){if(1&nn&&(t.j41(0,"div",0)(1,"div",1)(2,"h3"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"ds-page-size-selector"),t.k0s(),t.j41(6,"div",2),t.DNE(7,Fe,3,3,"div",3),t.nI1(8,"async"),t.DNE(9,Et,7,16,"div",3),t.nI1(10,"async"),t.k0s()()),2&nn){let It,zt;t.R7$(3),t.JRh(t.bMT(4,3,"submission.sections.describe.relationship-lookup.selection-tab.settings")),t.R7$(4),t.Y8G("ngIf",(null==(It=t.bMT(8,5,gn.selectionRD$))?null:It.payload.page)<1),t.R7$(2),t.Y8G("ngIf",(null==(zt=t.bMT(10,7,gn.selectionRD$))?null:zt.payload.page.length)>=1)}},dependencies:[re.b,me.h,i.Jj,i.bT,e.h,e.D9]})}}return yt})();var pt=n(25499);const Mt=yt=>({size:yt}),Ne=yt=>({count:yt});function rt(yt,Kt){1&yt&&t.nrm(0,"ds-loading")}function Gt(yt,Kt){if(1&yt){const Rt=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-search-tab",17),t.bIt("selectObject",function(gn){t.eBV(Rt);const It=t.XpG(2);return t.Njj(It.select(gn))})("deselectObject",function(gn){t.eBV(Rt);const It=t.XpG(2);return t.Njj(It.deselect(gn))})("resultFound",function(gn){t.eBV(Rt);const It=t.XpG(2);return t.Njj(It.setTotalInternals(gn.pageInfo.totalElements))}),t.k0s()}if(2&yt){const Rt=t.XpG(2);t.Y8G("selection$",Rt.selection$)("listId",Rt.listId)("relationship",Rt.relationshipOptions)("repeatable",Rt.repeatable)("context",Rt.context)("query",Rt.query)("hiddenQuery",Rt.hiddenQuery)("relationshipType",Rt.relationshipType)("isLeft",Rt.isLeft)("item",Rt.item)("isEditRelationship",Rt.isEditRelationship)("toRemove",Rt.toRemove)}}function Zt(yt,Kt){if(1&yt){const Rt=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-external-source-tab",18),t.bIt("importedObject",function(gn){t.eBV(Rt);const It=t.XpG(3);return t.Njj(It.imported(gn))}),t.k0s()}if(2&yt){const Rt=t.XpG().$implicit,nn=t.XpG(2);t.Y8G("label",nn.label)("listId",nn.listId)("repeatable",nn.repeatable)("item",nn.item)("collection",nn.collection)("relationship",nn.relationshipOptions)("context",nn.context)("query",nn.query)("externalSource",Rt)}}function mt(yt,Kt){if(1&yt&&(t.j41(0,"li",11)(1,"a",12),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.k0s(),t.DNE(5,Zt,1,9,"ng-template",13),t.k0s()),2&yt){let Rt;const nn=Kt.$implicit,gn=Kt.index,It=t.XpG(2);t.R7$(2),t.JRh(t.i5U(4,3,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+nn.id,t.eq3(6,Ne,null==(Rt=t.bMT(3,1,It.totalExternal$))?null:Rt[gn])))}}function Pt(yt,Kt){if(1&yt){const Rt=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-selection-tab",19),t.bIt("selectObject",function(gn){t.eBV(Rt);const It=t.XpG(3);return t.Njj(It.select(gn))})("deselectObject",function(gn){t.eBV(Rt);const It=t.XpG(3);return t.Njj(It.deselect(gn))}),t.k0s()}if(2&yt){const Rt=t.XpG(3);t.Y8G("selection$",Rt.selection$)("listId",Rt.listId)("relationshipType",Rt.relationshipOptions.relationshipType)("repeatable",Rt.repeatable)("context",Rt.context)}}function Ce(yt,Kt){if(1&yt&&(t.j41(0,"li",11)(1,"a",12),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.k0s(),t.DNE(5,Pt,1,5,"ng-template",13),t.k0s()),2&yt){let Rt;const nn=t.XpG(2);t.R7$(2),t.JRh(t.i5U(4,3,"submission.sections.describe.relationship-lookup.selection-tab.tab-title",t.eq3(6,Ne,null==(Rt=t.bMT(3,1,nn.selection$))?null:Rt.length)))}}function je(yt,Kt){if(1&yt&&(t.qex(0),t.j41(1,"ul",10,0)(3,"li",11)(4,"a",12),t.EFF(5),t.nI1(6,"async"),t.nI1(7,"translate"),t.k0s(),t.DNE(8,Gt,1,12,"ng-template",13),t.k0s(),t.DNE(9,mt,6,8,"li",14),t.nI1(10,"async"),t.DNE(11,Ce,6,8,"li",15),t.k0s(),t.nrm(12,"div",16),t.bVm()),2&yt){const Rt=t.sdS(2),nn=t.XpG();t.R7$(5),t.JRh(t.i5U(7,6,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+nn.relationshipOptions.relationshipType,t.eq3(11,Ne,t.bMT(6,4,nn.totalInternal$)))),t.R7$(4),t.Y8G("ngForOf",t.bMT(10,9,nn.externalSourcesRD$)),t.R7$(2),t.Y8G("ngIf",!nn.isEditRelationship),t.R7$(),t.Y8G("ngbNavOutlet",Rt)}}function ut(yt,Kt){1&yt&&t.nrm(0,"span",26)}function hn(yt,Kt){1&yt&&t.nrm(0,"i",27)}function an(yt,Kt){if(1&yt){const Rt=t.RV6();t.qex(0),t.j41(1,"button",20),t.bIt("click",function(){t.eBV(Rt);const gn=t.XpG();return t.Njj(gn.discardEv())}),t.nrm(2,"i",21),t.j41(3,"span",22),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"button",23),t.bIt("click",function(){t.eBV(Rt);const gn=t.XpG();return t.Njj(gn.submitEv())}),t.DNE(7,ut,1,0,"span",24)(8,hn,1,0,"i",25),t.j41(9,"span",22),t.EFF(10),t.nI1(11,"translate"),t.k0s()(),t.bVm()}if(2&yt){const Rt=t.XpG();t.R7$(),t.Y8G("dsBtnDisabled",0===Rt.toAdd.length&&0===Rt.toRemove.length||Rt.isPending),t.R7$(3),t.SpI("\xa0",t.bMT(5,6,"item.edit.metadata.discard-button"),""),t.R7$(2),t.Y8G("dsBtnDisabled",0===Rt.toAdd.length&&0===Rt.toRemove.length||Rt.isPending),t.R7$(),t.Y8G("ngIf",Rt.isPending),t.R7$(),t.Y8G("ngIf",!Rt.isPending),t.R7$(2),t.SpI("\xa0",t.bMT(11,8,"item.edit.metadata.save-button"),"")}}let Pn=(()=>{class yt{constructor(Rt,nn,gn,It,zt,Yt,wt,bt,Jt,Dt){this.modal=Rt,this.selectableListService=nn,this.relationshipService=gn,this.externalSourceService=It,this.lookupRelationService=zt,this.searchConfigService=Yt,this.rdbService=wt,this.zone=bt,this.store=Jt,this.router=Dt,this.selectEvent=new t.bkB,this.subMap={},this.totalInternal$=new h.t(0),this.isLeft=!1,this.isEditRelationship=!1,this.toAdd=[],this.toRemove=[],this.isPending=!1}ngOnInit(){if(this.currentItemIsLeftItem$&&this.currentItemIsLeftItem$.subscribe(Rt=>{this.isLeft=Rt,this.label=this.relationshipType.leftwardType}),this.selection$=this.selectableListService.getSelectableList(this.listId).pipe((0,f.T)(Rt=>(0,B.a4)(Rt)&&(0,B.a4)(Rt.selection)?Rt.selection:[])),this.selection$.pipe((0,v.s)(1)).subscribe(Rt=>Rt.map(nn=>this.addNameVariantSubscription(nn))),this.context="true"===this.relationshipOptions.nameVariants?x.o.EntitySearchModalWithNameVariants:x.o.EntitySearchModal,(0,B.hj)(this.relationshipOptions.externalSources))this.externalSourcesRD$=this.rdbService.aggregate(this.relationshipOptions.externalSources.map(Rt=>this.externalSourceService.findById(Rt,!0,!0,(0,U.s)("entityTypes")))).pipe((0,O.Hz)());else{const Rt=Object.assign({},new T._,{elementsPerPage:5,currentPage:1,searchParams:[new I.x("entityType",this.relationshipOptions.relationshipType)]});this.externalSourcesRD$=this.externalSourceService.searchBy("findByEntityType",Rt,!0,!0,(0,U.s)("entityTypes")).pipe((0,O.ak)(),(0,f.T)(nn=>nn.page))}this.setTotals()}close(){this.toAdd=[],this.toRemove=[],this.modal.close(),this.closeEv()}select(...Rt){this.zone.runOutsideAngular(()=>{(0,m.z)([...Rt.map(gn=>(this.addNameVariantSubscription(gn),this.relationshipService.getNameVariant(this.listId,gn.indexableObject.uuid).pipe((0,v.s)(1),(0,f.T)(It=>({item:gn.indexableObject,nameVariant:It})))))]).subscribe(gn=>gn.forEach(It=>{const zt=new Q.aS(this.item,It.item,this.relationshipOptions.relationshipType,this.submissionId,It.nameVariant);this.store.dispatch(zt)}))})}addNameVariantSubscription(Rt){const nn=this.relationshipService.getNameVariant(this.listId,Rt.indexableObject.uuid);this.subMap[Rt.indexableObject.uuid]=nn.pipe((0,E.i)(1)).subscribe(gn=>this.store.dispatch(new Q._I(this.item,Rt.indexableObject,this.relationshipOptions.relationshipType,this.submissionId,gn)))}deselect(...Rt){this.zone.runOutsideAngular(()=>Rt.forEach(nn=>{this.subMap[nn.indexableObject.uuid].unsubscribe(),this.store.dispatch(new Q.Fw(this.item,nn.indexableObject,this.relationshipOptions.relationshipType,this.submissionId))}))}imported(Rt){this.setTotals(),this.select(Rt)}setTotals(){const Rt=(0,m.z)([this.externalSourcesRD$,this.searchConfigService.paginatedSearchOptions]);this.totalExternal$=Rt.pipe((0,_.n)(([nn,gn])=>(0,m.z)([...nn.map(It=>this.lookupRelationService.getTotalExternalResults(It,gn))])))}setTotalInternals(Rt){this.totalInternal$.next(Rt)}ngOnDestroy(){this.router.navigate([],{}),Object.values(this.subMap).forEach(Rt=>Rt.unsubscribe())}closeEv(){}discardEv(){}submitEv(){}static{this.\u0275fac=function(nn){return new(nn||yt)(t.rXU(u.Lw),t.rXU(W.K),t.rXU(p.RelationshipDataService),t.rXU(R.Q),t.rXU(A.c),t.rXU(w.g),t.rXU(C.o),t.rXU(t.SKi),t.rXU(pt.il),t.rXU(tt.Ix))}}static{this.\u0275cmp=t.VBU({type:yt,selectors:[["ds-dynamic-lookup-relation-modal"]],outputs:{selectEvent:"selectEvent"},standalone:!0,features:[t.Jv_([{provide:M.EN,useClass:w.g}]),t.aNF],decls:19,vars:19,consts:[["nav","ngbNav"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click","dsBtnDisabled"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],[1,"d-flex","float-end","space-children-mr"],[1,"close-button"],["type","button",1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],["ngbNav","",1,"nav-tabs"],["ngbNavItem","","role","presentation"],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","","role","presentation",4,"ngFor","ngForOf"],["ngbNavItem","","role","presentation",4,"ngIf"],[3,"ngbNavOutlet"],[1,"d-block","pt-3",3,"selectObject","deselectObject","resultFound","selection$","listId","relationship","repeatable","context","query","hiddenQuery","relationshipType","isLeft","item","isEditRelationship","toRemove"],[1,"d-block","pt-3",3,"importedObject","label","listId","repeatable","item","collection","relationship","context","query","externalSource"],[1,"d-block","pt-3",3,"selectObject","deselectObject","selection$","listId","relationshipType","repeatable","context"],[1,"btn","btn-danger","discard",3,"click","dsBtnDisabled"],[1,"fas","fa-times"],[1,"d-none","d-sm-inline"],[1,"btn","btn-primary","submit",3,"click","dsBtnDisabled"],["class","spinner-border spinner-border-sm me-1","role","status","aria-hidden","true",4,"ngIf"],["class","fas fa-save",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"],[1,"fas","fa-save"]],template:function(nn,gn){if(1&nn&&(t.j41(0,"div",1)(1,"h4",2),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return gn.close()}),t.k0s()(),t.j41(5,"div",4),t.DNE(6,rt,1,0,"ds-loading",5)(7,je,13,13,"ng-container",5),t.k0s(),t.j41(8,"div",6)(9,"small"),t.EFF(10),t.nI1(11,"async"),t.nI1(12,"translate"),t.k0s(),t.j41(13,"div",7)(14,"div",8)(15,"button",9),t.bIt("click",function(){return gn.close()}),t.EFF(16),t.nI1(17,"translate"),t.k0s()(),t.DNE(18,an,12,10,"ng-container",5),t.k0s()()),2&nn){let It;t.R7$(2),t.JRh(t.bMT(3,8,"submission.sections.describe.relationship-lookup.title."+gn.relationshipOptions.relationshipType)),t.R7$(2),t.Y8G("dsBtnDisabled",gn.isPending),t.R7$(2),t.Y8G("ngIf",!gn.item||!gn.collection),t.R7$(),t.Y8G("ngIf",gn.item&&gn.collection),t.R7$(3),t.JRh(t.i5U(12,12,"submission.sections.describe.relationship-lookup.selected",t.eq3(17,Mt,(null==(It=t.bMT(11,10,gn.selection$))?null:It.length)||0))),t.R7$(5),t.Y8G("dsBtnDisabled",gn.isPending),t.R7$(),t.SpI(" ",t.bMT(17,15,"submission.sections.describe.relationship-lookup.close"),""),t.R7$(2),t.Y8G("ngIf",gn.isEditRelationship)}},dependencies:[J,e.h,e.D9,k.v,i.bT,u.Pv,u.Um,u.X9,u.sy,u.Ri,u.m_,se,i.Jj,i.Sq,Ye,L.A],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}[_nghost-%COMP%]     .modal-content{width:90%;margin:5%}[_nghost-%COMP%]   .spinner-border[_ngcontent-%COMP%]{vertical-align:middle}"]})}}return yt})()},4089:(F,D,n)=>{"use strict";n.r(D),n.d(D,{DsDynamicLookupRelationExternalSourceTabComponent:()=>se});var i=n(60177),t=n(54438),u=n(41780),e=n(96354),h=n(25558),m=n(99172),f=n(57514),v=n(22978),R=(n(6041),n(26292),n(31507),n(88318),n(80183)),T=n(39012),A=n(13955),p=n(50332),x=n(82777),O=n(79632),w=n(82394),M=n(67560),L=n(13329),B=n(46580),k=n(23401),W=n(18016),U=n(18226),K=n(8886);n(1277);const G=["*"];function q(ce,De){}let z=(()=>{class ce extends K.J{getComponentName(){return"ExternalSourceEntryImportModalComponent"}importThemedComponent(be){return n(14651)(`./${be}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/external-source-entry-import-modal/external-source-entry-import-modal.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1277))}static{this.\u0275fac=(()=>{let be;return function(re){return(be||(be=t.xGo(ce)))(re||ce)}})()}static{this.\u0275cmp=t.VBU({type:ce,selectors:[["ds-external-source-entry-import-modal"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:G,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(me,re){1&me&&(t.NAR(),t.DNE(0,q,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return ce})();var te=n(7901),Z=n(58003);const J=(ce,De)=>({repeatable:ce,listId:De});function Q(ce,De){if(1&ce){const be=t.RV6();t.j41(0,"ds-viewable-collection",8),t.nI1(1,"async"),t.bIt("importObject",function(re){t.eBV(be);const Ee=t.XpG(2);return t.Njj(Ee.import(re))}),t.k0s()}if(2&ce){const be=t.XpG().ngVar,me=t.XpG();t.Y8G("@fadeIn",void 0)("objects",be)("selectionConfig",t.l_i(10,J,me.repeatable,me.listId))("config",t.bMT(1,8,me.currentPagination$))("hideGear",!0)("context",me.context)("importable",!0)("importConfig",me.importConfig)}}function ee(ce,De){1&ce&&(t.nrm(0,"ds-loading",9),t.nI1(1,"translate")),2&ce&&t.FS9("message",t.bMT(1,1,"loading.search-results"))}function le(ce,De){1&ce&&(t.nrm(0,"ds-error",9),t.nI1(1,"translate")),2&ce&&t.FS9("message",t.bMT(1,1,"error.search-results"))}function ne(ce,De){1&ce&&(t.j41(0,"div",10),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&ce&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.results.empty")," "))}function fe(ce,De){if(1&ce&&(t.qex(0),t.DNE(1,Q,2,13,"ds-viewable-collection",5)(2,ee,2,3,"ds-loading",6)(3,le,2,3,"ds-error",6)(4,ne,3,3,"div",7),t.bVm()),2&ce){const be=De.ngVar;t.R7$(),t.Y8G("ngIf",(null==be?null:be.hasSucceeded)&&!(null!=be&&be.isLoading)&&(null==be||null==be.payload||null==be.payload.page?null:be.payload.page.length)>0),t.R7$(),t.Y8G("ngIf",!be||(null==be?null:be.isLoading)),t.R7$(),t.Y8G("ngIf",(null==be?null:be.hasFailed)&&(!(null!=be&&be.errorMessage)||400!==(null==be?null:be.statusCode))),t.R7$(),t.Y8G("ngIf",0===(null==be||null==be.payload||null==be.payload.page?null:be.payload.page.length)||400===(null==be?null:be.statusCode))}}let se=(()=>{class ce{constructor(be,me,re,Ee,Te,tt){this.router=be,this.searchConfigService=me,this.externalSourceService=re,this.modalService=Ee,this.selectableListService=Te,this.paginationService=tt,this.importedObject=new t.bkB,this.initialPagination=Object.assign(new k.W,{id:"spc",pageSize:5}),this.subs=[]}ngOnInit(){this.externalSource.entityTypes.pipe((0,R.qD)(),(0,e.T)(be=>be.hasSucceeded&&be.payload.totalElements>0?be.payload.page[0]:null)).subscribe(be=>{this.relatedEntityType=be}),this.resetRoute(),this.entriesRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,h.n)(be=>(""===be.query&&(be.query=this.query),this.externalSourceService.getExternalSourceEntries(this.externalSource.id,be).pipe((0,m.Z)(void 0))))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination),this.importConfig={buttonLabel:"submission.sections.describe.relationship-lookup.external-source.import-button-title."+this.label}}import(be){this.modalRef=this.modalService.open(z,{size:"lg",container:"ds-dynamic-lookup-relation-modal"});const me=this.modalRef.componentInstance.compRef$.pipe((0,x.Az)(),(0,e.T)(re=>re.instance));this.subs.push(me.subscribe(re=>{re.externalSourceEntry=be,re.item=this.item,re.relationship=this.relationship,re.label=this.label,re.relatedEntityType=this.relatedEntityType})),this.subs.push(me.pipe((0,h.n)(re=>re.importedObject)).subscribe(re=>{this.selectableListService.selectSingle(this.listId,re),this.importedObject.emit(re)}))}ngOnDestroy(){this.subs.filter(be=>(0,x.a4)(be)).forEach(be=>be.unsubscribe())}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}static{this.\u0275fac=function(me){return new(me||ce)(t.rXU(te.Ix),t.rXU(T.g),t.rXU(f.Q),t.rXU(Z.Bq),t.rXU(L.K),t.rXU(v.m))}}static{this.\u0275cmp=t.VBU({type:ce,selectors:[["ds-base-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",query:"query",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},standalone:!0,features:[t.Jv_([{provide:A.EN,useClass:T.g}]),t.aNF],decls:16,vars:16,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[3,"query","inPlaceSearch","searchPlaceholder"],[4,"ngVar"],[3,"objects","selectionConfig","config","hideGear","context","importable","importConfig","importObject",4,"ngIf"],[3,"message",4,"ngIf"],["id","empty-external-entry-list",4,"ngIf"],[3,"importObject","objects","selectionConfig","config","hideGear","context","importable","importConfig"],[3,"message"],["id","empty-external-entry-list"]],template:function(me,re){if(1&me&&(t.j41(0,"div",0)(1,"div",1)(2,"h3"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"ds-page-size-selector"),t.k0s(),t.j41(6,"div",2),t.nrm(7,"ds-search-form",3),t.nI1(8,"async"),t.nI1(9,"translate"),t.j41(10,"div")(11,"h3"),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.DNE(14,fe,5,4,"ng-container",4),t.nI1(15,"async"),t.k0s()()()),2&me){let Ee;t.R7$(3),t.JRh(t.bMT(4,6,"submission.sections.describe.relationship-lookup.selection-tab.settings")),t.R7$(4),t.Y8G("query",null==(Ee=t.bMT(8,8,re.searchConfigService.paginatedSearchOptions))?null:Ee.query)("inPlaceSearch",!0)("searchPlaceholder",t.bMT(9,10,"submission.sections.describe.relationship-lookup.selection-tab.search-form.placeholder")),t.R7$(5),t.JRh(t.bMT(13,12,"submission.sections.describe.relationship-lookup.selection-tab.title."+re.externalSource.id)),t.R7$(2),t.Y8G("ngVar",t.bMT(15,14,re.entriesRD$))}},dependencies:[W.d,B.b,M.h,U.r,i.Jj,u.h,u.D9,O.A,i.bT,w.v],data:{animation:[p.qG,p.Ws]}})}}return ce})()},1277:(F,D,n)=>{"use strict";n.r(D),n.d(D,{ExternalSourceEntryImportModalComponent:()=>K,ImportType:()=>U});var i=n(60177),t=n(54438),u=n(41780),e=n(25558),h=n(96697),m=n(29326),f=n(57568),v=n(26292),E=n(39552),_=n(80183),C=n(98794),I=n(60456),R=n(39806),T=n(7581),A=n(27442),p=n(13329),x=n(23401),O=n(33550),w=n(14131),M=n(58003);const L=Y=>({repeatable:!1,listId:Y});function B(Y,G){if(1&Y&&(t.j41(0,"div")(1,"a",16),t.EFF(2),t.k0s()()),2&Y){const q=t.XpG();t.R7$(),t.FS9("href",q.uri.value,t.B4B),t.R7$(),t.JRh(q.uri.value)}}function k(Y,G){if(1&Y){const q=t.RV6();t.j41(0,"ds-search-results",17),t.nI1(1,"async"),t.bIt("deselectObject",function(){t.eBV(q);const te=t.XpG();return t.Njj(te.deselectEntity())})("selectObject",function(te){t.eBV(q);const Z=t.XpG();return t.Njj(Z.selectEntity(te))}),t.k0s()}if(2&Y){const q=t.XpG();t.Y8G("searchResults",t.bMT(1,9,q.localEntitiesRD$))("sortConfig",null==q.lookupRelationService.searchConfig?null:q.lookupRelationService.searchConfig.sort)("searchConfig",q.lookupRelationService.searchConfig)("selectable",!0)("disableHeader",!0)("hidePaginationDetail",!0)("selectionConfig",t.eq3(11,L,q.entityListId))("linkType",q.linkTypes.ExternalLink)("context",q.context)}}function W(Y,G){if(1&Y){const q=t.RV6();t.j41(0,"div",18)(1,"h5",7),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",9)(5,"input",19),t.bIt("click",function(){t.eBV(q);const te=t.XpG();return t.Njj(te.selectNewAuthority())}),t.k0s(),t.j41(6,"label",20),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()}if(2&Y){const q=t.XpG();t.R7$(2),t.JRh(t.bMT(3,3,q.labelPrefix+"authority")),t.R7$(3),t.Y8G("checked",q.selectedImportType===q.importType.NewAuthority),t.R7$(2),t.JRh(t.bMT(8,5,q.labelPrefix+"authority.new"))}}var U=function(Y){return Y.None="None",Y.LocalEntity="LocalEntity",Y.LocalAuthority="LocalAuthority",Y.NewEntity="NewEntity",Y.NewAuthority="NewAuthority",Y}(U||{});let K=(()=>{class Y{constructor(q,z,te,Z,J,Q,ee){this.modal=q,this.lookupRelationService=z,this.modalService=te,this.selectService=Z,this.itemService=J,this.notificationsService=Q,this.translateService=ee,this.labelPrefix="submission.sections.describe.relationship-lookup.external-source.import-modal.",this.linkTypes=T.n,this.context=v.o.EntitySearchModalWithNameVariants,this.entityListId="external-source-import-entity",this.authorityListId="external-source-import-authority",this.importType=U,this.selectedImportType=U.None,this.importedObject=new t.bkB,this.authorityEnabled=!1}ngOnInit(){this.uri=E.O.first(this.externalSourceEntry.metadata,"dc.identifier.uri");const q=Object.assign(new x.W,{id:"external-entry-import",pageSize:5});this.searchOptions=Object.assign(new O.C({query:this.externalSourceEntry.value,pagination:q})),this.localEntitiesRD$=this.lookupRelationService.getLocalResults(this.relationship,this.searchOptions)}close(){this.modal.close()}import(){switch(this.selectedImportType){case U.LocalEntity:this.importLocalEntity();break;case U.NewEntity:this.importNewEntity();break;case U.LocalAuthority:this.importLocalAuthority();break;case U.NewAuthority:this.importNewAuthority()}this.selectedImportType=U.None,this.deselectAllLists(),this.close()}importLocalEntity(){void 0!==this.selectedEntity&&(this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.local-entity")),this.importedObject.emit(this.selectedEntity))}importNewEntity(){this.modalRef=this.modalService.open(C.m,{size:"lg"}),this.modalRef.componentInstance.entityType=this.relatedEntityType.label,this.modalRef.componentInstance.selectedEvent.pipe((0,e.n)(q=>this.itemService.importExternalSourceEntry(this.externalSourceEntry,q.collection.id).pipe((0,_.yd)(),(0,_.Bo)(),(0,h.s)(1)))).subscribe(q=>{this.lookupRelationService.removeLocalResultsCache();const z=Object.assign(new A.H,{indexableObject:q});this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.new-entity")),this.modalRef.close(),this.importedObject.emit(z)})}importLocalAuthority(){}importNewAuthority(){}deselectEntity(){this.selectedEntity=void 0,this.selectedImportType===U.LocalEntity&&(this.selectedImportType=U.None)}selectEntity(q){this.selectedEntity=q,this.selectedImportType=U.LocalEntity}selectNewEntity(){this.selectedImportType===U.NewEntity?this.selectedImportType=U.None:(this.selectedImportType=U.NewEntity,this.deselectAllLists())}deselectAuthority(){this.selectedAuthority=void 0,this.selectedImportType===U.LocalAuthority&&(this.selectedImportType=U.None)}selectAuthority(q){this.selectedAuthority=q,this.selectedImportType=U.LocalAuthority}selectNewAuthority(){this.selectedImportType===U.NewAuthority?this.selectedImportType=U.None:(this.selectedImportType=U.NewAuthority,this.deselectAllLists())}deselectAllLists(){this.selectService.deselectAll(this.entityListId),this.selectService.deselectAll(this.authorityListId)}static{this.\u0275fac=function(z){return new(z||Y)(t.rXU(M.Lw),t.rXU(f.c),t.rXU(M.Bq),t.rXU(p.K),t.rXU(m.ItemDataService),t.rXU(R.I),t.rXU(u.c$))}}static{this.\u0275cmp=t.VBU({type:Y,selectors:[["ds-base-external-source-entry-import-modal"]],standalone:!0,features:[t.aNF],decls:38,vars:29,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],["id","external-source-entry-information",1,"mb-3"],[4,"ngIf"],["id","external-source-entry-entities",1,"mb-3"],[1,"fw-bold"],[3,"searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context","deselectObject","selectObject",4,"ngIf"],[1,"ms-4","form-check"],["type","radio","name","new-entity","id","new-entity","value","new-entity",1,"form-check-input",3,"click","checked"],["for","new-entity",1,"form-check-label"],["id","external-source-entry-authority",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","dsBtnDisabled"],[3,"href"],[3,"deselectObject","selectObject","searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context"],["id","external-source-entry-authority"],["type","radio","name","new-authority","id","new-authority","value","new-authority",1,"form-check-input",3,"click","checked"],["for","new-authority",1,"form-check-label"]],template:function(z,te){if(1&z&&(t.j41(0,"div",0)(1,"h4",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return te.modal.dismiss()}),t.k0s()(),t.j41(5,"div",3)(6,"h4"),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"div",4)(10,"div")(11,"span"),t.EFF(12),t.k0s()(),t.DNE(13,B,3,2,"div",5),t.k0s(),t.j41(14,"h4"),t.EFF(15),t.nI1(16,"translate"),t.k0s(),t.j41(17,"div",6)(18,"h5",7),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.DNE(21,k,2,13,"ds-search-results",8),t.nI1(22,"async"),t.j41(23,"div",9)(24,"input",10),t.bIt("click",function(){return te.selectNewEntity()}),t.k0s(),t.j41(25,"label",11),t.EFF(26),t.nI1(27,"translate"),t.k0s()()(),t.DNE(28,W,9,7,"div",12),t.k0s(),t.j41(29,"div",13)(30,"div")(31,"button",14),t.bIt("click",function(){return te.close()}),t.EFF(32),t.nI1(33,"translate"),t.k0s()(),t.j41(34,"div")(35,"button",15),t.bIt("click",function(){return te.import()}),t.EFF(36),t.nI1(37,"translate"),t.k0s()()()),2&z){let Z;t.R7$(2),t.JRh(t.bMT(3,13,te.labelPrefix+te.label+".title")),t.R7$(5),t.JRh(t.bMT(8,15,te.labelPrefix+"head."+te.externalSourceEntry.externalSource)),t.R7$(5),t.JRh(te.externalSourceEntry.display),t.R7$(),t.Y8G("ngIf",te.uri),t.R7$(2),t.JRh(t.bMT(16,17,te.labelPrefix+"select")),t.R7$(4),t.JRh(t.bMT(20,19,te.labelPrefix+"entities")),t.R7$(2),t.Y8G("ngIf",(null==(Z=t.bMT(22,21,te.localEntitiesRD$))||null==Z.payload||null==Z.payload.page?null:Z.payload.page.length)>0),t.R7$(3),t.Y8G("checked",te.selectedImportType===te.importType.NewEntity),t.R7$(2),t.JRh(t.bMT(27,23,te.labelPrefix+"entities.new")),t.R7$(2),t.Y8G("ngIf",te.authorityEnabled),t.R7$(4),t.JRh(t.bMT(33,25,te.labelPrefix+"cancel")),t.R7$(3),t.Y8G("dsBtnDisabled",te.selectedImportType===te.importType.None),t.R7$(),t.JRh(t.bMT(37,27,te.labelPrefix+"import"))}},dependencies:[u.h,u.D9,w.N,i.bT,i.Jj,I.A],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}"]})}}return Y})()},94337:(F,D,n)=>{"use strict";n.d(D,{SF:()=>t,dD:()=>e,zH:()=>h});var i=n(91e3);const t={SET_NAME_VARIANT:(0,i.N)("dspace/name-variant/SET_NAME_VARIANT"),REMOVE_NAME_VARIANT:(0,i.N)("dspace/name-variant/REMOVE_NAME_VARIANT")};class u{constructor(f,v){this.payload={listID:f,itemID:v}}}class e extends u{constructor(f,v,E){super(f,v),this.type=t.SET_NAME_VARIANT,this.payload.nameVariant=E}}class h extends u{constructor(f,v){super(f,v),this.type=t.REMOVE_NAME_VARIANT}}},59496:(F,D,n)=>{"use strict";n.d(D,{Fw:()=>m,_I:()=>e,aS:()=>u,oE:()=>t});var i=n(91e3);const t={ADD_RELATIONSHIP:(0,i.N)("dspace/relationship/ADD_RELATIONSHIP"),REMOVE_RELATIONSHIP:(0,i.N)("dspace/relationship/REMOVE_RELATIONSHIP"),UPDATE_NAME_VARIANT:(0,i.N)("dspace/relationship/UPDATE_NAME_VARIANT"),UPDATE_RELATIONSHIP:(0,i.N)("dspace/relationship/UPDATE_RELATIONSHIP")};class u{constructor(v,E,_,C,I){this.type=t.ADD_RELATIONSHIP,this.payload={item1:v,item2:E,relationshipType:_,submissionId:C,nameVariant:I}}}class e{constructor(v,E,_,C,I){this.type=t.UPDATE_NAME_VARIANT,this.payload={item1:v,item2:E,relationshipType:_,submissionId:C,nameVariant:I}}}class m{constructor(v,E,_,C){this.type=t.REMOVE_RELATIONSHIP,this.payload={item1:v,item2:E,relationshipType:_,submissionId:C}}}},26091:(F,D,n)=>{"use strict";n.r(D),n.d(D,{DsDynamicLookupRelationSearchTabComponent:()=>Y});var i=n(60177),t=n(54438),u=n(58003),e=n(41780),h=n(84412),m=n(96697),f=n(57568),v=n(48833),E=n(22978),R=(n(26292),n(88318),n(59854),n(80183)),T=n(78655),A=n(39012),p=n(13955),x=n(82777),O=n(7581),w=n(13329),M=n(54992),L=n(18226);const B=(G,q)=>({repeatable:G,listId:q});function k(G,q){1&G&&(t.j41(0,"button",10),t.nrm(1,"span",11),t.j41(2,"span",8),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&G&&(t.R7$(3),t.JRh(t.bMT(4,1,"submission.sections.describe.relationship-lookup.search-tab.loading")))}function W(G,q){if(1&G){const z=t.RV6();t.j41(0,"div",12)(1,"button",13),t.bIt("click",function(){const Z=t.eBV(z).ngVar,J=t.XpG(3);return t.Njj(J.selectPage(null==Z?null:Z.page))}),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",13),t.bIt("click",function(){const Z=t.eBV(z).ngVar,J=t.XpG(3);return t.Njj(J.deselectPage(null==Z?null:Z.page))}),t.EFF(5),t.nI1(6,"translate"),t.k0s()()}2&G&&(t.R7$(2),t.JRh(t.bMT(3,2,"submission.sections.describe.relationship-lookup.search-tab.select-page")),t.R7$(3),t.JRh(t.bMT(6,4,"submission.sections.describe.relationship-lookup.search-tab.deselect-page")))}function U(G,q){if(1&G&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5),t.DNE(3,k,5,3,"button",6),t.j41(4,"button",7)(5,"span",8),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.DNE(8,W,7,6,"div",9),t.nI1(9,"async"),t.k0s()()()),2&G){const z=t.XpG(2);t.R7$(3),t.Y8G("ngIf",z.selectAllLoading),t.R7$(),t.Y8G("hidden",z.selectAllLoading),t.R7$(2),t.JRh(t.bMT(7,4,"submission.sections.describe.relationship-lookup.toggle-dropdown")),t.R7$(2),t.Y8G("ngVar",t.bMT(9,6,z.resultsRD$))}}function K(G,q){if(1&G){const z=t.RV6();t.j41(0,"ds-search",1),t.bIt("resultFound",function(Z){t.eBV(z);const J=t.XpG();return t.Njj(J.onResultFound(Z))})("deselectObject",function(Z){t.eBV(z);const J=t.XpG();return t.Njj(J.deselectObject.emit(Z))})("selectObject",function(Z){t.eBV(z);const J=t.XpG();return t.Njj(J.selectObject.emit(Z))}),t.DNE(1,U,10,8,"div",2),t.k0s()}if(2&G){const z=t.XpG();t.Y8G("configuration",z.relationship.searchConfiguration)("context",z.context)("fixedFilterQuery",z.relationship.filter)("hiddenQuery",z.hiddenQuery)("inPlaceSearch",!0)("linkType",z.linkTypes.ExternalLink)("searchFormPlaceholder","submission.sections.describe.relationship-lookup.search-tab.search-form.placeholder")("selectable",!0)("selectionConfig",t.l_i(13,B,z.repeatable,z.listId))("showScopeSelector",!1)("showViewModes",!1)("query",z.query),t.R7$(),t.Y8G("ngIf",z.repeatable)}}let Y=(()=>{class G{constructor(z,te,Z,J,Q,ee){this.searchService=z,this.selectableListService=te,this.searchConfigService=Z,this.lookupRelationService=J,this.relationshipService=Q,this.paginationService=ee,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.resultsRD$=new h.t(null),this.initialPagination={page:1,pageSize:5},this.linkTypes=O.n,this.resultFound=new t.bkB}ngOnInit(){this.resetRoute()}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,this.initialPagination)}selectPage(z){this.selection$.pipe((0,m.s)(1)).subscribe(te=>{const Z=z.filter(J=>te.findIndex(Q=>Q.equals(J))<0);this.selectObject.emit(...Z)}),this.selectableListService.select(this.listId,z)}deselectPage(z){this.allSelected=!1,this.selection$.pipe((0,m.s)(1)).subscribe(te=>{const Z=z.filter(J=>te.findIndex(Q=>Q.equals(J))>=0);this.deselectObject.emit(...Z)}),this.selectableListService.deselect(this.listId,z)}setSelectedIds(z,te){let Z=this.relationshipType.rightwardType;this.isLeft&&(Z=this.relationshipType.leftwardType),this.relationshipService.searchByItemsAndType(this.relationshipType.id,this.item.uuid,Z,z).pipe((0,R.yd)(),(0,R.Bo)()).subscribe(J=>{let Q=J.page.map(ee=>{let le=[];return le=this.isLeft?ee._links.rightItem.href.split("/"):ee._links.leftItem.href.split("/"),this.getRelatedItem(le[le.length-1],te)});Q=Q.filter(ee=>!this.getIfInRemove(ee.indexableObject.uuid)),Q.length>0&&this.selectableListService.select(this.listId,Q)})}deselectAll(){this.allSelected=!1,this.selection$.pipe((0,m.s)(1)).subscribe(z=>this.deselectObject.emit(...z)),this.selectableListService.deselectAll(this.listId)}getRelatedItem(z,te){return te.find(Z=>Z.indexableObject.uuid===z)}getIfInRemove(z){return!!this.toRemove.find(te=>te.indexableObject.uuid===z)}ngOnDestroy(){(0,x.a4)(this.subscription)&&this.subscription.unsubscribe()}onResultFound(z){if(this.resultsRD$.next(z),this.resultFound.emit(z),this.isEditRelationship){const te=z.page.map(Z=>Z.indexableObject.uuid);this.setSelectedIds(te,z.page)}}static{this.\u0275fac=function(te){return new(te||G)(t.rXU(T.S),t.rXU(w.K),t.rXU(A.g),t.rXU(f.c),t.rXU(v.RelationshipDataService),t.rXU(E.m))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-base-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship",hiddenQuery:"hiddenQuery"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},standalone:!0,features:[t.Jv_([{provide:p.EN,useClass:A.g}]),t.aNF],decls:1,vars:1,consts:[[3,"configuration","context","fixedFilterQuery","hiddenQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","query","resultFound","deselectObject","selectObject",4,"ngIf"],[3,"resultFound","deselectObject","selectObject","configuration","context","fixedFilterQuery","hiddenQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","query"],["additionalSearchOptions","","class","position-absolute",4,"ngIf"],["additionalSearchOptions","",1,"position-absolute"],[1,"input-group","mb-3"],["ngbDropdown","",1,"input-group","dropdown-button"],["type","button","class","btn btn-outline-secondary rounded-end",4,"ngIf"],["id","resultdropdown","type","button","ngbDropdownToggle","","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle-split",3,"hidden"],[1,"sr-only"],["ngbDropdownMenu","","aria-labelledby","resultdropdown",4,"ngVar"],["type","button",1,"btn","btn-outline-secondary","rounded-end"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["ngbDropdownMenu","","aria-labelledby","resultdropdown"],[1,"dropdown-item",3,"click"]],template:function(te,Z){1&te&&t.DNE(0,K,2,16,"ds-search",0),2&te&&t.Y8G("ngIf",Z.relationship.searchConfiguration&&Z.context)},dependencies:[i.Jj,L.r,e.h,e.D9,u.zH,u.tg,u.do,u.U0,i.bT,M.N],styles:[".position-absolute[_ngcontent-%COMP%]{right:var(--bs-spacer)}.dropdown-button[_ngcontent-%COMP%]{z-index:3}"]})}}return G})()},33126:(F,D,n)=>{"use strict";n.d(D,{j:()=>Dt});var i=n(1473),t=n(83278),u=n.n(t),e=n(78124),h=n.n(e),m=n(25689),f=n.n(m),v=n(8917),E=n(14391),_=n(80183),C=n(12866),I=n(82777),R=n(56899),T=n(31635),A=n(21413),p=n(61280),x=n(56568);const O="_CONCAT_GROUP";class L extends i.iO5{constructor(ot,xe){super(ot,xe),this.hasLanguages=!1,this.typeBindHidden=!1,this.isCustomGroup=!0,this.separator=ot.separator+" ",this.relationship=ot.relationship,this.repeatable=ot.repeatable,this.required=ot.required,this.hint=ot.hint,this.metadataFields=ot.metadataFields,this.submissionId=ot.submissionId,this.hasSelectableMetadata=ot.hasSelectableMetadata,this.metadataValue=ot.metadataValue,this.valueUpdates=new A.B,this.valueUpdates.subscribe(Ve=>this.value=Ve),this.typeBindRelations=ot.typeBindRelations?ot.typeBindRelations:[],this.readOnly=ot.disabled}get value(){const[ot,xe]=this.group.map(Ve=>"string"==typeof Ve.value?Object.assign(new p.e,{value:Ve.value,display:Ve.value}):Ve.value);return(0,I.hj)(ot)&&(0,I.hj)(ot.value)&&(0,I.hj)(xe)&&(0,I.hj)(xe.value)?Object.assign(new p.e,ot,{value:ot.value+this.separator+xe.value}):(0,I.hj)(ot)&&(0,I.hj)(ot.value)?Object.assign(new p.e,ot):(0,I.hj)(xe)&&(0,I.hj)(xe.value)?Object.assign(new p.e,xe):null}set value(ot){let xe;xe="string"==typeof ot?ot:ot.value,(0,I.Tn)(xe)&&(xe="");const Ve=[...xe.split(this.separator),null].map(Ke=>Object.assign(new p.e,ot,{display:Ke,value:Ke}));this.get(0).value=Ve[0].value?Ve[0]:void 0,this.get(1).value=Ve[1].value?Ve[1]:void 0}}(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],L.prototype,"separator",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Object)],L.prototype,"hasLanguages",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Array)],L.prototype,"typeBindRelations",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Object)],L.prototype,"typeBindHidden",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",x.j)],L.prototype,"relationship",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],L.prototype,"repeatable",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],L.prototype,"required",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],L.prototype,"hint",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Array)],L.prototype,"metadataFields",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],L.prototype,"submissionId",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],L.prototype,"hasSelectableMetadata",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",E.vD)],L.prototype,"metadataValue",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],L.prototype,"readOnly",void 0);var B=n(38512),k=n(54438),W=n(59519),U=n.n(W),K=n(83085);class Y extends i.iO5{constructor(){super(...arguments),this.isRowGroup=!0}}var G=function(Ft){return Ft.WorkspaceItem="SUBMISSION",Ft.WorkflowItem="WORKFLOW",Ft}(G||{}),q=n(41780),z=n(89293),te=n(8590),Z=n(74850);class J{}(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"hints",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"label",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",Array)],J.prototype,"languageCodes",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"mandatoryMessage",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"mandatory",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",Boolean)],J.prototype,"repeatable",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",Object)],J.prototype,"input",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",Array)],J.prototype,"selectableMetadata",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",x.j)],J.prototype,"selectableRelationship",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",Array)],J.prototype,"rows",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"scope",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"style",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",Array)],J.prototype,"typeBind",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",Object)],J.prototype,"value",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",Object)],J.prototype,"visibility",void 0);var Q=n(14723);function ee(Ft,ot,xe,Ve){(0,I.kZ)(Ft.layout)?(Ft.layout={},Ft.layout[ot]={},Ft.layout[ot][xe]=Ve):(0,I.b0)(Ft.layout[ot])?(Ft.layout[ot]={},Ft.layout[ot][xe]=Ve):Ft.layout[ot][xe]=(0,I.b0)(Ft.layout[ot][xe])?Ve:Ft.layout[ot][xe].concat(` ${Ve}`)}var le=function(Ft){return Ft.Date="date",Ft.Dropdown="dropdown",Ft.RelationGroup="group",Ft.List="list",Ft.Lookup="lookup",Ft.LookupName="lookup-name",Ft.LookupRelation="lookup-relation",Ft.Onebox="onebox",Ft.Name="name",Ft.Series="series",Ft.Tag="tag",Ft.Textarea="textarea",Ft}(le||{});const ne=new k.nKC("submissionId"),fe=new k.nKC("configData"),se=new k.nKC("initFormValues"),ce=new k.nKC("parserOptions"),De=new RegExp("(\\/?)(.+)\\1([gimsuy]*)","i");let be=class{constructor(ot,xe,Ve,Ke,Be){this.submissionId=ot,this.configData=xe,this.initFormValues=Ve,this.parserOptions=Ke,this.translate=Be}parse(){if((this.getInitValueCount()>1&&!this.configData.repeatable||this.configData.repeatable)&&this.configData.input.type!==le.List.valueOf()&&this.configData.input.type!==le.Tag.valueOf()){let Ve,ot=0,xe=0;Array.isArray(this.configData.selectableMetadata)&&1===this.configData.selectableMetadata.length&&(Ve=this.configData.selectableMetadata[0].metadata);let Ke=!0;this.configData.input.type===le.Onebox.valueOf()&&this.configData?.selectableMetadata?.length>1&&(Ke=!1);const Be={id:U()()+"_array",label:this.configData.label,initialCount:this.getInitArrayIndex(),notRepeatable:!this.configData.repeatable,relationshipConfig:this.configData.selectableRelationship,required:JSON.parse(this.configData.mandatory),submissionId:this.submissionId,metadataKey:Ve,metadataFields:this.getAllFieldIds(),hasSelectableMetadata:(0,I.hj)(this.configData.selectableMetadata),isDraggable:Ke,typeBindRelations:(0,I.hj)(this.configData.typeBind)?this.getTypeBindRelations(this.configData.typeBind,this.parserOptions.typeField):null,groupFactory:()=>{let Qe;if(0===ot)Qe=this.modelFactory(),ot++;else{const st=this.getInitValueCount(ot-1);let ke=null;st>0&&(ke=this.getInitFieldValue(ot-1,xe++),xe===st&&(xe=0,ot++)),Qe=this.modelFactory(ke,!1)}return ee(Qe,"element","host","col"),(Qe.hasLanguages||(0,I.hj)(Qe.relationship))&&ee(Qe,"grid","control","col"),[Qe]}};return new te.m(Be,{grid:{group:"row"}})}{const ot=this.modelFactory(this.getInitFieldValue());return ot.submissionId=this.submissionId,(ot.hasLanguages||(0,I.hj)(ot.relationship))&&ee(ot,"grid","control","col"),ot}}setVocabularyOptions(ot){(0,I.hj)(this.configData.selectableMetadata)&&(0,I.hj)(this.configData.selectableMetadata[0].controlledVocabulary)&&(ot.vocabularyOptions=new z.n(this.configData.selectableMetadata[0].controlledVocabulary,this.configData.selectableMetadata[0].closed))}setValues(ot,xe,Ve=!1,Ke){if((0,I.hj)(xe)){if(Ke)return ot.value=this.getInitGroupValues(),void(Array.isArray(ot.value)&&ot.value.length>0&&ot.value[0].language&&(ot.language=ot.value[0].language));(0,C.z5)(xe)?ot.value=xe:"object"==typeof xe?(ot.metadataValue=xe,ot.language=xe.language,ot.place=xe.place,ot.value=Ve?xe:xe.value):Ve?ot.value=new p.e(xe):"string"==typeof xe&&(ot.value=xe)}return ot}getInitValueCount(ot=0,xe){const Ve=xe||this.getAllFieldIds();if((0,I.hj)(this.initFormValues)&&(0,I.Pe)(Ve)&&1===Ve.length&&this.initFormValues.hasOwnProperty(Ve[0]))return this.initFormValues[Ve[0]].length;if((0,I.hj)(this.initFormValues)&&(0,I.Pe)(Ve)&&Ve.length>1){const Ke=[];return Ve.forEach(Be=>{this.initFormValues.hasOwnProperty(Be)&&Ke.push(this.initFormValues[Be].length)}),Ke[ot]}return 0}getInitGroupValues(){const ot=this.getAllFieldIds();if((0,I.hj)(this.initFormValues)&&(0,I.Pe)(ot)&&1===ot.length&&this.initFormValues.hasOwnProperty(ot[0]))return this.initFormValues[ot[0]]}getInitFieldValues(ot){if((0,I.hj)(this.initFormValues)&&(0,I.Pe)(ot)&&this.initFormValues.hasOwnProperty(ot))return this.initFormValues[ot]}getInitFieldValue(ot=0,xe=0,Ve){const Ke=Ve||this.getAllFieldIds();if((0,I.hj)(this.initFormValues)&&(0,I.Pe)(Ke)&&1===Ke.length&&this.initFormValues.hasOwnProperty(Ke[ot])&&this.initFormValues[Ke[ot]].length>xe)return this.initFormValues[Ke[ot]][xe];if((0,I.hj)(this.initFormValues)&&(0,I.Pe)(Ke)&&Ke.length>1){const Be=[];return Ke.forEach(At=>{if(this.initFormValues.hasOwnProperty(At)){const Qe=Object.assign(new p.e,this.initFormValues[At][xe]);Qe.metadata=At,Be.push(Qe)}}),Be[ot]}return null}getInitArrayIndex(){const ot=this.getAllFieldIds();if((0,I.hj)(this.initFormValues)&&(0,I.Pe)(ot)&&1===ot.length&&this.initFormValues.hasOwnProperty(ot))return this.initFormValues[ot].length;if((0,I.hj)(this.initFormValues)&&(0,I.Pe)(ot)&&ot.length>1){let xe=0;return ot.forEach(Ve=>{this.initFormValues.hasOwnProperty(Ve)&&(xe+=this.initFormValues[Ve].length)}),0===xe?1:xe}return 1}getFieldId(){const ot=this.getAllFieldIds();return(0,I.Pe)(ot)?ot[0]:null}getAllFieldIds(){if(Array.isArray(this.configData.selectableMetadata)){if(1===this.configData.selectableMetadata.length)return[this.configData.selectableMetadata[0].metadata];{const ot=[];return this.configData.selectableMetadata.forEach(xe=>ot.push(xe.metadata)),ot}}return["relation."+this.configData.selectableRelationship.relationshipType]}initModel(ot,xe=!0,Ve=!1,Ke=!0,Be=!0){const At=Object.create(null);return this.fieldId=ot||this.getFieldId(),At.name=this.fieldId,At.id=this.fieldId.replace(/\./g,"_"),At.readOnly=this.parserOptions.readOnly||this.isFieldReadOnly(this.configData.visibility,this.configData.scope,this.parserOptions.submissionScope),At.disabled=At.readOnly,(0,I.a4)(this.configData.selectableRelationship)&&(At.relationship=Object.assign(new x.j,this.configData.selectableRelationship)),At.repeatable=this.configData.repeatable,At.metadataFields=this.getAllFieldIds()||[],At.hasSelectableMetadata=(0,I.hj)(this.configData.selectableMetadata),At.submissionId=this.submissionId,this.setLabel(At,xe),Be&&(At.hint=this.configData.hints||"&nbsp;"),At.placeholder=this.configData.label,this.configData.mandatory&&Ke&&this.markAsRequired(At),this.hasRegex()&&this.addPatternValidator(At),this.configData.languageCodes&&this.configData.languageCodes.length>0&&(At.languageCodes=this.configData.languageCodes),(0,I.hj)(this.configData.typeBind)&&(At.typeBindRelations=this.getTypeBindRelations(this.configData.typeBind,this.parserOptions.typeField)),At}isFieldReadOnly(ot,xe,Ve){return(0,I.hj)(Ve)&&(0,I.hj)(xe)&&(0,I.hj)(ot)&&(Ve===K.L.WorkspaceItem.valueOf()&&ot.main===Q.x.READONLY||ot.other===Q.x.READONLY&&Ve===K.L.WorkflowItem.valueOf())}getTypeBindRelations(ot,xe){const Ve=[];return ot.forEach(Ke=>{Ve.push({id:xe,value:Ke})}),[{match:i.zUr,operator:i.fXj,when:Ve}]}hasRegex(){return(0,I.a4)(this.configData.input.regex)}addPatternValidator(ot){const xe=this.configData.input.regex.match(De);let Ve;Ve=null!=xe&&xe.length>3?new RegExp(xe[2],xe[3]):new RegExp(this.configData.input.regex);const Ke="error.validation.pattern",Be=`${Ke}.${ot.id}`,At=this.translate.instant(Be)!==Be;ot.validators=Object.assign({},ot.validators,{pattern:Ve}),ot.errorMessages=Object.assign({},ot.errorMessages,{pattern:At?Be:Ke})}markAsRequired(ot){ot.required=!0,ot.validators=Object.assign({},ot.validators,{required:null}),ot.errorMessages=Object.assign({},ot.errorMessages,{required:this.configData.mandatoryMessage})}setLabel(ot,xe=!0,Ve=!1){xe&&(ot.label=Ve?"&nbsp;":this.configData.label)}setOptions(ot){(0,I.EA)(this.configData.selectableMetadata)&&this.configData.selectableMetadata.length>1&&(ot.options=[],this.configData.selectableMetadata.forEach((xe,Ve)=>{0===Ve&&(ot.value=xe.metadata),ot.options.push({label:xe.label,value:xe.metadata})}))}};be=(0,T.Cg)([(0,T.Qj)(0,(0,k.y_5)(ne)),(0,T.Qj)(1,(0,k.y_5)(fe)),(0,T.Qj)(2,(0,k.y_5)(se)),(0,T.Qj)(3,(0,k.y_5)(ce)),(0,T.Sn)("design:paramtypes",[String,J,Object,Object,q.c$])],be);var me=n(33382),re=n(87668);class Ee extends be{modelFactory(ot,xe){let Ve=!1;const Ke=this.initModel(null,!1,!0);if(Ke.legend=this.configData.label,Ke.disabled=Ke.readOnly,Ke.toggleIcon="fas fa-calendar",this.setValues(Ke,ot),(0,I.hj)(Ke.value)){const At=Ke.value.toString();if(At.length>=4){const Qe=At.split(me.q);if(Qe.length<4)for(let st=0;st<Qe.length;st++)Qe[st].length!==(0===st?4:2)&&(Ve=!0)}}const Be=new re.g(Ke);return Be.malformedDate=Ve,Be}}var Te=n(6458);class tt extends be{modelFactory(ot,xe){const Ve=this.initModel(null,xe);return this.setValues(Ve,ot,!0),new Te.H(Ve)}}var ht=n(11220);let Fe=class extends be{constructor(ot,xe,Ve,Ke,Be){super(ot,xe,Ve,Ke,Be)}modelFactory(ot,xe){const Ve=this.initModel(null,xe);let Ke;if((0,I.hj)(this.configData.selectableMetadata[0].controlledVocabulary))return this.setVocabularyOptions(Ve),(0,I.hj)(ot)&&(Ve.value=ot),Ke={element:{control:"col"},grid:{host:"col"}},new ht.j(Ve,Ke);throw Error("Controlled Vocabulary name is not available. Please check the form configuration file.")}};Fe=(0,T.Cg)([(0,T.Qj)(0,(0,k.y_5)(ne)),(0,T.Qj)(1,(0,k.y_5)(fe)),(0,T.Qj)(2,(0,k.y_5)(se)),(0,T.Qj)(3,(0,k.y_5)(ce)),(0,T.Sn)("design:paramtypes",[String,J,Object,Object,q.c$])],Fe);var Et=n(29658),Ye=n(90558);class pt extends be{modelFactory(ot,xe){const Ve=this.initModel(null,xe);let Ke;return Ve.repeatable=this.configData.repeatable,this.configData.selectableMetadata[0].controlledVocabulary&&this.configData.selectableMetadata[0].controlledVocabulary.length>0&&((0,I.hj)(this.getInitGroupValues())&&(Ve.value=[],this.getInitGroupValues().forEach(Be=>{if(Be instanceof p.e)Ve.value.push(Be);else{const At=new p.e(Be);Ve.value.push(At)}})),this.setVocabularyOptions(Ve)),Ve.repeatable?(Ve.group=[],Ke=new Et.R(Ve)):(Ve.options=[],Ke=new Ye.t(Ve)),Ke}}var Mt=n(80902);class Ne extends be{modelFactory(ot,xe){if(this.configData.selectableMetadata[0].controlledVocabulary){const Ve=this.initModel(null,xe);return this.setVocabularyOptions(Ve),this.setValues(Ve,ot,!0),new Mt.P(Ve)}}}var rt=n(37146);class Gt extends be{modelFactory(ot,xe){if(this.configData.selectableMetadata[0].controlledVocabulary){const Ve=this.initModel(null,xe);return this.setVocabularyOptions(Ve),this.setValues(Ve,ot,!0),new rt._(Ve)}}}var Zt=n(66733);let mt=class extends be{constructor(ot,xe,Ve,Ke,Be,At,Qe=null,st=null){super(ot,xe,Ve,Ke,Be),this.separator=At,this.firstPlaceholder=Qe,this.secondPlaceholder=st,this.separator=At,this.firstPlaceholder=Qe,this.secondPlaceholder=st}modelFactory(ot,xe){const Ve=this.configData.selectableMetadata[0].metadata,Ke={grid:{host:"col-sm-6"}},Be=Ve.replace(/\./g,"_")+O,At=this.initModel(Be,xe,!1,!0);At.group=[],At.separator=this.separator;const Qe=this.initModel(Ve+"_CONCAT_FIRST_INPUT",!1,!0,!0,!1),st=this.initModel(Ve+"_CONCAT_SECOND_INPUT",!1,!0,!0,!1);Qe.hideErrorMessages=!0,st.hideErrorMessages=!0,(0,I.Tn)(At.hint)&&(0,I.a4)(Qe.hint)&&(0,I.Tn)(st.hint)&&(At.hint=Qe.hint,Qe.hint=void 0),this.configData.mandatory&&(At.required=!0,Qe.required=!0),At.disabled=Qe.readOnly,(0,I.hj)(this.firstPlaceholder)&&(Qe.placeholder=this.firstPlaceholder),(0,I.hj)(this.secondPlaceholder)&&(st.placeholder=this.secondPlaceholder);const ke=this.configData.label.split("/");2===ke.length&&(Qe.placeholder=ke[0],st.placeholder=ke[1]);const Le=new Zt.C(Qe,Ke),dt=new Zt.C(st,Ke);At.group.push(Le),At.group.push(dt);const ln=new L(At,{element:{control:"row"}});return ln.name=this.getFieldId(),(0,I.hj)(ot)&&(ln.value=ot),ln}};mt=(0,T.Cg)([(0,T.Qj)(0,(0,k.y_5)(ne)),(0,T.Qj)(1,(0,k.y_5)(fe)),(0,T.Qj)(2,(0,k.y_5)(se)),(0,T.Qj)(3,(0,k.y_5)(ce)),(0,T.Sn)("design:paramtypes",[String,J,Object,Object,q.c$,String,String,String])],mt);let Pt=class extends mt{constructor(ot,xe,Ve,Ke,Be){super(ot,xe,Ve,Ke,Be,",","form.last-name","form.first-name")}};Pt=(0,T.Cg)([(0,T.Qj)(0,(0,k.y_5)(ne)),(0,T.Qj)(1,(0,k.y_5)(fe)),(0,T.Qj)(2,(0,k.y_5)(se)),(0,T.Qj)(3,(0,k.y_5)(ce)),(0,T.Sn)("design:paramtypes",[String,J,Object,Object,q.c$])],Pt);class hn extends i.iO5{constructor(ot,xe){super(ot,xe),this.hasLanguages=!1,this.isCustomGroup=!0,this.readOnly=ot.readOnly,this.required=ot.required,this.language=ot.language,this.languageCodes=ot.languageCodes,this.languageUpdates=new A.B,this.languageUpdates.subscribe(Ve=>{this.language=Ve}),this.hint=ot.hint}get value(){return this.get(1).value}get qualdropId(){return this.get(0).value.toString()}get language(){return this._language}set language(ot){this._language=ot}get languageCodes(){return this._languageCodes}set languageCodes(ot){this._languageCodes=ot,(!this.language||null===this.language||""===this.language)&&(this.language=this.languageCodes?this.languageCodes[0].code:null)}}(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],hn.prototype,"_language",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Array)],hn.prototype,"_languageCodes",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",A.B)],hn.prototype,"languageUpdates",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Object)],hn.prototype,"hasLanguages",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],hn.prototype,"readOnly",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],hn.prototype,"hint",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],hn.prototype,"required",void 0);var an=n(45500);class Pn extends be{modelFactory(ot,xe){if(this.configData.selectableMetadata.length>1){const Ve={element:{control:"row",hint:"ds-form-qualdrop-hint"}},Ke={element:{control:"ds-form-input-addon custom-select"},grid:{host:"col-sm-4 pe-0"}},Be={element:{control:"ds-form-input-value"},grid:{host:"col-sm-8 ps-0"}},At=this.configData.selectableMetadata[0].metadata.split(".").slice(0,this.configData.selectableMetadata[0].metadata.split(".").length-1).join("."),Qe=Object.create(null);Qe.id=At.replace(/\./g,"_")+"_QUALDROP_GROUP",Qe.group=[],Qe.legend=this.configData.label,Qe.hint=this.configData.hints,this.setLabel(Qe,xe),Qe.required=(0,I.hj)(this.configData.mandatory);const st=this.initModel(At+"_QUALDROP_VALUE",xe,!1,!1);st.hint=null,this.setValues(st,ot);const ke=this.initModel(At+"_QUALDROP_METADATA",xe,!1,!1);return ke.hint=null,this.setOptions(ke),(0,I.hj)(ot)&&(ke.value=ot.metadata),ke.disabled=st.readOnly,Qe.readOnly=ke.disabled&&st.readOnly,Qe.group.push(new i.z4z(ke,Ke)),Qe.group.push(new Zt.C(st,Be)),new hn(Qe,Ve)}if(this.configData.selectableMetadata[0].controlledVocabulary){const Ve=this.initModel(null,xe);return this.setVocabularyOptions(Ve),this.setValues(Ve,ot,!0),new an.K(Ve)}{const Ve=this.initModel(null,xe);return this.setValues(Ve,ot),new Zt.C(Ve)}}}var yt=n(11166);class Kt extends be{modelFactory(ot,xe){const Ve=this.initModel(null,xe);if(Ve.submissionId=this.submissionId,Ve.scopeUUID=this.parserOptions.collectionUUID,Ve.submissionScope=this.parserOptions.submissionScope,!(this.configData&&this.configData.rows&&this.configData.rows.length>0))throw new Error(`Configuration not valid: ${Ve.name}`);Ve.formConfiguration=this.configData.rows,Ve.relationFields=[],this.configData.rows.forEach(At=>{At.fields.forEach(Qe=>{Qe.selectableMetadata[0].metadata===this.configData.selectableMetadata[0].metadata?Ve.mandatoryField=this.configData.selectableMetadata[0].metadata:Ve.relationFields.push(Qe.selectableMetadata[0].metadata)})}),(0,I.hj)(this.getInitGroupValues())&&(Ve.value=[],this.getInitFieldValues(Ve.mandatoryField).forEach((Qe,st)=>{const ke=Object.create(null);[Ve.mandatoryField].concat(Ve.relationFields).forEach(dt=>{const St=this.getInitFieldValue(0,st,[dt]);ke[dt]=(0,I.hj)(St)?St:R.N}),Ve.value.push(ke)}));const Be=new yt.W(Ve,{element:{container:"mb-3"}});return Be.name=this.getFieldId(),Be}}let Rt=class extends mt{constructor(ot,xe,Ve,Ke,Be){super(ot,xe,Ve,Ke,Be,";")}};Rt=(0,T.Cg)([(0,T.Qj)(0,(0,k.y_5)(ne)),(0,T.Qj)(1,(0,k.y_5)(fe)),(0,T.Qj)(2,(0,k.y_5)(se)),(0,T.Qj)(3,(0,k.y_5)(ce)),(0,T.Sn)("design:paramtypes",[String,J,Object,Object,q.c$])],Rt);class nn extends be{modelFactory(ot,xe){const Ve=this.initModel(null,xe);return this.configData.selectableMetadata[0].controlledVocabulary&&this.configData.selectableMetadata[0].controlledVocabulary.length>0&&this.setVocabularyOptions(Ve),this.setValues(Ve,ot,null,!0),new B.H(Ve)}}var gn=n(88280),It=n(77485);class zt extends be{modelFactory(ot,xe){const Ve=this.initModel(null,xe);return Ve.rows=10,Ve.spellCheck=gn.c.form.spellCheck,this.setValues(Ve,ot),new It.E(Ve,{element:{label:"col-form-label"}})}}const Yt=[ne,fe,se,ce,q.c$];class wt{static getProvider(ot){switch(ot){case le.Date:return{provide:be,useClass:Ee,deps:[...Yt]};case le.Dropdown:return{provide:be,useClass:Fe,deps:[...Yt]};case le.RelationGroup:return{provide:be,useClass:Kt,deps:[...Yt]};case le.List:return{provide:be,useClass:pt,deps:[...Yt]};case le.Lookup:return{provide:be,useClass:Ne,deps:[...Yt]};case le.LookupName:return{provide:be,useClass:Gt,deps:[...Yt]};case le.Onebox:return{provide:be,useClass:Pn,deps:[...Yt]};case le.Name:return{provide:be,useClass:Pt,deps:[...Yt]};case le.Series:return{provide:be,useClass:Rt,deps:[...Yt]};case le.Tag:return{provide:be,useClass:nn,deps:[...Yt]};case le.Textarea:return{provide:be,useClass:zt,deps:[...Yt]};case void 0:return{provide:be,useClass:tt,deps:[...Yt]};default:return}}}let Jt=(()=>{class Ft{constructor(xe){this.parentInjector=xe}parse(xe,Ve,Ke,Be,At,Qe,st){let ke=null,Le=null;const dt={id:U()("df-row-group-config-"),group:[]},St=this.filterScopedFields(Ve.fields,At),ln=" col-sm-"+Math.trunc(12/St.length),Bn={readOnly:Qe,submissionScope:At,collectionUUID:Ke,typeField:st};if(St.forEach(Zn=>{const wn=(Zn.style||ln)+" d-flex flex-column justify-content-start",ct=wt.getProvider(Zn.input.type);if(!ct)throw new Error(`unknown form control model type "${Zn.input.type}" defined for Input field with label "${Zn.label}".`);if(ke=k.zZn.create({providers:[ct,{provide:ne,useValue:xe},{provide:fe,useValue:Zn},{provide:se,useValue:Be},{provide:ce,useValue:Bn}],parent:this.parentInjector}).get(be).parse(),ke){if(ke.type===i.WlY||ke.type===R.T)return void(Ve.fields.length>1?(ee(ke,"grid","host",wn),dt.group.push(ke)):Le=ke);Array.isArray(ke)?ke.forEach(vt=>{Le=vt}):(ee(ke,"grid","host",wn),dt.group.push(ke)),ke=null}}),dt&&!(0,I.Im)(dt.group)){const wn=new Y(dt,{element:{control:"row"}});Array.isArray(Le)?Le.push(wn):Le=wn}return Le}checksFieldScope(xe,Ve,Ke){return(0,I.Im)(xe)||!this.isHidden(Ke,xe,Ve)}isHidden(xe,Ve,Ke){return(0,I.hj)(Ve)&&(0,I.Im)(xe)&&(Ke===K.L.WorkspaceItem.valueOf()&&Ve!==G.WorkspaceItem.valueOf()||Ke===K.L.WorkflowItem.valueOf()&&Ve!==G.WorkflowItem.valueOf())}filterScopedFields(xe,Ve){const Ke=[];return xe.forEach(Be=>{this.checksFieldScope(Be.scope,Ve,Be.visibility)&&Ke.push(Be)}),Ke}static{this.\u0275fac=function(Ve){return new(Ve||Ft)(k.KVO(k.zZn))}}static{this.\u0275prov=k.jDH({token:Ft,factory:Ft.\u0275fac,providedIn:"root"})}}return Ft})(),Dt=(()=>{class Ft extends i.J9r{constructor(xe,Ve,Ke,Be){super(xe,Ve),this.rowParser=Ke,this.configService=Be,this.formModels=new Map,this.formGroups=new Map,(0,I.a4)(this.configService)&&this.setTypeBindFieldFromConfig()}createDynamicFormControlEvent(xe,Ve,Ke,Be){return{$event:{value:Ke.value,autoSave:!1},context:Ke?.parent instanceof i.fHx?Ke?.parent:null,control:xe,group:Ve,model:Ke,type:Be}}getTypeBindModel(){return this.typeBindModel}setTypeBindModel(xe){this.typeBindModel=xe}findById(xe,Ve,Ke=null){let Be=null;const At=(Qe,st,ke)=>{for(const Le of st){if(Le.id===Qe){Be=this.isArrayGroup(Le)&&(0,I.Pe)(ke)?Le.get(ke):Le;break}if(this.isConcatGroup(Le)&&Le.id.match(new RegExp(Qe+O))){Be=Le;break}if(this.isGroup(Le)&&At(Qe,Le.group,ke),this.isArrayGroup(Le)&&((0,I.kZ)(ke)||Le.size>ke)){const dt=(0,I.kZ)(ke)?0:ke;At(Qe,Le.get(dt).group,dt)}}};return At(xe,Ve,Ke),Be}clearAllModelsValue(xe){const Ve=Ke=>{for(const Be of Ke)this.isGroup(Be)?Ve(Be.group):this.isArrayGroup(Be)?Ve(Be.groupFactory()):Be.hasOwnProperty("valueChanges")&&(Be.value=void 0)};Ve(xe)}getValueFromModel(xe){let Ve=Object.create({});const Ke=(Qe,st)=>{if(Array.isArray(Qe))return Qe.concat(st)},Be=(Qe,st,ke)=>{const Le=Qe.hasLanguages?Qe.language:null;if(Qe?.metadataValue?.authority?.includes(E.BY))return Qe.metadataValue;if(h()(st))return new p.e(st,Le,null,null,ke);if((0,C.z5)(st))return new p.e((0,C.$T)(st));if(u()(st)){const dt=st.authority||st.id||null,St=ke||st.place;return(0,C.z5)(st)?new p.e(st,Le,dt,st,St):new p.e(st.value,Le,dt,st.display,St,st.confidence)}return st},At=(Qe,st=0)=>{let ke=Object.create({});for(const Le of Qe){if(this.isRowGroup(Le)&&!this.isCustomOrListGroup(Le)){ke=f()(ke,At(Le.group),Ke);continue}if(this.isGroup(Le)&&!this.isCustomOrListGroup(Le)){ke[Le.name]=At(Le.group);continue}if(this.isRowArrayGroup(Le)){for(const St of Le.groups)ke=f()(ke,At(St.group,St.index),Ke);continue}if(this.isArrayGroup(Le)){ke[Le.name]=[];for(const St of Le.groups)ke[Le.name].push(At(St.group,St.index));continue}let dt;if(dt=this.isQualdropGroup(Le)?Le.qualdropId:Le.name,this.isRelationGroup(Le))Le.getGroupValue().forEach((ln,Tn)=>{Object.keys(ln).forEach(Zn=>{const wn=Be(Le,ln[Zn],Tn);(0,I.hj)(wn)&&wn.hasValue()&&(ke.hasOwnProperty(Zn)?ke[Zn].push(wn):ke[Zn]=[wn])})});else if((0,I.EA)(Le.value)&&(0,I.hj)(Le.value)){const St=[];(Array.isArray(Le.value)?Le.value:[Le.value]).forEach(Tn=>{St.push(Be(Le,Tn,st))}),ke[dt]=dt&&ke.hasOwnProperty(dt)&&(0,I.Pe)(ke[dt])?ke[dt].concat(St):(0,I.hj)(St)?St:null}}return ke};return Ve=At(xe),Ve}modelFromConfiguration(xe,Ve,Ke,Be={},At,Qe=!1,st=null,ke=!1){let Le=[];const dt="string"==typeof Ve?JSON.parse(Ve,i.zno):Ve;return dt.rows&&!(0,I.Im)(dt.rows)&&dt.rows.forEach(St=>{const ln=this.rowParser.parse(xe,St,Ke,Be,At,Qe,this.getTypeField());(0,I.Pe)(ln)&&(Array.isArray(ln)?Le=Le.concat(ln):Le.push(ln))}),(0,I.Tn)(st)&&(st=this.findById(this.typeField,Le)),(0,I.a4)(st)&&this.setTypeBindModel(st),Le}isModelInCustomGroup(xe){return this.isCustomGroup(xe.parent)}hasArrayGroupValue(xe){return xe&&(this.isListGroup(xe)||xe.type===B.v)}hasMappedGroupValue(xe){return this.isQualdropGroup(xe.parent)||this.isRelationGroup(xe.parent)}isGroup(xe){return xe&&(xe.type===i.wnr||xe.type===i.W25)}isQualdropGroup(xe){return xe&&xe.type===i.wnr&&(0,I.a4)(xe.qualdropId)}isCustomGroup(xe){return xe&&xe.type===i.wnr&&!0===xe.isCustomGroup}isConcatGroup(xe){return this.isCustomGroup(xe)&&-1!==xe.id.indexOf(O)}isRowGroup(xe){return xe&&xe.type===i.wnr&&!0===xe.isRowGroup}isCustomOrListGroup(xe){return xe&&(this.isCustomGroup(xe)||this.isListGroup(xe))}isListGroup(xe){return xe&&(xe.type===i.W25&&!0===xe.isListGroup||xe.type===i.KMD&&!0===xe.isListGroup)}isRelationGroup(xe){return xe&&xe.type===R.T}isRowArrayGroup(xe){return xe.type===i.WlY&&!0===xe.isRowArray}isArrayGroup(xe){return xe.type===i.WlY}isInputModel(xe){return xe.type===i.FlA}getFormControlById(xe,Ve,Ke,Be=0){const At=this.findById(xe,Ke,Be);return(0,I.hj)(At)?Ve.get(this.getPath(At)):null}getFormControlByModel(xe,Ve){return(0,I.hj)(Ve)?xe.get(this.getPath(Ve)):null}getId(xe){let Ve;return this.isArrayGroup(xe)?xe.index.toString():(Ve=this.isModelInCustomGroup(xe)?xe.parent:xe,Ve.id!==Ve.name?Ve.name:Ve.id)}removeFormModel(xe){this.formModels.has(xe)&&this.formModels.delete(xe)}addFormGroups(xe,Ve){this.formGroups.set(xe,Ve)}removeFormGroup(xe){this.formGroups.has(xe)&&this.formGroups.delete(xe)}getMetadataIdsFromEvent(xe){let Ve=xe.model;for(;Ve.parent;)Ve=Ve.parent;const Ke=(At,Qe=0)=>{let st=Object.create({});for(const ke of At){if(this.isRowGroup(ke)&&!this.isCustomOrListGroup(ke)){st=f()(st,Ke(ke.group));continue}if(this.isGroup(ke)&&!this.isCustomOrListGroup(ke)){st[ke.name]=Ke(ke.group);continue}if(this.isRowArrayGroup(ke)){for(const dt of ke.groups)st=f()(st,Ke(dt.group,dt.index));continue}if(this.isArrayGroup(ke)){st[ke.name]=[];for(const dt of ke.groups)st[ke.name].push(Ke(dt.group,dt.index));continue}let Le;Le=this.isQualdropGroup(ke)?ke.qualdropId:ke.name,this.isRelationGroup(ke)?ke.getGroupValue().forEach((St,ln)=>{Object.keys(St).forEach(Tn=>{st[Tn]=!0})}):st[Le]=!0}return st},Be=Ke([Ve]);return Object.keys(Be)}setTypeBindFieldFromConfig(){this.configService.findByPropertyName("submit.type-bind.field").pipe((0,_.qD)()).subscribe(xe=>{if(!xe.hasSucceeded)return void(this.typeField="dc_type");const Ve=xe.payload.values[0];this.typeField=(0,I.Im)(Ve)?"dc_type":Ve.replace(/\./g,"_")})}getTypeField(){return(0,I.a4)(this.configService)&&(0,I.Tn)(this.typeField)?this.setTypeBindFieldFromConfig():(0,I.Tn)(this.typeField)&&(this.typeField="dc_type"),this.typeField}static{this.\u0275fac=function(Ve){return new(Ve||Ft)(k.KVO(i.cYz),k.KVO(i.STK),k.KVO(Jt),k.KVO(v.ConfigurationDataService,8))}}static{this.\u0275prov=k.jDH({token:Ft,factory:Ft.\u0275fac,providedIn:"root"})}}return Ft})()},61280:(F,D,n)=>{"use strict";n.d(D,{e:()=>h});var i=n(98179),t=n(14391),u=n(82777),e=n(56899);class h{static{this.AUTHORITY_SPLIT="::"}static{this.AUTHORITY_GENERATE="will be generated"+h.AUTHORITY_SPLIT}constructor(f=null,v=null,E=null,_=null,C=0,I=null,R=null,T=null){this.value=(0,u.Pe)(f)?"string"==typeof f?f.trim():f:null,this.language=v,this.authority=E,this.display=_||f,this.confidence=I,this.confidence=null==E||!(0,u.Im)(I)&&-1!==I?(0,u.hj)(I)?I:i.l.CF_UNSET:i.l.CF_ACCEPTED,this.place=C,(0,u.hj)(T)&&(this.metadata=T),this.otherInformation=R}hasAuthority(){return(0,u.hj)(this.authority)}hasAuthorityToGenerate(){return(0,u.hj)(this.authority)&&this.authority.startsWith(h.AUTHORITY_GENERATE)}hasValue(){return(0,u.hj)(this.value)}hasOtherInformation(){return(0,u.hj)(this.otherInformation)}hasPlaceholder(){return this.hasValue()&&this.value===e.N}get isVirtual(){return(0,u.a4)(this.authority)&&this.authority.startsWith(t.BY)}get virtualValue(){if(this.isVirtual)return this.authority.substring(this.authority.indexOf(t.BY)+t.BY.length)}toString(){return this.display||this.value}}},56568:(F,D,n)=>{"use strict";n.d(D,{j:()=>t});class t{get metadataField(){return"relation."+this.relationshipType}}},39729:(F,D,n)=>{"use strict";n.d(D,{K:()=>I});var i=n(54438),t=n(48376),u=n.n(t),e=n(88280),h=n(98179),m=n(14391),f=n(43235),v=n(36599),E=n(82777),_=n(61280),C=n(41780);let I=(()=>{class R{onClick(){(0,E.hj)(this.authorityValue)&&this.getConfidenceByValue(this.authorityValue)!==h.l.CF_ACCEPTED&&this.whenClickOnConfidenceNotAccepted.emit(this.getConfidenceByValue(this.authorityValue))}constructor(A,p,x){this.elem=A,this.renderer=p,this.translate=x,this.visibleWhenAuthorityEmpty=!0,this.iconMode=!1,this.previousClass=null,this.whenClickOnConfidenceNotAccepted=new i.bkB}ngOnChanges(A){A.authorityValue.firstChange||(this.previousClass=this.getClassByConfidence(this.getConfidenceByValue(A.authorityValue.previousValue))),this.newClass=this.getClassByConfidence(this.getConfidenceByValue(A.authorityValue.currentValue));const p=this.getNameByConfidence(this.getConfidenceByValue(A.authorityValue.currentValue));(0,E.kZ)(this.previousClass)?(this.renderer.addClass(this.elem.nativeElement,this.newClass),this.iconMode&&this.renderer.setAttribute(this.elem.nativeElement,"title",this.translate.instant(`confidence.indicator.help-text.${p}`))):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass),this.iconMode&&this.renderer.setAttribute(this.elem.nativeElement,"title",this.translate.instant(`confidence.indicator.help-text.${p}`)))}ngAfterViewInit(){(0,E.kZ)(this.previousClass)?this.renderer.addClass(this.elem.nativeElement,this.newClass):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass))}getConfidenceByValue(A){let p=h.l.CF_UNSET;return(0,E.hj)(A)&&(A instanceof f.b||A instanceof v.M)&&A.hasAuthority()&&(p=h.l.CF_ACCEPTED),(0,E.hj)(A)&&A instanceof _.e&&(p=A.confidence),(0,E.hj)(A)&&A instanceof m.vD&&(p=A.confidence),(0,E.hj)(A)&&Object.values(h.l).includes(A)&&(p=A),p}getClassByConfidence(A){if(!this.visibleWhenAuthorityEmpty&&A===h.l.CF_UNSET)return"d-none";const p=e.c.submission.icons.authority.confidence,x=u()(p,{value:A}),O=u()(p,{value:"default"});return this.iconMode?-1!==x?p[x].icon:-1!==O?p[O].icon:"":-1!==x?p[x].style:-1!==O?p[O].style:""}getNameByConfidence(A){const p=h.l[A];return(0,E.hj)(p)?p.replace("CF_","").toLowerCase():"unknown"}static{this.\u0275fac=function(p){return new(p||R)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(C.c$))}}static{this.\u0275dir=i.FsC({type:R,selectors:[["","dsAuthorityConfidenceState",""]],hostBindings:function(p,x){1&p&&i.bIt("click",function(){return x.onClick()})},inputs:{authorityValue:"authorityValue",visibleWhenAuthorityEmpty:"visibleWhenAuthorityEmpty",iconMode:"iconMode"},outputs:{whenClickOnConfidenceNotAccepted:"whenClickOnConfidenceNotAccepted"},standalone:!0,features:[i.OA$]})}}return R})()},32710:(F,D,n)=>{"use strict";n.d(D,{AI:()=>t,Dn:()=>m,Dp:()=>_,PW:()=>f,SD:()=>h,Tr:()=>E,V2:()=>e,bS:()=>u,yo:()=>v});var i=n(91e3);const t={FORM_INIT:(0,i.N)("dspace/form/FORM_INIT"),FORM_CHANGE:(0,i.N)("dspace/form/FORM_CHANGE"),FORM_ADD_TOUCHED:(0,i.N)("dspace/form/FORM_ADD_TOUCHED"),FORM_REMOVE:(0,i.N)("dspace/form/FORM_REMOVE"),FORM_STATUS_CHANGE:(0,i.N)("dspace/form/FORM_STATUS_CHANGE"),FORM_ADD_ERROR:(0,i.N)("dspace/form/FORM_ADD_ERROR"),FORM_REMOVE_ERROR:(0,i.N)("dspace/form/FORM_REMOVE_ERROR"),FORM_CLEAR_ERRORS:(0,i.N)("dspace/form/FORM_CLEAR_ERRORS")};class u{constructor(I,R,T){this.type=t.FORM_INIT,this.payload={formId:I,formData:R,valid:T}}}class e{constructor(I,R){this.type=t.FORM_CHANGE,this.payload={formId:I,formData:R}}}class h{constructor(I,R){this.type=t.FORM_ADD_TOUCHED,this.payload={formId:I,touched:R}}}class m{constructor(I){this.type=t.FORM_REMOVE,this.payload={formId:I}}}class f{constructor(I,R){this.type=t.FORM_STATUS_CHANGE,this.payload={formId:I,valid:R}}}class v{constructor(I,R,T,A){this.type=t.FORM_ADD_ERROR,this.payload={formId:I,fieldId:R,fieldIndex:T,errorMessage:A}}}class E{constructor(I,R,T){this.type=t.FORM_REMOVE_ERROR,this.payload={formId:I,fieldId:R,fieldIndex:T}}}class _{constructor(I){this.type=t.FORM_CLEAR_ERRORS,this.payload={formId:I}}}},13143:(F,D,n)=>{"use strict";n.d(D,{s:()=>G});var i=n(60177),t=n(54438),u=n(89417),e=n(1473),h=n(41780),m=n(48376),f=n.n(m),v=n(5964),E=n(96354),_=n(23294),C=n(60456),I=n(82777),R=n(10460);function T(q,z){if(1&q){const te=t.RV6();t.j41(0,"ds-dynamic-form-control-container",1),t.bIt("dfBlur",function(J){t.eBV(te);const Q=t.XpG();return t.Njj(Q.onCustomEvent(J,Q.blur))})("dfChange",function(J){t.eBV(te);const Q=t.XpG();return t.Njj(Q.onCustomEvent(J,Q.change))})("dfFocus",function(J){t.eBV(te);const Q=t.XpG();return t.Njj(Q.onCustomEvent(J,Q.focus))})("ngbEvent",function(J){t.eBV(te);const Q=t.XpG();return t.Njj(Q.onCustomEvent(J,Q.ngbEvent))}),t.k0s()}if(2&q){const te=z.$implicit,Z=t.XpG();t.AVh("d-none",te.hidden),t.Y8G("formId",Z.formId)("group",Z.formGroup)("hasErrorMessaging",te.hasErrorMessages)("hidden",te.hidden)("layout",Z.formLayout)("model",te)("templates",Z.templates)("asBootstrapFormGroup",!0)}}let A=(()=>{class q extends e.f4U{constructor(te,Z){super(te,Z),this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.ngbEvent=new t.bkB}static{this.\u0275fac=function(Z){return new(Z||q)(t.rXU(t.gRc),t.rXU(e.cYz))}}static{this.\u0275cmp=t.VBU({type:q,selectors:[["ds-dynamic-form"]],contentQueries:function(Z,J,Q){if(1&Z&&t.wni(Q,e.vJF,4),2&Z){let ee;t.mGM(ee=t.lsd())&&(J.templates=ee)}},viewQuery:function(Z,J){if(1&Z&&t.GBs(R._,5),2&Z){let Q;t.mGM(Q=t.lsd())&&(J.components=Q)}},inputs:{formId:"formId",formGroup:"formGroup",formModel:"formModel",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",ngbEvent:"ngbEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:2,consts:[[3,"formId","group","hasErrorMessaging","hidden","d-none","layout","model","templates","asBootstrapFormGroup","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf","ngForTrackBy"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","formId","group","hasErrorMessaging","hidden","layout","model","templates","asBootstrapFormGroup"]],template:function(Z,J){1&Z&&t.DNE(0,T,1,10,"ds-dynamic-form-control-container",0),2&Z&&t.Y8G("ngForOf",J.formModel)("ngForTrackBy",J.trackByFn)},dependencies:()=>[R._,i.Sq],encapsulation:2})}}return q})();var p=n(33126),x=n(54002);const O=[[["","additional",""]],"*",[["","before",""]],[["","between",""]],[["","after",""]]],w=["[additional]","*","[before]","[between]","[after]"];function M(q,z){if(1&q){const te=t.RV6();t.j41(0,"div",7)(1,"button",8),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(J){t.eBV(te);const Q=t.XpG(),ee=Q.index,le=Q.context,ne=t.XpG();return t.Njj(ne.removeItem(J,le,ee))}),t.j41(4,"span"),t.nrm(5,"i",9),t.k0s()()()}2&q&&(t.R7$(),t.FS9("title",t.bMT(2,2,"form.remove")),t.BMQ("aria-label",t.bMT(3,4,"form.remove")))}function L(q,z){if(1&q){const te=t.RV6();t.j41(0,"div",10)(1,"div",11)(2,"button",12),t.nI1(3,"translate"),t.nI1(4,"translate"),t.bIt("click",function(J){t.eBV(te);const Q=t.XpG().$implicit,ee=t.XpG();return t.Njj(ee.insertItem(J,Q.context,Q.context.groups.length))}),t.j41(5,"span"),t.nrm(6,"i",13),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()()}2&q&&(t.R7$(2),t.FS9("title",t.bMT(3,3,"form.add")),t.BMQ("aria-label",t.bMT(4,5,"form.add")),t.R7$(5),t.SpI(" ",t.bMT(8,7,"form.add"),""))}function B(q,z){if(1&q){const te=t.RV6();t.j41(0,"div",7)(1,"div",14)(2,"button",15),t.nI1(3,"translate"),t.nI1(4,"translate"),t.bIt("click",function(J){t.eBV(te);const Q=t.XpG(),ee=Q.index,le=Q.context,ne=t.XpG();return t.Njj(ne.removeItem(J,le,ee))}),t.j41(5,"span"),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()()}if(2&q){const te=t.XpG(),Z=te.$implicit,J=te.index,Q=te.context,ee=t.XpG();t.R7$(2),t.FS9("title",t.bMT(3,4,"form.discard")),t.Y8G("dsBtnDisabled",1===Z.context.groups.length||ee.isItemReadOnly(Q,J)),t.BMQ("aria-label",t.bMT(4,6,"form.discard")),t.R7$(4),t.JRh(t.bMT(7,8,"form.discard"))}}function k(q,z){if(1&q&&t.DNE(0,M,6,6,"div",5)(1,L,9,9,"div",6)(2,B,8,10,"div",5),2&q){const te=z.$implicit,Z=z.index,J=z.context,Q=t.XpG();t.Y8G("ngIf",!J.notRepeatable&&!Q.isVirtual(J,Z)&&1!==te.context.groups.length&&!Q.isItemReadOnly(J,Z)),t.R7$(),t.Y8G("ngIf",!J.notRepeatable&&Z===te.context.groups.length-1&&!Q.isItemReadOnly(J,Z)),t.R7$(),t.Y8G("ngIf",J.notRepeatable&&J.showButtons&&te.context.groups.length>1)}}function W(q,z){1&q&&t.SdG(0,1,["*ngIf","!displaySubmit && !displayCancel"])}function U(q,z){if(1&q){const te=t.RV6();t.j41(0,"button",20),t.bIt("click",function(){t.eBV(te);const J=t.XpG(2);return t.Njj(J.reset())}),t.nrm(1,"i",21),t.EFF(2),t.nI1(3,"translate"),t.k0s()}if(2&q){const te=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,1,te.cancelLabel)," ")}}function K(q,z){if(1&q){const te=t.RV6();t.j41(0,"button",22),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(te);const J=t.XpG(2);return t.Njj(J.onSubmit())}),t.nrm(2,"i",23),t.EFF(3),t.nI1(4,"translate"),t.k0s()}if(2&q){const te=t.XpG(2);t.Y8G("dsBtnDisabled",!0!==t.bMT(1,2,te.isValid())),t.R7$(3),t.SpI(" ",t.bMT(4,4,te.submitLabel)," ")}}function Y(q,z){if(1&q&&(t.j41(0,"div"),t.nrm(1,"hr"),t.j41(2,"div",16)(3,"div",17),t.SdG(4,2),t.DNE(5,U,4,3,"button",18),t.SdG(6,3),t.DNE(7,K,5,6,"button",19),t.SdG(8,4),t.k0s()()()),2&q){const te=t.XpG();t.R7$(5),t.Y8G("ngIf",te.displayCancel),t.R7$(2),t.Y8G("ngIf",te.displaySubmit)}}let G=(()=>{class q{constructor(te,Z,J){this.formService=te,this.changeDetectorRef=Z,this.formBuilderService=J,this.formErrors=[],this.displaySubmit=!0,this.displayCancel=!0,this.emitChange=!0,this.submitLabel="form.submit",this.cancelLabel="form.cancel",this.formLayout=null,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.customEvent=new t.bkB,this.addArrayItem=new t.bkB,this.removeArrayItem=new t.bkB,this.cancel=new t.bkB,this.submitForm=new t.bkB,this.subs=[]}getFormGroup(){return this.parentFormModel?this.formGroup.parent:this.formGroup}getFormGroupValue(){return this.getFormGroup().value}getFormGroupValidStatus(){return this.getFormGroup().valid}ngOnInit(){this.formGroup?this.formModel.forEach(te=>{this.parentFormModel&&this.formBuilderService.addFormGroupControl(this.formGroup,this.parentFormModel,te)}):this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.formService.initForm(this.formId,this.formModel,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus(),this.subs.push(this.formGroup.statusChanges.pipe((0,v.p)(()=>this.formValid!==this.getFormGroupValidStatus())).subscribe(()=>{this.formService.setStatusChanged(this.formId,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus()})),this.subs.push(this.formService.getForm(this.formId).pipe((0,v.p)(te=>!!te&&((0,I.hj)(te.errors)||(0,I.hj)(this.formErrors))),(0,E.T)(te=>te.errors),(0,_.F)()).subscribe(te=>{const{formGroup:Z,formModel:J}=this;te.filter(Q=>-1===f()(this.formErrors,{fieldId:Q.fieldId,fieldIndex:Q.fieldIndex})).forEach(Q=>{const{fieldId:ee}=Q,{fieldIndex:le}=Q;let ne;if(ne=this.formBuilderService.getFormControlById(ee,this.parentFormModel?Z.parent:Z,J,le),ne){const fe=this.formBuilderService.findById(ee,J);this.formService.addErrorToField(ne,fe,Q.message),this.changeDetectorRef.detectChanges()}}),this.formErrors.filter(Q=>-1===f()(te,{fieldId:Q.fieldId,fieldIndex:Q.fieldIndex})).forEach(Q=>{const{fieldId:ee}=Q,{fieldIndex:le}=Q;let ne;if(ne=this.formBuilderService.getFormControlById(ee,this.parentFormModel?Z.parent:Z,J,le),ne){const fe=this.formBuilderService.findById(ee,J);this.formService.removeErrorFromField(ne,fe,Q.message)}}),this.formErrors=te,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(te=>(0,I.a4)(te)).forEach(te=>te.unsubscribe()),this.formService.removeForm(this.formId)}isValid(){return this.formService.isValid(this.formId)}keepSync(){this.subs.push(this.formService.getFormData(this.formId).subscribe(te=>{!Object.is(te,this.formGroup.value)&&this.formGroup&&this.formGroup.setValue(te)}))}onBlur(te){this.blur.emit(te);const Z=te.control,J=te.context&&te.context.index?te.context.index:0;Z.valid?this.formService.removeError(this.formId,te.model.name,J):this.formService.addControlErrors(Z,this.formId,te.model.name,J)}onCustomEvent(te){this.customEvent.emit(te)}onFocus(te){this.formService.setTouched(this.formId,this.formModel,te),this.focus.emit(te)}onChange(te){this.formService.changeForm(this.formId,this.formModel),this.formGroup.markAsPristine(),this.emitChange&&this.change.emit(te),te.control.valid&&this.formService.removeError(this.formId,te.model.id,te.context&&te.context.index?te.context.index:0)}onSubmit(){this.getFormGroupValidStatus()?this.submitForm.emit(this.formService.getFormData(this.formId)):this.formService.validateAllFormFields(this.formGroup)}reset(){this.formGroup.reset(),this.cancel.emit()}isItemReadOnly(te,Z){return te.groups[Z].group[0].readOnly}removeItem(te,Z,J){const Q=this.formGroup.get(this.formBuilderService.getPath(Z)),ee=this.getEvent(te,Z,J,"remove");this.formBuilderService.isQualdropGroup(ee.model)&&this.removeArrayItem.emit(ee),this.formBuilderService.removeFormArrayGroup(J,Q,Z),this.formService.changeForm(this.formId,this.formModel),this.formBuilderService.isQualdropGroup(ee.model)||this.removeArrayItem.emit(ee)}insertItem(te,Z,J){const Q=this.formGroup.get(this.formBuilderService.getPath(Z));this.formBuilderService.insertFormArrayGroup(J,Q,Z),this.addArrayItem.emit(this.getEvent(te,Z,J,"add")),this.formService.changeForm(this.formId,this.formModel)}isVirtual(te,Z){const Q=te.groups[Z].group[0].metadataValue;return(0,I.hj)(Q)&&Q.isVirtual}getEvent(te,Z,J,Q){const ee=Z.groups[J],le=ee.context;let ne=this.formGroup.get(le.id);if((0,I.kZ)(ne))for(const ce of Object.keys(this.formGroup.controls))if(ne=this.formGroup.controls[ce].get(le.id),(0,I.Pe)(ne))break;return{$event:te,context:ee,control:ne.controls[J],group:ne,model:ee.group[0],type:Q}}static{this.\u0275fac=function(Z){return new(Z||q)(t.rXU(x.u),t.rXU(t.gRc),t.rXU(p.j))}}static{this.\u0275cmp=t.VBU({type:q,selectors:[["ds-form"]],inputs:{displaySubmit:"displaySubmit",displayCancel:"displayCancel",emitChange:"emitChange",formId:"formId",submitLabel:"submitLabel",cancelLabel:"cancelLabel",formModel:"formModel",parentFormModel:"parentFormModel",formGroup:"formGroup",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent",addArrayItem:"addArrayItem",removeArrayItem:"removeArrayItem",cancel:"cancel",submitForm:"submitForm"},exportAs:["formComponent"],standalone:!0,features:[t.aNF],ngContentSelectors:w,decls:7,vars:7,consts:[[1,"container-fluid"],[1,"form-horizontal",3,"formGroup"],[3,"change","dfBlur","dfChange","dfFocus","ngbEvent","formId","formGroup","formModel","formLayout"],["modelType","ARRAY"],[4,"ngIf"],["class","col-xs-2 d-flex flex-column justify-content-sm-start align-items-end",4,"ngIf"],["class","clearfix ps-4 w-100",4,"ngIf"],[1,"col-xs-2","d-flex","flex-column","justify-content-sm-start","align-items-end"],["type","button","role","button",1,"btn","btn-secondary",3,"click","title"],["aria-hidden","true",1,"fas","fa-trash"],[1,"clearfix","ps-4","w-100"],["role","group",1,"btn-group"],["type","button","role","button",1,"ds-form-add-more","btn","btn-link",3,"click","title"],[1,"fas","fa-plus"],["role","button",1,"btn-group"],["type","button",1,"btn","btn-secondary",3,"click","title","dsBtnDisabled"],[1,"mb-3","row"],[1,"col","text-end","space-children-mr"],["type","reset","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary",3,"dsBtnDisabled","click",4,"ngIf"],["type","reset",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-times"],["type","submit",1,"btn","btn-primary",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-save"]],template:function(Z,J){1&Z&&(t.NAR(O),t.j41(0,"div",0)(1,"form",1)(2,"ds-dynamic-form",2),t.bIt("change",function(ee){return ee.stopPropagation()})("dfBlur",function(ee){return J.onBlur(ee)})("dfChange",function(ee){return J.onChange(ee)})("dfFocus",function(ee){return J.onFocus(ee)})("ngbEvent",function(ee){return J.onCustomEvent(ee)}),t.DNE(3,k,3,3,"ng-template",3),t.k0s(),t.SdG(4),t.DNE(5,W,1,0,"ng-content",4)(6,Y,9,2,"div",4),t.k0s()()),2&Z&&(t.R7$(),t.Y8G("formGroup",J.formGroup),t.R7$(),t.Y8G("formId",J.formId)("formGroup",J.formGroup)("formModel",J.formModel)("formLayout",J.formLayout),t.R7$(3),t.Y8G("ngIf",!J.displaySubmit&&!J.displayCancel),t.R7$(),t.Y8G("ngIf",J.displaySubmit||J.displayCancel))},dependencies:[A,u.X1,u.qT,u.cb,u.j4,h.h,h.D9,e.EET,e.vJF,i.bT,i.Jj,C.A],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}select.form-control[_ngcontent-%COMP%]{appearance:auto}.col-sm-6[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}"]})}}return q})()},54002:(F,D,n)=>{"use strict";n.d(D,{u:()=>p});var i=n(89417),t=n(1473),u=n(25499),e=n(59519),h=n.n(e),m=n(5964),f=n(96354),v=n(23294),E=n(88280),_=n(82777),C=n(33126),I=n(32710);const R=x=>x.forms;function T(x){return(0,u.Mz)(R,O=>O[x])}var A=n(54438);let p=(()=>{class x{constructor(w,M){this.formBuilderService=w,this.store=M}isValid(w){return this.store.pipe((0,u.Lt)(T(w)),(0,m.p)(M=>(0,_.EA)(M)),(0,f.T)(M=>M.valid),(0,v.F)())}getFormData(w){return this.store.pipe((0,u.Lt)(T(w)),(0,m.p)(M=>(0,_.EA)(M)),(0,f.T)(M=>M.data),(0,v.F)())}getFormTouchedState(w){return this.store.pipe((0,u.Lt)(T(w)),(0,m.p)(M=>(0,_.EA)(M)),(0,f.T)(M=>M.touched),(0,v.F)())}getFormErrors(w){return this.store.pipe((0,u.Lt)(T(w)),(0,m.p)(M=>(0,_.EA)(M)),(0,f.T)(M=>M.errors),(0,v.F)())}isFormInitialized(w){return this.store.pipe((0,u.Lt)(T(w)),(0,v.F)(),(0,f.T)(M=>(0,_.EA)(M)))}getUniqueId(w){return h()()+"_"+w}validateAllFormFields(w){Object.keys(w.controls).forEach(M=>{const L=w.get(M);L instanceof i.hs?(L.markAsTouched({onlySelf:!0}),L.markAsDirty({onlySelf:!0})):(L instanceof i.J3||L instanceof i.Bm)&&this.validateAllFormFields(L)})}hasValidationErrors(w){let M=!1;const L=Object.keys(w.controls);for(const B of L){const k=w.get(B);if(k instanceof i.hs?M=!k.valid&&k.touched:(k instanceof i.J3||k instanceof i.Bm)&&(M=this.hasValidationErrors(k)),M)break}return M}addControlErrors(w,M,L,B){null!==w.errors&&Object.keys(w.errors).filter(W=>!0===w.errors[W]).map(W=>`error.validation.${W}`).forEach(W=>this.addError(M,L,B,W))}addErrorToField(w,M,L){const B={},k=this.getValidatorNameFromMap(L);let W=L;M.errorMessages||(M.errorMessages={}),(0,_.Im)(M.errorMessages[k])?M.errorMessages[k]=L:W=M.errorMessages[k],w.hasError(k)||(B[k]=!0,w.setErrors(B)),w instanceof i.J3&&M instanceof t.iO5&&this.formBuilderService.isConcatGroup(M)&&M.group.forEach(U=>{this.addErrorToField(w.controls[U.id],U,L)}),w.markAsTouched()}removeErrorFromField(w,M,L){const B={},k=this.getValidatorNameFromMap(L);w.hasError(k)&&(B[k]=null,w.setErrors(B)),w instanceof i.J3&&M instanceof t.iO5&&this.formBuilderService.isConcatGroup(M)&&M.group.forEach(W=>{this.removeErrorFromField(w.controls[W.id],W,L)}),w.markAsUntouched()}resetForm(w,M,L){this.formBuilderService.clearAllModelsValue(M),w.reset(),this.store.dispatch(new I.V2(L,w.value))}getValidatorNameFromMap(w){if(w.includes(".")){const M=w.split(".");M&&M.length>0&&(w=this.getValidatorNameFromMap(M[M.length-1]))}return E.c.form.validatorMap.hasOwnProperty(w)?E.c.form.validatorMap[w]:w}initForm(w,M,L){this.store.dispatch(new I.bS(w,this.formBuilderService.getValueFromModel(M),L))}setStatusChanged(w,M){this.store.dispatch(new I.PW(w,M))}getForm(w){return this.store.pipe((0,u.Lt)(T(w)))}removeForm(w){this.store.dispatch(new I.Dn(w))}changeForm(w,M){this.store.dispatch(new I.V2(w,this.formBuilderService.getValueFromModel(M)))}setTouched(w,M,L){const B=this.formBuilderService.getMetadataIdsFromEvent(L);this.store.dispatch(new I.SD(w,B))}addError(w,M,L,B){const k=M.replace(/\./g,"_");this.store.dispatch(new I.yo(w,k,L,B))}removeError(w,M,L){const B=M.replace(/\./g,"_");this.store.dispatch(new I.Tr(w,B,L))}static{this.\u0275fac=function(M){return new(M||x)(A.KVO(C.j),A.KVO(u.il))}}static{this.\u0275prov=A.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})()},38443:(F,D,n)=>{"use strict";n.d(D,{_:()=>h});var i=n(54438),t=n(41780),u=n(81262),e=n(58003);let h=(()=>{class m{constructor(v,E){this.activeModal=v,this.translate=E,this.preloadLevel=2,this.selectedItems=[],this.multiSelect=!1,this.showAdd=!0,this.select=new i.bkB(null)}ngOnInit(){this.setDescription()}onSelect(v){this.select.emit(v),this.activeModal.close(v)}setDescription(){this.description=this.translate.instant("vocabulary-treeview.tree.description."+this.vocabularyOptions.name)}static{this.\u0275fac=function(E){return new(E||m)(i.rXU(e.Lw),i.rXU(t.c$))}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["ds-vocabulary-treeview-modal"]],inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",selectedItems:"selectedItems",multiSelect:"multiSelect",showAdd:"showAdd"},outputs:{select:"select"},standalone:!0,features:[i.aNF],decls:8,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"p-3"],[3,"select","vocabularyOptions","description","preloadLevel","selectedItems","multiSelect","showAdd"]],template:function(E,_){1&E&&(i.j41(0,"div",0)(1,"h4",1),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.j41(4,"button",2),i.bIt("click",function(){return _.activeModal.dismiss("Cross click")}),i.k0s()(),i.j41(5,"div",3)(6,"div",4)(7,"ds-vocabulary-treeview",5),i.bIt("select",function(I){return _.onSelect(I)}),i.k0s()()()),2&E&&(i.R7$(2),i.JRh(i.bMT(3,7,"vocabulary-treeview.header")),i.R7$(5),i.Y8G("vocabularyOptions",_.vocabularyOptions)("description",_.description)("preloadLevel",_.preloadLevel)("selectedItems",_.selectedItems)("multiSelect",_.multiSelect)("showAdd",_.showAdd))},dependencies:[u.P,t.h,t.D9]})}}return m})()},81262:(F,D,n)=>{"use strict";n.d(D,{P:()=>Qe});var i=n(30017),t=n(74402),u=n(7673),e=n(21413),h=n(54438);class m{}class R{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(ke=!1,Le,dt=!0,St){this._multiple=ke,this._emitChanges=dt,this.compareWith=St,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new e.B,Le&&Le.length&&(ke?Le.forEach(ln=>this._markSelected(ln)):this._markSelected(Le[0]),this._selectedToEmit.length=0)}select(...ke){this._verifyValueAssignment(ke),ke.forEach(dt=>this._markSelected(dt));const Le=this._hasQueuedChanges();return this._emitChangeEvent(),Le}deselect(...ke){this._verifyValueAssignment(ke),ke.forEach(dt=>this._unmarkSelected(dt));const Le=this._hasQueuedChanges();return this._emitChangeEvent(),Le}setSelection(...ke){this._verifyValueAssignment(ke);const Le=this.selected,dt=new Set(ke);ke.forEach(ln=>this._markSelected(ln)),Le.filter(ln=>!dt.has(this._getConcreteValue(ln,dt))).forEach(ln=>this._unmarkSelected(ln));const St=this._hasQueuedChanges();return this._emitChangeEvent(),St}toggle(ke){return this.isSelected(ke)?this.deselect(ke):this.select(ke)}clear(ke=!0){this._unmarkAll();const Le=this._hasQueuedChanges();return ke&&this._emitChangeEvent(),Le}isSelected(ke){return this._selection.has(this._getConcreteValue(ke))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(ke){this._multiple&&this.selected&&this._selected.sort(ke)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(ke){ke=this._getConcreteValue(ke),this.isSelected(ke)||(this._multiple||this._unmarkAll(),this.isSelected(ke)||this._selection.add(ke),this._emitChanges&&this._selectedToEmit.push(ke))}_unmarkSelected(ke){ke=this._getConcreteValue(ke),this.isSelected(ke)&&(this._selection.delete(ke),this._emitChanges&&this._deselectedToEmit.push(ke))}_unmarkAll(){this.isEmpty()||this._selection.forEach(ke=>this._unmarkSelected(ke))}_verifyValueAssignment(ke){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(ke,Le){if(this.compareWith){Le=Le??this._selection;for(let dt of Le)if(this.compareWith(ke,dt))return dt;return ke}return ke}}var p=n(84412),x=n(96697),w=(n(5964),n(56977)),M=n(28203);class L{constructor(){this.expansionModel=new R(!0)}toggle(ke){this.expansionModel.toggle(this._trackByValue(ke))}expand(ke){this.expansionModel.select(this._trackByValue(ke))}collapse(ke){this.expansionModel.deselect(this._trackByValue(ke))}isExpanded(ke){return this.expansionModel.isSelected(this._trackByValue(ke))}toggleDescendants(ke){this.expansionModel.isSelected(this._trackByValue(ke))?this.collapseDescendants(ke):this.expandDescendants(ke)}collapseAll(){this.expansionModel.clear()}expandDescendants(ke){let Le=[ke];Le.push(...this.getDescendants(ke)),this.expansionModel.select(...Le.map(dt=>this._trackByValue(dt)))}collapseDescendants(ke){let Le=[ke];Le.push(...this.getDescendants(ke)),this.expansionModel.deselect(...Le.map(dt=>this._trackByValue(dt)))}_trackByValue(ke){return this.trackBy?this.trackBy(ke):ke}}class B extends L{constructor(ke,Le,dt){super(),this.getLevel=ke,this.isExpandable=Le,this.options=dt,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(ke){const dt=[];for(let St=this.dataNodes.indexOf(ke)+1;St<this.dataNodes.length&&this.getLevel(ke)<this.getLevel(this.dataNodes[St]);St++)dt.push(this.dataNodes[St]);return dt}expandAll(){this.expansionModel.select(...this.dataNodes.map(ke=>this._trackByValue(ke)))}}const W=new h.nKC("CDK_TREE_NODE_OUTLET_NODE");let U=(()=>{class st{constructor(Le,dt){this.viewContainer=Le,this._node=dt}static{this.\u0275fac=function(dt){return new(dt||st)(h.rXU(h.c1b),h.rXU(W,8))}}static{this.\u0275dir=h.FsC({type:st,selectors:[["","cdkTreeNodeOutlet",""]],standalone:!0})}}return st})();class K{constructor(ke){this.$implicit=ke}}let Y=(()=>{class st{constructor(Le){this.template=Le}static{this.\u0275fac=function(dt){return new(dt||st)(h.rXU(h.C4Q))}}static{this.\u0275dir=h.FsC({type:st,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[h.Mj6.None,"cdkTreeNodeDefWhen","when"]},standalone:!0})}}return st})(),J=(()=>{class st{get dataSource(){return this._dataSource}set dataSource(Le){this._dataSource!==Le&&this._switchDataSource(Le)}constructor(Le,dt){this._differs=Le,this._changeDetectorRef=dt,this._onDestroy=new e.B,this._levels=new Map,this.viewChange=new p.t({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const Le=this._nodeDefs.filter(dt=>!dt.when);this._defaultNodeDef=Le[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(Le){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),Le||this._nodeOutlet.viewContainer.clear(),this._dataSource=Le,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let Le;!function f(st){return st&&"function"==typeof st.connect&&!(st instanceof i.G)}(this._dataSource)?(0,t.A)(this._dataSource)?Le=this._dataSource:Array.isArray(this._dataSource)&&(Le=(0,u.of)(this._dataSource)):Le=this._dataSource.connect(this),Le&&(this._dataSubscription=Le.pipe((0,w.Q)(this._onDestroy)).subscribe(dt=>this.renderNodeChanges(dt)))}renderNodeChanges(Le,dt=this._dataDiffer,St=this._nodeOutlet.viewContainer,ln){const Tn=dt.diff(Le);Tn&&(Tn.forEachOperation((Bn,Zn,wn)=>{if(null==Bn.previousIndex)this.insertNode(Le[wn],wn,St,ln);else if(null==wn)St.remove(Zn),this._levels.delete(Bn.item);else{const ct=St.get(Zn);St.move(ct,wn)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(Le,dt){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(ln=>ln.when&&ln.when(dt,Le))||this._defaultNodeDef}insertNode(Le,dt,St,ln){const Tn=this._getNodeDef(Le,dt),Bn=new K(Le);Bn.level=this.treeControl.getLevel?this.treeControl.getLevel(Le):typeof ln<"u"&&this._levels.has(ln)?this._levels.get(ln)+1:0,this._levels.set(Le,Bn.level),(St||this._nodeOutlet.viewContainer).createEmbeddedView(Tn.template,Bn,dt),Q.mostRecentTreeNode&&(Q.mostRecentTreeNode.data=Le)}static{this.\u0275fac=function(dt){return new(dt||st)(h.rXU(h._q3),h.rXU(h.gRc))}}static{this.\u0275cmp=h.VBU({type:st,selectors:[["cdk-tree"]],contentQueries:function(dt,St,ln){if(1&dt&&h.wni(ln,Y,5),2&dt){let Tn;h.mGM(Tn=h.lsd())&&(St._nodeDefs=Tn)}},viewQuery:function(dt,St){if(1&dt&&h.GBs(U,7),2&dt){let ln;h.mGM(ln=h.lsd())&&(St._nodeOutlet=ln.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],standalone:!0,features:[h.aNF],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(dt,St){1&dt&&h.eu8(0,0)},dependencies:[U],encapsulation:2})}}return st})(),Q=(()=>{class st{get role(){return"treeitem"}set role(Le){this._elementRef.nativeElement.setAttribute("role",Le)}static{this.mostRecentTreeNode=null}get data(){return this._data}set data(Le){Le!==this._data&&(this._data=Le,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(Le,dt){this._elementRef=Le,this._tree=dt,this._destroyed=new e.B,this._dataChanges=new e.B,st.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function ee(st){let ke=st.parentElement;for(;ke&&!le(ke);)ke=ke.parentElement;return ke?ke.classList.contains("cdk-nested-tree-node")?(0,h.Udg)(ke.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){st.mostRecentTreeNode===this&&(st.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}static{this.\u0275fac=function(dt){return new(dt||st)(h.rXU(h.aKT),h.rXU(J))}}static{this.\u0275dir=h.FsC({type:st,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(dt,St){2&dt&&h.BMQ("aria-expanded",St.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"],standalone:!0})}}return st})();function le(st){const ke=st.classList;return!(!ke?.contains("cdk-nested-tree-node")&&!ke?.contains("cdk-tree"))}const fe=/([A-Za-z%]+)$/;let se=(()=>{class st{get level(){return this._level}set level(Le){this._setLevelInput(Le)}get indent(){return this._indent}set indent(Le){this._setIndentInput(Le)}constructor(Le,dt,St,ln){this._treeNode=Le,this._tree=dt,this._element=St,this._dir=ln,this._destroyed=new e.B,this.indentUnits="px",this._indent=40,this._setPadding(),ln&&ln.change.pipe((0,w.Q)(this._destroyed)).subscribe(()=>this._setPadding(!0)),Le._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const Le=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,dt=null==this._level?Le:this._level;return"number"==typeof dt?`${dt*this._indent}${this.indentUnits}`:null}_setPadding(Le=!1){const dt=this._paddingIndent();if(dt!==this._currentPadding||Le){const St=this._element.nativeElement,ln=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",Tn="paddingLeft"===ln?"paddingRight":"paddingLeft";St.style[ln]=dt||"",St.style[Tn]="",this._currentPadding=dt}}_setLevelInput(Le){this._level=isNaN(Le)?null:Le,this._setPadding()}_setIndentInput(Le){let dt=Le,St="px";if("string"==typeof Le){const ln=Le.split(fe);dt=ln[0],St=ln[1]||St}this.indentUnits=St,this._indent=(0,h.Udg)(dt),this._setPadding()}static{this.\u0275fac=function(dt){return new(dt||st)(h.rXU(Q),h.rXU(J),h.rXU(h.aKT),h.rXU(M.dS,8))}}static{this.\u0275dir=h.FsC({type:st,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[h.Mj6.HasDecoratorInputTransform,"cdkTreeNodePadding","level",h.Udg],indent:[h.Mj6.None,"cdkTreeNodePaddingIndent","indent"]},standalone:!0,features:[h.GFd]})}}return st})(),ce=(()=>{class st{constructor(Le,dt){this._tree=Le,this._treeNode=dt,this.recursive=!1}_toggle(Le){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),Le.stopPropagation()}static{this.\u0275fac=function(dt){return new(dt||st)(h.rXU(J),h.rXU(Q))}}static{this.\u0275dir=h.FsC({type:st,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(dt,St){1&dt&&h.bIt("click",function(Tn){return St._toggle(Tn)})},inputs:{recursive:[h.Mj6.HasDecoratorInputTransform,"cdkTreeNodeToggleRecursive","recursive",h.L39]},standalone:!0,features:[h.GFd]})}}return st})(),be=(()=>{class st{static{this.\u0275fac=function(dt){return new(dt||st)}}static{this.\u0275mod=h.$C({type:st})}static{this.\u0275inj=h.G2t({})}}return st})();var me=n(60177),re=n(89417),Ee=n(58003),Te=n(41780),tt=n(32089),ht=n(16292),Fe=n(47978),Et=n(60456),Ye=n(82777),pt=n(82394),Mt=n(57786),Ne=n(96354);class rt extends m{get data(){return this._data.value}set data(ke){this._data.next(ke),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(ke,Le,dt=[]){super(),this._treeControl=ke,this._treeFlattener=Le,this._flattenedData=new p.t([]),this._expandedData=new p.t([]),this._data=new p.t(dt)}connect(ke){return(0,Mt.h)(ke.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,Ne.T)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}class Gt{constructor(ke,Le,dt,St){this.transformFunction=ke,this.getLevel=Le,this.isExpandable=dt,this.getChildren=St}_flattenNode(ke,Le,dt,St){const ln=this.transformFunction(ke,Le);if(dt.push(ln),this.isExpandable(ln)){const Tn=this.getChildren(ke);Tn&&(Array.isArray(Tn)?this._flattenChildren(Tn,Le,dt,St):Tn.pipe((0,x.s)(1)).subscribe(Bn=>{this._flattenChildren(Bn,Le,dt,St)}))}return dt}_flattenChildren(ke,Le,dt,St){ke.forEach((ln,Tn)=>{const Bn=St.slice();Bn.push(Tn!==ke.length-1),this._flattenNode(ln,Le+1,dt,Bn)})}flattenNodes(ke){const Le=[];return ke.forEach(dt=>this._flattenNode(dt,0,Le,[])),Le}expandFlattenedNodes(ke,Le){const dt=[],St=[];return St[0]=!0,ke.forEach(ln=>{let Tn=!0;for(let Bn=0;Bn<=this.getLevel(ln);Bn++)Tn=Tn&&St[Bn];Tn&&dt.push(ln),this.isExpandable(ln)&&(St[this.getLevel(ln)+1]=Le.isExpanded(ln))}),dt}}var Zt=n(48376),mt=n.n(Zt),Pt=n(71985),Ce=n(73028),je=n(31943),ut=n(79335),hn=n(80183),an=n(19506);const Pn="LOAD_MORE",yt="LOAD_MORE_ROOT",Kt={id:Pn},Rt={id:yt};class nn{get children(){return this.childrenChange.value}constructor(ke,Le=!1,dt=new tt.Q,St=null,ln=!1,Tn=!1,Bn=!1){this.item=ke,this.hasChildren=Le,this.pageInfo=dt,this.loadMoreParentItem=St,this.isSearchNode=ln,this.isInInitValueHierarchy=Tn,this.isSelected=Bn,this.childrenChange=new p.t([])}updatePageInfo(ke){this.pageInfo=ke}}class gn{constructor(ke,Le=1,dt=!1,St=!1,ln=new tt.Q,Tn=null,Bn=!1,Zn=!1,wn=!1){this.item=ke,this.level=Le,this.expandable=dt,this.childrenLoaded=St,this.pageInfo=ln,this.loadMoreParentItem=Tn,this.isSearchNode=Bn,this.isInInitValueHierarchy=Zn,this.isSelected=wn}}let It=(()=>{class st{constructor(Le){this.vocabularyService=Le,this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.vocabularyName="",this.dataChange=new p.t([]),this.initValueHierarchy=[],this.loading=new p.t(!1),this.hideSearchingWhenUnsubscribed$=new Pt.c(()=>()=>this.loading.next(!1))}cleanTree(){this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.initValueHierarchy=[],this.dataChange.next([])}initialize(Le,dt,St,ln){this.loading.next(!0),this.vocabularyOptions=Le,this.vocabularyName=Le.name,this.pageInfo=dt,(0,Ye.hj)(ln)?this.getNodeHierarchyById(ln,St).subscribe(Tn=>{this.initValueHierarchy=Tn,this.retrieveTopNodes(dt,[],St)}):this.retrieveTopNodes(dt,[],St)}getData(){return this.dataChange}loadMoreRoot(Le,dt){const St=this.dataChange.value;St.pop(),this.retrieveTopNodes(Le.pageInfo,St,dt)}loadMore(Le,dt,St=!1){if(!this.nodeMap.has(Le.otherInformation.id))return;const ln=this.nodeMap.get(Le.otherInformation.id),Tn=this.nodeMap.get(Le.otherInformation.id).children||[];Tn.pop(),this.getChildrenNodesByParent(Le.otherInformation.id,ln.pageInfo).subscribe(Bn=>{if(St&&ln.children.length>0)return;const Zn=Bn.page.map(wn=>this._generateNode(wn,dt));if(Tn.push(...Zn),Bn.pageInfo.currentPage+1<=Bn.pageInfo.totalPages){const wn=Object.assign(new tt.Q,Bn.pageInfo,{currentPage:Bn.pageInfo.currentPage+1});ln.updatePageInfo(wn),Tn.push(new nn(Kt,!1,wn,Le))}ln.childrenChange.next(Tn),this.dataChange.next(this.dataChange.value)})}isLoading(){return this.loading}searchByQuery(Le,dt){this.loading.next(!0),(0,Ye.Im)(this.storedNodes)&&(this.storedNodes=this.dataChange.value,this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.dataChange.next([]),this.vocabularyService.getVocabularyEntriesByValue(Le,!1,this.vocabularyOptions,new tt.Q).pipe((0,hn.Ar)(),(0,Ce.Z)(St=>St.length>0?St:(0,u.of)(null)),(0,Ce.Z)(St=>this.vocabularyService.findEntryDetailById(St.otherInformation.id,this.vocabularyName).pipe((0,hn.ak)())),(0,Ce.Z)(St=>this.getNodeHierarchy(St,dt)),(0,je.S)((St,ln)=>(0,Ye.Im)(ln)||-1!==mt()(St,Tn=>Tn.item.otherInformation.id===ln.item.otherInformation.id)?St:[...St,ln],[]),(0,ut.h)(this.hideSearchingWhenUnsubscribed$)).subscribe(St=>{this.dataChange.next(St),this.loading.next(!1)})}restoreNodes(){this.loading.next(!1),this.dataChange.next(this.storedNodes),this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.storedNodes=[]}_generateNode(Le,dt,St=!1,ln=!0){const Tn=Le.otherInformation.id;if(this.nodeMap.has(Tn))return this.nodeMap.get(Tn);const Bn=Le.hasOtherInformation()&&"true"===Le.otherInformation.hasChildren,Zn=this.pageInfo,wn=this.initValueHierarchy.includes(Tn),ct=dt.some(()=>dt.includes(Tn)),vt=new nn(Le,Bn,Zn,null,St,wn,ct);return ln&&this.nodeMap.set(Tn,vt),vt}getNodeHierarchyById(Le,dt){return this.getById(Le).pipe((0,Ce.Z)(St=>this.getNodeHierarchy(St,dt,[],!1)),(0,Ne.T)(St=>this.getNodeHierarchyIds(St,dt)))}getChildrenNodesByParent(Le,dt){return this.vocabularyService.getEntryDetailChildren(Le,this.vocabularyName,dt).pipe((0,hn.ak)())}getParentNode(Le){return this.vocabularyService.getEntryDetailParent(Le,this.vocabularyName).pipe((0,hn.ak)())}getById(Le){return this.vocabularyService.findEntryDetailById(Le,this.vocabularyName).pipe((0,hn.ak)())}retrieveTopNodes(Le,dt,St){this.vocabularyService.searchTopEntries(this.vocabularyName,Le).pipe((0,hn.ak)()).subscribe(ln=>{this.vocabularyService.clearSearchTopRequests();const Tn=ln.page.map(Bn=>this._generateNode(Bn,St));if(dt.push(...Tn),ln.pageInfo.currentPage+1<=ln.pageInfo.totalPages){const Bn=Object.assign(new tt.Q,ln.pageInfo,{currentPage:ln.pageInfo.currentPage+1}),Zn=new nn(Rt,!1,Bn);Zn.updatePageInfo(Bn),dt.push(Zn)}this.loading.next(!1),this.dataChange.next(dt)})}getNodeHierarchy(Le,dt,St,ln=!0){if((0,Ye.Im)(Le))return(0,u.of)(null);const Tn=this._generateNode(Le,dt,ln,ln);if((0,Ye.hj)(St)){const Bn=St.filter(Zn=>-1===mt()(Tn.children,wn=>wn.item.otherInformation.id===Zn.item.otherInformation.id));Bn.forEach(Zn=>{Zn.loadMoreParentItem=Tn.item}),Tn.children.push(...Bn)}return Tn.item.hasOtherInformation()&&(0,Ye.hj)(Tn.item.otherInformation.parent)?this.getParentNode(Tn.item.otherInformation.id).pipe((0,Ce.Z)(Bn=>this.getNodeHierarchy(Bn,dt,[Tn],ln))):(0,u.of)(Tn)}getNodeHierarchyIds(Le,dt,St=[]){return St.includes(Le.item.otherInformation.id)||St.push(Le.item.otherInformation.id),(0,Ye.hj)(Le.children)?this.getNodeHierarchyIds(Le.children[0],dt,St):St}static{this.\u0275fac=function(dt){return new(dt||st)(h.KVO(an.g))}}static{this.\u0275prov=h.jDH({token:st,factory:st.\u0275fac,providedIn:"root"})}}return st})();const zt=["searchInput"];function Yt(st,ke){if(1&st&&h.nrm(0,"ds-alert",19),2&st){const Le=h.XpG();h.Y8G("content",Le.description)("type",Le.AlertType.Info)}}function wt(st,ke){if(1&st){const Le=h.RV6();h.j41(0,"button",20),h.nI1(1,"translate"),h.bIt("click",function(){h.eBV(Le);const St=h.XpG();return h.Njj(St.add())}),h.EFF(2),h.nI1(3,"translate"),h.k0s()}2&st&&(h.BMQ("aria-label",h.bMT(1,2,"vocabulary-treeview.search.form.add")),h.R7$(2),h.SpI(" ",h.bMT(3,4,"vocabulary-treeview.search.form.add")," "))}function bt(st,ke){1&st&&h.nrm(0,"ds-loading",21),2&st&&h.Y8G("showMessage",!1)}function Jt(st,ke){1&st&&(h.j41(0,"h2",22)(1,"span"),h.EFF(2),h.nI1(3,"translate"),h.k0s()()),2&st&&(h.R7$(2),h.JRh(h.bMT(3,1,"vocabulary-treeview.search.no-result")))}function Dt(st,ke){if(1&st){const Le=h.RV6();h.j41(0,"label",28)(1,"input",29),h.mxI("ngModelChange",function(St){h.eBV(Le);const ln=h.XpG().$implicit;return h.DH7(ln.isSelected,St)||(ln.isSelected=St),h.Njj(St)}),h.bIt("change",function(){h.eBV(Le);const St=h.XpG().$implicit,ln=h.XpG();return h.Njj(ln.onSelect(St.item))}),h.k0s(),h.j41(2,"span"),h.EFF(3),h.k0s()()}if(2&st){const Le=h.XpG().$implicit;h.AVh("text-success",Le.isSelected),h.Y8G("ngbTooltip",null==Le.item||null==Le.item.otherInformation?null:Le.item.otherInformation.note)("openDelay",500),h.R7$(),h.Y8G("disabled",!(null!=Le.item&&Le.item.selectable)),h.R50("ngModel",Le.isSelected),h.Y8G("checked",Le.isSelected),h.R7$(2),h.JRh(Le.item.display)}}function Ft(st,ke){if(1&st){const Le=h.RV6();h.j41(0,"button",30),h.bIt("click",function(){h.eBV(Le);const St=h.XpG().$implicit,ln=h.XpG();return h.Njj(ln.onSelect(St.item))}),h.j41(1,"span"),h.EFF(2),h.k0s()()}if(2&st){const Le=h.XpG().$implicit;h.AVh("text-success",Le.isSelected),h.Y8G("dsBtnDisabled",!(null!=Le.item&&Le.item.selectable))("ngbTooltip",null==Le.item||null==Le.item.otherInformation?null:Le.item.otherInformation.note)("openDelay",500),h.R7$(2),h.JRh(Le.item.display)}}function ot(st,ke){if(1&st&&(h.j41(0,"cdk-tree-node",23)(1,"span",24),h.nrm(2,"i",25),h.k0s(),h.DNE(3,Dt,4,8,"label",26)(4,Ft,3,6,"button",27),h.k0s()),2&st){const Le=h.XpG();h.R7$(3),h.Y8G("ngIf",Le.multiSelect),h.R7$(),h.Y8G("ngIf",!Le.multiSelect)}}function xe(st,ke){if(1&st){const Le=h.RV6();h.j41(0,"label",28)(1,"input",29),h.mxI("ngModelChange",function(St){h.eBV(Le);const ln=h.XpG().$implicit;return h.DH7(ln.isSelected,St)||(ln.isSelected=St),h.Njj(St)}),h.bIt("change",function(){h.eBV(Le);const St=h.XpG().$implicit,ln=h.XpG();return h.Njj(ln.onSelect(St.item))}),h.k0s(),h.j41(2,"span"),h.EFF(3),h.k0s()()}if(2&st){const Le=h.XpG().$implicit;h.AVh("text-success",Le.isSelected),h.Y8G("ngbTooltip",null==Le.item||null==Le.item.otherInformation?null:Le.item.otherInformation.note)("openDelay",500),h.R7$(),h.Y8G("disabled",!(null!=Le.item&&Le.item.selectable)),h.R50("ngModel",Le.isSelected),h.Y8G("checked",Le.isSelected),h.R7$(2),h.JRh(Le.item.display)}}function Ve(st,ke){if(1&st){const Le=h.RV6();h.j41(0,"button",30),h.bIt("click",function(){h.eBV(Le);const St=h.XpG().$implicit,ln=h.XpG();return h.Njj(ln.onSelect(St.item))}),h.j41(1,"span"),h.EFF(2),h.k0s()()}if(2&st){const Le=h.XpG().$implicit;h.AVh("text-success",Le.isSelected),h.Y8G("dsBtnDisabled",!(null!=Le.item&&Le.item.selectable))("ngbTooltip",null==Le.item||null==Le.item.otherInformation?null:Le.item.otherInformation.note)("openDelay",500),h.R7$(2),h.JRh(Le.item.display)}}function Ke(st,ke){if(1&st){const Le=h.RV6();h.j41(0,"cdk-tree-node",23)(1,"button",31),h.bIt("click",function(){const St=h.eBV(Le).$implicit,ln=h.XpG();return h.Njj(ln.loadChildren(St))}),h.nrm(2,"i"),h.k0s(),h.DNE(3,xe,4,8,"label",26)(4,Ve,3,6,"button",27),h.k0s()}if(2&st){const Le=ke.$implicit,dt=h.XpG();h.R7$(),h.BMQ("aria-label","toggle "+Le.name),h.R7$(),h.ZvI("fas fa-fw ",dt.treeControl.isExpanded(Le)?"fa-angle-down":"fa-angle-right",""),h.R7$(),h.Y8G("ngIf",dt.multiSelect),h.R7$(),h.Y8G("ngIf",!dt.multiSelect)}}function Be(st,ke){if(1&st){const Le=h.RV6();h.j41(0,"cdk-tree-node",32)(1,"button",33),h.nI1(2,"translate"),h.bIt("click",function(){const St=h.eBV(Le).$implicit,ln=h.XpG();return h.Njj(ln.loadMore(St.loadMoreParentItem))}),h.EFF(3),h.nI1(4,"translate"),h.k0s()()}2&st&&(h.R7$(),h.BMQ("aria-label",h.bMT(2,2,"vocabulary-treeview.load-more")),h.R7$(2),h.SpI(" ",h.bMT(4,4,"vocabulary-treeview.load-more"),"... "))}function At(st,ke){if(1&st){const Le=h.RV6();h.j41(0,"cdk-tree-node")(1,"button",33),h.nI1(2,"translate"),h.bIt("click",function(){const St=h.eBV(Le).$implicit,ln=h.XpG();return h.Njj(ln.loadMoreRoot(St))}),h.EFF(3),h.nI1(4,"translate"),h.k0s()()}2&st&&(h.R7$(),h.BMQ("aria-label",h.bMT(2,2,"vocabulary-treeview.load-more")),h.R7$(2),h.SpI(" ",h.bMT(4,4,"vocabulary-treeview.load-more"),"... "))}let Qe=(()=>{class st{constructor(Le){this.vocabularyTreeviewService=Le,this.preloadLevel=2,this.description="",this.multiSelect=!1,this.showAdd=!0,this.selectedItems=[],this.nodeMap=new Map,this.storedNodeMap=new Map,this.select=new h.bkB(null),this.deselect=new h.bkB(null),this.subs=[],this.AlertType=Fe.v,this.getChildren=dt=>dt.childrenChange,this.transformer=(dt,St)=>{const ln=this.getEntryId(dt.item),Tn=this.nodeMap.get(ln);if(Tn&&Tn.item.id!==Pn&&Tn.item.id!==yt)return Tn;const Bn=new gn(dt.item,St,dt.hasChildren,dt.hasChildren&&(0,Ye.hj)(dt.children),dt.pageInfo,dt.loadMoreParentItem,dt.isSearchNode,dt.isInInitValueHierarchy,dt.isSelected);return this.nodeMap.set(ln,Bn),(St+1<this.preloadLevel&&Bn.childrenLoaded||Bn.isSearchNode&&Bn.childrenLoaded||Bn.isInInitValueHierarchy)&&(Bn.isSearchNode||this.loadChildren(Bn),this.treeControl.expand(Bn)),Bn},this.getLevel=dt=>dt.level,this.isExpandable=dt=>dt.expandable,this.hasChildren=(dt,St)=>St.expandable,this.isLoadMore=(dt,St)=>St.item.id===Pn,this.isLoadMoreRoot=(dt,St)=>St.item.id===yt,this.treeFlattener=new Gt(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new B(this.getLevel,this.isExpandable),this.dataSource=new rt(this.treeControl,this.treeFlattener)}ngOnInit(){this.subs.push(this.vocabularyTreeviewService.getData().subscribe(dt=>{this.dataSource.data=dt})),this.loading=this.vocabularyTreeviewService.isLoading();const Le=this.selectedItems?.length>0?this.getEntryId(this.selectedItems[0]):null;this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new tt.Q,this.getSelectedEntryIds(),Le)}loadMore(Le){this.vocabularyTreeviewService.loadMore(Le,this.getSelectedEntryIds())}loadMoreRoot(Le){this.vocabularyTreeviewService.loadMoreRoot(Le,this.getSelectedEntryIds())}loadChildren(Le){this.vocabularyTreeviewService.loadMore(Le.item,this.getSelectedEntryIds(),!0)}onSelect(Le){this.getSelectedEntryIds().includes(this.getEntryId(Le))?(this.selectedItems=this.selectedItems.filter(dt=>this.getEntryId(dt)!==this.getEntryId(Le)),this.deselect.emit(Le)):(this.selectedItems.push(Le),this.select.emit(Le))}search(){(0,Ye.hj)(this.searchText)&&((0,Ye.Im)(this.storedNodeMap)&&(this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.vocabularyTreeviewService.searchByQuery(this.searchText,this.getSelectedEntryIds()))}isSearchEnabled(){return(0,Ye.hj)(this.searchText)}reset(){this.searchText="";for(const Le of this.selectedItems)this.deselect.emit(Le),this.nodeMap.get(this.getEntryId(Le)).isSelected=!1;this.selectedItems=[],(0,Ye.hj)(this.storedNodeMap)&&(this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.vocabularyTreeviewService.restoreNodes()),this.searchInput&&this.searchInput.nativeElement.focus()}add(){this.select.emit({value:this.searchText,display:this.searchText})}ngOnDestroy(){this.vocabularyTreeviewService.cleanTree(),this.subs.filter(Le=>(0,Ye.a4)(Le)).forEach(Le=>Le.unsubscribe())}getEntryId(Le){return Le?.authority||Le?.otherInformation?.id||Le?.id||void 0}getSelectedEntryIds(){return this.selectedItems.map(Le=>this.getEntryId(Le)).filter(Le=>(0,Ye.hj)(Le))}ngOnChanges(Le){!Le.vocabularyOptions.isFirstChange()&&Le.vocabularyOptions.currentValue!==Le.vocabularyOptions.previousValue&&(this.selectedItems=[],this.searchText="",this.vocabularyTreeviewService.cleanTree(),this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new tt.Q,this.getSelectedEntryIds(),null))}static{this.\u0275fac=function(dt){return new(dt||st)(h.rXU(It))}}static{this.\u0275cmp=h.VBU({type:st,selectors:[["ds-vocabulary-treeview"]],viewQuery:function(dt,St){if(1&dt&&h.GBs(zt,5),2&dt){let ln;h.mGM(ln=h.lsd())&&(St.searchInput=ln.first)}},inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",description:"description",multiSelect:"multiSelect",showAdd:"showAdd",selectedItems:"selectedItems"},outputs:{select:"select",deselect:"deselect"},standalone:!0,features:[h.OA$,h.aNF],decls:33,vars:40,consts:[["searchInput",""],[3,"content","type",4,"ngIf"],[1,"treeview-header","row","mb-1"],[1,"col-12"],[1,"input-group"],["type","text",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","placeholder"],["id","button-addon4",1,"input-group-append"],["type","button",1,"btn","btn-outline-primary",3,"click","dsBtnDisabled"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["class","btn btn-outline-primary","type","button",3,"click",4,"ngIf"],[1,"treeview-container"],[3,"showMessage",4,"ngIf"],["aria-live","polite"],["class","h4 text-center text-muted mt-4",4,"ngIf"],[3,"dataSource","treeControl"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["cdkTreeNodePadding","",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[3,"content","type"],["type","button",1,"btn","btn-outline-primary",3,"click"],[3,"showMessage"],[1,"h4","text-center","text-muted","mt-4"],["cdkTreeNodePadding","",1,"d-flex"],["aria-hidden","true","type","button","cdkTreeNodeToggle","",1,"btn","btn-default","px-2","me-1","btn-transparent"],[1,"fas","fa-fw","fa-angle-right","invisible"],["class","form-label d-flex align-items-center m-0 p-0 form-check","container","body",3,"text-success","ngbTooltip","openDelay",4,"ngIf"],["class","btn btn-outline-link btn-sm text-start","container","body",3,"text-success","dsBtnDisabled","ngbTooltip","openDelay","click",4,"ngIf"],["container","body",1,"form-label","d-flex","align-items-center","m-0","p-0","form-check",3,"ngbTooltip","openDelay"],["type","checkbox",1,"me-2",3,"ngModelChange","change","disabled","ngModel","checked"],["container","body",1,"btn","btn-outline-link","btn-sm","text-start",3,"click","dsBtnDisabled","ngbTooltip","openDelay"],["type","button","cdkTreeNodeToggle","",1,"btn","btn-default","px-2","me-1","btn-transparent",3,"click"],["cdkTreeNodePadding",""],[1,"btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(dt,St){if(1&dt){const ln=h.RV6();h.DNE(0,Yt,1,2,"ds-alert",1),h.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5,0),h.nI1(6,"translate"),h.nI1(7,"translate"),h.mxI("ngModelChange",function(Bn){return h.eBV(ln),h.DH7(St.searchText,Bn)||(St.searchText=Bn),h.Njj(Bn)}),h.bIt("keyup.enter",function(){return h.eBV(ln),h.Njj(St.search())}),h.k0s(),h.j41(8,"div",6)(9,"button",7),h.nI1(10,"translate"),h.bIt("click",function(){return h.eBV(ln),h.Njj(St.search())}),h.EFF(11),h.nI1(12,"translate"),h.k0s(),h.j41(13,"button",8),h.nI1(14,"translate"),h.bIt("click",function(){return h.eBV(ln),h.Njj(St.reset())}),h.EFF(15),h.nI1(16,"translate"),h.k0s(),h.DNE(17,wt,4,6,"button",9),h.j41(18,"button",7),h.nI1(19,"translate"),h.bIt("click",function(){return h.eBV(ln),h.Njj(St.add())}),h.EFF(20),h.nI1(21,"translate"),h.k0s()()()()(),h.j41(22,"div",10),h.DNE(23,bt,1,1,"ds-loading",11),h.nI1(24,"async"),h.j41(25,"div",12),h.DNE(26,Jt,4,3,"h2",13),h.nI1(27,"async"),h.k0s(),h.j41(28,"cdk-tree",14),h.DNE(29,ot,5,2,"cdk-tree-node",15)(30,Ke,5,6,"cdk-tree-node",16)(31,Be,5,6,"cdk-tree-node",17)(32,At,5,6,"cdk-tree-node",18),h.k0s()()}2&dt&&(h.Y8G("ngIf",St.description),h.R7$(4),h.R50("ngModel",St.searchText),h.Y8G("placeholder",h.bMT(6,20,"vocabulary-treeview.search.form.search-placeholder")),h.BMQ("aria-label",h.bMT(7,22,"vocabulary-treeview.search.form.search-placeholder")),h.R7$(5),h.Y8G("dsBtnDisabled",!St.isSearchEnabled()),h.BMQ("aria-label",h.bMT(10,24,"vocabulary-treeview.search.form.search")),h.R7$(2),h.SpI(" ",h.bMT(12,26,"vocabulary-treeview.search.form.search")," "),h.R7$(2),h.BMQ("aria-label",h.bMT(14,28,"vocabulary-treeview.search.form.reset")),h.R7$(2),h.SpI(" ",h.bMT(16,30,"vocabulary-treeview.search.form.reset")," "),h.R7$(2),h.Y8G("ngIf",St.showAdd&&St.vocabularyOptions.closed),h.R7$(),h.Y8G("dsBtnDisabled",St.vocabularyOptions.closed),h.BMQ("aria-label",h.bMT(19,32,"vocabulary-treeview.search.form.add")),h.R7$(2),h.SpI(" ",h.bMT(21,34,"vocabulary-treeview.search.form.add")," "),h.R7$(3),h.Y8G("ngIf",h.bMT(24,36,St.loading)),h.R7$(3),h.Y8G("ngIf",!0!==h.bMT(27,38,St.loading)&&0===St.dataSource.data.length),h.R7$(2),h.Y8G("dataSource",St.dataSource)("treeControl",St.treeControl),h.R7$(2),h.Y8G("cdkTreeNodeDefWhen",St.hasChildren),h.R7$(),h.Y8G("cdkTreeNodeDefWhen",St.isLoadMore),h.R7$(),h.Y8G("cdkTreeNodeDefWhen",St.isLoadMoreRoot))},dependencies:[re.YN,re.me,re.Zm,re.BC,re.vS,Ee.n8,Ee.md,me.bT,be,Y,se,ce,J,Q,Te.h,Te.D9,me.Jj,pt.v,ht.C,Et.A],styles:[".tooltip-inner{text-align:left}label[_ngcontent-%COMP%]{cursor:pointer}.input-group[_ngcontent-%COMP%] > .input-group-append[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.input-group[_ngcontent-%COMP%] > .input-group-append[_ngcontent-%COMP%]:last-child > .btn[_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.input-group-append[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:-1px}"]})}}return st})()},73335:(F,D,n)=>{"use strict";n.d(D,{e:()=>C});var i=n(7673),t=n(96354),u=n(96697),e=n(8917),h=n(80183),m=n(82777),f=n(54438);const _=/^([^\/]+\/[^\/]+)$/;let C=(()=>{class I{constructor(T){this.configurationService=T}normalizeHandle(T){return(0,m.Tn)(T)?(0,i.of)(null):this.configurationService.findByPropertyName("handle.canonical.prefix").pipe((0,h.qD)(),(0,t.T)(A=>{if(A.hasSucceeded)return A.payload.values.length>=1?A.payload.values[0]:void 0}),(0,t.T)(A=>{let p;return p=T.match((I=>{const R=I?.replace(/\/$/,"");return new RegExp(`(${R?R+"|":""}handle)/([^/]+/[^/]+)$`)})(A)),((0,m.Im)(p)||p.length<3)&&(p=T.match(_)),(0,m.Im)(p)||p.length<2?null:p[p.length-1]}),(0,u.s)(1))}static{this.\u0275fac=function(A){return new(A||I)(f.KVO(e.ConfigurationDataService))}}static{this.\u0275prov=f.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},65354:(F,D,n)=>{"use strict";n.d(D,{O:()=>t,l:()=>u});const t={RESIZE:(0,n(91e3).N)("dspace/host-window/RESIZE")};class u{constructor(h,m){this.type=t.RESIZE,this.payload={width:h,height:m}}}},57538:(F,D,n)=>{"use strict";n.d(D,{CV:()=>R,tP:()=>E});var i=n(25499),t=n(84572),u=n(5964),e=n(96354),h=n(23294),m=n(82777),f=n(1221),v=n(54438),E=function(T){return T[T.XS=0]="XS",T[T.SM=1]="SM",T[T.MD=2]="MD",T[T.LG=3]="LG",T[T.XL=4]="XL",T}(E||{});const _=E.SM,I=(0,i.Mz)(T=>T.hostWindow,T=>T.width);let R=(()=>{class T{constructor(p,x){this.store=p,this.variableService=x,this.breakPoints={},x.getAllVariables().subscribe(O=>{this.breakPoints.XL_MIN=parseInt(O["--bs-xl"],10),this.breakPoints.LG_MIN=parseInt(O["--bs-lg"],10),this.breakPoints.MD_MIN=parseInt(O["--bs-md"],10),this.breakPoints.SM_MIN=parseInt(O["--bs-sm"],10)})}getWidthObs(){return this.store.pipe((0,i.Lt)(I),(0,u.p)(p=>(0,m.a4)(p)))}get widthCategory(){return this.getWidthObs().pipe((0,e.T)(p=>p<this.breakPoints.SM_MIN?E.XS:p>=this.breakPoints.SM_MIN&&p<this.breakPoints.MD_MIN?E.SM:p>=this.breakPoints.MD_MIN&&p<this.breakPoints.LG_MIN?E.MD:p>=this.breakPoints.LG_MIN&&p<this.breakPoints.XL_MIN?E.LG:E.XL),(0,h.F)())}isXs(){return this.widthCategory.pipe((0,e.T)(p=>p===E.XS),(0,h.F)())}isSm(){return this.widthCategory.pipe((0,e.T)(p=>p===E.SM),(0,h.F)())}isMd(){return this.widthCategory.pipe((0,e.T)(p=>p===E.MD),(0,h.F)())}isLg(){return this.widthCategory.pipe((0,e.T)(p=>p===E.LG),(0,h.F)())}isXl(){return this.widthCategory.pipe((0,e.T)(p=>p===E.XL),(0,h.F)())}is(p){return this.widthCategory.pipe((0,e.T)(x=>x===p),(0,h.F)())}isIn(p){return this.widthCategory.pipe((0,e.T)(x=>p.includes(x)),(0,h.F)())}isUpTo(p){return this.widthCategory.pipe((0,e.T)(x=>x<=p),(0,h.F)())}isMobile(){return this.widthCategory.pipe((0,e.T)(p=>p<=_),(0,h.F)())}isDesktop(){return this.widthCategory.pipe((0,e.T)(p=>p>_),(0,h.F)())}isXsOrSm(){return(0,t.z)(this.isXs(),this.isSm()).pipe((0,e.T)(([p,x])=>p||x),(0,h.F)())}static{this.\u0275fac=function(x){return new(x||T)(v.KVO(i.il),v.KVO(f.J))}}static{this.\u0275prov=v.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},59458:(F,D,n)=>{"use strict";n.d(D,{k:()=>t});var i=n(54438);let t=(()=>{class u{constructor(h){this.elementRef=h}onMouseEnter(){this.elementRef.nativeElement.classList.add(this.hoverClass)}onMouseLeave(){this.elementRef.nativeElement.classList.remove(this.hoverClass)}static{this.\u0275fac=function(m){return new(m||u)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:u,selectors:[["","dsHoverClass",""]],hostBindings:function(m,f){1&m&&i.bIt("mouseenter",function(){return f.onMouseEnter()})("mouseleave",function(){return f.onMouseLeave()})},inputs:{hoverClass:[i.Mj6.None,"dsHoverClass","hoverClass"]},standalone:!0})}}return u})()},34458:(F,D,n)=>{"use strict";n.d(D,{d:()=>_});var i=n(60177),t=n(58003),u=n(25499),e=n(41780),h=n(96354),m=n(67116),f=n(38169),v=n(54438);function E(C,I){if(1&C){const R=v.RV6();v.j41(0,"ul",1)(1,"li",2)(2,"button",3),v.nI1(3,"translate"),v.bIt("click",function(){v.eBV(R);const A=v.XpG();return v.Njj(A.stopImpersonating())}),v.nrm(4,"i",4),v.k0s()()()}2&C&&(v.R7$(2),v.FS9("ngbTooltip",v.bMT(3,1,"nav.stop-impersonating")))}let _=(()=>{class C{constructor(R,T,A){this.elRef=R,this.store=T,this.authService=A,this.subscriptions=[]}ngOnInit(){this.isImpersonating$=this.store.pipe((0,u.Lt)(f.wR)).pipe((0,h.T)(R=>R&&this.authService.isImpersonating())),this.subscriptions.push(this.isImpersonating$.subscribe(R=>{R?this.elRef.nativeElement.classList.remove("d-none"):this.elRef.nativeElement.classList.add("d-none")}))}stopImpersonating(){this.authService.stopImpersonatingAndRefresh()}static{this.\u0275fac=function(T){return new(T||C)(v.rXU(v.aKT),v.rXU(u.il),v.rXU(m.uR))}}static{this.\u0275cmp=v.VBU({type:C,selectors:[["ds-impersonate-navbar"]],standalone:!0,features:[v.aNF],decls:2,vars:3,consts:[["class","navbar-nav",4,"ngIf"],[1,"navbar-nav"],[1,"nav-item"],[1,"btn","btn-sm","btn-dark",3,"click","ngbTooltip"],[1,"fa","fa-user-secret"]],template:function(T,A){1&T&&(v.DNE(0,E,5,3,"ul",0),v.nI1(1,"async")),2&T&&v.Y8G("ngIf",v.bMT(1,1,A.isImpersonating$))},dependencies:[i.bT,t.n8,t.md,i.Jj,e.h,e.D9],encapsulation:2})}}return C})()},81648:(F,D,n)=>{"use strict";n.d(D,{H:()=>A});var i=n(60177),t=n(54438),u=n(89417),e=n(41780),h=n(46301),m=n(56386),f=n(14412);const v=p=>({show:p}),E=p=>({"is-invalid":p}),_=()=>({standalone:!0});function C(p,x){1&p&&t.eu8(0)}function I(p,x){if(1&p&&(t.j41(0,"label",11)(1,"span",12),t.EFF(2),t.k0s(),t.DNE(3,C,1,0,"ng-container",13),t.k0s()),2&p){const O=t.XpG(),w=t.sdS(5);t.R7$(2),t.SpI(" ",O.label," "),t.R7$(),t.Y8G("ngTemplateOutlet",w)}}function R(p,x){if(1&p){const O=t.RV6();t.j41(0,"input",14,2),t.mxI("ngModelChange",function(M){t.eBV(O);const L=t.XpG();return t.DH7(L.value,M)||(L.value=M),t.Njj(M)}),t.bIt("onDebounce",function(M){t.eBV(O);const L=t.XpG();return t.Njj(L.find(M))}),t.k0s()}if(2&p){const O=t.XpG();t.R50("ngModel",O.value),t.Y8G("name",O.name)("ngClass",t.eq3(6,E,!O.valid))("dsDebounce",O.debounceTime)("placeholder",O.placeholder)("ngModelOptions",t.lJ4(8,_))}}function T(p,x){if(1&p){const O=t.RV6();t.j41(0,"div")(1,"a",15,3),t.bIt("click",function(){const M=t.eBV(O).$implicit,L=t.XpG();return t.Njj(L.onClickSuggestion(M))}),t.nrm(3,"span",16),t.k0s()()}if(2&p){const O=x.$implicit;t.R7$(3),t.Y8G("innerHTML",O.displayValue,t.npT)}}let A=(()=>{class p extends f.t{constructor(){super(...arguments),this.suggestions=[]}onSubmit(O){this.value=O,this.submitSuggestion.emit(O)}onClickSuggestion(O){return this.value=O.value,this.clickSuggestion.emit(O),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let O;return function(M){return(O||(O=t.xGo(p)))(M||p)}})()}static{this.\u0275cmp=t.VBU({type:p,selectors:[["ds-filter-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[t.Jv_([{provide:u.kq,useExisting:(0,t.Rfq)(()=>p),multi:!0}]),t.Vt3,t.aNF],decls:13,vars:12,consts:[["form","ngForm"],["searchInput",""],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],[1,"mb-3","mb-0"],["class","mb-0 w-100",4,"ngIf","ngIfElse"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],[1,"mb-0","w-100"],[1,"fw-bold"],[4,"ngTemplateOutlet"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(w,M){if(1&w){const L=t.RV6();t.j41(0,"form",4,0),t.bIt("ngSubmit",function(){return t.eBV(L),t.Njj(M.onSubmit(M.value))})("keydown",function(k){return t.eBV(L),t.Njj(M.onKeydown(k))})("keydown.arrowdown",function(k){return t.eBV(L),t.Njj(M.shiftFocusDown(k))})("keydown.arrowup",function(k){return t.eBV(L),t.Njj(M.shiftFocusUp(k))})("keydown.esc",function(){return t.eBV(L),t.Njj(M.close())})("dsClickOutside",function(){return t.eBV(L),t.Njj(M.close())}),t.j41(2,"div",5),t.DNE(3,I,4,2,"label",6),t.k0s(),t.DNE(4,R,2,9,"ng-template",null,1,t.C5r),t.j41(6,"button",7),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"div",8),t.nI1(10,"async"),t.j41(11,"div",9),t.DNE(12,T,4,1,"div",10),t.k0s()()()}if(2&w){const L=t.sdS(5);t.Y8G("action",M.action,t.B4B),t.R7$(3),t.Y8G("ngIf",M.label)("ngIfElse",L),t.R7$(4),t.SpI(" ",t.bMT(8,6,"search.filters.search.submit")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(10,v,t.bMT(10,8,M.show)&&M.isNotEmpty(M.suggestions))),t.R7$(3),t.Y8G("ngForOf",M.suggestions)}},dependencies:[u.YN,u.qT,u.me,u.BC,u.cb,u.vS,u.cV,h.z,i.bT,i.T3,m.R,i.YU,i.pM,i.Jj,e.h,e.D9],styles:[".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return p})()},14412:(F,D,n)=>{"use strict";n.d(D,{t:()=>A});var i=n(60177),t=n(54438),u=n(89417),e=n(41780),h=n(84412),m=n(82777),f=n(46301),v=n(56386);const E=["inputField"],_=["suggestion"],C=p=>({"is-invalid":p}),I=()=>({standalone:!0}),R=p=>({show:p});function T(p,x){if(1&p){const O=t.RV6();t.j41(0,"div")(1,"a",9,2),t.bIt("click",function(){const M=t.eBV(O).$implicit,L=t.XpG();return t.Njj(L.onClickSuggestion(M.value))}),t.nrm(3,"span",10),t.k0s()()}if(2&p){const O=x.$implicit;t.R7$(3),t.Y8G("innerHTML",O.displayValue,t.npT)}}let A=(()=>{class p{constructor(){this.suggestions=[],this.debounceTime=500,this.placeholder="",this.valid=!0,this.label="",this.submitSuggestion=new t.bkB,this.clickSuggestion=new t.bkB,this.typeSuggestion=new t.bkB,this.findSuggestions=new t.bkB,this.show=new h.t(!1),this.selectedIndex=-1,this.blockReopen=!1,this.disabled=!1,this.propagateChange=O=>{},this.propagateTouch=O=>{}}ngOnChanges(O){(0,m.a4)(O.suggestions)&&this.show.next((0,m.hj)(O.suggestions.currentValue)&&!O.suggestions.firstChange)}shiftFocusUp(O){O.preventDefault(),this.selectedIndex>0?(this.selectedIndex--,this.selectedIndex=(this.selectedIndex+this.resultViews.length)%this.resultViews.length):this.selectedIndex=this.resultViews.length-1,this.changeFocus()}shiftFocusDown(O){O.preventDefault(),this.selectedIndex>=0?(this.selectedIndex++,this.selectedIndex%=this.resultViews.length):this.selectedIndex=0,this.changeFocus()}changeFocus(){this.resultViews.length>0&&this.resultViews.toArray()[this.selectedIndex].nativeElement.focus()}onKeydown(O){"Enter"!==O.key&&"Tab"!==O.key&&this.queryInput.nativeElement.focus()}close(){this.show.next(!1)}open(){this.blockReopen||this.show.next(!0)}isNotEmpty(O){return(0,m.hj)(O)}onSubmit(O){}onClickSuggestion(O){}find(O){this.blockReopen||(this.findSuggestions.emit(O),this.typeSuggestion.emit(O)),this.blockReopen=!1}registerOnChange(O){this.propagateChange=O}registerOnTouched(O){this.propagateTouch=O}setDisabledState(O){this.disabled=O}writeValue(O){this.value=O}get value(){return this._value}set value(O){this._value=O,this.propagateChange(this._value)}static{this.\u0275fac=function(w){return new(w||p)}}static{this.\u0275cmp=t.VBU({type:p,selectors:[["ds-input-suggestions"]],viewQuery:function(w,M){if(1&w&&(t.GBs(E,5),t.GBs(_,5)),2&w){let L;t.mGM(L=t.lsd())&&(M.queryInput=L.first),t.mGM(L=t.lsd())&&(M.resultViews=L)}},inputs:{suggestions:"suggestions",debounceTime:"debounceTime",placeholder:"placeholder",action:"action",name:"name",valid:"valid",label:"label",disabled:"disabled"},outputs:{submitSuggestion:"submitSuggestion",clickSuggestion:"clickSuggestion",typeSuggestion:"typeSuggestion",findSuggestions:"findSuggestions"},standalone:!0,features:[t.OA$,t.aNF],decls:11,vars:19,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(w,M){if(1&w){const L=t.RV6();t.j41(0,"form",3,0),t.bIt("ngSubmit",function(){return t.eBV(L),t.Njj(M.onSubmit(M.value))})("keydown",function(k){return t.eBV(L),t.Njj(M.onKeydown(k))})("keydown.arrowdown",function(k){return t.eBV(L),t.Njj(M.shiftFocusDown(k))})("keydown.arrowup",function(k){return t.eBV(L),t.Njj(M.shiftFocusUp(k))})("keydown.esc",function(){return t.eBV(L),t.Njj(M.close())})("dsClickOutside",function(){return t.eBV(L),t.Njj(M.close())}),t.j41(2,"input",4,1),t.mxI("ngModelChange",function(k){return t.eBV(L),t.DH7(M.value,k)||(M.value=k),t.Njj(k)}),t.bIt("onDebounce",function(k){return t.eBV(L),t.Njj(M.find(k))}),t.k0s(),t.j41(4,"button",5),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"div",6),t.nI1(8,"async"),t.j41(9,"div",7),t.DNE(10,T,4,1,"div",8),t.k0s()()()}2&w&&(t.Y8G("action",M.action,t.B4B),t.R7$(2),t.R50("ngModel",M.value),t.Y8G("name",M.name)("ngClass",t.eq3(14,C,!M.valid))("dsDebounce",M.debounceTime)("placeholder",M.placeholder)("ngModelOptions",t.lJ4(16,I)),t.R7$(3),t.SpI(" ",t.bMT(6,10,"search.filters.search.submit")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(17,R,t.bMT(8,12,M.show)&&M.isNotEmpty(M.suggestions))),t.R7$(3),t.Y8G("ngForOf",M.suggestions))},dependencies:[u.YN,u.qT,u.me,u.BC,u.cb,u.vS,u.cV,f.z,v.R,i.YU,i.pM,i.Jj,e.h,e.D9],encapsulation:2})}}return p})()},31580:(F,D,n)=>{"use strict";n.r(D),n.d(D,{LangSwitchComponent:()=>E});var i=n(60177),t=n(58003),u=n(41780),e=n(88280),h=n(63648),m=n(54438);function f(_,C){if(1&_){const I=m.RV6();m.j41(0,"li",7,0),m.bIt("keyup.enter",function(){const T=m.eBV(I).$implicit,A=m.XpG(2);return m.Njj(A.useLang(T))})("click",function(){const T=m.eBV(I).$implicit,A=m.XpG(2);return m.Njj(A.useLang(T))}),m.EFF(2),m.k0s()}if(2&_){const I=C.$implicit,R=m.XpG(2);m.AVh("active",I===R.translate.currentLang),m.R7$(2),m.SpI(" ",R.langLabel(I)," ")}}function v(_,C){if(1&_){const I=m.RV6();m.j41(0,"div",2)(1,"a",3),m.nI1(2,"translate"),m.nI1(3,"translate"),m.bIt("click",function(T){return m.eBV(I),m.Njj(T.preventDefault())}),m.nrm(4,"i",4),m.k0s(),m.j41(5,"ul",5),m.nI1(6,"translate"),m.DNE(7,f,3,3,"li",6),m.k0s()()}if(2&_){const I=m.XpG();m.R7$(),m.Y8G("title",m.bMT(2,4,"nav.language")),m.BMQ("aria-label",m.bMT(3,6,"nav.language")),m.R7$(4),m.BMQ("aria-label",m.bMT(6,8,"nav.language")),m.R7$(2),m.Y8G("ngForOf",I.translate.getLangs())}}let E=(()=>{class _{constructor(I,R,T){this.el=I,this.translate=R,this.localeService=T}ngOnInit(){this.activeLangs=e.c.languages.filter(I=>!0===I.active),this.moreThanOneLanguage=this.activeLangs.length>1,this.moreThanOneLanguage||this.el.nativeElement.parentElement.classList.add("d-none")}currentLangLabel(){return this.activeLangs.find(I=>I.code===this.translate.currentLang).label}langLabel(I){return this.activeLangs.find(R=>R.code===I).label}useLang(I){this.localeService.setCurrentLanguageCode(I),this.localeService.refreshAfterChangeLanguage()}static{this.\u0275fac=function(R){return new(R||_)(m.rXU(m.aKT),m.rXU(u.c$),m.rXU(h.iH))}}static{this.\u0275cmp=m.VBU({type:_,selectors:[["ds-base-lang-switch"]],standalone:!0,features:[m.aNF],decls:1,vars:1,consts:[["langSelect",""],["ngbDropdown","","class","navbar-nav","display","dynamic","placement","bottom-right",4,"ngIf"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"navbar-nav"],["href","javascript:void(0);","role","menuitem","aria-controls","language-menu-list","aria-haspopup","menu","data-toggle","dropdown","ngbDropdownToggle","","data-test","lang-switch","tabindex","0",3,"click","title"],[1,"fas","fa-globe-asia","fa-lg","fa-fw"],["ngbDropdownMenu","","id","language-menu-list","role","menu",1,"dropdown-menu"],["class","dropdown-item","tabindex","0","role","menuitem",3,"active","keyup.enter","click",4,"ngFor","ngForOf"],["tabindex","0","role","menuitem",1,"dropdown-item",3,"keyup.enter","click"]],template:function(R,T){1&R&&m.DNE(0,v,8,10,"div",1),2&R&&m.Y8G("ngIf",T.moreThanOneLanguage)},dependencies:[i.bT,t.zH,t.tg,t.do,t.U0,i.pM,u.h,u.D9],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropdown-toggle[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}.dropdown-toggle[_ngcontent-%COMP%]:hover, .dropdown-toggle[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer}"]})}}return _})()},28068:(F,D,n)=>{"use strict";n.d(D,{n:()=>m});var i=n(8886),u=(n(31580),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"LangSwitchComponent"}importThemedComponent(E){return n(97394)(`./${E}/app/shared/lang-switch/lang-switch.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,31580))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-lang-switch"]],standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},98776:(F,D,n)=>{"use strict";n.d(D,{E:()=>m});var i=n(60177),t=n(25488),u=n(54438);const e=f=>({"visually-hidden":f});function h(f,v){if(1&f&&(u.j41(0,"div",2),u.EFF(1),u.k0s()),2&f){const E=v.$implicit;u.R7$(),u.JRh(E)}}let m=(()=>{class f{constructor(E){this.liveRegionService=E}ngOnInit(){this.isVisible=this.liveRegionService.getLiveRegionVisibility(),this.messages$=this.liveRegionService.getMessages$()}static{this.\u0275fac=function(_){return new(_||f)(u.rXU(t.A))}}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-live-region"]],standalone:!0,features:[u.aNF],decls:3,vars:6,consts:[["aria-live","assertive","role","log","aria-relevant","additions","aria-atomic","true",1,"live-region",3,"ngClass"],["class","live-region-message",4,"ngFor","ngForOf"],[1,"live-region-message"]],template:function(_,C){1&_&&(u.j41(0,"div",0),u.DNE(1,h,2,1,"div",1),u.nI1(2,"async"),u.k0s()),2&_&&(u.Y8G("ngClass",u.eq3(4,e,!C.isVisible)),u.R7$(),u.Y8G("ngForOf",u.bMT(2,2,C.messages$)))},dependencies:[i.YU,i.pM,i.Jj],styles:[".live-region[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;padding-left:60px;height:90px;line-height:18px;color:var(--bs-white);background-color:var(--bs-dark);opacity:.94;z-index:var(--ds-live-region-z-index)}"]})}}return f})()},25488:(F,D,n)=>{"use strict";n.d(D,{A:()=>h});var i=n(84412),t=n(88280),u=n(54438),e=n(30164);let h=(()=>{class m{constructor(v){this.uuidService=v,this.messageTimeOutDurationMs=t.c.liveRegion.messageTimeOutDurationMs,this.messages=[],this.messages$=new i.t([]),this.liveRegionIsVisible=t.c.liveRegion.isVisible}getMessages(){return this.messages.map(v=>v.message)}getMessages$(){return this.messages$}addMessage(v){const E=this.uuidService.generate();return this.messages.push({message:v,uuid:E}),setTimeout(()=>this.clearMessageByUUID(E),this.messageTimeOutDurationMs),this.emitCurrentMessages(),E}clear(){this.messages=[],this.emitCurrentMessages()}clearMessageByUUID(v){const E=this.messages.findIndex(_=>_.uuid===v);-1!==E&&(this.messages.splice(E,1),this.emitCurrentMessages())}emitCurrentMessages(){this.messages$.next(this.getMessages())}getLiveRegionVisibility(){return this.liveRegionIsVisible}setLiveRegionVisibility(v){this.liveRegionIsVisible=v}getMessageTimeOutMs(){return this.messageTimeOutDurationMs}setMessageTimeOutMs(v){this.messageTimeOutDurationMs=v}static{this.\u0275fac=function(E){return new(E||m)(u.KVO(e.v))}}static{this.\u0275prov=u.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},82394:(F,D,n)=>{"use strict";n.d(D,{v:()=>m});var i=n(82522),t=n(8886),u=n(54438);const e=["*"];function h(f,v){}let m=(()=>{class f extends t.J{constructor(E,_){super(E,_),this.cdr=E,this.themeService=_,this.inAndOutputNames=["message","showMessage","spinner"]}getComponentName(){return"LoadingComponent"}importThemedComponent(E){return n(54512)(`./${E}/app/shared/loading/loading.component`)}importUnthemedComponent(){return n.e(2076).then(n.bind(n,32280))}static{this.\u0275fac=function(_){return new(_||f)(u.rXU(u.gRc),u.rXU(i.Fs))}}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-loading"]],inputs:{message:"message",showMessage:"showMessage",spinner:"spinner"},standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},91956:(F,D,n)=>{"use strict";n.d(D,{u:()=>m});var i=n(60177),t=n(54438),e=(n(52027),n(96756));function h(f,v){1&f&&t.eu8(0)}let m=(()=>{class f{constructor(E){this.injector=E}ngOnInit(){this.objectInjector=t.zZn.create({providers:[{provide:"authMethodProvider",useFactory:()=>this.authMethod,deps:[]},{provide:"isStandalonePage",useFactory:()=>this.isStandalonePage,deps:[]}],parent:this.injector})}getAuthMethodContent(){return(0,e.HF)(this.authMethod.authMethodType)}static{this.\u0275fac=function(_){return new(_||f)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["ds-log-in-container"]],inputs:{authMethod:"authMethod",isStandalonePage:"isStandalonePage"},standalone:!0,features:[t.aNF],decls:1,vars:2,consts:[[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(_,C){1&_&&t.DNE(0,h,1,0,"ng-container",0),2&_&&t.Y8G("ngComponentOutlet",C.getAuthMethodContent())("ngComponentOutletInjector",C.objectInjector)},dependencies:[i.OI],styles:["[_nghost-%COMP%]     .card{margin-bottom:var(--ds-submission-sections-margin-bottom);overflow:unset}.section-focus[_ngcontent-%COMP%]{border-radius:var(--bs-border-radius);box-shadow:var(--bs-btn-focus-box-shadow)}[_nghost-%COMP%]     .card:first-of-type{border-bottom:var(--bs-card-border-width) solid var(--bs-card-border-color)!important;border-bottom-left-radius:var(--bs-card-border-radius)!important;border-bottom-right-radius:var(--bs-card-border-radius)!important}[_nghost-%COMP%]     .card-header button{box-shadow:none!important;width:100%}"]})}}return f})()},38790:(F,D,n)=>{"use strict";n.r(D),n.d(D,{LogInComponent:()=>A});var i=n(60177),t=n(25499),u=n(96354),e=n(67116),h=n(38169),m=n(82777),f=n(82394),v=n(91956),E=n(96756),_=n(54438);function C(p,x){1&p&&_.nrm(0,"ds-loading",2)}function I(p,x){1&p&&_.nrm(0,"div",7)}function R(p,x){if(1&p&&(_.qex(0),_.nrm(1,"ds-log-in-container",5),_.DNE(2,I,1,0,"div",6),_.bVm()),2&p){const O=x.$implicit,w=x.last,M=_.XpG(2);_.R7$(),_.Y8G("authMethod",O)("isStandalonePage",M.isStandalonePage),_.R7$(),_.Y8G("ngIf",!w)}}function T(p,x){if(1&p&&(_.j41(0,"div",3),_.DNE(1,R,3,3,"ng-container",4),_.nI1(2,"async"),_.k0s()),2&p){const O=_.XpG();_.R7$(),_.Y8G("ngForOf",_.bMT(2,1,O.authMethods))}}let A=(()=>{class p{constructor(O,w){this.store=O,this.authService=w}ngOnInit(){this.authMethods=this.store.pipe((0,t.Lt)(h.hx),(0,u.T)(O=>O.filter(w=>void 0!==(0,E.HF)(w.authMethodType)).sort((w,M)=>w.position-M.position))),this.loading=this.store.pipe((0,t.Lt)(h.VV)),this.isAuthenticated=this.store.pipe((0,t.Lt)(h.wR)),this.store.pipe((0,t.Lt)(h.H8)).subscribe(O=>{(0,m.a4)(O)&&!this.isStandalonePage&&this.authService.clearRedirectUrl()})}static{this.\u0275fac=function(w){return new(w||p)(_.rXU(t.il),_.rXU(e.uR))}}static{this.\u0275cmp=_.VBU({type:p,selectors:[["ds-base-log-in"]],inputs:{isStandalonePage:"isStandalonePage"},standalone:!0,features:[_.aNF],decls:6,vars:10,consts:[["class","m-5",4,"ngIf"],["class","px-4 py-3 mx-auto login-container",4,"ngIf"],[1,"m-5"],[1,"px-4","py-3","mx-auto","login-container"],[4,"ngFor","ngForOf"],[3,"authMethod","isStandalonePage"],["class","dropdown-divider my-2",4,"ngIf"],[1,"dropdown-divider","my-2"]],template:function(w,M){1&w&&(_.DNE(0,C,1,0,"ds-loading",0),_.nI1(1,"async"),_.nI1(2,"async"),_.DNE(3,T,3,3,"div",1),_.nI1(4,"async"),_.nI1(5,"async")),2&w&&(_.Y8G("ngIf",_.bMT(1,2,M.loading)||_.bMT(2,4,M.isAuthenticated)),_.R7$(3),_.Y8G("ngIf",!0!==_.bMT(4,6,M.loading)&&!0!==_.bMT(5,8,M.isAuthenticated)))},dependencies:[i.bT,f.v,i.pM,v.u,i.Jj],styles:[".login-container[_ngcontent-%COMP%]{max-width:350px}a[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],changeDetection:0})}}return p})()},96756:(F,D,n)=>{"use strict";n.d(D,{HF:()=>ne});var i=n(2044),t=n(25499),u=n(41780),e=n(96697),h=n(67116),f=(n(52027),n(38169)),v=n(1676),E=n(45663),_=n(82777),C=n(54438),I=n(59752);let R=(()=>{class fe{constructor(ce,De,be,me,re,Ee){this.injectedAuthMethodModel=ce,this.isStandalonePage=De,this._window=be,this.authService=me,this.hardRedirectService=re,this.store=Ee,this.authMethod=ce}ngOnInit(){this.isAuthenticated=this.store.pipe((0,t.Lt)(f.wR)),this.loading=this.store.pipe((0,t.Lt)(f.VV)),this.location=decodeURIComponent(this.injectedAuthMethodModel.location)}redirectToExternalProvider(){this.authService.getRedirectUrl().pipe((0,e.s)(1)).subscribe(ce=>{this.isStandalonePage?(0,_.Im)(ce)&&(ce="/"):ce=this.hardRedirectService.getCurrentRoute();const De=new E.t(this._window.nativeWindow.origin,ce).toString();let be=this.location;const re=/\?redirectUrl=(.*)/g.exec(this.location),Ee=re&&re[1]?re[1]:null;(0,_.Pe)(Ee)&&Ee!==De&&(be=this.location.replace(/\?redirectUrl=(.*)/g,`?redirectUrl=${De}`)),this.hardRedirectService.redirect(be)})}getButtonLabel(){return`login.form.${this.authMethod.authMethodType}`}static{this.\u0275fac=function(De){return new(De||fe)(C.rXU("authMethodProvider"),C.rXU("isStandalonePage"),C.rXU(v.lc),C.rXU(h.uR),C.rXU(I.$),C.rXU(t.il))}}static{this.\u0275cmp=C.VBU({type:fe,selectors:[["ds-log-in-external-provider"]],standalone:!0,features:[C.aNF],decls:4,vars:3,consts:[[1,"btn","btn-lg","btn-primary","w-100","text-white",3,"click"],[1,"fas","fa-sign-in-alt"]],template:function(De,be){1&De&&(C.j41(0,"button",0),C.bIt("click",function(){return be.redirectToExternalProvider()}),C.nrm(1,"i",1),C.EFF(2),C.nI1(3,"translate"),C.k0s()),2&De&&(C.R7$(2),C.SpI(" ",C.bMT(3,1,be.getButtonLabel()),"\n"))},dependencies:[u.h,u.D9]})}}return fe})();var T=n(60177),A=n(89417),p=n(7901),x=n(44668),O=n(84572),w=n(96354),M=n(5964),L=n(69799),B=n(59836),k=n(65007),W=n(3970),U=n(50332),K=n(60456),Y=n(75465);const G=fe=>[fe];function q(fe,se){if(1&fe&&(C.j41(0,"div",8),C.EFF(1),C.nI1(2,"async"),C.nI1(3,"translate"),C.k0s()),2&fe){const ce=C.XpG();C.Y8G("@fadeOut",void 0),C.R7$(),C.JRh(C.bMT(3,4,C.bMT(2,2,ce.error)))}}function z(fe,se){if(1&fe&&(C.j41(0,"div",9),C.EFF(1),C.nI1(2,"async"),C.nI1(3,"translate"),C.k0s()),2&fe){const ce=C.XpG();C.Y8G("@fadeOut",void 0),C.R7$(),C.JRh(C.bMT(3,4,C.bMT(2,2,ce.message)))}}function te(fe,se){if(1&fe&&(C.j41(0,"a",12),C.nI1(1,"dsBrowserOnly"),C.EFF(2),C.nI1(3,"translate"),C.k0s()),2&fe){const ce=C.XpG(2);C.Y8G("routerLink",C.eq3(7,G,ce.getRegisterRoute())),C.BMQ("data-test",C.bMT(1,3,"register")),C.R7$(2),C.JRh(C.bMT(3,5,"login.form.new-user"))}}function Z(fe,se){if(1&fe&&(C.j41(0,"a",12),C.nI1(1,"dsBrowserOnly"),C.EFF(2),C.nI1(3,"translate"),C.k0s()),2&fe){const ce=C.XpG(2);C.Y8G("routerLink",C.eq3(7,G,ce.getForgotRoute())),C.BMQ("data-test",C.bMT(1,3,"forgot")),C.R7$(2),C.JRh(C.bMT(3,5,"login.form.forgot-password"))}}function J(fe,se){if(1&fe&&(C.qex(0),C.j41(1,"div",10),C.DNE(2,te,4,9,"a",11),C.nI1(3,"async"),C.DNE(4,Z,4,9,"a",11),C.nI1(5,"async"),C.k0s(),C.bVm()),2&fe){const ce=C.XpG();C.R7$(2),C.Y8G("ngIf",C.bMT(3,2,ce.canRegister$)),C.R7$(2),C.Y8G("ngIf",C.bMT(5,4,ce.canForgot$))}}const ee=new Map([[i.Q.Password,(()=>{class fe{constructor(ce,De,be,me,re,Ee,Te){this.injectedAuthMethodModel=ce,this.isStandalonePage=De,this.authService=be,this.hardRedirectService=me,this.formBuilder=re,this.store=Ee,this.authorizationService=Te,this.hasError=!1,this.hasMessage=!1,this.authMethod=ce}ngOnInit(){this.form=this.formBuilder.group({email:["",A.k0.required],password:["",A.k0.required]}),this.error=this.store.pipe((0,t.Lt)(f.H8),(0,w.T)(ce=>(this.hasError=(0,_.hj)(ce),ce))),this.message=this.store.pipe((0,t.Lt)(f.dx),(0,w.T)(ce=>(this.hasMessage=(0,_.hj)(ce),ce))),this.canRegister$=this.authorizationService.isAuthorized(W._.EPersonRegistration).pipe((0,x.t)({refCount:!1,bufferSize:1})),this.canForgot$=this.authorizationService.isAuthorized(W._.EPersonForgotPassword).pipe((0,x.t)({refCount:!1,bufferSize:1})),this.canShowDivider$=(0,O.z)([this.canRegister$,this.canForgot$]).pipe((0,w.T)(([ce,De])=>ce||De),(0,M.p)(Boolean))}getRegisterRoute(){return(0,L.Do)()}getForgotRoute(){return(0,L.al)()}resetErrorOrMessage(){(this.hasError||this.hasMessage)&&(this.store.dispatch(new B.eh),this.hasError=!1,this.hasMessage=!1)}submit(){this.resetErrorOrMessage();const ce=this.form.get("email").value,De=this.form.get("password").value;ce.trim(),De.trim(),this.isStandalonePage?this.authService.setRedirectUrlIfNotSet("/"):this.authService.setRedirectUrl(this.hardRedirectService.getCurrentRoute()),this.store.dispatch(new B.Sn(ce,De)),this.form.reset()}static{this.\u0275fac=function(De){return new(De||fe)(C.rXU("authMethodProvider"),C.rXU("isStandalonePage"),C.rXU(h.uR),C.rXU(I.$),C.rXU(A.ze),C.rXU(t.il),C.rXU(k.AuthorizationDataService))}}static{this.\u0275cmp=C.VBU({type:fe,selectors:[["ds-log-in-password"]],standalone:!0,features:[C.aNF],decls:20,vars:35,consts:[["novalidate","",1,"form-login",3,"ngSubmit","formGroup"],["autocomplete","username","autofocus","","formControlName","email","required","","type","email",1,"form-control","form-control-lg","position-relative",3,"placeholder"],["autocomplete","current-password","formControlName","password","required","","type","password",1,"form-control","form-control-lg","position-relative","mb-3",3,"placeholder"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-info","role","alert",4,"ngIf"],["type","submit",1,"btn","btn-lg","btn-primary","w-100",3,"dsBtnDisabled"],[1,"fas","fa-sign-in-alt"],[4,"ngIf"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-info"],[1,"mt-2"],["class","dropdown-item","role","menuitem",3,"routerLink",4,"ngIf"],["role","menuitem",1,"dropdown-item",3,"routerLink"]],template:function(De,be){1&De&&(C.j41(0,"form",0),C.bIt("ngSubmit",function(){return be.submit()}),C.nrm(1,"input",1),C.nI1(2,"translate"),C.nI1(3,"translate"),C.nI1(4,"dsBrowserOnly"),C.nrm(5,"input",2),C.nI1(6,"translate"),C.nI1(7,"translate"),C.nI1(8,"dsBrowserOnly"),C.DNE(9,q,4,6,"div",3),C.nI1(10,"async"),C.DNE(11,z,4,6,"div",4),C.nI1(12,"async"),C.j41(13,"button",5),C.nI1(14,"dsBrowserOnly"),C.nrm(15,"i",6),C.EFF(16),C.nI1(17,"translate"),C.k0s()(),C.DNE(18,J,6,6,"ng-container",7),C.nI1(19,"async")),2&De&&(C.Y8G("formGroup",be.form),C.R7$(),C.FS9("placeholder",C.bMT(2,13,"login.form.email")),C.BMQ("aria-label",C.bMT(3,15,"login.form.email"))("data-test",C.bMT(4,17,"email")),C.R7$(4),C.FS9("placeholder",C.bMT(6,19,"login.form.password")),C.BMQ("aria-label",C.bMT(7,21,"login.form.password"))("data-test",C.bMT(8,23,"password")),C.R7$(4),C.Y8G("ngIf",C.bMT(10,25,be.error)&&be.hasError),C.R7$(2),C.Y8G("ngIf",C.bMT(12,27,be.message)&&be.hasMessage),C.R7$(2),C.Y8G("dsBtnDisabled",!be.form.valid),C.BMQ("data-test",C.bMT(14,29,"login-button")),C.R7$(3),C.SpI(" ",C.bMT(17,31,"login.form.submit"),""),C.R7$(2),C.Y8G("ngIf",C.bMT(19,33,be.canShowDivider$)))},dependencies:[A.YN,A.qT,A.me,A.BC,A.cb,A.YS,A.X1,A.j4,A.JD,T.bT,p.Wk,T.Jj,u.h,u.D9,Y.L,K.A],styles:[".form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],data:{animation:[U.Xn]}})}}return fe})()],[i.Q.Shibboleth,R],[i.Q.Oidc,R],[i.Q.Orcid,R],[i.Q.Saml,R]]);function ne(fe){return ee.get(fe)}},68900:(F,D,n)=>{"use strict";n.d(D,{W:()=>m});var i=n(8886),u=(n(38790),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["isStandalonePage"]}getComponentName(){return"LogInComponent"}importThemedComponent(E){return n(43800)(`./${E}/app/shared/log-in/log-in.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,38790))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-log-in"]],inputs:{isStandalonePage:"isStandalonePage"},standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},61980:(F,D,n)=>{"use strict";n.d(D,{y:()=>C});var i=n(60177),t=n(25499),u=n(41780),e=n(59836),h=n(38169),m=n(50332),f=n(75465),v=n(54438),E=n(7901);function _(I,R){if(1&I&&(v.j41(0,"div",4),v.EFF(1),v.nI1(2,"async"),v.k0s()),2&I){const T=v.XpG();v.Y8G("@fadeOut",void 0),v.R7$(),v.JRh(v.bMT(2,2,T.error))}}let C=(()=>{class I{constructor(T,A){this.router=T,this.store=A}ngOnInit(){this.error=this.store.pipe((0,t.Lt)(h.F8))}home(){this.router.navigate(["/home"])}logOut(){this.store.dispatch(new e.du)}static{this.\u0275fac=function(A){return new(A||I)(v.rXU(E.Ix),v.rXU(t.il))}}static{this.\u0275cmp=v.VBU({type:I,selectors:[["ds-log-out"]],standalone:!0,features:[v.aNF],decls:8,vars:9,consts:[[1,"form-login","px-4"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","menuitem",1,"btn","btn-lg","btn-primary","w-100",3,"click"],[1,"fas","fa-sign-out-alt"],["role","alert",1,"alert","alert-danger"]],template:function(A,p){1&A&&(v.j41(0,"div",0),v.DNE(1,_,3,4,"div",1),v.nI1(2,"async"),v.j41(3,"button",2),v.nI1(4,"dsBrowserOnly"),v.bIt("click",function(){return p.logOut()}),v.nrm(5,"i",3),v.EFF(6),v.nI1(7,"translate"),v.k0s()()),2&A&&(v.R7$(),v.Y8G("ngIf",v.bMT(2,3,p.error)),v.R7$(2),v.BMQ("data-test",v.bMT(4,5,"logout-button")),v.R7$(3),v.SpI(" ",v.bMT(7,7,"logout.form.submit"),""))},dependencies:[i.bT,i.Jj,u.h,u.D9,f.L],styles:[".form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],data:{animation:[m.Xn]}})}}return I})()},19340:(F,D,n)=>{"use strict";n.d(D,{D:()=>i});var i=function(t){return t.ADMIN="admin-sidebar",t.PUBLIC="public",t.DSO_EDIT="dso-edit",t}(i||{})},34237:(F,D,n)=>{"use strict";n.d(D,{x:()=>i});var i=function(t){return t[t.TEXT=0]="TEXT",t[t.LINK=1]="LINK",t[t.ALTMETRIC=2]="ALTMETRIC",t[t.SEARCH=3]="SEARCH",t[t.ONCLICK=4]="ONCLICK",t[t.EXTERNAL=5]="EXTERNAL",t}(i||{})},6446:(F,D,n)=>{"use strict";n.d(D,{a:()=>Y});var i=n(54438),t=n(84412),u=n(23294),e=n(25558),h=n(82777),m=n(39548),f=n(60177),v=n(7901),E=n(41780),_=n(34237);const I=G=>({disabled:G});let R=(()=>{class G{constructor(z){this.item=z}ngOnInit(){this.hasLink=(0,h.hj)(this.item.href)}get href(){if(this.hasLink)return this.item.href}static{this.\u0275fac=function(te){return new(te||G)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:G,selectors:[["ds-external-link-menu-item"]],standalone:!0,features:[i.aNF],decls:4,vars:11,consts:[["role","menuitem","routerLinkActive","active",1,"ds-menu-item",3,"click","ngClass","href","title"]],template:function(te,Z){1&te&&(i.j41(0,"a",0),i.nI1(1,"translate"),i.bIt("click",function(Q){return Q.stopPropagation()}),i.EFF(2),i.nI1(3,"translate"),i.k0s()),2&te&&(i.Y8G("ngClass",i.eq3(9,I,!Z.hasLink))("href",Z.href,i.B4B)("title",i.bMT(1,5,Z.item.text)),i.BMQ("aria-disabled",!Z.hasLink),i.R7$(2),i.JRh(i.bMT(3,7,Z.item.text)))},dependencies:[f.YU,E.h,E.D9,v.wQ],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return G})();const A=G=>({disabled:G});let p=(()=>{class G{constructor(z,te){this.router=te,this.item=z}ngOnInit(){this.hasLink=(0,h.hj)(this.item.link)}getRouterLink(){if(this.hasLink)return this.item.link}navigate(z){z.preventDefault(),!this.item.disabled&&this.getRouterLink()&&this.router.navigate([this.getRouterLink()]),z.stopPropagation()}static{this.\u0275fac=function(te){return new(te||G)(i.rXU("itemModelProvider"),i.rXU(v.Ix))}}static{this.\u0275cmp=i.VBU({type:G,selectors:[["ds-link-menu-item"]],standalone:!0,features:[i.aNF],decls:3,vars:10,consts:[["role","menuitem","href","javascript:void(0);",1,"ds-menu-item",3,"click","keyup.space","keydown.enter","ngClass","routerLink","queryParams"]],template:function(te,Z){1&te&&(i.j41(0,"a",0),i.bIt("click",function(Q){return Q.stopPropagation()})("keyup.space",function(Q){return Z.navigate(Q)})("keydown.enter",function(Q){return Z.navigate(Q)}),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&te&&(i.Y8G("ngClass",i.eq3(8,A,!Z.hasLink||Z.item.disabled))("routerLink",Z.getRouterLink())("queryParams",Z.item.queryParams),i.BMQ("aria-disabled",!Z.hasLink||Z.item.disabled)("data-test","link-menu-item."+Z.item.text),i.R7$(),i.JRh(i.bMT(2,6,Z.item.text)))},dependencies:[f.YU,v.Wk,E.h,E.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return G})();function O(G,q){if(1&G){const z=i.RV6();i.j41(0,"a",2),i.nI1(1,"translate"),i.bIt("click",function(Z){i.eBV(z);const J=i.XpG();return i.Njj(J.activate(Z))})("keyup.space",function(Z){i.eBV(z);const J=i.XpG();return i.Njj(J.activate(Z))})("keyup.enter",function(Z){i.eBV(z);const J=i.XpG();return i.Njj(J.activate(Z))}),i.EFF(2),i.nI1(3,"translate"),i.k0s()}if(2&G){const z=i.XpG();i.Y8G("title",i.bMT(1,3,z.item.text)),i.BMQ("data-test",z.item.text),i.R7$(2),i.JRh(i.bMT(3,5,z.item.text))}}function w(G,q){if(1&G&&(i.j41(0,"span",3),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&G){const z=i.XpG();i.BMQ("data-test",z.item.text),i.R7$(),i.JRh(i.bMT(2,2,z.item.text))}}let M=(()=>{class G{constructor(z){this.item=z}activate(z){this.item.disabled||(z.preventDefault(),this.item.function(),z.stopPropagation())}static{this.\u0275fac=function(te){return new(te||G)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:G,selectors:[["ds-onclick-menu-item"]],standalone:!0,features:[i.aNF],decls:2,vars:2,consts:[["class","ds-menu-item","role","menuitem","routerLinkActive","active","href","javascript:void(0);",3,"title","click","keyup.space","keyup.enter",4,"ngIf"],["class","nav-item nav-link disabled",4,"ngIf"],["role","menuitem","routerLinkActive","active","href","javascript:void(0);",1,"ds-menu-item",3,"click","keyup.space","keyup.enter","title"],[1,"nav-item","nav-link","disabled"]],template:function(te,Z){1&te&&i.DNE(0,O,4,7,"a",0)(1,w,3,4,"span",1),2&te&&(i.Y8G("ngIf",!Z.item.disabled),i.R7$(),i.Y8G("ngIf",Z.item.disabled))},dependencies:[f.bT,E.h,E.D9,v.wQ],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}","a[_ngcontent-%COMP%]{cursor:pointer}"]})}}return G})(),B=(()=>{class G{constructor(z){this.item=z}static{this.\u0275fac=function(te){return new(te||G)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:G,selectors:[["ds-text-menu-item"]],standalone:!0,features:[i.aNF],decls:3,vars:5,consts:[[1,"ds-menu-item"]],template:function(te,Z){1&te&&(i.j41(0,"span",0),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&te&&(i.AVh("disabled",Z.item.disabled),i.R7$(),i.JRh(i.bMT(2,3,Z.item.text)))},dependencies:[E.h,E.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return G})();const k=new Map;k.set(_.x.EXTERNAL,R),k.set(_.x.LINK,p),k.set(_.x.ONCLICK,M),k.set(_.x.TEXT,B);class K{constructor(){this.shouldPersistOnRouteChange=!1}}let Y=(()=>{class G{constructor(z,te,Z){this.section=z,this.menuService=te,this.injector=Z,this.active$=new t.t(!1),this.sectionMap$=new t.t(new Map),this.subs=[]}ngOnInit(){this.subs.push(this.menuService.isSectionActive(this.menuID,this.section.id).pipe((0,u.F)()).subscribe(z=>{this.active$.value!==z&&this.active$.next(z)})),this.initializeInjectorData()}toggleSection(z){z.preventDefault(),this.section.model?.disabled||this.menuService.toggleActiveSection(this.menuID,this.section.id)}activateSection(z,te=!0){te&&z.preventDefault(),this.section.model?.disabled||this.menuService.activateSection(this.menuID,this.section.id)}deactivateSection(z,te=!0){te&&z.preventDefault(),this.menuService.deactivateSection(this.menuID,this.section.id)}initializeInjectorData(){this.updateSectionMap(this.section.id,this.getItemModelInjector(this.section.model),this.getMenuItemComponent(this.section.model)),this.subSections$=this.menuService.getSubSectionsByParentID(this.menuID,this.section.id),this.subs.push(this.subSections$.pipe((0,e.n)(z=>z)).subscribe(z=>{this.updateSectionMap(z.id,this.getItemModelInjector(z.model),this.getMenuItemComponent(z.model))}))}updateSectionMap(z,te,Z){const J=this.sectionMap$.getValue();J.set(z,{injector:te,component:Z}),this.sectionMap$.next(J)}getMenuItemComponent(z){return(0,h.Tn)(z)&&(z=this.section.model),function U(G){return k.get(G)}(z.type)}getItemModelInjector(z){return(0,h.Tn)(z)&&(z=this.section.model),i.zZn.create({providers:[{provide:"itemModelProvider",useFactory:()=>z,deps:[]}],parent:this.injector})}ngOnDestroy(){this.subs.filter(z=>(0,h.a4)(z)).forEach(z=>z.unsubscribe())}static{this.\u0275fac=function(te){return new(te||G)(i.rXU(K),i.rXU(m.$),i.rXU(i.zZn))}}static{this.\u0275cmp=i.VBU({type:G,selectors:[["ds-menu-section"]],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(te,Z){},encapsulation:2})}}return G})()},54476:(F,D,n)=>{"use strict";n.d(D,{C0:()=>A,F$:()=>u,FH:()=>T,Hw:()=>R,JG:()=>m,JK:()=>v,PM:()=>_,YN:()=>I,cf:()=>p,eq:()=>e,ie:()=>f,j$:()=>x,jZ:()=>t,oh:()=>E,sP:()=>h,tU:()=>O});var i=n(91e3);const t={COLLAPSE_MENU:(0,i.N)("dspace/menu/COLLAPSE_MENU"),TOGGLE_MENU:(0,i.N)("dspace/menu/TOGGLE_MENU"),EXPAND_MENU:(0,i.N)("dspace/menu/EXPAND_MENU"),SHOW_MENU:(0,i.N)("dspace/menu/SHOW_MENU"),HIDE_MENU:(0,i.N)("dspace/menu/HIDE_MENU"),REINIT_MENUS:(0,i.N)("dspace/menu/REINIT_MENUS"),COLLAPSE_MENU_PREVIEW:(0,i.N)("dspace/menu/COLLAPSE_MENU_PREVIEW"),EXPAND_MENU_PREVIEW:(0,i.N)("dspace/menu/EXPAND_MENU_PREVIEW"),ADD_SECTION:(0,i.N)("dspace/menu-section/ADD_SECTION"),REMOVE_SECTION:(0,i.N)("dspace/menu-section/REMOVE_SECTION"),SHOW_SECTION:(0,i.N)("dspace/menu-section/SHOW_SECTION"),HIDE_SECTION:(0,i.N)("dspace/menu-section/HIDE_SECTION"),ACTIVATE_SECTION:(0,i.N)("dspace/menu-section/ACTIVATE_SECTION"),DEACTIVATE_SECTION:(0,i.N)("dspace/menu-section/DEACTIVATE_SECTION"),TOGGLE_ACTIVE_SECTION:(0,i.N)("dspace/menu-section/TOGGLE_ACTIVE_SECTION")};class u{constructor(M){this.type=t.COLLAPSE_MENU,this.menuID=M}}class e{constructor(M){this.type=t.EXPAND_MENU,this.menuID=M}}class h{constructor(M){this.type=t.TOGGLE_MENU,this.menuID=M}}class m{constructor(M){this.type=t.SHOW_MENU,this.menuID=M}}class f{constructor(M){this.type=t.HIDE_MENU,this.menuID=M}}class v{constructor(M){this.type=t.COLLAPSE_MENU_PREVIEW,this.menuID=M}}class E{constructor(M){this.type=t.EXPAND_MENU_PREVIEW,this.menuID=M}}class _{constructor(){this.type=t.REINIT_MENUS}}class C{constructor(M,L){this.menuID=M,this.id=L}}class I extends C{constructor(M,L){super(M,L.id),this.type=t.ADD_SECTION,this.section=L}}class R extends C{constructor(M,L){super(M,L),this.type=t.REMOVE_SECTION}}class T extends C{constructor(M,L){super(M,L),this.type=t.HIDE_SECTION}}class A extends C{constructor(M,L){super(M,L),this.type=t.SHOW_SECTION}}class p extends C{constructor(M,L){super(M,L),this.type=t.ACTIVATE_SECTION}}class x extends C{constructor(M,L){super(M,L),this.type=t.DEACTIVATE_SECTION}}class O extends C{constructor(M,L){super(M,L),this.type=t.TOGGLE_ACTIVE_SECTION}}},30458:(F,D,n)=>{"use strict";n.d(D,{Z:()=>me});var i=n(54438),t=n(84412),u=n(7673),e=n(25558),h=n(73028),m=n(96354),f=n(23294),v=n(65007),E=n(3970),_=n(82777),C=n(82522),I=n(39548),R=n(9901),T=n(99452),A=n(8886);n(58499);const x=["*"];function O(re,Ee){}let w=(()=>{class re extends A.J{getComponentName(){return"ExpandableNavbarSectionComponent"}importThemedComponent(Te){return n(88289)(`./${Te}/app/navbar/expandable-navbar-section/expandable-navbar-section.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,58499))}static{this.\u0275fac=(()=>{let Te;return function(ht){return(Te||(Te=i.xGo(re)))(ht||re)}})()}static{this.\u0275cmp=i.VBU({type:re,selectors:[["ds-expandable-navbar-section"]],standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:x,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(tt,ht){1&tt&&(i.NAR(),i.DNE(0,O,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return re})();var M=n(26821),L=n(60177),B=n(58003),k=n(41780),W=n(19340),U=n(6446),K=n(60456),Y=n(7901);function G(re,Ee){if(1&re&&i.nrm(0,"i"),2&re){const Te=i.XpG(2).$implicit;i.ZvI("fas fa-",Te.icon," fa-fw")}}function q(re,Ee){1&re&&i.nrm(0,"i",11)}function z(re,Ee){if(1&re&&(i.j41(0,"div",9),i.DNE(1,G,1,3,"i",10)(2,q,1,0,"ng-template",null,0,i.C5r),i.k0s()),2&re){const Te=i.sdS(3),tt=i.XpG().$implicit;i.R7$(),i.Y8G("ngIf",tt.icon)("ngIfElse",Te)}}function te(re,Ee){1&re&&i.eu8(0)}function Z(re,Ee){if(1&re&&(i.j41(0,"li",6),i.DNE(1,z,4,2,"div",7),i.nI1(2,"async"),i.DNE(3,te,1,0,"ng-container",8),i.nI1(4,"async"),i.nI1(5,"async"),i.k0s()),2&re){const Te=Ee.$implicit,tt=i.XpG();i.R7$(),i.Y8G("ngIf",i.bMT(2,3,tt.renderIcons$)),i.R7$(2),i.Y8G("ngComponentOutlet",i.bMT(4,5,tt.sectionMap$).get(Te.id).component)("ngComponentOutletInjector",i.bMT(5,7,tt.sectionMap$).get(Te.id).injector)}}let J=(()=>{class re extends U.a{constructor(Te,tt,ht,Fe){super(Te,tt,ht),this.menuService=tt,this.injector=ht,this.router=Fe,this.menuID=W.D.DSO_EDIT,this.itemModel=Te.model}ngOnInit(){this.menuService.activateSection(this.menuID,this.section.id),super.ngOnInit(),this.renderIcons$=this.subSections$.pipe((0,m.T)(Te=>Te.some(tt=>(0,_.a4)(tt.icon))))}static{this.\u0275fac=function(tt){return new(tt||re)(i.rXU("sectionDataProvider"),i.rXU(I.$),i.rXU(i.zZn),i.rXU(Y.Ix))}}static{this.\u0275cmp=i.VBU({type:re,selectors:[["ds-dso-edit-menu-expandable-section"]],standalone:!0,features:[i.Vt3,i.aNF],decls:10,vars:16,consts:[["spacer",""],["ngbDropdown","","container","body","placement","bottom-right",1,"dso-button-menu","mb-1"],["container","body",1,"d-flex","flex-row","flex-nowrap",3,"ngbTooltip"],["ngbDropdownToggle","",1,"btn","btn-dark","btn-sm",3,"title","dsBtnDisabled"],["ngbDropdownMenu","",1,"dso-edit-menu-dropdown"],["class","nav-item nav-link d-flex flex-row",4,"ngFor","ngForOf"],[1,"nav-item","nav-link","d-flex","flex-row"],["class","me-2",4,"ngIf"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[1,"me-2"],[3,"class",4,"ngIf","ngIfElse"],[1,"fas","fa-fw"]],template:function(tt,ht){1&tt&&(i.j41(0,"div",1)(1,"div",2),i.nI1(2,"translate"),i.j41(3,"button",3),i.nI1(4,"translate"),i.nI1(5,"translate"),i.nrm(6,"i"),i.k0s(),i.j41(7,"ul",4),i.DNE(8,Z,6,9,"li",5),i.nI1(9,"async"),i.k0s()()()),2&tt&&(i.R7$(),i.Y8G("ngbTooltip",i.bMT(2,8,ht.itemModel.text)),i.R7$(2),i.Y8G("title",i.bMT(4,10,ht.itemModel.text))("dsBtnDisabled",null==ht.section.model?null:ht.section.model.disabled),i.BMQ("aria-label",i.bMT(5,12,ht.itemModel.text)),i.R7$(3),i.ZvI("fas fa-",ht.section.icon," fa-fw"),i.R7$(2),i.Y8G("ngForOf",i.bMT(9,14,ht.subSections$)))},dependencies:[B.zH,B.tg,B.do,B.U0,B.n8,B.md,L.pM,L.bT,L.OI,k.h,k.D9,L.Jj,K.A],styles:[".btn-dark[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}.dso-button-menu[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg);color:#fff}ul.dropdown-menu[_ngcontent-%COMP%]     a{color:#fff}ul.dropdown-menu[_ngcontent-%COMP%]     a.disabled{color:var(--bs-btn-link-disabled-color)}ul.dropdown-menu[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{color:var(--bs-btn-link-disabled-color)}.dso-edit-menu-dropdown[_ngcontent-%COMP%]{max-width:min(600px,75vw)}"]})}}return re})();function Q(re,Ee){if(1&re&&(i.j41(0,"a",4),i.nrm(1,"i",5),i.j41(2,"span",6),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&re){const Te=i.XpG(2);i.Y8G("routerLink",Te.itemModel.link),i.R7$(),i.ZvI("fas fa-",Te.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(4,5,Te.itemModel.text))}}function ee(re,Ee){if(1&re&&(i.j41(0,"button",7),i.nrm(1,"i",5),i.j41(2,"span",6),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&re){const Te=i.XpG(2);i.Y8G("dsBtnDisabled",!0),i.R7$(),i.ZvI("fas fa-",Te.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(4,5,Te.itemModel.text))}}function le(re,Ee){if(1&re&&(i.j41(0,"div",1),i.nI1(1,"translate"),i.DNE(2,Q,5,7,"a",2)(3,ee,5,7,"button",3),i.k0s()),2&re){const Te=i.XpG();i.Y8G("ngbTooltip",i.bMT(1,3,Te.itemModel.text)),i.R7$(2),i.Y8G("ngIf",!Te.section.model.disabled),i.R7$(),i.Y8G("ngIf",Te.section.model.disabled)}}function ne(re,Ee){if(1&re){const Te=i.RV6();i.j41(0,"div",1),i.nI1(1,"translate"),i.j41(2,"button",8),i.bIt("click",function(ht){i.eBV(Te);const Fe=i.XpG();return i.Njj(Fe.activate(ht))}),i.nrm(3,"i",5),i.j41(4,"span",6),i.EFF(5),i.nI1(6,"translate"),i.k0s()()()}if(2&re){const Te=i.XpG();i.Y8G("ngbTooltip",i.bMT(1,6,Te.itemModel.text)),i.R7$(2),i.Y8G("dsBtnDisabled",Te.section.model.disabled),i.R7$(),i.ZvI("fas fa-",Te.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(6,8,Te.itemModel.text))}}let fe=(()=>{class re extends U.a{constructor(Te,tt,ht){super(Te,tt,ht),this.menuService=tt,this.injector=ht,this.menuID=W.D.DSO_EDIT,this.itemModel=Te.model}ngOnInit(){this.hasLink=(0,_.hj)(this.itemModel?.link),this.canActivate=(0,_.hj)(this.itemModel?.function),super.ngOnInit()}activate(Te){Te.preventDefault(),this.itemModel.disabled||this.itemModel.function(),Te.stopPropagation()}static{this.\u0275fac=function(tt){return new(tt||re)(i.rXU("sectionDataProvider"),i.rXU(I.$),i.rXU(i.zZn))}}static{this.\u0275cmp=i.VBU({type:re,selectors:[["ds-dso-edit-menu-section"]],standalone:!0,features:[i.Vt3,i.aNF],decls:2,vars:2,consts:[["class","dso-button-menu mb-1",3,"ngbTooltip",4,"ngIf"],[1,"dso-button-menu","mb-1",3,"ngbTooltip"],["class","btn btn-dark btn-sm",3,"routerLink",4,"ngIf"],["class","btn btn-dark btn-sm",3,"dsBtnDisabled",4,"ngIf"],[1,"btn","btn-dark","btn-sm",3,"routerLink"],["aria-hidden","true"],[1,"sr-only"],[1,"btn","btn-dark","btn-sm",3,"dsBtnDisabled"],[1,"btn","btn-dark","btn-sm",3,"click","dsBtnDisabled"]],template:function(tt,ht){1&tt&&i.DNE(0,le,4,5,"div",0)(1,ne,7,10,"div",0),2&tt&&(i.Y8G("ngIf",!ht.canActivate),i.R7$(),i.Y8G("ngIf",ht.canActivate))},dependencies:[L.bT,B.n8,B.md,Y.Wk,k.h,k.D9,K.A],styles:[".btn-dark[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}"]})}}return re})();var se=n(81569);const ce=new Map;ce.set(W.D.ADMIN,new Map),ce.get(W.D.ADMIN).set(!1,new Map),ce.get(W.D.ADMIN).get(!1).set(se.SS,R.g),ce.get(W.D.ADMIN).set(!0,new Map),ce.get(W.D.ADMIN).get(!0).set(se.SS,T.W),ce.set(W.D.PUBLIC,new Map),ce.get(W.D.PUBLIC).set(!1,new Map),ce.get(W.D.PUBLIC).get(!1).set(se.SS,M.X),ce.get(W.D.PUBLIC).set(!0,new Map),ce.get(W.D.PUBLIC).get(!0).set(se.SS,w),ce.set(W.D.DSO_EDIT,new Map),ce.get(W.D.DSO_EDIT).set(!1,new Map),ce.get(W.D.DSO_EDIT).get(!1).set(se.SS,fe),ce.get(W.D.DSO_EDIT).set(!0,new Map),ce.get(W.D.DSO_EDIT).get(!0).set(se.SS,J);let me=(()=>{class re{constructor(Te,tt,ht,Fe,Et){this.menuService=Te,this.injector=tt,this.authorizationService=ht,this.route=Fe,this.themeService=Et,this.sectionMap$=new t.t(new Map),this.subs=[]}ngOnInit(){this.activatedRouteLastChild=this.getActivatedRoute(this.route),this.menuCollapsed=this.menuService.isMenuCollapsed(this.menuID),this.menuPreviewCollapsed=this.menuService.isMenuPreviewCollapsed(this.menuID),this.menuVisible=this.menuService.isMenuVisible(this.menuID),this.sections=this.menuService.getMenuTopSections(this.menuID),this.subs.push(this.sections.pipe((0,e.n)(Te=>Te),(0,h.Z)(Te=>Te.id.includes("statistics")?this.getAuthorizedStatistics(Te):(0,u.of)(Te)),(0,_.VT)(),(0,e.n)(Te=>this.getSectionComponent(Te).pipe((0,m.T)(tt=>({section:Te,component:tt})))),(0,f.F)((Te,tt)=>Te.section.id===tt.section.id&&Te.component.prototype===tt.component.prototype)).subscribe(({section:Te,component:tt})=>{const ht=this.sectionMap$.getValue();ht.set(Te.id,{injector:this.getSectionDataInjector(Te),component:tt}),this.sectionMap$.next(ht)}))}getActivatedRoute(Te){return Te.children.length>0?this.getActivatedRoute(Te.firstChild):Te}getAuthorizedStatistics(Te){return this.activatedRouteLastChild.data.pipe((0,e.n)(tt=>this.authorizationService.isAuthorized(E._.CanViewUsageStatistics,this.getObjectUrl(tt)).pipe((0,m.T)(ht=>ht?Te:{}))))}getObjectUrl(Te){return(Te.site?Te.site:Te.dso?.payload)?._links?.self?.href}toggle(Te){Te.preventDefault(),this.menuService.toggleMenu(this.menuID)}expand(Te){Te.preventDefault(),this.menuService.expandMenu(this.menuID)}collapse(Te){Te.preventDefault(),this.menuService.collapseMenu(this.menuID)}expandPreview(Te){Te.preventDefault(),this.previewToggleDebounce(()=>this.menuService.expandMenuPreview(this.menuID),100)}collapsePreview(Te){Te.preventDefault(),this.previewToggleDebounce(()=>this.menuService.collapseMenuPreview(this.menuID),400)}previewToggleDebounce(Te,tt){(0,_.a4)(this.previewTimer)&&clearTimeout(this.previewTimer),this.previewTimer=setTimeout(Te,tt)}getSectionComponent(Te){return this.menuService.hasSubSections(this.menuID,Te.id).pipe((0,m.T)(tt=>function be(re,Ee,Te){const tt=ce.get(re).get(Ee).get(Te);return(0,_.a4)(tt)?tt:ce.get(re).get(Ee).get(se.SS)}(this.menuID,tt,this.themeService.getThemeName())))}getSectionDataInjector(Te){return i.zZn.create({providers:[{provide:"sectionDataProvider",useFactory:()=>Te,deps:[]}],parent:this.injector})}ngOnDestroy(){this.subs.filter(Te=>(0,_.a4)(Te)).forEach(Te=>Te.unsubscribe())}static{this.\u0275fac=function(tt){return new(tt||re)(i.rXU(I.$),i.rXU(i.zZn),i.rXU(v.AuthorizationDataService),i.rXU(Y.nX),i.rXU(C.Fs))}}static{this.\u0275cmp=i.VBU({type:re,selectors:[["ds-menu"]],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(tt,ht){},encapsulation:2})}}return re})()},39548:(F,D,n)=>{"use strict";n.d(D,{$:()=>B});var i=n(7901),t=n(25499),u=n(84572),e=n(96354),h=n(23294),m=n(25558),f=n(5964),v=n(96697),E=n(195),_=n(46588),C=n(82777),I=n(54476),R=n(19340),T=n(54438);function A(k,W){return(0,t.Mz)(W,U=>{if((0,C.a4)(U))return U[k]})}const p=k=>k.menus,x=k=>(0,E.pc)(k,p),O=k=>(0,C.a4)(k)?k.sections:{},M=k=>k.sectionToSubsectionIndex,L=k=>A(k,M);let B=(()=>{class k{constructor(U,K,Y){this.store=U,this.route=K,this.router=Y}getMenu(U){return this.store.pipe((0,t.Lt)(x(U)))}getMenuTopSections(U,K=!0){return this.store.pipe((0,t.Lt)(x(U)),(0,t.Lt)(O),(0,e.T)(Y=>Object.values(Y)),(0,h.F)((0,_.W2)()),(0,e.T)(Y=>Y.filter(G=>(0,C.Tn)(G.parentID)).filter(G=>!K||G.visible)))}getSubSectionsByParentID(U,K,Y=!0){return this.store.pipe((0,t.Lt)(x(U)),(0,t.Lt)(L(K)),(0,e.T)(G=>(0,C.hj)(G)?G:[]),(0,m.n)(G=>(0,u.z)(G.map(q=>this.getMenuSection(U,q)))),(0,e.T)(G=>G.filter(q=>(0,C.a4)(q)&&(!Y||q.visible))))}hasSubSections(U,K){return this.store.pipe((0,t.Lt)(x(U)),(0,t.Lt)(L(K)),(0,e.T)(Y=>(0,C.hj)(Y)))}getMenuSection(U,K){return this.store.pipe((0,t.Lt)(x(U)),(0,t.Lt)((k=>A(k,O))(K)))}getNonPersistentMenuSections(U){return this.getMenu(U).pipe((0,e.T)(K=>Object.values(K.sections).filter(Y=>!Y.shouldPersistOnRouteChange)))}addSection(U,K){this.store.dispatch(new I.YN(U,K))}removeSection(U,K){this.store.dispatch(new I.Hw(U,K))}isMenuCollapsed(U){return this.getMenu(U).pipe((0,e.T)(K=>(0,C.a4)(K)?K.collapsed:void 0))}isMenuPreviewCollapsed(U){return this.getMenu(U).pipe((0,e.T)(K=>(0,C.a4)(K)?K.previewCollapsed:void 0))}isMenuVisibleWithVisibleSections(U){return(0,u.z)([this.isMenuVisible(U),this.menuHasVisibleSections(U)]).pipe((0,e.T)(([K,Y])=>K&&Y))}isMenuVisible(U){return this.getMenu(U).pipe((0,e.T)(K=>(0,C.a4)(K)?K.visible:void 0))}menuHasVisibleSections(U){return this.getMenu(U).pipe((0,e.T)(K=>(0,C.a4)(K)?Object.values(K.sections).some(Y=>Y.visible&&void 0===Y.parentID):void 0))}expandMenu(U){this.store.dispatch(new I.eq(U))}collapseMenu(U){this.store.dispatch(new I.F$(U))}expandMenuPreview(U){this.store.dispatch(new I.oh(U))}collapseMenuPreview(U){this.store.dispatch(new I.JK(U))}toggleMenu(U){this.store.dispatch(new I.sP(U))}showMenu(U){this.store.dispatch(new I.JG(U))}showMenuSection(U,K){this.store.dispatch(new I.C0(U,K))}hideMenu(U){this.store.dispatch(new I.ie(U))}hideMenuSection(U,K){this.store.dispatch(new I.FH(U,K))}toggleActiveSection(U,K){this.store.dispatch(new I.tU(U,K))}activateSection(U,K){this.store.dispatch(new I.cf(U,K))}deactivateSection(U,K){this.store.dispatch(new I.j$(U,K))}isSectionActive(U,K){return this.getMenuSection(U,K).pipe((0,C.Az)(),(0,e.T)(Y=>Y.active))}isSectionVisible(U,K){return this.getMenuSection(U,K).pipe((0,e.T)(Y=>Y.visible))}listenForRouteChanges(){this.router.events.pipe((0,f.p)(U=>U instanceof i.wF)).subscribe(()=>{Object.values(R.D).forEach(U=>{this.buildRouteMenuSections(U)})})}buildRouteMenuSections(U){this.getNonPersistentMenuSections(U).pipe((0,e.T)(K=>K.map(Y=>Y.id)),(0,v.s)(1)).subscribe(K=>{this.resolveRouteMenuSections(this.route.root,U).forEach(G=>{const q=K.indexOf(G.id);q>-1?K.splice(q,1):this.addSection(U,G)}),K.forEach(G=>{this.removeSection(U,G)})})}resolveRouteMenuSections(U,K){const Y=U.snapshot.data,G=U.snapshot.params,q=(0,C.Tn)(U.firstChild);if((0,C.a4)(Y)&&(0,C.a4)(Y.menu)&&(0,C.a4)(Y.menu[K])){let z=Y.menu[K];if(z=this.resolveSubstitutions(z,G),Array.isArray(z)||(z=[z]),q)return[...z];{const te=this.resolveRouteMenuSections(U.firstChild,K);return[...z.filter(Z=>!te.map(J=>J.id).includes(Z.id)),...te]}}return q?[]:this.resolveRouteMenuSections(U.firstChild,K)}resolveSubstitutions(U,K){let Y;return(0,C.Im)(K)?Y=U:"string"==typeof U?(Y=U,Object.entries(K).forEach(([G,q])=>Y=Y.replaceAll(`:${G}`,q))):Array.isArray(U)?(Y=[],U.forEach((G,q)=>{Y[q]=this.resolveSubstitutions(U[q],K)})):"object"==typeof U?(Y={},Object.keys(U).forEach(G=>{Y[G]=this.resolveSubstitutions(U[G],K)})):Y=U,Y}static{this.\u0275fac=function(K){return new(K||k)(T.KVO(t.il),T.KVO(i.nX),T.KVO(i.Ix))}}static{this.\u0275prov=T.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})()},79222:(F,D,n)=>{"use strict";n.d(D,{Q:()=>h});var i=n(60177),t=n(54438);const u=["*"];function e(m,f){if(1&m&&(t.j41(0,"h2",4),t.EFF(1),t.k0s()),2&m){const v=t.XpG();t.R7$(),t.JRh(v.label)}}let h=(()=>{class m{constructor(){this.hideIfNoTextContent=!0}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ds-metadata-field-wrapper"]],inputs:{label:"label",hideIfNoTextContent:"hideIfNoTextContent"},standalone:!0,features:[t.aNF],ngContentSelectors:u,decls:5,vars:3,consts:[["content",""],[1,"simple-view-element"],["class","simple-view-element-header",4,"ngIf"],[1,"simple-view-element-body"],[1,"simple-view-element-header"]],template:function(E,_){if(1&E&&(t.NAR(),t.j41(0,"div",1),t.DNE(1,e,2,1,"h2",2),t.j41(2,"div",3,0),t.SdG(4),t.k0s()()),2&E){const C=t.sdS(3);t.AVh("d-none",_.hideIfNoTextContent&&0===C.textContent.trim().length),t.R7$(),t.Y8G("ngIf",_.label)}},dependencies:[i.bT],styles:["[_nghost-%COMP%]   .simple-view-element[_ngcontent-%COMP%]{margin-bottom:15px}[_nghost-%COMP%]   .simple-view-element-header[_ngcontent-%COMP%]{font-size:1.25rem}"]})}}return m})()},32272:(F,D,n)=>{"use strict";n.d(D,{V:()=>f}),n(26292);var t=n(22924),u=n(82522),e=n(90190),h=n(54438);function m(v,E){}let f=(()=>{class v extends t.e{constructor(_,C){super(_),this.themeService=_,this.getMetadataRepresentationComponent=C,this.inputNamesDependentForComponent=["context","mdRepresentation"],this.inputNames=["context","mdRepresentation"]}getComponent(){return this.getMetadataRepresentationComponent(this.mdRepresentation.itemType,this.mdRepresentation.representationType,this.context,this.themeService.getThemeName())}static{this.\u0275fac=function(C){return new(C||v)(h.rXU(u.Fs),h.rXU(e.RM))}}static{this.\u0275cmp=h.VBU({type:v,selectors:[["ds-metadata-representation-loader"]],inputs:{context:"context",mdRepresentation:"mdRepresentation"},standalone:!0,features:[h.Vt3,h.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(C,I){1&C&&h.DNE(0,m,0,0,"ng-template",1,0,h.C5r)},encapsulation:2})}}return v})()},90190:(F,D,n)=>{"use strict";n.d(D,{RM:()=>ht});var i=n(54438),t=n(85448),u=n(7901),e=n(58003),m=(n(93498),n(90887));n(26292);let v=(()=>{class Ne{isLink(){return new RegExp(/^https?:\/\/.*/).test(this.mdRepresentation.getValue())}static{this.\u0275fac=function(Zt){return new(Zt||Ne)}}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-metadata-representation-list-element"]],inputs:{context:"context",mdRepresentation:"mdRepresentation"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(Zt,mt){},encapsulation:2})}}return Ne})(),E=(()=>{class Ne extends v{ngOnInit(){this.itemPageRoute=(0,m._o)(this.mdRepresentation)}static{this.\u0275fac=(()=>{let Gt;return function(mt){return(Gt||(Gt=i.xGo(Ne)))(mt||Ne)}})()}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-item-metadata-representation-list-element"]],inputs:{mdRepresentation:"mdRepresentation"},standalone:!0,features:[i.Vt3,i.aNF],decls:0,vars:0,template:function(Zt,mt){},encapsulation:2})}}return Ne})();var _=n(21308);const C=Ne=>[Ne],I=()=>["dc.description"];function R(Ne,rt){if(1&Ne&&(i.j41(0,"span",3)(1,"span",4),i.nrm(2,"span",5),i.k0s()()),2&Ne){const Gt=i.XpG();i.R7$(2),i.Y8G("innerHTML",Gt.mdRepresentation.firstMetadataValue(i.lJ4(1,I)),i.npT)}}let T=(()=>{class Ne extends E{static{this.\u0275fac=(()=>{let Gt;return function(mt){return(Gt||(Gt=i.xGo(Ne)))(mt||Ne)}})()}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-org-unit-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:7,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-job-title"],[3,"innerHTML"]],template:function(Zt,mt){if(1&Zt&&(i.DNE(0,R,3,2,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.k0s()),2&Zt){const Pt=i.sdS(1);i.R7$(2),i.Y8G("id",mt.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(4,C,mt.itemPageRoute))("innerHTML",mt.mdRepresentation.getValue(),i.npT)("ngbTooltip",mt.mdRepresentation.allMetadata(i.lJ4(6,I)).length>0?Pt:null)}},dependencies:[_.d,u.Wk,e.n8,e.md],encapsulation:2})}}return Ne})();var A=n(60177),x=(n(14391),n(41780));const O=Ne=>({"not-authenticated":Ne});function w(Ne,rt){if(1&Ne&&(i.j41(0,"span",2),i.EFF(1),i.k0s()),2&Ne){const Gt=i.XpG();i.R7$(),i.JRh(Gt.orcidTooltip)}}let M=(()=>{class Ne{constructor(Gt){this.translateService=Gt}ngOnInit(){this.orcidTooltip=this.translateService.instant(this.authenticatedTimestamp?"person.orcid-tooltip.authenticated":"person.orcid-tooltip.not-authenticated",{orcid:this.orcid.value})}static{this.\u0275fac=function(Zt){return new(Zt||Ne)(i.rXU(x.c$))}}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-orcid-badge-and-tooltip"]],inputs:{orcid:"orcid",authenticatedTimestamp:"authenticatedTimestamp"},standalone:!0,features:[i.aNF],decls:3,vars:6,consts:[["orcidTooltipTemplate",""],["placement","top","src","assets/images/orcid.logo.icon.svg","data-test","orcidIcon",1,"orcid-icon",3,"ngbTooltip","ngClass","alt"],[1,"text-muted"]],template:function(Zt,mt){if(1&Zt&&(i.nrm(0,"img",1),i.DNE(1,w,2,1,"ng-template",null,0,i.C5r)),2&Zt){const Pt=i.sdS(2);i.Mz_("alt","ORCID ",mt.orcidTooltip,""),i.Y8G("ngbTooltip",Pt)("ngClass",i.eq3(4,O,!mt.authenticatedTimestamp))}},dependencies:[e.n8,e.md,A.YU],styles:["[_nghost-%COMP%]{display:inline-block}.orcid-icon[_ngcontent-%COMP%]{height:1.2rem}.orcid-icon.not-authenticated[_ngcontent-%COMP%]{filter:grayscale(100%)}"]})}}return Ne})();const L=Ne=>[Ne],B=()=>["person.jobTitle"];function k(Ne,rt){1&Ne&&(i.j41(0,"span"),i.EFF(1,"; "),i.k0s())}function W(Ne,rt){if(1&Ne&&(i.j41(0,"span"),i.nrm(1,"span",8),i.DNE(2,k,2,0,"span",9),i.k0s()),2&Ne){const Gt=rt.$implicit,Zt=rt.last;i.R7$(),i.Y8G("innerHTML",Gt,i.npT),i.R7$(),i.Y8G("ngIf",!Zt)}}function U(Ne,rt){if(1&Ne&&(i.j41(0,"span",6),i.DNE(1,W,3,2,"span",7),i.k0s()),2&Ne){const Gt=i.XpG(2);i.R7$(),i.Y8G("ngForOf",Gt.mdRepresentation.allMetadataValues(i.lJ4(1,B)))}}function K(Ne,rt){if(1&Ne&&(i.j41(0,"span",4),i.DNE(1,U,2,2,"span",5),i.k0s()),2&Ne){const Gt=i.XpG();i.R7$(),i.Y8G("ngIf",Gt.mdRepresentation.allMetadata(i.lJ4(1,B)).length>0)}}function Y(Ne,rt){if(1&Ne&&i.nrm(0,"ds-orcid-badge-and-tooltip",10),2&Ne){const Gt=i.XpG();i.Y8G("orcid",Gt.mdRepresentation.firstMetadata("person.identifier.orcid"))("authenticatedTimestamp",Gt.mdRepresentation.firstMetadata("dspace.orcid.authenticated"))}}let G=(()=>{class Ne extends E{static{this.\u0275fac=(()=>{let Gt;return function(mt){return(Gt||(Gt=i.xGo(Ne)))(mt||Ne)}})()}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-person-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:5,vars:8,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],["class","ml-1",3,"orcid","authenticatedTimestamp",4,"ngIf"],[1,"text-muted"],["class","item-list-job-title",4,"ngIf"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngIf"],[1,"ml-1",3,"orcid","authenticatedTimestamp"]],template:function(Zt,mt){if(1&Zt&&(i.DNE(0,K,2,2,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.DNE(4,Y,1,2,"ds-orcid-badge-and-tooltip",3),i.k0s()),2&Zt){const Pt=i.sdS(1);i.R7$(2),i.Y8G("id",mt.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(5,L,mt.itemPageRoute))("innerHTML",mt.mdRepresentation.getValue(),i.npT)("ngbTooltip",mt.mdRepresentation.allMetadata(i.lJ4(7,B)).length>0?Pt:null),i.R7$(),i.Y8G("ngIf",mt.mdRepresentation.firstMetadata("person.identifier.orcid"))}},dependencies:[A.bT,A.pM,_.d,u.Wk,e.n8,e.md,M],encapsulation:2})}}return Ne})();var q=n(96526);const z=Ne=>[Ne];function te(Ne,rt){if(1&Ne&&(i.j41(0,"span",3)(1,"span",4),i.nrm(2,"span",5),i.k0s()()),2&Ne){const Gt=i.XpG();i.R7$(2),i.Y8G("innerHTML",Gt.dsoNameService.getName(Gt.mdRepresentation),i.npT)}}let Z=(()=>{class Ne extends E{constructor(Gt){super(),this.dsoNameService=Gt}static{this.\u0275fac=function(Zt){return new(Zt||Ne)(i.rXU(q.f))}}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-project-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:6,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-project-title"],[3,"innerHTML"]],template:function(Zt,mt){if(1&Zt&&(i.DNE(0,te,3,1,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.k0s()),2&Zt){const Pt=i.sdS(1);i.R7$(2),i.Y8G("id",mt.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(4,z,mt.itemPageRoute))("innerHTML",mt.dsoNameService.getName(mt.mdRepresentation),i.npT)("ngbTooltip",mt.dsoNameService.getName(mt.mdRepresentation).length>0?Pt:null)}},dependencies:[_.d,u.Wk,e.n8,e.md],encapsulation:2})}}return Ne})();var J=n(82777),Q=n(81569),ee=n(7654);const le=Ne=>["/browse/",Ne];function ne(Ne,rt){if(1&Ne&&(i.j41(0,"a",1),i.EFF(1),i.k0s()),2&Ne){const Gt=i.XpG();i.Y8G("routerLink",i.eq3(3,le,Gt.mdRepresentation.browseDefinition.id))("queryParams",Gt.getQueryParams()),i.R7$(),i.SpI(" ",Gt.mdRepresentation.getValue()," ")}}let fe=(()=>{class Ne extends v{getQueryParams(){const Gt={startsWith:this.mdRepresentation.getValue()};return this.mdRepresentation.browseDefinition.getRenderType()===ee.o.value?{value:this.mdRepresentation.getValue()}:Gt}static{this.\u0275fac=(()=>{let Gt;return function(mt){return(Gt||(Gt=i.xGo(Ne)))(mt||Ne)}})()}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-browse-link-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:1,consts:[["target","_blank","class","dont-break-out",3,"routerLink","queryParams",4,"ngIf"],["target","_blank",1,"dont-break-out",3,"routerLink","queryParams"]],template:function(Zt,mt){1&Zt&&(i.j41(0,"div"),i.DNE(1,ne,2,5,"a",0),i.j41(2,"b"),i.EFF(3,"(new browse link page)"),i.k0s()()),2&Zt&&(i.R7$(),i.Y8G("ngIf","browse_link"===mt.mdRepresentation.representationType))},dependencies:[A.bT,u.Wk],encapsulation:2})}}return Ne})();var se=n(78448),ce=n(17191);let De=(()=>{class Ne extends v{constructor(){super(...arguments),this.viewMode=se.n.ListElement}static{this.\u0275fac=(()=>{let Gt;return function(mt){return(Gt||(Gt=i.xGo(Ne)))(mt||Ne)}})()}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:1,vars:2,consts:[[3,"object","viewMode"]],template:function(Zt,mt){1&Zt&&i.nrm(0,"ds-listable-object-component-loader",0),2&Zt&&i.Y8G("object",mt.mdRepresentation)("viewMode",mt.viewMode)},dependencies:[ce.v],encapsulation:2})}}return Ne})();const be=Ne=>["/browse/",Ne];function me(Ne,rt){if(1&Ne&&(i.j41(0,"span",3),i.EFF(1),i.k0s()),2&Ne){const Gt=i.XpG();i.R7$(),i.SpI(" ",Gt.mdRepresentation.getValue()," ")}}function re(Ne,rt){if(1&Ne&&(i.j41(0,"a",4),i.EFF(1),i.k0s()),2&Ne){const Gt=i.XpG();i.Y8G("href",Gt.mdRepresentation.getValue(),i.B4B),i.R7$(),i.SpI(" ",Gt.mdRepresentation.getValue()," ")}}function Ee(Ne,rt){if(1&Ne&&(i.j41(0,"span",3),i.EFF(1),i.k0s()),2&Ne){const Gt=i.XpG();i.R7$(),i.JRh(Gt.mdRepresentation.getValue())}}function Te(Ne,rt){if(1&Ne&&(i.j41(0,"a",5),i.EFF(1),i.k0s()),2&Ne){const Gt=i.XpG();i.Y8G("routerLink",i.eq3(3,be,Gt.mdRepresentation.browseDefinition.id))("queryParams",Gt.getQueryParams()),i.R7$(),i.SpI(" ",Gt.mdRepresentation.getValue()," ")}}let tt=(()=>{class Ne extends v{getQueryParams(){const Gt={startsWith:this.mdRepresentation.getValue()};return this.mdRepresentation.browseDefinition.getRenderType()===ee.o.value?{value:this.mdRepresentation.getValue()}:Gt}static{this.\u0275fac=(()=>{let Gt;return function(mt){return(Gt||(Gt=i.xGo(Ne)))(mt||Ne)}})()}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-plain-text-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:5,vars:4,consts:[["class","dont-break-out",4,"ngIf"],["class","dont-break-out","target","_blank",3,"href",4,"ngIf"],["class","dont-break-out ds-browse-link",3,"routerLink","queryParams",4,"ngIf"],[1,"dont-break-out"],["target","_blank",1,"dont-break-out",3,"href"],[1,"dont-break-out","ds-browse-link",3,"routerLink","queryParams"]],template:function(Zt,mt){1&Zt&&(i.j41(0,"div"),i.DNE(1,me,2,1,"span",0)(2,re,2,2,"a",1)(3,Ee,2,1,"span",0)(4,Te,2,5,"a",2),i.k0s()),2&Zt&&(i.R7$(),i.Y8G("ngIf","plain_text"===mt.mdRepresentation.representationType&&!mt.isLink()),i.R7$(),i.Y8G("ngIf","plain_text"===mt.mdRepresentation.representationType&&mt.isLink()),i.R7$(),i.Y8G("ngIf","authority_controlled"===mt.mdRepresentation.representationType),i.R7$(),i.Y8G("ngIf","browse_link"===mt.mdRepresentation.representationType))},dependencies:[A.bT,u.Wk],encapsulation:2})}}return Ne})();const ht=new i.nKC("getMetadataRepresentationComponent",{providedIn:"root",factory:()=>Mt}),Fe="Publication",Et=t.d.PlainText,Ye=new Map([["Publication",new Map([[t.d.PlainText,new Map([[Q.A2,new Map([[Q.SS,tt]])]])],[t.d.AuthorityControlled,new Map([[Q.A2,new Map([[Q.SS,tt]])]])],[t.d.BrowseLink,new Map([[Q.A2,new Map([[Q.SS,fe]])]])],[t.d.Item,new Map([[Q.A2,new Map([[Q.SS,De]])]])]])],["Person",new Map([[t.d.Item,new Map([[Q.A2,new Map([[Q.SS,G]])]])]])],["OrgUnit",new Map([[t.d.Item,new Map([[Q.A2,new Map([[Q.SS,T]])]])]])],["Project",new Map([[t.d.Item,new Map([[Q.A2,new Map([[Q.SS,Z]])]])]])]]);function Mt(Ne,rt,Gt=Q.A2,Zt=Q.SS){const mt=Ye.get(Ne);if((0,J.a4)(mt)){const Pt=mt.get(rt);if((0,J.a4)(Pt)){const Ce=Pt.get(Gt);if((0,J.a4)(Ce)){const je=(0,Q.eW)(Ce,Zt);if((0,J.a4)(je))return je;if((0,J.a4)(Ce.get(Q.SS)))return Ce.get(Q.SS)}if((0,J.a4)(Pt.get(Q.A2))&&(0,J.a4)(Pt.get(Q.A2).get(Q.SS)))return Pt.get(Q.A2).get(Q.SS)}if((0,J.a4)(mt.get(Et))&&(0,J.a4)(mt.get(Et).get(Q.A2))&&(0,J.a4)(mt.get(Et).get(Q.A2).get(Q.SS)))return mt.get(Et).get(Q.A2).get(Q.SS)}return Ye.get(Fe).get(Et).get(Q.A2).get(Q.SS)}},43796:(F,D,n)=>{"use strict";n.d(D,{SU:()=>Ht,u3:()=>_t});var i=n(60177),t=n(89417),u=n(58003),e=n(41780),h=n(13933),m=n(18226),f=n(96354),v=n(32473),E=n(52749),_=n(56760),C=n(80183),I=n(52837),R=n(12532),T=n(39806),A=n(43782),p=n(54438),x=n(7901);let O=(()=>{class We extends A.${constructor(lt,gt,Ct,Wt,fn,An,Yn,$n,_s,Ps){super(lt,gt,Ct,Wt,fn,An,_s,Ps),this.route=lt,this.workflowItemService=gt,this.router=Ct,this.routeService=Wt,this.notificationsService=fn,this.translationService=An,this.workflowActionService=Yn,this.claimedTaskDataService=$n,this.requestService=_s,this.location=Ps}ngOnInit(){super.ngOnInit(),this.workflowAction$=this.workflowActionService.findById(this.route.snapshot.queryParams.workflow).pipe((0,C.ak)())}performAction(){this.sendRequest(this.route.snapshot.queryParams.claimedTask).subscribe(lt=>{if(lt){const gt=this.translationService.get("workflow-item."+this.type+".notification.success.title"),Ct=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(gt,Ct),this.previousPage()}else{const gt=this.translationService.get("workflow-item."+this.type+".notification.error.title"),Ct=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(gt,Ct)}})}sendRequest(lt){return this.claimedTaskDataService.submitTask(lt,this.createBody()).pipe((0,f.T)(gt=>gt.hasSucceeded))}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(x.nX),p.rXU(I.WorkflowItemDataService),p.rXU(x.Ix),p.rXU(_.v$),p.rXU(T.I),p.rXU(e.c$),p.rXU(E.WorkflowActionDataService),p.rXU(R.ClaimedTaskDataService),p.rXU(v.B),p.rXU(i.aZ))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-advanced-workflow-action"]],features:[p.Vt3],decls:0,vars:0,template:function(gt,Ct){},encapsulation:2})}}return We})();const w=We=>({"is-invalid":We}),M=We=>({"text-danger":We});function L(We,sn){1&We&&(p.j41(0,"p"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"advanced-workflow-action.rating.description-requiredDescription")," "))}function B(We,sn){1&We&&(p.j41(0,"p"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"advanced-workflow-action.rating.description")," "))}function k(We,sn){1&We&&(p.j41(0,"span"),p.EFF(1,"*"),p.k0s())}function W(We,sn){1&We&&(p.j41(0,"small",15),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"advanced-workflow-action.rating.form.review.error")," "))}function U(We,sn){1&We&&(p.j41(0,"small",15),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"advanced-workflow-action.rating.form.rating.error")," "))}function K(We,sn){if(1&We){const lt=p.RV6();p.j41(0,"form",7),p.bIt("ngSubmit",function(){p.eBV(lt);const Ct=p.XpG(2);return p.Njj(Ct.performAction())}),p.j41(1,"div",8)(2,"label",9)(3,"span"),p.EFF(4),p.nI1(5,"translate"),p.k0s(),p.DNE(6,k,2,0,"span",1),p.k0s(),p.j41(7,"textarea",10),p.EFF(8,"      "),p.k0s(),p.DNE(9,W,3,3,"small",11),p.k0s(),p.j41(10,"div",8)(11,"label",12),p.EFF(12),p.nI1(13,"translate"),p.k0s(),p.j41(14,"div",13),p.nrm(15,"ngb-rating",14),p.k0s(),p.DNE(16,U,3,3,"small",11),p.k0s()()}if(2&We){const lt=p.XpG().ngVar,gt=p.XpG();p.Y8G("formGroup",gt.ratingForm),p.R7$(4),p.JRh(p.bMT(5,10,"advanced-workflow-action.rating.form.review.label")),p.R7$(2),p.Y8G("ngIf",null==lt?null:lt.descriptionRequired),p.R7$(),p.Y8G("ngClass",p.eq3(14,w,gt.isInvalid("review")))("required",null==lt?null:lt.descriptionRequired),p.R7$(2),p.Y8G("ngIf",gt.isInvalid("review")),p.R7$(3),p.SpI(" ",p.bMT(13,12,"advanced-workflow-action.rating.form.rating.label"),"* "),p.R7$(3),p.Y8G("max",null==lt?null:lt.maxValue)("ngClass",p.eq3(16,M,gt.isInvalid("rating"))),p.R7$(),p.Y8G("ngIf",gt.isInvalid("rating"))}}function Y(We,sn){if(1&We&&(p.nrm(0,"ds-modify-item-overview",16),p.nI1(1,"async")),2&We){const lt=p.XpG(2);p.Y8G("item",p.bMT(1,1,lt.item$))}}function G(We,sn){if(1&We){const lt=p.RV6();p.j41(0,"div"),p.DNE(1,L,3,3,"p",1)(2,B,3,3,"p",1)(3,K,17,18,"form",2)(4,Y,2,3,"ds-modify-item-overview",3),p.nI1(5,"async"),p.j41(6,"div",4)(7,"button",5),p.bIt("click",function(){p.eBV(lt);const Ct=p.XpG();return p.Njj(Ct.previousPage())}),p.EFF(8),p.nI1(9,"translate"),p.k0s(),p.j41(10,"button",6),p.bIt("click",function(){p.eBV(lt);const Ct=p.XpG();return p.Njj(Ct.performAction())}),p.EFF(11),p.nI1(12,"translate"),p.k0s()()()}if(2&We){const lt=sn.ngVar,gt=p.XpG();p.R7$(),p.Y8G("ngIf",null==lt?null:lt.descriptionRequired),p.R7$(),p.Y8G("ngIf",!(null!=lt&&lt.descriptionRequired)),p.R7$(),p.Y8G("ngIf",gt.ratingForm),p.R7$(),p.Y8G("ngIf",p.bMT(5,6,gt.item$)),p.R7$(4),p.SpI(" ",p.bMT(9,8,"workflow-item."+gt.getType()+".button.cancel")," "),p.R7$(3),p.SpI(" ",p.bMT(12,10,"workflow-item."+gt.getType()+".button.confirm")," ")}}const q="submit_score",z="scorereviewaction";let te=(()=>{class We extends O{ngOnInit(){super.ngOnInit(),this.ratingForm=new t.J3({review:new t.hs(""),rating:new t.hs(0,t.k0.min(1))})}performAction(){this.ratingForm.updateValueAndValidity(),this.ratingForm.valid?super.performAction():this.ratingForm.markAllAsTouched()}createBody(){const lt={[q]:!0,score:this.ratingForm.get("rating").value};if(""!==this.ratingForm.get("review").value){const gt=this.ratingForm.get("review").value;Object.assign(lt,{review:gt})}return lt}getType(){return z}getAdvancedInfo(lt){return lt?lt.advancedInfo[0]:null}isInvalid(lt){return this.ratingForm.get(lt).touched&&!this.ratingForm.get(lt).valid}static{this.\u0275fac=(()=>{let lt;return function(Ct){return(lt||(lt=p.xGo(We)))(Ct||We)}})()}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-advanced-workflow-action-rating-reviewer"]],standalone:!0,features:[p.Vt3,p.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"item",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-end"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"control-label"],["formControlName","review",1,"form-control",3,"ngClass","required"],["class","invalid-feedback d-block",4,"ngIf"],[1,"control-label","mb-1"],[1,"d-block"],["formControlName","rating",3,"max","ngClass"],[1,"invalid-feedback","d-block"],[3,"item"]],template:function(gt,Ct){1&gt&&(p.DNE(0,G,13,12,"div",0),p.nI1(1,"async")),2&gt&&p.Y8G("ngVar",Ct.getAdvancedInfo(p.bMT(1,1,Ct.workflowAction$)))},dependencies:[h.W,i.bT,i.Jj,e.h,e.D9,u.Ny,u.hC,i.YU,t.X1,t.qT,t.me,t.BC,t.cb,t.YS,t.j4,t.JD,m.r]})}}return We})();var Z=n(82777),J=n(7673),Q=n(72796),ee=n(96526),le=n(96820),ne=n(74449),fe=n(44494),se=n(79145),ce=n(22978),De=n(60456),be=n(48674),me=n(5682);const re=()=>["top","right","bottom"],Ee=We=>({content:"admin.access-control.groups.form.tooltip.editGroup.addEpeople",id:"edit-group-add-epeople",iconPlacement:"right",tooltipPlacement:We}),Te=We=>({name:We}),tt=We=>["btn btn-sm",We];function ht(We,sn){if(1&We){const lt=p.RV6();p.j41(0,"button",22),p.nI1(1,"translate"),p.bIt("click",function(){p.eBV(lt);const Ct=p.XpG().$implicit,Wt=p.XpG(2);return p.Njj(Wt.deleteMemberFromGroup(Ct.eperson))}),p.nrm(2,"i",23),p.k0s()}if(2&We){const lt=p.XpG().$implicit,gt=p.XpG(2);p.FS9("title",p.i5U(1,4,gt.messagePrefix+".table.edit.buttons.remove",p.eq3(7,Te,gt.dsoNameService.getName(lt.eperson)))),p.Y8G("dsBtnDisabled",gt.actionConfig.remove.disabled)("ngClass",p.eq3(9,tt,gt.actionConfig.remove.css)),p.R7$(2),p.Y8G("ngClass",gt.actionConfig.remove.icon)}}function Fe(We,sn){if(1&We){const lt=p.RV6();p.j41(0,"button",22),p.nI1(1,"translate"),p.bIt("click",function(){p.eBV(lt);const Ct=p.XpG().$implicit,Wt=p.XpG(2);return p.Njj(Wt.addMemberToGroup(Ct.eperson))}),p.nrm(2,"i",23),p.k0s()}if(2&We){const lt=p.XpG().$implicit,gt=p.XpG(2);p.FS9("title",p.i5U(1,4,gt.messagePrefix+".table.edit.buttons.add",p.eq3(7,Te,gt.dsoNameService.getName(lt.eperson)))),p.Y8G("dsBtnDisabled",gt.actionConfig.add.disabled)("ngClass",p.eq3(9,tt,gt.actionConfig.add.css)),p.R7$(2),p.Y8G("ngClass",gt.actionConfig.add.icon)}}function Et(We,sn){if(1&We&&(p.j41(0,"tr")(1,"td",17),p.EFF(2),p.k0s(),p.j41(3,"td",17)(4,"a",19),p.EFF(5),p.k0s()(),p.j41(6,"td",17),p.EFF(7),p.nI1(8,"translate"),p.nrm(9,"br"),p.EFF(10),p.nI1(11,"translate"),p.k0s(),p.j41(12,"td",17)(13,"div",20),p.DNE(14,ht,3,11,"button",21)(15,Fe,3,11,"button",21),p.k0s()()()),2&We){const lt=sn.$implicit,gt=p.XpG(2);p.R7$(2),p.JRh(lt.eperson.id),p.R7$(2),p.Y8G("routerLink",gt.getEPersonEditRoute(lt.eperson.id)),p.R7$(),p.SpI(" ",gt.dsoNameService.getName(lt.eperson)," "),p.R7$(2),p.Lme(" ",p.bMT(8,9,gt.messagePrefix+".table.email"),": ",lt.eperson.email?lt.eperson.email:"-",""),p.R7$(3),p.Lme(" ",p.bMT(11,11,gt.messagePrefix+".table.netid"),": ",lt.eperson.netid?lt.eperson.netid:"-"," "),p.R7$(4),p.Y8G("ngIf",lt.ableToDelete),p.R7$(),p.Y8G("ngIf",!lt.ableToDelete)}}function Ye(We,sn){if(1&We&&(p.j41(0,"ds-pagination",13),p.nI1(1,"async"),p.j41(2,"div",14)(3,"table",15)(4,"thead")(5,"tr")(6,"th",16),p.EFF(7),p.nI1(8,"translate"),p.k0s(),p.j41(9,"th",16),p.EFF(10),p.nI1(11,"translate"),p.k0s(),p.j41(12,"th",16),p.EFF(13),p.nI1(14,"translate"),p.k0s(),p.j41(15,"th",17),p.EFF(16),p.nI1(17,"translate"),p.k0s()()(),p.j41(18,"tbody"),p.DNE(19,Et,16,13,"tr",18),p.nI1(20,"async"),p.k0s()()()()),2&We){let lt,gt;const Ct=p.XpG();p.Y8G("paginationOptions",Ct.config)("collectionSize",null==(lt=p.bMT(1,9,Ct.ePeopleMembersOfGroup))?null:lt.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),p.R7$(7),p.JRh(p.bMT(8,11,Ct.messagePrefix+".table.id")),p.R7$(3),p.JRh(p.bMT(11,13,Ct.messagePrefix+".table.name")),p.R7$(3),p.JRh(p.bMT(14,15,Ct.messagePrefix+".table.identity")),p.R7$(3),p.JRh(p.bMT(17,17,Ct.messagePrefix+".table.edit")),p.R7$(3),p.Y8G("ngForOf",null==(gt=p.bMT(20,19,Ct.ePeopleMembersOfGroup))?null:gt.page)}}function pt(We,sn){if(1&We&&(p.j41(0,"div",24),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We){const lt=p.XpG();p.R7$(),p.SpI(" ",p.bMT(2,1,lt.messagePrefix+".no-members-yet")," ")}}function Mt(We,sn){if(1&We&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We){const lt=p.XpG();p.R7$(),p.SpI(" ",p.bMT(2,1,lt.messagePrefix+".search.head")," ")}}function Ne(We,sn){if(1&We){const lt=p.RV6();p.j41(0,"tr")(1,"td",17),p.EFF(2),p.k0s(),p.j41(3,"td",17)(4,"a",19),p.EFF(5),p.k0s()(),p.j41(6,"td",17),p.EFF(7),p.nI1(8,"translate"),p.nrm(9,"br"),p.EFF(10),p.nI1(11,"translate"),p.k0s(),p.j41(12,"td",17)(13,"div",20)(14,"button",22),p.nI1(15,"translate"),p.bIt("click",function(){const Ct=p.eBV(lt).$implicit,Wt=p.XpG(2);return p.Njj(Wt.addMemberToGroup(Ct))}),p.nrm(16,"i",23),p.k0s()()()()}if(2&We){const lt=sn.$implicit,gt=p.XpG(2);p.R7$(2),p.JRh(lt.id),p.R7$(2),p.Y8G("routerLink",gt.getEPersonEditRoute(lt.id)),p.R7$(),p.SpI(" ",gt.dsoNameService.getName(lt)," "),p.R7$(2),p.Lme(" ",p.bMT(8,11,gt.messagePrefix+".table.email"),": ",lt.email?lt.email:"-",""),p.R7$(3),p.Lme(" ",p.bMT(11,13,gt.messagePrefix+".table.netid"),": ",lt.netid?lt.netid:"-"," "),p.R7$(4),p.FS9("title",p.i5U(15,15,gt.messagePrefix+".table.edit.buttons.add",p.eq3(18,Te,gt.dsoNameService.getName(lt)))),p.Y8G("dsBtnDisabled",gt.actionConfig.add.disabled)("ngClass",p.eq3(20,tt,gt.actionConfig.add.css)),p.R7$(2),p.Y8G("ngClass",gt.actionConfig.add.icon)}}function rt(We,sn){if(1&We&&(p.j41(0,"ds-pagination",13),p.nI1(1,"async"),p.j41(2,"div",14)(3,"table",25)(4,"thead")(5,"tr")(6,"th",16),p.EFF(7),p.nI1(8,"translate"),p.k0s(),p.j41(9,"th",16),p.EFF(10),p.nI1(11,"translate"),p.k0s(),p.j41(12,"th",16),p.EFF(13),p.nI1(14,"translate"),p.k0s(),p.j41(15,"th",17),p.EFF(16),p.nI1(17,"translate"),p.k0s()()(),p.j41(18,"tbody"),p.DNE(19,Ne,17,22,"tr",18),p.nI1(20,"async"),p.k0s()()()()),2&We){let lt,gt;const Ct=p.XpG();p.Y8G("paginationOptions",Ct.configSearch)("collectionSize",null==(lt=p.bMT(1,9,Ct.ePeopleSearch))?null:lt.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),p.R7$(7),p.JRh(p.bMT(8,11,Ct.messagePrefix+".table.id")),p.R7$(3),p.JRh(p.bMT(11,13,Ct.messagePrefix+".table.name")),p.R7$(3),p.JRh(p.bMT(14,15,Ct.messagePrefix+".table.identity")),p.R7$(3),p.JRh(p.bMT(17,17,Ct.messagePrefix+".table.edit")),p.R7$(3),p.Y8G("ngForOf",null==(gt=p.bMT(20,19,Ct.ePeopleSearch))?null:gt.page)}}function Gt(We,sn){if(1&We&&(p.j41(0,"div",24),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We){const lt=p.XpG();p.R7$(),p.SpI(" ",p.bMT(2,1,lt.messagePrefix+".no-items")," ")}}var Zt=function(We){return We[We.ActiveGroup=0]="ActiveGroup",We[We.Members=1]="Members",We[We.SearchResults=2]="SearchResults",We}(Zt||{});let mt=(()=>{class We extends Q.v{constructor(lt,gt,Ct,Wt,fn,An,Yn,$n){super(lt,gt,Ct,Wt,fn,An,Yn,$n),this.groupService=lt,this.ePersonDataService=gt,this.translateService=Ct,this.notificationsService=Wt,this.formBuilder=fn,this.paginationService=An,this.router=Yn,this.dsoNameService=$n,this.selectedReviewersUpdated=new p.bkB,this.selectedReviewers=[]}ngOnInit(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}ngOnChanges(lt){this.groupId=lt.groupId.currentValue,lt.groupId.currentValue!==lt.groupId.previousValue&&(null===this.groupId?this.retrieveMembers(this.config.currentPage):(this.unsubFrom(Zt.ActiveGroup),this.subs.set(Zt.ActiveGroup,this.groupService.findById(this.groupId).pipe((0,C.ak)()).subscribe(gt=>{null!=gt&&(this.groupDataService.editGroup(gt),this.groupBeingEdited=gt,this.retrieveMembers(this.config.currentPage))}))))}retrieveMembers(lt){if(this.config.currentPage=lt,null===this.groupId){const gt=new le.O;gt.page=this.selectedReviewers.map(Ct=>Object.assign(new se.h,{eperson:Ct,ableToDelete:this.isMemberOfGroup(Ct)})),this.ePeopleMembersOfGroup.next(gt)}else super.retrieveMembers(lt)}isMemberOfGroup(lt){return(0,J.of)((0,Z.a4)(this.selectedReviewers.find(gt=>gt.id===lt.id)))}deleteMemberFromGroup(lt){const gt=this.selectedReviewers.findIndex(Ct=>Ct.id===lt.id);-1!==gt&&this.selectedReviewers.splice(gt,1),this.retrieveMembers(this.config.currentPage),this.selectedReviewersUpdated.emit(this.selectedReviewers)}addMemberToGroup(lt){this.multipleReviewers||(this.selectedReviewers=[]),this.selectedReviewers.push(lt),this.retrieveMembers(this.config.currentPage),this.selectedReviewersUpdated.emit(this.selectedReviewers)}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(fe.GroupDataService),p.rXU(ne.EPersonDataService),p.rXU(e.c$),p.rXU(T.I),p.rXU(t.ze),p.rXU(ce.m),p.rXU(x.Ix),p.rXU(ee.f))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-reviewers-list"]],inputs:{groupId:"groupId",actionConfig:"actionConfig",multipleReviewers:"multipleReviewers"},outputs:{selectedReviewersUpdated:"selectedReviewersUpdated"},standalone:!0,features:[p.Vt3,p.OA$,p.aNF],decls:31,vars:31,consts:[[1,"border-bottom","pb-2"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],["id","search",1,"border-bottom","pb-2"],[4,"dsContextHelp"],[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","me-3"],[1,"form-group","input-group","me-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","ePeopleMembersOfGroup",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"btn-group","edit-field"],[3,"dsBtnDisabled","ngClass","title","click",4,"ngIf"],[3,"click","dsBtnDisabled","ngClass","title"],[3,"ngClass"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","epersonsSearch",1,"table","table-striped","table-hover","table-bordered"]],template:function(gt,Ct){if(1&gt&&(p.qex(0),p.j41(1,"h2",0),p.EFF(2),p.nI1(3,"translate"),p.k0s(),p.j41(4,"h3"),p.EFF(5),p.nI1(6,"translate"),p.k0s(),p.DNE(7,Ye,21,21,"ds-pagination",1),p.nI1(8,"async"),p.DNE(9,pt,3,3,"div",2),p.nI1(10,"async"),p.nI1(11,"async"),p.j41(12,"h3",3),p.DNE(13,Mt,3,3,"span",4),p.k0s(),p.j41(14,"form",5),p.bIt("ngSubmit",function(){return Ct.search(Ct.searchForm.value)}),p.j41(15,"div",6)(16,"div",7),p.nrm(17,"input",8),p.j41(18,"span",9)(19,"button",10),p.nrm(20,"i",11),p.EFF(21),p.nI1(22,"translate"),p.k0s()()()(),p.j41(23,"div")(24,"button",12),p.bIt("click",function(){return Ct.clearFormAndResetResult()}),p.EFF(25),p.nI1(26,"translate"),p.k0s()()(),p.DNE(27,rt,21,21,"ds-pagination",1),p.nI1(28,"async"),p.DNE(29,Gt,3,3,"div",2),p.nI1(30,"async"),p.bVm()),2&gt){let Wt,fn,An,Yn;p.R7$(2),p.JRh(p.bMT(3,10,Ct.messagePrefix+".head")),p.R7$(3),p.JRh(p.bMT(6,12,Ct.messagePrefix+".headMembers")),p.R7$(2),p.Y8G("ngIf",(null==(Wt=p.bMT(8,14,Ct.ePeopleMembersOfGroup))?null:Wt.totalElements)>0),p.R7$(2),p.Y8G("ngIf",void 0===p.bMT(10,16,Ct.ePeopleMembersOfGroup)||0===(null==(fn=p.bMT(11,18,Ct.ePeopleMembersOfGroup))?null:fn.totalElements)),p.R7$(4),p.Y8G("dsContextHelp",p.eq3(29,Ee,p.lJ4(28,re))),p.R7$(),p.Y8G("formGroup",Ct.searchForm),p.R7$(7),p.SpI(" ",p.bMT(22,20,Ct.messagePrefix+".search.button"),""),p.R7$(4),p.JRh(p.bMT(26,22,Ct.messagePrefix+".button.see-all")),p.R7$(2),p.Y8G("ngIf",(null==(An=p.bMT(28,24,Ct.ePeopleSearch))?null:An.totalElements)>0),p.R7$(2),p.Y8G("ngIf",0===(null==(Yn=p.bMT(30,26,Ct.ePeopleSearch))?null:Yn.totalElements)&&Ct.searchDone)}},dependencies:[e.h,e.D9,be.G,t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,me.e,i.bT,i.Jj,x.Wk,i.YU,i.Sq,De.A],encapsulation:2})}}return We})();function Pt(We,sn){1&We&&(p.j41(0,"p"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We&&(p.R7$(),p.JRh(p.bMT(2,1,"advanced-workflow-action.select-reviewer.description-multiple")))}function Ce(We,sn){1&We&&(p.j41(0,"p"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We&&(p.R7$(),p.JRh(p.bMT(2,1,"advanced-workflow-action.select-reviewer.description-single")))}function je(We,sn){if(1&We){const lt=p.RV6();p.j41(0,"ds-reviewers-list",7),p.bIt("selectedReviewersUpdated",function(Ct){p.eBV(lt);const Wt=p.XpG();return Wt.selectedReviewers=Ct,p.Njj(Wt.displayError=!1)}),p.k0s()}if(2&We){const lt=p.XpG();p.Y8G("actionConfig",lt.reviewersListActionConfig)("groupId",lt.groupId)("ngClass",lt.groupId?"reviewersListWithGroup":"")("multipleReviewers",lt.multipleReviewers)}}function ut(We,sn){1&We&&(p.j41(0,"small",8),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"advanced-workflow-action.select-reviewer.no-reviewer-selected.error")," "))}function hn(We,sn){if(1&We&&(p.nrm(0,"ds-modify-item-overview",9),p.nI1(1,"async")),2&We){const lt=p.XpG();p.Y8G("item",p.bMT(1,1,lt.item$))}}const an="submit_select_reviewer",Pn="selectrevieweraction";let yt=(()=>{class We extends O{constructor(lt,gt,Ct,Wt,fn,An,Yn,$n,_s,Ps){super(lt,gt,Ct,Wt,fn,An,Yn,$n,_s,Ps),this.route=lt,this.workflowItemService=gt,this.router=Ct,this.routeService=Wt,this.notificationsService=fn,this.translationService=An,this.workflowActionService=Yn,this.claimedTaskDataService=$n,this.requestService=_s,this.location=Ps,this.multipleReviewers=!0,this.selectedReviewers=[],this.subs=[],this.displayError=!1}ngOnDestroy(){this.subs.forEach(lt=>lt.unsubscribe())}ngOnInit(){super.ngOnInit(),this.reviewersListActionConfig=this.multipleReviewers?{add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-plus"},remove:{css:"btn-outline-danger",disabled:!1,icon:"fas fa-minus"}}:{add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-check"},remove:{css:"btn-primary",disabled:!0,icon:"fas fa-check"}},this.subs.push(this.workflowAction$.subscribe(lt=>{this.groupId=lt?lt.advancedInfo[0].group:null}))}getType(){return Pn}performAction(){this.selectedReviewers.length>0?super.performAction():this.displayError=!0}createBody(){return{[an]:!0,eperson:this.selectedReviewers.map(lt=>lt.id)}}previousPage(){let lt=this.previousQueryParameters;(0,Z.a4)(lt)||(lt={configuration:"workflow"}),this.router.navigate(["/mydspace"],{queryParams:lt})}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(x.nX),p.rXU(I.WorkflowItemDataService),p.rXU(x.Ix),p.rXU(_.v$),p.rXU(T.I),p.rXU(e.c$),p.rXU(E.WorkflowActionDataService),p.rXU(R.ClaimedTaskDataService),p.rXU(v.B),p.rXU(i.aZ))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-advanced-workflow-action-select-reviewer"]],standalone:!0,features:[p.Vt3,p.aNF],decls:14,vars:13,consts:[[4,"ngIf"],["messagePrefix","advanced-workflow-action-select-reviewer.groups.form.reviewers-list",3,"actionConfig","groupId","ngClass","multipleReviewers","selectedReviewersUpdated",4,"ngIf"],["class","invalid-feedback d-block mb-3",4,"ngIf"],[3,"item",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-end"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],["messagePrefix","advanced-workflow-action-select-reviewer.groups.form.reviewers-list",3,"selectedReviewersUpdated","actionConfig","groupId","ngClass","multipleReviewers"],[1,"invalid-feedback","d-block","mb-3"],[3,"item"]],template:function(gt,Ct){1&gt&&(p.j41(0,"div"),p.DNE(1,Pt,3,3,"p",0)(2,Ce,3,3,"p",0)(3,je,1,4,"ds-reviewers-list",1)(4,ut,3,3,"small",2)(5,hn,2,3,"ds-modify-item-overview",3),p.nI1(6,"async"),p.j41(7,"div",4)(8,"button",5),p.bIt("click",function(){return Ct.previousPage()}),p.EFF(9),p.nI1(10,"translate"),p.k0s(),p.j41(11,"button",6),p.bIt("click",function(){return Ct.performAction()}),p.EFF(12),p.nI1(13,"translate"),p.k0s()()()),2&gt&&(p.R7$(),p.Y8G("ngIf",Ct.multipleReviewers),p.R7$(),p.Y8G("ngIf",!Ct.multipleReviewers),p.R7$(),p.Y8G("ngIf",void 0!==Ct.groupId),p.R7$(),p.Y8G("ngIf",Ct.displayError),p.R7$(),p.Y8G("ngIf",p.bMT(6,7,Ct.item$)),p.R7$(4),p.SpI(" ",p.bMT(10,9,"workflow-item."+Ct.getType()+".button.cancel")," "),p.R7$(3),p.SpI(" ",p.bMT(13,11,"workflow-item."+Ct.getType()+".button.confirm")," "))},dependencies:[i.MD,i.YU,i.bT,i.Jj,h.W,e.h,e.D9,mt],styles:["[_nghost-%COMP%]     .reviewersListWithGroup #search, [_nghost-%COMP%]     .reviewersListWithGroup #search+form, [_nghost-%COMP%]     .reviewersListWithGroup #search+form+ds-pagination{display:none!important}"]})}}return We})();var Kt=n(78655),Rt=n(48622),nn=n(96697),zt=(n(88318),n(25567),n(22822)),Yt=n(46369);let wt=(()=>{class We extends Yt.i{constructor(lt,gt,Ct,Wt,fn,An){super(zt.a,lt,gt,Ct,Wt,fn,An),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=fn,this.requestService=An,this.subs=[]}submitTask(){this.subs.push(this.startActionExecution().pipe((0,nn.s)(1)).subscribe())}createbody(){return{[this.option]:"true"}}reloadObjectExecution(){return this.objectDataService.findByItem(this.itemUuid)}actionExecution(){return this.objectDataService.submitTask(this.object.id,this.createbody())}initObjects(lt){this.object=lt}initReloadAnchor(){(0,Z.Im)(this.item)||(this.itemUuid=this.item.uuid)}ngOnDestroy(){this.subs.forEach(lt=>lt.unsubscribe())}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(x.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-claimed-task-action-abstract"]],inputs:{option:"option",item:"item",workflowitem:"workflowitem"},features:[p.Vt3],decls:0,vars:0,template:function(gt,Ct){},encapsulation:2})}}return We})();function bt(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",2),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function Jt(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",3),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.claimed.approve"),""))}let Ft=(()=>{class We extends wt{constructor(lt,gt,Ct,Wt,fn,An,Yn){super(lt,gt,Ct,Wt,fn,An),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=fn,this.requestService=An,this.workflowItemDataService=Yn}reloadObjectExecution(){return(0,J.of)(this.object)}convertReloadedObject(lt){return Object.assign(new Rt.t,lt,{indexableObject:lt})}handleReloadableActionResponse(lt,gt){super.handleReloadableActionResponse(lt,gt),this.workflowItemDataService.invalidateByHref(this.object?._links.workflowitem?.href)}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(x.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B),p.rXU(I.WorkflowItemDataService))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-claimed-task-actions-approve"]],standalone:!0,features:[p.Vt3,p.aNF],decls:7,vars:13,consts:[["type","button",3,"click","className","ngbTooltip","dsBtnDisabled"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-thumbs-up"]],template:function(gt,Ct){1&gt&&(p.j41(0,"button",0),p.nI1(1,"translate"),p.nI1(2,"async"),p.bIt("click",function(){return Ct.submitTask()}),p.DNE(3,bt,4,3,"span",1),p.nI1(4,"async"),p.DNE(5,Jt,4,3,"span",1),p.nI1(6,"async"),p.k0s()),2&gt&&(p.FS9("ngbTooltip",p.bMT(1,5,"submission.workflow.tasks.claimed.approve_help")),p.Y8G("className","btn btn-success")("dsBtnDisabled",p.bMT(2,7,Ct.processing$)),p.R7$(3),p.Y8G("ngIf",p.bMT(4,9,Ct.processing$)),p.R7$(2),p.Y8G("ngIf",!0!==p.bMT(6,11,Ct.processing$)))},dependencies:[u.n8,u.md,i.bT,i.Jj,e.h,e.D9,De.A]})}}return We})();var ot=n(66211);function xe(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",2),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.generic.processing")," "))}function Ve(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",3),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.claimed.decline")," "))}let Be=(()=>{class We extends wt{constructor(lt,gt,Ct,Wt,fn,An){super(lt,gt,Ct,Wt,fn,An),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=fn,this.requestService=An}reloadObjectExecution(){return(0,J.of)(this.object)}convertReloadedObject(lt){return Object.assign(new ot.H,lt,{indexableObject:lt})}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(x.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-claimed-task-actions-decline-task"]],standalone:!0,features:[p.Vt3,p.aNF],decls:7,vars:12,consts:[["type","button",1,"declineTaskAction","btn","btn-warning",3,"click","dsBtnDisabled","ngbTooltip"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-ban"]],template:function(gt,Ct){1&gt&&(p.j41(0,"button",0),p.nI1(1,"translate"),p.nI1(2,"async"),p.bIt("click",function(){return Ct.submitTask()}),p.DNE(3,xe,4,3,"span",1),p.nI1(4,"async"),p.DNE(5,Ve,4,3,"span",1),p.nI1(6,"async"),p.k0s()),2&gt&&(p.FS9("ngbTooltip",p.bMT(1,4,"submission.workflow.tasks.claimed.decline_help")),p.Y8G("dsBtnDisabled",p.bMT(2,6,Ct.processing$)),p.R7$(3),p.Y8G("ngIf",p.bMT(4,8,Ct.processing$)),p.R7$(2),p.Y8G("ngIf",!0!==p.bMT(6,10,Ct.processing$)))},dependencies:[u.n8,u.md,i.bT,i.Jj,e.h,e.D9,De.A]})}}return We})();const At=We=>[We];function Qe(We,sn){if(1&We&&(p.j41(0,"a",1),p.nI1(1,"translate"),p.nI1(2,"async"),p.nrm(3,"i",2),p.EFF(4),p.nI1(5,"translate"),p.k0s()),2&We){let lt;const gt=p.XpG();p.FS9("ngbTooltip",p.bMT(1,3,"submission.workflow.tasks.claimed.edit_help")),p.Y8G("routerLink",p.eq3(9,At,"/workflowitems/"+(null==(lt=p.bMT(2,5,gt.object.workflowitem))||null==lt.payload?null:lt.payload.id)+"/edit")),p.R7$(4),p.SpI(" ",p.bMT(5,7,"submission.workflow.tasks.claimed.edit"),"\n")}}let ke=(()=>{class We extends wt{constructor(lt,gt,Ct,Wt,fn,An){super(lt,gt,Ct,Wt,fn,An),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=fn,this.requestService=An}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(x.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-claimed-task-actions-edit-metadata"]],standalone:!0,features:[p.Vt3,p.aNF],decls:1,vars:1,consts:[["class","btn btn-primary","role","button",3,"ngbTooltip","routerLink",4,"ngIf"],["role","button",1,"btn","btn-primary",3,"ngbTooltip","routerLink"],[1,"fa","fa-edit"]],template:function(gt,Ct){1&gt&&p.DNE(0,Qe,6,11,"a",0),2&gt&&p.Y8G("ngIf",Ct.object)},dependencies:[i.bT,u.n8,u.md,x.Wk,i.Jj,e.h,e.D9]})}}return We})();var Le=n(79951);let dt=(()=>{class We extends wt{constructor(lt,gt,Ct,Wt,fn,An,Yn){super(lt,gt,Ct,Wt,fn,An),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=fn,this.requestService=An,this.route=Yn}ngOnInit(){super.ngOnInit(),this.initPageRoute()}initPageRoute(){this.subs.push(this.object.workflowitem.pipe((0,C.ak)()).subscribe(lt=>{this.workflowTaskPageRoute=(0,Le.HJ)(lt.id)}))}openAdvancedClaimedTaskTab(){const lt={queryParams:this.getQueryParams()};Object.keys(this.route.snapshot.queryParams).length>0&&(lt.state={},lt.state.previousQueryParams=this.route.snapshot.queryParams),this.router.navigate([this.workflowTaskPageRoute],lt)}getQueryParams(){return{workflow:this.workflowType,claimedTask:this.object.id}}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(x.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B),p.rXU(x.nX))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-advanced-claimed-task-action-abstract"]],features:[p.Vt3],decls:0,vars:0,template:function(gt,Ct){},encapsulation:2})}}return We})(),St=(()=>{class We extends dt{constructor(lt,gt,Ct,Wt,fn,An,Yn){super(lt,gt,Ct,Wt,fn,An,Yn),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=fn,this.requestService=An,this.route=Yn,this.workflowType=z}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(x.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B),p.rXU(x.nX))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-advanced-claimed-task-action-rating-reviewer"]],standalone:!0,features:[p.Vt3,p.aNF],decls:5,vars:6,consts:[[1,"ratingReviewerAction","btn","btn-primary",3,"click","ngbTooltip"],[1,"fa","fa-star-half-alt"]],template:function(gt,Ct){1&gt&&(p.j41(0,"button",0),p.nI1(1,"translate"),p.bIt("click",function(){return Ct.openAdvancedClaimedTaskTab()}),p.nrm(2,"i",1),p.EFF(3),p.nI1(4,"translate"),p.k0s()),2&gt&&(p.FS9("ngbTooltip",p.bMT(1,2,"submission.workflow.generic."+Ct.option+"-help")),p.R7$(3),p.SpI(" ",p.bMT(4,4,"submission.workflow.generic."+Ct.option),"\n"))},dependencies:[u.n8,u.md,e.h,e.D9]})}}return We})();var ln=n(83233);function Tn(We,sn){1&We&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&We&&p.Y8G("innerHTML",p.bMT(1,1,"submission.workflow.tasks.claimed.reject_help"),p.npT)}function Bn(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",5),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function Zn(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",6),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.claimed.reject.submit"),""))}function wn(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",5),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function ct(We,sn){1&We&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We&&(p.R7$(),p.JRh(p.bMT(2,1,"submission.workflow.tasks.claimed.reject.reason.submit")))}function vt(We,sn){if(1&We){const lt=p.RV6();p.j41(0,"div",7)(1,"h4",8),p.EFF(2),p.nI1(3,"translate"),p.k0s(),p.j41(4,"button",9),p.bIt("click",function(){const Ct=p.eBV(lt).dismiss;return p.Njj(Ct("Cross click"))}),p.k0s()(),p.j41(5,"div",10)(6,"div",11),p.EFF(7),p.nI1(8,"translate"),p.k0s(),p.j41(9,"form",12),p.bIt("ngSubmit",function(){p.eBV(lt);const Ct=p.XpG();return p.Njj(Ct.submitTask())}),p.nrm(10,"textarea",13),p.nI1(11,"translate"),p.j41(12,"button",14),p.nI1(13,"async"),p.DNE(14,wn,4,3,"span",3),p.nI1(15,"async"),p.DNE(16,ct,3,3,"span",3),p.nI1(17,"async"),p.k0s()()()}if(2&We){const lt=p.XpG();p.R7$(2),p.JRh(p.bMT(3,7,"submission.workflow.tasks.claimed.reject.reason.title")),p.R7$(5),p.SpI(" ",p.bMT(8,9,"submission.workflow.tasks.claimed.reject.reason.info")," "),p.R7$(2),p.Y8G("formGroup",lt.rejectForm),p.R7$(),p.FS9("placeholder",p.bMT(11,11,"submission.workflow.tasks.claimed.reject.reason.placeholder")),p.R7$(2),p.Y8G("dsBtnDisabled",!lt.rejectForm.valid||p.bMT(13,13,lt.processing$)),p.R7$(2),p.Y8G("ngIf",p.bMT(15,15,lt.processing$)),p.R7$(2),p.Y8G("ngIf",!0!==p.bMT(17,17,lt.processing$))}}let Nn=(()=>{class We extends wt{constructor(lt,gt,Ct,Wt,fn,An,Yn,$n){super(lt,gt,Ct,Wt,fn,An),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=fn,this.requestService=An,this.formBuilder=Yn,this.modalService=$n}ngOnInit(){this.rejectForm=this.formBuilder.group({reason:["",t.k0.required]})}submitTask(){this.modalRef.close("Send Button"),super.submitTask()}createbody(){const lt=this.rejectForm.get("reason").value;return Object.assign(super.createbody(),{reason:lt})}openRejectModal(lt){this.rejectForm.reset(),this.modalRef=this.modalService.open(lt)}reloadObjectExecution(){return(0,J.of)(this.object)}convertReloadedObject(lt){return Object.assign(new ln.q,lt,{indexableObject:lt})}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(x.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B),p.rXU(t.ze),p.rXU(u.Bq))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-claimed-task-actions-reject"]],standalone:!0,features:[p.Vt3,p.aNF],decls:10,vars:11,consts:[["rejectTipContent",""],["rejectModal",""],[3,"click","className","ngbTooltip","dsBtnDisabled"],[4,"ngIf"],[3,"innerHTML"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["role","alert",1,"alert","alert-info"],[3,"ngSubmit","formGroup"],["formControlName","reason","rows","4",2,"width","100%",3,"placeholder"],["id","btn-chat","type","submit",1,"btn","btn-danger","btn-lg","btn-block","w-100","mt-3",3,"dsBtnDisabled"]],template:function(gt,Ct){if(1&gt){const Wt=p.RV6();p.DNE(0,Tn,2,3,"ng-template",null,0,p.C5r),p.j41(2,"button",2),p.nI1(3,"async"),p.bIt("click",function(){p.eBV(Wt);const An=p.sdS(9);return p.Njj(Ct.openRejectModal(An))}),p.DNE(4,Bn,4,3,"span",3),p.nI1(5,"async"),p.DNE(6,Zn,4,3,"span",3),p.nI1(7,"async"),p.k0s(),p.DNE(8,vt,18,19,"ng-template",null,1,p.C5r)}if(2&gt){const Wt=p.sdS(1);p.R7$(2),p.Y8G("className","btn btn-danger")("ngbTooltip",Wt)("dsBtnDisabled",p.bMT(3,5,Ct.processing$)),p.R7$(2),p.Y8G("ngIf",p.bMT(5,7,Ct.processing$)),p.R7$(2),p.Y8G("ngIf",!0!==p.bMT(7,9,Ct.processing$))}},dependencies:[u.n8,u.md,i.bT,t.YN,t.qT,t.me,t.BC,t.cb,t.X1,t.j4,t.JD,i.Jj,e.h,e.D9,De.A]})}}return We})();var Jn=n(28515);function Gs(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",2),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function cs(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",3),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.claimed.return"),""))}const En=new Map([["submit_approve",Ft],["submit_decline_task",Be],["submit_edit_metadata",ke],[q,St],["submit_reject",Nn],["return_to_pool",(()=>{class We extends wt{constructor(lt,gt,Ct,Wt,fn,An,Yn){super(lt,gt,Ct,Wt,fn,An),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=fn,this.requestService=An,this.poolTaskService=Yn}reloadObjectExecution(){return this.poolTaskService.findByItem(this.itemUuid).pipe((0,nn.s)(1))}actionExecution(){return this.objectDataService.returnToPoolTask(this.object.id)}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(x.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B),p.rXU(Jn.PoolTaskDataService))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-claimed-task-actions-return-to-pool"]],standalone:!0,features:[p.Vt3,p.aNF],decls:7,vars:13,consts:[["type","button",3,"click","className","ngbTooltip","dsBtnDisabled"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-undo"]],template:function(gt,Ct){1&gt&&(p.j41(0,"button",0),p.nI1(1,"translate"),p.nI1(2,"async"),p.bIt("click",function(){return Ct.submitTask()}),p.DNE(3,Gs,4,3,"span",1),p.nI1(4,"async"),p.DNE(5,cs,4,3,"span",1),p.nI1(6,"async"),p.k0s()),2&gt&&(p.FS9("ngbTooltip",p.bMT(1,5,"submission.workflow.tasks.claimed.return_help")),p.Y8G("className","btn btn-secondary")("dsBtnDisabled",p.bMT(2,7,Ct.processing$)),p.R7$(3),p.Y8G("ngIf",p.bMT(4,9,Ct.processing$)),p.R7$(2),p.Y8G("ngIf",!0!==p.bMT(6,11,Ct.processing$)))},dependencies:[u.n8,u.md,i.bT,i.Jj,e.h,e.D9,De.A]})}}return We})()],[an,(()=>{class We extends dt{constructor(lt,gt,Ct,Wt,fn,An,Yn){super(lt,gt,Ct,Wt,fn,An,Yn),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=fn,this.requestService=An,this.route=Yn,this.workflowType=Pn}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(x.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B),p.rXU(x.nX))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-advanced-claimed-task-action-select-reviewer"]],standalone:!0,features:[p.Vt3,p.aNF],decls:5,vars:6,consts:[[1,"selectReviewerAction","btn","btn-primary",3,"click","ngbTooltip"],[1,"fa","fa-user"]],template:function(gt,Ct){1&gt&&(p.j41(0,"button",0),p.nI1(1,"translate"),p.bIt("click",function(){return Ct.openAdvancedClaimedTaskTab()}),p.nrm(2,"i",1),p.EFF(3),p.nI1(4,"translate"),p.k0s()),2&gt&&(p.FS9("ngbTooltip",p.bMT(1,2,"submission.workflow.generic."+Ct.option+"-help")),p.R7$(3),p.SpI(" ",p.bMT(4,4,"submission.workflow.generic."+Ct.option),"\n"))},dependencies:[u.n8,u.md,e.h,e.D9]})}}return We})()]]),ss=new Map([[z,te],[Pn,yt]]);function _t(We){return En.get(We)}function Ht(We){return ss.get(We)}},5845:(F,D,n)=>{"use strict";n.d(D,{p:()=>W});var i=n(54438),t=n(84412),u=n(96697),e=n(88141),h=n(32473),m=n(80183),f=n(78655),v=n(4065),E=n(39806),_=n(29326),C=n(88318),I=n(25567),R=n(91581),T=n(52837),A=n(24261),p=n(12532),x=n(78416),O=n(27605),w=n(28515);class M{getConstructor(K){switch(K){case C.q.type:return _.ItemDataService;case R.F.type:return A.WorkspaceitemDataService;case I.t.type:return T.WorkflowItemDataService;case x.T.type:return p.ClaimedTaskDataService;case O.k.type:return w.PoolTaskDataService;default:return}}}var L=n(42547),B=n(7901),k=n(41780);let W=(()=>{class U{constructor(Y,G,q,z,te,Z,J){this.objectType=Y,this.injector=G,this.router=q,this.notificationsService=z,this.translate=te,this.searchService=Z,this.requestService=J,this.processCompleted=new i.bkB,this.processing$=new t.t(!1);const Q=new M;this.objectDataService=G.get(Q.getConstructor(Y))}reload(){this.router.navigated=!1;const Y=decodeURIComponent(this.router.url);this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.searchService.getEndpoint().pipe((0,u.s)(1),(0,e.M)(G=>this.requestService.removeByHrefSubstring(G))).subscribe(()=>this.router.navigateByUrl(Y))}refresh(){this.objectDataService.findById(this.object.id,!1).pipe((0,m.yd)()).subscribe(Y=>{this.initObjects(Y.payload)})}handleActionResponse(Y){Y?(this.reload(),this.notificationsService.success(null,this.translate.get("submission.workflow.tasks.generic.success"),new v.y(5e3,!1))):this.notificationsService.error(null,this.translate.get("submission.workflow.tasks.generic.error"),new v.y(2e4,!0))}static{this.\u0275fac=function(G){return new(G||U)(i.rXU(L.v),i.rXU(i.zZn),i.rXU(B.Ix),i.rXU(E.I),i.rXU(k.c$),i.rXU(f.S),i.rXU(h.B))}}static{this.\u0275cmp=i.VBU({type:U,selectors:[["ds-mydspace-actions-abstract"]],inputs:{object:"object"},outputs:{processCompleted:"processCompleted"},decls:0,vars:0,template:function(G,q){},encapsulation:2})}}return U})()},46369:(F,D,n)=>{"use strict";n.d(D,{i:()=>O});var i=n(7673),t=n(96697),u=n(25558),e=n(88141),h=n(96354),m=n(1716),f=n(32473),v=n(80183),E=n(78655),_=n(4065),C=n(39806),I=n(43280),R=n(5845),T=n(54438),A=n(42547),p=n(7901),x=n(41780);let O=(()=>{class w extends R.p{constructor(L,B,k,W,U,K,Y){super(L,B,k,W,U,K,Y),this.objectType=L,this.injector=B,this.router=k,this.notificationsService=W,this.translate=U,this.searchService=K,this.requestService=Y}ngOnInit(){this.initReloadAnchor(),this.initObjects(this.object)}startActionExecution(){return this.processing$.next(!0),this.actionExecution().pipe((0,t.s)(1),(0,u.n)(L=>L.hasSucceeded?this._reloadObject().pipe((0,e.M)(B=>{this.processing$.next(!1),this.handleReloadableActionResponse(L.hasSucceeded,B)})):(this.processing$.next(!1),this.handleReloadableActionResponse(L.hasSucceeded,null),(0,i.of)(null))))}handleReloadableActionResponse(L,B){L?(B?this.processCompleted.emit({result:L,reloadedObject:B}):this.reload(),this.notificationsService.success(null,this.translate.get("submission.workflow.tasks.generic.success"),new _.y(5e3,!1))):this.notificationsService.error(null,this.translate.get("submission.workflow.tasks.generic.error"),new _.y(2e4,!0))}initReloadAnchor(){}convertReloadedObject(L){const B=(0,I.L)(L.constructor);return Object.assign(new B,L,{indexableObject:L})}_reloadObject(){return this.reloadObjectExecution().pipe((0,u.n)(L=>L instanceof m.j?(0,i.of)(L).pipe((0,v.qD)(),(0,h.T)(B=>B.payload)):(0,i.of)(L))).pipe((0,h.T)(L=>L&&this.convertReloadedObject(L)))}static{this.\u0275fac=function(B){return new(B||w)(T.rXU(A.v),T.rXU(T.zZn),T.rXU(p.Ix),T.rXU(C.I),T.rXU(x.c$),T.rXU(E.S),T.rXU(f.B))}}static{this.\u0275cmp=T.VBU({type:w,selectors:[["ds-mydspace-reloadable-actions"]],features:[T.Vt3],decls:0,vars:0,template:function(B,k){},encapsulation:2})}}return w})()},43323:(F,D,n)=>{"use strict";n.d(D,{L:()=>u,o:()=>t});const t=(0,n(91e3).N)("dspace/ngrx/NO_OP_ACTION");class u{constructor(){this.type=t}}},91e3:(F,D,n)=>{"use strict";n.d(D,{N:()=>u});const i={};function u(e){if(i[e])throw new Error(`Action type "${e}" is not unique"`);return i[e]=!0,e}},16358:(F,D,n)=>{"use strict";n.d(D,{n:()=>i,p:()=>t});var i=function(u){return u.Fade="fade",u.FromTop="fromTop",u.FromRight="fromRight",u.FromBottom="fromBottom",u.FromLeft="fromLeft",u.Rotate="rotate",u.Scale="scale",u}(i||{}),t=function(u){return u.In="In",u.Out="Out",u}(t||{})},4065:(F,D,n)=>{"use strict";n.d(D,{y:()=>t});var i=n(16358);class t{constructor(e=5e3,h=!0,m=i.n.Scale,f=!0){this.timeOut=e,this.clickToClose=h,this.animate=m,this.announceContentInLiveRegion=f}}},3050:(F,D,n)=>{"use strict";n.d(D,{_:()=>i});var i=function(t){return t.Success="alert-success",t.Error="alert-danger",t.Info="alert-info",t.Warning="alert-warning",t}(i||{})},55709:(F,D,n)=>{"use strict";n.d(D,{z:()=>Pt});var i=n(49969),t=n(60177),u=n(54438),e=n(7673),h=n(71985),m=n(5964),f=n(61594),v=n(50332);const E=(0,i.wk)("fromBottomIn",(0,i.iF)({opacity:1,transform:"translateY(0)"})),_=(0,i.kY)("* => fromBottomIn",[(0,i.iF)({opacity:0,transform:"translateY(5%)"}),(0,i.i0)("400ms ease-in-out")]),C=(0,i.wk)("fromBottomOut",(0,i.iF)({opacity:0,transform:"translateY(-5%)"})),I=(0,i.kY)("fromBottomIn => fromBottomOut",[(0,i.iF)({opacity:1,transform:"translateY(0)"}),(0,i.i0)("300ms ease-in-out")]),p=((0,i.hZ)("fromBottomIn",[_]),(0,i.hZ)("fromBottomOut",[I]),(0,i.hZ)("fromBottomInOut",[_,I]),(0,i.wk)("fromLeftIn",(0,i.iF)({opacity:1,transform:"translateX(0)"}))),x=(0,i.kY)("* => fromLeftIn",[(0,i.iF)({opacity:0,transform:"translateX(-5%)"}),(0,i.i0)("400ms ease-in-out")]),O=(0,i.wk)("fromLeftOut",(0,i.iF)({opacity:0,transform:"translateX(5%)"})),w=(0,i.kY)("fromLeftIn => fromLeftOut",[(0,i.iF)({opacity:1,transform:"translateX(0)"}),(0,i.i0)("300ms ease-in-out")]),k=((0,i.hZ)("fromLeftIn",[x]),(0,i.hZ)("fromLeftOut",[w]),(0,i.hZ)("fromLeftInOut",[x,w]),(0,i.wk)("fromRightIn",(0,i.iF)({opacity:1,transform:"translateX(0)"}))),W=(0,i.kY)("* => fromRightIn",[(0,i.iF)({opacity:0,transform:"translateX(5%)"}),(0,i.i0)("400ms ease-in-out")]),U=(0,i.wk)("fromRightOut",(0,i.iF)({opacity:0,transform:"translateX(-5%)"})),K=(0,i.kY)("fromRightIn => fromRightOut",[(0,i.iF)({opacity:1,transform:"translateX(0)"}),(0,i.i0)("300ms ease-in-out")]);(0,i.hZ)("fromRightIn",[W]),(0,i.hZ)("fromRightOut",[K]),(0,i.hZ)("fromRightInOut",[W,K]);var z=n(6703),te=n(68681);const Z=(0,i.wk)("scaleIn",(0,i.iF)({opacity:1,transform:"scale(1)"})),J=(0,i.kY)("* => scaleIn",[(0,i.iF)({opacity:0,transform:"scale(0)"}),(0,i.i0)("400ms ease-in-out")]),Q=(0,i.wk)("scaleOut",(0,i.iF)({opacity:0,transform:"scale(0)"})),ee=(0,i.kY)("scaleIn => scaleOut",[(0,i.iF)({opacity:1,transform:"scale(1)"}),(0,i.i0)("400ms ease-in-out")]);(0,i.hZ)("scaleIn",[J]),(0,i.hZ)("scaleOut",[ee]),(0,i.hZ)("scaleInOut",[J,ee]);var se=n(82777),ce=n(16358),De=n(39806),be=n(345);const me=(Ce,je,ut,hn)=>({"fas fa-2x":!0,"fa-check-circle":Ce,"fa-times-circle":je,"fa-exclamation-triangle":ut,"fa-info-circle":hn}),re=Ce=>({width:Ce});function Ee(Ce,je){if(1&Ce&&(u.j41(0,"div",12),u.nrm(1,"span",13),u.k0s()),2&Ce){const ut=u.XpG();u.R7$(),u.Y8G("ngStyle",u.eq3(1,re,ut.progressWidth+"%"))}}function Te(Ce,je){if(1&Ce){const ut=u.RV6();u.j41(0,"button",14),u.bIt("click",function(){u.eBV(ut);const an=u.XpG();return u.Njj(an.remove())}),u.k0s()}}function tt(Ce,je){1&Ce&&u.eu8(0)}function ht(Ce,je){if(1&Ce&&(u.j41(0,"div",17),u.DNE(1,tt,1,0,"ng-container",18),u.k0s()),2&Ce){const ut=u.XpG(2);u.R7$(),u.Y8G("ngTemplateOutlet",ut.title)}}function Fe(Ce,je){if(1&Ce&&(u.j41(0,"div",17),u.EFF(1),u.nI1(2,"async"),u.k0s()),2&Ce){const ut=u.XpG(2);u.R7$(),u.JRh(u.bMT(2,1,ut.title))}}function Et(Ce,je){if(1&Ce&&(u.j41(0,"div",15)(1,"strong"),u.DNE(2,ht,2,1,"div",16)(3,Fe,3,3,"ng-template",null,0,u.C5r),u.k0s()()),2&Ce){const ut=u.sdS(4),hn=u.XpG();u.R7$(2),u.Y8G("ngIf",hn.titleIsTemplate)("ngIfElse",ut)}}function Ye(Ce,je){1&Ce&&u.eu8(0)}function pt(Ce,je){if(1&Ce&&(u.j41(0,"div",20),u.DNE(1,Ye,1,0,"ng-container",18),u.k0s()),2&Ce){const ut=u.XpG(2);u.R7$(),u.Y8G("ngTemplateOutlet",ut.content)}}function Mt(Ce,je){if(1&Ce&&(u.j41(0,"div",20),u.EFF(1),u.nI1(2,"async"),u.k0s()),2&Ce){const ut=u.XpG(2);u.R7$(),u.JRh(u.bMT(2,1,ut.content))}}function Ne(Ce,je){if(1&Ce&&(u.j41(0,"div",15),u.DNE(1,pt,2,1,"div",19)(2,Mt,3,3,"ng-template",null,1,u.C5r),u.k0s()),2&Ce){const ut=u.sdS(3),hn=u.XpG();u.R7$(),u.Y8G("ngIf",hn.contentIsTemplate)("ngIfElse",ut)}}function rt(Ce,je){1&Ce&&u.eu8(0)}function Gt(Ce,je){if(1&Ce&&(u.j41(0,"div",22),u.DNE(1,rt,1,0,"ng-container",18),u.k0s()),2&Ce){const ut=u.XpG(2);u.R7$(),u.Y8G("ngTemplateOutlet",ut.content)}}function Zt(Ce,je){if(1&Ce&&u.nrm(0,"div",23),2&Ce){const ut=u.XpG(2);u.Y8G("innerHTML",ut.content,u.npT)}}function mt(Ce,je){if(1&Ce&&(u.j41(0,"div",15),u.DNE(1,Gt,2,1,"div",21)(2,Zt,1,1,"ng-template",null,2,u.C5r),u.k0s()),2&Ce){const ut=u.sdS(3),hn=u.XpG();u.R7$(),u.Y8G("ngIf",hn.contentIsTemplate)("ngIfElse",ut)}}let Pt=(()=>{class Ce{constructor(ut,hn,an,Pn){this.notificationService=ut,this.domSanitizer=hn,this.cdr=an,this.zone=Pn,this.notification=null,this.isPaused$=(0,e.of)(!1),this.showProgressBar=!1,this.titleIsTemplate=!1,this.contentIsTemplate=!1,this.htmlIsTemplate=!1,this.progressWidth=0,this.stopTime=!1,this.count=0,this.instance=()=>{this.diff=(new Date).getTime()-this.start-this.count*this.speed,this.isPaused$.pipe((0,m.p)(yt=>!yt),(0,f.$)()).subscribe(()=>{this.count++===this.steps?this.remove():this.stopTime||(this.showProgressBar&&(this.progressWidth+=100/this.steps),this.timer=setTimeout(this.instance,this.speed-this.diff)),this.zone.run(()=>this.cdr.detectChanges())})}}ngOnInit(){this.animate=this.notification.options.animate+ce.p.In,0!==this.notification.options.timeOut&&(this.startTimeOut(),this.showProgressBar=!0),this.html=this.notification.html,this.contentType(this.notification.title,"title"),this.contentType(this.notification.content,"content")}startTimeOut(){this.steps=this.notification.options.timeOut/10,this.speed=this.notification.options.timeOut/this.steps,this.start=(new Date).getTime(),this.zone.runOutsideAngular(()=>this.timer=setTimeout(this.instance,this.speed))}ngOnDestroy(){clearTimeout(this.timer)}remove(){this.animate?(this.setAnimationOut(),setTimeout(()=>{this.notificationService.remove(this.notification)},1e3)):this.notificationService.remove(this.notification)}contentType(ut,hn){if(ut instanceof u.C4Q)this[hn]=ut;else if("title"===hn||"content"===hn&&!this.html){let an=null;(0,se.hj)(ut)&&("string"==typeof ut?an=(0,e.of)(ut):ut instanceof h.c?an=ut:"object"==typeof ut&&(0,se.hj)(ut.value)&&(an=(0,e.of)(ut.value))),this[hn]=an}else this[hn]=this.domSanitizer.bypassSecurityTrustHtml(ut);this[hn+"IsTemplate"]=ut instanceof u.C4Q}setAnimationOut(){this.animate=this.notification.options.animate+ce.p.Out,this.cdr.detectChanges()}static{this.\u0275fac=function(hn){return new(hn||Ce)(u.rXU(De.I),u.rXU(be.up),u.rXU(u.gRc),u.rXU(u.SKi))}}static{this.\u0275cmp=u.VBU({type:Ce,selectors:[["ds-notification"]],inputs:{notification:"notification",isPaused$:"isPaused$"},standalone:!0,features:[u.aNF],decls:11,vars:15,consts:[["regularTitle",""],["regularContent",""],["regularHtml",""],["role","alert"],["class","notification-progress-loader position-absolute w-100",4,"ngIf"],["type","button","class","btn-close pt-0 pe-1 ps-0 pb-0 mt-1 me-1","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"notification-icon","d-flex","justify-content-center"],[3,"ngClass"],[1,"d-flex","flex-column","justify-content-center","align-content-stretch"],["class","p-2 me-3",4,"ngIf"],[1,"notification-progress-loader","position-absolute","w-100"],[1,"h-100","float-start",3,"ngStyle"],["type","button","data-dismiss","alert","aria-label","Close",1,"btn-close","pt-0","pe-1","ps-0","pb-0","mt-1","me-1",3,"click"],[1,"p-2","me-3"],["class","notification-title ps-1",4,"ngIf","ngIfElse"],[1,"notification-title","ps-1"],[4,"ngTemplateOutlet"],["class","notification-content ps-1",4,"ngIf","ngIfElse"],[1,"notification-content","ps-1"],["class","notification-html ps-1",4,"ngIf","ngIfElse"],[1,"notification-html","ps-1"],[1,"notification-html","ps-1",3,"innerHTML"]],template:function(hn,an){1&hn&&(u.j41(0,"div",3),u.DNE(1,Ee,2,3,"div",4)(2,Te,1,0,"button",5),u.j41(3,"div",6)(4,"div",7)(5,"div",8),u.nrm(6,"i",9),u.k0s()(),u.j41(7,"div",10),u.DNE(8,Et,5,2,"div",11)(9,Ne,4,2,"div",11)(10,mt,4,2,"div",11),u.k0s()()()),2&hn&&(u.ZvI("notification alert ",an.notification.type," alert-dismissible m-3 shadow"),u.Y8G("@enterLeave",an.animate),u.R7$(),u.Y8G("ngIf",an.showProgressBar),u.R7$(),u.Y8G("ngIf",an.notification.options.clickToClose),u.R7$(4),u.Y8G("ngClass",u.ziG(10,me,"alert-success"===an.notification.type,"alert-danger"===an.notification.type,"alert-warning"===an.notification.type,"alert-info"===an.notification.type)),u.R7$(2),u.Y8G("ngIf",an.title),u.R7$(),u.Y8G("ngIf",an.content&&!an.html),u.R7$(),u.Y8G("ngIf",an.content&&an.html))},dependencies:[t.bT,t.B3,t.YU,t.T3,t.Jj],styles:[".notification{display:inline-block;min-width:var(--bs-modal-sm);text-align:left}.btn-close{outline:none!important;opacity:.8}.notification-icon{min-width:3rem}.notification-progress-loader{top:-1px;left:0;height:1px}.alert-success .notification-progress-loader span{background:var(--ds-notification-bg-success)}.alert-danger .notification-progress-loader span{background:var(--ds-notification-bg-danger)}.alert-info .notification-progress-loader span{background:var(--ds-notification-bg-info)}.alert-warning .notification-progress-loader span{background:var(--ds-notification-bg-warning)}\n"],encapsulation:2,data:{animation:[(0,i.hZ)("enterLeave",[v.e9,v.HT,v.ai,v.wA,_,E,I,C,W,k,K,U,x,p,w,O,z.iP,z.Wk,z.Py,z.B_,te.UE,te.CC,te.L2,te.Ru,Z,J,Q,ee])]},changeDetection:0})}}return Ce})()},25871:(F,D,n)=>{"use strict";n.d(D,{s:()=>A});var i=n(60177),t=n(25499),u=n(22458),e=n.n(u),h=n(84412),m=n(7673),f=n(96697),v=n(82777),E=n(25488),_=n(55709),C=n(39806);const I=p=>p.notifications;var R=n(54438);function T(p,x){if(1&p&&R.nrm(0,"ds-notification",2),2&p){const O=x.$implicit,w=R.XpG();R.Y8G("notification",O)("isPaused$",w.isPaused$)}}let A=(()=>{class p{set options(O){this.attachChanges(O)}constructor(O,w,M,L){this.service=O,this.store=w,this.cdr=M,this.liveRegionService=L,this.notifications=[],this.position=["bottom","right"],this.maxStack=8,this.rtl=!1,this.animate="fromRight",this.isPaused$=new h.t(!1)}ngOnInit(){this.sub=this.store.pipe((0,t.Lt)(I)).subscribe(O=>{0===O.length?this.notifications=[]:O.length>this.notifications.length?e()(O,this.notifications).forEach(M=>{this.add(M)}):e()(this.notifications,O).forEach(M=>{this.notifications=this.notifications.filter(L=>L.id!==M.id)}),this.cdr.detectChanges()})}add(O){this.block(O)?this.service.remove(O):(this.notifications.length>=this.maxStack&&this.notifications.splice(this.notifications.length-1,1),this.notifications.splice(0,0,O),this.addContentToLiveRegion(O))}addContentToLiveRegion(O){let w=O.content;!O.options.announceContentInLiveRegion||(0,v.Tn)(w)||("string"==typeof w&&(w=(0,m.of)(w)),w.pipe((0,v.VT)(),(0,f.s)(1)).subscribe(M=>this.liveRegionService.addMessage(M)))}block(O){const w=O.html?this.checkHtml:this.checkStandard;return this.notifications.forEach(M=>{if(w(M,O))return!0}),!1}checkStandard(O,w){return O.type===w.type&&O.title===w.title&&O.content===w.content}checkHtml(O,w){return!!O.html&&O.type===w.type&&O.title===w.title&&O.content===w.content&&O.html===w.html}attachChanges(O){Object.keys(O).forEach(w=>{this.hasOwnProperty(w)&&(this[w]=O[w])})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(w){return new(w||p)(R.rXU(C.I),R.rXU(t.il),R.rXU(R.gRc),R.rXU(E.A))}}static{this.\u0275cmp=R.VBU({type:p,selectors:[["ds-notifications-board"]],inputs:{options:"options"},standalone:!0,features:[R.aNF],decls:2,vars:2,consts:[[1,"notifications-wrapper","position-fixed",3,"mouseenter","mouseleave","ngClass"],["class","notification",3,"notification","isPaused$",4,"ngFor","ngForOf"],[1,"notification",3,"notification","isPaused$"]],template:function(w,M){1&w&&(R.j41(0,"div",0),R.bIt("mouseenter",function(){return M.isPaused$.next(!0)})("mouseleave",function(){return M.isPaused$.next(!1)}),R.DNE(1,T,1,2,"ds-notification",1),R.k0s()),2&w&&(R.Y8G("ngClass",M.position),R.R7$(),R.Y8G("ngForOf",M.notifications))},dependencies:[i.YU,i.pM,_.z],styles:[".notifications-wrapper{z-index:var(--bs-zindex-popover);text-align:right;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;hyphens:auto}.notifications-wrapper .notification{display:block}.notifications-wrapper.left{left:0}.notifications-wrapper.top{top:0}.notifications-wrapper.right{right:0}.notifications-wrapper.bottom{bottom:0}.notifications-wrapper.center{left:50%;transform:translate(-50%)}.notifications-wrapper.middle{top:50%;transform:translateY(-50%)}.notifications-wrapper.middle.center{transform:translate(-50%,-50%)}@media screen and (max-width: 576px){.notifications-wrapper{width:auto;left:0;right:0}}\n"],encapsulation:2,changeDetection:0})}}return p})()},11568:(F,D,n)=>{"use strict";n.d(D,{Is:()=>t,Sc:()=>u,e0:()=>h,o4:()=>e});var i=n(91e3);const t={NEW_NOTIFICATION:(0,i.N)("dspace/notifications/NEW_NOTIFICATION"),REMOVE_ALL_NOTIFICATIONS:(0,i.N)("dspace/notifications/REMOVE_ALL_NOTIFICATIONS"),REMOVE_NOTIFICATION:(0,i.N)("dspace/notifications/REMOVE_NOTIFICATION")};class u{constructor(f){this.type=t.NEW_NOTIFICATION,this.payload=f}}class e{constructor(f){this.payload=f,this.type=t.REMOVE_ALL_NOTIFICATIONS}}class h{constructor(f){this.type=t.REMOVE_NOTIFICATION,this.payload=f}}},39806:(F,D,n)=>{"use strict";n.d(D,{I:()=>T});var i=n(59519),t=n.n(i),u=n(7673),e=n(61594),h=n(88280),m=n(82777),f=n(4065);class v{constructor(p,x,O,w,M,L){this.id=p,this.type=x,this.title=O,this.content=w,this.options=(0,m.Im)(M)?new f.y:M,this.html=L}}var E=n(3050),_=n(11568),C=n(54438),I=n(25499),R=n(41780);let T=(()=>{class A{constructor(x,O){this.store=x,this.translate=O}add(x){const O=new _.Sc(x);this.store.dispatch(O)}success(x=(0,u.of)(""),O=(0,u.of)(""),w={},M=!1){const L={...this.getDefaultOptions(),...w},B=new v(t()(),E._.Success,x,O,L,M);return this.add(B),B}error(x=(0,u.of)(""),O=(0,u.of)(""),w={},M=!1){const L={...this.getDefaultOptions(),...w},B=new v(t()(),E._.Error,x,O,L,M);return this.add(B),B}info(x=(0,u.of)(""),O=(0,u.of)(""),w={},M=!1){const L={...this.getDefaultOptions(),...w},B=new v(t()(),E._.Info,x,O,L,M);return this.add(B),B}warning(x=(0,u.of)(""),O=(0,u.of)(""),w=this.getDefaultOptions(),M=!1){const L={...this.getDefaultOptions(),...w},B=new v(t()(),E._.Warning,x,O,L,M);return this.add(B),B}notificationWithAnchor(x,O,w,M,L,B){this.translate.get(M).pipe((0,e.$)()).subscribe(k=>{const W=`<a class="align-baseline btn btn-link p-0 m-0" href="${w}" >\n                        <strong>${k}</strong>\n                      </a>`,U=Object.create({});U[B]=W,this.translate.get(L,U).pipe((0,e.$)()).subscribe(K=>{switch(x){case E._.Success:this.success(null,K,O,!0);break;case E._.Error:this.error(null,K,O,!0);break;case E._.Info:this.info(null,K,O,!0);break;case E._.Warning:this.warning(null,K,O,!0)}})})}remove(x){const O=new _.e0(x.id);this.store.dispatch(O)}removeAll(){const x=new _.o4;this.store.dispatch(x)}getDefaultOptions(){return new f.y(h.c.notifications.timeOut,h.c.notifications.clickToClose,h.c.notifications.animate)}static{this.\u0275fac=function(O){return new(O||A)(C.KVO(I.il),C.KVO(R.c$))}}static{this.\u0275prov=C.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},7581:(F,D,n)=>{"use strict";n.d(D,{n:()=>i});var i=function(t){return t[t.None=0]="None",t[t.Link=1]="Link",t[t.ExternalLink=2]="ExternalLink",t}(i||{})},67560:(F,D,n)=>{"use strict";n.d(D,{h:()=>Ke});var i=n(60177),t=n(54438),u=n(96354),e=n(23294),f=(n(6238),n(1716),n(26292)),v=n(78448),E=n(82777),_=n(41780),C=n(50332),I=n(79632),R=n(82394),T=n(7581),A=n(17191),p=n(5682);function x(Be,At){if(1&Be){const Qe=t.RV6();t.j41(0,"div",5)(1,"ds-listable-object-component-loader",6),t.bIt("contentChange",function(ke){t.eBV(Qe);const Le=t.XpG(2);return t.Njj(Le.contentChange.emit(ke))}),t.k0s()()}if(2&Be){const Qe=At.$implicit,st=t.XpG(2);t.R7$(),t.Y8G("object",Qe)("viewMode",st.viewMode)("context",st.context)("showThumbnails",st.showThumbnails)}}function O(Be,At){if(1&Be&&(t.j41(0,"div",3),t.DNE(1,x,2,4,"div",4),t.k0s()),2&Be){const Qe=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("ngForOf",null==Qe.objects||null==Qe.objects.payload?null:Qe.objects.payload.page)}}function w(Be,At){1&Be&&(t.nrm(0,"ds-error",7),t.nI1(1,"translate")),2&Be&&t.FS9("message",t.bMT(1,1,"error.objects"))}function M(Be,At){1&Be&&(t.nrm(0,"ds-loading",7),t.nI1(1,"translate")),2&Be&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let L=(()=>{class Be{constructor(){this.viewMode=v.n.DetailedListElement,this.hideGear=!0,this.hidePagerWhenSinglePage=!0,this.showPaginator=!0,this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.hidePaginationDetail=!0,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB}set objects(Qe){this._objects=Qe}get objects(){return this._objects}onPageChange(Qe){this.pageChange.emit(Qe)}onPageSizeChange(Qe){this.pageSizeChange.emit(Qe)}onSortDirectionChange(Qe){this.sortDirectionChange.emit(Qe)}onSortFieldChange(Qe){this.sortFieldChange.emit(Qe)}onPaginationChange(Qe){this.paginationChange.emit(Qe)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(st){return new(st||Be)}}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-object-detail"]],inputs:{config:"config",sortConfig:"sortConfig",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects",hidePaginationDetail:"hidePaginationDetail"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.aNF],decls:4,vars:11,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","objects","hideGear","hidePaginationDetail","hidePagerWhenSinglePage","showPaginator"],["class","row mt-2",4,"ngIf"],[3,"message",4,"ngIf"],[1,"row","mt-2"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[3,"contentChange","object","viewMode","context","showThumbnails"],[3,"message"]],template:function(st,ke){1&st&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(dt){return ke.onPageChange(dt)})("pageSizeChange",function(dt){return ke.onPageSizeChange(dt)})("sortDirectionChange",function(dt){return ke.onSortDirectionChange(dt)})("sortFieldChange",function(dt){return ke.onSortFieldChange(dt)})("paginationChange",function(dt){return ke.onPaginationChange(dt)})("prev",function(){return ke.goPrev()})("next",function(){return ke.goNext()}),t.DNE(1,O,2,2,"div",1)(2,w,2,3,"ds-error",2)(3,M,2,3,"ds-loading",2),t.k0s()),2&st&&(t.Y8G("paginationOptions",ke.config)("collectionSize",null==ke.objects||null==ke.objects.payload?null:ke.objects.payload.totalElements)("sortOptions",ke.sortConfig)("objects",ke.objects)("hideGear",ke.hideGear)("hidePaginationDetail",ke.hidePaginationDetail)("hidePagerWhenSinglePage",ke.hidePagerWhenSinglePage)("showPaginator",ke.showPaginator),t.R7$(),t.Y8G("ngIf",null==ke.objects?null:ke.objects.hasSucceeded),t.R7$(),t.Y8G("ngIf",ke.objects.hasFailed),t.R7$(),t.Y8G("ngIf",ke.objects.isLoading))},dependencies:[p.e,i.bT,i.pM,A.v,I.A,R.v,_.h,_.D9],styles:["[_nghost-%COMP%]  div.thumbnail>img{height:var(--ds-card-thumbnail-height);width:100%}"],data:{animation:[C.qG]}})}}return Be})();var B=n(84412),k=n(84572),W=n(99172),U=n(57538),K=n(75465);function Y(Be,At){if(1&Be&&(t.j41(0,"div",7),t.nI1(1,"dsBrowserOnly"),t.nrm(2,"ds-listable-object-component-loader",8),t.k0s()),2&Be){const Qe=At.$implicit,st=t.XpG(3);t.BMQ("data-test",t.bMT(1,6,"grid-object")),t.R7$(2),t.Y8G("object",Qe)("viewMode",st.viewMode)("context",st.context)("showThumbnails",st.showThumbnails)("linkType",st.linkType)}}function G(Be,At){if(1&Be&&(t.j41(0,"div",5),t.DNE(1,Y,3,8,"div",6),t.k0s()),2&Be){const Qe=At.$implicit;t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("ngForOf",Qe)}}function q(Be,At){if(1&Be&&(t.j41(0,"div",3),t.DNE(1,G,2,2,"div",4),t.nI1(2,"async"),t.k0s()),2&Be){const Qe=t.XpG();t.R7$(),t.Y8G("ngForOf",t.bMT(2,1,Qe.columns$))}}function z(Be,At){1&Be&&(t.nrm(0,"ds-error",9),t.nI1(1,"translate")),2&Be&&t.FS9("message",t.bMT(1,1,"error.objects"))}function te(Be,At){1&Be&&(t.nrm(0,"ds-loading",9),t.nI1(1,"translate")),2&Be&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let Z=(()=>{class Be{set objects(Qe){this._objects$.next(Qe)}get objects(){return this._objects$.getValue()}constructor(Qe){this.hostWindow=Qe,this.viewMode=v.n.GridElement,this.showPaginator=!0,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.hidePaginationDetail=!1,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.data={},this._objects$=new B.t(void 0)}ngOnInit(){const Qe=this.hostWindow.widthCategory.pipe((0,u.T)(st=>{switch(st){case U.tP.XL:case U.tP.LG:return 3;case U.tP.MD:case U.tP.SM:return 2;default:return 1}}),(0,e.F)()).pipe((0,W.Z)(3));this.columns$=(0,k.z)(Qe,this._objects$).pipe((0,u.T)(([st,ke])=>{if((0,E.a4)(ke)&&(0,E.a4)(ke.payload)&&(0,E.a4)(ke.payload.page)){const dt=[];return ke.payload.page.forEach((St,ln)=>{const Tn=ln%st;let Bn=dt[Tn];(0,E.Tn)(Bn)&&(Bn=[]),dt[Tn]=[...Bn,St]}),dt}return[]}))}onPageChange(Qe){this.pageChange.emit(Qe)}onPageSizeChange(Qe){this.pageSizeChange.emit(Qe)}onSortDirectionChange(Qe){this.sortDirectionChange.emit(Qe)}onSortFieldChange(Qe){this.sortFieldChange.emit(Qe)}onPaginationChange(Qe){this.paginationChange.emit(Qe)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(st){return new(st||Be)(t.rXU(U.CV))}}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-object-grid"]],inputs:{config:"config",sortConfig:"sortConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",objects:"objects"},outputs:{change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:4,vars:11,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","hideGear","objects","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator"],["class","card-columns row",4,"ngIf"],[3,"message",4,"ngIf"],[1,"card-columns","row"],["class","card-column col col-sm-6 col-lg-4",4,"ngFor","ngForOf"],[1,"card-column","col","col-sm-6","col-lg-4"],["class","card-element",4,"ngFor","ngForOf"],[1,"card-element"],[3,"object","viewMode","context","showThumbnails","linkType"],[3,"message"]],template:function(st,ke){1&st&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(dt){return ke.onPageChange(dt)})("pageSizeChange",function(dt){return ke.onPageSizeChange(dt)})("sortDirectionChange",function(dt){return ke.onSortDirectionChange(dt)})("sortFieldChange",function(dt){return ke.onSortFieldChange(dt)})("paginationChange",function(dt){return ke.onPaginationChange(dt)})("prev",function(){return ke.goPrev()})("next",function(){return ke.goNext()}),t.DNE(1,q,3,3,"div",1)(2,z,2,3,"ds-error",2)(3,te,2,3,"ds-loading",2),t.k0s()),2&st&&(t.Y8G("paginationOptions",ke.config)("collectionSize",null==ke.objects||null==ke.objects.payload?null:ke.objects.payload.totalElements)("sortOptions",ke.sortConfig)("hideGear",ke.hideGear)("objects",ke.objects)("hidePagerWhenSinglePage",ke.hidePagerWhenSinglePage)("hidePaginationDetail",ke.hidePaginationDetail)("showPaginator",ke.showPaginator),t.R7$(),t.Y8G("ngIf",null==ke.objects?null:ke.objects.hasSucceeded),t.R7$(),t.Y8G("ngIf",ke.objects.hasFailed),t.R7$(),t.Y8G("ngIf",ke.objects.isLoading))},dependencies:[p.e,i.bT,i.pM,A.v,I.A,R.v,i.Jj,_.h,_.D9,K.L],styles:["[_nghost-%COMP%]    {--ds-wrapper-grid-spacing: calc(var(--bs-spacer) / 2)}[_nghost-%COMP%]     div.card{margin-top:var(--ds-wrapper-grid-spacing);margin-bottom:var(--ds-wrapper-grid-spacing)}[_nghost-%COMP%]     div.card div.thumbnail>.thumbnail-content{height:var(--ds-card-thumbnail-height);width:100%;display:block;min-width:100%;min-height:100%;object-fit:cover;object-position:50% 15%}.card-columns[_ngcontent-%COMP%]{margin-left:calc(-1 * var(--ds-wrapper-grid-spacing));margin-right:calc(-1 * var(--ds-wrapper-grid-spacing));column-gap:0}.card-columns[_ngcontent-%COMP%]   .card-column[_ngcontent-%COMP%]{padding-left:var(--ds-wrapper-grid-spacing);padding-right:var(--ds-wrapper-grid-spacing)}"],data:{animation:[C.qG]}})}}return Be})();var J=n(8886);n(52304);const ee=["*"];function le(Be,At){}let ne=(()=>{class Be extends J.J{constructor(){super(...arguments),this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.importObject=new t.bkB,this.sortFieldChange=new t.bkB,this.inAndOutputNames=["config","sortConfig","hasBorder","hideGear","hidePagerWhenSinglePage","selectable","selectionConfig","linkType","context","hidePaginationDetail","importable","importConfig","showPaginator","showThumbnails","contentChange","prev","next","objects","change","pageChange","pageSizeChange","sortDirectionChange","paginationChange","deselectObject","selectObject","importObject","sortFieldChange"]}getComponentName(){return"ObjectListComponent"}importThemedComponent(Qe){return n(8894)(`./${Qe}/app/shared/object-list/object-list.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,52304))}static{this.\u0275fac=(()=>{let Qe;return function(ke){return(Qe||(Qe=t.xGo(Be)))(ke||Be)}})()}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-object-list"]],inputs:{config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",selectable:"selectable",selectionConfig:"selectionConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",importable:"importable",importConfig:"importConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",deselectObject:"deselectObject",selectObject:"selectObject",importObject:"importObject",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:ee,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(st,ke){1&st&&(t.NAR(),t.DNE(0,le,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return Be})();var fe=n(7673),se=n(96697),De=(n(96820),n(82522)),be=n(7901),me=n(39012),re=n(13955);let Ee=(()=>{class Be{constructor(){this.showLabel=!0,this.reloadedObject=new t.bkB,this.linkTypes=T.n,this.viewModes=v.n,this.contexts=f.o}static{this.\u0275fac=function(st){return new(st||Be)}}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-objects-collection-tabulatable"]],inputs:{objects:"objects",linkType:"linkType",listID:"listID",value:"value",showLabel:"showLabel",showThumbnails:"showThumbnails",context:"context",viewMode:"viewMode"},outputs:{reloadedObject:"reloadedObject"},standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(st,ke){},encapsulation:2})}}return Be})(),Te=(()=>{class Be extends Ee{static{this.\u0275fac=(()=>{let Qe;return function(ke){return(Qe||(Qe=t.xGo(Be)))(ke||Be)}})()}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-search-result-table-element"]],standalone:!0,features:[t.Vt3,t.aNF],decls:0,vars:0,template:function(st,ke){},encapsulation:2})}}return Be})();var tt=n(21308),ht=n(44869),Fe=n(25543),Ye=(n(3e3),n(58003));const pt=Be=>({default:Be});function Mt(Be,At){if(1&Be&&(t.j41(0,"div")(1,"div",9)(2,"div",10),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",11),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()),2&Be){let Qe;const st=At.$implicit,ke=t.XpG();t.R7$(3),t.JRh(t.bMT(4,2,st+".notify-detail-modal")),t.R7$(3),t.JRh(t.i5U(7,4,"notify-detail-modal."+ke.notifyMessage[st],t.eq3(7,pt,null!==(Qe=ke.notifyMessage[st])&&void 0!==Qe?Qe:"n/a")))}}function Ne(Be,At){if(1&Be&&t.nrm(0,"pre",12),2&Be){const Qe=t.XpG();t.Y8G("@fadeIn",void 0)("innerHTML",Qe.notifyMessage.message,t.npT)}}let rt=(()=>{class Be{constructor(Qe,st){this.activeModal=Qe,this.translationsService=st,this.response=new t.bkB,this.isCoarMessageVisible=!1,this.translationsService.missingTranslationHandler=new Fe.M}closeModal(){this.activeModal.close(),this.response.emit(!0)}toggleCoarMessage(){this.isCoarMessageVisible=!this.isCoarMessageVisible}static{this.\u0275fac=function(st){return new(st||Be)(t.rXU(Ye.Lw),t.rXU(_.c$))}}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-admin-notify-detail-modal"]],inputs:{notifyMessage:"notifyMessage",notifyMessageKeys:"notifyMessageKeys"},outputs:{response:"response"},standalone:!0,features:[t.aNF],decls:14,vars:8,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","p-4"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[1,"btn-primary",3,"click"],["class","bg-secondary text-white mt-2 p-2",3,"innerHTML",4,"ngIf"],[1,"row","mb-4"],[1,"font-weight-bold","col"],[1,"col","text-right"],[1,"bg-secondary","text-white","mt-2","p-2",3,"innerHTML"]],template:function(st,ke){1&st&&(t.j41(0,"div",0)(1,"h4",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return ke.activeModal.dismiss("Cross click")}),t.j41(5,"span",3),t.EFF(6,"\xd7"),t.k0s()()(),t.j41(7,"div",4),t.DNE(8,Mt,8,9,"div",5),t.j41(9,"div",6)(10,"button",7),t.bIt("click",function(){return ke.toggleCoarMessage()}),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.DNE(13,Ne,1,2,"pre",8),t.k0s()),2&st&&(t.R7$(2),t.JRh(t.bMT(3,4,"notify-message-modal.title")),t.R7$(6),t.Y8G("ngForOf",ke.notifyMessageKeys),t.R7$(3),t.SpI(" ",t.bMT(12,6,"notify-message-modal.show-message")," "),t.R7$(2),t.Y8G("ngIf",ke.isCoarMessageVisible))},dependencies:[i.Sq,_.h,_.D9,i.bT],encapsulation:2,data:{animation:[C.qG]}})}}return Be})();var Gt=n(88857);function Zt(Be,At){if(1&Be&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&Be){const Qe=t.XpG().$implicit;t.R7$(),t.JRh(t.i5U(2,1,Qe.queueLastStartTime,"YYYY/MM/d hh:mm:ss"))}}function mt(Be,At){1&Be&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function Pt(Be,At){if(1&Be&&(t.j41(0,"a",12),t.EFF(1),t.k0s()),2&Be){const Qe=t.XpG().$implicit;t.Y8G("routerLink","/items/"+(Qe.context||Qe.object)),t.R7$(),t.JRh(Qe.relatedItem)}}function Ce(Be,At){1&Be&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function je(Be,At){if(1&Be&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&Be){const Qe=t.XpG().$implicit;t.R7$(),t.JRh(Qe.ldnService)}}function ut(Be,At){1&Be&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function hn(Be,At){if(1&Be){const Qe=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){t.eBV(Qe);const ke=t.XpG().$implicit,Le=t.XpG();return t.Njj(Le.reprocessMessage(ke))}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&Be&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"notify-message-result.reprocess")," "))}function an(Be,At){if(1&Be){const Qe=t.RV6();t.j41(0,"tr")(1,"td",2),t.DNE(2,Zt,3,4,"div",5)(3,mt,2,0,"div",5),t.k0s(),t.j41(4,"td")(5,"ds-truncatable",6)(6,"ds-truncatable-part",7),t.DNE(7,Pt,2,2,"a",8),t.k0s()(),t.DNE(8,Ce,2,0,"div",5),t.k0s(),t.j41(9,"td"),t.DNE(10,je,2,1,"div",5)(11,ut,2,0,"div",5),t.k0s(),t.j41(12,"td")(13,"div"),t.EFF(14),t.k0s()(),t.j41(15,"td")(16,"div",2),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.j41(19,"td")(20,"div",9)(21,"button",10),t.bIt("click",function(){const ke=t.eBV(Qe).$implicit,Le=t.XpG();return t.Njj(Le.openDetailModal(ke))}),t.EFF(22),t.nI1(23,"translate"),t.k0s(),t.DNE(24,hn,3,3,"button",11),t.k0s()()()}if(2&Be){const Qe=At.$implicit,st=t.XpG();t.R7$(2),t.Y8G("ngIf",Qe.queueLastStartTime),t.R7$(),t.Y8G("ngIf",!Qe.queueLastStartTime),t.R7$(2),t.Y8G("id",Qe.id),t.R7$(),t.Y8G("id",Qe.id)("minLines",2),t.R7$(),t.Y8G("ngIf",Qe.relatedItem),t.R7$(),t.Y8G("ngIf",!Qe.relatedItem),t.R7$(2),t.Y8G("ngIf",Qe.ldnService),t.R7$(),t.Y8G("ngIf",!Qe.ldnService),t.R7$(3),t.JRh(Qe.activityStreamType),t.R7$(3),t.JRh(t.bMT(18,13,"notify-detail-modal."+Qe.queueStatusLabel)),t.R7$(5),t.JRh(t.bMT(23,15,"notify-message-result.detail")),t.R7$(2),t.Y8G("ngIf",Qe.queueStatusLabel!==st.reprocessStatus&&st.validStatusesForReprocess.includes(Qe.queueStatusLabel))}}let Pn=(()=>{class Be extends Te{constructor(Qe,st,ke,Le){super(),this.modalService=Qe,this.adminNotifyMessagesService=st,this.datePipe=ke,this.searchConfigService=Le,this.messagesSubject$=new B.t([]),this.reprocessStatus="QUEUE_STATUS_QUEUED_FOR_RETRY",this.validStatusesForReprocess=["QUEUE_STATUS_UNTRUSTED","QUEUE_STATUS_UNTRUSTED_IP","QUEUE_STATUS_FAILED","QUEUE_STATUS_UNMAPPED_ACTION"],this.subs=[],this.dateTypeKeys=["queueLastStartTime","queueTimeout"],this.messageKeys=["type","id","coarNotifyType","activityStreamType","inReplyTo","queueAttempts","queueLastStartTime","queueStatusLabel","queueTimeout"],this.dateFormat="YYYY/MM/d hh:mm:ss"}ngOnInit(){this.mapDetailsToMessages(),this.subs.push(this.searchConfigService.getCurrentConfiguration("").subscribe(Qe=>{this.isInbound=Qe.startsWith("NOTIFY.incoming")}))}ngOnDestroy(){this.subs.forEach(Qe=>Qe.unsubscribe())}openDetailModal(Qe){const st=this.modalService.open(rt),ke={...Qe};this.messageKeys.forEach(Le=>{this.dateTypeKeys.includes(Le)&&(ke[Le]=this.datePipe.transform(ke[Le],this.dateFormat))}),ke.message=JSON.stringify(JSON.parse(Qe.message),null,2),st.componentInstance.notifyMessage=ke,st.componentInstance.notifyMessageKeys=this.messageKeys}reprocessMessage(Qe){this.subs.push(this.adminNotifyMessagesService.reprocessMessage(Qe,this.messagesSubject$).subscribe(st=>{this.messagesSubject$.next(st)}))}mapDetailsToMessages(){this.subs.push(this.adminNotifyMessagesService.getDetailedMessages(this.objects?.page.map(Qe=>Qe.indexableObject)).subscribe(Qe=>{this.messagesSubject$.next(Qe)}))}static{this.\u0275fac=function(st){return new(st||Be)(t.rXU(Ye.Bq),t.rXU(Gt.AdminNotifyMessagesService),t.rXU(i.vh),t.rXU(re.EN))}}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-admin-notify-search-result"]],standalone:!0,features:[t.Jv_([i.vh,{provide:re.EN,useClass:me.g}]),t.Vt3,t.aNF],decls:25,vars:21,consts:[[1,"table-responsive","mt-2"],[1,"table","table-striped","table-hover"],[1,"text-nowrap"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"id"],[3,"id","minLines"],[3,"routerLink",4,"ngIf"],[1,"d-flex","flex-column"],[1,"btn","mb-2","btn-dark",3,"click"],["class","btn btn-warning",3,"click",4,"ngIf"],[3,"routerLink"],[1,"btn","btn-warning",3,"click"]],template:function(st,ke){1&st&&(t.j41(0,"div",0)(1,"table",1)(2,"thead")(3,"tr",2)(4,"th",3),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"th",3),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"th",3),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.j41(13,"th",3),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.j41(16,"th",3),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"th",3),t.EFF(20),t.nI1(21,"translate"),t.k0s()()(),t.j41(22,"tbody"),t.DNE(23,an,25,17,"tr",4),t.nI1(24,"async"),t.k0s()()()),2&st&&(t.R7$(5),t.JRh(t.bMT(6,7,"notify-message-result.timestamp")),t.R7$(3),t.JRh(t.bMT(9,9,"notify-message-result.repositoryItem")),t.R7$(3),t.JRh(t.bMT(12,11,"notify-message-result.ldnService")),t.R7$(3),t.JRh(t.bMT(15,13,"notify-message-result.type")),t.R7$(3),t.JRh(t.bMT(18,15,"notify-message-result.status")),t.R7$(3),t.JRh(t.bMT(21,17,"notify-message-result.action")),t.R7$(3),t.Y8G("ngForOf",t.bMT(24,19,ke.messagesSubject$)))},dependencies:[_.h,_.D9,i.Sq,i.bT,i.vh,i.Jj,tt.d,ht.W,be.Wk],encapsulation:2})}}return Be})();var yt=n(40887),Kt=n(81569);const Rt=new Map([[yt.o,new Map([[v.n.Table,new Map([[f.o.CoarNotify,new Map([[Kt.SS,Pn]])]])]])]]);let gn=(()=>{class Be{constructor(Qe){this.viewContainerRef=Qe}static{this.\u0275fac=function(st){return new(st||Be)(t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:Be,selectors:[["","dsTabulatableObjects",""]],standalone:!0})}}return Be})();function It(Be,At){}let zt=(()=>{class Be{constructor(Qe,st){this.cdr=Qe,this.themeService=st,this.showLabel=!0,this.contentChange=new t.bkB,this.subs=[],this.viewMode=v.n.Table,this.inAndOutputNames=["objects","linkType","listID","showLabel","showThumbnails","context","viewMode","value","hideBadges","contentChange"]}ngOnInit(){this.instantiateComponent(this.objects)}ngOnChanges(Qe){(0,E.Tn)(this.compRef)?this.instantiateComponent(this.objects,Qe):this.inAndOutputNames.some(st=>(0,E.a4)(Qe[st]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(Qe))}ngOnDestroy(){this.subs.filter(Qe=>(0,E.a4)(Qe)).forEach(Qe=>Qe.unsubscribe())}instantiateComponent(Qe,st){const ke=this.getComponent(Qe?.page[0]?.getRenderTypes(),this.viewMode,this.context),Le=this.tabulatableObjectsDirective.viewContainerRef;Le.clear(),this.compRef=Le.createComponent(ke,{index:0,injector:void 0}),(0,E.a4)(st)?this.ngOnChanges(st):this.connectInputsAndOutputs(),this.compRef.instance.reloadedObject&&(0,k.z)([(0,fe.of)(st),this.compRef.instance.reloadedObject.pipe((0,se.s)(1))]).subscribe(([dt,St])=>{St&&(this.compRef.destroy(),this.objects=St,this.instantiateComponent(St,dt),this.cdr.detectChanges(),this.contentChange.emit(St))})}getComponent(Qe,st,ke){return function nn(Be,At,Qe=Kt.A2,st=Kt.SS){let ke=null;for(const Le of Be){const dt=Rt.get(Le);if((0,E.a4)(dt)){const St=(0,Kt.mo)(dt,[At,Qe,st],[Kt.e8,Kt.A2,Kt.SS]);((0,E.Tn)(ke)||ke.isLessRelevantThan(St))&&(ke=St)}}return(0,E.a4)(ke)?ke.match:null}(Qe,st,ke,this.themeService.getThemeName())}connectInputsAndOutputs(){(0,E.hj)(this.inAndOutputNames)&&(0,E.a4)(this.compRef)&&(0,E.a4)(this.compRef.instance)&&this.inAndOutputNames.filter(Qe=>void 0!==this[Qe]).forEach(Qe=>{this.compRef.instance[Qe]=this[Qe]})}static{this.\u0275fac=function(st){return new(st||Be)(t.rXU(t.gRc),t.rXU(De.Fs))}}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-tabulatable-objects-loader"]],viewQuery:function(st,ke){if(1&st&&t.GBs(gn,7),2&st){let Le;t.mGM(Le=t.lsd())&&(ke.tabulatableObjectsDirective=Le.first)}},inputs:{objects:"objects",context:"context",linkType:"linkType",listID:"listID",showLabel:"showLabel",showThumbnails:"showThumbnails",value:"value"},outputs:{contentChange:"contentChange"},standalone:!0,features:[t.OA$,t.aNF],decls:1,vars:0,consts:[["dsTabulatableObjects",""]],template:function(st,ke){1&st&&t.DNE(0,It,0,0,"ng-template",0)},dependencies:[gn],encapsulation:2})}}return Be})();function Yt(Be,At){if(1&Be&&(t.j41(0,"div")(1,"div"),t.nrm(2,"ds-tabulatable-objects-loader",3),t.k0s()()),2&Be){const Qe=t.XpG();t.R7$(),t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("objects",Qe.objects.payload)("context",Qe.context)("showThumbnails",Qe.showThumbnails)("linkType",Qe.linkType)}}function wt(Be,At){1&Be&&(t.nrm(0,"ds-error",4),t.nI1(1,"translate")),2&Be&&t.FS9("message",t.bMT(1,1,"error.objects"))}function bt(Be,At){1&Be&&(t.nrm(0,"ds-loading",4),t.nI1(1,"translate")),2&Be&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let Jt=(()=>{class Be{set objects(Qe){this._objects$.next(Qe)}get objects(){return this._objects$.getValue()}constructor(){this.viewMode=v.n.Table,this.showPaginator=!0,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.hidePaginationDetail=!1,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.data={},this._objects$=new B.t(void 0)}onPageChange(Qe){this.pageChange.emit(Qe)}onPageSizeChange(Qe){this.pageSizeChange.emit(Qe)}onSortDirectionChange(Qe){this.sortDirectionChange.emit(Qe)}onSortFieldChange(Qe){this.sortFieldChange.emit(Qe)}onPaginationChange(Qe){this.paginationChange.emit(Qe)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(st){return new(st||Be)}}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-object-table"]],inputs:{config:"config",sortConfig:"sortConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",objects:"objects"},outputs:{change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:4,vars:12,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","hideGear","objects","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator","retainScrollPosition"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"objects","context","showThumbnails","linkType"],[3,"message"]],template:function(st,ke){1&st&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(dt){return ke.onPageChange(dt)})("pageSizeChange",function(dt){return ke.onPageSizeChange(dt)})("sortDirectionChange",function(dt){return ke.onSortDirectionChange(dt)})("sortFieldChange",function(dt){return ke.onSortFieldChange(dt)})("paginationChange",function(dt){return ke.onPaginationChange(dt)})("prev",function(){return ke.goPrev()})("next",function(){return ke.goNext()}),t.DNE(1,Yt,3,5,"div",1)(2,wt,2,3,"ds-error",2)(3,bt,2,3,"ds-loading",2),t.k0s()),2&st&&(t.Y8G("paginationOptions",ke.config)("collectionSize",null==ke.objects||null==ke.objects.payload?null:ke.objects.payload.totalElements)("sortOptions",ke.sortConfig)("hideGear",ke.hideGear)("objects",ke.objects)("hidePagerWhenSinglePage",ke.hidePagerWhenSinglePage)("hidePaginationDetail",ke.hidePaginationDetail)("showPaginator",ke.showPaginator)("retainScrollPosition",!0),t.R7$(),t.Y8G("ngIf",null==ke.objects?null:ke.objects.hasSucceeded),t.R7$(),t.Y8G("ngIf",null==ke.objects?null:ke.objects.hasFailed),t.R7$(),t.Y8G("ngIf",null==ke.objects?null:ke.objects.isLoading))},dependencies:[p.e,i.bT,R.v,I.A,_.h,_.D9,zt],data:{animation:[C.qG]}})}}return Be})();var Dt=n(74430);function Ft(Be,At){if(1&Be){const Qe=t.RV6();t.j41(0,"ds-object-list",3),t.bIt("paginationChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPaginationChange(ke))})("pageChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPageChange(ke))})("pageSizeChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPageSizeChange(ke))})("sortDirectionChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onSortDirectionChange(ke))})("deselectObject",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.deselectObject.emit(ke))})("selectObject",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.selectObject.emit(ke))})("sortFieldChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onSortFieldChange(ke))})("importObject",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.importObject.emit(ke))})("contentChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.contentChange.emit(ke))})("prev",function(){t.eBV(Qe);const ke=t.XpG();return t.Njj(ke.goPrev())})("next",function(){t.eBV(Qe);const ke=t.XpG();return t.Njj(ke.goNext())}),t.k0s()}if(2&Be){const Qe=t.XpG();t.Y8G("ngClass",Qe.placeholderFontClass)("config",Qe.config)("sortConfig",Qe.sortConfig)("objects",Qe.objects)("hasBorder",Qe.hasBorder)("hideGear",Qe.hideGear)("linkType",Qe.linkType)("context",Qe.context)("hidePaginationDetail",Qe.hidePaginationDetail)("showPaginator",Qe.showPaginator)("showThumbnails",Qe.showThumbnails)("selectable",Qe.selectable)("selectionConfig",Qe.selectionConfig)("importable",Qe.importable)("importConfig",Qe.importConfig)}}function ot(Be,At){if(1&Be){const Qe=t.RV6();t.j41(0,"ds-object-grid",4),t.bIt("paginationChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPaginationChange(ke))})("pageChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPageChange(ke))})("pageSizeChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPageSizeChange(ke))})("sortDirectionChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onSortDirectionChange(ke))})("sortFieldChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onSortFieldChange(ke))}),t.k0s()}if(2&Be){const Qe=t.XpG();t.Y8G("config",Qe.config)("sortConfig",Qe.sortConfig)("objects",Qe.objects)("hideGear",Qe.hideGear)("linkType",Qe.linkType)("context",Qe.context)("hidePaginationDetail",Qe.hidePaginationDetail)("showPaginator",Qe.showPaginator)("showThumbnails",Qe.showThumbnails)}}function xe(Be,At){if(1&Be){const Qe=t.RV6();t.j41(0,"ds-object-detail",5),t.bIt("contentChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.contentChange.emit(ke))}),t.k0s()}if(2&Be){const Qe=t.XpG();t.Y8G("config",Qe.config)("sortConfig",Qe.sortConfig)("objects",Qe.objects)("hideGear",Qe.hideGear)("linkType",Qe.linkType)("context",Qe.context)("hidePaginationDetail",Qe.hidePaginationDetail)("showPaginator",Qe.showPaginator)("showThumbnails",Qe.showThumbnails)}}function Ve(Be,At){if(1&Be){const Qe=t.RV6();t.j41(0,"ds-object-table",4),t.bIt("paginationChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPaginationChange(ke))})("pageChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPageChange(ke))})("pageSizeChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPageSizeChange(ke))})("sortDirectionChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onSortDirectionChange(ke))})("sortFieldChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onSortFieldChange(ke))}),t.k0s()}if(2&Be){const Qe=t.XpG();t.Y8G("config",Qe.config)("sortConfig",Qe.sortConfig)("objects",Qe.objects)("hideGear",Qe.hideGear)("linkType",Qe.linkType)("context",Qe.context)("hidePaginationDetail",Qe.hidePaginationDetail)("showPaginator",Qe.showPaginator)("showThumbnails",Qe.showThumbnails)}}let Ke=(()=>{class Be{constructor(Qe,st,ke,Le,dt){this.cdRef=Qe,this.route=st,this.router=ke,this.elementRef=Le,this.platformId=dt,this.hasBorder=!1,this.hideGear=!1,this.selectable=!1,this.customEvent=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.contentChange=new t.bkB,this.importable=!1,this.importObject=new t.bkB,this.hidePaginationDetail=!1,this.showPaginator=!0,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.viewModeEnum=v.n}ngOnInit(){this.currentMode$=this.route.queryParams.pipe((0,u.T)(Qe=>(0,E.Im)(Qe?.view)?v.n.ListElement:Qe.view),(0,e.F)()),this.placeholderFontClass=(0,i.UE)(this.platformId)?(0,Dt.F)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text"}onPageChange(Qe){this.pageChange.emit(Qe)}onPageSizeChange(Qe){this.pageSizeChange.emit(Qe)}onSortDirectionChange(Qe){this.sortDirectionChange.emit(Qe)}onSortFieldChange(Qe){this.sortFieldChange.emit(Qe)}onPaginationChange(Qe){this.paginationChange.emit(Qe)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(st){return new(st||Be)(t.rXU(t.gRc),t.rXU(be.nX),t.rXU(be.Ix),t.rXU(t.aKT),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-viewable-collection"]],inputs:{objects:"objects",config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",selectable:"selectable",selectionConfig:"selectionConfig",importable:"importable",importConfig:"importConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",showPaginator:"showPaginator",showThumbnails:"showThumbnails"},outputs:{customEvent:"customEvent",deselectObject:"deselectObject",selectObject:"selectObject",contentChange:"contentChange",importObject:"importObject",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:8,vars:12,consts:[[3,"ngClass","config","sortConfig","objects","hasBorder","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","selectable","selectionConfig","importable","importConfig","paginationChange","pageChange","pageSizeChange","sortDirectionChange","deselectObject","selectObject","sortFieldChange","importObject","contentChange","prev","next",4,"ngIf"],[3,"config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","paginationChange","pageChange","pageSizeChange","sortDirectionChange","sortFieldChange",4,"ngIf"],[3,"config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","contentChange",4,"ngIf"],[3,"paginationChange","pageChange","pageSizeChange","sortDirectionChange","deselectObject","selectObject","sortFieldChange","importObject","contentChange","prev","next","ngClass","config","sortConfig","objects","hasBorder","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","selectable","selectionConfig","importable","importConfig"],[3,"paginationChange","pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"],[3,"contentChange","config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"]],template:function(st,ke){1&st&&(t.DNE(0,Ft,1,15,"ds-object-list",0),t.nI1(1,"async"),t.DNE(2,ot,1,9,"ds-object-grid",1),t.nI1(3,"async"),t.DNE(4,xe,1,9,"ds-object-detail",2),t.nI1(5,"async"),t.DNE(6,Ve,1,9,"ds-object-table",1),t.nI1(7,"async")),2&st&&(t.Y8G("ngIf",t.bMT(1,4,ke.currentMode$)===ke.viewModeEnum.ListElement),t.R7$(2),t.Y8G("ngIf",t.bMT(3,6,ke.currentMode$)===ke.viewModeEnum.GridElement),t.R7$(2),t.Y8G("ngIf",t.bMT(5,8,ke.currentMode$)===ke.viewModeEnum.DetailedListElement),t.R7$(2),t.Y8G("ngIf",t.bMT(7,10,ke.currentMode$)===ke.viewModeEnum.Table))},dependencies:[i.bT,ne,i.YU,Z,L,i.Jj,Jt],styles:["[_nghost-%COMP%]{display:block}"]})}}return Be})()},67604:(F,D,n)=>{"use strict";n.r(D),n.d(D,{AccessStatusBadgeComponent:()=>T});var i=n(60177),t=n(41780),u=n(7673),e=n(96354),h=n(99437),m=n(45022),f=n(88280),E=(n(76829),n(13868)),_=n(82777),C=n(54438);function I(A,p){if(1&A&&(C.j41(0,"span")(1,"span"),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&A){const x=p.ngIf,O=C.XpG(2);C.R7$(),C.HbH("badge bg-secondary access-status-list-element-badge "+O.accessStatusClass),C.R7$(),C.JRh(C.bMT(3,3,x))}}function R(A,p){if(1&A&&(C.qex(0),C.DNE(1,I,4,5,"span",0),C.nI1(2,"async"),C.bVm()),2&A){const x=C.XpG();C.R7$(),C.Y8G("ngIf",C.bMT(2,1,x.accessStatus$))}}let T=(()=>{class A{constructor(x){this.accessStatusDataService=x,this.subs=[]}ngOnInit(){if(this.showAccessStatus=f.c.item.showAccessStatuses,this.object.type.toString()!==E.U.value||!this.showAccessStatus||null==this.object)return;const x=this.object;null==x.accessStatus&&(x.accessStatus=this.accessStatusDataService.findAccessStatusFor(x)),this.accessStatus$=x.accessStatus.pipe((0,e.T)(O=>401!==O.statusCode&&(0,_.a4)(O.payload)?O.payload:[]),(0,e.T)(O=>(0,_.a4)(O.status)?O.status:"unknown"),(0,e.T)(O=>`access-status.${O.toLowerCase()}.listelement.badge`),(0,h.W)(()=>(0,u.of)("access-status.unknown.listelement.badge"))),this.subs.push(this.accessStatus$.pipe((0,e.T)(O=>O.replace(/\./g,"-"))).subscribe(O=>{this.accessStatusClass=O}))}ngOnDestroy(){this.subs.filter(x=>(0,_.a4)(x)).forEach(x=>x.unsubscribe())}static{this.\u0275fac=function(O){return new(O||A)(C.rXU(m.AccessStatusDataService))}}static{this.\u0275cmp=C.VBU({type:A,selectors:[["ds-base-access-status-badge"]],inputs:{object:"object"},standalone:!0,features:[C.aNF],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(O,w){1&O&&C.DNE(0,R,3,3,"ng-container",0),2&O&&C.Y8G("ngIf",w.showAccessStatus)},dependencies:[i.bT,i.Jj,t.h,t.D9]})}}return A})()},87922:(F,D,n)=>{"use strict";n.d(D,{E:()=>t});const t=new(n(42547).v)("accessStatus")},34272:(F,D,n)=>{"use strict";n.d(D,{I:()=>f}),n(76829);var t=n(8886),e=(n(67604),n(54438));const h=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"AccessStatusBadgeComponent"}importThemedComponent(_){return n(50822)(`./${_}/app/shared/object-collection/shared/badges/access-status-badge/access-status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,67604))}static{this.\u0275fac=(()=>{let _;return function(I){return(_||(_=e.xGo(v)))(I||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-access-status-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:h,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,I){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},22285:(F,D,n)=>{"use strict";n.r(D),n.d(D,{BadgesComponent:()=>I});var i=n(60177),t=n(26292),e=(n(76829),n(34272)),h=n(38968),m=n(13760),f=n(74448),v=n(54438);function E(R,T){if(1&R&&(v.qex(0),v.nrm(1,"ds-my-dspace-status-badge",3),v.bVm()),2&R){const A=v.XpG();v.R7$(),v.Y8G("context",A.context)}}function _(R,T){if(1&R&&(v.qex(0),v.nrm(1,"ds-access-status-badge",0),v.bVm()),2&R){const A=v.XpG();v.R7$(),v.Y8G("object",A.object)}}const C=[t.o.MyDSpaceArchived,t.o.MyDSpaceWorkspace,t.o.MyDSpaceWorkflow,t.o.MyDSpaceDeclined,t.o.MyDSpaceApproved,t.o.MyDSpaceWaitingController,t.o.MyDSpaceValidation];let I=(()=>{class R{constructor(){this.showAccessStatus=!1}get isMyDSpaceStatus(){return C.includes(this.context)}static{this.\u0275fac=function(p){return new(p||R)}}static{this.\u0275cmp=v.VBU({type:R,selectors:[["ds-base-badges"]],inputs:{object:"object",context:"context",showAccessStatus:"showAccessStatus"},standalone:!0,features:[v.aNF],decls:5,vars:4,consts:[[3,"object"],[4,"ngIf"],[1,"pe-1",3,"object"],[3,"context"]],template:function(p,x){1&p&&(v.nrm(0,"ds-status-badge",0),v.DNE(1,E,2,1,"ng-container",1),v.j41(2,"div"),v.nrm(3,"ds-type-badge",2),v.DNE(4,_,2,1,"ng-container",1),v.k0s()),2&p&&(v.Y8G("object",x.object),v.R7$(),v.Y8G("ngIf",x.isMyDSpaceStatus),v.R7$(2),v.Y8G("object",x.object),v.R7$(),v.Y8G("ngIf",x.showAccessStatus))},dependencies:[m.o,i.bT,h.Q,f.C,e.I]})}}return R})()},14430:(F,D,n)=>{"use strict";n.r(D),n.d(D,{MyDSpaceStatusBadgeComponent:()=>e});var i=n(41780),t=n(26292),u=n(54438);let e=(()=>{class h{ngOnInit(){switch(this.badgeContent=this.context,this.badgeClass="text-light badge ",this.context){case t.o.MyDSpaceValidation:this.badgeClass+="badge-validation";break;case t.o.MyDSpaceWaitingController:this.badgeClass+="badge-waiting-controller";break;case t.o.MyDSpaceWorkspace:this.badgeClass+="badge-workspace";break;case t.o.MyDSpaceArchived:this.badgeClass+="badge-archived";break;case t.o.MyDSpaceWorkflow:this.badgeClass+="badge-workflow"}}static{this.\u0275fac=function(v){return new(v||h)}}static{this.\u0275cmp=u.VBU({type:h,selectors:[["ds-base-my-dspace-status-badge"]],inputs:{context:"context"},standalone:!0,features:[u.aNF],decls:4,vars:4,consts:[[3,"className"]],template:function(v,E){1&v&&(u.j41(0,"div")(1,"span",0),u.EFF(2),u.nI1(3,"translate"),u.k0s()()),2&v&&(u.R7$(),u.Y8G("className",E.badgeClass),u.R7$(),u.SpI(" ",u.bMT(3,2,"mydspace.status."+E.badgeContent)," "))},dependencies:[i.h,i.D9]})}}return h})()},38968:(F,D,n)=>{"use strict";n.d(D,{Q:()=>f}),n(26292);var t=n(8886),e=(n(14430),n(54438));const h=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["context"]}getComponentName(){return"MyDSpaceStatusBadgeComponent"}importThemedComponent(_){return n(87596)(`./${_}/app/shared/object-collection/shared/badges/my-dspace-status-badge/my-dspace-status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,14430))}static{this.\u0275fac=(()=>{let _;return function(I){return(_||(_=e.xGo(v)))(I||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-my-dspace-status-badge"]],inputs:{context:"context"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:h,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,I){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},16482:(F,D,n)=>{"use strict";n.r(D),n.d(D,{StatusBadgeComponent:()=>v});var i=n(60177),t=n(41780),e=(n(76829),n(82777)),h=n(54438);function m(E,_){1&E&&(h.j41(0,"div",2)(1,"span",3),h.EFF(2),h.nI1(3,"translate"),h.k0s()()),2&E&&(h.R7$(2),h.JRh(h.bMT(3,1,"item.badge.private")))}function f(E,_){1&E&&(h.j41(0,"div",4)(1,"span",5),h.EFF(2),h.nI1(3,"translate"),h.k0s()()),2&E&&(h.R7$(2),h.JRh(h.bMT(3,1,"item.badge.withdrawn")))}let v=(()=>{class E{constructor(){this.privateBadge=!1,this.withdrawnBadge=!1}ngOnInit(){let C=this.object;(0,e.a4)(C.indexableObject)&&(C=C.indexableObject);const I=(0,e.a4)(C);this.privateBadge=I&&(0,e.a4)(C.isDiscoverable)&&!C.isDiscoverable,this.withdrawnBadge=I&&(0,e.a4)(C.isWithdrawn)&&C.isWithdrawn}static{this.\u0275fac=function(I){return new(I||E)}}static{this.\u0275cmp=h.VBU({type:E,selectors:[["ds-base-status-badge"]],inputs:{object:"object"},standalone:!0,features:[h.aNF],decls:2,vars:2,consts:[["class","private-badge",4,"ngIf"],["class","withdrawn-badge",4,"ngIf"],[1,"private-badge"],[1,"badge","bg-danger"],[1,"withdrawn-badge"],[1,"badge","bg-warning"]],template:function(I,R){1&I&&h.DNE(0,m,4,3,"div",0)(1,f,4,3,"div",1),2&I&&(h.Y8G("ngIf",R.privateBadge),h.R7$(),h.Y8G("ngIf",R.withdrawnBadge))},dependencies:[i.bT,t.h,t.D9],encapsulation:2})}}return E})()},13760:(F,D,n)=>{"use strict";n.d(D,{o:()=>f}),n(76829);var t=n(8886),e=(n(16482),n(54438));const h=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"StatusBadgeComponent"}importThemedComponent(_){return n(52504)(`./${_}/app/shared/object-collection/shared/badges/status-badge/status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,16482))}static{this.\u0275fac=(()=>{let _;return function(I){return(_||(_=e.xGo(v)))(I||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-status-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:h,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,I){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},55309:(F,D,n)=>{"use strict";n.d(D,{F:()=>v}),n(26292),n(76829);var u=n(8886),h=(n(22285),n(54438));const m=["*"];function f(E,_){}let v=(()=>{class E extends u.J{constructor(){super(...arguments),this.showAccessStatus=!1,this.inAndOutputNames=["object","context","showAccessStatus"]}getComponentName(){return"BadgesComponent"}importThemedComponent(C){return n(70295)(`./${C}/app/shared/object-collection/shared/badges/badges.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,22285))}static{this.\u0275fac=(()=>{let C;return function(R){return(C||(C=h.xGo(E)))(R||E)}})()}static{this.\u0275cmp=h.VBU({type:E,selectors:[["ds-badges"]],inputs:{object:"object",context:"context",showAccessStatus:"showAccessStatus"},standalone:!0,features:[h.Vt3,h.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(I,R){1&I&&(h.NAR(),h.DNE(0,f,0,0,"ng-template",null,0,h.C5r),h.j41(2,"div",null,1),h.SdG(4),h.k0s())},encapsulation:2})}}return E})()},74448:(F,D,n)=>{"use strict";n.d(D,{C:()=>f}),n(76829);var t=n(8886),e=(n(3310),n(54438));const h=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"TypeBadgeComponent"}importThemedComponent(_){return n(45796)(`./${_}/app/shared/object-collection/shared/badges/type-badge/type-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,3310))}static{this.\u0275fac=(()=>{let _;return function(I){return(_||(_=e.xGo(v)))(I||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-type-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:h,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,I){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},3310:(F,D,n)=>{"use strict";n.r(D),n.d(D,{TypeBadgeComponent:()=>v});var i=n(60177),t=n(41780),u=n(87891),h=(n(76829),n(82777)),m=n(54438);function f(E,_){if(1&E&&(m.j41(0,"span")(1,"span",1),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&E){const C=m.XpG();m.R7$(2),m.JRh(m.bMT(3,1,C.typeMessage))}}let v=(()=>{class E{set object(C){this._object=C;const I=this._object.getRenderTypes();if(!(0,h.Im)(I.length)){const R=I[0];if(R instanceof Function){const T=(0,u.zA)(C.type);this._typeMessage=(0,h.a4)(T)?`${T.toLowerCase()}.listelement.badge`:`${R.name.toLowerCase()}.listelement.badge`}else this._typeMessage=`${R.toLowerCase()}.listelement.badge`}}get object(){return this._object}get typeMessage(){return this._typeMessage}static{this.\u0275fac=function(I){return new(I||E)}}static{this.\u0275cmp=m.VBU({type:E,selectors:[["ds-base-type-badge"]],inputs:{object:"object"},standalone:!0,features:[m.aNF],decls:1,vars:1,consts:[[4,"ngIf"],[1,"badge","bg-info"]],template:function(I,R){1&I&&m.DNE(0,f,4,3,"span",0),2&I&&m.Y8G("ngIf",R.typeMessage)},dependencies:[i.bT,t.h,t.D9],encapsulation:2})}}return E})()},48622:(F,D,n)=>{"use strict";n.d(D,{t:()=>t});var i=n(78541);class t extends i.q{}},83233:(F,D,n)=>{"use strict";n.d(D,{q:()=>t});var i=n(78541);class t extends i.q{}},66211:(F,D,n)=>{"use strict";n.d(D,{H:()=>t});var i=n(78541);class t extends i.q{}},34532:(F,D,n)=>{"use strict";n.d(D,{y:()=>t});var i=n(78541);class t extends i.q{}},77537:(F,D,n)=>{"use strict";n.d(D,{A:()=>t});var i=n(78541);class t extends i.q{}},17132:(F,D,n)=>{"use strict";n.d(D,{L:()=>t});var i=n(78541);class t extends i.q{}},88261:(F,D,n)=>{"use strict";n.d(D,{$:()=>e});var i=n(54438),t=n(41780);n(22878);let e=(()=>{class h{constructor(){this.importObject=new i.bkB}static{this.\u0275fac=function(v){return new(v||h)}}static{this.\u0275cmp=i.VBU({type:h,selectors:[["ds-importable-list-item-control"]],inputs:{object:"object",importConfig:"importConfig"},outputs:{importObject:"importObject"},standalone:!0,features:[i.aNF],decls:4,vars:3,consts:[[1,"me-2"],[1,"btn","btn-outline-primary","btn-sm","float-start",3,"click","title"],[1,"fas","fa-cloud-download-alt","fa-fw"]],template:function(v,E){1&v&&(i.j41(0,"div",0)(1,"button",1),i.nI1(2,"translate"),i.bIt("click",function(){return E.importObject.emit(E.object)}),i.nrm(3,"i",2),i.k0s()()),2&v&&(i.R7$(),i.FS9("title",i.bMT(2,1,null==E.importConfig?null:E.importConfig.buttonLabel)))},dependencies:[t.h,t.D9],encapsulation:2})}}return h})()},27442:(F,D,n)=>{"use strict";n.d(D,{H:()=>e});var i=n(31635),t=n(98688),u=n(78541);let e=class extends u.q{getRenderTypes(){return this.indexableObject.getRenderTypes().map(m=>"string"==typeof m?m+"SearchResult":this.constructor)}};e=(0,i.Cg)([(0,t.ug)(u.q)],e)},22878:(F,D,n)=>{"use strict";n.d(D,{u:()=>t});var i=n(98688);class t extends i._U{}},17191:(F,D,n)=>{"use strict";n.d(D,{v:()=>C});var i=n(54438),t=n(96697),h=(n(26292),n(78448),n(22924)),m=n(82522),E=(n(7581),n(22878),n(81569));function _(I,R){}let C=(()=>{class I extends h.e{constructor(T,A){super(T),this.themeService=T,this.cdr=A,this.showLabel=!0,this.contentChange=new i.bkB,this.inputNamesDependentForComponent=["object","viewMode","context"],this.inputNames=["object","index","context","linkType","listID","showLabel","showThumbnails","viewMode","value"],this.outputNames=["contentChange"]}instantiateComponent(){super.instantiateComponent(),this.compRef.instance.reloadedObject&&this.compRef.instance.reloadedObject.pipe((0,t.s)(1)).subscribe(T=>{T&&(this.destroyComponentInstance(),this.object=T,this.instantiateComponent(),this.cdr.detectChanges(),this.contentChange.emit(T))})}getComponent(){return(0,E.Zx)(this.object.getRenderTypes(),this.viewMode,this.context,this.themeService.getThemeName())}static{this.\u0275fac=function(A){return new(A||I)(i.rXU(m.Fs),i.rXU(i.gRc))}}static{this.\u0275cmp=i.VBU({type:I,selectors:[["ds-listable-object-component-loader"]],inputs:{object:"object",index:"index",viewMode:"viewMode",context:"context",linkType:"linkType",listID:"listID",showLabel:"showLabel",showThumbnails:"showThumbnails",value:"value"},outputs:{contentChange:"contentChange"},standalone:!0,features:[i.Vt3,i.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(A,p){1&A&&i.DNE(0,_,0,0,"ng-template",1,0,i.C5r)},styles:["[_nghost-%COMP%]{width:100%}"]})}}return I})()},81569:(F,D,n)=>{"use strict";n.d(D,{A2:()=>f,SS:()=>v,VK:()=>I,Zx:()=>R,e8:()=>m,eW:()=>p,mo:()=>T,zD:()=>_});var i=n(54438),t=n(88280),u=n(26292),e=n(78448),h=n(82777);const m=e.n.ListElement,f=u.o.Any,v="*";class E{constructor(O,w,M){this.match=O,this.level=w,this.relevancy=M}isMoreRelevantThan(O){return!!(0,h.Tn)(O)||!(O.level>this.level||O.level===this.level&&O.relevancy>this.relevancy)}isLessRelevantThan(O){return!this.isMoreRelevantThan(O)}}const _=new i.nKC("getThemeConfigFor",{providedIn:"root",factory:()=>A}),C=new Map;function I(x,O,w=f,M=v){return function(B){(0,h.Tn)(x)||((0,h.Tn)(C.get(x))&&C.set(x,new Map),(0,h.Tn)(C.get(x).get(O))&&C.get(x).set(O,new Map),(0,h.Tn)(C.get(x).get(O).get(w))&&C.get(x).get(O).set(w,new Map),C.get(x).get(O).get(w).set(M,B))}}function R(x,O,w=f,M=v){let L=null;for(const B of x){const k=C.get(B);if((0,h.a4)(k)){const W=T(k,[O,w,M],[m,f,v]);((0,h.Tn)(L)||L.isLessRelevantThan(W))&&(L=W)}}return(0,h.a4)(L)?L.match:null}function T(x,O,w){let M=x,L=-1,B=0;for(let k=0;k<O.length;k++){let W=w[k]===v?p(M,O[k]):M.get(O[k]);if((0,h.Tn)(W)?(W=M.get(w[k]),-1===L&&(L=k)):B++,!(0,h.a4)(W))return null;if(!(W instanceof Map))return new E(W,L>-1?L:k+1,B);M=W}return null}const A=x=>t.c.themes.find(O=>O.name===x),p=(x,O,w=[])=>{const M=x.get(O);if((0,h.a4)(M))return M;{const L=A(O);if((0,h.a4)(L)&&(0,h.hj)(L.extends)){const B=L.extends,k=[...w,O];if(w.includes(B))throw new Error("Theme extension cycle detected: "+[...k,B].join(" -> "));return p(x,B,k)}}}},47598:(F,D,n)=>{"use strict";n.d(D,{b:()=>A});var i=n(60177),t=n(7901),u=n(41780),e=n(983),h=n(73028),m=n(96354),f=n(96526),v=n(1321),E=n(80183),_=n(82777),C=n(67600),I=n(54438);const R=p=>["/collections",p];function T(p,x){if(1&p&&(I.j41(0,"div",1)(1,"span",2),I.EFF(2),I.nI1(3,"translate"),I.j41(4,"a",3),I.nI1(5,"async"),I.EFF(6),I.nI1(7,"async"),I.k0s()()()),2&p){let O;const w=I.XpG();I.R7$(2),I.SpI("",I.bMT(3,3,"collection.listelement.badge"),": "),I.R7$(2),I.Y8G("routerLink",I.eq3(9,R,null==(O=I.bMT(5,5,w.collection$))?null:O.id)),I.R7$(2),I.SpI(" ",w.dsoNameService.getName(I.bMT(7,7,w.collection$))," ")}}let A=(()=>{class p{constructor(O,w){this.linkService=O,this.dsoNameService=w}ngOnInit(){this.linkService.resolveLinks(this.object,(0,C.s)("workflowitem",{isOptional:!0},(0,C.s)("collection",{}))),this.collection$=this.object.workflowitem.pipe((0,E.qD)(),(0,h.Z)(O=>O.hasSucceeded&&(0,_.hj)(O.payload)?O.payload.collection.pipe((0,E.qD)(),(0,m.T)(w=>w.hasSucceeded&&(0,_.hj)(w.payload)?w.payload:null)):e.w))}static{this.\u0275fac=function(w){return new(w||p)(I.rXU(v._),I.rXU(f.f))}}static{this.\u0275cmp=I.VBU({type:p,selectors:[["ds-item-collection"]],inputs:{object:"object"},standalone:!0,features:[I.aNF],decls:2,vars:3,consts:[["class","mt-2 mb-2",4,"ngIf"],[1,"mt-2","mb-2"],[1,"link-muted"],[3,"routerLink"]],template:function(w,M){1&w&&(I.DNE(0,T,8,11,"div",0),I.nI1(1,"async")),2&w&&I.Y8G("ngIf",I.bMT(1,1,M.collection$))},dependencies:[i.bT,t.Wk,i.Jj,u.h,u.D9]})}}return p})()},21546:(F,D,n)=>{"use strict";n.d(D,{s:()=>T});var i=n(60177),t=n(41780),u=n(983),e=n(73028),h=n(96354),m=n(96526),f=n(1321),v=n(80183),E=n(82777),_=n(67600),C=n(54438);function I(A,p){if(1&A&&(C.qex(0),C.EFF(1),C.bVm()),2&A){const x=p.ngIf,O=C.XpG();C.R7$(),C.SpI(" ",O.dsoNameService.getName(x)," ")}}function R(A,p){1&A&&(C.EFF(0),C.nI1(1,"translate")),2&A&&C.SpI(" ",C.bMT(1,1,"submitter.empty")," ")}let T=(()=>{class A{constructor(x,O){this.dsoNameService=x,this.linkService=O}ngOnInit(){this.linkService.resolveLinks(this.object,(0,_.s)("workflowitem",{},(0,_.s)("submitter",{}))),this.submitter$=this.object.workflowitem.pipe((0,v.qD)(),(0,e.Z)(x=>x.hasSucceeded&&(0,E.hj)(x.payload)?x.payload.submitter.pipe((0,v.qD)(),(0,h.T)(O=>O.hasSucceeded&&(0,E.hj)(O.payload)?O.payload:null)):u.w))}static{this.\u0275fac=function(O){return new(O||A)(C.rXU(m.f),C.rXU(f._))}}static{this.\u0275cmp=C.VBU({type:A,selectors:[["ds-item-submitter"]],inputs:{object:"object"},standalone:!0,features:[C.aNF],decls:9,vars:7,consts:[["noSubmitter",""],[1,"mt-2","mb-2"],[1,"text-muted"],[1,"badge","bg-info"],[4,"ngIf","ngIfElse"]],template:function(O,w){if(1&O&&(C.j41(0,"div",1)(1,"span",2),C.EFF(2),C.nI1(3,"translate"),C.j41(4,"span",3),C.DNE(5,I,2,1,"ng-container",4),C.nI1(6,"async"),C.DNE(7,R,2,3,"ng-template",null,0,C.C5r),C.k0s()()()),2&O){const M=C.sdS(8);C.R7$(2),C.SpI(" ",C.bMT(3,3,"submission.workflow.tasks.generic.submitter"),": "),C.R7$(3),C.Y8G("ngIf",C.bMT(6,5,w.submitter$))("ngIfElse",M)}},dependencies:[i.bT,i.Jj,t.h,t.D9]})}}return A})()},73584:(F,D,n)=>{"use strict";n.d(D,{C:()=>m});var i=n(54438),t=n(96526),u=n(26292),e=n(78448),h=n(7581);let m=(()=>{class f{constructor(E){this.dsoNameService=E,this.showLabel=!0,this.reloadedObject=new i.bkB,this.linkTypes=h.n,this.viewModes=e.n,this.contexts=u.o}static{this.\u0275fac=function(_){return new(_||f)(i.rXU(t.f))}}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-abstract-object-element"]],inputs:{object:"object",linkType:"linkType",listID:"listID",value:"value",index:"index",showLabel:"showLabel",showThumbnails:"showThumbnails",context:"context",viewMode:"viewMode"},outputs:{reloadedObject:"reloadedObject"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(_,C){},encapsulation:2})}}return f})()},24205:(F,D,n)=>{"use strict";n.d(D,{d:()=>t});var i=n(78541);class t extends i.q{}},35323:(F,D,n)=>{"use strict";n.d(D,{Y:()=>T});var i=n(60177),t=n(54438),u=n(89417),e=n(41780),h=n(65245),m=n(96697),f=n(96354),v=n(13329),E=n(18226);function C(A,p){if(1&A){const x=t.RV6();t.j41(0,"input",5,0),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("ngModelChange",function(w){t.eBV(x);const M=t.XpG(2);return t.Njj(M.selectCheckbox(w))}),t.k0s()}if(2&A){const x=t.sdS(1),O=t.XpG(2);t.Y8G("name","checkbox"+O.index)("id","object"+O.index)("ngModel",t.bMT(2,4,O.selected$)),t.BMQ("aria-label",t.bMT(3,6,x.checked?"selectable-list-item-control.deselect":"selectable-list-item-control.select"))}}function I(A,p){if(1&A){const x=t.RV6();t.j41(0,"input",6),t.nI1(1,"async"),t.nI1(2,"translate"),t.bIt("click",function(){t.eBV(x);const w=t.XpG().ngVar,M=t.XpG();return t.Njj(M.selectRadio(!w))}),t.k0s()}if(2&A){const x=t.XpG(2);t.Y8G("name","radio"+x.index)("id","object"+x.index)("checked",t.bMT(1,4,x.selected$)),t.BMQ("aria-label",t.bMT(2,6,"selectable-list-item-control.select"))}}function R(A,p){if(1&A&&(t.qex(0),t.j41(1,"span",2),t.DNE(2,C,4,8,"input",3)(3,I,3,8,"input",4),t.k0s(),t.bVm()),2&A){const x=t.XpG();t.R7$(2),t.Y8G("ngIf",x.selectionConfig.repeatable),t.R7$(),t.Y8G("ngIf",!x.selectionConfig.repeatable)}}n(22878);let T=(()=>{class A{constructor(x){this.selectionService=x,this.deselectObject=new t.bkB,this.selectObject=new t.bkB}ngOnInit(){this.selected$=this.selectionService.isObjectSelected(this.selectionConfig.listId,this.object),this.selected$.pipe((0,h.i)(1)).subscribe(x=>{x?this.selectObject.emit(this.object):this.deselectObject.emit(this.object)})}selectCheckbox(x){x?this.selectionService.selectSingle(this.selectionConfig.listId,this.object):this.selectionService.deselectSingle(this.selectionConfig.listId,this.object)}selectRadio(x){x&&this.selectionService.getSelectableList(this.selectionConfig.listId).pipe((0,m.s)(1),(0,f.T)(w=>w?w.selection:[])).subscribe(w=>{w.forEach(M=>{this.selectionService.deselectSingle(this.selectionConfig.listId,M),this.deselectObject.emit(M)}),this.selectionService.selectSingle(this.selectionConfig.listId,this.object),this.selectObject.emit(this.object)})}static{this.\u0275fac=function(O){return new(O||A)(t.rXU(v.K))}}static{this.\u0275cmp=t.VBU({type:A,selectors:[["ds-selectable-list-item-control"]],inputs:{object:"object",selectionConfig:"selectionConfig",index:"index"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["selectListItemCheckbox",""],[4,"ngVar"],[1,"form-check"],["class","form-check-input","type","checkbox",3,"name","id","ngModel","ngModelChange",4,"ngIf"],["class","form-check-input mt-2","type","radio",3,"name","id","checked","click",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"ngModelChange","name","id","ngModel"],["type","radio",1,"form-check-input","mt-2",3,"click","name","id","checked"]],template:function(O,w){1&O&&(t.DNE(0,R,4,2,"ng-container",1),t.nI1(1,"async")),2&O&&t.Y8G("ngVar",t.bMT(1,1,null==w.selectionService?null:w.selectionService.isObjectSelected(null==w.selectionConfig?null:w.selectionConfig.listId,w.object)))},dependencies:[E.r,i.bT,u.YN,u.Zm,u.BC,u.vS,i.Jj,e.h,e.D9],encapsulation:2})}}return A})()},38786:(F,D,n)=>{"use strict";n.d(D,{q:()=>t});var i=n(78541);class t extends i.q{}},95010:(F,D,n)=>{"use strict";n.d(D,{I:()=>t});var i=n(78541);class t extends i.q{}},3736:(F,D,n)=>{"use strict";n.r(D),n.d(D,{ItemDetailPreviewFieldComponent:()=>I});var i=n(60177),t=n(41780),e=(n(88318),n(39552)),h=n(79222),f=(n(78541),n(54438));function v(R,T){if(1&R&&f.nrm(0,"span",4),2&R){const A=f.XpG(3);f.Y8G("innerHTML",A.separator,f.npT)}}function E(R,T){if(1&R&&(f.j41(0,"span"),f.EFF(1),f.DNE(2,v,1,1,"span",3),f.k0s()),2&R){const A=T.$implicit,p=T.last;f.R7$(),f.SpI(" ",A,""),f.R7$(),f.Y8G("ngIf",!p)}}function _(R,T){if(1&R&&(f.qex(0),f.DNE(1,E,3,2,"span",2),f.bVm()),2&R){const A=f.XpG();f.R7$(),f.Y8G("ngForOf",A.allMetadataValues(A.metadata))}}function C(R,T){if(1&R&&(f.qex(0),f.j41(1,"span",5),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.bVm()),2&R){const A=f.XpG();f.R7$(2),f.JRh(f.bMT(3,1,A.placeholder))}}let I=(()=>{class R{allMetadataValues(A){return e.O.allValues([this.object.hitHighlights,this.item.metadata],A)}static{this.\u0275fac=function(p){return new(p||R)}}static{this.\u0275cmp=f.VBU({type:R,selectors:[["ds-base-item-detail-preview-field"]],inputs:{item:"item",object:"object",label:"label",metadata:"metadata",placeholder:"placeholder",separator:"separator"},standalone:!0,features:[f.aNF],decls:4,vars:5,consts:[[3,"label"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"text-muted"]],template:function(p,x){1&p&&(f.j41(0,"ds-metadata-field-wrapper",0),f.nI1(1,"translate"),f.DNE(2,_,2,1,"ng-container",1)(3,C,4,3,"ng-container",1),f.k0s()),2&p&&(f.Y8G("label",f.bMT(1,3,x.label)),f.R7$(2),f.Y8G("ngIf",x.item.hasMetadata(x.metadata)),f.R7$(),f.Y8G("ngIf",!x.item.hasMetadata(x.metadata)))},dependencies:[h.Q,i.pM,i.bT,t.h,t.D9],encapsulation:2})}}return R})()},89177:(F,D,n)=>{"use strict";n.d(D,{f:()=>t});const t=new(n(42547).v)("identifiers")},51805:(F,D,n)=>{"use strict";n.d(D,{t:()=>m});var i=n(31635),t=n(21921),u=n(3050),e=n(22878),h=n(83851);let m=class extends e.u{static{this.type=h.t}constructor(v=u._.Error,E="listable-notification-object.default-message",..._){super(),this.notificationType=v,this.message=E,this.type=h.t,this.renderTypes=_}getRenderTypes(){return[...this.renderTypes,this.constructor]}};m=(0,i.Cg)([t.gV,(0,i.Sn)("design:paramtypes",[String,String,String])],m)},83851:(F,D,n)=>{"use strict";n.d(D,{t:()=>t});const t=new(n(42547).v)("listable-notification-object")},56577:(F,D,n)=>{"use strict";n.r(D),n.d(D,{ItemListPreviewComponent:()=>G});var i=n(60177),t=n(41780),h=(n(26292),n(25567),n(82640)),m=n(96526),v=(n(88318),n(97402)),E=n(50332),_=n(55309),C=n(47598),I=n(21546),T=(n(78541),n(21308)),A=n(44869),p=n(54438);const x=q=>({lead:!0,"text-muted":q}),O=()=>["dc.contributor.author","dc.creator","dc.contributor.*"],w=q=>({"text-muted":q});function M(q,z){if(1&q&&(p.j41(0,"div",4),p.nrm(1,"ds-thumbnail",5),p.nI1(2,"async"),p.k0s()),2&q){const te=p.XpG();p.R7$(),p.Y8G("thumbnail",p.bMT(2,2,null==te.item?null:te.item.thumbnail))("limitWidth",!0)}}function L(q,z){if(1&q&&p.nrm(0,"span",19),2&q){const te=p.XpG(2);p.Y8G("innerHTML",te.item.firstMetadataValue("dc.publisher")+", ",p.npT)}}function B(q,z){1&q&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&q&&(p.R7$(),p.JRh(p.bMT(2,1,"mydspace.results.no-authors")))}function k(q,z){1&q&&(p.j41(0,"span"),p.EFF(1,"; "),p.k0s())}function W(q,z){if(1&q&&(p.j41(0,"span")(1,"span",22),p.nrm(2,"span",22),p.k0s(),p.DNE(3,k,2,0,"span",3),p.k0s()),2&q){const te=z.$implicit,Z=z.last;p.R7$(),p.Y8G("innerHTML",te,p.npT),p.R7$(),p.Y8G("innerHTML",te,p.npT),p.R7$(),p.Y8G("ngIf",!Z)}}function U(q,z){if(1&q&&(p.j41(0,"span",20),p.DNE(1,B,3,3,"span",3)(2,W,4,3,"span",21),p.k0s()),2&q){const te=p.XpG(2);p.R7$(),p.Y8G("ngIf",0===te.item.allMetadataValues(p.lJ4(2,O)).length),p.R7$(),p.Y8G("ngForOf",te.item.allMetadataValues(p.lJ4(3,O)))}}function K(q,z){if(1&q&&p.nrm(0,"ds-item-submitter",18),2&q){const te=p.XpG(2);p.Y8G("object",te.object.indexableObject)}}function Y(q,z){if(1&q&&(p.j41(0,"div")(1,"div",6),p.nrm(2,"ds-badges",7),p.k0s(),p.j41(3,"ds-truncatable",8),p.nrm(4,"h2",9),p.j41(5,"div")(6,"span",10)(7,"ds-truncatable-part",11),p.EFF(8," ("),p.DNE(9,L,1,1,"span",12),p.nrm(10,"span",13),p.nI1(11,"translate"),p.EFF(12,") "),p.DNE(13,U,3,4,"span",14),p.k0s()(),p.j41(14,"ds-truncatable-part",15),p.nrm(15,"span",16),p.nI1(16,"translate"),p.k0s()()(),p.DNE(17,K,1,1,"ds-item-submitter",17),p.nrm(18,"ds-item-collection",18),p.k0s()),2&q){const te=p.XpG();p.Y8G("@fadeInOut",void 0),p.R7$(2),p.Y8G("object",te.item)("context",te.badgeContext)("showAccessStatus",!0),p.R7$(),p.Y8G("id",te.item.id),p.R7$(),p.Y8G("innerHTML",te.dsoTitle,p.npT)("ngClass",p.eq3(22,x,!te.item.firstMetadataValue("dc.title"))),p.R7$(3),p.Y8G("id",te.item.id)("minLines",1),p.R7$(2),p.Y8G("ngIf",te.item.hasMetadata("dc.publisher")),p.R7$(),p.Y8G("innerHTML",te.item.firstMetadataValue("dc.date.issued")||p.bMT(11,18,"mydspace.results.no-date"),p.npT),p.R7$(3),p.Y8G("ngIf",te.item.hasMetadata(p.lJ4(24,O))),p.R7$(),p.Y8G("id",te.item.id)("minLines",1),p.R7$(),p.Y8G("ngClass",p.eq3(25,w,!te.item.firstMetadataValue("dc.description.abstract")))("innerHTML",te.item.firstMetadataValue("dc.description.abstract")||p.bMT(16,20,"mydspace.results.no-abstract"),p.npT),p.R7$(2),p.Y8G("ngIf",te.showSubmitter),p.R7$(),p.Y8G("object",te.object.indexableObject)}}let G=(()=>{class q{constructor(te,Z){this.appConfig=te,this.dsoNameService=Z,this.showSubmitter=!1}ngOnInit(){this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.item)}static{this.\u0275fac=function(Z){return new(Z||q)(p.rXU(h.vQ),p.rXU(m.f))}}static{this.\u0275cmp=p.VBU({type:q,selectors:[["ds-base-item-list-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter",workflowItem:"workflowItem"},standalone:!0,features:[p.aNF],decls:4,vars:3,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],[1,"col-3","col-md-2"],[3,"thumbnail","limitWidth"],[1,"d-flex"],[3,"object","context","showAccessStatus"],[3,"id"],[3,"innerHTML","ngClass"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-publisher",3,"innerHTML",4,"ngIf"],[1,"item-list-date",3,"innerHTML"],["class","item-list-authors",4,"ngIf"],[1,"item-list-abstract",3,"id","minLines"],[3,"ngClass","innerHTML"],[3,"object",4,"ngIf"],[3,"object"],[1,"item-list-publisher",3,"innerHTML"],[1,"item-list-authors"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(Z,J){1&Z&&(p.j41(0,"div",0),p.DNE(1,M,3,4,"div",1),p.j41(2,"div",2),p.DNE(3,Y,19,27,"div",3),p.k0s()()),2&Z&&(p.R7$(),p.Y8G("ngIf",J.showThumbnails),p.R7$(),p.Y8G("ngClass",J.showThumbnails?"col-9":"col-md-12"),p.R7$(),p.Y8G("ngIf",J.item))},dependencies:[i.Jj,C.b,I.s,i.YU,i.pM,i.bT,_.F,v.T,t.h,t.D9,T.d,A.W],data:{animation:[E.Ws]}})}}return q})()},52304:(F,D,n)=>{"use strict";n.r(D),n.d(D,{ObjectListComponent:()=>M});var i=n(60177),t=n(54438),m=(n(6238),n(1716),n(26292),n(78448)),f=n(50332),E=(n(7581),n(88261)),_=n(17191),C=n(35323),I=n(5682),R=n(75465),T=n(13329);const A=L=>({"ml-4":L});function p(L,B){if(1&L){const k=t.RV6();t.j41(0,"ds-selectable-list-item-control",8),t.bIt("deselectObject",function(U){t.eBV(k);const K=t.XpG(3);return t.Njj(K.deselectObject.emit(U))})("selectObject",function(U){t.eBV(k);const K=t.XpG(3);return t.Njj(K.selectObject.emit(U))}),t.k0s()}if(2&L){const k=t.XpG(),W=k.$implicit,U=k.index,K=t.XpG(2);t.Y8G("index",U)("object",W)("selectionConfig",K.selectionConfig)}}function x(L,B){if(1&L){const k=t.RV6();t.j41(0,"ds-importable-list-item-control",9),t.bIt("importObject",function(U){t.eBV(k);const K=t.XpG(3);return t.Njj(K.importObject.emit(U))}),t.k0s()}if(2&L){const k=t.XpG().$implicit,W=t.XpG(2);t.Y8G("object",k)("importConfig",W.importConfig)}}function O(L,B){if(1&L){const k=t.RV6();t.j41(0,"li",4),t.nI1(1,"dsBrowserOnly"),t.DNE(2,p,1,3,"ds-selectable-list-item-control",5)(3,x,1,2,"ds-importable-list-item-control",6),t.j41(4,"ds-listable-object-component-loader",7),t.bIt("contentChange",function(U){t.eBV(k);const K=t.XpG(2);return t.Njj(K.contentChange.emit(U))}),t.k0s()()}if(2&L){const k=B.$implicit,W=B.index,U=B.last,K=t.XpG(2);t.AVh("border-bottom",K.hasBorder&&!U),t.BMQ("data-test",t.bMT(1,11,"list-object")),t.R7$(2),t.Y8G("ngIf",K.selectable),t.R7$(),t.Y8G("ngIf",K.importable),t.R7$(),t.Y8G("object",k)("viewMode",K.viewMode)("index",W)("context",K.context)("linkType",K.linkType)("listID",null==K.selectionConfig?null:K.selectionConfig.listId)}}function w(L,B){if(1&L&&(t.j41(0,"ul",2),t.DNE(1,O,5,13,"li",3),t.k0s()),2&L){const k=t.XpG();t.Y8G("ngClass",t.eq3(2,A,k.selectable)),t.R7$(),t.Y8G("ngForOf",null==k.objects||null==k.objects.payload?null:k.objects.payload.page)}}let M=(()=>{class L{set objects(k){this._objects=k}get objects(){return this._objects}constructor(k){this.selectionService=k,this.viewMode=m.n.ListElement,this.hasBorder=!1,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.selectable=!1,this.hidePaginationDetail=!1,this.importable=!1,this.showPaginator=!0,this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.importObject=new t.bkB,this.sortFieldChange=new t.bkB}onPageChange(k){this.pageChange.emit(k)}onPageSizeChange(k){this.pageSizeChange.emit(k)}onSortDirectionChange(k){this.sortDirectionChange.emit(k)}onSortFieldChange(k){this.sortFieldChange.emit(k)}onPaginationChange(k){this.paginationChange.emit(k)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(W){return new(W||L)(t.rXU(T.K))}}static{this.\u0275cmp=t.VBU({type:L,selectors:[["ds-base-object-list"]],inputs:{config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",selectable:"selectable",selectionConfig:"selectionConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",importable:"importable",importConfig:"importConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",deselectObject:"deselectObject",selectObject:"selectObject",importObject:"importObject",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.aNF],decls:2,vars:9,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","objects","sortOptions","hideGear","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator"],["class","list-unstyled","data-test","objects",3,"ngClass",4,"ngIf"],["data-test","objects",1,"list-unstyled",3,"ngClass"],["class","mt-4 mb-4 d-flex",3,"border-bottom",4,"ngFor","ngForOf"],[1,"mt-4","mb-4","d-flex"],[3,"index","object","selectionConfig","deselectObject","selectObject",4,"ngIf"],[3,"object","importConfig","importObject",4,"ngIf"],[3,"contentChange","object","viewMode","index","context","linkType","listID"],[3,"deselectObject","selectObject","index","object","selectionConfig"],[3,"importObject","object","importConfig"]],template:function(W,U){1&W&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(Y){return U.onPageChange(Y)})("pageSizeChange",function(Y){return U.onPageSizeChange(Y)})("sortDirectionChange",function(Y){return U.onSortDirectionChange(Y)})("sortFieldChange",function(Y){return U.onSortFieldChange(Y)})("paginationChange",function(Y){return U.onPaginationChange(Y)})("prev",function(){return U.goPrev()})("next",function(){return U.goNext()}),t.DNE(1,w,2,4,"ul",1),t.k0s()),2&W&&(t.Y8G("paginationOptions",U.config)("collectionSize",null==U.objects||null==U.objects.payload?null:U.objects.payload.totalElements)("objects",U.objects)("sortOptions",U.sortConfig)("hideGear",U.hideGear)("hidePagerWhenSinglePage",U.hidePagerWhenSinglePage)("hidePaginationDetail",U.hidePaginationDetail)("showPaginator",U.showPaginator),t.R7$(),t.Y8G("ngIf",null==U.objects?null:U.objects.hasSucceeded))},dependencies:[I.e,i.bT,i.YU,i.pM,C.Y,E.$,_.v,R.L],styles:["ds-selectable-list-item-control[_ngcontent-%COMP%]{z-index:1}"],data:{animation:[f.qG]}})}}return L})()},94418:(F,D,n)=>{"use strict";n.d(D,{k:()=>Q});var i=n(31635),t=n(60177),u=n(7901),e=n(49969),h=n(78448),m=n(90887),f=n(27442),v=n(81569),E=n(21308),_=n(79411),C=n(54438);const I=ee=>[ee];function R(ee,le){if(1&ee&&C.nrm(0,"span",15),2&ee){const ne=C.XpG(3);C.Y8G("innerHTML",ne.firstMetadataValue("dc.casetype"),C.npT)}}function T(ee,le){1&ee&&(C.j41(0,"span",16),C.EFF(1,"/"),C.k0s())}function A(ee,le){if(1&ee&&C.nrm(0,"span",17),2&ee){const ne=C.XpG(3);C.Y8G("innerHTML",ne.firstMetadataValue("dc.title"),C.npT)}}function p(ee,le){1&ee&&(C.j41(0,"span",16),C.EFF(1,"/"),C.k0s())}function x(ee,le){if(1&ee&&C.nrm(0,"span",18),2&ee){const ne=C.XpG(3);C.Y8G("innerHTML",ne.firstMetadataValue("dc.caseyear"),C.npT)}}function O(ee,le){if(1&ee&&C.nrm(0,"span",23),2&ee){const ne=C.XpG(4);C.Y8G("innerHTML",ne.getPetitionerName(),C.npT)}}function w(ee,le){1&ee&&(C.j41(0,"span",24),C.EFF(1,"Vs"),C.k0s())}function M(ee,le){if(1&ee&&C.nrm(0,"span",25),2&ee){const ne=C.XpG(4);C.Y8G("innerHTML",ne.getRespondentName(),C.npT)}}function L(ee,le){if(1&ee&&(C.j41(0,"div",19),C.DNE(1,O,1,1,"span",20)(2,w,2,0,"span",21)(3,M,1,1,"span",22),C.k0s()),2&ee){const ne=C.XpG(3);C.R7$(),C.Y8G("ngIf",ne.getPetitionerName()),C.R7$(),C.Y8G("ngIf",ne.getPetitionerName()&&ne.getRespondentName()),C.R7$(),C.Y8G("ngIf",ne.getRespondentName())}}function B(ee,le){if(1&ee&&(C.j41(0,"a",5)(1,"div",6)(2,"span",7),C.EFF(3,"Case File"),C.k0s(),C.j41(4,"span",8),C.EFF(5,"Pending"),C.k0s()(),C.j41(6,"div",9),C.DNE(7,R,1,1,"span",10)(8,T,2,0,"span",11)(9,A,1,1,"span",12)(10,p,2,0,"span",11)(11,x,1,1,"span",13),C.k0s(),C.DNE(12,L,4,3,"div",14),C.k0s()),2&ee){const ne=C.XpG(2);C.Y8G("target",ne.linkType===ne.linkTypes.ExternalLink?"_blank":"_self")("routerLink",C.eq3(9,I,ne.itemPageRoute)),C.BMQ("rel",ne.linkType===ne.linkTypes.ExternalLink?"noopener noreferrer":null),C.R7$(7),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.casetype")),C.R7$(),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.casetype")&&ne.dso.firstMetadataValue("dc.title")),C.R7$(),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.title")),C.R7$(),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.title")&&ne.dso.firstMetadataValue("dc.caseyear")),C.R7$(),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.caseyear")),C.R7$(),C.Y8G("ngIf",ne.getPetitionerName()||ne.getRespondentName())}}function k(ee,le){if(1&ee&&C.nrm(0,"span",15),2&ee){const ne=C.XpG(3);C.Y8G("innerHTML",ne.firstMetadataValue("dc.casetype"),C.npT)}}function W(ee,le){1&ee&&(C.j41(0,"span",16),C.EFF(1,"/"),C.k0s())}function U(ee,le){if(1&ee&&C.nrm(0,"span",17),2&ee){const ne=C.XpG(3);C.Y8G("innerHTML",ne.firstMetadataValue("dc.title"),C.npT)}}function K(ee,le){1&ee&&(C.j41(0,"span",16),C.EFF(1,"/"),C.k0s())}function Y(ee,le){if(1&ee&&C.nrm(0,"span",18),2&ee){const ne=C.XpG(3);C.Y8G("innerHTML",ne.firstMetadataValue("dc.caseyear"),C.npT)}}function G(ee,le){if(1&ee&&C.nrm(0,"span",23),2&ee){const ne=C.XpG(4);C.Y8G("innerHTML",ne.getPetitionerName(),C.npT)}}function q(ee,le){1&ee&&(C.j41(0,"span",24),C.EFF(1,"Vs"),C.k0s())}function z(ee,le){if(1&ee&&C.nrm(0,"span",25),2&ee){const ne=C.XpG(4);C.Y8G("innerHTML",ne.getRespondentName(),C.npT)}}function te(ee,le){if(1&ee&&(C.j41(0,"div",19),C.DNE(1,G,1,1,"span",20)(2,q,2,0,"span",21)(3,z,1,1,"span",22),C.k0s()),2&ee){const ne=C.XpG(3);C.R7$(),C.Y8G("ngIf",ne.getPetitionerName()),C.R7$(),C.Y8G("ngIf",ne.getPetitionerName()&&ne.getRespondentName()),C.R7$(),C.Y8G("ngIf",ne.getRespondentName())}}function Z(ee,le){if(1&ee&&(C.j41(0,"div",26)(1,"div",6)(2,"span",7),C.EFF(3,"Case File"),C.k0s(),C.j41(4,"span",8),C.EFF(5,"Pending"),C.k0s()(),C.j41(6,"div",9),C.DNE(7,k,1,1,"span",10)(8,W,2,0,"span",11)(9,U,1,1,"span",12)(10,K,2,0,"span",11)(11,Y,1,1,"span",13),C.k0s(),C.DNE(12,te,4,3,"div",14),C.k0s()),2&ee){const ne=C.XpG(2);C.R7$(7),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.casetype")),C.R7$(),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.casetype")&&ne.dso.firstMetadataValue("dc.title")),C.R7$(),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.title")),C.R7$(),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.title")&&ne.dso.firstMetadataValue("dc.caseyear")),C.R7$(),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.caseyear")),C.R7$(),C.Y8G("ngIf",ne.getPetitionerName()||ne.getRespondentName())}}function J(ee,le){if(1&ee&&(C.j41(0,"ds-truncatable",1)(1,"div",2),C.DNE(2,B,13,11,"a",3)(3,Z,13,6,"div",4),C.k0s()()),2&ee){const ne=C.XpG();C.Y8G("id",ne.dso.id),C.R7$(),C.Y8G("@caseInfoAnimation",void 0),C.R7$(),C.Y8G("ngIf",ne.linkType!==ne.linkTypes.None),C.R7$(),C.Y8G("ngIf",ne.linkType===ne.linkTypes.None)}}let Q=class MT extends _.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails,this.itemPageRoute=(0,m._o)(this.dso),console.log("Item metadata:",this.dso.metadata)}getCaseInfo(){const le=this.dso.firstMetadataValue("dc.casetype")||"",ne=this.dso.firstMetadataValue("dc.title")||"",fe=this.dso.firstMetadataValue("dc.caseyear")||"";let se="";return le&&(se+=le),ne&&(se+=se?` ${ne}`:ne),fe&&(se+=se?` (${fe})`:`(${fe})`),se||this.dsoTitle}getPetitionerName(){return this.dso.firstMetadataValue("dc.pname")||this.dso.firstMetadataValue("dc.pname")||""}getRespondentName(){return this.dso.firstMetadataValue("dc.rname")||this.dso.firstMetadataValue("dc.rname")||""}getAllMetadataFields(){return this.dso&&this.dso.metadata?Object.keys(this.dso.metadata).join(", "):"No metadata available"}static{this.\u0275fac=(()=>{let le;return function(fe){return(le||(le=C.xGo(MT)))(fe||MT)}})()}static{this.\u0275cmp=C.VBU({type:MT,selectors:[["ds-item-search-result-list-element"]],standalone:!0,features:[C.Vt3,C.aNF],decls:1,vars:1,consts:[[3,"id",4,"ngIf"],[3,"id"],[1,"case-info-container"],["class","case-info-link dont-break-out",3,"target","routerLink",4,"ngIf"],["class","case-info-text dont-break-out",4,"ngIf"],[1,"case-info-link","dont-break-out",3,"target","routerLink"],[1,"badges-row"],[1,"badge","case-file-badge"],[1,"badge","pending-badge"],[1,"case-details-row"],["class","case-type animate-fade-in",3,"innerHTML",4,"ngIf"],["class","separator",4,"ngIf"],["class","case-number animate-slide-in",3,"innerHTML",4,"ngIf"],["class","case-year animate-fade-in",3,"innerHTML",4,"ngIf"],["class","parties-row",4,"ngIf"],[1,"case-type","animate-fade-in",3,"innerHTML"],[1,"separator"],[1,"case-number","animate-slide-in",3,"innerHTML"],[1,"case-year","animate-fade-in",3,"innerHTML"],[1,"parties-row"],["class","petitioner-name",3,"innerHTML",4,"ngIf"],["class","vs-separator",4,"ngIf"],["class","respondent-name",3,"innerHTML",4,"ngIf"],[1,"petitioner-name",3,"innerHTML"],[1,"vs-separator"],[1,"respondent-name",3,"innerHTML"],[1,"case-info-text","dont-break-out"]],template:function(ne,fe){1&ne&&C.DNE(0,J,4,4,"ds-truncatable",0),2&ne&&C.Y8G("ngIf",null!=fe.object)},dependencies:[t.bT,u.Wk,E.d],styles:[".item-list-supervision[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.case-info-container[_ngcontent-%COMP%]{margin-bottom:.5rem}.case-info-container[_ngcontent-%COMP%]   .case-info-link[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;text-decoration:none}.case-info-container[_ngcontent-%COMP%]   .case-info-link[_ngcontent-%COMP%]:hover   .case-type[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-link[_ngcontent-%COMP%]:hover   .case-number[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-link[_ngcontent-%COMP%]:hover   .case-year[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-text[_ngcontent-%COMP%]:hover   .case-type[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-text[_ngcontent-%COMP%]:hover   .case-number[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-text[_ngcontent-%COMP%]:hover   .case-year[_ngcontent-%COMP%]{color:var(--ds-theme-primary)}.case-info-container[_ngcontent-%COMP%]   .badges-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.case-info-container[_ngcontent-%COMP%]   .badges-row[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:.25rem;font-size:.75rem;font-weight:500;text-transform:uppercase;letter-spacing:.025em}.case-info-container[_ngcontent-%COMP%]   .badges-row[_ngcontent-%COMP%]   .case-file-badge[_ngcontent-%COMP%]{background-color:#14b8a6;color:#fff}.case-info-container[_ngcontent-%COMP%]   .badges-row[_ngcontent-%COMP%]   .pending-badge[_ngcontent-%COMP%]{background-color:#22c55e;color:#fff}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:.25rem;font-size:1.1rem}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]   .case-type[_ngcontent-%COMP%]{font-weight:600;color:var(--bs-primary)}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]   .case-number[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;color:#1f2937}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]   .case-year[_ngcontent-%COMP%]{color:var(--bs-secondary);font-weight:500}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:var(--bs-secondary);font-weight:300;margin:0 .1rem}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:.5rem;font-size:1rem;color:#374151}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]   .petitioner-name[_ngcontent-%COMP%]{font-weight:500}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]   .vs-separator[_ngcontent-%COMP%]{font-weight:600;color:#dc2626;text-transform:uppercase;font-size:.9rem}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]   .respondent-name[_ngcontent-%COMP%]{font-weight:500}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.animate-slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(-10px)}to{opacity:1;transform:translate(0)}}@media (max-width: 768px){.case-info-container[_ngcontent-%COMP%]   .badges-row[_ngcontent-%COMP%]{flex-wrap:wrap}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]{font-size:1rem}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]   .case-number[_ngcontent-%COMP%]{font-size:1.1rem}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]{font-size:.9rem;flex-direction:column;align-items:flex-start;gap:.25rem}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]   .vs-separator[_ngcontent-%COMP%]{align-self:center}}"],data:{animation:[(0,e.hZ)("caseInfoAnimation",[(0,e.kY)(":enter",[(0,e.iF)({opacity:0,transform:"translateY(-10px)"}),(0,e.i0)("300ms ease-out",(0,e.iF)({opacity:1,transform:"translateY(0)"}))])])]}})}};Q=(0,i.Cg)([(0,v.VK)("PublicationSearchResult",h.n.ListElement),(0,v.VK)(f.H,h.n.ListElement)],Q)},79411:(F,D,n)=>{"use strict";n.d(D,{P:()=>v});var i=n(82640),t=n(96526),u=n(39552),e=n(82777),h=n(73584),m=n(39092),f=n(54438);let v=(()=>{class E extends h.C{constructor(C,I,R){super(I),this.truncatableService=C,this.dsoNameService=I,this.appConfig=R}ngOnInit(){(0,e.a4)(this.object)&&(this.dso=this.object.indexableObject,this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.dso))}allMetadataValues(C){const I=u.O.allValues([this.dso.metadata],C),R=u.O.allValues([this.object.hitHighlights],C),T=R.map(A=>A.replace(/<\/?em>/g,""));for(let A=0;A<T.length;A++){const p=I.indexOf(T[A]);-1!==p&&(I[p]=R[A])}return I}firstMetadataValue(C){return u.O.firstValue([this.object.hitHighlights,this.dso.metadata],C)}isCollapsed(){return this.truncatableService.isCollapsed(this.dso.id)}static{this.\u0275fac=function(I){return new(I||E)(f.rXU(m.F),f.rXU(t.f),f.rXU(i.vQ))}}static{this.\u0275cmp=f.VBU({type:E,selectors:[["ds-search-result-list-element"]],standalone:!0,features:[f.Vt3,f.aNF],decls:0,vars:0,template:function(I,R){},encapsulation:2})}}return E})()},61281:(F,D,n)=>{"use strict";n.d(D,{Gk:()=>f,Sg:()=>t,Yd:()=>m,ZH:()=>e,hf:()=>E,t3:()=>h});var i=n(91e3);const t={SELECT:(0,i.N)("dspace/selectable-lists/SELECT"),SELECT_SINGLE:(0,i.N)("dspace/selectable-lists/SELECT_SINGLE"),DESELECT:(0,i.N)("dspace/selectable-lists/DESELECT"),DESELECT_SINGLE:(0,i.N)("dspace/selectable-lists/DESELECT_SINGLE"),SET_SELECTION:(0,i.N)("dspace/selectable-lists/SET_SELECTION"),DESELECT_ALL:(0,i.N)("dspace/selectable-lists/DESELECT_ALL")};class u{constructor(C,I){this.type=C,this.id=I}}class e extends u{constructor(C,I){super(t.SELECT,C),this.payload=I}}class h extends u{constructor(C,I){super(t.SELECT_SINGLE,C),this.payload={object:I}}}class m extends u{constructor(C,I){super(t.DESELECT_SINGLE,C),this.payload=I}}class f extends u{constructor(C,I){super(t.DESELECT,C),this.payload=I}}class E extends u{constructor(C){super(t.DESELECT_ALL,C)}}},13329:(F,D,n)=>{"use strict";n.d(D,{K:()=>_});var i=n(25499),t=n(96354),u=n(23294),e=n(195),h=n(82777),m=n(61281),f=n(54438);const v=C=>C.selectableLists;let _=(()=>{class C{constructor(R){this.store=R}getSelectableList(R){return this.store.pipe((0,i.Lt)((C=>(0,e.pc)(C,v))(R)))}selectSingle(R,T){this.store.dispatch(new m.t3(R,T))}select(R,T){this.store.dispatch(new m.ZH(R,T))}deselectSingle(R,T){this.store.dispatch(new m.Yd(R,T))}deselect(R,T){this.store.dispatch(new m.Gk(R,T))}deselectAll(R){this.store.dispatch(new m.hf(R))}isObjectSelected(R,T){return this.getSelectableList(R).pipe((0,t.T)(A=>(0,h.a4)(A)&&(0,h.hj)(A.selection)&&(0,h.a4)(A.selection.find(p=>p.equals(T)))),(0,u.F)())}findSelectedByCondition(R,T){return this.getSelectableList(R).pipe((0,t.T)(A=>(0,h.a4)(A)&&(0,h.hj)(A.selection)?A.selection.find(p=>T(p)):void 0))}static{this.\u0275fac=function(T){return new(T||C)(f.KVO(i.il))}}static{this.\u0275prov=f.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},65580:(F,D,n)=>{"use strict";n.d(D,{AS:()=>m,NE:()=>e,T8:()=>t,Vu:()=>f,YE:()=>v,bx:()=>E,u7:()=>h});var i=n(91e3);const t={INITIAL_DESELECT:(0,i.N)("dspace/object-select/INITIAL_DESELECT"),INITIAL_SELECT:(0,i.N)("dspace/object-select/INITIAL_SELECT"),SELECT:(0,i.N)("dspace/object-select/SELECT"),DESELECT:(0,i.N)("dspace/object-select/DESELECT"),SWITCH:(0,i.N)("dspace/object-select/SWITCH"),RESET:(0,i.N)("dspace/object-select/RESET")};class u{constructor(C,I){this.key=C,this.id=I}}class e extends u{constructor(){super(...arguments),this.type=t.INITIAL_DESELECT}}class h extends u{constructor(){super(...arguments),this.type=t.INITIAL_SELECT}}class m extends u{constructor(){super(...arguments),this.type=t.SELECT}}class f extends u{constructor(){super(...arguments),this.type=t.DESELECT}}class v extends u{constructor(){super(...arguments),this.type=t.SWITCH}}class E extends u{constructor(){super(...arguments),this.type=t.RESET}}},80597:(F,D,n)=>{"use strict";n.d(D,{Zb:()=>E,iv:()=>_});var i=n(48125),t=n.n(i),u=n(83278),e=n.n(u),h=n(95341),m=n.n(h),f=n(82777);function E(C){if("object"==typeof C){if(0===Object.keys(C).length)return!0;{let R=!0;for(const T in C)if((0,f.hj)(C[T])){R=!1;break}return R}}}function _(C,I){const R=(T,A)=>m()(T,(p,x,O)=>{if(!t()(x,A[O])&&(0,f.hj)(x)){const w=e()(x)&&e()(A[O])?R(x,A[O]):x;E(w)||(p[O]=w)}});return R(C,I)}},46580:(F,D,n)=>{"use strict";n.d(D,{b:()=>I});var i=n(60177),t=n(89417),u=n(96354),e=n(96697),h=n(22978),f=(n(39012),n(13955)),v=n(80270),E=n(54438),_=n(7901);function C(R,T){if(1&R&&(E.j41(0,"option",3),E.nI1(1,"async"),E.EFF(2),E.k0s()),2&R){const A=T.$implicit,p=E.XpG();E.Y8G("value",A)("selected",A===+E.bMT(1,3,p.paginationOptions$).pageSize?"selected":null),E.R7$(2),E.SpI(" ",A," ")}}let I=(()=>{class R{constructor(A,p,x,O){this.route=A,this.router=p,this.paginationService=x,this.searchConfigurationService=O}ngOnInit(){this.paginationOptions$=this.searchConfigurationService.paginatedSearchOptions.pipe((0,u.T)(A=>A.pagination))}reloadRPP(A){const p=A.target.value;this.paginationOptions$.pipe((0,e.s)(1)).subscribe(x=>{this.paginationService.updateRoute(x.id,{page:1,pageSize:+p})})}static{this.\u0275fac=function(p){return new(p||R)(E.rXU(_.nX),E.rXU(_.Ix),E.rXU(h.m),E.rXU(f.EN))}}static{this.\u0275cmp=E.VBU({type:R,selectors:[["ds-page-size-selector"]],standalone:!0,features:[E.aNF],decls:4,vars:5,consts:[[1,"page-size-settings"],[3,"changed","id","label"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(p,x){1&p&&(E.j41(0,"div",0)(1,"ds-sidebar-dropdown",1),E.bIt("changed",function(w){return x.reloadRPP(w)}),E.DNE(2,C,3,5,"option",2),E.nI1(3,"async"),E.k0s()()),2&p&&(E.R7$(),E.Y8G("id","search-sidebar-rpp")("label","search.sidebar.settings.rpp"),E.R7$(),E.Y8G("ngForOf",E.bMT(3,3,x.paginationOptions$).pageSizeOptions))},dependencies:[v.v,i.pM,t.YN,t.xH,t.y7,i.Jj],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return R})()},23401:(F,D,n)=>{"use strict";n.d(D,{W:()=>u});var i=n(58003),t=n(54438);let u=(()=>{class e extends i.MI{constructor(){super(...arguments),this.currentPage=1,this.maxSize=10,this.pageSizeOptions=[1,5,10,20,40,60,80,100]}static{this.\u0275fac=(()=>{let m;return function(v){return(m||(m=t.xGo(e)))(v||e)}})()}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},5682:(F,D,n)=>{"use strict";n.d(D,{e:()=>De});var i=n(60177),t=n(54438),u=n(58003),e=n(41780),h=n(7673),m=n(96354),f=n(25558),v=n(99172),E=n(96697),_=n(6238),I=(n(1716),n(22978)),R=n(78448),T=n(60456),A=n(82777),p=n(57538),x=n(84412),O=n(88280),w=n(8917),M=n(44494),L=n(80183),B=n(39012),k=n(8865),W=n(7901);function U(be,me){if(1&be&&(t.j41(0,"div",2)(1,"a",3),t.nI1(2,"translate"),t.nI1(3,"translate"),t.nrm(4,"i",4),t.k0s()()),2&be){const re=me.ngIf;t.R7$(),t.Y8G("href",re,t.B4B)("title",t.bMT(2,3,"feed.description")),t.BMQ("aria-label",t.bMT(3,5,"feed.description"))}}function K(be,me){if(1&be&&(t.qex(0),t.DNE(1,U,5,7,"div",1),t.nI1(2,"async"),t.bVm()),2&be){const re=t.XpG();t.R7$(),t.Y8G("ngIf",t.bMT(2,1,re.route$))}}let Y=(()=>{class be{constructor(re,Ee,Te,tt,ht,Fe,Et,Ye){this.groupDataService=re,this.linkHeadService=Ee,this.configurationService=Te,this.searchConfigurationService=tt,this.router=ht,this.route=Fe,this.paginationService=Et,this.translateService=Ye,this.route$=new x.t(""),this.isEnabled$=new x.t(null),this.isActivated$=new x.t(!1),this.subs=[]}ngOnDestroy(){this.linkHeadService.removeTag("rel='alternate'"),this.subs.forEach(re=>{re.unsubscribe()})}ngOnInit(){(0,A.a4)(this.route.snapshot.data?.enableRSS)?this.isActivated$.next(this.route.snapshot.data.enableRSS):(0,A.b0)(this.route.snapshot.data?.enableRSS)&&this.isActivated$.next(!1),this.subs.push(this.configurationService.findByPropertyName("websvc.opensearch.enable").pipe((0,L.qD)()).subscribe(re=>{re.hasSucceeded&&this.isEnabled$.next("true"===re.payload.values[0])})),this.subs.push(this.configurationService.findByPropertyName("websvc.opensearch.svccontext").pipe((0,L.qD)(),(0,m.T)(re=>re.hasSucceeded?re.payload.values[0]:null),(0,f.n)(re=>this.searchConfigurationService.paginatedSearchOptions.pipe((0,m.T)(Ee=>({openSearchUri:re,searchOptions:Ee}))))).subscribe(({openSearchUri:re,searchOptions:Ee})=>{if(!re)return null;this.uuid=this.groupDataService.getUUIDFromString(this.router.url);const Te=O.c.rest.baseUrl+this.formulateRoute(this.uuid,re,Ee.sort,Ee.query,Ee.filters,Ee.configuration,Ee.pagination?.pageSize,Ee.fixedFilter);this.addLinks(Te),this.linkHeadService.addTag({href:O.c.rest.baseUrl+"/"+re+"/service",type:"application/atom+xml",rel:"search",title:"Dspace"}),this.route$.next(Te)}))}formulateRoute(re,Ee,Te,tt,ht,Fe,Et,Ye){let pt="format=atom";if(re&&(pt+=`&scope=${re}`),Te&&Te.direction&&Te.field&&"id"!==Te.field&&(pt+=`&sort=${Te.field}&sort_direction=${Te.direction}`),pt+=tt?`&query=${tt}`:"&query=*",Fe&&(pt+=`&configuration=${Fe}`),Et&&(pt+=`&rpp=${Et}`),ht)for(const Mt of ht)for(const Ne of Mt.values)pt+="&"+Mt.key+"="+encodeURIComponent(Ne)+(Mt.operator?","+Mt.operator:"");return Ye&&(pt+="&"+Ye),pt="/"+Ee+"?"+pt,pt}hasRoute(re){return this.router.url.includes(re)}addLinks(re){this.linkHeadService.addTag({href:re,type:"application/atom+xml",rel:"alternate",title:"Sitewide Atom feed"}),re=re.replace("format=atom","format=rss"),this.linkHeadService.addTag({href:re,type:"application/rss+xml",rel:"alternate",title:"Sitewide RSS feed"})}static{this.\u0275fac=function(Ee){return new(Ee||be)(t.rXU(M.GroupDataService),t.rXU(k.m),t.rXU(w.ConfigurationDataService),t.rXU(B.g),t.rXU(W.Ix),t.rXU(W.nX),t.rXU(I.m),t.rXU(e.c$))}}static{this.\u0275cmp=t.VBU({type:be,selectors:[["ds-rss"]],exportAs:["rssComponent"],standalone:!0,features:[t.aNF],decls:3,vars:5,consts:[[4,"ngIf"],["class","d-inline-block float-end margin-right",4,"ngIf"],[1,"d-inline-block","float-end","margin-right"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-secondary",3,"href","title"],[1,"fas","fa-rss-square"]],template:function(Ee,Te){1&Ee&&(t.DNE(0,K,3,3,"ng-container",0),t.nI1(1,"async"),t.nI1(2,"async")),2&Ee&&t.Y8G("ngIf",t.bMT(1,1,Te.isEnabled$)&&t.bMT(2,3,Te.isActivated$))},dependencies:[i.bT,i.Jj,e.h,e.D9],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}.margin-right[_ngcontent-%COMP%]{margin-right:.5em}"]})}}return be})(),G=(()=>{class be{transform(re){const Ee=[];for(const Te in re)isNaN(parseInt(Te,10))?Ee.push({key:Te,value:re[Te]}):Ee.push({key:+Te,value:re[Te]});return Ee}static{this.\u0275fac=function(Ee){return new(Ee||be)}}static{this.\u0275pipe=t.EJ8({name:"dsKeys",type:be,pure:!0,standalone:!0})}}return be})();const q=["*"],z=be=>({invisible:be});function te(be,me){if(1&be&&(t.j41(0,"div",10)(1,"span",11),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"span",12),t.EFF(5),t.nI1(6,"async"),t.nI1(7,"translate"),t.k0s()()),2&be){const re=t.XpG(3);t.R7$(2),t.JRh(t.bMT(3,2,"pagination.showing.label")),t.R7$(3),t.JRh(t.i5U(7,6,"pagination.showing.detail",t.bMT(6,4,re.showingDetails$)))}}function Z(be,me){if(1&be){const re=t.RV6();t.j41(0,"li",22),t.nI1(1,"async"),t.j41(2,"button",23),t.bIt("click",function(){const Te=t.eBV(re).$implicit,tt=t.XpG(4);return t.Njj(tt.doPageSizeChange(Te))}),t.nrm(3,"i",24),t.nI1(4,"async"),t.EFF(5),t.k0s()()}if(2&be){const re=me.$implicit,Ee=t.XpG(4);t.BMQ("aria-selected",re===t.bMT(1,3,Ee.pageSize$)),t.R7$(3),t.Y8G("ngClass",t.eq3(7,z,re!==t.bMT(4,5,Ee.pageSize$))),t.R7$(2),t.SpI(" ",re," ")}}function J(be,me){if(1&be){const re=t.RV6();t.j41(0,"li",22),t.nI1(1,"async"),t.j41(2,"button",23),t.bIt("click",function(){const Te=t.eBV(re).$implicit,tt=t.XpG(5);return t.Njj(tt.doSortDirectionChange(Te.value))}),t.nrm(3,"i",24),t.nI1(4,"async"),t.EFF(5),t.nI1(6,"translate"),t.k0s()()}if(2&be){const re=me.$implicit,Ee=t.XpG(5);t.BMQ("aria-selected",re.value===t.bMT(1,3,Ee.sortDirection$)),t.R7$(3),t.Y8G("ngClass",t.eq3(9,z,re.value!==t.bMT(4,5,Ee.sortDirection$))),t.R7$(2),t.SpI(" ",t.bMT(6,7,"sorting."+re.key)," ")}}function Q(be,me){if(1&be&&(t.j41(0,"li",17)(1,"span",25),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"ul",26),t.DNE(5,J,7,11,"li",20),t.nI1(6,"dsKeys"),t.k0s()()),2&be){const re=t.XpG(4);t.R7$(2),t.JRh(t.bMT(3,2,"pagination.sort-direction")),t.R7$(3),t.Y8G("ngForOf",t.bMT(6,4,re.sortDirections))}}function ee(be,me){if(1&be&&(t.j41(0,"div",13,0)(2,"button",14),t.nI1(3,"translate"),t.nI1(4,"translate"),t.nrm(5,"i",15),t.k0s(),t.j41(6,"ul",16)(7,"li",17)(8,"span",18),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"ul",19),t.DNE(12,Z,6,9,"li",20),t.k0s()(),t.DNE(13,Q,7,6,"li",21),t.k0s()()),2&be){const re=t.XpG(3);t.R7$(2),t.Y8G("title",t.bMT(3,5,"pagination.options.description")),t.BMQ("aria-label",t.bMT(4,7,"pagination.options.description")),t.R7$(7),t.JRh(t.bMT(10,9,"pagination.results-per-page")),t.R7$(3),t.Y8G("ngForOf",re.pageSizeOptions),t.R7$(),t.Y8G("ngIf",!1===re.hideSortOptions)}}function le(be,me){if(1&be&&(t.j41(0,"div",5)(1,"div",6),t.DNE(2,te,8,9,"div",7),t.j41(3,"div",8),t.DNE(4,ee,14,11,"div",9),t.nrm(5,"ds-rss"),t.k0s()()()),2&be){const re=t.XpG(2);t.R7$(2),t.Y8G("ngIf",!re.hidePaginationDetail&&re.collectionSize>0),t.R7$(2),t.Y8G("ngIf",!re.hideGear)}}function ne(be,me){if(1&be){const re=t.RV6();t.j41(0,"div",29)(1,"ngb-pagination",30),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"translate"),t.bIt("pageChange",function(Te){t.eBV(re);const tt=t.XpG(3);return t.Njj(tt.doPageChange(Te))}),t.k0s()()}if(2&be){const re=t.XpG(3);t.R7$(),t.Y8G("boundaryLinks",re.paginationOptions.boundaryLinks)("collectionSize",re.collectionSize)("disabled",re.paginationOptions.disabled)("ellipses",re.paginationOptions.ellipses)("maxSize",re.isXs?5:re.paginationOptions.maxSize)("page",t.bMT(2,10,re.currentPage$))("pageSize",t.bMT(3,12,re.pageSize$))("rotate",re.paginationOptions.rotate)("size",re.isXs?"sm":re.paginationOptions.size),t.BMQ("aria-label",t.bMT(4,14,"pagination-control.page-number-bar")+re.paginationOptions.id)}}function fe(be,me){if(1&be){const re=t.RV6();t.j41(0,"div",31)(1,"button",32),t.bIt("click",function(){t.eBV(re);const Te=t.XpG(3);return t.Njj(Te.goPrev())}),t.nrm(2,"i",33),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",34),t.bIt("click",function(){t.eBV(re);const Te=t.XpG(3);return t.Njj(Te.goNext())}),t.j41(6,"span",35),t.nI1(7,"translate"),t.nrm(8,"i",36),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()}if(2&be){const re=t.XpG(3);t.R7$(),t.Y8G("dsBtnDisabled",(null==re.objects||null==re.objects.payload?null:re.objects.payload.currentPage)<=1&&(null==re.paginationOptions?null:re.paginationOptions.currentPage)<=1),t.R7$(2),t.SpI(" ",t.bMT(4,5,"pagination.previous.button")," "),t.R7$(2),t.Y8G("dsBtnDisabled",(null==re.objects||null==re.objects.payload?null:re.objects.payload.currentPage)>=(null==re.objects||null==re.objects.payload?null:re.objects.payload.totalPages)||(null==re.paginationOptions?null:re.paginationOptions.currentPage)>=(null==re.objects||null==re.objects.payload?null:re.objects.payload.totalPages)),t.R7$(),t.Y8G("ngbTooltip",(null==re.objects||null==re.objects.payload?null:re.objects.payload.currentPage)>=(null==re.objects||null==re.objects.payload?null:re.objects.payload.totalPages)?t.bMT(7,7,"pagination.next.button.disabled.tooltip"):null),t.R7$(3),t.SpI(" ",t.bMT(10,9,"pagination.next.button")," ")}}function se(be,me){if(1&be&&(t.j41(0,"div"),t.DNE(1,ne,5,16,"div",27)(2,fe,11,11,"div",28),t.k0s()),2&be){const re=t.XpG(2);t.R7$(),t.Y8G("ngIf",re.showPaginator),t.R7$(),t.Y8G("ngIf",!re.showPaginator)}}function ce(be,me){if(1&be&&(t.j41(0,"div",2),t.DNE(1,le,6,2,"div",3),t.SdG(2),t.DNE(3,se,3,2,"div",4),t.nI1(4,"async"),t.k0s()),2&be){const re=t.XpG();t.Y8G("id","p-"+re.id),t.R7$(),t.Y8G("ngIf",!re.hidePaginationDetail&&re.collectionSize>0||!re.hideGear),t.R7$(2),t.Y8G("ngIf",t.bMT(4,3,re.shouldShowBottomPager))}}let De=(()=>{class be{ngOnInit(){this.subs.push(this.hostWindowService.isXs().subscribe(re=>{this.isXs=re,this.cdRef.markForCheck()})),this.checkConfig(this.paginationOptions),this.initializeConfig()}ngOnChanges(re){re.collectionSize.currentValue!==re.collectionSize.previousValue&&(this.showingDetails$=this.getShowingDetails(this.collectionSize))}ngOnDestroy(){this.subs.filter(re=>(0,A.a4)(re)).forEach(re=>re.unsubscribe())}initializeConfig(){let re;this.id=this.paginationOptions.id||null,this.pageSizeOptions=this.paginationOptions.pageSizeOptions,this.currentPage$=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(Ee=>Ee.currentPage)),this.pageSize$=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(Ee=>Ee.pageSize)),re=this.sortOptions?this.sortOptions:new _.z(this.defaultSortField,this.defaultsortDirection),this.sortDirection$=this.paginationService.getCurrentSort(this.id,re).pipe((0,m.T)(Ee=>Ee.direction)),this.sortField$=this.paginationService.getCurrentSort(this.id,re).pipe((0,m.T)(Ee=>Ee.field))}constructor(re,Ee,Te){this.cdRef=re,this.paginationService=Ee,this.hostWindowService=Te,this.viewMode=R.n.ListElement,this.showPaginator=!0,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.sortFieldChange=new t.bkB,this.paginationChange=new t.bkB,this.hidePaginationDetail=!1,this.hideGear=!1,this.hideSortOptions=!1,this.hidePagerWhenSinglePage=!0,this.retainScrollPosition=!1,this.currentPageState=void 0,this.sortDirections=_.U,this.defaultsortDirection=_.U.ASC,this.defaultSortField="name",this.subs=[],this.prev=new t.bkB,this.next=new t.bkB}doPageChange(re){this.updateParams({page:re}),this.emitPaginationChange()}doPageSizeChange(re){this.updateParams({page:1,pageSize:re}),this.emitPaginationChange()}doSortDirectionChange(re){this.updateParams({page:1,sortDirection:re}),this.emitPaginationChange()}emitPaginationChange(){this.paginationChange.emit()}updateParams(re){this.paginationService.updateRoute(this.id,re,{},this.retainScrollPosition)}getShowingDetails(re){return(0,h.of)(re).pipe((0,A.Az)(),(0,f.n)(()=>this.paginationService.getCurrentPagination(this.id,this.paginationOptions)),(0,m.T)(Ee=>{let Te;const tt=Ee.pageSize*Ee.currentPage;return Te=re>tt?tt:re,{range:`${Ee.pageSize*(Ee.currentPage-1)+1} - ${Te}`,total:re}}),(0,v.Z)({range:"null - null",total:null}))}checkConfig(re){const Te=["id","currentPage","pageSize","pageSizeOptions"].filter(tt=>!(tt in re));if(0<Te.length)throw new Error("Paginate: Argument is missing the following required properties: "+Te.join(", "))}get hasMultiplePages(){return this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(re=>this.collectionSize>re.pageSize))}get shouldShowBottomPager(){return this.hasMultiplePages.pipe((0,m.T)(re=>re||!this.hidePagerWhenSinglePage))}goPrev(){this.prev.emit(!0),this.updatePagination(-1)}goNext(){this.next.emit(!0),this.updatePagination(1)}updatePagination(re){this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,E.s)(1)).subscribe(Ee=>{this.updateParams({page:Ee.currentPage+re})})}static{this.\u0275fac=function(Ee){return new(Ee||be)(t.rXU(t.gRc),t.rXU(I.m),t.rXU(p.CV))}}static{this.\u0275cmp=t.VBU({type:be,selectors:[["ds-pagination"]],inputs:{collectionSize:"collectionSize",paginationOptions:"paginationOptions",sortOptions:"sortOptions",showPaginator:"showPaginator",config:"config",objects:"objects",sortConfig:"sortConfig",hidePaginationDetail:"hidePaginationDetail",hideGear:"hideGear",hideSortOptions:"hideSortOptions",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",retainScrollPosition:"retainScrollPosition"},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",sortFieldChange:"sortFieldChange",paginationChange:"paginationChange",prev:"prev",next:"next"},exportAs:["paginationComponent"],standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:q,decls:2,vars:3,consts:[["paginationControls","ngbDropdown"],[3,"id",4,"ngIf"],[3,"id"],["class","pagination-masked clearfix top",4,"ngIf"],[4,"ngIf"],[1,"pagination-masked","clearfix","top"],[1,"row"],["class","col-auto pagination-info",4,"ngIf"],[1,"col"],["ngbDropdown","","placement","bottom-right","class","d-inline-block float-end",4,"ngIf"],[1,"col-auto","pagination-info"],[1,"align-middle","hidden-xs-down"],[1,"align-middle"],["ngbDropdown","","placement","bottom-right",1,"d-inline-block","float-end"],["id","paginationControls","ngbDropdownToggle","","aria-haspopup","true","aria-expanded","false",1,"btn","btn-secondary",3,"title"],["aria-hidden","true",1,"fas","fa-cog"],["id","paginationControlsDropdownMenu","aria-labelledby","paginationControls","role","menu","ngbDropdownMenu",""],["role","menuitem"],["id","pagination-control_results-per-page","role","heading",1,"dropdown-header"],["aria-labelledby","pagination-control_results-per-page","role","listbox",1,"list-unstyled"],["role","option",4,"ngFor","ngForOf"],["role","menuitem",4,"ngIf"],["role","option"],[1,"dropdown-item",3,"click"],["aria-hidden","true",1,"fas","fa-check",3,"ngClass"],["id","pagination-control_sort-direction","role","heading",1,"dropdown-header"],["aria-labelledby","pagination-control_sort-direction","role","listbox",1,"list-unstyled"],["class","pagination justify-content-center clearfix bottom",4,"ngIf"],["class","d-flex justify-content-between",4,"ngIf"],[1,"pagination","justify-content-center","clearfix","bottom"],[3,"pageChange","boundaryLinks","collectionSize","disabled","ellipses","maxSize","page","pageSize","rotate","size"],[1,"d-flex","justify-content-between"],["id","nav-prev","type","button",1,"btn","btn-outline-primary","float-start",3,"click","dsBtnDisabled"],[1,"fas","fa-angle-left"],["id","nav-next","type","button",1,"btn","btn-outline-primary","float-end",3,"click","dsBtnDisabled"],[3,"ngbTooltip"],[1,"fas","fa-angle-right"]],template:function(Ee,Te){1&Ee&&(t.NAR(),t.DNE(0,ce,5,5,"div",1),t.nI1(1,"async")),2&Ee&&t.Y8G("ngIf",void 0===Te.currentPageState||Te.currentPageState===t.bMT(1,1,Te.currentPage$))},dependencies:[i.bT,u.zH,u.tg,u.do,u.U0,i.pM,i.YU,Y,u.c9,u.s5,u.n8,u.md,i.Jj,e.h,e.D9,G,T.A],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}"]})}}return be})()},43404:(F,D,n)=>{"use strict";n.d(D,{CX:()=>v,PM:()=>_,SP:()=>f,V7:()=>p,Wh:()=>R});var i=n(21626),t=n(7673),u=n(88280),e=n(1716),h=n(7434);const m=(new Date).getTime();function f(x,O=m){return new e.j(O,u.c.cache.msToLive.default,O,h.zE.Success,void 0,x,200)}function v(x,O){return(0,t.of)(f(x,O))}function E(x,O,w=15778368e5){return new e.j(w,u.c.cache.msToLive.default,w,h.zE.Error,x,void 0,O)}function _(x,O,w){return(0,t.of)(E(x,O,w))}function R(x){return f(void 0,x)}function p(x){return(0,t.of)(function A(x){const O=E();return x instanceof Error&&(O.errorMessage=x.message),x instanceof i.yz&&(O.statusCode=x.status),O}(x))}},4420:(F,D,n)=>{"use strict";n.d(D,{U:()=>h});var i=n(8886),t=n(54438);const u=["*"];function e(m,f){}let h=(()=>{class m extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["back","buttonLabel"]}getComponentName(){return"ResultsBackButtonComponent"}importThemedComponent(v){return n(79086)(`./${v}/app/shared/results-back-button/results-back-button.component`)}importUnthemedComponent(){return n.e(2076).then(n.bind(n,94280))}static{this.\u0275fac=(()=>{let v;return function(_){return(v||(v=t.xGo(m)))(_||m)}})()}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ds-results-back-button"]],inputs:{buttonLabel:"buttonLabel",back:"back"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:u,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(E,_){1&E&&(t.NAR(),t.DNE(0,e,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return m})()},41477:(F,D,n)=>{"use strict";n.d(D,{q:()=>v});var i=n(84572),t=n(5964),u=n(96354),e=n(61594),h=n(46265),m=n(82777),f=n(54438);let v=(()=>{class E{constructor(C,I,R,T){this.roleService=C,this.viewContainer=I,this.changeDetector=R,this.templateRef=T,this.subs=[]}ngOnChanges(C){this.hasRoles(this.dsShowOnlyForRole),C.dsShowOnlyForRole?this.validateOnly():C.dsShowExceptForRole&&this.validateExcept()}ngOnDestroy(){this.subs.filter(C=>(0,m.a4)(C)).forEach(C=>C.unsubscribe())}showTemplateBlockInView(){this.viewContainer.clear(),this.templateRef&&(this.viewContainer.createEmbeddedView(this.templateRef),this.changeDetector.markForCheck())}validateOnly(){this.subs.push(this.hasRoles(this.dsShowOnlyForRole).pipe((0,t.p)(C=>C)).subscribe(C=>{this.showTemplateBlockInView()}))}validateExcept(){this.subs.push(this.hasRoles(this.dsShowExceptForRole).pipe((0,t.p)(C=>!C)).subscribe(C=>{this.showTemplateBlockInView()}))}hasRoles(C){const R=(Array.isArray(C)?C:[C]).map(T=>this.roleService.checkRole(T));return(0,i.z)(R).pipe((0,u.T)(T=>T.includes(!0)),(0,e.$)())}static{this.\u0275fac=function(I){return new(I||E)(f.rXU(h.W),f.rXU(f.c1b),f.rXU(f.gRc),f.rXU(f.C4Q))}}static{this.\u0275dir=f.FsC({type:E,selectors:[["","dsShowOnlyForRole",""],["","dsShowExceptForRole",""]],inputs:{dsShowOnlyForRole:"dsShowOnlyForRole",dsShowExceptForRole:"dsShowExceptForRole"},standalone:!0,features:[f.OA$]})}}return E})()},18757:(F,D,n)=>{"use strict";n.d(D,{$s:()=>t,Jc:()=>u,aE:()=>h,zX:()=>e});var i=n(91e3);const t={ADD:(0,i.N)("dspace/css-variables/ADD"),ADD_ALL:(0,i.N)("dspace/css-variables/ADD_ALL"),CLEAR:(0,i.N)("dspace/css-variables/CLEAR")};class u{constructor(f,v){this.type=t.ADD,this.payload={name:f,value:v}}}class e{constructor(f){this.type=t.ADD_ALL,this.payload=f}}class h{constructor(){this.type=t.CLEAR}}},1221:(F,D,n)=>{"use strict";n.d(D,{J:()=>v});var i=n(25499),t=n(195),u=n(96820),e=n(32089),h=n(82777),m=n(18757),f=n(54438);let v=(()=>{class R{constructor(A){this.store=A,this.isSameDomain=p=>!p.href||0===p.href.indexOf(window.location.origin),this.hasCssRules=p=>{try{return p.cssRules}catch{return!1}},this.isStyleRule=p=>1===p.type}addCSSVariable(A,p){this.store.dispatch(new m.Jc(A,p))}addCSSVariables(A){this.store.dispatch(new m.zX(A))}clearCSSVariables(){this.store.dispatch(new m.aE)}getVariable(A){return this.store.pipe((0,i.Lt)(_(A)))}getAllVariables(){return this.store.pipe((0,i.Lt)(E))}searchVariable(A,p){return this.store.pipe((0,i.Lt)(C(A,p)))}getCSSVariablesFromStylesheets(A){return(0,h.hj)(A.styleSheets)?[...A.styleSheets].filter(this.isSameDomain).filter(this.hasCssRules).reduce((p,x)=>p.concat([...x.cssRules].filter(this.isStyleRule).reduce((O,w)=>[...O,...[...w.style].map(L=>({key:L.trim(),value:w.style.getPropertyValue(L).trim()})).filter(({key:L})=>0===L.indexOf("--"))],[])),[]):[]}static{this.\u0275fac=function(p){return new(p||R)(f.KVO(i.il))}}static{this.\u0275prov=f.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})();const E=R=>R.cssVariables,_=R=>(0,t.pc)(R,E),C=(R,T)=>(0,i.Mz)(I(R),A=>{if((0,h.a4)(A)){const{currentPage:p,pageSize:x}=T,O=(p-1)*x,M=A.slice(O,O+x),L=Math.ceil(A.length/x),B=new e.Q({currentPage:p,elementsPerPage:x,totalElements:A.length,totalPages:L});return(0,u.g)(B,M)}}),I=R=>(0,i.Mz)(E,T=>{if((0,h.a4)(T))return Object.keys(T).filter(A=>A.includes(R)).map(A=>({key:A,value:T[A]}))})},81988:(F,D,n)=>{"use strict";n.r(D),n.d(D,{SearchFormComponent:()=>Y});var i=n(60177),t=n(54438),u=n(89417),e=n(58003),h=n(41780),m=n(84412),f=n(96697),v=n(96526),E=n(13989),_=n(22978),C=n(80183),I=n(78655),R=n(39012),T=n(15465),A=n(82777),p=n(75465),x=n(30506),O=n(88280),w=n(6238),M=n(26292),L=n(13864),B=n(73183),k=n(54705),W=n(7901);let U=(()=>{class G extends k.${constructor(z,te){super(z,te),this.activeModal=z,this.route=te,this.Context=M.o,this.objectType=L.W.COMMUNITY,this.selectorTypes=[L.W.COMMUNITY,L.W.COLLECTION],this.action=k.u.SET_SCOPE,this.scopeChange=new t.bkB,this.defaultSort=new w.z(O.c.comcolSelectionSort.sortField,O.c.comcolSelectionSort.sortDirection)}navigate(z){this.scopeChange.emit(z)}static{this.\u0275fac=function(te){return new(te||G)(t.rXU(e.Lw),t.rXU(W.nX))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-scope-selector-modal"]],standalone:!0,features:[t.Vt3,t.aNF],decls:19,vars:16,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"btn","btn-outline-primary","btn-lg","btn-block","w-100",3,"click"],[1,"position-relative","py-1","my-3","fw-normal","h3"],["id","create-community-or-separator",1,"text-center","position-absolute","w-100"],[1,"px-4","bg-white"],[1,"px-2","h5"],[3,"onSelect","context","currentDSOId","types","sort"]],template:function(te,Z){1&te&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return Z.selectObject(void 0)}),t.k0s()(),t.j41(5,"div",2)(6,"button",3),t.bIt("click",function(){return Z.selectObject(void 0)}),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"div",4),t.nrm(10,"hr"),t.j41(11,"div",5)(12,"span",6),t.EFF(13),t.nI1(14,"translate"),t.k0s()()(),t.j41(15,"h2",7),t.EFF(16),t.nI1(17,"translate"),t.k0s(),t.j41(18,"ds-dso-selector",8),t.bIt("onSelect",function(Q){return Z.selectObject(Q)}),t.k0s()()()),2&te&&(t.R7$(2),t.SpI("",t.bMT(3,8,"dso-selector."+Z.action+"."+Z.objectType.toString().toLowerCase()+".head")," "),t.R7$(5),t.JRh(t.bMT(8,10,"dso-selector."+Z.action+"."+Z.objectType.toString().toLowerCase()+".button")),t.R7$(6),t.JRh(t.bMT(14,12,"dso-selector."+Z.action+"."+Z.objectType.toString().toLowerCase()+".or-divider")),t.R7$(3),t.JRh(t.bMT(17,14,"dso-selector."+Z.action+"."+Z.objectType.toString().toLowerCase()+".input-header")),t.R7$(2),t.Y8G("context",Z.Context.ScopeSelectorModal)("currentDSOId",null==Z.dsoRD?null:Z.dsoRD.payload.uuid)("types",Z.selectorTypes)("sort",Z.defaultSort))},dependencies:[B.x,h.h,h.D9],styles:["#create-community-or-separator[_ngcontent-%COMP%]{top:0}"]})}}return G})();function K(G,q){if(1&G){const z=t.RV6();t.j41(0,"button",7),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(z);const Z=t.XpG();return t.Njj(Z.openScopeModal())}),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.k0s()}if(2&G){const z=t.XpG();t.Y8G("ngbTooltip",z.dsoNameService.getName(t.bMT(1,2,z.selectedScope))),t.R7$(2),t.SpI(" ",z.dsoNameService.getName(t.bMT(3,4,z.selectedScope))||t.bMT(4,6,"search.form.scope.all")," ")}}let Y=(()=>{class G{constructor(z,te,Z,J,Q,ee,le,ne){this.router=z,this.searchService=te,this.searchFilterService=Z,this.paginationService=J,this.searchConfig=Q,this.modalService=ee,this.dsoService=le,this.dsoNameService=ne,this.scope="",this.hideScopeInUrl=!1,this.selectedScope=new m.t(void 0),this.large=!1,this.brandColor="primary",this.showScopeSelector=!1,this.submitSearch=new t.bkB}ngOnChanges(){(0,A.hj)(this.scope)&&this.dsoService.findById(this.scope).pipe((0,C.ak)()).subscribe(z=>this.selectedScope.next(z))}onSubmit(z){(0,A.hj)(this.scope)&&(z=Object.assign(z,{scope:this.scope})),this.updateSearch(z),this.submitSearch.emit(z)}onScopeChange(z){this.updateSearch({scope:z?z.uuid:void 0}),this.searchFilterService.minimizeAll()}updateSearch(z){const Z=Object.assign({"spc.page":1},z);(0,A.a4)(z.scope)&&this.hideScopeInUrl&&delete Z.scope,this.router.navigate(this.getSearchLinkParts(),{queryParams:Z,queryParamsHandling:"merge"})}getSearchLink(){return this.inPlaceSearch?(0,x.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.inPlaceSearch?[]:this.getSearchLink().split("/")}openScopeModal(){this.modalService.open(U).componentInstance.scopeChange.pipe((0,f.s)(1)).subscribe(te=>{this.selectedScope.next(te),this.onScopeChange(te)})}static{this.\u0275fac=function(te){return new(te||G)(t.rXU(W.Ix),t.rXU(I.S),t.rXU(T.U),t.rXU(_.m),t.rXU(R.g),t.rXU(e.Bq),t.rXU(E.DSpaceObjectDataService),t.rXU(v.f))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-base-search-form"]],inputs:{query:"query",inPlaceSearch:"inPlaceSearch",scope:"scope",hideScopeInUrl:"hideScopeInUrl",currentUrl:"currentUrl",large:"large",brandColor:"brandColor",searchPlaceholder:"searchPlaceholder",showScopeSelector:"showScopeSelector"},outputs:{submitSearch:"submitSearch"},standalone:!0,features:[t.OA$,t.aNF],decls:12,vars:16,consts:[["form","ngForm"],["action","/search",3,"ngSubmit"],[1,"mb-3","input-group"],["class","scope-button btn btn-outline-secondary text-truncate","type","button",3,"ngbTooltip","click",4,"ngIf"],["type","text","name","query",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["type","submit"],[1,"fas","fa-search"],["type","button",1,"scope-button","btn","btn-outline-secondary","text-truncate",3,"click","ngbTooltip"]],template:function(te,Z){if(1&te){const J=t.RV6();t.j41(0,"form",1,0),t.bIt("ngSubmit",function(){t.eBV(J);const ee=t.sdS(1);return t.Njj(Z.onSubmit(ee.value))}),t.j41(2,"div")(3,"div",2),t.DNE(4,K,5,8,"button",3),t.j41(5,"input",4),t.nI1(6,"dsBrowserOnly"),t.mxI("ngModelChange",function(ee){return t.eBV(J),t.DH7(Z.query,ee)||(Z.query=ee),t.Njj(ee)}),t.k0s(),t.j41(7,"button",5),t.nI1(8,"dsBrowserOnly"),t.nrm(9,"i",6),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()()}2&te&&(t.R7$(4),t.Y8G("ngIf",Z.showScopeSelector),t.R7$(),t.R50("ngModel",Z.query),t.Y8G("placeholder",Z.searchPlaceholder),t.BMQ("aria-label",Z.searchPlaceholder)("data-test",t.bMT(6,10,"search-box")),t.R7$(2),t.ZvI("search-button btn btn-",Z.brandColor,""),t.BMQ("data-test",t.bMT(8,12,"search-button")),t.R7$(3),t.SpI(" ",t.bMT(11,14,"search.form.search"),""))},dependencies:[u.YN,u.qT,u.me,u.BC,u.cb,u.vS,u.cV,i.bT,e.n8,e.md,i.Jj,h.h,h.D9,p.L],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}.scope-button[_ngcontent-%COMP%]{max-width:var(--ds-search-form-scope-max-width)}"]})}}return G})()},18016:(F,D,n)=>{"use strict";n.d(D,{d:()=>m});var i=n(54438),t=n(8886);n(81988);const e=["*"];function h(f,v){}let m=(()=>{class f extends t.J{constructor(){super(...arguments),this.submitSearch=new i.bkB,this.inAndOutputNames=["query","inPlaceSearch","scope","hideScopeInUrl","currentUrl","large","brandColor","searchPlaceholder","showScopeSelector","submitSearch"]}getComponentName(){return"SearchFormComponent"}importThemedComponent(E){return n(76142)(`./${E}/app/shared/search-form/search-form.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,81988))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=i.xGo(f)))(C||f)}})()}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-search-form"]],inputs:{query:"query",inPlaceSearch:"inPlaceSearch",scope:"scope",hideScopeInUrl:"hideScopeInUrl",currentUrl:"currentUrl",large:"large",brandColor:"brandColor",searchPlaceholder:"searchPlaceholder",showScopeSelector:"showScopeSelector"},outputs:{submitSearch:"submitSearch"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(i.NAR(),i.DNE(0,h,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return f})()},77909:(F,D,n)=>{"use strict";n.d(D,{Q:()=>O});var i=n(60177),t=n(89417),u=n(41780),e=n(7673),h=n(96697),m=n(82640),f=n(78655),v=n(39012),E=n(15465),_=n(60456),C=n(82777),I=n(81648),R=n(59780),T=n(54438),A=n(7901);function p(w,M){if(1&w&&(T.j41(0,"option",8),T.EFF(1),T.nI1(2,"translate"),T.k0s()),2&w){const L=M.$implicit;T.Y8G("value",L.value.filter),T.R7$(),T.SpI(" ",T.bMT(2,2,"search.filters.filter."+L.value.filter+".head")," ")}}function x(w,M){if(1&w&&(T.j41(0,"option",8),T.EFF(1),T.nI1(2,"translate"),T.k0s()),2&w){const L=M.$implicit;T.Y8G("value",L.operator),T.R7$(),T.SpI(" ",T.bMT(2,2,"search.filters.operator."+L.operator+".text")," ")}}let O=(()=>{class w{constructor(L,B,k,W,U){this.router=L,this.searchService=B,this.searchConfigurationService=k,this.searchFilterService=W,this.appConfig=U,this.advancedFilterMap=new Map,this.currentValue="",this.filterSearchResults$=(0,e.of)([]),this.subs=[]}ngOnInit(){this.advancedFilters$=this.searchConfigurationService.getConfigurationAdvancedSearchFilters(this.configuration,this.scope),this.subs.push(this.advancedFilters$.subscribe(L=>{const B=new Map;if(L.length>0){this.currentFilter=L[0].filter,this.currentOperator=L[0].operators[0].operator;for(const k of L)k.type!==R.R.range&&B.set(k.filter,k)}this.advancedFilterMap=B}))}ngOnDestroy(){this.subs.forEach(L=>L.unsubscribe())}findSuggestions(L){if((0,C.a4)(this.filtersConfig))for(const B of this.filtersConfig)B.name===this.currentFilter&&(this.filterSearchResults$=this.searchFilterService.findSuggestions(B,this.searchConfigurationService.searchOptions.value,L))}applyFilter(){(0,C.hj)(this.currentValue)&&(this.searchFilterService.minimizeAll(),this.subs.push(this.searchConfigurationService.selectNewAppliedFilterParams(this.currentFilter,this.currentValue.trim(),this.currentOperator).pipe((0,h.s)(1)).subscribe(L=>{this.router.navigate([this.searchService.getSearchLink()],{queryParams:L}),this.currentValue=""})))}static{this.\u0275fac=function(B){return new(B||w)(T.rXU(A.Ix),T.rXU(f.S),T.rXU(v.g),T.rXU(E.U),T.rXU(m.vQ))}}static{this.\u0275cmp=T.VBU({type:w,selectors:[["ds-advanced-search"]],inputs:{configuration:"configuration",filtersConfig:"filtersConfig",scope:"scope"},standalone:!0,features:[T.aNF],decls:26,vars:36,consts:[[1,"advanced-search","b-3","p-3"],["for","advanced-search-filters",1,"sr-only"],["id","advanced-search-filters",1,"form-control","mb-2",3,"ngModelChange","keyup.enter","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","advanced-search-operators",1,"sr-only"],["id","advanced-search-operators",1,"form-control","mb-2",3,"ngModelChange","keyup.enter","ngModel"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"],[1,"btn","btn-primary","mt-2",3,"click","dsBtnDisabled"],[3,"value"]],template:function(B,k){if(1&B&&(T.j41(0,"h3"),T.EFF(1),T.nI1(2,"translate"),T.k0s(),T.j41(3,"div",0)(4,"h4"),T.EFF(5),T.nI1(6,"translate"),T.k0s(),T.j41(7,"label",1),T.EFF(8),T.nI1(9,"translate"),T.k0s(),T.j41(10,"select",2),T.mxI("ngModelChange",function(U){return T.DH7(k.currentFilter,U)||(k.currentFilter=U),U}),T.bIt("keyup.enter",function(){return k.applyFilter()})("ngModelChange",function(){return k.currentOperator=k.advancedFilterMap.get(k.currentFilter).operators[0].operator}),T.DNE(11,p,3,4,"option",3),T.nI1(12,"async"),T.nI1(13,"keyvalue"),T.k0s(),T.j41(14,"label",4),T.EFF(15),T.nI1(16,"translate"),T.k0s(),T.j41(17,"select",5),T.mxI("ngModelChange",function(U){return T.DH7(k.currentOperator,U)||(k.currentOperator=U),U}),T.bIt("keyup.enter",function(){return k.applyFilter()}),T.DNE(18,x,3,4,"option",3),T.k0s(),T.j41(19,"ds-filter-input-suggestions",6),T.nI1(20,"async"),T.nI1(21,"translate"),T.nI1(22,"translate"),T.mxI("ngModelChange",function(U){return T.DH7(k.currentValue,U)||(k.currentValue=U),U}),T.bIt("submitSuggestion",function(){return k.applyFilter()})("findSuggestions",function(U){return k.findSuggestions(U)}),T.k0s(),T.j41(23,"button",7),T.bIt("click",function(){return k.applyFilter()}),T.EFF(24),T.nI1(25,"translate"),T.k0s()()),2&B){let W;T.R7$(),T.JRh(T.bMT(2,16,"search.sidebar.advanced-search.title")),T.R7$(4),T.JRh(T.bMT(6,18,"search.sidebar.advanced-search.filter-by")),T.R7$(3),T.SpI(" ",T.bMT(9,20,"search.sidebar.advanced-search.filters")," "),T.R7$(2),T.R50("ngModel",k.currentFilter),T.R7$(),T.Y8G("ngForOf",T.bMT(13,24,T.bMT(12,22,k.advancedFilters$))),T.R7$(4),T.SpI(" ",T.bMT(16,26,"search.sidebar.advanced-search.operators")," "),T.R7$(2),T.R50("ngModel",k.currentOperator),T.R7$(),T.Y8G("ngForOf",null==(W=k.advancedFilterMap.get(k.currentFilter))?null:W.operators),T.R7$(),T.Y8G("suggestions",T.bMT(20,28,k.filterSearchResults$))("placeholder",T.bMT(21,30,"search.filters.filter."+k.currentFilter+".placeholder"))("label",T.bMT(22,32,"search.filters.filter."+k.currentFilter+".label"))("action",k.router.url)("name","f."+k.currentFilter),T.R50("ngModel",k.currentValue),T.R7$(4),T.Y8G("dsBtnDisabled",""===k.currentValue),T.R7$(),T.SpI(" ",T.bMT(25,34,"search.sidebar.advanced-search.add")," ")}},dependencies:[i.Jj,I.H,t.YN,t.xH,t.y7,t.me,t.wz,t.BC,t.vS,i.lG,i.Sq,u.h,u.D9,_.A],styles:["[_nghost-%COMP%]     ds-filter-input-suggestions label span{display:none}.advanced-search[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return w})()},15641:(F,D,n)=>{"use strict";n.d(D,{S:()=>u});var i=n(31635),t=n(74850);class u{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],u.prototype,"filter",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],u.prototype,"operator",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],u.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],u.prototype,"label",void 0)},54994:(F,D,n)=>{"use strict";n.d(D,{L:()=>u});var i=n(31635),t=n(74850);class u{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],u.prototype,"label",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"label"),(0,i.Sn)("design:type",String)],u.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],u.prototype,"count",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],u.prototype,"authorityKey",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],u.prototype,"_links",void 0)},59780:(F,D,n)=>{"use strict";n.d(D,{R:()=>i});var i=function(t){return t.authority="authority",t.text="text",t.range="date",t.hierarchy="hierarchical",t.boolean="standard",t}(i||{})},33550:(F,D,n)=>{"use strict";n.d(D,{C:()=>u});var i=n(82777),t=n(31192);class u extends t.n{constructor(h){super(h),this.pagination=h.pagination,this.sort=h.sort,this.view=h.view}toRestUrl(h,m=[]){return(0,i.hj)(this.sort)&&m.push(`sort=${this.sort.field},${this.sort.direction}`),(0,i.hj)(this.pagination)&&(m.push("page="+(this.pagination.currentPage-1)),m.push(`size=${this.pagination.pageSize}`)),super.toRestUrl(h,m)}}},6842:(F,D,n)=>{"use strict";n.d(D,{F:()=>v});var i=n(31635),t=n(74850),u=n(21921),e=n(98688);n(59780);const f=new(n(42547).v)("discovery-filter");let v=class{constructor(){this.type=f,this.pageSize=5}static{this.type=f}get paramName(){return"f."+this.name}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",Object)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"name",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"facetType"),(0,i.Sn)("design:type",String)],v.prototype,"filterType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"hasFacets",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"facetLimit"),(0,i.Sn)("design:type",Object)],v.prototype,"pageSize",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"openByDefault"),(0,i.Sn)("design:type",Boolean)],v.prototype,"isOpenByDefault",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"maxValue",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"minValue",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([u.gV],v)},1102:(F,D,n)=>{"use strict";n.d(D,{n:()=>_});var i=n(31635),t=n(74850),u=n(21921),e=n(96820),h=n(98688),m=n(24385),f=n(78541);const E=new(n(42547).v)("discovery-objects");let _=class extends m.a{constructor(){super(...arguments),this.type=E}static{this.type=E}};(0,i.Cg)([h.aK,(0,i.Sn)("design:type",Object)],_.prototype,"type",void 0),(0,i.Cg)([(0,t.autoserializeAs)(f.q,"objects"),(0,i.Sn)("design:type",Array)],_.prototype,"page",void 0),_=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(e.O),(0,t.inheritSerialization)(m.a)],_)},31192:(F,D,n)=>{"use strict";n.d(D,{n:()=>e});var i=n(78448),t=n(45663),u=n(82777);class e{constructor(m){this.view=i.n.ListElement,this.configuration=m.configuration,this.scope=m.scope,this.query=m.query,this.dsoTypes=m.dsoTypes,this.filters=m.filters,this.fixedFilter=m.fixedFilter}toRestUrl(m,f=[]){return(0,u.hj)(this.configuration)&&f.push(`configuration=${encodeURIComponent(this.configuration)}`),(0,u.hj)(this.fixedFilter)&&f.push(this.encodedFixedFilter),(0,u.hj)(this.query)&&f.push(`query=${encodeURIComponent(this.query)}`),(0,u.hj)(this.scope)&&f.push(`scope=${encodeURIComponent(this.scope)}`),(0,u.hj)(this.dsoTypes)&&this.dsoTypes.forEach(v=>{f.push(`dsoType=${encodeURIComponent(v)}`)}),(0,u.hj)(this.filters)&&this.filters.forEach(v=>{v.values.forEach(E=>{const _=E.includes(",")?`${E}`:E+(v.operator?","+v.operator:"");f.push(`${v.key}=${this.encodeFilterQueryValue(_)}`)})}),(0,u.hj)(f)&&(m=new t.t(m,`?${f.join("&")}`).toString()),m}get encodedFixedFilter(){const m=this.fixedFilter.match(/^([^=]+=)(.+)$/);return(0,u.a4)(m)?m[1]+this.encodeFilterQueryValue(m[2]):this.encodeFilterQueryValue(this.fixedFilter)}encodeFilterQueryValue(m){const f=m.match(/^(.*)(,\w+)$/);return(0,u.a4)(f)?encodeURIComponent(f[1])+f[2]:encodeURIComponent(m)}}},24385:(F,D,n)=>{"use strict";n.d(D,{a:()=>f});var i=n(31635),t=n(74850),u=n(96820),e=n(32089),h=n(15641);class m{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"by",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"order",void 0);class f extends u.O{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"scope",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"query",void 0),(0,i.Cg)([(0,t.autoserializeAs)(h.S),(0,i.Sn)("design:type",Array)],f.prototype,"appliedFilters",void 0),(0,i.Cg)([(0,t.autoserializeAs)(m),(0,i.Sn)("design:type",m)],f.prototype,"sort",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"configuration",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",e.Q)],f.prototype,"pageInfo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],f.prototype,"page",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],f.prototype,"facets",void 0)},78541:(F,D,n)=>{"use strict";n.d(D,{q:()=>E});var i=n(31635),t=n(74850),u=n(21921),e=n(14391),h=n(98688),m=n(22878);const v=new(n(42547).v)("searchresult");let E=class extends m.u{constructor(){super(...arguments),this.type=v}static{this.type=v}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([h.aK,t.autoserialize,(0,i.Sn)("design:type",e.Cr)],E.prototype,"hitHighlights",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,h.gM)("uuid"),(0,i.Sn)("design:type",Object)],E.prototype,"indexableObject",void 0),E=(0,i.Cg)([u.gV],E)},53009:(F,D,n)=>{"use strict";n.d(D,{w:()=>w});var i=n(60177),t=n(58003),u=n(41780),e=n(5964),h=n(25558),m=n(96354),f=n(99172),v=n(65007),E=n(3970),_=n(32736),C=n(80183),I=n(1504),R=n(82777),T=n(39806),p=(n(33550),n(54438)),x=n(7901);function O(M,L){if(1&M){const B=p.RV6();p.j41(0,"button",1),p.nI1(1,"translate"),p.nI1(2,"translate"),p.nI1(3,"translate"),p.bIt("click",function(){p.eBV(B);const W=p.XpG();return p.Njj(W.export())}),p.nrm(4,"i",2),p.k0s()}if(2&M){const B=p.XpG();p.Y8G("ngbTooltip",p.bMT(1,3,B.tooltipMsg))("title",p.bMT(2,5,B.tooltipMsg)),p.BMQ("aria-label",p.bMT(3,7,B.tooltipMsg))}}let w=(()=>{class M{constructor(B,k,W,U,K){this.scriptDataService=B,this.authorizationDataService=k,this.notificationsService=W,this.translateService=U,this.router=K,this.tooltipMsg="metadata-export-search.tooltip"}ngOnInit(){this.shouldShowButton$=this.authorizationDataService.isAuthorized(E._.AdministratorOf).pipe((0,e.p)(B=>B),(0,h.n)(()=>this.scriptDataService.scriptWithNameExistsAndCanExecute("metadata-export-search")),(0,m.T)(B=>B),(0,f.Z)(!1))}export(){const B=[];if((0,R.a4)(this.searchConfig)&&((0,R.hj)(this.searchConfig.query)&&B.push({name:"-q",value:this.searchConfig.query}),(0,R.hj)(this.searchConfig.scope)&&B.push({name:"-s",value:this.searchConfig.scope}),(0,R.hj)(this.searchConfig.configuration)&&B.push({name:"-c",value:this.searchConfig.configuration}),(0,R.hj)(this.searchConfig.filters)&&this.searchConfig.filters.forEach(k=>{(0,R.a4)(k.values)&&k.values.forEach(W=>{let U,K;(0,R.a4)(k.operator)?(U=k.operator,K=W):(U=W.substring(W.lastIndexOf(",")+1),K=W.substring(0,W.lastIndexOf(",")));const Y=`${k.key.substring(2)},${U}=${K}`;B.push({name:"-f",value:Y})})}),(0,R.hj)(this.searchConfig.fixedFilter))){const W=this.searchConfig.fixedFilter.substring(2).split("=");if(W.length>1){const U=W[0],K=W[1].split(",");K.length>1&&B.push({name:"-f",value:`${U},${K[1]}=${K[0]}`})}}this.scriptDataService.invoke("metadata-export-search",B,[]).pipe((0,C.qD)()).subscribe(k=>{k.hasSucceeded?(this.notificationsService.success(this.translateService.get("metadata-export-search.submit.success")),this.router.navigateByUrl((0,I.yJ)(k.payload.processId))):this.notificationsService.error(this.translateService.get("metadata-export-search.submit.error"))})}static{this.\u0275fac=function(k){return new(k||M)(p.rXU(_.ScriptDataService),p.rXU(v.AuthorizationDataService),p.rXU(T.I),p.rXU(u.c$),p.rXU(x.Ix))}}static{this.\u0275cmp=p.VBU({type:M,selectors:[["ds-search-export-csv"]],inputs:{searchConfig:"searchConfig"},standalone:!0,features:[p.aNF],decls:2,vars:3,consts:[["class","export-button btn btn-dark btn-sm",3,"ngbTooltip","title","click",4,"ngIf"],[1,"export-button","btn","btn-dark","btn-sm",3,"click","ngbTooltip","title"],[1,"fas","fa-file-export","fa-fw"]],template:function(k,W){1&k&&(p.DNE(0,O,5,9,"button",0),p.nI1(1,"async")),2&k&&p.Y8G("ngIf",p.bMT(1,1,W.shouldShowButton$))},dependencies:[i.bT,t.n8,t.md,i.Jj,u.h,u.D9],styles:[".export-button[_ngcontent-%COMP%]{background:var(--ds-admin-sidebar-bg);border-color:var(--ds-admin-sidebar-bg)}"]})}}return M})()},22180:(F,D,n)=>{"use strict";n.d(D,{Bf:()=>_,Fi:()=>m,L2:()=>f,Po:()=>C,R0:()=>v,ge:()=>e,nj:()=>h,tq:()=>E,y$:()=>t});var i=n(91e3);const t={COLLAPSE:(0,i.N)("dspace/search-filter/COLLAPSE"),INITIALIZE:(0,i.N)("dspace/search-filter/INITIALIZE"),EXPAND:(0,i.N)("dspace/search-filter/EXPAND"),TOGGLE:(0,i.N)("dspace/search-filter/TOGGLE"),DECREMENT_PAGE:(0,i.N)("dspace/search-filter/DECREMENT_PAGE"),INCREMENT_PAGE:(0,i.N)("dspace/search-filter/INCREMENT_PAGE"),RESET_PAGE:(0,i.N)("dspace/search-filter/RESET_PAGE"),MINIMIZE_ALL:(0,i.N)("dspace/search-filters/MINIMIZE_ALL")};class u{constructor(R){this.filterName=R}}class e extends u{constructor(){super(...arguments),this.type=t.COLLAPSE}}class h extends u{constructor(){super(...arguments),this.type=t.EXPAND}}class m extends u{constructor(){super(...arguments),this.type=t.TOGGLE}}class f extends u{constructor(R){super(R.name),this.type=t.INITIALIZE,this.initiallyExpanded=R.isOpenByDefault}}class v extends u{constructor(){super(...arguments),this.type=t.DECREMENT_PAGE}}class E extends u{constructor(){super(...arguments),this.type=t.INCREMENT_PAGE}}class _ extends u{constructor(){super(...arguments),this.type=t.RESET_PAGE}}class C extends u{constructor(){super(...arguments),this.type=t.MINIMIZE_ALL}}},86868:(F,D,n)=>{"use strict";n.d(D,{a:()=>_a});var i=n(60177),t=n(54438),u=n(41780),e=n(84412),h=n(99172),m=n(84572),f=n(25558),v=n(7673),E=n(5964),_=n(96354),C=n(96697),I=n(78655),R=n(39012),T=n(15465),A=n(13955),p=n(621),x=n(82777),O=n(75465),M=(n(6842),n(49969)),L=n(23294),B=n(88141),k=n(72734),W=n(80183),U=n(30506),K=n(31192),Y=n(7901);const G=["equals","authority","range"];let q=(()=>{class et{constructor(at,Ut,Vt,xn,os){this.searchService=at,this.filterService=Ut,this.rdbs=Vt,this.router=xn,this.searchConfigService=os,this.facetValues$=new e.t([]),this.isLastPage$=new e.t(!1),this.isAvailableForShowSearchText=new e.t(!1),this.subs=[],this.filterSearchResults$=(0,v.of)([]),this.collapseNextUpdate=!0,this.animationState="loading"}ngOnInit(){this.currentUrl=this.router.url,this.currentPage=this.getCurrentPage().pipe((0,L.F)()),this.searchOptions$=this.searchConfigService.searchOptions.pipe((0,_.T)(at=>(0,x.Tn)(this.scope)?at:Object.assign(new K.n(at),{scope:this.scope}))),this.subs.push(this.searchOptions$.subscribe(()=>this.updateFilterValueList()),this.retrieveFilterValues().subscribe()),this.selectedAppliedFilters$=this.searchService.getSelectedValuesForFilter(this.filterConfig.name).pipe((0,_.T)(at=>at.filter(Ut=>G.includes(Ut.operator))),(0,L.F)((at,Ut)=>JSON.stringify(at)===JSON.stringify(Ut)))}updateFilterValueList(){this.animationState="loading",this.collapseNextUpdate=!0,this.filter=""}getSearchLink(){return this.inPlaceSearch?(0,U.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.inPlaceSearch?[]:this.getSearchLink().split("/")}showMore(){this.filterService.incrementPage(this.filterConfig.name)}showFirstPageOnly(){this.filterService.resetPage(this.filterConfig.name)}getCurrentPage(){return this.filterService.getPage(this.filterConfig.name)}onSubmit(at){this.applyFilterValue(at)}onClick(at){this.applyFilterValue(at.query)}hasValue(at){return(0,x.a4)(at)}ngOnDestroy(){this.subs.filter(at=>(0,x.a4)(at)).forEach(at=>at.unsubscribe())}findSuggestions(at){this.subs.push(this.searchOptions$.pipe((0,C.s)(1)).subscribe(Ut=>{this.filterSearchResults$=this.filterService.findSuggestions(this.filterConfig,Ut,at)}))}applyFilterValue(at){if(at.match(new RegExp("^.+,(equals|query|authority)$"))){this.filterService.minimizeAll();const Ut=at.split(",");this.subs.push(this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,Ut.slice(0,Ut.length-1).join(),Ut[Ut.length-1]).pipe((0,C.s)(1)).subscribe(Vt=>{this.router.navigate(this.getSearchLinkParts(),{queryParams:Vt}),this.filter="",this.filterSearchResults$=(0,v.of)([])}))}}retrieveFilterValues(){return(0,m.z)([this.searchOptions$,this.currentPage]).pipe((0,f.n)(([at,Ut])=>this.searchService.getFacetValuesFor(this.filterConfig,Ut,at).pipe((0,W.ak)(),(0,B.M)(Vt=>{this.isLastPage$.next((0,x.Tn)(Vt?.next)),this.isAvailableForShowSearchText.next(Vt?.page?.length<Vt?.facetLimit&&(0,x.Tn)(Vt?.next))}))),(0,_.T)(at=>{let Ut=this.facetValues$.value;return this.collapseNextUpdate&&(this.showFirstPageOnly(),Ut=[],this.collapseNextUpdate=!1),1===at.pageInfo.currentPage&&(Ut=[]),Ut=[...Ut,at],Ut}),(0,B.M)(at=>{this.animationState="ready",this.facetValues$.next(at)}))}trackUpdate(at,Ut){return Ut?Ut._links.search.href:void 0}static{this.\u0275fac=function(Ut){return new(Ut||et)(t.rXU(I.S),t.rXU(T.U),t.rXU(k.o),t.rXU(Y.Ix),t.rXU(A.EN))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-facet-filter"]],inputs:{filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(Ut,Vt){},encapsulation:2})}}return et})();const z=(0,M.hZ)("facetLoad",[(0,M.wk)("ready",(0,M.iF)({opacity:1})),(0,M.wk)("loading",(0,M.iF)({opacity:0})),(0,M.kY)("loading <=> ready",(0,M.i0)(100))]);var te=n(22924),Z=n(92827),J=n(59780),Q=n(89417),ee=n(81648),le=n(22978),ne=n(25488);let fe=(()=>{class et{transform(at,Ut){if(isNaN(at)||(0,x.Im)(at)||0===at)return at;let Vt=Math.abs(at);const xn=Math.pow(10,1),os=at<0;let Is="";const Hs=[{key:"Q",value:Math.pow(10,15)},{key:"T",value:Math.pow(10,12)},{key:"B",value:Math.pow(10,9)},{key:"M",value:Math.pow(10,6)},{key:"K",value:1e3}];for(let As=0;As<Hs.length;As++){let ci=Vt/Hs[As].value;if(ci=Math.round(ci*xn)/xn,ci>=1){Vt=ci,Is=Hs[As].key;break}}return(os?"-":"")+Vt+Is}static{this.\u0275fac=function(Ut){return new(Ut||et)}}static{this.\u0275pipe=t.EJ8({name:"dsShortNumber",type:et,pure:!0,standalone:!0})}}return et})();n(54994);var ce=n(54196);const De=et=>[et],be=et=>({default:et});function me(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",1),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return Vt.announceFilter(),t.Njj(Vt.filterService.minimizeAll())}),t.j41(2,"label",2),t.nrm(3,"input",3),t.j41(4,"span",4)(5,"span",5),t.EFF(6),t.nI1(7,"dsShortNumber"),t.k0s(),t.EFF(8),t.nI1(9,"translate"),t.k0s()()()}if(2&et){const at=t.XpG();t.Y8G("tabIndex",-1)("routerLink",t.eq3(13,De,at.searchLink))("queryParams",t.bMT(1,6,at.addQueryParams$)),t.R7$(3),t.Y8G("checked",!1),t.R7$(3),t.JRh(t.bMT(7,8,at.filterValue.count)),t.R7$(2),t.SpI(" ",t.i5U(9,10,"search.filters."+at.filterConfig.name+"."+at.filterValue.value,t.eq3(15,be,at.filterValue.value))," ")}}let re=(()=>{class et{constructor(at,Ut,Vt,xn,os,Is,Hs){this.searchService=at,this.filterService=Ut,this.searchConfigService=Vt,this.router=xn,this.paginationService=os,this.liveRegionService=Is,this.translateService=Hs}ngOnInit(){this.paginationId=this.searchConfigService.paginationID,this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,_.T)(at=>!at)),this.addQueryParams$=this.updateAddParams()}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.getFacetValue())}getSearchLink(){return this.inPlaceSearch?(0,U.N)(this.router):this.searchService.getSearchLink()}updateAddParams(){return this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,this.getFacetValue())}getFacetValue(){return(0,ce.SB)(this.filterValue,this.filterConfig)}announceFilter(){const at=this.translateService.instant("search-facet-option.update.announcement",{filter:this.filterValue.value});this.liveRegionService.addMessage(at)}static{this.\u0275fac=function(Ut){return new(Ut||et)(t.rXU(I.S),t.rXU(T.U),t.rXU(R.g),t.rXU(Y.Ix),t.rXU(le.m),t.rXU(ne.A),t.rXU(u.c$))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-facet-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["class","d-flex flex-row",3,"tabIndex","routerLink","queryParams","click",4,"ngIf"],[1,"d-flex","flex-row",3,"click","tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"w-100","ps-1","break-facet"],[1,"float-end","badge","bg-secondary","rounded-pill","mt-1","ms-1"]],template:function(Ut,Vt){1&Ut&&(t.DNE(0,me,10,17,"a",0),t.nI1(1,"async")),2&Ut&&t.Y8G("ngIf",t.bMT(1,1,Vt.isVisible))},dependencies:[i.bT,Y.Wk,i.Jj,u.h,u.D9,fe],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}}return et})();n(15641);const Te=et=>[et],tt=et=>({default:et});let ht=(()=>{class et{constructor(at,Ut,Vt,xn,os){this.paginationService=at,this.router=Ut,this.searchFilterService=Vt,this.searchService=xn,this.searchConfigService=os}ngOnInit(){this.searchLink=this.getSearchLink(),this.removeQueryParams=this.updateRemoveParams()}updateRemoveParams(){return this.searchConfigService.unselectAppliedFilterParams(this.selectedValue.filter,this.selectedValue.value,this.selectedValue.operator)}getSearchLink(){return this.inPlaceSearch?(0,U.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(Ut){return new(Ut||et)(t.rXU(le.m),t.rXU(Y.Ix),t.rXU(T.U),t.rXU(I.S),t.rXU(R.g))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-facet-selected-option"]],inputs:{selectedValue:"selectedValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:7,vars:14,consts:[[1,"d-flex","flex-row",3,"click","tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"filter-value","ps-1","break-facet"]],template:function(Ut,Vt){1&Ut&&(t.j41(0,"a",0),t.nI1(1,"async"),t.bIt("click",function(){return Vt.searchFilterService.minimizeAll()}),t.j41(2,"label",1),t.nrm(3,"input",2),t.j41(4,"span",3),t.EFF(5),t.nI1(6,"translate"),t.k0s()()()),2&Ut&&(t.Y8G("tabIndex",-1)("routerLink",t.eq3(10,Te,Vt.searchLink))("queryParams",t.bMT(1,5,Vt.removeQueryParams)),t.R7$(3),t.Y8G("checked",!0),t.R7$(2),t.SpI(" ",t.i5U(6,7,"search.filters."+Vt.filterConfig.name+"."+Vt.selectedValue.value,t.eq3(12,tt,Vt.selectedValue.label))," "))},dependencies:[i.Jj,Y.Wk,u.h,u.D9],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}}return et})();function Fe(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-selected-option",7),2&et){const at=qe.$implicit,Ut=t.XpG();t.Y8G("selectedValue",at)("filterConfig",Ut.filterConfig)("inPlaceSearch",Ut.inPlaceSearch)}}function Et(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-option",9),2&et){const at=qe.$implicit,Ut=t.XpG(2);t.Y8G("filterConfig",Ut.filterConfig)("filterValue",at)("inPlaceSearch",Ut.inPlaceSearch)}}function Ye(et,qe){if(1&et&&(t.qex(0),t.j41(1,"div"),t.DNE(2,Et,1,3,"ds-search-facet-option",8),t.k0s(),t.bVm()),2&et){const at=qe.$implicit,Ut=t.XpG();t.R7$(),t.Y8G("@facetLoad",Ut.animationState),t.R7$(),t.Y8G("ngForOf",at.page)("ngForTrackBy",Ut.trackUpdate)}}function pt(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",10),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function Mt(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",11),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function Ne(et,qe){if(1&et){const at=t.RV6();t.j41(0,"ds-filter-input-suggestions",12),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Vt){t.eBV(at);const xn=t.XpG();return t.DH7(xn.filter,Vt)||(xn.filter=Vt),t.Njj(Vt)}),t.bIt("submitSuggestion",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.onSubmit(Vt))})("clickSuggestion",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.onClick(Vt))})("findSuggestions",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.findSuggestions(Vt))}),t.k0s()}if(2&et){const at=t.XpG();t.Y8G("suggestions",t.bMT(1,6,at.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+at.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+at.filterConfig.name+".label"))("action",at.currentUrl)("name",at.filterConfig.paramName),t.R50("ngModel",at.filter)}}let rt=(()=>{class et extends q{static{this.\u0275fac=(()=>{let at;return function(Vt){return(at||(at=t.xGo(et)))(Vt||et)}})()}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-authority-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:13,vars:15,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-start","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-end","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-start",3,"click"],["href","javascript:void(0);",1,"float-end",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"]],template:function(Ut,Vt){1&Ut&&(t.j41(0,"div")(1,"div",0),t.DNE(2,Fe,1,3,"ds-search-facet-selected-option",1),t.nI1(3,"async"),t.DNE(4,Ye,3,3,"ng-container",2),t.nI1(5,"async"),t.j41(6,"div",3),t.DNE(7,pt,3,3,"a",4),t.nI1(8,"async"),t.DNE(9,Mt,3,3,"a",5),t.nI1(10,"async"),t.k0s()(),t.DNE(11,Ne,4,12,"ds-filter-input-suggestions",6),t.nI1(12,"async"),t.k0s()),2&Ut&&(t.R7$(2),t.Y8G("ngForOf",t.bMT(3,5,Vt.selectedAppliedFilters$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,7,Vt.facetValues$)),t.R7$(3),t.Y8G("ngIf",!0!==t.bMT(8,9,Vt.isLastPage$)),t.R7$(2),t.Y8G("ngIf",t.bMT(10,11,Vt.currentPage)>1),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(12,13,Vt.isAvailableForShowSearchText)))},dependencies:[i.pM,ht,re,i.bT,ee.H,Q.YN,Q.me,Q.BC,Q.vS,i.Jj,u.h,u.D9],styles:[".filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-body-color)}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{text-decoration:none}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[z]}})}}return et})();function Gt(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-selected-option",6),2&et){const at=qe.$implicit,Ut=t.XpG();t.Y8G("selectedValue",at)("filterConfig",Ut.filterConfig)("inPlaceSearch",Ut.inPlaceSearch)}}function Zt(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-option",8),2&et){const at=qe.$implicit,Ut=t.XpG(2);t.Y8G("filterConfig",Ut.filterConfig)("filterValue",at)("inPlaceSearch",Ut.inPlaceSearch)}}function mt(et,qe){if(1&et&&(t.qex(0),t.j41(1,"div"),t.DNE(2,Zt,1,3,"ds-search-facet-option",7),t.k0s(),t.bVm()),2&et){const at=qe.$implicit,Ut=t.XpG();t.R7$(),t.Y8G("@facetLoad",Ut.animationState),t.R7$(),t.Y8G("ngForOf",at.page)("ngForTrackBy",Ut.trackUpdate)}}function Pt(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",9),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function Ce(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",10),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}let je=(()=>{class et extends q{static{this.\u0275fac=(()=>{let at;return function(Vt){return(at||(at=t.xGo(et)))(Vt||et)}})()}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-boolean-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:11,vars:12,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-start","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-end","href","javascript:void(0);",3,"click",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-start",3,"click"],["href","javascript:void(0);",1,"float-end",3,"click"]],template:function(Ut,Vt){1&Ut&&(t.j41(0,"div")(1,"div",0),t.DNE(2,Gt,1,3,"ds-search-facet-selected-option",1),t.nI1(3,"async"),t.DNE(4,mt,3,3,"ng-container",2),t.nI1(5,"async"),t.j41(6,"div",3),t.DNE(7,Pt,3,3,"a",4),t.nI1(8,"async"),t.DNE(9,Ce,3,3,"a",5),t.nI1(10,"async"),t.k0s()()()),2&Ut&&(t.R7$(2),t.Y8G("ngForOf",t.bMT(3,4,Vt.selectedAppliedFilters$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,6,Vt.facetValues$)),t.R7$(3),t.Y8G("ngIf",!0!==t.bMT(8,8,Vt.isLastPage$)),t.R7$(2),t.Y8G("ngIf",t.bMT(10,10,Vt.currentPage)>1))},dependencies:[i.pM,ht,re,i.bT,i.Jj,u.h,u.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[z]}})}}return et})();var ut=n(22806),hn=n(82640),an=n(32089),Pn=n(19506),yt=n(38443),Kt=n(58003);const Rt=et=>({name:et});function nn(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-selected-option",8),2&et){const at=qe.$implicit,Ut=t.XpG();t.Y8G("selectedValue",at)("filterConfig",Ut.filterConfig)("inPlaceSearch",Ut.inPlaceSearch)}}function gn(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-option",10),2&et){const at=qe.$implicit,Ut=t.XpG(2);t.Y8G("filterConfig",Ut.filterConfig)("filterValue",at)("inPlaceSearch",Ut.inPlaceSearch)}}function It(et,qe){if(1&et&&(t.qex(0),t.j41(1,"div"),t.DNE(2,gn,1,3,"ds-search-facet-option",9),t.k0s(),t.bVm()),2&et){const at=qe.$implicit,Ut=t.XpG();t.R7$(),t.Y8G("@facetLoad",Ut.animationState),t.R7$(),t.Y8G("ngForOf",at.page)("ngForTrackBy",Ut.trackUpdate)}}function zt(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",11),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function Yt(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",12),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function wt(et,qe){if(1&et){const at=t.RV6();t.j41(0,"ds-filter-input-suggestions",13),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Vt){t.eBV(at);const xn=t.XpG();return t.DH7(xn.filter,Vt)||(xn.filter=Vt),t.Njj(Vt)}),t.bIt("submitSuggestion",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.onSubmit(Vt))})("clickSuggestion",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.onClick(Vt))})("findSuggestions",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.findSuggestions(Vt))}),t.k0s()}if(2&et){const at=t.XpG();t.Y8G("suggestions",t.bMT(1,6,at.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+at.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+at.filterConfig.name+".label"))("action",at.currentUrl)("name",at.filterConfig.paramName),t.R50("ngModel",at.filter)}}function bt(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",14),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showVocabularyTree())}),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"lowercase"),t.nI1(4,"translate"),t.k0s()}if(2&et){const at=t.XpG();t.Mz_("id","show-",at.filterConfig.name,"-tree"),t.R7$(),t.SpI(" ",t.i5U(4,7,"search.filters.filter.show-tree",t.eq3(10,Rt,t.bMT(3,5,t.bMT(2,3,"search.filters.filter."+at.filterConfig.name+".head")))),"\n")}}let Jt=(()=>{class et extends q{constructor(at,Ut,Vt,xn,os,Is,Hs,As){super(at,Ut,Vt,xn,As),this.searchService=at,this.filterService=Ut,this.rdbs=Vt,this.router=xn,this.modalService=os,this.vocabularyService=Is,this.appConfig=Hs,this.searchConfigService=As}onSubmit(at){super.onSubmit((0,ce.mq)(at,"query"))}ngOnInit(){super.ngOnInit();const at=this.getVocabularyEntry();(0,x.a4)(at)&&(this.vocabularyExists$=this.vocabularyService.searchTopEntries(at,new an.Q,!0,!1).pipe((0,E.p)(Ut=>Ut.hasCompleted),(0,C.s)(1),(0,_.T)(Ut=>Ut.hasSucceeded)))}showVocabularyTree(){const at=this.modalService.open(yt._,{size:"lg",windowClass:"treeview"});at.componentInstance.vocabularyOptions={name:this.getVocabularyEntry(),closed:!0},at.componentInstance.showAdd=!1,this.subs.push((0,ut.H)(at.result).pipe((0,f.n)(Ut=>this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,Ut.value,"equals")),(0,C.s)(1)).subscribe(Ut=>{this.router.navigate([this.searchService.getSearchLink()],{queryParams:Ut})}))}getVocabularyEntry(){const at=this.appConfig.vocabularies.filter(Ut=>Ut.filter===this.filterConfig.name);if(at.length>0&&!0===at[0].enabled)return at[0].vocabulary}static{this.\u0275fac=function(Ut){return new(Ut||et)(t.rXU(I.S),t.rXU(T.U),t.rXU(k.o),t.rXU(Y.Ix),t.rXU(Kt.Bq),t.rXU(Pn.g),t.rXU(hn.vQ),t.rXU(A.EN))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-hierarchy-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:15,vars:18,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-start","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-end","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions",4,"ngIf"],["href","javascript:void(0);",3,"id","click",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-start",3,"click"],["href","javascript:void(0);",1,"float-end",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"],["href","javascript:void(0);",3,"click","id"]],template:function(Ut,Vt){1&Ut&&(t.j41(0,"div")(1,"div",0),t.DNE(2,nn,1,3,"ds-search-facet-selected-option",1),t.nI1(3,"async"),t.DNE(4,It,3,3,"ng-container",2),t.nI1(5,"async"),t.j41(6,"div",3),t.DNE(7,zt,3,3,"a",4),t.nI1(8,"async"),t.DNE(9,Yt,3,3,"a",5),t.nI1(10,"async"),t.k0s()(),t.DNE(11,wt,4,12,"ds-filter-input-suggestions",6),t.nI1(12,"async"),t.k0s(),t.DNE(13,bt,5,12,"a",7),t.nI1(14,"async")),2&Ut&&(t.R7$(2),t.Y8G("ngForOf",t.bMT(3,6,Vt.selectedAppliedFilters$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,8,Vt.facetValues$)),t.R7$(3),t.Y8G("ngIf",!0!==t.bMT(8,10,Vt.isLastPage$)),t.R7$(2),t.Y8G("ngIf",t.bMT(10,12,Vt.currentPage)>1),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(12,14,Vt.isAvailableForShowSearchText)),t.R7$(2),t.Y8G("ngIf",t.bMT(14,16,Vt.vocabularyExists$)))},dependencies:[i.pM,ht,re,i.bT,ee.H,Q.YN,Q.me,Q.BC,Q.vS,i.Jj,i.GH,u.h,u.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[z]}})}}return et})();var Dt=function(et){return et.Range="range",et.Steps="steps",et.Positions="positions",et.Count="count",et.Values="values",et}(Dt||{}),Ft=function(et){return et[et.None=-1]="None",et[et.NoValue=0]="NoValue",et[et.LargeValue=1]="LargeValue",et[et.SmallValue=2]="SmallValue",et}(Ft||{});function xe(et){return"object"==typeof et&&"function"==typeof et.to}function Ve(et){et.parentElement.removeChild(et)}function Ke(et){return null!=et}function Be(et){et.preventDefault()}function ke(et){return"number"==typeof et&&!isNaN(et)&&isFinite(et)}function Le(et,qe,at){at>0&&(Tn(et,qe),setTimeout(function(){Bn(et,qe)},at))}function dt(et){return Math.max(Math.min(et,100),0)}function St(et){return Array.isArray(et)?et:[et]}function ln(et){var qe=(et=String(et)).split(".");return qe.length>1?qe[1].length:0}function Tn(et,qe){et.classList&&!/\s/.test(qe)?et.classList.add(qe):et.className+=" "+qe}function Bn(et,qe){et.classList&&!/\s/.test(qe)?et.classList.remove(qe):et.className=et.className.replace(new RegExp("(^|\\b)"+qe.split(" ").join("|")+"(\\b|$)","gi")," ")}function wn(et){var qe=void 0!==window.pageXOffset,at="CSS1Compat"===(et.compatMode||"");return{x:qe?window.pageXOffset:at?et.documentElement.scrollLeft:et.body.scrollLeft,y:qe?window.pageYOffset:at?et.documentElement.scrollTop:et.body.scrollTop}}function Nn(et,qe){return 100/(qe-et)}function Jn(et,qe,at){return 100*qe/(et[at+1]-et[at])}function Cs(et,qe){for(var at=1;et>=qe[at];)at+=1;return at}var ss=function(){function et(qe,at,Ut){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[Ut||!1],this.xNumSteps=[!1],this.snap=at;var Vt,xn=[];for(Object.keys(qe).forEach(function(os){xn.push([St(qe[os]),os])}),xn.sort(function(os,Is){return os[0][0]-Is[0][0]}),Vt=0;Vt<xn.length;Vt++)this.handleEntryPoint(xn[Vt][1],xn[Vt][0]);for(this.xNumSteps=this.xSteps.slice(0),Vt=0;Vt<this.xNumSteps.length;Vt++)this.handleStepPoint(Vt,this.xNumSteps[Vt])}return et.prototype.getDistance=function(qe){for(var at=[],Ut=0;Ut<this.xNumSteps.length-1;Ut++)at[Ut]=Jn(this.xVal,qe,Ut);return at},et.prototype.getAbsoluteDistance=function(qe,at,Ut){var Vt=0;if(qe<this.xPct[this.xPct.length-1])for(;qe>this.xPct[Vt+1];)Vt++;else qe===this.xPct[this.xPct.length-1]&&(Vt=this.xPct.length-2);!Ut&&qe===this.xPct[Vt+1]&&Vt++,null===at&&(at=[]);var xn,os=1,Is=at[Vt],Hs=0,As=0,ci=0,fo=0;for(xn=Ut?(qe-this.xPct[Vt])/(this.xPct[Vt+1]-this.xPct[Vt]):(this.xPct[Vt+1]-qe)/(this.xPct[Vt+1]-this.xPct[Vt]);Is>0;)Hs=this.xPct[Vt+1+fo]-this.xPct[Vt+fo],at[Vt+fo]*os+100-100*xn>100?(As=Hs*xn,os=(Is-100*xn)/at[Vt+fo],xn=1):(As=at[Vt+fo]*Hs/100*os,os=0),Ut?(ci-=As,this.xPct.length+fo>=1&&fo--):(ci+=As,this.xPct.length-fo>=1&&fo++),Is=at[Vt+fo]*os;return qe+ci},et.prototype.toStepping=function(qe){return function ds(et,qe,at){if(at>=et.slice(-1)[0])return 100;var Ut=Cs(at,et),os=qe[Ut-1],Is=qe[Ut];return os+function Gs(et,qe){return Jn(et,et[0]<0?qe+Math.abs(et[0]):qe-et[0],0)}([et[Ut-1],et[Ut]],at)/Nn(os,Is)}(this.xVal,this.xPct,qe)},et.prototype.fromStepping=function(qe){return function dn(et,qe,at){if(at>=100)return et.slice(-1)[0];var Ut=Cs(at,qe),os=qe[Ut-1];return function cs(et,qe){return qe*(et[1]-et[0])/100+et[0]}([et[Ut-1],et[Ut]],(at-os)*Nn(os,qe[Ut]))}(this.xVal,this.xPct,qe)},et.prototype.getStep=function(qe){return function En(et,qe,at,Ut){if(100===Ut)return Ut;var Vt=Cs(Ut,et),xn=et[Vt-1],os=et[Vt];return at?Ut-xn>(os-xn)/2?os:xn:qe[Vt-1]?et[Vt-1]+function Qe(et,qe){return Math.round(et/qe)*qe}(Ut-et[Vt-1],qe[Vt-1]):Ut}(this.xPct,this.xSteps,this.snap,qe)},et.prototype.getDefaultStep=function(qe,at,Ut){var Vt=Cs(qe,this.xPct);return(100===qe||at&&qe===this.xPct[Vt-1])&&(Vt=Math.max(Vt-1,1)),(this.xVal[Vt]-this.xVal[Vt-1])/Ut},et.prototype.getNearbySteps=function(qe){var at=Cs(qe,this.xPct);return{stepBefore:{startValue:this.xVal[at-2],step:this.xNumSteps[at-2],highestStep:this.xHighestCompleteStep[at-2]},thisStep:{startValue:this.xVal[at-1],step:this.xNumSteps[at-1],highestStep:this.xHighestCompleteStep[at-1]},stepAfter:{startValue:this.xVal[at],step:this.xNumSteps[at],highestStep:this.xHighestCompleteStep[at]}}},et.prototype.countStepDecimals=function(){var qe=this.xNumSteps.map(ln);return Math.max.apply(null,qe)},et.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},et.prototype.convert=function(qe){return this.getStep(this.toStepping(qe))},et.prototype.handleEntryPoint=function(qe,at){var Ut;if(!ke(Ut="min"===qe?0:"max"===qe?100:parseFloat(qe))||!ke(at[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(Ut),this.xVal.push(at[0]);var Vt=Number(at[1]);Ut?this.xSteps.push(!isNaN(Vt)&&Vt):isNaN(Vt)||(this.xSteps[0]=Vt),this.xHighestCompleteStep.push(0)},et.prototype.handleStepPoint=function(qe,at){if(at){if(this.xVal[qe]===this.xVal[qe+1])return void(this.xSteps[qe]=this.xHighestCompleteStep[qe]=this.xVal[qe]);this.xSteps[qe]=Jn([this.xVal[qe],this.xVal[qe+1]],at,0)/Nn(this.xPct[qe],this.xPct[qe+1]);var Vt=Math.ceil(Number(((this.xVal[qe+1]-this.xVal[qe])/this.xNumSteps[qe]).toFixed(3))-1);this.xHighestCompleteStep[qe]=this.xVal[qe]+this.xNumSteps[qe]*Vt}},et}(),Ls={to:function(et){return void 0===et?"":et.toFixed(2)},from:Number},li={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},_t={tooltips:".__tooltips",aria:".__aria"};function Ht(et,qe){if(!ke(qe))throw new Error("noUiSlider: 'step' is not numeric.");et.singleStep=qe}function We(et,qe){if(!ke(qe))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");et.keyboardPageMultiplier=qe}function sn(et,qe){if(!ke(qe))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");et.keyboardMultiplier=qe}function lt(et,qe){if(!ke(qe))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");et.keyboardDefaultStep=qe}function gt(et,qe){if("object"!=typeof qe||Array.isArray(qe))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===qe.min||void 0===qe.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");et.spectrum=new ss(qe,et.snap||!1,et.singleStep)}function Ct(et,qe){if(qe=St(qe),!Array.isArray(qe)||!qe.length)throw new Error("noUiSlider: 'start' option is incorrect.");et.handles=qe.length,et.start=qe}function Wt(et,qe){if("boolean"!=typeof qe)throw new Error("noUiSlider: 'snap' option must be a boolean.");et.snap=qe}function fn(et,qe){if("boolean"!=typeof qe)throw new Error("noUiSlider: 'animate' option must be a boolean.");et.animate=qe}function An(et,qe){if("number"!=typeof qe)throw new Error("noUiSlider: 'animationDuration' option must be a number.");et.animationDuration=qe}function Yn(et,qe){var Ut,at=[!1];if("lower"===qe?qe=[!0,!1]:"upper"===qe&&(qe=[!1,!0]),!0===qe||!1===qe){for(Ut=1;Ut<et.handles;Ut++)at.push(qe);at.push(!1)}else{if(!Array.isArray(qe)||!qe.length||qe.length!==et.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");at=qe}et.connect=at}function $n(et,qe){switch(qe){case"horizontal":et.ort=0;break;case"vertical":et.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function _s(et,qe){if(!ke(qe))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==qe&&(et.margin=et.spectrum.getDistance(qe))}function Ps(et,qe){if(!ke(qe))throw new Error("noUiSlider: 'limit' option must be numeric.");if(et.limit=et.spectrum.getDistance(qe),!et.limit||et.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Ms(et,qe){var at;if(!ke(qe)&&!Array.isArray(qe))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(qe)&&2!==qe.length&&!ke(qe[0])&&!ke(qe[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==qe){for(Array.isArray(qe)||(qe=[qe,qe]),et.padding=[et.spectrum.getDistance(qe[0]),et.spectrum.getDistance(qe[1])],at=0;at<et.spectrum.xNumSteps.length-1;at++)if(et.padding[0][at]<0||et.padding[1][at]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");if((qe[0]+qe[1])/(et.spectrum.xVal[et.spectrum.xVal.length-1]-et.spectrum.xVal[0])>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function hs(et,qe){switch(qe){case"ltr":et.dir=0;break;case"rtl":et.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function bs(et,qe){if("string"!=typeof qe)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var at=qe.indexOf("tap")>=0,Ut=qe.indexOf("drag")>=0,Vt=qe.indexOf("fixed")>=0,xn=qe.indexOf("snap")>=0,os=qe.indexOf("hover")>=0,Is=qe.indexOf("unconstrained")>=0,Hs=qe.indexOf("invert-connects")>=0,As=qe.indexOf("drag-all")>=0,ci=qe.indexOf("smooth-steps")>=0;if(Vt){if(2!==et.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");_s(et,et.start[1]-et.start[0])}if(Hs&&2!==et.handles)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(Is&&(et.margin||et.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");et.events={tap:at||xn,drag:Ut,dragAll:As,smoothSteps:ci,fixed:Vt,snap:xn,hover:os,unconstrained:Is,invertConnects:Hs}}function Oi(et,qe){if(!1!==qe)if(!0===qe||xe(qe)){et.tooltips=[];for(var at=0;at<et.handles;at++)et.tooltips.push(qe)}else{if((qe=St(qe)).length!==et.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");qe.forEach(function(Ut){if("boolean"!=typeof Ut&&!xe(Ut))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),et.tooltips=qe}}function Hi(et,qe){if(qe.length!==et.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");et.handleAttributes=qe}function Li(et,qe){if(!xe(qe))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");et.ariaFormat=qe}function $i(et,qe){if(!function ot(et){return xe(et)&&"function"==typeof et.from}(qe))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");et.format=qe}function Bo(et,qe){if("boolean"!=typeof qe)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");et.keyboardSupport=qe}function to(et,qe){et.documentElement=qe}function Rs(et,qe){if("string"!=typeof qe&&!1!==qe)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");et.cssPrefix=qe}function Qs(et,qe){if("object"!=typeof qe)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof et.cssPrefix?(et.cssClasses={},Object.keys(qe).forEach(function(at){et.cssClasses[at]=et.cssPrefix+qe[at]})):et.cssClasses=qe}function Yi(et){var qe={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Ls,format:Ls},at={step:{r:!1,t:Ht},keyboardPageMultiplier:{r:!1,t:We},keyboardMultiplier:{r:!1,t:sn},keyboardDefaultStep:{r:!1,t:lt},start:{r:!0,t:Ct},connect:{r:!0,t:Yn},direction:{r:!0,t:hs},snap:{r:!1,t:Wt},animate:{r:!1,t:fn},animationDuration:{r:!1,t:An},range:{r:!0,t:gt},orientation:{r:!1,t:$n},margin:{r:!1,t:_s},limit:{r:!1,t:Ps},padding:{r:!1,t:Ms},behaviour:{r:!0,t:bs},ariaFormat:{r:!1,t:Li},format:{r:!1,t:$i},tooltips:{r:!1,t:Oi},keyboardSupport:{r:!0,t:Bo},documentElement:{r:!1,t:to},cssPrefix:{r:!0,t:Rs},cssClasses:{r:!0,t:Qs},handleAttributes:{r:!1,t:Hi}},Ut={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:li,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};et.format&&!et.ariaFormat&&(et.ariaFormat=et.format),Object.keys(at).forEach(function(Hs){if(Ke(et[Hs])||void 0!==Ut[Hs])at[Hs].t(qe,Ke(et[Hs])?et[Hs]:Ut[Hs]);else if(at[Hs].r)throw new Error("noUiSlider: '"+Hs+"' is required.")}),qe.pips=et.pips;var Vt=document.createElement("div");return qe.transformRule=void 0!==Vt.style.transform?"transform":void 0!==Vt.style.msTransform?"msTransform":"webkitTransform",qe.style=[["left","top"],["right","bottom"]][qe.dir][qe.ort],qe}function _r(et,qe,at){var Is,Hs,As,ci,fo,bi,Ut=function ct(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}(),xn=function pn(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}()&&function vt(){var et=!1;try{var qe=Object.defineProperty({},"passive",{get:function(){et=!0}});window.addEventListener("test",null,qe)}catch{}return et}(),os=et,ni=qe.spectrum,bo=[],no=[],Io=[],so=0,Ys={},io=!1,tr=et.ownerDocument,mo=qe.documentElement||tr.documentElement,ko=tr.body,Ar="rtl"===tr.dir||1===qe.ort?0:100;function Do(kt,un){var xt=tr.createElement("div");return un&&Tn(xt,un),kt.appendChild(xt),xt}function Zo(kt,un){var xt=Do(kt,qe.cssClasses.origin),Rn=Do(xt,qe.cssClasses.handle);if(Do(Rn,qe.cssClasses.touchArea),Rn.setAttribute("data-handle",String(un)),qe.keyboardSupport&&(Rn.setAttribute("tabindex","0"),Rn.addEventListener("keydown",function(rs){return function cl(kt,un){if($e()||_e(un))return!1;var xt=["Left","Right"],Rn=["Down","Up"],Wn=["PageDown","PageUp"],rs=["Home","End"];qe.dir&&!qe.ort?xt.reverse():qe.ort&&!qe.dir&&(Rn.reverse(),Wn.reverse());var ao,Us=kt.key.replace("Arrow",""),Qn=Us===Wn[0],gi=Us===Wn[1],Ni=Us===Rn[0]||Us===xt[0]||Qn,Zi=Us===Rn[1]||Us===xt[1]||gi,kn=Us===rs[1];if(!(Ni||Zi||Us===rs[0]||kn))return!0;if(kt.preventDefault(),Zi||Ni){var lo=Ni?0:1,Je=Br(un)[lo];if(null===Je)return!1;!1===Je&&(Je=ni.getDefaultStep(no[un],Ni,qe.keyboardDefaultStep)),Je*=gi||Qn?qe.keyboardPageMultiplier:qe.keyboardMultiplier,Je=Math.max(Je,1e-7),ao=bo[un]+(Je*=Ni?-1:1)}else ao=kn?qe.spectrum.xVal[qe.spectrum.xVal.length-1]:qe.spectrum.xVal[0];return Ts(un,ni.toStepping(ao),!0,!0),di("slide",un),di("update",un),di("change",un),di("set",un),!1}(rs,un)})),void 0!==qe.handleAttributes){var Wn=qe.handleAttributes[un];Object.keys(Wn).forEach(function(rs){Rn.setAttribute(rs,Wn[rs])})}return Rn.setAttribute("role","slider"),Rn.setAttribute("aria-orientation",qe.ort?"vertical":"horizontal"),0===un?Tn(Rn,qe.cssClasses.handleLower):un===qe.handles-1&&Tn(Rn,qe.cssClasses.handleUpper),xt.handle=Rn,xt}function va(kt,un){return!!un&&Do(kt,qe.cssClasses.connect)}function oe(kt,un){return!(!qe.tooltips||!qe.tooltips[un])&&Do(kt.firstChild,qe.cssClasses.tooltip)}function $e(){return os.hasAttribute("disabled")}function _e(kt){return As[kt].hasAttribute("disabled")}function In(){bi&&(Cr("update"+_t.tooltips),bi.forEach(function(kt){kt&&Ve(kt)}),bi=null)}function ns(){In(),bi=As.map(oe),oo("update"+_t.tooltips,function(kt,un,xt){if(bi&&qe.tooltips&&!1!==bi[un]){var Rn=kt[un];!0!==qe.tooltips[un]&&(Rn=qe.tooltips[un].to(xt[un])),bi[un].innerHTML=Rn}})}function Qi(kt,un){return kt.map(function(xt){return ni.fromStepping(un?ni.getStep(xt):xt)})}function Di(){fo&&(Ve(fo),fo=null)}function ya(kt){Di();var un=function zi(kt){function un(Ni,Zi){return Number((Ni+Zi).toFixed(7))}var xt=function js(kt){if(kt.mode===Dt.Range||kt.mode===Dt.Steps)return ni.xVal;if(kt.mode===Dt.Count){if(kt.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var un=kt.values-1,xt=100/un,Rn=[];un--;)Rn[un]=un*xt;return Rn.push(100),Qi(Rn,kt.stepped)}return kt.mode===Dt.Positions?Qi(kt.values,kt.stepped):kt.mode===Dt.Values?kt.stepped?kt.values.map(function(Wn){return ni.fromStepping(ni.getStep(ni.toStepping(Wn)))}):kt.values:[]}(kt),Rn={},Wn=ni.xVal[0],rs=ni.xVal[ni.xVal.length-1],Us=!1,Qn=!1,gi=0;return xt=function At(et){return et.filter(function(qe){return!this[qe]&&(this[qe]=!0)},{})}(xt.slice().sort(function(Ni,Zi){return Ni-Zi})),xt[0]!==Wn&&(xt.unshift(Wn),Us=!0),xt[xt.length-1]!==rs&&(xt.push(rs),Qn=!0),xt.forEach(function(Ni,Zi){var ki,kn,ao,Je,Re,ze,Lt,Un,fs,lo=Ni,he=xt[Zi+1],Ri=kt.mode===Dt.Steps;for(Ri&&(ki=ni.xNumSteps[Zi]),ki||(ki=he-lo),void 0===he&&(he=lo),ki=Math.max(ki,1e-7),kn=lo;kn<=he;kn=un(kn,ki)){for(fs=(Re=(Je=ni.toStepping(kn))-gi)/(Un=Math.round(Re/(kt.density||1))),ao=1;ao<=Un;ao+=1)Rn[(ze=gi+ao*fs).toFixed(5)]=[ni.fromStepping(ze),0];Lt=xt.indexOf(kn)>-1?Ft.LargeValue:Ri?Ft.SmallValue:Ft.NoValue,!Zi&&Us&&kn!==he&&(Lt=0),kn===he&&Qn||(Rn[Je.toFixed(5)]=[kn,Lt]),gi=Je}}),Rn}(kt);return fo=os.appendChild(function Vo(kt,un,xt){var Rn,Wn,rs=tr.createElement("div"),Us=((Rn={})[Ft.None]="",Rn[Ft.NoValue]=qe.cssClasses.valueNormal,Rn[Ft.LargeValue]=qe.cssClasses.valueLarge,Rn[Ft.SmallValue]=qe.cssClasses.valueSub,Rn),Qn=((Wn={})[Ft.None]="",Wn[Ft.NoValue]=qe.cssClasses.markerNormal,Wn[Ft.LargeValue]=qe.cssClasses.markerLarge,Wn[Ft.SmallValue]=qe.cssClasses.markerSub,Wn),gi=[qe.cssClasses.valueHorizontal,qe.cssClasses.valueVertical],Ni=[qe.cssClasses.markerHorizontal,qe.cssClasses.markerVertical];function Zi(kn,ao){var lo=ao===qe.cssClasses.value;return ao+" "+(lo?gi:Ni)[qe.ort]+" "+(lo?Us:Qn)[kn]}return Tn(rs,qe.cssClasses.pips),Tn(rs,0===qe.ort?qe.cssClasses.pipsHorizontal:qe.cssClasses.pipsVertical),Object.keys(kt).forEach(function(kn){!function ki(kn,ao,lo){if((lo=un?un(ao,lo):lo)!==Ft.None){var he=Do(rs,!1);he.className=Zi(lo,qe.cssClasses.marker),he.style[qe.style]=kn+"%",lo>Ft.NoValue&&((he=Do(rs,!1)).className=Zi(lo,qe.cssClasses.value),he.setAttribute("data-value",String(ao)),he.style[qe.style]=kn+"%",he.innerHTML=String(xt.to(ao)))}}(kn,kt[kn][0],kt[kn][1])}),rs}(un,kt.filter,kt.format||{to:function(Wn){return String(Math.round(Wn))}}))}function Ea(){var kt=Is.getBoundingClientRect(),un="offset"+["Width","Height"][qe.ort];return 0===qe.ort?kt.width||Is[un]:kt.height||Is[un]}function wr(kt,un,xt,Rn){var Wn=function(Us){var Qn=function aa(kt,un,xt){var Rn=0===kt.type.indexOf("touch"),Wn=0===kt.type.indexOf("mouse"),rs=0===kt.type.indexOf("pointer"),Us=0,Qn=0;if(0===kt.type.indexOf("MSPointer")&&(rs=!0),"mousedown"===kt.type&&!kt.buttons&&!kt.touches)return!1;if(Rn){var gi=function(ki){var kn=ki.target;return kn===xt||xt.contains(kn)||kt.composed&&kt.composedPath().shift()===xt};if("touchstart"===kt.type){var Ni=Array.prototype.filter.call(kt.touches,gi);if(Ni.length>1)return!1;Us=Ni[0].pageX,Qn=Ni[0].pageY}else{var Zi=Array.prototype.find.call(kt.changedTouches,gi);if(!Zi)return!1;Us=Zi.pageX,Qn=Zi.pageY}}return un=un||wn(tr),(Wn||rs)&&(Us=kt.clientX+un.x,Qn=kt.clientY+un.y),kt.pageOffset=un,kt.points=[Us,Qn],kt.cursor=Wn||rs,kt}(Us,Rn.pageOffset,Rn.target||un);if(!Qn||$e()&&!Rn.doNotReject||function Zn(et,qe){return et.classList?et.classList.contains(qe):new RegExp("\\b"+qe+"\\b").test(et.className)}(os,qe.cssClasses.tap)&&!Rn.doNotReject||kt===Ut.start&&void 0!==Qn.buttons&&Qn.buttons>1||Rn.hover&&Qn.buttons)return!1;xn||Qn.preventDefault(),Qn.calcPoint=Qn.points[qe.ort],xt(Qn,Rn)},rs=[];return kt.split(" ").forEach(function(Us){un.addEventListener(Us,Wn,!!xn&&{passive:!0}),rs.push([Us,Wn])}),rs}function xl(kt){var un=kt-function st(et,qe){var at=et.getBoundingClientRect(),Ut=et.ownerDocument,Vt=Ut.documentElement,xn=wn(Ut);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(xn.x=0),qe?at.top+xn.y-Vt.clientTop:at.left+xn.x-Vt.clientLeft}(Is,qe.ort),xt=100*un/Ea();return xt=dt(xt),qe.dir?100-xt:xt}function Ll(kt,un){"mouseout"===kt.type&&"HTML"===kt.target.nodeName&&null===kt.relatedTarget&&Ya(kt,un)}function al(kt,un){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===kt.buttons&&0!==un.buttonsProperty)return Ya(kt,un);var xt=(qe.dir?-1:1)*(kt.calcPoint-un.startCalcPoint);Ja(xt>0,100*xt/un.baseSize,un.locations,un.handleNumbers,un.connect)}function Ya(kt,un){un.handle&&(Bn(un.handle,qe.cssClasses.active),so-=1),un.listeners.forEach(function(xt){mo.removeEventListener(xt[0],xt[1])}),0===so&&(Bn(os,qe.cssClasses.drag),la(),kt.cursor&&(ko.style.cursor="",ko.removeEventListener("selectstart",Be))),qe.events.smoothSteps&&(un.handleNumbers.forEach(function(xt){Ts(xt,no[xt],!0,!0,!1,!1)}),un.handleNumbers.forEach(function(xt){di("update",xt)})),un.handleNumbers.forEach(function(xt){di("change",xt),di("set",xt),di("end",xt)})}function Fa(kt,un){if(!un.handleNumbers.some(_e)){var xt;1===un.handleNumbers.length&&(so+=1,Tn(xt=As[un.handleNumbers[0]].children[0],qe.cssClasses.active)),kt.stopPropagation();var Wn=[],rs=wr(Ut.move,mo,al,{target:kt.target,handle:xt,connect:un.connect,listeners:Wn,startCalcPoint:kt.calcPoint,baseSize:Ea(),pageOffset:kt.pageOffset,handleNumbers:un.handleNumbers,buttonsProperty:kt.buttons,locations:no.slice()}),Us=wr(Ut.end,mo,Ya,{target:kt.target,handle:xt,listeners:Wn,doNotReject:!0,handleNumbers:un.handleNumbers}),Qn=wr("mouseout",mo,Ll,{target:kt.target,handle:xt,listeners:Wn,doNotReject:!0,handleNumbers:un.handleNumbers});Wn.push.apply(Wn,rs.concat(Us,Qn)),kt.cursor&&(ko.style.cursor=getComputedStyle(kt.target).cursor,As.length>1&&Tn(os,qe.cssClasses.drag),ko.addEventListener("selectstart",Be,!1)),un.handleNumbers.forEach(function(gi){di("start",gi)})}}function ll(kt){kt.stopPropagation();var un=xl(kt.calcPoint),xt=function xc(kt){var un=100,xt=!1;return As.forEach(function(Rn,Wn){if(!_e(Wn)){var rs=no[Wn],Us=Math.abs(rs-kt);(Us<un||Us<=un&&kt>rs||100===Us&&100===un)&&(xt=Wn,un=Us)}}),xt}(un);!1!==xt&&(qe.events.snap||Le(os,qe.cssClasses.tap,qe.animationDuration),Ts(xt,un,!0,!0),la(),di("slide",xt,!0),di("update",xt,!0),qe.events.snap?Fa(kt,{handleNumbers:[xt]}):(di("change",xt,!0),di("set",xt,!0)))}function Xa(kt){var un=xl(kt.calcPoint),xt=ni.getStep(un),Rn=ni.fromStepping(xt);Object.keys(Ys).forEach(function(Wn){"hover"===Wn.split(".")[0]&&Ys[Wn].forEach(function(rs){rs.call(Wi,Rn)})})}function oi(kt){kt.fixed||As.forEach(function(un,xt){wr(Ut.start,un.children[0],Fa,{handleNumbers:[xt]})}),kt.tap&&wr(Ut.start,Is,ll,{}),kt.hover&&wr(Ut.move,Is,Xa,{hover:!0}),kt.drag&&ci.forEach(function(un,xt){if(!1!==un&&0!==xt&&xt!==ci.length-1){var Rn=As[xt-1],Wn=As[xt],rs=[un],Us=[Rn,Wn],Qn=[xt-1,xt];Tn(un,qe.cssClasses.draggable),kt.fixed&&(rs.push(Rn.children[0]),rs.push(Wn.children[0])),kt.dragAll&&(Us=As,Qn=Io),rs.forEach(function(gi){wr(Ut.start,gi,Fa,{handles:Us,handleNumbers:Qn,connect:un})})}})}function oo(kt,un){Ys[kt]=Ys[kt]||[],Ys[kt].push(un),"update"===kt.split(".")[0]&&As.forEach(function(xt,Rn){di("update",Rn)})}function Cr(kt){var un=kt&&kt.split(".")[0],xt=un?kt.substring(un.length):kt;Object.keys(Ys).forEach(function(Rn){var Wn=Rn.split(".")[0],rs=Rn.substring(Wn.length);un&&un!==Wn||xt&&xt!==rs||function yo(kt){return kt===_t.aria||kt===_t.tooltips}(rs)&&xt!==rs||delete Ys[Rn]})}function di(kt,un,xt){Object.keys(Ys).forEach(function(Rn){var Wn=Rn.split(".")[0];kt===Wn&&Ys[Rn].forEach(function(rs){rs.call(Wi,bo.map(qe.format.to),un,bo.slice(),xt||!1,no.slice(),Wi)})})}function Ca(kt,un,xt,Rn,Wn,rs,Us){var Qn;return As.length>1&&!qe.events.unconstrained&&(Rn&&un>0&&(Qn=ni.getAbsoluteDistance(kt[un-1],qe.margin,!1),xt=Math.max(xt,Qn)),Wn&&un<As.length-1&&(Qn=ni.getAbsoluteDistance(kt[un+1],qe.margin,!0),xt=Math.min(xt,Qn))),As.length>1&&qe.limit&&(Rn&&un>0&&(Qn=ni.getAbsoluteDistance(kt[un-1],qe.limit,!1),xt=Math.min(xt,Qn)),Wn&&un<As.length-1&&(Qn=ni.getAbsoluteDistance(kt[un+1],qe.limit,!0),xt=Math.max(xt,Qn))),qe.padding&&(0===un&&(Qn=ni.getAbsoluteDistance(0,qe.padding[0],!1),xt=Math.max(xt,Qn)),un===As.length-1&&(Qn=ni.getAbsoluteDistance(100,qe.padding[1],!0),xt=Math.min(xt,Qn))),Us||(xt=ni.getStep(xt)),!((xt=dt(xt))===kt[un]&&!rs)&&xt}function ba(kt,un){var xt=qe.ort;return(xt?un:kt)+", "+(xt?kt:un)}function Ja(kt,un,xt,Rn,Wn){var rs=xt.slice(),Us=Rn[0],Qn=qe.events.smoothSteps,gi=[!kt,kt],Ni=[kt,!kt];Rn=Rn.slice(),kt&&Rn.reverse(),Rn.length>1?Rn.forEach(function(ki,kn){var ao=Ca(rs,ki,rs[ki]+un,gi[kn],Ni[kn],!1,Qn);!1===ao?un=0:(un=ao-rs[ki],rs[ki]=ao)}):gi=Ni=[!0];var Zi=!1;Rn.forEach(function(ki,kn){Zi=Ts(ki,xt[ki]+un,gi[kn],Ni[kn],!1,Qn)||Zi}),Zi&&(Rn.forEach(function(ki){di("update",ki),di("slide",ki)}),null!=Wn&&di("drag",Us))}function ic(kt,un){return qe.dir?100-kt-un:kt}function la(){Io.forEach(function(kt){As[kt].style.zIndex=String(3+(As.length+(no[kt]>50?-1:1)*kt))})}function Ts(kt,un,xt,Rn,Wn,rs){return Wn||(un=Ca(no,kt,un,xt,Rn,!1,rs)),!1!==un&&(function vd(kt,un){no[kt]=un,bo[kt]=ni.fromStepping(un);var Rn="translate("+ba(ic(un,0)-Ar+"%","0")+")";if(As[kt].style[qe.transformRule]=Rn,qe.events.invertConnects&&no.length>1){var Wn=no.every(function(rs,Us,Qn){return 0===Us||rs>=Qn[Us-1]});if(io!==!Wn)return void function nr(){io=!io,Yn(qe,qe.connect.map(function(kt){return!kt})),Da()}()}ea(kt),ea(kt+1),io&&(ea(kt-1),ea(kt+2))}(kt,un),!0)}function ea(kt){if(ci[kt]){var un=no.slice();io&&un.sort(function(Qn,gi){return Qn-gi});var xt=0,Rn=100;0!==kt&&(xt=un[kt-1]),kt!==ci.length-1&&(Rn=un[kt]);var Wn=Rn-xt,rs="translate("+ba(ic(xt,Wn)+"%","0")+")",Us="scale("+ba(Wn/100,"1")+")";ci[kt].style[qe.transformRule]=rs+" "+Us}}function Nl(kt,un){return null===kt||!1===kt||void 0===kt||("number"==typeof kt&&(kt=String(kt)),!1!==(kt=qe.format.from(kt))&&(kt=ni.toStepping(kt)),!1===kt||isNaN(kt))?no[un]:kt}function ja(kt,un,xt){var Rn=St(kt),Wn=void 0===no[0];un=void 0===un||un,qe.animate&&!Wn&&Le(os,qe.cssClasses.tap,qe.animationDuration),Io.forEach(function(Qn){Ts(Qn,Nl(Rn[Qn],Qn),!0,!1,xt)});var rs=1===Io.length?0:1;if(Wn&&ni.hasNoSize()&&(xt=!0,no[0]=0,Io.length>1)){var Us=100/(Io.length-1);Io.forEach(function(Qn){no[Qn]=Qn*Us})}for(;rs<Io.length;++rs)Io.forEach(function(Qn){Ts(Qn,no[Qn],!0,!0,xt)});la(),Io.forEach(function(Qn){di("update",Qn),null!==Rn[Qn]&&un&&di("set",Qn)})}function ca(kt){if(void 0===kt&&(kt=!1),kt)return 1===bo.length?bo[0]:bo.slice(0);var un=bo.map(qe.format.to);return 1===un.length?un[0]:un}function Br(kt){var un=no[kt],xt=ni.getNearbySteps(un),Rn=bo[kt],Wn=xt.thisStep.step,rs=null;if(qe.snap)return[Rn-xt.stepBefore.startValue||null,xt.stepAfter.startValue-Rn||null];!1!==Wn&&Rn+Wn>xt.stepAfter.startValue&&(Wn=xt.stepAfter.startValue-Rn),rs=Rn>xt.thisStep.startValue?xt.thisStep.step:!1!==xt.stepBefore.step&&Rn-xt.stepBefore.highestStep,100===un?Wn=null:0===un&&(rs=null);var Us=ni.countStepDecimals();return null!==Wn&&!1!==Wn&&(Wn=Number(Wn.toFixed(Us))),null!==rs&&!1!==rs&&(rs=Number(rs.toFixed(Us))),[rs,Wn]}function Da(){for(;Hs.firstChild;)Hs.removeChild(Hs.firstChild);for(var kt=0;kt<=qe.handles;kt++)ci[kt]=va(Hs,qe.connect[kt]),ea(kt);oi({drag:qe.events.drag,fixed:!0})}!function br(){Is=function Xe(kt){return Tn(kt,qe.cssClasses.target),Tn(kt,0===qe.dir?qe.cssClasses.ltr:qe.cssClasses.rtl),Tn(kt,0===qe.ort?qe.cssClasses.horizontal:qe.cssClasses.vertical),Tn(kt,"rtl"===getComputedStyle(kt).direction?qe.cssClasses.textDirectionRtl:qe.cssClasses.textDirectionLtr),Do(kt,qe.cssClasses.base)}(os),function Ge(kt,un){Hs=Do(un,qe.cssClasses.connects),As=[],(ci=[]).push(va(Hs,kt[0]));for(var xt=0;xt<qe.handles;xt++)As.push(Zo(un,xt)),Io[xt]=xt,ci.push(va(Hs,kt[xt+1]))}(qe.connect,Is),oi(qe.events),ja(qe.start),qe.pips&&ya(qe.pips),qe.tooltips&&ns(),function ps(){Cr("update"+_t.aria),oo("update"+_t.aria,function(kt,un,xt,Rn,Wn){Io.forEach(function(rs){var Us=As[rs],Qn=Ca(no,rs,0,!0,!0,!0),gi=Ca(no,rs,100,!0,!0,!0),Ni=Wn[rs],Zi=String(qe.ariaFormat.to(xt[rs]));Qn=ni.fromStepping(Qn).toFixed(1),gi=ni.fromStepping(gi).toFixed(1),Ni=ni.fromStepping(Ni).toFixed(1),Us.children[0].setAttribute("aria-valuemin",Qn),Us.children[0].setAttribute("aria-valuemax",gi),Us.children[0].setAttribute("aria-valuenow",Ni),Us.children[0].setAttribute("aria-valuetext",Zi)})})}()}();var Wi={destroy:function Fl(){for(Cr(_t.aria),Cr(_t.tooltips),Object.keys(qe.cssClasses).forEach(function(kt){Bn(os,qe.cssClasses[kt])});os.firstChild;)os.removeChild(os.firstChild);delete os.noUiSlider},steps:function Qa(){return Io.map(Br)},on:oo,off:Cr,get:ca,set:ja,setHandle:function qo(kt,un,xt,Rn){if(!((kt=Number(kt))>=0&&kt<Io.length))throw new Error("noUiSlider: invalid handle number, got: "+kt);Ts(kt,Nl(un,kt),!0,!0,Rn),di("update",kt),xt&&di("set",kt)},reset:function Lc(kt){ja(qe.start,kt)},disable:function Tt(kt){null!=kt?(As[kt].setAttribute("disabled",""),As[kt].handle.removeAttribute("tabindex")):(os.setAttribute("disabled",""),As.forEach(function(un){un.handle.removeAttribute("tabindex")}))},enable:function Xt(kt){null!=kt?(As[kt].removeAttribute("disabled"),As[kt].handle.setAttribute("tabindex","0")):(os.removeAttribute("disabled"),As.forEach(function(un){un.removeAttribute("disabled"),un.handle.setAttribute("tabindex","0")}))},__moveHandles:function(kt,un,xt){Ja(kt,un,no,xt)},options:at,updateOptions:function ro(kt,un){var xt=ca(),Rn=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];Rn.forEach(function(rs){void 0!==kt[rs]&&(at[rs]=kt[rs])});var Wn=Yi(at);Rn.forEach(function(rs){void 0!==kt[rs]&&(qe[rs]=Wn[rs])}),ni=Wn.spectrum,qe.margin=Wn.margin,qe.limit=Wn.limit,qe.padding=Wn.padding,qe.pips?ya(qe.pips):Di(),qe.tooltips?ns():In(),no=[],ja(Ke(kt.start)?kt.start:xt,un),kt.connect&&Da()},target:os,removePips:Di,removeTooltips:In,getPositions:function(){return no.slice()},getTooltips:function(){return bi},getOrigins:function(){return As},pips:ya};return Wi}class Dn{to(qe){return String(parseFloat(parseFloat(String(qe)).toFixed(2)))}from(qe){return parseFloat(qe)}}let on=(()=>{class et{constructor(at,Ut,Vt){this.ngZone=at,this.el=Ut,this.renderer=Vt,this.handles=[],this.config={},this.change=new t.bkB(!0),this.update=new t.bkB(!0),this.slide=new t.bkB(!0),this.set=new t.bkB(!0),this.start=new t.bkB(!0),this.end=new t.bkB(!0),this.onChange=Function.prototype,this.cleanups=[],this.eventHandler=(xn,os,Is,Hs)=>{let As=this.toValues(os),ci=!1;void 0!==this.value?(Array.isArray(As)&&this.value[Is]!=As[Is]&&(ci=!0),!Array.isArray(As)&&this.value!=As&&(ci=!0),ci&&this.ngZone.run(()=>{xn.observers.length>0&&xn.emit(As),this.onChange(As)}),Array.isArray(As)?this.value[Is]=As[Is]:this.value=As):this.value=As},this.defaultKeyHandler=xn=>{let bi,os=this.slider.steps(),Is=parseInt(xn.target.getAttribute("data-handle")),Hs=1,As=1,ci=0,fo=0;switch(xn.which){case 34:case 33:As=this.config.pageSteps;break;case 40:case 37:Hs=-1,ci=os[Is][0],xn.preventDefault();break;case 38:case 39:ci=os[Is][1],xn.preventDefault()}fo=Hs*As*ci,Array.isArray(this.value)?(bi=[...this.value],bi[Is]=bi[Is]+fo):bi=this.value+fo,this.slider.set(bi)}}ngOnChanges(at){this.slider&&(at.min||at.max||at.step||at.range)&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.updateOptions({range:Object.assign({},{min:this.min,max:this.max},this.range||{}),step:this.step})})})}ngOnDestroy(){for(this.slider.destroy();this.cleanups.length;)this.cleanups.pop()?.()}toValues(at){let Ut=at.map(this.config.format.from);return 1==Ut.length?Ut[0]:Ut}writeValue(at){this.slider?this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.set(at)})}):null!==at&&(this.value=at,this.createSlider(at))}registerOnChange(at){this.onChange=at}registerOnTouched(at){}setDisabledState(at){at?this.renderer.setAttribute(this.el.nativeElement.childNodes[0],"disabled","true"):this.renderer.removeAttribute(this.el.nativeElement.childNodes[0],"disabled")}createSlider(at){let Ut=JSON.parse(JSON.stringify({behaviour:this.behaviour,connect:this.connect,limit:this.limit,start:at,step:this.step,pageSteps:this.pageSteps,keyboard:this.keyboard,onKeydown:this.onKeydown,range:this.range||this.config.range||{min:this.min,max:this.max},tooltips:this.tooltips,snap:this.snap,animate:this.animate}));if(Ut.tooltips=this.tooltips||this.config.tooltips,Ut.format=this.format||this.config.format||new Dn,this.ngZone.runOutsideAngular(()=>{this.slider=function Uo(et,qe){if(!et||!et.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+et);if(et.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var Ut=_r(et,Yi(qe),qe);return et.noUiSlider=Ut,Ut}(this.el.nativeElement.querySelector("div"),Object.assign(this.config,Ut))}),this.handles=[].slice.call(this.el.nativeElement.querySelectorAll(".noUi-handle")),this.config.keyboard){void 0===this.config.pageSteps&&(this.config.pageSteps=10);for(const Vt of this.handles){Vt.setAttribute("tabindex",0);const xn=this.config.onKeydown||this.defaultKeyHandler;this.ngZone.runOutsideAngular(()=>{this.cleanups.push(this.renderer.listen(Vt,"keydown",xn),this.renderer.listen(Vt,"click",()=>{Vt.focus()}))})}}this.slider.on("set",(Vt,xn,os)=>{this.eventHandler(this.set,Vt,xn,os)}),this.slider.on("update",(Vt,xn,os)=>{this.update.observers.length>0&&this.ngZone.run(()=>{this.update.emit(this.toValues(Vt))})}),this.slider.on("change",(Vt,xn,os)=>{this.change.observers.length>0&&this.ngZone.run(()=>{this.change.emit(this.toValues(Vt))})}),this.slider.on("slide",(Vt,xn,os)=>{this.eventHandler(this.slide,Vt,xn,os)}),this.slider.on("start",(Vt,xn,os)=>{this.start.observers.length>0&&this.ngZone.run(()=>{this.start.emit(this.toValues(Vt))})}),this.slider.on("end",(Vt,xn,os)=>{this.end.observers.length>0&&this.ngZone.run(()=>{this.end.emit(this.toValues(Vt))})})}}return et.\u0275fac=function(at){return new(at||et)(t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(t.sFG))},et.\u0275cmp=t.VBU({type:et,selectors:[["nouislider"]],hostVars:2,hostBindings:function(at,Ut){2&at&&t.AVh("ng2-nouislider",!0)},inputs:{disabled:"disabled",behaviour:"behaviour",connect:"connect",limit:"limit",min:"min",max:"max",snap:"snap",animate:"animate",range:"range",step:"step",format:"format",pageSteps:"pageSteps",config:"config",keyboard:"keyboard",onKeydown:"onKeydown",tooltips:"tooltips"},outputs:{change:"change",update:"update",slide:"slide",set:"set",start:"start",end:"end"},standalone:!0,features:[t.Jv_([{provide:Q.kq,useExisting:(0,t.Rfq)(()=>et),multi:!0}]),t.OA$,t.aNF],decls:1,vars:1,template:function(at,Ut){1&at&&t.nrm(0,"div"),2&at&&t.BMQ("disabled",!!Ut.disabled||void 0)},styles:["[_nghost-%COMP%]{display:block;margin-top:1rem;margin-bottom:1rem}"]}),et})();var Fn=n(12866),qn=n(56760),Ds=n(56386);const vi=".min",Ci=".max",vo=et=>[et];function hi(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",1),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.filterService.minimizeAll())}),t.j41(1,"span",2),t.EFF(2),t.k0s(),t.j41(3,"span",3)(4,"span",4),t.EFF(5),t.nI1(6,"dsShortNumber"),t.k0s()()()}if(2&et){const at=t.XpG();t.Y8G("routerLink",t.eq3(6,vo,at.searchLink))("queryParams",at.changeQueryParams),t.R7$(2),t.JRh(at.filterValue.label),t.R7$(3),t.JRh(t.bMT(6,4,at.filterValue.count))}}let vr=(()=>{class et{constructor(at,Ut,Vt,xn,os){this.searchService=at,this.filterService=Ut,this.searchConfigService=Vt,this.router=xn,this.paginationService=os}ngOnInit(){this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,_.T)(at=>!at)),this.sub=this.searchConfigService.searchOptions.subscribe(()=>{this.updateChangeParams()})}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.filterValue.value)}getSearchLink(){return this.inPlaceSearch?(0,U.N)(this.router):this.searchService.getSearchLink()}updateChangeParams(){const at=this.filterValue.value.split("-"),Ut=at.length>1?Number(at[0].trim()):this.filterValue.value,Vt=at.length>1?Number(at[1].trim()):this.filterValue.value,xn=this.paginationService.getPageParam(this.searchConfigService.paginationID);this.changeQueryParams={[this.filterConfig.paramName+vi]:[Ut],[this.filterConfig.paramName+Ci]:Vt===(new Date).getUTCFullYear()?null:[Vt],[xn]:1}}ngOnDestroy(){(0,x.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(Ut){return new(Ut||et)(t.rXU(I.S),t.rXU(T.U),t.rXU(R.g),t.rXU(Y.Ix),t.rXU(le.m))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-facet-range-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["class","d-flex flex-row","queryParamsHandling","merge",3,"routerLink","queryParams","click",4,"ngIf"],["queryParamsHandling","merge",1,"d-flex","flex-row",3,"click","routerLink","queryParams"],[1,"filter-value","px-1"],[1,"float-end","filter-value-count","ms-auto"],[1,"badge","bg-secondary","rounded-pill"]],template:function(Ut,Vt){1&Ut&&(t.DNE(0,hi,7,8,"a",0),t.nI1(1,"async")),2&Ut&&t.Y8G("ngIf",t.bMT(1,1,Vt.isVisible))},dependencies:[i.bT,Y.Wk,i.Jj,fe],styles:["a[_ngcontent-%COMP%]{color:var(--bs-link-color)}a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:var(--bs-link-hover-color)}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}"]})}}return et})();function ur(et,qe){if(1&et){const at=t.RV6();t.qex(0),t.j41(1,"nouislider",12),t.bIt("change",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.onSliderChange(Vt))})("keydown",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.startKeyboardControl())})("keyup",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.stopKeyboardControl())}),t.mxI("ngModelChange",function(Vt){t.eBV(at);const xn=t.XpG();return t.DH7(xn.range,Vt)||(xn.range=Vt),t.Njj(Vt)}),t.k0s(),t.bVm()}if(2&et){const at=t.XpG();t.R7$(),t.Y8G("connect",!0)("config",at.config)("min",at.min)("max",at.max)("step",1)("dsDebounce",250),t.R50("ngModel",at.range)}}function Xo(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-range-option",14),2&et){const at=qe.$implicit,Ut=t.XpG(2);t.Y8G("filterConfig",Ut.filterConfig)("filterValue",at)("inPlaceSearch",Ut.inPlaceSearch)}}function Xr(et,qe){if(1&et&&(t.qex(0),t.j41(1,"div"),t.DNE(2,Xo,1,3,"ds-search-facet-range-option",13),t.k0s(),t.bVm()),2&et){const at=qe.$implicit,Ut=t.XpG();t.R7$(),t.Y8G("@facetLoad",Ut.animationState),t.R7$(),t.Y8G("ngForOf",at.page)("ngForTrackBy",Ut.trackUpdate)}}let yr=(()=>{class et extends q{constructor(at,Ut,Vt,xn,os,Is,Hs,As){super(at,Ut,os,Vt,Hs),this.searchService=at,this.filterService=Ut,this.router=Vt,this.route=xn,this.rdbs=os,this.translateService=Is,this.searchConfigService=Hs,this.platformId=As,this.min=1950,this.max=(new Date).getUTCFullYear(),this.config={}}ngOnInit(){super.ngOnInit(),this.min=(0,Fn.zX)(this.filterConfig.minValue)||this.min,this.max=(0,Fn.zX)(this.filterConfig.maxValue)||this.max,this.minLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".min.placeholder"),this.maxLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".max.placeholder");const at=this.route.getQueryParameterValue(this.filterConfig.paramName+vi).pipe((0,h.Z)(void 0)),Ut=this.route.getQueryParameterValue(this.filterConfig.paramName+Ci).pipe((0,h.Z)(void 0));this.subs.push((0,m.z)([at,Ut]).pipe((0,_.T)(([Vt,xn])=>[(0,x.a4)(Vt)?Number(Vt):this.min,(0,x.a4)(xn)?Number(xn):this.max])).subscribe(Vt=>this.range=Vt)),this.config={handleAttributes:[{"aria-label":this.minLabel},{"aria-label":this.maxLabel}]}}onSliderChange(at){this.sliderRange=at}onSubmit(){if(this.keyboardControl)return;const at=this.range[0]!==this.min?[this.range[0]]:null,Ut=this.range[1]!==this.max?[this.range[1]]:null;this.router.navigate(this.getSearchLinkParts(),{queryParams:{[this.filterConfig.paramName+vi]:at,[this.filterConfig.paramName+Ci]:Ut},queryParamsHandling:"merge"}),this.filter=""}startKeyboardControl(){this.keyboardControl=!0}stopKeyboardControl(){this.keyboardControl=!1}shouldShowSlider(){return(0,i.UE)(this.platformId)}static{this.\u0275fac=function(Ut){return new(Ut||et)(t.rXU(I.S),t.rXU(T.U),t.rXU(Y.Ix),t.rXU(qn.v$),t.rXU(k.o),t.rXU(u.c$),t.rXU(A.EN),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-range-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:25,vars:25,consts:[["form","ngForm"],[1,"filters","py-2"],[1,"add-filter","row",3,"ngSubmit","action"],[1,"col-6","mb-3","mb-0"],[1,"form-label"],[1,"fw-bold"],["type","text",1,"form-control",3,"ngModelChange","ngModel","name","placeholder"],[1,"col-6"],["type","submit",1,"sr-only"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],["ngDefaultControl","",3,"change","keydown","keyup","ngModelChange","connect","config","min","max","step","dsDebounce","ngModel"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"]],template:function(Ut,Vt){if(1&Ut){const xn=t.RV6();t.j41(0,"div")(1,"div",1)(2,"form",2,0),t.bIt("ngSubmit",function(){return t.eBV(xn),t.Njj(Vt.onSubmit())}),t.j41(4,"div",3)(5,"label",4)(6,"span",5),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"input",6),t.mxI("ngModelChange",function(Is){return t.eBV(xn),t.DH7(Vt.range[0],Is)||(Vt.range[0]=Is),t.Njj(Is)}),t.k0s()()(),t.j41(10,"div",7)(11,"label",4)(12,"span",5),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"input",6),t.mxI("ngModelChange",function(Is){return t.eBV(xn),t.DH7(Vt.range[1],Is)||(Vt.range[1]=Is),t.Njj(Is)}),t.k0s()()(),t.j41(16,"button",8),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.DNE(19,ur,2,7,"ng-container",9)(20,Xr,3,3,"ng-container",10),t.nI1(21,"async"),t.j41(22,"button",11),t.bIt("click",function(){return t.eBV(xn),t.Njj(Vt.onSubmit())}),t.EFF(23),t.nI1(24,"translate"),t.k0s()()()}2&Ut&&(t.R7$(2),t.Y8G("action",Vt.currentUrl,t.B4B),t.R7$(5),t.SpI(" ",t.bMT(8,15,"search.filters.filter."+Vt.filterConfig.name+".min.label")," "),t.R7$(2),t.R50("ngModel",Vt.range[0]),t.Y8G("name",Vt.filterConfig.paramName+".min")("placeholder",Vt.minLabel),t.BMQ("aria-label",Vt.minLabel),t.R7$(4),t.SpI(" ",t.bMT(14,17,"search.filters.filter."+Vt.filterConfig.name+".max.label")," "),t.R7$(2),t.R50("ngModel",Vt.range[1]),t.Y8G("name",Vt.filterConfig.paramName+".max")("placeholder",Vt.maxLabel),t.BMQ("aria-label",Vt.maxLabel),t.R7$(2),t.SpI(" ",t.bMT(18,19,"search.filters.search.submit")," "),t.R7$(2),t.Y8G("ngIf",Vt.shouldShowSlider()),t.R7$(),t.Y8G("ngForOf",t.bMT(21,21,Vt.facetValues$)),t.R7$(3),t.SpI(" ",t.bMT(24,23,"search.filters.search.submit")," "))},dependencies:[Q.YN,Q.qT,Q.me,Q.BC,Q.cb,Q.vS,Q.cV,i.bT,on,Ds.R,i.pM,vr,i.Jj,u.h,u.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  html:not([dir=rtl]) .noUi-horizontal .noUi-handle{right:calc(var(--ds-slider-handle-width) / -2)}  .noUi-horizontal .noUi-handle{width:var(--ds-slider-handle-width)}  .noUi-horizontal .noUi-handle:before{left:calc((var(--ds-slider-handle-width) - 2px) / 2 - 2px)}  .noUi-horizontal .noUi-handle:after{left:calc((var(--ds-slider-handle-width) - 2px) / 2 + 2px)}  .noUi-horizontal .noUi-handle:focus{outline:none;box-shadow:var(--bs-input-btn-focus-box-shadow)}  .noUi-connect{background:var(--ds-slider-color)}  .noUi-target{padding:0 calc(var(--ds-slider-handle-width) / 2 - 1.5px);margin:0 1px}  .noUi-connect{margin:0 calc(-1 * var(--ds-slider-handle-width) / 2);width:calc(100% + var(--ds-slider-handle-width))}  .noUi-handle{border-color:var(--ds-slider-handle-color)}  .noUi-handle:before,   .noUi-handle:after{background-color:var(--ds-slider-handle-color)}"],data:{animation:[z]}})}}return et})();function Jo(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-selected-option",7),2&et){const at=qe.$implicit,Ut=t.XpG();t.Y8G("selectedValue",at)("filterConfig",Ut.filterConfig)("inPlaceSearch",Ut.inPlaceSearch)}}function Jr(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-option",9),2&et){const at=qe.$implicit,Ut=t.XpG(2);t.Y8G("filterConfig",Ut.filterConfig)("filterValue",at)("inPlaceSearch",Ut.inPlaceSearch)}}function er(et,qe){if(1&et&&(t.qex(0),t.j41(1,"div"),t.DNE(2,Jr,1,3,"ds-search-facet-option",8),t.k0s(),t.bVm()),2&et){const at=qe.$implicit,Ut=t.XpG();t.R7$(),t.Y8G("@facetLoad",Ut.animationState),t.R7$(),t.Y8G("ngForOf",at.page)("ngForTrackBy",Ut.trackUpdate)}}function Qr(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",10),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function po(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",11),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function Er(et,qe){if(1&et){const at=t.RV6();t.j41(0,"ds-filter-input-suggestions",12),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Vt){t.eBV(at);const xn=t.XpG();return t.DH7(xn.filter,Vt)||(xn.filter=Vt),t.Njj(Vt)}),t.bIt("submitSuggestion",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.onSubmit(Vt))})("clickSuggestion",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.onClick(Vt))})("findSuggestions",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.findSuggestions(Vt))}),t.k0s()}if(2&et){const at=t.XpG();t.Y8G("suggestions",t.bMT(1,6,at.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+at.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+at.filterConfig.name+".label"))("action",at.currentUrl)("name",at.filterConfig.paramName),t.R50("ngModel",at.filter)}}let Ks=(()=>{class et extends q{onSubmit(at){super.onSubmit((0,ce.mq)(at,"query"))}static{this.\u0275fac=(()=>{let at;return function(Vt){return(at||(at=t.xGo(et)))(Vt||et)}})()}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-text-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:13,vars:15,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-start","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-end","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-start",3,"click"],["href","javascript:void(0);",1,"float-end",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"]],template:function(Ut,Vt){1&Ut&&(t.j41(0,"div")(1,"div",0),t.DNE(2,Jo,1,3,"ds-search-facet-selected-option",1),t.nI1(3,"async"),t.DNE(4,er,3,3,"ng-container",2),t.nI1(5,"async"),t.j41(6,"div",3),t.DNE(7,Qr,3,3,"a",4),t.nI1(8,"async"),t.DNE(9,po,3,3,"a",5),t.nI1(10,"async"),t.k0s()(),t.DNE(11,Er,4,12,"ds-filter-input-suggestions",6),t.nI1(12,"async"),t.k0s()),2&Ut&&(t.R7$(2),t.Y8G("ngForOf",t.bMT(3,5,Vt.selectedAppliedFilters$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,7,Vt.facetValues$)),t.R7$(3),t.Y8G("ngIf",!0!==t.bMT(8,9,Vt.isLastPage$)),t.R7$(2),t.Y8G("ngIf",t.bMT(10,11,Vt.currentPage)>1),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(12,13,Vt.isAvailableForShowSearchText)))},dependencies:[i.pM,ht,re,i.bT,ee.H,Q.YN,Q.me,Q.BC,Q.vS,i.Jj,u.h,u.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[z]}})}}return et})();const hr=new Map;function jr(et,qe){}hr.set(J.R.text,Ks),hr.set(J.R.authority,rt),hr.set(J.R.boolean,je),hr.set(J.R.hierarchy,Jt),hr.set(J.R.range,yr);let Na=(()=>{class et extends te.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["filterConfig"],this.inputNames=["filterConfig","inPlaceSearch","refreshFilters","scope"]}getComponent(){return function Qo(et){return hr.get(et)}(this.filterConfig.filterType)}static{this.\u0275fac=(()=>{let at;return function(Vt){return(at||(at=t.xGo(et)))(Vt||et)}})()}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-facet-filter-wrapper"]],inputs:{filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(Ut,Vt){1&Ut&&t.DNE(0,jr,0,0,"ng-template",1,0,t.C5r)},dependencies:[Z.z],encapsulation:2})}}return et})(),ra=(()=>{class et{constructor(){this.value=0}next(){return++this.value}static{this.\u0275fac=function(Ut){return new(Ut||et)}}static{this.\u0275prov=t.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}}return et})();const rr=et=>({focus:et}),qr=(et,qe)=>({closed:et,notab:qe});function ma(et,qe){if(1&et){const at=t.RV6();t.j41(0,"div",1)(1,"button",2),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"translate"),t.nI1(6,"lowercase"),t.nI1(7,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.toggle())})("focusin",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.focusBox=!0)})("focusout",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.focusBox=!1)}),t.j41(8,"span",3),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.nrm(11,"i",4),t.nI1(12,"async"),t.nI1(13,"async"),t.nI1(14,"translate"),t.k0s(),t.j41(15,"div",5),t.nI1(16,"async"),t.bIt("@slide.start",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.startSlide(Vt))})("@slide.done",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.finishSlide(Vt))}),t.nrm(17,"ds-search-facet-filter-wrapper",6),t.k0s()()}if(2&et){const at=t.XpG();t.Y8G("id",at.regionId)("ngClass",t.eq3(39,rr,at.focusBox)),t.BMQ("aria-labelledby",at.toggleId),t.R7$(),t.Y8G("id",at.toggleId),t.BMQ("aria-controls",at.regionId)("aria-expanded",!0!==t.bMT(2,17,at.collapsed$))("aria-label",t.bMT(4,21,t.bMT(3,19,at.collapsed$)?"search.filters.filter.expand":"search.filters.filter.collapse")+" "+t.bMT(6,25,t.bMT(5,23,"search.filters.filter."+at.filter.name+".head")))("data-test",t.bMT(7,27,"filter-toggle")),t.R7$(8),t.SpI(" ",t.bMT(10,29,"search.filters.filter."+at.filter.name+".head")," "),t.R7$(2),t.Y8G("ngClass",t.bMT(12,31,at.collapsed$)?"fa-plus":"fa-minus")("title",t.bMT(14,35,t.bMT(13,33,at.collapsed$)?"search.filters.filter.expand":"search.filters.filter.collapse")),t.R7$(4),t.Y8G("@slide",t.bMT(16,37,at.collapsed$)?"collapsed":"expanded")("ngClass",t.l_i(41,qr,at.closed,at.notab)),t.R7$(2),t.Y8G("scope",at.scope)("filterConfig",at.filter)("inPlaceSearch",at.inPlaceSearch)("refreshFilters",at.refreshFilters)}}let _a=(()=>{class et{constructor(at,Ut,Vt,xn){this.filterService=at,this.searchService=Ut,this.searchConfigService=Vt,this.sequenceService=xn,this.isVisibilityComputed=new t.bkB,this.focusBox=!1,this.scope$=new e.t(void 0),this.subs=[],this.sequenceId=this.sequenceService.next()}ngOnInit(){this.appliedFilters$=this.searchService.getSelectedValuesForFilter(this.filter.name),this.active$=this.isActive(),this.collapsed$=this.isCollapsed(),this.initializeFilter(),this.subs.push(this.appliedFilters$.subscribe(at=>{(0,x.hj)(at)&&this.filterService.expand(this.filter.name)}),this.getIsActive().pipe((0,C.s)(1)).subscribe(()=>{this.isVisibilityComputed.emit(!0)}))}ngOnChanges(){this.scope$.value!==this.scope&&this.scope$.next(this.scope)}ngOnDestroy(){this.subs.forEach(at=>at.unsubscribe())}toggle(){this.filterService.toggle(this.filter.name)}isCollapsed(){return this.filterService.isCollapsed(this.filter.name)}initializeFilter(){this.filterService.initializeFilter(this.filter)}finishSlide(at){"collapsed"===at.fromState&&(this.closed=!1),"collapsed"===at.toState&&(this.notab=!0)}startSlide(at){"collapsed"===at.toState&&(this.closed=!0),"collapsed"===at.fromState&&(this.notab=!1)}get regionId(){return this.inPlaceSearch?`search-filter-region-${this.sequenceId}`:`search-filter-region-home-${this.sequenceId}`}get toggleId(){return this.inPlaceSearch?`search-filter-toggle-${this.sequenceId}`:`search-filter-toggle-home-${this.sequenceId}`}isActive(){return this.getIsActive().pipe((0,h.Z)(!0))}getIsActive(){return(0,m.z)([this.appliedFilters$,this.searchConfigService.searchOptions,this.scope$]).pipe((0,f.n)(([at,Ut,Vt])=>(0,x.hj)(at.filter(xn=>G.includes(xn.operator)))?(0,v.of)(!0):((0,x.a4)(Vt)&&(Ut.scope=Vt),this.searchService.getFacetValuesFor(this.filter,1,Ut).pipe((0,E.p)(xn=>!xn.isLoading),(0,_.T)(xn=>xn.payload?.totalElements>0)))))}static{this.\u0275fac=function(Ut){return new(Ut||et)(t.rXU(T.U),t.rXU(I.S),t.rXU(A.EN),t.rXU(ra))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-filter"]],inputs:{filter:"filter",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},outputs:{isVisibilityComputed:"isVisibilityComputed"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:3,consts:[["class","facet-filter d-block mb-3 p-3","role","region",3,"id","ngClass",4,"ngIf"],["role","region",1,"facet-filter","d-block","mb-3","p-3",3,"id","ngClass"],[1,"filter-name","d-flex",3,"click","focusin","focusout","id"],[1,"h4","d-inline-block","text-left","mt-auto","mb-auto","dark:text-white","text-dark"],["aria-hidden","true",1,"filter-toggle","flex-grow-1","fas","p-auto",3,"ngClass","title"],[1,"search-filter-wrapper",3,"ngClass"],[3,"scope","filterConfig","inPlaceSearch","refreshFilters"]],template:function(Ut,Vt){1&Ut&&(t.DNE(0,ma,18,44,"div",0),t.nI1(1,"async")),2&Ut&&t.Y8G("ngIf",t.bMT(1,1,Vt.active$))},dependencies:[i.bT,i.YU,Na,i.Jj,i.GH,u.h,u.D9,O.L],styles:["[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]{border:1px solid var(--bs-light);cursor:pointer;line-height:0}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper[_ngcontent-%COMP%]{line-height:var(--bs-line-height-base)}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper.closed[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper.notab[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .filter-toggle[_ngcontent-%COMP%]{line-height:var(--bs-line-height-base);text-align:right;position:relative}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{appearance:none;border:0;padding:0;background:#0000;width:100%;outline:none!important}[_nghost-%COMP%]   .facet-filter.focus[_ngcontent-%COMP%]{outline:none;box-shadow:var(--bs-input-btn-focus-box-shadow)}"],data:{animation:[p.M6]}})}}return et})()},1903:(F,D,n)=>{"use strict";n.r(D),n.d(D,{SearchFiltersComponent:()=>B});var i=n(60177),t=n(7901),u=n(41780),e=n(72234),h=n(96354),m=n(82640),f=n(78655),E=(n(39012),n(15465)),_=n(13955),C=n(30506),I=n(86868),R=n(54438);const T=(k,W)=>W.name,A=k=>[k];function p(k,W){if(1&k&&(R.j41(0,"h3"),R.EFF(1),R.nI1(2,"translate"),R.k0s()),2&k){const U=R.XpG();R.R7$(),R.JRh(R.bMT(2,1,U.filterLabel+".filters.head"))}}function x(k,W){if(1&k&&(R.j41(0,"h2"),R.EFF(1),R.nI1(2,"translate"),R.k0s()),2&k){const U=R.XpG();R.R7$(),R.JRh(R.bMT(2,1,U.filterLabel+".filters.head"))}}function O(k,W){if(1&k){const U=R.RV6();R.j41(0,"ds-search-filter",4),R.bIt("isVisibilityComputed",function(Y){R.eBV(U);const G=R.XpG(2);return R.Njj(G.countFiltersWithComputedVisibility(Y))}),R.k0s()}if(2&k){const U=W.$implicit,K=R.XpG(2);R.Y8G("scope",K.currentScope)("filter",U)("inPlaceSearch",K.inPlaceSearch)("refreshFilters",K.refreshFilters)}}function w(k,W){if(1&k&&(R.j41(0,"div"),R.nI1(1,"async"),R.Z7z(2,O,1,4,"ds-search-filter",3,T),R.nI1(4,"async"),R.k0s()),2&k){let U,K;const Y=R.XpG();R.AVh("visually-hidden",Y.filtersWithComputedVisibility!==(null==(U=R.bMT(1,2,Y.filters))||null==U.payload?null:U.payload.length)),R.R7$(2),R.Dyx(null==(K=R.bMT(4,4,Y.filters))?null:K.payload)}}function M(k,W){if(1&k&&R.nrm(0,"ngx-skeleton-loader",1),2&k){const U=R.XpG();R.Y8G("count",U.defaultFilterCount)}}function L(k,W){if(1&k){const U=R.RV6();R.j41(0,"button",5),R.nI1(1,"async"),R.bIt("click",function(){R.eBV(U);const Y=R.XpG();return R.Njj(Y.minimizeFilters())}),R.nrm(2,"i",6),R.EFF(3),R.nI1(4,"translate"),R.k0s()}if(2&k){const U=R.XpG();R.Y8G("routerLink",R.eq3(7,A,U.searchLink))("queryParams",R.bMT(1,3,U.clearParams)),R.R7$(3),R.SpI(" ",R.bMT(4,5,"search.filters.reset")," ")}}let B=(()=>{class k{constructor(U,K,Y,G,q){this.searchService=U,this.searchFilterService=K,this.router=Y,this.searchConfigService=G,this.appConfig=q,this.appliedFilters=new Map,this.filtersWithComputedVisibility=0,this.subs=[],this.filterLabel="search",this.defaultFilterCount=this.appConfig.search.filterPlaceholdersCount??5}ngOnInit(){this.inPlaceSearch||(this.filterLabel="discover"),this.clearParams=this.searchConfigService.getCurrentFrontendFilters().pipe((0,h.T)(U=>(Object.keys(U).forEach(K=>U[K]=null),U))),this.searchLink=this.getSearchLink()}getSearchLink(){return this.inPlaceSearch?(0,C.N)(this.router):this.searchService.getSearchLink()}trackUpdate(U,K){return K?K.name:void 0}minimizeFilters(){this.searchService.appliedFilters$.value.length>0&&this.searchFilterService.minimizeAll()}countFiltersWithComputedVisibility(U){U&&(this.filtersWithComputedVisibility+=1)}static{this.\u0275fac=function(K){return new(K||k)(R.rXU(f.S),R.rXU(E.U),R.rXU(t.Ix),R.rXU(_.EN),R.rXU(m.vQ))}}static{this.\u0275cmp=R.VBU({type:k,selectors:[["ds-base-search-filters"]],inputs:{filters:"filters",currentConfiguration:"currentConfiguration",currentScope:"currentScope",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters"},standalone:!0,features:[R.aNF],decls:7,vars:8,consts:[[3,"visually-hidden"],[3,"count"],["queryParamsHandling","merge","role","button",1,"btn","btn-primary",3,"routerLink","queryParams"],[3,"scope","filter","inPlaceSearch","refreshFilters"],[3,"isVisibilityComputed","scope","filter","inPlaceSearch","refreshFilters"],["queryParamsHandling","merge","role","button",1,"btn","btn-primary",3,"click","routerLink","queryParams"],[1,"fas","fa-undo"]],template:function(K,Y){if(1&K&&(R.DNE(0,p,3,3,"h3")(1,x,3,3)(2,w,5,6,"div",0),R.nI1(3,"async"),R.DNE(4,M,1,1,"ngx-skeleton-loader",1),R.nI1(5,"async"),R.DNE(6,L,5,9,"button",2)),2&K){let G,q;R.vxM(0,Y.inPlaceSearch?0:1),R.R7$(2),R.vxM(2,null!=(G=R.bMT(3,4,Y.filters))&&G.hasSucceeded?2:-1),R.R7$(2),R.vxM(4,Y.filtersWithComputedVisibility!==(null==(q=R.bMT(5,6,Y.filters))||null==q.payload?null:q.payload.length)?4:-1),R.R7$(2),R.vxM(6,Y.inPlaceSearch?6:-1)}},dependencies:[I.a,t.Wk,i.Jj,u.h,u.D9,e.Yq,e.Zm],styles:["[_nghost-%COMP%]     ngx-skeleton-loader .skeleton-loader{height:var(--ds-filters-skeleton-height);margin-bottom:var(--ds-filters-skeleton-spacing);padding:var(--ds-filters-skeleton-spacing);background-color:var(--bs-light);box-shadow:none}"]})}}return k})()},75575:(F,D,n)=>{"use strict";n.d(D,{k:()=>m});var i=n(8886),u=(n(1903),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["filters","currentConfiguration","currentScope","inPlaceSearch","refreshFilters"]}getComponentName(){return"SearchFiltersComponent"}importThemedComponent(E){return n(64565)(`./${E}/app/shared/search/search-filters/search-filters.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1903))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-search-filters"]],inputs:{currentConfiguration:"currentConfiguration",currentScope:"currentScope",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",filters:"filters"},standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},55366:(F,D,n)=>{"use strict";n.d(D,{L:()=>G});var i=n(60177),t=n(78655),u=n(22924),e=n(92827),m=(n(15641),n(82777)),f=n(81569),v=n(7901),E=n(41780),_=n(22978),C=n(39012),I=n(15465),R=n(30506),T=n(54438);const A=(q,z)=>({type:q,value:z}),p=q=>({default:q});let x=(()=>{class q{constructor(te,Z,J,Q,ee){this.paginationService=te,this.router=Z,this.searchConfigurationService=J,this.searchService=Q,this.searchFilterService=ee}ngOnInit(){this.searchLink=this.getSearchLink(),this.removeParameters$=this.updateRemoveParams()}updateRemoveParams(){return this.searchConfigurationService.unselectAppliedFilterParams(this.appliedFilter.filter,this.appliedFilter.value,this.appliedFilter.operator)}getSearchLink(){return this.inPlaceSearch?(0,R.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(Z){return new(Z||q)(T.rXU(_.m),T.rXU(v.Ix),T.rXU(C.g),T.rXU(t.S),T.rXU(I.U))}}static{this.\u0275cmp=T.VBU({type:q,selectors:[["ds-search-label"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[T.aNF],decls:12,vars:25,consts:[[1,"badge","bg-primary","me-1","mb-1","text-capitalize",3,"click","routerLink","queryParams"],[1,"d-flex"],[1,"flex-grow-1","text-left"],["aria-hidden","true",1,"ps-1"]],template:function(Z,J){1&Z&&(T.j41(0,"a",0),T.nI1(1,"async"),T.nI1(2,"translate"),T.nI1(3,"translate"),T.bIt("click",function(){return J.searchFilterService.minimizeAll()}),T.j41(4,"span",1)(5,"span",2),T.EFF(6),T.nI1(7,"translate"),T.nI1(8,"translate"),T.nI1(9,"translate"),T.k0s(),T.j41(10,"span",3),T.EFF(11,"\xd7"),T.k0s()()()),2&Z&&(T.Y8G("routerLink",J.searchLink)("queryParams",T.bMT(1,6,J.removeParameters$)),T.BMQ("aria-label",T.i5U(3,10,"search.filters.remove",T.l_i(20,A,T.bMT(2,8,"search.filters.applied.f."+J.appliedFilter.filter),J.appliedFilter.label))),T.R7$(6),T.E5c("",T.bMT(7,13,"search.filters.applied.f."+J.appliedFilter.filter),"",T.bMT(8,15,"search.filters.applied.operator."+J.appliedFilter.operator),": ",T.i5U(9,17,"search.filters."+J.appliedFilter.filter+"."+J.appliedFilter.label,T.eq3(23,p,J.appliedFilter.label)),""))},dependencies:[v.Wk,i.Jj,E.h,E.D9],styles:[".badge[_ngcontent-%COMP%]{white-space:inherit}"]})}}return q})();const O=(q,z)=>({type:q,value:z});function w(q,z){if(1&q){const te=T.RV6();T.j41(0,"a",1),T.nI1(1,"async"),T.nI1(2,"translate"),T.nI1(3,"translate"),T.bIt("click",function(){T.eBV(te);const J=T.XpG();return T.Njj(J.searchFilterService.minimizeAll())}),T.j41(4,"span",2)(5,"span",3),T.EFF(6),T.nI1(7,"translate"),T.k0s(),T.j41(8,"span",4),T.EFF(9,"\xd7"),T.k0s()()()}if(2&q){const te=T.XpG();T.Y8G("routerLink",te.searchLink)("queryParams",T.bMT(1,5,te.removeParametersMin$)),T.BMQ("aria-label",T.i5U(3,9,"search.filters.remove",T.l_i(14,O,T.bMT(2,7,"search.filters.applied.f."+te.appliedFilter.filter+".min"),te.min))),T.R7$(6),T.Lme("",T.bMT(7,12,"search.filters.applied.f."+te.appliedFilter.filter+".min"),": ",te.min,"")}}function M(q,z){if(1&q){const te=T.RV6();T.j41(0,"a",1),T.nI1(1,"async"),T.nI1(2,"translate"),T.nI1(3,"translate"),T.bIt("click",function(){T.eBV(te);const J=T.XpG();return T.Njj(J.searchFilterService.minimizeAll())}),T.j41(4,"span",2)(5,"span",3),T.EFF(6),T.nI1(7,"translate"),T.k0s(),T.j41(8,"span",4),T.EFF(9,"\xd7"),T.k0s()()()}if(2&q){const te=T.XpG();T.Y8G("routerLink",te.searchLink)("queryParams",T.bMT(1,5,te.removeParametersMax$)),T.BMQ("aria-label",T.i5U(3,9,"search.filters.remove",T.l_i(14,O,T.bMT(2,7,"search.filters.applied.f."+te.appliedFilter.filter+".max"),te.max))),T.R7$(6),T.Lme("",T.bMT(7,12,"search.filters.applied.f."+te.appliedFilter.filter+".max"),": ",te.max,"")}}let L=(()=>{class q{constructor(te,Z,J,Q,ee){this.paginationService=te,this.router=Z,this.searchConfigurationService=J,this.searchService=Q,this.searchFilterService=ee}ngOnInit(){this.searchLink=this.getSearchLink(),this.min=this.appliedFilter.value.substring(1,this.appliedFilter.value.indexOf("TO")-1),this.max=this.appliedFilter.value.substring(this.appliedFilter.value.indexOf("TO")+3,this.appliedFilter.value.length-1),this.removeParametersMin$=this.updateRemoveParams(`${this.appliedFilter.filter}.min`,this.min),this.removeParametersMax$=this.updateRemoveParams(`${this.appliedFilter.filter}.max`,this.max)}updateRemoveParams(te,Z,J){return this.searchConfigurationService.unselectAppliedFilterParams(te,Z,J)}getSearchLink(){return this.inPlaceSearch?(0,R.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(Z){return new(Z||q)(T.rXU(_.m),T.rXU(v.Ix),T.rXU(C.g),T.rXU(t.S),T.rXU(I.U))}}static{this.\u0275cmp=T.VBU({type:q,selectors:[["ds-search-label-range"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[T.aNF],decls:2,vars:2,consts:[["class","badge bg-primary",3,"routerLink","queryParams","click",4,"ngIf"],[1,"badge","bg-primary",3,"click","routerLink","queryParams"],[1,"d-flex"],[1,"flex-grow-1","text-left"],["aria-hidden","true",1,"ps-1"]],template:function(Z,J){1&Z&&T.DNE(0,w,10,17,"a",0)(1,M,10,17,"a",0),2&Z&&(T.Y8G("ngIf","*"!==J.min),T.R7$(),T.Y8G("ngIf","*"!==J.max))},dependencies:[i.Jj,i.bT,v.Wk,E.h,E.D9],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap;gap:calc(var(--bs-spacer) / 4)}.badge[_ngcontent-%COMP%]{white-space:inherit}"]})}}return q})();const B=void 0,k=new Map([[B,new Map([[f.SS,x]])],["range",new Map([[f.SS,L]])]]);function U(q,z){}let K=(()=>{class q extends u.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["appliedFilter"],this.inputNames=["inPlaceSearch","appliedFilter"]}getComponent(){return function W(q,z){let te=k.get(q);(0,m.Tn)(te)&&(te=k.get(B));const Z=te.get(z);return(0,m.Tn)(Z)?te.get(f.SS):Z}(this.appliedFilter.operator,this.themeService.getThemeName())}static{this.\u0275fac=(()=>{let te;return function(J){return(te||(te=T.xGo(q)))(J||q)}})()}static{this.\u0275cmp=T.VBU({type:q,selectors:[["ds-search-label-loader"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[T.Vt3,T.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(Z,J){1&Z&&T.DNE(0,U,0,0,"ng-template",1,0,T.C5r)},dependencies:[e.z],encapsulation:2})}}return q})();function Y(q,z){if(1&q&&T.nrm(0,"ds-search-label-loader",2),2&q){const te=z.$implicit,Z=T.XpG();T.Y8G("appliedFilter",te)("inPlaceSearch",Z.inPlaceSearch)}}let G=(()=>{class q{constructor(te){this.searchService=te}ngOnInit(){this.appliedFilters$=this.searchService.appliedFilters$}static{this.\u0275fac=function(Z){return new(Z||q)(T.rXU(t.S))}}static{this.\u0275cmp=T.VBU({type:q,selectors:[["ds-search-labels"]],inputs:{inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[T.aNF],decls:3,vars:3,consts:[[1,"labels"],[3,"appliedFilter","inPlaceSearch",4,"ngFor","ngForOf"],[3,"appliedFilter","inPlaceSearch"]],template:function(Z,J){1&Z&&(T.j41(0,"div",0),T.DNE(1,Y,1,2,"ds-search-label-loader",1),T.nI1(2,"async"),T.k0s()),2&Z&&(T.R7$(),T.Y8G("ngForOf",T.bMT(2,1,J.appliedFilters$)))},dependencies:[i.pM,i.Jj,K],styles:["[_nghost-%COMP%]{line-height:1}[_nghost-%COMP%]   .labels[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:calc(var(--bs-spacer) / 4)}"]})}}return q})()},43280:(F,D,n)=>{"use strict";n.d(D,{L:()=>O});var i=n(3e3),t=n(40887),u=n(6041),e=n(10046),h=n(88318),m=n(25567),f=n(91581),v=n(78416),E=n(27605),_=n(34532),C=n(77537),I=n(17132),R=n(27442),T=n(24205),A=n(38786),p=n(95010);const x=new Map([[i.a,t.o],[v.T,_.y],[E.k,T.d],[u.p,C.A],[e.E,I.L],[h.q,R.H],[m.t,A.q],[f.F,p.I]]);function O(w){return x.get(w)}},84081:(F,D,n)=>{"use strict";n.d(D,{b:()=>I});var i=n(60177),t=n(72234),u=n(78655),e=n(78448),h=n(82777),m=n(54438);function f(R,T){1&R&&(m.j41(0,"div",4)(1,"div",8),m.nrm(2,"ngx-skeleton-loader"),m.k0s()())}function v(R,T){if(1&R&&(m.j41(0,"div",3),m.DNE(1,f,3,0,"div",4),m.j41(2,"div")(3,"div",5),m.nrm(4,"ngx-skeleton-loader"),m.k0s(),m.j41(5,"div",6),m.nrm(6,"ngx-skeleton-loader",7),m.k0s()()()),2&R){const A=T.$index,p=m.XpG(2);m.AVh("my-4",0!==A),m.R7$(),m.vxM(1,p.showThumbnails?1:-1),m.R7$(),m.AVh("col-9",p.showThumbnails)("col-md-10",p.showThumbnails)("col-md-12",!p.showThumbnails),m.R7$(4),m.Y8G("count",p.textLineCount)}}function E(R,T){if(1&R&&m.Z7z(0,v,7,10,"div",2,m.fX1),2&R){const A=m.XpG();m.Dyx(A.loadingResults)}}function _(R,T){1&R&&(m.j41(0,"div",10)(1,"div",11),m.nrm(2,"ngx-skeleton-loader"),m.k0s()())}function C(R,T){if(1&R&&(m.j41(0,"div",9),m.Z7z(1,_,3,0,"div",10,m.fX1),m.k0s()),2&R){const A=m.XpG();m.R7$(),m.Dyx(A.loadingResults)}}let I=(()=>{class R{constructor(A){this.searchService=A,this.numberOfResults=0,this.textLineCount=2,this.ViewMode=e.n,this.viewMode$=this.searchService.getViewMode()}ngOnInit(){this.loadingResults=Array.from({length:this.numberOfResults},(A,p)=>p+1),(0,h.a4)(this.showThumbnails)||(this.showThumbnails=!0)}static{this.\u0275fac=function(p){return new(p||R)(m.rXU(u.S))}}static{this.\u0275cmp=m.VBU({type:R,selectors:[["ds-search-results-skeleton"]],inputs:{showThumbnails:"showThumbnails",numberOfResults:"numberOfResults",textLineCount:"textLineCount"},standalone:!0,features:[m.aNF],decls:8,vars:9,consts:[[1,"row","flex-nowrap"],[1,"info-skeleton","col-12"],[1,"row",3,"my-4"],[1,"row"],[1,"col-3","col-md-2"],[1,"badge-skeleton"],[1,"text-skeleton"],[3,"count"],[1,"thumbnail-skeleton","position-relative"],[1,"card-columns","row"],[1,"card-column","col","col-sm-6","col-lg-4"],[1,"card-skeleton"]],template:function(p,x){1&p&&(m.j41(0,"div",0)(1,"div",1),m.nI1(2,"async"),m.nrm(3,"ngx-skeleton-loader"),m.k0s()(),m.DNE(4,E,2,0),m.nI1(5,"async"),m.nI1(6,"async"),m.DNE(7,C,3,0)),2&p&&(m.R7$(),m.AVh("mb-2",m.bMT(2,3,x.viewMode$)===x.ViewMode.ListElement),m.R7$(3),m.vxM(4,m.bMT(5,5,x.viewMode$)===x.ViewMode.ListElement?4:m.bMT(6,7,x.viewMode$)===x.ViewMode.GridElement?7:-1))},dependencies:[t.Yq,t.Zm,i.Jj],styles:["[_nghost-%COMP%]    {--ds-wrapper-grid-spacing: calc(var(--bs-spacer) / 2)}[_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .badge-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .text-skeleton ngx-skeleton-loader .skeleton-loader{height:var(--ds-search-skeleton-text-height)}[_nghost-%COMP%]     .badge-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader{width:var(--ds-search-skeleton-badge-width)}[_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader{width:var(--ds-search-skeleton-info-width)}[_nghost-%COMP%]     .thumbnail-skeleton{max-width:var(--ds-thumbnail-max-width);height:100%}[_nghost-%COMP%]     .thumbnail-skeleton ngx-skeleton-loader .skeleton-loader{margin-right:var(--ds-search-skeleton-thumbnail-margin);border-radius:0;height:100%}[_nghost-%COMP%]     .card-skeleton ngx-skeleton-loader .skeleton-loader{height:var(--ds-search-skeleton-card-height)}[_nghost-%COMP%]     ngx-skeleton-loader .skeleton-loader{background-color:var(--bs-light);box-shadow:none}[_nghost-%COMP%]     .card-columns{margin-left:calc(-1 * var(--ds-wrapper-grid-spacing));margin-right:calc(-1 * var(--ds-wrapper-grid-spacing));column-gap:0}[_nghost-%COMP%]     .card-columns .card-column{padding-left:var(--ds-wrapper-grid-spacing);padding-right:var(--ds-wrapper-grid-spacing)}"]})}}return R})()},42837:(F,D,n)=>{"use strict";n.r(D),n.d(D,{SearchResultsComponent:()=>q});var i=n(60177),t=n(54438),u=n(7901),e=n(41780),h=n(72234),E=(n(6238),n(1716),n(26292),n(78655)),_=n(39012),I=(n(78448),n(50332)),R=n(82777),T=n(79632),p=(n(7581),n(67560)),O=(n(33550),n(53009)),w=n(84081);const M=()=>["/search"],L=z=>({query:z});function B(z,te){if(1&z&&(t.j41(0,"div",0)(1,"div",6)(2,"div",7)(3,"div",8),t.nrm(4,"ngx-skeleton-loader",9),t.nI1(5,"async"),t.k0s()()()()),2&z){const Z=t.XpG();t.R7$(4),t.Y8G("count",t.bMT(5,1,Z.activeFilters$).length)}}function k(z,te){if(1&z&&(t.j41(0,"h1"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&z){const Z=t.XpG();t.R7$(),t.JRh(t.bMT(2,1,Z.configuration?Z.configuration+".search.results.head":"search.results.head"))}}function W(z,te){if(1&z&&t.nrm(0,"ds-search-export-csv",10),2&z){const Z=t.XpG();t.Y8G("searchConfig",Z.searchConfig)}}function U(z,te){if(1&z){const Z=t.RV6();t.j41(0,"div")(1,"ds-viewable-collection",11),t.bIt("contentChange",function(Q){t.eBV(Z);const ee=t.XpG();return t.Njj(ee.contentChange.emit(Q))})("deselectObject",function(Q){t.eBV(Z);const ee=t.XpG();return t.Njj(ee.deselectObject.emit(Q))})("selectObject",function(Q){t.eBV(Z);const ee=t.XpG();return t.Njj(ee.selectObject.emit(Q))}),t.k0s()()}if(2&z){const Z=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("config",Z.searchConfig.pagination)("sortConfig",Z.searchConfig.sort)("objects",Z.searchResults)("hideGear",!0)("selectable",Z.selectable)("selectionConfig",Z.selectionConfig)("linkType",Z.linkType)("context",Z.context)("hidePaginationDetail",Z.hidePaginationDetail)("showThumbnails",Z.showThumbnails)}}function K(z,te){if(1&z&&t.nrm(0,"ds-search-results-skeleton",12),2&z){const Z=t.XpG();t.Y8G("showThumbnails",Z.showThumbnails)("numberOfResults",Z.searchConfig.pagination.pageSize)}}function Y(z,te){if(1&z&&(t.nrm(0,"ds-error",13),t.nI1(1,"translate")),2&z){const Z=t.XpG();t.FS9("message",t.bMT(1,1,Z.errorMessageLabel()))}}function G(z,te){if(1&z&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.j41(3,"a",14),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&z){const Z=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,4,"search.results.no-results")," "),t.R7$(2),t.Y8G("routerLink",t.lJ4(8,M))("queryParams",t.eq3(9,L,Z.surroundStringWithQuotes(null==Z.searchConfig?null:Z.searchConfig.query))),t.R7$(),t.SpI(" ",t.bMT(5,6,"search.results.no-results-link")," ")}}let q=(()=>{class z{constructor(Z,J){this.searchConfigService=Z,this.searchService=J,this.hasNoValue=R.Tn,this.showCsvExport=!1,this.disableHeader=!1,this.selectable=!1,this.hidePaginationDetail=!1,this.selectionConfig=null,this.contentChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.activeFilters$=this.searchConfigService.getCurrentFilters(),this.appliedFilters$=this.searchService.appliedFilters$}isLoading(){return!this.showError()&&((0,R.Tn)(this.searchResults)||(0,R.Tn)(this.searchResults.payload)||this.searchResults.isLoading)}showError(){return this.searchResults?.hasFailed&&(!this.searchResults?.errorMessage||400!==this.searchResults?.statusCode)}errorMessageLabel(){return 422===this.searchResults?.statusCode?"error.invalid-search-query":"error.search-results"}surroundStringWithQuotes(Z){let J=Z;return(0,R.hj)(J)&&!(J.startsWith('"')&&J.endsWith('"'))&&(J=`"${J}"`),J}static{this.\u0275fac=function(J){return new(J||z)(t.rXU(_.g),t.rXU(E.S))}}static{this.\u0275cmp=t.VBU({type:z,selectors:[["ds-base-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],decls:10,vars:11,consts:[[1,"row"],[1,"d-flex","justify-content-between"],[4,"ngIf"],[3,"searchConfig",4,"ngIf"],[3,"showThumbnails","numberOfResults",4,"ngIf"],[3,"message",4,"ngIf"],[1,"col-12"],[1,"filters-badge-skeleton-container"],[1,"filter-badge-skeleton"],[3,"count"],[3,"searchConfig"],[3,"contentChange","deselectObject","selectObject","config","sortConfig","objects","hideGear","selectable","selectionConfig","linkType","context","hidePaginationDetail","showThumbnails"],[3,"showThumbnails","numberOfResults"],[3,"message"],["queryParamsHandling","merge",3,"routerLink","queryParams"]],template:function(J,Q){1&J&&(t.DNE(0,B,6,3,"div",0),t.nI1(1,"async"),t.nI1(2,"async"),t.j41(3,"div",1),t.DNE(4,k,3,3,"h1",2)(5,W,1,1,"ds-search-export-csv",3),t.k0s(),t.DNE(6,U,2,11,"div",2)(7,K,1,2,"ds-search-results-skeleton",4)(8,Y,2,3,"ds-error",5)(9,G,6,11,"div",2)),2&J&&(t.vxM(0,t.bMT(1,7,Q.activeFilters$).length>0&&0===t.bMT(2,9,Q.appliedFilters$).length?0:-1),t.R7$(4),t.Y8G("ngIf",!Q.disableHeader),t.R7$(),t.Y8G("ngIf",Q.showCsvExport),t.R7$(),t.Y8G("ngIf",Q.searchResults&&(null==Q.searchResults?null:Q.searchResults.hasSucceeded)&&!(null!=Q.searchResults&&Q.searchResults.isLoading)&&(null==Q.searchResults||null==Q.searchResults.payload?null:Q.searchResults.payload.page.length)>0),t.R7$(),t.Y8G("ngIf",Q.isLoading()),t.R7$(),t.Y8G("ngIf",Q.showError()),t.R7$(),t.Y8G("ngIf",0===(null==Q.searchResults||null==Q.searchResults.payload?null:Q.searchResults.payload.page.length)||400===(null==Q.searchResults?null:Q.searchResults.statusCode)))},dependencies:[i.Jj,T.A,i.bT,h.Yq,h.Zm,p.h,u.Wk,O.w,w.b,e.h,e.D9],styles:["[_nghost-%COMP%]     .filter-badge-skeleton ngx-skeleton-loader .skeleton-loader{background-color:var(--bs-light);box-shadow:none;width:var(--ds-search-skeleton-filter-badge-width);height:var(--ds-search-skeleton-badge-height);margin-bottom:0;margin-right:calc(var(--bs-spacer) / 4)}[_nghost-%COMP%]     .filters-badge-skeleton-container{display:flex;max-height:var(--ds-search-skeleton-badge-height)}"],data:{animation:[I.qG,I.Ws]}})}}return z})()},14131:(F,D,n)=>{"use strict";n.d(D,{N:()=>I});var i=n(54438),f=(n(6238),n(1716),n(26292),n(78448),n(7581),n(8886));n(33550),n(42837);const _=["*"];function C(R,T){}let I=(()=>{class R extends f.J{constructor(){super(...arguments),this.inAndOutputNames=["linkType","searchResults","searchConfig","showCsvExport","showThumbnails","sortConfig","viewMode","configuration","disableHeader","selectable","context","hidePaginationDetail","selectionConfig","contentChange","deselectObject","selectObject"],this.contentChange=new i.bkB,this.deselectObject=new i.bkB,this.selectObject=new i.bkB}getComponentName(){return"SearchResultsComponent"}importThemedComponent(A){return n(18527)(`./${A}/app/shared/search/search-results/search-results.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,42837))}static{this.\u0275fac=(()=>{let A;return function(x){return(A||(A=i.xGo(R)))(x||R)}})()}static{this.\u0275cmp=i.VBU({type:R,selectors:[["ds-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:_,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,x){1&p&&(i.NAR(),i.DNE(0,C,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return R})()},93125:(F,D,n)=>{"use strict";n.r(D),n.d(D,{SearchSettingsComponent:()=>R});var i=n(60177),t=n(89417),u=n(41780),h=(n(6238),n(22978)),f=(n(39012),n(13955)),v=n(46580),E=n(80270),_=n(54438);function C(T,A){if(1&T&&(_.j41(0,"option",4),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&T){const p=A.$implicit,x=_.XpG(2);_.Y8G("value",p.field+","+p.direction.toString())("selected",p.field===(null==x.currentSortOption?null:x.currentSortOption.field)&&p.direction===(null==x.currentSortOption?null:x.currentSortOption.direction)?"selected":null),_.R7$(),_.SpI(" ",_.bMT(2,3,"sorting."+p.field+"."+p.direction)," ")}}function I(T,A){if(1&T){const p=_.RV6();_.j41(0,"ds-sidebar-dropdown",2),_.bIt("changed",function(O){_.eBV(p);const w=_.XpG();return _.Njj(w.reloadOrder(O))}),_.DNE(1,C,3,5,"option",3),_.k0s()}if(2&T){const p=_.XpG();_.Y8G("id","search-sidebar-sort")("label","search.sidebar.settings.sort-by"),_.R7$(),_.Y8G("ngForOf",p.sortOptionsList)}}let R=(()=>{class T{constructor(p,x){this.paginationService=p,this.searchConfigurationService=x}reloadOrder(p){const x=p.target.value.split(",");this.paginationService.updateRoute(this.searchConfigurationService.paginationID,{sortField:x[0],sortDirection:x[1],page:1})}static{this.\u0275fac=function(x){return new(x||T)(_.rXU(h.m),_.rXU(f.EN))}}static{this.\u0275cmp=_.VBU({type:T,selectors:[["ds-base-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},standalone:!0,features:[_.aNF],decls:7,vars:4,consts:[[1,"result-order-settings"],[3,"id","label","changed",4,"ngIf"],[3,"changed","id","label"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(x,O){1&x&&(_.qex(0),_.j41(1,"h3"),_.EFF(2),_.nI1(3,"translate"),_.k0s(),_.j41(4,"div",0),_.DNE(5,I,2,3,"ds-sidebar-dropdown",1),_.k0s(),_.nrm(6,"ds-page-size-selector"),_.bVm()),2&x&&(_.R7$(2),_.JRh(_.bMT(3,2,"search.sidebar.settings.title")),_.R7$(3),_.Y8G("ngIf",O.sortOptionsList))},dependencies:[i.bT,E.v,i.pM,t.YN,t.xH,t.y7,v.b,u.h,u.D9],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return T})()},1669:(F,D,n)=>{"use strict";n.d(D,{_:()=>f}),n(6238);var t=n(8886),e=(n(93125),n(54438));const h=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["currentSortOption","sortOptionsList"]}getComponentName(){return"SearchSettingsComponent"}importThemedComponent(_){return n(60911)(`./${_}/app/shared/search/search-settings/search-settings.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,93125))}static{this.\u0275fac=(()=>{let _;return function(I){return(_||(_=e.xGo(v)))(I||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:h,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,I){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},9897:(F,D,n)=>{"use strict";n.r(D),n.d(D,{SearchSidebarComponent:()=>O});var i=n(60177),t=n(54438),u=n(41780),e=n(96354),h=n(82640),f=(n(6238),n(39012)),v=n(35538),E=n(77909),C=(n(33550),n(75575)),I=n(1669),R=n(32541);function T(w,M){if(1&w){const L=t.RV6();t.j41(0,"ds-view-mode-switch",11),t.bIt("changeViewMode",function(k){t.eBV(L);const W=t.XpG();return t.Njj(W.changeViewMode.emit(k))}),t.k0s()}if(2&w){const L=t.XpG();t.Y8G("viewModeList",L.viewModeList)}}function A(w,M){if(1&w){const L=t.RV6();t.j41(0,"ds-search-switch-configuration",12),t.bIt("changeConfiguration",function(k){t.eBV(L);const W=t.XpG();return t.Njj(W.changeConfiguration.emit(k))}),t.k0s()}if(2&w){const L=t.XpG();t.Y8G("configurationList",L.configurationList)("defaultConfiguration",L.configuration)("inPlaceSearch",L.inPlaceSearch)}}function p(w,M){if(1&w&&(t.nrm(0,"ds-advanced-search",13),t.nI1(1,"async")),2&w){let L;const B=t.XpG();t.Y8G("configuration",B.configuration)("filtersConfig",null==(L=t.bMT(1,3,B.filters))?null:L.payload)("scope",B.currentScope)}}function x(w,M){if(1&w&&t.nrm(0,"ds-search-settings",14),2&w){const L=t.XpG();t.Y8G("currentSortOption",L.currentSortOption)("sortOptionsList",L.sortOptionsList)}}let O=(()=>{class w{constructor(L,B){this.appConfig=L,this.searchConfigurationService=B,this.showViewModes=!0,this.inPlaceSearch=!0,this.toggleSidebar=new t.bkB,this.changeConfiguration=new t.bkB,this.changeViewMode=new t.bkB}ngOnInit(){this.showAdvancedSearch$=this.searchConfigurationService.getConfigurationAdvancedSearchFilters(this.configuration,this.currentScope).pipe((0,e.T)(L=>this.appConfig.search.advancedFilters.enabled&&L.length>0))}static{this.\u0275fac=function(B){return new(B||w)(t.rXU(h.vQ),t.rXU(f.g))}}static{this.\u0275cmp=t.VBU({type:w,selectors:[["ds-base-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},standalone:!0,features:[t.aNF],decls:18,vars:21,consts:[["id","sidebar-options",1,"d-block","d-md-none","search-controls","clearfix"],[1,"results"],["aria-controls","search-content",1,"btn","btn-outline-primary","float-end","close-sidebar",3,"click"],[1,"fas","fa-arrow-right"],["id","search-sidebar-content"],["class","d-none d-md-block",3,"viewModeList","changeViewMode",4,"ngIf"],[1,"sidebar-content"],[3,"configurationList","defaultConfiguration","inPlaceSearch","changeConfiguration",4,"ngIf"],[3,"currentScope","currentConfiguration","filters","refreshFilters","inPlaceSearch"],[3,"configuration","filtersConfig","scope",4,"ngIf"],[3,"currentSortOption","sortOptionsList",4,"ngIf"],[1,"d-none","d-md-block",3,"changeViewMode","viewModeList"],[3,"changeConfiguration","configurationList","defaultConfiguration","inPlaceSearch"],[3,"configuration","filtersConfig","scope"],[3,"currentSortOption","sortOptionsList"]],template:function(B,k){1&B&&(t.j41(0,"div")(1,"div",0)(2,"small",1),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",2),t.nI1(6,"translate"),t.bIt("click",function(){return k.toggleSidebar.emit()}),t.nrm(7,"i",3),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.j41(10,"div",4),t.DNE(11,T,1,1,"ds-view-mode-switch",5),t.j41(12,"div",6),t.DNE(13,A,1,3,"ds-search-switch-configuration",7),t.nrm(14,"ds-search-filters",8),t.DNE(15,p,2,5,"ds-advanced-search",9),t.nI1(16,"async"),t.DNE(17,x,1,2,"ds-search-settings",10),t.k0s()()()),2&B&&(t.R7$(3),t.Lme("",k.resultCount," ",t.bMT(4,13,"search.sidebar.results"),""),t.R7$(2),t.BMQ("aria-label",t.bMT(6,15,"search.sidebar.close")),t.R7$(3),t.SpI(" ",t.bMT(9,17,"search.sidebar.close")," "),t.R7$(3),t.Y8G("ngIf",k.showViewModes),t.R7$(2),t.Y8G("ngIf",k.configurationList),t.R7$(),t.Y8G("currentScope",k.currentScope)("currentConfiguration",k.configuration)("filters",k.filters)("refreshFilters",k.refreshFilters)("inPlaceSearch",k.inPlaceSearch),t.R7$(),t.Y8G("ngIf",k.inPlaceSearch&&!0===t.bMT(16,19,k.showAdvancedSearch$)),t.R7$(2),t.Y8G("ngIf",k.inPlaceSearch))},dependencies:[i.bT,v.g,R.o,C.k,I._,u.h,u.D9,E.Q,i.Jj],styles:["[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{line-height:var(--ds-button-height)}[_nghost-%COMP%]   ds-view-mode-switch[_ngcontent-%COMP%]{margin-bottom:var(--bs-spacer)}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child):not(ds-search-switch-configuration){margin-bottom:calc(4 * var(--bs-spacer));display:block}[_nghost-%COMP%]   ds-search-switch-configuration[_ngcontent-%COMP%]{margin-bottom:calc(2 * var(--bs-spacer));display:block}"]})}}return w})()},79443:(F,D,n)=>{"use strict";n.d(D,{p:()=>v});var i=n(54438),u=(n(6238),n(8886));n(33550),n(9897);const m=["*"];function f(E,_){}let v=(()=>{class E extends u.J{constructor(){super(...arguments),this.toggleSidebar=new i.bkB,this.changeConfiguration=new i.bkB,this.changeViewMode=new i.bkB,this.inAndOutputNames=["configuration","configurationList","currentScope","currentSortOption","resultCount","filters","viewModeList","showViewModes","inPlaceSearch","searchOptions","sortOptionsList","refreshFilters","toggleSidebar","changeConfiguration","changeViewMode"]}getComponentName(){return"SearchSidebarComponent"}importThemedComponent(C){return n(98587)(`./${C}/app/shared/search/search-sidebar/search-sidebar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,9897))}static{this.\u0275fac=(()=>{let C;return function(R){return(C||(C=i.xGo(E)))(R||E)}})()}static{this.\u0275cmp=i.VBU({type:E,selectors:[["ds-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(I,R){1&I&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return E})()},32541:(F,D,n)=>{"use strict";n.d(D,{o:()=>A});var i=n(60177),t=n(54438),u=n(89417),e=n(41780),h=n(48376),m=n.n(h),f=n(78655),E=(n(39012),n(13955)),_=n(82777),C=n(30506),I=n(7901);function R(p,x){if(1&p&&(t.j41(0,"option",5),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&p){const O=x.$implicit;t.Y8G("ngValue",O),t.R7$(),t.SpI(" ",t.bMT(2,2,O.label)," ")}}function T(p,x){if(1&p){const O=t.RV6();t.j41(0,"div",1)(1,"h3",2),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"select",3),t.mxI("ngModelChange",function(M){t.eBV(O);const L=t.XpG();return t.DH7(L.selectedOption,M)||(L.selectedOption=M),t.Njj(M)}),t.bIt("change",function(){t.eBV(O);const M=t.XpG();return t.Njj(M.onSelect())}),t.DNE(5,R,3,4,"option",4),t.k0s()()}if(2&p){const O=t.XpG();t.R7$(2),t.JRh(t.bMT(3,4,"search.switch-configuration.title")),t.R7$(2),t.Y8G("compareWith",O.compare),t.R50("ngModel",O.selectedOption),t.R7$(),t.Y8G("ngForOf",O.configurationList)}}let A=(()=>{class p{constructor(O,w,M){this.router=O,this.searchService=w,this.searchConfigService=M,this.configurationList=[],this.changeConfiguration=new t.bkB}ngOnInit(){this.searchConfigService.getCurrentConfiguration(this.defaultConfiguration).subscribe(O=>{const w=m()(this.configurationList,{value:O});this.selectedOption=this.configurationList[w]})}onSelect(){const O={queryParams:{configuration:this.selectedOption.value}};this.changeConfiguration.emit(this.selectedOption),this.router.navigate(this.getSearchLinkParts(),O)}compare(O,w){return O===w}ngOnDestroy(){(0,_.a4)(this.sub)&&this.sub.unsubscribe()}getSearchLink(){return this.inPlaceSearch?(0,C.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.searchService?[]:this.getSearchLink().split("/")}static{this.\u0275fac=function(w){return new(w||p)(t.rXU(I.Ix),t.rXU(f.S),t.rXU(E.EN))}}static{this.\u0275cmp=t.VBU({type:p,selectors:[["ds-search-switch-configuration"]],inputs:{inPlaceSearch:"inPlaceSearch",configurationList:"configurationList",defaultConfiguration:"defaultConfiguration"},outputs:{changeConfiguration:"changeConfiguration"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[["class","search-switch-configuration",4,"ngIf"],[1,"search-switch-configuration"],["id","configuration-switch"],["aria-labelledby","configuration-switch",1,"form-select",3,"ngModelChange","change","compareWith","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(w,M){1&w&&t.DNE(0,T,6,6,"div",0),2&w&&t.Y8G("ngIf",(null==M.configurationList?null:M.configurationList.length)>1)},dependencies:[i.bT,u.YN,u.xH,u.y7,u.wz,u.BC,u.vS,i.pM,e.h,e.D9]})}}return p})()},77766:(F,D,n)=>{"use strict";n.r(D),n.d(D,{SearchComponent:()=>je});var i=n(60177),t=n(54438),u=n(7901),e=n(41780),h=n(59519),m=n.n(h),f=n(84412),v=n(84572),E=n(23294),_=n(96354),C=n(25558),I=n(5964),R=n(70152),T=n(82640),A=n(88280),p=n(64611),x=n(54671),O=n(56760),w=n(26292),M=n(80183),L=n(78655),k=(n(39012),n(90887)),W=n(13955),U=n(10214),K=n(82777),Y=n(57538),q=(n(7581),n(18016)),z=n(50919),te=n(52600),Z=n(67600),J=n(30506),Q=n(35538),ee=n(33550),le=n(55366),ne=n(14131),fe=n(79443);const se=[[["","searchContentTop",""]],[["","additionalSearchOptions",""]]],ce=["[searchContentTop]","[additionalSearchOptions]"];function De(ut,hn){}function be(ut,hn){1&ut&&t.DNE(0,De,0,0,"ng-template")}function me(ut,hn){if(1&ut&&(t.j41(0,"div",6)(1,"div",7)(2,"div",8),t.DNE(3,be,1,0,null,9),t.k0s()()()),2&ut){t.XpG();const an=t.sdS(11);t.R7$(3),t.Y8G("ngTemplateOutlet",an)}}function re(ut,hn){}function Ee(ut,hn){1&ut&&t.DNE(0,re,0,0,"ng-template")}function Te(ut,hn){if(1&ut&&(t.j41(0,"div"),t.DNE(1,Ee,1,0,null,9),t.k0s()),2&ut){t.XpG();const an=t.sdS(7);t.R7$(),t.Y8G("ngTemplateOutlet",an)}}function tt(ut,hn){}function ht(ut,hn){1&ut&&t.DNE(0,tt,0,0,"ng-template")}function Fe(ut,hn){if(1&ut&&(t.j41(0,"ds-page-with-sidebar",10),t.DNE(1,ht,1,0,null,9),t.k0s()),2&ut){const an=t.XpG(),Pn=t.sdS(7),yt=t.sdS(9);t.Y8G("id","search-page")("sideBarWidth",an.sideBarWidth)("sidebarContent",yt),t.R7$(),t.Y8G("ngTemplateOutlet",Pn)}}function Et(ut,hn){}function Ye(ut,hn){1&ut&&t.DNE(0,Et,0,0,"ng-template")}function pt(ut,hn){if(1&ut&&(t.qex(0),t.DNE(1,Ye,1,0,null,9),t.bVm()),2&ut){t.XpG(3);const an=t.sdS(11);t.R7$(),t.Y8G("ngTemplateOutlet",an)}}function Mt(ut,hn){if(1&ut&&(t.j41(0,"div",8),t.DNE(1,pt,2,1,"ng-container",4),t.SdG(2,1),t.k0s()),2&ut){const an=t.XpG(2);t.R7$(),t.Y8G("ngIf",an.searchEnabled)}}function Ne(ut,hn){if(1&ut&&t.nrm(0,"ds-view-mode-switch",18),2&ut){const an=t.XpG(2);t.Y8G("viewModeList",an.viewModeList)("inPlaceSearch",an.inPlaceSearch)}}function rt(ut,hn){if(1&ut){const an=t.RV6();t.j41(0,"ds-search-results",19),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.bIt("contentChange",function(yt){t.eBV(an);const Kt=t.XpG(2);return t.Njj(Kt.onContentChange(yt))})("deselectObject",function(yt){t.eBV(an);const Kt=t.XpG(2);return t.Njj(Kt.deselectObject.emit(yt))})("selectObject",function(yt){t.eBV(an);const Kt=t.XpG(2);return t.Njj(Kt.selectObject.emit(yt))}),t.k0s()}if(2&ut){const an=t.XpG(2);t.Y8G("searchResults",t.bMT(1,10,an.resultsRD$))("searchConfig",t.bMT(2,12,an.searchOptions$))("configuration",t.bMT(3,14,an.currentConfiguration$))("disableHeader",!an.searchEnabled)("linkType",an.linkType)("context",t.bMT(4,16,an.currentContext$))("selectable",an.selectable)("selectionConfig",an.selectionConfig)("showCsvExport",an.showCsvExport)("showThumbnails",an.showThumbnails)}}function Gt(ut,hn){if(1&ut){const an=t.RV6();t.j41(0,"div",7),t.DNE(1,Mt,3,1,"div",11),t.nI1(2,"async"),t.j41(3,"div",12)(4,"div",13),t.DNE(5,Ne,1,2,"ds-view-mode-switch",14),t.j41(6,"button",15),t.bIt("click",function(){t.eBV(an);const yt=t.XpG();return t.Njj(yt.openSidebar())}),t.nrm(7,"i",16),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.SdG(10),t.DNE(11,rt,5,18,"ds-search-results",17),t.k0s()()}if(2&ut){const an=t.XpG();t.R7$(),t.Y8G("ngIf",!0!==t.bMT(2,4,an.isXsOrSm$)),t.R7$(4),t.Y8G("ngIf",an.inPlaceSearch&&an.showViewModes),t.R7$(3),t.SpI(" ",t.bMT(9,6,"search.sidebar.open")," "),t.R7$(3),t.Y8G("ngIf",an.inPlaceSearch)}}function Zt(ut,hn){if(1&ut){const an=t.RV6();t.j41(0,"ds-search-sidebar",22),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("changeConfiguration",function(yt){t.eBV(an);const Kt=t.XpG(2);return t.Njj(Kt.changeContext(yt.context))})("changeViewMode",function(){t.eBV(an);const yt=t.XpG(2);return t.Njj(yt.changeViewMode)}),t.k0s()}if(2&ut){let an;const Pn=t.XpG(2);t.Y8G("configurationList",Pn.configurationList)("configuration",t.bMT(1,12,Pn.currentConfiguration$))("currentScope",t.bMT(2,14,Pn.currentScope$))("filters",Pn.filtersRD$.asObservable())("refreshFilters",Pn.refreshFilters)("resultCount",null==(an=t.bMT(3,16,Pn.resultsRD$))||null==an.payload?null:an.payload.totalElements)("searchOptions",t.bMT(4,18,Pn.searchOptions$))("sortOptionsList",t.bMT(5,20,Pn.sortOptionsList$))("currentSortOption",t.bMT(6,22,Pn.currentSortOptions$))("inPlaceSearch",Pn.inPlaceSearch)("viewModeList",Pn.viewModeList)("showViewModes",Pn.showViewModes)}}function mt(ut,hn){if(1&ut){const an=t.RV6();t.j41(0,"ds-search-sidebar",23),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("toggleSidebar",function(){t.eBV(an);const yt=t.XpG(2);return t.Njj(yt.closeSidebar())})("changeConfiguration",function(yt){t.eBV(an);const Kt=t.XpG(2);return t.Njj(Kt.changeContext(yt.context))})("changeViewMode",function(){t.eBV(an);const yt=t.XpG(2);return t.Njj(yt.changeViewMode())}),t.k0s()}if(2&ut){let an;const Pn=t.XpG(2);t.Y8G("configurationList",Pn.configurationList)("configuration",t.bMT(1,12,Pn.currentConfiguration$))("currentScope",t.bMT(2,14,Pn.currentScope$))("filters",Pn.filtersRD$.asObservable())("refreshFilters",Pn.refreshFilters)("resultCount",null==(an=t.bMT(3,16,Pn.resultsRD$))||null==an.payload?null:an.payload.totalElements)("searchOptions",t.bMT(4,18,Pn.searchOptions$))("sortOptionsList",t.bMT(5,20,Pn.sortOptionsList$))("currentSortOption",t.bMT(6,22,Pn.currentSortOptions$))("inPlaceSearch",Pn.inPlaceSearch)("viewModeList",Pn.viewModeList)("showViewModes",Pn.showViewModes)}}function Pt(ut,hn){if(1&ut&&(t.DNE(0,Zt,7,24,"ds-search-sidebar",20),t.nI1(1,"async"),t.DNE(2,mt,7,24,"ds-search-sidebar",21),t.nI1(3,"async")),2&ut){const an=t.XpG();t.Y8G("ngIf",!0!==t.bMT(1,2,an.isXsOrSm$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,an.isXsOrSm$))}}function Ce(ut,hn){if(1&ut){const an=t.RV6();t.j41(0,"ds-search-form",24),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("submitSearch",function(yt){t.eBV(an);const Kt=t.XpG();return t.Njj(Kt.onSubmitSearch(yt))}),t.k0s(),t.j41(4,"div",25)(5,"div",26),t.nrm(6,"ds-search-labels",27),t.k0s()()}if(2&ut){let an,Pn;const yt=t.XpG();t.Y8G("query",null==(an=t.bMT(1,8,yt.searchOptions$))?null:an.query)("scope",null==(Pn=t.bMT(2,10,yt.searchOptions$))?null:Pn.scope)("hideScopeInUrl",yt.hideScopeInUrl)("currentUrl",yt.searchLink)("showScopeSelector",yt.showScopeSelector)("inPlaceSearch",yt.inPlaceSearch)("searchPlaceholder",t.bMT(3,12,yt.searchFormPlaceholder)),t.R7$(6),t.Y8G("inPlaceSearch",yt.inPlaceSearch)}}let je=(()=>{class ut{constructor(an,Pn,yt,Kt,Rt,nn,gn,It){this.service=an,this.sidebarService=Pn,this.windowService=yt,this.searchConfigService=Kt,this.routeService=Rt,this.router=nn,this.appConfig=gn,this.platformId=It,this.configurationList=[],this.context=w.o.Search,this.useCachedVersionIfAvailable=!0,this.inPlaceSearch=!0,this.paginationId="spc",this.searchEnabled=!0,this.sideBarWidth=3,this.searchFormPlaceholder="search.search-form.placeholder",this.selectable=!1,this.showCsvExport=!1,this.showSidebar=!0,this.showViewModes=!0,this.showScopeSelector=!0,this.trackStatistics=!1,this.currentConfiguration$=new f.t(""),this.currentContext$=new f.t(null),this.currentSortOptions$=new f.t(null),this.filtersRD$=new f.t(null),this.resultsRD$=new f.t(null),this.searchOptions$=new f.t(null),this.sortOptionsList$=new f.t([]),this.initialized$=new f.t(!1),this.refreshFilters=new f.t(!1),this.uuidRegex=/\b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b/g,this.allowedObjectPaths=["entities",k.xb,p.CC,x.b2],this.subs=[],this.resultFound=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.isXsOrSm$=this.windowService.isXsOrSm()}ngOnInit(){if(!this.renderOnServerSide&&!A.c.ssr.enableSearchComponent&&(0,i.Vy)(this.platformId))return this.subs.push(this.getSearchOptions().pipe((0,E.F)()).subscribe(Rt=>{this.searchOptions$.next(Rt)})),void this.initialized$.next(!0);this.useUniquePageId&&(this.paginationId=m()(this.paginationId)),this.searchConfigService.setPaginationId(this.paginationId),(0,K.a4)(this.configuration)&&this.routeService.setParameter("configuration",this.configuration),(0,K.a4)(this.fixedFilterQuery)&&this.routeService.setParameter("fixedFilterQuery",this.fixedFilterQuery),this.currentScope$=this.routeService.getQueryParameterValue("scope").pipe((0,_.T)(Rt=>(0,K.a4)(Rt)?Rt:this.scope??"")),this.isSidebarCollapsed$=this.isSidebarCollapsed(),this.searchLink=this.getSearchLink(),this.currentContext$.next(this.context);const an=this.searchConfigService.getCurrentConfiguration(this.configuration).pipe((0,E.F)()),Pn=(0,v.z)([an,this.currentScope$]).pipe((0,C.n)(([Rt,nn])=>this.searchConfigService.getConfigurationSearchConfig(Rt,nn)),(0,_.T)(Rt=>this.searchConfigService.getConfigurationSortOptions(Rt)),(0,E.F)()),yt=Pn.pipe((0,C.n)(Rt=>this.searchConfigService.getCurrentSort(this.paginationId,Rt[0])),(0,E.F)()),Kt=this.getSearchOptions().pipe((0,E.F)());this.subs.push((0,v.z)([an,Pn,Kt,yt,this.currentScope$]).pipe((0,I.p)(([Rt,nn,gn,It,zt])=>gn.pagination.id===this.paginationId),(0,R.B)(100)).subscribe(([Rt,nn,gn,It,zt])=>{const Yt=Object.assign({},gn,{configuration:gn.configuration||Rt,sort:It||gn.sort});""===Yt.query&&(Yt.query=this.query),(0,K.Im)(Yt.scope)&&(Yt.scope=zt);const wt=new ee.C(Yt);JSON.stringify(wt)!==JSON.stringify(this.searchOptions$.value)&&(this.currentConfiguration$.next(Rt),this.currentSortOptions$.next(wt.sort),this.sortOptionsList$.next(nn),this.searchOptions$.next(wt),this.initialized$.next(!0),this.retrieveSearchResults(wt),this.retrieveFilters(wt))})),this.subscribeToRoutingEvents()}changeContext(an){this.currentContext$.next(an)}closeSidebar(){this.sidebarService.collapse()}changeViewMode(){this.resultsRD$.next(null)}openSidebar(){this.sidebarService.expand()}onContentChange(an){this.retrieveFilters(this.lastSearchOptions),this.refreshFilters.next(!0)}onSubmitSearch(an){const Pn=this.searchOptions$.value;if(Pn){const yt=Object.assign({},Pn,an);this.searchOptions$.next(new ee.C(yt)),this.retrieveSearchResults(new ee.C(yt))}}ngOnDestroy(){this.subs.filter(an=>(0,K.a4)(an)).forEach(an=>an.unsubscribe())}getSearchOptions(){return this.searchConfigService.paginatedSearchOptions}retrieveFilters(an){this.searchConfigService.getConfig(an.scope,an.configuration).pipe((0,M.qD)()).subscribe(Pn=>{this.filtersRD$.next(Pn)})}retrieveSearchResults(an){this.resultsRD$.next(null),this.lastSearchOptions=an;const Pn=[(0,Z.s)("thumbnail",{isOptional:!0}),(0,Z.s)("item",{isOptional:!0},(0,Z.s)("thumbnail",{isOptional:!0}))];this.appConfig.item.showAccessStatuses&&Pn.push((0,Z.s)("accessStatus",{isOptional:!0})),"supervision"===this.configuration&&Pn.push((0,Z.s)("supervisionOrders",{isOptional:!0}));const yt=Object.assign(new ee.C({}),an);(0,K.hj)(this.hiddenQuery)&&(yt.query=(0,K.hj)(yt.query)?yt.query+" AND "+this.hiddenQuery:this.hiddenQuery),this.service.search(yt,void 0,this.useCachedVersionIfAvailable,!0,...Pn).pipe((0,M.qD)()).subscribe(Kt=>{Kt.hasSucceeded&&(this.trackStatistics&&this.service.trackSearch(yt,Kt.payload),Kt.payload?.page?.length>0&&this.resultFound.emit(Kt.payload)),this.resultsRD$.next(Kt)})}subscribeToRoutingEvents(){this.trackStatistics&&this.subs.push(this.router.events.pipe((0,I.p)(an=>an instanceof u.Z),(0,_.T)(an=>this.getDsoUUIDFromUrl(an.url)),(0,K.Az)()).subscribe(an=>{this.resultsRD$.value.hasSucceeded&&this.service.trackSearch(this.searchOptions$.value,this.resultsRD$.value.payload,an)}))}getDsoUUIDFromUrl(an){if((0,K.hj)(an)&&this.allowedObjectPaths.some(Pn=>an.startsWith(`/${Pn}`))){const Pn=an.substring(an.lastIndexOf("/")+1);if(Pn.match(this.uuidRegex))return Pn}return null}isSidebarCollapsed(){return this.sidebarService.isCollapsed}getSearchLink(){return this.inPlaceSearch?(0,J.N)(this.router):this.service.getSearchLink()}static{this.\u0275fac=function(Pn){return new(Pn||ut)(t.rXU(L.S),t.rXU(te.o),t.rXU(Y.CV),t.rXU(W.EN),t.rXU(O.v$),t.rXU(u.Ix),t.rXU(T.vQ),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:ut,selectors:[["ds-base-search"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",hiddenQuery:"hiddenQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl",renderOnServerSide:"renderOnServerSide"},outputs:{resultFound:"resultFound",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],ngContentSelectors:ce,decls:12,vars:9,consts:[["searchContent",""],["sidebarContent",""],["searchForm",""],["class","container",4,"ngIf"],[4,"ngIf"],[3,"id","sideBarWidth","sidebarContent",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],[3,"id","sideBarWidth","sidebarContent"],["class","col-12",4,"ngIf"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch",4,"ngIf"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-end","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails","contentChange","deselectObject","selectObject",4,"ngIf"],[3,"viewModeList","inPlaceSearch"],[3,"contentChange","deselectObject","selectObject","searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar",3,"changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"toggleSidebar","changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-form",3,"submitSearch","query","scope","hideScopeInUrl","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-12"],[3,"inPlaceSearch"]],template:function(Pn,yt){1&Pn&&(t.NAR(se),t.DNE(0,me,4,1,"div",3),t.nI1(1,"async"),t.DNE(2,Te,2,1,"div",4),t.nI1(3,"async"),t.DNE(4,Fe,2,4,"ds-page-with-sidebar",5),t.nI1(5,"async"),t.DNE(6,Gt,12,8,"ng-template",null,0,t.C5r)(8,Pt,4,6,"ng-template",null,1,t.C5r)(10,Ce,7,14,"ng-template",null,2,t.C5r)),2&Pn&&(t.Y8G("ngIf",yt.searchEnabled&&t.bMT(1,3,yt.isXsOrSm$)),t.R7$(2),t.Y8G("ngIf",!yt.showSidebar&&t.bMT(3,5,yt.initialized$)),t.R7$(2),t.Y8G("ngIf",yt.showSidebar&&t.bMT(5,7,yt.initialized$)))},dependencies:[i.Jj,i.bT,i.T3,z.f,q.d,ne.N,fe.p,e.h,e.D9,le.L,Q.g],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}[_nghost-%COMP%]{--bs-gutter-x: .75rem}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[U.W]},changeDetection:0})}}return ut})()},54196:(F,D,n)=>{"use strict";n.d(D,{SB:()=>t,gp:()=>e,mq:()=>h});var i=n(82777);function t(m,f){const v=new RegExp(`[?|&]${u(encodeURIComponent(f.paramName))}=(${u(encodeURIComponent(m.value))}[^&]*)`,"g");if((0,i.hj)(m._links)){const E=v.exec(m._links.search.href);if((0,i.hj)(E))return decodeURIComponent(E[1])}return m.authorityKey?h(m.authorityKey,"authority"):h(m.value,"equals")}function u(m){return m.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function e(m){return m.match(new RegExp(".+,(equals|query|authority)$"))?m.substring(0,m.lastIndexOf(",")):m}function h(m,f){return m.match(new RegExp("^.+,(equals|query|authority|contains|notcontains|notequals)$"))?m:`${m},${f}`}},54992:(F,D,n)=>{"use strict";n.d(D,{N:()=>v});var i=n(54438),e=(n(26292),n(7581),n(8886));n(77766);const m=["*"];function f(E,_){}let v=(()=>{class E extends e.J{constructor(){super(...arguments),this.inAndOutputNames=["configurationList","context","configuration","fixedFilterQuery","hiddenQuery","useCachedVersionIfAvailable","inPlaceSearch","linkType","paginationId","searchEnabled","sideBarWidth","searchFormPlaceholder","selectable","selectionConfig","showCsvExport","showSidebar","showThumbnails","showViewModes","useUniquePageId","viewModeList","showScopeSelector","trackStatistics","query","scope","hideScopeInUrl","resultFound","deselectObject","selectObject"],this.resultFound=new i.bkB,this.deselectObject=new i.bkB,this.selectObject=new i.bkB}getComponentName(){return"SearchComponent"}importThemedComponent(C){return n(13390)(`./${C}/app/shared/search/search.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,77766))}static{this.\u0275fac=(()=>{let C;return function(R){return(C||(C=i.xGo(E)))(R||E)}})()}static{this.\u0275cmp=i.VBU({type:E,selectors:[["ds-search"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",hiddenQuery:"hiddenQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl"},outputs:{resultFound:"resultFound",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(I,R){1&I&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return E})()},50919:(F,D,n)=>{"use strict";n.d(D,{f:()=>_});var i=n(60177),t=n(96354),u=n(10214),e=n(57538),h=n(52600),m=n(54438);const f=["*"];function v(C,I){1&C&&m.eu8(0)}function E(C,I){if(1&C&&(m.j41(0,"div",4),m.nI1(1,"async"),m.nI1(2,"async"),m.nI1(3,"async"),m.DNE(4,v,1,0,"ng-container",5),m.k0s()),2&C){const R=m.XpG();m.STu("col-12 col-md-",R.sideBarWidth," sidebar-content ",m.bMT(1,9,R.sidebarClasses),""),m.AVh("invisible",!0===m.bMT(2,11,R.isSidebarCollapsed$)&&!0===m.bMT(3,13,R.isXsOrSm$)),m.Mz_("id","",R.id,"-sidebar-content"),m.R7$(4),m.Y8G("ngTemplateOutlet",R.sidebarContent)}}let _=(()=>{class C{constructor(R,T){this.sidebarService=R,this.windowService=T,this.sideBarWidth=3}ngOnInit(){this.isXsOrSm$=this.windowService.isXsOrSm(),this.isSidebarCollapsed$=this.isSidebarCollapsed(),this.sidebarClasses=this.isSidebarCollapsed$.pipe((0,t.T)(R=>R?"":"active"))}isSidebarCollapsed(){return this.sidebarService.isCollapsed}closeSidebar(){this.sidebarService.collapse()}openSidebar(){this.sidebarService.expand()}static{this.\u0275fac=function(T){return new(T||C)(m.rXU(h.o),m.rXU(e.CV))}}static{this.\u0275cmp=m.VBU({type:C,selectors:[["ds-page-with-sidebar"]],inputs:{id:"id",sidebarContent:"sidebarContent",sideBarWidth:"sideBarWidth"},standalone:!0,features:[m.aNF],ngContentSelectors:f,decls:9,vars:15,consts:[[1,"container"],[1,"row"],[1,"row-with-sidebar","row-offcanvas","row-offcanvas-left","px-0"],[3,"id","invisible","class",4,"ngIf"],[3,"id"],[4,"ngTemplateOutlet"]],template:function(T,A){1&T&&(m.NAR(),m.j41(0,"div",0)(1,"div",1)(2,"div",2),m.nI1(3,"async"),m.DNE(4,E,5,15,"div",3),m.j41(5,"div"),m.nI1(6,"async"),m.nI1(7,"async"),m.SdG(8),m.k0s()()()()),2&T&&(m.R7$(2),m.Y8G("@pushInOut",m.bMT(3,9,A.isSidebarCollapsed$)?"collapsed":"expanded"),m.R7$(2),m.Y8G("ngIf",A.sideBarWidth>0),m.R7$(),m.ZvI("col-12 col-md-",12-A.sideBarWidth,""),m.AVh("px-0",0===A.sideBarWidth)("invisible",!0!==m.bMT(6,11,A.isSidebarCollapsed$)&&!0===m.bMT(7,13,A.isXsOrSm$)))},dependencies:[i.Jj,i.T3,i.bT],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}.row-with-sidebar.row-offcanvas[_ngcontent-%COMP%]{width:100%}.row-with-sidebar.row-offcanvas[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-right:calc(var(--bs-gutter-x) / 2);padding-left:calc(var(--bs-gutter-x) / 2)}@media (min-width: 768px){.row-with-sidebar[_ngcontent-%COMP%]{display:flex}}@media (max-width: 767.98px){.row-with-sidebar[_ngcontent-%COMP%], .row-with-sidebar.row-offcanvas[_ngcontent-%COMP%]{position:relative}.row-with-sidebar.row-offcanvas-right[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{right:-100%}.row-with-sidebar.row-offcanvas-left[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{left:-100%}.row-with-sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{position:absolute;top:0;width:100%}}@media (min-width: 768px){.sidebar-content[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:0;z-index:var(--bs-zindex-sticky);padding-top:var(--ds-content-spacing);margin-top:calc(-1 * var(--ds-content-spacing));align-self:flex-start;display:block}}"],data:{animation:[u.W]}})}}return C})()},80270:(F,D,n)=>{"use strict";n.d(D,{v:()=>e});var i=n(54438),t=n(41780);const u=["*"];let e=(()=>{class h{constructor(){this.changed=new i.bkB}static{this.\u0275fac=function(v){return new(v||h)}}static{this.\u0275cmp=i.VBU({type:h,selectors:[["ds-sidebar-dropdown"]],inputs:{id:"id",label:"label"},outputs:{changed:"changed"},standalone:!0,features:[i.aNF],ngContentSelectors:u,decls:7,vars:5,consts:[[1,"setting-option","mb-3","p-3"],[1,"form-label",3,"for"],[1,"form-select",3,"change","id"]],template:function(v,E){1&v&&(i.NAR(),i.j41(0,"div",0)(1,"h4")(2,"label",1),i.EFF(3),i.nI1(4,"translate"),i.k0s()(),i.j41(5,"select",2),i.bIt("change",function(C){return E.changed.emit(C)}),i.SdG(6),i.k0s()()),2&v&&(i.R7$(2),i.FS9("for",E.id),i.R7$(),i.JRh(i.bMT(4,3,E.label)),i.R7$(2),i.FS9("id",E.id))},dependencies:[t.h,t.D9],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return h})()},52680:(F,D,n)=>{"use strict";n.d(D,{EI:()=>u,Kd:()=>t,pm:()=>e});var i=n(91e3);const t={COLLAPSE:(0,i.N)("dspace/sidebar/COLLAPSE"),EXPAND:(0,i.N)("dspace/sidebar/EXPAND"),TOGGLE:(0,i.N)("dspace/sidebar/TOGGLE")};class u{constructor(){this.type=t.COLLAPSE}}class e{constructor(){this.type=t.EXPAND}}},52600:(F,D,n)=>{"use strict";n.d(D,{o:()=>E});var i=n(25499),t=n(84572),u=n(96354),e=n(57538),h=n(52680),m=n(54438);const v=(0,i.Mz)(_=>_.sidebar,_=>_.sidebarCollapsed);let E=(()=>{class _{constructor(I,R){this.store=I,this.windowService=R,this.isXsOrSm$=this.windowService.isXsOrSm(),this.isCollapsedInStore=this.store.pipe((0,i.Lt)(v))}get isCollapsed(){return(0,t.z)(this.isXsOrSm$,this.isCollapsedInStore).pipe((0,u.T)(([I,R])=>!I||R))}collapse(){this.store.dispatch(new h.EI)}expand(){this.store.dispatch(new h.pm)}static{this.\u0275fac=function(R){return new(R||_)(m.KVO(i.il),m.KVO(e.CV))}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},9274:(F,D,n)=>{"use strict";n.d(D,{P5:()=>p});var i=n(60177),t=n(89417),u=n(41780),e=n(82777),h=n(22978),m=n(19798),f=n(54438),v=n(7901);let E=(()=>{class x{constructor(w,M,L){this.paginationService=w,this.route=M,this.router=L,this.subs=[]}ngOnInit(){this.subs.push(this.route.queryParams.subscribe(w=>{(0,e.a4)(w.startsWith)&&this.setStartsWith(w.startsWith)})),this.formData=new t.J3({startsWith:new t.hs})}getStartsWith(){return this.startsWith}setStartsWith(w){this.startsWith=w}setStartsWithParam(w=!0){"-1"===this.startsWith&&(this.startsWith=void 0),w?this.paginationService.updateRoute(this.paginationId,{page:1},{startsWith:this.startsWith}):this.router.navigate([],{queryParams:Object.assign({startsWith:this.startsWith}),queryParamsHandling:"merge"})}submitForm(w){this.startsWith=w.startsWith,this.setStartsWithParam()}ngOnDestroy(){this.subs.filter(w=>(0,e.a4)(w)).forEach(w=>w.unsubscribe())}static{this.\u0275fac=function(M){return new(M||x)(f.rXU(h.m),f.rXU(v.nX),f.rXU(v.Ix))}}static{this.\u0275cmp=f.VBU({type:x,selectors:[["ds-start-with-abstract"]],inputs:{paginationId:"paginationId",startsWithOptions:"startsWithOptions",type:"type"},decls:0,vars:0,template:function(M,L){},encapsulation:2})}}return x})();function _(x,O){if(1&x&&(f.j41(0,"option",5),f.EFF(1),f.k0s()),2&x){const w=O.$implicit,M=f.XpG();f.Y8G("value",w)("selected",w===M.startsWithYear?"selected":null),f.R7$(),f.SpI(" ",w," ")}}function C(x,O){if(1&x&&(f.j41(0,"option",5),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&x){const w=O.$implicit,M=f.XpG();f.Y8G("value",w)("selected",w===M.startsWithMonth?"selected":null),f.R7$(),f.SpI(" ",f.bMT(2,3,"browse.startsWith.months."+w)," ")}}let I=(()=>{class x extends E{constructor(){super(...arguments),this.startsWithMonth="none"}ngOnInit(){this.monthOptions=["none","january","february","march","april","may","june","july","august","september","october","november","december"],super.ngOnInit()}setStartsWithYearEvent(w){this.startsWithYear=+w.target.value,this.setStartsWithYearMonth(),this.setStartsWithParam(!0)}setStartsWithMonthEvent(w){this.startsWithMonth=w.target.value,this.setStartsWithYearMonth(),this.setStartsWithParam(!0)}getStartsWith(){const w=this.getStartsWithMonth();if(w>0&&(0,e.a4)(this.startsWithYear)&&-1!==this.startsWithYear){let M=""+w;return w<10&&(M=`0${w}`),`${this.startsWithYear}-${M}`}return(0,e.a4)(this.startsWithYear)&&this.startsWithYear>0?""+this.startsWithYear:void 0}setStartsWithYearMonth(){this.startsWith=this.getStartsWith()}setStartsWith(w){if(this.startsWith=w,(0,e.a4)(w)&&w.indexOf("-")>-1){const M=w.split("-");this.startsWithYear=+M[0];const L=+M[1];this.startsWithMonth=L<this.monthOptions.length?this.monthOptions[L]:this.monthOptions[0]}else this.startsWithYear=+w}getStartsWithMonth(){return this.monthOptions.indexOf(this.startsWithMonth)}static{this.\u0275fac=(()=>{let w;return function(L){return(w||(w=f.xGo(x)))(L||x)}})()}static{this.\u0275cmp=f.VBU({type:x,selectors:[["ds-starts-with-date"]],standalone:!0,features:[f.Vt3,f.aNF],decls:25,vars:27,consts:[[1,"w-100",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12","fw-bold","mb-1"],[1,"col-6","col-md-2"],["id","year-select",1,"form-select",3,"change"],[3,"value","selected"],[3,"value","selected",4,"ngFor","ngForOf"],["id","month-select",1,"form-select",3,"change"],[1,"col-12","col-md-6"],[1,"mb-3","input-group","pt-1","pt-md-0"],["type","text","name","startsWith","formControlName","startsWith",1,"form-control",3,"placeholder","value"],["type","submit",1,"btn","btn-primary"],[1,"fas","fa-book-open"]],template:function(M,L){1&M&&(f.j41(0,"form",0),f.bIt("ngSubmit",function(){return L.submitForm(L.formData.value)}),f.j41(1,"div",1)(2,"span",2),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.j41(5,"div",3)(6,"select",4),f.nI1(7,"translate"),f.bIt("change",function(k){return L.setStartsWithYearEvent(k)}),f.j41(8,"option",5),f.EFF(9),f.nI1(10,"translate"),f.k0s(),f.DNE(11,_,2,3,"option",6),f.k0s()(),f.j41(12,"div",3)(13,"select",7),f.nI1(14,"translate"),f.bIt("change",function(k){return L.setStartsWithMonthEvent(k)}),f.DNE(15,C,3,5,"option",6),f.k0s()(),f.j41(16,"div",8)(17,"div",9),f.nrm(18,"input",10),f.nI1(19,"translate"),f.nI1(20,"translate"),f.j41(21,"button",11),f.nrm(22,"i",12),f.EFF(23),f.nI1(24,"translate"),f.k0s()()()()()),2&M&&(f.Y8G("formGroup",L.formData),f.R7$(3),f.SpI(" ",f.bMT(4,13,"browse.startsWith.jump")," "),f.R7$(3),f.BMQ("aria-label",f.bMT(7,15,"browse.startsWith.choose_year.label")),f.R7$(2),f.Y8G("value",-1)("selected",!L.startsWithYear),f.R7$(),f.SpI(" ",f.bMT(10,17,"browse.startsWith.choose_year")," "),f.R7$(2),f.Y8G("ngForOf",L.startsWithOptions),f.R7$(2),f.BMQ("aria-label",f.bMT(14,19,"browse.startsWith.months.none.label")),f.R7$(2),f.Y8G("ngForOf",L.monthOptions),f.R7$(3),f.FS9("placeholder",f.bMT(19,21,"browse.startsWith.type_date")),f.Y8G("value",L.getStartsWith()?L.getStartsWith():""),f.BMQ("aria-label",f.bMT(20,23,"browse.startsWith.type_date.label")),f.R7$(5),f.SpI(" ",f.bMT(24,25,"browse.startsWith.submit"),""))},dependencies:[t.YN,t.qT,t.xH,t.y7,t.me,t.BC,t.cb,t.X1,t.j4,t.JD,i.pM,u.h,u.D9],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}"]})}}return x})();const T=new Map([[m.c.text,(()=>{class x extends E{getStartsWith(){return(0,e.a4)(this.startsWith)?this.startsWith:""}setStartsWithParam(w=!0){"0-9"===this.startsWith&&(this.startsWith="0"),super.setStartsWithParam(w)}static{this.\u0275fac=(()=>{let w;return function(L){return(w||(w=f.xGo(x)))(L||x)}})()}static{this.\u0275cmp=f.VBU({type:x,selectors:[["ds-starts-with-text"]],standalone:!0,features:[f.Vt3,f.aNF],decls:14,vars:14,consts:[[1,"w-100",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"row"],[1,"mb-3","input-group","col-sm-12","col-md-6","col-auto"],["type","text","name","startsWith","formControlName","startsWith",1,"form-control",3,"placeholder","value"],["type","submit",1,"btn","btn-primary"],[1,"fas","fa-book-open"],[1,"text-muted"]],template:function(M,L){1&M&&(f.j41(0,"form",0),f.bIt("ngSubmit",function(){return L.submitForm(L.formData.value)}),f.j41(1,"div",1)(2,"div",2)(3,"div",3),f.nrm(4,"input",4),f.nI1(5,"translate"),f.nI1(6,"translate"),f.j41(7,"button",5),f.nrm(8,"i",6),f.EFF(9),f.nI1(10,"translate"),f.k0s()()(),f.j41(11,"small",7),f.EFF(12),f.nI1(13,"translate"),f.k0s()()()),2&M&&(f.Y8G("formGroup",L.formData),f.R7$(4),f.FS9("placeholder",f.bMT(5,6,"browse.search-form.placeholder")),f.Y8G("value",L.getStartsWith()),f.BMQ("aria-label",f.bMT(6,8,"browse.startsWith.input")),f.R7$(5),f.SpI(" ",f.bMT(10,10,"browse.startsWith.submit"),""),f.R7$(3),f.JRh(f.bMT(13,12,"browse.startsWith.type_text")))},dependencies:[t.YN,t.qT,t.me,t.BC,t.cb,t.X1,t.j4,t.JD,u.h,u.D9],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:0}"]})}}return x})()],[m.c.date,I]]);function p(x){return T.get(x)}},31956:(F,D,n)=>{"use strict";n.d(D,{u:()=>m});var i=n(22924),t=n(9274),e=(n(19798),n(54438));function h(f,v){}let m=(()=>{class f extends i.e{constructor(){super(...arguments),this.inputNames=[...this.inputNames,"paginationId","startsWithOptions","type"]}getComponent(){return(0,t.P5)(this.type)}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=e.xGo(f)))(C||f)}})()}static{this.\u0275cmp=e.VBU({type:f,selectors:[["ds-starts-with-loader"]],inputs:{paginationId:"paginationId",startsWithOptions:"startsWithOptions",type:"type"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(_,C){1&_&&e.DNE(0,h,0,0,"ng-template",1,0,e.C5r)},encapsulation:2})}}return f})()},19798:(F,D,n)=>{"use strict";n.d(D,{c:()=>i});var i=function(t){return t.text="Text",t.date="Date",t}(i||{})},67478:(F,D,n)=>{"use strict";n.d(D,{y:()=>E});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(58235),m=n(76829),f=n(39147),v=n(17860);let E=class extends m.M{static{this.type=v.m}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"subscriptionType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],E.prototype,"subscriptionParameterList",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(h.N),(0,i.Sn)("design:type",u.c)],E.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(f.X),(0,i.Sn)("design:type",u.c)],E.prototype,"resource",void 0),E=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(m.M)],E)},17860:(F,D,n)=>{"use strict";n.d(D,{m:()=>t});const t=new(n(42547).v)("subscription")},15314:(F,D,n)=>{"use strict";n.d(D,{K:()=>u,t:()=>t});const t={SET:(0,n(91e3).N)("dspace/theme/SET")};class u{constructor(h){this.type=t.SET,this.payload={name:h}}}},10092:(F,D,n)=>{"use strict";n.d(D,{Q:()=>i});const i="base"},82522:(F,D,n)=>{"use strict";n.d(D,{Fs:()=>De});var i=n(60177),t=n(7901),u=n(25499),e=n(84412),h=n(7673),m=n(22806),f=n(70274),v=n(983),E=n(96697),_=n(5964),C=n(25558),I=n(96354),R=n(39974),T=n(85412),p=n(56594),x=n(39901),O=n(45113),w=n(88280),M=n(1321),L=n(13989),B=n(52998),k=n(80183),W=n(82777),U=n(43323),K=n(81569),Y=n(67600),G=n(15314),q=n(10092),z=n(84572),te=n(69799),Z=n(73335);class J{constructor(me){this.config=me}matches(me,re){return(0,h.of)(!0)}}class Q extends J{constructor(me){super(me),this.config=me,this.regex=new RegExp(this.config.regex)}matches(me,re){let Ee;const Te=(0,te.wN)(re);return(0,W.hj)(Te)&&(Ee=Te.match(this.regex)),(0,W.Tn)(Ee)&&(Ee=me.match(this.regex)),(0,h.of)((0,W.a4)(Ee))}}class ee extends J{constructor(me,re){super(me),this.config=me,this.handleService=re}matches(me,re){return(0,W.a4)(re?.handle)?(0,z.z)([this.handleService.normalizeHandle(re?.handle),this.handleService.normalizeHandle(this.config.handle)]).pipe((0,I.T)(([Ee,Te])=>(0,W.a4)(re)&&(0,W.a4)(re.handle)&&Ee===Te),(0,E.s)(1)):(0,h.of)(!1)}}class le extends J{constructor(me){super(me),this.config=me}matches(me,re){return(0,h.of)((0,W.a4)(re)&&re.uuid===this.config.uuid)}}var fe=n(54438);const se=(0,u.UX)("theme"),ce=(0,u.Mz)(se,be=>(0,W.a4)(be)?be.currentTheme:q.Q);let De=(()=>{class be{constructor(re,Ee,Te,tt,ht,Fe,Et){this.store=re,this.linkService=Ee,this.dSpaceObjectDataService=Te,this.injector=tt,this.gtcf=ht,this.router=Fe,this.document=Et,this._isThemeLoading$=new e.t(!1),this._isThemeCSSLoading$=new e.t(!1),this.themes=w.c.themes.map(Ye=>((be,me)=>(0,W.a4)(be.regex)?new Q(be):(0,W.a4)(be.handle)?new ee(be,me.get(Z.e)):(0,W.a4)(be.uuid)?new le(be):new J(be))(Ye,tt)),this.hasDynamicTheme=w.c.themes.some(Ye=>(0,W.a4)(Ye.regex)||(0,W.a4)(Ye.handle)||(0,W.a4)(Ye.uuid))}setTheme(re){this.store.dispatch(new G.K(re))}getThemeName(){let re;return this.store.pipe((0,u.Lt)(ce),(0,E.s)(1)).subscribe(Ee=>re=Ee),re}getThemeName$(){return this.store.pipe((0,u.Lt)(ce))}get isThemeLoading$(){return this._isThemeLoading$}listenForThemeChanges(re){this.getThemeName$().subscribe(Ee=>{if(re&&(0,B.S)(this._isThemeCSSLoading$,!0),(0,W.a4)(Ee))this.loadGlobalThemeConfig(Ee);else{const Te=(0,O.Nv)();(0,W.a4)(Te)?this.loadGlobalThemeConfig(Te.name):this.loadGlobalThemeConfig(q.Q)}})}listenForRouteChanges(){this.router.events.pipe((0,_.p)(re=>re instanceof t.gx),(0,C.n)(re=>this.updateThemeOnRouteChange$(re.urlAfterRedirects,re.state.root)),(0,C.n)(re=>re?this._isThemeCSSLoading$:[!1])).subscribe(re=>{(0,B.S)(this._isThemeLoading$,re)})}loadGlobalThemeConfig(re){this.setThemeCss(re),this.setHeadTags(re)}setThemeCss(re){const Ee=this.document.getElementsByTagName("head")[0];if((0,W.Tn)(Ee))return;const Te=Array.from(Ee.getElementsByClassName("theme-css")),tt=this.document.createElement("link");tt.setAttribute("rel","stylesheet"),tt.setAttribute("type","text/css"),tt.setAttribute("class","theme-css"),tt.setAttribute("href",`${encodeURIComponent(re)}-theme.css`),tt.onload=()=>{(0,W.hj)(Te)&&Te.forEach(ht=>{(0,W.a4)(ht)&&ht.remove()}),(0,B.S)(this._isThemeCSSLoading$,!1)},Ee.appendChild(tt)}setHeadTags(re){const Ee=this.document.getElementsByTagName("head")[0];if((0,W.Tn)(Ee))return;const Te=Array.from(Ee.getElementsByClassName("theme-head-tag"));(0,W.a4)(Te)&&Te.forEach(ht=>ht.remove());const tt=this.document.createDocumentFragment();this.createHeadTags(re).forEach(ht=>tt.appendChild(ht)),Ee.appendChild(tt)}createHeadTags(re){const Ee=this.getThemeConfigFor(re),Te=Ee?.headTags;if((0,W.Tn)(Te)){const tt=Ee?.extends;return(0,W.a4)(tt)?this.createHeadTags(tt):[this.createHeadTag({tagName:"link",attributes:{rel:"icon",href:"assets/images/favicon.ico",sizes:"any"}})]}return Te.map(this.createHeadTag.bind(this))}createHeadTag(re){const Ee=this.document.createElement(re.tagName);return(0,W.a4)(re.attributes)&&Object.entries(re.attributes).forEach(([Te,tt])=>Ee.setAttribute(Te,tt)),Ee.setAttribute("class","theme-head-tag"),Ee}updateThemeOnRouteChange$(re,Ee){const tt=this.store.pipe((0,u.Lt)(ce)).pipe((0,C.n)(ht=>{const Fe=this.findRouteData(Ee);if(!0===this.hasDynamicTheme&&(0,W.hj)(this.themes)){if((0,W.a4)(Fe)&&(0,W.a4)(Fe.data)&&(0,W.a4)(Fe.data.dso)){const Et=Fe.data.dso;if(Et.hasSucceeded)return(0,h.of)(Et.payload).pipe(this.getAncestorDSOs(),(0,C.n)(Ye=>this.matchThemeToDSOs(Ye,re)),(0,I.T)(Ye=>this.getActionForMatch(Ye,ht)))}return(0,W.a4)(Ee.queryParams)&&(0,W.a4)(Ee.queryParams.scope)?this.dSpaceObjectDataService.findById(Ee.queryParams.scope).pipe((0,k.yd)(),(0,k.Bo)(),this.getAncestorDSOs(),(0,C.n)(Ye=>this.matchThemeToDSOs(Ye,re)),(0,I.T)(Ye=>this.getActionForMatch(Ye,ht))):(0,m.H)(this.themes).pipe((0,f.H)(Et=>Et.matches(re,void 0).pipe((0,_.p)(Ye=>!0===Ye),(0,I.T)(()=>Et),(0,E.s)(1))),(0,E.s)(1),(0,I.T)(Et=>this.getActionForMatch(Et,ht)))}return(0,h.of)(new U.L)}),(0,E.s)(1));return tt.pipe((0,_.p)(ht=>ht.type!==U.o)).subscribe(ht=>{this.store.dispatch(ht)}),tt.pipe((0,I.T)(ht=>ht.type===G.t.SET))}findRouteData(...re){const Ee=re.find(Te=>(0,W.a4)(Te.data)&&(0,W.a4)(Te.data.dso));if((0,W.a4)(Ee))return Ee;{const Te=re.map(tt=>tt.children).reduce((tt,ht)=>[...tt,...ht]);return(0,W.hj)(Te)?this.findRouteData(...Te):void 0}}getAncestorDSOs(){return re=>re.pipe(function A(be,me=1/0,re){return me=(me||0)<1?1/0:me,(0,R.N)((Ee,Te)=>(0,T.h)(Ee,Te,be,me,void 0,!0,re))}(Ee=>{if((0,W.a4)(Ee)&&"function"==typeof Ee.getParentLinkKey){const Te=Ee.getParentLinkKey();return this.linkService.resolveLinkWithoutAttaching(Ee,(0,Y.s)(Te)).pipe((0,k.qD)(),(0,I.T)(tt=>(0,W.a4)(tt.payload)?tt.payload:null))}return v.w}),(0,_.p)(Ee=>(0,W.a4)(Ee)),(0,p.$)())}getActionForMatch(re,Ee){const Te=re?.config.name??q.Q;return Te!==Ee?new G.K(Te):new U.L}matchThemeToDSOs(re,Ee){return(0,m.H)(this.themes).pipe((0,f.H)(Te=>(0,m.H)(re).pipe((0,f.H)(tt=>Te.matches(Ee,tt)),(0,_.p)(tt=>!0===tt),(0,I.T)(()=>Te),(0,E.s)(1))),(0,E.s)(1),(0,x.U)(void 0))}getThemeConfigFor(re){return this.gtcf(re)}static{this.\u0275fac=function(Ee){return new(Ee||be)(fe.KVO(u.il),fe.KVO(M._),fe.KVO(L.DSpaceObjectDataService),fe.KVO(fe.zZn),fe.KVO(K.zD),fe.KVO(t.Ix),fe.KVO(i.qQ))}}static{this.\u0275prov=fe.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},8886:(F,D,n)=>{"use strict";n.d(D,{J:()=>x});var i=n(54438),t=n(84412),u=n(84572),e=n(7673),h=n(22806),m=n(25558),f=n(88141),v=n(96354),E=n(99437),_=n(82777),C=n(10092),I=n(82522);const R=["vcr"],T=["content"],A=["*"];function p(O,w){}let x=(()=>{class O{constructor(M,L){this.cdr=M,this.themeService=L,this.compRef$=new t.t(void 0),this.inAndOutputNames=[]}ngOnChanges(M){(0,_.Tn)(this.compRef)?this.initComponentInstance(M):this.inAndOutputNames.some(L=>(0,_.a4)(M[L]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(M))}ngAfterViewInit(){this.initComponentInstance()}ngOnDestroy(){[this.themeSub,this.lazyLoadSub].filter(M=>(0,_.a4)(M)).forEach(M=>M.unsubscribe()),this.destroyComponentInstance()}initComponentInstance(M){this.themeSub=this.themeService?.getThemeName$().subscribe(()=>{this.renderComponentInstance(M)})}renderComponentInstance(M){(0,_.a4)(this.lazyLoadSub)&&this.lazyLoadSub.unsubscribe(),(0,_.Tn)(this.lazyLoadObs)&&(this.lazyLoadObs=(0,u.z)([(0,e.of)(M),this.resolveThemedComponent(this.themeService.getThemeName()).pipe((0,m.n)(L=>(0,_.a4)(L)&&(0,_.a4)(L[this.getComponentName()])?[L[this.getComponentName()]]:(0,h.H)(this.importUnthemedComponent()).pipe((0,f.M)(()=>this.usedTheme=C.Q),(0,v.T)(B=>B[this.getComponentName()]))))])),this.lazyLoadSub=this.lazyLoadObs.subscribe(([L,B])=>{this.destroyComponentInstance(),this.compRef=this.vcr.createComponent(B,{projectableNodes:[this.themedElementContent.nativeElement.childNodes]}),(0,_.a4)(L)?this.ngOnChanges(L):this.connectInputsAndOutputs(),this.compRef$.next(this.compRef),this.cdr.markForCheck(),this.themedElementContent.nativeElement.remove()})}destroyComponentInstance(){(0,_.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=null),(0,_.a4)(this.vcr)&&this.vcr.clear()}connectInputsAndOutputs(){(0,_.hj)(this.inAndOutputNames)&&(0,_.a4)(this.compRef)&&(0,_.a4)(this.compRef.instance)&&this.inAndOutputNames.filter(M=>void 0!==this[M]).forEach(M=>{this.compRef.instance[M]=this[M]})}resolveThemedComponent(M,L=[]){return(0,_.hj)(M)?(0,h.H)(this.importThemedComponent(M)).pipe((0,f.M)(()=>this.usedTheme=M),(0,E.W)(()=>{const B=this.themeService.getThemeConfigFor(M)?.extends,k=[...L,M];if(L.includes(B))throw new Error("Theme extension cycle detected: "+[...k,B].join(" -> "));return this.resolveThemedComponent(B,k)})):(0,e.of)(null)}static{this.\u0275fac=function(L){return new(L||O)(i.rXU(i.gRc),i.rXU(I.Fs))}}static{this.\u0275cmp=i.VBU({type:O,selectors:[["ds-themed"]],viewQuery:function(L,B){if(1&L&&(i.GBs(R,5,i.c1b),i.GBs(T,5)),2&L){let k;i.mGM(k=i.lsd())&&(B.vcr=k.first),i.mGM(k=i.lsd())&&(B.themedElementContent=k.first)}},hostVars:1,hostBindings:function(L,B){2&L&&i.BMQ("data-used-theme",B.usedTheme)},features:[i.OA$],ngContentSelectors:A,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(L,B){1&L&&(i.NAR(),i.DNE(0,p,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())}})}}return O})()},25543:(F,D,n)=>{"use strict";n.d(D,{M:()=>i});class i{handle(u){return u.interpolateParams&&u.interpolateParams.default||u.key}}},44869:(F,D,n)=>{"use strict";n.d(D,{W:()=>v});var i=n(41780),t=n(82777),u=n(54438);let e=(()=>{class E{constructor(){this.actualClick=new u.bkB}mousedownEvent(C){this.start=new Date}mouseupEvent(C){new Date-this.start<250&&this.actualClick.emit(C)}static{this.\u0275fac=function(I){return new(I||E)}}static{this.\u0275dir=u.FsC({type:E,selectors:[["","dsDragClick",""]],hostBindings:function(I,R){1&I&&u.bIt("mousedown",function(A){return R.mousedownEvent(A)})("mouseup",function(A){return R.mouseupEvent(A)})},outputs:{actualClick:"actualClick"},standalone:!0})}}return E})();var h=n(39092);const m=["content"],f=["*"];let v=(()=>{class E{constructor(C){this.service=C,this.maxLines=-1,this.fixedHeight=!1,this.background="default",this.showToggle=!0,this.expand=!1,this.expandable=!1}ngOnInit(){this.setLines()}setLines(){this.sub=this.service.isCollapsed(this.id).subscribe(C=>{C?(this.lines=this.minLines.toString(),this.expand=!1):(this.lines=this.maxLines<0?"none":this.maxLines.toString(),this.expand=!0)})}ngAfterViewChecked(){this.truncateElement()}toggle(){this.service.toggle(this.id),this.expandable=!this.expandable}truncateElement(){if(this.showToggle){const C=this.content.nativeElement;C.scrollHeight>C.offsetHeight?C.children.length>0?C.children[C.children.length-1].offsetHeight>C.offsetHeight?(C.classList.add("truncated"),C.classList.remove("removeFaded")):(C.classList.remove("truncated"),C.classList.add("removeFaded")):C.innerText.length>0?(C.classList.add("truncated"),C.classList.remove("removeFaded")):(C.classList.remove("truncated"),C.classList.add("removeFaded")):(C.classList.remove("truncated"),C.classList.add("removeFaded"))}}get isExpanded(){return this.expand&&this.expandable}ngOnDestroy(){(0,t.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(I){return new(I||E)(u.rXU(h.F))}}static{this.\u0275cmp=u.VBU({type:E,selectors:[["ds-truncatable-part"]],viewQuery:function(I,R){if(1&I&&u.GBs(m,7),2&I){let T;u.mGM(T=u.lsd())&&(R.content=T.first)}},inputs:{minLines:"minLines",maxLines:"maxLines",id:"id",type:"type",fixedHeight:"fixedHeight",background:"background",showToggle:"showToggle"},standalone:!0,features:[u.aNF],ngContentSelectors:f,decls:9,vars:17,consts:[["content",""],[1,"content","dont-break-out","preserve-line-breaks"],["dsDragClick","","role","button",3,"actualClick","keyup.Enter","keyup.Space"],[1,"ms-1"]],template:function(I,R){if(1&I){const T=u.RV6();u.NAR(),u.j41(0,"div")(1,"div",1,0),u.SdG(3),u.k0s(),u.j41(4,"button",2),u.bIt("actualClick",function(){return u.eBV(T),u.Njj(R.toggle())})("keyup.Enter",function(){return u.eBV(T),u.Njj(R.toggle())})("keyup.Space",function(){return u.eBV(T),u.Njj(R.toggle())}),u.nrm(5,"i"),u.j41(6,"span",3),u.EFF(7),u.nI1(8,"translate"),u.k0s()()()}2&I&&(u.ZBM("clamp-",R.background,"-",R.lines," min-",R.minLines," ",R.type," ",R.fixedHeight?"fixedHeight":"",""),u.R7$(4),u.ZvI("btn btn-link p-0 ",R.isExpanded?"collapseButton":"expandButton",""),u.BMQ("aria-expanded",R.isExpanded),u.R7$(),u.ZvI("fas ",R.isExpanded?"fa-angle-up":"fa-angle-down",""),u.R7$(2),u.JRh(u.bMT(8,15,"item.truncatable-part.show-"+(R.isExpanded?"less":"more"))))},dependencies:[e,i.h,i.D9],styles:[".content[_ngcontent-%COMP%]:not(.truncated) ~ button.expandButton[_ngcontent-%COMP%]{display:none}.btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}.removeFaded.content[_ngcontent-%COMP%]:after{display:none}"]})}}return E})()},26500:(F,D,n)=>{"use strict";n.d(D,{GV:()=>e,Qs:()=>m,VR:()=>t,f7:()=>h});var i=n(91e3);const t={TOGGLE:(0,i.N)("dspace/truncatable/TOGGLE"),COLLAPSE:(0,i.N)("dspace/truncatable/COLLAPSE"),EXPAND:(0,i.N)("dspace/truncatable/EXPAND")};class u{constructor(v){this.id=v}}class e extends u{constructor(){super(...arguments),this.type=t.TOGGLE}}class h extends u{constructor(){super(...arguments),this.type=t.COLLAPSE}}class m extends u{constructor(){super(...arguments),this.type=t.EXPAND}}},21308:(F,D,n)=>{"use strict";n.d(D,{d:()=>e});var i=n(39092),t=n(54438);const u=["*"];let e=(()=>{class h{constructor(f,v){this.service=f,this.el=v,this.initialExpand=!1,this.onHover=!1,this.showToggle=!0}ngOnInit(){this.initialExpand?this.service.expand(this.id):this.service.collapse(this.id)}hoverCollapse(){this.onHover&&this.service.collapse(this.id)}hoverExpand(){this.onHover&&this.service.expand(this.id)}ngAfterViewChecked(){if(this.showToggle&&this.el.nativeElement.querySelectorAll(".truncated")?.length>0){const v=this.el.nativeElement.querySelectorAll(".dont-break-out");for(let E=0;E<v.length-1;E++)v[E].classList.remove("truncated"),v[E].classList.add("notruncatable");v[v.length-1].classList.add("truncated")}}static{this.\u0275fac=function(v){return new(v||h)(t.rXU(i.F),t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:h,selectors:[["ds-truncatable"]],inputs:{initialExpand:"initialExpand",id:"id",onHover:"onHover",showToggle:"showToggle"},standalone:!0,features:[t.aNF],ngContentSelectors:u,decls:2,vars:0,consts:[[3,"mouseenter","mouseleave"]],template:function(v,E){1&v&&(t.NAR(),t.j41(0,"div",0),t.bIt("mouseenter",function(){return E.hoverExpand()})("mouseleave",function(){return E.hoverCollapse()}),t.SdG(1),t.k0s())}})}}return h})()},39092:(F,D,n)=>{"use strict";n.d(D,{F:()=>f});var i=n(25499),t=n(96354),u=n(82777),e=n(26500),h=n(54438);const m=_=>_.truncatable;let f=(()=>{class _{constructor(I){this.store=I}isCollapsed(I){return this.store.pipe((0,i.Lt)(function v(_){return function E(_){return(0,i.Mz)(m,C=>{if((0,u.a4)(C))return C[_]})}(_)}(I)),(0,t.T)(R=>!!R&&R.collapsed))}toggle(I){this.store.dispatch(new e.GV(I))}collapse(I){this.store.dispatch(new e.f7(I))}expand(I){this.store.dispatch(new e.Qs(I))}static{this.\u0275fac=function(R){return new(R||_)(h.KVO(i.il))}}static{this.\u0275prov=h.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},32979:(F,D,n)=>{"use strict";n.d(D,{H:()=>t});var i=n(43377);class t{constructor(){this.disableMultipart=!1,this.itemAlias=null,this.autoUpload=!0,this.method=i.D.POST}}},43095:(F,D,n)=>{"use strict";n.d(D,{y:()=>U});var i=n(60177),t=n(54438),u=n(41780),e=n(59519),h=n.n(e),m=n(27200),f=n(7673),v=n(93130),E=n(19460),_=n(60456),C=n(82777);n(32979);let R=(()=>{class K{constructor(){this._overrideDragOverPage=!1}overrideDragOverPage(){this._overrideDragOverPage=!0}allowDragOverPage(){this._overrideDragOverPage=!1}isAllowedDragOverPage(){return!this._overrideDragOverPage}static{this.\u0275fac=function(q){return new(q||K)}}static{this.\u0275prov=t.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();var T=n(21626);const A=K=>({"ds-base-drop-zone-file-over":K}),p=K=>({width:K}),x=K=>({"progress-bar":!0,"bg-success progress-bar-striped progress-bar-animated":K});function O(K,Y){if(1&K){const G=t.RV6();t.j41(0,"div",8),t.nI1(1,"async"),t.bIt("fileOver",function(z){t.eBV(G);const te=t.XpG();return t.Njj(te.fileOverDocument(z))}),t.k0s()}if(2&K){const G=t.XpG();t.AVh("ds-document-drop-zone-active",t.bMT(1,3,G.isOverDocumentDropZone)),t.Y8G("uploader",G.uploader)}}function w(K,Y){if(1&K&&(t.j41(0,"div",9)(1,"div",10)(2,"p",11),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&K){const G=t.XpG();t.R7$(3),t.JRh(t.bMT(4,1,G.dropOverDocumentMsg))}}function M(K,Y){if(1&K){const G=t.RV6();t.j41(0,"div",12)(1,"span",13),t.nrm(2,"i",14),t.EFF(3),t.nI1(4,"translate"),t.nI1(5,"translate"),t.j41(6,"label",15),t.bIt("keyup.enter",function(z){t.eBV(G);const te=t.sdS(12);return z.stopImmediatePropagation(),t.Njj(te.click())}),t.j41(7,"span",16),t.nI1(8,"translate"),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.nrm(11,"input",17,0),t.k0s()()}if(2&K){const G=t.XpG();t.R7$(3),t.Lme(" ",t.bMT(4,9,G.dropMsg),"",t.bMT(5,11,"uploader.or")," "),t.R7$(3),t.Mz_("for","inputFileUploader-",G.uploaderId,""),t.R7$(),t.BMQ("aria-label",t.bMT(8,13,G.ariaLabel)),t.R7$(2),t.JRh(t.bMT(10,15,"uploader.browse")),t.R7$(2),t.Mz_("id","inputFileUploader-",G.uploaderId,""),t.Y8G("uploader",G.uploader)}}function L(K,Y){if(1&K&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&K){const G=t.XpG(2);t.R7$(),t.Lme("",t.bMT(2,2,"uploader.queue-length"),": ",null==G.uploader||null==G.uploader.queue?null:G.uploader.queue.length," | ")}}function B(K,Y){if(1&K&&(t.j41(0,"span",27),t.EFF(1),t.k0s()),2&K){const G=t.XpG(2);t.R7$(),t.SpI("",G.uploader.progress,"%")}}function k(K,Y){1&K&&(t.j41(0,"span",27),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&K&&(t.R7$(),t.JRh(t.bMT(2,1,"uploader.processing")))}function W(K,Y){if(1&K){const G=t.RV6();t.j41(0,"div")(1,"div",18)(2,"div",19)(3,"span",20),t.DNE(4,L,3,4,"span",7),t.EFF(5),t.k0s(),t.j41(6,"div",21)(7,"button",22),t.nI1(8,"translate"),t.bIt("click",function(){t.eBV(G);const z=t.XpG();return t.Njj(z.uploader.clearQueue())}),t.nrm(9,"i",23),t.k0s()(),t.DNE(10,B,2,1,"span",24)(11,k,3,3,"span",24),t.k0s(),t.j41(12,"div",25),t.nrm(13,"div",26),t.k0s()()()}if(2&K){const G=t.XpG();t.R7$(4),t.Y8G("ngIf",!G.uploader.options.disableMultipart),t.R7$(),t.SpI("",null==G.uploader||null==G.uploader.queue[0]?null:G.uploader.queue[0].file.name," "),t.R7$(2),t.FS9("title",t.bMT(8,8,"uploader.delete.btn-title")),t.Y8G("dsBtnDisabled",!G.uploader.queue.length),t.R7$(3),t.Y8G("ngIf",G.uploader.progress<100&&!(0===G.uploader.progress&&!G.uploader.options.autoUpload)),t.R7$(),t.Y8G("ngIf",100===G.uploader.progress),t.R7$(2),t.Y8G("ngStyle",t.eq3(10,p,G.uploader.progress+"%"))("ngClass",t.eq3(12,x,100===G.uploader.progress))}}let U=(()=>{class K{onDragOver(G){this.enableDragOverDocument&&this.dragService.isAllowedDragOverPage()&&(G.preventDefault(),"HTML"!==G.target.tagName&&(this.isOverDocumentDropZone=(0,f.of)(!0)))}constructor(G,q,z,te){this.cdr=G,this.dragService=q,this.tokenExtractor=z,this.cookieService=te,this.onCompleteItem=new t.bkB,this.onUploadError=new t.bkB,this.onFileSelected=new t.bkB,this.isOverBaseDropZone=(0,f.of)(!1),this.isOverDocumentDropZone=(0,f.of)(!1)}ngOnInit(){this.uploaderId="ds-drag-and-drop-uploader"+h()(),this.checkConfig(this.uploadFilesOptions),this.uploader=new m.l0({url:this.uploadFilesOptions.url,authToken:this.uploadFilesOptions.authToken,disableMultipart:this.uploadFilesOptions.disableMultipart,itemAlias:this.uploadFilesOptions.itemAlias,removeAfterUpload:!0,autoUpload:this.uploadFilesOptions.autoUpload,method:this.uploadFilesOptions.method,queueLimit:this.uploadFilesOptions.maxFileNumber}),(0,C.b0)(this.enableDragOverDocument)&&(this.enableDragOverDocument=!1),(0,C.b0)(this.dropMsg)&&(this.dropMsg="uploader.drag-message"),(0,C.b0)(this.dropOverDocumentMsg)&&(this.dropOverDocumentMsg="uploader.drag-message")}ngAfterViewInit(){this.uploader.onAfterAddingAll=G=>{this.onFileSelected.emit(G)},(0,C.b0)(this.onBeforeUpload)&&(this.onBeforeUpload=()=>{}),this.uploader.onBeforeUploadItem=G=>{G.url!==this.uploader.options.url&&(G.url=this.uploader.options.url),this.uploader.options.headers=[{name:E.sA,value:this.tokenExtractor.getToken()}],this.onBeforeUpload(),this.isOverDocumentDropZone=(0,f.of)(!1)},(0,C.a4)(this.uploadProperties)&&(this.uploader.onBuildItemForm=(G,q)=>{q.append("properties",JSON.stringify(this.uploadProperties))}),this.uploader.onCompleteItem=(G,q,z,te)=>{const Z=te[E.oo.toLowerCase()];if((0,C.hj)(Z)&&(this.saveXsrfToken(Z),this.uploader.options.headers=[{name:E.sA,value:this.tokenExtractor.getToken()}]),(0,C.hj)(q)){const J=JSON.parse(q);this.onCompleteItem.emit(J)}},this.uploader.onErrorItem=(G,q,z,te)=>{const Z=te[E.oo.toLowerCase()];(0,C.hj)(Z)&&(this.saveXsrfToken(Z),this.uploader.options.headers=[{name:E.sA,value:this.tokenExtractor.getToken()}]),this.onUploadError.emit({item:G,response:q,status:z,headers:te}),this.uploader.cancelAll()},this.uploader.onProgressAll=()=>this.onProgress(),this.uploader.onProgressItem=()=>this.onProgress()}fileOverBase(G){this.isOverBaseDropZone=(0,f.of)(G)}fileOverDocument(G){G||(this.isOverDocumentDropZone=(0,f.of)(G))}onProgress(){this.cdr.detectChanges()}checkConfig(G){const z=["url","authToken","disableMultipart","itemAlias"].filter(te=>!(te in G&&""!==G[te]));if(0<z.length)throw new Error("UploadFiles: Argument is missing the following required properties: "+z.join(", "))}saveXsrfToken(G){this.cookieService.remove(E.dX),this.cookieService.set(E.dX,G)}static{this.\u0275fac=function(q){return new(q||K)(t.rXU(t.gRc),t.rXU(R),t.rXU(T.B3),t.rXU(v.O))}}static{this.\u0275cmp=t.VBU({type:K,selectors:[["ds-uploader"]],hostBindings:function(q,z){1&q&&t.bIt("dragover",function(Z){return z.onDragOver(Z)},!1,t.tSv)},inputs:{dropMsg:"dropMsg",dropOverDocumentMsg:"dropOverDocumentMsg",enableDragOverDocument:"enableDragOverDocument",onBeforeUpload:"onBeforeUpload",uploadFilesOptions:"uploadFilesOptions",uploadProperties:"uploadProperties",ariaLabel:"ariaLabel"},outputs:{onCompleteItem:"onCompleteItem",onUploadError:"onUploadError",onFileSelected:"onFileSelected"},standalone:!0,features:[t.aNF],decls:11,vars:17,consts:[["fileInput",""],["ng2FileDrop","","class","ds-document-drop-zone position-fixed h-100 w-100",3,"ds-document-drop-zone-active","uploader","fileOver",4,"ngIf"],["class","ds-document-drop-zone-inner position-fixed h-100 w-100 p-2",4,"ngIf"],[1,"row"],[1,"col-md-12"],["ng2FileDrop","",1,"well","ds-base-drop-zone","mt-1","mb-3","text-muted",3,"fileOver","ngClass","uploader"],["class","text-center m-0 p-2 d-flex justify-content-center align-items-center",4,"ngIf"],[4,"ngIf"],["ng2FileDrop","",1,"ds-document-drop-zone","position-fixed","h-100","w-100",3,"fileOver","uploader"],[1,"ds-document-drop-zone-inner","position-fixed","h-100","w-100","p-2"],[1,"ds-document-drop-zone-inner-content","position-relative","d-flex","flex-column","justify-content-center","text-center","h-100","w-100"],[1,"text-primary"],[1,"text-center","m-0","p-2","d-flex","justify-content-center","align-items-center"],[1,"d-flex","align-items-center"],["aria-hidden","true",1,"fas","fa-upload","pe-1"],["tabindex","0",1,"btn","btn-link","m-0","p-0","ms-1",3,"keyup.enter","for"],["role","button"],["type","file","ng2FileSelect","","multiple","","tabindex","0",1,"d-none",3,"id","uploader"],[1,"m-1"],[1,"upload-item-top"],[1,"filename"],["role","group",1,"btn-group","btn-group-sm","float-end"],["type","button",1,"btn","btn-danger",3,"click","title","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-trash"],["class","float-end me-3",4,"ngIf"],[1,"ds-base-drop-zone-progress","clearfix","mt-2"],["role","progressbar",2,"height","5px","width","0",3,"ngStyle","ngClass"],[1,"float-end","me-3"]],template:function(q,z){1&q&&(t.DNE(0,O,2,5,"div",1),t.nI1(1,"async"),t.DNE(2,w,5,3,"div",2),t.nI1(3,"async"),t.j41(4,"div",3)(5,"div",4)(6,"div",5),t.nI1(7,"async"),t.bIt("fileOver",function(Z){return z.fileOverBase(Z)}),t.DNE(8,M,13,17,"div",6)(9,W,14,14,"div",7),t.nI1(10,"async"),t.k0s()()()),2&q&&(t.Y8G("ngIf",t.bMT(1,7,z.isOverDocumentDropZone)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,9,z.isOverDocumentDropZone)),t.R7$(2),t.BMQ("id",z.uploaderId),t.R7$(2),t.Y8G("ngClass",t.eq3(15,A,t.bMT(7,11,z.isOverBaseDropZone)))("uploader",z.uploader),t.R7$(2),t.Y8G("ngIf",0===(null==z.uploader||null==z.uploader.queue?null:z.uploader.queue.length)),t.R7$(),t.Y8G("ngIf",t.bMT(10,13,z.isOverBaseDropZone)||0!==(null==z.uploader||null==z.uploader.queue?null:z.uploader.queue.length)))},dependencies:[u.h,u.D9,m.eB,m.Ff,m.UJ,i.MD,i.YU,i.bT,i.B3,i.Jj,_.A],styles:[".ds-base-drop-zone[_ngcontent-%COMP%]{border:2px dashed var(--bs-gray-600)}.ds-base-drop-zone-file-over[_ngcontent-%COMP%]{border:2px dashed var(--bs-primary)}.ds-base-drop-zone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{min-height:var(--ds-drop-zone-area-height)}.ds-document-drop-zone[_ngcontent-%COMP%]{top:0;left:0;z-index:-1}.ds-document-drop-zone-active[_ngcontent-%COMP%]{z-index:var(--ds-drop-zone-area-z-index)!important}.ds-document-drop-zone-inner[_ngcontent-%COMP%]{background-color:#ffffffb3;z-index:var(--ds-drop-zone-area-inner-z-index);top:0;left:0}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]{border:4px dashed var(--bs-primary);z-index:var(--ds-drop-zone-area-inner-z-index)}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--bs-font-size-lg) * 2.5)}"]})}}return K})()},75465:(F,D,n)=>{"use strict";n.d(D,{L:()=>u});var i=n(60177),t=n(54438);let u=(()=>{class e{constructor(m){this.platformID=m}transform(m){if((0,i.UE)(this.platformID))return m}static{this.\u0275fac=function(f){return new(f||e)(t.rXU(t.Agw,16))}}static{this.\u0275pipe=t.EJ8({name:"dsBrowserOnly",type:e,pure:!0,standalone:!0})}}return e})()},46301:(F,D,n)=>{"use strict";n.d(D,{z:()=>t});var i=n(54438);let t=(()=>{class u{constructor(h){this._elementRef=h,this.dsClickOutside=new i.bkB}onClick(){const h=this._elementRef.nativeElement;h.contains(h.ownerDocument.activeElement)||this.dsClickOutside.emit(null)}static{this.\u0275fac=function(m){return new(m||u)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:u,selectors:[["","dsClickOutside",""]],hostBindings:function(m,f){1&m&&i.bIt("click",function(){return f.onClick()},!1,i.EBC)},outputs:{dsClickOutside:"dsClickOutside"},standalone:!0})}}return u})()},56386:(F,D,n)=>{"use strict";n.d(D,{R:()=>f});var i=n(54438),t=n(21413),u=n(70152),e=n(23294),h=n(56977),m=n(89417);let f=(()=>{class v{constructor(_){this.model=_,this.onDebounce=new i.bkB,this.dsDebounce=500,this.subject=new t.B}ngOnInit(){this.model.valueChanges.pipe((0,u.B)(this.dsDebounce),(0,e.F)(),(0,h.Q)(this.subject)).subscribe(_=>{this.model.dirty&&this.onDebounce.emit(_)})}ngOnDestroy(){this.subject.next(),this.subject.complete()}static{this.\u0275fac=function(C){return new(C||v)(i.rXU(m.vO))}}static{this.\u0275dir=i.FsC({type:v,selectors:[["","ngModel","","dsDebounce",""]],inputs:{dsDebounce:"dsDebounce"},outputs:{onDebounce:"onDebounce"},standalone:!0})}}return v})()},43525:(F,D,n)=>{"use strict";n.d(D,{s:()=>e});var i=n(806),u=n(54438);let e=(()=>{class h{transform(f=0,v=2){return i(f,{standard:"jedec",round:v})}static{this.\u0275fac=function(v){return new(v||h)}}static{this.\u0275pipe=u.EJ8({name:"dsFileSize",type:h,pure:!0,standalone:!0})}}return h})()},67600:(F,D,n)=>{"use strict";n.d(D,{s:()=>e});var i=n(41023),t=n(82777);const e=(h,{findListOptions:m,shouldEmbed:f,useCachedVersionIfAvailable:v,reRequestOnStale:E,isOptional:_}={},...C)=>({name:h,findListOptions:(0,t.a4)(m)?m:new i._,shouldEmbed:!(0,t.a4)(f)||f,useCachedVersionIfAvailable:!(0,t.a4)(v)||v,reRequestOnStale:!(0,t.a4)(E)||E,isOptional:!!(0,t.a4)(_)&&_,linksToFollow:C})},79803:(F,D,n)=>{"use strict";n.d(D,{l:()=>t});var i=n(54438);let t=(()=>{class u{constructor(h){this.elementRef=h,this.dsHoverOutside=new i.bkB}onMouseOver(h){const m=h.target,f=document.querySelector(this.dsHoverOutsideOfParentSelector);(f?new i.aKT(f):this.elementRef).nativeElement.contains(m)||this.dsHoverOutside.emit(null)}static{this.\u0275fac=function(m){return new(m||u)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:u,selectors:[["","dsHoverOutside",""]],hostBindings:function(m,f){1&m&&i.bIt("mouseover",function(E){return f.onMouseOver(E)},!1,i.EBC)},inputs:{dsHoverOutsideOfParentSelector:"dsHoverOutsideOfParentSelector"},outputs:{dsHoverOutside:"dsHoverOutside"},standalone:!0})}}return u})()},74430:(F,D,n)=>{"use strict";function i(t){return t<400?"thumb-font-0":t<750?"thumb-font-1":t<1e3?"thumb-font-2":"thumb-font-3"}n.d(D,{F:()=>i})},99390:(F,D,n)=>{"use strict";n.d(D,{U:()=>t});var i=n(54438);let t=(()=>{class u{transform(h,m=null){return Object.keys(h).map(f=>Object.assign({key:f},{value:h[f]}))}static{this.\u0275fac=function(m){return new(m||u)}}static{this.\u0275pipe=i.EJ8({name:"dsObjNgFor",type:u,pure:!0,standalone:!0})}}return u})()},49656:(F,D,n)=>{"use strict";n.d(D,{as:()=>u,nW:()=>e});var i=n(67600);function u(h,m){return`f.${h}=${m},equals`}function e(h,m){const f=[];return h&&f.push((0,i.s)("thumbnail")),m&&f.push((0,i.s)("accessStatus")),[(0,i.s)("leftItem",void 0,...f),(0,i.s)("rightItem",void 0,...f)]}},30506:(F,D,n)=>{"use strict";n.d(D,{F:()=>e,N:()=>u});var i=n(45663),t=n(82777);function u(h){return"/"+h.parseUrl(h.url).root.children.primary.segments.map(f=>f.path).join("/")}function e(h){if((0,t.a4)(h.parent)){const m=e(h.parent);return new i.t(m,h.routeConfig.path).toString()}return h.routeConfig?h.routeConfig.path:""}},43764:(F,D,n)=>{"use strict";n.d(D,{d:()=>u});var i=n(54438),t=n(345);let u=(()=>{class e{constructor(m){this.domSanitizer=m}transform(m){return null==m?null:this.domSanitizer.bypassSecurityTrustResourceUrl(m)}static{this.\u0275fac=function(f){return new(f||e)(i.rXU(t.up,16))}}static{this.\u0275pipe=i.EJ8({name:"dsSafeUrl",type:e,pure:!0,standalone:!0})}}return e})()},18226:(F,D,n)=>{"use strict";n.d(D,{r:()=>t});var i=n(54438);let t=(()=>{class u{set ngVar(h){this.context.$implicit=this.context.ngVar=h,this.updateView()}constructor(h,m){this.vcRef=h,this.templateRef=m,this.context={}}updateView(){this.vcRef.clear(),this.vcRef.createEmbeddedView(this.templateRef,this.context)}static{this.\u0275fac=function(m){return new(m||u)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:u,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0})}}return u})()},35538:(F,D,n)=>{"use strict";n.d(D,{g:()=>x});var i=n(60177),t=n(54438),u=n(7901),e=n(41780),h=n(5964),m=n(78655),f=n(78448),v=n(82777),E=n(75465),_=n(30506);const C=()=>({view:"list"}),I=()=>({view:"grid"}),R=()=>({view:"detailed"});function T(O,w){if(1&O){const M=t.RV6();t.j41(0,"button",2),t.nI1(1,"translate"),t.nI1(2,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(M);const B=t.XpG();return t.Njj(B.switchViewTo(B.viewModeEnum.ListElement))}),t.nrm(3,"i",3),t.k0s()}if(2&O){const M=t.XpG();t.AVh("active",M.currentMode===M.viewModeEnum.ListElement),t.Y8G("queryParams",t.lJ4(10,C)),t.BMQ("aria-current",M.currentMode===M.viewModeEnum.ListElement)("aria-label",t.bMT(1,6,"search.view-switch.show-list"))("data-test",t.bMT(2,8,"list-view"))}}function A(O,w){if(1&O){const M=t.RV6();t.j41(0,"button",2),t.nI1(1,"translate"),t.nI1(2,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(M);const B=t.XpG();return t.Njj(B.switchViewTo(B.viewModeEnum.GridElement))}),t.nrm(3,"i",4),t.k0s()}if(2&O){const M=t.XpG();t.AVh("active",M.currentMode===M.viewModeEnum.GridElement),t.Y8G("queryParams",t.lJ4(10,I)),t.BMQ("aria-current",M.currentMode===M.viewModeEnum.GridElement)("aria-label",t.bMT(1,6,"search.view-switch.show-grid"))("data-test",t.bMT(2,8,"grid-view"))}}function p(O,w){if(1&O){const M=t.RV6();t.j41(0,"button",2),t.nI1(1,"translate"),t.nI1(2,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(M);const B=t.XpG();return t.Njj(B.switchViewTo(B.viewModeEnum.DetailedListElement))}),t.nrm(3,"i",5),t.k0s()}if(2&O){const M=t.XpG();t.AVh("active",M.currentMode===M.viewModeEnum.DetailedListElement),t.Y8G("queryParams",t.lJ4(10,R)),t.BMQ("aria-current",M.currentMode===M.viewModeEnum.DetailedListElement)("aria-label",t.bMT(1,6,"search.view-switch.show-detail"))("data-test",t.bMT(2,8,"detail-view"))}}let x=(()=>{class O{constructor(M,L){this.searchService=M,this.router=L,this.currentMode=f.n.ListElement,this.viewModeEnum=f.n,this.changeViewMode=new t.bkB}ngOnInit(){(0,v.Im)(this.viewModeList)&&(this.viewModeList=[f.n.ListElement,f.n.GridElement]),this.sub=this.searchService.getViewMode().pipe((0,h.p)(M=>(0,v.hj)(M))).subscribe(M=>{this.currentMode=M})}switchViewTo(M){M!==this.currentMode&&this.changeViewMode.emit(M),this.searchService.setViewMode(M,this.getSearchLinkParts())}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}isToShow(M){return this.viewModeList&&this.viewModeList.includes(M)}getSearchLink(){return this.inPlaceSearch?(0,_.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.searchService?[]:this.getSearchLink().split("/")}static{this.\u0275fac=function(L){return new(L||O)(t.rXU(m.S),t.rXU(u.Ix))}}static{this.\u0275cmp=t.VBU({type:O,selectors:[["ds-view-mode-switch"]],inputs:{inPlaceSearch:"inPlaceSearch",viewModeList:"viewModeList"},outputs:{changeViewMode:"changeViewMode"},standalone:!0,features:[t.aNF],decls:4,vars:3,consts:[["data-toggle","buttons",1,"btn-group"],["routerLink",".","queryParamsHandling","merge","class","btn btn-secondary",3,"queryParams","active","click",4,"ngIf"],["routerLink",".","queryParamsHandling","merge",1,"btn","btn-secondary",3,"click","queryParams"],[1,"fas","fa-list"],[1,"fas","fa-th-large"],[1,"far","fa-square"]],template:function(L,B){1&L&&(t.j41(0,"div",0),t.DNE(1,T,4,11,"button",1)(2,A,4,11,"button",1)(3,p,4,11,"button",1),t.k0s()),2&L&&(t.R7$(),t.Y8G("ngIf",B.isToShow(B.viewModeEnum.ListElement)),t.R7$(),t.Y8G("ngIf",B.isToShow(B.viewModeEnum.GridElement)),t.R7$(),t.Y8G("ngIf",B.isToShow(B.viewModeEnum.DetailedListElement)))},dependencies:[i.bT,u.Wk,e.h,e.D9,E.L]})}}return O})()},98794:(F,D,n)=>{"use strict";n.d(D,{m:()=>E});var i=n(60177),t=n(54438),u=n(41780),e=n(90934),h=n(82394),m=n(58003);const f=_=>({"d-none":_});function v(_,C){1&_&&t.nrm(0,"ds-loading")}let E=(()=>{class _{constructor(I){this.activeModal=I,this.selectedEvent=new t.bkB,this.loading=!0}selectObject(I){this.loading=!0,this.selectedEvent.emit(I)}closeCollectionModal(){this.activeModal.dismiss(!1)}theOnlySelectable(I){this.selectedEvent.emit(I)}searchComplete(){this.loading=!1}isLoading(){return!!this.loading}static{this.\u0275fac=function(R){return new(R||_)(t.rXU(m.Lw))}}static{this.\u0275cmp=t.VBU({type:_,selectors:[["ds-submission-import-external-collection"]],outputs:{selectedEvent:"selectedEvent"},standalone:!0,features:[t.aNF],decls:8,vars:8,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngIf"],[3,"selectionChange","searchComplete","ngClass","entityType"]],template:function(R,T){1&R&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return T.closeCollectionModal()}),t.k0s()(),t.j41(5,"div",2),t.DNE(6,v,1,0,"ds-loading",3),t.j41(7,"ds-collection-dropdown",4),t.bIt("selectionChange",function(p){return T.selectObject(p)})("searchComplete",function(){return T.searchComplete()}),t.k0s()()()),2&R&&(t.R7$(2),t.SpI("",t.bMT(3,4,"dso-selector.select.collection.head")," "),t.R7$(4),t.Y8G("ngIf",T.isLoading()),t.R7$(),t.Y8G("ngClass",t.eq3(6,f,T.isLoading()))("entityType",T.entityType))},dependencies:[h.v,e.m,u.h,u.D9,i.YU,i.bT],styles:[".btn-close[_ngcontent-%COMP%]:focus{outline:none!important}"]})}}return _})()},66731:(F,D,n)=>{"use strict";n.d(D,{S:()=>i});var i=function(t){return t.Submission="SUBMISSION",t.Workflow="WORKFLOW",t}(i||{})},93158:(F,D,n)=>{"use strict";n.d(D,{Bo:()=>le,CG:()=>E,Dy:()=>U,IE:()=>se,Ob:()=>Z,SE:()=>Q,Sm:()=>_,Vn:()=>u,Z5:()=>J,Zi:()=>C,Zl:()=>k,_D:()=>ee,dm:()=>v,f0:()=>A,h3:()=>L,hJ:()=>m,i6:()=>f,jc:()=>T,kq:()=>q,ky:()=>B,l5:()=>G,lE:()=>t,nt:()=>fe,nu:()=>Y,oW:()=>p,pL:()=>K,sf:()=>W,sj:()=>O,t2:()=>I,tR:()=>w,ug:()=>R,v0:()=>te,w7:()=>ne,wM:()=>M,wT:()=>h,x9:()=>z});var i=n(91e3);const t={INIT_SUBMISSION_FORM:(0,i.N)("dspace/submission/INIT_SUBMISSION_FORM"),RESET_SUBMISSION_FORM:(0,i.N)("dspace/submission/RESET_SUBMISSION_FORM"),CANCEL_SUBMISSION_FORM:(0,i.N)("dspace/submission/CANCEL_SUBMISSION_FORM"),COMPLETE_INIT_SUBMISSION_FORM:(0,i.N)("dspace/submission/COMPLETE_INIT_SUBMISSION_FORM"),SAVE_FOR_LATER_SUBMISSION_FORM:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM"),SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS"),SAVE_FOR_LATER_SUBMISSION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM_ERROR"),SAVE_SUBMISSION_FORM:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM"),SAVE_SUBMISSION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM_SUCCESS"),SAVE_SUBMISSION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM_ERROR"),SAVE_SUBMISSION_SECTION_FORM:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM"),SAVE_SUBMISSION_SECTION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM_SUCCESS"),SAVE_SUBMISSION_SECTION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM_ERROR"),CHANGE_SUBMISSION_COLLECTION:(0,i.N)("dspace/submission/CHANGE_SUBMISSION_COLLECTION"),SET_ACTIVE_SECTION:(0,i.N)("dspace/submission/SET_ACTIVE_SECTION"),INIT_SECTION:(0,i.N)("dspace/submission/INIT_SECTION"),ENABLE_SECTION:(0,i.N)("dspace/submission/ENABLE_SECTION"),DISABLE_SECTION:(0,i.N)("dspace/submission/DISABLE_SECTION"),SET_SECTION_FORM_ID:(0,i.N)("dspace/submission/SET_SECTION_FORM_ID"),SECTION_STATUS_CHANGE:(0,i.N)("dspace/submission/SECTION_STATUS_CHANGE"),SECTION_LOADING_STATUS_CHANGE:(0,i.N)("dspace/submission/SECTION_LOADING_STATUS_CHANGE"),UPDATE_SECTION_DATA:(0,i.N)("dspace/submission/UPDATE_SECTION_DATA"),UPDATE_SECTION_DATA_SUCCESS:(0,i.N)("dspace/submission/UPDATE_SECTION_DATA_SUCCESS"),SAVE_AND_DEPOSIT_SUBMISSION:(0,i.N)("dspace/submission/SAVE_AND_DEPOSIT_SUBMISSION"),DEPOSIT_SUBMISSION:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION"),DEPOSIT_SUBMISSION_SUCCESS:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION_SUCCESS"),DEPOSIT_SUBMISSION_ERROR:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION_ERROR"),DISCARD_SUBMISSION:(0,i.N)("dspace/submission/DISCARD_SUBMISSION"),DISCARD_SUBMISSION_SUCCESS:(0,i.N)("dspace/submission/DISCARD_SUBMISSION_SUCCESS"),DISCARD_SUBMISSION_ERROR:(0,i.N)("dspace/submission/DISCARD_SUBMISSION_ERROR"),CLEAN_DUPLICATE_DETECTION:(0,i.N)("dspace/submission/CLEAN_DUPLICATE_DETECTION"),NEW_FILE:(0,i.N)("dspace/submission/NEW_FILE"),EDIT_FILE_DATA:(0,i.N)("dspace/submission/EDIT_FILE_DATA"),EDIT_FILE_PRIMARY_BITSTREAM_DATA:(0,i.N)("dspace/submission/EDIT_FILE_PRIMARY_BITSTREAM_DATA"),DELETE_FILE:(0,i.N)("dspace/submission/DELETE_FILE"),ADD_SECTION_ERROR:(0,i.N)("dspace/submission/ADD_SECTION_ERROR"),DELETE_SECTION_ERROR:(0,i.N)("dspace/submission/DELETE_SECTION_ERROR"),REMOVE_SECTION_ERRORS:(0,i.N)("dspace/submission/REMOVE_SECTION_ERRORS")};class u{constructor(De,be,me){this.type=t.ADD_SECTION_ERROR,this.payload={submissionId:De,sectionId:be,error:me}}}class h{constructor(De,be,me,re,Ee,Te,tt,ht,Fe,Et,Ye){this.type=t.INIT_SECTION,this.payload={submissionId:De,sectionId:be,header:me,config:re,mandatory:Ee,scope:Te,sectionType:tt,visibility:ht,enabled:Fe,data:Et,errors:Ye}}}class m{constructor(De,be){this.type=t.ENABLE_SECTION,this.payload={submissionId:De,sectionId:be}}}class f{constructor(De,be){this.type=t.DISABLE_SECTION,this.payload={submissionId:De,sectionId:be}}}class v{constructor(De,be,me,re,Ee,Te){this.type=t.UPDATE_SECTION_DATA,this.payload={submissionId:De,sectionId:be,data:me,errorsToShow:re,serverValidationErrors:Ee,metadata:Te}}}class E{constructor(De){this.type=t.CLEAN_DUPLICATE_DETECTION,this.payload={submissionId:De}}}class _{constructor(){this.type=t.UPDATE_SECTION_DATA_SUCCESS}}class C{constructor(De,be){this.type=t.REMOVE_SECTION_ERRORS,this.payload={submissionId:De,sectionId:be}}}class I{constructor(De,be,me){this.type=t.SET_SECTION_FORM_ID,this.payload={submissionId:De,sectionId:be,formId:me}}}class R{constructor(De){this.type=t.COMPLETE_INIT_SUBMISSION_FORM,this.payload={submissionId:De}}}class T{constructor(De,be,me,re,Ee,Te,tt){this.type=t.INIT_SUBMISSION_FORM,this.payload={collectionId:De,submissionId:be,selfUrl:me,submissionDefinition:re,sections:Ee,item:Te,errors:tt}}}class A{constructor(De){this.type=t.SAVE_FOR_LATER_SUBMISSION_FORM,this.payload={submissionId:De}}}class p{constructor(De,be){this.type=t.SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS,this.payload={submissionId:De,submissionObject:be}}}class O{constructor(De,be=!1){this.type=t.SAVE_SUBMISSION_FORM,this.payload={submissionId:De,isManual:be}}}class w{constructor(De,be,me,re){this.type=t.SAVE_SUBMISSION_FORM_SUCCESS,this.payload={submissionId:De,submissionObject:be,showNotifications:me,showErrors:re}}}class M{constructor(De){this.type=t.SAVE_SUBMISSION_FORM_ERROR,this.payload={submissionId:De}}}class L{constructor(De,be){this.type=t.SAVE_SUBMISSION_SECTION_FORM,this.payload={submissionId:De,sectionId:be}}}class B{constructor(De,be,me){this.type=t.SAVE_SUBMISSION_SECTION_FORM_SUCCESS,this.payload={submissionId:De,submissionObject:be,notify:me}}}class k{constructor(De){this.type=t.SAVE_SUBMISSION_SECTION_FORM_ERROR,this.payload={submissionId:De}}}class W{constructor(De,be,me,re,Ee,Te){this.type=t.RESET_SUBMISSION_FORM,this.payload={collectionId:De,submissionId:be,selfUrl:me,sections:re,submissionDefinition:Ee,item:Te}}}class U{constructor(){this.type=t.CANCEL_SUBMISSION_FORM}}class K{constructor(De,be){this.type=t.CHANGE_SUBMISSION_COLLECTION,this.payload={submissionId:De,collectionId:be}}}class Y{constructor(De){this.type=t.SAVE_AND_DEPOSIT_SUBMISSION,this.payload={submissionId:De}}}class G{constructor(De){this.type=t.DEPOSIT_SUBMISSION,this.payload={submissionId:De}}}class q{constructor(De){this.type=t.DEPOSIT_SUBMISSION_SUCCESS,this.payload={submissionId:De}}}class z{constructor(De){this.type=t.DEPOSIT_SUBMISSION_ERROR,this.payload={submissionId:De}}}class te{constructor(De){this.type=t.DISCARD_SUBMISSION,this.payload={submissionId:De}}}class Z{constructor(De){this.type=t.DISCARD_SUBMISSION_SUCCESS,this.payload={submissionId:De}}}class J{constructor(De){this.type=t.DISCARD_SUBMISSION_ERROR,this.payload={submissionId:De}}}class Q{constructor(De,be,me){this.type=t.SECTION_STATUS_CHANGE,this.payload={submissionId:De,sectionId:be,status:me}}}class ee{constructor(De,be){this.type=t.SET_ACTIVE_SECTION,this.payload={submissionId:De,sectionId:be}}}class le{constructor(De,be,me,re){this.type=t.NEW_FILE,this.payload={submissionId:De,sectionId:be,fileId:me,data:re}}}class ne{constructor(De,be,me){this.type=t.EDIT_FILE_PRIMARY_BITSTREAM_DATA,this.payload={submissionId:De,sectionId:be,fileId:me}}}class fe{constructor(De,be,me,re){this.type=t.EDIT_FILE_DATA,this.payload={submissionId:De,sectionId:be,fileId:me,data:re}}}class se{constructor(De,be,me){this.type=t.DELETE_FILE,this.payload={submissionId:De,sectionId:be,fileId:me}}}},88643:(F,D,n)=>{"use strict";n.d(D,{l:()=>i});var i=function(t){return t.Relationships="relationships",t.SubmissionForm="submission-form",t.Upload="upload",t.License="license",t.CcLicense="cclicense",t.AccessesCondition="accessCondition",t.SherpaPolicies="sherpaPolicy",t.Identifiers="identifiers",t.Collection="collection",t.CoarNotify="coarnotify",t.Duplicates="duplicates",t}(i||{})},72147:(F,D,n)=>{"use strict";n.d(D,{c:()=>te});var i=n(1473),t=n(48376),u=n.n(t),e=n(5771),h=n.n(e),m=n(48125),f=n.n(m),v=n(84572),E=n(96354),_=n(23294),C=n(73028),I=n(5964),R=n(96697),T=n(92409),A=n(68552),p=n(83085),x=n(82777),O=n(32710),w=n(54002),M=n(39806),L=n(66731),B=n(93158),k=n(645),W=n(61010),U=n(90049),K=n(88643),Y=n(54438),G=n(53588),q=n(25499),z=n(41780);let te=(()=>{class Z{constructor(Q,ee,le,ne,fe,se){this.formService=Q,this.notificationsService=ee,this.scrollToService=le,this.submissionService=ne,this.store=fe,this.translate=se}checkSectionErrors(Q,ee,le,ne,fe=[]){if((0,x.Im)(ne))this.store.dispatch(new B.Zi(Q,ee)),this.store.dispatch(new O.Dp(le));else if(!f()(ne,fe)){const se=[];ne.forEach(ce=>{(0,U.A)(ce.path).forEach(be=>{be.fieldId&&(this.formService.addError(le,be.fieldId,be.fieldIndex,ce.message),se.push(be.fieldId))})}),fe.forEach(ce=>{(0,U.A)(ce.path).forEach(be=>{be.fieldId&&(se.includes(be.fieldId)||this.formService.removeError(le,be.fieldId,be.fieldIndex))})})}}dispatchRemoveSectionErrors(Q,ee){this.store.dispatch(new B.Zi(Q,ee))}dispatchSetSectionFormId(Q,ee,le){this.store.dispatch(new B.t2(Q,ee,le))}getSectionData(Q,ee,le){return this.store.select((0,k.on)(Q,ee)).pipe((0,E.T)(ne=>le===K.l.SubmissionForm?(0,A.Z5)(ne):ne),(0,_.F)())}getShownSectionErrors(Q,ee,le){let ne;return ne=le!==K.l.SubmissionForm?this.getSectionErrors(Q,ee):this.getSectionState(Q,ee,le).pipe((0,C.Z)(fe=>this.formService.getFormErrors(fe.formId).pipe((0,E.T)(se=>{const ce=new T.S("sections",ee),De=se.map(be=>({path:ce.getPath(be.fieldId.replace(/\_/g,".")).path,message:be.message})).filter(be=>-1===u()(fe.errorsToShow,{path:be.path}));return[...fe.errorsToShow,...De]})))),ne}getSectionErrors(Q,ee){return this.store.select((0,k.D6)(Q,ee)).pipe((0,_.F)())}getSectionServerErrors(Q,ee){return this.store.select((0,k.aU)(Q,ee)).pipe((0,_.F)())}getSectionState(Q,ee,le){return this.store.select((0,k.sR)(Q,ee)).pipe((0,I.p)(ne=>(0,x.a4)(ne)),(0,E.T)(ne=>ne),(0,E.T)(ne=>(0,x.a4)(ne.data)&&le===K.l.SubmissionForm?Object.assign({},ne,{data:(0,A.Z5)(ne.data)}):ne),(0,_.F)())}isSectionValid(Q,ee){return this.store.select((0,k.sR)(Q,ee)).pipe((0,I.p)(le=>(0,x.a4)(le)),(0,E.T)(le=>le.isValid),(0,_.F)())}isSectionActive(Q,ee){return this.submissionService.getActiveSectionId(Q).pipe((0,E.T)(le=>ee===le),(0,_.F)())}isSectionEnabled(Q,ee){return this.store.select((0,k.sR)(Q,ee)).pipe((0,I.p)(le=>(0,x.a4)(le)),(0,E.T)(le=>le.enabled),(0,_.F)())}isSectionReadOnly(Q,ee,le){return this.store.select((0,k.sR)(Q,ee)).pipe((0,I.p)(ne=>(0,x.a4)(ne)),(0,E.T)(ne=>!((0,x.Im)(le)||(0,x.Im)(ne.visibility)||(0,x.Im)(ne.scope))&&"READONLY"===((le.valueOf()===p.L.WorkspaceItem.valueOf()?L.S.Submission:L.S.Workflow).valueOf()===ne.scope.valueOf()?ne.visibility.main:ne.visibility.other)),(0,_.F)())}isSectionAvailable(Q,ee){return this.store.select((0,k.sO)(Q)).pipe((0,I.p)(le=>(0,x.EA)(le)),(0,E.T)(le=>(0,x.EA)(le.sections)&&(0,x.EA)(le.sections[ee])),(0,_.F)())}isSectionTypeAvailable(Q,ee){return this.store.select((0,k.sO)(Q)).pipe((0,I.p)(le=>(0,x.EA)(le)),(0,E.T)(le=>(0,x.EA)(le.sections)&&(0,x.EA)(h()(le.sections,{sectionType:ee}))),(0,_.F)())}isSectionType(Q,ee,le){return this.store.select((0,k.sO)(Q)).pipe((0,I.p)(ne=>(0,x.EA)(ne)),(0,E.T)(ne=>(0,x.EA)(ne.sections)&&(0,x.EA)(ne.sections[ee])&&ne.sections[ee].sectionType===le),(0,_.F)())}addSection(Q,ee){this.store.dispatch(new B.hJ(Q,ee)),this.scrollToService.scrollTo({target:ee,offset:-70})}removeSection(Q,ee){this.store.dispatch(new B.i6(Q,ee))}updateSectionData(Q,ee,le,ne=[],fe=[],se){if((0,x.hj)(le)){const ce=this.isSectionAvailable(Q,ee),De=this.isSectionEnabled(Q,ee);(0,v.z)(ce,De).pipe((0,R.s)(1),(0,I.p)(([be,me])=>be)).subscribe(([be,me])=>{this.store.dispatch(new B.dm(Q,ee,le,ne,fe,se))})}}setSectionError(Q,ee,le){this.store.dispatch(new B.Vn(Q,ee,le))}setSectionStatus(Q,ee,le){this.store.dispatch(new B.SE(Q,ee,le))}computeSectionConfiguredMetadata(Q){const ee=[],le="string"==typeof Q?JSON.parse(Q,i.zno):Q;return le.rows&&!(0,x.Im)(le.rows)&&le.rows.forEach(ne=>{ne.fields&&!(0,x.Im)(ne.fields)&&ne.fields.forEach(fe=>{fe.selectableMetadata&&!(0,x.Im)(fe.selectableMetadata)&&fe.selectableMetadata.forEach(se=>{ee.includes(se.metadata)||ee.push(se.metadata)})})}),ee}getIsInformational(Q){return Q===K.l.SherpaPolicies}static{this.\u0275fac=function(ee){return new(ee||Z)(Y.KVO(w.u),Y.KVO(M.I),Y.KVO(G.WY),Y.KVO(W.E),Y.KVO(q.il),Y.KVO(z.c$))}}static{this.\u0275prov=Y.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}return Z})()},14723:(F,D,n)=>{"use strict";n.d(D,{x:()=>i});var i=function(t){return t.HIDDEN="HIDDEN",t.READONLY="READONLY",t}(i||{})},645:(F,D,n)=>{"use strict";n.d(D,{D6:()=>I,Uh:()=>v,aU:()=>R,hZ:()=>h,hi:()=>E,on:()=>C,pc:()=>e,sO:()=>m,sR:()=>_});var i=n(25499),t=n(82777),u=n(83678);function e(T,A,p){return(0,i.Mz)(T,x=>{if((0,t.a4)(x)&&(0,t.a4)(x[A]))return x[A][p]})}function h(T,A){return(0,i.Mz)(T,p=>{if((0,t.a4)(p)&&(0,t.a4)(p[A]))return p[A]})}function m(T){return e(u.O,"objects",T)}function v(T,A){return h(C(T,A),"files")}function E(T,A,p){return e(C(T,A),"files",p)}function _(T,A){return e(m(T),"sections",A)}function C(T,A){return h(_(T,A),"data")}function I(T,A){return h(_(T,A),"errorsToShow")}function R(T,A){return h(_(T,A),"serverValidationErrors")}},83678:(F,D,n)=>{"use strict";n.d(D,{u:()=>ne,O:()=>fe});var i=n(25499),t=n(25622),u=n.n(t),e=n(5771),h=n.n(e),m=n(48125),f=n.n(m),v=n(63448),E=n.n(v),_=n(82777),C=n(93158);const I=Object.create({});function q(se,ce){return se||(ce?[...ce]:void 0)}function z(se,ce,De){return(0,_.a4)(se[ce.payload.submissionId].sections[ce.payload.sectionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,{[ce.payload.sectionId]:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId],{enabled:De})})})}):se}const ne={objects:function R(se=I,ce){switch(ce.type){case C.lE.COMPLETE_INIT_SUBMISSION_FORM:return function w(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{isLoading:!1})}):se}(se,ce);case C.lE.INIT_SUBMISSION_FORM:return function x(se,ce){const De=Object.assign({},se);return De[ce.payload.submissionId]={collection:ce.payload.collectionId,definition:ce.payload.submissionDefinition.name,selfUrl:ce.payload.selfUrl,activeSection:null,sections:Object.create(null),isLoading:!0,savePending:!1,depositPending:!1},De}(se,ce);case C.lE.RESET_SUBMISSION_FORM:return function O(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.create(null),isLoading:!0})}):se}(se,ce);case C.lE.CANCEL_SUBMISSION_FORM:return I;case C.lE.SAVE_SUBMISSION_FORM:case C.lE.SAVE_FOR_LATER_SUBMISSION_FORM:case C.lE.SAVE_AND_DEPOSIT_SUBMISSION:case C.lE.SAVE_SUBMISSION_SECTION_FORM:return function M(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{activeSection:se[ce.payload.submissionId].activeSection,sections:se[ce.payload.submissionId].sections,isLoading:se[ce.payload.submissionId].isLoading,savePending:!0})}):se}(se,ce);case C.lE.SAVE_SUBMISSION_FORM_SUCCESS:case C.lE.SAVE_SUBMISSION_SECTION_FORM_SUCCESS:case C.lE.SAVE_SUBMISSION_FORM_ERROR:case C.lE.SAVE_FOR_LATER_SUBMISSION_FORM_ERROR:case C.lE.SAVE_SUBMISSION_SECTION_FORM_ERROR:return function L(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{savePending:!1})}):se}(se,ce);case C.lE.CHANGE_SUBMISSION_COLLECTION:return function W(se,ce){return Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{collection:ce.payload.collectionId})})}(se,ce);case C.lE.DEPOSIT_SUBMISSION:return function B(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{savePending:!1,depositPending:!0})}):se}(se,ce);case C.lE.DEPOSIT_SUBMISSION_SUCCESS:return I;case C.lE.DEPOSIT_SUBMISSION_ERROR:return function k(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{depositPending:!1})}):se}(se,ce);case C.lE.DISCARD_SUBMISSION:return se;case C.lE.DISCARD_SUBMISSION_SUCCESS:return I;case C.lE.DISCARD_SUBMISSION_ERROR:return se;case C.lE.SET_ACTIVE_SECTION:return function U(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{activeSection:ce.payload.sectionId,sections:se[ce.payload.submissionId].sections,isLoading:se[ce.payload.submissionId].isLoading,savePending:se[ce.payload.submissionId].savePending})}):se}(se,ce);case C.lE.INIT_SECTION:return function K(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,{[ce.payload.sectionId]:{header:ce.payload.header,config:ce.payload.config,mandatory:ce.payload.mandatory,scope:ce.payload.scope,sectionType:ce.payload.sectionType,visibility:ce.payload.visibility,collapsed:!1,enabled:ce.payload.enabled,data:ce.payload.data,errorsToShow:[],serverValidationErrors:ce.payload.errors||[],isLoading:!1,isValid:(0,_.Im)(ce.payload.errors)}})})}):se}(se,ce);case C.lE.SET_SECTION_FORM_ID:return function Y(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,{[ce.payload.sectionId]:{...se[ce.payload.submissionId].sections[ce.payload.sectionId],formId:ce.payload.formId}})})}):se}(se,ce);case C.lE.ENABLE_SECTION:return z(se,ce,!0);case C.lE.UPDATE_SECTION_DATA:return function G(se,ce){return(0,_.hj)(se[ce.payload.submissionId])&&(0,_.hj)(se[ce.payload.submissionId].sections[ce.payload.sectionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,{[ce.payload.sectionId]:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId],{enabled:!0,data:ce.payload.data,errorsToShow:ce.payload.errorsToShow,serverValidationErrors:ce.payload.serverValidationErrors,metadata:q(ce.payload.metadata,se[ce.payload.submissionId].sections[ce.payload.sectionId].metadata)})})})}):se}(se,ce);case C.lE.DISABLE_SECTION:return z(se,ce,!1);case C.lE.SECTION_STATUS_CHANGE:return function te(se,ce){return(0,_.hj)(se[ce.payload.submissionId])&&(0,_.a4)(se[ce.payload.submissionId].sections[ce.payload.sectionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,Object.assign({},{[ce.payload.sectionId]:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId],{isValid:ce.payload.status})}))})}):se}(se,ce);case C.lE.NEW_FILE:return function Z(se,ce){const De=se[ce.payload.submissionId].sections[ce.payload.sectionId].data;let be;return(0,_.b0)(De.files)?be={files:[ce.payload.data]}:(be=De,be.files.push(ce.payload.data)),Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,{[ce.payload.sectionId]:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId],{enabled:!0,data:be})})})})}(se,ce);case C.lE.EDIT_FILE_PRIMARY_BITSTREAM_DATA:return function J(se,ce){const De=se[ce.payload.submissionId].sections[ce.payload.sectionId].data,{submissionId:be,sectionId:me,fileId:re}=ce.payload,Ee=h()(De.files,{uuid:re});if((0,_.kZ)(Ee))return se;const Te=se[be];return{...se,[be]:{...Te,sections:{...Te.sections,[me]:{...Te.sections[me],data:{...Te.sections[me].data,primary:re}}},isLoading:Te.isLoading,savePending:Te.savePending}}}(se,ce);case C.lE.EDIT_FILE_DATA:return function Q(se,ce){const De=se[ce.payload.submissionId].sections[ce.payload.sectionId].data;if((0,_.a4)(De.files)){const be=h()(De.files,{uuid:ce.payload.fileId});if((0,_.Pe)(be)){const me=Array.from(De.files);return me[be]=ce.payload.data,Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{activeSection:se[ce.payload.submissionId].activeSection,sections:Object.assign({},se[ce.payload.submissionId].sections,Object.assign({},{[ce.payload.sectionId]:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId],{data:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId].data,{files:me})})})),isLoading:se[ce.payload.submissionId].isLoading,savePending:se[ce.payload.submissionId].savePending})})}}return se}(se,ce);case C.lE.DELETE_FILE:return function ee(se,ce){const De=se[ce.payload.submissionId].sections[ce.payload.sectionId].data;if((0,_.a4)(De.files)){const be=h()(De.files,{uuid:ce.payload.fileId});if((0,_.Pe)(be)){const me=Array.from(De.files);return me.splice(be,1),Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,Object.assign({},{[ce.payload.sectionId]:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId],{data:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId].data,{files:me})})}))})})}}return se}(se,ce);case C.lE.ADD_SECTION_ERROR:return((se,ce)=>{const{submissionId:De,sectionId:be,error:me}=ce.payload;if((0,_.a4)(se[De].sections[be])){const re=E()(se[De].sections[be].errorsToShow.concat(me),f());return Object.assign({},se,{[De]:Object.assign({},se[De],{activeSection:se[ce.payload.submissionId].activeSection,sections:Object.assign({},se[De].sections,{[be]:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId],{errorsToShow:re})})})})}return se})(se,ce);case C.lE.DELETE_SECTION_ERROR:return((se,ce)=>{const{submissionId:De,sectionId:be,errors:me}=ce.payload;if((0,_.a4)(se[De].sections[be])){let re;return re=Array.isArray(me)?u()(me,me,f()):se[De].sections[be].errorsToShow.filter(Ee=>Ee.path!==me.path||!f()(Ee,me)),Object.assign({},se,{[De]:Object.assign({},se[De],{sections:Object.assign({},se[De].sections,{[be]:Object.assign({},se[De].sections[be],{errorsToShow:re})})})})}return se})(se,ce);case C.lE.REMOVE_SECTION_ERRORS:return function p(se,ce){return(0,_.hj)(se[ce.payload.submissionId])&&(0,_.hj)(se[ce.payload.submissionId].sections[ce.payload.sectionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,{[ce.payload.sectionId]:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId],{errorsToShow:[]})})})}):se}(se,ce);case C.lE.CLEAN_DUPLICATE_DETECTION:return function le(se,ce){return(0,_.hj)(se[ce.payload.submissionId])&&se[ce.payload.submissionId].sections.hasOwnProperty("duplicates")?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,{duplicates:Object.assign({},se[ce.payload.submissionId].sections.duplicates,{enabled:!1,data:{potentialDuplicates:[]}})})})}):se}(se,ce);default:return se}}},fe=(0,i.UX)("submission")},61010:(F,D,n)=>{"use strict";n.d(D,{E:()=>Q});var i=n(21626),t=n(25499),u=n(7673),e=n(41584),h=n(96354),m=n(99437),f=n(47677),v=n(5964),E=n(99172),_=n(23294),C=n(96697),I=n(88141),R=n(70274),T=n(88280),A=n(13808),p=n(32473),x=n(56760),O=n(78655),w=n(83203),M=n(67625),L=n(83085),B=n(82777),k=n(39806),W=n(43404),U=n(66731),K=n(93158),Y=n(645),G=n(83678),q=n(54438),z=n(7901),te=n(41780);let Q=(()=>{class ee{constructor(ne,fe,se,ce,De,be,me,re,Ee){this.notificationsService=ne,this.restService=fe,this.router=se,this.routeService=ce,this.store=De,this.translate=be,this.searchService=me,this.requestService=re,this.jsonPatchOperationService=Ee,this.workspaceLinkPath="workspaceitems",this.workflowLinkPath="workflowitems"}changeSubmissionCollection(ne,fe){this.store.dispatch(new K.pL(ne,fe))}getSubmissionCollectionId(ne){return this.store.pipe((0,t.Lt)(function J(ee){return(0,t.Mz)(function Z(ee){return(0,t.Mz)(G.O,le=>le.objects[ee])}(ee),le=>le?.collection)}(ne)))}createSubmission(ne){return this.restService.postToEndpoint(this.workspaceLinkPath,{},null,null,ne).pipe((0,h.T)(fe=>fe[0]),(0,m.W)(()=>(0,u.of)({})))}createSubmissionFromExternalSource(ne,fe){const se=Object.create({});let ce=new i.Lr;return ce=ce.append("Content-Type","text/uri-list"),se.headers=ce,this.restService.postToEndpoint(this.workspaceLinkPath,ne,null,se,fe)}depositSubmission(ne){const fe=Object.create({});let se=new i.Lr;return se=se.append("Content-Type","text/uri-list"),fe.headers=se,this.restService.postToEndpoint(this.workflowLinkPath,ne,null,fe)}discardSubmission(ne){return this.restService.deleteById(ne)}dispatchInit(ne,fe,se,ce,De,be,me){this.store.dispatch(new K.jc(ne,fe,se,ce,De,be,me))}dispatchDeposit(ne){this.store.dispatch(new K.nu(ne))}dispatchDiscard(ne){this.store.dispatch(new K.v0(ne))}dispatchSave(ne,fe){this.getSubmissionSaveProcessingStatus(ne).pipe((0,f.I)(se=>!se)).subscribe(()=>{this.store.dispatch(new K.sj(ne,fe))})}dispatchSaveForLater(ne){this.store.dispatch(new K.f0(ne))}dispatchSaveSection(ne,fe){this.store.dispatch(new K.h3(ne,fe))}getActiveSectionId(ne){return this.getSubmissionObject(ne).pipe((0,h.T)(fe=>fe.activeSection))}getSubmissionObject(ne){return this.store.select((0,Y.sO)(ne)).pipe((0,v.p)(fe=>(0,B.EA)(fe)))}getSubmissionSections(ne){return this.getSubmissionObject(ne).pipe((0,f.I)(fe=>(0,B.EA)(fe.sections)&&!fe.isLoading),(0,h.T)(fe=>fe.sections),(0,h.T)(fe=>{const se=[];return Object.keys(fe).filter(ce=>!this.isSectionHidden(fe[ce])).forEach(ce=>{const De=Object.create({});De.config=fe[ce].config,De.mandatory=fe[ce].mandatory,De.data=fe[ce].data,De.errorsToShow=fe[ce].errorsToShow,De.serverValidationErrors=fe[ce].serverValidationErrors,De.header=fe[ce].header,De.id=ce,De.sectionType=fe[ce].sectionType,se.push(De)}),se}),(0,E.Z)([]),(0,_.F)())}getDisabledSectionsList(ne){return this.getSubmissionObject(ne).pipe((0,v.p)(fe=>(0,B.EA)(fe.sections)&&!fe.isLoading),(0,h.T)(fe=>fe.sections),(0,h.T)(fe=>{const se=[];return Object.keys(fe).filter(ce=>!this.isSectionHidden(fe[ce])).filter(ce=>!fe[ce].enabled).forEach(ce=>{const De=Object.create({});De.header=fe[ce].header,De.id=ce,se.push(De)}),se}),(0,E.Z)([]),(0,_.F)())}getSubmissionObjectLinkName(){const ne=this.router.routerState.snapshot.url;return ne.startsWith("/workspaceitems")||ne.startsWith("/submit")?this.workspaceLinkPath:ne.startsWith("/workflowitems")?this.workflowLinkPath:"edititems"}getSubmissionScope(){let ne;switch(this.getSubmissionObjectLinkName()){case this.workspaceLinkPath:ne=L.L.WorkspaceItem;break;case this.workflowLinkPath:ne=L.L.WorkflowItem}return ne}getSubmissionStatus(ne){return this.store.select(G.O).pipe((0,h.T)(fe=>fe.objects[ne]),(0,v.p)(fe=>(0,B.EA)(fe)&&(0,B.EA)(fe.sections)),(0,h.T)(fe=>fe.sections),(0,h.T)(fe=>{const se=[];return(0,B.EA)(fe)&&Object.keys(fe).filter(ce=>fe.hasOwnProperty(ce)).filter(ce=>!this.isSectionHidden(fe[ce])).filter(ce=>fe[ce].enabled).filter(ce=>!1===fe[ce].isValid).forEach(ce=>{se.push(fe[ce].isValid)}),!(0,B.Im)(fe)&&(0,B.Im)(se)}),(0,_.F)(),(0,E.Z)(!1))}getSubmissionSaveProcessingStatus(ne){return this.getSubmissionObject(ne).pipe((0,h.T)(fe=>fe.savePending),(0,_.F)(),(0,E.Z)(!1))}getSubmissionDepositProcessingStatus(ne){return this.getSubmissionObject(ne).pipe((0,h.T)(fe=>fe.depositPending),(0,_.F)(),(0,E.Z)(!1))}hasUnsavedModification(){return this.jsonPatchOperationService.hasPendingOperations("sections")}isSectionHidden(ne){const fe=this.getSubmissionScope();return!((0,B.Im)(fe)||(0,B.Im)(ne.visibility)||(0,B.Im)(ne.scope))&&"HIDDEN"===((fe.valueOf()===L.L.WorkspaceItem.valueOf()?U.S.Submission:U.S.Workflow).valueOf()===ne.scope.valueOf()?ne.visibility.main:ne.visibility.other)}isSubmissionLoading(ne){return this.getSubmissionObject(ne).pipe((0,h.T)(fe=>fe.isLoading),(0,_.F)())}notifyNewSection(ne,fe,se){const ce=this.translate.instant("submission.sections.general.metadata-extracted-new-section",{sectionId:fe});this.notificationsService.info(null,ce,null,!0)}redirectToMyDSpace(){this.searchService.getEndpoint().pipe((0,C.s)(1),(0,I.M)(ne=>this.requestService.removeByHrefSubstring(ne)),(0,R.H)(()=>this.routeService.getPreviousUrl().pipe((0,C.s)(1),(0,I.M)(ne=>{(0,B.Im)(ne)||!ne.startsWith("/mydspace")?this.router.navigate(["/mydspace"]):this.router.navigateByUrl(ne)})))).subscribe()}resetAllSubmissionObjects(){this.store.dispatch(new K.Dy)}resetSubmissionObject(ne,fe,se,ce,De,be){this.store.dispatch(new K.sf(ne,fe,se,De,ce,be))}retrieveSubmission(ne){return this.restService.getDataById(this.getSubmissionObjectLinkName(),ne).pipe((0,f.I)(fe=>(0,B.EA)(fe)),(0,h.T)(fe=>(0,W.SP)(fe[0])),(0,m.W)(fe=>{if(fe instanceof A._p)return(0,W.PM)(fe.errorMessage,fe.statusCode)}))}setActiveSection(ne,fe){this.store.dispatch(new K._D(ne,fe))}startAutoSave(ne){if(this.stopAutoSave(),0===T.c.submission.autosave.timer)return;const fe=T.c.submission.autosave.timer;this.timer$=(0,e.O)(fe,fe),this.autoSaveSub=this.timer$.subscribe(()=>this.store.dispatch(new K.sj(ne)))}stopAutoSave(){(0,B.a4)(this.autoSaveSub)&&(this.autoSaveSub.unsubscribe(),this.autoSaveSub=null)}static{this.\u0275fac=function(fe){return new(fe||ee)(q.KVO(k.I),q.KVO(M.O),q.KVO(z.Ix),q.KVO(x.v$),q.KVO(t.il),q.KVO(te.c$),q.KVO(O.S),q.KVO(p.B),q.KVO(w.U))}}static{this.\u0275prov=q.jDH({token:ee,factory:ee.\u0275fac})}}return ee})()},90049:(F,D,n)=>{"use strict";n.d(D,{A:()=>h});var i=n(82777);const t=/([^\/]+)/g,u=/\/sections\/(.*)/,h=m=>("string"==typeof m?[m]:m).map(v=>v.match(t)&&v.match(t).length>2?{sectionId:v.match(t)[1],fieldId:v.match(t)[2],fieldIndex:(0,i.a4)(v.match(t)[3])?+v.match(t)[3]:0,originalPath:v}:{sectionId:v.match(u)[1],originalPath:v})},7020:(F,D,n)=>{"use strict";n.d(D,{A:()=>u});var i=n(90049);const u=(e=[])=>{const h=Object.create({});return e.forEach(m=>{(0,i.A)(m.paths).forEach(v=>{const E={path:v.originalPath,message:m.message};h[v.sectionId]||(h[v.sectionId]=[]),h[v.sectionId].push(E)})}),h}},24215:(F,D,n)=>{"use strict";n.d(D,{C2:()=>t,jV:()=>e});var i=n(45663);const t="suggestions";function e(h){return new i.t(function u(){return`/${t}`}(),h).toString()}},58429:(F,D,n)=>{"use strict";n.d(D,{E:()=>W});var i=n(60177),t=n(54438),u=n(41780),e=n(56106),m=n(84412),f=n(40605),v=n(983),E=n(96354),_=n(5964),C=n(25558),I=n(27795),R=n(80183),T=n(82777),A=n(39806);const p=U=>({days:U}),x=U=>({hours:U}),O=U=>({minutes:U});function w(U,K){1&U&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&U&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"system-wide-alert-banner.countdown.prefix")," "))}function M(U,K){if(1&U&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&U){const Y=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.days",t.eq3(6,p,t.bMT(2,1,Y.countDownDays)))," ")}}function L(U,K){if(1&U&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&U){const Y=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.hours",t.eq3(6,x,t.bMT(2,1,Y.countDownHours)))," ")}}function B(U,K){if(1&U&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&U){const Y=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.minutes",t.eq3(6,O,t.bMT(2,1,Y.countDownMinutes)))," ")}}function k(U,K){if(1&U&&(t.j41(0,"div")(1,"div",1)(2,"div",2)(3,"span",3),t.DNE(4,w,3,3,"span",0),t.nI1(5,"async"),t.nI1(6,"async"),t.nI1(7,"async"),t.DNE(8,M,4,8,"span",0),t.nI1(9,"async"),t.DNE(10,L,4,8,"span",0),t.nI1(11,"async"),t.nI1(12,"async"),t.DNE(13,B,4,8,"span",0),t.nI1(14,"async"),t.nI1(15,"async"),t.nI1(16,"async"),t.k0s(),t.nrm(17,"span",4),t.nI1(18,"async"),t.k0s()()()),2&U){let Y;const G=t.XpG();t.R7$(4),t.Y8G("ngIf",t.bMT(5,5,G.countDownDays)>0||t.bMT(6,7,G.countDownHours)>0||t.bMT(7,9,G.countDownMinutes)>0),t.R7$(4),t.Y8G("ngIf",t.bMT(9,11,G.countDownDays)>0),t.R7$(2),t.Y8G("ngIf",t.bMT(11,13,G.countDownDays)>0||t.bMT(12,15,G.countDownHours)>0),t.R7$(3),t.Y8G("ngIf",t.bMT(14,17,G.countDownDays)>0||t.bMT(15,19,G.countDownHours)>0||t.bMT(16,21,G.countDownMinutes)>0),t.R7$(4),t.Y8G("innerHTML",null==(Y=t.bMT(18,23,G.systemWideAlert$))?null:Y.message,t.npT)}}let W=(()=>{class U{constructor(Y,G,q){this.platformId=Y,this.systemWideAlertDataService=G,this.notificationsService=q,this.systemWideAlert$=new m.t(void 0),this.countDownMinutes=new m.t(0),this.countDownHours=new m.t(0),this.countDownDays=new m.t(0),this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.systemWideAlertDataService.searchBy("active").pipe((0,R.Hz)(),(0,E.T)(Y=>Y.page),(0,_.p)(Y=>(0,T.hj)(Y)),(0,E.T)(Y=>Y[0])).subscribe(Y=>{this.systemWideAlert$.next(Y)})),this.subscriptions.push(this.systemWideAlert$.pipe((0,C.n)(Y=>{if((0,T.a4)(Y)&&(0,T.a4)(Y.countdownTo)){const q=(0,e.zonedTimeToUtc)(Y.countdownTo,"UTC").getTime()-(new Date).getTime();if(q>0)return this.allocateTimeUnits(q),(0,i.UE)(this.platformId)?(0,f.Y)(1e3):v.w}return this.countDownDays.next(0),this.countDownHours.next(0),this.countDownMinutes.next(0),v.w})).subscribe(()=>{this.setTimeDifference(this.systemWideAlert$.getValue().countdownTo)}))}setTimeDifference(Y){const q=(0,e.zonedTimeToUtc)(Y,"UTC").getTime()-(new Date).getTime();this.allocateTimeUnits(q)}allocateTimeUnits(Y){const G=Math.floor(Y/6e4%60),q=Math.floor(Y/36e5%24),z=Math.floor(Y/864e5);this.countDownMinutes.next(G),this.countDownHours.next(q),this.countDownDays.next(z)}ngOnDestroy(){this.subscriptions.forEach(Y=>{(0,T.a4)(Y)&&Y.unsubscribe()})}static{this.\u0275fac=function(G){return new(G||U)(t.rXU(t.Agw),t.rXU(I.SystemWideAlertDataService),t.rXU(A.I))}}static{this.\u0275cmp=t.VBU({type:U,selectors:[["ds-system-wide-alert-banner"]],standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[[4,"ngIf"],[1,"rounded-0","alert","alert-warning","w100","m-0","px-1"],[1,"container"],[1,"fw-bold"],[3,"innerHTML"]],template:function(G,q){if(1&G&&(t.DNE(0,k,19,25,"div",0),t.nI1(1,"async")),2&G){let z;t.Y8G("ngIf",null==(z=t.bMT(1,1,q.systemWideAlert$))?null:z.active)}},dependencies:[i.bT,i.Jj,u.h,u.D9]})}}return U})()},30398:(F,D,n)=>{"use strict";n.d(D,{$:()=>f});var i=n(31635),t=n(74850),u=n(21921),e=n(42547),h=n(98688),m=n(61196);let f=class{static{this.type=m.B}};(0,i.Cg)([h.aK,t.autoserialize,(0,i.Sn)("design:type",e.v)],f.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"alertId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"message",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"countdownTo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],f.prototype,"active",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],f.prototype,"_links",void 0),f=(0,i.Cg)([u.gV],f)},61196:(F,D,n)=>{"use strict";n.d(D,{B:()=>t});const t=new(n(42547).v)("systemwidealert")},97402:(F,D,n)=>{"use strict";n.d(D,{T:()=>m});var i=n(8886),u=(n(73900),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["thumbnail","defaultImage","alt","placeholder","limitWidth"]}getComponentName(){return"ThumbnailComponent"}importThemedComponent(E){return n(572)(`./${E}/app/thumbnail/thumbnail.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,73900))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-thumbnail"]],inputs:{thumbnail:"thumbnail",defaultImage:"defaultImage",alt:"alt",placeholder:"placeholder",limitWidth:"limitWidth"},standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},73900:(F,D,n)=>{"use strict";n.r(D),n.d(D,{ThumbnailComponent:()=>w});var i=n(60177),t=n(54438),u=n(41780),e=n(7673),h=n(25558),m=n(67116),f=n(65007),v=n(3970),E=n(1716),_=n(33376),C=n(89269),I=n(82777),R=n(82394),T=n(43764);const A=M=>({"d-none":M});function p(M,L){1&M&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5),t.nrm(3,"ds-loading",6),t.k0s()()()),2&M&&(t.R7$(3),t.Y8G("spinner",!0))}function x(M,L){if(1&M){const B=t.RV6();t.j41(0,"img",7),t.nI1(1,"dsSafeUrl"),t.nI1(2,"translate"),t.bIt("error",function(){t.eBV(B);const W=t.XpG();return t.Njj(W.errorHandler())})("load",function(){t.eBV(B);const W=t.XpG();return t.Njj(W.successHandler())}),t.k0s()}if(2&M){const B=t.XpG();t.Y8G("ngClass",t.eq3(7,A,B.isLoading))("src",t.bMT(1,3,B.src),t.B4B)("alt",t.bMT(2,5,B.alt))}}function O(M,L){if(1&M&&(t.j41(0,"div",3)(1,"div",4)(2,"div",8),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&M){const B=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,1,B.placeholder)," ")}}let w=(()=>{class M{constructor(B,k,W,U){this.platformID=B,this.auth=k,this.authorizationService=W,this.fileService=U,this.defaultImage=null,this.src=void 0,this.retriedWithToken=!1,this.alt="thumbnail.default.alt",this.placeholder="thumbnail.default.placeholder",this.limitWidth=!0,this.isLoading=!0}ngOnChanges(B){if((0,i.UE)(this.platformID)){if((0,I.Tn)(this.thumbnail))return void this.setSrc(this.defaultImage);const k=this.contentHref;(0,I.a4)(k)?this.setSrc(k):this.setSrc(this.defaultImage)}}get bitstream(){return this.thumbnail instanceof _._?this.thumbnail:this.thumbnail instanceof E.j?this.thumbnail.payload:void 0}get contentHref(){return this.thumbnail instanceof _._?this.thumbnail?._links?.content?.href:this.thumbnail instanceof E.j?this.thumbnail?.payload?._links?.content?.href:void 0}errorHandler(){const B=this.src,k=this.bitstream,W=k?._links?.content?.href;!this.retriedWithToken&&(0,I.a4)(W)&&B===W?(this.retriedWithToken=!0,this.auth.isAuthenticated().pipe((0,h.n)(U=>U?this.authorizationService.isAuthorized(v._.CanDownload,k.self):(0,e.of)(!1)),(0,h.n)(U=>U?this.fileService.retrieveFileDownloadLink(W):(0,e.of)(null))).subscribe(U=>{(0,I.a4)(U)?this.setSrc(U):this.setSrc(this.defaultImage)})):this.setSrc(B!==this.defaultImage?this.defaultImage:null)}setSrc(B){this.src=B,null===B&&(this.isLoading=!1)}successHandler(){this.isLoading=!1}static{this.\u0275fac=function(k){return new(k||M)(t.rXU(t.Agw),t.rXU(m.uR),t.rXU(f.AuthorizationDataService),t.rXU(C.E))}}static{this.\u0275cmp=t.VBU({type:M,selectors:[["ds-base-thumbnail"]],inputs:{thumbnail:"thumbnail",defaultImage:"defaultImage",alt:"alt",placeholder:"placeholder",limitWidth:"limitWidth"},standalone:!0,features:[t.OA$,t.aNF],decls:4,vars:5,consts:[[1,"thumbnail"],["class","thumbnail-content outer",4,"ngIf"],["class","thumbnail-content img-fluid",3,"ngClass","src","alt","error","load",4,"ngIf"],[1,"thumbnail-content","outer"],[1,"inner"],[1,"centered"],[3,"spinner"],[1,"thumbnail-content","img-fluid",3,"error","load","ngClass","src","alt"],[1,"thumbnail-placeholder","centered","lead"]],template:function(k,W){1&k&&(t.j41(0,"div",0),t.DNE(1,p,4,1,"div",1)(2,x,3,9,"img",2)(3,O,5,3,"div",1),t.k0s()),2&k&&(t.AVh("limit-width",W.limitWidth),t.R7$(),t.Y8G("ngIf",W.isLoading),t.R7$(),t.Y8G("ngIf",null!==W.src),t.R7$(),t.Y8G("ngIf",null===W.src&&!W.isLoading))},dependencies:[i.MD,i.YU,i.bT,R.v,u.h,u.D9,T.d],styles:['.limit-width[_ngcontent-%COMP%]{max-width:var(--ds-thumbnail-max-width)}img[_ngcontent-%COMP%]{max-width:100%}.outer[_ngcontent-%COMP%]{position:relative}.outer[_ngcontent-%COMP%]:before{display:block;content:"";width:100%;padding-top:141.4285714286%}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%]{position:absolute;inset:0}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%] > .thumbnail-placeholder[_ngcontent-%COMP%]{background:var(--ds-thumbnail-placeholder-background);border:var(--ds-thumbnail-placeholder-border);color:var(--ds-thumbnail-placeholder-color);font-weight:700}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%] > .centered[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}']})}}return M})()},43782:(F,D,n)=>{"use strict";n.d(D,{$:()=>A});var i=n(84572),t=n(96354),u=n(25558),e=n(96697),h=n(32473),m=n(56760),f=n(80183),v=n(52837),E=n(82777),_=n(39806),C=n(54438),I=n(7901),R=n(41780),T=n(60177);let A=(()=>{class p{constructor(O,w,M,L,B,k,W,U){this.route=O,this.workflowItemService=w,this.router=M,this.routeService=L,this.notificationsService=B,this.translationService=k,this.requestService=W,this.location=U}ngOnInit(){this.type=this.getType(),this.wfi$=this.route.data.pipe((0,t.T)(O=>O.wfi),(0,f.Bo)()),this.item$=this.wfi$.pipe((0,u.n)(O=>O.item.pipe((0,f.v7)(),(0,f.Bo)()))),this.previousQueryParameters=this.location.getState()?.previousQueryParams}performAction(){(0,i.z)([this.wfi$,this.requestService.removeByHrefSubstring("/discover")]).pipe((0,e.s)(1),(0,u.n)(([O])=>this.sendRequest(O.id))).subscribe(O=>{if(O){const w=this.translationService.get("workflow-item."+this.type+".notification.success.title"),M=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(w,M)}else{const w=this.translationService.get("workflow-item."+this.type+".notification.error.title"),M=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(w,M)}this.previousPage()})}previousPage(){this.routeService.getPreviousUrl().pipe((0,e.s)(1)).subscribe(O=>{let w={};if((0,E.Im)(O)&&(O="/mydspace",w=this.previousQueryParameters),O.split("?").length>1)for(const M of O.split("?")[1].split("&"))w[M.split("=")[0]]=decodeURIComponent(M.split("=")[1]);this.router.navigate([O.split("?")[0]],{queryParams:w})})}static{this.\u0275fac=function(w){return new(w||p)(C.rXU(I.nX),C.rXU(v.WorkflowItemDataService),C.rXU(I.Ix),C.rXU(m.v$),C.rXU(_.I),C.rXU(R.c$),C.rXU(h.B),C.rXU(T.aZ))}}static{this.\u0275dir=C.FsC({type:p,selectors:[["ds-workflowitem-action-page"]],inputs:{type:"type"},standalone:!0})}}return p})()},79951:(F,D,n)=>{"use strict";n.d(D,{BD:()=>m,BY:()=>E,HJ:()=>v,RS:()=>A,Rd:()=>C,Rk:()=>f,UM:()=>I,Uf:()=>_,XH:()=>h,YN:()=>R,b1:()=>T});var i=n(69799),t=n(45663);function h(O){return new t.t((0,i.Q)(),O,R).toString()}function m(O){return new t.t((0,i.Q)(),O,I).toString()}function f(O){return new t.t((0,i.Q)(),O,T).toString()}function v(O){return new t.t((0,i.Q)(),O,A).toString()}function E(O){return new t.t((0,i.cp)(),O,p).toString()}function _(O){return new t.t((0,i.cp)(),O,x).toString()}const C="edit",I="delete",R="view",T="sendback",A="advanced",p="delete",x="edit"},82640:(F,D,n)=>{"use strict";n.d(D,{Dr:()=>u,l9:()=>e,vQ:()=>t});var i=n(54438);const t=new i.nKC("APP_CONFIG"),u=(0,i.zw6)("APP_CONFIG_STATE"),e=new i.nKC("APP_DATA_SERVICES_MAP")},45113:(F,D,n)=>{"use strict";n.d(D,{$k:()=>m,Nv:()=>v});var i=n(58813),u=n(82777),e=n(10092),h=n(88280);const m=(E,_)=>{f(E,_),console.log("Environment extended with app config")},f=(E,_)=>{Object.assign(E,(0,i.all)([E,_],{arrayMerge:(I,R,T)=>R}))},v=()=>h.c.themes.find(E=>(0,u.Tn)(E.regex)&&(0,u.Tn)(E.handle)&&(0,u.Tn)(E.uuid))??{name:e.Q}},88280:(F,D,n)=>{"use strict";n.d(D,{c:()=>i});const i={production:!0,ssr:{enabled:!0,enablePerformanceProfiler:!1,inlineCriticalCss:!1,transferState:!0,replaceRestUrl:!0,paths:["/home","/items/","/entities/","/collections/","/communities/","/bitstream/","/bitstreams/","/handle/","/reload/"],enableSearchComponent:!1,enableBrowseComponent:!1}}},59540:(F,D,n)=>{"use strict";n.d(D,{C:()=>u,S:()=>t});var i=n(54438);const t=new i.nKC("REQUEST"),u=new i.nKC("RESPONSE")},71281:(F,D,n)=>{"use strict";n(96935),n(52165),n(82374);var e=n(54438),h=n(345),m=n(74523),f=n(60177),v=n(7901),E=n(25499),_=n(84412),C=n(23294),I=n(35335),R=n(53993),T=n(96697),A=n(88280),p=n(67116),x=n(38169),O=n(1676),w=n(52998),M=n(8886),L=n(87114);const B=["*"];function k(d,y){}let W=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["shouldShowRouteLoader","shouldShowFullscreenLoader"]}getComponentName(){return"RootComponent"}importThemedComponent(o){return n(94634)(`./${o}/app/root/root.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,87114))}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-root"]],inputs:{shouldShowFullscreenLoader:"shouldShowFullscreenLoader",shouldShowRouteLoader:"shouldShowRouteLoader"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:B,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,b){1&c&&(e.NAR(),e.DNE(0,k,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var U=n(65354),K=n(41780),Y=n(59836),G=n(82777),q=n(58003);const z=d=>({timeToExpire:d});let te=(()=>{class d{constructor(o,c,b){this.activeModal=o,this.authService=c,this.store=b,this.response=new e.bkB,this.timeToExpire=(A.c.auth.ui.timeUntilIdle+A.c.auth.ui.idleGracePeriod)/1e3/60}ngOnInit(){(0,G.a4)(this.graceTimer)&&clearTimeout(this.graceTimer),this.graceTimer=setTimeout(()=>{this.logOutPressed()},A.c.auth.ui.idleGracePeriod)}extendSessionPressed(){this.extendSessionAndCloseModal()}logOutPressed(){this.closeModal(),this.store.dispatch(new Y.du)}closePressed(){this.extendSessionAndCloseModal()}extendSessionAndCloseModal(){(0,G.a4)(this.graceTimer)&&clearTimeout(this.graceTimer),this.authService.setIdle(!1),this.closeModal()}closeModal(){this.activeModal.close(),this.response.emit(!0)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(q.Lw),e.rXU(p.uR),e.rXU(E.il))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-idle-modal"]],outputs:{response:"response"},standalone:!0,features:[e.aNF],decls:18,vars:15,consts:[["id","idle-modal.header",1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button","aria-label","Log out",1,"cancel","btn","btn-danger",3,"click"],[1,"fas","fa-sign-out-alt"],["type","button","aria-label","Extend session","ngbAutofocus","",1,"confirm","btn","btn-primary",3,"click"],[1,"fas","fa-redo-alt"]],template:function(c,b){1&c&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return b.closePressed()}),e.k0s()(),e.j41(5,"div",2)(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div",3)(10,"button",4),e.bIt("click",function(){return b.logOutPressed()}),e.nrm(11,"i",5),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",6),e.bIt("click",function(){return b.extendSessionPressed()}),e.nrm(15,"i",7),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()),2&c&&(e.R7$(2),e.SpI("",e.bMT(3,4,"idle-modal.header")," "),e.R7$(5),e.JRh(e.i5U(8,6,"idle-modal.info",e.eq3(13,z,b.timeToExpire))),e.R7$(5),e.SpI(" ",e.bMT(13,9,"idle-modal.log-out")," "),e.R7$(4),e.SpI(" ",e.bMT(17,11,"idle-modal.extend-session")," "))},dependencies:[K.h,K.D9],encapsulation:2})}}return d})();var Z=n(1221),J=n(82522);let Q=(()=>{class d{constructor(o,c,b,$,ue,Me,it,Bt,yn,cn,ts){this.themeService=o,this._window=c,this.document=b,this.platformId=$,this.translate=ue,this.store=Me,this.authService=it,this.router=Bt,this.cssService=yn,this.modalService=cn,this.modalConfig=ts,this.isRouteLoading$=new _.t(!1),this.notificationOptions=A.c.notifications,(0,f.UE)(this.platformId)&&this.trackIdleModal(),this.isThemeLoading$=this.themeService.isThemeLoading$,this.storeCSSVariables()}ngOnInit(){this.modalConfig.beforeDismiss=(0,m.A)(function*(){return"function"!=typeof this?.componentInstance?.beforeDismiss||this.componentInstance.beforeDismiss()}),this.isAuthBlocking$=this.store.pipe((0,E.Lt)(x.Gv),(0,C.F)()),this.dispatchWindowSize(this._window.nativeWindow.innerWidth,this._window.nativeWindow.innerHeight),this.initializeAuthentication()}initializeAuthentication(){(0,f.UE)(this.platformId)&&(this.authService.checkAuthenticationToken(),this.authService.trackTokenExpiration(),console.log("Authentication initialized on app startup"))}storeCSSVariables(){this.cssService.clearCSSVariables(),this.cssService.addCSSVariables(this.cssService.getCSSVariablesFromStylesheets(this.document))}ngAfterViewInit(){this.router.events.pipe((0,I.c)(0)).subscribe(o=>{o instanceof v.Z?(0,w.S)(this.isRouteLoading$,!0):(o instanceof v.wF||o instanceof v.j5)&&(0,w.S)(this.isRouteLoading$,!1)})}onResize(o){this.dispatchWindowSize(o.target.innerWidth,o.target.innerHeight)}dispatchWindowSize(o,c){this.store.dispatch(new U.l(o,c))}trackIdleModal(){const o=this.authService.isUserIdle(),c=this.authService.isAuthenticated();o.pipe((0,R.E)(c)).subscribe(([b,$])=>{if(b&&$&&!this.idleModalOpen){const ue=this.modalService.open(te,{ariaLabelledBy:"idle-modal.header"});this.idleModalOpen=!0,ue.componentInstance.response.pipe((0,T.s)(1)).subscribe(Me=>{Me&&(this.idleModalOpen=!1)})}})}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(J.Fs),e.rXU(O.lc),e.rXU(f.qQ),e.rXU(e.Agw),e.rXU(K.c$),e.rXU(E.il),e.rXU(p.uR),e.rXU(v.Ix),e.rXU(Z.J),e.rXU(q.Bq),e.rXU(q.LY))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-app"]],hostBindings:function(c,b){1&c&&e.bIt("resize",function(ue){return b.onResize(ue)},!1,e.tSv)},standalone:!0,features:[e.aNF],decls:4,vars:8,consts:[[3,"shouldShowFullscreenLoader","shouldShowRouteLoader"]],template:function(c,b){1&c&&(e.nrm(0,"ds-root",0),e.nI1(1,"async"),e.nI1(2,"async"),e.nI1(3,"async")),2&c&&e.Y8G("shouldShowFullscreenLoader",e.bMT(1,2,b.isAuthBlocking$)||e.bMT(2,4,b.isThemeLoading$))("shouldShowRouteLoader",e.bMT(3,6,b.isRouteLoading$))},dependencies:[W,f.Jj],changeDetection:0})}}return d})();var ee=n(45113),le=n(21626),ne=n(49969);function se(d){return new e.wOt(3e3,!1)}function Jt(d){switch(d.length){case 0:return new ne.sf;case 1:return d[0];default:return new ne.ui(d)}}function Dt(d,y,o=new Map,c=new Map){const b=[],$=[];let ue=-1,Me=null;if(y.forEach(it=>{const Bt=it.get("offset"),yn=Bt==ue,cn=yn&&Me||new Map;it.forEach((ts,vs)=>{let Hn=vs,ls=ts;if("offset"!==vs)switch(Hn=d.normalizePropertyName(Hn,b),ls){case ne.FX:ls=o.get(vs);break;case ne.kp:ls=c.get(vs);break;default:ls=d.normalizeStyleValue(vs,Hn,ls,b)}cn.set(Hn,ls)}),yn||$.push(cn),Me=cn,ue=Bt}),b.length)throw function hn(d){return new e.wOt(3502,!1)}();return $}function Ft(d,y,o,c){switch(y){case"start":d.onStart(()=>c(o&&ot(o,"start",d)));break;case"done":d.onDone(()=>c(o&&ot(o,"done",d)));break;case"destroy":d.onDestroy(()=>c(o&&ot(o,"destroy",d)))}}function ot(d,y,o){const $=xe(d.element,d.triggerName,d.fromState,d.toState,y||d.phaseName,o.totalTime??d.totalTime,!!o.disabled),ue=d._data;return null!=ue&&($._data=ue),$}function xe(d,y,o,c,b="",$=0,ue){return{element:d,triggerName:y,fromState:o,toState:c,phaseName:b,totalTime:$,disabled:!!ue}}function Ve(d,y,o){let c=d.get(y);return c||d.set(y,c=o),c}function Ke(d){const y=d.indexOf(":");return[d.substring(1,y),d.slice(y+1)]}const Be=typeof document>"u"?null:document.documentElement;function At(d){const y=d.parentNode||d.host||null;return y===Be?null:y}let st=null,ke=!1;function ln(d,y){for(;y;){if(y===d)return!0;y=At(y)}return!1}function Tn(d,y,o){if(o)return Array.from(d.querySelectorAll(y));const c=d.querySelector(y);return c?[c]:[]}let Zn=(()=>{class d{validateStyleProperty(o){return function Le(d){st||(st=function St(){return typeof document<"u"?document.body:null}()||{},ke=!!st.style&&"WebkitAppearance"in st.style);let y=!0;return st.style&&!function Qe(d){return"ebkit"==d.substring(1,6)}(d)&&(y=d in st.style,!y&&ke&&(y="Webkit"+d.charAt(0).toUpperCase()+d.slice(1)in st.style)),y}(o)}matchesElement(o,c){return!1}containsElement(o,c){return ln(o,c)}getParentElement(o){return At(o)}query(o,c,b){return Tn(o,c,b)}computeStyle(o,c,b){return b||""}animate(o,c,b,$,ue,Me=[],it){return new ne.sf(b,$)}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();class wn{static{this.NOOP=new Zn}}class ct{}const pn=1e3,Gs="ng-enter",cs="ng-leave",Cs="ng-trigger",ds=".ng-trigger",dn="ng-animating",En=".ng-animating";function ss(d){if("number"==typeof d)return d;const y=d.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:Ls(parseFloat(y[1]),y[2])}function Ls(d,y){return"s"===y?d*pn:d}function li(d,y,o){return d.hasOwnProperty("duration")?d:function _t(d,y,o){let b,$=0,ue="";if("string"==typeof d){const Me=d.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Me)return y.push(se()),{duration:0,delay:0,easing:""};b=Ls(parseFloat(Me[1]),Me[2]);const it=Me[3];null!=it&&($=Ls(parseFloat(it),Me[4]));const Bt=Me[5];Bt&&(ue=Bt)}else b=d;if(!o){let Me=!1,it=y.length;b<0&&(y.push(function ce(){return new e.wOt(3100,!1)}()),Me=!0),$<0&&(y.push(function De(){return new e.wOt(3101,!1)}()),Me=!0),Me&&y.splice(it,0,se())}return{duration:b,delay:$,easing:ue}}(d,y,o)}function sn(d,y,o){y.forEach((c,b)=>{const $=$n(b);o&&!o.has(b)&&o.set(b,d.style[$]),d.style[$]=c})}function lt(d,y){y.forEach((o,c)=>{const b=$n(c);d.style[b]=""})}function gt(d){return Array.isArray(d)?1==d.length?d[0]:(0,ne.K2)(d):d}const Wt=new RegExp("{{\\s*(.+?)\\s*}}","g");function fn(d){let y=[];if("string"==typeof d){let o;for(;o=Wt.exec(d);)y.push(o[1]);Wt.lastIndex=0}return y}function An(d,y,o){const c=`${d}`,b=c.replace(Wt,($,ue)=>{let Me=y[ue];return null==Me&&(o.push(function me(d){return new e.wOt(3003,!1)}()),Me=""),Me.toString()});return b==c?d:b}const Yn=/-+([a-z0-9])/g;function $n(d){return d.replace(Yn,(...y)=>y[1].toUpperCase())}function hs(d,y,o){switch(y.type){case ne.If.Trigger:return d.visitTrigger(y,o);case ne.If.State:return d.visitState(y,o);case ne.If.Transition:return d.visitTransition(y,o);case ne.If.Sequence:return d.visitSequence(y,o);case ne.If.Group:return d.visitGroup(y,o);case ne.If.Animate:return d.visitAnimate(y,o);case ne.If.Keyframes:return d.visitKeyframes(y,o);case ne.If.Style:return d.visitStyle(y,o);case ne.If.Reference:return d.visitReference(y,o);case ne.If.AnimateChild:return d.visitAnimateChild(y,o);case ne.If.AnimateRef:return d.visitAnimateRef(y,o);case ne.If.Query:return d.visitQuery(y,o);case ne.If.Stagger:return d.visitStagger(y,o);default:throw function re(d){return new e.wOt(3004,!1)}()}}function bs(d,y){return window.getComputedStyle(d)[y]}const Oi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Hi extends ct{normalizePropertyName(y,o){return $n(y)}normalizeStyleValue(y,o,c,b){let $="";const ue=c.toString().trim();if(Oi.has(o)&&0!==c&&"0"!==c)if("number"==typeof c)$="px";else{const Me=c.match(/^[+-]?[\d\.]+([a-z]*)$/);Me&&0==Me[1].length&&b.push(function Ee(d,y){return new e.wOt(3005,!1)}())}return ue+$}}const Yi="*";const Dn=new Set(["true","1"]),on=new Set(["false","0"]);function Qt(d,y){const o=Dn.has(d)||on.has(d),c=Dn.has(y)||on.has(y);return(b,$)=>{let ue=d==Yi||d==b,Me=y==Yi||y==$;return!ue&&o&&"boolean"==typeof b&&(ue=b?Dn.has(d):on.has(d)),!Me&&c&&"boolean"==typeof $&&(Me=$?Dn.has(y):on.has(y)),ue&&Me}}const qn=new RegExp("s*:selfs*,?","g");function Ds(d,y,o,c){return new Ci(d).build(y,o,c)}class Ci{constructor(y){this._driver=y}build(y,o,c){const b=new ho(o);return this._resetContextStyleTimingState(b),hs(this,gt(y),b)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,o){let c=o.queryCount=0,b=o.depCount=0;const $=[],ue=[];return"@"==y.name.charAt(0)&&o.errors.push(function Te(){return new e.wOt(3006,!1)}()),y.definitions.forEach(Me=>{if(this._resetContextStyleTimingState(o),Me.type==ne.If.State){const it=Me,Bt=it.name;Bt.toString().split(/\s*,\s*/).forEach(yn=>{it.name=yn,$.push(this.visitState(it,o))}),it.name=Bt}else if(Me.type==ne.If.Transition){const it=this.visitTransition(Me,o);c+=it.queryCount,b+=it.depCount,ue.push(it)}else o.errors.push(function tt(){return new e.wOt(3007,!1)}())}),{type:ne.If.Trigger,name:y.name,states:$,transitions:ue,queryCount:c,depCount:b,options:null}}visitState(y,o){const c=this.visitStyle(y.styles,o),b=y.options&&y.options.params||null;if(c.containsDynamicStyles){const $=new Set,ue=b||{};c.styles.forEach(Me=>{Me instanceof Map&&Me.forEach(it=>{fn(it).forEach(Bt=>{ue.hasOwnProperty(Bt)||$.add(Bt)})})}),$.size&&o.errors.push(function ht(d,y){return new e.wOt(3008,!1)}(0,$.values()))}return{type:ne.If.State,name:y.name,style:c,options:b?{params:b}:null}}visitTransition(y,o){o.queryCount=0,o.depCount=0;const c=hs(this,gt(y.animation),o),b=function _r(d,y){const o=[];return"string"==typeof d?d.split(/\s*,\s*/).forEach(c=>function Uo(d,y,o){if(":"==d[0]){const it=function $t(d,y){switch(d){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,c)=>parseFloat(c)>parseFloat(o);case":decrement":return(o,c)=>parseFloat(c)<parseFloat(o);default:return y.push(function Pt(d){return new e.wOt(3016,!1)}()),"* => *"}}(d,o);if("function"==typeof it)return void y.push(it);d=it}const c=d.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return o.push(function mt(d){return new e.wOt(3015,!1)}()),y;const b=c[1],$=c[2],ue=c[3];y.push(Qt(b,ue)),"<"==$[0]&&(b!=Yi||ue!=Yi)&&y.push(Qt(ue,b))}(c,o,y)):o.push(d),o}(y.expr,o.errors);return{type:ne.If.Transition,matchers:b,animation:c,queryCount:o.queryCount,depCount:o.depCount,options:Xo(y.options)}}visitSequence(y,o){return{type:ne.If.Sequence,steps:y.steps.map(c=>hs(this,c,o)),options:Xo(y.options)}}visitGroup(y,o){const c=o.currentTime;let b=0;const $=y.steps.map(ue=>{o.currentTime=c;const Me=hs(this,ue,o);return b=Math.max(b,o.currentTime),Me});return o.currentTime=b,{type:ne.If.Group,steps:$,options:Xo(y.options)}}visitAnimate(y,o){const c=function ur(d,y){if(d.hasOwnProperty("duration"))return d;if("number"==typeof d)return Xr(li(d,y).duration,0,"");const o=d;if(o.split(/\s+/).some($=>"{"==$.charAt(0)&&"{"==$.charAt(1))){const $=Xr(0,0,"");return $.dynamic=!0,$.strValue=o,$}const b=li(o,y);return Xr(b.duration,b.delay,b.easing)}(y.timings,o.errors);o.currentAnimateTimings=c;let b,$=y.styles?y.styles:(0,ne.iF)({});if($.type==ne.If.Keyframes)b=this.visitKeyframes($,o);else{let ue=y.styles,Me=!1;if(!ue){Me=!0;const Bt={};c.easing&&(Bt.easing=c.easing),ue=(0,ne.iF)(Bt)}o.currentTime+=c.duration+c.delay;const it=this.visitStyle(ue,o);it.isEmptyStep=Me,b=it}return o.currentAnimateTimings=null,{type:ne.If.Animate,timings:c,style:b,options:null}}visitStyle(y,o){const c=this._makeStyleAst(y,o);return this._validateStyleAst(c,o),c}_makeStyleAst(y,o){const c=[],b=Array.isArray(y.styles)?y.styles:[y.styles];for(let Me of b)"string"==typeof Me?Me===ne.kp?c.push(Me):o.errors.push(new e.wOt(3002,!1)):c.push(new Map(Object.entries(Me)));let $=!1,ue=null;return c.forEach(Me=>{if(Me instanceof Map&&(Me.has("easing")&&(ue=Me.get("easing"),Me.delete("easing")),!$))for(let it of Me.values())if(it.toString().indexOf("{{")>=0){$=!0;break}}),{type:ne.If.Style,styles:c,easing:ue,offset:y.offset,containsDynamicStyles:$,options:null}}_validateStyleAst(y,o){const c=o.currentAnimateTimings;let b=o.currentTime,$=o.currentTime;c&&$>0&&($-=c.duration+c.delay),y.styles.forEach(ue=>{"string"!=typeof ue&&ue.forEach((Me,it)=>{const Bt=o.collectedStyles.get(o.currentQuerySelector),yn=Bt.get(it);let cn=!0;yn&&($!=b&&$>=yn.startTime&&b<=yn.endTime&&(o.errors.push(function Ye(d,y,o,c,b){return new e.wOt(3010,!1)}()),cn=!1),$=yn.startTime),cn&&Bt.set(it,{startTime:$,endTime:b}),o.options&&function Ct(d,y,o){const c=y.params||{},b=fn(d);b.length&&b.forEach($=>{c.hasOwnProperty($)||o.push(function be(d){return new e.wOt(3001,!1)}())})}(Me,o.options,o.errors)})})}visitKeyframes(y,o){const c={type:ne.If.Keyframes,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function pt(){return new e.wOt(3011,!1)}()),c;let $=0;const ue=[];let Me=!1,it=!1,Bt=0;const yn=y.steps.map(Gi=>{const mi=this._makeStyleAst(Gi,o);let Mo=null!=mi.offset?mi.offset:function vr(d){if("string"==typeof d)return null;let y=null;if(Array.isArray(d))d.forEach(o=>{if(o instanceof Map&&o.has("offset")){const c=o;y=parseFloat(c.get("offset")),c.delete("offset")}});else if(d instanceof Map&&d.has("offset")){const o=d;y=parseFloat(o.get("offset")),o.delete("offset")}return y}(mi.styles),dr=0;return null!=Mo&&($++,dr=mi.offset=Mo),it=it||dr<0||dr>1,Me=Me||dr<Bt,Bt=dr,ue.push(dr),mi});it&&o.errors.push(function Mt(){return new e.wOt(3012,!1)}()),Me&&o.errors.push(function Ne(){return new e.wOt(3200,!1)}());const cn=y.steps.length;let ts=0;$>0&&$<cn?o.errors.push(function rt(){return new e.wOt(3202,!1)}()):0==$&&(ts=1/(cn-1));const vs=cn-1,Hn=o.currentTime,ls=o.currentAnimateTimings,Xs=ls.duration;return yn.forEach((Gi,mi)=>{const Mo=ts>0?mi==vs?1:ts*mi:ue[mi],dr=Mo*Xs;o.currentTime=Hn+ls.delay+dr,ls.duration=dr,this._validateStyleAst(Gi,o),Gi.offset=Mo,c.styles.push(Gi)}),c}visitReference(y,o){return{type:ne.If.Reference,animation:hs(this,gt(y.animation),o),options:Xo(y.options)}}visitAnimateChild(y,o){return o.depCount++,{type:ne.If.AnimateChild,options:Xo(y.options)}}visitAnimateRef(y,o){return{type:ne.If.AnimateRef,animation:this.visitReference(y.animation,o),options:Xo(y.options)}}visitQuery(y,o){const c=o.currentQuerySelector,b=y.options||{};o.queryCount++,o.currentQuery=y;const[$,ue]=function vo(d){const y=!!d.split(/\s*,\s*/).find(o=>":self"==o);return y&&(d=d.replace(qn,"")),d=d.replace(/@\*/g,ds).replace(/@\w+/g,o=>ds+"-"+o.slice(1)).replace(/:animating/g,En),[d,y]}(y.selector);o.currentQuerySelector=c.length?c+" "+$:$,Ve(o.collectedStyles,o.currentQuerySelector,new Map);const Me=hs(this,gt(y.animation),o);return o.currentQuery=null,o.currentQuerySelector=c,{type:ne.If.Query,selector:$,limit:b.limit||0,optional:!!b.optional,includeSelf:ue,animation:Me,originalSelector:y.selector,options:Xo(y.options)}}visitStagger(y,o){o.currentQuery||o.errors.push(function Gt(){return new e.wOt(3013,!1)}());const c="full"===y.timings?{duration:0,delay:0,easing:"full"}:li(y.timings,o.errors,!0);return{type:ne.If.Stagger,animation:hs(this,gt(y.animation),o),timings:c,options:null}}}class ho{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Xo(d){return d?(d={...d}).params&&(d.params=function hi(d){return d?{...d}:null}(d.params)):d={},d}function Xr(d,y,o){return{duration:d,delay:y,easing:o}}function yr(d,y,o,c,b,$,ue=null,Me=!1){return{type:1,element:d,keyframes:y,preStyleProps:o,postStyleProps:c,duration:b,delay:$,totalTime:b+$,easing:ue,subTimeline:Me}}class Jo{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,o){let c=this._map.get(y);c||this._map.set(y,c=[]),c.push(...o)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const Qr=new RegExp(":enter","g"),Er=new RegExp(":leave","g");function Ks(d,y,o,c,b,$=new Map,ue=new Map,Me,it,Bt=[]){return(new hr).buildKeyframes(d,y,o,c,b,$,ue,Me,it,Bt)}class hr{buildKeyframes(y,o,c,b,$,ue,Me,it,Bt,yn=[]){Bt=Bt||new Jo;const cn=new Qo(y,o,Bt,b,$,yn,[]);cn.options=it;const ts=it.delay?ss(it.delay):0;cn.currentTimeline.delayNextStep(ts),cn.currentTimeline.setStyles([ue],null,cn.errors,it),hs(this,c,cn);const vs=cn.timelines.filter(Hn=>Hn.containsAnimation());if(vs.length&&Me.size){let Hn;for(let ls=vs.length-1;ls>=0;ls--){const Xs=vs[ls];if(Xs.element===o){Hn=Xs;break}}Hn&&!Hn.allowOnlyTimelineStyles()&&Hn.setStyles([Me],null,cn.errors,it)}return vs.length?vs.map(Hn=>Hn.buildKeyframes()):[yr(o,[],[],[],0,ts,"",!1)]}visitTrigger(y,o){}visitState(y,o){}visitTransition(y,o){}visitAnimateChild(y,o){const c=o.subInstructions.get(o.element);if(c){const b=o.createSubContext(y.options),$=o.currentTimeline.currentTime,ue=this._visitSubInstructions(c,b,b.options);$!=ue&&o.transformIntoNewTimeline(ue)}o.previousNode=y}visitAnimateRef(y,o){const c=o.createSubContext(y.options);c.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],o,c),this.visitReference(y.animation,c),o.transformIntoNewTimeline(c.currentTimeline.currentTime),o.previousNode=y}_applyAnimationRefDelays(y,o,c){for(const b of y){const $=b?.delay;if($){const ue="number"==typeof $?$:ss(An($,b?.params??{},o.errors));c.delayNextStep(ue)}}}_visitSubInstructions(y,o,c){let $=o.currentTimeline.currentTime;const ue=null!=c.duration?ss(c.duration):null,Me=null!=c.delay?ss(c.delay):null;return 0!==ue&&y.forEach(it=>{const Bt=o.appendInstructionToTimeline(it,ue,Me);$=Math.max($,Bt.duration+Bt.delay)}),$}visitReference(y,o){o.updateOptions(y.options,!0),hs(this,y.animation,o),o.previousNode=y}visitSequence(y,o){const c=o.subContextCount;let b=o;const $=y.options;if($&&($.params||$.delay)&&(b=o.createSubContext($),b.transformIntoNewTimeline(),null!=$.delay)){b.previousNode.type==ne.If.Style&&(b.currentTimeline.snapshotCurrentStyles(),b.previousNode=Zr);const ue=ss($.delay);b.delayNextStep(ue)}y.steps.length&&(y.steps.forEach(ue=>hs(this,ue,b)),b.currentTimeline.applyStylesToKeyframe(),b.subContextCount>c&&b.transformIntoNewTimeline()),o.previousNode=y}visitGroup(y,o){const c=[];let b=o.currentTimeline.currentTime;const $=y.options&&y.options.delay?ss(y.options.delay):0;y.steps.forEach(ue=>{const Me=o.createSubContext(y.options);$&&Me.delayNextStep($),hs(this,ue,Me),b=Math.max(b,Me.currentTimeline.currentTime),c.push(Me.currentTimeline)}),c.forEach(ue=>o.currentTimeline.mergeTimelineCollectedStyles(ue)),o.transformIntoNewTimeline(b),o.previousNode=y}_visitTiming(y,o){if(y.dynamic){const c=y.strValue;return li(o.params?An(c,o.params,o.errors):c,o.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,o){const c=o.currentAnimateTimings=this._visitTiming(y.timings,o),b=o.currentTimeline;c.delay&&(o.incrementTime(c.delay),b.snapshotCurrentStyles());const $=y.style;$.type==ne.If.Keyframes?this.visitKeyframes($,o):(o.incrementTime(c.duration),this.visitStyle($,o),b.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=y}visitStyle(y,o){const c=o.currentTimeline,b=o.currentAnimateTimings;!b&&c.hasCurrentStyleProperties()&&c.forwardFrame();const $=b&&b.easing||y.easing;y.isEmptyStep?c.applyEmptyStep($):c.setStyles(y.styles,$,o.errors,o.options),o.previousNode=y}visitKeyframes(y,o){const c=o.currentAnimateTimings,b=o.currentTimeline.duration,$=c.duration,Me=o.createSubContext().currentTimeline;Me.easing=c.easing,y.styles.forEach(it=>{Me.forwardTime((it.offset||0)*$),Me.setStyles(it.styles,it.easing,o.errors,o.options),Me.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(Me),o.transformIntoNewTimeline(b+$),o.previousNode=y}visitQuery(y,o){const c=o.currentTimeline.currentTime,b=y.options||{},$=b.delay?ss(b.delay):0;$&&(o.previousNode.type===ne.If.Style||0==c&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Zr);let ue=c;const Me=o.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!b.optional,o.errors);o.currentQueryTotal=Me.length;let it=null;Me.forEach((Bt,yn)=>{o.currentQueryIndex=yn;const cn=o.createSubContext(y.options,Bt);$&&cn.delayNextStep($),Bt===o.element&&(it=cn.currentTimeline),hs(this,y.animation,cn),cn.currentTimeline.applyStylesToKeyframe(),ue=Math.max(ue,cn.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(ue),it&&(o.currentTimeline.mergeTimelineCollectedStyles(it),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=y}visitStagger(y,o){const c=o.parentContext,b=o.currentTimeline,$=y.timings,ue=Math.abs($.duration),Me=ue*(o.currentQueryTotal-1);let it=ue*o.currentQueryIndex;switch($.duration<0?"reverse":$.easing){case"reverse":it=Me-it;break;case"full":it=c.currentStaggerTime}const yn=o.currentTimeline;it&&yn.delayNextStep(it);const cn=yn.currentTime;hs(this,y.animation,o),o.previousNode=y,c.currentStaggerTime=b.currentTime-cn+(b.startTime-c.currentTimeline.startTime)}}const Zr={};class Qo{constructor(y,o,c,b,$,ue,Me,it){this._driver=y,this.element=o,this.subInstructions=c,this._enterClassName=b,this._leaveClassName=$,this.errors=ue,this.timelines=Me,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=it||new jr(this._driver,o,0),Me.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,o){if(!y)return;const c=y;let b=this.options;null!=c.duration&&(b.duration=ss(c.duration)),null!=c.delay&&(b.delay=ss(c.delay));const $=c.params;if($){let ue=b.params;ue||(ue=this.options.params={}),Object.keys($).forEach(Me=>{(!o||!ue.hasOwnProperty(Me))&&(ue[Me]=An($[Me],ue,this.errors))})}}_copyOptions(){const y={};if(this.options){const o=this.options.params;if(o){const c=y.params={};Object.keys(o).forEach(b=>{c[b]=o[b]})}}return y}createSubContext(y=null,o,c){const b=o||this.element,$=new Qo(this._driver,b,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(b,c||0));return $.previousNode=this.previousNode,$.currentAnimateTimings=this.currentAnimateTimings,$.options=this._copyOptions(),$.updateOptions(y),$.currentQueryIndex=this.currentQueryIndex,$.currentQueryTotal=this.currentQueryTotal,$.parentContext=this,this.subContextCount++,$}transformIntoNewTimeline(y){return this.previousNode=Zr,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,o,c){const b={duration:o??y.duration,delay:this.currentTimeline.currentTime+(c??0)+y.delay,easing:""},$=new Na(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,b,y.stretchStartingKeyframe);return this.timelines.push($),b}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,o,c,b,$,ue){let Me=[];if(b&&Me.push(this.element),y.length>0){y=(y=y.replace(Qr,"."+this._enterClassName)).replace(Er,"."+this._leaveClassName);let Bt=this._driver.query(this.element,y,1!=c);0!==c&&(Bt=c<0?Bt.slice(Bt.length+c,Bt.length):Bt.slice(0,c)),Me.push(...Bt)}return!$&&0==Me.length&&ue.push(function Zt(d){return new e.wOt(3014,!1)}()),Me}}class jr{constructor(y,o,c,b){this._driver=y,this.element=o,this.startTime=c,this._elementTimelineStylesLookup=b,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+y),o&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,o){return this.applyStylesToKeyframe(),new jr(this._driver,y,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,o){this._localTimelineStyles.set(y,o),this._globalTimelineStyles.set(y,o),this._styleSummary.set(y,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[o,c]of this._globalTimelineStyles)this._backFill.set(o,c||ne.kp),this._currentKeyframe.set(o,ne.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,o,c,b){o&&this._previousKeyframe.set("easing",o);const $=b&&b.params||{},ue=function rr(d,y){const o=new Map;let c;return d.forEach(b=>{if("*"===b){c??=y.keys();for(let $ of c)o.set($,ne.kp)}else for(let[$,ue]of b)o.set($,ue)}),o}(y,this._globalTimelineStyles);for(let[Me,it]of ue){const Bt=An(it,$,c);this._pendingStyles.set(Me,Bt),this._localTimelineStyles.has(Me)||this._backFill.set(Me,this._globalTimelineStyles.get(Me)??ne.kp),this._updateStyle(Me,Bt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,o)=>{this._currentKeyframe.set(o,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,y)}))}snapshotCurrentStyles(){for(let[y,o]of this._localTimelineStyles)this._pendingStyles.set(y,o),this._updateStyle(y,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let o in this._currentKeyframe)y.push(o);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((o,c)=>{const b=this._styleSummary.get(c);(!b||o.time>b.time)&&this._updateStyle(c,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,o=new Set,c=1===this._keyframes.size&&0===this.duration;let b=[];this._keyframes.forEach((Me,it)=>{const Bt=new Map([...this._backFill,...Me]);Bt.forEach((yn,cn)=>{yn===ne.FX?y.add(cn):yn===ne.kp&&o.add(cn)}),c||Bt.set("offset",it/this.duration),b.push(Bt)});const $=[...y.values()],ue=[...o.values()];if(c){const Me=b[0],it=new Map(Me);Me.set("offset",0),it.set("offset",1),b=[Me,it]}return yr(this.element,b,$,ue,this.duration,this.startTime,this.easing,!1)}}class Na extends jr{constructor(y,o,c,b,$,ue,Me=!1){super(y,o,ue.delay),this.keyframes=c,this.preStyleProps=b,this.postStyleProps=$,this._stretchStartingKeyframe=Me,this.timings={duration:ue.duration,delay:ue.delay,easing:ue.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:o,duration:c,easing:b}=this.timings;if(this._stretchStartingKeyframe&&o){const $=[],ue=c+o,Me=o/ue,it=new Map(y[0]);it.set("offset",0),$.push(it);const Bt=new Map(y[0]);Bt.set("offset",ra(Me)),$.push(Bt);const yn=y.length-1;for(let cn=1;cn<=yn;cn++){let ts=new Map(y[cn]);const vs=ts.get("offset");ts.set("offset",ra((o+vs*c)/ue)),$.push(ts)}c=ue,o=0,b="",y=$}return yr(this.element,y,this.preStyleProps,this.postStyleProps,c,o,b,!0)}}function ra(d,y=3){const o=Math.pow(10,y-1);return Math.round(d*o)/o}function qr(d,y,o,c,b,$,ue,Me,it,Bt,yn,cn,ts){return{type:0,element:d,triggerName:y,isRemovalTransition:b,fromState:o,fromStyles:$,toState:c,toStyles:ue,timelines:Me,queriedElements:it,preStyleProps:Bt,postStyleProps:yn,totalTime:cn,errors:ts}}const ma={};class _a{constructor(y,o,c){this._triggerName=y,this.ast=o,this._stateStyles=c}match(y,o,c,b){return function qe(d,y,o,c,b){return d.some($=>$(y,o,c,b))}(this.ast.matchers,y,o,c,b)}buildStyles(y,o,c){let b=this._stateStyles.get("*");return void 0!==y&&(b=this._stateStyles.get(y?.toString())||b),b?b.buildStyles(o,c):new Map}build(y,o,c,b,$,ue,Me,it,Bt,yn){const cn=[],ts=this.ast.options&&this.ast.options.params||ma,Hn=this.buildStyles(c,Me&&Me.params||ma,cn),ls=it&&it.params||ma,Xs=this.buildStyles(b,ls,cn),Gi=new Set,mi=new Map,Mo=new Map,dr="void"===b,_d={params:at(ls,ts),delay:this.ast.options?.delay},Ac=yn?[]:Ks(y,o,this.ast.animation,$,ue,Hn,Xs,_d,Bt,cn);let wa=0;return Ac.forEach(xa=>{wa=Math.max(xa.duration+xa.delay,wa)}),cn.length?qr(o,this._triggerName,c,b,dr,Hn,Xs,[],[],mi,Mo,wa,cn):(Ac.forEach(xa=>{const Wd=xa.element,Mp=Ve(mi,Wd,new Set);xa.preStyleProps.forEach(Kd=>Mp.add(Kd));const zy=Ve(Mo,Wd,new Set);xa.postStyleProps.forEach(Kd=>zy.add(Kd)),Wd!==o&&Gi.add(Wd)}),qr(o,this._triggerName,c,b,dr,Hn,Xs,Ac,[...Gi.values()],mi,Mo,wa))}}function at(d,y){const o={...y};return Object.entries(d).forEach(([c,b])=>{null!=b&&(o[c]=b)}),o}class Ut{constructor(y,o,c){this.styles=y,this.defaultParams=o,this.normalizer=c}buildStyles(y,o){const c=new Map,b=at(y,this.defaultParams);return this.styles.styles.forEach($=>{"string"!=typeof $&&$.forEach((ue,Me)=>{ue&&(ue=An(ue,b,o));const it=this.normalizer.normalizePropertyName(Me,o);ue=this.normalizer.normalizeStyleValue(Me,it,ue,o),c.set(Me,ue)})}),c}}class xn{constructor(y,o,c){this.name=y,this.ast=o,this._normalizer=c,this.transitionFactories=[],this.states=new Map,o.states.forEach(b=>{this.states.set(b.name,new Ut(b.style,b.options&&b.options.params||{},c))}),Is(this.states,"true","1"),Is(this.states,"false","0"),o.transitions.forEach(b=>{this.transitionFactories.push(new _a(y,b,this.states))}),this.fallbackTransition=function os(d,y,o){return new _a(d,{type:ne.If.Transition,animation:{type:ne.If.Sequence,steps:[],options:null},matchers:[(ue,Me)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,o,c,b){return this.transitionFactories.find(ue=>ue.match(y,o,c,b))||null}matchStyles(y,o,c){return this.fallbackTransition.buildStyles(y,o,c)}}function Is(d,y,o){d.has(y)?d.has(o)||d.set(o,d.get(y)):d.has(o)&&d.set(y,d.get(o))}const Hs=new Jo;class As{constructor(y,o,c){this.bodyNode=y,this._driver=o,this._normalizer=c,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,o){const c=[],$=Ds(this._driver,o,c,[]);if(c.length)throw function an(d){return new e.wOt(3503,!1)}();this._animations.set(y,$)}_buildPlayer(y,o,c){const b=y.element,$=Dt(this._normalizer,y.keyframes,o,c);return this._driver.animate(b,$,y.duration,y.delay,y.easing,[],!0)}create(y,o,c={}){const b=[],$=this._animations.get(y);let ue;const Me=new Map;if($?(ue=Ks(this._driver,o,$,Gs,cs,new Map,new Map,c,Hs,b),ue.forEach(yn=>{const cn=Ve(Me,yn.element,new Map);yn.postStyleProps.forEach(ts=>cn.set(ts,null))})):(b.push(function Pn(){return new e.wOt(3300,!1)}()),ue=[]),b.length)throw function yt(d){return new e.wOt(3504,!1)}();Me.forEach((yn,cn)=>{yn.forEach((ts,vs)=>{yn.set(vs,this._driver.computeStyle(cn,vs,ne.kp))})});const Bt=Jt(ue.map(yn=>{const cn=Me.get(yn.element);return this._buildPlayer(yn,new Map,cn)}));return this._playersById.set(y,Bt),Bt.onDestroy(()=>this.destroy(y)),this.players.push(Bt),Bt}destroy(y){const o=this._getPlayer(y);o.destroy(),this._playersById.delete(y);const c=this.players.indexOf(o);c>=0&&this.players.splice(c,1)}_getPlayer(y){const o=this._playersById.get(y);if(!o)throw function Kt(d){return new e.wOt(3301,!1)}();return o}listen(y,o,c,b){const $=xe(o,"","","");return Ft(this._getPlayer(y),c,$,b),()=>{}}command(y,o,c,b){if("register"==c)return void this.register(y,b[0]);if("create"==c)return void this.create(y,o,b[0]||{});const $=this._getPlayer(y);switch(c){case"play":$.play();break;case"pause":$.pause();break;case"reset":$.reset();break;case"restart":$.restart();break;case"finish":$.finish();break;case"init":$.init();break;case"setPosition":$.setPosition(parseFloat(b[0]));break;case"destroy":this.destroy(y)}}}const ci="ng-animate-queued",bi="ng-animate-disabled",Io=[],so={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ys={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},io="__ng_removed";class tr{get params(){return this.options.params}constructor(y,o=""){this.namespaceId=o;const c=y&&y.hasOwnProperty("value");if(this.value=function Ge(d){return d??null}(c?y.value:y),c){const{value:$,...ue}=y;this.options=ue}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const o=y.params;if(o){const c=this.options.params;Object.keys(o).forEach(b=>{null==c[b]&&(c[b]=o[b])})}}}const mo="void",ko=new tr(mo);class Ar{constructor(y,o,c){this.id=y,this.hostElement=o,this._engine=c,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,Xt(o,this._hostClassName)}listen(y,o,c,b){if(!this._triggers.has(o))throw function Rt(d,y){return new e.wOt(3302,!1)}();if(null==c||0==c.length)throw function nn(d){return new e.wOt(3303,!1)}();if(!function oe(d){return"start"==d||"done"==d}(c))throw function gn(d,y){return new e.wOt(3400,!1)}();const $=Ve(this._elementListeners,y,[]),ue={name:o,phase:c,callback:b};$.push(ue);const Me=Ve(this._engine.statesByElement,y,new Map);return Me.has(o)||(Xt(y,Cs),Xt(y,Cs+"-"+o),Me.set(o,ko)),()=>{this._engine.afterFlush(()=>{const it=$.indexOf(ue);it>=0&&$.splice(it,1),this._triggers.has(o)||Me.delete(o)})}}register(y,o){return!this._triggers.has(y)&&(this._triggers.set(y,o),!0)}_getTrigger(y){const o=this._triggers.get(y);if(!o)throw function It(d){return new e.wOt(3401,!1)}();return o}trigger(y,o,c,b=!0){const $=this._getTrigger(o),ue=new Zo(this.id,o,y);let Me=this._engine.statesByElement.get(y);Me||(Xt(y,Cs),Xt(y,Cs+"-"+o),this._engine.statesByElement.set(y,Me=new Map));let it=Me.get(o);const Bt=new tr(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&it&&Bt.absorbOptions(it.options),Me.set(o,Bt),it||(it=ko),Bt.value!==mo&&it.value===Bt.value){if(!function Qi(d,y){const o=Object.keys(d),c=Object.keys(y);if(o.length!=c.length)return!1;for(let b=0;b<o.length;b++){const $=o[b];if(!y.hasOwnProperty($)||d[$]!==y[$])return!1}return!0}(it.params,Bt.params)){const ls=[],Xs=$.matchStyles(it.value,it.params,ls),Gi=$.matchStyles(Bt.value,Bt.params,ls);ls.length?this._engine.reportError(ls):this._engine.afterFlush(()=>{lt(y,Xs),sn(y,Gi)})}return}const ts=Ve(this._engine.playersByElement,y,[]);ts.forEach(ls=>{ls.namespaceId==this.id&&ls.triggerName==o&&ls.queued&&ls.destroy()});let vs=$.matchTransition(it.value,Bt.value,y,Bt.params),Hn=!1;if(!vs){if(!b)return;vs=$.fallbackTransition,Hn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:o,transition:vs,fromState:it,toState:Bt,player:ue,isFallbackTransition:Hn}),Hn||(Xt(y,ci),ue.onStart(()=>{In(y,ci)})),ue.onDone(()=>{let ls=this.players.indexOf(ue);ls>=0&&this.players.splice(ls,1);const Xs=this._engine.playersByElement.get(y);if(Xs){let Gi=Xs.indexOf(ue);Gi>=0&&Xs.splice(Gi,1)}}),this.players.push(ue),ts.push(ue),ue}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(o=>o.delete(y)),this._elementListeners.forEach((o,c)=>{this._elementListeners.set(c,o.filter(b=>b.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const o=this._engine.playersByElement.get(y);o&&(o.forEach(c=>c.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,o){const c=this._engine.driver.query(y,ds,!0);c.forEach(b=>{if(b[io])return;const $=this._engine.fetchNamespacesByElement(b);$.size?$.forEach(ue=>ue.triggerLeaveAnimation(b,o,!1,!0)):this.clearElementCache(b)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(b=>this.clearElementCache(b)))}triggerLeaveAnimation(y,o,c,b){const $=this._engine.statesByElement.get(y),ue=new Map;if($){const Me=[];if($.forEach((it,Bt)=>{if(ue.set(Bt,it.value),this._triggers.has(Bt)){const yn=this.trigger(y,Bt,mo,b);yn&&Me.push(yn)}}),Me.length)return this._engine.markElementAsRemoved(this.id,y,!0,o,ue),c&&Jt(Me).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const o=this._elementListeners.get(y),c=this._engine.statesByElement.get(y);if(o&&c){const b=new Set;o.forEach($=>{const ue=$.name;if(b.has(ue))return;b.add(ue);const it=this._triggers.get(ue).fallbackTransition,Bt=c.get(ue)||ko,yn=new tr(mo),cn=new Zo(this.id,ue,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:ue,transition:it,fromState:Bt,toState:yn,player:cn,isFallbackTransition:!0})})}}removeNode(y,o){const c=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,o),this.triggerLeaveAnimation(y,o,!0))return;let b=!1;if(c.totalAnimations){const $=c.players.length?c.playersByQueriedElement.get(y):[];if($&&$.length)b=!0;else{let ue=y;for(;ue=ue.parentNode;)if(c.statesByElement.get(ue)){b=!0;break}}}if(this.prepareLeaveAnimationListeners(y),b)c.markElementAsRemoved(this.id,y,!1,o);else{const $=y[io];(!$||$===so)&&(c.afterFlush(()=>this.clearElementCache(y)),c.destroyInnerAnimations(y),c._onRemovalComplete(y,o))}}insertNode(y,o){Xt(y,this._hostClassName)}drainQueuedTransitions(y){const o=[];return this._queue.forEach(c=>{const b=c.player;if(b.destroyed)return;const $=c.element,ue=this._elementListeners.get($);ue&&ue.forEach(Me=>{if(Me.name==c.triggerName){const it=xe($,c.triggerName,c.fromState.value,c.toState.value);it._data=y,Ft(c.player,Me.phase,it,Me.callback)}}),b.markedForDestroy?this._engine.afterFlush(()=>{b.destroy()}):o.push(c)}),this._queue=[],o.sort((c,b)=>{const $=c.transition.ast.depCount,ue=b.transition.ast.depCount;return 0==$||0==ue?$-ue:this._engine.driver.containsElement(c.element,b.element)?1:-1})}destroy(y){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}}class Do{_onRemovalComplete(y,o){this.onRemovalComplete(y,o)}constructor(y,o,c,b){this.bodyNode=y,this.driver=o,this._normalizer=c,this.scheduler=b,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=($,ue)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(o=>{o.players.forEach(c=>{c.queued&&y.push(c)})}),y}createNamespace(y,o){const c=new Ar(y,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(c,o):(this.newHostElements.set(o,c),this.collectEnterElement(o)),this._namespaceLookup[y]=c}_balanceNamespaceList(y,o){const c=this._namespaceList,b=this.namespacesByHostElement;if(c.length-1>=0){let ue=!1,Me=this.driver.getParentElement(o);for(;Me;){const it=b.get(Me);if(it){const Bt=c.indexOf(it);c.splice(Bt+1,0,y),ue=!0;break}Me=this.driver.getParentElement(Me)}ue||c.unshift(y)}else c.push(y);return b.set(o,y),y}register(y,o){let c=this._namespaceLookup[y];return c||(c=this.createNamespace(y,o)),c}registerTrigger(y,o,c){let b=this._namespaceLookup[y];b&&b.register(o,c)&&this.totalAnimations++}destroy(y,o){y&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const c=this._fetchNamespace(y);this.namespacesByHostElement.delete(c.hostElement);const b=this._namespaceList.indexOf(c);b>=0&&this._namespaceList.splice(b,1),c.destroy(o),delete this._namespaceLookup[y]}))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const o=new Set,c=this.statesByElement.get(y);if(c)for(let b of c.values())if(b.namespaceId){const $=this._fetchNamespace(b.namespaceId);$&&o.add($)}return o}trigger(y,o,c,b){if(Xe(o)){const $=this._fetchNamespace(y);if($)return $.trigger(o,c,b),!0}return!1}insertNode(y,o,c,b){if(!Xe(o))return;const $=o[io];if($&&$.setForRemoval){$.setForRemoval=!1,$.setForMove=!0;const ue=this.collectedLeaveElements.indexOf(o);ue>=0&&this.collectedLeaveElements.splice(ue,1)}if(y){const ue=this._fetchNamespace(y);ue&&ue.insertNode(o,c)}b&&this.collectEnterElement(o)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,o){o?this.disabledNodes.has(y)||(this.disabledNodes.add(y),Xt(y,bi)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),In(y,bi))}removeNode(y,o,c){if(Xe(o)){this.scheduler?.notify();const b=y?this._fetchNamespace(y):null;b?b.removeNode(o,c):this.markElementAsRemoved(y,o,!1,c);const $=this.namespacesByHostElement.get(o);$&&$.id!==y&&$.removeNode(o,c)}else this._onRemovalComplete(o,c)}markElementAsRemoved(y,o,c,b,$){this.collectedLeaveElements.push(o),o[io]={namespaceId:y,setForRemoval:b,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:$}}listen(y,o,c,b,$){return Xe(o)?this._fetchNamespace(y).listen(o,c,b,$):()=>{}}_buildInstruction(y,o,c,b,$){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,c,b,y.fromState.options,y.toState.options,o,$)}destroyInnerAnimations(y){let o=this.driver.query(y,ds,!0);o.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(y,En,!0),o.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(y){const o=this.playersByElement.get(y);o&&o.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(y){const o=this.playersByQueriedElement.get(y);o&&o.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return Jt(this.players).onDone(()=>y());y()})}processLeaveNode(y){const o=y[io];if(o&&o.setForRemoval){if(y[io]=so,o.namespaceId){this.destroyInnerAnimations(y);const c=this._fetchNamespace(o.namespaceId);c&&c.clearElementCache(y)}this._onRemovalComplete(y,o.setForRemoval)}y.classList?.contains(bi)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(c=>{this.markElementAsDisabled(c,!1)})}flush(y=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,b)=>this._balanceNamespaceList(c,b)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)Xt(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{o=this._flushAnimations(c,y)}finally{for(let b=0;b<c.length;b++)c[b]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],o.length?Jt(o).onDone(()=>{c.forEach(b=>b())}):c.forEach(b=>b())}}reportError(y){throw function zt(d){return new e.wOt(3402,!1)}()}_flushAnimations(y,o){const c=new Jo,b=[],$=new Map,ue=[],Me=new Map,it=new Map,Bt=new Map,yn=new Set;this.disabledNodes.forEach(Vs=>{yn.add(Vs);const Js=this.driver.query(Vs,".ng-animate-queued",!0);for(let ri=0;ri<Js.length;ri++)yn.add(Js[ri])});const cn=this.bodyNode,ts=Array.from(this.statesByElement.keys()),vs=Tt(ts,this.collectedEnterElements),Hn=new Map;let ls=0;vs.forEach((Vs,Js)=>{const ri=Gs+ls++;Hn.set(Js,ri),Vs.forEach(eo=>Xt(eo,ri))});const Xs=[],Gi=new Set,mi=new Set;for(let Vs=0;Vs<this.collectedLeaveElements.length;Vs++){const Js=this.collectedLeaveElements[Vs],ri=Js[io];ri&&ri.setForRemoval&&(Xs.push(Js),Gi.add(Js),ri.hasAnimation?this.driver.query(Js,".ng-star-inserted",!0).forEach(eo=>Gi.add(eo)):mi.add(Js))}const Mo=new Map,dr=Tt(ts,Array.from(Gi));dr.forEach((Vs,Js)=>{const ri=cs+ls++;Mo.set(Js,ri),Vs.forEach(eo=>Xt(eo,ri))}),y.push(()=>{vs.forEach((Vs,Js)=>{const ri=Hn.get(Js);Vs.forEach(eo=>In(eo,ri))}),dr.forEach((Vs,Js)=>{const ri=Mo.get(Js);Vs.forEach(eo=>In(eo,ri))}),Xs.forEach(Vs=>{this.processLeaveNode(Vs)})});const _d=[],Ac=[];for(let Vs=this._namespaceList.length-1;Vs>=0;Vs--)this._namespaceList[Vs].drainQueuedTransitions(o).forEach(ri=>{const eo=ri.player,gr=ri.element;if(_d.push(eo),this.collectedEnterElements.length){const La=gr[io];if(La&&La.setForMove){if(La.previousTriggersValues&&La.previousTriggersValues.has(ri.triggerName)){const Ip=La.previousTriggersValues.get(ri.triggerName),sc=this.statesByElement.get(ri.element);if(sc&&sc.has(ri.triggerName)){const J_=sc.get(ri.triggerName);J_.value=Ip,sc.set(ri.triggerName,J_)}}return void eo.destroy()}}const wc=!cn||!this.driver.containsElement(cn,gr),rl=Mo.get(gr),Hd=Hn.get(gr),or=this._buildInstruction(ri,c,Hd,rl,wc);if(or.errors&&or.errors.length)return void Ac.push(or);if(wc)return eo.onStart(()=>lt(gr,or.fromStyles)),eo.onDestroy(()=>sn(gr,or.toStyles)),void b.push(eo);if(ri.isFallbackTransition)return eo.onStart(()=>lt(gr,or.fromStyles)),eo.onDestroy(()=>sn(gr,or.toStyles)),void b.push(eo);const TT=[];or.timelines.forEach(La=>{La.stretchStartingKeyframe=!0,this.disabledNodes.has(La.element)||TT.push(La)}),or.timelines=TT,c.append(gr,or.timelines),ue.push({instruction:or,player:eo,element:gr}),or.queriedElements.forEach(La=>Ve(Me,La,[]).push(eo)),or.preStyleProps.forEach((La,Ip)=>{if(La.size){let sc=it.get(Ip);sc||it.set(Ip,sc=new Set),La.forEach((J_,OT)=>sc.add(OT))}}),or.postStyleProps.forEach((La,Ip)=>{let sc=Bt.get(Ip);sc||Bt.set(Ip,sc=new Set),La.forEach((J_,OT)=>sc.add(OT))})});if(Ac.length){const Vs=[];Ac.forEach(Js=>{Vs.push(function wt(d,y){return new e.wOt(3505,!1)}())}),_d.forEach(Js=>Js.destroy()),this.reportError(Vs)}const wa=new Map,xa=new Map;ue.forEach(Vs=>{const Js=Vs.element;c.has(Js)&&(xa.set(Js,Js),this._beforeAnimationBuild(Vs.player.namespaceId,Vs.instruction,wa))}),b.forEach(Vs=>{const Js=Vs.element;this._getPreviousPlayers(Js,!1,Vs.namespaceId,Vs.triggerName,null).forEach(eo=>{Ve(wa,Js,[]).push(eo),eo.destroy()})});const Wd=Xs.filter(Vs=>zi(Vs,it,Bt)),Mp=new Map;_e(Mp,this.driver,mi,Bt,ne.kp).forEach(Vs=>{zi(Vs,it,Bt)&&Wd.push(Vs)});const Kd=new Map;vs.forEach((Vs,Js)=>{_e(Kd,this.driver,new Set(Vs),it,ne.FX)}),Wd.forEach(Vs=>{const Js=Mp.get(Vs),ri=Kd.get(Vs);Mp.set(Vs,new Map([...Js?.entries()??[],...ri?.entries()??[]]))});const bT=[],DT=[],Cm={};ue.forEach(Vs=>{const{element:Js,player:ri,instruction:eo}=Vs;if(c.has(Js)){if(yn.has(Js))return ri.onDestroy(()=>sn(Js,eo.toStyles)),ri.disabled=!0,ri.overrideTotalTime(eo.totalTime),void b.push(ri);let gr=Cm;if(xa.size>1){let rl=Js;const Hd=[];for(;rl=rl.parentNode;){const or=xa.get(rl);if(or){gr=or;break}Hd.push(rl)}Hd.forEach(or=>xa.set(or,gr))}const wc=this._buildAnimation(ri.namespaceId,eo,wa,$,Kd,Mp);if(ri.setRealPlayer(wc),gr===Cm)bT.push(ri);else{const rl=this.playersByElement.get(gr);rl&&rl.length&&(ri.parentPlayer=Jt(rl)),b.push(ri)}}else lt(Js,eo.fromStyles),ri.onDestroy(()=>sn(Js,eo.toStyles)),DT.push(ri),yn.has(Js)&&b.push(ri)}),DT.forEach(Vs=>{const Js=$.get(Vs.element);if(Js&&Js.length){const ri=Jt(Js);Vs.setRealPlayer(ri)}}),b.forEach(Vs=>{Vs.parentPlayer?Vs.syncPlayerEvents(Vs.parentPlayer):Vs.destroy()});for(let Vs=0;Vs<Xs.length;Vs++){const Js=Xs[Vs],ri=Js[io];if(In(Js,cs),ri&&ri.hasAnimation)continue;let eo=[];if(Me.size){let wc=Me.get(Js);wc&&wc.length&&eo.push(...wc);let rl=this.driver.query(Js,En,!0);for(let Hd=0;Hd<rl.length;Hd++){let or=Me.get(rl[Hd]);or&&or.length&&eo.push(...or)}}const gr=eo.filter(wc=>!wc.destroyed);gr.length?ns(this,Js,gr):this.processLeaveNode(Js)}return Xs.length=0,bT.forEach(Vs=>{this.players.push(Vs),Vs.onDone(()=>{Vs.destroy();const Js=this.players.indexOf(Vs);this.players.splice(Js,1)}),Vs.play()}),bT}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,o,c,b,$){let ue=[];if(o){const Me=this.playersByQueriedElement.get(y);Me&&(ue=Me)}else{const Me=this.playersByElement.get(y);if(Me){const it=!$||$==mo;Me.forEach(Bt=>{Bt.queued||!it&&Bt.triggerName!=b||ue.push(Bt)})}}return(c||b)&&(ue=ue.filter(Me=>!(c&&c!=Me.namespaceId||b&&b!=Me.triggerName))),ue}_beforeAnimationBuild(y,o,c){const $=o.element,ue=o.isRemovalTransition?void 0:y,Me=o.isRemovalTransition?void 0:o.triggerName;for(const it of o.timelines){const Bt=it.element,yn=Bt!==$,cn=Ve(c,Bt,[]);this._getPreviousPlayers(Bt,yn,ue,Me,o.toState).forEach(vs=>{const Hn=vs.getRealPlayer();Hn.beforeDestroy&&Hn.beforeDestroy(),vs.destroy(),cn.push(vs)})}lt($,o.fromStyles)}_buildAnimation(y,o,c,b,$,ue){const Me=o.triggerName,it=o.element,Bt=[],yn=new Set,cn=new Set,ts=o.timelines.map(Hn=>{const ls=Hn.element;yn.add(ls);const Xs=ls[io];if(Xs&&Xs.removedBeforeQueried)return new ne.sf(Hn.duration,Hn.delay);const Gi=ls!==it,mi=function ps(d){const y=[];return js(d,y),y}((c.get(ls)||Io).map(wa=>wa.getRealPlayer())).filter(wa=>!!wa.element&&wa.element===ls),Mo=$.get(ls),dr=ue.get(ls),_d=Dt(this._normalizer,Hn.keyframes,Mo,dr),Ac=this._buildPlayer(Hn,_d,mi);if(Hn.subTimeline&&b&&cn.add(ls),Gi){const wa=new Zo(y,Me,ls);wa.setRealPlayer(Ac),Bt.push(wa)}return Ac});Bt.forEach(Hn=>{Ve(this.playersByQueriedElement,Hn.element,[]).push(Hn),Hn.onDone(()=>function va(d,y,o){let c=d.get(y);if(c){if(c.length){const b=c.indexOf(o);c.splice(b,1)}0==c.length&&d.delete(y)}return c}(this.playersByQueriedElement,Hn.element,Hn))}),yn.forEach(Hn=>Xt(Hn,dn));const vs=Jt(ts);return vs.onDestroy(()=>{yn.forEach(Hn=>In(Hn,dn)),sn(it,o.toStyles)}),cn.forEach(Hn=>{Ve(b,Hn,[]).push(vs)}),vs}_buildPlayer(y,o,c){return o.length>0?this.driver.animate(y.element,o,y.duration,y.delay,y.easing,c):new ne.sf(y.duration,y.delay)}}class Zo{constructor(y,o,c){this.namespaceId=y,this.triggerName=o,this.element=c,this._player=new ne.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((o,c)=>{o.forEach(b=>Ft(y,c,void 0,b))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const o=this._player;o.triggerCallback&&y.onStart(()=>o.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,o){Ve(this._queuedCallbacks,y,[]).push(o)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const o=this._player;o.triggerCallback&&o.triggerCallback(y)}}function Xe(d){return d&&1===d.nodeType}function $e(d,y){const o=d.style.display;return d.style.display=y??"none",o}function _e(d,y,o,c,b){const $=[];o.forEach(it=>$.push($e(it)));const ue=[];c.forEach((it,Bt)=>{const yn=new Map;it.forEach(cn=>{const ts=y.computeStyle(Bt,cn,b);yn.set(cn,ts),(!ts||0==ts.length)&&(Bt[io]=Ys,ue.push(Bt))}),d.set(Bt,yn)});let Me=0;return o.forEach(it=>$e(it,$[Me++])),ue}function Tt(d,y){const o=new Map;if(d.forEach(Me=>o.set(Me,[])),0==y.length)return o;const b=new Set(y),$=new Map;function ue(Me){if(!Me)return 1;let it=$.get(Me);if(it)return it;const Bt=Me.parentNode;return it=o.has(Bt)?Bt:b.has(Bt)?1:ue(Bt),$.set(Me,it),it}return y.forEach(Me=>{const it=ue(Me);1!==it&&o.get(it).push(Me)}),o}function Xt(d,y){d.classList?.add(y)}function In(d,y){d.classList?.remove(y)}function ns(d,y,o){Jt(o).onDone(()=>d.processLeaveNode(y))}function js(d,y){for(let o=0;o<d.length;o++){const c=d[o];c instanceof ne.ui?js(c.players,y):y.push(c)}}function zi(d,y,o){const c=o.get(d);if(!c)return!1;let b=y.get(d);return b?c.forEach($=>b.add($)):y.set(d,c),o.delete(d),!0}class Vo{constructor(y,o,c,b){this._driver=o,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=($,ue)=>{},this._transitionEngine=new Do(y.body,o,c,b),this._timelineEngine=new As(y.body,o,c),this._transitionEngine.onRemovalComplete=($,ue)=>this.onRemovalComplete($,ue)}registerTrigger(y,o,c,b,$){const ue=y+"-"+b;let Me=this._triggerCache[ue];if(!Me){const it=[],yn=Ds(this._driver,$,it,[]);if(it.length)throw function ut(d,y){return new e.wOt(3404,!1)}();Me=function Vt(d,y,o){return new xn(d,y,o)}(b,yn,this._normalizer),this._triggerCache[ue]=Me}this._transitionEngine.registerTrigger(o,b,Me)}register(y,o){this._transitionEngine.register(y,o)}destroy(y,o){this._transitionEngine.destroy(y,o)}onInsert(y,o,c,b){this._transitionEngine.insertNode(y,o,c,b)}onRemove(y,o,c){this._transitionEngine.removeNode(y,o,c)}disableAnimations(y,o){this._transitionEngine.markElementAsDisabled(y,o)}process(y,o,c,b){if("@"==c.charAt(0)){const[$,ue]=Ke(c);this._timelineEngine.command($,o,ue,b)}else this._transitionEngine.trigger(y,o,c,b)}listen(y,o,c,b,$){if("@"==c.charAt(0)){const[ue,Me]=Ke(c);return this._timelineEngine.listen(ue,o,Me,$)}return this._transitionEngine.listen(y,o,c,b,$)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(y){this._transitionEngine.afterFlushAnimationsDone(y)}}class ya{static{this.initialStylesByElement=new WeakMap}constructor(y,o,c){this._element=y,this._startStyles=o,this._endStyles=c,this._state=0;let b=ya.initialStylesByElement.get(y);b||ya.initialStylesByElement.set(y,b=new Map),this._initialStyles=b}start(){this._state<1&&(this._startStyles&&sn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sn(this._element,this._initialStyles),this._endStyles&&(sn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ya.initialStylesByElement.delete(this._element),this._startStyles&&(lt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lt(this._element,this._endStyles),this._endStyles=null),sn(this._element,this._initialStyles),this._state=3)}}function Ea(d){let y=null;return d.forEach((o,c)=>{(function wr(d){return"display"===d||"position"===d})(c)&&(y=y||new Map,y.set(c,o))}),y}class aa{constructor(y,o,c,b){this.element=y,this.keyframes=o,this.options=c,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const o=[];return y.forEach(c=>{o.push(Object.fromEntries(c))}),o}_triggerWebAnimation(y,o,c){return y.animate(this._convertKeyframesToObject(o),c)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((c,b)=>{"offset"!==b&&y.set(b,this._finished?c:bs(this.element,b))}),this.currentSnapshot=y}triggerCallback(y){const o="start"===y?this._onStartFns:this._onDoneFns;o.forEach(c=>c()),o.length=0}}class xl{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,o){return!1}containsElement(y,o){return ln(y,o)}getParentElement(y){return At(y)}query(y,o,c){return Tn(y,o,c)}computeStyle(y,o,c){return bs(y,o)}animate(y,o,c,b,$,ue=[]){const it={duration:c,delay:b,fill:0==b?"both":"forwards"};$&&(it.easing=$);const Bt=new Map,yn=ue.filter(vs=>vs instanceof aa);(function Ps(d,y){return 0===d||0===y})(c,b)&&yn.forEach(vs=>{vs.currentSnapshot.forEach((Hn,ls)=>Bt.set(ls,Hn))});let cn=function Ht(d){return d.length?d[0]instanceof Map?d:d.map(y=>new Map(Object.entries(y))):[]}(o).map(vs=>new Map(vs));cn=function Ms(d,y,o){if(o.size&&y.length){let c=y[0],b=[];if(o.forEach(($,ue)=>{c.has(ue)||b.push(ue),c.set(ue,$)}),b.length)for(let $=1;$<y.length;$++){let ue=y[$];b.forEach(Me=>ue.set(Me,bs(d,Me)))}}return y}(y,cn,Bt);const ts=function Di(d,y){let o=null,c=null;return Array.isArray(y)&&y.length?(o=Ea(y[0]),y.length>1&&(c=Ea(y[y.length-1]))):y instanceof Map&&(o=Ea(y)),o||c?new ya(d,o,c):null}(y,cn);return new aa(y,cn,it,ts)}}const Ya="@.disabled";class Fa{constructor(y,o,c,b){this.namespaceId=y,this.delegate=o,this.engine=c,this._onDestroy=b,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(y){this.delegate.destroyNode?.(y)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(y,o){return this.delegate.createElement(y,o)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,o){this.delegate.appendChild(y,o),this.engine.onInsert(this.namespaceId,o,y,!1)}insertBefore(y,o,c,b=!0){this.delegate.insertBefore(y,o,c),this.engine.onInsert(this.namespaceId,o,y,b)}removeChild(y,o,c){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(y,o){return this.delegate.selectRootElement(y,o)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,o,c,b){this.delegate.setAttribute(y,o,c,b)}removeAttribute(y,o,c){this.delegate.removeAttribute(y,o,c)}addClass(y,o){this.delegate.addClass(y,o)}removeClass(y,o){this.delegate.removeClass(y,o)}setStyle(y,o,c,b){this.delegate.setStyle(y,o,c,b)}removeStyle(y,o,c){this.delegate.removeStyle(y,o,c)}setProperty(y,o,c){"@"==o.charAt(0)&&o==Ya?this.disableAnimations(y,!!c):this.delegate.setProperty(y,o,c)}setValue(y,o){this.delegate.setValue(y,o)}listen(y,o,c){return this.delegate.listen(y,o,c)}disableAnimations(y,o){this.engine.disableAnimations(y,o)}}class ll extends Fa{constructor(y,o,c,b,$){super(o,c,b,$),this.factory=y,this.namespaceId=o}setProperty(y,o,c){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Ya?this.disableAnimations(y,c=void 0===c||!!c):this.engine.process(this.namespaceId,y,o.slice(1),c):this.delegate.setProperty(y,o,c)}listen(y,o,c){if("@"==o.charAt(0)){const b=function Xa(d){switch(d){case"body":return document.body;case"document":return document;case"window":return window;default:return d}}(y);let $=o.slice(1),ue="";return"@"!=$.charAt(0)&&([$,ue]=function cl(d){const y=d.indexOf(".");return[d.substring(0,y),d.slice(y+1)]}($)),this.engine.listen(this.namespaceId,b,$,ue,Me=>{this.factory.scheduleListenerCallback(Me._data||-1,c,Me)})}return this.delegate.listen(y,o,c)}}class oi{constructor(y,o,c){this.delegate=y,this.engine=o,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,o.onRemovalComplete=(b,$)=>{const ue=$?.parentNode(b);ue&&$.removeChild(ue,b)}}createRenderer(y,o){const b=this.delegate.createRenderer(y,o);if(!y||!o?.data?.animation){const Bt=this._rendererCache;let yn=Bt.get(b);return yn||(yn=new Fa("",b,this.engine,()=>Bt.delete(b)),Bt.set(b,yn)),yn}const $=o.id,ue=o.id+"-"+this._currentId;this._currentId++,this.engine.register(ue,y);const Me=Bt=>{Array.isArray(Bt)?Bt.forEach(Me):this.engine.registerTrigger($,ue,y,Bt.name,Bt)};return o.data.animation.forEach(Me),new ll(this,ue,b,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(y,o,c){if(y>=0&&y<this._microtaskId)return void this._zone.run(()=>o(c));const b=this._animationCallbacksBuffer;0==b.length&&queueMicrotask(()=>{this._zone.run(()=>{b.forEach($=>{const[ue,Me]=$;ue(Me)}),this._animationCallbacksBuffer=[]})}),b.push([o,c])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let oo=(()=>{class d extends Vo{constructor(o,c,b){super(o,c,b,(0,e.WQX)(e.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(f.qQ),e.KVO(wn),e.KVO(ct))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const di=[{provide:ct,useFactory:function yo(){return new Hi}},{provide:Vo,useClass:oo},{provide:e._9s,useFactory:function Cr(d,y,o){return new oi(d,y,o)},deps:[h.B7,Vo,e.SKi]}],Ca=[{provide:wn,useFactory:()=>new xl},{provide:e.bc$,useValue:"BrowserAnimations"},...di];var Ts=n(7673),ea=n(70274),Lc=n(57786),qo=n(71985),ca=n(21413),Fl=n(73557),Br=n(983),Qa=n(18810),ro=n(98071);class nr{constructor(y,o,c){this.kind=y,this.value=o,this.error=c,this.hasValue="N"===y}observe(y){return br(this,y)}do(y,o,c){const{kind:b,value:$,error:ue}=this;return"N"===b?y?.($):"E"===b?o?.(ue):c?.()}accept(y,o,c){var b;return(0,ro.T)(null===(b=y)||void 0===b?void 0:b.next)?this.observe(y):this.do(y,o,c)}toObservable(){const{kind:y,value:o,error:c}=this,b="N"===y?(0,Ts.of)(o):"E"===y?(0,Qa.$)(()=>c):"C"===y?Br.w:0;if(!b)throw new TypeError(`Unexpected notification kind ${y}`);return b}static createNext(y){return new nr("N",y)}static createError(y){return new nr("E",void 0,y)}static createComplete(){return nr.completeNotification}}function br(d,y){var o,c,b;const{kind:$,value:ue,error:Me}=d;if("string"!=typeof $)throw new TypeError('Invalid notification, missing "kind"');"N"===$?null===(o=y.next)||void 0===o||o.call(y,ue):"E"===$?null===(c=y.error)||void 0===c||c.call(y,Me):null===(b=y.complete)||void 0===b||b.call(y)}nr.completeNotification=new nr("C");var Wi=n(39974),kt=n(54360),xt=n(96354),Rn=n(99437),Wn=n(5964),rs=n(58750);function Us(d,y,o,c){return(0,Wi.N)((b,$)=>{let ue;y&&"function"!=typeof y?({duration:o,element:ue,connector:c}=y):ue=y;const Me=new Map,it=Hn=>{Me.forEach(Hn),Hn($)},Bt=Hn=>it(ls=>ls.error(Hn));let yn=0,cn=!1;const ts=new kt.H($,Hn=>{try{const ls=d(Hn);let Xs=Me.get(ls);if(!Xs){Me.set(ls,Xs=c?c():new ca.B);const Gi=function vs(Hn,ls){const Xs=new qo.c(Gi=>{yn++;const mi=ls.subscribe(Gi);return()=>{mi.unsubscribe(),0==--yn&&cn&&ts.unsubscribe()}});return Xs.key=Hn,Xs}(ls,Xs);if($.next(Gi),o){const mi=(0,kt._)(Xs,()=>{Xs.complete(),mi?.unsubscribe()},void 0,void 0,()=>Me.delete(ls));ts.add((0,rs.Tg)(o(Gi)).subscribe(mi))}}Xs.next(ue?ue(Hn):Hn)}catch(ls){Bt(ls)}},()=>it(Hn=>Hn.complete()),Bt,()=>Me.clear(),()=>(cn=!0,0===yn));b.subscribe(ts)})}var Qn=n(73028);function gi(d,y){return y?o=>o.pipe(gi((c,b)=>(0,rs.Tg)(d(c,b)).pipe((0,xt.T)(($,ue)=>y(c,$,b,ue))))):(0,Wi.N)((o,c)=>{let b=0,$=null,ue=!1;o.subscribe((0,kt._)(c,Me=>{$||($=(0,kt._)(c,void 0,()=>{$=null,ue&&c.complete()}),(0,rs.Tg)(d(Me,b++)).subscribe($))},()=>{ue=!0,!$&&c.complete()}))})}const Zi={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},ki="__@ngrx/effects_create__";function kn(d,y={}){const o=y.functional?d:d(),c={...Zi,...y};return Object.defineProperty(o,ki,{value:c}),o}function Je(d){return Object.getPrototypeOf(d)}function ze(d){return"function"==typeof d}function Lt(d){return d.filter(ze)}function Un(d,y,o){const c=Je(d),$=c&&"Object"!==c.constructor.name?c.constructor.name:null,ue=function he(d){return function ao(d){return Object.getOwnPropertyNames(d).filter(c=>!(!d[c]||!d[c].hasOwnProperty(ki))&&d[c][ki].hasOwnProperty("dispatch")).map(c=>({propertyName:c,...d[c][ki]}))}(d)}(d).map(({propertyName:Me,dispatch:it,useEffectsErrorHandler:Bt})=>{const yn="function"==typeof d[Me]?d[Me]():d[Me],cn=Bt?o(yn,y):yn;return!1===it?cn.pipe((0,Fl.w)()):cn.pipe(function un(){return(0,Wi.N)((d,y)=>{d.subscribe((0,kt._)(y,o=>{y.next(nr.createNext(o))},()=>{y.next(nr.createComplete()),y.complete()},o=>{y.next(nr.createError(o)),y.complete()}))})}()).pipe((0,xt.T)(vs=>({effect:d[Me],notification:vs,propertyName:Me,sourceName:$,sourceInstance:d})))});return(0,Lc.h)(...ue)}function Ri(d,y,o=10){return d.pipe((0,Rn.W)(c=>(y&&y.handleError(c),o<=1?d:Ri(d,y,o-1))))}let Ns=(()=>{class d extends qo.c{constructor(o){super(),o&&(this.source=o)}lift(o){const c=new d;return c.source=this,c.operator=o,c}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(E.sA))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();function Xn(...d){return(0,Wn.p)(y=>d.some(o=>"string"==typeof o?o===y.type:o.type===y.type))}const ui=new e.nKC("@ngrx/effects Internal Root Guard"),Fi=new e.nKC("@ngrx/effects User Provided Effects"),Mi=new e.nKC("@ngrx/effects Internal Root Effects"),So=new e.nKC("@ngrx/effects Internal Root Effects Instances"),Go=new e.nKC("@ngrx/effects Internal Feature Effects"),Ai=new e.nKC("@ngrx/effects Internal Feature Effects Instance Groups"),es=new e.nKC("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Ri}),ws="@ngrx/effects/init";(0,E.VP)(ws);function ul(d){return ir(d,"ngrxOnInitEffects")}function ir(d,y){return d&&y in d&&"function"==typeof d[y]}let co=(()=>{class d extends ca.B{constructor(o,c){super(),this.errorHandler=o,this.effectsErrorHandler=c}addEffects(o){this.next(o)}toActions(){return this.pipe(Us(o=>function Re(d){return!!d.constructor&&"Object"!==d.constructor.name&&"Function"!==d.constructor.name}(o)?Je(o):o),(0,Qn.Z)(o=>o.pipe(Us(hl))),(0,Qn.Z)(o=>{const c=o.pipe(gi($=>function pl(d,y){return o=>{const c=Un(o,d,y);return function $s(d){return ir(d,"ngrxOnRunEffects")}(o)?o.ngrxOnRunEffects(c):c}}(this.errorHandler,this.effectsErrorHandler)($)),(0,xt.T)($=>(function go(d,y){if("N"===d.notification.kind){const o=d.notification.value;!function Eo(d){return"function"!=typeof d&&d&&d.type&&"string"==typeof d.type}(o)&&y.handleError(new Error(`Effect ${function $o({propertyName:d,sourceInstance:y,sourceName:o}){const c="function"==typeof y[d];return o?`"${o}.${String(d)}${c?"()":""}"`:`"${String(d)}()"`}(d)} dispatched an invalid action: ${function sr(d){try{return JSON.stringify(d)}catch{return d}}(o)}`))}}($,this.errorHandler),$.notification)),(0,Wn.p)($=>"N"===$.kind&&null!=$.value),function Ni(){return(0,Wi.N)((d,y)=>{d.subscribe((0,kt._)(y,o=>br(o,y)))})}()),b=o.pipe((0,T.s)(1),(0,Wn.p)(ul),(0,xt.T)($=>$.ngrxOnInitEffects()));return(0,Lc.h)(c,b)}))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(e.zcH),e.KVO(es))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();function hl(d){return function Po(d){return ir(d,"ngrxOnIdentifyEffects")}(d)?d.ngrxOnIdentifyEffects():""}let To=(()=>{class d{get isStarted(){return!!this.effectsSubscription}constructor(o,c){this.effectSources=o,this.store=c,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(co),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),Ro=(()=>{class d{constructor(o,c,b,$,ue,Me,it){this.sources=o,c.start();for(const Bt of $)o.addEffects(Bt);b.dispatch({type:ws})}addEffects(o){this.sources.addEffects(o)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(co),e.KVO(To),e.KVO(E.il),e.KVO(So),e.KVO(E.wc,8),e.KVO(E.ae,8),e.KVO(ui,8))}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({})}}return d})(),yd=(()=>{class d{constructor(o,c,b,$){const ue=c.flat();for(const Me of ue)o.addEffects(Me)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ro),e.KVO(Ai),e.KVO(E.wc,8),e.KVO(E.ae,8))}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({})}}return d})(),pr=(()=>{class d{static forFeature(...o){const c=o.flat(),b=Lt(c);return{ngModule:yd,providers:[b,{provide:Go,multi:!0,useValue:c},{provide:Fi,multi:!0,useValue:[]},{provide:Ai,multi:!0,useFactory:oc,deps:[Go,Fi]}]}}static forRoot(...o){const c=o.flat(),b=Lt(c);return{ngModule:Ro,providers:[b,{provide:Mi,useValue:[c]},{provide:ui,useFactory:Ba},{provide:Fi,multi:!0,useValue:[]},{provide:So,useFactory:oc,deps:[Mi,Fi]}]}}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({})}}return d})();function oc(d,y){const o=[];for(const c of d)o.push(...c);for(const c of y)o.push(...c);return o.map(c=>function On(d){return d instanceof e.nKC||ze(d)}(c)?(0,e.WQX)(c):c)}function Ba(){const d=(0,e.WQX)(To,{optional:!0,skipSelf:!0}),y=(0,e.WQX)(Mi,{self:!0});if((1!==y.length||0!==y[0].length)&&d)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var ji=n(97324),Ss=n(1473),Ur=n(20766),_o=n(53588),Nc=n(85188),si=n(82640),fl=n(43832),Ua=n(9901),jl=n(99452),kr=n(61242),Bl=n(87832),zd=n(46754),Yd=n(73308),Ul=n(74920),de=n(1748);const Oe=["*"];function pe(d,y){}let Ie=(()=>{class d extends M.J{getComponentName(){return"ForbiddenComponent"}importThemedComponent(o){return n(30130)(`./${o}/app/forbidden/forbidden.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1748))}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-forbidden"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Oe,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,b){1&c&&(e.NAR(),e.DNE(0,pe,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var He=n(20968),ft=n(34912),Se=n(95960),ye=n(78221),ae=n(77529),Pe=n(2670);const nt=["*"];function jt(d,y){}let _n=(()=>{class d extends M.J{getComponentName(){return"PageErrorComponent"}importThemedComponent(o){return n(18400)(`./${o}/app/page-error/page-error.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,2670))}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-page-error"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:nt,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,b){1&c&&(e.NAR(),e.DNE(0,jt,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var Ln=n(82290);const as=["*"];function gs(d,y){}let ys=(()=>{class d extends M.J{getComponentName(){return"PageInternalServerErrorComponent"}importThemedComponent(o){return n(46544)(`./${o}/app/page-internal-server-error/page-internal-server-error.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,82290))}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-page-internal-server-error"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:as,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,b){1&c&&(e.NAR(),e.DNE(0,gs,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var Ji=n(53830);const Ta=["*"];function ml(d,y){}let qa=(()=>{class d extends M.J{getComponentName(){return"PageNotFoundComponent"}importThemedComponent(o){return n(94826)(`./${o}/app/pagenotfound/pagenotfound.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,53830))}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-pagenotfound"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Ta,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,b){1&c&&(e.NAR(),e.DNE(0,ml,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();n(55709),n(25871);var rn=n(89417);let Xd=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,rn.YN,le.q1,v.iI]})}}return d})(),gl=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,f.MD]})}}return d})(),Jd=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,rn.YN,le.q1,rn.X1,gl,v.iI]})}}return d})(),Sp=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,rn.YN,le.q1,v.iI]})}}return d})(),Pp=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,rn.YN,le.q1,rn.X1,gl]})}}return d})(),Z_=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,rn.YN,le.q1,rn.X1,gl]})}}return d})(),Rp=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,rn.YN,le.q1,v.iI]})}}return d})(),q_=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,rn.YN,le.q1,v.iI]})}}return d})(),_l=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,rn.YN,le.q1,v.iI]})}}return d})(),bm=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,rn.YN,le.q1,v.iI]})}}return d})();var ac=n(65007);let Dm=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({providers:[ac.AuthorizationDataService],imports:[f.MD,rn.YN,le.q1,v.iI]})}}return d})(),ev=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,rn.YN,le.q1,v.iI]})}}return d})();var vl=n(10887);let qi=(()=>{class d{constructor(o){this.http=o,this.baseUrl=`${vl.$}/server/api/discover/search/objects`}getDateSearchResults(o="*",c,b,$="dc.title",ue="ASC",Me=10){let it=(new le.Nl).set("query",o||"*").set("sort",`${$},${ue}`).set("size",Me.toString());return c&&(it=it.append("f",`dc.date.issued,gt:${c}`)),b&&(it=it.append("f",`dc.date.issued,lt:${b}`)),this.http.get(this.baseUrl,{params:it})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),Ap=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({providers:[qi],imports:[f.MD,rn.YN,le.q1,v.iI]})}}return d})(),Qd=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,rn.YN,le.q1,v.iI]})}}return d})(),Gr=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,rn.YN,le.q1,v.iI]})}}return d})(),Tm=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,rn.YN,le.q1]})}}return d})();const lc=[f.MD,q.UN],Fc=[];let Zd=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({providers:[...Fc],imports:[lc,L.RootComponent,W,ft.HeaderComponent,Se.q,ye.HeaderNavbarWrapperComponent,ae.h,fl.AdminSidebarComponent,kr.u,Ua.g,jl.W,Yd.FooterComponent,Ul.C,Ji.PageNotFoundComponent,qa,Bl.BreadcrumbsComponent,zd.B,de.ForbiddenComponent,Ie,te,ys,Ln.PageInternalServerErrorComponent,_n,Pe.PageErrorComponent,He.Y,Xd,Sp,Jd,Pp,Z_,Rp,q_,_l,bm,Dm,ev,Ap,Qd,Gr,Tm]})}}return d})();var Om=n(3018),tl=n(47435),nv=(n(31264),n(89768));const Mm=[];let Im=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({providers:[...Mm.map(o=>({provide:o}))],imports:[f.MD,Zd,Om.HeaderComponent,tl.HeaderNavbarWrapperComponent,nv.NavbarComponent]})}}return d})(),Ku=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[Im]})}}return d})();var ks=n(25558),wp=n(61594),yl=n(54476),ei=n(39548),Dr=n(19340),Sm=n(43323);let Xy=(()=>{class d{constructor(o,c){this.actions$=o,this.menuService=c,this.menuID=Dr.D.PUBLIC,this.resize$=kn(()=>this.actions$.pipe(Xn(U.O.RESIZE),(0,xt.T)(()=>new yl.F$(this.menuID)))),this.routeChange$=kn(()=>this.actions$.pipe(Xn(Ur.hr),(0,xt.T)(()=>new yl.F$(this.menuID)))),this.openAdminSidebar$=kn(()=>this.actions$.pipe(Xn(yl.jZ.EXPAND_MENU_PREVIEW),(0,ks.n)(b=>this.menuService.getMenu(b.menuID).pipe((0,wp.$)(),(0,xt.T)($=>$.id===Dr.D.ADMIN&&!$.previewCollapsed&&$.collapsed?new yl.F$(Dr.D.PUBLIC):new Sm.L)))))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(ei.$))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var pi=n(88141),kl=n(41684),jc=n(78394),El=n(48833),Jy=n(38096),Cl=n(32473),Lr=n(98107),Bs=n(80183),iv=n(49903),Cn=n(93158),Es=n(39806),cc=n(13329),Ws=n(67600),Vi=n(59496),Vl=function(d){return d[d.Add=0]="Add",d[d.Remove=1]="Remove",d}(Vl||{});let ka=(()=>{class d{constructor(o,c,b,$,ue,Me,it,Bt,yn,cn,ts){this.actions$=o,this.relationshipService=c,this.relationshipTypeService=b,this.submissionObjectService=$,this.store=ue,this.objectCache=Me,this.requestService=it,this.notificationsService=Bt,this.translateService=yn,this.selectableListService=cn,this.debounceTime=ts,this.requestQueue=new ca.B,this.debounceMap={},this.nameVariantUpdates={},this.initialActionMap={},this.mapLastActions$=kn(()=>this.actions$.pipe(Xn(Vi.oE.ADD_RELATIONSHIP,Vi.oE.REMOVE_RELATIONSHIP),(0,xt.T)(vs=>{const{item1:Hn,item2:ls,submissionId:Xs,relationshipType:Gi}=vs.payload,mi=this.createIdentifier(Hn,ls,Gi);(0,G.Tn)(this.debounceMap[mi])?(this.initialActionMap[mi]=vs.type,this.debounceMap[mi]=new _.t(vs.type),this.debounceMap[mi].pipe(this.debounceTime(500),(0,T.s)(1)).subscribe(Mo=>{if(this.initialActionMap[mi]===Mo)if(Mo===Vi.oE.ADD_RELATIONSHIP){let dr=vs.payload.nameVariant;(0,G.a4)(this.nameVariantUpdates[mi])&&(dr=this.nameVariantUpdates[mi],delete this.nameVariantUpdates[mi]),this.requestQueue.next({type:Vl.Add,item1:Hn,item2:ls,relationshipType:Gi,submissionId:Xs,nameVariant:dr})}else this.requestQueue.next({type:Vl.Remove,item1:Hn,item2:ls,relationshipType:Gi,submissionId:Xs});delete this.debounceMap[mi],delete this.initialActionMap[mi]})):this.debounceMap[mi].next(vs.type)})),{dispatch:!1}),this.updateNameVariantsActions$=kn(()=>this.actions$.pipe(Xn(Vi.oE.UPDATE_NAME_VARIANT),(0,xt.T)(vs=>{const{item1:Hn,item2:ls,relationshipType:Xs,submissionId:Gi,nameVariant:mi}=vs.payload,Mo=this.createIdentifier(Hn,ls,Xs);(0,G.a4)(this.debounceMap[Mo])?this.nameVariantUpdates[Mo]=mi:this.relationshipService.updateNameVariant(Hn,ls,Xs,mi).pipe((0,Wn.p)(_d=>(0,G.a4)(_d.payload)),(0,T.s)(1)).subscribe(_d=>{this.updateAfterPatchSubmissionId=Gi,this.relationshipService.refreshRelationshipItemsInCache(Hn),this.relationshipService.refreshRelationshipItemsInCache(ls)})})),{dispatch:!1}),this.updateRelationshipActions$=kn(()=>this.actions$.pipe(Xn(Vi.oE.UPDATE_RELATIONSHIP),(0,xt.T)(vs=>{this.updateAfterPatchSubmissionId=vs.payload.submissionId})),{dispatch:!1}),this.saveSubmissionSection=kn(()=>this.actions$.pipe(Xn(jc.G9.EMPTY,Lr.Ce.COMMIT_JSON_PATCH_OPERATIONS),(0,Wn.p)(()=>(0,G.a4)(this.updateAfterPatchSubmissionId)),(0,ks.n)(()=>this.refreshWorkspaceItemInCache(this.updateAfterPatchSubmissionId)),(0,xt.T)(vs=>new Cn.ky(this.updateAfterPatchSubmissionId,[vs],!1)))),this.executeRequestsInQueue()}executeRequestsInQueue(){this.requestQueue.pipe((0,ea.H)(o=>{switch(o.type){case Vl.Add:return this.addRelationship(o.item1,o.item2,o.relationshipType,o.submissionId,o.nameVariant).pipe((0,xt.T)(()=>o));case Vl.Remove:return this.removeRelationship(o.item1,o.item2,o.relationshipType).pipe((0,xt.T)(()=>o));default:return[o]}}),(0,ks.n)(o=>this.refreshWorkspaceItemInCache(o.submissionId))).subscribe(o=>{this.store.dispatch(new Cn.ky(o.id,[o],!1))})}createIdentifier(o,c,b){return`${o.uuid}-${c.uuid}-${b}`}addRelationship(o,c,b,$,ue){const Me=o.firstMetadataValue("dspace.entity.type"),it=c.firstMetadataValue("dspace.entity.type");return this.relationshipTypeService.getRelationshipTypeByLabelAndTypes(b,Me,it).pipe((0,Qn.Z)(Bt=>null===Bt?[null]:Bt.rightwardType===b?this.relationshipService.addRelationship(Bt.id,c,o,ue,void 0):this.relationshipService.addRelationship(Bt.id,o,c,void 0,ue)),(0,T.s)(1),(0,pi.M)(Bt=>{if((0,G.Tn)(Bt)||Bt.hasFailed){const yn=`list-${$}-${b}`;let cn;this.selectableListService.findSelectedByCondition(yn,ts=>(0,G.a4)(ts.indexableObject)&&ts.indexableObject.uuid===c.uuid).pipe((0,T.s)(1),(0,G.Az)()).subscribe(ts=>{this.selectableListService.deselectSingle(yn,ts)}),cn=(0,G.Tn)(Bt)?this.translateService.instant("relationships.add.error.relationship-type.content",{type:b}):this.translateService.instant("relationships.add.error.server.content"),this.notificationsService.error(this.translateService.instant("relationships.add.error.title"),cn)}}))}removeRelationship(o,c,b){return this.relationshipService.getRelationshipByItemsAndLabel(o,c,b).pipe((0,Qn.Z)($=>this.relationshipService.deleteRelationship($.id,"none")),(0,T.s)(1))}refreshWorkspaceItemInCache(o){return this.submissionObjectService.findById(o,!1,!1,(0,Ws.s)("item")).pipe((0,Bs.yd)(),(0,Bs.Bo)())}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(El.RelationshipDataService),e.KVO(Jy.RelationshipTypeDataService),e.KVO(iv.$),e.KVO(E.il),e.KVO(kl.$),e.KVO(Cl.B),e.KVO(Es.I),e.KVO(K.c$),e.KVO(cc.K),e.KVO(Bs.f6))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),Rm=(()=>{class d{constructor(o,c){this.actions$=o,this.store=c}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();class Bc{constructor(y){this.original=y}toString(){if((0,G.Im)(this.original))return"";{const y=this.original.indexOf("?");return y<0?this.original:this.original.substring(0,y)}}}var Hu=n(52680);let ov=(()=>{class d{constructor(o){this.actions$=o,this.routeChange$=kn(()=>this.actions$.pipe(Xn(Ur.hr),(0,Wn.p)(c=>this.previousPath!==this.getBaseUrl(c)),(0,pi.M)(c=>{this.previousPath=this.getBaseUrl(c)}),(0,xt.T)(()=>new Hu.EI)))}getBaseUrl(o){return new Bc(o.payload.routerState.url).toString()}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var xp=n(15314),ta=n(10092);let Gl=(()=>{class d{constructor(o){this.actions$=o,this.initTheme$=kn(()=>this.actions$.pipe(Xn(ws),(0,xt.T)(()=>{const c=(0,ee.Nv)();return(0,G.a4)(c)?new xp.K(c.name):new xp.K(ta.Q)})))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Ed=n(91e3);const Oo={REHYDRATE:(0,Ed.N)("dspace/ngrx/REHYDRATE"),REPLAY:(0,Ed.N)("dspace/ngrx/REPLAY")};class na{constructor(y,o){this.type=y,this.payload=o}}const qd=[(()=>{class d{constructor(o,c){this.actions=o,this.store=c,this.replay=kn(()=>this.actions.pipe(Xn(Oo.REPLAY),(0,xt.T)(b=>(0,Ts.of)({}))),{dispatch:!1}),this.resize=kn(()=>this.actions.pipe(Xn(Oo.REPLAY,Oo.REHYDRATE),(0,xt.T)(()=>new U.l(window.innerWidth,window.innerHeight))))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),Xy,Rm,ov,Gl,ka];let Lp=0;const Xu=[function Yu(d){return(y,o)=>(Lp++,console.log("@ngrx action",Lp,o.type),console.log("state",JSON.stringify(y)),console.log("action",JSON.stringify(o)),console.log("------------------------------------"),d(y,o))}],Np=[function $l(d){return(y,o)=>(o.type===Oo.REHYDRATE&&(y=Object.assign({},y,o.payload)),d(y,o))}];var Uc=n(195),Qy=n(47483),ar=n(69799),Ju=n(64611),Fp=n(54671),wi=n(49347),av=n(36673),jp=n(36329),Tr=n(3970),$r=n(89673);const Cd=(0,$r.L)(()=>(0,Ts.of)(Tr._.EPersonRegistration));var xo=n(17366),Zy=n(3636);const Si=(0,xo.e)(()=>{const d=(0,e.WQX)(Zy.GH);return A.c.info.enableEndUserAgreement?d.hasCurrentUserAcceptedAgreement(!0):(0,Ts.of)(!0)}),Bp=(0,$r.L)(()=>(0,Ts.of)(Tr._.EPersonForgotPassword));var bd=n(29443),Ko=n(84572),Wr=n(47677),eu=n(13275),Zu=n(37864),Oa=n(8917),Kr=n(32736);n(10270);const Am=["*"];function qu(d,y){}let cv=(()=>{class d extends M.J{getComponentName(){return"CreateCollectionParentSelectorComponent"}importThemedComponent(o){return n(12706)(`./${o}/app/shared/dso-selector/modal-wrappers/create-collection-parent-selector/create-collection-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,10270))}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-create-collection-parent-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Am,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,b){1&c&&(e.NAR(),e.DNE(0,qu,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();n(76538);const tu=["*"];function dv(d,y){}let kp=(()=>{class d extends M.J{getComponentName(){return"CreateCommunityParentSelectorComponent"}importThemedComponent(o){return n(27122)(`./${o}/app/shared/dso-selector/modal-wrappers/create-community-parent-selector/create-community-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,76538))}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-create-community-parent-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:tu,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,b){1&c&&(e.NAR(),e.DNE(0,dv,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var wm=n(52798);n(73234);const xm=["*"];function qy(d,y){}let hv=(()=>{class d extends M.J{getComponentName(){return"EditCollectionSelectorComponent"}importThemedComponent(o){return n(61130)(`./${o}/app/shared/dso-selector/modal-wrappers/edit-collection-selector/edit-collection-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,73234))}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-edit-collection-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:xm,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,b){1&c&&(e.NAR(),e.DNE(0,qy,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();n(64990);const Vc=["*"];function eh(d,y){}let dc=(()=>{class d extends M.J{getComponentName(){return"EditCommunitySelectorComponent"}importThemedComponent(o){return n(11452)(`./${o}/app/shared/dso-selector/modal-wrappers/edit-community-selector/edit-community-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,64990))}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-edit-community-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Vc,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,b){1&c&&(e.NAR(),e.DNE(0,eh,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();n(29380);const nh=["*"];function e1(d,y){}let sh=(()=>{class d extends M.J{getComponentName(){return"EditItemSelectorComponent"}importThemedComponent(o){return n(6122)(`./${o}/app/shared/dso-selector/modal-wrappers/edit-item-selector/edit-item-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,29380))}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-edit-item-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:nh,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,b){1&c&&(e.NAR(),e.DNE(0,e1,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var Fs=n(96526),ih=n(6041),Hr=n(13864),oh=n(1504),uc=n(73666),Dd=n(9284),rh=n(43404),Td=n(73183),Gc=n(54705);function Nm(d,y){if(1&d&&(e.j41(0,"span",5),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,o.header))}}let Vp=(()=>{class d extends Gc.${constructor(o,c,b,$,ue,Me,it,Bt,yn){super(o,c),this.activeModal=o,this.route=c,this.router=b,this.notificationsService=$,this.translationService=ue,this.scriptDataService=Me,this.authorizationDataService=it,this.dsoNameService=Bt,this.modalService=yn,this.objectType=Hr.W.DSPACEOBJECT,this.selectorTypes=[Hr.W.COLLECTION],this.action=Gc.u.EXPORT_BATCH}navigate(o){if(o instanceof ih.p){const c=this.modalService.open(Dd.M);c.componentInstance.name=this.dsoNameService.getName(o),c.componentInstance.headerLabel="confirmation-modal.export-batch.header",c.componentInstance.infoLabel="confirmation-modal.export-batch.info",c.componentInstance.cancelLabel="confirmation-modal.export-batch.cancel",c.componentInstance.confirmLabel="confirmation-modal.export-batch.confirm",c.componentInstance.confirmIcon="fas fa-file-export";const b=c.componentInstance.response.pipe((0,ks.n)($=>{if($)return this.startScriptNotifyAndRedirect(o).pipe((0,ks.n)(Me=>(0,Ts.of)(Me)));this.modalService.open(d).componentInstance.dsoRD=(0,rh.SP)(o)}));return b.subscribe(),b}return(0,Ts.of)(!1)}startScriptNotifyAndRedirect(o){const c=[Object.assign(new uc.p,{name:"--id",value:o.uuid}),Object.assign(new uc.p,{name:"--type",value:"COLLECTION"})];return this.authorizationDataService.isAuthorized(Tr._.AdministratorOf).pipe((0,ks.n)(()=>this.scriptDataService.invoke(Kr.BATCH_EXPORT_SCRIPT_NAME,c,[])),(0,Bs.qD)(),(0,xt.T)(b=>{if(b.hasSucceeded){const $=this.translationService.get("process.new.notification.success.title"),ue=this.translationService.get("process.new.notification.success.content");return this.notificationsService.success($,ue),(0,G.hj)(b.payload)&&this.router.navigateByUrl((0,oh.yJ)(b.payload.processId)),!0}{const $=this.translationService.get("process.new.notification.error.title"),ue=this.translationService.get("process.new.notification.error.content");return this.notificationsService.error($,ue),!1}}))}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(q.Lw),e.rXU(v.nX),e.rXU(v.Ix),e.rXU(Es.I),e.rXU(K.c$),e.rXU(Kr.ScriptDataService),e.rXU(ac.AuthorizationDataService),e.rXU(Fs.f),e.rXU(q.Bq))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-export-batch-selector"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(c,b){1&c&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return b.close()}),e.k0s()(),e.j41(5,"div",2),e.DNE(6,Nm,3,3,"span",3),e.j41(7,"ds-dso-selector",4),e.bIt("onSelect",function(ue){return b.selectObject(ue)}),e.k0s()()()),2&c&&(e.R7$(2),e.SpI("",e.bMT(3,5,"dso-selector."+b.action+"."+b.objectType.toString().toLowerCase()+".head")," "),e.R7$(4),e.Y8G("ngIf",b.header),e.R7$(),e.Y8G("currentDSOId",null==b.dsoRD?null:b.dsoRD.payload.uuid)("types",b.selectorTypes)("sort",b.defaultSort))},dependencies:[f.bT,Td.x,K.h,K.D9],encapsulation:2})}}return d})();var Od=n(10046);function pv(d,y){if(1&d&&(e.j41(0,"span",5),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,o.header))}}let ah=(()=>{class d extends Gc.${constructor(o,c,b,$,ue,Me,it,Bt,yn){super(o,c),this.activeModal=o,this.route=c,this.router=b,this.notificationsService=$,this.translationService=ue,this.scriptDataService=Me,this.authorizationDataService=it,this.dsoNameService=Bt,this.modalService=yn,this.objectType=Hr.W.DSPACEOBJECT,this.selectorTypes=[Hr.W.COLLECTION,Hr.W.COMMUNITY],this.action=Gc.u.EXPORT_METADATA}navigate(o){if(o instanceof ih.p||o instanceof Od.E){const c=this.modalService.open(Dd.M);c.componentInstance.name=this.dsoNameService.getName(o),c.componentInstance.headerLabel="confirmation-modal.export-metadata.header",c.componentInstance.infoLabel="confirmation-modal.export-metadata.info",c.componentInstance.cancelLabel="confirmation-modal.export-metadata.cancel",c.componentInstance.confirmLabel="confirmation-modal.export-metadata.confirm",c.componentInstance.confirmIcon="fas fa-file-export";const b=c.componentInstance.response.pipe((0,ks.n)($=>{if($)return this.startScriptNotifyAndRedirect(o).pipe((0,ks.n)(Me=>(0,Ts.of)(Me)));this.modalService.open(d).componentInstance.dsoRD=(0,rh.SP)(o)}));return b.subscribe(),b}return(0,Ts.of)(!1)}startScriptNotifyAndRedirect(o){const c=[Object.assign(new uc.p,{name:"-i",value:o.uuid})];return this.authorizationDataService.isAuthorized(Tr._.AdministratorOf).pipe((0,ks.n)(b=>(b&&c.push(Object.assign(new uc.p,{name:"-a"})),this.scriptDataService.invoke(Kr.METADATA_EXPORT_SCRIPT_NAME,c,[]))),(0,Bs.qD)(),(0,xt.T)(b=>{if(b.hasSucceeded){const $=this.translationService.get("process.new.notification.success.title"),ue=this.translationService.get("process.new.notification.success.content");return this.notificationsService.success($,ue),(0,G.hj)(b.payload)&&this.router.navigateByUrl((0,oh.yJ)(b.payload.processId)),!0}{const $=this.translationService.get("process.new.notification.error.title"),ue=this.translationService.get("process.new.notification.error.content");return this.notificationsService.error($,ue),!1}}))}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(q.Lw),e.rXU(v.nX),e.rXU(v.Ix),e.rXU(Es.I),e.rXU(K.c$),e.rXU(Kr.ScriptDataService),e.rXU(ac.AuthorizationDataService),e.rXU(Fs.f),e.rXU(q.Bq))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-export-metadata-selector"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(c,b){1&c&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return b.close()}),e.k0s()(),e.j41(5,"div",2),e.DNE(6,pv,3,3,"span",3),e.j41(7,"ds-dso-selector",4),e.bIt("onSelect",function(ue){return b.selectObject(ue)}),e.k0s()()()),2&c&&(e.R7$(2),e.SpI("",e.bMT(3,5,"dso-selector."+b.action+"."+b.objectType.toString().toLowerCase()+".head")," "),e.R7$(4),e.Y8G("ngIf",b.header),e.R7$(),e.Y8G("currentDSOId",null==b.dsoRD?null:b.dsoRD.payload.uuid)("types",b.selectorTypes)("sort",b.defaultSort))},dependencies:[f.bT,Td.x,K.h,K.D9],encapsulation:2})}}return d})();var yi=n(34237);let lh=(()=>{class d{constructor(o,c,b,$,ue,Me,it){this.menuService=o,this.browseService=c,this.authorizationService=b,this.modalService=$,this.scriptDataService=ue,this.configurationDataService=Me,this.authService=it}resolve(o,c){return(0,Ko.z)([this.createPublicMenu$(),this.createAdminMenuIfLoggedIn$()]).pipe((0,xt.T)(b=>b.every(Boolean)))}waitForMenu$(o){return this.menuService.getMenu(o).pipe((0,Wr.I)(c=>(0,G.a4)(c)),(0,xt.T)(()=>!0))}createPublicMenu$(){const o=[{id:"browse_global_communities_and_collections",active:!1,visible:!0,index:0,model:{type:yi.x.LINK,text:"menu.section.browse_global_communities_and_collections",link:"/community-list"}}];return this.browseService.getBrowseDefinitions().pipe((0,Bs.qD)()).subscribe(c=>{c.hasSucceeded&&(c.payload.page.forEach(b=>{o.push({id:`browse_global_by_${b.id}`,parentID:"browse_global",active:!1,visible:!0,model:{type:yi.x.LINK,text:`menu.section.browse_global_by_${b.id}`,link:`/browse/${b.id}`}})}),o.push({id:"browse_global",active:!1,visible:!0,index:1,model:{type:yi.x.TEXT,text:"menu.section.browse_global"}})),o.forEach(b=>this.menuService.addSection(Dr.D.PUBLIC,Object.assign(b,{shouldPersistOnRouteChange:!0})))}),this.waitForMenu$(Dr.D.PUBLIC)}createAdminMenuIfLoggedIn$(){return this.authService.isAuthenticated().pipe((0,Qn.Z)(o=>o?this.createAdminMenu$():(0,Ts.of)(!0)))}createAdminMenu$(){return this.createMainMenuSections(),this.createSiteAdministratorMenuSections(),this.createExportMenuSections(),this.createImportMenuSections(),this.createAccessControlMenuSections(),this.createReportMenuSections(),this.waitForMenu$(Dr.D.ADMIN)}createMainMenuSections(){(0,Ko.z)([this.authorizationService.isAuthorized(Tr._.IsCollectionAdmin),this.authorizationService.isAuthorized(Tr._.IsCommunityAdmin),this.authorizationService.isAuthorized(Tr._.AdministratorOf),this.authorizationService.isAuthorized(Tr._.CanSubmit),this.authorizationService.isAuthorized(Tr._.CanEditItem),this.authorizationService.isAuthorized(Tr._.CanSeeQA),this.authorizationService.isAuthorized(Tr._.CoarNotifyEnabled)]).subscribe(([o,c,b,$,ue,Me,it])=>{const Bt=[{id:"new_community",parentID:"new",active:!1,visible:c,model:{type:yi.x.ONCLICK,text:"menu.section.new_community",function:()=>{this.modalService.open(kp)}}},{id:"new_collection",parentID:"new",active:!1,visible:c,model:{type:yi.x.ONCLICK,text:"menu.section.new_collection",function:()=>{this.modalService.open(cv)}}},{id:"new_item",parentID:"new",active:!1,visible:$,model:{type:yi.x.ONCLICK,text:"menu.section.new_item",function:()=>{this.modalService.open(wm.L)}}},{id:"new_process",parentID:"new",active:!1,visible:b,model:{type:yi.x.LINK,text:"menu.section.new_process",link:"/processes/new"}},{id:"ldn_services_new",parentID:"new",active:!1,visible:b&&it,model:{type:yi.x.LINK,text:"menu.section.services_new",link:"/admin/ldn/services/new"},icon:""}],yn=[{id:"edit_community",parentID:"edit",active:!1,visible:c,model:{type:yi.x.ONCLICK,text:"menu.section.edit_community",function:()=>{this.modalService.open(dc)}}},{id:"edit_collection",parentID:"edit",active:!1,visible:o,model:{type:yi.x.ONCLICK,text:"menu.section.edit_collection",function:()=>{this.modalService.open(hv)}}},{id:"edit_item",parentID:"edit",active:!1,visible:ue,model:{type:yi.x.ONCLICK,text:"menu.section.edit_item",function:()=>{this.modalService.open(sh)}}}],cn={id:"new",active:!1,visible:Bt.some(Hn=>Hn.visible),model:{type:yi.x.TEXT,text:"menu.section.new"},icon:"plus",index:0},ts={id:"edit",active:!1,visible:yn.some(Hn=>Hn.visible),model:{type:yi.x.TEXT,text:"menu.section.edit"},icon:"pencil-alt",index:1};[...Bt,cn,...yn,ts,{id:"processes",active:!1,visible:b,model:{type:yi.x.LINK,text:"menu.section.processes",link:"/processes"},icon:"terminal",index:10},{id:"coar_notify",active:!1,visible:b&&it,model:{type:yi.x.TEXT,text:"menu.section.coar_notify"},icon:"inbox",index:13},{id:"notify_dashboard",active:!1,parentID:"coar_notify",visible:b&&it,model:{type:yi.x.LINK,text:"menu.section.notify_dashboard",link:"/admin/notify-dashboard"}},{id:"ldn_services",active:!1,parentID:"coar_notify",visible:b&&it,model:{type:yi.x.LINK,text:"menu.section.services",link:"/admin/ldn/services"}},{id:"health",active:!1,visible:b,model:{type:yi.x.LINK,text:"menu.section.health",link:"/health"},icon:"heartbeat",index:11},{id:"notifications",active:!1,visible:Me||b,model:{type:yi.x.TEXT,text:"menu.section.notifications"},icon:"bell",index:4},{id:"notifications_quality-assurance",parentID:"notifications",active:!1,visible:Me,model:{type:yi.x.LINK,text:"menu.section.quality-assurance",link:"/notifications/quality-assurance"}},{id:"notifications_publication-claim",parentID:"notifications",active:!1,visible:b,model:{type:yi.x.LINK,text:"menu.section.notifications_publication-claim",link:"/admin/notifications/"+eu.VZ}}].forEach(Hn=>this.menuService.addSection(Dr.D.ADMIN,Object.assign(Hn,{shouldPersistOnRouteChange:!0})))})}createExportMenuSections(){[].forEach(c=>this.menuService.addSection(Dr.D.ADMIN,c)),(0,Ko.z)([this.authorizationService.isAuthorized(Tr._.AdministratorOf),this.scriptDataService.scriptWithNameExistsAndCanExecute(Kr.METADATA_EXPORT_SCRIPT_NAME)]).pipe((0,Wn.p)(([c,b])=>c&&b),(0,T.s)(1)).subscribe(()=>{this.menuService.addSection(Dr.D.ADMIN,{id:"export",active:!1,visible:!0,model:{type:yi.x.TEXT,text:"menu.section.export"},icon:"file-export",index:3,shouldPersistOnRouteChange:!0}),this.menuService.addSection(Dr.D.ADMIN,{id:"export_metadata",parentID:"export",active:!0,visible:!0,model:{type:yi.x.ONCLICK,text:"menu.section.export_metadata",function:()=>{this.modalService.open(ah)}},shouldPersistOnRouteChange:!0}),this.menuService.addSection(Dr.D.ADMIN,{id:"export_batch",parentID:"export",active:!1,visible:!0,model:{type:yi.x.ONCLICK,text:"menu.section.export_batch",function:()=>{this.modalService.open(Vp)}},shouldPersistOnRouteChange:!0})})}createImportMenuSections(){[].forEach(c=>this.menuService.addSection(Dr.D.ADMIN,c)),(0,Ko.z)([this.authorizationService.isAuthorized(Tr._.AdministratorOf),this.scriptDataService.scriptWithNameExistsAndCanExecute(Kr.METADATA_IMPORT_SCRIPT_NAME)]).pipe((0,Wn.p)(([c,b])=>c&&b),(0,T.s)(1)).subscribe(()=>{this.menuService.addSection(Dr.D.ADMIN,{id:"import",active:!1,visible:!0,model:{type:yi.x.TEXT,text:"menu.section.import"},icon:"file-import",index:2,shouldPersistOnRouteChange:!0}),this.menuService.addSection(Dr.D.ADMIN,{id:"import_metadata",parentID:"import",active:!0,visible:!0,model:{type:yi.x.LINK,text:"menu.section.import_metadata",link:"/admin/metadata-import"},shouldPersistOnRouteChange:!0}),this.menuService.addSection(Dr.D.ADMIN,{id:"import_batch",parentID:"import",active:!1,visible:!0,model:{type:yi.x.LINK,text:"menu.section.import_batch",link:"/admin/batch-import"},shouldPersistOnRouteChange:!0})})}createSiteAdministratorMenuSections(){this.authorizationService.isAuthorized(Tr._.AdministratorOf).subscribe(o=>{[{id:"admin_search",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.admin_search",link:"/admin/search"},icon:"search",index:5},{id:"registries",active:!1,visible:o,model:{type:yi.x.TEXT,text:"menu.section.registries"},icon:"list",index:6},{id:"registries_metadata",parentID:"registries",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.registries_metadata",link:"admin/registries/metadata"}},{id:"registries_format",parentID:"registries",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.registries_format",link:"admin/registries/bitstream-formats"}},{id:"curation_tasks",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.curation_task",link:"admin/curation-tasks"},icon:"filter",index:7},{id:"workflow",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.workflow",link:"/admin/workflow"},icon:"user-check",index:11},{id:"system_wide_alert",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.system-wide-alert",link:"/admin/system-wide-alert"},icon:"exclamation-circle",index:12}].forEach(b=>this.menuService.addSection(Dr.D.ADMIN,Object.assign(b,{shouldPersistOnRouteChange:!0})))})}createAccessControlMenuSections(){(0,Ko.z)([this.authorizationService.isAuthorized(Tr._.AdministratorOf),this.authorizationService.isAuthorized(Tr._.CanManageGroups)]).subscribe(([o,c])=>{[{id:"access_control_people",parentID:"access_control",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.access_control_people",link:"/access-control/epeople"}},{id:"access_control_groups",parentID:"access_control",active:!1,visible:c,model:{type:yi.x.LINK,text:"menu.section.access_control_groups",link:"/access-control/groups"}},{id:"access_control_bulk",parentID:"access_control",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.access_control_bulk",link:"/access-control/bulk-access"}},{id:"access_control",active:!1,visible:c||o,model:{type:yi.x.TEXT,text:"menu.section.access_control"},icon:"key",index:4}].forEach($=>this.menuService.addSection(Dr.D.ADMIN,Object.assign($,{shouldPersistOnRouteChange:!0})))})}createReportMenuSections(){(0,Ko.z)([this.configurationDataService.findByPropertyName("contentreport.enable").pipe((0,Bs.qD)(),(0,xt.T)(o=>o.hasSucceeded&&o.payload&&"true"===o.payload.values[0])),this.authorizationService.isAuthorized(Tr._.AdministratorOf)]).subscribe(([o])=>{[{id:"reports",active:!1,visible:o,model:{type:yi.x.TEXT,text:"menu.section.reports"},icon:"file-alt",index:5},{id:"reports_collections",parentID:"reports",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.reports.collections",link:"/admin/reports/collections"},icon:"user-check"},{id:"reports_queries",parentID:"reports",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.reports.queries",link:"/admin/reports/queries"},icon:"user-check"}].forEach(b=>this.menuService.addSection(Dr.D.ADMIN,Object.assign(b,{shouldPersistOnRouteChange:!0})))})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(ei.$),e.KVO(Zu.q),e.KVO(ac.AuthorizationDataService),e.KVO(q.Bq),e.KVO(Kr.ScriptDataService),e.KVO(Oa.ConfigurationDataService),e.KVO(p.uR))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var fv=n(38571),Gp=n(61723),Md=n(74566),Id=n(13246);let nu=(()=>{class d{constructor(o,c,b,$,ue,Me){this.actions$=o,this.store$=c,this.translate=b,this.notificationsService=$,this.qualityAssuranceSourceService=ue,this.qualityAssuranceSourceDataService=Me,this.retrieveAllSource$=kn(()=>this.actions$.pipe(Xn(Md.xq.RETRIEVE_ALL_SOURCE),(0,R.E)(this.store$),(0,ks.n)(([it,Bt])=>this.qualityAssuranceSourceService.getSources(it.payload.elementsPerPage,it.payload.currentPage).pipe((0,xt.T)(yn=>new Md.$_(yn.page,yn.totalPages,yn.currentPage,yn.totalElements)),(0,Rn.W)(yn=>(yn instanceof Error?console.error(yn.message):console.error("Unexpected object thrown",yn),(0,Ts.of)(new Md.Fx))))))),this.retrieveAllSourceErrorAction$=kn(()=>this.actions$.pipe(Xn(Md.xq.RETRIEVE_ALL_SOURCE_ERROR),(0,pi.M)(()=>{this.notificationsService.error(null,this.translate.get("quality-assurance.source.error.service.retrieve"))})),{dispatch:!1}),this.addSourceAction$=kn(()=>this.actions$.pipe(Xn(Md.xq.ADD_SOURCE),(0,pi.M)(()=>{this.qualityAssuranceSourceDataService.clearFindAllSourceRequests()})),{dispatch:!1})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(E.il),e.KVO(K.c$),e.KVO(Es.I),e.KVO(Id.p),e.KVO(Gp.QualityAssuranceSourceDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var fr=n(31936),ch=n(79984),Fm=n(53954),su=n(6238);let t1=(()=>{class d{constructor(o){this.qualityAssuranceTopicRestService=o}getTopics(o,c,b,$){const Me={elementsPerPage:o,currentPage:c,sort:new su.z("name",su.U.ASC),searchParams:[new Fm.x("source",b)]};let it;return(0,G.a4)($)?(Me.searchParams.push(new Fm.x("target",$)),it=this.qualityAssuranceTopicRestService.searchTopicsByTarget(Me)):it=this.qualityAssuranceTopicRestService.searchTopicsBySource(Me),it.pipe((0,Bs.qD)(),(0,xt.T)(Bt=>{if(Bt.hasSucceeded)return Bt.payload;throw new Error("Can't retrieve Quality Assurance topics from the Broker topics REST service")}))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(fr.QualityAssuranceTopicDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),mv=(()=>{class d{constructor(o,c,b,$,ue,Me){this.actions$=o,this.store$=c,this.translate=b,this.notificationsService=$,this.qualityAssuranceTopicService=ue,this.qualityAssuranceTopicDataService=Me,this.retrieveAllTopics$=kn(()=>this.actions$.pipe(Xn(ch.py.RETRIEVE_ALL_TOPICS),(0,R.E)(this.store$),(0,ks.n)(([it,Bt])=>this.qualityAssuranceTopicService.getTopics(it.payload.elementsPerPage,it.payload.currentPage,it.payload.source,it.payload.target).pipe((0,xt.T)(yn=>new ch.C3(yn.page,yn.totalPages,yn.currentPage,yn.totalElements)),(0,Rn.W)(yn=>(yn instanceof Error?console.error(yn.message):console.error("Unexpected object thrown",yn),(0,Ts.of)(new ch.IL))))))),this.retrieveAllTopicsErrorAction$=kn(()=>this.actions$.pipe(Xn(ch.py.RETRIEVE_ALL_TOPICS_ERROR),(0,pi.M)(()=>{this.notificationsService.error(null,this.translate.get("quality-assurance.topic.error.service.retrieve"))})),{dispatch:!1}),this.addTopicsAction$=kn(()=>this.actions$.pipe(Xn(ch.py.ADD_TOPICS),(0,pi.M)(()=>{this.qualityAssuranceTopicDataService.clearFindAllTopicsRequests()})),{dispatch:!1})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(E.il),e.KVO(K.c$),e.KVO(Es.I),e.KVO(t1),e.KVO(fr.QualityAssuranceTopicDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var iu=n(67977),Ma=n(54503);const ou=[mv,nu,(()=>{class d{constructor(o,c,b,$,ue,Me){this.actions$=o,this.store$=c,this.translate=b,this.notificationsService=$,this.suggestionsService=ue,this.configurationService=Me,this.retrieveTargetsBySource$=kn(()=>this.actions$.pipe(Xn(Ma.lz.RETRIEVE_TARGETS_BY_SOURCE),(0,ks.n)(it=>this.suggestionsService.getTargets(it.payload.source,it.payload.elementsPerPage,it.payload.currentPage).pipe((0,xt.T)(Bt=>new Ma.Pc(it.payload.source,Bt.page,Bt.totalPages,Bt.currentPage,Bt.totalElements)),(0,Rn.W)(Bt=>(Bt instanceof Error&&console.error(Bt.message),(0,Ts.of)(new Ma.Fz(it.payload.source)))))))),this.retrieveAllTargetsErrorAction$=kn(()=>this.actions$.pipe(Xn(Ma.lz.RETRIEVE_TARGETS_BY_SOURCE_ERROR),(0,pi.M)(()=>{this.notificationsService.error(null,this.translate.get("suggestion.target.error.service.retrieve"))})),{dispatch:!1}),this.retrieveUserTargets$=kn(()=>this.actions$.pipe(Xn(Y.Yk.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS),(0,ks.n)(it=>this.configurationService.findByPropertyName("researcher-profile.entity-type").pipe((0,Bs.qD)(),(0,ks.n)(Bt=>Bt.hasSucceeded&&Bt.payload.values.length>0?this.suggestionsService.retrieveCurrentUserSuggestions(it.payload).pipe((0,xt.T)(yn=>new Ma.Gx(yn))):(0,Ts.of)(new Ma.Gx([]))))))),this.refreshUserSuggestionsAction$=kn(()=>this.actions$.pipe(Xn(Ma.lz.REFRESH_USER_SUGGESTIONS),(0,ks.n)(()=>this.store$.select(it=>it.core.auth.userId).pipe((0,ks.n)(it=>it?this.configurationService.findByPropertyName("researcher-profile.entity-type").pipe((0,Bs.qD)(),(0,ks.n)(Bt=>Bt.hasSucceeded&&Bt.payload.values.length>0?this.suggestionsService.retrieveCurrentUserSuggestions(it).pipe((0,xt.T)(yn=>new Ma.Gx(yn)),(0,Rn.W)(yn=>(yn instanceof Error&&console.error(yn.message),(0,Ts.of)(new Ma.Af)))):(0,Ts.of)(new Ma.Gx([]))),(0,Rn.W)(Bt=>(Bt instanceof Error&&console.error(Bt.message),(0,Ts.of)(new Ma.Af)))):(0,Ts.of)(new Ma.Gx([]))),(0,Rn.W)(it=>(it instanceof Error&&console.error(it.message),(0,Ts.of)(new Ma.Af)))))))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(E.il),e.KVO(K.c$),e.KVO(Es.I),e.KVO(iu.F),e.KVO(Oa.ConfigurationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})()],bl=()=>(0,e.EmA)([(0,e.oKB)(E.md.forFeature("suggestionNotifications",fv.W,Uc.wP),pr.forFeature(ou))]);var $p=n(5771),Wp=n.n($p),jm=n(48125),ru=n.n(jm),Bm=n(28898),Um=n.n(Bm),au=n(22806),_v=n(83203),vv=n(24261),km=n(72147),Dl=n(88643),Kp=n(61010),Va=n(90049),SO=n(7020);let yv=(()=>{class d{constructor(o,c,b,$,ue,Me,it,Bt,yn){this.actions$=o,this.notificationsService=c,this.operationsService=b,this.sectionService=$,this.store$=ue,this.submissionService=Me,this.submissionObjectService=it,this.translate=Bt,this.workspaceItemDataService=yn,this.loadForm$=kn(()=>this.actions$.pipe(Xn(Cn.lE.INIT_SUBMISSION_FORM),(0,xt.T)(cn=>{const ts=cn.payload.submissionDefinition,vs=[];return ts.sections.page.forEach(Hn=>{const ls=Hn._links.self.href||Hn._links.self,Xs=ls.substr(ls.lastIndexOf("/")+1),Gi=Hn._links.config?Hn._links.config.href||Hn._links.config:"",mi=Hn.mandatory&&Hn.sectionType!==Dl.l.Duplicates||(0,G.hj)(cn.payload.sections)&&cn.payload.sections.hasOwnProperty(Xs)&&Hn.sectionType===Dl.l.Duplicates&&(Tl()||(0,G.hj)(cn.payload.sections[Xs].potentialDuplicates));let Mo;Mo=Hn.sectionType!==Dl.l.SubmissionForm?(0,G.EA)(cn.payload.sections)&&(0,G.EA)(cn.payload.sections[Xs])?cn.payload.sections[Xs]:Object.create(null):cn.payload.item.metadata;const dr=(0,G.hj)(cn.payload.errors)&&cn.payload.errors[Xs]||null;vs.push(new Cn.wT(cn.payload.submissionId,Xs,Hn.header,Gi,Hn.mandatory,Hn.scope,Hn.sectionType,Hn.visibility,mi,Mo,dr))}),{action:cn,definition:ts,mappedActions:vs}}),(0,Qn.Z)(cn=>(0,au.H)(cn.mappedActions.concat(new Cn.ug(cn.action.payload.submissionId)))))),this.resetForm$=kn(()=>this.actions$.pipe(Xn(Cn.lE.RESET_SUBMISSION_FORM),(0,xt.T)(cn=>new Cn.jc(cn.payload.collectionId,cn.payload.submissionId,cn.payload.selfUrl,cn.payload.submissionDefinition,cn.payload.sections,cn.payload.item,null)))),this.saveSubmission$=kn(()=>this.actions$.pipe(Xn(Cn.lE.SAVE_SUBMISSION_FORM),(0,ks.n)(cn=>this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),cn.payload.submissionId,"sections").pipe((0,xt.T)(ts=>new Cn.tR(cn.payload.submissionId,ts,cn.payload.isManual,cn.payload.isManual)),(0,Rn.W)(()=>(0,Ts.of)(new Cn.wM(cn.payload.submissionId))))))),this.saveForLaterSubmission$=kn(()=>this.actions$.pipe(Xn(Cn.lE.SAVE_FOR_LATER_SUBMISSION_FORM),(0,ks.n)(cn=>this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),cn.payload.submissionId,"sections").pipe((0,xt.T)(ts=>new Cn.oW(cn.payload.submissionId,ts)),(0,Rn.W)(()=>(0,Ts.of)(new Cn.wM(cn.payload.submissionId))))))),this.saveSubmissionSuccess$=kn(()=>this.actions$.pipe(Xn(Cn.lE.SAVE_SUBMISSION_FORM_SUCCESS),(0,R.E)(this.store$),(0,xt.T)(([cn,ts])=>this.parseSaveResponse(ts.submission.objects[cn.payload.submissionId],cn.payload.submissionObject,cn.payload.submissionId,ts.forms,cn.payload.showNotifications,cn.payload.showErrors)),(0,Qn.Z)(cn=>(0,au.H)(cn)))),this.saveSubmissionSectionSuccess$=kn(()=>this.actions$.pipe(Xn(Cn.lE.SAVE_SUBMISSION_SECTION_FORM_SUCCESS),(0,R.E)(this.store$),(0,xt.T)(([cn,ts])=>this.parseSaveResponse(ts.submission.objects[cn.payload.submissionId],cn.payload.submissionObject,cn.payload.submissionId,ts.forms,!1,!1)),(0,Qn.Z)(cn=>(0,au.H)(cn)))),this.saveSection$=kn(()=>this.actions$.pipe(Xn(Cn.lE.SAVE_SUBMISSION_SECTION_FORM),(0,ks.n)(cn=>this.operationsService.jsonPatchByResourceID(this.submissionService.getSubmissionObjectLinkName(),cn.payload.submissionId,"sections",cn.payload.sectionId).pipe((0,xt.T)(ts=>new Cn.ky(cn.payload.submissionId,ts)),(0,Rn.W)(()=>(0,Ts.of)(new Cn.Zl(cn.payload.submissionId))))))),this.saveError$=kn(()=>this.actions$.pipe(Xn(Cn.lE.SAVE_SUBMISSION_FORM_ERROR,Cn.lE.SAVE_SUBMISSION_SECTION_FORM_ERROR),(0,R.E)(this.store$),(0,pi.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.save_error_notice")))),{dispatch:!1}),this.saveAndDeposit$=kn(()=>this.actions$.pipe(Xn(Cn.lE.SAVE_AND_DEPOSIT_SUBMISSION),(0,R.E)(this.submissionService.hasUnsavedModification()),(0,ks.n)(([cn,ts])=>{let vs;return vs=ts?this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),cn.payload.submissionId,"sections"):this.submissionObjectService.findById(cn.payload.submissionId,!1,!0,(0,Ws.s)("item"),(0,Ws.s)("collection")).pipe((0,Bs.ak)(),(0,xt.T)(Hn=>[Hn])),vs.pipe((0,xt.T)(Hn=>this.canDeposit(Hn)?new Cn.l5(cn.payload.submissionId):(this.notificationsService.warning(null,this.translate.instant("submission.sections.general.cannot_deposit"),null,!0),new Cn.tR(cn.payload.submissionId,Hn,!1,!0))),(0,Rn.W)(()=>(0,Ts.of)(new Cn.wM(cn.payload.submissionId))))}))),this.depositSubmission$=kn(()=>this.actions$.pipe(Xn(Cn.lE.DEPOSIT_SUBMISSION),(0,R.E)(this.store$),(0,ks.n)(([cn,ts])=>this.submissionService.depositSubmission(ts.submission.objects[cn.payload.submissionId].selfUrl).pipe((0,xt.T)(()=>new Cn.kq(cn.payload.submissionId)),(0,Rn.W)(vs=>(0,Ts.of)(new Cn.x9(cn.payload.submissionId))))))),this.saveForLaterSubmissionSuccess$=kn(()=>this.actions$.pipe(Xn(Cn.lE.SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS),(0,pi.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.save_success_notice"))),(0,pi.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.depositSubmissionSuccess$=kn(()=>this.actions$.pipe(Xn(Cn.lE.DEPOSIT_SUBMISSION_SUCCESS),(0,pi.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.deposit_success_notice"))),(0,pi.M)(cn=>this.workspaceItemDataService.invalidateById(cn.payload.submissionId)),(0,pi.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.depositSubmissionError$=kn(()=>this.actions$.pipe(Xn(Cn.lE.DEPOSIT_SUBMISSION_ERROR),(0,pi.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.deposit_error_notice")))),{dispatch:!1}),this.discardSubmission$=kn(()=>this.actions$.pipe(Xn(Cn.lE.DISCARD_SUBMISSION),(0,ks.n)(cn=>this.submissionService.discardSubmission(cn.payload.submissionId).pipe((0,xt.T)(()=>new Cn.Ob(cn.payload.submissionId)),(0,Rn.W)(()=>(0,Ts.of)(new Cn.Z5(cn.payload.submissionId))))))),this.addAllMetadataToSectionData=kn(()=>this.actions$.pipe(Xn(Cn.lE.UPDATE_SECTION_DATA),(0,ks.n)(cn=>this.sectionService.getSectionState(cn.payload.submissionId,cn.payload.sectionId,Dl.l.Upload).pipe((0,xt.T)(ts=>[cn,ts]),(0,T.s)(1))),(0,Wn.p)(([cn,ts])=>ts.sectionType===Dl.l.SubmissionForm),(0,ks.n)(([cn,ts])=>ts.sectionType===Dl.l.SubmissionForm?this.submissionObjectService.findById(cn.payload.submissionId,!0,!1,(0,Ws.s)("item")).pipe((0,Bs.ak)()).pipe((0,ks.n)(ls=>ls.item.pipe((0,Bs.ak)()))).pipe((0,xt.T)(ls=>ls.metadata),(0,Wn.p)(ls=>!ru()(cn.payload.data,ls)),(0,xt.T)(ls=>new Cn.dm(cn.payload.submissionId,cn.payload.sectionId,ls,cn.payload.errorsToShow,cn.payload.serverValidationErrors,cn.payload.metadata))):(0,Ts.of)(new Cn.Sm)))),this.discardSubmissionSuccess$=kn(()=>this.actions$.pipe(Xn(Cn.lE.DISCARD_SUBMISSION_SUCCESS),(0,pi.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.discard_success_notice"))),(0,pi.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.discardSubmissionError$=kn(()=>this.actions$.pipe(Xn(Cn.lE.DISCARD_SUBMISSION_ERROR),(0,pi.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.discard_error_notice")))),{dispatch:!1})}canDeposit(o){let c=!0;return(0,G.hj)(o)&&o.forEach(b=>{const{errors:$}=b;$&&!(0,G.Im)($)&&(c=!1)}),c}parseSaveResponse(o,c,b,$,ue=!0,Me=!0){const it=[];return(0,G.hj)(c)&&(ue&&this.notificationsService.success(null,this.translate.get("submission.sections.general.save_success_notice")),c.forEach(Bt=>{let yn=Object.create({});const{errors:cn}=Bt;cn&&!(0,G.Im)(cn)&&(yn=(0,SO.A)(cn),ue&&this.notificationsService.warning(null,this.translate.get("submission.sections.general.sections_not_valid")));const ts=Bt.sections&&(0,G.hj)(Bt.sections)?Bt.sections:{},vs=Um()(Object.keys(ts),Object.keys(yn));for(const ls of vs){const Xs=yn[ls]||[],Gi=ts[ls]||{};if(o.sections[ls].sectionType===Dl.l.Upload&&(0,G.Im)(Gi.files)&&!o.sections[ls].enabled)continue;ue&&!o.sections[ls].enabled&&this.submissionService.notifyNewSection(b,ls,o.sections[ls].sectionType);const Mo=Hp(Ev($,o,ls),Xs,o.sections[ls].sectionType,Me);it.push(new Cn.dm(b,ls,Gi,Mo,Xs))}const Hn=Wp()(o.sections,ls=>ls.sectionType===Dl.l.SherpaPolicies);if((0,G.EA)(Hn)&&(0,G.hj)(o.sections[Hn]?.data)&&(0,G.Im)(ts[Hn])&&it.push(new Cn.dm(b,Hn,null,[],[])),!Tl()){const ls=Wp()(o.sections,Xs=>Xs.sectionType===Dl.l.Duplicates);(0,G.EA)(ls)&&ts.hasOwnProperty(ls)&&(0,G.Im)(ts[ls].potentialDuplicates)&&it.push(new Cn.CG(b))}})),it}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(Es.I),e.KVO(_v.U),e.KVO(km.c),e.KVO(E.il),e.KVO(Kp.E),e.KVO(iv.$),e.KVO(K.c$),e.KVO(vv.WorkspaceitemDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();function Ev(d,y,o){return d?d[y.sections[o].formId]:null}function Hp(d,y,o,c){if(c||o!==Dl.l.SubmissionForm.valueOf())return y;if(!d||!d.touched)return[];const b=[];return y.forEach($=>{(0,Va.A)($.path).forEach(Me=>{Me.fieldId&&d.touched[Me.fieldId]&&b.push($)})}),b}function Tl(){return A.c.submission.duplicateDetection.alwaysShowSection}const Vm=[yv];var Wc=n(83678);const lu=()=>(0,e.EmA)([(0,e.oKB)(E.md.forFeature("submission",Wc.u,Uc.wP),pr.forFeature(Vm))]);var Cv=n(24215);let dh=(()=>{class d{constructor(o){this.http=o,this.baseUrl=`${vl.$}/server/api/discover/search/objects`}getSearchResults(o,c,b,$="dc.title",ue="ASC",Me=10){let it=(new le.Nl).set("sort",`${$},${ue}`).set("size",Me.toString());return o&&(it=it.set("f.title",`${o},equals`)),c&&(it=it.set("f.dc_case_type",`${c},equals`)),b&&(it=it.set("f.dc_case_year",`${b},equals`)),this.http.get(this.baseUrl,{params:it})}getSearchResultsWithFilters(o){let c;return o instanceof le.Nl?c=o:(c=new le.Nl,Object.keys(o).forEach(b=>{c=c.append(b,o[b])})),this.http.get(this.baseUrl,{params:c})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),n1=(()=>{class d{constructor(o){this.http=o,this.baseUrl=`${vl.$}/server/api/discover/facets`}getCaseTypeFacets(){return this.http.get(`${this.baseUrl}/dc_case_type?size=1000`)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();const Kc=d=>["/items",d];function s1(d,y){if(1&d&&(e.j41(0,"option",31),e.EFF(1),e.k0s()),2&d){const o=y.$implicit;e.Y8G("value",o),e.R7$(),e.JRh(o)}}function bv(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",36)(2,"a",37),e.EFF(3),e.k0s()(),e.j41(4,"td",36)(5,"a",37),e.EFF(6),e.k0s()(),e.j41(7,"td",36)(8,"a",37),e.EFF(9),e.k0s()(),e.j41(10,"td",36)(11,"a",37),e.EFF(12),e.k0s()(),e.j41(13,"td",36)(14,"a",37),e.EFF(15),e.k0s()(),e.j41(16,"td",36)(17,"a",37),e.EFF(18),e.k0s()(),e.j41(19,"td",36)(20,"a",37),e.EFF(21),e.k0s()(),e.j41(22,"td",36)(23,"a",37),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,Kc,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,Kc,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,Kc,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,Kc,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,Kc,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,Kc,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,Kc,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,Kc,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function o1(d,y){if(1&d&&(e.qex(0),e.DNE(1,bv,25,32,"tr",35),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("ngForOf",o)}}let Gm=(()=>{class d{constructor(o,c){this.searchPageService=o,this.facetsService=c,this.caseListSubject=new _.t([]),this.caseList$=this.caseListSubject.asObservable(),this.caseNumber="",this.caseType="",this.caseYear="",this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10,this.caseTypeOptions=[]}ngOnInit(){this.fetchCases(),this.loadCaseTypeOptions()}fetchCases(){this.searchPageService.getSearchResults(this.caseNumber,this.caseType,this.caseYear,this.sortBy,this.sortOrder,this.resultsPerPage).subscribe(o=>{console.log("\u{1f539} API Response:",o),this.loadCases(o)},o=>{console.error("\u274c Error fetching cases:",o)})}loadCases(o){const b=(o?._embedded?.searchResult?._embedded?.objects||[]).map($=>{const ue=$?._embedded?.indexableObject;return{uuid:ue?.uuid,metadata:ue?.metadata}}).filter($=>$.uuid&&$.metadata?.["dc.casetype"]?.[0]?.value);console.log("\u2705 Processed Case List:",b),this.caseListSubject.next(b)}loadCaseTypeOptions(){this.facetsService.getCaseTypeFacets().subscribe(o=>{this.caseTypeOptions=o?._embedded?.values?.map(c=>c.label)||[],console.log("\u{1f4cc} Loaded Case Type Options:",this.caseTypeOptions)},o=>{console.error("\u274c Failed to load case type facets:",o)})}searchCases(){this.fetchCases()}resetForm(){this.caseNumber="",this.caseType="",this.caseYear="",this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10,this.fetchCases()}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(dh),e.rXU(n1))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-search-page"]],decls:94,vars:15,consts:[[1,"case-search-container"],[1,"search-fields"],[1,"field-group"],["for","caseNumber"],["id","caseType","name","caseType",1,"field-group",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","id","caseNumber","name","caseNumber",3,"ngModelChange","ngModel"],["for","caseYear"],["type","text","id","caseYear","name","caseYear",3,"ngModelChange","ngModel"],[1,"button-group"],["type","button",1,"search-btn",3,"click"],["type","button",1,"reset-btn",3,"click"],[1,"settings-section"],[1,"settings-controls"],[1,"setting-group"],["for","sortBy"],["id","sortBy","name","sortBy",3,"ngModelChange","ngModel"],["value","dc.title"],["value","dc.casetype"],["value","dc.caseyear"],["value","dc.pname"],["value","dc.rname"],["value","dc.paname"],["value","dc.raname"],["for","sortOrder"],["id","sortOrder","name","sortOrder",3,"ngModelChange","ngModel"],["value","ASC"],["value","DESC"],["for","resultsPerPage"],["id","resultsPerPage","name","resultsPerPage",3,"ngModelChange","ngModel"],[3,"value"],[1,"search-results"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"case-result-text"],[1,"case-link",3,"routerLink"]],template:function(c,b){1&c&&(e.j41(0,"div",0)(1,"h1"),e.EFF(2,"By Case Type / Number / Year"),e.k0s(),e.j41(3,"form")(4,"div",1)(5,"div",2)(6,"label",3),e.EFF(7,"Case Type"),e.k0s(),e.j41(8,"select",4),e.mxI("ngModelChange",function(ue){return e.DH7(b.caseType,ue)||(b.caseType=ue),ue}),e.j41(9,"option",5),e.EFF(10,"-- Select Case Type --"),e.k0s(),e.DNE(11,s1,2,2,"option",6),e.k0s()(),e.j41(12,"div",2)(13,"label",3),e.EFF(14,"Case Number"),e.k0s(),e.j41(15,"input",7),e.mxI("ngModelChange",function(ue){return e.DH7(b.caseNumber,ue)||(b.caseNumber=ue),ue}),e.k0s()(),e.j41(16,"div",2)(17,"label",8),e.EFF(18,"Case Year"),e.k0s(),e.j41(19,"input",9),e.mxI("ngModelChange",function(ue){return e.DH7(b.caseYear,ue)||(b.caseYear=ue),ue}),e.k0s()(),e.j41(20,"div",10)(21,"button",11),e.bIt("click",function(){return b.searchCases()}),e.EFF(22,"Search"),e.k0s(),e.j41(23,"button",12),e.bIt("click",function(){return b.resetForm()}),e.EFF(24,"Reset"),e.k0s()()()(),e.j41(25,"div",13)(26,"h2"),e.EFF(27,"Settings"),e.k0s(),e.j41(28,"div",14)(29,"div",15)(30,"label",16),e.EFF(31,"Sort By"),e.k0s(),e.j41(32,"select",17),e.mxI("ngModelChange",function(ue){return e.DH7(b.sortBy,ue)||(b.sortBy=ue),ue}),e.j41(33,"option",18),e.EFF(34,"Case Number"),e.k0s(),e.j41(35,"option",19),e.EFF(36,"Case Type"),e.k0s(),e.j41(37,"option",20),e.EFF(38,"Case Year"),e.k0s(),e.j41(39,"option",21),e.EFF(40,"First Petitioner"),e.k0s(),e.j41(41,"option",22),e.EFF(42,"First Respondent"),e.k0s(),e.j41(43,"option",23),e.EFF(44,"Petitioner's Advocate Name"),e.k0s(),e.j41(45,"option",24),e.EFF(46,"Respondent's Advocate Name"),e.k0s()()(),e.j41(47,"div",15)(48,"label",25),e.EFF(49,"Sort Order"),e.k0s(),e.j41(50,"select",26),e.mxI("ngModelChange",function(ue){return e.DH7(b.sortOrder,ue)||(b.sortOrder=ue),ue}),e.j41(51,"option",27),e.EFF(52,"Ascending"),e.k0s(),e.j41(53,"option",28),e.EFF(54,"Descending"),e.k0s()()(),e.j41(55,"div",15)(56,"label",29),e.EFF(57,"Results per page"),e.k0s(),e.j41(58,"select",30),e.mxI("ngModelChange",function(ue){return e.DH7(b.resultsPerPage,ue)||(b.resultsPerPage=ue),ue}),e.j41(59,"option",31),e.EFF(60,"5"),e.k0s(),e.j41(61,"option",31),e.EFF(62,"10"),e.k0s(),e.j41(63,"option",31),e.EFF(64,"25"),e.k0s(),e.j41(65,"option",31),e.EFF(66,"50"),e.k0s(),e.j41(67,"option",31),e.EFF(68,"100"),e.k0s()()()()(),e.j41(69,"div",32)(70,"h2"),e.EFF(71,"Search Results"),e.k0s(),e.j41(72,"table",33)(73,"thead")(74,"tr")(75,"th"),e.EFF(76,"CASE TYPE"),e.k0s(),e.j41(77,"th"),e.EFF(78,"CASE NUMBER"),e.k0s(),e.j41(79,"th"),e.EFF(80,"CASE YEAR"),e.k0s(),e.j41(81,"th"),e.EFF(82,"DISTRICT"),e.k0s(),e.j41(83,"th"),e.EFF(84,"JUDGE NAME"),e.k0s(),e.j41(85,"th"),e.EFF(86,"FIRST PETITIONER"),e.k0s(),e.j41(87,"th"),e.EFF(88,"FIRST RESPONDENT"),e.k0s(),e.j41(89,"th"),e.EFF(90,"Disposal Date"),e.k0s()()(),e.j41(91,"tbody"),e.DNE(92,o1,2,1,"ng-container",34),e.nI1(93,"async"),e.k0s()()()()),2&c&&(e.R7$(8),e.R50("ngModel",b.caseType),e.R7$(3),e.Y8G("ngForOf",b.caseTypeOptions),e.R7$(4),e.R50("ngModel",b.caseNumber),e.R7$(4),e.R50("ngModel",b.caseYear),e.R7$(13),e.R50("ngModel",b.sortBy),e.R7$(18),e.R50("ngModel",b.sortOrder),e.R7$(8),e.R50("ngModel",b.resultsPerPage),e.R7$(),e.Y8G("value",5),e.R7$(2),e.Y8G("value",10),e.R7$(2),e.Y8G("value",25),e.R7$(2),e.Y8G("value",50),e.R7$(2),e.Y8G("value",100),e.R7$(25),e.Y8G("ngIf",e.bMT(93,13,b.caseList$)))},dependencies:[f.Sq,f.bT,rn.qT,rn.xH,rn.y7,rn.me,rn.wz,rn.BC,rn.cb,rn.vS,rn.cV,v.Wk,f.Jj],styles:[".case-search-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;font-family:Arial,sans-serif;color:#333}h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem;color:#333;font-weight:400}h2[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem;color:#333;font-weight:400}.search-fields[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px;align-items:flex-end}.field-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-width:150px}label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:5px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:2px}.button-group[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:flex-end}button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:2px;cursor:pointer;font-weight:700}.search-btn[_ngcontent-%COMP%]{background-color:#465362;color:#fff}.reset-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.settings-section[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:15px;margin-bottom:20px;border-radius:2px}.settings-controls[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.setting-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:150px}.search-results[_ngcontent-%COMP%]{margin-top:20px}.no-results[_ngcontent-%COMP%]{color:#666;font-style:italic}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}li[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #eee}@media (max-width: 768px){.search-fields[_ngcontent-%COMP%], .settings-controls[_ngcontent-%COMP%]{flex-direction:column}.field-group[_ngcontent-%COMP%], .setting-group[_ngcontent-%COMP%]{width:100%}}.search-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:1200px;margin:0 auto;padding:20px}.search-form[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:20px;border-radius:5px;margin-bottom:20px}.search-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-weight:700}.form-actions[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{background-color:#06c;color:#fff}.form-actions[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:hover{background-color:#05a}.form-actions[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]{background-color:#f0f0f0;color:#333}.form-actions[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.search-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:15px;color:#333}.search-results[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%], .search-results[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{padding:20px;text-align:center;background-color:#f9f9f9;border-radius:5px}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #ddd;color:#333}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#06c;text-decoration:none}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){table[_ngcontent-%COMP%]{display:block;overflow-x:auto}}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333!important}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#06c!important}.case-list[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.case-item[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px;border-radius:8px;margin-bottom:10px;box-shadow:0 2px 4px #0000001a}.case-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:8px;color:#333}.case-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.case-link[_ngcontent-%COMP%]{color:#337ab7;text-decoration:none}.case-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.case-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}"]})}}return d})(),Hc=(()=>{class d{constructor(o){this.http=o}searchPetitioners(o,c=0,b=20){return this.http.get(`${vl.$}/server/api/discover/browses/dc_party_firstpetitioner/entries?sort=default,ASC&page=${c}&size=${b}&startsWith=${o}`)}searchRespondents(o,c=0,b=20){return this.http.get(`${vl.$}/server/api/discover/browses/dc_party_firstrespondent/entries?sort=default,ASC&page=${c}&size=${b}&startsWith=${o}`)}searchCombined(o,c,b=0,$=10,ue="dc.title",Me="ASC",it){const Bt=encodeURIComponent(`${ue},${Me}`);let yn=`${vl.$}/server/api/discover/search/objects?sort=${Bt}&page=${b}&size=${$}`;return o&&(yn+=`&f.dc_party_firstpetitioner=${encodeURIComponent(o)},equals`),c&&(yn+=`&f.dc_party_firstrespondent=${encodeURIComponent(c)},equals`),console.log("Combined Search URL:",yn),this.http.get(yn)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();const ua=d=>["/items",d];function $m(d,y){if(1&d){const o=e.RV6();e.j41(0,"li",43),e.bIt("mousedown",function(){const b=e.eBV(o).$implicit,$=e.XpG(3);return e.Njj($.selectPetitioner(b.value))}),e.EFF(1),e.k0s()}if(2&d){const o=y.$implicit;e.R7$(),e.SpI(" ",o.value," ")}}function r1(d,y){if(1&d&&(e.j41(0,"ul",41),e.DNE(1,$m,2,1,"li",42),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("ngForOf",o.petitionerResults)}}function Wm(d,y){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"input",39),e.bIt("input",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.searchPetitioner())}),e.k0s(),e.DNE(2,r1,2,1,"ul",40),e.k0s()}if(2&d){const o=e.XpG();e.R7$(2),e.Y8G("ngIf",o.petitionerResults.length)}}function Wl(d,y){if(1&d){const o=e.RV6();e.j41(0,"li",43),e.bIt("mousedown",function(){const b=e.eBV(o).$implicit,$=e.XpG(3);return e.Njj($.selectRespondent(b.value))}),e.EFF(1),e.k0s()}if(2&d){const o=y.$implicit;e.R7$(),e.SpI(" ",o.value," ")}}function a1(d,y){if(1&d&&(e.j41(0,"ul",41),e.DNE(1,Wl,2,1,"li",42),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("ngForOf",o.respondentResults)}}function zp(d,y){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"input",44),e.bIt("input",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.searchRespondent())}),e.k0s(),e.DNE(2,a1,2,1,"ul",40),e.k0s()}if(2&d){const o=e.XpG();e.R7$(2),e.Y8G("ngIf",o.respondentResults.length)}}function uh(d,y){1&d&&(e.j41(0,"div")(1,"p"),e.EFF(2,"No cases found for the given criteria."),e.k0s()())}function l1(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",46)(2,"a",47),e.EFF(3),e.k0s()(),e.j41(4,"td",46)(5,"a",47),e.EFF(6),e.k0s()(),e.j41(7,"td",46)(8,"a",47),e.EFF(9),e.k0s()(),e.j41(10,"td",46)(11,"a",47),e.EFF(12),e.k0s()(),e.j41(13,"td",46)(14,"a",47),e.EFF(15),e.k0s()(),e.j41(16,"td",46)(17,"a",47),e.EFF(18),e.k0s()(),e.j41(19,"td",46)(20,"a",47),e.EFF(21),e.k0s()(),e.j41(22,"td",46)(23,"a",47),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,ua,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,ua,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,ua,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,ua,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,ua,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,ua,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,ua,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,ua,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function Yp(d,y){if(1&d&&(e.qex(0),e.DNE(1,l1,25,32,"tr",45),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("ngForOf",o)}}function Km(d,y){if(1&d&&(e.j41(0,"div",48),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.SpI(" ",o.errorMessage," ")}}function hh(d,y){1&d&&(e.j41(0,"div",49)(1,"div",50)(2,"span",51),e.EFF(3,"Loading..."),e.k0s()()())}let N=(()=>{class d{constructor(o,c){this.fb=o,this.searchService=c,this.isLoading=!1,this.errorMessage="",this.results=[],this.page=0,this.size=10,this.sortBy="dc.title",this.sortOrder="ASC",this.totalPages=0,this.resultsPerPage=10,this.petitionerResults=[],this.respondentResults=[],this.activeField=null,this.caseListSubject=new _.t([]),this.caseList$=this.caseListSubject.asObservable(),this.showPetitionerInput=!1,this.showRespondentInput=!1,this.searchForm=this.fb.group({petitionerName:[""],respondentName:[""]})}ngOnInit(){this.fetchCases()}togglePetitionerInput(){this.showPetitionerInput=!this.showPetitionerInput,this.activeField=this.showPetitionerInput?"petitioner":null,this.showPetitionerInput||this.searchForm.get("petitionerName")?.reset()}toggleRespondentInput(){this.showRespondentInput=!this.showRespondentInput,this.activeField=this.showRespondentInput?"respondent":null,this.showRespondentInput||this.searchForm.get("respondentName")?.reset()}searchPetitioner(){const o=this.searchForm.value.petitionerName?.trim();o?(this.isLoading=!0,this.searchService.searchPetitioners(o,0,20).subscribe(c=>{this.isLoading=!1,this.petitionerResults=c._embedded?.entries||[]},c=>{this.isLoading=!1,this.errorMessage="Error fetching petitioner data"})):this.petitionerResults=[]}searchRespondent(){const o=this.searchForm.value.respondentName?.trim();o?(this.isLoading=!0,this.searchService.searchRespondents(o,0,20).subscribe(c=>{this.isLoading=!1,this.respondentResults=c._embedded?.entries||[]},c=>{this.isLoading=!1,this.errorMessage="Error fetching respondent data"})):this.respondentResults=[]}fetchCases(){const o=this.searchForm.value.petitionerName?.trim()||"",c=this.searchForm.value.respondentName?.trim()||"";this.searchService.searchCombined(o,c,this.page,this.size,this.sortBy,this.sortOrder,this.resultsPerPage).subscribe(b=>{this.isLoading=!1,this.totalPages=b?.page?.totalPages||0,this.loadCases(b)},b=>{this.isLoading=!1,this.errorMessage="Error fetching combined search results",console.error(b)})}loadCases(o){const b=(o?._embedded?.searchResult?._embedded?.objects||[]).map($=>{const ue=$?._embedded?.indexableObject;return{uuid:ue?.uuid,metadata:ue?.metadata}}).filter($=>$.uuid&&$.metadata?.["dc.casetype"]?.[0]?.value);console.log("\u2705 Processed Case List:",b),this.caseListSubject.next(b)}selectPetitioner(o){this.searchForm.patchValue({petitionerName:o}),this.petitionerResults=[]}selectRespondent(o){this.searchForm.patchValue({respondentName:o}),this.respondentResults=[]}onCombinedSearchClick(){this.page=0,this.fetchCases()}onCombinedSearchClick1(){this.page=0,this.fetchCases()}selectSuggestion(o){"petitioner"===this.activeField?this.selectPetitioner(o):"respondent"===this.activeField&&this.selectRespondent(o)}onSortChange(o){this.sortBy=o,this.page=0,this.fetchCases()}onSortOrderChange(o){this.sortOrder=o,this.page=0,this.fetchCases()}onPageChange(o){this.page+=o,this.page<0&&(this.page=0),this.page>=this.totalPages&&(this.page=this.totalPages-1),this.fetchCases()}clearSearch(){this.searchForm.reset(),this.showPetitionerInput=!1,this.showRespondentInput=!1,this.results=[],this.caseListSubject.next([]),this.activeField=null}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(rn.ok),e.rXU(Hc))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-petitioner-respondent-search"]],decls:98,vars:16,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"mb-4"],[1,"mb-4",3,"formGroup"],[1,"col-md-6","mb-3","position-relative"],[1,"form-label"],["type","button",1,"btn","btn-sm","ms-2",3,"click","ngClass"],[4,"ngIf"],[1,"row","mb-3"],[1,"col-md-3"],["for","sortBy"],["id","sortBy",1,"form-select",3,"change"],["value","dc.title"],["value","dc.casetype"],["value","dc.caseyear"],["value","dc.pname"],["value","dc.rname"],["value","dc.paname"],["value","dc.raname"],["for","sortOrder"],["id","sortOrder",1,"form-select",3,"change"],["value","ASC"],["value","DESC"],["id","resultsPerPage",1,"form-select",3,"ngModelChange","change","ngModel"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"row","mt-3"],[1,"col-12","d-flex","justify-content-start"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"search-results","mt-4"],[1,"table-responsive"],[1,"table"],["class","alert alert-danger",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],["type","text","formControlName","petitionerName","placeholder","Enter Petitioner Name",1,"form-control",3,"input"],["class","suggestion-dropdown",4,"ngIf"],[1,"suggestion-dropdown"],[3,"mousedown",4,"ngFor","ngForOf"],[3,"mousedown"],["type","text","formControlName","respondentName","placeholder","Enter Respondent Name",1,"form-control",3,"input"],[4,"ngFor","ngForOf"],[1,"case-result-text"],[1,"case-link",3,"routerLink"],[1,"alert","alert-danger"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(c,b){if(1&c&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e.EFF(4,"By Petitioner / Respondent"),e.k0s(),e.j41(5,"form",4)(6,"div",1)(7,"div",5)(8,"label",6),e.EFF(9,"Petitioner Name "),e.j41(10,"button",7),e.bIt("click",function(){return b.togglePetitionerInput()}),e.EFF(11),e.k0s()(),e.DNE(12,Wm,3,1,"div",8),e.k0s(),e.j41(13,"div",5)(14,"label",6),e.EFF(15,"Respondent Name "),e.j41(16,"button",7),e.bIt("click",function(){return b.toggleRespondentInput()}),e.EFF(17),e.k0s()(),e.DNE(18,zp,3,1,"div",8),e.k0s()(),e.j41(19,"div",9)(20,"div",10)(21,"label",11),e.EFF(22,"Sort By:"),e.k0s(),e.j41(23,"select",12),e.bIt("change",function(ue){return b.onSortChange(ue.target.value)}),e.j41(24,"option",13),e.EFF(25,"Case Number"),e.k0s(),e.j41(26,"option",14),e.EFF(27,"Case Type"),e.k0s(),e.j41(28,"option",15),e.EFF(29,"Case Year"),e.k0s(),e.j41(30,"option",16),e.EFF(31,"First Petitioner"),e.k0s(),e.j41(32,"option",17),e.EFF(33,"First Respondent"),e.k0s(),e.j41(34,"option",18),e.EFF(35,"Petitioner's Advocate Name"),e.k0s(),e.j41(36,"option",19),e.EFF(37,"Respondent's Advocate Name"),e.k0s()()(),e.j41(38,"div",10)(39,"label",20),e.EFF(40,"Sort Order:"),e.k0s(),e.j41(41,"select",21),e.bIt("change",function(ue){return b.onSortOrderChange(ue.target.value)}),e.j41(42,"option",22),e.EFF(43,"Ascending"),e.k0s(),e.j41(44,"option",23),e.EFF(45,"Descending"),e.k0s()()(),e.j41(46,"div",10)(47,"label",20),e.EFF(48,"Results per page"),e.k0s(),e.j41(49,"select",24),e.mxI("ngModelChange",function(ue){return e.DH7(b.resultsPerPage,ue)||(b.resultsPerPage=ue),ue}),e.bIt("change",function(){return b.onCombinedSearchClick()}),e.j41(50,"option",25),e.EFF(51,"5"),e.k0s(),e.j41(52,"option",26),e.EFF(53,"10"),e.k0s(),e.j41(54,"option",27),e.EFF(55,"20"),e.k0s(),e.j41(56,"option",28),e.EFF(57,"50"),e.k0s(),e.j41(58,"option",29),e.EFF(59,"100"),e.k0s()()()(),e.j41(60,"div",30)(61,"div",31)(62,"button",32),e.bIt("click",function(){return b.onCombinedSearchClick1()}),e.EFF(63," Search "),e.k0s()()(),e.j41(64,"div",30)(65,"div",2)(66,"button",33),e.bIt("click",function(){return b.clearSearch()}),e.EFF(67,"Clear"),e.k0s()()()(),e.DNE(68,uh,3,0,"div",8),e.nI1(69,"async"),e.j41(70,"div",34)(71,"h3"),e.EFF(72,"Search Results"),e.k0s(),e.j41(73,"div",35)(74,"table",36)(75,"thead")(76,"tr")(77,"th"),e.EFF(78,"CASE TYPE"),e.k0s(),e.j41(79,"th"),e.EFF(80,"CASE NUMBER"),e.k0s(),e.j41(81,"th"),e.EFF(82,"CASE YEAR"),e.k0s(),e.j41(83,"th"),e.EFF(84,"DISTRICT"),e.k0s(),e.j41(85,"th"),e.EFF(86,"JUDGE NAME"),e.k0s(),e.j41(87,"th"),e.EFF(88,"FIRST PETITIONER"),e.k0s(),e.j41(89,"th"),e.EFF(90,"FIRST RESPONDENT"),e.k0s(),e.j41(91,"th"),e.EFF(92,"Disposal Date"),e.k0s()()(),e.j41(93,"tbody"),e.DNE(94,Yp,2,1,"ng-container",8),e.nI1(95,"async"),e.k0s()()()(),e.DNE(96,Km,2,1,"div",37)(97,hh,4,0,"div",38),e.k0s()()()),2&c){let $;e.R7$(5),e.Y8G("formGroup",b.searchForm),e.R7$(5),e.Y8G("ngClass",b.showPetitionerInput?"btn-danger":"btn-success"),e.R7$(),e.SpI(" ",b.showPetitionerInput?"-":"+"," "),e.R7$(),e.Y8G("ngIf",b.showPetitionerInput),e.R7$(4),e.Y8G("ngClass",b.showRespondentInput?"btn-danger":"btn-success"),e.R7$(),e.SpI(" ",b.showRespondentInput?"-":"+"," "),e.R7$(),e.Y8G("ngIf",b.showRespondentInput),e.R7$(31),e.R50("ngModel",b.resultsPerPage),e.R7$(19),e.Y8G("ngIf",0===(null==($=e.bMT(69,12,b.caseListSubject))?null:$.length)&&!b.isLoading&&!b.errorMessage),e.R7$(26),e.Y8G("ngIf",e.bMT(95,14,b.caseList$)),e.R7$(2),e.Y8G("ngIf",b.errorMessage),e.R7$(),e.Y8G("ngIf",b.isLoading)}},dependencies:[f.YU,f.Sq,f.bT,rn.qT,rn.xH,rn.y7,rn.me,rn.wz,rn.BC,rn.cb,rn.vS,rn.j4,rn.JD,v.Wk,f.Jj],styles:["[_nghost-%COMP%]{display:block;margin:2rem 0}.search-results[_ngcontent-%COMP%]{margin-top:2rem}.dropdown-menu[_ngcontent-%COMP%]{width:100%;max-height:300px;overflow-y:auto}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-wrap:break-word}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}li[_ngcontent-%COMP%]{background:#f4f4f4;margin:5px 0;padding:10px;border-radius:5px}a[_ngcontent-%COMP%]{text-decoration:none;color:#00f;margin-left:10px}.case-link[_ngcontent-%COMP%]{color:#337ab7;text-decoration:none}.case-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.zindex-dropdown[_ngcontent-%COMP%]{z-index:1000}.position-relative[_ngcontent-%COMP%]{position:relative}.suggestion-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 4px);left:2;z-index:1050;width:96%;max-height:200px;overflow-y:auto;background-color:#fff;border:1px solid #d3d3d3;border-top:none;box-shadow:0 4px 12px #00000026;border-radius:4px;cursor:pointer}input.form-control[_ngcontent-%COMP%]{border:1px solid #ced4da!important}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700;background-color:#f8f9fa}"]})}}return d})(),X=(()=>{class d{constructor(o){this.http=o,this.baseUrl=`${vl.$}/server/api/discover/search/objects`}getDateSearchResults(o,c,b="dc.title",$="ASC",ue=10){let Me=(new le.Nl).set("sort",`${b},${$}`).set("size",ue.toString());return o&&c&&(Me=Me.set("f.dateIssued",`[${o}T00:00:00Z TO ${c}T00:00:00Z],equals`)),this.http.get(this.baseUrl,{params:Me})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();const S=d=>["/items",d];function V(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",43)(2,"a",44),e.EFF(3),e.k0s()(),e.j41(4,"td",43)(5,"a",44),e.EFF(6),e.k0s()(),e.j41(7,"td",43)(8,"a",44),e.EFF(9),e.k0s()(),e.j41(10,"td",43)(11,"a",44),e.EFF(12),e.k0s()(),e.j41(13,"td",43)(14,"a",44),e.EFF(15),e.k0s()(),e.j41(16,"td",43)(17,"a",44),e.EFF(18),e.k0s()(),e.j41(19,"td",43)(20,"a",44),e.EFF(21),e.k0s()(),e.j41(22,"td",43)(23,"a",44),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,S,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,S,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,S,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,S,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,S,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,S,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,S,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,S,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function ge(d,y){if(1&d&&(e.qex(0),e.DNE(1,V,25,32,"tr",42),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("ngForOf",o)}}let Ae=(()=>{class d{constructor(o){this.searchPageService=o,this.caseListSubject=new _.t([]),this.caseList$=this.caseListSubject.asObservable(),this.caseNumber="",this.caseType="",this.caseYear="",this.startDate="",this.endDate="",this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10}ngOnInit(){this.fetchCases()}fetchCases(){this.searchPageService.getDateSearchResults(this.startDate,this.endDate,this.sortBy,this.sortOrder,this.resultsPerPage).subscribe(o=>{console.log(o),this.loadCases(o)})}loadCases(o){const b=(o?._embedded?.searchResult?._embedded?.objects||[]).map($=>{const ue=$?._embedded?.indexableObject;return{uuid:ue?.uuid,metadata:ue?.metadata}}).filter($=>$.uuid&&$.metadata?.["dc.casetype"]?.[0]?.value);console.log("\u2705 Processed Case List:",b),this.caseListSubject.next(b)}onSortChange(o){this.sortBy=o,this.page=0,this.fetchCases()}onSortOrderChange(o){this.sortOrder="descending"===o?"DESC":"ASC",this.page=0,this.fetchCases()}onResultsPerPageChange(o){this.resultsPerPage=+o,this.page=0,this.fetchCases()}onDateChange(){this.fetchCases()}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(X))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-search-page"]],decls:88,vars:7,consts:[[1,"container"],[1,"heading"],[1,"divider"],[1,"date-filter-container"],[1,"date-label"],[1,"date-range"],[1,"date-input-container"],["for","startDate"],[1,"date-input-wrapper"],["type","date","id","startDate","placeholder","mm/dd/yyyy",3,"ngModelChange","change","ngModel"],[1,"date-separator"],["for","endDate"],["type","date","id","endDate","placeholder","mm/dd/yyyy",3,"ngModelChange","change","ngModel"],[1,"search-container"],[1,"search-controls"],[1,"col-md-3"],["for","sortBy"],["id","sortBy",1,"form-select",3,"change"],["value","dc.title"],["value","dc.casetype"],["value","dc.caseyear"],["value","dc.pname"],["value","dc.rname"],["value","dc.paname"],["value","dc.raname"],[1,"sort-container"],["for","sortOrder"],["id","sortOrder",1,"form-select",3,"ngModelChange","change","ngModel"],["value","ASC"],["value","DESC"],[1,"results-container"],["for","resultsPerPage"],["id","resultsPerPage",1,"form-select",3,"ngModelChange","change","ngModel"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"search-results"],[1,"showing-results"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"case-result-text"],[1,"case-link",3,"routerLink"]],template:function(c,b){1&c&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"By Judgement Date"),e.k0s(),e.nrm(3,"hr",2),e.j41(4,"div",3)(5,"div",4),e.EFF(6,"Date of Disposal"),e.k0s(),e.j41(7,"div",5)(8,"div",6)(9,"label",7),e.EFF(10,"Start Date"),e.k0s(),e.j41(11,"div",8)(12,"input",9),e.mxI("ngModelChange",function(ue){return e.DH7(b.startDate,ue)||(b.startDate=ue),ue}),e.bIt("change",function(){return b.onDateChange()}),e.k0s()()(),e.j41(13,"div",10),e.EFF(14,"\u2014"),e.k0s(),e.j41(15,"div",6)(16,"label",11),e.EFF(17,"End Date"),e.k0s(),e.j41(18,"div",8)(19,"input",12),e.mxI("ngModelChange",function(ue){return e.DH7(b.endDate,ue)||(b.endDate=ue),ue}),e.bIt("change",function(){return b.onDateChange()}),e.k0s()()()()(),e.j41(20,"div",13)(21,"div",14)(22,"div",15)(23,"label",16),e.EFF(24,"Sort By:"),e.k0s(),e.j41(25,"select",17),e.bIt("change",function(ue){return b.onSortChange(ue.target.value)}),e.j41(26,"option",18),e.EFF(27,"Case Number"),e.k0s(),e.j41(28,"option",19),e.EFF(29,"Case Type"),e.k0s(),e.j41(30,"option",20),e.EFF(31,"Case Year"),e.k0s(),e.j41(32,"option",21),e.EFF(33,"First Petitioner"),e.k0s(),e.j41(34,"option",22),e.EFF(35,"First Respondent"),e.k0s(),e.j41(36,"option",23),e.EFF(37,"Petitioner's Advocate Name"),e.k0s(),e.j41(38,"option",24),e.EFF(39,"Respondent's Advocate Name"),e.k0s()()(),e.j41(40,"div",25)(41,"label",26),e.EFF(42,"Sort Order"),e.k0s(),e.j41(43,"select",27),e.mxI("ngModelChange",function(ue){return e.DH7(b.sortOrder,ue)||(b.sortOrder=ue),ue}),e.bIt("change",function(ue){return b.onSortOrderChange(ue.target.value)}),e.j41(44,"option",28),e.EFF(45,"Ascending"),e.k0s(),e.j41(46,"option",29),e.EFF(47,"Descending"),e.k0s()()(),e.j41(48,"div",30)(49,"label",31),e.EFF(50,"Results per page"),e.k0s(),e.j41(51,"select",32),e.mxI("ngModelChange",function(ue){return e.DH7(b.resultsPerPage,ue)||(b.resultsPerPage=ue),ue}),e.bIt("change",function(ue){return b.onResultsPerPageChange(ue.target.value)}),e.j41(52,"option",33),e.EFF(53,"5"),e.k0s(),e.j41(54,"option",34),e.EFF(55,"10"),e.k0s(),e.j41(56,"option",35),e.EFF(57,"20"),e.k0s(),e.j41(58,"option",36),e.EFF(59,"50"),e.k0s(),e.j41(60,"option",37),e.EFF(61,"100"),e.k0s()()()()(),e.j41(62,"div",38)(63,"div",39)(64,"span"),e.EFF(65,"Showing 1 - 1 of 1"),e.k0s()(),e.j41(66,"table",40)(67,"thead")(68,"tr")(69,"th"),e.EFF(70,"CASE TYPE"),e.k0s(),e.j41(71,"th"),e.EFF(72,"CASE NUMBER"),e.k0s(),e.j41(73,"th"),e.EFF(74,"CASE YEAR"),e.k0s(),e.j41(75,"th"),e.EFF(76,"DISTRICT"),e.k0s(),e.j41(77,"th"),e.EFF(78,"JUDGE NAME"),e.k0s(),e.j41(79,"th"),e.EFF(80,"FIRST PETITIONER"),e.k0s(),e.j41(81,"th"),e.EFF(82,"FIRST RESPONDENT"),e.k0s(),e.j41(83,"th"),e.EFF(84,"Disposal Date"),e.k0s()()(),e.j41(85,"tbody"),e.DNE(86,ge,2,1,"ng-container",41),e.nI1(87,"async"),e.k0s()()()()),2&c&&(e.R7$(12),e.R50("ngModel",b.startDate),e.R7$(7),e.R50("ngModel",b.endDate),e.R7$(24),e.R50("ngModel",b.sortOrder),e.R7$(8),e.R50("ngModel",b.resultsPerPage),e.R7$(35),e.Y8G("ngIf",e.bMT(87,5,b.caseList$)))},dependencies:[f.Sq,f.bT,rn.xH,rn.y7,rn.me,rn.wz,rn.BC,rn.vS,v.Wk,f.Jj],styles:[".container[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;max-width:1200px;margin:0 auto;padding:20px;color:#333}.heading[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin-bottom:10px;color:#333}.divider[_ngcontent-%COMP%]{border:none;border-top:1px solid #e0e0e0;margin:15px 0}.date-filter-container[_ngcontent-%COMP%]{margin-bottom:30px}.date-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.date-range[_ngcontent-%COMP%]{display:flex;align-items:center}.date-input-container[_ngcontent-%COMP%]{position:relative}.date-input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.85rem;margin-bottom:5px;color:#666}.date-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:150px;padding:8px 30px 8px 10px;border:1px solid #ccc;border-radius:4px;font-size:.9rem}.calendar-button[_ngcontent-%COMP%]{position:absolute;right:5px;background:none;border:none;cursor:pointer;color:#666}.date-separator[_ngcontent-%COMP%]{margin:0 15px;font-weight:500;font-size:1.2rem}.calendar-popup[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;width:280px;background:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:0 2px 10px #0000001a}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #eee;font-weight:500}.calendar-nav[_ngcontent-%COMP%]{display:flex;gap:5px}.nav-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:#666;font-size:1.2rem}.weekday-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);text-align:center;font-size:.8rem;font-weight:500;padding:10px 0;color:#666}.days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;padding:0 5px 10px}.day[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:30px;width:30px;border:none;background:none;border-radius:50%;cursor:pointer;font-size:.9rem}.day[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.day.selected[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}.prev-month[_ngcontent-%COMP%], .next-month[_ngcontent-%COMP%]{color:#ccc}.calendar-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;border-top:1px solid #eee}.clear-button[_ngcontent-%COMP%], .today-button[_ngcontent-%COMP%]{background:none;border:none;color:#1976d2;cursor:pointer;font-size:.9rem}.search-container[_ngcontent-%COMP%]{margin-bottom:30px}.search-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.search-controls[_ngcontent-%COMP%]{display:flex;gap:20px}.sort-container[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.sort-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:5px;color:#666}.sort-select[_ngcontent-%COMP%], .results-select[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #ccc;border-radius:4px;width:200px;font-size:.9rem}.showing-results[_ngcontent-%COMP%]{margin-bottom:15px;font-size:.9rem;color:#666}.results-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.results-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:12px 15px;text-align:left;font-weight:500;border-bottom:1px solid #ddd;font-size:.85rem}.results-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #eee;font-size:.9rem}.results-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.case-link[_ngcontent-%COMP%]{color:#337ab7;text-decoration:none}.case-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return d})(),Nt=(()=>{class d{constructor(o,c){this.fb=o,this.searchService=c,this.respondents=[],this.isLoading=!1,this.errorMessage="",this.paginationOptions={pageSize:20,page:0},this.showPetitionerInput=!1,this.showRespondentInput=!1,this.searchForm=this.fb.group({petitionerName:[""],respondentName:[""]})}togglePetitionerInput(){this.showPetitionerInput=!this.showPetitionerInput,this.showPetitionerInput||this.searchForm.get("petitionerName")?.reset()}toggleRespondentInput(){this.showRespondentInput=!this.showRespondentInput,this.showRespondentInput||this.searchForm.get("respondentName")?.reset()}search(){const o=this.searchForm.value.petitionerName?.trim(),c=this.searchForm.value.respondentName?.trim();o||c?(this.isLoading=!0,this.errorMessage="",this.searchService.searchRespondents(o||c,this.paginationOptions.page,this.paginationOptions.pageSize).subscribe(b=>{this.isLoading=!1,this.respondents=b._embedded?.entries||[]},b=>{this.isLoading=!1,this.errorMessage="Error fetching data",console.error("Error:",b)})):this.respondents=[]}selectPetitioner(o){this.searchForm.patchValue({petitionerName:o}),this.showPetitionerInput=!0}selectRespondent(o){this.searchForm.patchValue({respondentName:o}),this.showRespondentInput=!0}clearSearch(){this.searchForm.reset(),this.showPetitionerInput=!1,this.showRespondentInput=!1,this.respondents=[]}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(rn.ok),e.rXU(Hc))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-petitioner-respondent-search3"]],decls:69,vars:0,consts:[[1,"container"],[1,"header"],[1,"details"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],[1,"expand-section"],[1,"expand-button"],[1,"expand-icon"],[1,"files-section"],[1,"attachments"],[1,"show-attachments-button"],[1,"showing-text"],[1,"files-table"],[1,"name-column"],[1,"size-column"],[1,"format-column"],[1,"view-column"],[1,"download-column"],["href","#",1,"view-link"]],template:function(c,b){1&c&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"84"),e.k0s()(),e.j41(4,"div",2)(5,"div",3)(6,"div",4),e.EFF(7,"Disposal Date"),e.k0s(),e.j41(8,"div",5),e.EFF(9,"2018-07-21"),e.k0s()(),e.j41(10,"div",3)(11,"div",4),e.EFF(12,"Batch Number"),e.k0s(),e.j41(13,"div",5),e.EFF(14,"KNCV_0388_26095023"),e.k0s()(),e.j41(15,"div",3)(16,"div",4),e.EFF(17,"Case Number"),e.k0s(),e.j41(18,"div",5),e.EFF(19,"84"),e.k0s()()(),e.j41(20,"div",6)(21,"button",7)(22,"span",8),e.EFF(23,"\u25bc"),e.k0s(),e.EFF(24," Expand "),e.k0s()(),e.j41(25,"div",9)(26,"h2"),e.EFF(27,"Files"),e.k0s(),e.j41(28,"div",10)(29,"button",11),e.EFF(30,"Show Attachments"),e.k0s(),e.j41(31,"div",12),e.EFF(32,"Now showing 1 - 2 of 2"),e.k0s(),e.j41(33,"table",13)(34,"thead")(35,"tr")(36,"th",14),e.EFF(37,"Name:"),e.k0s(),e.j41(38,"th",15),e.EFF(39,"Size:"),e.k0s(),e.j41(40,"th",16),e.EFF(41,"Format:"),e.k0s(),e.j41(42,"th",17),e.EFF(43,"View"),e.k0s(),e.j41(44,"th",18),e.EFF(45,"Download"),e.k0s()()(),e.j41(46,"tbody")(47,"tr")(48,"td"),e.EFF(49,"10005910_84.pdf"),e.k0s(),e.j41(50,"td"),e.EFF(51,"46.39 MB"),e.k0s(),e.j41(52,"td"),e.EFF(53,"Adobe Portable Document Format"),e.k0s(),e.j41(54,"td")(55,"a",19),e.EFF(56,"View"),e.k0s()(),e.nrm(57,"td"),e.k0s(),e.j41(58,"tr")(59,"td"),e.EFF(60,"10005910_84_ADDRESS STATEMENT FIELD BY PLANTIFF.pdf"),e.k0s(),e.j41(61,"td"),e.EFF(62,"143.96 KB"),e.k0s(),e.j41(63,"td"),e.EFF(64,"Adobe Portable Document Format"),e.k0s(),e.j41(65,"td")(66,"a",19),e.EFF(67,"View"),e.k0s()(),e.nrm(68,"td"),e.k0s()()()()()())},styles:["[_nghost-%COMP%]{display:block;margin:2rem 0}.search-results[_ngcontent-%COMP%]{margin-top:2rem}.dropdown-menu[_ngcontent-%COMP%]{width:100%;max-height:300px;overflow-y:auto}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-wrap:break-word}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}li[_ngcontent-%COMP%]{background:#f4f4f4;margin:5px 0;padding:10px;border-radius:5px}a[_ngcontent-%COMP%]{text-decoration:none;color:#00f;margin-left:10px}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700;background-color:#f8f9fa}",".container[_ngcontent-%COMP%] {\n    font-family: Arial, sans-serif;\n    max-width: 800px;\n    margin: 0 auto;\n    color: #333;\n  }\n  \n  .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\n    font-size: 24px;\n    margin-bottom: 10px;\n    font-weight: normal;\n  }\n  \n  .detail-row[_ngcontent-%COMP%] {\n    display: flex;\n    border-bottom: 1px solid #f0f0f0;\n    padding: 10px 0;\n    background-color: #f9f9f9;\n  }\n  \n  .detail-label[_ngcontent-%COMP%] {\n    width: 150px;\n    padding-left: 10px;\n    color: #666;\n  }\n  \n  .detail-value[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n  \n  .expand-section[_ngcontent-%COMP%] {\n    margin: 15px 0;\n  }\n  \n  .expand-button[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n    background: none;\n    border: 1px solid #ccc;\n    padding: 5px 10px;\n    cursor: pointer;\n    font-size: 14px;\n  }\n  \n  .expand-icon[_ngcontent-%COMP%] {\n    font-size: 10px;\n    margin-right: 5px;\n  }\n  \n  .files-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\n    font-size: 16px;\n    margin: 20px 0 15px 0;\n    font-weight: normal;\n  }\n  \n  .show-attachments-button[_ngcontent-%COMP%] {\n    background-color: #5a7d8c;\n    color: white;\n    border: none;\n    padding: 8px 15px;\n    cursor: pointer;\n    font-size: 14px;\n  }\n  \n  .showing-text[_ngcontent-%COMP%] {\n    margin: 15px 0;\n    font-size: 14px;\n    color: #666;\n  }\n  \n  .files-table[_ngcontent-%COMP%] {\n    width: 100%;\n    border-collapse: collapse;\n  }\n  \n  .files-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    text-align: left;\n    font-weight: normal;\n    padding: 10px 0;\n    border-bottom: 1px solid #ddd;\n  }\n  \n  .files-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n    padding: 10px 0;\n    border-bottom: 1px solid #ddd;\n  }\n  \n  .view-link[_ngcontent-%COMP%] {\n    color: #5a7d8c;\n    text-decoration: none;\n  }\n  \n  .name-column[_ngcontent-%COMP%] {\n    width: 40%;\n  }\n  \n  .size-column[_ngcontent-%COMP%] {\n    width: 15%;\n  }\n  \n  .format-column[_ngcontent-%COMP%] {\n    width: 25%;\n  }\n  \n  .view-column[_ngcontent-%COMP%], .download-column[_ngcontent-%COMP%] {\n    width: 10%;\n  }"]})}}return d})();const qt=d=>["/items",d];function en(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",42)(2,"a",43),e.EFF(3),e.k0s()(),e.j41(4,"td",42)(5,"a",43),e.EFF(6),e.k0s()(),e.j41(7,"td",42)(8,"a",43),e.EFF(9),e.k0s()(),e.j41(10,"td",42)(11,"a",43),e.EFF(12),e.k0s()(),e.j41(13,"td",42)(14,"a",43),e.EFF(15),e.k0s()(),e.j41(16,"td",42)(17,"a",43),e.EFF(18),e.k0s()(),e.j41(19,"td",42)(20,"a",43),e.EFF(21),e.k0s()(),e.j41(22,"td",42)(23,"a",43),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,qt,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,qt,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,qt,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,qt,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,qt,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,qt,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,qt,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,qt,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function Mn(d,y){if(1&d&&(e.qex(0),e.DNE(1,en,25,32,"tr",41),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("ngForOf",o)}}let Sn=(()=>{class d{constructor(o){this.searchPageService=o,this.caseListSubject=new _.t([]),this.caseList$=this.caseListSubject.asObservable(),this.freeTextQuery="",this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10,this.startDate="",this.endDate="",this.page=0}ngOnInit(){this.freeTextQuery="*",this.fetchCases()}onSearchClick(){this.fetchCases()}onSortChange(o){this.sortBy=o,this.page=0,this.fetchCases()}fetchCases(){this.searchPageService.getDateSearchResults(this.freeTextQuery,this.startDate,this.endDate,this.sortBy,this.sortOrder,this.resultsPerPage).subscribe(o=>{this.loadCases(o)})}storeSearchTerm(){this.freeTextQuery&&"*"!==this.freeTextQuery?localStorage.setItem("pdfSearchTerm",this.freeTextQuery):localStorage.removeItem("pdfSearchTerm")}loadCases(o){const b=(o?._embedded?.searchResult?._embedded?.objects||[]).map($=>{const ue=$?._embedded?.indexableObject;return{uuid:ue?.uuid,metadata:ue?.metadata}}).filter($=>$.uuid&&$.metadata?.["dc.casetype"]?.[0]?.value);console.log("\u2705 Processed Case List:",b),this.caseListSubject.next(b)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(qi))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-search-page"]],decls:83,vars:6,consts:[[1,"container"],[1,"heading"],[1,"divider"],[1,"search-bar","mb-4"],[1,"row","align-items-center"],[1,"col-md-10"],["for","description",1,"form-label"],["type","text","id","description","name","description",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-2"],["type","button",1,"btn","btn-secondary","float-end",3,"click"],[1,"fas","fa-search"],[1,"row","mb-3"],[1,"col-md-3"],["for","sortBy"],["id","sortBy",1,"form-select",3,"change"],["value","dc.title"],["value","dc.casetype"],["value","dc.caseyear"],["value","dc.pname"],["value","dc.rname"],["value","dc.paname"],["value","dc.raname"],[1,"search-container"],[1,"search-controls"],[1,"sort-container"],["for","sortOrder"],["id","sortOrder",1,"sort-select",3,"ngModelChange","change","ngModel"],["value","ASC"],["value","DESC"],[1,"results-container"],["for","resultsPerPage"],["id","resultsPerPage",1,"results-select",3,"ngModelChange","change","ngModel"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"search-results","mt-4"],[1,"showing-results"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"case-result-text"],[1,"case-link",3,"routerLink"]],template:function(c,b){1&c&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"By free Text"),e.k0s(),e.nrm(3,"hr",2),e.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),e.EFF(8,"Description"),e.k0s(),e.j41(9,"input",7),e.mxI("ngModelChange",function(ue){return e.DH7(b.freeTextQuery,ue)||(b.freeTextQuery=ue),ue}),e.k0s()(),e.j41(10,"div",8)(11,"button",9),e.bIt("click",function(){return b.onSearchClick()}),e.nrm(12,"i",10),e.EFF(13," Search "),e.k0s()()()(),e.j41(14,"div",11)(15,"div",12)(16,"label",13),e.EFF(17,"Sort By:"),e.k0s(),e.j41(18,"select",14),e.bIt("change",function(ue){return b.onSortChange(ue.target.value)}),e.j41(19,"option",15),e.EFF(20,"Case Number"),e.k0s(),e.j41(21,"option",16),e.EFF(22,"Case Type"),e.k0s(),e.j41(23,"option",17),e.EFF(24,"Case Year"),e.k0s(),e.j41(25,"option",18),e.EFF(26,"First Petitioner"),e.k0s(),e.j41(27,"option",19),e.EFF(28,"First Respondent"),e.k0s(),e.j41(29,"option",20),e.EFF(30,"Petitioner's Advocate Name"),e.k0s(),e.j41(31,"option",21),e.EFF(32,"Respondent's Advocate Name"),e.k0s()()(),e.j41(33,"div",22)(34,"div",23)(35,"div",24)(36,"label",25),e.EFF(37,"Sort Order"),e.k0s(),e.j41(38,"select",26),e.mxI("ngModelChange",function(ue){return e.DH7(b.sortOrder,ue)||(b.sortOrder=ue),ue}),e.bIt("change",function(){return b.onSearchClick()}),e.j41(39,"option",27),e.EFF(40,"Ascending"),e.k0s(),e.j41(41,"option",28),e.EFF(42,"Descending"),e.k0s()()(),e.j41(43,"div",29)(44,"label",30),e.EFF(45,"Results per page"),e.k0s(),e.j41(46,"select",31),e.mxI("ngModelChange",function(ue){return e.DH7(b.resultsPerPage,ue)||(b.resultsPerPage=ue),ue}),e.bIt("change",function(){return b.onSearchClick()}),e.j41(47,"option",32),e.EFF(48,"5"),e.k0s(),e.j41(49,"option",33),e.EFF(50,"10"),e.k0s(),e.j41(51,"option",34),e.EFF(52,"20"),e.k0s(),e.j41(53,"option",35),e.EFF(54,"50"),e.k0s(),e.j41(55,"option",36),e.EFF(56,"100"),e.k0s()()()()(),e.j41(57,"div",37)(58,"div",38)(59,"span"),e.EFF(60,"Showing results:"),e.k0s()(),e.j41(61,"table",39)(62,"thead")(63,"tr")(64,"th"),e.EFF(65,"CASE TYPE"),e.k0s(),e.j41(66,"th"),e.EFF(67,"CASE NUMBER"),e.k0s(),e.j41(68,"th"),e.EFF(69,"CASE YEAR"),e.k0s(),e.j41(70,"th"),e.EFF(71,"DISTRICT"),e.k0s(),e.j41(72,"th"),e.EFF(73,"JUDGE NAME"),e.k0s(),e.j41(74,"th"),e.EFF(75,"FIRST PETITIONER"),e.k0s(),e.j41(76,"th"),e.EFF(77,"FIRST RESPONDENT"),e.k0s(),e.j41(78,"th"),e.EFF(79,"Disposal Date"),e.k0s()()(),e.j41(80,"tbody"),e.DNE(81,Mn,2,1,"ng-container",40),e.nI1(82,"async"),e.k0s()()()()()),2&c&&(e.R7$(9),e.R50("ngModel",b.freeTextQuery),e.R7$(29),e.R50("ngModel",b.sortOrder),e.R7$(8),e.R50("ngModel",b.resultsPerPage),e.R7$(35),e.Y8G("ngIf",e.bMT(82,4,b.caseList$)))},dependencies:[f.Sq,f.bT,rn.xH,rn.y7,rn.me,rn.wz,rn.BC,rn.vS,v.Wk,f.Jj],styles:[".container[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;max-width:1200px;margin:0 auto;padding:20px;color:#333}.heading[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin-bottom:10px;color:#333}.divider[_ngcontent-%COMP%]{border:none;border-top:1px solid #e0e0e0;margin:15px 0}.date-filter-container[_ngcontent-%COMP%]{margin-bottom:30px}.date-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.date-range[_ngcontent-%COMP%]{display:flex;align-items:center}.date-input-container[_ngcontent-%COMP%]{position:relative}.date-input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.85rem;margin-bottom:5px;color:#666}.date-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:150px;padding:8px 30px 8px 10px;border:1px solid #ccc;border-radius:4px;font-size:.9rem}.calendar-button[_ngcontent-%COMP%]{position:absolute;right:5px;background:none;border:none;cursor:pointer;color:#666}.date-separator[_ngcontent-%COMP%]{margin:0 15px;font-weight:500;font-size:1.2rem}.calendar-popup[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;width:280px;background:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:0 2px 10px #0000001a}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #eee;font-weight:500}.calendar-nav[_ngcontent-%COMP%]{display:flex;gap:5px}.nav-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:#666;font-size:1.2rem}.weekday-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);text-align:center;font-size:.8rem;font-weight:500;padding:10px 0;color:#666}.days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;padding:0 5px 10px}.day[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:30px;width:30px;border:none;background:none;border-radius:50%;cursor:pointer;font-size:.9rem}.day[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.day.selected[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}.prev-month[_ngcontent-%COMP%], .next-month[_ngcontent-%COMP%]{color:#ccc}.calendar-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;border-top:1px solid #eee}.clear-button[_ngcontent-%COMP%], .today-button[_ngcontent-%COMP%]{background:none;border:none;color:#1976d2;cursor:pointer;font-size:.9rem}.search-container[_ngcontent-%COMP%]{margin-bottom:30px}.search-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.search-controls[_ngcontent-%COMP%]{display:flex;gap:20px}.sort-container[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.sort-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:5px;color:#666}.sort-select[_ngcontent-%COMP%], .results-select[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #ccc;border-radius:4px;width:200px;font-size:.9rem}.showing-results[_ngcontent-%COMP%]{margin-bottom:15px;font-size:.9rem;color:#666}.results-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.results-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:12px 15px;text-align:left;font-weight:500;border-bottom:1px solid #ddd;font-size:.85rem}.results-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #eee;font-size:.9rem}.results-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.case-link[_ngcontent-%COMP%]{color:#337ab7;text-decoration:none}.case-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return d})();const us=d=>["/items",d];function Kn(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",42)(2,"a",43),e.EFF(3),e.k0s()(),e.j41(4,"td",42)(5,"a",43),e.EFF(6),e.k0s()(),e.j41(7,"td",42)(8,"a",43),e.EFF(9),e.k0s()(),e.j41(10,"td",42)(11,"a",43),e.EFF(12),e.k0s()(),e.j41(13,"td",42)(14,"a",43),e.EFF(15),e.k0s()(),e.j41(16,"td",42)(17,"a",43),e.EFF(18),e.k0s()(),e.j41(19,"td",42)(20,"a",43),e.EFF(21),e.k0s()(),e.j41(22,"td",42)(23,"a",43),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,us,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,us,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,us,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,us,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,us,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,us,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,us,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,us,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function Os(d,y){if(1&d&&(e.qex(0),e.DNE(1,Kn,25,32,"tr",41),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("ngForOf",o)}}let Pi=(()=>{class d{constructor(o){this.searchPageService=o,this.caseListSubject=new _.t([]),this.caseList$=this.caseListSubject.asObservable(),this.freeTextQuery="",this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10,this.startDate="",this.endDate="",this.page=0}ngOnInit(){this.freeTextQuery="*",this.fetchCases()}onSearchClick(){this.fetchCases()}onSortChange(o){this.sortBy=o,this.page=0,this.fetchCases()}fetchCases(){this.searchPageService.getDateSearchResults(this.freeTextQuery,this.startDate,this.endDate,this.sortBy,this.sortOrder,this.resultsPerPage).subscribe(o=>{this.loadCases(o)})}storeSearchTerm(){this.freeTextQuery&&"*"!==this.freeTextQuery?localStorage.setItem("pdfSearchTerm",this.freeTextQuery):localStorage.removeItem("pdfSearchTerm")}loadCases(o){const b=(o?._embedded?.searchResult?._embedded?.objects||[]).map($=>{const ue=$?._embedded?.indexableObject;return{uuid:ue?.uuid,metadata:ue?.metadata}}).filter($=>$.uuid&&$.metadata?.["dc.casetype"]?.[0]?.value);console.log("\u2705 Processed Case List:",b),this.caseListSubject.next(b)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(qi))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-search-page"]],decls:81,vars:6,consts:[[1,"container"],[1,"heading"],[1,"divider"],[1,"search-bar","mb-4"],[1,"row","align-items-center"],[1,"col-md-10"],["for","description",1,"form-label"],["type","text","id","description","name","description",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-2"],["type","button",1,"btn","btn-secondary","float-end",3,"click"],[1,"fas","fa-search"],[1,"row","mb-3"],[1,"col-md-3"],["for","sortBy"],["id","sortBy",1,"form-select",3,"change"],["value","dc.title"],["value","dc.casetype"],["value","dc.caseyear"],["value","dc.pname"],["value","dc.rname"],["value","dc.paname"],["value","dc.raname"],[1,"search-container"],[1,"search-controls"],[1,"sort-container"],["for","sortOrder"],["id","sortOrder",1,"sort-select",3,"ngModelChange","change","ngModel"],["value","ASC"],["value","DESC"],[1,"results-container"],["for","resultsPerPage"],["id","resultsPerPage",1,"results-select",3,"ngModelChange","change","ngModel"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"search-results","mt-4"],[1,"showing-results"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"case-result-text"],[1,"case-link",3,"routerLink"]],template:function(c,b){1&c&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"By Video search"),e.k0s(),e.nrm(3,"hr",2),e.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),e.EFF(8,"Description"),e.k0s(),e.j41(9,"input",7),e.mxI("ngModelChange",function(ue){return e.DH7(b.freeTextQuery,ue)||(b.freeTextQuery=ue),ue}),e.k0s()(),e.j41(10,"div",8)(11,"button",9),e.bIt("click",function(){return b.onSearchClick()}),e.nrm(12,"i",10),e.EFF(13," Search "),e.k0s()()()(),e.j41(14,"div",11)(15,"div",12)(16,"label",13),e.EFF(17,"Sort By:"),e.k0s(),e.j41(18,"select",14),e.bIt("change",function(ue){return b.onSortChange(ue.target.value)}),e.j41(19,"option",15),e.EFF(20,"Case Number"),e.k0s(),e.j41(21,"option",16),e.EFF(22,"Case Type"),e.k0s(),e.j41(23,"option",17),e.EFF(24,"Case Year"),e.k0s(),e.j41(25,"option",18),e.EFF(26,"First Petitioner"),e.k0s(),e.j41(27,"option",19),e.EFF(28,"First Respondent"),e.k0s(),e.j41(29,"option",20),e.EFF(30,"Petitioner's Advocate Name"),e.k0s(),e.j41(31,"option",21),e.EFF(32,"Respondent's Advocate Name"),e.k0s()()(),e.j41(33,"div",22)(34,"div",23)(35,"div",24)(36,"label",25),e.EFF(37,"Sort Order"),e.k0s(),e.j41(38,"select",26),e.mxI("ngModelChange",function(ue){return e.DH7(b.sortOrder,ue)||(b.sortOrder=ue),ue}),e.bIt("change",function(){return b.onSearchClick()}),e.j41(39,"option",27),e.EFF(40,"Ascending"),e.k0s(),e.j41(41,"option",28),e.EFF(42,"Descending"),e.k0s()()(),e.j41(43,"div",29)(44,"label",30),e.EFF(45,"Results per page"),e.k0s(),e.j41(46,"select",31),e.mxI("ngModelChange",function(ue){return e.DH7(b.resultsPerPage,ue)||(b.resultsPerPage=ue),ue}),e.bIt("change",function(){return b.onSearchClick()}),e.j41(47,"option",32),e.EFF(48,"5"),e.k0s(),e.j41(49,"option",33),e.EFF(50,"10"),e.k0s(),e.j41(51,"option",34),e.EFF(52,"20"),e.k0s(),e.j41(53,"option",35),e.EFF(54,"50"),e.k0s(),e.j41(55,"option",36),e.EFF(56,"100"),e.k0s()()()()(),e.j41(57,"div",37)(58,"div",38)(59,"span"),e.EFF(60,"Showing results:"),e.k0s()(),e.j41(61,"table",39)(62,"thead")(63,"tr")(64,"th"),e.EFF(65,"CASE NUMBER"),e.k0s(),e.j41(66,"th"),e.EFF(67,"CASE YEAR"),e.k0s(),e.j41(68,"th"),e.EFF(69,"CASE TYPE"),e.k0s(),e.j41(70,"th"),e.EFF(71,"DISTRICT"),e.k0s(),e.j41(72,"th"),e.EFF(73,"JUDGE NAME"),e.k0s(),e.j41(74,"th"),e.EFF(75,"FIRST PETITIONER"),e.k0s(),e.j41(76,"th"),e.EFF(77,"FIRST RESPONDENT"),e.k0s()()(),e.j41(78,"tbody"),e.DNE(79,Os,2,1,"ng-container",40),e.nI1(80,"async"),e.k0s()()()()()),2&c&&(e.R7$(9),e.R50("ngModel",b.freeTextQuery),e.R7$(29),e.R50("ngModel",b.sortOrder),e.R7$(8),e.R50("ngModel",b.resultsPerPage),e.R7$(33),e.Y8G("ngIf",e.bMT(80,4,b.caseList$)))},dependencies:[f.Sq,f.bT,rn.xH,rn.y7,rn.me,rn.wz,rn.BC,rn.vS,v.Wk,f.Jj],styles:[".container[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;max-width:1200px;margin:0 auto;padding:20px;color:#333}.heading[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin-bottom:10px;color:#333}.divider[_ngcontent-%COMP%]{border:none;border-top:1px solid #e0e0e0;margin:15px 0}.date-filter-container[_ngcontent-%COMP%]{margin-bottom:30px}.date-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.date-range[_ngcontent-%COMP%]{display:flex;align-items:center}input.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border:1px solid #ced4da!important}.date-input-container[_ngcontent-%COMP%]{position:relative}.date-input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.85rem;margin-bottom:5px;color:#666}.date-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:150px;padding:8px 30px 8px 10px;border:1px solid #ccc;border-radius:4px;font-size:.9rem}.calendar-button[_ngcontent-%COMP%]{position:absolute;right:5px;background:none;border:none;cursor:pointer;color:#666}.date-separator[_ngcontent-%COMP%]{margin:0 15px;font-weight:500;font-size:1.2rem}.calendar-popup[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;width:280px;background:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:0 2px 10px #0000001a}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #eee;font-weight:500}.calendar-nav[_ngcontent-%COMP%]{display:flex;gap:5px}.nav-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:#666;font-size:1.2rem}.weekday-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);text-align:center;font-size:.8rem;font-weight:500;padding:10px 0;color:#666}.days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;padding:0 5px 10px}.day[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:30px;width:30px;border:none;background:none;border-radius:50%;cursor:pointer;font-size:.9rem}.day[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.day.selected[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}.prev-month[_ngcontent-%COMP%], .next-month[_ngcontent-%COMP%]{color:#ccc}.calendar-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;border-top:1px solid #eee}.clear-button[_ngcontent-%COMP%], .today-button[_ngcontent-%COMP%]{background:none;border:none;color:#1976d2;cursor:pointer;font-size:.9rem}.search-container[_ngcontent-%COMP%]{margin-bottom:30px}.search-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.search-controls[_ngcontent-%COMP%]{display:flex;gap:20px}.sort-container[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.sort-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:5px;color:#666}.sort-select[_ngcontent-%COMP%], .results-select[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #ccc;border-radius:4px;width:200px;font-size:.9rem}.showing-results[_ngcontent-%COMP%]{margin-bottom:15px;font-size:.9rem;color:#666}.results-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.results-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:12px 15px;text-align:left;font-weight:500;border-bottom:1px solid #ddd;font-size:.85rem}.results-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #eee;font-size:.9rem}.results-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.case-link[_ngcontent-%COMP%]{color:#337ab7;text-decoration:none}.case-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return d})(),zs=(()=>{class d{constructor(o){this.http=o,this.baseUrl=`${vl.$}/server/api/discover/search/objects`}getSearchResults(o,c="dc.title",b="ASC",$=10){let ue=(new le.Nl).set("sort",`${c},${b}`).set("size",$.toString());return o&&(ue=ue.set("f.author",`${o},equals`)),this.http.get(this.baseUrl,{params:ue})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();const ti=d=>["/items",d];function Bi(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",31)(2,"a",32),e.EFF(3),e.k0s()(),e.j41(4,"td",31)(5,"a",32),e.EFF(6),e.k0s()(),e.j41(7,"td",31)(8,"a",32),e.EFF(9),e.k0s()(),e.j41(10,"td",31)(11,"a",32),e.EFF(12),e.k0s()(),e.j41(13,"td",31)(14,"a",32),e.EFF(15),e.k0s()(),e.j41(16,"td",31)(17,"a",32),e.EFF(18),e.k0s()(),e.j41(19,"td",31)(20,"a",32),e.EFF(21),e.k0s()(),e.j41(22,"td",31)(23,"a",32),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,ti,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,ti,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,ti,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,ti,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,ti,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,ti,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,ti,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,ti,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function Ui(d,y){if(1&d&&(e.qex(0),e.DNE(1,Bi,25,32,"tr",30),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("ngForOf",o)}}let Ao=(()=>{class d{constructor(o){this.searchPageService=o,this.caseListSubject=new _.t([]),this.caseList$=this.caseListSubject.asObservable(),this.judgeName="",this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10}ngOnInit(){this.fetchCases()}fetchCases(){this.searchPageService.getSearchResults(this.judgeName,this.sortBy,this.sortOrder,this.resultsPerPage).subscribe(o=>{console.log("\u{1f539} API Response:",o),this.loadCases(o)},o=>{console.error("\u274c Error fetching cases:",o)})}loadCases(o){const b=(o?._embedded?.searchResult?._embedded?.objects||[]).map($=>{const ue=$?._embedded?.indexableObject;return{uuid:ue?.uuid,metadata:ue?.metadata}}).filter($=>$.uuid&&$.metadata?.["dc.casetype"]?.[0]?.value);console.log("\u2705 Processed Case List:",b),this.caseListSubject.next(b)}searchCases(){this.fetchCases()}resetForm(){this.judgeName="",this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10,this.fetchCases()}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(zs))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["judge-name-page"]],decls:83,vars:12,consts:[[1,"case-search-container"],[1,"search-fields"],[1,"field-group"],["for","caseYear"],["type","text","id","judgeName","name","judgeName",3,"ngModelChange","ngModel"],[1,"button-group"],["type","button",1,"search-btn",3,"click"],["type","button",1,"reset-btn",3,"click"],[1,"settings-section"],[1,"settings-controls"],[1,"setting-group"],["for","sortBy"],["id","sortBy","name","sortBy",3,"ngModelChange","ngModel"],["value","dc.title"],["value","dc.casetype"],["value","dc.caseyear"],["value","dc.pname"],["value","dc.rname"],["value","dc.paname"],["value","dc.raname"],["for","sortOrder"],["id","sortOrder","name","sortOrder",3,"ngModelChange","ngModel"],["value","ASC"],["value","DESC"],["for","resultsPerPage"],["id","resultsPerPage","name","resultsPerPage",3,"ngModelChange","ngModel"],[3,"value"],[1,"search-results"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"case-result-text"],[1,"case-link",3,"routerLink"]],template:function(c,b){1&c&&(e.j41(0,"div",0)(1,"h1"),e.EFF(2,"By Judge Name"),e.k0s(),e.j41(3,"form")(4,"div",1)(5,"div",2)(6,"label",3),e.EFF(7,"Judge Name"),e.k0s(),e.j41(8,"input",4),e.mxI("ngModelChange",function(ue){return e.DH7(b.judgeName,ue)||(b.judgeName=ue),ue}),e.k0s()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return b.searchCases()}),e.EFF(11,"Search"),e.k0s(),e.j41(12,"button",7),e.bIt("click",function(){return b.resetForm()}),e.EFF(13,"Reset"),e.k0s()()()(),e.j41(14,"div",8)(15,"h2"),e.EFF(16,"Settings"),e.k0s(),e.j41(17,"div",9)(18,"div",10)(19,"label",11),e.EFF(20,"Sort By"),e.k0s(),e.j41(21,"select",12),e.mxI("ngModelChange",function(ue){return e.DH7(b.sortBy,ue)||(b.sortBy=ue),ue}),e.j41(22,"option",13),e.EFF(23,"Case Number"),e.k0s(),e.j41(24,"option",14),e.EFF(25,"Case Type"),e.k0s(),e.j41(26,"option",15),e.EFF(27,"Case Year"),e.k0s(),e.j41(28,"option",16),e.EFF(29,"First Petitioner"),e.k0s(),e.j41(30,"option",17),e.EFF(31,"First Respondent"),e.k0s(),e.j41(32,"option",18),e.EFF(33,"Petitioner's Advocate Name"),e.k0s(),e.j41(34,"option",19),e.EFF(35,"Respondent's Advocate Name"),e.k0s()()(),e.j41(36,"div",10)(37,"label",20),e.EFF(38,"Sort Order"),e.k0s(),e.j41(39,"select",21),e.mxI("ngModelChange",function(ue){return e.DH7(b.sortOrder,ue)||(b.sortOrder=ue),ue}),e.j41(40,"option",22),e.EFF(41,"Ascending"),e.k0s(),e.j41(42,"option",23),e.EFF(43,"Descending"),e.k0s()()(),e.j41(44,"div",10)(45,"label",24),e.EFF(46,"Results per page"),e.k0s(),e.j41(47,"select",25),e.mxI("ngModelChange",function(ue){return e.DH7(b.resultsPerPage,ue)||(b.resultsPerPage=ue),ue}),e.j41(48,"option",26),e.EFF(49,"5"),e.k0s(),e.j41(50,"option",26),e.EFF(51,"10"),e.k0s(),e.j41(52,"option",26),e.EFF(53,"25"),e.k0s(),e.j41(54,"option",26),e.EFF(55,"50"),e.k0s(),e.j41(56,"option",26),e.EFF(57,"100"),e.k0s()()()()(),e.j41(58,"div",27)(59,"h2"),e.EFF(60,"Search Results"),e.k0s(),e.j41(61,"table",28)(62,"thead")(63,"tr")(64,"th"),e.EFF(65,"CASE TYPE"),e.k0s(),e.j41(66,"th"),e.EFF(67,"CASE NUMBER"),e.k0s(),e.j41(68,"th"),e.EFF(69,"CASE YEAR"),e.k0s(),e.j41(70,"th"),e.EFF(71,"DISTRICT"),e.k0s(),e.j41(72,"th"),e.EFF(73,"JUDGE NAME"),e.k0s(),e.j41(74,"th"),e.EFF(75,"FIRST PETITIONER"),e.k0s(),e.j41(76,"th"),e.EFF(77,"FIRST RESPONDENT"),e.k0s(),e.j41(78,"th"),e.EFF(79,"Disposal Date"),e.k0s()()(),e.j41(80,"tbody"),e.DNE(81,Ui,2,1,"ng-container",29),e.nI1(82,"async"),e.k0s()()()()),2&c&&(e.R7$(8),e.R50("ngModel",b.judgeName),e.R7$(13),e.R50("ngModel",b.sortBy),e.R7$(18),e.R50("ngModel",b.sortOrder),e.R7$(8),e.R50("ngModel",b.resultsPerPage),e.R7$(),e.Y8G("value",5),e.R7$(2),e.Y8G("value",10),e.R7$(2),e.Y8G("value",25),e.R7$(2),e.Y8G("value",50),e.R7$(2),e.Y8G("value",100),e.R7$(25),e.Y8G("ngIf",e.bMT(82,10,b.caseList$)))},dependencies:[f.Sq,f.bT,rn.qT,rn.xH,rn.y7,rn.me,rn.wz,rn.BC,rn.cb,rn.vS,rn.cV,v.Wk,f.Jj],styles:[".case-search-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;font-family:Arial,sans-serif;color:#333}h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem;color:#333;font-weight:400}h2[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem;color:#333;font-weight:400}.search-fields[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px;align-items:flex-end}.field-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-width:150px}label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:5px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:2px}.button-group[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:flex-end}button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:2px;cursor:pointer;font-weight:700}.search-btn[_ngcontent-%COMP%]{background-color:#465362;color:#fff}.reset-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.settings-section[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:15px;margin-bottom:20px;border-radius:2px}.settings-controls[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.setting-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:150px}.search-results[_ngcontent-%COMP%]{margin-top:20px}.no-results[_ngcontent-%COMP%]{color:#666;font-style:italic}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}li[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #eee}@media (max-width: 768px){.search-fields[_ngcontent-%COMP%], .settings-controls[_ngcontent-%COMP%]{flex-direction:column}.field-group[_ngcontent-%COMP%], .setting-group[_ngcontent-%COMP%]{width:100%}}.search-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:1200px;margin:0 auto;padding:20px}.search-form[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:20px;border-radius:5px;margin-bottom:20px}.search-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-weight:700}.form-actions[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{background-color:#06c;color:#fff}.form-actions[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:hover{background-color:#05a}.form-actions[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]{background-color:#f0f0f0;color:#333}.form-actions[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.search-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:15px;color:#333}.search-results[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%], .search-results[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{padding:20px;text-align:center;background-color:#f9f9f9;border-radius:5px}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #ddd;color:#333}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#06c;text-decoration:none}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){table[_ngcontent-%COMP%]{display:block;overflow-x:auto}}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333!important}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#06c!important}.case-list[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.case-item[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px;border-radius:8px;margin-bottom:10px;box-shadow:0 2px 4px #0000001a}.case-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:8px;color:#333}.case-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.case-link[_ngcontent-%COMP%]{color:#337ab7;text-decoration:none}.case-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.case-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}"]})}}return d})();var fi=n(90887);let Ki=(()=>{class d{constructor(o){this.http=o,this.baseUrl=`${vl.$}/server/api/discover/search/objects`}getDateSearchResults(o="~",c,b,$="dc.title",ue="ASC",Me=10){let it=(new le.Nl).set("query",o||"~").set("sort",`${$},${ue}`).set("size",Me.toString());return c&&(it=it.append("f",`dc.date.issued,gt:${c}`)),b&&(it=it.append("f",`dc.date.issued,lt:${b}`)),this.http.get(this.baseUrl,{params:it})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();const xi=d=>["/items",d];function Lo(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",42)(2,"a",43),e.EFF(3),e.k0s()(),e.j41(4,"td",42)(5,"a",43),e.EFF(6),e.k0s()(),e.j41(7,"td",42)(8,"a",43),e.EFF(9),e.k0s()(),e.j41(10,"td",42)(11,"a",43),e.EFF(12),e.k0s()(),e.j41(13,"td",42)(14,"a",43),e.EFF(15),e.k0s()(),e.j41(16,"td",42)(17,"a",43),e.EFF(18),e.k0s()(),e.j41(19,"td",42)(20,"a",43),e.EFF(21),e.k0s()(),e.j41(22,"td",42)(23,"a",43),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,xi,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,xi,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,xi,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,xi,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,xi,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,xi,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,xi,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,xi,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function wo(d,y){if(1&d&&(e.qex(0),e.DNE(1,Lo,25,32,"tr",41),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("ngForOf",o)}}let Or=(()=>{class d{constructor(o){this.searchPageService=o,this.caseListSubject=new _.t([]),this.caseList$=this.caseListSubject.asObservable(),this.freeTextQuery="",this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10,this.startDate="",this.endDate="",this.page=0}ngOnInit(){this.freeTextQuery="~",this.fetchCases()}onSearchClick(){this.fetchCases()}onSortChange(o){this.sortBy=o,this.page=0,this.fetchCases()}fetchCases(){this.searchPageService.getDateSearchResults(this.freeTextQuery,this.startDate,this.endDate,this.sortBy,this.sortOrder,this.resultsPerPage).subscribe(o=>{this.loadCases(o)})}storeSearchTerm(){this.freeTextQuery&&"~"!==this.freeTextQuery?localStorage.setItem("pdfSearchTerm",this.freeTextQuery):localStorage.removeItem("pdfSearchTerm")}loadCases(o){const b=(o?._embedded?.searchResult?._embedded?.objects||[]).map($=>{const ue=$?._embedded?.indexableObject;return{uuid:ue?.uuid,metadata:ue?.metadata}}).filter($=>$.uuid&&$.metadata?.["dc.casetype"]?.[0]?.value);console.log("\u2705 Processed Case List:",b),this.caseListSubject.next(b)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Ki))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-search-page"]],decls:92,vars:6,consts:[[1,"container"],[1,"heading"],[1,"divider"],[1,"search-bar","mb-4"],[1,"row","align-items-center"],[1,"col-md-10"],["for","fuzzyQuery",1,"form-label"],["type","text","id","fuzzyQuery","name","fuzzyQuery","placeholder","Type keywords or phrases (e.g. judgment, petitioner, 2023)",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-muted"],[1,"col-md-2"],["type","button",1,"btn","btn-secondary","float-end",3,"click"],[1,"fas","fa-search"],[1,"row","mb-3"],[1,"col-md-3"],["for","sortBy"],["id","sortBy",1,"form-select",3,"change"],["value","dc.title"],["value","dc.casetype"],["value","dc.caseyear"],["value","dc.pname"],["value","dc.rname"],["value","dc.paname"],["value","dc.raname"],[1,"search-controls"],[1,"sort-container"],["for","sortOrder"],["id","sortOrder",1,"sort-select",3,"ngModelChange","change","ngModel"],["value","ASC"],["value","DESC"],[1,"results-container"],["for","resultsPerPage"],["id","resultsPerPage",1,"results-select",3,"ngModelChange","change","ngModel"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"search-results","mt-4"],[1,"showing-results"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"case-result-text"],[1,"case-link",3,"routerLink"]],template:function(c,b){1&c&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"By Fuzzy Search"),e.k0s(),e.nrm(3,"hr",2),e.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),e.EFF(8,"Fuzzy Search Query"),e.k0s(),e.j41(9,"input",7),e.mxI("ngModelChange",function(ue){return e.DH7(b.freeTextQuery,ue)||(b.freeTextQuery=ue),ue}),e.k0s(),e.j41(10,"small",8),e.EFF(11," Fuzzy search helps you find results even if your search terms are not exact. For example, searching for "),e.j41(12,"b"),e.EFF(13,"judgmnt"),e.k0s(),e.EFF(14," will also match "),e.j41(15,"b"),e.EFF(16,"judgment"),e.k0s(),e.EFF(17,"."),e.nrm(18,"br"),e.EFF(19," You can enter partial words, misspellings, or related terms to get relevant results. "),e.k0s()(),e.j41(20,"div",9)(21,"button",10),e.bIt("click",function(){return b.onSearchClick()}),e.nrm(22,"i",11),e.EFF(23," Search "),e.k0s()()()(),e.j41(24,"div",12)(25,"div",13)(26,"label",14),e.EFF(27,"Sort By:"),e.k0s(),e.j41(28,"select",15),e.bIt("change",function(ue){return b.onSortChange(ue.target.value)}),e.j41(29,"option",16),e.EFF(30,"Case Number"),e.k0s(),e.j41(31,"option",17),e.EFF(32,"Case Type"),e.k0s(),e.j41(33,"option",18),e.EFF(34,"Case Year"),e.k0s(),e.j41(35,"option",19),e.EFF(36,"First Petitioner"),e.k0s(),e.j41(37,"option",20),e.EFF(38,"First Respondent"),e.k0s(),e.j41(39,"option",21),e.EFF(40,"Petitioner's Advocate Name"),e.k0s(),e.j41(41,"option",22),e.EFF(42,"Respondent's Advocate Name"),e.k0s()()(),e.j41(43,"div",23)(44,"div",24)(45,"label",25),e.EFF(46,"Sort Order"),e.k0s(),e.j41(47,"select",26),e.mxI("ngModelChange",function(ue){return e.DH7(b.sortOrder,ue)||(b.sortOrder=ue),ue}),e.bIt("change",function(){return b.onSearchClick()}),e.j41(48,"option",27),e.EFF(49,"Ascending"),e.k0s(),e.j41(50,"option",28),e.EFF(51,"Descending"),e.k0s()()(),e.j41(52,"div",29)(53,"label",30),e.EFF(54,"Results per page"),e.k0s(),e.j41(55,"select",31),e.mxI("ngModelChange",function(ue){return e.DH7(b.resultsPerPage,ue)||(b.resultsPerPage=ue),ue}),e.bIt("change",function(){return b.onSearchClick()}),e.j41(56,"option",32),e.EFF(57,"5"),e.k0s(),e.j41(58,"option",33),e.EFF(59,"10"),e.k0s(),e.j41(60,"option",34),e.EFF(61,"20"),e.k0s(),e.j41(62,"option",35),e.EFF(63,"50"),e.k0s(),e.j41(64,"option",36),e.EFF(65,"100"),e.k0s()()()()(),e.j41(66,"div",37)(67,"div",38)(68,"span"),e.EFF(69,"Showing results:"),e.k0s()(),e.j41(70,"table",39)(71,"thead")(72,"tr")(73,"th"),e.EFF(74,"CASE TYPE"),e.k0s(),e.j41(75,"th"),e.EFF(76,"CASE NUMBER"),e.k0s(),e.j41(77,"th"),e.EFF(78,"CASE YEAR"),e.k0s(),e.j41(79,"th"),e.EFF(80,"DISTRICT"),e.k0s(),e.j41(81,"th"),e.EFF(82,"JUDGE NAME"),e.k0s(),e.j41(83,"th"),e.EFF(84,"FIRST PETITIONER"),e.k0s(),e.j41(85,"th"),e.EFF(86,"FIRST RESPONDENT"),e.k0s(),e.j41(87,"th"),e.EFF(88,"Disposal Date"),e.k0s()()(),e.j41(89,"tbody"),e.DNE(90,wo,2,1,"ng-container",40),e.nI1(91,"async"),e.k0s()()()()),2&c&&(e.R7$(9),e.R50("ngModel",b.freeTextQuery),e.R7$(38),e.R50("ngModel",b.sortOrder),e.R7$(8),e.R50("ngModel",b.resultsPerPage),e.R7$(35),e.Y8G("ngIf",e.bMT(91,4,b.caseList$)))},dependencies:[f.Sq,f.bT,rn.xH,rn.y7,rn.me,rn.wz,rn.BC,rn.vS,v.Wk,f.Jj],styles:[".container[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;max-width:1200px;margin:0 auto;padding:20px;color:#333}.heading[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin-bottom:10px;color:#333}.divider[_ngcontent-%COMP%]{border:none;border-top:1px solid #e0e0e0;margin:15px 0}.date-filter-container[_ngcontent-%COMP%]{margin-bottom:30px}.date-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.date-range[_ngcontent-%COMP%]{display:flex;align-items:center}.date-input-container[_ngcontent-%COMP%]{position:relative}.date-input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.85rem;margin-bottom:5px;color:#666}.date-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:150px;padding:8px 30px 8px 10px;border:1px solid #ccc;border-radius:4px;font-size:.9rem}.calendar-button[_ngcontent-%COMP%]{position:absolute;right:5px;background:none;border:none;cursor:pointer;color:#666}.date-separator[_ngcontent-%COMP%]{margin:0 15px;font-weight:500;font-size:1.2rem}.calendar-popup[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;width:280px;background:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:0 2px 10px #0000001a}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #eee;font-weight:500}.calendar-nav[_ngcontent-%COMP%]{display:flex;gap:5px}.nav-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:#666;font-size:1.2rem}.weekday-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);text-align:center;font-size:.8rem;font-weight:500;padding:10px 0;color:#666}.days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;padding:0 5px 10px}.day[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:30px;width:30px;border:none;background:none;border-radius:50%;cursor:pointer;font-size:.9rem}.day[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.day.selected[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}.prev-month[_ngcontent-%COMP%], .next-month[_ngcontent-%COMP%]{color:#ccc}.calendar-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;border-top:1px solid #eee}.clear-button[_ngcontent-%COMP%], .today-button[_ngcontent-%COMP%]{background:none;border:none;color:#1976d2;cursor:pointer;font-size:.9rem}.search-container[_ngcontent-%COMP%]{margin-bottom:30px}.search-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.search-controls[_ngcontent-%COMP%]{display:flex;gap:20px}.sort-container[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.sort-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:5px;color:#666}.sort-select[_ngcontent-%COMP%], .results-select[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #ccc;border-radius:4px;width:200px;font-size:.9rem}.showing-results[_ngcontent-%COMP%]{margin-bottom:15px;font-size:.9rem;color:#666}.results-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.results-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:12px 15px;text-align:left;font-weight:500;border-bottom:1px solid #ddd;font-size:.85rem}.results-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #eee;font-size:.9rem}.results-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.case-link[_ngcontent-%COMP%]{color:#337ab7;text-decoration:none}.case-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return d})();var lr=n(6983);const No=d=>["/items",d];function Ga(d,y){if(1&d&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&d){const o=y.$implicit;e.Y8G("value",o.id),e.R7$(),e.JRh(o.name)}}function Mr(d,y){if(1&d&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&d){const o=y.$implicit;e.Y8G("value",o.value),e.R7$(),e.JRh(o.label)}}function hc(d,y){if(1&d&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&d){const o=y.$implicit;e.Y8G("value",o.value),e.R7$(),e.JRh(o.label)}}function pc(d,y){if(1&d){const o=e.RV6();e.j41(0,"span",41)(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"button",42),e.bIt("click",function(){const b=e.eBV(o).index,$=e.XpG(2);return e.Njj($.removeFilter(b))}),e.EFF(4,"\xd7"),e.k0s()()}if(2&d){const o=y.$implicit,c=e.XpG(2);e.R7$(2),e.E5c(" ",c.getFieldLabel(o.field)," ",c.getOperatorLabel(o.operator),' "',o.value,'" ')}}function ha(d,y){if(1&d&&(e.j41(0,"div",38)(1,"div",39),e.DNE(2,pc,5,3,"span",40),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("ngForOf",o.filters)}}function $a(d,y){if(1&d&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&d){const o=y.$implicit;e.Y8G("value",o.value),e.R7$(),e.JRh(o.label)}}function ph(d,y){if(1&d&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.SpI(" ","asc"===o.sortDirection?"\u2191":"\u2193"," ")}}function zc(d,y){if(1&d&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.SpI(" ","asc"===o.sortDirection?"\u2191":"\u2193"," ")}}function fh(d,y){if(1&d&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.SpI(" ","asc"===o.sortDirection?"\u2191":"\u2193"," ")}}function Xp(d,y){if(1&d&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.SpI(" ","asc"===o.sortDirection?"\u2191":"\u2193"," ")}}function Sd(d,y){if(1&d&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.SpI(" ","asc"===o.sortDirection?"\u2191":"\u2193"," ")}}function Jp(d,y){if(1&d&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.SpI(" ","asc"===o.sortDirection?"\u2191":"\u2193"," ")}}function Yc(d,y){if(1&d&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.SpI(" ","asc"===o.sortDirection?"\u2191":"\u2193"," ")}}function fc(d,y){if(1&d&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.SpI(" ","asc"===o.sortDirection?"\u2191":"\u2193"," ")}}function cu(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",61)(2,"a",62),e.EFF(3),e.k0s()(),e.j41(4,"td",61)(5,"a",62),e.EFF(6),e.k0s()(),e.j41(7,"td",61)(8,"a",62),e.EFF(9),e.k0s()(),e.j41(10,"td",61)(11,"a",62),e.EFF(12),e.k0s()(),e.j41(13,"td",61)(14,"a",62),e.EFF(15),e.k0s()(),e.j41(16,"td",61)(17,"a",62),e.EFF(18),e.k0s()(),e.j41(19,"td",61)(20,"a",62),e.EFF(21),e.k0s()(),e.j41(22,"td",61)(23,"a",62),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,No,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,No,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,No,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,No,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,No,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,No,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,No,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,No,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function Qp(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",63),e.bIt("click",function(){const b=e.eBV(o).$implicit,$=e.XpG(3);return e.Njj($.goToPage(b-1))}),e.EFF(1),e.k0s()}if(2&d){const o=y.$implicit,c=e.XpG(3);e.AVh("active",c.page===o-1)("btn-primary",c.page===o-1)("btn-outline-primary",c.page!==o-1),e.R7$(),e.SpI(" ",o," ")}}function Xc(d,y){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"div",45)(2,"span"),e.EFF(3),e.k0s()(),e.j41(4,"table",46)(5,"thead")(6,"tr")(7,"th",47),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2);return e.Njj(b.sortBy("dc.casetype"))}),e.EFF(8," CASE TYPE "),e.DNE(9,ph,2,1,"span",48),e.k0s(),e.j41(10,"th",47),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2);return e.Njj(b.sortBy("dc.title"))}),e.EFF(11," CASE NUMBER "),e.DNE(12,zc,2,1,"span",48),e.k0s(),e.j41(13,"th",47),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2);return e.Njj(b.sortBy("dc.caseyear"))}),e.EFF(14," CASE YEAR "),e.DNE(15,fh,2,1,"span",48),e.k0s(),e.j41(16,"th",47),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2);return e.Njj(b.sortBy("dc.district"))}),e.EFF(17," DISTRICT "),e.DNE(18,Xp,2,1,"span",48),e.k0s(),e.j41(19,"th",47),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2);return e.Njj(b.sortBy("dc.contributor.author"))}),e.EFF(20," JUDGE NAME "),e.DNE(21,Sd,2,1,"span",48),e.k0s(),e.j41(22,"th",47),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2);return e.Njj(b.sortBy("dc.pname"))}),e.EFF(23," FIRST PETITIONER "),e.DNE(24,Jp,2,1,"span",48),e.k0s(),e.j41(25,"th",47),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2);return e.Njj(b.sortBy("dc.rname"))}),e.EFF(26," FIRST RESPONDENT "),e.DNE(27,Yc,2,1,"span",48),e.k0s(),e.j41(28,"th",47),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2);return e.Njj(b.sortBy("dc.date.disposal"))}),e.EFF(29," Disposal Date "),e.DNE(30,fc,2,1,"span",48),e.k0s()()(),e.j41(31,"tbody"),e.DNE(32,cu,25,32,"tr",49),e.k0s()(),e.j41(33,"div",50)(34,"div",51)(35,"span"),e.EFF(36),e.k0s()(),e.j41(37,"div",52)(38,"button",53),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2);return e.Njj(b.firstPage())}),e.nrm(39,"i",54),e.EFF(40," First "),e.k0s(),e.j41(41,"button",53),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2);return e.Njj(b.prevPage())}),e.nrm(42,"i",55),e.EFF(43," Previous "),e.k0s(),e.j41(44,"div",56),e.DNE(45,Qp,2,7,"button",57),e.k0s(),e.j41(46,"button",53),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2);return e.Njj(b.nextPage())}),e.EFF(47," Next "),e.nrm(48,"i",58),e.k0s(),e.j41(49,"button",53),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2);return e.Njj(b.lastPage())}),e.EFF(50," Last "),e.nrm(51,"i",59),e.k0s()()()()}if(2&d){const o=e.XpG().ngIf,c=e.XpG();e.R7$(3),e.E5c("Showing ",c.getStartIndex()," - ",c.getEndIndex(o.length)," of ",c.totalResults," results"),e.R7$(6),e.Y8G("ngIf","dc.casetype"===c.sortField),e.R7$(3),e.Y8G("ngIf","dc.title"===c.sortField),e.R7$(3),e.Y8G("ngIf","dc.caseyear"===c.sortField),e.R7$(3),e.Y8G("ngIf","dc.district"===c.sortField),e.R7$(3),e.Y8G("ngIf","dc.contributor.author"===c.sortField),e.R7$(3),e.Y8G("ngIf","dc.pname"===c.sortField),e.R7$(3),e.Y8G("ngIf","dc.rname"===c.sortField),e.R7$(3),e.Y8G("ngIf","dc.date.disposal"===c.sortField),e.R7$(2),e.Y8G("ngForOf",o),e.R7$(4),e.Lme("Page ",c.page+1," of ",c.getTotalPages(),""),e.R7$(2),e.Y8G("disabled",0===c.page),e.R7$(3),e.Y8G("disabled",0===c.page),e.R7$(4),e.Y8G("ngForOf",c.getVisiblePageNumbers()),e.R7$(),e.Y8G("disabled",(c.page+1)*c.size>=c.totalResults),e.R7$(3),e.Y8G("disabled",(c.page+1)*c.size>=c.totalResults)}}function mh(d,y){1&d&&(e.j41(0,"div",64),e.EFF(1,"No results found."),e.k0s())}function Zp(d,y){if(1&d&&(e.j41(0,"div",43),e.DNE(1,Xc,52,19,"div",44)(2,mh,2,0,"ng-template",null,0,e.C5r),e.k0s()),2&d){const o=y.ngIf,c=e.sdS(3);e.R7$(),e.Y8G("ngIf",o.length>0)("ngIfElse",c)}}let qp=(()=>{class d{constructor(o,c){this.searchService=o,this.collectionDataService=c,this.filters=[],this.collections=[],this.selectedCollectionId="",this.availableFields=[{label:"Case Number",value:"title"},{label:"Judge Name",value:"author"},{label:"Case Year",value:"dc_case_year"},{label:"Case Type",value:"dc_case_type"},{label:"Petitioner Name",value:"dc_party_firstpetitioner"},{label:"Respondent Name",value:"dc_party_firstrespondent"},{label:"District",value:"dc_case_district"},{label:"Petitioner Advocate Name",value:"dc_advocate_firstpetitioner"},{label:"Respondent Advocate Name",value:"dc_advocate_firstrespondent"},{label:"Date of Case Disposal",value:"dc_case_disposaldate"},{label:"Batch Name",value:"dc_case_batchnumber"},{label:"Section",value:"dc.section"}],this.availableOperators=[{label:"Equals",value:"equals"},{label:"Not Equals",value:"notequals"},{label:"Contains",value:"contains"},{label:"Not Contains",value:"notcontains"}],this.newFilter={field:"dc.title",operator:"equals",value:""},this.results$=new _.t([]),this.loading=!1,this.error="",this.page=0,this.size=10,this.totalResults=0,this.sortField="",this.sortDirection="asc",this.sortableFields=[{label:"Case Type",value:"dc.casetype"},{label:"Case Number",value:"dc.title"},{label:"Case Year",value:"dc.caseyear"},{label:"District",value:"dc.district"},{label:"Judge Name",value:"dc.contributor.author"},{label:"First Petitioner",value:"dc.pname"},{label:"First Respondent",value:"dc.rname"},{label:"Disposal Date",value:"dc.date.disposal"}]}ngOnInit(){this.collectionDataService.findAll({elementsPerPage:1e3}).subscribe(o=>{o&&o.payload&&(this.collections=o.payload.page)})}addFilter(){this.newFilter.value.trim()&&(this.filters.push({...this.newFilter,field:this.newFilter.field}),this.newFilter={field:"title",operator:"equals",value:""})}removeFilter(o){this.filters.splice(o,1)}search(){this.loading=!0,this.error="";let o=new le.Nl;this.filters.forEach(c=>{o=o.append(`f.${c.field}`,`${c.value},${c.operator}`)}),o=o.set("page",this.page.toString()),o=o.set("size",this.size.toString()),this.selectedCollectionId&&(o=o.set("scope",this.selectedCollectionId)),this.sortField&&(o=o.set("sort",`${this.sortField},${this.sortDirection}`)),this.searchService.getSearchResultsWithFilters(o).subscribe({next:c=>{const $=(c?._embedded?.searchResult?._embedded?.objects||[]).map(ue=>ue?._embedded?.indexableObject);this.results$.next($),this.totalResults=c?._embedded?.searchResult?.page?.totalElements||0,this.loading=!1},error:c=>{this.error="Search failed.",this.loading=!1}})}onSortChange(){this.filters.length>0&&(this.page=0,this.search())}sortBy(o){this.sortField===o?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortField=o,this.sortDirection="asc"),this.filters.length>0&&(this.page=0,this.search())}nextPage(){(this.page+1)*this.size<this.totalResults&&(this.page++,this.search())}prevPage(){this.page>0&&(this.page--,this.search())}firstPage(){0!==this.page&&(this.page=0,this.search())}lastPage(){const o=Math.ceil(this.totalResults/this.size)-1;this.page!==o&&(this.page=o,this.search())}goToPage(o){o>=0&&o<this.getTotalPages()&&(this.page=o,this.search())}onPageSizeChange(){this.page=0,this.filters.length>0&&this.search()}getTotalPages(){return this.totalResults?Math.ceil(this.totalResults/this.size):1}getStartIndex(){return 0===this.totalResults?0:this.page*this.size+1}getEndIndex(o){return this.page*this.size+o}getVisiblePageNumbers(){const o=this.getTotalPages(),c=this.page+1,b=[];if(o<=7)for(let $=1;$<=o;$++)b.push($);else{const $=Math.max(1,c-2),ue=Math.min(o,c+2);$>1&&(b.push(1),$>2&&b.push(-1));for(let Me=$;Me<=ue;Me++)b.push(Me);ue<o&&(ue<o-1&&b.push(-1),b.push(o))}return b.filter($=>-1!==$)}getFieldLabel(o){const c=this.availableFields.find(b=>b.value===o);return c?c.label:o}getOperatorLabel(o){const c=this.availableOperators.find(b=>b.value===o);return c?c.label:o}resetFilters(){this.filters=[],this.newFilter={field:"title",operator:"equals",value:""},this.results$.next([]),this.page=0,this.totalResults=0,this.error="",this.sortField="",this.sortDirection="asc"}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(dh),e.rXU(lr.CollectionDataService))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-boolean-search"]],decls:66,vars:18,consts:[["noResults",""],[1,"boolean-search-container"],[1,"form-group"],["for","collection-select",1,"form-label"],["id","collection-select",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"search-form-row"],["for","field-select",1,"form-label"],["id","field-select",1,"form-control",3,"ngModelChange","ngModel"],["for","operator-select",1,"form-label"],["id","operator-select",1,"form-control",3,"ngModelChange","ngModel"],["for","value-input",1,"form-label"],["id","value-input",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"form-label"],[1,"btn","btn-primary",3,"click","disabled"],["class","conditions-row",4,"ngIf"],[1,"controls-row"],[1,"sort-controls"],["for","sort-field",1,"form-label"],["id","sort-field",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"sort-direction"],["for","sort-direction",1,"form-label"],["id","sort-direction",1,"form-control",3,"ngModelChange","change","ngModel"],["value","asc"],["value","desc"],[1,"page-size"],["for","page-size",1,"form-label"],["id","page-size",1,"form-control",3,"ngModelChange","change","ngModel"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"action-row"],[1,"btn","btn-success",3,"click","disabled"],[1,"btn","btn-outline-secondary",3,"click"],["class","results-section",4,"ngIf"],[3,"value"],[1,"conditions-row"],[1,"d-flex","flex-wrap","gap-2"],["class","filter-chip",4,"ngFor","ngForOf"],[1,"filter-chip"],[1,"remove-btn",3,"click"],[1,"results-section"],[4,"ngIf","ngIfElse"],[1,"results-summary"],[1,"table","table-striped","table-hover"],[1,"sortable-header",3,"click"],["class","sort-indicator",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pagination-controls"],[1,"pagination-info"],[1,"pagination-buttons"],[1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fas","fa-angle-double-left"],[1,"fas","fa-angle-left"],[1,"page-numbers"],["class","btn btn-sm",3,"active","btn-primary","btn-outline-primary","click",4,"ngFor","ngForOf"],[1,"fas","fa-angle-right"],[1,"fas","fa-angle-double-right"],[1,"sort-indicator"],[1,"case-result-text"],[1,"case-link",3,"routerLink"],[1,"btn","btn-sm",3,"click"],[1,"alert","alert-info"]],template:function(c,b){1&c&&(e.j41(0,"div",1)(1,"h2"),e.EFF(2,"Advanced Boolean Search"),e.k0s(),e.j41(3,"div",2)(4,"label",3),e.EFF(5,"Search"),e.k0s(),e.j41(6,"select",4),e.mxI("ngModelChange",function(ue){return e.DH7(b.selectedCollectionId,ue)||(b.selectedCollectionId=ue),ue}),e.j41(7,"option",5),e.EFF(8,"All of DSpace"),e.k0s(),e.DNE(9,Ga,2,2,"option",6),e.k0s()(),e.j41(10,"div",7)(11,"div",2)(12,"label",8),e.EFF(13,"Field"),e.k0s(),e.j41(14,"select",9),e.mxI("ngModelChange",function(ue){return e.DH7(b.newFilter.field,ue)||(b.newFilter.field=ue),ue}),e.DNE(15,Mr,2,2,"option",6),e.k0s()(),e.j41(16,"div",2)(17,"label",10),e.EFF(18,"Operator"),e.k0s(),e.j41(19,"select",11),e.mxI("ngModelChange",function(ue){return e.DH7(b.newFilter.operator,ue)||(b.newFilter.operator=ue),ue}),e.DNE(20,hc,2,2,"option",6),e.k0s()(),e.j41(21,"div",2)(22,"label",12),e.EFF(23,"Value"),e.k0s(),e.j41(24,"input",13),e.mxI("ngModelChange",function(ue){return e.DH7(b.newFilter.value,ue)||(b.newFilter.value=ue),ue}),e.k0s()(),e.j41(25,"div",2)(26,"label",14),e.EFF(27,"\xa0"),e.k0s(),e.j41(28,"button",15),e.bIt("click",function(){return b.addFilter()}),e.EFF(29,"Add"),e.k0s()()(),e.DNE(30,ha,3,1,"div",16),e.j41(31,"div",17)(32,"div",18)(33,"label",19),e.EFF(34,"Sort by"),e.k0s(),e.j41(35,"select",20),e.mxI("ngModelChange",function(ue){return e.DH7(b.sortField,ue)||(b.sortField=ue),ue}),e.bIt("change",function(){return b.onSortChange()}),e.j41(36,"option",5),e.EFF(37,"-- Select field --"),e.k0s(),e.DNE(38,$a,2,2,"option",6),e.k0s()(),e.j41(39,"div",21)(40,"label",22),e.EFF(41,"Order"),e.k0s(),e.j41(42,"select",23),e.mxI("ngModelChange",function(ue){return e.DH7(b.sortDirection,ue)||(b.sortDirection=ue),ue}),e.bIt("change",function(){return b.onSortChange()}),e.j41(43,"option",24),e.EFF(44,"Ascending"),e.k0s(),e.j41(45,"option",25),e.EFF(46,"Descending"),e.k0s()()(),e.j41(47,"div",26)(48,"label",27),e.EFF(49,"Results per page"),e.k0s(),e.j41(50,"select",28),e.mxI("ngModelChange",function(ue){return e.DH7(b.size,ue)||(b.size=ue),ue}),e.bIt("change",function(){return b.onPageSizeChange()}),e.j41(51,"option",29),e.EFF(52,"10"),e.k0s(),e.j41(53,"option",30),e.EFF(54,"20"),e.k0s(),e.j41(55,"option",31),e.EFF(56,"50"),e.k0s(),e.j41(57,"option",32),e.EFF(58,"100"),e.k0s()()()(),e.j41(59,"div",33)(60,"button",34),e.bIt("click",function(){return b.search()}),e.EFF(61,"Search"),e.k0s(),e.j41(62,"button",35),e.bIt("click",function(){return b.resetFilters()}),e.EFF(63,"Reset"),e.k0s()()(),e.DNE(64,Zp,4,2,"div",36),e.nI1(65,"async")),2&c&&(e.R7$(6),e.R50("ngModel",b.selectedCollectionId),e.R7$(3),e.Y8G("ngForOf",b.collections),e.R7$(5),e.R50("ngModel",b.newFilter.field),e.R7$(),e.Y8G("ngForOf",b.availableFields),e.R7$(4),e.R50("ngModel",b.newFilter.operator),e.R7$(),e.Y8G("ngForOf",b.availableOperators),e.R7$(4),e.R50("ngModel",b.newFilter.value),e.Y8G("placeholder","e.g. Smith, 2023, Civil"),e.R7$(4),e.Y8G("disabled",!b.newFilter.value.trim()),e.R7$(2),e.Y8G("ngIf",b.filters.length>0),e.R7$(5),e.R50("ngModel",b.sortField),e.R7$(3),e.Y8G("ngForOf",b.sortableFields),e.R7$(4),e.R50("ngModel",b.sortDirection),e.R7$(8),e.R50("ngModel",b.size),e.R7$(10),e.Y8G("disabled",0===b.filters.length),e.R7$(4),e.Y8G("ngIf",e.bMT(65,16,b.results$)))},dependencies:[f.Sq,f.bT,rn.xH,rn.y7,rn.me,rn.wz,rn.BC,rn.vS,v.Wk,f.Jj],styles:[".boolean-search-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}h2[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.5rem;color:#2c3e50;font-weight:600}.search-description[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#6c757d;font-size:.95rem}.search-form-row[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:1rem;margin-bottom:1rem;flex-wrap:wrap}.form-group[_ngcontent-%COMP%]{flex:1;min-width:150px;margin-bottom:0}.form-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.25rem;color:#495057;font-size:.875rem}.help-text[_ngcontent-%COMP%]{font-size:.9em;color:#6c757d;margin-left:.5rem}.form-control[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:.375rem;padding:.375rem .75rem;font-size:.875rem;height:38px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{border-color:#86b7fe;box-shadow:0 0 0 .25rem #0d6efd40}.btn[_ngcontent-%COMP%]{border-radius:.375rem;font-weight:500;transition:all .15s ease-in-out;height:38px;padding:.375rem .75rem;font-size:.875rem}.btn-sm[_ngcontent-%COMP%]{height:32px;padding:.25rem .5rem;font-size:.8rem}.btn-primary[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{background-color:#465362;border-color:#465362}.btn-primary[_ngcontent-%COMP%]:hover, .btn-success[_ngcontent-%COMP%]:hover{background-color:#2e3540;border-color:#2e3540}.btn-outline-secondary[_ngcontent-%COMP%]{color:#6c757d;border-color:#6c757d}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:#6c757d;border-color:#6c757d}.btn-outline-primary[_ngcontent-%COMP%]{color:#0d6efd;border-color:#0d6efd}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#0d6efd;border-color:#0d6efd}.conditions-row[_ngcontent-%COMP%]{margin-bottom:1rem;padding:.5rem 0;border-top:1px solid #dee2e6;border-bottom:1px solid #dee2e6}.filter-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;background:#e9ecef;color:#495057;border-radius:1rem;padding:.25rem .5rem;font-size:.75rem;margin-right:.5rem;margin-bottom:.25rem;border:1px solid #dee2e6}.remove-btn[_ngcontent-%COMP%]{background:none;border:none;color:#dc3545;font-weight:700;cursor:pointer;margin-left:.25rem;padding:0;font-size:.875rem;line-height:1;border-radius:50%;width:16px;height:16px;display:flex;align-items:center;justify-content:center;transition:background-color .15s ease-in-out}.remove-btn[_ngcontent-%COMP%]:hover{background-color:#f8d7da;color:#721c24}.controls-row[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:1rem;margin-bottom:1rem;flex-wrap:wrap}.sort-controls[_ngcontent-%COMP%], .sort-direction[_ngcontent-%COMP%], .page-size[_ngcontent-%COMP%]{flex:1;min-width:120px}.action-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.example-usage[_ngcontent-%COMP%]{margin-top:1.5rem;font-size:.9rem;color:#6c757d;background:#f8f9fa;padding:1rem;border-radius:.375rem;border-left:4px solid #0d6efd}.results-section[_ngcontent-%COMP%]{margin-top:2rem;margin-left:2rem;margin-right:2rem}.results-summary[_ngcontent-%COMP%]{margin-bottom:1rem;padding:.5rem 0;color:#6c757d;font-size:.875rem;border-bottom:1px solid #dee2e6}.table[_ngcontent-%COMP%]{background:#fff;border-radius:.375rem;overflow:hidden;box-shadow:0 .125rem .25rem #00000013}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:2px solid #dee2e6;font-weight:600;color:#495057;padding:.75rem}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;border-bottom:1px solid #dee2e6;vertical-align:middle}.sortable-header[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;position:relative;transition:background-color .15s ease-in-out}.sortable-header[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.sort-indicator[_ngcontent-%COMP%]{margin-left:.5rem;font-weight:700;color:#0d6efd}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#00000005}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#00000013}.case-result-text[_ngcontent-%COMP%]{padding:0}.case-link[_ngcontent-%COMP%]{color:#0d6efd;text-decoration:none;font-weight:500;transition:color .15s ease-in-out}.case-link[_ngcontent-%COMP%]:hover{color:#0a58ca;text-decoration:underline}.pagination-controls[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem 0;border-top:1px solid #dee2e6;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}.pagination-info[_ngcontent-%COMP%]{color:#6c757d;font-size:.875rem}.pagination-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.page-numbers[_ngcontent-%COMP%]{display:flex;gap:.25rem;align-items:center}.page-numbers[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:36px;height:32px;padding:.25rem .5rem;font-size:.8rem}.alert[_ngcontent-%COMP%]{border-radius:.375rem;padding:.75rem 1rem}.alert-info[_ngcontent-%COMP%]{color:#055160;background-color:#cff4fc;border:1px solid #b6effb}@media (max-width: 992px){.search-form-row[_ngcontent-%COMP%], .controls-row[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%], .sort-controls[_ngcontent-%COMP%], .sort-direction[_ngcontent-%COMP%], .page-size[_ngcontent-%COMP%]{min-width:auto}.action-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.btn[_ngcontent-%COMP%]{width:100%}.pagination-controls[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.pagination-buttons[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 768px){.boolean-search-container[_ngcontent-%COMP%]{margin:.5rem 1rem 1rem}h2[_ngcontent-%COMP%]{font-size:1.25rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;font-size:.875rem}.filter-chip[_ngcontent-%COMP%]{font-size:.7rem;padding:.2rem .4rem}.page-numbers[_ngcontent-%COMP%]{gap:.125rem}.page-numbers[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:32px;height:28px;font-size:.75rem}}@media (max-width: 576px){.boolean-search-container[_ngcontent-%COMP%]{margin:.25rem .5rem .5rem}.pagination-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.page-numbers[_ngcontent-%COMP%]{order:-1}}"]})}}return d})(),mc=(()=>{class d{constructor(o){this.http=o,this.baseUrl=`${vl.$}/server/api/discover/search/objects`}getProximitySearchResults(o='"JUSTICE ROUTRAY"~3',c="dc.title",b="ASC",$=10,ue,Me){let it=(new le.Nl).set("query",o).set("sort",`${c},${b}`).set("size",$.toString());return ue&&(it=it.append("f",`dc.date.issued,gt:${ue}`)),Me&&(it=it.append("f",`dc.date.issued,lt:${Me}`)),this.http.get(this.baseUrl,{params:it})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();const Ol=d=>["/items",d];function Dv(d,y){if(1&d){const o=e.RV6();e.qex(0),e.j41(1,"label",42),e.EFF(2,"Wildcard Query"),e.k0s(),e.j41(3,"input",43),e.mxI("ngModelChange",function(b){e.eBV(o);const $=e.XpG();return e.DH7($.wildcardQuery,b)||($.wildcardQuery=b),e.Njj(b)}),e.k0s(),e.j41(4,"small",44),e.EFF(5,"Use * for any number of characters, ? for a single character. Example: "),e.j41(6,"b"),e.EFF(7,"petiti*"),e.k0s(),e.EFF(8," will match 'petitioner', 'petition', etc."),e.k0s(),e.bVm()}if(2&d){const o=e.XpG();e.R7$(3),e.R50("ngModel",o.wildcardQuery)}}function Hm(d,y){if(1&d){const o=e.RV6();e.j41(0,"label",45),e.EFF(1,"Proximity Query"),e.k0s(),e.j41(2,"input",46),e.mxI("ngModelChange",function(b){e.eBV(o);const $=e.XpG();return e.DH7($.proximityQuery,b)||($.proximityQuery=b),e.Njj(b)}),e.k0s(),e.j41(3,"small",44),e.EFF(4,"Enter words in quotes followed by ~ and a number. Example: "),e.j41(5,"b"),e.EFF(6,'"JUSTICE ROUTRAY"~3'),e.k0s(),e.EFF(7," finds cases where these words appear within 3 words of each other."),e.k0s()}if(2&d){const o=e.XpG();e.R7$(2),e.R50("ngModel",o.proximityQuery)}}function gh(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",48)(2,"a",49),e.EFF(3),e.k0s()(),e.j41(4,"td",48)(5,"a",49),e.EFF(6),e.k0s()(),e.j41(7,"td",48)(8,"a",49),e.EFF(9),e.k0s()(),e.j41(10,"td",48)(11,"a",49),e.EFF(12),e.k0s()(),e.j41(13,"td",48)(14,"a",49),e.EFF(15),e.k0s()(),e.j41(16,"td",48)(17,"a",49),e.EFF(18),e.k0s()(),e.j41(19,"td",48)(20,"a",49),e.EFF(21),e.k0s()(),e.j41(22,"td",48)(23,"a",49),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,Ol,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,Ol,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,Ol,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,Ol,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,Ol,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,Ol,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,Ol,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,Ol,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function Tv(d,y){if(1&d&&(e.qex(0),e.DNE(1,gh,25,32,"tr",47),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("ngForOf",o)}}let Ov=(()=>{class d{constructor(o,c){this.proximitySearchService=o,this.freeTextService=c,this.caseListSubject=new _.t([]),this.caseList$=this.caseListSubject.asObservable(),this.mode="wildcard",this.wildcardQuery="*",this.proximityQuery='"JUSTICE ROUTRAY"~3',this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10,this.startDate="",this.endDate="",this.page=0}ngOnInit(){this.fetchCases()}setMode(o){this.mode=o,this.fetchCases()}onSearchClick(){this.fetchCases()}onSortChange(o){this.sortBy=o,this.page=0,this.fetchCases()}fetchCases(){"wildcard"===this.mode?this.freeTextService.getDateSearchResults(this.wildcardQuery,this.startDate,this.endDate,this.sortBy,this.sortOrder,this.resultsPerPage).subscribe(o=>{this.loadCases(o)}):this.proximitySearchService.getProximitySearchResults(this.proximityQuery,this.sortBy,this.sortOrder,this.resultsPerPage,this.startDate,this.endDate).subscribe(o=>{this.loadCases(o)})}loadCases(o){const b=(o?._embedded?.searchResult?._embedded?.objects||[]).map($=>{const ue=$?._embedded?.indexableObject;return{uuid:ue?.uuid,metadata:ue?.metadata}}).filter($=>$.uuid&&$.metadata?.["dc.casetype"]?.[0]?.value);this.caseListSubject.next(b)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(mc),e.rXU(qi))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-proximity-search"]],decls:85,vars:9,consts:[["proximityBlock",""],[1,"container"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"heading","mb-0"],[1,"btn","btn-outline-primary",3,"click"],[1,"divider"],[1,"search-bar","mb-4"],[1,"row","align-items-center"],[1,"col-md-10"],[4,"ngIf","ngIfElse"],[1,"col-md-2"],["type","button",1,"btn","btn-secondary","float-end",3,"click"],[1,"fas","fa-search"],[1,"row","mb-3"],[1,"col-md-3"],["for","sortBy"],["id","sortBy",1,"form-select",3,"change"],["value","dc.title"],["value","dc.casetype"],["value","dc.caseyear"],["value","dc.pname"],["value","dc.rname"],["value","dc.paname"],["value","dc.raname"],[1,"search-controls"],[1,"sort-container"],["for","sortOrder"],["id","sortOrder",1,"sort-select",3,"ngModelChange","change","ngModel"],["value","ASC"],["value","DESC"],[1,"results-container"],["for","resultsPerPage"],["id","resultsPerPage",1,"results-select",3,"ngModelChange","change","ngModel"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"search-results","mt-4"],[1,"showing-results"],[1,"table"],[4,"ngIf"],["for","wildcardQuery",1,"form-label"],["type","text","id","wildcardQuery","name","wildcardQuery","placeholder","Enter * for all, or use ? and * as wildcards (e.g. petiti*)",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-muted"],["for","proximityQuery",1,"form-label"],["type","text","id","proximityQuery","name","proximityQuery","placeholder",'e.g. "JUSTICE ROUTRAY"~3 (finds words within 3 words of each other)',1,"form-control",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[1,"case-result-text"],[1,"case-link",3,"routerLink"]],template:function(c,b){if(1&c){const $=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"h2",3),e.EFF(3),e.k0s(),e.j41(4,"button",4),e.bIt("click",function(){return e.eBV($),e.Njj(b.setMode("wildcard"===b.mode?"proximity":"wildcard"))}),e.EFF(5),e.k0s()(),e.nrm(6,"hr",5),e.j41(7,"div",6)(8,"div",7)(9,"div",8),e.DNE(10,Dv,9,1,"ng-container",9)(11,Hm,8,1,"ng-template",null,0,e.C5r),e.k0s(),e.j41(13,"div",10)(14,"button",11),e.bIt("click",function(){return e.eBV($),e.Njj(b.onSearchClick())}),e.nrm(15,"i",12),e.EFF(16," Search "),e.k0s()()()(),e.j41(17,"div",13)(18,"div",14)(19,"label",15),e.EFF(20,"Sort By:"),e.k0s(),e.j41(21,"select",16),e.bIt("change",function(Me){return e.eBV($),e.Njj(b.onSortChange(Me.target.value))}),e.j41(22,"option",17),e.EFF(23,"Case Number"),e.k0s(),e.j41(24,"option",18),e.EFF(25,"Case Type"),e.k0s(),e.j41(26,"option",19),e.EFF(27,"Case Year"),e.k0s(),e.j41(28,"option",20),e.EFF(29,"First Petitioner"),e.k0s(),e.j41(30,"option",21),e.EFF(31,"First Respondent"),e.k0s(),e.j41(32,"option",22),e.EFF(33,"Petitioner's Advocate Name"),e.k0s(),e.j41(34,"option",23),e.EFF(35,"Respondent's Advocate Name"),e.k0s()()(),e.j41(36,"div",24)(37,"div",25)(38,"label",26),e.EFF(39,"Sort Order"),e.k0s(),e.j41(40,"select",27),e.mxI("ngModelChange",function(Me){return e.eBV($),e.DH7(b.sortOrder,Me)||(b.sortOrder=Me),e.Njj(Me)}),e.bIt("change",function(){return e.eBV($),e.Njj(b.onSearchClick())}),e.j41(41,"option",28),e.EFF(42,"Ascending"),e.k0s(),e.j41(43,"option",29),e.EFF(44,"Descending"),e.k0s()()(),e.j41(45,"div",30)(46,"label",31),e.EFF(47,"Results per page"),e.k0s(),e.j41(48,"select",32),e.mxI("ngModelChange",function(Me){return e.eBV($),e.DH7(b.resultsPerPage,Me)||(b.resultsPerPage=Me),e.Njj(Me)}),e.bIt("change",function(){return e.eBV($),e.Njj(b.onSearchClick())}),e.j41(49,"option",33),e.EFF(50,"5"),e.k0s(),e.j41(51,"option",34),e.EFF(52,"10"),e.k0s(),e.j41(53,"option",35),e.EFF(54,"20"),e.k0s(),e.j41(55,"option",36),e.EFF(56,"50"),e.k0s(),e.j41(57,"option",37),e.EFF(58,"100"),e.k0s()()()()(),e.j41(59,"div",38)(60,"div",39)(61,"span"),e.EFF(62,"Showing results:"),e.k0s()(),e.j41(63,"table",40)(64,"thead")(65,"tr")(66,"th"),e.EFF(67,"CASE TYPE"),e.k0s(),e.j41(68,"th"),e.EFF(69,"CASE NUMBER"),e.k0s(),e.j41(70,"th"),e.EFF(71,"CASE YEAR"),e.k0s(),e.j41(72,"th"),e.EFF(73,"DISTRICT"),e.k0s(),e.j41(74,"th"),e.EFF(75,"JUDGE NAME"),e.k0s(),e.j41(76,"th"),e.EFF(77,"FIRST PETITIONER"),e.k0s(),e.j41(78,"th"),e.EFF(79,"FIRST RESPONDENT"),e.k0s(),e.j41(80,"th"),e.EFF(81,"Disposal Date"),e.k0s()()(),e.j41(82,"tbody"),e.DNE(83,Tv,2,1,"ng-container",41),e.nI1(84,"async"),e.k0s()()()()}if(2&c){const $=e.sdS(12);e.R7$(3),e.SpI(" ","wildcard"===b.mode?"By Wildcard Search":"By Proximity Search"," "),e.R7$(2),e.SpI(" ","wildcard"===b.mode?"By Proximity Search":"By Wildcard Search"," "),e.R7$(5),e.Y8G("ngIf","wildcard"===b.mode)("ngIfElse",$),e.R7$(30),e.R50("ngModel",b.sortOrder),e.R7$(8),e.R50("ngModel",b.resultsPerPage),e.R7$(35),e.Y8G("ngIf",e.bMT(84,7,b.caseList$))}},dependencies:[f.Sq,f.bT,rn.xH,rn.y7,rn.me,rn.wz,rn.BC,rn.vS,v.Wk,f.Jj],styles:[".container[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;max-width:1200px;margin:0 auto;padding:20px;color:#333}.heading[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin-bottom:10px;color:#333}.divider[_ngcontent-%COMP%]{border:none;border-top:1px solid #e0e0e0;margin:15px 0}.date-filter-container[_ngcontent-%COMP%]{margin-bottom:30px}.date-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.date-range[_ngcontent-%COMP%]{display:flex;align-items:center}.date-input-container[_ngcontent-%COMP%]{position:relative}.date-input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.85rem;margin-bottom:5px;color:#666}.date-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:150px;padding:8px 30px 8px 10px;border:1px solid #ccc;border-radius:4px;font-size:.9rem}.calendar-button[_ngcontent-%COMP%]{position:absolute;right:5px;background:none;border:none;cursor:pointer;color:#666}.date-separator[_ngcontent-%COMP%]{margin:0 15px;font-weight:500;font-size:1.2rem}.calendar-popup[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;width:280px;background:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:0 2px 10px #0000001a}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #eee;font-weight:500}.calendar-nav[_ngcontent-%COMP%]{display:flex;gap:5px}.nav-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:#666;font-size:1.2rem}.weekday-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);text-align:center;font-size:.8rem;font-weight:500;padding:10px 0;color:#666}.days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;padding:0 5px 10px}.day[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:30px;width:30px;border:none;background:none;border-radius:50%;cursor:pointer;font-size:.9rem}.day[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.day.selected[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}.prev-month[_ngcontent-%COMP%], .next-month[_ngcontent-%COMP%]{color:#ccc}.calendar-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;border-top:1px solid #eee}.clear-button[_ngcontent-%COMP%], .today-button[_ngcontent-%COMP%]{background:none;border:none;color:#1976d2;cursor:pointer;font-size:.9rem}.search-container[_ngcontent-%COMP%]{margin-bottom:30px}.search-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.search-controls[_ngcontent-%COMP%]{display:flex;gap:20px}.sort-container[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.sort-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:5px;color:#666}.sort-select[_ngcontent-%COMP%], .results-select[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #ccc;border-radius:4px;width:200px;font-size:.9rem}.showing-results[_ngcontent-%COMP%]{margin-bottom:15px;font-size:.9rem;color:#666}.results-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.results-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:12px 15px;text-align:left;font-weight:500;border-bottom:1px solid #ddd;font-size:.85rem}.results-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #eee;font-size:.9rem}.results-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.case-link[_ngcontent-%COMP%]{color:#337ab7;text-decoration:none}.case-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return d})();var du=n(70980),gc=n(27468);let _h=(()=>{class d{constructor(o){this.http=o,this.baseUrl=`${vl.$}/server/api`}generate(o){return this.http.post(`${this.baseUrl}/export/zip/${encodeURIComponent(o)}`,{})}getRecords(o=0,c=10,b,$="createdAt",ue="desc"){let Me=(new le.Nl).set("page",String(o)).set("size",String(c)).set("sortBy",$).set("sortDir",ue);return b&&(Me=Me.set("submitted",b)),this.http.get(`${this.baseUrl}/cnr/records`,{params:Me})}submitCase(o){const c=(new le.Nl).set("cnr",o);return this.http.post(`${this.baseUrl}/jtdr/submit`,null,{params:c})}checkStatus(o){return this.http.get(`${this.baseUrl}/jtdr/status/${encodeURIComponent(o)}`)}getSearchResults(o){const c=(new le.Nl).set("query",o);return this.http.get(`${this.baseUrl}/discover/search/objects`,{params:c})}getReportCsv(o,c){const b=(new le.Nl).set("start",o).set("end",c);return this.http.get(`${this.baseUrl}/jtdr/report`,{params:b,responseType:"blob",headers:{Accept:"text/csv"}})}getReportPdf(o,c){const b=(new le.Nl).set("start",o).set("end",c);return this.http.get(`${this.baseUrl}/jtdr/report`,{params:b,responseType:"blob",headers:{Accept:"application/pdf"}})}deleteGenerated(o){return this.http.delete(`${this.baseUrl}/export/zip/${encodeURIComponent(o)}`)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();const ef=()=>({"background-color":"#77BFBF","border-color":"#5aa0a0"});function zm(d,y){1&d&&e.nrm(0,"span",39)}function Jc(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",18)(1,"div",35)(2,"label",10),e.EFF(3,"CINO Number"),e.k0s(),e.j41(4,"div",36)(5,"input",37),e.mxI("ngModelChange",function(b){e.eBV(o);const $=e.XpG();return e.DH7($.searchQuery,b)||($.searchQuery=b),e.Njj(b)}),e.bIt("input",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.onSearchInput())}),e.k0s(),e.j41(6,"button",38),e.bIt("click",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.searchItems())}),e.DNE(7,zm,1,0,"span",31),e.EFF(8," Search "),e.k0s()()()()}if(2&d){const o=e.XpG();e.R7$(5),e.R50("ngModel",o.searchQuery),e.Y8G("disabled",o.loading),e.R7$(2),e.Y8G("ngIf",o.loading)}}function Ym(d,y){1&d&&e.nrm(0,"span",39)}function vh(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",18)(1,"div",9)(2,"label",10),e.EFF(3,"Case Number"),e.k0s(),e.j41(4,"input",40),e.mxI("ngModelChange",function(b){e.eBV(o);const $=e.XpG();return e.DH7($.caseNumberInput,b)||($.caseNumberInput=b),e.Njj(b)}),e.k0s()(),e.j41(5,"div",9)(6,"label",10),e.EFF(7,"Case Type"),e.k0s(),e.j41(8,"input",41),e.mxI("ngModelChange",function(b){e.eBV(o);const $=e.XpG();return e.DH7($.caseTypeInput,b)||($.caseTypeInput=b),e.Njj(b)}),e.k0s()(),e.j41(9,"div",9)(10,"label",10),e.EFF(11,"Case Year"),e.k0s(),e.j41(12,"input",42),e.mxI("ngModelChange",function(b){e.eBV(o);const $=e.XpG();return e.DH7($.caseYearInput,b)||($.caseYearInput=b),e.Njj(b)}),e.k0s()(),e.j41(13,"div",43)(14,"button",44),e.bIt("click",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.searchItems())}),e.DNE(15,Ym,1,0,"span",31),e.EFF(16," Search "),e.k0s(),e.j41(17,"button",45),e.bIt("click",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.clearCaseInputs())}),e.EFF(18," Clear "),e.k0s()()()}if(2&d){const o=e.XpG();e.R7$(4),e.R50("ngModel",o.caseNumberInput),e.R7$(4),e.R50("ngModel",o.caseTypeInput),e.R7$(4),e.R50("ngModel",o.caseYearInput),e.R7$(2),e.Y8G("disabled",o.loading||!(o.caseNumberInput||o.caseTypeInput||o.caseYearInput)),e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(2),e.Y8G("disabled",o.loading)}}function yh(d,y){1&d&&e.nrm(0,"span",46)}function Qc(d,y){1&d&&e.nrm(0,"span",39)}function Mv(d,y){if(1&d){const o=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td")(9,"button",51),e.bIt("click",function(){const b=e.eBV(o).$implicit,$=e.XpG(2);return e.Njj($.addSingleToCart(b))}),e.EFF(10),e.k0s()()()}if(2&d){const o=y.$implicit,c=e.XpG(2);e.R7$(2),e.JRh(o.cino),e.R7$(2),e.JRh(o.fileName),e.R7$(2),e.JRh(e.i5U(7,6,o.createdAt,"short")),e.R7$(3),e.Y8G("ngClass",c.isInCart(o)?"btn-secondary":"btn-outline-primary")("disabled",c.isInCart(o)),e.R7$(),e.SpI(" ",c.isInCart(o)?"Added":"Add to Zip List"," ")}}function Iv(d,y){if(1&d&&(e.j41(0,"div",6)(1,"div",16)(2,"h5",17),e.EFF(3,"Search Results"),e.k0s()(),e.j41(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th"),e.EFF(9,"CINO Number"),e.k0s(),e.j41(10,"th"),e.EFF(11,"File Name"),e.k0s(),e.j41(12,"th"),e.EFF(13,"Created At"),e.k0s(),e.j41(14,"th",49),e.EFF(15,"Actions"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,Mv,11,9,"tr",50),e.k0s()()()()),2&d){const o=e.XpG();e.R7$(17),e.Y8G("ngForOf",o.searchResults)}}function tf(d,y){1&d&&(e.j41(0,"div",52),e.EFF(1," No records found. "),e.k0s())}function Xm(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",75),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2).$implicit,$=e.XpG(2);return e.Njj($.submitFile(b))}),e.EFF(1," Submit "),e.k0s()}}function Eh(d,y){1&d&&(e.j41(0,"button",76),e.nrm(1,"span",39),e.EFF(2," Submitting... "),e.k0s()),2&d&&e.Y8G("ngStyle",e.lJ4(1,ef))}function Sv(d,y){1&d&&(e.j41(0,"button",77),e.EFF(1," Submitted "),e.k0s())}function Pv(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",78),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2).$implicit,$=e.XpG(2);return e.Njj($.submitFile(b))}),e.EFF(1," Retry Submit "),e.k0s()}}function Jm(d,y){if(1&d&&(e.qex(0,70),e.DNE(1,Xm,2,0,"button",71)(2,Eh,3,2,"button",72)(3,Sv,2,0,"button",73)(4,Pv,2,0,"button",74),e.bVm()),2&d){const o=e.XpG().$implicit;e.Y8G("ngSwitch",o.status),e.R7$(),e.Y8G("ngSwitchCase","idle"),e.R7$(),e.Y8G("ngSwitchCase","submitting"),e.R7$(),e.Y8G("ngSwitchCase","submitted"),e.R7$(),e.Y8G("ngSwitchCase","error")}}function GA(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",80),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2).$implicit,$=e.XpG(2);return e.Njj($.checkStatus(b))}),e.EFF(1," Check Status "),e.k0s()}}function Rv(d,y){1&d&&(e.j41(0,"button",76),e.nrm(1,"span",39),e.EFF(2," Checking... "),e.k0s()),2&d&&e.Y8G("ngStyle",e.lJ4(1,ef))}function nf(d,y){1&d&&(e.j41(0,"button",77),e.EFF(1," Checked "),e.k0s())}function PO(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",78),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2).$implicit,$=e.XpG(2);return e.Njj($.checkStatus(b))}),e.EFF(1," Retry Check "),e.k0s()}}function c1(d,y){if(1&d&&(e.qex(0,70),e.DNE(1,GA,2,0,"button",79)(2,Rv,3,2,"button",72)(3,nf,2,0,"button",73)(4,PO,2,0,"button",74),e.bVm()),2&d){const o=e.XpG().$implicit;e.Y8G("ngSwitch",o.checkStatusState),e.R7$(),e.Y8G("ngSwitchCase","idle"),e.R7$(),e.Y8G("ngSwitchCase","checking"),e.R7$(),e.Y8G("ngSwitchCase","checked"),e.R7$(),e.Y8G("ngSwitchCase","error")}}function RO(d,y){1&d&&e.nrm(0,"span",39)}function AO(d,y){if(1&d){const o=e.RV6();e.j41(0,"tr")(1,"td")(2,"input",67),e.mxI("ngModelChange",function(b){const $=e.eBV(o).$implicit;return e.DH7($.selected,b)||($.selected=b),e.Njj(b)}),e.bIt("change",function(){e.eBV(o);const b=e.XpG(2);return e.Njj(b.onGeneratedSelectionChange())}),e.k0s()(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.nI1(9,"date"),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td"),e.EFF(13),e.k0s(),e.j41(14,"td"),e.EFF(15),e.k0s(),e.j41(16,"td"),e.DNE(17,Jm,5,5,"ng-container",68)(18,c1,5,5,"ng-template",null,0,e.C5r),e.j41(20,"button",69),e.bIt("click",function(){const b=e.eBV(o).$implicit,$=e.XpG(2);return e.Njj($.deleteGenerated(b))}),e.DNE(21,RO,1,0,"span",31),e.EFF(22," Delete "),e.k0s()()()}if(2&d){const o=y.$implicit,c=e.sdS(19);e.R7$(2),e.R50("ngModel",o.selected),e.R7$(2),e.JRh(o.fileName),e.R7$(2),e.JRh(o.cinoNumber),e.R7$(2),e.JRh(e.i5U(9,11,o.createdAt,"short")),e.R7$(3),e.JRh(o.fileCount||"-"),e.R7$(2),e.JRh(o.userFriendlyPostResponse),e.R7$(2),e.JRh(o.userFriendlyCheckResponse||"Not verified yet"),e.R7$(2),e.Y8G("ngIf",!o.ackId)("ngIfElse",c),e.R7$(3),e.Y8G("disabled",o.deleting),e.R7$(),e.Y8G("ngIf",o.deleting)}}function Av(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",6)(1,"div",53)(2,"h5",17),e.EFF(3,"Generated Files"),e.k0s(),e.j41(4,"div",54)(5,"div",55)(6,"label",56),e.EFF(7,"Filter:"),e.k0s(),e.j41(8,"select",57),e.mxI("ngModelChange",function(b){e.eBV(o);const $=e.XpG();return e.DH7($.filterSubmitted,b)||($.filterSubmitted=b),e.Njj(b)}),e.j41(9,"option",58),e.EFF(10,"All"),e.k0s(),e.j41(11,"option",59),e.EFF(12,"Submitted"),e.k0s(),e.j41(13,"option",60),e.EFF(14,"Not Submitted"),e.k0s()()(),e.j41(15,"div",55)(16,"label",56),e.EFF(17,"Sort:"),e.k0s(),e.j41(18,"select",57),e.mxI("ngModelChange",function(b){e.eBV(o);const $=e.XpG();return e.DH7($.sortDir,b)||($.sortDir=b),e.Njj(b)}),e.j41(19,"option",61),e.EFF(20,"DESC"),e.k0s(),e.j41(21,"option",62),e.EFF(22,"ASC"),e.k0s()()(),e.j41(23,"button",63),e.bIt("click",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.applyFilters())}),e.EFF(24," Apply "),e.k0s()()(),e.j41(25,"div",47)(26,"table",48)(27,"thead")(28,"tr")(29,"th"),e.EFF(30,"Select"),e.k0s(),e.j41(31,"th"),e.EFF(32,"File Name"),e.k0s(),e.j41(33,"th"),e.EFF(34,"CINO Number"),e.k0s(),e.j41(35,"th"),e.EFF(36,"Created At"),e.k0s(),e.j41(37,"th"),e.EFF(38,"No. of Files"),e.k0s(),e.j41(39,"th"),e.EFF(40,"File Processing"),e.k0s(),e.j41(41,"th"),e.EFF(42,"Delivery Status"),e.k0s(),e.j41(43,"th"),e.EFF(44,"Actions"),e.k0s()()(),e.j41(45,"tbody"),e.DNE(46,AO,23,14,"tr",50),e.k0s()()(),e.j41(47,"div",64)(48,"button",65),e.bIt("click",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.loadGeneratedFiles(b.currentPage-1))}),e.EFF(49,"Previous"),e.k0s(),e.EFF(50),e.j41(51,"button",66),e.bIt("click",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.loadGeneratedFiles(b.currentPage+1))}),e.EFF(52,"Next"),e.k0s()()()}if(2&d){const o=e.XpG();e.R7$(8),e.R50("ngModel",o.filterSubmitted),e.R7$(10),e.R50("ngModel",o.sortDir),e.R7$(28),e.Y8G("ngForOf",o.generatedFiles),e.R7$(2),e.Y8G("disabled",0===o.currentPage),e.R7$(2),e.Lme(" Page ",o.currentPage+1," / ",o.totalPages," "),e.R7$(),e.Y8G("disabled",o.currentPage+1>=o.totalPages)}}function d1(d,y){1&d&&(e.j41(0,"div",52),e.EFF(1," No generated files found. "),e.k0s())}function wO(d,y){if(1&d&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&d){const o=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.i5U(2,1,o.createdAt,"short")," ")}}function xO(d,y){1&d&&e.EFF(0,"\u2014")}function sf(d,y){if(1&d){const o=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.DNE(6,wO,3,4,"span",89)(7,xO,1,0,"ng-template",null,2,e.C5r),e.k0s(),e.j41(9,"td")(10,"button",99),e.bIt("click",function(){const b=e.eBV(o).$implicit,$=e.XpG(3);return e.Njj($.removeFromCart(b._raw))}),e.EFF(11," Remove "),e.k0s()()()}if(2&d){const o=y.$implicit,c=e.sdS(8);e.R7$(2),e.JRh(o.fileName),e.R7$(2),e.JRh(o.cino),e.R7$(2),e.Y8G("ngIf",o.createdAt)("ngIfElse",c)}}function u1(d,y){if(1&d&&(e.qex(0),e.j41(1,"div",94)(2,"table",48)(3,"thead")(4,"tr")(5,"th",95),e.EFF(6,"File Name"),e.k0s(),e.j41(7,"th",96),e.EFF(8,"CINO"),e.k0s(),e.j41(9,"th",96),e.EFF(10,"Created At"),e.k0s(),e.j41(11,"th",97),e.EFF(12,"Actions"),e.k0s()()(),e.j41(13,"tbody"),e.DNE(14,sf,12,4,"tr",98),e.k0s()()(),e.bVm()),2&d){const o=e.XpG(2);e.R7$(14),e.Y8G("ngForOf",o.cartView)("ngForTrackBy",o.trackByCart)}}function wv(d,y){1&d&&(e.j41(0,"div",100),e.EFF(1," Your cart is empty. "),e.k0s())}function LO(d,y){1&d&&e.nrm(0,"span",39)}function $A(d,y){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"div",81),e.bIt("click",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.closeCart())}),e.k0s(),e.j41(2,"div",82)(3,"div",83)(4,"div",84),e.bIt("click",function(b){return e.eBV(o),e.Njj(b.stopPropagation())}),e.j41(5,"div",85)(6,"h5",86),e.EFF(7),e.k0s(),e.j41(8,"button",87),e.bIt("click",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.closeCart())}),e.k0s()(),e.j41(9,"div",88),e.DNE(10,u1,15,2,"ng-container",89)(11,wv,2,0,"ng-template",null,1,e.C5r),e.k0s(),e.j41(13,"div",90)(14,"button",91),e.bIt("click",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.clearCart())}),e.EFF(15," Clear Cart "),e.k0s(),e.j41(16,"div")(17,"button",92),e.bIt("click",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.closeCart())}),e.EFF(18,"Close"),e.k0s(),e.j41(19,"button",93),e.bIt("click",function(){e.eBV(o);const b=e.XpG();return b.closeCart(),e.Njj(b.generateFiles())}),e.DNE(20,LO,1,0,"span",31),e.EFF(21),e.k0s()()()()()()()}if(2&d){const o=e.sdS(12),c=e.XpG();e.R7$(7),e.SpI("Cart (",c.cartCount,")"),e.R7$(3),e.Y8G("ngIf",c.cartCount)("ngIfElse",o),e.R7$(4),e.Y8G("disabled",!c.cartCount),e.R7$(5),e.Y8G("disabled",!c.cartCount||c.generating),e.R7$(),e.Y8G("ngIf",c.generating),e.R7$(),e.SpI(" ",c.generating?"Generating\u2026":"Generate Files"," ")}}let WA=(()=>{class d{constructor(o,c,b){this.cnrService=o,this.cdr=c,this.searchPageService=b,this.searchMode="cino",this.searchQuery="",this.caseNumberInput="",this.caseTypeInput="",this.caseYearInput="",this.loading=!1,this.generating=!1,this.submitting=!1,this.currentPage=0,this.pageSize=10,this.totalPages=0,this.filterSubmitted="",this.sortDir="desc",this.searchResults=[],this.selectedSearchFiles=[],this.selectedGeneratedFiles=[],this.generatedFiles=[],this.reportFrom=null,this.reportTo=null,this.reportLoading=!1,this.reportFormat="csv",this.cartKeySet=new Set,this.cartItems=[],this.showCart=!1,this.POST_CODE_MAP={200:"Submitted successfully.",201:"Case created.",202:"Submission accepted for processing.",401:"CNR must not be null or empty.",402:"Zip hash must not be null or empty.",403:"Invalid Zip File.",404:"Zip name mismatch.",405:"ZIP hash mismatch.",406:"Invalid userId.",407:"UserId not found in JTDR.",409:"Duplicate case detected. Case already exists for provided CNR.",500:"Internal Server Error."},this.CHECK_CODE_MAP={200:"Checked successfully.",202:"Check accepted for processing.",401:"CNR must not be null or empty.",402:"Zip hash must not be null or empty.",403:"Invalid Zip File.",405:"ZIP hash mismatch.",409:"Duplicate case detected. Case already exists for provided CNR.",500:"Internal Server Error."}}ngOnInit(){this.loadGeneratedFiles()}fileKey(o){return o.itemUUID||o.fileName||""}get cartCount(){return this.cartItems.length}isInCart(o){const c=this.fileKey(o);return!!c&&this.cartKeySet.has(c)}addSingleToCart(o){const c=this.fileKey(o);!c||this.cartKeySet.has(c)||(this.cartKeySet.add(c),this.cartItems=[...this.cartItems,o],this.cdr.detectChanges())}removeFromCart(o){const c=this.fileKey(o);c&&this.cartKeySet.delete(c)&&(this.cartItems=this.cartItems.filter(b=>this.fileKey(b)!==c),this.cdr.detectChanges())}clearCart(){this.cartKeySet.clear(),this.cartItems=[],this.cdr.detectChanges()}get cartView(){return this.cartItems.map(o=>({cino:o.cino??o.cinoNumber??"N/A",fileName:o.fileName??"N/A",createdAt:o.createdAt??null,_raw:o}))}trackByCart(o,c){const b=c?._raw??c;return b?.itemUUID??b?.fileName??o}openCart(){this.showCart=!0,this.cdr.detectChanges()}closeCart(){this.showCart=!1,this.cdr.detectChanges()}viewCart(){this.openCart()}downloadReportCsv(){this.reportFormat="csv",this.downloadReport()}downloadReport(){if(!this.reportFrom||!this.reportTo)return;if(new Date(this.reportFrom)>new Date(this.reportTo))return void alert("From date cannot be after To date");this.reportLoading=!0,this.cdr.detectChanges();const o=(c,b)=>{const $=window.URL.createObjectURL(c),ue=document.createElement("a");ue.href=$,ue.download=`jtdr_report_${this.reportFrom}_to_${this.reportTo}.${b}`,document.body.appendChild(ue),ue.click(),ue.remove(),window.URL.revokeObjectURL($),this.reportLoading=!1,this.cdr.detectChanges()};"csv"===this.reportFormat?this.cnrService.getReportCsv(this.reportFrom,this.reportTo).subscribe({next:c=>o(c,"csv"),error:c=>{console.error("Report CSV failed:",c),this.reportLoading=!1,alert("Failed to generate report CSV."),this.cdr.detectChanges()}}):this.cnrService.getReportPdf(this.reportFrom,this.reportTo).subscribe({next:c=>o(c,"pdf"),error:c=>{console.error("Report PDF failed:",c),this.reportLoading=!1,alert("Failed to generate report PDF."),this.cdr.detectChanges()}})}asString(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch{return String(o)}}parsePostResult(o){const c=o?.status?String(o.status):void 0;if(o&&"object"==typeof o&&!("error"in o))return{code:o.statusCode?String(o.statusCode):c,message:o.message,ackId:o.ackId,raw:this.asString(o)};if(o?.error&&"object"==typeof o.error)return{code:o.error.statusCode?String(o.error.statusCode):c,message:o.error.message??o.message,ackId:o.error.ackId,raw:this.asString(o.error)};const b="string"==typeof o?.error?o.error:"string"==typeof o?o:o?.message??"",$=b.match(/"statusCode"\s*:\s*"?(\d{3})"?/i)?.[1]||b.match(/\b(\d{3})\b/)?.[1]||c,ue=b.match(/"message"\s*:\s*"([^"]+)"/i)?.[1];return{code:$,message:ue,raw:b||this.asString(o)}}mapFriendly(o,c,b,$,ue="Unknown response"){return c&&o[c]||b||$||ue}mdFirst(o,c,b=[]){const $=[c,...b];for(const ue of $){const Me=o?.[ue];if(Array.isArray(Me)&&null!=Me[0]?.value)return String(Me[0].value)}}buildDisplayFileName(o){const ue=[this.mdFirst(o,"dc.title"),this.mdFirst(o,"dc.casetype",["dc.case.type"]),this.mdFirst(o,"dc.caseyear",["dc.case.year"])].filter(Boolean);return ue.length?ue.join("_"):"N/A"}loadGeneratedFiles(o=this.currentPage){this.cnrService.getRecords(o,this.pageSize,""===this.filterSubmitted?void 0:this.filterSubmitted,"createdAt",this.sortDir).subscribe({next:c=>{this.totalPages=c.totalPages??0,this.currentPage=c.number??0;const b=this.POST_CODE_MAP,$=this.CHECK_CODE_MAP,ue=Array.isArray(c.content)?c.content:[];this.generatedFiles=ue.map(Me=>{const it=Me.postResponse??"",Bt=Me.getCheckResponse??"",yn=(null!=Me.postStatus?String(Me.postStatus):void 0)||it.match(/^(\d{3})/)?.[1],cn=(null!=Me.getCheckStatus?String(Me.getCheckStatus):void 0)||Bt.match(/^(\d{3})/)?.[1];let ts="";ts=Me.status&&String(Me.status).trim().length>0?String(Me.status).trim():it.includes("Folder to zip not found")?"Folder to zip not found.":yn&&b[yn]?b[yn]:it||"Not submitted yet";const vs=cn&&$[cn]||Bt||"Not verified yet";return{...Me,selected:!1,status:"idle",checkStatusState:"idle",userFriendlyPostResponse:ts,userFriendlyCheckResponse:vs,deleting:!1}}),this.cdr.detectChanges()},error:c=>{console.error("Error fetching generated files:",c),this.generatedFiles=[],this.cdr.detectChanges()}})}searchItems(){if(this.loading=!0,this.cdr.detectChanges(),"cino"===this.searchMode){if(""===this.searchQuery.trim())return this.loading=!1,this.searchResults=[],void this.cdr.detectChanges();this.cnrService.getSearchResults(this.searchQuery).pipe((0,du.j)(()=>{this.loading=!1,this.cdr.detectChanges()})).subscribe({next:o=>{this.searchResults=(o._embedded?.searchResult?._embedded?.objects||[]).map(b=>{const $=b._embedded?.indexableObject?.metadata||{};return{cino:$["dc.cino"]?.[0]?.value||"N/A",fileName:this.buildDisplayFileName($),hashValue:"N/A",createdAt:b._embedded?.indexableObject?.lastModified||"N/A",selected:!1,ackId:b._embedded?.indexableObject?.ackId||null,itemUUID:b._embedded?.indexableObject?.uuid||null}}),this.cdr.detectChanges()},error:o=>{console.error("Search error:",o),this.searchResults=[],this.cdr.detectChanges()}})}else{const o=this.caseNumberInput?.trim()||void 0,c=this.caseTypeInput?.trim()||void 0,b=this.caseYearInput?.trim()||void 0;if(!o&&!c&&!b)return this.loading=!1,void this.cdr.detectChanges();this.searchPageService.getSearchResults(o,c,b,"dc.title","ASC",10).pipe((0,du.j)(()=>{this.loading=!1,this.cdr.detectChanges()})).subscribe({next:$=>{this.searchResults=($?._embedded?.searchResult?._embedded?.objects||[]).map(Me=>{const it=Me._embedded?.indexableObject?.metadata||{};return{cino:it["dc.cino"]?.[0]?.value||"N/A",fileName:this.buildDisplayFileName(it),hashValue:"N/A",createdAt:Me._embedded?.indexableObject?.lastModified||"N/A",selected:!1,ackId:Me._embedded?.indexableObject?.ackId||null,itemUUID:Me._embedded?.indexableObject?.uuid||null}}),this.cdr.detectChanges()},error:$=>{console.error("Case search error:",$),this.searchResults=[],this.cdr.detectChanges()}})}}onSearchInput(){"cino"===this.searchMode&&""===this.searchQuery.trim()&&(this.searchResults=[],this.cdr.detectChanges())}clearCaseInputs(){this.caseNumberInput="",this.caseTypeInput="",this.caseYearInput="",this.cdr.detectChanges()}onSearchSelectionChange(){this.selectedSearchFiles=this.searchResults.filter(o=>o.selected),this.cdr.detectChanges()}onGeneratedSelectionChange(){this.selectedGeneratedFiles=this.generatedFiles.filter(o=>o.selected),this.cdr.detectChanges()}generateFiles(){if(0===this.cartItems.length)return;this.generating=!0,this.cdr.detectChanges();const o=this.cartItems.map(c=>this.cnrService.generate(c.itemUUID).pipe((0,Rn.W)(b=>(console.error(`Error generating zip for Item UUID: ${c.itemUUID}`,b),(0,Ts.of)(null)))));(0,gc.p)(o).pipe((0,du.j)(()=>{this.generating=!1,this.loadGeneratedFiles(this.currentPage),this.cdr.detectChanges()})).subscribe()}submitFile(o){if(o.fileName){if(o.ackId)return void this.checkStatus(o);o.status="submitting",o.userFriendlyPostResponse="",this.cdr.detectChanges(),this.cnrService.submitCase(o.fileName).subscribe({next:c=>{const{code:b,message:$,ackId:ue,raw:Me}=this.parsePostResult(c);ue&&(o.ackId=ue);const it=!b||b.startsWith("2");o.status=it?"submitted":"error",o.userFriendlyPostResponse=this.mapFriendly(this.POST_CODE_MAP,b,$,Me,"Unknown response"),o.postResponse=Me,this.cdr.detectChanges()},error:c=>{const{code:b,message:$,raw:ue}=this.parsePostResult(c);o.status="error",o.userFriendlyPostResponse=this.mapFriendly(this.POST_CODE_MAP,b,$,ue,"Submission failed"),o.postResponse=ue,this.cdr.detectChanges()}})}}submitAllFiles(){if(0===this.selectedGeneratedFiles.length)return;this.submitting=!0,this.cdr.detectChanges();const o=this.selectedGeneratedFiles.filter(Me=>!Me.ackId),c=this.selectedGeneratedFiles.filter(Me=>!!Me.ackId),ue=[...o.map(Me=>(Me.status="submitting",Me.userFriendlyPostResponse="",this.cnrService.submitCase(Me.fileName).pipe((0,xt.T)(it=>{const{code:Bt,message:yn,ackId:cn,raw:ts}=this.parsePostResult(it);cn&&(Me.ackId=cn);const vs=!Bt||Bt.startsWith("2");return Me.status=vs?"submitted":"error",Me.userFriendlyPostResponse=this.mapFriendly(this.POST_CODE_MAP,Bt,yn,ts,"Unknown response"),Me.postResponse=ts,!0}),(0,Rn.W)(it=>{const{code:Bt,message:yn,raw:cn}=this.parsePostResult(it);return Me.status="error",Me.userFriendlyPostResponse=this.mapFriendly(this.POST_CODE_MAP,Bt,yn,cn,"Submission failed"),Me.postResponse=cn,(0,Ts.of)(!1)})))),...c.map(Me=>(Me.checkStatusState="checking",this.cnrService.checkStatus(Me.ackId).pipe((0,xt.T)(it=>{const{code:Bt,message:yn,raw:cn}=this.parsePostResult(it);return Me.checkStatusState="checked",Me.userFriendlyCheckResponse=this.mapFriendly(this.CHECK_CODE_MAP,Bt,yn,cn,"Checked successfully"),!0}),(0,Rn.W)(it=>{const{code:Bt,message:yn,raw:cn}=this.parsePostResult(it);return Me.checkStatusState="error",Me.userFriendlyCheckResponse=this.mapFriendly(this.CHECK_CODE_MAP,Bt,yn,cn,"Status check failed"),(0,Ts.of)(!1)}))))];(0,gc.p)(ue.length?ue:[(0,Ts.of)(!0)]).pipe((0,du.j)(()=>{this.submitting=!1,this.loadGeneratedFiles(this.currentPage),this.cdr.detectChanges()})).subscribe()}deleteGenerated(o){if(!o?.fileName)return;const c=this.generatedFiles.find(b=>b.fileName===o.fileName);c&&(c.deleting=!0),this.cdr.detectChanges(),this.cnrService.deleteGenerated(o.fileName).pipe((0,du.j)(()=>{c&&(c.deleting=!1),this.cdr.detectChanges()})).subscribe({next:()=>{this.loadGeneratedFiles(this.currentPage)},error:b=>{console.error("Delete failed:",b),alert("Failed to delete file.")}})}checkStatus(o){o.ackId&&(o.checkStatusState="checking",this.cdr.detectChanges(),this.cnrService.checkStatus(o.ackId).subscribe({next:c=>{const{code:b,message:$,raw:ue}=this.parsePostResult(c);o.checkStatusState="checked",o.userFriendlyCheckResponse=this.mapFriendly(this.CHECK_CODE_MAP,b,$,ue,"Checked successfully"),this.cdr.detectChanges()},error:c=>{const{code:b,message:$,raw:ue}=this.parsePostResult(c);o.checkStatusState="error",o.userFriendlyCheckResponse=this.mapFriendly(this.CHECK_CODE_MAP,b,$,ue,"Status check failed"),this.cdr.detectChanges()}}))}applyFilters(){this.currentPage=0,this.loadGeneratedFiles(0)}computeStatusText(o){const c=(o.status||"").toString().trim();if(c)return c;const b=o.postStatus?String(o.postStatus):void 0;if(b&&this.POST_CODE_MAP[b])return this.POST_CODE_MAP[b];const $=o.postResponse||"";if($){const{code:ue,message:Me,raw:it}=this.parsePostResult($);return this.mapFriendly(this.POST_CODE_MAP,ue,Me,it,"")||$}return"Not submitted yet"}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(_h),e.rXU(e.gRc),e.rXU(dh))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-cnr-manager"]],decls:58,vars:20,consts:[["checkStatusButtons",""],["emptyCart",""],["dash",""],[1,"container","p-4"],[1,"row","mb-4"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"row","g-2","align-items-end","mb-3"],[1,"col-md-3"],[1,"form-label"],[1,"form-select",3,"ngModelChange","ngModel"],["value","cino"],["value","case"],["class","row g-2 align-items-end",4,"ngIf"],[1,"card","mt-3"],[1,"card-header"],[1,"mb-0"],[1,"row","g-2","align-items-end"],["type","date",1,"form-control",3,"ngModelChange","ngModel","max"],["type","date",1,"form-control",3,"ngModelChange","ngModel","min"],["value","csv"],["value","pdf"],[1,"btn","btn-outline-dark","w-100",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"text-muted","d-block","mt-2"],[1,"mb-4"],[1,"row"],[1,"col-md-4"],[1,"btn","btn-outline-dark","mb-3","w-100",3,"click"],[1,"btn","btn-primary","mb-3","w-100",3,"click","disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["class","card",4,"ngIf"],["class","text-center text-muted py-4",4,"ngIf"],[4,"ngIf"],[1,"col-md-6"],[1,"input-group"],["placeholder","Enter CINO number\u2026",1,"form-control",3,"ngModelChange","input","ngModel","disabled"],[1,"btn","btn-primary",3,"click"],[1,"spinner-border","spinner-border-sm","me-1"],["placeholder","e.g., 1234",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","e.g., WP(C), CRLMC",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","e.g., 2024",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3","d-flex","gap-2"],[1,"btn","btn-primary","w-100",3,"click","disabled"],[1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"card-body","p-0"],[1,"table","table-striped","table-hover","mb-0"],[2,"width","160px"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm",3,"click","ngClass","disabled"],[1,"text-center","text-muted","py-4"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],[1,"me-3"],[1,"me-1"],[3,"ngModelChange","ngModel"],["value",""],["value","submit"],["value","notSubmitted"],["value","desc"],["value","asc"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"card-footer","d-flex","justify-content-center"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click","disabled"],[1,"btn","btn-sm","btn-outline-primary","ms-2",3,"click","disabled"],["type","checkbox",3,"ngModelChange","change","ngModel"],[3,"ngSwitch",4,"ngIf","ngIfElse"],[1,"btn","btn-outline-danger","btn-sm","ms-2",3,"click","disabled"],[3,"ngSwitch"],["class","btn btn-primary btn-sm",3,"click",4,"ngSwitchCase"],["class","btn btn-warning btn-sm","disabled","",3,"ngStyle",4,"ngSwitchCase"],["class","btn btn-success btn-sm","disabled","",4,"ngSwitchCase"],["class","btn btn-danger btn-sm",3,"click",4,"ngSwitchCase"],[1,"btn","btn-primary","btn-sm",3,"click"],["disabled","",1,"btn","btn-warning","btn-sm",3,"ngStyle"],["disabled","",1,"btn","btn-success","btn-sm"],[1,"btn","btn-danger","btn-sm",3,"click"],["class","btn btn-info btn-sm",3,"click",4,"ngSwitchCase"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"modal-backdrop","fade","show",3,"click"],["tabindex","-1","role","dialog","aria-modal","true",1,"modal","d-block"],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-0"],[4,"ngIf","ngIfElse"],[1,"modal-footer","d-flex","justify-content-between"],[1,"btn","btn-outline-danger",3,"click","disabled"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"table-responsive"],[2,"width","40%"],[2,"width","25%"],[2,"width","10%"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"text-center","text-muted","py-5"]],template:function(c,b){1&c&&(e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"label",10),e.EFF(8,"Search Mode"),e.k0s(),e.j41(9,"select",11),e.mxI("ngModelChange",function(ue){return e.DH7(b.searchMode,ue)||(b.searchMode=ue),ue}),e.j41(10,"option",12),e.EFF(11,"By CINO Number"),e.k0s(),e.j41(12,"option",13),e.EFF(13,"By Case (Number / Type / Year)"),e.k0s()()()(),e.DNE(14,Jc,9,3,"div",14)(15,vh,19,6,"div",14),e.k0s()(),e.j41(16,"div",15)(17,"div",16)(18,"h5",17),e.EFF(19,"Report"),e.k0s()(),e.j41(20,"div",7)(21,"div",18)(22,"div",9)(23,"label",10),e.EFF(24,"From"),e.k0s(),e.j41(25,"input",19),e.mxI("ngModelChange",function(ue){return e.DH7(b.reportFrom,ue)||(b.reportFrom=ue),ue}),e.k0s()(),e.j41(26,"div",9)(27,"label",10),e.EFF(28,"To"),e.k0s(),e.j41(29,"input",20),e.mxI("ngModelChange",function(ue){return e.DH7(b.reportTo,ue)||(b.reportTo=ue),ue}),e.k0s()(),e.j41(30,"div",9)(31,"label",10),e.EFF(32,"Format"),e.k0s(),e.j41(33,"select",11),e.mxI("ngModelChange",function(ue){return e.DH7(b.reportFormat,ue)||(b.reportFormat=ue),ue}),e.j41(34,"option",21),e.EFF(35,"CSV"),e.k0s(),e.j41(36,"option",22),e.EFF(37,"PDF"),e.k0s()()(),e.j41(38,"div",9)(39,"button",23),e.bIt("click",function(){return b.downloadReport()}),e.DNE(40,yh,1,0,"span",24),e.EFF(41),e.k0s()()(),e.j41(42,"small",25),e.EFF(43," Tip: Dates are inclusive. Report contains metadata, zip status, submission & verification info. "),e.k0s()()()()(),e.j41(44,"div",26)(45,"div",27)(46,"div",28)(47,"button",29),e.bIt("click",function(){return b.openCart()}),e.EFF(48),e.k0s()(),e.j41(49,"div",28)(50,"button",30),e.bIt("click",function(){return b.submitAllFiles()}),e.DNE(51,Qc,1,0,"span",31),e.EFF(52),e.k0s()()()(),e.DNE(53,Iv,18,1,"div",32)(54,tf,2,0,"div",33)(55,Av,53,7,"div",32)(56,d1,2,0,"div",33),e.k0s(),e.DNE(57,$A,22,7,"div",34)),2&c&&(e.R7$(9),e.R50("ngModel",b.searchMode),e.R7$(5),e.Y8G("ngIf","cino"===b.searchMode),e.R7$(),e.Y8G("ngIf","case"===b.searchMode),e.R7$(10),e.R50("ngModel",b.reportFrom),e.Y8G("max",b.reportTo||""),e.R7$(4),e.R50("ngModel",b.reportTo),e.Y8G("min",b.reportFrom||""),e.R7$(4),e.R50("ngModel",b.reportFormat),e.R7$(6),e.Y8G("disabled",b.reportLoading||!b.reportFrom||!b.reportTo),e.R7$(),e.Y8G("ngIf",b.reportLoading),e.R7$(),e.SpI(" ",b.reportLoading?"Generating\u2026":"Download Report"," "),e.R7$(7),e.SpI(" Add to Zip List (",b.cartCount,") "),e.R7$(2),e.Y8G("disabled",!b.selectedGeneratedFiles.length||b.submitting),e.R7$(),e.Y8G("ngIf",b.submitting),e.R7$(),e.SpI(" ",b.submitting?"Submitting...":"Post All Files"," "),e.R7$(),e.Y8G("ngIf",b.searchResults.length>0),e.R7$(),e.Y8G("ngIf",0===b.searchResults.length&&("cino"===b.searchMode&&b.searchQuery||"case"===b.searchMode&&(b.caseNumberInput||b.caseTypeInput||b.caseYearInput))),e.R7$(),e.Y8G("ngIf",b.generatedFiles.length>0),e.R7$(),e.Y8G("ngIf",0===b.generatedFiles.length),e.R7$(),e.Y8G("ngIf",b.showCart))},dependencies:[f.YU,f.Sq,f.bT,f.B3,f.ux,f.e1,rn.xH,rn.y7,rn.me,rn.Zm,rn.wz,rn.BC,rn.vS,f.vh],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:auto}.table[_ngcontent-%COMP%]{background-color:#fff}.hover-bg-light[_ngcontent-%COMP%]:hover{background-color:#f8f9fa!important}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.position-relative[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]{border:1px solid #dee2e6;box-shadow:0 .5rem 1rem #00000026}.position-relative[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]   .border-bottom[_ngcontent-%COMP%]:last-child{border-bottom:none!important}.badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem .75rem}.badge[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{opacity:.7}.badge[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:2px solid #dee2e6;font-weight:600}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.btn-group-sm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}.card[_ngcontent-%COMP%]{box-shadow:0 .125rem .25rem #00000013;border:1px solid rgba(0,0,0,.125)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid rgba(0,0,0,.125)}.badge.bg-success[_ngcontent-%COMP%]{background-color:#198754!important}.badge.bg-primary[_ngcontent-%COMP%]{background-color:#0d6efd!important}.badge.bg-danger[_ngcontent-%COMP%]{background-color:#dc3545!important}.badge.bg-secondary[_ngcontent-%COMP%]{background-color:#6c757d!important}@media (max-width: 768px){.input-group[_ngcontent-%COMP%]{flex-direction:column}.input-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-bottom:.5rem}.table-responsive[_ngcontent-%COMP%]{font-size:.875rem}}.position-absolute[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInDown .2s ease-out}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}"]})}}return d})();const rf=[{path:ar.n,component:ys},{path:ar.RC,component:_n},{path:"",canActivate:[(d,y,o=(0,e.WQX)(E.il))=>o.pipe((0,E.Lt)(x.Gv)).pipe((0,xt.T)(c=>!1===c),(0,C.F)(),(0,Wn.p)(c=>!0===c),(0,T.s)(1))],canActivateChild:[(d,y,o=(0,e.WQX)(bd.RootDataService),c=(0,e.WQX)(v.Ix))=>o.checkServerAvailability().pipe((0,T.s)(1),(0,xt.T)(b=>!!b||c.parseUrl((0,ar.N2)())))],resolve:[(d,y,o=(0,e.WQX)(lh))=>o.resolve(d,y)],children:[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"reload/:rnd",component:qa,pathMatch:"full",canActivate:[(d,y,o=(0,e.WQX)(si.vQ),c=(0,e.WQX)(v.Ix))=>{if((0,G.hj)(d.queryParams.redirect)){const b=d.queryParams.redirect.startsWith(o.ui.nameSpace)?d.queryParams.redirect.substring(o.ui.nameSpace.length):d.queryParams.redirect;return c.parseUrl(b)}return c.createUrlTree([ar.Eo])}]},{path:"home",loadChildren:()=>n.e(2587).then(n.bind(n,62587)).then(d=>d.ROUTES),data:{showBreadcrumbs:!1,enableRSS:!0},providers:[bl()],canActivate:[wi.t,Si]},{path:"community-list",loadChildren:()=>n.e(5777).then(n.bind(n,75777)).then(d=>d.ROUTES),canActivate:[wi.t,Si]},{path:"id",loadChildren:()=>n.e(8424).then(n.bind(n,88424)).then(d=>d.ROUTES),canActivate:[wi.t,Si]},{path:"handle",loadChildren:()=>n.e(8424).then(n.bind(n,88424)).then(d=>d.ROUTES),canActivate:[wi.t,Si]},{path:ar.il,loadChildren:()=>Promise.all([n.e(8500),n.e(2076),n.e(1053)]).then(n.bind(n,51053)).then(d=>d.ROUTES),canActivate:[Cd]},{path:ar.sT,loadChildren:()=>Promise.all([n.e(8500),n.e(2076),n.e(4184)]).then(n.bind(n,64184)).then(d=>d.ROUTES),canActivate:[Bp]},{path:Fp.b2,loadChildren:()=>Promise.all([n.e(8980),n.e(781),n.e(8296),n.e(4958),n.e(6864)]).then(n.bind(n,76864)).then(d=>d.ROUTES),data:{enableRSS:!0},canActivate:[wi.t,Si]},{path:Ju.CC,loadChildren:()=>Promise.all([n.e(8980),n.e(781),n.e(7558),n.e(8296),n.e(2073),n.e(4958),n.e(2076),n.e(6475)]).then(n.bind(n,16475)).then(d=>d.ROUTES),data:{showBreadcrumbs:!1,enableRSS:!0},canActivate:[wi.t,Si]},{path:fi.xb,loadChildren:()=>Promise.all([n.e(8980),n.e(781),n.e(870),n.e(8296),n.e(2076),n.e(5535)]).then(n.bind(n,95535)).then(d=>d.ROUTES),canActivate:[wi.t,Si]},{path:"entities/:entity-type",loadChildren:()=>Promise.all([n.e(8980),n.e(781),n.e(870),n.e(8296),n.e(2076),n.e(5535)]).then(n.bind(n,95535)).then(d=>d.ROUTES),canActivate:[wi.t,Si]},{path:"viewer",loadChildren:()=>Promise.all([n.e(2076),n.e(7676)]).then(n.bind(n,87676)).then(d=>d.ROUTES),canActivate:[wi.t]},{path:ar.H_,loadChildren:()=>Promise.all([n.e(5355),n.e(7652)]).then(n.bind(n,67652)).then(d=>d.ROUTES),canActivate:[Si]},{path:ar.l2,loadChildren:()=>Promise.all([n.e(5355),n.e(7652)]).then(n.bind(n,67652)).then(d=>d.ROUTES),canActivate:[Si]},{path:"mydspace",loadChildren:()=>n.e(3822).then(n.bind(n,73822)).then(d=>d.ROUTES),data:{enableRSS:!0},providers:[bl()],canActivate:[wi.t,Si]},{path:"adminpool",loadChildren:()=>n.e(6678).then(n.bind(n,6678)).then(d=>d.AdminPoolModule),data:{enableRSS:!0},providers:[bl()],canActivate:[wi.t,Si]},{path:"search",loadChildren:()=>n.e(8448).then(n.bind(n,58448)).then(d=>d.ROUTES),data:{enableRSS:!0},canActivate:[wi.t,Si]},{path:"case-search",component:Gm,canActivate:[wi.t]},{path:"jtdr",component:WA,canActivate:[jp.Y,Si]},{path:"judgement-date-search",component:Ae,canActivate:[wi.t]},{path:"case-search-2",component:N,canActivate:[wi.t]},{path:"free-text-search",component:Nt,canActivate:[wi.t]},{path:"browse",canActivate:[wi.t,Si],children:[{path:"title",component:Gm,data:{enableRSS:!0},canActivate:[wi.t,Si]},{path:"dc_case_type",component:Ao,data:{enableRSS:!0},canActivate:[wi.t,Si]},{path:"dc_case_number",component:N,data:{enableRSS:!0},canActivate:[wi.t,Si]},{path:"dc_judge_name",component:Ae,data:{enableRSS:!0},canActivate:[wi.t,Si]},{path:"dc_party_firstpetitioner",component:Sn,data:{enableRSS:!0},canActivate:[wi.t,Si]},{path:"dc_party_firstrespondent",component:Pi,data:{enableRSS:!0},canActivate:[wi.t,Si]},{path:"dc_advocate_firstpetitioner",component:qp,data:{enableRSS:!0},canActivate:[wi.t,Si]},{path:"dc_advocate_firstrespondent",component:Ov,data:{enableRSS:!0},canActivate:[wi.t,Si]},{path:"dc_case_disposaldate",component:Or,data:{enableRSS:!0},canActivate:[wi.t,Si]},{path:"",loadChildren:()=>n.e(5079).then(n.bind(n,35079)).then(d=>d.ROUTES),canActivate:[wi.t,Si]}]},{path:ar.pU,loadChildren:()=>n.e(2426).then(n.bind(n,2426)).then(d=>d.ROUTES),data:{enableRSS:!0},canActivate:[jp.Y,Si]},{path:Qy.uD,loadChildren:()=>Promise.all([n.e(1653),n.e(2519)]).then(n.bind(n,32519)).then(d=>d.ROUTES),providers:[bl()],canActivate:[wi.t,Si]},{path:"login",loadChildren:()=>n.e(3561).then(n.bind(n,3561)).then(d=>d.ROUTES)},{path:"logout",loadChildren:()=>n.e(8762).then(n.bind(n,8762)).then(d=>d.ROUTES)},{path:"submit",loadChildren:()=>n.e(9360).then(n.bind(n,79360)).then(d=>d.ROUTES),providers:[lu()],canActivate:[wi.t,Si]},{path:"import-external",loadChildren:()=>n.e(7411).then(n.bind(n,47411)).then(d=>d.ROUTES),canActivate:[wi.t,Si]},{path:"workspaceitems",loadChildren:()=>Promise.all([n.e(8980),n.e(870),n.e(1717),n.e(2422)]).then(n.bind(n,2422)).then(d=>d.ROUTES),providers:[lu()],canActivate:[wi.t,Si]},{path:ar.Vv,providers:[lu()],loadChildren:()=>Promise.all([n.e(8980),n.e(870),n.e(1717),n.e(1501)]).then(n.bind(n,21501)).then(d=>d.ROUTES),data:{enableRSS:!0},canActivate:[wi.t,Si]},{path:ar.pX,loadChildren:()=>Promise.all([n.e(2076),n.e(5361)]).then(n.bind(n,65361)).then(d=>d.ROUTES),providers:[bl()],canActivate:[wi.t,Si]},{path:oh.rG,loadChildren:()=>Promise.all([n.e(2076),n.e(5818)]).then(n.bind(n,35818)).then(d=>d.ROUTES),canActivate:[wi.t,Si]},{path:Cv.C2,loadChildren:()=>n.e(6780).then(n.bind(n,86780)).then(d=>d.ROUTES),providers:[bl()],canActivate:[wi.t,Si]},{path:ar.Ep,loadChildren:()=>Promise.all([n.e(2076),n.e(320)]).then(n.bind(n,50320)).then(d=>d.ROUTES)},{path:ar.RZ,loadChildren:()=>Promise.all([n.e(2076),n.e(8441)]).then(n.bind(n,48441)).then(d=>d.ROUTES),canActivate:[wi.t,Si]},{path:ar.OC,component:Ie},{path:"statistics",loadChildren:()=>Promise.all([n.e(2076),n.e(9014)]).then(n.bind(n,19014)).then(d=>d.ROUTES),canActivate:[wi.t,Si]},{path:ar.lH,loadChildren:()=>n.e(298).then(n.bind(n,50298)).then(d=>d.ROUTES)},{path:ar.UP,loadChildren:()=>Promise.all([n.e(9366),n.e(8500),n.e(2076),n.e(5191)]).then(n.bind(n,75191)).then(d=>d.ROUTES),canActivate:[av.i,Si]},{path:"subscriptions",loadChildren:()=>Promise.all([n.e(781),n.e(2076),n.e(6643)]).then(n.bind(n,66643)).then(d=>d.ROUTES),canActivate:[wi.t]},{path:"**",pathMatch:"full",component:qa}]}];n(81387);var af=n(52027),uu=n(2044),Zm=n(40667),lf=n(10034);let qm=(()=>{class d{constructor(o,c,b){this.inj=o,this.router=c,this.store=b,this.refreshTokenRequestUrls=[]}isUnauthorized(o){return 401===o.status}isSuccess(o){return 200===o.status||204===o.status}isAuthRequest(o){return o&&o.url&&(o.url.endsWith("/authn/login")||o.url.endsWith("/authn/logout")||o.url.endsWith("/authn/status"))}isLoginResponse(o){return o.url&&o.url.endsWith("/authn/login")}isLogoutResponse(o){return o.url&&o.url.endsWith("/authn/logout")}isStatusResponse(o){return o.url&&o.url.endsWith("/authn/status")}parseLocation(o){let c=o.trim();c=c.replace('location="',""),c=c.replace('"',"");let b=/%3A%2F%2F/g;return c=c.replace(b,"://"),b=/%3A/g,c=c.replace(b,":"),c.trim()}sortAuthMethods(o){const c=[];let b=!1,$=!1;return o.forEach(ue=>{ue.authMethodType===uu.Q.Password&&(c.push(ue),b=!0),ue.authMethodType===uu.Q.Ldap&&($=!0)}),$&&!b&&c.push(new af.q(uu.Q.Password,0)),o.forEach(ue=>{ue.authMethodType!==uu.Q.Password&&c.push(ue)}),c}parseAuthMethodsFromHeaders(o){let c=[];if((0,G.hj)(o.get("www-authenticate"))){const ue=o.get("www-authenticate").match(/(\w+ (\w+=((".*?")|[^,]*)(, )?)*)/g);for(const Me in ue){const it=ue[Me].split(", "),Bt=it[0].split(" ")[0].trim();let yn;if(1===it.length)yn=new af.q(Bt,Number(Me)),c.push(yn);else if(it.length>1){let cn=it[1];cn=this.parseLocation(cn),yn=new af.q(Bt,Number(Me),cn),c.push(yn)}}c=this.sortAuthMethods(c)}else c.push(new af.q(uu.Q.Password,0));return c}makeAuthStatusObject(o,c,b,$){const ue=new Zm.T;if($&&(ue.authMethods=this.parseAuthMethodsFromHeaders($)),ue.id=null,ue.okay=!0,o)ue.authenticated=!0,ue.token=new lf.S(c);else if(ue.authenticated=!1,(0,G.hj)(b))if("string"==typeof b)try{ue.error=JSON.parse(b)}catch(Me){console.error('Unknown auth error "',b,'" caused ',Me),ue.error={error:"Unknown",message:"Unknown auth error",status:500,timestamp:Date.now(),path:""}}else ue.error=b;return ue}intercept(o,c){const b=this.inj.get(p.uR),$=b.getToken();let ue,Me;if(b.isTokenExpired())return(0,Ts.of)(null);if(this.isAuthRequest(o)&&!this.isLogoutResponse(o)||!(0,G.hj)($))ue=o.clone();else{Me=b.buildAuthHeader($);let it=o.headers.set("authorization",Me);const Bt=b.getImpersonateID();(0,G.a4)(Bt)&&(it=it.set("X-On-Behalf-Of",Bt)),ue=o.clone({headers:it})}return c.handle(ue).pipe((0,xt.T)(it=>{if(it instanceof le.cS&&this.isSuccess(it)&&this.isAuthRequest(it)){let Bt;if(this.isLoginResponse(it)){const yn=it.headers.get("authorization");Bt=it.clone({body:this.makeAuthStatusObject(!0,yn)}),this.refreshTokenRequestUrls=[]}else Bt=this.isStatusResponse(it)?it.clone({body:Object.assign(it.body,{authMethods:this.parseAuthMethodsFromHeaders(it.headers)})}):it.clone({body:this.makeAuthStatusObject(!1)});return Bt}return it}),(0,Rn.W)((it,Bt)=>{if(it instanceof le.yz){if(this.isAuthRequest(it)){this.refreshTokenRequestUrls=[];const yn=new le.cS({body:this.makeAuthStatusObject(!1,null,it.error,it.headers),headers:it.headers,status:it.status,statusText:it.statusText,url:it.url});return(0,Ts.of)(yn)}this.isUnauthorized(it)&&(0,G.Pe)($)&&b.isTokenExpired()&&this.store.dispatch(new Y.Wu("auth.messages.expired"))}return(0,Qa.$)(it)}))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(e.zZn),e.KVO(v.Ix),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),p1=(()=>{class d{constructor(o,c){this.appConfig=o,this.platformId=c,this.baseUrl=this.appConfig.rest.baseUrl,this.ssrBaseUrl=this.appConfig.rest.ssrBaseUrl}intercept(o,c){if((0,f.UE)(this.platformId)||(0,G.Im)(this.ssrBaseUrl)||this.baseUrl===this.ssrBaseUrl)return c.handle(o);const b=o.url.replace(this.baseUrl,this.ssrBaseUrl),$=o.clone({url:b});return c.handle($)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(si.vQ),e.KVO(e.Agw))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var xv=n(31943),hu=n(63648);let eg=(()=>{class d{constructor(o){this.localeService=o}intercept(o,c){let b;return this.localeService.getLanguageCodeList().pipe((0,xv.S)(($,ue)=>[...$,ue],[]),(0,Qn.Z)($=>(b=o.clone({headers:o.headers.set("Accept-Language",$.toString())}),c.handle(b))))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(hu.iH))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var pu=n(93130),Ch=n(10110);const FO=d=>d.correlationId;var jO=n(30164);let f1=(()=>{class d{constructor(o,c,b){this.cookieService=o,this.uuidService=c,this.store=b}initCorrelationId(){let o=this.cookieService.get("CORRELATION-ID");(0,G.Im)(o)&&(o=this.getCorrelationId()),(0,G.Im)(o)&&(o=this.uuidService.generate()),this.store.dispatch(new Ch.q(o)),this.cookieService.set("CORRELATION-ID",o)}getCorrelationId(){let o;return this.store.pipe((0,E.Lt)(FO),(0,T.s)(1)).subscribe(c=>{o=c}),o}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(pu.O),e.KVO(jO.v),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),tg=(()=>{class d{constructor(o,c){this.cidService=o,this.router=c}intercept(o,c){const b=this.cidService.getCorrelationId();let $=o.headers;return(0,G.a4)(b)&&($=$.append("X-CORRELATION-ID",b)),$=$.append("X-REFERRER",this.router.url),o=o.clone({withCredentials:!0,headers:$}),c.handle(o)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(f1),e.KVO(v.Ix))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Ue=n(31635),vn=n(74850),ii=n(21921),Kl=n(56970),qs=n(42547),Ho=n(98688),ng=n(29009);let bh=class extends Kl.I{static{this.type=ng.uC}get self(){return this._links.self.href}};(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],bh.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],bh.prototype,"id",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],bh.prototype,"_links",void 0),bh=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Kl.I)],bh);let pa=class extends Kl.I{static{this.type=ng.zd}get self(){return this._links.self.href}};(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],pa.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],pa.prototype,"id",void 0),(0,Ue.Cg)([(0,vn.deserializeAs)("id"),(0,Ue.Sn)("design:type",String)],pa.prototype,"uuid",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],pa.prototype,"name",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],pa.prototype,"description",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],pa.prototype,"url",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],pa.prototype,"score",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],pa.prototype,"enabled",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],pa.prototype,"ldnUrl",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],pa.prototype,"lowerIp",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],pa.prototype,"upperIp",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],pa.prototype,"notifyServiceInboundPatterns",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],pa.prototype,"_links",void 0),pa=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Kl.I)],pa);const m1=new qs.v("notifyrequests");let Ia=class{static{this.type=m1}};(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],Ia.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Ia.prototype,"notifyStatus",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ia.prototype,"itemuuid",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Ia.prototype,"_links",void 0),Ia=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Kl.I)],Ia),n(30721),n(24903);var sg=n(53778);const g1=new e.nKC("mockResponseMap",{providedIn:"root",factory:()=>kO}),kO=new Map([]);let _1=(()=>{class d extends sg.Y{constructor(o,c){super(c),this.mockResponseMap=o,this.http=c}get(o){const c=this.getMockData(o);return(0,G.Im)(c)?super.get(o):this.toMockResponse$(c)}request(o,c,b,$,ue){const Me=this.getMockData(c);return(0,G.Im)(Me)?super.request(o,c,b,$,ue):this.toMockResponse$(Me)}toMockResponse$(o){return(0,Ts.of)({payload:o,headers:new le.Lr,statusCode:200,statusText:"OK"})}getMockData(o){let c;if(c=this.mockResponseMap.has(o)?o:new URL(o).pathname.slice(A.c.rest.nameSpace.length),this.mockResponseMap.has(c))return JSON.parse(JSON.stringify(this.mockResponseMap.get(c)))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(g1),e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var v1=n(87922);let fu=class{static{this.type=v1.E}};(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],fu.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],fu.prototype,"status",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],fu.prototype,"_links",void 0),fu=(0,Ue.Cg)([ii.gV],fu);var y1=n(89177);let Dh=class{static{this.type=y1.f}};(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],Dh.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Dh.prototype,"identifiers",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Dh.prototype,"_links",void 0),Dh=(0,Ue.Cg)([ii.gV],Dh),n(67478);const _c=new qs.v("submissioncoarnotifyconfig");new qs.v("workspaceitem");let Zc=class extends Kl.I{static{this.type=_c}get self(){return this._links.self.href}};(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],Zc.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Zc.prototype,"id",void 0),(0,Ue.Cg)([(0,vn.deserializeAs)("id"),(0,Ue.Sn)("design:type",String)],Zc.prototype,"uuid",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Zc.prototype,"patterns",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Zc.prototype,"_links",void 0),Zc=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Kl.I)],Zc),n(30398);const C1=new qs.v("shortlivedtoken");let df=class{static{this.type=C1}};(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],df.prototype,"type",void 0),(0,Ue.Cg)([(0,vn.autoserializeAs)("token"),(0,Ue.Sn)("design:type",String)],df.prototype,"value",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],df.prototype,"_links",void 0),df=(0,Ue.Cg)([ii.gV],df);var mu=n(49797),vc=n(96787);let yc=class extends mu.G{static{this.type=vc.XI}};(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],yc.prototype,"type",void 0),(0,Ue.Cg)([(0,vn.autoserializeAs)(String,"name"),(0,Ue.Sn)("design:type",String)],yc.prototype,"uuid",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],yc.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],yc.prototype,"itemAccessConditionOptions",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],yc.prototype,"bitstreamAccessConditionOptions",void 0),yc=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(mu.G)],yc);let Ec=class extends mu.G{static{this.type=vc.NS}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Ec.prototype,"accessConditionOptions",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Ec.prototype,"discoverable",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Ec.prototype,"canChangeDiscoverable",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Ec.prototype,"_links",void 0),Ec=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(mu.G)],Ec);let b1=class extends Ec{static{this.type=vc.NS}};b1=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Ec)],b1),n(25168),n(7232),n(66731);let qc=class extends mu.G{static{this.type=vc.WJ}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],qc.prototype,"header",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],qc.prototype,"mandatory",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],qc.prototype,"scope",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],qc.prototype,"sectionType",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Object)],qc.prototype,"visibility",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],qc.prototype,"_links",void 0),qc=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(mu.G)],qc);let ed=class extends mu.G{static{this.type=vc.mU}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],ed.prototype,"accessConditionOptions",void 0),(0,Ue.Cg)([(0,ii.nf)(vc.KX),(0,Ue.Sn)("design:type",qo.c)],ed.prototype,"metadata",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],ed.prototype,"required",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],ed.prototype,"maxSize",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],ed.prototype,"_links",void 0),ed=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(mu.G)],ed);let Lv=class extends ed{static{this.type=vc.V_}};Lv=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(ed)],Lv);const T1=new qs.v("root");let Hl=class{static{this.type=T1}};(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],Hl.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Hl.prototype,"dspaceUI",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Hl.prototype,"dspaceName",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Hl.prototype,"dspaceServer",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Hl.prototype,"dspaceVersion",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Hl.prototype,"_links",void 0),Hl=(0,Ue.Cg)([ii.gV],Hl),n(26349),n(31924),n(52733),n(32872);var Pd=n(13868);const Nv=new qs.v("qualityassuranceevent");let sa=class{static{this.type=Nv}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],sa.prototype,"id",void 0),(0,Ue.Cg)([(0,vn.autoserializeAs)(String,"id"),(0,Ue.Sn)("design:type",String)],sa.prototype,"uuid",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],sa.prototype,"originalId",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],sa.prototype,"title",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],sa.prototype,"trust",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],sa.prototype,"eventDate",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],sa.prototype,"status",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Object)],sa.prototype,"message",void 0),(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],sa.prototype,"type",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],sa.prototype,"_links",void 0),(0,Ue.Cg)([(0,ii.nf)(Pd.U),(0,Ue.Sn)("design:type",qo.c)],sa.prototype,"target",void 0),(0,Ue.Cg)([(0,ii.nf)(Pd.U),(0,Ue.Sn)("design:type",qo.c)],sa.prototype,"related",void 0),sa=(0,Ue.Cg)([ii.gV],sa);const I1=new qs.v("qualityassurancesource");let Wa=class{static{this.type=I1}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Wa.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Wa.prototype,"lastEvent",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],Wa.prototype,"totalEvents",void 0),(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],Wa.prototype,"type",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Wa.prototype,"_links",void 0),Wa=(0,Ue.Cg)([ii.gV],Wa);const Fv=new qs.v("qualityassurancetopic");let td=class{static{this.type=Fv}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],td.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],td.prototype,"name",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],td.prototype,"lastEvent",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],td.prototype,"totalEvents",void 0),(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],td.prototype,"type",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],td.prototype,"_links",void 0),td=(0,Ue.Cg)([ii.gV],td);const rg=new qs.v("suggestionsource");let nd=class{static{this.type=rg}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],nd.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],nd.prototype,"total",void 0),(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],nd.prototype,"type",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],nd.prototype,"_links",void 0),nd=(0,Ue.Cg)([ii.gV],nd);const S1=new qs.v("suggestiontarget");let sd=class{static{this.type=S1}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],sd.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],sd.prototype,"display",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],sd.prototype,"source",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],sd.prototype,"total",void 0),(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],sd.prototype,"type",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],sd.prototype,"_links",void 0),sd=(0,Ue.Cg)([ii.gV],sd);const P1=new qs.v("orcidhistory");let Ml=class extends Kl.I{static{this.type=P1}};(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],Ml.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],Ml.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ml.prototype,"entityName",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ml.prototype,"profileItemId",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ml.prototype,"entityId",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ml.prototype,"entityType",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],Ml.prototype,"status",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ml.prototype,"putCode",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Ml.prototype,"_links",void 0),Ml=(0,Ue.Cg)([ii.gV],Ml);const jv=new qs.v("orcidqueue");let Cc=class extends Kl.I{static{this.type=jv}};(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],Cc.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],Cc.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Cc.prototype,"description",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Cc.prototype,"profileItemId",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Cc.prototype,"entityId",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Cc.prototype,"recordType",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Cc.prototype,"operation",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Cc.prototype,"_links",void 0),Cc=(0,Ue.Cg)([ii.gV],Cc),n(76151),n(28235);var R1=n(58235);const A1=new qs.v("authorization");var nl=n(76829);const ag=new qs.v("feature");let Rd=class extends nl.M{static{this.type=A1}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Rd.prototype,"id",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Rd.prototype,"_links",void 0),(0,Ue.Cg)([(0,ii.nf)(R1.N),(0,Ue.Sn)("design:type",qo.c)],Rd.prototype,"eperson",void 0),(0,Ue.Cg)([(0,ii.nf)(ag),(0,Ue.Sn)("design:type",qo.c)],Rd.prototype,"feature",void 0),(0,Ue.Cg)([(0,ii.nf)(Pd.U),(0,Ue.Sn)("design:type",qo.c)],Rd.prototype,"object",void 0),Rd=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(nl.M)],Rd);var w1=n(33376),KO=(n(760),n(34427),n(22878));const HO=new qs.v("browseEntry");let sl=class extends KO.u{static{this.type=HO}getRenderTypes(){return[this.constructor]}};(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],sl.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],sl.prototype,"authority",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],sl.prototype,"value",void 0),(0,Ue.Cg)([(0,vn.autoserializeAs)("valueLang"),(0,Ue.Sn)("design:type",String)],sl.prototype,"language",void 0),(0,Ue.Cg)([(0,vn.autoserializeAs)("thumbnail"),(0,Ue.Sn)("design:type",String)],sl.prototype,"thumbnail",void 0),(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",Number)],sl.prototype,"count",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],sl.prototype,"_links",void 0),sl=(0,Ue.Cg)([ii.gV],sl);var zO=n(70673);const YO=new qs.v("property");let bc=class{static{this.type=YO}};(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],bc.prototype,"type",void 0),(0,Ue.Cg)([(0,vn.autoserializeAs)(String,"name"),(0,Ue.Sn)("design:type",String)],bc.prototype,"uuid",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],bc.prototype,"name",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],bc.prototype,"values",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],bc.prototype,"_links",void 0),bc=(0,Ue.Cg)([ii.gV],bc),n(31507);var x1=n(15179);let Th=class extends nl.M{static{this.type=ag}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Th.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Th.prototype,"description",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Th.prototype,"resourcetypes",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Th.prototype,"_links",void 0),Th=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(nl.M)],Th),n(55451),n(98277);var id=n(88318),Uv=(n(23881),n(67359),n(59854),n(52920),n(18602));let Oh=class extends nl.M{static{this.type=Uv.m}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Oh.prototype,"custom",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Oh.prototype,"text",void 0),Oh=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(nl.M)],Oh),n(8472),n(71135);const Mh=new qs.v("discover");let Ir=class{static{this.type=Mh}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ir.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Ir.prototype,"filters",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Ir.prototype,"sortOptions",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],Ir.prototype,"type",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Ir.prototype,"_links",void 0),Ir=(0,Ue.Cg)([ii.gV],Ir);const Il=new qs.v("site");let dg=class extends nl.M{static{this.type=Il}};dg=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(nl.M)],dg);var XO=n(9927);const JO=new qs.v("itemtemplate");let Vv=class extends id.q{static{this.type=JO}};(0,Ue.Cg)([(0,ii.nf)(XO.n),(0,Ue.Sn)("design:type",qo.c)],Vv.prototype,"templateItemOf",void 0),Vv=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(id.q)],Vv),n(50800),n(2035);var Gv=n(16321),QO=n(65592);let Sl=class extends nl.M{static{this.type=QO.s}};(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Sl.prototype,"_links",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Sl.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Sl.prototype,"summary",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Sl.prototype,"submitterName",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Sl.prototype,"draftVersion",void 0),(0,Ue.Cg)([Ho.aK,(0,ii.nf)(Gv.x,!0),(0,Ue.Sn)("design:type",qo.c)],Sl.prototype,"versions",void 0),Sl=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(nl.M)],Sl),n(12070),n(62572);var j1=n(11453);const gu=new qs.v("submissioncclicenseUrl");let _u=class extends j1.s{static{this.type=gu}};(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],_u.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],_u.prototype,"url",void 0),_u=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(j1.s)],_u);var Kv=n(25567),ug=n(91581),od=n(30056);let zl=class{static{this.type=od.Hx}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],zl.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],zl.prototype,"name",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],zl.prototype,"scrollable",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],zl.prototype,"hierarchical",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Object)],zl.prototype,"preloadLevel",void 0),(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",Object)],zl.prototype,"type",void 0),(0,Ue.Cg)([(0,ii.nf)(od.mt,!0),(0,Ue.Sn)("design:type",qo.c)],zl.prototype,"entries",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],zl.prototype,"_links",void 0),zl=(0,Ue.Cg)([ii.gV],zl);var hf=n(43235);n(36599);class Ih{}(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ih.prototype,"id",void 0);var U1=n(78416),k1=n(27605);const V1=new qs.v("ratingrevieweraction"),pf=new qs.v("selectrevieweraction");let Ad=class extends Ih{static{this.type=V1}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Ad.prototype,"descriptionRequired",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],Ad.prototype,"maxValue",void 0),Ad=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Ih)],Ad);let Sh=class extends Ih{static{this.type=pf}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Sh.prototype,"group",void 0),Sh=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Ih)],Sh),n(55411);var G1=n(47069);let Dc=class extends nl.M{static{this.type=G1.f}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Dc.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Dc.prototype,"options",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Dc.prototype,"advanced",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Dc.prototype,"advancedOptions",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Dc.prototype,"advancedInfo",void 0),Dc=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(nl.M)],Dc);var ff=n(2632);let W1=(()=>{class d extends pu.O{set(o,c,b){(0,ff.set)(o,c,b),this.updateSource()}remove(o,c){(0,ff.remove)(o,c),this.updateSource()}get(o){return(0,ff.getJSON)(o)}getAll(){return(0,ff.getJSON)()}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var xs=n(26292),Vn=n(78448),wd=n(77537),Gn=n(81569),Ti=n(1321),zr=n(42578),Co=n(97402),Sr=n(55309),Ei=n(39092),rd=n(39552),Fo=n(73584);let Tc=(()=>{class d extends Fo.C{constructor(o,c,b){super(o),this.dsoNameService=o,this.truncatableService=c,this.bitstreamDataService=b}ngOnInit(){(0,G.a4)(this.object)&&(this.dso=this.object.indexableObject,this.isCollapsed$=this.isCollapsed())}allMetadataValues(o){return rd.O.allValues([this.object.hitHighlights,this.dso.metadata],o)}firstMetadataValue(o){return rd.O.firstValue([this.object.hitHighlights,this.dso.metadata],o)}isCollapsed(){return this.truncatableService.isCollapsed(this.dso.id)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Fs.f),e.rXU(Ei.F),e.rXU(zr.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:0,vars:0,template:function(c,b){},encapsulation:2})}}return d})();const mf=["*"],Hv=d=>["/collections/",d];function zv(d,y){if(1&d&&(e.j41(0,"a",8),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",9),e.nI1(3,"async"),e.k0s()),2&d){let o;const c=e.XpG();e.Y8G("target",c.linkType===c.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Hv,c.dso.id)),e.BMQ("rel",c.linkType===c.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(o=e.bMT(3,8,c.dso.logo))?null:o.payload)("limitWidth",!1)}}function hg(d,y){if(1&d&&(e.j41(0,"span",10),e.nrm(1,"ds-thumbnail",9),e.nI1(2,"async"),e.k0s()),2&d){let o;const c=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(o=e.bMT(2,2,c.dso.logo))?null:o.payload)("limitWidth",!1)}}function eM(d,y){if(1&d&&e.nrm(0,"ds-badges",11),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function K1(d,y){if(1&d&&(e.j41(0,"p",12),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(o.dso.shortDescription)}}function tM(d,y){if(1&d&&(e.j41(0,"div",13)(1,"a",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Hv,o.dso.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let gf=class mA extends Tc{constructor(y,o,c,b){super(y,c,b),this.dsoNameService=y,this.linkService=o,this.truncatableService=c,this.bitstreamDataService=b}set dso(y){this._dso=y,(0,G.a4)(this._dso)&&(0,G.Tn)(this._dso.logo)&&this.linkService.resolveLink(this._dso,(0,Ws.s)("logo"))}get dso(){return this._dso}static{this.\u0275fac=function(o){return new(o||mA)(e.rXU(Fs.f),e.rXU(Ti._),e.rXU(Ei.F),e.rXU(zr.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:mA,selectors:[["ds-collection-search-result-grid-element"]],inputs:{dso:"dso"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:mf,decls:10,vars:6,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[3,"object","context"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,zv,4,12,"a",1)(2,hg,3,4,"span",2),e.j41(3,"div",3),e.DNE(4,eM,1,2,"ds-badges",4),e.j41(5,"h4",5),e.EFF(6),e.k0s(),e.DNE(7,K1,2,1,"p",6)(8,tM,4,8,"div",7),e.k0s(),e.SdG(9),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(2),e.JRh(c.dsoNameService.getName(c.dso)),e.R7$(),e.Y8G("ngIf",c.dso.shortDescription),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[f.bT,v.Wk,Co.T,Sr.F,f.Jj,K.h,K.D9],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};gf=(0,Ue.Cg)([(0,Gn.VK)(wd.A,Vn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ti._,Ei.F,zr.BitstreamDataService])],gf);const nM=d=>[d];let _f=class IT extends Tc{ngOnInit(){super.ngOnInit(),this.editPath=(0,Ju._E)(this.dso.uuid)}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(IT)))(c||IT)}})()}static{this.\u0275cmp=e.VBU({type:IT,selectors:[["ds-collection-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(o,c){1&o&&(e.j41(0,"ds-collection-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()()()()),2&o&&(e.Y8G("object",c.object)("index",c.index)("linkType",c.linkType)("listID",c.listID),e.R7$(3),e.Y8G("routerLink",e.eq3(5,nM,c.editPath)))},dependencies:[gf,v.Wk]})}};_f=(0,Ue.Cg)([(0,Gn.VK)(wd.A,Vn.n.GridElement,xs.o.AdminSearch)],_f);var ad=n(17132);const _i=["*"],Yv=d=>["/communities/",d];function H1(d,y){if(1&d&&(e.j41(0,"a",8),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",9),e.nI1(3,"async"),e.k0s()),2&d){let o;const c=e.XpG();e.Y8G("target",c.linkType===c.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Yv,c.dso.id)),e.BMQ("rel",c.linkType===c.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(o=e.bMT(3,8,c.dso.logo))?null:o.payload)("limitWidth",!1)}}function Ph(d,y){if(1&d&&(e.j41(0,"span",10),e.nrm(1,"ds-thumbnail",9),e.nI1(2,"async"),e.k0s()),2&d){let o;const c=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(o=e.bMT(2,2,c.dso.logo))?null:o.payload)("limitWidth",!1)}}function z1(d,y){if(1&d&&e.nrm(0,"ds-badges",11),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function Y1(d,y){if(1&d&&(e.j41(0,"p",12),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(o.dso.shortDescription)}}function sM(d,y){if(1&d&&(e.j41(0,"div",13)(1,"a",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Yv,o.dso.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let xd=class gA extends Tc{constructor(y,o,c,b){super(y,c,b),this.dsoNameService=y,this.linkService=o,this.truncatableService=c,this.bitstreamDataService=b}set dso(y){this._dso=y,(0,G.a4)(this._dso)&&(0,G.Tn)(this._dso.logo)&&this.linkService.resolveLink(this._dso,(0,Ws.s)("logo"))}get dso(){return this._dso}static{this.\u0275fac=function(o){return new(o||gA)(e.rXU(Fs.f),e.rXU(Ti._),e.rXU(Ei.F),e.rXU(zr.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:gA,selectors:[["ds-community-search-result-grid-element"]],inputs:{dso:"dso"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:_i,decls:10,vars:6,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[3,"object","context"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,H1,4,12,"a",1)(2,Ph,3,4,"span",2),e.j41(3,"div",3),e.DNE(4,z1,1,2,"ds-badges",4),e.j41(5,"h4",5),e.EFF(6),e.k0s(),e.DNE(7,Y1,2,1,"p",6)(8,sM,4,8,"div",7),e.k0s(),e.SdG(9),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(2),e.JRh(c.dsoNameService.getName(c.dso)),e.R7$(),e.Y8G("ngIf",c.dso.shortDescription),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[f.bT,v.Wk,Co.T,Sr.F,f.Jj,K.h,K.D9],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};xd=(0,Ue.Cg)([(0,Gn.VK)(ad.L,Vn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ti._,Ei.F,zr.BitstreamDataService])],xd);const Rh=d=>[d];let Ah=class ST extends Tc{ngOnInit(){super.ngOnInit(),this.editPath=(0,Fp.pk)(this.dso.uuid)}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(ST)))(c||ST)}})()}static{this.\u0275cmp=e.VBU({type:ST,selectors:[["ds-community-admin-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(o,c){1&o&&(e.j41(0,"ds-community-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()()()()),2&o&&(e.Y8G("object",c.object)("index",c.index)("linkType",c.linkType)("listID",c.listID),e.R7$(3),e.Y8G("routerLink",e.eq3(5,Rh,c.editPath)))},dependencies:[xd,v.Wk]})}};Ah=(0,Ue.Cg)([(0,Gn.VK)(ad.L,Vn.n.GridElement,xs.o.AdminSearch)],Ah);var Yl=n(92827),Sa=n(27442),Pl=n(45663),ld=n(4436);const cd=d=>({"btn-sm":d}),Ld=d=>[d];function Xv(d,y){1&d&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.move"),""))}function iM(d,y){1&d&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.make-private"),""))}function oM(d,y){if(1&d&&(e.j41(0,"a",13),e.nI1(1,"translate"),e.nrm(2,"i",14),e.DNE(3,iM,3,3,"span",3),e.k0s()),2&d){const o=e.XpG();e.Y8G("ngClass",e.eq3(6,cd,o.small))("routerLink",e.eq3(8,Ld,o.getPrivateRoute()))("title",e.bMT(1,4,"admin.search.item.make-private")),e.R7$(3),e.Y8G("ngIf",!o.small)}}function rM(d,y){1&d&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.make-public"),""))}function X1(d,y){if(1&d&&(e.j41(0,"a",15),e.nI1(1,"translate"),e.nrm(2,"i",16),e.DNE(3,rM,3,3,"span",3),e.k0s()),2&d){const o=e.XpG();e.Y8G("ngClass",e.eq3(6,cd,o.small))("routerLink",e.eq3(8,Ld,o.getPublicRoute()))("title",e.bMT(1,4,"admin.search.item.make-public")),e.R7$(3),e.Y8G("ngIf",!o.small)}}function aM(d,y){1&d&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.edit"),""))}function lM(d,y){1&d&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.withdraw"),""))}function cM(d,y){if(1&d&&(e.j41(0,"a",17),e.nI1(1,"translate"),e.nrm(2,"i",18),e.DNE(3,lM,3,3,"span",3),e.k0s()),2&d){const o=e.XpG();e.Y8G("ngClass",e.eq3(6,cd,o.small))("routerLink",e.eq3(8,Ld,o.getWithdrawRoute()))("title",e.bMT(1,4,"admin.search.item.withdraw")),e.R7$(3),e.Y8G("ngIf",!o.small)}}function dM(d,y){1&d&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.reinstate"),""))}function J1(d,y){if(1&d&&(e.j41(0,"a",19),e.nI1(1,"translate"),e.nrm(2,"i",20),e.DNE(3,dM,3,3,"span",3),e.k0s()),2&d){const o=e.XpG();e.Y8G("ngClass",e.eq3(6,cd,o.small))("routerLink",e.eq3(8,Ld,o.getReinstateRoute()))("title",e.bMT(1,4,"admin.search.item.reinstate")),e.R7$(3),e.Y8G("ngIf",!o.small)}}function Q1(d,y){1&d&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.delete"),""))}let Jv=(()=>{class d{getEditRoute(){return(0,fi.$r)(this.item)}getMoveRoute(){return new Pl.t(this.getEditRoute(),ld.Bw).toString()}getDeleteRoute(){return new Pl.t(this.getEditRoute(),ld.Jr).toString()}getWithdrawRoute(){return new Pl.t(this.getEditRoute(),ld.kH).toString()}getReinstateRoute(){return new Pl.t(this.getEditRoute(),ld.Pg).toString()}getPrivateRoute(){return new Pl.t(this.getEditRoute(),ld.$2).toString()}getPublicRoute(){return new Pl.t(this.getEditRoute(),ld.RS).toString()}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-admin-search-result-actions-element"]],inputs:{item:"item",small:"small"},standalone:!0,features:[e.aNF],decls:17,vars:34,consts:[[1,"space-children-mr","my-1"],[1,"btn","btn-secondary","move-link",3,"ngClass","routerLink","title"],[1,"fa","fa-arrow-circle-right"],["class","d-none d-sm-inline",4,"ngIf"],["class","btn btn-secondary private-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-secondary public-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-secondary","edit-link",3,"ngClass","routerLink","title"],[1,"fa","fa-edit"],["class","btn btn-warning t withdraw-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-warning reinstate-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-danger","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],[1,"d-none","d-sm-inline"],[1,"btn","btn-secondary","private-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye-slash"],[1,"btn","btn-secondary","public-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye"],[1,"btn","btn-warning","t","withdraw-link",3,"ngClass","routerLink","title"],[1,"fa","fa-ban"],[1,"btn","btn-warning","reinstate-link",3,"ngClass","routerLink","title"],[1,"fa","fa-undo"]],template:function(c,b){1&c&&(e.j41(0,"div",0)(1,"a",1),e.nI1(2,"translate"),e.nrm(3,"i",2),e.DNE(4,Xv,3,3,"span",3),e.k0s(),e.DNE(5,oM,4,10,"a",4)(6,X1,4,10,"a",5),e.j41(7,"a",6),e.nI1(8,"translate"),e.nrm(9,"i",7),e.DNE(10,aM,3,3,"span",3),e.k0s(),e.DNE(11,cM,4,10,"a",8)(12,J1,4,10,"a",9),e.j41(13,"a",10),e.nI1(14,"translate"),e.nrm(15,"i",11),e.DNE(16,Q1,3,3,"span",3),e.k0s()()),2&c&&(e.R7$(),e.Y8G("ngClass",e.eq3(22,cd,b.small))("routerLink",e.eq3(24,Ld,b.getMoveRoute()))("title",e.bMT(2,16,"admin.search.item.move")),e.R7$(3),e.Y8G("ngIf",!b.small),e.R7$(),e.Y8G("ngIf",b.item&&b.item.isDiscoverable),e.R7$(),e.Y8G("ngIf",b.item&&!b.item.isDiscoverable),e.R7$(),e.Y8G("ngClass",e.eq3(26,cd,b.small))("routerLink",e.eq3(28,Ld,b.getEditRoute()))("title",e.bMT(8,18,"admin.search.item.edit")),e.R7$(3),e.Y8G("ngIf",!b.small),e.R7$(),e.Y8G("ngIf",b.item&&!b.item.isWithdrawn),e.R7$(),e.Y8G("ngIf",b.item&&b.item.isWithdrawn),e.R7$(),e.Y8G("ngClass",e.eq3(30,cd,b.small))("routerLink",e.eq3(32,Ld,b.getDeleteRoute()))("title",e.bMT(14,20,"admin.search.item.delete")),e.R7$(3),e.Y8G("ngIf",!b.small))},dependencies:[f.YU,v.Wk,f.bT,K.h,K.D9]})}}return d})();const uM=["badges"],Ka=["buttons"],hM=["*"];function pM(d,y){}let Qv=class _A extends Tc{constructor(y,o,c,b){super(y,o,c),this.dsoNameService=y,this.truncatableService=o,this.bitstreamDataService=c,this.themeService=b}ngOnInit(){super.ngOnInit();const y=this.getComponent(),o=this.dynamicComponentLoaderDirective.viewContainerRef;o.clear(),this.compRef=o.createComponent(y,{index:0,injector:void 0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",this.object),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID)}ngOnDestroy(){(0,G.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(){return(0,Gn.Zx)(this.object.getRenderTypes(),Vn.n.GridElement,void 0,this.themeService.getThemeName())}static{this.\u0275fac=function(o){return new(o||_A)(e.rXU(Fs.f),e.rXU(Ei.F),e.rXU(zr.BitstreamDataService),e.rXU(J.Fs))}}static{this.\u0275cmp=e.VBU({type:_A,selectors:[["ds-item-admin-search-result-grid-element"]],viewQuery:function(o,c){if(1&o&&(e.GBs(Yl.z,7),e.GBs(uM,7),e.GBs(Ka,7)),2&o){let b;e.mGM(b=e.lsd())&&(c.dynamicComponentLoaderDirective=b.first),e.mGM(b=e.lsd())&&(c.badges=b.first),e.mGM(b=e.lsd())&&(c.buttons=b.first)}},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:hM,decls:8,vars:2,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"d-flex","justify-content-between",3,"item","small"]],template:function(o,c){1&o&&(e.NAR(),e.DNE(0,pM,0,0,"ng-template",2),e.j41(1,"div",null,0),e.SdG(3),e.k0s(),e.j41(4,"ul",3,1)(6,"li",4),e.nrm(7,"ds-item-admin-search-result-actions-element",5),e.k0s()()),2&o&&(e.R7$(7),e.Y8G("item",c.dso)("small",!0))},dependencies:[Jv,Yl.z]})}};Qv=(0,Ue.Cg)([(0,Gn.VK)(Sa.H,Vn.n.GridElement,xs.o.AdminSearch),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ei.F,zr.BitstreamDataService,J.Fs])],Qv);var Pr=n(79411);const Z1=d=>[d];function fM(d,y){if(1&d&&e.nrm(0,"ds-badges",6),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function mM(d,y){if(1&d&&e.nrm(0,"a",7),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,Z1,"/collections/"+o.dso.id))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function gM(d,y){if(1&d&&e.nrm(0,"span",8),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function q1(d,y){if(1&d&&e.nrm(0,"div",9),2&d){const o=e.XpG();e.Y8G("innerHTML",o.firstMetadataValue("dc.description.abstract"),e.npT)}}let vf=class PT extends Pr.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(PT)))(c||PT)}})()}static{this.\u0275cmp=e.VBU({type:PT,selectors:[["ds-collection-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:5,consts:[[1,"row"],[3,"ngClass"],[3,"object","context",4,"ngIf"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],["class","text-muted abstract-text",3,"innerHTML",4,"ngIf"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted","abstract-text",3,"innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,fM,1,2,"ds-badges",2)(3,mM,1,6,"a",3)(4,gM,1,1,"span",4)(5,q1,1,1,"div",5),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9 offset-3 offset-md-2":"col-md-12"),e.R7$(),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.dso.shortDescription))},dependencies:[f.bT,f.YU,Sr.F,v.Wk],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};vf=(0,Ue.Cg)([(0,Gn.VK)(wd.A,Vn.n.ListElement)],vf);const _M=d=>[d];let wh=class RT extends Pr.P{ngOnInit(){super.ngOnInit(),this.editPath=(0,Ju._E)(this.dso.uuid)}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(RT)))(c||RT)}})()}static{this.\u0275cmp=e.VBU({type:RT,selectors:[["ds-collection-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],["data-test","coll-link",1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(o,c){1&o&&(e.nrm(0,"ds-collection-search-result-list-element",0),e.j41(1,"div")(2,"a",1),e.nrm(3,"i",2),e.EFF(4),e.nI1(5,"translate"),e.k0s()()),2&o&&(e.Y8G("object",c.object)("index",c.index)("linkType",c.linkType)("listID",c.listID),e.R7$(2),e.Y8G("routerLink",e.eq3(8,_M,c.editPath)),e.R7$(2),e.SpI(" ",e.bMT(5,6,"admin.search.collection.edit")," "))},dependencies:[vf,v.Wk,K.h,K.D9]})}};wh=(0,Ue.Cg)([(0,Gn.VK)(wd.A,Vn.n.ListElement,xs.o.AdminSearch)],wh);const vM=d=>[d];function yM(d,y){if(1&d&&e.nrm(0,"ds-badges",6),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function EM(d,y){if(1&d&&e.nrm(0,"a",7),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,vM,"/communities/"+o.dso.id))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function CM(d,y){if(1&d&&e.nrm(0,"span",8),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function bM(d,y){if(1&d&&e.nrm(0,"div",9),2&d){const o=e.XpG();e.Y8G("innerHTML",o.firstMetadataValue("dc.description.abstract"),e.npT)}}let Ha=class AT extends Pr.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(AT)))(c||AT)}})()}static{this.\u0275cmp=e.VBU({type:AT,selectors:[["ds-community-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:5,consts:[[1,"row"],[3,"ngClass"],[3,"object","context",4,"ngIf"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],["class","text-muted abstract-text",3,"innerHTML",4,"ngIf"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted","abstract-text",3,"innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,yM,1,2,"ds-badges",2)(3,EM,1,6,"a",3)(4,CM,1,1,"span",4)(5,bM,1,1,"div",5),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9 offset-3 offset-md-2":"col-md-12"),e.R7$(),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.dso.shortDescription))},dependencies:[f.bT,f.YU,Sr.F,v.Wk],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Ha=(0,Ue.Cg)([(0,Gn.VK)(ad.L,Vn.n.ListElement)],Ha);const Zv=d=>[d];let pg=class wT extends Pr.P{ngOnInit(){super.ngOnInit(),this.editPath=(0,Fp.pk)(this.dso.uuid)}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(wT)))(c||wT)}})()}static{this.\u0275cmp=e.VBU({type:wT,selectors:[["ds-community-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],[1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(o,c){1&o&&(e.nrm(0,"ds-community-search-result-list-element",0),e.j41(1,"div")(2,"a",1),e.nrm(3,"i",2),e.EFF(4),e.nI1(5,"translate"),e.k0s()()),2&o&&(e.Y8G("object",c.object)("index",c.index)("linkType",c.linkType)("listID",c.listID),e.R7$(2),e.Y8G("routerLink",e.eq3(8,Zv,c.editPath)),e.R7$(2),e.SpI(" ",e.bMT(5,6,"admin.search.community.edit")," "))},dependencies:[Ha,v.Wk,K.h,K.D9]})}};pg=(0,Ue.Cg)([(0,Gn.VK)(ad.L,Vn.n.ListElement,xs.o.AdminSearch)],pg);var yu=n(17191);let yf=class xT extends Pr.P{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(xT)))(c||xT)}})()}static{this.\u0275cmp=e.VBU({type:xT,selectors:[["ds-item-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:7,consts:[[3,"object","viewMode","index","linkType","listID"],[3,"item","small"]],template:function(o,c){1&o&&e.nrm(0,"ds-listable-object-component-loader",0)(1,"ds-item-admin-search-result-actions-element",1),2&o&&(e.Y8G("object",c.object)("viewMode",c.viewModes.ListElement)("index",c.index)("linkType",c.linkType)("listID",c.listID),e.R7$(),e.Y8G("item",c.dso)("small",!1))},dependencies:[yu.v,Jv]})}};yf=(0,Ue.Cg)([(0,Gn.VK)(Sa.H,Vn.n.ListElement,xs.o.AdminSearch)],yf);var Eu=n(79951);const Ef=d=>({"btn-sm":d}),fg=d=>[d];function qA(d,y){1&d&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.delete"),""))}function eE(d,y){1&d&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.send-back"),""))}let mg=(()=>{class d{getDeleteRoute(){return(0,Eu.BD)(this.wfi.id)}getSendBackRoute(){return(0,Eu.Rk)(this.wfi.id)}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-workflow-item-admin-workflow-actions-element"]],inputs:{wfi:"wfi",small:"small"},standalone:!0,features:[e.aNF],decls:9,vars:20,consts:[[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],["class","d-none d-sm-inline",4,"ngIf"],[1,"btn","btn-light","my-1","send-back-link",3,"ngClass","routerLink","title"],[1,"fa","fa-hand-point-left"],[1,"d-none","d-sm-inline"]],template:function(c,b){1&c&&(e.j41(0,"div",0)(1,"a",1),e.nI1(2,"translate"),e.nrm(3,"i",2),e.DNE(4,qA,3,3,"span",3),e.k0s(),e.j41(5,"a",4),e.nI1(6,"translate"),e.nrm(7,"i",5),e.DNE(8,eE,3,3,"span",3),e.k0s()()),2&c&&(e.R7$(),e.Y8G("ngClass",e.eq3(12,Ef,b.small))("routerLink",e.eq3(14,fg,b.getDeleteRoute()))("title",e.bMT(2,8,"admin.workflow.item.delete")),e.R7$(3),e.Y8G("ngIf",!b.small),e.R7$(),e.Y8G("ngClass",e.eq3(16,Ef,b.small))("routerLink",e.eq3(18,fg,b.getSendBackRoute()))("title",e.bMT(6,10,"admin.workflow.item.send-back")),e.R7$(3),e.Y8G("ngIf",!b.small))},dependencies:[f.YU,v.Wk,f.bT,K.h,K.D9]})}}return d})();var Cu=n(66129),gg=n(43280),Yr=n(7434),dd=n(24547),tE=n(36074),nE=n(83987);let Rl=class{static{this.type=nE.T}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Rl.prototype,"id",void 0),(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],Rl.prototype,"type",void 0),(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",String)],Rl.prototype,"ordertype",void 0),(0,Ue.Cg)([(0,vn.deserializeAs)(new dd.a("supervision-order"),"id"),(0,Ue.Sn)("design:type",String)],Rl.prototype,"uuid",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Rl.prototype,"_links",void 0),(0,Ue.Cg)([(0,ii.nf)(Pd.U),(0,Ue.Sn)("design:type",qo.c)],Rl.prototype,"item",void 0),(0,Ue.Cg)([(0,ii.nf)(tE.U),(0,Ue.Sn)("design:type",qo.c)],Rl.prototype,"group",void 0),Rl=(0,Ue.Cg)([ii.gV],Rl);var DM=n(50518),Cf=n(79632);function sE(d,y){1&d&&(e.nrm(0,"ds-error",19),e.nI1(1,"translate")),2&d&&e.FS9("message",e.bMT(1,1,"supervision-group-selector.select.type-of-order.error"))}function xh(d,y){1&d&&(e.nrm(0,"ds-error",19),e.nI1(1,"translate")),2&d&&e.FS9("message",e.bMT(1,1,"supervision-group-selector.select.group.error"))}let bf=(()=>{class d{constructor(o,c,b,$,ue){this.dsoNameService=o,this.activeModal=c,this.supervisionOrderDataService=b,this.notificationsService=$,this.translateService=ue,this.isSubmitted=!1,this.create=new e.bkB}close(){this.activeModal.close()}updateGroupObjectSelected(o){this.selectedGroup=o}save(){if(this.isSubmitted=!0,this.selectedOrderType&&this.selectedGroup){const o=new Rl;o.ordertype=this.selectedOrderType,this.supervisionOrderDataService.create(o,this.itemUUID,this.selectedGroup.uuid,this.selectedOrderType).pipe((0,Bs.qD)()).subscribe(c=>{c.state===Yr.zE.Success?(this.notificationsService.success(this.translateService.get("supervision-group-selector.notification.create.success.title",{name:this.dsoNameService.getName(this.selectedGroup)})),this.create.emit(c.payload),this.close()):this.notificationsService.error(this.translateService.get("supervision-group-selector.notification.create.failure.title"),422===c.statusCode?this.translateService.get("supervision-group-selector.notification.create.already-existing"):c.errorMessage)})}}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Fs.f),e.rXU(q.Lw),e.rXU(Cu.SupervisionOrderDataService),e.rXU(Es.I),e.rXU(K.c$))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-supervision-group-selector"]],outputs:{create:"create"},standalone:!0,features:[e.aNF],decls:38,vars:29,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"control-group","col-sm-12"],["for","supervisionOrder",1,"form-label"],["name","supervisionOrder","id","supervisionOrder",1,"form-select",3,"ngModelChange","ngModel"],["value","EDITOR"],["value","OBSERVER"],[3,"message",4,"ngIf"],["for","supervisionGroup",1,"form-label"],[1,"mb-3"],["id","supervisionGroup","type","text","disabled","",1,"form-control",3,"value"],[3,"select","isListOfEPerson"],[1,"modal-footer"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],[1,"btn","btn-primary","save",3,"click"],[1,"fas","fa-save"],[3,"message"]],template:function(c,b){1&c&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return b.close()}),e.k0s()(),e.j41(5,"div",2)(6,"div",3)(7,"div",4)(8,"label",5),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"select",6),e.nI1(12,"translate"),e.mxI("ngModelChange",function(ue){return e.DH7(b.selectedOrderType,ue)||(b.selectedOrderType=ue),ue}),e.j41(13,"option",7),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"option",8),e.EFF(17),e.nI1(18,"translate"),e.k0s()(),e.DNE(19,sE,2,3,"ds-error",9),e.k0s()(),e.j41(20,"div",3)(21,"div",4)(22,"label",10),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.qex(25,11),e.nrm(26,"input",12),e.DNE(27,xh,2,3,"ds-error",9),e.bVm(),e.j41(28,"ds-eperson-group-list",13),e.bIt("select",function(ue){return b.updateGroupObjectSelected(ue)}),e.k0s()()(),e.j41(29,"div",14)(30,"button",15),e.bIt("click",function(){return b.close()}),e.nrm(31,"i",16),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"button",17),e.bIt("click",function(){return b.save()}),e.nrm(35,"i",18),e.EFF(36),e.nI1(37,"translate"),e.k0s()()()()),2&c&&(e.R7$(2),e.SpI("",e.bMT(3,13,"supervision-group-selector.header")," "),e.R7$(7),e.JRh(e.bMT(10,15,"supervision-group-selector.select.type-of-order.label")),e.R7$(2),e.R50("ngModel",b.selectedOrderType),e.BMQ("aria-label",e.bMT(12,17,"supervision-group-selector.select.type-of-order.label")),e.R7$(3),e.JRh(e.bMT(15,19,"supervision-group-selector.select.type-of-order.option.editor")),e.R7$(3),e.JRh(e.bMT(18,21,"supervision-group-selector.select.type-of-order.option.observer")),e.R7$(2),e.Y8G("ngIf",b.isSubmitted&&(!b.selectedOrderType||""===b.selectedOrderType)),e.R7$(4),e.JRh(e.bMT(24,23,"supervision-group-selector.select.group.label")),e.R7$(3),e.Y8G("value",b.selectedGroup?b.dsoNameService.getName(b.selectedGroup):""),e.R7$(),e.Y8G("ngIf",b.isSubmitted&&!b.selectedGroup),e.R7$(),e.Y8G("isListOfEPerson",!1),e.R7$(4),e.SpI(" ",e.bMT(33,25,"supervision-group-selector.button.cancel")," "),e.R7$(4),e.SpI(" ",e.bMT(37,27,"supervision-group-selector.button.save")," "))},dependencies:[rn.YN,rn.xH,rn.y7,rn.wz,rn.BC,rn.vS,f.bT,Cf.A,DM.T,K.h,K.D9]})}}return d})();var qv=n(19852),il=n(18226);function iE(d,y){if(1&d){const o=e.RV6();e.j41(0,"a",4),e.nI1(1,"translate"),e.bIt("click",function(b){const $=e.eBV(o).$implicit,ue=e.XpG(3);return b.preventDefault(),b.stopImmediatePropagation(),e.Njj(ue.deleteSupervisionOrder($))}),e.EFF(2),e.j41(3,"span",5),e.EFF(4," \xd7"),e.k0s()()}if(2&d){const o=y.$implicit,c=e.XpG(3);e.Y8G("ngbTooltip",e.bMT(1,2,"workflow-item.search.result.list.element.supervised.remove-tooltip")),e.R7$(2),e.SpI(" ",c.dsoNameService.getName(o.group)," ")}}function oE(d,y){if(1&d&&(e.j41(0,"div",2)(1,"div")(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div"),e.DNE(6,iE,5,4,"a",3),e.k0s()()),2&d){const o=e.XpG().ngVar;e.R7$(3),e.SpI("",e.bMT(4,2,"workflow-item.search.result.list.element.supervised-by")," "),e.R7$(3),e.Y8G("ngForOf",o)}}function TM(d,y){if(1&d&&(e.qex(0),e.DNE(1,oE,7,4,"div",1),e.bVm()),2&d){const o=y.ngVar;e.R7$(),e.Y8G("ngIf",(null==o?null:o.length)>0)}}let OM=(()=>{class d{constructor(o){this.dsoNameService=o,this.supervisionOrderList=[],this.supervisionOrderEntries$=new _.t([]),this.delete=new e.bkB}ngOnChanges(o){o&&o.supervisionOrderList&&this.getSupervisionOrderEntries(o.supervisionOrderList.currentValue).subscribe(c=>{this.supervisionOrderEntries$.next(c)})}getSupervisionOrderEntries(o){return(0,au.H)(o).pipe((0,Qn.Z)(c=>c.group.pipe((0,Bs.qD)(),(0,xt.T)(b=>b.hasSucceeded?{supervisionOrder:c,group:b.payload}:null))),(0,qv.T)((c,b)=>(0,G.hj)(b)?[...c,b]:c,[]))}deleteSupervisionOrder(o){this.delete.emit(o)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Fs.f))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-supervision-order-status"]],inputs:{supervisionOrderList:"supervisionOrderList"},outputs:{delete:"delete"},standalone:!0,features:[e.OA$,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["class","item-list-supervision",4,"ngIf"],[1,"item-list-supervision"],["class","badge bg-primary me-1 mb-1 text-capitalize mw-100 text-truncate","data-test","soBadge","aria-label","Close",3,"ngbTooltip","click",4,"ngFor","ngForOf"],["data-test","soBadge","aria-label","Close",1,"badge","bg-primary","me-1","mb-1","text-capitalize","mw-100","text-truncate",3,"click","ngbTooltip"],["aria-hidden","true"]],template:function(c,b){1&c&&(e.DNE(0,TM,2,1,"ng-container",0),e.nI1(1,"async")),2&c&&e.Y8G("ngVar",e.bMT(1,1,b.supervisionOrderEntries$))},dependencies:[il.r,f.bT,f.pM,q.n8,q.md,f.Jj,K.h,K.D9],styles:[".badge[_ngcontent-%COMP%]{cursor:pointer}"]})}}return d})();const e0=d=>({"btn-sm":d}),MM=d=>[d];function rE(d,y){1&d&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.delete"),""))}function _g(d,y){1&d&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.policies"),""))}function IM(d,y){1&d&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.supervision"),""))}let aE=(()=>{class d{constructor(o,c,b,$,ue){this.dsoNameService=o,this.modalService=c,this.notificationsService=b,this.supervisionOrderDataService=$,this.translateService=ue,this.supervisionOrderList=[],this.messagePrefix="workflow-item.search.result",this.create=new e.bkB,this.delete=new e.bkB}ngOnInit(){const o=this.wsi.item.pipe((0,Bs.ak)());o.pipe((0,xt.T)(c=>this.getPoliciesRoute(c))).subscribe(c=>{this.resourcePoliciesPageRoute=c}),o.subscribe(c=>{this.item=c})}getDeleteRoute(){return(0,Eu.BY)(this.wsi.id)}getPoliciesRoute(o){return["/items",o.uuid,"edit",ld.K4]}deleteSupervisionOrder(o){const c=this.modalService.open(Dd.M);c.componentInstance.name=this.dsoNameService.getName(o.group),c.componentInstance.headerLabel=this.messagePrefix+".delete-supervision.modal.header",c.componentInstance.infoLabel=this.messagePrefix+".delete-supervision.modal.info",c.componentInstance.cancelLabel=this.messagePrefix+".delete-supervision.modal.cancel",c.componentInstance.confirmLabel=this.messagePrefix+".delete-supervision.modal.confirm",c.componentInstance.brandColor="danger",c.componentInstance.confirmIcon="fas fa-trash",c.componentInstance.response.pipe((0,T.s)(1),(0,ks.n)(b=>{if(b&&(0,G.a4)(o.supervisionOrder.id))return this.supervisionOrderDataService.delete(o.supervisionOrder.id).pipe((0,T.s)(1),(0,pi.M)($=>{$?this.notificationsService.success(null,this.translateService.get(this.messagePrefix+".notification.deleted.success",{name:this.dsoNameService.getName(o.group)})):this.notificationsService.error(null,this.translateService.get(this.messagePrefix+".notification.deleted.failure",{name:this.dsoNameService.getName(o.group)}))}))})).subscribe(b=>{b&&this.delete.emit(this.convertReloadedObject())})}openSupervisionModal(){const o=this.modalService.open(bf,{size:"lg",backdrop:"static"});o.componentInstance.itemUUID=this.item.uuid,o.componentInstance.create.subscribe(()=>{this.create.emit(this.convertReloadedObject())})}convertReloadedObject(){const o=(0,gg.L)(this.wsi.constructor);return Object.assign(new o,this.wsi,{indexableObject:this.wsi})}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Fs.f),e.rXU(q.Bq),e.rXU(Es.I),e.rXU(Cu.SupervisionOrderDataService),e.rXU(K.c$))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-workspace-item-admin-workflow-actions-element"]],inputs:{wsi:"wsi",small:"small",supervisionOrderList:"supervisionOrderList"},outputs:{create:"create",delete:"delete"},standalone:!0,features:[e.aNF],decls:15,vars:26,consts:[[1,"my-1"],[3,"delete","supervisionOrderList"],[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],["class","d-none d-sm-inline",4,"ngIf"],[1,"btn","btn-light","my-1","policies-link",3,"ngClass","routerLink","title"],[1,"fas","fa-edit"],[1,"btn","btn-light","my-1","supervision-group-selector",3,"click","ngClass","title"],[1,"fas","fa-users-cog"],[1,"d-none","d-sm-inline"]],template:function(c,b){1&c&&(e.j41(0,"div",0)(1,"ds-supervision-order-status",1),e.bIt("delete",function(ue){return b.deleteSupervisionOrder(ue)}),e.k0s()(),e.j41(2,"div",2)(3,"a",3),e.nI1(4,"translate"),e.nrm(5,"i",4),e.DNE(6,rE,3,3,"span",5),e.k0s(),e.j41(7,"a",6),e.nI1(8,"translate"),e.nrm(9,"i",7),e.DNE(10,_g,3,3,"span",5),e.k0s(),e.j41(11,"a",8),e.nI1(12,"translate"),e.bIt("click",function(){return b.openSupervisionModal()}),e.nrm(13,"i",9),e.DNE(14,IM,3,3,"span",5),e.k0s()()),2&c&&(e.R7$(),e.Y8G("supervisionOrderList",b.supervisionOrderList),e.R7$(2),e.Y8G("ngClass",e.eq3(18,e0,b.small))("routerLink",e.eq3(20,MM,b.getDeleteRoute()))("title",e.bMT(4,12,"admin.workflow.item.delete")),e.R7$(3),e.Y8G("ngIf",!b.small),e.R7$(),e.Y8G("ngClass",e.eq3(22,e0,b.small))("routerLink",b.resourcePoliciesPageRoute)("title",e.bMT(8,14,"admin.workflow.item.policies")),e.R7$(3),e.Y8G("ngIf",!b.small),e.R7$(),e.Y8G("ngClass",e.eq3(24,e0,b.small))("title",e.bMT(12,16,"admin.workflow.item.supervision")),e.R7$(3),e.Y8G("ngIf",!b.small))},dependencies:[OM,f.YU,v.Wk,f.bT,K.h,K.D9]})}}return d})();var vg=n(38786);const SM=["badges"],lE=["buttons"];function PM(d,y){}function RM(d,y){if(1&d&&e.nrm(0,"ds-workflow-item-admin-workflow-actions-element",9),2&d){const o=e.XpG();e.Y8G("wfi",o.dso)("small",!0)}}let Df=class vA extends Tc{constructor(y,o,c,b,$){super(y,c,$),this.dsoNameService=y,this.linkService=o,this.truncatableService=c,this.themeService=b,this.bitstreamDataService=$}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,Ws.s)("item")),this.item$=this.dso.item.pipe((0,Bs.v7)(),(0,Bs.Bo)()),this.item$.pipe((0,T.s)(1)).subscribe(y=>{const o=this.getComponent(y),c=this.dynamicComponentLoaderDirective.viewContainerRef;c.clear(),this.compRef=c.createComponent(o,{index:0,injector:void 0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",y),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID),this.compRef.changeDetectorRef.detectChanges()})}ngOnDestroy(){(0,G.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(y){return(0,Gn.Zx)(y.getRenderTypes(),Vn.n.GridElement,void 0,this.themeService.getThemeName())}static{this.\u0275fac=function(o){return new(o||vA)(e.rXU(Fs.f),e.rXU(Ti._),e.rXU(Ei.F),e.rXU(J.Fs),e.rXU(zr.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:vA,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(o,c){if(1&o&&(e.GBs(Yl.z,7),e.GBs(SM,7),e.GBs(lE,7)),2&o){let b;e.mGM(b=e.lsd())&&(c.dynamicComponentLoaderDirective=b.first),e.mGM(b=e.lsd())&&(c.badges=b.first),e.mGM(b=e.lsd())&&(c.buttons=b.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:4,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"position-absolute","ms-1"],[1,"workflow-badge"],[1,"badge","bg-info"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["class","d-flex justify-content-between",3,"wfi","small",4,"ngIf"],[1,"d-flex","justify-content-between",3,"wfi","small"]],template:function(o,c){1&o&&(e.DNE(0,PM,0,0,"ng-template",2),e.j41(1,"div",3,0)(3,"div",4)(4,"span",5),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ul",6,1)(9,"li",7),e.DNE(10,RM,1,2,"ds-workflow-item-admin-workflow-actions-element",8),e.k0s()()),2&o&&(e.R7$(5),e.JRh(e.bMT(6,2,"admin.workflow.item.workflow")),e.R7$(5),e.Y8G("ngIf",c.object))},dependencies:[f.bT,mg,K.h,K.D9,Yl.z]})}};Df=(0,Ue.Cg)([(0,Gn.VK)(vg.q,Vn.n.GridElement,xs.o.AdminWorkflowSearch),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ti._,Ei.F,J.Fs,zr.BitstreamDataService])],Df);var Lh=n(95010);const cE=["badges"],Tf=["buttons"];function Of(d,y){}let Nd=class yA extends Tc{constructor(y,o,c,b,$,ue){super(y,c,$),this.dsoNameService=y,this.linkService=o,this.truncatableService=c,this.themeService=b,this.bitstreamDataService=$,this.supervisionOrderDataService=ue,this.supervisionOrder$=new _.t([])}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,Ws.s)("item")),this.item$=this.dso.item.pipe((0,Bs.v7)(),(0,Bs.Bo)()),this.item$.pipe((0,T.s)(1)).subscribe(y=>{const o=this.getComponent(y),c=this.dynamicComponentLoaderDirective.viewContainerRef;c.clear(),this.compRef=c.createComponent(o,{index:0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",y),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID),this.compRef.changeDetectorRef.detectChanges()}),this.item$.pipe((0,T.s)(1),(0,pi.M)(y=>this.itemId=y.id),(0,Qn.Z)(y=>this.retrieveSupervisorOrders(y.id))).subscribe(y=>{this.supervisionOrder$.next(y)})}ngOnDestroy(){(0,G.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(y){return(0,Gn.Zx)(y.getRenderTypes(),Vn.n.GridElement,void 0,this.themeService.getThemeName())}retrieveSupervisorOrders(y){return this.supervisionOrderDataService.searchByItem(y,!1,!0,(0,Ws.s)("group")).pipe((0,Bs.qD)(),(0,xt.T)(o=>o.hasSucceeded&&!o.hasNoContent?o.payload.page:[]))}reloadObject(y){this.reloadedObject.emit(y)}static{this.\u0275fac=function(o){return new(o||yA)(e.rXU(Fs.f),e.rXU(Ti._),e.rXU(Ei.F),e.rXU(J.Fs),e.rXU(zr.BitstreamDataService),e.rXU(Cu.SupervisionOrderDataService))}}static{this.\u0275cmp=e.VBU({type:yA,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(o,c){if(1&o&&(e.GBs(Yl.z,7),e.GBs(cE,7),e.GBs(Tf,7)),2&o){let b;e.mGM(b=e.lsd())&&(c.dynamicComponentLoaderDirective=b.first),e.mGM(b=e.lsd())&&(c.badges=b.first),e.mGM(b=e.lsd())&&(c.buttons=b.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:12,vars:8,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"position-absolute","ms-1"],[1,"workflow-badge"],[1,"badge","bg-info"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[3,"create","delete","small","supervisionOrderList","wsi"]],template:function(o,c){if(1&o){const b=e.RV6();e.DNE(0,Of,0,0,"ng-template",2),e.j41(1,"div",3,0)(3,"div",4)(4,"span",5),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ul",6,1)(9,"li",7)(10,"ds-workspace-item-admin-workflow-actions-element",8),e.nI1(11,"async"),e.bIt("create",function(ue){return e.eBV(b),e.Njj(c.reloadObject(ue))})("delete",function(ue){return e.eBV(b),e.Njj(c.reloadObject(ue))}),e.k0s()()()}2&o&&(e.R7$(5),e.JRh(e.bMT(6,4,"admin.workflow.item.workspace")),e.R7$(5),e.Y8G("small",!0)("supervisionOrderList",e.bMT(11,6,c.supervisionOrder$))("wsi",c.dso))},dependencies:[aE,f.Jj,K.h,K.D9,Yl.z]})}};function AM(d,y){if(1&d&&(e.nrm(0,"ds-listable-object-component-loader",4),e.nI1(1,"async")),2&d){const o=e.XpG();e.Y8G("object",e.bMT(1,5,o.item$))("viewMode",o.viewModes.ListElement)("index",o.index)("linkType",o.linkType)("listID",o.listID)}}Nd=(0,Ue.Cg)([(0,Gn.VK)(Lh.I,Vn.n.GridElement,xs.o.AdminWorkflowSearch),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ti._,Ei.F,J.Fs,zr.BitstreamDataService,Cu.SupervisionOrderDataService])],Nd);let yg=class EA extends Pr.P{constructor(y,o,c,b){super(o,c,b),this.linkService=y,this.truncatableService=o,this.dsoNameService=c,this.appConfig=b,this.item$=new _.t(void 0)}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,Ws.s)("item")),this.dso.item.pipe((0,Bs.qD)(),(0,Bs.Bo)()).subscribe(y=>{this.item$.next(y)})}static{this.\u0275fac=function(o){return new(o||EA)(e.rXU(Ti._),e.rXU(Ei.F),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:EA,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:8,consts:[[1,"workflow-badge"],[1,"badge","bg-info"],[3,"object","viewMode","index","linkType","listID",4,"ngIf"],[3,"wfi","small"],[3,"object","viewMode","index","linkType","listID"]],template:function(o,c){1&o&&(e.j41(0,"div",0)(1,"span",1),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.DNE(4,AM,2,7,"ds-listable-object-component-loader",2),e.nI1(5,"async"),e.nrm(6,"ds-workflow-item-admin-workflow-actions-element",3)),2&o&&(e.R7$(2),e.JRh(e.bMT(3,4,"admin.workflow.item.workflow")),e.R7$(2),e.Y8G("ngIf",e.bMT(5,6,c.item$)),e.R7$(2),e.Y8G("wfi",c.dso)("small",!1))},dependencies:[f.bT,yu.v,mg,f.Jj,K.h,K.D9]})}};function wM(d,y){if(1&d&&(e.nrm(0,"ds-listable-object-component-loader",3),e.nI1(1,"async")),2&d){const o=e.XpG();e.Y8G("object",e.bMT(1,5,o.item$))("viewMode",o.viewModes.ListElement)("index",o.index)("linkType",o.linkType)("listID",o.listID)}}yg=(0,Ue.Cg)([(0,Gn.VK)(vg.q,Vn.n.ListElement,xs.o.AdminWorkflowSearch),(0,Ue.Sn)("design:paramtypes",[Ti._,Ei.F,Fs.f,Object])],yg);let bu=class CA extends Pr.P{constructor(y,o,c,b,$){super(b,o,$),this.linkService=y,this.dsoNameService=o,this.supervisionOrderDataService=c,this.truncatableService=b,this.appConfig=$,this.item$=new _.t(void 0),this.supervisionOrder$=new _.t([])}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,Ws.s)("item")),this.dso.item.pipe((0,Bs.qD)(),(0,Bs.Bo)()).pipe((0,T.s)(1),(0,pi.M)(o=>{this.item$.next(o),this.itemId=o.id}),(0,Qn.Z)(o=>this.retrieveSupervisorOrders(o.id))).subscribe(o=>{this.supervisionOrder$.next(o)})}retrieveSupervisorOrders(y){return this.supervisionOrderDataService.searchByItem(y,!1,!0,(0,Ws.s)("group")).pipe((0,Bs.qD)(),(0,xt.T)(o=>o.hasSucceeded&&!o.hasNoContent?o.payload.page:[]))}reloadObject(y){this.reloadedObject.emit(y)}static{this.\u0275fac=function(o){return new(o||CA)(e.rXU(Ti._),e.rXU(Fs.f),e.rXU(Cu.SupervisionOrderDataService),e.rXU(Ei.F),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:CA,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:11,consts:[[1,"badge","bg-info"],[3,"object","viewMode","index","linkType","listID",4,"ngIf"],[3,"create","delete","small","supervisionOrderList","wsi"],[3,"object","viewMode","index","linkType","listID"]],template:function(o,c){1&o&&(e.j41(0,"span",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,wM,2,7,"ds-listable-object-component-loader",1),e.nI1(4,"async"),e.j41(5,"ds-workspace-item-admin-workflow-actions-element",2),e.nI1(6,"async"),e.bIt("create",function($){return c.reloadObject($)})("delete",function($){return c.reloadObject($)}),e.k0s()),2&o&&(e.R7$(),e.JRh(e.bMT(2,5,"admin.workflow.item.workspace")),e.R7$(2),e.Y8G("ngIf",e.bMT(4,7,c.item$)),e.R7$(2),e.Y8G("small",!1)("supervisionOrderList",e.bMT(6,9,c.supervisionOrder$))("wsi",c.dso))},dependencies:[f.bT,yu.v,aE,f.Jj,K.h,K.D9]})}};bu=(0,Ue.Cg)([(0,Gn.VK)(Lh.I,Vn.n.ListElement,xs.o.AdminWorkflowSearch),(0,Ue.Sn)("design:paramtypes",[Ti._,Fs.f,Cu.SupervisionOrderDataService,Ei.F,Object])],bu);const Oc=(0,ne.hZ)("focusShadow",[(0,ne.wk)("focus",(0,ne.iF)({boxShadow:"rgba(119, 119, 119, 0.6) 0px 0px 6px"})),(0,ne.wk)("blur",(0,ne.iF)({boxShadow:"none"})),(0,ne.kY)("focus <=> blur",[(0,ne.i0)("250ms")])]);(0,ne.hZ)("focusBackground",[(0,ne.wk)("focus",(0,ne.iF)({backgroundColor:"rgba(119, 119, 119, 0.1)"})),(0,ne.wk)("blur",(0,ne.iF)({backgroundColor:"transparent"})),(0,ne.kY)("focus <=> blur",[(0,ne.i0)("250ms")])]);var Al=n(21308),cr=n(44869);const dE=["*","*"],uE=()=>["dc.contributor.author","dc.creator","dc.contributor.*"],xM=d=>[d];function LM(d,y){if(1&d&&(e.j41(0,"a",11),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,xM,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function t2(d,y){if(1&d&&(e.j41(0,"span",13)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function NM(d,y){if(1&d&&e.nrm(0,"ds-badges",14),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)("showAccessStatus",!0)}}function FM(d,y){if(1&d&&(e.j41(0,"span",19),e.EFF(1),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.JRh(o.firstMetadataValue("dc.date.issued"))}}function jM(d,y){if(1&d&&(e.j41(0,"span"),e.EFF(1,", "),e.nrm(2,"span",20),e.k0s()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("innerHTML",o,e.npT)}}function t0(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",15)(1,"p",16),e.DNE(2,FM,2,1,"span",17)(3,jM,3,1,"span",18),e.k0s()()),2&d){const o=e.XpG();e.Y8G("id",o.dso.id)("minLines",1),e.R7$(2),e.Y8G("ngIf",o.dso.hasMetadata("dc.date.issued")),e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(4,uE)))}}function Mf(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",15)(1,"p",21),e.nrm(2,"span",20),e.k0s()()),2&d){const o=e.XpG();e.Y8G("id",o.dso.id)("minLines",3),e.R7$(2),e.Y8G("innerHTML",o.firstMetadataValue("dc.description.abstract"),e.npT)}}function n0(d,y){if(1&d&&(e.j41(0,"div",22)(1,"a",23),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,xM,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let za=class bA extends Tc{constructor(y,o,c){super(y,o,c),this.dsoNameService=y,this.truncatableService=o,this.bitstreamDataService=c}ngOnInit(){super.ngOnInit(),this.itemPageRoute=(0,fi._o)(this.dso),this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.dso)}static{this.\u0275fac=function(o){return new(o||bA)(e.rXU(Fs.f),e.rXU(Ei.F),e.rXU(zr.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:bA,selectors:[["ds-item-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:dE,decls:15,vars:14,consts:[[1,"card"],[1,"position-absolute","ms-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context","showAccessStatus",4,"ngIf"],[3,"id"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[3,"id","minLines",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context","showAccessStatus"],[3,"id","minLines"],[1,"item-authors","card-text","text-muted"],["class","item-date",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"item-date"],[3,"innerHTML"],[1,"item-abstract","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(dE),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"div",1),e.SdG(3),e.k0s(),e.DNE(4,LM,5,12,"a",2)(5,t2,4,4,"span",3),e.j41(6,"div",4),e.DNE(7,NM,1,3,"ds-badges",5),e.j41(8,"ds-truncatable",6)(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,t0,4,5,"ds-truncatable-part",9)(12,Mf,3,3,"ds-truncatable-part",9),e.k0s(),e.DNE(13,n0,4,8,"div",10),e.k0s(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,c.isCollapsed$)?"blur":"focus"),e.R7$(4),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id),e.R7$(),e.Y8G("id",c.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata(e.lJ4(13,uE))),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("dc.description.abstract")),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[f.bT,v.Wk,Co.T,Sr.F,Al.d,cr.W,f.pM,f.Jj,K.h,K.D9],data:{animation:[Oc]}})}};za=(0,Ue.Cg)([(0,Gn.VK)("PublicationSearchResult",Vn.n.GridElement),(0,Gn.VK)(Sa.H,Vn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ei.F,zr.BitstreamDataService])],za);const s0=["*","*"],Nh=d=>[d];function hE(d,y){if(1&d&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Nh,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function BM(d,y){if(1&d&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function If(d,y){if(1&d&&e.nrm(0,"ds-badges",15),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function pE(d,y){if(1&d&&(e.j41(0,"span",20)(1,"span"),e.EFF(2,", "),e.k0s(),e.EFF(3),e.k0s()),2&d){const o=e.XpG(2);e.R7$(3),e.SpI(" ",o.firstMetadataValue("creativework.publisher")," ")}}function UM(d,y){if(1&d&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17)(2,"span",18),e.EFF(3),e.k0s(),e.DNE(4,pE,4,1,"span",19),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(2),e.JRh(o.firstMetadataValue("creativework.editor")),e.R7$(),e.Y8G("ngIf",o.dso.hasMetadata("creativework.publisher"))}}function fE(d,y){if(1&d&&(e.j41(0,"p",21)(1,"ds-truncatable-part",17),e.nrm(2,"span",22),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("dc.description"),e.npT)}}function kM(d,y){if(1&d&&(e.j41(0,"div",23)(1,"a",24),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Nh,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Fd=class LT extends za{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(LT)))(c||LT)}})()}static{this.\u0275cmp=e.VBU({type:LT,selectors:[["ds-journal-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:s0,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-publisher card-text text-muted",4,"ngIf"],["class","item-description card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-publisher","card-text","text-muted"],[3,"id","minLines"],[1,"item-editor"],["class","item-publisher",4,"ngIf"],[1,"item-publisher"],[1,"item-description","card-text"],[3,"innerHTML"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(s0),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,hE,5,12,"a",3)(6,BM,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,If,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,UM,5,4,"p",9)(12,fE,3,3,"p",10)(13,kM,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,c.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",c.dso.id),e.R7$(3),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("creativework.editor")),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("dc.description")),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[Al.d,f.bT,v.Wk,Co.T,Sr.F,cr.W,f.Jj,K.h,K.D9],data:{animation:[Oc]}})}};Fd=(0,Ue.Cg)([(0,Gn.VK)("JournalSearchResult",Vn.n.GridElement)],Fd);const VM=()=>({}),GM=(d,y)=>({indexableObject:d,hitHighlights:y});let Eg=class NT extends Fo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(NT)))(c||NT)}})()}static{this.\u0275cmp=e.VBU({type:NT,selectors:[["ds-journal-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-journal-search-result-grid-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,GM,c.object,e.lJ4(3,VM)))("linkType",c.linkType)},dependencies:[Fd]})}};Eg=(0,Ue.Cg)([(0,Gn.VK)("Journal",Vn.n.GridElement)],Eg);const mE=["*","*"],gE=d=>[d];function o0(d,y){if(1&d&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,gE,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function Sf(d,y){if(1&d&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function $M(d,y){if(1&d&&e.nrm(0,"ds-badges",15),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function Cg(d,y){if(1&d&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("creativework.datePublished"),e.npT)}}function bg(d,y){if(1&d&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("journal.title"),e.npT)}}function n2(d,y){if(1&d&&(e.j41(0,"div",20)(1,"a",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,gE,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Pf=class FT extends za{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(FT)))(c||FT)}})()}static{this.\u0275cmp=e.VBU({type:FT,selectors:[["ds-journal-issue-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:mE,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-journal-title card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-journal-title","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(mE),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,o0,5,12,"a",3)(6,Sf,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,$M,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,Cg,3,3,"p",9)(12,bg,3,3,"p",10)(13,n2,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,c.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",c.dso.id),e.R7$(3),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("creativework.datePublished")),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("journal.title")),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[Al.d,f.bT,v.Wk,Co.T,Sr.F,cr.W,f.Jj,K.h,K.D9],data:{animation:[Oc]}})}};Pf=(0,Ue.Cg)([(0,Gn.VK)("JournalIssueSearchResult",Vn.n.GridElement)],Pf);const WM=()=>({}),r0=(d,y)=>({indexableObject:d,hitHighlights:y});let Dg=class jT extends Fo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(jT)))(c||jT)}})()}static{this.\u0275cmp=e.VBU({type:jT,selectors:[["ds-journal-issue-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-journal-issue-search-result-grid-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,r0,c.object,e.lJ4(3,WM)))("linkType",c.linkType)},dependencies:[Pf]})}};Dg=(0,Ue.Cg)([(0,Gn.VK)("JournalIssue",Vn.n.GridElement)],Dg);const a0=["*","*"],_E=d=>[d];function KM(d,y){if(1&d&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,_E,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function vE(d,y){if(1&d&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function HM(d,y){if(1&d&&e.nrm(0,"ds-badges",15),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function zM(d,y){if(1&d&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("creativework.datePublished"),e.npT)}}function Fh(d,y){if(1&d&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("dc.description"),e.npT)}}function Tg(d,y){if(1&d&&(e.j41(0,"div",20)(1,"a",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,_E,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Rf=class BT extends za{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(BT)))(c||BT)}})()}static{this.\u0275cmp=e.VBU({type:BT,selectors:[["ds-journal-volume-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:a0,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-description card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-description","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(a0),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,KM,5,12,"a",3)(6,vE,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,HM,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,zM,3,3,"p",9)(12,Fh,3,3,"p",10)(13,Tg,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,c.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",c.dso.id),e.R7$(3),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("creativework.datePublished")),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("dc.description")),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[Al.d,f.bT,v.Wk,Co.T,Sr.F,cr.W,f.Jj,K.h,K.D9],data:{animation:[Oc]}})}};Rf=(0,Ue.Cg)([(0,Gn.VK)("JournalVolumeSearchResult",Vn.n.GridElement)],Rf);const yE=()=>({}),YM=(d,y)=>({indexableObject:d,hitHighlights:y});let Af=class UT extends Fo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(UT)))(c||UT)}})()}static{this.\u0275cmp=e.VBU({type:UT,selectors:[["ds-journal-volume-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-journal-volume-search-result-grid-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,YM,c.object,e.lJ4(3,yE)))("linkType",c.linkType)},dependencies:[Rf]})}};Af=(0,Ue.Cg)([(0,Gn.VK)("JournalVolume",Vn.n.GridElement)],Af);var Du=n(94418);const EE=()=>["creativeworkseries.issn"],jh=d=>[d];function CE(d,y){if(1&d&&(e.j41(0,"a",13),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,jh,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function XM(d,y){if(1&d&&(e.j41(0,"span",15),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function JM(d,y){if(1&d&&(e.j41(0,"div",10),e.DNE(1,CE,3,9,"a",11)(2,XM,3,4,"span",12),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function QM(d,y){if(1&d&&e.nrm(0,"ds-badges",16),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function l0(d,y){if(1&d&&e.nrm(0,"a",17),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,jh,o.itemPageRoute))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function ZM(d,y){if(1&d&&e.nrm(0,"span",18),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function bE(d,y){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function Xl(d,y){if(1&d&&(e.j41(0,"span"),e.nrm(1,"span",21),e.DNE(2,bE,2,0,"span",22),e.k0s()),2&d){const o=y.$implicit,c=y.last;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!c)}}function DE(d,y){if(1&d&&(e.j41(0,"span",19),e.DNE(1,Xl,3,2,"span",20),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,EE)))}}let wf=class kT extends Du.k{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(kT)))(c||kT)}})()}static{this.\u0275cmp=e.VBU({type:kT,selectors:[["ds-journal-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journals",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journals"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngIf"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,JM,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,QM,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,l0,1,6,"a",5)(6,ZM,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,DE,2,2,"span",9),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.showThumbnails),e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("id",c.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",c.dso.allMetadata(e.lJ4(9,EE)).length>0))},dependencies:[f.bT,v.Wk,Co.T,f.YU,Sr.F,Al.d,cr.W,f.pM,f.Jj]})}};wf=(0,Ue.Cg)([(0,Gn.VK)("JournalSearchResult",Vn.n.ListElement)],wf);const s2=()=>({}),Rr=(d,y)=>({indexableObject:d,hitHighlights:y});let Og=class VT extends Fo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(VT)))(c||VT)}})()}static{this.\u0275cmp=e.VBU({type:VT,selectors:[["ds-journal-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-journal-search-result-list-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,Rr,c.object,e.lJ4(3,s2)))("linkType",c.linkType)},dependencies:[wf]})}};Og=(0,Ue.Cg)([(0,Gn.VK)("Journal",Vn.n.ListElement)],Og);const Mg=()=>["publicationvolume.volumeNumber"],TE=d=>[d],OE=()=>["publicationissue.issueNumber"];function c0(d,y){if(1&d&&(e.j41(0,"a",13),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,TE,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function ME(d,y){if(1&d&&(e.j41(0,"span",15),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function IE(d,y){if(1&d&&(e.j41(0,"div",10),e.DNE(1,c0,3,9,"a",11)(2,ME,3,4,"span",12),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function SE(d,y){if(1&d&&e.nrm(0,"ds-badges",16),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function qM(d,y){if(1&d&&e.nrm(0,"a",17),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,TE,o.itemPageRoute))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function eI(d,y){if(1&d&&e.nrm(0,"span",18),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function Tu(d,y){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function PE(d,y){if(1&d&&(e.j41(0,"span"),e.nrm(1,"span",22),e.DNE(2,Tu,2,0,"span",23),e.k0s()),2&d){const o=y.$implicit,c=y.last;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!c)}}function d0(d,y){1&d&&(e.j41(0,"span"),e.EFF(1," - "),e.k0s())}function tI(d,y){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function RE(d,y){if(1&d&&(e.j41(0,"span"),e.DNE(1,d0,2,0,"span",23),e.nrm(2,"span",22),e.DNE(3,tI,2,0,"span",23),e.k0s()),2&d){const o=y.$implicit,c=y.first,b=y.last;e.R7$(),e.Y8G("ngIf",c),e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!b)}}function AE(d,y){if(1&d&&(e.j41(0,"span",24),e.DNE(1,RE,4,3,"span",20),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,OE)))}}function wE(d,y){if(1&d&&(e.j41(0,"span",19),e.DNE(1,PE,3,2,"span",20)(2,AE,2,2,"span",21),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(2,Mg))),e.R7$(),e.Y8G("ngIf",o.dso.allMetadata(e.lJ4(3,OE)).length>0)}}let ud=class GT extends Du.k{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(GT)))(c||GT)}})()}static{this.\u0275cmp=e.VBU({type:GT,selectors:[["ds-journal-issue-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journal-issues",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journal-issues"],[4,"ngFor","ngForOf"],["class","item-list-journal-issue-numbers",4,"ngIf"],[3,"innerHTML"],[4,"ngIf"],[1,"item-list-journal-issue-numbers"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,IE,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,SE,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,qM,1,6,"a",5)(6,eI,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,wE,3,4,"span",9),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.showThumbnails),e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("id",c.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",c.dso.allMetadata(e.lJ4(9,Mg)).length>0))},dependencies:[f.bT,v.Wk,Co.T,f.YU,Sr.F,Al.d,cr.W,f.pM,f.Jj]})}};ud=(0,Ue.Cg)([(0,Gn.VK)("JournalIssueSearchResult",Vn.n.ListElement)],ud);const u0=()=>({}),jd=(d,y)=>({indexableObject:d,hitHighlights:y});let Ou=class $T extends Fo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo($T)))(c||$T)}})()}static{this.\u0275cmp=e.VBU({type:$T,selectors:[["ds-journal-issue-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-journal-issue-search-result-list-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,jd,c.object,e.lJ4(3,u0)))("linkType",c.linkType)},dependencies:[ud]})}};Ou=(0,Ue.Cg)([(0,Gn.VK)("JournalIssue",Vn.n.ListElement)],Ou);const h0=()=>["journal.title"],Bh=()=>["publicationvolume.volumeNumber"],xE=d=>[d];function nI(d,y){if(1&d&&(e.j41(0,"a",14),e.nrm(1,"ds-thumbnail",15),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,xE,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function p0(d,y){if(1&d&&(e.j41(0,"span",16),e.nrm(1,"ds-thumbnail",15),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function LE(d,y){if(1&d&&(e.j41(0,"div",11),e.DNE(1,nI,3,9,"a",12)(2,p0,3,4,"span",13),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function Bd(d,y){if(1&d&&e.nrm(0,"ds-badges",17),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function xf(d,y){if(1&d&&e.nrm(0,"a",18),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,xE,o.itemPageRoute))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function o2(d,y){if(1&d&&e.nrm(0,"span",19),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function Ig(d,y){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function NE(d,y){if(1&d&&(e.j41(0,"span"),e.nrm(1,"span",22),e.DNE(2,Ig,2,0,"span",23),e.k0s()),2&d){const o=y.$implicit,c=y.last;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!c)}}function FE(d,y){if(1&d&&(e.j41(0,"span",20),e.DNE(1,NE,3,2,"span",21),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,h0)))}}function sI(d,y){1&d&&(e.j41(0,"span"),e.EFF(1,";"),e.k0s())}function Sg(d,y){if(1&d&&(e.j41(0,"span")(1,"span"),e.EFF(2," ("),e.k0s(),e.nrm(3,"span",22),e.j41(4,"span"),e.EFF(5,")"),e.k0s(),e.DNE(6,sI,2,0,"span",23),e.k0s()),2&d){const o=y.$implicit,c=y.last;e.R7$(3),e.Y8G("innerHTML",o,e.npT),e.R7$(3),e.Y8G("ngIf",!c)}}function Lf(d,y){if(1&d&&(e.j41(0,"span",24),e.DNE(1,Sg,7,2,"span",21),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,Bh)))}}let Nf=class WT extends Du.k{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(WT)))(c||WT)}})()}static{this.\u0275cmp=e.VBU({type:WT,selectors:[["ds-journal-volume-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:12,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journal-volumes",4,"ngIf"],["class","item-list-journal-volume-identifiers",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journal-volumes"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngIf"],[1,"item-list-journal-volume-identifiers"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,LE,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,Bd,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,xf,1,6,"a",5)(6,o2,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,FE,2,2,"span",9)(10,Lf,2,2,"span",10),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.showThumbnails),e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("id",c.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",c.dso.allMetadata(e.lJ4(10,h0)).length>0),e.R7$(),e.Y8G("ngIf",c.dso.allMetadata(e.lJ4(11,Bh)).length>0))},dependencies:[f.bT,v.Wk,Co.T,f.YU,Sr.F,Al.d,cr.W,f.pM,f.Jj]})}};Nf=(0,Ue.Cg)([(0,Gn.VK)("JournalVolumeSearchResult",Vn.n.ListElement)],Nf);const iI=()=>({}),oI=(d,y)=>({indexableObject:d,hitHighlights:y});let Pg=class KT extends Fo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(KT)))(c||KT)}})()}static{this.\u0275cmp=e.VBU({type:KT,selectors:[["ds-journal-volume-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-journal-volume-search-result-list-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,oI,c.object,e.lJ4(3,iI)))("linkType",c.linkType)},dependencies:[Nf]})}};function rI(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Pg=(0,Ue.Cg)([(0,Gn.VK)("JournalVolume",Vn.n.ListElement)],Pg);let hd=(()=>{class d extends Pr.P{constructor(o,c,b){super(o,b,null),this.truncatableService=o,this.linkService=c,this.dsoNameService=b}ngOnInit(){super.ngOnInit(),(0,G.a4)(this.dso)&&(this.parentTitle$=this.getParentTitle(),this.description=this.getDescription())}isCurrent(){return this.context===xs.o.SideBarSearchModalCurrent}getParentTitle(){return this.getParent().pipe((0,xt.T)(o=>(0,G.a4)(o)&&(0,G.a4)(o.payload)?this.dsoNameService.getName(o.payload):void 0))}getParent(){if("function"==typeof this.dso.getParentLinkKey){const o=this.dso.getParentLinkKey();return this.linkService.resolveLink(this.dso,(0,Ws.s)(o))[o].pipe((0,Wr.I)(c=>c.hasSucceeded||204===c.statusCode))}return(0,Ts.of)(void 0)}getDescription(){const o=this.firstMetadataValue("dc.publisher"),c=this.firstMetadataValue("dc.date.issued"),b=this.allMetadataValues(["dc.contributor.author","dc.creator","dc.contributor.*"]);let $="";return((0,G.hj)(o)||(0,G.hj)(c))&&($+="("),(0,G.hj)(o)&&($+=o),(0,G.hj)(c)&&((0,G.hj)(o)&&($+=", "),$+=c),(0,G.hj)($)&&($+=") "),(0,G.hj)(b)&&b.forEach((ue,Me)=>{$+=ue,Me<b.length-1&&($+="; ")}),this.undefinedIfEmpty($)}undefinedIfEmpty(o){return this.defaultIfEmpty(o,void 0)}defaultIfEmpty(o,c){return(0,G.hj)(o)?o:c}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Ei.F),e.rXU(Ti._),e.rXU(Fs.f))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(c,b){1&c&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,rI,2,5,"ds-truncatable-part",3)),2&c&&(e.Y8G("maxLines",1)("background",b.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",b.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,b.parentTitle$&&b.parentTitle$)?e.bMT(3,13,b.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",b.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",b.isCurrent()?"text-light":"text-primary")("innerHTML",b.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",b.description))},dependencies:[cr.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}}return d})();function aI(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}let Rg=class HT extends hd{getDescription(){const y=this.allMetadataValues(["creativeworkseries.issn"]);let o="";return(0,G.hj)(y)&&(o+=y.join(", ")),this.undefinedIfEmpty(o)}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(HT)))(c||HT)}})()}static{this.\u0275cmp=e.VBU({type:HT,selectors:[["ds-journal-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,aI,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[cr.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};function Ag(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Rg=(0,Ue.Cg)([(0,Gn.VK)("JournalSearchResult",Vn.n.ListElement,xs.o.SideBarSearchModal),(0,Gn.VK)("JournalSearchResult",Vn.n.ListElement,xs.o.SideBarSearchModalCurrent),(0,Gn.VK)("JournalSearchResult",Vn.n.ListElement,xs.o.ScopeSelectorModal),(0,Gn.VK)("JournalSearchResult",Vn.n.ListElement,xs.o.ScopeSelectorModalCurrent)],Rg);let wg=class zT extends hd{getDescription(){const y=this.allMetadataValues(["publicationvolume.volumeNumber"]),o=this.allMetadataValues(["publicationissue.issueNumber"]);let c="";return(0,G.hj)(y)&&(c+=y.join(", ")),(0,G.hj)(c)&&(0,G.hj)(o)&&(c+=" - "),(0,G.hj)(o)&&(c+=o.join(", ")),this.undefinedIfEmpty(c)}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(zT)))(c||zT)}})()}static{this.\u0275cmp=e.VBU({type:zT,selectors:[["ds-journal-issue-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,Ag,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[cr.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};function lI(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}wg=(0,Ue.Cg)([(0,Gn.VK)("JournalIssueSearchResult",Vn.n.ListElement,xs.o.SideBarSearchModal),(0,Gn.VK)("JournalIssueSearchResult",Vn.n.ListElement,xs.o.SideBarSearchModalCurrent),(0,Gn.VK)("JournalIssueSearchResult",Vn.n.ListElement,xs.o.ScopeSelectorModal),(0,Gn.VK)("JournalIssueSearchResult",Vn.n.ListElement,xs.o.ScopeSelectorModalCurrent)],wg);let Ff=class YT extends hd{getDescription(){const y=this.allMetadataValues(["journal.title"]),o=this.allMetadataValues(["publicationvolume.volumeNumber"]);let c="";return(0,G.hj)(y)&&(c+=y.join(", ")),(0,G.hj)(o)&&((0,G.hj)(c)&&(c+=" "),c+=o.map(b=>`(${b})`).join(" ")),this.undefinedIfEmpty(c)}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(YT)))(c||YT)}})()}static{this.\u0275cmp=e.VBU({type:YT,selectors:[["ds-journal-volume-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,lI,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[cr.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};Ff=(0,Ue.Cg)([(0,Gn.VK)("JournalVolumeSearchResult",Vn.n.ListElement,xs.o.SideBarSearchModal),(0,Gn.VK)("JournalVolumeSearchResult",Vn.n.ListElement,xs.o.SideBarSearchModalCurrent),(0,Gn.VK)("JournalVolumeSearchResult",Vn.n.ListElement,xs.o.ScopeSelectorModal),(0,Gn.VK)("JournalVolumeSearchResult",Vn.n.ListElement,xs.o.ScopeSelectorModalCurrent)],Ff);var jE=n(7654),Pa=n(79222),BE=n(56977);class f0{}const UE=function(){var d=(0,m.A)(function*(){return(yield n.e(2441).then(n.t.bind(n,92441,23))).default});return function(){return d.apply(this,arguments)}}(),m0=new e.nKC("Lazily loaded MarkdownIt",{providedIn:"root",factory:UE});let kE=(()=>{class d{constructor(o,c,b,$){this.markdownIt=o,this.sanitizer=c,this.mathService=b,this.elementRef=$,this.alive$=new ca.B,this.el=$.nativeElement}ngOnInit(){this.render(this.dsMarkdown)}render(o,c=!1){var b=this;return(0,m.A)(function*(){(0,G.Im)(o)||!A.c.markdown.enabled&&!c?b.el.innerHTML=b.sanitizer.sanitize(e.WPN.HTML,o):A.c.markdown.mathjax?b.renderMathjaxThenMarkdown(o):b.renderMarkdown(o)})()}renderMathjaxThenMarkdown(o){const c=this.sanitizer.sanitize(e.WPN.HTML,o);this.el.innerHTML=c,this.mathService.ready().pipe((0,Wn.p)(b=>b),(0,T.s)(1),(0,BE.Q)(this.alive$)).subscribe(()=>{this.mathService.render(this.el)?.then(b=>{this.renderMarkdown(this.el.innerHTML,!0)})})}renderMarkdown(o,c=!1){var b=this;return(0,m.A)(function*(){const ue=new(yield b.markdownIt)({html:!0,linkify:!0}),Me=c?ue.render(o):b.sanitizer.sanitize(e.WPN.HTML,ue.render(o));b.el.innerHTML=Me})()}ngOnDestroy(){this.alive$.next(!1)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(m0),e.rXU(h.up),e.rXU(f0),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:d,selectors:[["","dsMarkdown",""]],inputs:{dsMarkdown:"dsMarkdown"},standalone:!0})}}return d})();const VE=(d,y)=>({value:d,img:y}),cI=d=>["/browse",d];function dI(d,y){1&d&&e.eu8(0)}function uI(d,y){if(1&d&&e.nrm(0,"span",9),2&d){const o=e.XpG(2);e.Y8G("innerHTML",o.separator,e.npT)}}function g0(d,y){if(1&d&&(e.qex(0),e.DNE(1,dI,1,0,"ng-container",7)(2,uI,1,1,"span",8),e.bVm()),2&d){const o=y.$implicit,c=y.last,b=e.XpG(),$=e.sdS(4),ue=e.sdS(6),Me=e.sdS(8),it=e.sdS(10),Bt=e.sdS(12);e.R7$(),e.Y8G("ngTemplateOutlet",b.renderMarkdown?$:b.hasLink(o)?b.hasValue(b.img)?Me:ue:b.hasBrowseDefinition()?Bt:it)("ngTemplateOutletContext",e.l_i(3,VE,o.value,b.img)),e.R7$(),e.Y8G("ngIf",!c)}}function _0(d,y){1&d&&e.nrm(0,"span",10),2&d&&e.Y8G("dsMarkdown",y.value)}function GE(d,y){if(1&d&&(e.j41(0,"a",11),e.EFF(1),e.k0s()),2&d){const o=y.value,c=e.XpG();e.Y8G("href",o,e.B4B),e.BMQ("target",c.getLinkAttributes(o).target)("rel",c.getLinkAttributes(o).rel),e.R7$(),e.SpI(" ",o," ")}}function v0(d,y){if(1&d&&(e.j41(0,"a",12),e.nrm(1,"img",13),e.nI1(2,"translate"),e.EFF(3),e.k0s()),2&d){const o=y.img,c=y.value;e.Y8G("href",c,e.B4B),e.R7$(),e.xc7("height","var("+o.heightVar+", --ds-item-page-img-field-default-inline-height)"),e.Y8G("alt",e.bMT(2,6,o.alt))("src",o.URI,e.B4B),e.R7$(2),e.SpI(" ",c," ")}}function y0(d,y){if(1&d&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&d){const o=y.value;e.R7$(),e.JRh(o)}}function hI(d,y){if(1&d&&(e.j41(0,"a",15),e.EFF(1),e.k0s()),2&d){const o=y.value,c=e.XpG();e.Y8G("routerLink",e.eq3(3,cI,c.browseDefinition.id))("queryParams",c.getQueryParams(o)),e.R7$(),e.JRh(o)}}let Uh=(()=>{class d{constructor(o){this.appConfig=o,this.enableMarkdown=!1,this.hasValue=G.a4}ngOnChanges(o){this.renderMarkdown=!!this.appConfig.markdown.enabled&&this.enableMarkdown}hasBrowseDefinition(){return(0,G.a4)(this.browseDefinition)}hasLink(o){return!!(0,G.a4)(this.urlRegex)&&new RegExp(this.urlRegex).test(o.value)}getQueryParams(o){const c={startsWith:o};return this.browseDefinition.getRenderType()===jE.o.value?{value:o}:c}hasInternalLink(o){return o.startsWith(A.c.ui.baseUrl)}getLinkAttributes(o){return this.hasInternalLink(o)?{target:"_self",rel:""}:{target:"_blank",rel:"noopener noreferrer"}}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-metadata-values"]],inputs:{mdValues:"mdValues",separator:"separator",label:"label",enableMarkdown:"enableMarkdown",urlRegex:"urlRegex",browseDefinition:"browseDefinition",img:"img"},standalone:!0,features:[e.OA$,e.aNF],decls:13,vars:4,consts:[["markdown",""],["link",""],["linkImg",""],["simple",""],["browselink",""],[3,"label"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","separator",3,"innerHTML",4,"ngIf"],[1,"separator",3,"innerHTML"],[1,"dont-break-out",3,"dsMarkdown"],[1,"dont-break-out","ds-simple-metadata-link",3,"href"],["target","_blank",1,"link-anchor","dont-break-out","ds-simple-metadata-link",3,"href"],[1,"link-logo",3,"alt","src"],[1,"dont-break-out","preserve-line-breaks"],[1,"dont-break-out","preserve-line-breaks","ds-browse-link",3,"routerLink","queryParams"]],template:function(c,b){1&c&&(e.j41(0,"ds-metadata-field-wrapper",5),e.nI1(1,"translate"),e.DNE(2,g0,3,6,"ng-container",6),e.k0s(),e.DNE(3,_0,1,1,"ng-template",null,0,e.C5r)(5,GE,2,4,"ng-template",null,1,e.C5r)(7,v0,4,8,"ng-template",null,2,e.C5r)(9,y0,2,1,"ng-template",null,3,e.C5r)(11,hI,2,5,"ng-template",null,4,e.C5r)),2&c&&(e.Y8G("label",e.bMT(1,2,b.label)),e.R7$(2),e.Y8G("ngForOf",b.mdValues))},dependencies:[Pa.Q,f.pM,f.T3,f.bT,v.Wk,K.h,K.D9,kE]})}}return d})();var pI=n(27916),fI=n.n(pI),$E=n(26365),E0=n(42673);let Mu=(()=>{class d{constructor(o,c){this.browseDefinitionDataService=o,this.browseService=c,this.enableMarkdown=!1,this.separator="<br/>"}get browseDefinition(){return this.browseService.getBrowseDefinitions().pipe((0,Bs.qD)(),(0,Bs.Bo)(),(0,Bs.W8)(),(0,$E.U)(),(0,Wn.p)(o=>fI()(o.metadataKeys,this.fields,d.fieldMatch).length>0),(0,T.s)(1))}static fieldMatch(o,c){return c===o||o.endsWith(".*")&&c.substring(0,o.length-1)===o.substring(0,o.length-1)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(E0.BrowseDefinitionDataService),e.rXU(Zu.q))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ng-component"]],inputs:{item:"item"},standalone:!0,features:[e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(c,b){1&c&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&c&&(e.R7$(),e.Y8G("mdValues",null==b.item?null:b.item.allMetadata(b.fields))("separator",b.separator)("label",b.label)("enableMarkdown",b.enableMarkdown)("urlRegex",b.urlRegex)("browseDefinition",e.bMT(2,7,b.browseDefinition))("img",b.img))},dependencies:[Uh,f.Jj],encapsulation:2})}}return d})(),Mc=(()=>{class d extends Mu{constructor(){super(...arguments),this.enableMarkdown=!1}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-generic-item-page-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label",enableMarkdown:"enableMarkdown",urlRegex:"urlRegex"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(c,b){1&c&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&c&&(e.R7$(),e.Y8G("mdValues",null==b.item?null:b.item.allMetadata(b.fields))("separator",b.separator)("label",b.label)("enableMarkdown",b.enableMarkdown)("urlRegex",b.urlRegex)("browseDefinition",e.bMT(2,7,b.browseDefinition))("img",b.img))},dependencies:[Uh,f.Jj],encapsulation:2})}}return d})();var Jl=n(26077),kh=n(56760);let Ic=(()=>{class d{constructor(o,c){this.routeService=o,this.router=c,this.showLabel=!0,this.previousRoute=/^(\/search|\/browse|\/collections|\/admin\/search|\/mydspace)/,this.back=()=>{this.routeService.getPreviousUrl().pipe((0,T.s)(1)).subscribe(b=>{this.router.navigateByUrl(b)})},this.mediaViewer=A.c.mediaViewer}ngOnInit(){this.itemPageRoute=(0,fi._o)(this.object),this.showBackButton$=this.routeService.getPreviousUrl().pipe((0,xt.T)(o=>this.previousRoute.test(o)),(0,T.s)(1)),this.iiifEnabled=(d=>!!this.object.firstMetadataValue("dspace.iiif.enabled"))(),this.iiifSearchEnabled=(d=>!!this.object.firstMetadataValue("iiif.search.enabled"))(),this.iiifSearchEnabled&&(this.iiifQuery$=this.routeService.getPreviousUrl().pipe((0,Wn.p)(o=>o.includes("/search")),(0,xt.T)(o=>(new v.nU).parse(o).queryParamMap.get("query")),(0,T.s)(1)))}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(kh.v$),e.rXU(v.Ix))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item"]],inputs:{object:"object",showLabel:"showLabel",viewMode:"viewMode"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(c,b){},encapsulation:2})}}return d})();var KE=n(4021),C0=n(49656);let r2=(()=>{class d{constructor(){this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){(0,G.hj)(this.relationType)&&(0,G.hj)(this.item)&&(this.fixedFilter=(0,C0.as)(this.relationType,this.item.id))}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-related-entities-search"]],inputs:{relationType:"relationType",configuration:"configuration",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},standalone:!0,features:[e.aNF],decls:1,vars:5,consts:[[3,"fixedFilterQuery","configuration","searchEnabled","sideBarWidth","showCsvExport"]],template:function(c,b){1&c&&e.nrm(0,"ds-configuration-search-page",0),2&c&&e.Y8G("fixedFilterQuery",b.fixedFilter)("configuration",b.configuration)("searchEnabled",b.searchEnabled)("sideBarWidth",b.sideBarWidth)("showCsvExport",!0)},dependencies:[KE.M],encapsulation:2})}}return d})();function a2(d,y){if(1&d&&(e.j41(0,"div",9),e.nrm(1,"ds-related-entities-search",10),e.k0s()),2&d){const o=e.XpG().$implicit,c=e.XpG(2);e.R7$(),e.Y8G("item",c.item)("relationType",o.filter)("configuration",o.configuration)("searchEnabled",c.searchEnabled)("sideBarWidth",c.sideBarWidth)}}function HE(d,y){if(1&d&&(e.j41(0,"li",6)(1,"a",7),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,a2,2,5,"ng-template",8),e.k0s()),2&d){const o=y.$implicit;e.Y8G("ngbNavItem",o.filter),e.R7$(2),e.SpI(" ",e.bMT(3,2,"item.page.relationships."+o.label)," ")}}function zE(d,y){if(1&d){const o=e.RV6();e.qex(0),e.j41(1,"ul",3,0),e.nI1(3,"async"),e.bIt("navChange",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onTabChange(b))}),e.DNE(4,HE,5,4,"li",4),e.k0s(),e.nrm(5,"div",5),e.bVm()}if(2&d){const o=e.sdS(2),c=e.XpG();e.R7$(),e.Y8G("destroyOnHide",!0)("activeId",e.bMT(3,4,c.activeTab$)),e.R7$(3),e.Y8G("ngForOf",c.relationTypes),e.R7$(),e.Y8G("ngbNavOutlet",o)}}function YE(d,y){if(1&d&&e.nrm(0,"ds-related-entities-search",10),2&d){const o=y.ngVar,c=e.XpG(2);e.Y8G("item",c.item)("relationType",o.filter)("configuration",o.configuration)("searchEnabled",c.searchEnabled)("sideBarWidth",c.sideBarWidth)}}function b0(d,y){if(1&d&&(e.j41(0,"div",9),e.DNE(1,YE,1,5,"ds-related-entities-search",11),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngVar",o.relationTypes[0])}}let jf=(()=>{class d{constructor(o,c){this.route=o,this.router=c,this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){this.activeTab$=this.route.queryParams.pipe((0,xt.T)(o=>o.tab))}onTabChange(o){this.router.navigate([],{relativeTo:this.route,queryParams:{tab:o.nextId},queryParamsHandling:"merge"})}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(v.nX),e.rXU(v.Ix))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-tabbed-related-entities-search"]],inputs:{relationTypes:"relationTypes",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},standalone:!0,features:[e.aNF],decls:2,vars:2,consts:[["tabs","ngbNav"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["ngbNav","","role","tablist",1,"nav-tabs",3,"navChange","destroyOnHide","activeId"],["role","presentation",3,"ngbNavItem",4,"ngFor","ngForOf"],[3,"ngbNavOutlet"],["role","presentation",3,"ngbNavItem"],["ngbNavLink","","role","tab"],["ngbNavContent",""],[1,"mt-4"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth",4,"ngVar"]],template:function(c,b){1&c&&e.DNE(0,zE,6,6,"ng-container",1)(1,b0,2,1,"div",2),2&c&&(e.Y8G("ngIf",b.relationTypes.length>1),e.R7$(),e.Y8G("ngIf",1===b.relationTypes.length))},dependencies:[f.bT,q.Pv,q.Um,q.X9,q.sy,q.Ri,q.m_,f.pM,r2,il.r,f.Jj,K.h,K.D9],encapsulation:2})}}return d})();var D0=n(41023),Vh=n(82394),XE=n(74430),_I=n(20261);const vI=d=>({amount:d});function l2(d,y){if(1&d&&e.nrm(0,"ds-listable-object-component-loader",6),2&d){const o=y.$implicit,c=e.XpG(3);e.Y8G("object",o)("viewMode",c.viewMode)}}function c2(d,y){1&d&&(e.nrm(0,"ds-loading",7),e.nI1(1,"translate")),2&d&&e.FS9("message",e.bMT(1,1,"loading.default"))}function d2(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",11)(1,"button",12),e.bIt("click",function(){e.eBV(o);const b=e.XpG(4);return e.Njj(b.increase())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&d){const o=e.XpG(2).ngVar,c=e.XpG(2);e.R7$(2),e.Lme("",e.i5U(3,2,"item.page.related-items.view-more",e.eq3(5,vI,(null==o||null==o.payload?null:o.payload.totalElements)-c.incrementBy*c.objects.length<c.incrementBy?(null==o||null==o.payload?null:o.payload.totalElements)-c.incrementBy*c.objects.length:c.incrementBy))," ",c.label,"")}}function u2(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",13)(1,"button",12),e.bIt("click",function(){e.eBV(o);const b=e.XpG(4);return e.Njj(b.decrease())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&d){const o=e.XpG(2).ngVar,c=e.XpG(2);e.R7$(2),e.Lme("",e.i5U(3,2,"item.page.related-items.view-less",e.eq3(5,vI,null==o||null==o.payload||null==o.payload.page?null:o.payload.page.length))," ",c.label,"")}}function h2(d,y){if(1&d&&(e.j41(0,"div",8),e.DNE(1,d2,4,7,"div",9)(2,u2,4,7,"div",10),e.k0s()),2&d){const o=e.XpG().ngVar,c=e.XpG(2);e.R7$(),e.Y8G("ngIf",(null==o||null==o.payload?null:o.payload.totalPages)>c.objects.length),e.R7$(),e.Y8G("ngIf",c.objects.length>1)}}function p2(d,y){if(1&d&&(e.qex(0),e.DNE(1,l2,1,2,"ds-listable-object-component-loader",3)(2,c2,2,3,"ds-loading",4)(3,h2,3,2,"div",5),e.bVm()),2&d){const o=y.ngVar,c=e.XpG().index,b=e.XpG();e.R7$(),e.Y8G("ngForOf",null==o||null==o.payload?null:o.payload.page),e.R7$(),e.Y8G("ngIf",c+1===b.objects.length&&(o||c>0)&&!(null!=o&&o.hasSucceeded&&null!=o&&o.payload&&(null==o||null==o.payload||null==o.payload.page?null:o.payload.page.length)>0)),e.R7$(),e.Y8G("ngIf",c+1===b.objects.length&&(null==o||null==o.payload||null==o.payload.page?null:o.payload.page.length)>0)}}function f2(d,y){if(1&d&&(e.qex(0),e.DNE(1,p2,4,3,"ng-container",2),e.nI1(2,"async"),e.bVm()),2&d){const o=y.$implicit;e.R7$(),e.Y8G("ngVar",e.bMT(2,1,o))}}let pd=(()=>{class d extends _I.e{constructor(o,c,b,$){super(),this.relationshipService=o,this.elementRef=c,this.appConfig=b,this.platformId=$,this.incrementBy=5,this.options=new D0._,this.viewMode=Vn.n.ListElement,this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}ngOnInit(){this.placeholderFontClass=(0,f.UE)(this.platformId)?(0,XE.F)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text",super.ngOnInit()}getPage(o){return this.relationshipService.getRelatedItemsByLabel(this.parentItem,this.relationType,Object.assign(this.options,{elementsPerPage:this.incrementBy,currentPage:o,fetchThumbnail:this.fetchThumbnail}))}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(El.RelationshipDataService),e.rXU(e.aKT),e.rXU(si.vQ),e.rXU(e.Agw))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-related-items"]],inputs:{parentItem:"parentItem",relationType:"relationType",incrementBy:"incrementBy",options:"options",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[3,"label","ngClass"],[4,"ngFor","ngForOf"],[4,"ngVar"],[3,"object","viewMode",4,"ngFor","ngForOf"],[3,"message",4,"ngIf"],["class","d-inline-block w-100 mt-2",4,"ngIf"],[3,"object","viewMode"],[3,"message"],[1,"d-inline-block","w-100","mt-2"],["class","float-start","id","view-more",4,"ngIf"],["class","float-end","id","view-less",4,"ngIf"],["id","view-more",1,"float-start"],[1,"btn","btn-link","btn-link-inline","text-capitalize",3,"click"],["id","view-less",1,"float-end"]],template:function(c,b){1&c&&(e.j41(0,"ds-metadata-field-wrapper",0),e.DNE(1,f2,3,3,"ng-container",1),e.k0s()),2&c&&(e.Y8G("label",b.label)("ngClass",b.placeholderFontClass),e.R7$(),e.Y8G("ngForOf",b.objects))},dependencies:[Pa.Q,f.YU,f.pM,il.r,yu.v,f.bT,Vh.v,f.Jj,K.h,K.D9],styles:["[_nghost-%COMP%]{display:block}ds-listable-object-component-loader[_ngcontent-%COMP%]{margin-bottom:10px;display:block}"]})}}return d})();var fd=n(17807),Iu=n(4420);const m2=()=>["creativeworkseries.issn"],g2=()=>["creativework.publisher"],_2=()=>["creativework.editor"],v2=()=>["dc.description"],yI=d=>[d],y2=()=>({label:"isJournalOfPublication",filter:"isJournalOfPublication",configuration:"default-relationships"});function E2(d,y){if(1&d&&e.nrm(0,"ds-results-back-button",14),2&d){const o=e.XpG();e.Y8G("back",o.back)}}let T0=class XT extends Ic{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(XT)))(c||XT)}})()}static{this.\u0275cmp=e.VBU({type:XT,selectors:[["ds-journal"]],standalone:!0,features:[e.Vt3,e.aNF],decls:23,vars:40,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"item-page-fields",3,"item","fields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100","px-0"],[3,"item","relationTypes"],[3,"back"]],template:function(o,c){1&o&&(e.DNE(0,E2,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",8),e.k0s(),e.j41(13,"div",9),e.nrm(14,"ds-related-items",10),e.nI1(15,"translate"),e.nrm(16,"ds-generic-item-page-field",7),e.j41(17,"div")(18,"a",11),e.EFF(19),e.nI1(20,"translate"),e.k0s()()(),e.j41(21,"div",12),e.nrm(22,"ds-tabbed-related-entities-search",13),e.k0s()()),2&o&&(e.Y8G("ngIf",e.bMT(1,23,c.showBackButton$)),e.R7$(3),e.Y8G("item",c.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,25,null==c.object?null:c.object.thumbnail)),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(31,m2))("label","journal.page.issn"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(32,g2))("label","journal.page.publisher"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(33,_2))("label","journal.page.editor"),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isVolumeOfJournal")("label",e.bMT(15,27,"relationships.isVolumeOf")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(34,v2))("label","journal.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(35,yI,c.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(20,29,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",c.object)("relationTypes",e.eq3(38,yI,e.lJ4(37,y2))))},dependencies:[f.bT,Iu.U,Jl.V,fd.T,Pa.Q,Co.T,Mc,pd,v.Wk,jf,f.Jj,K.h,K.D9]})}};T0=(0,Ue.Cg)([(0,Gn.VK)("Journal",Vn.n.StandalonePage)],T0);const EI=()=>["publicationvolume.volumeNumber"],Gh=()=>["publicationissue.issueNumber"],Bf=()=>["creativework.datePublished"],CI=()=>["journal.title"],C2=()=>["creativeworkseries.issn"],JE=()=>["dc.description"],bI=()=>["creativework.keywords"],b2=d=>[d];function DI(d,y){if(1&d&&e.nrm(0,"ds-results-back-button",12),2&d){const o=e.XpG();e.Y8G("back",o.back)}}let xg=class JT extends Ic{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(JT)))(c||JT)}})()}static{this.\u0275cmp=e.VBU({type:JT,selectors:[["ds-journal-issue"]],standalone:!0,features:[e.Vt3,e.aNF],decls:26,vars:52,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"mb-1","mt-1",3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:function(o,c){1&o&&(e.DNE(0,DI,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",7)(13,"ds-generic-item-page-field",7)(14,"ds-generic-item-page-field",7),e.k0s(),e.j41(15,"div",8),e.nrm(16,"ds-related-items",9),e.nI1(17,"translate"),e.nrm(18,"ds-related-items",10),e.nI1(19,"translate"),e.nrm(20,"ds-generic-item-page-field",7)(21,"ds-generic-item-page-field",7),e.j41(22,"div")(23,"a",11),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,33,c.showBackButton$)),e.R7$(3),e.Y8G("item",c.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,35,null==c.object?null:c.object.thumbnail)),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(43,EI))("label","journalvolume.page.volume"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(44,Gh))("label","journalissue.page.number"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(45,Bf))("label","journalissue.page.issuedate"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(46,CI))("label","journalissue.page.journal-title"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(47,C2))("label","journalissue.page.journal-issn"),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isJournalVolumeOfIssue")("label",e.bMT(17,37,"relationships.isSingleVolumeOf")),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isPublicationOfJournalIssue")("label",e.bMT(19,39,"relationships.isPublicationOfJournalIssue")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(48,JE))("label","journalissue.page.description"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(49,bI))("label","journalissue.page.keyword"),e.R7$(2),e.Y8G("routerLink",e.eq3(50,b2,c.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(25,41,"item.page.link.full")," "))},dependencies:[f.bT,Iu.U,Jl.V,fd.T,Pa.Q,Co.T,Mc,pd,v.Wk,f.Jj,K.h,K.D9]})}};xg=(0,Ue.Cg)([(0,Gn.VK)("JournalIssue",Vn.n.StandalonePage)],xg);const TI=()=>["publicationvolume.volumeNumber"],Lg=()=>["creativework.datePublished"],QE=()=>["dc.description"],OI=d=>[d];function ZE(d,y){if(1&d&&e.nrm(0,"ds-results-back-button",11),2&d){const o=e.XpG();e.Y8G("back",o.back)}}let O0=class QT extends Ic{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(QT)))(c||QT)}})()}static{this.\u0275cmp=e.VBU({type:QT,selectors:[["ds-journal-volume"]],standalone:!0,features:[e.Vt3,e.aNF],decls:22,vars:36,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:function(o,c){1&o&&(e.DNE(0,ZE,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7),e.k0s(),e.j41(12,"div",8),e.nrm(13,"ds-related-items",9),e.nI1(14,"translate"),e.nrm(15,"ds-related-items",9),e.nI1(16,"translate"),e.nrm(17,"ds-generic-item-page-field",7),e.j41(18,"div")(19,"a",10),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,21,c.showBackButton$)),e.R7$(3),e.Y8G("item",c.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,23,null==c.object?null:c.object.thumbnail)),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(31,TI))("label","journalvolume.page.volume"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(32,Lg))("label","journalvolume.page.issuedate"),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isJournalOfVolume")("label",e.bMT(14,25,"relationships.isSingleJournalOf")),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isIssueOfJournalVolume")("label",e.bMT(16,27,"relationships.isIssueOf")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(33,QE))("label","journalvolume.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(34,OI,c.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(21,29,"item.page.link.full")," "))},dependencies:[f.bT,Iu.U,Jl.V,fd.T,Pa.Q,Co.T,Mc,pd,v.Wk,f.Jj,K.h,K.D9]})}};O0=(0,Ue.Cg)([(0,Gn.VK)("JournalVolume",Vn.n.StandalonePage)],O0);const M0=["*","*"],MI=d=>[d];function II(d,y){if(1&d&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,MI,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function qE(d,y){if(1&d&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function I0(d,y){if(1&d&&e.nrm(0,"ds-badges",15),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function SI(d,y){if(1&d&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("organization.foundingDate"),e.npT)}}function PI(d,y){if(1&d&&(e.j41(0,"span",22)(1,"span"),e.EFF(2,", "),e.k0s(),e.EFF(3),e.k0s()),2&d){const o=e.XpG(2);e.R7$(3),e.SpI(" ",o.firstMetadataValue("organization.address.addressLocality")," ")}}function Ng(d,y){if(1&d&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17)(2,"span",20),e.EFF(3),e.k0s(),e.DNE(4,PI,4,1,"span",21),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(2),e.JRh(o.firstMetadataValue("organization.address.addressCountry")),e.R7$(),e.Y8G("ngIf",o.dso.hasMetadata("organization.address.addressLocality"))}}function RI(d,y){if(1&d&&(e.j41(0,"div",23)(1,"a",24),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,MI,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Uf=class ZT extends za{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(ZT)))(c||ZT)}})()}static{this.\u0275cmp=e.VBU({type:ZT,selectors:[["ds-org-unit-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:M0,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-location card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-location","card-text"],[1,"item-country"],["class","item-city",4,"ngIf"],[1,"item-city"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(M0),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,II,5,12,"a",3)(6,qE,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,I0,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,SI,3,3,"p",9)(12,Ng,5,4,"p",10)(13,RI,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,c.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",c.dso.id),e.R7$(3),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("organization.foundingDate")),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("organization.address.addressCountry")),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[Al.d,f.bT,v.Wk,Co.T,Sr.F,cr.W,f.Jj,K.h,K.D9],data:{animation:[Oc]}})}};Uf=(0,Ue.Cg)([(0,Gn.VK)("OrgUnitSearchResult",Vn.n.GridElement)],Uf);const AI=()=>({}),wI=(d,y)=>({indexableObject:d,hitHighlights:y});let Fg=class qT extends Fo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(qT)))(c||qT)}})()}static{this.\u0275cmp=e.VBU({type:qT,selectors:[["ds-org-unit-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-org-unit-search-result-grid-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,wI,c.object,e.lJ4(3,AI)))("linkType",c.linkType)},dependencies:[Uf]})}};Fg=(0,Ue.Cg)([(0,Gn.VK)("OrgUnit",Vn.n.GridElement)],Fg);const eC=["*","*"],tC=d=>[d];function nC(d,y){if(1&d&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,tC,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function sC(d,y){if(1&d&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function xI(d,y){if(1&d&&e.nrm(0,"ds-badges",15),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function D2(d,y){if(1&d&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("person.email"),e.npT)}}function iC(d,y){if(1&d&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("person.jobTitle"),e.npT)}}function oC(d,y){if(1&d&&(e.j41(0,"div",20)(1,"a",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,tC,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Ql=class eO extends za{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(eO)))(c||eO)}})()}static{this.\u0275cmp=e.VBU({type:eO,selectors:[["ds-person-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:eC,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-email card-text text-muted",4,"ngIf"],["class","item-jobtitle card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-email","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-jobtitle","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(eC),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,nC,5,12,"a",3)(6,sC,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,xI,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,D2,3,3,"p",9)(12,iC,3,3,"p",10)(13,oC,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,c.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",c.dso.id),e.R7$(3),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("person.email")),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("person.jobTitle")),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[Al.d,f.bT,v.Wk,Co.T,Sr.F,cr.W,f.Jj,K.h,K.D9],data:{animation:[Oc]}})}};Ql=(0,Ue.Cg)([(0,Gn.VK)("PersonSearchResult",Vn.n.GridElement)],Ql);const rC=()=>({}),LI=(d,y)=>({indexableObject:d,hitHighlights:y});let S0=class tO extends Fo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(tO)))(c||tO)}})()}static{this.\u0275cmp=e.VBU({type:tO,selectors:[["ds-person-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-person-search-result-grid-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,LI,c.object,e.lJ4(3,rC)))("linkType",c.linkType)},dependencies:[Ql]})}};S0=(0,Ue.Cg)([(0,Gn.VK)("Person",Vn.n.GridElement)],S0);const jg=["*","*"],Bg=d=>[d];function NI(d,y){if(1&d&&(e.j41(0,"a",11),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Bg,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function aC(d,y){if(1&d&&(e.j41(0,"span",13)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function P0(d,y){if(1&d&&e.nrm(0,"ds-badges",14),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function FI(d,y){if(1&d&&(e.j41(0,"p",15)(1,"ds-truncatable-part",16),e.nrm(2,"span",17),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("dc.description"),e.npT)}}function Ug(d,y){if(1&d&&(e.j41(0,"div",18)(1,"a",19),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Bg,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let kg=class nO extends za{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(nO)))(c||nO)}})()}static{this.\u0275cmp=e.VBU({type:nO,selectors:[["ds-project-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:jg,decls:14,vars:12,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-description card-text text-muted",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-description","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(jg),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,NI,5,12,"a",3)(6,aC,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,P0,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,FI,3,3,"p",9)(12,Ug,4,8,"div",10),e.k0s()(),e.SdG(13,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,10,c.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",c.dso.id),e.R7$(3),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("dc.description")),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[Al.d,f.bT,v.Wk,Co.T,Sr.F,cr.W,f.Jj,K.h,K.D9],data:{animation:[Oc]}})}};kg=(0,Ue.Cg)([(0,Gn.VK)("ProjectSearchResult",Vn.n.GridElement)],kg);const T2=()=>({}),jI=(d,y)=>({indexableObject:d,hitHighlights:y});let R0=class sO extends Fo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(sO)))(c||sO)}})()}static{this.\u0275cmp=e.VBU({type:sO,selectors:[["ds-project-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-project-search-result-grid-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,jI,c.object,e.lJ4(3,T2)))("linkType",c.linkType)},dependencies:[kg]})}};R0=(0,Ue.Cg)([(0,Gn.VK)("Project",Vn.n.GridElement)],R0);const $h=()=>["dc.description"],BI=d=>[d];function Vg(d,y){if(1&d&&(e.j41(0,"a",12),e.nrm(1,"ds-thumbnail",13),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,BI,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function UI(d,y){if(1&d&&(e.j41(0,"span",14),e.nrm(1,"ds-thumbnail",13),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function kI(d,y){if(1&d&&(e.j41(0,"div",9),e.DNE(1,Vg,3,11,"a",10)(2,UI,3,6,"span",11),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function A0(d,y){if(1&d&&e.nrm(0,"ds-badges",15),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function VI(d,y){if(1&d&&(e.nrm(0,"a",16),e.nI1(1,"translate")),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,BI,o.itemPageRoute))("innerHTML",o.dsoTitle||e.bMT(1,4,"orgunit.listelement.no-title"),e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function Sc(d,y){if(1&d&&(e.nrm(0,"span",17),e.nI1(1,"translate")),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle||e.bMT(1,1,"orgunit.listelement.no-title"),e.npT)}}function kf(d,y){if(1&d&&(e.j41(0,"span",18)(1,"ds-truncatable-part",19),e.nrm(2,"span",20),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("dc.description"),e.npT)}}let zo=class iO extends Du.k{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(iO)))(c||iO)}})()}static{this.\u0275cmp=e.VBU({type:iO,selectors:[["ds-org-unit-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:9,vars:8,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],["class","item-list-org-unit-description",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"item-list-org-unit-description"],[3,"id","minLines"],[3,"innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,kI,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,A0,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,VI,2,8,"a",5)(6,Sc,2,3,"span",6),e.j41(7,"span",7),e.DNE(8,kf,3,3,"span",8),e.k0s()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.showThumbnails),e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.dso.allMetadata(e.lJ4(7,$h)).length>0))},dependencies:[f.bT,v.Wk,Co.T,f.YU,Sr.F,Al.d,cr.W,f.Jj,K.h,K.D9]})}};zo=(0,Ue.Cg)([(0,Gn.VK)("OrgUnitSearchResult",Vn.n.ListElement)],zo);const Su=()=>({}),Gg=(d,y)=>({indexableObject:d,hitHighlights:y});let Ra=class oO extends Fo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(oO)))(c||oO)}})()}static{this.\u0275cmp=e.VBU({type:oO,selectors:[["ds-org-unit-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-org-unit-search-result-list-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,Gg,c.object,e.lJ4(3,Su)))("linkType",c.linkType)},dependencies:[zo]})}};Ra=(0,Ue.Cg)([(0,Gn.VK)("OrgUnit",Vn.n.ListElement)],Ra);const Wh=()=>["person.jobTitle"],lC=d=>[d];function Kh(d,y){if(1&d&&(e.j41(0,"a",13),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,lC,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function cC(d,y){if(1&d&&(e.j41(0,"span",15),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function dC(d,y){if(1&d&&(e.j41(0,"div",10),e.DNE(1,Kh,3,11,"a",11)(2,cC,3,6,"span",12),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function GI(d,y){if(1&d&&e.nrm(0,"ds-badges",16),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function $I(d,y){if(1&d&&(e.nrm(0,"a",17),e.nI1(1,"translate")),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,lC,o.itemPageRoute))("innerHTML",o.dsoTitle||e.bMT(1,4,"person.listelement.no-title"),e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function mr(d,y){if(1&d&&(e.nrm(0,"span",18),e.nI1(1,"translate")),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle||e.bMT(1,1,"person.listelement.no-title"),e.npT)}}function uC(d,y){if(1&d&&(e.j41(0,"span")(1,"span",21),e.nrm(2,"span",21),e.k0s()()),2&d){const o=y.$implicit;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("innerHTML",o,e.npT)}}function WI(d,y){if(1&d&&(e.j41(0,"span",19),e.DNE(1,uC,3,2,"span",20),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,Wh)))}}let Yo=class DA extends Du.k{constructor(y,o,c){super(y,o,c),this.truncatableService=y,this.dsoNameService=o,this.appConfig=c}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=function(o){return new(o||DA)(e.rXU(Ei.F),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:DA,selectors:[["ds-person-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-job-title",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,dC,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,GI,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,$I,2,8,"a",5)(6,mr,2,3,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,WI,2,2,"span",9),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.showThumbnails),e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9 col-md-10":"col-12"),e.R7$(),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("id",c.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",c.dso.allMetadata(e.lJ4(9,Wh)).length>0))},dependencies:[f.bT,v.Wk,Co.T,f.YU,Sr.F,Al.d,cr.W,f.pM,f.Jj,K.h,K.D9]})}};Yo=(0,Ue.Cg)([(0,Gn.VK)("PersonSearchResult",Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Ei.F,Fs.f,Object])],Yo);const Vf=()=>({}),Hh=(d,y)=>({indexableObject:d,hitHighlights:y});let Pu=class rO extends Fo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(rO)))(c||rO)}})()}static{this.\u0275cmp=e.VBU({type:rO,selectors:[["ds-person-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:8,consts:[[3,"object","linkType","showLabel","value"]],template:function(o,c){1&o&&e.nrm(0,"ds-person-search-result-list-element",0),2&o&&e.Y8G("object",e.l_i(5,Hh,c.object,e.lJ4(4,Vf)))("linkType",c.linkType)("showLabel",c.showLabel)("value",c.value)},dependencies:[Yo]})}};Pu=(0,Ue.Cg)([(0,Gn.VK)("Person",Vn.n.ListElement)],Pu);const zh=d=>[d];function $g(d,y){if(1&d&&(e.j41(0,"a",10),e.nrm(1,"ds-thumbnail",11),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,zh,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function hC(d,y){if(1&d&&(e.j41(0,"span",12),e.nrm(1,"ds-thumbnail",11),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function pC(d,y){if(1&d&&(e.j41(0,"div",7),e.DNE(1,$g,3,11,"a",8)(2,hC,3,6,"span",9),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function fC(d,y){if(1&d&&e.nrm(0,"ds-badges",13),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function Wg(d,y){if(1&d&&e.nrm(0,"a",14),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,zh,o.itemPageRoute))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function w0(d,y){if(1&d&&e.nrm(0,"span",15),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}let Yh=class aO extends Du.k{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(aO)))(c||aO)}})()}static{this.\u0275cmp=e.VBU({type:aO,selectors:[["ds-project-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:6,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"id"],[3,"object","context",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,pC,3,2,"div",1),e.j41(2,"div",2)(3,"ds-truncatable",3),e.DNE(4,fC,1,2,"ds-badges",4)(5,Wg,1,6,"a",5)(6,w0,1,1,"span",6),e.k0s()()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.showThumbnails),e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("id",c.dso.id),e.R7$(),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None))},dependencies:[f.bT,v.Wk,Co.T,f.YU,Al.d,Sr.F,f.Jj]})}};Yh=(0,Ue.Cg)([(0,Gn.VK)("ProjectSearchResult",Vn.n.ListElement)],Yh);const Kg=()=>({}),Ru=(d,y)=>({indexableObject:d,hitHighlights:y});let Hg=class lO extends Fo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(lO)))(c||lO)}})()}static{this.\u0275cmp=e.VBU({type:lO,selectors:[["ds-project-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-project-search-result-list-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,Ru,c.object,e.lJ4(3,Kg)))("linkType",c.linkType)},dependencies:[Yh]})}};function ol(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Hg=(0,Ue.Cg)([(0,Gn.VK)("Project",Vn.n.ListElement)],Hg);let zg=class cO extends hd{getDescription(){return this.firstMetadataValue("dc.description")}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(cO)))(c||cO)}})()}static{this.\u0275cmp=e.VBU({type:cO,selectors:[["ds-org-unit-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,ol,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[cr.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};function KI(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}zg=(0,Ue.Cg)([(0,Gn.VK)("OrgUnitSearchResult",Vn.n.ListElement,xs.o.SideBarSearchModal),(0,Gn.VK)("OrgUnitSearchResult",Vn.n.ListElement,xs.o.SideBarSearchModalCurrent),(0,Gn.VK)("OrgUnitSearchResult",Vn.n.ListElement,xs.o.ScopeSelectorModal),(0,Gn.VK)("OrgUnitSearchResult",Vn.n.ListElement,xs.o.ScopeSelectorModalCurrent)],zg);let Xh=class TA extends hd{constructor(y,o,c,b){super(y,o,b),this.truncatableService=y,this.linkService=o,this.translateService=c,this.dsoNameService=b}getDescription(){const y=this.allMetadataValues(["person.jobTitle"]);let o="";return(0,G.hj)(y)&&(o+=y.join(", ")),this.undefinedIfEmpty(o)}static{this.\u0275fac=function(o){return new(o||TA)(e.rXU(Ei.F),e.rXU(Ti._),e.rXU(K.c$),e.rXU(Fs.f))}}static{this.\u0275cmp=e.VBU({type:TA,selectors:[["ds-person-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,KI,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[cr.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};function mC(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Xh=(0,Ue.Cg)([(0,Gn.VK)("PersonSearchResult",Vn.n.ListElement,xs.o.SideBarSearchModal),(0,Gn.VK)("PersonSearchResult",Vn.n.ListElement,xs.o.SideBarSearchModalCurrent),(0,Gn.VK)("PersonSearchResult",Vn.n.ListElement,xs.o.ScopeSelectorModal),(0,Gn.VK)("PersonSearchResult",Vn.n.ListElement,xs.o.ScopeSelectorModalCurrent),(0,Ue.Sn)("design:paramtypes",[Ei.F,Ti._,K.c$,Fs.f])],Xh);let Gf=class dO extends hd{getDescription(){}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(dO)))(c||dO)}})()}static{this.\u0275cmp=e.VBU({type:dO,selectors:[["ds-project-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,mC,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[cr.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};Gf=(0,Ue.Cg)([(0,Gn.VK)("ProjectSearchResult",Vn.n.ListElement,xs.o.SideBarSearchModal),(0,Gn.VK)("ProjectSearchResult",Vn.n.ListElement,xs.o.SideBarSearchModalCurrent),(0,Gn.VK)("ProjectSearchResult",Vn.n.ListElement,xs.o.ScopeSelectorModal),(0,Gn.VK)("ProjectSearchResult",Vn.n.ListElement,xs.o.ScopeSelectorModalCurrent)],Gf);let HI=(()=>{class d extends Mu{static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-img-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label",img:"img",urlRegex:"urlRegex"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(c,b){1&c&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&c&&(e.R7$(),e.Y8G("mdValues",null==b.item?null:b.item.allMetadata(b.fields))("separator",b.separator)("label",b.label)("enableMarkdown",b.enableMarkdown)("urlRegex",b.urlRegex)("browseDefinition",e.bMT(2,7,b.browseDefinition))("img",b.img))},dependencies:[Uh,f.Jj],encapsulation:2})}}return d})();const O2=()=>["organization.foundingDate"],zI=()=>["organization.address.addressLocality"],Yg=()=>["organization.address.addressCountry"],x0=()=>["dc.identifier"],L0=()=>["organization.identifier.ror"],Jh=()=>({URI:"./assets/images/ror-icon.svg",alt:"item.page.image.alt.ROR",heightVar:"--ds-item-page-img-field-ror-inline-height"}),gC=()=>["dc.description"],_C=d=>[d],Qh=()=>({label:"isOrgUnitOfPerson",filter:"isOrgUnitOfPerson",configuration:"person-relationships"}),N0=()=>({label:"isOrgUnitOfProject",filter:"isOrgUnitOfProject",configuration:"project-relationships"}),F0=(d,y)=>[d,y];function vC(d,y){if(1&d&&e.nrm(0,"ds-results-back-button",14),2&d){const o=e.XpG();e.Y8G("back",o.back)}}let $f=class uO extends Ic{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(uO)))(c||uO)}})()}static{this.\u0275cmp=e.VBU({type:uO,selectors:[["ds-org-unit"]],standalone:!0,features:[e.Vt3,e.aNF],decls:25,vars:56,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"fields","img","item","label","urlRegex"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100","px-0"],[3,"item","relationTypes"],[3,"back"]],template:function(o,c){1&o&&(e.DNE(0,vC,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",7)(13,"ds-generic-item-page-field",7),e.k0s(),e.j41(14,"div",8),e.nrm(15,"ds-item-page-img-field",9)(16,"ds-related-items",10),e.nI1(17,"translate"),e.nrm(18,"ds-generic-item-page-field",7),e.j41(19,"div")(20,"a",11),e.EFF(21),e.nI1(22,"translate"),e.k0s()()(),e.j41(23,"div",12),e.nrm(24,"ds-tabbed-related-entities-search",13),e.k0s()()),2&o&&(e.Y8G("ngIf",e.bMT(1,34,c.showBackButton$)),e.R7$(3),e.Y8G("item",c.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,36,null==c.object?null:c.object.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder"),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(42,O2))("label","orgunit.page.dateestablished"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(43,zI))("label","orgunit.page.city"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(44,Yg))("label","orgunit.page.country"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(45,x0))("label","orgunit.page.id"),e.R7$(2),e.Y8G("fields",e.lJ4(46,L0))("img",e.lJ4(47,Jh))("item",c.object)("label","orgunit.page.ror")("urlRegex","(.*)ror.org"),e.R7$(),e.Y8G("parentItem",c.object)("relationType","isPublicationOfOrgUnit")("label",e.bMT(17,38,"relationships.isPublicationOf")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(48,gC))("label","orgunit.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(49,_C,c.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(22,40,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",c.object)("relationTypes",e.l_i(53,F0,e.lJ4(51,Qh),e.lJ4(52,N0))))},dependencies:[f.bT,Iu.U,Jl.V,fd.T,Pa.Q,Co.T,Mc,pd,v.Wk,jf,f.Jj,K.h,K.D9,HI]})}};$f=(0,Ue.Cg)([(0,Gn.VK)("OrgUnit",Vn.n.StandalonePage)],$f);const yC=()=>["person.email"],YI=()=>["person.birthDate"],XI=()=>["person.jobTitle"],Zh=()=>["person.familyName"],EC=()=>["person.givenName"],JI=()=>["dc.title"],CC=d=>[d],QI=()=>({label:"isAuthorOfPublication",filter:"isAuthorOfPublication",configuration:"default-relationships"});function bC(d,y){if(1&d&&e.nrm(0,"ds-results-back-button",13),2&d){const o=e.XpG();e.Y8G("back",o.back)}}let Wf=class hO extends Ic{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(hO)))(c||hO)}})()}static{this.\u0275cmp=e.VBU({type:hO,selectors:[["ds-person"]],standalone:!0,features:[e.Vt3,e.aNF],decls:27,vars:56,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100","px-0"],[3,"item","relationTypes"],[3,"back"]],template:function(o,c){1&o&&(e.DNE(0,bC,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7),e.k0s(),e.j41(12,"div",8),e.nrm(13,"ds-related-items",9),e.nI1(14,"translate"),e.nrm(15,"ds-related-items",9),e.nI1(16,"translate"),e.nrm(17,"ds-generic-item-page-field",7)(18,"ds-generic-item-page-field",7)(19,"ds-generic-item-page-field",7)(20,"ds-generic-item-page-field",7),e.j41(21,"div")(22,"a",10),e.EFF(23),e.nI1(24,"translate"),e.k0s()()(),e.j41(25,"div",11),e.nrm(26,"ds-tabbed-related-entities-search",12),e.k0s()()),2&o&&(e.Y8G("ngIf",e.bMT(1,35,c.showBackButton$)),e.R7$(3),e.Y8G("item",c.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,37,null==c.object?null:c.object.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder"),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(45,yC))("label","person.page.email"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(46,YI))("label","person.page.birthdate"),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isProjectOfPerson")("label",e.bMT(14,39,"relationships.isProjectOf")),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isOrgUnitOfPerson")("label",e.bMT(16,41,"relationships.isOrgUnitOf")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(47,XI))("label","person.page.jobtitle"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(48,Zh))("label","person.page.lastname"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(49,EC))("label","person.page.firstname"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(50,JI))("label","person.page.name"),e.R7$(2),e.Y8G("routerLink",e.eq3(51,CC,c.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(24,43,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",c.object)("relationTypes",e.eq3(54,CC,e.lJ4(53,QI))))},dependencies:[f.bT,Iu.U,Jl.V,fd.T,Pa.Q,Co.T,Mc,pd,v.Wk,jf,f.Jj,K.h,K.D9]})}};Wf=(0,Ue.Cg)([(0,Gn.VK)("Person",Vn.n.StandalonePage)],Wf),n(12063);const I2=["*"];function ZI(d,y){}let qh=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["parentItem","itemType","metadataFields","label","incrementBy"]}getComponentName(){return"MetadataRepresentationListComponent"}importThemedComponent(o){return n(89979)(`./${o}/app/item-page/simple/metadata-representation-list/metadata-representation-list.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,12063))}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-metadata-representation-list"]],inputs:{parentItem:"parentItem",itemType:"itemType",metadataFields:"metadataFields",label:"label",incrementBy:"incrementBy"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:I2,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,b){1&c&&(e.NAR(),e.DNE(0,ZI,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();const j0=()=>["project.contributor.other"],qI=()=>["project.identifier.funder"],eS=()=>["dc.identifier"],tS=()=>["dc.description"],nS=()=>["dc.subject"],sS=d=>[d];function iS(d,y){if(1&d&&e.nrm(0,"ds-results-back-button",12),2&d){const o=e.XpG();e.Y8G("back",o.back)}}let Xg=class pO extends Ic{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(pO)))(c||pO)}})()}static{this.\u0275cmp=e.VBU({type:pO,selectors:[["ds-project"]],standalone:!0,features:[e.Vt3,e.aNF],decls:27,vars:55,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:function(o,c){1&o&&(e.DNE(0,iS,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-metadata-representation-list",7),e.nI1(11,"translate"),e.nrm(12,"ds-generic-item-page-field",8)(13,"ds-generic-item-page-field",8),e.k0s(),e.j41(14,"div",9),e.nrm(15,"ds-related-items",10),e.nI1(16,"translate"),e.nrm(17,"ds-related-items",10),e.nI1(18,"translate"),e.nrm(19,"ds-related-items",10),e.nI1(20,"translate"),e.nrm(21,"ds-generic-item-page-field",8)(22,"ds-generic-item-page-field",8),e.j41(23,"div")(24,"a",11),e.EFF(25),e.nI1(26,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,34,c.showBackButton$)),e.R7$(3),e.Y8G("item",c.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,36,null==c.object?null:c.object.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder"),e.R7$(2),e.Y8G("parentItem",c.object)("itemType","OrgUnit")("metadataFields",e.lJ4(48,j0))("label",e.bMT(11,38,"project.page.contributor")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(49,qI))("label","project.page.funder"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(50,eS))("label","project.page.id"),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isPersonOfProject")("label",e.bMT(16,40,"relationships.isPersonOf")),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isPublicationOfProject")("label",e.bMT(18,42,"relationships.isPublicationOf")),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isOrgUnitOfProject")("label",e.bMT(20,44,"relationships.isOrgUnitOf")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(51,tS))("label","project.page.description"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(52,nS))("label","project.page.keyword"),e.R7$(2),e.Y8G("routerLink",e.eq3(53,sS,c.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(26,46,"item.page.link.full")," "))},dependencies:[f.bT,Iu.U,Jl.V,fd.T,Pa.Q,Co.T,qh,Mc,pd,v.Wk,f.Jj,K.h,K.D9]})}};function oS(d,y){if(1&d&&(e.j41(0,"div")(1,"a",2),e.EFF(2),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("href",o.uri.value,e.B4B),e.R7$(),e.JRh(o.uri.value)}}Xg=(0,Ue.Cg)([(0,Gn.VK)("Project",Vn.n.StandalonePage)],Xg);let B0=class fO extends Fo.C{ngOnInit(){this.uri=rd.O.first(this.object.metadata,"dc.identifier.uri")}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(fO)))(c||fO)}})()}static{this.\u0275cmp=e.VBU({type:fO,selectors:[["ds-external-source-entry-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:2,consts:[[1,"d-inline-block"],[4,"ngIf"],["target","_blank",3,"href"]],template:function(o,c){1&o&&(e.j41(0,"div",0)(1,"div"),e.EFF(2),e.k0s(),e.DNE(3,oS,3,2,"div",1),e.k0s()),2&o&&(e.R7$(2),e.JRh(c.object.display),e.R7$(),e.Y8G("ngIf",c.uri))},dependencies:[f.bT]})}};B0=(0,Ue.Cg)([(0,Gn.VK)(x1.$,Vn.n.ListElement,xs.o.EntitySearchModal),(0,Gn.VK)(x1.$,Vn.n.ListElement,xs.o.EntitySearchModalWithNameVariants)],B0);var Jg=n(29326),DC=n(14391);const rS=d=>({value:d});let TC=(()=>{class d{constructor(o){this.modal=o}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(q.Lw))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-name-variant-modal"]],inputs:{value:"value"},standalone:!0,features:[e.aNF],decls:14,vars:12,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer","justify-content-between"],["type","button",1,"btn","btn-light","confirm-button",3,"click"],["type","button",1,"btn","btn-light","decline-button",3,"click"]],template:function(c,b){1&c&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2,"New name variant"),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return b.modal.dismiss("Cross click")}),e.k0s()(),e.j41(4,"div",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",4)(8,"button",5),e.bIt("click",function(){return b.modal.close()}),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"button",6),e.bIt("click",function(){return b.modal.dismiss()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()),2&c&&(e.R7$(5),e.SpI(" ",e.i5U(6,3,"submission.sections.describe.relationship-lookup.name-variant.notification.content",e.eq3(10,rS,b.value)),"\n"),e.R7$(4),e.JRh(e.bMT(10,6,"submission.sections.describe.relationship-lookup.name-variant.notification.confirm")),e.R7$(3),e.JRh(e.bMT(13,8,"submission.sections.describe.relationship-lookup.name-variant.notification.decline")))},dependencies:[K.h,K.D9]})}}return d})();var OC=n(14412),MC=n(46301),IC=n(56386);const SC=d=>({"is-invalid":d}),PC=()=>({standalone:!0}),Ud=d=>({show:d});function aS(d,y){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"a",9,2),e.bIt("click",function(){const b=e.eBV(o).$implicit,$=e.XpG();return e.Njj($.onClickSuggestion(b))}),e.nrm(3,"span",10),e.k0s()()}if(2&d){const o=y.$implicit;e.R7$(3),e.Y8G("innerHTML",o,e.npT)}}let RC=(()=>{class d extends OC.t{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(o){this.value=o,this.submitSuggestion.emit(o)}onClickSuggestion(o){return this.value=o,this.clickSuggestion.emit(o),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-org-unit-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[e.Jv_([{provide:rn.kq,useExisting:(0,e.Rfq)(()=>d),multi:!0}]),e.Vt3,e.aNF],decls:11,vars:19,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","focus","click","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(c,b){if(1&c){const $=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV($),e.Njj(b.onSubmit(b.value))})("keydown",function(Me){return e.eBV($),e.Njj(b.onKeydown(Me))})("keydown.arrowdown",function(Me){return e.eBV($),e.Njj(b.shiftFocusDown(Me))})("keydown.arrowup",function(Me){return e.eBV($),e.Njj(b.shiftFocusUp(Me))})("keydown.esc",function(){return e.eBV($),e.Njj(b.close())})("dsClickOutside",function(){return e.eBV($),e.Njj(b.close())}),e.j41(2,"input",4,1),e.mxI("ngModelChange",function(Me){return e.eBV($),e.DH7(b.value,Me)||(b.value=Me),e.Njj(Me)}),e.bIt("focus",function(){return e.eBV($),e.Njj(b.open())})("click",function(){return e.eBV($),e.Njj(b.open())})("onDebounce",function(Me){return e.eBV($),e.Njj(b.find(Me))}),e.k0s(),e.j41(4,"button",5),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",6),e.nI1(8,"async"),e.j41(9,"div",7),e.DNE(10,aS,4,1,"div",8),e.k0s()()()}2&c&&(e.Y8G("action",b.action,e.B4B),e.R7$(2),e.R50("ngModel",b.value),e.Y8G("name",b.name)("ngClass",e.eq3(14,SC,!b.valid))("dsDebounce",b.debounceTime)("placeholder",b.placeholder)("ngModelOptions",e.lJ4(16,PC)),e.R7$(3),e.SpI(" ",e.bMT(6,10,"search.filters.search.submit")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(17,Ud,e.bMT(8,12,b.show)&&b.isNotEmpty(b.suggestions))),e.R7$(3),e.Y8G("ngForOf",b.suggestions))},dependencies:[rn.YN,rn.qT,rn.me,rn.BC,rn.cb,rn.vS,rn.cV,MC.z,IC.R,f.YU,f.pM,f.Jj,K.h,K.D9],styles:['form[_ngcontent-%COMP%]{z-index:1}form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font:var(--fa-font-solid);content:"\\f0d7";top:10px;right:0;height:20px;width:20px;z-index:-1}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:#0000}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return d})();const AC=()=>["organization.address.addressLocality"],lS=()=>["organization.address.addressCountry"];function wC(d,y){if(1&d){const o=e.RV6();e.j41(0,"ds-org-unit-input-suggestions",7),e.mxI("ngModelChange",function(b){e.eBV(o);const $=e.XpG();return e.DH7($.selectedName,b)||($.selectedName=b),e.Njj(b)}),e.bIt("clickSuggestion",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.select(b))})("submitSuggestion",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.selectCustom(b))}),e.k0s()}if(2&d){const o=e.XpG();e.Y8G("suggestions",o.allSuggestions),e.R50("ngModel",o.selectedName)}}function xC(d,y){if(1&d&&e.nrm(0,"div",8),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function Kf(d,y){1&d&&(e.j41(0,"span"),e.EFF(1,", "),e.k0s())}function U0(d,y){if(1&d&&(e.j41(0,"span",9),e.nrm(1,"span",10),e.DNE(2,Kf,2,0,"span",11),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue(e.lJ4(2,AC)),e.npT),e.R7$(),e.Y8G("ngIf",o.dso.allMetadata("organization.address.addressCountry").length>0)}}function ep(d,y){if(1&d&&(e.j41(0,"span",12),e.nrm(1,"span",10),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue(e.lJ4(1,lS)),e.npT)}}let Hf=class OA extends Pr.P{constructor(y,o,c,b,$,ue,Me,it,Bt,yn){super(y,Bt,yn),this.truncatableService=y,this.relationshipService=o,this.notificationsService=c,this.translateService=b,this.modalService=$,this.itemDataService=ue,this.bitstreamDataService=Me,this.selectableListService=it,this.dsoNameService=Bt,this.appConfig=yn,this.alternativeField="dc.title.alternative",this.useNameVariants=!1}ngOnInit(){if(super.ngOnInit(),this.useNameVariants=this.context===xs.o.EntitySearchModalWithNameVariants,this.useNameVariants){const y=this.dso?this.dsoNameService.getName(this.dso):void 0,o=this.allMetadataValues(this.alternativeField);this.allSuggestions=[y,...o],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,T.s)(1)).subscribe(c=>{this.selectedName=c||y})}this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(y){this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,T.s)(1)).subscribe(o=>{o||this.selectableListService.selectSingle(this.listID,this.object)}),this.relationshipService.setNameVariant(this.listID,this.dso.uuid,y)}selectCustom(y){this.allSuggestions.includes(y)||this.openModal(y).then(()=>{const o=new DC.vD;o.value=y;const b={[this.alternativeField]:[...this.dso.metadata[this.alternativeField]||[],o]},$=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...b}});this.itemDataService.update($).pipe((0,T.s)(1)).subscribe()}).catch(()=>{}).finally(()=>{this.select(y)})}openModal(y){const o=this.modalService.open(TC,{centered:!0});return o.componentInstance.value=y,o.result}static{this.\u0275fac=function(o){return new(o||OA)(e.rXU(Ei.F),e.rXU(El.RelationshipDataService),e.rXU(Es.I),e.rXU(K.c$),e.rXU(q.Bq),e.rXU(Jg.ItemDataService),e.rXU(zr.BitstreamDataService),e.rXU(cc.K),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:OA,selectors:[["ds-org-unit-search-result-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex"],[1,"flex-grow-1"],[3,"suggestions","ngModel","ngModelChange","clickSuggestion","submitSuggestion",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],["class","item-list-address-locality",4,"ngIf"],["class","item-list-address-country",4,"ngIf"],[3,"ngModelChange","clickSuggestion","submitSuggestion","suggestions","ngModel"],[1,"lead",3,"innerHTML"],[1,"item-list-address-locality"],[3,"innerHTML"],[4,"ngIf"],[1,"item-list-address-country"]],template:function(o,c){1&o&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,wC,1,2,"ds-org-unit-input-suggestions",2)(3,xC,1,1,"div",3),e.j41(4,"span",4),e.DNE(5,U0,3,3,"span",5)(6,ep,2,2,"span",6),e.k0s()()()),2&o&&(e.R7$(2),e.Y8G("ngIf",c.useNameVariants),e.R7$(),e.Y8G("ngIf",!c.useNameVariants),e.R7$(2),e.Y8G("ngIf",c.dso.allMetadata("organization.address.addressLocality").length>0),e.R7$(),e.Y8G("ngIf",c.dso.allMetadata("organization.address.addressCountry").length>0))},dependencies:[f.bT,RC,rn.YN,rn.BC,rn.vS],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]})}};Hf=(0,Ue.Cg)([(0,Gn.VK)("OrgUnitSearchResult",Vn.n.ListElement,xs.o.EntitySearchModal),(0,Gn.VK)("OrgUnitSearchResult",Vn.n.ListElement,xs.o.EntitySearchModalWithNameVariants),(0,Ue.Sn)("design:paramtypes",[Ei.F,El.RelationshipDataService,Es.I,K.c$,q.Bq,Jg.ItemDataService,zr.BitstreamDataService,cc.K,Fs.f,Object])],Hf);const tp=d=>({"is-invalid":d}),k0=()=>({standalone:!0}),np=d=>({show:d});function ip(d,y){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"a",9,2),e.bIt("click",function(){const b=e.eBV(o).$implicit,$=e.XpG();return e.Njj($.onClickSuggestion(b))}),e.nrm(3,"span",10),e.k0s()()}if(2&d){const o=y.$implicit;e.R7$(3),e.Y8G("innerHTML",o,e.npT)}}let Au=(()=>{class d extends OC.t{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(o){o!==this.value&&(this.value=o,this.submitSuggestion.emit(o))}onClickSuggestion(o){return this.value=o,this.clickSuggestion.emit(o),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-person-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[e.Jv_([{provide:rn.kq,useExisting:(0,e.Rfq)(()=>d),multi:!0}]),e.Vt3,e.aNF],decls:11,vars:19,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"focus","blur","click","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(c,b){if(1&c){const $=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){e.eBV($);const Me=e.sdS(3);return e.Njj(b.onSubmit(Me.value))})("keydown",function(Me){return e.eBV($),e.Njj(b.onKeydown(Me))})("keydown.arrowdown",function(Me){return e.eBV($),e.Njj(b.shiftFocusDown(Me))})("keydown.arrowup",function(Me){return e.eBV($),e.Njj(b.shiftFocusUp(Me))})("keydown.esc",function(){return e.eBV($),e.Njj(b.close())})("dsClickOutside",function(){return e.eBV($),e.Njj(b.close())}),e.j41(2,"input",4,1),e.bIt("focus",function(){return e.eBV($),e.Njj(b.open())})("blur",function(){e.eBV($);const Me=e.sdS(3);return e.Njj(b.onSubmit(Me.value))})("click",function(){return e.eBV($),e.Njj(b.open())})("onDebounce",function(Me){return e.eBV($),e.Njj(b.find(Me))}),e.k0s(),e.j41(4,"button",5),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",6),e.nI1(8,"async"),e.j41(9,"div",7),e.DNE(10,ip,4,1,"div",8),e.k0s()()()}2&c&&(e.Y8G("action",b.action,e.B4B),e.R7$(2),e.Y8G("ngModel",b.value)("name",b.name)("ngClass",e.eq3(14,tp,!b.valid))("dsDebounce",b.debounceTime)("placeholder",b.placeholder)("ngModelOptions",e.lJ4(16,k0)),e.R7$(3),e.SpI(" ",e.bMT(6,10,"search.filters.search.submit")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(17,np,e.bMT(8,12,b.show)&&b.isNotEmpty(b.suggestions))),e.R7$(3),e.Y8G("ngForOf",b.suggestions))},dependencies:[rn.YN,rn.qT,rn.me,rn.BC,rn.cb,rn.vS,rn.cV,MC.z,IC.R,f.YU,f.pM,f.Jj,K.h,K.D9],styles:['form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font:var(--fa-font-solid);content:"\\f0d7";top:10px;right:0;height:20px;width:20px}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:#0000}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return d})();const wu=()=>["person.jobTitle"];function op(d,y){if(1&d&&(e.j41(0,"a",11),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self"),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,6,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function rp(d,y){if(1&d&&(e.j41(0,"span",13),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function ap(d,y){if(1&d&&(e.j41(0,"div",8),e.DNE(1,op,3,8,"a",9)(2,rp,3,6,"span",10),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function lp(d,y){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function cp(d,y){if(1&d&&(e.j41(0,"span"),e.nrm(1,"span",16),e.DNE(2,lp,2,0,"span",17),e.k0s()),2&d){const o=y.$implicit,c=y.last;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!c)}}function LC(d,y){if(1&d&&(e.j41(0,"span",14),e.DNE(1,cp,3,2,"span",15),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,wu)))}}let zf=class MA extends Pr.P{constructor(y,o,c,b,$,ue,Me){super(y,ue,Me),this.truncatableService=y,this.relationshipService=o,this.modalService=c,this.itemDataService=b,this.selectableListService=$,this.dsoNameService=ue,this.appConfig=Me,this.alternativeField="dc.title.alternative"}ngOnInit(){super.ngOnInit();const y=this.dso?this.dsoNameService.getName(this.dso):void 0,o=this.allMetadataValues(this.alternativeField);this.allSuggestions=[y,...o],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,T.s)(1)).subscribe(c=>{this.selectedName=c||y}),this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(y){this.relationshipService.setNameVariant(this.listID,this.dso.uuid,y),this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,T.s)(1)).subscribe(o=>{o||this.selectableListService.selectSingle(this.listID,this.object)})}selectCustom(y){this.allSuggestions.includes(y)||this.openModal(y).then(()=>{const o=new DC.vD;o.value=y;const b={[this.alternativeField]:[...this.dso.metadata[this.alternativeField]||[],o]},$=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...b}});this.itemDataService.update($).pipe((0,T.s)(1)).subscribe(),this.itemDataService.commitUpdates()}).catch(()=>{}).finally(()=>{this.select(y)})}openModal(y){const o=this.modalService.open(TC,{centered:!0});return o.componentInstance.value=y,o.result}static{this.\u0275fac=function(o){return new(o||MA)(e.rXU(Ei.F),e.rXU(El.RelationshipDataService),e.rXU(q.Bq),e.rXU(Jg.ItemDataService),e.rXU(cc.K),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:MA,selectors:[["ds-person-search-result-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:6,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[1,"d-flex"],[1,"flex-grow-1"],[3,"ngModelChange","clickSuggestion","submitSuggestion","suggestions","ngModel"],[1,"text-muted"],["class","item-list-job-title",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngIf"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,ap,3,2,"div",1),e.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"ds-person-input-suggestions",5),e.mxI("ngModelChange",function($){return e.DH7(c.selectedName,$)||(c.selectedName=$),$}),e.bIt("clickSuggestion",function($){return c.select($)})("submitSuggestion",function($){return c.selectCustom($)}),e.k0s(),e.j41(6,"span",6),e.DNE(7,LC,2,2,"span",7),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.showThumbnails),e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9":"col-md-12"),e.R7$(3),e.Y8G("suggestions",c.allSuggestions),e.R50("ngModel",c.selectedName),e.R7$(2),e.Y8G("ngIf",c.dso.allMetadata(e.lJ4(5,wu)).length>0))},dependencies:[f.bT,Co.T,f.YU,Au,rn.YN,rn.BC,rn.vS,f.pM,f.Jj],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]})}};zf=(0,Ue.Cg)([(0,Gn.VK)("PersonSearchResult",Vn.n.ListElement,xs.o.EntitySearchModalWithNameVariants),(0,Ue.Sn)("design:paramtypes",[Ei.F,El.RelationshipDataService,q.Bq,Jg.ItemDataService,cc.K,Fs.f,Object])],zf);var Qg=n(44616);n(90337);const NC=["*"];function FC(d,y){}let Zg=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item","mediaOptions"]}getComponentName(){return"MediaViewerComponent"}importThemedComponent(o){return n(5452)(`./${o}/app/item-page/media-viewer/media-viewer.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,90337))}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-media-viewer"]],inputs:{item:"item",mediaOptions:"mediaOptions"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:NC,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,b){1&c&&(e.NAR(),e.DNE(0,FC,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var V0=n(81443),qg=n(57538),e_=n(67018);let kd=(()=>{class d{constructor(){this.LINKS_TO_FOLLOW=[(0,Ws.s)("format")]}showEmbeddedViewer(){return!(0,e.naY)()}getImageCount(o,c,b){let $=0;return b.findAllByItem(o).pipe((0,Bs.qD)(),(0,xt.T)(ue=>ue.payload),(0,xt.T)(ue=>ue.page),(0,ks.n)(ue=>ue),(0,Wn.p)(ue=>this.isIiifBundle(ue.name)),(0,Qn.Z)(ue=>c.findAllByItemAndBundleName(o,ue.name,{currentPage:1,elementsPerPage:5},!0,!0,...this.LINKS_TO_FOLLOW).pipe((0,Bs.qD)(),(0,xt.T)(Me=>Me.payload),(0,xt.T)(Me=>Me.page),(0,ks.n)(Me=>Me),(0,ks.n)(Me=>Me.format.pipe((0,Bs.qD)(),(0,xt.T)(it=>it.payload),(0,xt.T)(it=>(it.mimetype.includes("image")&&$++,$)))))),(0,e_.H)())}isIiifBundle(o){return!("OtherContent"===o||"LICENSE"===o||"THUMBNAIL"===o||"TEXT"===o||"METADATA"===o||"CC-LICENSE"===o||"BRANDED_PREVIEW"===o)}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();function dS(d,y){if(1&d&&(e.j41(0,"p",3),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(o.viewerMessage)}}function uS(d,y){if(1&d&&(e.nrm(0,"iframe",4),e.nI1(1,"async")),2&d){const o=e.XpG();e.Y8G("src",e.bMT(1,1,o.iframeViewerUrl),e.f$h)}}let Yf=(()=>{class d{constructor(o,c,b,$,ue,Me){this.sanitizer=o,this.viewerService=c,this.bitstreamDataService=b,this.bundleDataService=$,this.hostWindowService=ue,this.platformId=Me,this.isViewerAvailable=!0,this.multi=!1,this.notMobile=!1,this.viewerMessage="Sorry, the Mirador viewer is not currently available in development mode."}setURL(){const o=encodeURIComponent(A.c.rest.baseUrl+"/iiif/"+this.object.id+"/manifest");let c=`${A.c.ui.nameSpace}${A.c.ui.nameSpace.length>1?"/":""}iiif/mirador/index.html?manifest=${o}`;return this.searchable&&(c+="&searchable="+this.searchable),this.query&&(c+="&query="+this.query),this.multi&&(c+="&multi="+this.multi),this.notMobile&&(c+="&notMobile=true"),this.sanitizer.bypassSecurityTrustResourceUrl(c)}ngOnInit(){if((0,f.UE)(this.platformId))if(this.isViewerAvailable=this.viewerService.showEmbeddedViewer(),this.hostWindowService.widthCategory.pipe((0,T.s)(1)).subscribe(o=>{this.notMobile=!(o===qg.tP.XS||o===qg.tP.SM)}),this.searchable){this.multi=!0;const o=(0,Ts.of)("");this.iframeViewerUrl=o.pipe((0,xt.T)(c=>this.setURL()))}else this.iframeViewerUrl=this.viewerService.getImageCount(this.object,this.bitstreamDataService,this.bundleDataService).pipe((0,xt.T)(o=>(o>1&&(this.multi=!0),this.setURL())))}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(h.up),e.rXU(kd),e.rXU(zr.BitstreamDataService),e.rXU(V0.BundleDataService),e.rXU(qg.CV),e.rXU(e.Agw))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-mirador-viewer"]],inputs:{object:"object",query:"query",searchable:"searchable"},standalone:!0,features:[e.aNF],decls:5,vars:5,consts:[[1,"full-text-op"],["id","viewer-message",4,"ngIf"],["title","Mirador Viewer","allowtransparency","true","id","mirador-viewer",3,"src",4,"ngIf"],["id","viewer-message"],["title","Mirador Viewer","allowtransparency","true","id","mirador-viewer",3,"src"]],template:function(c,b){1&c&&(e.j41(0,"p",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,dS,2,1,"p",1)(4,uS,2,3,"iframe",2)),2&c&&(e.R7$(),e.JRh(e.bMT(2,3,"iiifviewer.fullscreen.notice")),e.R7$(2),e.Y8G("ngIf",!b.isViewerAvailable),e.R7$(),e.Y8G("ngIf",b.isViewerAvailable))},dependencies:[K.h,K.D9,f.Jj,f.bT],styles:["#mirador-viewer[_ngcontent-%COMP%]{border:1px solid #dee2e6;height:660px;width:100%}.full-text-op[_ngcontent-%COMP%]{text-align:right;color:#333;font-size:.8em}p.full-text-op[_ngcontent-%COMP%]{margin-bottom:0}"],changeDetection:0})}}return d})();n(1231);const G0=["*"];function hS(d,y){}let Xf=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"FileSectionComponent"}importThemedComponent(o){return n(78373)(`./${o}/app/item-page/simple/field-components/file-section/file-section.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1231))}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-file-section"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:G0,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,b){1&c&&(e.NAR(),e.DNE(0,hS,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})(),jC=(()=>{class d extends Mu{constructor(){super(...arguments),this.fields=["dc.description.abstract"],this.label="item.page.abstract",this.enableMarkdown=!0}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-abstract-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(c,b){1&c&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&c&&(e.R7$(),e.Y8G("mdValues",null==b.item?null:b.item.allMetadata(b.fields))("separator",b.separator)("label",b.label)("enableMarkdown",b.enableMarkdown)("urlRegex",b.urlRegex)("browseDefinition",e.bMT(2,7,b.browseDefinition))("img",b.img))},dependencies:[Uh,f.Jj],encapsulation:2})}}return d})(),BC=(()=>{class d extends Mu{constructor(){super(...arguments),this.separator=", ",this.fields=["dc.date.issued"],this.label="item.page.date"}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-date-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(c,b){1&c&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&c&&(e.R7$(),e.Y8G("mdValues",null==b.item?null:b.item.allMetadata(b.fields))("separator",b.separator)("label",b.label)("enableMarkdown",b.enableMarkdown)("urlRegex",b.urlRegex)("browseDefinition",e.bMT(2,7,b.browseDefinition))("img",b.img))},dependencies:[Uh,f.Jj],encapsulation:2})}}return d})();function pS(d,y){if(1&d&&e.nrm(0,"span",4),2&d){const o=e.XpG(2);e.Y8G("innerHTML",o.separator,e.npT)}}function fS(d,y){if(1&d&&(e.j41(0,"a",2),e.EFF(1),e.DNE(2,pS,1,1,"span",3),e.k0s()),2&d){const o=y.$implicit,c=y.last,b=e.XpG();e.Y8G("href",o.value,e.B4B)("target",b.hasInternalLink(o.value)?"_self":"_blank"),e.R7$(),e.SpI(" ",b.linktext||o.value,""),e.R7$(),e.Y8G("ngIf",!c)}}let UC=(()=>{class d extends Uh{static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-metadata-uri-values"]],inputs:{linktext:"linktext",mdValues:"mdValues",separator:"separator",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:4,consts:[[3,"label"],["class","dont-break-out",3,"href","target",4,"ngFor","ngForOf"],[1,"dont-break-out",3,"href","target"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"]],template:function(c,b){1&c&&(e.j41(0,"ds-metadata-field-wrapper",0),e.nI1(1,"translate"),e.DNE(2,fS,3,4,"a",1),e.k0s()),2&c&&(e.Y8G("label",e.bMT(1,2,b.label)),e.R7$(2),e.Y8G("ngForOf",b.mdValues))},dependencies:[Pa.Q,K.h,K.D9,f.Sq,f.bT]})}}return d})(),$0=(()=>{class d extends Mu{static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-uri-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[1,"item-page-field"],[3,"mdValues","separator","label"]],template:function(c,b){1&c&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-uri-values",1),e.k0s()),2&c&&(e.R7$(),e.Y8G("mdValues",null==b.item?null:b.item.allMetadata(b.fields))("separator",b.separator)("label",b.label))},dependencies:[UC],encapsulation:2})}}return d})();const Nr=()=>["dc.contributor.author","dc.creator"],kC=()=>["journal.title"],mS=()=>["journal.identifier.issn"],gS=()=>["journalvolume.identifier.name"],VC=()=>["dc.publisher"],_S=()=>["dc.description"],GC=()=>["dc.subject"],$C=()=>["dc.identifier.citation"],up=()=>["dc.identifier.uri"],vS=()=>["coar.notify.endorsedBy"],yS=()=>["datacite.relation.isReviewedBy"],WC=()=>["datacite.relation.isSupplementedBy"],ES=()=>["datacite.relation.isReferencedBy"],KC=d=>[d];function S2(d,y){if(1&d&&e.nrm(0,"ds-results-back-button",16),2&d){const o=e.XpG();e.Y8G("back",o.back)}}function W0(d,y){if(1&d&&(e.j41(0,"div",4)(1,"div",17),e.nrm(2,"ds-mirador-viewer",18),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("object",o.object)("searchable",o.iiifSearchEnabled)("query",e.bMT(3,3,o.iiifQuery$))}}function K0(d,y){if(1&d&&(e.qex(0),e.j41(1,"ds-metadata-field-wrapper",19),e.nrm(2,"ds-thumbnail",20),e.nI1(3,"async"),e.k0s(),e.bVm()),2&d){const o=e.XpG();e.R7$(),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(3,2,null==o.object?null:o.object.thumbnail))}}function H0(d,y){if(1&d&&(e.j41(0,"div",21),e.nrm(1,"ds-media-viewer",8),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("item",o.object)}}let hp=class mO extends Ic{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(mO)))(c||mO)}})()}static{this.\u0275cmp=e.VBU({type:mO,selectors:[["ds-publication"]],standalone:!0,features:[e.Vt3,e.aNF],decls:40,vars:88,consts:[[3,"back",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[4,"ngIf"],["class","mb-2",4,"ngIf"],[3,"item"],[1,"ds-item-page-mixed-author-field",3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[3,"item","fields","separator","label"],["role","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[3,"back"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"mb-2"]],template:function(o,c){1&o&&(e.DNE(0,S2,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.DNE(2,W0,4,5,"div",1),e.j41(3,"div",2),e.nrm(4,"ds-item-page-title-field",3)(5,"ds-dso-edit-menu"),e.k0s(),e.j41(6,"div",4)(7,"div",5),e.DNE(8,K0,4,4,"ng-container",6)(9,H0,2,1,"div",7),e.nrm(10,"ds-item-page-file-section",8)(11,"ds-item-page-date-field",8)(12,"ds-metadata-representation-list",9),e.nI1(13,"translate"),e.nrm(14,"ds-generic-item-page-field",10)(15,"ds-generic-item-page-field",10)(16,"ds-generic-item-page-field",10)(17,"ds-generic-item-page-field",10),e.k0s(),e.j41(18,"div",11),e.nrm(19,"ds-related-items",12),e.nI1(20,"translate"),e.nrm(21,"ds-related-items",12),e.nI1(22,"translate"),e.nrm(23,"ds-related-items",12),e.nI1(24,"translate"),e.nrm(25,"ds-item-page-abstract-field",8)(26,"ds-generic-item-page-field",10)(27,"ds-generic-item-page-field",13)(28,"ds-generic-item-page-field",10)(29,"ds-item-page-uri-field",10)(30,"ds-item-page-collections",8)(31,"ds-item-page-uri-field",10)(32,"ds-item-page-uri-field",10)(33,"ds-item-page-uri-field",10)(34,"ds-item-page-uri-field",10),e.j41(35,"div")(36,"a",14),e.nrm(37,"i",15),e.EFF(38),e.nI1(39,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,61,c.showBackButton$)),e.R7$(2),e.Y8G("ngIf",c.iiifEnabled),e.R7$(2),e.Y8G("item",c.object),e.R7$(4),e.Y8G("ngIf",!(c.mediaViewer.image||c.mediaViewer.video)),e.R7$(),e.Y8G("ngIf",c.mediaViewer.image||c.mediaViewer.video),e.R7$(),e.Y8G("item",c.object),e.R7$(),e.Y8G("item",c.object),e.R7$(),e.Y8G("parentItem",c.object)("itemType","Person")("metadataFields",e.lJ4(73,Nr))("label",e.bMT(13,63,"relationships.isAuthorOf")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(74,kC))("label","publication.page.journal-title"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(75,mS))("label","publication.page.journal-issn"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(76,gS))("label","publication.page.volume-title"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(77,VC))("label","publication.page.publisher"),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isProjectOfPublication")("label",e.bMT(20,65,"relationships.isProjectOf")),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isOrgUnitOfPublication")("label",e.bMT(22,67,"relationships.isOrgUnitOf")),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isJournalIssueOfPublication")("label",e.bMT(24,69,"relationships.isJournalIssueOf")),e.R7$(2),e.Y8G("item",c.object),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(78,_S))("label","publication.page.description"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(79,GC))("separator",", ")("label","item.page.subject"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(80,$C))("label","item.page.citation"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(81,up))("label","item.page.uri"),e.R7$(),e.Y8G("item",c.object),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(82,vS))("label","item.page.endorsement"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(83,yS))("label","item.page.review"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(84,WC))("label","item.page.supplemented"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(85,ES))("label","item.page.referenced"),e.R7$(2),e.Y8G("routerLink",e.eq3(86,KC,c.itemPageRoute+"/full")),e.R7$(2),e.SpI(" ",e.bMT(39,71,"item.page.link.full")," "))},dependencies:[f.bT,Iu.U,Yf,Jl.V,fd.T,Pa.Q,Co.T,Zg,Xf,BC,qh,Mc,pd,jC,$0,Qg.r,v.Wk,f.Jj,K.h,K.D9],changeDetection:0})}};hp=(0,Ue.Cg)([(0,Gn.VK)("Publication",Vn.n.StandalonePage)],hp);const Zl=(d,y)=>({row:d,col:y}),CS=(d,y)=>({"col-auto":d,row:y}),HC=d=>({width:"var(--ds-thumbnail-max-width)","margin-bottom":d});function Pc(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",6)(1,"a",7)(2,"img",8),e.bIt("error",function(){e.eBV(o);const b=e.XpG(2);return e.Njj(b.showImage=!1)}),e.k0s()()()}if(2&d){const o=e.XpG(2);e.Y8G("ngClass",e.l_i(5,CS,"full"===o.variant,"small"===o.variant)),e.R7$(),e.Y8G("href",o.uri,e.B4B),e.R7$(),e.Y8G("src",o.imgSrc,e.B4B)("alt",o.name)("ngStyle",e.eq3(8,HC,"small"===o.variant?"1ch":"0"))}}function ql(d,y){if(1&d&&(e.j41(0,"a",9),e.EFF(1),e.k0s()),2&d){const o=e.XpG(2);e.Y8G("href",o.uri,e.B4B),e.R7$(),e.JRh(o.name)}}function ec(d,y){if(1&d&&(e.j41(0,"div",1)(1,"ds-metadata-field-wrapper",2),e.nI1(2,"translate"),e.j41(3,"div",3),e.DNE(4,Pc,3,10,"div",4),e.j41(5,"div",3)(6,"span"),e.EFF(7),e.nI1(8,"translate"),e.DNE(9,ql,2,2,"a",5),e.k0s()()()()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,6,"item.page.cc.license.title")),e.R7$(2),e.Y8G("ngClass",e.l_i(10,Zl,"full"===o.variant,"small"===o.variant)),e.R7$(),e.Y8G("ngIf",o.showImage),e.R7$(),e.Y8G("ngClass",e.l_i(13,Zl,"small"===o.variant,"full"===o.variant)),e.R7$(2),e.SpI(" ","full"===o.variant&&o.showDisclaimer?e.bMT(8,8,"item.page.cc.license.disclaimer"):""," "),e.R7$(2),e.Y8G("ngIf",o.showName||!o.showImage)}}let zC=(()=>{class d{constructor(){this.variant="small",this.ccLicenseUriField="dc.rights.uri",this.ccLicenseNameField="dc.rights",this.showName=!0,this.showDisclaimer=!0,this.showImage=!0}ngOnInit(){this.uri=this.item.firstMetadataValue(this.ccLicenseUriField),this.name=this.item.firstMetadataValue(this.ccLicenseNameField);const c=/.*creativecommons.org\/(licenses|publicdomain)\/([^/]+)/gm.exec(this.uri??"")??[],b=c.length>2?c[2]:null;this.imgSrc=b?`assets/images/cc-licenses/${b}.png`:null}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-cc-license-field"]],inputs:{item:"item",variant:"variant",ccLicenseUriField:"ccLicenseUriField",ccLicenseNameField:"ccLicenseNameField",showName:"showName",showDisclaimer:"showDisclaimer"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["class","item-page-field",4,"ngIf"],[1,"item-page-field"],[3,"label"],[3,"ngClass"],["style","align-content: center;",3,"ngClass",4,"ngIf"],["target","_blank","id","cc-name",3,"href",4,"ngIf"],[2,"align-content","center",3,"ngClass"],["target","_blank",1,"link-anchor","dont-break-out","ds-simple-metadata-link",3,"href"],[1,"cc-image",3,"error","src","alt","ngStyle"],["target","_blank","id","cc-name",3,"href"]],template:function(c,b){1&c&&e.DNE(0,ec,10,16,"div",0),2&c&&e.Y8G("ngIf",b.uri&&b.name)},dependencies:[f.bT,f.YU,f.B3,K.h,K.D9,Pa.Q],encapsulation:2})}}return d})();const YC=()=>["dc.contributor.author","dc.creator"],bS=()=>["journal.title"],DS=()=>["journal.identifier.issn"],TS=()=>["journalvolume.identifier.name"],OS=()=>["dc.publisher"],z0=()=>["dc.description"],Jf=()=>["dc.subject"],MS=()=>["dc.identifier.citation"],XC=()=>["dc.identifier.uri"],IS=()=>["coar.notify.endorsedBy"],SS=()=>["datacite.relation.isReviewedBy"],JC=()=>["datacite.relation.isSupplementedBy"],QC=()=>["datacite.relation.isReferencedBy"],t_=d=>[d];function PS(d,y){if(1&d&&e.nrm(0,"ds-results-back-button",16),2&d){const o=e.XpG();e.Y8G("back",o.back)}}function ZC(d,y){if(1&d&&(e.j41(0,"div",4)(1,"div",17),e.nrm(2,"ds-mirador-viewer",18),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("object",o.object)("searchable",o.iiifSearchEnabled)("query",e.bMT(3,3,o.iiifQuery$))}}function qC(d,y){if(1&d&&(e.qex(0),e.j41(1,"ds-metadata-field-wrapper",19),e.nrm(2,"ds-thumbnail",20),e.nI1(3,"async"),e.k0s(),e.bVm()),2&d){const o=e.XpG();e.R7$(),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(3,2,null==o.object?null:o.object.thumbnail))}}function eb(d,y){if(1&d&&(e.j41(0,"div",21),e.nrm(1,"ds-media-viewer",8),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("item",o.object)}}let n_=class gO extends Ic{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(gO)))(c||gO)}})()}static{this.\u0275cmp=e.VBU({type:gO,selectors:[["ds-untyped-item"]],standalone:!0,features:[e.Vt3,e.aNF],decls:35,vars:75,consts:[[3,"back",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[4,"ngIf"],["class","mb-2",4,"ngIf"],[3,"item"],[1,"ds-item-page-mixed-author-field",3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"item","fields","separator","label"],[3,"item","variant"],["role","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[3,"back"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"mb-2"]],template:function(o,c){1&o&&(e.DNE(0,PS,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.DNE(2,ZC,4,5,"div",1),e.j41(3,"div",2),e.nrm(4,"ds-item-page-title-field",3)(5,"ds-dso-edit-menu"),e.k0s(),e.j41(6,"div",4)(7,"div",5),e.DNE(8,qC,4,4,"ng-container",6)(9,eb,2,1,"div",7),e.nrm(10,"ds-item-page-file-section",8)(11,"ds-item-page-date-field",8)(12,"ds-metadata-representation-list",9),e.nI1(13,"translate"),e.nrm(14,"ds-generic-item-page-field",10)(15,"ds-generic-item-page-field",10)(16,"ds-generic-item-page-field",10)(17,"ds-generic-item-page-field",10),e.k0s(),e.j41(18,"div",11),e.nrm(19,"ds-item-page-abstract-field",8)(20,"ds-generic-item-page-field",10)(21,"ds-generic-item-page-field",12)(22,"ds-generic-item-page-field",10)(23,"ds-item-page-uri-field",10)(24,"ds-item-page-collections",8)(25,"ds-item-page-uri-field",10)(26,"ds-item-page-uri-field",10)(27,"ds-item-page-uri-field",10)(28,"ds-item-page-uri-field",10)(29,"ds-item-page-cc-license-field",13),e.j41(30,"div")(31,"a",14),e.nrm(32,"i",15),e.EFF(33),e.nI1(34,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,54,c.showBackButton$)),e.R7$(2),e.Y8G("ngIf",c.iiifEnabled),e.R7$(2),e.Y8G("item",c.object),e.R7$(4),e.Y8G("ngIf",!(c.mediaViewer.image||c.mediaViewer.video)),e.R7$(),e.Y8G("ngIf",c.mediaViewer.image||c.mediaViewer.video),e.R7$(),e.Y8G("item",c.object),e.R7$(),e.Y8G("item",c.object),e.R7$(),e.Y8G("parentItem",c.object)("itemType","Person")("metadataFields",e.lJ4(60,YC))("label",e.bMT(13,56,"relationships.isAuthorOf")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(61,bS))("label","item.page.journal-title"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(62,DS))("label","item.page.journal-issn"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(63,TS))("label","item.page.volume-title"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(64,OS))("label","item.page.publisher"),e.R7$(2),e.Y8G("item",c.object),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(65,z0))("label","item.page.description"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(66,Jf))("separator",", ")("label","item.page.subject"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(67,MS))("label","item.page.citation"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(68,XC))("label","item.page.uri"),e.R7$(),e.Y8G("item",c.object),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(69,IS))("label","item.page.endorsement"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(70,SS))("label","item.page.review"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(71,JC))("label","item.page.supplemented"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(72,QC))("label","item.page.referenced"),e.R7$(),e.Y8G("item",c.object)("variant","full"),e.R7$(2),e.Y8G("routerLink",e.eq3(73,t_,c.itemPageRoute+"/full")),e.R7$(2),e.SpI(" ",e.bMT(34,58,"item.page.link.full")," "))},dependencies:[f.bT,Iu.U,Yf,Jl.V,fd.T,Pa.Q,Co.T,Zg,Xf,BC,qh,Mc,jC,$0,Qg.r,v.Wk,f.Jj,K.h,K.D9,zC],changeDetection:0})}};n_=(0,Ue.Cg)([(0,Gn.VK)(id.q,Vn.n.StandalonePage)],n_);var RS=n(52749),pp=n(78655),s_=n(5845),AS=n(22924),wS=n(43796);function xS(d,y){}let LS=(()=>{class d extends AS.e{constructor(){super(...arguments),this.processCompleted=new e.bkB,this.inputNames=["item","object","option","workflowitem"],this.outputNames=["processCompleted"]}getComponent(){return(0,wS.u3)(this.option)}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-claimed-task-actions-loader"]],inputs:{item:"item",object:"object",option:"option",workflowitem:"workflowitem"},outputs:{processCompleted:"processCompleted"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(c,b){1&c&&e.DNE(0,xS,0,0,"ng-template",1,0,e.C5r)},dependencies:[Yl.z],encapsulation:2})}}return d})();const NS=d=>[d];function Y0(d,y){if(1&d){const o=e.RV6();e.j41(0,"ds-claimed-task-actions-loader",5),e.bIt("processCompleted",function(b){e.eBV(o);const $=e.XpG(2);return e.Njj($.processCompleted.emit(b))}),e.k0s()}if(2&d){const o=y.$implicit,c=e.XpG(2);e.Y8G("item",c.item)("option",o)("object",c.object)("workflowitem",c.workflowitem)}}function FS(d,y){if(1&d&&(e.qex(0),e.j41(1,"div",1),e.DNE(2,Y0,1,4,"ds-claimed-task-actions-loader",2),e.j41(3,"button",3),e.nI1(4,"translate"),e.nrm(5,"i",4),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.bVm()),2&d){const o=y.ngVar,c=e.XpG();e.R7$(2),e.Y8G("ngForOf",null==o?null:o.options),e.R7$(),e.FS9("ngbTooltip",e.bMT(4,4,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(8,NS,c.getWorkflowItemViewRoute(c.workflowitem))),e.R7$(3),e.SpI(" ",e.bMT(7,6,"submission.workflow.generic.view")," ")}}let Qf=(()=>{class d extends s_.p{constructor(o,c,b,$,ue,Me,it){super(U1.T.type,o,c,b,$,ue,Me),this.injector=o,this.router=c,this.notificationsService=b,this.translate=$,this.searchService=ue,this.requestService=Me,this.workflowActionService=it}ngOnInit(){this.initObjects(this.object),this.initAction(this.object)}initObjects(o){this.object=o}initAction(o){this.actionRD$=o.action}getWorkflowItemViewRoute(o){return(0,Eu.XH)(o?.id)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(e.zZn),e.rXU(v.Ix),e.rXU(Es.I),e.rXU(K.c$),e.rXU(pp.S),e.rXU(Cl.B),e.rXU(RS.WorkflowActionDataService))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-claimed-task-actions"]],inputs:{object:"object",item:"item",workflowitem:"workflowitem"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[1,"mt-1","mb-3","space-children-mr"],[3,"item","option","object","workflowitem","processCompleted",4,"ngFor","ngForOf"],[1,"btn","btn-primary","workflow-view",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],[3,"processCompleted","item","option","object","workflowitem"]],template:function(c,b){if(1&c&&(e.DNE(0,FS,8,10,"ng-container",0),e.nI1(1,"async")),2&c){let $;e.Y8G("ngVar",null==($=e.bMT(1,1,b.actionRD$))?null:$.payload)}},dependencies:[il.r,f.pM,LS,q.n8,q.md,v.Wk,f.Jj,K.h,K.D9],styles:["ds-claimed-task-actions-loader[_ngcontent-%COMP%]:empty{margin:0!important}"]})}}return d})();const tb=d=>[d];let i_=(()=>{class d extends s_.p{constructor(o,c,b,$,ue,Me){super(id.q.type,o,c,b,$,ue,Me),this.injector=o,this.router=c,this.notificationsService=b,this.translate=$,this.searchService=ue,this.requestService=Me}ngOnInit(){this.initPageRoute()}initObjects(o){this.object=o,this.initPageRoute()}initPageRoute(){this.itemPageRoute=(0,fi._o)(this.object)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(e.zZn),e.rXU(v.Ix),e.rXU(Es.I),e.rXU(K.c$),e.rXU(pp.S),e.rXU(Cl.B))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:9,consts:[[1,"btn","btn-primary","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"]],template:function(c,b){1&c&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nrm(2,"i",1),e.EFF(3),e.nI1(4,"translate"),e.k0s()),2&c&&(e.FS9("ngbTooltip",e.bMT(1,3,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(7,tb,b.itemPageRoute)),e.R7$(3),e.SpI(" ",e.bMT(4,5,"submission.workflow.generic.view"),"\n"))},dependencies:[q.n8,q.md,v.Wk,K.h,K.D9]})}}return d})();var nb=n(12532),Zf=n(60456),jS=n(46369);const BS=d=>[d];function sb(d,y){1&d&&(e.j41(0,"span"),e.nrm(1,"i",4),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&d&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function US(d,y){1&d&&(e.j41(0,"span"),e.nrm(1,"i",5),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&d&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.pool.claim"),""))}let o_=(()=>{class d extends jS.i{constructor(o,c,b,$,ue,Me,it){super(k1.k.type,o,c,b,ue,Me,it),this.injector=o,this.router=c,this.notificationsService=b,this.claimedTaskService=$,this.translate=ue,this.searchService=Me,this.requestService=it,this.subs=[]}claim(){this.subs.push(this.startActionExecution().pipe((0,T.s)(1)).subscribe())}initObjects(o){this.object=o}actionExecution(){return this.objectDataService.getPoolTaskEndpointById(this.object.id).pipe((0,ks.n)(o=>this.claimedTaskService.claimTask(this.object.id,o)))}reloadObjectExecution(){return this.claimedTaskService.findByItem(this.itemUuid).pipe((0,T.s)(1))}initReloadAnchor(){this.itemUuid=this.item.uuid}ngOnDestroy(){this.subs.forEach(o=>o.unsubscribe())}getWorkflowItemViewRoute(o){return(0,Eu.XH)(o?.id)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(e.zZn),e.rXU(v.Ix),e.rXU(Es.I),e.rXU(nb.ClaimedTaskDataService),e.rXU(K.c$),e.rXU(pp.S),e.rXU(Cl.B))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-pool-task-actions"]],inputs:{object:"object",item:"item",workflowitem:"workflowitem"},standalone:!0,features:[e.Vt3,e.aNF],decls:12,vars:21,consts:[["type","button",1,"btn","btn-info","mt-1","mb-3",3,"click","ngbTooltip","dsBtnDisabled"],[4,"ngIf"],["data-test","view-btn",1,"btn","btn-primary","workflow-view","ms-1","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-hand-paper"]],template:function(c,b){1&c&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nI1(2,"async"),e.bIt("click",function(){return b.claim()}),e.DNE(3,sb,4,3,"span",1),e.nI1(4,"async"),e.DNE(5,US,4,3,"span",1),e.nI1(6,"async"),e.k0s(),e.j41(7,"button",2),e.nI1(8,"translate"),e.nrm(9,"i",3),e.EFF(10),e.nI1(11,"translate"),e.k0s()),2&c&&(e.FS9("ngbTooltip",e.bMT(1,7,"submission.workflow.tasks.pool.claim_help")),e.Y8G("dsBtnDisabled",e.bMT(2,9,b.processing$)),e.R7$(3),e.Y8G("ngIf",e.bMT(4,11,b.processing$)),e.R7$(2),e.Y8G("ngIf",!0!==e.bMT(6,13,b.processing$)),e.R7$(2),e.FS9("ngbTooltip",e.bMT(8,15,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(19,BS,b.getWorkflowItemViewRoute(b.workflowitem))),e.R7$(3),e.SpI(" ",e.bMT(11,17,"submission.workflow.generic.view"),"\n"))},dependencies:[q.n8,q.md,f.bT,v.Wk,f.Jj,K.h,K.D9,Zf.A]})}}return d})();const kS=d=>[d];let r_=(()=>{class d extends s_.p{constructor(o,c,b,$,ue,Me){super(Kv.t.type,o,c,b,$,ue,Me),this.injector=o,this.router=c,this.notificationsService=b,this.translate=$,this.searchService=ue,this.requestService=Me}getWorkflowItemViewRoute(o){return(0,Eu.XH)(o?.id)}initObjects(o){this.object=o}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(e.zZn),e.rXU(v.Ix),e.rXU(Es.I),e.rXU(K.c$),e.rXU(pp.S),e.rXU(Cl.B))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-workflowitem-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:9,consts:[["data-test","view-btn",1,"btn","btn-primary","workflow-view","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"]],template:function(c,b){1&c&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nrm(2,"i",1),e.EFF(3),e.nI1(4,"translate"),e.k0s()),2&c&&(e.FS9("ngbTooltip",e.bMT(1,3,"submission.workspace.generic.view-help")),e.Y8G("routerLink",e.eq3(7,kS,b.getWorkflowItemViewRoute(b.object))),e.R7$(3),e.SpI(" ",e.bMT(4,5,"submission.workspace.generic.view"),"\n"))},dependencies:[q.n8,q.md,v.Wk,K.h,K.D9]})}}return d})();const ib=d=>[d];function J0(d,y){if(1&d&&(e.j41(0,"a",6),e.nI1(1,"translate"),e.nI1(2,"translate"),e.nrm(3,"i",7),e.EFF(4),e.nI1(5,"translate"),e.k0s()),2&d){const o=e.XpG();e.FS9("id","edit_"+o.object.id),e.FS9("ngbTooltip",e.bMT(1,5,"submission.workflow.generic.edit-help")),e.Y8G("routerLink",e.eq3(11,ib,"/workspaceitems/"+o.object.id+"/edit")),e.BMQ("aria-label",e.bMT(2,7,"submission.workflow.generic.edit-help")),e.R7$(4),e.SpI(" ",e.bMT(5,9,"submission.workflow.generic.edit")," ")}}function GS(d,y){1&d&&(e.j41(0,"span"),e.nrm(1,"i",10),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&d&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function a_(d,y){1&d&&(e.j41(0,"span"),e.nrm(1,"i",11),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&d&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.generic.delete"),""))}function l_(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",8),e.nI1(1,"translate"),e.nI1(2,"translate"),e.bIt("click",function(b){e.eBV(o);const $=e.XpG(),ue=e.sdS(12);return b.preventDefault(),e.Njj($.confirmDiscard(ue))}),e.DNE(3,GS,4,3,"span",9),e.nI1(4,"async"),e.DNE(5,a_,4,3,"span",9),e.nI1(6,"async"),e.k0s()}if(2&d){const o=e.XpG();e.FS9("id","delete_"+o.object.id),e.FS9("ngbTooltip",e.bMT(1,5,"submission.workflow.generic.delete-help")),e.BMQ("aria-label",e.bMT(2,7,"submission.workflow.generic.delete-help")),e.R7$(3),e.Y8G("ngIf",e.bMT(4,9,o.processingDelete$)),e.R7$(2),e.Y8G("ngIf",!0!==e.bMT(6,11,o.processingDelete$))}}function Q0(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",12)(1,"div",13),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",14),e.bIt("click",function(){const b=e.eBV(o).dismiss;return e.Njj(b("cancel"))}),e.k0s()(),e.j41(5,"div",15)(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div",16)(10,"button",17),e.bIt("click",function(){const b=e.eBV(o).close;return e.Njj(b("cancel"))}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"button",18),e.bIt("click",function(){const b=e.eBV(o).close;return e.Njj(b("ok"))}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()}2&d&&(e.R7$(2),e.JRh(e.bMT(3,4,"submission.general.discard.confirm.title")),e.R7$(5),e.JRh(e.bMT(8,6,"submission.general.discard.confirm.info")),e.R7$(4),e.JRh(e.bMT(12,8,"submission.general.discard.confirm.cancel")),e.R7$(3),e.JRh(e.bMT(15,10,"submission.general.discard.confirm.submit")))}let c_=(()=>{class d extends s_.p{constructor(o,c,b,$,ue,Me,it,Bt,yn){super(ug.F.type,o,c,$,ue,Me,it),this.injector=o,this.router=c,this.modalService=b,this.notificationsService=$,this.translate=ue,this.searchService=Me,this.requestService=it,this.authService=Bt,this.authorizationService=yn,this.processingDelete$=new _.t(!1)}confirmDiscard(o){this.modalService.open(o).result.then(c=>{"ok"===c&&(this.processingDelete$.next(!0),this.objectDataService.delete(this.object.id).pipe((0,Bs.qD)()).subscribe(b=>{this.processingDelete$.next(!1),this.handleActionResponse(b.hasSucceeded)}))})}ngOnInit(){const o=this.authService.getAuthenticatedUserFromStore();this.canEditItem$=o.pipe((0,ks.n)(c=>this.object?.item.pipe((0,Bs.qD)(),(0,Bs.Bo)(),(0,ks.n)(b=>this.authorizationService.isAuthorized(Tr._.CanEditItem,b?._links?.self.href,c.uuid)))))}initObjects(o){this.object=o}getWorkspaceItemViewRoute(o){return function X0(d){return new Pl.t((0,ar.cp)(),d,"view").toString()}(o?.id)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(e.zZn),e.rXU(v.Ix),e.rXU(q.Bq),e.rXU(Es.I),e.rXU(K.c$),e.rXU(pp.S),e.rXU(Cl.B),e.rXU(p.uR),e.rXU(ac.AuthorizationDataService))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-workspaceitem-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:13,vars:18,consts:[["content",""],[1,"space-children-mr"],["data-test","view-btn",1,"btn","btn-primary","workflow-view","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],["class","btn btn-primary mt-1 mb-3 edit-btn","role","button",3,"id","ngbTooltip","routerLink",4,"ngIf"],["type","button","class","btn btn-danger mt-1 mb-3",3,"id","ngbTooltip","click",4,"ngIf"],["role","button",1,"btn","btn-primary","mt-1","mb-3","edit-btn",3,"id","ngbTooltip","routerLink"],[1,"fa","fa-edit"],["type","button",1,"btn","btn-danger","mt-1","mb-3",3,"click","id","ngbTooltip"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title","text-danger","h4"],["type","button","id","delete_close","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","delete_cancel",1,"btn","btn-secondary",3,"click"],["type","button","id","delete_confirm",1,"btn","btn-danger",3,"click"]],template:function(c,b){1&c&&(e.j41(0,"div",1)(1,"button",2),e.nI1(2,"translate"),e.nI1(3,"translate"),e.nrm(4,"i",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,J0,6,13,"a",4),e.nI1(8,"async"),e.DNE(9,l_,7,13,"button",5),e.nI1(10,"async"),e.k0s(),e.DNE(11,Q0,16,12,"ng-template",null,0,e.C5r)),2&c&&(e.R7$(),e.FS9("ngbTooltip",e.bMT(2,6,"submission.workspace.generic.view-help")),e.Y8G("routerLink",e.eq3(16,ib,b.getWorkspaceItemViewRoute(b.object))),e.BMQ("aria-label",e.bMT(3,8,"submission.workspace.generic.view-help")),e.R7$(4),e.SpI(" ",e.bMT(6,10,"submission.workspace.generic.view")," "),e.R7$(2),e.Y8G("ngIf",e.bMT(8,12,b.canEditItem$)),e.R7$(2),e.Y8G("ngIf",e.bMT(10,14,b.canEditItem$)))},dependencies:[q.n8,q.md,v.Wk,f.bT,f.Jj,K.h,K.D9]})}}return d})();var $S=n(22285),ob=n(34532),WS=n(89269),xu=n(4910),d_=n(50332),Z0=n(21546),HS=(n(78541),n(43525));n(3736);const rb=["*"];function q0(d,y){}let ab=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item","object","label","metadata","placeholder","separator"]}getComponentName(){return"ItemDetailPreviewFieldComponent"}importThemedComponent(o){return n(4026)(`./${o}/app/shared/object-detail/my-dspace-result-detail-element/item-detail-preview/item-detail-preview-field/item-detail-preview-field.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,3736))}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-detail-preview-field"]],inputs:{item:"item",object:"object",label:"label",metadata:"metadata",placeholder:"placeholder",separator:"separator"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:rb,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,b){1&c&&(e.NAR(),e.DNE(0,q0,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();const Lu=["*"],zS=()=>["dc.contributor","dc.creator","dc.contributor.*"];function YS(d,y){if(1&d&&e.nrm(0,"span",18),2&d){const o=e.XpG(6);e.FS9("innerHTML",o.separator,e.npT)}}function fp(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",16),e.bIt("click",function(){const b=e.eBV(o).$implicit,$=e.XpG(5);return e.Njj($.downloadBitstreamFile(null==b?null:b.uuid))}),e.j41(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"dsFileSize"),e.k0s(),e.DNE(6,YS,1,1,"span",17),e.k0s()}if(2&d){const o=y.$implicit,c=y.last,b=e.XpG(5);e.R7$(2),e.JRh(b.dsoNameService.getName(o)),e.R7$(2),e.SpI("(",e.bMT(5,3,null==o?null:o.sizeBytes),")"),e.R7$(2),e.Y8G("ngIf",!c)}}function R2(d,y){if(1&d&&(e.j41(0,"div",14),e.DNE(1,fp,7,5,"button",15),e.k0s()),2&d){const o=e.XpG().ngIf;e.R7$(),e.Y8G("ngForOf",o)}}function ey(d,y){1&d&&(e.qex(0),e.j41(1,"span",19),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.bVm()),2&d&&(e.R7$(2),e.JRh(e.bMT(3,1,"mydspace.results.no-files")))}function A2(d,y){if(1&d&&(e.qex(0),e.j41(1,"ds-metadata-field-wrapper",12),e.nI1(2,"translate"),e.DNE(3,R2,2,1,"div",13)(4,ey,4,3,"ng-container",4),e.k0s(),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("label",e.bMT(2,3,"item.page.files")),e.R7$(2),e.Y8G("ngIf",(null==o?null:o.length)>0),e.R7$(),e.Y8G("ngIf",0===(null==o?null:o.length))}}function lb(d,y){if(1&d&&(e.j41(0,"div"),e.nrm(1,"ds-item-page-title-field",5),e.j41(2,"div",6)(3,"div",7)(4,"ds-metadata-field-wrapper",8),e.nrm(5,"ds-thumbnail",9),e.nI1(6,"async"),e.k0s(),e.DNE(7,A2,5,5,"ng-container",4),e.nI1(8,"async"),e.nrm(9,"ds-item-detail-preview-field",10),e.nI1(10,"translate"),e.nI1(11,"translate"),e.nrm(12,"ds-item-detail-preview-field",10),e.nI1(13,"translate"),e.nI1(14,"translate"),e.k0s(),e.j41(15,"div",11),e.nrm(16,"ds-item-detail-preview-field",10),e.nI1(17,"translate"),e.nI1(18,"translate"),e.nrm(19,"ds-item-detail-preview-field",10),e.nI1(20,"translate"),e.nI1(21,"translate"),e.j41(22,"div"),e.SdG(23),e.k0s()()()()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("item",o.item),e.R7$(3),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(6,28,null==o.item?null:o.item.thumbnail)),e.R7$(2),e.Y8G("ngIf",e.bMT(8,30,o.bitstreams$)),e.R7$(2),e.Y8G("item",o.item)("object",o.object)("label",e.bMT(10,32,"item.page.date"))("metadata","dc.date.issued")("separator",o.separator)("placeholder",e.bMT(11,34,"mydspace.results.no-date")),e.R7$(3),e.Y8G("item",o.item)("object",o.object)("label",e.bMT(13,36,"item.page.author"))("metadata",e.lJ4(48,zS))("separator",o.separator)("placeholder",e.bMT(14,38,"mydspace.results.no-authors")),e.R7$(4),e.Y8G("item",o.item)("object",o.object)("label",e.bMT(17,40,"item.page.abstract"))("metadata","dc.description.abstract")("separator",o.separator)("placeholder",e.bMT(18,42,"mydspace.results.no-abstract")),e.R7$(3),e.Y8G("item",o.item)("object",o.object)("label",e.bMT(20,44,"item.page.uri"))("metadata","dc.identifier.uri")("separator",o.separator)("placeholder",e.bMT(21,46,"mydspace.results.no-uri"))}}function cb(d,y){if(1&d&&(e.j41(0,"div",2),e.nrm(1,"ds-badges",3),e.DNE(2,lb,24,49,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("@fadeInOut",void 0),e.R7$(),e.Y8G("object",o.item)("context",o.badgeContext),e.R7$(),e.Y8G("ngIf",o.item)}}function w2(d,y){if(1&d&&e.nrm(0,"ds-item-submitter",20),2&d){const o=e.XpG();e.Y8G("object",o.object.indexableObject)}}let tc=(()=>{class d{constructor(o,c,b,$){this.fileService=o,this.halService=c,this.bitstreamDataService=b,this.dsoNameService=$,this.showSubmitter=!1,this.separator=", "}ngOnChanges(o){(0,G.a4)(o.item)&&(this.bitstreams$=this.getFiles())}downloadBitstreamFile(o){this.halService.getEndpoint("bitstreams").pipe((0,wp.$)()).subscribe(c=>{this.fileService.retrieveFileDownloadLink(`${c}/${o}/content`)})}getFiles(){return this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{elementsPerPage:Number.MAX_SAFE_INTEGER}).pipe((0,Bs.Ar)())}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(WS.E),e.rXU(xu.Y),e.rXU(zr.BitstreamDataService),e.rXU(Fs.f))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-detail-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter"},standalone:!0,features:[e.OA$,e.aNF],ngContentSelectors:Lu,decls:2,vars:2,consts:[["class","item-page",4,"ngIf"],[3,"object",4,"ngIf"],[1,"item-page"],[3,"object","context"],[4,"ngIf"],[3,"item"],[1,"row","mb-1"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","object","label","metadata","separator","placeholder"],[1,"col-xs-12","col-md-6"],[3,"label"],["class","file-section",4,"ngIf"],[1,"file-section"],["class","btn btn-link",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-link",3,"click"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"text-muted"],[3,"object"]],template:function(c,b){1&c&&(e.NAR(),e.DNE(0,cb,3,4,"div",0)(1,w2,1,1,"ds-item-submitter",1)),2&c&&(e.Y8G("ngIf",b.item),e.R7$(),e.Y8G("ngIf",b.showSubmitter))},dependencies:[f.bT,Sr.F,Jl.V,Pa.Q,Co.T,f.pM,ab,Z0.s,f.Jj,HS.s,K.h,K.D9],data:{animation:[d_.Ws]}})}}return d})(),qf=(()=>{class d extends Fo.C{ngOnInit(){(0,G.a4)(this.object)&&(this.dso=this.object.indexableObject)}allMetadataValues(o){return rd.O.allValues([this.object.hitHighlights,this.dso.metadata],o)}firstMetadataValue(o){return rd.O.firstValue([this.object.hitHighlights,this.dso.metadata],o)}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:0,vars:0,template:function(c,b){},encapsulation:2})}}return d})();function XS(d,y){if(1&d){const o=e.RV6();e.qex(0),e.nrm(1,"ds-item-detail-preview",1),e.j41(2,"ds-claimed-task-actions",2),e.bIt("processCompleted",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.reloadedObject.emit(b.reloadedObject))}),e.k0s(),e.bVm()}if(2&d){const o=e.XpG();e.R7$(),e.Y8G("item",null==o.item$?null:o.item$.value)("object",o.object)("showSubmitter",o.showSubmitter)("badgeContext",o.badgeContext),e.R7$(),e.Y8G("item",o.item$.value)("object",o.dso)("workflowitem",o.workflowitem$.value)}}let u_=class IA extends qf{constructor(y,o,c){super(y),this.dsoNameService=y,this.linkService=o,this.objectCache=c,this.item$=new _.t(null),this.showSubmitter=!0,this.badgeContext=xs.o.MyDSpaceValidation,this.workflowitem$=new _.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ws.s)("workflowitem",{},(0,Ws.s)("item",{},(0,Ws.s)("bundles")),(0,Ws.s)("submitter")),(0,Ws.s)("action")),this.dso.workflowitem.pipe((0,Bs.qD)(),(0,Qn.Z)(y=>y.hasSucceeded?(this.workflowitem$.next(y.payload),y.payload.item.pipe((0,Bs.qD)())):Br.w),(0,pi.M)(y=>{(0,G.hj)(y)&&y.hasSucceeded&&this.item$.next(y.payload)})).subscribe()}ngOnDestroy(){(0,G.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(o){return new(o||IA)(e.rXU(Fs.f),e.rXU(Ti._),e.rXU(kl.$))}}static{this.\u0275cmp=e.VBU({type:IA,selectors:[["ds-claimed-task-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext"],[3,"processCompleted","item","object","workflowitem"]],template:function(o,c){1&o&&(e.DNE(0,XS,3,7,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&o&&e.Y8G("ngIf",e.bMT(1,1,c.workflowitem$)&&e.bMT(2,3,c.item$))},dependencies:[f.bT,tc,Qf,f.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};u_=(0,Ue.Cg)([(0,Gn.VK)(ob.y,Vn.n.DetailedListElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ti._,kl.$])],u_);let md=class _O extends qf{constructor(){super(...arguments),this.badgeContext=xs.o.MyDSpaceArchived}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(_O)))(c||_O)}})()}static{this.\u0275cmp=e.VBU({type:_O,selectors:[["ds-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(o,c){1&o&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-item-actions",1),2&o&&(e.Y8G("item",c.dso)("object",c.object)("badgeContext",c.badgeContext),e.R7$(),e.Y8G("object",c.dso))},dependencies:[tc,i_],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};md=(0,Ue.Cg)([(0,Gn.VK)(Sa.H,Vn.n.DetailedListElement,xs.o.Workspace),(0,Gn.VK)(Sa.H,Vn.n.DetailedListElement,xs.o.Workflow)],md);var db=n(24205);function h_(d,y){if(1&d){const o=e.RV6();e.qex(0),e.nrm(1,"ds-item-detail-preview",1),e.j41(2,"ds-pool-task-actions",2),e.bIt("processCompleted",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.reloadedObject.emit(b.reloadedObject))}),e.k0s(),e.bVm()}if(2&d){const o=e.XpG();e.R7$(),e.Y8G("item",null==o.item$?null:o.item$.value)("object",o.object)("showSubmitter",o.showSubmitter)("badgeContext",o.badgeContext),e.R7$(),e.Y8G("item",o.item$.value)("object",o.dso)("workflowitem",o.workflowitem$.value)}}let Nu=class SA extends qf{constructor(y,o,c){super(y),this.dsoNameService=y,this.linkService=o,this.objectCache=c,this.item$=new _.t(null),this.showSubmitter=!0,this.badgeContext=xs.o.MyDSpaceWaitingController,this.workflowitem$=new _.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ws.s)("workflowitem",{},(0,Ws.s)("item",{},(0,Ws.s)("bundles")),(0,Ws.s)("submitter")),(0,Ws.s)("action")),this.dso.workflowitem.pipe((0,Bs.qD)(),(0,Qn.Z)(y=>y.hasSucceeded?(this.workflowitem$.next(y.payload),y.payload.item.pipe((0,Bs.qD)())):Br.w),(0,pi.M)(y=>{(0,G.hj)(y)&&y.hasSucceeded&&this.item$.next(y.payload)})).subscribe()}ngOnDestroy(){(0,G.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(o){return new(o||SA)(e.rXU(Fs.f),e.rXU(Ti._),e.rXU(kl.$))}}static{this.\u0275cmp=e.VBU({type:SA,selectors:[["ds-pool-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext"],[3,"processCompleted","item","object","workflowitem"]],template:function(o,c){1&o&&(e.DNE(0,h_,3,7,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&o&&e.Y8G("ngIf",e.bMT(1,1,c.workflowitem$)&&e.bMT(2,3,c.item$))},dependencies:[f.bT,tc,o_,f.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Nu=(0,Ue.Cg)([(0,Gn.VK)(db.d,Vn.n.DetailedListElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ti._,kl.$])],Nu);let ia=class PA extends qf{constructor(y,o){super(y),this.dsoNameService=y,this.linkService=o,this.badgeContext=xs.o.MyDSpaceWorkflow}ngOnInit(){super.ngOnInit(),this.linkService.resolveLink(this.dso,(0,Ws.s)("item")),this.initItem(this.dso.item)}initItem(y){y.pipe((0,Wr.I)(o=>o.hasSucceeded&&(0,G.EA)(o.payload))).subscribe(o=>{this.item=o.payload})}static{this.\u0275fac=function(o){return new(o||PA)(e.rXU(Fs.f),e.rXU(Ti._))}}static{this.\u0275cmp=e.VBU({type:PA,selectors:[["ds-workflow-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(o,c){1&o&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-workflowitem-actions",1),2&o&&(e.Y8G("item",c.item)("object",c.object)("badgeContext",c.badgeContext),e.R7$(),e.Y8G("object",c.dso))},dependencies:[tc,r_],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};ia=(0,Ue.Cg)([(0,Gn.VK)(vg.q,Vn.n.DetailedListElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ti._])],ia);let em=class RA extends qf{constructor(y,o){super(y),this.dsoNameService=y,this.linkService=o,this.badgeContext=xs.o.MyDSpaceWorkspace}ngOnInit(){super.ngOnInit(),this.linkService.resolveLink(this.dso,(0,Ws.s)("item")),this.initItem(this.dso.item)}initItem(y){y.pipe((0,Wr.I)(o=>o.hasSucceeded&&(0,G.EA)(o.payload))).subscribe(o=>{this.item=o.payload})}static{this.\u0275fac=function(o){return new(o||RA)(e.rXU(Fs.f),e.rXU(Ti._))}}static{this.\u0275cmp=e.VBU({type:RA,selectors:[["ds-workspace-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(o,c){1&o&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-workspaceitem-actions",1),2&o&&(e.Y8G("item",c.item)("object",c.object)("badgeContext",c.badgeContext),e.R7$(),e.Y8G("object",c.dso))},dependencies:[tc,c_],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};em=(0,Ue.Cg)([(0,Gn.VK)(Lh.I,Vn.n.DetailedListElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ti._])],em);const ty=d=>["/collections/",d];function JS(d,y){if(1&d&&(e.j41(0,"a",7),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",8),e.nI1(3,"async"),e.k0s()),2&d){let o;const c=e.XpG();e.Y8G("target",c.linkType===c.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,ty,c.object.id)),e.BMQ("rel",c.linkType===c.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(o=e.bMT(3,8,c.object.logo))?null:o.payload)("limitWidth",!1)}}function ub(d,y){if(1&d&&(e.j41(0,"span",9),e.nrm(1,"ds-thumbnail",8),e.nI1(2,"async"),e.k0s()),2&d){let o;const c=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(o=e.bMT(2,2,c.object.logo))?null:o.payload)("limitWidth",!1)}}function hb(d,y){if(1&d&&(e.j41(0,"p",10),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(o.object.shortDescription)}}function pb(d,y){if(1&d&&(e.j41(0,"div",11)(1,"a",12),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,ty,o.object.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let tm=class AA extends Fo.C{constructor(y,o){super(y),this.dsoNameService=y,this.linkService=o}set object(y){this._object=y,(0,G.a4)(this._object)&&(0,G.Tn)(this._object.logo)&&this.linkService.resolveLink(this._object,(0,Ws.s)("logo"))}get object(){return this._object}static{this.\u0275fac=function(o){return new(o||AA)(e.rXU(Fs.f),e.rXU(Ti._))}}static{this.\u0275cmp=e.VBU({type:AA,selectors:[["ds-collection-grid-element"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:5,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,JS,4,12,"a",1)(2,ub,3,4,"span",2),e.j41(3,"div",3)(4,"h4",4),e.EFF(5),e.k0s(),e.DNE(6,hb,2,1,"p",5)(7,pb,4,8,"div",6),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(3),e.JRh(c.dsoNameService.getName(c.object)),e.R7$(),e.Y8G("ngIf",c.object.shortDescription),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[f.bT,v.Wk,Co.T,f.Jj,K.h,K.D9]})}};tm=(0,Ue.Cg)([(0,Gn.VK)(ih.p,Vn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ti._])],tm);const fb=d=>["/communities/",d];function QS(d,y){if(1&d&&(e.j41(0,"a",7),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",8),e.nI1(3,"async"),e.k0s()),2&d){let o;const c=e.XpG();e.Y8G("target",c.linkType===c.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,fb,c.object.id)),e.BMQ("rel",c.linkType===c.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(o=e.bMT(3,8,c.object.logo))?null:o.payload)("limitWidth",!1)}}function ZS(d,y){if(1&d&&(e.j41(0,"span",9),e.nrm(1,"ds-thumbnail",8),e.nI1(2,"async"),e.k0s()),2&d){let o;const c=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(o=e.bMT(2,2,c.object.logo))?null:o.payload)("limitWidth",!1)}}function nm(d,y){if(1&d&&(e.j41(0,"p",10),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(o.object.shortDescription)}}function qS(d,y){if(1&d&&(e.j41(0,"div",11)(1,"a",12),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,fb,o.object.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let p_=class wA extends Fo.C{constructor(y,o){super(y),this.dsoNameService=y,this.linkService=o}set object(y){this._object=y,(0,G.a4)(this._object)&&(0,G.Tn)(this._object.logo)&&this.linkService.resolveLink(this._object,(0,Ws.s)("logo"))}get object(){return this._object}static{this.\u0275fac=function(o){return new(o||wA)(e.rXU(Fs.f),e.rXU(Ti._))}}static{this.\u0275cmp=e.VBU({type:wA,selectors:[["ds-community-grid-element"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:5,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,QS,4,12,"a",1)(2,ZS,3,4,"span",2),e.j41(3,"div",3)(4,"h4",4),e.EFF(5),e.k0s(),e.DNE(6,nm,2,1,"p",5)(7,qS,4,8,"div",6),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(3),e.JRh(c.dsoNameService.getName(c.object)),e.R7$(),e.Y8G("ngIf",c.object.shortDescription),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[f.bT,v.Wk,Co.T,f.Jj,K.h,K.D9]})}};p_=(0,Ue.Cg)([(0,Gn.VK)(Od.E,Vn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ti._])],p_);const mb=["*","*"],f_=()=>({}),gb=(d,y)=>({indexableObject:d,hitHighlights:y});let sm=class vO extends Fo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(vO)))(c||vO)}})()}static{this.\u0275cmp=e.VBU({type:vO,selectors:[["ds-item-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:mb,decls:3,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&(e.NAR(mb),e.j41(0,"ds-item-search-result-grid-element",0),e.SdG(1),e.SdG(2,1),e.k0s()),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,gb,c.object,e.lJ4(3,f_)))("linkType",c.linkType)},dependencies:[za],data:{animation:[Oc]}})}};sm=(0,Ue.Cg)([(0,Gn.VK)("Publication",Vn.n.GridElement),(0,Gn.VK)(id.q,Vn.n.GridElement)],sm);let m_=class yO extends Fo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(yO)))(c||yO)}})()}static{this.\u0275cmp=e.VBU({type:yO,selectors:[["ds-bitstream-list-item"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:1,template:function(o,c){1&o&&e.EFF(0),2&o&&e.SpI(" ",c.object.name," ")}})}};m_=(0,Ue.Cg)([(0,Gn.VK)(w1._,Vn.n.ListElement,xs.o.Bitstream)],m_);var _b=n(49010),mp=n(22978);const im=()=>[];function eP(d,y){if(1&d&&(e.j41(0,"a",5),e.nI1(1,"async"),e.EFF(2),e.k0s()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.lJ4(8,im))("queryParams",e.bMT(1,6,o.queryParams$))("queryParamsHandling","merge"),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(2),e.SpI(" ",o.object.value," ")}}function tP(d,y){if(1&d&&(e.j41(0,"span",6),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.SpI(" ",o.object.value," ")}}let g_=class xA extends Fo.C{constructor(y,o,c){super(y),this.dsoNameService=y,this.paginationService=o,this.routeService=c}ngOnInit(){this.queryParams$=this.getQueryParams()}getQueryParams(){const y=this.paginationService.getPageParam(_b.v0);return this.routeService.getQueryParameterValue(y).pipe((0,xt.T)(o=>({value:this.object.value,authority:this.object.authority?this.object.authority:void 0,startsWith:void 0,[y]:null,[_b.v0+".return"]:o})))}static{this.\u0275fac=function(o){return new(o||xA)(e.rXU(Fs.f),e.rXU(mp.m),e.rXU(kh.v$))}}static{this.\u0275cmp=e.VBU({type:xA,selectors:[["ds-browse-entry-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:3,consts:[[1,"d-flex","flex-row"],["class","lead",3,"target","routerLink","queryParams","queryParamsHandling",4,"ngIf"],["class","lead",4,"ngIf"],[1,"pe-2"],[1,"badge","rounded-pill","bg-secondary","align-self-center","ps-2","pe-2"],[1,"lead",3,"target","routerLink","queryParams","queryParamsHandling"],[1,"lead"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,eP,3,9,"a",1)(2,tP,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.j41(5,"span",4),e.EFF(6),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(4),e.JRh(c.object.count))},dependencies:[f.bT,v.Wk,f.Jj]})}};g_=(0,Ue.Cg)([(0,Gn.VK)(sl,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,mp.m,kh.v$])],g_);let Fu=class EO extends Fo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(EO)))(c||EO)}})()}static{this.\u0275cmp=e.VBU({type:EO,selectors:[["ds-bundle-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:1,template:function(o,c){1&o&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&o&&(e.R7$(),e.JRh(c.dsoNameService.getName(c.object)))},encapsulation:2})}};Fu=(0,Ue.Cg)([(0,Gn.VK)(zO.N,Vn.n.ListElement)],Fu);const nP=d=>[d];function sP(d,y){if(1&d&&(e.j41(0,"a",6),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,nP,"/collections/"+o.object.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.SpI(" ",o.dsoNameService.getName(o.object)," ")}}function iP(d,y){if(1&d&&(e.j41(0,"span",7),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.SpI(" ",o.dsoNameService.getName(o.object)," ")}}function vb(d,y){if(1&d&&(e.j41(0,"span",8),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(o.object.archivedItemsCount)}}function yb(d,y){if(1&d&&(e.j41(0,"div",9),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.SpI(" ",o.object.shortDescription,"\n")}}let __=class CO extends Fo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(CO)))(c||CO)}})()}static{this.\u0275cmp=e.VBU({type:CO,selectors:[["ds-collection-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex","flex-row"],["class","lead",3,"target","routerLink",4,"ngIf"],["class","lead",4,"ngIf"],[1,"pe-2"],["class","badge rounded-pill bg-secondary align-self-center archived-items-lead ps-2 pe-2",4,"ngIf"],["class","text-muted abstract-text",4,"ngIf"],[1,"lead",3,"target","routerLink"],[1,"lead"],[1,"badge","rounded-pill","bg-secondary","align-self-center","archived-items-lead","ps-2","pe-2"],[1,"text-muted","abstract-text"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,sP,2,6,"a",1)(2,iP,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.DNE(5,vb,2,1,"span",4),e.k0s(),e.DNE(6,yb,2,1,"div",5)),2&o&&(e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(3),e.Y8G("ngIf",c.object.archivedItemsCount>=0),e.R7$(),e.Y8G("ngIf",c.object.shortDescription))},dependencies:[f.bT,v.Wk]})}};__=(0,Ue.Cg)([(0,Gn.VK)(ih.p,Vn.n.ListElement)],__);const oP=d=>[d];function Eb(d,y){if(1&d&&(e.j41(0,"a",6),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,oP,"/communities/"+o.object.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.SpI(" ",o.dsoNameService.getName(o.object)," ")}}function rP(d,y){if(1&d&&(e.j41(0,"span",7),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.SpI(" ",o.dsoNameService.getName(o.object)," ")}}function aP(d,y){if(1&d&&(e.j41(0,"span",8),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(o.object.archivedItemsCount)}}function x2(d,y){if(1&d&&(e.j41(0,"div",9),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.SpI(" ",o.object.shortDescription,"\n")}}let Cb=class LA extends Fo.C{constructor(y){super(y),this.dsoNameService=y}static{this.\u0275fac=function(o){return new(o||LA)(e.rXU(Fs.f))}}static{this.\u0275cmp=e.VBU({type:LA,selectors:[["ds-community-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex","flex-row"],["class","lead",3,"target","routerLink",4,"ngIf"],["class","lead",4,"ngIf"],[1,"pe-2"],["class","badge rounded-pill bg-secondary align-self-center archived-items-lead ps-2 pe-2",4,"ngIf"],["class","text-muted abstract-text",4,"ngIf"],[1,"lead",3,"target","routerLink"],[1,"lead"],[1,"badge","rounded-pill","bg-secondary","align-self-center","archived-items-lead","ps-2","pe-2"],[1,"text-muted","abstract-text"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,Eb,2,6,"a",1)(2,rP,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.DNE(5,aP,2,1,"span",4),e.k0s(),e.DNE(6,x2,2,1,"div",5)),2&o&&(e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(3),e.Y8G("ngIf",c.object.archivedItemsCount>=0),e.R7$(),e.Y8G("ngIf",c.object.shortDescription))},dependencies:[f.bT,v.Wk]})}};Cb=(0,Ue.Cg)([(0,Gn.VK)(Od.E,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Fs.f])],Cb);let bb=class bO extends Fo.C{ngOnChanges(){(0,G.a4)(this.object)&&(this.itemSearchResult=Object.assign(new Sa.H,{indexableObject:this.object}))}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(bO)))(c||bO)}})()}static{this.\u0275cmp=e.VBU({type:bO,selectors:[["ds-item-list-element"]],standalone:!0,features:[e.Vt3,e.OA$,e.aNF],decls:1,vars:3,consts:[[3,"object","viewMode","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-listable-object-component-loader",0),2&o&&e.Y8G("object",c.itemSearchResult)("viewMode",c.viewMode)("linkType",c.linkType)},dependencies:[yu.v]})}};bb=(0,Ue.Cg)([(0,Gn.VK)("Publication",Vn.n.ListElement),(0,Gn.VK)(id.q,Vn.n.ListElement)],bb);var L2=n(51805),Db=n(83851);let ju=class DO extends Fo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(DO)))(c||DO)}})()}static{this.\u0275cmp=e.VBU({type:DO,selectors:[["ds-listable-notification-object"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:6,template:function(o,c){1&o&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.ZvI("alert d-block ",null==c.object?null:c.object.notificationType," m-0"),e.R7$(),e.JRh(e.bMT(2,4,null==c.object?null:c.object.message)))},dependencies:[K.h,K.D9]})}};ju=(0,Ue.Cg)([(0,Gn.VK)(L2.t,Vn.n.ListElement),(0,Gn.VK)(Db.t.value,Vn.n.ListElement)],ju);var lP=n(48622);n(56577);const Tb=["*"];function om(d,y){}let Bu=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item","object","badgeContext","showSubmitter","workflowItem"]}getComponentName(){return"ItemListPreviewComponent"}importThemedComponent(o){return n(71931)(`./${o}/app/shared/object-list/my-dspace-result-list-element/item-list-preview/item-list-preview.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,56577))}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-list-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter",workflowItem:"workflowItem"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Tb,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,b){1&c&&(e.NAR(),e.DNE(0,om,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();function cP(d,y){if(1&d&&(e.nrm(0,"ds-item-list-preview",4),e.nI1(1,"async")),2&d){let o;const c=e.XpG().ngVar,b=e.XpG();e.Y8G("item",null==(o=e.bMT(1,4,null==c?null:c.item))?null:o.payload)("object",b.object)("badgeContext",b.badgeContext)("showSubmitter",b.showSubmitter)}}function dP(d,y){if(1&d&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,cP,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&d){const o=y.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-approved-search-result-list-element.title")),e.R7$(2),e.Y8G("ngIf",o)}}let v_=class NA extends Pr.P{constructor(y,o,c,b){super(o,c,b),this.linkService=y,this.truncatableService=o,this.dsoNameService=c,this.appConfig=b,this.showSubmitter=!0,this.badgeContext=xs.o.MyDSpaceApproved}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ws.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,Ws.s)("item"),(0,Ws.s)("submitter")),(0,Ws.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(o){return new(o||NA)(e.rXU(Ti._),e.rXU(Ei.F),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:NA,selectors:[["ds-claimed-approved-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-success","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(o,c){if(1&o&&(e.DNE(0,dP,6,4,"ng-container",0),e.nI1(1,"async")),2&o){let b;e.Y8G("ngVar",null==(b=e.bMT(1,1,c.workflowitemRD$))?null:b.payload)}},dependencies:[f.bT,Bu,f.Jj,K.h,K.D9,il.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};v_=(0,Ue.Cg)([(0,Gn.VK)(lP.t,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Ti._,Ei.F,Fs.f,Object])],v_);var F2=n(83233);function uP(d,y){if(1&d&&(e.nrm(0,"ds-item-list-preview",4),e.nI1(1,"async")),2&d){let o;const c=e.XpG().ngVar,b=e.XpG();e.Y8G("item",null==(o=e.bMT(1,4,null==c?null:c.item))?null:o.payload)("object",b.object)("badgeContext",b.badgeContext)("showSubmitter",b.showSubmitter)}}function Ob(d,y){if(1&d&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,uP,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&d){const o=y.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-declined-search-result-list-element.title")),e.R7$(2),e.Y8G("ngIf",o)}}let y_=class FA extends Pr.P{constructor(y,o,c,b){super(o,c,b),this.linkService=y,this.truncatableService=o,this.dsoNameService=c,this.appConfig=b,this.showSubmitter=!0,this.badgeContext=xs.o.MyDSpaceDeclined}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ws.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,Ws.s)("item"),(0,Ws.s)("submitter")),(0,Ws.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(o){return new(o||FA)(e.rXU(Ti._),e.rXU(Ei.F),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:FA,selectors:[["ds-claimed-declined-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-secondary","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(o,c){if(1&o&&(e.DNE(0,Ob,6,4,"ng-container",0),e.nI1(1,"async")),2&o){let b;e.Y8G("ngVar",null==(b=e.bMT(1,1,c.workflowitemRD$))?null:b.payload)}},dependencies:[f.bT,Bu,f.Jj,K.h,K.D9,il.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};y_=(0,Ue.Cg)([(0,Gn.VK)(F2.q,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Ti._,Ei.F,Fs.f,Object])],y_);var hP=n(66211);function rm(d,y){if(1&d&&(e.nrm(0,"ds-item-list-preview",4),e.nI1(1,"async")),2&d){let o;const c=e.XpG().ngVar,b=e.XpG();e.Y8G("item",null==(o=e.bMT(1,4,null==c?null:c.item))?null:o.payload)("object",b.object)("badgeContext",b.badgeContext)("showSubmitter",b.showSubmitter)}}function pP(d,y){if(1&d&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,rm,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&d){const o=y.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-declined-task-search-result-list-element.title")),e.R7$(2),e.Y8G("ngIf",o)}}let am=class jA extends Pr.P{constructor(y,o,c,b){super(o,c,b),this.linkService=y,this.truncatableService=o,this.dsoNameService=c,this.appConfig=b,this.showSubmitter=!0,this.badgeContext=xs.o.MyDSpaceDeclined}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ws.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,Ws.s)("item"),(0,Ws.s)("submitter")),(0,Ws.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(o){return new(o||jA)(e.rXU(Ti._),e.rXU(Ei.F),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:jA,selectors:[["ds-claimed-declined-task-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-warning","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(o,c){if(1&o&&(e.DNE(0,pP,6,4,"ng-container",0),e.nI1(1,"async")),2&o){let b;e.Y8G("ngVar",null==(b=e.bMT(1,1,c.workflowitemRD$))?null:b.payload)}},dependencies:[f.bT,Bu,f.Jj,K.h,K.D9,il.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};am=(0,Ue.Cg)([(0,Gn.VK)(hP.H,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Ti._,Ei.F,Fs.f,Object])],am);var E_=n(69723);function Mb(d,y){if(1&d&&(e.j41(0,"div",4),e.nrm(1,"div",4),e.j41(2,"div",4)(3,"div",7),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&d){const o=e.XpG().ngVar;e.Y8G("ngClass","row"),e.R7$(),e.Y8G("ngClass","col-2"),e.R7$(),e.Y8G("ngClass","col-10"),e.R7$(2),e.Lme(" ",o," ",e.bMT(5,5,"submission.workflow.tasks.duplicates")," ")}}function fP(d,y){if(1&d&&(e.qex(0),e.DNE(1,Mb,6,7,"div",6),e.bVm()),2&d){const o=y.ngVar;e.R7$(),e.Y8G("ngIf",o>0)}}function Ib(d,y){if(1&d){const o=e.RV6();e.qex(0),e.nrm(1,"ds-item-list-preview",1),e.DNE(2,fP,2,1,"ng-container",2),e.nI1(3,"async"),e.j41(4,"div",3)(5,"div",4)(6,"ds-claimed-task-actions",5),e.bIt("processCompleted",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.reloadedObject.emit(b.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&d){let o;const c=e.XpG();e.R7$(),e.Y8G("item",c.item$.value)("object",c.object)("showSubmitter",c.showSubmitter)("badgeContext",c.badgeContext)("workflowItem",c.workflowitem$.value),e.R7$(),e.Y8G("ngVar",null==(o=e.bMT(3,10,c.duplicates$))?null:o.length),e.R7$(3),e.Y8G("ngClass",c.showThumbnails?"offset-3 offset-md-2 col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("item",c.item$.value)("object",c.dso)("workflowitem",c.workflowitem$.value)}}let C_=class BA extends Pr.P{constructor(y,o,c,b,$,ue,Me){super(o,c,Me),this.linkService=y,this.truncatableService=o,this.dsoNameService=c,this.objectCache=b,this.configService=$,this.duplicateDataService=ue,this.appConfig=Me,this.showSubmitter=!0,this.badgeContext=xs.o.MyDSpaceValidation,this.item$=new _.t(null),this.workflowitem$=new _.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ws.s)("workflowitem",{},(0,Ws.s)("item",{},(0,Ws.s)("bundles")),(0,Ws.s)("submitter")),(0,Ws.s)("action")),this.dso.workflowitem.pipe((0,Bs.qD)(),(0,Qn.Z)(y=>y.hasSucceeded?(this.workflowitem$.next(y.payload),y.payload.item.pipe((0,Bs.qD)())):Br.w),(0,pi.M)(y=>{(0,G.hj)(y)&&y.hasSucceeded&&this.item$.next(y.payload)})).subscribe(),this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.duplicates$=this.initializeDuplicateDetectionIfEnabled()}initializeDuplicateDetectionIfEnabled(){return(0,Ko.z)([this.configService.findByPropertyName("duplicate.enable").pipe((0,Bs.qD)(),(0,xt.T)(y=>y.isSuccess&&y.payload&&"true"===y.payload.values[0])),this.item$.pipe()]).pipe((0,xt.T)(([y,o])=>{if(!y)return[];this.duplicates$=this.duplicateDataService.findDuplicates(o.uuid).pipe((0,Bs.qD)(),(0,xt.T)(c=>{if(c.hasSucceeded&&c.payload.page)return c.payload.page}))}))}ngOnDestroy(){(0,G.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(o){return new(o||BA)(e.rXU(Ti._),e.rXU(Ei.F),e.rXU(Fs.f),e.rXU(kl.$),e.rXU(Oa.ConfigurationDataService),e.rXU(E_.SubmissionDuplicateDataService),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:BA,selectors:[["ds-claimed-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext","workflowItem"],[4,"ngVar"],[1,"row"],[3,"ngClass"],[3,"processCompleted","item","object","workflowitem"],[3,"ngClass",4,"ngIf"],[1,"d-flex","alert","alert-warning","w-100"]],template:function(o,c){1&o&&(e.DNE(0,Ib,7,12,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&o&&e.Y8G("ngIf",e.bMT(1,1,c.workflowitem$)&&e.bMT(2,3,c.item$))},dependencies:[f.bT,Bu,f.YU,Qf,f.Jj,K.h,K.D9,il.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};C_=(0,Ue.Cg)([(0,Gn.VK)(ob.y,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Ti._,Ei.F,Fs.f,kl.$,Oa.ConfigurationDataService,E_.SubmissionDuplicateDataService,Object])],C_);let gp=class TO extends Pr.P{constructor(){super(...arguments),this.badgeContext=xs.o.MyDSpaceArchived}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(TO)))(c||TO)}})()}static{this.\u0275cmp=e.VBU({type:TO,selectors:[["ds-item-search-result-list-element-submission"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:5,consts:[[3,"item","object","badgeContext"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"]],template:function(o,c){1&o&&(e.nrm(0,"ds-item-list-preview",0),e.j41(1,"div",1)(2,"div",2)(3,"ds-item-actions",3),e.bIt("processCompleted",function($){return c.reloadedObject.emit($.reloadedObject)}),e.k0s()()()),2&o&&(e.Y8G("item",c.dso)("object",c.object)("badgeContext",c.badgeContext),e.R7$(2),e.Y8G("ngClass",c.showThumbnails?"offset-3 offset-md-2 col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("object",c.dso))},dependencies:[Bu,f.YU,i_],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};function mP(d,y){if(1&d&&(e.j41(0,"div",4),e.nrm(1,"div",4),e.j41(2,"div",4)(3,"div",7),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&d){const o=e.XpG().ngVar;e.Y8G("ngClass","row"),e.R7$(),e.Y8G("ngClass","col-2"),e.R7$(),e.Y8G("ngClass","col-10"),e.R7$(2),e.Lme(" ",o," ",e.bMT(5,5,"submission.workflow.tasks.duplicates")," ")}}function Sb(d,y){if(1&d&&(e.qex(0),e.DNE(1,mP,6,7,"div",6),e.bVm()),2&d){const o=y.ngVar;e.R7$(),e.Y8G("ngIf",o>0)}}function Pb(d,y){if(1&d){const o=e.RV6();e.qex(0),e.nrm(1,"ds-item-list-preview",1),e.DNE(2,Sb,2,1,"ng-container",2),e.nI1(3,"async"),e.j41(4,"div",3)(5,"div",4)(6,"ds-pool-task-actions",5),e.bIt("processCompleted",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.reloadedObject.emit(b.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&d){let o;const c=e.XpG();e.R7$(),e.Y8G("item",c.item$.value)("object",c.object)("showSubmitter",c.showSubmitter)("badgeContext",c.badgeContext)("workflowItem",c.workflowitem$.value),e.R7$(),e.Y8G("ngVar",null==(o=e.bMT(3,10,c.duplicates$))?null:o.length),e.R7$(3),e.Y8G("ngClass",c.showThumbnails?"offset-3 offset-md-2 col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("item",c.item$.value)("object",c.dso)("workflowitem",c.workflowitem$.value)}}gp=(0,Ue.Cg)([(0,Gn.VK)(Sa.H,Vn.n.ListElement,xs.o.Workspace),(0,Gn.VK)(Sa.H,Vn.n.ListElement,xs.o.Workflow)],gp);let b_=class UA extends Pr.P{constructor(y,o,c,b,$,ue,Me){super(o,c,Me),this.linkService=y,this.truncatableService=o,this.dsoNameService=c,this.objectCache=b,this.configService=$,this.duplicateDataService=ue,this.appConfig=Me,this.showSubmitter=!0,this.badgeContext=xs.o.MyDSpaceWaitingController,this.item$=new _.t(null),this.workflowitem$=new _.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ws.s)("workflowitem",{},(0,Ws.s)("item",{},(0,Ws.s)("bundles")),(0,Ws.s)("submitter")),(0,Ws.s)("action")),this.dso.workflowitem.pipe((0,Bs.qD)(),(0,Qn.Z)(y=>y.hasSucceeded?(this.workflowitem$.next(y.payload),y.payload.item.pipe((0,Bs.qD)())):Br.w),(0,pi.M)(y=>{(0,G.hj)(y)&&y.hasSucceeded&&this.item$.next(y.payload)})).subscribe(),this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.duplicates$=this.initializeDuplicateDetectionIfEnabled()}initializeDuplicateDetectionIfEnabled(){return(0,Ko.z)([this.configService.findByPropertyName("duplicate.enable").pipe((0,Bs.qD)(),(0,xt.T)(y=>y.isSuccess&&y.payload&&"true"===y.payload.values[0])),this.item$.pipe()]).pipe((0,xt.T)(([y,o])=>{if(!y)return[];this.duplicates$=this.duplicateDataService.findDuplicates(o.uuid).pipe((0,Bs.qD)(),(0,xt.T)(c=>{if(c.hasSucceeded&&c.payload.page)return c.payload.page}))}))}ngOnDestroy(){(0,G.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(o){return new(o||UA)(e.rXU(Ti._),e.rXU(Ei.F),e.rXU(Fs.f),e.rXU(kl.$),e.rXU(Oa.ConfigurationDataService),e.rXU(E_.SubmissionDuplicateDataService),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:UA,selectors:[["ds-pool-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext","workflowItem"],[4,"ngVar"],[1,"row"],[3,"ngClass"],["id","actions",3,"processCompleted","item","object","workflowitem"],[3,"ngClass",4,"ngIf"],[1,"d-flex","alert","alert-warning","w-100"]],template:function(o,c){1&o&&(e.DNE(0,Pb,7,12,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&o&&e.Y8G("ngIf",e.bMT(1,1,c.workflowitem$)&&e.bMT(2,3,c.item$))},dependencies:[f.bT,Bu,f.YU,o_,f.Jj,K.h,K.D9,il.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};b_=(0,Ue.Cg)([(0,Gn.VK)(db.d,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Ti._,Ei.F,Fs.f,kl.$,Oa.ConfigurationDataService,E_.SubmissionDuplicateDataService,Object])],b_);var Rb=n(7581);function gP(d,y){if(1&d){const o=e.RV6();e.qex(0),e.nrm(1,"ds-listable-object-component-loader",2),e.nI1(2,"async"),e.j41(3,"div",3)(4,"div",4)(5,"ds-workflowitem-actions",5),e.bIt("processCompleted",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.reloadedObject.emit(b.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&d){const o=e.XpG();e.R7$(),e.Y8G("viewMode",o.ViewModes.ListElement)("object",e.bMT(2,6,o.derivedSearchResult$))("linkType",o.LinkTypes.None)("context",o.badgeContext),e.R7$(3),e.Y8G("ngClass",o.showThumbnails?"offset-3 offset-md-2  col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("object",o.dso)}}function ny(d,y){1&d&&e.nrm(0,"ds-loading",6),2&d&&e.Y8G("showMessage",!1)}let D_=class kA extends Pr.P{constructor(y,o,c,b){super(y,c,b),this.truncatableService=y,this.linkService=o,this.dsoNameService=c,this.appConfig=b,this.LinkTypes=Rb.n,this.ViewModes=Vn.n,this.derivedSearchResult$=new _.t(void 0),this.badgeContext=xs.o.MyDSpaceWorkflow}ngOnInit(){super.ngOnInit(),this.deriveSearchResult(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}deriveSearchResult(){this.linkService.resolveLink(this.object.indexableObject,(0,Ws.s)("item")),this.object.indexableObject.item.pipe((0,Bs.ak)()).subscribe(y=>{new Sa.H,this.derivedSearchResult$.next(Object.assign(new Sa.H,{indexableObject:y,hitHighlights:this.object.hitHighlights}))})}static{this.\u0275fac=function(o){return new(o||kA)(e.rXU(Ei.F),e.rXU(Ti._),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:kA,selectors:[["ds-workflow-item-my-dspace-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:6,consts:[[4,"ngIf"],[3,"showMessage",4,"ngIf"],[3,"viewMode","object","linkType","context"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"],[3,"showMessage"]],template:function(o,c){1&o&&(e.DNE(0,gP,6,8,"ng-container",0),e.nI1(1,"async"),e.DNE(2,ny,1,1,"ds-loading",1),e.nI1(3,"async")),2&o&&(e.Y8G("ngIf",e.bMT(1,2,c.derivedSearchResult$)),e.R7$(2),e.Y8G("ngIf",void 0===e.bMT(3,4,c.derivedSearchResult$)))},dependencies:[f.bT,yu.v,f.YU,r_,Vh.v,f.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};function Ab(d,y){if(1&d){const o=e.RV6();e.qex(0),e.nrm(1,"ds-listable-object-component-loader",2),e.nI1(2,"async"),e.j41(3,"div",3)(4,"div",4)(5,"ds-workspaceitem-actions",5),e.bIt("processCompleted",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.reloadedObject.emit(b.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&d){const o=e.XpG();e.R7$(),e.Y8G("viewMode",o.ViewModes.ListElement)("object",e.bMT(2,6,o.derivedSearchResult$))("linkType",o.LinkTypes.None)("context",o.badgeContext),e.R7$(3),e.Y8G("ngClass",o.showThumbnails?"offset-3 offset-md-2 col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("object",o.dso)}}function _P(d,y){1&d&&e.nrm(0,"ds-loading",6),2&d&&e.Y8G("showMessage",!1)}D_=(0,Ue.Cg)([(0,Gn.VK)(vg.q,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Ei.F,Ti._,Fs.f,Object])],D_);let T_=class VA extends Pr.P{constructor(y,o,c,b){super(y,c,b),this.truncatableService=y,this.linkService=o,this.dsoNameService=c,this.appConfig=b,this.LinkTypes=Rb.n,this.ViewModes=Vn.n,this.derivedSearchResult$=new _.t(void 0),this.badgeContext=xs.o.MyDSpaceWorkspace}ngOnInit(){super.ngOnInit(),this.deriveSearchResult(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}deriveSearchResult(){this.linkService.resolveLink(this.object.indexableObject,(0,Ws.s)("item")),this.object.indexableObject.item.pipe((0,Bs.ak)()).subscribe(y=>{new Sa.H,this.derivedSearchResult$.next(Object.assign(new Sa.H,{indexableObject:y,hitHighlights:this.object.hitHighlights}))})}static{this.\u0275fac=function(o){return new(o||VA)(e.rXU(Ei.F),e.rXU(Ti._),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:VA,selectors:[["ds-workspace-item-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:6,consts:[[4,"ngIf"],[3,"showMessage",4,"ngIf"],[3,"viewMode","object","linkType","context"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"],[3,"showMessage"]],template:function(o,c){1&o&&(e.DNE(0,Ab,6,8,"ng-container",0),e.nI1(1,"async"),e.DNE(2,_P,1,1,"ds-loading",1),e.nI1(3,"async")),2&o&&(e.Y8G("ngIf",e.bMT(1,2,c.derivedSearchResult$)),e.R7$(2),e.Y8G("ngIf",void 0===e.bMT(3,4,c.derivedSearchResult$)))},dependencies:[f.bT,yu.v,f.YU,c_,Vh.v,f.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}","[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}"]})}};function vP(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}T_=(0,Ue.Cg)([(0,Gn.VK)(Lh.I,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Ei.F,Ti._,Fs.f,Object])],T_);let O_=class OO extends hd{getDescription(){return this.firstMetadataValue("dc.description.abstract")}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(OO)))(c||OO)}})()}static{this.\u0275cmp=e.VBU({type:OO,selectors:[["ds-collection-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,vP,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[cr.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};function yP(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}O_=(0,Ue.Cg)([(0,Gn.VK)(wd.A,Vn.n.ListElement,xs.o.SideBarSearchModal),(0,Gn.VK)(wd.A,Vn.n.ListElement,xs.o.SideBarSearchModalCurrent),(0,Gn.VK)(wd.A,Vn.n.ListElement,xs.o.ScopeSelectorModal),(0,Gn.VK)(wd.A,Vn.n.ListElement,xs.o.ScopeSelectorModalCurrent)],O_);let M_=class MO extends hd{getDescription(){return this.firstMetadataValue("dc.description.abstract")}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(MO)))(c||MO)}})()}static{this.\u0275cmp=e.VBU({type:MO,selectors:[["ds-community-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,yP,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[cr.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};function EP(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}M_=(0,Ue.Cg)([(0,Gn.VK)(ad.L,Vn.n.ListElement,xs.o.SideBarSearchModal),(0,Gn.VK)(ad.L,Vn.n.ListElement,xs.o.SideBarSearchModalCurrent),(0,Gn.VK)(ad.L,Vn.n.ListElement,xs.o.ScopeSelectorModal),(0,Gn.VK)(ad.L,Vn.n.ListElement,xs.o.ScopeSelectorModalCurrent)],M_);let I_=class IO extends hd{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(IO)))(c||IO)}})()}static{this.\u0275cmp=e.VBU({type:IO,selectors:[["ds-publication-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,EP,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[cr.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};I_=(0,Ue.Cg)([(0,Gn.VK)("PublicationSearchResult",Vn.n.ListElement,xs.o.SideBarSearchModal),(0,Gn.VK)("PublicationSearchResult",Vn.n.ListElement,xs.o.SideBarSearchModalCurrent),(0,Gn.VK)(Sa.H,Vn.n.ListElement,xs.o.ScopeSelectorModal),(0,Gn.VK)(Sa.H,Vn.n.ListElement,xs.o.ScopeSelectorModalCurrent)],I_);var wb=n(73900);const xb=[m_,g_,Fu,_f,wh,tm,__,gf,vf,O_,Ah,pg,p_,Cb,xd,Ha,M_,B0,Qv,yf,sm,bb,za,Du.k,T0,Eg,xg,Dg,Ou,Pf,ud,wg,Og,Fd,wf,Rg,O0,Af,Pg,Rf,Nf,Ff,ju,$f,Fg,Ra,Uf,zo,Hf,zg,Wf,S0,Pu,Ql,Yo,zf,Xh,Xg,R0,Hg,kg,Yh,Gf,I_,yg,Df,bu,Nd,T_,D_,C_,v_,y_,am,b_,md,em,ia,u_,Nu,gp,hp,n_];let Lb=(()=>{class d{static withEntryComponents(){return{ngModule:d,providers:xb.map(o=>({provide:o}))}}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,v.iI,K.h,cr.W,wb.ThumbnailComponent,$S.BadgesComponent,Sr.F,tc,Mc,pd,c_,o_,Bu,RC,qh,Qf,r_,Jv,Co.T,Jl.V,i_,Au,jf,aE,mg,rn.YN,Yf,Zg,Xf,BC,jC,$0,Qg.r,_f,wh,tm,gf,vf,O_,Ah,pg,p_,xd,Ha,M_,Qv,yf,sm,za,Du.k,T0,Eg,xg,Dg,Ou,Pf,ud,wg,Og,Fd,wf,Rg,O0,Af,Pg,Rf,Nf,Ff,ju,$f,Fg,Ra,Uf,zo,Hf,zg,Wf,S0,Pu,Ql,Yo,zf,Xh,Xg,R0,Hg,kg,Yh,Gf,I_,yg,Df,bu,Nd,T_,D_,C_,v_,y_,am,b_,md,em,ia,u_,Nu,gp,hp,n_]})}}return d})();var Nb=n(61424),Rc=n(19460);let Fb=(()=>{class d{constructor(o,c){this.tokenExtractor=o,this.cookieService=c}intercept(o,c){const b=(o=o.clone({withCredentials:!0})).url.toLowerCase(),$=new Nb.F("/").toString().toLowerCase();if("GET"!==o.method&&"HEAD"!==o.method&&b.startsWith($)){const ue=this.tokenExtractor.getToken();null!==ue&&!o.headers.has(Rc.sA)&&(o=o.clone({headers:o.headers.set(Rc.sA,ue)}))}return c.handle(o).pipe((0,pi.M)(ue=>{ue instanceof le.cS&&ue.headers.has(Rc.oo)&&this.saveXsrfToken(ue.headers.get(Rc.oo))}),(0,Rn.W)(ue=>(ue instanceof le.yz&&ue.headers.has(Rc.oo)&&this.saveXsrfToken(ue.headers.get(Rc.oo)),(0,Qa.$)(ue))))}saveXsrfToken(o){this.cookieService.remove(Rc.dX),this.cookieService.set(Rc.dX,o)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.B3),e.KVO(pu.O))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();n(96756),n(90190);let Bb=(()=>{class d{serialize(o){const{url:c}=o;return{url:c,queryParams:o.root.queryParams}}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();n(9274);const U2={providers:[(0,e.oKB)(_o.xG.forRoot(),q.UN,pr.forRoot(qd),E.md.forRoot(Uc.rd,Uc.wP),Ur.hO.forRoot(),[],Ku,Zd,Lb.withEntryComponents(),Nc.mB.forRoot()),(0,v.lh)(rf,(0,v.Ii)({onSameUrlNavigation:"reload"}),(0,v.oH)({scrollPositionRestoration:"top",anchorScrolling:"enabled"}),(0,v.Zy)(),(0,v.Sn)(v.D7)),{provide:f.kB,useFactory:(d,y)=>{const o=d.querySelector("head > base");return o.setAttribute("href",`${y.ui.nameSpace}${y.ui.nameSpace.endsWith("/")?"":"/"}`),o.getAttribute("href")},deps:[f.qQ,si.vQ]},{provide:E.iK,useFactory:function Vb(d){return d.debug?[...Np,...Xu]:Np},deps:[si.vQ]},{provide:Ur.jr,useClass:Bb},W1,{provide:le.a7,useClass:qm,multi:!0},{provide:le.a7,useClass:eg,multi:!0},{provide:le.a7,useClass:Fb,multi:!0},{provide:le.a7,useClass:tg,multi:!0},{provide:le.a7,useClass:p1,multi:!0},...Ss.A0q,(0,e.EmA)([{provide:sg.Y,useFactory:(d,y)=>A.c.production?new sg.Y(y):new _1(d,y),deps:[g1,le.Qq]}])]};var iy=n(13820),Wb=n(72734),S_=n(43052);let Kb=(()=>{class d extends iy.H{constructor(o,c,b){super(o,c,b)}createShortLivedTokenRequest(o){return(0,Ts.of)(new S_.Qf(this.requestService.generateRequestId(),o))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(xu.Y),e.KVO(Cl.B),e.KVO(Wb.o))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),Hb=(()=>{class d{constructor(o){this.actions$=o,this.reinitDSOMenus=kn(()=>this.actions$.pipe(Xn(Oo.REHYDRATE),(0,xt.T)(()=>new yl.PM)))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var zb=n(41584),Yb=n(43236),Xb=n(47242),Jb=n(40941),lm=n(11568),Aa=n(96393);class TP{constructor(y,o){this.zone=y,this.scheduler=o}schedule(...y){return this.zone.run(()=>this.scheduler.schedule.apply(this.scheduler,y))}now(){return this.scheduler.now()}}class OP{constructor(y,o){this.zone=y,this.scheduler=o}schedule(...y){return this.zone.runOutsideAngular(()=>this.scheduler.schedule.apply(this.scheduler,y))}now(){return this.scheduler.now()}}const MP=[...Object.values(Y.Yk).filter(d=>d!==Y.Yk.UNSET_USER_AS_IDLE),...Object.values(Aa.tO),...Object.values(lm.Is)];function _p(d,y){return y instanceof Error||console.warn("AuthEffects caught non-Error object:",y),(0,Ts.of)(new d(y))}let Qb=(()=>{class d{constructor(o,c,b,$,ue){this.actions$=o,this.zone=c,this.authorizationsService=b,this.authService=$,this.store=ue,this.authenticate$=kn(()=>this.actions$.pipe(Xn(Y.Yk.AUTHENTICATE),(0,ks.n)(Me=>this.authService.authenticate(Me.payload.email,Me.payload.password).pipe((0,T.s)(1),(0,xt.T)(it=>new Y.sy(it.token)),(0,Rn.W)(it=>_p(Y.HQ,it)))))),this.authenticateSuccess$=kn(()=>this.actions$.pipe(Xn(Y.Yk.AUTHENTICATE_SUCCESS),(0,xt.T)(Me=>new Y.ks(Me.payload)))),this.authenticated$=kn(()=>this.actions$.pipe(Xn(Y.Yk.AUTHENTICATED),(0,ks.n)(Me=>this.authService.authenticatedUser(Me.payload).pipe((0,xt.T)(it=>new Y.D9(null!==it,Me.payload,it)),(0,Rn.W)(it=>_p(Y.IV,it)))))),this.authenticatedSuccess$=kn(()=>this.actions$.pipe(Xn(Y.Yk.AUTHENTICATED_SUCCESS),(0,pi.M)(Me=>this.authService.storeToken(Me.payload.authToken)),(0,ks.n)(Me=>this.authService.getRedirectUrl().pipe((0,T.s)(1),(0,xt.T)(it=>[Me,it]))),(0,xt.T)(([Me,it])=>(0,G.a4)(it)?new Y.FD(it):new Y.K0(Me.payload.userHref)))),this.redirectAfterLoginSuccess$=kn(()=>this.actions$.pipe(Xn(Y.Yk.REDIRECT_AFTER_LOGIN_SUCCESS),(0,pi.M)(Me=>{this.authService.clearRedirectUrl(),this.authService.navigateToRedirectUrl(Me.payload)})),{dispatch:!1}),this.authenticatedError$=kn(()=>this.actions$.pipe(Xn(Y.Yk.AUTHENTICATED_ERROR),(0,pi.M)(Me=>this.authService.removeToken())),{dispatch:!1}),this.retrieveAuthenticatedEperson$=kn(()=>this.actions$.pipe(Xn(Y.Yk.RETRIEVE_AUTHENTICATED_EPERSON),(0,ks.n)(Me=>{const it=this.authService.getImpersonateID();let Bt;return Bt=(0,G.a4)(it)?this.authService.retrieveAuthenticatedUserById(it):this.authService.retrieveAuthenticatedUserByHref(Me.payload),Bt.pipe((0,xt.T)(yn=>new Y.JT(yn.id)),(0,Rn.W)(yn=>_p(Y.cU,yn)))}))),this.checkToken$=kn(()=>this.actions$.pipe(Xn(Y.Yk.CHECK_AUTHENTICATION_TOKEN),(0,ks.n)(()=>this.authService.hasValidAuthenticationToken().pipe((0,xt.T)(Me=>new Y.ks(Me)),(0,Rn.W)(Me=>(0,Ts.of)(new Y.e0)))))),this.checkTokenCookie$=kn(()=>this.actions$.pipe(Xn(Y.Yk.CHECK_AUTHENTICATION_TOKEN_COOKIE),(0,ks.n)(()=>this.authService.checkAuthenticationCookie().pipe((0,xt.T)(Me=>Me.authenticated?(this.authService.setExternalAuthStatus(!0),this.authorizationsService.invalidateAuthorizationsRequestCache(),new Y.kZ):new Y.j3(Me)),(0,Rn.W)(Me=>_p(Y.IV,Me)))))),this.retrieveToken$=kn(()=>this.actions$.pipe(Xn(Y.Yk.RETRIEVE_TOKEN),(0,ks.n)(Me=>this.authService.refreshAuthenticationToken(null).pipe((0,T.s)(1),(0,xt.T)(it=>new Y.sy(it)),(0,Rn.W)(it=>_p(Y.HQ,it)))))),this.refreshToken$=kn(()=>this.actions$.pipe(Xn(Y.Yk.REFRESH_TOKEN),(0,ks.n)(Me=>this.authService.refreshAuthenticationToken(Me.payload).pipe((0,xt.T)(it=>new Y.IO(it)),(0,Rn.W)(it=>(0,Ts.of)(new Y.$K)))))),this.refreshTokenSuccess$=kn(()=>this.actions$.pipe(Xn(Y.Yk.REFRESH_TOKEN_SUCCESS),(0,pi.M)(Me=>this.authService.replaceToken(Me.payload))),{dispatch:!1}),this.clearInvalidTokenOnRehydrate$=kn(()=>this.actions$.pipe(Xn(Oo.REHYDRATE),(0,ks.n)(()=>{const Me=this.store.pipe((0,E.Lt)(x.TR)),it=this.store.pipe((0,E.Lt)(x.wR));return(0,Ko.z)([Me,it]).pipe((0,T.s)(1),(0,Wn.p)(([Bt,yn])=>Bt&&!yn),(0,pi.M)(()=>this.authService.removeToken()),(0,pi.M)(()=>this.authService.resetAuthenticationError()))})),{dispatch:!1}),this.invalidateAuthorizationsRequestCache$=kn(()=>this.actions$.pipe(Xn(Oo.REHYDRATE),(0,pi.M)(()=>this.authorizationsService.invalidateAuthorizationsRequestCache())),{dispatch:!1}),this.logOut$=kn(()=>this.actions$.pipe(Xn(Y.Yk.LOG_OUT),(0,ks.n)(()=>(this.authService.stopImpersonating(),this.authService.logout().pipe((0,xt.T)(()=>new Y.G2),(0,Rn.W)(Me=>_p(Y.VU,Me))))))),this.logOutSuccess$=kn(()=>this.actions$.pipe(Xn(Y.Yk.LOG_OUT_SUCCESS),(0,pi.M)(()=>this.authService.removeToken()),(0,pi.M)(()=>this.authService.clearRedirectUrl()),(0,pi.M)(()=>this.authService.refreshAfterLogout())),{dispatch:!1}),this.redirectToLoginTokenExpired$=kn(()=>this.actions$.pipe(Xn(Y.Yk.REDIRECT_TOKEN_EXPIRED),(0,pi.M)(()=>this.authService.removeToken()),(0,pi.M)(()=>this.authService.redirectToLoginWhenTokenExpired())),{dispatch:!1}),this.retrieveMethods$=kn(()=>this.actions$.pipe(Xn(Y.Yk.RETRIEVE_AUTH_METHODS),(0,ks.n)(Me=>this.authService.retrieveAuthMethodsFromAuthStatus(Me.payload).pipe((0,xt.T)(it=>new Y.qY(it)),(0,Rn.W)(()=>(0,Ts.of)(new Y.$X)))))),this.trackIdleness$=kn(()=>this.actions$.pipe((0,Wn.p)(Me=>!MP.includes(Me.type)),(0,ks.n)(()=>(0,zb.O)(A.c.auth.ui.timeUntilIdle,new OP(this.zone,Yb.E))),(0,Jb.Q)(new TP(this.zone,Xb.T)),(0,xt.T)(()=>new Y.es)))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(e.SKi),e.KVO(ac.AuthorizationDataService),e.KVO(p.uR),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var cm=n(98372);let IP=(()=>{class d{constructor(o){this.actions$=o,this.fixTimestampsOnRehydrate=kn(()=>this.actions$.pipe(Xn(Oo.REHYDRATE),(0,xt.T)(()=>new cm.Yp((new Date).getTime()))))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var oy=n(47797),P_=n(43377);let SP=(()=>{class d{applyPatch(o){return this.objectCache.getByHref(o).pipe((0,T.s)(1)).pipe((0,xt.T)(b=>{if((0,G.hj)(b.patches)){const $=[].concat(...b.patches.map(ue=>ue.operations));(0,G.hj)($)&&this.requestService.send(new S_.EA(this.requestService.generateRequestId(),o,$))}return new cm.gL(o)}))}constructor(o,c,b,$){this.actions$=o,this.store=c,this.requestService=b,this.objectCache=$,this.setTimeoutForServerSync=kn(()=>this.actions$.pipe(Xn(jc.G9.ADD),gi(ue=>{const Me=A.c.cache.autoSync,it=Me.timePerMethod[ue.payload.method]||Me.defaultTime;return(0,Ts.of)(new jc.eR(ue.payload.method)).pipe((0,I.c)(1e3*it))}))),this.commitServerSyncBuffer=kn(()=>this.actions$.pipe(Xn(jc.G9.COMMIT),(0,ks.n)(ue=>this.store.pipe((0,E.Lt)(function PP(){return(0,E.Mz)(oy.N,d=>d["cache/syncbuffer"])}()),(0,T.s)(1),(0,ks.n)(Me=>{const it=Me.buffer.filter(Bt=>!(0,G.a4)(ue.payload)||Bt.method===ue.payload).map(Bt=>{if(Bt.method===P_.D.PATCH)return this.applyPatch(Bt.href)});return(0,G.hj)(it)&&(0,G.EA)(it[0])?(0,Ko.z)(...it).pipe((0,ks.n)(Bt=>[...Bt,new jc.a0(ue.payload)])):(0,Ts.of)(new Sm.L)})))))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(E.il),e.KVO(Cl.B),e.KVO(kl.$))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var RP=n(1033),dm=n(16105);let AP=(()=>{class d{constructor(o,c){this.actions$=o,this.notificationsService=c,this.allIdentifier="all",this.actionMap$={},this.notificationActionMap$={all:new ca.B},this.mapLastActions$=kn(()=>this.actions$.pipe(Xn(...Object.values(dm.Ft)),(0,xt.T)(b=>{if((0,G.a4)(b.payload)){const $=b.payload.url;(0,G.Tn)(this.actionMap$[$])&&(this.actionMap$[$]=new ca.B),this.actionMap$[$].next(b)}})),{dispatch:!1}),this.mapLastNotificationActions$=kn(()=>this.actions$.pipe(Xn(...Object.values(lm.Is)),(0,xt.T)(b=>{const $=b.payload.id||b.payload||this.allIdentifier;(0,G.Tn)(this.notificationActionMap$[$])&&(this.notificationActionMap$[$]=new ca.B),this.notificationActionMap$[$].next(b)})),{dispatch:!1}),this.removeAfterDiscardOrReinstateOnUndo$=kn(()=>this.actions$.pipe(Xn(dm.Ft.DISCARD),(0,ks.n)(b=>{const $=b.payload.url,ue=b.payload.notification,Me=ue.options.timeOut;let it=new dm.S3(b.payload.url);return b.payload.discardAll&&(it=new dm.zJ),(0,RP.O)((0,Ts.of)(it).pipe((0,I.c)(Me)),this.actionMap$[$].pipe((0,T.s)(1),(0,pi.M)(()=>{this.notificationsService.remove(ue)}),(0,xt.T)(Bt=>Bt.type===dm.Ft.REINSTATE?new Sm.L:it)),this.notificationActionMap$[ue.id].pipe((0,Wn.p)(Bt=>Bt.type===lm.Is.REMOVE_NOTIFICATION),(0,xt.T)(()=>it)),this.notificationActionMap$[this.allIdentifier].pipe((0,Wn.p)(Bt=>Bt.type===lm.Is.REMOVE_ALL_NOTIFICATIONS),(0,xt.T)(()=>it)))})))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(Es.I))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Zb=n(28580),qb=n(10524);let um=(()=>{class d{constructor(){this.tokenInitialized$=new _.t(!1)}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),eD=(()=>{class d{constructor(o,c,b,$,ue){this.actions$=o,this.restApi=c,this.injector=b,this.requestService=$,this.xsrfService=ue,this.execute=kn(()=>this.actions$.pipe(Xn(Aa.tO.EXECUTE),(0,Qn.Z)(Me=>this.requestService.getByUUID(Me.payload).pipe((0,T.s)(1))),(0,Wn.p)(Me=>(0,G.a4)(Me)),(0,R.E)(this.xsrfService.tokenInitialized$),(0,Wn.p)(([Me,it])=>Me.request.method===P_.D.GET||!0===it),(0,xt.T)(([Me,it])=>Me.request),(0,Qn.Z)(Me=>{let it=Me.body;return(0,G.hj)(Me.body)&&!Me.isMultipart&&(it=new Zb.T((0,ii.Qt)(Me.body.type)).serialize(Me.body)),this.restApi.request(Me.method,Me.href,it,Me.options,Me.isMultipart).pipe((0,xt.T)(Bt=>this.injector.get(Me.getResponseParser()).parse(Me,Bt)),(0,xt.T)(Bt=>new Aa.Di(Me.uuid,Bt.statusCode,Bt.link,Bt.unCacheableObject)),(0,Rn.W)(Bt=>{if(Bt instanceof qb.G)return[new Aa.Gl(Me.uuid,Bt.statusCode,Bt.message)];throw Bt}))}))),this.fixTimestampsOnRehydrate=kn(()=>this.actions$.pipe(Xn(Oo.REHYDRATE),(0,xt.T)(()=>new Aa.cX((new Date).getTime()))))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(sg.Y),e.KVO(e.zZn),e.KVO(Cl.B),e.KVO(um))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Vd=n(71442),R_=n(69227),hm=n(51672);let tD=(()=>{class d{constructor(o,c){this.actions$=o,this.store=c,this.addObject$=kn(()=>this.actions$.pipe(Xn(cm.db.ADD),(0,Wn.p)(b=>(0,G.a4)(b.payload.objectToCache)&&(0,G.a4)(b.payload.objectToCache.uuid)),(0,xt.T)(b=>new Vd.Lv(hm.U.OBJECT,b.payload.objectToCache.uuid,b.payload.objectToCache._links.self.href)))),this.addAlternativeObjectLink$=kn(()=>this.actions$.pipe(Xn(cm.db.ADD),(0,xt.T)(b=>{const $=b.payload.alternativeLink,ue=(0,G.a4)(b.payload.objectToCache?._links?.self)?b.payload.objectToCache._links.self.href:$;return(0,G.a4)($)&&$!==ue?new Vd.Lv(hm.U.ALTERNATIVE_OBJECT_LINK,$,ue):new Sm.L}))),this.removeObject$=kn(()=>this.actions$.pipe(Xn(cm.db.REMOVE),(0,xt.T)(b=>new Vd.H9(hm.U.OBJECT,b.payload)))),this.addRequest$=kn(()=>this.actions$.pipe(Xn(Aa.tO.CONFIGURE),(0,Wn.p)(b=>b.payload.method===P_.D.GET),(0,ks.n)(b=>{const $=(0,R_.tJ)(b.payload.href);return this.store.pipe((0,E.Lt)((0,R_.Qc)($)),(0,T.s)(1),(0,xt.T)(ue=>[b,ue]))}),(0,ks.n)(([b,$])=>{let ue=[];return(0,G.a4)($)&&(ue=[new Aa.HL($)]),ue=[...ue,new Vd.Lv(hm.U.REQUEST,(0,R_.tJ)(b.payload.href),b.payload.uuid)],ue})))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),nD=(()=>{class d{constructor(o){this.actions$=o,this.commit$=kn(()=>this.actions$.pipe(Xn(Lr.Ce.COMMIT_JSON_PATCH_OPERATIONS),(0,xt.T)(c=>new Lr.pg(c.payload.resourceType,c.payload.resourceId))))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const ry={ROUTE_UPDATE:(0,Ed.N)("dspace/core/router/ROUTE_UPDATE")};class wP{constructor(){this.type=ry.ROUTE_UPDATE}}let xP=(()=>{class d{constructor(o,c){this.actions$=o,this.router=c,this.routeChange$=kn(()=>this.actions$.pipe(Xn(Ur.hr),function sD(){return(0,Wi.N)((d,y)=>{let o,c=!1;d.subscribe((0,kt._)(y,b=>{const $=o;o=b,c&&y.next([$,b]),c=!0}))})}(),(0,xt.T)(b=>b.map($=>this.router.parseUrl($.payload.routerState.url).root.children.primary.segments.map(Me=>Me.path).join("/"))),(0,Wn.p)(b=>b[0]!==b[1]),(0,xt.T)(()=>new wP)))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(v.Ix))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var nc=n(61905);const ly=[eD,IP,tD,Qb,nD,SP,AP,(()=>{class d{constructor(o,c){this.actions$=o,this.service=c,this.routeChange$=kn(()=>this.actions$.pipe(Xn(ry.ROUTE_UPDATE),(0,xt.T)(()=>new nc.sV))),this.afterResetChange$=kn(()=>this.actions$.pipe(Xn(nc.HH.RESET),(0,pi.M)(()=>this.service.setCurrentRouteInfo())),{dispatch:!1})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(kh.v$))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),xP,Hb];var pm=n(29679);const cy={selectedBitstreamFormats:[]},oD={authenticated:!1,loaded:!1,blocking:!0,loading:!1,authMethods:[],externalAuth:!1,idle:!1};var aD=n(87891);const dy={buffer:[]};var hy=n(66898);const py=Object.create(null);var uD=n(23274);const kP=[],A_=Object.create(null);var vp=function(d){return d.test="test",d.remove="remove",d.add="add",d.replace="replace",d.move="move",d.copy="copy",d}(vp||{});const gD=Object.create(null);function w_(d){return{operation:d,timeCompleted:(new Date).getTime()}}const gy={ADD:(0,Ed.N)("dspace/meta-tag/ADD"),CLEAR:(0,Ed.N)("dspace/meta-tag/CLEAR")};class V2{constructor(y){this.type=gy.ADD,this.payload=y}}class bD{constructor(){this.type=gy.CLEAR}}const _y={tagsInUse:[]},Ep={queryParams:{},params:{}};function OD(d,y,o){const c=d[o],$=[...c[y.payload.key]||[],y.payload.value],ue=Object.assign({},c,{[y.payload.key]:$});return Object.assign({},d,{[o]:ue})}function MD(d,y,o){const c=(0,G.hj)(y.payload)?{[o]:{[y.payload.key]:y.payload.value}}:{};return Object.assign({},d,c)}function fa(d,y,o){const b=Object.assign({},d[o],{[y.payload.key]:y.payload.value});return Object.assign({},d,{[o]:b})}const Cp={bitstreamFormats:function iD(d=cy,y){switch(y.type){case pm.Sh.SELECT_FORMAT:return Object.assign({},d,{selectedBitstreamFormats:[...d.selectedBitstreamFormats,y.bitstreamFormat]});case pm.Sh.DESELECT_FORMAT:return Object.assign({},d,{selectedBitstreamFormats:d.selectedBitstreamFormats.filter(o=>o!==y.bitstreamFormat)});case pm.Sh.DESELECT_ALL_FORMAT:return Object.assign({},d,{selectedBitstreamFormats:[]});default:return d}},"cache/object":aD.gT,"cache/syncbuffer":function lD(d=dy,y){switch(y.type){case jc.G9.ADD:return function uy(d,y){const o=y.payload;return(0,G.Tn)(d.buffer.find(c=>c.href===o.href&&c.method===o.method))?Object.assign({},d,{buffer:d.buffer.concat(o)}):d}(d,y);case jc.G9.EMPTY:return function NP(d,y){let o=[];return(0,G.a4)(y.payload)&&(o=d.buffer.filter(c=>c.method!==y.payload)),Object.assign({},d,{buffer:o})}(d,y);default:return d}},"cache/object-updates":hy.O,"data/request":function cD(d=py,y){switch(y.type){case Aa.tO.CONFIGURE:return function fy(d,y){return Object.assign({},d,{[y.payload.uuid]:{request:y.payload,state:Yr.zE.RequestPending,response:null,lastUpdated:y.lastUpdated}})}(d,y);case Aa.tO.EXECUTE:return function FP(d,y){return(0,G.kZ)(d[y.payload])?d:Object.assign({},d,{[y.payload]:Object.assign({},d[y.payload],{state:Yr.zE.ResponsePending,lastUpdated:y.lastUpdated})})}(d,y);case Aa.tO.SUCCESS:return function jP(d,y){const o=d[y.payload.uuid];return(0,G.kZ)(o)?d:Object.assign({},d,{[y.payload.uuid]:Object.assign({},o,{state:(0,Yr.QO)(o.state)?Yr.zE.SuccessStale:Yr.zE.Success,response:{timeCompleted:y.payload.timeCompleted,lastUpdated:y.payload.timeCompleted,statusCode:y.payload.statusCode,payloadLink:y.payload.link,unCacheableObject:y.payload.unCacheableObject,errorMessage:null},lastUpdated:y.lastUpdated})})}(d,y);case Aa.tO.ERROR:return function my(d,y){const o=d[y.payload.uuid];return(0,G.kZ)(o)?d:Object.assign({},d,{[y.payload.uuid]:Object.assign({},o,{state:(0,Yr.QO)(o.state)?Yr.zE.ErrorStale:Yr.zE.Error,response:{timeCompleted:y.payload.timeCompleted,lastUpdated:y.payload.timeCompleted,statusCode:y.payload.statusCode,payloadLink:null,errorMessage:y.payload.errorMessage},lastUpdated:y.lastUpdated})})}(d,y);case Aa.tO.STALE:return function BP(d,y){const o=d[y.payload.uuid];if((0,G.kZ)(o)||(0,Yr.QO)(o.state)||(0,Yr.DB)(o.state))return d;{let c;return c=(0,Yr.vT)(o.state)?Yr.zE.ResponsePendingStale:(0,Yr.yO)(o.state)?Yr.zE.SuccessStale:Yr.zE.ErrorStale,Object.assign({},d,{[y.payload.uuid]:Object.assign({},o,{state:c,lastUpdated:y.lastUpdated})})}}(d,y);case Aa.tO.RESET_TIMESTAMPS:return function dD(d,y){const o=Object.create(null);return Object.keys(d).forEach(c=>{o[c]=Object.assign({},d[c],{response:Object.assign({},d[c].response,{timeCompleted:y.payload}),lastUpdated:y.payload})}),o}(d,y);case Aa.tO.REMOVE:return function UP(d,y){const o=Object.assign({},d);return o[y.uuid]=null,o}(d,y);default:return d}},history:function VP(d=kP,y){return y.type===uD.i.ADD_TO_HISTORY?[...d,y.payload.url]:d},index:function hD(d=A_,y){switch(y.type){case Vd.WJ.ADD:return function pD(d,y){const c=Object.assign({},d[y.payload.name],{[y.payload.key]:y.payload.value});return Object.assign({},d,{[y.payload.name]:c})}(d,y);case Vd.WJ.REMOVE_BY_VALUE:return function fD(d,y){const o=d[y.payload.name],c=Object.create(null);for(const b in o)o[b]!==y.payload.value&&(c[b]=o[b]);return Object.assign({},d,{[y.payload.name]:c})}(d,y);case Vd.WJ.REMOVE_BY_SUBSTRING:return function mD(d,y){const o=d[y.payload.name],c=Object.create(null);for(const b in o)b.indexOf(y.payload.value)<0&&(c[b]=o[b]);return Object.assign({},d,{[y.payload.name]:c})}(d,y);default:return d}},auth:function rD(d=oD,y){switch(y.type){case Y.Yk.AUTHENTICATE:return Object.assign({},d,{error:void 0,loading:!0,info:void 0});case Y.Yk.AUTHENTICATED:return Object.assign({},d,{loading:!0,blocking:!0});case Y.Yk.CHECK_AUTHENTICATION_TOKEN:case Y.Yk.CHECK_AUTHENTICATION_TOKEN_COOKIE:return Object.assign({},d,{loading:!0});case Y.Yk.SET_AUTH_COOKIE_STATUS:return Object.assign({},d,{externalAuth:y.payload});case Y.Yk.AUTHENTICATED_ERROR:case Y.Yk.RETRIEVE_AUTHENTICATED_EPERSON_ERROR:return Object.assign({},d,{authenticated:!1,authToken:void 0,error:y.payload.message,loaded:!0,blocking:!1,loading:!1});case Y.Yk.AUTHENTICATED_SUCCESS:return Object.assign({},d,{authenticated:!0,authToken:y.payload.authToken});case Y.Yk.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS:return Object.assign({},d,{loaded:!0,error:void 0,loading:!1,blocking:!1,info:void 0,userId:y.payload});case Y.Yk.AUTHENTICATE_ERROR:return Object.assign({},d,{authenticated:!1,authToken:void 0,error:y.payload.message,blocking:!1,loading:!1});case Y.Yk.AUTHENTICATE_SUCCESS:case Y.Yk.LOG_OUT:return d;case Y.Yk.LOG_OUT_ERROR:return Object.assign({},d,{authenticated:!0,error:y.payload.message});case Y.Yk.REFRESH_TOKEN_ERROR:return Object.assign({},d,{authenticated:!1,authToken:void 0,error:void 0,loaded:!1,blocking:!1,loading:!1,info:void 0,refreshing:!1,userId:void 0});case Y.Yk.LOG_OUT_SUCCESS:return Object.assign({},d,{authenticated:!1,authToken:void 0,error:void 0,loaded:!1,blocking:!0,loading:!0,info:void 0,refreshing:!1,userId:void 0});case Y.Yk.REDIRECT_AUTHENTICATION_REQUIRED:case Y.Yk.REDIRECT_TOKEN_EXPIRED:return Object.assign({},d,{authenticated:!1,authToken:void 0,loaded:!1,blocking:!1,loading:!1,info:y.payload,userId:void 0});case Y.Yk.REFRESH_TOKEN:return Object.assign({},d,{refreshing:!0});case Y.Yk.REFRESH_TOKEN_SUCCESS:return Object.assign({},d,{authToken:y.payload,refreshing:!1,blocking:!1});case Y.Yk.ADD_MESSAGE:return Object.assign({},d,{info:y.payload});case Y.Yk.RESET_MESSAGES:return Object.assign({},d,{error:void 0,info:void 0});case Y.Yk.RETRIEVE_AUTH_METHODS:return Object.assign({},d,{loading:!0});case Y.Yk.RETRIEVE_AUTH_METHODS_SUCCESS:return Object.assign({},d,{loading:!1,blocking:!1,authMethods:y.payload});case Y.Yk.RETRIEVE_AUTH_METHODS_ERROR:return Object.assign({},d,{loading:!1,blocking:!1,authMethods:[new af.q(uu.Q.Password,0)]});case Y.Yk.SET_REDIRECT_URL:return Object.assign({},d,{redirectUrl:y.payload});case Y.Yk.REDIRECT_AFTER_LOGIN_SUCCESS:return Object.assign({},d,{loading:!0,blocking:!0});case Y.Yk.SET_USER_AS_IDLE:return Object.assign({},d,{idle:!0});case Y.Yk.UNSET_USER_AS_IDLE:return Object.assign({},d,{idle:!1});case Oo.REHYDRATE:return Object.assign({},d,{blocking:!0});default:return d}},"json/patch":function $P(d=gD,y){switch(y.type){case Lr.Ce.COMMIT_JSON_PATCH_OPERATIONS:return function KP(d,y){return(0,G.a4)(d[y.payload.resourceType])&&d[y.payload.resourceType].commitPending?Object.assign({},d,{[y.payload.resourceType]:Object.assign({},d[y.payload.resourceType],{commitPending:!1})}):d}(d,y);case Lr.Ce.FLUSH_JSON_PATCH_OPERATIONS:return function yD(d,y){if((0,G.a4)(d[y.payload.resourceType])){let o;return(0,G.EA)(y.payload.resourceId)?o=(0,G.a4)(d[y.payload.resourceType].children)&&(0,G.a4)(d[y.payload.resourceType].children[y.payload.resourceId])?Object.assign({},d[y.payload.resourceType].children,{[y.payload.resourceId]:{body:d[y.payload.resourceType].children[y.payload.resourceId].body.filter(c=>c.timeCompleted>d[y.payload.resourceType].transactionStartTime)}}):d[y.payload.resourceType].children:(o=d[y.payload.resourceType].children,Object.keys(o).forEach(c=>{o=Object.assign({},o,{[c]:{body:o[c].body.filter(b=>b.timeCompleted>d[y.payload.resourceType].transactionStartTime)}})})),Object.assign({},d,{[y.payload.resourceType]:Object.assign({},d[y.payload.resourceType],{children:o,transactionStartTime:null})})}return d}(d,y);case Lr.Ce.NEW_JSON_PATCH_ADD_OPERATION:case Lr.Ce.NEW_JSON_PATCH_COPY_OPERATION:case Lr.Ce.NEW_JSON_PATCH_MOVE_OPERATION:case Lr.Ce.NEW_JSON_PATCH_REMOVE_OPERATION:case Lr.Ce.NEW_JSON_PATCH_REPLACE_OPERATION:return function yp(d,y){const o=Object.assign({},d),c=function vD(d,y,o){return(0,G.a4)(d[y])&&(0,G.a4)(d[y].children)&&(0,G.a4)(d[y].children[o])&&(0,G.hj)(d[y].children[o].body)}(o,y.payload.resourceType,y.payload.resourceId)?o[y.payload.resourceType].children[y.payload.resourceId].body:Array.of(),b=function ED(d,y,o,c,b){const $=Array.from(d);switch(y){case Lr.Ce.NEW_JSON_PATCH_ADD_OPERATION:$.push(w_({op:vp.add,path:o,value:c}));break;case Lr.Ce.NEW_JSON_PATCH_REPLACE_OPERATION:$.push(w_({op:vp.replace,path:o,value:c}));break;case Lr.Ce.NEW_JSON_PATCH_REMOVE_OPERATION:$.push(w_({op:vp.remove,path:o}));break;case Lr.Ce.NEW_JSON_PATCH_MOVE_OPERATION:$.push(w_({op:vp.move,from:b,path:o}))}return function CD(d){const y=new Map;for(let o=d.length-1;o>=0;o--){const c=d[o].operation,b=`${c.op}-${c.path}`;y.has(b)?y.get(b)-1===o&&(d.splice(o,1),y.set(b,o)):y.set(b,o)}return d}($)}(c,y.type,y.payload.path,(0,G.a4)(y.payload.value)?y.payload.value:null,(0,G.a4)(y.payload.from)?y.payload.from:null);return(0,G.a4)(o[y.payload.resourceType])&&(0,G.a4)(o[y.payload.resourceType].children)?Object.assign({},d,{[y.payload.resourceType]:Object.assign({},d[y.payload.resourceType],{children:Object.assign({},d[y.payload.resourceType].children,{[y.payload.resourceId]:{body:b}}),commitPending:!!(0,G.EA)(d[y.payload.resourceType].commitPending)&&d[y.payload.resourceType].commitPending})}):Object.assign({},d,{[y.payload.resourceType]:Object.assign({},{children:{[y.payload.resourceId]:{body:b}},transactionStartTime:null,commitPending:!1})})}(d,y);case Lr.Ce.ROLLBACK_JSON_PATCH_OPERATIONS:return function HP(d,y){return(0,G.a4)(d[y.payload.resourceType])&&d[y.payload.resourceType].commitPending?Object.assign({},d,{[y.payload.resourceType]:Object.assign({},d[y.payload.resourceType],{transactionStartTime:null,commitPending:!1})}):d}(d,y);case Lr.Ce.START_TRANSACTION_JSON_PATCH_OPERATIONS:return function WP(d,y){return(0,G.a4)(d[y.payload.resourceType])&&(0,G.kZ)(d[y.payload.resourceType].transactionStartTime)?Object.assign({},d,{[y.payload.resourceType]:Object.assign({},d[y.payload.resourceType],{transactionStartTime:y.payload.startTime,commitPending:!0})}):d}(d,y);case Lr.Ce.DELETE_PENDING_JSON_PATCH_OPERATIONS:return null;case Lr.Ce.FLUSH_JSON_PATCH_OPERATION:return function _D(d,y){const o=y.payload;if(d[o.resourceType]&&d[o.resourceType].children){const c=d[o.resourceType].children[o.resourceId].body,b=c.filter(Me=>Me.operation.path===o.path)[0],$=c.indexOf(b),ue=[...c];return ue.splice($,1),Object.assign({},d,{[y.payload.resourceType]:Object.assign({},{children:{[y.payload.resourceId]:{body:ue}}})})}return d}(d,y);default:return d}},metaTag:(d=_y,y)=>{switch(y.type){case gy.ADD:return((d,y)=>({tagsInUse:[...d.tagsInUse,y.payload]}))(d,y);case gy.CLEAR:return Object.assign({},_y);default:return d}},route:function TD(d=Ep,y){switch(y.type){case nc.HH.RESET:return Ep;case nc.HH.SET_PARAMETERS:return MD(d,y,"params");case nc.HH.SET_QUERY_PARAMETERS:return MD(d,y,"queryParams");case nc.HH.ADD_PARAMETER:return OD(d,y,"params");case nc.HH.ADD_QUERY_PARAMETER:return OD(d,y,"queryParams");case nc.HH.SET_PARAMETER:return fa(d,y,"params");case nc.HH.SET_QUERY_PARAMETER:return fa(d,y,"queryParams");default:return d}}};var ID=n(88091),x_=n(59752);let G2=(()=>{class d extends ID.f{constructor(o,c,b){super(),this.document=o,this.routeService=c,this.hardRedirectService=b}getReferrer(){return this.routeService.getHistory().pipe((0,xt.T)(o=>{const c=o[o.length-1];if((0,G.Tn)(c)||o.every(b=>b===c))return this.document.referrer;{const $=[...o].reverse().find(ue=>ue!==c);return new Pl.t(this.hardRedirectService.getCurrentOrigin(),$).toString()}}))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(f.qQ),e.KVO(kh.v$),e.KVO(x_.$))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const XP=new e.nKC("Location");let JP=(()=>{class d extends x_.${constructor(o){super(),this.location=o}redirect(o){this.location.replace(o)}getCurrentRoute(){return this.location.pathname+this.location.search}getCurrentOrigin(){return this.location.origin}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(XP))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),vy=(()=>{class d extends f0{constructor(o,c){super(),this._document=o,this._window=c,this.mathJaxOptions={tex:{inlineMath:[["$","$"],["$$","$$"],["\\(","\\)"]]},svg:{fontCache:"global"},startup:{typeset:!1}},this.mathJax={source:"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js",id:"MathJaxScript"},this.mathJaxFallback={source:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-chtml.min.js",id:"MathJaxBackupScript"},this.isReady$=new _.t(!1),this.registerMathJaxAsync(this.mathJax).then(()=>this.isReady$.next(!0)).catch(b=>{this.registerMathJaxAsync(this.mathJaxFallback).then(()=>this.isReady$.next(!0))})}registerMathJaxAsync(o){var c=this;return(0,m.A)(function*(){return A.c.markdown.mathjax?new Promise((b,$)=>{const ue=c._document.createElement("script");ue.type="text/javascript",ue.text=`MathJax = ${JSON.stringify(c.mathJaxOptions)};`,c._document.head.appendChild(ue);const Me=c._document.createElement("script");Me.id=o.id,Me.type="text/javascript",Me.src=o.source,Me.crossOrigin="anonymous",Me.async=!0,Me.onload=()=>b(),Me.onerror=it=>$(it),c._document.head.appendChild(Me)}):Promise.resolve()})()}ready(){return this.isReady$}render(o){if(A.c.markdown.mathjax)return window.MathJax.typesetPromise([o])}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(f.qQ),e.KVO(O.lc))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),QP=(()=>{class d extends um{initXSRFToken(o){return()=>new Promise(c=>{o.get(new Nb.F("/security/csrf").toString(),void 0).pipe((0,T.s)(1)).subscribe(()=>{this.tokenInitialized$.next(!0)}),c()})}static{this.\u0275fac=(()=>{let o;return function(b){return(o||(o=e.xGo(d)))(b||d)}})()}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var SD=n(84418),PD=n.n(SD),ZP=n(61889),qP=n.n(ZP),yy=n(74449),L_=n(34826),N_=n(49844);const gm="orejime-anonymous",RD="google-analytics",Ey="dspace.agreements.cookies",Cy=new e.nKC("Lazily loaded Orejime",{providedIn:"root",factory:(d=(0,m.A)(function*(){return yield n.e(4691).then(n.t.bind(n,34691,23))}),function(){return d.apply(this,arguments)})});var d;let $2=(()=>{class d extends N_.B{constructor(o,c,b,$,ue,Me,it){super(),this._window=o,this.translateService=c,this.authService=b,this.ePersonService=$,this.configService=ue,this.cookieService=Me,this.lazyOrejime=it,this.GOOGLE_ANALYTICS_KEY="google.analytics.key",this.REGISTRATION_VERIFICATION_ENABLED_KEY="registration.verification.enabled",this.GOOGLE_ANALYTICS_SERVICE_NAME="google-analytics",this.orejimeConfig=PD()(function AD(d){return{cookieName:gm,privacyPolicy:"./info/privacy",cookieExpiresAfterDays:365,lang:"zz",appElement:"ds-app",stringifyCookie:y=>"string"==typeof y?y:JSON.stringify(y),parseCookie:y=>"string"==typeof y?(y=decodeURIComponent(y),JSON.parse(y)):y,translations:{zz:{acceptAll:"cookies.consent.accept-all",acceptSelected:"cookies.consent.accept-selected",close:"cookies.consent.close",consentModal:{title:"cookies.consent.content-modal.title",description:"cookies.consent.content-modal.description",privacyPolicy:{name:"cookies.consent.content-modal.privacy-policy.name",text:"cookies.consent.content-modal.privacy-policy.text"}},consentNotice:{changeDescription:"cookies.consent.update",description:"cookies.consent.content-notice.description",learnMore:"cookies.consent.content-notice.learnMore"},decline:"cookies.consent.decline",declineAll:"cookies.consent.decline-all",accept:"cookies.consent.ok",save:"cookies.consent.save",purposes:{},app:{optOut:{description:"cookies.consent.app.opt-out.description",title:"cookies.consent.app.opt-out.title"},purpose:"cookies.consent.app.purpose",purposes:"cookies.consent.app.purposes",required:{title:"cookies.consent.app.required.title",description:"cookies.consent.app.required.description"}}}},apps:[{name:"authentication",purposes:["functional"],required:!0,cookies:[lf.R,p.of,p.kL]},{name:"preferences",purposes:["functional"],required:!0,cookies:[hu.m4]},{name:"acknowledgement",purposes:["functional"],required:!0,cookies:[[/^orejime-.+$/],"dsHasAgreedEndUser"]},{name:RD,purposes:["statistical"],required:!1,cookies:[[/^_ga.?$/],[/^_gid$/]],onlyOnce:!0},{name:L_.BA,purposes:["registration-password-recovery"],required:!1,cookies:[L_.oL],callback:y=>{d?.nativeWindow.refreshCaptchaScript?.call()},onlyOnce:!0}]}}(this._window))}initialize(){A.c.info.enablePrivacyStatement||(this.orejimeConfig.translations.zz.consentModal.privacyPolicy.text="cookies.consent.content-modal.no-privacy-policy.text");const o=this.configService.findByPropertyName(this.GOOGLE_ANALYTICS_KEY).pipe((0,Bs.qD)(),(0,xt.T)(Me=>!Me.hasSucceeded||!Me.payload||(0,G.Im)(Me.payload.values))),c=this.configService.findByPropertyName(this.REGISTRATION_VERIFICATION_ENABLED_KEY).pipe((0,Bs.qD)(),(0,xt.T)(Me=>!Me.hasSucceeded||!Me.payload||(0,G.Im)(Me.payload.values)||"true"!==Me.payload.values[0].toLowerCase())),b=(0,Ko.z)([o,c]).pipe((0,xt.T)(([Me,it])=>{const Bt=[];return Me&&Bt.push(this.GOOGLE_ANALYTICS_SERVICE_NAME),it&&Bt.push(L_.BA),Bt}));this.translateService.setDefaultLang(A.c.defaultLanguage);const $=this.getUser$(),ue=this.translateService.get("loading.default").pipe((0,T.s)(1));(0,Ko.z)([$,b,ue]).subscribe(([Me,it,Bt])=>{Me=PD()(Me),(0,G.a4)(Me)&&this.initializeUser(Me),this.addAppMessages(),this.createCategories(),this.translateConfiguration(),this.orejimeConfig.apps=this.filterConfigApps(it),this.lazyOrejime.then(({init:yn})=>{this.orejimeInstance=yn(this.orejimeConfig)})})}getSavedPreferences(){return this.getUser$().pipe((0,xt.T)(o=>{let c;return c=(0,G.Im)(o)?gm:this.getStorageName(o.uuid),this.cookieService.get(c)}))}initializeUser(o){this.orejimeConfig.callback=qP()((b,$)=>this.updateSettingsForUsers(o),300),this.orejimeConfig.cookieName=this.getStorageName(o.uuid);const c=this.cookieService.get(gm);(0,G.a4)(this.getSettingsForUser(o))?this.restoreSettingsForUsers(o):(0,G.a4)(c)&&(this.cookieService.set(this.getStorageName(o.uuid),c),this.updateSettingsForUsers(o))}getUser$(){return this.authService.isAuthenticated().pipe((0,T.s)(1),(0,ks.n)(o=>o?this.authService.getAuthenticatedUserFromStore():(0,Ts.of)(void 0)),(0,T.s)(1))}getTitleTranslation(o){return"cookies.consent.app.title."+o}getDescriptionTranslation(o){return"cookies.consent.app.description."+o}getPurposeTranslation(o){return"cookies.consent.purpose."+o}showSettings(){this.orejimeInstance.show()}addAppMessages(){this.orejimeConfig.apps.forEach(o=>{this.orejimeConfig.translations.zz[o.name]={title:this.getTitleTranslation(o.name),description:this.getDescriptionTranslation(o.name)},o.purposes.forEach(c=>{this.orejimeConfig.translations.zz.purposes[c]=this.getPurposeTranslation(c)})})}translateConfiguration(){this.translateService.setDefaultLang(A.c.defaultLanguage),this.translate(this.orejimeConfig.translations.zz)}createCategories(){this.orejimeConfig.categories=this.orejimeConfig.apps.reduce((o,c)=>{let b=o.find($=>$.name===c.purposes[0]);return b||(b={name:c.purposes[0],title:this.translateService.instant(this.getPurposeTranslation(c.purposes[0])),apps:[]},o.push(b)),b.apps.push(c.name),o},[])}translate(o){return"string"==typeof o?this.translateService.instant(o):(Object.entries(o).forEach(([c,b])=>{o[c]=this.translate(b)}),o)}getSettingsForUser(o){const c=o.firstMetadataValue(Ey);return(0,G.a4)(c)?JSON.parse(c):void 0}setSettingsForUser(o,c){(0,G.hj)(c)?o.setMetadata(Ey,void 0,JSON.stringify(c)):o.removeMetadata(Ey),this.ePersonService.createPatchFromCache(o).pipe((0,T.s)(1),(0,ks.n)(b=>(0,G.hj)(b)?this.ePersonService.patch(o,b):(0,Ts.of)(void 0))).subscribe()}restoreSettingsForUsers(o){this.cookieService.set(this.getStorageName(o.uuid),this.getSettingsForUser(o))}updateSettingsForUsers(o){this.setSettingsForUser(o,this.cookieService.get(this.getStorageName(o.uuid)))}getStorageName(o){return"orejime-"+o}filterConfigApps(o){return this.orejimeConfig.categories.forEach(c=>{c.apps=c.apps.filter(b=>!o.some($=>$===b))}),this.orejimeConfig.categories=this.orejimeConfig.categories.filter(c=>c.apps.length>0),this.orejimeConfig.apps.filter(c=>!o.some(b=>b===c.name))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(O.lc),e.KVO(K.c$),e.KVO(p.uR),e.KVO(yy.EPersonDataService),e.KVO(Oa.ConfigurationDataService),e.KVO(pu.O),e.KVO(Cy))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var tR=n(25543);let by=(()=>{class d{constructor(o,c,b,$,ue){this.googleAnalytics=o,this.googleGlobalSiteTag=c,this.orejimeService=b,this.configService=$,this.document=ue}addTrackingIdToPage(){const o=this.configService.findByPropertyName("google.analytics.key").pipe((0,Bs.qD)()),c=this.orejimeService.getSavedPreferences();(0,Ko.z)([c,o]).subscribe(([b,$])=>{if((0,G.Im)(b)||(0,G.Im)(b[RD])||!b[RD]||!$.hasSucceeded)return;const ue=$.payload.values[0];if(!(0,G.Im)(ue))if(this.isGTagVersion(ue)){const Me=this.document.createElement("script");Me.src=`https://www.googletagmanager.com/gtag/js?id=${ue}`,this.document.body.appendChild(Me);const it=this.document.createElement("script");it.innerHTML=`window.dataLayer = window.dataLayer || [];function gtag(){window.dataLayer.push(arguments);}\n                               gtag('js', new Date());gtag('config', '${ue}');`,this.document.body.appendChild(it),this.googleGlobalSiteTag.startTracking()}else{const Me=this.document.createElement("script");Me.innerHTML=`(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n                              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n                              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n                              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n                              ga('create', '${ue}', 'auto');`,this.document.body.appendChild(Me),this.googleAnalytics.startTracking()}})}isGTagVersion(o){return o&&o.startsWith("G-")}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(ji.Z1),e.KVO(ji.RH),e.KVO(N_.B),e.KVO(Oa.ConfigurationDataService),e.KVO(f.qQ))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var nR=n(59540);const LD=(0,e.zw6)("NGX_TRANSLATE_STATE");class iR{constructor(y,o,c,b){this.transferState=y,this.http=o,this.prefix=c,this.suffix=b}getTranslation(y){const c=this.transferState.get(LD,{})[y];return(0,G.a4)(c)?(0,Ts.of)(c):this.http.get(`${this.prefix}${y}${A.c.production?`.${{"ar.json5":"dbd078a71f57a0ebfad9c5303bcc6128","bn.json5":"ba2d1da4505a1f8178e619fc9e6490e7","ca.json5":"11de06249b5d143c71d0153b536b5aa8","cs.json5":"3a4747d54aa34f047ea87162c13c86e1","de.json5":"a05ac4b5b669d69bb9471f9fb3427876","el.json5":"e4495a51dcb15d8a16c1a29ac417cee4","en.json5":"4e92356f1070fa9129a1ff42b49a43e6","es.json5":"ae10725f9206a1e25d1416e4ccc8c333","fi.json5":"584e439c1a24ef320a2466bab7d35f36","fr.json5":"6f996e786632e8fbbf9caf8de74cb064","gd.json5":"3bc9f8df9b6ee7e53d5aa0706b780695","hi.json5":"1b533df28271b051cacc25f6e580562e","hu.json5":"a1c5c634800476a986d0379094175eb0","it.json5":"d4e178f1374bd55f7108cfe05081bbba","ja.json5":"ca46d7f920980545b3bdd6aa7fbe9763","kk.json5":"015e399e3398b8cb449ebb204a089177","lv.json5":"bba7da6bf941042b8c414c200a5b45e0","nl.json5":"7cc176891621b5da0d69558be11d7d73","pl.json5":"a5ce64376fe070d338b1b21a3f0e768d","pt-BR.json5":"8584f5529033bbeced01d2c33a8673a7","pt-PT.json5":"9faf05bc5ad0cac2853293c3218a7066","sr-cyr.json5":"0dc32a086feb3b7bf1c90e43a3ab5ef3","sr-lat.json5":"85e2e8a278d94f8dd03ce82807c15882","sv.json5":"33c1183ab2158147ebf56a05dcb23e68","sw.json5":"7f19b77a00d2930d9a5cac60d55949e7","tr.json5":"dca8a85af7c266911adf8d53a14d98bd","uk.json5":"796adf811d8fdb4c7a46540f8d8794aa","vi.json5":"121a02a78613a6a7e71da7975a42b8c2"}[y+".json5"]}`:""}${this.suffix}`,{responseType:"text"}).pipe((0,xt.T)($=>JSON.parse($)))}}var Dy=n(9350);function Ty(d,y){const o="object"==typeof y;return new Promise((c,b)=>{let ue,$=!1;d.subscribe({next:Me=>{ue=Me,$=!0},error:b,complete:()=>{$?c(ue):o?c(y.defaultValue):b(new Dy.G)}})})}var oR=n(47707);var FD=n(92688);const j_=d=>y=>y.pipe((0,ks.n)(o=>(0,G.a4)(o)?d.isAuthorized(Tr._.CanDownload,o.self).pipe((0,xt.T)(c=>c?o:null)):(0,Ts.of)(null))),jD=(0,E.Mz)(oy.N,d=>d.metaTag),BD=(0,E.Mz)(jD,d=>d.tagsInUse);let UD=(()=>{class d{constructor(o,c,b,$,ue,Me,it,Bt,yn,cn,ts){this.router=o,this.translate=c,this.meta=b,this.title=$,this.dsoNameService=ue,this.bundleDataService=Me,this.rootService=it,this.store=Bt,this.hardRedirectService=yn,this.appConfig=cn,this.authorizationService=ts,this.currentObject=new _.t(void 0),this.CITATION_PDF_URL_MIMETYPES=["application/pdf","application/postscript","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/rtf","application/epub+zip"]}listenForRouteChange(){this.setGenerator(),this.router.events.pipe((0,Wn.p)(o=>o instanceof v.wF),(0,xt.T)(()=>this.router.routerState.root),(0,xt.T)(o=>({params:(o=this.getCurrentRoute(o)).params,data:o.data}))).subscribe(o=>{this.processRouteChange(o)})}processRouteChange(o){if(this.clearMetaTags(),(0,G.a4)(o.data.value.dso)&&(0,G.a4)(o.data.value.dso.payload)&&(this.currentObject.next(o.data.value.dso.payload),this.setDSOMetaTags()),o.data.value.title){const c=this.translate.get("repository.title.prefix"),b=this.translate.get(o.data.value.title,o.data.value);(0,Ko.z)([c,b]).pipe((0,T.s)(1)).subscribe(([$,ue])=>{this.addMetaTag("title",$+ue),this.title.setTitle($+ue)})}o.data.value.description&&this.translate.get(o.data.value.description).pipe((0,T.s)(1)).subscribe(c=>{this.addMetaTag("description",c)})}getCurrentRoute(o){for(;o.firstChild;)o=o.firstChild;return o}setDSOMetaTags(){this.setTitleTag(),this.setDescriptionTag(),this.setCitationTitleTag(),this.setCitationAuthorTags(),this.setCitationPublicationDateTag(),this.setCitationISSNTag(),this.setCitationISBNTag(),this.setCitationLanguageTag(),this.setCitationKeywordsTag(),this.setCitationAbstractUrlTag(),this.setCitationPdfUrlTag(),this.setCitationPublisherTag(),this.isDissertation()&&this.setCitationDissertationNameTag()}setTitleTag(){const o=this.dsoNameService.getName(this.currentObject.getValue());this.addMetaTag("title",o),this.title.setTitle(o)}setDescriptionTag(){const o=this.getMetaTagValue("dc.description.abstract");this.addMetaTag("description",o)}setCitationTitleTag(){const o=this.getMetaTagValue("dc.title");this.addMetaTag("citation_title",o)}setCitationAuthorTags(){const o=this.getMetaTagValues(["dc.author","dc.contributor.author","dc.creator"]);this.addMetaTags("citation_author",o)}setCitationPublicationDateTag(){const o=this.getFirstMetaTagValue(["dc.date.copyright","dc.date.issued","dc.date.available","dc.date.accessioned"]);this.addMetaTag("citation_publication_date",o)}setCitationISSNTag(){const o=this.getMetaTagValue("dc.identifier.issn");this.addMetaTag("citation_issn",o)}setCitationISBNTag(){const o=this.getMetaTagValue("dc.identifier.isbn");this.addMetaTag("citation_isbn",o)}setCitationLanguageTag(){const o=this.getFirstMetaTagValue(["dc.language","dc.language.iso"]);this.addMetaTag("citation_language",o)}setCitationDissertationNameTag(){const o=this.getMetaTagValue("dc.title");this.addMetaTag("citation_dissertation_name",o)}setCitationPublisherTag(){const o=this.getMetaTagValue("dc.publisher");this.isDissertation()?this.addMetaTag("citation_dissertation_institution",o):this.isTechReport()?this.addMetaTag("citation_technical_report_institution",o):this.addMetaTag("citation_publisher",o)}setCitationKeywordsTag(){const o=this.getMetaTagValuesAndCombine("dc.subject");this.addMetaTag("citation_keywords",o)}setCitationAbstractUrlTag(){if(this.currentObject.value instanceof id.q){let o=this.getMetaTagValue("dc.identifier.uri");(0,G.Tn)(o)&&(o=new Pl.t(this.hardRedirectService.getCurrentOrigin(),this.router.url).toString()),this.addMetaTag("citation_abstract_html_url",o)}}setCitationPdfUrlTag(){this.currentObject.value instanceof id.q&&this.bundleDataService.findByItemAndName(this.currentObject.value,"ORIGINAL",!0,!0,new D0._,(0,Ws.s)("primaryBitstream"),(0,Ws.s)("bitstreams",{findListOptions:{elementsPerPage:this.appConfig.item.bitstream.pageSize}},(0,Ws.s)("format"))).pipe((0,Bs.ak)(),(0,ks.n)(c=>c.primaryBitstream.pipe((0,Bs.qD)(),(0,xt.T)(b=>(0,G.a4)(b.payload)?b.payload:null),j_(this.authorizationService),(0,xt.T)(b=>[c,b]))),(0,ks.n)(([c,b])=>(0,G.a4)(b)?[(0,ar.hV)(b)]:c.bitstreams.pipe((0,Bs.qD)(),(0,ks.n)($=>(0,G.a4)($.payload)&&1===$.payload.totalElements?this.getBitLinkIfDownloadable($.payload.page[0],$):this.getFirstAllowedFormatBitstreamLink($)))),(0,T.s)(1)).subscribe(c=>{this.addMetaTag("citation_pdf_url",new Pl.t(this.hardRedirectService.getCurrentOrigin(),c).toString())})}getBitLinkIfDownloadable(o,c){return(0,Ts.of)(o).pipe(j_(this.authorizationService),(0,ks.n)(b=>(0,G.a4)(b)?[(0,ar.hV)(b)]:this.getFirstAllowedFormatBitstreamLink(c)))}getFirstAllowedFormatBitstreamLink(o){return(0,G.a4)(o.payload)&&(0,G.hj)(o.payload.page)?(0,FD.x)(...o.payload.page.map(c=>c.format.pipe((0,Bs.ak)(),(0,xt.T)(b=>[c,b])))).pipe((0,Qn.Z)(([c,b])=>(0,Ts.of)(c).pipe(j_(this.authorizationService),(0,xt.T)($=>[$,b]))),(0,Wn.p)(([c,b])=>(0,G.a4)(b)&&(0,G.a4)(c)&&this.CITATION_PDF_URL_MIMETYPES.includes(b.mimetype)),(0,T.s)(1),(0,xt.T)(([c,b])=>(0,ar.hV)(c))):Br.w}setGenerator(){this.rootService.findRoot().pipe((0,Bs.ak)()).subscribe(o=>{this.meta.addTag({name:"Generator",content:o.dspaceVersion})})}hasType(o){return this.currentObject.value.hasMetadata("dc.type",{value:o,ignoreCase:!0})}isDissertation(){return this.hasType("thesis")}isTechReport(){return this.hasType("technical report")}getMetaTagValue(o){return this.currentObject.value.firstMetadataValue(o)}getFirstMetaTagValue(o){return this.currentObject.value.firstMetadataValue(o)}getMetaTagValuesAndCombine(o){return this.getMetaTagValues([o]).join("; ")}getMetaTagValues(o){return this.currentObject.value.allMetadataValues(o)}addMetaTag(o,c){c&&(this.meta.addTag({name:o,content:c}),this.storeTag(o))}addMetaTags(o,c){for(const b of c)this.addMetaTag(o,b)}storeTag(o){this.store.dispatch(new V2(o))}clearMetaTags(){this.store.pipe((0,E.Lt)(BD),(0,T.s)(1)).subscribe(o=>{for(const c of o)this.meta.removeTag("name='"+c+"'");this.store.dispatch(new bD)})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(v.Ix),e.KVO(K.c$),e.KVO(h.W8),e.KVO(h.hE),e.KVO(Fs.f),e.KVO(V0.BundleDataService),e.KVO(bd.RootDataService),e.KVO(E.il),e.KVO(x_.$),e.KVO(si.vQ),e.KVO(ac.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var kD=n(87152),W2=n(60654),VD=n(20930),K2=n(43733);const H2=new qs.v("duplicate");var z2=n(17860),Y2=n(61196),X2=n(54949),J2=n(6291);const Q2=new qs.v("feedback");var Z2=n(1259),GD=n(51934),q2=n(178),$D=n(71077),lR=n(88985),_m=n(96470),B_=n(92174),cR=n(87369),dR=n(2527),uR=n(72364),hR=n(39147),pR=n(49623),fR=n(17133),mR=n(80284),Oy=n(84276);let gd=class extends Kl.I{static{this.type=new qs.v("correctiontype")}};(0,Ue.Cg)([Ho.aK,vn.autoserialize,(0,Ue.Sn)("design:type",qs.v)],gd.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],gd.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],gd.prototype,"topic",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],gd.prototype,"discoveryConfiguration",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],gd.prototype,"creationForm",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],gd.prototype,"_links",void 0),gd=(0,Ue.Cg)([ii.gV],gd);var gR=n(92946),WD=n(22822),_R=n(26147);const vR=new Map([[A1.value,()=>Promise.resolve().then(n.bind(n,65007)).then(d=>d.AuthorizationDataService)],[cR.z.value,()=>Promise.resolve().then(n.bind(n,42673)).then(d=>d.BrowseDefinitionDataService)],[vc.XI.value,()=>n.e(2719).then(n.bind(n,82719)).then(d=>d.BulkAccessConfigDataService)],[GD.M.value,()=>n.e(8290).then(n.bind(n,58290)).then(d=>d.MetadataSchemaDataService)],[vc.V_.value,()=>n.e(1345).then(n.bind(n,51345)).then(d=>d.SubmissionUploadsConfigDataService)],[_m.e.value,()=>Promise.resolve().then(n.bind(n,42578)).then(d=>d.BitstreamDataService)],[vc.NS.value,()=>n.e(4319).then(n.bind(n,4319)).then(d=>d.SubmissionAccessesConfigDataService)],[Y2.B.value,()=>Promise.resolve().then(n.bind(n,27795)).then(d=>d.SystemWideAlertDataService)],[Oy.N.value,()=>n.e(2076).then(n.bind(n,41516)).then(d=>d.UsageReportDataService)],[v1.E.value,()=>Promise.resolve().then(n.bind(n,45022)).then(d=>d.AccessStatusDataService)],[XO.n.value,()=>Promise.resolve().then(n.bind(n,6983)).then(d=>d.CollectionDataService)],[WD.a.value,()=>Promise.resolve().then(n.bind(n,12532)).then(d=>d.ClaimedTaskDataService)],[od.mt.value,()=>Promise.resolve().then(n.bind(n,70413)).then(d=>d.HrefOnlyDataService)],[pR.N.value,()=>Promise.resolve().then(n.bind(n,70413)).then(d=>d.HrefOnlyDataService)],[Uv.m.value,()=>Promise.resolve().then(n.bind(n,70413)).then(d=>d.HrefOnlyDataService)],[z2.m.value,()=>n.e(2355).then(n.bind(n,62355)).then(d=>d.SubscriptionsDataService)],[uR.G.value,()=>Promise.resolve().then(n.bind(n,46660)).then(d=>d.CommunityDataService)],[od.Hx.value,()=>Promise.resolve().then(n.bind(n,59081)).then(d=>d.VocabularyDataService)],[dR.d.value,()=>Promise.resolve().then(n.bind(n,81443)).then(d=>d.BundleDataService)],[YO.value,()=>Promise.resolve().then(n.bind(n,8917)).then(d=>d.ConfigurationDataService)],[_R.T.value,()=>Promise.resolve().then(n.bind(n,28515)).then(d=>d.PoolTaskDataService)],[WD.a.value,()=>Promise.resolve().then(n.bind(n,12532)).then(d=>d.ClaimedTaskDataService)],[nE.T.value,()=>Promise.resolve().then(n.bind(n,66129)).then(d=>d.SupervisionOrderDataService)],[J2.l.value,()=>Promise.resolve().then(n.bind(n,24261)).then(d=>d.WorkspaceitemDataService)],[X2.z.value,()=>Promise.resolve().then(n.bind(n,52837)).then(d=>d.WorkflowItemDataService)],[od.Hx.value,()=>Promise.resolve().then(n.bind(n,59081)).then(d=>d.VocabularyDataService)],[od.cK.value,()=>Promise.resolve().then(n.bind(n,75955)).then(d=>d.VocabularyEntryDetailsDataService)],[gu.value,()=>n.e(9914).then(n.bind(n,79914)).then(d=>d.SubmissionCcLicenseUrlDataService)],[gR.Q.value,()=>n.e(3138).then(n.bind(n,73138)).then(d=>d.SubmissionCcLicenseDataService)],[Oy.N.value,()=>n.e(2076).then(n.bind(n,41516)).then(d=>d.UsageReportDataService)],[lR.O.value,()=>n.e(5521).then(n.bind(n,25521)).then(d=>d.ResourcePolicyDataService)],[$D.T.value,()=>Promise.resolve().then(n.bind(n,98926)).then(d=>d.ResearcherProfileDataService)],[jv.value,()=>n.e(2076).then(n.bind(n,53067)).then(d=>d.OrcidQueueDataService)],[P1.value,()=>n.e(2076).then(n.bind(n,52326)).then(d=>d.OrcidHistoryDataService)],[Q2.value,()=>n.e(2076).then(n.bind(n,10241)).then(d=>d.FeedbackDataService)],[tE.U.value,()=>Promise.resolve().then(n.bind(n,44494)).then(d=>d.GroupDataService)],[R1.N.value,()=>Promise.resolve().then(n.bind(n,74449)).then(d=>d.EPersonDataService)],[G1.f.value,()=>Promise.resolve().then(n.bind(n,52749)).then(d=>d.WorkflowActionDataService)],[QO.s.value,()=>n.e(3860).then(n.bind(n,93860)).then(d=>d.VersionHistoryDataService)],[Il.value,()=>Promise.resolve().then(n.bind(n,5090)).then(d=>d.SiteDataService)],[T1.value,()=>Promise.resolve().then(n.bind(n,29443)).then(d=>d.RootDataService)],[mR.U.value,()=>Promise.resolve().then(n.bind(n,38096)).then(d=>d.RelationshipTypeDataService)],[fR.X.value,()=>Promise.resolve().then(n.bind(n,48833)).then(d=>d.RelationshipDataService)],[K2.M.value,()=>Promise.resolve().then(n.bind(n,32736)).then(d=>d.ScriptDataService)],[VD.A.value,()=>n.e(2076).then(n.bind(n,87414)).then(d=>d.ProcessDataService)],[Z2.R.value,()=>n.e(2151).then(n.bind(n,22151)).then(d=>d.MetadataFieldDataService)],[Pd.U.value,()=>Promise.resolve().then(n.bind(n,29326)).then(d=>d.ItemDataService)],[Gv.x.value,()=>n.e(1783).then(n.bind(n,81783)).then(d=>d.VersionDataService)],[y1.f.value,()=>n.e(2076).then(n.bind(n,90378)).then(d=>d.IdentifierDataService)],[ag.value,()=>Promise.resolve().then(n.bind(n,65007)).then(d=>d.AuthorizationDataService)],[hR.X.value,()=>Promise.resolve().then(n.bind(n,13989)).then(d=>d.DSpaceObjectDataService)],[B_.a.value,()=>Promise.resolve().then(n.bind(n,4856)).then(d=>d.BitstreamFormatDataService)],[_c.value,()=>n.e(9184).then(n.bind(n,69184)).then(d=>d.CoarNotifyConfigDataService)],[ng.tc.value,()=>n.e(2076).then(n.bind(n,16734)).then(d=>d.LdnItemfiltersService)],[ng.zd.value,()=>Promise.resolve().then(n.bind(n,68630)).then(d=>d.LdnServicesService)],[W2.g.value,()=>Promise.resolve().then(n.bind(n,88857)).then(d=>d.AdminNotifyMessagesService)],[vc.KX.value,()=>n.e(3928).then(n.bind(n,43928)).then(d=>d.SubmissionFormsConfigDataService)],[m1.value,()=>n.e(9380).then(n.bind(n,69380)).then(d=>d.NotifyRequestsStatusDataService)],[Nv.value,()=>n.e(7450).then(n.bind(n,27450)).then(d=>d.QualityAssuranceEventDataService)],[I1.value,()=>Promise.resolve().then(n.bind(n,61723)).then(d=>d.QualityAssuranceSourceDataService)],[Fv.value,()=>Promise.resolve().then(n.bind(n,31936)).then(d=>d.QualityAssuranceTopicDataService)],[q2.P.value,()=>Promise.resolve().then(n.bind(n,96687)).then(d=>d.SuggestionDataService)],[rg.value,()=>n.e(3371).then(n.bind(n,43371)).then(d=>d.SuggestionSourceDataService)],[S1.value,()=>Promise.resolve().then(n.bind(n,94791)).then(d=>d.SuggestionTargetDataService)],[H2.value,()=>Promise.resolve().then(n.bind(n,69723)).then(d=>d.SubmissionDuplicateDataService)],[gd.type.value,()=>n.e(5447).then(n.bind(n,75447)).then(d=>d.CorrectionTypeDataService)]]),Uu=(d,y)=>[d,y];function yR(d,y){if(1&d){const o=e.RV6();e.j41(0,"label",3)(1,"input",4),e.bIt("blur",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onBlur(b))})("change",function(b){const $=e.eBV(o).$implicit,ue=e.XpG();return e.Njj(ue.onCheckboxChange(b,$))})("focus",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onFocus(b))}),e.k0s(),e.nrm(2,"span",5),e.k0s()}if(2&d){const o=y.$implicit,c=e.XpG();e.Y8G("hidden",o.hidden)("ngClass",c.getClass("element","control",o)),e.R7$(),e.Y8G("checked",o.checked)("formControlName",o.id)("id",c.getCheckboxId(o))("name",o.name)("required",o.required)("tabindex",o.tabIndex)("value",o.value),e.R7$(),e.Y8G("ngClass",c.getClass("element","label",o))("innerHTML",o.label,e.npT)}}function ER(d,y){if(1&d&&(e.j41(0,"div",6),e.nrm(1,"span",7),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("innerHTML",o.model.prefix,e.npT)}}function CR(d,y){if(1&d){const o=e.RV6();e.j41(0,"input",8),e.bIt("blur",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onBlur(b))})("change",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onChange(b))})("focus",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onFocus(b))}),e.k0s()}if(2&d){const o=e.XpG();e.AVh("is-invalid",o.showErrorMessages),e.Y8G("autocomplete",o.model.autoComplete)("autofocus",o.model.autoFocus)("dynamicList",o.model.listId)("formControlName",o.model.id)("id",o.id)("maxlength",o.model.maxLength)("minlength",o.model.minLength)("name",o.model.name)("ngClass",o.getClass("element","control"))("pattern",o.model.pattern)("placeholder",o.model.placeholder)("readonly",o.model.readOnly)("required",o.model.required)("spellcheck",o.model.spellCheck)("tabindex",o.model.tabIndex)("type",o.model.inputType),e.BMQ("accept",o.model.accept)("max",o.model.max)("min",o.model.min)("multiple",o.model.multiple)("step",o.model.step)}}function bR(d,y){if(1&d){const o=e.RV6();e.j41(0,"input",9),e.bIt("blur",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onBlur(b))})("change",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onChange(b))})("focus",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onFocus(b))}),e.k0s()}if(2&d){const o=e.XpG();e.AVh("is-invalid",o.showErrorMessages),e.Y8G("autocomplete",o.model.autoComplete)("autofocus",o.model.autoFocus)("dynamicList",o.model.listId)("formControlName",o.model.id)("id",o.id)("maxlength",o.model.maxLength)("minlength",o.model.minLength)("name",o.model.name)("ngClass",o.getClass("element","control"))("pattern",o.model.pattern)("placeholder",o.model.placeholder)("readonly",o.model.readOnly)("required",o.model.required)("spellcheck",o.model.spellCheck)("tabindex",o.model.tabIndex)("mask",o.model.mask)("specialCharacters",null==o.model.maskConfig?null:o.model.maskConfig.specialCharacters)("patterns",null==o.model.maskConfig?null:o.model.maskConfig.patterns)("prefix",null==o.model.maskConfig?null:o.model.maskConfig.prefix)("suffix",null==o.model.maskConfig?null:o.model.maskConfig.suffix)("thousandSeparator",null==o.model.maskConfig?null:o.model.maskConfig.thousandSeparator)("decimalMarker",null==o.model.maskConfig?null:o.model.maskConfig.decimalMarker)("dropSpecialCharacters",null==o.model.maskConfig?null:o.model.maskConfig.dropSpecialCharacters)("hiddenInput",null==o.model.maskConfig?null:o.model.maskConfig.hiddenInput)("showMaskTyped",null==o.model.maskConfig?null:o.model.maskConfig.showMaskTyped)("placeHolderCharacter",null==o.model.maskConfig?null:o.model.maskConfig.placeHolderCharacter)("shownMaskExpression",null==o.model.maskConfig?null:o.model.maskConfig.shownMaskExpression)("showTemplate",null==o.model.maskConfig?null:o.model.maskConfig.showTemplate)("clearIfNotMatch",o.model.maskConfig.clearIfNotMatch)("validation",o.model.maskConfig.validation)("separatorLimit",o.model.maskConfig.separatorLimit)("allowNegativeNumbers",o.model.maskConfig.allowNegativeNumbers)("leadZeroDateTime",o.model.maskConfig.leadZeroDateTime)("type",o.model.inputType),e.BMQ("accept",o.model.accept)("max",o.model.max)("min",o.model.min)("multiple",o.model.multiple)("step",o.model.step)}}function DR(d,y){if(1&d&&(e.j41(0,"div",10),e.nrm(1,"span",7),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("innerHTML",o.model.suffix,e.npT)}}function KD(d,y){1&d&&e.nrm(0,"option",13),2&d&&e.Y8G("value",y.$implicit)}function My(d,y){if(1&d&&(e.j41(0,"datalist",11),e.DNE(1,KD,1,1,"option",12),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG();e.Y8G("id",o.model.listId),e.R7$(),e.Y8G("ngForOf",e.bMT(2,2,o.model.list$))}}function TR(d,y){if(1&d&&e.nrm(0,"legend",4),2&d){const o=e.XpG();e.Y8G("innerHTML",o.model.legend,e.npT)}}function OR(d,y){if(1&d){const o=e.RV6();e.j41(0,"label",5)(1,"input",6),e.bIt("blur",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onBlur(b))})("focus",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onFocus(b))}),e.k0s(),e.nrm(2,"span",4),e.k0s()}if(2&d){const o=y.$implicit,c=e.XpG();e.Y8G("ngClass",e.l_i(5,Uu,c.getClass("element","option"),c.getClass("grid","option"))),e.R7$(),e.Y8G("disabled",o.disabled)("name",c.model.name)("value",o.value),e.R7$(),e.Y8G("innerHTML",o.label,e.npT)}}function HD(d,y){if(1&d&&(e.j41(0,"option",3),e.EFF(1),e.k0s()),2&d){const o=y.$implicit;e.Y8G("disabled",o.disabled)("ngValue",o.value),e.R7$(),e.JRh(o.label)}}let wR=(()=>{class d extends Ss.S6A{constructor(o,c,b){super(o,c),this.layoutService=o,this.validationService=c,this.config=b,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(o){return new(o||d)(e.rXU(Ss.fpj),e.rXU(Ss.STK),e.rXU(q.I5))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-calendar"]],viewQuery:function(o,c){if(1&o&&e.GBs(q.yB,7),2&o){let b;e.mGM(b=e.lsd())&&(c.ngbCalendar=b.first)}},inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:13,consts:[[3,"formGroup"],[3,"select","displayMonths","firstDayOfWeek","formControlName","id","maxDate","minDate","navigation","ngClass","outsideDays","showWeekNumbers","weekdays","startDate"]],template:function(o,c){1&o&&(e.qex(0,0),e.j41(1,"ngb-datepicker",1),e.bIt("select",function($){return c.onChange($)}),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",c.group),e.R7$(),e.Y8G("displayMonths",c.model.getAdditional("displayMonths",c.config.displayMonths))("firstDayOfWeek",c.model.getAdditional("firstDayOfWeek",c.config.firstDayOfWeek))("formControlName",c.model.id)("id",c.id)("maxDate",c.model.max)("minDate",c.model.min)("navigation",c.model.getAdditional("navigation",c.config.navigation))("ngClass",c.getClass("element","control"))("outsideDays",c.model.getAdditional("outsideDays",c.config.outsideDays))("showWeekNumbers",c.model.getAdditional("showWeekNumbers",c.config.showWeekNumbers))("weekdays",c.model.getAdditional("showWeekdays",c.config.weekdays))("startDate",c.model.focusedDate))},dependencies:[f.YU,rn.BC,rn.cb,rn.j4,rn.JD,q.yB],encapsulation:2,changeDetection:0}),d})(),U_=(()=>{class d extends Ss.S6A{constructor(o,c){super(o,c),this.layoutService=o,this.validationService=c,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(o){return new(o||d)(e.rXU(Ss.fpj),e.rXU(Ss.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-checkbox"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:4,vars:19,consts:[[1,"form-check",3,"formGroup"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"blur","change","focus","checked","formControlName","id","indeterminate","name","ngClass","required","tabindex","value"],[3,"innerHTML","ngClass"]],template:function(o,c){1&o&&(e.j41(0,"div",0)(1,"label",1)(2,"input",2),e.bIt("blur",function($){return c.onBlur($)})("change",function($){return c.onChange($)})("focus",function($){return c.onFocus($)}),e.k0s(),e.nrm(3,"span",3),e.k0s()()),2&o&&(e.AVh("disabled",c.model.disabled),e.Y8G("formGroup",c.group),e.R7$(2),e.AVh("is-invalid",c.showErrorMessages),e.Y8G("checked",c.model.checked)("formControlName",c.model.id)("id",c.id)("indeterminate",c.model.indeterminate)("name",c.model.name)("ngClass",c.getClass("element","control"))("required",c.model.required)("tabindex",c.model.tabIndex)("value",c.model.value),e.R7$(),e.Y8G("innerHTML",c.model.label,e.npT)("ngClass",e.l_i(16,Uu,c.getClass("element","label"),c.getClass("grid","label"))))},dependencies:[f.YU,rn.Zm,rn.BC,rn.cb,rn.xq,rn.j4,rn.JD],encapsulation:2}),d})(),JD=(()=>{class d extends Ss.S6A{constructor(o,c){super(o,c),this.layoutService=o,this.validationService=c,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}getCheckboxId(o){return this.layoutService.getElementId(o)}onCheckboxChange(o,c){this.onChange(o),c.value=o.target.checked}}return d.\u0275fac=function(o){return new(o||d)(e.rXU(Ss.fpj),e.rXU(Ss.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-checkbox-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:3,vars:5,consts:[[3,"formGroup"],["data-toggle","buttons",1,"btn-group","btn-group-toggle",3,"formGroupName","id","ngClass"],["ngbButtonLabel","",3,"hidden","ngClass",4,"ngFor","ngForOf"],["ngbButtonLabel","",3,"hidden","ngClass"],["type","checkbox","ngbButton","",3,"blur","change","focus","checked","formControlName","id","name","required","tabindex","value"],[3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.qex(0,0),e.j41(1,"div",1),e.DNE(2,yR,3,11,"label",2),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",c.group),e.R7$(),e.Y8G("formGroupName",c.model.id)("id",c.id)("ngClass",c.getClass("element","control")),e.R7$(),e.Y8G("ngForOf",c.model.group))},dependencies:[f.YU,f.Sq,rn.Zm,rn.BC,rn.cb,rn.xq,rn.j4,rn.JD,rn.$R,q.so,q.b7],encapsulation:2,changeDetection:0}),d})(),Py=(()=>{class d extends Ss.S6A{constructor(o,c){super(o,c),this.layoutService=o,this.validationService=c,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(o){return new(o||d)(e.rXU(Ss.fpj),e.rXU(Ss.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-input"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:7,vars:8,consts:[["maskedInput",""],[3,"formGroup"],["class","input-group-prepend",4,"ngIf"],["class","form-control-file",3,"autocomplete","autofocus","is-invalid","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type","blur","change","focus",4,"ngIf","ngIfElse"],["class","input-group-append",4,"ngIf"],[3,"id",4,"ngIf"],[1,"input-group-prepend"],[1,"input-group-text",3,"innerHTML"],[1,"form-control-file",3,"blur","change","focus","autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type"],[1,"form-control",3,"blur","change","focus","autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","mask","specialCharacters","patterns","prefix","suffix","thousandSeparator","decimalMarker","dropSpecialCharacters","hiddenInput","showMaskTyped","placeHolderCharacter","shownMaskExpression","showTemplate","clearIfNotMatch","validation","separatorLimit","allowNegativeNumbers","leadZeroDateTime","type"],[1,"input-group-append"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,c){if(1&o&&(e.j41(0,"div",1),e.DNE(1,ER,2,1,"div",2)(2,CR,1,23,"input",3)(3,bR,1,41,"ng-template",null,0,e.C5r)(5,DR,2,1,"div",4)(6,My,3,4,"datalist",5),e.k0s()),2&o){const b=e.sdS(4);e.AVh("input-group",c.model.prefix||c.model.suffix),e.Y8G("formGroup",c.group),e.R7$(),e.Y8G("ngIf",c.model.prefix),e.R7$(),e.Y8G("ngIf","file"===c.model.inputType)("ngIfElse",b),e.R7$(3),e.Y8G("ngIf",c.model.suffix),e.R7$(),e.Y8G("ngIf",c.model.hasList)}},dependencies:[f.YU,f.Sq,f.bT,rn.xH,rn.y7,rn.me,rn.BC,rn.cb,rn.YS,rn.xh,rn.tU,rn.R_,rn.j4,rn.JD,Nc.I0,Ss.Vne,f.Jj],encapsulation:2}),d})(),Ry=(()=>{class d extends Ss.S6A{constructor(o,c){super(o,c),this.layoutService=o,this.validationService=c,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(o){return new(o||d)(e.rXU(Ss.fpj),e.rXU(Ss.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-radio-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:5,vars:9,consts:[[3,"formGroup"],["ngbRadioGroup","","role","radiogroup",1,"btn-group","btn-group-toggle",3,"change","formControlName","id","ngClass","tabindex"],[3,"innerHTML",4,"ngIf"],["ngbButtonLabel","",3,"ngClass",4,"ngFor","ngForOf"],[3,"innerHTML"],["ngbButtonLabel","",3,"ngClass"],["type","radio","ngbButton","",3,"blur","focus","disabled","name","value"]],template:function(o,c){1&o&&(e.qex(0,0),e.j41(1,"div",1),e.bIt("change",function($){return c.onChange($)}),e.DNE(2,TR,1,1,"legend",2)(3,OR,3,8,"label",3),e.nI1(4,"async"),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",c.group),e.R7$(),e.Y8G("formControlName",c.model.id)("id",c.id)("ngClass",c.getClass("element","control"))("tabindex",c.model.tabIndex),e.R7$(),e.Y8G("ngIf",c.model.legend),e.R7$(),e.Y8G("ngForOf",e.bMT(4,7,c.model.options$)))},dependencies:[f.YU,f.Sq,f.bT,rn.BC,rn.cb,rn.j4,rn.JD,q.so,q.M0,q.px,f.Jj],encapsulation:2,changeDetection:0}),d})(),vm=(()=>{class d extends Ss.S6A{constructor(o,c){super(o,c),this.layoutService=o,this.validationService=c,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(o){return new(o||d)(e.rXU(Ss.fpj),e.rXU(Ss.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-select"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:4,vars:13,consts:[[3,"formGroup"],[1,"form-control",3,"blur","change","focus","compareWith","formControlName","id","name","ngClass","required","tabindex"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],[3,"disabled","ngValue"]],template:function(o,c){1&o&&(e.qex(0,0),e.j41(1,"select",1),e.bIt("blur",function($){return c.onBlur($)})("change",function($){return c.onChange($)})("focus",function($){return c.onFocus($)}),e.DNE(2,HD,2,3,"option",2),e.nI1(3,"async"),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",c.group),e.R7$(),e.AVh("is-invalid",c.showErrorMessages),e.Y8G("compareWith",c.model.compareWithFn)("formControlName",c.model.id)("id",c.id)("name",c.model.name)("ngClass",c.getClass("element","control"))("required",c.model.required)("tabindex",c.model.tabIndex),e.R7$(),e.Y8G("ngForOf",e.bMT(3,11,c.model.options$)))},dependencies:[f.YU,f.Sq,rn.xH,rn.y7,rn.wz,rn.BC,rn.cb,rn.YS,rn.j4,rn.JD,f.Jj],encapsulation:2}),d})(),Ay=(()=>{class d extends Ss.S6A{constructor(o,c){super(o,c),this.layoutService=o,this.validationService=c,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(o){return new(o||d)(e.rXU(Ss.fpj),e.rXU(Ss.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-textarea"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:17,consts:[[3,"formGroup"],[1,"form-control",3,"blur","change","focus","cols","formControlName","id","maxlength","minlength","name","ngClass","placeholder","readonly","required","rows","spellcheck","tabindex","wrap"]],template:function(o,c){1&o&&(e.qex(0,0),e.j41(1,"textarea",1),e.bIt("blur",function($){return c.onBlur($)})("change",function($){return c.onChange($)})("focus",function($){return c.onFocus($)}),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",c.group),e.R7$(),e.AVh("is-invalid",c.showErrorMessages),e.Y8G("cols",c.model.cols)("formControlName",c.model.id)("id",c.id)("maxlength",c.model.maxLength)("minlength",c.model.minLength)("name",c.model.name)("ngClass",c.getClass("element","control"))("placeholder",c.model.placeholder)("readonly",c.model.readOnly)("required",c.model.required)("rows",c.model.rows)("spellcheck",c.model.spellCheck)("tabindex",c.model.tabIndex)("wrap",c.model.wrap))},dependencies:[f.YU,rn.me,rn.BC,rn.cb,rn.YS,rn.xh,rn.tU,rn.j4,rn.JD],encapsulation:2}),d})(),QD=(()=>{class d extends Ss.S6A{constructor(o,c,b){super(o,c),this.layoutService=o,this.validationService=c,this.config=b,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(o){return new(o||d)(e.rXU(Ss.fpj),e.rXU(Ss.STK),e.rXU(q.Ng))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-timepicker"]],viewQuery:function(o,c){if(1&o&&e.GBs(q.Pe,7),2&o){let b;e.mGM(b=e.lsd())&&(c.ngbTimePicker=b.first)}},inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:11,consts:[[3,"formGroup"],[3,"id","formControlName","hourStep","meridian","minuteStep","ngClass","seconds","secondStep","size","spinners"]],template:function(o,c){1&o&&(e.qex(0,0),e.nrm(1,"ngb-timepicker",1),e.bVm()),2&o&&(e.Y8G("formGroup",c.group),e.R7$(),e.Y8G("id",c.id)("formControlName",c.model.id)("hourStep",c.model.getAdditional("hourStep",c.config.hourStep))("meridian",c.model.meridian)("minuteStep",c.model.getAdditional("minuteStep",c.config.minuteStep))("ngClass",c.getClass("element","control"))("seconds",c.model.showSeconds)("secondStep",c.model.getAdditional("secondStep",c.config.secondStep))("size",c.model.getAdditional("size",c.config.size))("spinners",c.model.getAdditional("spinners",c.config.spinners)))},dependencies:[f.YU,rn.BC,rn.cb,rn.j4,rn.JD,q.Pe],encapsulation:2,changeDetection:0}),d})();var ku=n(56899),Vu=n(52717),NR=n(25488),FR=n(10460);n(8590);const qD=(d,y)=>[d,y];function BR(d,y){1&d&&e.eu8(0)}function eT(d,y){if(1&d){const o=e.RV6();e.j41(0,"ds-dynamic-form-control-container",11),e.bIt("dfBlur",function(b){e.eBV(o);const $=e.XpG(2);return e.Njj($.onBlur(b))})("dfChange",function(b){e.eBV(o);const $=e.XpG(2);return e.Njj($.onChange(b))})("dfFocus",function(b){e.eBV(o);const $=e.XpG(2);return e.Njj($.onFocus(b))})("ngbEvent",function(b){e.eBV(o);const $=e.XpG(2);return e.Njj($.onCustomEvent(b,null,!0))}),e.k0s()}if(2&d){const o=y.$implicit,c=e.XpG().$implicit,b=e.XpG();e.AVh("d-none",o.hidden),e.Y8G("bindId",!1)("formGroup",b.group)("formModel",b.formModel)("context",c)("group",b.getControlOfGroup(c))("hidden",o.hidden)("layout",b.formLayout)("model",o)("templates",b.templates)("ngClass",e.l_i(12,qD,b.getClass("element","host",o),b.getClass("grid","host",o)))}}function UR(d,y){1&d&&e.eu8(0)}function kR(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",6,1)(2,"div",7),e.bIt("focus",function(){e.eBV(o);const b=e.sdS(1),$=e.XpG();return e.Njj($.addInstructionMessageToLiveRegion(b))})("keydown.space",function(b){const $=e.eBV(o),ue=$.index,Me=$.count,it=e.sdS(1),Bt=e.XpG();return e.Njj(Bt.toggleKeyboardDragAndDrop(b,it,ue,Me))})("keydown.enter",function(b){const $=e.eBV(o),ue=$.index,Me=$.count,it=e.sdS(1),Bt=e.XpG();return e.Njj(Bt.toggleKeyboardDragAndDrop(b,it,ue,Me))})("keydown.tab",function(){const b=e.eBV(o),$=b.index,ue=b.count,Me=e.sdS(1),it=e.XpG();return e.Njj(it.stopKeyboardDragAndDrop(Me,$,ue))})("keydown.escape",function(){const b=e.eBV(o),$=b.index,ue=b.count,Me=e.sdS(1),it=e.XpG();return e.Njj(it.cancelKeyboardDragAndDrop(Me,$,ue))})("keydown.arrowUp",function(b){const $=e.eBV(o),ue=$.index,Me=$.count,it=e.XpG(),Bt=e.sdS(3);return e.Njj(it.handleArrowPress(b,Bt,Me,ue,"up"))})("keydown.arrowDown",function(b){const $=e.eBV(o),ue=$.index,Me=$.count,it=e.XpG(),Bt=e.sdS(3);return e.Njj(it.handleArrowPress(b,Bt,Me,ue,"down"))}),e.nrm(3,"i",8),e.k0s(),e.DNE(4,BR,1,0,"ng-container",9)(5,eT,1,15,"ds-dynamic-form-control-container",10)(6,UR,1,0,"ng-container",9),e.k0s()}if(2&d){const o=y.$implicit,c=e.XpG();e.AVh("grey-background",c.model.isInlineGroupArray),e.Y8G("formGroupName",o.index)("ngClass",e.l_i(15,qD,c.getClass("element","group"),c.getClass("grid","group")))("cdkDragDisabled",c.dragDisabled)("cdkDragPreviewClass","ds-submission-reorder-dragging"),e.R7$(2),e.AVh("drag-disable",c.dragDisabled),e.R7$(),e.AVh("drag-disable",c.dragDisabled),e.R7$(),e.Y8G("ngTemplateOutlet",null==c.startTemplate?null:c.startTemplate.templateRef)("ngTemplateOutletContext",o),e.R7$(),e.Y8G("ngForOf",o.group),e.R7$(),e.Y8G("ngTemplateOutlet",null==c.endTemplate?null:c.endTemplate.templateRef)("ngTemplateOutletContext",o)}}let V_=(()=>{class d extends Ss.mEL{constructor(o,c,b,$){super(o,c),this.layoutService=o,this.validationService=c,this.liveRegionService=b,this.translateService=$,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.customEvent=new e.bkB}moveSelection(o){if(o.previousIndex===o.currentIndex)return;this.model.moveGroup(o.previousIndex,o.currentIndex-o.previousIndex);const c=o.previousIndex,b=o.currentIndex;(0,G.a4)(this.model.groups[b])&&(0,G.a4)(this.control.controls[b])&&this.onCustomEvent({previousIndex:c,index:b,arrayModel:this.model,model:this.model.groups[b].group[0],control:this.control.controls[b]},"move")}update(o,c){const b=Object.assign({},o,{context:{index:c-1}});this.onChange(b)}get dragDisabled(){return 1===this.model.groups.length||!this.model.isDraggable}getControlOfGroup(o){return o.hasOwnProperty("startingIndex")||(o.startingIndex=o.index),this.control.get([o.startingIndex])}toggleKeyboardDragAndDrop(o,c,b,$){o.preventDefault(),this.elementBeingSorted?this.stopKeyboardDragAndDrop(c,b,$):(c.classList.add("sorting-with-keyboard"),this.elementBeingSorted=c,this.elementBeingSortedStartingIndex=b,this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.status",{itemName:c.querySelector("input")?.value,index:b+1,length:$})))}stopKeyboardDragAndDrop(o,c,b){this.elementBeingSorted?.classList.remove("sorting-with-keyboard"),this.liveRegionService.clear(),this.elementBeingSorted&&(this.elementBeingSorted=null,this.elementBeingSortedStartingIndex=null,this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.dropped",{itemName:o.querySelector("input")?.value,index:c+1,length:b})))}handleArrowPress(o,c,b,$,ue){let Me="up"===ue?$-1:$+1;Me<0?Me=b-1:Me>=b&&(Me=0),this.elementBeingSorted?(this.model.moveGroup($,Me-$),(0,G.a4)(this.model.groups[Me])&&(0,G.a4)(this.control.controls[Me])&&(this.onCustomEvent({previousIndex:$,newIndex:Me,arrayModel:this.model,model:this.model.groups[Me].group[0],control:this.control.controls[Me]},"move"),this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.moved",{itemName:this.elementBeingSorted.querySelector("input")?.value,index:Me+1,length:b}))),o.preventDefault(),setTimeout(()=>{this.setFocusToDropListElementOfIndex(c,Me,ue)})):(o.preventDefault(),this.setFocusToDropListElementOfIndex(c,Me,ue))}cancelKeyboardDragAndDrop(o,c,b){this.model.moveGroup(c,this.elementBeingSortedStartingIndex-c),(0,G.a4)(this.model.groups[this.elementBeingSortedStartingIndex])&&(0,G.a4)(this.control.controls[this.elementBeingSortedStartingIndex])&&(this.onCustomEvent({previousIndex:c,newIndex:this.elementBeingSortedStartingIndex,arrayModel:this.model,model:this.model.groups[this.elementBeingSortedStartingIndex].group[0],control:this.control.controls[this.elementBeingSortedStartingIndex]},"move"),this.stopKeyboardDragAndDrop(o,this.elementBeingSortedStartingIndex,b))}setFocusToDropListElementOfIndex(o,c,b){const $=o.querySelectorAll("[cdkDragHandle]")[c];$&&($.focus(),this.isElementInViewport($)||$.scrollIntoView("up"===b))}isElementInViewport(o){const c=o.getBoundingClientRect();return c.top>=0&&c.left>=0&&c.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&c.right<=(window.innerWidth||document.documentElement.clientWidth)}addInstructionMessageToLiveRegion(o){this.elementBeingSorted||(this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.instructions",{itemName:o.querySelector("input")?.value})))}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Ss.fpj),e.rXU(Ss.STK),e.rXU(NR.A),e.rXU(K.c$))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-form-array"]],inputs:{bindId:"bindId",formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[["dropList",""],["sortableElement",""],[3,"formGroup"],[3,"id","formArrayName","ngClass"],["role","listbox","cdkDropList","","cdkDropListLockAxis","y",3,"cdkDropListDropped"],["class","drag-item-container","role","group","cdkDrag","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass","grey-background",4,"ngFor","ngForOf"],["role","group","cdkDrag","",1,"drag-item-container",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass"],["tabindex","0","cdkDragHandle","",1,"drag-handle",3,"focus","keydown.space","keydown.enter","keydown.tab","keydown.escape","keydown.arrowUp","keydown.arrowDown"],[1,"drag-icon","fas","fa-grip-vertical","fa-fw"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"bindId","formGroup","formModel","context","group","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","bindId","formGroup","formModel","context","group","hidden","layout","model","templates","ngClass"]],template:function(c,b){if(1&c){const $=e.RV6();e.qex(0,2),e.j41(1,"div",3)(2,"div",4,0),e.nI1(4,"translate"),e.bIt("cdkDropListDropped",function(Me){return e.eBV($),e.Njj(b.moveSelection(Me))}),e.DNE(5,kR,7,18,"div",5),e.k0s()(),e.bVm()}2&c&&(e.Y8G("formGroup",b.group),e.R7$(),e.AVh("d-none",b.model.hidden),e.Y8G("id",b.id)("formArrayName",b.model.id)("ngClass",b.getClass("element","control")),e.R7$(),e.BMQ("aria-label",e.bMT(4,8,"dynamic-form-array.sortable-list.label")),e.R7$(3),e.Y8G("ngForOf",b.model.groups))},dependencies:()=>[rn.X1,rn.cb,rn.j4,rn.$R,rn.v8,Vu.O7,f.YU,f.Sq,Vu.T1,Vu.Fb,FR._,f.T3,K.h,K.D9],styles:["[_nghost-%COMP%]{display:block}.drag-disable[_ngcontent-%COMP%]{visibility:hidden!important}.drag-disable[_ngcontent-%COMP%]:hover, .drag-disable[_ngcontent-%COMP%]:focus{cursor:default}.drag-disable[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .drag-disable[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:hidden!important}.cdk-drag[_ngcontent-%COMP%]{margin-left:calc(-2.3 * var(--bs-spacer));margin-right:calc(-.5 * var(--bs-spacer));padding-right:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%] > .col[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}.cdk-drag[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{width:calc(2 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden;width:calc(2 * var(--bs-spacer));color:var(--bs-gray-600);margin:var(--bs-btn-padding-y) 0;line-height:var(--bs-btn-line-height);text-indent:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]:hover, .cdk-drag[_ngcontent-%COMP%]:focus{cursor:grab}.cdk-drag[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .cdk-drag[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:visible}.drag-handle[_ngcontent-%COMP%]:hover{cursor:move}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:grabbing}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden}.cdk-drag-preview[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}  .sorting-with-keyboard input{background-color:var(--bs-gray-400)}"]})}}return d})();var VR=n(37636);const lw=(d,y)=>[d,y];let cw=(()=>{class d extends U_{constructor(o,c){super(o,c),this.bindId=!0,this.selected=new e.bkB,this.remove=new e.bkB,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Ss.fpj),e.rXU(Ss.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-custom-switch"]],inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:23,consts:[[1,"form-check","custom-control","form-switch",3,"formGroup","ngClass"],["type","checkbox",1,"form-check-input","custom-control-input",3,"blur","change","focus","checked","id","formControlName","indeterminate","name","ngClass","required","tabindex","value"],[1,"form-check-label","custom-control-label",3,"for"],[3,"innerHTML","ngClass"]],template:function(c,b){1&c&&(e.j41(0,"div",0)(1,"input",1),e.bIt("blur",function(ue){return b.onBlur(ue)})("change",function(ue){return b.onChange(ue)})("focus",function(ue){return b.onFocus(ue)}),e.k0s(),e.j41(2,"label",2),e.nrm(3,"span",3),e.nI1(4,"translate"),e.k0s()()),2&c&&(e.AVh("disabled",b.model.disabled),e.Y8G("formGroup",b.group)("ngClass",b.getClass("element","container")),e.R7$(),e.AVh("is-invalid",b.showErrorMessages),e.Y8G("checked",b.model.checked)("id",b.id)("formControlName",b.model.id)("indeterminate",b.model.indeterminate)("name",b.model.name)("ngClass",b.getClass("element","control"))("required",b.model.required)("tabindex",b.model.tabIndex)("value",b.model.value),e.R7$(),e.Y8G("for",b.bindId&&b.model.id),e.R7$(),e.Y8G("innerHTML",e.bMT(4,18,b.model.label),e.npT)("ngClass",e.l_i(20,lw,b.getClass("element","label"),b.getClass("grid","label"))))},dependencies:[f.YU,rn.X1,rn.Zm,rn.BC,rn.cb,rn.xq,rn.j4,rn.JD,K.h,K.D9],styles:["div.custom-switch.custom-control-right[_ngcontent-%COMP%]{margin-left:0;margin-right:0}div.custom-switch.custom-control-right[_ngcontent-%COMP%]:after{right:-1.5rem;left:auto}div.custom-switch.custom-control-right[_ngcontent-%COMP%]:before{right:-2.35rem;left:auto}"]})}}return d})();var GR=n(33382),wy=n(87668);function tT(d,y){if(1&d&&e.nrm(0,"i",6),2&d){const o=e.XpG();e.HbH(o.model.toggleIcon)}}function $d(d,y){if(1&d&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(o.model.toggleLabel)}}let nT=(()=>{class d extends Ss.S6A{constructor(o,c,b){super(o,c),this.layoutService=o,this.validationService=c,this.config=b,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Ss.fpj),e.rXU(Ss.STK),e.rXU(q.I5))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-date-picker-inline"]],viewQuery:function(c,b){if(1&c&&e.GBs(q.yB,5),2&c){let $;e.mGM($=e.lsd())&&(b.ngbDatePicker=$.first)}},inputs:{bindId:"bindId",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:25,consts:[["datepicker","ngbDatepicker"],[1,"input-group",3,"formGroup"],["ngbDatepicker","",1,"form-control",3,"blur","dateSelect","change","focus","displayMonths","id","firstDayOfWeek","formControlName","maxDate","minDate","name","navigation","ngClass","outsideDays","placeholder","placement","weekdays","showWeekNumbers","startDate"],["type","button",1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["aria-hidden","true"]],template:function(c,b){if(1&c){const $=e.RV6();e.j41(0,"div",1)(1,"input",2,0),e.bIt("blur",function(Me){return e.eBV($),e.Njj(b.onBlur(Me))})("dateSelect",function(Me){return e.eBV($),e.Njj(b.onChange(Me))})("change",function(Me){return e.eBV($),e.Njj(b.onChange(Me))})("focus",function(Me){return e.eBV($),e.Njj(b.onFocus(Me))}),e.k0s(),e.j41(3,"button",3),e.bIt("click",function(){e.eBV($);const Me=e.sdS(2);return e.Njj(Me.toggle())}),e.DNE(4,tT,1,3,"i",4)(5,$d,2,1,"span",5),e.k0s()()}2&c&&(e.Y8G("formGroup",b.group),e.R7$(),e.AVh("is-invalid",b.showErrorMessages),e.Y8G("displayMonths",b.model.getAdditional("displayMonths",b.config.displayMonths))("id",b.id)("firstDayOfWeek",b.model.getAdditional("firstDayOfWeek",b.config.firstDayOfWeek))("formControlName",b.model.id)("maxDate",b.model.max)("minDate",b.model.min)("name",b.model.name)("navigation",b.model.getAdditional("navigation",b.config.navigation))("ngClass",b.getClass("element","control"))("outsideDays",b.model.getAdditional("outsideDays",b.config.outsideDays))("placeholder",b.model.placeholder)("placement",b.model.getAdditional("placement","bottom-left"))("weekdays",b.model.getAdditional("showWeekdays",b.config.showWeekdays))("showWeekNumbers",b.model.getAdditional("showWeekNumbers",b.config.showWeekNumbers))("startDate",b.model.focusedDate),e.BMQ("aria-labelledby","label_"+b.model.id),e.R7$(2),e.AVh("disabled",b.model.disabled),e.Y8G("dsBtnDisabled",b.model.disabled),e.BMQ("aria-labelledby","label_"+b.model.id),e.R7$(),e.Y8G("ngIf",b.model.toggleIcon),e.R7$(),e.Y8G("ngIf",b.model.toggleLabel))},dependencies:[f.YU,q.IQ,q.cw,rn.X1,rn.me,rn.BC,rn.cb,rn.j4,rn.JD,f.bT,Zf.A],encapsulation:2})}}return d})();var $R=n(6458);let dw=(()=>{class d extends Ss.S6A{constructor(o,c){super(o,c),this.layoutService=o,this.validationService=c,this.modelValuesString="",this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Ss.fpj),e.rXU(Ss.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-disabled"]],inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:11,consts:[[1,"row","align-items-center"],[1,"col"],[1,"form-control",3,"id","name","value","disabled","type","placeholder","readonly"]],template:function(c,b){1&c&&(e.j41(0,"div")(1,"div",0)(2,"div",1),e.nrm(3,"input",2),e.nI1(4,"translate"),e.k0s()()()),2&c&&(e.R7$(3),e.AVh("is-invalid",b.showErrorMessages),e.Y8G("id",b.id)("name",b.model.name)("value",b.modelValuesString)("disabled",b.model.disabled)("type",b.model.inputType)("placeholder",e.bMT(4,9,b.model.placeholder))("readonly",b.model.readOnly))},dependencies:[K.h,K.D9],encapsulation:2})}}return d})();const sT=(d,y)=>[d,y];function WR(d,y){if(1&d){const o=e.RV6();e.j41(0,"ds-dynamic-form-control-container",4),e.bIt("dfBlur",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onBlur(b))})("dfChange",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onChange(b))})("dfFocus",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onFocus(b))})("ngbEvent",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onCustomEvent(b,null,!0))}),e.k0s()}if(2&d){const o=y.$implicit,c=e.XpG();e.AVh("d-none",o.hidden),e.Y8G("formGroup",c.group)("formModel",c.formModel)("group",c.control)("hasErrorMessaging",c.model.hasErrorMessages)("hidden",o.hidden)("layout",c.formLayout)("model",o)("templates",c.templates)("ngClass",e.l_i(11,sT,c.getClass("element","host",o),c.getClass("grid","host",o)))}}let xy=(()=>{class d extends Ss.S6A{constructor(o,c){super(o,c),this.layoutService=o,this.validationService=c,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.customEvent=new e.bkB}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Ss.fpj),e.rXU(Ss.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-form-group"]],inputs:{formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:7,consts:[[2,"width","100%"],[3,"formGroup"],["role","group",3,"formGroupName","id","ngClass"],[3,"formGroup","formModel","group","hasErrorMessaging","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","formGroup","formModel","group","hasErrorMessaging","hidden","layout","model","templates","ngClass"]],template:function(c,b){1&c&&(e.j41(0,"div",0),e.qex(1,1),e.j41(2,"div",2),e.DNE(3,WR,1,14,"ds-dynamic-form-control-container",3),e.k0s(),e.bVm(),e.k0s()),2&c&&(e.R7$(),e.Y8G("formGroup",b.group),e.R7$(),e.AVh("d-none",b.model.hidden),e.Y8G("formGroupName",b.model.id)("id",b.id)("ngClass",b.getClass("element","control")),e.R7$(),e.Y8G("ngForOf",b.model.group))},dependencies:()=>[rn.X1,rn.cb,rn.j4,rn.$R,f.YU,f.Sq,FR._],encapsulation:2})}}return d})();var G_=n(32089),$_=n(19506),Ly=n(33126);function KR(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",8)(1,"input",9),e.bIt("blur",function(b){e.eBV(o);const $=e.XpG(3);return e.Njj($.onBlur(b))})("change",function(b){e.eBV(o);const $=e.XpG(3);return e.Njj($.onChange(b))})("focus",function(b){e.eBV(o);const $=e.XpG(3);return e.Njj($.onFocus(b))}),e.k0s(),e.j41(2,"label",10),e.nrm(3,"span",11),e.k0s()()}if(2&d){const o=y.$implicit,c=e.XpG(3);e.R7$(),e.Y8G("checked",o.value)("id",o.id)("formControlName",o.id)("name",c.model.name)("value",o.value),e.BMQ("aria-labelledby","label_"+c.model.id)("tabindex",o.index),e.R7$(),e.AVh("disabled",c.model.disabled),e.Y8G("ngClass",null==c.model.layout.element?null:c.model.layout.element.control)("for",o.id),e.R7$(),e.Y8G("ngClass",null==c.model.layout.element?null:c.model.layout.element.label)("innerHTML",o.label,e.npT)}}function HR(d,y){if(1&d&&(e.j41(0,"div",6),e.DNE(1,KR,4,13,"div",7),e.k0s()),2&d){const o=y.$implicit;e.R7$(),e.Y8G("ngForOf",o)}}function uw(d,y){if(1&d&&(e.j41(0,"div",4),e.DNE(1,HR,2,1,"div",5),e.k0s()),2&d){const o=e.XpG();e.Y8G("id",o.id)("formGroupName",o.model.id)("ngClass",null==o.model.layout.element?null:o.model.layout.element.control),e.BMQ("tabindex",o.model.tabIndex),e.R7$(),e.Y8G("ngForOf",o.items)}}function hw(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",14)(1,"input",15),e.bIt("blur",function(b){e.eBV(o);const $=e.XpG(3);return e.Njj($.onBlur(b))})("focus",function(b){e.eBV(o);const $=e.XpG(3);return e.Njj($.onFocus(b))}),e.k0s(),e.j41(2,"label",10),e.nrm(3,"span",11),e.k0s()()}if(2&d){const o=y.$implicit,c=e.XpG(3);e.R7$(),e.Y8G("checked",o.value)("id",o.id)("name",c.model.id)("required",c.model.required)("value",o.index),e.R7$(),e.AVh("disabled",c.model.disabled),e.Y8G("ngClass",null==c.model.layout.element?null:c.model.layout.element.control)("for",o.id),e.R7$(),e.Y8G("ngClass",null==c.model.layout.element?null:c.model.layout.element.label)("innerHTML",o.label,e.npT)}}function iT(d,y){if(1&d&&(e.j41(0,"div",6),e.DNE(1,hw,4,11,"div",13),e.k0s()),2&d){const o=y.$implicit;e.R7$(),e.Y8G("ngForOf",o)}}function oT(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",12),e.bIt("change",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onChange(b))}),e.DNE(1,iT,2,1,"div",5),e.k0s()}if(2&d){const o=e.XpG();e.Y8G("id",o.id)("ngClass",null==o.model.layout.element?null:o.model.layout.element.control),e.BMQ("tabindex",o.model.tabIndex),e.R7$(),e.Y8G("ngForOf",o.items)}}function zR(d,y){1&d&&(e.j41(0,"div",16),e.nrm(1,"ds-loading"),e.k0s())}let rT=(()=>{class d extends Ss.S6A{constructor(o,c,b,$,ue){super($,ue),this.vocabularyService=o,this.cdr=c,this.formBuilderService=b,this.layoutService=$,this.validationService=ue,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.items=[],this.isLoading$=new _.t(!0),this.optionsList=[],this.subs=[]}ngOnInit(){this.model.vocabularyOptions&&(0,G.a4)(this.model.vocabularyOptions.name)&&this.initOptionsFromVocabulary()}ngOnDestroy(){this.subs.length>0&&this.subs.forEach(o=>o.unsubscribe())}onBlur(o){this.blur.emit(o)}onFocus(o){this.focus.emit(o)}onChange(o){const c=o.target;if(this.model.repeatable){const b=this.optionsList[c.tabIndex];if(c.checked)this.model.valueUpdates.next(b);else{const $=[];this.model.value.filter(ue=>ue.value!==b.value).forEach(ue=>$.push(ue)),this.model.valueUpdates.next($)}}else this.model.value=this.optionsList[c.value];this.change.emit(o)}initOptionsFromVocabulary(){if(this.model.vocabularyOptions.name&&this.model.vocabularyOptions.name.length>0){const o=this.group.controls[this.model.id];this.model.repeatable&&this.model.required&&o.addValidators(this.hasAtLeastOneVocabularyEntry()),this.nextPageInfo=new G_.Q({elementsPerPage:20,currentPage:1}),this.loadEntries(o)}}hasAtLeastOneVocabularyEntry(){return o=>o&&o.value&&Object.values(o.value).find(c=>!0===c)?null:this.model.errorMessages}setPaginationInfo(o){o.pageInfo.currentPage<o.pageInfo.totalPages?(this.nextPageInfo=Object.assign(new G_.Q,o.pageInfo,{currentPage:o.currentPage+1}),this.isLoading$.next(!0)):this.isLoading$.next(!1)}loadEntries(o){(0,G.a4)(o)||(o=this.group.controls[this.model.id]),this.subs.push(this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,this.nextPageInfo).pipe((0,Bs.ak)(),(0,pi.M)(c=>this.setPaginationInfo(c)),(0,xt.T)(c=>c.page)).subscribe(c=>{this.optionsList=[...this.optionsList,...c];let b=this.items.length,$=0,ue=[];c.forEach(Me=>{const it=Me.authority||Me.value,Bt=(0,G.hj)(Wp()(this.model.value,cn=>cn?.value===Me.value)),yn={id:`${this.model.id}_${it}`,label:Me.display,value:Bt,index:this.optionsList.indexOf(Me)};this.model.repeatable?this.formBuilderService.addFormGroupControl(o,this.model,new Ss.M7d(yn)):this.model.options.push({label:yn.label,value:Me}),ue.push(yn),$++,this.items[b]=ue,$===this.model.groupLength&&(b++,$=0,ue=[])}),this.cdr.markForCheck(),this.isLoading$.value&&this.loadEntries()}))}static{this.\u0275fac=function(c){return new(c||d)(e.rXU($_.g),e.rXU(e.gRc),e.rXU(Ly.j),e.rXU(Ss.fpj),e.rXU(Ss.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-list"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:6,consts:[[3,"formGroup"],["class","row",3,"id","formGroupName","ngClass",4,"ngIf"],["class","row","ngbRadioGroup","",3,"id","ngClass","change",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"row",3,"id","formGroupName","ngClass"],["class","col-sm ms-3",4,"ngFor","ngForOf"],[1,"col-sm","ms-3"],["class","custom-control custom-checkbox",4,"ngFor","ngForOf"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"blur","change","focus","checked","id","formControlName","name","value"],[1,"custom-control-label",3,"ngClass","for"],[3,"ngClass","innerHTML"],["ngbRadioGroup","",1,"row",3,"change","id","ngClass"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],["type","radio",1,"custom-control-input",3,"blur","focus","checked","id","name","required","value"],[1,"d-flex","justify-content-center"]],template:function(c,b){1&c&&(e.j41(0,"div",0),e.DNE(1,uw,2,5,"div",1)(2,oT,2,4,"div",2)(3,zR,2,0,"div",3),e.nI1(4,"async"),e.k0s()),2&c&&(e.Y8G("formGroup",b.group),e.R7$(),e.Y8G("ngIf",b.model.repeatable),e.R7$(),e.Y8G("ngIf",!b.model.repeatable),e.R7$(),e.Y8G("ngIf",e.bMT(4,4,b.isLoading$)))},dependencies:[f.YU,f.bT,q.Ll,q.M0,f.Sq,rn.X1,rn.Zm,rn.BC,rn.cb,rn.j4,rn.JD,rn.$R,f.Jj,K.h,Vh.v]})}}return d})();var pw=n(29658),fw=n(90558),YR=n(86820),XR=n(96820),mw=n(99390),Ny=n(39729),Gu=n(61280),aT=n(54875),lT=n(37146);const cT=()=>({}),$u=d=>({entry:d});function dT(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",17)(1,"input",18),e.nI1(2,"translate"),e.mxI("ngModelChange",function(b){e.eBV(o);const $=e.XpG();return e.DH7($.secondInputValue,b)||($.secondInputValue=b),e.Njj(b)}),e.bIt("change",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onChange(b))})("blur",function(b){e.eBV(o);const $=e.XpG(),ue=e.sdS(1);return $.onBlur(b),b.stopPropagation(),e.Njj(ue.close())})("focus",function(b){e.eBV(o);const $=e.XpG(),ue=e.sdS(1);return $.onFocus(b),b.stopPropagation(),e.Njj(ue.close())})("click",function(b){e.eBV(o),e.XpG();const $=e.sdS(1);return b.stopPropagation(),e.Njj($.close())}),e.k0s()()}if(2&d){const o=e.XpG();e.R7$(),e.AVh("is-invalid",o.showErrorMessages),e.Y8G("ngClass",e.lJ4(14,cT))("id",o.id)("name",o.model.name+"_2")("type",o.model.inputType),e.R50("ngModel",o.secondInputValue),e.Y8G("disabled",0===o.firstInputValue.length||o.isInputDisabled())("placeholder",e.bMT(2,12,o.model.secondPlaceholder))("readonly",o.model.readOnly),e.BMQ("aria-labelledby","label_"+o.model.id)("autoComplete",o.model.autoComplete)}}function Fy(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.remove())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&d){const o=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.clear-help")),e.Y8G("dsBtnDisabled",o.model.readOnly),e.R7$(2),e.SpI("",e.bMT(3,5,"form.clear")," ")}}function jy(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.switchEditMode())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&d){const o=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.edit-help")),e.Y8G("dsBtnDisabled",o.isEditDisabled()),e.R7$(2),e.SpI("",e.bMT(3,5,"form.edit")," ")}}function JR(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.saveChanges())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&d){const o=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.save-help")),e.Y8G("dsBtnDisabled",!o.hasEmptyValue()),e.R7$(2),e.SpI("",e.bMT(3,5,"form.save")," ")}}function By(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",20),e.bIt("click",function(b){e.eBV(o);const $=e.XpG(),ue=e.sdS(1);return b.stopPropagation(),$.clearFields(),e.Njj(ue.close())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"form.no-results")," "))}function Uy(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",21),e.bIt("click",function(b){const $=e.eBV(o).$implicit,ue=e.XpG(),Me=e.sdS(1);return b.stopPropagation(),ue.onSelect($),e.Njj(Me.close())}),e.eu8(1,22),e.k0s()}if(2&d){const o=y.$implicit;e.XpG();const c=e.sdS(23),b=e.sdS(25);e.FS9("title",o.display),e.R7$(),e.Y8G("ngTemplateOutlet",o.hasOtherInformation()?c:b)("ngTemplateOutletContext",e.eq3(3,$u,o))}}function W_(d,y){1&d&&(e.j41(0,"div",23)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d&&(e.R7$(2),e.JRh(e.bMT(3,1,"form.loading")))}function gw(d,y){if(1&d&&(e.j41(0,"li",27),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d){const o=y.$implicit;e.R7$(),e.Lme(" ",e.bMT(2,2,"form.other-information."+o.key)," : ",o.value," ")}}function _w(d,y){if(1&d&&(e.j41(0,"ul",24)(1,"li",25),e.EFF(2),e.k0s(),e.DNE(3,gw,3,4,"li",26),e.nI1(4,"dsObjNgFor"),e.k0s()),2&d){const o=y.entry,c=e.XpG();e.BMQ("aria-labelledby","label_"+c.model.id),e.R7$(2),e.JRh(o.value),e.R7$(),e.Y8G("ngForOf",e.bMT(4,3,o.otherInformation))}}function vw(d,y){if(1&d&&(e.j41(0,"ul",24)(1,"li",25),e.EFF(2),e.k0s()()),2&d){const o=y.entry,c=e.XpG();e.BMQ("aria-labelledby","label_"+c.model.id),e.R7$(2),e.JRh(o.value)}}let ky=(()=>{class d extends aT.o{constructor(o,c,b,$){super(o,b,$),this.vocabularyService=o,this.cdr=c,this.layoutService=b,this.validationService=$,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.editMode=!1,this.firstInputValue="",this.secondInputValue="",this.loading=!1,this.subs=[],this.inputFormatter=(ue,Me)=>1===Me?this.firstInputValue:this.secondInputValue}ngOnInit(){(0,G.hj)(this.model.value)&&this.setCurrentValue(this.model.value,!0),this.subs.push(this.model.valueChanges.subscribe(o=>{(0,G.Im)(o)?this.resetFields():this.editMode||this.setCurrentValue(this.model.value)}))}hasAuthorityValue(){return(0,G.a4)(this.model.value)&&"object"==typeof this.model.value&&this.model.value.hasAuthority()}hasEmptyValue(){return(0,G.hj)(this.getCurrentValue())}clearFields(){this.model.vocabularyOptions.closed&&this.resetFields()}isEditDisabled(){return!this.hasAuthorityValue()}isInputDisabled(){return this.model.vocabularyOptions.closed&&this.hasAuthorityValue()&&!this.editMode}isLookupName(){return this.model instanceof lT._}isSearchDisabled(){return(0,G.Im)(this.firstInputValue)||this.editMode}onChange(o){if(o.preventDefault(),!this.model.vocabularyOptions.closed)if((0,G.hj)(this.getCurrentValue())){const c=new Gu.e(this.getCurrentValue());this.editMode||this.updateModel(c)}else this.remove()}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.search())}onSelect(o){this.updateModel(o)}openChange(o){o||this.model.vocabularyOptions.closed&&!this.hasAuthorityValue()&&this.setCurrentValue("")}remove(){this.group.markAsPristine(),this.dispatchUpdate(null)}saveChanges(){if((0,G.hj)(this.getCurrentValue())){const o=Object.assign(new hf.b,this.model.value,{display:this.getCurrentValue(),value:this.getCurrentValue()});this.updateModel(o)}else this.remove();this.switchEditMode()}search(){this.optionsList=null,this.updatePageInfo(this.model.maxOptions,1),this.loading=!0,this.subs.push(this.vocabularyService.getVocabularyEntriesByValue(this.getCurrentValue(),!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,Bs.ak)(),(0,Rn.W)(()=>(0,Ts.of)((0,XR.g)(new G_.Q,[]))),(0,C.F)()).subscribe(o=>{this.optionsList=o.page,this.updatePageInfo(o.pageInfo.elementsPerPage,o.pageInfo.currentPage,o.pageInfo.totalElements,o.pageInfo.totalPages),this.loading=!1,this.cdr.detectChanges()}))}switchEditMode(){this.editMode=!this.editMode}whenClickOnConfidenceNotAccepted(o,c){this.model.readOnly||(o.open(),this.search())}ngOnDestroy(){this.subs.filter(o=>(0,G.a4)(o)).forEach(o=>o.unsubscribe())}setCurrentValue(o,c=!1){c?this.getInitValueFromModel().subscribe(b=>this.setDisplayInputValue(b.display)):(0,G.a4)(o)&&(o instanceof Gu.e||o instanceof hf.b)&&this.setDisplayInputValue(o.display)}setDisplayInputValue(o){if((0,G.a4)(o)){if(this.isLookupName()){const c=o.split(this.model.separator);this.firstInputValue=(c[0]||"").trim(),this.secondInputValue=(c[1]||"").trim()}else this.firstInputValue=o||"";this.cdr.detectChanges()}}getCurrentValue(){let o="";return this.isLookupName()?((0,G.hj)(this.firstInputValue)&&(o=this.firstInputValue),(0,G.hj)(this.secondInputValue)&&(o=(0,G.Im)(o)?this.secondInputValue:this.firstInputValue+this.model.separator+" "+this.secondInputValue)):o=this.firstInputValue,o}resetFields(){this.firstInputValue="",this.isLookupName()&&(this.secondInputValue="")}updateModel(o){this.group.markAsDirty(),this.dispatchUpdate(o),this.setCurrentValue(o),this.optionsList=null,this.pageInfo=null}static{this.\u0275fac=function(c){return new(c||d)(e.rXU($_.g),e.rXU(e.gRc),e.rXU(Ss.fpj),e.rXU(Ss.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-lookup"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:26,vars:33,consts:[["sdRef","ngbDropdown"],["hasInfo",""],["noInfo",""],["ngbDropdown","",3,"click","openChange"],[1,"row","align-items-center"],[1,"col","right-addon"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0","pe-2",3,"whenClickOnConfidenceNotAccepted","authorityValue"],[1,"form-control",3,"ngModelChange","change","blur","focus","click","id","name","type","ngModel","disabled","placeholder","readonly"],["class","col",4,"ngIf"],[1,"col-auto","text-center"],["ngbDropdownAnchor","","type","button","placement","top",1,"btn","btn-secondary",3,"click","ngbTooltip","dsBtnDisabled","hidden"],["class","btn btn-secondary","type","button","placement","top",3,"ngbTooltip","dsBtnDisabled","click",4,"ngIf"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["infiniteScroll","",1,"scrollable-menu",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow"],["class","dropdown-item disabled","type","button",3,"click",4,"ngIf"],["class","dropdown-item lookup-item","type","button",3,"title","click",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],[1,"col"],[1,"form-control",3,"ngModelChange","change","blur","focus","click","ngClass","id","name","type","ngModel","disabled","placeholder","readonly"],["type","button","placement","top",1,"btn","btn-secondary",3,"click","ngbTooltip","dsBtnDisabled"],["type","button",1,"dropdown-item","disabled",3,"click"],["type","button",1,"dropdown-item","lookup-item",3,"click","title"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"scrollable-dropdown-loading","text-center"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","fw-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"]],template:function(c,b){if(1&c){const $=e.RV6();e.j41(0,"div",3,0),e.bIt("click",function(Me){return e.eBV($),e.Njj(Me.stopPropagation())})("openChange",function(Me){return e.eBV($),e.Njj(b.openChange(Me))}),e.j41(2,"div",4)(3,"div",5)(4,"i",6),e.bIt("whenClickOnConfidenceNotAccepted",function(Me){e.eBV($);const it=e.sdS(1);return e.Njj(b.whenClickOnConfidenceNotAccepted(it,Me))}),e.k0s(),e.j41(5,"input",7),e.nI1(6,"translate"),e.mxI("ngModelChange",function(Me){return e.eBV($),e.DH7(b.firstInputValue,Me)||(b.firstInputValue=Me),e.Njj(Me)}),e.bIt("change",function(Me){return e.eBV($),e.Njj(b.onChange(Me))})("blur",function(Me){e.eBV($);const it=e.sdS(1);return b.onBlur(Me),Me.stopPropagation(),e.Njj(it.close())})("focus",function(Me){e.eBV($);const it=e.sdS(1);return b.onFocus(Me),Me.stopPropagation(),e.Njj(it.close())})("click",function(Me){e.eBV($);const it=e.sdS(1);return Me.stopPropagation(),Me.stopPropagation(),e.Njj(it.close())}),e.k0s()(),e.DNE(7,dT,3,15,"div",8),e.j41(8,"div",9)(9,"button",10),e.nI1(10,"translate"),e.bIt("click",function(Me){return e.eBV($),e.sdS(1).open(),b.search(),e.Njj(Me.stopPropagation())}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,Fy,4,7,"button",11),e.k0s(),e.j41(14,"div",9),e.DNE(15,jy,4,7,"button",11)(16,JR,4,7,"button",11),e.k0s()(),e.j41(17,"div",12)(18,"div",13),e.bIt("scrolled",function(){return e.eBV($),e.Njj(b.onScroll())}),e.DNE(19,By,3,3,"button",14)(20,Uy,2,5,"button",15)(21,W_,4,3,"div",16),e.k0s()()(),e.DNE(22,_w,5,5,"ng-template",null,1,e.C5r)(24,vw,3,2,"ng-template",null,2,e.C5r)}2&c&&(e.R7$(4),e.Y8G("authorityValue",b.model.value),e.R7$(),e.AVh("is-invalid",b.showErrorMessages),e.Y8G("id",b.model.id)("name",b.model.name)("type",b.model.inputType),e.R50("ngModel",b.firstInputValue),e.Y8G("disabled",b.isInputDisabled())("placeholder",e.bMT(6,27,b.model.placeholder))("readonly",b.model.readOnly),e.BMQ("aria-labelledby","label_"+b.model.id)("autoComplete",b.model.autoComplete),e.R7$(2),e.Y8G("ngIf",b.isLookupName()),e.R7$(2),e.FS9("ngbTooltip",e.bMT(10,29,"form.search-help")),e.Y8G("dsBtnDisabled",b.model.readOnly||b.isSearchDisabled())("hidden",b.isInputDisabled()),e.R7$(2),e.SpI("",e.bMT(12,31,"form.search")," "),e.R7$(2),e.Y8G("ngIf",b.isInputDisabled()),e.R7$(2),e.Y8G("ngIf",!b.editMode),e.R7$(),e.Y8G("ngIf",b.editMode),e.R7$(),e.BMQ("aria-labelledby","label_"+b.model.id),e.R7$(),e.Y8G("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),e.R7$(),e.Y8G("ngIf",b.optionsList&&0===b.optionsList.length),e.R7$(),e.Y8G("ngForOf",b.optionsList),e.R7$(),e.Y8G("ngIf",b.loading))},dependencies:[K.h,K.D9,q.n8,q.md,q.zH,q.tg,q.E5,q.U0,Ny.K,rn.YN,rn.me,rn.BC,rn.vS,f.bT,f.YU,YR.eO,YR.DP,f.Sq,f.T3,mw.U,Zf.A],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]     .dropdown-menu{left:0!important;width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}div[_ngcontent-%COMP%]{overflow:visible}.lookup-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}div.col[_ngcontent-%COMP%]{position:relative}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-right:5px;padding-left:5px}"]})}}return d})();var QR=n(80902),ZR=n(18302),qR=n(45500),eA=n(83278),Wu=n.n(eA);const uT=(0,ne.hZ)("shrinkInOut",[(0,ne.wk)("in",(0,ne.iF)({height:"100%",opacity:1})),(0,ne.kY)("* => void",[(0,ne.iF)({height:"!",opacity:1}),(0,ne.i0)(200,(0,ne.iF)({height:0,opacity:0}))]),(0,ne.kY)("void => *",[(0,ne.iF)({height:0,opacity:0}),(0,ne.i0)(200,(0,ne.iF)({height:"*",opacity:1}))])]);var hT=n(80597),tA=n(48376),ym=n.n(tA),pT=n(59519),Vy=n.n(pT),yw=n(98179);class Gy{constructor(y,o="display",c,b,$){this.id=Vy()(),this._item=y,this.fieldToDisplay=o,this.objToDisplay=c,this.setDisplayText(),this.editMode=$||!1,this.icons=b||[]}set item(y){this._item=y}get item(){return this._item}isNestedItem(){return(0,G.hj)(this.item)&&Wu()(this.item)&&(0,G.hj)(this.objToDisplay)&&this.item[this.objToDisplay]}hasIcons(){return(0,G.hj)(this.icons)}hasVisibleIcons(){if((0,G.hj)(this.icons)){let y=!1;for(const o of this.icons)if(this._item.hasOwnProperty(o.metadata)&&("string"==typeof this._item[o.metadata]&&(0,G.a4)(this._item[o.metadata])||this._item[o.metadata].hasValue())&&!this.hasPlaceholder(this._item[o.metadata])&&(o.visibleWhenAuthorityEmpty||this._item[o.metadata].confidence!==yw.l.CF_UNSET)&&(0,G.hj)(o.style)){y=!0;break}return y}return!1}setEditMode(){this.editMode=!0}updateIcons(y){this.icons=y}updateItem(y){this._item=y,this.setDisplayText()}unsetEditMode(){this.editMode=!1}setDisplayText(){let y=this._item;if(Wu()(this._item)){const o=this.objToDisplay?this._item[this.objToDisplay]:this._item;y=Wu()(o)&&o?o[this.fieldToDisplay]||o.value:o}this.display=y}hasPlaceholder(y){return"string"==typeof y?y===ku.N:y.hasPlaceholder()}}class K_{constructor(y=[],o="display",c,b){this.displayField=o,this.displayObj=c,this.iconsConfig=b||[],Array.isArray(y)&&this.setInitialItems(y)}add(y){const o=this.getChipsIcons(y),c=new Gy(y,this.displayField,this.displayObj,o),b=ym()(this._items,{display:c.display.trim()});(-1===b||!ru()(y,this.getChipByIndex(b).item))&&(this._items.push(c),this.chipsItems.next(this._items))}getChipById(y){const o=ym()(this._items,{id:y});return this.getChipByIndex(o)}getChipByIndex(y){return this._items.length>0&&this._items[y]?this._items[y]:null}getChips(){return this._items}getChipsItems(){const y=[];return this._items.forEach(o=>{y.push(o.item)}),y}hasItems(){return this._items.length>0}hasPlaceholder(y){return Wu()(y)?y.value===ku.N:y===ku.N}remove(y){const o=ym()(this._items,{id:y.id});this._items.splice(o,1),this.chipsItems.next(this._items)}update(y,o){const c=this.getChipById(y),b=this.getChipsIcons(o);c.updateItem(o),c.updateIcons(b),c.unsetEditMode(),this.chipsItems.next(this._items)}updateOrder(){this.chipsItems.next(this._items)}getChipsIcons(y){const o=[];if("string"==typeof y||y instanceof Gu.e||y instanceof hf.b)return o;const c=ym()(this.iconsConfig,{name:"default"}),b=-1!==c?this.iconsConfig[c]:void 0;let $,ue,Me;return Object.keys(y).forEach(it=>{Me=y[it],ue=ym()(this.iconsConfig,{name:it}),$=-1!==ue?this.iconsConfig[ue]:b,(0,G.a4)(Me)&&(0,G.hj)($)&&!this.hasPlaceholder(Me)&&o.push({metadata:it,visibleWhenAuthorityEmpty:this.displayObj!==it,style:$.style})}),o}setInitialItems(y){this._items=[],y.forEach(o=>{const c=this.getChipsIcons(o),b=new Gy(o,this.displayField,this.displayObj,c);this._items.push(b)}),this.chipsItems=new _.t(this._items)}}const nA=["*"],sA=d=>({"chip-selected disabled":d});function Ew(d,y){if(1&d&&(e.j41(0,"p",7),e.EFF(1),e.k0s()),2&d){const o=y.$implicit;e.R7$(),e.SpI(" ",o," ")}}function Cw(d,y){if(1&d&&e.DNE(0,Ew,2,1,"p",6),2&d){const o=e.XpG();e.Y8G("ngForOf",o.tipText)}}function bw(d,y){if(1&d&&(e.j41(0,"i",14),e.EFF(1,"\xa0"),e.k0s()),2&d){const o=e.XpG().$implicit;e.Y8G("authorityValue",o.item)}}function Dw(d,y){if(1&d){const o=e.RV6();e.j41(0,"i",16,1),e.bIt("mouseover",function(){const b=e.eBV(o).$implicit,$=e.sdS(1),ue=e.XpG(2).index,Me=e.XpG();return e.Njj(Me.showTooltip($,ue,b.metadata))})("mouseout",function(){e.eBV(o);const b=e.sdS(1);return e.Njj(b.close())}),e.k0s()}if(2&d){const o=y.$implicit,c=y.last,b=e.XpG(2).$implicit;e.XpG();const $=e.sdS(3);e.HbH(o.style),e.AVh("me-1",!c)("me-2",c),e.Y8G("ngbTooltip",$)("authorityValue",b.item[o.metadata]||b.item)("visibleWhenAuthorityEmpty",o.visibleWhenAuthorityEmpty)}}function Tw(d,y){if(1&d&&(e.qex(0),e.DNE(1,Dw,2,10,"i",15),e.bVm()),2&d){const o=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",o.icons)}}function Fr(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",8,1),e.bIt("mouseover",function(){const b=e.eBV(o).index,$=e.sdS(1),ue=e.XpG();return e.Njj(ue.showTooltip($,b))})("mouseout",function(){e.eBV(o);const b=e.sdS(1);return e.Njj(b.close())}),e.j41(2,"a",9),e.bIt("cdkDragStarted",function(){const b=e.eBV(o).index,$=e.XpG();return e.Njj($.onDrag(b))})("click",function(b){const $=e.eBV(o).index,ue=e.XpG();return e.Njj(ue.chipsSelected(b,$))}),e.j41(3,"span"),e.DNE(4,bw,2,1,"i",10)(5,Tw,2,1,"ng-container",11),e.j41(6,"p",12),e.EFF(7),e.k0s(),e.j41(8,"i",13),e.nI1(9,"translate"),e.bIt("click",function(b){const $=e.eBV(o).index,ue=e.XpG();return e.Njj(ue.removeChips(b,$))}),e.k0s()()()()}if(2&d){const o=y.$implicit,c=y.index,b=e.XpG(),$=e.sdS(3);e.Y8G("ngbTooltip",$),e.R7$(2),e.Y8G("ngClass",e.eq3(8,sA,b.editable&&o.editMode||b.dragged===c)),e.R7$(2),e.Y8G("ngIf",b.showIcons&&!o.isNestedItem()),e.R7$(),e.Y8G("ngIf",b.showIcons&&o.hasVisibleIcons()),e.R7$(2),e.JRh(o.display),e.R7$(),e.Y8G("title",e.bMT(9,6,"chips.remove"))}}let Dp=(()=>{class d{constructor(o,c){this.cdr=o,this.translate=c,this.editable=!0,this.showIcons=!1,this.selected=new e.bkB,this.remove=new e.bkB,this.change=new e.bkB,this.isDragging=new _.t(!1),this.dragged=-1}ngOnChanges(o){o.chips&&!o.chips.isFirstChange()&&(this.chips=o.chips.currentValue)}chipsSelected(o,c){o.preventDefault(),this.editable&&(this.chips.getChips().forEach((b,$)=>{$===c?b.setEditMode():b.unsetEditMode()}),this.selected.emit(c))}removeChips(o,c){o.preventDefault(),o.stopPropagation(),this.chips.getChipByIndex(c).editMode||this.chips.remove(this.chips.getChipByIndex(c))}onDrag(o){this.isDragging.next(!0),this.dragged=o}onDrop(o){(0,Vu.HD)(this.chips.chipsItems.getValue(),o.previousIndex,o.currentIndex),this.dragged=-1,this.chips.updateOrder(),this.isDragging.next(!1)}showTooltip(o,c,b){if(o.close(),this.isDragging.value)return;const $=this.chips.getChipByIndex(c),ue=[];!$.editMode&&-1===this.dragged&&(b?Wu()($.item[b])?(ue.push($.item[b].display),$.item[b].hasOtherInformation()&&Object.keys($.item[b].otherInformation).forEach(Me=>{this.translate.get("form.other-information."+Me).subscribe(it=>{ue.push(it+": "+$.item[b].otherInformation[Me])})})):ue.push($.item[b]):ue.push($.display),this.cdr.detectChanges(),(!$.hasIcons()||!$.hasVisibleIcons()||b)&&(this.tipText=ue,o.open()))}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(e.gRc),e.rXU(K.c$))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-chips"]],inputs:{chips:"chips",wrapperClass:"wrapperClass",editable:"editable",showIcons:"showIcons"},outputs:{selected:"selected",remove:"remove",change:"change"},standalone:!0,features:[e.OA$,e.aNF],ngContentSelectors:nA,decls:8,vars:6,consts:[["tipContent",""],["t","ngbTooltip"],[3,"className"],["role","list","cdkDropList","","cdkDropListOrientation","horizontal",1,"nav","nav-pills","d-flex","flex-column","flex-sm-row",3,"cdkDropListDropped"],["role","listitem","class","nav-item me-2 mb-1","triggers","manual",3,"ngbTooltip","mouseover","mouseout",4,"ngFor","ngForOf"],[1,"flex-grow-1"],["class","text-start p-0 m-0",4,"ngFor","ngForOf"],[1,"text-start","p-0","m-0"],["role","listitem","triggers","manual",1,"nav-item","me-2","mb-1",3,"mouseover","mouseout","ngbTooltip"],["cdkDrag","","href","javascript:void(0);",1,"flex-sm-fill","text-sm-center","nav-link","active","bg-info",3,"cdkDragStarted","click","ngClass"],["dsAuthorityConfidenceState","","class","far fa-circle","aria-hidden","true",3,"authorityValue",4,"ngIf"],[4,"ngIf"],[1,"chip-label","text-truncate","d-table-cell"],[1,"fas","fa-times","ms-2",3,"click","title"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle",3,"authorityValue"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"ngbTooltip","class","me-1","me-2","authorityValue","visibleWhenAuthorityEmpty","mouseover","mouseout",4,"ngFor","ngForOf"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"mouseover","mouseout","ngbTooltip","authorityValue","visibleWhenAuthorityEmpty"]],template:function(c,b){if(1&c){const $=e.RV6();e.NAR(),e.j41(0,"div",2)(1,"div",3),e.bIt("cdkDropListDropped",function(Me){return e.eBV($),e.Njj(b.onDrop(Me))}),e.DNE(2,Cw,1,1,"ng-template",null,0,e.C5r)(4,Fr,10,10,"div",4),e.j41(5,"div",5),e.nI1(6,"async"),e.SdG(7),e.k0s()()()}2&c&&(e.Y8G("className","float-start w-100 "+b.wrapperClass),e.R7$(4),e.Y8G("ngForOf",b.chips.getChips()),e.R7$(),e.AVh("chips-sort-ignore",e.bMT(6,4,b.isDragging)))},dependencies:[q.n8,q.md,f.YU,f.Sq,f.Jj,Ny.K,f.bT,K.h,K.D9,Vu.T1,Vu.O7],styles:[".cdk-drag-placeholder[_ngcontent-%COMP%]{filter:grayscale(100%);transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{color:#fff;box-sizing:border-box;border-radius:.25rem;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}"]})}}return d})();var H_=n(13143),z_=n(54002);n(11166);const Ow=["formRef"],oA=(d,y)=>({"border-top":d,"border border-danger":y});function Mw(d,y){if(1&d){const o=e.RV6();e.j41(0,"a",8),e.nI1(1,"translate"),e.j41(2,"span",9),e.bIt("click",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.collapseForm())}),e.k0s()()}2&d&&e.FS9("ngbTooltip",e.bMT(1,1,"form.group-collapse-help"))}function Iw(d,y){if(1&d){const o=e.RV6();e.j41(0,"a",8),e.nI1(1,"translate"),e.j41(2,"span",10),e.bIt("click",function(){e.eBV(o);const b=e.XpG();return e.Njj(b.expandForm())}),e.k0s()()}2&d&&e.FS9("ngbTooltip",e.bMT(1,1,"form.group-expand-help"))}function $y(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",15)(1,"button",16),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2);return e.Njj(b.save())}),e.nrm(2,"i",17),e.k0s(),e.j41(3,"button",16),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2);return e.Njj(b.delete())}),e.nrm(4,"i",18),e.k0s(),e.j41(5,"button",16),e.bIt("click",function(){e.eBV(o);const b=e.XpG(2);return e.Njj(b.clear())}),e.nrm(6,"i",19),e.k0s()()}if(2&d){const o=e.XpG(2);e.R7$(),e.Y8G("dsBtnDisabled",o.isMandatoryFieldEmpty()),e.R7$(2),e.Y8G("dsBtnDisabled",!o.editMode),e.R7$(2),e.Y8G("dsBtnDisabled",o.isMandatoryFieldEmpty())}}function rA(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",11)(1,"ds-form",12,0),e.bIt("dfBlur",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onBlur(b))})("dfFocus",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onFocus(b))}),e.k0s(),e.DNE(3,$y,7,3,"div",13),e.nI1(4,"async"),e.nrm(5,"div",14),e.k0s()}if(2&d){const o=e.XpG();e.Y8G("@shrinkInOut",void 0),e.R7$(),e.Y8G("formId",o.formId)("formModel",o.formModel)("displaySubmit",!1)("displayCancel",!1)("emitChange",!1),e.R7$(2),e.Y8G("ngIf",!0!==e.bMT(4,7,o.formCollapsed))}}function fT(d,y){1&d&&e.nrm(0,"ds-loading",20),2&d&&e.Y8G("showMessage",!1)}function mT(d,y){1&d&&(e.j41(0,"div"),e.nrm(1,"input",21),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.FS9("value",e.bMT(2,1,"form.no-value")))}function gT(d,y){if(1&d){const o=e.RV6();e.j41(0,"ds-chips",22),e.bIt("selected",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onChipSelected(b))}),e.k0s()}if(2&d){const o=e.XpG();e.Y8G("chips",o.chips)("editable",!0)("showIcons",!0)}}let _T=(()=>{class d extends Ss.S6A{constructor(o,c,b,$,ue,Me){super(ue,Me),this.vocabularyService=o,this.formBuilderService=c,this.formService=b,this.cdr=$,this.layoutService=ue,this.validationService=Me,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.formCollapsed=(0,Ts.of)(!1),this.editMode=!1,this.subs=[]}ngOnInit(){const o={rows:this.model.formConfiguration};this.model.isEmpty()||(this.formCollapsed=(0,Ts.of)(!0)),this.model.valueChanges.subscribe(c=>{!(0,G.hj)(c)||1===c.length&&(0,hT.Zb)(c[0])?this.expandForm():this.collapseForm()}),this.formId=this.formService.getUniqueId(this.model.id),this.formModel=this.formBuilderService.modelFromConfiguration(this.model.submissionId,o,this.model.scopeUUID,{},this.model.submissionScope,this.model.readOnly),this.initChipsFromModelValue()}isMandatoryFieldEmpty(){let o=!0;return this.formModel.forEach(c=>{c.group.forEach($=>{$.name!==this.model.mandatoryField||(o=null==$.value)})}),o}onBlur(o){this.blur.emit()}onChipSelected(o){this.expandForm(),this.selectedChipItem=this.chips.getChipByIndex(o),this.formModel.forEach(c=>{c.group.forEach($=>{const ue=this.selectedChipItem.item[$.name]===ku.N||this.selectedChipItem.item[$.name].value===ku.N?null:this.selectedChipItem.item[$.name],Me=this.formBuilderService.isInputModel($)&&(0,G.Pe)(ue)&&"string"!=typeof ue?ue.value:ue;$.value=Me})}),this.editMode=!0}onFocus(o){this.focus.emit(o)}collapseForm(){this.formCollapsed=(0,Ts.of)(!0),this.clear()}expandForm(){this.formCollapsed=(0,Ts.of)(!1)}clear(){this.editMode&&(this.selectedChipItem.editMode=!1,this.selectedChipItem=null,this.editMode=!1),this.resetForm(),this.model.isEmpty()||(this.formCollapsed=(0,Ts.of)(!0))}save(){this.editMode?this.modifyChip():this.addToChips()}delete(){this.chips.remove(this.selectedChipItem),this.clear()}ngOnDestroy(){this.subs.filter(o=>(0,G.a4)(o)).forEach(o=>o.unsubscribe())}addToChips(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const o=this.buildChipItem();this.chips.add(o),this.resetForm()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}modifyChip(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const o=this.buildChipItem();this.chips.update(this.selectedChipItem.id,o),this.resetForm(),this.cdr.detectChanges()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}buildChipItem(){const o=Object.create({});return this.formModel.forEach(c=>{c.group.forEach($=>{o[$.name]=$.value||ku.N})}),o}initChipsFromModelValue(){let o;this.model.isEmpty()?this.initChips([]):(o=(0,Ts.of)(this.model.value),this.subs.push(o.pipe((0,Qn.Z)(c=>{const b=[];return c.forEach($=>{const ue=Object.keys($).map(Me=>{let it;if(Wu()($[Me])&&$[Me].hasAuthority()&&(0,G.hj)($[Me].authority)){const Bt=Me.replace(/\./g,"_"),yn=this.formBuilderService.findById(Bt,this.formModel);it=this.vocabularyService.findEntryDetailById($[Me].authority,yn.vocabularyOptions.name).pipe((0,Bs.ak)(),(0,xt.T)(cn=>Object.assign(new Gu.e,$[Me],{otherInformation:cn.otherInformation})))}else it=(0,Ts.of)($[Me]);return it.pipe((0,xt.T)(Bt=>({[Me]:Bt})))});b.push((0,Ko.z)(ue))}),b}),(0,Qn.Z)((c,b)=>c.pipe((0,xt.T)($=>({index:b,value:$.reduce((ue,Me)=>Object.assign({},ue,Me))})))),(0,xv.S)((c,b)=>(0===c.length?c.push(b.value):c.splice(b.index,0,b.value),c),[]),(0,Wn.p)(c=>this.model.value.length===c.length)).subscribe(c=>{this.model.value=c,this.initChips(c),this.cdr.markForCheck()})))}initChips(o){this.chips=new K_(o,"value",this.model.mandatoryField,A.c.submission.icons.metadata),this.subs.push(this.chips.chipsItems.subscribe(()=>{const c=this.chips.getChipsItems();ru()(c,this.model.value)||(0,G.Im)(c)&&this.model.isEmpty()||(this.model.value=c,this.change.emit())}))}resetForm(){this.formRef&&this.formService.resetForm(this.formRef.formGroup,this.formModel,this.formId)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU($_.g),e.rXU(Ly.j),e.rXU(z_.u),e.rXU(e.gRc),e.rXU(Ss.fpj),e.rXU(Ss.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-relation-group"]],viewQuery:function(c,b){if(1&c&&e.GBs(Ow,5),2&c){let $;e.mGM($=e.lsd())&&(b.formRef=$.first)}},inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:16,consts:[["formRef","formComponent"],["class","close position-relative","placement","left",3,"ngbTooltip",4,"ngIf"],[1,"pt-2",3,"ngClass"],["class","ps-2 row",4,"ngIf"],[1,"d-flex"],[3,"showMessage",4,"ngIf"],[4,"ngIf"],[3,"chips","editable","showIcons","selected",4,"ngIf"],["placement","left",1,"close","position-relative",3,"ngbTooltip"],["aria-hidden","true",1,"fas","fa-angle-up","fa-fw","fa-2x",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","fa-fw","fa-2x",3,"click"],[1,"ps-2","row"],[1,"col-sm-12","col-md-8","col-lg-9","col-xl-10","ps-0",3,"dfBlur","dfFocus","formId","formModel","displaySubmit","displayCancel","emitChange"],["class","col p-0 m-0 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"clearfix"],[1,"col","p-0","m-0","d-flex","justify-content-center","align-items-center"],["type","button",1,"btn","btn-link",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-save","link-primary","fa-2x"],["aria-hidden","true",1,"fas","fa-trash","link-danger","fa-2x"],["aria-hidden","true",1,"fas","fa-undo","fa-2x"],[3,"showMessage"],["type","text","readonly","","tabindex","-1",1,"border-0","form-control-plaintext","tag-input","mt-1","mb-1","ps-2","text-muted",3,"value"],[3,"selected","chips","editable","showIcons"]],template:function(c,b){1&c&&(e.DNE(0,Mw,3,3,"a",1),e.nI1(1,"async"),e.DNE(2,Iw,3,3,"a",1),e.nI1(3,"async"),e.j41(4,"div",2),e.DNE(5,rA,6,9,"div",3),e.nI1(6,"async"),e.j41(7,"div",4),e.DNE(8,fT,1,1,"ds-loading",5)(9,mT,3,3,"div",6)(10,gT,1,3,"ds-chips",7),e.k0s()()),2&c&&(e.Y8G("ngIf",!0!==e.bMT(1,7,b.formCollapsed)),e.R7$(2),e.Y8G("ngIf",e.bMT(3,9,b.formCollapsed)),e.R7$(2),e.Y8G("ngClass",e.l_i(13,oA,!b.showErrorMessages,b.showErrorMessages)),e.R7$(),e.Y8G("ngIf",!0!==e.bMT(6,11,b.formCollapsed)),e.R7$(3),e.Y8G("ngIf",!b.chips),e.R7$(),e.Y8G("ngIf",b.chips&&!b.chips.hasItems()),e.R7$(),e.Y8G("ngIf",b.chips&&b.chips.hasItems()))},dependencies:()=>[f.bT,f.Jj,q.n8,q.md,K.h,K.D9,f.YU,Vh.v,Dp,H_.s,Zf.A],styles:[".close[_ngcontent-%COMP%]{top:-2.5rem}"],data:{animation:[uT]}})}}return d})();var aA=n(83766),lA=n(11220),vT=n(70152),cA=n(79335),yT=n(38512);const Y_=["instance"];function Em(d,y){1&d&&e.EFF(0),2&d&&e.SpI(" ",y.result.display,"\n")}function Tp(d,y){if(1&d){const o=e.RV6();e.j41(0,"input",5),e.mxI("ngModelChange",function(b){e.eBV(o);const $=e.XpG();return e.DH7($.currentValue,b)||($.currentValue=b),e.Njj(b)}),e.bIt("blur",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onBlur(b))})("keypress",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.preventEventsPropagation(b))})("keydown",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.preventEventsPropagation(b))})("keyup",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onKeyUp(b))}),e.k0s()}if(2&d){const o=e.XpG();e.AVh("ps-3",o.chips.hasItems()),e.Y8G("placeholder",o.model.placeholder)("readonly",o.model.readOnly),e.R50("ngModel",o.currentValue)}}function ET(d,y){1&d&&e.nrm(0,"i",9)}function Sw(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",6),e.DNE(1,ET,1,0,"i",7),e.j41(2,"input",8,1),e.mxI("ngModelChange",function(b){e.eBV(o);const $=e.XpG();return e.DH7($.currentValue,b)||($.currentValue=b),e.Njj(b)}),e.bIt("blur",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onBlur(b))})("focus",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onFocus(b))})("change",function(b){return e.eBV(o),e.Njj(b.stopPropagation())})("input",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onInput(b))})("selectItem",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onSelectItem(b))})("keypress",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.preventEventsPropagation(b))})("keydown",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.preventEventsPropagation(b))})("keyup",function(b){e.eBV(o);const $=e.XpG();return e.Njj($.onKeyUp(b))}),e.k0s()()}if(2&d){const o=e.XpG(),c=e.sdS(1);e.R7$(),e.Y8G("ngIf",o.searching),e.R7$(),e.AVh("is-invalid",o.showErrorMessages)("ps-3",o.chips.hasItems()),e.R50("ngModel",o.currentValue),e.Y8G("id",o.id)("inputFormatter",o.formatter)("name",o.model.name)("ngbTypeahead",o.search)("placeholder",o.model.placeholder)("readonly",o.model.readOnly)("resultTemplate",c)("type",o.model.inputType),e.BMQ("aria-labelledby","label_"+o.model.id)("autoComplete",o.model.autoComplete)}}let Pw=(()=>{class d extends aT.o{constructor(o,c,b,$){super(o,b,$),this.vocabularyService=o,this.cdr=c,this.layoutService=b,this.validationService=$,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.searching=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed=new qo.c(()=>()=>this.changeSearchingStatus(!1)),this.formatter=ue=>ue.display,this.search=ue=>ue.pipe((0,vT.B)(300),(0,C.F)(),(0,pi.M)(()=>this.changeSearchingStatus(!0)),(0,ks.n)(Me=>""===Me||Me.length<this.model.minChars?(0,Ts.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(Me,!1,this.model.vocabularyOptions,new G_.Q).pipe((0,Bs.ak)(),(0,pi.M)(()=>this.searchFailed=!1),(0,Rn.W)(()=>(this.searchFailed=!0,(0,Ts.of)((0,XR.g)(new G_.Q,[])))))),(0,xt.T)(Me=>Me.page),(0,xt.T)(Me=>{if(Me&&Me.length>0&&(0,G.hj)(this.currentValue)){const it=new hf.b;it.display=this.currentValue,it.value=this.currentValue,Me.push(it)}return Me}),(0,pi.M)(()=>this.changeSearchingStatus(!1)),(0,cA.h)(this.hideSearchingWhenUnsubscribed))}ngOnInit(){this.hasAuthority=this.model.vocabularyOptions&&(0,G.a4)(this.model.vocabularyOptions.name),this.chips=new K_(this.model.value,"display",null,A.c.submission.icons.metadata),this.chips.chipsItems.subscribe(o=>{const c=this.chips.getChipsItems();ru()(c,this.model.value)||this.dispatchUpdate(c)})}changeSearchingStatus(o){this.searching=o,this.cdr.detectChanges()}onInput(o){o.data&&this.group.markAsDirty(),this.cdr.detectChanges()}onBlur(o){(0,G.hj)(this.currentValue)&&(!this.model.hasAuthority||!this.instance.isPopupOpen())&&this.addTagsToChips(),this.blur.emit(o)}onSelectItem(o){this.chips.add(o.item),this.updateModel(o),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50)}updateModel(o){this.dispatchUpdate(this.chips.getChipsItems())}onKeyUp(o){(13===o.keyCode||188===o.keyCode)&&(o.preventDefault(),this.addTagsToChips(),o.stopPropagation())}preventEventsPropagation(o){o.stopPropagation(),13===o.keyCode&&o.preventDefault()}setCurrentValue(o,c=!1){this.currentValue=o}addTagsToChips(){if((0,G.a4)(this.currentValue)&&(!this.hasAuthority||!this.model.vocabularyOptions.closed)){let o=[];o=this.currentValue.split(",");const c=[];o.forEach(b=>{b.split(";").forEach($=>{c.push($)})}),c.forEach(b=>{(b=b.trim()).length>0&&this.chips.add(b)}),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50),this.updateModel(event)}}static{this.\u0275fac=function(c){return new(c||d)(e.rXU($_.g),e.rXU(e.gRc),e.rXU(Ss.fpj),e.rXU(Ss.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-tag"]],viewQuery:function(c,b){if(1&c&&e.GBs(Y_,5),2&c){let $;e.mGM($=e.lsd())&&(b.instance=$.first)}},inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:6,consts:[["rt",""],["instance","ngbTypeahead"],[3,"chips","editable","showIcons","wrapperClass"],["class","border-0 form-control-plaintext tag-input flex-grow-1 mt-1 mb-1","type","text","role","textbox",3,"ps-3","placeholder","readonly","ngModel","ngModelChange","blur","keypress","keydown","keyup",4,"ngIf"],["class","position-relative right-addon",4,"ngIf"],["type","text","role","textbox",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModelChange","blur","keypress","keydown","keyup","placeholder","readonly","ngModel"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["type","text",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModelChange","blur","focus","change","input","selectItem","keypress","keydown","keyup","ngModel","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","resultTemplate","type"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"]],template:function(c,b){1&c&&(e.DNE(0,Em,1,1,"ng-template",null,0,e.C5r),e.j41(2,"ds-chips",2),e.DNE(3,Tp,1,5,"input",3)(4,Sw,4,16,"div",4),e.k0s()),2&c&&(e.R7$(2),e.Y8G("chips",b.chips)("editable",!1)("showIcons",b.model.hasAuthority)("wrapperClass","border-bottom border-light"),e.R7$(),e.Y8G("ngIf",!b.model.hasAuthority),e.R7$(),e.Y8G("ngIf",b.model.hasAuthority))},dependencies:[q.h_,q.$n,rn.YN,rn.me,rn.BC,rn.vS,f.bT,Dp],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}select.form-control[_ngcontent-%COMP%]{appearance:auto}.col-sm-6[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.chips-left[_ngcontent-%COMP%]{left:0;padding-right:100%}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:scroll;overflow-x:hidden;left:0!important;margin-top:var(--bs-spacer)!important}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.tag-input[_ngcontent-%COMP%]{flex-grow:1;outline:none;width:auto!important}"]})}}return d})();function Rw(d){const y=d;switch(d.type){case Ss.WlY:return V_;case Ss.eU4:return U_;case Ss.W25:return d instanceof pw.R?rT:JD;case Ss.fQD:return y.inline?wR:nT;case Ss.wnr:return xy;case Ss.FlA:return Py;case Ss.KMD:return d instanceof fw.t?rT:Ry;case Ss.PTN:return vm;case Ss.TwG:return Ay;case Ss.CTm:return QD;case qR.m:return ZR.d;case lA.W:return aA.s;case yT.v:return Pw;case ku.T:return _T;case wy.s:return GR.P;case QR.d:case lT.V:return ky;case $R.v:return dw;case VR.L:return cw;default:return null}}var dA=n(14410);class uA extends S_.Qf{getResponseParser(){return dA.M}}let Aw=(()=>{class d{constructor(o,c){this.requestService=o,this.halService=c}sendEvent(o,c){const b=this.requestService.generateRequestId();this.halService.getEndpoint(o).pipe((0,xt.T)($=>new uA(b,$,JSON.stringify(c))),(0,T.s)(1)).subscribe($=>this.requestService.send($))}trackViewEvent(o,c){this.sendEvent("/statistics/viewevents",{targetId:o.uuid,targetType:o.type,referrer:c})}trackSearchEvent(o,c,b,$,ue){const Me={query:o.query,page:{size:c.size,totalElements:c.totalElements,totalPages:c.totalPages,number:c.number},sort:{by:b.by,order:b.order.toLowerCase()}};if((0,G.a4)(o.configuration)&&Object.assign(Me,{configuration:o.configuration}),(0,G.hj)(o.dsoTypes)&&Object.assign(Me,{dsoType:o.dsoTypes[0].toLowerCase()}),(0,G.a4)(o.scope)&&Object.assign(Me,{scope:o.scope}),(0,G.hj)($)){const it=[];for(let Bt=0,yn=$.length;Bt<yn;Bt++){const cn=$[Bt];it.push({filter:cn.filter,operator:cn.operator,value:cn.value,label:cn.label})}Object.assign(Me,{appliedFilters:it})}(0,G.a4)(ue)&&Object.assign(Me,{clickedObject:ue}),this.sendEvent("/statistics/searchevents",Me)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Cl.B),e.KVO(xu.Y))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),Wy=(()=>{class d{constructor(o,c){this.angulartics2=o,this.statisticsService=c}startTracking(){this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(o=>this.eventTrack(o))}eventTrack(o){"page_view"===o.action?this.statisticsService.trackViewEvent(o.properties.object,o.properties.referrer):"search"===o.action&&this.statisticsService.trackSearchEvent(o.properties.searchOptions,o.properties.page,o.properties.sort,o.properties.filters,o.properties.clickedObject?.split("?")[0])}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(ji.il),e.KVO(Aw))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var Op;let X_=class{static{Op=this}static{this.NGRX_STATE=(0,e.zw6)("NGRX_STATE")}constructor(y,o,c,b,$,ue,Me,it,Bt,yn){this.store=y,this.correlationIdService=o,this.appConfig=c,this.translate=b,this.localeService=$,this.angulartics2DSpace=ue,this.headTagService=Me,this.breadcrumbsService=it,this.themeService=Bt,this.menuService=yn}static providers(){if(!Op.isPrototypeOf(this))throw new Error("Initalization providers should only be generated from concrete subclasses of InitService");return[{provide:Op,useClass:this},{provide:si.vQ,useFactory:y=>(this.resolveAppConfig(y),A.c),deps:[e.pJN]},{provide:e.hnV,useFactory:y=>y.init(),deps:[Op],multi:!0},{provide:si.l9,useValue:vR},{provide:Ss.Fdw,useValue:Rw}]}static resolveAppConfig(y){}checkAuthenticationToken(){this.store.dispatch(new Y.S3)}initCorrelationId(){this.correlationIdService.initCorrelationId()}checkEnvironment(){if(!ru()(A.c,this.appConfig))throw new Error("environment does not match app config!");A.c.debug&&console.info(A.c)}initI18n(){this.translate.addLangs(A.c.languages.filter(y=>!0===y.active).map(y=>y.code)),this.localeService.setCurrentLanguageCode()}initAngulartics(){this.angulartics2DSpace.startTracking()}initRouteListeners(){this.headTagService.listenForRouteChange(),this.breadcrumbsService.listenForRouteChanges(),this.themeService.listenForRouteChanges(),this.menuService.listenForRouteChanges()}authenticationReady$(){return this.store.pipe((0,E.Lt)(x.Gv),(0,C.F)(),(0,Wr.I)(y=>!1===y))}};X_=Op=(0,Ue.Cg)([(0,Ue.Qj)(2,(0,e.y_5)(si.vQ)),(0,Ue.Sn)("design:paramtypes",[E.il,f1,Object,K.c$,hu.iH,Wy,UD,kD.E,J.Fs,ei.$])],X_);var Ky=n(16358);class ww{constructor(){this.production=!1,this.debug=!1,this.ui={ssl:!1,host:"localhost",port:4e3,nameSpace:"/",rateLimiter:{windowMs:6e4,max:500},useProxies:!0},this.rest={ssl:!1,host:"localhost",port:8080,nameSpace:"/"},this.actuators={endpointPath:"/actuator/health"},this.cache={msToLive:{default:9e5},control:"max-age=604800",autoSync:{defaultTime:0,maxBufferSize:100,timePerMethod:{[P_.D.PATCH]:3}},serverSide:{debug:!1,headers:["Link"],botCache:{max:1e3,timeToLive:864e5,allowStale:!0},anonymousCache:{max:0,timeToLive:1e4,allowStale:!0}}},this.auth={ui:{timeUntilIdle:9e5,idleGracePeriod:3e5},rest:{timeLeftBeforeTokenRefresh:12e4}},this.form={spellCheck:!0,validatorMap:{required:"required",regex:"pattern"}},this.notifications={rtl:!1,position:["top","right"],maxStack:8,timeOut:5e3,clickToClose:!0,animate:Ky.n.Scale},this.submission={autosave:{metadata:[],timer:0},duplicateDetection:{alwaysShowSection:!1},typeBind:{field:"dc.type"},icons:{metadata:[{name:"dc.author",style:"fas fa-user"},{name:"default",style:""}],authority:{confidence:[{value:600,style:"text-success",icon:"fa-circle-check"},{value:500,style:"text-info",icon:"fa-gear"},{value:400,style:"text-warning",icon:"fa-circle-question"},{value:300,style:"text-muted",icon:"fa-circle-question"},{value:200,style:"text-muted",icon:"fa-circle-exclamation"},{value:100,style:"text-muted",icon:"fa-circle-stop"},{value:0,style:"text-muted",icon:"fa-ban"},{value:-1,style:"text-muted",icon:"fa-circle-xmark"},{value:"default",style:"text-muted",icon:"fa-circle-xmark"}]}}},this.defaultLanguage="en",this.languages=[{code:"en",label:"English",active:!0},{code:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",active:!0},{code:"bn",label:"\u09ac\u09be\u0982\u09b2\u09be",active:!0},{code:"ca",label:"Catal\xe0",active:!0},{code:"cs",label:"\u010ce\u0161tina",active:!0},{code:"de",label:"Deutsch",active:!0},{code:"el",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",active:!0},{code:"es",label:"Espa\xf1ol",active:!0},{code:"fi",label:"Suomi",active:!0},{code:"fr",label:"Fran\xe7ais",active:!0},{code:"gd",label:"G\xe0idhlig",active:!0},{code:"hi",label:"\u0939\u093f\u0902\u0926\u0940",active:!0},{code:"hu",label:"Magyar",active:!0},{code:"it",label:"Italiano",active:!0},{code:"kk",label:"\u049a\u0430\u0437\u0430\u049b",active:!0},{code:"lv",label:"Latvie\u0161u",active:!0},{code:"nl",label:"Nederlands",active:!0},{code:"pl",label:"Polski",active:!0},{code:"pt-PT",label:"Portugu\xeas",active:!0},{code:"pt-BR",label:"Portugu\xeas do Brasil",active:!0},{code:"sr-lat",label:"Srpski (lat)",active:!0},{code:"sr-cyr",label:"\u0421\u0440\u043f\u0441\u043a\u0438",active:!0},{code:"sv",label:"Svenska",active:!0},{code:"tr",label:"T\xfcrk\xe7e",active:!0},{code:"uk",label:"Y\u043a\u0440\u0430\u0457\u0301\u043d\u0441\u044c\u043a\u0430",active:!0},{code:"vi",label:"Ti\u1ebfng Vi\u1ec7t",active:!0}],this.browseBy={oneYearLimit:10,fiveYearLimit:30,defaultLowerLimit:1900,showThumbnails:!0,pageSize:20},this.communityList={pageSize:20},this.homePage={recentSubmissions:{pageSize:5,sortField:"dc.date.accessioned"},topLevelCommunityList:{pageSize:5},showDiscoverFilters:!1},this.item={edit:{undoTimeout:1e4},showAccessStatuses:!1,bitstream:{pageSize:5}},this.community={searchSection:{showSidebar:!0}},this.collection={searchSection:{showSidebar:!0},edit:{undoTimeout:1e4}},this.suggestion=[],this.themes=[{name:"dspace",headTags:[{tagName:"link",attributes:{rel:"icon",href:"assets/dspace/images/favicons/favicon.ico",sizes:"any"}},{tagName:"link",attributes:{rel:"icon",href:"assets/dspace/images/favicons/favicon.svg",type:"image/svg+xml"}},{tagName:"link",attributes:{rel:"apple-touch-icon",href:"assets/dspace/images/favicons/apple-touch-icon.png"}},{tagName:"link",attributes:{rel:"manifest",href:"assets/dspace/images/favicons/manifest.webmanifest"}}]}],this.bundle={standardBundles:["ORIGINAL","THUMBNAIL","LICENSE"]},this.mediaViewer={image:!1,video:!1},this.info={enableEndUserAgreement:!0,enablePrivacyStatement:!0,enableCOARNotifySupport:!0},this.markdown={enabled:!1,mathjax:!1},this.vocabularies=[{filter:"subject",vocabulary:"srsc",enabled:!1}],this.comcolSelectionSort={sortField:"dc.title",sortDirection:"ASC"},this.qualityAssuranceConfig={sourceUrlMapForProjectSearch:{openaire:"https://explore.openaire.eu/search/project?projectId="},pageSize:5},this.search={advancedFilters:{enabled:!1,filter:["title","author","subject","entityType"]},filterPlaceholdersCount:5},this.notifyMetrics=[{title:"admin-notify-dashboard.received-ldn",boxes:[{color:"#B8DAFF",title:"admin-notify-dashboard.NOTIFY.incoming.accepted",config:"NOTIFY.incoming.accepted",description:"admin-notify-dashboard.NOTIFY.incoming.accepted.description"},{color:"#D4EDDA",title:"admin-notify-dashboard.NOTIFY.incoming.processed",config:"NOTIFY.incoming.processed",description:"admin-notify-dashboard.NOTIFY.incoming.processed.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.incoming.failure",config:"NOTIFY.incoming.failure",description:"admin-notify-dashboard.NOTIFY.incoming.failure.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.incoming.untrusted",config:"NOTIFY.incoming.untrusted",description:"admin-notify-dashboard.NOTIFY.incoming.untrusted.description"},{color:"#43515F",title:"admin-notify-dashboard.NOTIFY.incoming.involvedItems",textColor:"#fff",config:"NOTIFY.incoming.involvedItems",description:"admin-notify-dashboard.NOTIFY.incoming.involvedItems.description"}]},{title:"admin-notify-dashboard.generated-ldn",boxes:[{color:"#D4EDDA",title:"admin-notify-dashboard.NOTIFY.outgoing.delivered",config:"NOTIFY.outgoing.delivered",description:"admin-notify-dashboard.NOTIFY.outgoing.delivered.description"},{color:"#B8DAFF",title:"admin-notify-dashboard.NOTIFY.outgoing.queued",config:"NOTIFY.outgoing.queued",description:"admin-notify-dashboard.NOTIFY.outgoing.queued.description"},{color:"#FDEEBB",title:"admin-notify-dashboard.NOTIFY.outgoing.queued_for_retry",config:"NOTIFY.outgoing.queued_for_retry",description:"admin-notify-dashboard.NOTIFY.outgoing.queued_for_retry.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.outgoing.failure",config:"NOTIFY.outgoing.failure",description:"admin-notify-dashboard.NOTIFY.outgoing.failure.description"},{color:"#43515F",title:"admin-notify-dashboard.NOTIFY.outgoing.involvedItems",textColor:"#fff",config:"NOTIFY.outgoing.involvedItems",description:"admin-notify-dashboard.NOTIFY.outgoing.involvedItems.description"}]}],this.liveRegion={messageTimeOutDurationMs:3e4,isVisible:!1}}}let xw=(()=>{class d extends X_{constructor(o,c,b,$,ue,Me,it,Bt,yn,cn,ts,vs,Hn,ls,Xs,Gi,mi,Mo){super(o,c,$,ue,Me,it,yn,cn,Hn,ls),this.store=o,this.correlationIdService=c,this.transferState=b,this.appConfig=$,this.translate=ue,this.localeService=Me,this.angulartics2DSpace=it,this.googleAnalyticsService=Bt,this.headTagService=yn,this.breadcrumbsService=cn,this.orejimeService=ts,this.authService=vs,this.themeService=Hn,this.menuService=ls,this.rootDataService=Xs,this.router=Gi,this.requestService=mi,this.halService=Mo}static resolveAppConfig(o){if(o.hasKey(si.Dr)){const c=o.get(si.Dr,new ww);(0,ee.$k)(A.c,c)}}init(){var o=this;return(0,m.A)(function*(){return yield o.loadAppState(),o.checkAuthenticationToken(),o.externalAuthCheck(),o.initCorrelationId(),o.checkEnvironment(),(d=>{const y=d.production?"Production":"Development",o=d.production?"red":"green";console.info(""),console.info("%cdspace-angular","font-weight: bold;"),console.info("Version: %c9.0.0-next","font-weight: bold;"),console.info(`Environment: %c${y}`,`color: ${o}; font-weight: bold;`),console.info("")})(A.c),o.initI18n(),o.initAngulartics(),o.initGoogleAnalytics(),o.initRouteListeners(),o.themeService.listenForThemeChanges(!0),o.trackAuthTokenExpiration(),o.initOrejime(),yield Ty(o.authenticationReady$()),!0})}loadAppState(){var o=this;return(0,m.A)(function*(){if(o.appConfig.ssr.transferState){const c=o.transferState.get(X_.NGRX_STATE,null);return o.transferState.remove(X_.NGRX_STATE),o.store.dispatch(new na(Oo.REHYDRATE,c)),Ty(o.store.select(oy.N).pipe((0,Wr.I)(b=>(0,G.hj)(b)),(0,xt.T)(()=>!0)))}return Promise.resolve(!0)})()}trackAuthTokenExpiration(){this.authService.trackTokenExpiration()}initOrejime(){this.authenticationReady$().subscribe(()=>{this.orejimeService.initialize()})}initGoogleAnalytics(){this.googleAnalyticsService.addTrackingIdToPage()}externalAuthCheck(){this.sub=this.authService.isExternalAuthentication().pipe((0,Wn.p)(o=>o)).subscribe(()=>{this.requestService.setStaleByHrefSubstring(this.halService.getRootHref()),this.authService.setExternalAuthStatus(!1)}),this.closeAuthCheckSubscription()}closeAuthCheckSubscription(){(function rR(d,y){const o="object"==typeof y;return new Promise((c,b)=>{const $=new oR.Ms({next:ue=>{c(ue),$.unsubscribe()},error:b,complete:()=>{o?c(y.defaultValue):b(new Dy.G)}});d.subscribe($)})})(this.authenticationReady$()).then(()=>{this.sub.unsubscribe()})}initRouteListeners(){super.initRouteListeners(),this.listenForRouteChanges()}listenForRouteChanges(){this.rootDataService.invalidateRootCache(),this.router.events.pipe((0,Wn.p)(o=>o instanceof v.Z)).subscribe(()=>{this.rootDataService.invalidateRootCache()})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(E.il),e.KVO(f1),e.KVO(e.pJN),e.KVO(si.vQ),e.KVO(K.c$),e.KVO(hu.iH),e.KVO(Wy),e.KVO(by),e.KVO(UD),e.KVO(kD.E),e.KVO(N_.B),e.KVO(p.uR),e.KVO(J.Fs),e.KVO(ei.$),e.KVO(bd.RootDataService),e.KVO(v.Ix),e.KVO(Cl.B),e.KVO(xu.Y))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const Lw=(0,e.zw6)("req"),pA=(0,e.v7R)({providers:[(0,le.$R)((0,le.Sx)()),function ic(){return(0,e.ngT)("NgEagerAnimations"),[...Ca]}(),(0,h.$x)(),(0,e.oKB)(ji.ok.forRoot(),E.md.forFeature("core",Cp,Uc.wP),pr.forFeature(ly),K.h.forRoot({loader:{provide:K.Wr,useFactory:function hA(d,y){return new iR(d,y,"assets/i18n/",".json")},deps:[e.pJN,le.Qq]},missingTranslationHandler:{provide:K.er,useClass:tR.M},useDefaultLang:!0})),...xw.providers(),{provide:e.sZ2,useValue:"dspace-angular"},{provide:nR.S,useFactory:function Nw(d){return d.get(Lw,{})},deps:[e.pJN]},{provide:e.hnV,useFactory:(d,y)=>d.initXSRFToken(y),deps:[um,le.Qq],multi:!0},{provide:um,useClass:QP},{provide:p.uR,useClass:p.uR},{provide:pu.O,useClass:W1},{provide:N_.B,useClass:$2},{provide:Kp.E,useClass:Kp.E},{provide:hu.iH,useClass:hu.iH},{provide:x_.$,useClass:JP},{provide:by,useClass:by},{provide:ji.eB,useClass:ji.eB},{provide:iy.H,useClass:Kb},{provide:ID.f,useClass:G2},{provide:XP,useFactory:function mm(){return window.location}},{provide:f0,useClass:vy}]},U2),CT=()=>(0,h.B8)(Q,pA),fA=null!==document.querySelector("script#dspace-angular-state"),Hy=()=>(A.c.production&&(0,e.SmG)(),fA?CT():fetch("assets/config.json").then(d=>d.json()).then(d=>((0,ee.$k)(A.c,d),CT())));"complete"!==document.readyState||fA?document.addEventListener("DOMContentLoaded",Hy):Hy()},47435:(F,D,n)=>{"use strict";n.r(D),n.d(D,{HeaderNavbarWrapperComponent:()=>E});var i=n(60177),t=n(41780),u=n(95960),e=n(78221),h=n(77632),m=n(621),f=n(54438);function v(_,C){if(1&_&&(f.j41(0,"div",2),f.nI1(1,"async"),f.j41(2,"nav",3),f.nI1(3,"async"),f.nI1(4,"translate"),f.nrm(5,"ds-navbar"),f.k0s()()),2&_){const I=f.XpG();f.Y8G("@slideMobileNav",f.bMT(1,3,I.isNavBarCollapsed$)?"collapsed":"expanded"),f.R7$(2),f.BMQ("aria-hidden",f.bMT(3,5,I.isNavBarCollapsed$))("aria-label",f.bMT(4,7,"nav.main.description"))}}let E=(()=>{class _ extends e.HeaderNavbarWrapperComponent{static{this.\u0275fac=(()=>{let I;return function(T){return(I||(I=f.xGo(_)))(T||_)}})()}static{this.\u0275cmp=f.VBU({type:_,selectors:[["ds-themed-header-navbar-wrapper"]],standalone:!0,features:[f.Vt3,f.aNF],decls:4,vars:3,consts:[["id","header-navbar-wrapper"],["id","mobile-navbar-wrapper",4,"ngIf"],["id","mobile-navbar-wrapper"],["id","collapsible-mobile-navbar",1,"px-3"]],template:function(R,T){1&R&&(f.j41(0,"div",0),f.nrm(1,"ds-header"),f.DNE(2,v,6,9,"div",1),f.nI1(3,"async"),f.k0s()),2&R&&(f.R7$(2),f.Y8G("ngIf",f.bMT(3,1,T.isMobile$)))},dependencies:[u.q,h.D,i.Jj,t.h,t.D9,i.bT],styles:["[_nghost-%COMP%]{--ds-header-navbar-border-bottom-style: solid var(--ds-header-navbar-border-bottom-height) var(--ds-header-navbar-border-bottom-color);--ds-expandable-navbar-border-top-style: solid var(--ds-expandable-navbar-border-top-height) var(--ds-expandable-navbar-border-top-color);--ds-expandable-navbar-height: calc(100vh - var(--ds-header-height))}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]{position:relative;border-bottom:var(--ds-header-navbar-border-bottom-style)}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]   div#mobile-navbar-wrapper[_ngcontent-%COMP%]{width:100%;background-color:var(--ds-expandable-navbar-bg);position:absolute;z-index:var(--ds-nav-z-index);overflow:hidden}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]   div#mobile-navbar-wrapper[_ngcontent-%COMP%]   nav#collapsible-mobile-navbar[_ngcontent-%COMP%]{min-height:var(--ds-expandable-navbar-height);height:auto;border-bottom:var(--ds-header-navbar-border-bottom-style)}[_nghost-%COMP%]     .ds-menu-item, [_nghost-%COMP%]     .ds-menu-toggler-wrapper{white-space:nowrap;text-decoration:none}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item-wrapper, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper{display:flex;align-items:center;height:100%}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item{padding:var(--ds-navbar-item-vertical-padding) var(--ds-navbar-item-horizontal-padding)}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper{color:var(--ds-navbar-link-color)!important}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item:hover, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item:focus, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper:hover, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper:focus{color:var(--ds-navbar-link-color-hover)!important}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .dropdown-menu .ds-menu-item{padding:var(--ds-navbar-dropdown-item-vertical-padding) var(--ds-navbar-dropdown-item-horizontal-padding)}[_nghost-%COMP%]     nav#collapsible-mobile-navbar{border-top:var(--ds-expandable-navbar-border-top-style);padding-top:var(--ds-expandable-navbar-padding-top)}[_nghost-%COMP%]     nav#collapsible-mobile-navbar #main-site-navigation .ds-menu-item{padding:var(--ds-expandable-navbar-item-vertical-padding) 0}"],data:{animation:[m.p8]}})}}return _})()},3018:(F,D,n)=>{"use strict";n.r(D),n.d(D,{HeaderComponent:()=>A});var i=n(60177),t=n(7901),u=n(58003),e=n(41780),h=n(28068),m=n(20968),f=n(34912),v=n(77632),E=n(3224),_=n(44002),C=n(34458),I=n(54438);function R(p,x){1&p&&(I.j41(0,"nav",9),I.nI1(1,"translate"),I.nrm(2,"ds-navbar"),I.k0s()),2&p&&I.BMQ("aria-label",I.bMT(1,1,"nav.main.description"))}function T(p,x){if(1&p){const O=I.RV6();I.j41(0,"div",10)(1,"button",11),I.nI1(2,"translate"),I.nI1(3,"async"),I.bIt("click",function(){I.eBV(O);const M=I.XpG();return I.Njj(M.toggleNavbar())}),I.nrm(4,"span",12),I.k0s()()}if(2&p){const O=I.XpG();I.R7$(),I.BMQ("aria-label",I.bMT(2,2,"nav.toggle"))("aria-expanded",!0!==I.bMT(3,4,O.isNavBarCollapsed$))}}let A=(()=>{class p extends f.HeaderComponent{ngOnInit(){super.ngOnInit(),this.isNavBarCollapsed$=this.menuService.isMenuCollapsed(this.menuID)}static{this.\u0275fac=(()=>{let O;return function(M){return(O||(O=I.xGo(p)))(M||p)}})()}static{this.\u0275cmp=I.VBU({type:p,selectors:[["ds-themed-header"]],standalone:!0,features:[I.Vt3,I.aNF],decls:21,vars:20,consts:[["id","main-site-header"],["id","main-site-header-container",1,"container","h-100","d-flex","flex-row","flex-wrap","align-items-center","justify-content-between","gapx-3","gapy-2"],["id","header-left",1,"h-100","flex-fill","d-flex","flex-row","flex-nowrap","justify-content-start","align-items-center","gapx-3"],["routerLink","/home",1,"d-block","my-2","my-md-0"],["id","header-logo","src","assets/images/HighCourtLogo.jpeg"],["class","navbar navbar-expand p-0 align-items-stretch align-self-stretch","id","desktop-navbar",4,"ngIf"],["id","header-right",1,"h-100","d-flex","flex-row","flex-nowrap","justify-content-end","align-items-center","gapx-1","ms-auto"],["role","menubar",1,"h-100","d-flex","flex-row","flex-nowrap","align-items-center","gapx-1"],["id","mobile-navbar-toggler","class","d-block d-lg-none ms-3",4,"ngIf"],["id","desktop-navbar",1,"navbar","navbar-expand","p-0","align-items-stretch","align-self-stretch"],["id","mobile-navbar-toggler",1,"d-block","d-lg-none","ms-3"],["id","navbar-toggler","type","button","aria-controls","collapsible-mobile-navbar",1,"btn","btn-transparent",3,"click"],["aria-hidden","true",1,"fas","fa-bars","fa-fw","fa-xl","toggler-icon"]],template:function(w,M){1&w&&(I.j41(0,"header",0)(1,"div",1)(2,"div",2),I.nI1(3,"async"),I.nI1(4,"async"),I.nI1(5,"translate"),I.j41(6,"a",3),I.nI1(7,"translate"),I.nrm(8,"img",4),I.nI1(9,"translate"),I.k0s(),I.DNE(10,R,3,3,"nav",5),I.nI1(11,"async"),I.k0s(),I.j41(12,"div",6),I.nrm(13,"ds-search-navbar"),I.j41(14,"div",7),I.nrm(15,"ds-lang-switch")(16,"ds-context-help-toggle")(17,"ds-impersonate-navbar")(18,"ds-auth-nav-menu"),I.k0s(),I.DNE(19,T,5,6,"div",8),I.nI1(20,"async"),I.k0s()()()),2&w&&(I.R7$(2),I.BMQ("role",I.bMT(3,6,M.isMobile$)?"navigation":"presentation")("aria-label",I.bMT(4,8,M.isMobile$)?I.bMT(5,10,"nav.main.description"):null),I.R7$(4),I.BMQ("aria-label",I.bMT(7,12,"home.title")),I.R7$(2),I.BMQ("alt",I.bMT(9,14,"menu.header.image.logo")),I.R7$(2),I.Y8G("ngIf",!0!==I.bMT(11,16,M.isMobile$)),I.R7$(9),I.Y8G("ngIf",I.bMT(20,18,M.isMobile$)))},dependencies:[u.zH,u.QE,h.n,t.Wk,E.X,m.Y,_.v,C.d,v.D,e.h,e.D9,i.Jj,i.bT],styles:["[_nghost-%COMP%]   #main-site-header[_ngcontent-%COMP%]{min-height:var(--ds-header-height);background-color:var(--ds-header-bg)}@media (min-width: 768px){[_nghost-%COMP%]   #main-site-header[_ngcontent-%COMP%]{height:var(--ds-header-height)}}[_nghost-%COMP%]   #main-site-header-container[_ngcontent-%COMP%]{min-height:var(--ds-header-height)}[_nghost-%COMP%]   img#header-logo[_ngcontent-%COMP%]{height:var(--ds-header-logo-height)}[_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}[_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}"]})}}return p})()},31264:(F,D,n)=>{"use strict";n.r(D),n.d(D,{HomeNewsComponent:()=>u});var i=n(52178),t=n(54438);let u=(()=>{class e extends i.HomeNewsComponent{static{this.\u0275fac=(()=>{let m;return function(v){return(m||(m=t.xGo(e)))(v||e)}})()}static{this.\u0275cmp=t.VBU({type:e,selectors:[["ds-themed-home-news"]],standalone:!0,features:[t.Vt3,t.aNF],decls:15,vars:1,consts:[[1,"background-image-container","mt-ncs"],[1,"container"],[1,"jumbotron","py-4","px-2","py-sm-5","px-sm-0","mt-0","mb-4"],[1,"d-flex","flex-wrap"],[1,"display-2"],[1,"background-image"],["type","image/webp","srcset","assets/dspace/images/s05012023.jpg 2000w, assets/dspace/images/s05012023.jpg 1200w, assets/dspace/images/s05012023.jpg 768w"],["type","image/jpg","srcset","assets/dspace/images/s05012023.jpg 2000w, assets/dspace/images/s05012023.jpg 1200w, assets/dspace/images/s05012023.jpg 768w"],["alt","",3,"src"],[1,"credits"],["href","https://www.pexels.com/@inspiredimages"]],template:function(f,v){1&f&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h1",4),t.EFF(6,"Orissa High Court "),t.k0s()()()()(),t.j41(7,"picture",5),t.nrm(8,"source",6)(9,"source",7)(10,"img",8),t.k0s(),t.j41(11,"small",9),t.EFF(12,"Photo by "),t.j41(13,"a",10),t.EFF(14,"@inspiredimages"),t.k0s()()()),2&f&&(t.R7$(10),t.Y8G("src","assets/dspace/images/s05012023.jpg",t.B4B))},styles:['[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]{color:#fff;position:relative;font-weight:600}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .background-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{background-color:var(--bs-info);position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:top}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;text-shadow:1px 1px 4px rgba(0,0,0,.6);background-color:var(--ds-banner-text-background)}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:after{content:"";display:block;width:var(--ds-banner-background-gradient-width);height:100%;top:0;position:absolute}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:before{background:linear-gradient(to left,var(--ds-banner-text-background),transparent);left:calc(-1 * var(--ds-banner-background-gradient-width))}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:after{background:linear-gradient(to right,var(--ds-banner-text-background),transparent);right:calc(-1 * var(--ds-banner-background-gradient-width))}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   small.credits[_ngcontent-%COMP%]{opacity:.3;position:absolute;right:var(--bs-spacer);bottom:0}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   small.credits[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit}[_nghost-%COMP%]   .jumbotron[_ngcontent-%COMP%]{background-color:#0000}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ds-home-news-link-color)}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--ds-home-news-link-hover-color)}[_nghost-%COMP%]   .lead[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:400}']})}}return e})()},89768:(F,D,n)=>{"use strict";n.r(D),n.d(D,{NavbarComponent:()=>C});var i=n(60177),t=n(58003),u=n(41780),e=n(67454),h=n(621),m=n(28619),f=n(54438);function v(I,R){1&I&&(f.qex(0),f.nrm(1,"ds-user-menu",3),f.bVm()),2&I&&(f.R7$(),f.Y8G("inExpandableNavbar",!0))}function E(I,R){1&I&&f.eu8(0)}function _(I,R){if(1&I&&(f.qex(0),f.DNE(1,E,1,0,"ng-container",4),f.nI1(2,"async"),f.nI1(3,"async"),f.bVm()),2&I){let T,A;const p=R.$implicit,x=f.XpG();f.R7$(),f.Y8G("ngComponentOutlet",null==(T=f.bMT(2,2,x.sectionMap$).get(p.id))?null:T.component)("ngComponentOutletInjector",null==(A=f.bMT(3,4,x.sectionMap$).get(p.id))?null:A.injector)}}let C=(()=>{class I extends e.NavbarComponent{static{this.\u0275fac=(()=>{let T;return function(p){return(T||(T=f.xGo(I)))(p||I)}})()}static{this.\u0275cmp=f.VBU({type:I,selectors:[["ds-themed-navbar"]],standalone:!0,features:[f.Vt3,f.aNF],decls:7,vars:11,consts:[[4,"ngIf"],["role","menubar","id","main-site-navigation",1,"navbar-nav","h-100","align-items-md-stretch","gapx-3",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"inExpandableNavbar"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(A,p){1&A&&(f.DNE(0,v,2,1,"ng-container",0),f.nI1(1,"async"),f.nI1(2,"async"),f.j41(3,"div",1),f.nI1(4,"async"),f.DNE(5,_,4,6,"ng-container",2),f.nI1(6,"async"),f.k0s()),2&A&&(f.Y8G("ngIf",f.bMT(1,3,p.isMobile$)&&f.bMT(2,5,p.isAuthenticated$)),f.R7$(3),f.Y8G("ngClass",f.bMT(4,7,p.isMobile$)?"navbar-nav-mobile":"navbar-nav-desktop"),f.R7$(2),f.Y8G("ngForOf",f.bMT(6,9,p.sections)))},dependencies:[t.zH,i.YU,i.bT,m.r,i.pM,i.OI,i.Jj,u.h],data:{animation:[h.p8]}})}}return I})()},77181:(F,D)=>{"use strict";var i=null;try{i=window}catch{i=global}var t=i.__CerializeTypeMap=new i.Map;function f(Fe){return Array.isArray(Fe)?Fe.map(function(Et){return Et&&Et.toString()||null}):Fe&&Fe.toString()||null}function v(Fe){return Array.isArray(Fe)?Fe.map(function(Et){return parseFloat(Et)}):parseFloat(Fe)}function E(Fe){return Array.isArray(Fe)?Fe.map(function(Et){return!!Et}):!!Fe}function _(Fe){return Array.isArray(Fe)?Fe.map(function(Et){return Et&&Et.toString()||null}):Fe&&Fe.toString()||null}function C(Fe){return Array.isArray(Fe)?Fe.map(function(Et){return parseInt(Et)}):parseInt(Fe)}function I(Fe){return Array.isArray(Fe)?Fe.map(function(Et){return!!Et}):!!Fe}function R(Fe){return Fe===String?f:Fe===Number?v:Fe===Boolean?E:Fe}function T(Fe){return Fe===String?_:Fe===Number?C:Fe===Boolean?I:Fe}function A(Fe,Et){for(var Ye=0;Ye<Fe.length;Ye++)if(Fe[Ye].keyName===Et)return Fe[Ye];return Fe.push(new Y(Et)),Fe[Fe.length-1]}function p(Fe,Et){var Ye=null,pt=null;return"string"==typeof Fe?pt=Fe:(Fe&&"function"==typeof Fe||"object"==typeof Fe)&&(Ye=Fe,pt=Et),{key:pt,type:Ye}}D.inheritSerialization=function x(Fe){return function(Et){for(var Ye=t.get(Fe)||[],pt=t.get(Et)||[],Mt=0;Mt<Ye.length;Mt++)Y.hasKeyName(pt,Ye[Mt].keyName)||pt.push(Y.clone(Ye[Mt]));t.set(Et,pt)}},D.deserialize=function w(Fe,Et){if(Fe&&Et){var Ye=t.get(Fe.constructor)||[];A(Ye,Et).deserializedKey=Et,t.set(Fe.constructor,Ye)}},D.autoserialize=function M(Fe,Et){if(Fe&&Et){var Ye=t.get(Fe.constructor)||[],pt=A(Ye,Et);pt.serializedKey=Et,pt.deserializedKey=Et,t.set(Fe.constructor,Ye)}},D.serializeAs=function L(Fe,Et){if(Fe){var Ye=p(Fe,Et),pt=Ye.key,Mt=Ye.type;return function(Ne,rt){if(Ne&&rt){var Gt=t.get(Ne.constructor)||[],Zt=A(Gt,rt);Zt.serializedKey=pt||rt,Zt.serializedType=Mt,Mt!==Date&&Mt!==RegExp&&!t.get(Mt)&&"function"==typeof Mt&&(Zt.serializedType={Serialize:T(Mt)}),t.set(Ne.constructor,Gt)}}}},D.deserializeAs=function k(Fe,Et){if(Fe){var Ye=p(Fe,Et),pt=Ye.key,Mt=Ye.type;return function(Ne,rt){if(Ne&&rt){var Gt=t.get(Ne.constructor)||[],Zt=A(Gt,rt);Zt.deserializedKey=pt||rt,Zt.deserializedType=Mt,!t.get(Mt)&&Mt!==Date&&Mt!==RegExp&&"function"==typeof Mt&&(Zt.deserializedType={Deserialize:R(Mt)}),t.set(Ne.constructor,Gt)}}}},D.autoserializeAs=function U(Fe,Et){if(Fe){var Ye=p(Fe,Et),pt=Ye.key,Mt=Ye.type;return function(Ne,rt){if(Ne&&rt){var Gt=t.get(Ne.constructor)||[],Zt=A(Gt,rt),mt=pt||rt;Zt.deserializedKey=mt,Zt.deserializedType=Mt,Zt.serializedKey=mt,Zt.serializedType=T(Mt),!t.get(Mt)&&Mt!==Date&&Mt!==RegExp&&"function"==typeof Mt&&(Zt.deserializedType={Deserialize:R(Mt)}),t.set(Ne.constructor,Gt)}}}};var Y=function(){function Fe(Et){this.keyName=Et,this.serializedKey=null,this.deserializedKey=null,this.deserializedType=null,this.serializedType=null,this.indexable=!1}return Fe.hasKeyName=function(Et,Ye){for(var pt=0;pt<Et.length;pt++)if(Et[pt].keyName===Ye)return!0;return!1},Fe.clone=function(Et){var Ye=new Fe(Et.keyName);return Ye.deserializedKey=Et.deserializedKey,Ye.serializedKey=Et.serializedKey,Ye.serializedType=Et.serializedType,Ye.deserializedType=Et.deserializedType,Ye.indexable=Et.indexable,Ye},Fe}();function te(Fe,Et){return Array.isArray(Fe)?J(Fe,Et):Fe&&"object"==typeof Fe?le(Fe,Et):("string"==typeof Fe||Fe instanceof Date)&&Et===Date.prototype.constructor?new Date(Fe):"string"==typeof Fe&&Et===RegExp?new RegExp(Fe):Fe}function J(Fe,Et){for(var Ye=new Array(Fe.length),pt=0;pt<Fe.length;pt++)Ye[pt]=te(Fe[pt],Et);return Ye}function Q(Fe,Et,Ye){Ye&&"function"==typeof Ye.OnDeserialized&&Ye.OnDeserialized(Fe,Et)}function ee(Fe,Et){"function"==typeof Fe.constructor.OnSerialized&&Fe.constructor.OnSerialized(Fe,Et)}function le(Fe,Et){var Ye=t.get(Et);if(!Ye){var pt=null;return Et?Q(pt=new Et,Fe,Et):pt=JSON.parse(JSON.stringify(Fe)),pt}for(var Mt=new Et,Ne=0;Ne<Ye.length;Ne++){var rt=Ye[Ne];if(rt.deserializedKey){var Gt=rt.deserializedKey;rt.deserializedKey===rt.keyName&&"function"==typeof Ee&&(Gt=Ee(rt.keyName));var Zt=Fe[Gt];void 0!==Zt&&(Mt[rt.keyName]=null===Zt?Zt:rt.deserializedType&&"function"==typeof rt.deserializedType.Deserialize?rt.deserializedType.Deserialize(Zt):Array.isArray(Zt)?J(Zt,rt.deserializedType||null):("string"==typeof Zt||Zt instanceof Date)&&rt.deserializedType===Date.prototype.constructor?new Date(Zt):"string"==typeof Zt&&rt.deserializedType===RegExp?new RegExp(Fe):Zt&&"object"==typeof Zt?rt.indexable?ne(Zt,rt.deserializedType):le(Zt,rt.deserializedType):Zt)}}return Q(Mt,Fe,Et),Mt}function ne(Fe,Et){var Ye={};return Object.keys(Fe).forEach(function(pt){Ye[pt]=le(Fe[pt],Et)}),Ye}function se(Fe,Et){for(var Ye=new Array(Fe.length),pt=0;pt<Fe.length;pt++)Ye[pt]=De(Fe[pt],Et);return Ye}function ce(Fe,Et){var pt,Ye={};pt=t.get(Et||Fe.constructor);for(var Mt=0;Mt<pt.length;Mt++){var Ne=pt[Mt];if(Ne.serializedKey){var rt=Ne.serializedKey;Ne.serializedKey===Ne.keyName&&"function"==typeof re&&(rt=re(Ne.keyName));var Gt=Fe[Ne.keyName];if(void 0!==Gt)if(Array.isArray(Gt))Ye[rt]=se(Gt,Ne.serializedType||null);else if(Ne.serializedType&&"function"==typeof Ne.serializedType.Serialize)Ye[rt]=Ne.serializedType.Serialize(Gt);else{var Zt=De(Gt);void 0!==Zt&&(Ye[rt]=Zt)}}}return ee(Fe,Ye),Ye}function De(Fe,Et){if(null==Fe)return null;if(Array.isArray(Fe))return se(Fe,Et);if(Et&&t.has(Et))return ce(Fe,Et);if(Fe.constructor&&t.has(Fe.constructor))return ce(Fe);if(Fe instanceof Date)return Fe.toISOString();if(Fe instanceof RegExp)return Fe.toString();if(Fe&&"object"==typeof Fe||"function"==typeof Fe){for(var Ye=Object.keys(Fe),pt={},Mt=0;Mt<Ye.length;Mt++)pt[Ye[Mt]]=De(Fe[Ye[Mt]]);return ee(Fe,pt),pt}return Fe}D.Deserialize=te,D.Serialize=De;var re=null,Ee=null},74850:(F,D,n)=>{F.exports=n(77181)},43364:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function n(i,t){for(var u=i<0?"-":"",e=Math.abs(i).toString();e.length<t;)e="0"+e;return u+e},F.exports=D.default},66139:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function n(i,t){if(null==i)throw new TypeError("assign requires that input parameter not be null or undefined");for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(i[u]=t[u]);return i},F.exports=D.default},88200:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function u(e){return(0,t.default)({},e)};var t=i(n(66139));F.exports=D.default},70733:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var t=i(n(12606));D.default=t.default,F.exports=D.default},18635:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.getDefaultOptions=function i(){return n},D.setDefaultOptions=function t(u){n=u};var n={}},99073:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var t=i(n(3498)),u=i(n(79429)),e=i(n(29348)),h=i(n(86964)),m=i(n(10125)),f=i(n(43364)),v=i(n(33133));function C(A,p){var x=A>0?"-":"+",O=Math.abs(A),w=Math.floor(O/60),M=O%60;if(0===M)return x+String(w);var L=p||"";return x+String(w)+L+(0,f.default)(M,2)}function I(A,p){return A%60==0?(A>0?"-":"+")+(0,f.default)(Math.abs(A)/60,2):R(A,p)}function R(A,p){var x=p||"",O=A>0?"-":"+",w=Math.abs(A);return O+(0,f.default)(Math.floor(w/60),2)+x+(0,f.default)(w%60,2)}D.default={G:function(p,x,O){var w=p.getUTCFullYear()>0?1:0;switch(x){case"G":case"GG":case"GGG":return O.era(w,{width:"abbreviated"});case"GGGGG":return O.era(w,{width:"narrow"});default:return O.era(w,{width:"wide"})}},y:function(p,x,O){if("yo"===x){var w=p.getUTCFullYear();return O.ordinalNumber(w>0?w:1-w,{unit:"year"})}return v.default.y(p,x)},Y:function(p,x,O,w){var M=(0,m.default)(p,w),L=M>0?M:1-M;return"YY"===x?(0,f.default)(L%100,2):"Yo"===x?O.ordinalNumber(L,{unit:"year"}):(0,f.default)(L,x.length)},R:function(p,x){var O=(0,e.default)(p);return(0,f.default)(O,x.length)},u:function(p,x){var O=p.getUTCFullYear();return(0,f.default)(O,x.length)},Q:function(p,x,O){var w=Math.ceil((p.getUTCMonth()+1)/3);switch(x){case"Q":return String(w);case"QQ":return(0,f.default)(w,2);case"Qo":return O.ordinalNumber(w,{unit:"quarter"});case"QQQ":return O.quarter(w,{width:"abbreviated",context:"formatting"});case"QQQQQ":return O.quarter(w,{width:"narrow",context:"formatting"});default:return O.quarter(w,{width:"wide",context:"formatting"})}},q:function(p,x,O){var w=Math.ceil((p.getUTCMonth()+1)/3);switch(x){case"q":return String(w);case"qq":return(0,f.default)(w,2);case"qo":return O.ordinalNumber(w,{unit:"quarter"});case"qqq":return O.quarter(w,{width:"abbreviated",context:"standalone"});case"qqqqq":return O.quarter(w,{width:"narrow",context:"standalone"});default:return O.quarter(w,{width:"wide",context:"standalone"})}},M:function(p,x,O){var w=p.getUTCMonth();switch(x){case"M":case"MM":return v.default.M(p,x);case"Mo":return O.ordinalNumber(w+1,{unit:"month"});case"MMM":return O.month(w,{width:"abbreviated",context:"formatting"});case"MMMMM":return O.month(w,{width:"narrow",context:"formatting"});default:return O.month(w,{width:"wide",context:"formatting"})}},L:function(p,x,O){var w=p.getUTCMonth();switch(x){case"L":return String(w+1);case"LL":return(0,f.default)(w+1,2);case"Lo":return O.ordinalNumber(w+1,{unit:"month"});case"LLL":return O.month(w,{width:"abbreviated",context:"standalone"});case"LLLLL":return O.month(w,{width:"narrow",context:"standalone"});default:return O.month(w,{width:"wide",context:"standalone"})}},w:function(p,x,O,w){var M=(0,h.default)(p,w);return"wo"===x?O.ordinalNumber(M,{unit:"week"}):(0,f.default)(M,x.length)},I:function(p,x,O){var w=(0,u.default)(p);return"Io"===x?O.ordinalNumber(w,{unit:"week"}):(0,f.default)(w,x.length)},d:function(p,x,O){return"do"===x?O.ordinalNumber(p.getUTCDate(),{unit:"date"}):v.default.d(p,x)},D:function(p,x,O){var w=(0,t.default)(p);return"Do"===x?O.ordinalNumber(w,{unit:"dayOfYear"}):(0,f.default)(w,x.length)},E:function(p,x,O){var w=p.getUTCDay();switch(x){case"E":case"EE":case"EEE":return O.day(w,{width:"abbreviated",context:"formatting"});case"EEEEE":return O.day(w,{width:"narrow",context:"formatting"});case"EEEEEE":return O.day(w,{width:"short",context:"formatting"});default:return O.day(w,{width:"wide",context:"formatting"})}},e:function(p,x,O,w){var M=p.getUTCDay(),L=(M-w.weekStartsOn+8)%7||7;switch(x){case"e":return String(L);case"ee":return(0,f.default)(L,2);case"eo":return O.ordinalNumber(L,{unit:"day"});case"eee":return O.day(M,{width:"abbreviated",context:"formatting"});case"eeeee":return O.day(M,{width:"narrow",context:"formatting"});case"eeeeee":return O.day(M,{width:"short",context:"formatting"});default:return O.day(M,{width:"wide",context:"formatting"})}},c:function(p,x,O,w){var M=p.getUTCDay(),L=(M-w.weekStartsOn+8)%7||7;switch(x){case"c":return String(L);case"cc":return(0,f.default)(L,x.length);case"co":return O.ordinalNumber(L,{unit:"day"});case"ccc":return O.day(M,{width:"abbreviated",context:"standalone"});case"ccccc":return O.day(M,{width:"narrow",context:"standalone"});case"cccccc":return O.day(M,{width:"short",context:"standalone"});default:return O.day(M,{width:"wide",context:"standalone"})}},i:function(p,x,O){var w=p.getUTCDay(),M=0===w?7:w;switch(x){case"i":return String(M);case"ii":return(0,f.default)(M,x.length);case"io":return O.ordinalNumber(M,{unit:"day"});case"iii":return O.day(w,{width:"abbreviated",context:"formatting"});case"iiiii":return O.day(w,{width:"narrow",context:"formatting"});case"iiiiii":return O.day(w,{width:"short",context:"formatting"});default:return O.day(w,{width:"wide",context:"formatting"})}},a:function(p,x,O){var M=p.getUTCHours()/12>=1?"pm":"am";switch(x){case"a":case"aa":return O.dayPeriod(M,{width:"abbreviated",context:"formatting"});case"aaa":return O.dayPeriod(M,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return O.dayPeriod(M,{width:"narrow",context:"formatting"});default:return O.dayPeriod(M,{width:"wide",context:"formatting"})}},b:function(p,x,O){var M,w=p.getUTCHours();switch(M=12===w?"noon":0===w?"midnight":w/12>=1?"pm":"am",x){case"b":case"bb":return O.dayPeriod(M,{width:"abbreviated",context:"formatting"});case"bbb":return O.dayPeriod(M,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return O.dayPeriod(M,{width:"narrow",context:"formatting"});default:return O.dayPeriod(M,{width:"wide",context:"formatting"})}},B:function(p,x,O){var M,w=p.getUTCHours();switch(M=w>=17?"evening":w>=12?"afternoon":w>=4?"morning":"night",x){case"B":case"BB":case"BBB":return O.dayPeriod(M,{width:"abbreviated",context:"formatting"});case"BBBBB":return O.dayPeriod(M,{width:"narrow",context:"formatting"});default:return O.dayPeriod(M,{width:"wide",context:"formatting"})}},h:function(p,x,O){if("ho"===x){var w=p.getUTCHours()%12;return 0===w&&(w=12),O.ordinalNumber(w,{unit:"hour"})}return v.default.h(p,x)},H:function(p,x,O){return"Ho"===x?O.ordinalNumber(p.getUTCHours(),{unit:"hour"}):v.default.H(p,x)},K:function(p,x,O){var w=p.getUTCHours()%12;return"Ko"===x?O.ordinalNumber(w,{unit:"hour"}):(0,f.default)(w,x.length)},k:function(p,x,O){var w=p.getUTCHours();return 0===w&&(w=24),"ko"===x?O.ordinalNumber(w,{unit:"hour"}):(0,f.default)(w,x.length)},m:function(p,x,O){return"mo"===x?O.ordinalNumber(p.getUTCMinutes(),{unit:"minute"}):v.default.m(p,x)},s:function(p,x,O){return"so"===x?O.ordinalNumber(p.getUTCSeconds(),{unit:"second"}):v.default.s(p,x)},S:function(p,x){return v.default.S(p,x)},X:function(p,x,O,w){var L=(w._originalDate||p).getTimezoneOffset();if(0===L)return"Z";switch(x){case"X":return I(L);case"XXXX":case"XX":return R(L);default:return R(L,":")}},x:function(p,x,O,w){var L=(w._originalDate||p).getTimezoneOffset();switch(x){case"x":return I(L);case"xxxx":case"xx":return R(L);default:return R(L,":")}},O:function(p,x,O,w){var L=(w._originalDate||p).getTimezoneOffset();switch(x){case"O":case"OO":case"OOO":return"GMT"+C(L,":");default:return"GMT"+R(L,":")}},z:function(p,x,O,w){var L=(w._originalDate||p).getTimezoneOffset();switch(x){case"z":case"zz":case"zzz":return"GMT"+C(L,":");default:return"GMT"+R(L,":")}},t:function(p,x,O,w){var L=Math.floor((w._originalDate||p).getTime()/1e3);return(0,f.default)(L,x.length)},T:function(p,x,O,w){var L=(w._originalDate||p).getTime();return(0,f.default)(L,x.length)}},F.exports=D.default},33133:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var t=i(n(43364));D.default={y:function(m,f){var v=m.getUTCFullYear(),E=v>0?v:1-v;return(0,t.default)("yy"===f?E%100:E,f.length)},M:function(m,f){var v=m.getUTCMonth();return"M"===f?String(v+1):(0,t.default)(v+1,2)},d:function(m,f){return(0,t.default)(m.getUTCDate(),f.length)},a:function(m,f){var v=m.getUTCHours()/12>=1?"pm":"am";switch(f){case"a":case"aa":return v.toUpperCase();case"aaa":return v;case"aaaaa":return v[0];default:return"am"===v?"a.m.":"p.m."}},h:function(m,f){return(0,t.default)(m.getUTCHours()%12||12,f.length)},H:function(m,f){return(0,t.default)(m.getUTCHours(),f.length)},m:function(m,f){return(0,t.default)(m.getUTCMinutes(),f.length)},s:function(m,f){return(0,t.default)(m.getUTCSeconds(),f.length)},S:function(m,f){var v=f.length,E=m.getUTCMilliseconds(),_=Math.floor(E*Math.pow(10,v-3));return(0,t.default)(_,f.length)}},F.exports=D.default},26035:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var n=function(m,f){switch(m){case"P":return f.date({width:"short"});case"PP":return f.date({width:"medium"});case"PPP":return f.date({width:"long"});default:return f.date({width:"full"})}},i=function(m,f){switch(m){case"p":return f.time({width:"short"});case"pp":return f.time({width:"medium"});case"ppp":return f.time({width:"long"});default:return f.time({width:"full"})}};D.default={p:i,P:function(m,f){var C,v=m.match(/(P+)(p+)?/)||[],E=v[1],_=v[2];if(!_)return n(m,f);switch(E){case"P":C=f.dateTime({width:"short"});break;case"PP":C=f.dateTime({width:"medium"});break;case"PPP":C=f.dateTime({width:"long"});break;default:C=f.dateTime({width:"full"})}return C.replace("{{date}}",n(E,f)).replace("{{time}}",i(_,f))}},F.exports=D.default},20059:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function n(i){var t=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return t.setUTCFullYear(i.getFullYear()),i.getTime()-t.getTime()},F.exports=D.default},3498:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function h(m){(0,u.default)(1,arguments);var f=(0,t.default)(m),v=f.getTime();f.setUTCMonth(0,1),f.setUTCHours(0,0,0,0);var E=f.getTime();return Math.floor((v-E)/e)+1};var t=i(n(75624)),u=i(n(5238)),e=864e5;F.exports=D.default},79429:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function f(v){(0,h.default)(1,arguments);var E=(0,t.default)(v),_=(0,u.default)(E).getTime()-(0,e.default)(E).getTime();return Math.round(_/m)+1};var t=i(n(75624)),u=i(n(68224)),e=i(n(96145)),h=i(n(5238)),m=6048e5;F.exports=D.default},29348:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function h(m){(0,u.default)(1,arguments);var f=(0,t.default)(m),v=f.getUTCFullYear(),E=new Date(0);E.setUTCFullYear(v+1,0,4),E.setUTCHours(0,0,0,0);var _=(0,e.default)(E),C=new Date(0);C.setUTCFullYear(v,0,4),C.setUTCHours(0,0,0,0);var I=(0,e.default)(C);return f.getTime()>=_.getTime()?v+1:f.getTime()>=I.getTime()?v:v-1};var t=i(n(75624)),u=i(n(5238)),e=i(n(68224));F.exports=D.default},86964:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function f(v,E){(0,h.default)(1,arguments);var _=(0,t.default)(v),C=(0,u.default)(_,E).getTime()-(0,e.default)(_,E).getTime();return Math.round(C/m)+1};var t=i(n(75624)),u=i(n(3595)),e=i(n(12086)),h=i(n(5238)),m=6048e5;F.exports=D.default},10125:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function f(v,E){var _,C,I,R,T,A,p,x;(0,u.default)(1,arguments);var O=(0,t.default)(v),w=O.getUTCFullYear(),M=(0,m.getDefaultOptions)(),L=(0,h.default)(null!==(_=null!==(C=null!==(I=null!==(R=E?.firstWeekContainsDate)&&void 0!==R?R:null==E||null===(T=E.locale)||void 0===T||null===(A=T.options)||void 0===A?void 0:A.firstWeekContainsDate)&&void 0!==I?I:M.firstWeekContainsDate)&&void 0!==C?C:null===(p=M.locale)||void 0===p||null===(x=p.options)||void 0===x?void 0:x.firstWeekContainsDate)&&void 0!==_?_:1);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var B=new Date(0);B.setUTCFullYear(w+1,0,L),B.setUTCHours(0,0,0,0);var k=(0,e.default)(B,E),W=new Date(0);W.setUTCFullYear(w,0,L),W.setUTCHours(0,0,0,0);var U=(0,e.default)(W,E);return O.getTime()>=k.getTime()?w+1:O.getTime()>=U.getTime()?w:w-1};var t=i(n(75624)),u=i(n(5238)),e=i(n(3595)),h=i(n(25167)),m=n(18635);F.exports=D.default},79850:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.isProtectedDayOfYearToken=function t(h){return-1!==n.indexOf(h)},D.isProtectedWeekYearToken=function u(h){return-1!==i.indexOf(h)},D.throwProtectedError=function e(h,m,f){if("YYYY"===h)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(m,"`) for formatting years to the input `").concat(f,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===h)throw new RangeError("Use `yy` instead of `YY` (in `".concat(m,"`) for formatting years to the input `").concat(f,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===h)throw new RangeError("Use `d` instead of `D` (in `".concat(m,"`) for formatting days of the month to the input `").concat(f,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===h)throw new RangeError("Use `dd` instead of `DD` (in `".concat(m,"`) for formatting days of the month to the input `").concat(f,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))};var n=["D","DD"],i=["YY","YYYY"]},5238:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function n(i,t){if(t.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+t.length+" present")},F.exports=D.default},68224:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function e(h){(0,u.default)(1,arguments);var f=(0,t.default)(h),v=f.getUTCDay(),E=(v<1?7:0)+v-1;return f.setUTCDate(f.getUTCDate()-E),f.setUTCHours(0,0,0,0),f};var t=i(n(75624)),u=i(n(5238));F.exports=D.default},96145:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function h(m){(0,e.default)(1,arguments);var f=(0,t.default)(m),v=new Date(0);return v.setUTCFullYear(f,0,4),v.setUTCHours(0,0,0,0),(0,u.default)(v)};var t=i(n(29348)),u=i(n(68224)),e=i(n(5238));F.exports=D.default},3595:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function m(f,v){var E,_,C,I,R,T,A,p;(0,u.default)(1,arguments);var x=(0,h.getDefaultOptions)(),O=(0,e.default)(null!==(E=null!==(_=null!==(C=null!==(I=v?.weekStartsOn)&&void 0!==I?I:null==v||null===(R=v.locale)||void 0===R||null===(T=R.options)||void 0===T?void 0:T.weekStartsOn)&&void 0!==C?C:x.weekStartsOn)&&void 0!==_?_:null===(A=x.locale)||void 0===A||null===(p=A.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==E?E:0);if(!(O>=0&&O<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=(0,t.default)(f),M=w.getUTCDay(),L=(M<O?7:0)+M-O;return w.setUTCDate(w.getUTCDate()-L),w.setUTCHours(0,0,0,0),w};var t=i(n(75624)),u=i(n(5238)),e=i(n(25167)),h=n(18635);F.exports=D.default},12086:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function f(v,E){var _,C,I,R,T,A,p,x;(0,u.default)(1,arguments);var O=(0,m.getDefaultOptions)(),w=(0,h.default)(null!==(_=null!==(C=null!==(I=null!==(R=E?.firstWeekContainsDate)&&void 0!==R?R:null==E||null===(T=E.locale)||void 0===T||null===(A=T.options)||void 0===A?void 0:A.firstWeekContainsDate)&&void 0!==I?I:O.firstWeekContainsDate)&&void 0!==C?C:null===(p=O.locale)||void 0===p||null===(x=p.options)||void 0===x?void 0:x.firstWeekContainsDate)&&void 0!==_?_:1),M=(0,t.default)(v,E),L=new Date(0);return L.setUTCFullYear(M,0,w),L.setUTCHours(0,0,0,0),(0,e.default)(L,E)};var t=i(n(10125)),u=i(n(5238)),e=i(n(3595)),h=i(n(25167)),m=n(18635);F.exports=D.default},25167:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function n(i){if(null===i||!0===i||!1===i)return NaN;var t=Number(i);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)},F.exports=D.default},82678:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function h(m,f){(0,e.default)(2,arguments);var v=(0,u.default)(m).getTime(),E=(0,t.default)(f);return new Date(v+E)};var t=i(n(25167)),u=i(n(75624)),e=i(n(5238));F.exports=D.default},24150:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function O(M,L,B){var k,W,U,K,Y,G,q,z,te,Z,J,Q,ee,le,ne,fe,se,ce;(0,_.default)(2,arguments);var De=String(L),be=(0,C.getDefaultOptions)(),me=null!==(k=null!==(W=B?.locale)&&void 0!==W?W:be.locale)&&void 0!==k?k:I.default,re=(0,E.default)(null!==(U=null!==(K=null!==(Y=null!==(G=B?.firstWeekContainsDate)&&void 0!==G?G:null==B||null===(q=B.locale)||void 0===q||null===(z=q.options)||void 0===z?void 0:z.firstWeekContainsDate)&&void 0!==Y?Y:be.firstWeekContainsDate)&&void 0!==K?K:null===(te=be.locale)||void 0===te||null===(Z=te.options)||void 0===Z?void 0:Z.firstWeekContainsDate)&&void 0!==U?U:1);if(!(re>=1&&re<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Ee=(0,E.default)(null!==(J=null!==(Q=null!==(ee=null!==(le=B?.weekStartsOn)&&void 0!==le?le:null==B||null===(ne=B.locale)||void 0===ne||null===(fe=ne.options)||void 0===fe?void 0:fe.weekStartsOn)&&void 0!==ee?ee:be.weekStartsOn)&&void 0!==Q?Q:null===(se=be.locale)||void 0===se||null===(ce=se.options)||void 0===ce?void 0:ce.weekStartsOn)&&void 0!==J?J:0);if(!(Ee>=0&&Ee<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!me.localize)throw new RangeError("locale must contain localize property");if(!me.formatLong)throw new RangeError("locale must contain formatLong property");var Te=(0,e.default)(M);if(!(0,t.default)(Te))throw new RangeError("Invalid time value");var tt=(0,f.default)(Te),ht=(0,u.default)(Te,tt),Fe={firstWeekContainsDate:re,weekStartsOn:Ee,locale:me,_originalDate:Te};return De.match(T).map(function(Ye){var pt=Ye[0];return"p"===pt||"P"===pt?(0,m.default[pt])(Ye,me.formatLong):Ye}).join("").match(R).map(function(Ye){if("''"===Ye)return"'";var pt=Ye[0];if("'"===pt)return function w(M){var L=M.match(A);return L?L[1].replace(p,"'"):M}(Ye);var Mt=h.default[pt];if(Mt)return!(null!=B&&B.useAdditionalWeekYearTokens)&&(0,v.isProtectedWeekYearToken)(Ye)&&(0,v.throwProtectedError)(Ye,L,String(M)),!(null!=B&&B.useAdditionalDayOfYearTokens)&&(0,v.isProtectedDayOfYearToken)(Ye)&&(0,v.throwProtectedError)(Ye,L,String(M)),Mt(ht,Ye,me.localize,Fe);if(pt.match(x))throw new RangeError("Format string contains an unescaped latin alphabet character `"+pt+"`");return Ye}).join("")};var t=i(n(79649)),u=i(n(38695)),e=i(n(75624)),h=i(n(99073)),m=i(n(26035)),f=i(n(20059)),v=n(79850),E=i(n(25167)),_=i(n(5238)),C=n(18635),I=i(n(70733)),R=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,T=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,A=/^'([^]*?)'?$/,p=/''/g,x=/[a-zA-Z]/;F.exports=D.default},24321:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function e(h){return(0,u.default)(1,arguments),h instanceof Date||"object"===(0,t.default)(h)&&"[object Date]"===Object.prototype.toString.call(h)};var t=i(n(73738)),u=i(n(5238));F.exports=D.default},79649:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function h(m){if((0,e.default)(1,arguments),!(0,t.default)(m)&&"number"!=typeof m)return!1;var f=(0,u.default)(m);return!isNaN(Number(f))};var t=i(n(24321)),u=i(n(75624)),e=i(n(5238));F.exports=D.default},93126:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function n(i){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=t.width?String(t.width):i.defaultWidth;return i.formats[u]||i.formats[i.defaultWidth]}},F.exports=D.default},33628:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function n(i){return function(t,u){var h;if("formatting"===(null!=u&&u.context?String(u.context):"standalone")&&i.formattingValues){var m=i.defaultFormattingWidth||i.defaultWidth,f=null!=u&&u.width?String(u.width):m;h=i.formattingValues[f]||i.formattingValues[m]}else{var v=i.defaultWidth,E=null!=u&&u.width?String(u.width):i.defaultWidth;h=i.values[E]||i.values[v]}return h[i.argumentCallback?i.argumentCallback(t):t]}},F.exports=D.default},43636:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function n(u){return function(e){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=h.width,v=e.match(m&&u.matchPatterns[m]||u.matchPatterns[u.defaultMatchWidth]);if(!v)return null;var I,E=v[0],_=m&&u.parsePatterns[m]||u.parsePatterns[u.defaultParseWidth],C=Array.isArray(_)?function t(u,e){for(var h=0;h<u.length;h++)if(e(u[h]))return h}(_,function(T){return T.test(E)}):function i(u,e){for(var h in u)if(u.hasOwnProperty(h)&&e(u[h]))return h}(_,function(T){return T.test(E)});return I=u.valueCallback?u.valueCallback(C):C,{value:I=h.valueCallback?h.valueCallback(I):I,rest:e.slice(E.length)}}},F.exports=D.default},59354:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function n(i){return function(t){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.match(i.matchPattern);if(!e)return null;var h=e[0],m=t.match(i.parsePattern);if(!m)return null;var f=i.valueCallback?i.valueCallback(m[0]):m[0];return{value:f=u.valueCallback?u.valueCallback(f):f,rest:t.slice(h.length)}}},F.exports=D.default},93204:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};D.default=function(e,h,m){var f,v=n[e];return f="string"==typeof v?v:1===h?v.one:v.other.replace("{{count}}",h.toString()),null!=m&&m.addSuffix?m.comparison&&m.comparison>0?"in "+f:f+" ago":f},F.exports=D.default},64837:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var t=i(n(93126)),m={date:(0,t.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,t.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,t.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};D.default=m,F.exports=D.default},77767:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};D.default=function(e,h,m,f){return n[e]},F.exports=D.default},29063:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var t=i(n(33628)),_={ordinalNumber:function(R,T){var A=Number(R),p=A%100;if(p>20||p<10)switch(p%10){case 1:return A+"st";case 2:return A+"nd";case 3:return A+"rd"}return A+"th"},era:(0,t.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,t.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(R){return R-1}}),month:(0,t.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,t.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,t.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};D.default=_,F.exports=D.default},95401:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var t=i(n(43636)),p={ordinalNumber:(0,i(n(59354)).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(w){return parseInt(w,10)}}),era:(0,t.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,t.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(w){return w+1}}),month:(0,t.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,t.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,t.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};D.default=p,F.exports=D.default},12606:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var t=i(n(93204)),u=i(n(64837)),e=i(n(77767)),h=i(n(29063)),m=i(n(95401));D.default={code:"en-US",formatDistance:t.default,formatLong:u.default,formatRelative:e.default,localize:h.default,match:m.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},F.exports=D.default},38695:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function h(m,f){(0,u.default)(2,arguments);var v=(0,e.default)(f);return(0,t.default)(m,-v)};var t=i(n(82678)),u=i(n(5238)),e=i(n(25167));F.exports=D.default},75624:(F,D,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(D,"__esModule",{value:!0}),D.default=function e(h){(0,u.default)(1,arguments);var m=Object.prototype.toString.call(h);return h instanceof Date||"object"===(0,t.default)(h)&&"[object Date]"===m?new Date(h.getTime()):"number"==typeof h||"[object Number]"===m?new Date(h):(("string"==typeof h||"[object String]"===m)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))};var t=i(n(73738)),u=i(n(5238));F.exports=D.default},58813:F=>{"use strict";var D=function(x){return function n(p){return!!p&&"object"==typeof p}(x)&&!function i(p){var x=Object.prototype.toString.call(p);return"[object RegExp]"===x||"[object Date]"===x||function e(p){return p.$$typeof===u}(p)}(x)},u="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function m(p,x){return!1!==x.clone&&x.isMergeableObject(p)?T(function h(p){return Array.isArray(p)?[]:{}}(p),p,x):p}function f(p,x,O){return p.concat(x).map(function(w){return m(w,O)})}function _(p){return Object.keys(p).concat(function E(p){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(p).filter(function(x){return Object.propertyIsEnumerable.call(p,x)}):[]}(p))}function C(p,x){try{return x in p}catch{return!1}}function T(p,x,O){(O=O||{}).arrayMerge=O.arrayMerge||f,O.isMergeableObject=O.isMergeableObject||D,O.cloneUnlessOtherwiseSpecified=m;var w=Array.isArray(x);return w===Array.isArray(p)?w?O.arrayMerge(p,x,O):function R(p,x,O){var w={};return O.isMergeableObject(p)&&_(p).forEach(function(M){w[M]=m(p[M],O)}),_(x).forEach(function(M){(function I(p,x){return C(p,x)&&!(Object.hasOwnProperty.call(p,x)&&Object.propertyIsEnumerable.call(p,x))})(p,M)||(w[M]=C(p,M)&&O.isMergeableObject(x[M])?function v(p,x){if(!x.customMerge)return T;var O=x.customMerge(p);return"function"==typeof O?O:T}(M,O)(p[M],x[M],O):m(x[M],O))}),w}(p,x,O):m(x,O)}T.all=function(x,O){if(!Array.isArray(x))throw new Error("first argument should be an array");return x.reduce(function(w,M){return T(w,M,O)},{})},F.exports=T},806:function(F){F.exports=function(){"use strict";var D=/^(b|B)$/,n={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},i={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},t={floor:Math.floor,ceil:Math.ceil};function u(e){var h,m,f,v,E,_,C,I,R,T,A,p,x,O,w,M,L,B,k,W,U,K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Y=[],G=0;if(isNaN(e))throw new TypeError("Invalid number");if(f=!0===K.bits,w=!0===K.unix,p=!0===K.pad,x=void 0!==K.round?K.round:w?1:2,C=void 0!==K.locale?K.locale:"",I=K.localeOptions||{},M=void 0!==K.separator?K.separator:"",L=void 0!==K.spacer?K.spacer:w?"":" ",k=K.symbols||{},B=2===(m=K.base||2)&&K.standard||"jedec",A=K.output||"string",E=!0===K.fullform,_=K.fullforms instanceof Array?K.fullforms:[],h=void 0!==K.exponent?K.exponent:-1,W=t[K.roundingMethod]||Math.round,R=(T=Number(e))<0,v=m>2?1e3:1024,U=!1===isNaN(K.precision)?parseInt(K.precision,10):0,R&&(T=-T),(-1===h||isNaN(h))&&(h=Math.floor(Math.log(T)/Math.log(v)))<0&&(h=0),h>8&&(U>0&&(U+=8-h),h=8),"exponent"===A)return h;if(0===T)Y[0]=0,O=Y[1]=w?"":n[B][f?"bits":"bytes"][h];else{G=T/(2===m?Math.pow(2,10*h):Math.pow(1e3,h)),f&&(G*=8)>=v&&h<8&&(G/=v,h++);var q=Math.pow(10,h>0?x:0);Y[0]=W(G*q)/q,Y[0]===v&&h<8&&void 0===K.exponent&&(Y[0]=1,h++),O=Y[1]=10===m&&1===h?f?"kb":"kB":n[B][f?"bits":"bytes"][h],w&&(Y[1]="jedec"===B?Y[1].charAt(0):h>0?Y[1].replace(/B$/,""):Y[1],D.test(Y[1])&&(Y[0]=Math.floor(Y[0]),Y[1]=""))}if(R&&(Y[0]=-Y[0]),U>0&&(Y[0]=Y[0].toPrecision(U)),Y[1]=k[Y[1]]||Y[1],!0===C?Y[0]=Y[0].toLocaleString():C.length>0?Y[0]=Y[0].toLocaleString(C,I):M.length>0&&(Y[0]=Y[0].toString().replace(".",M)),p&&!1===Number.isInteger(Y[0])&&x>0){var z=M||".",te=Y[0].toString().split(z),Z=te[1]||"",J=Z.length,Q=x-J;Y[0]="".concat(te[0]).concat(z).concat(Z.padEnd(J+Q,"0"))}return E&&(Y[1]=_[h]?_[h]:i[B][h]+(f?"bit":"byte")+(1===Y[0]?"":"s")),"array"===A?Y:"object"===A?{value:Y[0],symbol:Y[1],exponent:h,unit:O}:Y.join(L)}return u.partial=function(e){return function(h){return u(h,e)}},u}()},2632:(F,D,n)=>{var i,t,u;void 0!==(t="function"==typeof(i=u=function(){function u(){for(var m=0,f={};m<arguments.length;m++){var v=arguments[m];for(var E in v)f[E]=v[E]}return f}function e(m){return m.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function h(m){function f(){}function v(_,C,I){if(!(typeof document>"u")){"number"==typeof(I=u({path:"/"},f.defaults,I)).expires&&(I.expires=new Date(1*new Date+864e5*I.expires)),I.expires=I.expires?I.expires.toUTCString():"";try{var R=JSON.stringify(C);/^[\{\[]/.test(R)&&(C=R)}catch{}C=m.write?m.write(C,_):encodeURIComponent(String(C)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),_=encodeURIComponent(String(_)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var T="";for(var A in I)I[A]&&(T+="; "+A,!0!==I[A]&&(T+="="+I[A].split(";")[0]));return document.cookie=_+"="+C+T}}function E(_,C){if(!(typeof document>"u")){for(var I={},R=document.cookie?document.cookie.split("; "):[],T=0;T<R.length;T++){var A=R[T].split("="),p=A.slice(1).join("=");!C&&'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var x=e(A[0]);if(p=(m.read||m)(p,x)||e(p),C)try{p=JSON.parse(p)}catch{}if(I[x]=p,_===x)break}catch{}}return _?I[_]:I}}return f.set=v,f.get=function(_){return E(_,!1)},f.getJSON=function(_){return E(_,!0)},f.remove=function(_,C){v(_,"",u(C,{expires:-1}))},f.defaults={},f.withConverter=h,f}(function(){})})?i.call(D,n,D,F):i)&&(F.exports=t),F.exports=u()},55013:(F,D,n)=>{var u=n(54385)(n(81464),"DataView");F.exports=u},63028:(F,D,n)=>{var i=n(56399),t=n(61483),u=n(83434),e=n(5230),h=n(33718);function m(f){var v=-1,E=null==f?0:f.length;for(this.clear();++v<E;){var _=f[v];this.set(_[0],_[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=u,m.prototype.has=e,m.prototype.set=h,F.exports=m},25752:(F,D,n)=>{var i=n(23643),t=n(27103),u=n(30062),e=n(31610),h=n(1090);function m(f){var v=-1,E=null==f?0:f.length;for(this.clear();++v<E;){var _=f[v];this.set(_[0],_[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=u,m.prototype.has=e,m.prototype.set=h,F.exports=m},51012:(F,D,n)=>{var u=n(54385)(n(81464),"Map");F.exports=u},90752:(F,D,n)=>{var i=n(21891),t=n(92759),u=n(97766),e=n(40322),h=n(47258);function m(f){var v=-1,E=null==f?0:f.length;for(this.clear();++v<E;){var _=f[v];this.set(_[0],_[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=u,m.prototype.has=e,m.prototype.set=h,F.exports=m},81339:(F,D,n)=>{var u=n(54385)(n(81464),"Promise");F.exports=u},57814:(F,D,n)=>{var u=n(54385)(n(81464),"Set");F.exports=u},50342:(F,D,n)=>{var i=n(90752),t=n(74643),u=n(92768);function e(h){var m=-1,f=null==h?0:h.length;for(this.__data__=new i;++m<f;)this.add(h[m])}e.prototype.add=e.prototype.push=t,e.prototype.has=u,F.exports=e},6898:(F,D,n)=>{var i=n(25752),t=n(48945),u=n(78425),e=n(25280),h=n(80324),m=n(84516);function f(v){var E=this.__data__=new i(v);this.size=E.size}f.prototype.clear=t,f.prototype.delete=u,f.prototype.get=e,f.prototype.has=h,f.prototype.set=m,F.exports=f},8516:(F,D,n)=>{var i=n(81464);F.exports=i.Symbol},12737:(F,D,n)=>{var i=n(81464);F.exports=i.Uint8Array},72248:(F,D,n)=>{var u=n(54385)(n(81464),"WeakMap");F.exports=u},81458:F=>{F.exports=function D(n,i,t){switch(t.length){case 0:return n.call(i);case 1:return n.call(i,t[0]);case 2:return n.call(i,t[0],t[1]);case 3:return n.call(i,t[0],t[1],t[2])}return n.apply(i,t)}},99526:F=>{F.exports=function D(n,i,t,u){for(var e=-1,h=null==n?0:n.length;++e<h;){var m=n[e];i(u,m,t(m),n)}return u}},75558:F=>{F.exports=function D(n,i){for(var t=-1,u=null==n?0:n.length;++t<u&&!1!==i(n[t],t,n););return n}},32873:F=>{F.exports=function D(n,i){for(var t=-1,u=null==n?0:n.length,e=0,h=[];++t<u;){var m=n[t];i(m,t,n)&&(h[e++]=m)}return h}},75306:(F,D,n)=>{var i=n(55300);F.exports=function t(u,e){return!(null==u||!u.length)&&i(u,e,0)>-1}},35878:F=>{F.exports=function D(n,i,t){for(var u=-1,e=null==n?0:n.length;++u<e;)if(t(i,n[u]))return!0;return!1}},28548:(F,D,n)=>{var i=n(69695),t=n(56265),u=n(9812),e=n(63151),h=n(98426),m=n(31028),v=Object.prototype.hasOwnProperty;F.exports=function E(_,C){var I=u(_),R=!I&&t(_),T=!I&&!R&&e(_),A=!I&&!R&&!T&&m(_),p=I||R||T||A,x=p?i(_.length,String):[],O=x.length;for(var w in _)(C||v.call(_,w))&&(!p||!("length"==w||T&&("offset"==w||"parent"==w)||A&&("buffer"==w||"byteLength"==w||"byteOffset"==w)||h(w,O)))&&x.push(w);return x}},12757:F=>{F.exports=function D(n,i){for(var t=-1,u=null==n?0:n.length,e=Array(u);++t<u;)e[t]=i(n[t],t,n);return e}},86319:F=>{F.exports=function D(n,i){for(var t=-1,u=i.length,e=n.length;++t<u;)n[e+t]=i[t];return n}},57371:F=>{F.exports=function D(n,i){for(var t=-1,u=null==n?0:n.length;++t<u;)if(i(n[t],t,n))return!0;return!1}},10732:(F,D,n)=>{var i=n(64399),t=n(12651);F.exports=function u(e,h,m){(void 0!==m&&!t(e[h],m)||void 0===m&&!(h in e))&&i(e,h,m)}},69220:(F,D,n)=>{var i=n(64399),t=n(12651),e=Object.prototype.hasOwnProperty;F.exports=function h(m,f,v){var E=m[f];(!e.call(m,f)||!t(E,v)||void 0===v&&!(f in m))&&i(m,f,v)}},86316:(F,D,n)=>{var i=n(12651);F.exports=function t(u,e){for(var h=u.length;h--;)if(i(u[h][0],e))return h;return-1}},61512:(F,D,n)=>{var i=n(40868);F.exports=function t(u,e,h,m){return i(u,function(f,v,E){e(m,f,h(f),E)}),m}},28336:(F,D,n)=>{var i=n(43190),t=n(32561);F.exports=function u(e,h){return e&&i(h,t(h),e)}},66303:(F,D,n)=>{var i=n(43190),t=n(47674);F.exports=function u(e,h){return e&&i(h,t(h),e)}},64399:(F,D,n)=>{var i=n(44678);F.exports=function t(u,e,h){"__proto__"==e&&i?i(u,e,{configurable:!0,enumerable:!0,value:h,writable:!0}):u[e]=h}},25052:(F,D,n)=>{var i=n(6898),t=n(75558),u=n(69220),e=n(28336),h=n(66303),m=n(7697),f=n(25820),v=n(5308),E=n(67491),_=n(3539),C=n(49088),I=n(20828),R=n(89900),T=n(69686),A=n(92870),p=n(9812),x=n(63151),O=n(56879),w=n(83278),M=n(74257),L=n(32561),B=n(47674),K="[object Arguments]",te="[object Function]",ee="[object Object]",pt={};pt[K]=pt["[object Array]"]=pt["[object ArrayBuffer]"]=pt["[object DataView]"]=pt["[object Boolean]"]=pt["[object Date]"]=pt["[object Float32Array]"]=pt["[object Float64Array]"]=pt["[object Int8Array]"]=pt["[object Int16Array]"]=pt["[object Int32Array]"]=pt["[object Map]"]=pt["[object Number]"]=pt[ee]=pt["[object RegExp]"]=pt["[object Set]"]=pt["[object String]"]=pt["[object Symbol]"]=pt["[object Uint8Array]"]=pt["[object Uint8ClampedArray]"]=pt["[object Uint16Array]"]=pt["[object Uint32Array]"]=!0,pt["[object Error]"]=pt[te]=pt["[object WeakMap]"]=!1,F.exports=function Mt(Ne,rt,Gt,Zt,mt,Pt){var Ce,je=1&rt,ut=2&rt,hn=4&rt;if(Gt&&(Ce=mt?Gt(Ne,Zt,mt,Pt):Gt(Ne)),void 0!==Ce)return Ce;if(!w(Ne))return Ne;var an=p(Ne);if(an){if(Ce=R(Ne),!je)return f(Ne,Ce)}else{var Pn=I(Ne),yt=Pn==te||"[object GeneratorFunction]"==Pn;if(x(Ne))return m(Ne,je);if(Pn==ee||Pn==K||yt&&!mt){if(Ce=ut||yt?{}:A(Ne),!je)return ut?E(Ne,h(Ce,Ne)):v(Ne,e(Ce,Ne))}else{if(!pt[Pn])return mt?Ne:{};Ce=T(Ne,Pn,je)}}Pt||(Pt=new i);var Kt=Pt.get(Ne);if(Kt)return Kt;Pt.set(Ne,Ce),M(Ne)?Ne.forEach(function(gn){Ce.add(Mt(gn,rt,Gt,gn,Ne,Pt))}):O(Ne)&&Ne.forEach(function(gn,It){Ce.set(It,Mt(gn,rt,Gt,It,Ne,Pt))});var nn=an?void 0:(hn?ut?C:_:ut?B:L)(Ne);return t(nn||Ne,function(gn,It){nn&&(gn=Ne[It=gn]),u(Ce,It,Mt(gn,rt,Gt,It,Ne,Pt))}),Ce}},19593:(F,D,n)=>{var i=n(83278),t=Object.create;F.exports=function(){function e(){}return function(h){if(!i(h))return{};if(t)return t(h);e.prototype=h;var m=new e;return e.prototype=void 0,m}}()},6362:(F,D,n)=>{var i=n(50342),t=n(75306),u=n(35878),e=n(12757),h=n(42502),m=n(31890);F.exports=function v(E,_,C,I){var R=-1,T=t,A=!0,p=E.length,x=[],O=_.length;if(!p)return x;C&&(_=e(_,h(C))),I?(T=u,A=!1):_.length>=200&&(T=m,A=!1,_=new i(_));e:for(;++R<p;){var w=E[R],M=null==C?w:C(w);if(w=I||0!==w?w:0,A&&M==M){for(var L=O;L--;)if(_[L]===M)continue e;x.push(w)}else T(_,M,I)||x.push(w)}return x}},40868:(F,D,n)=>{var i=n(73432),u=n(55892)(i);F.exports=u},75736:F=>{F.exports=function D(n,i,t,u){for(var e=n.length,h=t+(u?1:-1);u?h--:++h<e;)if(i(n[h],h,n))return h;return-1}},12875:F=>{F.exports=function D(n,i,t){var u;return t(n,function(e,h,m){if(i(e,h,m))return u=h,!1}),u}},13091:(F,D,n)=>{var i=n(86319),t=n(98892);F.exports=function u(e,h,m,f,v){var E=-1,_=e.length;for(m||(m=t),v||(v=[]);++E<_;){var C=e[E];h>0&&m(C)?h>1?u(C,h-1,m,f,v):i(v,C):f||(v[v.length]=C)}return v}},32898:(F,D,n)=>{var t=n(99602)();F.exports=t},73432:(F,D,n)=>{var i=n(32898),t=n(32561);F.exports=function u(e,h){return e&&i(e,h,t)}},98137:(F,D,n)=>{var i=n(43916),t=n(58130);F.exports=function u(e,h){for(var m=0,f=(h=i(h,e)).length;null!=e&&m<f;)e=e[t(h[m++])];return m&&m==f?e:void 0}},79926:(F,D,n)=>{var i=n(86319),t=n(9812);F.exports=function u(e,h,m){var f=h(e);return t(e)?f:i(f,m(e))}},61057:(F,D,n)=>{var i=n(8516),t=n(8488),u=n(53327),m=i?i.toStringTag:void 0;F.exports=function f(v){return null==v?void 0===v?"[object Undefined]":"[object Null]":m&&m in Object(v)?t(v):u(v)}},31398:F=>{F.exports=function D(n,i){return null!=n&&i in Object(n)}},55300:(F,D,n)=>{var i=n(75736),t=n(59636),u=n(75220);F.exports=function e(h,m,f){return m==m?u(h,m,f):i(h,t,f)}},16324:(F,D,n)=>{var i=n(50342),t=n(75306),u=n(35878),e=n(12757),h=n(42502),m=n(31890),f=Math.min;F.exports=function v(E,_,C){for(var I=C?u:t,R=E[0].length,T=E.length,A=T,p=Array(T),x=1/0,O=[];A--;){var w=E[A];A&&_&&(w=e(w,h(_))),x=f(w.length,x),p[A]=!C&&(_||R>=120&&w.length>=120)?new i(A&&w):void 0}w=E[0];var M=-1,L=p[0];e:for(;++M<R&&O.length<x;){var B=w[M],k=_?_(B):B;if(B=C||0!==B?B:0,!(L?m(L,k):I(O,k,C))){for(A=T;--A;){var W=p[A];if(!(W?m(W,k):I(E[A],k,C)))continue e}L&&L.push(k),O.push(B)}}return O}},18313:(F,D,n)=>{var i=n(61057),t=n(57433);F.exports=function e(h){return t(h)&&"[object Arguments]"==i(h)}},32925:(F,D,n)=>{var i=n(89471),t=n(57433);F.exports=function u(e,h,m,f,v){return e===h||(null==e||null==h||!t(e)&&!t(h)?e!=e&&h!=h:i(e,h,m,f,u,v))}},89471:(F,D,n)=>{var i=n(6898),t=n(12900),u=n(7987),e=n(47880),h=n(20828),m=n(9812),f=n(63151),v=n(31028),_="[object Arguments]",C="[object Array]",I="[object Object]",T=Object.prototype.hasOwnProperty;F.exports=function A(p,x,O,w,M,L){var B=m(p),k=m(x),W=B?C:h(p),U=k?C:h(x),K=(W=W==_?I:W)==I,Y=(U=U==_?I:U)==I,G=W==U;if(G&&f(p)){if(!f(x))return!1;B=!0,K=!1}if(G&&!K)return L||(L=new i),B||v(p)?t(p,x,O,w,M,L):u(p,x,W,O,w,M,L);if(!(1&O)){var q=K&&T.call(p,"__wrapped__"),z=Y&&T.call(x,"__wrapped__");if(q||z){var te=q?p.value():p,Z=z?x.value():x;return L||(L=new i),M(te,Z,O,w,L)}}return!!G&&(L||(L=new i),e(p,x,O,w,M,L))}},26095:(F,D,n)=>{var i=n(20828),t=n(57433);F.exports=function e(h){return t(h)&&"[object Map]"==i(h)}},32692:(F,D,n)=>{var i=n(6898),t=n(32925);F.exports=function h(m,f,v,E){var _=v.length,C=_,I=!E;if(null==m)return!C;for(m=Object(m);_--;){var R=v[_];if(I&&R[2]?R[1]!==m[R[0]]:!(R[0]in m))return!1}for(;++_<C;){var T=(R=v[_])[0],A=m[T],p=R[1];if(I&&R[2]){if(void 0===A&&!(T in m))return!1}else{var x=new i;if(E)var O=E(A,p,T,m,f,x);if(!(void 0===O?t(p,A,3,E,x):O))return!1}}return!0}},59636:F=>{F.exports=function D(n){return n!=n}},60298:(F,D,n)=>{var i=n(58653),t=n(48401),u=n(83278),e=n(68020),m=/^\[object .+?Constructor\]$/,C=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");F.exports=function I(R){return!(!u(R)||t(R))&&(i(R)?C:m).test(e(R))}},91889:(F,D,n)=>{var i=n(20828),t=n(57433);F.exports=function e(h){return t(h)&&"[object Set]"==i(h)}},18068:(F,D,n)=>{var i=n(61057),t=n(18845),u=n(57433),G={};G["[object Float32Array]"]=G["[object Float64Array]"]=G["[object Int8Array]"]=G["[object Int16Array]"]=G["[object Int32Array]"]=G["[object Uint8Array]"]=G["[object Uint8ClampedArray]"]=G["[object Uint16Array]"]=G["[object Uint32Array]"]=!0,G["[object Arguments]"]=G["[object Array]"]=G["[object ArrayBuffer]"]=G["[object Boolean]"]=G["[object DataView]"]=G["[object Date]"]=G["[object Error]"]=G["[object Function]"]=G["[object Map]"]=G["[object Number]"]=G["[object Object]"]=G["[object RegExp]"]=G["[object Set]"]=G["[object String]"]=G["[object WeakMap]"]=!1,F.exports=function q(z){return u(z)&&t(z.length)&&!!G[i(z)]}},12344:(F,D,n)=>{var i=n(7432),t=n(61669),u=n(39631),e=n(9812),h=n(15788);F.exports=function m(f){return"function"==typeof f?f:null==f?u:"object"==typeof f?e(f)?t(f[0],f[1]):i(f):h(f)}},13809:(F,D,n)=>{var i=n(3164),t=n(96199),e=Object.prototype.hasOwnProperty;F.exports=function h(m){if(!i(m))return t(m);var f=[];for(var v in Object(m))e.call(m,v)&&"constructor"!=v&&f.push(v);return f}},71194:(F,D,n)=>{var i=n(83278),t=n(3164),u=n(20908),h=Object.prototype.hasOwnProperty;F.exports=function m(f){if(!i(f))return u(f);var v=t(f),E=[];for(var _ in f)"constructor"==_&&(v||!h.call(f,_))||E.push(_);return E}},45619:(F,D,n)=>{var i=n(40868),t=n(47291);F.exports=function u(e,h){var m=-1,f=t(e)?Array(e.length):[];return i(e,function(v,E,_){f[++m]=h(v,E,_)}),f}},7432:(F,D,n)=>{var i=n(32692),t=n(90613),u=n(2878);F.exports=function e(h){var m=t(h);return 1==m.length&&m[0][2]?u(m[0][0],m[0][1]):function(f){return f===h||i(f,h,m)}}},61669:(F,D,n)=>{var i=n(32925),t=n(26681),u=n(49830),e=n(181),h=n(94745),m=n(2878),f=n(58130);F.exports=function _(C,I){return e(C)&&h(I)?m(f(C),I):function(R){var T=t(R,C);return void 0===T&&T===I?u(R,C):i(I,T,3)}}},85765:(F,D,n)=>{var i=n(6898),t=n(10732),u=n(32898),e=n(91239),h=n(83278),m=n(47674),f=n(3609);F.exports=function v(E,_,C,I,R){E!==_&&u(_,function(T,A){if(R||(R=new i),h(T))e(E,_,A,C,v,I,R);else{var p=I?I(f(E,A),T,A+"",E,_,R):void 0;void 0===p&&(p=T),t(E,A,p)}},m)}},91239:(F,D,n)=>{var i=n(10732),t=n(7697),u=n(11334),e=n(25820),h=n(92870),m=n(56265),f=n(9812),v=n(25152),E=n(63151),_=n(58653),C=n(83278),I=n(49970),R=n(31028),T=n(3609),A=n(6729);F.exports=function p(x,O,w,M,L,B,k){var W=T(x,w),U=T(O,w),K=k.get(U);if(K)i(x,w,K);else{var Y=B?B(W,U,w+"",x,O,k):void 0,G=void 0===Y;if(G){var q=f(U),z=!q&&E(U),te=!q&&!z&&R(U);Y=U,q||z||te?f(W)?Y=W:v(W)?Y=e(W):z?(G=!1,Y=t(U,!0)):te?(G=!1,Y=u(U,!0)):Y=[]:I(U)||m(U)?(Y=W,m(W)?Y=A(W):(!C(W)||_(W))&&(Y=h(U))):G=!1}G&&(k.set(U,Y),L(Y,U,M,B,k),k.delete(U)),i(x,w,Y)}}},32168:(F,D,n)=>{var i=n(12757),t=n(98137),u=n(12344),e=n(45619),h=n(90480),m=n(42502),f=n(81653),v=n(39631),E=n(9812);F.exports=function _(C,I,R){I=I.length?i(I,function(p){return E(p)?function(x){return t(x,1===p.length?p[0]:p)}:p}):[v];var T=-1;I=i(I,m(u));var A=e(C,function(p,x,O){return{criteria:i(I,function(M){return M(p)}),index:++T,value:p}});return h(A,function(p,x){return f(p,x,R)})}},21740:F=>{F.exports=function D(n){return function(i){return i?.[n]}}},55058:(F,D,n)=>{var i=n(98137);F.exports=function t(u){return function(e){return i(e,u)}}},68591:(F,D,n)=>{var i=n(39631),t=n(28452),u=n(11230);F.exports=function e(h,m){return u(t(h,m,i),h+"")}},48565:(F,D,n)=>{var i=n(26205),t=n(44678),u=n(39631);F.exports=t?function(h,m){return t(h,"toString",{configurable:!0,enumerable:!1,value:i(m),writable:!0})}:u},90480:F=>{F.exports=function D(n,i){var t=n.length;for(n.sort(i);t--;)n[t]=n[t].value;return n}},69695:F=>{F.exports=function D(n,i){for(var t=-1,u=Array(n);++t<n;)u[t]=i(t);return u}},87005:(F,D,n)=>{var i=n(8516),t=n(12757),u=n(9812),e=n(15153),m=i?i.prototype:void 0,f=m?m.toString:void 0;F.exports=function v(E){if("string"==typeof E)return E;if(u(E))return t(E,v)+"";if(e(E))return f?f.call(E):"";var _=E+"";return"0"==_&&1/E==-1/0?"-0":_}},35461:(F,D,n)=>{var i=n(37327),t=/^\s+/;F.exports=function u(e){return e&&e.slice(0,i(e)+1).replace(t,"")}},42502:F=>{F.exports=function D(n){return function(i){return n(i)}}},73136:(F,D,n)=>{var i=n(50342),t=n(75306),u=n(35878),e=n(31890),h=n(67366),m=n(3578);F.exports=function v(E,_,C){var I=-1,R=t,T=E.length,A=!0,p=[],x=p;if(C)A=!1,R=u;else if(T>=200){var O=_?null:h(E);if(O)return m(O);A=!1,R=e,x=new i}else x=_?[]:p;e:for(;++I<T;){var w=E[I],M=_?_(w):w;if(w=C||0!==w?w:0,A&&M==M){for(var L=x.length;L--;)if(x[L]===M)continue e;_&&x.push(M),p.push(w)}else R(x,M,C)||(x!==p&&x.push(M),p.push(w))}return p}},31890:F=>{F.exports=function D(n,i){return n.has(i)}},86638:(F,D,n)=>{var i=n(25152);F.exports=function t(u){return i(u)?u:[]}},43916:(F,D,n)=>{var i=n(9812),t=n(181),u=n(22447),e=n(54717);F.exports=function h(m,f){return i(m)?m:t(m,f)?[m]:u(e(m))}},96220:(F,D,n)=>{var i=n(12737);F.exports=function t(u){var e=new u.constructor(u.byteLength);return new i(e).set(new i(u)),e}},7697:(F,D,n)=>{F=n.nmd(F);var i=n(81464),t=D&&!D.nodeType&&D,u=t&&F&&!F.nodeType&&F,h=u&&u.exports===t?i.Buffer:void 0,m=h?h.allocUnsafe:void 0;F.exports=function f(v,E){if(E)return v.slice();var _=v.length,C=m?m(_):new v.constructor(_);return v.copy(C),C}},55942:(F,D,n)=>{var i=n(96220);F.exports=function t(u,e){var h=e?i(u.buffer):u.buffer;return new u.constructor(h,u.byteOffset,u.byteLength)}},38466:F=>{var D=/\w*$/;F.exports=function n(i){var t=new i.constructor(i.source,D.exec(i));return t.lastIndex=i.lastIndex,t}},54511:(F,D,n)=>{var i=n(8516),t=i?i.prototype:void 0,u=t?t.valueOf:void 0;F.exports=function e(h){return u?Object(u.call(h)):{}}},11334:(F,D,n)=>{var i=n(96220);F.exports=function t(u,e){var h=e?i(u.buffer):u.buffer;return new u.constructor(h,u.byteOffset,u.length)}},44967:(F,D,n)=>{var i=n(15153);F.exports=function t(u,e){if(u!==e){var h=void 0!==u,m=null===u,f=u==u,v=i(u),E=void 0!==e,_=null===e,C=e==e,I=i(e);if(!_&&!I&&!v&&u>e||v&&E&&C&&!_&&!I||m&&E&&C||!h&&C||!f)return 1;if(!m&&!v&&!I&&u<e||I&&h&&f&&!m&&!v||_&&h&&f||!E&&f||!C)return-1}return 0}},81653:(F,D,n)=>{var i=n(44967);F.exports=function t(u,e,h){for(var m=-1,f=u.criteria,v=e.criteria,E=f.length,_=h.length;++m<E;){var C=i(f[m],v[m]);if(C)return m>=_?C:C*("desc"==h[m]?-1:1)}return u.index-e.index}},25820:F=>{F.exports=function D(n,i){var t=-1,u=n.length;for(i||(i=Array(u));++t<u;)i[t]=n[t];return i}},43190:(F,D,n)=>{var i=n(69220),t=n(64399);F.exports=function u(e,h,m,f){var v=!m;m||(m={});for(var E=-1,_=h.length;++E<_;){var C=h[E],I=f?f(m[C],e[C],C,m,e):void 0;void 0===I&&(I=e[C]),v?t(m,C,I):i(m,C,I)}return m}},5308:(F,D,n)=>{var i=n(43190),t=n(90181);F.exports=function u(e,h){return i(e,t(e),h)}},67491:(F,D,n)=>{var i=n(43190),t=n(35254);F.exports=function u(e,h){return i(e,t(e),h)}},20336:(F,D,n)=>{var i=n(81464);F.exports=i["__core-js_shared__"]},3145:(F,D,n)=>{var i=n(99526),t=n(61512),u=n(12344),e=n(9812);F.exports=function h(m,f){return function(v,E){var _=e(v)?i:t,C=f?f():{};return _(v,m,u(E,2),C)}}},87530:(F,D,n)=>{var i=n(68591),t=n(12721);F.exports=function u(e){return i(function(h,m){var f=-1,v=m.length,E=v>1?m[v-1]:void 0,_=v>2?m[2]:void 0;for(E=e.length>3&&"function"==typeof E?(v--,E):void 0,_&&t(m[0],m[1],_)&&(E=v<3?void 0:E,v=1),h=Object(h);++f<v;){var C=m[f];C&&e(h,C,f,E)}return h})}},55892:(F,D,n)=>{var i=n(47291);F.exports=function t(u,e){return function(h,m){if(null==h)return h;if(!i(h))return u(h,m);for(var f=h.length,v=e?f:-1,E=Object(h);(e?v--:++v<f)&&!1!==m(E[v],v,E););return h}}},99602:F=>{F.exports=function D(n){return function(i,t,u){for(var e=-1,h=Object(i),m=u(i),f=m.length;f--;){var v=m[n?f:++e];if(!1===t(h[v],v,h))break}return i}}},67366:(F,D,n)=>{var i=n(57814),t=n(68145),u=n(3578),h=i&&1/u(new i([,-0]))[1]==1/0?function(m){return new i(m)}:t;F.exports=h},44678:(F,D,n)=>{var i=n(54385),t=function(){try{var u=i(Object,"defineProperty");return u({},"",{}),u}catch{}}();F.exports=t},12900:(F,D,n)=>{var i=n(50342),t=n(57371),u=n(31890);F.exports=function m(f,v,E,_,C,I){var R=1&E,T=f.length,A=v.length;if(T!=A&&!(R&&A>T))return!1;var p=I.get(f),x=I.get(v);if(p&&x)return p==v&&x==f;var O=-1,w=!0,M=2&E?new i:void 0;for(I.set(f,v),I.set(v,f);++O<T;){var L=f[O],B=v[O];if(_)var k=R?_(B,L,O,v,f,I):_(L,B,O,f,v,I);if(void 0!==k){if(k)continue;w=!1;break}if(M){if(!t(v,function(W,U){if(!u(M,U)&&(L===W||C(L,W,E,_,I)))return M.push(U)})){w=!1;break}}else if(L!==B&&!C(L,B,E,_,I)){w=!1;break}}return I.delete(f),I.delete(v),w}},7987:(F,D,n)=>{var i=n(8516),t=n(12737),u=n(12651),e=n(12900),h=n(37152),m=n(3578),M=i?i.prototype:void 0,L=M?M.valueOf:void 0;F.exports=function B(k,W,U,K,Y,G,q){switch(U){case"[object DataView]":if(k.byteLength!=W.byteLength||k.byteOffset!=W.byteOffset)return!1;k=k.buffer,W=W.buffer;case"[object ArrayBuffer]":return!(k.byteLength!=W.byteLength||!G(new t(k),new t(W)));case"[object Boolean]":case"[object Date]":case"[object Number]":return u(+k,+W);case"[object Error]":return k.name==W.name&&k.message==W.message;case"[object RegExp]":case"[object String]":return k==W+"";case"[object Map]":var z=h;case"[object Set]":if(z||(z=m),k.size!=W.size&&!(1&K))return!1;var Z=q.get(k);if(Z)return Z==W;K|=2,q.set(k,W);var J=e(z(k),z(W),K,Y,G,q);return q.delete(k),J;case"[object Symbol]":if(L)return L.call(k)==L.call(W)}return!1}},47880:(F,D,n)=>{var i=n(3539),e=Object.prototype.hasOwnProperty;F.exports=function h(m,f,v,E,_,C){var I=1&v,R=i(m),T=R.length;if(T!=i(f).length&&!I)return!1;for(var x=T;x--;){var O=R[x];if(!(I?O in f:e.call(f,O)))return!1}var w=C.get(m),M=C.get(f);if(w&&M)return w==f&&M==m;var L=!0;C.set(m,f),C.set(f,m);for(var B=I;++x<T;){var k=m[O=R[x]],W=f[O];if(E)var U=I?E(W,k,O,f,m,C):E(k,W,O,m,f,C);if(!(void 0===U?k===W||_(k,W,v,E,C):U)){L=!1;break}B||(B="constructor"==O)}if(L&&!B){var K=m.constructor,Y=f.constructor;K!=Y&&"constructor"in m&&"constructor"in f&&!("function"==typeof K&&K instanceof K&&"function"==typeof Y&&Y instanceof Y)&&(L=!1)}return C.delete(m),C.delete(f),L}},78657:F=>{var D="object"==typeof global&&global&&global.Object===Object&&global;F.exports=D},3539:(F,D,n)=>{var i=n(79926),t=n(90181),u=n(32561);F.exports=function e(h){return i(h,u,t)}},49088:(F,D,n)=>{var i=n(79926),t=n(35254),u=n(47674);F.exports=function e(h){return i(h,u,t)}},79038:(F,D,n)=>{var i=n(83329);F.exports=function t(u,e){var h=u.__data__;return i(e)?h["string"==typeof e?"string":"hash"]:h.map}},90613:(F,D,n)=>{var i=n(94745),t=n(32561);F.exports=function u(e){for(var h=t(e),m=h.length;m--;){var f=h[m],v=e[f];h[m]=[f,v,i(v)]}return h}},54385:(F,D,n)=>{var i=n(60298),t=n(58737);F.exports=function u(e,h){var m=t(e,h);return i(m)?m:void 0}},46902:(F,D,n)=>{var t=n(72852)(Object.getPrototypeOf,Object);F.exports=t},8488:(F,D,n)=>{var i=n(8516),t=Object.prototype,u=t.hasOwnProperty,e=t.toString,h=i?i.toStringTag:void 0;F.exports=function m(f){var v=u.call(f,h),E=f[h];try{f[h]=void 0;var _=!0}catch{}var C=e.call(f);return _&&(v?f[h]=E:delete f[h]),C}},90181:(F,D,n)=>{var i=n(32873),t=n(2260),e=Object.prototype.propertyIsEnumerable,h=Object.getOwnPropertySymbols;F.exports=h?function(f){return null==f?[]:(f=Object(f),i(h(f),function(v){return e.call(f,v)}))}:t},35254:(F,D,n)=>{var i=n(86319),t=n(46902),u=n(90181),e=n(2260);F.exports=Object.getOwnPropertySymbols?function(f){for(var v=[];f;)i(v,u(f)),f=t(f);return v}:e},20828:(F,D,n)=>{var i=n(55013),t=n(51012),u=n(81339),e=n(57814),h=n(72248),m=n(61057),f=n(68020),v="[object Map]",_="[object Promise]",C="[object Set]",I="[object WeakMap]",R="[object DataView]",T=f(i),A=f(t),p=f(u),x=f(e),O=f(h),w=m;(i&&w(new i(new ArrayBuffer(1)))!=R||t&&w(new t)!=v||u&&w(u.resolve())!=_||e&&w(new e)!=C||h&&w(new h)!=I)&&(w=function(M){var L=m(M),B="[object Object]"==L?M.constructor:void 0,k=B?f(B):"";if(k)switch(k){case T:return R;case A:return v;case p:return _;case x:return C;case O:return I}return L}),F.exports=w},58737:F=>{F.exports=function D(n,i){return n?.[i]}},85121:(F,D,n)=>{var i=n(43916),t=n(56265),u=n(9812),e=n(98426),h=n(18845),m=n(58130);F.exports=function f(v,E,_){for(var C=-1,I=(E=i(E,v)).length,R=!1;++C<I;){var T=m(E[C]);if(!(R=null!=v&&_(v,T)))break;v=v[T]}return R||++C!=I?R:!!(I=null==v?0:v.length)&&h(I)&&e(T,I)&&(u(v)||t(v))}},56399:(F,D,n)=>{var i=n(58247);F.exports=function t(){this.__data__=i?i(null):{},this.size=0}},61483:F=>{F.exports=function D(n){var i=this.has(n)&&delete this.__data__[n];return this.size-=i?1:0,i}},83434:(F,D,n)=>{var i=n(58247),e=Object.prototype.hasOwnProperty;F.exports=function h(m){var f=this.__data__;if(i){var v=f[m];return"__lodash_hash_undefined__"===v?void 0:v}return e.call(f,m)?f[m]:void 0}},5230:(F,D,n)=>{var i=n(58247),u=Object.prototype.hasOwnProperty;F.exports=function e(h){var m=this.__data__;return i?void 0!==m[h]:u.call(m,h)}},33718:(F,D,n)=>{var i=n(58247);F.exports=function u(e,h){var m=this.__data__;return this.size+=this.has(e)?0:1,m[e]=i&&void 0===h?"__lodash_hash_undefined__":h,this}},89900:F=>{var n=Object.prototype.hasOwnProperty;F.exports=function i(t){var u=t.length,e=new t.constructor(u);return u&&"string"==typeof t[0]&&n.call(t,"index")&&(e.index=t.index,e.input=t.input),e}},69686:(F,D,n)=>{var i=n(96220),t=n(55942),u=n(38466),e=n(54511),h=n(11334);F.exports=function U(K,Y,G){var q=K.constructor;switch(Y){case"[object ArrayBuffer]":return i(K);case"[object Boolean]":case"[object Date]":return new q(+K);case"[object DataView]":return t(K,G);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return h(K,G);case"[object Map]":case"[object Set]":return new q;case"[object Number]":case"[object String]":return new q(K);case"[object RegExp]":return u(K);case"[object Symbol]":return e(K)}}},92870:(F,D,n)=>{var i=n(19593),t=n(46902),u=n(3164);F.exports=function e(h){return"function"!=typeof h.constructor||u(h)?{}:i(t(h))}},98892:(F,D,n)=>{var i=n(8516),t=n(56265),u=n(9812),e=i?i.isConcatSpreadable:void 0;F.exports=function h(m){return u(m)||t(m)||!!(e&&m&&m[e])}},98426:F=>{var n=/^(?:0|[1-9]\d*)$/;F.exports=function i(t,u){var e=typeof t;return!!(u=u??9007199254740991)&&("number"==e||"symbol"!=e&&n.test(t))&&t>-1&&t%1==0&&t<u}},12721:(F,D,n)=>{var i=n(12651),t=n(47291),u=n(98426),e=n(83278);F.exports=function h(m,f,v){if(!e(v))return!1;var E=typeof f;return!!("number"==E?t(v)&&u(f,v.length):"string"==E&&f in v)&&i(v[f],m)}},181:(F,D,n)=>{var i=n(9812),t=n(15153),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e=/^\w*$/;F.exports=function h(m,f){if(i(m))return!1;var v=typeof m;return!("number"!=v&&"symbol"!=v&&"boolean"!=v&&null!=m&&!t(m))||e.test(m)||!u.test(m)||null!=f&&m in Object(f)}},83329:F=>{F.exports=function D(n){var i=typeof n;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n}},48401:(F,D,n)=>{var e,i=n(20336),t=(e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";F.exports=function u(e){return!!t&&t in e}},3164:F=>{var D=Object.prototype;F.exports=function n(i){var t=i&&i.constructor;return i===("function"==typeof t&&t.prototype||D)}},94745:(F,D,n)=>{var i=n(83278);F.exports=function t(u){return u==u&&!i(u)}},23643:F=>{F.exports=function D(){this.__data__=[],this.size=0}},27103:(F,D,n)=>{var i=n(86316),u=Array.prototype.splice;F.exports=function e(h){var m=this.__data__,f=i(m,h);return!(f<0||(f==m.length-1?m.pop():u.call(m,f,1),--this.size,0))}},30062:(F,D,n)=>{var i=n(86316);F.exports=function t(u){var e=this.__data__,h=i(e,u);return h<0?void 0:e[h][1]}},31610:(F,D,n)=>{var i=n(86316);F.exports=function t(u){return i(this.__data__,u)>-1}},1090:(F,D,n)=>{var i=n(86316);F.exports=function t(u,e){var h=this.__data__,m=i(h,u);return m<0?(++this.size,h.push([u,e])):h[m][1]=e,this}},21891:(F,D,n)=>{var i=n(63028),t=n(25752),u=n(51012);F.exports=function e(){this.size=0,this.__data__={hash:new i,map:new(u||t),string:new i}}},92759:(F,D,n)=>{var i=n(79038);F.exports=function t(u){var e=i(this,u).delete(u);return this.size-=e?1:0,e}},97766:(F,D,n)=>{var i=n(79038);F.exports=function t(u){return i(this,u).get(u)}},40322:(F,D,n)=>{var i=n(79038);F.exports=function t(u){return i(this,u).has(u)}},47258:(F,D,n)=>{var i=n(79038);F.exports=function t(u,e){var h=i(this,u),m=h.size;return h.set(u,e),this.size+=h.size==m?0:1,this}},37152:F=>{F.exports=function D(n){var i=-1,t=Array(n.size);return n.forEach(function(u,e){t[++i]=[e,u]}),t}},2878:F=>{F.exports=function D(n,i){return function(t){return null!=t&&t[n]===i&&(void 0!==i||n in Object(t))}}},68339:(F,D,n)=>{var i=n(89605);F.exports=function u(e){var h=i(e,function(f){return 500===m.size&&m.clear(),f}),m=h.cache;return h}},58247:(F,D,n)=>{var t=n(54385)(Object,"create");F.exports=t},96199:(F,D,n)=>{var t=n(72852)(Object.keys,Object);F.exports=t},20908:F=>{F.exports=function D(n){var i=[];if(null!=n)for(var t in Object(n))i.push(t);return i}},90512:(F,D,n)=>{F=n.nmd(F);var i=n(78657),t=D&&!D.nodeType&&D,u=t&&F&&!F.nodeType&&F,h=u&&u.exports===t&&i.process,m=function(){try{return u&&u.require&&u.require("util").types||h&&h.binding&&h.binding("util")}catch{}}();F.exports=m},53327:F=>{var n=Object.prototype.toString;F.exports=function i(t){return n.call(t)}},72852:F=>{F.exports=function D(n,i){return function(t){return n(i(t))}}},28452:(F,D,n)=>{var i=n(81458),t=Math.max;F.exports=function u(e,h,m){return h=t(void 0===h?e.length-1:h,0),function(){for(var f=arguments,v=-1,E=t(f.length-h,0),_=Array(E);++v<E;)_[v]=f[h+v];v=-1;for(var C=Array(h+1);++v<h;)C[v]=f[v];return C[h]=m(_),i(e,this,C)}}},81464:(F,D,n)=>{var i=n(78657),t="object"==typeof self&&self&&self.Object===Object&&self,u=i||t||Function("return this")();F.exports=u},3609:F=>{F.exports=function D(n,i){if(("constructor"!==i||"function"!=typeof n[i])&&"__proto__"!=i)return n[i]}},74643:F=>{F.exports=function n(i){return this.__data__.set(i,"__lodash_hash_undefined__"),this}},92768:F=>{F.exports=function D(n){return this.__data__.has(n)}},3578:F=>{F.exports=function D(n){var i=-1,t=Array(n.size);return n.forEach(function(u){t[++i]=u}),t}},11230:(F,D,n)=>{var i=n(48565),u=n(12770)(i);F.exports=u},12770:F=>{var i=Date.now;F.exports=function t(u){var e=0,h=0;return function(){var m=i(),f=16-(m-h);if(h=m,f>0){if(++e>=800)return arguments[0]}else e=0;return u.apply(void 0,arguments)}}},48945:(F,D,n)=>{var i=n(25752);F.exports=function t(){this.__data__=new i,this.size=0}},78425:F=>{F.exports=function D(n){var i=this.__data__,t=i.delete(n);return this.size=i.size,t}},25280:F=>{F.exports=function D(n){return this.__data__.get(n)}},80324:F=>{F.exports=function D(n){return this.__data__.has(n)}},84516:(F,D,n)=>{var i=n(25752),t=n(51012),u=n(90752);F.exports=function h(m,f){var v=this.__data__;if(v instanceof i){var E=v.__data__;if(!t||E.length<199)return E.push([m,f]),this.size=++v.size,this;v=this.__data__=new u(E)}return v.set(m,f),this.size=v.size,this}},75220:F=>{F.exports=function D(n,i,t){for(var u=t-1,e=n.length;++u<e;)if(n[u]===i)return u;return-1}},22447:(F,D,n)=>{var i=n(68339),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,e=i(function(h){var m=[];return 46===h.charCodeAt(0)&&m.push(""),h.replace(t,function(f,v,E,_){m.push(E?_.replace(u,"$1"):v||f)}),m});F.exports=e},58130:(F,D,n)=>{var i=n(15153);F.exports=function u(e){if("string"==typeof e||i(e))return e;var h=e+"";return"0"==h&&1/e==-1/0?"-0":h}},68020:F=>{var n=Function.prototype.toString;F.exports=function i(t){if(null!=t){try{return n.call(t)}catch{}try{return t+""}catch{}}return""}},37327:F=>{var D=/\s/;F.exports=function n(i){for(var t=i.length;t--&&D.test(i.charAt(t)););return t}},84418:(F,D,n)=>{var i=n(25052);F.exports=function e(h){return i(h,5)}},26205:F=>{F.exports=function D(n){return function(){return n}}},61889:(F,D,n)=>{var i=n(83278),t=n(90501),u=n(73521),h=Math.max,m=Math.min;F.exports=function f(v,E,_){var C,I,R,T,A,p,x=0,O=!1,w=!1,M=!0;if("function"!=typeof v)throw new TypeError("Expected a function");function L(z){var te=C,Z=I;return C=I=void 0,x=z,T=v.apply(Z,te)}function W(z){var te=z-p;return void 0===p||te>=E||te<0||w&&z-x>=R}function U(){var z=t();if(W(z))return K(z);A=setTimeout(U,function k(z){var J=E-(z-p);return w?m(J,R-(z-x)):J}(z))}function K(z){return A=void 0,M&&C?L(z):(C=I=void 0,T)}function q(){var z=t(),te=W(z);if(C=arguments,I=this,p=z,te){if(void 0===A)return function B(z){return x=z,A=setTimeout(U,E),O?L(z):T}(p);if(w)return clearTimeout(A),A=setTimeout(U,E),L(p)}return void 0===A&&(A=setTimeout(U,E)),T}return E=u(E)||0,i(_)&&(O=!!_.leading,R=(w="maxWait"in _)?h(u(_.maxWait)||0,E):R,M="trailing"in _?!!_.trailing:M),q.cancel=function Y(){void 0!==A&&clearTimeout(A),x=0,C=p=I=A=void 0},q.flush=function G(){return void 0===A?T:K(t())},q}},22458:(F,D,n)=>{var i=n(6362),t=n(13091),u=n(68591),e=n(25152),h=u(function(m,f){return e(m)?i(m,t(f,1,e,!0)):[]});F.exports=h},25622:(F,D,n)=>{var i=n(6362),t=n(13091),u=n(68591),e=n(25152),h=n(95649),m=u(function(f,v){var E=h(v);return e(E)&&(E=void 0),e(f)?i(f,t(v,1,e,!0),void 0,E):[]});F.exports=m},12651:F=>{F.exports=function D(n,i){return n===i||n!=n&&i!=i}},48376:(F,D,n)=>{var i=n(75736),t=n(12344),u=n(71284),e=Math.max;F.exports=function h(m,f,v){var E=null==m?0:m.length;if(!E)return-1;var _=null==v?0:u(v);return _<0&&(_=e(E+_,0)),i(m,t(f,3),_)}},5771:(F,D,n)=>{var i=n(12875),t=n(73432),u=n(12344);F.exports=function e(h,m){return i(h,u(m,3),t)}},26681:(F,D,n)=>{var i=n(98137);F.exports=function t(u,e,h){var m=null==u?void 0:i(u,e);return void 0===m?h:m}},28267:(F,D,n)=>{var i=n(64399),t=n(3145),e=Object.prototype.hasOwnProperty,h=t(function(m,f,v){e.call(m,v)?m[v].push(f):i(m,v,[f])});F.exports=h},49830:(F,D,n)=>{var i=n(31398),t=n(85121);F.exports=function u(e,h){return null!=e&&t(e,h,i)}},39631:F=>{F.exports=function D(n){return n}},27916:(F,D,n)=>{var i=n(12757),t=n(16324),u=n(68591),e=n(86638),h=n(95649),m=u(function(f){var v=h(f),E=i(f,e);return(v="function"==typeof v?v:void 0)&&E.pop(),E.length&&E[0]===f[0]?t(E,void 0,v):[]});F.exports=m},56265:(F,D,n)=>{var i=n(18313),t=n(57433),u=Object.prototype,e=u.hasOwnProperty,h=u.propertyIsEnumerable,m=i(function(){return arguments}())?i:function(f){return t(f)&&e.call(f,"callee")&&!h.call(f,"callee")};F.exports=m},9812:F=>{F.exports=Array.isArray},47291:(F,D,n)=>{var i=n(58653),t=n(18845);F.exports=function u(e){return null!=e&&t(e.length)&&!i(e)}},25152:(F,D,n)=>{var i=n(47291),t=n(57433);F.exports=function u(e){return t(e)&&i(e)}},63151:(F,D,n)=>{F=n.nmd(F);var i=n(81464),t=n(95710),u=D&&!D.nodeType&&D,e=u&&F&&!F.nodeType&&F,m=e&&e.exports===u?i.Buffer:void 0;F.exports=(m?m.isBuffer:void 0)||t},48125:(F,D,n)=>{var i=n(32925);F.exports=function t(u,e){return i(u,e)}},58653:(F,D,n)=>{var i=n(61057),t=n(83278);F.exports=function f(v){if(!t(v))return!1;var E=i(v);return"[object Function]"==E||"[object GeneratorFunction]"==E||"[object AsyncFunction]"==E||"[object Proxy]"==E}},18845:F=>{F.exports=function n(i){return"number"==typeof i&&i>-1&&i%1==0&&i<=9007199254740991}},56879:(F,D,n)=>{var i=n(26095),t=n(42502),u=n(90512),e=u&&u.isMap,h=e?t(e):i;F.exports=h},83278:F=>{F.exports=function D(n){var i=typeof n;return null!=n&&("object"==i||"function"==i)}},57433:F=>{F.exports=function D(n){return null!=n&&"object"==typeof n}},49970:(F,D,n)=>{var i=n(61057),t=n(46902),u=n(57433),f=Function.prototype.toString,v=Object.prototype.hasOwnProperty,E=f.call(Object);F.exports=function _(C){if(!u(C)||"[object Object]"!=i(C))return!1;var I=t(C);if(null===I)return!0;var R=v.call(I,"constructor")&&I.constructor;return"function"==typeof R&&R instanceof R&&f.call(R)==E}},74257:(F,D,n)=>{var i=n(91889),t=n(42502),u=n(90512),e=u&&u.isSet,h=e?t(e):i;F.exports=h},78124:(F,D,n)=>{var i=n(61057),t=n(9812),u=n(57433);F.exports=function h(m){return"string"==typeof m||!t(m)&&u(m)&&"[object String]"==i(m)}},15153:(F,D,n)=>{var i=n(61057),t=n(57433);F.exports=function e(h){return"symbol"==typeof h||t(h)&&"[object Symbol]"==i(h)}},31028:(F,D,n)=>{var i=n(18068),t=n(42502),u=n(90512),e=u&&u.isTypedArray,h=e?t(e):i;F.exports=h},32561:(F,D,n)=>{var i=n(28548),t=n(13809),u=n(47291);F.exports=function e(h){return u(h)?i(h):t(h)}},47674:(F,D,n)=>{var i=n(28548),t=n(71194),u=n(47291);F.exports=function e(h){return u(h)?i(h,!0):t(h)}},95649:F=>{F.exports=function D(n){var i=null==n?0:n.length;return i?n[i-1]:void 0}},89605:(F,D,n)=>{var i=n(90752);function u(e,h){if("function"!=typeof e||null!=h&&"function"!=typeof h)throw new TypeError("Expected a function");var m=function(){var f=arguments,v=h?h.apply(this,f):f[0],E=m.cache;if(E.has(v))return E.get(v);var _=e.apply(this,f);return m.cache=E.set(v,_)||E,_};return m.cache=new(u.Cache||i),m}u.Cache=i,F.exports=u},25689:(F,D,n)=>{var i=n(85765),u=n(87530)(function(e,h,m,f){i(e,h,m,f)});F.exports=u},68145:F=>{F.exports=function D(){}},90501:(F,D,n)=>{var i=n(81464);F.exports=function(){return i.Date.now()}},15788:(F,D,n)=>{var i=n(21740),t=n(55058),u=n(181),e=n(58130);F.exports=function h(m){return u(m)?i(e(m)):t(m)}},69136:(F,D,n)=>{var i=n(13091),t=n(32168),u=n(68591),e=n(12721),h=u(function(m,f){if(null==m)return[];var v=f.length;return v>1&&e(m,f[0],f[1])?f=[]:v>2&&e(f[0],f[1],f[2])&&(f=[f[0]]),t(m,i(f,1),[])});F.exports=h},2260:F=>{F.exports=function D(){return[]}},95710:F=>{F.exports=function D(){return!1}},68263:(F,D,n)=>{var i=n(73521),t=1/0;F.exports=function e(h){return h?(h=i(h))===t||h===-t?17976931348623157e292*(h<0?-1:1):h==h?h:0:0===h?h:0}},71284:(F,D,n)=>{var i=n(68263);F.exports=function t(u){var e=i(u),h=e%1;return e==e?h?e-h:e:0}},73521:(F,D,n)=>{var i=n(35461),t=n(83278),u=n(15153),h=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,f=/^0o[0-7]+$/i,v=parseInt;F.exports=function E(_){if("number"==typeof _)return _;if(u(_))return NaN;if(t(_)){var C="function"==typeof _.valueOf?_.valueOf():_;_=t(C)?C+"":C}if("string"!=typeof _)return 0===_?_:+_;_=i(_);var I=m.test(_);return I||f.test(_)?v(_.slice(2),I?2:8):h.test(_)?NaN:+_}},6729:(F,D,n)=>{var i=n(43190),t=n(47674);F.exports=function u(e){return i(e,t(e))}},54717:(F,D,n)=>{var i=n(87005);F.exports=function t(u){return null==u?"":i(u)}},95341:(F,D,n)=>{var i=n(75558),t=n(19593),u=n(73432),e=n(12344),h=n(46902),m=n(9812),f=n(63151),v=n(58653),E=n(83278),_=n(31028);F.exports=function C(I,R,T){var A=m(I),p=A||f(I)||_(I);if(R=e(R,4),null==T){var x=I&&I.constructor;T=p?A?new x:[]:E(I)&&v(x)?t(h(I)):{}}return(p?i:u)(I,function(O,w,M){return R(T,O,w,M)}),T}},28898:(F,D,n)=>{var i=n(13091),t=n(68591),u=n(73136),e=n(25152),h=t(function(m){return u(i(m,1,e,!0))});F.exports=h},63448:(F,D,n)=>{var i=n(73136);F.exports=function t(u,e){return e="function"==typeof e?e:void 0,u&&u.length?i(u,void 0,e):[]}},59519:(F,D,n)=>{var i=n(54717),t=0;F.exports=function u(e){var h=++t;return i(e)+h}},77876:(F,D,n)=>{"use strict";n.d(D,{h:()=>t});var i=n(21413);class t extends i.B{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:h,_hasValue:m,_value:f,thrownError:v,isStopped:E,_isComplete:_}=this;h?e.error(v):(E||_)&&(m&&e.next(f),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:h,_isComplete:m}=this;m||(this._isComplete=!0,e&&super.next(h),super.complete())}}},84412:(F,D,n)=>{"use strict";n.d(D,{t:()=>t});var i=n(21413);class t extends i.B{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const h=super._subscribe(e);return!h.closed&&e.next(this._value),h}getValue(){const{hasError:e,thrownError:h,_value:m}=this;if(e)throw h;return this._throwIfClosed(),m}next(e){super.next(this._value=e)}}},71985:(F,D,n)=>{"use strict";n.d(D,{c:()=>v});var i=n(47707),t=n(18359),u=n(3494),e=n(71203),h=n(41026),m=n(98071),f=n(49786);let v=(()=>{class I{constructor(T){T&&(this._subscribe=T)}lift(T){const A=new I;return A.source=this,A.operator=T,A}subscribe(T,A,p){const x=function C(I){return I&&I instanceof i.vU||function _(I){return I&&(0,m.T)(I.next)&&(0,m.T)(I.error)&&(0,m.T)(I.complete)}(I)&&(0,t.Uv)(I)}(T)?T:new i.Ms(T,A,p);return(0,f.Y)(()=>{const{operator:O,source:w}=this;x.add(O?O.call(x,w):w?this._subscribe(x):this._trySubscribe(x))}),x}_trySubscribe(T){try{return this._subscribe(T)}catch(A){T.error(A)}}forEach(T,A){return new(A=E(A))((p,x)=>{const O=new i.Ms({next:w=>{try{T(w)}catch(M){x(M),O.unsubscribe()}},error:x,complete:p});this.subscribe(O)})}_subscribe(T){var A;return null===(A=this.source)||void 0===A?void 0:A.subscribe(T)}[u.s](){return this}pipe(...T){return(0,e.m)(T)(this)}toPromise(T){return new(T=E(T))((A,p)=>{let x;this.subscribe(O=>x=O,O=>p(O),()=>A(x))})}}return I.create=R=>new I(R),I})();function E(I){var R;return null!==(R=I??h.$.Promise)&&void 0!==R?R:Promise}},92771:(F,D,n)=>{"use strict";n.d(D,{m:()=>u});var i=n(21413),t=n(86129);class u extends i.B{constructor(h=1/0,m=1/0,f=t.U){super(),this._bufferSize=h,this._windowTime=m,this._timestampProvider=f,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=m===1/0,this._bufferSize=Math.max(1,h),this._windowTime=Math.max(1,m)}next(h){const{isStopped:m,_buffer:f,_infiniteTimeWindow:v,_timestampProvider:E,_windowTime:_}=this;m||(f.push(h),!v&&f.push(E.now()+_)),this._trimBuffer(),super.next(h)}_subscribe(h){this._throwIfClosed(),this._trimBuffer();const m=this._innerSubscribe(h),{_infiniteTimeWindow:f,_buffer:v}=this,E=v.slice();for(let _=0;_<E.length&&!h.closed;_+=f?1:2)h.next(E[_]);return this._checkFinalizedStatuses(h),m}_trimBuffer(){const{_bufferSize:h,_timestampProvider:m,_buffer:f,_infiniteTimeWindow:v}=this,E=(v?1:2)*h;if(h<1/0&&E<f.length&&f.splice(0,f.length-E),!v){const _=m.now();let C=0;for(let I=1;I<f.length&&f[I]<=_;I+=2)C=I;C&&f.splice(0,C+1)}}}},21413:(F,D,n)=>{"use strict";n.d(D,{B:()=>f});var i=n(71985),t=n(18359);const e=(0,n(81853).L)(E=>function(){E(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var h=n(57908),m=n(49786);let f=(()=>{class E extends i.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(C){const I=new v(this,this);return I.operator=C,I}_throwIfClosed(){if(this.closed)throw new e}next(C){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const I of this.currentObservers)I.next(C)}})}error(C){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=C;const{observers:I}=this;for(;I.length;)I.shift().error(C)}})}complete(){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:C}=this;for(;C.length;)C.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var C;return(null===(C=this.observers)||void 0===C?void 0:C.length)>0}_trySubscribe(C){return this._throwIfClosed(),super._trySubscribe(C)}_subscribe(C){return this._throwIfClosed(),this._checkFinalizedStatuses(C),this._innerSubscribe(C)}_innerSubscribe(C){const{hasError:I,isStopped:R,observers:T}=this;return I||R?t.Kn:(this.currentObservers=null,T.push(C),new t.yU(()=>{this.currentObservers=null,(0,h.o)(T,C)}))}_checkFinalizedStatuses(C){const{hasError:I,thrownError:R,isStopped:T}=this;I?C.error(R):T&&C.complete()}asObservable(){const C=new i.c;return C.source=this,C}}return E.create=(_,C)=>new v(_,C),E})();class v extends f{constructor(_,C){super(),this.destination=_,this.source=C}next(_){var C,I;null===(I=null===(C=this.destination)||void 0===C?void 0:C.next)||void 0===I||I.call(C,_)}error(_){var C,I;null===(I=null===(C=this.destination)||void 0===C?void 0:C.error)||void 0===I||I.call(C,_)}complete(){var _,C;null===(C=null===(_=this.destination)||void 0===_?void 0:_.complete)||void 0===C||C.call(_)}_subscribe(_){var C,I;return null!==(I=null===(C=this.source)||void 0===C?void 0:C.subscribe(_))&&void 0!==I?I:t.Kn}}},47707:(F,D,n)=>{"use strict";n.d(D,{Ms:()=>p,vU:()=>I});var i=n(98071),t=n(18359),u=n(41026),e=n(45334),h=n(85343);const m=E("C",void 0,void 0);function E(L,B,k){return{kind:L,value:B,error:k}}var _=n(19270),C=n(49786);class I extends t.yU{constructor(B){super(),this.isStopped=!1,B?(this.destination=B,(0,t.Uv)(B)&&B.add(this)):this.destination=M}static create(B,k,W){return new p(B,k,W)}next(B){this.isStopped?w(function v(L){return E("N",L,void 0)}(B),this):this._next(B)}error(B){this.isStopped?w(function f(L){return E("E",void 0,L)}(B),this):(this.isStopped=!0,this._error(B))}complete(){this.isStopped?w(m,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(B){this.destination.next(B)}_error(B){try{this.destination.error(B)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const R=Function.prototype.bind;function T(L,B){return R.call(L,B)}class A{constructor(B){this.partialObserver=B}next(B){const{partialObserver:k}=this;if(k.next)try{k.next(B)}catch(W){x(W)}}error(B){const{partialObserver:k}=this;if(k.error)try{k.error(B)}catch(W){x(W)}else x(B)}complete(){const{partialObserver:B}=this;if(B.complete)try{B.complete()}catch(k){x(k)}}}class p extends I{constructor(B,k,W){let U;if(super(),(0,i.T)(B)||!B)U={next:B??void 0,error:k??void 0,complete:W??void 0};else{let K;this&&u.$.useDeprecatedNextContext?(K=Object.create(B),K.unsubscribe=()=>this.unsubscribe(),U={next:B.next&&T(B.next,K),error:B.error&&T(B.error,K),complete:B.complete&&T(B.complete,K)}):U=B}this.destination=new A(U)}}function x(L){u.$.useDeprecatedSynchronousErrorHandling?(0,C.l)(L):(0,e.m)(L)}function w(L,B){const{onStoppedNotification:k}=u.$;k&&_.f.setTimeout(()=>k(L,B))}const M={closed:!0,next:h.l,error:function O(L){throw L},complete:h.l}},18359:(F,D,n)=>{"use strict";n.d(D,{Kn:()=>m,yU:()=>h,Uv:()=>f});var i=n(98071);const u=(0,n(81853).L)(E=>function(C){E(this),this.message=C?`${C.length} errors occurred during unsubscription:\n${C.map((I,R)=>`${R+1}) ${I.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=C});var e=n(57908);class h{constructor(_){this.initialTeardown=_,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _;if(!this.closed){this.closed=!0;const{_parentage:C}=this;if(C)if(this._parentage=null,Array.isArray(C))for(const T of C)T.remove(this);else C.remove(this);const{initialTeardown:I}=this;if((0,i.T)(I))try{I()}catch(T){_=T instanceof u?T.errors:[T]}const{_finalizers:R}=this;if(R){this._finalizers=null;for(const T of R)try{v(T)}catch(A){_=_??[],A instanceof u?_=[..._,...A.errors]:_.push(A)}}if(_)throw new u(_)}}add(_){var C;if(_&&_!==this)if(this.closed)v(_);else{if(_ instanceof h){if(_.closed||_._hasParent(this))return;_._addParent(this)}(this._finalizers=null!==(C=this._finalizers)&&void 0!==C?C:[]).push(_)}}_hasParent(_){const{_parentage:C}=this;return C===_||Array.isArray(C)&&C.includes(_)}_addParent(_){const{_parentage:C}=this;this._parentage=Array.isArray(C)?(C.push(_),C):C?[C,_]:_}_removeParent(_){const{_parentage:C}=this;C===_?this._parentage=null:Array.isArray(C)&&(0,e.o)(C,_)}remove(_){const{_finalizers:C}=this;C&&(0,e.o)(C,_),_ instanceof h&&_._removeParent(this)}}h.EMPTY=(()=>{const E=new h;return E.closed=!0,E})();const m=h.EMPTY;function f(E){return E instanceof h||E&&"closed"in E&&(0,i.T)(E.remove)&&(0,i.T)(E.add)&&(0,i.T)(E.unsubscribe)}function v(E){(0,i.T)(E)?E():E.unsubscribe()}},41026:(F,D,n)=>{"use strict";n.d(D,{$:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30017:(F,D,n)=>{"use strict";n.d(D,{G:()=>m});var i=n(71985),t=n(18359),u=n(99898),e=n(54360),h=n(39974);class m extends i.c{constructor(v,E){super(),this.source=v,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,h.S)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,v?.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new t.yU;const E=this.getSubject();v.add(this.source.subscribe((0,e._)(E,void 0,()=>{this._teardown(),E.complete()},_=>{this._teardown(),E.error(_)},()=>this._teardown()))),v.closed&&(this._connection=null,v=t.yU.EMPTY)}return v}refCount(){return(0,u.B)()(this)}}},84572:(F,D,n)=>{"use strict";n.d(D,{P:()=>C,z:()=>_});var i=n(71985),t=n(93073),u=n(22806),e=n(33669),h=n(6450),m=n(9326),f=n(58496),v=n(54360),E=n(45225);function _(...R){const T=(0,m.lI)(R),A=(0,m.ms)(R),{args:p,keys:x}=(0,t.D)(R);if(0===p.length)return(0,u.H)([],T);const O=new i.c(C(p,T,x?w=>(0,f.e)(x,w):e.D));return A?O.pipe((0,h.I)(A)):O}function C(R,T,A=e.D){return p=>{I(T,()=>{const{length:x}=R,O=new Array(x);let w=x,M=x;for(let L=0;L<x;L++)I(T,()=>{const B=(0,u.H)(R[L],T);let k=!1;B.subscribe((0,v._)(p,W=>{O[L]=W,k||(k=!0,M--),M||p.next(A(O.slice()))},()=>{--w||p.complete()}))},p)},p)}}function I(R,T,A){R?(0,E.N)(A,R,T):T()}},92688:(F,D,n)=>{"use strict";n.d(D,{x:()=>e});var i=n(79131),t=n(9326),u=n(22806);function e(...h){return(0,i.K)()((0,u.H)(h,(0,t.lI)(h)))}},59030:(F,D,n)=>{"use strict";n.d(D,{v:()=>u});var i=n(71985),t=n(58750);function u(e){return new i.c(h=>{(0,t.Tg)(e()).subscribe(h)})}},983:(F,D,n)=>{"use strict";n.d(D,{w:()=>t});const t=new(n(71985).c)(h=>h.complete())},27468:(F,D,n)=>{"use strict";n.d(D,{p:()=>v});var i=n(71985),t=n(93073),u=n(58750),e=n(9326),h=n(54360),m=n(6450),f=n(58496);function v(...E){const _=(0,e.ms)(E),{args:C,keys:I}=(0,t.D)(E),R=new i.c(T=>{const{length:A}=C;if(!A)return void T.complete();const p=new Array(A);let x=A,O=A;for(let w=0;w<A;w++){let M=!1;(0,u.Tg)(C[w]).subscribe((0,h._)(T,L=>{M||(M=!0,O--),p[w]=L},()=>x--,void 0,()=>{(!x||!M)&&(O||T.next(I?(0,f.e)(I,p):p),T.complete())}))}});return _?R.pipe((0,m.I)(_)):R}},22806:(F,D,n)=>{"use strict";n.d(D,{H:()=>k});var i=n(58750),t=n(40941),u=n(39974);function e(W,U=0){return(0,u.N)((K,Y)=>{Y.add(W.schedule(()=>K.subscribe(Y),U))})}var f=n(71985),E=n(4761),_=n(98071),C=n(45225);function R(W,U){if(!W)throw new Error("Iterable cannot be null");return new f.c(K=>{(0,C.N)(K,U,()=>{const Y=W[Symbol.asyncIterator]();(0,C.N)(K,U,()=>{Y.next().then(G=>{G.done?K.complete():K.next(G.value)})},0,!0)})})}var T=n(55055),A=n(59858),p=n(47441),x=n(85397),O=n(37953),w=n(50591),M=n(15196);function k(W,U){return U?function B(W,U){if(null!=W){if((0,T.l)(W))return function h(W,U){return(0,i.Tg)(W).pipe(e(U),(0,t.Q)(U))}(W,U);if((0,p.X)(W))return function v(W,U){return new f.c(K=>{let Y=0;return U.schedule(function(){Y===W.length?K.complete():(K.next(W[Y++]),K.closed||this.schedule())})})}(W,U);if((0,A.y)(W))return function m(W,U){return(0,i.Tg)(W).pipe(e(U),(0,t.Q)(U))}(W,U);if((0,O.T)(W))return R(W,U);if((0,x.x)(W))return function I(W,U){return new f.c(K=>{let Y;return(0,C.N)(K,U,()=>{Y=W[E.l](),(0,C.N)(K,U,()=>{let G,q;try{({value:G,done:q}=Y.next())}catch(z){return void K.error(z)}q?K.complete():K.next(G)},0,!0)}),()=>(0,_.T)(Y?.return)&&Y.return()})}(W,U);if((0,M.U)(W))return function L(W,U){return R((0,M.C)(W),U)}(W,U)}throw(0,w.L)(W)}(W,U):(0,i.Tg)(W)}},33726:(F,D,n)=>{"use strict";n.d(D,{R:()=>_});var i=n(58750),t=n(71985),u=n(73028),e=n(47441),h=n(98071),m=n(6450);const f=["addListener","removeListener"],v=["addEventListener","removeEventListener"],E=["on","off"];function _(A,p,x,O){if((0,h.T)(x)&&(O=x,x=void 0),O)return _(A,p,x).pipe((0,m.I)(O));const[w,M]=function T(A){return(0,h.T)(A.addEventListener)&&(0,h.T)(A.removeEventListener)}(A)?v.map(L=>B=>A[L](p,B,x)):function I(A){return(0,h.T)(A.addListener)&&(0,h.T)(A.removeListener)}(A)?f.map(C(A,p)):function R(A){return(0,h.T)(A.on)&&(0,h.T)(A.off)}(A)?E.map(C(A,p)):[];if(!w&&(0,e.X)(A))return(0,u.Z)(L=>_(L,p,x))((0,i.Tg)(A));if(!w)throw new TypeError("Invalid event target");return new t.c(L=>{const B=(...k)=>L.next(1<k.length?k:k[0]);return w(B),()=>M(B)})}function C(A,p){return x=>O=>A[x](p,O)}},58750:(F,D,n)=>{"use strict";n.d(D,{Tg:()=>R});var i=n(31635),t=n(47441),u=n(59858),e=n(71985),h=n(55055),m=n(37953),f=n(50591),v=n(85397),E=n(15196),_=n(98071),C=n(45334),I=n(3494);function R(L){if(L instanceof e.c)return L;if(null!=L){if((0,h.l)(L))return function T(L){return new e.c(B=>{const k=L[I.s]();if((0,_.T)(k.subscribe))return k.subscribe(B);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(L);if((0,t.X)(L))return function A(L){return new e.c(B=>{for(let k=0;k<L.length&&!B.closed;k++)B.next(L[k]);B.complete()})}(L);if((0,u.y)(L))return function p(L){return new e.c(B=>{L.then(k=>{B.closed||(B.next(k),B.complete())},k=>B.error(k)).then(null,C.m)})}(L);if((0,m.T)(L))return O(L);if((0,v.x)(L))return function x(L){return new e.c(B=>{for(const k of L)if(B.next(k),B.closed)return;B.complete()})}(L);if((0,E.U)(L))return function w(L){return O((0,E.C)(L))}(L)}throw(0,f.L)(L)}function O(L){return new e.c(B=>{(function M(L,B){var k,W,U,K;return(0,i.sH)(this,void 0,void 0,function*(){try{for(k=(0,i.xN)(L);!(W=yield k.next()).done;)if(B.next(W.value),B.closed)return}catch(Y){U={error:Y}}finally{try{W&&!W.done&&(K=k.return)&&(yield K.call(k))}finally{if(U)throw U.error}}B.complete()})})(L,B).catch(k=>B.error(k))})}},40605:(F,D,n)=>{"use strict";n.d(D,{Y:()=>u});var i=n(43236),t=n(41584);function u(e=0,h=i.E){return e<0&&(e=0),(0,t.O)(e,e,h)}},57786:(F,D,n)=>{"use strict";n.d(D,{h:()=>m});var i=n(26365),t=n(58750),u=n(983),e=n(9326),h=n(22806);function m(...f){const v=(0,e.lI)(f),E=(0,e.R0)(f,1/0),_=f;return _.length?1===_.length?(0,t.Tg)(_[0]):(0,i.U)(E)((0,h.H)(_,v)):u.w}},7673:(F,D,n)=>{"use strict";n.d(D,{of:()=>u});var i=n(9326),t=n(22806);function u(...e){const h=(0,i.lI)(e);return(0,t.H)(e,h)}},1033:(F,D,n)=>{"use strict";n.d(D,{O:()=>h});var i=n(71985),t=n(58750),u=n(42326),e=n(54360);function h(...f){return 1===(f=(0,u.K)(f)).length?(0,t.Tg)(f[0]):new i.c(function m(f){return v=>{let E=[];for(let _=0;E&&!v.closed&&_<f.length;_++)E.push((0,t.Tg)(f[_]).subscribe((0,e._)(v,C=>{if(E){for(let I=0;I<E.length;I++)I!==_&&E[I].unsubscribe();E=null}v.next(C)})))}}(f))}},18810:(F,D,n)=>{"use strict";n.d(D,{$:()=>u});var i=n(71985),t=n(98071);function u(e,h){const m=(0,t.T)(e)?e:()=>e,f=v=>v.error(m());return new i.c(h?v=>h.schedule(f,0,v):f)}},41584:(F,D,n)=>{"use strict";n.d(D,{O:()=>h});var i=n(71985),t=n(43236),u=n(79470);function h(m=0,f,v=t.b){let E=-1;return null!=f&&((0,u.m)(f)?v=f:E=f),new i.c(_=>{let C=function e(m){return m instanceof Date&&!isNaN(m)}(m)?+m-v.now():m;C<0&&(C=0);let I=0;return v.schedule(function(){_.closed||(_.next(I++),0<=E?this.schedule(void 0,E):_.complete())},C)})}},44437:(F,D,n)=>{"use strict";n.d(D,{y:()=>f});var i=n(71985),t=n(58750),u=n(42326),e=n(983),h=n(54360),m=n(9326);function f(...v){const E=(0,m.ms)(v),_=(0,u.K)(v);return _.length?new i.c(C=>{let I=_.map(()=>[]),R=_.map(()=>!1);C.add(()=>{I=R=null});for(let T=0;!C.closed&&T<_.length;T++)(0,t.Tg)(_[T]).subscribe((0,h._)(C,A=>{if(I[T].push(A),I.every(p=>p.length)){const p=I.map(x=>x.shift());C.next(E?E(...p):p),I.some((x,O)=>!x.length&&R[O])&&C.complete()}},()=>{R[T]=!0,!I[T].length&&C.complete()}));return()=>{I=R=null}}):e.w}},54360:(F,D,n)=>{"use strict";n.d(D,{H:()=>u,_:()=>t});var i=n(47707);function t(e,h,m,f,v){return new u(e,h,m,f,v)}class u extends i.vU{constructor(h,m,f,v,E,_){super(h),this.onFinalize=E,this.shouldUnsubscribe=_,this._next=m?function(C){try{m(C)}catch(I){h.error(I)}}:super._next,this._error=v?function(C){try{v(C)}catch(I){h.error(I)}finally{this.unsubscribe()}}:super._error,this._complete=f?function(){try{f()}catch(C){h.error(C)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var h;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:m}=this;super.unsubscribe(),!m&&(null===(h=this.onFinalize)||void 0===h||h.call(this))}}}},99437:(F,D,n)=>{"use strict";n.d(D,{W:()=>e});var i=n(58750),t=n(54360),u=n(39974);function e(h){return(0,u.N)((m,f)=>{let _,v=null,E=!1;v=m.subscribe((0,t._)(f,void 0,void 0,C=>{_=(0,i.Tg)(h(C,e(h)(m))),v?(v.unsubscribe(),v=null,_.subscribe(f)):E=!0})),E&&(v.unsubscribe(),v=null,_.subscribe(f))})}},79131:(F,D,n)=>{"use strict";n.d(D,{K:()=>t});var i=n(26365);function t(){return(0,i.U)(1)}},70274:(F,D,n)=>{"use strict";n.d(D,{H:()=>u});var i=n(73028),t=n(98071);function u(e,h){return(0,t.T)(h)?(0,i.Z)(e,h,1):(0,i.Z)(e,1)}},70152:(F,D,n)=>{"use strict";n.d(D,{B:()=>e});var i=n(43236),t=n(39974),u=n(54360);function e(h,m=i.E){return(0,t.N)((f,v)=>{let E=null,_=null,C=null;const I=()=>{if(E){E.unsubscribe(),E=null;const T=_;_=null,v.next(T)}};function R(){const T=C+h,A=m.now();if(A<T)return E=this.schedule(void 0,T-A),void v.add(E);I()}f.subscribe((0,u._)(v,T=>{_=T,C=m.now(),E||(E=m.schedule(R,h),v.add(E))},()=>{I(),v.complete()},void 0,()=>{_=E=null}))})}},39901:(F,D,n)=>{"use strict";n.d(D,{U:()=>u});var i=n(39974),t=n(54360);function u(e){return(0,i.N)((h,m)=>{let f=!1;h.subscribe((0,t._)(m,v=>{f=!0,m.next(v)},()=>{f||m.next(e),m.complete()}))})}},35335:(F,D,n)=>{"use strict";n.d(D,{c:()=>_});var i=n(43236),t=n(92688),u=n(96697),e=n(73557),h=n(73703),m=n(73028),f=n(58750);function v(C,I){return I?R=>(0,t.x)(I.pipe((0,u.s)(1),(0,e.w)()),R.pipe(v(C))):(0,m.Z)((R,T)=>(0,f.Tg)(C(R,T)).pipe((0,u.s)(1),(0,h.u)(R)))}var E=n(41584);function _(C,I=i.E){const R=(0,E.O)(C,I);return v(()=>R)}},23294:(F,D,n)=>{"use strict";n.d(D,{F:()=>e});var i=n(33669),t=n(39974),u=n(54360);function e(m,f=i.D){return m=m??h,(0,t.N)((v,E)=>{let _,C=!0;v.subscribe((0,u._)(E,I=>{const R=f(I);(C||!m(_,R))&&(C=!1,_=R,E.next(I))}))})}function h(m,f){return m===f}},5964:(F,D,n)=>{"use strict";n.d(D,{p:()=>u});var i=n(39974),t=n(54360);function u(e,h){return(0,i.N)((m,f)=>{let v=0;m.subscribe((0,t._)(f,E=>e.call(h,E,v++)&&f.next(E)))})}},70980:(F,D,n)=>{"use strict";n.d(D,{j:()=>t});var i=n(39974);function t(u){return(0,i.N)((e,h)=>{try{e.subscribe(h)}finally{h.add(u)}})}},47677:(F,D,n)=>{"use strict";n.d(D,{I:()=>u});var i=n(39974),t=n(54360);function u(h,m){return(0,i.N)(function e(h,m,f){const v="index"===f;return(E,_)=>{let C=0;E.subscribe((0,t._)(_,I=>{const R=C++;h.call(m,I,R,E)&&(_.next(v?R:I),_.complete())},()=>{_.next(v?-1:void 0),_.complete()}))}}(h,m,"value"))}},61594:(F,D,n)=>{"use strict";n.d(D,{$:()=>f});var i=n(9350),t=n(5964),u=n(96697),e=n(39901),h=n(93774),m=n(33669);function f(v,E){const _=arguments.length>=2;return C=>C.pipe(v?(0,t.p)((I,R)=>v(I,R,C)):m.D,(0,u.s)(1),_?(0,e.U)(E):(0,h.v)(()=>new i.G))}},73557:(F,D,n)=>{"use strict";n.d(D,{w:()=>e});var i=n(39974),t=n(54360),u=n(85343);function e(){return(0,i.N)((h,m)=>{h.subscribe((0,t._)(m,u.l))})}},67018:(F,D,n)=>{"use strict";n.d(D,{H:()=>f});var i=n(9350),t=n(5964),u=n(55109),e=n(93774),h=n(39901),m=n(33669);function f(v,E){const _=arguments.length>=2;return C=>C.pipe(v?(0,t.p)((I,R)=>v(I,R,C)):m.D,(0,u.o)(1),_?(0,h.U)(E):(0,e.v)(()=>new i.G))}},96354:(F,D,n)=>{"use strict";n.d(D,{T:()=>u});var i=n(39974),t=n(54360);function u(e,h){return(0,i.N)((m,f)=>{let v=0;m.subscribe((0,t._)(f,E=>{f.next(e.call(h,E,v++))}))})}},73703:(F,D,n)=>{"use strict";n.d(D,{u:()=>t});var i=n(96354);function t(u){return(0,i.T)(()=>u)}},79335:(F,D,n)=>{"use strict";n.d(D,{h:()=>h});var i=n(39974),t=n(26365),u=n(9326),e=n(22806);function h(...m){const f=(0,u.lI)(m),v=(0,u.R0)(m,1/0);return(0,i.N)((E,_)=>{(0,t.U)(v)((0,e.H)([E,...m],f)).subscribe(_)})}},26365:(F,D,n)=>{"use strict";n.d(D,{U:()=>u});var i=n(73028),t=n(33669);function u(e=1/0){return(0,i.Z)(t.D,e)}},85412:(F,D,n)=>{"use strict";n.d(D,{h:()=>e});var i=n(58750),t=n(45225),u=n(54360);function e(h,m,f,v,E,_,C,I){const R=[];let T=0,A=0,p=!1;const x=()=>{p&&!R.length&&!T&&m.complete()},O=M=>T<v?w(M):R.push(M),w=M=>{_&&m.next(M),T++;let L=!1;(0,i.Tg)(f(M,A++)).subscribe((0,u._)(m,B=>{E?.(B),_?O(B):m.next(B)},()=>{L=!0},void 0,()=>{if(L)try{for(T--;R.length&&T<v;){const B=R.shift();C?(0,t.N)(m,C,()=>w(B)):w(B)}x()}catch(B){m.error(B)}}))};return h.subscribe((0,u._)(m,O,()=>{p=!0,x()})),()=>{I?.()}}},73028:(F,D,n)=>{"use strict";n.d(D,{Z:()=>m});var i=n(96354),t=n(58750),u=n(39974),e=n(85412),h=n(98071);function m(f,v,E=1/0){return(0,h.T)(v)?m((_,C)=>(0,i.T)((I,R)=>v(_,I,C,R))((0,t.Tg)(f(_,C))),E):("number"==typeof v&&(E=v),(0,u.N)((_,C)=>(0,e.h)(_,C,f,E)))}},40941:(F,D,n)=>{"use strict";n.d(D,{Q:()=>e});var i=n(45225),t=n(39974),u=n(54360);function e(h,m=0){return(0,t.N)((f,v)=>{f.subscribe((0,u._)(v,E=>(0,i.N)(v,h,()=>v.next(E),m),()=>(0,i.N)(v,h,()=>v.complete(),m),E=>(0,i.N)(v,h,()=>v.error(E),m)))})}},19852:(F,D,n)=>{"use strict";n.d(D,{T:()=>u});var i=n(46649),t=n(39974);function u(e,h){return(0,t.N)((0,i.S)(e,h,arguments.length>=2,!1,!0))}},99898:(F,D,n)=>{"use strict";n.d(D,{B:()=>u});var i=n(39974),t=n(54360);function u(){return(0,i.N)((e,h)=>{let m=null;e._refCount++;const f=(0,t._)(h,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(m=null);const v=e._connection,E=m;m=null,v&&(!E||v===E)&&v.unsubscribe(),h.unsubscribe()});e.subscribe(f),f.closed||(m=e.connect())})}},31943:(F,D,n)=>{"use strict";n.d(D,{S:()=>u});var i=n(39974),t=n(46649);function u(e,h){return(0,i.N)((0,t.S)(e,h,arguments.length>=2,!0))}},46649:(F,D,n)=>{"use strict";n.d(D,{S:()=>t});var i=n(54360);function t(u,e,h,m,f){return(v,E)=>{let _=h,C=e,I=0;v.subscribe((0,i._)(E,R=>{const T=I++;C=_?u(C,R,T):(_=!0,R),m&&E.next(C)},f&&(()=>{_&&E.next(C),E.complete()})))}}},97647:(F,D,n)=>{"use strict";n.d(D,{u:()=>h});var i=n(58750),t=n(21413),u=n(47707),e=n(39974);function h(f={}){const{connector:v=(()=>new t.B),resetOnError:E=!0,resetOnComplete:_=!0,resetOnRefCountZero:C=!0}=f;return I=>{let R,T,A,p=0,x=!1,O=!1;const w=()=>{T?.unsubscribe(),T=void 0},M=()=>{w(),R=A=void 0,x=O=!1},L=()=>{const B=R;M(),B?.unsubscribe()};return(0,e.N)((B,k)=>{p++,!O&&!x&&w();const W=A=A??v();k.add(()=>{p--,0===p&&!O&&!x&&(T=m(L,C))}),W.subscribe(k),!R&&p>0&&(R=new u.Ms({next:U=>W.next(U),error:U=>{O=!0,w(),T=m(M,E,U),W.error(U)},complete:()=>{x=!0,w(),T=m(M,_),W.complete()}}),(0,i.Tg)(B).subscribe(R))})(I)}}function m(f,v,...E){if(!0===v)return void f();if(!1===v)return;const _=new u.Ms({next:()=>{_.unsubscribe(),f()}});return(0,i.Tg)(v(...E)).subscribe(_)}},44668:(F,D,n)=>{"use strict";n.d(D,{t:()=>u});var i=n(92771),t=n(97647);function u(e,h,m){let f,v=!1;return e&&"object"==typeof e?({bufferSize:f=1/0,windowTime:h=1/0,refCount:v=!1,scheduler:m}=e):f=e??1/0,(0,t.u)({connector:()=>new i.m(f,h,m),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:v})}},65245:(F,D,n)=>{"use strict";n.d(D,{i:()=>t});var i=n(5964);function t(u){return(0,i.p)((e,h)=>u<=h)}},28492:(F,D,n)=>{"use strict";n.d(D,{j:()=>u});var i=n(39974),t=n(54360);function u(e){return(0,i.N)((h,m)=>{let f=!1,v=0;h.subscribe((0,t._)(m,E=>(f||(f=!e(E,v++)))&&m.next(E)))})}},99172:(F,D,n)=>{"use strict";n.d(D,{Z:()=>e});var i=n(92688),t=n(9326),u=n(39974);function e(...h){const m=(0,t.lI)(h);return(0,u.N)((f,v)=>{(m?(0,i.x)(h,f,m):(0,i.x)(h,f)).subscribe(v)})}},25558:(F,D,n)=>{"use strict";n.d(D,{n:()=>e});var i=n(58750),t=n(39974),u=n(54360);function e(h,m){return(0,t.N)((f,v)=>{let E=null,_=0,C=!1;const I=()=>C&&!E&&v.complete();f.subscribe((0,u._)(v,R=>{E?.unsubscribe();let T=0;const A=_++;(0,i.Tg)(h(R,A)).subscribe(E=(0,u._)(v,p=>v.next(m?m(R,p,A,T++):p),()=>{E=null,I()}))},()=>{C=!0,I()}))})}},96697:(F,D,n)=>{"use strict";n.d(D,{s:()=>e});var i=n(983),t=n(39974),u=n(54360);function e(h){return h<=0?()=>i.w:(0,t.N)((m,f)=>{let v=0;m.subscribe((0,u._)(f,E=>{++v<=h&&(f.next(E),h<=v&&f.complete())}))})}},55109:(F,D,n)=>{"use strict";n.d(D,{o:()=>e});var i=n(983),t=n(39974),u=n(54360);function e(h){return h<=0?()=>i.w:(0,t.N)((m,f)=>{let v=[];m.subscribe((0,u._)(f,E=>{v.push(E),h<v.length&&v.shift()},()=>{for(const E of v)f.next(E);f.complete()},void 0,()=>{v=null}))})}},56977:(F,D,n)=>{"use strict";n.d(D,{Q:()=>h});var i=n(39974),t=n(54360),u=n(58750),e=n(85343);function h(m){return(0,i.N)((f,v)=>{(0,u.Tg)(m).subscribe((0,t._)(v,()=>v.complete(),e.l)),!v.closed&&f.subscribe(v)})}},77048:(F,D,n)=>{"use strict";n.d(D,{v:()=>u});var i=n(39974),t=n(54360);function u(e,h=!1){return(0,i.N)((m,f)=>{let v=0;m.subscribe((0,t._)(f,E=>{const _=e(E,v++);(_||h)&&f.next(E),!_&&f.complete()}))})}},88141:(F,D,n)=>{"use strict";n.d(D,{M:()=>h});var i=n(98071),t=n(39974),u=n(54360),e=n(33669);function h(m,f,v){const E=(0,i.T)(m)||f||v?{next:m,error:f,complete:v}:m;return E?(0,t.N)((_,C)=>{var I;null===(I=E.subscribe)||void 0===I||I.call(E);let R=!0;_.subscribe((0,u._)(C,T=>{var A;null===(A=E.next)||void 0===A||A.call(E,T),C.next(T)},()=>{var T;R=!1,null===(T=E.complete)||void 0===T||T.call(E),C.complete()},T=>{var A;R=!1,null===(A=E.error)||void 0===A||A.call(E,T),C.error(T)},()=>{var T,A;R&&(null===(T=E.unsubscribe)||void 0===T||T.call(E)),null===(A=E.finalize)||void 0===A||A.call(E)}))}):e.D}},93774:(F,D,n)=>{"use strict";n.d(D,{v:()=>e});var i=n(9350),t=n(39974),u=n(54360);function e(m=h){return(0,t.N)((f,v)=>{let E=!1;f.subscribe((0,u._)(v,_=>{E=!0,v.next(_)},()=>E?v.complete():v.error(m())))})}function h(){return new i.G}},56594:(F,D,n)=>{"use strict";n.d(D,{$:()=>e});var i=n(19852),t=n(39974);const u=(h,m)=>(h.push(m),h);function e(){return(0,t.N)((h,m)=>{(0,i.T)(u,[])(h).subscribe(m)})}},53993:(F,D,n)=>{"use strict";n.d(D,{E:()=>f});var i=n(39974),t=n(54360),u=n(58750),e=n(33669),h=n(85343),m=n(9326);function f(...v){const E=(0,m.ms)(v);return(0,i.N)((_,C)=>{const I=v.length,R=new Array(I);let T=v.map(()=>!1),A=!1;for(let p=0;p<I;p++)(0,u.Tg)(v[p]).subscribe((0,t._)(C,x=>{R[p]=x,!A&&!T[p]&&(T[p]=!0,(A=T.every(e.D))&&(T=null))},h.l));_.subscribe((0,t._)(C,p=>{if(A){const x=[p,...R];C.next(E?E(...x):x)}}))})}},96780:(F,D,n)=>{"use strict";n.d(D,{R:()=>h});var i=n(18359);class t extends i.yU{constructor(f,v){super()}schedule(f,v=0){return this}}const u={setInterval(m,f,...v){const{delegate:E}=u;return E?.setInterval?E.setInterval(m,f,...v):setInterval(m,f,...v)},clearInterval(m){const{delegate:f}=u;return(f?.clearInterval||clearInterval)(m)},delegate:void 0};var e=n(57908);class h extends t{constructor(f,v){super(f,v),this.scheduler=f,this.work=v,this.pending=!1}schedule(f,v=0){var E;if(this.closed)return this;this.state=f;const _=this.id,C=this.scheduler;return null!=_&&(this.id=this.recycleAsyncId(C,_,v)),this.pending=!0,this.delay=v,this.id=null!==(E=this.id)&&void 0!==E?E:this.requestAsyncId(C,this.id,v),this}requestAsyncId(f,v,E=0){return u.setInterval(f.flush.bind(f,this),E)}recycleAsyncId(f,v,E=0){if(null!=E&&this.delay===E&&!1===this.pending)return v;null!=v&&u.clearInterval(v)}execute(f,v){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const E=this._execute(f,v);if(E)return E;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(f,v){let _,E=!1;try{this.work(f)}catch(C){E=!0,_=C||new Error("Scheduled action threw falsy error")}if(E)return this.unsubscribe(),_}unsubscribe(){if(!this.closed){const{id:f,scheduler:v}=this,{actions:E}=v;this.work=this.state=this.scheduler=null,this.pending=!1,(0,e.o)(E,this),null!=f&&(this.id=this.recycleAsyncId(v,f,null)),this.delay=null,super.unsubscribe()}}}},39687:(F,D,n)=>{"use strict";n.d(D,{q:()=>u});var i=n(86129);class t{constructor(h,m=t.now){this.schedulerActionCtor=h,this.now=m}schedule(h,m=0,f){return new this.schedulerActionCtor(this,h).schedule(f,m)}}t.now=i.U.now;class u extends t{constructor(h,m=t.now){super(h,m),this.actions=[],this._active=!1}flush(h){const{actions:m}=this;if(this._active)return void m.push(h);let f;this._active=!0;do{if(f=h.execute(h.state,h.delay))break}while(h=m.shift());if(this._active=!1,f){for(;h=m.shift();)h.unsubscribe();throw f}}}},25007:(F,D,n)=>{"use strict";n.d(D,{$:()=>T});var i=n(96780);let u,t=1;const e={};function h(p){return p in e&&(delete e[p],!0)}const m={setImmediate(p){const x=t++;return e[x]=!0,u||(u=Promise.resolve()),u.then(()=>h(x)&&p()),x},clearImmediate(p){h(p)}},{setImmediate:v,clearImmediate:E}=m,_={setImmediate(...p){const{delegate:x}=_;return(x?.setImmediate||v)(...p)},clearImmediate(p){const{delegate:x}=_;return(x?.clearImmediate||E)(p)},delegate:void 0};var I=n(39687);const T=new class R extends I.q{flush(x){this._active=!0;const O=this._scheduled;this._scheduled=void 0;const{actions:w}=this;let M;x=x||w.shift();do{if(M=x.execute(x.state,x.delay))break}while((x=w[0])&&x.id===O&&w.shift());if(this._active=!1,M){for(;(x=w[0])&&x.id===O&&w.shift();)x.unsubscribe();throw M}}}(class C extends i.R{constructor(x,O){super(x,O),this.scheduler=x,this.work=O}requestAsyncId(x,O,w=0){return null!==w&&w>0?super.requestAsyncId(x,O,w):(x.actions.push(this),x._scheduled||(x._scheduled=_.setImmediate(x.flush.bind(x,void 0))))}recycleAsyncId(x,O,w=0){var M;if(null!=w?w>0:this.delay>0)return super.recycleAsyncId(x,O,w);const{actions:L}=x;null!=O&&(null===(M=L[L.length-1])||void 0===M?void 0:M.id)!==O&&(_.clearImmediate(O),x._scheduled===O&&(x._scheduled=void 0))}})},43236:(F,D,n)=>{"use strict";n.d(D,{E:()=>u,b:()=>e});var i=n(96780);const u=new(n(39687).q)(i.R),e=u},86129:(F,D,n)=>{"use strict";n.d(D,{U:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},47242:(F,D,n)=>{"use strict";n.d(D,{T:()=>h});var i=n(96780),u=n(39687);const h=new class e extends u.q{}(class t extends i.R{constructor(v,E){super(v,E),this.scheduler=v,this.work=E}schedule(v,E=0){return E>0?super.schedule(v,E):(this.delay=E,this.state=v,this.scheduler.flush(this),this)}execute(v,E){return E>0||this.closed?super.execute(v,E):this._execute(v,E)}requestAsyncId(v,E,_=0){return null!=_&&_>0||null==_&&this.delay>0?super.requestAsyncId(v,E,_):(v.flush(this),0)}})},19270:(F,D,n)=>{"use strict";n.d(D,{f:()=>i});const i={setTimeout(t,u,...e){const{delegate:h}=i;return h?.setTimeout?h.setTimeout(t,u,...e):setTimeout(t,u,...e)},clearTimeout(t){const{delegate:u}=i;return(u?.clearTimeout||clearTimeout)(t)},delegate:void 0}},4761:(F,D,n)=>{"use strict";n.d(D,{l:()=>t});const t=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(F,D,n)=>{"use strict";n.d(D,{s:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(F,D,n)=>{"use strict";n.d(D,{G:()=>t});const t=(0,n(81853).L)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(F,D,n)=>{"use strict";n.d(D,{R0:()=>m,lI:()=>h,ms:()=>e});var i=n(98071),t=n(79470);function u(f){return f[f.length-1]}function e(f){return(0,i.T)(u(f))?f.pop():void 0}function h(f){return(0,t.m)(u(f))?f.pop():void 0}function m(f,v){return"number"==typeof u(f)?f.pop():v}},93073:(F,D,n)=>{"use strict";n.d(D,{D:()=>h});const{isArray:i}=Array,{getPrototypeOf:t,prototype:u,keys:e}=Object;function h(f){if(1===f.length){const v=f[0];if(i(v))return{args:v,keys:null};if(function m(f){return f&&"object"==typeof f&&t(f)===u}(v)){const E=e(v);return{args:E.map(_=>v[_]),keys:E}}}return{args:f,keys:null}}},42326:(F,D,n)=>{"use strict";n.d(D,{K:()=>t});const{isArray:i}=Array;function t(u){return 1===u.length&&i(u[0])?u[0]:u}},57908:(F,D,n)=>{"use strict";function i(t,u){if(t){const e=t.indexOf(u);0<=e&&t.splice(e,1)}}n.d(D,{o:()=>i})},81853:(F,D,n)=>{"use strict";function i(t){const e=t(h=>{Error.call(h),h.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}n.d(D,{L:()=>i})},58496:(F,D,n)=>{"use strict";function i(t,u){return t.reduce((e,h,m)=>(e[h]=u[m],e),{})}n.d(D,{e:()=>i})},49786:(F,D,n)=>{"use strict";n.d(D,{Y:()=>u,l:()=>e});var i=n(41026);let t=null;function u(h){if(i.$.useDeprecatedSynchronousErrorHandling){const m=!t;if(m&&(t={errorThrown:!1,error:null}),h(),m){const{errorThrown:f,error:v}=t;if(t=null,f)throw v}}else h()}function e(h){i.$.useDeprecatedSynchronousErrorHandling&&t&&(t.errorThrown=!0,t.error=h)}},45225:(F,D,n)=>{"use strict";function i(t,u,e,h=0,m=!1){const f=u.schedule(function(){e(),m?t.add(this.schedule(null,h)):this.unsubscribe()},h);if(t.add(f),!m)return f}n.d(D,{N:()=>i})},33669:(F,D,n)=>{"use strict";function i(t){return t}n.d(D,{D:()=>i})},47441:(F,D,n)=>{"use strict";n.d(D,{X:()=>i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},37953:(F,D,n)=>{"use strict";n.d(D,{T:()=>t});var i=n(98071);function t(u){return Symbol.asyncIterator&&(0,i.T)(u?.[Symbol.asyncIterator])}},98071:(F,D,n)=>{"use strict";function i(t){return"function"==typeof t}n.d(D,{T:()=>i})},55055:(F,D,n)=>{"use strict";n.d(D,{l:()=>u});var i=n(3494),t=n(98071);function u(e){return(0,t.T)(e[i.s])}},85397:(F,D,n)=>{"use strict";n.d(D,{x:()=>u});var i=n(4761),t=n(98071);function u(e){return(0,t.T)(e?.[i.l])}},74402:(F,D,n)=>{"use strict";n.d(D,{A:()=>u});var i=n(71985),t=n(98071);function u(e){return!!e&&(e instanceof i.c||(0,t.T)(e.lift)&&(0,t.T)(e.subscribe))}},59858:(F,D,n)=>{"use strict";n.d(D,{y:()=>t});var i=n(98071);function t(u){return(0,i.T)(u?.then)}},15196:(F,D,n)=>{"use strict";n.d(D,{C:()=>u,U:()=>e});var i=n(31635),t=n(98071);function u(h){return(0,i.AQ)(this,arguments,function*(){const f=h.getReader();try{for(;;){const{value:v,done:E}=yield(0,i.N3)(f.read());if(E)return yield(0,i.N3)(void 0);yield yield(0,i.N3)(v)}}finally{f.releaseLock()}})}function e(h){return(0,t.T)(h?.getReader)}},79470:(F,D,n)=>{"use strict";n.d(D,{m:()=>t});var i=n(98071);function t(u){return u&&(0,i.T)(u.schedule)}},39974:(F,D,n)=>{"use strict";n.d(D,{N:()=>u,S:()=>t});var i=n(98071);function t(e){return(0,i.T)(e?.lift)}function u(e){return h=>{if(t(h))return h.lift(function(m){try{return e(m,this)}catch(f){this.error(f)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(F,D,n)=>{"use strict";n.d(D,{I:()=>e});var i=n(96354);const{isArray:t}=Array;function e(h){return(0,i.T)(m=>function u(h,m){return t(m)?h(...m):h(m)}(h,m))}},85343:(F,D,n)=>{"use strict";function i(){}n.d(D,{l:()=>i})},71203:(F,D,n)=>{"use strict";n.d(D,{F:()=>t,m:()=>u});var i=n(33669);function t(...e){return u(e)}function u(e){return 0===e.length?i.D:1===e.length?e[0]:function(m){return e.reduce((f,v)=>v(f),m)}}},45334:(F,D,n)=>{"use strict";n.d(D,{m:()=>u});var i=n(41026),t=n(19270);function u(e){t.f.setTimeout(()=>{const{onUnhandledError:h}=i.$;if(!h)throw e;h(e)})}},50591:(F,D,n)=>{"use strict";function i(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}n.d(D,{L:()=>i})},36883:(F,D,n)=>{"use strict";n.d(D,{A:()=>I});var i,t=new Uint8Array(16);function u(){if(!i&&!(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(t)}const e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var f=[],v=0;v<256;++v)f.push((v+256).toString(16).substr(1));const _=function E(R){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=(f[R[T+0]]+f[R[T+1]]+f[R[T+2]]+f[R[T+3]]+"-"+f[R[T+4]]+f[R[T+5]]+"-"+f[R[T+6]]+f[R[T+7]]+"-"+f[R[T+8]]+f[R[T+9]]+"-"+f[R[T+10]]+f[R[T+11]]+f[R[T+12]]+f[R[T+13]]+f[R[T+14]]+f[R[T+15]]).toLowerCase();if(!function h(R){return"string"==typeof R&&e.test(R)}(A))throw TypeError("Stringified UUID is invalid");return A},I=function C(R,T,A){var p=(R=R||{}).random||(R.rng||u)();if(p[6]=15&p[6]|64,p[8]=63&p[8]|128,T){A=A||0;for(var x=0;x<16;++x)T[A+x]=p[x];return T}return _(p)}},96935:()=>{"use strict";const F=globalThis;function D(It){return(F.__Zone_symbol_prefix||"__zone_symbol__")+It}const t=Object.getOwnPropertyDescriptor,u=Object.defineProperty,e=Object.getPrototypeOf,h=Object.create,m=Array.prototype.slice,f="addEventListener",v="removeEventListener",E=D(f),_=D(v),C="true",I="false",R=D("");function T(It,zt){return Zone.current.wrap(It,zt)}function A(It,zt,Yt,wt,bt){return Zone.current.scheduleMacroTask(It,zt,Yt,wt,bt)}const p=D,x=typeof window<"u",O=x?window:void 0,w=x&&O||globalThis,M="removeAttribute";function L(It,zt){for(let Yt=It.length-1;Yt>=0;Yt--)"function"==typeof It[Yt]&&(It[Yt]=T(It[Yt],zt+"_"+Yt));return It}function k(It){return!It||!1!==It.writable&&!("function"==typeof It.get&&typeof It.set>"u")}const W=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,U=!("nw"in w)&&typeof w.process<"u"&&"[object process]"===w.process.toString(),K=!U&&!W&&!(!x||!O.HTMLElement),Y=typeof w.process<"u"&&"[object process]"===w.process.toString()&&!W&&!(!x||!O.HTMLElement),G={},q=p("enable_beforeunload"),z=function(It){if(!(It=It||w.event))return;let zt=G[It.type];zt||(zt=G[It.type]=p("ON_PROPERTY"+It.type));const Yt=this||It.target||w,wt=Yt[zt];let bt;return K&&Yt===O&&"error"===It.type?(bt=wt&&wt.call(this,It.message,It.filename,It.lineno,It.colno,It.error),!0===bt&&It.preventDefault()):(bt=wt&&wt.apply(this,arguments),"beforeunload"===It.type&&w[q]&&"string"==typeof bt?It.returnValue=bt:null!=bt&&!bt&&It.preventDefault()),bt};function te(It,zt,Yt){let wt=t(It,zt);if(!wt&&Yt&&t(Yt,zt)&&(wt={enumerable:!0,configurable:!0}),!wt||!wt.configurable)return;const bt=p("on"+zt+"patched");if(It.hasOwnProperty(bt)&&It[bt])return;delete wt.writable,delete wt.value;const Jt=wt.get,Dt=wt.set,Ft=zt.slice(2);let ot=G[Ft];ot||(ot=G[Ft]=p("ON_PROPERTY"+Ft)),wt.set=function(xe){let Ve=this;!Ve&&It===w&&(Ve=w),Ve&&("function"==typeof Ve[ot]&&Ve.removeEventListener(Ft,z),Dt&&Dt.call(Ve,null),Ve[ot]=xe,"function"==typeof xe&&Ve.addEventListener(Ft,z,!1))},wt.get=function(){let xe=this;if(!xe&&It===w&&(xe=w),!xe)return null;const Ve=xe[ot];if(Ve)return Ve;if(Jt){let Ke=Jt.call(this);if(Ke)return wt.set.call(this,Ke),"function"==typeof xe[M]&&xe.removeAttribute(zt),Ke}return null},u(It,zt,wt),It[bt]=!0}function Z(It,zt,Yt){if(zt)for(let wt=0;wt<zt.length;wt++)te(It,"on"+zt[wt],Yt);else{const wt=[];for(const bt in It)"on"==bt.slice(0,2)&&wt.push(bt);for(let bt=0;bt<wt.length;bt++)te(It,wt[bt],Yt)}}const J=p("originalInstance");function Q(It){const zt=w[It];if(!zt)return;w[p(It)]=zt,w[It]=function(){const bt=L(arguments,It);switch(bt.length){case 0:this[J]=new zt;break;case 1:this[J]=new zt(bt[0]);break;case 2:this[J]=new zt(bt[0],bt[1]);break;case 3:this[J]=new zt(bt[0],bt[1],bt[2]);break;case 4:this[J]=new zt(bt[0],bt[1],bt[2],bt[3]);break;default:throw new Error("Arg list too long.")}},ne(w[It],zt);const Yt=new zt(function(){});let wt;for(wt in Yt)"XMLHttpRequest"===It&&"responseBlob"===wt||function(bt){"function"==typeof Yt[bt]?w[It].prototype[bt]=function(){return this[J][bt].apply(this[J],arguments)}:u(w[It].prototype,bt,{set:function(Jt){"function"==typeof Jt?(this[J][bt]=T(Jt,It+"."+bt),ne(this[J][bt],Jt)):this[J][bt]=Jt},get:function(){return this[J][bt]}})}(wt);for(wt in zt)"prototype"!==wt&&zt.hasOwnProperty(wt)&&(w[It][wt]=zt[wt])}function ee(It,zt,Yt){let wt=It;for(;wt&&!wt.hasOwnProperty(zt);)wt=e(wt);!wt&&It[zt]&&(wt=It);const bt=p(zt);let Jt=null;if(wt&&(!(Jt=wt[bt])||!wt.hasOwnProperty(bt))&&(Jt=wt[bt]=wt[zt],k(wt&&t(wt,zt)))){const Ft=Yt(Jt,bt,zt);wt[zt]=function(){return Ft(this,arguments)},ne(wt[zt],Jt)}return Jt}function le(It,zt,Yt){let wt=null;function bt(Jt){const Dt=Jt.data;return Dt.args[Dt.cbIdx]=function(){Jt.invoke.apply(this,arguments)},wt.apply(Dt.target,Dt.args),Jt}wt=ee(It,zt,Jt=>function(Dt,Ft){const ot=Yt(Dt,Ft);return ot.cbIdx>=0&&"function"==typeof Ft[ot.cbIdx]?A(ot.name,Ft[ot.cbIdx],ot,bt):Jt.apply(Dt,Ft)})}function ne(It,zt){It[p("OriginalDelegate")]=zt}let fe=!1,se=!1;function De(){if(fe)return se;fe=!0;try{const It=O.navigator.userAgent;(-1!==It.indexOf("MSIE ")||-1!==It.indexOf("Trident/")||-1!==It.indexOf("Edge/"))&&(se=!0)}catch{}return se}function be(It){return"function"==typeof It}function me(It){return"number"==typeof It}let re=!1;if(typeof window<"u")try{const It=Object.defineProperty({},"passive",{get:function(){re=!0}});window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{re=!1}const Ee={useG:!0},Te={},tt={},ht=new RegExp("^"+R+"(\\w+)(true|false)$"),Fe=p("propagationStopped");function Et(It,zt){const Yt=(zt?zt(It):It)+I,wt=(zt?zt(It):It)+C,bt=R+Yt,Jt=R+wt;Te[It]={},Te[It][I]=bt,Te[It][C]=Jt}function Ye(It,zt,Yt,wt){const bt=wt&&wt.add||f,Jt=wt&&wt.rm||v,Dt=wt&&wt.listeners||"eventListeners",Ft=wt&&wt.rmAll||"removeAllListeners",ot=p(bt),xe="."+bt+":",Ve="prependListener",Ke="."+Ve+":",Be=function(dt,St,ln){if(dt.isRemoved)return;const Tn=dt.callback;let Bn;"object"==typeof Tn&&Tn.handleEvent&&(dt.callback=wn=>Tn.handleEvent(wn),dt.originalDelegate=Tn);try{dt.invoke(dt,St,[ln])}catch(wn){Bn=wn}const Zn=dt.options;return Zn&&"object"==typeof Zn&&Zn.once&&St[Jt].call(St,ln.type,dt.originalDelegate?dt.originalDelegate:dt.callback,Zn),Bn};function At(dt,St,ln){if(!(St=St||It.event))return;const Tn=dt||St.target||It,Bn=Tn[Te[St.type][ln?C:I]];if(Bn){const Zn=[];if(1===Bn.length){const wn=Be(Bn[0],Tn,St);wn&&Zn.push(wn)}else{const wn=Bn.slice();for(let ct=0;ct<wn.length&&(!St||!0!==St[Fe]);ct++){const vt=Be(wn[ct],Tn,St);vt&&Zn.push(vt)}}if(1===Zn.length)throw Zn[0];for(let wn=0;wn<Zn.length;wn++){const ct=Zn[wn];zt.nativeScheduleMicroTask(()=>{throw ct})}}}const Qe=function(dt){return At(this,dt,!1)},st=function(dt){return At(this,dt,!0)};function ke(dt,St){if(!dt)return!1;let ln=!0;St&&void 0!==St.useG&&(ln=St.useG);const Tn=St&&St.vh;let Bn=!0;St&&void 0!==St.chkDup&&(Bn=St.chkDup);let Zn=!1;St&&void 0!==St.rt&&(Zn=St.rt);let wn=dt;for(;wn&&!wn.hasOwnProperty(bt);)wn=e(wn);if(!wn&&dt[bt]&&(wn=dt),!wn||wn[ot])return!1;const ct=St&&St.eventNameToString,vt={},pn=wn[ot]=wn[bt],Nn=wn[p(Jt)]=wn[Jt],Jn=wn[p(Dt)]=wn[Dt],Gs=wn[p(Ft)]=wn[Ft];let cs;St&&St.prepend&&(cs=wn[p(St.prepend)]=wn[St.prepend]);const li=ln?function(Wt){if(!vt.isExisting)return pn.call(vt.target,vt.eventName,vt.capture?st:Qe,vt.options)}:function(Wt){return pn.call(vt.target,vt.eventName,Wt.invoke,vt.options)},_t=ln?function(Wt){if(!Wt.isRemoved){const fn=Te[Wt.eventName];let An;fn&&(An=fn[Wt.capture?C:I]);const Yn=An&&Wt.target[An];if(Yn)for(let $n=0;$n<Yn.length;$n++)if(Yn[$n]===Wt){Yn.splice($n,1),Wt.isRemoved=!0,Wt.removeAbortListener&&(Wt.removeAbortListener(),Wt.removeAbortListener=null),0===Yn.length&&(Wt.allRemoved=!0,Wt.target[An]=null);break}}if(Wt.allRemoved)return Nn.call(Wt.target,Wt.eventName,Wt.capture?st:Qe,Wt.options)}:function(Wt){return Nn.call(Wt.target,Wt.eventName,Wt.invoke,Wt.options)},We=St&&St.diff?St.diff:function(Wt,fn){const An=typeof fn;return"function"===An&&Wt.callback===fn||"object"===An&&Wt.originalDelegate===fn},sn=Zone[p("UNPATCHED_EVENTS")],lt=It[p("PASSIVE_EVENTS")],Ct=function(Wt,fn,An,Yn,$n=!1,_s=!1){return function(){const Ps=this||It;let Ms=arguments[0];St&&St.transferEventName&&(Ms=St.transferEventName(Ms));let hs=arguments[1];if(!hs)return Wt.apply(this,arguments);if(U&&"uncaughtException"===Ms)return Wt.apply(this,arguments);let bs=!1;if("function"!=typeof hs){if(!hs.handleEvent)return Wt.apply(this,arguments);bs=!0}if(Tn&&!Tn(Wt,hs,Ps,arguments))return;const Oi=re&&!!lt&&-1!==lt.indexOf(Ms),Hi=function gt(Wt){if("object"==typeof Wt&&null!==Wt){const fn={...Wt};return Wt.signal&&(fn.signal=Wt.signal),fn}return Wt}(function Cs(Wt,fn){return!re&&"object"==typeof Wt&&Wt?!!Wt.capture:re&&fn?"boolean"==typeof Wt?{capture:Wt,passive:!0}:Wt?"object"==typeof Wt&&!1!==Wt.passive?{...Wt,passive:!0}:Wt:{passive:!0}:Wt}(arguments[2],Oi)),Li=Hi?.signal;if(Li?.aborted)return;if(sn)for(let Fn=0;Fn<sn.length;Fn++)if(Ms===sn[Fn])return Oi?Wt.call(Ps,Ms,hs,Hi):Wt.apply(this,arguments);const $i=!!Hi&&("boolean"==typeof Hi||Hi.capture),Bo=!(!Hi||"object"!=typeof Hi)&&Hi.once,to=Zone.current;let Rs=Te[Ms];Rs||(Et(Ms,ct),Rs=Te[Ms]);const Qs=Rs[$i?C:I];let Uo,Yi=Ps[Qs],_r=!1;if(Yi){if(_r=!0,Bn)for(let Fn=0;Fn<Yi.length;Fn++)if(We(Yi[Fn],hs))return}else Yi=Ps[Qs]=[];const $t=Ps.constructor.name,Dn=tt[$t];Dn&&(Uo=Dn[Ms]),Uo||(Uo=$t+fn+(ct?ct(Ms):Ms)),vt.options=Hi,Bo&&(vt.options.once=!1),vt.target=Ps,vt.capture=$i,vt.eventName=Ms,vt.isExisting=_r;const on=ln?Ee:void 0;on&&(on.taskData=vt),Li&&(vt.options.signal=void 0);const Qt=to.scheduleEventTask(Uo,hs,on,An,Yn);if(Li){vt.options.signal=Li;const Fn=()=>Qt.zone.cancelTask(Qt);Wt.call(Li,"abort",Fn,{once:!0}),Qt.removeAbortListener=()=>Li.removeEventListener("abort",Fn)}return vt.target=null,on&&(on.taskData=null),Bo&&(vt.options.once=!0),!re&&"boolean"==typeof Qt.options||(Qt.options=Hi),Qt.target=Ps,Qt.capture=$i,Qt.eventName=Ms,bs&&(Qt.originalDelegate=hs),_s?Yi.unshift(Qt):Yi.push(Qt),$n?Ps:void 0}};return wn[bt]=Ct(pn,xe,li,_t,Zn),cs&&(wn[Ve]=Ct(cs,Ke,function(Wt){return cs.call(vt.target,vt.eventName,Wt.invoke,vt.options)},_t,Zn,!0)),wn[Jt]=function(){const Wt=this||It;let fn=arguments[0];St&&St.transferEventName&&(fn=St.transferEventName(fn));const An=arguments[2],Yn=!!An&&("boolean"==typeof An||An.capture),$n=arguments[1];if(!$n)return Nn.apply(this,arguments);if(Tn&&!Tn(Nn,$n,Wt,arguments))return;const _s=Te[fn];let Ps;_s&&(Ps=_s[Yn?C:I]);const Ms=Ps&&Wt[Ps];if(Ms)for(let hs=0;hs<Ms.length;hs++){const bs=Ms[hs];if(We(bs,$n))return Ms.splice(hs,1),bs.isRemoved=!0,0!==Ms.length||(bs.allRemoved=!0,Wt[Ps]=null,Yn||"string"!=typeof fn)||(Wt[R+"ON_PROPERTY"+fn]=null),bs.zone.cancelTask(bs),Zn?Wt:void 0}return Nn.apply(this,arguments)},wn[Dt]=function(){const Wt=this||It;let fn=arguments[0];St&&St.transferEventName&&(fn=St.transferEventName(fn));const An=[],Yn=pt(Wt,ct?ct(fn):fn);for(let $n=0;$n<Yn.length;$n++){const _s=Yn[$n];An.push(_s.originalDelegate?_s.originalDelegate:_s.callback)}return An},wn[Ft]=function(){const Wt=this||It;let fn=arguments[0];if(fn){St&&St.transferEventName&&(fn=St.transferEventName(fn));const An=Te[fn];if(An){const _s=Wt[An[I]],Ps=Wt[An[C]];if(_s){const Ms=_s.slice();for(let hs=0;hs<Ms.length;hs++){const bs=Ms[hs];this[Jt].call(this,fn,bs.originalDelegate?bs.originalDelegate:bs.callback,bs.options)}}if(Ps){const Ms=Ps.slice();for(let hs=0;hs<Ms.length;hs++){const bs=Ms[hs];this[Jt].call(this,fn,bs.originalDelegate?bs.originalDelegate:bs.callback,bs.options)}}}}else{const An=Object.keys(Wt);for(let Yn=0;Yn<An.length;Yn++){const _s=ht.exec(An[Yn]);let Ps=_s&&_s[1];Ps&&"removeListener"!==Ps&&this[Ft].call(this,Ps)}this[Ft].call(this,"removeListener")}if(Zn)return this},ne(wn[bt],pn),ne(wn[Jt],Nn),Gs&&ne(wn[Ft],Gs),Jn&&ne(wn[Dt],Jn),!0}let Le=[];for(let dt=0;dt<Yt.length;dt++)Le[dt]=ke(Yt[dt],wt);return Le}function pt(It,zt){if(!zt){const Jt=[];for(let Dt in It){const Ft=ht.exec(Dt);let ot=Ft&&Ft[1];if(ot&&(!zt||ot===zt)){const xe=It[Dt];if(xe)for(let Ve=0;Ve<xe.length;Ve++)Jt.push(xe[Ve])}}return Jt}let Yt=Te[zt];Yt||(Et(zt),Yt=Te[zt]);const wt=It[Yt[I]],bt=It[Yt[C]];return wt?bt?wt.concat(bt):wt.slice():bt?bt.slice():[]}function Mt(It,zt){const Yt=It.Event;Yt&&Yt.prototype&&zt.patchMethod(Yt.prototype,"stopImmediatePropagation",wt=>function(bt,Jt){bt[Fe]=!0,wt&&wt.apply(bt,Jt)})}const rt=p("zoneTask");function Gt(It,zt,Yt,wt){let bt=null,Jt=null;Yt+=wt;const Dt={};function Ft(xe){const Ve=xe.data;Ve.args[0]=function(){return xe.invoke.apply(this,arguments)};const Ke=bt.apply(It,Ve.args);return me(Ke)?Ve.handleId=Ke:(Ve.handle=Ke,Ve.isRefreshable=be(Ke.refresh)),xe}function ot(xe){const{handle:Ve,handleId:Ke}=xe.data;return Jt.call(It,Ve??Ke)}bt=ee(It,zt+=wt,xe=>function(Ve,Ke){if(be(Ke[0])){const Be={isRefreshable:!1,isPeriodic:"Interval"===wt,delay:"Timeout"===wt||"Interval"===wt?Ke[1]||0:void 0,args:Ke},At=Ke[0];Ke[0]=function(){try{return At.apply(this,arguments)}finally{const{handle:ln,handleId:Tn,isPeriodic:Bn,isRefreshable:Zn}=Be;!Bn&&!Zn&&(Tn?delete Dt[Tn]:ln&&(ln[rt]=null))}};const Qe=A(zt,Ke[0],Be,Ft,ot);if(!Qe)return Qe;const{handleId:st,handle:ke,isRefreshable:Le,isPeriodic:dt}=Qe.data;if(st)Dt[st]=Qe;else if(ke&&(ke[rt]=Qe,Le&&!dt)){const St=ke.refresh;ke.refresh=function(){const{zone:ln,state:Tn}=Qe;return"notScheduled"===Tn?(Qe._state="scheduled",ln._updateTaskCount(Qe,1)):"running"===Tn&&(Qe._state="scheduling"),St.call(this)}}return ke??st??Qe}return xe.apply(It,Ke)}),Jt=ee(It,Yt,xe=>function(Ve,Ke){const Be=Ke[0];let At;me(Be)?(At=Dt[Be],delete Dt[Be]):(At=Be?.[rt],At?Be[rt]=null:At=Be),At?.type?At.cancelFn&&At.zone.cancelTask(At):xe.apply(It,Ke)})}function Ce(It,zt,Yt){if(!Yt||0===Yt.length)return zt;const wt=Yt.filter(Jt=>Jt.target===It);if(!wt||0===wt.length)return zt;const bt=wt[0].ignoreProperties;return zt.filter(Jt=>-1===bt.indexOf(Jt))}function je(It,zt,Yt,wt){It&&Z(It,Ce(It,zt,Yt),wt)}function ut(It){return Object.getOwnPropertyNames(It).filter(zt=>zt.startsWith("on")&&zt.length>2).map(zt=>zt.substring(2))}function Kt(It,zt,Yt,wt,bt){const Jt=Zone.__symbol__(wt);if(zt[Jt])return;const Dt=zt[Jt]=zt[wt];zt[wt]=function(Ft,ot,xe){return ot&&ot.prototype&&bt.forEach(function(Ve){const Ke=`${Yt}.${wt}::`+Ve,Be=ot.prototype;try{if(Be.hasOwnProperty(Ve)){const At=It.ObjectGetOwnPropertyDescriptor(Be,Ve);At&&At.value?(At.value=It.wrapWithCurrentZone(At.value,Ke),It._redefineProperty(ot.prototype,Ve,At)):Be[Ve]&&(Be[Ve]=It.wrapWithCurrentZone(Be[Ve],Ke))}else Be[Ve]&&(Be[Ve]=It.wrapWithCurrentZone(Be[Ve],Ke))}catch{}}),Dt.call(zt,Ft,ot,xe)},It.attachOriginToPatched(zt[wt],Dt)}const gn=function i(){const It=globalThis,zt=!0===It[D("forceDuplicateZoneCheck")];if(It.Zone&&(zt||"function"!=typeof It.Zone.__symbol__))throw new Error("Zone already loaded.");return It.Zone??=function n(){const It=F.performance;function zt(Cs){It&&It.mark&&It.mark(Cs)}function Yt(Cs,ds){It&&It.measure&&It.measure(Cs,ds)}zt("Zone");let wt=(()=>{class Cs{static{this.__symbol__=D}static assertZonePatched(){if(F.Promise!==vt.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let dn=Cs.current;for(;dn.parent;)dn=dn.parent;return dn}static get current(){return Nn.zone}static get currentTask(){return Jn}static __load_patch(dn,En,ss=!1){if(vt.hasOwnProperty(dn)){const Ls=!0===F[D("forceDuplicateZoneCheck")];if(!ss&&Ls)throw Error("Already loaded patch: "+dn)}else if(!F["__Zone_disable_"+dn]){const Ls="Zone:"+dn;zt(Ls),vt[dn]=En(F,Cs,pn),Yt(Ls,Ls)}}get parent(){return this._parent}get name(){return this._name}constructor(dn,En){this._parent=dn,this._name=En?En.name||"unnamed":"<root>",this._properties=En&&En.properties||{},this._zoneDelegate=new Jt(this,this._parent&&this._parent._zoneDelegate,En)}get(dn){const En=this.getZoneWith(dn);if(En)return En._properties[dn]}getZoneWith(dn){let En=this;for(;En;){if(En._properties.hasOwnProperty(dn))return En;En=En._parent}return null}fork(dn){if(!dn)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,dn)}wrap(dn,En){if("function"!=typeof dn)throw new Error("Expecting function got: "+dn);const ss=this._zoneDelegate.intercept(this,dn,En),Ls=this;return function(){return Ls.runGuarded(ss,this,arguments,En)}}run(dn,En,ss,Ls){Nn={parent:Nn,zone:this};try{return this._zoneDelegate.invoke(this,dn,En,ss,Ls)}finally{Nn=Nn.parent}}runGuarded(dn,En=null,ss,Ls){Nn={parent:Nn,zone:this};try{try{return this._zoneDelegate.invoke(this,dn,En,ss,Ls)}catch(li){if(this._zoneDelegate.handleError(this,li))throw li}}finally{Nn=Nn.parent}}runTask(dn,En,ss){if(dn.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(dn.zone||ke).name+"; Execution: "+this.name+")");const Ls=dn,{type:li,data:{isPeriodic:_t=!1,isRefreshable:Ht=!1}={}}=dn;if(dn.state===Le&&(li===ct||li===wn))return;const We=dn.state!=ln;We&&Ls._transitionTo(ln,St);const sn=Jn;Jn=Ls,Nn={parent:Nn,zone:this};try{li==wn&&dn.data&&!_t&&!Ht&&(dn.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,Ls,En,ss)}catch(lt){if(this._zoneDelegate.handleError(this,lt))throw lt}}finally{const lt=dn.state;if(lt!==Le&&lt!==Bn)if(li==ct||_t||Ht&&lt===dt)We&&Ls._transitionTo(St,ln,dt);else{const gt=Ls._zoneDelegates;this._updateTaskCount(Ls,-1),We&&Ls._transitionTo(Le,ln,Le),Ht&&(Ls._zoneDelegates=gt)}Nn=Nn.parent,Jn=sn}}scheduleTask(dn){if(dn.zone&&dn.zone!==this){let ss=this;for(;ss;){if(ss===dn.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${dn.zone.name}`);ss=ss.parent}}dn._transitionTo(dt,Le);const En=[];dn._zoneDelegates=En,dn._zone=this;try{dn=this._zoneDelegate.scheduleTask(this,dn)}catch(ss){throw dn._transitionTo(Bn,dt,Le),this._zoneDelegate.handleError(this,ss),ss}return dn._zoneDelegates===En&&this._updateTaskCount(dn,1),dn.state==dt&&dn._transitionTo(St,dt),dn}scheduleMicroTask(dn,En,ss,Ls){return this.scheduleTask(new Dt(Zn,dn,En,ss,Ls,void 0))}scheduleMacroTask(dn,En,ss,Ls,li){return this.scheduleTask(new Dt(wn,dn,En,ss,Ls,li))}scheduleEventTask(dn,En,ss,Ls,li){return this.scheduleTask(new Dt(ct,dn,En,ss,Ls,li))}cancelTask(dn){if(dn.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(dn.zone||ke).name+"; Execution: "+this.name+")");if(dn.state===St||dn.state===ln){dn._transitionTo(Tn,St,ln);try{this._zoneDelegate.cancelTask(this,dn)}catch(En){throw dn._transitionTo(Bn,Tn),this._zoneDelegate.handleError(this,En),En}return this._updateTaskCount(dn,-1),dn._transitionTo(Le,Tn),dn.runCount=-1,dn}}_updateTaskCount(dn,En){const ss=dn._zoneDelegates;-1==En&&(dn._zoneDelegates=null);for(let Ls=0;Ls<ss.length;Ls++)ss[Ls]._updateTaskCount(dn.type,En)}}return Cs})();const bt={name:"",onHasTask:(Cs,ds,dn,En)=>Cs.hasTask(dn,En),onScheduleTask:(Cs,ds,dn,En)=>Cs.scheduleTask(dn,En),onInvokeTask:(Cs,ds,dn,En,ss,Ls)=>Cs.invokeTask(dn,En,ss,Ls),onCancelTask:(Cs,ds,dn,En)=>Cs.cancelTask(dn,En)};class Jt{get zone(){return this._zone}constructor(ds,dn,En){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=ds,this._parentDelegate=dn,this._forkZS=En&&(En&&En.onFork?En:dn._forkZS),this._forkDlgt=En&&(En.onFork?dn:dn._forkDlgt),this._forkCurrZone=En&&(En.onFork?this._zone:dn._forkCurrZone),this._interceptZS=En&&(En.onIntercept?En:dn._interceptZS),this._interceptDlgt=En&&(En.onIntercept?dn:dn._interceptDlgt),this._interceptCurrZone=En&&(En.onIntercept?this._zone:dn._interceptCurrZone),this._invokeZS=En&&(En.onInvoke?En:dn._invokeZS),this._invokeDlgt=En&&(En.onInvoke?dn:dn._invokeDlgt),this._invokeCurrZone=En&&(En.onInvoke?this._zone:dn._invokeCurrZone),this._handleErrorZS=En&&(En.onHandleError?En:dn._handleErrorZS),this._handleErrorDlgt=En&&(En.onHandleError?dn:dn._handleErrorDlgt),this._handleErrorCurrZone=En&&(En.onHandleError?this._zone:dn._handleErrorCurrZone),this._scheduleTaskZS=En&&(En.onScheduleTask?En:dn._scheduleTaskZS),this._scheduleTaskDlgt=En&&(En.onScheduleTask?dn:dn._scheduleTaskDlgt),this._scheduleTaskCurrZone=En&&(En.onScheduleTask?this._zone:dn._scheduleTaskCurrZone),this._invokeTaskZS=En&&(En.onInvokeTask?En:dn._invokeTaskZS),this._invokeTaskDlgt=En&&(En.onInvokeTask?dn:dn._invokeTaskDlgt),this._invokeTaskCurrZone=En&&(En.onInvokeTask?this._zone:dn._invokeTaskCurrZone),this._cancelTaskZS=En&&(En.onCancelTask?En:dn._cancelTaskZS),this._cancelTaskDlgt=En&&(En.onCancelTask?dn:dn._cancelTaskDlgt),this._cancelTaskCurrZone=En&&(En.onCancelTask?this._zone:dn._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const ss=En&&En.onHasTask;(ss||dn&&dn._hasTaskZS)&&(this._hasTaskZS=ss?En:bt,this._hasTaskDlgt=dn,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,En.onScheduleTask||(this._scheduleTaskZS=bt,this._scheduleTaskDlgt=dn,this._scheduleTaskCurrZone=this._zone),En.onInvokeTask||(this._invokeTaskZS=bt,this._invokeTaskDlgt=dn,this._invokeTaskCurrZone=this._zone),En.onCancelTask||(this._cancelTaskZS=bt,this._cancelTaskDlgt=dn,this._cancelTaskCurrZone=this._zone))}fork(ds,dn){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,ds,dn):new wt(ds,dn)}intercept(ds,dn,En){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,ds,dn,En):dn}invoke(ds,dn,En,ss,Ls){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,ds,dn,En,ss,Ls):dn.apply(En,ss)}handleError(ds,dn){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,ds,dn)}scheduleTask(ds,dn){let En=dn;if(this._scheduleTaskZS)this._hasTaskZS&&En._zoneDelegates.push(this._hasTaskDlgtOwner),En=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,ds,dn),En||(En=dn);else if(dn.scheduleFn)dn.scheduleFn(dn);else{if(dn.type!=Zn)throw new Error("Task is missing scheduleFn.");Qe(dn)}return En}invokeTask(ds,dn,En,ss){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,ds,dn,En,ss):dn.callback.apply(En,ss)}cancelTask(ds,dn){let En;if(this._cancelTaskZS)En=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,ds,dn);else{if(!dn.cancelFn)throw Error("Task is not cancelable");En=dn.cancelFn(dn)}return En}hasTask(ds,dn){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,ds,dn)}catch(En){this.handleError(ds,En)}}_updateTaskCount(ds,dn){const En=this._taskCounts,ss=En[ds],Ls=En[ds]=ss+dn;if(Ls<0)throw new Error("More tasks executed then were scheduled.");0!=ss&&0!=Ls||this.hasTask(this._zone,{microTask:En.microTask>0,macroTask:En.macroTask>0,eventTask:En.eventTask>0,change:ds})}}class Dt{constructor(ds,dn,En,ss,Ls,li){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=ds,this.source=dn,this.data=ss,this.scheduleFn=Ls,this.cancelFn=li,!En)throw new Error("callback is not defined");this.callback=En;const _t=this;this.invoke=ds===ct&&ss&&ss.useG?Dt.invokeTask:function(){return Dt.invokeTask.call(F,_t,this,arguments)}}static invokeTask(ds,dn,En){ds||(ds=this),Gs++;try{return ds.runCount++,ds.zone.runTask(ds,dn,En)}finally{1==Gs&&st(),Gs--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(Le,dt)}_transitionTo(ds,dn,En){if(this._state!==dn&&this._state!==En)throw new Error(`${this.type} '${this.source}': can not transition to '${ds}', expecting state '${dn}'${En?" or '"+En+"'":""}, was '${this._state}'.`);this._state=ds,ds==Le&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Ft=D("setTimeout"),ot=D("Promise"),xe=D("then");let Be,Ve=[],Ke=!1;function At(Cs){if(Be||F[ot]&&(Be=F[ot].resolve(0)),Be){let ds=Be[xe];ds||(ds=Be.then),ds.call(Be,Cs)}else F[Ft](Cs,0)}function Qe(Cs){0===Gs&&0===Ve.length&&At(st),Cs&&Ve.push(Cs)}function st(){if(!Ke){for(Ke=!0;Ve.length;){const Cs=Ve;Ve=[];for(let ds=0;ds<Cs.length;ds++){const dn=Cs[ds];try{dn.zone.runTask(dn,null,null)}catch(En){pn.onUnhandledError(En)}}}pn.microtaskDrainDone(),Ke=!1}}const ke={name:"NO ZONE"},Le="notScheduled",dt="scheduling",St="scheduled",ln="running",Tn="canceling",Bn="unknown",Zn="microTask",wn="macroTask",ct="eventTask",vt={},pn={symbol:D,currentZoneFrame:()=>Nn,onUnhandledError:cs,microtaskDrainDone:cs,scheduleMicroTask:Qe,showUncaughtError:()=>!wt[D("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:cs,patchMethod:()=>cs,bindArguments:()=>[],patchThen:()=>cs,patchMacroTask:()=>cs,patchEventPrototype:()=>cs,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>cs,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>cs,wrapWithCurrentZone:()=>cs,filterProperties:()=>[],attachOriginToPatched:()=>cs,_redefineProperty:()=>cs,patchCallbacks:()=>cs,nativeScheduleMicroTask:At};let Nn={parent:null,zone:new wt(null,null)},Jn=null,Gs=0;function cs(){}return Yt("Zone","Zone"),wt}(),It.Zone}();(function nn(It){(function Pn(It){It.__load_patch("ZoneAwarePromise",(zt,Yt,wt)=>{const bt=Object.getOwnPropertyDescriptor,Jt=Object.defineProperty,Ft=wt.symbol,ot=[],xe=!1!==zt[Ft("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],Ve=Ft("Promise"),Ke=Ft("then"),Be="__creationTrace__";wt.onUnhandledError=gt=>{if(wt.showUncaughtError()){const Ct=gt&&gt.rejection;Ct?console.error("Unhandled Promise rejection:",Ct instanceof Error?Ct.message:Ct,"; Zone:",gt.zone.name,"; Task:",gt.task&&gt.task.source,"; Value:",Ct,Ct instanceof Error?Ct.stack:void 0):console.error(gt)}},wt.microtaskDrainDone=()=>{for(;ot.length;){const gt=ot.shift();try{gt.zone.runGuarded(()=>{throw gt.throwOriginal?gt.rejection:gt})}catch(Ct){Qe(Ct)}}};const At=Ft("unhandledPromiseRejectionHandler");function Qe(gt){wt.onUnhandledError(gt);try{const Ct=Yt[At];"function"==typeof Ct&&Ct.call(this,gt)}catch{}}function st(gt){return gt&&gt.then}function ke(gt){return gt}function Le(gt){return _t.reject(gt)}const dt=Ft("state"),St=Ft("value"),ln=Ft("finally"),Tn=Ft("parentPromiseValue"),Bn=Ft("parentPromiseState"),Zn="Promise.then",wn=null,ct=!0,vt=!1,pn=0;function Nn(gt,Ct){return Wt=>{try{Cs(gt,Ct,Wt)}catch(fn){Cs(gt,!1,fn)}}}const Jn=function(){let gt=!1;return function(Wt){return function(){gt||(gt=!0,Wt.apply(null,arguments))}}},Gs="Promise resolved with itself",cs=Ft("currentTaskTrace");function Cs(gt,Ct,Wt){const fn=Jn();if(gt===Wt)throw new TypeError(Gs);if(gt[dt]===wn){let An=null;try{("object"==typeof Wt||"function"==typeof Wt)&&(An=Wt&&Wt.then)}catch(Yn){return fn(()=>{Cs(gt,!1,Yn)})(),gt}if(Ct!==vt&&Wt instanceof _t&&Wt.hasOwnProperty(dt)&&Wt.hasOwnProperty(St)&&Wt[dt]!==wn)dn(Wt),Cs(gt,Wt[dt],Wt[St]);else if(Ct!==vt&&"function"==typeof An)try{An.call(Wt,fn(Nn(gt,Ct)),fn(Nn(gt,!1)))}catch(Yn){fn(()=>{Cs(gt,!1,Yn)})()}else{gt[dt]=Ct;const Yn=gt[St];if(gt[St]=Wt,gt[ln]===ln&&Ct===ct&&(gt[dt]=gt[Bn],gt[St]=gt[Tn]),Ct===vt&&Wt instanceof Error){const $n=Yt.currentTask&&Yt.currentTask.data&&Yt.currentTask.data[Be];$n&&Jt(Wt,cs,{configurable:!0,enumerable:!1,writable:!0,value:$n})}for(let $n=0;$n<Yn.length;)En(gt,Yn[$n++],Yn[$n++],Yn[$n++],Yn[$n++]);if(0==Yn.length&&Ct==vt){gt[dt]=pn;let $n=Wt;try{throw new Error("Uncaught (in promise): "+function Dt(gt){return gt&&gt.toString===Object.prototype.toString?(gt.constructor&&gt.constructor.name||"")+": "+JSON.stringify(gt):gt?gt.toString():Object.prototype.toString.call(gt)}(Wt)+(Wt&&Wt.stack?"\n"+Wt.stack:""))}catch(_s){$n=_s}xe&&($n.throwOriginal=!0),$n.rejection=Wt,$n.promise=gt,$n.zone=Yt.current,$n.task=Yt.currentTask,ot.push($n),wt.scheduleMicroTask()}}}return gt}const ds=Ft("rejectionHandledHandler");function dn(gt){if(gt[dt]===pn){try{const Ct=Yt[ds];Ct&&"function"==typeof Ct&&Ct.call(this,{rejection:gt[St],promise:gt})}catch{}gt[dt]=vt;for(let Ct=0;Ct<ot.length;Ct++)gt===ot[Ct].promise&&ot.splice(Ct,1)}}function En(gt,Ct,Wt,fn,An){dn(gt);const Yn=gt[dt],$n=Yn?"function"==typeof fn?fn:ke:"function"==typeof An?An:Le;Ct.scheduleMicroTask(Zn,()=>{try{const _s=gt[St],Ps=!!Wt&&ln===Wt[ln];Ps&&(Wt[Tn]=_s,Wt[Bn]=Yn);const Ms=Ct.run($n,void 0,Ps&&$n!==Le&&$n!==ke?[]:[_s]);Cs(Wt,!0,Ms)}catch(_s){Cs(Wt,!1,_s)}},Wt)}const Ls=function(){},li=zt.AggregateError;class _t{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(Ct){return Ct instanceof _t?Ct:Cs(new this(null),ct,Ct)}static reject(Ct){return Cs(new this(null),vt,Ct)}static withResolvers(){const Ct={};return Ct.promise=new _t((Wt,fn)=>{Ct.resolve=Wt,Ct.reject=fn}),Ct}static any(Ct){if(!Ct||"function"!=typeof Ct[Symbol.iterator])return Promise.reject(new li([],"All promises were rejected"));const Wt=[];let fn=0;try{for(let $n of Ct)fn++,Wt.push(_t.resolve($n))}catch{return Promise.reject(new li([],"All promises were rejected"))}if(0===fn)return Promise.reject(new li([],"All promises were rejected"));let An=!1;const Yn=[];return new _t(($n,_s)=>{for(let Ps=0;Ps<Wt.length;Ps++)Wt[Ps].then(Ms=>{An||(An=!0,$n(Ms))},Ms=>{Yn.push(Ms),fn--,0===fn&&(An=!0,_s(new li(Yn,"All promises were rejected")))})})}static race(Ct){let Wt,fn,An=new this((_s,Ps)=>{Wt=_s,fn=Ps});function Yn(_s){Wt(_s)}function $n(_s){fn(_s)}for(let _s of Ct)st(_s)||(_s=this.resolve(_s)),_s.then(Yn,$n);return An}static all(Ct){return _t.allWithCallback(Ct)}static allSettled(Ct){return(this&&this.prototype instanceof _t?this:_t).allWithCallback(Ct,{thenCallback:fn=>({status:"fulfilled",value:fn}),errorCallback:fn=>({status:"rejected",reason:fn})})}static allWithCallback(Ct,Wt){let fn,An,Yn=new this((Ms,hs)=>{fn=Ms,An=hs}),$n=2,_s=0;const Ps=[];for(let Ms of Ct){st(Ms)||(Ms=this.resolve(Ms));const hs=_s;try{Ms.then(bs=>{Ps[hs]=Wt?Wt.thenCallback(bs):bs,$n--,0===$n&&fn(Ps)},bs=>{Wt?(Ps[hs]=Wt.errorCallback(bs),$n--,0===$n&&fn(Ps)):An(bs)})}catch(bs){An(bs)}$n++,_s++}return $n-=2,0===$n&&fn(Ps),Yn}constructor(Ct){const Wt=this;if(!(Wt instanceof _t))throw new Error("Must be an instanceof Promise.");Wt[dt]=wn,Wt[St]=[];try{const fn=Jn();Ct&&Ct(fn(Nn(Wt,ct)),fn(Nn(Wt,vt)))}catch(fn){Cs(Wt,!1,fn)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return _t}then(Ct,Wt){let fn=this.constructor?.[Symbol.species];(!fn||"function"!=typeof fn)&&(fn=this.constructor||_t);const An=new fn(Ls),Yn=Yt.current;return this[dt]==wn?this[St].push(Yn,An,Ct,Wt):En(this,Yn,An,Ct,Wt),An}catch(Ct){return this.then(null,Ct)}finally(Ct){let Wt=this.constructor?.[Symbol.species];(!Wt||"function"!=typeof Wt)&&(Wt=_t);const fn=new Wt(Ls);fn[ln]=ln;const An=Yt.current;return this[dt]==wn?this[St].push(An,fn,Ct,Ct):En(this,An,fn,Ct,Ct),fn}}_t.resolve=_t.resolve,_t.reject=_t.reject,_t.race=_t.race,_t.all=_t.all;const Ht=zt[Ve]=zt.Promise;zt.Promise=_t;const We=Ft("thenPatched");function sn(gt){const Ct=gt.prototype,Wt=bt(Ct,"then");if(Wt&&(!1===Wt.writable||!Wt.configurable))return;const fn=Ct.then;Ct[Ke]=fn,gt.prototype.then=function(An,Yn){return new _t((_s,Ps)=>{fn.call(this,_s,Ps)}).then(An,Yn)},gt[We]=!0}return wt.patchThen=sn,Ht&&(sn(Ht),ee(zt,"fetch",gt=>function lt(gt){return function(Ct,Wt){let fn=gt.apply(Ct,Wt);if(fn instanceof _t)return fn;let An=fn.constructor;return An[We]||sn(An),fn}}(gt))),Promise[Yt.__symbol__("uncaughtPromiseErrors")]=ot,_t})})(It),function yt(It){It.__load_patch("toString",zt=>{const Yt=Function.prototype.toString,wt=p("OriginalDelegate"),bt=p("Promise"),Jt=p("Error"),Dt=function(){if("function"==typeof this){const Ve=this[wt];if(Ve)return"function"==typeof Ve?Yt.call(Ve):Object.prototype.toString.call(Ve);if(this===Promise){const Ke=zt[bt];if(Ke)return Yt.call(Ke)}if(this===Error){const Ke=zt[Jt];if(Ke)return Yt.call(Ke)}}return Yt.call(this)};Dt[wt]=Yt,Function.prototype.toString=Dt;const Ft=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":Ft.call(this)}})}(It),function Rt(It){It.__load_patch("util",(zt,Yt,wt)=>{const bt=ut(zt);wt.patchOnProperties=Z,wt.patchMethod=ee,wt.bindArguments=L,wt.patchMacroTask=le;const Jt=Yt.__symbol__("BLACK_LISTED_EVENTS"),Dt=Yt.__symbol__("UNPATCHED_EVENTS");zt[Dt]&&(zt[Jt]=zt[Dt]),zt[Jt]&&(Yt[Jt]=Yt[Dt]=zt[Jt]),wt.patchEventPrototype=Mt,wt.patchEventTarget=Ye,wt.isIEOrEdge=De,wt.ObjectDefineProperty=u,wt.ObjectGetOwnPropertyDescriptor=t,wt.ObjectCreate=h,wt.ArraySlice=m,wt.patchClass=Q,wt.wrapWithCurrentZone=T,wt.filterProperties=Ce,wt.attachOriginToPatched=ne,wt._redefineProperty=Object.defineProperty,wt.patchCallbacks=Kt,wt.getGlobalObjects=()=>({globalSources:tt,zoneSymbolEventNames:Te,eventNames:bt,isBrowser:K,isMix:Y,isNode:U,TRUE_STR:C,FALSE_STR:I,ZONE_SYMBOL_PREFIX:R,ADD_EVENT_LISTENER_STR:f,REMOVE_EVENT_LISTENER_STR:v})})}(It)})(gn),function an(It){It.__load_patch("legacy",zt=>{const Yt=zt[It.__symbol__("legacyPatch")];Yt&&Yt()}),It.__load_patch("timers",zt=>{const wt="clear";Gt(zt,"set",wt,"Timeout"),Gt(zt,"set",wt,"Interval"),Gt(zt,"set",wt,"Immediate")}),It.__load_patch("requestAnimationFrame",zt=>{Gt(zt,"request","cancel","AnimationFrame"),Gt(zt,"mozRequest","mozCancel","AnimationFrame"),Gt(zt,"webkitRequest","webkitCancel","AnimationFrame")}),It.__load_patch("blocking",(zt,Yt)=>{const wt=["alert","prompt","confirm"];for(let bt=0;bt<wt.length;bt++)ee(zt,wt[bt],(Dt,Ft,ot)=>function(xe,Ve){return Yt.current.run(Dt,zt,Ve,ot)})}),It.__load_patch("EventTarget",(zt,Yt,wt)=>{(function Pt(It,zt){zt.patchEventPrototype(It,zt)})(zt,wt),function mt(It,zt){if(Zone[zt.symbol("patchEventTarget")])return;const{eventNames:Yt,zoneSymbolEventNames:wt,TRUE_STR:bt,FALSE_STR:Jt,ZONE_SYMBOL_PREFIX:Dt}=zt.getGlobalObjects();for(let ot=0;ot<Yt.length;ot++){const xe=Yt[ot],Be=Dt+(xe+Jt),At=Dt+(xe+bt);wt[xe]={},wt[xe][Jt]=Be,wt[xe][bt]=At}const Ft=It.EventTarget;Ft&&Ft.prototype&&zt.patchEventTarget(It,zt,[Ft&&Ft.prototype])}(zt,wt);const bt=zt.XMLHttpRequestEventTarget;bt&&bt.prototype&&wt.patchEventTarget(zt,wt,[bt.prototype])}),It.__load_patch("MutationObserver",(zt,Yt,wt)=>{Q("MutationObserver"),Q("WebKitMutationObserver")}),It.__load_patch("IntersectionObserver",(zt,Yt,wt)=>{Q("IntersectionObserver")}),It.__load_patch("FileReader",(zt,Yt,wt)=>{Q("FileReader")}),It.__load_patch("on_property",(zt,Yt,wt)=>{!function hn(It,zt){if(U&&!Y||Zone[It.symbol("patchEvents")])return;const Yt=zt.__Zone_ignore_on_properties;let wt=[];if(K){const bt=window;wt=wt.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const Jt=function ce(){try{const It=O.navigator.userAgent;if(-1!==It.indexOf("MSIE ")||-1!==It.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:bt,ignoreProperties:["error"]}]:[];je(bt,ut(bt),Yt&&Yt.concat(Jt),e(bt))}wt=wt.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let bt=0;bt<wt.length;bt++){const Jt=zt[wt[bt]];Jt&&Jt.prototype&&je(Jt.prototype,ut(Jt.prototype),Yt)}}(wt,zt)}),It.__load_patch("customElements",(zt,Yt,wt)=>{!function Zt(It,zt){const{isBrowser:Yt,isMix:wt}=zt.getGlobalObjects();(Yt||wt)&&It.customElements&&"customElements"in It&&zt.patchCallbacks(zt,It.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(zt,wt)}),It.__load_patch("XHR",(zt,Yt)=>{!function xe(Ve){const Ke=Ve.XMLHttpRequest;if(!Ke)return;const Be=Ke.prototype;let Qe=Be[E],st=Be[_];if(!Qe){const pn=Ve.XMLHttpRequestEventTarget;if(pn){const Nn=pn.prototype;Qe=Nn[E],st=Nn[_]}}const ke="readystatechange",Le="scheduled";function dt(pn){const Nn=pn.data,Jn=Nn.target;Jn[Dt]=!1,Jn[ot]=!1;const Gs=Jn[Jt];Qe||(Qe=Jn[E],st=Jn[_]),Gs&&st.call(Jn,ke,Gs);const cs=Jn[Jt]=()=>{if(Jn.readyState===Jn.DONE)if(!Nn.aborted&&Jn[Dt]&&pn.state===Le){const ds=Jn[Yt.__symbol__("loadfalse")];if(0!==Jn.status&&ds&&ds.length>0){const dn=pn.invoke;pn.invoke=function(){const En=Jn[Yt.__symbol__("loadfalse")];for(let ss=0;ss<En.length;ss++)En[ss]===pn&&En.splice(ss,1);!Nn.aborted&&pn.state===Le&&dn.call(pn)},ds.push(pn)}else pn.invoke()}else!Nn.aborted&&!1===Jn[Dt]&&(Jn[ot]=!0)};return Qe.call(Jn,ke,cs),Jn[wt]||(Jn[wt]=pn),ct.apply(Jn,Nn.args),Jn[Dt]=!0,pn}function St(){}function ln(pn){const Nn=pn.data;return Nn.aborted=!0,vt.apply(Nn.target,Nn.args)}const Tn=ee(Be,"open",()=>function(pn,Nn){return pn[bt]=0==Nn[2],pn[Ft]=Nn[1],Tn.apply(pn,Nn)}),Zn=p("fetchTaskAborting"),wn=p("fetchTaskScheduling"),ct=ee(Be,"send",()=>function(pn,Nn){if(!0===Yt.current[wn]||pn[bt])return ct.apply(pn,Nn);{const Jn={target:pn,url:pn[Ft],isPeriodic:!1,args:Nn,aborted:!1},Gs=A("XMLHttpRequest.send",St,Jn,dt,ln);pn&&!0===pn[ot]&&!Jn.aborted&&Gs.state===Le&&Gs.invoke()}}),vt=ee(Be,"abort",()=>function(pn,Nn){const Jn=function At(pn){return pn[wt]}(pn);if(Jn&&"string"==typeof Jn.type){if(null==Jn.cancelFn||Jn.data&&Jn.data.aborted)return;Jn.zone.cancelTask(Jn)}else if(!0===Yt.current[Zn])return vt.apply(pn,Nn)})}(zt);const wt=p("xhrTask"),bt=p("xhrSync"),Jt=p("xhrListener"),Dt=p("xhrScheduled"),Ft=p("xhrURL"),ot=p("xhrErrorBeforeScheduled")}),It.__load_patch("geolocation",zt=>{zt.navigator&&zt.navigator.geolocation&&function B(It,zt){const Yt=It.constructor.name;for(let wt=0;wt<zt.length;wt++){const bt=zt[wt],Jt=It[bt];if(Jt){if(!k(t(It,bt)))continue;It[bt]=(Ft=>{const ot=function(){return Ft.apply(this,L(arguments,Yt+"."+bt))};return ne(ot,Ft),ot})(Jt)}}}(zt.navigator.geolocation,["getCurrentPosition","watchPosition"])}),It.__load_patch("PromiseRejectionEvent",(zt,Yt)=>{function wt(bt){return function(Jt){pt(zt,bt).forEach(Ft=>{const ot=zt.PromiseRejectionEvent;if(ot){const xe=new ot(bt,{promise:Jt.promise,reason:Jt.rejection});Ft.invoke(xe)}})}}zt.PromiseRejectionEvent&&(Yt[p("unhandledPromiseRejectionHandler")]=wt("unhandledrejection"),Yt[p("rejectionHandledHandler")]=wt("rejectionhandled"))}),It.__load_patch("queueMicrotask",(zt,Yt,wt)=>{!function Ne(It,zt){zt.patchMethod(It,"queueMicrotask",Yt=>function(wt,bt){Zone.current.scheduleMicroTask("queueMicrotask",bt[0])})}(zt,wt)})}(gn)},48832:(F,D,n)=>{var i={"./custom/app/admin/admin-sidebar/admin-sidebar.component":[87323,7323]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=48832,F.exports=t},32012:(F,D,n)=>{var i={"./custom/app/breadcrumbs/breadcrumbs.component":[20335,335]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=32012,F.exports=t},43562:(F,D,n)=>{var i={"./custom/app/footer/footer.component":[951,951]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=43562,F.exports=t},30130:(F,D,n)=>{var i={"./custom/app/forbidden/forbidden.component":[50547,547]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=30130,F.exports=t},20991:(F,D,n)=>{var i={"./custom/app/header-nav-wrapper/header-navbar-wrapper.component":[66520,6520],"./dspace/app/header-nav-wrapper/header-navbar-wrapper.component":[47435]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=20991,F.exports=t},16722:(F,D,n)=>{var i={"./custom/app/header/header.component":[75559,5559],"./dspace/app/header/header.component":[3018]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=16722,F.exports=t},52636:(F,D,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer-image/media-viewer-image.component":[59655,9655]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=52636,F.exports=t},38815:(F,D,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer-video/media-viewer-video.component":[92531,2531]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=38815,F.exports=t},5452:(F,D,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer.component":[81917,1917]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=5452,F.exports=t},78373:(F,D,n)=>{var i={"./custom/app/item-page/simple/field-components/file-section/file-section.component":[38072,8072]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=78373,F.exports=t},17026:(F,D,n)=>{var i={"./custom/app/item-page/simple/field-components/specific-field/title/item-page-title-field.component":[1739,1739]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=17026,F.exports=t},89979:(F,D,n)=>{var i={"./custom/app/item-page/simple/metadata-representation-list/metadata-representation-list.component":[32890,2890]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=89979,F.exports=t},88289:(F,D,n)=>{var i={"./custom/app/navbar/expandable-navbar-section/expandable-navbar-section.component":[61754,1754]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=88289,F.exports=t},19318:(F,D,n)=>{var i={"./custom/app/navbar/navbar.component":[77069,7069],"./dspace/app/navbar/navbar.component":[89768]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=19318,F.exports=t},18400:F=>{function D(n){return Promise.resolve().then(()=>{var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i})}D.keys=()=>[],D.resolve=D,D.id=18400,F.exports=D},46544:F=>{function D(n){return Promise.resolve().then(()=>{var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i})}D.keys=()=>[],D.resolve=D,D.id=46544,F.exports=D},94826:(F,D,n)=>{var i={"./custom/app/pagenotfound/pagenotfound.component":[21797,1797]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=94826,F.exports=t},94634:(F,D,n)=>{var i={"./custom/app/root/root.component":[83469,3469]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=94634,F.exports=t},28754:(F,D,n)=>{var i={"./custom/app/search-navbar/search-navbar.component":[9323,9323]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=28754,F.exports=t},21133:(F,D,n)=>{var i={"./custom/app/search-page/configuration-search-page.component":[74892,4892]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=21133,F.exports=t},51808:(F,D,n)=>{var i={"./custom/app/shared/auth-nav-menu/auth-nav-menu.component":[5789,5789]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=51808,F.exports=t},13361:(F,D,n)=>{var i={"./custom/app/shared/auth-nav-menu/user-menu/user-menu.component":[95208,5208]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=13361,F.exports=t},60939:(F,D,n)=>{var i={"./custom/app/shared/browse-by/browse-by.component.ts":[84281,4281]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=60939,F.exports=t},80882:(F,D,n)=>{var i={"./custom/app/shared/collection-dropdown/collection-dropdown.component":[15733,5733]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=80882,F.exports=t},12706:(F,D,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-collection-parent-selector/create-collection-parent-selector.component":[73159,3159]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=12706,F.exports=t},27122:(F,D,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-community-parent-selector/create-community-parent-selector.component":[14899,4899]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=27122,F.exports=t},25074:(F,D,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-item-parent-selector/create-item-parent-selector.component":[2851,2851]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=25074,F.exports=t},61130:(F,D,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-collection-selector/edit-collection-selector.component":[90627,627]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=61130,F.exports=t},11452:(F,D,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-community-selector/edit-community-selector.component":[56303,6303]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=11452,F.exports=t},6122:(F,D,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-item-selector/edit-item-selector.component":[94189,4189]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=6122,F.exports=t},72834:(F,D,n)=>{var i={"./custom/app/shared/file-download-link/file-download-link.component":[93015,3015]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=72834,F.exports=t},90331:(F,D,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component":[5924,5924]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=90331,F.exports=t},14651:(F,D,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/external-source-entry-import-modal/external-source-entry-import-modal.component":[60360,360]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=14651,F.exports=t},37919:(F,D,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component":[37558,5177]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=37919,F.exports=t},97394:(F,D,n)=>{var i={"./custom/app/shared/lang-switch/lang-switch.component":[1237,1237]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=97394,F.exports=t},54512:(F,D,n)=>{var i={"./custom/app/shared/loading/loading.component":[86905,2076,9286]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=54512,F.exports=t},43800:(F,D,n)=>{var i={"./custom/app/shared/log-in/log-in.component":[74267,4267]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=43800,F.exports=t},50822:(F,D,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/access-status-badge/access-status-badge.component":[16953,6953]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=50822,F.exports=t},70295:(F,D,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/badges.component":[67830,7830]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=70295,F.exports=t},87596:(F,D,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/my-dspace-status-badge/my-dspace-status-badge.component":[67635,7635]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=87596,F.exports=t},52504:(F,D,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/status-badge/status-badge.component":[93463,3463]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=52504,F.exports=t},45796:(F,D,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/type-badge/type-badge.component":[14491,4491]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=45796,F.exports=t},4026:(F,D,n)=>{var i={"./custom/app/shared/object-detail/my-dspace-result-detail-element/item-detail-preview/item-detail-preview-field/item-detail-preview-field.component":[69585,9585]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=4026,F.exports=t},71931:(F,D,n)=>{var i={"./custom/app/shared/object-list/my-dspace-result-list-element/item-list-preview/item-list-preview.component":[6455,8836]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=71931,F.exports=t},8894:(F,D,n)=>{var i={"./custom/app/shared/object-list/object-list.component":[16625,6625]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=8894,F.exports=t},79086:(F,D,n)=>{var i={"./custom/app/shared/results-back-button/results-back-button.component":[54545,2076,4545]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=79086,F.exports=t},76142:(F,D,n)=>{var i={"./custom/app/shared/search-form/search-form.component":[62645,2645]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=76142,F.exports=t},64565:(F,D,n)=>{var i={"./custom/app/shared/search/search-filters/search-filters.component":[4072,4072]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=64565,F.exports=t},18527:(F,D,n)=>{var i={"./custom/app/shared/search/search-results/search-results.component":[27826,7826]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=18527,F.exports=t},60911:(F,D,n)=>{var i={"./custom/app/shared/search/search-settings/search-settings.component":[13622,3622]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=60911,F.exports=t},98587:(F,D,n)=>{var i={"./custom/app/shared/search/search-sidebar/search-sidebar.component":[26318,6318]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=98587,F.exports=t},13390:(F,D,n)=>{var i={"./custom/app/shared/search/search.component":[40488,8107]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=13390,F.exports=t},572:(F,D,n)=>{var i={"./custom/app/thumbnail/thumbnail.component":[71859,1859]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=572,F.exports=t},18820:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function n(i,t,u,e,h,m,f){var v=new Date(0);return v.setUTCFullYear(i,t,u),v.setUTCHours(e,h,m,f),v},F.exports=D.default},59573:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function n(e,h,m){var f=function u(e,h,m){if(m&&!m.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(m?[m.code,"en-US"]:void 0,{timeZone:h,timeZoneName:e})}(e,m.timeZone,m.locale);return f.formatToParts?function i(e,h){for(var m=e.formatToParts(h),f=m.length-1;f>=0;--f)if("timeZoneName"===m[f].type)return m[f].value}(f,h):function t(e,h){var m=e.format(h).replace(/\u200E/g,""),f=/ [\w-+ ]+$/.exec(m);return f?f[0].substr(1):""}(f,h)},F.exports=D.default},34898:(F,D,n)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function f(T,A,p){var x,O,w;if(!T||(x=m.timezoneZ.exec(T)))return 0;if(x=m.timezoneHH.exec(T))return C(w=parseInt(x[1],10))?-w*e:NaN;if(x=m.timezoneHHMM.exec(T)){w=parseInt(x[1],10);var M=parseInt(x[2],10);return C(w,M)?(O=Math.abs(w)*e+M*h,w>0?-O:O):NaN}if(function R(T){if(I[T])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:T}),I[T]=!0,!0}catch{return!1}}(T)){A=new Date(A||Date.now());var L=p?A:function v(T){return(0,t.default)(T.getFullYear(),T.getMonth(),T.getDate(),T.getHours(),T.getMinutes(),T.getSeconds(),T.getMilliseconds())}(A),B=E(L,T),k=p?B:function _(T,A,p){var O=T.getTime()-A,w=E(new Date(O),p);if(A===w)return A;O-=w-A;var M=E(new Date(O),p);return w===M?w:Math.max(w,M)}(A,B,T);return-k}return NaN};var i=u(n(21771)),t=u(n(18820));function u(T){return T&&T.__esModule?T:{default:T}}var e=36e5,h=6e4,m={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function E(T,A){var p=(0,i.default)(T,A),x=(0,t.default)(p[0],p[1]-1,p[2],p[3]%24,p[4],p[5],0).getTime(),O=T.getTime(),w=O%1e3;return x-(O-(w>=0?w:1e3+w))}function C(T,A){return-23<=T&&T<=23&&(null==A||0<=A&&A<=59)}var I={};F.exports=D.default},85812:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0,D.default=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,F.exports=D.default},21771:(F,D)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function n(m,f){var v=function h(m){if(!e[m]){var f=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));e[m]="06/25/2014, 00:00:00"===f||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===f?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:m,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:m,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return e[m]}(f);return v.formatToParts?function t(m,f){try{for(var v=m.formatToParts(f),E=[],_=0;_<v.length;_++){var C=i[v[_].type];C>=0&&(E[C]=parseInt(v[_].value,10))}return E}catch(I){if(I instanceof RangeError)return[NaN];throw I}}(v,m):function u(m,f){var v=m.format(f).replace(/\u200E/g,""),E=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(v);return[E[3],E[1],E[2],E[4],E[5],E[6]]}(v,m)};var i={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};F.exports=D.default},91490:(F,D,n)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var i=u(n(59573)),t=u(n(34898));function u(I){return I&&I.__esModule?I:{default:I}}function m(I,R){var T=I?(0,t.default)(I,R,!0)/6e4:R.getTimezoneOffset();if(Number.isNaN(T))throw new RangeError("Invalid time zone specified: "+I);return T}function f(I,R){for(var T=I<0?"-":"",A=Math.abs(I).toString();A.length<R;)A="0"+A;return T+A}function v(I,R){var T=R||"",A=I>0?"-":"+",p=Math.abs(I);return A+f(Math.floor(p/60),2)+T+f(Math.floor(p%60),2)}function E(I,R){return I%60==0?(I>0?"-":"+")+f(Math.abs(I)/60,2):v(I,R)}D.default={X:function(I,R,T,A){var p=m(A.timeZone,A._originalDate||I);if(0===p)return"Z";switch(R){case"X":return E(p);case"XXXX":case"XX":return v(p);default:return v(p,":")}},x:function(I,R,T,A){var p=m(A.timeZone,A._originalDate||I);switch(R){case"x":return E(p);case"xxxx":case"xx":return v(p);default:return v(p,":")}},O:function(I,R,T,A){var p=m(A.timeZone,A._originalDate||I);switch(R){case"O":case"OO":case"OOO":return"GMT"+function _(I,R){var T=I>0?"-":"+",A=Math.abs(I),p=Math.floor(A/60),x=A%60;if(0===x)return T+String(p);var O=R||"";return T+String(p)+O+f(x,2)}(p,":");default:return"GMT"+v(p,":")}},z:function(I,R,T,A){var p=A._originalDate||I;switch(R){case"z":case"zz":case"zzz":return(0,i.default)("short",p,A);default:return(0,i.default)("long",p,A)}}},F.exports=D.default},38308:(F,D,n)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function m(f,v,E){var _=String(v),C=E||{},I=_.match(h);if(I){var R=(0,u.default)(f,C);_=I.reduce(function(T,A){if("'"===A[0])return T;var p=T.indexOf(A),x="'"===T[p-1],O=T.replace(A,"'"+t.default[A[0]](R,A,null,C)+"'");return x?O.substring(0,p-1)+O.substring(p+1):O},_)}return(0,i.default)(f,_,C)};var i=e(n(24150)),t=e(n(91490)),u=e(n(64358));function e(f){return f&&f.__esModule?f:{default:f}}var h=/([xXOz]+)|''|'(''|[^'])+('|$)/g;F.exports=D.default},62628:(F,D,n)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function h(m,f,v,E){var _=(0,i.default)(E);return _.timeZone=f,(0,t.default)((0,u.default)(m,f),v,_)};var i=e(n(88200)),t=e(n(38308)),u=e(n(2589));function e(m){return m&&m.__esModule?m:{default:m}}F.exports=D.default},48493:(F,D,n)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function u(e,h){return-(0,i.default)(e,h)};var i=function t(e){return e&&e.__esModule?e:{default:e}}(n(34898));F.exports=D.default},56106:(F,D,n)=>{"use strict";F.exports={format:n(38308),formatInTimeZone:n(62628),getTimezoneOffset:n(48493),toDate:n(64358),utcToZonedTime:n(2589),zonedTimeToUtc:n(56743)}},64358:(F,D,n)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function _(k,W){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===k)return new Date(NaN);var U=W||{},K=null==U.additionalDigits?v:(0,i.default)(U.additionalDigits);if(2!==K&&1!==K&&0!==K)throw new RangeError("additionalDigits must be 0, 1 or 2");if(k instanceof Date||"object"==typeof k&&"[object Date]"===Object.prototype.toString.call(k))return new Date(k.getTime());if("number"==typeof k||"[object Number]"===Object.prototype.toString.call(k))return new Date(k);if("string"!=typeof k&&"[object String]"!==Object.prototype.toString.call(k))return new Date(NaN);var Y=function C(k){var K,W={},U=E.dateTimePattern.exec(k);if(U?(W.date=U[1],K=U[3]):(U=E.datePattern.exec(k))?(W.date=U[1],K=U[2]):(W.date=null,K=k),K){var Y=E.timeZone.exec(K);Y?(W.time=K.replace(Y[1],""),W.timeZone=Y[1].trim()):W.time=K}return W}(k),G=function I(k,W){var Y,U=E.YYY[W],K=E.YYYYY[W];if(Y=E.YYYY.exec(k)||K.exec(k)){var G=Y[1];return{year:parseInt(G,10),restDateString:k.slice(G.length)}}if(Y=E.YY.exec(k)||U.exec(k)){var q=Y[1];return{year:100*parseInt(q,10),restDateString:k.slice(q.length)}}return{year:null}}(Y.date,K),te=function R(k,W){if(null===W)return null;var U,K,Y,G;if(0===k.length)return(K=new Date(0)).setUTCFullYear(W),K;if(U=E.MM.exec(k))return K=new Date(0),w(W,Y=parseInt(U[1],10)-1)?(K.setUTCFullYear(W,Y),K):new Date(NaN);if(U=E.DDD.exec(k)){K=new Date(0);var q=parseInt(U[1],10);return function M(k,W){if(W<1)return!1;var U=O(k);return!(U&&W>366||!U&&W>365)}(W,q)?(K.setUTCFullYear(W,0,q),K):new Date(NaN)}if(U=E.MMDD.exec(k)){K=new Date(0),Y=parseInt(U[1],10)-1;var z=parseInt(U[2],10);return w(W,Y,z)?(K.setUTCFullYear(W,Y,z),K):new Date(NaN)}if(U=E.Www.exec(k))return L(0,G=parseInt(U[1],10)-1)?A(W,G):new Date(NaN);if(U=E.WwwD.exec(k)){G=parseInt(U[1],10)-1;var te=parseInt(U[2],10)-1;return L(0,G,te)?A(W,G,te):new Date(NaN)}return null}(G.restDateString,G.year);if(isNaN(te))return new Date(NaN);if(te){var Q,Z=te.getTime(),J=0;if(Y.time&&(J=function T(k){var W,U,K;if(W=E.HH.exec(k))return B(U=parseFloat(W[1].replace(",",".")))?U%24*m:NaN;if(W=E.HHMM.exec(k))return B(U=parseInt(W[1],10),K=parseFloat(W[2].replace(",",".")))?U%24*m+K*f:NaN;if(W=E.HHMMSS.exec(k)){U=parseInt(W[1],10),K=parseInt(W[2],10);var Y=parseFloat(W[3].replace(",","."));return B(U,K,Y)?U%24*m+K*f+1e3*Y:NaN}return null}(Y.time),isNaN(J)))return new Date(NaN);if(Y.timeZone||U.timeZone){if(Q=(0,u.default)(Y.timeZone||U.timeZone,new Date(Z+J)),isNaN(Q))return new Date(NaN)}else Q=(0,t.default)(new Date(Z+J)),Q=(0,t.default)(new Date(Z+J+Q));return new Date(Z+J+Q)}return new Date(NaN)};var i=h(n(25167)),t=h(n(20059)),u=h(n(34898)),e=h(n(85812));function h(k){return k&&k.__esModule?k:{default:k}}var m=36e5,f=6e4,v=2,E={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:e.default};function A(k,W,U){W=W||0,U=U||0;var K=new Date(0);K.setUTCFullYear(k,0,4);var G=7*W+U+1-(K.getUTCDay()||7);return K.setUTCDate(K.getUTCDate()+G),K}var p=[31,28,31,30,31,30,31,31,30,31,30,31],x=[31,29,31,30,31,30,31,31,30,31,30,31];function O(k){return k%400==0||k%4==0&&k%100!=0}function w(k,W,U){if(W<0||W>11)return!1;if(null!=U){if(U<1)return!1;var K=O(k);if(K&&U>x[W]||!K&&U>p[W])return!1}return!0}function L(k,W,U){return!(W<0||W>52||null!=U&&(U<0||U>6))}function B(k,W,U){return!(null!=k&&(k<0||k>=25)||null!=W&&(W<0||W>=60)||null!=U&&(U<0||U>=60))}F.exports=D.default},2589:(F,D,n)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function e(h,m,f){var v=(0,t.default)(h,f),E=(0,i.default)(m,v,!0),_=new Date(v.getTime()-E),C=new Date(0);return C.setFullYear(_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate()),C.setHours(_.getUTCHours(),_.getUTCMinutes(),_.getUTCSeconds(),_.getUTCMilliseconds()),C};var i=u(n(34898)),t=u(n(64358));function u(h){return h&&h.__esModule?h:{default:h}}F.exports=D.default},56743:(F,D,n)=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.default=function f(v,E,_){if("string"==typeof v&&!v.match(u.default)){var C=(0,i.default)(_);return C.timeZone=E,(0,t.default)(v,C)}var I=(0,t.default)(v,_),R=(0,h.default)(I.getFullYear(),I.getMonth(),I.getDate(),I.getHours(),I.getMinutes(),I.getSeconds(),I.getMilliseconds()).getTime(),T=(0,e.default)(E,new Date(R));return new Date(R+T)};var i=m(n(88200)),t=m(n(64358)),u=m(n(85812)),e=m(n(34898)),h=m(n(18820));function m(v){return v&&v.__esModule?v:{default:v}}F.exports=D.default},52165:()=>{var F,D;D=F||(F={}),function(n){var i="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function m(){return function e(){try{return Function("return this;")()}catch{}}()||function h(){try{return(0,eval)("(function() { return this; })()")}catch{}}()}(),t=u(D);function u(f,v){return function(E,_){Object.defineProperty(f,E,{configurable:!0,writable:!0,value:_}),v&&v(E,_)}}typeof i.Reflect<"u"&&(t=u(i.Reflect,t)),function(n,i){var t=Object.prototype.hasOwnProperty,u="function"==typeof Symbol,e=u&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",h=u&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",m="function"==typeof Object.create,f={__proto__:[]}instanceof Array,v=!m&&!f,E={create:m?function(){return Pn(Object.create(null))}:f?function(){return Pn({__proto__:null})}:function(){return Pn({})},has:v?function(yt,Kt){return t.call(yt,Kt)}:function(yt,Kt){return Kt in yt},get:v?function(yt,Kt){return t.call(yt,Kt)?yt[Kt]:void 0}:function(yt,Kt){return yt[Kt]}},_=Object.getPrototypeOf(Function),C="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function ut(){var yt={},Kt=[],Rt=function(){function Yt(wt,bt,Jt){this._index=0,this._keys=wt,this._values=bt,this._selector=Jt}return Yt.prototype["@@iterator"]=function(){return this},Yt.prototype[h]=function(){return this},Yt.prototype.next=function(){var wt=this._index;if(wt>=0&&wt<this._keys.length){var bt=this._selector(this._keys[wt],this._values[wt]);return wt+1>=this._keys.length?(this._index=-1,this._keys=Kt,this._values=Kt):this._index++,{value:bt,done:!1}}return{value:void 0,done:!0}},Yt.prototype.throw=function(wt){throw this._index>=0&&(this._index=-1,this._keys=Kt,this._values=Kt),wt},Yt.prototype.return=function(wt){return this._index>=0&&(this._index=-1,this._keys=Kt,this._values=Kt),{value:wt,done:!0}},Yt}();return function(){function Yt(){this._keys=[],this._values=[],this._cacheKey=yt,this._cacheIndex=-2}return Object.defineProperty(Yt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Yt.prototype.has=function(wt){return this._find(wt,!1)>=0},Yt.prototype.get=function(wt){var bt=this._find(wt,!1);return bt>=0?this._values[bt]:void 0},Yt.prototype.set=function(wt,bt){var Jt=this._find(wt,!0);return this._values[Jt]=bt,this},Yt.prototype.delete=function(wt){var bt=this._find(wt,!1);if(bt>=0){for(var Jt=this._keys.length,Dt=bt+1;Dt<Jt;Dt++)this._keys[Dt-1]=this._keys[Dt],this._values[Dt-1]=this._values[Dt];return this._keys.length--,this._values.length--,Et(wt,this._cacheKey)&&(this._cacheKey=yt,this._cacheIndex=-2),!0}return!1},Yt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=yt,this._cacheIndex=-2},Yt.prototype.keys=function(){return new Rt(this._keys,this._values,gn)},Yt.prototype.values=function(){return new Rt(this._keys,this._values,It)},Yt.prototype.entries=function(){return new Rt(this._keys,this._values,zt)},Yt.prototype["@@iterator"]=function(){return this.entries()},Yt.prototype[h]=function(){return this.entries()},Yt.prototype._find=function(wt,bt){if(!Et(this._cacheKey,wt)){this._cacheIndex=-1;for(var Jt=0;Jt<this._keys.length;Jt++)if(Et(this._keys[Jt],wt)){this._cacheIndex=Jt;break}}return this._cacheIndex<0&&bt&&(this._cacheIndex=this._keys.length,this._keys.push(wt),this._values.push(void 0)),this._cacheIndex},Yt}();function gn(Yt,wt){return Yt}function It(Yt,wt){return wt}function zt(Yt,wt){return[Yt,wt]}}(),I="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function hn(){return function(){function Kt(){this._map=new C}return Object.defineProperty(Kt.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Kt.prototype.has=function(Rt){return this._map.has(Rt)},Kt.prototype.add=function(Rt){return this._map.set(Rt,Rt),this},Kt.prototype.delete=function(Rt){return this._map.delete(Rt)},Kt.prototype.clear=function(){this._map.clear()},Kt.prototype.keys=function(){return this._map.keys()},Kt.prototype.values=function(){return this._map.keys()},Kt.prototype.entries=function(){return this._map.entries()},Kt.prototype["@@iterator"]=function(){return this.keys()},Kt.prototype[h]=function(){return this.keys()},Kt}()}(),R="function"==typeof WeakMap?WeakMap:function an(){var yt=16,Kt=E.create(),Rt=nn();return function(){function wt(){this._key=nn()}return wt.prototype.has=function(bt){var Jt=gn(bt,!1);return void 0!==Jt&&E.has(Jt,this._key)},wt.prototype.get=function(bt){var Jt=gn(bt,!1);return void 0!==Jt?E.get(Jt,this._key):void 0},wt.prototype.set=function(bt,Jt){return gn(bt,!0)[this._key]=Jt,this},wt.prototype.delete=function(bt){var Jt=gn(bt,!1);return void 0!==Jt&&delete Jt[this._key]},wt.prototype.clear=function(){this._key=nn()},wt}();function nn(){var wt;do{wt="@@WeakMap@@"+Yt()}while(E.has(Kt,wt));return Kt[wt]=!0,wt}function gn(wt,bt){if(!t.call(wt,Rt)){if(!bt)return;Object.defineProperty(wt,Rt,{value:E.create()})}return wt[Rt]}function It(wt,bt){for(var Jt=0;Jt<bt;++Jt)wt[Jt]=255*Math.random()|0;return wt}function Yt(){var wt=function zt(wt){if("function"==typeof Uint8Array){var bt=new Uint8Array(wt);return typeof crypto<"u"?crypto.getRandomValues(bt):typeof msCrypto<"u"?msCrypto.getRandomValues(bt):It(bt,wt),bt}return It(new Array(wt),wt)}(yt);wt[6]=79&wt[6]|64,wt[8]=191&wt[8]|128;for(var bt="",Jt=0;Jt<yt;++Jt){var Dt=wt[Jt];(4===Jt||6===Jt||8===Jt)&&(bt+="-"),Dt<16&&(bt+="0"),bt+=Dt.toString(16).toLowerCase()}return bt}}(),T=u?Symbol.for("@reflect-metadata:registry"):void 0,A=function mt(){var yt;return!ne(T)&&ce(i.Reflect)&&Object.isExtensible(i.Reflect)&&(yt=i.Reflect[T]),ne(yt)&&(yt=function Zt(){var yt;!ne(T)&&typeof i.Reflect<"u"&&!(T in i.Reflect)&&"function"==typeof i.Reflect.defineMetadata&&(yt=function Ce(yt){var Kt=yt.defineMetadata,Rt=yt.hasOwnMetadata,nn=yt.getOwnMetadata,gn=yt.getOwnMetadataKeys,It=yt.deleteMetadata,zt=new R;return{isProviderFor:function(wt,bt){var Jt=zt.get(wt);return!(ne(Jt)||!Jt.has(bt))||!!gn(wt,bt).length&&(ne(Jt)&&(Jt=new I,zt.set(wt,Jt)),Jt.add(bt),!0)},OrdinaryDefineOwnMetadata:Kt,OrdinaryHasOwnMetadata:Rt,OrdinaryGetOwnMetadata:nn,OrdinaryOwnMetadataKeys:gn,OrdinaryDeleteMetadata:It}}(i.Reflect));var Kt,Rt,nn,gn=new R,It={registerProvider:zt,getProvider:wt,setProvider:Jt};return It;function zt(Dt){if(!Object.isExtensible(It))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case yt===Dt:break;case ne(Kt):Kt=Dt;break;case Kt===Dt:break;case ne(Rt):Rt=Dt;break;case Rt===Dt:break;default:void 0===nn&&(nn=new I),nn.add(Dt)}}function Yt(Dt,Ft){if(!ne(Kt)){if(Kt.isProviderFor(Dt,Ft))return Kt;if(!ne(Rt)){if(Rt.isProviderFor(Dt,Ft))return Kt;if(!ne(nn))for(var ot=pt(nn);;){var xe=Ne(ot);if(!xe)return;var Ve=Mt(xe);if(Ve.isProviderFor(Dt,Ft))return rt(ot),Ve}}}if(!ne(yt)&&yt.isProviderFor(Dt,Ft))return yt}function wt(Dt,Ft){var xe,ot=gn.get(Dt);return ne(ot)||(xe=ot.get(Ft)),ne(xe)&&(ne(xe=Yt(Dt,Ft))||(ne(ot)&&(ot=new C,gn.set(Dt,ot)),ot.set(Ft,xe))),xe}function bt(Dt){if(ne(Dt))throw new TypeError;return Kt===Dt||Rt===Dt||!ne(nn)&&nn.has(Dt)}function Jt(Dt,Ft,ot){if(!bt(ot))throw new Error("Metadata provider not registered.");var xe=wt(Dt,Ft);if(xe!==ot){if(!ne(xe))return!1;var Ve=gn.get(Dt);ne(Ve)&&(Ve=new C,gn.set(Dt,Ve)),Ve.set(Ft,ot)}return!0}}()),!ne(T)&&ce(i.Reflect)&&Object.isExtensible(i.Reflect)&&Object.defineProperty(i.Reflect,T,{enumerable:!1,configurable:!1,writable:!1,value:yt}),yt}(),p=function Pt(yt){var Kt=new R,Rt={isProviderFor:function(bt,Jt){var Dt=Kt.get(bt);return!ne(Dt)&&Dt.has(Jt)},OrdinaryDefineOwnMetadata:function zt(bt,Jt,Dt,Ft){nn(Dt,Ft,!0).set(bt,Jt)},OrdinaryHasOwnMetadata:function gn(bt,Jt,Dt){var Ft=nn(Jt,Dt,!1);return!ne(Ft)&&me(Ft.has(bt))},OrdinaryGetOwnMetadata:function It(bt,Jt,Dt){var Ft=nn(Jt,Dt,!1);if(!ne(Ft))return Ft.get(bt)},OrdinaryOwnMetadataKeys:function Yt(bt,Jt){var Dt=[],Ft=nn(bt,Jt,!1);if(ne(Ft))return Dt;for(var xe=pt(Ft.keys()),Ve=0;;){var Ke=Ne(xe);if(!Ke)return Dt.length=Ve,Dt;var Be=Mt(Ke);try{Dt[Ve]=Be}catch(At){try{rt(xe)}finally{throw At}}Ve++}},OrdinaryDeleteMetadata:function wt(bt,Jt,Dt){var Ft=nn(Jt,Dt,!1);if(ne(Ft)||!Ft.delete(bt))return!1;if(0===Ft.size){var ot=Kt.get(Jt);ne(ot)||(ot.delete(Dt),0===ot.size&&Kt.delete(ot))}return!0}};return A.registerProvider(Rt),Rt;function nn(bt,Jt,Dt){var Ft=Kt.get(bt),ot=!1;if(ne(Ft)){if(!Dt)return;Ft=new C,Kt.set(bt,Ft),ot=!0}var xe=Ft.get(Jt);if(ne(xe)){if(!Dt)return;if(xe=new C,Ft.set(Jt,xe),!yt.setProvider(bt,Jt,Rt))throw Ft.delete(Jt),ot&&Kt.delete(bt),new Error("Wrong provider for target.")}return xe}}(A);function q(yt,Kt,Rt){if(z(yt,Kt,Rt))return!0;var gn=Gt(Kt);return!fe(gn)&&q(yt,gn,Rt)}function z(yt,Kt,Rt){var nn=je(Kt,Rt,!1);return!ne(nn)&&me(nn.OrdinaryHasOwnMetadata(yt,Kt,Rt))}function te(yt,Kt,Rt){if(z(yt,Kt,Rt))return Z(yt,Kt,Rt);var gn=Gt(Kt);return fe(gn)?void 0:te(yt,gn,Rt)}function Z(yt,Kt,Rt){var nn=je(Kt,Rt,!1);if(!ne(nn))return nn.OrdinaryGetOwnMetadata(yt,Kt,Rt)}function J(yt,Kt,Rt,nn){je(Rt,nn,!0).OrdinaryDefineOwnMetadata(yt,Kt,Rt,nn)}function Q(yt,Kt){var Rt=ee(yt,Kt),nn=Gt(yt);if(null===nn)return Rt;var gn=Q(nn,Kt);if(gn.length<=0)return Rt;if(Rt.length<=0)return gn;for(var It=new I,zt=[],Yt=0,wt=Rt;Yt<wt.length;Yt++)It.has(bt=wt[Yt])||(It.add(bt),zt.push(bt));for(var Dt=0,Ft=gn;Dt<Ft.length;Dt++){var bt;It.has(bt=Ft[Dt])||(It.add(bt),zt.push(bt))}return zt}function ee(yt,Kt){var Rt=je(yt,Kt,!1);return Rt?Rt.OrdinaryOwnMetadataKeys(yt,Kt):[]}function le(yt){if(null===yt)return 1;switch(typeof yt){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===yt?1:6;default:return 6}}function ne(yt){return void 0===yt}function fe(yt){return null===yt}function ce(yt){return"object"==typeof yt?null!==yt:"function"==typeof yt}function De(yt,Kt){switch(le(yt)){case 0:case 1:case 2:case 3:case 4:case 5:return yt}var Rt=3===Kt?"string":5===Kt?"number":"default",nn=Ye(yt,e);if(void 0!==nn){var gn=nn.call(yt,Rt);if(ce(gn))throw new TypeError;return gn}return function be(yt,Kt){if("string"===Kt){var Rt=yt.toString;if(tt(Rt)&&!ce(nn=Rt.call(yt)))return nn;if(tt(gn=yt.valueOf)&&!ce(nn=gn.call(yt)))return nn}else{var gn;if(tt(gn=yt.valueOf)&&!ce(nn=gn.call(yt)))return nn;var nn,It=yt.toString;if(tt(It)&&!ce(nn=It.call(yt)))return nn}throw new TypeError}(yt,"default"===Rt?"number":Rt)}function me(yt){return!!yt}function Ee(yt){var Kt=De(yt,3);return function se(yt){return"symbol"==typeof yt}(Kt)?Kt:function re(yt){return""+yt}(Kt)}function Te(yt){return Array.isArray?Array.isArray(yt):yt instanceof Object?yt instanceof Array:"[object Array]"===Object.prototype.toString.call(yt)}function tt(yt){return"function"==typeof yt}function ht(yt){return"function"==typeof yt}function Et(yt,Kt){return yt===Kt||yt!=yt&&Kt!=Kt}function Ye(yt,Kt){var Rt=yt[Kt];if(null!=Rt){if(!tt(Rt))throw new TypeError;return Rt}}function pt(yt){var Kt=Ye(yt,h);if(!tt(Kt))throw new TypeError;var Rt=Kt.call(yt);if(!ce(Rt))throw new TypeError;return Rt}function Mt(yt){return yt.value}function Ne(yt){var Kt=yt.next();return!Kt.done&&Kt}function rt(yt){var Kt=yt.return;Kt&&Kt.call(yt)}function Gt(yt){var Kt=Object.getPrototypeOf(yt);if("function"!=typeof yt||yt===_||Kt!==_)return Kt;var Rt=yt.prototype,nn=Rt&&Object.getPrototypeOf(Rt);if(null==nn||nn===Object.prototype)return Kt;var gn=nn.constructor;return"function"!=typeof gn||gn===yt?Kt:gn}function je(yt,Kt,Rt){var nn=A.getProvider(yt,Kt);if(!ne(nn))return nn;if(Rt){if(A.setProvider(yt,Kt,p))return p;throw new Error("Illegal state.")}}function Pn(yt){return yt.__=void 0,delete yt.__,yt}n("decorate",function x(yt,Kt,Rt,nn){if(ne(Rt)){if(!Te(yt))throw new TypeError;if(!ht(Kt))throw new TypeError;return function Y(yt,Kt){for(var Rt=yt.length-1;Rt>=0;--Rt){var gn=(0,yt[Rt])(Kt);if(!ne(gn)&&!fe(gn)){if(!ht(gn))throw new TypeError;Kt=gn}}return Kt}(yt,Kt)}if(!Te(yt))throw new TypeError;if(!ce(Kt))throw new TypeError;if(!ce(nn)&&!ne(nn)&&!fe(nn))throw new TypeError;return fe(nn)&&(nn=void 0),function G(yt,Kt,Rt,nn){for(var gn=yt.length-1;gn>=0;--gn){var zt=(0,yt[gn])(Kt,Rt,nn);if(!ne(zt)&&!fe(zt)){if(!ce(zt))throw new TypeError;nn=zt}}return nn}(yt,Kt,Rt=Ee(Rt),nn)}),n("metadata",function O(yt,Kt){return function Rt(nn,gn){if(!ce(nn))throw new TypeError;if(!ne(gn)&&!function Fe(yt){switch(le(yt)){case 3:case 4:return!0;default:return!1}}(gn))throw new TypeError;J(yt,Kt,nn,gn)}}),n("defineMetadata",function w(yt,Kt,Rt,nn){if(!ce(Rt))throw new TypeError;return ne(nn)||(nn=Ee(nn)),J(yt,Kt,Rt,nn)}),n("hasMetadata",function M(yt,Kt,Rt){if(!ce(Kt))throw new TypeError;return ne(Rt)||(Rt=Ee(Rt)),q(yt,Kt,Rt)}),n("hasOwnMetadata",function L(yt,Kt,Rt){if(!ce(Kt))throw new TypeError;return ne(Rt)||(Rt=Ee(Rt)),z(yt,Kt,Rt)}),n("getMetadata",function B(yt,Kt,Rt){if(!ce(Kt))throw new TypeError;return ne(Rt)||(Rt=Ee(Rt)),te(yt,Kt,Rt)}),n("getOwnMetadata",function k(yt,Kt,Rt){if(!ce(Kt))throw new TypeError;return ne(Rt)||(Rt=Ee(Rt)),Z(yt,Kt,Rt)}),n("getMetadataKeys",function W(yt,Kt){if(!ce(yt))throw new TypeError;return ne(Kt)||(Kt=Ee(Kt)),Q(yt,Kt)}),n("getOwnMetadataKeys",function U(yt,Kt){if(!ce(yt))throw new TypeError;return ne(Kt)||(Kt=Ee(Kt)),ee(yt,Kt)}),n("deleteMetadata",function K(yt,Kt,Rt){if(!ce(Kt))throw new TypeError;if(ne(Rt)||(Rt=Ee(Rt)),!ce(Kt))throw new TypeError;ne(Rt)||(Rt=Ee(Rt));var nn=je(Kt,Rt,!1);return!ne(nn)&&nn.OrdinaryDeleteMetadata(yt,Kt,Rt)})}(t,i),typeof i.Reflect>"u"&&(i.Reflect=D)}()},24994:F=>{F.exports=function D(n){return n&&n.__esModule?n:{default:n}},F.exports.__esModule=!0,F.exports.default=F.exports},73738:F=>{function D(n){return F.exports=D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},F.exports.__esModule=!0,F.exports.default=F.exports,D(n)}F.exports=D,F.exports.__esModule=!0,F.exports.default=F.exports},82374:(F,D,n)=>{"use strict";n(26099),n(39796),n(60825),n(87411),n(21211),n(40888),n(9065),n(86565),n(32812),n(84634),n(71137),n(30985),n(34268),n(34873),n(15472);var i=n(19167);F.exports=i.Reflect},79306:(F,D,n)=>{"use strict";var i=n(94901),t=n(16823),u=TypeError;F.exports=function(e){if(i(e))return e;throw new u(t(e)+" is not a function")}},35548:(F,D,n)=>{"use strict";var i=n(33517),t=n(16823),u=TypeError;F.exports=function(e){if(i(e))return e;throw new u(t(e)+" is not a constructor")}},73506:(F,D,n)=>{"use strict";var i=n(13925),t=String,u=TypeError;F.exports=function(e){if(i(e))return e;throw new u("Can't set "+t(e)+" as a prototype")}},28551:(F,D,n)=>{"use strict";var i=n(20034),t=String,u=TypeError;F.exports=function(e){if(i(e))return e;throw new u(t(e)+" is not an object")}},15652:(F,D,n)=>{"use strict";var i=n(79039);F.exports=i(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})},19617:(F,D,n)=>{"use strict";var i=n(25397),t=n(35610),u=n(26198),e=function(h){return function(m,f,v){var E=i(m),_=u(E);if(0===_)return!h&&-1;var I,C=t(v,_);if(h&&f!=f){for(;_>C;)if((I=E[C++])!=I)return!0}else for(;_>C;C++)if((h||C in E)&&E[C]===f)return h||C||0;return!h&&-1}};F.exports={includes:e(!0),indexOf:e(!1)}},67680:(F,D,n)=>{"use strict";var i=n(79504);F.exports=i([].slice)},22195:(F,D,n)=>{"use strict";var i=n(79504),t=i({}.toString),u=i("".slice);F.exports=function(e){return u(t(e),8,-1)}},36955:(F,D,n)=>{"use strict";var i=n(92140),t=n(94901),u=n(22195),h=n(78227)("toStringTag"),m=Object,f="Arguments"===u(function(){return arguments}());F.exports=i?u:function(E){var _,C,I;return void 0===E?"Undefined":null===E?"Null":"string"==typeof(C=function(E,_){try{return E[_]}catch{}}(_=m(E),h))?C:f?u(_):"Object"===(I=u(_))&&t(_.callee)?"Arguments":I}},77740:(F,D,n)=>{"use strict";var i=n(39297),t=n(35031),u=n(77347),e=n(24913);F.exports=function(h,m,f){for(var v=t(m),E=e.f,_=u.f,C=0;C<v.length;C++){var I=v[C];!i(h,I)&&(!f||!i(f,I))&&E(h,I,_(m,I))}}},12211:(F,D,n)=>{"use strict";var i=n(79039);F.exports=!i(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},66699:(F,D,n)=>{"use strict";var i=n(43724),t=n(24913),u=n(6980);F.exports=i?function(e,h,m){return t.f(e,h,u(1,m))}:function(e,h,m){return e[h]=m,e}},6980:F=>{"use strict";F.exports=function(D,n){return{enumerable:!(1&D),configurable:!(2&D),writable:!(4&D),value:n}}},36840:(F,D,n)=>{"use strict";var i=n(94901),t=n(24913),u=n(50283),e=n(39433);F.exports=function(h,m,f,v){v||(v={});var E=v.enumerable,_=void 0!==v.name?v.name:m;if(i(f)&&u(f,_,v),v.global)E?h[m]=f:e(m,f);else{try{v.unsafe?h[m]&&(E=!0):delete h[m]}catch{}E?h[m]=f:t.f(h,m,{value:f,enumerable:!1,configurable:!v.nonConfigurable,writable:!v.nonWritable})}return h}},39433:(F,D,n)=>{"use strict";var i=n(44576),t=Object.defineProperty;F.exports=function(u,e){try{t(i,u,{value:e,configurable:!0,writable:!0})}catch{i[u]=e}return e}},43724:(F,D,n)=>{"use strict";var i=n(79039);F.exports=!i(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},4055:(F,D,n)=>{"use strict";var i=n(44576),t=n(20034),u=i.document,e=t(u)&&t(u.createElement);F.exports=function(h){return e?u.createElement(h):{}}},88727:F=>{"use strict";F.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},82839:(F,D,n)=>{"use strict";var t=n(44576).navigator,u=t&&t.userAgent;F.exports=u?String(u):""},39519:(F,D,n)=>{"use strict";var f,v,i=n(44576),t=n(82839),u=i.process,e=i.Deno,h=u&&u.versions||e&&e.version,m=h&&h.v8;m&&(v=(f=m.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!v&&t&&(!(f=t.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=t.match(/Chrome\/(\d+)/))&&(v=+f[1]),F.exports=v},46518:(F,D,n)=>{"use strict";var i=n(44576),t=n(77347).f,u=n(66699),e=n(36840),h=n(39433),m=n(77740),f=n(92796);F.exports=function(v,E){var T,A,p,x,O,_=v.target,C=v.global,I=v.stat;if(T=C?i:I?i[_]||h(_,{}):i[_]&&i[_].prototype)for(A in E){if(x=E[A],p=v.dontCallGetSet?(O=t(T,A))&&O.value:T[A],!f(C?A:_+(I?".":"#")+A,v.forced)&&void 0!==p){if(typeof x==typeof p)continue;m(x,p)}(v.sham||p&&p.sham)&&u(x,"sham",!0),e(T,A,x,v)}}},79039:F=>{"use strict";F.exports=function(D){try{return!!D()}catch{return!0}}},92744:(F,D,n)=>{"use strict";var i=n(79039);F.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},18745:(F,D,n)=>{"use strict";var i=n(40616),t=Function.prototype,u=t.apply,e=t.call;F.exports="object"==typeof Reflect&&Reflect.apply||(i?e.bind(u):function(){return e.apply(u,arguments)})},40616:(F,D,n)=>{"use strict";var i=n(79039);F.exports=!i(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})},30566:(F,D,n)=>{"use strict";var i=n(79504),t=n(79306),u=n(20034),e=n(39297),h=n(67680),m=n(40616),f=Function,v=i([].concat),E=i([].join),_={};F.exports=m?f.bind:function(R){var T=t(this),A=T.prototype,p=h(arguments,1),x=function(){var w=v(p,h(arguments));return this instanceof x?function(I,R,T){if(!e(_,R)){for(var A=[],p=0;p<R;p++)A[p]="a["+p+"]";_[R]=f("C,a","return new C("+E(A,",")+")")}return _[R](I,T)}(T,w.length,w):T.apply(R,w)};return u(A)&&(x.prototype=A),x}},69565:(F,D,n)=>{"use strict";var i=n(40616),t=Function.prototype.call;F.exports=i?t.bind(t):function(){return t.apply(t,arguments)}},10350:(F,D,n)=>{"use strict";var i=n(43724),t=n(39297),u=Function.prototype,e=i&&Object.getOwnPropertyDescriptor,h=t(u,"name"),m=h&&"something"===function(){}.name,f=h&&(!i||i&&e(u,"name").configurable);F.exports={EXISTS:h,PROPER:m,CONFIGURABLE:f}},46706:(F,D,n)=>{"use strict";var i=n(79504),t=n(79306);F.exports=function(u,e,h){try{return i(t(Object.getOwnPropertyDescriptor(u,e)[h]))}catch{}}},79504:(F,D,n)=>{"use strict";var i=n(40616),t=Function.prototype,u=t.call,e=i&&t.bind.bind(u,u);F.exports=i?e:function(h){return function(){return u.apply(h,arguments)}}},97751:(F,D,n)=>{"use strict";var i=n(44576),t=n(94901);F.exports=function(e,h){return arguments.length<2?function(e){return t(e)?e:void 0}(i[e]):i[e]&&i[e][h]}},55966:(F,D,n)=>{"use strict";var i=n(79306),t=n(64117);F.exports=function(u,e){var h=u[e];return t(h)?void 0:i(h)}},44576:function(F){"use strict";var D=function(n){return n&&n.Math===Math&&n};F.exports=D("object"==typeof globalThis&&globalThis)||D("object"==typeof window&&window)||D("object"==typeof self&&self)||D("object"==typeof global&&global)||D("object"==typeof this&&this)||function(){return this}()||Function("return this")()},39297:(F,D,n)=>{"use strict";var i=n(79504),t=n(48981),u=i({}.hasOwnProperty);F.exports=Object.hasOwn||function(h,m){return u(t(h),m)}},30421:F=>{"use strict";F.exports={}},20397:(F,D,n)=>{"use strict";var i=n(97751);F.exports=i("document","documentElement")},35917:(F,D,n)=>{"use strict";var i=n(43724),t=n(79039),u=n(4055);F.exports=!i&&!t(function(){return 7!==Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a})},47055:(F,D,n)=>{"use strict";var i=n(79504),t=n(79039),u=n(22195),e=Object,h=i("".split);F.exports=t(function(){return!e("z").propertyIsEnumerable(0)})?function(m){return"String"===u(m)?h(m,""):e(m)}:e},33706:(F,D,n)=>{"use strict";var i=n(79504),t=n(94901),u=n(77629),e=i(Function.toString);t(u.inspectSource)||(u.inspectSource=function(h){return e(h)}),F.exports=u.inspectSource},91181:(F,D,n)=>{"use strict";var I,R,T,i=n(58622),t=n(44576),u=n(20034),e=n(66699),h=n(39297),m=n(77629),f=n(66119),v=n(30421),E="Object already initialized",_=t.TypeError;if(i||m.state){var x=m.state||(m.state=new(0,t.WeakMap));x.get=x.get,x.has=x.has,x.set=x.set,I=function(w,M){if(x.has(w))throw new _(E);return M.facade=w,x.set(w,M),M},R=function(w){return x.get(w)||{}},T=function(w){return x.has(w)}}else{var O=f("state");v[O]=!0,I=function(w,M){if(h(w,O))throw new _(E);return M.facade=w,e(w,O,M),M},R=function(w){return h(w,O)?w[O]:{}},T=function(w){return h(w,O)}}F.exports={set:I,get:R,has:T,enforce:function(w){return T(w)?R(w):I(w,{})},getterFor:function(w){return function(M){var L;if(!u(M)||(L=R(M)).type!==w)throw new _("Incompatible receiver, "+w+" required");return L}}}},94901:F=>{"use strict";var D="object"==typeof document&&document.all;F.exports=typeof D>"u"&&void 0!==D?function(n){return"function"==typeof n||n===D}:function(n){return"function"==typeof n}},33517:(F,D,n)=>{"use strict";var i=n(79504),t=n(79039),u=n(94901),e=n(36955),h=n(97751),m=n(33706),f=function(){},v=h("Reflect","construct"),E=/^\s*(?:class|function)\b/,_=i(E.exec),C=!E.test(f),I=function(A){if(!u(A))return!1;try{return v(f,[],A),!0}catch{return!1}},R=function(A){if(!u(A))return!1;switch(e(A)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return C||!!_(E,m(A))}catch{return!0}};R.sham=!0,F.exports=!v||t(function(){var T;return I(I.call)||!I(Object)||!I(function(){T=!0})||T})?R:I},16575:(F,D,n)=>{"use strict";var i=n(39297);F.exports=function(t){return void 0!==t&&(i(t,"value")||i(t,"writable"))}},92796:(F,D,n)=>{"use strict";var i=n(79039),t=n(94901),u=/#|\.prototype\./,e=function(E,_){var C=m[h(E)];return C===v||C!==f&&(t(_)?i(_):!!_)},h=e.normalize=function(E){return String(E).replace(u,".").toLowerCase()},m=e.data={},f=e.NATIVE="N",v=e.POLYFILL="P";F.exports=e},64117:F=>{"use strict";F.exports=function(D){return null==D}},20034:(F,D,n)=>{"use strict";var i=n(94901);F.exports=function(t){return"object"==typeof t?null!==t:i(t)}},13925:(F,D,n)=>{"use strict";var i=n(20034);F.exports=function(t){return i(t)||null===t}},96395:F=>{"use strict";F.exports=!1},10757:(F,D,n)=>{"use strict";var i=n(97751),t=n(94901),u=n(1625),e=n(7040),h=Object;F.exports=e?function(m){return"symbol"==typeof m}:function(m){var f=i("Symbol");return t(f)&&u(f.prototype,h(m))}},26198:(F,D,n)=>{"use strict";var i=n(18014);F.exports=function(t){return i(t.length)}},50283:(F,D,n)=>{"use strict";var i=n(79504),t=n(79039),u=n(94901),e=n(39297),h=n(43724),m=n(10350).CONFIGURABLE,f=n(33706),v=n(91181),E=v.enforce,_=v.get,C=String,I=Object.defineProperty,R=i("".slice),T=i("".replace),A=i([].join),p=h&&!t(function(){return 8!==I(function(){},"length",{value:8}).length}),x=String(String).split("String"),O=F.exports=function(w,M,L){"Symbol("===R(C(M),0,7)&&(M="["+T(C(M),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),L&&L.getter&&(M="get "+M),L&&L.setter&&(M="set "+M),(!e(w,"name")||m&&w.name!==M)&&(h?I(w,"name",{value:M,configurable:!0}):w.name=M),p&&L&&e(L,"arity")&&w.length!==L.arity&&I(w,"length",{value:L.arity});try{L&&e(L,"constructor")&&L.constructor?h&&I(w,"prototype",{writable:!1}):w.prototype&&(w.prototype=void 0)}catch{}var B=E(w);return e(B,"source")||(B.source=A(x,"string"==typeof M?M:"")),w};Function.prototype.toString=O(function(){return u(this)&&_(this).source||f(this)},"toString")},80741:F=>{"use strict";var D=Math.ceil,n=Math.floor;F.exports=Math.trunc||function(t){var u=+t;return(u>0?n:D)(u)}},2360:(F,D,n)=>{"use strict";var x,i=n(28551),t=n(96801),u=n(88727),e=n(30421),h=n(20397),m=n(4055),f=n(66119),_="prototype",C="script",I=f("IE_PROTO"),R=function(){},T=function(w){return"<"+C+">"+w+"</"+C+">"},A=function(w){w.write(T("")),w.close();var M=w.parentWindow.Object;return w=null,M},O=function(){try{x=new ActiveXObject("htmlfile")}catch{}O=typeof document<"u"?document.domain&&x?A(x):function(){var L,w=m("iframe"),M="java"+C+":";return w.style.display="none",h.appendChild(w),w.src=String(M),(L=w.contentWindow.document).open(),L.write(T("document.F=Object")),L.close(),L.F}():A(x);for(var w=u.length;w--;)delete O[_][u[w]];return O()};e[I]=!0,F.exports=Object.create||function(M,L){var B;return null!==M?(R[_]=i(M),B=new R,R[_]=null,B[I]=M):B=O(),void 0===L?B:t.f(B,L)}},96801:(F,D,n)=>{"use strict";var i=n(43724),t=n(48686),u=n(24913),e=n(28551),h=n(25397),m=n(71072);D.f=i&&!t?Object.defineProperties:function(v,E){e(v);for(var T,_=h(E),C=m(E),I=C.length,R=0;I>R;)u.f(v,T=C[R++],_[T]);return v}},24913:(F,D,n)=>{"use strict";var i=n(43724),t=n(35917),u=n(48686),e=n(28551),h=n(56969),m=TypeError,f=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E="enumerable",_="configurable",C="writable";D.f=i?u?function(R,T,A){if(e(R),T=h(T),e(A),"function"==typeof R&&"prototype"===T&&"value"in A&&C in A&&!A[C]){var p=v(R,T);p&&p[C]&&(R[T]=A.value,A={configurable:_ in A?A[_]:p[_],enumerable:E in A?A[E]:p[E],writable:!1})}return f(R,T,A)}:f:function(R,T,A){if(e(R),T=h(T),e(A),t)try{return f(R,T,A)}catch{}if("get"in A||"set"in A)throw new m("Accessors not supported");return"value"in A&&(R[T]=A.value),R}},77347:(F,D,n)=>{"use strict";var i=n(43724),t=n(69565),u=n(48773),e=n(6980),h=n(25397),m=n(56969),f=n(39297),v=n(35917),E=Object.getOwnPropertyDescriptor;D.f=i?E:function(C,I){if(C=h(C),I=m(I),v)try{return E(C,I)}catch{}if(f(C,I))return e(!t(u.f,C,I),C[I])}},38480:(F,D,n)=>{"use strict";var i=n(61828),u=n(88727).concat("length","prototype");D.f=Object.getOwnPropertyNames||function(h){return i(h,u)}},33717:(F,D)=>{"use strict";D.f=Object.getOwnPropertySymbols},42787:(F,D,n)=>{"use strict";var i=n(39297),t=n(94901),u=n(48981),e=n(66119),h=n(12211),m=e("IE_PROTO"),f=Object,v=f.prototype;F.exports=h?f.getPrototypeOf:function(E){var _=u(E);if(i(_,m))return _[m];var C=_.constructor;return t(C)&&_ instanceof C?C.prototype:_ instanceof f?v:null}},34124:(F,D,n)=>{"use strict";var i=n(79039),t=n(20034),u=n(22195),e=n(15652),h=Object.isExtensible,m=i(function(){h(1)});F.exports=m||e?function(v){return!(!t(v)||e&&"ArrayBuffer"===u(v))&&(!h||h(v))}:h},1625:(F,D,n)=>{"use strict";var i=n(79504);F.exports=i({}.isPrototypeOf)},61828:(F,D,n)=>{"use strict";var i=n(79504),t=n(39297),u=n(25397),e=n(19617).indexOf,h=n(30421),m=i([].push);F.exports=function(f,v){var I,E=u(f),_=0,C=[];for(I in E)!t(h,I)&&t(E,I)&&m(C,I);for(;v.length>_;)t(E,I=v[_++])&&(~e(C,I)||m(C,I));return C}},71072:(F,D,n)=>{"use strict";var i=n(61828),t=n(88727);F.exports=Object.keys||function(e){return i(e,t)}},48773:(F,D)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,t=i&&!n.call({1:2},1);D.f=t?function(e){var h=i(this,e);return!!h&&h.enumerable}:n},52967:(F,D,n)=>{"use strict";var i=n(46706),t=n(20034),u=n(67750),e=n(73506);F.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f,h=!1,m={};try{(f=i(Object.prototype,"__proto__","set"))(m,[]),h=m instanceof Array}catch{}return function(E,_){return u(E),e(_),t(E)&&(h?f(E,_):E.__proto__=_),E}}():void 0)},53179:(F,D,n)=>{"use strict";var i=n(92140),t=n(36955);F.exports=i?{}.toString:function(){return"[object "+t(this)+"]"}},84270:(F,D,n)=>{"use strict";var i=n(69565),t=n(94901),u=n(20034),e=TypeError;F.exports=function(h,m){var f,v;if("string"===m&&t(f=h.toString)&&!u(v=i(f,h))||t(f=h.valueOf)&&!u(v=i(f,h))||"string"!==m&&t(f=h.toString)&&!u(v=i(f,h)))return v;throw new e("Can't convert object to primitive value")}},35031:(F,D,n)=>{"use strict";var i=n(97751),t=n(79504),u=n(38480),e=n(33717),h=n(28551),m=t([].concat);F.exports=i("Reflect","ownKeys")||function(v){var E=u.f(h(v)),_=e.f;return _?m(E,_(v)):E}},19167:(F,D,n)=>{"use strict";var i=n(44576);F.exports=i},67750:(F,D,n)=>{"use strict";var i=n(64117),t=TypeError;F.exports=function(u){if(i(u))throw new t("Can't call method on "+u);return u}},10687:(F,D,n)=>{"use strict";var i=n(24913).f,t=n(39297),e=n(78227)("toStringTag");F.exports=function(h,m,f){h&&!f&&(h=h.prototype),h&&!t(h,e)&&i(h,e,{configurable:!0,value:m})}},66119:(F,D,n)=>{"use strict";var i=n(25745),t=n(33392),u=i("keys");F.exports=function(e){return u[e]||(u[e]=t(e))}},77629:(F,D,n)=>{"use strict";var i=n(96395),t=n(44576),u=n(39433),e="__core-js_shared__",h=F.exports=t[e]||u(e,{});(h.versions||(h.versions=[])).push({version:"3.41.0",mode:i?"pure":"global",copyright:"\xa9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})},25745:(F,D,n)=>{"use strict";var i=n(77629);F.exports=function(t,u){return i[t]||(i[t]=u||{})}},4495:(F,D,n)=>{"use strict";var i=n(39519),t=n(79039),e=n(44576).String;F.exports=!!Object.getOwnPropertySymbols&&!t(function(){var h=Symbol("symbol detection");return!e(h)||!(Object(h)instanceof Symbol)||!Symbol.sham&&i&&i<41})},35610:(F,D,n)=>{"use strict";var i=n(91291),t=Math.max,u=Math.min;F.exports=function(e,h){var m=i(e);return m<0?t(m+h,0):u(m,h)}},25397:(F,D,n)=>{"use strict";var i=n(47055),t=n(67750);F.exports=function(u){return i(t(u))}},91291:(F,D,n)=>{"use strict";var i=n(80741);F.exports=function(t){var u=+t;return u!=u||0===u?0:i(u)}},18014:(F,D,n)=>{"use strict";var i=n(91291),t=Math.min;F.exports=function(u){var e=i(u);return e>0?t(e,9007199254740991):0}},48981:(F,D,n)=>{"use strict";var i=n(67750),t=Object;F.exports=function(u){return t(i(u))}},72777:(F,D,n)=>{"use strict";var i=n(69565),t=n(20034),u=n(10757),e=n(55966),h=n(84270),m=n(78227),f=TypeError,v=m("toPrimitive");F.exports=function(E,_){if(!t(E)||u(E))return E;var I,C=e(E,v);if(C){if(void 0===_&&(_="default"),I=i(C,E,_),!t(I)||u(I))return I;throw new f("Can't convert object to primitive value")}return void 0===_&&(_="number"),h(E,_)}},56969:(F,D,n)=>{"use strict";var i=n(72777),t=n(10757);F.exports=function(u){var e=i(u,"string");return t(e)?e:e+""}},92140:(F,D,n)=>{"use strict";var u={};u[n(78227)("toStringTag")]="z",F.exports="[object z]"===String(u)},16823:F=>{"use strict";var D=String;F.exports=function(n){try{return D(n)}catch{return"Object"}}},33392:(F,D,n)=>{"use strict";var i=n(79504),t=0,u=Math.random(),e=i(1..toString);F.exports=function(h){return"Symbol("+(void 0===h?"":h)+")_"+e(++t+u,36)}},7040:(F,D,n)=>{"use strict";var i=n(4495);F.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},48686:(F,D,n)=>{"use strict";var i=n(43724),t=n(79039);F.exports=i&&t(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},58622:(F,D,n)=>{"use strict";var i=n(44576),t=n(94901),u=i.WeakMap;F.exports=t(u)&&/native code/.test(String(u))},78227:(F,D,n)=>{"use strict";var i=n(44576),t=n(25745),u=n(39297),e=n(33392),h=n(4495),m=n(7040),f=i.Symbol,v=t("wks"),E=m?f.for||f:f&&f.withoutSetter||e;F.exports=function(_){return u(v,_)||(v[_]=h&&u(f,_)?f[_]:E("Symbol."+_)),v[_]}},26099:(F,D,n)=>{"use strict";var i=n(92140),t=n(36840),u=n(53179);i||t(Object.prototype,"toString",u,{unsafe:!0})},39796:(F,D,n)=>{"use strict";var i=n(46518),t=n(18745),u=n(79306),e=n(28551);i({target:"Reflect",stat:!0,forced:!n(79039)(function(){Reflect.apply(function(){})})},{apply:function(v,E,_){return t(u(v),E,e(_))}})},60825:(F,D,n)=>{"use strict";var i=n(46518),t=n(97751),u=n(18745),e=n(30566),h=n(35548),m=n(28551),f=n(20034),v=n(2360),E=n(79039),_=t("Reflect","construct"),C=Object.prototype,I=[].push,R=E(function(){function p(){}return!(_(function(){},[],p)instanceof p)}),T=!E(function(){_(function(){})}),A=R||T;i({target:"Reflect",stat:!0,forced:A,sham:A},{construct:function(x,O){h(x),m(O);var w=arguments.length<3?x:h(arguments[2]);if(T&&!R)return _(x,O,w);if(x===w){switch(O.length){case 0:return new x;case 1:return new x(O[0]);case 2:return new x(O[0],O[1]);case 3:return new x(O[0],O[1],O[2]);case 4:return new x(O[0],O[1],O[2],O[3])}var M=[null];return u(I,M,O),new(u(e,x,M))}var L=w.prototype,B=v(f(L)?L:C),k=u(x,B,O);return f(k)?k:B}})},87411:(F,D,n)=>{"use strict";var i=n(46518),t=n(43724),u=n(28551),e=n(56969),h=n(24913);i({target:"Reflect",stat:!0,forced:n(79039)(function(){Reflect.defineProperty(h.f({},1,{value:1}),1,{value:2})}),sham:!t},{defineProperty:function(E,_,C){u(E);var I=e(_);u(C);try{return h.f(E,I,C),!0}catch{return!1}}})},21211:(F,D,n)=>{"use strict";var i=n(46518),t=n(28551),u=n(77347).f;i({target:"Reflect",stat:!0},{deleteProperty:function(h,m){var f=u(t(h),m);return!(f&&!f.configurable)&&delete h[m]}})},9065:(F,D,n)=>{"use strict";var i=n(46518),t=n(43724),u=n(28551),e=n(77347);i({target:"Reflect",stat:!0,sham:!t},{getOwnPropertyDescriptor:function(m,f){return e.f(u(m),f)}})},86565:(F,D,n)=>{"use strict";var i=n(46518),t=n(28551),u=n(42787);i({target:"Reflect",stat:!0,sham:!n(12211)},{getPrototypeOf:function(m){return u(t(m))}})},40888:(F,D,n)=>{"use strict";var i=n(46518),t=n(69565),u=n(20034),e=n(28551),h=n(16575),m=n(77347),f=n(42787);i({target:"Reflect",stat:!0},{get:function v(E,_){var I,R,C=arguments.length<3?E:arguments[2];return e(E)===C?E[_]:(I=m.f(E,_))?h(I)?I.value:void 0===I.get?void 0:t(I.get,C):u(R=f(E))?v(R,_,C):void 0}})},32812:(F,D,n)=>{"use strict";n(46518)({target:"Reflect",stat:!0},{has:function(u,e){return e in u}})},84634:(F,D,n)=>{"use strict";var i=n(46518),t=n(28551),u=n(34124);i({target:"Reflect",stat:!0},{isExtensible:function(h){return t(h),u(h)}})},71137:(F,D,n)=>{"use strict";n(46518)({target:"Reflect",stat:!0},{ownKeys:n(35031)})},30985:(F,D,n)=>{"use strict";var i=n(46518),t=n(97751),u=n(28551);i({target:"Reflect",stat:!0,sham:!n(92744)},{preventExtensions:function(m){u(m);try{var f=t("Object","preventExtensions");return f&&f(m),!0}catch{return!1}}})},34873:(F,D,n)=>{"use strict";var i=n(46518),t=n(28551),u=n(73506),e=n(52967);e&&i({target:"Reflect",stat:!0},{setPrototypeOf:function(m,f){t(m),u(f);try{return e(m,f),!0}catch{return!1}}})},34268:(F,D,n)=>{"use strict";var i=n(46518),t=n(69565),u=n(28551),e=n(20034),h=n(16575),m=n(79039),f=n(24913),v=n(77347),E=n(42787),_=n(6980);i({target:"Reflect",stat:!0,forced:m(function(){var R=function(){},T=f.f(new R,"a",{configurable:!0});return!1!==Reflect.set(R.prototype,"a",1,T)})},{set:function C(R,T,A){var O,w,M,p=arguments.length<4?R:arguments[3],x=v.f(u(R),T);if(!x){if(e(w=E(R)))return C(w,T,A,p);x=_(0)}if(h(x)){if(!1===x.writable||!e(p))return!1;if(O=v.f(p,T)){if(O.get||O.set||!1===O.writable)return!1;O.value=A,f.f(p,T,O)}else f.f(p,T,_(0,A))}else{if(void 0===(M=x.set))return!1;t(M,p,A)}return!0}})},15472:(F,D,n)=>{"use strict";var i=n(46518),t=n(44576),u=n(10687);i({global:!0},{Reflect:{}}),u(t.Reflect,"Reflect",!0)},74523:(F,D,n)=>{"use strict";function i(u,e,h,m,f,v,E){try{var _=u[v](E),C=_.value}catch(I){return void h(I)}_.done?e(C):Promise.resolve(C).then(m,f)}function t(u){return function(){var e=this,h=arguments;return new Promise(function(m,f){var v=u.apply(e,h);function E(C){i(v,m,f,E,_,"next",C)}function _(C){i(v,m,f,E,_,"throw",C)}E(void 0)})}}n.d(D,{A:()=>t})},49969:(F,D,n)=>{"use strict";n.d(D,{FX:()=>K,If:()=>i,K2:()=>m,MA:()=>I,Os:()=>h,P:()=>T,hZ:()=>u,i0:()=>e,iF:()=>f,kY:()=>_,kp:()=>t,sf:()=>W,ui:()=>U,wk:()=>v});var i=function(Y){return Y[Y.State=0]="State",Y[Y.Transition=1]="Transition",Y[Y.Sequence=2]="Sequence",Y[Y.Group=3]="Group",Y[Y.Animate=4]="Animate",Y[Y.Keyframes=5]="Keyframes",Y[Y.Style=6]="Style",Y[Y.Trigger=7]="Trigger",Y[Y.Reference=8]="Reference",Y[Y.AnimateChild=9]="AnimateChild",Y[Y.AnimateRef=10]="AnimateRef",Y[Y.Query=11]="Query",Y[Y.Stagger=12]="Stagger",Y}(i||{});const t="*";function u(Y,G){return{type:i.Trigger,name:Y,definitions:G,options:{}}}function e(Y,G=null){return{type:i.Animate,styles:G,timings:Y}}function h(Y,G=null){return{type:i.Group,steps:Y,options:G}}function m(Y,G=null){return{type:i.Sequence,steps:Y,options:G}}function f(Y){return{type:i.Style,styles:Y,offset:null}}function v(Y,G,q){return{type:i.State,name:Y,styles:G,options:q}}function _(Y,G,q=null){return{type:i.Transition,expr:Y,animation:G,options:q}}function I(Y=null){return{type:i.AnimateChild,options:Y}}function T(Y,G,q=null){return{type:i.Query,selector:Y,animation:G,options:q}}class W{constructor(G=0,q=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=G+q}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(G=>G()),this._onDoneFns=[])}onStart(G){this._originalOnStartFns.push(G),this._onStartFns.push(G)}onDone(G){this._originalOnDoneFns.push(G),this._onDoneFns.push(G)}onDestroy(G){this._onDestroyFns.push(G)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(G=>G()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(G=>G()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(G){this._position=this.totalTime?G*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(G){const q="start"==G?this._onStartFns:this._onDoneFns;q.forEach(z=>z()),q.length=0}}class U{constructor(G){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=G;let q=0,z=0,te=0;const Z=this.players.length;0==Z?queueMicrotask(()=>this._onFinish()):this.players.forEach(J=>{J.onDone(()=>{++q==Z&&this._onFinish()}),J.onDestroy(()=>{++z==Z&&this._onDestroy()}),J.onStart(()=>{++te==Z&&this._onStart()})}),this.totalTime=this.players.reduce((J,Q)=>Math.max(J,Q.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(G=>G()),this._onDoneFns=[])}init(){this.players.forEach(G=>G.init())}onStart(G){this._onStartFns.push(G)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(G=>G()),this._onStartFns=[])}onDone(G){this._onDoneFns.push(G)}onDestroy(G){this._onDestroyFns.push(G)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(G=>G.play())}pause(){this.players.forEach(G=>G.pause())}restart(){this.players.forEach(G=>G.restart())}finish(){this._onFinish(),this.players.forEach(G=>G.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(G=>G.destroy()),this._onDestroyFns.forEach(G=>G()),this._onDestroyFns=[])}reset(){this.players.forEach(G=>G.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(G){const q=G*this.totalTime;this.players.forEach(z=>{const te=z.totalTime?Math.min(1,q/z.totalTime):1;z.setPosition(te)})}getPosition(){const G=this.players.reduce((q,z)=>null===q||z.totalTime>q.totalTime?z:q,null);return null!=G?G.getPosition():0}beforeDestroy(){this.players.forEach(G=>{G.beforeDestroy&&G.beforeDestroy()})}triggerCallback(G){const q="start"==G?this._onStartFns:this._onDoneFns;q.forEach(z=>z()),q.length=0}}const K="!"},28203:(F,D,n)=>{"use strict";n.d(D,{dS:()=>f});var i=n(54438),t=n(60177);const u=new i.nKC("cdk-dir-doc",{providedIn:"root",factory:function e(){return(0,i.WQX)(t.qQ)}}),h=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let f=(()=>{class _{constructor(I){this.value="ltr",this.change=new i.bkB,I&&(this.value=function m(_){const C=_?.toLowerCase()||"";return"auto"===C&&typeof navigator<"u"&&navigator?.language?h.test(navigator.language)?"rtl":"ltr":"rtl"===C?"rtl":"ltr"}((I.body?I.body.dir:null)||(I.documentElement?I.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(R){return new(R||_)(i.KVO(u,8))}}static{this.\u0275prov=i.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},52717:(F,D,n)=>{"use strict";n.d(D,{T1:()=>kr,Fb:()=>Wo,O7:()=>Ul,HD:()=>$s});var i=n(54438),t=n(60177);function e(Se,ye=0){return function h(Se){return!isNaN(parseFloat(Se))&&!isNaN(Number(Se))}(Se)?Number(Se):ye}function v(Se){return Se instanceof i.aKT?Se.nativeElement:Se}var _=n(21413),C=n(7673),I=n(71985),R=n(33726),T=n(96780),A=n(18359);const p={schedule(Se){let ye=requestAnimationFrame,ae=cancelAnimationFrame;const{delegate:Pe}=p;Pe&&(ye=Pe.requestAnimationFrame,ae=Pe.cancelAnimationFrame);const nt=ye(jt=>{ae=void 0,Se(jt)});return new A.yU(()=>ae?.(nt))},requestAnimationFrame(...Se){const{delegate:ye}=p;return(ye?.requestAnimationFrame||requestAnimationFrame)(...Se)},cancelAnimationFrame(...Se){const{delegate:ye}=p;return(ye?.cancelAnimationFrame||cancelAnimationFrame)(...Se)},delegate:void 0};var O=n(39687);const M=new class w extends O.q{flush(ye){let ae;this._active=!0,ye?ae=ye.id:(ae=this._scheduled,this._scheduled=void 0);const{actions:Pe}=this;let nt;ye=ye||Pe.shift();do{if(nt=ye.execute(ye.state,ye.delay))break}while((ye=Pe[0])&&ye.id===ae&&Pe.shift());if(this._active=!1,nt){for(;(ye=Pe[0])&&ye.id===ae&&Pe.shift();)ye.unsubscribe();throw nt}}}(class x extends T.R{constructor(ye,ae){super(ye,ae),this.scheduler=ye,this.work=ae}requestAsyncId(ye,ae,Pe=0){return null!==Pe&&Pe>0?super.requestAsyncId(ye,ae,Pe):(ye.actions.push(this),ye._scheduled||(ye._scheduled=p.requestAnimationFrame(()=>ye.flush(void 0))))}recycleAsyncId(ye,ae,Pe=0){var nt;if(null!=Pe?Pe>0:this.delay>0)return super.recycleAsyncId(ye,ae,Pe);const{actions:jt}=ye;null!=ae&&ae===ye._scheduled&&(null===(nt=jt[jt.length-1])||void 0===nt?void 0:nt.id)!==ae&&(p.cancelAnimationFrame(ae),ye._scheduled=void 0)}});n(25007);var k=n(43236),W=n(39974),U=n(58750),K=n(54360),G=n(41584);function q(Se,ye=k.E){return function Y(Se){return(0,W.N)((ye,ae)=>{let Pe=!1,nt=null,jt=null,_n=!1;const Ln=()=>{if(jt?.unsubscribe(),jt=null,Pe){Pe=!1;const gs=nt;nt=null,ae.next(gs)}_n&&ae.complete()},as=()=>{jt=null,_n&&ae.complete()};ye.subscribe((0,K._)(ae,gs=>{Pe=!0,nt=gs,jt||(0,U.Tg)(Se(gs)).subscribe(jt=(0,K._)(ae,Ln,as))},()=>{_n=!0,(!Pe||!jt||jt.closed)&&ae.complete()}))})}(()=>(0,G.O)(Se,ye))}var z=n(5964);let te;try{te=typeof Intl<"u"&&Intl.v8BreakIterator}catch{te=!1}let ne,Ee,Z=(()=>{class Se{constructor(ae){this._platformId=ae,this.isBrowser=this._platformId?(0,t.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!te)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(Pe){return new(Pe||Se)(i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})();function se(Se){return function fe(){if(null==ne&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ne=!0}))}finally{ne=ne||!1}return ne}()?Se:!!Se.capture}function tt(Se){if(function Te(){if(null==Ee){const Se=typeof document<"u"?document.head:null;Ee=!(!Se||!Se.createShadowRoot&&!Se.attachShadow)}return Ee}()){const ye=Se.getRootNode?Se.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&ye instanceof ShadowRoot)return ye}return null}function Fe(Se){return Se.composedPath?Se.composedPath()[0]:Se.target}let mt=(()=>{class Se{constructor(ae,Pe,nt){this._ngZone=ae,this._platform=Pe,this._scrolled=new _.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=nt}register(ae){this.scrollContainers.has(ae)||this.scrollContainers.set(ae,ae.elementScrolled().subscribe(()=>this._scrolled.next(ae)))}deregister(ae){const Pe=this.scrollContainers.get(ae);Pe&&(Pe.unsubscribe(),this.scrollContainers.delete(ae))}scrolled(ae=20){return this._platform.isBrowser?new I.c(Pe=>{this._globalSubscription||this._addGlobalListener();const nt=ae>0?this._scrolled.pipe(q(ae)).subscribe(Pe):this._scrolled.subscribe(Pe);return this._scrolledCount++,()=>{nt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,C.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ae,Pe)=>this.deregister(Pe)),this._scrolled.complete()}ancestorScrolled(ae,Pe){const nt=this.getAncestorScrollContainers(ae);return this.scrolled(Pe).pipe((0,z.p)(jt=>!jt||nt.indexOf(jt)>-1))}getAncestorScrollContainers(ae){const Pe=[];return this.scrollContainers.forEach((nt,jt)=>{this._scrollableContainsElement(jt,ae)&&Pe.push(jt)}),Pe}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ae,Pe){let nt=v(Pe),jt=ae.getElementRef().nativeElement;do{if(nt==jt)return!0}while(nt=nt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ae=this._getWindow();return(0,R.R)(ae.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(Pe){return new(Pe||Se)(i.KVO(i.SKi),i.KVO(Z),i.KVO(t.qQ,8))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})(),je=(()=>{class Se{constructor(ae,Pe,nt){this._platform=ae,this._change=new _.B,this._changeListener=jt=>{this._change.next(jt)},this._document=nt,Pe.runOutsideAngular(()=>{if(ae.isBrowser){const jt=this._getWindow();jt.addEventListener("resize",this._changeListener),jt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ae=this._getWindow();ae.removeEventListener("resize",this._changeListener),ae.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ae={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ae}getViewportRect(){const ae=this.getViewportScrollPosition(),{width:Pe,height:nt}=this.getViewportSize();return{top:ae.top,left:ae.left,bottom:ae.top+nt,right:ae.left+Pe,height:nt,width:Pe}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ae=this._document,Pe=this._getWindow(),nt=ae.documentElement,jt=nt.getBoundingClientRect();return{top:-jt.top||ae.body.scrollTop||Pe.scrollY||nt.scrollTop||0,left:-jt.left||ae.body.scrollLeft||Pe.scrollX||nt.scrollLeft||0}}change(ae=20){return ae>0?this._change.pipe(q(ae)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ae=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ae.innerWidth,height:ae.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(Pe){return new(Pe||Se)(i.KVO(Z),i.KVO(i.SKi),i.KVO(t.qQ,8))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})();var mo=n(88141),Ar=(n(70152),n(96354)),Do=n(96697),Wn=n(40605),rs=n(57786),Us=n(84412),Qn=n(56977),gi=n(25558),Ni=n(99172),Zi=n(28203);function ki(Se,ye,ae){for(let Pe in ye)if(ye.hasOwnProperty(Pe)){const nt=ye[Pe];nt?Se.setProperty(Pe,nt,ae?.has(Pe)?"important":""):Se.removeProperty(Pe)}return Se}function kn(Se,ye){const ae=ye?"":"none";ki(Se.style,{"touch-action":ye?"":"none","-webkit-user-drag":ye?"":"none","-webkit-tap-highlight-color":ye?"":"transparent","user-select":ae,"-ms-user-select":ae,"-webkit-user-select":ae,"-moz-user-select":ae})}function ao(Se,ye,ae){ki(Se.style,{position:ye?"":"fixed",top:ye?"":"0",opacity:ye?"":"0",left:ye?"":"-999em"},ae)}function lo(Se,ye){return ye&&"none"!=ye?Se+" "+ye:Se}function he(Se,ye){Se.style.width=`${ye.width}px`,Se.style.height=`${ye.height}px`,Se.style.transform=Je(ye.left,ye.top)}function Je(Se,ye){return`translate3d(${Math.round(Se)}px, ${Math.round(ye)}px, 0)`}function Re(Se){const ye=Se.getBoundingClientRect();return{top:ye.top,right:ye.right,bottom:ye.bottom,left:ye.left,width:ye.width,height:ye.height,x:ye.x,y:ye.y}}function ze(Se,ye,ae){const{top:Pe,bottom:nt,left:jt,right:_n}=Se;return ae>=Pe&&ae<=nt&&ye>=jt&&ye<=_n}function Lt(Se,ye,ae){Se.top+=ye,Se.bottom=Se.top+Se.height,Se.left+=ae,Se.right=Se.left+Se.width}function On(Se,ye,ae,Pe){const{top:nt,right:jt,bottom:_n,left:Ln,width:as,height:gs}=Se,ys=as*ye,Ji=gs*ye;return Pe>nt-Ji&&Pe<_n+Ji&&ae>Ln-ys&&ae<jt+ys}class Un{constructor(ye){this._document=ye,this.positions=new Map}clear(){this.positions.clear()}cache(ye){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),ye.forEach(ae=>{this.positions.set(ae,{scrollPosition:{top:ae.scrollTop,left:ae.scrollLeft},clientRect:Re(ae)})})}handleScroll(ye){const ae=Fe(ye),Pe=this.positions.get(ae);if(!Pe)return null;const nt=Pe.scrollPosition;let jt,_n;if(ae===this._document){const gs=this.getViewportScrollPosition();jt=gs.top,_n=gs.left}else jt=ae.scrollTop,_n=ae.scrollLeft;const Ln=nt.top-jt,as=nt.left-_n;return this.positions.forEach((gs,ys)=>{gs.clientRect&&ae!==ys&&ae.contains(ys)&&Lt(gs.clientRect,Ln,as)}),nt.top=jt,nt.left=_n,{top:Ln,left:as}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function fs(Se){const ye=Se.cloneNode(!0),ae=ye.querySelectorAll("[id]"),Pe=Se.nodeName.toLowerCase();ye.removeAttribute("id");for(let nt=0;nt<ae.length;nt++)ae[nt].removeAttribute("id");return"canvas"===Pe?ui(Se,ye):("input"===Pe||"select"===Pe||"textarea"===Pe)&&Xn(Se,ye),Ri("canvas",Se,ye,ui),Ri("input, textarea, select",Se,ye,Xn),ye}function Ri(Se,ye,ae,Pe){const nt=ye.querySelectorAll(Se);if(nt.length){const jt=ae.querySelectorAll(Se);for(let _n=0;_n<nt.length;_n++)Pe(nt[_n],jt[_n])}}let Ns=0;function Xn(Se,ye){"file"!==ye.type&&(ye.value=Se.value),"radio"===ye.type&&ye.name&&(ye.name=`mat-clone-${ye.name}-${Ns++}`)}function ui(Se,ye){const ae=ye.getContext("2d");if(ae)try{ae.drawImage(Se,0,0)}catch{}}function Fi(Se,ye){const ae=Se.rootNodes;if(1===ae.length&&ae[0].nodeType===ye.ELEMENT_NODE)return ae[0];const Pe=ye.createElement("div");return ae.forEach(nt=>Pe.appendChild(nt)),Pe}function Mi(Se){const ye=Se.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(Se)*ye}function Go(Se,ye){return Se.getPropertyValue(ye).split(",").map(Pe=>Pe.trim())}const Ai=new Set(["position"]);class es{constructor(ye,ae,Pe,nt,jt,_n,Ln,as,gs){this._document=ye,this._rootElement=ae,this._direction=Pe,this._initialDomRect=nt,this._previewTemplate=jt,this._previewClass=_n,this._pickupPositionOnPage=Ln,this._initialTransform=as,this._zIndex=gs}attach(ye){this._preview=this._createPreview(),ye.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(ye){this._preview.style.transform=ye}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(ye){this._preview.classList.add(ye)}getTransitionDuration(){return function So(Se){const ye=getComputedStyle(Se),ae=Go(ye,"transition-property"),Pe=ae.find(Ln=>"transform"===Ln||"all"===Ln);if(!Pe)return 0;const nt=ae.indexOf(Pe),jt=Go(ye,"transition-duration"),_n=Go(ye,"transition-delay");return Mi(jt[nt])+Mi(_n[nt])}(this._preview)}addEventListener(ye,ae){this._preview.addEventListener(ye,ae)}removeEventListener(ye,ae){this._preview.removeEventListener(ye,ae)}_createPreview(){const ye=this._previewTemplate,ae=this._previewClass,Pe=ye?ye.template:null;let nt;if(Pe&&ye){const jt=ye.matchSize?this._initialDomRect:null,_n=ye.viewContainer.createEmbeddedView(Pe,ye.context);_n.detectChanges(),nt=Fi(_n,this._document),this._previewEmbeddedView=_n,ye.matchSize?he(nt,jt):nt.style.transform=Je(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else nt=fs(this._rootElement),he(nt,this._initialDomRect),this._initialTransform&&(nt.style.transform=this._initialTransform);return ki(nt.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Ai),kn(nt,!1),nt.classList.add("cdk-drag-preview"),nt.setAttribute("popover","manual"),nt.setAttribute("dir",this._direction),ae&&(Array.isArray(ae)?ae.forEach(jt=>nt.classList.add(jt)):nt.classList.add(ae)),nt}}const ws=se({passive:!0}),Ii=se({passive:!1}),go=se({passive:!1,capture:!0}),$o=new Set(["position"]);class sr{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(ye){ye!==this._disabled&&(this._disabled=ye,this._toggleNativeDragInteractions(),this._handles.forEach(ae=>kn(ae,ye)))}constructor(ye,ae,Pe,nt,jt,_n){this._config=ae,this._document=Pe,this._ngZone=nt,this._viewportRuler=jt,this._dragDropRegistry=_n,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new _.B,this._pointerMoveSubscription=A.yU.EMPTY,this._pointerUpSubscription=A.yU.EMPTY,this._scrollSubscription=A.yU.EMPTY,this._resizeSubscription=A.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new _.B,this.started=new _.B,this.released=new _.B,this.ended=new _.B,this.entered=new _.B,this.exited=new _.B,this.dropped=new _.B,this.moved=this._moveEvents,this._pointerDown=Ln=>{if(this.beforeStarted.next(),this._handles.length){const as=this._getTargetHandle(Ln);as&&!this._disabledHandles.has(as)&&!this.disabled&&this._initializeDragSequence(as,Ln)}else this.disabled||this._initializeDragSequence(this._rootElement,Ln)},this._pointerMove=Ln=>{const as=this._getPointerPositionOnPage(Ln);if(!this._hasStartedDragging){if(Math.abs(as.x-this._pickupPositionOnPage.x)+Math.abs(as.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const ml=Date.now()>=this._dragStartTime+this._getDragStartDelay(Ln),qa=this._dropContainer;if(!ml)return void this._endDragSequence(Ln);(!qa||!qa.isDragging()&&!qa.isReceiving())&&(Ln.cancelable&&Ln.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(Ln)))}return}Ln.cancelable&&Ln.preventDefault();const gs=this._getConstrainedPointerPosition(as);if(this._hasMoved=!0,this._lastKnownPointerPosition=as,this._updatePointerDirectionDelta(gs),this._dropContainer)this._updateActiveDropContainer(gs,as);else{const ys=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,Ji=this._activeTransform;Ji.x=gs.x-ys.x+this._passiveTransform.x,Ji.y=gs.y-ys.y+this._passiveTransform.y,this._applyRootElementTransform(Ji.x,Ji.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:gs,event:Ln,distance:this._getDragDistance(gs),delta:this._pointerDirectionDelta})})},this._pointerUp=Ln=>{this._endDragSequence(Ln)},this._nativeDragStart=Ln=>{if(this._handles.length){const as=this._getTargetHandle(Ln);as&&!this._disabledHandles.has(as)&&!this.disabled&&Ln.preventDefault()}else this.disabled||Ln.preventDefault()},this.withRootElement(ye).withParent(ae.parentDragRef||null),this._parentPositions=new Un(Pe),_n.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(ye){this._handles=ye.map(Pe=>v(Pe)),this._handles.forEach(Pe=>kn(Pe,this.disabled)),this._toggleNativeDragInteractions();const ae=new Set;return this._disabledHandles.forEach(Pe=>{this._handles.indexOf(Pe)>-1&&ae.add(Pe)}),this._disabledHandles=ae,this}withPreviewTemplate(ye){return this._previewTemplate=ye,this}withPlaceholderTemplate(ye){return this._placeholderTemplate=ye,this}withRootElement(ye){const ae=v(ye);return ae!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{ae.addEventListener("mousedown",this._pointerDown,Ii),ae.addEventListener("touchstart",this._pointerDown,ws),ae.addEventListener("dragstart",this._nativeDragStart,Ii)}),this._initialTransform=void 0,this._rootElement=ae),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(ye){return this._boundaryElement=ye?v(ye):null,this._resizeSubscription.unsubscribe(),ye&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(ye){return this._parentDragRef=ye,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(ye){!this._disabledHandles.has(ye)&&this._handles.indexOf(ye)>-1&&(this._disabledHandles.add(ye),kn(ye,!0))}enableHandle(ye){this._disabledHandles.has(ye)&&(this._disabledHandles.delete(ye),kn(ye,this.disabled))}withDirection(ye){return this._direction=ye,this}_withDropContainer(ye){this._dropContainer=ye}getFreeDragPosition(){const ye=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:ye.x,y:ye.y}}setFreeDragPosition(ye){return this._activeTransform={x:0,y:0},this._passiveTransform.x=ye.x,this._passiveTransform.y=ye.y,this._dropContainer||this._applyRootElementTransform(ye.x,ye.y),this}withPreviewContainer(ye){return this._previewContainer=ye,this}_sortFromLastPointerPosition(){const ye=this._lastKnownPointerPosition;ye&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(ye),ye)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",xr,go)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(ye){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:ye}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(ye),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const ae=this._getPointerPositionOnPage(ye);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(ae),dropPoint:ae,event:ye})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(ye){Po(ye)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const ae=this._getShadowRoot(),Pe=this._dropContainer;if(ae&&this._ngZone.runOutsideAngular(()=>{ae.addEventListener("selectstart",xr,go)}),Pe){const nt=this._rootElement,jt=nt.parentNode,_n=this._placeholder=this._createPlaceholderElement(),Ln=this._anchor=this._anchor||this._document.createComment("");jt.insertBefore(Ln,nt),this._initialTransform=nt.style.transform||"",this._preview=new es(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(jt,ae)),ao(nt,!1,$o),this._document.body.appendChild(jt.replaceChild(_n,nt)),this.started.next({source:this,event:ye}),Pe.start(),this._initialContainer=Pe,this._initialIndex=Pe.getItemIndex(this)}else this.started.next({source:this,event:ye}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(Pe?Pe.getScrollableParents():[])}_initializeDragSequence(ye,ae){this._parentDragRef&&ae.stopPropagation();const Pe=this.isDragging(),nt=Po(ae),jt=!nt&&0!==ae.button,_n=this._rootElement,Ln=Fe(ae),as=!nt&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),gs=nt?function Ja(Se){const ye=Se.touches&&Se.touches[0]||Se.changedTouches&&Se.changedTouches[0];return!(!ye||-1!==ye.identifier||null!=ye.radiusX&&1!==ye.radiusX||null!=ye.radiusY&&1!==ye.radiusY)}(ae):function ba(Se){return 0===Se.buttons||0===Se.detail}(ae);if(Ln&&Ln.draggable&&"mousedown"===ae.type&&ae.preventDefault(),Pe||jt||as||gs)return;if(this._handles.length){const Ta=_n.style;this._rootElementTapHighlight=Ta.webkitTapHighlightColor||"",Ta.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ta=>this._updateOnScroll(Ta)),this._boundaryElement&&(this._boundaryRect=Re(this._boundaryElement));const ys=this._previewTemplate;this._pickupPositionInElement=ys&&ys.template&&!ys.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,ye,ae);const Ji=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(ae);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Ji.x,y:Ji.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,ae)}_cleanupDragArtifacts(ye){ao(this._rootElement,!0,$o),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const ae=this._dropContainer,Pe=ae.getItemIndex(this),nt=this._getPointerPositionOnPage(ye),jt=this._getDragDistance(nt),_n=ae._isOverContainer(nt.x,nt.y);this.ended.next({source:this,distance:jt,dropPoint:nt,event:ye}),this.dropped.next({item:this,currentIndex:Pe,previousIndex:this._initialIndex,container:ae,previousContainer:this._initialContainer,isPointerOverContainer:_n,distance:jt,dropPoint:nt,event:ye}),ae.drop(this,Pe,this._initialIndex,this._initialContainer,_n,jt,nt,ye),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:ye,y:ae},{x:Pe,y:nt}){let jt=this._initialContainer._getSiblingContainerFromPosition(this,ye,ae);!jt&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(ye,ae)&&(jt=this._initialContainer),jt&&jt!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=jt,this._dropContainer.enter(this,ye,ae,jt===this._initialContainer&&jt.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:jt,currentIndex:jt.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(Pe,nt),this._dropContainer._sortItem(this,ye,ae,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(ye,ae):this._applyPreviewTransform(ye-this._pickupPositionInElement.x,ae-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const ye=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(ye.left,ye.top);const ae=this._preview.getTransitionDuration();return 0===ae?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(Pe=>{const nt=_n=>{(!_n||Fe(_n)===this._preview&&"transform"===_n.propertyName)&&(this._preview?.removeEventListener("transitionend",nt),Pe(),clearTimeout(jt))},jt=setTimeout(nt,1.5*ae);this._preview.addEventListener("transitionend",nt)}))}_createPlaceholderElement(){const ye=this._placeholderTemplate,ae=ye?ye.template:null;let Pe;return ae?(this._placeholderRef=ye.viewContainer.createEmbeddedView(ae,ye.context),this._placeholderRef.detectChanges(),Pe=Fi(this._placeholderRef,this._document)):Pe=fs(this._rootElement),Pe.style.pointerEvents="none",Pe.classList.add("cdk-drag-placeholder"),Pe}_getPointerPositionInElement(ye,ae,Pe){const nt=ae===this._rootElement?null:ae,jt=nt?nt.getBoundingClientRect():ye,_n=Po(Pe)?Pe.targetTouches[0]:Pe,Ln=this._getViewportScrollPosition();return{x:jt.left-ye.left+(_n.pageX-jt.left-Ln.left),y:jt.top-ye.top+(_n.pageY-jt.top-Ln.top)}}_getPointerPositionOnPage(ye){const ae=this._getViewportScrollPosition(),Pe=Po(ye)?ye.touches[0]||ye.changedTouches[0]||{pageX:0,pageY:0}:ye,nt=Pe.pageX-ae.left,jt=Pe.pageY-ae.top;if(this._ownerSVGElement){const _n=this._ownerSVGElement.getScreenCTM();if(_n){const Ln=this._ownerSVGElement.createSVGPoint();return Ln.x=nt,Ln.y=jt,Ln.matrixTransform(_n.inverse())}}return{x:nt,y:jt}}_getConstrainedPointerPosition(ye){const ae=this._dropContainer?this._dropContainer.lockAxis:null;let{x:Pe,y:nt}=this.constrainPosition?this.constrainPosition(ye,this,this._initialDomRect,this._pickupPositionInElement):ye;if("x"===this.lockAxis||"x"===ae?nt=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===ae)&&(Pe=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:jt,y:_n}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,Ln=this._boundaryRect,{width:as,height:gs}=this._getPreviewRect(),ys=Ln.top+_n,Ji=Ln.bottom-(gs-_n);Pe=Xi(Pe,Ln.left+jt,Ln.right-(as-jt)),nt=Xi(nt,ys,Ji)}return{x:Pe,y:nt}}_updatePointerDirectionDelta(ye){const{x:ae,y:Pe}=ye,nt=this._pointerDirectionDelta,jt=this._pointerPositionAtLastDirectionChange,_n=Math.abs(ae-jt.x),Ln=Math.abs(Pe-jt.y);return _n>this._config.pointerDirectionChangeThreshold&&(nt.x=ae>jt.x?1:-1,jt.x=ae),Ln>this._config.pointerDirectionChangeThreshold&&(nt.y=Pe>jt.y?1:-1,jt.y=Pe),nt}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const ye=this._handles.length>0||!this.isDragging();ye!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=ye,kn(this._rootElement,ye))}_removeRootElementListeners(ye){ye.removeEventListener("mousedown",this._pointerDown,Ii),ye.removeEventListener("touchstart",this._pointerDown,ws),ye.removeEventListener("dragstart",this._nativeDragStart,Ii)}_applyRootElementTransform(ye,ae){const Pe=Je(ye,ae),nt=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=nt.transform&&"none"!=nt.transform?nt.transform:""),nt.transform=lo(Pe,this._initialTransform)}_applyPreviewTransform(ye,ae){const Pe=this._previewTemplate?.template?void 0:this._initialTransform,nt=Je(ye,ae);this._preview.setTransform(lo(nt,Pe))}_getDragDistance(ye){const ae=this._pickupPositionOnPage;return ae?{x:ye.x-ae.x,y:ye.y-ae.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:ye,y:ae}=this._passiveTransform;if(0===ye&&0===ae||this.isDragging()||!this._boundaryElement)return;const Pe=this._rootElement.getBoundingClientRect(),nt=this._boundaryElement.getBoundingClientRect();if(0===nt.width&&0===nt.height||0===Pe.width&&0===Pe.height)return;const jt=nt.left-Pe.left,_n=Pe.right-nt.right,Ln=nt.top-Pe.top,as=Pe.bottom-nt.bottom;nt.width>Pe.width?(jt>0&&(ye+=jt),_n>0&&(ye-=_n)):ye=0,nt.height>Pe.height?(Ln>0&&(ae+=Ln),as>0&&(ae-=as)):ae=0,(ye!==this._passiveTransform.x||ae!==this._passiveTransform.y)&&this.setFreeDragPosition({y:ae,x:ye})}_getDragStartDelay(ye){const ae=this.dragStartDelay;return"number"==typeof ae?ae:Po(ye)?ae.touch:ae?ae.mouse:0}_updateOnScroll(ye){const ae=this._parentPositions.handleScroll(ye);if(ae){const Pe=Fe(ye);this._boundaryRect&&Pe!==this._boundaryElement&&Pe.contains(this._boundaryElement)&&Lt(this._boundaryRect,ae.top,ae.left),this._pickupPositionOnPage.x+=ae.left,this._pickupPositionOnPage.y+=ae.top,this._dropContainer||(this._activeTransform.x-=ae.left,this._activeTransform.y-=ae.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=tt(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(ye,ae){const Pe=this._previewContainer||"global";if("parent"===Pe)return ye;if("global"===Pe){const nt=this._document;return ae||nt.fullscreenElement||nt.webkitFullscreenElement||nt.mozFullScreenElement||nt.msFullscreenElement||nt.body}return v(Pe)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(ye){return this._handles.find(ae=>ye.target&&(ye.target===ae||ae.contains(ye.target)))}}function Xi(Se,ye,ae){return Math.max(ye,Math.min(ae,Se))}function Po(Se){return"t"===Se.type[0]}function xr(Se){Se.preventDefault()}function $s(Se,ye,ae){const Pe=ir(ye,Se.length-1),nt=ir(ae,Se.length-1);if(Pe===nt)return;const jt=Se[Pe],_n=nt<Pe?-1:1;for(let Ln=Pe;Ln!==nt;Ln+=_n)Se[Ln]=Se[Ln+_n];Se[nt]=jt}function ir(Se,ye){return Math.max(0,Math.min(ye,Se))}class co{constructor(ye,ae){this._element=ye,this._dragDropRegistry=ae,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(ye){this.withItems(ye)}sort(ye,ae,Pe,nt){const jt=this._itemPositions,_n=this._getItemIndexFromPointerPosition(ye,ae,Pe,nt);if(-1===_n&&jt.length>0)return null;const Ln="horizontal"===this.orientation,as=jt.findIndex(Vr=>Vr.drag===ye),gs=jt[_n],Ji=gs.clientRect,Ta=as>_n?1:-1,ml=this._getItemOffsetPx(jt[as].clientRect,Ji,Ta),qa=this._getSiblingOffsetPx(as,jt,Ta),el=jt.slice();return $s(jt,as,_n),jt.forEach((Vr,rn)=>{if(el[rn]===Vr)return;const Xd=Vr.drag===ye,gl=Xd?ml:qa,Jd=Xd?ye.getPlaceholderElement():Vr.drag.getRootElement();Vr.offset+=gl,Ln?(Jd.style.transform=lo(`translate3d(${Math.round(Vr.offset)}px, 0, 0)`,Vr.initialTransform),Lt(Vr.clientRect,0,gl)):(Jd.style.transform=lo(`translate3d(0, ${Math.round(Vr.offset)}px, 0)`,Vr.initialTransform),Lt(Vr.clientRect,gl,0))}),this._previousSwap.overlaps=ze(Ji,ae,Pe),this._previousSwap.drag=gs.drag,this._previousSwap.delta=Ln?nt.x:nt.y,{previousIndex:as,currentIndex:_n}}enter(ye,ae,Pe,nt){const jt=null==nt||nt<0?this._getItemIndexFromPointerPosition(ye,ae,Pe):nt,_n=this._activeDraggables,Ln=_n.indexOf(ye),as=ye.getPlaceholderElement();let gs=_n[jt];if(gs===ye&&(gs=_n[jt+1]),!gs&&(null==jt||-1===jt||jt<_n.length-1)&&this._shouldEnterAsFirstChild(ae,Pe)&&(gs=_n[0]),Ln>-1&&_n.splice(Ln,1),gs&&!this._dragDropRegistry.isDragging(gs)){const ys=gs.getRootElement();ys.parentElement.insertBefore(as,ys),_n.splice(jt,0,ye)}else v(this._element).appendChild(as),_n.push(ye);as.style.transform="",this._cacheItemPositions()}withItems(ye){this._activeDraggables=ye.slice(),this._cacheItemPositions()}withSortPredicate(ye){this._sortPredicate=ye}reset(){this._activeDraggables.forEach(ye=>{const ae=ye.getRootElement();if(ae){const Pe=this._itemPositions.find(nt=>nt.drag===ye)?.initialTransform;ae.style.transform=Pe||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(ye){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(Pe=>Pe.drag===ye)}updateOnScroll(ye,ae){this._itemPositions.forEach(({clientRect:Pe})=>{Lt(Pe,ye,ae)}),this._itemPositions.forEach(({drag:Pe})=>{this._dragDropRegistry.isDragging(Pe)&&Pe._sortFromLastPointerPosition()})}_cacheItemPositions(){const ye="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(ae=>{const Pe=ae.getVisibleElement();return{drag:ae,offset:0,initialTransform:Pe.style.transform||"",clientRect:Re(Pe)}}).sort((ae,Pe)=>ye?ae.clientRect.left-Pe.clientRect.left:ae.clientRect.top-Pe.clientRect.top)}_getItemOffsetPx(ye,ae,Pe){const nt="horizontal"===this.orientation;let jt=nt?ae.left-ye.left:ae.top-ye.top;return-1===Pe&&(jt+=nt?ae.width-ye.width:ae.height-ye.height),jt}_getSiblingOffsetPx(ye,ae,Pe){const nt="horizontal"===this.orientation,jt=ae[ye].clientRect,_n=ae[ye+-1*Pe];let Ln=jt[nt?"width":"height"]*Pe;if(_n){const as=nt?"left":"top",gs=nt?"right":"bottom";-1===Pe?Ln-=_n.clientRect[as]-jt[gs]:Ln+=jt[as]-_n.clientRect[gs]}return Ln}_shouldEnterAsFirstChild(ye,ae){if(!this._activeDraggables.length)return!1;const Pe=this._itemPositions,nt="horizontal"===this.orientation;if(Pe[0].drag!==this._activeDraggables[0]){const _n=Pe[Pe.length-1].clientRect;return nt?ye>=_n.right:ae>=_n.bottom}{const _n=Pe[0].clientRect;return nt?ye<=_n.left:ae<=_n.top}}_getItemIndexFromPointerPosition(ye,ae,Pe,nt){const jt="horizontal"===this.orientation,_n=this._itemPositions.findIndex(({drag:Ln,clientRect:as})=>Ln!==ye&&((!nt||Ln!==this._previousSwap.drag||!this._previousSwap.overlaps||(jt?nt.x:nt.y)!==this._previousSwap.delta)&&(jt?ae>=Math.floor(as.left)&&ae<Math.floor(as.right):Pe>=Math.floor(as.top)&&Pe<Math.floor(as.bottom))));return-1!==_n&&this._sortPredicate(_n,ye)?_n:-1}}var To=function(Se){return Se[Se.NONE=0]="NONE",Se[Se.UP=1]="UP",Se[Se.DOWN=2]="DOWN",Se}(To||{}),Ro=function(Se){return Se[Se.NONE=0]="NONE",Se[Se.LEFT=1]="LEFT",Se[Se.RIGHT=2]="RIGHT",Se}(Ro||{});class yd{constructor(ye,ae,Pe,nt,jt){this._dragDropRegistry=ae,this._ngZone=nt,this._viewportRuler=jt,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new _.B,this.entered=new _.B,this.exited=new _.B,this.dropped=new _.B,this.sorted=new _.B,this.receivingStarted=new _.B,this.receivingStopped=new _.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=A.yU.EMPTY,this._verticalScrollDirection=To.NONE,this._horizontalScrollDirection=Ro.NONE,this._stopScrollTimers=new _.B,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,Wn.Y)(0,M).pipe((0,Qn.Q)(this._stopScrollTimers)).subscribe(()=>{const _n=this._scrollNode,Ln=this.autoScrollStep;this._verticalScrollDirection===To.UP?_n.scrollBy(0,-Ln):this._verticalScrollDirection===To.DOWN&&_n.scrollBy(0,Ln),this._horizontalScrollDirection===Ro.LEFT?_n.scrollBy(-Ln,0):this._horizontalScrollDirection===Ro.RIGHT&&_n.scrollBy(Ln,0)})},this.element=v(ye),this._document=Pe,this.withScrollableParents([this.element]),ae.registerDropContainer(this),this._parentPositions=new Un(Pe),this._sortStrategy=new co(this.element,ae),this._sortStrategy.withSortPredicate((_n,Ln)=>this.sortPredicate(_n,Ln,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(ye,ae,Pe,nt){this._draggingStarted(),null==nt&&this.sortingDisabled&&(nt=this._draggables.indexOf(ye)),this._sortStrategy.enter(ye,ae,Pe,nt),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:ye,container:this,currentIndex:this.getItemIndex(ye)})}exit(ye){this._reset(),this.exited.next({item:ye,container:this})}drop(ye,ae,Pe,nt,jt,_n,Ln,as={}){this._reset(),this.dropped.next({item:ye,currentIndex:ae,previousIndex:Pe,container:this,previousContainer:nt,isPointerOverContainer:jt,distance:_n,dropPoint:Ln,event:as})}withItems(ye){const ae=this._draggables;return this._draggables=ye,ye.forEach(Pe=>Pe._withDropContainer(this)),this.isDragging()&&(ae.filter(nt=>nt.isDragging()).every(nt=>-1===ye.indexOf(nt))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(ye){return this._sortStrategy.direction=ye,this}connectedTo(ye){return this._siblings=ye.slice(),this}withOrientation(ye){return this._sortStrategy.orientation=ye,this}withScrollableParents(ye){const ae=v(this.element);return this._scrollableElements=-1===ye.indexOf(ae)?[ae,...ye]:ye.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(ye){return this._isDragging?this._sortStrategy.getItemIndex(ye):this._draggables.indexOf(ye)}isReceiving(){return this._activeSiblings.size>0}_sortItem(ye,ae,Pe,nt){if(this.sortingDisabled||!this._domRect||!On(this._domRect,.05,ae,Pe))return;const jt=this._sortStrategy.sort(ye,ae,Pe,nt);jt&&this.sorted.next({previousIndex:jt.previousIndex,currentIndex:jt.currentIndex,container:this,item:ye})}_startScrollingIfNecessary(ye,ae){if(this.autoScrollDisabled)return;let Pe,nt=To.NONE,jt=Ro.NONE;if(this._parentPositions.positions.forEach((_n,Ln)=>{Ln===this._document||!_n.clientRect||Pe||On(_n.clientRect,.05,ye,ae)&&([nt,jt]=function Ba(Se,ye,ae,Pe,nt){const jt=pr(ye,nt),_n=oc(ye,Pe);let Ln=To.NONE,as=Ro.NONE;if(jt){const gs=Se.scrollTop;jt===To.UP?gs>0&&(Ln=To.UP):Se.scrollHeight-gs>Se.clientHeight&&(Ln=To.DOWN)}if(_n){const gs=Se.scrollLeft;"rtl"===ae?_n===Ro.RIGHT?gs<0&&(as=Ro.RIGHT):Se.scrollWidth+gs>Se.clientWidth&&(as=Ro.LEFT):_n===Ro.LEFT?gs>0&&(as=Ro.LEFT):Se.scrollWidth-gs>Se.clientWidth&&(as=Ro.RIGHT)}return[Ln,as]}(Ln,_n.clientRect,this._sortStrategy.direction,ye,ae),(nt||jt)&&(Pe=Ln))}),!nt&&!jt){const{width:_n,height:Ln}=this._viewportRuler.getViewportSize(),as={width:_n,height:Ln,top:0,right:_n,bottom:Ln,left:0};nt=pr(as,ae),jt=oc(as,ye),Pe=window}Pe&&(nt!==this._verticalScrollDirection||jt!==this._horizontalScrollDirection||Pe!==this._scrollNode)&&(this._verticalScrollDirection=nt,this._horizontalScrollDirection=jt,this._scrollNode=Pe,(nt||jt)&&Pe?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const ye=v(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=ye.msScrollSnapType||ye.scrollSnapType||"",ye.scrollSnapType=ye.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const ye=v(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(ye).clientRect}_reset(){this._isDragging=!1;const ye=v(this.element).style;ye.scrollSnapType=ye.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(ae=>ae._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(ye,ae){return null!=this._domRect&&ze(this._domRect,ye,ae)}_getSiblingContainerFromPosition(ye,ae,Pe){return this._siblings.find(nt=>nt._canReceive(ye,ae,Pe))}_canReceive(ye,ae,Pe){if(!this._domRect||!ze(this._domRect,ae,Pe)||!this.enterPredicate(ye,this))return!1;const nt=this._getShadowRoot().elementFromPoint(ae,Pe);if(!nt)return!1;const jt=v(this.element);return nt===jt||jt.contains(nt)}_startReceiving(ye,ae){const Pe=this._activeSiblings;!Pe.has(ye)&&ae.every(nt=>this.enterPredicate(nt,this)||this._draggables.indexOf(nt)>-1)&&(Pe.add(ye),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:ye,receiver:this,items:ae}))}_stopReceiving(ye){this._activeSiblings.delete(ye),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:ye,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(ye=>{if(this.isDragging()){const ae=this._parentPositions.handleScroll(ye);ae&&this._sortStrategy.updateOnScroll(ae.top,ae.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const ye=tt(v(this.element));this._cachedShadowRoot=ye||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const ye=this._sortStrategy.getActiveItemsSnapshot().filter(ae=>ae.isDragging());this._siblings.forEach(ae=>ae._startReceiving(this,ye))}}function pr(Se,ye){const{top:ae,bottom:Pe,height:nt}=Se,jt=.05*nt;return ye>=ae-jt&&ye<=ae+jt?To.UP:ye>=Pe-jt&&ye<=Pe+jt?To.DOWN:To.NONE}function oc(Se,ye){const{left:ae,right:Pe,width:nt}=Se,jt=.05*nt;return ye>=ae-jt&&ye<=ae+jt?Ro.LEFT:ye>=Pe-jt&&ye<=Pe+jt?Ro.RIGHT:Ro.NONE}const Zs=se({passive:!1,capture:!0}),rc=new Set;let Za=(()=>{class Se{static{this.\u0275fac=function(Pe){return new(Pe||Se)}}static{this.\u0275cmp=i.VBU({type:Se,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(Pe,nt){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0})}}return Se})(),ji=(()=>{class Se{constructor(ae,Pe){this._ngZone=ae,this._appRef=(0,i.WQX)(i.o8S),this._environmentInjector=(0,i.WQX)(i.uvJ),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=nt=>nt.isDragging(),this.pointerMove=new _.B,this.pointerUp=new _.B,this.scroll=new _.B,this._preventDefaultWhileDragging=nt=>{this._activeDragInstances.length>0&&nt.preventDefault()},this._persistentTouchmoveListener=nt=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&nt.preventDefault(),this.pointerMove.next(nt))},this._document=Pe}registerDropContainer(ae){this._dropInstances.has(ae)||this._dropInstances.add(ae)}registerDragItem(ae){this._dragInstances.add(ae),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Zs)})}removeDropContainer(ae){this._dropInstances.delete(ae)}removeDragItem(ae){this._dragInstances.delete(ae),this.stopDragging(ae),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Zs)}startDragging(ae,Pe){if(!(this._activeDragInstances.indexOf(ae)>-1)&&(this._loadResets(),this._activeDragInstances.push(ae),1===this._activeDragInstances.length)){const nt=Pe.type.startsWith("touch");this._globalListeners.set(nt?"touchend":"mouseup",{handler:jt=>this.pointerUp.next(jt),options:!0}).set("scroll",{handler:jt=>this.scroll.next(jt),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Zs}),nt||this._globalListeners.set("mousemove",{handler:jt=>this.pointerMove.next(jt),options:Zs}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((jt,_n)=>{this._document.addEventListener(_n,jt.handler,jt.options)})})}}stopDragging(ae){const Pe=this._activeDragInstances.indexOf(ae);Pe>-1&&(this._activeDragInstances.splice(Pe,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(ae){return this._activeDragInstances.indexOf(ae)>-1}scrolled(ae){const Pe=[this.scroll];return ae&&ae!==this._document&&Pe.push(new I.c(nt=>this._ngZone.runOutsideAngular(()=>{const _n=Ln=>{this._activeDragInstances.length&&nt.next(Ln)};return ae.addEventListener("scroll",_n,!0),()=>{ae.removeEventListener("scroll",_n,!0)}}))),(0,rs.h)(...Pe)}ngOnDestroy(){this._dragInstances.forEach(ae=>this.removeDragItem(ae)),this._dropInstances.forEach(ae=>this.removeDropContainer(ae)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((ae,Pe)=>{this._document.removeEventListener(Pe,ae.handler,ae.options)}),this._globalListeners.clear()}_loadResets(){if(!rc.has(this._appRef)){rc.add(this._appRef);const ae=(0,i.a0P)(Za,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{rc.delete(this._appRef),0===rc.size&&ae.destroy()})}}static{this.\u0275fac=function(Pe){return new(Pe||Se)(i.KVO(i.SKi),i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})();const Ss={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Ur=(()=>{class Se{constructor(ae,Pe,nt,jt){this._document=ae,this._ngZone=Pe,this._viewportRuler=nt,this._dragDropRegistry=jt}createDrag(ae,Pe=Ss){return new sr(ae,Pe,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(ae){return new yd(ae,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static{this.\u0275fac=function(Pe){return new(Pe||Se)(i.KVO(t.qQ),i.KVO(i.SKi),i.KVO(je),i.KVO(ji))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})();const _o=new i.nKC("CDK_DRAG_PARENT"),si=new i.nKC("CdkDragHandle");let Wo=(()=>{class Se{get disabled(){return this._disabled}set disabled(ae){this._disabled=ae,this._stateChanges.next(this)}constructor(ae,Pe){this.element=ae,this._parentDrag=Pe,this._stateChanges=new _.B,this._disabled=!1,Pe?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static{this.\u0275fac=function(Pe){return new(Pe||Se)(i.rXU(i.aKT),i.rXU(_o,12))}}static{this.\u0275dir=i.FsC({type:Se,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDragHandleDisabled","disabled",i.L39]},standalone:!0,features:[i.Jv_([{provide:si,useExisting:Se}]),i.GFd]})}}return Se})();const fl=new i.nKC("CDK_DRAG_CONFIG"),jl=new i.nKC("CdkDropList");let kr=(()=>{class Se{static{this._dragInstances=[]}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(ae){this._disabled=ae,this._dragRef.disabled=this._disabled}constructor(ae,Pe,nt,jt,_n,Ln,as,gs,ys,Ji,Ta){this.element=ae,this.dropContainer=Pe,this._ngZone=jt,this._viewContainerRef=_n,this._dir=as,this._changeDetectorRef=ys,this._selfHandle=Ji,this._parentDrag=Ta,this._destroyed=new _.B,this._handles=new Us.t([]),this.started=new i.bkB,this.released=new i.bkB,this.ended=new i.bkB,this.entered=new i.bkB,this.exited=new i.bkB,this.dropped=new i.bkB,this.moved=new I.c(ml=>{const qa=this._dragRef.moved.pipe((0,Ar.T)(el=>({source:this,pointerPosition:el.pointerPosition,event:el.event,delta:el.delta,distance:el.distance}))).subscribe(ml);return()=>{qa.unsubscribe()}}),this._dragRef=gs.createDrag(ae,{dragStartThreshold:Ln&&null!=Ln.dragStartThreshold?Ln.dragStartThreshold:5,pointerDirectionChangeThreshold:Ln&&null!=Ln.pointerDirectionChangeThreshold?Ln.pointerDirectionChangeThreshold:5,zIndex:Ln?.zIndex}),this._dragRef.data=this,Se._dragInstances.push(this),Ln&&this._assignDefaults(Ln),Pe&&(this._dragRef._withDropContainer(Pe._dropListRef),Pe.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(ae){this._dragRef.setFreeDragPosition(ae)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Do.s)(1),(0,Qn.Q)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(ae){const Pe=ae.rootElementSelector,nt=ae.freeDragPosition;Pe&&!Pe.firstChange&&this._updateRootElement(),nt&&!nt.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const ae=Se._dragInstances.indexOf(this);ae>-1&&Se._dragInstances.splice(ae,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(ae){const Pe=this._handles.getValue();Pe.push(ae),this._handles.next(Pe)}_removeHandle(ae){const Pe=this._handles.getValue(),nt=Pe.indexOf(ae);nt>-1&&(Pe.splice(nt,1),this._handles.next(Pe))}_setPreviewTemplate(ae){this._previewTemplate=ae}_resetPreviewTemplate(ae){ae===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(ae){this._placeholderTemplate=ae}_resetPlaceholderTemplate(ae){ae===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const ae=this.element.nativeElement;let Pe=ae;this.rootElementSelector&&(Pe=void 0!==ae.closest?ae.closest(this.rootElementSelector):ae.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(Pe||ae)}_getBoundaryElement(){const ae=this.boundaryElement;return ae?"string"==typeof ae?this.element.nativeElement.closest(ae):v(ae):null}_syncInputs(ae){ae.beforeStarted.subscribe(()=>{if(!ae.isDragging()){const Pe=this._dir,nt=this.dragStartDelay,jt=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,_n=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;ae.disabled=this.disabled,ae.lockAxis=this.lockAxis,ae.dragStartDelay="object"==typeof nt&&nt?nt:e(nt),ae.constrainPosition=this.constrainPosition,ae.previewClass=this.previewClass,ae.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(jt).withPreviewTemplate(_n).withPreviewContainer(this.previewContainer||"global"),Pe&&ae.withDirection(Pe.value)}}),ae.beforeStarted.pipe((0,Do.s)(1)).subscribe(()=>{if(this._parentDrag)return void ae.withParent(this._parentDrag._dragRef);let Pe=this.element.nativeElement.parentElement;for(;Pe;){if(Pe.classList.contains("cdk-drag")){ae.withParent(Se._dragInstances.find(nt=>nt.element.nativeElement===Pe)?._dragRef||null);break}Pe=Pe.parentElement}})}_handleEvents(ae){ae.started.subscribe(Pe=>{this.started.emit({source:this,event:Pe.event}),this._changeDetectorRef.markForCheck()}),ae.released.subscribe(Pe=>{this.released.emit({source:this,event:Pe.event})}),ae.ended.subscribe(Pe=>{this.ended.emit({source:this,distance:Pe.distance,dropPoint:Pe.dropPoint,event:Pe.event}),this._changeDetectorRef.markForCheck()}),ae.entered.subscribe(Pe=>{this.entered.emit({container:Pe.container.data,item:this,currentIndex:Pe.currentIndex})}),ae.exited.subscribe(Pe=>{this.exited.emit({container:Pe.container.data,item:this})}),ae.dropped.subscribe(Pe=>{this.dropped.emit({previousIndex:Pe.previousIndex,currentIndex:Pe.currentIndex,previousContainer:Pe.previousContainer.data,container:Pe.container.data,isPointerOverContainer:Pe.isPointerOverContainer,item:this,distance:Pe.distance,dropPoint:Pe.dropPoint,event:Pe.event})})}_assignDefaults(ae){const{lockAxis:Pe,dragStartDelay:nt,constrainPosition:jt,previewClass:_n,boundaryElement:Ln,draggingDisabled:as,rootElementSelector:gs,previewContainer:ys}=ae;this.disabled=as??!1,this.dragStartDelay=nt||0,Pe&&(this.lockAxis=Pe),jt&&(this.constrainPosition=jt),_n&&(this.previewClass=_n),Ln&&(this.boundaryElement=Ln),gs&&(this.rootElementSelector=gs),ys&&(this.previewContainer=ys)}_setupHandlesListener(){this._handles.pipe((0,mo.M)(ae=>{const Pe=ae.map(nt=>nt.element);this._selfHandle&&this.rootElementSelector&&Pe.push(this.element),this._dragRef.withHandles(Pe)}),(0,gi.n)(ae=>(0,rs.h)(...ae.map(Pe=>Pe._stateChanges.pipe((0,Ni.Z)(Pe))))),(0,Qn.Q)(this._destroyed)).subscribe(ae=>{const Pe=this._dragRef,nt=ae.element.nativeElement;ae.disabled?Pe.disableHandle(nt):Pe.enableHandle(nt)})}static{this.\u0275fac=function(Pe){return new(Pe||Se)(i.rXU(i.aKT),i.rXU(jl,12),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.c1b),i.rXU(fl,8),i.rXU(Zi.dS,8),i.rXU(Ur),i.rXU(i.gRc),i.rXU(si,10),i.rXU(_o,12))}}static{this.\u0275dir=i.FsC({type:Se,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(Pe,nt){2&Pe&&i.AVh("cdk-drag-disabled",nt.disabled)("cdk-drag-dragging",nt._dragRef.isDragging())},inputs:{data:[i.Mj6.None,"cdkDragData","data"],lockAxis:[i.Mj6.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[i.Mj6.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[i.Mj6.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[i.Mj6.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[i.Mj6.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDragDisabled","disabled",i.L39],constrainPosition:[i.Mj6.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[i.Mj6.None,"cdkDragPreviewClass","previewClass"],previewContainer:[i.Mj6.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[i.Jv_([{provide:_o,useExisting:Se}]),i.GFd,i.OA$]})}}return Se})();const Bl=new i.nKC("CdkDropListGroup");let Yd=0,Ul=(()=>{class Se{static{this._dropLists=[]}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(ae){this._dropListRef.disabled=this._disabled=ae}constructor(ae,Pe,nt,jt,_n,Ln,as){this.element=ae,this._changeDetectorRef=nt,this._scrollDispatcher=jt,this._dir=_n,this._group=Ln,this._destroyed=new _.B,this.connectedTo=[],this.id="cdk-drop-list-"+Yd++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new i.bkB,this.entered=new i.bkB,this.exited=new i.bkB,this.sorted=new i.bkB,this._unsortedItems=new Set,this._dropListRef=Pe.createDropList(ae),this._dropListRef.data=this,as&&this._assignDefaults(as),this._dropListRef.enterPredicate=(gs,ys)=>this.enterPredicate(gs.data,ys.data),this._dropListRef.sortPredicate=(gs,ys,Ji)=>this.sortPredicate(gs,ys.data,Ji.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),Se._dropLists.push(this),Ln&&Ln._items.add(this)}addItem(ae){this._unsortedItems.add(ae),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(ae){this._unsortedItems.delete(ae),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((ae,Pe)=>ae._dragRef.getVisibleElement().compareDocumentPosition(Pe._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const ae=Se._dropLists.indexOf(this);ae>-1&&Se._dropLists.splice(ae,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(ae){this._dir&&this._dir.change.pipe((0,Ni.Z)(this._dir.value),(0,Qn.Q)(this._destroyed)).subscribe(Pe=>ae.withDirection(Pe)),ae.beforeStarted.subscribe(()=>{const Pe=function m(Se){return Array.isArray(Se)?Se:[Se]}(this.connectedTo).map(nt=>"string"==typeof nt?Se._dropLists.find(_n=>_n.id===nt):nt);if(this._group&&this._group._items.forEach(nt=>{-1===Pe.indexOf(nt)&&Pe.push(nt)}),!this._scrollableParentsResolved){const nt=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(jt=>jt.getElementRef().nativeElement);this._dropListRef.withScrollableParents(nt),this._scrollableParentsResolved=!0}ae.disabled=this.disabled,ae.lockAxis=this.lockAxis,ae.sortingDisabled=this.sortingDisabled,ae.autoScrollDisabled=this.autoScrollDisabled,ae.autoScrollStep=e(this.autoScrollStep,2),ae.connectedTo(Pe.filter(nt=>nt&&nt!==this).map(nt=>nt._dropListRef)).withOrientation(this.orientation)})}_handleEvents(ae){ae.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),ae.entered.subscribe(Pe=>{this.entered.emit({container:this,item:Pe.item.data,currentIndex:Pe.currentIndex})}),ae.exited.subscribe(Pe=>{this.exited.emit({container:this,item:Pe.item.data}),this._changeDetectorRef.markForCheck()}),ae.sorted.subscribe(Pe=>{this.sorted.emit({previousIndex:Pe.previousIndex,currentIndex:Pe.currentIndex,container:this,item:Pe.item.data})}),ae.dropped.subscribe(Pe=>{this.dropped.emit({previousIndex:Pe.previousIndex,currentIndex:Pe.currentIndex,previousContainer:Pe.previousContainer.data,container:Pe.container.data,item:Pe.item.data,isPointerOverContainer:Pe.isPointerOverContainer,distance:Pe.distance,dropPoint:Pe.dropPoint,event:Pe.event}),this._changeDetectorRef.markForCheck()}),(0,rs.h)(ae.receivingStarted,ae.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(ae){const{lockAxis:Pe,draggingDisabled:nt,sortingDisabled:jt,listAutoScrollDisabled:_n,listOrientation:Ln}=ae;this.disabled=nt??!1,this.sortingDisabled=jt??!1,this.autoScrollDisabled=_n??!1,this.orientation=Ln||"vertical",Pe&&(this.lockAxis=Pe)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(ae=>ae._dragRef))}static{this.\u0275fac=function(Pe){return new(Pe||Se)(i.rXU(i.aKT),i.rXU(Ur),i.rXU(i.gRc),i.rXU(mt),i.rXU(Zi.dS,8),i.rXU(Bl,12),i.rXU(fl,8))}}static{this.\u0275dir=i.FsC({type:Se,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(Pe,nt){2&Pe&&(i.BMQ("id",nt.id),i.AVh("cdk-drop-list-disabled",nt.disabled)("cdk-drop-list-dragging",nt._dropListRef.isDragging())("cdk-drop-list-receiving",nt._dropListRef.isReceiving()))},inputs:{connectedTo:[i.Mj6.None,"cdkDropListConnectedTo","connectedTo"],data:[i.Mj6.None,"cdkDropListData","data"],orientation:[i.Mj6.None,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[i.Mj6.None,"cdkDropListLockAxis","lockAxis"],disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDropListDisabled","disabled",i.L39],sortingDisabled:[i.Mj6.HasDecoratorInputTransform,"cdkDropListSortingDisabled","sortingDisabled",i.L39],enterPredicate:[i.Mj6.None,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[i.Mj6.None,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[i.Mj6.HasDecoratorInputTransform,"cdkDropListAutoScrollDisabled","autoScrollDisabled",i.L39],autoScrollStep:[i.Mj6.None,"cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[i.Jv_([{provide:Bl,useValue:void 0},{provide:jl,useExisting:Se}]),i.GFd]})}}return Se})()},60177:(F,D,n)=>{"use strict";n.d(D,{AJ:()=>Qo,B3:()=>to,GH:()=>Qt,Jj:()=>on,MD:()=>Zr,N0:()=>xn,OI:()=>lt,PV:()=>qn,QT:()=>u,QX:()=>Jr,Sm:()=>p,Sq:()=>Wt,T3:()=>Rs,UE:()=>rr,VF:()=>h,Vy:()=>qr,XO:()=>J,Xr:()=>qe,YU:()=>sn,Yq:()=>hn,ZD:()=>e,_b:()=>_t,aZ:()=>O,bT:()=>Yn,cH:()=>Y,e1:()=>bs,fw:()=>x,hb:()=>T,hj:()=>E,kB:()=>A,lG:()=>yr,oV:()=>K,pM:()=>Wt,qQ:()=>f,rd:()=>Z,tL:()=>Q,ux:()=>hs,vh:()=>hi});var i=n(54438);let t=null;function u(){return t}function e(he){t??=he}class h{}const f=new i.nKC("");let v=(()=>{class he{historyGo(Re){throw new Error("")}static{this.\u0275fac=function(ze){return new(ze||he)}}static{this.\u0275prov=i.jDH({token:he,factory:()=>(0,i.WQX)(_),providedIn:"platform"})}}return he})();const E=new i.nKC("");let _=(()=>{class he extends v{constructor(){super(),this._doc=(0,i.WQX)(f),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return u().getBaseHref(this._doc)}onPopState(Re){const ze=u().getGlobalEventTarget(this._doc,"window");return ze.addEventListener("popstate",Re,!1),()=>ze.removeEventListener("popstate",Re)}onHashChange(Re){const ze=u().getGlobalEventTarget(this._doc,"window");return ze.addEventListener("hashchange",Re,!1),()=>ze.removeEventListener("hashchange",Re)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Re){this._location.pathname=Re}pushState(Re,ze,Lt){this._history.pushState(Re,ze,Lt)}replaceState(Re,ze,Lt){this._history.replaceState(Re,ze,Lt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Re=0){this._history.go(Re)}getState(){return this._history.state}static{this.\u0275fac=function(ze){return new(ze||he)}}static{this.\u0275prov=i.jDH({token:he,factory:()=>new he,providedIn:"platform"})}}return he})();function C(he,Je){if(0==he.length)return Je;if(0==Je.length)return he;let Re=0;return he.endsWith("/")&&Re++,Je.startsWith("/")&&Re++,2==Re?he+Je.substring(1):1==Re?he+Je:he+"/"+Je}function I(he){const Je=he.match(/#|\?|$/),Re=Je&&Je.index||he.length;return he.slice(0,Re-("/"===he[Re-1]?1:0))+he.slice(Re)}function R(he){return he&&"?"!==he[0]?"?"+he:he}let T=(()=>{class he{historyGo(Re){throw new Error("")}static{this.\u0275fac=function(ze){return new(ze||he)}}static{this.\u0275prov=i.jDH({token:he,factory:()=>(0,i.WQX)(p),providedIn:"root"})}}return he})();const A=new i.nKC("");let p=(()=>{class he extends T{constructor(Re,ze){super(),this._platformLocation=Re,this._removeListenerFns=[],this._baseHref=ze??this._platformLocation.getBaseHrefFromDOM()??(0,i.WQX)(f).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Re){this._removeListenerFns.push(this._platformLocation.onPopState(Re),this._platformLocation.onHashChange(Re))}getBaseHref(){return this._baseHref}prepareExternalUrl(Re){return C(this._baseHref,Re)}path(Re=!1){const ze=this._platformLocation.pathname+R(this._platformLocation.search),Lt=this._platformLocation.hash;return Lt&&Re?`${ze}${Lt}`:ze}pushState(Re,ze,Lt,On){const Un=this.prepareExternalUrl(Lt+R(On));this._platformLocation.pushState(Re,ze,Un)}replaceState(Re,ze,Lt,On){const Un=this.prepareExternalUrl(Lt+R(On));this._platformLocation.replaceState(Re,ze,Un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Re=0){this._platformLocation.historyGo?.(Re)}static{this.\u0275fac=function(ze){return new(ze||he)(i.KVO(v),i.KVO(A,8))}}static{this.\u0275prov=i.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}}return he})(),x=(()=>{class he extends T{constructor(Re,ze){super(),this._platformLocation=Re,this._baseHref="",this._removeListenerFns=[],null!=ze&&(this._baseHref=ze)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Re){this._removeListenerFns.push(this._platformLocation.onPopState(Re),this._platformLocation.onHashChange(Re))}getBaseHref(){return this._baseHref}path(Re=!1){const ze=this._platformLocation.hash??"#";return ze.length>0?ze.substring(1):ze}prepareExternalUrl(Re){const ze=C(this._baseHref,Re);return ze.length>0?"#"+ze:ze}pushState(Re,ze,Lt,On){let Un=this.prepareExternalUrl(Lt+R(On));0==Un.length&&(Un=this._platformLocation.pathname),this._platformLocation.pushState(Re,ze,Un)}replaceState(Re,ze,Lt,On){let Un=this.prepareExternalUrl(Lt+R(On));0==Un.length&&(Un=this._platformLocation.pathname),this._platformLocation.replaceState(Re,ze,Un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Re=0){this._platformLocation.historyGo?.(Re)}static{this.\u0275fac=function(ze){return new(ze||he)(i.KVO(v),i.KVO(A,8))}}static{this.\u0275prov=i.jDH({token:he,factory:he.\u0275fac})}}return he})(),O=(()=>{class he{constructor(Re){this._subject=new i.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Re;const ze=this._locationStrategy.getBaseHref();this._basePath=function B(he){if(new RegExp("^(https?:)?//").test(he)){const[,Re]=he.split(/\/\/[^\/]+/);return Re}return he}(I(L(ze))),this._locationStrategy.onPopState(Lt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Lt.state,type:Lt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Re=!1){return this.normalize(this._locationStrategy.path(Re))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Re,ze=""){return this.path()==this.normalize(Re+R(ze))}normalize(Re){return he.stripTrailingSlash(function M(he,Je){if(!he||!Je.startsWith(he))return Je;const Re=Je.substring(he.length);return""===Re||["/",";","?","#"].includes(Re[0])?Re:Je}(this._basePath,L(Re)))}prepareExternalUrl(Re){return Re&&"/"!==Re[0]&&(Re="/"+Re),this._locationStrategy.prepareExternalUrl(Re)}go(Re,ze="",Lt=null){this._locationStrategy.pushState(Lt,"",Re,ze),this._notifyUrlChangeListeners(this.prepareExternalUrl(Re+R(ze)),Lt)}replaceState(Re,ze="",Lt=null){this._locationStrategy.replaceState(Lt,"",Re,ze),this._notifyUrlChangeListeners(this.prepareExternalUrl(Re+R(ze)),Lt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Re=0){this._locationStrategy.historyGo?.(Re)}onUrlChange(Re){return this._urlChangeListeners.push(Re),this._urlChangeSubscription??=this.subscribe(ze=>{this._notifyUrlChangeListeners(ze.url,ze.state)}),()=>{const ze=this._urlChangeListeners.indexOf(Re);this._urlChangeListeners.splice(ze,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Re="",ze){this._urlChangeListeners.forEach(Lt=>Lt(Re,ze))}subscribe(Re,ze,Lt){return this._subject.subscribe({next:Re,error:ze,complete:Lt})}static{this.normalizeQueryParams=R}static{this.joinWithSlash=C}static{this.stripTrailingSlash=I}static{this.\u0275fac=function(ze){return new(ze||he)(i.KVO(T))}}static{this.\u0275prov=i.jDH({token:he,factory:()=>function w(){return new O((0,i.KVO)(T))}(),providedIn:"root"})}}return he})();function L(he){return he.replace(/\/index.html$/,"")}var W=function(he){return he[he.Decimal=0]="Decimal",he[he.Percent=1]="Percent",he[he.Currency=2]="Currency",he[he.Scientific=3]="Scientific",he}(W||{}),K=function(he){return he[he.Format=0]="Format",he[he.Standalone=1]="Standalone",he}(K||{}),Y=function(he){return he[he.Narrow=0]="Narrow",he[he.Abbreviated=1]="Abbreviated",he[he.Wide=2]="Wide",he[he.Short=3]="Short",he}(Y||{}),G=function(he){return he[he.Short=0]="Short",he[he.Medium=1]="Medium",he[he.Long=2]="Long",he[he.Full=3]="Full",he}(G||{});const q={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Z(he,Je,Re){const ze=(0,i.H5H)(he),On=pt([ze[i.KH2.DayPeriodsFormat],ze[i.KH2.DayPeriodsStandalone]],Je);return pt(On,Re)}function J(he,Je,Re){const ze=(0,i.H5H)(he),On=pt([ze[i.KH2.DaysFormat],ze[i.KH2.DaysStandalone]],Je);return pt(On,Re)}function Q(he,Je,Re){const ze=(0,i.H5H)(he),On=pt([ze[i.KH2.MonthsFormat],ze[i.KH2.MonthsStandalone]],Je);return pt(On,Re)}function fe(he,Je){return pt((0,i.H5H)(he)[i.KH2.DateFormat],Je)}function se(he,Je){return pt((0,i.H5H)(he)[i.KH2.TimeFormat],Je)}function ce(he,Je){return pt((0,i.H5H)(he)[i.KH2.DateTimeFormat],Je)}function De(he,Je){const Re=(0,i.H5H)(he),ze=Re[i.KH2.NumberSymbols][Je];if(typeof ze>"u"){if(Je===q.CurrencyDecimal)return Re[i.KH2.NumberSymbols][q.Decimal];if(Je===q.CurrencyGroup)return Re[i.KH2.NumberSymbols][q.Group]}return ze}function ht(he){if(!he[i.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${he[i.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function pt(he,Je){for(let Re=Je;Re>-1;Re--)if(typeof he[Re]<"u")return he[Re];throw new Error("Locale data API: locale data undefined")}function Mt(he){const[Je,Re]=he.split(":");return{hours:+Je,minutes:+Re}}const Zt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mt={},Pt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ce=function(he){return he[he.Short=0]="Short",he[he.ShortGMT=1]="ShortGMT",he[he.Long=2]="Long",he[he.Extended=3]="Extended",he}(Ce||{}),je=function(he){return he[he.FullYear=0]="FullYear",he[he.Month=1]="Month",he[he.Date=2]="Date",he[he.Hours=3]="Hours",he[he.Minutes=4]="Minutes",he[he.Seconds=5]="Seconds",he[he.FractionalSeconds=6]="FractionalSeconds",he[he.Day=7]="Day",he}(je||{}),ut=function(he){return he[he.DayPeriods=0]="DayPeriods",he[he.Days=1]="Days",he[he.Months=2]="Months",he[he.Eras=3]="Eras",he}(ut||{});function hn(he,Je,Re,ze){let Lt=function Qe(he){if(ke(he))return he;if("number"==typeof he&&!isNaN(he))return new Date(he);if("string"==typeof he){if(he=he.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(he)){const[Lt,On=1,Un=1]=he.split("-").map(fs=>+fs);return an(Lt,On-1,Un)}const Re=parseFloat(he);if(!isNaN(he-Re))return new Date(Re);let ze;if(ze=he.match(Zt))return function st(he){const Je=new Date(0);let Re=0,ze=0;const Lt=he[8]?Je.setUTCFullYear:Je.setFullYear,On=he[8]?Je.setUTCHours:Je.setHours;he[9]&&(Re=Number(he[9]+he[10]),ze=Number(he[9]+he[11])),Lt.call(Je,Number(he[1]),Number(he[2])-1,Number(he[3]));const Un=Number(he[4]||0)-Re,fs=Number(he[5]||0)-ze,Ri=Number(he[6]||0),Ns=Math.floor(1e3*parseFloat("0."+(he[7]||0)));return On.call(Je,Un,fs,Ri,Ns),Je}(ze)}const Je=new Date(he);if(!ke(Je))throw new Error(`Unable to convert "${he}" into a date`);return Je}(he);Je=Pn(Re,Je)||Je;let fs,Un=[];for(;Je;){if(fs=Pt.exec(Je),!fs){Un.push(Je);break}{Un=Un.concat(fs.slice(1));const Xn=Un.pop();if(!Xn)break;Je=Xn}}let Ri=Lt.getTimezoneOffset();ze&&(Ri=Ke(ze,Ri),Lt=function At(he,Je,Re){const ze=Re?-1:1,Lt=he.getTimezoneOffset();return function Be(he,Je){return(he=new Date(he.getTime())).setMinutes(he.getMinutes()+Je),he}(he,ze*(Ke(Je,Lt)-Lt))}(Lt,ze,!0));let Ns="";return Un.forEach(Xn=>{const ui=function Ve(he){if(xe[he])return xe[he];let Je;switch(he){case"G":case"GG":case"GGG":Je=It(ut.Eras,Y.Abbreviated);break;case"GGGG":Je=It(ut.Eras,Y.Wide);break;case"GGGGG":Je=It(ut.Eras,Y.Narrow);break;case"y":Je=nn(je.FullYear,1,0,!1,!0);break;case"yy":Je=nn(je.FullYear,2,0,!0,!0);break;case"yyy":Je=nn(je.FullYear,3,0,!1,!0);break;case"yyyy":Je=nn(je.FullYear,4,0,!1,!0);break;case"Y":Je=ot(1);break;case"YY":Je=ot(2,!0);break;case"YYY":Je=ot(3);break;case"YYYY":Je=ot(4);break;case"M":case"L":Je=nn(je.Month,1,1);break;case"MM":case"LL":Je=nn(je.Month,2,1);break;case"MMM":Je=It(ut.Months,Y.Abbreviated);break;case"MMMM":Je=It(ut.Months,Y.Wide);break;case"MMMMM":Je=It(ut.Months,Y.Narrow);break;case"LLL":Je=It(ut.Months,Y.Abbreviated,K.Standalone);break;case"LLLL":Je=It(ut.Months,Y.Wide,K.Standalone);break;case"LLLLL":Je=It(ut.Months,Y.Narrow,K.Standalone);break;case"w":Je=Ft(1);break;case"ww":Je=Ft(2);break;case"W":Je=Ft(1,!0);break;case"d":Je=nn(je.Date,1);break;case"dd":Je=nn(je.Date,2);break;case"c":case"cc":Je=nn(je.Day,1);break;case"ccc":Je=It(ut.Days,Y.Abbreviated,K.Standalone);break;case"cccc":Je=It(ut.Days,Y.Wide,K.Standalone);break;case"ccccc":Je=It(ut.Days,Y.Narrow,K.Standalone);break;case"cccccc":Je=It(ut.Days,Y.Short,K.Standalone);break;case"E":case"EE":case"EEE":Je=It(ut.Days,Y.Abbreviated);break;case"EEEE":Je=It(ut.Days,Y.Wide);break;case"EEEEE":Je=It(ut.Days,Y.Narrow);break;case"EEEEEE":Je=It(ut.Days,Y.Short);break;case"a":case"aa":case"aaa":Je=It(ut.DayPeriods,Y.Abbreviated);break;case"aaaa":Je=It(ut.DayPeriods,Y.Wide);break;case"aaaaa":Je=It(ut.DayPeriods,Y.Narrow);break;case"b":case"bb":case"bbb":Je=It(ut.DayPeriods,Y.Abbreviated,K.Standalone,!0);break;case"bbbb":Je=It(ut.DayPeriods,Y.Wide,K.Standalone,!0);break;case"bbbbb":Je=It(ut.DayPeriods,Y.Narrow,K.Standalone,!0);break;case"B":case"BB":case"BBB":Je=It(ut.DayPeriods,Y.Abbreviated,K.Format,!0);break;case"BBBB":Je=It(ut.DayPeriods,Y.Wide,K.Format,!0);break;case"BBBBB":Je=It(ut.DayPeriods,Y.Narrow,K.Format,!0);break;case"h":Je=nn(je.Hours,1,-12);break;case"hh":Je=nn(je.Hours,2,-12);break;case"H":Je=nn(je.Hours,1);break;case"HH":Je=nn(je.Hours,2);break;case"m":Je=nn(je.Minutes,1);break;case"mm":Je=nn(je.Minutes,2);break;case"s":Je=nn(je.Seconds,1);break;case"ss":Je=nn(je.Seconds,2);break;case"S":Je=nn(je.FractionalSeconds,1);break;case"SS":Je=nn(je.FractionalSeconds,2);break;case"SSS":Je=nn(je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Je=Yt(Ce.Short);break;case"ZZZZZ":Je=Yt(Ce.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Je=Yt(Ce.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Je=Yt(Ce.Long);break;default:return null}return xe[he]=Je,Je}(Xn);Ns+=ui?ui(Lt,Re,Ri):"''"===Xn?"'":Xn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ns}function an(he,Je,Re){const ze=new Date(0);return ze.setFullYear(he,Je,Re),ze.setHours(0,0,0),ze}function Pn(he,Je){const Re=function te(he){return(0,i.H5H)(he)[i.KH2.LocaleId]}(he);if(mt[Re]??={},mt[Re][Je])return mt[Re][Je];let ze="";switch(Je){case"shortDate":ze=fe(he,G.Short);break;case"mediumDate":ze=fe(he,G.Medium);break;case"longDate":ze=fe(he,G.Long);break;case"fullDate":ze=fe(he,G.Full);break;case"shortTime":ze=se(he,G.Short);break;case"mediumTime":ze=se(he,G.Medium);break;case"longTime":ze=se(he,G.Long);break;case"fullTime":ze=se(he,G.Full);break;case"short":const Lt=Pn(he,"shortTime"),On=Pn(he,"shortDate");ze=yt(ce(he,G.Short),[Lt,On]);break;case"medium":const Un=Pn(he,"mediumTime"),fs=Pn(he,"mediumDate");ze=yt(ce(he,G.Medium),[Un,fs]);break;case"long":const Ri=Pn(he,"longTime"),Ns=Pn(he,"longDate");ze=yt(ce(he,G.Long),[Ri,Ns]);break;case"full":const Xn=Pn(he,"fullTime"),ui=Pn(he,"fullDate");ze=yt(ce(he,G.Full),[Xn,ui])}return ze&&(mt[Re][Je]=ze),ze}function yt(he,Je){return Je&&(he=he.replace(/\{([^}]+)}/g,function(Re,ze){return null!=Je&&ze in Je?Je[ze]:Re})),he}function Kt(he,Je,Re="-",ze,Lt){let On="";(he<0||Lt&&he<=0)&&(Lt?he=1-he:(he=-he,On=Re));let Un=String(he);for(;Un.length<Je;)Un="0"+Un;return ze&&(Un=Un.slice(Un.length-Je)),On+Un}function nn(he,Je,Re=0,ze=!1,Lt=!1){return function(On,Un){let fs=function gn(he,Je){switch(he){case je.FullYear:return Je.getFullYear();case je.Month:return Je.getMonth();case je.Date:return Je.getDate();case je.Hours:return Je.getHours();case je.Minutes:return Je.getMinutes();case je.Seconds:return Je.getSeconds();case je.FractionalSeconds:return Je.getMilliseconds();case je.Day:return Je.getDay();default:throw new Error(`Unknown DateType value "${he}".`)}}(he,On);if((Re>0||fs>-Re)&&(fs+=Re),he===je.Hours)0===fs&&-12===Re&&(fs=12);else if(he===je.FractionalSeconds)return function Rt(he,Je){return Kt(he,3).substring(0,Je)}(fs,Je);const Ri=De(Un,q.MinusSign);return Kt(fs,Je,Ri,ze,Lt)}}function It(he,Je,Re=K.Format,ze=!1){return function(Lt,On){return function zt(he,Je,Re,ze,Lt,On){switch(Re){case ut.Months:return Q(Je,Lt,ze)[he.getMonth()];case ut.Days:return J(Je,Lt,ze)[he.getDay()];case ut.DayPeriods:const Un=he.getHours(),fs=he.getMinutes();if(On){const Ns=function Fe(he){const Je=(0,i.H5H)(he);return ht(Je),(Je[i.KH2.ExtraData][2]||[]).map(ze=>"string"==typeof ze?Mt(ze):[Mt(ze[0]),Mt(ze[1])])}(Je),Xn=function Et(he,Je,Re){const ze=(0,i.H5H)(he);ht(ze);const On=pt([ze[i.KH2.ExtraData][0],ze[i.KH2.ExtraData][1]],Je)||[];return pt(On,Re)||[]}(Je,Lt,ze),ui=Ns.findIndex(Fi=>{if(Array.isArray(Fi)){const[Mi,So]=Fi,Go=Un>=Mi.hours&&fs>=Mi.minutes,Ai=Un<So.hours||Un===So.hours&&fs<So.minutes;if(Mi.hours<So.hours){if(Go&&Ai)return!0}else if(Go||Ai)return!0}else if(Fi.hours===Un&&Fi.minutes===fs)return!0;return!1});if(-1!==ui)return Xn[ui]}return Z(Je,Lt,ze)[Un<12?0:1];case ut.Eras:return function ee(he,Je){return pt((0,i.H5H)(he)[i.KH2.Eras],Je)}(Je,ze)[he.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Re}`)}}(Lt,On,he,Je,Re,ze)}}function Yt(he){return function(Je,Re,ze){const Lt=-1*ze,On=De(Re,q.MinusSign),Un=Lt>0?Math.floor(Lt/60):Math.ceil(Lt/60);switch(he){case Ce.Short:return(Lt>=0?"+":"")+Kt(Un,2,On)+Kt(Math.abs(Lt%60),2,On);case Ce.ShortGMT:return"GMT"+(Lt>=0?"+":"")+Kt(Un,1,On);case Ce.Long:return"GMT"+(Lt>=0?"+":"")+Kt(Un,2,On)+":"+Kt(Math.abs(Lt%60),2,On);case Ce.Extended:return 0===ze?"Z":(Lt>=0?"+":"")+Kt(Un,2,On)+":"+Kt(Math.abs(Lt%60),2,On);default:throw new Error(`Unknown zone width "${he}"`)}}}const wt=0,bt=4;function Dt(he){const Je=he.getDay(),Re=0===Je?-3:bt-Je;return an(he.getFullYear(),he.getMonth(),he.getDate()+Re)}function Ft(he,Je=!1){return function(Re,ze){let Lt;if(Je){const On=new Date(Re.getFullYear(),Re.getMonth(),1).getDay()-1,Un=Re.getDate();Lt=1+Math.floor((Un+On)/7)}else{const On=Dt(Re),Un=function Jt(he){const Je=an(he,wt,1).getDay();return an(he,0,1+(Je<=bt?bt:bt+7)-Je)}(On.getFullYear()),fs=On.getTime()-Un.getTime();Lt=1+Math.round(fs/6048e5)}return Kt(Lt,he,De(ze,q.MinusSign))}}function ot(he,Je=!1){return function(Re,ze){return Kt(Dt(Re).getFullYear(),he,De(ze,q.MinusSign),Je)}}const xe={};function Ke(he,Je){he=he.replace(/:/g,"");const Re=Date.parse("Jan 01, 1970 00:00:00 "+he)/6e4;return isNaN(Re)?Je:Re}function ke(he){return he instanceof Date&&!isNaN(he.valueOf())}const Le=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function dn(he){const Je=parseInt(he);if(isNaN(Je))throw new Error("Invalid integer literal when parsing "+he);return Je}function _t(he,Je){Je=encodeURIComponent(Je);for(const Re of he.split(";")){const ze=Re.indexOf("="),[Lt,On]=-1==ze?[Re,""]:[Re.slice(0,ze),Re.slice(ze+1)];if(Lt.trim()===Je)return decodeURIComponent(On)}return null}const Ht=/\s+/,We=[];let sn=(()=>{class he{constructor(Re,ze){this._ngEl=Re,this._renderer=ze,this.initialClasses=We,this.stateMap=new Map}set klass(Re){this.initialClasses=null!=Re?Re.trim().split(Ht):We}set ngClass(Re){this.rawClass="string"==typeof Re?Re.trim().split(Ht):Re}ngDoCheck(){for(const ze of this.initialClasses)this._updateState(ze,!0);const Re=this.rawClass;if(Array.isArray(Re)||Re instanceof Set)for(const ze of Re)this._updateState(ze,!0);else if(null!=Re)for(const ze of Object.keys(Re))this._updateState(ze,!!Re[ze]);this._applyStateDiff()}_updateState(Re,ze){const Lt=this.stateMap.get(Re);void 0!==Lt?(Lt.enabled!==ze&&(Lt.changed=!0,Lt.enabled=ze),Lt.touched=!0):this.stateMap.set(Re,{enabled:ze,changed:!0,touched:!0})}_applyStateDiff(){for(const Re of this.stateMap){const ze=Re[0],Lt=Re[1];Lt.changed?(this._toggleClass(ze,Lt.enabled),Lt.changed=!1):Lt.touched||(Lt.enabled&&this._toggleClass(ze,!1),this.stateMap.delete(ze)),Lt.touched=!1}}_toggleClass(Re,ze){(Re=Re.trim()).length>0&&Re.split(Ht).forEach(Lt=>{ze?this._renderer.addClass(this._ngEl.nativeElement,Lt):this._renderer.removeClass(this._ngEl.nativeElement,Lt)})}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:he,selectors:[["","ngClass",""]],inputs:{klass:[i.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return he})(),lt=(()=>{class he{constructor(Re){this._viewContainerRef=Re,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(Re){return void 0!==Re.ngComponentOutletNgModule||void 0!==Re.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(Re){return void 0!==Re.ngComponentOutlet||void 0!==Re.ngComponentOutletContent||void 0!==Re.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(Re)}ngOnChanges(Re){if(this._needToReCreateComponentInstance(Re)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const ze=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(Re)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,i.w6W)(this.ngComponentOutletNgModule,gt(ze)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(gt(ze)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:ze,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const Re of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(Re,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(Re){for(const[ze,Lt]of this._inputsUsed)Lt?(Re.setInput(ze,this.ngComponentOutletInputs[ze]),this._inputsUsed.set(ze,!1)):(Re.setInput(ze,void 0),this._inputsUsed.delete(ze))}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:he,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[i.OA$]})}}return he})();function gt(he){return he.get(i.Vns).injector}class Ct{constructor(Je,Re,ze,Lt){this.$implicit=Je,this.ngForOf=Re,this.index=ze,this.count=Lt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wt=(()=>{class he{set ngForOf(Re){this._ngForOf=Re,this._ngForOfDirty=!0}set ngForTrackBy(Re){this._trackByFn=Re}get ngForTrackBy(){return this._trackByFn}constructor(Re,ze,Lt){this._viewContainer=Re,this._template=ze,this._differs=Lt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Re){Re&&(this._template=Re)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Re=this._ngForOf;!this._differ&&Re&&(this._differ=this._differs.find(Re).create(this.ngForTrackBy))}if(this._differ){const Re=this._differ.diff(this._ngForOf);Re&&this._applyChanges(Re)}}_applyChanges(Re){const ze=this._viewContainer;Re.forEachOperation((Lt,On,Un)=>{if(null==Lt.previousIndex)ze.createEmbeddedView(this._template,new Ct(Lt.item,this._ngForOf,-1,-1),null===Un?void 0:Un);else if(null==Un)ze.remove(null===On?void 0:On);else if(null!==On){const fs=ze.get(On);ze.move(fs,Un),fn(fs,Lt)}});for(let Lt=0,On=ze.length;Lt<On;Lt++){const fs=ze.get(Lt).context;fs.index=Lt,fs.count=On,fs.ngForOf=this._ngForOf}Re.forEachIdentityChange(Lt=>{fn(ze.get(Lt.currentIndex),Lt)})}static ngTemplateContextGuard(Re,ze){return!0}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i._q3))}}static{this.\u0275dir=i.FsC({type:he,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return he})();function fn(he,Je){he.context.$implicit=Je.item}let Yn=(()=>{class he{constructor(Re,ze){this._viewContainer=Re,this._context=new $n,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ze}set ngIf(Re){this._context.$implicit=this._context.ngIf=Re,this._updateView()}set ngIfThen(Re){_s("ngIfThen",Re),this._thenTemplateRef=Re,this._thenViewRef=null,this._updateView()}set ngIfElse(Re){_s("ngIfElse",Re),this._elseTemplateRef=Re,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Re,ze){return!0}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:he,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return he})();class $n{constructor(){this.$implicit=null,this.ngIf=null}}function _s(he,Je){if(Je&&!Je.createEmbeddedView)throw new Error(`${he} must be a TemplateRef, but received '${(0,i.Tbb)(Je)}'.`)}class Ms{constructor(Je,Re){this._viewContainerRef=Je,this._templateRef=Re,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Je){Je&&!this._created?this.create():!Je&&this._created&&this.destroy()}}let hs=(()=>{class he{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Re){this._ngSwitch=Re,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Re){this._defaultViews.push(Re)}_matchCase(Re){const ze=Re===this._ngSwitch;return this._lastCasesMatched||=ze,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ze}_updateDefaultCases(Re){if(this._defaultViews.length>0&&Re!==this._defaultUsed){this._defaultUsed=Re;for(const ze of this._defaultViews)ze.enforceState(Re)}}static{this.\u0275fac=function(ze){return new(ze||he)}}static{this.\u0275dir=i.FsC({type:he,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return he})(),bs=(()=>{class he{constructor(Re,ze,Lt){this.ngSwitch=Lt,Lt._addCase(),this._view=new Ms(Re,ze)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(hs,9))}}static{this.\u0275dir=i.FsC({type:he,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return he})(),to=(()=>{class he{constructor(Re,ze,Lt){this._ngEl=Re,this._differs=ze,this._renderer=Lt,this._ngStyle=null,this._differ=null}set ngStyle(Re){this._ngStyle=Re,!this._differ&&Re&&(this._differ=this._differs.find(Re).create())}ngDoCheck(){if(this._differ){const Re=this._differ.diff(this._ngStyle);Re&&this._applyChanges(Re)}}_setStyle(Re,ze){const[Lt,On]=Re.split("."),Un=-1===Lt.indexOf("-")?void 0:i.czy.DashCase;null!=ze?this._renderer.setStyle(this._ngEl.nativeElement,Lt,On?`${ze}${On}`:ze,Un):this._renderer.removeStyle(this._ngEl.nativeElement,Lt,Un)}_applyChanges(Re){Re.forEachRemovedItem(ze=>this._setStyle(ze.key,null)),Re.forEachAddedItem(ze=>this._setStyle(ze.key,ze.currentValue)),Re.forEachChangedItem(ze=>this._setStyle(ze.key,ze.currentValue))}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.aKT),i.rXU(i.MKu),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:he,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return he})(),Rs=(()=>{class he{constructor(Re){this._viewContainerRef=Re,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Re){if(this._shouldRecreateView(Re)){const ze=this._viewContainerRef;if(this._viewRef&&ze.remove(ze.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Lt=this._createContextForwardProxy();this._viewRef=ze.createEmbeddedView(this.ngTemplateOutlet,Lt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Re){return!!Re.ngTemplateOutlet||!!Re.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Re,ze,Lt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ze,Lt),get:(Re,ze,Lt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ze,Lt)}})}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:he,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[i.OA$]})}}return he})();function Yi(he,Je){return new i.wOt(2100,!1)}class _r{createSubscription(Je,Re){return(0,i.O8t)(()=>Je.subscribe({next:Re,error:ze=>{throw ze}}))}dispose(Je){(0,i.O8t)(()=>Je.unsubscribe())}}class Uo{createSubscription(Je,Re){return Je.then(Re,ze=>{throw ze})}dispose(Je){}}const $t=new Uo,Dn=new _r;let on=(()=>{class he{constructor(Re){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Re}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Re){if(!this._obj){if(Re)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Re)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Re!==this._obj?(this._dispose(),this.transform(Re)):this._latestValue}_subscribe(Re){this._obj=Re,this._strategy=this._selectStrategy(Re),this._subscription=this._strategy.createSubscription(Re,ze=>this._updateLatestValue(Re,ze))}_selectStrategy(Re){if((0,i.jNT)(Re))return $t;if((0,i.zjR)(Re))return Dn;throw Yi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Re,ze){Re===this._obj&&(this._latestValue=ze,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.gRc,16))}}static{this.\u0275pipe=i.EJ8({name:"async",type:he,pure:!1,standalone:!0})}}return he})(),Qt=(()=>{class he{transform(Re){if(null==Re)return null;if("string"!=typeof Re)throw Yi();return Re.toLowerCase()}static{this.\u0275fac=function(ze){return new(ze||he)}}static{this.\u0275pipe=i.EJ8({name:"lowercase",type:he,pure:!0,standalone:!0})}}return he})();const Fn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let qn=(()=>{class he{transform(Re){if(null==Re)return null;if("string"!=typeof Re)throw Yi();return Re.replace(Fn,ze=>ze[0].toUpperCase()+ze.slice(1).toLowerCase())}static{this.\u0275fac=function(ze){return new(ze||he)}}static{this.\u0275pipe=i.EJ8({name:"titlecase",type:he,pure:!0,standalone:!0})}}return he})();const Ci=new i.nKC(""),vo=new i.nKC("");let hi=(()=>{class he{constructor(Re,ze,Lt){this.locale=Re,this.defaultTimezone=ze,this.defaultOptions=Lt}transform(Re,ze,Lt,On){if(null==Re||""===Re||Re!=Re)return null;try{return hn(Re,ze??this.defaultOptions?.dateFormat??"mediumDate",On||this.locale,Lt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Un){throw Yi()}}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.xe9,16),i.rXU(Ci,24),i.rXU(vo,24))}}static{this.\u0275pipe=i.EJ8({name:"date",type:he,pure:!0,standalone:!0})}}return he})(),yr=(()=>{class he{constructor(Re){this.differs=Re,this.keyValues=[],this.compareFn=Jo}transform(Re,ze=Jo){if(!Re||!(Re instanceof Map)&&"object"!=typeof Re)return null;this.differ??=this.differs.find(Re).create();const Lt=this.differ.diff(Re),On=ze!==this.compareFn;return Lt&&(this.keyValues=[],Lt.forEachItem(Un=>{this.keyValues.push(function Xr(he,Je){return{key:he,value:Je}}(Un.key,Un.currentValue))})),(Lt||On)&&(this.keyValues.sort(ze),this.compareFn=ze),this.keyValues}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.MKu,16))}}static{this.\u0275pipe=i.EJ8({name:"keyvalue",type:he,pure:!1,standalone:!0})}}return he})();function Jo(he,Je){const Re=he.key,ze=Je.key;if(Re===ze)return 0;if(void 0===Re)return 1;if(void 0===ze)return-1;if(null===Re)return 1;if(null===ze)return-1;if("string"==typeof Re&&"string"==typeof ze)return Re<ze?-1:1;if("number"==typeof Re&&"number"==typeof ze)return Re-ze;if("boolean"==typeof Re&&"boolean"==typeof ze)return Re<ze?-1:1;const Lt=String(Re),On=String(ze);return Lt==On?0:Lt<On?-1:1}let Jr=(()=>{class he{constructor(Re){this._locale=Re}transform(Re,ze,Lt){if(!function po(he){return!(null==he||""===he||he!=he)}(Re))return null;Lt||=this._locale;try{return function Jn(he,Je,Re){return function vt(he,Je,Re,ze,Lt,On,Un=!1){let fs="",Ri=!1;if(isFinite(he)){let Ns=function Cs(he){let ze,Lt,On,Un,fs,Je=Math.abs(he)+"",Re=0;for((Lt=Je.indexOf("."))>-1&&(Je=Je.replace(".","")),(On=Je.search(/e/i))>0?(Lt<0&&(Lt=On),Lt+=+Je.slice(On+1),Je=Je.substring(0,On)):Lt<0&&(Lt=Je.length),On=0;"0"===Je.charAt(On);On++);if(On===(fs=Je.length))ze=[0],Lt=1;else{for(fs--;"0"===Je.charAt(fs);)fs--;for(Lt-=On,ze=[],Un=0;On<=fs;On++,Un++)ze[Un]=Number(Je.charAt(On))}return Lt>22&&(ze=ze.splice(0,21),Re=Lt-1,Lt=1),{digits:ze,exponent:Re,integerLen:Lt}}(he);Un&&(Ns=function cs(he){if(0===he.digits[0])return he;const Je=he.digits.length-he.integerLen;return he.exponent?he.exponent+=2:(0===Je?he.digits.push(0,0):1===Je&&he.digits.push(0),he.integerLen+=2),he}(Ns));let Xn=Je.minInt,ui=Je.minFrac,Fi=Je.maxFrac;if(On){const ws=On.match(Le);if(null===ws)throw new Error(`${On} is not a valid digit info`);const Ii=ws[1],go=ws[3],Eo=ws[5];null!=Ii&&(Xn=dn(Ii)),null!=go&&(ui=dn(go)),null!=Eo?Fi=dn(Eo):null!=go&&ui>Fi&&(Fi=ui)}!function ds(he,Je,Re){if(Je>Re)throw new Error(`The minimum number of digits after fraction (${Je}) is higher than the maximum (${Re}).`);let ze=he.digits,Lt=ze.length-he.integerLen;const On=Math.min(Math.max(Je,Lt),Re);let Un=On+he.integerLen,fs=ze[Un];if(Un>0){ze.splice(Math.max(he.integerLen,Un));for(let ui=Un;ui<ze.length;ui++)ze[ui]=0}else{Lt=Math.max(0,Lt),he.integerLen=1,ze.length=Math.max(1,Un=On+1),ze[0]=0;for(let ui=1;ui<Un;ui++)ze[ui]=0}if(fs>=5)if(Un-1<0){for(let ui=0;ui>Un;ui--)ze.unshift(0),he.integerLen++;ze.unshift(1),he.integerLen++}else ze[Un-1]++;for(;Lt<Math.max(0,On);Lt++)ze.push(0);let Ri=0!==On;const Ns=Je+he.integerLen,Xn=ze.reduceRight(function(ui,Fi,Mi,So){return So[Mi]=(Fi+=ui)<10?Fi:Fi-10,Ri&&(0===So[Mi]&&Mi>=Ns?So.pop():Ri=!1),Fi>=10?1:0},0);Xn&&(ze.unshift(Xn),he.integerLen++)}(Ns,ui,Fi);let Mi=Ns.digits,So=Ns.integerLen;const Go=Ns.exponent;let Ai=[];for(Ri=Mi.every(ws=>!ws);So<Xn;So++)Mi.unshift(0);for(;So<0;So++)Mi.unshift(0);So>0?Ai=Mi.splice(So,Mi.length):(Ai=Mi,Mi=[0]);const es=[];for(Mi.length>=Je.lgSize&&es.unshift(Mi.splice(-Je.lgSize,Mi.length).join(""));Mi.length>Je.gSize;)es.unshift(Mi.splice(-Je.gSize,Mi.length).join(""));Mi.length&&es.unshift(Mi.join("")),fs=es.join(De(Re,ze)),Ai.length&&(fs+=De(Re,Lt)+Ai.join("")),Go&&(fs+=De(Re,q.Exponential)+"+"+Go)}else fs=De(Re,q.Infinity);return fs=he<0&&!Ri?Je.negPre+fs+Je.negSuf:Je.posPre+fs+Je.posSuf,fs}(he,function Gs(he,Je="-"){const Re={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ze=he.split(";"),Lt=ze[0],On=ze[1],Un=-1!==Lt.indexOf(".")?Lt.split("."):[Lt.substring(0,Lt.lastIndexOf("0")+1),Lt.substring(Lt.lastIndexOf("0")+1)],fs=Un[0],Ri=Un[1]||"";Re.posPre=fs.substring(0,fs.indexOf("#"));for(let Xn=0;Xn<Ri.length;Xn++){const ui=Ri.charAt(Xn);"0"===ui?Re.minFrac=Re.maxFrac=Xn+1:"#"===ui?Re.maxFrac=Xn+1:Re.posSuf+=ui}const Ns=fs.split(",");if(Re.gSize=Ns[1]?Ns[1].length:0,Re.lgSize=Ns[2]||Ns[1]?(Ns[2]||Ns[1]).length:0,On){const Xn=Lt.length-Re.posPre.length-Re.posSuf.length,ui=On.indexOf("#");Re.negPre=On.substring(0,ui).replace(/'/g,""),Re.negSuf=On.slice(ui+Xn).replace(/'/g,"")}else Re.negPre=Je+Re.posPre,Re.negSuf=Re.posSuf;return Re}(function be(he,Je){return(0,i.H5H)(he)[i.KH2.NumberFormats][Je]}(Je,W.Decimal),De(Je,q.MinusSign)),Je,q.Group,q.Decimal,Re)}(function Er(he){if("string"==typeof he&&!isNaN(Number(he)-parseFloat(he)))return Number(he);if("number"!=typeof he)throw new Error(`${he} is not a number`);return he}(Re),Lt,ze)}catch(On){throw Yi()}}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.xe9,16))}}static{this.\u0275pipe=i.EJ8({name:"number",type:he,pure:!0,standalone:!0})}}return he})();let Zr=(()=>{class he{static{this.\u0275fac=function(ze){return new(ze||he)}}static{this.\u0275mod=i.$C({type:he})}static{this.\u0275inj=i.G2t({})}}return he})();const Qo="browser",jr="server";function rr(he){return he===Qo}function qr(he){return he===jr}let qe=(()=>{class he{static{this.\u0275prov=(0,i.jDH)({token:he,providedIn:"root",factory:()=>rr((0,i.WQX)(i.Agw))?new at((0,i.WQX)(f),window):new Vt})}}return he})();class at{constructor(Je,Re){this.document=Je,this.window=Re,this.offset=()=>[0,0]}setOffset(Je){this.offset=Array.isArray(Je)?()=>Je:Je}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Je){this.window.scrollTo(Je[0],Je[1])}scrollToAnchor(Je){const Re=function Ut(he,Je){const Re=he.getElementById(Je)||he.getElementsByName(Je)[0];if(Re)return Re;if("function"==typeof he.createTreeWalker&&he.body&&"function"==typeof he.body.attachShadow){const ze=he.createTreeWalker(he.body,NodeFilter.SHOW_ELEMENT);let Lt=ze.currentNode;for(;Lt;){const On=Lt.shadowRoot;if(On){const Un=On.getElementById(Je)||On.querySelector(`[name="${Je}"]`);if(Un)return Un}Lt=ze.nextNode()}}return null}(this.document,Je);Re&&(this.scrollToElement(Re),Re.focus())}setHistoryScrollRestoration(Je){this.window.history.scrollRestoration=Je}scrollToElement(Je){const Re=Je.getBoundingClientRect(),ze=Re.left+this.window.pageXOffset,Lt=Re.top+this.window.pageYOffset,On=this.offset();this.window.scrollTo(ze-On[0],Lt-On[1])}}class Vt{setOffset(Je){}getScrollPosition(){return[0,0]}scrollToPosition(Je){}scrollToAnchor(Je){}setHistoryScrollRestoration(Je){}}class xn{}},21626:(F,D,n)=>{"use strict";n.d(D,{$R:()=>Be,$m:()=>Ls,B3:()=>Dt,Lr:()=>A,Nl:()=>k,Qq:()=>se,Sx:()=>st,a7:()=>Et,cS:()=>ee,q1:()=>Bn,yz:()=>le}),n(74523);var t=n(54438),u=n(7673),e=n(71985),h=n(22806),m=n(70274),f=n(5964),v=n(96354),E=n(70980),_=n(25558),C=n(88141),I=n(60177);class R{}class T{}class A{constructor(Ht){this.normalizedNames=new Map,this.lazyUpdate=null,Ht?"string"==typeof Ht?this.lazyInit=()=>{this.headers=new Map,Ht.split("\n").forEach(We=>{const sn=We.indexOf(":");if(sn>0){const lt=We.slice(0,sn),gt=lt.toLowerCase(),Ct=We.slice(sn+1).trim();this.maybeSetNormalizedName(lt,gt),this.headers.has(gt)?this.headers.get(gt).push(Ct):this.headers.set(gt,[Ct])}})}:typeof Headers<"u"&&Ht instanceof Headers?(this.headers=new Map,Ht.forEach((We,sn)=>{this.setHeaderEntries(sn,We)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ht).forEach(([We,sn])=>{this.setHeaderEntries(We,sn)})}:this.headers=new Map}has(Ht){return this.init(),this.headers.has(Ht.toLowerCase())}get(Ht){this.init();const We=this.headers.get(Ht.toLowerCase());return We&&We.length>0?We[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ht){return this.init(),this.headers.get(Ht.toLowerCase())||null}append(Ht,We){return this.clone({name:Ht,value:We,op:"a"})}set(Ht,We){return this.clone({name:Ht,value:We,op:"s"})}delete(Ht,We){return this.clone({name:Ht,value:We,op:"d"})}maybeSetNormalizedName(Ht,We){this.normalizedNames.has(We)||this.normalizedNames.set(We,Ht)}init(){this.lazyInit&&(this.lazyInit instanceof A?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ht=>this.applyUpdate(Ht)),this.lazyUpdate=null))}copyFrom(Ht){Ht.init(),Array.from(Ht.headers.keys()).forEach(We=>{this.headers.set(We,Ht.headers.get(We)),this.normalizedNames.set(We,Ht.normalizedNames.get(We))})}clone(Ht){const We=new A;return We.lazyInit=this.lazyInit&&this.lazyInit instanceof A?this.lazyInit:this,We.lazyUpdate=(this.lazyUpdate||[]).concat([Ht]),We}applyUpdate(Ht){const We=Ht.name.toLowerCase();switch(Ht.op){case"a":case"s":let sn=Ht.value;if("string"==typeof sn&&(sn=[sn]),0===sn.length)return;this.maybeSetNormalizedName(Ht.name,We);const lt=("a"===Ht.op?this.headers.get(We):void 0)||[];lt.push(...sn),this.headers.set(We,lt);break;case"d":const gt=Ht.value;if(gt){let Ct=this.headers.get(We);if(!Ct)return;Ct=Ct.filter(Wt=>-1===gt.indexOf(Wt)),0===Ct.length?(this.headers.delete(We),this.normalizedNames.delete(We)):this.headers.set(We,Ct)}else this.headers.delete(We),this.normalizedNames.delete(We)}}setHeaderEntries(Ht,We){const sn=(Array.isArray(We)?We:[We]).map(gt=>gt.toString()),lt=Ht.toLowerCase();this.headers.set(lt,sn),this.maybeSetNormalizedName(Ht,lt)}forEach(Ht){this.init(),Array.from(this.normalizedNames.keys()).forEach(We=>Ht(this.normalizedNames.get(We),this.headers.get(We)))}}class x{encodeKey(Ht){return L(Ht)}encodeValue(Ht){return L(Ht)}decodeKey(Ht){return decodeURIComponent(Ht)}decodeValue(Ht){return decodeURIComponent(Ht)}}const w=/%(\d[a-f0-9])/gi,M={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function L(_t){return encodeURIComponent(_t).replace(w,(Ht,We)=>M[We]??Ht)}function B(_t){return`${_t}`}class k{constructor(Ht={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ht.encoder||new x,Ht.fromString){if(Ht.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function O(_t,Ht){const We=new Map;return _t.length>0&&_t.replace(/^\?/,"").split("&").forEach(lt=>{const gt=lt.indexOf("="),[Ct,Wt]=-1==gt?[Ht.decodeKey(lt),""]:[Ht.decodeKey(lt.slice(0,gt)),Ht.decodeValue(lt.slice(gt+1))],fn=We.get(Ct)||[];fn.push(Wt),We.set(Ct,fn)}),We}(Ht.fromString,this.encoder)}else Ht.fromObject?(this.map=new Map,Object.keys(Ht.fromObject).forEach(We=>{const sn=Ht.fromObject[We],lt=Array.isArray(sn)?sn.map(B):[B(sn)];this.map.set(We,lt)})):this.map=null}has(Ht){return this.init(),this.map.has(Ht)}get(Ht){this.init();const We=this.map.get(Ht);return We?We[0]:null}getAll(Ht){return this.init(),this.map.get(Ht)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ht,We){return this.clone({param:Ht,value:We,op:"a"})}appendAll(Ht){const We=[];return Object.keys(Ht).forEach(sn=>{const lt=Ht[sn];Array.isArray(lt)?lt.forEach(gt=>{We.push({param:sn,value:gt,op:"a"})}):We.push({param:sn,value:lt,op:"a"})}),this.clone(We)}set(Ht,We){return this.clone({param:Ht,value:We,op:"s"})}delete(Ht,We){return this.clone({param:Ht,value:We,op:"d"})}toString(){return this.init(),this.keys().map(Ht=>{const We=this.encoder.encodeKey(Ht);return this.map.get(Ht).map(sn=>We+"="+this.encoder.encodeValue(sn)).join("&")}).filter(Ht=>""!==Ht).join("&")}clone(Ht){const We=new k({encoder:this.encoder});return We.cloneFrom=this.cloneFrom||this,We.updates=(this.updates||[]).concat(Ht),We}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ht=>this.map.set(Ht,this.cloneFrom.map.get(Ht))),this.updates.forEach(Ht=>{switch(Ht.op){case"a":case"s":const We=("a"===Ht.op?this.map.get(Ht.param):void 0)||[];We.push(B(Ht.value)),this.map.set(Ht.param,We);break;case"d":if(void 0===Ht.value){this.map.delete(Ht.param);break}{let sn=this.map.get(Ht.param)||[];const lt=sn.indexOf(B(Ht.value));-1!==lt&&sn.splice(lt,1),sn.length>0?this.map.set(Ht.param,sn):this.map.delete(Ht.param)}}}),this.cloneFrom=this.updates=null)}}class U{constructor(){this.map=new Map}set(Ht,We){return this.map.set(Ht,We),this}get(Ht){return this.map.has(Ht)||this.map.set(Ht,Ht.defaultValue()),this.map.get(Ht)}delete(Ht){return this.map.delete(Ht),this}has(Ht){return this.map.has(Ht)}keys(){return this.map.keys()}}function Y(_t){return typeof ArrayBuffer<"u"&&_t instanceof ArrayBuffer}function G(_t){return typeof Blob<"u"&&_t instanceof Blob}function q(_t){return typeof FormData<"u"&&_t instanceof FormData}class te{constructor(Ht,We,sn,lt){let gt;if(this.url=We,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ht.toUpperCase(),function K(_t){switch(_t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||lt?(this.body=void 0!==sn?sn:null,gt=lt):gt=sn,gt&&(this.reportProgress=!!gt.reportProgress,this.withCredentials=!!gt.withCredentials,gt.responseType&&(this.responseType=gt.responseType),gt.headers&&(this.headers=gt.headers),gt.context&&(this.context=gt.context),gt.params&&(this.params=gt.params),this.transferCache=gt.transferCache),this.headers??=new A,this.context??=new U,this.params){const Ct=this.params.toString();if(0===Ct.length)this.urlWithParams=We;else{const Wt=We.indexOf("?");this.urlWithParams=We+(-1===Wt?"?":Wt<We.length-1?"&":"")+Ct}}else this.params=new k,this.urlWithParams=We}serializeBody(){return null===this.body?null:"string"==typeof this.body||Y(this.body)||G(this.body)||q(this.body)||function z(_t){return typeof URLSearchParams<"u"&&_t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof k?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||q(this.body)?null:G(this.body)?this.body.type||null:Y(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof k?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ht={}){const We=Ht.method||this.method,sn=Ht.url||this.url,lt=Ht.responseType||this.responseType,gt=Ht.transferCache??this.transferCache,Ct=void 0!==Ht.body?Ht.body:this.body,Wt=Ht.withCredentials??this.withCredentials,fn=Ht.reportProgress??this.reportProgress;let An=Ht.headers||this.headers,Yn=Ht.params||this.params;const $n=Ht.context??this.context;return void 0!==Ht.setHeaders&&(An=Object.keys(Ht.setHeaders).reduce((_s,Ps)=>_s.set(Ps,Ht.setHeaders[Ps]),An)),Ht.setParams&&(Yn=Object.keys(Ht.setParams).reduce((_s,Ps)=>_s.set(Ps,Ht.setParams[Ps]),Yn)),new te(We,sn,Ct,{params:Yn,headers:An,context:$n,reportProgress:fn,responseType:lt,withCredentials:Wt,transferCache:gt})}}var Z=function(_t){return _t[_t.Sent=0]="Sent",_t[_t.UploadProgress=1]="UploadProgress",_t[_t.ResponseHeader=2]="ResponseHeader",_t[_t.DownloadProgress=3]="DownloadProgress",_t[_t.Response=4]="Response",_t[_t.User=5]="User",_t}(Z||{});class J{constructor(Ht,We=ne.Ok,sn="OK"){this.headers=Ht.headers||new A,this.status=void 0!==Ht.status?Ht.status:We,this.statusText=Ht.statusText||sn,this.url=Ht.url||null,this.ok=this.status>=200&&this.status<300}}class Q extends J{constructor(Ht={}){super(Ht),this.type=Z.ResponseHeader}clone(Ht={}){return new Q({headers:Ht.headers||this.headers,status:void 0!==Ht.status?Ht.status:this.status,statusText:Ht.statusText||this.statusText,url:Ht.url||this.url||void 0})}}class ee extends J{constructor(Ht={}){super(Ht),this.type=Z.Response,this.body=void 0!==Ht.body?Ht.body:null}clone(Ht={}){return new ee({body:void 0!==Ht.body?Ht.body:this.body,headers:Ht.headers||this.headers,status:void 0!==Ht.status?Ht.status:this.status,statusText:Ht.statusText||this.statusText,url:Ht.url||this.url||void 0})}}class le extends J{constructor(Ht){super(Ht,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ht.url||"(unknown url)"}`:`Http failure response for ${Ht.url||"(unknown url)"}: ${Ht.status} ${Ht.statusText}`,this.error=Ht.error||null}}var ne=function(_t){return _t[_t.Continue=100]="Continue",_t[_t.SwitchingProtocols=101]="SwitchingProtocols",_t[_t.Processing=102]="Processing",_t[_t.EarlyHints=103]="EarlyHints",_t[_t.Ok=200]="Ok",_t[_t.Created=201]="Created",_t[_t.Accepted=202]="Accepted",_t[_t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",_t[_t.NoContent=204]="NoContent",_t[_t.ResetContent=205]="ResetContent",_t[_t.PartialContent=206]="PartialContent",_t[_t.MultiStatus=207]="MultiStatus",_t[_t.AlreadyReported=208]="AlreadyReported",_t[_t.ImUsed=226]="ImUsed",_t[_t.MultipleChoices=300]="MultipleChoices",_t[_t.MovedPermanently=301]="MovedPermanently",_t[_t.Found=302]="Found",_t[_t.SeeOther=303]="SeeOther",_t[_t.NotModified=304]="NotModified",_t[_t.UseProxy=305]="UseProxy",_t[_t.Unused=306]="Unused",_t[_t.TemporaryRedirect=307]="TemporaryRedirect",_t[_t.PermanentRedirect=308]="PermanentRedirect",_t[_t.BadRequest=400]="BadRequest",_t[_t.Unauthorized=401]="Unauthorized",_t[_t.PaymentRequired=402]="PaymentRequired",_t[_t.Forbidden=403]="Forbidden",_t[_t.NotFound=404]="NotFound",_t[_t.MethodNotAllowed=405]="MethodNotAllowed",_t[_t.NotAcceptable=406]="NotAcceptable",_t[_t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",_t[_t.RequestTimeout=408]="RequestTimeout",_t[_t.Conflict=409]="Conflict",_t[_t.Gone=410]="Gone",_t[_t.LengthRequired=411]="LengthRequired",_t[_t.PreconditionFailed=412]="PreconditionFailed",_t[_t.PayloadTooLarge=413]="PayloadTooLarge",_t[_t.UriTooLong=414]="UriTooLong",_t[_t.UnsupportedMediaType=415]="UnsupportedMediaType",_t[_t.RangeNotSatisfiable=416]="RangeNotSatisfiable",_t[_t.ExpectationFailed=417]="ExpectationFailed",_t[_t.ImATeapot=418]="ImATeapot",_t[_t.MisdirectedRequest=421]="MisdirectedRequest",_t[_t.UnprocessableEntity=422]="UnprocessableEntity",_t[_t.Locked=423]="Locked",_t[_t.FailedDependency=424]="FailedDependency",_t[_t.TooEarly=425]="TooEarly",_t[_t.UpgradeRequired=426]="UpgradeRequired",_t[_t.PreconditionRequired=428]="PreconditionRequired",_t[_t.TooManyRequests=429]="TooManyRequests",_t[_t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",_t[_t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",_t[_t.InternalServerError=500]="InternalServerError",_t[_t.NotImplemented=501]="NotImplemented",_t[_t.BadGateway=502]="BadGateway",_t[_t.ServiceUnavailable=503]="ServiceUnavailable",_t[_t.GatewayTimeout=504]="GatewayTimeout",_t[_t.HttpVersionNotSupported=505]="HttpVersionNotSupported",_t[_t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",_t[_t.InsufficientStorage=507]="InsufficientStorage",_t[_t.LoopDetected=508]="LoopDetected",_t[_t.NotExtended=510]="NotExtended",_t[_t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",_t}(ne||{});function fe(_t,Ht){return{body:Ht,headers:_t.headers,context:_t.context,observe:_t.observe,params:_t.params,reportProgress:_t.reportProgress,responseType:_t.responseType,withCredentials:_t.withCredentials,transferCache:_t.transferCache}}let se=(()=>{class _t{constructor(We){this.handler=We}request(We,sn,lt={}){let gt;if(We instanceof te)gt=We;else{let fn,An;fn=lt.headers instanceof A?lt.headers:new A(lt.headers),lt.params&&(An=lt.params instanceof k?lt.params:new k({fromObject:lt.params})),gt=new te(We,sn,void 0!==lt.body?lt.body:null,{headers:fn,context:lt.context,params:An,reportProgress:lt.reportProgress,responseType:lt.responseType||"json",withCredentials:lt.withCredentials,transferCache:lt.transferCache})}const Ct=(0,u.of)(gt).pipe((0,m.H)(fn=>this.handler.handle(fn)));if(We instanceof te||"events"===lt.observe)return Ct;const Wt=Ct.pipe((0,f.p)(fn=>fn instanceof ee));switch(lt.observe||"body"){case"body":switch(gt.responseType){case"arraybuffer":return Wt.pipe((0,v.T)(fn=>{if(null!==fn.body&&!(fn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return fn.body}));case"blob":return Wt.pipe((0,v.T)(fn=>{if(null!==fn.body&&!(fn.body instanceof Blob))throw new Error("Response is not a Blob.");return fn.body}));case"text":return Wt.pipe((0,v.T)(fn=>{if(null!==fn.body&&"string"!=typeof fn.body)throw new Error("Response is not a string.");return fn.body}));default:return Wt.pipe((0,v.T)(fn=>fn.body))}case"response":return Wt;default:throw new Error(`Unreachable: unhandled observe type ${lt.observe}}`)}}delete(We,sn={}){return this.request("DELETE",We,sn)}get(We,sn={}){return this.request("GET",We,sn)}head(We,sn={}){return this.request("HEAD",We,sn)}jsonp(We,sn){return this.request("JSONP",We,{params:(new k).append(sn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(We,sn={}){return this.request("OPTIONS",We,sn)}patch(We,sn,lt={}){return this.request("PATCH",We,fe(lt,sn))}post(We,sn,lt={}){return this.request("POST",We,fe(lt,sn))}put(We,sn,lt={}){return this.request("PUT",We,fe(lt,sn))}static{this.\u0275fac=function(sn){return new(sn||_t)(t.KVO(R))}}static{this.\u0275prov=t.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();function tt(_t,Ht){return Ht(_t)}function ht(_t,Ht){return(We,sn)=>Ht.intercept(We,{handle:lt=>_t(lt,sn)})}const Et=new t.nKC(""),Ye=new t.nKC(""),pt=new t.nKC(""),Mt=new t.nKC("");function Ne(){let _t=null;return(Ht,We)=>{null===_t&&(_t=((0,t.WQX)(Et,{optional:!0})??[]).reduceRight(ht,tt));const sn=(0,t.WQX)(t.TgB),lt=sn.add();return _t(Ht,We).pipe((0,E.j)(()=>sn.remove(lt)))}}let Zt=(()=>{class _t extends R{constructor(We,sn){super(),this.backend=We,this.injector=sn,this.chain=null,this.pendingTasks=(0,t.WQX)(t.TgB);const lt=(0,t.WQX)(Mt,{optional:!0});this.backend=lt??We}handle(We){if(null===this.chain){const lt=Array.from(new Set([...this.injector.get(Ye),...this.injector.get(pt,[])]));this.chain=lt.reduceRight((gt,Ct)=>function Fe(_t,Ht,We){return(sn,lt)=>(0,t.N4e)(We,()=>Ht(sn,gt=>_t(gt,lt)))}(gt,Ct,this.injector),tt)}const sn=this.pendingTasks.add();return this.chain(We,lt=>this.backend.handle(lt)).pipe((0,E.j)(()=>this.pendingTasks.remove(sn)))}static{this.\u0275fac=function(sn){return new(sn||_t)(t.KVO(T),t.KVO(t.uvJ))}}static{this.\u0275prov=t.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();const nn=/^\)\]\}',?\n/;let It=(()=>{class _t{constructor(We){this.xhrFactory=We}handle(We){if("JSONP"===We.method)throw new t.wOt(-2800,!1);const sn=this.xhrFactory;return(sn.\u0275loadImpl?(0,h.H)(sn.\u0275loadImpl()):(0,u.of)(null)).pipe((0,_.n)(()=>new e.c(gt=>{const Ct=sn.build();if(Ct.open(We.method,We.urlWithParams),We.withCredentials&&(Ct.withCredentials=!0),We.headers.forEach((hs,bs)=>Ct.setRequestHeader(hs,bs.join(","))),We.headers.has("Accept")||Ct.setRequestHeader("Accept","application/json, text/plain, */*"),!We.headers.has("Content-Type")){const hs=We.detectContentTypeHeader();null!==hs&&Ct.setRequestHeader("Content-Type",hs)}if(We.responseType){const hs=We.responseType.toLowerCase();Ct.responseType="json"!==hs?hs:"text"}const Wt=We.serializeBody();let fn=null;const An=()=>{if(null!==fn)return fn;const hs=Ct.statusText||"OK",bs=new A(Ct.getAllResponseHeaders()),Oi=function gn(_t){return"responseURL"in _t&&_t.responseURL?_t.responseURL:/^X-Request-URL:/m.test(_t.getAllResponseHeaders())?_t.getResponseHeader("X-Request-URL"):null}(Ct)||We.url;return fn=new Q({headers:bs,status:Ct.status,statusText:hs,url:Oi}),fn},Yn=()=>{let{headers:hs,status:bs,statusText:Oi,url:Hi}=An(),Li=null;bs!==ne.NoContent&&(Li=typeof Ct.response>"u"?Ct.responseText:Ct.response),0===bs&&(bs=Li?ne.Ok:0);let $i=bs>=200&&bs<300;if("json"===We.responseType&&"string"==typeof Li){const Bo=Li;Li=Li.replace(nn,"");try{Li=""!==Li?JSON.parse(Li):null}catch(to){Li=Bo,$i&&($i=!1,Li={error:to,text:Li})}}$i?(gt.next(new ee({body:Li,headers:hs,status:bs,statusText:Oi,url:Hi||void 0})),gt.complete()):gt.error(new le({error:Li,headers:hs,status:bs,statusText:Oi,url:Hi||void 0}))},$n=hs=>{const{url:bs}=An(),Oi=new le({error:hs,status:Ct.status||0,statusText:Ct.statusText||"Unknown Error",url:bs||void 0});gt.error(Oi)};let _s=!1;const Ps=hs=>{_s||(gt.next(An()),_s=!0);let bs={type:Z.DownloadProgress,loaded:hs.loaded};hs.lengthComputable&&(bs.total=hs.total),"text"===We.responseType&&Ct.responseText&&(bs.partialText=Ct.responseText),gt.next(bs)},Ms=hs=>{let bs={type:Z.UploadProgress,loaded:hs.loaded};hs.lengthComputable&&(bs.total=hs.total),gt.next(bs)};return Ct.addEventListener("load",Yn),Ct.addEventListener("error",$n),Ct.addEventListener("timeout",$n),Ct.addEventListener("abort",$n),We.reportProgress&&(Ct.addEventListener("progress",Ps),null!==Wt&&Ct.upload&&Ct.upload.addEventListener("progress",Ms)),Ct.send(Wt),gt.next({type:Z.Sent}),()=>{Ct.removeEventListener("error",$n),Ct.removeEventListener("abort",$n),Ct.removeEventListener("load",Yn),Ct.removeEventListener("timeout",$n),We.reportProgress&&(Ct.removeEventListener("progress",Ps),null!==Wt&&Ct.upload&&Ct.upload.removeEventListener("progress",Ms)),Ct.readyState!==Ct.DONE&&Ct.abort()}})))}static{this.\u0275fac=function(sn){return new(sn||_t)(t.KVO(I.N0))}}static{this.\u0275prov=t.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();const zt=new t.nKC(""),wt=new t.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Jt=new t.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Dt{}let Ft=(()=>{class _t{constructor(We,sn,lt){this.doc=We,this.platform=sn,this.cookieName=lt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const We=this.doc.cookie||"";return We!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,I._b)(We,this.cookieName),this.lastCookieString=We),this.lastToken}static{this.\u0275fac=function(sn){return new(sn||_t)(t.KVO(I.qQ),t.KVO(t.Agw),t.KVO(wt))}}static{this.\u0275prov=t.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();function ot(_t,Ht){const We=_t.url.toLowerCase();if(!(0,t.WQX)(zt)||"GET"===_t.method||"HEAD"===_t.method||We.startsWith("http://")||We.startsWith("https://"))return Ht(_t);const sn=(0,t.WQX)(Dt).getToken(),lt=(0,t.WQX)(Jt);return null!=sn&&!_t.headers.has(lt)&&(_t=_t.clone({headers:_t.headers.set(lt,sn)})),Ht(_t)}var Ve=function(_t){return _t[_t.Interceptors=0]="Interceptors",_t[_t.LegacyInterceptors=1]="LegacyInterceptors",_t[_t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",_t[_t.NoXsrfProtection=3]="NoXsrfProtection",_t[_t.JsonpSupport=4]="JsonpSupport",_t[_t.RequestsMadeViaParent=5]="RequestsMadeViaParent",_t[_t.Fetch=6]="Fetch",_t}(Ve||{});function Be(..._t){const Ht=[se,It,Zt,{provide:R,useExisting:Zt},{provide:T,useExisting:It},{provide:Ye,useValue:ot,multi:!0},{provide:zt,useValue:!0},{provide:Dt,useClass:Ft}];for(const We of _t)Ht.push(...We.\u0275providers);return(0,t.EmA)(Ht)}const Qe=new t.nKC("");function st(){return function Ke(_t,Ht){return{\u0275kind:_t,\u0275providers:Ht}}(Ve.LegacyInterceptors,[{provide:Qe,useFactory:Ne},{provide:Ye,useExisting:Qe,multi:!0}])}let Bn=(()=>{class _t{static{this.\u0275fac=function(sn){return new(sn||_t)}}static{this.\u0275mod=t.$C({type:_t})}static{this.\u0275inj=t.G2t({providers:[Be(st())]})}}return _t})();const wn="b",ct="h",vt="s",pn="st",Nn="u",Jn="rt",Gs=new t.nKC(""),cs=["GET","HEAD"];function Cs(_t,Ht){const{isCacheActive:We,...sn}=(0,t.WQX)(Gs),{transferCache:lt,method:gt}=_t;if(!We||"POST"===gt&&!sn.includePostRequests&&!lt||"POST"!==gt&&!cs.includes(gt)||!1===lt||!1===sn.filter?.(_t))return Ht(_t);const Ct=(0,t.WQX)(t.pJN),Wt=function En(_t){const{params:Ht,method:We,responseType:sn,url:lt}=_t,gt=dn(Ht);let Ct=_t.serializeBody();Ct instanceof URLSearchParams?Ct=dn(Ct):"string"!=typeof Ct&&(Ct="");const fn=function ss(_t){let Ht=0;for(const We of _t)Ht=Math.imul(31,Ht)+We.charCodeAt(0)|0;return Ht+=2147483648,Ht.toString()}([We,sn,lt,Ct,gt].join("|"));return(0,t.zw6)(fn)}(_t),fn=Ct.get(Wt,null);let An=sn.includeHeaders;if("object"==typeof lt&&lt.includeHeaders&&(An=lt.includeHeaders),fn){const{[wn]:$n,[Jn]:_s,[ct]:Ps,[vt]:Ms,[pn]:hs,[Nn]:bs}=fn;let Oi=$n;switch(_s){case"arraybuffer":Oi=(new TextEncoder).encode($n).buffer;break;case"blob":Oi=new Blob([$n])}let Hi=new A(Ps);return(0,u.of)(new ee({body:Oi,headers:Hi,status:Ms,statusText:hs,url:bs}))}const Yn=(0,I.Vy)((0,t.WQX)(t.Agw));return Ht(_t).pipe((0,C.M)($n=>{$n instanceof ee&&Yn&&Ct.set(Wt,{[wn]:$n.body,[ct]:ds($n.headers,An),[vt]:$n.status,[pn]:$n.statusText,[Nn]:$n.url||"",[Jn]:_t.responseType})}))}function ds(_t,Ht){if(!Ht)return{};const We={};for(const sn of Ht){const lt=_t.getAll(sn);null!==lt&&(We[sn]=lt)}return We}function dn(_t){return[..._t.keys()].sort().map(Ht=>`${Ht}=${_t.getAll(Ht)}`).join("&")}function Ls(_t){return[{provide:Gs,useFactory:()=>((0,t.ngT)("NgHttpTransferCache"),{isCacheActive:!0,..._t})},{provide:pt,useValue:Cs,multi:!0,deps:[t.pJN,Gs]},{provide:t.iLQ,multi:!0,useFactory:()=>{const Ht=(0,t.WQX)(t.o8S),We=(0,t.WQX)(Gs);return()=>{(0,t.zuW)(Ht).then(()=>{We.isCacheActive=!1})}}}]}},54438:(F,D,n)=>{"use strict";function t(r,a){return Object.is(r,a)}n.d(D,{bc$:()=>Ov,iLQ:()=>XD,sZ2:()=>Ol,hnV:()=>AR,o8S:()=>Gd,BIS:()=>du,gRc:()=>oT,Ql9:()=>LR,OM3:()=>jh,Ocv:()=>VR,abz:()=>Wc,Z63:()=>io,aKT:()=>ua,uvJ:()=>xt,zcH:()=>Tl,bkB:()=>Wl,y_5:()=>rr,$GK:()=>Qt,nKC:()=>lt,zZn:()=>Va,_q3:()=>Vy,MKu:()=>K_,xe9:()=>V_,Co$:()=>rC,Vns:()=>Ql,SKi:()=>Rr,Xx1:()=>qr,Agw:()=>gh,PLl:()=>Hm,rOR:()=>zp,sFG:()=>XM,_9s:()=>CE,czy:()=>Sl,WPN:()=>Wa,kdw:()=>_a,C4Q:()=>Nd,NYb:()=>PR,giA:()=>RR,pJN:()=>Jc,RxE:()=>GD,c1b:()=>Ag,gXe:()=>Do,mal:()=>RE,Af3:()=>he,tdH:()=>ZM,L39:()=>or,EWP:()=>Vw,a0P:()=>zw,Ol2:()=>P0,w6W:()=>LI,QZP:()=>jw,SmG:()=>HR,Rfq:()=>ot,oKB:()=>Ts,WQX:()=>Ks,naY:()=>KR,Hps:()=>C0,QuC:()=>Cr,EmA:()=>la,zw6:()=>ef,v7R:()=>Xw,Udg:()=>TT,HJs:()=>Yw,N4e:()=>ao,vPA:()=>HE,O8t:()=>Gw,An2:()=>Tg,H3F:()=>$D,H8p:()=>nr,KH2:()=>tc,TgB:()=>$h,wOt:()=>rt,WHO:()=>IR,e01:()=>SR,lNU:()=>Ne,h9k:()=>Nv,$MX:()=>ig,ZF7:()=>cf,Kcf:()=>UO,e5t:()=>kO,UyX:()=>KA,cWb:()=>sg,osQ:()=>g1,H5H:()=>ey,Zy3:()=>Gt,mq5:()=>lb,JZv:()=>gn,TL3:()=>Me,LfX:()=>En,plB:()=>jd,jNT:()=>Sy,zjR:()=>zD,ngT:()=>Xl,TL$:()=>qp,Tbb:()=>bt,zUL:()=>Dt,rcV:()=>Ia,zuW:()=>Ay,M8M:()=>Gi,Vt3:()=>I0,Mj6:()=>Zo,GFd:()=>oC,OA$:()=>rn,Jv_:()=>dD,aNF:()=>uD,R7$:()=>Yv,BMQ:()=>k0,HbH:()=>HC,ZvI:()=>qC,STu:()=>eb,ZBM:()=>pp,AVh:()=>hp,vxM:()=>Zf,wni:()=>Xb,VBU:()=>Ll,FsC:()=>Xa,jDH:()=>cs,G2t:()=>ds,$C:()=>Fa,EJ8:()=>cl,rXU:()=>Ph,nrm:()=>Q0,eu8:()=>Z0,bVm:()=>d_,qex:()=>xu,k0s:()=>l_,j41:()=>a_,RV6:()=>rb,xGo:()=>Fm,Mr5:()=>q0,pXf:()=>Lb,nnv:()=>Fb,uP7:()=>Rc,KVO:()=>po,kS0:()=>iu,QTQ:()=>z1,bIt:()=>jb,lsd:()=>Aa,XpG:()=>CP,nI1:()=>CD,bMT:()=>bD,i5U:()=>_y,brH:()=>DD,SdG:()=>DP,NAR:()=>bP,Y8G:()=>W0,FS9:()=>Gb,Mz_:()=>sy,FCK:()=>$b,lJ4:()=>pD,eq3:()=>fD,l_i:()=>mD,sMw:()=>vp,ziG:()=>GP,s1E:()=>gD,mGM:()=>lm,sdS:()=>Qb,Dyx:()=>r_,Z7z:()=>o_,fX1:()=>sb,Njj:()=>Ws,EBC:()=>N1,tSv:()=>Oh,eBV:()=>cc,npT:()=>Fv,f$h:()=>nd,B4B:()=>rg,n$t:()=>jv,xc7:()=>H0,DNE:()=>Kh,C5r:()=>TD,EFF:()=>sD,JRh:()=>nc,SpI:()=>ay,Lme:()=>ly,E5c:()=>pm,LHq:()=>cy,DH7:()=>lD,mxI:()=>uy,R50:()=>dy,GBs:()=>Jb}),n(74523);let u=null,e=!1,h=1;const m=Symbol("SIGNAL");function f(r){const a=u;return u=r,a}const C={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function I(r){if(e)throw new Error("");if(null===u)return;u.consumerOnSignalRead(r);const a=u.nextProducerIndex++;U(u),a<u.producerNode.length&&u.producerNode[a]!==r&&W(u)&&k(u.producerNode[a],u.producerIndexOfThis[a]),u.producerNode[a]!==r&&(u.producerNode[a]=r,u.producerIndexOfThis[a]=W(u)?B(r,u,a):0),u.producerLastReadVersion[a]=r.version}function T(r){if((!W(r)||r.dirty)&&(r.dirty||r.lastCleanEpoch!==h)){if(!r.producerMustRecompute(r)&&!M(r))return r.dirty=!1,void(r.lastCleanEpoch=h);r.producerRecomputeValue(r),r.dirty=!1,r.lastCleanEpoch=h}}function A(r){if(void 0===r.liveConsumerNode)return;const a=e;e=!0;try{for(const l of r.liveConsumerNode)l.dirty||x(l)}finally{e=a}}function p(){return!1!==u?.consumerAllowSignalWrites}function x(r){r.dirty=!0,A(r),r.consumerMarkedDirty?.(r)}function O(r){return r&&(r.nextProducerIndex=0),f(r)}function w(r,a){if(f(a),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(W(r))for(let l=r.nextProducerIndex;l<r.producerNode.length;l++)k(r.producerNode[l],r.producerIndexOfThis[l]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function M(r){U(r);for(let a=0;a<r.producerNode.length;a++){const l=r.producerNode[a],g=r.producerLastReadVersion[a];if(g!==l.version||(T(l),g!==l.version))return!0}return!1}function L(r){if(U(r),W(r))for(let a=0;a<r.producerNode.length;a++)k(r.producerNode[a],r.producerIndexOfThis[a]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function B(r,a,l){if(K(r),U(r),0===r.liveConsumerNode.length)for(let g=0;g<r.producerNode.length;g++)r.producerIndexOfThis[g]=B(r.producerNode[g],r,g);return r.liveConsumerIndexOfThis.push(l),r.liveConsumerNode.push(a)-1}function k(r,a){if(K(r),U(r),1===r.liveConsumerNode.length)for(let g=0;g<r.producerNode.length;g++)k(r.producerNode[g],r.producerIndexOfThis[g]);const l=r.liveConsumerNode.length-1;if(r.liveConsumerNode[a]=r.liveConsumerNode[l],r.liveConsumerIndexOfThis[a]=r.liveConsumerIndexOfThis[l],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,a<r.liveConsumerNode.length){const g=r.liveConsumerIndexOfThis[a],P=r.liveConsumerNode[a];U(P),P.producerIndexOfThis[g]=a}}function W(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function U(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}function K(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}const G=Symbol("UNSET"),q=Symbol("COMPUTING"),z=Symbol("ERRORED"),te={...C,value:G,dirty:!0,error:null,equal:t,producerMustRecompute:r=>r.value===G||r.value===q,producerRecomputeValue(r){if(r.value===q)throw new Error("Detected cycle in computations.");const a=r.value;r.value=q;const l=O(r);let g;try{g=r.computation()}catch(P){g=z,r.error=P}finally{w(r,l)}a!==G&&a!==z&&g!==z&&r.equal(a,g)?r.value=a:(r.value=g,r.version++)}};let J=function Z(){throw new Error};function Q(){J()}let le=null;function ce(r,a){p()||Q(),r.equal(r.value,a)||(r.value=a,function me(r){r.version++,function R(){h++}(),A(r),le?.()}(r))}const be={...C,equal:t,value:void 0};const Ee=()=>{},Te={...C,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{null!==r.schedule&&r.schedule(r.ref)},hasRun:!1,cleanupFn:Ee};var ht=n(21413),Fe=n(18359),Et=n(84412),Ye=n(96354),pt=n(61594);const Ne="https://g.co/ng/security#xss";class rt extends Error{constructor(a,l){super(Gt(a,l)),this.code=a}}function Gt(r,a){return`NG0${Math.abs(r)}${a?": "+a:""}`}function ut(r){return{toString:r}.toString()}const an="__parameters__";function Rt(r,a,l){return ut(()=>{const g=function Kt(r){return function(...l){if(r){const g=r(...l);for(const P in g)this[P]=g[P]}}}(a);function P(...j){if(this instanceof P)return g.apply(this,j),this;const H=new P(...j);return ie.annotation=H,ie;function ie(ve,we,Ze){const Ot=ve.hasOwnProperty(an)?ve[an]:Object.defineProperty(ve,an,{value:[]})[an];for(;Ot.length<=Ze;)Ot.push(null);return(Ot[Ze]=Ot[Ze]||[]).push(H),ve}}return l&&(P.prototype=Object.create(l.prototype)),P.prototype.ngMetadataName=r,P.annotationCls=P,P})}const gn=globalThis;function Yt(r){for(let a in r)if(r[a]===Yt)return a;throw Error("Could not find renamed property on target object.")}function wt(r,a){for(const l in a)a.hasOwnProperty(l)&&!r.hasOwnProperty(l)&&(r[l]=a[l])}function bt(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(bt).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const a=r.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function Jt(r,a){return null==r||""===r?null===a?"":a:null==a||""===a?r:r+" "+a}function Dt(r,a=100){if(!r||a<1||r.length<=a)return r;if(1==a)return r.substring(0,1)+"...";const l=Math.round(a/2);return r.substring(0,l)+"..."+r.substring(r.length-l)}const Ft=Yt({__forward_ref__:Yt});function ot(r){return r.__forward_ref__=ot,r.toString=function(){return bt(this())},r}function xe(r){return Ve(r)?r():r}function Ve(r){return"function"==typeof r&&r.hasOwnProperty(Ft)&&r.__forward_ref__===ot}function st(r,a,l){r!=a&&function ct(r,a,l,g){throw new Error(`ASSERTION ERROR: ${r}`+(null==g?"":` [Expected=> ${l} ${g} ${a} <=Actual]`))}(l,r,a,"==")}function cs(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function ds(r){return{providers:r.providers||[],imports:r.imports||[]}}function dn(r){return ss(r,_t)||ss(r,We)}function En(r){return null!==dn(r)}function ss(r,a){return r.hasOwnProperty(a)?r[a]:null}function li(r){return r&&(r.hasOwnProperty(Ht)||r.hasOwnProperty(sn))?r[Ht]:null}const _t=Yt({\u0275prov:Yt}),Ht=Yt({\u0275inj:Yt}),We=Yt({ngInjectableDef:Yt}),sn=Yt({ngInjectorDef:Yt});class lt{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=cs({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function hs(r){return r&&!!r.\u0275providers}const bs=Yt({\u0275cmp:Yt}),Oi=Yt({\u0275dir:Yt}),Hi=Yt({\u0275pipe:Yt}),Li=Yt({\u0275mod:Yt}),$i=Yt({\u0275fac:Yt}),Bo=Yt({__NG_ELEMENT_ID__:Yt}),to=Yt({__NG_ENV_ID__:Yt});function Rs(r){return"string"==typeof r?r:null==r?"":String(r)}function on(r,a){throw new rt(-201,!1)}var Qt=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Qt||{});let Fn;function qn(){return Fn}function Ds(r){const a=Fn;return Fn=r,a}function vi(r,a,l){const g=dn(r);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:l&Qt.Optional?null:void 0!==a?a:void on()}const hi={},ho="__NG_DI_FLAG__",vr="ngTempTokenPath",Xo=/\n/gm,yr="__source";let Jo;function er(r){const a=Jo;return Jo=r,a}function Qr(r,a=Qt.Default){if(void 0===Jo)throw new rt(-203,!1);return null===Jo?vi(r,void 0,a):Jo.get(r,a&Qt.Optional?null:void 0,a)}function po(r,a=Qt.Default){return(qn()||Qr)(xe(r),a)}function Ks(r,a=Qt.Default){return po(r,hr(a))}function hr(r){return typeof r>"u"||"number"==typeof r?r:(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Zr(r){const a=[];for(let l=0;l<r.length;l++){const g=xe(r[l]);if(Array.isArray(g)){if(0===g.length)throw new rt(900,!1);let P,j=Qt.Default;for(let H=0;H<g.length;H++){const ie=g[H],ve=jr(ie);"number"==typeof ve?-1===ve?P=ie.token:j|=ve:P=ie}a.push(po(P,j))}else a.push(po(g))}return a}function Qo(r,a){return r[ho]=a,r.prototype[ho]=a,r}function jr(r){return r[ho]}const rr=Qo(Rt("Inject",r=>({token:r})),-1),qr=Qo(Rt("Optional"),8),_a=Qo(Rt("SkipSelf"),4);function qe(r,a){return r.hasOwnProperty($i)?r[$i]:null}function Vt(r,a){r.forEach(l=>Array.isArray(l)?Vt(l,a):a(l))}function xn(r,a,l){a>=r.length?r.push(l):r.splice(a,0,l)}function os(r,a){return a>=r.length-1?r.pop():r.splice(a,1)[0]}function bi(r,a,l){let g=bo(r,a);return g>=0?r[1|g]=l:(g=~g,function ci(r,a,l,g){let P=r.length;if(P==a)r.push(l,g);else if(1===P)r.push(g,r[0]),r[0]=l;else{for(P--,r.push(r[P-1],r[P]);P>a;)r[P]=r[P-2],P--;r[a]=l,r[a+1]=g}}(r,g,a,l)),g}function ni(r,a){const l=bo(r,a);if(l>=0)return r[1|l]}function bo(r,a){return function Io(r,a,l){let g=0,P=r.length>>l;for(;P!==g;){const j=g+(P-g>>1),H=r[j<<l];if(a===H)return j<<l;H>a?P=j:g=j+1}return~(P<<l)}(r,a,1)}const so={},Ys=[],io=new lt(""),tr=new lt("",-1),mo=new lt("");class ko{get(a,l=hi){if(l===hi){const g=new Error(`NullInjectorError: No provider for ${bt(a)}!`);throw g.name="NullInjectorError",g}return l}}var Ar=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Ar||{}),Do=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(Do||{}),Zo=function(r){return r[r.None=0]="None",r[r.SignalBased=1]="SignalBased",r[r.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",r}(Zo||{});function va(r,a,l){let g=r.length;for(;;){const P=r.indexOf(a,l);if(-1===P)return P;if(0===P||r.charCodeAt(P-1)<=32){const j=a.length;if(P+j===g||r.charCodeAt(P+j)<=32)return P}l=P+1}}function Ge(r,a,l){let g=0;for(;g<l.length;){const P=l[g];if("number"==typeof P){if(0!==P)break;g++;const j=l[g++],H=l[g++],ie=l[g++];r.setAttribute(a,H,ie,j)}else{const j=P,H=l[++g];oe(j)?r.setProperty(a,j,H):r.setAttribute(a,j,H),g++}}return g}function Xe(r){return 3===r||4===r||6===r}function oe(r){return 64===r.charCodeAt(0)}function $e(r,a){if(null!==a&&0!==a.length)if(null===r||0===r.length)r=a.slice();else{let l=-1;for(let g=0;g<a.length;g++){const P=a[g];"number"==typeof P?l=P:0===l||_e(r,l,P,null,-1===l||2===l?a[++g]:null)}}return r}function _e(r,a,l,g,P){let j=0,H=r.length;if(-1===a)H=-1;else for(;j<r.length;){const ie=r[j++];if("number"==typeof ie){if(ie===a){H=-1;break}if(ie>a){H=j-1;break}}}for(;j<r.length;){const ie=r[j];if("number"==typeof ie)break;if(ie===l){if(null===g)return void(null!==P&&(r[j+1]=P));if(g===r[j+1])return void(r[j+2]=P)}j++,null!==g&&j++,null!==P&&j++}-1!==H&&(r.splice(H,0,a),j=H+1),r.splice(j++,0,l),null!==g&&r.splice(j++,0,g),null!==P&&r.splice(j++,0,P)}const Tt="ng-template";function Xt(r,a,l,g){let P=0;if(g){for(;P<a.length&&"string"==typeof a[P];P+=2)if("class"===a[P]&&-1!==va(a[P+1].toLowerCase(),l,0))return!0}else if(In(r))return!1;if(P=a.indexOf(1,P),P>-1){let j;for(;++P<a.length&&"string"==typeof(j=a[P]);)if(j.toLowerCase()===l)return!0}return!1}function In(r){return 4===r.type&&r.value!==Tt}function ns(r,a,l){return a===(4!==r.type||l?r.value:Tt)}function ps(r,a,l){let g=4;const P=r.attrs,j=null!==P?function Di(r){for(let a=0;a<r.length;a++)if(Xe(r[a]))return a;return r.length}(P):0;let H=!1;for(let ie=0;ie<a.length;ie++){const ve=a[ie];if("number"!=typeof ve){if(!H)if(4&g){if(g=2|1&g,""!==ve&&!ns(r,ve,l)||""===ve&&1===a.length){if(js(g))return!1;H=!0}}else if(8&g){if(null===P||!Xt(r,P,ve,l)){if(js(g))return!1;H=!0}}else{const we=a[++ie],Ze=Qi(ve,P,In(r),l);if(-1===Ze){if(js(g))return!1;H=!0;continue}if(""!==we){let Ot;if(Ot=Ze>j?"":P[Ze+1].toLowerCase(),2&g&&we!==Ot){if(js(g))return!1;H=!0}}}}else{if(!H&&!js(g)&&!js(ve))return!1;if(H&&js(ve))continue;H=!1,g=ve|1&g}}return js(g)||H}function js(r){return!(1&r)}function Qi(r,a,l,g){if(null===a)return-1;let P=0;if(g||!l){let j=!1;for(;P<a.length;){const H=a[P];if(H===r)return P;if(3===H||6===H)j=!0;else{if(1===H||2===H){let ie=a[++P];for(;"string"==typeof ie;)ie=a[++P];continue}if(4===H)break;if(0===H){P+=4;continue}}P+=j?1:2}return-1}return function ya(r,a){let l=r.indexOf(4);if(l>-1)for(l++;l<r.length;){const g=r[l];if("number"==typeof g)return-1;if(g===a)return l;l++}return-1}(a,r)}function zi(r,a,l=!1){for(let g=0;g<a.length;g++)if(ps(r,a[g],l))return!0;return!1}function Ea(r,a){e:for(let l=0;l<a.length;l++){const g=a[l];if(r.length===g.length){for(let P=0;P<r.length;P++)if(r[P]!==g[P])continue e;return!0}}return!1}function wr(r,a){return r?":not("+a.trim()+")":a}function aa(r){let a=r[0],l=1,g=2,P="",j=!1;for(;l<r.length;){let H=r[l];if("string"==typeof H)if(2&g){const ie=r[++l];P+="["+H+(ie.length>0?'="'+ie+'"':"")+"]"}else 8&g?P+="."+H:4&g&&(P+=" "+H);else""!==P&&!js(H)&&(a+=wr(j,P),P=""),g=H,j=j||!js(g);l++}return""!==P&&(a+=wr(j,P)),a}function Ll(r){return ut(()=>{const a=Ca(r),l={...a,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Ar.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||Do.Emulated,styles:r.styles||Ys,_:null,schemas:r.schemas||null,tView:null,id:""};ba(l);const g=r.dependencies;return l.directiveDefs=Ja(g,!1),l.pipeDefs=Ja(g,!0),l.id=function vd(r){let a=0;const l=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const P of l)a=Math.imul(31,a)+P.charCodeAt(0)|0;return a+=2147483648,"c"+a}(l),l})}function al(r){return oi(r)||oo(r)}function Ya(r){return null!==r}function Fa(r){return ut(()=>({type:r.type,bootstrap:r.bootstrap||Ys,declarations:r.declarations||Ys,imports:r.imports||Ys,exports:r.exports||Ys,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function ll(r,a){if(null==r)return so;const l={};for(const g in r)if(r.hasOwnProperty(g)){const P=r[g];let j,H,ie=Zo.None;Array.isArray(P)?(ie=P[0],j=P[1],H=P[2]??j):(j=P,H=P),a?(l[j]=ie!==Zo.None?[g,ie]:g,a[j]=H):l[j]=g}return l}function Xa(r){return ut(()=>{const a=Ca(r);return ba(a),a})}function cl(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function oi(r){return r[bs]||null}function oo(r){return r[Oi]||null}function yo(r){return r[Hi]||null}function Cr(r){const a=oi(r)||oo(r)||yo(r);return null!==a&&a.standalone}function di(r,a){const l=r[Li]||null;if(!l&&!0===a)throw new Error(`Type ${bt(r)} does not have '\u0275mod' property.`);return l}function Ca(r){const a={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:r.inputs||so,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||Ys,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ll(r.inputs,a),outputs:ll(r.outputs),debugInfo:null}}function ba(r){r.features?.forEach(a=>a(r))}function Ja(r,a){if(!r)return null;const l=a?yo:al;return()=>("function"==typeof r?r():r).map(g=>l(g)).filter(Ya)}function la(r){return{\u0275providers:r}}function Ts(...r){return{\u0275providers:ea(0,r),\u0275fromNgModule:!0}}function ea(r,...a){const l=[],g=new Set;let P;const j=H=>{l.push(H)};return Vt(a,H=>{const ie=H;ja(ie,j,[],g)&&(P||=[],P.push(ie))}),void 0!==P&&Nl(P,j),l}function Nl(r,a){for(let l=0;l<r.length;l++){const{ngModule:g,providers:P}=r[l];qo(P,j=>{a(j,g)})}}function ja(r,a,l,g){if(!(r=xe(r)))return!1;let P=null,j=li(r);const H=!j&&oi(r);if(j||H){if(H&&!H.standalone)return!1;P=r}else{const ve=r.ngModule;if(j=li(ve),!j)return!1;P=ve}const ie=g.has(P);if(H){if(ie)return!1;if(g.add(P),H.dependencies){const ve="function"==typeof H.dependencies?H.dependencies():H.dependencies;for(const we of ve)ja(we,a,l,g)}}else{if(!j)return!1;{if(null!=j.imports&&!ie){let we;g.add(P);try{Vt(j.imports,Ze=>{ja(Ze,a,l,g)&&(we||=[],we.push(Ze))})}finally{}void 0!==we&&Nl(we,a)}if(!ie){const we=qe(P)||(()=>new P);a({provide:P,useFactory:we,deps:Ys},P),a({provide:mo,useValue:P,multi:!0},P),a({provide:io,useValue:()=>po(P),multi:!0},P)}const ve=j.providers;if(null!=ve&&!ie){const we=r;qo(ve,Ze=>{a(Ze,we)})}}}return P!==r&&void 0!==r.providers}function qo(r,a){for(let l of r)hs(l)&&(l=l.\u0275providers),Array.isArray(l)?qo(l,a):a(l)}const ca=Yt({provide:String,useValue:Yt});function Fl(r){return null!==r&&"object"==typeof r&&ca in r}function ro(r){return"function"==typeof r}const nr=new lt(""),br={},Wi={};let kt;function un(){return void 0===kt&&(kt=new ko),kt}class xt{}class Rn extends xt{get destroyed(){return this._destroyed}constructor(a,l,g,P){super(),this.parent=l,this.source=g,this.scopes=P,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kn(a,H=>this.processProvider(H)),this.records.set(tr,gi(void 0,this)),P.has("environment")&&this.records.set(xt,gi(void 0,this));const j=this.records.get(nr);null!=j&&"string"==typeof j.value&&this.scopes.add(j.value),this.injectorDefTypes=new Set(this.get(mo,Ys,Qt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const a=f(null);try{for(const g of this._ngOnDestroyHooks)g.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const g of l)g()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),f(a)}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const l=er(this),g=Ds(void 0);try{return a()}finally{er(l),Ds(g)}}get(a,l=hi,g=Qt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(to))return a[to](this);g=hr(g);const j=er(this),H=Ds(void 0);try{if(!(g&Qt.SkipSelf)){let ve=this.records.get(a);if(void 0===ve){const we=function ki(r){return"function"==typeof r||"object"==typeof r&&r instanceof lt}(a)&&dn(a);ve=we&&this.injectableDefInScope(we)?gi(Wn(a),br):null,this.records.set(a,ve)}if(null!=ve)return this.hydrate(a,ve)}return(g&Qt.Self?un():this.parent).get(a,l=g&Qt.Optional&&l===hi?null:l)}catch(ie){if("NullInjectorError"===ie.name){if((ie[vr]=ie[vr]||[]).unshift(bt(a)),j)throw ie;return function Na(r,a,l,g){const P=r[vr];throw a[yr]&&P.unshift(a[yr]),r.message=function ra(r,a,l,g=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let P=bt(a);if(Array.isArray(a))P=a.map(bt).join(" -> ");else if("object"==typeof a){let j=[];for(let H in a)if(a.hasOwnProperty(H)){let ie=a[H];j.push(H+":"+("string"==typeof ie?JSON.stringify(ie):bt(ie)))}P=`{${j.join(", ")}}`}return`${l}${g?"("+g+")":""}[${P}]: ${r.replace(Xo,"\n  ")}`}("\n"+r.message,P,l,g),r.ngTokenPath=P,r[vr]=null,r}(ie,a,"R3InjectorError",this.source)}throw ie}finally{Ds(H),er(j)}}resolveInjectorInitializers(){const a=f(null),l=er(this),g=Ds(void 0);try{const j=this.get(io,Ys,Qt.Self);for(const H of j)H()}finally{er(l),Ds(g),f(a)}}toString(){const a=[],l=this.records;for(const g of l.keys())a.push(bt(g));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new rt(205,!1)}processProvider(a){let l=ro(a=xe(a))?a:xe(a&&a.provide);const g=function Us(r){return Fl(r)?gi(void 0,r.useValue):gi(Qn(r),br)}(a);if(!ro(a)&&!0===a.multi){let P=this.records.get(l);P||(P=gi(void 0,br,!0),P.factory=()=>Zr(P.multi),this.records.set(l,P)),l=a,P.multi.push(a)}this.records.set(l,g)}hydrate(a,l){const g=f(null);try{return l.value===br&&(l.value=Wi,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Zi(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}finally{f(g)}}injectableDefInScope(a){if(!a.providedIn)return!1;const l=xe(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(a){const l=this._onDestroyHooks.indexOf(a);-1!==l&&this._onDestroyHooks.splice(l,1)}}function Wn(r){const a=dn(r),l=null!==a?a.factory:qe(r);if(null!==l)return l;if(r instanceof lt)throw new rt(204,!1);if(r instanceof Function)return function rs(r){if(r.length>0)throw new rt(204,!1);const l=function Ls(r){return r&&(r[_t]||r[We])||null}(r);return null!==l?()=>l.factory(r):()=>new r}(r);throw new rt(204,!1)}function Qn(r,a,l){let g;if(ro(r)){const P=xe(r);return qe(P)||Wn(P)}if(Fl(r))g=()=>xe(r.useValue);else if(function Qa(r){return!(!r||!r.useFactory)}(r))g=()=>r.useFactory(...Zr(r.deps||[]));else if(function Br(r){return!(!r||!r.useExisting)}(r))g=()=>po(xe(r.useExisting));else{const P=xe(r&&(r.useClass||r.provide));if(!function Ni(r){return!!r.deps}(r))return qe(P)||Wn(P);g=()=>new P(...Zr(r.deps))}return g}function gi(r,a,l=!1){return{factory:r,value:a,multi:l?[]:void 0}}function kn(r,a){for(const l of r)Array.isArray(l)?kn(l,a):l&&hs(l)?kn(l.\u0275providers,a):a(l)}function ao(r,a){r instanceof Rn&&r.assertNotDestroyed();const g=er(r),P=Ds(void 0);try{return a()}finally{er(g),Ds(P)}}function lo(){return void 0!==qn()||null!=function Jr(){return Jo}()}function he(r){if(!lo())throw new rt(-203,!1)}const Ai=0,es=1,ws=2,Ii=3,go=4,Eo=5,$o=6,sr=7,Xi=8,Po=9,xr=10,$s=11,dl=12,ul=13,ir=14,co=15,hl=16,pl=17,To=18,Ro=19,yd=20,pr=21,oc=22,Ba=23,Zs=25,rc=1,Za=6,ji=7,Ur=9,_o=10;var Nc=function(r){return r[r.None=0]="None",r[r.HasTransplantedViews=2]="HasTransplantedViews",r}(Nc||{});function si(r){return Array.isArray(r)&&"object"==typeof r[rc]}function Wo(r){return Array.isArray(r)&&!0===r[rc]}function fl(r){return!!(4&r.flags)}function Ua(r){return r.componentOffset>-1}function jl(r){return!(1&~r.flags)}function kr(r){return!!r.template}function Bl(r){return!!(512&r[ws])}class el{constructor(a,l,g){this.previousValue=a,this.currentValue=l,this.firstChange=g}isFirstChange(){return this.firstChange}}function Vr(r,a,l,g){null!==a?a.applyValueToInputSignal(a,g):r[l]=g}function rn(){return Xd}function Xd(r){return r.type.prototype.ngOnChanges&&(r.setInput=Jd),gl}function gl(){const r=Pp(this),a=r?.current;if(a){const l=r.previous;if(l===so)r.previous=a;else for(let g in a)l[g]=a[g];r.current=null,this.ngOnChanges(a)}}function Jd(r,a,l,g,P){const j=this.declaredInputs[g],H=Pp(r)||function Z_(r,a){return r[Sp]=a}(r,{previous:so,current:null}),ie=H.current||(H.current={}),ve=H.previous,we=ve[j];ie[j]=new el(we&&we.currentValue,l,ve===so),Vr(r,a,P,l)}rn.ngInherit=!0;const Sp="__ngSimpleChanges__";function Pp(r){return r[Sp]||null}const _l=function(r,a,l){};let Dm=!1;function qi(r){for(;Array.isArray(r);)r=r[Ai];return r}function Qd(r,a){return qi(a[r])}function Gr(r,a){return qi(a[r.index])}function lc(r,a){return r.data[a]}function Fc(r,a){return r[a]}function da(r,a){const l=a[r];return si(l)?l:l[Ai]}function Zd(r){return!(128&~r[ws])}function tl(r,a){return null==a?null:r[a]}function tv(r){r[pl]=0}function nv(r){1024&r[ws]||(r[ws]|=1024,Zd(r)&&Ku(r))}function sv(r){return!!(9216&r[ws]||r[Ba]?.dirty)}function Im(r){r[xr].changeDetectionScheduler?.notify(1),sv(r)?Ku(r):64&r[ws]&&(function ev(){return Dm}()?(r[ws]|=1024,Ku(r)):r[xr].changeDetectionScheduler?.notify())}function Ku(r){r[xr].changeDetectionScheduler?.notify();let a=yl(r);for(;null!==a&&!(8192&a[ws])&&(a[ws]|=8192,Zd(a));)a=yl(a)}function ks(r,a){if(!(256&~r[ws]))throw new rt(911,!1);null===r[pr]&&(r[pr]=[]),r[pr].push(a)}function yl(r){const a=r[Ii];return Wo(a)?a[Ii]:a}const ei={lFrame:rv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jc(){return ei.bindingsEnabled}function El(){return null!==ei.skipHydrationRootTNode}function Cn(){return ei.lFrame.lView}function Es(){return ei.lFrame.tView}function cc(r){return ei.lFrame.contextLView=r,r[Xi]}function Ws(r){return ei.lFrame.contextLView=null,r}function Vi(){let r=Pm();for(;null!==r&&64===r.type;)r=r.parent;return r}function Pm(){return ei.lFrame.currentTNode}function Vl(){const r=ei.lFrame,a=r.currentTNode;return r.isParent?a:a.parent}function ka(r,a){const l=ei.lFrame;l.currentTNode=r,l.isParent=a}function Rm(){return ei.lFrame.isParent}function Bc(){ei.lFrame.isParent=!1}function ta(){const r=ei.lFrame;let a=r.bindingRootIndex;return-1===a&&(a=r.bindingRootIndex=r.tView.bindingStartIndex),a}function Gl(){return ei.lFrame.bindingIndex}function Oo(){return ei.lFrame.bindingIndex++}function na(r){const a=ei.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+r,l}function qd(r){ei.lFrame.inI18n=r}function Lp(r,a){const l=ei.lFrame;l.bindingIndex=l.bindingRootIndex=r,$l(a)}function $l(r){ei.lFrame.currentDirectiveIndex=r}function Np(){return ei.lFrame.currentQueryIndex}function Uc(r){ei.lFrame.currentQueryIndex=r}function Qy(r){const a=r[es];return 2===a.type?a.declTNode:1===a.type?r[Eo]:null}function ar(r,a,l){if(l&Qt.SkipSelf){let P=a,j=r;for(;!(P=P.parent,null!==P||l&Qt.Host||(P=Qy(j),null===P||(j=j[ir],10&P.type))););if(null===P)return!1;a=P,r=j}const g=ei.lFrame=Fp();return g.currentTNode=a,g.lView=r,!0}function Ju(r){const a=Fp(),l=r[es];ei.lFrame=a,a.currentTNode=l.firstChild,a.lView=r,a.tView=l,a.contextLView=r,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function Fp(){const r=ei.lFrame,a=null===r?null:r.child;return null===a?rv(r):a}function rv(r){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=a),a}function wi(){const r=ei.lFrame;return ei.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const av=wi;function jp(){const r=wi();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function $r(){return ei.lFrame.selectedIndex}function Cd(r){ei.lFrame.selectedIndex=r}function xo(){const r=ei.lFrame;return lc(r.tView,r.selectedIndex)}function bd(){return ei.lFrame.currentNamespace}let Qu=!0;function Ko(){return Qu}function Wr(r){Qu=r}function Zu(r,a){for(let l=a.directiveStart,g=a.directiveEnd;l<g;l++){const j=r.data[l].type.prototype,{ngAfterContentInit:H,ngAfterContentChecked:ie,ngAfterViewInit:ve,ngAfterViewChecked:we,ngOnDestroy:Ze}=j;H&&(r.contentHooks??=[]).push(-l,H),ie&&((r.contentHooks??=[]).push(l,ie),(r.contentCheckHooks??=[]).push(l,ie)),ve&&(r.viewHooks??=[]).push(-l,ve),we&&((r.viewHooks??=[]).push(l,we),(r.viewCheckHooks??=[]).push(l,we)),null!=Ze&&(r.destroyHooks??=[]).push(l,Ze)}}function Oa(r,a,l){Am(r,a,3,l)}function Kr(r,a,l,g){(3&r[ws])===l&&Am(r,a,l,g)}function Up(r,a){let l=r[ws];(3&l)===a&&(l&=16383,l+=1,r[ws]=l)}function Am(r,a,l,g){const j=g??-1,H=a.length-1;let ie=0;for(let ve=void 0!==g?65535&r[pl]:0;ve<H;ve++)if("number"==typeof a[ve+1]){if(ie=a[ve],null!=g&&ie>=g)break}else a[ve]<0&&(r[pl]+=65536),(ie<j||-1==j)&&(cv(r,l,a,ve),r[pl]=(4294901760&r[pl])+ve+2),ve++}function qu(r,a){_l(4,r,a);const l=f(null);try{a.call(r)}finally{f(l),_l(5,r,a)}}function cv(r,a,l,g){const P=l[g]<0,j=l[g+1],ie=r[P?-l[g]:l[g]];P?r[ws]>>14<r[pl]>>16&&(3&r[ws])===a&&(r[ws]+=16384,qu(ie,j)):qu(ie,j)}const kc=-1;class tu{constructor(a,l,g){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=g}}function Lm(r){return r!==kc}function Vc(r){return 32767&r}function dc(r,a){let l=function eh(r){return r>>16}(r),g=a;for(;l>0;)g=g[ir],l--;return g}let th=!0;function nh(r){const a=th;return th=r,a}const sh=255,Fs=5;let ih=0;const Hr={};function uc(r,a){const l=rh(r,a);if(-1!==l)return l;const g=a[es];g.firstCreatePass&&(r.injectorIndex=a.length,Dd(g.data,r),Dd(a,null),Dd(g.blueprint,null));const P=Td(r,a),j=r.injectorIndex;if(Lm(P)){const H=Vc(P),ie=dc(P,a),ve=ie[es].data;for(let we=0;we<8;we++)a[j+we]=ie[H+we]|ve[H+we]}return a[j+8]=P,j}function Dd(r,a){r.push(0,0,0,0,0,0,0,0,a)}function rh(r,a){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===a[r.injectorIndex+8]?-1:r.injectorIndex}function Td(r,a){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let l=0,g=null,P=a;for(;null!==P;){if(g=mv(P),null===g)return kc;if(l++,P=P[ir],-1!==g.injectorIndex)return g.injectorIndex|l<<16}return kc}function Gc(r,a,l){!function oh(r,a,l){let g;"string"==typeof l?g=l.charCodeAt(0)||0:l.hasOwnProperty(Bo)&&(g=l[Bo]),null==g&&(g=l[Bo]=ih++);const P=g&sh;a.data[r+(P>>Fs)]|=1<<P}(r,a,l)}function Vp(r,a,l){if(l&Qt.Optional||void 0!==r)return r;on()}function Od(r,a,l,g){if(l&Qt.Optional&&void 0===g&&(g=null),!(l&(Qt.Self|Qt.Host))){const P=r[Po],j=Ds(void 0);try{return P?P.get(a,g,l&Qt.Optional):vi(a,g,l&Qt.Optional)}finally{Ds(j)}}return Vp(g,0,l)}function pv(r,a,l,g=Qt.Default,P){if(null!==r){if(2048&a[ws]&&!(g&Qt.Self)){const H=function t1(r,a,l,g,P){let j=r,H=a;for(;null!==j&&null!==H&&2048&H[ws]&&!(512&H[ws]);){const ie=ah(j,H,l,g|Qt.Self,Hr);if(ie!==Hr)return ie;let ve=j.parent;if(!ve){const we=H[yd];if(we){const Ze=we.get(l,Hr,g);if(Ze!==Hr)return Ze}ve=mv(H),H=H[ir]}j=ve}return P}(r,a,l,g,Hr);if(H!==Hr)return H}const j=ah(r,a,l,g,Hr);if(j!==Hr)return j}return Od(a,l,g,P)}function ah(r,a,l,g,P){const j=function fv(r){if("string"==typeof r)return r.charCodeAt(0)||0;const a=r.hasOwnProperty(Bo)?r[Bo]:void 0;return"number"==typeof a?a>=0?a&sh:ch:a}(l);if("function"==typeof j){if(!ar(a,r,g))return g&Qt.Host?Vp(P,0,g):Od(a,l,g,P);try{let H;if(H=j(g),null!=H||g&Qt.Optional)return H;on()}finally{av()}}else if("number"==typeof j){let H=null,ie=rh(r,a),ve=kc,we=g&Qt.Host?a[co][Eo]:null;for((-1===ie||g&Qt.SkipSelf)&&(ve=-1===ie?Td(r,a):a[ie+8],ve!==kc&&Md(g,!1)?(H=a[es],ie=Vc(ve),a=dc(ve,a)):ie=-1);-1!==ie;){const Ze=a[es];if(Gp(j,ie,Ze.data)){const Ot=yi(ie,a,l,H,g,we);if(Ot!==Hr)return Ot}ve=a[ie+8],ve!==kc&&Md(g,a[es].data[ie+8]===we)&&Gp(j,ie,a)?(H=Ze,ie=Vc(ve),a=dc(ve,a)):ie=-1}}return P}function yi(r,a,l,g,P,j){const H=a[es],ie=H.data[r+8],Ze=lh(ie,H,l,null==g?Ua(ie)&&th:g!=H&&!!(3&ie.type),P&Qt.Host&&j===ie);return null!==Ze?$c(a,H,Ze,ie):Hr}function lh(r,a,l,g,P){const j=r.providerIndexes,H=a.data,ie=1048575&j,ve=r.directiveStart,Ze=j>>20,tn=P?ie+Ze:r.directiveEnd;for(let mn=g?ie:ie+Ze;mn<tn;mn++){const bn=H[mn];if(mn<ve&&l===bn||mn>=ve&&bn.type===l)return mn}if(P){const mn=H[ve];if(mn&&kr(mn)&&mn.type===l)return ve}return null}function $c(r,a,l,g){let P=r[l];const j=a.data;if(function dv(r){return r instanceof tu}(P)){const H=P;H.resolving&&function Uo(r,a){throw a&&a.join(" > "),new rt(-200,r)}(function Qs(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Rs(r)}(j[l]));const ie=nh(H.canSeeViewProviders);H.resolving=!0;const we=H.injectImpl?Ds(H.injectImpl):null;ar(r,g,Qt.Default);try{P=r[l]=H.factory(void 0,j,r,g),a.firstCreatePass&&l>=g.directiveStart&&function eu(r,a,l){const{ngOnChanges:g,ngOnInit:P,ngDoCheck:j}=a.type.prototype;if(g){const H=Xd(a);(l.preOrderHooks??=[]).push(r,H),(l.preOrderCheckHooks??=[]).push(r,H)}P&&(l.preOrderHooks??=[]).push(0-r,P),j&&((l.preOrderHooks??=[]).push(r,j),(l.preOrderCheckHooks??=[]).push(r,j))}(l,j[l],a)}finally{null!==we&&Ds(we),nh(ie),H.resolving=!1,av()}}return P}function Gp(r,a,l){return!!(l[a+(r>>Fs)]&1<<r)}function Md(r,a){return!(r&Qt.Self||r&Qt.Host&&a)}class fr{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,g){return pv(this._tNode,this._lView,a,hr(g),l)}}function ch(){return new fr(Vi(),Cn())}function Fm(r){return ut(()=>{const a=r.prototype.constructor,l=a[$i]||su(a),g=Object.prototype;let P=Object.getPrototypeOf(r.prototype).constructor;for(;P&&P!==g;){const j=P[$i]||su(P);if(j&&j!==l)return j;P=Object.getPrototypeOf(P)}return j=>new j})}function su(r){return Ve(r)?()=>{const a=su(xe(r));return a&&a()}:qe(r)}function mv(r){const a=r[es],l=a.type;return 2===l?a.declTNode:1===l?r[Eo]:null}function iu(r){return function Nm(r,a){if("class"===a)return r.classes;if("style"===a)return r.styles;const l=r.attrs;if(l){const g=l.length;let P=0;for(;P<g;){const j=l[P];if(Xe(j))break;if(0===j)P+=2;else if("number"==typeof j)for(P++;P<g&&"string"==typeof l[P];)P++;else{if(j===a)return l[P+1];P+=2}}}return null}(Vi(),r)}function Dl(r,a=null,l=null,g){const P=Kp(r,a,l,g);return P.resolveInjectorInitializers(),P}function Kp(r,a=null,l=null,g,P=new Set){const j=[l||Ys,Ts(r)];return g=g||("object"==typeof r?void 0:bt(r)),new Rn(j,a||un(),g||null,P)}let Va=(()=>{class r{static{this.THROW_IF_NOT_FOUND=hi}static{this.NULL=new ko}static create(l,g){if(Array.isArray(l))return Dl({name:""},g,l,"");{const P=l.name??"";return Dl({name:P},l.parent,l.providers,P)}}static{this.\u0275prov=cs({token:r,providedIn:"any",factory:()=>po(tr)})}static{this.__NG_ELEMENT_ID__=-1}}return r})();function Hp(r){return r.ngOriginalError}class Tl{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&Hp(a);for(;l&&Hp(l);)l=Hp(l);return l||null}}const Vm=new lt("",{providedIn:"root",factory:()=>Ks(Tl).handleError.bind(void 0)});let Wc=(()=>{class r{static{this.__NG_ELEMENT_ID__=Cv}static{this.__NG_ENV_ID__=l=>l}}return r})();class lu extends Wc{constructor(a){super(),this._lView=a}onDestroy(a){return ks(this._lView,a),()=>function wp(r,a){if(null===r[pr])return;const l=r[pr].indexOf(a);-1!==l&&r[pr].splice(l,1)}(this._lView,a)}}function Cv(){return new lu(Cn())}function Gm(){return Hc(Vi(),Cn())}function Hc(r,a){return new ua(Gr(r,a))}let ua=(()=>{class r{constructor(l){this.nativeElement=l}static{this.__NG_ELEMENT_ID__=Gm}}return r})();function $m(r){return r instanceof ua?r.nativeElement:r}function Wm(r){return a=>{setTimeout(r,void 0,a)}}const Wl=class r1 extends ht.B{constructor(a=!1){super(),this.destroyRef=void 0,this.__isAsync=a,lo()&&(this.destroyRef=Ks(Wc,{optional:!0})??void 0)}emit(a){const l=f(null);try{super.next(a)}finally{f(l)}}subscribe(a,l,g){let P=a,j=l||(()=>null),H=g;if(a&&"object"==typeof a){const ve=a;P=ve.next?.bind(ve),j=ve.error?.bind(ve),H=ve.complete?.bind(ve)}this.__isAsync&&(j=Wm(j),P&&(P=Wm(P)),H&&(H=Wm(H)));const ie=super.subscribe({next:P,error:j,complete:H});return a instanceof Fe.yU&&a.add(ie),ie}};function a1(){return this._results[Symbol.iterator]()}class zp{get changes(){return this._changes??=new Wl}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const l=zp.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=a1)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){this.dirty=!1;const g=function Ut(r){return r.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function at(r,a,l){if(r.length!==a.length)return!1;for(let g=0;g<r.length;g++){let P=r[g],j=a[g];if(l&&(P=l(P),j=l(j)),j!==P)return!1}return!0}(this._results,g,l))&&(this._results=g,this.length=g.length,this.last=g[this.length-1],this.first=g[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(a){this._onDirty=a}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}const uh="ngSkipHydration",l1="ngskiphydration";function Yp(r){const a=r.mergedAttrs;if(null===a)return!1;for(let l=0;l<a.length;l+=2){const g=a[l];if("number"==typeof g)return!1;if("string"==typeof g&&g.toLowerCase()===l1)return!0}return!1}function Km(r){return r.hasAttribute(uh)}function hh(r){return!(128&~r.flags)}const X=new Map;let S=0;const us="__ngContext__";function Kn(r,a){si(a)?(r[us]=a[Ro],function ge(r){X.set(r[Ro],r)}(a)):r[us]=a}function lr(r){return Ga(r[dl])}function No(r){return Ga(r[go])}function Ga(r){for(;null!==r&&!Wo(r);)r=r[go];return r}let Zp;function qp(r){Zp=r}function mc(){if(void 0!==Zp)return Zp;if(typeof document<"u")return document;throw new rt(210,!1)}const Ol=new lt("",{providedIn:"root",factory:()=>Dv}),Dv="ng",Hm=new lt(""),gh=new lt("",{providedIn:"platform",factory:()=>"unknown"}),Ov=new lt(""),du=new lt("",{providedIn:"root",factory:()=>mc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function ef(r){return r}function zm(){const r=new Jc;return"browser"===Ks(gh)&&(r.store=function Ym(r,a){const l=r.getElementById(a+"-state");if(l?.textContent)try{return JSON.parse(l.textContent)}catch(g){console.warn("Exception while restoring TransferState for app "+a,g)}return{}}(mc(),Ks(Ol))),r}let Jc=(()=>{class r{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=cs({token:r,providedIn:"root",factory:zm})}get(l,g){return void 0!==this.store[l]?this.store[l]:g}set(l,g){this.store[l]=g}remove(l){delete this.store[l]}hasKey(l){return this.store.hasOwnProperty(l)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(l,g){this.onSerializeCallbacks[l]=g}toJson(){for(const l in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(l))try{this.store[l]=this.onSerializeCallbacks[l]()}catch(g){console.warn("Exception in onSerialize callback: ",g)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return r})();const vh="h",yh="b";var Qc=function(r){return r.FirstChild="f",r.NextSibling="n",r}(Qc||{});const Mv="e",Iv="t",tf="c",Xm="x",Eh="r",Sv="i",Pv="n",Jm="d",Rv="__nghData__",nf="ngh",PO="nghm";let c1=()=>null;function RO(r,a,l=!1){let g=r.getAttribute(nf);if(null==g)return null;const[P,j]=g.split("|");if(g=l?j:P,!g)return null;const ie=l?P:j?`|${j}`:"";let ve={};if(""!==g){const Ze=a.get(Jc,null,{optional:!0});null!==Ze&&(ve=Ze.get(Rv,[])[Number(g)])}const we={data:ve,firstChild:r.firstChild??null};return l&&(we.firstChild=r,Qm(we,0,r.nextSibling)),ie?r.setAttribute(nf,ie):r.removeAttribute(nf),we}function Av(r,a,l=!1){return c1(r,a,l)}function d1(r){let a=r._lView;return 2===a[es].type?null:(Bl(a)&&(a=a[Zs]),a)}function Qm(r,a,l){r.segmentHeads??={},r.segmentHeads[a]=l}function h1(r,a){return r.segmentHeads?.[a]??null}function uu(r,a){return r.data[tf]?.[a]??null}function Zm(r,a){const l=uu(r,a)??[];let g=0;for(let P of l)g+=P[Eh]*(P[Xm]??1);return g}function lf(r,a){if(typeof r.disconnectedNodes>"u"){const l=r.data[Jm];r.disconnectedNodes=l?new Set(l):null}return!!r.disconnectedNodes?.has(a)}const qm=new lt(""),xv=new lt("",{providedIn:"root",factory:()=>!1}),hu=new lt("");let eg,tg;function Ch(r){return function pu(){if(void 0===eg&&(eg=null,gn.trustedTypes))try{eg=gn.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return eg}()?.createHTML(r)||r}function Ue(){if(void 0===tg&&(tg=null,gn.trustedTypes))try{tg=gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return tg}function vn(r){return Ue()?.createHTML(r)||r}function Kl(r){return Ue()?.createScriptURL(r)||r}class qs{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ne})`}}class Ho extends qs{getTypeName(){return"HTML"}}class ng extends qs{getTypeName(){return"Style"}}class bh extends qs{getTypeName(){return"Script"}}class pa extends qs{getTypeName(){return"URL"}}class m1 extends qs{getTypeName(){return"ResourceURL"}}function Ia(r){return r instanceof qs?r.changingThisBreaksApplicationSecurity:r}function cf(r,a){const l=function BO(r){return r instanceof qs&&r.getTypeName()||null}(r);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see ${Ne})`)}return l===a}function UO(r){return new Ho(r)}function sg(r){return new ng(r)}function KA(r){return new bh(r)}function g1(r){return new pa(r)}function kO(r){return new m1(r)}function _1(r){const a=new fu(r);return function y1(){try{return!!(new window.DOMParser).parseFromString(Ch(""),"text/html")}catch{return!1}}()?new v1(a):a}class v1{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(Ch(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch{return null}}}class fu{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const l=this.inertDocument.createElement("template");return l.innerHTML=Ch(a),l}}const Dh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ig(r){return(r=String(r)).match(Dh)?r:"unsafe:"+r}function _c(r){const a={};for(const l of r.split(","))a[l]=!0;return a}function og(...r){const a={};for(const l of r)for(const g in l)l.hasOwnProperty(g)&&(a[g]=!0);return a}const Zc=_c("area,br,col,hr,img,wbr"),E1=_c("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C1=_c("rp,rt"),yc=og(Zc,og(E1,_c("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),og(C1,_c("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),og(C1,E1)),Ec=_c("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),D1=og(Ec,_c("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_c("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zA=_c("script,style,template");class qc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,g=!0,P=[];for(;l;)if(l.nodeType===Node.ELEMENT_NODE?g=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,g&&l.firstChild)P.push(l),l=T1(l);else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let j=Lv(l);if(j){l=j;break}l=P.pop()}return this.buf.join("")}startElement(a){const l=Hl(a).toLowerCase();if(!yc.hasOwnProperty(l))return this.sanitizedSomething=!0,!zA.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const g=a.attributes;for(let P=0;P<g.length;P++){const j=g.item(P),H=j.name,ie=H.toLowerCase();if(!D1.hasOwnProperty(ie)){this.sanitizedSomething=!0;continue}let ve=j.value;Ec[ie]&&(ve=ig(ve)),this.buf.push(" ",H,'="',M1(ve),'"')}return this.buf.push(">"),!0}endElement(a){const l=Hl(a).toLowerCase();yc.hasOwnProperty(l)&&!Zc.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(M1(a))}}function Lv(r){const a=r.nextSibling;if(a&&r!==a.previousSibling)throw O1(a);return a}function T1(r){const a=r.firstChild;if(a&&function ed(r,a){return(r.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(r,a))throw O1(a);return a}function Hl(r){const a=r.nodeName;return"string"==typeof a?a:"FORM"}function O1(r){return new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`)}const VO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,GO=/([^\#-~ |!])/g;function M1(r){return r.replace(/&/g,"&amp;").replace(VO,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(GO,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pd;function Nv(r,a){let l=null;try{Pd=Pd||_1(r);let g=a?String(a):"";l=Pd.getInertBodyElement(g);let P=5,j=g;do{if(0===P)throw new Error("Failed to sanitize html because the input is unstable");P--,g=j,j=l.innerHTML,l=Pd.getInertBodyElement(g)}while(g!==j);return Ch((new qc).sanitizeChildren(sa(l)||l))}finally{if(l){const g=sa(l)||l;for(;g.firstChild;)g.removeChild(g.firstChild)}}}function sa(r){return"content"in r&&function I1(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Wa=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Wa||{});function Fv(r){const a=uf();return a?vn(a.sanitize(Wa.HTML,r)||""):cf(r,"HTML")?vn(Ia(r)):Nv(mc(),Rs(r))}function rg(r){const a=uf();return a?a.sanitize(Wa.URL,r)||"":cf(r,"URL")?Ia(r):ig(Rs(r))}function nd(r){const a=uf();if(a)return Kl(a.sanitize(Wa.RESOURCE_URL,r)||"");if(cf(r,"ResourceURL"))return Kl(Ia(r));throw new rt(904,!1)}function jv(r,a,l){return function Ml(r,a){return"src"===a&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===a&&("base"===r||"link"===r)?nd:rg}(a,l)(r)}function uf(){const r=Cn();return r&&r[xr].sanitizer}const R1=/^>|^->|<!--|-->|--!>|<!-$/g,A1=/(<|>)/g,nl="\u200b$1\u200b";function Oh(r){return r.ownerDocument.defaultView}function N1(r){return r.ownerDocument}function Ir(r){return r instanceof Function?r():r}function Il(r){return"browser"===(r??Ks(Va)).get(gh)}var Sl=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(Sl||{});let $v;function Wv(r,a){return $v(r,a)}function gu(r,a,l,g,P){if(null!=g){let j,H=!1;Wo(g)?j=g:si(g)&&(H=!0,g=g[Ai]);const ie=qi(g);0===r&&null!==l?null==P?qO(a,l,ie):vu(a,l,ie,P||null,!0):1===r&&null!==l?vu(a,l,ie,P||null,!0):2===r?mf(a,ie,H):3===r&&a.destroyNode(ie),null!=j&&function tM(r,a,l,g,P){const j=l[ji];j!==qi(l)&&gu(a,r,g,j,P);for(let ie=_o;ie<l.length;ie++){const ve=l[ie];hg(ve[es],ve,r,a,g,j)}}(a,r,j,l,P)}}function _u(r,a){return r.createText(a)}function Kv(r,a,l){r.setValue(a,l)}function ug(r,a){return r.createComment(function ag(r){return r.replace(R1,a=>a.replace(A1,nl))}(a))}function od(r,a,l){return r.createElement(a,l)}function B1(r,a){a[xr].changeDetectionScheduler?.notify(1),hg(r,a,a[$s],2,null,null)}function V1(r,a){const l=r[Ur],g=l.indexOf(a);l.splice(g,1)}function pf(r,a){if(r.length<=_o)return;const l=_o+a,g=r[l];if(g){const P=g[hl];null!==P&&P!==r&&V1(P,g),a>0&&(r[l-1][go]=g[go]);const j=os(r,_o+a);!function zl(r,a){B1(r,a),a[Ai]=null,a[Eo]=null}(g[es],g);const H=j[To];null!==H&&H.detachView(j[es]),g[Ii]=null,g[go]=null,g[ws]&=-129}return g}function Ad(r,a){if(!(256&a[ws])){const l=a[$s];l.destroyNode&&hg(r,a,l,3,null,null),function Ih(r){let a=r[dl];if(!a)return Sh(r[es],r);for(;a;){let l=null;if(si(a))l=a[dl];else{const g=a[_o];g&&(l=g)}if(!l){for(;a&&!a[go]&&a!==r;)si(a)&&Sh(a[es],a),a=a[Ii];null===a&&(a=r),si(a)&&Sh(a[es],a),l=a&&a[go]}a=l}}(a)}}function Sh(r,a){if(256&a[ws])return;const l=f(null);try{a[ws]&=-129,a[ws]|=256,a[Ba]&&L(a[Ba]),function G1(r,a){let l;if(null!=r&&null!=(l=r.destroyHooks))for(let g=0;g<l.length;g+=2){const P=a[l[g]];if(!(P instanceof tu)){const j=l[g+1];if(Array.isArray(j))for(let H=0;H<j.length;H+=2){const ie=P[j[H]],ve=j[H+1];_l(4,ie,ve);try{ve.call(ie)}finally{_l(5,ie,ve)}}else{_l(4,P,j);try{j.call(P)}finally{_l(5,P,j)}}}}}(r,a),function ZO(r,a){const l=r.cleanup,g=a[sr];if(null!==l)for(let j=0;j<l.length-1;j+=2)if("string"==typeof l[j]){const H=l[j+3];H>=0?g[H]():g[-H].unsubscribe(),j+=2}else l[j].call(g[l[j+1]]);null!==g&&(a[sr]=null);const P=a[pr];if(null!==P){a[pr]=null;for(let j=0;j<P.length;j++)(0,P[j])()}}(r,a),1===a[es].type&&a[$s].destroy();const g=a[hl];if(null!==g&&Wo(a[Ii])){g!==a[Ii]&&V1(g,a);const P=a[To];null!==P&&P.detachView(r)}!function Nt(r){X.delete(r[Ro])}(a)}finally{f(l)}}function Dc(r,a,l){return $1(r,a.parent,l)}function $1(r,a,l){let g=a;for(;null!==g&&40&g.type;)g=(a=g).parent;if(null===g)return l[Ai];{const{componentOffset:P}=g;if(P>-1){const{encapsulation:j}=r.data[g.directiveStart+P];if(j===Do.None||j===Do.Emulated)return null}return Gr(g,l)}}function vu(r,a,l,g,P){r.insertBefore(a,l,g,P)}function qO(r,a,l){r.appendChild(a,l)}function ff(r,a,l,g,P){null!==g?vu(r,a,l,g,P):qO(r,a,l)}function Vn(r,a){return r.parentNode(a)}function Gn(r,a,l){return zr(r,a,l)}function Ti(r,a,l){return 40&r.type?Gr(r,l):null}let Co,zr=Ti;function Sr(r,a){zr=r,Co=a}function Ei(r,a,l,g){const P=Dc(r,g,a),j=a[$s],ie=Gn(g.parent||a[Eo],g,a);if(null!=P)if(Array.isArray(l))for(let ve=0;ve<l.length;ve++)ff(j,P,l[ve],ie,!1);else ff(j,P,l,ie,!1);void 0!==Co&&Co(j,g,a,l,P)}function rd(r,a){if(null!==a){const l=a.type;if(3&l)return Gr(a,r);if(4&l)return Tc(-1,r[a.index]);if(8&l){const g=a.child;if(null!==g)return rd(r,g);{const P=r[a.index];return Wo(P)?Tc(-1,P):qi(P)}}if(32&l)return Wv(a,r)()||qi(r[a.index]);{const g=Fo(r,a);return null!==g?Array.isArray(g)?g[0]:rd(yl(r[co]),g):rd(r,a.next)}}return null}function Fo(r,a){return null!==a?r[co][Eo].projection[a.projection]:null}function Tc(r,a){const l=_o+r+1;if(l<a.length){const g=a[l],P=g[es].firstChild;if(null!==P)return rd(g,P)}return a[ji]}function mf(r,a,l){const g=Vn(r,a);g&&function W1(r,a,l,g){r.removeChild(a,l,g)}(r,g,a,l)}function Hv(r){r.textContent=""}function zv(r,a,l,g,P,j,H){for(;null!=l;){const ie=g[l.index],ve=l.type;if(H&&0===a&&(ie&&Kn(qi(ie),g),l.flags|=2),32&~l.flags)if(8&ve)zv(r,a,l.child,g,P,j,!1),gu(a,r,P,ie,j);else if(32&ve){const we=Wv(l,g);let Ze;for(;Ze=we();)gu(a,r,P,Ze,j);gu(a,r,P,ie,j)}else 16&ve?K1(r,a,g,l,P,j):gu(a,r,P,ie,j);l=H?l.projectionNext:l.next}}function hg(r,a,l,g,P,j){zv(l,g,r.firstChild,a,P,j,!1)}function K1(r,a,l,g,P,j){const H=l[co],ve=H[Eo].projection[g.projection];if(Array.isArray(ve))for(let we=0;we<ve.length;we++)gu(a,r,P,ve[we],j);else{let we=ve;const Ze=H[Ii];hh(g)&&(we.flags|=128),zv(r,a,we,Ze,P,j,!0)}}function _f(r,a,l){""===l?r.removeAttribute(a,"class"):r.setAttribute(a,"class",l)}function ad(r,a,l){const{mergedAttrs:g,classes:P,styles:j}=l;null!==g&&Ge(r,a,g),null!==P&&_f(r,a,P),null!==j&&function nM(r,a,l){r.setAttribute(a,"style",l)}(r,a,j)}const _i={};function Yv(r=1){H1(Es(),Cn(),$r()+r,!1)}function H1(r,a,l,g){if(!g)if(3&~a[ws]){const j=r.preOrderHooks;null!==j&&Kr(a,j,0,l)}else{const j=r.preOrderCheckHooks;null!==j&&Oa(a,j,l)}Cd(l)}function Ph(r,a=Qt.Default){const l=Cn();return null===l?po(r,a):pv(Vi(),l,xe(r),a)}function z1(){throw new Error("invalid")}function Y1(r,a,l,g,P,j){const H=f(null);try{let ie=null;P&Zo.SignalBased&&(ie=a[g][m]),null!==ie&&void 0!==ie.transformFn&&(j=ie.transformFn(j)),P&Zo.HasDecoratorInputTransform&&(j=r.inputTransforms[g].call(a,j)),null!==r.setInput?r.setInput(a,ie,j,l,g):Vr(a,ie,g,j)}finally{f(H)}}function xd(r,a,l,g,P,j,H,ie,ve,we,Ze){const Ot=a.blueprint.slice();return Ot[Ai]=P,Ot[ws]=204|g,(null!==we||r&&2048&r[ws])&&(Ot[ws]|=2048),tv(Ot),Ot[Ii]=Ot[ir]=r,Ot[Xi]=l,Ot[xr]=H||r&&r[xr],Ot[$s]=ie||r&&r[$s],Ot[Po]=ve||r&&r[Po]||null,Ot[Eo]=j,Ot[Ro]=function V(){return S++}(),Ot[$o]=Ze,Ot[yd]=we,Ot[co]=2==a.type?r[co]:Ot,Ot}function Rh(r,a,l,g,P){let j=r.data[a];if(null===j)j=Ah(r,a,l,g,P),function zu(){return ei.lFrame.inI18n}()&&(j.flags|=32);else if(64&j.type){j.type=l,j.value=g,j.attrs=P;const H=Vl();j.injectorIndex=null===H?-1:H.injectorIndex}return ka(j,!0),j}function Ah(r,a,l,g,P){const j=Pm(),H=Rm(),ve=r.data[a]=function dM(r,a,l,g,P,j){let H=a?a.injectorIndex:-1,ie=0;return El()&&(ie|=128),{type:l,index:g,insertBeforeIndex:null,injectorIndex:H,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:ie,providerIndexes:0,value:P,attrs:j,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,H?j:j&&j.parent,l,a,g,P);return null===r.firstChild&&(r.firstChild=ve),null!==j&&(H?null==j.child&&null!==ve.parent&&(j.child=ve):null===j.next&&(j.next=ve,ve.prev=j)),ve}function Yl(r,a,l,g){if(0===l)return-1;const P=a.length;for(let j=0;j<l;j++)a.push(g),r.blueprint.push(g),r.data.push(null);return P}function Sa(r,a,l,g,P){const j=$r(),H=2&g;try{Cd(-1),H&&a.length>Zs&&H1(r,a,Zs,!1),_l(H?2:0,P),l(g,P)}finally{Cd(j),_l(H?3:1,P)}}function Pl(r,a,l){if(fl(a)){const g=f(null);try{const j=a.directiveEnd;for(let H=a.directiveStart;H<j;H++){const ie=r.data[H];ie.contentQueries&&ie.contentQueries(1,l[H],H)}}finally{f(g)}}}function ld(r,a,l){jc()&&(function gM(r,a,l,g){const P=l.directiveStart,j=l.directiveEnd;Ua(l)&&function bM(r,a,l){const g=Gr(a,r),P=Ld(l);let H=16;l.signals?H=4096:l.onPush&&(H=64);const ie=Ef(r,xd(r,P,null,H,g,a,null,r[xr].rendererFactory.createRenderer(g,l),null,null,null));r[a.index]=ie}(a,l,r.data[P+l.componentOffset]),r.firstCreatePass||uc(l,a),Kn(g,a);const H=l.initialInputs;for(let ie=P;ie<j;ie++){const ve=r.data[ie],we=$c(a,r,ie,l);Kn(we,a),null!==H&&pg(0,ie-P,we,ve,0,H),kr(ve)&&(da(l.index,a)[Xi]=$c(a,r,ie,l))}}(r,a,l,Gr(l,a)),!(64&~l.flags)&&q1(r,a,l))}function cd(r,a,l=Gr){const g=a.localNames;if(null!==g){let P=a.index+1;for(let j=0;j<g.length;j+=2){const H=g[j+1],ie=-1===H?l(a,r):r[H];r[P++]=ie}}}function Ld(r){const a=r.tView;return null===a||a.incompleteFirstPass?r.tView=Xv(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):a}function Xv(r,a,l,g,P,j,H,ie,ve,we,Ze){const Ot=Zs+g,tn=Ot+P,mn=function iM(r,a){const l=[];for(let g=0;g<a;g++)l.push(g<r?null:_i);return l}(Ot,tn),bn="function"==typeof we?we():we;return mn[es]={type:r,blueprint:mn,template:l,queries:null,viewQuery:ie,declTNode:a,data:mn.slice().fill(null,Ot),bindingStartIndex:Ot,expandoStartIndex:tn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof j?j():j,pipeRegistry:"function"==typeof H?H():H,firstChild:null,schemas:ve,consts:bn,incompleteFirstPass:!1,ssrId:Ze}}let X1=()=>null;function aM(r){Km(r)?Hv(r):function xO(r){const a=mc(),l=a.createNodeIterator(r,NodeFilter.SHOW_COMMENT,{acceptNode(j){const H=function wO(r){return r.textContent?.replace(/\s/gm,"")}(j);return"ngetn"===H||"ngtns"===H?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let g;const P=[];for(;g=l.nextNode();)P.push(g);for(const j of P)"ngetn"===j.textContent?j.replaceWith(a.createTextNode("")):j.remove()}(r)}function J1(r,a,l,g,P){for(let j in a){if(!a.hasOwnProperty(j))continue;const H=a[j];if(void 0===H)continue;g??={};let ie,ve=Zo.None;Array.isArray(H)?(ie=H[0],ve=H[1]):ie=H;let we=j;if(null!==P){if(!P.hasOwnProperty(j))continue;we=P[j]}0===r?Q1(g,l,we,ie,ve):Q1(g,l,we,ie)}return g}function Q1(r,a,l,g,P){let j;r.hasOwnProperty(l)?(j=r[l]).push(a,g):j=r[l]=[a,g],void 0!==P&&j.push(P)}function Ka(r,a,l,g,P,j,H,ie){const ve=Gr(a,l);let Ze,we=a.inputs;!ie&&null!=we&&(Ze=we[g])?(Yr(r,l,Ze,g,P),Ua(a)&&function hM(r,a){const l=da(a,r);16&l[ws]||(l[ws]|=64)}(l,a.index)):3&a.type&&(g=function uM(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(g),P=null!=H?H(P,a.value||"",g):P,j.setProperty(ve,g,P))}function Pr(r,a,l,g){if(jc()){const P=null===g?null:{"":-1},j=function _M(r,a){const l=r.directiveRegistry;let g=null,P=null;if(l)for(let j=0;j<l.length;j++){const H=l[j];if(zi(a,H.selectors,!1))if(g||(g=[]),kr(H))if(null!==H.findHostDirectiveDefs){const ie=[];P=P||new Map,H.findHostDirectiveDefs(H,ie,P),g.unshift(...ie,H),wh(r,a,ie.length)}else g.unshift(H),wh(r,a,0);else P=P||new Map,H.findHostDirectiveDefs?.(H,g,P),g.push(H)}return null===g?null:[g,P]}(r,l);let H,ie;null===j?H=ie=null:[H,ie]=j,null!==H&&Z1(r,a,l,H,P,ie),P&&function vM(r,a,l){if(a){const g=r.localNames=[];for(let P=0;P<a.length;P+=2){const j=l[a[P+1]];if(null==j)throw new rt(-301,!1);g.push(a[P],j)}}}(l,g,P)}l.mergedAttrs=$e(l.mergedAttrs,l.attrs)}function Z1(r,a,l,g,P,j){for(let we=0;we<g.length;we++)Gc(uc(l,a),r,g[we].type);!function EM(r,a,l){r.flags|=1,r.directiveStart=a,r.directiveEnd=a+l,r.providerIndexes=a}(l,r.data.length,g.length);for(let we=0;we<g.length;we++){const Ze=g[we];Ze.providersResolver&&Ze.providersResolver(Ze)}let H=!1,ie=!1,ve=Yl(r,a,g.length,null);for(let we=0;we<g.length;we++){const Ze=g[we];l.mergedAttrs=$e(l.mergedAttrs,Ze.hostAttrs),CM(r,l,a,ve,Ze),yM(ve,Ze,P),null!==Ze.contentQueries&&(l.flags|=4),(null!==Ze.hostBindings||null!==Ze.hostAttrs||0!==Ze.hostVars)&&(l.flags|=64);const Ot=Ze.type.prototype;!H&&(Ot.ngOnChanges||Ot.ngOnInit||Ot.ngDoCheck)&&((r.preOrderHooks??=[]).push(l.index),H=!0),!ie&&(Ot.ngOnChanges||Ot.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(l.index),ie=!0),ve++}!function Jv(r,a,l){const P=a.directiveEnd,j=r.data,H=a.attrs,ie=[];let ve=null,we=null;for(let Ze=a.directiveStart;Ze<P;Ze++){const Ot=j[Ze],tn=l?l.get(Ot):null,bn=tn?tn.outputs:null;ve=J1(0,Ot.inputs,Ze,ve,tn?tn.inputs:null),we=J1(1,Ot.outputs,Ze,we,bn);const jn=null===ve||null===H||In(a)?null:yu(ve,Ze,H);ie.push(jn)}null!==ve&&(ve.hasOwnProperty("class")&&(a.flags|=8),ve.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=ie,a.inputs=ve,a.outputs=we}(r,l,j)}function q1(r,a,l){const g=l.directiveStart,P=l.directiveEnd,j=l.index,H=function Yu(){return ei.lFrame.currentDirectiveIndex}();try{Cd(j);for(let ie=g;ie<P;ie++){const ve=r.data[ie],we=a[ie];$l(ie),(null!==ve.hostBindings||0!==ve.hostVars||null!==ve.hostAttrs)&&vf(ve,we)}}finally{Cd(-1),$l(H)}}function vf(r,a){null!==r.hostBindings&&r.hostBindings(1,a)}function wh(r,a,l){a.componentOffset=l,(r.components??=[]).push(a.index)}function yM(r,a,l){if(l){if(a.exportAs)for(let g=0;g<a.exportAs.length;g++)l[a.exportAs[g]]=r;kr(a)&&(l[""]=r)}}function CM(r,a,l,g,P){r.data[g]=P;const j=P.factory||(P.factory=qe(P.type)),H=new tu(j,kr(P),Ph);r.blueprint[g]=H,l[g]=H,function fM(r,a,l,g,P){const j=P.hostBindings;if(j){let H=r.hostBindingOpCodes;null===H&&(H=r.hostBindingOpCodes=[]);const ie=~a.index;(function mM(r){let a=r.length;for(;a>0;){const l=r[--a];if("number"==typeof l&&l<0)return l}return 0})(H)!=ie&&H.push(ie),H.push(l,g,j)}}(r,a,g,Yl(r,l,P.hostVars,_i),P)}function Zv(r,a,l,g,P,j,H){if(null==j)r.removeAttribute(a,P,l);else{const ie=null==H?Rs(j):H(j,g||"",P);r.setAttribute(a,P,ie,l)}}function pg(r,a,l,g,P,j){const H=j[a];if(null!==H)for(let ie=0;ie<H.length;)Y1(g,l,H[ie++],H[ie++],H[ie++],H[ie++])}function yu(r,a,l){let g=null,P=0;for(;P<l.length;){const j=l[P];if(0!==j)if(5!==j){if("number"==typeof j)break;if(r.hasOwnProperty(j)){null===g&&(g=[]);const H=r[j];for(let ie=0;ie<H.length;ie+=3)if(H[ie]===a){g.push(j,H[ie+1],H[ie+2],l[P+1]);break}}P+=2}else P+=2;else P+=4}return g}function yf(r,a,l,g){return[r,!0,0,a,null,g,null,l,null,null]}function Eu(r,a){const l=r.contentQueries;if(null!==l){const g=f(null);try{for(let P=0;P<l.length;P+=2){const H=l[P+1];if(-1!==H){const ie=r.data[H];Uc(l[P]),ie.contentQueries(2,a[H],H)}}}finally{f(g)}}}function Ef(r,a){return r[dl]?r[ul][go]=a:r[dl]=a,r[ul]=a,a}function fg(r,a,l){Uc(0);const g=f(null);try{a(r,l)}finally{f(g)}}function eE(r){return r[sr]||(r[sr]=[])}function mg(r){return r.cleanup||(r.cleanup=[])}function gg(r,a){const l=r[Po],g=l?l.get(Tl,null):null;g&&g.handleError(a)}function Yr(r,a,l,g,P){for(let j=0;j<l.length;){const H=l[j++],ie=l[j++],ve=l[j++];Y1(r.data[H],a[H],g,ie,ve,P)}}function dd(r,a,l){const g=Qd(a,r);Kv(r[$s],g,l)}function tE(r,a){const l=da(a,r),g=l[es];!function nE(r,a){for(let l=a.length;l<r.blueprint.length;l++)a.push(r.blueprint[l])}(g,l);const P=l[Ai];null!==P&&null===l[$o]&&(l[$o]=Av(P,l[Po])),Rl(g,l,l[Xi])}function Rl(r,a,l){Ju(a);try{const g=r.viewQuery;null!==g&&fg(1,g,l);const P=r.template;null!==P&&Sa(r,a,P,1,l),r.firstCreatePass&&(r.firstCreatePass=!1),a[To]?.finishViewCreation(r),r.staticContentQueries&&Eu(r,a),r.staticViewQueries&&fg(2,r.viewQuery,l);const j=r.components;null!==j&&function DM(r,a){for(let l=0;l<a.length;l++)tE(r,a[l])}(a,j)}catch(g){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),g}finally{a[ws]&=-5,jp()}}function Cf(r,a,l,g){const P=f(null);try{const j=a.tView,ve=xd(r,j,l,4096&r[ws]?4096:16,null,a,null,null,g?.injector??null,g?.embeddedViewInjector??null,g?.dehydratedView??null);ve[hl]=r[a.index];const Ze=r[To];return null!==Ze&&(ve[To]=Ze.createEmbeddedView(j)),Rl(j,ve,l),ve}finally{f(P)}}function sE(r,a){const l=_o+a;if(l<r.length)return r[l]}function xh(r,a){return!a||null===a.firstChild||hh(r)}function bf(r,a,l,g=!0){const P=a[es];if(function U1(r,a,l,g){const P=_o+g,j=l.length;g>0&&(l[P-1][go]=a),g<j-_o?(a[go]=l[P],xn(l,_o+g,a)):(l.push(a),a[go]=null),a[Ii]=l;const H=a[hl];null!==H&&l!==H&&function k1(r,a){const l=r[Ur];a[co]!==a[Ii][Ii][co]&&(r[ws]|=Nc.HasTransplantedViews),null===l?r[Ur]=[a]:l.push(a)}(H,a);const ie=a[To];null!==ie&&ie.insertView(r),Im(a),a[ws]|=128}(P,a,r,l),g){const H=Tc(l,r),ie=a[$s],ve=Vn(ie,r[ji]);null!==ve&&function hf(r,a,l,g,P,j){g[Ai]=P,g[Eo]=a,hg(r,g,l,1,P,j)}(P,r[Eo],ie,a,ve,H)}const j=a[$o];null!==j&&null!==j.firstChild&&(j.firstChild=null)}function qv(r,a){const l=pf(r,a);return void 0!==l&&Ad(l[es],l),l}function il(r,a,l,g,P=!1){for(;null!==l;){const j=a[l.index];null!==j&&g.push(qi(j)),Wo(j)&&iE(j,g);const H=l.type;if(8&H)il(r,a,l.child,g);else if(32&H){const ie=Wv(l,a);let ve;for(;ve=ie();)g.push(ve)}else if(16&H){const ie=Fo(a,l);if(Array.isArray(ie))g.push(...ie);else{const ve=yl(a[co]);il(ve[es],ve,ie,g,!0)}}l=P?l.projectionNext:l.next}return g}function iE(r,a){for(let l=_o;l<r.length;l++){const g=r[l],P=g[es].firstChild;null!==P&&il(g[es],g,P,a)}r[ji]!==r[Ai]&&a.push(r[ji])}let oE=[];const MM={...C,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{Ku(r.lView)},consumerOnSignalRead(){this.lView[Ba]=this}},rE=100;function _g(r,a=!0,l=0){const g=r[xr],P=g.rendererFactory;P.begin?.();try{!function IM(r,a){Lh(r,a);let l=0;for(;sv(r);){if(l===rE)throw new rt(103,!1);l++,Lh(r,1)}}(r,l)}catch(H){throw a&&gg(r,H),H}finally{P.end?.(),g.inlineEffectRunner?.flush()}}function vg(r,a,l,g){const P=a[ws];if(!(256&~P))return;a[xr].inlineEffectRunner?.flush(),Ju(a);let H=null,ie=null;(function SM(r){return 2!==r.type})(r)&&(ie=function TM(r){return r[Ba]??function OM(r){const a=oE.pop()??Object.create(MM);return a.lView=r,a}(r)}(a),H=O(ie));try{tv(a),function Ed(r){return ei.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==l&&Sa(r,a,l,2,g);const ve=!(3&~P);if(ve){const Ot=r.preOrderCheckHooks;null!==Ot&&Oa(a,Ot,null)}else{const Ot=r.preOrderHooks;null!==Ot&&Kr(a,Ot,0,null),Up(a,0)}if(function PM(r){for(let a=lr(r);null!==a;a=No(a)){if(!(a[ws]&Nc.HasTransplantedViews))continue;const l=a[Ur];for(let g=0;g<l.length;g++){nv(l[g])}}}(a),lE(a,0),null!==r.contentQueries&&Eu(r,a),ve){const Ot=r.contentCheckHooks;null!==Ot&&Oa(a,Ot)}else{const Ot=r.contentHooks;null!==Ot&&Kr(a,Ot,1),Up(a,1)}!function sM(r,a){const l=r.hostBindingOpCodes;if(null!==l)try{for(let g=0;g<l.length;g++){const P=l[g];if(P<0)Cd(~P);else{const j=P,H=l[++g],ie=l[++g];Lp(H,j),ie(2,a[j])}}}finally{Cd(-1)}}(r,a);const we=r.components;null!==we&&cE(a,we,0);const Ze=r.viewQuery;if(null!==Ze&&fg(2,Ze,g),ve){const Ot=r.viewCheckHooks;null!==Ot&&Oa(a,Ot)}else{const Ot=r.viewHooks;null!==Ot&&Kr(a,Ot,2),Up(a,2)}if(!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),a[oc]){for(const Ot of a[oc])Ot();a[oc]=null}a[ws]&=-73}catch(ve){throw Ku(a),ve}finally{null!==ie&&(w(ie,H),function e0(r){r.lView[Ba]!==r&&(r.lView=null,oE.push(r))}(ie)),jp()}}function lE(r,a){for(let l=lr(r);null!==l;l=No(l))for(let g=_o;g<l.length;g++)Df(l[g],a)}function RM(r,a,l){Df(da(a,r),l)}function Df(r,a){Zd(r)&&Lh(r,a)}function Lh(r,a){const g=r[es],P=r[ws],j=r[Ba];let H=!!(0===a&&16&P);if(H||=!!(64&P&&0===a),H||=!!(1024&P),H||=!(!j?.dirty||!M(j)),j&&(j.dirty=!1),r[ws]&=-9217,H)vg(g,r,g.template,r[Xi]);else if(8192&P){lE(r,1);const ie=g.components;null!==ie&&cE(r,ie,1)}}function cE(r,a,l){for(let g=0;g<a.length;g++)RM(r,a[g],l)}function Tf(r){for(r[xr].changeDetectionScheduler?.notify();r;){r[ws]|=64;const a=yl(r);if(Bl(r)&&!a)return r;r=a}return null}class Of{get rootNodes(){const a=this._lView,l=a[es];return il(l,a,l.firstChild,[])}constructor(a,l,g=!0){this._lView=a,this._cdRefInjectingView=l,this.notifyErrorHandler=g,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xi]}set context(a){this._lView[Xi]=a}get destroyed(){return!(256&~this._lView[ws])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Ii];if(Wo(a)){const l=a[8],g=l?l.indexOf(this):-1;g>-1&&(pf(a,g),os(l,g))}this._attachedToViewContainer=!1}Ad(this._lView[es],this._lView)}onDestroy(a){ks(this._lView,a)}markForCheck(){Tf(this._cdRefInjectingView||this._lView)}detach(){this._lView[ws]&=-129}reattach(){Im(this._lView),this._lView[ws]|=128}detectChanges(){this._lView[ws]|=1024,_g(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new rt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,B1(this._lView[es],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new rt(902,!1);this._appRef=a,Im(this._lView)}}let Nd=(()=>{class r{static{this.__NG_ELEMENT_ID__=wM}}return r})();const AM=Nd,yg=class extends AM{constructor(a,l,g){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=g}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,l){return this.createEmbeddedViewImpl(a,l)}createEmbeddedViewImpl(a,l,g){const P=Cf(this._declarationLView,this._declarationTContainer,a,{embeddedViewInjector:l,dehydratedView:g});return new Of(P)}};function wM(){return bu(Vi(),Cn())}function bu(r,a){return 4&r.type?new yg(a,r,Hc(r,a)):null}function pE(r){const a=r[Za]??[],g=r[Ii][$s];for(const P of a)UM(P,g);r[Za]=Ys}function UM(r,a){let l=0,g=r.firstChild;if(g){const P=r.data[Eh];for(;l<P;){const j=g.nextSibling;mf(a,g,!1),g=j,l++}}}function fE(r){pE(r);for(let a=_o;a<r.length;a++)Fd(r[a])}function Fd(r){!function kM(r){const a=r[$o]?.i18nNodes;if(a){const l=r[$s];for(const g of a.values())mf(l,g,!1);r[$o].i18nNodes=void 0}}(r);const a=r[es];for(let l=Zs;l<a.bindingStartIndex;l++)Wo(r[l])?fE(r[l]):si(r[l])&&Fd(r[l])}const GM=new RegExp(`^(\\d+)*(${yh}|${vh})*(.*)`);function o0(r){return r.index-Zs}function Cg(r,a,l,g){const P=o0(g);let j=function $M(r,a){const l=r.i18nNodes;if(l){const g=l.get(a);return g&&l.delete(a),g}return null}(r,P);if(!j){const H=r.data[Pv];if(H?.[P])j=function WM(r,a){const[l,...g]=function mE(r){const a=r.match(GM),[l,g,P,j]=a,H=g?parseInt(g,10):P,ie=[];for(const[ve,we,Ze]of j.matchAll(/(f|n)(\d*)/g)){const Ot=parseInt(Ze,10)||1;ie.push(we,Ot)}return[H,...ie]}(r);let P;return P=l===vh?a[co][Ai]:l===yh?function kv(r){return r.ownerDocument.body}(a[co][Ai]):qi(a[Number(l)+Zs]),function Pf(r,a){let l=r;for(let g=0;g<a.length;g+=2){const P=a[g],j=a[g+1];for(let H=0;H<j;H++)switch(P){case Qc.FirstChild:l=l.firstChild;break;case Qc.NextSibling:l=l.nextSibling}}return l}(P,g)}(H[P],l);else if(a.firstChild===g)j=r.firstChild;else{const ie=null===g.prev,ve=g.prev??g.parent;if(function gE(r){return!r.prev&&8===r.parent?.type}(g))j=h1(r,o0(g.parent));else{let we=Gr(ve,l);if(ie)j=we.firstChild;else{const Ze=o0(ve),Ot=h1(r,Ze);j=2===ve.type&&Ot?bg(Zm(r,Ze)+1,Ot):we.nextSibling}}}}return j}function bg(r,a){let l=a;for(let g=0;g<r;g++)l=l.nextSibling;return l}let vE=()=>null;function HM(r,a){const l=r[Za];return a&&null!==l&&0!==l.length?l[0].data[Sv]===a?l.shift():(pE(r),null):null}function Fh(r,a){return vE(r,a)}class Tg{}class Rf{}class yE{}class EE{resolveComponentFactory(a){throw function YM(r){const a=Error(`No component factory found for ${bt(r)}.`);return a.ngComponent=r,a}(a)}}let jh=(()=>{class r{static{this.NULL=new EE}}return r})();class CE{}let XM=(()=>{class r{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function JM(){const r=Cn(),l=da(Vi().index,r);return(si(l)?l:r)[$s]}()}}return r})(),QM=(()=>{class r{static{this.\u0275prov=cs({token:r,providedIn:"root",factory:()=>null})}}return r})();const l0={};function ZM(r,a){if(null!==function v(){return u}())throw new rt(-602,!1)}const bE=new Set;function Xl(r){bE.has(r)||(bE.add(r),performance?.mark?.("mark_feature_usage",{detail:{feature:r}}))}function DE(...r){}class Rr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:g=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wl(!1),this.onMicrotaskEmpty=new Wl(!1),this.onStable=new Wl(!1),this.onError=new Wl(!1),typeof Zone>"u")throw new rt(908,!1);Zone.assertZonePatched();const P=this;P._nesting=0,P._outer=P._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(P._inner=P._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(P._inner=P._inner.fork(Zone.longStackTraceZoneSpec)),P.shouldCoalesceEventChangeDetection=!g&&l,P.shouldCoalesceRunChangeDetection=g,P.lastRequestAnimationFrameId=-1,P.nativeRequestAnimationFrame=function wf(){const r="function"==typeof gn.requestAnimationFrame;let a=gn[r?"requestAnimationFrame":"setTimeout"],l=gn[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&l){const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g);const P=l[Zone.__symbol__("OriginalDelegate")];P&&(l=P)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function OE(r){const a=()=>{!function TE(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(gn,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,c0(r),r.isCheckStableRunning=!0,Mg(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),c0(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,g,P,j,H,ie)=>{if(function qM(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(ie))return l.invokeTask(P,j,H,ie);try{return ME(r),l.invokeTask(P,j,H,ie)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===j.type||r.shouldCoalesceRunChangeDetection)&&a(),IE(r)}},onInvoke:(l,g,P,j,H,ie,ve)=>{try{return ME(r),l.invoke(P,j,H,ie,ve)}finally{r.shouldCoalesceRunChangeDetection&&a(),IE(r)}},onHasTask:(l,g,P,j)=>{l.hasTask(P,j),g===P&&("microTask"==j.change?(r._hasPendingMicrotasks=j.microTask,c0(r),Mg(r)):"macroTask"==j.change&&(r.hasPendingMacrotasks=j.macroTask))},onHandleError:(l,g,P,j)=>(l.handleError(P,j),r.runOutsideAngular(()=>r.onError.emit(j)),!1)})}(P)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rr.isInAngularZone())throw new rt(909,!1)}static assertNotInAngularZone(){if(Rr.isInAngularZone())throw new rt(909,!1)}run(a,l,g){return this._inner.run(a,l,g)}runTask(a,l,g,P){const j=this._inner,H=j.scheduleEventTask("NgZoneEvent: "+P,a,Og,DE,DE);try{return j.runTask(H,l,g)}finally{j.cancelTask(H)}}runGuarded(a,l,g){return this._inner.runGuarded(a,l,g)}runOutsideAngular(a){return this._outer.run(a)}}const Og={};function Mg(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function c0(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function ME(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function IE(r){r._nesting--,Mg(r)}var Tu=function(r){return r[r.EarlyRead=0]="EarlyRead",r[r.Write=1]="Write",r[r.MixedReadWrite=2]="MixedReadWrite",r[r.Read=3]="Read",r}(Tu||{});const PE={destroy(){}};function RE(r,a){!a&&he();const l=a?.injector??Ks(Va);if(!Il(l))return PE;Xl("NgAfterNextRender");const g=l.get(ud),P=g.handler??=new wE,j=a?.phase??Tu.MixedReadWrite,H=()=>{P.unregister(ve),ie()},ie=l.get(Wc).onDestroy(H),ve=ao(l,()=>new AE(j,()=>{H(),r()}));return P.register(ve),{destroy:H}}class AE{constructor(a,l){this.phase=a,this.callbackFn=l,this.zone=Ks(Rr),this.errorHandler=Ks(Tl,{optional:!0}),Ks(Tg,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(a){this.errorHandler?.handleError(a)}}}class wE{constructor(){this.executingCallbacks=!1,this.buckets={[Tu.EarlyRead]:new Set,[Tu.Write]:new Set,[Tu.MixedReadWrite]:new Set,[Tu.Read]:new Set},this.deferredCallbacks=new Set}register(a){(this.executingCallbacks?this.deferredCallbacks:this.buckets[a.phase]).add(a)}unregister(a){this.buckets[a.phase].delete(a),this.deferredCallbacks.delete(a)}execute(){this.executingCallbacks=!0;for(const a of Object.values(this.buckets))for(const l of a)l.invoke();this.executingCallbacks=!1;for(const a of this.deferredCallbacks)this.buckets[a.phase].add(a);this.deferredCallbacks.clear()}destroy(){for(const a of Object.values(this.buckets))a.clear();this.deferredCallbacks.clear()}}let ud=(()=>{class r{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const l=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const g of l)g()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=cs({token:r,providedIn:"root",factory:()=>new r})}}return r})();function jd(r){return!!di(r)}function Ig(r,a,l){let g=l?r.styles:null,P=l?r.classes:null,j=0;if(null!==a)for(let H=0;H<a.length;H++){const ie=a[H];"number"==typeof ie?j=ie:1==j?P=Jt(P,ie):2==j&&(g=Jt(g,ie+": "+a[++H]+";"))}l?r.styles=g:r.stylesWithoutHost=g,l?r.classes=P:r.classesWithoutHost=P}class NE extends jh{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=oi(a);return new Lf(l,this.ngModule)}}function FE(r){const a=[];for(const l in r){if(!r.hasOwnProperty(l))continue;const g=r[l];void 0!==g&&a.push({propName:Array.isArray(g)?g[0]:g,templateName:l})}return a}class Sg{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,g){g=hr(g);const P=this.injector.get(a,l0,g);return P!==l0||l===l0?P:this.parentInjector.get(a,l,g)}}class Lf extends yE{get inputs(){const a=this.componentDef,l=a.inputTransforms,g=FE(a.inputs);if(null!==l)for(const P of g)l.hasOwnProperty(P.propName)&&(P.transform=l[P.propName]);return g}get outputs(){return FE(this.componentDef.outputs)}constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function xl(r){return r.map(aa).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}create(a,l,g,P){const j=f(null);try{let H=(P=P||this.ngModule)instanceof xt?P:P?.injector;H&&null!==this.componentDef.getStandaloneInjector&&(H=this.componentDef.getStandaloneInjector(H)||H);const ie=H?new Sg(a,H):a,ve=ie.get(CE,null);if(null===ve)throw new rt(407,!1);const we=ie.get(QM,null),tn={rendererFactory:ve,sanitizer:we,inlineEffectRunner:null,afterRenderEventManager:ie.get(ud,null),changeDetectionScheduler:ie.get(Tg,null)},mn=ve.createRenderer(null,this.componentDef),bn=this.componentDef.selectors[0][0]||"div",jn=g?function oM(r,a,l,g){const j=g.get(xv,!1)||l===Do.ShadowDom,H=r.selectRootElement(a,j);return function rM(r){X1(r)}(H),H}(mn,g,this.componentDef.encapsulation,ie):od(mn,bn,function sI(r){const a=r.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(bn));let is=512;this.componentDef.signals?is|=4096:this.componentDef.onPush||(is|=16);let ms=null;null!==jn&&(ms=Av(jn,ie,!0));const zn=Xv(0,null,null,1,0,null,null,null,null,null,null),ai=xd(null,zn,null,is,null,null,tn,mn,ie,null,ms);let uo,jo;Ju(ai);try{const oa=this.componentDef;let wl,Q_=null;oa.findHostDirectiveDefs?(wl=[],Q_=new Map,oa.findHostDirectiveDefs(oa,wl,Q_),wl.push(oa)):wl=[oa];const Bw=function iI(r,a){const l=r[es],g=Zs;return r[g]=a,Rh(l,g,2,"#host",null)}(ai,jn),Jw=function oI(r,a,l,g,P,j,H){const ie=P[es];!function Pg(r,a,l,g){for(const P of r)a.mergedAttrs=$e(a.mergedAttrs,P.hostAttrs);null!==a.mergedAttrs&&(Ig(a,a.mergedAttrs,!0),null!==l&&ad(g,l,a))}(g,r,a,H);let ve=null;null!==a&&(ve=Av(a,P[Po]));const we=j.rendererFactory.createRenderer(a,l);let Ze=16;l.signals?Ze=4096:l.onPush&&(Ze=64);const Ot=xd(P,Ld(l),null,Ze,P[r.index],r,j,we,null,null,ve);return ie.firstCreatePass&&wh(ie,r,g.length-1),Ef(P,Ot),P[r.index]=Ot}(Bw,jn,oa,wl,ai,tn,mn);jo=lc(zn,Zs),jn&&function hd(r,a,l,g){if(g)Ge(r,l,["ng-version","17.3.12"]);else{const{attrs:P,classes:j}=function xc(r){const a=[],l=[];let g=1,P=2;for(;g<r.length;){let j=r[g];if("string"==typeof j)2===P?""!==j&&a.push(j,r[++g]):8===P&&l.push(j);else{if(!js(P))break;P=j}g++}return{attrs:a,classes:l}}(a.selectors[0]);P&&Ge(r,l,P),j&&j.length>0&&_f(r,l,j.join(" "))}}(mn,oa,jn,g),void 0!==l&&function aI(r,a,l){const g=r.projection=[];for(let P=0;P<a.length;P++){const j=l[P];g.push(null!=j?Array.from(j):null)}}(jo,this.ngContentSelectors,l),uo=function rI(r,a,l,g,P,j){const H=Vi(),ie=P[es],ve=Gr(H,P);Z1(ie,P,H,l,null,g);for(let Ze=0;Ze<l.length;Ze++)Kn($c(P,ie,H.directiveStart+Ze,H),P);q1(ie,P,H),ve&&Kn(ve,P);const we=$c(P,ie,H.directiveStart+H.componentOffset,H);if(r[Xi]=P[Xi]=we,null!==j)for(const Ze of j)Ze(we,a);return Pl(ie,H,P),we}(Jw,oa,wl,Q_,ai,[Rg]),Rl(zn,ai,null)}finally{jp()}return new Nf(this.componentType,uo,Hc(jo,ai),ai,jo)}finally{f(j)}}}class Nf extends Rf{constructor(a,l,g,P,j){super(),this.location=g,this._rootLView=P,this._tNode=j,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new Of(P,void 0,!1),this.componentType=a}setInput(a,l){const g=this._tNode.inputs;let P;if(null!==g&&(P=g[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),l))return;const j=this._rootLView;Yr(j[es],j,P,a,l),this.previousInputValues.set(a,l),Tf(da(this._tNode.index,j))}}get injector(){return new fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Rg(){const r=Vi();Zu(Cn()[es],r)}let Ag=(()=>{class r{static{this.__NG_ELEMENT_ID__=wg}}return r})();function wg(){return BE(Vi(),Cn())}const lI=Ag,Ff=class extends lI{constructor(a,l,g){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=g}get element(){return Hc(this._hostTNode,this._hostLView)}get injector(){return new fr(this._hostTNode,this._hostLView)}get parentInjector(){const a=Td(this._hostTNode,this._hostLView);if(Lm(a)){const l=dc(a,this._hostLView),g=Vc(a);return new fr(l[es].data[g+8],l)}return new fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=jE(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-_o}createEmbeddedView(a,l,g){let P,j;"number"==typeof g?P=g:null!=g&&(P=g.index,j=g.injector);const H=Fh(this._lContainer,a.ssrId),ie=a.createEmbeddedViewImpl(l||{},j,H);return this.insertImpl(ie,P,xh(this._hostTNode,H)),ie}createComponent(a,l,g,P,j){const H=a&&!function fs(r){return"function"==typeof r}(a);let ie;if(H)ie=l;else{const bn=l||{};ie=bn.index,g=bn.injector,P=bn.projectableNodes,j=bn.environmentInjector||bn.ngModuleRef}const ve=H?a:new Lf(oi(a)),we=g||this.parentInjector;if(!j&&null==ve.ngModule){const jn=(H?we:this.parentInjector).get(xt,null);jn&&(j=jn)}const Ze=oi(ve.componentType??{}),Ot=Fh(this._lContainer,Ze?.id??null),mn=ve.create(we,P,Ot?.firstChild??null,j);return this.insertImpl(mn.hostView,ie,xh(this._hostTNode,Ot)),mn}insert(a,l){return this.insertImpl(a,l,!0)}insertImpl(a,l,g){const P=a._lView;if(function Om(r){return Wo(r[Ii])}(P)){const ie=this.indexOf(a);if(-1!==ie)this.detach(ie);else{const ve=P[Ii],we=new Ff(ve,ve[Eo],ve[Ii]);we.detach(we.indexOf(a))}}const j=this._adjustIndex(l),H=this._lContainer;return bf(H,P,j,g),a.attachToViewContainerRef(),xn(Pa(H),j,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=jE(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),g=pf(this._lContainer,l);g&&(os(Pa(this._lContainer),l),Ad(g[es],g))}detach(a){const l=this._adjustIndex(a,-1),g=pf(this._lContainer,l);return g&&null!=os(Pa(this._lContainer),l)?new Of(g):null}_adjustIndex(a,l=0){return a??this.length+l}};function jE(r){return r[8]}function Pa(r){return r[8]||(r[8]=[])}function BE(r,a){let l;const g=a[r.index];return Wo(g)?l=g:(l=yf(g,a,null,r),a[r.index]=l,Ef(a,l)),UE(l,a,r,g),new Ff(l,r,a)}let UE=VE,m0=()=>!1;function VE(r,a,l,g){if(r[ji])return;let P;P=8&l.type?qi(g):function f0(r,a){const l=r[$s],g=l.createComment(""),P=Gr(a,r);return vu(l,Vn(l,P),g,function wd(r,a){return r.nextSibling(a)}(l,P),!1),g}(a,l),r[ji]=P}function cI(r,a,l){if(r[ji]&&r[Za])return!0;const g=l[$o],P=a.index-Zs;if(!g||function N(r){if(hh(r))return!0;let a=r.parent;for(;a;){if(hh(r)||Yp(a))return!0;a=a.parent}return!1}(a)||lf(g,P))return!1;const H=h1(g,P),ie=g.data[tf]?.[P],[ve,we]=function KM(r,a){const l=[];for(const g of a)for(let P=0;P<(g[Xm]??1);P++){const j={data:g,firstChild:null};g[Eh]>0&&(j.firstChild=r,r=bg(g[Eh],r)),l.push(j)}return[r,l]}(H,ie);return r[ji]=ve,r[Za]=we,!0}function dI(r,a,l,g){m0(r,l,a)||VE(r,a,l,g)}class g0{constructor(a){this.queryList=a,this.matches=null}clone(){return new g0(this.queryList)}setDirty(){this.queryList.setDirty()}}class _0{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const g=null!==a.contentQueries?a.contentQueries[0]:l.length,P=[];for(let j=0;j<g;j++){const H=l.getByIndex(j);P.push(this.queries[H.indexInDeclarationView].clone())}return new _0(P)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}finishViewCreation(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==Ic(a,l).matches&&this.queries[l].setDirty()}}class GE{constructor(a,l,g=null){this.flags=l,this.read=g,this.predicate="string"==typeof a?function mI(r){return r.split(",").map(a=>a.trim())}(a):a}}class v0{constructor(a=[]){this.queries=a}elementStart(a,l){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let g=0;g<this.length;g++){const P=null!==l?l.length:0,j=this.getByIndex(g).embeddedTView(a,P);j&&(j.indexInDeclarationView=g,null!==l?l.push(j):l=[j])}return null!==l?new v0(l):null}template(a,l){for(let g=0;g<this.queries.length;g++)this.queries[g].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class y0{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new y0(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1&~this.metadata.flags){const l=this._declarationNodeIndex;let g=a.parent;for(;null!==g&&8&g.type&&g.index!==l;)g=g.parent;return l===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const g=this.metadata.predicate;if(Array.isArray(g))for(let P=0;P<g.length;P++){const j=g[P];this.matchTNodeWithReadOption(a,l,hI(l,j)),this.matchTNodeWithReadOption(a,l,lh(l,a,j,!1,!1))}else g===Nd?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,lh(l,a,g,!1,!1))}matchTNodeWithReadOption(a,l,g){if(null!==g){const P=this.metadata.read;if(null!==P)if(P===ua||P===Ag||P===Nd&&4&l.type)this.addMatch(l.index,-2);else{const j=lh(l,a,P,!1,!1);null!==j&&this.addMatch(l.index,j)}else this.addMatch(l.index,g)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function hI(r,a){const l=r.localNames;if(null!==l)for(let g=0;g<l.length;g+=2)if(l[g]===a)return l[g+1];return null}function pI(r,a,l,g){return-1===l?function Uh(r,a){return 11&r.type?Hc(r,a):4&r.type?bu(r,a):null}(a,r):-2===l?function fI(r,a,l){return l===ua?Hc(a,r):l===Nd?bu(a,r):l===Ag?BE(a,r):void 0}(r,a,g):$c(r,r[es],l,a)}function $E(r,a,l,g){const P=a[To].queries[g];if(null===P.matches){const j=r.data,H=l.matches,ie=[];for(let ve=0;null!==H&&ve<H.length;ve+=2){const we=H[ve];ie.push(we<0?null:pI(a,j[we],H[ve+1],l.metadata.read))}P.matches=ie}return P.matches}function E0(r,a,l,g){const P=r.queries.getByIndex(l),j=P.matches;if(null!==j){const H=$E(r,a,P,l);for(let ie=0;ie<j.length;ie+=2){const ve=j[ie];if(ve>0)g.push(H[ie/2]);else{const we=j[ie+1],Ze=a[-ve];for(let Ot=_o;Ot<Ze.length;Ot++){const tn=Ze[Ot];tn[hl]===tn[Ii]&&E0(tn[es],tn,we,g)}if(null!==Ze[Ur]){const Ot=Ze[Ur];for(let tn=0;tn<Ot.length;tn++){const mn=Ot[tn];E0(mn[es],mn,we,g)}}}}}return g}function Mc(r,a,l){const g=new zp(!(4&~l));return function cM(r,a,l,g){const P=eE(a);P.push(l),r.firstCreatePass&&mg(r).push(g,P.length-1)}(r,a,g,g.destroy),(a[To]??=new _0).queries.push(new g0(g))-1}function WE(r,a,l){null===r.queries&&(r.queries=new v0),r.queries.track(new y0(a,l))}function Ic(r,a){return r.queries.getByIndex(a)}function KE(r,a){const l=r[es],g=Ic(l,a);return g.crossesNgTemplate?E0(l,r,a,[]):$E(l,r,g,a)}function C0(r){return"function"==typeof r&&void 0!==r[m]}function HE(r,a){Xl("NgSignals");const l=function ne(r){const a=Object.create(be);a.value=r;const l=()=>(I(a),a.value);return l[m]=a,l}(r),g=l[m];return a?.equal&&(g.equal=a.equal),l.set=P=>ce(g,P),l.update=P=>function De(r,a){p()||Q(),ce(r,a(r.value))}(g,P),l.asReadonly=zE.bind(l),l}function zE(){const r=this[m];if(void 0===r.readonlyFn){const a=()=>this();a[m]=r,r.readonlyFn=a}return r.readonlyFn}function YE(r){return C0(r)&&"function"==typeof r.set}function I0(r){let a=function qE(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),l=!0;const g=[r];for(;a;){let P;if(kr(r))P=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new rt(903,!1);P=a.\u0275dir}if(P){if(l){g.push(P);const H=r;H.inputs=Ng(r.inputs),H.inputTransforms=Ng(r.inputTransforms),H.declaredInputs=Ng(r.declaredInputs),H.outputs=Ng(r.outputs);const ie=P.hostBindings;ie&&AI(r,ie);const ve=P.viewQuery,we=P.contentQueries;if(ve&&RI(r,ve),we&&Uf(r,we),SI(r,P),wt(r.outputs,P.outputs),kr(P)&&P.data.animation){const Ze=r.data;Ze.animation=(Ze.animation||[]).concat(P.data.animation)}}const j=P.features;if(j)for(let H=0;H<j.length;H++){const ie=j[H];ie&&ie.ngInherit&&ie(r),ie===I0&&(l=!1)}}a=Object.getPrototypeOf(a)}!function PI(r){let a=0,l=null;for(let g=r.length-1;g>=0;g--){const P=r[g];P.hostVars=a+=P.hostVars,P.hostAttrs=$e(P.hostAttrs,l=$e(l,P.hostAttrs))}}(g)}function SI(r,a){for(const l in a.inputs){if(!a.inputs.hasOwnProperty(l)||r.inputs.hasOwnProperty(l))continue;const g=a.inputs[l];if(void 0!==g&&(r.inputs[l]=g,r.declaredInputs[l]=a.declaredInputs[l],null!==a.inputTransforms)){const P=Array.isArray(g)?g[0]:g;if(!a.inputTransforms.hasOwnProperty(P))continue;r.inputTransforms??={},r.inputTransforms[P]=a.inputTransforms[P]}}}function Ng(r){return r===so?{}:r===Ys?[]:r}function RI(r,a){const l=r.viewQuery;r.viewQuery=l?(g,P)=>{a(g,P),l(g,P)}:a}function Uf(r,a){const l=r.contentQueries;r.contentQueries=l?(g,P,j)=>{a(g,P,j),l(g,P,j)}:a}function AI(r,a){const l=r.hostBindings;r.hostBindings=l?(g,P)=>{a(g,P),l(g,P)}:a}function oC(r){const a=r.inputConfig,l={};for(const g in a)if(a.hasOwnProperty(g)){const P=a[g];Array.isArray(P)&&P[3]&&(l[g]=P[3])}r.inputTransforms=l}class Ql{}class rC{}function LI(r,a){return new jg(r,a??null,[])}class jg extends Ql{constructor(a,l,g){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new NE(this);const P=di(a);this._bootstrapComponents=Ir(P.bootstrap),this._r3Injector=Kp(a,l,[{provide:Ql,useValue:this},{provide:jh,useValue:this.componentFactoryResolver},...g],bt(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Bg extends rC{constructor(a){super(),this.moduleType=a}create(a){return new jg(this.moduleType,a,[])}}class aC extends Ql{constructor(a){super(),this.componentFactoryResolver=new NE(this),this.instance=null;const l=new Rn([...a.providers,{provide:Ql,useValue:this},{provide:jh,useValue:this.componentFactoryResolver}],a.parent||un(),a.debugName,new Set(["environment"]));this.injector=l,a.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function P0(r,a,l=null){return new aC({providers:r,parent:a,debugName:l,runEnvironmentInitializers:!0}).injector}let $h=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Et.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=cs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Vg(r){return!!A0(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function A0(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Sc(r,a,l){return r[a]=l}function kf(r,a){return r[a]}function zo(r,a,l){return!Object.is(r[a],l)&&(r[a]=l,!0)}function Su(r,a,l,g){const P=zo(r,a,l);return zo(r,a+1,g)||P}function Gg(r,a,l,g,P){const j=Su(r,a,l,g);return zo(r,a+2,P)||j}function Ra(r,a,l,g,P,j){const H=Su(r,a,l,g);return Su(r,a+2,P,j)||H}function Wh(r){return!(32&~r.flags)}function Kh(r,a,l,g,P,j,H,ie){const ve=Cn(),we=Es(),Ze=r+Zs,Ot=we.firstCreatePass?function lC(r,a,l,g,P,j,H,ie,ve){const we=a.consts,Ze=Rh(a,r,4,H||null,tl(we,ie));Pr(a,l,Ze,tl(we,ve)),Zu(a,Ze);const Ot=Ze.tView=Xv(2,Ze,g,P,j,a.directiveRegistry,a.pipeRegistry,null,a.schemas,we,null);return null!==a.queries&&(a.queries.template(a,Ze),Ot.queries=a.queries.embeddedTView(Ze)),Ze}(Ze,we,ve,a,l,g,P,j,H):we.data[Ze];ka(Ot,!1);const tn=cC(we,ve,Ot,r);Ko()&&Ei(we,ve,tn,Ot),Kn(tn,ve);const mn=yf(tn,ve,tn,Ot);return ve[Ze]=mn,Ef(ve,mn),function kE(r,a,l){return m0(r,a,l)}(mn,Ot,ve),jl(Ot)&&ld(we,ve,Ot),null!=H&&cd(ve,Ot,ie),Kh}let cC=dC;function dC(r,a,l,g){return Wr(!0),a[$s].createComment("")}function GI(r,a,l,g){const P=a[$o],j=!P||El()||Wh(l)||lf(P,g);if(Wr(j),j)return dC(0,a);const H=P.data[Iv]?.[g]??null;null!==H&&null!==l.tView&&null===l.tView.ssrId&&(l.tView.ssrId=H);const ie=Cg(P,r,a,l);return Qm(P,g,ie),bg(Zm(P,g),ie)}function k0(r,a,l,g){const P=Cn();return zo(P,Oo(),a)&&(Es(),function Ha(r,a,l,g,P,j){const H=Gr(r,a);Zv(a[$s],H,j,r.value,l,g,P)}(xo(),P,r,a,l,g)),k0}function ip(r,a,l,g){return zo(r,Oo(),l)?a+Rs(l)+g:_i}function Au(r,a,l,g,P,j){const ie=Su(r,Gl(),l,P);return na(2),ie?a+Rs(l)+g+Rs(P)+j:_i}function e_(r,a){return r<<17|a<<2}function kd(r){return r>>17&32767}function Yf(r){return 2|r}function dp(r){return(131068&r)>>2}function G0(r,a){return-131069&r|a<<2}function Xf(r){return 1|r}function UC(r,a,l,g){const P=r[l+1],j=null===a;let H=g?kd(P):dp(P),ie=!1;for(;0!==H&&(!1===ie||j);){const we=r[H+1];$0(r[H],a)&&(ie=!0,r[H+1]=g?Xf(we):Yf(we)),H=g?kd(we):dp(we)}ie&&(r[l+1]=g?Yf(P):Xf(P))}function $0(r,a){return null===r||null==a||(Array.isArray(r)?r[1]:r)===a||!(!Array.isArray(r)||"string"!=typeof a)&&bo(r,a)>=0}const Nr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kC(r){return r.substring(Nr.key,Nr.keyEnd)}function VC(r,a){const l=Nr.textEnd;return l===a?-1:(a=Nr.keyEnd=function vS(r,a,l){for(;a<l&&r.charCodeAt(a)>32;)a++;return a}(r,Nr.key=a,l),up(r,a,l))}function up(r,a,l){for(;a<l&&r.charCodeAt(a)<=32;)a++;return a}function W0(r,a,l){const g=Cn();return zo(g,Oo(),a)&&Ka(Es(),xo(),g,r,a,g[$s],l,!1),W0}function K0(r,a,l,g,P){const H=P?"class":"style";Yr(r,l,a.inputs[H],H,g)}function H0(r,a,l){return ql(r,a,l,!1),H0}function hp(r,a){return ql(r,a,null,!0),hp}function HC(r){ec(IS,Pc,r,!0)}function Pc(r,a){for(let l=function gS(r){return function $C(r){Nr.key=0,Nr.keyEnd=0,Nr.value=0,Nr.valueEnd=0,Nr.textEnd=r.length}(r),VC(r,up(r,0,Nr.textEnd))}(a);l>=0;l=VC(a,l))bi(r,kC(a),!0)}function ql(r,a,l,g){const P=Cn(),j=Es(),H=na(2);j.firstUpdatePass&&YC(j,r,H,g),a!==_i&&zo(P,H,a)&&JC(j,j.data[$r()],P,P[$s],r,P[H+1]=function PS(r,a){return null==r||""===r||("string"==typeof a?r+=a:"object"==typeof r&&(r=bt(Ia(r)))),r}(a,l),g,H)}function ec(r,a,l,g){const P=Es(),j=na(2);P.firstUpdatePass&&YC(P,null,j,g);const H=Cn();if(l!==_i&&zo(H,j,l)){const ie=P.data[$r()];if(ZC(ie,g)&&!zC(P,j)){let ve=g?ie.classesWithoutHost:ie.stylesWithoutHost;null!==ve&&(l=Jt(ve,l||"")),K0(P,ie,H,l,g)}else!function SS(r,a,l,g,P,j,H,ie){P===_i&&(P=Ys);let ve=0,we=0,Ze=0<P.length?P[0]:null,Ot=0<j.length?j[0]:null;for(;null!==Ze||null!==Ot;){const tn=ve<P.length?P[ve+1]:void 0,mn=we<j.length?j[we+1]:void 0;let jn,bn=null;Ze===Ot?(ve+=2,we+=2,tn!==mn&&(bn=Ot,jn=mn)):null===Ot||null!==Ze&&Ze<Ot?(ve+=2,bn=Ze):(we+=2,bn=Ot,jn=mn),null!==bn&&JC(r,a,l,g,bn,jn,H,ie),Ze=ve<P.length?P[ve]:null,Ot=we<j.length?j[we]:null}}(P,ie,H,H[$s],H[j+1],H[j+1]=function MS(r,a,l){if(null==l||""===l)return Ys;const g=[],P=Ia(l);if(Array.isArray(P))for(let j=0;j<P.length;j++)r(g,P[j],!0);else if("object"==typeof P)for(const j in P)P.hasOwnProperty(j)&&r(g,j,P[j]);else"string"==typeof P&&a(g,P);return g}(r,a,l),g,j)}}function zC(r,a){return a>=r.expandoStartIndex}function YC(r,a,l,g){const P=r.data;if(null===P[l+1]){const j=P[$r()],H=zC(r,l);ZC(j,g)&&null===a&&!H&&(a=!1),a=function bS(r,a,l,g){const P=function Xu(r){const a=ei.lFrame.currentDirectiveIndex;return-1===a?null:r[a]}(r);let j=g?a.residualClasses:a.residualStyles;if(null===P)0===(g?a.classBindings:a.styleBindings)&&(l=Jf(l=z0(null,r,a,l,g),a.attrs,g),j=null);else{const H=a.directiveStylingLast;if(-1===H||r[H]!==P)if(l=z0(P,r,a,l,g),null===j){let ve=function DS(r,a,l){const g=l?a.classBindings:a.styleBindings;if(0!==dp(g))return r[kd(g)]}(r,a,g);void 0!==ve&&Array.isArray(ve)&&(ve=z0(null,r,a,ve[1],g),ve=Jf(ve,a.attrs,g),function TS(r,a,l,g){r[kd(l?a.classBindings:a.styleBindings)]=g}(r,a,g,ve))}else j=function OS(r,a,l){let g;const P=a.directiveEnd;for(let j=1+a.directiveStylingLast;j<P;j++)g=Jf(g,r[j].hostAttrs,l);return Jf(g,a.attrs,l)}(r,a,g)}return void 0!==j&&(g?a.residualClasses=j:a.residualStyles=j),l}(P,j,a,g),function pS(r,a,l,g,P,j){let H=j?a.classBindings:a.styleBindings,ie=kd(H),ve=dp(H);r[g]=l;let Ze,we=!1;if(Array.isArray(l)?(Ze=l[1],(null===Ze||bo(l,Ze)>0)&&(we=!0)):Ze=l,P)if(0!==ve){const tn=kd(r[ie+1]);r[g+1]=e_(tn,ie),0!==tn&&(r[tn+1]=G0(r[tn+1],g)),r[ie+1]=function uS(r,a){return 131071&r|a<<17}(r[ie+1],g)}else r[g+1]=e_(ie,0),0!==ie&&(r[ie+1]=G0(r[ie+1],g)),ie=g;else r[g+1]=e_(ve,0),0===ie?ie=g:r[ve+1]=G0(r[ve+1],g),ve=g;we&&(r[g+1]=Yf(r[g+1])),UC(r,Ze,g,!0),UC(r,Ze,g,!1),function fS(r,a,l,g,P){const j=P?r.residualClasses:r.residualStyles;null!=j&&"string"==typeof a&&bo(j,a)>=0&&(l[g+1]=Xf(l[g+1]))}(a,Ze,r,g,j),H=e_(ie,ve),j?a.classBindings=H:a.styleBindings=H}(P,j,a,l,H,g)}}function z0(r,a,l,g,P){let j=null;const H=l.directiveEnd;let ie=l.directiveStylingLast;for(-1===ie?ie=l.directiveStart:ie++;ie<H&&(j=a[ie],g=Jf(g,j.hostAttrs,P),j!==r);)ie++;return null!==r&&(l.directiveStylingLast=ie),g}function Jf(r,a,l){const g=l?1:2;let P=-1;if(null!==a)for(let j=0;j<a.length;j++){const H=a[j];"number"==typeof H?P=H:P===g&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),bi(r,H,!!l||a[++j]))}return void 0===r?null:r}function IS(r,a,l){const g=String(a);""!==g&&!g.includes(" ")&&bi(r,g,l)}function JC(r,a,l,g,P,j,H,ie){if(!(3&a.type))return;const ve=r.data,we=ve[ie+1],Ze=function hS(r){return!(1&~r)}(we)?QC(ve,a,l,P,dp(we),H):void 0;t_(Ze)||(t_(j)||function dS(r){return!(2&~r)}(we)&&(j=QC(ve,null,l,P,ie,H)),function gf(r,a,l,g,P){if(a)P?r.addClass(l,g):r.removeClass(l,g);else{let j=-1===g.indexOf("-")?void 0:Sl.DashCase;null==P?r.removeStyle(l,g,j):("string"==typeof P&&P.endsWith("!important")&&(P=P.slice(0,-10),j|=Sl.Important),r.setStyle(l,g,P,j))}}(g,H,Qd($r(),l),P,j))}function QC(r,a,l,g,P,j){const H=null===a;let ie;for(;P>0;){const ve=r[P],we=Array.isArray(ve),Ze=we?ve[1]:ve,Ot=null===Ze;let tn=l[P+1];tn===_i&&(tn=Ot?Ys:void 0);let mn=Ot?ni(tn,g):Ze===g?tn:void 0;if(we&&!t_(mn)&&(mn=ni(ve,g)),t_(mn)&&(ie=mn,H))return ie;const bn=r[P+1];P=H?kd(bn):dp(bn)}if(null!==a){let ve=j?a.residualClasses:a.residualStyles;null!=ve&&(ie=ni(ve,g))}return ie}function t_(r){return void 0!==r}function ZC(r,a){return!!(r.flags&(a?8:16))}function qC(r,a,l){ec(bi,Pc,ip(Cn(),r,a,l),!0)}function eb(r,a,l,g,P){ec(bi,Pc,Au(Cn(),r,a,l,g,P),!0)}function pp(r,a,l,g,P,j,H,ie,ve,we,Ze){ec(bi,Pc,function rp(r,a,l,g,P,j,H,ie,ve,we,Ze,Ot){const tn=Gl();let mn=Ra(r,tn,l,P,H,ve);return mn=zo(r,tn+4,Ze)||mn,na(5),mn?a+Rs(l)+g+Rs(P)+j+Rs(H)+ie+Rs(ve)+we+Rs(Ze)+Ot:_i}(Cn(),r,a,l,g,P,j,H,ie,ve,we,Ze),!0)}class NS{destroy(a){}updateValue(a,l){}swap(a,l){const g=Math.min(a,l),P=Math.max(a,l),j=this.detach(P);if(P-g>1){const H=this.detach(g);this.attach(g,j),this.attach(P,H)}else this.attach(g,j)}move(a,l){this.attach(l,this.detach(a))}}function Y0(r,a,l,g,P){return r===l&&Object.is(a,g)?1:Object.is(P(r,a),P(l,g))?-1:0}function Qf(r,a,l,g){return!(void 0===a||!a.has(g)||(r.attach(l,a.get(g)),a.delete(g),0))}function tb(r,a,l,g,P){if(Qf(r,a,g,l(g,P)))r.updateValue(g,P);else{const j=r.create(g,P);r.attach(g,j)}}function i_(r,a,l,g){const P=new Set;for(let j=a;j<=l;j++)P.add(g(j,r.at(j)));return P}class nb{constructor(){this.kvMap=new Map,this._vMap=void 0}has(a){return this.kvMap.has(a)}delete(a){if(!this.has(a))return!1;const l=this.kvMap.get(a);return void 0!==this._vMap&&this._vMap.has(l)?(this.kvMap.set(a,this._vMap.get(l)),this._vMap.delete(l)):this.kvMap.delete(a),!0}get(a){return this.kvMap.get(a)}set(a,l){if(this.kvMap.has(a)){let g=this.kvMap.get(a);void 0===this._vMap&&(this._vMap=new Map);const P=this._vMap;for(;P.has(g);)g=P.get(g);P.set(g,l)}else this.kvMap.set(a,l)}forEach(a){for(let[l,g]of this.kvMap)if(a(g,l),void 0!==this._vMap){const P=this._vMap;for(;P.has(g);)g=P.get(g),a(g,l)}}}function Zf(r,a,l){Xl("NgControlFlow");const g=Cn(),P=Oo(),j=X0(g,Zs+r);if(zo(g,P,a)){const ie=f(null);try{if(qv(j,0),-1!==a){const ve=J0(g[es],Zs+a),we=Fh(j,ve.tView.ssrId);bf(j,Cf(g,ve,l,{dehydratedView:we}),0,xh(ve,we))}}finally{f(ie)}}else{const ie=sE(j,0);void 0!==ie&&(ie[Xi]=l)}}class jS{constructor(a,l,g){this.lContainer=a,this.$implicit=l,this.$index=g}get $count(){return this.lContainer.length-_o}}function sb(r,a){return a}class US{constructor(a,l,g){this.hasEmptyBlock=a,this.trackByFn=l,this.liveCollection=g}}function o_(r,a,l,g,P,j,H,ie,ve,we,Ze,Ot,tn){Xl("NgControlFlow");const mn=void 0!==ve,bn=Cn(),jn=ie?H.bind(bn[co][Xi]):H,is=new US(mn,jn);bn[Zs+r]=is,Kh(r+1,a,l,g,P,j),mn&&Kh(r+2,ve,we,Ze,Ot,tn)}class kS extends NS{constructor(a,l,g){super(),this.lContainer=a,this.hostLView=l,this.templateTNode=g,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-_o}at(a){return this.getLView(a)[Xi].$implicit}attach(a,l){const g=l[$o];this.needsIndexUpdate||=a!==this.length,bf(this.lContainer,l,a,xh(this.templateTNode,g))}detach(a){return this.needsIndexUpdate||=a!==this.length-1,function VS(r,a){return pf(r,a)}(this.lContainer,a)}create(a,l){const g=Fh(this.lContainer,this.templateTNode.tView.ssrId);return Cf(this.hostLView,this.templateTNode,new jS(this.lContainer,l,a),{dehydratedView:g})}destroy(a){Ad(a[es],a)}updateValue(a,l){this.getLView(a)[Xi].$implicit=l}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let a=0;a<this.length;a++)this.getLView(a)[Xi].$index=a}getLView(a){return function ib(r,a){return sE(r,a)}(this.lContainer,a)}}function r_(r){const a=f(null),l=$r();try{const g=Cn(),P=g[es],j=g[l];if(void 0===j.liveCollection){const ie=l+1,ve=X0(g,ie),we=J0(P,ie);j.liveCollection=new kS(ve,g,we)}else j.liveCollection.reset();const H=j.liveCollection;if(function FS(r,a,l){let g,P,j=0,H=r.length-1;if(Array.isArray(a)){let ie=a.length-1;for(;j<=H&&j<=ie;){const ve=r.at(j),we=a[j],Ze=Y0(j,ve,j,we,l);if(0!==Ze){Ze<0&&r.updateValue(j,we),j++;continue}const Ot=r.at(H),tn=a[ie],mn=Y0(H,Ot,ie,tn,l);if(0!==mn){mn<0&&r.updateValue(H,tn),H--,ie--;continue}const bn=l(j,ve),jn=l(H,Ot),is=l(j,we);if(Object.is(is,jn)){const ms=l(ie,tn);Object.is(ms,bn)?(r.swap(j,H),r.updateValue(H,tn),ie--,H--):r.move(H,j),r.updateValue(j,we),j++}else if(g??=new nb,P??=i_(r,j,H,l),Qf(r,g,j,is))r.updateValue(j,we),j++,H++;else if(P.has(is))g.set(bn,r.detach(j)),H--;else{const ms=r.create(j,a[j]);r.attach(j,ms),j++,H++}}for(;j<=ie;)tb(r,g,l,j,a[j]),j++}else if(null!=a){const ie=a[Symbol.iterator]();let ve=ie.next();for(;!ve.done&&j<=H;){const we=r.at(j),Ze=ve.value,Ot=Y0(j,we,j,Ze,l);if(0!==Ot)Ot<0&&r.updateValue(j,Ze),j++,ve=ie.next();else{g??=new nb,P??=i_(r,j,H,l);const tn=l(j,Ze);if(Qf(r,g,j,tn))r.updateValue(j,Ze),j++,H++,ve=ie.next();else if(P.has(tn)){const mn=l(j,we);g.set(mn,r.detach(j)),H--}else r.attach(j,r.create(j,Ze)),j++,H++,ve=ie.next()}}for(;!ve.done;)tb(r,g,l,r.length,ve.value),ve=ie.next()}for(;j<=H;)r.destroy(r.detach(H--));g?.forEach(ie=>{r.destroy(ie)})}(H,r,j.trackByFn),H.updateIndexes(),j.hasEmptyBlock){const ie=Oo(),ve=0===H.length;if(zo(g,ie,ve)){const we=l+2,Ze=X0(g,we);if(ve){const Ot=J0(P,we),tn=Fh(Ze,Ot.tView.ssrId);bf(Ze,Cf(g,Ot,void 0,{dehydratedView:tn}),0,xh(Ot,tn))}else qv(Ze,0)}}}finally{f(a)}}function X0(r,a){return r[a]}function J0(r,a){return lc(r,a)}function a_(r,a,l,g){const P=Cn(),j=Es(),H=Zs+r,ie=P[$s],ve=j.firstCreatePass?function GS(r,a,l,g,P,j){const H=a.consts,ve=Rh(a,r,2,g,tl(H,P));return Pr(a,l,ve,tl(H,j)),null!==ve.attrs&&Ig(ve,ve.attrs,!1),null!==ve.mergedAttrs&&Ig(ve,ve.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,ve),ve}(H,j,P,a,l,g):j.data[H],we=c_(j,P,ve,ie,a,r);P[H]=we;const Ze=jl(ve);return ka(ve,!0),ad(ie,we,ve),!Wh(ve)&&Ko()&&Ei(j,P,we,ve),0===function Xy(){return ei.lFrame.elementDepthCount}()&&Kn(we,P),function pi(){ei.lFrame.elementDepthCount++}(),Ze&&(ld(j,P,ve),Pl(j,ve,P)),null!==g&&cd(P,ve),a_}function l_(){let r=Vi();Rm()?Bc():(r=r.parent,ka(r,!1));const a=r;(function Jy(r){return ei.skipHydrationRootTNode===r})(a)&&function iv(){ei.skipHydrationRootTNode=null}(),function kl(){ei.lFrame.elementDepthCount--}();const l=Es();return l.firstCreatePass&&(Zu(l,r),fl(r)&&l.queries.elementEnd(r)),null!=a.classesWithoutHost&&function uv(r){return!!(8&r.flags)}(a)&&K0(l,a,Cn(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function xm(r){return!!(16&r.flags)}(a)&&K0(l,a,Cn(),a.stylesWithoutHost,!1),l_}function Q0(r,a,l,g){return a_(r,a,l,g),l_(),Q0}let c_=(r,a,l,g,P,j)=>(Wr(!0),od(g,P,bd()));function $S(r,a,l,g,P,j){const H=a[$o],ie=!H||El()||Wh(l)||lf(H,j);if(Wr(ie),ie)return od(g,P,bd());const ve=Cg(H,r,a,l);return uu(H,j)&&Qm(H,j,ve.nextSibling),H&&(Yp(l)||Km(ve))&&Ua(l)&&(function Lr(r){ei.skipHydrationRootTNode=r}(l),Hv(ve)),ve}function xu(r,a,l){const g=Cn(),P=Es(),j=r+Zs,H=P.firstCreatePass?function WS(r,a,l,g,P){const j=a.consts,H=tl(j,g),ie=Rh(a,r,8,"ng-container",H);return null!==H&&Ig(ie,H,!0),Pr(a,l,ie,tl(j,P)),null!==a.queries&&a.queries.elementStart(a,ie),ie}(j,P,g,a,l):P.data[j];ka(H,!0);const ie=KS(P,g,H,r);return g[j]=ie,Ko()&&Ei(P,g,ie,H),Kn(ie,g),jl(H)&&(ld(P,g,H),Pl(P,H,g)),null!=l&&cd(g,H),xu}function d_(){let r=Vi();const a=Es();return Rm()?Bc():(r=r.parent,ka(r,!1)),a.firstCreatePass&&(Zu(a,r),fl(r)&&a.queries.elementEnd(r)),d_}function Z0(r,a,l){return xu(r,a,l),d_(),Z0}let KS=(r,a,l,g)=>(Wr(!0),ug(a[$s],""));function HS(r,a,l,g){let P;const j=a[$o],H=!j||El()||Wh(l);if(Wr(H),H)return ug(a[$s],"");const ie=Cg(j,r,a,l),ve=function af(r,a){const l=r.data;let g=l[Mv]?.[a]??null;return null===g&&l[tf]?.[a]&&(g=Zm(r,a)),g}(j,g);return Qm(j,g,ie),P=bg(ve,ie),P}function rb(){return Cn()}function q0(r,a,l){const g=Cn();return zo(g,Oo(),a)&&Ka(Es(),xo(),g,r,a,g[$s],l,!0),q0}const Lu=void 0;var YS=["en",[["a","p"],["AM","PM"],Lu],[["AM","PM"],Lu,Lu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lu,"{1} 'at' {0}",Lu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function zS(r){const l=Math.floor(Math.abs(r)),g=r.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===g?1:5}];let fp={};function ey(r){const a=function qf(r){return r.toLowerCase().replace(/_/g,"-")}(r);let l=cb(a);if(l)return l;const g=a.split("-")[0];if(l=cb(g),l)return l;if("en"===g)return YS;throw new rt(701,!1)}function lb(r){return ey(r)[tc.PluralCase]}function cb(r){return r in fp||(fp[r]=gn.ng&&gn.ng.common&&gn.ng.common.locales&&gn.ng.common.locales[r]),fp[r]}var tc=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(tc||{});const XS=["zero","one","two","few","many"],md="en-US",h_={marker:"element"},Nu={marker:"ICU"};var ia=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(ia||{});let em=md;function ub(r,a,l){const g=a.insertBeforeIndex,P=Array.isArray(g)?g[0]:g;return null===P?Ti(r,0,l):qi(l[P])}function hb(r,a,l,g,P){const j=a.insertBeforeIndex;if(Array.isArray(j)){let H=g,ie=null;if(3&a.type||(ie=H,H=P),null!==H&&-1===a.componentOffset)for(let ve=1;ve<j.length;ve++)vu(r,H,l[j[ve]],ie,!1)}}function pb(r,a){if(r.push(a),r.length>1)for(let l=r.length-2;l>=0;l--){const g=r[l];tm(g)||fb(g,a)&&null===QS(g)&&ZS(g,a.index)}}function tm(r){return!(64&r.type)}function fb(r,a){return tm(a)||r.index>a.index}function QS(r){const a=r.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function ZS(r,a){const l=r.insertBeforeIndex;Array.isArray(l)?l[0]=a:(Sr(ub,hb),r.insertBeforeIndex=a)}function nm(r,a){const l=r.data[a];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function mb(r,a,l){const g=Ah(r,l,64,null,null);return pb(a,g),g}function f_(r,a){const l=a[r.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function gb(r){return r>>>17}function sm(r){return(131070&r)>>>1}let mp=0,im=0;function g_(r,a,l){const g=r[$s];switch(l){case Node.COMMENT_NODE:return ug(g,a);case Node.TEXT_NODE:return _u(g,a);case Node.ELEMENT_NODE:return od(g,a,null)}}let Fu=(r,a,l,g)=>(Wr(!0),g_(r,l,g));function nP(r,a,l,g){return Wr(!0),g_(r,l,g)}function vb(r,a,l,g){const P=l[$s];let H,j=null;for(let ie=0;ie<a.length;ie++){const ve=a[ie];if("string"==typeof ve){const we=a[++ie];null===l[we]&&(l[we]=Fu(l,we,ve,Node.TEXT_NODE))}else if("number"==typeof ve)switch(1&ve){case 0:const we=gb(ve);let Ze,Ot;if(null===j&&(j=we,H=Vn(P,g)),we===j?(Ze=g,Ot=H):(Ze=null,Ot=qi(l[we])),null!==Ot){const jn=sm(ve);vu(P,Ot,l[jn],Ze,!1);const ms=nm(r,jn);if(null!==ms&&"object"==typeof ms){const zn=f_(ms,l);null!==zn&&vb(r,ms.create[zn],l,l[ms.anchorIdx])}}break;case 1:const mn=a[++ie],bn=a[++ie];Zv(P,Qd(ve>>>1,l),null,null,mn,bn,null)}else switch(ve){case Nu:const we=a[++ie],Ze=a[++ie];null===l[Ze]&&Kn(l[Ze]=Fu(l,Ze,we,Node.COMMENT_NODE),l);break;case h_:const Ot=a[++ie],tn=a[++ie];null===l[tn]&&Kn(l[tn]=Fu(l,tn,Ot,Node.ELEMENT_NODE),l)}}}function yb(r,a,l,g,P){for(let j=0;j<l.length;j++){const H=l[j],ie=l[++j];if(H&P){let ve="";for(let we=j+1;we<=j+ie;we++){const Ze=l[we];if("string"==typeof Ze)ve+=Ze;else if("number"==typeof Ze)if(Ze<0)ve+=Rs(a[g-Ze]);else{const Ot=Ze>>>2;switch(3&Ze){case 1:const tn=l[++we],mn=l[++we],bn=r.data[Ot];"string"==typeof bn?Zv(a[$s],a[Ot],null,bn,tn,ve,mn):Ka(r,bn,a,tn,ve,a[$s],mn,!1);break;case 0:const jn=a[Ot];null!==jn&&Kv(a[$s],jn,ve);break;case 2:oP(r,nm(r,Ot),a,ve);break;case 3:__(r,nm(r,Ot),g,a)}}}}else{const ve=l[j+1];if(ve>0&&!(3&~ve)){const Ze=nm(r,ve>>>2);a[Ze.currentCaseLViewIndex]<0&&__(r,Ze,g,a)}}j+=ie}}function __(r,a,l,g){let P=g[a.currentCaseLViewIndex];if(null!==P){let j=mp;P<0&&(P=g[a.currentCaseLViewIndex]=~P,j=-1),yb(r,g,a.update[P],l,j)}}function oP(r,a,l,g){const P=function rP(r,a){let l=r.cases.indexOf(a);if(-1===l)switch(r.type){case 1:{const g=function u_(r,a){const l=lb(a)(parseInt(r,10)),g=XS[l];return void 0!==g?g:"other"}(a,function JS(){return em}());l=r.cases.indexOf(g),-1===l&&"other"!==g&&(l=r.cases.indexOf("other"));break}case 0:l=r.cases.indexOf("other")}return-1===l?null:l}(a,g);if(f_(a,l)!==P&&(Eb(r,a,l),l[a.currentCaseLViewIndex]=null===P?null:~P,null!==P)){const H=l[a.anchorIdx];H&&vb(r,a.create[P],l,H)}}function Eb(r,a,l){let g=f_(a,l);if(null!==g){const P=a.remove[g];for(let j=0;j<P.length;j++){const H=P[j];if(H>0){const ie=Qd(H,l);null!==ie&&mf(l[$s],ie)}else Eb(r,nm(r,~H),l)}}}function aP(){const r=[];let l,g,a=-1;function j(ie,ve){a=0;const we=f_(ie,ve);g=null!==we?ie.remove[we]:Ys}function H(){if(a<g.length){const ie=g[a++];return ie>0?l[ie]:(r.push(a,g),j(l[es].data[~ie],l),H())}return 0===r.length?null:(g=r.pop(),a=r.pop(),H())}return function P(ie,ve){for(l=ve;r.length;)r.pop();return j(ie.value,ve),H}}const ju=/\ufffd(\d+):?\d*\ufffd/gi,N2=/\ufffd(\d+)\ufffd/,Tb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,om="\ufffd",Bu=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,cP=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,dP=/\uE500/g;function Ob(r,a,l,g,P,j,H){const ie=Yl(r,g,1,null);let ve=ie<<ia.SHIFT,we=Vl();a===we&&(we=null),null===we&&(ve|=ia.APPEND_EAGERLY),H&&(ve|=ia.COMMENT,function j1(r){void 0===$v&&($v=r())}(aP)),P.push(ve,null===j?"":j);const Ze=Ah(r,ie,H?32:1,null===j?"":j,null);pb(l,Ze);const Ot=Ze.index;return ka(Ze,!1),null!==we&&a!==we&&function p_(r,a){let l=r.insertBeforeIndex;null===l?(Sr(ub,hb),l=r.insertBeforeIndex=[null,a]):(st(Array.isArray(l),!0,"Expecting array here"),l.push(a))}(we,Ot),Ze}function y_(r,a,l,g,P,j,H,ie){const ve=ie.match(ju),Ze=Ob(a,l,g,H,P,ve?null:ie,!1).index;ve&&rm(j,ie,Ze,null,0,null),r.push({kind:0,index:Ze})}function rm(r,a,l,g,P,j){const H=r.length,ie=H+1;r.push(null,null);const ve=H+2,we=a.split(ju);let Ze=0;for(let Ot=0;Ot<we.length;Ot++){const tn=we[Ot];if(1&Ot){const mn=P+parseInt(tn,10);r.push(-1-mn),Ze|=am(mn)}else""!==tn&&r.push(tn)}return r.push(l<<2|(g?1:0)),g&&r.push(g,j),r[H]=Ze,r[ie]=r.length-ve,Ze}function am(r){return 1<<Math.min(r,31)}function Mb(r){let a,j,l="",g=0,P=!1;for(;null!==(a=Bu.exec(r));)P?a[0]===`${om}/*${j}${om}`&&(g=a.index,P=!1):(l+=r.substring(g,a.index+a[0].length),j=a[1],P=!0);return l+=r.slice(g),l}function Ib(r,a,l,g,P,j,H){let ie=0;const ve={type:j.type,currentCaseLViewIndex:Yl(a,l,1,null),anchorIdx:H,cases:[],create:[],remove:[],update:[]};(function Rb(r,a,l){r.push(am(a.mainBinding),2,-1-a.mainBinding,l<<2|2)})(g,j,H),function qS(r,a,l){const g=r.data[a];null===g?r.data[a]=l:g.value=l}(a,H,ve);const we=j.values,Ze=[];for(let Ot=0;Ot<we.length;Ot++){const tn=we[Ot],mn=[];for(let jn=0;jn<tn.length;jn++){const is=tn[jn];if("string"!=typeof is){const ms=mn.push(is)-1;tn[jn]=`\x3c!--\ufffd${ms}\ufffd--\x3e`}}const bn=[];Ze.push(bn),ie=mP(bn,a,ve,l,g,P,j.cases[Ot],tn.join(""),mn)|ie}ie&&function gP(r,a,l){r.push(a,1,l<<2|3)}(g,ie,H),r.push({kind:3,index:H,cases:Ze,currentCaseLViewIndex:ve.currentCaseLViewIndex})}function C_(r){const a=[],l=[];let g=1,P=0;const j=gp(r=r.replace(Tb,function(H,ie,ve){return g="select"===ve?0:1,P=parseInt(ie.slice(1),10),""}));for(let H=0;H<j.length;){let ie=j[H++].trim();1===g&&(ie=ie.replace(/\s*(?:=)?(\w+)\s*/,"$1")),ie.length&&a.push(ie);const ve=gp(j[H++]);a.length>l.length&&l.push(ve)}return{type:g,mainBinding:P,cases:a,values:l}}function gp(r){if(!r)return[];let a=0;const l=[],g=[],P=/[{}]/g;let j;for(P.lastIndex=0;j=P.exec(r);){const ie=j.index;if("}"==j[0]){if(l.pop(),0==l.length){const ve=r.substring(a,ie);Tb.test(ve)?g.push(C_(ve)):g.push(ve),a=ie+1}}else{if(0==l.length){const ve=r.substring(a,ie);g.push(ve),a=ie+1}l.push("{")}}const H=r.substring(a);return g.push(H),g}function mP(r,a,l,g,P,j,H,ie,ve){const we=[],Ze=[],Ot=[];l.cases.push(H),l.create.push(we),l.remove.push(Ze),l.update.push(Ot);const mn=_1(mc()).getInertBodyElement(ie),bn=sa(mn)||mn;return bn?Sb(r,a,l,g,P,we,Ze,Ot,bn,j,ve,0):0}function Sb(r,a,l,g,P,j,H,ie,ve,we,Ze,Ot){let tn=0,mn=ve.firstChild;for(;mn;){const bn=Yl(a,g,1,null);switch(mn.nodeType){case Node.ELEMENT_NODE:const jn=mn,is=jn.tagName.toLowerCase();if(yc.hasOwnProperty(is)){ny(j,h_,is,we,bn),a.data[bn]=is;const uo=jn.attributes;for(let oa=0;oa<uo.length;oa++){const wl=uo.item(oa),Q_=wl.name.toLowerCase();wl.value.match(ju)?D1.hasOwnProperty(Q_)&&rm(ie,wl.value,bn,wl.name,0,Ec[Q_]?ig:null):D_(j,bn,wl)}const jo={kind:1,index:bn,children:[]};r.push(jo),tn=Sb(jo.children,a,l,g,P,j,H,ie,mn,bn,Ze,Ot+1)|tn,Pb(H,bn,Ot)}break;case Node.TEXT_NODE:const ms=mn.textContent||"",zn=ms.match(ju);ny(j,null,zn?"":ms,we,bn),Pb(H,bn,Ot),zn&&(tn=rm(ie,ms,bn,null,0,null)|tn),r.push({kind:0,index:bn});break;case Node.COMMENT_NODE:const ai=N2.exec(mn.textContent||"");if(ai){const jo=Ze[parseInt(ai[1],10)];ny(j,Nu,"",we,bn),Ib(r,a,g,P,we,jo,bn),b_(H,bn,Ot)}}mn=mn.nextSibling}return tn}function Pb(r,a,l){0===l&&r.push(a)}function b_(r,a,l){0===l&&(r.push(~a),r.push(a))}function ny(r,a,l,g,P){null!==a&&r.push(a),r.push(l,P,function _b(r,a,l){return r|a<<17|l<<1}(0,g,P))}function D_(r,a,l){r.push(a<<1|1,l.name,l.value)}function wb(r,a,l=-1){const g=Es(),P=Cn(),j=Zs+r,H=tl(g.consts,a),ie=Vl();g.firstCreatePass&&function uP(r,a,l,g,P,j){const H=Vl(),ie=[],ve=[],we=[[]],Ze=[[]];P=function fP(r,a){if(function E_(r){return-1===r}(a))return Mb(r);{const l=r.indexOf(`:${a}${om}`)+2+a.toString().length,g=r.search(new RegExp(`${om}\\/\\*\\d+:${a}${om}`));return Mb(r.substring(l,g))}}(P,j);const Ot=function v_(r){return r.replace(dP," ")}(P).split(cP);for(let tn=0;tn<Ot.length;tn++){let mn=Ot[tn];if(1&tn){const bn=47===mn.charCodeAt(0),jn=mn.charCodeAt(bn?1:0),is=Zs+Number.parseInt(mn.substring(bn?2:1));if(bn)we.shift(),Ze.shift(),ka(Vl(),!1);else{const ms=mb(r,we[0],is);we.unshift([]),ka(ms,!0);const zn={kind:2,index:is,children:[],type:35===jn?0:1};Ze[0].push(zn),Ze.unshift(zn.children)}}else{const bn=gp(mn);for(let jn=0;jn<bn.length;jn++){let is=bn[jn];if(1&jn){const ms=is;if("object"!=typeof ms)throw new Error(`Unable to parse ICU expression in "${P}" message.`);const ai=Ob(r,H,we[0],l,ie,"",!0).index;Ib(Ze[0],r,l,ve,a,ms,ai)}else""!==is&&y_(Ze[0],r,H,we[0],ie,ve,l,is)}}}r.data[g]={create:ie,update:ve,ast:Ze[0]}}(g,null===ie?0:ie.index,P,j,H,l),2===g.type?P[co][ws]|=32:P[ws]|=32;const ve=g.data[j],Ze=$1(g,ie===P[Eo]?null:ie,P);(function iP(r,a,l,g){const P=r[$s];for(let j=0;j<a.length;j++){const H=a[j++],we=(H&ia.APPEND_EAGERLY)===ia.APPEND_EAGERLY,Ze=H>>>ia.SHIFT;let Ot=r[Ze],tn=!1;null===Ot&&(Ot=r[Ze]=Fu(r,Ze,a[j],(H&ia.COMMENT)===ia.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),tn=Ko()),we&&null!==l&&tn&&vu(P,l,Ot,g,!1)}})(P,ve.create,Ze,ie&&8&ie.type?P[ie.index]:null),qd(!0)}function Lb(r,a,l){wb(r,a,l),function xb(){qd(!1)}()}function Rc(r){return function eP(r){r&&(mp|=1<<Math.min(im,31)),im++}(zo(Cn(),Oo(),r)),Rc}function Fb(r){!function tP(r,a,l){if(im>0){const g=r.data[l];yb(r,a,Array.isArray(g)?g:g.update,Gl()-im-1,mp)}mp=0,im=0}(Es(),Cn(),r+Zs)}function jb(r,a,l,g){const P=Cn(),j=Es(),H=Vi();return Ub(j,P,P[$s],H,r,a,g),jb}function Ub(r,a,l,g,P,j,H){const ie=jl(g),we=r.firstCreatePass&&mg(r),Ze=a[Xi],Ot=eE(a);let tn=!0;if(3&g.type||H){const jn=Gr(g,a),is=H?H(jn):jn,ms=Ot.length,zn=H?uo=>H(qi(uo[g.index])):g.index;let ai=null;if(!H&&ie&&(ai=function B2(r,a,l,g){const P=r.cleanup;if(null!=P)for(let j=0;j<P.length-1;j+=2){const H=P[j];if(H===l&&P[j+1]===g){const ie=a[sr],ve=P[j+2];return ie.length>ve?ie[ve]:null}"string"==typeof H&&(j+=2)}return null}(r,a,P,g.index)),null!==ai)(ai.__ngLastListenerFn__||ai).__ngNextListenerFn__=j,ai.__ngLastListenerFn__=j,tn=!1;else{j=Vb(g,a,Ze,j,!1);const uo=l.listen(is,P,j);Ot.push(j,uo),we&&we.push(P,zn,ms,ms+1)}}else j=Vb(g,a,Ze,j,!1);const mn=g.outputs;let bn;if(tn&&null!==mn&&(bn=mn[P])){const jn=bn.length;if(jn)for(let is=0;is<jn;is+=2){const jo=a[bn[is]][bn[is+1]].subscribe(j),oa=Ot.length;Ot.push(j,jo),we&&we.push(P,g.index,oa,-(oa+1))}}}function kb(r,a,l,g){const P=f(null);try{return _l(6,a,l),!1!==l(g)}catch(j){return gg(r,j),!1}finally{_l(7,a,l),f(P)}}function Vb(r,a,l,g,P){return function j(H){if(H===Function)return g;Tf(r.componentOffset>-1?da(r.index,a):a);let ve=kb(a,l,g,H),we=j.__ngNextListenerFn__;for(;we;)ve=kb(a,l,we,H)&&ve,we=we.__ngNextListenerFn__;return P&&!1===ve&&H.preventDefault(),ve}}function CP(r=1){return function Tr(r){return(ei.lFrame.contextLView=function Mm(r,a){for(;r>0;)a=a[ir],r--;return a}(r,ei.lFrame.contextLView))[Xi]}(r)}function k2(r,a){let l=null;const g=function Vo(r){const a=r.attrs;if(null!=a){const l=a.indexOf(5);if(!(1&l))return a[l+1]}return null}(r);for(let P=0;P<a.length;P++){const j=a[P];if("*"!==j){if(null===g?zi(r,j,!0):Ea(g,j))return P}else l=P}return l}function bP(r){const a=Cn()[co][Eo];if(!a.projection){const g=a.projection=function Is(r,a){const l=[];for(let g=0;g<r;g++)l.push(a);return l}(r?r.length:1,null),P=g.slice();let j=a.child;for(;null!==j;){const H=r?k2(j,r):0;null!==H&&(P[H]?P[H].projectionNext=j:g[H]=j,P[H]=j),j=j.next}}}function DP(r,a=0,l){const g=Cn(),P=Es(),j=Rh(P,Zs+r,16,null,l||null);null===j.projection&&(j.projection=a),Bc(),(!g[$o]||El())&&32&~j.flags&&function eM(r,a,l){K1(a[$s],0,a,l,Dc(r,l,a),Gn(l.parent||a[Eo],l,a))}(P,g,j)}function Gb(r,a,l){return sy(r,"",a,"",l),Gb}function sy(r,a,l,g,P){const j=Cn(),H=ip(j,a,l,g);return H!==_i&&Ka(Es(),xo(),j,r,H,j[$s],P,!1),sy}function $b(r,a,l,g,P,j,H){const ie=Cn(),ve=Au(ie,a,l,g,P,j);return ve!==_i&&Ka(Es(),xo(),ie,r,ve,ie[$s],H,!1),$b}function Xb(r,a,l,g){!function kh(r,a,l,g){const P=Es();if(P.firstCreatePass){const j=Vi();WE(P,new GE(a,l,g),j.index),function gI(r,a){const l=r.contentQueries||(r.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(r.queries.length-1,a)}(P,r),!(2&~l)&&(P.staticContentQueries=!0)}return Mc(P,Cn(),l)}(r,a,l,g)}function Jb(r,a,l){!function Jl(r,a,l){const g=Es();return g.firstCreatePass&&(WE(g,new GE(r,a,l),-1),!(2&~a)&&(g.staticViewQueries=!0)),Mc(g,Cn(),a)}(r,a,l)}function lm(r){const a=Cn(),l=Es(),g=Np();Uc(g+1);const P=Ic(l,g);if(r.dirty&&function Yy(r){return!(4&~r[ws])}(a)===!(2&~P.metadata.flags)){if(null===P.matches)r.reset([]);else{const j=KE(a,g);r.reset(j,$m),r.notifyOnChanges()}return!0}return!1}function Aa(){return function Mu(r,a){return r[To].queries[a].queryList}(Cn(),Np())}function Qb(r){return Fc(function Hu(){return ei.lFrame.contextLView}(),Zs+r)}function sD(r,a=""){const l=Cn(),g=Es(),P=r+Zs,j=g.firstCreatePass?Rh(g,P,1,a,null):g.data[P],H=ry(g,l,j,a,r);l[P]=H,Ko()&&Ei(g,l,H,j),ka(j,!1)}let ry=(r,a,l,g,P)=>(Wr(!0),_u(a[$s],g));function wP(r,a,l,g,P){const j=a[$o],H=!j||El()||Wh(l)||lf(j,P);return Wr(H),H?_u(a[$s],g):Cg(j,r,a,l)}function nc(r){return ay("",r,""),nc}function ay(r,a,l){const g=Cn(),P=ip(g,r,a,l);return P!==_i&&dd(g,$r(),P),ay}function ly(r,a,l,g,P){const j=Cn(),H=Au(j,r,a,l,g,P);return H!==_i&&dd(j,$r(),H),ly}function pm(r,a,l,g,P,j,H){const ie=Cn(),ve=function wu(r,a,l,g,P,j,H,ie){const we=Gg(r,Gl(),l,P,H);return na(3),we?a+Rs(l)+g+Rs(P)+j+Rs(H)+ie:_i}(ie,r,a,l,g,P,j,H);return ve!==_i&&dd(ie,$r(),ve),pm}function cy(r,a,l,g,P,j,H,ie,ve){const we=Cn(),Ze=function op(r,a,l,g,P,j,H,ie,ve,we){const Ot=Ra(r,Gl(),l,P,H,ve);return na(4),Ot?a+Rs(l)+g+Rs(P)+j+Rs(H)+ie+Rs(ve)+we:_i}(we,r,a,l,g,P,j,H,ie,ve);return Ze!==_i&&dd(we,$r(),Ze),cy}function dy(r,a,l){YE(a)&&(a=a());const g=Cn();return zo(g,Oo(),a)&&Ka(Es(),xo(),g,r,a,g[$s],l,!1),dy}function lD(r,a){const l=YE(r);return l&&r.set(a),l}function uy(r,a){const l=Cn(),g=Es(),P=Vi();return Ub(g,l,l[$s],P,r,a),uy}function hy(r,a,l,g,P){if(r=xe(r),Array.isArray(r))for(let j=0;j<r.length;j++)hy(r[j],a,l,g,P);else{const j=Es(),H=Cn(),ie=Vi();let ve=ro(r)?r:xe(r.provide);const we=Qn(r),Ze=1048575&ie.providerIndexes,Ot=ie.directiveStart,tn=ie.providerIndexes>>20;if(ro(r)||!r.multi){const mn=new tu(we,P,Ph),bn=fy(ve,a,P?Ze:Ze+tn,Ot);-1===bn?(Gc(uc(ie,H),j,ve),py(j,r,a.length),a.push(ve),ie.directiveStart++,ie.directiveEnd++,P&&(ie.providerIndexes+=1048576),l.push(mn),H.push(mn)):(l[bn]=mn,H[bn]=mn)}else{const mn=fy(ve,a,Ze+tn,Ot),bn=fy(ve,a,Ze,Ze+tn),is=bn>=0&&l[bn];if(P&&!is||!P&&!(mn>=0&&l[mn])){Gc(uc(ie,H),j,ve);const ms=function BP(r,a,l,g,P){const j=new tu(r,l,Ph);return j.multi=[],j.index=a,j.componentProviders=0,cD(j,P,g&&!l),j}(P?jP:FP,l.length,P,g,we);!P&&is&&(l[bn].providerFactory=ms),py(j,r,a.length,0),a.push(ve),ie.directiveStart++,ie.directiveEnd++,P&&(ie.providerIndexes+=1048576),l.push(ms),H.push(ms)}else py(j,r,mn>-1?mn:bn,cD(l[P?bn:mn],we,!P&&g));!P&&g&&is&&l[bn].componentProviders++}}}function py(r,a,l,g){const P=ro(a),j=function Da(r){return!!r.useClass}(a);if(P||j){const ve=(j?xe(a.useClass):a).prototype.ngOnDestroy;if(ve){const we=r.destroyHooks||(r.destroyHooks=[]);if(!P&&a.multi){const Ze=we.indexOf(l);-1===Ze?we.push(l,[g,ve]):we[Ze+1].push(g,ve)}else we.push(l,ve)}}}function cD(r,a,l){return l&&r.componentProviders++,r.multi.push(a)-1}function fy(r,a,l,g){for(let P=l;P<g;P++)if(a[P]===r)return P;return-1}function FP(r,a,l,g){return my(this.multi,[])}function jP(r,a,l,g){const P=this.multi;let j;if(this.providerFactory){const H=this.providerFactory.componentProviders,ie=$c(l,l[es],this.providerFactory.index,g);j=ie.slice(0,H),my(P,j);for(let ve=H;ve<ie.length;ve++)j.push(ie[ve])}else j=[],my(P,j);return j}function my(r,a){for(let l=0;l<r.length;l++)a.push((0,r[l])());return a}function dD(r,a=[]){return l=>{l.providersResolver=(g,P)=>function NP(r,a,l){const g=Es();if(g.firstCreatePass){const P=kr(r);hy(l,g.data,g.blueprint,P,!0),hy(a,g.data,g.blueprint,P,!1)}}(g,P?P(r):r,a)}}let UP=(()=>{class r{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const g=ea(0,l.type),P=g.length>0?P0([g],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,P)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=cs({token:r,providedIn:"environment",factory:()=>new r(po(xt))})}}return r})();function uD(r){Xl("NgStandalone"),r.getStandaloneInjector=a=>a.get(UP).getOrCreateStandaloneInjector(r)}function pD(r,a,l){const g=ta()+r,P=Cn();return P[g]===_i?Sc(P,g,l?a.call(l):a()):kf(P,g)}function fD(r,a,l,g){return _D(Cn(),ta(),r,a,l,g)}function mD(r,a,l,g,P){return yp(Cn(),ta(),r,a,l,g,P)}function vp(r,a,l,g,P,j){return vD(Cn(),ta(),r,a,l,g,P,j)}function GP(r,a,l,g,P,j,H){return function yD(r,a,l,g,P,j,H,ie,ve){const we=a+l;return Ra(r,we,P,j,H,ie)?Sc(r,we+4,ve?g.call(ve,P,j,H,ie):g(P,j,H,ie)):fm(r,we+4)}(Cn(),ta(),r,a,l,g,P,j,H)}function gD(r,a,l,g,P,j,H,ie){const ve=ta()+r,we=Cn(),Ze=Ra(we,ve,l,g,P,j);return zo(we,ve+4,H)||Ze?Sc(we,ve+5,ie?a.call(ie,l,g,P,j,H):a(l,g,P,j,H)):kf(we,ve+5)}function fm(r,a){const l=r[a];return l===_i?void 0:l}function _D(r,a,l,g,P,j){const H=a+l;return zo(r,H,P)?Sc(r,H+1,j?g.call(j,P):g(P)):fm(r,H+1)}function yp(r,a,l,g,P,j,H){const ie=a+l;return Su(r,ie,P,j)?Sc(r,ie+2,H?g.call(H,P,j):g(P,j)):fm(r,ie+2)}function vD(r,a,l,g,P,j,H,ie){const ve=a+l;return Gg(r,ve,P,j,H)?Sc(r,ve+3,ie?g.call(ie,P,j,H):g(P,j,H)):fm(r,ve+3)}function CD(r,a){const l=Es();let g;const P=r+Zs;l.firstCreatePass?(g=function w_(r,a){if(a)for(let l=a.length-1;l>=0;l--){const g=a[l];if(r===g.name)return g}}(a,l.pipeRegistry),l.data[P]=g,g.onDestroy&&(l.destroyHooks??=[]).push(P,g.onDestroy)):g=l.data[P];const j=g.factory||(g.factory=qe(g.type)),ie=Ds(Ph);try{const ve=nh(!1),we=j();return nh(ve),function _p(r,a,l,g){l>=r.data.length&&(r.data[l]=null,r.blueprint[l]=null),a[l]=g}(l,Cn(),P,we),we}finally{Ds(ie)}}function bD(r,a,l){const g=r+Zs,P=Cn(),j=Fc(P,g);return Ep(P,g)?_D(P,ta(),a,j.transform,l,j):j.transform(l)}function _y(r,a,l,g){const P=r+Zs,j=Cn(),H=Fc(j,P);return Ep(j,P)?yp(j,ta(),a,H.transform,l,g,H):H.transform(l,g)}function DD(r,a,l,g,P){const j=r+Zs,H=Cn(),ie=Fc(H,j);return Ep(H,j)?vD(H,ta(),a,ie.transform,l,g,P,ie):ie.transform(l,g,P)}function Ep(r,a){return r[es].data[a].pure}function TD(r,a){return bu(r,a)}class GD{constructor(a){this.full=a;const l=a.split(".");this.major=l[0],this.minor=l[1],this.patch=l.slice(2).join(".")}}let $D=(()=>{class r{log(l){console.log(l)}warn(l){console.warn(l)}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=cs({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();const IR=new lt(""),SR=new lt("");let Iy,PR=(()=>{class r{constructor(l,g,P){this._ngZone=l,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Iy||(function iw(r){Iy=r}(P),P.addToWindow(g)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb()}});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(l)||(clearTimeout(g.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,g,P){let j=-1;g&&g>0&&(j=setTimeout(()=>{this._callbacks=this._callbacks.filter(H=>H.timeoutId!==j),l()},g)),this._callbacks.push({doneCb:l,timeoutId:j,updateCb:P})}whenStable(l,g,P){if(P&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,g,P),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,g,P){return[]}static{this.\u0275fac=function(g){return new(g||r)(po(Rr),po(RR),po(SR))}}static{this.\u0275prov=cs({token:r,factory:r.\u0275fac})}}return r})(),RR=(()=>{class r{constructor(){this._applications=new Map}registerApplication(l,g){this._applications.set(l,g)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,g=!0){return Iy?.findTestabilityInTree(this,l,g)??null}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=cs({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();function Sy(r){return!!r&&"function"==typeof r.then}function zD(r){return!!r&&"function"==typeof r.subscribe}const AR=new lt("");let YD=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,g)=>{this.resolve=l,this.reject=g}),this.appInits=Ks(AR,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const P of this.appInits){const j=P();if(Sy(j))l.push(j);else if(zD(j)){const H=new Promise((ie,ve)=>{j.subscribe({complete:ie,error:ve})});l.push(H)}}const g=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{g()}).catch(P=>{this.reject(P)}),0===l.length&&g(),this.initialized=!0}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=cs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const XD=new lt("");let k_,Gd=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ks(Vm),this.afterRenderEffectManager=Ks(ud),this.externalTestViews=new Set,this.beforeRender=new ht.B,this.afterTick=new ht.B,this.componentTypes=[],this.components=[],this.isStable=Ks($h).hasPendingTasks.pipe((0,Ye.T)(l=>!l)),this._injector=Ks(xt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,g){const P=l instanceof yE;if(!this._injector.get(YD).done)throw!P&&Cr(l),new rt(405,!1);let H;H=P?l:this._injector.get(jh).resolveComponentFactory(l),this.componentTypes.push(H.componentType);const ie=function JD(r){return r.isBoundToModule}(H)?void 0:this._injector.get(Ql),we=H.create(Va.NULL,[],g||H.selector,ie),Ze=we.location.nativeElement,Ot=we.injector.get(IR,null);return Ot?.registerApplication(Ze),we.onDestroy(()=>{this.detachView(we.hostView),vm(this.components,we),Ot?.unregisterApplication(Ze)}),this._loadComponent(we),we}tick(){this._tick(!0)}_tick(l){if(this._runningTick)throw new rt(101,!1);const g=f(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(l)}catch(P){this.internalErrorHandler(P)}finally{this.afterTick.next(),this._runningTick=!1,f(g)}}detectChangesInAttachedViews(l){let g=0;const P=this.afterRenderEffectManager;for(;;){if(g===rE)throw new rt(103,!1);if(l){const j=0===g;this.beforeRender.next(j);for(let{_lView:H,notifyErrorHandler:ie}of this._views)QD(H,j,ie)}if(g++,P.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:j})=>ZD(j))&&(P.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:j})=>ZD(j))))break}}attachView(l){const g=l;this._views.push(g),g.attachToAppRef(this)}detachView(l){const g=l;vm(this._views,g),g.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const g=this._injector.get(XD,[]);[...this._bootstrapListeners,...g].forEach(P=>P(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>vm(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new rt(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=cs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function vm(r,a){const l=r.indexOf(a);l>-1&&r.splice(l,1)}function Ay(r){k_??=new WeakMap;const a=k_.get(r);if(a)return a;const l=r.isStable.pipe((0,pt.$)(g=>g)).toPromise().then(()=>{});return k_.set(r,l),r.onDestroy(()=>k_?.delete(r)),l}function QD(r,a,l){!a&&!ZD(r)||function rw(r,a,l){let g;l?(g=0,r[ws]|=1024):g=64&r[ws]?0:1,_g(r,a,g)}(r,l,a)}function ZD(r){return sv(r)}class xR{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let LR=(()=>{class r{compileModuleSync(l){return new Bg(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const g=this.compileModuleSync(l),j=Ir(di(l).declarations).reduce((H,ie)=>{const ve=oi(ie);return ve&&H.push(new Lf(ve)),H},[]);return new xR(g,j)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=cs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),NR=(()=>{class r{constructor(){this.zone=Ks(Rr),this.applicationRef=Ks(Gd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=cs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function jR(r){return[{provide:Rr,useFactory:r},{provide:io,multi:!0,useFactory:()=>{const a=Ks(NR,{optional:!0});return()=>a.initialize()}},{provide:io,multi:!0,useFactory:()=>{const a=Ks(UR);return()=>{a.initialize()}}},{provide:Vm,useFactory:qD}]}function qD(){const r=Ks(Rr),a=Ks(Tl);return l=>r.runOutsideAngular(()=>a.handleError(l))}function BR(r){return la([[],jR(()=>new Rr(function eT(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}(r)))])}let UR=(()=>{class r{constructor(){this.subscription=new Fe.yU,this.initialized=!1,this.zone=Ks(Rr),this.pendingTasks=Ks($h)}initialize(){if(this.initialized)return;this.initialized=!0;let l=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(l=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Rr.assertNotInAngularZone(),queueMicrotask(()=>{null!==l&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(l),l=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Rr.assertInAngularZone(),l??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=cs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const V_=new lt("",{providedIn:"root",factory:()=>Ks(V_,Qt.Optional|Qt.SkipSelf)||function kR(){return typeof $localize<"u"&&$localize.locale||md}()}),VR=new lt("",{providedIn:"root",factory:()=>"USD"}),wy=new lt("");let $d=null;function KR(){return!1}function HR(){}let oT=(()=>{class r{static{this.__NG_ELEMENT_ID__=zR}}return r})();function zR(r){return function rT(r,a,l){if(Ua(r)&&!l){const g=da(r.index,a);return new Of(g,g)}return 47&r.type?new Of(a[co],a):null}(Vi(),Cn(),!(16&~r))}class ky{constructor(){}supports(a){return Vg(a)}create(a){return new ZR(a)}}const QR=(r,a)=>a;class ZR{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||QR}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,g=this._removalsHead,P=0,j=null;for(;l||g;){const H=!g||l&&l.currentIndex<uT(g,P,j)?l:g,ie=uT(H,P,j),ve=H.currentIndex;if(H===g)P--,g=g._nextRemoved;else if(l=l._next,null==H.previousIndex)P++;else{j||(j=[]);const we=ie-P,Ze=ve-P;if(we!=Ze){for(let tn=0;tn<we;tn++){const mn=tn<j.length?j[tn]:j[tn]=0,bn=mn+tn;Ze<=bn&&bn<we&&(j[tn]=mn+1)}j[H.previousIndex]=Ze-we}}ie!==ve&&a(H,ie,ve)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!Vg(a))throw new rt(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let P,j,H,l=this._itHead,g=!1;if(Array.isArray(a)){this.length=a.length;for(let ie=0;ie<this.length;ie++)j=a[ie],H=this._trackByFn(ie,j),null!==l&&Object.is(l.trackById,H)?(g&&(l=this._verifyReinsertion(l,j,H,ie)),Object.is(l.item,j)||this._addIdentityChange(l,j)):(l=this._mismatch(l,j,H,ie),g=!0),l=l._next}else P=0,function kI(r,a){if(Array.isArray(r))for(let l=0;l<r.length;l++)a(r[l]);else{const l=r[Symbol.iterator]();let g;for(;!(g=l.next()).done;)a(g.value)}}(a,ie=>{H=this._trackByFn(P,ie),null!==l&&Object.is(l.trackById,H)?(g&&(l=this._verifyReinsertion(l,ie,H,P)),Object.is(l.item,ie)||this._addIdentityChange(l,ie)):(l=this._mismatch(l,ie,H,P),g=!0),l=l._next,P++}),this.length=P;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,g,P){let j;return null===a?j=this._itTail:(j=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,j,P)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(g,P))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,j,P)):a=this._addAfter(new qR(l,g),j,P),a}_verifyReinsertion(a,l,g,P){let j=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==j?a=this._reinsertAfter(j,a._prev,P):a.currentIndex!=P&&(a.currentIndex=P,this._addToMoves(a,P)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const P=a._prevRemoved,j=a._nextRemoved;return null===P?this._removalsHead=j:P._nextRemoved=j,null===j?this._removalsTail=P:j._prevRemoved=P,this._insertAfter(a,l,g),this._addToMoves(a,g),a}_moveAfter(a,l,g){return this._unlink(a),this._insertAfter(a,l,g),this._addToMoves(a,g),a}_addAfter(a,l,g){return this._insertAfter(a,l,g),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,g){const P=null===l?this._itHead:l._next;return a._next=P,a._prev=l,null===P?this._itTail=a:P._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new Wu),this._linkedRecords.put(a),a.currentIndex=g,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,g=a._next;return null===l?this._itHead=g:l._next=g,null===g?this._itTail=l:g._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wu),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class qR{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eA{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===l||l<=g.currentIndex)&&Object.is(g.trackById,a))return g;return null}remove(a){const l=a._prevDup,g=a._nextDup;return null===l?this._head=g:l._nextDup=g,null===g?this._tail=l:g._prevDup=l,null===this._head}}class Wu{constructor(){this.map=new Map}put(a){const l=a.trackById;let g=this.map.get(l);g||(g=new eA,this.map.set(l,g)),g.add(a)}get(a,l){const P=this.map.get(a);return P?P.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uT(r,a,l){const g=r.previousIndex;if(null===g)return g;let P=0;return l&&g<l.length&&(P=l[g]),g+a+P}class hT{constructor(){}supports(a){return a instanceof Map||A0(a)}create(){return new tA}}class tA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||A0(a)))throw new rt(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(g,P)=>{if(l&&l.key===P)this._maybeAddToChanges(l,g),this._appendAfter=l,l=l._next;else{const j=this._getOrCreateRecordForKey(P,g);l=this._insertBeforeOrAppend(l,j)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let g=l;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const g=a._prev;return l._next=a,l._prev=g,a._prev=l,g&&(g._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const P=this._records.get(a);this._maybeAddToChanges(P,l);const j=P._prev,H=P._next;return j&&(j._next=H),H&&(H._prev=j),P._next=null,P._prev=null,P}const g=new ym(a);return this._records.set(a,g),g.currentValue=l,this._addToAdditions(g),g}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(g=>l(a[g],g))}}class ym{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pT(){return new Vy([new ky])}let Vy=(()=>{class r{static{this.\u0275prov=cs({token:r,providedIn:"root",factory:pT})}constructor(l){this.factories=l}static create(l,g){if(null!=g){const P=g.factories.slice();l=l.concat(P)}return new r(l)}static extend(l){return{provide:r,useFactory:g=>r.create(l,g||pT()),deps:[[r,new _a,new qr]]}}find(l){const g=this.factories.find(P=>P.supports(l));if(null!=g)return g;throw new rt(901,!1)}}return r})();function Gy(){return new K_([new hT])}let K_=(()=>{class r{static{this.\u0275prov=cs({token:r,providedIn:"root",factory:Gy})}constructor(l){this.factories=l}static create(l,g){if(g){const P=g.factories.slice();l=l.concat(P)}return new r(l)}static extend(l){return{provide:r,useFactory:g=>r.create(l,g||Gy()),deps:[[r,new _a,new qr]]}}find(l){const g=this.factories.find(P=>P.supports(l));if(g)return g;throw new rt(901,!1)}}return r})();function Me(r){try{const{rootComponent:a,appProviders:l,platformProviders:g}=r,P=function $_(r=[]){if($d)return $d;const a=function sT(r=[],a){return Va.create({name:a,providers:[{provide:nr,useValue:"platform"},{provide:wy,useValue:new Set([()=>$d=null])},...r]})}(r);return $d=a,function U_(){!function ee(r){J=r}(()=>{throw new rt(600,!1)})}(),function Ly(r){r.get(Hm,null)?.forEach(l=>l())}(a),a}(g),j=[BR(),...l||[]],ie=new aC({providers:j,parent:P,debugName:"",runEnvironmentInitializers:!1}).injector,ve=ie.get(Rr);return ve.run(()=>{ie.resolveInjectorInitializers();const we=ie.get(Tl,null);let Ze;ve.runOutsideAngular(()=>{Ze=ve.onError.subscribe({next:mn=>{we.handleError(mn)}})});const Ot=()=>ie.destroy(),tn=P.get(wy);return tn.add(Ot),ie.onDestroy(()=>{Ze.unsubscribe(),tn.delete(Ot)}),function Py(r,a,l){try{const g=l();return Sy(g)?g.catch(P=>{throw a.runOutsideAngular(()=>r.handleError(P)),P}):g}catch(g){throw a.runOutsideAngular(()=>r.handleError(g)),g}}(we,ve,()=>{const mn=ie.get(YD);return mn.runInitializers(),mn.donePromise.then(()=>{!function ty(r){"string"==typeof r&&(em=r.toLowerCase().replace(/_/g,"-"))}(ie.get(V_,md)||md);const jn=ie.get(Gd);return void 0!==a&&jn.bootstrap(a),jn})})})}catch(a){return Promise.reject(a)}}let cn=!1,ts=!1;function Gi(){return la([{provide:qm,useFactory:()=>{let r=!0;return Il()&&(r=!!Ks(Jc,{optional:!0})?.get(Rv,null)),r&&Xl("NgHydration"),r}},{provide:io,useValue:()=>{ts=!!Ks(hu,{optional:!0}),Il()&&Ks(qm)&&(function _d(){const r=mc();let a;for(const l of r.body.childNodes)if(l.nodeType===Node.COMMENT_NODE&&l.textContent?.trim()===PO){a=l;break}if(!a)throw new rt(-507,!1)}(),function Hn(){cn||(cn=!0,function AO(){c1=RO}(),function ob(){c_=$S}(),function xP(){ry=wP}(),function P2(){KS=HS}(),function $I(){cC=GI}(),function uI(){UE=dI,m0=cI}(),function zM(){vE=HM}(),function lM(){X1=aM}(),function sP(){Fu=nP}())}())},multi:!0},{provide:xv,useFactory:()=>Il()&&Ks(qm)},{provide:XD,useFactory:()=>{if(Il()&&Ks(qm)){const r=Ks(Gd);return Ks(Va),()=>{(function Xs(r,a){return Ay(r)})(r).then(()=>{!function VM(r){const a=r._views;for(const l of a){const g=d1(l);null!==g&&null!==g[Ai]&&(si(g)?Fd(g):(Fd(g[Ai]),fE(g)))}}(r)})}}return()=>{}},multi:!0}])}function or(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function TT(r,a=NaN){return isNaN(parseFloat(r))||isNaN(Number(r))?a:Number(r)}function Vw(r,a){Xl("NgSignals");const l=function Y(r){const a=Object.create(te);a.computation=r;const l=()=>{if(T(a),I(a),a.value===z)throw a.error;return a.value};return l[m]=a,l}(r);return a?.equal&&(l[m].equal=a.equal),l}function Gw(r){const a=f(null);try{return r()}finally{f(a)}}const $w=new lt("",{providedIn:"root",factory:()=>Ks(Ww)});let Ww=(()=>{class r{static{this.\u0275prov=cs({token:r,providedIn:"root",factory:()=>new Kw})}}return r})();class Kw{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Ks($h),this.taskId=null}scheduleEffect(a){if(this.enqueue(a),null===this.taskId){const l=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(l),this.taskId=null})}}enqueue(a){const l=a.creationZone;this.queues.has(l)||this.queues.set(l,new Set);const g=this.queues.get(l);g.has(a)||(this.queuedEffectCount++,g.add(a))}flush(){for(;this.queuedEffectCount>0;)for(const[a,l]of this.queues)null===a?this.flushQueue(l):a.run(()=>this.flushQueue(l))}flushQueue(a){for(const l of a)a.delete(l),this.queuedEffectCount--,l.run()}}class Hw{constructor(a,l,g,P,j,H){this.scheduler=a,this.effectFn=l,this.creationZone=g,this.injector=j,this.watcher=function re(r,a,l){const g=Object.create(Te);l&&(g.consumerAllowSignalWrites=!0),g.fn=r,g.schedule=a;const P=ve=>{g.cleanupFn=ve};return g.ref={notify:()=>x(g),run:()=>{if(null===g.fn)return;if(function E(){return e}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(g.dirty=!1,g.hasRun&&!M(g))return;g.hasRun=!0;const ve=O(g);try{g.cleanupFn(),g.cleanupFn=Ee,g.fn(P)}finally{w(g,ve)}},cleanup:()=>g.cleanupFn(),destroy:()=>function H(ve){(function j(ve){return null===ve.fn&&null===ve.schedule})(ve)||(L(ve),ve.cleanupFn(),ve.fn=null,ve.schedule=null,ve.cleanupFn=Ee)}(g),[m]:g},g.ref}(ie=>this.runEffect(ie),()=>this.schedule(),H),this.unregisterOnDestroy=P?.onDestroy(()=>this.destroy())}runEffect(a){try{this.effectFn(a)}catch(l){this.injector.get(Tl,null,{optional:!0})?.handleError(l)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function jw(r,a){Xl("NgSignals"),!a?.injector&&he();const l=a?.injector??Ks(Va),g=!0!==a?.manualCleanup?l.get(Wc):null,P=new Hw(l.get($w),r,typeof Zone>"u"?null:Zone.current,g,l,a?.allowSignalWrites??!1),j=l.get(oT,null,{optional:!0});return j&&8&j._lView[ws]?(j._lView[oc]??=[]).push(P.watcher.notify):P.watcher.notify(),P}function zw(r,a){const l=oi(r),g=a.elementInjector||un();return new Lf(l).create(g,a.projectableNodes,a.hostElement,a.environmentInjector)}function Yw(r){const a=oi(r);if(!a)return null;const l=new Lf(a);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}function Xw(...r){return r.reduce((a,l)=>Object.assign(a,l,{providers:[...a.providers,...l.providers]}),{providers:[]})}},89417:(F,D,n)=>{"use strict";n.d(D,{$R:()=>ho,BC:()=>Mt,Bm:()=>Ys,Fm:()=>on,J3:()=>st,JD:()=>yr,MJ:()=>$n,Q0:()=>_r,R_:()=>bi,VZ:()=>et,W0:()=>Qo,X1:()=>va,Y4:()=>$i,YN:()=>Zo,YS:()=>Ut,ZU:()=>ht,Zm:()=>_,cV:()=>fn,cb:()=>Ne,cz:()=>x,hs:()=>_s,j4:()=>vo,k0:()=>M,kq:()=>v,l_:()=>vi,me:()=>T,ok:()=>mo,pg:()=>O,qT:()=>Qs,tU:()=>ci,v8:()=>ur,vO:()=>Fe,vS:()=>Rs,wz:()=>Qr,xH:()=>po,xh:()=>Hs,xq:()=>Vt,y7:()=>jr,zX:()=>ma,ze:()=>Ar});var i=n(54438),t=n(60177),u=n(22806),e=n(27468),h=n(96354);let m=(()=>{class Ge{constructor(oe,$e){this._renderer=oe,this._elementRef=$e,this.onChange=_e=>{},this.onTouched=()=>{}}setProperty(oe,$e){this._renderer.setProperty(this._elementRef.nativeElement,oe,$e)}registerOnTouched(oe){this.onTouched=oe}registerOnChange(oe){this.onChange=oe}setDisabledState(oe){this.setProperty("disabled",oe)}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(i.sFG),i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:Ge})}}return Ge})(),f=(()=>{class Ge extends m{static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,features:[i.Vt3]})}}return Ge})();const v=new i.nKC(""),E={provide:v,useExisting:(0,i.Rfq)(()=>_),multi:!0};let _=(()=>{class Ge extends f{writeValue(oe){this.setProperty("checked",oe)}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function($e,_e){1&$e&&i.bIt("change",function(Xt){return _e.onChange(Xt.target.checked)})("blur",function(){return _e.onTouched()})},features:[i.Jv_([E]),i.Vt3]})}}return Ge})();const C={provide:v,useExisting:(0,i.Rfq)(()=>T),multi:!0},R=new i.nKC("");let T=(()=>{class Ge extends m{constructor(oe,$e,_e){super(oe,$e),this._compositionMode=_e,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function I(){const Ge=(0,t.QT)()?(0,t.QT)().getUserAgent():"";return/android (\d+)/.test(Ge.toLowerCase())}())}writeValue(oe){this.setProperty("value",oe??"")}_handleInput(oe){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(oe)}_compositionStart(){this._composing=!0}_compositionEnd(oe){this._composing=!1,this._compositionMode&&this.onChange(oe)}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(R,8))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($e,_e){1&$e&&i.bIt("input",function(Xt){return _e._handleInput(Xt.target.value)})("blur",function(){return _e.onTouched()})("compositionstart",function(){return _e._compositionStart()})("compositionend",function(Xt){return _e._compositionEnd(Xt.target.value)})},features:[i.Jv_([C]),i.Vt3]})}}return Ge})();function A(Ge){return null==Ge||("string"==typeof Ge||Array.isArray(Ge))&&0===Ge.length}function p(Ge){return null!=Ge&&"number"==typeof Ge.length}const x=new i.nKC(""),O=new i.nKC(""),w=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class M{static min(Xe){return L(Xe)}static max(Xe){return B(Xe)}static required(Xe){return k(Xe)}static requiredTrue(Xe){return W(Xe)}static email(Xe){return function U(Ge){return A(Ge.value)||w.test(Ge.value)?null:{email:!0}}(Xe)}static minLength(Xe){return K(Xe)}static maxLength(Xe){return Y(Xe)}static pattern(Xe){return G(Xe)}static nullValidator(Xe){return null}static compose(Xe){return le(Xe)}static composeAsync(Xe){return fe(Xe)}}function L(Ge){return Xe=>{if(A(Xe.value)||A(Ge))return null;const oe=parseFloat(Xe.value);return!isNaN(oe)&&oe<Ge?{min:{min:Ge,actual:Xe.value}}:null}}function B(Ge){return Xe=>{if(A(Xe.value)||A(Ge))return null;const oe=parseFloat(Xe.value);return!isNaN(oe)&&oe>Ge?{max:{max:Ge,actual:Xe.value}}:null}}function k(Ge){return A(Ge.value)?{required:!0}:null}function W(Ge){return!0===Ge.value?null:{required:!0}}function K(Ge){return Xe=>A(Xe.value)||!p(Xe.value)?null:Xe.value.length<Ge?{minlength:{requiredLength:Ge,actualLength:Xe.value.length}}:null}function Y(Ge){return Xe=>p(Xe.value)&&Xe.value.length>Ge?{maxlength:{requiredLength:Ge,actualLength:Xe.value.length}}:null}function G(Ge){if(!Ge)return q;let Xe,oe;return"string"==typeof Ge?(oe="","^"!==Ge.charAt(0)&&(oe+="^"),oe+=Ge,"$"!==Ge.charAt(Ge.length-1)&&(oe+="$"),Xe=new RegExp(oe)):(oe=Ge.toString(),Xe=Ge),$e=>{if(A($e.value))return null;const _e=$e.value;return Xe.test(_e)?null:{pattern:{requiredPattern:oe,actualValue:_e}}}}function q(Ge){return null}function z(Ge){return null!=Ge}function te(Ge){return(0,i.jNT)(Ge)?(0,u.H)(Ge):Ge}function Z(Ge){let Xe={};return Ge.forEach(oe=>{Xe=null!=oe?{...Xe,...oe}:Xe}),0===Object.keys(Xe).length?null:Xe}function J(Ge,Xe){return Xe.map(oe=>oe(Ge))}function ee(Ge){return Ge.map(Xe=>function Q(Ge){return!Ge.validate}(Xe)?Xe:oe=>Xe.validate(oe))}function le(Ge){if(!Ge)return null;const Xe=Ge.filter(z);return 0==Xe.length?null:function(oe){return Z(J(oe,Xe))}}function ne(Ge){return null!=Ge?le(ee(Ge)):null}function fe(Ge){if(!Ge)return null;const Xe=Ge.filter(z);return 0==Xe.length?null:function(oe){const $e=J(oe,Xe).map(te);return(0,e.p)($e).pipe((0,h.T)(Z))}}function se(Ge){return null!=Ge?fe(ee(Ge)):null}function ce(Ge,Xe){return null===Ge?[Xe]:Array.isArray(Ge)?[...Ge,Xe]:[Ge,Xe]}function De(Ge){return Ge._rawValidators}function be(Ge){return Ge._rawAsyncValidators}function me(Ge){return Ge?Array.isArray(Ge)?Ge:[Ge]:[]}function re(Ge,Xe){return Array.isArray(Ge)?Ge.includes(Xe):Ge===Xe}function Ee(Ge,Xe){const oe=me(Xe);return me(Ge).forEach(_e=>{re(oe,_e)||oe.push(_e)}),oe}function Te(Ge,Xe){return me(Xe).filter(oe=>!re(Ge,oe))}class tt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Xe){this._rawValidators=Xe||[],this._composedValidatorFn=ne(this._rawValidators)}_setAsyncValidators(Xe){this._rawAsyncValidators=Xe||[],this._composedAsyncValidatorFn=se(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Xe){this._onDestroyCallbacks.push(Xe)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Xe=>Xe()),this._onDestroyCallbacks=[]}reset(Xe=void 0){this.control&&this.control.reset(Xe)}hasError(Xe,oe){return!!this.control&&this.control.hasError(Xe,oe)}getError(Xe,oe){return this.control?this.control.getError(Xe,oe):null}}class ht extends tt{get formDirective(){return null}get path(){return null}}class Fe extends tt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Et{constructor(Xe){this._cd=Xe}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mt=(()=>{class Ge extends Et{constructor(oe){super(oe)}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(Fe,2))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($e,_e){2&$e&&i.AVh("ng-untouched",_e.isUntouched)("ng-touched",_e.isTouched)("ng-pristine",_e.isPristine)("ng-dirty",_e.isDirty)("ng-valid",_e.isValid)("ng-invalid",_e.isInvalid)("ng-pending",_e.isPending)},features:[i.Vt3]})}}return Ge})(),Ne=(()=>{class Ge extends Et{constructor(oe){super(oe)}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(ht,10))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($e,_e){2&$e&&i.AVh("ng-untouched",_e.isUntouched)("ng-touched",_e.isTouched)("ng-pristine",_e.isPristine)("ng-dirty",_e.isDirty)("ng-valid",_e.isValid)("ng-invalid",_e.isInvalid)("ng-pending",_e.isPending)("ng-submitted",_e.isSubmitted)},features:[i.Vt3]})}}return Ge})();const zt="VALID",Yt="INVALID",wt="PENDING",bt="DISABLED";function Jt(Ge){return(xe(Ge)?Ge.validators:Ge)||null}function Ft(Ge,Xe){return(xe(Xe)?Xe.asyncValidators:Ge)||null}function xe(Ge){return null!=Ge&&!Array.isArray(Ge)&&"object"==typeof Ge}function Ve(Ge,Xe,oe){const $e=Ge.controls;if(!(Xe?Object.keys($e):$e).length)throw new i.wOt(1e3,"");if(!$e[oe])throw new i.wOt(1001,"")}function Ke(Ge,Xe,oe){Ge._forEachChild(($e,_e)=>{if(void 0===oe[_e])throw new i.wOt(1002,"")})}class Be{constructor(Xe,oe){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Xe),this._assignAsyncValidators(oe)}get validator(){return this._composedValidatorFn}set validator(Xe){this._rawValidators=this._composedValidatorFn=Xe}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Xe){this._rawAsyncValidators=this._composedAsyncValidatorFn=Xe}get parent(){return this._parent}get valid(){return this.status===zt}get invalid(){return this.status===Yt}get pending(){return this.status==wt}get disabled(){return this.status===bt}get enabled(){return this.status!==bt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Xe){this._assignValidators(Xe)}setAsyncValidators(Xe){this._assignAsyncValidators(Xe)}addValidators(Xe){this.setValidators(Ee(Xe,this._rawValidators))}addAsyncValidators(Xe){this.setAsyncValidators(Ee(Xe,this._rawAsyncValidators))}removeValidators(Xe){this.setValidators(Te(Xe,this._rawValidators))}removeAsyncValidators(Xe){this.setAsyncValidators(Te(Xe,this._rawAsyncValidators))}hasValidator(Xe){return re(this._rawValidators,Xe)}hasAsyncValidator(Xe){return re(this._rawAsyncValidators,Xe)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Xe={}){this.touched=!0,this._parent&&!Xe.onlySelf&&this._parent.markAsTouched(Xe)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Xe=>Xe.markAllAsTouched())}markAsUntouched(Xe={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(oe=>{oe.markAsUntouched({onlySelf:!0})}),this._parent&&!Xe.onlySelf&&this._parent._updateTouched(Xe)}markAsDirty(Xe={}){this.pristine=!1,this._parent&&!Xe.onlySelf&&this._parent.markAsDirty(Xe)}markAsPristine(Xe={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(oe=>{oe.markAsPristine({onlySelf:!0})}),this._parent&&!Xe.onlySelf&&this._parent._updatePristine(Xe)}markAsPending(Xe={}){this.status=wt,!1!==Xe.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Xe.onlySelf&&this._parent.markAsPending(Xe)}disable(Xe={}){const oe=this._parentMarkedDirty(Xe.onlySelf);this.status=bt,this.errors=null,this._forEachChild($e=>{$e.disable({...Xe,onlySelf:!0})}),this._updateValue(),!1!==Xe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Xe,skipPristineCheck:oe}),this._onDisabledChange.forEach($e=>$e(!0))}enable(Xe={}){const oe=this._parentMarkedDirty(Xe.onlySelf);this.status=zt,this._forEachChild($e=>{$e.enable({...Xe,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Xe.emitEvent}),this._updateAncestors({...Xe,skipPristineCheck:oe}),this._onDisabledChange.forEach($e=>$e(!1))}_updateAncestors(Xe){this._parent&&!Xe.onlySelf&&(this._parent.updateValueAndValidity(Xe),Xe.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Xe){this._parent=Xe}getRawValue(){return this.value}updateValueAndValidity(Xe={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zt||this.status===wt)&&this._runAsyncValidator(Xe.emitEvent)),!1!==Xe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Xe.onlySelf&&this._parent.updateValueAndValidity(Xe)}_updateTreeValidity(Xe={emitEvent:!0}){this._forEachChild(oe=>oe._updateTreeValidity(Xe)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Xe.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bt:zt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Xe){if(this.asyncValidator){this.status=wt,this._hasOwnPendingAsyncValidator=!0;const oe=te(this.asyncValidator(this));this._asyncValidationSubscription=oe.subscribe($e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors($e,{emitEvent:Xe})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Xe,oe={}){this.errors=Xe,this._updateControlsErrors(!1!==oe.emitEvent)}get(Xe){let oe=Xe;return null==oe||(Array.isArray(oe)||(oe=oe.split(".")),0===oe.length)?null:oe.reduce(($e,_e)=>$e&&$e._find(_e),this)}getError(Xe,oe){const $e=oe?this.get(oe):this;return $e&&$e.errors?$e.errors[Xe]:null}hasError(Xe,oe){return!!this.getError(Xe,oe)}get root(){let Xe=this;for(;Xe._parent;)Xe=Xe._parent;return Xe}_updateControlsErrors(Xe){this.status=this._calculateStatus(),Xe&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Xe)}_initObservables(){this.valueChanges=new i.bkB,this.statusChanges=new i.bkB}_calculateStatus(){return this._allControlsDisabled()?bt:this.errors?Yt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wt)?wt:this._anyControlsHaveStatus(Yt)?Yt:zt}_anyControlsHaveStatus(Xe){return this._anyControls(oe=>oe.status===Xe)}_anyControlsDirty(){return this._anyControls(Xe=>Xe.dirty)}_anyControlsTouched(){return this._anyControls(Xe=>Xe.touched)}_updatePristine(Xe={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Xe.onlySelf&&this._parent._updatePristine(Xe)}_updateTouched(Xe={}){this.touched=this._anyControlsTouched(),this._parent&&!Xe.onlySelf&&this._parent._updateTouched(Xe)}_registerOnCollectionChange(Xe){this._onCollectionChange=Xe}_setUpdateStrategy(Xe){xe(Xe)&&null!=Xe.updateOn&&(this._updateOn=Xe.updateOn)}_parentMarkedDirty(Xe){return!Xe&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Xe){return null}_assignValidators(Xe){this._rawValidators=Array.isArray(Xe)?Xe.slice():Xe,this._composedValidatorFn=function Dt(Ge){return Array.isArray(Ge)?ne(Ge):Ge||null}(this._rawValidators)}_assignAsyncValidators(Xe){this._rawAsyncValidators=Array.isArray(Xe)?Xe.slice():Xe,this._composedAsyncValidatorFn=function ot(Ge){return Array.isArray(Ge)?se(Ge):Ge||null}(this._rawAsyncValidators)}}class At extends Be{constructor(Xe,oe,$e){super(Jt(oe),Ft($e,oe)),this.controls=Xe,this._initObservables(),this._setUpdateStrategy(oe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Xe,oe){return this.controls[Xe]?this.controls[Xe]:(this.controls[Xe]=oe,oe.setParent(this),oe._registerOnCollectionChange(this._onCollectionChange),oe)}addControl(Xe,oe,$e={}){this.registerControl(Xe,oe),this.updateValueAndValidity({emitEvent:$e.emitEvent}),this._onCollectionChange()}removeControl(Xe,oe={}){this.controls[Xe]&&this.controls[Xe]._registerOnCollectionChange(()=>{}),delete this.controls[Xe],this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}setControl(Xe,oe,$e={}){this.controls[Xe]&&this.controls[Xe]._registerOnCollectionChange(()=>{}),delete this.controls[Xe],oe&&this.registerControl(Xe,oe),this.updateValueAndValidity({emitEvent:$e.emitEvent}),this._onCollectionChange()}contains(Xe){return this.controls.hasOwnProperty(Xe)&&this.controls[Xe].enabled}setValue(Xe,oe={}){Ke(this,0,Xe),Object.keys(Xe).forEach($e=>{Ve(this,!0,$e),this.controls[$e].setValue(Xe[$e],{onlySelf:!0,emitEvent:oe.emitEvent})}),this.updateValueAndValidity(oe)}patchValue(Xe,oe={}){null!=Xe&&(Object.keys(Xe).forEach($e=>{const _e=this.controls[$e];_e&&_e.patchValue(Xe[$e],{onlySelf:!0,emitEvent:oe.emitEvent})}),this.updateValueAndValidity(oe))}reset(Xe={},oe={}){this._forEachChild(($e,_e)=>{$e.reset(Xe?Xe[_e]:null,{onlySelf:!0,emitEvent:oe.emitEvent})}),this._updatePristine(oe),this._updateTouched(oe),this.updateValueAndValidity(oe)}getRawValue(){return this._reduceChildren({},(Xe,oe,$e)=>(Xe[$e]=oe.getRawValue(),Xe))}_syncPendingControls(){let Xe=this._reduceChildren(!1,(oe,$e)=>!!$e._syncPendingControls()||oe);return Xe&&this.updateValueAndValidity({onlySelf:!0}),Xe}_forEachChild(Xe){Object.keys(this.controls).forEach(oe=>{const $e=this.controls[oe];$e&&Xe($e,oe)})}_setUpControls(){this._forEachChild(Xe=>{Xe.setParent(this),Xe._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Xe){for(const[oe,$e]of Object.entries(this.controls))if(this.contains(oe)&&Xe($e))return!0;return!1}_reduceValue(){return this._reduceChildren({},(oe,$e,_e)=>(($e.enabled||this.disabled)&&(oe[_e]=$e.value),oe))}_reduceChildren(Xe,oe){let $e=Xe;return this._forEachChild((_e,Tt)=>{$e=oe($e,_e,Tt)}),$e}_allControlsDisabled(){for(const Xe of Object.keys(this.controls))if(this.controls[Xe].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Xe){return this.controls.hasOwnProperty(Xe)?this.controls[Xe]:null}}const st=At;class Le extends At{}const St=new i.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>ln}),ln="always";function Tn(Ge,Xe){return[...Xe.path,Ge]}function Bn(Ge,Xe,oe=ln){vt(Ge,Xe),Xe.valueAccessor.writeValue(Ge.value),(Ge.disabled||"always"===oe)&&Xe.valueAccessor.setDisabledState?.(Ge.disabled),function Nn(Ge,Xe){Xe.valueAccessor.registerOnChange(oe=>{Ge._pendingValue=oe,Ge._pendingChange=!0,Ge._pendingDirty=!0,"change"===Ge.updateOn&&Gs(Ge,Xe)})}(Ge,Xe),function cs(Ge,Xe){const oe=($e,_e)=>{Xe.valueAccessor.writeValue($e),_e&&Xe.viewToModelUpdate($e)};Ge.registerOnChange(oe),Xe._registerOnDestroy(()=>{Ge._unregisterOnChange(oe)})}(Ge,Xe),function Jn(Ge,Xe){Xe.valueAccessor.registerOnTouched(()=>{Ge._pendingTouched=!0,"blur"===Ge.updateOn&&Ge._pendingChange&&Gs(Ge,Xe),"submit"!==Ge.updateOn&&Ge.markAsTouched()})}(Ge,Xe),function ct(Ge,Xe){if(Xe.valueAccessor.setDisabledState){const oe=$e=>{Xe.valueAccessor.setDisabledState($e)};Ge.registerOnDisabledChange(oe),Xe._registerOnDestroy(()=>{Ge._unregisterOnDisabledChange(oe)})}}(Ge,Xe)}function Zn(Ge,Xe,oe=!0){const $e=()=>{};Xe.valueAccessor&&(Xe.valueAccessor.registerOnChange($e),Xe.valueAccessor.registerOnTouched($e)),pn(Ge,Xe),Ge&&(Xe._invokeOnDestroyCallbacks(),Ge._registerOnCollectionChange(()=>{}))}function wn(Ge,Xe){Ge.forEach(oe=>{oe.registerOnValidatorChange&&oe.registerOnValidatorChange(Xe)})}function vt(Ge,Xe){const oe=De(Ge);null!==Xe.validator?Ge.setValidators(ce(oe,Xe.validator)):"function"==typeof oe&&Ge.setValidators([oe]);const $e=be(Ge);null!==Xe.asyncValidator?Ge.setAsyncValidators(ce($e,Xe.asyncValidator)):"function"==typeof $e&&Ge.setAsyncValidators([$e]);const _e=()=>Ge.updateValueAndValidity();wn(Xe._rawValidators,_e),wn(Xe._rawAsyncValidators,_e)}function pn(Ge,Xe){let oe=!1;if(null!==Ge){if(null!==Xe.validator){const _e=De(Ge);if(Array.isArray(_e)&&_e.length>0){const Tt=_e.filter(Xt=>Xt!==Xe.validator);Tt.length!==_e.length&&(oe=!0,Ge.setValidators(Tt))}}if(null!==Xe.asyncValidator){const _e=be(Ge);if(Array.isArray(_e)&&_e.length>0){const Tt=_e.filter(Xt=>Xt!==Xe.asyncValidator);Tt.length!==_e.length&&(oe=!0,Ge.setAsyncValidators(Tt))}}}const $e=()=>{};return wn(Xe._rawValidators,$e),wn(Xe._rawAsyncValidators,$e),oe}function Gs(Ge,Xe){Ge._pendingDirty&&Ge.markAsDirty(),Ge.setValue(Ge._pendingValue,{emitModelToViewChange:!1}),Xe.viewToModelUpdate(Ge._pendingValue),Ge._pendingChange=!1}function Cs(Ge,Xe){vt(Ge,Xe)}function _t(Ge,Xe){if(!Ge.hasOwnProperty("model"))return!1;const oe=Ge.model;return!!oe.isFirstChange()||!Object.is(Xe,oe.currentValue)}function We(Ge,Xe){Ge._syncPendingControls(),Xe.forEach(oe=>{const $e=oe.control;"submit"===$e.updateOn&&$e._pendingChange&&(oe.viewToModelUpdate($e._pendingValue),$e._pendingChange=!1)})}function sn(Ge,Xe){if(!Xe)return null;let oe,$e,_e;return Array.isArray(Xe),Xe.forEach(Tt=>{Tt.constructor===T?oe=Tt:function Ht(Ge){return Object.getPrototypeOf(Ge.constructor)===f}(Tt)?$e=Tt:_e=Tt}),_e||$e||oe||null}const Ct={provide:ht,useExisting:(0,i.Rfq)(()=>fn)},Wt=Promise.resolve();let fn=(()=>{class Ge extends ht{constructor(oe,$e,_e){super(),this.callSetDisabledState=_e,this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.bkB,this.form=new At({},ne(oe),se($e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(oe){Wt.then(()=>{const $e=this._findContainer(oe.path);oe.control=$e.registerControl(oe.name,oe.control),Bn(oe.control,oe,this.callSetDisabledState),oe.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(oe)})}getControl(oe){return this.form.get(oe.path)}removeControl(oe){Wt.then(()=>{const $e=this._findContainer(oe.path);$e&&$e.removeControl(oe.name),this._directives.delete(oe)})}addFormGroup(oe){Wt.then(()=>{const $e=this._findContainer(oe.path),_e=new At({});Cs(_e,oe),$e.registerControl(oe.name,_e),_e.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(oe){Wt.then(()=>{const $e=this._findContainer(oe.path);$e&&$e.removeControl(oe.name)})}getFormGroup(oe){return this.form.get(oe.path)}updateModel(oe,$e){Wt.then(()=>{this.form.get(oe.path).setValue($e)})}setValue(oe){this.control.setValue(oe)}onSubmit(oe){return this.submitted=!0,We(this.form,this._directives),this.ngSubmit.emit(oe),"dialog"===oe?.target?.method}onReset(){this.resetForm()}resetForm(oe=void 0){this.form.reset(oe),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(oe){return oe.pop(),oe.length?this.form.get(oe):this.form}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(x,10),i.rXU(O,10),i.rXU(St,8))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($e,_e){1&$e&&i.bIt("submit",function(Xt){return _e.onSubmit(Xt)})("reset",function(){return _e.onReset()})},inputs:{options:[i.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([Ct]),i.Vt3]})}}return Ge})();function An(Ge,Xe){const oe=Ge.indexOf(Xe);oe>-1&&Ge.splice(oe,1)}function Yn(Ge){return"object"==typeof Ge&&null!==Ge&&2===Object.keys(Ge).length&&"value"in Ge&&"disabled"in Ge}const $n=class extends Be{constructor(Xe=null,oe,$e){super(Jt(oe),Ft($e,oe)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Xe),this._setUpdateStrategy(oe),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xe(oe)&&(oe.nonNullable||oe.initialValueIsDefault)&&(this.defaultValue=Yn(Xe)?Xe.value:Xe)}setValue(Xe,oe={}){this.value=this._pendingValue=Xe,this._onChange.length&&!1!==oe.emitModelToViewChange&&this._onChange.forEach($e=>$e(this.value,!1!==oe.emitViewToModelChange)),this.updateValueAndValidity(oe)}patchValue(Xe,oe={}){this.setValue(Xe,oe)}reset(Xe=this.defaultValue,oe={}){this._applyFormState(Xe),this.markAsPristine(oe),this.markAsUntouched(oe),this.setValue(this.value,oe),this._pendingChange=!1}_updateValue(){}_anyControls(Xe){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Xe){this._onChange.push(Xe)}_unregisterOnChange(Xe){An(this._onChange,Xe)}registerOnDisabledChange(Xe){this._onDisabledChange.push(Xe)}_unregisterOnDisabledChange(Xe){An(this._onDisabledChange,Xe)}_forEachChild(Xe){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Xe){Yn(Xe)?(this.value=this._pendingValue=Xe.value,Xe.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Xe}},_s=$n;let Ms=(()=>{class Ge extends ht{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Tn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,features:[i.Vt3]})}}return Ge})();const Li={provide:ht,useExisting:(0,i.Rfq)(()=>$i)};let $i=(()=>{class Ge extends Ms{constructor(oe,$e,_e){super(),this.name="",this._parent=oe,this._setValidators($e),this._setAsyncValidators(_e)}_checkParentType(){}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(ht,5),i.rXU(x,10),i.rXU(O,10))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","ngModelGroup",""]],inputs:{name:[i.Mj6.None,"ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i.Jv_([Li]),i.Vt3]})}}return Ge})();const Bo={provide:Fe,useExisting:(0,i.Rfq)(()=>Rs)},to=Promise.resolve();let Rs=(()=>{class Ge extends Fe{constructor(oe,$e,_e,Tt,Xt,In){super(),this._changeDetectorRef=Xt,this.callSetDisabledState=In,this.control=new $n,this._registered=!1,this.name="",this.update=new i.bkB,this._parent=oe,this._setValidators($e),this._setAsyncValidators(_e),this.valueAccessor=sn(0,Tt)}ngOnChanges(oe){if(this._checkForErrors(),!this._registered||"name"in oe){if(this._registered&&(this._checkName(),this.formDirective)){const $e=oe.name.previousValue;this.formDirective.removeControl({name:$e,path:this._getPath($e)})}this._setUpControl()}"isDisabled"in oe&&this._updateDisabled(oe),_t(oe,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(oe){this.viewModel=oe,this.update.emit(oe)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(oe){to.then(()=>{this.control.setValue(oe,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(oe){const $e=oe.isDisabled.currentValue,_e=0!==$e&&(0,i.L39)($e);to.then(()=>{_e&&!this.control.disabled?this.control.disable():!_e&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(oe){return this._parent?Tn(oe,this._parent):[oe]}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(ht,9),i.rXU(x,10),i.rXU(O,10),i.rXU(v,10),i.rXU(i.gRc,8),i.rXU(St,8))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"],options:[i.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Jv_([Bo]),i.Vt3,i.OA$]})}}return Ge})(),Qs=(()=>{class Ge{static{this.\u0275fac=function($e){return new($e||Ge)}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return Ge})();const Yi={provide:v,useExisting:(0,i.Rfq)(()=>_r),multi:!0};let _r=(()=>{class Ge extends f{writeValue(oe){this.setProperty("value",oe??"")}registerOnChange(oe){this.onChange=$e=>{oe(""==$e?null:parseFloat($e))}}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function($e,_e){1&$e&&i.bIt("input",function(Xt){return _e.onChange(Xt.target.value)})("blur",function(){return _e.onTouched()})},features:[i.Jv_([Yi]),i.Vt3]})}}return Ge})();const Uo={provide:v,useExisting:(0,i.Rfq)(()=>on),multi:!0};let Dn=(()=>{class Ge{constructor(){this._accessors=[]}add(oe,$e){this._accessors.push([oe,$e])}remove(oe){for(let $e=this._accessors.length-1;$e>=0;--$e)if(this._accessors[$e][1]===oe)return void this._accessors.splice($e,1)}select(oe){this._accessors.forEach($e=>{this._isSameGroup($e,oe)&&$e[1]!==oe&&$e[1].fireUncheck(oe.value)})}_isSameGroup(oe,$e){return!!oe[0].control&&oe[0]._parent===$e._control._parent&&oe[1].name===$e.name}static{this.\u0275fac=function($e){return new($e||Ge)}}static{this.\u0275prov=i.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}}return Ge})(),on=(()=>{class Ge extends f{constructor(oe,$e,_e,Tt){super(oe,$e),this._registry=_e,this._injector=Tt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,i.WQX)(St,{optional:!0})??ln}ngOnInit(){this._control=this._injector.get(Fe),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(oe){this._state=oe===this.value,this.setProperty("checked",this._state)}registerOnChange(oe){this._fn=oe,this.onChange=()=>{oe(this.value),this._registry.select(this)}}setDisabledState(oe){(this.setDisabledStateFired||oe||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",oe),this.setDisabledStateFired=!0}fireUncheck(oe){this.writeValue(oe)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(Dn),i.rXU(i.zZn))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function($e,_e){1&$e&&i.bIt("change",function(){return _e.onChange()})("blur",function(){return _e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Jv_([Uo]),i.Vt3]})}}return Ge})();const qn=new i.nKC(""),Ds={provide:Fe,useExisting:(0,i.Rfq)(()=>vi)};let vi=(()=>{class Ge extends Fe{set isDisabled(oe){}static{this._ngModelWarningSentOnce=!1}constructor(oe,$e,_e,Tt,Xt){super(),this._ngModelWarningConfig=Tt,this.callSetDisabledState=Xt,this.update=new i.bkB,this._ngModelWarningSent=!1,this._setValidators(oe),this._setAsyncValidators($e),this.valueAccessor=sn(0,_e)}ngOnChanges(oe){if(this._isControlChanged(oe)){const $e=oe.form.previousValue;$e&&Zn($e,this,!1),Bn(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}_t(oe,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Zn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(oe){this.viewModel=oe,this.update.emit(oe)}_isControlChanged(oe){return oe.hasOwnProperty("form")}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(x,10),i.rXU(O,10),i.rXU(v,10),i.rXU(qn,8),i.rXU(St,8))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","formControl",""]],inputs:{form:[i.Mj6.None,"formControl","form"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Jv_([Ds]),i.Vt3,i.OA$]})}}return Ge})();const Ci={provide:ht,useExisting:(0,i.Rfq)(()=>vo)};let vo=(()=>{class Ge extends ht{constructor(oe,$e,_e){super(),this.callSetDisabledState=_e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.bkB,this._setValidators(oe),this._setAsyncValidators($e)}ngOnChanges(oe){this._checkFormPresent(),oe.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(oe){const $e=this.form.get(oe.path);return Bn($e,oe,this.callSetDisabledState),$e.updateValueAndValidity({emitEvent:!1}),this.directives.push(oe),$e}getControl(oe){return this.form.get(oe.path)}removeControl(oe){Zn(oe.control||null,oe,!1),function lt(Ge,Xe){const oe=Ge.indexOf(Xe);oe>-1&&Ge.splice(oe,1)}(this.directives,oe)}addFormGroup(oe){this._setUpFormContainer(oe)}removeFormGroup(oe){this._cleanUpFormContainer(oe)}getFormGroup(oe){return this.form.get(oe.path)}addFormArray(oe){this._setUpFormContainer(oe)}removeFormArray(oe){this._cleanUpFormContainer(oe)}getFormArray(oe){return this.form.get(oe.path)}updateModel(oe,$e){this.form.get(oe.path).setValue($e)}onSubmit(oe){return this.submitted=!0,We(this.form,this.directives),this.ngSubmit.emit(oe),"dialog"===oe?.target?.method}onReset(){this.resetForm()}resetForm(oe=void 0){this.form.reset(oe),this.submitted=!1}_updateDomValue(){this.directives.forEach(oe=>{const $e=oe.control,_e=this.form.get(oe.path);$e!==_e&&(Zn($e||null,oe),(Ge=>Ge instanceof $n)(_e)&&(Bn(_e,oe,this.callSetDisabledState),oe.control=_e))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(oe){const $e=this.form.get(oe.path);Cs($e,oe),$e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(oe){if(this.form){const $e=this.form.get(oe.path);$e&&function ds(Ge,Xe){return pn(Ge,Xe)}($e,oe)&&$e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vt(this.form,this),this._oldForm&&pn(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(x,10),i.rXU(O,10),i.rXU(St,8))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","formGroup",""]],hostBindings:function($e,_e){1&$e&&i.bIt("submit",function(Xt){return _e.onSubmit(Xt)})("reset",function(){return _e.onReset()})},inputs:{form:[i.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([Ci]),i.Vt3,i.OA$]})}}return Ge})();const hi={provide:ht,useExisting:(0,i.Rfq)(()=>ho)};let ho=(()=>{class Ge extends Ms{constructor(oe,$e,_e){super(),this.name=null,this._parent=oe,this._setValidators($e),this._setAsyncValidators(_e)}_checkParentType(){Xo(this._parent)}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(ht,13),i.rXU(x,10),i.rXU(O,10))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","formGroupName",""]],inputs:{name:[i.Mj6.None,"formGroupName","name"]},features:[i.Jv_([hi]),i.Vt3]})}}return Ge})();const vr={provide:ht,useExisting:(0,i.Rfq)(()=>ur)};let ur=(()=>{class Ge extends ht{constructor(oe,$e,_e){super(),this.name=null,this._parent=oe,this._setValidators($e),this._setAsyncValidators(_e)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Tn(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Xo(this._parent)}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(ht,13),i.rXU(x,10),i.rXU(O,10))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","formArrayName",""]],inputs:{name:[i.Mj6.None,"formArrayName","name"]},features:[i.Jv_([vr]),i.Vt3]})}}return Ge})();function Xo(Ge){return!(Ge instanceof ho||Ge instanceof vo||Ge instanceof ur)}const Xr={provide:Fe,useExisting:(0,i.Rfq)(()=>yr)};let yr=(()=>{class Ge extends Fe{set isDisabled(oe){}static{this._ngModelWarningSentOnce=!1}constructor(oe,$e,_e,Tt,Xt){super(),this._ngModelWarningConfig=Xt,this._added=!1,this.name=null,this.update=new i.bkB,this._ngModelWarningSent=!1,this._parent=oe,this._setValidators($e),this._setAsyncValidators(_e),this.valueAccessor=sn(0,Tt)}ngOnChanges(oe){this._added||this._setUpControl(),_t(oe,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(oe){this.viewModel=oe,this.update.emit(oe)}get path(){return Tn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(ht,13),i.rXU(x,10),i.rXU(O,10),i.rXU(v,10),i.rXU(qn,8))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","formControlName",""]],inputs:{name:[i.Mj6.None,"formControlName","name"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Jv_([Xr]),i.Vt3,i.OA$]})}}return Ge})();const Jo={provide:v,useExisting:(0,i.Rfq)(()=>Qr),multi:!0};function Jr(Ge,Xe){return null==Ge?`${Xe}`:(Xe&&"object"==typeof Xe&&(Xe="Object"),`${Ge}: ${Xe}`.slice(0,50))}let Qr=(()=>{class Ge extends f{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(oe){this._compareWith=oe}writeValue(oe){this.value=oe;const _e=Jr(this._getOptionId(oe),oe);this.setProperty("value",_e)}registerOnChange(oe){this.onChange=$e=>{this.value=this._getOptionValue($e),oe(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(oe){for(const $e of this._optionMap.keys())if(this._compareWith(this._optionMap.get($e),oe))return $e;return null}_getOptionValue(oe){const $e=function er(Ge){return Ge.split(":")[0]}(oe);return this._optionMap.has($e)?this._optionMap.get($e):oe}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function($e,_e){1&$e&&i.bIt("change",function(Xt){return _e.onChange(Xt.target.value)})("blur",function(){return _e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([Jo]),i.Vt3]})}}return Ge})(),po=(()=>{class Ge{constructor(oe,$e,_e){this._element=oe,this._renderer=$e,this._select=_e,this._select&&(this.id=this._select._registerOption())}set ngValue(oe){null!=this._select&&(this._select._optionMap.set(this.id,oe),this._setElementValue(Jr(this.id,oe)),this._select.writeValue(this._select.value))}set value(oe){this._setElementValue(oe),this._select&&this._select.writeValue(this._select.value)}_setElementValue(oe){this._renderer.setProperty(this._element.nativeElement,"value",oe)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(Qr,9))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return Ge})();const Er={provide:v,useExisting:(0,i.Rfq)(()=>Qo),multi:!0};function Ks(Ge,Xe){return null==Ge?`${Xe}`:("string"==typeof Xe&&(Xe=`'${Xe}'`),Xe&&"object"==typeof Xe&&(Xe="Object"),`${Ge}: ${Xe}`.slice(0,50))}let Qo=(()=>{class Ge extends f{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(oe){this._compareWith=oe}writeValue(oe){let $e;if(this.value=oe,Array.isArray(oe)){const _e=oe.map(Tt=>this._getOptionId(Tt));$e=(Tt,Xt)=>{Tt._setSelected(_e.indexOf(Xt.toString())>-1)}}else $e=(_e,Tt)=>{_e._setSelected(!1)};this._optionMap.forEach($e)}registerOnChange(oe){this.onChange=$e=>{const _e=[],Tt=$e.selectedOptions;if(void 0!==Tt){const Xt=Tt;for(let In=0;In<Xt.length;In++){const ps=this._getOptionValue(Xt[In].value);_e.push(ps)}}else{const Xt=$e.options;for(let In=0;In<Xt.length;In++){const ns=Xt[In];if(ns.selected){const ps=this._getOptionValue(ns.value);_e.push(ps)}}}this.value=_e,oe(_e)}}_registerOption(oe){const $e=(this._idCounter++).toString();return this._optionMap.set($e,oe),$e}_getOptionId(oe){for(const $e of this._optionMap.keys())if(this._compareWith(this._optionMap.get($e)._value,oe))return $e;return null}_getOptionValue(oe){const $e=function hr(Ge){return Ge.split(":")[0]}(oe);return this._optionMap.has($e)?this._optionMap.get($e)._value:oe}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function($e,_e){1&$e&&i.bIt("change",function(Xt){return _e.onChange(Xt.target)})("blur",function(){return _e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([Er]),i.Vt3]})}}return Ge})(),jr=(()=>{class Ge{constructor(oe,$e,_e){this._element=oe,this._renderer=$e,this._select=_e,this._select&&(this.id=this._select._registerOption(this))}set ngValue(oe){null!=this._select&&(this._value=oe,this._setElementValue(Ks(this.id,oe)),this._select.writeValue(this._select.value))}set value(oe){this._select?(this._value=oe,this._setElementValue(Ks(this.id,oe)),this._select.writeValue(this._select.value)):this._setElementValue(oe)}_setElementValue(oe){this._renderer.setProperty(this._element.nativeElement,"value",oe)}_setSelected(oe){this._renderer.setProperty(this._element.nativeElement,"selected",oe)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(Qo,9))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return Ge})();function Na(Ge){return"number"==typeof Ge?Ge:parseInt(Ge,10)}function ra(Ge){return"number"==typeof Ge?Ge:parseFloat(Ge)}let rr=(()=>{class Ge{constructor(){this._validator=q}ngOnChanges(oe){if(this.inputName in oe){const $e=this.normalizeInput(oe[this.inputName].currentValue);this._enabled=this.enabled($e),this._validator=this._enabled?this.createValidator($e):q,this._onChange&&this._onChange()}}validate(oe){return this._validator(oe)}registerOnValidatorChange(oe){this._onChange=oe}enabled(oe){return null!=oe}static{this.\u0275fac=function($e){return new($e||Ge)}}static{this.\u0275dir=i.FsC({type:Ge,features:[i.OA$]})}}return Ge})();const qr={provide:x,useExisting:(0,i.Rfq)(()=>ma),multi:!0};let ma=(()=>{class Ge extends rr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=oe=>ra(oe),this.createValidator=oe=>B(oe)}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function($e,_e){2&$e&&i.BMQ("max",_e._enabled?_e.max:null)},inputs:{max:"max"},features:[i.Jv_([qr]),i.Vt3]})}}return Ge})();const _a={provide:x,useExisting:(0,i.Rfq)(()=>et),multi:!0};let et=(()=>{class Ge extends rr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=oe=>ra(oe),this.createValidator=oe=>L(oe)}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function($e,_e){2&$e&&i.BMQ("min",_e._enabled?_e.min:null)},inputs:{min:"min"},features:[i.Jv_([_a]),i.Vt3]})}}return Ge})();const qe={provide:x,useExisting:(0,i.Rfq)(()=>Ut),multi:!0},at={provide:x,useExisting:(0,i.Rfq)(()=>Vt),multi:!0};let Ut=(()=>{class Ge extends rr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.L39,this.createValidator=oe=>k}enabled(oe){return oe}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($e,_e){2&$e&&i.BMQ("required",_e._enabled?"":null)},inputs:{required:"required"},features:[i.Jv_([qe]),i.Vt3]})}}return Ge})(),Vt=(()=>{class Ge extends Ut{constructor(){super(...arguments),this.createValidator=oe=>W}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function($e,_e){2&$e&&i.BMQ("required",_e._enabled?"":null)},features:[i.Jv_([at]),i.Vt3]})}}return Ge})();const Is={provide:x,useExisting:(0,i.Rfq)(()=>Hs),multi:!0};let Hs=(()=>{class Ge extends rr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=oe=>Na(oe),this.createValidator=oe=>K(oe)}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function($e,_e){2&$e&&i.BMQ("minlength",_e._enabled?_e.minlength:null)},inputs:{minlength:"minlength"},features:[i.Jv_([Is]),i.Vt3]})}}return Ge})();const As={provide:x,useExisting:(0,i.Rfq)(()=>ci),multi:!0};let ci=(()=>{class Ge extends rr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=oe=>Na(oe),this.createValidator=oe=>Y(oe)}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function($e,_e){2&$e&&i.BMQ("maxlength",_e._enabled?_e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.Jv_([As]),i.Vt3]})}}return Ge})();const fo={provide:x,useExisting:(0,i.Rfq)(()=>bi),multi:!0};let bi=(()=>{class Ge extends rr{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=oe=>oe,this.createValidator=oe=>G(oe)}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function($e,_e){2&$e&&i.BMQ("pattern",_e._enabled?_e.pattern:null)},inputs:{pattern:"pattern"},features:[i.Jv_([fo]),i.Vt3]})}}return Ge})(),Io=(()=>{class Ge{static{this.\u0275fac=function($e){return new($e||Ge)}}static{this.\u0275mod=i.$C({type:Ge})}static{this.\u0275inj=i.G2t({})}}return Ge})();class so extends Be{constructor(Xe,oe,$e){super(Jt(oe),Ft($e,oe)),this.controls=Xe,this._initObservables(),this._setUpdateStrategy(oe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Xe){return this.controls[this._adjustIndex(Xe)]}push(Xe,oe={}){this.controls.push(Xe),this._registerControl(Xe),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}insert(Xe,oe,$e={}){this.controls.splice(Xe,0,oe),this._registerControl(oe),this.updateValueAndValidity({emitEvent:$e.emitEvent})}removeAt(Xe,oe={}){let $e=this._adjustIndex(Xe);$e<0&&($e=0),this.controls[$e]&&this.controls[$e]._registerOnCollectionChange(()=>{}),this.controls.splice($e,1),this.updateValueAndValidity({emitEvent:oe.emitEvent})}setControl(Xe,oe,$e={}){let _e=this._adjustIndex(Xe);_e<0&&(_e=0),this.controls[_e]&&this.controls[_e]._registerOnCollectionChange(()=>{}),this.controls.splice(_e,1),oe&&(this.controls.splice(_e,0,oe),this._registerControl(oe)),this.updateValueAndValidity({emitEvent:$e.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Xe,oe={}){Ke(this,0,Xe),Xe.forEach(($e,_e)=>{Ve(this,!1,_e),this.at(_e).setValue($e,{onlySelf:!0,emitEvent:oe.emitEvent})}),this.updateValueAndValidity(oe)}patchValue(Xe,oe={}){null!=Xe&&(Xe.forEach(($e,_e)=>{this.at(_e)&&this.at(_e).patchValue($e,{onlySelf:!0,emitEvent:oe.emitEvent})}),this.updateValueAndValidity(oe))}reset(Xe=[],oe={}){this._forEachChild(($e,_e)=>{$e.reset(Xe[_e],{onlySelf:!0,emitEvent:oe.emitEvent})}),this._updatePristine(oe),this._updateTouched(oe),this.updateValueAndValidity(oe)}getRawValue(){return this.controls.map(Xe=>Xe.getRawValue())}clear(Xe={}){this.controls.length<1||(this._forEachChild(oe=>oe._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Xe.emitEvent}))}_adjustIndex(Xe){return Xe<0?Xe+this.length:Xe}_syncPendingControls(){let Xe=this.controls.reduce((oe,$e)=>!!$e._syncPendingControls()||oe,!1);return Xe&&this.updateValueAndValidity({onlySelf:!0}),Xe}_forEachChild(Xe){this.controls.forEach((oe,$e)=>{Xe(oe,$e)})}_updateValue(){this.value=this.controls.filter(Xe=>Xe.enabled||this.disabled).map(Xe=>Xe.value)}_anyControls(Xe){return this.controls.some(oe=>oe.enabled&&Xe(oe))}_setUpControls(){this._forEachChild(Xe=>this._registerControl(Xe))}_allControlsDisabled(){for(const Xe of this.controls)if(Xe.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Xe){Xe.setParent(this),Xe._registerOnCollectionChange(this._onCollectionChange)}_find(Xe){return this.at(Xe)??null}}const Ys=so;function tr(Ge){return!!Ge&&(void 0!==Ge.asyncValidators||void 0!==Ge.validators||void 0!==Ge.updateOn)}let mo=(()=>{class Ge{constructor(){this.useNonNullable=!1}get nonNullable(){const oe=new Ge;return oe.useNonNullable=!0,oe}group(oe,$e=null){const _e=this._reduceControls(oe);let Tt={};return tr($e)?Tt=$e:null!==$e&&(Tt.validators=$e.validator,Tt.asyncValidators=$e.asyncValidator),new At(_e,Tt)}record(oe,$e=null){const _e=this._reduceControls(oe);return new Le(_e,$e)}control(oe,$e,_e){let Tt={};return this.useNonNullable?(tr($e)?Tt=$e:(Tt.validators=$e,Tt.asyncValidators=_e),new $n(oe,{...Tt,nonNullable:!0})):new $n(oe,$e,_e)}array(oe,$e,_e){const Tt=oe.map(Xt=>this._createControl(Xt));return new so(Tt,$e,_e)}_reduceControls(oe){const $e={};return Object.keys(oe).forEach(_e=>{$e[_e]=this._createControl(oe[_e])}),$e}_createControl(oe){return oe instanceof $n||oe instanceof Be?oe:Array.isArray(oe)?this.control(oe[0],oe.length>1?oe[1]:null,oe.length>2?oe[2]:null):this.control(oe)}static{this.\u0275fac=function($e){return new($e||Ge)}}static{this.\u0275prov=i.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}}return Ge})(),Ar=(()=>{class Ge extends mo{group(oe,$e=null){return super.group(oe,$e)}control(oe,$e,_e){return super.control(oe,$e,_e)}array(oe,$e,_e){return super.array(oe,$e,_e)}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275prov=i.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}}return Ge})(),Zo=(()=>{class Ge{static withConfig(oe){return{ngModule:Ge,providers:[{provide:St,useValue:oe.callSetDisabledState??ln}]}}static{this.\u0275fac=function($e){return new($e||Ge)}}static{this.\u0275mod=i.$C({type:Ge})}static{this.\u0275inj=i.G2t({imports:[Io]})}}return Ge})(),va=(()=>{class Ge{static withConfig(oe){return{ngModule:Ge,providers:[{provide:qn,useValue:oe.warnOnNgModelWithFormControl??"always"},{provide:St,useValue:oe.callSetDisabledState??ln}]}}static{this.\u0275fac=function($e){return new($e||Ge)}}static{this.\u0275mod=i.$C({type:Ge})}static{this.\u0275inj=i.G2t({imports:[Io]})}}return Ge})()},345:(F,D,n)=>{"use strict";n.d(D,{$x:()=>Jt,B7:()=>K,B8:()=>se,EZ:()=>yt,W8:()=>pt,hE:()=>Ne,kQ:()=>an,up:()=>nn});var i=n(54438),t=n(60177),u=n(21626);class e extends t.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class h extends e{static makeCurrent(){(0,t.ZD)(new h)}onAndCancel(Ve,Ke,Be){return Ve.addEventListener(Ke,Be),()=>{Ve.removeEventListener(Ke,Be)}}dispatchEvent(Ve,Ke){Ve.dispatchEvent(Ke)}remove(Ve){Ve.parentNode&&Ve.parentNode.removeChild(Ve)}createElement(Ve,Ke){return(Ke=Ke||this.getDefaultDocument()).createElement(Ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ve){return Ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ve){return Ve instanceof DocumentFragment}getGlobalEventTarget(Ve,Ke){return"window"===Ke?window:"document"===Ke?Ve:"body"===Ke?Ve.body:null}getBaseHref(Ve){const Ke=function f(){return m=m||document.querySelector("base"),m?m.getAttribute("href"):null}();return null==Ke?null:function v(xe){return new URL(xe,document.baseURI).pathname}(Ke)}resetBaseElement(){m=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ve){return(0,t._b)(document.cookie,Ve)}}let m=null,_=(()=>{class xe{build(){return new XMLHttpRequest}static{this.\u0275fac=function(Be){return new(Be||xe)}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();const C=new i.nKC("");let I=(()=>{class xe{constructor(Ke,Be){this._zone=Be,this._eventNameToPlugin=new Map,Ke.forEach(At=>{At.manager=this}),this._plugins=Ke.slice().reverse()}addEventListener(Ke,Be,At){return this._findPluginFor(Be).addEventListener(Ke,Be,At)}getZone(){return this._zone}_findPluginFor(Ke){let Be=this._eventNameToPlugin.get(Ke);if(Be)return Be;if(Be=this._plugins.find(Qe=>Qe.supports(Ke)),!Be)throw new i.wOt(5101,!1);return this._eventNameToPlugin.set(Ke,Be),Be}static{this.\u0275fac=function(Be){return new(Be||xe)(i.KVO(C),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();class R{constructor(Ve){this._doc=Ve}}const T="ng-app-id";let A=(()=>{class xe{constructor(Ke,Be,At,Qe={}){this.doc=Ke,this.appId=Be,this.nonce=At,this.platformId=Qe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,t.Vy)(Qe),this.resetHostNodes()}addStyles(Ke){for(const Be of Ke)1===this.changeUsageCount(Be,1)&&this.onStyleAdded(Be)}removeStyles(Ke){for(const Be of Ke)this.changeUsageCount(Be,-1)<=0&&this.onStyleRemoved(Be)}ngOnDestroy(){const Ke=this.styleNodesInDOM;Ke&&(Ke.forEach(Be=>Be.remove()),Ke.clear());for(const Be of this.getAllStyles())this.onStyleRemoved(Be);this.resetHostNodes()}addHost(Ke){this.hostNodes.add(Ke);for(const Be of this.getAllStyles())this.addStyleToHost(Ke,Be)}removeHost(Ke){this.hostNodes.delete(Ke)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Ke){for(const Be of this.hostNodes)this.addStyleToHost(Be,Ke)}onStyleRemoved(Ke){const Be=this.styleRef;Be.get(Ke)?.elements?.forEach(At=>At.remove()),Be.delete(Ke)}collectServerRenderedStyles(){const Ke=this.doc.head?.querySelectorAll(`style[${T}="${this.appId}"]`);if(Ke?.length){const Be=new Map;return Ke.forEach(At=>{null!=At.textContent&&Be.set(At.textContent,At)}),Be}return null}changeUsageCount(Ke,Be){const At=this.styleRef;if(At.has(Ke)){const Qe=At.get(Ke);return Qe.usage+=Be,Qe.usage}return At.set(Ke,{usage:Be,elements:[]}),Be}getStyleElement(Ke,Be){const At=this.styleNodesInDOM,Qe=At?.get(Be);if(Qe?.parentNode===Ke)return At.delete(Be),Qe.removeAttribute(T),Qe;{const st=this.doc.createElement("style");return this.nonce&&st.setAttribute("nonce",this.nonce),st.textContent=Be,this.platformIsServer&&st.setAttribute(T,this.appId),Ke.appendChild(st),st}}addStyleToHost(Ke,Be){const At=this.getStyleElement(Ke,Be),Qe=this.styleRef,st=Qe.get(Be)?.elements;st?st.push(At):Qe.set(Be,{elements:[At],usage:1})}resetHostNodes(){const Ke=this.hostNodes;Ke.clear(),Ke.add(this.doc.head)}static{this.\u0275fac=function(Be){return new(Be||xe)(i.KVO(t.qQ),i.KVO(i.sZ2),i.KVO(i.BIS,8),i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();const p={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},x=/%COMP%/g,O="%COMP%",w=`_nghost-${O}`,M=`_ngcontent-${O}`,B=new i.nKC("",{providedIn:"root",factory:()=>!0});function U(xe,Ve){return Ve.map(Ke=>Ke.replace(x,xe))}let K=(()=>{class xe{constructor(Ke,Be,At,Qe,st,ke,Le,dt=null){this.eventManager=Ke,this.sharedStylesHost=Be,this.appId=At,this.removeStylesOnCompDestroy=Qe,this.doc=st,this.platformId=ke,this.ngZone=Le,this.nonce=dt,this.rendererByCompId=new Map,this.platformIsServer=(0,t.Vy)(ke),this.defaultRenderer=new Y(Ke,st,Le,this.platformIsServer)}createRenderer(Ke,Be){if(!Ke||!Be)return this.defaultRenderer;this.platformIsServer&&Be.encapsulation===i.gXe.ShadowDom&&(Be={...Be,encapsulation:i.gXe.Emulated});const At=this.getOrCreateRenderer(Ke,Be);return At instanceof J?At.applyToHost(Ke):At instanceof Z&&At.applyStyles(),At}getOrCreateRenderer(Ke,Be){const At=this.rendererByCompId;let Qe=At.get(Be.id);if(!Qe){const st=this.doc,ke=this.ngZone,Le=this.eventManager,dt=this.sharedStylesHost,St=this.removeStylesOnCompDestroy,ln=this.platformIsServer;switch(Be.encapsulation){case i.gXe.Emulated:Qe=new J(Le,dt,Be,this.appId,St,st,ke,ln);break;case i.gXe.ShadowDom:return new te(Le,dt,Ke,Be,st,ke,this.nonce,ln);default:Qe=new Z(Le,dt,Be,St,st,ke,ln)}At.set(Be.id,Qe)}return Qe}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(Be){return new(Be||xe)(i.KVO(I),i.KVO(A),i.KVO(i.sZ2),i.KVO(B),i.KVO(t.qQ),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(i.BIS))}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();class Y{constructor(Ve,Ke,Be,At){this.eventManager=Ve,this.doc=Ke,this.ngZone=Be,this.platformIsServer=At,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Ve,Ke){return Ke?this.doc.createElementNS(p[Ke]||Ke,Ve):this.doc.createElement(Ve)}createComment(Ve){return this.doc.createComment(Ve)}createText(Ve){return this.doc.createTextNode(Ve)}appendChild(Ve,Ke){(z(Ve)?Ve.content:Ve).appendChild(Ke)}insertBefore(Ve,Ke,Be){Ve&&(z(Ve)?Ve.content:Ve).insertBefore(Ke,Be)}removeChild(Ve,Ke){Ve&&Ve.removeChild(Ke)}selectRootElement(Ve,Ke){let Be="string"==typeof Ve?this.doc.querySelector(Ve):Ve;if(!Be)throw new i.wOt(-5104,!1);return Ke||(Be.textContent=""),Be}parentNode(Ve){return Ve.parentNode}nextSibling(Ve){return Ve.nextSibling}setAttribute(Ve,Ke,Be,At){if(At){Ke=At+":"+Ke;const Qe=p[At];Qe?Ve.setAttributeNS(Qe,Ke,Be):Ve.setAttribute(Ke,Be)}else Ve.setAttribute(Ke,Be)}removeAttribute(Ve,Ke,Be){if(Be){const At=p[Be];At?Ve.removeAttributeNS(At,Ke):Ve.removeAttribute(`${Be}:${Ke}`)}else Ve.removeAttribute(Ke)}addClass(Ve,Ke){Ve.classList.add(Ke)}removeClass(Ve,Ke){Ve.classList.remove(Ke)}setStyle(Ve,Ke,Be,At){At&(i.czy.DashCase|i.czy.Important)?Ve.style.setProperty(Ke,Be,At&i.czy.Important?"important":""):Ve.style[Ke]=Be}removeStyle(Ve,Ke,Be){Be&i.czy.DashCase?Ve.style.removeProperty(Ke):Ve.style[Ke]=""}setProperty(Ve,Ke,Be){null!=Ve&&(Ve[Ke]=Be)}setValue(Ve,Ke){Ve.nodeValue=Ke}listen(Ve,Ke,Be){if("string"==typeof Ve&&!(Ve=(0,t.QT)().getGlobalEventTarget(this.doc,Ve)))throw new Error(`Unsupported event target ${Ve} for event ${Ke}`);return this.eventManager.addEventListener(Ve,Ke,this.decoratePreventDefault(Be))}decoratePreventDefault(Ve){return Ke=>{if("__ngUnwrap__"===Ke)return Ve;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ve(Ke)):Ve(Ke))&&Ke.preventDefault()}}}function z(xe){return"TEMPLATE"===xe.tagName&&void 0!==xe.content}class te extends Y{constructor(Ve,Ke,Be,At,Qe,st,ke,Le){super(Ve,Qe,st,Le),this.sharedStylesHost=Ke,this.hostEl=Be,this.shadowRoot=Be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const dt=U(At.id,At.styles);for(const St of dt){const ln=document.createElement("style");ke&&ln.setAttribute("nonce",ke),ln.textContent=St,this.shadowRoot.appendChild(ln)}}nodeOrShadowRoot(Ve){return Ve===this.hostEl?this.shadowRoot:Ve}appendChild(Ve,Ke){return super.appendChild(this.nodeOrShadowRoot(Ve),Ke)}insertBefore(Ve,Ke,Be){return super.insertBefore(this.nodeOrShadowRoot(Ve),Ke,Be)}removeChild(Ve,Ke){return super.removeChild(this.nodeOrShadowRoot(Ve),Ke)}parentNode(Ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ve)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Z extends Y{constructor(Ve,Ke,Be,At,Qe,st,ke,Le){super(Ve,Qe,st,ke),this.sharedStylesHost=Ke,this.removeStylesOnCompDestroy=At,this.styles=Le?U(Le,Be.styles):Be.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class J extends Z{constructor(Ve,Ke,Be,At,Qe,st,ke,Le){const dt=At+"-"+Be.id;super(Ve,Ke,Be,Qe,st,ke,Le,dt),this.contentAttr=function k(xe){return M.replace(x,xe)}(dt),this.hostAttr=function W(xe){return w.replace(x,xe)}(dt)}applyToHost(Ve){this.applyStyles(),this.setAttribute(Ve,this.hostAttr,"")}createElement(Ve,Ke){const Be=super.createElement(Ve,Ke);return super.setAttribute(Be,this.contentAttr,""),Be}}let Q=(()=>{class xe extends R{constructor(Ke){super(Ke)}supports(Ke){return!0}addEventListener(Ke,Be,At){return Ke.addEventListener(Be,At,!1),()=>this.removeEventListener(Ke,Be,At)}removeEventListener(Ke,Be,At){return Ke.removeEventListener(Be,At)}static{this.\u0275fac=function(Be){return new(Be||xe)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();const ee=["alt","control","meta","shift"],le={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ne={alt:xe=>xe.altKey,control:xe=>xe.ctrlKey,meta:xe=>xe.metaKey,shift:xe=>xe.shiftKey};let fe=(()=>{class xe extends R{constructor(Ke){super(Ke)}supports(Ke){return null!=xe.parseEventName(Ke)}addEventListener(Ke,Be,At){const Qe=xe.parseEventName(Be),st=xe.eventCallback(Qe.fullKey,At,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.QT)().onAndCancel(Ke,Qe.domEventName,st))}static parseEventName(Ke){const Be=Ke.toLowerCase().split("."),At=Be.shift();if(0===Be.length||"keydown"!==At&&"keyup"!==At)return null;const Qe=xe._normalizeKey(Be.pop());let st="",ke=Be.indexOf("code");if(ke>-1&&(Be.splice(ke,1),st="code."),ee.forEach(dt=>{const St=Be.indexOf(dt);St>-1&&(Be.splice(St,1),st+=dt+".")}),st+=Qe,0!=Be.length||0===Qe.length)return null;const Le={};return Le.domEventName=At,Le.fullKey=st,Le}static matchEventFullKeyCode(Ke,Be){let At=le[Ke.key]||Ke.key,Qe="";return Be.indexOf("code.")>-1&&(At=Ke.code,Qe="code."),!(null==At||!At)&&(At=At.toLowerCase()," "===At?At="space":"."===At&&(At="dot"),ee.forEach(st=>{st!==At&&(0,ne[st])(Ke)&&(Qe+=st+".")}),Qe+=At,Qe===Be)}static eventCallback(Ke,Be,At){return Qe=>{xe.matchEventFullKeyCode(Qe,Ke)&&At.runGuarded(()=>Be(Qe))}}static _normalizeKey(Ke){return"esc"===Ke?"escape":Ke}static{this.\u0275fac=function(Be){return new(Be||xe)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();function se(xe,Ve){return(0,i.TL3)({rootComponent:xe,...De(Ve)})}function De(xe){return{appProviders:[...Et,...xe?.providers??[]],platformProviders:Te}}const Te=[{provide:i.Agw,useValue:t.AJ},{provide:i.PLl,useValue:function me(){h.makeCurrent()},multi:!0},{provide:t.qQ,useFactory:function Ee(){return(0,i.TL$)(document),document},deps:[]}],Et=[{provide:i.H8p,useValue:"root"},{provide:i.zcH,useFactory:function re(){return new i.zcH},deps:[]},{provide:C,useClass:Q,multi:!0,deps:[t.qQ,i.SKi,i.Agw]},{provide:C,useClass:fe,multi:!0,deps:[t.qQ]},K,A,I,{provide:i._9s,useExisting:K},{provide:t.N0,useClass:_,deps:[]},[]];let pt=(()=>{class xe{constructor(Ke){this._doc=Ke,this._dom=(0,t.QT)()}addTag(Ke,Be=!1){return Ke?this._getOrCreateElement(Ke,Be):null}addTags(Ke,Be=!1){return Ke?Ke.reduce((At,Qe)=>(Qe&&At.push(this._getOrCreateElement(Qe,Be)),At),[]):[]}getTag(Ke){return Ke&&this._doc.querySelector(`meta[${Ke}]`)||null}getTags(Ke){if(!Ke)return[];const Be=this._doc.querySelectorAll(`meta[${Ke}]`);return Be?[].slice.call(Be):[]}updateTag(Ke,Be){if(!Ke)return null;Be=Be||this._parseSelector(Ke);const At=this.getTag(Be);return At?this._setMetaElementAttributes(Ke,At):this._getOrCreateElement(Ke,!0)}removeTag(Ke){this.removeTagElement(this.getTag(Ke))}removeTagElement(Ke){Ke&&this._dom.remove(Ke)}_getOrCreateElement(Ke,Be=!1){if(!Be){const st=this._parseSelector(Ke),ke=this.getTags(st).filter(Le=>this._containsAttributes(Ke,Le))[0];if(void 0!==ke)return ke}const At=this._dom.createElement("meta");return this._setMetaElementAttributes(Ke,At),this._doc.getElementsByTagName("head")[0].appendChild(At),At}_setMetaElementAttributes(Ke,Be){return Object.keys(Ke).forEach(At=>Be.setAttribute(this._getMetaKeyMap(At),Ke[At])),Be}_parseSelector(Ke){const Be=Ke.name?"name":"property";return`${Be}="${Ke[Be]}"`}_containsAttributes(Ke,Be){return Object.keys(Ke).every(At=>Be.getAttribute(this._getMetaKeyMap(At))===Ke[At])}_getMetaKeyMap(Ke){return Mt[Ke]||Ke}static{this.\u0275fac=function(Be){return new(Be||xe)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})();const Mt={httpEquiv:"http-equiv"};let Ne=(()=>{class xe{constructor(Ke){this._doc=Ke}getTitle(){return this._doc.title}setTitle(Ke){this._doc.title=Ke||""}static{this.\u0275fac=function(Be){return new(Be||xe)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})();const an=new i.nKC("HammerGestureConfig");let yt=(()=>{class xe{constructor(){this.events=[],this.overrides={}}buildHammer(Ke){const Be=new Hammer(Ke,this.options);Be.get("pinch").set({enable:!0}),Be.get("rotate").set({enable:!0});for(const At in this.overrides)Be.get(At).set(this.overrides[At]);return Be}static{this.\u0275fac=function(Be){return new(Be||xe)}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac})}}return xe})(),nn=(()=>{class xe{static{this.\u0275fac=function(Be){return new(Be||xe)}}static{this.\u0275prov=i.jDH({token:xe,factory:function(Be){let At=null;return At=Be?new(Be||xe):i.KVO(gn),At},providedIn:"root"})}}return xe})(),gn=(()=>{class xe extends nn{constructor(Ke){super(),this._doc=Ke}sanitize(Ke,Be){if(null==Be)return null;switch(Ke){case i.WPN.NONE:return Be;case i.WPN.HTML:return(0,i.ZF7)(Be,"HTML")?(0,i.rcV)(Be):(0,i.h9k)(this._doc,String(Be)).toString();case i.WPN.STYLE:return(0,i.ZF7)(Be,"Style")?(0,i.rcV)(Be):Be;case i.WPN.SCRIPT:if((0,i.ZF7)(Be,"Script"))return(0,i.rcV)(Be);throw new i.wOt(5200,!1);case i.WPN.URL:return(0,i.ZF7)(Be,"URL")?(0,i.rcV)(Be):(0,i.$MX)(String(Be));case i.WPN.RESOURCE_URL:if((0,i.ZF7)(Be,"ResourceURL"))return(0,i.rcV)(Be);throw new i.wOt(5201,!1);default:throw new i.wOt(5202,!1)}}bypassSecurityTrustHtml(Ke){return(0,i.Kcf)(Ke)}bypassSecurityTrustStyle(Ke){return(0,i.cWb)(Ke)}bypassSecurityTrustScript(Ke){return(0,i.UyX)(Ke)}bypassSecurityTrustUrl(Ke){return(0,i.osQ)(Ke)}bypassSecurityTrustResourceUrl(Ke){return(0,i.e5t)(Ke)}static{this.\u0275fac=function(Be){return new(Be||xe)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})();var It=function(xe){return xe[xe.NoHttpTransferCache=0]="NoHttpTransferCache",xe[xe.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",xe}(It||{});function Jt(...xe){const Ve=[],Ke=new Set,Be=Ke.has(It.HttpTransferCacheOptions);for(const{\u0275providers:At,\u0275kind:Qe}of xe)Ke.add(Qe),At.length&&Ve.push(At);return(0,i.EmA)([[],(0,i.M8M)(),Ke.has(It.NoHttpTransferCache)||Be?[]:(0,u.$m)({}),Ve])}},7901:(F,D,n)=>{"use strict";n.d(D,{Bx:()=>We,D7:()=>es,Ii:()=>yd,Ix:()=>Ns,L6:()=>Yn,OY:()=>to,Sn:()=>Ro,Wk:()=>Fi,Xw:()=>Ce,Z:()=>lt,Zy:()=>co,gx:()=>hs,iI:()=>Ss,j5:()=>fn,ld:()=>$n,lh:()=>Eo,n3:()=>Jo,nU:()=>Pn,nX:()=>Ci,oH:()=>$s,wF:()=>gt,wQ:()=>Mi});var i=n(74523),t=n(54438),u=n(74402),e=n(22806),h=n(7673),m=n(84412),f=n(84572),v=n(9350),E=n(92688),_=n(59030),C=n(71203),I=n(18810),R=n(983),T=n(30017),A=n(21413),p=n(18359),x=n(60177),O=n(96354),w=n(25558),M=n(96697),L=n(99172),B=n(5964),k=n(73028),W=n(61594),U=n(70274),K=n(88141),Y=n(99437),G=n(31943),q=n(39901),z=n(67018),te=n(55109),Z=n(73703),J=n(70980),Q=n(99898),ee=n(56977),le=n(26365),ne=n(345);const fe="primary",se=Symbol("RouteTitle");class ce{constructor(Oe){this.params=Oe||{}}has(Oe){return Object.prototype.hasOwnProperty.call(this.params,Oe)}get(Oe){if(this.has(Oe)){const pe=this.params[Oe];return Array.isArray(pe)?pe[0]:pe}return null}getAll(Oe){if(this.has(Oe)){const pe=this.params[Oe];return Array.isArray(pe)?pe:[pe]}return[]}get keys(){return Object.keys(this.params)}}function De(de){return new ce(de)}function be(de,Oe,pe){const Ie=pe.path.split("/");if(Ie.length>de.length||"full"===pe.pathMatch&&(Oe.hasChildren()||Ie.length<de.length))return null;const He={};for(let ft=0;ft<Ie.length;ft++){const Se=Ie[ft],ye=de[ft];if(Se.startsWith(":"))He[Se.substring(1)]=ye;else if(Se!==ye.path)return null}return{consumed:de.slice(0,Ie.length),posParams:He}}function re(de,Oe){const pe=de?Ee(de):void 0,Ie=Oe?Ee(Oe):void 0;if(!pe||!Ie||pe.length!=Ie.length)return!1;let He;for(let ft=0;ft<pe.length;ft++)if(He=pe[ft],!Te(de[He],Oe[He]))return!1;return!0}function Ee(de){return[...Object.keys(de),...Object.getOwnPropertySymbols(de)]}function Te(de,Oe){if(Array.isArray(de)&&Array.isArray(Oe)){if(de.length!==Oe.length)return!1;const pe=[...de].sort(),Ie=[...Oe].sort();return pe.every((He,ft)=>Ie[ft]===He)}return de===Oe}function tt(de){return de.length>0?de[de.length-1]:null}function ht(de){return(0,u.A)(de)?de:(0,t.jNT)(de)?(0,e.H)(Promise.resolve(de)):(0,h.of)(de)}const Fe={exact:function Mt(de,Oe,pe){if(!ut(de.segments,Oe.segments)||!Zt(de.segments,Oe.segments,pe)||de.numberOfChildren!==Oe.numberOfChildren)return!1;for(const Ie in Oe.children)if(!de.children[Ie]||!Mt(de.children[Ie],Oe.children[Ie],pe))return!1;return!0},subset:rt},Et={exact:function pt(de,Oe){return re(de,Oe)},subset:function Ne(de,Oe){return Object.keys(Oe).length<=Object.keys(de).length&&Object.keys(Oe).every(pe=>Te(de[pe],Oe[pe]))},ignored:()=>!0};function Ye(de,Oe,pe){return Fe[pe.paths](de.root,Oe.root,pe.matrixParams)&&Et[pe.queryParams](de.queryParams,Oe.queryParams)&&!("exact"===pe.fragment&&de.fragment!==Oe.fragment)}function rt(de,Oe,pe){return Gt(de,Oe,Oe.segments,pe)}function Gt(de,Oe,pe,Ie){if(de.segments.length>pe.length){const He=de.segments.slice(0,pe.length);return!(!ut(He,pe)||Oe.hasChildren()||!Zt(He,pe,Ie))}if(de.segments.length===pe.length){if(!ut(de.segments,pe)||!Zt(de.segments,pe,Ie))return!1;for(const He in Oe.children)if(!de.children[He]||!rt(de.children[He],Oe.children[He],Ie))return!1;return!0}{const He=pe.slice(0,de.segments.length),ft=pe.slice(de.segments.length);return!!(ut(de.segments,He)&&Zt(de.segments,He,Ie)&&de.children[fe])&&Gt(de.children[fe],Oe,ft,Ie)}}function Zt(de,Oe,pe){return Oe.every((Ie,He)=>Et[pe](de[He].parameters,Ie.parameters))}class mt{constructor(Oe=new Pt([],{}),pe={},Ie=null){this.root=Oe,this.queryParams=pe,this.fragment=Ie}get queryParamMap(){return this._queryParamMap??=De(this.queryParams),this._queryParamMap}toString(){return yt.serialize(this)}}class Pt{constructor(Oe,pe){this.segments=Oe,this.children=pe,this.parent=null,Object.values(pe).forEach(Ie=>Ie.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kt(this)}}class Ce{constructor(Oe,pe){this.path=Oe,this.parameters=pe}get parameterMap(){return this._parameterMap??=De(this.parameters),this._parameterMap}toString(){return bt(this)}}function ut(de,Oe){return de.length===Oe.length&&de.every((pe,Ie)=>pe.path===Oe[Ie].path)}let an=(()=>{class de{static{this.\u0275fac=function(Ie){return new(Ie||de)}}static{this.\u0275prov=t.jDH({token:de,factory:()=>new Pn,providedIn:"root"})}}return de})();class Pn{parse(Oe){const pe=new st(Oe);return new mt(pe.parseRootSegment(),pe.parseQueryParams(),pe.parseFragment())}serialize(Oe){const pe=`/${Rt(Oe.root,!0)}`,Ie=function Dt(de){const Oe=Object.entries(de).map(([pe,Ie])=>Array.isArray(Ie)?Ie.map(He=>`${gn(pe)}=${gn(He)}`).join("&"):`${gn(pe)}=${gn(Ie)}`).filter(pe=>pe);return Oe.length?`?${Oe.join("&")}`:""}(Oe.queryParams);return`${pe}${Ie}${"string"==typeof Oe.fragment?`#${function It(de){return encodeURI(de)}(Oe.fragment)}`:""}`}}const yt=new Pn;function Kt(de){return de.segments.map(Oe=>bt(Oe)).join("/")}function Rt(de,Oe){if(!de.hasChildren())return Kt(de);if(Oe){const pe=de.children[fe]?Rt(de.children[fe],!1):"",Ie=[];return Object.entries(de.children).forEach(([He,ft])=>{He!==fe&&Ie.push(`${He}:${Rt(ft,!1)}`)}),Ie.length>0?`${pe}(${Ie.join("//")})`:pe}{const pe=function hn(de,Oe){let pe=[];return Object.entries(de.children).forEach(([Ie,He])=>{Ie===fe&&(pe=pe.concat(Oe(He,Ie)))}),Object.entries(de.children).forEach(([Ie,He])=>{Ie!==fe&&(pe=pe.concat(Oe(He,Ie)))}),pe}(de,(Ie,He)=>He===fe?[Rt(de.children[fe],!1)]:[`${He}:${Rt(Ie,!1)}`]);return 1===Object.keys(de.children).length&&null!=de.children[fe]?`${Kt(de)}/${pe[0]}`:`${Kt(de)}/(${pe.join("//")})`}}function nn(de){return encodeURIComponent(de).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gn(de){return nn(de).replace(/%3B/gi,";")}function zt(de){return nn(de).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yt(de){return decodeURIComponent(de)}function wt(de){return Yt(de.replace(/\+/g,"%20"))}function bt(de){return`${zt(de.path)}${function Jt(de){return Object.entries(de).map(([Oe,pe])=>`;${zt(Oe)}=${zt(pe)}`).join("")}(de.parameters)}`}const Ft=/^[^\/()?;#]+/;function ot(de){const Oe=de.match(Ft);return Oe?Oe[0]:""}const xe=/^[^\/()?;=#]+/,Ke=/^[^=?&#]+/,At=/^[^&#]+/;class st{constructor(Oe){this.url=Oe,this.remaining=Oe}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const Oe={};if(this.consumeOptional("?"))do{this.parseQueryParam(Oe)}while(this.consumeOptional("&"));return Oe}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Oe=[];for(this.peekStartsWith("(")||Oe.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Oe.push(this.parseSegment());let pe={};this.peekStartsWith("/(")&&(this.capture("/"),pe=this.parseParens(!0));let Ie={};return this.peekStartsWith("(")&&(Ie=this.parseParens(!1)),(Oe.length>0||Object.keys(pe).length>0)&&(Ie[fe]=new Pt(Oe,pe)),Ie}parseSegment(){const Oe=ot(this.remaining);if(""===Oe&&this.peekStartsWith(";"))throw new t.wOt(4009,!1);return this.capture(Oe),new Ce(Yt(Oe),this.parseMatrixParams())}parseMatrixParams(){const Oe={};for(;this.consumeOptional(";");)this.parseParam(Oe);return Oe}parseParam(Oe){const pe=function Ve(de){const Oe=de.match(xe);return Oe?Oe[0]:""}(this.remaining);if(!pe)return;this.capture(pe);let Ie="";if(this.consumeOptional("=")){const He=ot(this.remaining);He&&(Ie=He,this.capture(Ie))}Oe[Yt(pe)]=Yt(Ie)}parseQueryParam(Oe){const pe=function Be(de){const Oe=de.match(Ke);return Oe?Oe[0]:""}(this.remaining);if(!pe)return;this.capture(pe);let Ie="";if(this.consumeOptional("=")){const Se=function Qe(de){const Oe=de.match(At);return Oe?Oe[0]:""}(this.remaining);Se&&(Ie=Se,this.capture(Ie))}const He=wt(pe),ft=wt(Ie);if(Oe.hasOwnProperty(He)){let Se=Oe[He];Array.isArray(Se)||(Se=[Se],Oe[He]=Se),Se.push(ft)}else Oe[He]=ft}parseParens(Oe){const pe={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Ie=ot(this.remaining),He=this.remaining[Ie.length];if("/"!==He&&")"!==He&&";"!==He)throw new t.wOt(4010,!1);let ft;Ie.indexOf(":")>-1?(ft=Ie.slice(0,Ie.indexOf(":")),this.capture(ft),this.capture(":")):Oe&&(ft=fe);const Se=this.parseChildren();pe[ft]=1===Object.keys(Se).length?Se[fe]:new Pt([],Se),this.consumeOptional("//")}return pe}peekStartsWith(Oe){return this.remaining.startsWith(Oe)}consumeOptional(Oe){return!!this.peekStartsWith(Oe)&&(this.remaining=this.remaining.substring(Oe.length),!0)}capture(Oe){if(!this.consumeOptional(Oe))throw new t.wOt(4011,!1)}}function ke(de){return de.segments.length>0?new Pt([],{[fe]:de}):de}function Le(de){const Oe={};for(const[Ie,He]of Object.entries(de.children)){const ft=Le(He);if(Ie===fe&&0===ft.segments.length&&ft.hasChildren())for(const[Se,ye]of Object.entries(ft.children))Oe[Se]=ye;else(ft.segments.length>0||ft.hasChildren())&&(Oe[Ie]=ft)}return function dt(de){if(1===de.numberOfChildren&&de.children[fe]){const Oe=de.children[fe];return new Pt(de.segments.concat(Oe.segments),Oe.children)}return de}(new Pt(de.segments,Oe))}function St(de){return de instanceof mt}function Tn(de){let Oe;const He=ke(function pe(ft){const Se={};for(const ae of ft.children){const Pe=pe(ae);Se[ae.outlet]=Pe}const ye=new Pt(ft.url,Se);return ft===de&&(Oe=ye),ye}(de.root));return Oe??He}function Bn(de,Oe,pe,Ie){let He=de;for(;He.parent;)He=He.parent;if(0===Oe.length)return ct(He,He,He,pe,Ie);const ft=function Nn(de){if("string"==typeof de[0]&&1===de.length&&"/"===de[0])return new pn(!0,0,de);let Oe=0,pe=!1;const Ie=de.reduce((He,ft,Se)=>{if("object"==typeof ft&&null!=ft){if(ft.outlets){const ye={};return Object.entries(ft.outlets).forEach(([ae,Pe])=>{ye[ae]="string"==typeof Pe?Pe.split("/"):Pe}),[...He,{outlets:ye}]}if(ft.segmentPath)return[...He,ft.segmentPath]}return"string"!=typeof ft?[...He,ft]:0===Se?(ft.split("/").forEach((ye,ae)=>{0==ae&&"."===ye||(0==ae&&""===ye?pe=!0:".."===ye?Oe++:""!=ye&&He.push(ye))}),He):[...He,ft]},[]);return new pn(pe,Oe,Ie)}(Oe);if(ft.toRoot())return ct(He,He,new Pt([],{}),pe,Ie);const Se=function Gs(de,Oe,pe){if(de.isAbsolute)return new Jn(Oe,!0,0);if(!pe)return new Jn(Oe,!1,NaN);if(null===pe.parent)return new Jn(pe,!0,0);const Ie=Zn(de.commands[0])?0:1;return function cs(de,Oe,pe){let Ie=de,He=Oe,ft=pe;for(;ft>He;){if(ft-=He,Ie=Ie.parent,!Ie)throw new t.wOt(4005,!1);He=Ie.segments.length}return new Jn(Ie,!1,He-ft)}(pe,pe.segments.length-1+Ie,de.numberOfDoubleDots)}(ft,He,de),ye=Se.processChildren?dn(Se.segmentGroup,Se.index,ft.commands):ds(Se.segmentGroup,Se.index,ft.commands);return ct(He,Se.segmentGroup,ye,pe,Ie)}function Zn(de){return"object"==typeof de&&null!=de&&!de.outlets&&!de.segmentPath}function wn(de){return"object"==typeof de&&null!=de&&de.outlets}function ct(de,Oe,pe,Ie,He){let Se,ft={};Ie&&Object.entries(Ie).forEach(([ae,Pe])=>{ft[ae]=Array.isArray(Pe)?Pe.map(nt=>`${nt}`):`${Pe}`}),Se=de===Oe?pe:vt(de,Oe,pe);const ye=ke(Le(Se));return new mt(ye,ft,He)}function vt(de,Oe,pe){const Ie={};return Object.entries(de.children).forEach(([He,ft])=>{Ie[He]=ft===Oe?pe:vt(ft,Oe,pe)}),new Pt(de.segments,Ie)}class pn{constructor(Oe,pe,Ie){if(this.isAbsolute=Oe,this.numberOfDoubleDots=pe,this.commands=Ie,Oe&&Ie.length>0&&Zn(Ie[0]))throw new t.wOt(4003,!1);const He=Ie.find(wn);if(He&&He!==tt(Ie))throw new t.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jn{constructor(Oe,pe,Ie){this.segmentGroup=Oe,this.processChildren=pe,this.index=Ie}}function ds(de,Oe,pe){if(de??=new Pt([],{}),0===de.segments.length&&de.hasChildren())return dn(de,Oe,pe);const Ie=function En(de,Oe,pe){let Ie=0,He=Oe;const ft={match:!1,pathIndex:0,commandIndex:0};for(;He<de.segments.length;){if(Ie>=pe.length)return ft;const Se=de.segments[He],ye=pe[Ie];if(wn(ye))break;const ae=`${ye}`,Pe=Ie<pe.length-1?pe[Ie+1]:null;if(He>0&&void 0===ae)break;if(ae&&Pe&&"object"==typeof Pe&&void 0===Pe.outlets){if(!_t(ae,Pe,Se))return ft;Ie+=2}else{if(!_t(ae,{},Se))return ft;Ie++}He++}return{match:!0,pathIndex:He,commandIndex:Ie}}(de,Oe,pe),He=pe.slice(Ie.commandIndex);if(Ie.match&&Ie.pathIndex<de.segments.length){const ft=new Pt(de.segments.slice(0,Ie.pathIndex),{});return ft.children[fe]=new Pt(de.segments.slice(Ie.pathIndex),de.children),dn(ft,0,He)}return Ie.match&&0===He.length?new Pt(de.segments,{}):Ie.match&&!de.hasChildren()?ss(de,Oe,pe):Ie.match?dn(de,0,He):ss(de,Oe,pe)}function dn(de,Oe,pe){if(0===pe.length)return new Pt(de.segments,{});{const Ie=function Cs(de){return wn(de[0])?de[0].outlets:{[fe]:de}}(pe),He={};if(Object.keys(Ie).some(ft=>ft!==fe)&&de.children[fe]&&1===de.numberOfChildren&&0===de.children[fe].segments.length){const ft=dn(de.children[fe],Oe,pe);return new Pt(de.segments,ft.children)}return Object.entries(Ie).forEach(([ft,Se])=>{"string"==typeof Se&&(Se=[Se]),null!==Se&&(He[ft]=ds(de.children[ft],Oe,Se))}),Object.entries(de.children).forEach(([ft,Se])=>{void 0===Ie[ft]&&(He[ft]=Se)}),new Pt(de.segments,He)}}function ss(de,Oe,pe){const Ie=de.segments.slice(0,Oe);let He=0;for(;He<pe.length;){const ft=pe[He];if(wn(ft)){const ae=Ls(ft.outlets);return new Pt(Ie,ae)}if(0===He&&Zn(pe[0])){Ie.push(new Ce(de.segments[Oe].path,li(pe[0]))),He++;continue}const Se=wn(ft)?ft.outlets[fe]:`${ft}`,ye=He<pe.length-1?pe[He+1]:null;Se&&ye&&Zn(ye)?(Ie.push(new Ce(Se,li(ye))),He+=2):(Ie.push(new Ce(Se,{})),He++)}return new Pt(Ie,{})}function Ls(de){const Oe={};return Object.entries(de).forEach(([pe,Ie])=>{"string"==typeof Ie&&(Ie=[Ie]),null!==Ie&&(Oe[pe]=ss(new Pt([],{}),0,Ie))}),Oe}function li(de){const Oe={};return Object.entries(de).forEach(([pe,Ie])=>Oe[pe]=`${Ie}`),Oe}function _t(de,Oe,pe){return de==pe.path&&re(Oe,pe.parameters)}const Ht="imperative";var We=function(de){return de[de.NavigationStart=0]="NavigationStart",de[de.NavigationEnd=1]="NavigationEnd",de[de.NavigationCancel=2]="NavigationCancel",de[de.NavigationError=3]="NavigationError",de[de.RoutesRecognized=4]="RoutesRecognized",de[de.ResolveStart=5]="ResolveStart",de[de.ResolveEnd=6]="ResolveEnd",de[de.GuardsCheckStart=7]="GuardsCheckStart",de[de.GuardsCheckEnd=8]="GuardsCheckEnd",de[de.RouteConfigLoadStart=9]="RouteConfigLoadStart",de[de.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",de[de.ChildActivationStart=11]="ChildActivationStart",de[de.ChildActivationEnd=12]="ChildActivationEnd",de[de.ActivationStart=13]="ActivationStart",de[de.ActivationEnd=14]="ActivationEnd",de[de.Scroll=15]="Scroll",de[de.NavigationSkipped=16]="NavigationSkipped",de}(We||{});class sn{constructor(Oe,pe){this.id=Oe,this.url=pe}}class lt extends sn{constructor(Oe,pe,Ie="imperative",He=null){super(Oe,pe),this.type=We.NavigationStart,this.navigationTrigger=Ie,this.restoredState=He}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gt extends sn{constructor(Oe,pe,Ie){super(Oe,pe),this.urlAfterRedirects=Ie,this.type=We.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ct=function(de){return de[de.Redirect=0]="Redirect",de[de.SupersededByNewNavigation=1]="SupersededByNewNavigation",de[de.NoDataFromResolver=2]="NoDataFromResolver",de[de.GuardRejected=3]="GuardRejected",de}(Ct||{}),Wt=function(de){return de[de.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",de[de.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",de}(Wt||{});class fn extends sn{constructor(Oe,pe,Ie,He){super(Oe,pe),this.reason=Ie,this.code=He,this.type=We.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class An extends sn{constructor(Oe,pe,Ie,He){super(Oe,pe),this.reason=Ie,this.code=He,this.type=We.NavigationSkipped}}class Yn extends sn{constructor(Oe,pe,Ie,He){super(Oe,pe),this.error=Ie,this.target=He,this.type=We.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $n extends sn{constructor(Oe,pe,Ie,He){super(Oe,pe),this.urlAfterRedirects=Ie,this.state=He,this.type=We.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _s extends sn{constructor(Oe,pe,Ie,He){super(Oe,pe),this.urlAfterRedirects=Ie,this.state=He,this.type=We.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ps extends sn{constructor(Oe,pe,Ie,He,ft){super(Oe,pe),this.urlAfterRedirects=Ie,this.state=He,this.shouldActivate=ft,this.type=We.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ms extends sn{constructor(Oe,pe,Ie,He){super(Oe,pe),this.urlAfterRedirects=Ie,this.state=He,this.type=We.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hs extends sn{constructor(Oe,pe,Ie,He){super(Oe,pe),this.urlAfterRedirects=Ie,this.state=He,this.type=We.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bs{constructor(Oe){this.route=Oe,this.type=We.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Oi{constructor(Oe){this.route=Oe,this.type=We.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hi{constructor(Oe){this.snapshot=Oe,this.type=We.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Li{constructor(Oe){this.snapshot=Oe,this.type=We.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $i{constructor(Oe){this.snapshot=Oe,this.type=We.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bo{constructor(Oe){this.snapshot=Oe,this.type=We.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class to{constructor(Oe,pe,Ie){this.routerEvent=Oe,this.position=pe,this.anchor=Ie,this.type=We.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Rs{}class Qs{constructor(Oe){this.url=Oe}}class _r{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Uo,this.attachRef=null}}let Uo=(()=>{class de{constructor(){this.contexts=new Map}onChildOutletCreated(pe,Ie){const He=this.getOrCreateContext(pe);He.outlet=Ie,this.contexts.set(pe,He)}onChildOutletDestroyed(pe){const Ie=this.getContext(pe);Ie&&(Ie.outlet=null,Ie.attachRef=null)}onOutletDeactivated(){const pe=this.contexts;return this.contexts=new Map,pe}onOutletReAttached(pe){this.contexts=pe}getOrCreateContext(pe){let Ie=this.getContext(pe);return Ie||(Ie=new _r,this.contexts.set(pe,Ie)),Ie}getContext(pe){return this.contexts.get(pe)||null}static{this.\u0275fac=function(Ie){return new(Ie||de)}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})();class $t{constructor(Oe){this._root=Oe}get root(){return this._root.value}parent(Oe){const pe=this.pathFromRoot(Oe);return pe.length>1?pe[pe.length-2]:null}children(Oe){const pe=Dn(Oe,this._root);return pe?pe.children.map(Ie=>Ie.value):[]}firstChild(Oe){const pe=Dn(Oe,this._root);return pe&&pe.children.length>0?pe.children[0].value:null}siblings(Oe){const pe=on(Oe,this._root);return pe.length<2?[]:pe[pe.length-2].children.map(He=>He.value).filter(He=>He!==Oe)}pathFromRoot(Oe){return on(Oe,this._root).map(pe=>pe.value)}}function Dn(de,Oe){if(de===Oe.value)return Oe;for(const pe of Oe.children){const Ie=Dn(de,pe);if(Ie)return Ie}return null}function on(de,Oe){if(de===Oe.value)return[Oe];for(const pe of Oe.children){const Ie=on(de,pe);if(Ie.length)return Ie.unshift(Oe),Ie}return[]}class Qt{constructor(Oe,pe){this.value=Oe,this.children=pe}toString(){return`TreeNode(${this.value})`}}function Fn(de){const Oe={};return de&&de.children.forEach(pe=>Oe[pe.value.outlet]=pe),Oe}class qn extends $t{constructor(Oe,pe){super(Oe),this.snapshot=pe,vr(this,Oe)}toString(){return this.snapshot.toString()}}function Ds(de){const Oe=function vi(de){const ft=new hi([],{},{},"",{},fe,de,null,{});return new ho("",new Qt(ft,[]))}(de),pe=new m.t([new Ce("",{})]),Ie=new m.t({}),He=new m.t({}),ft=new m.t({}),Se=new m.t(""),ye=new Ci(pe,Ie,ft,Se,He,fe,de,Oe.root);return ye.snapshot=Oe.root,new qn(new Qt(ye,[]),Oe)}class Ci{constructor(Oe,pe,Ie,He,ft,Se,ye,ae){this.urlSubject=Oe,this.paramsSubject=pe,this.queryParamsSubject=Ie,this.fragmentSubject=He,this.dataSubject=ft,this.outlet=Se,this.component=ye,this._futureSnapshot=ae,this.title=this.dataSubject?.pipe((0,O.T)(Pe=>Pe[se]))??(0,h.of)(void 0),this.url=Oe,this.params=pe,this.queryParams=Ie,this.fragment=He,this.data=ft}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,O.T)(Oe=>De(Oe))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,O.T)(Oe=>De(Oe))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vo(de,Oe,pe="emptyOnly"){let Ie;const{routeConfig:He}=de;return Ie=null===Oe||"always"!==pe&&""!==He?.path&&(Oe.component||Oe.routeConfig?.loadComponent)?{params:{...de.params},data:{...de.data},resolve:{...de.data,...de._resolvedData??{}}}:{params:{...Oe.params,...de.params},data:{...Oe.data,...de.data},resolve:{...de.data,...Oe.data,...He?.data,...de._resolvedData}},He&&yr(He)&&(Ie.resolve[se]=He.title),Ie}class hi{get title(){return this.data?.[se]}constructor(Oe,pe,Ie,He,ft,Se,ye,ae,Pe){this.url=Oe,this.params=pe,this.queryParams=Ie,this.fragment=He,this.data=ft,this.outlet=Se,this.component=ye,this.routeConfig=ae,this._resolve=Pe}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=De(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=De(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Ie=>Ie.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ho extends $t{constructor(Oe,pe){super(pe),this.url=Oe,vr(this,pe)}toString(){return ur(this._root)}}function vr(de,Oe){Oe.value._routerState=de,Oe.children.forEach(pe=>vr(de,pe))}function ur(de){const Oe=de.children.length>0?` { ${de.children.map(ur).join(", ")} } `:"";return`${de.value}${Oe}`}function Xo(de){if(de.snapshot){const Oe=de.snapshot,pe=de._futureSnapshot;de.snapshot=pe,re(Oe.queryParams,pe.queryParams)||de.queryParamsSubject.next(pe.queryParams),Oe.fragment!==pe.fragment&&de.fragmentSubject.next(pe.fragment),re(Oe.params,pe.params)||de.paramsSubject.next(pe.params),function me(de,Oe){if(de.length!==Oe.length)return!1;for(let pe=0;pe<de.length;++pe)if(!re(de[pe],Oe[pe]))return!1;return!0}(Oe.url,pe.url)||de.urlSubject.next(pe.url),re(Oe.data,pe.data)||de.dataSubject.next(pe.data)}else de.snapshot=de._futureSnapshot,de.dataSubject.next(de._futureSnapshot.data)}function Xr(de,Oe){const pe=re(de.params,Oe.params)&&function je(de,Oe){return ut(de,Oe)&&de.every((pe,Ie)=>re(pe.parameters,Oe[Ie].parameters))}(de.url,Oe.url);return pe&&!(!de.parent!=!Oe.parent)&&(!de.parent||Xr(de.parent,Oe.parent))}function yr(de){return"string"==typeof de.title||null===de.title}let Jo=(()=>{class de{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new t.bkB,this.deactivateEvents=new t.bkB,this.attachEvents=new t.bkB,this.detachEvents=new t.bkB,this.parentContexts=(0,t.WQX)(Uo),this.location=(0,t.WQX)(t.c1b),this.changeDetector=(0,t.WQX)(t.gRc),this.environmentInjector=(0,t.WQX)(t.uvJ),this.inputBinder=(0,t.WQX)(er,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(pe){if(pe.name){const{firstChange:Ie,previousValue:He}=pe.name;if(Ie)return;this.isTrackedInParentContexts(He)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(He)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(pe){return this.parentContexts.getContext(pe)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const pe=this.parentContexts.getContext(this.name);pe?.route&&(pe.attachRef?this.attach(pe.attachRef,pe.route):this.activateWith(pe.route,pe.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new t.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new t.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new t.wOt(4012,!1);this.location.detach();const pe=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(pe.instance),pe}attach(pe,Ie){this.activated=pe,this._activatedRoute=Ie,this.location.insert(pe.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(pe.instance)}deactivate(){if(this.activated){const pe=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(pe)}}activateWith(pe,Ie){if(this.isActivated)throw new t.wOt(4013,!1);this._activatedRoute=pe;const He=this.location,Se=pe.snapshot.component,ye=this.parentContexts.getOrCreateContext(this.name).children,ae=new Jr(pe,ye,He.injector);this.activated=He.createComponent(Se,{index:He.length,injector:ae,environmentInjector:Ie??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(Ie){return new(Ie||de)}}static{this.\u0275dir=t.FsC({type:de,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[t.OA$]})}}return de})();class Jr{__ngOutletInjector(Oe){return new Jr(this.route,this.childContexts,Oe)}constructor(Oe,pe,Ie){this.route=Oe,this.childContexts=pe,this.parent=Ie}get(Oe,pe){return Oe===Ci?this.route:Oe===Uo?this.childContexts:this.parent.get(Oe,pe)}}const er=new t.nKC("");let Qr=(()=>{class de{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(pe){this.unsubscribeFromRouteData(pe),this.subscribeToRouteData(pe)}unsubscribeFromRouteData(pe){this.outletDataSubscriptions.get(pe)?.unsubscribe(),this.outletDataSubscriptions.delete(pe)}subscribeToRouteData(pe){const{activatedRoute:Ie}=pe,He=(0,f.z)([Ie.queryParams,Ie.params,Ie.data]).pipe((0,w.n)(([ft,Se,ye],ae)=>(ye={...ft,...Se,...ye},0===ae?(0,h.of)(ye):Promise.resolve(ye)))).subscribe(ft=>{if(!pe.isActivated||!pe.activatedComponentRef||pe.activatedRoute!==Ie||null===Ie.component)return void this.unsubscribeFromRouteData(pe);const Se=(0,t.HJs)(Ie.component);if(Se)for(const{templateName:ye}of Se.inputs)pe.activatedComponentRef.setInput(ye,ft[ye]);else this.unsubscribeFromRouteData(pe)});this.outletDataSubscriptions.set(pe,He)}static{this.\u0275fac=function(Ie){return new(Ie||de)}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac})}}return de})();function Er(de,Oe,pe){if(pe&&de.shouldReuseRoute(Oe.value,pe.value.snapshot)){const Ie=pe.value;Ie._futureSnapshot=Oe.value;const He=function Ks(de,Oe,pe){return Oe.children.map(Ie=>{for(const He of pe.children)if(de.shouldReuseRoute(Ie.value,He.value.snapshot))return Er(de,Ie,He);return Er(de,Ie)})}(de,Oe,pe);return new Qt(Ie,He)}{if(de.shouldAttach(Oe.value)){const ft=de.retrieve(Oe.value);if(null!==ft){const Se=ft.route;return Se.value._futureSnapshot=Oe.value,Se.children=Oe.children.map(ye=>Er(de,ye)),Se}}const Ie=function hr(de){return new Ci(new m.t(de.url),new m.t(de.params),new m.t(de.queryParams),new m.t(de.fragment),new m.t(de.data),de.outlet,de.component,de)}(Oe.value),He=Oe.children.map(ft=>Er(de,ft));return new Qt(Ie,He)}}const Zr="ngNavigationCancelingError";function Qo(de,Oe){const{redirectTo:pe,navigationBehaviorOptions:Ie}=St(Oe)?{redirectTo:Oe,navigationBehaviorOptions:void 0}:Oe,He=jr(!1,Ct.Redirect);return He.url=pe,He.navigationBehaviorOptions=Ie,He}function jr(de,Oe){const pe=new Error(`NavigationCancelingError: ${de||""}`);return pe[Zr]=!0,pe.cancellationCode=Oe,pe}function ra(de){return!!de&&de[Zr]}let rr=(()=>{class de{static{this.\u0275fac=function(Ie){return new(Ie||de)}}static{this.\u0275cmp=t.VBU({type:de,selectors:[["ng-component"]],standalone:!0,features:[t.aNF],decls:1,vars:0,template:function(Ie,He){1&Ie&&t.nrm(0,"router-outlet")},dependencies:[Jo],encapsulation:2})}}return de})();function os(de){const Oe=de.children&&de.children.map(os),pe=Oe?{...de,children:Oe}:{...de};return!pe.component&&!pe.loadComponent&&(Oe||pe.loadChildren)&&pe.outlet&&pe.outlet!==fe&&(pe.component=rr),pe}function Is(de){return de.outlet||fe}function As(de){if(!de)return null;if(de.routeConfig?._injector)return de.routeConfig._injector;for(let Oe=de.parent;Oe;Oe=Oe.parent){const pe=Oe.routeConfig;if(pe?._loadedInjector)return pe._loadedInjector;if(pe?._injector)return pe._injector}return null}class bi{constructor(Oe,pe,Ie,He,ft){this.routeReuseStrategy=Oe,this.futureState=pe,this.currState=Ie,this.forwardEvent=He,this.inputBindingEnabled=ft}activate(Oe){const pe=this.futureState._root,Ie=this.currState?this.currState._root:null;this.deactivateChildRoutes(pe,Ie,Oe),Xo(this.futureState.root),this.activateChildRoutes(pe,Ie,Oe)}deactivateChildRoutes(Oe,pe,Ie){const He=Fn(pe);Oe.children.forEach(ft=>{const Se=ft.value.outlet;this.deactivateRoutes(ft,He[Se],Ie),delete He[Se]}),Object.values(He).forEach(ft=>{this.deactivateRouteAndItsChildren(ft,Ie)})}deactivateRoutes(Oe,pe,Ie){const He=Oe.value,ft=pe?pe.value:null;if(He===ft)if(He.component){const Se=Ie.getContext(He.outlet);Se&&this.deactivateChildRoutes(Oe,pe,Se.children)}else this.deactivateChildRoutes(Oe,pe,Ie);else ft&&this.deactivateRouteAndItsChildren(pe,Ie)}deactivateRouteAndItsChildren(Oe,pe){Oe.value.component&&this.routeReuseStrategy.shouldDetach(Oe.value.snapshot)?this.detachAndStoreRouteSubtree(Oe,pe):this.deactivateRouteAndOutlet(Oe,pe)}detachAndStoreRouteSubtree(Oe,pe){const Ie=pe.getContext(Oe.value.outlet),He=Ie&&Oe.value.component?Ie.children:pe,ft=Fn(Oe);for(const Se of Object.values(ft))this.deactivateRouteAndItsChildren(Se,He);if(Ie&&Ie.outlet){const Se=Ie.outlet.detach(),ye=Ie.children.onOutletDeactivated();this.routeReuseStrategy.store(Oe.value.snapshot,{componentRef:Se,route:Oe,contexts:ye})}}deactivateRouteAndOutlet(Oe,pe){const Ie=pe.getContext(Oe.value.outlet),He=Ie&&Oe.value.component?Ie.children:pe,ft=Fn(Oe);for(const Se of Object.values(ft))this.deactivateRouteAndItsChildren(Se,He);Ie&&(Ie.outlet&&(Ie.outlet.deactivate(),Ie.children.onOutletDeactivated()),Ie.attachRef=null,Ie.route=null)}activateChildRoutes(Oe,pe,Ie){const He=Fn(pe);Oe.children.forEach(ft=>{this.activateRoutes(ft,He[ft.value.outlet],Ie),this.forwardEvent(new Bo(ft.value.snapshot))}),Oe.children.length&&this.forwardEvent(new Li(Oe.value.snapshot))}activateRoutes(Oe,pe,Ie){const He=Oe.value,ft=pe?pe.value:null;if(Xo(He),He===ft)if(He.component){const Se=Ie.getOrCreateContext(He.outlet);this.activateChildRoutes(Oe,pe,Se.children)}else this.activateChildRoutes(Oe,pe,Ie);else if(He.component){const Se=Ie.getOrCreateContext(He.outlet);if(this.routeReuseStrategy.shouldAttach(He.snapshot)){const ye=this.routeReuseStrategy.retrieve(He.snapshot);this.routeReuseStrategy.store(He.snapshot,null),Se.children.onOutletReAttached(ye.contexts),Se.attachRef=ye.componentRef,Se.route=ye.route.value,Se.outlet&&Se.outlet.attach(ye.componentRef,ye.route.value),Xo(ye.route.value),this.activateChildRoutes(Oe,null,Se.children)}else{const ye=As(He.snapshot);Se.attachRef=null,Se.route=He,Se.injector=ye,Se.outlet&&Se.outlet.activateWith(He,Se.injector),this.activateChildRoutes(Oe,null,Se.children)}}else this.activateChildRoutes(Oe,null,Ie)}}class ni{constructor(Oe){this.path=Oe,this.route=this.path[this.path.length-1]}}class bo{constructor(Oe,pe){this.component=Oe,this.route=pe}}function no(de,Oe,pe){const Ie=de._root;return Ys(Ie,Oe?Oe._root:null,pe,[Ie.value])}function so(de,Oe){const pe=Symbol(),Ie=Oe.get(de,pe);return Ie===pe?"function"!=typeof de||(0,t.LfX)(de)?Oe.get(de):de:Ie}function Ys(de,Oe,pe,Ie,He={canDeactivateChecks:[],canActivateChecks:[]}){const ft=Fn(Oe);return de.children.forEach(Se=>{(function io(de,Oe,pe,Ie,He={canDeactivateChecks:[],canActivateChecks:[]}){const ft=de.value,Se=Oe?Oe.value:null,ye=pe?pe.getContext(de.value.outlet):null;if(Se&&ft.routeConfig===Se.routeConfig){const ae=function tr(de,Oe,pe){if("function"==typeof pe)return pe(de,Oe);switch(pe){case"pathParamsChange":return!ut(de.url,Oe.url);case"pathParamsOrQueryParamsChange":return!ut(de.url,Oe.url)||!re(de.queryParams,Oe.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xr(de,Oe)||!re(de.queryParams,Oe.queryParams);default:return!Xr(de,Oe)}}(Se,ft,ft.routeConfig.runGuardsAndResolvers);ae?He.canActivateChecks.push(new ni(Ie)):(ft.data=Se.data,ft._resolvedData=Se._resolvedData),Ys(de,Oe,ft.component?ye?ye.children:null:pe,Ie,He),ae&&ye&&ye.outlet&&ye.outlet.isActivated&&He.canDeactivateChecks.push(new bo(ye.outlet.component,Se))}else Se&&mo(Oe,ye,He),He.canActivateChecks.push(new ni(Ie)),Ys(de,null,ft.component?ye?ye.children:null:pe,Ie,He)})(Se,ft[Se.value.outlet],pe,Ie.concat([Se.value]),He),delete ft[Se.value.outlet]}),Object.entries(ft).forEach(([Se,ye])=>mo(ye,pe.getContext(Se),He)),He}function mo(de,Oe,pe){const Ie=Fn(de),He=de.value;Object.entries(Ie).forEach(([ft,Se])=>{mo(Se,He.component?Oe?Oe.children.getContext(ft):null:Oe,pe)}),pe.canDeactivateChecks.push(new bo(He.component&&Oe&&Oe.outlet&&Oe.outlet.isActivated?Oe.outlet.component:null,He))}function ko(de){return"function"==typeof de}function oe(de){return de instanceof v.G||"EmptyError"===de?.name}const $e=Symbol("INITIAL_VALUE");function _e(){return(0,w.n)(de=>(0,f.z)(de.map(Oe=>Oe.pipe((0,M.s)(1),(0,L.Z)($e)))).pipe((0,O.T)(Oe=>{for(const pe of Oe)if(!0!==pe){if(pe===$e)return $e;if(!1===pe||pe instanceof mt)return pe}return!0}),(0,B.p)(Oe=>Oe!==$e),(0,M.s)(1)))}function Di(de){return(0,C.F)((0,K.M)(Oe=>{if(St(Oe))throw Qo(0,Oe)}),(0,O.T)(Oe=>!0===Oe))}class Ea{constructor(Oe){this.segmentGroup=Oe||null}}class wr extends Error{constructor(Oe){super(),this.urlTree=Oe}}function aa(de){return(0,I.$)(new Ea(de))}class al{constructor(Oe,pe){this.urlSerializer=Oe,this.urlTree=pe}lineralizeSegments(Oe,pe){let Ie=[],He=pe.root;for(;;){if(Ie=Ie.concat(He.segments),0===He.numberOfChildren)return(0,h.of)(Ie);if(He.numberOfChildren>1||!He.children[fe])return(0,I.$)(new t.wOt(4e3,!1));He=He.children[fe]}}applyRedirectCommands(Oe,pe,Ie){const He=this.applyRedirectCreateUrlTree(pe,this.urlSerializer.parse(pe),Oe,Ie);if(pe.startsWith("/"))throw new wr(He);return He}applyRedirectCreateUrlTree(Oe,pe,Ie,He){const ft=this.createSegmentGroup(Oe,pe.root,Ie,He);return new mt(ft,this.createQueryParams(pe.queryParams,this.urlTree.queryParams),pe.fragment)}createQueryParams(Oe,pe){const Ie={};return Object.entries(Oe).forEach(([He,ft])=>{if("string"==typeof ft&&ft.startsWith(":")){const ye=ft.substring(1);Ie[He]=pe[ye]}else Ie[He]=ft}),Ie}createSegmentGroup(Oe,pe,Ie,He){const ft=this.createSegments(Oe,pe.segments,Ie,He);let Se={};return Object.entries(pe.children).forEach(([ye,ae])=>{Se[ye]=this.createSegmentGroup(Oe,ae,Ie,He)}),new Pt(ft,Se)}createSegments(Oe,pe,Ie,He){return pe.map(ft=>ft.path.startsWith(":")?this.findPosParam(Oe,ft,He):this.findOrReturn(ft,Ie))}findPosParam(Oe,pe,Ie){const He=Ie[pe.path.substring(1)];if(!He)throw new t.wOt(4001,!1);return He}findOrReturn(Oe,pe){let Ie=0;for(const He of pe){if(He.path===Oe.path)return pe.splice(Ie),He;Ie++}return Oe}}const Ya={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fa(de,Oe,pe,Ie,He){const ft=ll(de,Oe,pe);return ft.matched?(Ie=function qr(de,Oe){return de.providers&&!de._injector&&(de._injector=(0,t.Ol2)(de.providers,Oe,`Route: ${de.path}`)),de._injector??Oe}(Oe,Ie),function ya(de,Oe,pe,Ie){const He=Oe.canMatch;if(!He||0===He.length)return(0,h.of)(!0);const ft=He.map(Se=>{const ye=so(Se,de);return ht(function Xe(de){return de&&ko(de.canMatch)}(ye)?ye.canMatch(Oe,pe):(0,t.N4e)(de,()=>ye(Oe,pe)))});return(0,h.of)(ft).pipe(_e(),Di())}(Ie,Oe,pe).pipe((0,O.T)(Se=>!0===Se?ft:{...Ya}))):(0,h.of)(ft)}function ll(de,Oe,pe){if("**"===Oe.path)return function Xa(de){return{matched:!0,parameters:de.length>0?tt(de).parameters:{},consumedSegments:de,remainingSegments:[],positionalParamSegments:{}}}(pe);if(""===Oe.path)return"full"===Oe.pathMatch&&(de.hasChildren()||pe.length>0)?{...Ya}:{matched:!0,consumedSegments:[],remainingSegments:pe,parameters:{},positionalParamSegments:{}};const He=(Oe.matcher||be)(pe,de,Oe);if(!He)return{...Ya};const ft={};Object.entries(He.posParams??{}).forEach(([ye,ae])=>{ft[ye]=ae.path});const Se=He.consumed.length>0?{...ft,...He.consumed[He.consumed.length-1].parameters}:ft;return{matched:!0,consumedSegments:He.consumed,remainingSegments:pe.slice(He.consumed.length),parameters:Se,positionalParamSegments:He.posParams??{}}}function cl(de,Oe,pe,Ie){return pe.length>0&&function yo(de,Oe,pe){return pe.some(Ie=>di(de,Oe,Ie)&&Is(Ie)!==fe)}(de,pe,Ie)?{segmentGroup:new Pt(Oe,oo(Ie,new Pt(pe,de.children))),slicedSegments:[]}:0===pe.length&&function Cr(de,Oe,pe){return pe.some(Ie=>di(de,Oe,Ie))}(de,pe,Ie)?{segmentGroup:new Pt(de.segments,oi(de,pe,Ie,de.children)),slicedSegments:pe}:{segmentGroup:new Pt(de.segments,de.children),slicedSegments:pe}}function oi(de,Oe,pe,Ie){const He={};for(const ft of pe)if(di(de,Oe,ft)&&!Ie[Is(ft)]){const Se=new Pt([],{});He[Is(ft)]=Se}return{...Ie,...He}}function oo(de,Oe){const pe={};pe[fe]=Oe;for(const Ie of de)if(""===Ie.path&&Is(Ie)!==fe){const He=new Pt([],{});pe[Is(Ie)]=He}return pe}function di(de,Oe,pe){return(!(de.hasChildren()||Oe.length>0)||"full"!==pe.pathMatch)&&""===pe.path}class Ja{}class la{constructor(Oe,pe,Ie,He,ft,Se,ye){this.injector=Oe,this.configLoader=pe,this.rootComponentType=Ie,this.config=He,this.urlTree=ft,this.paramsInheritanceStrategy=Se,this.urlSerializer=ye,this.applyRedirects=new al(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(Oe){return new t.wOt(4002,`'${Oe.segmentGroup}'`)}recognize(){const Oe=cl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Oe).pipe((0,O.T)(pe=>{const Ie=new hi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},fe,this.rootComponentType,null,{}),He=new Qt(Ie,pe),ft=new ho("",He),Se=function ln(de,Oe,pe=null,Ie=null){return Bn(Tn(de),Oe,pe,Ie)}(Ie,[],this.urlTree.queryParams,this.urlTree.fragment);return Se.queryParams=this.urlTree.queryParams,ft.url=this.urlSerializer.serialize(Se),this.inheritParamsAndData(ft._root,null),{state:ft,tree:Se}}))}match(Oe){return this.processSegmentGroup(this.injector,this.config,Oe,fe).pipe((0,Y.W)(Ie=>{if(Ie instanceof wr)return this.urlTree=Ie.urlTree,this.match(Ie.urlTree.root);throw Ie instanceof Ea?this.noMatchError(Ie):Ie}))}inheritParamsAndData(Oe,pe){const Ie=Oe.value,He=vo(Ie,pe,this.paramsInheritanceStrategy);Ie.params=Object.freeze(He.params),Ie.data=Object.freeze(He.data),Oe.children.forEach(ft=>this.inheritParamsAndData(ft,Ie))}processSegmentGroup(Oe,pe,Ie,He){return 0===Ie.segments.length&&Ie.hasChildren()?this.processChildren(Oe,pe,Ie):this.processSegment(Oe,pe,Ie,Ie.segments,He,!0).pipe((0,O.T)(ft=>ft instanceof Qt?[ft]:[]))}processChildren(Oe,pe,Ie){const He=[];for(const ft of Object.keys(Ie.children))"primary"===ft?He.unshift(ft):He.push(ft);return(0,e.H)(He).pipe((0,U.H)(ft=>{const Se=Ie.children[ft],ye=function Hs(de,Oe){const pe=de.filter(Ie=>Is(Ie)===Oe);return pe.push(...de.filter(Ie=>Is(Ie)!==Oe)),pe}(pe,ft);return this.processSegmentGroup(Oe,ye,Se,ft)}),(0,G.S)((ft,Se)=>(ft.push(...Se),ft)),(0,q.U)(null),(0,z.H)(),(0,k.Z)(ft=>{if(null===ft)return aa(Ie);const Se=Nl(ft);return function Ts(de){de.sort((Oe,pe)=>Oe.value.outlet===fe?-1:pe.value.outlet===fe?1:Oe.value.outlet.localeCompare(pe.value.outlet))}(Se),(0,h.of)(Se)}))}processSegment(Oe,pe,Ie,He,ft,Se){return(0,e.H)(pe).pipe((0,U.H)(ye=>this.processSegmentAgainstRoute(ye._injector??Oe,pe,ye,Ie,He,ft,Se).pipe((0,Y.W)(ae=>{if(ae instanceof Ea)return(0,h.of)(null);throw ae}))),(0,W.$)(ye=>!!ye),(0,Y.W)(ye=>{if(oe(ye))return function ba(de,Oe,pe){return 0===Oe.length&&!de.children[pe]}(Ie,He,ft)?(0,h.of)(new Ja):aa(Ie);throw ye}))}processSegmentAgainstRoute(Oe,pe,Ie,He,ft,Se,ye){return function Ca(de,Oe,pe,Ie){return!!(Is(de)===Ie||Ie!==fe&&di(Oe,pe,de))&&ll(Oe,de,pe).matched}(Ie,He,ft,Se)?void 0===Ie.redirectTo?this.matchSegmentAgainstRoute(Oe,He,Ie,ft,Se):this.allowRedirects&&ye?this.expandSegmentAgainstRouteUsingRedirect(Oe,He,pe,Ie,ft,Se):aa(He):aa(He)}expandSegmentAgainstRouteUsingRedirect(Oe,pe,Ie,He,ft,Se){const{matched:ye,consumedSegments:ae,positionalParamSegments:Pe,remainingSegments:nt}=ll(pe,He,ft);if(!ye)return aa(pe);He.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const jt=this.applyRedirects.applyRedirectCommands(ae,He.redirectTo,Pe);return this.applyRedirects.lineralizeSegments(He,jt).pipe((0,k.Z)(_n=>this.processSegment(Oe,Ie,pe,_n.concat(nt),Se,!1)))}matchSegmentAgainstRoute(Oe,pe,Ie,He,ft){const Se=Fa(pe,Ie,He,Oe);return"**"===Ie.path&&(pe.children={}),Se.pipe((0,w.n)(ye=>ye.matched?this.getChildConfig(Oe=Ie._injector??Oe,Ie,He).pipe((0,w.n)(({routes:ae})=>{const Pe=Ie._loadedInjector??Oe,{consumedSegments:nt,remainingSegments:jt,parameters:_n}=ye,Ln=new hi(nt,_n,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Lc(de){return de.data||{}}(Ie),Is(Ie),Ie.component??Ie._loadedComponent??null,Ie,function qo(de){return de.resolve||{}}(Ie)),{segmentGroup:as,slicedSegments:gs}=cl(pe,nt,jt,ae);if(0===gs.length&&as.hasChildren())return this.processChildren(Pe,ae,as).pipe((0,O.T)(Ji=>null===Ji?null:new Qt(Ln,Ji)));if(0===ae.length&&0===gs.length)return(0,h.of)(new Qt(Ln,[]));const ys=Is(Ie)===ft;return this.processSegment(Pe,ae,as,gs,ys?fe:ft,!0).pipe((0,O.T)(Ji=>new Qt(Ln,Ji instanceof Qt?[Ji]:[])))})):aa(pe)))}getChildConfig(Oe,pe,Ie){return pe.children?(0,h.of)({routes:pe.children,injector:Oe}):pe.loadChildren?void 0!==pe._loadedRoutes?(0,h.of)({routes:pe._loadedRoutes,injector:pe._loadedInjector}):function Vo(de,Oe,pe,Ie){const He=Oe.canLoad;if(void 0===He||0===He.length)return(0,h.of)(!0);const ft=He.map(Se=>{const ye=so(Se,de);return ht(function Do(de){return de&&ko(de.canLoad)}(ye)?ye.canLoad(Oe,pe):(0,t.N4e)(de,()=>ye(Oe,pe)))});return(0,h.of)(ft).pipe(_e(),Di())}(Oe,pe,Ie).pipe((0,k.Z)(He=>He?this.configLoader.loadChildren(Oe,pe).pipe((0,K.M)(ft=>{pe._loadedRoutes=ft.routes,pe._loadedInjector=ft.injector})):function Ll(de){return(0,I.$)(jr(!1,Ct.GuardRejected))}())):(0,h.of)({routes:[],injector:Oe})}}function ea(de){const Oe=de.value.routeConfig;return Oe&&""===Oe.path}function Nl(de){const Oe=[],pe=new Set;for(const Ie of de){if(!ea(Ie)){Oe.push(Ie);continue}const He=Oe.find(ft=>Ie.value.routeConfig===ft.value.routeConfig);void 0!==He?(He.children.push(...Ie.children),pe.add(He)):Oe.push(Ie)}for(const Ie of pe){const He=Nl(Ie.children);Oe.push(new Qt(Ie.value,He))}return Oe.filter(Ie=>!pe.has(Ie))}function Br(de){const Oe=de.children.map(pe=>Br(pe)).flat();return[de,...Oe]}function nr(de){return(0,w.n)(Oe=>{const pe=de(Oe);return pe?(0,e.H)(pe).pipe((0,O.T)(()=>Oe)):(0,h.of)(Oe)})}let br=(()=>{class de{buildTitle(pe){let Ie,He=pe.root;for(;void 0!==He;)Ie=this.getResolvedTitleForRoute(He)??Ie,He=He.children.find(ft=>ft.outlet===fe);return Ie}getResolvedTitleForRoute(pe){return pe.data[se]}static{this.\u0275fac=function(Ie){return new(Ie||de)}}static{this.\u0275prov=t.jDH({token:de,factory:()=>(0,t.WQX)(Wi),providedIn:"root"})}}return de})(),Wi=(()=>{class de extends br{constructor(pe){super(),this.title=pe}updateTitle(pe){const Ie=this.buildTitle(pe);void 0!==Ie&&this.title.setTitle(Ie)}static{this.\u0275fac=function(Ie){return new(Ie||de)(t.KVO(ne.hE))}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})();const kt=new t.nKC("",{providedIn:"root",factory:()=>({})}),un=new t.nKC("");let xt=(()=>{class de{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,t.WQX)(t.Ql9)}loadComponent(pe){if(this.componentLoaders.get(pe))return this.componentLoaders.get(pe);if(pe._loadedComponent)return(0,h.of)(pe._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(pe);const Ie=ht(pe.loadComponent()).pipe((0,O.T)(rs),(0,K.M)(ft=>{this.onLoadEndListener&&this.onLoadEndListener(pe),pe._loadedComponent=ft}),(0,J.j)(()=>{this.componentLoaders.delete(pe)})),He=new T.G(Ie,()=>new A.B).pipe((0,Q.B)());return this.componentLoaders.set(pe,He),He}loadChildren(pe,Ie){if(this.childrenLoaders.get(Ie))return this.childrenLoaders.get(Ie);if(Ie._loadedRoutes)return(0,h.of)({routes:Ie._loadedRoutes,injector:Ie._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Ie);const ft=function Rn(de,Oe,pe,Ie){return ht(de.loadChildren()).pipe((0,O.T)(rs),(0,k.Z)(He=>He instanceof t.Co$||Array.isArray(He)?(0,h.of)(He):(0,e.H)(Oe.compileModuleAsync(He))),(0,O.T)(He=>{Ie&&Ie(de);let ft,Se,ye=!1;return Array.isArray(He)?(Se=He,!0):(ft=He.create(pe).injector,Se=ft.get(un,[],{optional:!0,self:!0}).flat()),{routes:Se.map(os),injector:ft}}))}(Ie,this.compiler,pe,this.onLoadEndListener).pipe((0,J.j)(()=>{this.childrenLoaders.delete(Ie)})),Se=new T.G(ft,()=>new A.B).pipe((0,Q.B)());return this.childrenLoaders.set(Ie,Se),Se}static{this.\u0275fac=function(Ie){return new(Ie||de)}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})();function rs(de){return function Wn(de){return de&&"object"==typeof de&&"default"in de}(de)?de.default:de}let Us=(()=>{class de{static{this.\u0275fac=function(Ie){return new(Ie||de)}}static{this.\u0275prov=t.jDH({token:de,factory:()=>(0,t.WQX)(Qn),providedIn:"root"})}}return de})(),Qn=(()=>{class de{shouldProcessUrl(pe){return!0}extract(pe){return pe}merge(pe,Ie){return pe}static{this.\u0275fac=function(Ie){return new(Ie||de)}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})();const gi=new t.nKC(""),Ni=new t.nKC("");function Zi(de,Oe,pe){const Ie=de.get(Ni),He=de.get(x.qQ);return de.get(t.SKi).runOutsideAngular(()=>{if(!He.startViewTransition||Ie.skipNextTransition)return Ie.skipNextTransition=!1,new Promise(Pe=>setTimeout(Pe));let ft;const Se=new Promise(Pe=>{ft=Pe}),ye=He.startViewTransition(()=>(ft(),function ki(de){return new Promise(Oe=>{(0,t.mal)(Oe,{injector:de})})}(de))),{onViewTransitionCreated:ae}=Ie;return ae&&(0,t.N4e)(de,()=>ae({transition:ye,from:Oe,to:pe})),Se})}let kn=(()=>{class de{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new A.B,this.transitionAbortSubject=new A.B,this.configLoader=(0,t.WQX)(xt),this.environmentInjector=(0,t.WQX)(t.uvJ),this.urlSerializer=(0,t.WQX)(an),this.rootContexts=(0,t.WQX)(Uo),this.location=(0,t.WQX)(x.aZ),this.inputBindingEnabled=null!==(0,t.WQX)(er,{optional:!0}),this.titleStrategy=(0,t.WQX)(br),this.options=(0,t.WQX)(kt,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,t.WQX)(Us),this.createViewTransition=(0,t.WQX)(gi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,h.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=He=>this.events.next(new Oi(He)),this.configLoader.onLoadStartListener=He=>this.events.next(new bs(He))}complete(){this.transitions?.complete()}handleNavigationRequest(pe){const Ie=++this.navigationId;this.transitions?.next({...this.transitions.value,...pe,id:Ie})}setupNavigations(pe,Ie,He){return this.transitions=new m.t({id:0,currentUrlTree:Ie,currentRawUrl:Ie,extractedUrl:this.urlHandlingStrategy.extract(Ie),urlAfterRedirects:this.urlHandlingStrategy.extract(Ie),rawUrl:Ie,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ht,restoredState:null,currentSnapshot:He.snapshot,targetSnapshot:null,currentRouterState:He,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,B.p)(ft=>0!==ft.id),(0,O.T)(ft=>({...ft,extractedUrl:this.urlHandlingStrategy.extract(ft.rawUrl)})),(0,w.n)(ft=>{let Se=!1,ye=!1;return(0,h.of)(ft).pipe((0,w.n)(ae=>{if(this.navigationId>ft.id)return this.cancelNavigationTransition(ft,"",Ct.SupersededByNewNavigation),R.w;this.currentTransition=ft,this.currentNavigation={id:ae.id,initialUrl:ae.rawUrl,extractedUrl:ae.extractedUrl,trigger:ae.source,extras:ae.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Pe=!pe.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Pe&&"reload"!==(ae.extras.onSameUrlNavigation??pe.onSameUrlNavigation)){const jt="";return this.events.next(new An(ae.id,this.urlSerializer.serialize(ae.rawUrl),jt,Wt.IgnoredSameUrlNavigation)),ae.resolve(null),R.w}if(this.urlHandlingStrategy.shouldProcessUrl(ae.rawUrl))return(0,h.of)(ae).pipe((0,w.n)(jt=>{const _n=this.transitions?.getValue();return this.events.next(new lt(jt.id,this.urlSerializer.serialize(jt.extractedUrl),jt.source,jt.restoredState)),_n!==this.transitions?.getValue()?R.w:Promise.resolve(jt)}),function ca(de,Oe,pe,Ie,He,ft){return(0,k.Z)(Se=>function ic(de,Oe,pe,Ie,He,ft,Se="emptyOnly"){return new la(de,Oe,pe,Ie,He,Se,ft).recognize()}(de,Oe,pe,Ie,Se.extractedUrl,He,ft).pipe((0,O.T)(({state:ye,tree:ae})=>({...Se,targetSnapshot:ye,urlAfterRedirects:ae}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,pe.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,K.M)(jt=>{ft.targetSnapshot=jt.targetSnapshot,ft.urlAfterRedirects=jt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:jt.urlAfterRedirects};const _n=new $n(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot);this.events.next(_n)}));if(Pe&&this.urlHandlingStrategy.shouldProcessUrl(ae.currentRawUrl)){const{id:jt,extractedUrl:_n,source:Ln,restoredState:as,extras:gs}=ae,ys=new lt(jt,this.urlSerializer.serialize(_n),Ln,as);this.events.next(ys);const Ji=Ds(this.rootComponentType).snapshot;return this.currentTransition=ft={...ae,targetSnapshot:Ji,urlAfterRedirects:_n,extras:{...gs,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=_n,(0,h.of)(ft)}{const jt="";return this.events.next(new An(ae.id,this.urlSerializer.serialize(ae.extractedUrl),jt,Wt.IgnoredByUrlHandlingStrategy)),ae.resolve(null),R.w}}),(0,K.M)(ae=>{const Pe=new _s(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot);this.events.next(Pe)}),(0,O.T)(ae=>(this.currentTransition=ft={...ae,guards:no(ae.targetSnapshot,ae.currentSnapshot,this.rootContexts)},ft)),function Tt(de,Oe){return(0,k.Z)(pe=>{const{targetSnapshot:Ie,currentSnapshot:He,guards:{canActivateChecks:ft,canDeactivateChecks:Se}}=pe;return 0===Se.length&&0===ft.length?(0,h.of)({...pe,guardsResult:!0}):function Xt(de,Oe,pe,Ie){return(0,e.H)(de).pipe((0,k.Z)(He=>function zi(de,Oe,pe,Ie,He){const ft=Oe&&Oe.routeConfig?Oe.routeConfig.canDeactivate:null;if(!ft||0===ft.length)return(0,h.of)(!0);const Se=ft.map(ye=>{const ae=As(Oe)??He,Pe=so(ye,ae);return ht(function Ge(de){return de&&ko(de.canDeactivate)}(Pe)?Pe.canDeactivate(de,Oe,pe,Ie):(0,t.N4e)(ae,()=>Pe(de,Oe,pe,Ie))).pipe((0,W.$)())});return(0,h.of)(Se).pipe(_e())}(He.component,He.route,pe,Oe,Ie)),(0,W.$)(He=>!0!==He,!0))}(Se,Ie,He,de).pipe((0,k.Z)(ye=>ye&&function Ar(de){return"boolean"==typeof de}(ye)?function In(de,Oe,pe,Ie){return(0,e.H)(Oe).pipe((0,U.H)(He=>(0,E.x)(function ps(de,Oe){return null!==de&&Oe&&Oe(new Hi(de)),(0,h.of)(!0)}(He.route.parent,Ie),function ns(de,Oe){return null!==de&&Oe&&Oe(new $i(de)),(0,h.of)(!0)}(He.route,Ie),function Qi(de,Oe,pe){const Ie=Oe[Oe.length-1],ft=Oe.slice(0,Oe.length-1).reverse().map(Se=>function Io(de){const Oe=de.routeConfig?de.routeConfig.canActivateChild:null;return Oe&&0!==Oe.length?{node:de,guards:Oe}:null}(Se)).filter(Se=>null!==Se).map(Se=>(0,_.v)(()=>{const ye=Se.guards.map(ae=>{const Pe=As(Se.node)??pe,nt=so(ae,Pe);return ht(function va(de){return de&&ko(de.canActivateChild)}(nt)?nt.canActivateChild(Ie,de):(0,t.N4e)(Pe,()=>nt(Ie,de))).pipe((0,W.$)())});return(0,h.of)(ye).pipe(_e())}));return(0,h.of)(ft).pipe(_e())}(de,He.path,pe),function js(de,Oe,pe){const Ie=Oe.routeConfig?Oe.routeConfig.canActivate:null;if(!Ie||0===Ie.length)return(0,h.of)(!0);const He=Ie.map(ft=>(0,_.v)(()=>{const Se=As(Oe)??pe,ye=so(ft,Se);return ht(function Zo(de){return de&&ko(de.canActivate)}(ye)?ye.canActivate(Oe,de):(0,t.N4e)(Se,()=>ye(Oe,de))).pipe((0,W.$)())}));return(0,h.of)(He).pipe(_e())}(de,He.route,pe))),(0,W.$)(He=>!0!==He,!0))}(Ie,ft,de,Oe):(0,h.of)(ye)),(0,O.T)(ye=>({...pe,guardsResult:ye})))})}(this.environmentInjector,ae=>this.events.next(ae)),(0,K.M)(ae=>{if(ft.guardsResult=ae.guardsResult,St(ae.guardsResult))throw Qo(0,ae.guardsResult);const Pe=new Ps(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot,!!ae.guardsResult);this.events.next(Pe)}),(0,B.p)(ae=>!!ae.guardsResult||(this.cancelNavigationTransition(ae,"",Ct.GuardRejected),!1)),nr(ae=>{if(ae.guards.canActivateChecks.length)return(0,h.of)(ae).pipe((0,K.M)(Pe=>{const nt=new Ms(Pe.id,this.urlSerializer.serialize(Pe.extractedUrl),this.urlSerializer.serialize(Pe.urlAfterRedirects),Pe.targetSnapshot);this.events.next(nt)}),(0,w.n)(Pe=>{let nt=!1;return(0,h.of)(Pe).pipe(function Fl(de,Oe){return(0,k.Z)(pe=>{const{targetSnapshot:Ie,guards:{canActivateChecks:He}}=pe;if(!He.length)return(0,h.of)(pe);const ft=new Set(He.map(ae=>ae.route)),Se=new Set;for(const ae of ft)if(!Se.has(ae))for(const Pe of Br(ae))Se.add(Pe);let ye=0;return(0,e.H)(Se).pipe((0,U.H)(ae=>ft.has(ae)?function Qa(de,Oe,pe,Ie){const He=de.routeConfig,ft=de._resolve;return void 0!==He?.title&&!yr(He)&&(ft[se]=He.title),function ro(de,Oe,pe,Ie){const He=Ee(de);if(0===He.length)return(0,h.of)({});const ft={};return(0,e.H)(He).pipe((0,k.Z)(Se=>function Da(de,Oe,pe,Ie){const He=As(Oe)??Ie,ft=so(de,He);return ht(ft.resolve?ft.resolve(Oe,pe):(0,t.N4e)(He,()=>ft(Oe,pe)))}(de[Se],Oe,pe,Ie).pipe((0,W.$)(),(0,K.M)(ye=>{ft[Se]=ye}))),(0,te.o)(1),(0,Z.u)(ft),(0,Y.W)(Se=>oe(Se)?R.w:(0,I.$)(Se)))}(ft,de,Oe,Ie).pipe((0,O.T)(Se=>(de._resolvedData=Se,de.data=vo(de,de.parent,pe).resolve,null)))}(ae,Ie,de,Oe):(ae.data=vo(ae,ae.parent,de).resolve,(0,h.of)(void 0))),(0,K.M)(()=>ye++),(0,te.o)(1),(0,k.Z)(ae=>ye===Se.size?(0,h.of)(pe):R.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,K.M)({next:()=>nt=!0,complete:()=>{nt||this.cancelNavigationTransition(Pe,"",Ct.NoDataFromResolver)}}))}),(0,K.M)(Pe=>{const nt=new hs(Pe.id,this.urlSerializer.serialize(Pe.extractedUrl),this.urlSerializer.serialize(Pe.urlAfterRedirects),Pe.targetSnapshot);this.events.next(nt)}))}),nr(ae=>{const Pe=nt=>{const jt=[];nt.routeConfig?.loadComponent&&!nt.routeConfig._loadedComponent&&jt.push(this.configLoader.loadComponent(nt.routeConfig).pipe((0,K.M)(_n=>{nt.component=_n}),(0,O.T)(()=>{})));for(const _n of nt.children)jt.push(...Pe(_n));return jt};return(0,f.z)(Pe(ae.targetSnapshot.root)).pipe((0,q.U)(null),(0,M.s)(1))}),nr(()=>this.afterPreactivation()),(0,w.n)(()=>{const{currentSnapshot:ae,targetSnapshot:Pe}=ft,nt=this.createViewTransition?.(this.environmentInjector,ae.root,Pe.root);return nt?(0,e.H)(nt).pipe((0,O.T)(()=>ft)):(0,h.of)(ft)}),(0,O.T)(ae=>{const Pe=function po(de,Oe,pe){const Ie=Er(de,Oe._root,pe?pe._root:void 0);return new qn(Ie,Oe)}(pe.routeReuseStrategy,ae.targetSnapshot,ae.currentRouterState);return this.currentTransition=ft={...ae,targetRouterState:Pe},this.currentNavigation.targetRouterState=Pe,ft}),(0,K.M)(()=>{this.events.next(new Rs)}),((de,Oe,pe,Ie)=>(0,O.T)(He=>(new bi(Oe,He.targetRouterState,He.currentRouterState,pe,Ie).activate(de),He)))(this.rootContexts,pe.routeReuseStrategy,ae=>this.events.next(ae),this.inputBindingEnabled),(0,M.s)(1),(0,K.M)({next:ae=>{Se=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gt(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects))),this.titleStrategy?.updateTitle(ae.targetRouterState.snapshot),ae.resolve(!0)},complete:()=>{Se=!0}}),(0,ee.Q)(this.transitionAbortSubject.pipe((0,K.M)(ae=>{throw ae}))),(0,J.j)(()=>{!Se&&!ye&&this.cancelNavigationTransition(ft,"",Ct.SupersededByNewNavigation),this.currentTransition?.id===ft.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,Y.W)(ae=>{if(ye=!0,ra(ae))this.events.next(new fn(ft.id,this.urlSerializer.serialize(ft.extractedUrl),ae.message,ae.cancellationCode)),function Na(de){return ra(de)&&St(de.url)}(ae)?this.events.next(new Qs(ae.url)):ft.resolve(!1);else{this.events.next(new Yn(ft.id,this.urlSerializer.serialize(ft.extractedUrl),ae,ft.targetSnapshot??void 0));try{ft.resolve(pe.errorHandler(ae))}catch(Pe){this.options.resolveNavigationPromiseOnError?ft.resolve(!1):ft.reject(Pe)}}return R.w}))}))}cancelNavigationTransition(pe,Ie,He){const ft=new fn(pe.id,this.urlSerializer.serialize(pe.extractedUrl),Ie,He);this.events.next(ft),pe.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(Ie){return new(Ie||de)}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})();function ao(de){return de!==Ht}let lo=(()=>{class de{static{this.\u0275fac=function(Ie){return new(Ie||de)}}static{this.\u0275prov=t.jDH({token:de,factory:()=>(0,t.WQX)(Je),providedIn:"root"})}}return de})();class he{shouldDetach(Oe){return!1}store(Oe,pe){}shouldAttach(Oe){return!1}retrieve(Oe){return null}shouldReuseRoute(Oe,pe){return Oe.routeConfig===pe.routeConfig}}let Je=(()=>{class de extends he{static{this.\u0275fac=(()=>{let pe;return function(He){return(pe||(pe=t.xGo(de)))(He||de)}})()}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})(),Re=(()=>{class de{static{this.\u0275fac=function(Ie){return new(Ie||de)}}static{this.\u0275prov=t.jDH({token:de,factory:()=>(0,t.WQX)(ze),providedIn:"root"})}}return de})(),ze=(()=>{class de extends Re{constructor(){super(...arguments),this.location=(0,t.WQX)(x.aZ),this.urlSerializer=(0,t.WQX)(an),this.options=(0,t.WQX)(kt,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,t.WQX)(Us),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ds(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(pe){return this.location.subscribe(Ie=>{"popstate"===Ie.type&&pe(Ie.url,Ie.state)})}handleRouterEvent(pe,Ie){if(pe instanceof lt)this.stateMemento=this.createStateMemento();else if(pe instanceof An)this.rawUrlTree=Ie.initialUrl;else if(pe instanceof $n){if("eager"===this.urlUpdateStrategy&&!Ie.extras.skipLocationChange){const He=this.urlHandlingStrategy.merge(Ie.finalUrl,Ie.initialUrl);this.setBrowserUrl(He,Ie)}}else pe instanceof Rs?(this.currentUrlTree=Ie.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Ie.finalUrl,Ie.initialUrl),this.routerState=Ie.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ie.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ie))):pe instanceof fn&&(pe.code===Ct.GuardRejected||pe.code===Ct.NoDataFromResolver)?this.restoreHistory(Ie):pe instanceof Yn?this.restoreHistory(Ie,!0):pe instanceof gt&&(this.lastSuccessfulId=pe.id,this.currentPageId=this.browserPageId)}setBrowserUrl(pe,Ie){const He=this.urlSerializer.serialize(pe);if(this.location.isCurrentPathEqualTo(He)||Ie.extras.replaceUrl){const Se={...Ie.extras.state,...this.generateNgRouterState(Ie.id,this.browserPageId)};this.location.replaceState(He,"",Se)}else{const ft={...Ie.extras.state,...this.generateNgRouterState(Ie.id,this.browserPageId+1)};this.location.go(He,"",ft)}}restoreHistory(pe,Ie=!1){if("computed"===this.canceledNavigationResolution){const ft=this.currentPageId-this.browserPageId;0!==ft?this.location.historyGo(ft):this.currentUrlTree===pe.finalUrl&&0===ft&&(this.resetState(pe),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Ie&&this.resetState(pe),this.resetUrlToCurrentUrlTree())}resetState(pe){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,pe.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(pe,Ie){return"computed"===this.canceledNavigationResolution?{navigationId:pe,\u0275routerPageId:Ie}:{navigationId:pe}}static{this.\u0275fac=(()=>{let pe;return function(He){return(pe||(pe=t.xGo(de)))(He||de)}})()}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})();var Lt=function(de){return de[de.COMPLETE=0]="COMPLETE",de[de.FAILED=1]="FAILED",de[de.REDIRECTING=2]="REDIRECTING",de}(Lt||{});function On(de,Oe){de.events.pipe((0,B.p)(pe=>pe instanceof gt||pe instanceof fn||pe instanceof Yn||pe instanceof An),(0,O.T)(pe=>pe instanceof gt||pe instanceof An?Lt.COMPLETE:pe instanceof fn&&(pe.code===Ct.Redirect||pe.code===Ct.SupersededByNewNavigation)?Lt.REDIRECTING:Lt.FAILED),(0,B.p)(pe=>pe!==Lt.REDIRECTING),(0,M.s)(1)).subscribe(()=>{Oe()})}function Un(de){throw de}const fs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ri={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ns=(()=>{class de{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,t.WQX)(t.H3F),this.stateManager=(0,t.WQX)(Re),this.options=(0,t.WQX)(kt,{optional:!0})||{},this.pendingTasks=(0,t.WQX)(t.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,t.WQX)(kn),this.urlSerializer=(0,t.WQX)(an),this.location=(0,t.WQX)(x.aZ),this.urlHandlingStrategy=(0,t.WQX)(Us),this._events=new A.B,this.errorHandler=this.options.errorHandler||Un,this.navigated=!1,this.routeReuseStrategy=(0,t.WQX)(lo),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,t.WQX)(un,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,t.WQX)(er,{optional:!0}),this.eventsSubscription=new p.yU,this.isNgZoneEnabled=(0,t.WQX)(t.SKi)instanceof t.SKi&&t.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:pe=>{this.console.warn(pe)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const pe=this.navigationTransitions.events.subscribe(Ie=>{try{const He=this.navigationTransitions.currentTransition,ft=this.navigationTransitions.currentNavigation;if(null!==He&&null!==ft)if(this.stateManager.handleRouterEvent(Ie,ft),Ie instanceof fn&&Ie.code!==Ct.Redirect&&Ie.code!==Ct.SupersededByNewNavigation)this.navigated=!0;else if(Ie instanceof gt)this.navigated=!0;else if(Ie instanceof Qs){const Se=this.urlHandlingStrategy.merge(Ie.url,He.currentRawUrl),ye={info:He.extras.info,skipLocationChange:He.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ao(He.source)};this.scheduleNavigation(Se,Ht,null,ye,{resolve:He.resolve,reject:He.reject,promise:He.promise})}(function ui(de){return!(de instanceof Rs||de instanceof Qs)})(Ie)&&this._events.next(Ie)}catch(He){this.navigationTransitions.transitionAbortSubject.next(He)}});this.eventsSubscription.add(pe)}resetRootComponentType(pe){this.routerState.root.component=pe,this.navigationTransitions.rootComponentType=pe}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ht,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((pe,Ie)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(pe,"popstate",Ie)},0)})}navigateToSyncWithBrowser(pe,Ie,He){const ft={replaceUrl:!0},Se=He?.navigationId?He:null;if(He){const ae={...He};delete ae.navigationId,delete ae.\u0275routerPageId,0!==Object.keys(ae).length&&(ft.state=ae)}const ye=this.parseUrl(pe);this.scheduleNavigation(ye,Ie,Se,ft)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(pe){this.config=pe.map(os),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(pe,Ie={}){const{relativeTo:He,queryParams:ft,fragment:Se,queryParamsHandling:ye,preserveFragment:ae}=Ie,Pe=ae?this.currentUrlTree.fragment:Se;let jt,nt=null;switch(ye){case"merge":nt={...this.currentUrlTree.queryParams,...ft};break;case"preserve":nt=this.currentUrlTree.queryParams;break;default:nt=ft||null}null!==nt&&(nt=this.removeEmptyProps(nt));try{jt=Tn(He?He.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof pe[0]||!pe[0].startsWith("/"))&&(pe=[]),jt=this.currentUrlTree.root}return Bn(jt,pe,nt,Pe??null)}navigateByUrl(pe,Ie={skipLocationChange:!1}){const He=St(pe)?pe:this.parseUrl(pe),ft=this.urlHandlingStrategy.merge(He,this.rawUrlTree);return this.scheduleNavigation(ft,Ht,null,Ie)}navigate(pe,Ie={skipLocationChange:!1}){return function Xn(de){for(let Oe=0;Oe<de.length;Oe++)if(null==de[Oe])throw new t.wOt(4008,!1)}(pe),this.navigateByUrl(this.createUrlTree(pe,Ie),Ie)}serializeUrl(pe){return this.urlSerializer.serialize(pe)}parseUrl(pe){try{return this.urlSerializer.parse(pe)}catch{return this.urlSerializer.parse("/")}}isActive(pe,Ie){let He;if(He=!0===Ie?{...fs}:!1===Ie?{...Ri}:Ie,St(pe))return Ye(this.currentUrlTree,pe,He);const ft=this.parseUrl(pe);return Ye(this.currentUrlTree,ft,He)}removeEmptyProps(pe){return Object.entries(pe).reduce((Ie,[He,ft])=>(null!=ft&&(Ie[He]=ft),Ie),{})}scheduleNavigation(pe,Ie,He,ft,Se){if(this.disposed)return Promise.resolve(!1);let ye,ae,Pe;Se?(ye=Se.resolve,ae=Se.reject,Pe=Se.promise):Pe=new Promise((jt,_n)=>{ye=jt,ae=_n});const nt=this.pendingTasks.add();return On(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(nt))}),this.navigationTransitions.handleNavigationRequest({source:Ie,restoredState:He,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:pe,extras:ft,resolve:ye,reject:ae,promise:Pe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pe.catch(jt=>Promise.reject(jt))}static{this.\u0275fac=function(Ie){return new(Ie||de)}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})(),Fi=(()=>{class de{constructor(pe,Ie,He,ft,Se,ye){this.router=pe,this.route=Ie,this.tabIndexAttribute=He,this.renderer=ft,this.el=Se,this.locationStrategy=ye,this.href=null,this.commands=null,this.onChanges=new A.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ae=Se.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ae||"area"===ae,this.isAnchorElement?this.subscription=pe.events.subscribe(Pe=>{Pe instanceof gt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(pe){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",pe)}ngOnChanges(pe){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(pe){null!=pe?(this.commands=Array.isArray(pe)?pe:[pe],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(pe,Ie,He,ft,Se){const ye=this.urlTree;return!!(null===ye||this.isAnchorElement&&(0!==pe||Ie||He||ft||Se||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(ye,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const pe=this.urlTree;this.href=null!==pe&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(pe)):null;const Ie=null===this.href?null:(0,t.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Ie)}applyAttributeValue(pe,Ie){const He=this.renderer,ft=this.el.nativeElement;null!==Ie?He.setAttribute(ft,pe,Ie):He.removeAttribute(ft,pe)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(Ie){return new(Ie||de)(t.rXU(Ns),t.rXU(Ci),t.kS0("tabindex"),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(x.hb))}}static{this.\u0275dir=t.FsC({type:de,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Ie,He){1&Ie&&t.bIt("click",function(Se){return He.onClick(Se.button,Se.ctrlKey,Se.shiftKey,Se.altKey,Se.metaKey)}),2&Ie&&t.BMQ("target",He.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[t.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",t.L39],skipLocationChange:[t.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",t.L39],replaceUrl:[t.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",t.L39],routerLink:"routerLink"},standalone:!0,features:[t.GFd,t.OA$]})}}return de})(),Mi=(()=>{class de{get isActive(){return this._isActive}constructor(pe,Ie,He,ft,Se){this.router=pe,this.element=Ie,this.renderer=He,this.cdr=ft,this.link=Se,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new t.bkB,this.routerEventsSubscription=pe.events.subscribe(ye=>{ye instanceof gt&&this.update()})}ngAfterContentInit(){(0,h.of)(this.links.changes,(0,h.of)(null)).pipe((0,le.U)()).subscribe(pe=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const pe=[...this.links.toArray(),this.link].filter(Ie=>!!Ie).map(Ie=>Ie.onChanges);this.linkInputChangesSubscription=(0,e.H)(pe).pipe((0,le.U)()).subscribe(Ie=>{this._isActive!==this.isLinkActive(this.router)(Ie)&&this.update()})}set routerLinkActive(pe){const Ie=Array.isArray(pe)?pe:pe.split(" ");this.classes=Ie.filter(He=>!!He)}ngOnChanges(pe){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const pe=this.hasActiveLinks();this.classes.forEach(Ie=>{pe?this.renderer.addClass(this.element.nativeElement,Ie):this.renderer.removeClass(this.element.nativeElement,Ie)}),pe&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==pe&&(this._isActive=pe,this.cdr.markForCheck(),this.isActiveChange.emit(pe))})}isLinkActive(pe){const Ie=function So(de){return!!de.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return He=>{const ft=He.urlTree;return!!ft&&pe.isActive(ft,Ie)}}hasActiveLinks(){const pe=this.isLinkActive(this.router);return this.link&&pe(this.link)||this.links.some(pe)}static{this.\u0275fac=function(Ie){return new(Ie||de)(t.rXU(Ns),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(Fi,8))}}static{this.\u0275dir=t.FsC({type:de,selectors:[["","routerLinkActive",""]],contentQueries:function(Ie,He,ft){if(1&Ie&&t.wni(ft,Fi,5),2&Ie){let Se;t.mGM(Se=t.lsd())&&(He.links=Se)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[t.OA$]})}}return de})();class Go{}let es=(()=>{class de{preload(pe,Ie){return(0,h.of)(null)}static{this.\u0275fac=function(Ie){return new(Ie||de)}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})(),ws=(()=>{class de{constructor(pe,Ie,He,ft,Se){this.router=pe,this.injector=He,this.preloadingStrategy=ft,this.loader=Se}setUpPreloading(){this.subscription=this.router.events.pipe((0,B.p)(pe=>pe instanceof gt),(0,U.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(pe,Ie){const He=[];for(const ft of Ie){ft.providers&&!ft._injector&&(ft._injector=(0,t.Ol2)(ft.providers,pe,`Route: ${ft.path}`));const Se=ft._injector??pe,ye=ft._loadedInjector??Se;(ft.loadChildren&&!ft._loadedRoutes&&void 0===ft.canLoad||ft.loadComponent&&!ft._loadedComponent)&&He.push(this.preloadConfig(Se,ft)),(ft.children||ft._loadedRoutes)&&He.push(this.processRoutes(ye,ft.children??ft._loadedRoutes))}return(0,e.H)(He).pipe((0,le.U)())}preloadConfig(pe,Ie){return this.preloadingStrategy.preload(Ie,()=>{let He;He=Ie.loadChildren&&void 0===Ie.canLoad?this.loader.loadChildren(pe,Ie):(0,h.of)(null);const ft=He.pipe((0,k.Z)(Se=>null===Se?(0,h.of)(void 0):(Ie._loadedRoutes=Se.routes,Ie._loadedInjector=Se.injector,this.processRoutes(Se.injector??pe,Se.routes))));if(Ie.loadComponent&&!Ie._loadedComponent){const Se=this.loader.loadComponent(Ie);return(0,e.H)([ft,Se]).pipe((0,le.U)())}return ft})}static{this.\u0275fac=function(Ie){return new(Ie||de)(t.KVO(Ns),t.KVO(t.Ql9),t.KVO(t.uvJ),t.KVO(Go),t.KVO(xt))}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})();const Ii=new t.nKC("");let go=(()=>{class de{constructor(pe,Ie,He,ft,Se={}){this.urlSerializer=pe,this.transitions=Ie,this.viewportScroller=He,this.zone=ft,this.options=Se,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,t.WQX)(t.uvJ),Se.scrollPositionRestoration||="disabled",Se.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(pe=>{pe instanceof lt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=pe.navigationTrigger,this.restoredId=pe.restoredState?pe.restoredState.navigationId:0):pe instanceof gt?(this.lastId=pe.id,this.scheduleScrollEvent(pe,this.urlSerializer.parse(pe.urlAfterRedirects).fragment)):pe instanceof An&&pe.code===Wt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(pe,this.urlSerializer.parse(pe.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(pe=>{pe instanceof to&&(pe.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(pe.position):pe.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(pe.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(pe,Ie){var He=this;this.zone.runOutsideAngular((0,i.A)(function*(){yield new Promise(ft=>{setTimeout(()=>{ft()}),(0,t.mal)(()=>{ft()},{injector:He.environmentInjector})}),He.zone.run(()=>{He.transitions.events.next(new to(pe,"popstate"===He.lastSource?He.store[He.restoredId]:null,Ie))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(Ie){t.QTQ()}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac})}}return de})();function Eo(de,...Oe){return(0,t.EmA)([{provide:un,multi:!0,useValue:de},[],{provide:Ci,useFactory:$o,deps:[Ns]},{provide:t.iLQ,multi:!0,useFactory:dl},Oe.map(pe=>pe.\u0275providers)])}function $o(de){return de.routerState.root}function sr(de,Oe){return{\u0275kind:de,\u0275providers:Oe}}function $s(de={}){return sr(4,[{provide:Ii,useFactory:()=>{const pe=(0,t.WQX)(x.Xr),Ie=(0,t.WQX)(t.SKi),He=(0,t.WQX)(kn),ft=(0,t.WQX)(an);return new go(ft,He,pe,Ie,de)}}])}function dl(){const de=(0,t.WQX)(t.zZn);return Oe=>{const pe=de.get(t.o8S);if(Oe!==pe.components[0])return;const Ie=de.get(Ns),He=de.get(ul);1===de.get(ir)&&Ie.initialNavigation(),de.get(To,null,t.$GK.Optional)?.setUpPreloading(),de.get(Ii,null,t.$GK.Optional)?.init(),Ie.resetRootComponentType(pe.componentTypes[0]),He.closed||(He.next(),He.complete(),He.unsubscribe())}}const ul=new t.nKC("",{factory:()=>new A.B}),ir=new t.nKC("",{providedIn:"root",factory:()=>1});function co(){return sr(2,[{provide:ir,useValue:0},{provide:t.hnV,multi:!0,deps:[t.zZn],useFactory:Oe=>{const pe=Oe.get(x.hj,Promise.resolve());return()=>pe.then(()=>new Promise(Ie=>{const He=Oe.get(Ns),ft=Oe.get(ul);On(He,()=>{Ie(!0)}),Oe.get(kn).afterPreactivation=()=>(Ie(!0),ft.closed?(0,h.of)(void 0):ft),He.initialNavigation()}))}}])}const To=new t.nKC("");function Ro(de){return sr(0,[{provide:To,useExisting:ws},{provide:Go,useExisting:de}])}function yd(de){return sr(5,[{provide:kt,useValue:de}])}function Zs(de){return sr(9,[{provide:gi,useValue:Zi},{provide:Ni,useValue:{skipNextTransition:!!de?.skipInitialTransition,...de}}])}const Za=new t.nKC("ROUTER_FORROOT_GUARD"),ji=[x.aZ,{provide:an,useClass:Pn},Ns,Uo,{provide:Ci,useFactory:$o,deps:[Ns]},xt,[]];let Ss=(()=>{class de{constructor(pe){}static forRoot(pe,Ie){return{ngModule:de,providers:[ji,[],{provide:un,multi:!0,useValue:pe},{provide:Za,useFactory:si,deps:[[Ns,new t.Xx1,new t.kdw]]},{provide:kt,useValue:Ie||{}},Ie?.useHash?{provide:x.hb,useClass:x.fw}:{provide:x.hb,useClass:x.Sm},{provide:Ii,useFactory:()=>{const de=(0,t.WQX)(x.Xr),Oe=(0,t.WQX)(t.SKi),pe=(0,t.WQX)(kt),Ie=(0,t.WQX)(kn),He=(0,t.WQX)(an);return pe.scrollOffset&&de.setOffset(pe.scrollOffset),new go(He,Ie,de,Oe,pe)}},Ie?.preloadingStrategy?Ro(Ie.preloadingStrategy).\u0275providers:[],Ie?.initialNavigation?Wo(Ie):[],Ie?.bindToComponentInputs?sr(8,[Qr,{provide:er,useExisting:Qr}]).\u0275providers:[],Ie?.enableViewTransitions?Zs().\u0275providers:[],[{provide:fl,useFactory:dl},{provide:t.iLQ,multi:!0,useExisting:fl}]]}}static forChild(pe){return{ngModule:de,providers:[{provide:un,multi:!0,useValue:pe}]}}static{this.\u0275fac=function(Ie){return new(Ie||de)(t.KVO(Za,8))}}static{this.\u0275mod=t.$C({type:de})}static{this.\u0275inj=t.G2t({})}}return de})();function si(de){return"guarded"}function Wo(de){return["disabled"===de.initialNavigation?sr(3,[{provide:t.hnV,multi:!0,useFactory:()=>{const Oe=(0,t.WQX)(Ns);return()=>{Oe.setUpLocationChangeListener()}}},{provide:ir,useValue:2}]).\u0275providers:[],"enabledBlocking"===de.initialNavigation?co().\u0275providers:[]]}const fl=new t.nKC("")},23632:(F,D,n)=>{"use strict";n.d(D,{Fv:()=>Ne,O7:()=>Ee,cz:()=>Gt});var i=n(54438),t=n(345),u=n(60177),e=n(49969);const h=mt=>({"ngx-gallery-active":mt});function m(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"div",1),i.bIt("click",function(ut){const hn=i.eBV(Ce).index,an=i.XpG();return i.Njj(an.handleChange(ut,hn))}),i.k0s()}if(2&mt){const Ce=Pt.index,je=i.XpG();i.Y8G("ngClass",i.eq3(1,h,Ce===je.active))}}const f=["previewImage"];function v(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-arrows",17),i.bIt("prevClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.showPrev())})("nextClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.showNext())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("prevDisabled",!Ce.canShowPrev())("nextDisabled",!Ce.canShowNext())("arrowPrevIcon",Ce.arrowPrevIcon)("arrowNextIcon",Ce.arrowNextIcon)}}function E(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",18),i.bIt("closeClick",function(ut){const hn=i.eBV(Ce).$implicit,an=i.XpG();return i.Njj(hn.onClick(ut,an.index))}),i.k0s()}if(2&mt){const Ce=Pt.$implicit;i.Y8G("icon",Ce.icon)("disabled",Ce.disabled)("titleText",Ce.titleText)}}function _(mt,Pt){if(1&mt&&(i.j41(0,"a",19),i.nrm(1,"i"),i.k0s()),2&mt){const Ce=i.XpG();i.Y8G("href",Ce.src,i.B4B),i.R7$(),i.ZvI("ngx-gallery-icon-content ",Ce.downloadIcon,"")}}function C(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",20),i.bIt("closeClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.zoomOut())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("icon",Ce.zoomOutIcon)("disabled",!Ce.canZoomOut())}}function I(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",20),i.bIt("closeClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.zoomIn())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("icon",Ce.zoomInIcon)("disabled",!Ce.canZoomIn())}}function R(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.rotateLeft())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("icon",Ce.rotateLeftIcon)}}function T(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.rotateRight())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("icon",Ce.rotateRightIcon)}}function A(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.manageFullscreen())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("icon","ngx-gallery-fullscreen "+Ce.fullscreenIcon)}}function p(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"img",21,0),i.bIt("click",function(ut){return i.eBV(Ce),i.Njj(ut.stopPropagation())})("mouseenter",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.imageMouseEnter())})("mouseleave",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.imageMouseLeave())})("mousedown",function(ut){i.eBV(Ce);const hn=i.XpG();return i.Njj(hn.mouseDownHandler(ut))})("touchstart",function(ut){i.eBV(Ce);const hn=i.XpG();return i.Njj(hn.mouseDownHandler(ut))}),i.k0s()}if(2&mt){const Ce=i.XpG();i.xc7("transform",Ce.getTransform())("left",Ce.positionLeft+"px")("top",Ce.positionTop+"px"),i.AVh("ngx-gallery-active",!Ce.loading)("animation",Ce.animation)("ngx-gallery-grab",Ce.canDragOnZoom()),i.Y8G("src",Ce.src,i.B4B)}}function x(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"video",22,0),i.bIt("click",function(ut){return i.eBV(Ce),i.Njj(ut.stopPropagation())})("mouseenter",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.imageMouseEnter())})("mouseleave",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.imageMouseLeave())})("mousedown",function(ut){i.eBV(Ce);const hn=i.XpG();return i.Njj(hn.mouseDownHandler(ut))})("touchstart",function(ut){i.eBV(Ce);const hn=i.XpG();return i.Njj(hn.mouseDownHandler(ut))}),i.nrm(2,"source",23),i.EFF(3," Your browser does not support the video tag. "),i.k0s()}if(2&mt){const Ce=i.XpG();i.xc7("transform",Ce.getTransform())("left",Ce.positionLeft+"px")("top",Ce.positionTop+"px"),i.AVh("ngx-gallery-active",!Ce.loading)("animation",Ce.animation)("ngx-gallery-grab",Ce.canDragOnZoom()),i.R7$(2),i.Y8G("src",Ce.src,i.B4B)}}function O(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-bullets",24),i.bIt("bulletChange",function(ut){i.eBV(Ce);const hn=i.XpG();return i.Njj(hn.showAtIndex(ut))}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("count",Ce.images.length)("active",Ce.index)}}function w(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"div",25),i.bIt("click",function(ut){return i.eBV(Ce),i.Njj(ut.stopPropagation())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("innerHTML",Ce.description,i.npT)}}const M=mt=>({"ngx-gallery-clickable":mt});function L(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(ut){const hn=i.eBV(Ce).$implicit,an=i.XpG(2).$implicit;return i.Njj(hn.onClick(ut,an.index))}),i.k0s()}if(2&mt){const Ce=Pt.$implicit;i.Y8G("icon",Ce.icon)("disabled",Ce.disabled)("titleText",Ce.titleText)}}function B(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"div",9),i.bIt("click",function(ut){return i.eBV(Ce),i.Njj(ut.stopPropagation())}),i.k0s()}if(2&mt){const Ce=i.XpG(2).$implicit,je=i.XpG();i.Y8G("innerHTML",je.descriptions[Ce.index],i.npT)}}function k(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"div",4),i.bIt("click",function(ut){i.eBV(Ce);const hn=i.XpG().$implicit,an=i.XpG();return i.Njj(an.handleClick(ut,hn.index))})("@animation.start",function(ut){i.eBV(Ce);const hn=i.XpG(2);return i.Njj(hn.onStart(ut))})("@animation.done",function(ut){i.eBV(Ce);const hn=i.XpG(2);return i.Njj(hn.onDone(ut))}),i.j41(1,"div",5),i.DNE(2,L,1,3,"ngx-gallery-action",6),i.k0s(),i.DNE(3,B,1,1,"div",7),i.k0s()}if(2&mt){const Ce=i.XpG().$implicit,je=i.XpG();i.xc7("background-image",je.getSafeUrl(Ce.src)),i.Y8G("ngClass",i.eq3(6,M,je.clickable))("@animation",je.action),i.R7$(2),i.Y8G("ngForOf",je.actions),i.R7$(),i.Y8G("ngIf",je.showDescription&&je.descriptions[Ce.index])}}function W(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(ut){const hn=i.eBV(Ce).$implicit,an=i.XpG(2).$implicit;return i.Njj(hn.onClick(ut,an.index))}),i.k0s()}if(2&mt){const Ce=Pt.$implicit;i.Y8G("icon",Ce.icon)("disabled",Ce.disabled)("titleText",Ce.titleText)}}function U(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"div",9),i.bIt("click",function(ut){return i.eBV(Ce),i.Njj(ut.stopPropagation())}),i.k0s()}if(2&mt){const Ce=i.XpG(2).$implicit,je=i.XpG();i.Y8G("innerHTML",je.descriptions[Ce.index],i.npT)}}function K(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"div",4),i.bIt("click",function(ut){i.eBV(Ce);const hn=i.XpG().$implicit,an=i.XpG();return i.Njj(an.handleClick(ut,hn.index))})("@animation.start",function(ut){i.eBV(Ce);const hn=i.XpG(2);return i.Njj(hn.onStart(ut))})("@animation.done",function(ut){i.eBV(Ce);const hn=i.XpG(2);return i.Njj(hn.onDone(ut))}),i.j41(1,"video",10),i.nrm(2,"source",11),i.EFF(3," Your browser does not support the video tag. "),i.k0s(),i.j41(4,"div",5),i.DNE(5,W,1,3,"ngx-gallery-action",6),i.k0s(),i.DNE(6,U,1,1,"div",7),i.k0s()}if(2&mt){const Ce=i.XpG().$implicit,je=i.XpG();i.xc7("background-image",je.getSafeUrl(Ce.src)),i.Y8G("ngClass",i.eq3(7,M,je.clickable))("@animation",je.action),i.R7$(2),i.Y8G("src",Ce.src,i.B4B),i.R7$(3),i.Y8G("ngForOf",je.actions),i.R7$(),i.Y8G("ngIf",je.showDescription&&je.descriptions[Ce.index])}}function Y(mt,Pt){if(1&mt&&(i.qex(0),i.DNE(1,k,4,8,"div",3)(2,K,7,9,"div",3),i.bVm()),2&mt){const Ce=Pt.$implicit,je=i.XpG();i.R7$(),i.Y8G("ngIf","image"===Ce.type&&Ce.index===je._selectedIndex),i.R7$(),i.Y8G("ngIf","video"===Ce.type&&Ce.index===je._selectedIndex)}}function G(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-bullets",12),i.bIt("bulletChange",function(ut){i.eBV(Ce);const hn=i.XpG();return i.Njj(hn.show(ut))}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("count",Ce.images.length)("active",Ce._selectedIndex)}}function q(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-arrows",13),i.bIt("prevClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.showPrev())})("nextClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.showNext())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.ZvI("ngx-gallery-image-size-",Ce.size,""),i.Y8G("prevDisabled",!Ce.canShowPrev())("nextDisabled",!Ce.canShowNext())("arrowPrevIcon",Ce.arrowPrevIcon)("arrowNextIcon",Ce.arrowNextIcon)}}const z=(mt,Pt)=>({"ngx-gallery-active":mt,"ngx-gallery-clickable":Pt});function te(mt,Pt){if(1&mt&&i.nrm(0,"div",9),2&mt){const Ce=i.XpG(),je=Ce.$implicit,ut=Ce.index,hn=i.XpG();i.xc7("background-image",hn.getSafeUrl(je)),i.Y8G("ngClass",i.l_i(3,z,ut===hn.selectedIndex,hn.clickable))}}function Z(mt,Pt){if(1&mt&&(i.j41(0,"div",10)(1,"video",11),i.nrm(2,"source",12),i.EFF(3," Your browser does not support the video tag. "),i.k0s()()),2&mt){const Ce=i.XpG(),je=Ce.$implicit,ut=Ce.index,hn=i.XpG();i.R7$(),i.Y8G("ngClass",i.l_i(2,z,ut===hn.selectedIndex,hn.clickable)),i.R7$(),i.Y8G("src",je,i.B4B)}}function J(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",13),i.bIt("closeClick",function(ut){const hn=i.eBV(Ce).$implicit,an=i.XpG().index;return i.Njj(hn.onClick(ut,an))}),i.k0s()}if(2&mt){const Ce=Pt.$implicit;i.Y8G("icon",Ce.icon)("disabled",Ce.disabled)("titleText",Ce.titleText)}}function Q(mt,Pt){if(1&mt&&(i.j41(0,"div",14)(1,"span",15),i.EFF(2),i.k0s()()),2&mt){const Ce=i.XpG(2);i.R7$(2),i.SpI("+",Ce.remainingCountValue,"")}}function ee(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"a",3),i.bIt("click",function(ut){const hn=i.eBV(Ce).index,an=i.XpG();return i.Njj(an.handleClick(ut,hn))}),i.DNE(1,te,1,6,"div",4)(2,Z,4,5,"div",5),i.j41(3,"div",6),i.DNE(4,J,1,3,"ngx-gallery-action",7),i.k0s(),i.DNE(5,Q,3,1,"div",8),i.k0s()}if(2&mt){const Ce=Pt.$implicit,je=Pt.index,ut=i.XpG();i.xc7("width",ut.getThumbnailWidth())("height",ut.getThumbnailHeight())("left",ut.getThumbnailLeft(je))("top",ut.getThumbnailTop(je)),i.Y8G("href",ut.hasLink(je)?ut.links[je]:"#",i.B4B)("target",ut.linkTarget)("ngClass",i.l_i(16,z,je===ut.selectedIndex,ut.clickable)),i.BMQ("aria-label",ut.labels[je]),i.R7$(),i.Y8G("ngIf","image"===ut.getFileType(Ce)),i.R7$(),i.Y8G("ngIf","video"===ut.getFileType(Ce)),i.R7$(2),i.Y8G("ngForOf",ut.actions),i.R7$(),i.Y8G("ngIf",ut.remainingCount&&ut.remainingCountValue&&je===ut.rows*ut.columns-1)}}function le(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-arrows",16),i.bIt("prevClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.moveLeft())})("nextClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.moveRight())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("prevDisabled",!Ce.canMoveLeft())("nextDisabled",!Ce.canMoveRight())("arrowPrevIcon",Ce.arrowPrevIcon)("arrowNextIcon",Ce.arrowNextIcon)}}const ne=()=>[];function fe(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-image",3),i.bIt("imageClick",function(ut){i.eBV(Ce);const hn=i.XpG();return i.Njj(hn.openPreview(ut))})("activeChange",function(ut){i.eBV(Ce);const hn=i.XpG();return i.Njj(hn.selectFromImage(ut))})("animating",function(ut){i.eBV(Ce);const hn=i.XpG();return i.Njj(hn.setAnimating(ut))}),i.k0s()}if(2&mt){const Ce=i.XpG();i.xc7("height",Ce.getImageHeight()),i.Y8G("images",Ce.mediumImages)("clickable",null==Ce.currentOptions?null:Ce.currentOptions.preview)("selectedIndex",Ce.selectedIndex)("arrows",null==Ce.currentOptions?null:Ce.currentOptions.imageArrows)("arrowsAutoHide",null==Ce.currentOptions?null:Ce.currentOptions.imageArrowsAutoHide)("arrowPrevIcon",null==Ce.currentOptions?null:Ce.currentOptions.arrowPrevIcon)("arrowNextIcon",null==Ce.currentOptions?null:Ce.currentOptions.arrowNextIcon)("swipe",null==Ce.currentOptions?null:Ce.currentOptions.imageSwipe)("animation",null==Ce.currentOptions?null:Ce.currentOptions.imageAnimation)("size",null==Ce.currentOptions?null:Ce.currentOptions.imageSize)("autoPlay",null==Ce.currentOptions?null:Ce.currentOptions.imageAutoPlay)("autoPlayInterval",null==Ce.currentOptions?null:Ce.currentOptions.imageAutoPlayInterval)("autoPlayPauseOnHover",null==Ce.currentOptions?null:Ce.currentOptions.imageAutoPlayPauseOnHover)("infinityMove",null==Ce.currentOptions?null:Ce.currentOptions.imageInfinityMove)("lazyLoading",null==Ce.currentOptions?null:Ce.currentOptions.lazyLoading)("actions",null==Ce.currentOptions?null:Ce.currentOptions.imageActions)("descriptions",Ce.descriptions)("showDescription",null==Ce.currentOptions?null:Ce.currentOptions.imageDescription)("bullets",null==Ce.currentOptions?null:Ce.currentOptions.imageBullets)}}function se(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-thumbnails",4),i.bIt("activeChange",function(ut){i.eBV(Ce);const hn=i.XpG();return i.Njj(hn.selectFromThumbnails(ut))}),i.k0s()}if(2&mt){const Ce=i.XpG();i.xc7("margin-top",Ce.getThumbnailsMarginTop())("margin-bottom",Ce.getThumbnailsMarginBottom())("height",Ce.getThumbnailsHeight()),i.Y8G("images",Ce.smallImages)("isAnimating",Ce.isAnimating)("links",null!=Ce.currentOptions&&Ce.currentOptions.thumbnailsAsLinks?Ce.links:i.lJ4(28,ne))("labels",Ce.labels)("linkTarget",null==Ce.currentOptions?null:Ce.currentOptions.linkTarget)("selectedIndex",Ce.selectedIndex)("columns",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailsColumns)("rows",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailsRows)("margin",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailMargin)("arrows",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailsArrows)("arrowsAutoHide",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailsArrowsAutoHide)("arrowPrevIcon",null==Ce.currentOptions?null:Ce.currentOptions.arrowPrevIcon)("arrowNextIcon",null==Ce.currentOptions?null:Ce.currentOptions.arrowNextIcon)("clickable",(null==Ce.currentOptions?null:Ce.currentOptions.image)||(null==Ce.currentOptions?null:Ce.currentOptions.preview))("swipe",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailsSwipe)("size",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailSize)("moveSize",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailsMoveSize)("order",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailsOrder)("remainingCount",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailsRemainingCount)("lazyLoading",null==Ce.currentOptions?null:Ce.currentOptions.lazyLoading)("actions",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailActions)("ngClass",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailClasses)}}let ce=(()=>{class mt{constructor(Ce){this.renderer=Ce,this.swipeHandlers=new Map}manageSwipe(Ce,je,ut,hn,an){const Pn=this.getSwipeHandlers(ut);try{Ce&&!Pn?this.swipeHandlers.set(ut,[this.renderer.listen(je.nativeElement,"swipeleft",()=>hn()),this.renderer.listen(je.nativeElement,"swiperight",()=>an())]):!Ce&&Pn&&(Pn.map(yt=>yt()),this.removeSwipeHandlers(ut))}catch{}}validateUrl(Ce){return Ce.replace?Ce.replace(new RegExp(" ","g"),"%20").replace(new RegExp("'","g"),"%27"):Ce}getBackgroundUrl(Ce){return"url('"+this.validateUrl(Ce)+"')"}getFileType(Ce){const je=Ce.split(".").pop().toLowerCase();return"avi"===je||"flv"===je||"wmv"===je||"mov"===je||"mp4"===je?"video":"image"}getSwipeHandlers(Ce){return this.swipeHandlers.get(Ce)}removeSwipeHandlers(Ce){this.swipeHandlers.delete(Ce)}}return mt.\u0275fac=function(Ce){return new(Ce||mt)(i.KVO(i.sFG))},mt.\u0275prov=i.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})(),De=(()=>{class mt{constructor(){this.prevClick=new i.bkB,this.nextClick=new i.bkB}handlePrevClick(){this.prevClick.emit()}handleNextClick(){this.nextClick.emit()}}return mt.\u0275fac=function(Ce){return new(Ce||mt)},mt.\u0275cmp=i.VBU({type:mt,selectors:[["ngx-gallery-arrows"]],inputs:{prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon"},outputs:{prevClick:"prevClick",nextClick:"nextClick"},decls:6,vars:10,consts:[[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-left"],["aria-hidden","true",1,"ngx-gallery-icon","ngx-gallery-arrow",3,"click"],[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-right"]],template:function(Ce,je){1&Ce&&(i.j41(0,"div",0)(1,"div",1),i.bIt("click",function(){return je.handlePrevClick()}),i.nrm(2,"i"),i.k0s()(),i.j41(3,"div",2)(4,"div",1),i.bIt("click",function(){return je.handleNextClick()}),i.nrm(5,"i"),i.k0s()()),2&Ce&&(i.R7$(),i.AVh("ngx-gallery-disabled",je.prevDisabled),i.R7$(),i.ZvI("ngx-gallery-icon-content ",je.arrowPrevIcon,""),i.R7$(2),i.AVh("ngx-gallery-disabled",je.nextDisabled),i.R7$(),i.ZvI("ngx-gallery-icon-content ",je.arrowNextIcon,""))},styles:[".ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{position:absolute;height:100%;width:1px;display:table;table-layout:fixed}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]   .ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{z-index:10001}.ngx-gallery-arrow-left[_ngcontent-%COMP%]{left:0}.ngx-gallery-arrow-right[_ngcontent-%COMP%]{right:0}.ngx-gallery-arrow[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);cursor:pointer}.ngx-gallery-arrow.ngx-gallery-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default}.ngx-gallery-arrow-left[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{left:10px}.ngx-gallery-arrow-right[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{right:10px}"],changeDetection:0}),mt})(),be=(()=>{class mt{constructor(){this.disabled=!1,this.titleText="",this.closeClick=new i.bkB}handleClick(Ce){this.disabled||this.closeClick.emit(Ce),Ce.stopPropagation(),Ce.preventDefault()}}return mt.\u0275fac=function(Ce){return new(Ce||mt)},mt.\u0275cmp=i.VBU({type:mt,selectors:[["ngx-gallery-action"]],inputs:{icon:"icon",disabled:"disabled",titleText:"titleText"},outputs:{closeClick:"closeClick"},decls:2,vars:6,consts:[["aria-hidden","true",1,"ngx-gallery-icon",3,"click","title"]],template:function(Ce,je){1&Ce&&(i.j41(0,"div",0),i.bIt("click",function(hn){return je.handleClick(hn)}),i.nrm(1,"i"),i.k0s()),2&Ce&&(i.AVh("ngx-gallery-icon-disabled",je.disabled),i.FS9("title",je.titleText),i.R7$(),i.ZvI("ngx-gallery-icon-content ",je.icon,""))},styles:[".ngx-gallery-icon[_ngcontent-%COMP%]{color:#fff;font-size:25px;position:absolute;z-index:2000;display:inline-block}.ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-icon[_ngcontent-%COMP%]   .ngx-gallery-icon-content[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),mt})(),me=(()=>{class mt{constructor(){this.active=0,this.bulletChange=new i.bkB}getBullets(){return Array(this.count)}handleChange(Ce,je){this.bulletChange.emit(je)}}return mt.\u0275fac=function(Ce){return new(Ce||mt)},mt.\u0275cmp=i.VBU({type:mt,selectors:[["ngx-gallery-bullets"]],inputs:{count:"count",active:"active"},outputs:{bulletChange:"bulletChange"},decls:1,vars:1,consts:[["class","ngx-gallery-bullet",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"ngx-gallery-bullet",3,"click","ngClass"]],template:function(Ce,je){1&Ce&&i.DNE(0,m,1,3,"div",0),2&Ce&&i.Y8G("ngForOf",je.getBullets())},dependencies:[u.Sq,u.YU],styles:["[_nghost-%COMP%]{position:absolute;z-index:2000;display:inline-flex;left:50%;transform:translate(-50%);bottom:0;padding:10px}.ngx-gallery-bullet[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;cursor:pointer;background:white}.ngx-gallery-bullet[_ngcontent-%COMP%]:not(:first-child){margin-left:5px}.ngx-gallery-bullet[_ngcontent-%COMP%]:hover, .ngx-gallery-bullet.ngx-gallery-active[_ngcontent-%COMP%]{background:black}"],changeDetection:0}),mt})(),re=(()=>{class mt{constructor(Ce,je,ut,hn,an){this.sanitization=Ce,this.elementRef=je,this.helperService=ut,this.renderer=hn,this.changeDetectorRef=an,this.showSpinner=!1,this.positionLeft=0,this.positionTop=0,this.zoomValue=1,this.loading=!1,this.rotateValue=0,this.index=0,this.previewOpen=new i.bkB,this.previewClose=new i.bkB,this.activeChange=new i.bkB,this.isOpen=!1,this.initialX=0,this.initialY=0,this.initialLeft=0,this.initialTop=0,this.isMove=!1}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1)}ngOnChanges(Ce){Ce.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"preview",()=>this.showNext(),()=>this.showPrev())}ngOnDestroy(){this.keyDownListener&&this.keyDownListener()}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0)}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1)}onKeyDown(Ce){this.isOpen&&(this.keyboardNavigation&&(this.isKeyboardPrev(Ce)?this.showPrev():this.isKeyboardNext(Ce)&&this.showNext()),this.closeOnEsc&&this.isKeyboardEsc(Ce)&&this.close())}open(Ce){this.previewOpen.emit(),this.index=Ce,this.isOpen=!0,this.show(!0),this.forceFullscreen&&this.manageFullscreen(),this.keyDownListener=this.renderer.listen("window","keydown",je=>this.onKeyDown(je))}close(){this.isOpen=!1;const Ce=this.previewImage.nativeElement;Ce.currentTime>0&&!Ce.paused&&!Ce.ended&&Ce.readyState>2&&Ce.pause(),this.closeFullscreen(),this.previewClose.emit(),this.stopAutoPlay(),this.keyDownListener&&this.keyDownListener()}imageMouseEnter(){this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}imageMouseLeave(){this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}startAutoPlay(){this.autoPlay&&(this.stopAutoPlay(),this.timer=setTimeout(()=>{this.showNext()||(this.index=-1,this.showNext())},this.autoPlayInterval))}stopAutoPlay(){this.timer&&clearTimeout(this.timer)}showAtIndex(Ce){this.index=Ce,this.show()}showNext(){return!!this.canShowNext()&&(this.index++,this.index===this.images.length&&(this.index=0),this.show(),!0)}showPrev(){this.canShowPrev()&&(this.index--,this.index<0&&(this.index=this.images.length-1),this.show())}canShowNext(){return!this.loading&&!!this.images&&(this.infinityMove||this.index<this.images.length-1)}canShowPrev(){return!this.loading&&!!this.images&&(this.infinityMove||this.index>0)}manageFullscreen(){if(this.fullscreen||this.forceFullscreen){const Ce=document;Ce.fullscreenElement||Ce.mozFullScreenElement||Ce.webkitFullscreenElement||Ce.msFullscreenElement?this.closeFullscreen():this.openFullscreen()}}getSafeUrl(Ce){return this.sanitization.bypassSecurityTrustUrl(Ce)}getFileType(Ce){return this.helperService.getFileType(Ce)}zoomIn(){this.canZoomIn()&&(this.zoomValue+=this.zoomStep,this.zoomValue>this.zoomMax&&(this.zoomValue=this.zoomMax))}zoomOut(){this.canZoomOut()&&(this.zoomValue-=this.zoomStep,this.zoomValue<this.zoomMin&&(this.zoomValue=this.zoomMin),this.zoomValue<=1&&this.resetPosition())}rotateLeft(){this.rotateValue-=90}rotateRight(){this.rotateValue+=90}getTransform(){return this.sanitization.bypassSecurityTrustStyle("scale("+this.zoomValue+") rotate("+this.rotateValue+"deg)")}canZoomIn(){return this.zoomValue<this.zoomMax}canZoomOut(){return this.zoomValue>this.zoomMin}canDragOnZoom(){return this.zoom&&this.zoomValue>1}mouseDownHandler(Ce){this.canDragOnZoom()&&(this.initialX=this.getClientX(Ce),this.initialY=this.getClientY(Ce),this.initialLeft=this.positionLeft,this.initialTop=this.positionTop,this.isMove=!0,Ce.preventDefault())}mouseUpHandler(Ce){this.isMove=!1}mouseMoveHandler(Ce){this.isMove&&(this.positionLeft=this.initialLeft+(this.getClientX(Ce)-this.initialX),this.positionTop=this.initialTop+(this.getClientY(Ce)-this.initialY))}getClientX(Ce){return Ce.touches&&Ce.touches.length?Ce.touches[0].clientX:Ce.clientX}getClientY(Ce){return Ce.touches&&Ce.touches.length?Ce.touches[0].clientY:Ce.clientY}resetPosition(){this.zoom&&(this.positionLeft=0,this.positionTop=0)}isKeyboardNext(Ce){return 39===Ce.keyCode}isKeyboardPrev(Ce){return 37===Ce.keyCode}isKeyboardEsc(Ce){return 27===Ce.keyCode}openFullscreen(){const Ce=document.documentElement;Ce.requestFullscreen?Ce.requestFullscreen():Ce.msRequestFullscreen?Ce.msRequestFullscreen():Ce.mozRequestFullScreen?Ce.mozRequestFullScreen():Ce.webkitRequestFullscreen&&Ce.webkitRequestFullscreen()}closeFullscreen(){if(this.isFullscreen()){const Ce=document;Ce.exitFullscreen?Ce.exitFullscreen():Ce.msExitFullscreen?Ce.msExitFullscreen():Ce.mozCancelFullScreen?Ce.mozCancelFullScreen():Ce.webkitExitFullscreen&&Ce.webkitExitFullscreen()}}isFullscreen(){const Ce=document;return Ce.fullscreenElement||Ce.webkitFullscreenElement||Ce.mozFullScreenElement||Ce.msFullscreenElement}show(Ce=!1){this.loading=!0,this.stopAutoPlay(),this.activeChange.emit(this.index),Ce||!this.animation?this._show():setTimeout(()=>this._show(),600)}_show(){this.zoomValue=1,this.rotateValue=0,this.resetPosition(),this.src=this.getSafeUrl(this.images[this.index]),this.type=this.getFileType(this.images[this.index]),this.srcIndex=this.index,this.description=this.descriptions[this.index],this.changeDetectorRef.markForCheck(),setTimeout(()=>{this.isLoaded(this.previewImage.nativeElement)||"video"===this.type?(this.loading=!1,this.startAutoPlay(),this.changeDetectorRef.markForCheck()):"video"===this.type||(setTimeout(()=>{this.loading&&(this.showSpinner=!0,this.changeDetectorRef.markForCheck())}),this.previewImage.nativeElement.onload=()=>{this.loading=!1,this.showSpinner=!1,this.previewImage.nativeElement.onload=null,this.startAutoPlay(),this.changeDetectorRef.markForCheck()})})}isLoaded(Ce){return!(!Ce.complete||typeof Ce.naturalWidth<"u"&&0===Ce.naturalWidth)}}return mt.\u0275fac=function(Ce){return new(Ce||mt)(i.rXU(t.up),i.rXU(i.aKT),i.rXU(ce),i.rXU(i.sFG),i.rXU(i.gRc))},mt.\u0275cmp=i.VBU({type:mt,selectors:[["ngx-gallery-preview"]],viewQuery:function(Ce,je){if(1&Ce&&i.GBs(f,5),2&Ce){let ut;i.mGM(ut=i.lsd())&&(je.previewImage=ut.first)}},hostBindings:function(Ce,je){1&Ce&&i.bIt("mouseenter",function(){return je.onMouseEnter()})("mouseleave",function(){return je.onMouseLeave()})},inputs:{images:"images",descriptions:"descriptions",showDescription:"showDescription",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",fullscreen:"fullscreen",forceFullscreen:"forceFullscreen",closeOnClick:"closeOnClick",closeOnEsc:"closeOnEsc",keyboardNavigation:"keyboardNavigation",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",closeIcon:"closeIcon",fullscreenIcon:"fullscreenIcon",spinnerIcon:"spinnerIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",zoom:"zoom",zoomStep:"zoomStep",zoomMax:"zoomMax",zoomMin:"zoomMin",zoomInIcon:"zoomInIcon",zoomOutIcon:"zoomOutIcon",animation:"animation",actions:"actions",rotate:"rotate",rotateLeftIcon:"rotateLeftIcon",rotateRightIcon:"rotateRightIcon",download:"download",downloadIcon:"downloadIcon",bullets:"bullets"},outputs:{previewOpen:"previewOpen",previewClose:"previewClose",activeChange:"activeChange"},features:[i.OA$],decls:19,vars:18,consts:[["previewImage",""],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-preview-top"],[1,"ngx-gallery-preview-icons"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-icon","aria-hidden","true","download","",3,"href",4,"ngIf"],[3,"icon","disabled","closeClick",4,"ngIf"],[3,"icon","closeClick",4,"ngIf"],[3,"closeClick","icon"],[1,"ngx-spinner-wrapper","ngx-gallery-center"],["aria-hidden","true"],[1,"ngx-gallery-preview-wrapper",3,"click","mouseup","mousemove","touchend","touchmove"],[1,"ngx-gallery-preview-img-wrapper"],["class","ngx-gallery-preview-img ngx-gallery-center",3,"src","ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],["controls","","style","width: 100%; height: 100%;","class","ngx-gallery-preview-img ngx-gallery-center",3,"ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],[3,"count","active","bulletChange",4,"ngIf"],["class","ngx-gallery-preview-text",3,"innerHTML","click",4,"ngIf"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"],[3,"closeClick","icon","disabled","titleText"],["aria-hidden","true","download","",1,"ngx-gallery-icon",3,"href"],[3,"closeClick","icon","disabled"],[1,"ngx-gallery-preview-img","ngx-gallery-center",3,"click","mouseenter","mouseleave","mousedown","touchstart","src"],["controls","",1,"ngx-gallery-preview-img","ngx-gallery-center",2,"width","100%","height","100%",3,"click","mouseenter","mouseleave","mousedown","touchstart"],[3,"src"],[3,"bulletChange","count","active"],[1,"ngx-gallery-preview-text",3,"click","innerHTML"]],template:function(Ce,je){1&Ce&&(i.DNE(0,v,1,4,"ngx-gallery-arrows",1),i.j41(1,"div",2)(2,"div",3),i.DNE(3,E,1,3,"ngx-gallery-action",4)(4,_,2,4,"a",5)(5,C,1,2,"ngx-gallery-action",6)(6,I,1,2,"ngx-gallery-action",6)(7,R,1,1,"ngx-gallery-action",7)(8,T,1,1,"ngx-gallery-action",7)(9,A,1,1,"ngx-gallery-action",7),i.j41(10,"ngx-gallery-action",8),i.bIt("closeClick",function(){return je.close()}),i.k0s()()(),i.j41(11,"div",9),i.nrm(12,"i",10),i.k0s(),i.j41(13,"div",11),i.bIt("click",function(){return je.closeOnClick&&je.close()})("mouseup",function(hn){return je.mouseUpHandler(hn)})("mousemove",function(hn){return je.mouseMoveHandler(hn)})("touchend",function(hn){return je.mouseUpHandler(hn)})("touchmove",function(hn){return je.mouseMoveHandler(hn)}),i.j41(14,"div",12),i.DNE(15,p,2,13,"img",13)(16,x,4,13,"video",14)(17,O,1,2,"ngx-gallery-bullets",15),i.k0s(),i.DNE(18,w,1,1,"div",16),i.k0s()),2&Ce&&(i.Y8G("ngIf",je.arrows),i.R7$(3),i.Y8G("ngForOf",je.actions),i.R7$(),i.Y8G("ngIf",je.download&&je.src),i.R7$(),i.Y8G("ngIf",je.zoom),i.R7$(),i.Y8G("ngIf",je.zoom),i.R7$(),i.Y8G("ngIf",je.rotate),i.R7$(),i.Y8G("ngIf",je.rotate),i.R7$(),i.Y8G("ngIf",je.fullscreen),i.R7$(),i.Y8G("icon","ngx-gallery-close "+je.closeIcon),i.R7$(),i.AVh("ngx-gallery-active",je.showSpinner),i.R7$(),i.ZvI("ngx-gallery-icon ngx-gallery-spinner ",je.spinnerIcon,""),i.R7$(3),i.Y8G("ngIf",je.src&&"image"===je.type),i.R7$(),i.Y8G("ngIf",je.src&&"video"===je.type),i.R7$(),i.Y8G("ngIf",je.bullets),i.R7$(),i.Y8G("ngIf",je.showDescription&&je.description))},dependencies:[De,be,me,u.bT,u.Sq],styles:[".ngx-gallery-active[_nghost-%COMP%]{width:100%;height:100%;position:fixed;left:0;top:0;background:rgba(0,0,0,.7);z-index:10000;display:inline-block;font-size:50px!important}[_nghost-%COMP%]{display:none;font-size:50px!important}[_nghost-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{font-size:50px!important}ngx-gallery-bullets[_ngcontent-%COMP%]{height:5%;align-items:center;padding:0}.ngx-gallery-preview-img[_ngcontent-%COMP%]{opacity:0;max-width:90%;max-height:90%;-webkit-user-select:none;user-select:none;transition:transform .5s}.ngx-gallery-preview-img.animation[_ngcontent-%COMP%]{transition:opacity .5s linear,transform .5s}.ngx-gallery-preview-img.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-preview-img.ngx-gallery-grab[_ngcontent-%COMP%]{cursor:grab}.ngx-gallery-icon.ngx-gallery-spinner[_ngcontent-%COMP%]{font-size:50px;left:0;display:inline-block}[_nghost-%COMP%]   .ngx-gallery-preview-top[_ngcontent-%COMP%]{position:absolute;width:100%;-webkit-user-select:none;user-select:none;font-size:25px}.ngx-gallery-preview-icons[_ngcontent-%COMP%]{float:right}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon.ngx-gallery-icon-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.4}.ngx-spinner-wrapper[_ngcontent-%COMP%]{width:50px;height:50px;display:none}.ngx-spinner-wrapper.ngx-gallery-active[_ngcontent-%COMP%]{display:inline-block}.ngx-gallery-center[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;margin:auto;top:0}.ngx-gallery-preview-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;flex:0 1 auto;z-index:10}.ngx-gallery-preview-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-flow:column}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;position:relative}"],changeDetection:0}),mt})(),Ee=(()=>{class mt{}return mt.Fade="fade",mt.Slide="slide",mt.Rotate="rotate",mt.Zoom="zoom",mt})(),Te=(()=>{class mt{constructor(Ce,je,ut,hn){this.sanitization=Ce,this.changeDetectorRef=je,this.elementRef=ut,this.helperService=hn,this.imageClick=new i.bkB,this.activeChange=new i.bkB,this.animating=new i.bkB,this.canChangeImage=!0,this.isAnimating=!1,this.changeDetectorRef=je,this.action="none"}set selectedIndex(Ce){if(Ce>this._selectedIndex){let je;this.animation===Ee.Slide?je="slideRight":this.animation===Ee.Fade?je="fade":this.animation===Ee.Rotate?je="rotateRight":this.animation===Ee.Zoom&&(je="zoom"),this.setAction(je)}else if(Ce<this._selectedIndex){let je;this.animation===Ee.Slide?je="slideLeft":this.animation===Ee.Fade?je="fade":this.animation===Ee.Rotate?je="rotateLeft":this.animation===Ee.Zoom&&(je="zoom"),this.setAction(je)}this._selectedIndex=Ce}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1),this.autoPlay&&this.startAutoPlay()}ngOnChanges(Ce){Ce.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"image",()=>this.showNext(),()=>this.showPrev())}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0),this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1),this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}reset(Ce){this._selectedIndex=Ce,this.action="none"}getImages(){if(!this.images)return[];if(this.lazyLoading){const Ce=[this._selectedIndex],je=this._selectedIndex-1;-1===je&&this.infinityMove?Ce.push(this.images.length-1):je>=0&&Ce.push(je);const ut=this._selectedIndex+1;return ut===this.images.length&&this.infinityMove?Ce.push(0):ut<this.images.length&&Ce.push(ut),this.images.filter((hn,an)=>-1!==Ce.indexOf(an))}return this.images}startAutoPlay(){this.stopAutoPlay(),this.timer=setInterval(()=>{this.showNext()||(this._selectedIndex=-1,this.showNext())},this.autoPlayInterval)}stopAutoPlay(){this.timer&&clearInterval(this.timer)}handleClick(Ce,je){this.clickable&&(this.imageClick.emit(je),Ce.stopPropagation(),Ce.preventDefault())}show(Ce){if(!this.isAnimating){if(Ce>this._selectedIndex){let je;this.animation===Ee.Slide?je="slideRight":this.animation===Ee.Fade?je="fade":this.animation===Ee.Rotate?je="rotateRight":this.animation===Ee.Zoom&&(je="zoom"),this.setAction(je)}else{let je;this.animation===Ee.Slide?je="slideLeft":this.animation===Ee.Fade?je="fade":this.animation===Ee.Rotate?je="rotateLeft":this.animation===Ee.Zoom&&(je="zoom"),this.setAction(je)}this._selectedIndex=Ce,this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setAction(Ce){this.action=Ce,this.changeDetectorRef.detectChanges()}showNext(){if(this.isAnimating)return!1;if(this.canShowNext()&&this.canChangeImage){let Ce;return this.animation===Ee.Slide?Ce="slideRight":this.animation===Ee.Fade?Ce="fade":this.animation===Ee.Rotate?Ce="rotateRight":this.animation===Ee.Zoom&&(Ce="zoom"),this.setAction(Ce),this._selectedIndex++,this._selectedIndex===this.images.length&&(this._selectedIndex=0),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout(),!0}return!1}showPrev(){if(!this.isAnimating&&this.canShowPrev()&&this.canChangeImage){let Ce;this.animation===Ee.Slide?Ce="slideLeft":this.animation===Ee.Fade?Ce="fade":this.animation===Ee.Rotate?Ce="rotateLeft":this.animation===Ee.Zoom&&(Ce="zoom"),this.setAction(Ce),this._selectedIndex--,this._selectedIndex<0&&(this._selectedIndex=this.images.length-1),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setChangeTimeout(){this.canChangeImage=!1;let Ce=1e3;(this.animation===Ee.Slide||this.animation===Ee.Fade)&&(Ce=500),setTimeout(()=>{this.canChangeImage=!0},Ce)}canShowNext(){return!!this.images&&(this.infinityMove||this._selectedIndex<this.images.length-1)}canShowPrev(){return!!this.images&&(this.infinityMove||this._selectedIndex>0)}getSafeUrl(Ce){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(Ce.toString()))}getFileType(Ce){return this.helperService.getFileType(Ce)}onStart(Ce){this.isAnimating=!0,this.animating.emit(!0)}onDone(Ce){this.isAnimating=!1,this.animating.emit(!1)}}return mt.\u0275fac=function(Ce){return new(Ce||mt)(i.rXU(t.up),i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(ce))},mt.\u0275cmp=i.VBU({type:mt,selectors:[["ngx-gallery-image"]],hostBindings:function(Ce,je){1&Ce&&i.bIt("mouseenter",function(){return je.onMouseEnter()})("mouseleave",function(){return je.onMouseLeave()})},inputs:{images:"images",clickable:"clickable",selectedIndex:"selectedIndex",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",animation:"animation",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",lazyLoading:"lazyLoading",actions:"actions",descriptions:"descriptions",showDescription:"showDescription",bullets:"bullets"},outputs:{imageClick:"imageClick",activeChange:"activeChange",animating:"animating"},features:[i.OA$],decls:4,vars:7,consts:[[4,"ngFor","ngForOf"],[3,"count","active","bulletChange",4,"ngIf"],[3,"class","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],["class","ngx-gallery-image",3,"ngClass","background-image","click",4,"ngIf"],[1,"ngx-gallery-image",3,"click","ngClass"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-image-text",3,"innerHTML","click",4,"ngIf"],[3,"closeClick","icon","disabled","titleText"],[1,"ngx-gallery-image-text",3,"click","innerHTML"],["controls","",2,"width","100%","height","100%","background","#000"],[3,"src"],[3,"bulletChange","count","active"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"]],template:function(Ce,je){1&Ce&&(i.j41(0,"div"),i.DNE(1,Y,3,2,"ng-container",0)(2,G,1,2,"ngx-gallery-bullets",1)(3,q,1,7,"ngx-gallery-arrows",2),i.k0s()),2&Ce&&(i.STu("ngx-gallery-image-wrapper ngx-gallery-animation-",je.animation," ngx-gallery-image-size-",je.size,""),i.R7$(),i.Y8G("ngForOf",je.getImages()),i.R7$(),i.Y8G("ngIf",je.bullets),i.R7$(),i.Y8G("ngIf",je.arrows))},dependencies:[be,me,De,u.Sq,u.bT,u.YU],styles:["[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-image-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;overflow:hidden}.ngx-gallery-image[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;height:100%;width:100%;position:absolute;top:0}.ngx-gallery-image-size-cover[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-image-size-contain[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{left:0;opacity:1;transition:.5s ease-in-out}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-animation-rotate[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1) rotate(0);left:0;opacity:1}.ngx-gallery-animation-zoom[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1);left:0;opacity:1}.ngx-gallery-image-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;position:absolute;bottom:0;z-index:10}"],data:{animation:[(0,e.hZ)("animation",[(0,e.wk)("slideRight",(0,e.iF)({})),(0,e.wk)("slideLeft",(0,e.iF)({})),(0,e.wk)("fade",(0,e.iF)({})),(0,e.wk)("rotateLeft",(0,e.iF)({})),(0,e.wk)("rotateRight",(0,e.iF)({})),(0,e.wk)("zoom",(0,e.iF)({})),(0,e.kY)("slideRight => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(-100%)"}))]),(0,e.kY)("void => slideRight",[(0,e.iF)({transform:"translateX(100%)"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(0)"}))]),(0,e.kY)("slideLeft => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(100%)"}))]),(0,e.kY)("void => slideLeft",[(0,e.iF)({transform:"translateX(-100%)"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(0)"}))]),(0,e.kY)("fade => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({opacity:"0"}))]),(0,e.kY)("void => fade",[(0,e.iF)({opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({opacity:"1"}))]),(0,e.kY)("rotateLeft => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}))]),(0,e.kY)("void => rotateLeft",[(0,e.iF)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,e.kY)("rotateRight => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}))]),(0,e.kY)("void => rotateRight",[(0,e.iF)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,e.kY)("zoom => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(2.5,2.5)",opacity:"0"}))]),(0,e.kY)("void => zoom",[(0,e.iF)({transform:"scale(2.5,2.5)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1)",opacity:"1"}))])])]},changeDetection:0}),mt})(),tt=(()=>{class mt{}return mt.Column=1,mt.Row=2,mt.Page=3,mt})(),ht=(()=>{class mt{constructor(Ce,je,ut){this.sanitization=Ce,this.elementRef=je,this.helperService=ut,this.minStopIndex=0,this.activeChange=new i.bkB,this.index=0}ngOnChanges(Ce){Ce.selectedIndex&&this.validateIndex(),Ce.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"thumbnails",()=>this.moveRight(),()=>this.moveLeft()),this.images&&(this.remainingCountValue=this.images.length-this.rows*this.columns)}onMouseEnter(){this.mouseenter=!0}onMouseLeave(){this.mouseenter=!1}reset(Ce){this.selectedIndex=Ce,this.setDefaultPosition(),this.index=0,this.validateIndex()}getImages(){if(!this.images)return[];if(this.remainingCount)return this.images.slice(0,this.rows*this.columns);if(this.lazyLoading&&this.order!==tt.Row){let Ce=0;return this.order===tt.Column?Ce=(this.index+this.columns+this.moveSize)*this.rows:this.order===tt.Page&&(Ce=this.index+this.columns*this.rows*2),Ce<=this.minStopIndex?Ce=this.minStopIndex:this.minStopIndex=Ce,this.images.slice(0,Ce)}return this.images}handleClick(Ce,je){!this.hasLink(je)&&!this.isAnimating&&(this.selectedIndex=je,this.activeChange.emit(je)),Ce.stopPropagation(),Ce.preventDefault()}hasLink(Ce){return!!(this.links&&this.links.length&&this.links[Ce])}moveRight(){if(this.canMoveRight()){this.index+=this.moveSize;const Ce=this.getMaxIndex()-this.columns;this.index>Ce&&(this.index=Ce),this.setThumbnailsPosition()}}moveLeft(){this.canMoveLeft()&&(this.index-=this.moveSize,this.index<0&&(this.index=0),this.setThumbnailsPosition())}canMoveRight(){return this.index+this.columns<this.getMaxIndex()}canMoveLeft(){return 0!==this.index}getThumbnailLeft(Ce){let je;return je=this.order===tt.Column?Math.floor(Ce/this.rows):this.order===tt.Page?Ce%this.columns+Math.floor(Ce/(this.rows*this.columns))*this.columns:this.order===tt.Row&&this.remainingCount?Ce%this.columns:Ce%Math.ceil(this.images.length/this.rows),this.getThumbnailPosition(je,this.columns)}getThumbnailTop(Ce){let je;return je=this.order===tt.Column?Ce%this.rows:this.order===tt.Page?Math.floor(Ce/this.columns)-Math.floor(Ce/(this.rows*this.columns))*this.rows:this.order===tt.Row&&this.remainingCount?Math.floor(Ce/this.columns):Math.floor(Ce/Math.ceil(this.images.length/this.rows)),this.getThumbnailPosition(je,this.rows)}getThumbnailWidth(){return this.getThumbnailDimension(this.columns)}getThumbnailHeight(){return this.getThumbnailDimension(this.rows)}setThumbnailsPosition(){this.thumbnailsLeft=-100/this.columns*this.index+"%",this.thumbnailsMarginLeft=-(this.margin-(this.columns-1)*this.margin/this.columns)*this.index+"px"}setDefaultPosition(){this.thumbnailsLeft="0px",this.thumbnailsMarginLeft="0px"}canShowArrows(){return!this.remainingCount&&this.arrows&&this.images&&this.images.length>this.getVisibleCount()&&(!this.arrowsAutoHide||this.mouseenter)}validateIndex(){if(this.images){let Ce;if(Ce=this.order===tt.Column?Math.floor(this.selectedIndex/this.rows):this.selectedIndex%Math.ceil(this.images.length/this.rows),this.remainingCount&&(Ce=0),Ce<this.index||Ce>=this.index+this.columns){const je=this.getMaxIndex()-this.columns;this.index=Ce>je?je:Ce,this.setThumbnailsPosition()}}}getSafeUrl(Ce){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(Ce.toString()))}getFileType(Ce){return this.helperService.getFileType(Ce.toString())}getThumbnailPosition(Ce,je){return this.getSafeStyle("calc("+100/je*Ce+"% + "+(this.margin-(je-1)*this.margin/je)*Ce+"px)")}getThumbnailDimension(Ce){return this.getSafeStyle(0!==this.margin?"calc("+100/Ce+"% - "+(Ce-1)*this.margin/Ce+"px)":"calc("+100/Ce+"% + 1px)")}getMaxIndex(){if(this.order===tt.Page){let Ce=Math.floor(this.images.length/this.getVisibleCount())*this.columns;return this.images.length%this.getVisibleCount()>this.columns?Ce+=this.columns:Ce+=this.images.length%this.getVisibleCount(),Ce}return Math.ceil(this.images.length/this.rows)}getVisibleCount(){return this.columns*this.rows}getSafeStyle(Ce){return this.sanitization.bypassSecurityTrustStyle(Ce)}}return mt.\u0275fac=function(Ce){return new(Ce||mt)(i.rXU(t.up),i.rXU(i.aKT),i.rXU(ce))},mt.\u0275cmp=i.VBU({type:mt,selectors:[["ngx-gallery-thumbnails"]],hostBindings:function(Ce,je){1&Ce&&i.bIt("mouseenter",function(){return je.onMouseEnter()})("mouseleave",function(){return je.onMouseLeave()})},inputs:{images:"images",isAnimating:"isAnimating",links:"links",labels:"labels",linkTarget:"linkTarget",columns:"columns",rows:"rows",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",margin:"margin",selectedIndex:"selectedIndex",clickable:"clickable",swipe:"swipe",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",moveSize:"moveSize",order:"order",remainingCount:"remainingCount",lazyLoading:"lazyLoading",actions:"actions"},outputs:{activeChange:"activeChange"},features:[i.OA$],decls:4,vars:9,consts:[[1,"ngx-gallery-thumbnails"],["class","ngx-gallery-thumbnail",3,"href","target","width","height","left","top","ngClass","click",4,"ngFor","ngForOf"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-thumbnail",3,"click","href","target","ngClass"],["class","ngx-gallery-thumbnail","style","width: 100%; height: 100%; position:absolute;",3,"background-image","ngClass",4,"ngIf"],["class","ngx-gallery-thumbnail-video",4,"ngIf"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-remaining-count-overlay",4,"ngIf"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute",3,"ngClass"],[1,"ngx-gallery-thumbnail-video"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute","left","0","background","#000",3,"ngClass"],[3,"src"],[3,"closeClick","icon","disabled","titleText"],[1,"ngx-gallery-remaining-count-overlay"],[1,"ngx-gallery-remaining-count"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"]],template:function(Ce,je){1&Ce&&(i.j41(0,"div")(1,"div",0),i.DNE(2,ee,6,19,"a",1),i.k0s()(),i.DNE(3,le,1,4,"ngx-gallery-arrows",2)),2&Ce&&(i.ZvI("ngx-gallery-thumbnails-wrapper ngx-gallery-thumbnail-size-",je.size,""),i.R7$(),i.xc7("transform","translateX("+je.thumbnailsLeft+")")("margin-left",je.thumbnailsMarginLeft),i.R7$(),i.Y8G("ngForOf",je.getImages()),i.R7$(),i.Y8G("ngIf",je.canShowArrows()))},dependencies:[be,De,u.Sq,u.YU,u.bT],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-thumbnails-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}.ngx-gallery-thumbnails[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;left:0;transform:translate(0);transition:transform .5s ease-in-out;will-change:transform}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{position:absolute;height:100%;background-position:center;background-repeat:no-repeat;text-decoration:none;border:1px double black}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .ngx-gallery-thumbnail-video[_ngcontent-%COMP%]:after{content:"\\f144";display:block;position:absolute;background:#0000;height:100%;width:100%;left:0;top:calc(50% - 20px);font-size:40px;color:#fff;margin:0;padding:0;font-family:fontawesome;text-shadow:0px 4px 3px rgba(0,0,0,.4),0px 8px 13px rgba(0,0,0,.1),0px 18px 23px rgba(0,0,0,.1)}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{background-size:cover;height:100%}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail.ngx-gallery-active[_ngcontent-%COMP%]{border:1px double #cc4548}.ngx-gallery-thumbnail-size-cover[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-thumbnail-size-contain[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-remaining-count-overlay[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;background-color:#0006}.ngx-gallery-remaining-count[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:30px}'],changeDetection:0}),mt})();class Fe{constructor(Pt){this.icon=Pt.icon,this.disabled=!!Pt.disabled&&Pt.disabled,this.titleText=Pt.titleText?Pt.titleText:"",this.onClick=Pt.onClick}}let Et=(()=>{class mt{}return mt.ThumbnailsTop="thumbnails-top",mt.ThumbnailsBottom="thumbnails-bottom",mt})(),Ye=(()=>{class mt{}return mt.Cover="cover",mt.Contain="contain",mt})();class pt{constructor(Pt){const Ce=void 0!==Pt.breakpoint;function je(ut,hn){return Pt&&(void 0!==ut||Ce)?ut:hn}this.breakpoint=je(Pt.breakpoint,void 0),this.width=je(Pt.width,"500px"),this.height=je(Pt.height,"400px"),this.fullWidth=je(Pt.fullWidth,!1),this.layout=je(Pt.layout,Et.ThumbnailsBottom),this.startIndex=je(Pt.startIndex,0),this.linkTarget=je(Pt.linkTarget,"_blank"),this.lazyLoading=je(Pt.lazyLoading,!0),this.image=je(Pt.image,!0),this.imagePercent=je(Pt.imagePercent,75),this.imageArrows=je(Pt.imageArrows,!0),this.imageArrowsAutoHide=je(Pt.imageArrowsAutoHide,!1),this.imageSwipe=je(Pt.imageSwipe,!1),this.imageAnimation=je(Pt.imageAnimation,Ee.Fade),this.imageSize=je(Pt.imageSize,Ye.Cover),this.imageAutoPlay=je(Pt.imageAutoPlay,!1),this.imageAutoPlayInterval=je(Pt.imageAutoPlayInterval,2e3),this.imageAutoPlayPauseOnHover=je(Pt.imageAutoPlayPauseOnHover,!1),this.imageInfinityMove=je(Pt.imageInfinityMove,!1),Pt&&Pt.imageActions&&Pt.imageActions.length&&(Pt.imageActions=Pt.imageActions.map(ut=>new Fe(ut))),this.imageActions=je(Pt.imageActions,[]),this.imageDescription=je(Pt.imageDescription,!1),this.imageBullets=je(Pt.imageBullets,!1),this.thumbnails=je(Pt.thumbnails,!0),this.thumbnailsColumns=je(Pt.thumbnailsColumns,4),this.thumbnailsRows=je(Pt.thumbnailsRows,1),this.thumbnailsPercent=je(Pt.thumbnailsPercent,25),this.thumbnailsMargin=je(Pt.thumbnailsMargin,10),this.thumbnailsArrows=je(Pt.thumbnailsArrows,!0),this.thumbnailsArrowsAutoHide=je(Pt.thumbnailsArrowsAutoHide,!1),this.thumbnailsSwipe=je(Pt.thumbnailsSwipe,!1),this.thumbnailsMoveSize=je(Pt.thumbnailsMoveSize,1),this.thumbnailsOrder=je(Pt.thumbnailsOrder,tt.Column),this.thumbnailsRemainingCount=je(Pt.thumbnailsRemainingCount,!1),this.thumbnailsAsLinks=je(Pt.thumbnailsAsLinks,!1),this.thumbnailsAutoHide=je(Pt.thumbnailsAutoHide,!1),this.thumbnailMargin=je(Pt.thumbnailMargin,10),this.thumbnailSize=je(Pt.thumbnailSize,Ye.Cover),Pt&&Pt.thumbnailActions&&Pt.thumbnailActions.length&&(Pt.thumbnailActions=Pt.thumbnailActions.map(ut=>new Fe(ut))),this.thumbnailActions=je(Pt.thumbnailActions,[]),this.thumbnailClasses=je(Pt.thumbnailClasses,[]),this.preview=je(Pt.preview,!0),this.previewDescription=je(Pt.previewDescription,!0),this.previewArrows=je(Pt.previewArrows,!0),this.previewArrowsAutoHide=je(Pt.previewArrowsAutoHide,!1),this.previewSwipe=je(Pt.previewSwipe,!1),this.previewFullscreen=je(Pt.previewFullscreen,!1),this.previewForceFullscreen=je(Pt.previewForceFullscreen,!1),this.previewCloseOnClick=je(Pt.previewCloseOnClick,!1),this.previewCloseOnEsc=je(Pt.previewCloseOnEsc,!1),this.previewKeyboardNavigation=je(Pt.previewKeyboardNavigation,!1),this.previewAnimation=je(Pt.previewAnimation,!0),this.previewAutoPlay=je(Pt.previewAutoPlay,!1),this.previewAutoPlayInterval=je(Pt.previewAutoPlayInterval,2e3),this.previewAutoPlayPauseOnHover=je(Pt.previewAutoPlayPauseOnHover,!1),this.previewInfinityMove=je(Pt.previewInfinityMove,!1),this.previewZoom=je(Pt.previewZoom,!1),this.previewZoomStep=je(Pt.previewZoomStep,.1),this.previewZoomMax=je(Pt.previewZoomMax,2),this.previewZoomMin=je(Pt.previewZoomMin,.5),this.previewRotate=je(Pt.previewRotate,!1),this.previewDownload=je(Pt.previewDownload,!1),this.previewCustom=je(Pt.previewCustom,void 0),this.previewBullets=je(Pt.previewBullets,!1),this.arrowPrevIcon=je(Pt.arrowPrevIcon,"fa fa-arrow-circle-left"),this.arrowNextIcon=je(Pt.arrowNextIcon,"fa fa-arrow-circle-right"),this.closeIcon=je(Pt.closeIcon,"fa fa-times-circle"),this.fullscreenIcon=je(Pt.fullscreenIcon,"fa fa-arrows-alt"),this.spinnerIcon=je(Pt.spinnerIcon,"fa fa-spinner fa-pulse fa-3x fa-fw"),this.zoomInIcon=je(Pt.zoomInIcon,"fa fa-search-plus"),this.zoomOutIcon=je(Pt.zoomOutIcon,"fa fa-search-minus"),this.rotateLeftIcon=je(Pt.rotateLeftIcon,"fa fa-undo"),this.rotateRightIcon=je(Pt.rotateRightIcon,"fa fa-repeat"),this.downloadIcon=je(Pt.downloadIcon,"fa fa-arrow-circle-down"),Pt&&Pt.actions&&Pt.actions.length&&(Pt.actions=Pt.actions.map(ut=>new Fe(ut))),this.actions=je(Pt.actions,[])}}class Mt{constructor(Pt){this.src=Pt.src,this.type=Pt.type,this.index=Pt.index}}let Ne=(()=>{class mt{constructor(Ce,je){this.myElement=Ce,this.helperService=je,this.options=[{}],this.imagesReady=new i.bkB,this.change=new i.bkB,this.previewOpen=new i.bkB,this.previewClose=new i.bkB,this.previewChange=new i.bkB,this.oldImagesLength=0,this.selectedIndex=0,this.breakpoint=void 0,this.prevBreakpoint=void 0}ngOnInit(){this.options=this.options.map(Ce=>new pt(Ce)),this.sortOptions(),this.setBreakpoint(),this.setOptions(),this.checkFullWidth(),this.currentOptions&&(this.selectedIndex=this.currentOptions.startIndex)}ngDoCheck(){(void 0!==this.images&&this.images.length!==this.oldImagesLength||this.images!==this.oldImages)&&(this.oldImagesLength=this.images.length,this.oldImages=this.images,this.setOptions(),this.setImages(),this.images&&this.images.length&&this.imagesReady.emit(),this.image&&this.image.reset(this.currentOptions.startIndex),this.currentOptions.thumbnailsAutoHide&&this.currentOptions.thumbnails&&this.images.length<=1&&(this.currentOptions.thumbnails=!1,this.currentOptions.imageArrows=!1),this.resetThumbnails())}ngAfterViewInit(){this.checkFullWidth()}onResize(){this.setBreakpoint(),this.prevBreakpoint!==this.breakpoint&&(this.setOptions(),this.resetThumbnails()),this.currentOptions&&this.currentOptions.fullWidth&&(this.fullWidthTimeout&&clearTimeout(this.fullWidthTimeout),this.fullWidthTimeout=setTimeout(()=>{this.checkFullWidth()},200))}getImageHeight(){return this.currentOptions&&this.currentOptions.thumbnails?this.currentOptions.imagePercent+"%":"100%"}getThumbnailsHeight(){return this.currentOptions&&this.currentOptions.image?"calc("+this.currentOptions.thumbnailsPercent+"% - "+this.currentOptions.thumbnailsMargin+"px)":"100%"}getThumbnailsMarginTop(){return this.currentOptions&&this.currentOptions.layout===Et.ThumbnailsBottom?this.currentOptions.thumbnailsMargin+"px":"0px"}getThumbnailsMarginBottom(){return this.currentOptions&&this.currentOptions.layout===Et.ThumbnailsTop?this.currentOptions.thumbnailsMargin+"px":"0px"}openPreview(Ce){this.currentOptions.previewCustom?this.currentOptions.previewCustom(Ce):(this.previewEnabled=!0,this.preview.open(Ce))}onPreviewOpen(){this.previewOpen.emit(),this.image&&this.image.autoPlay&&this.image.stopAutoPlay()}onPreviewClose(){this.previewEnabled=!1,this.previewClose.emit(),this.image&&this.image.autoPlay&&this.image.startAutoPlay()}selectFromImage(Ce){this.select(Ce)}selectFromThumbnails(Ce){this.select(Ce),this.currentOptions&&this.currentOptions.thumbnails&&this.currentOptions.preview&&(!this.currentOptions.image||this.currentOptions.thumbnailsRemainingCount)&&this.openPreview(this.selectedIndex)}show(Ce){this.select(Ce)}showNext(){this.image.showNext()}showPrev(){this.image.showPrev()}canShowNext(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex<this.images.length-1))}canShowPrev(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex>0))}previewSelect(Ce){this.previewChange.emit({index:Ce,image:this.images[Ce]})}moveThumbnailsRight(){this.thumbnails.moveRight()}moveThumbnailsLeft(){this.thumbnails.moveLeft()}canMoveThumbnailsRight(){return this.thumbnails.canMoveRight()}canMoveThumbnailsLeft(){return this.thumbnails.canMoveLeft()}resetThumbnails(){this.thumbnails&&this.thumbnails.reset(this.currentOptions.startIndex)}select(Ce){this.selectedIndex=Ce,this.change.emit({index:Ce,image:this.images[Ce]})}checkFullWidth(){this.currentOptions&&this.currentOptions.fullWidth&&(this.width=document.body.clientWidth+"px",this.left="translateX("+-(document.body.clientWidth-this.myElement.nativeElement.parentNode.innerWidth)/2+"px)")}setImages(){this.images.forEach(Ce=>Ce.type=this.helperService.getFileType(Ce.url||Ce.big||Ce.medium||Ce.small||"")),this.smallImages=this.images.map(Ce=>Ce.small),this.mediumImages=this.images.map((Ce,je)=>new Mt({src:Ce.medium,type:Ce.type,index:je})),this.bigImages=this.images.map(Ce=>Ce.big),this.descriptions=this.images.map(Ce=>Ce.description),this.links=this.images.map(Ce=>Ce.url),this.labels=this.images.map(Ce=>Ce.label)}setBreakpoint(){let Ce;this.prevBreakpoint=this.breakpoint,typeof window<"u"&&(Ce=this.options.filter(je=>je.breakpoint>=window.innerWidth).map(je=>je.breakpoint)),this.breakpoint=Ce&&Ce.length?Ce.pop():void 0}sortOptions(){this.options=[...this.options.filter(Ce=>void 0===Ce.breakpoint),...this.options.filter(Ce=>void 0!==Ce.breakpoint).sort((Ce,je)=>je.breakpoint-Ce.breakpoint)]}setOptions(){this.currentOptions=new pt({}),this.options.filter(Ce=>void 0===Ce.breakpoint||Ce.breakpoint>=this.breakpoint).map(Ce=>this.combineOptions(this.currentOptions,Ce)),this.width=this.currentOptions.width,this.height=this.currentOptions.height}combineOptions(Ce,je){Object.keys(je).map(ut=>Ce[ut]=void 0!==je[ut]?je[ut]:Ce[ut])}setAnimating(Ce){this.isAnimating=Ce}}return mt.\u0275fac=function(Ce){return new(Ce||mt)(i.rXU(i.aKT),i.rXU(ce))},mt.\u0275cmp=i.VBU({type:mt,selectors:[["ngx-gallery"]],viewQuery:function(Ce,je){if(1&Ce&&(i.GBs(re,5),i.GBs(Te,5),i.GBs(ht,5)),2&Ce){let ut;i.mGM(ut=i.lsd())&&(je.preview=ut.first),i.mGM(ut=i.lsd())&&(je.image=ut.first),i.mGM(ut=i.lsd())&&(je.thumbnails=ut.first)}},hostVars:6,hostBindings:function(Ce,je){1&Ce&&i.bIt("resize",function(){return je.onResize()},!1,i.tSv),2&Ce&&i.xc7("width",je.width)("height",je.height)("transform",je.left)},inputs:{options:"options",images:"images"},outputs:{imagesReady:"imagesReady",change:"change",previewOpen:"previewOpen",previewClose:"previewClose",previewChange:"previewChange"},features:[i.Jv_([ce])],decls:4,vars:41,consts:[[3,"height","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets","imageClick","activeChange","animating",4,"ngIf"],[3,"marginTop","marginBottom","height","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass","activeChange",4,"ngIf"],[3,"previewClose","previewOpen","activeChange","images","descriptions","showDescription","arrowPrevIcon","arrowNextIcon","closeIcon","fullscreenIcon","spinnerIcon","arrows","arrowsAutoHide","swipe","fullscreen","forceFullscreen","closeOnClick","closeOnEsc","keyboardNavigation","animation","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","zoom","zoomStep","zoomMax","zoomMin","zoomInIcon","zoomOutIcon","actions","rotate","rotateLeftIcon","rotateRightIcon","download","downloadIcon","bullets"],[3,"imageClick","activeChange","animating","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets"],[3,"activeChange","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass"]],template:function(Ce,je){1&Ce&&(i.j41(0,"div"),i.DNE(1,fe,1,21,"ngx-gallery-image",0)(2,se,1,29,"ngx-gallery-thumbnails",1),i.j41(3,"ngx-gallery-preview",2),i.bIt("previewClose",function(){return je.onPreviewClose()})("previewOpen",function(){return je.onPreviewOpen()})("activeChange",function(hn){return je.previewSelect(hn)}),i.k0s()()),2&Ce&&(i.ZvI("ngx-gallery-layout ",null==je.currentOptions?null:je.currentOptions.layout,""),i.R7$(),i.Y8G("ngIf",null==je.currentOptions?null:je.currentOptions.image),i.R7$(),i.Y8G("ngIf",null==je.currentOptions?null:je.currentOptions.thumbnails),i.R7$(),i.AVh("ngx-gallery-active",je.previewEnabled),i.Y8G("images",je.bigImages)("descriptions",je.descriptions)("showDescription",null==je.currentOptions?null:je.currentOptions.previewDescription)("arrowPrevIcon",null==je.currentOptions?null:je.currentOptions.arrowPrevIcon)("arrowNextIcon",null==je.currentOptions?null:je.currentOptions.arrowNextIcon)("closeIcon",null==je.currentOptions?null:je.currentOptions.closeIcon)("fullscreenIcon",null==je.currentOptions?null:je.currentOptions.fullscreenIcon)("spinnerIcon",null==je.currentOptions?null:je.currentOptions.spinnerIcon)("arrows",null==je.currentOptions?null:je.currentOptions.previewArrows)("arrowsAutoHide",null==je.currentOptions?null:je.currentOptions.previewArrowsAutoHide)("swipe",null==je.currentOptions?null:je.currentOptions.previewSwipe)("fullscreen",null==je.currentOptions?null:je.currentOptions.previewFullscreen)("forceFullscreen",null==je.currentOptions?null:je.currentOptions.previewForceFullscreen)("closeOnClick",null==je.currentOptions?null:je.currentOptions.previewCloseOnClick)("closeOnEsc",null==je.currentOptions?null:je.currentOptions.previewCloseOnEsc)("keyboardNavigation",null==je.currentOptions?null:je.currentOptions.previewKeyboardNavigation)("animation",null==je.currentOptions?null:je.currentOptions.previewAnimation)("autoPlay",null==je.currentOptions?null:je.currentOptions.previewAutoPlay)("autoPlayInterval",null==je.currentOptions?null:je.currentOptions.previewAutoPlayInterval)("autoPlayPauseOnHover",null==je.currentOptions?null:je.currentOptions.previewAutoPlayPauseOnHover)("infinityMove",null==je.currentOptions?null:je.currentOptions.previewInfinityMove)("zoom",null==je.currentOptions?null:je.currentOptions.previewZoom)("zoomStep",null==je.currentOptions?null:je.currentOptions.previewZoomStep)("zoomMax",null==je.currentOptions?null:je.currentOptions.previewZoomMax)("zoomMin",null==je.currentOptions?null:je.currentOptions.previewZoomMin)("zoomInIcon",null==je.currentOptions?null:je.currentOptions.zoomInIcon)("zoomOutIcon",null==je.currentOptions?null:je.currentOptions.zoomOutIcon)("actions",null==je.currentOptions?null:je.currentOptions.actions)("rotate",null==je.currentOptions?null:je.currentOptions.previewRotate)("rotateLeftIcon",null==je.currentOptions?null:je.currentOptions.rotateLeftIcon)("rotateRightIcon",null==je.currentOptions?null:je.currentOptions.rotateRightIcon)("download",null==je.currentOptions?null:je.currentOptions.previewDownload)("downloadIcon",null==je.currentOptions?null:je.currentOptions.downloadIcon)("bullets",null==je.currentOptions?null:je.currentOptions.previewBullets))},dependencies:[Te,ht,re,u.bT,u.YU],styles:[":host{display:inline-block}:host>*{float:left}.ngx-gallery-layout{width:100%;height:100%;display:flex;flex-direction:column}.ngx-gallery-layout.thumbnails-top ngx-gallery-image{order:2}.ngx-gallery-layout.thumbnails-top ngx-gallery-thumbnails{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-image{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-thumbnails{order:2}*{box-sizing:border-box}.ngx-gallery-icon{color:#fff;position:absolute;display:inline-block}.ngx-gallery-icon .ngx-gallery-icon-content{display:block}ngx-gallery-preview{font-size:25px}ngx-gallery-preview .ngx-gallery-icon{z-index:2000}.ngx-gallery-clickable{cursor:pointer}.ngx-gallery-icons-wrapper .ngx-gallery-icon{position:relative;margin-right:5px;margin-top:5px;font-size:20px;cursor:pointer}.ngx-gallery-icons-wrapper{float:right}\n"],encapsulation:2,changeDetection:0}),mt})(),rt=(()=>{class mt extends t.EZ{constructor(){super(...arguments),this.overrides={pinch:{enable:!1},rotate:{enable:!1}}}}return mt.\u0275fac=(()=>{let Pt;return function(je){return(Pt||(Pt=i.xGo(mt)))(je||mt)}})(),mt.\u0275prov=i.jDH({token:mt,factory:mt.\u0275fac}),mt})(),Gt=(()=>{class mt{}return mt.\u0275fac=function(Ce){return new(Ce||mt)},mt.\u0275mod=i.$C({type:mt}),mt.\u0275inj=i.G2t({providers:[{provide:t.kQ,useClass:rt}],imports:[[u.MD]]}),mt})()},58003:(F,D,n)=>{"use strict";n.d(D,{W1:()=>Fi,_f:()=>Go,Lw:()=>qu,so:()=>go,Ll:()=>xr,b7:()=>Eo,$G:()=>rc,HC:()=>Za,yB:()=>ml,I5:()=>Pe,IQ:()=>Si,tg:()=>eu,E5:()=>Ko,_H:()=>bd,U0:()=>Qu,zH:()=>Oa,do:()=>Wr,cw:()=>tl,Bq:()=>uv,LY:()=>wm,UN:()=>hh,X9:()=>dc,Um:()=>Vc,sy:()=>eh,Ri:()=>th,Pv:()=>Hr,m_:()=>Fs,QE:()=>Bp,s5:()=>Od,MI:()=>oh,c9:()=>ah,CT:()=>Xn,t3:()=>Ns,sb:()=>Ri,px:()=>Xi,M0:()=>sr,hC:()=>gv,Ny:()=>ou,Pe:()=>vv,Ng:()=>$p,tJ:()=>km,md:()=>Wc,n8:()=>lu,$n:()=>Hc,h_:()=>ua});var i=n(54438),t=n(60177),u=n(71985),e=n(983),h=n(7673),m=n(21413),f=n(33726),v=n(41584),E=n(1033),_=n(84412),I=(n(84572),n(85343));new u.c(I.l);var A=n(44437),p=n(57786),x=n(92688),w=n(56977),M=n(5964),L=n(96697),B=n(96354),k=n(99172),W=n(23294),U=n(25558),K=n(88141),Y=n(53993),G=n(35335),q=n(73028),z=n(65245),te=n(97647),Z=n(89417),J={left:"right",right:"left",bottom:"top",top:"bottom"};function Q(N){return N.replace(/left|right|bottom|top/g,function(X){return J[X]})}function ee(N){return N.split("-")[0]}var le={start:"end",end:"start"};function ne(N){return N.replace(/start|end/g,function(X){return le[X]})}var fe="top",se="bottom",ce="right",De="left",be="auto",me=[fe,se,ce,De],re="start",Ee="end",tt="viewport",ht="popper",Et=me.reduce(function(N,X){return N.concat([X+"-"+re,X+"-"+Ee])},[]),Ye=[].concat(me,[be]).reduce(function(N,X){return N.concat([X,X+"-"+re,X+"-"+Ee])},[]),je=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ut(N){if(null==N)return window;if("[object Window]"!==N.toString()){var X=N.ownerDocument;return X&&X.defaultView||window}return N}function hn(N){return N instanceof ut(N).Element||N instanceof Element}function an(N){return N instanceof ut(N).HTMLElement||N instanceof HTMLElement}function Pn(N){return!(typeof ShadowRoot>"u")&&(N instanceof ut(N).ShadowRoot||N instanceof ShadowRoot)}function yt(N){return((hn(N)?N.ownerDocument:N.document)||window.document).documentElement}var Kt=Math.max,Rt=Math.min,nn=Math.round;function gn(){var N=navigator.userAgentData;return null!=N&&N.brands&&Array.isArray(N.brands)?N.brands.map(function(X){return X.brand+"/"+X.version}).join(" "):navigator.userAgent}function It(){return!/^((?!chrome|android).)*safari/i.test(gn())}function zt(N,X,S){void 0===X&&(X=!1),void 0===S&&(S=!1);var V=N.getBoundingClientRect(),ge=1,Ae=1;X&&an(N)&&(ge=N.offsetWidth>0&&nn(V.width)/N.offsetWidth||1,Ae=N.offsetHeight>0&&nn(V.height)/N.offsetHeight||1);var qt=(hn(N)?ut(N):window).visualViewport,en=!It()&&S,Mn=(V.left+(en&&qt?qt.offsetLeft:0))/ge,Sn=(V.top+(en&&qt?qt.offsetTop:0))/Ae,us=V.width/ge,Kn=V.height/Ae;return{width:us,height:Kn,top:Sn,right:Mn+us,bottom:Sn+Kn,left:Mn,x:Mn,y:Sn}}function Yt(N){var X=ut(N);return{scrollLeft:X.pageXOffset,scrollTop:X.pageYOffset}}function wt(N){return zt(yt(N)).left+Yt(N).scrollLeft}function Jt(N){return ut(N).getComputedStyle(N)}function Ft(N){return N?(N.nodeName||"").toLowerCase():null}function ot(N){return"html"===Ft(N)?N:N.assignedSlot||N.parentNode||(Pn(N)?N.host:null)||yt(N)}function xe(N){var X=Jt(N);return/auto|scroll|overlay|hidden/.test(X.overflow+X.overflowY+X.overflowX)}function Ve(N){return["html","body","#document"].indexOf(Ft(N))>=0?N.ownerDocument.body:an(N)&&xe(N)?N:Ve(ot(N))}function Ke(N,X){var S;void 0===X&&(X=[]);var V=Ve(N),ge=V===(null==(S=N.ownerDocument)?void 0:S.body),Ae=ut(V),Nt=ge?[Ae].concat(Ae.visualViewport||[],xe(V)?V:[]):V,qt=X.concat(Nt);return ge?qt:qt.concat(Ke(ot(Nt)))}function Be(N){return["table","td","th"].indexOf(Ft(N))>=0}function At(N){return an(N)&&"fixed"!==Jt(N).position?N.offsetParent:null}function st(N){for(var X=ut(N),S=At(N);S&&Be(S)&&"static"===Jt(S).position;)S=At(S);return S&&("html"===Ft(S)||"body"===Ft(S)&&"static"===Jt(S).position)?X:S||function Qe(N){var X=/firefox/i.test(gn());if(/Trident/i.test(gn())&&an(N)&&"fixed"===Jt(N).position)return null;var ge=ot(N);for(Pn(ge)&&(ge=ge.host);an(ge)&&["html","body"].indexOf(Ft(ge))<0;){var Ae=Jt(ge);if("none"!==Ae.transform||"none"!==Ae.perspective||"paint"===Ae.contain||-1!==["transform","perspective"].indexOf(Ae.willChange)||X&&"filter"===Ae.willChange||X&&Ae.filter&&"none"!==Ae.filter)return ge;ge=ge.parentNode}return null}(N)||X}function ke(N,X){var S=X.getRootNode&&X.getRootNode();if(N.contains(X))return!0;if(S&&Pn(S)){var V=X;do{if(V&&N.isSameNode(V))return!0;V=V.parentNode||V.host}while(V)}return!1}function Le(N){return Object.assign({},N,{left:N.x,top:N.y,right:N.x+N.width,bottom:N.y+N.height})}function St(N,X,S){return X===tt?Le(function bt(N,X){var S=ut(N),V=yt(N),ge=S.visualViewport,Ae=V.clientWidth,Nt=V.clientHeight,qt=0,en=0;if(ge){Ae=ge.width,Nt=ge.height;var Mn=It();(Mn||!Mn&&"fixed"===X)&&(qt=ge.offsetLeft,en=ge.offsetTop)}return{width:Ae,height:Nt,x:qt+wt(N),y:en}}(N,S)):hn(X)?function dt(N,X){var S=zt(N,!1,"fixed"===X);return S.top=S.top+N.clientTop,S.left=S.left+N.clientLeft,S.bottom=S.top+N.clientHeight,S.right=S.left+N.clientWidth,S.width=N.clientWidth,S.height=N.clientHeight,S.x=S.left,S.y=S.top,S}(X,S):Le(function Dt(N){var X,S=yt(N),V=Yt(N),ge=null==(X=N.ownerDocument)?void 0:X.body,Ae=Kt(S.scrollWidth,S.clientWidth,ge?ge.scrollWidth:0,ge?ge.clientWidth:0),Nt=Kt(S.scrollHeight,S.clientHeight,ge?ge.scrollHeight:0,ge?ge.clientHeight:0),qt=-V.scrollLeft+wt(N),en=-V.scrollTop;return"rtl"===Jt(ge||S).direction&&(qt+=Kt(S.clientWidth,ge?ge.clientWidth:0)-Ae),{width:Ae,height:Nt,x:qt,y:en}}(yt(N)))}function Bn(N){return N.split("-")[1]}function Zn(N){return["top","bottom"].indexOf(N)>=0?"x":"y"}function wn(N){var en,X=N.reference,S=N.element,V=N.placement,ge=V?ee(V):null,Ae=V?Bn(V):null,Nt=X.x+X.width/2-S.width/2,qt=X.y+X.height/2-S.height/2;switch(ge){case fe:en={x:Nt,y:X.y-S.height};break;case se:en={x:Nt,y:X.y+X.height};break;case ce:en={x:X.x+X.width,y:qt};break;case De:en={x:X.x-S.width,y:qt};break;default:en={x:X.x,y:X.y}}var Mn=ge?Zn(ge):null;if(null!=Mn){var Sn="y"===Mn?"height":"width";switch(Ae){case re:en[Mn]=en[Mn]-(X[Sn]/2-S[Sn]/2);break;case Ee:en[Mn]=en[Mn]+(X[Sn]/2-S[Sn]/2)}}return en}function vt(N){return Object.assign({},{top:0,right:0,bottom:0,left:0},N)}function pn(N,X){return X.reduce(function(S,V){return S[V]=N,S},{})}function Nn(N,X){void 0===X&&(X={});var V=X.placement,ge=void 0===V?N.placement:V,Ae=X.strategy,Nt=void 0===Ae?N.strategy:Ae,qt=X.boundary,en=void 0===qt?"clippingParents":qt,Mn=X.rootBoundary,Sn=void 0===Mn?tt:Mn,us=X.elementContext,Kn=void 0===us?ht:us,Os=X.altBoundary,Pi=void 0!==Os&&Os,zs=X.padding,ti=void 0===zs?0:zs,Bi=vt("number"!=typeof ti?ti:pn(ti,me)),Ao=N.rects.popper,fi=N.elements[Pi?Kn===ht?"reference":ht:Kn],Ki=function Tn(N,X,S,V){var ge="clippingParents"===X?function ln(N){var X=Ke(ot(N)),V=["absolute","fixed"].indexOf(Jt(N).position)>=0&&an(N)?st(N):N;return hn(V)?X.filter(function(ge){return hn(ge)&&ke(ge,V)&&"body"!==Ft(ge)}):[]}(N):[].concat(X),Ae=[].concat(ge,[S]),qt=Ae.reduce(function(en,Mn){var Sn=St(N,Mn,V);return en.top=Kt(Sn.top,en.top),en.right=Rt(Sn.right,en.right),en.bottom=Rt(Sn.bottom,en.bottom),en.left=Kt(Sn.left,en.left),en},St(N,Ae[0],V));return qt.width=qt.right-qt.left,qt.height=qt.bottom-qt.top,qt.x=qt.left,qt.y=qt.top,qt}(hn(fi)?fi:fi.contextElement||yt(N.elements.popper),en,Sn,Nt),xi=zt(N.elements.reference),Lo=wn({reference:xi,element:Ao,strategy:"absolute",placement:ge}),wo=Le(Object.assign({},Ao,Lo)),Or=Kn===ht?wo:xi,lr={top:Ki.top-Or.top+Bi.top,bottom:Or.bottom-Ki.bottom+Bi.bottom,left:Ki.left-Or.left+Bi.left,right:Or.right-Ki.right+Bi.right},No=N.modifiersData.offset;if(Kn===ht&&No){var Ga=No[ge];Object.keys(lr).forEach(function(Mr){var hc=[ce,se].indexOf(Mr)>=0?1:-1,pc=[fe,se].indexOf(Mr)>=0?"y":"x";lr[Mr]+=Ga[pc]*hc})}return lr}const Cs={name:"flip",enabled:!0,phase:"main",fn:function cs(N){var X=N.state,S=N.options,V=N.name;if(!X.modifiersData[V]._skip){for(var ge=S.mainAxis,Ae=void 0===ge||ge,Nt=S.altAxis,qt=void 0===Nt||Nt,en=S.fallbackPlacements,Mn=S.padding,Sn=S.boundary,us=S.rootBoundary,Kn=S.altBoundary,Os=S.flipVariations,Pi=void 0===Os||Os,zs=S.allowedAutoPlacements,ti=X.options.placement,Bi=ee(ti),Ao=en||(Bi!==ti&&Pi?function Gs(N){if(ee(N)===be)return[];var X=Q(N);return[ne(N),X,ne(X)]}(ti):[Q(ti)]),fi=[ti].concat(Ao).reduce(function(Yc,fc){return Yc.concat(ee(fc)===be?function Jn(N,X){void 0===X&&(X={});var ge=X.boundary,Ae=X.rootBoundary,Nt=X.padding,qt=X.flipVariations,en=X.allowedAutoPlacements,Mn=void 0===en?Ye:en,Sn=Bn(X.placement),us=Sn?qt?Et:Et.filter(function(Pi){return Bn(Pi)===Sn}):me,Kn=us.filter(function(Pi){return Mn.indexOf(Pi)>=0});0===Kn.length&&(Kn=us);var Os=Kn.reduce(function(Pi,zs){return Pi[zs]=Nn(N,{placement:zs,boundary:ge,rootBoundary:Ae,padding:Nt})[ee(zs)],Pi},{});return Object.keys(Os).sort(function(Pi,zs){return Os[Pi]-Os[zs]})}(X,{placement:fc,boundary:Sn,rootBoundary:us,padding:Mn,flipVariations:Pi,allowedAutoPlacements:zs}):fc)},[]),Ki=X.rects.reference,xi=X.rects.popper,Lo=new Map,wo=!0,Or=fi[0],lr=0;lr<fi.length;lr++){var No=fi[lr],Ga=ee(No),Mr=Bn(No)===re,hc=[fe,se].indexOf(Ga)>=0,pc=hc?"width":"height",ha=Nn(X,{placement:No,boundary:Sn,rootBoundary:us,altBoundary:Kn,padding:Mn}),$a=hc?Mr?ce:De:Mr?se:fe;Ki[pc]>xi[pc]&&($a=Q($a));var ph=Q($a),zc=[];if(Ae&&zc.push(ha[Ga]<=0),qt&&zc.push(ha[$a]<=0,ha[ph]<=0),zc.every(function(Yc){return Yc})){Or=No,wo=!1;break}Lo.set(No,zc)}if(wo)for(var Xp=function(fc){var cu=fi.find(function(Qp){var Xc=Lo.get(Qp);if(Xc)return Xc.slice(0,fc).every(function(mh){return mh})});if(cu)return Or=cu,"break"},Sd=Pi?3:1;Sd>0&&"break"!==Xp(Sd);Sd--);X.placement!==Or&&(X.modifiersData[V]._skip=!0,X.placement=Or,X.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function dn(N,X,S){return Kt(N,Rt(X,S))}function ss(N){var X=zt(N),S=N.offsetWidth,V=N.offsetHeight;return Math.abs(X.width-S)<=1&&(S=X.width),Math.abs(X.height-V)<=1&&(V=X.height),{x:N.offsetLeft,y:N.offsetTop,width:S,height:V}}const li={name:"preventOverflow",enabled:!0,phase:"main",fn:function Ls(N){var X=N.state,S=N.options,V=N.name,ge=S.mainAxis,Ae=void 0===ge||ge,Nt=S.altAxis,qt=void 0!==Nt&&Nt,Kn=S.tether,Os=void 0===Kn||Kn,Pi=S.tetherOffset,zs=void 0===Pi?0:Pi,ti=Nn(X,{boundary:S.boundary,rootBoundary:S.rootBoundary,padding:S.padding,altBoundary:S.altBoundary}),Bi=ee(X.placement),Ui=Bn(X.placement),Ao=!Ui,fi=Zn(Bi),Ki=function ds(N){return"x"===N?"y":"x"}(fi),xi=X.modifiersData.popperOffsets,Lo=X.rects.reference,wo=X.rects.popper,Or="function"==typeof zs?zs(Object.assign({},X.rects,{placement:X.placement})):zs,lr="number"==typeof Or?{mainAxis:Or,altAxis:Or}:Object.assign({mainAxis:0,altAxis:0},Or),No=X.modifiersData.offset?X.modifiersData.offset[X.placement]:null,Ga={x:0,y:0};if(xi){if(Ae){var Mr,hc="y"===fi?fe:De,pc="y"===fi?se:ce,ha="y"===fi?"height":"width",$a=xi[fi],ph=$a+ti[hc],zc=$a-ti[pc],fh=Os?-wo[ha]/2:0,Xp=Ui===re?Lo[ha]:wo[ha],Sd=Ui===re?-wo[ha]:-Lo[ha],Jp=X.elements.arrow,Yc=Os&&Jp?ss(Jp):{width:0,height:0},fc=X.modifiersData["arrow#persistent"]?X.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},cu=fc[hc],Qp=fc[pc],Xc=dn(0,Lo[ha],Yc[ha]),mh=Ao?Lo[ha]/2-fh-Xc-cu-lr.mainAxis:Xp-Xc-cu-lr.mainAxis,Zp=Ao?-Lo[ha]/2+fh+Xc+Qp+lr.mainAxis:Sd+Xc+Qp+lr.mainAxis,qp=X.elements.arrow&&st(X.elements.arrow),mc=qp?"y"===fi?qp.clientTop||0:qp.clientLeft||0:0,Ol=null!=(Mr=No?.[fi])?Mr:0,Hm=$a+Zp-Ol,gh=dn(Os?Rt(ph,$a+mh-Ol-mc):ph,$a,Os?Kt(zc,Hm):zc);xi[fi]=gh,Ga[fi]=gh-$a}if(qt){var Tv,gc=xi[Ki],_h="y"===Ki?"height":"width",ef=gc+ti["x"===fi?fe:De],zm=gc-ti["x"===fi?se:ce],Jc=-1!==[fe,De].indexOf(Bi),Ym=null!=(Tv=No?.[Ki])?Tv:0,vh=Jc?ef:gc-Lo[_h]-wo[_h]-Ym+lr.altAxis,yh=Jc?gc+Lo[_h]+wo[_h]-Ym-lr.altAxis:zm,Qc=Os&&Jc?function En(N,X,S){var V=dn(N,X,S);return V>S?S:V}(vh,gc,yh):dn(Os?vh:ef,gc,Os?yh:zm);xi[Ki]=Qc,Ga[Ki]=Qc-gc}X.modifiersData[V]=Ga}},requiresIfExists:["offset"]},sn={name:"arrow",enabled:!0,phase:"main",fn:function Ht(N){var X,S=N.state,V=N.name,ge=N.options,Ae=S.elements.arrow,Nt=S.modifiersData.popperOffsets,qt=ee(S.placement),en=Zn(qt),Sn=[De,ce].indexOf(qt)>=0?"height":"width";if(Ae&&Nt){var us=function(X,S){return vt("number"!=typeof(X="function"==typeof X?X(Object.assign({},S.rects,{placement:S.placement})):X)?X:pn(X,me))}(ge.padding,S),Kn=ss(Ae),Os="y"===en?fe:De,Pi="y"===en?se:ce,zs=S.rects.reference[Sn]+S.rects.reference[en]-Nt[en]-S.rects.popper[Sn],ti=Nt[en]-S.rects.reference[en],Bi=st(Ae),Ui=Bi?"y"===en?Bi.clientHeight||0:Bi.clientWidth||0:0,xi=Ui/2-Kn[Sn]/2+(zs/2-ti/2),Lo=dn(us[Os],xi,Ui-Kn[Sn]-us[Pi]);S.modifiersData[V]=((X={})[en]=Lo,X.centerOffset=Lo-xi,X)}},effect:function We(N){var X=N.state,V=N.options.element,ge=void 0===V?"[data-popper-arrow]":V;null!=ge&&("string"==typeof ge&&!(ge=X.elements.popper.querySelector(ge))||ke(X.elements.popper,ge)&&(X.elements.arrow=ge))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wt(N,X,S){void 0===S&&(S=!1);var V=an(X),ge=an(X)&&function Ct(N){var X=N.getBoundingClientRect(),S=nn(X.width)/N.offsetWidth||1,V=nn(X.height)/N.offsetHeight||1;return 1!==S||1!==V}(X),Ae=yt(X),Nt=zt(N,ge,S),qt={scrollLeft:0,scrollTop:0},en={x:0,y:0};return(V||!V&&!S)&&(("body"!==Ft(X)||xe(Ae))&&(qt=function gt(N){return N!==ut(N)&&an(N)?function lt(N){return{scrollLeft:N.scrollLeft,scrollTop:N.scrollTop}}(N):Yt(N)}(X)),an(X)?((en=zt(X,!0)).x+=X.clientLeft,en.y+=X.clientTop):Ae&&(en.x=wt(Ae))),{x:Nt.left+qt.scrollLeft-en.x,y:Nt.top+qt.scrollTop-en.y,width:Nt.width,height:Nt.height}}function fn(N){var X=new Map,S=new Set,V=[];function ge(Ae){S.add(Ae.name),[].concat(Ae.requires||[],Ae.requiresIfExists||[]).forEach(function(qt){if(!S.has(qt)){var en=X.get(qt);en&&ge(en)}}),V.push(Ae)}return N.forEach(function(Ae){X.set(Ae.name,Ae)}),N.forEach(function(Ae){S.has(Ae.name)||ge(Ae)}),V}function Yn(N){var X;return function(){return X||(X=new Promise(function(S){Promise.resolve().then(function(){X=void 0,S(N())})})),X}}var _s={placement:"bottom",modifiers:[],strategy:"absolute"};function Ps(){for(var N=arguments.length,X=new Array(N),S=0;S<N;S++)X[S]=arguments[S];return!X.some(function(V){return!(V&&"function"==typeof V.getBoundingClientRect)})}function Ms(N){void 0===N&&(N={});var S=N.defaultModifiers,V=void 0===S?[]:S,ge=N.defaultOptions,Ae=void 0===ge?_s:ge;return function(qt,en,Mn){void 0===Mn&&(Mn=Ae);var Sn={placement:"bottom",orderedModifiers:[],options:Object.assign({},_s,Ae),modifiersData:{},elements:{reference:qt,popper:en},attributes:{},styles:{}},us=[],Kn=!1,Os={state:Sn,setOptions:function(Bi){var Ui="function"==typeof Bi?Bi(Sn.options):Bi;zs(),Sn.options=Object.assign({},Ae,Sn.options,Ui),Sn.scrollParents={reference:hn(qt)?Ke(qt):qt.contextElement?Ke(qt.contextElement):[],popper:Ke(en)};var Ao=function An(N){var X=fn(N);return je.reduce(function(S,V){return S.concat(X.filter(function(ge){return ge.phase===V}))},[])}(function $n(N){var X=N.reduce(function(S,V){var ge=S[V.name];return S[V.name]=ge?Object.assign({},ge,V,{options:Object.assign({},ge.options,V.options),data:Object.assign({},ge.data,V.data)}):V,S},{});return Object.keys(X).map(function(S){return X[S]})}([].concat(V,Sn.options.modifiers)));return Sn.orderedModifiers=Ao.filter(function(fi){return fi.enabled}),function Pi(){Sn.orderedModifiers.forEach(function(ti){var Ui=ti.options,fi=ti.effect;if("function"==typeof fi){var Ki=fi({state:Sn,name:ti.name,instance:Os,options:void 0===Ui?{}:Ui});us.push(Ki||function(){})}})}(),Os.update()},forceUpdate:function(){if(!Kn){var Bi=Sn.elements,Ui=Bi.reference,Ao=Bi.popper;if(Ps(Ui,Ao)){Sn.rects={reference:Wt(Ui,st(Ao),"fixed"===Sn.options.strategy),popper:ss(Ao)},Sn.reset=!1,Sn.placement=Sn.options.placement,Sn.orderedModifiers.forEach(function(lr){return Sn.modifiersData[lr.name]=Object.assign({},lr.data)});for(var fi=0;fi<Sn.orderedModifiers.length;fi++)if(!0!==Sn.reset){var Ki=Sn.orderedModifiers[fi],xi=Ki.fn,Lo=Ki.options;"function"==typeof xi&&(Sn=xi({state:Sn,options:void 0===Lo?{}:Lo,name:Ki.name,instance:Os})||Sn)}else Sn.reset=!1,fi=-1}}},update:Yn(function(){return new Promise(function(ti){Os.forceUpdate(),ti(Sn)})}),destroy:function(){zs(),Kn=!0}};if(!Ps(qt,en))return Os;function zs(){us.forEach(function(ti){return ti()}),us=[]}return Os.setOptions(Mn).then(function(ti){!Kn&&Mn.onFirstUpdate&&Mn.onFirstUpdate(ti)}),Os}}var bs={passive:!0},Bo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Rs(N){var X,S=N.popper,V=N.popperRect,ge=N.placement,Ae=N.variation,Nt=N.offsets,qt=N.position,en=N.gpuAcceleration,Mn=N.adaptive,Sn=N.roundOffsets,us=N.isFixed,Kn=Nt.x,Os=void 0===Kn?0:Kn,Pi=Nt.y,zs=void 0===Pi?0:Pi,ti="function"==typeof Sn?Sn({x:Os,y:zs}):{x:Os,y:zs};Os=ti.x,zs=ti.y;var Bi=Nt.hasOwnProperty("x"),Ui=Nt.hasOwnProperty("y"),Ao=De,fi=fe,Ki=window;if(Mn){var xi=st(S),Lo="clientHeight",wo="clientWidth";xi===ut(S)&&"static"!==Jt(xi=yt(S)).position&&"absolute"===qt&&(Lo="scrollHeight",wo="scrollWidth"),(ge===fe||(ge===De||ge===ce)&&Ae===Ee)&&(fi=se,zs-=(us&&xi===Ki&&Ki.visualViewport?Ki.visualViewport.height:xi[Lo])-V.height,zs*=en?1:-1),ge!==De&&(ge!==fe&&ge!==se||Ae!==Ee)||(Ao=ce,Os-=(us&&xi===Ki&&Ki.visualViewport?Ki.visualViewport.width:xi[wo])-V.width,Os*=en?1:-1)}var Mr,No=Object.assign({position:qt},Mn&&Bo),Ga=!0===Sn?function to(N,X){var V=N.y,ge=X.devicePixelRatio||1;return{x:nn(N.x*ge)/ge||0,y:nn(V*ge)/ge||0}}({x:Os,y:zs},ut(S)):{x:Os,y:zs};return Os=Ga.x,zs=Ga.y,Object.assign({},No,en?((Mr={})[fi]=Ui?"0":"",Mr[Ao]=Bi?"0":"",Mr.transform=(Ki.devicePixelRatio||1)<=1?"translate("+Os+"px, "+zs+"px)":"translate3d("+Os+"px, "+zs+"px, 0)",Mr):((X={})[fi]=Ui?zs+"px":"",X[Ao]=Bi?Os+"px":"",X.transform="",X))}var on=Ms({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Oi(N){var X=N.state,S=N.instance,V=N.options,ge=V.scroll,Ae=void 0===ge||ge,Nt=V.resize,qt=void 0===Nt||Nt,en=ut(X.elements.popper),Mn=[].concat(X.scrollParents.reference,X.scrollParents.popper);return Ae&&Mn.forEach(function(Sn){Sn.addEventListener("scroll",S.update,bs)}),qt&&en.addEventListener("resize",S.update,bs),function(){Ae&&Mn.forEach(function(Sn){Sn.removeEventListener("scroll",S.update,bs)}),qt&&en.removeEventListener("resize",S.update,bs)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Li(N){var X=N.state;X.modifiersData[N.name]=wn({reference:X.rects.reference,element:X.rects.popper,strategy:"absolute",placement:X.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Qs(N){var X=N.state,S=N.options,V=S.gpuAcceleration,ge=void 0===V||V,Ae=S.adaptive,Nt=void 0===Ae||Ae,qt=S.roundOffsets,en=void 0===qt||qt,Mn={placement:ee(X.placement),variation:Bn(X.placement),popper:X.elements.popper,popperRect:X.rects.popper,gpuAcceleration:ge,isFixed:"fixed"===X.options.strategy};null!=X.modifiersData.popperOffsets&&(X.styles.popper=Object.assign({},X.styles.popper,Rs(Object.assign({},Mn,{offsets:X.modifiersData.popperOffsets,position:X.options.strategy,adaptive:Nt,roundOffsets:en})))),null!=X.modifiersData.arrow&&(X.styles.arrow=Object.assign({},X.styles.arrow,Rs(Object.assign({},Mn,{offsets:X.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:en})))),X.attributes.popper=Object.assign({},X.attributes.popper,{"data-popper-placement":X.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function _r(N){var X=N.state;Object.keys(X.elements).forEach(function(S){var V=X.styles[S]||{},ge=X.attributes[S]||{},Ae=X.elements[S];!an(Ae)||!Ft(Ae)||(Object.assign(Ae.style,V),Object.keys(ge).forEach(function(Nt){var qt=ge[Nt];!1===qt?Ae.removeAttribute(Nt):Ae.setAttribute(Nt,!0===qt?"":qt)}))})},effect:function Uo(N){var X=N.state,S={popper:{position:X.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(X.elements.popper.style,S.popper),X.styles=S,X.elements.arrow&&Object.assign(X.elements.arrow.style,S.arrow),function(){Object.keys(X.elements).forEach(function(V){var ge=X.elements[V],Ae=X.attributes[V]||{},qt=Object.keys(X.styles.hasOwnProperty(V)?X.styles[V]:S[V]).reduce(function(en,Mn){return en[Mn]="",en},{});!an(ge)||!Ft(ge)||(Object.assign(ge.style,qt),Object.keys(Ae).forEach(function(en){ge.removeAttribute(en)}))})}},requires:["computeStyles"]}]});const qn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Fn(N){var X=N.state,V=N.name,ge=N.options.offset,Ae=void 0===ge?[0,0]:ge,Nt=Ye.reduce(function(Sn,us){return Sn[us]=function Qt(N,X,S){var V=ee(N),ge=[De,fe].indexOf(V)>=0?-1:1,Ae="function"==typeof S?S(Object.assign({},X,{placement:N})):S,Nt=Ae[0],qt=Ae[1];return Nt=Nt||0,qt=(qt||0)*ge,[De,ce].indexOf(V)>=0?{x:qt,y:Nt}:{x:Nt,y:qt}}(us,X.rects,Ae),Sn},{}),qt=Nt[X.placement],Mn=qt.y;null!=X.modifiersData.popperOffsets&&(X.modifiersData.popperOffsets.x+=qt.x,X.modifiersData.popperOffsets.y+=Mn),X.modifiersData[V]=Nt}},Ds=(N,X)=>({$implicit:N,opened:X});function vi(N,X){}function Ci(N,X){if(1&N&&(i.j41(0,"button",3),i.EFF(1),i.DNE(2,vi,0,0,"ng-template",4),i.k0s()),2&N){const S=X.$implicit;i.Y8G("ngbPanelToggle",S),i.R7$(),i.SpI(" ",S.title,""),i.R7$(),i.Y8G("ngTemplateOutlet",null==S.titleTpl?null:S.titleTpl.templateRef)}}function vo(N,X){}function hi(N,X){}function ho(N,X){if(1&N){const S=i.RV6();i.j41(0,"div",8),i.bIt("ngbRef",function(ge){i.eBV(S);const Ae=i.XpG().$implicit;return i.Njj(Ae.panelDiv=ge)}),i.j41(1,"div",9),i.DNE(2,hi,0,0,"ng-template",4),i.k0s()()}if(2&N){const S=i.XpG().$implicit;i.FS9("id",S.id),i.BMQ("aria-labelledby",S.id+"-header"),i.R7$(2),i.Y8G("ngTemplateOutlet",(null==S.contentTpl?null:S.contentTpl.templateRef)||null)}}function vr(N,X){if(1&N&&(i.j41(0,"div")(1,"div",5),i.DNE(2,vo,0,0,"ng-template",6),i.k0s(),i.DNE(3,ho,3,3,"div",7),i.k0s()),2&N){const S=X.$implicit,V=i.XpG(),ge=i.sdS(1);i.HbH("accordion-item "+(S.cardClass||"")),i.R7$(),i.HbH("accordion-header "+(S.type?"bg-"+S.type:V.type?"bg-"+V.type:"")),i.Mz_("id","",S.id,"-header"),i.R7$(),i.Y8G("ngTemplateOutlet",(null==S.headerTpl?null:S.headerTpl.templateRef)||ge)("ngTemplateOutletContext",i.l_i(9,Ds,S,S.isOpen)),i.R7$(),i.Y8G("ngIf",!V.destroyOnHide||S.isOpen||S.transitionRunning)}}const ur=["*"],Qr=["ngbDatepickerDayView",""],po=["month"],Er=["year"];function Ks(N,X){if(1&N&&(i.j41(0,"option",5),i.EFF(1),i.k0s()),2&N){const S=X.$implicit,V=i.XpG();i.Y8G("value",S),i.BMQ("aria-label",V.i18n.getMonthFullName(S,null==V.date?null:V.date.year)),i.R7$(),i.JRh(V.i18n.getMonthShortName(S,null==V.date?null:V.date.year))}}function hr(N,X){if(1&N&&(i.j41(0,"option",5),i.EFF(1),i.k0s()),2&N){const S=X.$implicit,V=i.XpG();i.Y8G("value",S),i.R7$(),i.JRh(V.i18n.getYearNumerals(S))}}function Zr(N,X){if(1&N){const S=i.RV6();i.j41(0,"ngb-datepicker-navigation-select",7),i.bIt("select",function(ge){i.eBV(S);const Ae=i.XpG();return i.Njj(Ae.select.emit(ge))}),i.k0s()}if(2&N){const S=i.XpG();i.Y8G("date",S.date)("disabled",S.disabled)("months",S.selectBoxes.months)("years",S.selectBoxes.years)}}function Qo(N,X){1&N&&i.nrm(0,"div",0)}function jr(N,X){1&N&&i.nrm(0,"div",0)}function Na(N,X){if(1&N&&(i.DNE(0,Qo,1,0,"div",9),i.j41(1,"div",10),i.EFF(2),i.k0s(),i.DNE(3,jr,1,0,"div",9)),2&N){const S=X.$implicit,V=X.index,ge=i.XpG(2);i.Y8G("ngIf",V>0),i.R7$(2),i.SpI(" ",ge.i18n.getMonthLabel(S.firstDate)," "),i.R7$(),i.Y8G("ngIf",V!==ge.months.length-1)}}function ra(N,X){if(1&N&&i.DNE(0,Na,4,3,"ng-template",8),2&N){const S=i.XpG();i.Y8G("ngForOf",S.months)}}const rr=["defaultDayTemplate"],qr=["content"];function ma(N,X){if(1&N&&i.nrm(0,"div",7),2&N){const V=X.currentMonth,ge=X.selected,Ae=X.disabled,Nt=X.focused;i.Y8G("date",X.date)("currentMonth",V)("selected",ge)("disabled",Ae)("focused",Nt)}}function _a(N,X){if(1&N&&(i.j41(0,"div",12),i.EFF(1),i.k0s()),2&N){const S=i.XpG().$implicit,V=i.XpG(2);i.R7$(),i.SpI(" ",V.i18n.getMonthLabel(S.firstDate)," ")}}function et(N,X){if(1&N&&(i.j41(0,"div",9),i.DNE(1,_a,2,1,"div",10),i.nrm(2,"ngb-datepicker-month",11),i.k0s()),2&N){const S=X.$implicit,V=i.XpG(2);i.R7$(),i.Y8G("ngIf","none"===V.navigation||V.displayMonths>1&&"select"===V.navigation),i.R7$(),i.Y8G("month",S.firstDate)}}function qe(N,X){if(1&N&&i.DNE(0,et,3,2,"div",8),2&N){const S=i.XpG();i.Y8G("ngForOf",S.model.months)}}function at(N,X){if(1&N){const S=i.RV6();i.j41(0,"ngb-datepicker-navigation",13),i.bIt("navigate",function(ge){i.eBV(S);const Ae=i.XpG();return i.Njj(Ae.onNavigateEvent(ge))})("select",function(ge){i.eBV(S);const Ae=i.XpG();return i.Njj(Ae.onNavigateDateSelect(ge))}),i.k0s()}if(2&N){const S=i.XpG();i.Y8G("date",S.model.firstDate)("months",S.model.months)("disabled",S.model.disabled)("showSelect","select"===S.model.navigation)("prevDisabled",S.model.prevDisabled)("nextDisabled",S.model.nextDisabled)("selectBoxes",S.model.selectBoxes)}}function Ut(N,X){}function Vt(N,X){}function xn(N,X){if(1&N&&(i.j41(0,"div",5),i.EFF(1),i.k0s()),2&N){const S=i.XpG(2);i.R7$(),i.JRh(S.i18n.getWeekLabel())}}function os(N,X){if(1&N&&(i.j41(0,"div",6),i.EFF(1),i.k0s()),2&N){const S=X.$implicit;i.R7$(),i.JRh(S)}}function Is(N,X){if(1&N&&(i.j41(0,"div",2),i.DNE(1,xn,2,1,"div",3)(2,os,2,1,"div",4),i.k0s()),2&N){const S=i.XpG();i.R7$(),i.Y8G("ngIf",S.datepicker.showWeekNumbers),i.R7$(),i.Y8G("ngForOf",S.viewModel.weekdays)}}function Hs(N,X){if(1&N&&(i.j41(0,"div",11),i.EFF(1),i.k0s()),2&N){const S=i.XpG(2).$implicit,V=i.XpG();i.R7$(),i.JRh(V.i18n.getWeekNumerals(S.number))}}function As(N,X){}function ci(N,X){if(1&N&&i.DNE(0,As,0,0,"ng-template",14),2&N){const S=i.XpG().$implicit,V=i.XpG(3);i.Y8G("ngTemplateOutlet",V.datepicker.dayTemplate)("ngTemplateOutletContext",S.context)}}function fo(N,X){if(1&N){const S=i.RV6();i.j41(0,"div",12),i.bIt("click",function(ge){const Ae=i.eBV(S).$implicit;return i.XpG(3).doSelect(Ae),i.Njj(ge.preventDefault())}),i.DNE(1,ci,1,2,"ng-template",13),i.k0s()}if(2&N){const S=X.$implicit;i.AVh("disabled",S.context.disabled)("hidden",S.hidden)("ngb-dp-today",S.context.today),i.Y8G("tabindex",S.tabindex),i.BMQ("aria-label",S.ariaLabel),i.R7$(),i.Y8G("ngIf",!S.hidden)}}function bi(N,X){if(1&N&&(i.j41(0,"div",8),i.DNE(1,Hs,2,1,"div",9)(2,fo,2,9,"div",10),i.k0s()),2&N){const S=i.XpG().$implicit,V=i.XpG();i.R7$(),i.Y8G("ngIf",V.datepicker.showWeekNumbers),i.R7$(),i.Y8G("ngForOf",S.days)}}function ni(N,X){1&N&&i.DNE(0,bi,3,2,"div",7),2&N&&i.Y8G("ngIf",!X.$implicit.collapsed)}const bo=["dialog"],no=["ngbNavOutlet",""],Io=N=>({$implicit:N});function so(N,X){}function Ys(N,X){if(1&N&&(i.j41(0,"div",2),i.DNE(1,so,0,0,"ng-template",3),i.k0s()),2&N){const S=i.XpG().$implicit,V=i.XpG();i.Y8G("item",S)("nav",V.nav)("role",V.paneRole),i.R7$(),i.Y8G("ngTemplateOutlet",(null==S.contentTpl?null:S.contentTpl.templateRef)||null)("ngTemplateOutletContext",i.eq3(5,Io,S.active||V.isPanelTransitioning(S)))}}function io(N,X){if(1&N&&i.DNE(0,Ys,2,7,"div",1),2&N){const S=X.$implicit,V=i.XpG();i.Y8G("ngIf",S.isPanelInDom()||V.isPanelTransitioning(S))}}const tr=(N,X,S)=>({$implicit:N,pages:X,disabled:S}),mo=N=>({disabled:!0,currentPage:N}),ko=(N,X,S)=>({disabled:N,$implicit:X,currentPage:S}),Ar=(N,X)=>({disabled:N,currentPage:X}),Do=N=>({disabled:N});function Zo(N,X){1&N&&(i.j41(0,"span",13),i.pXf(1,7),i.k0s())}function va(N,X){1&N&&(i.j41(0,"span",13),i.pXf(1,8),i.k0s())}function Ge(N,X){1&N&&(i.j41(0,"span",13),i.pXf(1,9),i.k0s())}function Xe(N,X){1&N&&(i.j41(0,"span",13),i.pXf(1,10),i.k0s())}function oe(N,X){1&N&&i.EFF(0,"...")}function $e(N,X){1&N&&(i.j41(0,"span",15),i.EFF(1,"(current)"),i.k0s())}function _e(N,X){if(1&N&&(i.EFF(0),i.DNE(1,$e,2,0,"span",14)),2&N){const S=X.$implicit,V=X.currentPage;i.SpI(" ",S," "),i.R7$(),i.Y8G("ngIf",S===V)}}function Tt(N,X){}function Xt(N,X){if(1&N&&(i.j41(0,"a",20),i.DNE(1,Tt,0,0,"ng-template",12),i.k0s()),2&N){const S=i.XpG(2).$implicit,V=i.XpG(),ge=i.sdS(9);i.R7$(),i.Y8G("ngTemplateOutlet",(null==V.tplEllipsis?null:V.tplEllipsis.templateRef)||ge)("ngTemplateOutletContext",i.eq3(2,mo,S))}}function In(N,X){}function ns(N,X){if(1&N){const S=i.RV6();i.j41(0,"a",21),i.bIt("click",function(ge){i.eBV(S);const Ae=i.XpG().$implicit;return i.XpG(2).selectPage(Ae),i.Njj(ge.preventDefault())}),i.DNE(1,In,0,0,"ng-template",12),i.k0s()}if(2&N){const S=i.XpG().$implicit,V=i.XpG(),ge=V.$implicit,Ae=V.disabled,Nt=i.XpG(),qt=i.sdS(11);i.BMQ("tabindex",Ae?"-1":null)("aria-disabled",Ae?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==Nt.tplNumber?null:Nt.tplNumber.templateRef)||qt)("ngTemplateOutletContext",i.sMw(4,ko,Ae,S,ge))}}function ps(N,X){if(1&N&&(i.j41(0,"li",17),i.DNE(1,Xt,2,4,"a",18)(2,ns,2,8,"a",19),i.k0s()),2&N){const S=X.$implicit,V=i.XpG(),ge=V.$implicit,Ae=V.disabled,Nt=i.XpG();i.AVh("active",S===ge)("disabled",Nt.isEllipsis(S)||Ae),i.BMQ("aria-current",S===ge?"page":null),i.R7$(),i.Y8G("ngIf",Nt.isEllipsis(S)),i.R7$(),i.Y8G("ngIf",!Nt.isEllipsis(S))}}function js(N,X){1&N&&i.DNE(0,ps,3,7,"li",16),2&N&&i.Y8G("ngForOf",X.pages)}function Qi(N,X){}function zi(N,X){if(1&N){const S=i.RV6();i.j41(0,"li",17)(1,"a",22),i.bIt("click",function(ge){return i.eBV(S),i.XpG().selectPage(1),i.Njj(ge.preventDefault())}),i.DNE(2,Qi,0,0,"ng-template",12),i.k0s()()}if(2&N){const S=i.XpG(),V=i.sdS(1);i.AVh("disabled",S.previousDisabled()),i.R7$(),i.BMQ("tabindex",S.previousDisabled()?"-1":null)("aria-disabled",S.previousDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==S.tplFirst?null:S.tplFirst.templateRef)||V)("ngTemplateOutletContext",i.l_i(6,Ar,S.previousDisabled(),S.page))}}function Vo(N,X){}function Di(N,X){if(1&N){const S=i.RV6();i.j41(0,"li",17)(1,"a",23),i.bIt("click",function(ge){i.eBV(S);const Ae=i.XpG();return Ae.selectPage(Ae.page-1),i.Njj(ge.preventDefault())}),i.DNE(2,Vo,0,0,"ng-template",12),i.k0s()()}if(2&N){const S=i.XpG(),V=i.sdS(3);i.AVh("disabled",S.previousDisabled()),i.R7$(),i.BMQ("tabindex",S.previousDisabled()?"-1":null)("aria-disabled",S.previousDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==S.tplPrevious?null:S.tplPrevious.templateRef)||V)("ngTemplateOutletContext",i.eq3(6,Do,S.previousDisabled()))}}function ya(N,X){}function Ea(N,X){}function wr(N,X){if(1&N){const S=i.RV6();i.j41(0,"li",17)(1,"a",24),i.bIt("click",function(ge){i.eBV(S);const Ae=i.XpG();return Ae.selectPage(Ae.page+1),i.Njj(ge.preventDefault())}),i.DNE(2,Ea,0,0,"ng-template",12),i.k0s()()}if(2&N){const S=i.XpG(),V=i.sdS(5);i.AVh("disabled",S.nextDisabled()),i.R7$(),i.BMQ("tabindex",S.nextDisabled()?"-1":null)("aria-disabled",S.nextDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==S.tplNext?null:S.tplNext.templateRef)||V)("ngTemplateOutletContext",i.l_i(6,Ar,S.nextDisabled(),S.page))}}function aa(N,X){}function xl(N,X){if(1&N){const S=i.RV6();i.j41(0,"li",17)(1,"a",25),i.bIt("click",function(ge){i.eBV(S);const Ae=i.XpG();return Ae.selectPage(Ae.pageCount),i.Njj(ge.preventDefault())}),i.DNE(2,aa,0,0,"ng-template",12),i.k0s()()}if(2&N){const S=i.XpG(),V=i.sdS(7);i.AVh("disabled",S.nextDisabled()),i.R7$(),i.BMQ("tabindex",S.nextDisabled()?"-1":null)("aria-disabled",S.nextDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==S.tplLast?null:S.tplLast.templateRef)||V)("ngTemplateOutletContext",i.l_i(6,Ar,S.nextDisabled(),S.page))}}function Fa(N,X){1&N&&i.EFF(0),2&N&&i.JRh(100===X.fill?"\u2605":"\u2606")}function ll(N,X){}function Xa(N,X){if(1&N){const S=i.RV6();i.j41(0,"span",2),i.EFF(1),i.k0s(),i.j41(2,"span",3),i.bIt("mouseenter",function(){const ge=i.eBV(S).index,Ae=i.XpG();return i.Njj(Ae.enter(ge+1))})("click",function(){const ge=i.eBV(S).index,Ae=i.XpG();return i.Njj(Ae.handleClick(ge+1))}),i.DNE(3,ll,0,0,"ng-template",4),i.k0s()}if(2&N){const S=X.index,V=i.XpG(),ge=i.sdS(1);i.R7$(),i.SpI("(",S<V.nextRate?"*":" ",")"),i.R7$(),i.xc7("cursor",V.isInteractive()?"pointer":"default"),i.R7$(),i.Y8G("ngTemplateOutlet",V.starTemplate||V.starTemplateFromContent||ge)("ngTemplateOutletContext",V.contexts[S])}}function cl(N,X){if(1&N){const S=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(S);const ge=i.XpG();return i.Njj(ge.changeHour(ge.hourStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,1),i.k0s()()}if(2&N){const S=i.XpG();i.AVh("btn-sm",S.isSmallSize)("btn-lg",S.isLargeSize)("disabled",S.disabled),i.Y8G("disabled",S.disabled)}}function oi(N,X){if(1&N){const S=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(S);const ge=i.XpG();return i.Njj(ge.changeHour(-ge.hourStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,2),i.k0s()()}if(2&N){const S=i.XpG();i.AVh("btn-sm",S.isSmallSize)("btn-lg",S.isLargeSize)("disabled",S.disabled),i.Y8G("disabled",S.disabled)}}function oo(N,X){if(1&N){const S=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(S);const ge=i.XpG();return i.Njj(ge.changeMinute(ge.minuteStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,3),i.k0s()()}if(2&N){const S=i.XpG();i.AVh("btn-sm",S.isSmallSize)("btn-lg",S.isLargeSize)("disabled",S.disabled),i.Y8G("disabled",S.disabled)}}function yo(N,X){if(1&N){const S=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(S);const ge=i.XpG();return i.Njj(ge.changeMinute(-ge.minuteStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,4),i.k0s()()}if(2&N){const S=i.XpG();i.AVh("btn-sm",S.isSmallSize)("btn-lg",S.isLargeSize)("disabled",S.disabled),i.Y8G("disabled",S.disabled)}}function Cr(N,X){1&N&&(i.j41(0,"div",14),i.EFF(1,":"),i.k0s())}function di(N,X){if(1&N){const S=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(S);const ge=i.XpG(2);return i.Njj(ge.changeSecond(ge.secondStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,5),i.k0s()()}if(2&N){const S=i.XpG(2);i.AVh("btn-sm",S.isSmallSize)("btn-lg",S.isLargeSize)("disabled",S.disabled),i.Y8G("disabled",S.disabled)}}function Ca(N,X){if(1&N){const S=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(S);const ge=i.XpG(2);return i.Njj(ge.changeSecond(-ge.secondStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,6),i.k0s()()}if(2&N){const S=i.XpG(2);i.AVh("btn-sm",S.isSmallSize)("btn-lg",S.isLargeSize)("disabled",S.disabled),i.Y8G("disabled",S.disabled)}}function ba(N,X){if(1&N){const S=i.RV6();i.j41(0,"div",24),i.DNE(1,di,4,7,"button",12),i.j41(2,"input",25),i.bIt("change",function(ge){i.eBV(S);const Ae=i.XpG();return i.Njj(Ae.updateSecond(ge.target.value))})("blur",function(){i.eBV(S);const ge=i.XpG();return i.Njj(ge.handleBlur())})("input",function(ge){i.eBV(S);const Ae=i.XpG();return i.Njj(Ae.formatInput(ge.target))})("keydown.ArrowUp",function(ge){i.eBV(S);const Ae=i.XpG();return Ae.changeSecond(Ae.secondStep),i.Njj(ge.preventDefault())})("keydown.ArrowDown",function(ge){i.eBV(S);const Ae=i.XpG();return Ae.changeSecond(-Ae.secondStep),i.Njj(ge.preventDefault())}),i.k0s(),i.DNE(3,Ca,4,7,"button",12),i.k0s()}if(2&N){const S=i.XpG();i.R7$(),i.Y8G("ngIf",S.spinners),i.R7$(),i.AVh("form-control-sm",S.isSmallSize)("form-control-lg",S.isLargeSize),i.Y8G("value",S.formatMinSec(null==S.model?null:S.model.second))("readOnly",S.readonlyInputs)("disabled",S.disabled),i.R7$(),i.Y8G("ngIf",S.spinners)}}function Ja(N,X){1&N&&i.nrm(0,"div",14)}function ic(N,X){if(1&N&&(i.qex(0),i.pXf(1,7),i.bVm()),2&N){const S=i.XpG(2);i.R7$(),i.uP7(S.i18n.getAfternoonPeriod()),i.nnv(1)}}function vd(N,X){if(1&N&&i.pXf(0,8),2&N){const S=i.XpG(2);i.uP7(S.i18n.getMorningPeriod()),i.nnv(0)}}function la(N,X){if(1&N){const S=i.RV6();i.j41(0,"div",26)(1,"button",27),i.bIt("click",function(){i.eBV(S);const ge=i.XpG();return i.Njj(ge.toggleMeridian())}),i.DNE(2,ic,2,1,"ng-container",28)(3,vd,1,1,"ng-template",null,0,i.C5r),i.k0s()()}if(2&N){const S=i.sdS(4),V=i.XpG();i.R7$(),i.AVh("btn-sm",V.isSmallSize)("btn-lg",V.isLargeSize)("disabled",V.disabled),i.Y8G("disabled",V.disabled),i.R7$(),i.Y8G("ngIf",V.model&&V.model.hour>=12)("ngIfElse",S)}}function ja(N,X){if(1&N&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&N){const S=i.XpG().$implicit,V=i.XpG();i.HbH(V.highlightClass),i.R7$(),i.JRh(S)}}function Lc(N,X){if(1&N&&i.EFF(0),2&N){const S=i.XpG().$implicit;i.JRh(S)}}function qo(N,X){if(1&N&&i.DNE(0,ja,2,3,"span",2)(1,Lc,1,1,"ng-template",null,0,i.C5r),2&N){const S=X.odd,V=i.sdS(2);i.Y8G("ngIf",S)("ngIfElse",V)}}const ca=(N,X,S)=>({result:N,term:X,formatter:S});function Fl(N,X){if(1&N&&i.nrm(0,"ngb-highlight",2),2&N){const V=X.term;i.Y8G("result",(0,X.formatter)(X.result))("term",V)}}function Br(N,X){}function Qa(N,X){if(1&N){const S=i.RV6();i.j41(0,"button",3),i.bIt("mouseenter",function(){const ge=i.eBV(S).index,Ae=i.XpG();return i.Njj(Ae.markActive(ge))})("click",function(){const ge=i.eBV(S).$implicit,Ae=i.XpG();return i.Njj(Ae.select(ge))}),i.DNE(1,Br,0,0,"ng-template",4),i.k0s()}if(2&N){const S=X.$implicit,V=X.index,ge=i.XpG(),Ae=i.sdS(1);i.AVh("active",V===ge.activeIdx),i.Y8G("id",ge.id+"-"+V),i.R7$(),i.Y8G("ngTemplateOutlet",ge.resultTemplate||Ae)("ngTemplateOutletContext",i.sMw(5,ca,S,ge.term,ge.formatter))}}function ro(N){return parseInt(`${N}`,10)}function Da(N){return null!=N?`${N}`:""}function nr(N,X,S=0){return Math.max(Math.min(N,X),S)}function br(N){return"string"==typeof N}function Wi(N){return!isNaN(ro(N))}function kt(N){return"number"==typeof N&&isFinite(N)&&Math.floor(N)===N}function un(N){return null!=N}function Rn(N){return Wi(N)?`0${N}`.slice(-2):""}function rs(N,X){return N&&N.className&&N.className.split&&N.className.split(/\s+/).indexOf(X)>=0}function Qn(N){return(N||document.body).getBoundingClientRect()}function Ni(N){return N.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const ki={animation:!0,transitionTimerDelayMs:5},kn=()=>{},{transitionTimerDelayMs:ao}=ki,lo=new Map,he=(N,X,S,V)=>{let ge=V.context||{};const Ae=lo.get(X);if(Ae)switch(V.runningTransition){case"continue":return e.w;case"stop":N.run(()=>Ae.transition$.complete()),ge=Object.assign(Ae.context,ge),lo.delete(X)}const Nt=S(X,V.animation,ge)||kn;if(!V.animation||"none"===window.getComputedStyle(X).transitionProperty)return N.run(()=>Nt()),(0,h.of)(void 0).pipe(function gi(N){return X=>new u.c(S=>X.subscribe({next:Nt=>N.run(()=>S.next(Nt)),error:Nt=>N.run(()=>S.error(Nt)),complete:()=>N.run(()=>S.complete())}))}(N));const qt=new m.B,en=new m.B,Mn=qt.pipe(function O(...N){return X=>(0,x.x)(X,(0,h.of)(...N))}(!0));lo.set(X,{transition$:qt,complete:()=>{en.next(),en.complete()},context:ge});const Sn=function Zi(N){const{transitionDelay:X,transitionDuration:S}=window.getComputedStyle(N);return 1e3*(parseFloat(X)+parseFloat(S))}(X);return N.runOutsideAngular(()=>{const us=(0,f.R)(X,"transitionend").pipe((0,w.Q)(Mn),(0,M.p)(({target:Os})=>Os===X)),Kn=(0,v.O)(Sn+ao).pipe((0,w.Q)(Mn));(0,E.O)(Kn,us,en).pipe((0,w.Q)(Mn)).subscribe(()=>{lo.delete(X),N.run(()=>{Nt(),qt.next(),qt.complete()})})}),qt.asObservable()},ze=(N,X,S)=>{let{direction:V,maxHeight:ge}=S;const{classList:Ae}=N;function Nt(){Ae.add("collapse"),"show"===V?Ae.add("show"):Ae.remove("show")}if(X)return ge||(ge=function Re(N){if(typeof navigator>"u")return"0px";const{classList:X}=N,S=X.contains("show");S||X.add("show"),N.style.height="";const V=N.getBoundingClientRect().height+"px";return S||X.remove("show"),V}(N),S.maxHeight=ge,N.style.height="show"!==V?ge:"0px",Ae.remove("collapse"),Ae.remove("collapsing"),Ae.remove("show"),Qn(N),Ae.add("collapsing")),N.style.height="show"===V?ge:"0px",()=>{Nt(),Ae.remove("collapsing"),N.style.height=""};Nt()};let Lt=(()=>{class N{constructor(){this.animation=ki.animation}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),On=(()=>{class N{constructor(S){this._ngbConfig=S,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(S){this._animation=S}}return N.\u0275fac=function(S){return new(S||N)(i.KVO(Lt))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Un=0,fs=(()=>{class N{constructor(S){this.templateRef=S}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPanelHeader",""]]}),N})(),Ri=(()=>{class N{constructor(S){this.templateRef=S}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPanelTitle",""]]}),N})(),Ns=(()=>{class N{constructor(S){this.templateRef=S}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPanelContent",""]]}),N})(),Xn=(()=>{class N{constructor(){this.disabled=!1,this.id="ngb-panel-"+Un++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new i.bkB,this.hidden=new i.bkB}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=i.FsC({type:N,selectors:[["ngb-panel"]],contentQueries:function(S,V,ge){if(1&S&&(i.wni(ge,Ri,4),i.wni(ge,fs,4),i.wni(ge,Ns,4)),2&S){let Ae;i.mGM(Ae=i.lsd())&&(V.titleTpls=Ae),i.mGM(Ae=i.lsd())&&(V.headerTpls=Ae),i.mGM(Ae=i.lsd())&&(V.contentTpls=Ae)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),N})(),ui=(()=>{class N{constructor(S){this._El=S,this.ngbRef=new i.bkB}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.aKT))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),N})(),Fi=(()=>{class N{constructor(S,V,ge){this._ngZone=V,this._changeDetector=ge,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.animation=S.animation,this.type=S.type,this.closeOtherPanels=S.closeOthers}isExpanded(S){return this.activeIds.indexOf(S)>-1}expand(S){this._changeOpenState(this._findPanelById(S),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(S=>this._changeOpenState(S,!0))}collapse(S){this._changeOpenState(this._findPanelById(S),!1)}collapseAll(){this.panels.forEach(S=>{this._changeOpenState(S,!1)})}toggle(S){const V=this._findPanelById(S);V&&this._changeOpenState(V,!V.isOpen)}ngAfterContentChecked(){br(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(S=>{S.isOpen=!S.disabled&&this.activeIds.indexOf(S.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,L.s)(1)).subscribe(()=>{this.panels.forEach(S=>{const V=S.panelDiv;V?S.initClassDone||(S.initClassDone=!0,he(this._ngZone,V,ze,{animation:!1,runningTransition:"continue",context:{direction:S.isOpen?"show":"hide"}})):S.initClassDone=!1})})}_changeOpenState(S,V){if(null!=S&&!S.disabled&&S.isOpen!==V){let ge=!1;this.panelChange.emit({panelId:S.id,nextState:V,preventDefault:()=>{ge=!0}}),ge||(S.isOpen=V,S.transitionRunning=!0,V&&this.closeOtherPanels&&this._closeOthers(S.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(S,V=!0){this.panels.forEach(ge=>{ge.id!==S&&ge.isOpen&&(ge.isOpen=!1,ge.transitionRunning=V)})}_findPanelById(S){return this.panels.find(V=>V.id===S)||null}_updateActiveIds(){this.activeIds=this.panels.filter(S=>S.isOpen&&!S.disabled).map(S=>S.id)}_runTransitions(S){this._changeDetector.detectChanges(),this.panels.forEach(V=>{V.transitionRunning&&he(this._ngZone,V.panelDiv,ze,{animation:S,runningTransition:"stop",context:{direction:V.isOpen?"show":"hide"}}).subscribe(()=>{V.transitionRunning=!1;const{id:Ae}=V;V.isOpen?(V.shown.emit(),this.shown.emit(Ae)):(V.hidden.emit(),this.hidden.emit(Ae))})})}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(On),i.rXU(i.SKi),i.rXU(i.gRc))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-accordion"]],contentQueries:function(S,V,ge){if(1&S&&i.wni(ge,Xn,4),2&S){let Ae;i.mGM(Ae=i.lsd())&&(V.panels=Ae)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(S,V){2&S&&i.BMQ("aria-multiselectable",!V.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:[i.Mj6.None,"closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["t",""],["ngbPanelHeader",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"ngbRef","id"],[1,"accordion-body"]],template:function(S,V){1&S&&i.DNE(0,Ci,3,3,"ng-template",1,0,i.C5r)(2,vr,4,12,"ng-template",2),2&S&&(i.R7$(2),i.Y8G("ngForOf",V.panels))},dependencies:()=>[fs,Mi,t.T3,t.Sq,t.bT,ui],encapsulation:2}),N})(),Mi=(()=>{class N{constructor(S,V){this.accordion=S,this.panel=V}set ngbPanelToggle(S){S&&(this.panel=S)}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(Fi),i.rXU(Xn,9))},N.\u0275dir=i.FsC({type:N,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(S,V){1&S&&i.bIt("click",function(){return V.accordion.toggle(V.panel.id)}),2&S&&(i.Mr5("disabled",V.panel.disabled),i.BMQ("aria-expanded",V.panel.isOpen)("aria-controls",V.panel.id),i.AVh("collapsed",!V.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),N})(),Go=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),Ii=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),go=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(S,V){2&S&&i.AVh("btn",!0)("active",V.active)("disabled",V.disabled)("focus",V.focused)}}),N})(),Eo=(()=>{class N{constructor(S,V){this._label=S,this._cd=V,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=ge=>{},this.onTouched=()=>{}}set focused(S){this._label.focused=S,S||this.onTouched()}onInputChange(S){const V=S.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(V),this.onTouched(),this.writeValue(V)}registerOnChange(S){this.onChange=S}registerOnTouched(S){this.onTouched=S}setDisabledState(S){this.disabled=S,this._label.disabled=S}writeValue(S){this.checked=S===this.valueChecked,this._label.active=this.checked,this._cd.markForCheck()}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(go),i.rXU(i.gRc))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbButton","","type","checkbox"]],hostVars:2,hostBindings:function(S,V){1&S&&i.bIt("change",function(Ae){return V.onInputChange(Ae)})("focus",function(){return V.focused=!0})("blur",function(){return V.focused=!1}),2&S&&i.Mr5("checked",V.checked)("disabled",V.disabled)},inputs:{disabled:"disabled",valueChecked:"valueChecked",valueUnChecked:"valueUnChecked"},features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>N),multi:!0}])]}),N})(),$o=0,sr=(()=>{class N{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+$o++,this.onChange=S=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(S){this.setDisabledState(S)}onRadioChange(S){this.writeValue(S.value),this.onChange(S.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(S){this._radios.add(S)}registerOnChange(S){this.onChange=S}registerOnTouched(S){this.onTouched=S}setDisabledState(S){this._disabled=S,this._updateRadiosDisabled()}unregister(S){this._radios.delete(S)}writeValue(S){this._value=S,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(S=>S.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(S=>S.updateDisabled())}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>N),multi:!0}])]}),N})(),Xi=(()=>{class N{constructor(S,V,ge,Ae,Nt){this._group=S,this._label=V,this._renderer=ge,this._element=Ae,this._cd=Nt,this._value=null,this._group.register(this),this.updateDisabled()}set value(S){this._value=S;const V=S?S.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",V),this._group.onRadioValueUpdate()}set disabled(S){this._disabled=!1!==S,this.updateDisabled()}set focused(S){this._label&&(this._label.focused=S),S||this._group.onTouched()}get checked(){return this._checked}get disabled(){return this._group.disabled||this._disabled}get value(){return this._value}get nameAttr(){return this.name||this._group.name}ngOnDestroy(){this._group.unregister(this)}onChange(){this._group.onRadioChange(this)}updateValue(S){this.value!==S&&this._cd.markForCheck(),this._checked=this.value===S,this._label.active=this._checked}updateDisabled(){this._label.disabled=this.disabled}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(sr),i.rXU(go),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(i.gRc))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbButton","","type","radio"]],hostVars:3,hostBindings:function(S,V){1&S&&i.bIt("change",function(){return V.onChange()})("focus",function(){return V.focused=!0})("blur",function(){return V.focused=!1}),2&S&&i.Mr5("checked",V.checked)("disabled",V.disabled)("name",V.nameAttr)},inputs:{name:"name",value:"value",disabled:"disabled"}}),N})(),xr=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({}),N})(),Ba=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),Zs=(()=>{class N{constructor(S){this._ngbConfig=S}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(S){this._animation=S}}return N.\u0275fac=function(S){return new(S||N)(i.KVO(Lt))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),rc=(()=>{class N{constructor(S,V,ge){this._element=S,this._zone=ge,this.collapsed=!1,this.ngbCollapseChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.animation=V.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:S}){S.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(S=this.collapsed){this.collapsed=!S,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(S,V){return he(this._zone,this._element.nativeElement,ze,{animation:V,runningTransition:"stop",context:{direction:S?"hide":"show"}})}_runTransitionWithEvents(S,V){this._runTransition(S,V).subscribe(()=>{S?this.hidden.emit():this.shown.emit()})}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.aKT),i.rXU(Zs),i.rXU(i.SKi))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:[i.Mj6.None,"ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[i.OA$]}),N})(),Za=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({}),N})();class ji{constructor(X,S,V){this.year=kt(X)?X:null,this.month=kt(S)?S:null,this.day=kt(V)?V:null}static from(X){return X instanceof ji?X:X?new ji(X.year,X.month,X.day):null}equals(X){return null!=X&&this.year===X.year&&this.month===X.month&&this.day===X.day}before(X){return!!X&&(this.year===X.year?this.month===X.month?this.day!==X.day&&this.day<X.day:this.month<X.month:this.year<X.year)}after(X){return!!X&&(this.year===X.year?this.month===X.month?this.day!==X.day&&this.day>X.day:this.month>X.month:this.year>X.year)}}function Ss(N,X){return!function _o(N,X){return!N&&!X||!!N&&!!X&&N.equals(X)}(N,X)}function Ur(N,X){return!(!N&&!X||N&&X&&N.year===X.year&&N.month===X.month)}function si(N,X,S){return N&&X&&N.before(X)?X:N&&S&&N.after(S)?S:N||null}function Wo(N,X){const{minDate:S,maxDate:V,disabled:ge,markDisabled:Ae}=X;return!(null==N||ge||Ae&&Ae(N,{year:N.year,month:N.month})||S&&N.before(S)||V&&N.after(V))}function Ul(N){return new ji(N.getFullYear(),N.getMonth()+1,N.getDate())}function de(N){const X=new Date(N.year,N.month-1,N.day,12);return isNaN(X.getTime())||X.setFullYear(N.year),X}let pe=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=i.jDH({token:N,factory:()=>function Oe(){return new Ie}(),providedIn:"root"}),N})(),Ie=(()=>{class N extends pe{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(S,V="d",ge=1){let Ae=de(S),Nt=!0,qt=Ae.getMonth();switch(V){case"y":Ae.setFullYear(Ae.getFullYear()+ge);break;case"m":qt+=ge,Ae.setMonth(qt),qt%=12,qt<0&&(qt+=12);break;case"d":Ae.setDate(Ae.getDate()+ge),Nt=!1;break;default:return S}return Nt&&Ae.getMonth()!==qt&&Ae.setDate(0),Ul(Ae)}getPrev(S,V="d",ge=1){return this.getNext(S,V,-ge)}getWeekday(S){let ge=de(S).getDay();return 0===ge?7:ge}getWeekNumber(S,V){7===V&&(V=0);const Nt=de(S[(11-V)%7]);Nt.setDate(Nt.getDate()+4-(Nt.getDay()||7));const qt=Nt.getTime();return Nt.setMonth(0),Nt.setDate(1),Math.floor(Math.round((qt-Nt.getTime())/864e5)/7)+1}getToday(){return Ul(new Date)}isValid(S){if(!(S&&kt(S.year)&&kt(S.month)&&kt(S.day)&&0!==S.year))return!1;const V=de(S);return!isNaN(V.getTime())&&V.getFullYear()===S.year&&V.getMonth()+1===S.month&&V.getDate()===S.day}}return N.\u0275fac=(()=>{let X;return function(V){return(X||(X=i.xGo(N)))(V||N)}})(),N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac}),N})(),ft=(()=>{class N{getMonthLabel(S){return`${this.getMonthFullName(S.month,S.year)} ${this.getYearNumerals(S.year)}`}getDayNumerals(S){return`${S.day}`}getWeekNumerals(S){return`${S}`}getYearNumerals(S){return`${S}`}getWeekLabel(){return""}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=i.jDH({token:N,factory:function(S){let V=null;return V=S?new S:function He(N){return new Se(N)}(i.KVO(i.xe9)),V},providedIn:"root"}),N})(),Se=(()=>{class N extends ft{constructor(S){super(),this._locale=S,this._monthsShort=(0,t.tL)(S,t.oV.Standalone,t.cH.Abbreviated),this._monthsFull=(0,t.tL)(S,t.oV.Standalone,t.cH.Wide)}getWeekdayLabel(S,V){const ge=(0,t.XO)(this._locale,t.oV.Standalone,void 0===V?t.cH.Short:V);return ge.map((Nt,qt)=>ge[(qt+1)%7])[S-1]||""}getMonthShortName(S){return this._monthsShort[S-1]||""}getMonthFullName(S){return this._monthsFull[S-1]||""}getDayAriaLabel(S){const V=new Date(S.year,S.month-1,S.day);return(0,t.Yq)(V,"fullDate",this._locale)}}return N.\u0275fac=function(S){return new(S||N)(i.KVO(i.xe9))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac}),N})(),ye=(()=>{class N{constructor(S,V){this._calendar=S,this._i18n=V,this._VALIDATORS={dayTemplateData:ge=>{if(this._state.dayTemplateData!==ge)return{dayTemplateData:ge}},displayMonths:ge=>{if(kt(ge=ro(ge))&&ge>0&&this._state.displayMonths!==ge)return{displayMonths:ge}},disabled:ge=>{if(this._state.disabled!==ge)return{disabled:ge}},firstDayOfWeek:ge=>{if(kt(ge=ro(ge))&&ge>=0&&this._state.firstDayOfWeek!==ge)return{firstDayOfWeek:ge}},focusVisible:ge=>{if(this._state.focusVisible!==ge&&!this._state.disabled)return{focusVisible:ge}},markDisabled:ge=>{if(this._state.markDisabled!==ge)return{markDisabled:ge}},maxDate:ge=>{const Ae=this.toValidDate(ge,null);if(Ss(this._state.maxDate,Ae))return{maxDate:Ae}},minDate:ge=>{const Ae=this.toValidDate(ge,null);if(Ss(this._state.minDate,Ae))return{minDate:Ae}},navigation:ge=>{if(this._state.navigation!==ge)return{navigation:ge}},outsideDays:ge=>{if(this._state.outsideDays!==ge)return{outsideDays:ge}},weekdays:ge=>{const Ae=!0===ge||!1===ge?t.cH.Short:ge,Nt=!0!==ge&&!1!==ge||ge;if(this._state.weekdayWidth!==Ae||this._state.weekdaysVisible!==Nt)return{weekdayWidth:Ae,weekdaysVisible:Nt}}},this._model$=new m.B,this._dateSelect$=new m.B,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:t.cH.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,M.p)(S=>S.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,M.p)(S=>null!==S))}set(S){let V=Object.keys(S).map(ge=>this._VALIDATORS[ge](S[ge])).reduce((ge,Ae)=>({...ge,...Ae}),{});Object.keys(V).length>0&&this._nextState(V)}focus(S){const V=this.toValidDate(S,null);null!=V&&!this._state.disabled&&Ss(this._state.focusDate,V)&&this._nextState({focusDate:S})}focusSelect(){Wo(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(S){const V=this.toValidDate(S,this._calendar.getToday());null!=V&&!this._state.disabled&&(!this._state.firstDate||Ur(this._state.firstDate,V))&&this._nextState({firstDate:V})}select(S,V={}){const ge=this.toValidDate(S,null);null!=ge&&!this._state.disabled&&(Ss(this._state.selectedDate,ge)&&this._nextState({selectedDate:ge}),V.emitEvent&&Wo(ge,this._state)&&this._dateSelect$.next(ge))}toValidDate(S,V){const ge=ji.from(S);return void 0===V&&(V=this._calendar.getToday()),this._calendar.isValid(ge)?ge:V}getMonth(S){for(let V of this._state.months)if(S.month===V.number&&S.year===V.year)return V;throw new Error(`month ${S.month} of year ${S.year} not found`)}_nextState(S){const V=this._updateState(S);this._patchContexts(V),this._state=V,this._model$.next(this._state)}_patchContexts(S){const{months:V,displayMonths:ge,selectedDate:Ae,focusDate:Nt,focusVisible:qt,disabled:en,outsideDays:Mn}=S;S.months.forEach(Sn=>{Sn.weeks.forEach(us=>{us.days.forEach(Kn=>{Nt&&(Kn.context.focused=Nt.equals(Kn.date)&&qt),Kn.tabindex=!en&&Nt&&Kn.date.equals(Nt)&&Nt.month===Sn.number?0:-1,!0===en&&(Kn.context.disabled=!0),void 0!==Ae&&(Kn.context.selected=null!==Ae&&Ae.equals(Kn.date)),Sn.number!==Kn.date.month&&(Kn.hidden="hidden"===Mn||"collapsed"===Mn||ge>1&&Kn.date.after(V[0].firstDate)&&Kn.date.before(V[ge-1].lastDate))})})})}_updateState(S){const V=Object.assign({},this._state,S);let ge=V.firstDate;if(("minDate"in S||"maxDate"in S)&&(function Nc(N,X){if(X&&N&&X.before(N))throw new Error(`'maxDate' ${X} should be greater than 'minDate' ${N}`)}(V.minDate,V.maxDate),V.focusDate=si(V.focusDate,V.minDate,V.maxDate),V.firstDate=si(V.firstDate,V.minDate,V.maxDate),ge=V.focusDate),"disabled"in S&&(V.focusVisible=!1),"selectedDate"in S&&0===this._state.months.length&&(ge=V.selectedDate),"focusVisible"in S||"focusDate"in S&&(V.focusDate=si(V.focusDate,V.minDate,V.maxDate),ge=V.focusDate,0!==V.months.length&&V.focusDate&&!V.focusDate.before(V.firstDate)&&!V.focusDate.after(V.lastDate)))return V;if("firstDate"in S&&(V.firstDate=si(V.firstDate,V.minDate,V.maxDate),ge=V.firstDate),ge){const Nt=function Bl(N,X,S,V,ge){const{displayMonths:Ae,months:Nt}=S,qt=Nt.splice(0,Nt.length);return Array.from({length:Ae},(Mn,Sn)=>{const us=Object.assign(N.getNext(X,"m",Sn),{day:1});if(Nt[Sn]=null,!ge){const Kn=qt.findIndex(Os=>Os.firstDate.equals(us));-1!==Kn&&(Nt[Sn]=qt.splice(Kn,1)[0])}return us}).forEach((Mn,Sn)=>{null===Nt[Sn]&&(Nt[Sn]=function zd(N,X,S,V,ge={}){const{dayTemplateData:Ae,minDate:Nt,maxDate:qt,firstDayOfWeek:en,markDisabled:Mn,outsideDays:Sn,weekdayWidth:us,weekdaysVisible:Kn}=S,Os=N.getToday();ge.firstDate=null,ge.lastDate=null,ge.number=X.month,ge.year=X.year,ge.weeks=ge.weeks||[],ge.weekdays=ge.weekdays||[],X=function Yd(N,X,S){const V=N.getDaysPerWeek(),ge=new ji(X.year,X.month,1),Ae=N.getWeekday(ge)%V;return N.getPrev(ge,"d",(V+Ae-S)%V)}(N,X,en),Kn||(ge.weekdays.length=0);for(let Pi=0;Pi<N.getWeeksPerMonth();Pi++){let zs=ge.weeks[Pi];zs||(zs=ge.weeks[Pi]={number:0,days:[],collapsed:!0});const ti=zs.days;for(let Bi=0;Bi<N.getDaysPerWeek();Bi++){0===Pi&&Kn&&(ge.weekdays[Bi]=V.getWeekdayLabel(N.getWeekday(X),us));const Ui=new ji(X.year,X.month,X.day),Ao=N.getNext(Ui),fi=V.getDayAriaLabel(Ui);let Ki=!!(Nt&&Ui.before(Nt)||qt&&Ui.after(qt));!Ki&&Mn&&(Ki=Mn(Ui,{month:ge.number,year:ge.year}));let xi=Ui.equals(Os),Lo=Ae?Ae(Ui,{month:ge.number,year:ge.year}):void 0;null===ge.firstDate&&Ui.month===ge.number&&(ge.firstDate=Ui),Ui.month===ge.number&&Ao.month!==ge.number&&(ge.lastDate=Ui);let wo=ti[Bi];wo||(wo=ti[Bi]={}),wo.date=Ui,wo.context=Object.assign(wo.context||{},{$implicit:Ui,date:Ui,data:Lo,currentMonth:ge.number,currentYear:ge.year,disabled:Ki,focused:!1,selected:!1,today:xi}),wo.tabindex=-1,wo.ariaLabel=fi,wo.hidden=!1,X=Ao}zs.number=N.getWeekNumber(ti.map(Bi=>Bi.date),en),zs.collapsed="collapsed"===Sn&&ti[0].date.month!==ge.number&&ti[ti.length-1].date.month!==ge.number}return ge}(N,Mn,S,V,qt.shift()||{}))}),Nt}(this._calendar,ge,V,this._i18n,"dayTemplateData"in S||"firstDayOfWeek"in S||"markDisabled"in S||"minDate"in S||"maxDate"in S||"disabled"in S||"outsideDays"in S||"weekdaysVisible"in S);V.months=Nt,V.firstDate=Nt[0].firstDate,V.lastDate=Nt[Nt.length-1].lastDate,"selectedDate"in S&&!Wo(V.selectedDate,V)&&(V.selectedDate=null),"firstDate"in S&&(!V.focusDate||V.focusDate.before(V.firstDate)||V.focusDate.after(V.lastDate))&&(V.focusDate=ge);const qt=!this._state.firstDate||this._state.firstDate.year!==V.firstDate.year,en=!this._state.firstDate||this._state.firstDate.month!==V.firstDate.month;"select"===V.navigation?(("minDate"in S||"maxDate"in S||0===V.selectBoxes.years.length||qt)&&(V.selectBoxes.years=function Ua(N,X,S){if(!N)return[];const V=X?Math.max(X.year,N.year-500):N.year-10,Ae=(S?Math.min(S.year,N.year+500):N.year+10)-V+1,Nt=Array(Ae);for(let qt=0;qt<Ae;qt++)Nt[qt]=V+qt;return Nt}(V.firstDate,V.minDate,V.maxDate)),("minDate"in S||"maxDate"in S||0===V.selectBoxes.months.length||qt)&&(V.selectBoxes.months=function fl(N,X,S,V){if(!X)return[];let ge=N.getMonths(X.year);if(S&&X.year===S.year){const Ae=ge.findIndex(Nt=>Nt===S.month);ge=ge.slice(Ae)}if(V&&X.year===V.year){const Ae=ge.findIndex(Nt=>Nt===V.month);ge=ge.slice(0,Ae+1)}return ge}(this._calendar,V.firstDate,V.minDate,V.maxDate))):V.selectBoxes={years:[],months:[]},("arrows"===V.navigation||"select"===V.navigation)&&(en||qt||"minDate"in S||"maxDate"in S||"disabled"in S)&&(V.prevDisabled=V.disabled||function kr(N,X,S){const V=Object.assign(N.getPrev(X,"m"),{day:1});return null!=S&&(V.year===S.year&&V.month<S.month||V.year<S.year&&1===S.month)}(this._calendar,V.firstDate,V.minDate),V.nextDisabled=V.disabled||function jl(N,X,S){const V=Object.assign(N.getNext(X,"m"),{day:1});return null!=S&&V.after(S)}(this._calendar,V.lastDate,V.maxDate))}return V}}return N.\u0275fac=function(S){return new(S||N)(i.KVO(pe),i.KVO(ft))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac}),N})();var ae=function(N){return N[N.PREV=0]="PREV",N[N.NEXT=1]="NEXT",N}(ae||{});let Pe=(()=>{class N{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=t.cH.Short}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),jt=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=i.jDH({token:N,factory:()=>function nt(){return new _n}(),providedIn:"root"}),N})(),_n=(()=>{class N extends jt{fromModel(S){return S&&kt(S.year)&&kt(S.month)&&kt(S.day)?{year:S.year,month:S.month,day:S.day}:null}toModel(S){return S&&kt(S.year)&&kt(S.month)&&kt(S.day)?{year:S.year,month:S.month,day:S.day}:null}}return N.\u0275fac=(()=>{let X;return function(V){return(X||(X=i.xGo(N)))(V||N)}})(),N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac}),N})(),Ln=(()=>{class N{constructor(S){this.i18n=S}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(ft))},N.\u0275cmp=i.VBU({type:N,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(S,V){2&S&&i.AVh("bg-primary",V.selected)("text-white",V.selected)("text-muted",V.isMuted())("outside",V.isMuted())("active",V.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:Qr,decls:1,vars:1,template:function(S,V){1&S&&i.EFF(0),2&S&&i.JRh(V.i18n.getDayNumerals(V.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),N})(),as=(()=>{class N{constructor(S,V){this.i18n=S,this._renderer=V,this.select=new i.bkB,this._month=-1,this._year=-1}changeMonth(S){this.select.emit(new ji(this.date.year,ro(S),1))}changeYear(S){this.select.emit(new ji(ro(S),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(ft),i.rXU(i.sFG))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(S,V){if(1&S&&(i.GBs(po,7,i.aKT),i.GBs(Er,7,i.aKT)),2&S){let ge;i.mGM(ge=i.lsd())&&(V.monthSelect=ge.first),i.mGM(ge=i.lsd())&&(V.yearSelect=ge.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:()=>{let X,S,V,ge;return X=$localize`:@@ngb.datepicker.select-month:Select month`,S=$localize`:@@ngb.datepicker.select-month:Select month`,V=$localize`:@@ngb.datepicker.select-year:Select year`,ge=$localize`:@@ngb.datepicker.select-year:Select year`,[["month",""],["year",""],["aria-label",X,"title",S,1,"form-select",3,"change","disabled"],[3,"value",4,"ngFor","ngForOf"],["aria-label",V,"title",ge,1,"form-select",3,"change","disabled"],[3,"value"]]},template:function(S,V){if(1&S){const ge=i.RV6();i.j41(0,"select",2,0),i.bIt("change",function(Nt){return i.eBV(ge),i.Njj(V.changeMonth(Nt.target.value))}),i.DNE(2,Ks,2,3,"option",3),i.k0s(),i.j41(3,"select",4,1),i.bIt("change",function(Nt){return i.eBV(ge),i.Njj(V.changeYear(Nt.target.value))}),i.DNE(5,hr,2,2,"option",3),i.k0s()}2&S&&(i.Y8G("disabled",V.disabled),i.R7$(2),i.Y8G("ngForOf",V.months),i.R7$(),i.Y8G("disabled",V.disabled),i.R7$(2),i.Y8G("ngForOf",V.years))},dependencies:[t.Sq,Z.xH,Z.y7],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),N})(),gs=(()=>{class N{constructor(S){this.i18n=S,this.navigation=ae,this.months=[],this.navigate=new i.bkB,this.select=new i.bkB}onClickPrev(S){S.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(S){S.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(ft))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:()=>{let X,S,V,ge;return X=$localize`:@@ngb.datepicker.previous-month:Previous month`,S=$localize`:@@ngb.datepicker.previous-month:Previous month`,V=$localize`:@@ngb.datepicker.next-month:Next month`,ge=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",X,"title",S,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",V,"title",ge,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-select",3,"select","date","disabled","months","years"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(S,V){1&S&&(i.j41(0,"div",0)(1,"button",1),i.bIt("click",function(Ae){return V.onClickPrev(Ae)}),i.nrm(2,"span",2),i.k0s()(),i.DNE(3,Zr,1,4,"ngb-datepicker-navigation-select",3)(4,ra,1,1,null,4),i.j41(5,"div",5)(6,"button",6),i.bIt("click",function(Ae){return V.onClickNext(Ae)}),i.nrm(7,"span",2),i.k0s()()),2&S&&(i.R7$(),i.Y8G("disabled",V.prevDisabled),i.R7$(2),i.Y8G("ngIf",V.showSelect),i.R7$(),i.Y8G("ngIf",!V.showSelect),i.R7$(2),i.Y8G("disabled",V.nextDisabled))},dependencies:[as,t.bT,t.Sq],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),N})();var ys=function(N){return N[N.Tab=9]="Tab",N[N.Enter=13]="Enter",N[N.Escape=27]="Escape",N[N.Space=32]="Space",N[N.PageUp=33]="PageUp",N[N.PageDown=34]="PageDown",N[N.End=35]="End",N[N.Home=36]="Home",N[N.ArrowLeft=37]="ArrowLeft",N[N.ArrowUp=38]="ArrowUp",N[N.ArrowRight=39]="ArrowRight",N[N.ArrowDown=40]="ArrowDown",N}(ys||{});let Ji=(()=>{class N{processKey(S,V){const{state:ge,calendar:Ae}=V;switch(S.which){case ys.PageUp:V.focusDate(Ae.getPrev(ge.focusedDate,S.shiftKey?"y":"m",1));break;case ys.PageDown:V.focusDate(Ae.getNext(ge.focusedDate,S.shiftKey?"y":"m",1));break;case ys.End:V.focusDate(S.shiftKey?ge.maxDate:ge.lastDate);break;case ys.Home:V.focusDate(S.shiftKey?ge.minDate:ge.firstDate);break;case ys.ArrowLeft:V.focusDate(Ae.getPrev(ge.focusedDate,"d",1));break;case ys.ArrowUp:V.focusDate(Ae.getPrev(ge.focusedDate,"d",Ae.getDaysPerWeek()));break;case ys.ArrowRight:V.focusDate(Ae.getNext(ge.focusedDate,"d",1));break;case ys.ArrowDown:V.focusDate(Ae.getNext(ge.focusedDate,"d",Ae.getDaysPerWeek()));break;case ys.Enter:case ys.Space:V.focusSelect();break;default:return}S.preventDefault(),S.stopPropagation()}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Ta=(()=>{class N{constructor(S){this.templateRef=S}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbDatepickerContent",""]]}),N})(),ml=(()=>{class N{constructor(S,V,ge,Ae,Nt,qt,en,Mn){this._service=S,this._calendar=V,this.i18n=ge,this._elementRef=qt,this._ngbDateAdapter=en,this._ngZone=Mn,this._controlValue=null,this._destroyed$=new m.B,this._publicState={},this.navigate=new i.bkB,this.dateSelect=new i.bkB,this.onChange=Sn=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(Sn=>this[Sn]=Ae[Sn]),S.dateSelect$.pipe((0,w.Q)(this._destroyed$)).subscribe(Sn=>{this.dateSelect.emit(Sn)}),S.model$.pipe((0,w.Q)(this._destroyed$)).subscribe(Sn=>{const us=Sn.firstDate,Kn=this.model?this.model.firstDate:null;this._publicState={maxDate:Sn.maxDate,minDate:Sn.minDate,firstDate:Sn.firstDate,lastDate:Sn.lastDate,focusedDate:Sn.focusDate,months:Sn.months.map(Bi=>Bi.firstDate)};let Os=!1;if(!us.equals(Kn)&&(this.navigate.emit({current:Kn?{year:Kn.year,month:Kn.month}:null,next:{year:us.year,month:us.month},preventDefault:()=>Os=!0}),Os&&null!==Kn))return void this._service.open(Kn);const Pi=Sn.selectedDate,zs=Sn.focusDate,ti=this.model?this.model.focusDate:null;this.model=Sn,Ss(Pi,this._controlValue)&&(this._controlValue=Pi,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(Pi))),Ss(zs,ti)&&ti&&Sn.focusVisible&&this.focus(),Nt.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(S){this._service.focus(ji.from(S))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,L.s)(1)).subscribe(()=>{const S=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');S&&S.focus()})}navigateTo(S){this._service.open(ji.from(S?S.day?S:{...S,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const S=(0,f.R)(this._contentEl.nativeElement,"focusin"),V=(0,f.R)(this._contentEl.nativeElement,"focusout"),{nativeElement:ge}=this._elementRef;(0,p.h)(S,V).pipe((0,M.p)(({target:Ae,relatedTarget:Nt})=>!(rs(Ae,"ngb-dp-day")&&rs(Nt,"ngb-dp-day")&&ge.contains(Ae)&&ge.contains(Nt))),(0,w.Q)(this._destroyed$)).subscribe(({type:Ae})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===Ae})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const S={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(V=>S[V]=this[V]),this._service.set(S),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(S){const V={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(ge=>ge in S).forEach(ge=>V[ge]=this[ge]),this._service.set(V),"startDate"in S){const{currentValue:ge,previousValue:Ae}=S.startDate;Ur(Ae,ge)&&this.navigateTo(this.startDate)}}onDateSelect(S){this._service.focus(S),this._service.select(S,{emitEvent:!0})}onNavigateDateSelect(S){this._service.open(S)}onNavigateEvent(S){switch(S){case ae.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case ae.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(S){this.onChange=S}registerOnTouched(S){this.onTouched=S}setDisabledState(S){this._service.set({disabled:S})}writeValue(S){this._controlValue=ji.from(this._ngbDateAdapter.fromModel(S)),this._service.select(this._controlValue)}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(ye),i.rXU(pe),i.rXU(ft),i.rXU(Pe),i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(jt),i.rXU(i.SKi))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-datepicker"]],contentQueries:function(S,V,ge){if(1&S&&i.wni(ge,Ta,7),2&S){let Ae;i.mGM(Ae=i.lsd())&&(V.contentTemplate=Ae.first)}},viewQuery:function(S,V){if(1&S&&(i.GBs(rr,7),i.GBs(qr,7)),2&S){let ge;i.mGM(ge=i.lsd())&&(V._defaultDayTemplate=ge.first),i.mGM(ge=i.lsd())&&(V._contentEl=ge.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>N),multi:!0},ye]),i.OA$],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],["content",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"navigate","select","date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"]],template:function(S,V){if(1&S&&(i.DNE(0,ma,1,5,"ng-template",null,0,i.C5r)(2,qe,1,1,"ng-template",null,1,i.C5r),i.j41(4,"div",3),i.DNE(5,at,1,7,"ngb-datepicker-navigation",4),i.k0s(),i.j41(6,"div",5,2),i.DNE(8,Ut,0,0,"ng-template",6),i.k0s(),i.DNE(9,Vt,0,0,"ng-template",6)),2&S){const ge=i.sdS(3);i.R7$(5),i.Y8G("ngIf","none"!==V.navigation),i.R7$(),i.AVh("ngb-dp-months",!V.contentTemplate),i.R7$(2),i.Y8G("ngTemplateOutlet",(null==V.contentTemplate?null:V.contentTemplate.templateRef)||ge),i.R7$(),i.Y8G("ngTemplateOutlet",V.footerTemplate)}},dependencies:()=>[Ln,qa,gs,t.Sq,t.bT,t.T3],styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),N})(),qa=(()=>{class N{constructor(S,V,ge,Ae){this.i18n=S,this.datepicker=V,this._keyboardService=ge,this._service=Ae}set month(S){this.viewModel=this._service.getMonth(S)}onKeyDown(S){this._keyboardService.processKey(S,this.datepicker)}doSelect(S){!S.context.disabled&&!S.hidden&&this.datepicker.onDateSelect(S.date)}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(ft),i.rXU(ml),i.rXU(Ji),i.rXU(ye))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(S,V){1&S&&i.bIt("keydown",function(Ae){return V.onKeyDown(Ae)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"click","tabindex"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(S,V){1&S&&i.DNE(0,Is,3,2,"div",0)(1,ni,1,1,"ng-template",1),2&S&&(i.Y8G("ngIf",V.viewModel.weekdays.length>0),i.R7$(),i.Y8G("ngForOf",V.viewModel.weeks))},dependencies:[t.bT,t.Sq,t.T3],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#0dcaf0;color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),N})();const el=(N,X)=>!!X&&X.some(S=>S.contains(N)),Vr=(N,X)=>!X||null!=function Us(N,X){return!X||typeof N.closest>"u"?null:N.closest(X)}(N,X),rn=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function gl(N,X,S,V,ge,Ae,Nt,qt){S&&N.runOutsideAngular((N=>rn?()=>setTimeout(()=>N(),100):N)(()=>{const Mn=(0,f.R)(X,"keydown").pipe((0,w.Q)(ge),(0,M.p)(Kn=>Kn.which===ys.Escape),(0,K.M)(Kn=>Kn.preventDefault())),Sn=(0,f.R)(X,"mousedown").pipe((0,B.T)(Kn=>{const Os=Kn.target;return 2!==Kn.button&&!el(Os,Nt)&&("inside"===S?el(Os,Ae)&&Vr(Os,qt):"outside"===S?!el(Os,Ae):Vr(Os,qt)||!el(Os,Ae))}),(0,w.Q)(ge)),us=(0,f.R)(X,"mouseup").pipe((0,Y.E)(Sn),(0,M.p)(([Kn,Os])=>Os),(0,G.c)(0),(0,w.Q)(ge));(0,E.O)([Mn.pipe((0,B.T)(Kn=>0)),us.pipe((0,B.T)(Kn=>1))]).subscribe(Kn=>N.run(()=>V(Kn)))}))}const Jd=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Sp(N){const X=Array.from(N.querySelectorAll(Jd)).filter(S=>-1!==S.tabIndex);return[X[0],X[X.length-1]]}const Pp=(N,X,S,V=!1)=>{N.runOutsideAngular(()=>{const ge=(0,f.R)(X,"focusin").pipe((0,w.Q)(S),(0,B.T)(Ae=>Ae.target));(0,f.R)(X,"keydown").pipe((0,w.Q)(S),(0,M.p)(Ae=>Ae.which===ys.Tab),(0,Y.E)(ge)).subscribe(([Ae,Nt])=>{const[qt,en]=Sp(X);(Nt===qt||Nt===X)&&Ae.shiftKey&&(en.focus(),Ae.preventDefault()),Nt===en&&!Ae.shiftKey&&(qt.focus(),Ae.preventDefault())}),V&&(0,f.R)(X,"click").pipe((0,w.Q)(S),(0,Y.E)(ge),(0,B.T)(Ae=>Ae[1])).subscribe(Ae=>Ae.focus())})},Z_=/\s+/,Rp=/  +/gi,q_=/^start/,_l=/^end/,bm=/-(top|left)$/,ac=/-(bottom|right)$/,ev=/^left/,vl=/^right/,qi=/^start/,Ap=/^end/;function Gr({placement:N,baseClass:X}){let S=Array.isArray(N)?N:N.split(Z_),ge=S.findIndex(en=>"auto"===en);ge>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(en){null==S.find(Mn=>-1!==Mn.search("^"+en))&&S.splice(ge++,1,en)});const Ae=S.map(en=>function Dm(N){return N.replace(q_,"left").replace(_l,"right").replace(bm,"-start").replace(ac,"-end")}(en));return{placement:Ae.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!X,phase:"write",fn({state:en}){const Mn=new RegExp(X+"(-[a-z]+)*","gi"),Sn=en.elements.popper,us=en.placement;let Kn=Sn.className;Kn=Kn.replace(Mn,""),Kn+=` ${function Qd(N,X){let[S,V]=X.split("-");const ge=S.replace(ev,"start").replace(vl,"end");let Ae=[ge];if(V){let Nt=V;("left"===S||"right"===S)&&(Nt=Nt.replace(qi,"top").replace(Ap,"bottom")),Ae.push(`${ge}-${Nt}`)}return N&&(Ae=Ae.map(Nt=>`${N}-${Nt}`)),Ae.join(" ")}(X,us)}`,Kn=Kn.trim().replace(Rp," "),Sn.className=Kn}},Cs,li,sn,{enabled:!0,name:"flip",options:{fallbackPlacements:Ae}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Tm(N){return N}function lc(){let N=null;return{createPopper(X){if(!N){let V=(X.updatePopperOptions||Tm)(Gr(X));N=on(X.hostElement,X.targetElement,V)}},update(){N&&N.update()},setOptions(X){if(N){let V=(X.updatePopperOptions||Tm)(Gr(X));N.setOptions(V)}},destroy(){N&&(N.destroy(),N=null)}}}let Fc=(()=>{class N extends Pe{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.restoreFocus=!0}}return N.\u0275fac=(()=>{let X;return function(V){return(X||(X=i.xGo(N)))(V||N)}})(),N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function da(N){return X=>(X.modifiers.push(qn,{name:"offset",options:{offset:()=>N}}),X)}let Zd=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=i.jDH({token:N,factory:()=>function Yy(){return new Om}(),providedIn:"root"}),N})(),Om=(()=>{class N extends Zd{parse(S){if(null!=S){const V=S.trim().split("-");if(1===V.length&&Wi(V[0]))return{year:ro(V[0]),month:null,day:null};if(2===V.length&&Wi(V[0])&&Wi(V[1]))return{year:ro(V[0]),month:ro(V[1]),day:null};if(3===V.length&&Wi(V[0])&&Wi(V[1])&&Wi(V[2]))return{year:ro(V[0]),month:ro(V[1]),day:ro(V[2])}}return null}format(S){return S?`${S.year}-${Wi(S.month)?Rn(S.month):""}-${Wi(S.day)?Rn(S.day):""}`:""}}return N.\u0275fac=(()=>{let X;return function(V){return(X||(X=i.xGo(N)))(V||N)}})(),N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac}),N})(),tl=(()=>{class N{constructor(S,V,ge,Ae,Nt,qt,en,Mn,Sn,us){this._parserFormatter=S,this._elRef=V,this._vcRef=ge,this._renderer=Ae,this._ngZone=Nt,this._calendar=qt,this._dateAdapter=en,this._document=Mn,this._changeDetector=Sn,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._positioning=lc(),this._destroyCloseHandlers$=new m.B,this.dateSelect=new i.bkB,this.navigate=new i.bkB,this.closed=new i.bkB,this._onChange=Kn=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(Kn=>this[Kn]=us[Kn])}get disabled(){return this._disabled}set disabled(S){this._disabled=""===S||S&&"false"!==S,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(S){this._onChange=S}registerOnTouched(S){this._onTouched=S}registerOnValidatorChange(S){this._validatorChange=S}setDisabledState(S){this.disabled=S}validate(S){const{value:V}=S;if(null!=V){const ge=this._fromDateStruct(this._dateAdapter.fromModel(V));if(!ge)return{ngbDate:{invalid:V}};if(this.minDate&&ge.before(ji.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:V}}};if(this.maxDate&&ge.after(ji.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:V}}}}return null}writeValue(S){this._model=this._fromDateStruct(this._dateAdapter.fromModel(S)),this._writeModelValue(this._model)}manualDateChange(S,V=!1){const ge=S!==this._inputValue;ge&&(this._inputValue=S,this._model=this._fromDateStruct(this._parserFormatter.parse(S))),(ge||!V)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===S?null:S),V&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){let S;if(this._cRef=this._vcRef.createComponent(ml),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(V=>{this.writeValue(V),this._onChange(V),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,Pp(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>this._cRef?.instance.focus()),S=br(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this._ngZone.runOutsideAngular(()=>{this._cRef&&(this._positioning.createPopper({hostElement:S,targetElement:this._cRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:da([0,2])}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),this.positionTarget&&!S)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._setCloseHandlers()}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let S=this._elWithFocus;br(this.restoreFocus)?S=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(S=this.restoreFocus),S&&S.focus?S.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(S){this.isOpen()&&this._cRef.instance.navigateTo(S)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(S){if((S.minDate||S.maxDate)&&(this._validatorChange(),this.isOpen()&&(S.minDate&&(this._cRef.instance.minDate=this.minDate),S.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(S))),S.datepickerClass){const{currentValue:V,previousValue:ge}=S.datepickerClass;this._applyPopupClass(V,ge)}S.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(S){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(V=>{void 0!==this[V]&&(S[V]=this[V])}),S.startDate=this.startDate||this._model}_applyPopupClass(S,V){const ge=this._cRef?.location.nativeElement;ge&&(S&&this._renderer.addClass(ge,S),V&&this._renderer.removeClass(ge,V))}_applyPopupStyling(S){this._renderer.addClass(S,"dropdown-menu"),this._renderer.addClass(S,"show"),"body"===this.container&&this._renderer.addClass(S,"ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(S){S.navigate.subscribe(V=>this.navigate.emit(V)),S.dateSelect.subscribe(V=>{this.dateSelect.emit(V),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(S){const V=this._parserFormatter.format(S);this._inputValue=V,this._renderer.setProperty(this._elRef.nativeElement,"value",V),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(S)),this._onTouched())}_fromDateStruct(S){const V=S?new ji(S.year,S.month,S.day):null;return this._calendar.isValid(V)?V:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),gl(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(Zd),i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(i.sFG),i.rXU(i.SKi),i.rXU(pe),i.rXU(jt),i.rXU(t.qQ),i.rXU(i.gRc),i.rXU(Fc))},N.\u0275dir=i.FsC({type:N,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(S,V){1&S&&i.bIt("input",function(Ae){return V.manualDateChange(Ae.target.value)})("change",function(Ae){return V.manualDateChange(Ae.target.value,!0)})("focus",function(){return V.onFocus()})("blur",function(){return V.onBlur()}),2&S&&i.Mr5("disabled",V.disabled)},inputs:{autoClose:"autoClose",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>N),multi:!0},{provide:Z.cz,useExisting:(0,i.Rfq)(()=>N),multi:!0},{provide:Pe,useExisting:Fc}]),i.OA$]}),N})();new Date(1882,10,12),new Date(2174,10,25);let Si=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD,Z.YN]]}),N})(),lv=(()=>{class N{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Bp=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=i.FsC({type:N,selectors:[["",8,"navbar"]]}),N})(),bd=(()=>{class N{constructor(S,V){this.elementRef=S,this._renderer=V,this._disabled=!1}set disabled(S){this._disabled=""===S||!0===S,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.aKT),i.rXU(i.sFG))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(S,V){2&S&&(i.Mr5("tabIndex",V.disabled?-1:0),i.AVh("disabled",V.disabled))},inputs:{disabled:"disabled"}}),N})(),Qu=(()=>{class N{constructor(S,V){this.dropdown=S,this.placement="bottom",this.isOpen=!1,this.nativeElement=V.nativeElement}}return N.\u0275fac=function(S){return new(S||N)(i.rXU((0,i.Rfq)(()=>eu)),i.rXU(i.aKT))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(S,V,ge){if(1&S&&i.wni(ge,bd,4),2&S){let Ae;i.mGM(Ae=i.lsd())&&(V.menuItems=Ae)}},hostVars:4,hostBindings:function(S,V){1&S&&i.bIt("keydown.ArrowUp",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.ArrowDown",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.Home",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.End",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.Enter",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.Space",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.Tab",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.Shift.Tab",function(Ae){return V.dropdown.onKeyDown(Ae)}),2&S&&i.AVh("dropdown-menu",!0)("show",V.dropdown.isOpen())}}),N})(),Ko=(()=>{class N{constructor(S,V){this.dropdown=S,this.nativeElement=V.nativeElement}}return N.\u0275fac=function(S){return new(S||N)(i.rXU((0,i.Rfq)(()=>eu)),i.rXU(i.aKT))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(S,V){2&S&&i.BMQ("aria-expanded",V.dropdown.isOpen())}}),N})(),Wr=(()=>{class N extends Ko{constructor(S,V){super(S,V)}}return N.\u0275fac=function(S){return new(S||N)(i.rXU((0,i.Rfq)(()=>eu)),i.rXU(i.aKT))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(S,V){1&S&&i.bIt("click",function(){return V.dropdown.toggle()})("keydown.ArrowUp",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.ArrowDown",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.Home",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.End",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.Tab",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.Shift.Tab",function(Ae){return V.dropdown.onKeyDown(Ae)}),2&S&&i.BMQ("aria-expanded",V.dropdown.isOpen())},features:[i.Jv_([{provide:Ko,useExisting:(0,i.Rfq)(()=>N)}]),i.Vt3]}),N})(),eu=(()=>{class N{constructor(S,V,ge,Ae,Nt,qt,en){this._changeDetector=S,this._document=ge,this._ngZone=Ae,this._elementRef=Nt,this._renderer=qt,this._destroyCloseHandlers$=new m.B,this._bodyContainer=null,this._positioning=lc(),this._open=!1,this.openChange=new i.bkB,this.placement=V.placement,this.container=V.container,this.autoClose=V.autoClose,this.display=en?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe((0,L.s)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(S){if(S.container&&this._open&&this._applyContainer(this.container),S.placement&&!S.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),S.dropdownClass){const{currentValue:V,previousValue:ge}=S.dropdownClass;this._applyCustomDropdownClass(V,ge)}S.autoClose&&this._open&&(this.autoClose=S.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:da([0,2])}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),gl(this._ngZone,this._document,this.autoClose,S=>{this.close(),0===S&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(S){const V=S.which,ge=this._getMenuElements();let Ae=-1,Nt=null;const qt=this._isEventFromToggle(S);if(!qt&&ge.length&&ge.forEach((en,Mn)=>{en.contains(S.target)&&(Nt=en),en===this._document.activeElement&&(Ae=Mn)}),V!==ys.Space&&V!==ys.Enter){if(V!==ys.Tab){if(qt||Nt){if(this.open(),ge.length){switch(V){case ys.ArrowDown:Ae=Math.min(Ae+1,ge.length-1);break;case ys.ArrowUp:if(this._isDropup()&&-1===Ae){Ae=ge.length-1;break}Ae=Math.max(Ae-1,0);break;case ys.Home:Ae=0;break;case ys.End:Ae=ge.length-1}ge[Ae].focus()}S.preventDefault()}}else if(S.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===S.target)return void("body"!==this.container||S.shiftKey?S.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const en=this._menu.nativeElement.querySelectorAll(Jd);S.shiftKey&&S.target===en[0]?(this._anchor.nativeElement.focus(),S.preventDefault()):!S.shiftKey&&S.target===en[en.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,f.R)(S.target,"focusout").pipe((0,L.s)(1)).subscribe(({relatedTarget:en})=>{this._elementRef.nativeElement.contains(en)||this.close()})}}else Nt&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,f.R)(Nt,"click").pipe((0,L.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(S){return this._anchor.nativeElement.contains(S.target)}_getMenuElements(){const S=this._menu;return null==S?[]:S.menuItems.filter(V=>!V.disabled).map(V=>V.elementRef.nativeElement)}_positionMenu(){const S=this._menu;this.isOpen()&&S&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(S){return Array.isArray(S)?S[0]:S.split(" ")[0]}_resetContainer(){const S=this._renderer;this._menu&&S.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(S.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(S=null){if(this._resetContainer(),"body"===S){const V=this._renderer,ge=this._menu.nativeElement,Ae=this._bodyContainer=this._bodyContainer||V.createElement("div");V.setStyle(Ae,"position","absolute"),V.setStyle(ge,"position","static"),V.setStyle(Ae,"z-index","1055"),V.appendChild(Ae,ge),V.appendChild(this._document.body,Ae)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(S,V){const ge="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;ge&&(V&&this._renderer.removeClass(ge,V),S&&this._renderer.addClass(ge,S))}_applyPlacementClasses(S){const V=this._menu;if(V){S||(S=this._getFirstPlacement(this.placement));const ge=this._renderer,Ae=this._elementRef.nativeElement;ge.removeClass(Ae,"dropup"),ge.removeClass(Ae,"dropdown");const{nativeElement:Nt}=V;"static"===this.display?(V.placement=null,ge.setAttribute(Nt,"data-bs-popper","static")):(V.placement=S,ge.removeAttribute(Nt,"data-bs-popper"));const qt=-1!==S.search("^top")?"dropup":"dropdown";ge.addClass(Ae,qt);const en=this._bodyContainer;en&&(ge.removeClass(en,"dropup"),ge.removeClass(en,"dropdown"),ge.addClass(en,qt))}}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.gRc),i.rXU(lv),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(Bp,8))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbDropdown",""]],contentQueries:function(S,V,ge){if(1&S&&(i.wni(ge,Qu,5),i.wni(ge,Ko,5)),2&S){let Ae;i.mGM(Ae=i.lsd())&&(V._menu=Ae.first),i.mGM(Ae=i.lsd())&&(V._anchor=Ae.first)}},hostVars:2,hostBindings:function(S,V){2&S&&i.AVh("show",V.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[i.Mj6.None,"open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[i.OA$]}),N})(),Oa=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({}),N})();class Kr{constructor(X,S,V){this.nodes=X,this.viewRef=S,this.componentRef=V}}class Up{constructor(X,S,V,ge,Ae,Nt){this._type=X,this._injector=S,this._viewContainerRef=V,this._renderer=ge,this._ngZone=Ae,this._applicationRef=Nt,this._windowRef=null,this._contentRef=null}open(X,S,V=!1){this._windowRef||(this._contentRef=this._getContentRef(X,S),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:ge}=this._windowRef.location,Ae=this._ngZone.onStable.pipe((0,L.s)(1),(0,q.Z)(()=>he(this._ngZone,ge,({classList:Nt})=>Nt.add("show"),{animation:V,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:Ae}}close(X=!1){return this._windowRef?he(this._ngZone,this._windowRef.location.nativeElement,({classList:S})=>S.remove("show"),{animation:X,runningTransition:"stop"}).pipe((0,K.M)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,h.of)(void 0)}_getContentRef(X,S){if(X){if(X instanceof i.C4Q){const V=X.createEmbeddedView(S);return this._applicationRef.attachView(V),new Kr([V.rootNodes],V)}return new Kr([[this._renderer.createText(`${X}`)]])}return new Kr([])}}let Am=(()=>{class N{constructor(S,V){this._el=S,this._zone=V}ngOnInit(){this._zone.onStable.asObservable().pipe((0,L.s)(1)).subscribe(()=>{he(this._zone,this._el.nativeElement,(S,V)=>{V&&Qn(S),S.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return he(this._zone,this._el.nativeElement,({classList:S})=>S.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.aKT),i.rXU(i.SKi))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(S,V){2&S&&(i.HbH("modal-backdrop"+(V.backdropClass?" "+V.backdropClass:"")),i.AVh("show",!V.animation)("fade",V.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(S,V){},encapsulation:2}),N})();class qu{close(X){}dismiss(X){}}class cv{constructor(X,S,V,ge){this._windowCmptRef=X,this._contentRef=S,this._backdropCmptRef=V,this._beforeDismiss=ge,this._closed=new m.B,this._dismissed=new m.B,this._hidden=new m.B,X.instance.dismissEvent.subscribe(Ae=>{this.dismiss(Ae)}),this.result=new Promise((Ae,Nt)=>{this._resolve=Ae,this._reject=Nt}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,w.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,w.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(X){this._windowCmptRef&&(this._closed.next(X),this._resolve(X),this._removeModalElements())}_dismiss(X){this._dismissed.next(X),this._reject(X),this._removeModalElements()}dismiss(X){if(this._windowCmptRef)if(this._beforeDismiss){const S=this._beforeDismiss();!function xt(N){return N&&N.then}(S)?!1!==S&&this._dismiss(X):S.then(V=>{!1!==V&&this._dismiss(X)},()=>{})}else this._dismiss(X)}_removeModalElements(){const X=this._windowCmptRef.instance.hide(),S=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,h.of)(void 0);X.subscribe(()=>{const{nativeElement:V}=this._windowCmptRef.location;V.parentNode.removeChild(V),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),S.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:V}=this._backdropCmptRef.location;V.parentNode.removeChild(V),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),(0,A.y)(X,S).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var kc=function(N){return N[N.BACKDROP_CLICK=0]="BACKDROP_CLICK",N[N.ESC=1]="ESC",N}(kc||{});let tu=(()=>{class N{constructor(S,V,ge){this._document=S,this._elRef=V,this._zone=ge,this._closed$=new m.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.bkB,this.shown=new m.B,this.hidden=new m.B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":br(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(S){this.dismissEvent.emit(S)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,L.s)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:S}=this._elRef,V={animation:this.animation,runningTransition:"stop"},ge=he(this._zone,S,()=>S.classList.remove("show"),V),Ae=he(this._zone,this._dialogEl.nativeElement,()=>{},V),Nt=(0,A.y)(ge,Ae);return Nt.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Nt}_show(){const S={animation:this.animation,runningTransition:"continue"},V=he(this._zone,this._elRef.nativeElement,(Ae,Nt)=>{Nt&&Qn(Ae),Ae.classList.add("show")},S),ge=he(this._zone,this._dialogEl.nativeElement,()=>{},S);(0,A.y)(V,ge).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:S}=this._elRef;this._zone.runOutsideAngular(()=>{(0,f.R)(S,"keydown").pipe((0,w.Q)(this._closed$),(0,M.p)(ge=>ge.which===ys.Escape)).subscribe(ge=>{this.keyboard?requestAnimationFrame(()=>{ge.defaultPrevented||this._zone.run(()=>this.dismiss(kc.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let V=!1;(0,f.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,w.Q)(this._closed$),(0,K.M)(()=>V=!1),(0,U.n)(()=>(0,f.R)(S,"mouseup").pipe((0,w.Q)(this._closed$),(0,L.s)(1))),(0,M.p)(({target:ge})=>S===ge)).subscribe(()=>{V=!0}),(0,f.R)(S,"click").pipe((0,w.Q)(this._closed$)).subscribe(({target:ge})=>{S===ge&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!V&&this._zone.run(()=>this.dismiss(kc.BACKDROP_CLICK))),V=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:S}=this._elRef;if(!S.contains(document.activeElement)){const V=S.querySelector("[ngbAutofocus]"),ge=Sp(S)[0];(V||ge||S).focus()}}_restoreFocus(){const S=this._document.body,V=this._elWithFocus;let ge;ge=V&&V.focus&&S.contains(V)?V:S,this._zone.runOutsideAngular(()=>{setTimeout(()=>ge.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&he(this._zone,this._elRef.nativeElement,({classList:S})=>(S.add("modal-static"),()=>S.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(t.qQ),i.rXU(i.aKT),i.rXU(i.SKi))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-modal-window"]],viewQuery:function(S,V){if(1&S&&i.GBs(bo,7),2&S){let ge;i.mGM(ge=i.lsd())&&(V._dialogEl=ge.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(S,V){2&S&&(i.BMQ("aria-modal",!0)("aria-labelledby",V.ariaLabelledBy)("aria-describedby",V.ariaDescribedBy),i.HbH("modal d-block"+(V.windowClass?" "+V.windowClass:"")),i.AVh("fade",V.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:ur,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(S,V){1&S&&(i.NAR(),i.j41(0,"div",1,0)(2,"div",2),i.SdG(3),i.k0s()()),2&S&&i.HbH("modal-dialog"+(V.size?" modal-"+V.size:"")+(V.centered?" modal-dialog-centered":"")+V.fullscreenClass+(V.scrollable?" modal-dialog-scrollable":"")+(V.modalDialogClass?" "+V.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),N})(),dv=(()=>{class N{constructor(S){this._document=S}hide(){const S=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),V=this._document.body,ge=V.style,{overflow:Ae,paddingRight:Nt}=ge;if(S>0){const qt=parseFloat(window.getComputedStyle(V).paddingRight);ge.paddingRight=`${qt+S}px`}return ge.overflow="hidden",()=>{S>0&&(ge.paddingRight=Nt),ge.overflow=Ae}}}return N.\u0275fac=function(S){return new(S||N)(i.KVO(t.qQ))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),kp=(()=>{class N{constructor(S,V,ge,Ae,Nt,qt){this._applicationRef=S,this._injector=V,this._document=ge,this._scrollBar=Ae,this._rendererFactory=Nt,this._ngZone=qt,this._activeWindowCmptHasChanged=new m.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new i.bkB,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const en=this._windowCmpts[this._windowCmpts.length-1];Pp(this._ngZone,en.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(en.location.nativeElement)}})}_restoreScrollBar(){const S=this._scrollBarRestoreFn;S&&(this._scrollBarRestoreFn=null,S())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(S,V,ge,Ae){const Nt=Ae.container instanceof HTMLElement?Ae.container:un(Ae.container)?this._document.querySelector(Ae.container):this._document.body,qt=this._rendererFactory.createRenderer(null,null);if(!Nt)throw new Error(`The specified modal container "${Ae.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const en=new qu,Mn=this._getContentRef(S,Ae.injector||V,ge,en,Ae);let Sn=!1!==Ae.backdrop?this._attachBackdrop(S,Nt):void 0,us=this._attachWindowComponent(S,Nt,Mn),Kn=new cv(us,Mn,Sn,Ae.beforeDismiss);return this._registerModalRef(Kn),this._registerWindowCmpt(us),Kn.hidden.pipe((0,L.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(qt.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),en.close=Os=>{Kn.close(Os)},en.dismiss=Os=>{Kn.dismiss(Os)},this._applyWindowOptions(us.instance,Ae),1===this._modalRefs.length&&qt.addClass(this._document.body,"modal-open"),Sn&&Sn.instance&&(this._applyBackdropOptions(Sn.instance,Ae),Sn.changeDetectorRef.detectChanges()),us.changeDetectorRef.detectChanges(),Kn}get activeInstances(){return this._activeInstances}dismissAll(S){this._modalRefs.forEach(V=>V.dismiss(S))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(S,V){let Ae=S.resolveComponentFactory(Am).create(this._injector);return this._applicationRef.attachView(Ae.hostView),V.appendChild(Ae.location.nativeElement),Ae}_attachWindowComponent(S,V,ge){let Nt=S.resolveComponentFactory(tu).create(this._injector,ge.nodes);return this._applicationRef.attachView(Nt.hostView),V.appendChild(Nt.location.nativeElement),Nt}_applyWindowOptions(S,V){this._windowAttributes.forEach(ge=>{un(V[ge])&&(S[ge]=V[ge])})}_applyBackdropOptions(S,V){this._backdropAttributes.forEach(ge=>{un(V[ge])&&(S[ge]=V[ge])})}_getContentRef(S,V,ge,Ae,Nt){return ge?ge instanceof i.C4Q?this._createFromTemplateRef(ge,Ae):br(ge)?this._createFromString(ge):this._createFromComponent(S,V,ge,Ae,Nt):new Kr([])}_createFromTemplateRef(S,V){const Ae=S.createEmbeddedView({$implicit:V,close(Nt){V.close(Nt)},dismiss(Nt){V.dismiss(Nt)}});return this._applicationRef.attachView(Ae),new Kr([Ae.rootNodes],Ae)}_createFromString(S){const V=this._document.createTextNode(`${S}`);return new Kr([[V]])}_createFromComponent(S,V,ge,Ae,Nt){const qt=S.resolveComponentFactory(ge),en=i.zZn.create({providers:[{provide:qu,useValue:Ae}],parent:V}),Mn=qt.create(en),Sn=Mn.location.nativeElement;return Nt.scrollable&&Sn.classList.add("component-host-scrollable"),this._applicationRef.attachView(Mn.hostView),new Kr([[Sn]],Mn.hostView,Mn)}_setAriaHidden(S){const V=S.parentElement;V&&S!==this._document.body&&(Array.from(V.children).forEach(ge=>{ge!==S&&"SCRIPT"!==ge.nodeName&&(this._ariaHiddenValues.set(ge,ge.getAttribute("aria-hidden")),ge.setAttribute("aria-hidden","true"))}),this._setAriaHidden(V))}_revertAriaHidden(){this._ariaHiddenValues.forEach((S,V)=>{S?V.setAttribute("aria-hidden",S):V.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(S){const V=()=>{const ge=this._modalRefs.indexOf(S);ge>-1&&(this._modalRefs.splice(ge,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(S),this._activeInstances.emit(this._modalRefs),S.result.then(V,V)}_registerWindowCmpt(S){this._windowCmpts.push(S),this._activeWindowCmptHasChanged.next(),S.onDestroy(()=>{const V=this._windowCmpts.indexOf(S);V>-1&&(this._windowCmpts.splice(V,1),this._activeWindowCmptHasChanged.next())})}}return N.\u0275fac=function(S){return new(S||N)(i.KVO(i.o8S),i.KVO(i.zZn),i.KVO(t.qQ),i.KVO(dv),i.KVO(i._9s),i.KVO(i.SKi))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),wm=(()=>{class N{constructor(S){this._ngbConfig=S,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(S){this._animation=S}}return N.\u0275fac=function(S){return new(S||N)(i.KVO(Lt))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),uv=(()=>{class N{constructor(S,V,ge,Ae){this._moduleCFR=S,this._injector=V,this._modalStack=ge,this._config=Ae}open(S,V={}){const ge={...this._config,animation:this._config.animation,...V};return this._modalStack.open(this._moduleCFR,this._injector,S,ge)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(S){this._modalStack.dismissAll(S)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return N.\u0275fac=function(S){return new(S||N)(i.KVO(i.OM3),i.KVO(i.zZn),i.KVO(kp),i.KVO(wm))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),xm=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({providers:[uv]}),N})(),qy=(()=>{class N{constructor(S){this._ngbConfig=S,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(S){this._animation=S}}return N.\u0275fac=function(S){return new(S||N)(i.KVO(Lt))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();const hv=N=>un(N)&&""!==N;let Lm=0,Vc=(()=>{class N{constructor(S){this.templateRef=S}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbNavContent",""]]}),N})(),eh=(()=>{class N{constructor(S,V){this.elementRef=V,this.disabled=!1,this.shown=new i.bkB,this.hidden=new i.bkB,this._nav=S}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){un(this.domId)||(this.domId="ngb-nav-"+Lm++)}get active(){return this._nav.activeId===this.id}get id(){return hv(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(un(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return N.\u0275fac=function(S){return new(S||N)(i.rXU((0,i.Rfq)(()=>dc)),i.rXU(i.aKT))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbNavItem",""]],contentQueries:function(S,V,ge){if(1&S&&i.wni(ge,Vc,4),2&S){let Ae;i.mGM(Ae=i.lsd())&&(V.contentTpls=Ae)}},hostVars:2,hostBindings:function(S,V){2&S&&i.AVh("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[i.Mj6.None,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]}),N})(),dc=(()=>{class N{constructor(S,V,ge,Ae){this.role=S,this._cd=ge,this._document=Ae,this.activeIdChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.destroy$=new m.B,this.navItemChange$=new m.B,this.navChange=new i.bkB,this.animation=V.animation,this.destroyOnHide=V.destroyOnHide,this.orientation=V.orientation,this.roles=V.roles,this.keyboard=V.keyboard}click(S){S.disabled||this._updateActiveId(S.id)}onKeyDown(S){if("tablist"!==this.roles||!this.keyboard)return;const V=S.which,ge=this.links.filter(qt=>!qt.navItem.disabled),{length:Ae}=ge;let Nt=-1;if(ge.forEach((qt,en)=>{qt.elRef.nativeElement===this._document.activeElement&&(Nt=en)}),Ae){switch(V){case ys.ArrowLeft:if("vertical"===this.orientation)return;Nt=(Nt-1+Ae)%Ae;break;case ys.ArrowRight:if("vertical"===this.orientation)return;Nt=(Nt+1)%Ae;break;case ys.ArrowDown:if("horizontal"===this.orientation)return;Nt=(Nt+1)%Ae;break;case ys.ArrowUp:if("horizontal"===this.orientation)return;Nt=(Nt-1+Ae)%Ae;break;case ys.Home:Nt=0;break;case ys.End:Nt=Ae-1}"changeWithArrows"===this.keyboard&&this.select(ge[Nt].navItem.id),ge[Nt].elRef.nativeElement.focus(),S.preventDefault()}}select(S){this._updateActiveId(S,!1)}ngAfterContentInit(){if(!un(this.activeId)){const S=this.items.first?this.items.first.id:null;hv(S)&&(this._updateActiveId(S,!1),this._cd.detectChanges())}this.items.changes.pipe((0,w.Q)(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:S}){S&&!S.firstChange&&this._notifyItemChanged(S.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(S,V=!0){if(this.activeId!==S){let ge=!1;V&&this.navChange.emit({activeId:this.activeId,nextId:S,preventDefault:()=>{ge=!0}}),ge||(this.activeId=S,this.activeIdChange.emit(S),this._notifyItemChanged(S))}}_notifyItemChanged(S){this.navItemChange$.next(this._getItemById(S))}_getItemById(S){return this.items&&this.items.find(V=>V.id===S)||null}}return N.\u0275fac=function(S){return new(S||N)(i.kS0("role"),i.rXU(qy),i.rXU(i.gRc),i.rXU(t.qQ))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbNav",""]],contentQueries:function(S,V,ge){if(1&S&&(i.wni(ge,eh,4),i.wni(ge,th,5)),2&S){let Ae;i.mGM(Ae=i.lsd())&&(V.items=Ae),i.mGM(Ae=i.lsd())&&(V.links=Ae)}},hostVars:6,hostBindings:function(S,V){1&S&&i.bIt("keydown.arrowLeft",function(Ae){return V.onKeyDown(Ae)})("keydown.arrowRight",function(Ae){return V.onKeyDown(Ae)})("keydown.arrowDown",function(Ae){return V.onKeyDown(Ae)})("keydown.arrowUp",function(Ae){return V.onKeyDown(Ae)})("keydown.Home",function(Ae){return V.onKeyDown(Ae)})("keydown.End",function(Ae){return V.onKeyDown(Ae)}),2&S&&(i.BMQ("aria-orientation","vertical"===V.orientation&&"tablist"===V.roles?"vertical":void 0)("role",V.role?V.role:V.roles?"tablist":void 0),i.AVh("nav",!0)("flex-column","vertical"===V.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[i.OA$]}),N})(),th=(()=>{class N{constructor(S,V,ge,Ae){this.role=S,this.navItem=V,this.nav=ge,this.elRef=Ae}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return N.\u0275fac=function(S){return new(S||N)(i.kS0("role"),i.rXU(eh),i.rXU(dc),i.rXU(i.aKT))},N.\u0275dir=i.FsC({type:N,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(S,V){1&S&&i.bIt("click",function(Ae){return V.nav.click(V.navItem),Ae.preventDefault()}),2&S&&(i.Mr5("id",V.navItem.domId),i.BMQ("role",V.role?V.role:V.nav.roles?"tab":void 0)("tabindex",V.navItem.disabled?-1:void 0)("aria-controls",V.navItem.isPanelInDom()?V.navItem.panelDomId:null)("aria-selected",V.navItem.active)("aria-disabled",V.navItem.disabled),i.AVh("nav-link",!0)("nav-item",V.hasNavItemClass())("active",V.navItem.active)("disabled",V.navItem.disabled))}}),N})();const nh=({classList:N})=>(N.remove("show"),()=>N.remove("active")),e1=(N,X)=>{X&&Qn(N),N.classList.add("show")};let sh=(()=>{class N{constructor(S){this.elRef=S}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.aKT))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(S,V){2&S&&(i.Mr5("id",V.item.panelDomId),i.BMQ("role",V.role?V.role:V.nav.roles?"tabpanel":void 0)("aria-labelledby",V.item.domId),i.AVh("fade",V.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}}),N})(),Fs=(()=>{class N{constructor(S,V){this._cd=S,this._ngZone=V,this._activePane=null}isPanelTransitioning(S){return this._activePane?.item===S}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe((0,w.Q)(this.nav.destroy$),(0,k.Z)(this._activePane?.item||null),(0,W.F)(),(0,z.i)(1)).subscribe(S=>{const V={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?he(this._ngZone,this._activePane.elRef.nativeElement,nh,V).subscribe(()=>{const ge=this._activePane?.item;this._activePane=this._getPaneForItem(S),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),he(this._ngZone,this._activePane.elRef.nativeElement,e1,V).subscribe(()=>{S&&(S.shown.emit(),this.nav.shown.emit(S.id))})),ge&&(ge.hidden.emit(),this.nav.hidden.emit(ge.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(S){return this._panes&&this._panes.find(V=>V.item===S)||null}_getActivePane(){return this._panes&&this._panes.find(S=>S.item.active)||null}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.gRc),i.rXU(i.SKi))},N.\u0275cmp=i.VBU({type:N,selectors:[["","ngbNavOutlet",""]],viewQuery:function(S,V){if(1&S&&i.GBs(sh,5),2&S){let ge;i.mGM(ge=i.lsd())&&(V._panes=ge)}},hostVars:2,hostBindings:function(S,V){2&S&&i.AVh("tab-content",!0)},inputs:{paneRole:"paneRole",nav:[i.Mj6.None,"ngbNavOutlet","nav"]},attrs:no,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(S,V){1&S&&i.DNE(0,io,1,1,"ng-template",0),2&S&&i.Y8G("ngForOf",V.nav.items)},dependencies:[t.Sq,t.bT,sh,t.T3],encapsulation:2,changeDetection:0}),N})(),Hr=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),oh=(()=>{class N{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),uc=(()=>{class N{constructor(S){this.templateRef=S}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),N})(),Dd=(()=>{class N{constructor(S){this.templateRef=S}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPaginationFirst",""]]}),N})(),rh=(()=>{class N{constructor(S){this.templateRef=S}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPaginationLast",""]]}),N})(),Td=(()=>{class N{constructor(S){this.templateRef=S}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPaginationNext",""]]}),N})(),Gc=(()=>{class N{constructor(S){this.templateRef=S}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPaginationNumber",""]]}),N})(),Nm=(()=>{class N{constructor(S){this.templateRef=S}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPaginationPrevious",""]]}),N})(),Vp=(()=>{class N{constructor(S){this.templateRef=S}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPaginationPages",""]]}),N})(),Od=(()=>{class N{constructor(S){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new i.bkB(!0),this.disabled=S.disabled,this.boundaryLinks=S.boundaryLinks,this.directionLinks=S.directionLinks,this.ellipses=S.ellipses,this.maxSize=S.maxSize,this.pageSize=S.pageSize,this.rotate=S.rotate,this.size=S.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(S){this._updatePages(S)}ngOnChanges(S){this._updatePages(this.page)}isEllipsis(S){return-1===S}_applyEllipses(S,V){this.ellipses&&(S>0&&(S>2?this.pages.unshift(-1):2===S&&this.pages.unshift(2),this.pages.unshift(1)),V<this.pageCount&&(V<this.pageCount-2?this.pages.push(-1):V===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let S=0,V=this.pageCount,ge=Math.floor(this.maxSize/2);return this.page<=ge?V=this.maxSize:this.pageCount-this.page<ge?S=this.pageCount-this.maxSize:(S=this.page-ge-1,V=this.page+(this.maxSize%2==0?ge-1:ge)),[S,V]}_applyPagination(){let V=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[V,V+this.maxSize]}_setPageInRange(S){const V=this.page;this.page=nr(S,this.pageCount,1),this.page!==V&&Wi(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(S){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Wi(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let V=1;V<=this.pageCount;V++)this.pages.push(V);if(this._setPageInRange(S),this.maxSize>0&&this.pageCount>this.maxSize){let V=0,ge=this.pageCount;[V,ge]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(V,ge),this._applyEllipses(V,ge)}}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(oh))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-pagination"]],contentQueries:function(S,V,ge){if(1&S&&(i.wni(ge,uc,5),i.wni(ge,Dd,5),i.wni(ge,rh,5),i.wni(ge,Td,5),i.wni(ge,Gc,5),i.wni(ge,Nm,5),i.wni(ge,Vp,5)),2&S){let Ae;i.mGM(Ae=i.lsd())&&(V.tplEllipsis=Ae.first),i.mGM(Ae=i.lsd())&&(V.tplFirst=Ae.first),i.mGM(Ae=i.lsd())&&(V.tplLast=Ae.first),i.mGM(Ae=i.lsd())&&(V.tplNext=Ae.first),i.mGM(Ae=i.lsd())&&(V.tplNumber=Ae.first),i.mGM(Ae=i.lsd())&&(V.tplPrevious=Ae.first),i.mGM(Ae=i.lsd())&&(V.tplPages=Ae.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},features:[i.OA$],decls:20,vars:12,consts:()=>{let X,S,V,ge,Ae,Nt,qt,en;return X=$localize`:@@ngb.pagination.first:`,S=$localize`:@@ngb.pagination.previous:`,V=$localize`:@@ngb.pagination.next:`,ge=$localize`:@@ngb.pagination.last:`,Ae=$localize`:@@ngb.pagination.first-aria:First`,Nt=$localize`:@@ngb.pagination.previous-aria:Previous`,qt=$localize`:@@ngb.pagination.next-aria:Next`,en=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],X,S,V,ge,["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",Ae,"href","",1,"page-link",3,"click"],["aria-label",Nt,"href","",1,"page-link",3,"click"],["aria-label",qt,"href","",1,"page-link",3,"click"],["aria-label",en,"href","",1,"page-link",3,"click"]]},template:function(S,V){if(1&S&&(i.DNE(0,Zo,2,0,"ng-template",null,0,i.C5r)(2,va,2,0,"ng-template",null,1,i.C5r)(4,Ge,2,0,"ng-template",null,2,i.C5r)(6,Xe,2,0,"ng-template",null,3,i.C5r)(8,oe,1,0,"ng-template",null,4,i.C5r)(10,_e,2,2,"ng-template",null,5,i.C5r)(12,js,1,1,"ng-template",null,6,i.C5r),i.j41(14,"ul"),i.DNE(15,zi,3,9,"li",11)(16,Di,3,8,"li",11)(17,ya,0,0,"ng-template",12)(18,wr,3,9,"li",11)(19,xl,3,9,"li",11),i.k0s()),2&S){const ge=i.sdS(13);i.R7$(14),i.HbH("pagination"+(V.size?" pagination-"+V.size:"")),i.R7$(),i.Y8G("ngIf",V.boundaryLinks),i.R7$(),i.Y8G("ngIf",V.directionLinks),i.R7$(),i.Y8G("ngTemplateOutlet",(null==V.tplPages?null:V.tplPages.templateRef)||ge)("ngTemplateOutletContext",i.sMw(8,tr,V.page,V.pages,V.disabled)),i.R7$(),i.Y8G("ngIf",V.directionLinks),i.R7$(),i.Y8G("ngIf",V.boundaryLinks)}},dependencies:[t.bT,t.Sq,t.T3],encapsulation:2,changeDetection:0}),N})(),ah=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})();class yi{constructor(X,S){this.open=X,this.close=S,S||(this.close=X)}isManual(){return"manual"===this.open||"manual"===this.close}}const lh={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},Gp=N=>N>0?(0,G.c)(N):X=>X;let su=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),iu=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),Ma=(()=>{class N{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),gv=(()=>{class N{constructor(S,V){this._changeDetectorRef=V,this.contexts=[],this.disabled=!1,this.hover=new i.bkB,this.leave=new i.bkB,this.rateChange=new i.bkB(!0),this.onChange=ge=>{},this.onTouched=()=>{},this.max=S.max,this.readonly=S.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(S){this.isInteractive()&&this._updateState(S),this.hover.emit(S)}handleBlur(){this.onTouched()}handleClick(S){this.isInteractive()&&this.update(this.resettable&&this.rate===S?0:S)}handleKeyDown(S){switch(S.which){case ys.ArrowDown:case ys.ArrowLeft:this.update(this.rate-1);break;case ys.ArrowUp:case ys.ArrowRight:this.update(this.rate+1);break;case ys.Home:this.update(0);break;case ys.End:this.update(this.max);break;default:return}S.preventDefault()}ngOnChanges(S){S.rate&&this.update(this.rate),S.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(S){this.onChange=S}registerOnTouched(S){this.onTouched=S}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(S){this.disabled=S}update(S,V=!0){const ge=nr(S,this.max,0);this.isInteractive()&&this.rate!==ge&&(this.rate=ge,this.rateChange.emit(this.rate)),V&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(S){this.update(S,!1),this._changeDetectorRef.markForCheck()}_updateState(S){this.nextRate=S,this.contexts.forEach((V,ge)=>V.fill=Math.round(100*nr(S-ge,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(S,V)=>({fill:0,index:V}))}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(Ma),i.rXU(i.gRc))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-rating"]],contentQueries:function(S,V,ge){if(1&S&&i.wni(ge,i.C4Q,5),2&S){let Ae;i.mGM(Ae=i.lsd())&&(V.starTemplateFromContent=Ae.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(S,V){1&S&&i.bIt("blur",function(){return V.handleBlur()})("keydown",function(Ae){return V.handleKeyDown(Ae)})("mouseleave",function(){return V.reset()}),2&S&&(i.Mr5("tabindex",V.disabled?-1:0),i.BMQ("aria-valuemax",V.max)("aria-valuenow",V.nextRate)("aria-valuetext",V.ariaValueText())("aria-disabled",!!V.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>N),multi:!0}]),i.OA$],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(S,V){1&S&&i.DNE(0,Fa,1,1,"ng-template",null,0,i.C5r)(2,Xa,4,5,"ng-template",1),2&S&&(i.R7$(2),i.Y8G("ngForOf",V.contexts))},dependencies:[t.Sq,t.T3],encapsulation:2,changeDetection:0}),N})(),ou=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})();class bl{constructor(X,S,V){this.hour=ro(X),this.minute=ro(S),this.second=ro(V)}changeHour(X=1){this.updateHour((isNaN(this.hour)?0:this.hour)+X)}updateHour(X){this.hour=Wi(X)?(X<0?24+X:X)%24:NaN}changeMinute(X=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+X)}updateMinute(X){Wi(X)?(this.minute=X%60<0?60+X%60:X%60,this.changeHour(Math.floor(X/60))):this.minute=NaN}changeSecond(X=1){this.updateSecond((isNaN(this.second)?0:this.second)+X)}updateSecond(X){Wi(X)?(this.second=X<0?60+X%60:X%60,this.changeMinute(Math.floor(X/60))):this.second=NaN}isValid(X=!0){return Wi(this.hour)&&Wi(this.minute)&&(!X||Wi(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let $p=(()=>{class N{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),jm=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=i.jDH({token:N,factory:()=>function Wp(){return new ru}(),providedIn:"root"}),N})(),ru=(()=>{class N extends jm{fromModel(S){return S&&kt(S.hour)&&kt(S.minute)?{hour:S.hour,minute:S.minute,second:kt(S.second)?S.second:null}:null}toModel(S){return S&&kt(S.hour)&&kt(S.minute)?{hour:S.hour,minute:S.minute,second:kt(S.second)?S.second:null}:null}}return N.\u0275fac=(()=>{let X;return function(V){return(X||(X=i.xGo(N)))(V||N)}})(),N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac}),N})(),Um=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=i.jDH({token:N,factory:function(S){let V=null;return V=S?new S:function Bm(N){return new au(N)}(i.KVO(i.xe9)),V},providedIn:"root"}),N})(),au=(()=>{class N extends Um{constructor(S){super(),this._periods=(0,t.rd)(S,t.oV.Standalone,t.cH.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return N.\u0275fac=function(S){return new(S||N)(i.KVO(i.xe9))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac}),N})();const _v=/[^0-9]/g;let vv=(()=>{class N{constructor(S,V,ge,Ae){this._config=S,this._ngbTimeAdapter=V,this._cd=ge,this.i18n=Ae,this.onChange=Nt=>{},this.onTouched=()=>{},this.meridian=S.meridian,this.spinners=S.spinners,this.seconds=S.seconds,this.hourStep=S.hourStep,this.minuteStep=S.minuteStep,this.secondStep=S.secondStep,this.disabled=S.disabled,this.readonlyInputs=S.readonlyInputs,this.size=S.size}set hourStep(S){this._hourStep=kt(S)?S:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(S){this._minuteStep=kt(S)?S:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(S){this._secondStep=kt(S)?S:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(S){const V=this._ngbTimeAdapter.fromModel(S);this.model=V?new bl(V.hour,V.minute,V.second):new bl,!this.seconds&&(!V||!Wi(V.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(S){this.onChange=S}registerOnTouched(S){this.onTouched=S}setDisabledState(S){this.disabled=S}changeHour(S){this.model.changeHour(S),this.propagateModelChange()}changeMinute(S){this.model.changeMinute(S),this.propagateModelChange()}changeSecond(S){this.model.changeSecond(S),this.propagateModelChange()}updateHour(S){const V=this.model.hour>=12,ge=ro(S);this.model.updateHour(this.meridian&&(V&&ge<12||!V&&12===ge)?ge+12:ge),this.propagateModelChange()}updateMinute(S){this.model.updateMinute(ro(S)),this.propagateModelChange()}updateSecond(S){this.model.updateSecond(ro(S)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(S){S.value=S.value.replace(_v,"")}formatHour(S){return Wi(S)?Rn(this.meridian?S%12==0?12:S%12:S%24):Rn(NaN)}formatMinSec(S){return Rn(Wi(S)?S:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(S){S.seconds&&!this.seconds&&this.model&&!Wi(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(S=!0){S&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return N.\u0275fac=function(S){return new(S||N)(i.rXU($p),i.rXU(jm),i.rXU(i.gRc),i.rXU(Um))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>N),multi:!0}]),i.OA$],decls:16,vars:25,consts:()=>{let X,S,V,ge,Ae,Nt,qt,en,Mn,Sn,us,Kn,Os,Pi;return X=$localize`:@@ngb.timepicker.HH:HH`,S=$localize`:@@ngb.timepicker.hours:Hours`,V=$localize`:@@ngb.timepicker.MM:MM`,ge=$localize`:@@ngb.timepicker.minutes:Minutes`,Ae=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,Nt=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,qt=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,en=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,Mn=$localize`:@@ngb.timepicker.SS:SS`,Sn=$localize`:@@ngb.timepicker.seconds:Seconds`,us=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,Kn=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,Os=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,Pi=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["am",""],Ae,Nt,qt,en,us,Kn,Os,Pi,[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",X,"aria-label",S,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",V,"aria-label",ge,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"click","disabled"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],[1,"chevron","ngb-tp-chevron","bottom"],[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",Mn,"aria-label",Sn,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],[4,"ngIf","ngIfElse"]]},template:function(S,V){1&S&&(i.j41(0,"fieldset",9)(1,"div",10)(2,"div",11),i.DNE(3,cl,4,7,"button",12),i.j41(4,"input",13),i.bIt("change",function(Ae){return V.updateHour(Ae.target.value)})("blur",function(){return V.handleBlur()})("input",function(Ae){return V.formatInput(Ae.target)})("keydown.ArrowUp",function(Ae){return V.changeHour(V.hourStep),Ae.preventDefault()})("keydown.ArrowDown",function(Ae){return V.changeHour(-V.hourStep),Ae.preventDefault()}),i.k0s(),i.DNE(5,oi,4,7,"button",12),i.k0s(),i.j41(6,"div",14),i.EFF(7,":"),i.k0s(),i.j41(8,"div",15),i.DNE(9,oo,4,7,"button",12),i.j41(10,"input",16),i.bIt("change",function(Ae){return V.updateMinute(Ae.target.value)})("blur",function(){return V.handleBlur()})("input",function(Ae){return V.formatInput(Ae.target)})("keydown.ArrowUp",function(Ae){return V.changeMinute(V.minuteStep),Ae.preventDefault()})("keydown.ArrowDown",function(Ae){return V.changeMinute(-V.minuteStep),Ae.preventDefault()}),i.k0s(),i.DNE(11,yo,4,7,"button",12),i.k0s(),i.DNE(12,Cr,2,0,"div",17)(13,ba,4,9,"div",18)(14,Ja,1,0,"div",17)(15,la,5,9,"div",19),i.k0s()()),2&S&&(i.AVh("disabled",V.disabled),i.Y8G("disabled",V.disabled),i.R7$(3),i.Y8G("ngIf",V.spinners),i.R7$(),i.AVh("form-control-sm",V.isSmallSize)("form-control-lg",V.isLargeSize),i.Y8G("value",V.formatHour(null==V.model?null:V.model.hour))("readOnly",V.readonlyInputs)("disabled",V.disabled),i.R7$(),i.Y8G("ngIf",V.spinners),i.R7$(4),i.Y8G("ngIf",V.spinners),i.R7$(),i.AVh("form-control-sm",V.isSmallSize)("form-control-lg",V.isLargeSize),i.Y8G("value",V.formatMinSec(null==V.model?null:V.model.minute))("readOnly",V.readonlyInputs)("disabled",V.disabled),i.R7$(),i.Y8G("ngIf",V.spinners),i.R7$(),i.Y8G("ngIf",V.seconds),i.R7$(),i.Y8G("ngIf",V.seconds),i.R7$(),i.Y8G("ngIf",V.meridian),i.R7$(),i.Y8G("ngIf",V.meridian))},dependencies:[t.bT],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),N})(),km=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),Ev=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),Hp=(()=>{class N{constructor(S){this._ngbConfig=S,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(S){this._animation=S}}return N.\u0275fac=function(S){return new(S||N)(i.KVO(Lt))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Tl=0,Vm=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(S,V){2&S&&(i.Mr5("id",V.id),i.HbH("tooltip"+(V.tooltipClass?" "+V.tooltipClass:"")),i.AVh("fade",V.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:ur,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(S,V){1&S&&(i.NAR(),i.nrm(0,"div",0),i.j41(1,"div",1),i.SdG(2),i.k0s())},encapsulation:2,changeDetection:0}),N})(),Wc=(()=>{class N{constructor(S,V,ge,Ae,Nt,qt,en,Mn,Sn){this._elementRef=S,this._renderer=V,this._ngZone=qt,this._document=en,this._changeDetector=Mn,this.shown=new i.bkB,this.hidden=new i.bkB,this._ngbTooltipWindowId="ngb-tooltip-"+Tl++,this._windowRef=null,this._positioning=lc(),this.animation=Nt.animation,this.autoClose=Nt.autoClose,this.placement=Nt.placement,this.triggers=Nt.triggers,this.container=Nt.container,this.disableTooltip=Nt.disableTooltip,this.tooltipClass=Nt.tooltipClass,this.openDelay=Nt.openDelay,this.closeDelay=Nt.closeDelay,this._popupService=new Up(Vm,ge,Ae,V,this._ngZone,Sn)}set ngbTooltip(S){this._ngbTooltip=S,!S&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(S){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:V,transition$:ge}=this._popupService.open(this._ngbTooltip,S,this.animation);this._windowRef=V,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip"}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),gl(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),ge.subscribe(()=>this.shown.emit())}}close(S=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(S).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function Id(N,X,S,V,ge,Ae,Nt=0,qt=0){const en=function $c(N,X=lh){const S=(N||"").trim();if(0===S.length)return[];const V=S.split(/\s+/).map(Ae=>Ae.split(":")).map(Ae=>{let Nt=X[Ae[0]]||Ae;return new yi(Nt[0],Nt[1])}),ge=V.filter(Ae=>Ae.isManual());if(ge.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===ge.length&&V.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return V}(S);if(1===en.length&&en[0].isManual())return()=>{};const Mn=function fv(N,X,S,V){return new u.c(ge=>{const Ae=[],Nt=()=>ge.next(!0),qt=()=>ge.next(!1),en=()=>ge.next(!V());return S.forEach(Mn=>{Mn.open===Mn.close?Ae.push(N.listen(X,Mn.open,en)):Ae.push(N.listen(X,Mn.open,Nt),N.listen(X,Mn.close,qt))}),()=>{Ae.forEach(Mn=>Mn())}})}(N,X,en,V).pipe(function Md(N,X,S){return V=>{let ge=null;const Ae=V.pipe((0,B.T)(en=>({open:en})),(0,M.p)(en=>{const Mn=S();return Mn===en.open||ge&&ge.open!==Mn?(ge&&ge.open!==en.open&&(ge=null),!1):(ge=en,!0)}),(0,te.u)()),Nt=Ae.pipe((0,M.p)(en=>en.open),Gp(N)),qt=Ae.pipe((0,M.p)(en=>!en.open),Gp(X));return(0,p.h)(Nt,qt).pipe((0,M.p)(en=>en===ge&&(ge=null,en.open!==S())),(0,B.T)(en=>en.open))}}(Nt,qt,V)).subscribe(Sn=>Sn?ge():Ae());return()=>Mn.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:S}){S&&this.isOpen()&&(this._windowRef.instance.tooltipClass=S.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(i.zZn),i.rXU(i.c1b),i.rXU(Hp),i.rXU(i.SKi),i.rXU(t.qQ),i.rXU(i.gRc),i.rXU(i.o8S))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[i.OA$]}),N})(),lu=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({}),N})(),Cv=(()=>{class N{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(S){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const V=Da(this.result),ge=Array.isArray(this.term)?this.term:[this.term],Ae=Mn=>this.accentSensitive?Mn:Ni(Mn),Nt=ge.map(Mn=>function Wn(N){return N.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(Ae(Da(Mn)))).filter(Mn=>Mn),qt=this.accentSensitive?V:Ni(V),en=Nt.length?qt.split(new RegExp(`(${Nt.join("|")})`,"gmi")):[V];if(this.accentSensitive)this.parts=en;else{let Mn=0;this.parts=en.map(Sn=>V.substring(Mn,Mn+=Sn.length))}}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},features:[i.OA$],decls:1,vars:1,consts:[["even",""],["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"]],template:function(S,V){1&S&&i.DNE(0,qo,3,2,"ng-template",1),2&S&&i.Y8G("ngForOf",V.parts)},dependencies:[t.Sq,t.bT],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),N})(),dh=(()=>{class N{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=Da,this.selectEvent=new i.bkB,this.activeChangeEvent=new i.bkB}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(S){this.activeIdx=S,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(S){this.selectEvent.emit(S)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox"],hostVars:3,hostBindings:function(S,V){1&S&&i.bIt("mousedown",function(Ae){return Ae.preventDefault()}),2&S&&(i.Mr5("id",V.id),i.HbH("dropdown-menu show"+(V.popupClass?" "+V.popupClass:"")))},inputs:{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate",popupClass:"popupClass"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"mouseenter","click","id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(S,V){1&S&&i.DNE(0,Fl,1,2,"ng-template",null,0,i.C5r)(2,Qa,2,9,"ng-template",1),2&S&&(i.R7$(2),i.Y8G("ngForOf",V.results))},dependencies:[Cv,t.Sq,t.T3],encapsulation:2}),N})(),n1=(()=>{class N{constructor(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();const Kc=new i.nKC("live announcer delay",{providedIn:"root",factory:function s1(){return 100}});function bv(N,X=!1){let S=N.body.querySelector("#ngb-live");return null==S&&X&&(S=N.createElement("div"),S.setAttribute("id","ngb-live"),S.setAttribute("aria-live","polite"),S.setAttribute("aria-atomic","true"),S.classList.add("visually-hidden"),N.body.appendChild(S)),S}let o1=(()=>{class N{constructor(S,V){this._document=S,this._delay=V}ngOnDestroy(){const S=bv(this._document);S&&S.parentElement.removeChild(S)}say(S){const V=bv(this._document,!0),ge=this._delay;if(null!=V){V.textContent="";const Ae=()=>V.textContent=S;null===ge?Ae():setTimeout(Ae,ge)}}}return N.\u0275fac=function(S){return new(S||N)(i.KVO(t.qQ),i.KVO(Kc))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Gm=0,Hc=(()=>{class N{constructor(S,V,ge,Ae,Nt,qt,en,Mn,Sn,us,Kn){this._elementRef=S,this._renderer=ge,this._live=en,this._document=Mn,this._ngZone=Sn,this._changeDetector=us,this._subscription=null,this._closed$=new m.B,this._inputValueBackup=null,this._windowRef=null,this._positioning=lc(),this.autocomplete="off",this.placement="bottom-start",this.selectItem=new i.bkB,this.activeDescendant=null,this.popupId="ngb-typeahead-"+Gm++,this._onTouched=()=>{},this._onChange=Os=>{},this.container=Nt.container,this.editable=Nt.editable,this.focusFirst=Nt.focusFirst,this.showHint=Nt.showHint,this.placement=Nt.placement,this._valueChanges=(0,f.R)(S.nativeElement,"input").pipe((0,B.T)(Os=>Os.target.value)),this._resubscribeTypeahead=new _.t(null),this._popupService=new Up(dh,Ae,V,ge,this._ngZone,Kn)}ngOnInit(){this._subscribeToUserInput()}ngOnChanges({ngbTypeahead:S}){S&&!S.firstChange&&(this._unsubscribeFromUserInput(),this._subscribeToUserInput())}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput()}registerOnChange(S){this._onChange=S}registerOnTouched(S){this._onTouched=S}writeValue(S){this._writeInputValue(this._formatItemForInput(S)),this.showHint&&(this._inputValueBackup=S)}setDisabledState(S){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",S)}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead.next(null),this._onTouched()}handleKeyDown(S){if(this.isPopupOpen())switch(S.which){case ys.ArrowDown:S.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case ys.ArrowUp:S.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case ys.Enter:case ys.Tab:{const V=this._windowRef.instance.getActive();un(V)&&(S.preventDefault(),S.stopPropagation(),this._selectResult(V)),this._closePopup();break}}}_openPopup(){if(!this.isPopupOpen()){this._inputValueBackup=this._elementRef.nativeElement.value;const{windowRef:S}=this._popupService.open();this._windowRef=S,this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(V=>this._selectResultClosePopup(V)),this._windowRef.instance.activeChangeEvent.subscribe(V=>this.activeDescendant=V),this._windowRef.instance.popupClass=this.popupClass,"body"===this.container&&(this._renderer.setStyle(this._windowRef.location.nativeElement,"z-index","1055"),this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement)),this._changeDetector.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._windowRef&&(this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:da([0,2])}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),gl(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement])}}_closePopup(){this._popupService.close().subscribe(()=>{this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._closed$.next(),this._windowRef=null,this.activeDescendant=null})}_selectResult(S){let V=!1;this.selectItem.emit({item:S,preventDefault:()=>{V=!0}}),this._resubscribeTypeahead.next(null),V||(this.writeValue(S),this._onChange(S))}_selectResultClosePopup(S){this._selectResult(S),this._closePopup()}_showHint(){if(this.showHint&&this._windowRef?.instance.hasActive()&&null!=this._inputValueBackup){const S=this._inputValueBackup.toLowerCase(),V=this._formatItemForInput(this._windowRef.instance.getActive());S===V.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+V.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,V.length])):this._writeInputValue(V)}}_formatItemForInput(S){return null!=S&&this.inputFormatter?this.inputFormatter(S):Da(S)}_writeInputValue(S){this._renderer.setProperty(this._elementRef.nativeElement,"value",Da(S))}_subscribeToUserInput(){const S=this._valueChanges.pipe((0,K.M)(V=>{this._inputValueBackup=this.showHint?V:null,this._onChange(this.editable?V:void 0)}),this.ngbTypeahead?this.ngbTypeahead:()=>(0,h.of)([]));this._subscription=this._resubscribeTypeahead.pipe((0,U.n)(()=>S)).subscribe(V=>{V&&0!==V.length?(this._openPopup(),this._windowRef.instance.focusFirst=this.focusFirst,this._windowRef.instance.results=V,this._windowRef.instance.term=this._elementRef.nativeElement.value,this.resultFormatter&&(this._windowRef.instance.formatter=this.resultFormatter),this.resultTemplate&&(this._windowRef.instance.resultTemplate=this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const ge=V?V.length:0;this._live.say(0===ge?"No results available":`${ge} result${1===ge?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}}return N.\u0275fac=function(S){return new(S||N)(i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(i.sFG),i.rXU(i.zZn),i.rXU(n1),i.rXU(i.SKi),i.rXU(o1),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.gRc),i.rXU(i.o8S))},N.\u0275dir=i.FsC({type:N,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox","aria-multiline","false"],hostVars:7,hostBindings:function(S,V){1&S&&i.bIt("blur",function(){return V.handleBlur()})("keydown",function(Ae){return V.handleKeyDown(Ae)}),2&S&&(i.Mr5("autocomplete",V.autocomplete),i.BMQ("aria-autocomplete",V.showHint?"both":"list")("aria-activedescendant",V.activeDescendant)("aria-owns",V.isPopupOpen()?V.popupId:null)("aria-expanded",V.isPopupOpen()),i.AVh("open",V.isPopupOpen()))},inputs:{autocomplete:"autocomplete",container:"container",editable:"editable",focusFirst:"focusFirst",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate",showHint:"showHint",placement:"placement",popupClass:"popupClass"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>N),multi:!0}]),i.OA$]}),N})(),ua=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),Yp=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({}),N})();const Km=[Go,Ii,xr,Ba,Za,Si,Oa,xm,Hr,Yp,ah,su,iu,ou,km,Ev,lu,ua];let hh=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[Km,Go,Ii,xr,Ba,Za,Si,Oa,xm,Hr,Yp,ah,su,iu,ou,km,Ev,lu,ua]}),N})()},1473:(F,D,n)=>{"use strict";n.d(D,{fcY:()=>lt,DAG:()=>Hi,P3:()=>gn,Fdw:()=>G,WlY:()=>ce,eU4:()=>me,W25:()=>wt,fQD:()=>ot,wnr:()=>zt,FlA:()=>Te,KMD:()=>Le,PTN:()=>Tn,TwG:()=>pn,CTm:()=>cs,_sU:()=>Ct,A0q:()=>Ps,JVJ:()=>bt,M7d:()=>re,eGm:()=>Ft,dku:()=>xe,mEL:()=>K,fHx:()=>se,UqU:()=>De,f4U:()=>z,cYz:()=>q,S6A:()=>U,R7k:()=>hs,HkG:()=>te,iO5:()=>Yt,fpj:()=>Pn,$eO:()=>Ms,J9r:()=>ss,STK:()=>It,EET:()=>Xe,rA_:()=>ut,Vne:()=>Oi,X7I:()=>ke,tK_:()=>dt,z4z:()=>Bn,vJF:()=>an,Zex:()=>Gs,AjF:()=>li,zUr:()=>sn,fXj:()=>gt,hDs:()=>Z,zno:()=>En,sU3:()=>Q});var i=n(54438),t=n(31635),u=n(84412),e=n(74402),h=n(7673),m=n(57786),v=(n(52165),n(88141)),E=n(96354),_=n(99172),C=n(23294),I=n(39974),R=n(54360),T=n(57908),p=n(5964),x=n(85188),O=n(89417),w=n(60177);function M(oe){return"boolean"==typeof oe}function L(oe){return"function"==typeof oe}function B(oe){return"number"==typeof oe}function k(oe){return"object"==typeof oe&&null!==oe}function W(oe){return"string"==typeof oe}class U{constructor($e,_e){this.layoutService=$e,this.validationService=_e,this._hasFocus=!1}get control(){const $e=this.group.get(this.model.id);if(null===$e)throw new Error(`form group does not contain an abstract control with id ${this.model.id}`);return $e}get id(){return this.layoutService.getElementId(this.model)}get hasFocus(){return this._hasFocus}get isInvalid(){return this.control.invalid}get isValid(){return this.control.valid}get errorMessages(){return this.validationService.createErrorMessages(this.control,this.model)}get showErrorMessages(){return this.validationService.showErrorMessages(this.control,this.model,this.hasFocus)}getClass($e,_e,Tt=this.model){const Xt=Tt===this.model?this.layout:this.layoutService.findByModel(Tt,this.formLayout)??Tt.layout;return this.layoutService.getClass(Xt,$e,_e)}onBlur($e){$e instanceof Event&&$e.stopPropagation(),this._hasFocus=!1,this.blur.emit($e)}onChange($e){$e instanceof Event&&$e.stopPropagation(),this.change.emit($e)}onCustomEvent($e,_e=null,Tt=!1){Tt?this.customEvent?.emit($e):W(_e)&&this.customEvent?.emit({customEvent:$e,customEventType:_e})}onFocus($e){$e instanceof Event&&$e.stopPropagation(),this._hasFocus=!0,this.focus.emit($e)}}class K extends U{get array(){return this.control}get startTemplate(){return this.layoutService.getStartTemplate(this.model,this.templates)}get endTemplate(){return this.layoutService.getEndTemplate(this.model,this.templates)}markForCheck(){this.components instanceof i.rOR&&this.components.forEach($e=>$e.markForCheck())}}class Y extends U{markForCheck(){this.components instanceof i.rOR&&this.components.forEach($e=>$e.markForCheck())}}const G=new i.nKC("DYNAMIC_FORM_CONTROL_MAP_FN");let q=(()=>{class oe{constructor(_e){this.DYNAMIC_FORM_CONTROL_MAP_FN=_e,this.forms=[],this.formControls={},this.DYNAMIC_FORM_CONTROL_MAP_FN=_e}getForms(){return this.forms.values()}registerForm(_e){this.forms.push(_e)}unregisterForm(_e){const Tt=this.forms.indexOf(_e);-1!==Tt&&this.forms.splice(Tt,1)}getFormControlRef(_e,Tt){const Xt=this.formControls[_e];return B(Tt)?Array.isArray(Xt)?Xt[Tt]:void 0:Xt}registerFormControl(_e,Tt,Xt){if(B(Xt)){const In=this.formControls[_e.id]||[];Array.isArray(In)?(In.splice(Xt,0,Tt),this.formControls[_e.id]=In):console.warn(`registerFormControlRef is called with index for a non-array form control: ${_e.id}`)}else this.formControls[_e.id]=Tt}unregisterFormControl(_e,Tt){const Xt=this.formControls[_e];B(Tt)?Array.isArray(Xt)&&void 0!==Xt[Tt]&&Xt.splice(Tt,1):void 0!==Xt&&delete this.formControls[_e]}getCustomComponentType(_e){return L(this.DYNAMIC_FORM_CONTROL_MAP_FN)?this.DYNAMIC_FORM_CONTROL_MAP_FN(_e):null}}return oe.\u0275fac=function(_e){return new(_e||oe)(i.KVO(G,8))},oe.\u0275prov=i.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),z=(()=>{class oe{constructor(_e,Tt){this.changeDetectorRef=_e,this.componentService=Tt}ngOnInit(){this.componentService.registerForm(this)}ngOnDestroy(){this.componentService.unregisterForm(this)}trackByFn(_e,Tt){return Tt.id}markForCheck(){this.changeDetectorRef.markForCheck(),this.components instanceof i.rOR&&this.components.forEach(_e=>_e.markForCheck())}detectChanges(){this.changeDetectorRef.detectChanges()}onBlur(_e){this.blur?.emit(_e)}onChange(_e){this.change?.emit(_e)}onFocus(_e){this.focus?.emit(_e)}onCustomEvent(_e,Tt){Tt.emit(_e)}}return oe.\u0275fac=function(_e){return new(_e||oe)(i.rXU(i.gRc),i.rXU(q))},oe.\u0275dir=i.FsC({type:oe}),oe})();var te=function(oe){return oe.Blur="blur",oe.Change="change",oe.Focus="focus",oe}(te||{});function Z(oe){return k(oe)&&oe.hasOwnProperty("$event")}const J="SERIALIZABLE";function Q(oe){return($e,_e)=>{Reflect.defineMetadata(J,{key:_e,name:oe||_e},$e,_e)}}function le(oe,$e){return function ee(oe){const $e=[];for(const _e in oe){const Tt=Reflect.getMetadata(J,oe,_e);Tt&&$e.push(Tt)}return $e}($e||oe).reduce((_e,Tt)=>(_e[Tt.name]=oe[Tt.key],_e),{})}let ne=(()=>{class oe{constructor(_e,Tt=null){this.parent=null,this.asyncValidators=_e.asyncValidators??null,this.errorMessages=_e.errorMessages??null,this.hidden=!!M(_e.hidden)&&_e.hidden,this.id=_e.id,this.label=_e.label??null,this.labelTooltip=_e.labelTooltip??null,this.controlTooltip=_e.controlTooltip??null,this.layout=Tt,this.name=_e.name??_e.id,this.relations=Array.isArray(_e.relations)?_e.relations:[],this.updateOn=W(_e.updateOn)?_e.updateOn:null,this.validators=_e.validators??null,this._disabled=!!M(_e.disabled)&&_e.disabled,this.disabled$=new u.t(this._disabled),this.disabled$.subscribe(Xt=>this._disabled=Xt),this.disabledChanges=this.disabled$.asObservable()}get disabled(){return this.disabled$.getValue()}set disabled(_e){this.disabled$.next(_e)}get hasErrorMessages(){return k(this.errorMessages)}toJSON(){return le(this)}}return(0,t.Cg)([Q()],oe.prototype,"asyncValidators",void 0),(0,t.Cg)([Q("disabled")],oe.prototype,"_disabled",void 0),(0,t.Cg)([Q()],oe.prototype,"errorMessages",void 0),(0,t.Cg)([Q()],oe.prototype,"hidden",void 0),(0,t.Cg)([Q()],oe.prototype,"id",void 0),(0,t.Cg)([Q()],oe.prototype,"label",void 0),(0,t.Cg)([Q()],oe.prototype,"labelTooltip",void 0),(0,t.Cg)([Q()],oe.prototype,"controlTooltip",void 0),(0,t.Cg)([Q()],oe.prototype,"layout",void 0),(0,t.Cg)([Q()],oe.prototype,"name",void 0),(0,t.Cg)([Q()],oe.prototype,"relations",void 0),(0,t.Cg)([Q()],oe.prototype,"updateOn",void 0),(0,t.Cg)([Q()],oe.prototype,"validators",void 0),oe})(),fe=(()=>{class oe extends ne{constructor(_e,Tt){super(_e,Tt),this.additional=k(_e.additional)?_e.additional:null,this.hint=_e.hint??null,this.required=!!M(_e.required)&&_e.required,this.tabIndex=_e.tabIndex??null,this._value=_e.value??null,this.value$=new u.t(this._value),this.value$.subscribe(Xt=>this._value=Xt),this.valueChanges=this.value$.asObservable()}get value(){return this.value$.getValue()}set value(_e){this.value$.next(_e)}getAdditional(_e,Tt){return null!==this.additional&&this.additional.hasOwnProperty(_e)?this.additional[_e]:Tt}}return(0,t.Cg)([Q()],oe.prototype,"additional",void 0),(0,t.Cg)([Q()],oe.prototype,"hint",void 0),(0,t.Cg)([Q()],oe.prototype,"required",void 0),(0,t.Cg)([Q()],oe.prototype,"tabIndex",void 0),(0,t.Cg)([Q("value")],oe.prototype,"_value",void 0),oe})(),se=(()=>{class oe{constructor(_e,Tt=[],Xt=-1){this.$implicit=this,this.context=_e,this.group=Tt,this.index=Xt}get parent(){return this.context}get(_e){return this.group[_e]}toJSON(){return le(this)}}return(0,t.Cg)([Q()],oe.prototype,"group",void 0),(0,t.Cg)([Q()],oe.prototype,"index",void 0),oe})();const ce="ARRAY";let De=(()=>{class oe extends ne{constructor(_e,Tt){if(super(_e,Tt),this.groups=[],this.type=ce,!L(_e.groupFactory))throw new Error("group factory function must be specified for DynamicFormArrayModel");if(this.groupFactory=_e.groupFactory,this.groupAsyncValidators=_e.groupAsyncValidators??null,this.groupPrototype=this.groupFactory(),this.groupValidators=_e.groupValidators??null,this.initialCount=B(_e.initialCount)?_e.initialCount:1,Array.isArray(_e.groups))_e.groups.forEach((Xt,In)=>{this.groups.push(new se(this,Xt.group,Xt.index??In))});else for(let Xt=0;Xt<this.initialCount;Xt++)this.addGroup()}updateGroupIndex(){this.groups.forEach((_e,Tt)=>_e.index=Tt)}get size(){return this.groups.length}get(_e){return this.groups[_e]}addGroup(){return this.insertGroup(this.groups.length)}insertGroup(_e){const Tt=new se(this,this.groupFactory());return this.groups.splice(_e,0,Tt),this.updateGroupIndex(),Tt}moveGroup(_e,Tt){this.groups.splice(_e+Tt,0,...this.groups.splice(_e,1)),this.updateGroupIndex()}removeGroup(_e){this.groups.splice(_e,1),this.updateGroupIndex()}clear(){this.groups.splice(0),this.updateGroupIndex()}}return(0,t.Cg)([Q()],oe.prototype,"groupAsyncValidators",void 0),(0,t.Cg)([Q()],oe.prototype,"groupValidators",void 0),(0,t.Cg)([Q()],oe.prototype,"groups",void 0),(0,t.Cg)([Q()],oe.prototype,"initialCount",void 0),(0,t.Cg)([Q()],oe.prototype,"groupPrototype",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),be=(()=>{class oe extends fe{constructor(_e,Tt){super(_e,Tt),this.labelPosition=_e.labelPosition??null,this.checked=!!M(this.value)&&this.value}get checked(){return this.value??!1}set checked(_e){this.value=_e}toggle(){this.checked=!this.checked}}return(0,t.Cg)([Q()],oe.prototype,"labelPosition",void 0),oe})();const me="CHECKBOX";let re=(()=>{class oe extends be{constructor(_e,Tt){super(_e,Tt),this.type=me,this.indeterminate=!!M(_e.indeterminate)&&_e.indeterminate}}return(0,t.Cg)([Q()],oe.prototype,"indeterminate",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),Ee=(()=>{class oe extends fe{constructor(_e,Tt){super(_e,Tt),this.autoComplete=_e.autoComplete??"on",this.autoFocus=!!M(_e.autoFocus)&&_e.autoFocus,this.maxLength=B(_e.maxLength)?_e.maxLength:null,this.minLength=B(_e.minLength)?_e.minLength:null,this.placeholder=_e.placeholder??"",this.prefix=_e.prefix??null,this.readOnly=!!M(_e.readOnly)&&_e.readOnly,this.spellCheck=!!M(_e.spellCheck)&&_e.spellCheck,this.suffix=_e.suffix??null}}return(0,t.Cg)([Q()],oe.prototype,"autoComplete",void 0),(0,t.Cg)([Q()],oe.prototype,"autoFocus",void 0),(0,t.Cg)([Q()],oe.prototype,"maxLength",void 0),(0,t.Cg)([Q()],oe.prototype,"minLength",void 0),(0,t.Cg)([Q()],oe.prototype,"placeholder",void 0),(0,t.Cg)([Q()],oe.prototype,"prefix",void 0),(0,t.Cg)([Q()],oe.prototype,"readOnly",void 0),(0,t.Cg)([Q()],oe.prototype,"spellCheck",void 0),(0,t.Cg)([Q()],oe.prototype,"suffix",void 0),oe})();const Te="INPUT";let ut=(()=>{class oe extends Ee{constructor(_e,Tt){super(_e,Tt),this.files=null,this.list$=null,this._list=null,this._listId=null,this.type=Te,this.accept=_e.accept??null,this.inputType=_e.inputType??"text",this.mask=_e.mask??"",this.maskConfig=_e.maskConfig?{...x.Dz,..._e.maskConfig}:x.Dz,this.max=void 0!==_e.max?_e.max:null,this.min=void 0!==_e.min?_e.min:null,this.multiple=M(_e.multiple)?_e.multiple:null,this.pattern=_e.pattern??null,this.step=B(_e.step)?_e.step:null,void 0!==_e.list&&(this.list=_e.list,this._listId=`${this.id}List`)}get listId(){return this._listId}get hasList(){return(0,e.A)(this.list$)}set list(_e){Array.isArray(_e)?(this._list=_e,this.list$=(0,h.of)(this._list)):(0,e.A)(_e)?this.list$=_e.pipe((0,v.M)(Tt=>this._list=Tt)):(this._list=null,this.list$=null)}}return(0,t.Cg)([Q()],oe.prototype,"accept",void 0),(0,t.Cg)([Q()],oe.prototype,"inputType",void 0),(0,t.Cg)([Q()],oe.prototype,"mask",void 0),(0,t.Cg)([Q()],oe.prototype,"maskConfig",void 0),(0,t.Cg)([Q()],oe.prototype,"max",void 0),(0,t.Cg)([Q()],oe.prototype,"min",void 0),(0,t.Cg)([Q()],oe.prototype,"multiple",void 0),(0,t.Cg)([Q()],oe.prototype,"pattern",void 0),(0,t.Cg)([Q()],oe.prototype,"step",void 0),(0,t.Cg)([Q("list")],oe.prototype,"_list",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})();var hn=function(oe){return oe.Start="START",oe.End="END",oe}(hn||{});let an=(()=>{class oe{constructor(_e){this.templateRef=_e,this.align=hn.End,this.as=null}}return oe.\u0275fac=function(_e){return new(_e||oe)(i.rXU(i.C4Q))},oe.\u0275dir=i.FsC({type:oe,selectors:[["ng-template","modelId",""],["ng-template","modelType",""]],inputs:{align:"align",as:"as",index:"index",modelId:"modelId",modelType:"modelType"}}),oe})(),Pn=(()=>{class oe{findById(_e,Tt){if(k(Tt))for(const Xt of Object.keys(Tt))if(Xt===_e)return Tt[Xt];return null}findByModel(_e,Tt){let Xt=null;if(k(Tt))for(const In of Object.keys(Tt))In.split(",").forEach(ns=>{const ps=ns.trim();(ps===_e.id||ps===_e.type)&&(Xt=Tt[In])});return Xt}filterTemplatesByModel(_e,Tt){return Tt instanceof i.rOR||Array.isArray(Tt)?Tt.filter(In=>In.modelId===_e.id||In.modelType===_e.type):[]}getAlignedTemplate(_e,Tt,Xt){return this.filterTemplatesByModel(_e,Tt).find(In=>null===In.as&&In.align===Xt)}getStartTemplate(_e,Tt){return this.getAlignedTemplate(_e,Tt,hn.Start)}getEndTemplate(_e,Tt){return this.getAlignedTemplate(_e,Tt,hn.End)}getClass(_e,Tt,Xt){if(k(_e)&&_e.hasOwnProperty(Tt)){const In=_e[Tt];if(In.hasOwnProperty(Xt))return In[Xt]}return""}getHostClass(_e){let Xt="";return k(_e)&&["element","grid"].forEach(In=>{k(_e[In])&&W(_e[In]?.host)&&(Xt+=` ${_e[In]?.host}`)}),Xt}getElementId(_e){let Tt=_e.id,Xt=_e.parent;for(;null!==Xt;){if(Xt instanceof se){Tt=`${Xt.context.id}-${Xt.index}-${_e.id}`;break}Xt=Xt.parent}return Tt}}return oe.\u0275fac=function(_e){return new(_e||oe)},oe.\u0275prov=i.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();var yt=function(oe){return oe.Blur="blur",oe.Change="change",oe.Submit="submit",oe}(yt||{});const Kt=new i.nKC("DYNAMIC_VALIDATORS"),gn=new i.nKC("DYNAMIC_ERROR_MESSAGES_MATCHER");let It=(()=>{class oe{constructor(_e,Tt,Xt,In){this._NG_VALIDATORS=_e,this._NG_ASYNC_VALIDATORS=Tt,this._DYNAMIC_VALIDATORS=Xt,this._DYNAMIC_ERROR_MESSAGES_MATCHER=In}getValidatorFn(_e,Tt=null,Xt=this._NG_VALIDATORS){let In;if(O.k0.hasOwnProperty(_e)?In=O.k0[_e]:this._DYNAMIC_VALIDATORS&&this._DYNAMIC_VALIDATORS.has(_e)?In=this._DYNAMIC_VALIDATORS.get(_e):Xt&&(In=Xt.find(ns=>ns.name===_e)),void 0===In)throw new Error(`validator "${_e}" is not provided via NG_VALIDATORS, NG_ASYNC_VALIDATORS or DYNAMIC_FORM_VALIDATORS`);return null!==Tt?In(Tt):In}getValidatorFns(_e,Tt=this._NG_VALIDATORS){let Xt=[];return k(_e)&&(Xt=Object.keys(_e).map(In=>{const ns=_e[In];return this.isValidatorDescriptor(ns)?this.getValidatorFn(ns.name,ns.args,Tt):this.getValidatorFn(In,ns,Tt)})),Xt}getValidator(_e,Tt=null){return this.getValidatorFn(_e,Tt)}getAsyncValidator(_e,Tt=null){return this.getValidatorFn(_e,Tt,this._NG_ASYNC_VALIDATORS)}getValidators(_e){return this.getValidatorFns(_e)}getAsyncValidators(_e){return this.getValidatorFns(_e,this._NG_ASYNC_VALIDATORS)}updateValidators(_e,Tt,Xt){Xt.validators=_e,null===_e?Tt.clearValidators():Tt.setValidators(this.getValidators(_e)),Tt.updateValueAndValidity()}updateAsyncValidators(_e,Tt,Xt){Xt.asyncValidators=_e,null===_e?Tt.clearAsyncValidators():Tt.setAsyncValidators(this.getAsyncValidators(_e)),Tt.updateValueAndValidity()}showErrorMessages(_e,Tt,Xt){const In=_e.invalid&&Tt.hasErrorMessages,ns=this._DYNAMIC_ERROR_MESSAGES_MATCHER?this._DYNAMIC_ERROR_MESSAGES_MATCHER(_e,Tt,Xt):((oe,$e,_e)=>oe.touched&&!_e)(_e,0,Xt);return In&&ns}parseErrorMessageConfig(_e,Tt,Xt=null){return _e.replace(/{{\s*(.+?)\s*}}/gm,(In,ns)=>{let ps=Tt,js=ns;return ns.indexOf("validator.")>=0&&Xt&&(ps=Xt,js=ns.replace("validator.","")),null!=ps[js]?ps[js]:null})}createErrorMessages(_e,Tt){const Xt=[];if(Tt.hasErrorMessages){const In=Tt.errorMessages;Object.keys(_e.errors||{}).forEach(ns=>{let ps=ns;if(("minlength"===ns||"maxlength"===ns)&&(ps=ps.replace("length","Length")),In.hasOwnProperty(ps)){const js=_e.getError(ns);Xt.push(this.parseErrorMessageConfig(In[ps],Tt,js))}})}return Xt}isFormHook(_e){return W(_e)&&Object.values(yt).includes(_e)}isValidatorDescriptor(_e){return!!k(_e)&&_e.hasOwnProperty("name")&&_e.hasOwnProperty("args")}}return oe.\u0275fac=function(_e){return new(_e||oe)(i.KVO(O.cz,8),i.KVO(O.pg,8),i.KVO(Kt,8),i.KVO(gn,8))},oe.\u0275prov=i.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();const zt="GROUP";let Yt=(()=>{class oe extends ne{constructor(_e,Tt){super(_e,Tt),this.type=zt,this.group=Array.isArray(_e.group)?_e.group:[],this.legend=_e.legend??null}get(_e){return this.group[_e]}set(_e,Tt){this.group[_e]=Tt}add(_e){this.group.push(_e)}insert(_e,Tt){this.group.splice(_e,0,Tt)}move(_e,Tt){this.group.splice(_e+Tt,0,...this.group.splice(_e,1))}remove(_e){this.group.splice(_e,1)}size(){return this.group.length}}return(0,t.Cg)([Q()],oe.prototype,"group",void 0),(0,t.Cg)([Q()],oe.prototype,"legend",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})();const wt="CHECKBOX_GROUP";let bt=(()=>{class oe extends Yt{constructor(_e,Tt){super(_e,Tt),this.type=wt}check(..._e){_e.forEach(Tt=>this.group[Tt].checked=!0)}uncheck(..._e){_e.forEach(Tt=>this.group[Tt].checked=!1)}checkAll(){this.group.forEach(_e=>_e.checked=!0)}uncheckAll(){this.group.forEach(_e=>_e.checked=!1)}}return(0,t.Cg)([Q()],oe.prototype,"group",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})();const Jt="COLORPICKER";let Dt=(()=>{class oe extends fe{constructor(_e,Tt){super(_e,Tt),this.type=Jt,this.format=W(_e.format)?_e.format:null,this.inline=!!M(_e.inline)&&_e.inline}}return(0,t.Cg)([Q()],oe.prototype,"format",void 0),(0,t.Cg)([Q()],oe.prototype,"inline",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),Ft=(()=>{class oe extends fe{constructor(_e,Tt){super(_e,Tt),this.format=_e.format??null,this.max=_e.max??null,this.min=_e.min??null,this.placeholder=_e.placeholder??null}}return(0,t.Cg)([Q()],oe.prototype,"format",void 0),(0,t.Cg)([Q()],oe.prototype,"max",void 0),(0,t.Cg)([Q()],oe.prototype,"min",void 0),(0,t.Cg)([Q()],oe.prototype,"placeholder",void 0),oe})();const ot="DATEPICKER";let xe=(()=>{class oe extends Ft{constructor(_e,Tt){super(_e,Tt),this.type=ot,this.autoFocus=!!M(_e.autoFocus)&&_e.autoFocus,this.focusedDate=_e.focusedDate??null,this.inline=!!M(_e.inline)&&_e.inline,this.prefix=_e.prefix??null,this.readOnly=!!M(_e.readOnly)&&_e.readOnly,this.toggleIcon=W(_e.toggleIcon)?_e.toggleIcon:null,this.toggleLabel=W(_e.toggleLabel)?_e.toggleLabel:null,this.suffix=_e.suffix??null}}return(0,t.Cg)([Q()],oe.prototype,"autoFocus",void 0),(0,t.Cg)([Q()],oe.prototype,"focusedDate",void 0),(0,t.Cg)([Q()],oe.prototype,"inline",void 0),(0,t.Cg)([Q()],oe.prototype,"prefix",void 0),(0,t.Cg)([Q()],oe.prototype,"readOnly",void 0),(0,t.Cg)([Q()],oe.prototype,"suffix",void 0),(0,t.Cg)([Q()],oe.prototype,"toggleIcon",void 0),(0,t.Cg)([Q()],oe.prototype,"toggleLabel",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),Ke=(()=>{class oe extends Ee{constructor(_e,Tt){super(_e,Tt),this.type="EDITOR"}}return(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),Be=(()=>{class oe extends fe{constructor(_e,Tt){super(_e,Tt),this.multiple=!!M(_e.multiple)&&_e.multiple}}return(0,t.Cg)([Q()],oe.prototype,"multiple",void 0),oe})();const At="FILE_UPLOAD";let Qe=(()=>{class oe extends Be{constructor(_e,Tt){super(_e,Tt),this.type=At,this.accept=Array.isArray(_e.accept)?_e.accept:null,this.autoUpload=!M(_e.autoUpload)||_e.autoUpload,this.maxSize=B(_e.maxSize)?_e.maxSize:null,this.minSize=B(_e.minSize)?_e.minSize:null,this.removeUrl=_e.removeUrl??null,this.showFileList=!M(_e.showFileList)||_e.showFileList,this.url=_e.url??null}}return(0,t.Cg)([Q()],oe.prototype,"accept",void 0),(0,t.Cg)([Q()],oe.prototype,"autoUpload",void 0),(0,t.Cg)([Q()],oe.prototype,"maxSize",void 0),(0,t.Cg)([Q()],oe.prototype,"minSize",void 0),(0,t.Cg)([Q()],oe.prototype,"removeUrl",void 0),(0,t.Cg)([Q()],oe.prototype,"showFileList",void 0),(0,t.Cg)([Q()],oe.prototype,"url",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),st=(()=>{class oe{constructor(_e){this.disabled=!!M(_e.disabled)&&_e.disabled,this.label=_e.label??null,this.value=_e.value}get text(){return this.label}set text(_e){this.label=_e}toJSON(){return le(this)}}return(0,t.Cg)([Q()],oe.prototype,"disabled",void 0),(0,t.Cg)([Q()],oe.prototype,"label",void 0),(0,t.Cg)([Q()],oe.prototype,"value",void 0),oe})(),ke=(()=>{class oe extends fe{constructor(_e,Tt){super(_e,Tt),this._options=[],this.options=_e.options}updateOptions$(){this.options$=(0,h.of)(this.options)}set options(_e){Array.isArray(_e)?(this._options=_e.map(Tt=>new st(Tt)),this.updateOptions$()):(0,e.A)(_e)?this.options$=_e.pipe((0,E.T)(Tt=>(this._options=Tt.map(Xt=>new st(Xt)),this._options))):this.updateOptions$()}get options(){return this._options}add(_e){return this.insert(this.options.length,_e)}get(_e){return this.options[_e]}insert(_e,Tt){const Xt=new st(Tt);return this.options.splice(_e,0,Xt),this.updateOptions$(),Xt}remove(..._e){_e.forEach(Tt=>this.options.splice(Tt,1)),this.updateOptions$()}}return(0,t.Cg)([Q("options")],oe.prototype,"_options",void 0),oe})();const Le="RADIO_GROUP";let dt=(()=>{class oe extends ke{constructor(_e,Tt){super(_e,Tt),this.type=Le,this.legend=_e.legend??null}select(_e){this.value=this.get(_e).value}}return(0,t.Cg)([Q()],oe.prototype,"legend",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),ln=(()=>{class oe extends fe{constructor(_e,Tt){super(_e,Tt),this.type="RATING",this.max=B(_e.max)?_e.max:10}}return(0,t.Cg)([Q()],oe.prototype,"max",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})();const Tn="SELECT";let Bn=(()=>{class oe extends ke{constructor(_e,Tt){super(_e,Tt),this.type=Tn,this.compareWithFn=L(_e.compareWithFn)?_e.compareWithFn:Object.is,this.filterable=!!M(_e.filterable)&&_e.filterable,this.multiple=!!M(_e.multiple)&&_e.multiple,this.placeholder=_e.placeholder??"",this.prefix=_e.prefix??null,this.suffix=_e.suffix??null}select(..._e){this.value=this.multiple?_e.map(Tt=>this.get(Tt).value):this.get(_e[0]).value}}return(0,t.Cg)([Q()],oe.prototype,"filterable",void 0),(0,t.Cg)([Q()],oe.prototype,"multiple",void 0),(0,t.Cg)([Q()],oe.prototype,"placeholder",void 0),(0,t.Cg)([Q()],oe.prototype,"prefix",void 0),(0,t.Cg)([Q()],oe.prototype,"suffix",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),wn=(()=>{class oe extends fe{constructor(_e,Tt){super(_e,Tt),this.type="SLIDER",this.max=B(_e.max)?_e.max:10,this.min=B(_e.min)?_e.min:0,this.step=B(_e.step)?_e.step:1,this.vertical=!!M(_e.vertical)&&_e.vertical}}return(0,t.Cg)([Q()],oe.prototype,"max",void 0),(0,t.Cg)([Q()],oe.prototype,"min",void 0),(0,t.Cg)([Q()],oe.prototype,"step",void 0),(0,t.Cg)([Q()],oe.prototype,"vertical",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),vt=(()=>{class oe extends be{constructor(_e,Tt){super(_e,Tt),this.type="SWITCH",this.offLabel=_e.offLabel??null,this.onLabel=_e.onLabel??null}}return(0,t.Cg)([Q()],oe.prototype,"offLabel",void 0),(0,t.Cg)([Q()],oe.prototype,"onLabel",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})();const pn="TEXTAREA";let Gs=(()=>{class oe extends Ee{constructor(_e,Tt){super(_e,Tt),this.type=pn,this.cols=B(_e.cols)?_e.cols:20,this.rows=B(_e.rows)?_e.rows:2,this.wrap=_e.wrap??"soft"}}return(0,t.Cg)([Q()],oe.prototype,"cols",void 0),(0,t.Cg)([Q()],oe.prototype,"rows",void 0),(0,t.Cg)([Q()],oe.prototype,"wrap",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})();const cs="TIMEPICKER";let Cs=(()=>{class oe extends Ft{constructor(_e,Tt){super(_e,Tt),this.type=cs,this.meridian=!!M(_e.meridian)&&_e.meridian,this.showSeconds=!!M(_e.showSeconds)&&_e.showSeconds}}return(0,t.Cg)([Q()],oe.prototype,"meridian",void 0),(0,t.Cg)([Q()],oe.prototype,"showSeconds",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})();function En(oe,$e){return W($e)&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|([+\-])([\d|:]*))?$/.test($e)?new Date($e):$e}let ss=(()=>{class oe{constructor(_e,Tt){this.componentService=_e,this.validationService=Tt}createAbstractControlOptions(_e=null,Tt=null,Xt=null){return{asyncValidators:null!==Tt?this.validationService.getAsyncValidators(Tt):null,validators:null!==_e?this.validationService.getValidators(_e):null,updateOn:null!==Xt&&this.validationService.isFormHook(Xt)?Xt:yt.Change}}createFormArray(_e){const Tt=[],Xt=this.createAbstractControlOptions(_e.validators,_e.asyncValidators,_e.updateOn);for(let In=0;In<_e.size;In++){const ns=_e.get(In),ps=this.createAbstractControlOptions(_e.groupValidators,_e.groupAsyncValidators,_e.updateOn);Tt.push(this.createFormGroup(ns.group,ps,ns))}return new O.Bm(Tt,Xt)}createFormGroup(_e,Tt=null,Xt=null){const In={};return _e.forEach(ns=>{switch(ns.parent=Xt,ns.type){case ce:In[ns.id]=this.createFormArray(ns);break;case zt:case wt:const ps=ns,js=this.createAbstractControlOptions(ps.validators,ps.asyncValidators,ps.updateOn);In[ns.id]=this.createFormGroup(ps.group,js,ps);break;default:const zi={value:ns.value,disabled:ns.disabled},Vo=this.createAbstractControlOptions(ns.validators,ns.asyncValidators,ns.updateOn);In[ns.id]=new O.hs(zi,Vo)}}),new O.J3(In,Tt)}getPathSegment(_e){return _e instanceof se?_e.index.toString():_e.id}getPath(_e,Tt=!1){const Xt=[this.getPathSegment(_e)];let In=_e.parent;for(;In;)Xt.unshift(this.getPathSegment(In)),In=In.parent;return Tt?Xt.join("."):Xt}addFormGroupControl(_e,Tt,...Xt){Tt instanceof Yt?this.insertFormGroupControl(Tt.size(),_e,Tt,...Xt):this.insertFormGroupControl(Tt.length,_e,Tt,...Xt)}moveFormGroupControl(_e,Tt,Xt){Xt instanceof Yt?Xt.move(_e,Tt):Xt.splice(_e+Tt,0,...Xt.splice(_e,1))}insertFormGroupControl(_e,Tt,Xt,...In){const ps=this.createFormGroup(In,null,Xt instanceof Yt?Xt:null).controls;Object.keys(ps).forEach((js,Qi)=>{const zi=In[Qi];Xt instanceof Yt?Xt.insert(_e,zi):Xt.splice(_e,0,zi),Tt.addControl(js,ps[js])})}removeFormGroupControl(_e,Tt,Xt){Xt instanceof Yt?(Tt.removeControl(Xt.get(_e).id),Xt.remove(_e)):(Tt.removeControl(Xt[_e].id),Xt.splice(_e,1))}addFormArrayGroup(_e,Tt){const Xt=Tt.addGroup();_e.push(this.createFormGroup(Xt.group,null,Xt))}insertFormArrayGroup(_e,Tt,Xt){const In=Xt.insertGroup(_e);Tt.insert(_e,this.createFormGroup(In.group,null,In))}moveFormArrayGroup(_e,Tt,Xt,In){const ns=_e+Tt,ps=Tt>=0;if(!(_e>=0&&_e<In.size&&ns>=0&&ns<In.size))throw new Error("form array group cannot be moved due to index or new index being out of bounds");{const js=[];for(let Qi=ps?_e:ns;Qi<=(ps?ns:_e);Qi++)js.push(Xt.at(Qi));js.forEach((Qi,zi)=>{let Vo;Vo=ps?0===zi?ns:_e+zi-1:zi===js.length-1?ns:ns+zi+1,Xt.setControl(Vo,Qi)}),In.moveGroup(_e,Tt)}}removeFormArrayGroup(_e,Tt,Xt){Tt.removeAt(_e),Xt.removeGroup(_e)}clearFormArray(_e,Tt){_e.clear(),Tt.clear()}findById(_e,Tt){const Xt=(ns,ps)=>{for(const js of ps){if(js.id===ns){In=js;break}js instanceof Yt&&Xt(ns,js.group)}};let In=null;return Xt(_e,Tt),In}findModelById(_e,Tt){return this.findById(_e,Tt)}findControlByModel(_e,Tt){return Tt.root.get(this.getPath(_e,!0))}detectChanges(_e){if(_e instanceof z)_e.markForCheck(),_e.detectChanges();else for(const Tt of this.componentService.getForms())Tt.markForCheck(),Tt.detectChanges()}fromJSON(_e){const Tt=W(_e)?JSON.parse(_e,En):_e,Xt=[];return Tt.forEach(In=>{const ns=In.layout??null;switch(In.type){case ce:const ps=In;Array.isArray(ps.groups)&&ps.groups.forEach(js=>{js.group=this.fromJSON(js.group)}),ps.groupFactory=()=>this.fromJSON(ps.groupPrototype),Xt.push(new De(In,ns));break;case me:Xt.push(new re(In,ns));break;case wt:In.group=this.fromJSON(In.group),Xt.push(new bt(In,ns));break;case Jt:Xt.push(new Dt(In,ns));break;case ot:Xt.push(new xe(In,ns));break;case"EDITOR":Xt.push(new Ke(In,ns));break;case At:In.value=null,Xt.push(new Qe(In,ns));break;case zt:In.group=this.fromJSON(In.group),Xt.push(new Yt(In,ns));break;case Te:Xt.push(new ut(In,ns));break;case Le:Xt.push(new dt(In,ns));break;case"RATING":Xt.push(new ln(In,ns));break;case Tn:Xt.push(new Bn(In,ns));break;case"SLIDER":Xt.push(new wn(In,ns));break;case"SWITCH":Xt.push(new vt(In,ns));break;case pn:Xt.push(new Gs(In,ns));break;case cs:Xt.push(new Cs(In,ns));break;default:throw new Error(`unknown form control model type defined on JSON object with id "${In.id}"`)}}),Xt}}return oe.\u0275fac=function(_e){return new(_e||oe)(i.KVO(q),i.KVO(It))},oe.\u0275prov=i.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();const li="ENABLED",sn="VISIBLE",lt="AND",gt="OR",Ct=new i.nKC("DYNAMIC_MATCHERS"),Ps=[{provide:Ct,useValue:{match:"DISABLED",opposingMatch:li,onChange(oe,$e){$e.disabled=oe}},multi:!0},{provide:Ct,useValue:{match:"HIDDEN",opposingMatch:sn,onChange(oe,$e){$e.hidden=oe}},multi:!0},{provide:Ct,useValue:{match:"REQUIRED",opposingMatch:"OPTIONAL",onChange(oe,$e,_e,Tt){let Xt=null;oe?Xt=k($e.validators)?{...$e.validators,required:null}:{required:null}:k($e.validators)&&(delete $e.validators.required,Xt={...$e.validators}),Tt.get(It).updateValidators(Xt,_e,$e),Tt.get(ss).detectChanges()}},multi:!0}];let Ms=(()=>{class oe{constructor(_e,Tt){this.MATCHERS=_e,this.injector=Tt}getRelatedFormControls(_e,Tt){const Xt=(ns,ps)=>{const js=ps.rootPath??ps.id;if(W(js)&&!ns.hasOwnProperty(js)){const Qi=ps.rootPath?Tt.root.get(ps.rootPath):Tt.get(ps.id);Qi instanceof O.hs?ns[js]=Qi:console.warn(`No related form control with id ${ps.id} could be found`)}return ns};return _e.relations.reduce((ns,ps)=>ps.when.reduce(Xt,ns),{})}findRelationByMatcher(_e,Tt){return _e.find(Xt=>[Tt.match,Tt.opposingMatch].includes(Xt.match))}matchesCondition(_e,Tt,Xt){const In=_e.operator??gt;return _e.when.reduce((ns,ps,js)=>{const Qi=ps.rootPath??ps.id;let zi;for(const[Vo,Di]of Object.entries(Tt))if(Vo===Qi){zi=Di;break}return zi&&_e.match===Xt.match?!(js>0&&In===lt&&!ns||!(js>0&&In===gt&&ns)&&ps.value!==zi.value&&ps.status!==zi.status):!(!zi||_e.match!==Xt.opposingMatch||!(js>0&&In===lt&&ns)&&(js>0&&In===gt&&!ns||ps.value===zi.value||ps.status===zi.status))},!1)}subscribeRelations(_e,Tt,Xt){const In=this.getRelatedFormControls(_e,Tt),ns=[];return Object.values(In).forEach(ps=>{const js=ps.valueChanges.pipe((0,_.Z)(ps.value),(0,C.F)()),Qi=ps.statusChanges.pipe((0,_.Z)(ps.status),(0,C.F)());ns.push((0,m.h)(js,Qi).subscribe(()=>{this.MATCHERS.forEach(zi=>{const Vo=this.findRelationByMatcher(_e.relations,zi);if(void 0!==Vo){const Di=this.matchesCondition(Vo,In,zi);zi.onChange(Di,_e,Xt,this.injector)}})}))}),ns}}return oe.\u0275fac=function(_e){return new(_e||oe)(i.KVO(Ct,8),i.KVO(i.zZn))},oe.\u0275prov=i.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),hs=(()=>{class oe{constructor(_e,Tt,Xt,In,ns,ps){this.changeDetectorRef=_e,this.componentFactoryResolver=Tt,this.layoutService=Xt,this.validationService=In,this.componentService=ns,this.relationService=ps,this._hasFocus=!1,this.context=null,this.componentSubscriptions=[],this.subscriptions=[]}ngOnChanges(_e){const Tt=_e.group,In=_e.model;(_e.layout||In)&&this.onLayoutOrModelChange(),In&&this.onModelChange(),(Tt||In)&&this.onGroupOrModelChange()}ngOnInit(){this.subscriptions.push(this.control.statusChanges.pipe(function A(oe,$e=null){return $e=$e??oe,(0,I.N)((_e,Tt)=>{let Xt=[],In=0;_e.subscribe((0,R._)(Tt,ns=>{let ps=null;In++%$e==0&&Xt.push([]);for(const js of Xt)js.push(ns),oe<=js.length&&(ps=ps??[],ps.push(js));if(ps)for(const js of ps)(0,T.o)(Xt,js),Tt.next(js)},()=>{for(const ns of Xt)Tt.next(ns);Tt.complete()},void 0,()=>{Xt=null}))})}(2,1),(0,E.T)(_e=>_e[0]),(0,p.p)(_e=>"PENDING"===_e)).subscribe(_e=>this.markForCheck()))}ngOnDestroy(){this.destroyFormControlComponent(),this.unsubscribe()}get id(){return this.layoutService.getElementId(this.model)}get hasFocus(){return this._hasFocus}get isInvalid(){return this.control.invalid}get isValid(){return this.control.valid}get errorMessages(){return this.validationService.createErrorMessages(this.control,this.model)}get showErrorMessages(){return this.validationService.showErrorMessages(this.control,this.model,this.hasFocus)}get hasLabel(){return W(this.model.label)}get hasHint(){return W(this.model.hint)}get hint(){return this.model.hint??null}get isCheckbox(){return this.model.type===me}get templates(){return void 0!==this.inputTemplateList?this.inputTemplateList:this.contentTemplateList}get startTemplate(){return this.model.type!==ce?this.layoutService.getStartTemplate(this.model,this.templates):void 0}get endTemplate(){return this.model.type!==ce?this.layoutService.getEndTemplate(this.model,this.templates):void 0}getClass(_e,Tt){return this.layoutService.getClass(this.controlLayout,_e,Tt)}markForCheck(){this.changeDetectorRef.markForCheck();const _e=this.componentRef&&this.componentRef.instance;_e&&(_e instanceof Y||_e instanceof K)&&_e.markForCheck()}createFormControlComponent(){const _e=this.componentType;if(null!==_e){const Tt=this.componentFactoryResolver.resolveComponentFactory(_e);this.componentViewContainerRef.clear(),this.componentRef=this.componentViewContainerRef.createComponent(Tt);const Xt=this.componentRef.instance;Xt.formLayout=this.layout,Xt.group=this.group,Xt.layout=this.controlLayout,Xt.model=this.model,this.templates&&(Xt.templates=this.templates),this.componentSubscriptions.push(Xt.blur.subscribe(In=>this.onBlur(In))),this.componentSubscriptions.push(Xt.change.subscribe(In=>this.onChange(In))),this.componentSubscriptions.push(Xt.focus.subscribe(In=>this.onFocus(In))),void 0!==Xt.customEvent&&this.componentSubscriptions.push(Xt.customEvent.subscribe(In=>this.onCustomEvent(In))),this.registerFormControlComponentRef(this.componentRef)}}destroyFormControlComponent(){this.componentRef&&(this.componentSubscriptions.forEach(_e=>_e.unsubscribe()),this.componentSubscriptions=[],this.unregisterFormControlComponentRef(),this.componentRef.destroy())}createDynamicFormControlEvent(_e,Tt){return{$event:_e,context:this.context,control:this.control,group:this.group,model:this.model,type:Tt}}unsubscribe(){this.subscriptions.forEach(_e=>_e.unsubscribe()),this.subscriptions=[]}onControlValueChanges(_e){this.model instanceof fe&&this.model.value!==_e&&(this.model.value=_e)}onModelValueUpdates(_e){this.control.value!==_e&&this.control.setValue(_e)}onModelDisabledUpdates(_e){_e?this.control.disable():this.control.enable()}onLayoutOrModelChange(){this.controlLayout=this.layoutService.findByModel(this.model,this.layout)??this.model.layout,this.klass=`${Array.isArray(this.hostClass)?this.hostClass.join(" "):""} ${this.layoutService.getHostClass(this.controlLayout)}`}onModelChange(){this.destroyFormControlComponent(),this.createFormControlComponent()}onGroupOrModelChange(){this.model&&(this.unsubscribe(),this.group&&(this.control=this.group.get(this.model.id),this.subscriptions.push(this.control.valueChanges.subscribe(_e=>this.onControlValueChanges(_e)))),this.subscriptions.push(this.model.disabledChanges.subscribe(_e=>this.onModelDisabledUpdates(_e))),this.model instanceof fe&&this.subscriptions.push(this.model.valueChanges.subscribe(Tt=>this.onModelValueUpdates(Tt))),this.model.relations.length>0&&this.subscriptions.push(...this.relationService.subscribeRelations(this.model,this.group,this.control)))}onChange(_e){if(_e instanceof Event){if(this.model.type===Te){const Tt=this.model;"file"===Tt.inputType&&(Tt.files=_e.target.files)}this.change.emit(this.createDynamicFormControlEvent(_e,te.Change))}else Z(_e)?this.change.emit(_e):this.change.emit(this.createDynamicFormControlEvent(_e,te.Change))}onBlur(_e){Z(_e)?this.blur.emit(_e):(this._hasFocus=!1,this.blur.emit(this.createDynamicFormControlEvent(_e,te.Blur)))}onFocus(_e){Z(_e)?this.focus.emit(_e):(this._hasFocus=!0,this.focus.emit(this.createDynamicFormControlEvent(_e,te.Focus)))}onCustomEvent(_e){const Tt=this.customEvent;Z(_e)?Tt.emit(_e):Tt.emit(this.createDynamicFormControlEvent(_e.customEvent,_e.customEventType))}registerFormControlComponentRef(_e){this.context instanceof se?this.componentService.registerFormControl(this.model,_e,this.context.index):this.componentService.registerFormControl(this.model,_e)}unregisterFormControlComponentRef(){this.context instanceof se?this.componentService.unregisterFormControl(this.model.id,this.context.index):this.componentService.unregisterFormControl(this.model.id)}}return oe.\u0275fac=function(_e){return new(_e||oe)(i.rXU(i.gRc),i.rXU(i.OM3),i.rXU(Pn),i.rXU(It),i.rXU(q),i.rXU(Ms))},oe.\u0275dir=i.FsC({type:oe,features:[i.OA$]}),oe})(),Oi=(()=>{class oe{constructor(_e,Tt){this.elementRef=_e,this.renderer=Tt}ngAfterViewInit(){W(this.listId)&&this.renderer.setAttribute(this.elementRef.nativeElement,"list",this.listId)}}return oe.\u0275fac=function(_e){return new(_e||oe)(i.rXU(i.aKT),i.rXU(i.sFG))},oe.\u0275dir=i.FsC({type:oe,selectors:[["","dynamicList",""]],inputs:{listId:[i.Mj6.None,"dynamicList","listId"]}}),oe})();const Hi="off";let Xe=(()=>{class oe{static forRoot(){return{ngModule:oe,providers:[ss,Pn,It,q,Ms]}}}return oe.\u0275fac=function(_e){return new(_e||oe)},oe.\u0275mod=i.$C({type:oe}),oe.\u0275inj=i.G2t({imports:[w.MD,O.X1]}),oe})()},20766:(F,D,n)=>{"use strict";n.d(D,{C_:()=>A,hO:()=>q,hr:()=>f,jr:()=>k});var i=n(25499),t=n(54438),u=n(7901),e=n(53993);const h="@ngrx/router-store/request",f=((0,i.VP)(h,(0,i.xk)()),"@ngrx/router-store/navigation"),E=((0,i.VP)(f,(0,i.xk)()),"@ngrx/router-store/cancel"),C=((0,i.VP)(E,(0,i.xk)()),"@ngrx/router-store/error"),R=((0,i.VP)(C,(0,i.xk)()),"@ngrx/router-store/navigated");function A(Z,J){const Q=J;switch(Q.type){case f:case C:case E:return{state:Q.payload.routerState,navigationId:Q.payload.event.id};default:return Z}}(0,i.VP)(R,(0,i.xk)());class p{serialize(J){return{root:this.serializeRoute(J.root),url:J.url}}serializeRoute(J){const Q=J.children.map(ee=>this.serializeRoute(ee));return{params:J.params,data:J.data,url:J.url,outlet:J.outlet,title:J.title,routeConfig:J.routeConfig?{path:J.routeConfig.path,pathMatch:J.routeConfig.pathMatch,redirectTo:J.routeConfig.redirectTo,outlet:J.routeConfig.outlet,title:"string"==typeof J.routeConfig.title?J.routeConfig.title:void 0}:null,queryParams:J.queryParams,fragment:J.fragment,firstChild:Q[0],children:Q}}}var x=function(Z){return Z[Z.PreActivation=1]="PreActivation",Z[Z.PostActivation=2]="PostActivation",Z}(x||{});const O="router",w=new t.nKC("@ngrx/router-store Internal Configuration"),M=new t.nKC("@ngrx/router-store Configuration");function L(Z){return{stateKey:O,serializer:p,navigationActionTiming:x.PreActivation,...Z}}class B{serialize(J){return{root:this.serializeRoute(J.root),url:J.url}}serializeRoute(J){const Q=J.children.map(ee=>this.serializeRoute(ee));return{params:J.params,paramMap:J.paramMap,data:J.data,url:J.url,outlet:J.outlet,title:J.title,routeConfig:J.routeConfig?{component:J.routeConfig.component,path:J.routeConfig.path,pathMatch:J.routeConfig.pathMatch,redirectTo:J.routeConfig.redirectTo,outlet:J.routeConfig.outlet,title:J.routeConfig.title}:null,queryParams:J.queryParams,queryParamMap:J.queryParamMap,fragment:J.fragment,component:J.routeConfig?J.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:Q[0],pathFromRoot:void 0,children:Q}}}class k{}var W=function(Z){return Z[Z.NONE=1]="NONE",Z[Z.ROUTER=2]="ROUTER",Z[Z.STORE=3]="STORE",Z}(W||{});let U=(()=>{class Z{constructor(Q,ee,le,ne,fe,se){this.store=Q,this.router=ee,this.serializer=le,this.errorHandler=ne,this.config=fe,this.activeRuntimeChecks=se,this.lastEvent=null,this.routerState=null,this.trigger=W.NONE,this.stateKey=this.config.stateKey,!(0,i.Lg)()&&(0,t.naY)()&&(se?.strictActionSerializability||se?.strictStateSerializability)&&this.serializer instanceof B&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,i.Lt)(this.stateKey),(0,e.E)(this.store)).subscribe(([Q,ee])=>{this.navigateIfNeeded(Q,ee)})}navigateIfNeeded(Q,ee){if(!Q||!Q.state||this.trigger===W.ROUTER||this.lastEvent instanceof u.Z)return;const le=Q.state.url;(function K(Z,J){return Y(Z)===Y(J)})(this.router.url,le)||(this.storeState=ee,this.trigger=W.STORE,this.router.navigateByUrl(le).catch(ne=>{this.errorHandler.handleError(ne)}))}setUpRouterEventsListener(){const Q=this.config.navigationActionTiming===x.PostActivation;let ee;this.router.events.pipe((0,e.E)(this.store)).subscribe(([le,ne])=>{this.lastEvent=le,le instanceof u.Z?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==W.STORE&&(this.storeState=ne,this.dispatchRouterRequest(le))):le instanceof u.ld?(ee=le,!Q&&this.trigger!==W.STORE&&this.dispatchRouterNavigation(le)):le instanceof u.j5?(this.dispatchRouterCancel(le),this.reset()):le instanceof u.L6?(this.dispatchRouterError(le),this.reset()):le instanceof u.wF&&(this.trigger!==W.STORE&&(Q&&this.dispatchRouterNavigation(ee),this.dispatchRouterNavigated(le)),this.reset())})}dispatchRouterRequest(Q){this.dispatchRouterAction(h,{event:Q})}dispatchRouterNavigation(Q){const ee=this.serializer.serialize(Q.state);this.dispatchRouterAction(f,{routerState:ee,event:new u.ld(Q.id,Q.url,Q.urlAfterRedirects,ee)})}dispatchRouterCancel(Q){this.dispatchRouterAction(E,{storeState:this.storeState,event:Q})}dispatchRouterError(Q){this.dispatchRouterAction(C,{storeState:this.storeState,event:new u.L6(Q.id,Q.url,`${Q}`)})}dispatchRouterNavigated(Q){const ee=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(R,{event:Q,routerState:ee})}dispatchRouterAction(Q,ee){this.trigger=W.ROUTER;try{this.store.dispatch({type:Q,payload:{routerState:this.routerState,...ee,event:0===this.config.routerState?ee.event:{id:ee.event.id,url:ee.event.url,urlAfterRedirects:ee.event.urlAfterRedirects}}})}finally{this.trigger=W.NONE}}reset(){this.trigger=W.NONE,this.storeState=null,this.routerState=null}static{this.\u0275fac=function(ee){return new(ee||Z)(t.KVO(i.il),t.KVO(u.Ix),t.KVO(k),t.KVO(t.zcH),t.KVO(M),t.KVO(i.A5))}}static{this.\u0275prov=t.jDH({token:Z,factory:Z.\u0275fac})}}return Z})();function Y(Z){return Z?.length>0&&"/"===Z[Z.length-1]?Z.substring(0,Z.length-1):Z}function G(Z={}){return(0,t.EmA)([{provide:w,useValue:Z},{provide:M,useFactory:L,deps:[w]},{provide:k,useClass:Z.serializer?Z.serializer:0===Z.routerState?B:p},{provide:t.Z63,multi:!0,useFactory:()=>()=>(0,t.WQX)(U)},U])}let q=(()=>{class Z{static forRoot(Q={}){return{ngModule:Z,providers:[G(Q)]}}static{this.\u0275fac=function(ee){return new(ee||Z)}}static{this.\u0275mod=t.$C({type:Z})}static{this.\u0275inj=t.G2t({})}}return Z})()},25499:(F,D,n)=>{"use strict";n.d(D,{A5:()=>pt,sA:()=>yt,il:()=>zt,ae:()=>Qs,md:()=>Yi,wc:()=>Rs,iK:()=>tt,VP:()=>M,UX:()=>pn,Mz:()=>wn,Lg:()=>St,xk:()=>L,Lt:()=>wt});var i=n(54438),t=n(84412),u=n(71985),e=n(21413),h=n(47242),m=n(40941),f=n(53993),v=n(31943),E=n(96354),C=n(23294);function x($t,Dn){const on=!Dn?.manualCleanup;on&&!Dn?.injector&&(0,i.Af3)(x);const Qt=on?Dn?.injector?.get(i.abz)??(0,i.WQX)(i.abz):null;let Fn;Fn=(0,i.vPA)(Dn?.requireSync?{kind:0}:{kind:1,value:Dn?.initialValue});const qn=$t.subscribe({next:Ds=>Fn.set({kind:1,value:Ds}),error:Ds=>{if(Dn?.rejectErrors)throw Ds;Fn.set({kind:2,error:Ds})}});return Qt?.onDestroy(qn.unsubscribe.bind(qn)),(0,i.EWP)(()=>{const Ds=Fn();switch(Ds.kind){case 1:return Ds.value;case 2:throw Ds.error;case 0:throw new i.wOt(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}const O={};function M($t,Dn){if(O[$t]=(O[$t]||0)+1,"function"==typeof Dn)return k($t,(...Qt)=>({...Dn(...Qt),type:$t}));switch(Dn?Dn._as:"empty"){case"empty":return k($t,()=>({type:$t}));case"props":return k($t,Qt=>({...Qt,type:$t}));default:throw new Error("Unexpected config.")}}function L(){return{_as:"props",_p:void 0}}function k($t,Dn){return Object.defineProperty(Dn,"type",{value:$t,writable:!1})}const z="@ngrx/store/init";let te=(()=>{class $t extends t.t{constructor(){super({type:z})}next(on){if("function"==typeof on)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof on>"u")throw new TypeError("Actions must be objects");if(typeof on.type>"u")throw new TypeError("Actions must have a type property");super.next(on)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(Qt){return new(Qt||$t)}}static{this.\u0275prov=i.jDH({token:$t,factory:$t.\u0275fac})}}return $t})();const Z=[te],J=new i.nKC("@ngrx/store Internal Root Guard"),Q=new i.nKC("@ngrx/store Internal Initial State"),ee=new i.nKC("@ngrx/store Initial State"),le=new i.nKC("@ngrx/store Reducer Factory"),ne=new i.nKC("@ngrx/store Internal Reducer Factory Provider"),fe=new i.nKC("@ngrx/store Initial Reducers"),se=new i.nKC("@ngrx/store Internal Initial Reducers"),ce=new i.nKC("@ngrx/store Store Features"),De=new i.nKC("@ngrx/store Internal Store Reducers"),be=new i.nKC("@ngrx/store Internal Feature Reducers"),me=new i.nKC("@ngrx/store Internal Feature Configs"),re=new i.nKC("@ngrx/store Internal Store Features"),Ee=new i.nKC("@ngrx/store Internal Feature Reducers Token"),Te=new i.nKC("@ngrx/store Feature Reducers"),tt=new i.nKC("@ngrx/store User Provided Meta Reducers"),ht=new i.nKC("@ngrx/store Meta Reducers"),Fe=new i.nKC("@ngrx/store Internal Resolved Meta Reducers"),Et=new i.nKC("@ngrx/store User Runtime Checks Config"),Ye=new i.nKC("@ngrx/store Internal User Runtime Checks Config"),pt=new i.nKC("@ngrx/store Internal Runtime Checks"),Mt=new i.nKC("@ngrx/store Check if Action types are unique");function Gt($t,Dn={}){const on=Object.keys($t),Qt={};for(let qn=0;qn<on.length;qn++){const Ds=on[qn];"function"==typeof $t[Ds]&&(Qt[Ds]=$t[Ds])}const Fn=Object.keys(Qt);return function(Ds,vi){Ds=void 0===Ds?Dn:Ds;let Ci=!1;const vo={};for(let hi=0;hi<Fn.length;hi++){const ho=Fn[hi],ur=Ds[ho],Xo=(0,Qt[ho])(ur,vi);vo[ho]=Xo,Ci=Ci||Xo!==ur}return Ci?vo:Ds}}function mt(...$t){return function(Dn){if(0===$t.length)return Dn;const on=$t[$t.length-1];return $t.slice(0,-1).reduceRight((Fn,qn)=>qn(Fn),on(Dn))}}function Pt($t,Dn){return Array.isArray(Dn)&&Dn.length>0&&($t=mt.apply(null,[...Dn,$t])),(on,Qt)=>{const Fn=$t(on);return(qn,Ds)=>Fn(qn=void 0===qn?Qt:qn,Ds)}}new i.nKC("@ngrx/store Root Store Provider"),new i.nKC("@ngrx/store Feature State Provider");class je extends u.c{}class ut extends te{}let an=(()=>{class $t extends t.t{get currentReducers(){return this.reducers}constructor(on,Qt,Fn,qn){super(qn(Fn,Qt)),this.dispatcher=on,this.initialState=Qt,this.reducers=Fn,this.reducerFactory=qn}addFeature(on){this.addFeatures([on])}addFeatures(on){const Qt=on.reduce((Fn,{reducers:qn,reducerFactory:Ds,metaReducers:vi,initialState:Ci,key:vo})=>{const hi="function"==typeof qn?function Ce($t){const Dn=Array.isArray($t)&&$t.length>0?mt(...$t):on=>on;return(on,Qt)=>(on=Dn(on),(Fn,qn)=>on(Fn=void 0===Fn?Qt:Fn,qn))}(vi)(qn,Ci):Pt(Ds,vi)(qn,Ci);return Fn[vo]=hi,Fn},{});this.addReducers(Qt)}removeFeature(on){this.removeFeatures([on])}removeFeatures(on){this.removeReducers(on.map(Qt=>Qt.key))}addReducer(on,Qt){this.addReducers({[on]:Qt})}addReducers(on){this.reducers={...this.reducers,...on},this.updateReducers(Object.keys(on))}removeReducer(on){this.removeReducers([on])}removeReducers(on){on.forEach(Qt=>{this.reducers=function Zt($t,Dn){return Object.keys($t).filter(on=>on!==Dn).reduce((on,Qt)=>Object.assign(on,{[Qt]:$t[Qt]}),{})}(this.reducers,Qt)}),this.updateReducers(on)}updateReducers(on){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:on})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(Qt){return new(Qt||$t)(i.KVO(ut),i.KVO(ee),i.KVO(fe),i.KVO(le))}}static{this.\u0275prov=i.jDH({token:$t,factory:$t.\u0275fac})}}return $t})();const Pn=[an,{provide:je,useExisting:an},{provide:ut,useExisting:te}];let yt=(()=>{class $t extends e.B{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let on;return function(Fn){return(on||(on=i.xGo($t)))(Fn||$t)}})()}static{this.\u0275prov=i.jDH({token:$t,factory:$t.\u0275fac})}}return $t})();const Kt=[yt];class Rt extends u.c{}let nn=(()=>{class $t extends t.t{static{this.INIT=z}constructor(on,Qt,Fn,qn){super(qn);const vo=on.pipe((0,m.Q)(h.T)).pipe((0,f.E)(Qt)).pipe((0,v.S)(gn,{state:qn}));this.stateSubscription=vo.subscribe(({state:hi,action:ho})=>{this.next(hi),Fn.next(ho)}),this.state=x(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(Qt){return new(Qt||$t)(i.KVO(te),i.KVO(je),i.KVO(yt),i.KVO(ee))}}static{this.\u0275prov=i.jDH({token:$t,factory:$t.\u0275fac})}}return $t})();function gn($t={state:void 0},[Dn,on]){const{state:Qt}=$t;return{state:on(Qt,Dn),action:Dn}}const It=[nn,{provide:Rt,useExisting:nn}];let zt=(()=>{class $t extends u.c{constructor(on,Qt,Fn){super(),this.actionsObserver=Qt,this.reducerManager=Fn,this.source=on,this.state=on.state}select(on,...Qt){return wt.call(null,on,...Qt)(this)}selectSignal(on,Qt){return(0,i.EWP)(()=>on(this.state()),Qt)}lift(on){const Qt=new $t(this,this.actionsObserver,this.reducerManager);return Qt.operator=on,Qt}dispatch(on){this.actionsObserver.next(on)}next(on){this.actionsObserver.next(on)}error(on){this.actionsObserver.error(on)}complete(){this.actionsObserver.complete()}addReducer(on,Qt){this.reducerManager.addReducer(on,Qt)}removeReducer(on){this.reducerManager.removeReducer(on)}static{this.\u0275fac=function(Qt){return new(Qt||$t)(i.KVO(Rt),i.KVO(te),i.KVO(an))}}static{this.\u0275prov=i.jDH({token:$t,factory:$t.\u0275fac})}}return $t})();const Yt=[zt];function wt($t,Dn,...on){return function(Fn){let qn;if("string"==typeof $t){const Ds=[Dn,...on].filter(Boolean);qn=Fn.pipe(function _(...$t){const Dn=$t.length;if(0===Dn)throw new Error("list of properties cannot be empty.");return(0,E.T)(on=>{let Qt=on;for(let Fn=0;Fn<Dn;Fn++){const qn=Qt?.[$t[Fn]];if(!(typeof qn<"u"))return;Qt=qn}return Qt})}($t,...Ds))}else{if("function"!=typeof $t)throw new TypeError(`Unexpected type '${typeof $t}' in select operator, expected 'string' or 'function'`);qn=Fn.pipe((0,E.T)(Ds=>$t(Ds,Dn)))}return qn.pipe((0,C.F)())}}const bt="https://ngrx.io/guide/store/configuration/runtime-checks";function Jt($t){return void 0===$t}function Dt($t){return null===$t}function Ft($t){return Array.isArray($t)}function Ke($t){return"object"==typeof $t&&null!==$t}function Qe($t){return"function"==typeof $t}let Le=!1;function St(){return Le}function ln($t,Dn){return $t===Dn}function Zn($t,Dn=ln,on=ln){let qn,Qt=null,Fn=null;return{memoized:function vo(){if(void 0!==qn)return qn.result;if(!Qt)return Fn=$t.apply(null,arguments),Qt=arguments,Fn;if(!function Tn($t,Dn,on){for(let Qt=0;Qt<$t.length;Qt++)if(!on($t[Qt],Dn[Qt]))return!0;return!1}(arguments,Qt,Dn))return Fn;const hi=$t.apply(null,arguments);return Qt=arguments,on(Fn,hi)?Fn:(Fn=hi,hi)},reset:function Ds(){Qt=null,Fn=null},setResult:function vi(hi=void 0){qn={result:hi}},clearResult:function Ci(){qn=void 0}}}function wn(...$t){return function vt($t,Dn={stateFn:ct}){return function(...on){let Qt=on;if(Array.isArray(Qt[0])){const[hi,...ho]=Qt;Qt=[...hi,...ho]}else 1===Qt.length&&function Nn($t){return!!$t&&"object"==typeof $t&&Object.values($t).every(Dn=>"function"==typeof Dn)}(Qt[0])&&(Qt=function Jn($t){const Dn=Object.values($t),on=Object.keys($t);return[...Dn,(...Fn)=>on.reduce((qn,Ds,vi)=>({...qn,[Ds]:Fn[vi]}),{})]}(Qt[0]));const Fn=Qt.slice(0,Qt.length-1),qn=Qt[Qt.length-1],Ds=Fn.filter(hi=>hi.release&&"function"==typeof hi.release),vi=$t(function(...hi){return qn.apply(null,hi)}),Ci=Zn(function(hi,ho){return Dn.stateFn.apply(null,[hi,Fn,ho,vi])});return Object.assign(Ci.memoized,{release:function vo(){Ci.reset(),vi.reset(),Ds.forEach(hi=>hi.release())},projector:vi.memoized,setResult:Ci.setResult,clearResult:Ci.clearResult})}}(Zn)(...$t)}function ct($t,Dn,on,Qt){if(void 0===on){const qn=Dn.map(Ds=>Ds($t));return Qt.memoized.apply(null,qn)}const Fn=Dn.map(qn=>qn($t,on));return Qt.memoized.apply(null,[...Fn,on])}function pn($t){return wn(Dn=>{const on=Dn[$t];return!St()&&(0,i.naY)()&&!($t in Dn)&&console.warn(`@ngrx/store: The feature name "${$t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${$t}', ...) or StoreModule.forFeature('${$t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),on},Dn=>Dn)}function ds($t){return $t instanceof i.nKC?(0,i.WQX)($t):$t}function dn($t,Dn){return Dn.map((on,Qt)=>{if($t[Qt]instanceof i.nKC){const Fn=(0,i.WQX)($t[Qt]);return{key:on.key,reducerFactory:Fn.reducerFactory?Fn.reducerFactory:Gt,metaReducers:Fn.metaReducers?Fn.metaReducers:[],initialState:Fn.initialState}}return on})}function En($t){return $t.map(Dn=>Dn instanceof i.nKC?(0,i.WQX)(Dn):Dn)}function ss($t){return"function"==typeof $t?$t():$t}function Ls($t,Dn){return $t.concat(Dn)}function li(){if((0,i.WQX)(zt,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Ht($t){Object.freeze($t);const Dn=Qe($t);return Object.getOwnPropertyNames($t).forEach(on=>{if(!on.startsWith("\u0275")&&function ke($t,Dn){return Object.prototype.hasOwnProperty.call($t,Dn)}($t,on)&&(!Dn||"caller"!==on&&"callee"!==on&&"arguments"!==on)){const Qt=$t[on];(Ke(Qt)||Qe(Qt))&&!Object.isFrozen(Qt)&&Ht(Qt)}}),$t}function sn($t,Dn=[]){return(Jt($t)||Dt($t))&&0===Dn.length?{path:["root"],value:$t}:Object.keys($t).reduce((Qt,Fn)=>{if(Qt)return Qt;const qn=$t[Fn];return function st($t){return Qe($t)&&$t.hasOwnProperty("\u0275cmp")}(qn)?Qt:!(Jt(qn)||Dt(qn)||function Ve($t){return"number"==typeof $t}(qn)||function xe($t){return"boolean"==typeof $t}(qn)||function ot($t){return"string"==typeof $t}(qn)||Ft(qn))&&(function At($t){if(!function Be($t){return Ke($t)&&!Ft($t)}($t))return!1;const Dn=Object.getPrototypeOf($t);return Dn===Object.prototype||null===Dn}(qn)?sn(qn,[...Dn,Fn]):{path:[...Dn,Fn],value:qn})},!1)}function lt($t,Dn){if(!1===$t)return;const on=$t.path.join("."),Qt=new Error(`Detected unserializable ${Dn} at "${on}". ${bt}#strict${Dn}serializability`);throw Qt.value=$t.value,Qt.unserializablePath=on,Qt}function Ct($t){return(0,i.naY)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...$t}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Wt({strictActionSerializability:$t,strictStateSerializability:Dn}){return on=>$t||Dn?function We($t,Dn){return function(on,Qt){Dn.action(Qt)&&lt(sn(Qt),"action");const Fn=$t(on,Qt);return Dn.state()&&lt(sn(Fn),"state"),Fn}}(on,{action:Qt=>$t&&!An(Qt),state:()=>Dn}):on}function fn({strictActionImmutability:$t,strictStateImmutability:Dn}){return on=>$t||Dn?function _t($t,Dn){return function(on,Qt){const Fn=Dn.action(Qt)?Ht(Qt):Qt,qn=$t(on,Fn);return Dn.state()?Ht(qn):qn}}(on,{action:Qt=>$t&&!An(Qt),state:()=>Dn}):on}function An($t){return $t.type.startsWith("@ngrx")}function Yn({strictActionWithinNgZone:$t}){return Dn=>$t?function gt($t,Dn){return function(on,Qt){if(Dn.action(Qt)&&!i.SKi.isInAngularZone())throw new Error(`Action '${Qt.type}' running outside NgZone. ${bt}#strictactionwithinngzone`);return $t(on,Qt)}}(Dn,{action:on=>$t&&!An(on)}):Dn}function $n($t){return[{provide:Ye,useValue:$t},{provide:Et,useFactory:Ps,deps:[Ye]},{provide:pt,deps:[Et],useFactory:Ct},{provide:ht,multi:!0,deps:[pt],useFactory:fn},{provide:ht,multi:!0,deps:[pt],useFactory:Wt},{provide:ht,multi:!0,deps:[pt],useFactory:Yn}]}function _s(){return[{provide:Mt,multi:!0,deps:[pt],useFactory:Ms}]}function Ps($t){return $t}function Ms($t){if(!$t.strictActionTypeUniqueness)return;const Dn=Object.entries(O).filter(([,on])=>on>1).map(([on])=>on);if(Dn.length)throw new Error(`Action types are registered more than once, ${Dn.map(on=>`"${on}"`).join(", ")}. ${bt}#strictactiontypeuniqueness`)}function bs($t={},Dn={}){return[{provide:J,useFactory:li},{provide:Q,useValue:Dn.initialState},{provide:ee,useFactory:ss,deps:[Q]},{provide:se,useValue:$t},{provide:De,useExisting:$t instanceof i.nKC?$t:se},{provide:fe,deps:[se,[new i.y_5(De)]],useFactory:ds},{provide:tt,useValue:Dn.metaReducers?Dn.metaReducers:[]},{provide:Fe,deps:[ht,tt],useFactory:Ls},{provide:ne,useValue:Dn.reducerFactory?Dn.reducerFactory:Gt},{provide:le,deps:[ne,Fe],useFactory:Pt},Z,Pn,Kt,It,Yt,$n(Dn.runtimeChecks),_s()]}function to($t,Dn,on={}){return[{provide:me,multi:!0,useValue:$t instanceof Object?{}:on},{provide:ce,multi:!0,useValue:{key:$t instanceof Object?$t.name:$t,reducerFactory:on instanceof i.nKC||!on.reducerFactory?Gt:on.reducerFactory,metaReducers:on instanceof i.nKC||!on.metaReducers?[]:on.metaReducers,initialState:on instanceof i.nKC||!on.initialState?void 0:on.initialState}},{provide:re,deps:[me,ce],useFactory:dn},{provide:be,multi:!0,useValue:$t instanceof Object?$t.reducer:Dn},{provide:Ee,multi:!0,useExisting:Dn instanceof i.nKC?Dn:be},{provide:Te,multi:!0,deps:[be,[new i.y_5(Ee)]],useFactory:En},_s()]}let Rs=(()=>{class $t{constructor(on,Qt,Fn,qn,Ds,vi){}static{this.\u0275fac=function(Qt){return new(Qt||$t)(i.KVO(te),i.KVO(je),i.KVO(yt),i.KVO(zt),i.KVO(J,8),i.KVO(Mt,8))}}static{this.\u0275mod=i.$C({type:$t})}static{this.\u0275inj=i.G2t({})}}return $t})(),Qs=(()=>{class $t{constructor(on,Qt,Fn,qn,Ds){this.features=on,this.featureReducers=Qt,this.reducerManager=Fn;const vi=on.map((Ci,vo)=>{const ho=Qt.shift()[vo];return{...Ci,reducers:ho,initialState:ss(Ci.initialState)}});Fn.addFeatures(vi)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function(Qt){return new(Qt||$t)(i.KVO(re),i.KVO(Te),i.KVO(an),i.KVO(Rs),i.KVO(Mt,8))}}static{this.\u0275mod=i.$C({type:$t})}static{this.\u0275inj=i.G2t({})}}return $t})(),Yi=(()=>{class $t{static forRoot(on,Qt){return{ngModule:Rs,providers:[...bs(on,Qt)]}}static forFeature(on,Qt,Fn={}){return{ngModule:Qs,providers:[...to(on,Qt,Fn)]}}static{this.\u0275fac=function(Qt){return new(Qt||$t)}}static{this.\u0275mod=i.$C({type:$t})}static{this.\u0275inj=i.G2t({})}}return $t})()},41780:(F,D,n)=>{"use strict";n.d(D,{D9:()=>te,Wr:()=>I,c$:()=>q,er:()=>T,h:()=>Z});var i=n(54438),t=n(7673),u=n(74402),e=n(27468),h=n(92688),m=n(59030),f=n(96697),v=n(44668),E=n(96354),_=n(70274),C=n(25558);class I{}let R=(()=>{class J extends I{getTranslation(ee){return(0,t.of)({})}}return J.\u0275fac=(()=>{let Q;return function(le){return(Q||(Q=i.xGo(J)))(le||J)}})(),J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})();class T{}let A=(()=>{class J{handle(ee){return ee.key}}return J.\u0275fac=function(ee){return new(ee||J)},J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})();function p(J,Q){if(J===Q)return!0;if(null===J||null===Q)return!1;if(J!=J&&Q!=Q)return!0;let ne,fe,se,ee=typeof J;if(ee==typeof Q&&"object"==ee){if(!Array.isArray(J)){if(Array.isArray(Q))return!1;for(fe in se=Object.create(null),J){if(!p(J[fe],Q[fe]))return!1;se[fe]=!0}for(fe in Q)if(!(fe in se)&&typeof Q[fe]<"u")return!1;return!0}if(!Array.isArray(Q))return!1;if((ne=J.length)==Q.length){for(fe=0;fe<ne;fe++)if(!p(J[fe],Q[fe]))return!1;return!0}}return!1}function x(J){return typeof J<"u"&&null!==J}function O(J){return J&&"object"==typeof J&&!Array.isArray(J)}function w(J,Q){let ee=Object.assign({},J);return O(J)&&O(Q)&&Object.keys(Q).forEach(le=>{O(Q[le])?le in J?ee[le]=w(J[le],Q[le]):Object.assign(ee,{[le]:Q[le]}):Object.assign(ee,{[le]:Q[le]})}),ee}class M{}let L=(()=>{class J extends M{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(ee,le){let ne;return ne="string"==typeof ee?this.interpolateString(ee,le):"function"==typeof ee?this.interpolateFunction(ee,le):ee,ne}getValue(ee,le){let ne="string"==typeof le?le.split("."):[le];le="";do{le+=ne.shift(),!x(ee)||!x(ee[le])||"object"!=typeof ee[le]&&ne.length?ne.length?le+=".":ee=void 0:(ee=ee[le],le="")}while(ne.length);return ee}interpolateFunction(ee,le){return ee(le)}interpolateString(ee,le){return le?ee.replace(this.templateMatcher,(ne,fe)=>{let se=this.getValue(le,fe);return x(se)?se:ne}):ee}}return J.\u0275fac=(()=>{let Q;return function(le){return(Q||(Q=i.xGo(J)))(le||J)}})(),J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})();class B{}let k=(()=>{class J extends B{compile(ee,le){return ee}compileTranslations(ee,le){return ee}}return J.\u0275fac=(()=>{let Q;return function(le){return(Q||(Q=i.xGo(J)))(le||J)}})(),J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})();class W{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.bkB,this.onLangChange=new i.bkB,this.onDefaultLangChange=new i.bkB}}const U=new i.nKC("USE_STORE"),K=new i.nKC("USE_DEFAULT_LANG"),Y=new i.nKC("DEFAULT_LANGUAGE"),G=new i.nKC("USE_EXTEND");let q=(()=>{class J{constructor(ee,le,ne,fe,se,ce=!0,De=!1,be=!1,me){this.store=ee,this.currentLoader=le,this.compiler=ne,this.parser=fe,this.missingTranslationHandler=se,this.useDefaultLang=ce,this.isolate=De,this.extend=be,this.pending=!1,this._onTranslationChange=new i.bkB,this._onLangChange=new i.bkB,this._onDefaultLangChange=new i.bkB,this._langs=[],this._translations={},this._translationRequests={},me&&this.setDefaultLang(me)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(ee){this.isolate?this._defaultLang=ee:this.store.defaultLang=ee}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(ee){this.isolate?this._currentLang=ee:this.store.currentLang=ee}get langs(){return this.isolate?this._langs:this.store.langs}set langs(ee){this.isolate?this._langs=ee:this.store.langs=ee}get translations(){return this.isolate?this._translations:this.store.translations}set translations(ee){this.isolate?this._translations=ee:this.store.translations=ee}setDefaultLang(ee){if(ee===this.defaultLang)return;let le=this.retrieveTranslations(ee);typeof le<"u"?(null==this.defaultLang&&(this.defaultLang=ee),le.pipe((0,f.s)(1)).subscribe(ne=>{this.changeDefaultLang(ee)})):this.changeDefaultLang(ee)}getDefaultLang(){return this.defaultLang}use(ee){if(ee===this.currentLang)return(0,t.of)(this.translations[ee]);let le=this.retrieveTranslations(ee);return typeof le<"u"?(this.currentLang||(this.currentLang=ee),le.pipe((0,f.s)(1)).subscribe(ne=>{this.changeLang(ee)}),le):(this.changeLang(ee),(0,t.of)(this.translations[ee]))}retrieveTranslations(ee){let le;return(typeof this.translations[ee]>"u"||this.extend)&&(this._translationRequests[ee]=this._translationRequests[ee]||this.getTranslation(ee),le=this._translationRequests[ee]),le}getTranslation(ee){this.pending=!0;const le=this.currentLoader.getTranslation(ee).pipe((0,v.t)(1),(0,f.s)(1));return this.loadingTranslations=le.pipe((0,E.T)(ne=>this.compiler.compileTranslations(ne,ee)),(0,v.t)(1),(0,f.s)(1)),this.loadingTranslations.subscribe({next:ne=>{this.translations[ee]=this.extend&&this.translations[ee]?{...ne,...this.translations[ee]}:ne,this.updateLangs(),this.pending=!1},error:ne=>{this.pending=!1}}),le}setTranslation(ee,le,ne=!1){le=this.compiler.compileTranslations(le,ee),this.translations[ee]=(ne||this.extend)&&this.translations[ee]?w(this.translations[ee],le):le,this.updateLangs(),this.onTranslationChange.emit({lang:ee,translations:this.translations[ee]})}getLangs(){return this.langs}addLangs(ee){ee.forEach(le=>{-1===this.langs.indexOf(le)&&this.langs.push(le)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(ee,le,ne){let fe;if(le instanceof Array){let se={},ce=!1;for(let De of le)se[De]=this.getParsedResult(ee,De,ne),(0,u.A)(se[De])&&(ce=!0);if(ce){const De=le.map(be=>(0,u.A)(se[be])?se[be]:(0,t.of)(se[be]));return(0,e.p)(De).pipe((0,E.T)(be=>{let me={};return be.forEach((re,Ee)=>{me[le[Ee]]=re}),me}))}return se}if(ee&&(fe=this.parser.interpolate(this.parser.getValue(ee,le),ne)),typeof fe>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(fe=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],le),ne)),typeof fe>"u"){let se={key:le,translateService:this};typeof ne<"u"&&(se.interpolateParams=ne),fe=this.missingTranslationHandler.handle(se)}return typeof fe<"u"?fe:le}get(ee,le){if(!x(ee)||!ee.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,_.H)(ne=>(ne=this.getParsedResult(ne,ee,le),(0,u.A)(ne)?ne:(0,t.of)(ne))));{let ne=this.getParsedResult(this.translations[this.currentLang],ee,le);return(0,u.A)(ne)?ne:(0,t.of)(ne)}}getStreamOnTranslationChange(ee,le){if(!x(ee)||!ee.length)throw new Error('Parameter "key" required');return(0,h.x)((0,m.v)(()=>this.get(ee,le)),this.onTranslationChange.pipe((0,C.n)(ne=>{const fe=this.getParsedResult(ne.translations,ee,le);return"function"==typeof fe.subscribe?fe:(0,t.of)(fe)})))}stream(ee,le){if(!x(ee)||!ee.length)throw new Error('Parameter "key" required');return(0,h.x)((0,m.v)(()=>this.get(ee,le)),this.onLangChange.pipe((0,C.n)(ne=>{const fe=this.getParsedResult(ne.translations,ee,le);return(0,u.A)(fe)?fe:(0,t.of)(fe)})))}instant(ee,le){if(!x(ee)||!ee.length)throw new Error('Parameter "key" required');let ne=this.getParsedResult(this.translations[this.currentLang],ee,le);if((0,u.A)(ne)){if(ee instanceof Array){let fe={};return ee.forEach((se,ce)=>{fe[ee[ce]]=ee[ce]}),fe}return ee}return ne}set(ee,le,ne=this.currentLang){this.translations[ne][ee]=this.compiler.compile(le,ne),this.updateLangs(),this.onTranslationChange.emit({lang:ne,translations:this.translations[ne]})}changeLang(ee){this.currentLang=ee,this.onLangChange.emit({lang:ee,translations:this.translations[ee]}),null==this.defaultLang&&this.changeDefaultLang(ee)}changeDefaultLang(ee){this.defaultLang=ee,this.onDefaultLangChange.emit({lang:ee,translations:this.translations[ee]})}reloadLang(ee){return this.resetLang(ee),this.getTranslation(ee)}resetLang(ee){this._translationRequests[ee]=void 0,this.translations[ee]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let ee=window.navigator.languages?window.navigator.languages[0]:null;return ee=ee||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof ee>"u"?void 0:(-1!==ee.indexOf("-")&&(ee=ee.split("-")[0]),-1!==ee.indexOf("_")&&(ee=ee.split("_")[0]),ee)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let ee=window.navigator.languages?window.navigator.languages[0]:null;return ee=ee||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,ee}}return J.\u0275fac=function(ee){return new(ee||J)(i.KVO(W),i.KVO(I),i.KVO(B),i.KVO(M),i.KVO(T),i.KVO(K),i.KVO(U),i.KVO(G),i.KVO(Y))},J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})(),te=(()=>{class J{constructor(ee,le){this.translate=ee,this._ref=le,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(ee,le,ne){let fe=se=>{this.value=void 0!==se?se:ee,this.lastKey=ee,this._ref.markForCheck()};if(ne){let se=this.translate.getParsedResult(ne,ee,le);(0,u.A)(se.subscribe)?se.subscribe(fe):fe(se)}this.translate.get(ee,le).subscribe(fe)}transform(ee,...le){if(!ee||!ee.length)return ee;if(p(ee,this.lastKey)&&p(le,this.lastParams))return this.value;let ne;if(x(le[0])&&le.length)if("string"==typeof le[0]&&le[0].length){let fe=le[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{ne=JSON.parse(fe)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${le[0]}`)}}else"object"==typeof le[0]&&!Array.isArray(le[0])&&(ne=le[0]);return this.lastKey=ee,this.lastParams=le,this.updateValue(ee,ne),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(fe=>{this.lastKey&&fe.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(ee,ne,fe.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(fe=>{this.lastKey&&(this.lastKey=null,this.updateValue(ee,ne,fe.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(ee,ne))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return J.\u0275fac=function(ee){return new(ee||J)(i.rXU(q,16),i.rXU(i.gRc,16))},J.\u0275pipe=i.EJ8({name:"translate",type:J,pure:!1}),J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})(),Z=(()=>{class J{static forRoot(ee={}){return{ngModule:J,providers:[ee.loader||{provide:I,useClass:R},ee.compiler||{provide:B,useClass:k},ee.parser||{provide:M,useClass:L},ee.missingTranslationHandler||{provide:T,useClass:A},W,{provide:U,useValue:ee.isolate},{provide:K,useValue:ee.useDefaultLang},{provide:G,useValue:ee.extend},{provide:Y,useValue:ee.defaultLanguage},q]}}static forChild(ee={}){return{ngModule:J,providers:[ee.loader||{provide:I,useClass:R},ee.compiler||{provide:B,useClass:k},ee.parser||{provide:M,useClass:L},ee.missingTranslationHandler||{provide:T,useClass:A},{provide:U,useValue:ee.isolate},{provide:K,useValue:ee.useDefaultLang},{provide:G,useValue:ee.extend},{provide:Y,useValue:ee.defaultLanguage},q]}}}return J.\u0275fac=function(ee){return new(ee||J)},J.\u0275mod=i.$C({type:J}),J.\u0275inj=i.G2t({}),J})()},53588:(F,D,n)=>{"use strict";n.d(D,{WY:()=>A,xG:()=>x});var i=n(54438),t=n(60177),u=n(92771),e=n(18810);const h={target:null,action:"click",duration:650,easing:"easeInOutQuad",offset:0,offsetMap:new Map},m={easeInQuad:O=>O*O,easeOutQuad:O=>O*(2-O),easeInOutQuad:O=>O<.5?2*O*O:(4-2*O)*O-1,easeInCubic:O=>O*O*O,easeOutCubic:O=>--O*O*O+1,easeInOutCubic:O=>O<.5?4*O*O*O:(O-1)*(2*O-2)*(2*O-2)+1,easeInQuart:O=>O*O*O*O,easeOutQuart:O=>1- --O*O*O*O,easeInOutQuart:O=>O<.5?8*O*O*O*O:1-8*--O*O*O*O,easeInQuint:O=>O*O*O*O*O,easeOutQuint:O=>1+--O*O*O*O*O,easeInOutQuint:O=>O<.5?16*O*O*O*O*O:1+16*--O*O*O*O*O,easeOutElastic:O=>Math.pow(2,-10*O)*Math.sin((O-1/4)*(2*Math.PI)/1)+1};function _(O){return O===window}class T{constructor(w,M,L,B,k,W){this.container=w,this.listenerTarget=M,this.isWindow=L,this.to=B,this.options=k,this.isBrowser=W,this.loop=()=>{this.timeLapsed+=this.tick,this.percentage=this.timeLapsed/this.options.duration,this.percentage=this.percentage>1?1:this.percentage,this.position=this.startPosition+(this.startPosition-this.to<=0?1:-1)*this.distance*m[this.options.easing](this.percentage),null!==this.lastPosition&&this.position===this.lastPosition?this.stop():(this.source$.next(this.position),this.isWindow?this.listenerTarget.scrollTo(0,Math.floor(this.position)):this.container.scrollTop=Math.floor(this.position),this.lastPosition=this.position)},this.tick=16,this.interval=null,this.lastPosition=null,this.timeLapsed=0,this.windowScrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,this.startPosition=this.container?this.isWindow?this.windowScrollTop:this.container.scrollTop:this.windowScrollTop,this.container&&!this.isWindow&&(this.to=this.to-this.container.getBoundingClientRect().top+this.startPosition);const U=this.startPosition-this.to;this.distance=this.container?Math.abs(this.startPosition-this.to):this.to,this.mappedOffset=this.options.offset,this.isBrowser&&this.options.offsetMap.forEach((K,Y)=>this.mappedOffset=window.innerWidth>Y?K:this.mappedOffset),this.distance+=this.mappedOffset*(U<=0?1:-1),this.source$=new u.m}start(){return clearInterval(this.interval),this.interval=setInterval(this.loop,this.tick),this.source$.asObservable()}stop(){clearInterval(this.interval),this.interval=null,this.source$.complete()}}let A=(()=>{class O{constructor(M,L){this.document=M,this.platformId=L,this.interruptiveEvents=["mousewheel","DOMMouseScroll","touchstart"]}scrollTo(M){return(0,t.UE)(this.platformId)?this.start(M):(new u.m).asObservable()}start(M){const L={...h,...M};this.animation&&this.animation.stop();const B=this.getNode(L.target);if(L.target&&!B)return(0,e.$)(()=>new Error("Unable to find Target Element"));const k=this.getContainer(L,B);if(L.container&&!k)return(0,e.$)(()=>new Error("Unable to find Container Element"));const W=this.getListenerTarget(k)||window;let U=k?k.getBoundingClientRect().top:0;B&&(U=_(W)?window.scrollY+B.getBoundingClientRect().top:B.getBoundingClientRect().top),this.animation=new T(k,W,_(W),U,L,(0,t.UE)(this.platformId));const K=()=>this.animation.stop();this.addInterruptiveEventListeners(W,K);const Y=this.animation.start();return this.subscribeToAnimation(Y,W,K),Y}subscribeToAnimation(M,L,B){const k=M.subscribe({complete:()=>{this.removeInterruptiveEventListeners(this.interruptiveEvents,L,B),k.unsubscribe()}})}getContainer(M,L){let B=null;return M.container?B=this.getNode(M.container,!0):L&&(B=this.getFirstScrollableParent(L)),B}addInterruptiveEventListeners(M,L){M||(M=window),this.interruptiveEvents.forEach(B=>M.addEventListener(B,L,!!this.supportPassive()&&{passive:!0}))}supportPassive(){let M=!1;try{const L=Object.defineProperty({},"passive",{get:()=>{M=!0}});window.addEventListener("testPassive",null,L),window.removeEventListener("testPassive",null,L)}catch{}return M}removeInterruptiveEventListeners(M,L,B){L||(L=window),M.forEach(k=>L.removeEventListener(k,B))}getFirstScrollableParent(M){let L=window.getComputedStyle(M);const B=/(auto|scroll|overlay)/;if("fixed"===L.position)return null;let k=M;for(;k.parentElement;)if(k=k.parentElement,L=window.getComputedStyle(k),"absolute"!==L.position&&"hidden"!==L.overflow&&"hidden"!==L.overflowY&&(B.test(L.overflow+L.overflowY)||"BODY"===k.tagName))return k;return null}getNode(M,L=!1){let B;return function E(O){return"string"==typeof O||O instanceof String}(M)?B=!L||"body"!==M&&"BODY"!==M?this.document.getElementById(function v(O){return"#"===O.substring(0,1)?O.substring(1):O}(M)):this.document.body:function R(O){return!isNaN(parseFloat(O))&&isFinite(O)}(M)?B=this.document.getElementById(String(M)):function C(O){return O instanceof i.aKT}(M)?B=M.nativeElement:function I(O){return O instanceof HTMLElement}(M)&&(B=M),B}getListenerTarget(M){return M?this.isDocumentBody(M)?window:M:null}isDocumentBody(M){return"BODY"===M.tagName.toUpperCase()}}return O.\u0275fac=function(M){return new(M||O)(i.KVO(t.qQ),i.KVO(i.Agw))},O.\u0275prov=i.jDH({token:O,factory:O.\u0275fac}),O})(),x=(()=>{class O{static forRoot(){return{ngModule:O,providers:[A]}}}return O.\u0275fac=function(M){return new(M||O)},O.\u0275mod=i.$C({type:O}),O.\u0275inj=i.G2t({}),O})()},97324:(F,D,n)=>{"use strict";n.d(D,{RH:()=>K,Z1:()=>L,eB:()=>W,il:()=>v,ok:()=>R});var i=n(54438),t=n(84412),u=n(92771),e=n(5964);class h{constructor(){this.pageTracking={autoTrackVirtualPages:!0,basePath:"",excludedRoutes:[],clearIds:!1,clearHash:!1,clearQueryParams:!1,idsRegExp:/^\d+$|^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/},this.developerMode=!1,this.ga={},this.appInsights={},this.gtm={},this.gst={}}}const m=new i.nKC("ANGULARTICS2");class f{trackLocation(be){return new t.t({url:"/"})}prepareExternalUrl(be){return be}}let v=(()=>{class De{constructor(me,re){this.tracker=me,this.pageTrack=new u.m(10),this.eventTrack=new u.m(10),this.exceptionTrack=new u.m(10),this.setAlias=new u.m(10),this.setUsername=new u.m(10),this.setUserProperties=new u.m(10),this.setUserPropertiesOnce=new u.m(10),this.setSuperProperties=new u.m(10),this.setSuperPropertiesOnce=new u.m(10),this.userTimings=new u.m(10);const Ee=new h;this.settings={...Ee,...re.settings},this.settings.pageTracking={...Ee.pageTracking,...re.settings.pageTracking},this.tracker.trackLocation(this.settings).subscribe(Te=>this.trackUrlChange(Te.url))}filterDeveloperMode(){return(0,e.p)((me,re)=>!this.settings.developerMode)}trackUrlChange(me){if(this.settings.pageTracking.autoTrackVirtualPages&&!this.matchesExcludedRoute(me)){const re=this.clearUrl(me);let Ee;Ee=this.settings.pageTracking.basePath.length?this.settings.pageTracking.basePath+re:this.tracker.prepareExternalUrl(re),this.pageTrack.next({path:Ee})}}matchesExcludedRoute(me){for(const re of this.settings.pageTracking.excludedRoutes)if(re instanceof RegExp&&re.test(me)||-1!==me.indexOf(re))return!0;return!1}clearUrl(me){return this.settings.pageTracking.clearIds||this.settings.pageTracking.clearQueryParams||this.settings.pageTracking.clearHash?me.split("/").map(re=>this.settings.pageTracking.clearQueryParams?re.split("?")[0]:re).map(re=>this.settings.pageTracking.clearHash?re.split("#")[0]:re).filter(re=>!this.settings.pageTracking.clearIds||!re.match(this.settings.pageTracking.idsRegExp)).join("/"):me}}return De.\u0275fac=function(me){return new(me||De)(i.KVO(f),i.KVO(m))},De.\u0275prov=i.jDH({token:De,factory:De.\u0275fac,providedIn:"root"}),De})(),C=(()=>{class De{}return De.\u0275fac=function(me){return new(me||De)},De.\u0275mod=i.$C({type:De}),De.\u0275inj=i.G2t({}),De})(),R=(()=>{class De{static forRoot(me={}){return{ngModule:De,providers:[{provide:m,useValue:{settings:me}},f,v]}}}return De.\u0275fac=function(me){return new(me||De)},De.\u0275mod=i.$C({type:De}),De.\u0275inj=i.G2t({imports:[[C]]}),De})();class M{constructor(){this.additionalAccountNames=[],this.userId=null,this.transport="",this.anonymizeIp=!1}}let L=(()=>{class De{constructor(me){this.angulartics2=me,this.dimensionsAndMetrics=[];const re=new M;this.angulartics2.settings.ga={...re,...this.angulartics2.settings.ga},this.settings=this.angulartics2.settings.ga,this.angulartics2.setUsername.subscribe(Ee=>this.setUsername(Ee)),this.angulartics2.setUserProperties.subscribe(Ee=>this.setUserProperties(Ee))}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.pageTrack(me.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.eventTrack(me.action,me.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.exceptionTrack(me)),this.angulartics2.userTimings.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.userTimings(me))}pageTrack(me){if(typeof _gaq<"u"&&_gaq){_gaq.push(["_trackPageview",me]);for(const re of this.angulartics2.settings.ga.additionalAccountNames)_gaq.push([re+"._trackPageview",me])}if(typeof ga<"u"&&ga){if(this.angulartics2.settings.ga.userId){ga("set","&uid",this.angulartics2.settings.ga.userId);for(const re of this.angulartics2.settings.ga.additionalAccountNames)ga(re+".set","&uid",this.angulartics2.settings.ga.userId)}if(this.angulartics2.settings.ga.anonymizeIp){ga("set","anonymizeIp",!0);for(const re of this.angulartics2.settings.ga.additionalAccountNames)ga(re+".set","anonymizeIp",!0)}ga("send","pageview",me);for(const re of this.angulartics2.settings.ga.additionalAccountNames)ga(re+".send","pageview",me)}}eventTrack(me,re){if((!re||!re.category)&&((re=re||{}).category="Event"),re.value){const Ee=parseInt(re.value,10);re.value=isNaN(Ee)?0:Ee}if(typeof ga<"u"){const Ee={eventCategory:re.category,eventAction:me,eventLabel:re.label,eventValue:re.value,nonInteraction:re.noninteraction,page:re.page||location.hash.substring(1)||location.pathname,userId:this.angulartics2.settings.ga.userId,hitCallback:re.hitCallback,...this.angulartics2.settings.ga.transport&&{transport:this.angulartics2.settings.ga.transport}};this.setDimensionsAndMetrics(re),ga("send","event",Ee);for(const Te of this.angulartics2.settings.ga.additionalAccountNames)ga(Te+".send","event",Ee)}else typeof _gaq<"u"&&_gaq.push(["_trackEvent",re.category,me,re.label,re.value,re.noninteraction])}exceptionTrack(me){void 0===me.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),me.fatal=!0),me.exDescription=me.description;const re={exFatal:me.fatal,exDescription:me.description};ga("send","exception",re);for(const Ee of this.angulartics2.settings.ga.additionalAccountNames)ga(Ee+".send","exception",re)}userTimings(me){if(me&&me.timingCategory&&me.timingVar&&me.timingValue){if(typeof ga<"u"){ga("send","timing",me);for(const re of this.angulartics2.settings.ga.additionalAccountNames)ga(re+".send","timing",me)}}else console.error("Properties timingCategory, timingVar, and timingValue are required to be set.")}setUsername(me){this.angulartics2.settings.ga.userId=me,!(typeof ga>"u")&&ga("set","userId",me)}setUserProperties(me){this.setDimensionsAndMetrics(me)}setDimensionsAndMetrics(me){typeof ga>"u"||(this.dimensionsAndMetrics.forEach(re=>{me.hasOwnProperty(re)||(ga("set",re,void 0),this.angulartics2.settings.ga.additionalAccountNames.forEach(Ee=>{ga(`${Ee}.set`,re,void 0)}))}),this.dimensionsAndMetrics=[],Object.keys(me).forEach(re=>{(0===re.lastIndexOf("dimension",0)||0===re.lastIndexOf("metric",0))&&(ga("set",re,me[re]),this.angulartics2.settings.ga.additionalAccountNames.forEach(Ee=>{ga(`${Ee}.set`,re,me[re])}),this.dimensionsAndMetrics.push(re))}))}}return De.\u0275fac=function(me){return new(me||De)(i.KVO(v))},De.\u0275prov=i.jDH({token:De,factory:De.\u0275fac,providedIn:"root"}),De})();class k{constructor(){this.userId=null}}let W=(()=>{class De{constructor(me){this.angulartics2=me,typeof dataLayer<"u"&&dataLayer&&(dataLayer=window.dataLayer=window.dataLayer||[]);const re=new k;this.angulartics2.settings.gtm={...re,...this.angulartics2.settings.gtm},this.angulartics2.setUsername.subscribe(Ee=>this.setUsername(Ee))}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.pageTrack(me.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.eventTrack(me.action,me.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.exceptionTrack(me))}pageTrack(me){this.pushLayer({event:"Page View","content-name":me,userId:this.angulartics2.settings.gtm.userId})}pushLayer(me){typeof dataLayer<"u"&&dataLayer&&dataLayer.push(me)}eventTrack(me,re){this.pushLayer({event:(re=re||{}).event||"interaction",target:re.category||"Event",action:me,label:re.label,value:re.value,interactionType:re.noninteraction,userId:this.angulartics2.settings.gtm.userId,...re.gtmCustom})}exceptionTrack(me){me&&me.appId&&me.appName&&me.appVersion?(void 0===me.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),me.exFatal=!0),me.exDescription=me.event?me.event.stack:me.description,this.eventTrack(`Exception thrown for ${me.appName} <${me.appId}@${me.appVersion}>`,{category:"Exception",label:me.exDescription})):console.error("Must be setted appId, appName and appVersion.")}setUsername(me){this.angulartics2.settings.gtm.userId=me}}return De.\u0275fac=function(me){return new(me||De)(i.KVO(v))},De.\u0275prov=i.jDH({token:De,factory:De.\u0275fac,providedIn:"root"}),De})();class U{constructor(){this.trackingIds=[],typeof ga<"u"&&ga&&ga(()=>{ga.getAll().forEach(be=>{const me=be.get("trackingId");void 0!==me&&-1===this.trackingIds.indexOf(me)&&this.trackingIds.push(me)})})}}let K=(()=>{class De{constructor(me){this.angulartics2=me,this.dimensionsAndMetrics={};const re=new U;this.angulartics2.settings.gst={...re,...this.angulartics2.settings.gst}}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.pageTrack(me.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.eventTrack(me.action,me.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.exceptionTrack(me)),this.angulartics2.userTimings.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.userTimings(this.convertTimings(me))),this.angulartics2.setUsername.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.setUsername(me)),this.angulartics2.setUserProperties.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.setUserProperties(me))}pageTrack(me){if(typeof gtag<"u"&&gtag){const re={page_path:me,page_location:window.location.protocol+"//"+window.location.host+me,...this.dimensionsAndMetrics};this.angulartics2.settings.gst.customMap&&(re.custom_map=this.angulartics2.settings.gst.customMap),this.angulartics2.settings.gst.userId&&(re.user_id=this.angulartics2.settings.gst.userId),this.angulartics2.settings.gst.anonymizeIp&&(re.anonymize_ip=this.angulartics2.settings.gst.anonymizeIp);for(const Ee of this.angulartics2.settings.gst.trackingIds)gtag("config",Ee,re)}}eventTrack(me,re={}){this.eventTrackInternal(me,{event_category:re.category||"interaction",event_label:re.label,value:re.value,non_interaction:re.noninteraction,...re.gstCustom})}exceptionTrack(me){void 0===me.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),me.fatal=!0),me.exDescription=me.event?me.event.stack:me.description,this.eventTrack("exception",{gstCustom:{description:me.exDescription,fatal:me.fatal,...me.gstCustom}})}userTimings(me){me?this.eventTrackInternal("timing_complete",{name:me.name,value:me.value,event_category:me.category,event_label:me.label}):console.error('User timings - "properties" parameter is required to be set.')}convertTimings(me){return{name:me.timingVar,value:me.timingValue,category:me.timingCategory,label:me.timingLabel}}setUsername(me){this.angulartics2.settings.gst.userId=me,typeof gtag<"u"&&gtag&&gtag("set",{user_id:"string"!=typeof me&&me?me.userId:me})}setUserProperties(me){this.setDimensionsAndMetrics(me)}setDimensionsAndMetrics(me){this.dimensionsAndMetrics={...this.dimensionsAndMetrics,...me},Object.keys(this.dimensionsAndMetrics).forEach(re=>{null==this.dimensionsAndMetrics[re]&&delete this.dimensionsAndMetrics[re]}),typeof gtag<"u"&&gtag&&gtag("set",this.dimensionsAndMetrics)}eventTrackInternal(me,re={}){this.cleanProperties(re),typeof gtag<"u"&&gtag&&gtag("event",me,re)}cleanProperties(me){if(me.value){const re=parseInt(me.value,10);me.value=isNaN(re)?0:re}}}return De.\u0275fac=function(me){return new(me||De)(i.KVO(v))},De.\u0275prov=i.jDH({token:De,factory:De.\u0275fac,providedIn:"root"}),De})()},93583:(F,D,n)=>{"use strict";n.d(D,{X6:()=>B,UD:()=>ne,Go:()=>f});var i={};n.r(i),n.d(i,{JsonPatchError:()=>p,_areEquals:()=>K,applyOperation:()=>L,applyPatch:()=>B,applyReducer:()=>k,deepClone:()=>x,getValueByPointer:()=>M,validate:()=>U,validator:()=>W});var t={};n.r(t),n.d(t,{compare:()=>ne,generate:()=>ee,observe:()=>Q,unobserve:()=>J});var u=function(){var se=function(ce,De){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(be,me){be.__proto__=me}||function(be,me){for(var re in me)me.hasOwnProperty(re)&&(be[re]=me[re])})(ce,De)};return function(ce,De){function be(){this.constructor=ce}se(ce,De),ce.prototype=null===De?Object.create(De):(be.prototype=De.prototype,new be)}}(),e=Object.prototype.hasOwnProperty;function h(se,ce){return e.call(se,ce)}function m(se){if(Array.isArray(se)){for(var ce=new Array(se.length),De=0;De<ce.length;De++)ce[De]=""+De;return ce}if(Object.keys)return Object.keys(se);var be=[];for(var me in se)h(se,me)&&be.push(me);return be}function f(se){switch(typeof se){case"object":return JSON.parse(JSON.stringify(se));case"undefined":return null;default:return se}}function v(se){for(var be,ce=0,De=se.length;ce<De;){if(!((be=se.charCodeAt(ce))>=48&&be<=57))return!1;ce++}return!0}function E(se){return-1===se.indexOf("/")&&-1===se.indexOf("~")?se:se.replace(/~/g,"~0").replace(/\//g,"~1")}function _(se){return se.replace(/~1/g,"/").replace(/~0/g,"~")}function R(se){if(void 0===se)return!0;if(se)if(Array.isArray(se)){for(var ce=0,De=se.length;ce<De;ce++)if(R(se[ce]))return!0}else if("object"==typeof se)for(var be=m(se),me=be.length,re=0;re<me;re++)if(R(se[be[re]]))return!0;return!1}function T(se,ce){var De=[se];for(var be in ce){var me="object"==typeof ce[be]?JSON.stringify(ce[be],null,2):ce[be];typeof me<"u"&&De.push(be+": "+me)}return De.join("\n")}var A=function(se){function ce(De,be,me,re,Ee){var Te=this.constructor,tt=se.call(this,T(De,{name:be,index:me,operation:re,tree:Ee}))||this;return tt.name=be,tt.index=me,tt.operation=re,tt.tree=Ee,Object.setPrototypeOf(tt,Te.prototype),tt.message=T(De,{name:be,index:me,operation:re,tree:Ee}),tt}return u(ce,se),ce}(Error),p=A,x=f,O={add:function(se,ce,De){return se[ce]=this.value,{newDocument:De}},remove:function(se,ce,De){var be=se[ce];return delete se[ce],{newDocument:De,removed:be}},replace:function(se,ce,De){var be=se[ce];return se[ce]=this.value,{newDocument:De,removed:be}},move:function(se,ce,De){var be=M(De,this.path);be&&(be=f(be));var me=L(De,{op:"remove",path:this.from}).removed;return L(De,{op:"add",path:this.path,value:me}),{newDocument:De,removed:be}},copy:function(se,ce,De){var be=M(De,this.from);return L(De,{op:"add",path:this.path,value:f(be)}),{newDocument:De}},test:function(se,ce,De){return{newDocument:De,test:K(se[ce],this.value)}},_get:function(se,ce,De){return this.value=se[ce],{newDocument:De}}},w={add:function(se,ce,De){return v(ce)?se.splice(ce,0,this.value):se[ce]=this.value,{newDocument:De,index:ce}},remove:function(se,ce,De){return{newDocument:De,removed:se.splice(ce,1)[0]}},replace:function(se,ce,De){var be=se[ce];return se[ce]=this.value,{newDocument:De,removed:be}},move:O.move,copy:O.copy,test:O.test,_get:O._get};function M(se,ce){if(""==ce)return se;var De={op:"_get",path:ce};return L(se,De),De.value}function L(se,ce,De,be,me,re){if(void 0===De&&(De=!1),void 0===be&&(be=!0),void 0===me&&(me=!0),void 0===re&&(re=0),De&&("function"==typeof De?De(ce,0,se,ce.path):W(ce,0)),""===ce.path){var Ee={newDocument:se};if("add"===ce.op)return Ee.newDocument=ce.value,Ee;if("replace"===ce.op)return Ee.newDocument=ce.value,Ee.removed=se,Ee;if("move"===ce.op||"copy"===ce.op)return Ee.newDocument=M(se,ce.from),"move"===ce.op&&(Ee.removed=se),Ee;if("test"===ce.op){if(Ee.test=K(se,ce.value),!1===Ee.test)throw new p("Test operation failed","TEST_OPERATION_FAILED",re,ce,se);return Ee.newDocument=se,Ee}if("remove"===ce.op)return Ee.removed=se,Ee.newDocument=null,Ee;if("_get"===ce.op)return ce.value=se,Ee;if(De)throw new p("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",re,ce,se);return Ee}be||(se=f(se));var tt=(ce.path||"").split("/"),ht=se,Fe=1,Et=tt.length,Ye=void 0,pt=void 0,Mt=void 0;for(Mt="function"==typeof De?De:W;;){if((pt=tt[Fe])&&-1!=pt.indexOf("~")&&(pt=_(pt)),me&&("__proto__"==pt||"prototype"==pt&&Fe>0&&"constructor"==tt[Fe-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(De&&void 0===Ye&&(void 0===ht[pt]?Ye=tt.slice(0,Fe).join("/"):Fe==Et-1&&(Ye=ce.path),void 0!==Ye&&Mt(ce,0,se,Ye)),Fe++,Array.isArray(ht)){if("-"===pt)pt=ht.length;else{if(De&&!v(pt))throw new p("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",re,ce,se);v(pt)&&(pt=~~pt)}if(Fe>=Et){if(De&&"add"===ce.op&&pt>ht.length)throw new p("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",re,ce,se);if(!1===(Ee=w[ce.op].call(ce,ht,pt,se)).test)throw new p("Test operation failed","TEST_OPERATION_FAILED",re,ce,se);return Ee}}else if(Fe>=Et){if(!1===(Ee=O[ce.op].call(ce,ht,pt,se)).test)throw new p("Test operation failed","TEST_OPERATION_FAILED",re,ce,se);return Ee}if(ht=ht[pt],De&&Fe<Et&&(!ht||"object"!=typeof ht))throw new p("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",re,ce,se)}}function B(se,ce,De,be,me){if(void 0===be&&(be=!0),void 0===me&&(me=!0),De&&!Array.isArray(ce))throw new p("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");be||(se=f(se));for(var re=new Array(ce.length),Ee=0,Te=ce.length;Ee<Te;Ee++)re[Ee]=L(se,ce[Ee],De,!0,me,Ee),se=re[Ee].newDocument;return re.newDocument=se,re}function k(se,ce,De){var be=L(se,ce);if(!1===be.test)throw new p("Test operation failed","TEST_OPERATION_FAILED",De,ce,se);return be.newDocument}function W(se,ce,De,be){if("object"!=typeof se||null===se||Array.isArray(se))throw new p("Operation is not an object","OPERATION_NOT_AN_OBJECT",ce,se,De);if(!O[se.op])throw new p("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",ce,se,De);if("string"!=typeof se.path)throw new p("Operation `path` property is not a string","OPERATION_PATH_INVALID",ce,se,De);if(0!==se.path.indexOf("/")&&se.path.length>0)throw new p('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",ce,se,De);if(("move"===se.op||"copy"===se.op)&&"string"!=typeof se.from)throw new p("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",ce,se,De);if(("add"===se.op||"replace"===se.op||"test"===se.op)&&void 0===se.value)throw new p("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",ce,se,De);if(("add"===se.op||"replace"===se.op||"test"===se.op)&&R(se.value))throw new p("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",ce,se,De);if(De)if("add"==se.op){var me=se.path.split("/").length,re=be.split("/").length;if(me!==re+1&&me!==re)throw new p("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",ce,se,De)}else if("replace"===se.op||"remove"===se.op||"_get"===se.op){if(se.path!==be)throw new p("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",ce,se,De)}else if("move"===se.op||"copy"===se.op){var Te=U([{op:"_get",path:se.from,value:void 0}],De);if(Te&&"OPERATION_PATH_UNRESOLVABLE"===Te.name)throw new p("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",ce,se,De)}}function U(se,ce,De){try{if(!Array.isArray(se))throw new p("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(ce)B(f(ce),f(se),De||!0);else{De=De||W;for(var be=0;be<se.length;be++)De(se[be],be,ce,void 0)}}catch(me){if(me instanceof p)return me;throw me}}function K(se,ce){if(se===ce)return!0;if(se&&ce&&"object"==typeof se&&"object"==typeof ce){var me,re,Ee,De=Array.isArray(se),be=Array.isArray(ce);if(De&&be){if((re=se.length)!=ce.length)return!1;for(me=re;0!=me--;)if(!K(se[me],ce[me]))return!1;return!0}if(De!=be)return!1;var Te=Object.keys(se);if((re=Te.length)!==Object.keys(ce).length)return!1;for(me=re;0!=me--;)if(!ce.hasOwnProperty(Te[me]))return!1;for(me=re;0!=me--;)if(!K(se[Ee=Te[me]],ce[Ee]))return!1;return!0}return se!=se&&ce!=ce}var Y=new WeakMap,G=function(){return function se(ce){this.observers=new Map,this.obj=ce}}(),q=function(){return function se(ce,De){this.callback=ce,this.observer=De}}();function J(se,ce){ce.unobserve()}function Q(se,ce){var be,me=function z(se){return Y.get(se)}(se);if(me){var re=function te(se,ce){return se.observers.get(ce)}(me,ce);be=re&&re.observer}else me=new G(se),Y.set(se,me);if(be)return be;if(be={},me.value=f(se),ce){be.callback=ce,be.next=null;var Ee=function(){ee(be)},Te=function(){clearTimeout(be.next),be.next=setTimeout(Ee)};typeof window<"u"&&(window.addEventListener("mouseup",Te),window.addEventListener("keyup",Te),window.addEventListener("mousedown",Te),window.addEventListener("keydown",Te),window.addEventListener("change",Te))}return be.patches=[],be.object=se,be.unobserve=function(){ee(be),clearTimeout(be.next),function Z(se,ce){se.observers.delete(ce.callback)}(me,be),typeof window<"u"&&(window.removeEventListener("mouseup",Te),window.removeEventListener("keyup",Te),window.removeEventListener("mousedown",Te),window.removeEventListener("keydown",Te),window.removeEventListener("change",Te))},me.observers.set(ce,new q(ce,be)),be}function ee(se,ce){void 0===ce&&(ce=!1);var De=Y.get(se.object);le(De.value,se.object,se.patches,"",ce),se.patches.length&&B(De.value,se.patches);var be=se.patches;return be.length>0&&(se.patches=[],se.callback&&se.callback(be)),be}function le(se,ce,De,be,me){if(ce!==se){"function"==typeof ce.toJSON&&(ce=ce.toJSON());for(var re=m(ce),Ee=m(se),tt=!1,ht=Ee.length-1;ht>=0;ht--){var Et=se[Fe=Ee[ht]];if(!h(ce,Fe)||void 0===ce[Fe]&&void 0!==Et&&!1===Array.isArray(ce))Array.isArray(se)===Array.isArray(ce)?(me&&De.push({op:"test",path:be+"/"+E(Fe),value:f(Et)}),De.push({op:"remove",path:be+"/"+E(Fe)}),tt=!0):(me&&De.push({op:"test",path:be,value:se}),De.push({op:"replace",path:be,value:ce}));else{var Ye=ce[Fe];"object"==typeof Et&&null!=Et&&"object"==typeof Ye&&null!=Ye&&Array.isArray(Et)===Array.isArray(Ye)?le(Et,Ye,De,be+"/"+E(Fe),me):Et!==Ye&&(me&&De.push({op:"test",path:be+"/"+E(Fe),value:f(Et)}),De.push({op:"replace",path:be+"/"+E(Fe),value:f(Ye)}))}}if(tt||re.length!=Ee.length)for(ht=0;ht<re.length;ht++){var Fe;!h(se,Fe=re[ht])&&void 0!==ce[Fe]&&De.push({op:"add",path:be+"/"+E(Fe),value:f(ce[Fe])})}}}function ne(se,ce,De){void 0===De&&(De=!1);var be=[];return le(se,ce,be,"",De),be}Object.assign({},i,t,{JsonPatchError:A,deepClone:f,escapePathComponent:E,unescapePathComponent:_})},27200:(F,D,n)=>{"use strict";n.d(D,{Ff:()=>v,UJ:()=>E,eB:()=>_,l0:()=>f});var i=n(54438),t=n(60177);class u{constructor(I){this.rawFile=I;const R=I instanceof HTMLInputElement?I.value:I;this["_createFrom"+("string"==typeof R?"FakePath":"Object")](R)}_createFromFakePath(I){this.lastModifiedDate=void 0,this.size=void 0,this.type=`like/${I.slice(I.lastIndexOf(".")+1).toLowerCase()}`,this.name=I.slice(I.lastIndexOf("/")+I.lastIndexOf("\\")+2)}_createFromObject(I){this.size=I.size,this.type=I.type,this.name=I.name}}class e{constructor(I,R,T){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.uploader=I,this.some=R,this.options=T,this.file=new u(R),this._file=R,I.options&&(this.method=I.options.method||"POST",this.alias=I.options.itemAlias||"file"),this.url=I.options.url}upload(){try{this.uploader.uploadItem(this)}catch{this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}}cancel(){this.uploader.cancelItem(this)}remove(){this.uploader.removeFromQueue(this)}onBeforeUpload(){}onBuildForm(I){return{form:I}}onProgress(I){return{progress:I}}onSuccess(I,R,T){return{response:I,status:R,headers:T}}onError(I,R,T){return{response:I,status:R,headers:T}}onCancel(I,R,T){return{response:I,status:R,headers:T}}onComplete(I,R,T){return{response:I,status:R,headers:T}}_onBeforeUpload(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}_onBuildForm(I){this.onBuildForm(I)}_onProgress(I){this.progress=I,this.onProgress(I)}_onSuccess(I,R,T){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(I,R,T)}_onError(I,R,T){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(I,R,T)}_onCancel(I,R,T){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(I,R,T)}_onComplete(I,R,T){this.onComplete(I,R,T),this.uploader.options.removeAfterUpload&&this.remove()}_prepareToUploading(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}}let h=(()=>{class C{static{this.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"]}static{this.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"]}static{this.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"]}static{this.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"]}static{this.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"]}static getMimeClass(R){let T="application";return R?.type&&-1!==this.mime_psd.indexOf(R.type)||R?.type?.match("image.*")?T="image":R?.type?.match("video.*")?T="video":R?.type?.match("audio.*")?T="audio":"application/pdf"===R?.type?T="pdf":R?.type&&-1!==this.mime_compress.indexOf(R.type)?T="compress":R?.type&&-1!==this.mime_doc.indexOf(R.type)?T="doc":R?.type&&-1!==this.mime_xsl.indexOf(R.type)?T="xls":R?.type&&-1!==this.mime_ppt.indexOf(R.type)&&(T="ppt"),"application"===T&&R?.name&&(T=this.fileTypeDetection(R.name)),T}static fileTypeDetection(R){const T={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},A=R.split(".");if(A.length<2)return"application";const p=A[A.length-1].toLowerCase();return void 0===T[p]?"application":T[p]}}return C})();class f{constructor(I){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:R=>R._file,formatDataFunctionIsAsync:!1,url:""},this.setOptions(I),this.response=new i.bkB}setOptions(I){this.options=Object.assign(this.options,I),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters?.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters?.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters?.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters?.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(let R=0;R<this.queue.length;R++)this.queue[R].url=this.options.url}addToQueue(I,R,T){let A=R;const p=[];for(const M of I)p.push(M);const x=this._getFilters(T),O=this.queue.length,w=[];p.map(M=>{A||(A=this.options);const L=new u(M);if(this._isValidFile(L,x,A)){const B=new e(this,M,A);w.push(B),this.queue.push(B),this._onAfterAddingFile(B)}else"number"==typeof this._failFilterIndex&&this._failFilterIndex>=0&&this._onWhenAddingFileFailed(L,x[this._failFilterIndex],A)}),this.queue.length!==O&&(this._onAfterAddingAll(w),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()}removeFromQueue(I){const R=this.getIndexOfItem(I),T=this.queue[R];T.isUploading&&T.cancel(),this.queue.splice(R,1),this.progress=this._getTotalProgress()}clearQueue(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}uploadItem(I){const R=this.getIndexOfItem(I),T=this.queue[R],A=this.options.isHTML5?"_xhrTransport":"_iframeTransport";T._prepareToUploading(),!this.isUploading&&(this.isUploading=!0,this[A](T))}cancelItem(I){const R=this.getIndexOfItem(I),T=this.queue[R];T&&T.isUploading&&(this.options.isHTML5?T._xhr:T._form).abort()}uploadAll(){const I=this.getNotUploadedItems().filter(R=>!R.isUploading);I.length&&(I.map(R=>R._prepareToUploading()),I[0].upload())}cancelAll(){this.getNotUploadedItems().map(R=>R.cancel())}isFile(I){return function m(C){return File&&C instanceof File}(I)}isFileLikeObject(I){return I instanceof u}getIndexOfItem(I){return"number"==typeof I?I:this.queue.indexOf(I)}getNotUploadedItems(){return this.queue.filter(I=>!I.isUploaded)}getReadyItems(){return this.queue.filter(I=>I.isReady&&!I.isUploading).sort((I,R)=>I.index-R.index)}onAfterAddingAll(I){return{fileItems:I}}onBuildItemForm(I,R){return{fileItem:I,form:R}}onAfterAddingFile(I){return{fileItem:I}}onWhenAddingFileFailed(I,R,T){return{item:I,filter:R,options:T}}onBeforeUploadItem(I){return{fileItem:I}}onProgressItem(I,R){return{fileItem:I,progress:R}}onProgressAll(I){return{progress:I}}onSuccessItem(I,R,T,A){return{item:I,response:R,status:T,headers:A}}onErrorItem(I,R,T,A){return{item:I,response:R,status:T,headers:A}}onCancelItem(I,R,T,A){return{item:I,response:R,status:T,headers:A}}onCompleteItem(I,R,T,A){return{item:I,response:R,status:T,headers:A}}onCompleteAll(){}_mimeTypeFilter(I){return!(I?.type&&this.options.allowedMimeType&&-1===this.options.allowedMimeType?.indexOf(I.type))}_fileSizeFilter(I){return!(this.options.maxFileSize&&I.size>this.options.maxFileSize)}_fileTypeFilter(I){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(h.getMimeClass(I)))}_onErrorItem(I,R,T,A){I._onError(R,T,A),this.onErrorItem(I,R,T,A)}_onCompleteItem(I,R,T,A){I._onComplete(R,T,A),this.onCompleteItem(I,R,T,A);const p=this.getReadyItems()[0];this.isUploading=!1,p?p.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}_headersGetter(I){return R=>R?I[R.toLowerCase()]||void 0:I}_xhrTransport(I){const R=this,T=I._xhr=new XMLHttpRequest;let A;if(this._onBeforeUploadItem(I),"number"!=typeof I._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)this.options.formatDataFunction&&(A=this.options.formatDataFunction(I));else{A=new FormData,this._onBuildItemForm(I,A);const p=()=>A.append(I.alias,I._file,I.file.name);this.options.parametersBeforeFiles||p(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(x=>{let O=this.options.additionalParameter?.[x];"string"==typeof O&&O.indexOf("{{file_name}}")>=0&&I.file?.name&&(O=O.replace("{{file_name}}",I.file.name)),A.append(x,O)}),p&&this.options.parametersBeforeFiles&&p()}if(T.upload.onprogress=p=>{const x=Math.round(p.lengthComputable?100*p.loaded/p.total:0);this._onProgressItem(I,x)},T.onload=()=>{const p=this._parseHeaders(T.getAllResponseHeaders()),x=this._transformResponse(T.response,p);this[`_on${this._isSuccessCode(T.status)?"Success":"Error"}Item`](I,x,T.status,p),this._onCompleteItem(I,x,T.status,p)},T.onerror=()=>{const p=this._parseHeaders(T.getAllResponseHeaders()),x=this._transformResponse(T.response,p);this._onErrorItem(I,x,T.status,p),this._onCompleteItem(I,x,T.status,p)},T.onabort=()=>{const p=this._parseHeaders(T.getAllResponseHeaders()),x=this._transformResponse(T.response,p);this._onCancelItem(I,x,T.status,p),this._onCompleteItem(I,x,T.status,p)},I.method&&I.url&&T.open(I.method,I.url,!0),T.withCredentials=I.withCredentials,this.options.headers)for(const p of this.options.headers)T.setRequestHeader(p.name,p.value);if(I.headers.length)for(const p of I.headers)T.setRequestHeader(p.name,p.value);this.authToken&&this.authTokenHeader&&T.setRequestHeader(this.authTokenHeader,this.authToken),T.onreadystatechange=function(){T.readyState==XMLHttpRequest.DONE&&R.response.emit(T.responseText)},this.options.formatDataFunctionIsAsync?A.then(p=>T.send(JSON.stringify(p))):T.send(A),this._render()}_getTotalProgress(I=0){if(this.options.removeAfterUpload)return I;const R=this.getNotUploadedItems().length,A=100/this.queue.length;return Math.round((R?this.queue.length-R:this.queue.length)*A+I*A/100)}_getFilters(I){if(!I)return this.options?.filters||[];if(Array.isArray(I))return I;if("string"==typeof I){const R=I.match(/[^\s,]+/g);return this.options?.filters||[].filter(T=>-1!==R?.indexOf(T.name))}return this.options?.filters||[]}_render(){}_queueLimitFilter(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit}_isValidFile(I,R,T){return this._failFilterIndex=-1,!R.length||R.every(A=>("number"==typeof this._failFilterIndex&&this._failFilterIndex++,A.fn.call(this,I,T)))}_isSuccessCode(I){return I>=200&&I<300||304===I}_transformResponse(I,R){return I}_parseHeaders(I){const R={};let T,A,p;return I&&I.split("\n").map(x=>{p=x.indexOf(":"),T=x.slice(0,p).trim().toLowerCase(),A=x.slice(p+1).trim(),T&&(R[T]=R[T]?R[T]+", "+A:A)}),R}_onWhenAddingFileFailed(I,R,T){this.onWhenAddingFileFailed(I,R,T)}_onAfterAddingFile(I){this.onAfterAddingFile(I)}_onAfterAddingAll(I){this.onAfterAddingAll(I)}_onBeforeUploadItem(I){I._onBeforeUpload(),this.onBeforeUploadItem(I)}_onBuildItemForm(I,R){I._onBuildForm(R),this.onBuildItemForm(I,R)}_onProgressItem(I,R){const T=this._getTotalProgress(R);this.progress=T,I._onProgress(R),this.onProgressItem(I,R),this.onProgressAll(T),this._render()}_onSuccessItem(I,R,T,A){I._onSuccess(R,T,A),this.onSuccessItem(I,R,T,A)}_onCancelItem(I,R,T,A){I._onCancel(R,T,A),this.onCancelItem(I,R,T,A)}}let v=(()=>{class C{constructor(R){this.fileOver=new i.bkB,this.onFileDrop=new i.bkB,this.element=R}getOptions(){return this.uploader?.options}getFilters(){return""}onDrop(R){const T=this._getTransfer(R);if(!T)return;const A=this.getOptions(),p=this.getFilters();this._preventAndStop(R),A&&this.uploader?.addToQueue(T.files,A,p),this.fileOver.emit(!1),this.onFileDrop.emit(T.files)}onDragOver(R){const T=this._getTransfer(R);this._haveFiles(T.types)&&(T.dropEffect="copy",this._preventAndStop(R),this.fileOver.emit(!0))}onDragLeave(R){this.element&&R.currentTarget===this.element[0]||(this._preventAndStop(R),this.fileOver.emit(!1))}_getTransfer(R){return R.dataTransfer?R.dataTransfer:R.originalEvent.dataTransfer}_preventAndStop(R){R.preventDefault(),R.stopPropagation()}_haveFiles(R){return!!R&&(R.indexOf?-1!==R.indexOf("Files"):!!R.contains&&R.contains("Files"))}static{this.\u0275fac=function(T){return new(T||C)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:C,selectors:[["","ng2FileDrop",""]],hostBindings:function(T,A){1&T&&i.bIt("drop",function(x){return A.onDrop(x)})("dragover",function(x){return A.onDragOver(x)})("dragleave",function(x){return A.onDragLeave(x)})},inputs:{uploader:"uploader"},outputs:{fileOver:"fileOver",onFileDrop:"onFileDrop"}})}}return C})(),E=(()=>{class C{constructor(R){this.onFileSelected=new i.bkB,this.element=R}getOptions(){return this.uploader?.options}getFilters(){return""}isEmptyAfterSelection(){return!!this.element.nativeElement.attributes.multiple}onChange(){const R=this.element.nativeElement.files,T=this.getOptions(),A=this.getFilters();this.uploader?.addToQueue(R,T,A),this.onFileSelected.emit(R),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")}static{this.\u0275fac=function(T){return new(T||C)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:C,selectors:[["","ng2FileSelect",""]],hostBindings:function(T,A){1&T&&i.bIt("change",function(){return A.onChange()})},inputs:{uploader:"uploader"},outputs:{onFileSelected:"onFileSelected"}})}}return C})(),_=(()=>{class C{static{this.\u0275fac=function(T){return new(T||C)}}static{this.\u0275mod=i.$C({type:C})}static{this.\u0275inj=i.G2t({imports:[t.MD]})}}return C})()},86820:(F,D,n)=>{"use strict";n.d(D,{DP:()=>Ye,eO:()=>Mt});var i=n(54438),t=n(7673),u=n(33726),e=n(73028),h=n(96354),m=n(88141),f=n(5964),v=n(43236),E=n(39974),_=n(54360),C=n(58750),R=n(41584);function p(Ne,rt,Gt,Zt){const mt=window&&!!window.document&&window.document.documentElement;let Pt=mt&&rt?window:Gt;if(Ne&&(Pt=Ne&&mt&&"string"==typeof Ne?function x(Ne,rt,Gt){return(Gt?window.document:rt).querySelector(Ne)}(Ne,Gt.nativeElement,Zt):Ne,!Pt))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return Pt}function O(Ne){return Ne&&!Ne.firstChange}const M={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},L={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class B{constructor(rt=!0){this.vertical=rt,this.propsMap=rt?M:L}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function K(Ne){return["Window","global"].some(Gt=>Object.prototype.toString.call(Ne).includes(Gt))}function Y(Ne,rt){return Ne?rt.document.documentElement:null}function G(Ne,rt){const Gt=function Z({container:Ne,isWindow:rt,axis:Gt}){const{offsetHeightKey:Zt,clientHeightKey:mt}=te(Gt);return J(Ne,rt,Zt,mt)}(rt);return rt.isWindow?function q(Ne,rt,Gt){const{axis:Zt,container:mt,isWindow:Pt}=Gt,{offsetHeightKey:Ce,clientHeightKey:je}=te(Zt),ut=Ne+ee(Y(Pt,mt),Zt,Pt),hn=J(rt.nativeElement,Pt,Ce,je),an=function Q(Ne,rt,Gt){const Zt=rt.topKey();if(Ne.getBoundingClientRect)return Ne.getBoundingClientRect()[Zt]+ee(Ne,rt,Gt)}(rt.nativeElement,Zt,Pt)+hn;return{height:Ne,scrolled:ut,totalToScroll:an,isWindow:Pt}}(Gt,Ne,rt):function z(Ne,rt,Gt){const{axis:Zt,container:mt}=Gt;return{height:Ne,scrolled:mt[Zt.scrollTopKey()],totalToScroll:mt[Zt.scrollHeightKey()],isWindow:!1}}(Gt,0,rt)}function te(Ne){return{offsetHeightKey:Ne.offsetHeightKey(),clientHeightKey:Ne.clientHeightKey()}}function J(Ne,rt,Gt,Zt){if(isNaN(Ne[Gt])){const mt=Y(rt,Ne);return mt?mt[Zt]:0}return Ne[Gt]}function ee(Ne,rt,Gt){const Zt=rt.pageYOffsetKey(),mt=rt.scrollTopKey(),Pt=rt.offsetTopKey();return isNaN(window.pageYOffset)?Y(Gt,Ne)[mt]:Ne.ownerDocument?Ne.ownerDocument.defaultView[Zt]:Ne[Pt]}function le(Ne,rt={down:0,up:0},Gt){let Zt,mt;if(Ne.totalToScroll<=0)return!1;const Pt=Ne.isWindow?Ne.scrolled:Ne.height+Ne.scrolled;return Gt?(Zt=(Ne.totalToScroll-Pt)/Ne.totalToScroll,mt=(rt?.down?rt.down:0)/10):(Zt=Ne.scrolled/(Ne.scrolled+(Ne.totalToScroll-Pt)),mt=(rt?.up?rt.up:0)/10),Zt<=mt}class Ee{constructor({totalToScroll:rt}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=rt}updateScrollPosition(rt){return this.lastScrollPosition=rt}updateTotalToScroll(rt){this.lastTotalToScroll!==rt&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=rt)}updateScroll(rt,Gt){this.updateScrollPosition(rt),this.updateTotalToScroll(Gt)}updateTriggeredFlag(rt,Gt){Gt?this.triggered.down=rt:this.triggered.up=rt}isTriggeredScroll(rt,Gt){return Gt?this.triggered.down===rt:this.triggered.up===rt}}function Te(Ne){const{scrollContainer:rt,scrollWindow:Gt,element:Zt,fromRoot:mt}=Ne,Pt=function W({windowElement:Ne,axis:rt}){return function U(Ne,rt){const Gt=Ne.isWindow||rt&&!rt.nativeElement?rt:rt.nativeElement;return{...Ne,container:Gt}}({axis:rt,isWindow:K(Ne)},Ne)}({axis:new B(!Ne.horizontal),windowElement:p(rt,Gt,Zt,mt)}),Ce=new Ee({totalToScroll:G(Zt,Pt)}),ut={up:Ne.upDistance,down:Ne.downDistance};return function tt(Ne){let rt=(0,u.R)(Ne.container,"scroll");return Ne.throttle&&(rt=rt.pipe(function T(Ne,rt=v.E,Gt){const Zt=(0,R.O)(Ne,rt);return function I(Ne,rt){return(0,E.N)((Gt,Zt)=>{const{leading:mt=!0,trailing:Pt=!1}=rt??{};let Ce=!1,je=null,ut=null,hn=!1;const an=()=>{ut?.unsubscribe(),ut=null,Pt&&(Kt(),hn&&Zt.complete())},Pn=()=>{ut=null,hn&&Zt.complete()},yt=Rt=>ut=(0,C.Tg)(Ne(Rt)).subscribe((0,_._)(Zt,an,Pn)),Kt=()=>{if(Ce){Ce=!1;const Rt=je;je=null,Zt.next(Rt),!hn&&yt(Rt)}};Gt.subscribe((0,_._)(Zt,Rt=>{Ce=!0,je=Rt,(!ut||ut.closed)&&(mt?Kt():yt(Rt))},()=>{hn=!0,(!(Pt&&Ce&&ut)||ut.closed)&&Zt.complete()}))})}(()=>Zt,Gt)}(Ne.throttle,void 0,{leading:!0,trailing:!0}))),rt}({container:Pt.container,throttle:Ne.throttle}).pipe((0,e.Z)(()=>(0,t.of)(G(Zt,Pt))),(0,h.T)(hn=>function ht(Ne,rt,Gt){const{scrollDown:Zt,fire:mt}=function fe(Ne,rt,Gt){const Zt=function ne(Ne,rt){return Ne<rt.scrolled}(Ne,rt);return{fire:le(rt,Gt,Zt),scrollDown:Zt}}(Ne,rt,Gt);return{scrollDown:Zt,fire:mt,stats:rt}}(Ce.lastScrollPosition,hn,ut)),(0,m.M)(({stats:hn})=>Ce.updateScroll(hn.scrolled,hn.totalToScroll)),(0,f.p)(({fire:hn,scrollDown:an,stats:{totalToScroll:Pn}})=>function k(Ne,rt,Gt){return!!(Ne&&rt||!Gt&&rt)}(Ne.alwaysCallback,hn,Ce.isTriggeredScroll(Pn,an))),(0,m.M)(({scrollDown:hn,stats:{totalToScroll:an}})=>{Ce.updateTriggeredFlag(an,hn)}),(0,h.T)(Et))}const Fe={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function Et(Ne){const{scrollDown:rt,stats:{scrolled:Gt}}=Ne;return{type:rt?Fe.DOWN:Fe.UP,payload:{currentScrollPosition:Gt}}}let Ye=(()=>{class Ne{constructor(Gt,Zt){this.element=Gt,this.zone=Zt,this.scrolled=new i.bkB,this.scrolledUp=new i.bkB,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:Gt,infiniteScrollDisabled:Zt,infiniteScrollDistance:mt}){const Pt=O(Gt),Ce=O(Zt),je=O(mt),ut=!Ce&&!this.infiniteScrollDisabled||Ce&&!Zt.currentValue||je;(Pt||Ce||je)&&(this.destroyScroller(),ut&&this.setup())}setup(){(function w(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=Te({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(Gt=>this.handleOnScroll(Gt))})}handleOnScroll({type:Gt,payload:Zt}){const mt=Gt===Fe.DOWN?this.scrolled:this.scrolledUp;(function pt(Ne){return Ne.observed??Ne.observers.length>0})(mt)&&this.zone.run(()=>mt.emit(Zt))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}static{this.\u0275fac=function(Zt){return new(Zt||Ne)(i.rXU(i.aKT),i.rXU(i.SKi))}}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[i.OA$]})}}return Ne})(),Mt=(()=>{class Ne{static{this.\u0275fac=function(Zt){return new(Zt||Ne)}}static{this.\u0275mod=i.$C({type:Ne})}static{this.\u0275inj=i.G2t({})}}return Ne})()},85188:(F,D,n)=>{"use strict";n.d(D,{Dz:()=>v,I0:()=>R,mB:()=>p});var i=n(74523),t=n(54438),u=n(89417),e=n(60177);const h=new t.nKC("ngx-mask config"),m=new t.nKC("new ngx-mask config"),f=new t.nKC("initial ngx-mask config"),v={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,triggerOnMaskChange:!1,maskFilled:new t.bkB,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},E=["Hh:m0:s0","Hh:m0","m0:s0"],_=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let C=(()=>{class O{constructor(M){this._config=M,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(L,B,k,W)=>{let U=[],K="";if(Array.isArray(k)){const te=new RegExp(k.map(Z=>"[\\^$.|?*+()".indexOf(Z)>=0?`\\${Z}`:Z).join("|"));U=L.split(te),K=L.match(te)?.[0]??""}else U=L.split(k),K=k;const Y=U.length>1?`${K}${U[1]}`:"";let G=U[0]??"";const q=this.separatorLimit.replace(/\s/g,"");q&&+q&&(G="-"===G[0]?`-${G.slice(1,G.length).slice(0,q.length)}`:G.slice(0,q.length));const z=/(\d+)(\d{3})/;for(;B&&z.test(G);)G=G.replace(z,"$1"+B+"$2");return void 0===W?G+Y:0===W?G:G+Y.substring(0,W+1)},this.percentage=L=>Number(L)>=0&&Number(L)<=100,this.getPrecision=L=>{const B=L.split(".");return B.length>1?Number(B[B.length-1]):1/0},this.checkAndRemoveSuffix=L=>{for(let B=this.suffix?.length-1;B>=0;B--){const k=this.suffix.substring(B,this.suffix?.length);if(L.includes(k)&&B!==this.suffix?.length-1&&(B-1<0||!L.includes(this.suffix.substring(B-1,this.suffix?.length))))return L.replace(k,"")}return L},this.checkInputPrecision=(L,B,k)=>{if(B<1/0){if(Array.isArray(k)){const Y=k.find(G=>G!==this.thousandSeparator);k=Y||k[0]}const W=new RegExp(this._charToRegExpExpression(k)+`\\d{${B}}.*$`),K=(L.match(W)??[])[0]?.length??0;K-1>B&&(L=L.substring(0,L.length-(K-1-B))),0===B&&this._compareOrIncludes(L[L.length-1],k,this.thousandSeparator)&&(L=L.substring(0,L.length-1))}return L},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(M,L){const[B,k]=L;return this.customPattern=k,this.applyMask(M,B)}applyMask(M,L,B=0,k=!1,W=!1,U=(()=>{})){if(!L||"string"!=typeof M)return"";let K=0,Y="",G=!1,q=!1,z=1,te=!1;M.slice(0,this.prefix.length)===this.prefix&&(M=M.slice(this.prefix.length,M.length)),this.suffix&&M?.length>0&&(M=this.checkAndRemoveSuffix(M));const Z=M.toString().split("");if("IP"===L){const fe=M.split(".");this.ipError=this._validIP(fe),L="099.099.099.099"}const J=[];for(let fe=0;fe<M.length;fe++)M[fe]?.match("\\d")&&J.push(M[fe]??"");if("CPF_CNPJ"===L&&(this.cpfCnpjError=11!==J.length&&14!==J.length,L=J.length>11?"00.000.000/0000-00":"000.000.000-00"),L.startsWith("percent")){if(M.match("[a-z]|[A-Z]")||M.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){M=this._stripToDecimal(M);const fe=this.getPrecision(L);M=this.checkInputPrecision(M,fe,this.decimalMarker)}M.indexOf(".")>0&&!this.percentage(M.substring(0,M.indexOf(".")))&&(M=`${M.substring(0,M.indexOf(".")-1)}${M.substring(M.indexOf("."),M.length)}`),Y=this.percentage(M)?M:M.substring(0,M.length-1)}else if(L.startsWith("separator")){(M.match("[w\u0430-\u044f\u0410-\u042f]")||M.match("[\u0401\u0451\u0410-\u044f]")||M.match("[a-z]|[A-Z]")||M.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\]:";<>.?/]/)||M.match("[^A-Za-z0-9,]"))&&(M=this._stripToDecimal(M)),M=M.length>1&&"0"===M[0]&&M[1]!==this.thousandSeparator&&!this._compareOrIncludes(M[1],this.decimalMarker,this.thousandSeparator)&&!W?M.slice(0,M.length-1):M,W&&(M=this._compareOrIncludes(M[M.length-1],this.decimalMarker,this.thousandSeparator)?M.slice(0,M.length-1):M);const fe=this._charToRegExpExpression(this.thousandSeparator);let se='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(fe,"");if(Array.isArray(this.decimalMarker))for(const Ee of this.decimalMarker)se=se.replace(this._charToRegExpExpression(Ee),"");else se=se.replace(this._charToRegExpExpression(this.decimalMarker),"");const ce=new RegExp("["+se+"]");(M.match(ce)||1===M.length&&this._compareOrIncludes(M,this.decimalMarker,this.thousandSeparator))&&(M=M.substring(0,M.length-1));const De=this.getPrecision(L),be=(M=this.checkInputPrecision(M,De,this.decimalMarker)).replace(new RegExp(fe,"g"),"");Y=this._formatWithSeparators(be,this.thousandSeparator,this.decimalMarker,De);const me=Y.indexOf(",")-M.indexOf(","),re=Y.length-M.length;if(re>0&&","!==Y[B]){q=!0;let Ee=0;do{this._shift.add(B+Ee),Ee++}while(Ee<re)}else 0!==me&&B>0&&!(Y.indexOf(",")>=B&&B>3)||!(Y.indexOf(".")>=B&&B>3)&&re<=0?(this._shift.clear(),q=!0,z=re,this._shift.add(B+=re)):this._shift.clear()}else for(let fe=0,se=Z[0];fe<Z.length&&K!==L.length;fe++,se=Z[fe]??"")if(this._checkSymbolMask(se,L[K]??"")&&"?"===L[K+1])Y+=se,K+=2;else if("*"===L[K+1]&&G&&this._checkSymbolMask(se,L[K+2]??""))Y+=se,K+=3,G=!1;else if(this._checkSymbolMask(se,L[K]??"")&&"*"===L[K+1])Y+=se,G=!0;else if("?"===L[K+1]&&this._checkSymbolMask(se,L[K+2]??""))Y+=se,K+=3;else if(this._checkSymbolMask(se,L[K]??"")){if("H"===L[K]&&Number(se)>2){K+=1,this._shiftStep(L,K,Z.length),fe--,this.leadZeroDateTime&&(Y+="0");continue}if("h"===L[K]&&"2"===Y&&Number(se)>3){K+=1,fe--;continue}if("m"===L[K]&&Number(se)>5){K+=1,this._shiftStep(L,K,Z.length),fe--,this.leadZeroDateTime&&(Y+="0");continue}if("s"===L[K]&&Number(se)>5){K+=1,this._shiftStep(L,K,Z.length),fe--,this.leadZeroDateTime&&(Y+="0");continue}const ce=31;if("d"===L[K]&&(Number(se)>3&&this.leadZeroDateTime||Number(M.slice(K,K+2))>ce||"/"===M[K+1])){K+=1,this._shiftStep(L,K,Z.length),fe--,this.leadZeroDateTime&&(Y+="0");continue}if("M"===L[K]){const be=0===K&&(Number(se)>2||Number(M.slice(K,K+2))>12||"/"===M[K+1]),me=M.slice(K-3,K-1).includes("/")&&("/"===M[K-2]&&Number(M.slice(K-1,K+1))>12&&"/"!==M[K]||"/"===M[K]||"/"===M[K-3]&&Number(M.slice(K-2,K))>12&&"/"!==M[K-1]||"/"===M[K-1]),re=Number(M.slice(K-3,K-1))<=ce&&!M.slice(K-3,K-1).includes("/")&&"/"===M[K-1]&&(Number(M.slice(K,K+2))>12||"/"===M[K+1]),Ee=Number(M.slice(K-3,K-1))>ce&&!M.slice(K-3,K-1).includes("/")&&!M.slice(K-2,K).includes("/")&&Number(M.slice(K-2,K))>12,Te=Number(M.slice(K-3,K-1))<=ce&&!M.slice(K-3,K-1).includes("/")&&"/"!==M[K-1]&&Number(M.slice(K-1,K+1))>12;if(Number(se)>1&&this.leadZeroDateTime||be||me||re||Ee||Te){K+=1,this._shiftStep(L,K,Z.length),fe--,this.leadZeroDateTime&&(Y+="0");continue}}Y+=se,K++}else" "===se&&" "===L[K]?(Y+=se,K++):-1!==this.maskSpecialCharacters.indexOf(L[K]??"")?(Y+=L[K],K++,this._shiftStep(L,K,Z.length),fe--):this.maskSpecialCharacters.indexOf(se)>-1&&this.maskAvailablePatterns[L[K]??""]&&this.maskAvailablePatterns[L[K]??""]?.optional?(Z[K]&&"099.099.099.099"!==L&&"000.000.000-00"!==L&&"00.000.000/0000-00"!==L&&!L.match(/^9+\.0+$/)&&(Y+=Z[K]),K++,fe--):"*"===this.maskExpression[K+1]&&this._findSpecialChar(this.maskExpression[K+2]??"")&&this._findSpecialChar(se)===this.maskExpression[K+2]&&G||"?"===this.maskExpression[K+1]&&this._findSpecialChar(this.maskExpression[K+2]??"")&&this._findSpecialChar(se)===this.maskExpression[K+2]&&G?(K+=3,Y+=se):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(se)<0&&se!==this.placeHolderCharacter&&(te=!0);Y.length+1===L.length&&-1!==this.maskSpecialCharacters.indexOf(L[L.length-1]??"")&&(Y+=L[L.length-1]);let Q=B+1;for(;this._shift.has(Q);)z++,Q++;let ee=k&&!L.startsWith("separator")?K:this._shift.has(B)?z:0;te&&ee--,U(ee,q),z<0&&this._shift.clear();let le=!1;W&&(le=Z.every(fe=>this.maskSpecialCharacters.includes(fe)));let ne=`${this.prefix}${le?"":Y}${this.suffix}`;return 0===Y.length&&(ne=`${this.prefix}${Y}`),ne}_findSpecialChar(M){return this.maskSpecialCharacters.find(L=>L===M)}_checkSymbolMask(M,L){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,(this.maskAvailablePatterns[L]?.pattern&&this.maskAvailablePatterns[L]?.pattern.test(M))??!1}_stripToDecimal(M){return M.split("").filter((L,B)=>{const k="string"==typeof this.decimalMarker?L===this.decimalMarker:this.decimalMarker.includes(L);return L.match("^-?\\d")||L===this.thousandSeparator||k||"-"===L&&0===B&&this.allowNegativeNumbers}).join("")}_charToRegExpExpression(M){return M&&(" "===M?"\\s":"[\\^$.|?*+()".indexOf(M)>=0?`\\${M}`:M)}_shiftStep(M,L,B){const k=/[*?]/g.test(M.slice(0,L))?B:L;this._shift.add(k+this.prefix.length||0)}_compareOrIncludes(M,L,B){return Array.isArray(L)?L.filter(k=>k!==B).includes(M):M===L}_validIP(M){return!(4===M.length&&!M.some((L,B)=>M.length!==B+1?""===L||Number(L)>255:""===L||Number(L.substring(0,3))>255))}}return O.\u0275fac=function(M){return new(M||O)(t.KVO(h))},O.\u0275prov=t.jDH({token:O,factory:O.\u0275fac}),O})(),I=(()=>{class O extends C{constructor(M,L,B,k){super(L),this.document=M,this._config=L,this._elementRef=B,this._renderer=k,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.triggerOnMaskChange=!1,this.onChange=W=>{}}applyMask(M,L,B=0,k=!1,W=!1,U=(()=>{})){if(!L)return M!==this.actualValue?this.actualValue:M;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(M||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(M||"#")),!M&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const K=M&&"number"==typeof this.selStart?M[this.selStart]??"":"";let Y="";if(void 0!==this.hiddenInput&&!this.writingValue){let te=this.actualValue.split("");""!==M&&te.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(M.length>te.length?te.splice(this.selStart,0,K):M.length<te.length&&(te.length-M.length==1?te.splice(this.selStart-1,1):te.splice(this.selStart,this.selEnd-this.selStart))):te=[],this.showMaskTyped&&(M=this.removeMask(M)),Y=this.actualValue.length&&te.length<=M.length?this.shiftTypedSymbols(te.join("")):M}this.showMaskTyped&&(M=this.removeMask(M)),Y=Y&&Y.length?Y:M;const G=super.applyMask(Y,L,B,k,W,U);if(this.actualValue=this.getActualValue(G),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(te=>!this._compareOrIncludes(te,this.decimalMarker,this.thousandSeparator))),this.formControlResult(G),!this.showMaskTyped)return this.hiddenInput&&G&&G.length?this.hideInput(G,this.maskExpression):G;const q=G.length,z=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const te=this._numberSkipedSymbols(G);return G+z.slice(q+te)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?G+z:G+z.slice(q)}_numberSkipedSymbols(M){const L=/(^|\D)(\d\D)/g;let B=L.exec(M),k=0;for(;null!=B;)k+=1,B=L.exec(M);return k}applyValueChanges(M,L,B,k=(()=>{})){const W=this._elementRef.nativeElement;W.value=this.applyMask(W.value,this.maskExpression,M,L,B,k),W!==this._getActiveElement()&&this.clearIfNotMatchFn()}hideInput(M,L){return M.split("").map((B,k)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[L[k]??""]&&this.maskAvailablePatterns[L[k]??""]?.symbol?this.maskAvailablePatterns[L[k]??""]?.symbol:B).join("")}getActualValue(M){const L=M.split("").filter((B,k)=>{const W=this.maskExpression[k]??"";return this._checkSymbolMask(B,W)||this.maskSpecialCharacters.includes(W)&&B===W});return L.join("")===M?L.join(""):M}shiftTypedSymbols(M){let L="";return(M&&M.split("").map((k,W)=>{if(this.maskSpecialCharacters.includes(M[W+1]??"")&&M[W+1]!==this.maskExpression[W+1])return L=k,M[W+1];if(L.length){const U=L;return L="",U}return k})||[]).join("")}numberToString(M){return M||0===M?Number(M).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}):String(M)}showMaskInInput(M){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(M){if("IP"===this.maskExpression)return this._checkForIp(M);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(M)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const M=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==M.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(M.value,this.maskExpression))}set formElementProperty([M,L]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,M,L))}checkSpecialCharAmount(M){return M.split("").filter(B=>this._findSpecialChar(B)).length}removeMask(M){return this._removeMask(this._removeSuffix(this._removePrefix(M)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(M){if("#"===M)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const L=[];for(let B=0;B<M.length;B++){const k=M[B]??"";k&&k.match("\\d")&&L.push(k)}return L.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:L.length>3&&L.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:L.length>6&&L.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(M){const L=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,B=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===M)return L;const k=[];for(let W=0;W<M.length;W++){const U=M[W]??"";U&&U.match("\\d")&&k.push(U)}return k.length<=3?L.slice(k.length,L.length):k.length>3&&k.length<=6?L.slice(k.length+1,L.length):k.length>6&&k.length<=9?L.slice(k.length+2,L.length):k.length>9&&k.length<11?L.slice(k.length+3,L.length):11===k.length?"":12===k.length?B.slice(17===M.length?16:15,B.length):k.length>12&&k.length<=14?B.slice(k.length+4,B.length):""}_getActiveElement(M=this.document){const L=M?.activeElement?.shadowRoot;return L?.activeElement?this._getActiveElement(L):M.activeElement}formControlResult(M){this.writingValue||!this.triggerOnMaskChange&&this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(M)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(M)):this._removeSuffix(M))}_toNumber(M){if(!this.isNumberValue||""===M)return M;const L=Number(M);return Number.isNaN(L)?M:L}_removeMask(M,L){return M&&M.replace(this._regExpForRemove(L),"")}_removePrefix(M){return this.prefix?M&&M.replace(this.prefix,""):M}_removeSuffix(M){return this.suffix?M&&M.replace(this.suffix,""):M}_retrieveSeparatorValue(M){return this._removeMask(this._removeSuffix(this._removePrefix(M)),this.maskSpecialCharacters)}_regExpForRemove(M){return new RegExp(M.map(L=>`\\${L}`).join("|"),"gi")}_replaceDecimalMarkerToDot(M){const L=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return M.replace(this._regExpForRemove(L),".")}_checkSymbols(M){if(""===M)return M;const L=this._retrieveSeparatorPrecision(this.maskExpression),B=this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(M));return this.isNumberValue?L?M===this.decimalMarker?null:this._checkPrecision(this.maskExpression,B):Number(B):B}_retrieveSeparatorPrecision(M){const L=M.match(new RegExp("^separator\\.([^d]*)"));return L?Number(L[1]):null}_checkPrecision(M,L){return M.indexOf("2")>0?Number(L).toFixed(2):Number(L)}}return O.\u0275fac=function(M){return new(M||O)(t.KVO(e.qQ),t.KVO(h),t.KVO(t.aKT),t.KVO(t.sFG))},O.\u0275prov=t.jDH({token:O,factory:O.\u0275fac}),O})(),R=(()=>{class O{constructor(M,L,B){this.document=M,this._maskService=L,this._config=B,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.triggerOnMaskChange=null,this.maskFilled=new t.bkB,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=k=>{},this.onTouch=()=>{}}ngOnChanges(M){const{maskExpression:L,specialCharacters:B,patterns:k,prefix:W,suffix:U,thousandSeparator:K,decimalMarker:Y,dropSpecialCharacters:G,hiddenInput:q,showMaskTyped:z,placeHolderCharacter:te,shownMaskExpression:Z,showTemplate:J,clearIfNotMatch:Q,validation:ee,separatorLimit:le,allowNegativeNumbers:ne,leadZeroDateTime:fe,triggerOnMaskChange:se}=M;if(L&&(L.currentValue!==L.previousValue&&!L.firstChange&&(this._maskService.maskChanged=!0),L.currentValue&&L.currentValue.split("||").length>1?(this._maskExpressionArray=L.currentValue.split("||").sort((ce,De)=>ce.length-De.length),this._setMask()):(this._maskExpressionArray=[],this._maskValue=L.currentValue||"",this._maskService.maskExpression=this._maskValue)),B){if(!B.currentValue||!Array.isArray(B.currentValue))return;this._maskService.maskSpecialCharacters=B.currentValue||[]}k&&k.currentValue&&(this._maskService.maskAvailablePatterns=k.currentValue),W&&(this._maskService.prefix=W.currentValue),U&&(this._maskService.suffix=U.currentValue),K&&(this._maskService.thousandSeparator=K.currentValue),Y&&(this._maskService.decimalMarker=Y.currentValue),G&&(this._maskService.dropSpecialCharacters=G.currentValue),q&&(this._maskService.hiddenInput=q.currentValue),z&&(this._maskService.showMaskTyped=z.currentValue),te&&(this._maskService.placeHolderCharacter=te.currentValue),Z&&(this._maskService.shownMaskExpression=Z.currentValue),J&&(this._maskService.showTemplate=J.currentValue),Q&&(this._maskService.clearIfNotMatch=Q.currentValue),ee&&(this._maskService.validation=ee.currentValue),le&&(this._maskService.separatorLimit=le.currentValue),ne&&(this._maskService.allowNegativeNumbers=ne.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(ce=>"-"!==ce))),fe&&(this._maskService.leadZeroDateTime=fe.currentValue),se&&(this._maskService.triggerOnMaskChange=se.currentValue),this._applyMask()}validate({value:M}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(M);if(this._maskService.cpfCnpjError)return this._createValidationError(M);if(this._maskValue.startsWith("separator")||_.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(E.includes(this._maskValue))return this._validateTime(M);if(M&&M.toString().length>=1){let L=0;for(const B in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[B]?.optional&&(this._maskValue.indexOf(B)!==this._maskValue.lastIndexOf(B)?L+=this._maskValue.split("").filter(W=>W===B).join("").length:-1!==this._maskValue.indexOf(B)&&L++,-1!==this._maskValue.indexOf(B)&&M.toString().length>=this._maskValue.indexOf(B)||L===this._maskValue.length))return null;if(1===this._maskValue.indexOf("{")&&M.toString().length===this._maskValue.length+Number((this._maskValue.split("{")[1]??"").split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&M.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&M.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(M);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const B=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-L:this._maskValue.length-L;if(M.toString().length<B)return this._createValidationError(M)}}return M&&this.maskFilled.emit(),null}onPaste(){this._justPasted=!0}onModelChange(M){(""===M||null==M)&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(M){const L=M.target;if(this._inputValue=L.value,this._setMask(),!this._maskValue)return void this.onChange(L.value);const B=1===L.selectionStart?L.selectionStart+this._maskService.prefix.length:L.selectionStart;let k=0,W=!1;if(this._maskService.applyValueChanges(B,this._justPasted,"Backspace"===this._code||"Delete"===this._code,(K,Y)=>{this._justPasted=!1,k=K,W=Y}),this._getActiveElement()!==L)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let U=this._position?this._inputValue.length+B+k:B+("Backspace"!==this._code||W?k:0);U>this._getActualInputLength()&&(U=this._getActualInputLength()),U<0&&(U=0),L.setSelectionRange(U,U),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onClick(M){if(!this._maskValue)return;const L=M.target;null!==L&&null!==L.selectionStart&&L.selectionStart===L.selectionEnd&&L.selectionStart>this._maskService.prefix.length&&38!==M.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),L.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===L.value?(L.focus(),L.setSelectionRange(0,0)):L.selectionStart>this._maskService.actualValue.length&&L.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const W=L&&(L.value&&L.value!==this._maskService.prefix?L.value:this._maskService.prefix+this._maskService.maskIsShown);L&&L.value!==W&&(L.value=W),L&&(L.selectionStart||L.selectionEnd)<=this._maskService.prefix.length?L.selectionStart=this._maskService.prefix.length:L&&L.selectionEnd>this._getActualInputLength()&&(L.selectionEnd=this._getActualInputLength())}onKeyDown(M){if(!this._maskValue)return;this._code=M.code?M.code:M.key;const L=M.target;if(this._inputValue=L.value,this._setMask(),38===M.keyCode&&M.preventDefault(),37===M.keyCode||8===M.keyCode||46===M.keyCode){if(8===M.keyCode&&0===L.value.length&&(L.selectionStart=L.selectionEnd),8===M.keyCode&&0!==L.selectionStart)if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&L.selectionStart<=this.prefix.length)L.setSelectionRange(this.prefix.length,L.selectionEnd);else if(this._inputValue.length!==L.selectionStart&&1!==L.selectionStart)for(;this.specialCharacters.includes((this._inputValue[L.selectionStart-1]??"").toString())&&(this.prefix.length>=1&&L.selectionStart>this.prefix.length||0===this.prefix.length);)L.setSelectionRange(L.selectionStart-1,L.selectionEnd);this.checkSelectionOnDeletion(L),this._maskService.prefix.length&&L.selectionStart<=this._maskService.prefix.length&&L.selectionEnd<=this._maskService.prefix.length&&M.preventDefault(),8===M.keyCode&&!L.readOnly&&0===L.selectionStart&&L.selectionEnd===L.value.length&&0!==L.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<L.selectionStart?L.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===M.keyCode&&M.ctrlKey||65===M.keyCode&&M.metaKey)&&(L.setSelectionRange(0,this._getActualInputLength()),M.preventDefault()),this._maskService.selStart=L.selectionStart,this._maskService.selEnd=L.selectionEnd}writeValue(M){var L=this;return(0,i.A)(function*(){"object"==typeof M&&null!==M&&"value"in M&&("disable"in M&&L.setDisabledState(!!M.disable),M=M.value),("number"==typeof M||L._maskValue.startsWith("separator"))&&(M=L._maskService.numberToString(M),Array.isArray(L.decimalMarker)||(M="."!==L.decimalMarker?M.replace(".",L.decimalMarker):M),L._maskService.isNumberValue=!0),"string"!=typeof M&&(M=""),L._inputValue=M,L._setMask(),M&&L._maskService.maskExpression||L._maskService.maskExpression&&(L._maskService.prefix||L._maskService.showMaskTyped)?(L._maskService.writingValue=!0,L._maskService.formElementProperty=["value",L._maskService.applyMask(M,L._maskService.maskExpression)],L._maskService.writingValue=!1):L._maskService.formElementProperty=["value",M],L._inputValue=M})()}registerOnChange(M){this._maskService.onChange=this.onChange=M}registerOnTouched(M){this.onTouch=M}_getActiveElement(M=this.document){const L=M?.activeElement?.shadowRoot;return L?.activeElement?this._getActiveElement(L):M.activeElement}checkSelectionOnDeletion(M){M.selectionStart=Math.min(Math.max(this.prefix.length,M.selectionStart),this._inputValue.length-this.suffix.length),M.selectionEnd=Math.min(Math.max(this.prefix.length,M.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(M){this._maskService.formElementProperty=["disabled",M]}_repeatPatternSymbols(M){return M.match(/{[0-9]+}/)&&M.split("").reduce((L,B,k)=>{if(this._start="{"===B?k:this._start,"}"!==B)return this._maskService._findSpecialChar(B)?L+B:L;this._end=k;const W=Number(M.slice(this._start+1,this._end));return L+new Array(W+1).join(M[this._start-1])},"")||M}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(M){const L=this._maskValue.split("").filter(B=>":"!==B).length;return M&&(0==+(M[M.length-1]??-1)&&M.length<L||M.length<=L-2)?this._createValidationError(M):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(M){return{mask:{requiredMask:this._maskValue,actualValue:M}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(M=>{const L=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(M)?.length;if(this._inputValue&&L)return this._maskValue=M,this.maskExpression=M,this._maskService.maskExpression=M,L;this._maskValue=this.maskExpression=this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]??""})}}return O.\u0275fac=function(M){return new(M||O)(t.rXU(e.qQ),t.rXU(I),t.rXU(h))},O.\u0275dir=t.FsC({type:O,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(M,L){1&M&&t.bIt("paste",function(){return L.onPaste()})("ngModelChange",function(k){return L.onModelChange(k)})("input",function(k){return L.onInput(k)})("blur",function(){return L.onBlur()})("click",function(k){return L.onClick(k)})("keydown",function(k){return L.onKeyDown(k)})},inputs:{maskExpression:[t.Mj6.None,"mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",triggerOnMaskChange:"triggerOnMaskChange"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],features:[t.Jv_([{provide:u.kq,useExisting:(0,t.Rfq)(()=>O),multi:!0},{provide:u.cz,useExisting:(0,t.Rfq)(()=>O),multi:!0},I]),t.OA$]}),O})();function A(O,w){return w instanceof Function?{...O,...w()}:{...O,...w}}let p=(()=>{class O{static forRoot(M){return{ngModule:O,providers:[{provide:m,useValue:M},{provide:f,useValue:v},{provide:h,useFactory:A,deps:[f,m]},C]}}static forChild(){return{ngModule:O}}}return O.\u0275fac=function(M){return new(M||O)},O.\u0275mod=t.$C({type:O}),O.\u0275inj=t.G2t({}),O})();const x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};x.KeyboardEvent||(x.KeyboardEvent=function(O,w){})},72234:(F,D,n)=>{"use strict";n.d(D,{Yq:()=>E,Zm:()=>v});var i=n(54438),t=n(60177);const u=["*"],e=(_,C,I,R,T)=>({"custom-content":_,circle:C,progress:I,"progress-dark":R,pulse:T});function h(_,C){1&_&&i.SdG(0)}function m(_,C){if(1&_&&(i.j41(0,"div",0),i.DNE(1,h,1,0),i.k0s()),2&_){const I=i.XpG();i.Y8G("ngClass",i.s1E(5,e,"custom-content"===I.appearance,"circle"===I.appearance,"progress"===I.animation,"progress-dark"===I.animation,"pulse"===I.animation))("ngStyle",I.theme),i.BMQ("aria-label",I.ariaLabel)("aria-valuetext",I.loadingText),i.R7$(),i.vxM(1,"custom-content"===I.appearance?1:-1)}}const f=new i.nKC("ngx-skeleton-loader.config");let v=(()=>{class _{constructor(I){this.config=I;const{appearance:R="line",animation:T="progress",theme:A=null,loadingText:p="Loading...",count:x=1,ariaLabel:O="loading"}=I||{};this.appearance=R,this.animation=T,this.theme=A,this.loadingText=p,this.count=x,this.items=[],this.ariaLabel=O}ngOnInit(){this.validateInputValues()}validateInputValues(){/^\d+$/.test(`${this.count}`)||((0,i.naY)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'count' a numeric value. Forcing default to \"1\"."),this.count=1),"custom-content"===this.appearance&&(0,i.naY)()&&1!==this.count&&(console.error('`NgxSkeletonLoaderComponent` enforces elements with "custom-content" appearance as DOM nodes. Forcing "count" to "1".'),this.count=1),this.items.length=this.count;const I=["progress","progress-dark","pulse","false"];-1===I.indexOf(String(this.animation))&&((0,i.naY)()&&console.error(`\`NgxSkeletonLoaderComponent\` need to receive 'animation' as: ${I.join(", ")}. Forcing default to "progress".`),this.animation="progress"),-1===["circle","line","custom-content",""].indexOf(String(this.appearance))&&((0,i.naY)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'appearance' as: circle or line or custom-content or empty string. Forcing default to \"''\"."),this.appearance="");const{theme:R}=this.config||{};R&&R.extendsFromRoot&&null!==this.theme&&(this.theme={...this.config.theme,...this.theme})}ngOnChanges(I){["count","animation","appearance"].find(R=>I[R]&&(I[R].isFirstChange()||I[R].previousValue===I[R].currentValue))||this.validateInputValues()}static{this.\u0275fac=function(R){return new(R||_)(i.rXU(f,8))}}static{this.\u0275cmp=i.VBU({type:_,selectors:[["ngx-skeleton-loader"]],inputs:{count:"count",loadingText:"loadingText",appearance:"appearance",animation:"animation",ariaLabel:"ariaLabel",theme:"theme"},features:[i.OA$],ngContentSelectors:u,decls:2,vars:0,consts:[["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","-1",1,"skeleton-loader",3,"ngClass","ngStyle"]],template:function(R,T){1&R&&(i.NAR(),i.Z7z(0,m,2,11,"div",0,i.fX1)),2&R&&i.Dyx(T.items)},dependencies:[t.YU,t.B3],styles:['.skeleton-loader[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;position:relative;background:#eff1f6 no-repeat;border-radius:4px;width:100%;height:20px;display:inline-block;margin-bottom:10px;will-change:transform}.skeleton-loader[_ngcontent-%COMP%]:after, .skeleton-loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.circle[_ngcontent-%COMP%]{width:40px;height:40px;margin:5px;border-radius:50%}.skeleton-loader.progress[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%]{transform:translateZ(0)}.skeleton-loader.progress[_ngcontent-%COMP%]:after, .skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:after, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progress 2s ease-in-out infinite;background-size:200px 100%;position:absolute;z-index:1;top:0;left:0;width:200px;height:100%;content:""}.skeleton-loader.progress[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,#fff0,#fff9,#fff0)}.skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.skeleton-loader.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}.skeleton-loader.custom-content[_ngcontent-%COMP%]{height:100%;background:none}@media (prefers-reduced-motion: reduce){.skeleton-loader.pulse[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%], .skeleton-loader.progress[_ngcontent-%COMP%]:before{animation:none}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%]{background-image:none}}@media screen and (min-device-width: 1200px){.skeleton-loader[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:wait}}@keyframes _ngcontent-%COMP%_progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0})}}return _})(),E=(()=>{class _{static forRoot(I){return{ngModule:_,providers:[{provide:f,useValue:I}]}}static{this.\u0275fac=function(R){return new(R||_)}}static{this.\u0275mod=i.$C({type:_})}static{this.\u0275inj=i.G2t({imports:[t.MD]})}}return _})()},31635:(F,D,n)=>{"use strict";function h(le,ne,fe,se){var be,ce=arguments.length,De=ce<3?ne:null===se?se=Object.getOwnPropertyDescriptor(ne,fe):se;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)De=Reflect.decorate(le,ne,fe,se);else for(var me=le.length-1;me>=0;me--)(be=le[me])&&(De=(ce<3?be(De):ce>3?be(ne,fe,De):be(ne,fe))||De);return ce>3&&De&&Object.defineProperty(ne,fe,De),De}function m(le,ne){return function(fe,se){ne(fe,se,le)}}function C(le,ne){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(le,ne)}function I(le,ne,fe,se){return new(fe||(fe=Promise))(function(De,be){function me(Te){try{Ee(se.next(Te))}catch(tt){be(tt)}}function re(Te){try{Ee(se.throw(Te))}catch(tt){be(tt)}}function Ee(Te){Te.done?De(Te.value):function ce(De){return De instanceof fe?De:new fe(function(be){be(De)})}(Te.value).then(me,re)}Ee((se=se.apply(le,ne||[])).next())})}function L(le){return this instanceof L?(this.v=le,this):new L(le)}function B(le,ne,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,se=fe.apply(le,ne||[]),De=[];return ce={},be("next"),be("throw"),be("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function be(ht){se[ht]&&(ce[ht]=function(Fe){return new Promise(function(Et,Ye){De.push([ht,Fe,Et,Ye])>1||me(ht,Fe)})})}function me(ht,Fe){try{!function re(ht){ht.value instanceof L?Promise.resolve(ht.value.v).then(Ee,Te):tt(De[0][2],ht)}(se[ht](Fe))}catch(Et){tt(De[0][3],Et)}}function Ee(ht){me("next",ht)}function Te(ht){me("throw",ht)}function tt(ht,Fe){ht(Fe),De.shift(),De.length&&me(De[0][0],De[0][1])}}function W(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ne=le[Symbol.asyncIterator];return ne?ne.call(le):(le=function p(le){var ne="function"==typeof Symbol&&Symbol.iterator,fe=ne&&le[ne],se=0;if(fe)return fe.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&se>=le.length&&(le=void 0),{value:le&&le[se++],done:!le}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),fe={},se("next"),se("throw"),se("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function se(De){fe[De]=le[De]&&function(be){return new Promise(function(me,re){!function ce(De,be,me,re){Promise.resolve(re).then(function(Ee){De({value:Ee,done:me})},be)}(me,re,(be=le[De](be)).done,be.value)})}}}n.d(D,{AQ:()=>B,Cg:()=>h,N3:()=>L,Qj:()=>m,Sn:()=>C,sH:()=>I,xN:()=>W}),"function"==typeof SuppressedError&&SuppressedError}},F=>{F(F.s=71281)}]);