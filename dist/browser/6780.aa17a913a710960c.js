"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[6780],{90839:(A,S,i)=>{i.d(S,{Q:()=>M});class M{constructor(C,v){this.text=C,this.url=v}}},86780:(A,S,i)=>{i.r(S),i.d(S,{ROUTES:()=>at});var M=i(49347),e=i(54438),C=i(84572),v=i(96354),P=i(90839),$=i(65007),L=i(3970),N=i(29326),h=i(80183),D=i(96526),d=i(41780);let V=(()=>{class n{constructor(t,s,o,c){this.dataService=t,this.dsoNameService=s,this.tranlsateService=o,this.authorizationService=c,this.ADMIN_PUBLICATION_CLAIMS_PATH="admin/notifications/publication-claim",this.ADMIN_PUBLICATION_CLAIMS_BREADCRUMB_KEY="admin.notifications.publicationclaim.page.title"}getBreadcrumbs(t){return(0,C.z)([this.dataService.findById(t).pipe((0,h.qD)()),this.authorizationService.isAuthorized(L._.AdministratorOf)]).pipe((0,v.T)(([s,o])=>{const c=this.dsoNameService.getName(s.payload);return o?[new P.Q(this.tranlsateService.instant(this.ADMIN_PUBLICATION_CLAIMS_BREADCRUMB_KEY),this.ADMIN_PUBLICATION_CLAIMS_PATH),new P.Q(this.tranlsateService.instant("suggestion.suggestionFor.breadcrumb",{name:c}),void 0)]:[new P.Q(this.tranlsateService.instant("suggestion.suggestionFor.breadcrumb",{name:c}),void 0)]}))}static{this.\u0275fac=function(s){return new(s||n)(e.KVO(N.ItemDataService),e.KVO(D.f),e.KVO(d.c$),e.KVO($.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var u=i(60177),I=i(7901),E=i(84412),m=i(88141),_=i(25558),Y=i(23294),X=i(67116),R=i(6238),U=i(41023),w=i(22978),z=i(308),H=i(24261),f=i(58003),K=i(96697),r=i(31635),p=i(74850),J=i(21921),O=i(14391),Q=i(42547),y=i(98688),W=i(178);let l=class{static{this.type=W.P}};(0,r.Cg)([p.autoserialize,(0,r.Sn)("design:type",String)],l.prototype,"id",void 0),(0,r.Cg)([p.autoserialize,(0,r.Sn)("design:type",String)],l.prototype,"display",void 0),(0,r.Cg)([p.autoserialize,(0,r.Sn)("design:type",String)],l.prototype,"source",void 0),(0,r.Cg)([p.autoserialize,(0,r.Sn)("design:type",String)],l.prototype,"externalSourceUri",void 0),(0,r.Cg)([p.autoserialize,(0,r.Sn)("design:type",String)],l.prototype,"score",void 0),(0,r.Cg)([p.autoserialize,(0,r.Sn)("design:type",Object)],l.prototype,"evidences",void 0),(0,r.Cg)([y.aK,(0,p.autoserializeAs)(O.Of),(0,r.Sn)("design:type",O.Cr)],l.prototype,"metadata",void 0),(0,r.Cg)([y.aK,p.autoserialize,(0,r.Sn)("design:type",Q.v)],l.prototype,"type",void 0),(0,r.Cg)([p.deserialize,(0,r.Sn)("design:type",Object)],l.prototype,"_links",void 0),l=(0,r.Cg)([J.gV],l);var Z=i(60456),q=i(52798),ee=i(53948);function te(n,a){if(1&n){const t=e.RV6();e.j41(0,"button",7),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.approveAndImportCollectionFixed())}),e.nrm(1,"i",8),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&n){const t=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,1,t.approveAndImportLabel())," ")}}function ne(n,a){if(1&n){const t=e.RV6();e.j41(0,"button",9),e.nrm(1,"i",8),e.EFF(2),e.nI1(3,"translate"),e.nrm(4,"span",10),e.k0s(),e.j41(5,"div",11)(6,"ds-entity-dropdown",12),e.bIt("selectionChange",function(o){e.eBV(t);const c=e.XpG();return e.Njj(c.openDialog(o))}),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,1,t.approveAndImportLabel())," ")}}function se(n,a){1&n&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"suggestion.seeEvidence"),""))}function ie(n,a){1&n&&(e.qex(0),e.EFF(1),e.nI1(2,"translate"),e.bVm()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"suggestion.hideEvidence"),""))}function oe(n,a){if(1&n){const t=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleSeeEvidences())}),e.nrm(1,"i",14),e.DNE(2,se,3,3,"ng-container",15)(3,ie,3,3,"ng-container",15),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("dsBtnDisabled",!t.hasEvidence),e.R7$(2),e.Y8G("ngIf",!t.seeEvidence),e.R7$(),e.Y8G("ngIf",t.seeEvidence)}}let x=(()=>{class n{constructor(t){this.modalService=t,this.isBulk=!1,this.hasEvidence=!1,this.seeEvidence=!1,this.isCollectionFixed=!1,this.ignoreSuggestionClicked=new e.bkB,this.approveAndImport=new e.bkB,this.seeEvidences=new e.bkB}openDialog(t){const s=this.modalService.open(q.L);s.componentInstance.emitOnly=!0,s.componentInstance.entityType=t.label,s.componentInstance.select.pipe((0,K.s)(1)).subscribe(o=>{this.approveAndImport.emit({suggestion:this.isBulk?void 0:this.object,collectionId:o.id})})}approveAndImportCollectionFixed(){this.approveAndImport.emit({suggestion:this.isBulk?void 0:this.object,collectionId:null})}ignoreSuggestion(){this.ignoreSuggestionClicked.emit(this.isBulk?void 0:this.object.id)}toggleSeeEvidences(){this.seeEvidences.emit(!this.seeEvidence)}ignoreSuggestionLabel(){return this.isBulk?"suggestion.ignoreSuggestion.bulk":"suggestion.ignoreSuggestion"}approveAndImportLabel(){return this.isBulk?"suggestion.approveAndImport.bulk":"suggestion.approveAndImport"}static{this.\u0275fac=function(s){return new(s||n)(e.rXU(f.Bq))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ds-suggestion-actions"]],inputs:{object:"object",isBulk:"isBulk",hasEvidence:"hasEvidence",seeEvidence:"seeEvidence",isCollectionFixed:"isCollectionFixed"},outputs:{ignoreSuggestionClicked:"ignoreSuggestionClicked",approveAndImport:"approveAndImport",seeEvidences:"seeEvidences"},standalone:!0,features:[e.aNF],decls:10,vars:6,consts:[["chooseCollection",""],[1,"d-inline"],["ngbDropdown","",1,"d-inline"],["class","btn btn-success","type","button",3,"click",4,"ngIf","ngIfElse"],[1,"btn","btn-danger","ms-2",3,"click"],[1,"fa","fa-ban"],["class","btn btn-info ms-2",3,"dsBtnDisabled","click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"click"],["aria-hidden","true",1,"fa","fa-check"],["id","dropdownSubmission","ngbDropdownToggle","","type","button",1,"btn","btn-success"],[1,"caret"],["ngbDropdownMenu","","id","entityControlsDropdownMenu","aria-labelledby","dropdownSubmission",1,"dropdown-menu"],[3,"selectionChange"],[1,"btn","btn-info","ms-2",3,"click","dsBtnDisabled"],[1,"fa","fa-eye"],[4,"ngIf"]],template:function(s,o){if(1&s){const c=e.RV6();e.j41(0,"div",1)(1,"div",2),e.DNE(2,te,4,3,"button",3)(3,ne,7,3,"ng-template",null,0,e.C5r),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return e.eBV(c),e.Njj(o.ignoreSuggestion())}),e.nrm(6,"i",5),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.DNE(9,oe,4,3,"button",6),e.k0s()}if(2&s){const c=e.sdS(4);e.R7$(2),e.Y8G("ngIf",o.isCollectionFixed)("ngIfElse",c),e.R7$(5),e.SpI(" ",e.bMT(8,4,o.ignoreSuggestionLabel()),""),e.R7$(2),e.Y8G("ngIf",!o.isBulk)}},dependencies:[ee.Y,d.h,d.D9,u.bT,f.zH,f.tg,f.do,f.U0,Z.A]})}}return n})();var k=i(26292),j=i(78448),ae=i(27442),F=i(81569),ce=i(94418),re=i(21308);const ge=n=>[n];function le(n,a){if(1&n&&e.nrm(0,"span",15),2&n){const t=e.XpG(3);e.Y8G("innerHTML",t.firstMetadataValue("dc.casetype"),e.npT)}}function de(n,a){1&n&&(e.j41(0,"span",16),e.EFF(1,"/"),e.k0s())}function pe(n,a){if(1&n&&e.nrm(0,"span",17),2&n){const t=e.XpG(3);e.Y8G("innerHTML",t.firstMetadataValue("dc.title"),e.npT)}}function ue(n,a){1&n&&(e.j41(0,"span",16),e.EFF(1,"/"),e.k0s())}function me(n,a){if(1&n&&e.nrm(0,"span",18),2&n){const t=e.XpG(3);e.Y8G("innerHTML",t.firstMetadataValue("dc.caseyear"),e.npT)}}function _e(n,a){if(1&n&&e.nrm(0,"span",23),2&n){const t=e.XpG(4);e.Y8G("innerHTML",t.getPetitionerName(),e.npT)}}function fe(n,a){1&n&&(e.j41(0,"span",24),e.EFF(1,"Vs"),e.k0s())}function ve(n,a){if(1&n&&e.nrm(0,"span",25),2&n){const t=e.XpG(4);e.Y8G("innerHTML",t.getRespondentName(),e.npT)}}function he(n,a){if(1&n&&(e.j41(0,"div",19),e.DNE(1,_e,1,1,"span",20)(2,fe,2,0,"span",21)(3,ve,1,1,"span",22),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.getPetitionerName()),e.R7$(),e.Y8G("ngIf",t.getPetitionerName()&&t.getRespondentName()),e.R7$(),e.Y8G("ngIf",t.getRespondentName())}}function Se(n,a){if(1&n&&(e.j41(0,"a",5)(1,"div",6)(2,"span",7),e.EFF(3,"Case File"),e.k0s(),e.j41(4,"span",8),e.EFF(5,"Pending"),e.k0s()(),e.j41(6,"div",9),e.DNE(7,le,1,1,"span",10)(8,de,2,0,"span",11)(9,pe,1,1,"span",12)(10,ue,2,0,"span",11)(11,me,1,1,"span",13),e.k0s(),e.DNE(12,he,4,3,"div",14),e.k0s()),2&n){const t=e.XpG(2);e.Y8G("target",t.linkType===t.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,ge,t.itemPageRoute)),e.BMQ("rel",t.linkType===t.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(7),e.Y8G("ngIf",t.dso.firstMetadataValue("dc.casetype")),e.R7$(),e.Y8G("ngIf",t.dso.firstMetadataValue("dc.casetype")&&t.dso.firstMetadataValue("dc.title")),e.R7$(),e.Y8G("ngIf",t.dso.firstMetadataValue("dc.title")),e.R7$(),e.Y8G("ngIf",t.dso.firstMetadataValue("dc.title")&&t.dso.firstMetadataValue("dc.caseyear")),e.R7$(),e.Y8G("ngIf",t.dso.firstMetadataValue("dc.caseyear")),e.R7$(),e.Y8G("ngIf",t.getPetitionerName()||t.getRespondentName())}}function Ce(n,a){if(1&n&&e.nrm(0,"span",15),2&n){const t=e.XpG(3);e.Y8G("innerHTML",t.firstMetadataValue("dc.casetype"),e.npT)}}function Ie(n,a){1&n&&(e.j41(0,"span",16),e.EFF(1,"/"),e.k0s())}function be(n,a){if(1&n&&e.nrm(0,"span",17),2&n){const t=e.XpG(3);e.Y8G("innerHTML",t.firstMetadataValue("dc.title"),e.npT)}}function Me(n,a){1&n&&(e.j41(0,"span",16),e.EFF(1,"/"),e.k0s())}function Pe(n,a){if(1&n&&e.nrm(0,"span",18),2&n){const t=e.XpG(3);e.Y8G("innerHTML",t.firstMetadataValue("dc.caseyear"),e.npT)}}function Te(n,a){if(1&n&&e.nrm(0,"span",23),2&n){const t=e.XpG(4);e.Y8G("innerHTML",t.getPetitionerName(),e.npT)}}function Ee(n,a){1&n&&(e.j41(0,"span",24),e.EFF(1,"Vs"),e.k0s())}function Re(n,a){if(1&n&&e.nrm(0,"span",25),2&n){const t=e.XpG(4);e.Y8G("innerHTML",t.getRespondentName(),e.npT)}}function Oe(n,a){if(1&n&&(e.j41(0,"div",19),e.DNE(1,Te,1,1,"span",20)(2,Ee,2,0,"span",21)(3,Re,1,1,"span",22),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.getPetitionerName()),e.R7$(),e.Y8G("ngIf",t.getPetitionerName()&&t.getRespondentName()),e.R7$(),e.Y8G("ngIf",t.getRespondentName())}}function ye(n,a){if(1&n&&(e.j41(0,"div",26)(1,"div",6)(2,"span",7),e.EFF(3,"Case File"),e.k0s(),e.j41(4,"span",8),e.EFF(5,"Pending"),e.k0s()(),e.j41(6,"div",9),e.DNE(7,Ce,1,1,"span",10)(8,Ie,2,0,"span",11)(9,be,1,1,"span",12)(10,Me,2,0,"span",11)(11,Pe,1,1,"span",13),e.k0s(),e.DNE(12,Oe,4,3,"div",14),e.k0s()),2&n){const t=e.XpG(2);e.R7$(7),e.Y8G("ngIf",t.dso.firstMetadataValue("dc.casetype")),e.R7$(),e.Y8G("ngIf",t.dso.firstMetadataValue("dc.casetype")&&t.dso.firstMetadataValue("dc.title")),e.R7$(),e.Y8G("ngIf",t.dso.firstMetadataValue("dc.title")),e.R7$(),e.Y8G("ngIf",t.dso.firstMetadataValue("dc.title")&&t.dso.firstMetadataValue("dc.caseyear")),e.R7$(),e.Y8G("ngIf",t.dso.firstMetadataValue("dc.caseyear")),e.R7$(),e.Y8G("ngIf",t.getPetitionerName()||t.getRespondentName())}}function xe(n,a){if(1&n&&(e.j41(0,"ds-truncatable",1)(1,"div",2),e.DNE(2,Se,13,11,"a",3)(3,ye,13,6,"div",4),e.k0s()()),2&n){const t=e.XpG();e.Y8G("id",t.dso.id),e.R7$(),e.Y8G("@caseInfoAnimation",void 0),e.R7$(),e.Y8G("ngIf",t.linkType!==t.linkTypes.None),e.R7$(),e.Y8G("ngIf",t.linkType===t.linkTypes.None)}}let T=class b extends ce.k{static{this.\u0275fac=(()=>{let a;return function(s){return(a||(a=e.xGo(b)))(s||b)}})()}static{this.\u0275cmp=e.VBU({type:b,selectors:[["ds-item-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:1,consts:[[3,"id",4,"ngIf"],[3,"id"],[1,"case-info-container"],["class","case-info-link dont-break-out",3,"target","routerLink",4,"ngIf"],["class","case-info-text dont-break-out",4,"ngIf"],[1,"case-info-link","dont-break-out",3,"target","routerLink"],[1,"badges-row"],[1,"badge","case-file-badge"],[1,"badge","pending-badge"],[1,"case-details-row"],["class","case-type animate-fade-in",3,"innerHTML",4,"ngIf"],["class","separator",4,"ngIf"],["class","case-number animate-slide-in",3,"innerHTML",4,"ngIf"],["class","case-year animate-fade-in",3,"innerHTML",4,"ngIf"],["class","parties-row",4,"ngIf"],[1,"case-type","animate-fade-in",3,"innerHTML"],[1,"separator"],[1,"case-number","animate-slide-in",3,"innerHTML"],[1,"case-year","animate-fade-in",3,"innerHTML"],[1,"parties-row"],["class","petitioner-name",3,"innerHTML",4,"ngIf"],["class","vs-separator",4,"ngIf"],["class","respondent-name",3,"innerHTML",4,"ngIf"],[1,"petitioner-name",3,"innerHTML"],[1,"vs-separator"],[1,"respondent-name",3,"innerHTML"],[1,"case-info-text","dont-break-out"]],template:function(t,s){1&t&&e.DNE(0,xe,4,4,"ds-truncatable",0),2&t&&e.Y8G("ngIf",null!=s.object)},dependencies:[u.bT,I.Wk,re.d],styles:[".item-list-supervision[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.case-info-container[_ngcontent-%COMP%]{margin-bottom:.5rem}.case-info-container[_ngcontent-%COMP%]   .case-info-link[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;text-decoration:none}.case-info-container[_ngcontent-%COMP%]   .case-info-link[_ngcontent-%COMP%]:hover   .case-type[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-link[_ngcontent-%COMP%]:hover   .case-number[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-link[_ngcontent-%COMP%]:hover   .case-year[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-text[_ngcontent-%COMP%]:hover   .case-type[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-text[_ngcontent-%COMP%]:hover   .case-number[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-text[_ngcontent-%COMP%]:hover   .case-year[_ngcontent-%COMP%]{color:var(--ds-theme-primary)}.case-info-container[_ngcontent-%COMP%]   .badges-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.case-info-container[_ngcontent-%COMP%]   .badges-row[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:.25rem;font-size:.75rem;font-weight:500;text-transform:uppercase;letter-spacing:.025em}.case-info-container[_ngcontent-%COMP%]   .badges-row[_ngcontent-%COMP%]   .case-file-badge[_ngcontent-%COMP%]{background-color:#14b8a6;color:#fff}.case-info-container[_ngcontent-%COMP%]   .badges-row[_ngcontent-%COMP%]   .pending-badge[_ngcontent-%COMP%]{background-color:#22c55e;color:#fff}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:.25rem;font-size:1.1rem}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]   .case-type[_ngcontent-%COMP%]{font-weight:600;color:var(--bs-primary)}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]   .case-number[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;color:#1f2937}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]   .case-year[_ngcontent-%COMP%]{color:var(--bs-secondary);font-weight:500}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:var(--bs-secondary);font-weight:300;margin:0 .1rem}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:.5rem;font-size:1rem;color:#374151}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]   .petitioner-name[_ngcontent-%COMP%]{font-weight:500}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]   .vs-separator[_ngcontent-%COMP%]{font-weight:600;color:#dc2626;text-transform:uppercase;font-size:.9rem}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]   .respondent-name[_ngcontent-%COMP%]{font-weight:500}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.animate-slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(-10px)}to{opacity:1;transform:translate(0)}}@media (max-width: 768px){.case-info-container[_ngcontent-%COMP%]   .badges-row[_ngcontent-%COMP%]{flex-wrap:wrap}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]{font-size:1rem}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]   .case-number[_ngcontent-%COMP%]{font-size:1.1rem}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]{font-size:.9rem;flex-direction:column;align-items:flex-start;gap:.25rem}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]   .vs-separator[_ngcontent-%COMP%]{align-self:center}}"]})}};T=(0,r.Cg)([(0,F.VK)("PublicationSearchResult",j.n.ListElement,k.o.Any,"custom"),(0,F.VK)(ae.H,j.n.ListElement,k.o.Any,"custom")],T);var ke=i(88318),G=i(50332),je=i(82777);let Fe=(()=>{class n{transform(t){const s=[];return Object.keys(t).forEach(o=>s.push(o)),s}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275pipe=e.EJ8({name:"dsObjectKeys",type:n,pure:!0,standalone:!0})}}return n})();function Ge(n,a){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s()()),2&n){const t=a.$implicit,s=e.XpG(2);e.R7$(2),e.JRh(s.evidences[t].score),e.R7$(2),e.JRh(e.bMT(5,3,t)),e.R7$(3),e.JRh(s.evidences[t].notes)}}function Ae(n,a){if(1&n&&(e.j41(0,"div",1)(1,"table",2)(2,"thead")(3,"tr")(4,"th"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"tbody"),e.DNE(14,Ge,8,5,"tr",3),e.nI1(15,"dsObjectKeys"),e.k0s()()()),2&n){const t=e.XpG();e.R7$(5),e.JRh(e.bMT(6,4,"suggestion.evidence.score")),e.R7$(3),e.JRh(e.bMT(9,6,"suggestion.evidence.type")),e.R7$(3),e.JRh(e.bMT(12,8,"suggestion.evidence.notes")),e.R7$(3),e.Y8G("ngForOf",e.bMT(15,10,t.evidences))}}let $e=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ds-suggestion-evidences"]],inputs:{evidences:"evidences"},standalone:!0,features:[e.aNF],decls:2,vars:1,consts:[["class","table-responsive",4,"ngIf"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(s,o){1&s&&(e.j41(0,"div"),e.DNE(1,Ae,16,12,"div",0),e.k0s()),2&s&&(e.R7$(),e.Y8G("ngIf",o.evidences))},dependencies:[d.h,d.D9,u.bT,u.pM,Fe],data:{animation:[G.qG]}})}}return n})();function Le(n,a){if(1&n&&(e.j41(0,"div",11)(1,"div",12),e.nrm(2,"ds-suggestion-evidences",13),e.k0s()()),2&n){const t=e.XpG();e.R7$(2),e.Y8G("evidences",t.object.evidences)}}let Ne=(()=>{class n{constructor(t){this.modalService=t,this.isSelected=!1,this.isCollectionFixed=!1,this.seeEvidence=!1,this.ignoreSuggestionClicked=new e.bkB,this.approveAndImport=new e.bkB,this.selected=new e.bkB}ngOnInit(){this.listableObject={indexableObject:Object.assign(new ke.q,{id:this.object.id,metadata:this.object.metadata}),hitHighlights:{}}}onApproveAndImport(t){this.approveAndImport.emit(t)}onIgnoreSuggestion(t){this.ignoreSuggestionClicked.emit(t)}changeSelected(t){this.isSelected=t.target.checked,this.selected.next(this.isSelected)}hasEvidences(){return(0,je.hj)(this.object.evidences)}onSeeEvidences(t){this.seeEvidence=t}static{this.\u0275fac=function(s){return new(s||n)(e.rXU(f.Bq))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ds-suggestion-list-item"]],inputs:{object:"object",isSelected:"isSelected",isCollectionFixed:"isCollectionFixed"},outputs:{ignoreSuggestionClicked:"ignoreSuggestionClicked",approveAndImport:"approveAndImport",selected:"selected"},standalone:!0,features:[e.aNF],decls:18,vars:15,consts:[[1,"container"],[1,"row"],[1,"col-1","text-center","align-self-center"],[1,""],["type","checkbox",1,"form-check-input",3,"change","checked"],[1,"col-2","text-center","align-self-center"],[1,"suggestion-score"],[1,"col"],[3,"showLabel","showThumbnails","object","linkType"],[1,"parent","mt-2",3,"approveAndImport","seeEvidences","ignoreSuggestionClicked","hasEvidence","seeEvidence","object","isCollectionFixed"],["class","mt-2 row",4,"ngIf"],[1,"mt-2","row"],[1,"col","offset-3"],[3,"evidences"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),e.bIt("change",function(g){return o.changeSelected(g)}),e.k0s()()(),e.j41(5,"div",5)(6,"div",3)(7,"div")(8,"strong"),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"span",6),e.EFF(12),e.k0s()()(),e.j41(13,"div",7),e.nrm(14,"ds-item-search-result-list-element",8),e.j41(15,"ds-suggestion-actions",9),e.bIt("approveAndImport",function(g){return o.onApproveAndImport(g)})("seeEvidences",function(g){return o.onSeeEvidences(g)})("ignoreSuggestionClicked",function(g){return o.onIgnoreSuggestion(g)}),e.k0s()()(),e.DNE(16,Le,3,1,"div",10),e.k0s(),e.nrm(17,"hr")),2&s&&(e.R7$(4),e.Y8G("checked",o.isSelected),e.BMQ("aria-label",o.object.display),e.R7$(5),e.SpI(" ",e.bMT(10,13,"suggestion.totalScore"),""),e.R7$(3),e.JRh(o.object.score),e.R7$(2),e.Y8G("showLabel",!1)("showThumbnails",!1)("object",o.listableObject)("linkType",0),e.R7$(),e.Y8G("hasEvidence",o.hasEvidences())("seeEvidence",o.seeEvidence)("object",o.object)("isCollectionFixed",o.isCollectionFixed),e.R7$(),e.Y8G("ngIf",o.seeEvidence))},dependencies:[u.bT,d.h,d.D9,T,x,$e],styles:[".issue-date[_ngcontent-%COMP%]{color:#c8c8c8}.parent[_ngcontent-%COMP%]{display:flex;gap:10px}.import[_ngcontent-%COMP%]{flex:initial}.suggestion-score[_ngcontent-%COMP%]{font-size:1.5rem}"],data:{animation:[G.qG]}})}}return n})();var De=i(31224),Ve=i(67977),Be=i(16292),Ye=i(82394),Xe=i(39806),Ue=i(5682),we=i(23401),ze=i(18226),He=i(79951);const Ke=n=>["/entities/person/",n],Je=n=>[n];function Qe(n,a){1&n&&e.nrm(0,"ds-loading")}function We(n,a){if(1&n){const t=e.RV6();e.j41(0,"ds-suggestion-actions",12),e.bIt("approveAndImport",function(o){e.eBV(t);const c=e.XpG(3);return e.Njj(c.approveAndImportAllSelected(o))})("ignoreSuggestionClicked",function(){e.eBV(t);const o=e.XpG(3);return e.Njj(o.ignoreSuggestionAllSelected())}),e.k0s()}if(2&n){const t=e.XpG(2).ngVar,s=e.XpG();e.Y8G("isBulk",!0)("isCollectionFixed",s.isCollectionFixed(t.page))}}function Ze(n,a){1&n&&e.nrm(0,"i",13)}function qe(n,a){if(1&n){const t=e.RV6();e.j41(0,"li",17)(1,"ds-suggestion-list-item",18),e.bIt("ignoreSuggestionClicked",function(o){e.eBV(t);const c=e.XpG(4);return e.Njj(c.ignoreSuggestion(o))})("selected",function(o){const c=e.eBV(t).$implicit,g=e.XpG(4);return e.Njj(g.onSelected(c,o))})("approveAndImport",function(o){e.eBV(t);const c=e.XpG(4);return e.Njj(c.approveAndImport(o))}),e.k0s()()}if(2&n){const t=a.$implicit,s=e.XpG(4);e.R7$(),e.Y8G("object",t)("isSelected",!!s.selectedSuggestions[t.id])("isCollectionFixed",s.isCollectionFixed(e.eq3(3,Je,t)))}}function et(n,a){if(1&n){const t=e.RV6();e.j41(0,"ds-pagination",14),e.bIt("paginationChange",function(){e.eBV(t);const o=e.XpG(3);return e.Njj(o.onPaginationChange())}),e.j41(1,"ul",15),e.DNE(2,qe,2,5,"li",16),e.k0s()()}if(2&n){const t=e.XpG(2).ngVar,s=e.XpG();e.Y8G("paginationOptions",s.paginationOptions)("sortOptions",s.paginationSortConfig)("collectionSize",null==t||null==t.pageInfo?null:t.pageInfo.totalElements)("hideGear",!1)("hidePagerWhenSinglePage",!1)("hidePaginationDetail",!1),e.R7$(2),e.Y8G("ngForOf",null==t?null:t.page)}}function tt(n,a){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"h1"),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"a",6),e.EFF(5),e.k0s(),e.EFF(6),e.nI1(7,"translate"),e.nI1(8,"translate"),e.k0s(),e.j41(9,"div",7)(10,"button",8),e.bIt("click",function(){e.eBV(t);const o=e.XpG().ngVar,c=e.XpG();return e.Njj(c.onToggleSelectAll(o.page))}),e.EFF(11,"Select / Deselect All"),e.k0s(),e.j41(12,"em"),e.EFF(13),e.k0s(),e.DNE(14,We,1,2,"ds-suggestion-actions",9)(15,Ze,1,0,"i",10),e.k0s(),e.DNE(16,et,3,7,"ds-pagination",11),e.nI1(17,"async"),e.k0s()}if(2&n){const t=e.XpG(2);e.R7$(2),e.SpI(" ",e.bMT(3,9,"suggestion.suggestionFor")," "),e.R7$(2),e.Y8G("routerLink",e.eq3(17,Ke,t.researcherUuid)),e.R7$(),e.JRh(t.researcherName),e.R7$(),e.Lme(" ",e.bMT(7,11,"suggestion.from.source")," ",e.bMT(8,13,t.translateSuggestionSource())," "),e.R7$(7),e.SpI("(",t.getSelectedSuggestionsCount(),")"),e.R7$(),e.Y8G("ngIf",t.getSelectedSuggestionsCount()>0),e.R7$(),e.Y8G("ngIf",t.isBulkOperationPending),e.R7$(),e.Y8G("ngIf",!0!==e.bMT(17,15,t.processing$))}}function nt(n,a){1&n&&(e.j41(0,"ds-alert",19),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.Y8G("type","alert-info"),e.R7$(),e.SpI(" ",e.bMT(2,2,"suggestion.count.missing")," "))}function st(n,a){if(1&n&&(e.qex(0),e.DNE(1,Qe,1,0,"ds-loading",4),e.nI1(2,"async"),e.DNE(3,tt,18,19,"div",4),e.nI1(4,"async"),e.DNE(5,nt,3,4,"ds-alert",5),e.nI1(6,"async"),e.bVm()),2&n){const t=a.ngVar,s=e.XpG();e.R7$(),e.Y8G("ngIf",e.bMT(2,3,s.processing$)),e.R7$(2),e.Y8G("ngIf",!0!==e.bMT(4,5,s.processing$)&&(null==t||null==t.pageInfo?null:t.pageInfo.totalElements)>0),e.R7$(2),e.Y8G("ngIf",!0!==e.bMT(6,7,s.processing$)&&(0===(null==t||null==t.pageInfo?null:t.pageInfo.totalElements)||!t))}}let it=(()=>{class n{constructor(t,s,o,c,g,ct,rt,gt,lt){this.authService=t,this.notificationService=s,this.paginationService=o,this.route=c,this.router=g,this.suggestionService=ct,this.suggestionTargetsStateService=rt,this.translateService=gt,this.workspaceItemService=lt,this.paginationOptions=Object.assign(new we.W,{id:"sp",pageSizeOptions:[5,10,20,40,60]}),this.paginationSortConfig=new R.z("trust",R.U.DESC),this.defaultConfig=Object.assign(new U._,{sort:this.paginationSortConfig}),this.processing$=new E.t(!1),this.suggestionsRD$=new E.t({}),this.selectedSuggestions={},this.isBulkOperationPending=!1}ngOnInit(){this.targetRD$=this.route.data.pipe((0,v.T)(t=>t.suggestionTargets),(0,z.QD)(this.router,this.authService)),this.targetId$=this.targetRD$.pipe((0,h.ak)(),(0,v.T)(t=>t.id)),this.targetRD$.pipe((0,h.ak)(),(0,m.M)(t=>{this.suggestionTarget=t,this.suggestionId=t.id,this.researcherName=t.display,this.suggestionSource=t.source,this.researcherUuid=this.suggestionService.getTargetUuid(t)}),(0,_.n)(()=>this.updatePage())).subscribe(),this.suggestionTargetsStateService.dispatchMarkUserSuggestionsAsVisitedAction()}onPaginationChange(){this.updatePage().subscribe()}updatePage(){this.processing$.next(!0);const t=this.paginationService.getFindListOptions(this.paginationOptions.id,this.defaultConfig).pipe((0,Y.F)());return(0,C.z)([this.targetId$,t]).pipe((0,_.n)(([s,o])=>this.suggestionService.getSuggestions(s,o.elementsPerPage,o.currentPage,o.sort)),(0,h.qD)(),(0,m.M)(s=>{this.processing$.next(!1),this.suggestionsRD$.next(s.hasSucceeded?s.payload:null),this.suggestionService.clearSuggestionRequests()}))}ignoreSuggestion(t){this.suggestionService.ignoreSuggestion(t).pipe((0,m.M)(()=>this.suggestionTargetsStateService.dispatchRefreshUserSuggestionsAction()),(0,_.n)(()=>this.updatePage())).subscribe()}ignoreSuggestionAllSelected(){this.isBulkOperationPending=!0,this.suggestionService.ignoreSuggestionMultiple(Object.values(this.selectedSuggestions)).pipe((0,m.M)(t=>{this.suggestionTargetsStateService.dispatchRefreshUserSuggestionsAction(),this.isBulkOperationPending=!1,this.selectedSuggestions={},t.success>0&&this.notificationService.success(this.translateService.get("suggestion.ignoreSuggestion.bulk.success",{count:t.success})),t.fails>0&&this.notificationService.error(this.translateService.get("suggestion.ignoreSuggestion.bulk.error",{count:t.fails}))}),(0,_.n)(()=>this.updatePage())).subscribe()}approveAndImport(t){this.suggestionService.approveAndImport(this.workspaceItemService,t.suggestion,t.collectionId).pipe((0,m.M)(s=>{const o=this.translateService.instant("suggestion.approveAndImport.success",{url:(0,He.Uf)(s.id)});this.notificationService.success("",o,{timeOut:0},!0),this.suggestionTargetsStateService.dispatchRefreshUserSuggestionsAction()}),(0,_.n)(()=>this.updatePage())).subscribe()}approveAndImportAllSelected(t){this.isBulkOperationPending=!0,this.suggestionService.approveAndImportMultiple(this.workspaceItemService,Object.values(this.selectedSuggestions),t.collectionId).pipe((0,m.M)(s=>{this.suggestionTargetsStateService.dispatchRefreshUserSuggestionsAction(),this.isBulkOperationPending=!1,this.selectedSuggestions={},s.success>0&&this.notificationService.success(this.translateService.get("suggestion.approveAndImport.bulk.success",{count:s.success})),s.fails>0&&this.notificationService.error(this.translateService.get("suggestion.approveAndImport.bulk.error",{count:s.fails}))}),(0,_.n)(()=>this.updatePage())).subscribe()}onSelected(t,s){s?this.selectedSuggestions[t.id]=t:delete this.selectedSuggestions[t.id]}onToggleSelectAll(t){this.getSelectedSuggestionsCount()>0?this.selectedSuggestions={}:t.forEach(s=>{this.selectedSuggestions[s.id]=s})}getSelectedSuggestionsCount(){return Object.keys(this.selectedSuggestions).length}isCollectionFixed(t){return this.suggestionService.isCollectionFixed(t)}translateSuggestionSource(){return this.suggestionService.translateSuggestionSource(this.suggestionSource)}translateSuggestionType(){return this.suggestionService.translateSuggestionType(this.suggestionSource)}static{this.\u0275fac=function(s){return new(s||n)(e.rXU(X.uR),e.rXU(Xe.I),e.rXU(w.m),e.rXU(I.nX),e.rXU(I.Ix),e.rXU(Ve.F),e.rXU(De.x),e.rXU(d.c$),e.rXU(H.WorkspaceitemDataService))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ds-suggestion-page"]],standalone:!0,features:[e.aNF],decls:5,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-12"],[4,"ngVar"],[4,"ngIf"],[3,"type",4,"ngIf"],["target","_blank",3,"routerLink"],[1,"mb-3","mt-3"],[1,"btn","me-2","btn-light",3,"click"],["class","m-2",3,"isBulk","isCollectionFixed","approveAndImport","ignoreSuggestionClicked",4,"ngIf"],["class","fas fa-circle-notch fa-spin",4,"ngIf"],[3,"paginationOptions","sortOptions","collectionSize","hideGear","hidePagerWhenSinglePage","hidePaginationDetail","paginationChange",4,"ngIf"],[1,"m-2",3,"approveAndImport","ignoreSuggestionClicked","isBulk","isCollectionFixed"],[1,"fas","fa-circle-notch","fa-spin"],[3,"paginationChange","paginationOptions","sortOptions","collectionSize","hideGear","hidePagerWhenSinglePage","hidePaginationDetail"],[1,"list-unstyled"],["class","mt-4 mb-4",4,"ngFor","ngForOf"],[1,"mt-4","mb-4"],[3,"ignoreSuggestionClicked","selected","approveAndImport","object","isSelected","isCollectionFixed"],[3,"type"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.DNE(3,st,7,9,"ng-container",3),e.nI1(4,"async"),e.k0s()()()),2&s&&(e.R7$(3),e.Y8G("ngVar",e.bMT(4,1,o.suggestionsRD$)))},dependencies:[u.Jj,ze.r,u.bT,I.Wk,d.h,d.D9,x,Ye.v,Ue.e,Ne,u.Sq,Be.C]})}}return n})();var ot=i(94791);const at=[{path:":targetId",resolve:{suggestionTargets:(n,a,t=(0,e.WQX)(ot.SuggestionTargetDataService))=>t.getTargetById(n.params.targetId).pipe((0,h.qD)()),breadcrumb:(n,a,t=(0,e.WQX)(V))=>({provider:t,key:n.paramMap.get("targetId").split(":")[1]})},data:{title:"admin.notifications.publicationclaim.page.title",breadcrumbKey:"admin.notifications.publicationclaim",showBreadcrumbsFluid:!1},canActivate:[M.t],runGuardsAndResolvers:"always",component:it}]}}]);