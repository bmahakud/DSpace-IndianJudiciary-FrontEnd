(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[8792],{25093:(F,b,n)=>{"use strict";n.d(b,{Ax:()=>h,P5:()=>u,bL:()=>e,mK:()=>f,w4:()=>m,xl:()=>v});var i=n(69799),t=n(45663);const u="epeople";function e(){return new t.t((0,i.XG)(),u).toString()}function h(E){return new t.t(e(),E,"edit").toString()}const m="groups";function f(){return new t.t((0,i.XG)(),m).toString()}function v(E){return new t.t(f(),E,"edit").toString()}},19353:(F,b,n)=>{"use strict";n.d(b,{_c:()=>u,bA:()=>t,oQ:()=>e});var i=n(91e3);const t={EDIT_EPERSON:(0,i.N)("dspace/epeople-registry/EDIT_EPERSON"),CANCEL_EDIT_EPERSON:(0,i.N)("dspace/epeople-registry/CANCEL_EDIT_EPERSON")};class u{constructor(m){this.type=t.EDIT_EPERSON,this.eperson=m}}class e{constructor(){this.type=t.CANCEL_EDIT_EPERSON}}},72796:(F,b,n)=>{"use strict";n.d(b,{v:()=>ce});var i=n(60177),t=n(89417),u=n(7901),e=n(41780),h=n(84412),m=n(84572),f=n(7673),v=n(25558),E=n(96354),_=n(39901),C=n(96697),S=n(96526),R=n(96820),T=n(74449),A=n(44494),p=n(79145),L=n(22978),D=n(80183),w=n(60456),M=n(48674),x=n(39806),j=n(5682),U=n(23401),$=n(25093),k=n(54438);const K=()=>["top","right","bottom"],X=Te=>({content:"admin.access-control.groups.form.tooltip.editGroup.addEpeople",id:"edit-group-add-epeople",iconPlacement:"right",tooltipPlacement:Te}),G=Te=>({name:Te}),q=Te=>["btn btn-sm",Te];function z(Te,be){if(1&Te){const me=k.RV6();k.j41(0,"button",22),k.nI1(1,"translate"),k.bIt("click",function(){k.eBV(me);const Ee=k.XpG().$implicit,De=k.XpG(2);return k.Njj(De.deleteMemberFromGroup(Ee.eperson))}),k.nrm(2,"i",23),k.k0s()}if(2&Te){const me=k.XpG().$implicit,re=k.XpG(2);k.FS9("title",k.i5U(1,4,re.messagePrefix+".table.edit.buttons.remove",k.eq3(7,G,re.dsoNameService.getName(me.eperson)))),k.Y8G("dsBtnDisabled",re.actionConfig.remove.disabled)("ngClass",k.eq3(9,q,re.actionConfig.remove.css)),k.R7$(2),k.Y8G("ngClass",re.actionConfig.remove.icon)}}function te(Te,be){if(1&Te){const me=k.RV6();k.j41(0,"button",22),k.nI1(1,"translate"),k.bIt("click",function(){k.eBV(me);const Ee=k.XpG().$implicit,De=k.XpG(2);return k.Njj(De.addMemberToGroup(Ee.eperson))}),k.nrm(2,"i",23),k.k0s()}if(2&Te){const me=k.XpG().$implicit,re=k.XpG(2);k.FS9("title",k.i5U(1,4,re.messagePrefix+".table.edit.buttons.add",k.eq3(7,G,re.dsoNameService.getName(me.eperson)))),k.Y8G("dsBtnDisabled",re.actionConfig.add.disabled)("ngClass",k.eq3(9,q,re.actionConfig.add.css)),k.R7$(2),k.Y8G("ngClass",re.actionConfig.add.icon)}}function Z(Te,be){if(1&Te&&(k.j41(0,"tr")(1,"td",17),k.EFF(2),k.k0s(),k.j41(3,"td",17)(4,"a",19),k.EFF(5),k.k0s()(),k.j41(6,"td",17),k.EFF(7),k.nI1(8,"translate"),k.nrm(9,"br"),k.EFF(10),k.nI1(11,"translate"),k.k0s(),k.j41(12,"td",17)(13,"div",20),k.DNE(14,z,3,11,"button",21)(15,te,3,11,"button",21),k.k0s()()()),2&Te){const me=be.$implicit,re=k.XpG(2);k.R7$(2),k.JRh(me.eperson.id),k.R7$(2),k.Y8G("routerLink",re.getEPersonEditRoute(me.eperson.id)),k.R7$(),k.SpI(" ",re.dsoNameService.getName(me.eperson)," "),k.R7$(2),k.Lme(" ",k.bMT(8,9,re.messagePrefix+".table.email"),": ",me.eperson.email?me.eperson.email:"-",""),k.R7$(3),k.Lme(" ",k.bMT(11,11,re.messagePrefix+".table.netid"),": ",me.eperson.netid?me.eperson.netid:"-"," "),k.R7$(4),k.Y8G("ngIf",me.ableToDelete),k.R7$(),k.Y8G("ngIf",!me.ableToDelete)}}function J(Te,be){if(1&Te&&(k.j41(0,"ds-pagination",13),k.nI1(1,"async"),k.j41(2,"div",14)(3,"table",15)(4,"thead")(5,"tr")(6,"th",16),k.EFF(7),k.nI1(8,"translate"),k.k0s(),k.j41(9,"th",16),k.EFF(10),k.nI1(11,"translate"),k.k0s(),k.j41(12,"th",16),k.EFF(13),k.nI1(14,"translate"),k.k0s(),k.j41(15,"th",17),k.EFF(16),k.nI1(17,"translate"),k.k0s()()(),k.j41(18,"tbody"),k.DNE(19,Z,16,13,"tr",18),k.nI1(20,"async"),k.k0s()()()()),2&Te){let me,re;const Ee=k.XpG();k.Y8G("paginationOptions",Ee.config)("collectionSize",null==(me=k.bMT(1,9,Ee.ePeopleMembersOfGroup))?null:me.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),k.R7$(7),k.JRh(k.bMT(8,11,Ee.messagePrefix+".table.id")),k.R7$(3),k.JRh(k.bMT(11,13,Ee.messagePrefix+".table.name")),k.R7$(3),k.JRh(k.bMT(14,15,Ee.messagePrefix+".table.identity")),k.R7$(3),k.JRh(k.bMT(17,17,Ee.messagePrefix+".table.edit")),k.R7$(3),k.Y8G("ngForOf",null==(re=k.bMT(20,19,Ee.ePeopleMembersOfGroup))?null:re.page)}}function Q(Te,be){if(1&Te&&(k.j41(0,"div",24),k.EFF(1),k.nI1(2,"translate"),k.k0s()),2&Te){const me=k.XpG();k.R7$(),k.SpI(" ",k.bMT(2,1,me.messagePrefix+".no-members-yet")," ")}}function ee(Te,be){if(1&Te&&(k.j41(0,"span"),k.EFF(1),k.nI1(2,"translate"),k.k0s()),2&Te){const me=k.XpG();k.R7$(),k.SpI(" ",k.bMT(2,1,me.messagePrefix+".search.head")," ")}}function le(Te,be){if(1&Te){const me=k.RV6();k.j41(0,"tr")(1,"td",17),k.EFF(2),k.k0s(),k.j41(3,"td",17)(4,"a",19),k.EFF(5),k.k0s()(),k.j41(6,"td",17),k.EFF(7),k.nI1(8,"translate"),k.nrm(9,"br"),k.EFF(10),k.nI1(11,"translate"),k.k0s(),k.j41(12,"td",17)(13,"div",20)(14,"button",22),k.nI1(15,"translate"),k.bIt("click",function(){const Ee=k.eBV(me).$implicit,De=k.XpG(2);return k.Njj(De.addMemberToGroup(Ee))}),k.nrm(16,"i",23),k.k0s()()()()}if(2&Te){const me=be.$implicit,re=k.XpG(2);k.R7$(2),k.JRh(me.id),k.R7$(2),k.Y8G("routerLink",re.getEPersonEditRoute(me.id)),k.R7$(),k.SpI(" ",re.dsoNameService.getName(me)," "),k.R7$(2),k.Lme(" ",k.bMT(8,11,re.messagePrefix+".table.email"),": ",me.email?me.email:"-",""),k.R7$(3),k.Lme(" ",k.bMT(11,13,re.messagePrefix+".table.netid"),": ",me.netid?me.netid:"-"," "),k.R7$(4),k.FS9("title",k.i5U(15,15,re.messagePrefix+".table.edit.buttons.add",k.eq3(18,G,re.dsoNameService.getName(me)))),k.Y8G("dsBtnDisabled",re.actionConfig.add.disabled)("ngClass",k.eq3(20,q,re.actionConfig.add.css)),k.R7$(2),k.Y8G("ngClass",re.actionConfig.add.icon)}}function ne(Te,be){if(1&Te&&(k.j41(0,"ds-pagination",13),k.nI1(1,"async"),k.j41(2,"div",14)(3,"table",25)(4,"thead")(5,"tr")(6,"th",16),k.EFF(7),k.nI1(8,"translate"),k.k0s(),k.j41(9,"th",16),k.EFF(10),k.nI1(11,"translate"),k.k0s(),k.j41(12,"th",16),k.EFF(13),k.nI1(14,"translate"),k.k0s(),k.j41(15,"th",17),k.EFF(16),k.nI1(17,"translate"),k.k0s()()(),k.j41(18,"tbody"),k.DNE(19,le,17,22,"tr",18),k.nI1(20,"async"),k.k0s()()()()),2&Te){let me,re;const Ee=k.XpG();k.Y8G("paginationOptions",Ee.configSearch)("collectionSize",null==(me=k.bMT(1,9,Ee.ePeopleSearch))?null:me.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),k.R7$(7),k.JRh(k.bMT(8,11,Ee.messagePrefix+".table.id")),k.R7$(3),k.JRh(k.bMT(11,13,Ee.messagePrefix+".table.name")),k.R7$(3),k.JRh(k.bMT(14,15,Ee.messagePrefix+".table.identity")),k.R7$(3),k.JRh(k.bMT(17,17,Ee.messagePrefix+".table.edit")),k.R7$(3),k.Y8G("ngForOf",null==(re=k.bMT(20,19,Ee.ePeopleSearch))?null:re.page)}}function fe(Te,be){if(1&Te&&(k.j41(0,"div",24),k.EFF(1),k.nI1(2,"translate"),k.k0s()),2&Te){const me=k.XpG();k.R7$(),k.SpI(" ",k.bMT(2,1,me.messagePrefix+".no-items")," ")}}var se=function(Te){return Te[Te.ActiveGroup=0]="ActiveGroup",Te[Te.Members=1]="Members",Te[Te.SearchResults=2]="SearchResults",Te}(se||{});let ce=(()=>{class Te{constructor(me,re,Ee,De,tt,ht,Fe,Et){this.groupDataService=me,this.ePersonDataService=re,this.translateService=Ee,this.notificationsService=De,this.formBuilder=tt,this.paginationService=ht,this.router=Fe,this.dsoNameService=Et,this.actionConfig={add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-plus fa-fw"},remove:{css:"btn-outline-danger",disabled:!1,icon:"fas fa-trash-alt fa-fw"}},this.ePeopleSearch=new h.t(void 0),this.ePeopleMembersOfGroup=new h.t(void 0),this.configSearch=Object.assign(new U.W,{id:"sml",pageSize:5,currentPage:1}),this.config=Object.assign(new U.W,{id:"ml",pageSize:5,currentPage:1}),this.subs=new Map,this.getEPersonEditRoute=$.Ax,this.currentSearchQuery=""}ngOnInit(){this.searchForm=this.formBuilder.group({query:""}),this.subs.set(se.ActiveGroup,this.groupDataService.getActiveGroup().subscribe(me=>{null!=me&&(this.groupBeingEdited=me,this.retrieveMembers(this.config.currentPage),this.search({query:""}))}))}retrieveMembers(me){this.unsubFrom(se.Members),this.subs.set(se.Members,this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,v.n)(re=>this.ePersonDataService.findListByHref(this.groupBeingEdited._links.epersons.href,{currentPage:re.currentPage,elementsPerPage:re.pageSize})),(0,D.bD)(),(0,E.T)(re=>{if(!re.hasFailed)return re;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:re.errorMessage}))}),(0,v.n)(re=>(0,m.z)([...re.payload.page.map(De=>(0,m.z)(this.isMemberOfGroup(De),ht=>{const Fe=new p.h;return Fe.eperson=De,Fe.ableToDelete=ht,Fe}))]).pipe((0,_.U)([]),(0,E.T)(De=>(0,R.g)(re.payload.pageInfo,De))))).subscribe(re=>{this.ePeopleMembersOfGroup.next(re)}))}isMemberOfGroup(me){return(0,f.of)(!0)}unsubFrom(me){this.subs.has(me)&&(this.subs.get(me).unsubscribe(),this.subs.delete(me))}deleteMemberFromGroup(me){this.groupDataService.getActiveGroup().pipe((0,C.s)(1)).subscribe(re=>{if(null!=re){const Ee=this.groupDataService.deleteMemberFromGroup(re,me);this.showNotifications("deleteMember",Ee,this.dsoNameService.getName(me),re),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}addMemberToGroup(me){this.groupDataService.getActiveGroup().pipe((0,C.s)(1)).subscribe(re=>{if(null!=re){const Ee=this.groupDataService.addMemberToGroup(re,me);this.showNotifications("addMember",Ee,this.dsoNameService.getName(me),re),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}search(me){this.unsubFrom(se.SearchResults),this.subs.set(se.SearchResults,this.paginationService.getCurrentPagination(this.configSearch.id,this.configSearch).pipe((0,v.n)(re=>{const Ee=me.query;return null!=Ee&&this.currentSearchQuery!==Ee&&this.groupBeingEdited&&(this.currentSearchQuery=Ee,this.paginationService.resetPage(this.configSearch.id)),this.searchDone=!0,this.ePersonDataService.searchNonMembers(this.currentSearchQuery,this.groupBeingEdited.id,{currentPage:re.currentPage,elementsPerPage:re.pageSize},!1,!0)}),(0,D.bD)(),(0,E.T)(re=>{if(!re.hasFailed)return re;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:re.errorMessage}))}),(0,D.Bo)()).subscribe(re=>{this.ePeopleSearch.next(re)}))}ngOnDestroy(){for(const me of this.subs.keys())this.unsubFrom(me);this.paginationService.clearPagination(this.config.id),this.paginationService.clearPagination(this.configSearch.id)}showNotifications(me,re,Ee,De){re.pipe((0,D.qD)()).subscribe(tt=>{tt.hasSucceeded?this.notificationsService.success(this.translateService.get(this.messagePrefix+".notification.success."+me,{name:Ee})):this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure."+me,{name:Ee}))})}clearFormAndResetResult(){this.searchForm.patchValue({query:""}),this.search({query:""})}static{this.\u0275fac=function(re){return new(re||Te)(k.rXU(A.GroupDataService),k.rXU(T.EPersonDataService),k.rXU(e.c$),k.rXU(x.I),k.rXU(t.ze),k.rXU(L.m),k.rXU(u.Ix),k.rXU(S.f))}}static{this.\u0275cmp=k.VBU({type:Te,selectors:[["ds-members-list"]],inputs:{messagePrefix:"messagePrefix",actionConfig:"actionConfig"},standalone:!0,features:[k.aNF],decls:31,vars:31,consts:[[1,"border-bottom","pb-2"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],["id","search",1,"border-bottom","pb-2"],[4,"dsContextHelp"],[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","me-3"],[1,"form-group","input-group","me-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","ePeopleMembersOfGroup",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"btn-group","edit-field"],[3,"dsBtnDisabled","ngClass","title","click",4,"ngIf"],[3,"click","dsBtnDisabled","ngClass","title"],[3,"ngClass"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","epersonsSearch",1,"table","table-striped","table-hover","table-bordered"]],template:function(re,Ee){if(1&re&&(k.qex(0),k.j41(1,"h2",0),k.EFF(2),k.nI1(3,"translate"),k.k0s(),k.j41(4,"h3"),k.EFF(5),k.nI1(6,"translate"),k.k0s(),k.DNE(7,J,21,21,"ds-pagination",1),k.nI1(8,"async"),k.DNE(9,Q,3,3,"div",2),k.nI1(10,"async"),k.nI1(11,"async"),k.j41(12,"h3",3),k.DNE(13,ee,3,3,"span",4),k.k0s(),k.j41(14,"form",5),k.bIt("ngSubmit",function(){return Ee.search(Ee.searchForm.value)}),k.j41(15,"div",6)(16,"div",7),k.nrm(17,"input",8),k.j41(18,"span",9)(19,"button",10),k.nrm(20,"i",11),k.EFF(21),k.nI1(22,"translate"),k.k0s()()()(),k.j41(23,"div")(24,"button",12),k.bIt("click",function(){return Ee.clearFormAndResetResult()}),k.EFF(25),k.nI1(26,"translate"),k.k0s()()(),k.DNE(27,ne,21,21,"ds-pagination",1),k.nI1(28,"async"),k.DNE(29,fe,3,3,"div",2),k.nI1(30,"async"),k.bVm()),2&re){let De,tt,ht,Fe;k.R7$(2),k.JRh(k.bMT(3,10,Ee.messagePrefix+".head")),k.R7$(3),k.JRh(k.bMT(6,12,Ee.messagePrefix+".headMembers")),k.R7$(2),k.Y8G("ngIf",(null==(De=k.bMT(8,14,Ee.ePeopleMembersOfGroup))?null:De.totalElements)>0),k.R7$(2),k.Y8G("ngIf",void 0===k.bMT(10,16,Ee.ePeopleMembersOfGroup)||0===(null==(tt=k.bMT(11,18,Ee.ePeopleMembersOfGroup))?null:tt.totalElements)),k.R7$(4),k.Y8G("dsContextHelp",k.eq3(29,X,k.lJ4(28,K))),k.R7$(),k.Y8G("formGroup",Ee.searchForm),k.R7$(7),k.SpI(" ",k.bMT(22,20,Ee.messagePrefix+".search.button"),""),k.R7$(4),k.JRh(k.bMT(26,22,Ee.messagePrefix+".button.see-all")),k.R7$(2),k.Y8G("ngIf",(null==(ht=k.bMT(28,24,Ee.ePeopleSearch))?null:ht.totalElements)>0),k.R7$(2),k.Y8G("ngIf",0===(null==(Fe=k.bMT(30,26,Ee.ePeopleSearch))?null:Fe.totalElements)&&Ee.searchDone)}},dependencies:[e.h,e.D9,M.G,t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,j.e,i.bT,i.Jj,u.Wk,i.YU,i.Sq,w.A],encapsulation:2})}}return Te})()},85255:(F,b,n)=>{"use strict";n.d(b,{C:()=>u,O3:()=>t,Sb:()=>e});var i=n(91e3);const t={EDIT_GROUP:(0,i.N)("dspace/epeople-registry/EDIT_GROUP"),CANCEL_EDIT_GROUP:(0,i.N)("dspace/epeople-registry/CANCEL_EDIT_GROUP")};class u{constructor(m){this.type=t.EDIT_GROUP,this.group=m}}class e{constructor(){this.type=t.CANCEL_EDIT_GROUP}}},68630:(F,b,n)=>{"use strict";n.r(b),n.d(b,{LdnServicesService:()=>w});var i=n(96697),t=n(96354),u=n(72734),e=n(53954),h=n(41684),m=n(39280),f=n(13617),v=n(46787),E=n(63897),_=n(87158),C=n(35108),S=n(41023),R=n(43052),T=n(32473),A=n(4910),p=n(45663),L=n(39806),D=n(54438);let w=(()=>{class M extends E.W{constructor(j,U,$,k,K){super("ldnservices",j,U,$,k),this.requestService=j,this.rdbService=U,this.objectCache=$,this.halService=k,this.notificationsService=K,this.findByPatternEndpoint="byInboundPattern",this.findAllData=new v.H(this.linkPath,j,U,$,k,this.responseMsToLive),this.searchData=new C.X(this.linkPath,j,U,$,k,this.responseMsToLive),this.deleteData=new f.I(this.linkPath,j,U,$,k,K,this.responseMsToLive,this.constructIdEndpoint),this.patchData=new _.n(this.linkPath,j,U,$,k,this.comparator,this.responseMsToLive,this.constructIdEndpoint),this.createData=new m.V(this.linkPath,j,U,$,k,K,this.responseMsToLive)}create(j,...U){return this.createData.create(j,...U)}patch(j,U){return this.patchData.patch(j,U)}update(j){return this.patchData.update(j)}commitUpdates(j){return this.patchData.commitUpdates(j)}createPatchFromCache(j){return this.patchData.createPatchFromCache(j)}findAll(j,U,$,...k){return this.findAllData.findAll(j,U,$,...k)}findByInboundPattern(j,U,$,k,...K){const X=[new e.x("pattern",j)],G=Object.assign(new S._,U,{searchParams:X});return this.searchBy(this.findByPatternEndpoint,G,$,k,...K)}delete(j,U){return this.deleteData.delete(j,U)}deleteByHref(j,U){return this.deleteData.deleteByHref(j,U)}searchBy(j,U,$,k,...K){return this.searchData.searchBy(j,U,$,k,...K)}invoke(j,U,$,k){const K=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,i.s)(1),(0,t.T)(X=>new p.t(X,j,"processes",U).toString()),(0,t.T)(X=>{const G=this.getInvocationFormData($,k);return new R.E0(K,X,G)})).subscribe(X=>this.requestService.send(X)),this.rdbService.buildFromRequestUUID(K)}getInvocationFormData(j,U){const $=new FormData;return $.set("properties",JSON.stringify(j)),U.forEach(k=>{$.append("file",k)}),$}static{this.\u0275fac=function(U){return new(U||M)(D.KVO(T.B),D.KVO(u.o),D.KVO(h.$),D.KVO(A.Y),D.KVO(L.I))}}static{this.\u0275prov=D.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},29009:(F,b,n)=>{"use strict";n.d(b,{tc:()=>u,uC:()=>e,zd:()=>t});var i=n(42547);const t=new i.v("ldnservice"),u=new i.v("itemfilters"),e=new i.v("itemfilter")},13275:(F,b,n)=>{"use strict";n.d(b,{VZ:()=>t,rn:()=>i,wU:()=>u});const i="quality-assurance",t="publication-claim";function u(){return`/${i}`}},40887:(F,b,n)=>{"use strict";n.d(b,{o:()=>t});var i=n(78541);class t extends i.q{}},3e3:(F,b,n)=>{"use strict";n.d(b,{a:()=>v});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(76829),m=n(98688),f=n(60654);let v=class extends h.M{constructor(){super(...arguments),this.type=f.g}static{this.type=f.g}get self(){return this._links.self.href}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([m.aK,(0,i.Sn)("design:type",Object)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"notificationId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"notificationType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"coarNotifyType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"activityStreamType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"inReplyTo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"object",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"relatedItem",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"ldnService",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"context",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"message",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"queueAttempts",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"queueLastStartTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],v.prototype,"origin",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],v.prototype,"target",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"queueStatusLabel",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"queueTimeout",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"queueStatus",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"thumbnail",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",u.c)],v.prototype,"item",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",u.c)],v.prototype,"accessStatus",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(h.M)],v)},60654:(F,b,n)=>{"use strict";n.d(b,{g:()=>t});const t=new(n(42547).v)("message")},88857:(F,b,n)=>{"use strict";n.r(b),n.d(b,{AdminNotifyMessagesService:()=>w});var i=n(22806),t=n(7673),u=n(31943),e=n(73028),h=n(96354),m=n(88141),f=n(25558),v=n(72734),E=n(41684),_=n(63897),C=n(29326),S=n(43052),R=n(32473),T=n(4910),A=n(80183),p=n(39806),L=n(68630),D=n(54438);let w=(()=>{class M extends _.W{constructor(j,U,$,k,K,X,G){super("messages",j,U,$,k),this.requestService=j,this.rdbService=U,this.objectCache=$,this.halService=k,this.notificationsService=K,this.ldnServicesService=X,this.itemDataService=G,this.reprocessEndpoint="enqueueretry"}getDetailedMessages(j){return(0,i.H)(j).pipe((0,e.Z)(U=>U.target||U.origin?this.ldnServicesService.findById((U.target||U.origin).toString()).pipe((0,A.Hz)(),(0,h.T)($=>({...U,ldnService:$.name}))):(0,t.of)(U)),(0,e.Z)(U=>U.object||U.context?this.itemDataService.findById(U.object||U.context).pipe((0,A.Hz)(),(0,h.T)($=>({...U,relatedItem:$.name}))):(0,t.of)(U)),(0,u.S)((U,$)=>[...U,$],[]))}reprocessMessage(j,U){const $=this.requestService.generateRequestId();return this.halService.getEndpoint(this.reprocessEndpoint).pipe((0,h.T)(k=>k.replace("{id}",j.id)),(0,h.T)(k=>new S.Qf($,k)),(0,m.M)(k=>this.requestService.send(k)),(0,f.n)(k=>this.rdbService.buildFromRequestUUID(k.uuid)),(0,A.qD)(),(0,A.Hz)(),(0,e.Z)(k=>this.getDetailedMessages([k]))).pipe((0,e.Z)(k=>U.pipe((0,h.T)(K=>{const X=k[0],G=K.find(z=>z.id===j.id),q=K.indexOf(G);return X.target=j.target,X.object=j.object,X.origin=j.origin,X.context=j.context,K[q]=X,K}))))}static{this.\u0275fac=function(U){return new(U||M)(D.KVO(R.B),D.KVO(v.o),D.KVO(E.$),D.KVO(T.Y),D.KVO(p.I),D.KVO(L.LdnServicesService),D.KVO(C.ItemDataService))}}static{this.\u0275prov=D.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},29679:(F,b,n)=>{"use strict";n.d(b,{Cv:()=>e,Sh:()=>t,ZU:()=>h,hO:()=>u});var i=n(91e3);const t={SELECT_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/SELECT_FORMAT"),DESELECT_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/DESELECT_FORMAT"),DESELECT_ALL_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/DESELECT_ALL_FORMAT")};class u{constructor(f){this.type=t.SELECT_FORMAT,this.bitstreamFormat=f}}class e{constructor(f){this.type=t.DESELECT_FORMAT,this.bitstreamFormat=f}}class h{constructor(){this.type=t.DESELECT_ALL_FORMAT}}},86628:(F,b,n)=>{"use strict";n.d(b,{Gr:()=>f,Kt:()=>t,Q6:()=>h,TE:()=>S,Tf:()=>E,Wi:()=>e,dF:()=>v,jC:()=>_,w2:()=>u,yb:()=>C,zn:()=>m});var i=n(91e3);const t={EDIT_SCHEMA:(0,i.N)("dspace/metadata-registry/EDIT_SCHEMA"),CANCEL_EDIT_SCHEMA:(0,i.N)("dspace/metadata-registry/CANCEL_SCHEMA"),SELECT_SCHEMA:(0,i.N)("dspace/metadata-registry/SELECT_SCHEMA"),DESELECT_SCHEMA:(0,i.N)("dspace/metadata-registry/DESELECT_SCHEMA"),DESELECT_ALL_SCHEMA:(0,i.N)("dspace/metadata-registry/DESELECT_ALL_SCHEMA"),EDIT_FIELD:(0,i.N)("dspace/metadata-registry/EDIT_FIELD"),CANCEL_EDIT_FIELD:(0,i.N)("dspace/metadata-registry/CANCEL_FIELD"),SELECT_FIELD:(0,i.N)("dspace/metadata-registry/SELECT_FIELD"),DESELECT_FIELD:(0,i.N)("dspace/metadata-registry/DESELECT_FIELD"),DESELECT_ALL_FIELD:(0,i.N)("dspace/metadata-registry/DESELECT_ALL_FIELD")};class u{constructor(T){this.type=t.EDIT_SCHEMA,this.schema=T}}class e{constructor(){this.type=t.CANCEL_EDIT_SCHEMA}}class h{constructor(T){this.type=t.SELECT_SCHEMA,this.schema=T}}class m{constructor(T){this.type=t.DESELECT_SCHEMA,this.schema=T}}class f{constructor(){this.type=t.DESELECT_ALL_SCHEMA}}class v{constructor(T){this.type=t.EDIT_FIELD,this.field=T}}class E{constructor(){this.type=t.CANCEL_EDIT_FIELD}}class _{constructor(T){this.type=t.SELECT_FIELD,this.field=T}}class C{constructor(T){this.type=t.DESELECT_FIELD,this.field=T}}class S{constructor(){this.type=t.DESELECT_ALL_FIELD}}},47483:(F,b,n)=>{"use strict";n.d(b,{P$:()=>E,b7:()=>S,iF:()=>v,jE:()=>e,p8:()=>f,uD:()=>h,z$:()=>m});var i=n(69799),t=n(45663),u=n(13275);const e="registries",h="notifications",m="ldn",f="reports",v="notify-dashboard";function E(){return new t.t((0,i.D6)(),e).toString()}function S(){return new t.t(`/${h}`,(0,u.wU)()).toString()}},9901:(F,b,n)=>{"use strict";n.d(b,{g:()=>C});var i=n(60177),t=n(7901),u=n(41780),e=n(82777),h=n(39548),m=n(19340),f=n(6446),v=n(75465),E=n(54438);const _=S=>({disabled:S});let C=(()=>{class S extends f.a{constructor(T,A,p,L){super(T,A,p),this.menuService=A,this.injector=p,this.router=L,this.menuID=m.D.ADMIN,this.itemModel=T.model}ngOnInit(){this.isDisabled=this.itemModel?.disabled||(0,e.Im)(this.itemModel?.link),super.ngOnInit()}navigate(T){T.preventDefault(),this.isDisabled||this.router.navigate(this.itemModel.link)}adminMenuSectionId(T){return`admin-menu-section-${T}`}adminMenuSectionTitleId(T){return`admin-menu-section-${T}-title`}static{this.\u0275fac=function(A){return new(A||S)(E.rXU("sectionDataProvider"),E.rXU(h.$),E.rXU(E.zZn),E.rXU(t.Ix))}}static{this.\u0275cmp=E.VBU({type:S,selectors:[["ds-admin-sidebar-section"]],standalone:!0,features:[E.Vt3,E.aNF],decls:10,vars:16,consts:[["role","menuitem","href","javascript:void(0);",1,"sidebar-section-wrapper",3,"keyup.space","keyup.enter","ngClass","routerLink"],["data-test","sidebar-section-icon","aria-hidden","true",1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item"],[3,"id"]],template:function(A,p){1&A&&(E.j41(0,"div")(1,"a",0),E.bIt("keyup.space",function(D){return p.navigate(D)})("keyup.enter",function(D){return p.navigate(D)}),E.j41(2,"div",1),E.nrm(3,"i"),E.k0s(),E.j41(4,"div",2)(5,"div",3)(6,"span",4),E.nI1(7,"dsBrowserOnly"),E.EFF(8),E.nI1(9,"translate"),E.k0s()()()()()),2&A&&(E.R7$(),E.Y8G("ngClass",E.eq3(14,_,p.isDisabled))("routerLink",p.itemModel.link),E.BMQ("aria-disabled",p.isDisabled)("aria-labelledby",p.adminMenuSectionTitleId(p.section.id)),E.R7$(2),E.ZvI("fas fa-",p.section.icon," fa-fw"),E.R7$(3),E.Y8G("id",p.adminMenuSectionTitleId(p.section.id)),E.BMQ("data-test",E.bMT(7,10,p.adminMenuSectionTitleId(p.section.id))),E.R7$(2),E.SpI(" ",E.bMT(9,12,p.itemModel.text)," "))},dependencies:[i.YU,t.Wk,u.h,u.D9,v.L]})}}return S})()},43832:(F,b,n)=>{"use strict";n.r(b),n.d(b,{AdminSidebarComponent:()=>z});var i=n(60177),t=n(58003),u=n(41780),e=n(84412),h=n(84572),m=n(61594),f=n(96354),v=n(70152),E=n(23294),_=n(53993),C=n(67116),S=n(65007),R=n(621),T=n(30458),A=n(39548),p=n(19340),L=n(1221),D=n(82522),w=n(75465),M=n(54438),x=n(7901);const j=(te,Z,J)=>({expanded:te,collapsed:Z,transitioning:J}),U=(te,Z)=>({collapsedWidth:te,expandedWidth:Z}),$=(te,Z)=>({value:te,params:Z});function k(te,Z){1&te&&M.eu8(0)}function K(te,Z){if(1&te&&(M.qex(0),M.DNE(1,k,1,0,"ng-container",16),M.nI1(2,"async"),M.nI1(3,"async"),M.bVm()),2&te){const J=Z.$implicit,Q=M.XpG(2);M.R7$(),M.Y8G("ngComponentOutlet",M.bMT(2,2,Q.sectionMap$).get(J.id).component)("ngComponentOutletInjector",M.bMT(3,4,Q.sectionMap$).get(J.id).injector)}}function X(te,Z){1&te&&(M.nrm(0,"i",17),M.nI1(1,"translate")),2&te&&M.Y8G("title",M.bMT(1,1,"menu.section.icon.pin"))}function G(te,Z){1&te&&(M.nrm(0,"i",18),M.nI1(1,"translate")),2&te&&M.Y8G("title",M.bMT(1,1,"menu.section.icon.unpin"))}function q(te,Z){if(1&te){const J=M.RV6();M.j41(0,"nav",1),M.nI1(1,"async"),M.nI1(2,"async"),M.nI1(3,"async"),M.nI1(4,"translate"),M.bIt("@slideSidebar.done",function(ee){M.eBV(J);const le=M.XpG();return M.Njj(le.finishSlide(ee))})("@slideSidebar.start",function(ee){M.eBV(J);const le=M.XpG();return M.Njj(le.startSlide(ee))})("mouseenter",function(ee){M.eBV(J);const le=M.XpG();return M.Njj(le.handleMouseEnter(ee))})("mouseleave",function(ee){M.eBV(J);const le=M.XpG();return M.Njj(le.handleMouseLeave(ee))}),M.j41(5,"div",2)(6,"div",3)(7,"div",4),M.nrm(8,"img",5),M.nI1(9,"translate"),M.k0s(),M.j41(10,"div",6)(11,"div",7)(12,"h4",8),M.EFF(13),M.nI1(14,"translate"),M.k0s()()()()(),M.j41(15,"div",9)(16,"div",10),M.nI1(17,"translate"),M.DNE(18,K,4,6,"ng-container",11),M.nI1(19,"async"),M.k0s()(),M.j41(20,"div",12)(21,"a",13),M.nI1(22,"dsBrowserOnly"),M.bIt("click",function(ee){M.eBV(J);const le=M.XpG();return M.Njj(le.toggle(ee))})("keyup.space",function(ee){M.eBV(J);const le=M.XpG();return M.Njj(le.toggle(ee))}),M.j41(23,"div",4),M.DNE(24,X,2,3,"i",14),M.nI1(25,"async"),M.DNE(26,G,2,3,"i",15),M.nI1(27,"async"),M.k0s(),M.j41(28,"div",6)(29,"div",7),M.EFF(30),M.nI1(31,"async"),M.nI1(32,"translate"),M.k0s()()()()()}if(2&te){const J=M.XpG();M.Y8G("ngClass",M.sMw(37,j,J.sidebarOpen,J.sidebarClosed,J.sidebarTransitioning))("@slideSidebar",M.l_i(44,$,!0!==M.bMT(1,11,J.sidebarExpanded)?"collapsed":"expanded",M.l_i(41,U,M.bMT(2,13,J.collapsedSidebarWidth$),M.bMT(3,15,J.expandedSidebarWidth$)))),M.BMQ("aria-label",M.bMT(4,17,"menu.header.nav.description")),M.R7$(8),M.Y8G("alt",M.bMT(9,19,"menu.header.image.logo")),M.R7$(5),M.JRh(M.bMT(14,21,"menu.header.admin")),M.R7$(3),M.BMQ("aria-label",M.bMT(17,23,"menu.header.admin.description")),M.R7$(2),M.Y8G("ngForOf",M.bMT(19,25,J.sections)),M.R7$(3),M.BMQ("data-test",M.bMT(22,27,"sidebar-collapse-toggle")),M.R7$(3),M.Y8G("ngIf",M.bMT(25,29,J.menuCollapsed)),M.R7$(2),M.Y8G("ngIf",!0!==M.bMT(27,31,J.menuCollapsed)),M.R7$(4),M.SpI(" ",M.bMT(32,35,M.bMT(31,33,J.menuCollapsed)?"menu.section.pin":"menu.section.unpin")," ")}}let z=(()=>{class te extends T.Z{constructor(J,Q,ee,le,ne,fe,se){super(J,Q,ne,fe,se),this.menuService=J,this.injector=Q,this.variableService=ee,this.authService=le,this.authorizationService=ne,this.route=fe,this.themeService=se,this.menuID=p.D.ADMIN,this.sidebarOpen=!0,this.sidebarClosed=!this.sidebarOpen,this.sidebarTransitioning=!this.sidebarOpen,this.inFocus$=new e.t(!1)}ngOnInit(){super.ngOnInit(),this.authService.isAuthenticated().subscribe(J=>{J&&this.menuService.showMenu(this.menuID)}),this.menuCollapsed.pipe((0,m.$)()).subscribe(J=>{this.sidebarOpen=!J,this.sidebarClosed=J}),this.sidebarExpanded=(0,h.z)([this.menuCollapsed,this.menuPreviewCollapsed]).pipe((0,f.T)(([J,Q])=>!J||!Q)),this.inFocus$.pipe((0,v.B)(50),(0,E.F)(),(0,_.E)((0,h.z)([this.menuCollapsed,this.menuPreviewCollapsed]))).subscribe(([J,[Q,ee]])=>{Q&&(J&&ee?this.expandPreview(new Event("focusin \u2192 expand")):!J&&!ee&&this.collapsePreview(new Event("focusout \u2192 collapse")))}),this.menuVisible=this.menuService.isMenuVisibleWithVisibleSections(this.menuID)}handleFocusIn(){this.inFocus$.next(!0)}handleFocusOut(){this.inFocus$.next(!1)}handleMouseEnter(J){this.inFocus$.getValue()?J.preventDefault():this.expandPreview(J)}handleMouseLeave(J){this.inFocus$.getValue()?J.preventDefault():this.collapsePreview(J)}startSlide(J){this.sidebarTransitioning=!0,"expanded"===J.toState?this.sidebarClosed=!1:"collapsed"===J.toState&&(this.sidebarOpen=!1)}finishSlide(J){this.sidebarTransitioning=!1,"expanded"===J.fromState?this.sidebarClosed=!0:"collapsed"===J.fromState&&(this.sidebarOpen=!0)}static{this.\u0275fac=function(Q){return new(Q||te)(M.rXU(A.$),M.rXU(M.zZn),M.rXU(L.J),M.rXU(C.uR),M.rXU(S.AuthorizationDataService),M.rXU(x.nX),M.rXU(D.Fs))}}static{this.\u0275cmp=M.VBU({type:te,selectors:[["ds-base-admin-sidebar"]],hostBindings:function(Q,ee){1&Q&&M.bIt("focusin",function(){return ee.handleFocusIn()})("focusout",function(){return ee.handleFocusOut()})},inputs:{expandedSidebarWidth$:"expandedSidebarWidth$",collapsedSidebarWidth$:"collapsedSidebarWidth$"},standalone:!0,features:[M.Vt3,M.aNF],decls:2,vars:3,consts:[["class","navbar navbar-dark p-0 vh-100","id","admin-sidebar",3,"ngClass","mouseenter","mouseleave",4,"ngIf"],["id","admin-sidebar",1,"navbar","navbar-dark","p-0","vh-100",3,"mouseenter","mouseleave","ngClass"],["id","sidebar-header-container","aria-hidden","true",1,"sidebar-full-width-container"],[1,"sidebar-section-wrapper"],[1,"sidebar-fixed-element-wrapper"],["id","admin-sidebar-logo","src","assets/images/dspace-logo-mini.svg","aria-hidden","true",3,"alt"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item"],[1,"my-1"],["id","sidebar-top-level-items-container",1,"sidebar-full-width-container"],["id","sidebar-top-level-items","role","menubar",1,"sidebar-full-width-container"],[4,"ngFor","ngForOf"],["id","sidebar-collapse-toggle-container",1,"sidebar-full-width-container"],["id","sidebar-collapse-toggle","href","javascript:void(0);",1,"sidebar-section-wrapper","sidebar-full-width-container",3,"click","keyup.space"],["class","fas fa-fw fa-angle-double-right",3,"title",4,"ngIf"],["class","fas fa-fw fa-angle-double-left",3,"title",4,"ngIf"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[1,"fas","fa-fw","fa-angle-double-right",3,"title"],[1,"fas","fa-fw","fa-angle-double-left",3,"title"]],template:function(Q,ee){1&Q&&(M.DNE(0,q,33,47,"nav",0),M.nI1(1,"async")),2&Q&&M.Y8G("ngIf",M.bMT(1,1,ee.menuVisible))},dependencies:[i.bT,t.zH,t.QE,i.YU,i.pM,i.OI,i.Jj,u.h,u.D9,w.L],styles:["[_nghost-%COMP%]{position:fixed;left:0;top:0;z-index:var(--ds-sidebar-z-index)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]{max-width:var(--ds-admin-sidebar-fixed-element-width);display:flex;flex-direction:column;flex-wrap:nowrap}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]{flex:1 1 auto;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:var(--ds-dark-scrollbar-width);height:3px}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-button{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--ds-dark-scrollbar-alt-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{height:50px;background-color:var(--ds-dark-scrollbar-fg);border-radius:3px}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background-color:var(--ds-dark-scrollbar-alt-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-resizer{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   img#admin-sidebar-logo[_ngcontent-%COMP%]{height:var(--ds-admin-sidebar-logo-height)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-full-width-container{width:100%;padding-left:0;padding-right:0;margin-left:0;margin-right:0}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-item{padding-top:var(--ds-admin-sidebar-item-padding);padding-bottom:var(--ds-admin-sidebar-item-padding)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-fixed-element-wrapper{min-width:var(--ds-admin-sidebar-fixed-element-width);flex:1 1 auto;display:flex;flex-direction:row;justify-content:center;align-items:center}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-collapsible-element-outer-wrapper{display:flex;flex-wrap:wrap;justify-content:flex-end;max-width:calc(100% - var(--ds-admin-sidebar-fixed-element-width));padding-left:var(--ds-dark-scrollbar-width);overflow-x:hidden}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-collapsible-element-outer-wrapper>.sidebar-collapsible-element-inner-wrapper{min-width:calc(var(--ds-admin-sidebar-collapsible-element-width) - var(--ds-dark-scrollbar-width));height:100%;padding-right:var(--ds-admin-sidebar-item-padding)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]    {color:#fff}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a{color:var(--ds-admin-sidebar-link-color);text-decoration:none}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a:hover, [_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a:focus{color:var(--ds-admin-sidebar-link-hover-color)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-header-container[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-header-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-header-container[_ngcontent-%COMP%]   .sidebar-fixed-element-wrapper[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-header-bg)}  .browser-firefox-windows{--ds-dark-scrollbar-width: 20px}"],data:{animation:[R.ck]}})}}return te})()},99452:(F,b,n)=>{"use strict";n.d(b,{W:()=>k});var i=n(60177),t=n(41780),u=n(84572),e=n(96354),h=n(49969);const m=(0,h.iF)({backgroundColor:"{{ startColor }}"}),f=(0,h.iF)({backgroundColor:"{{ endColor }}"}),v=(0,h.hZ)("bgColor",[(0,h.wk)("startBackground",m,{params:{startColor:"*"}}),(0,h.wk)("endBackground",f,{params:{endColor:"*"}}),(0,h.kY)("startBackground <=> endBackground",(0,h.Os)([(0,h.P)("@*",(0,h.MA)()),(0,h.i0)("200ms")]))]);var E=n(68681),_=n(621),C=n(39548),S=n(19340),R=n(1221),T=n(75465),A=n(9901),p=n(54438),L=n(7901);const D=K=>({expanded:K}),w=K=>({endColor:K}),M=(K,X)=>({value:K,params:X});function x(K,X){1&K&&p.eu8(0)}function j(K,X){1&K&&p.eu8(0)}function U(K,X){if(1&K&&(p.j41(0,"div",14),p.DNE(1,j,1,0,"ng-container",6),p.nI1(2,"async"),p.nI1(3,"async"),p.k0s()),2&K){const G=X.$implicit,q=p.XpG(2);p.R7$(),p.Y8G("ngComponentOutlet",p.bMT(2,2,q.sectionMap$).get(G.id).component)("ngComponentOutletInjector",p.bMT(3,4,q.sectionMap$).get(G.id).injector)}}function $(K,X){if(1&K&&(p.j41(0,"div",9),p.nrm(1,"div",10),p.j41(2,"div",3)(3,"div",11)(4,"div",12),p.nI1(5,"translate"),p.DNE(6,U,4,6,"div",13),p.nI1(7,"async"),p.k0s()()()()),2&K){const G=p.XpG();p.Y8G("@slide",void 0),p.R7$(4),p.Y8G("id",G.adminMenuSectionId(G.section.id)),p.BMQ("aria-label",p.bMT(5,4,"menu.section."+G.section.id)),p.R7$(2),p.Y8G("ngForOf",p.bMT(7,6,G.subSections$))}}let k=(()=>{class K extends A.g{constructor(G,q,z,te,Z){super(G,q,te,Z),this.menuService=q,this.variableService=z,this.injector=te,this.router=Z,this.menuID=S.D.ADMIN}ngOnInit(){super.ngOnInit(),this.sidebarActiveBg$=this.variableService.getVariable("--ds-admin-sidebar-active-bg"),this.isSidebarCollapsed$=this.menuService.isMenuCollapsed(this.menuID),this.isSidebarPreviewCollapsed$=this.menuService.isMenuPreviewCollapsed(this.menuID),this.isExpanded$=(0,u.z)([this.active$,this.isSidebarCollapsed$,this.isSidebarPreviewCollapsed$]).pipe((0,e.T)(([G,q,z])=>G&&(!q||!z)))}toggleSection(G){this.menuService.expandMenuPreview(this.menuID),super.toggleSection(G)}adminMenuSubsectionId(G,q){return`admin-menu-section-${G}-${q}`}static{this.\u0275fac=function(q){return new(q||K)(p.rXU("sectionDataProvider"),p.rXU(C.$),p.rXU(R.J),p.rXU(p.zZn),p.rXU(L.Ix))}}static{this.\u0275cmp=p.VBU({type:K,selectors:[["ds-expandable-admin-sidebar-section"]],standalone:!0,features:[p.Vt3,p.aNF],decls:20,vars:43,consts:[[3,"ngClass"],["role","menuitem","tabindex","0","aria-haspopup","menu","href","javascript:void(0);",1,"sidebar-section-wrapper",3,"click","keyup.space"],["data-test","sidebar-section-icon","aria-hidden","true",1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item","toggler-wrapper"],[3,"id"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["aria-hidden","true",1,"fas","fa-chevron-right","fa-xs"],["class","sidebar-section-wrapper subsection",4,"ngIf"],[1,"sidebar-section-wrapper","subsection"],[1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper"],["role","menu",1,"sidebar-sub-level-item-list",3,"id"],["class","sidebar-item",4,"ngFor","ngForOf"],[1,"sidebar-item"]],template:function(q,z){1&q&&(p.j41(0,"div",0),p.nI1(1,"async"),p.nI1(2,"async"),p.nI1(3,"async"),p.j41(4,"a",1),p.nI1(5,"async"),p.nI1(6,"translate"),p.bIt("click",function(Z){return z.toggleSection(Z)})("keyup.space",function(Z){return z.toggleSection(Z)}),p.j41(7,"div",2),p.nrm(8,"i"),p.k0s(),p.j41(9,"div",3)(10,"div",4)(11,"span",5),p.nI1(12,"dsBrowserOnly"),p.DNE(13,x,1,0,"ng-container",6),p.nI1(14,"async"),p.nI1(15,"async"),p.k0s(),p.nrm(16,"i",7),p.nI1(17,"async"),p.k0s()()(),p.DNE(18,$,8,8,"div",8),p.nI1(19,"async"),p.k0s()),2&q&&(p.Y8G("ngClass",p.eq3(36,D,p.bMT(1,16,z.isExpanded$)))("@bgColor",p.l_i(40,M,p.bMT(2,18,z.isExpanded$)?"endBackground":"startBackground",p.eq3(38,w,p.bMT(3,20,z.sidebarActiveBg$)))),p.R7$(4),p.AVh("disabled",null==z.section.model?null:z.section.model.disabled),p.BMQ("aria-controls",z.adminMenuSectionId(z.section.id))("aria-expanded",p.bMT(5,22,z.isExpanded$))("aria-label",p.bMT(6,24,"menu.section.toggle."+z.section.id)),p.R7$(4),p.ZvI("fas fa-",z.section.icon," fa-fw"),p.R7$(3),p.Y8G("id",z.adminMenuSectionTitleId(z.section.id)),p.BMQ("data-test",p.bMT(12,26,z.adminMenuSectionTitleId(z.section.id))),p.R7$(2),p.Y8G("ngComponentOutlet",p.bMT(14,28,z.sectionMap$).get(z.section.id).component)("ngComponentOutletInjector",p.bMT(15,30,z.sectionMap$).get(z.section.id).injector),p.R7$(3),p.Y8G("@rotate",p.bMT(17,32,z.isExpanded$)?"expanded":"collapsed"),p.R7$(2),p.Y8G("ngIf",p.bMT(19,34,z.isExpanded$)))},dependencies:[i.YU,i.OI,i.bT,i.pM,i.Jj,t.h,t.D9,T.L],styles:["[_nghost-%COMP%]   .sidebar-sub-level-item-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}[_nghost-%COMP%]   .sidebar-sub-level-item-list[_ngcontent-%COMP%]     .ds-menu-item{margin-left:var(--ds-admin-sidebar-section-indent)}[_nghost-%COMP%]   .toggler-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .subsection[_ngcontent-%COMP%]   .sidebar-collapsible-element-inner-wrapper[_ngcontent-%COMP%]{overflow-y:hidden}"],data:{animation:[E.e$,_.M6,v]}})}}return K})()},61242:(F,b,n)=>{"use strict";n.d(b,{u:()=>m});var i=n(8886),u=(n(43832),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["collapsedSidebarWidth$","expandedSidebarWidth$"]}getComponentName(){return"AdminSidebarComponent"}importThemedComponent(E){return n(48832)(`./${E}/app/admin/admin-sidebar/admin-sidebar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,43832))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-admin-sidebar"]],inputs:{expandedSidebarWidth$:"expandedSidebarWidth$",collapsedSidebarWidth$:"collapsedSidebarWidth$"},standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},69799:(F,b,n)=>{"use strict";n.d(b,{D6:()=>L,Do:()=>x,EI:()=>Te,ET:()=>R,EX:()=>Z,Eo:()=>T,Ep:()=>le,H_:()=>_,N2:()=>Q,OC:()=>q,Q:()=>k,RC:()=>ee,RD:()=>te,RZ:()=>ce,Th:()=>w,UP:()=>fe,Vv:()=>$,XG:()=>se,al:()=>U,bZ:()=>z,cp:()=>X,dF:()=>C,e_:()=>ne,gf:()=>re,hV:()=>S,il:()=>M,l2:()=>E,lH:()=>be,n:()=>J,pU:()=>p,pX:()=>D,sB:()=>A,sT:()=>j,wN:()=>G});var i=n(64611),t=n(54671),u=n(6041),e=n(10046),h=n(88318),m=n(45663),f=n(90887),v=n(82777);const E="bitstreams",_="bitstream";function C(){return`/${E}`}function S(ht){return new m.t(C(),ht.uuid,"download").toString()}function R(ht,Fe){return{routerLink:new m.t((0,f.Fy)(),ht.uuid,"request-a-copy").toString(),queryParams:{bitstream:Fe.uuid}}}const T="home";function A(){return`/${T}`}const p="admin";function L(){return`/${p}`}const D="profile";function w(){return`/${D}`}const M="register";function x(){return`/${M}`}const j="forgot";function U(){return`/${j}`}const $="workflowitems";function k(){return`/${$}`}const K="workspaceitems";function X(){return`/${K}`}function G(ht){if((0,v.a4)(ht))switch(ht.type){case e.E.type.value:return(0,t.c5)(ht.uuid);case u.p.type.value:return(0,i.JW)(ht.uuid);case h.q.type.value:return(0,f._o)(ht)}}const q="403";function z(){return`/${q}`}const te="404";function Z(){return`/${te}`}const J="500";function Q(){return`/${J}`}const ee="error",le="info";function ne(){return`/${le}`}const fe="access-control";function se(){return`/${fe}`}const ce="request-a-copy";function Te(){return`/${ce}`}const be="health",me="subscriptions";function re(){return`/${me}`}},195:(F,b,n)=>{"use strict";n.d(b,{rd:()=>Dn,pc:()=>Zn,ox:()=>jn,wP:()=>wn});var i=n(20766),t=n(25499),u=n(19353);const e={editEPerson:null};var m=n(85255);const f={editGroup:null};var E=n(86628);const _={editSchema:null,selectedSchemas:[],editField:null,selectedFields:[]},R_SAVE=(0,n(91e3).N)("dspace/community-list-page/SAVE"),A={expandedNodes:[],loadingNode:null};var L=n(10110),M=n(55116);const x={allIconsVisible:!1,models:{}};function U(ct,vt,hn){const{[vt]:Nn,...Jn}=ct.models,ls={...Jn,[vt]:{...Nn,isTooltipVisible:hn(Nn.isTooltipVisible)}};return{...ct,models:ls}}var $=n(82777),k=n(94337);function X(ct,vt,hn){return Object.assign({},ct,{[vt]:hn})}var G=n(48125),q=n.n(G),z=n(63448),te=n.n(z),Z=n(32710);const J=Object.create(null);var me=n(19340);const re={[me.D.ADMIN]:{id:me.D.ADMIN,collapsed:!0,previewCollapsed:!0,visible:!1,sections:{},sectionToSubsectionIndex:{}},[me.D.PUBLIC]:{id:me.D.PUBLIC,collapsed:!0,previewCollapsed:!0,visible:!0,sections:{},sectionToSubsectionIndex:{}},[me.D.DSO_EDIT]:{id:me.D.DSO_EDIT,collapsed:!0,previewCollapsed:!0,visible:!1,sections:{},sectionToSubsectionIndex:{}}};var Ee=n(54476);function Gt(ct,vt,hn){const Nn=ct[vt.menuID],Jn=Object.assign({},Nn.sections,{[hn.id]:hn}),Gs=Object.assign({},Nn,{sections:Jn});return Object.assign({},ct,{[vt.menuID]:Gs})}function Zt(ct,vt,hn){const Jn=ct[vt.menuID].sections[vt.id];return(0,$.a4)(Jn)?Gt(ct,vt,Object.assign({},Jn,hn)):ct}var mt=n(11568);const Pt=[];var ut=n(61281);function nn(ct){return{id:ct,selection:[]}}function gn(ct,vt){return ct.findIndex(hn=>hn.equals(vt))>=0}var St=n(65580);const zt=Object.create(null);var wt=n(18757);const bt=Object.create({});var Tt=n(65354);const Ft={width:null,height:null};var xe=n(22180);const Ve=Object.create(null);var je=n(52680);const At={sidebarCollapsed:!0};var st=n(15314);const ke={currentTheme:null};var dt=n(26500);const It=Object.create(null),Dn={router:i.C_,hostWindow:function it(ct=Ft,vt){return vt.type===Tt.O.RESIZE?Object.assign({},ct,vt.payload):ct},forms:function Q(ct=J,vt){switch(vt.type){case Z.AI.FORM_INIT:return function fe(ct,vt){const hn={data:vt.payload.formData,valid:vt.payload.valid,touched:{},errors:[]};if((0,$.a4)(ct[vt.payload.formId])){const Nn=Object.assign({},ct);return Nn[vt.payload.formId]=Object.assign({},Nn[vt.payload.formId],hn),Nn}return Object.assign({},ct,{[vt.payload.formId]:hn})}(ct,vt);case Z.AI.FORM_CHANGE:return function se(ct,vt){if((0,$.a4)(ct[vt.payload.formId])){const hn=Object.assign({},ct);return hn[vt.payload.formId]=Object.assign({},hn[vt.payload.formId],{data:vt.payload.formData,valid:ct[vt.payload.formId].valid}),hn}return ct}(ct,vt);case Z.AI.FORM_ADD_TOUCHED:return function be(ct,vt){if((0,$.a4)(ct[vt.payload.formId])){const hn=Object.assign({},ct),Nn=Object.assign({},hn[vt.payload.formId]);return hn[vt.payload.formId]=Nn,Nn.touched={...Nn.touched},vt.payload.touched.forEach(Jn=>Nn.touched[Jn]=!0),hn}return ct}(ct,vt);case Z.AI.FORM_REMOVE:return function Te(ct,vt){if((0,$.a4)(ct[vt.payload.formId])){const hn=Object.assign({},ct);return delete hn[vt.payload.formId],hn}return ct}(ct,vt);case Z.AI.FORM_STATUS_CHANGE:return function ce(ct,vt){if((0,$.a4)(ct[vt.payload.formId])){const hn=Object.assign({},ct);return hn[vt.payload.formId]=Object.assign({},hn[vt.payload.formId],{data:ct[vt.payload.formId].data,valid:vt.payload.valid}),hn}return Object.assign({},ct,{[vt.payload.formId]:{data:ct[vt.payload.formId].data,valid:vt.payload.valid}})}(ct,vt);case Z.AI.FORM_ADD_ERROR:return function ee(ct,vt){const hn=vt.payload.formId;if((0,$.a4)(ct[hn])){const Nn={fieldId:vt.payload.fieldId,fieldIndex:vt.payload.fieldIndex,message:vt.payload.errorMessage},Jn=vt.payload.fieldId.replace(/\_/g,"."),Gs=Object.assign({},ct[hn].touched,{[Jn]:!0});return Object.assign({},ct,{[hn]:{data:ct[hn].data,valid:ct[hn].valid,errors:ct[hn].errors?te()(ct[hn].errors.concat(Nn),q()):[].concat(Nn),touched:Gs}})}return ct}(ct,vt);case Z.AI.FORM_REMOVE_ERROR:return function le(ct,vt){const hn=vt.payload.formId,Nn=vt.payload.fieldId,Jn=vt.payload.fieldIndex;if((0,$.a4)(ct[hn])){const Gs=ct[hn].errors.filter(Es=>Es.fieldId!==Nn||Es.fieldIndex!==Jn),ls=Object.assign({},ct);return ls[hn]=Object.assign({},ct[hn],{errors:Gs}),ls}return ct}(ct,vt);case Z.AI.FORM_CLEAR_ERRORS:return function ne(ct,vt){const hn=vt.payload.formId;if((0,$.a4)(ct[hn])){const Nn=[],Jn=Object.assign({},ct);return Jn[hn]=Object.assign({},ct[hn],{errors:Nn}),Jn}return ct}(ct,vt);default:return ct}},metadataRegistry:function C(ct=_,vt){switch(vt.type){case E.Kt.EDIT_SCHEMA:return Object.assign({},ct,{editSchema:vt.schema});case E.Kt.CANCEL_EDIT_SCHEMA:return Object.assign({},ct,{editSchema:null});case E.Kt.SELECT_SCHEMA:return Object.assign({},ct,{selectedSchemas:[...ct.selectedSchemas,vt.schema]});case E.Kt.DESELECT_SCHEMA:return Object.assign({},ct,{selectedSchemas:ct.selectedSchemas.filter(hn=>hn!==vt.schema)});case E.Kt.DESELECT_ALL_SCHEMA:return Object.assign({},ct,{selectedSchemas:[]});case E.Kt.EDIT_FIELD:return Object.assign({},ct,{editField:vt.field});case E.Kt.CANCEL_EDIT_FIELD:return Object.assign({},ct,{editField:null});case E.Kt.SELECT_FIELD:return Object.assign({},ct,{selectedFields:[...ct.selectedFields,vt.field]});case E.Kt.DESELECT_FIELD:return Object.assign({},ct,{selectedFields:ct.selectedFields.filter(hn=>hn!==vt.field)});case E.Kt.DESELECT_ALL_FIELD:return Object.assign({},ct,{selectedFields:[]});default:return ct}},notifications:function Ce(ct=Pt,vt){switch(vt.type){case mt.Is.NEW_NOTIFICATION:return[...ct,vt.payload];case mt.Is.REMOVE_ALL_NOTIFICATIONS:return[];case mt.Is.REMOVE_NOTIFICATION:return((ct,vt)=>ct.filter(hn=>hn.id!==vt.payload))(ct,vt);default:return ct}},sidebar:function Qe(ct=At,vt){switch(vt.type){case je.Kd.COLLAPSE:return Object.assign({},ct,{sidebarCollapsed:!0});case je.Kd.EXPAND:return Object.assign({},ct,{sidebarCollapsed:!1});case je.Kd.TOGGLE:return Object.assign({},ct,{sidebarCollapsed:!ct.sidebarCollapsed});default:return ct}},searchFilter:function Ke(ct=Ve,vt){switch(vt.type){case xe.y$.INITIALIZE:return Object.assign({},ct,{[vt.filterName]:{filterCollapsed:!vt.initiallyExpanded,minimized:!1,page:1}});case xe.y$.COLLAPSE:return Object.assign({},ct,{[vt.filterName]:{filterCollapsed:!0,minimized:ct[vt.filterName].minimized,page:ct[vt.filterName].page}});case xe.y$.EXPAND:return Object.assign({},ct,{[vt.filterName]:{filterCollapsed:!1,minimized:ct[vt.filterName].minimized,page:ct[vt.filterName].page}});case xe.y$.DECREMENT_PAGE:{const hn=ct[vt.filterName].page-1;return Object.assign({},ct,{[vt.filterName]:{filterCollapsed:ct[vt.filterName].filterCollapsed,minimized:ct[vt.filterName].minimized,page:hn>=1?hn:1}})}case xe.y$.INCREMENT_PAGE:return Object.assign({},ct,{[vt.filterName]:{filterCollapsed:ct[vt.filterName].filterCollapsed,minimized:ct[vt.filterName].minimized,page:ct[vt.filterName].page+1}});case xe.y$.MINIMIZE_ALL:return Object.assign({},...Object.entries(ct).map(([hn,Nn])=>({[hn]:{...Nn,minimized:!0}})));case xe.y$.RESET_PAGE:return Object.assign({},ct,{[vt.filterName]:{filterCollapsed:ct[vt.filterName].filterCollapsed,minimized:!1,page:1}});case xe.y$.TOGGLE:return Object.assign({},ct,{[vt.filterName]:{filterCollapsed:!ct[vt.filterName].filterCollapsed,minimized:ct[vt.filterName].minimized,page:ct[vt.filterName].page}});default:return ct}},truncatable:function an(ct=It,vt){switch(vt.type){case dt.VR.COLLAPSE:return Object.assign({},ct,{[vt.id]:{collapsed:!0}});case dt.VR.EXPAND:return Object.assign({},ct,{[vt.id]:{collapsed:!1}});case dt.VR.TOGGLE:return ct[vt.id]||(ct[vt.id]={collapsed:!1}),Object.assign({},ct,{[vt.id]:{collapsed:!ct[vt.id].collapsed}});default:return ct}},cssVariables:function Jt(ct=bt,vt){switch(vt.type){case wt.$s.ADD:{const hn=vt.payload;return Object.assign({},ct,{[hn.name]:hn.value})}case wt.$s.ADD_ALL:return Object.assign({},ct,...vt.payload.map(({key:Nn,value:Jn})=>({[Nn]:Jn})));case wt.$s.CLEAR:return bt;default:return ct}},theme:function Le(ct=ke,vt){return vt.type===st.t.SET?{currentTheme:vt.payload.name}:ct},menus:function De(ct=re,vt){switch(vt.type){case Ee.jZ.COLLAPSE_MENU:{const hn=Object.assign({},ct[vt.menuID],{collapsed:!0});return Object.assign({},ct,{[vt.menuID]:hn})}case Ee.jZ.EXPAND_MENU:{const hn=Object.assign({},ct[vt.menuID],{collapsed:!1});return Object.assign({},ct,{[vt.menuID]:hn})}case Ee.jZ.COLLAPSE_MENU_PREVIEW:{const hn=Object.assign({},ct[vt.menuID],{previewCollapsed:!0});return Object.assign({},ct,{[vt.menuID]:hn})}case Ee.jZ.EXPAND_MENU_PREVIEW:{const hn=Object.assign({},ct[vt.menuID],{previewCollapsed:!1});return Object.assign({},ct,{[vt.menuID]:hn})}case Ee.jZ.TOGGLE_MENU:{const hn=ct[vt.menuID],Nn=Object.assign({},hn,{collapsed:!hn.collapsed});return Object.assign({},ct,{[vt.menuID]:Nn})}case Ee.jZ.SHOW_MENU:{const hn=Object.assign({},ct[vt.menuID],{visible:!0});return Object.assign({},ct,{[vt.menuID]:hn})}case Ee.jZ.HIDE_MENU:{const hn=Object.assign({},ct[vt.menuID],{visible:!1});return Object.assign({},ct,{[vt.menuID]:hn})}case Ee.jZ.REINIT_MENUS:return Object.assign({},re);case Ee.jZ.ADD_SECTION:return function tt(ct,vt){return function ht(ct,vt){const hn=ct[vt.menuID],Nn={},Jn={};Object.values(hn.sections).sort((ls,Es)=>(ls.index||0)-(Es.index||0)).forEach(ls=>{if(Nn[ls.id]=ls,(0,$.a4)(ls.parentID)){const Es=(0,$.a4)(Jn[ls.parentID])?Jn[ls.parentID]:[];Jn[ls.parentID]=[...Es,ls.id]}});const Gs=Object.assign({},hn,{sections:Nn,sectionToSubsectionIndex:Jn});return Object.assign({},ct,{[vt.menuID]:Gs})}(Gt(ct,vt,vt.section),vt)}(ct,vt);case Ee.jZ.REMOVE_SECTION:return function Fe(ct,vt){const Nn=vt.id,Jn=function Et(ct,vt,hn){const Nn=vt.id,Jn=vt.parentID;if((0,$.a4)(Jn)){const Gs=ct[hn],ls=Gs.sectionToSubsectionIndex,Es=(0,$.a4)(ls[Jn])?ls[Jn]:[],cs=Object.assign({},ls,{[Jn]:Es.filter(yn=>yn!==Nn)}),cn=Object.assign({},Gs,{sectionToSubsectionIndex:cs});return Object.assign({},ct,{[hn]:cn})}return ct}(ct,ct[vt.menuID].sections[vt.id],vt.menuID),Gs=Object.assign({},Jn[vt.menuID],{sections:Object.assign({},Jn[vt.menuID].sections)});return delete Gs.sections[Nn],Object.assign({},Jn,{[vt.menuID]:Gs})}(ct,vt);case Ee.jZ.ACTIVATE_SECTION:return function Ne(ct,vt){if((0,$.a4)(ct[vt.menuID].sections[vt.id]))return Zt(ct,vt,{active:!0})}(ct,vt);case Ee.jZ.DEACTIVATE_SECTION:return function Mt(ct,vt){if((0,$.a4)(ct[vt.menuID].sections[vt.id]))return Zt(ct,vt,{active:!1})}(ct,vt);case Ee.jZ.TOGGLE_ACTIVE_SECTION:return function ot(ct,vt){const hn=ct[vt.menuID].sections[vt.id];return(0,$.a4)(hn)?Zt(ct,vt,{active:!hn.active}):ct}(ct,vt);case Ee.jZ.HIDE_SECTION:return function Ye(ct,vt){return Zt(ct,vt,{visible:!1})}(ct,vt);case Ee.jZ.SHOW_SECTION:return function pt(ct,vt){return Zt(ct,vt,{visible:!0})}(ct,vt);default:return ct}},objectSelection:function Yt(ct=zt,vt){switch(vt.type){case St.T8.INITIAL_SELECT:return(0,$.Im)(ct)||(0,$.Im)(ct[vt.key])||(0,$.Im)(ct[vt.key][vt.id])?Object.assign({},ct,{[vt.key]:Object.assign({},ct[vt.key],{[vt.id]:{checked:!0}})}):ct;case St.T8.INITIAL_DESELECT:return(0,$.Im)(ct)||(0,$.Im)(ct[vt.key])||(0,$.Im)(ct[vt.key][vt.id])?Object.assign({},ct,{[vt.key]:Object.assign({},ct[vt.key],{[vt.id]:{checked:!1}})}):ct;case St.T8.SELECT:return Object.assign({},ct,{[vt.key]:Object.assign({},ct[vt.key],{[vt.id]:{checked:!0}})});case St.T8.DESELECT:return Object.assign({},ct,{[vt.key]:Object.assign({},ct[vt.key],{[vt.id]:{checked:!1}})});case St.T8.SWITCH:return Object.assign({},ct,{[vt.key]:Object.assign({},ct[vt.key],{[vt.id]:{checked:!!((0,$.Im)(ct)||(0,$.Im)(ct[vt.key])||(0,$.Im)(ct[vt.key][vt.id]))||!ct[vt.key][vt.id].checked}})});case St.T8.RESET:return(0,$.Im)(vt.key)?{}:Object.assign({},ct,{[vt.key]:{}});default:return ct}},selectableLists:function un(ct={},vt){const hn=ct[vt.id]||nn(vt.id);switch(vt.type){case ut.Sg.SELECT:{const Nn=function rn(ct,vt){const hn=vt.payload.filter(Jn=>!gn(ct.selection,Jn)),Nn=[...ct.selection,...hn];return Object.assign({},ct,{selection:Nn})}(hn,vt);return Object.assign({},ct,{[vt.id]:Nn})}case ut.Sg.SELECT_SINGLE:{const Nn=function Pn(ct,vt){let hn=ct.selection;return gn(ct.selection,vt.payload.object)||(hn=[...ct.selection,vt.payload.object]),Object.assign({},ct,{selection:hn})}(hn,vt);return Object.assign({},ct,{[vt.id]:Nn})}case ut.Sg.DESELECT:{const Nn=function yt(ct,vt){const hn=ct.selection.filter(Nn=>(0,$.Tn)(vt.payload.find(Jn=>Jn.equals(Nn))));return Object.assign({},ct,{selection:hn})}(hn,vt);return Object.assign({},ct,{[vt.id]:Nn})}case ut.Sg.DESELECT_SINGLE:{const Nn=function Kt(ct,vt){const hn=ct.selection.filter(Nn=>!Nn.equals(vt.payload));return Object.assign({},ct,{selection:hn})}(hn,vt);return Object.assign({},ct,{[vt.id]:Nn})}case ut.Sg.SET_SELECTION:{const Nn=function Rt(ct,vt){return Object.assign({},ct,{selection:vt.payload})}(hn,vt);return Object.assign({},ct,{[vt.id]:Nn})}case ut.Sg.DESELECT_ALL:{const Nn=nn(vt.id);return Object.assign({},ct,{[vt.id]:Nn})}default:return ct}},relationshipLists:function K(ct={},vt){switch(vt.type){case k.SF.SET_NAME_VARIANT:{const Jn=X(ct[vt.payload.listID]||{},vt.payload.itemID,vt.payload.nameVariant);return Object.assign({},ct,{[vt.payload.listID]:Jn})}case k.SF.REMOVE_NAME_VARIANT:{const hn=ct[vt.payload.listID];if((0,$.a4)(hn)&&(0,$.a4)(hn[vt.payload.itemID])){const Nn=X(hn,vt.payload.itemID,void 0);return Object.assign({},ct,{[vt.payload.listID]:Nn})}return ct}default:return ct}},communityList:function p(ct=A,vt){return vt.type===R_SAVE?Object.assign({},ct,{expandedNodes:vt.payload.expandedNodes,loadingNode:vt.payload.loadingNode}):ct},epeopleRegistry:function h(ct=e,vt){switch(vt.type){case u.bA.EDIT_EPERSON:return Object.assign({},ct,{editEPerson:vt.eperson});case u.bA.CANCEL_EDIT_EPERSON:return Object.assign({},ct,{editEPerson:null});default:return ct}},groupRegistry:function v(ct=f,vt){switch(vt.type){case m.O3.EDIT_GROUP:return Object.assign({},ct,{editGroup:vt.group});case m.O3.CANCEL_EDIT_GROUP:return Object.assign({},ct,{editGroup:null});default:return ct}},correlationId:(ct=null,vt)=>vt.type===L.N.SET?vt.payload:ct,contextHelp:function j(ct=x,vt){switch(vt.type){case M.y5.CONTEXT_HELP_TOGGLE_ICONS:return{...ct,allIconsVisible:!ct.allIconsVisible};case M.y5.CONTEXT_HELP_ADD:{const hn={...ct.models,[vt.model.id]:vt.model};return{...ct,models:hn}}case M.y5.CONTEXT_HELP_REMOVE:{const{[vt.id]:hn,...Nn}=ct.models;return{...ct,models:Nn}}case M.y5.CONTEXT_HELP_TOGGLE_TOOLTIP:return U(ct,vt.id,hn=>!hn);case M.y5.CONTEXT_HELP_SHOW_TOOLTIP:return U(ct,vt.id,hn=>!0);case M.y5.CONTEXT_HELP_HIDE_TOOLTIP:return U(ct,vt.id,hn=>!1);default:return ct}}},jn=ct=>ct.router;function Zn(ct,vt){return(0,t.Mz)(vt,hn=>{if((0,$.a4)(hn))return hn[ct]})}const wn={runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0}}},87832:(F,b,n)=>{"use strict";n.r(b),n.d(b,{BreadcrumbsComponent:()=>p});var i=n(60177),t=n(7901),u=n(58003),e=n(41780),h=n(18226),m=n(54438),f=n(87152);const v=()=>({text:"home.breadcrumbs",url:"/"});function E(L,D){1&L&&m.eu8(0)}function _(L,D){1&L&&m.eu8(0)}function C(L,D){if(1&L&&(m.qex(0),m.DNE(1,_,1,0,"ng-container",6),m.bVm()),2&L){const w=D.$implicit,M=D.last;m.XpG(2);const x=m.sdS(4),j=m.sdS(6);m.R7$(),m.Y8G("ngTemplateOutlet",M?j:x)("ngTemplateOutletContext",w)}}function S(L,D){if(1&L&&(m.j41(0,"nav",4)(1,"ol",5),m.DNE(2,E,1,0,"ng-container",6)(3,C,2,2,"ng-container",7),m.k0s()()),2&L){const w=m.XpG().ngVar,M=m.sdS(4),x=m.sdS(6);m.R7$(2),m.Y8G("ngTemplateOutlet",(null==w?null:w.length)>0?M:x)("ngTemplateOutletContext",m.lJ4(3,v)),m.R7$(),m.Y8G("ngForOf",w)}}function R(L,D){if(1&L&&(m.j41(0,"li",8)(1,"div",9)(2,"a",10),m.nI1(3,"translate"),m.EFF(4),m.nI1(5,"translate"),m.k0s()()()),2&L){const w=D.text,M=D.url;m.R7$(2),m.Y8G("routerLink",M)("ngbTooltip",m.bMT(3,3,w)),m.R7$(2),m.JRh(m.bMT(5,5,w))}}function T(L,D){if(1&L&&(m.j41(0,"li",11)(1,"div",9)(2,"div",12),m.EFF(3),m.nI1(4,"translate"),m.k0s()()()),2&L){const w=D.text;m.R7$(3),m.JRh(m.bMT(4,1,w))}}function A(L,D){if(1&L&&(m.qex(0),m.DNE(1,S,4,4,"nav",3),m.nI1(2,"async"),m.DNE(3,R,6,7,"ng-template",null,0,m.C5r)(5,T,5,3,"ng-template",null,1,m.C5r),m.bVm()),2&L){const w=m.XpG();m.R7$(),m.Y8G("ngIf",m.bMT(2,1,w.showBreadcrumbs$))}}let p=(()=>{class L{constructor(w){this.breadcrumbsService=w,this.breadcrumbs$=w.breadcrumbs$,this.showBreadcrumbs$=w.showBreadcrumbs$}static{this.\u0275fac=function(M){return new(M||L)(m.rXU(f.E))}}static{this.\u0275cmp=m.VBU({type:L,selectors:[["ds-base-breadcrumbs"]],standalone:!0,features:[m.aNF],decls:2,vars:3,consts:[["breadcrumb",""],["activeBreadcrumb",""],[4,"ngVar"],["aria-label","breadcrumb","class","nav-breadcrumb",4,"ngIf"],["aria-label","breadcrumb",1,"nav-breadcrumb"],[1,"container","breadcrumb","my-0"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"breadcrumb-item"],[1,"breadcrumb-item-limiter"],["placement","bottom",1,"text-truncate",3,"routerLink","ngbTooltip"],["aria-current","page",1,"breadcrumb-item","active"],[1,"text-truncate"]],template:function(M,x){1&M&&(m.DNE(0,A,7,3,"ng-container",2),m.nI1(1,"async")),2&M&&m.Y8G("ngVar",m.bMT(1,1,x.breadcrumbs$))},dependencies:[h.r,i.bT,i.T3,i.pM,t.Wk,u.n8,u.md,i.Jj,e.h,e.D9],styles:['@charset "UTF-8";.nav-breadcrumb[_ngcontent-%COMP%]{background-color:var(--ds-breadcrumb-bg)}.breadcrumb[_ngcontent-%COMP%]{border-radius:0;padding-bottom:calc(var(--ds-content-spacing) / 2);padding-top:calc(var(--ds-content-spacing) / 2);background-color:var(--ds-breadcrumb-bg);padding-left:calc(var(--bs-spacer) * .75);padding-right:calc(var(--bs-spacer) * .75)}li.breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb-item-limiter[_ngcontent-%COMP%]{display:inline-block;max-width:var(--ds-breadcrumb-max-length)}.breadcrumb-item-limiter[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;display:block}li.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ds-breadcrumb-link-color)}li.breadcrumb-item.active[_ngcontent-%COMP%]{color:var(--ds-breadcrumb-link-active-color)}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:block;content:"\\2022"!important}']})}}return L})()},87152:(F,b,n)=>{"use strict";n.d(b,{E:()=>C});var i=n(7901),t=n(92771),u=n(84572),e=n(7673),h=n(5964),m=n(88141),f=n(25558),v=n(96354),E=n(82777),_=n(54438);let C=(()=>{class S{constructor(T,A){this.route=T,this.router=A,this.breadcrumbs$=new t.m(1),this.showBreadcrumbs$=new t.m(1)}listenForRouteChanges(){this.router.events.pipe((0,h.p)(T=>T instanceof i.wF),(0,m.M)(()=>this.reset()),(0,f.n)(()=>this.resolveBreadcrumbs(this.route.root))).subscribe(this.breadcrumbs$)}resolveBreadcrumbs(T){const A=T.snapshot.data,p=T.snapshot.routeConfig,L=(0,E.Tn)(T.firstChild);if(L&&((0,E.a4)(A.showBreadcrumbs)?this.showBreadcrumbs$.next(A.showBreadcrumbs):(0,E.b0)(A.breadcrumb)&&this.showBreadcrumbs$.next(!1)),(0,E.a4)(A)&&(0,E.a4)(A.breadcrumb)&&(0,E.a4)(p)&&(0,E.a4)(p.resolve)&&(0,E.a4)(p.resolve.breadcrumb)){const{provider:D,key:w,url:M}=A.breadcrumb;return L?D.getBreadcrumbs(w,M):(0,u.z)(D.getBreadcrumbs(w,M),this.resolveBreadcrumbs(T.firstChild)).pipe((0,v.T)(x=>[].concat.apply([],x)))}return L?(0,e.of)([]):this.resolveBreadcrumbs(T.firstChild)}reset(){this.showBreadcrumbs$.next(!0)}static{this.\u0275fac=function(A){return new(A||S)(_.KVO(i.nX),_.KVO(i.Ix))}}static{this.\u0275prov=_.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},46754:(F,b,n)=>{"use strict";n.d(b,{B:()=>h});var i=n(8886),t=n(54438);const u=["*"];function e(m,f){}let h=(()=>{class m extends i.J{getComponentName(){return"BreadcrumbsComponent"}importThemedComponent(v){return n(32012)(`./${v}/app/breadcrumbs/breadcrumbs.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,87832))}static{this.\u0275fac=(()=>{let v;return function(_){return(v||(v=t.xGo(m)))(_||m)}})()}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ds-breadcrumbs"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:u,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(E,_){1&E&&(t.NAR(),t.DNE(0,e,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return m})()},49010:(F,b,n)=>{"use strict";n.d(b,{v0:()=>te,el:()=>Z,M0:()=>Q});var i=n(60177),t=n(54438),u=n(41780),e=n(84412),h=n(7673),m=n(84572),f=n(96354),v=n(23294),E=n(37958),_=n(82640),C=n(88280),S=n(96526),R=n(37864);class T{constructor(le,ne,fe,se,ce,Te){this.metadataDefinition=le,this.pagination=ne,this.sort=fe,this.startsWith=se,this.scope=ce,this.fetchThumbnail=Te}}var A=n(6238),p=n(13989),L=n(22978),w=(n(26292),n(80183)),M=n(82777),x=n(82394),j=n(23401),U=n(19798),k=(n(1624),n(7901));const K=ee=>({startsWith:ee}),X=(ee,le,ne)=>({field:ee,startsWith:le,value:ne});function G(ee,le){if(1&ee){const ne=t.RV6();t.j41(0,"ds-browse-by",5),t.nI1(1,"translate"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.nI1(4,"async"),t.nI1(5,"async"),t.bIt("prev",function(){t.eBV(ne);const se=t.XpG(2);return t.Njj(se.goPrev())})("next",function(){t.eBV(ne);const se=t.XpG(2);return t.Njj(se.goNext())}),t.k0s()}if(2&ee){const ne=t.XpG(2);t.FS9("title",t.i5U(3,12,"browse.title",t.sMw(21,X,t.bMT(1,7,"browse.metadata."+ne.browseId),ne.startsWith?t.i5U(2,9,"browse.startsWith",t.eq3(19,K,'"'+ne.startsWith+'"')):"",ne.value?'"'+ne.value+'"':""))),t.Y8G("displayTitle",ne.displayTitle)("objects$",void 0!==ne.items$?ne.items$:ne.browseEntries$)("paginationConfig",t.bMT(4,15,ne.currentPagination$))("sortConfig",t.bMT(5,17,ne.currentSort$))("type",ne.startsWithType)("startsWithOptions",ne.startsWithOptions)}}function q(ee,le){1&ee&&(t.nrm(0,"ds-loading",6),t.nI1(1,"translate")),2&ee&&t.FS9("message",t.bMT(1,1,"loading.browse-by-page"))}function z(ee,le){if(1&ee&&(t.j41(0,"section",1)(1,"div",2),t.DNE(2,G,6,25,"ds-browse-by",3),t.nI1(3,"async"),t.DNE(4,q,2,3,"ds-loading",4),t.nI1(5,"async"),t.k0s()()),2&ee){const ne=t.XpG();t.R7$(2),t.Y8G("ngIf",!0!==t.bMT(3,2,ne.loading$)),t.R7$(2),t.Y8G("ngIf",t.bMT(5,4,ne.loading$))}}const te="bbm";let Z=(()=>{class ee{constructor(ne,fe,se,ce,Te,be,me,re){this.route=ne,this.browseService=fe,this.dsoService=se,this.paginationService=ce,this.router=Te,this.appConfig=be,this.dsoNameService=me,this.platformId=re,this.displayTitle=!0,this.scope$=new e.t(void 0),this.subs=[],this.defaultBrowseId="author",this.browseId=this.defaultBrowseId,this.startsWithType=U.c.text,this.value="",this.loading$=(0,h.of)(!0),this.ssrRenderingDisabled=!1,this.fetchThumbnails=this.appConfig.browseBy.showThumbnails,this.paginationConfig=Object.assign(new j.W,{id:te,currentPage:1,pageSize:this.appConfig.browseBy.pageSize}),this.ssrRenderingDisabled=!this.renderOnServerSide&&!C.c.ssr.enableBrowseComponent&&(0,i.Vy)(this.platformId)}ngOnInit(){if(this.ssrRenderingDisabled)return void(this.loading$=(0,h.of)(!1));const ne=new A.z("default",A.U.ASC);this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,ne);const fe=(0,m.z)([this.route.params,this.route.queryParams]).pipe((0,f.T)(([se,ce])=>Object.assign({},se,ce)),(0,v.F)((se,ce)=>se.id===ce.id&&se.authority===ce.authority&&se.value===ce.value&&se.startsWith===ce.startsWith));this.subs.push((0,m.z)([fe,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([se,ce,Te,be])=>{this.browseId=se.id||this.defaultBrowseId,this.authority=se.authority,this.value="string"==typeof se.value?se.value.trim():"",(void 0===se.startsWith||""===se.startsWith)&&(this.startsWith=void 0),"string"==typeof se.startsWith&&(this.startsWith=se.startsWith.trim()),(0,M.hj)(this.value)?this.updatePageWithItems(Q(se,ce,Te,be,this.browseId,this.fetchThumbnails),this.value,this.authority):this.updatePage(Q(se,ce,Te,be,this.browseId,!1))})),this.updateStartsWithTextOptions()}ngOnChanges(ne){(0,M.a4)(ne.scope)&&this.scope$.next(this.scope)}updateStartsWithTextOptions(){this.startsWithOptions=["0-9",..."ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")]}updatePage(ne){this.browseEntries$=this.browseService.getBrowseEntriesFor(ne),this.loading$=this.browseEntries$.pipe((0,f.T)(fe=>fe.isLoading)),this.items$=void 0}updatePageWithItems(ne,fe,se){this.items$=this.browseService.getBrowseItemsFor(fe,se,ne),this.loading$=this.items$.pipe((0,f.T)(ce=>ce.isLoading))}goPrev(){this.items$?this.items$.pipe((0,w.yd)()).subscribe(ne=>{this.items$=this.browseService.getPrevBrowseItems(ne)}):this.browseEntries$&&this.browseEntries$.pipe((0,w.yd)()).subscribe(ne=>{this.browseEntries$=this.browseService.getPrevBrowseEntries(ne)})}goNext(){this.items$?this.items$.pipe((0,w.yd)()).subscribe(ne=>{this.items$=this.browseService.getNextBrowseItems(ne)}):this.browseEntries$&&this.browseEntries$.pipe((0,w.yd)()).subscribe(ne=>{this.browseEntries$=this.browseService.getNextBrowseEntries(ne)})}ngOnDestroy(){this.subs.filter(ne=>(0,M.a4)(ne)).forEach(ne=>ne.unsubscribe()),this.paginationService.clearPagination(this.paginationConfig.id)}static{this.\u0275fac=function(fe){return new(fe||ee)(t.rXU(k.nX),t.rXU(R.q),t.rXU(p.DSpaceObjectDataService),t.rXU(L.m),t.rXU(k.Ix),t.rXU(_.vQ),t.rXU(S.f),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:ee,selectors:[["ds-browse-by-metadata"]],inputs:{context:"context",browseByType:"browseByType",scope:"scope",displayTitle:"displayTitle",renderOnServerSide:"renderOnServerSide"},standalone:!0,features:[t.OA$,t.aNF],decls:1,vars:1,consts:[["class","comcol-page-browse-section",4,"ngIf"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"]],template:function(fe,se){1&fe&&t.DNE(0,z,6,6,"section",0),2&fe&&t.Y8G("ngIf",!se.ssrRenderingDisabled)},dependencies:[i.Jj,i.bT,u.h,u.D9,x.v,E.U]})}}return ee})();function Q(ee,le,ne,fe,se,ce){return new T(se,ne,fe,ee.startsWith,le,ce)}},1624:(F,b,n)=>{"use strict";n.d(b,{O:()=>i});var i=function(t){return t.Title="title",t.Metadata="text",t.Date="date",t.Hierarchy="hierarchy",t}(i||{})},81387:(F,b,n)=>{"use strict";n.d(b,{cv:()=>ht});var i=n(26292),t=n(82777),u=n(81569),e=n(60177),h=n(54438),m=n(41780),f=n(7673),v=n(84572),E=n(96354),_=n(23294),C=n(37958),S=n(82640),R=n(88280),T=n(96526),A=n(37864),p=n(6238),L=n(13989),D=n(22978),w=n(12866),M=n(82394),x=n(19798),j=n(49010),U=n(7901);const $=Fe=>({startsWith:Fe}),k=(Fe,Et,Ye)=>({field:Fe,startsWith:Et,value:Ye});function K(Fe,Et){if(1&Fe){const Ye=h.RV6();h.j41(0,"ds-browse-by",5),h.nI1(1,"translate"),h.nI1(2,"translate"),h.nI1(3,"translate"),h.nI1(4,"async"),h.nI1(5,"async"),h.bIt("prev",function(){h.eBV(Ye);const Mt=h.XpG(2);return h.Njj(Mt.goPrev())})("next",function(){h.eBV(Ye);const Mt=h.XpG(2);return h.Njj(Mt.goNext())}),h.k0s()}if(2&Fe){const Ye=h.XpG(2);h.FS9("title",h.i5U(3,12,"browse.title",h.sMw(21,k,h.bMT(1,7,"browse.metadata."+Ye.browseId),Ye.startsWith?h.i5U(2,9,"browse.startsWith",h.eq3(19,$,'"'+Ye.startsWith+'"')):"",Ye.value?'"'+Ye.value+'"':""))),h.Y8G("displayTitle",Ye.displayTitle)("objects$",void 0!==Ye.items$?Ye.items$:Ye.browseEntries$)("paginationConfig",h.bMT(4,15,Ye.currentPagination$))("sortConfig",h.bMT(5,17,Ye.currentSort$))("type",Ye.startsWithType)("startsWithOptions",Ye.startsWithOptions)}}function X(Fe,Et){1&Fe&&(h.nrm(0,"ds-loading",6),h.nI1(1,"translate")),2&Fe&&h.FS9("message",h.bMT(1,1,"loading.browse-by-page"))}function G(Fe,Et){if(1&Fe&&(h.j41(0,"section",1)(1,"div",2),h.DNE(2,K,6,25,"ds-browse-by",3),h.nI1(3,"async"),h.DNE(4,X,2,3,"ds-loading",4),h.nI1(5,"async"),h.k0s()()),2&Fe){const Ye=h.XpG();h.R7$(2),h.Y8G("ngIf",!0!==h.bMT(3,2,Ye.loading$)),h.R7$(2),h.Y8G("ngIf",h.bMT(5,4,Ye.loading$))}}let q=(()=>{class Fe extends j.el{constructor(Ye,pt,Mt,Ne,ot,Gt,Zt,mt,Pt){super(Ye,pt,Mt,Ne,ot,Gt,Zt,Pt),this.route=Ye,this.browseService=pt,this.dsoService=Mt,this.paginationService=Ne,this.router=ot,this.appConfig=Gt,this.dsoNameService=Zt,this.cdRef=mt,this.platformId=Pt,this.defaultMetadataKeys=["dc.date.issued"]}ngOnInit(){if(!this.renderOnServerSide&&!R.c.ssr.enableBrowseComponent&&(0,e.Vy)(this.platformId))return void(this.loading$=(0,f.of)(!1));const Ye=new p.z("default",p.U.ASC);this.startsWithType=x.c.date,this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,Ye);const pt=(0,v.z)([this.route.params,this.route.queryParams]).pipe((0,E.T)(([Mt,Ne])=>Object.assign({},Mt,Ne)),(0,_.F)((Mt,Ne)=>Mt.id===Ne.id&&Mt.startsWith===Ne.startsWith));this.subs.push((0,v.z)([pt,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([Mt,Ne,ot,Gt])=>{const Zt=Mt.browseDefinition?Mt.browseDefinition.metadataKeys:this.defaultMetadataKeys;this.browseId=Mt.id||this.defaultBrowseId,this.startsWith=+Mt.startsWith||Mt.startsWith;const mt=(0,j.M0)(Mt,Ne,ot,Gt,this.browseId,this.fetchThumbnails);this.updatePageWithItems(mt,this.value,void 0),this.updateStartsWithOptions(this.browseId,Zt,Mt.scope)}))}updateStartsWithOptions(Ye,pt,Mt){const Ne=this.browseService.getFirstItemFor(Ye,Mt,p.U.ASC),ot=this.browseService.getFirstItemFor(Ye,Mt,p.U.DESC);this.loading$=(0,v.z)([Ne,ot]).pipe((0,E.T)(([Gt,Zt])=>Gt.isLoading||Zt.isLoading)),this.subs.push((0,v.z)([Ne,ot]).subscribe(([Gt,Zt])=>{let mt=this.getLimit(Gt,pt,this.appConfig.browseBy.defaultLowerLimit);const Pt=this.getLimit(Zt,pt,(new Date).getUTCFullYear()),Ce=[],Be=5*Math.floor((Pt-this.appConfig.browseBy.oneYearLimit)/5),ut=10*Math.floor((Pt-this.appConfig.browseBy.fiveYearLimit)/10);mt-=mt<=ut?10:mt<=Be?5:1;let un=Pt;for(;un>mt;)Ce.push(un),un<=ut?un-=10:un<=Be?un-=5:un--;(0,t.hj)(Ce)&&(this.startsWithOptions=Ce,this.cdRef.detectChanges())}))}getLimit(Ye,pt,Mt){if((0,t.a4)(Ye.payload)){const Ne=Ye.payload.firstMetadataValue(pt);if((0,t.hj)(Ne)&&(0,w.vd)(Ne)){const ot=new Date(Ne);return isNaN(ot.getUTCFullYear())?Mt:ot.getUTCFullYear()}return(new Date).getUTCFullYear()}}static{this.\u0275fac=function(pt){return new(pt||Fe)(h.rXU(U.nX),h.rXU(A.q),h.rXU(L.DSpaceObjectDataService),h.rXU(D.m),h.rXU(U.Ix),h.rXU(S.vQ),h.rXU(T.f),h.rXU(h.gRc),h.rXU(h.Agw))}}static{this.\u0275cmp=h.VBU({type:Fe,selectors:[["ds-browse-by-date"]],standalone:!0,features:[h.Vt3,h.aNF],decls:1,vars:1,consts:[["class","comcol-page-browse-section",4,"ngIf"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"]],template:function(pt,Mt){1&pt&&h.DNE(0,G,6,6,"section",0),2&pt&&h.Y8G("ngIf",!Mt.ssrRenderingDisabled)},dependencies:[e.Jj,e.bT,m.h,m.D9,M.v,C.U]})}}return Fe})();var z=n(84412),te=n(81262),Z=n(1624);const J=()=>["/search"],Q=Fe=>({field:Fe,startsWith:"",value:""});function ee(Fe,Et){if(1&Fe&&(h.j41(0,"h1"),h.EFF(1),h.nI1(2,"translate"),h.nI1(3,"translate"),h.k0s()),2&Fe){const Ye=h.XpG();h.R7$(),h.SpI(" ",h.i5U(3,3,"browse.title",h.eq3(6,Q,h.bMT(2,1,"browse.metadata."+Ye.vocabularyName)))," ")}}let le=(()=>{class Fe{constructor(Ye,pt){this.route=Ye,this.translate=pt,this.displayTitle=!0,this.scope$=new z.t(void 0),this.selectedItems=[],this.subs=[]}ngOnInit(){this.browseDefinition$=this.route.data.pipe((0,E.T)(Ye=>Ye.browseDefinition)),this.subs.push(this.browseDefinition$.subscribe(Ye=>{this.selectedItems=[],this.facetType=Ye.facetType,this.vocabularyName=Ye.vocabulary,this.vocabularyOptions={name:this.vocabularyName,closed:!0},this.description=this.translate.instant(`browse.metadata.${this.vocabularyName}.tree.description`)})),this.subs.push(this.scope$.subscribe(()=>{this.updateQueryParams()}))}ngOnChanges(){this.scope$.next(this.scope)}onSelect(Ye){this.selectedItems.push(Ye),this.filterValues=this.selectedItems.map(pt=>`${pt.value},equals`),this.updateQueryParams()}onDeselect(Ye){this.selectedItems=this.selectedItems.filter(pt=>pt.id!==Ye.id),this.filterValues=this.filterValues.filter(pt=>pt!==`${Ye.value},equals`),this.updateQueryParams()}updateQueryParams(){this.queryParams={["f."+this.facetType]:this.filterValues},(0,t.a4)(this.scope)&&(this.queryParams.scope=this.scope)}ngOnDestroy(){this.subs.forEach(Ye=>Ye.unsubscribe())}static{this.\u0275fac=function(pt){return new(pt||Fe)(h.rXU(U.nX),h.rXU(m.c$))}}static{this.\u0275cmp=h.VBU({type:Fe,selectors:[["ds-browse-by-taxonomy"]],inputs:{context:"context",browseByType:"browseByType",scope:"scope",displayTitle:"displayTitle"},standalone:!0,features:[h.OA$,h.aNF],decls:7,vars:12,consts:[[4,"ngIf"],[1,"mb-3"],[3,"select","deselect","description","vocabularyOptions","multiSelect","showAdd"],[1,"btn","btn-primary",3,"routerLink","queryParams","queryParamsHandling"]],template:function(pt,Mt){1&pt&&(h.j41(0,"section"),h.DNE(1,ee,4,8,"h1",0),h.j41(2,"div",1)(3,"ds-vocabulary-treeview",2),h.bIt("select",function(ot){return Mt.onSelect(ot)})("deselect",function(ot){return Mt.onDeselect(ot)}),h.k0s()(),h.j41(4,"a",3),h.EFF(5),h.nI1(6,"translate"),h.k0s()()),2&pt&&(h.R7$(),h.Y8G("ngIf",Mt.displayTitle),h.R7$(2),h.Y8G("description",Mt.description)("vocabularyOptions",Mt.vocabularyOptions)("multiSelect",!0)("showAdd",!1),h.R7$(),h.Y8G("routerLink",h.lJ4(11,J))("queryParams",Mt.queryParams)("queryParamsHandling","merge"),h.R7$(),h.SpI(" ",h.bMT(6,9,"browse.taxonomy.button"),""))},dependencies:[e.bT,m.h,m.D9,te.P,U.Wk]})}}return Fe})();const ne=Fe=>({startsWith:Fe}),fe=(Fe,Et,Ye)=>({field:Fe,startsWith:Et,value:Ye});function se(Fe,Et){if(1&Fe){const Ye=h.RV6();h.j41(0,"ds-browse-by",5),h.nI1(1,"translate"),h.nI1(2,"translate"),h.nI1(3,"translate"),h.nI1(4,"async"),h.nI1(5,"async"),h.bIt("prev",function(){h.eBV(Ye);const Mt=h.XpG(2);return h.Njj(Mt.goPrev())})("next",function(){h.eBV(Ye);const Mt=h.XpG(2);return h.Njj(Mt.goNext())}),h.k0s()}if(2&Fe){const Ye=h.XpG(2);h.FS9("title",h.i5U(3,12,"browse.title",h.sMw(21,fe,h.bMT(1,7,"browse.metadata."+Ye.browseId),Ye.startsWith?h.i5U(2,9,"browse.startsWith",h.eq3(19,ne,'"'+Ye.startsWith+'"')):"",Ye.value?'"'+Ye.value+'"':""))),h.Y8G("displayTitle",Ye.displayTitle)("objects$",void 0!==Ye.items$?Ye.items$:Ye.browseEntries$)("paginationConfig",h.bMT(4,15,Ye.currentPagination$))("sortConfig",h.bMT(5,17,Ye.currentSort$))("type",Ye.startsWithType)("startsWithOptions",Ye.startsWithOptions)}}function ce(Fe,Et){1&Fe&&(h.nrm(0,"ds-loading",6),h.nI1(1,"translate")),2&Fe&&h.FS9("message",h.bMT(1,1,"loading.browse-by-page"))}function Te(Fe,Et){if(1&Fe&&(h.j41(0,"section",1)(1,"div",2),h.DNE(2,se,6,25,"ds-browse-by",3),h.nI1(3,"async"),h.DNE(4,ce,2,3,"ds-loading",4),h.nI1(5,"async"),h.k0s()()),2&Fe){const Ye=h.XpG();h.R7$(2),h.Y8G("ngIf",!0!==h.bMT(3,2,Ye.loading$)),h.R7$(2),h.Y8G("ngIf",h.bMT(5,4,Ye.loading$))}}let be=(()=>{class Fe extends j.el{ngOnInit(){if(!this.renderOnServerSide&&!R.c.ssr.enableBrowseComponent&&(0,e.Vy)(this.platformId))return void(this.loading$=(0,f.of)(!1));const Ye=new p.z("dc.title",p.U.ASC);this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,Ye);const pt=(0,v.z)([this.route.params,this.route.queryParams]).pipe((0,E.T)(([Mt,Ne])=>Object.assign({},Mt,Ne)),(0,_.F)((Mt,Ne)=>Mt.id===Ne.id&&Mt.startsWith===Ne.startsWith));this.subs.push((0,v.z)([pt,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([Mt,Ne,ot,Gt])=>{this.startsWith=+Mt.startsWith||Mt.startsWith,this.browseId=Mt.id||this.defaultBrowseId,this.updatePageWithItems((0,j.M0)(Mt,Ne,ot,Gt,this.browseId,this.fetchThumbnails),void 0,void 0)})),this.updateStartsWithTextOptions()}static{this.\u0275fac=(()=>{let Ye;return function(Mt){return(Ye||(Ye=h.xGo(Fe)))(Mt||Fe)}})()}static{this.\u0275cmp=h.VBU({type:Fe,selectors:[["ds-browse-by-title"]],standalone:!0,features:[h.Vt3,h.aNF],decls:1,vars:1,consts:[["class","comcol-page-browse-section",4,"ngIf"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"]],template:function(pt,Mt){1&pt&&h.DNE(0,Te,6,6,"section",0),2&pt&&h.Y8G("ngIf",!Mt.ssrRenderingDisabled)},dependencies:[e.Jj,e.bT,m.h,m.D9,M.v,C.U]})}}return Fe})();const me=Z.O.Metadata,re=i.o.Any,De=new Map([[Z.O.Date,new Map([[re,new Map([[u.SS,q]])]])],[Z.O.Metadata,new Map([[re,new Map([[u.SS,j.el]])]])],[Z.O.Hierarchy,new Map([[re,new Map([[u.SS,le]])]])],[Z.O.Title,new Map([[re,new Map([[u.SS,be]])]])]]);function ht(Fe,Et,Ye){let pt=De.get(Fe);(0,t.Tn)(pt)&&(pt=De.get(me));let Mt=pt.get(Et);(0,t.Tn)(Mt)&&(Mt=pt.get(re));const Ne=(0,u.eW)(Mt,Ye);return(0,t.Tn)(Ne)?Mt.get(u.SS):Ne}},64611:(F,b,n)=>{"use strict";n.d(b,{BW:()=>v,CC:()=>u,Cb:()=>t,JW:()=>h,WJ:()=>R,_:()=>C,_E:()=>m,dv:()=>E,gH:()=>f,gj:()=>_});var i=n(45663);const t="parent",u="collections";function e(){return`/${u}`}function h(T){return new i.t(e(),T).toString()}function m(T){return new i.t(e(),T,C).toString()}function f(){return new i.t(e(),_).toString()}function v(T){return new i.t(h(T),C,S).toString()}function E(T){return new i.t(h(T),R).toString()}const _="create",C="edit",S="roles",R="itemtemplate"},54671:(F,b,n)=>{"use strict";n.d(b,{D6:()=>_,EU:()=>E,b2:()=>e,c5:()=>m,f2:()=>u,lG:()=>v,pk:()=>f,zQ:()=>C});var i=n(64611),t=n(45663);const u="parent",e="communities";function h(){return`/${e}`}function m(R){return new t.t(h(),R).toString()}function f(R){return new t.t(h(),R,C).toString()}function v(){return new t.t(h(),_).toString()}function E(R){return new t.t((0,i.JW)(R),C,S).toString()}const _="create",C="edit",S="roles"},13820:(F,b,n)=>{"use strict";n.d(b,{H:()=>C});var i=n(5964),t=n(96354),u=n(23294),e=n(96697),h=n(25558),m=n(88141),f=n(82777),v=n(43052),E=n(80183),_=n(45663);class C{constructor(R,T,A){this.halService=R,this.requestService=T,this.rdbService=A,this.linkName="authn",this.shortlivedtokensEndpoint="shortlivedtokens"}fetchRequest(R,...T){return this.rdbService.buildFromRequestUUID(R,...T).pipe((0,E.qD)())}getEndpointByMethod(R,T,...A){let p=(0,f.hj)(T)?`${R}/${T}`:`${R}`;return A?.length>0&&A.forEach((L,D)=>{p+=(0===D?"?":"&")+`embed=${L.name}`}),p}postToEndpoint(R,T,A){const p=this.requestService.generateRequestId(),L=this.halService.getEndpoint(this.linkName);return L.pipe((0,i.p)(D=>(0,f.hj)(D)),(0,t.T)(D=>this.getEndpointByMethod(D,R)),(0,u.F)(),(0,t.T)(D=>new v.Qf(p,D,T,A)),(0,e.s)(1)).subscribe(D=>{this.requestService.send(D)}),L.pipe((0,h.n)(()=>this.fetchRequest(p)))}getRequest(R,T,...A){const p=this.requestService.generateRequestId(),L=this.halService.getEndpoint(this.linkName);return L.pipe((0,i.p)(D=>(0,f.hj)(D)),(0,t.T)(D=>this.getEndpointByMethod(D,R,...A)),(0,u.F)(),(0,t.T)(D=>new v.IP(p,D,void 0,T)),(0,e.s)(1)).subscribe(D=>{this.requestService.send(D)}),L.pipe((0,h.n)(()=>this.fetchRequest(p,...A)))}getShortlivedToken(){return this.halService.getEndpoint(this.linkName).pipe((0,i.p)(R=>(0,f.hj)(R)),(0,u.F)(),(0,t.T)(R=>new _.t(R,this.shortlivedtokensEndpoint).toString()),(0,h.n)(R=>this.createShortLivedTokenRequest(R)),(0,m.M)(R=>this.requestService.send(R)),(0,h.n)(R=>this.rdbService.buildFromRequestUUID(R.uuid)),(0,E.qD)(),(0,t.T)(R=>R.hasSucceeded?R.payload.value:null))}}},59836:(F,b,n)=>{"use strict";n.d(b,{$K:()=>w,$X:()=>k,D9:()=>h,FD:()=>X,G2:()=>T,HQ:()=>f,IO:()=>D,IV:()=>m,JT:()=>q,K0:()=>G,S3:()=>E,Sn:()=>u,VU:()=>R,Wu:()=>p,YO:()=>K,Yk:()=>t,cU:()=>z,dj:()=>L,du:()=>S,e0:()=>_,eh:()=>j,es:()=>te,j3:()=>U,kZ:()=>M,ks:()=>e,mg:()=>C,nB:()=>x,qY:()=>$,sy:()=>v,v1:()=>Z});var i=n(91e3);const t={AUTHENTICATE:(0,i.N)("dspace/auth/AUTHENTICATE"),AUTHENTICATE_ERROR:(0,i.N)("dspace/auth/AUTHENTICATE_ERROR"),AUTHENTICATE_SUCCESS:(0,i.N)("dspace/auth/AUTHENTICATE_SUCCESS"),AUTHENTICATED:(0,i.N)("dspace/auth/AUTHENTICATED"),AUTHENTICATED_ERROR:(0,i.N)("dspace/auth/AUTHENTICATED_ERROR"),AUTHENTICATED_SUCCESS:(0,i.N)("dspace/auth/AUTHENTICATED_SUCCESS"),CHECK_AUTHENTICATION_TOKEN:(0,i.N)("dspace/auth/CHECK_AUTHENTICATION_TOKEN"),CHECK_AUTHENTICATION_TOKEN_COOKIE:(0,i.N)("dspace/auth/CHECK_AUTHENTICATION_TOKEN_COOKIE"),SET_AUTH_COOKIE_STATUS:(0,i.N)("dspace/auth/SET_AUTH_COOKIE_STATUS"),RETRIEVE_AUTH_METHODS:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS"),RETRIEVE_AUTH_METHODS_SUCCESS:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS_SUCCESS"),RETRIEVE_AUTH_METHODS_ERROR:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS_ERROR"),REDIRECT_TOKEN_EXPIRED:(0,i.N)("dspace/auth/REDIRECT_TOKEN_EXPIRED"),REDIRECT_AUTHENTICATION_REQUIRED:(0,i.N)("dspace/auth/REDIRECT_AUTHENTICATION_REQUIRED"),REFRESH_TOKEN:(0,i.N)("dspace/auth/REFRESH_TOKEN"),REFRESH_TOKEN_SUCCESS:(0,i.N)("dspace/auth/REFRESH_TOKEN_SUCCESS"),REFRESH_TOKEN_ERROR:(0,i.N)("dspace/auth/REFRESH_TOKEN_ERROR"),RETRIEVE_TOKEN:(0,i.N)("dspace/auth/RETRIEVE_TOKEN"),ADD_MESSAGE:(0,i.N)("dspace/auth/ADD_MESSAGE"),RESET_MESSAGES:(0,i.N)("dspace/auth/RESET_MESSAGES"),LOG_OUT:(0,i.N)("dspace/auth/LOG_OUT"),LOG_OUT_ERROR:(0,i.N)("dspace/auth/LOG_OUT_ERROR"),LOG_OUT_SUCCESS:(0,i.N)("dspace/auth/LOG_OUT_SUCCESS"),SET_REDIRECT_URL:(0,i.N)("dspace/auth/SET_REDIRECT_URL"),RETRIEVE_AUTHENTICATED_EPERSON:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON"),RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS"),RETRIEVE_AUTHENTICATED_EPERSON_ERROR:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON_ERROR"),REDIRECT_AFTER_LOGIN_SUCCESS:(0,i.N)("dspace/auth/REDIRECT_AFTER_LOGIN_SUCCESS"),SET_USER_AS_IDLE:(0,i.N)("dspace/auth/SET_USER_AS_IDLE"),UNSET_USER_AS_IDLE:(0,i.N)("dspace/auth/UNSET_USER_AS_IDLE")};class u{constructor(Q,ee){this.type=t.AUTHENTICATE,this.payload={email:Q,password:ee}}}class e{constructor(Q){this.type=t.AUTHENTICATED,this.payload=Q}}class h{constructor(Q,ee,le){this.type=t.AUTHENTICATED_SUCCESS,this.payload={authenticated:Q,authToken:ee,userHref:le}}}class m{constructor(Q){this.type=t.AUTHENTICATED_ERROR,this.payload=Q}}class f{constructor(Q){this.type=t.AUTHENTICATE_ERROR,this.payload=Q}}class v{constructor(Q){this.type=t.AUTHENTICATE_SUCCESS,this.payload=Q}}class E{constructor(){this.type=t.CHECK_AUTHENTICATION_TOKEN}}class _{constructor(){this.type=t.CHECK_AUTHENTICATION_TOKEN_COOKIE}}class C{constructor(Q){this.type=t.SET_AUTH_COOKIE_STATUS,this.payload=!1,this.payload=Q}}class S{constructor(Q){this.payload=Q,this.type=t.LOG_OUT}}class R{constructor(Q){this.type=t.LOG_OUT_ERROR,this.payload=Q}}class T{constructor(Q){this.payload=Q,this.type=t.LOG_OUT_SUCCESS}}class p{constructor(Q){this.type=t.REDIRECT_TOKEN_EXPIRED,this.payload=Q}}class L{constructor(Q){this.type=t.REFRESH_TOKEN,this.payload=Q}}class D{constructor(Q){this.type=t.REFRESH_TOKEN_SUCCESS,this.payload=Q}}class w{constructor(){this.type=t.REFRESH_TOKEN_ERROR}}class M{constructor(){this.type=t.RETRIEVE_TOKEN}}class x{constructor(Q){this.type=t.ADD_MESSAGE,this.payload=Q}}class j{constructor(){this.type=t.RESET_MESSAGES}}class U{constructor(Q){this.type=t.RETRIEVE_AUTH_METHODS,this.payload=Q}}class ${constructor(Q){this.type=t.RETRIEVE_AUTH_METHODS_SUCCESS,this.payload=Q}}class k{constructor(){this.type=t.RETRIEVE_AUTH_METHODS_ERROR}}class K{constructor(Q){this.type=t.SET_REDIRECT_URL,this.payload=Q}}class X{constructor(Q){this.type=t.REDIRECT_AFTER_LOGIN_SUCCESS,this.payload=Q}}class G{constructor(Q){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON,this.payload=Q}}class q{constructor(Q){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS,this.payload=Q}}class z{constructor(Q){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON_ERROR,this.payload=Q}}class te{constructor(){this.type=t.SET_USER_AS_IDLE}}class Z{constructor(){this.type=t.UNSET_USER_AS_IDLE}}},67116:(F,b,n)=>{"use strict";n.d(b,{Ru:()=>Z,S0:()=>te,kL:()=>J,of:()=>Q,uR:()=>ee});var i=n(21626),t=n(25499),u=n(7673),e=n(5964),h=n(99172),m=n(96354),f=n(25558),v=n(96697),E=n(88280),_=n(59540),C=n(82777),S=n(39806),R=n(43404),T=n(67600),A=n(96820),p=n(74449),L=n(93130),D=n(56760),w=n(1676),M=n(80183),x=n(32089),j=n(59836),U=n(13820),$=n(40667),k=n(10034),K=n(38169),X=n(54438),G=n(7901),q=n(59752),z=n(41780);const te="/login",Z="/logout",J="dsRedirectUrl",Q="dsImpersonatingEPerson";let ee=(()=>{class le{constructor(fe,se,ce,Te,be,me,re,Ee,De,tt,ht,Fe){this.req=fe,this._window=se,this.response=ce,this.authRequestService=Te,this.epersonService=be,this.router=me,this.routeService=re,this.storage=Ee,this.store=De,this.hardRedirectService=tt,this.notificationService=ht,this.translateService=Fe,this.store.pipe((0,e.p)(Et=>void 0!==Et?.core?.auth),(0,t.Lt)(K.wR),(0,h.Z)(!1)).subscribe(Et=>this._authenticated=Et)}authenticate(fe,se){const ce=`password=${encodeURIComponent(se)}&user=${encodeURIComponent(fe)}`,Te=Object.create({});let be=new i.Lr;return be=be.append("Content-Type","application/x-www-form-urlencoded"),Te.headers=be,this.authRequestService.postToEndpoint("login",ce,Te).pipe((0,m.T)(me=>{if((0,C.a4)(me.payload)&&me.payload.authenticated)return me.payload;throw new Error("auth.errors.invalid-user")}))}checkAuthenticationCookie(){const fe=Object.create({});let se=new i.Lr;return se=se.append("Accept","application/json"),fe.headers=se,fe.withCredentials=!0,this.authRequestService.getRequest("status",fe).pipe((0,m.T)(ce=>Object.assign(new $.T,ce.payload)))}isAuthenticated(){return this.store.pipe((0,t.Lt)(K.wR))}isAuthenticationLoaded(){return this.store.pipe((0,t.Lt)(K.TR))}setExternalAuthStatus(fe){this.store.dispatch(new j.mg(fe))}isExternalAuthentication(){return this.store.pipe((0,t.Lt)(K.qD))}authenticatedUser(fe){const se=Object.create({});let ce=new i.Lr;return ce=ce.append("Accept","application/json"),ce=ce.append("Authorization",`Bearer ${fe.accessToken}`),se.headers=ce,this.authRequestService.getRequest("status",se).pipe((0,m.T)(Te=>{const be=Te.payload;if((0,C.a4)(be)&&be.authenticated)return be._links.eperson.href;throw new Error("Not authenticated")}))}retrieveAuthenticatedUserByHref(fe){return this.epersonService.findByHref(fe).pipe((0,M.Hz)())}retrieveAuthenticatedUserById(fe){return this.epersonService.findById(fe).pipe((0,M.Hz)())}getAuthenticatedUserFromStore(){return this.store.pipe((0,t.Lt)(K.At),(0,C.Az)(),(0,f.n)(fe=>this.epersonService.findById(fe)),(0,M.Hz)())}checkAuthenticationToken(){this.store.dispatch(new j.S3)}getSpecialGroupsFromAuthStatus(){return this.authRequestService.getRequest("status",null,(0,T.s)("specialGroups")).pipe((0,M.qD)(),(0,f.n)(fe=>fe.hasSucceeded?fe.payload.specialGroups:(0,R.CX)((0,A.g)(new x.Q,[]))))}hasValidAuthenticationToken(){return this.store.pipe((0,t.Lt)(K.Y5),(0,v.s)(1),(0,m.T)(fe=>{const se=(0,C.hj)(fe)?fe:this.storage.get(k.R);if((0,C.hj)(se)&&se.hasOwnProperty("accessToken")&&(0,C.hj)(se.accessToken)&&!this.isTokenExpired(se))return se;throw!1}))}refreshAuthenticationToken(fe){const se=Object.create({});let ce=new i.Lr;return ce=ce.append("Accept","application/json"),fe&&fe.accessToken&&(ce=ce.append("Authorization",`Bearer ${fe.accessToken}`)),se.headers=ce,se.withCredentials=!0,this.authRequestService.postToEndpoint("login",{},se).pipe((0,m.T)(Te=>{const be=Te.payload;if((0,C.a4)(be)&&be.authenticated)return be.token;throw new Error("Not authenticated")}))}resetAuthenticationError(){this.store.dispatch(new j.eh)}retrieveAuthMethodsFromAuthStatus(fe){let se=[];return(0,C.hj)(fe.authMethods)&&(se=fe.authMethods),(0,u.of)(se)}logout(){let fe=new i.Lr;return fe=fe.append("Content-Type","application/x-www-form-urlencoded"),this.authRequestService.postToEndpoint("logout",Object.create({headers:fe,responseType:"text"})).pipe((0,m.T)(ce=>{const Te=ce.payload;if((0,C.a4)(Te)&&!Te.authenticated)return!0;throw new Error("auth.errors.invalid-user")}))}buildAuthHeader(fe){return(0,C.Im)(fe)&&(fe=this.getToken()),this._authenticated&&(0,C.Pe)(fe)?`Bearer ${fe.accessToken}`:""}getToken(){let fe;return this.store.pipe((0,v.s)(1),(0,t.Lt)(K.Y5)).subscribe(se=>{fe=se||null}),fe}trackTokenExpiration(){let fe,se=!1;this.store.pipe((0,t.Lt)(K.Y5)).subscribe(ce=>{if(se&&void 0!==fe&&void 0===ce&&(this.notificationService.error(this.translateService.get("auth.messages.token-refresh-failed")),setTimeout(()=>this.navigateToRedirectUrl(this.hardRedirectService.getCurrentRoute()),1e4),se=!1),se&&void 0!==ce&&fe.expires!==ce.expires&&(se=!1),!se&&(fe=ce||null,null!=fe)){let Te=fe.expires-(new Date).getTime()-E.c.auth.rest.timeLeftBeforeTokenRefresh;Te<0&&(Te=0),(0,C.a4)(this.tokenRefreshTimer)&&clearTimeout(this.tokenRefreshTimer),this.tokenRefreshTimer=setTimeout(()=>{this.store.dispatch(new j.dj(fe)),se=!0},Te)}})}isTokenExpiring(){return this.store.pipe((0,t.Lt)(K.Pc),(0,v.s)(1),(0,m.T)(fe=>!this.isTokenExpired()&&!fe&&this.getToken().expires-3e5<Date.now()))}isTokenExpired(fe){return(fe=fe||this.getToken())&&fe.expires<Date.now()}storeToken(fe){const se=Date.now()+864e5,Te={expires:new Date(se)};return this.storage.set(k.R,fe,Te)}removeToken(){return this.storage.remove(k.R)}replaceToken(fe){return this.removeToken(),this.storeToken(fe)}redirectToLogin(){this.router.navigate([te])}redirectToLoginWhenTokenExpired(){const fe=te+"?expired=true";this._window.nativeWindow.location?this._window.nativeWindow.location.href=fe:this.response?this.response._headerSent||this.response.redirect(302,fe):this.router.navigateByUrl(fe)}navigateToRedirectUrl(fe){if(!(0,C.a4)(fe)||!fe.includes("reload/")){let se=`reload/${(new Date).getTime()}`;(0,C.hj)(fe)&&!fe.startsWith(te)&&(se+=`?redirect=${encodeURIComponent(fe)}`),this.hardRedirectService.redirect(se)}}refreshAfterLogout(){this.navigateToRedirectUrl(void 0)}getRedirectUrl(){return this.store.pipe((0,t.Lt)(K.M3),(0,m.T)(fe=>(0,C.a4)(fe)?fe:this.storage.get(J)))}setRedirectUrl(fe){const se=Date.now()+36e5,Te={expires:new Date(se)};this.storage.set(J,fe,Te),this.store.dispatch(new j.YO((0,C.EA)(fe)?fe:""))}setRedirectUrlIfNotSet(fe){this.getRedirectUrl().pipe((0,v.s)(1)).subscribe(se=>{(0,C.Tn)(se)&&this.setRedirectUrl(fe)})}clearRedirectUrl(){this.store.dispatch(new j.YO(void 0)),this.storage.remove(J)}impersonate(fe){this.storage.set(Q,fe),this.refreshAfterLogout()}stopImpersonating(){this.storage.remove(Q)}stopImpersonatingAndRefresh(){this.stopImpersonating(),this.refreshAfterLogout()}getImpersonateID(){return this.storage.get(Q)}isImpersonating(){return(0,C.a4)(this.getImpersonateID())}isImpersonatingUser(fe){return this.getImpersonateID()===fe}getShortlivedToken(){return this.isAuthenticated().pipe((0,f.n)(fe=>fe?this.authRequestService.getShortlivedToken():(0,u.of)(null)))}isUserIdle(){return this.store.pipe((0,t.Lt)(K.xB))}setIdle(fe){this.store.dispatch(fe?new j.es:new j.v1)}static{this.\u0275fac=function(se){return new(se||le)(X.KVO(_.S),X.KVO(w.lc),X.KVO(_.C,8),X.KVO(U.H),X.KVO(p.EPersonDataService),X.KVO(G.Ix),X.KVO(D.v$),X.KVO(L.O),X.KVO(t.il),X.KVO(q.$),X.KVO(S.I),X.KVO(z.c$))}}static{this.\u0275prov=X.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}}return le})()},49347:(F,b,n)=>{"use strict";n.d(b,{t:()=>E});var i=n(54438),t=n(7901),u=n(25499),e=n(47677),h=n(25558),m=n(96354),f=n(67116),v=n(38169);const E=(C,S,R=(0,i.WQX)(f.uR),T=(0,i.WQX)(t.Ix),A=(0,i.WQX)(u.il))=>{const p=S.url;return A.pipe((0,u.Lt)(v.VV)).pipe((0,e.I)(L=>!1===L),(0,h.n)(()=>A.pipe((0,u.Lt)(v.wR))),(0,m.T)(L=>L||(R.setRedirectUrl(p),R.removeToken(),T.createUrlTree([f.S0]))))}},40667:(F,b,n)=>{"use strict";n.d(b,{T:()=>S});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(24547),m=n(58235),f=n(36074),v=n(42547),E=n(98688);const _=new v.v("status");var C=n(10034);let S=class{static{this.type=_}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],S.prototype,"id",void 0),(0,i.Cg)([E.aK,t.autoserialize,(0,i.Sn)("design:type",v.v)],S.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new h.a("auth-status"),"id"),(0,i.Sn)("design:type",String)],S.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],S.prototype,"okay",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],S.prototype,"authenticated",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],S.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",u.c)],S.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(f.U,!0),(0,i.Sn)("design:type",u.c)],S.prototype,"specialGroups",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",C.S)],S.prototype,"token",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],S.prototype,"error",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],S.prototype,"authMethods",void 0),S=(0,i.Cg)([e.gV],S)},10034:(F,b,n)=>{"use strict";function i(E){this.message=E}n.d(b,{S:()=>v,R:()=>f}),(i.prototype=new Error).name="InvalidCharacterError";var t=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(E){var _=String(E).replace(/=+$/,"");if(_.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var C,S,R=0,T=0,A="";S=_.charAt(T++);~S&&(C=R%4?64*C+S:S,R++%4)?A+=String.fromCharCode(255&C>>(-2*R&6)):0)S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(S);return A};function e(E){this.message=E}(e.prototype=new Error).name="InvalidTokenError";const f="dsAuthInfo";class v{constructor(_){this.accessToken=_.replace("Bearer ","");try{const C=function h(E,_){if("string"!=typeof E)throw new e("Invalid token specified");var C=!0===(_=_||{}).header?0:1;try{return JSON.parse(function u(E){var _=E.replace(/-/g,"+").replace(/_/g,"/");switch(_.length%4){case 0:break;case 2:_+="==";break;case 3:_+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(t(_).replace(/(.)/g,function(S,R){var T=R.charCodeAt(0).toString(16).toUpperCase();return T.length<2&&(T="0"+T),"%"+T}))}catch{return t(_)}}(E.split(".")[C]))}catch(S){throw new e("Invalid token specified: "+S.message)}}(this.accessToken);this.expires=1e3*C.exp}catch{this.expires=0}}}},2044:(F,b,n)=>{"use strict";n.d(b,{Q:()=>i});var i=function(t){return t.Password="password",t.Shibboleth="shibboleth",t.Ldap="ldap",t.Ip="ip",t.X509="x509",t.Oidc="oidc",t.Orcid="orcid",t.Saml="saml",t}(i||{})},52027:(F,b,n)=>{"use strict";n.d(b,{q:()=>t});var i=n(2044);class t{constructor(e,h,m){switch(this.position=h,e){case"ip":this.authMethodType=i.Q.Ip;break;case"ldap":this.authMethodType=i.Q.Ldap;break;case"shibboleth":this.authMethodType=i.Q.Shibboleth,this.location=m;break;case"x509":this.authMethodType=i.Q.X509;break;case"password":this.authMethodType=i.Q.Password;break;case"oidc":this.authMethodType=i.Q.Oidc,this.location=m;break;case"orcid":this.authMethodType=i.Q.Orcid,this.location=m;break;case"saml":this.authMethodType=i.Q.Saml,this.location=m}}}},38169:(F,b,n)=>{"use strict";n.d(b,{At:()=>M,F8:()=>z,Gv:()=>X,H8:()=>x,M3:()=>Z,Pc:()=>G,TR:()=>$,VV:()=>K,Y5:()=>q,dx:()=>j,hx:()=>w,qD:()=>k,wR:()=>U,xB:()=>J});var i=n(25499),t=n(47797);const u=(0,i.Mz)(t.N,Q=>Q.auth),w=(0,i.Mz)(u,Q=>Q.authMethods),M=(0,i.Mz)(u,Q=>Q.userId),x=(0,i.Mz)(u,Q=>Q.error),j=(0,i.Mz)(u,Q=>Q.info),U=(0,i.Mz)(u,Q=>Q.authenticated),$=(0,i.Mz)(u,Q=>Q.loaded),k=(0,i.Mz)(u,Q=>Q.externalAuth),K=(0,i.Mz)(u,Q=>Q.loading),X=(0,i.Mz)(u,Q=>Q.blocking),G=(0,i.Mz)(u,Q=>Q.refreshing),q=(0,i.Mz)(u,Q=>Q.authToken),z=(0,i.Mz)(u,Q=>Q.error),Z=((0,i.Mz)(u,Q=>Q.error),(0,i.Mz)(u,Q=>Q.redirectUrl)),J=(0,i.Mz)(u,Q=>Q.idle)},96526:(F,b,n)=>{"use strict";n.d(b,{f:()=>h});var i=n(82777),t=n(39552),u=n(54438),e=n(41780);let h=(()=>{class m{constructor(v){this.translateService=v,this.factories={EPerson:E=>{const _=E.firstMetadataValue("eperson.firstname"),C=E.firstMetadataValue("eperson.lastname");return(0,i.Im)(_)&&(0,i.Im)(C)?this.translateService.instant("dso.name.unnamed"):(0,i.Im)(_)||(0,i.Im)(C)?_||C:`${_} ${C}`},Person:E=>{const _=E.firstMetadataValue("person.familyName"),C=E.firstMetadataValue("person.givenName");return(0,i.Im)(_)&&(0,i.Im)(C)?E.firstMetadataValue("dc.title")||this.translateService.instant("dso.name.unnamed"):(0,i.Im)(_)||(0,i.Im)(C)?_||C:`${_}, ${C}`},OrgUnit:E=>E.firstMetadataValue("organization.legalName")||this.translateService.instant("dso.name.untitled"),Default:E=>E.firstMetadataValue("dc.title")||E.name||this.translateService.instant("dso.name.untitled")}}getName(v){if(v){const _=v.getRenderTypes().filter(S=>"string"==typeof S).find(S=>Object.keys(this.factories).includes(S));let C;return(0,i.a4)(_)&&(C=this.factories[_](v)),(0,i.Im)(C)&&(C=this.factories.Default(v)),C}return""}getHitHighlights(v,E){const C=E.getRenderTypes().filter(S=>"string"==typeof S).find(S=>["Person","OrgUnit"].includes(S));if("Person"===C){const S=this.firstMetadataValue(v,E,"person.familyName"),R=this.firstMetadataValue(v,E,"person.givenName");return(0,i.Im)(S)&&(0,i.Im)(R)?this.firstMetadataValue(v,E,"dc.title")||E.name:(0,i.Im)(S)||(0,i.Im)(R)?S||R:`${S}, ${R}`}return"OrgUnit"===C?this.firstMetadataValue(v,E,"organization.legalName")||this.translateService.instant("dso.name.untitled"):this.firstMetadataValue(v,E,"dc.title")||E.name||this.translateService.instant("dso.name.untitled")}firstMetadataValue(v,E,_){return t.O.firstValue([v.hitHighlights,E.metadata],_)}static{this.\u0275fac=function(E){return new(E||m)(u.KVO(e.c$))}}static{this.\u0275prov=u.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},42673:(F,b,n)=>{"use strict";n.r(b),n.d(b,{BrowseDefinitionDataService:()=>p,createAndSendBrowseDefinitionGetRequest:()=>T});var i=n(7673),t=n(96697),u=n(82777),e=n(72734),h=n(53954),m=n(41684),f=n(46787),v=n(63897),E=n(35108),_=n(43052),C=n(32473),S=n(4910),R=n(54438);const T=(L,D,w,M=!0)=>{(0,u.hj)(w)&&("string"==typeof w&&(w=(0,i.of)(w)),w.pipe((0,u.VT)(),(0,t.s)(1)).subscribe(x=>{const j=L.generateRequestId(),U=new _.FQ(j,x);(0,u.a4)(D)&&(U.responseMsToLive=D),L.send(U,M)}))};class A extends f.H{createAndSendGetRequest(D,w=!0){T(this.requestService,this.responseMsToLive,D,w)}}let p=(()=>{class L extends v.W{constructor(w,M,x,j){super("browses",w,M,x,j),this.requestService=w,this.rdbService=M,this.objectCache=x,this.halService=j,this.searchData=new E.X(this.linkPath,w,M,x,j,this.responseMsToLive),this.findAllData=new A(this.linkPath,w,M,x,j,this.responseMsToLive)}findAll(w={},M=!0,x=!0,...j){return this.findAllData.findAll(w,M,x,...j)}searchBy(w,M,x,j,...U){return this.searchData.searchBy(w,M,x,j,...U)}getSearchByHref(w,M,...x){return this.searchData.getSearchByHref(w,M,...x)}findByFields(w,M=!0,x=!0,...j){const U=[];U.push(new h.x("fields",w));const $=this.getSearchByHref("byFields",{searchParams:U},...j);return this.findByHref($,M,x,...j)}createAndSendGetRequest(w,M=!0){T(this.requestService,this.responseMsToLive,w,M)}static{this.\u0275fac=function(M){return new(M||L)(R.KVO(C.B),R.KVO(e.o),R.KVO(m.$),R.KVO(S.Y))}}static{this.\u0275prov=R.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})()},37864:(F,b,n)=>{"use strict";n.d(b,{q:()=>A});var i=n(96354),t=n(99172),u=n(23294),e=n(88280),h=n(82777),m=n(67600),f=n(70413),v=n(32473),E=n(4910),_=n(80183),C=n(45663),S=n(42673),R=n(54438);function T(){const p=[(0,m.s)("thumbnail")];return e.c.item.showAccessStatuses&&p.push((0,m.s)("accessStatus")),p}let A=(()=>{class p{static toSearchKeyArray(D){const w=D.split("."),M=[];M.push("*");for(let x=0;x<w.length-1;x++){const U=[...w.slice(0,x+1),"*"].join(".");M.push(U)}return M.push(D),M}constructor(D,w,M,x){this.requestService=D,this.halService=w,this.browseDefinitionDataService=M,this.hrefOnlyDataService=x,this.linkPath="browses"}getBrowseDefinitions(){return this.browseDefinitionDataService.findAll({elementsPerPage:9999}).pipe((0,_.yd)())}getBrowseEntriesFor(D){const w=this.getBrowseDefinitions().pipe((0,_.Jq)(D.metadataDefinition),(0,h.Az)(),(0,i.T)(M=>M.entries.href||M.entries),(0,h.Az)(),(0,i.T)(M=>{const x=[];return(0,h.hj)(D.scope)&&x.push(`scope=${D.scope}`),(0,h.hj)(D.sort)&&x.push(`sort=${D.sort.field},${D.sort.direction}`),(0,h.hj)(D.pagination)&&(x.push("page="+(D.pagination.currentPage-1)),x.push(`size=${D.pagination.pageSize}`)),(0,h.hj)(D.startsWith)&&x.push(`startsWith=${D.startsWith}`),(0,h.hj)(x)&&(M=new C.t(M,`?${x.join("&")}`).toString()),M}));return D.fetchThumbnail?this.hrefOnlyDataService.findListByHref(w,{},void 0,void 0,...T()):this.hrefOnlyDataService.findListByHref(w)}getBrowseItemsFor(D,w,M){const x=this.getBrowseDefinitions().pipe((0,_.Jq)(M.metadataDefinition),(0,h.Az)(),(0,i.T)(j=>j.items.href||j.items),(0,h.Az)(),(0,i.T)(j=>{const U=[];return(0,h.hj)(M.scope)&&U.push(`scope=${M.scope}`),(0,h.hj)(M.sort)&&U.push(`sort=${M.sort.field},${M.sort.direction}`),(0,h.hj)(M.pagination)&&(U.push("page="+(M.pagination.currentPage-1)),U.push(`size=${M.pagination.pageSize}`)),(0,h.hj)(M.startsWith)&&U.push(`startsWith=${M.startsWith}`),(0,h.hj)(D)&&U.push(`filterValue=${encodeURIComponent(D)}`),(0,h.hj)(w)&&U.push(`filterAuthority=${encodeURIComponent(w)}`),(0,h.hj)(U)&&(j=new C.t(j,`?${U.join("&")}`).toString()),j}));return M.fetchThumbnail?this.hrefOnlyDataService.findListByHref(x,{},void 0,void 0,...T()):this.hrefOnlyDataService.findListByHref(x)}getFirstItemFor(D,w,M){const x=this.getBrowseDefinitions().pipe((0,_.Jq)(D),(0,h.Az)(),(0,i.T)(j=>j.items.href||j.items),(0,h.Az)(),(0,i.T)(j=>{const U=[];return(0,h.a4)(w)&&U.push(`scope=${w}`),U.push("page=0"),U.push("size=1"),M&&U.push("sort=default,"+M),(0,h.hj)(U)&&(j=new C.t(j,`?${U.join("&")}`).toString()),j}));return this.hrefOnlyDataService.findListByHref(x).pipe((0,_.yd)(),(0,_.GD)())}getPrevBrowseItems(D){return this.hrefOnlyDataService.findListByHref(D.payload.prev)}getNextBrowseItems(D){return this.hrefOnlyDataService.findListByHref(D.payload.next)}getPrevBrowseEntries(D){return this.hrefOnlyDataService.findListByHref(D.payload.prev)}getNextBrowseEntries(D){return this.hrefOnlyDataService.findListByHref(D.payload.next)}getBrowseURLFor(D,w){const M=p.toSearchKeyArray(D);return this.getBrowseDefinitions().pipe((0,_.Bo)(),(0,_.W8)(),(0,i.T)(x=>x.find(j=>{let U="";return Array.isArray(j.metadataKeys)&&(U=j.metadataKeys.find($=>M.indexOf($)>=0)),(0,h.hj)(U)})),(0,i.T)(x=>{if((0,h.Im)(x)||(0,h.Im)(x._links)||(0,h.Im)(x._links[w]))throw new Error(`A browse endpoint for ${w} on ${D} isn't configured`);return x._links[w]||x._links[w].href}),(0,t.Z)(void 0),(0,u.F)())}static{this.\u0275fac=function(w){return new(w||p)(R.KVO(v.B),R.KVO(E.Y),R.KVO(S.BrowseDefinitionDataService),R.KVO(f.HrefOnlyDataService))}}static{this.\u0275prov=R.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},21921:(F,b,n)=>{"use strict";n.d(b,{FR:()=>m,O3:()=>w,Qt:()=>R,gV:()=>S,nf:()=>L,o8:()=>M,qP:()=>h});var i=n(54438),t=n(82777),u=n(87891);new i.nKC("getDataServiceFor",{providedIn:"root",factory:()=>A});const h=new i.nKC("getLinkDefinition",{providedIn:"root",factory:()=>w}),m=new i.nKC("getLinkDefinitions",{providedIn:"root",factory:()=>D}),E=(Symbol("resolvedLink"),new Map),_=new Map,C=new Map;function S(x){E.set(x.type.value,x)}function R(x){return E.get((0,u.zA)(x))}function A(x){return _.get(x.value)}const L=(x,j=!1,U)=>($,k)=>{let K=C.get($.constructor);(0,t.Tn)(K)&&(K=new Map),(0,t.Tn)(U)&&(U=k),K.set(U,{resourceType:x,isList:j,linkName:U,propertyName:k}),C.set($.constructor,K)},D=x=>C.get(x),w=(x,j)=>{const U=C.get(x);if((0,t.a4)(U))return U.get(j)};function M(x){return j=>{const U=C.get(x)||new Map,$=C.get(j)||new Map;U.forEach((k,K)=>{$.has(K)||$.set(K,k)}),C.set(j,$)}}},1321:(F,b,n)=>{"use strict";n.d(b,{_:()=>E});var i=n(983),t=n(25558),u=n(99437),e=n(82640),h=n(82777),m=n(4047),f=n(21921),v=n(54438);let E=(()=>{class _{constructor(S,R,T,A){this.injector=S,this.map=R,this.getLinkDefinition=T,this.getLinkDefinitions=A}resolveLinks(S,...R){return R.forEach(T=>{this.resolveLink(S,T)}),S}resolveLinkWithoutAttaching(S,R){const T=this.getLinkDefinition(S.constructor,R.name);if((0,h.a4)(T))return(0,m.M)(this.map,T.resourceType.value,this.injector).pipe((0,t.n)(p=>{const L=S._links[T.linkName];if((0,h.a4)(L)){const D=L.href;try{return T.isList?p.findListByHref(D,R.findListOptions,R.useCachedVersionIfAvailable,R.reRequestOnStale,...R.linksToFollow):p.findByHref(D,R.useCachedVersionIfAvailable,R.reRequestOnStale,...R.linksToFollow)}catch(w){throw console.error(`Something went wrong when using ${T.resourceType.value}) ${(0,h.a4)(p)?"":"(undefined) "}to resolve link ${String(R.name)} at ${D}`),w}}return i.w}),(0,u.W)(p=>{throw new Error(`The @link() for ${String(R.name)} on ${S.constructor.name} models uses the resource type ${T.resourceType.value.toUpperCase()}, but there is no service with an @dataService(${T.resourceType.value.toUpperCase()}) annotation in order to retrieve it`)}));if(!R.isOptional)throw new Error(`followLink('${String(R.name)}') was used as a required link for a ${S.constructor.name}, but there is no property on ${S.constructor.name} models with an @link() for ${String(R.name)}`);return i.w}resolveLink(S,R){const A=this.getLinkDefinitions(S.constructor).get(R.name);return(0,h.hj)(A)?S[A.propertyName]=this.resolveLinkWithoutAttaching(S,R):S[R.name]=this.resolveLinkWithoutAttaching(S,R),S}removeResolvedLinks(S){const R=Object.assign(new S.constructor,S),T=this.getLinkDefinitions(S.constructor);return(0,h.hj)(T)&&T.forEach(A=>{R[A.propertyName]=void 0}),R}static{this.\u0275fac=function(R){return new(R||_)(v.KVO(v.zZn),v.KVO(e.l9),v.KVO(f.qP),v.KVO(f.FR))}}static{this.\u0275prov=v.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},72734:(F,b,n)=>{"use strict";n.d(b,{o:()=>K});var i=n(7673),t=n(84572),u=n(77876),e=n(25558),h=n(96354),m=n(99172),f=n(5964),v=n(23294),_=n(82777),C=n(43404),S=n(67600),R=n(96820),T=n(74346),A=n(1716),p=n(32473),L=n(7434),D=n(69227),w=n(80183),M=n(91098),x=n(87891),j=n(41684),U=n(21921),$=n(1321),k=n(54438);let K=(()=>{class X{constructor(q,z,te){this.objectCache=q,this.linkService=z,this.requestService=te}buildPayload(q,z,...te){return(0,_.Tn)(z)&&(z=(0,i.of)(void 0)),(0,t.z)([z,q]).pipe((0,e.n)(([Z,J])=>{const Q=this.hasExactMatchInObjectCache(Z,J);return(0,_.a4)(J.response)&&(Q||this.isCacheablePayload(J)||this.isUnCacheablePayload(J))?Q?this.objectCache.getObjectByHref(Z):this.isCacheablePayload(J)?this.objectCache.getObjectByHref(J.response.payloadLink.href):[this.plainObjectToInstance(J.response.unCacheableObject)]:(0,L.yO)(J.state)?[null]:[void 0]}),(0,e.n)(Z=>{if((0,_.a4)(Z)){if((0,x.zA)(Z.type)===T.v.value)return this.buildPaginatedList(Z,...te);if((0,_.hj)(te))return[this.linkService.resolveLinks(Z,...te)]}return[Z]}))}plainObjectToInstance(q){const z=(0,U.Qt)(q.type);return Object.assign("function"==typeof z?new z:{},q)}hasExactMatchInObjectCache(q,z){return(0,_.a4)(z)&&(0,_.a4)(z.request)&&(0,_.hj)(z.request.uuid)&&(0,_.a4)(q)&&this.objectCache.hasByHref(q,z.request.uuid)}isCacheablePayload(q){return(0,_.a4)(q.response.payloadLink)&&(0,_.hj)(q.response.payloadLink.href)}isUnCacheablePayload(q){return(0,_.a4)(q.response.unCacheableObject)}buildPaginatedList(q,...z){const te=z.find(Q=>"page"===Q.name),Z=z.filter(Q=>"page"!==Q.name),J=Object.assign(new R.O,q);if((0,_.a4)(te)){if((0,_.Im)(J.page)){const Q=J._links.page.map(ee=>ee.href);return this.objectCache.getList(Q).pipe((0,h.T)(ee=>(J.page=ee.map(le=>this.plainObjectToInstance(le)).map(le=>this.linkService.resolveLinks(le,...te.linksToFollow)),(0,_.hj)(Z)?this.linkService.resolveLinks(J,...Z):J)))}if(J.page=J.page.filter(Q=>null!=Q).map(Q=>this.plainObjectToInstance(Q)).map(Q=>this.linkService.resolveLinks(Q,...te.linksToFollow)),(0,_.hj)(Z))return(0,i.of)(this.linkService.resolveLinks(J,...Z))}return(0,i.of)(J)}buildFromRequestUUID(q,...z){"string"==typeof q&&(q=(0,i.of)(q));const te=q.pipe((0,M.m9)(this.requestService)),Z=this.buildPayload(te,void 0,...z);return this.toRemoteDataObservable(te,Z)}buildFromRequestUUIDAndAwait(q,z,...te){const Z=this.buildFromRequestUUID(q,...te),J=new u.h;return Z.pipe((0,w.qD)(),(0,e.n)(Q=>Q.hasSucceeded?z(Q):[!0])).subscribe(()=>{J.next(!0),J.complete()}),Z.pipe((0,e.n)(Q=>Q.hasSucceeded?J.pipe((0,h.T)(()=>Q)):[Q]))}buildFromHref(q,...z){"string"==typeof q&&(q=(0,i.of)(q));const te=(q=q.pipe((0,h.T)(Q=>(0,D.tJ)(Q)))).pipe((0,e.n)(Q=>this.objectCache.getRequestUUIDBySelfLink(Q))),Z=(0,t.z)([q.pipe((0,M.Ky)(this.requestService),(0,m.Z)(void 0)),te.pipe((0,M.m9)(this.requestService),(0,m.Z)(void 0))]).pipe((0,f.p)(([Q,ee])=>(0,_.a4)(Q)||(0,_.a4)(ee)),(0,h.T)(([Q,ee])=>(0,_.Tn)(ee)?Q:(0,_.Tn)(Q)?ee:(0,L.QO)(Q.state)&&(0,L.QO)(ee.state)||!(0,L.QO)(Q.state)&&!(0,L.QO)(ee.state)?Q.lastUpdated>=ee.lastUpdated?Q:ee:(0,L.QO)(ee.state)?Q:ee)),J=this.buildPayload(Z,q,...z);return this.toRemoteDataObservable(Z,J).pipe(function E(X,G){return(0,v.F)((q,z)=>G?G(q[X],z[X]):q[X]===z[X])}("lastUpdated"))}buildSingle(q,...z){return this.buildFromHref(q,...z)}toRemoteDataObservable(q,z){return(0,t.z)([q,z]).pipe((0,f.p)(([te,Z])=>(0,_.a4)(te)&&!((0,L.yO)(te.state)&&(0,_.b0)(Z))),(0,h.T)(([te,Z])=>{let J=te.response;return(0,_.Tn)(J)&&(J={}),new A.j(J.timeCompleted,te.request.responseMsToLive,te.lastUpdated,te.state,J.errorMessage,Z,J.statusCode)}))}buildList(q,...z){return this.buildFromHref(q,(0,S.s)("page",{shouldEmbed:!1},...z))}aggregate(q){return(0,_.Im)(q)?(0,C.CX)([],(new Date).getTime()):(0,t.z)(q).pipe((0,h.T)(z=>{const te=z.map(se=>se.timeCompleted).reduce((se,ce)=>ce>se?ce:se),Z=z.map(se=>se.msToLive).reduce((se,ce)=>ce<se?ce:se),J=z.map(se=>se.lastUpdated).reduce((se,ce)=>ce>se?ce:se);let Q;Q=z.some(se=>se.isRequestPending)?L.zE.RequestPending:z.some(se=>se.isResponsePending)?L.zE.ResponsePending:z.some(se=>se.isErrorStale)?L.zE.ErrorStale:z.some(se=>se.isError)?L.zE.Error:z.some(se=>se.isSuccessStale)?L.zE.SuccessStale:L.zE.Success;const ee=z.map(se=>se.errorMessage).map((se,ce)=>{if((0,_.a4)(se))return`[${ce}]: ${se}`}).filter(se=>(0,_.a4)(se)).join(", "),le=new Set(z.map(se=>se.statusCode));let ne;1===le.size?ne=le.values().next().value:le.size>1&&(ne=207);const fe=z.map(se=>se.payload);return new A.j(te,Z,J,Q,ee,fe,ne)}))}static{this.\u0275fac=function(z){return new(z||X)(k.KVO(j.$),k.KVO($._),k.KVO(p.B))}}static{this.\u0275prov=k.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}}return X})()},56970:(F,b,n)=>{"use strict";n.d(b,{I:()=>t});class i{}class t extends i{}},24547:(F,b,n)=>{"use strict";n.d(b,{a:()=>t});var i=n(82777);class t{constructor(e){this.prefix=e}Serialize(e){}Deserialize(e){return(0,i.a4)(e)?`${this.prefix}-${e}`:e}}},53954:(F,b,n)=>{"use strict";n.d(b,{x:()=>i});class i{constructor(u,e,h=!0){this.fieldName=u,this.fieldValue=e,this.encodeValue=h,h&&(this.fieldValue=encodeURIComponent(e))}}},6238:(F,b,n)=>{"use strict";n.d(b,{U:()=>i,z:()=>t});var i=function(u){return u.ASC="ASC",u.DESC="DESC",u}(i||{});class t{constructor(e,h){this.field=e,this.direction=h}}},98372:(F,b,n)=>{"use strict";n.d(b,{Bc:()=>v,YA:()=>u,Yp:()=>h,dL:()=>m,db:()=>t,gL:()=>f,ok:()=>E,sI:()=>e});var i=n(91e3);const t={ADD:(0,i.N)("dspace/core/cache/object/ADD"),REMOVE:(0,i.N)("dspace/core/cache/object/REMOVE"),RESET_TIMESTAMPS:(0,i.N)("dspace/core/cache/object/RESET_TIMESTAMPS"),ADD_PATCH:(0,i.N)("dspace/core/cache/object/ADD_PATCH"),APPLY_PATCH:(0,i.N)("dspace/core/cache/object/APPLY_PATCH"),ADD_DEPENDENTS:(0,i.N)("dspace/core/cache/object/ADD_DEPENDENTS"),REMOVE_DEPENDENTS:(0,i.N)("dspace/core/cache/object/REMOVE_DEPENDENTS")};class u{constructor(C,S,R,T,A){this.type=t.ADD,this.payload={objectToCache:C,timeCompleted:S,msToLive:R,requestUUID:T,alternativeLink:A}}}class e{constructor(C){this.type=t.REMOVE,this.payload=C}}class h{constructor(C){this.type=t.RESET_TIMESTAMPS,this.payload=C}}class m{constructor(C,S){this.type=t.ADD_PATCH,this.payload={href:C,operations:S}}}class f{constructor(C){this.type=t.APPLY_PATCH,this.payload=C}}class v{constructor(C,S){this.type=t.ADD_DEPENDENTS,this.payload={href:C,dependentRequestUUIDs:S}}}class E{constructor(C){this.type=t.REMOVE_DEPENDENTS,this.payload=C}}},87891:(F,b,n)=>{"use strict";n.d(b,{gT:()=>f,zA:()=>e});var i=n(93583),t=n(82777),u=n(98372);const e=A=>{if((0,t.a4)(A)){if("string"==typeof A)return A;if("string"==typeof A.value)return A.value}},m=Object.create(null);function f(A=m,p){switch(p.type){case u.db.ADD:return function v(A,p){const L=(0,t.a4)(p.payload.objectToCache?._links?.self)?p.payload.objectToCache._links.self.href:p.payload.alternativeLink,D=A[L]||{},w=(0,t.a4)(p.payload.alternativeLink)?[p.payload.alternativeLink]:[];return(0,t.a4)(L)?Object.assign({},A,{[L]:{data:p.payload.objectToCache,timeCompleted:p.payload.timeCompleted,msToLive:p.payload.msToLive,requestUUIDs:[p.payload.requestUUID,...D.requestUUIDs||[]],dependentRequestUUIDs:D.dependentRequestUUIDs||[],isDirty:(0,t.hj)(D.patches),patches:D.patches||[],alternativeLinks:[...D.alternativeLinks||[],...w]}}):A}(A,p);case u.db.REMOVE:return function E(A,p){if((0,t.a4)(A[p.payload])){const L=Object.assign({},A);return delete L[p.payload],L}return A}(A,p);case u.db.RESET_TIMESTAMPS:return function _(A,p){const L=Object.create(null);return Object.keys(A).forEach(D=>{L[D]=Object.assign({},A[D],{timeCompleted:p.payload})}),L}(A,p);case u.db.ADD_PATCH:return function C(A,p){const L=p.payload.href,D=p.payload.operations,w=Object.assign({},A);return(0,t.a4)(w[L])&&(w[L]=Object.assign({},w[L],{patches:[...w[L].patches,{operations:D}],isDirty:!0})),w}(A,p);case u.db.APPLY_PATCH:return function S(A,p){const L=p.payload,D=Object.assign({},A);if((0,t.a4)(D[L])){const w=[].concat(...D[L].patches.map(x=>x.operations)),M=(0,i.X6)(D[L].data,w,void 0,!1);D[L]=Object.assign({},D[L],{data:M.newDocument,patches:[]})}return D}(A,p);case u.db.ADD_DEPENDENTS:return function R(A,p){const L=p.payload.href,D=Object.assign({},A);return(0,t.a4)(D[L])&&(D[L]=Object.assign({},D[L],{dependentRequestUUIDs:[...new Set([...D[L]?.dependentRequestUUIDs||[],...p.payload.dependentRequestUUIDs])]})),D}(A,p);case u.db.REMOVE_DEPENDENTS:return function T(A,p){const L=p.payload,D=Object.assign({},A);return(0,t.a4)(D[L])&&(D[L]=Object.assign({},D[L],{dependentRequestUUIDs:[]})),D}(A,p);default:return A}}},41684:(F,b,n)=>{"use strict";n.d(b,{$:()=>$});var i=n(25499),t=n(93583),u=n(84572),e=n(7673),h=n(96354),m=n(96697),f=n(73028),v=n(5964),E=n(25558),_=n(23294),C=n(82777),S=n(47797),R=n(43377),T=n(71442),A=n(69227),p=n(51672),L=n(21921),D=n(1321),w=n(98372),M=n(78394),x=n(54438);const j=(0,i.Mz)(S.N,k=>k["cache/object"]);let $=(()=>{class k{constructor(X,G){this.store=X,this.linkService=G}add(X,G,q,z){(0,C.a4)(X)&&(X=this.linkService.removeResolvedLinks(X)),this.store.dispatch(new w.YA(X,(new Date).getTime(),G,q,z))}remove(X){this.removeRelatedLinksFromIndex(X),this.store.dispatch(new w.sI(X))}removeRelatedLinksFromIndex(X){const G=this.getByHref(X),q=G.pipe((0,h.T)(te=>te.alternativeLinks),(0,m.s)(1)),z=G.pipe((0,h.T)(te=>Object.entries(te.data._links).filter(([Z,J])=>"self"!==Z).map(([Z,J])=>J.href)),(0,m.s)(1));this.removeLinksFromAlternativeLinkIndex(q),this.removeLinksFromAlternativeLinkIndex(z)}removeLinksFromAlternativeLinkIndex(X){X.subscribe(G=>G.forEach(q=>{this.store.dispatch(new T.NL(p.U.ALTERNATIVE_OBJECT_LINK,q))}))}getObjectByUUID(X){return this.store.pipe((0,i.Lt)((0,A.vH)(X)),(0,f.Z)(G=>this.getObjectByHref(G)))}getObjectByHref(X){return this.getByHref(X).pipe((0,h.T)(G=>{if((0,C.hj)(G.patches)){const q=[].concat(...G.patches.map(te=>te.operations)),z=(0,t.X6)(G.data,q,void 0,!1).newDocument;return Object.assign({},G,{data:z})}return G}),(0,h.T)(G=>{if((0,C.a4)(G.data)){const q=(0,L.Qt)(G.data.type);if("function"!=typeof q)throw new Error(`${q} is not a valid constructor for ${JSON.stringify(G.data)}`);return Object.assign(new q,G.data)}return null}))}getByHref(X){return(0,u.z)([this.getByAlternativeLink(X),this.getBySelfLink(X)]).pipe((0,h.T)(G=>G.find(q=>(0,C.a4)(q))),(0,v.p)(G=>(0,C.a4)(G)))}getBySelfLink(X){return this.store.pipe((0,i.Lt)((k=>(0,i.Mz)(j,K=>K[k]))(X)))}getByAlternativeLink(X){return this.store.pipe((0,i.Lt)((0,A.Fn)(X)),(0,E.n)(G=>this.getBySelfLink(G)))}getRequestUUIDBySelfLink(X){return this.getByHref(X).pipe((0,h.T)(G=>G.requestUUIDs[0]),(0,_.F)())}getRequestUUIDByObjectUUID(X){return this.store.pipe((0,i.Lt)((0,A.vH)(X)),(0,f.Z)(G=>this.getRequestUUIDBySelfLink(G)))}getList(X){return(0,C.Im)(X)?(0,e.of)([]):(0,u.z)(X.map(G=>this.getObjectByHref(G)))}hasByUUID(X){let G=!1;return this.store.pipe((0,i.Lt)((0,A.vH)(X)),(0,m.s)(1)).subscribe(q=>G=this.hasByHref(q)),G}hasByHref(X,G){let q=!1;return this.getByHref(X).subscribe(z=>{q=!(0,C.hj)(G)||z.requestUUIDs.includes(G)}).unsubscribe(),q}hasByHref$(X){return(0,u.z)(this.getBySelfLink(X),this.getByAlternativeLink(X)).pipe((0,h.T)(G=>G.some(q=>(0,C.a4)(q))))}addPatch(X,G){this.store.dispatch(new w.dL(X,G)),this.store.dispatch(new M.Fs(X,R.D.PATCH))}isDirty(X){return(0,C.hj)(X.patches)}applyPatchesToCachedObject(X){this.store.dispatch(new w.gL(X))}addDependency(X,G){(0,C.Tn)(X)||(0,C.Tn)(G)||("string"==typeof X&&(X=(0,e.of)(X)),"string"==typeof G&&(G=(0,e.of)(G)),(0,u.z)([X,G.pipe((0,E.n)(q=>this.resolveSelfLink(q)))]).pipe((0,E.n)(([q,z])=>{const te=(0,e.of)(z);return(0,u.z)([te,te.pipe((0,E.n)(Z=>this.getBySelfLink(Z)),(0,h.T)(Z=>Z?.dependentRequestUUIDs||[])),this.getByHref(q).pipe((0,h.T)(Z=>Z?.requestUUIDs?.[0]))])}),(0,m.s)(1)).subscribe(([q,z,te])=>{(0,C.a4)(q)&&(0,C.a4)(te)&&!z.includes(te)&&this.store.dispatch(new w.Bc(q,[te]))}))}removeDependents(X){this.resolveSelfLink(X).pipe((0,m.s)(1)).subscribe(G=>{(0,C.a4)(G)&&this.store.dispatch(new w.ok(G))})}resolveSelfLink(X){return this.getBySelfLink(X).pipe((0,E.n)(G=>(0,C.hj)(G)?[X]:this.store.pipe((0,i.Lt)((0,A.Fn)(X)))))}static{this.\u0275fac=function(G){return new(G||k)(x.KVO(i.il),x.KVO(D._))}}static{this.\u0275prov=x.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})()},13808:(F,b,n)=>{"use strict";n.d(b,{Ku:()=>i,_p:()=>m,bM:()=>u,hT:()=>t});class i{constructor(A,p,L){this.isSuccessful=A,this.statusCode=p,this.statusText=L,this.toCache=!0}}class t extends i{constructor(A,p,L){super(!0,A,`${A}`),this.link=p,this.unCacheableObject=L}}class u extends i{constructor(A,p,L,D){super(!0,p,L),this.resourceSelfLinks=A,this.statusCode=p,this.statusText=L,this.pageInfo=D}}class m extends i{constructor(A){super(!1,A.statusCode,A.statusText),console.error(A),this.errorMessage=A.message}}},78394:(F,b,n)=>{"use strict";n.d(b,{Fs:()=>u,G9:()=>t,a0:()=>h,eR:()=>e});var i=n(91e3);const t={ADD:(0,i.N)("dspace/core/cache/syncbuffer/ADD"),COMMIT:(0,i.N)("dspace/core/cache/syncbuffer/COMMIT"),EMPTY:(0,i.N)("dspace/core/cache/syncbuffer/EMPTY")};class u{constructor(f,v){this.type=t.ADD,this.payload={href:f,method:v}}}class e{constructor(f){this.type=t.COMMIT,this.payload=f}}class h{constructor(f){this.type=t.EMPTY,this.payload=f}}},42084:(F,b,n)=>{"use strict";n.d(b,{P:()=>f});var i=n(96354),t=n(8917),u=n(65007),e=n(3970),h=n(80183),m=n(54438);let f=(()=>{class v{constructor(_,C){this.configService=_,this.authorizationService=C,this._inboxRelationLink="http://www.w3.org/ns/ldp#inbox"}isCoarConfigEnabled(){return this.authorizationService.isAuthorized(e._.CoarNotifyEnabled)}getCoarLdnLocalInboxUrls(){return this.configService.findByPropertyName("ldn.notify.inbox").pipe((0,h.qD)(),(0,i.T)(_=>_.hasSucceeded?_.payload.values:[]))}getInboxRelationLink(){return this._inboxRelationLink}static{this.\u0275fac=function(C){return new(C||v)(m.KVO(t.ConfigurationDataService),m.KVO(u.AuthorizationDataService))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},25168:(F,b,n)=>{"use strict";n.d(b,{M:()=>v});var i=n(31635),t=n(74850),u=n(21921),e=n(96820),h=n(49797),m=n(96787);let f=class extends h.G{static{this.type=m.gf}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],f.prototype,"isDefault",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",e.O)],f.prototype,"sections",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],f.prototype,"_links",void 0),f=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(h.G)],f);let v=class extends f{static{this.type=m.Nm}};v=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(f)],v)},7232:(F,b,n)=>{"use strict";n.d(b,{f:()=>f});var i=n(31635),t=n(74850),u=n(21921),e=n(49797),h=n(96787);let m=class extends e.G{static{this.type=h.vH}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],m.prototype,"rows",void 0),m=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(e.G)],m);let f=class extends m{static{this.type=h.KX}};f=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(m)],f)},96787:(F,b,n)=>{"use strict";n.d(b,{KX:()=>h,NS:()=>_,Nm:()=>t,V_:()=>v,WJ:()=>f,XI:()=>C,gf:()=>u,mU:()=>E,vH:()=>e});var i=n(42547);const t=new i.v("submissiondefinitions"),u=new i.v("submissiondefinition"),e=new i.v("submissionform"),h=new i.v("submissionforms"),f=(new i.v("submissionsections"),new i.v("submissionsection")),v=new i.v("submissionuploads"),E=new i.v("submissionupload"),_=new i.v("submissionaccessoption"),C=new i.v("bulkaccessconditionoption")},49797:(F,b,n)=>{"use strict";n.d(b,{G:()=>h});var i=n(31635),t=n(74850),u=n(42547),e=n(98688);class h{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"name",void 0),(0,i.Cg)([e.aK,t.autoserialize,(0,i.Sn)("design:type",u.v)],h.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],h.prototype,"_links",void 0)},47797:(F,b,n)=>{"use strict";n.d(b,{N:()=>t});const t=(0,n(25499).UX)("core")},45022:(F,b,n)=>{"use strict";n.r(b),n.d(b,{AccessStatusDataService:()=>f});var i=n(72734),t=n(41684),u=n(4910),e=n(49802),h=n(32473),m=n(54438);let f=(()=>{class v extends e.L{constructor(_,C,S,R){super("accessStatus",_,C,S,R),this.requestService=_,this.rdbService=C,this.objectCache=S,this.halService=R}findAccessStatusFor(_){return this.findByHref(_._links.accessStatus.href)}static{this.\u0275fac=function(C){return new(C||v)(m.KVO(h.B),m.KVO(i.o),m.KVO(t.$),m.KVO(u.Y))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},51538:(F,b,n)=>{"use strict";n.d(b,{aE:()=>E});var i=n(88280),t=n(82777),u=n(21921),e=n(28580),h=n(32089),m=n(96820);function f(_){return(0,t.hj)(_._links)&&(0,t.a4)(_._links.self)}function v(_){return(0,t.a4)(_.page)&&(0,t.a4)(_.page.size)&&(0,t.a4)(_.page.totalElements)&&(0,t.a4)(_.page.totalPages)&&(0,t.a4)(_.page.number)}class E{constructor(){this.shouldDirectlyAttachEmbeds=!1,this.serializerConstructor=e.T}process(C,S,R){if((0,t.hj)(C)){if((0,t.Tn)(C)||"object"!=typeof C)return C;if(v(C))return this.processPaginatedList(C,S);if(Array.isArray(C))return this.processArray(C,S);if(f(C)){const A=this.deserialize(C);return(0,t.hj)(C._embedded)&&Object.keys(C._embedded).filter(p=>C._embedded.hasOwnProperty(p)).forEach(p=>{const L=this.process(C._embedded[p],S,C._links[p].href);(0,t.a4)(A)&&this.shouldDirectlyAttachEmbeds&&(0,t.hj)(L)&&(v(C._embedded[p])?(A[p]=L,A[p].page=L.page.map(D=>this.retrieveObjectOrUrl(D))):f(C._embedded[p])?A[p]=this.retrieveObjectOrUrl(L):Array.isArray(L)&&(A[p]=L.map(D=>this.retrieveObjectOrUrl(D))))}),this.cache(A,S,C,R),A}const T={};return Object.keys(C).filter(A=>C.hasOwnProperty(A)).filter(A=>(0,t.a4)(C[A])).forEach(A=>{T[A]=this.process(C[A],S)}),T}}processPaginatedList(C,S){const R=this.processPageInfo(C);let T=C._embedded;(0,t.Tn)(T)?T=[]:Array.isArray(T)||(T=this.flattenSingleKeyObject(T));const A=this.processArray(T,S);return(0,m.g)(R,A)}processArray(C,S){let R=[];return C.forEach(T=>{R=[...R,this.process(T,S)]}),R}deserialize(C){const S=C.type;if((0,t.a4)(S)){const R=(0,u.Qt)(S);return(0,t.a4)(R)?new this.serializerConstructor(R).deserialize(C):(console.warn("cannot deserialize type "+S),null)}return console.warn("cannot deserialize type "+S),null}cache(C,S,R,T){this.toCache&&this.addToObjectCache(C,S,R,T)}addToObjectCache(C,S,R,T){if((0,t.Tn)(C)||(0,t.Tn)(C._links)||(0,t.Tn)(C._links.self)||(0,t.Tn)(C._links.self.href)){const A=(0,t.a4)(R)&&(0,t.a4)(R.type)?R.type:"object";let p;return p=(0,t.a4)(R._embedded)?JSON.stringify(Object.assign({},R,{_embedded:"..."})):JSON.stringify(R),void console.warn(`Can't cache incomplete ${A}: ${JSON.stringify(C)}, parsed from (partial) response: ${p}`)}this.objectCache.add(C,(0,t.a4)(S.responseMsToLive)?S.responseMsToLive:i.c.cache.msToLive.default,S.uuid,T)}processPageInfo(C){if((0,t.a4)(C.page)){const S=Object.assign({},C.page,{_links:C._links}),R=new e.T(h.Q).deserialize(S);return R.currentPage>=0&&Object.assign(R,{currentPage:R.currentPage+1}),R}}flattenSingleKeyObject(C){const S=Object.keys(C);if(1!==S.length)throw new Error(`Expected an object with a single key, got: ${JSON.stringify(C)}`);return C[S[0]]}retrieveObjectOrUrl(C){return this.toCache?C._links.self.href:C}isSuccessStatus(C){return C>=200&&C<300}}},49802:(F,b,n)=>{"use strict";n.d(b,{L:()=>D});var i=n(7673),t=n(44668),u=n(77876),e=n(22806),h=n(88141),m=n(96697),f=n(96354),v=n(28492),E=n(25558),_=n(73028),C=n(56594),S=n(82777),R=n(21921),T=n(80183),A=n(45663),p=n(43052);class D{constructor(M,x,j,U,$,k){this.linkPath=M,this.requestService=x,this.rdbService=j,this.objectCache=U,this.halService=$,this.responseMsToLive=k}getBrowseEndpoint(M={},x){return this.getEndpoint()}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}buildHrefFromFindOptions(M,x,j=[],...U){let $=[...j];return(0,S.a4)(x.currentPage)&&"number"==typeof x.currentPage&&($=this.addHrefArg(M,$,"page="+(x.currentPage-1))),(0,S.a4)(x.elementsPerPage)&&($=this.addHrefArg(M,$,`size=${x.elementsPerPage}`)),(0,S.a4)(x.sort)&&($=this.addHrefArg(M,$,`sort=${x.sort.field},${x.sort.direction}`)),(0,S.a4)(x.startsWith)&&($=this.addHrefArg(M,$,`startsWith=${x.startsWith}`)),(0,S.a4)(x.searchParams)&&x.searchParams.forEach(k=>{$=this.addHrefArg(M,$,`${k.fieldName}=${k.fieldValue}`)}),$=this.addEmbedParams(M,$,...U),(0,S.hj)($)?new A.t(M,`?${$.join("&")}`).toString():M}buildHrefWithParams(M,x,...j){let U=[];return(0,S.a4)(x)&&x.forEach($=>{U=this.addHrefArg(M,U,`${$.fieldName}=${$.fieldValue}`)}),U=this.addEmbedParams(M,U,...j),(0,S.hj)(U)?new A.t(M,`?${U.join("&")}`).toString():M}addEmbedParams(M,x,...j){return j.forEach(U=>{if((0,S.a4)(U)&&U.shouldEmbed){const $="embed="+String(U.name);(0,S.a4)(U.findListOptions)&&(0,S.a4)(U.findListOptions.elementsPerPage)&&(x=this.addHrefArg(M,x,"embed.size="+String(U.name)+"="+U.findListOptions.elementsPerPage)),x=(0,S.hj)(U.linksToFollow)?this.addNestedEmbeds($,M,x,...U.linksToFollow):this.addHrefArg(M,x,$)}}),x}addHrefArg(M,x,j){return M.includes(j)||x.includes(j)?[...x]:[...x,j]}addNestedEmbeds(M,x,j,...U){let $=M;return U.forEach(k=>{if((0,S.a4)(k)&&k.shouldEmbed){if($=$+"%2F"+String(k.name),(0,S.a4)(k.findListOptions)&&(0,S.a4)(k.findListOptions.elementsPerPage)){const K="embed.size="+$.split("=")[1]+"="+k.findListOptions.elementsPerPage;j=this.addHrefArg(x,j,K)}j=(0,S.a4)(k.linksToFollow)&&(0,S.hj)(k.linksToFollow)?this.addNestedEmbeds($,x,j,...k.linksToFollow):this.addHrefArg(x,j,$)}}),j}reRequestStaleRemoteData(M,x){return j=>!0===M?j.pipe((0,h.M)(U=>{(0,S.a4)(U)&&U.isStale&&x()})):j}findByHref(M,x=!0,j=!0,...U){"string"==typeof M&&(M=(0,i.of)(M));const $=M.pipe((0,S.VT)(),(0,m.s)(1),(0,f.T)(X=>this.buildHrefFromFindOptions(X,{},[],...U)),(0,t.t)({bufferSize:1,refCount:!0})),k=(new Date).getTime();this.createAndSendGetRequest($,x);const K=this.rdbService.buildSingle($,...U).pipe((0,v.j)(X=>X.isStale||!x&&X.lastUpdated<k),this.reRequestStaleRemoteData(j,()=>this.findByHref(M,x,j,...U)));return K.pipe((0,h.M)(X=>{if((0,S.a4)(X?.payload?._links))for(const G of Object.keys(X.payload._links)){const q=(0,R.O3)(X.payload.constructor,G);if(q?.propertyName&&(0,S.a4)(X.payload[q.propertyName])&&"self"!==G){const z=[].concat(X.payload._links[G]);for(const te of z)(0,S.a4)(te?.href)&&this.addDependency(K,te.href)}}}))}findListByHref(M,x={},j=!0,U=!0,...$){"string"==typeof M&&(M=(0,i.of)(M));const k=M.pipe((0,S.VT)(),(0,m.s)(1),(0,f.T)(G=>this.buildHrefFromFindOptions(G,x,[],...$)),(0,t.t)({bufferSize:1,refCount:!0})),K=(new Date).getTime();this.createAndSendGetRequest(k,j);const X=this.rdbService.buildList(k,...$).pipe((0,v.j)(G=>G.isStale||!j&&G.lastUpdated<K),this.reRequestStaleRemoteData(U,()=>this.findListByHref(M,x,j,U,...$)));return X.pipe((0,h.M)(G=>{if((0,S.a4)(G?.payload?.page))for(const q of G.payload.page)if((0,S.a4)(q?._links))for(const z of Object.keys(q._links)){const te=(0,R.O3)(q.constructor,z);if(te?.propertyName&&"self"!==z&&(0,S.a4)(q[te.propertyName])){const Z=[].concat(q._links[z]);for(const J of Z)(0,S.a4)(J?.href)&&this.addDependency(X,J.href)}}}))}createAndSendGetRequest(M,x=!0){(0,S.hj)(M)&&("string"==typeof M&&(M=(0,i.of)(M)),M.pipe((0,S.VT)(),(0,m.s)(1)).subscribe(j=>{const U=this.requestService.generateRequestId(),$=new p.IP(U,j);(0,S.a4)(this.responseMsToLive)&&($.responseMsToLive=this.responseMsToLive),this.requestService.send($,x)}))}hasCachedResponse(M){if((0,S.hj)(M))return"string"==typeof M&&(M=(0,i.of)(M)),M.pipe((0,S.VT)(),(0,m.s)(1),(0,f.T)(x=>{const j=this.requestService.generateRequestId(),U=new p.IP(j,x);return!this.requestService.shouldDispatchRequest(U,!0)}));throw new Error("Can't check whether there is a cached response for an empty href$")}hasCachedErrorResponse(M){return this.hasCachedResponse(M).pipe((0,E.n)(x=>x?this.rdbService.buildSingle(M).pipe((0,T.qD)(),(0,f.T)(j=>j.hasFailed)):(0,i.of)(!1)))}getLinkPath(){return this.linkPath}addDependency(M,x){this.objectCache.addDependency(M.pipe((0,T.qD)(),(0,E.n)(j=>j.hasSucceeded?[j.payload._links.self.href]:[void 0])),x)}invalidateByHref(M){const x=new u.h;return this.objectCache.getByHref(M).pipe((0,m.s)(1),(0,E.n)(j=>(0,e.H)([...j.requestUUIDs,...j.dependentRequestUUIDs]).pipe((0,_.Z)(U=>this.requestService.setStaleByUUID(U)),(0,C.$)()))).subscribe(()=>{this.objectCache.removeDependents(M),x.next(!0),x.complete()}),x}}},39280:(F,b,n)=>{"use strict";n.d(b,{V:()=>C});var i=n(23294),t=n(96354),u=n(96697),e=n(77048),h=n(82777),m=n(4065),f=n(21921),v=n(28580),E=n(43052),_=n(49802);class C extends _.L{constructor(R,T,A,p,L,D,w){super(R,T,A,p,L,w),this.linkPath=R,this.requestService=T,this.rdbService=A,this.objectCache=p,this.halService=L,this.notificationsService=D,this.responseMsToLive=w}create(R,...T){const A=this.getEndpoint().pipe((0,h.VT)(),(0,i.F)(),(0,t.T)(p=>this.buildHrefWithParams(p,T)));return this.createOnEndpoint(R,A)}createOnEndpoint(R,T){const A=this.requestService.generateRequestId(),p=new v.T((0,f.Qt)(R.type)).serialize(R);T.pipe((0,u.s)(1)).subscribe(D=>{const w=new E.QU(A,D,JSON.stringify(p));(0,h.a4)(this.responseMsToLive)&&(w.responseMsToLive=this.responseMsToLive),this.requestService.send(w)});const L=this.rdbService.buildFromRequestUUID(A);return L.pipe((0,e.v)(D=>D.isLoading,!0)).subscribe(D=>{D.hasFailed&&this.notificationsService.error("Server Error:",D.errorMessage,new m.y(-1))}),L}}},13617:(F,b,n)=>{"use strict";n.d(b,{I:()=>h});var i=n(25558),t=n(82777),u=n(43052),e=n(63897);class h extends e.W{constructor(f,v,E,_,C,S,R,T){if(super(f,v,E,_,C,R,T),this.linkPath=f,this.requestService=v,this.rdbService=E,this.objectCache=_,this.halService=C,this.notificationsService=S,this.responseMsToLive=R,this.constructIdEndpoint=T,(0,t.Tn)(T))throw new Error(`DeleteDataImpl initialized without a constructIdEndpoint method (linkPath: ${f})`)}delete(f,v){return this.getIDHrefObs(f).pipe((0,i.n)(E=>this.deleteByHref(E,v)))}deleteByHref(f,v){const E=this.requestService.generateRequestId();let _=f;v&&v.forEach(S=>_+=(_.includes("?")?"&":"?")+"copyVirtualMetadata="+S);const C=new u.$(E,_);return(0,t.a4)(this.responseMsToLive)&&(C.responseMsToLive=this.responseMsToLive),this.requestService.send(C),this.rdbService.buildFromRequestUUIDAndAwait(E,()=>this.invalidateByHref(f))}}},46787:(F,b,n)=>{"use strict";n.d(b,{H:()=>m});var i=n(5964),t=n(96354),u=n(23294),e=n(82777),h=n(49802);class m extends h.L{constructor(v,E,_,C,S,R){super(v,E,_,C,S,R),this.linkPath=v,this.requestService=E,this.rdbService=_,this.objectCache=C,this.halService=S,this.responseMsToLive=R}findAll(v={},E=!0,_=!0,...C){return this.findListByHref(this.getFindAllHref(v),v,E,_,...C)}getFindAllHref(v={},E,..._){const C=[];return this.getBrowseEndpoint(v).pipe((0,i.p)(R=>(0,e.hj)(R)),(0,t.T)(R=>(0,e.hj)(E)?`${R}/${E}`:R),(0,u.F)()).pipe((0,t.T)(R=>this.buildHrefFromFindOptions(R,v,C,..._)))}}},63897:(F,b,n)=>{"use strict";n.d(b,{W:()=>m});var i=n(96354),t=n(96697),u=n(25558),e=n(49802);const h=(f,v)=>`${f}/${v}`;class m extends e.L{constructor(v,E,_,C,S,R,T=h){super(v,E,_,C,S,R),this.linkPath=v,this.requestService=E,this.rdbService=_,this.objectCache=C,this.halService=S,this.responseMsToLive=R,this.constructIdEndpoint=T}findById(v,E=!0,_=!0,...C){const S=this.getIDHrefObs(encodeURIComponent(v),...C);return this.findByHref(S,E,_,...C)}getIDHref(v,E,..._){return this.buildHrefFromFindOptions(this.constructIdEndpoint(v,E),{},[],..._)}getIDHrefObs(v,...E){return this.getEndpoint().pipe((0,i.T)(_=>this.getIDHref(_,v,...E)))}invalidateById(v){const E=this.getIDHrefObs(v).pipe((0,t.s)(1),(0,u.n)(_=>this.invalidateByHref(_)));return E.subscribe(),E}}},87158:(F,b,n)=>{"use strict";n.d(b,{n:()=>v});var i=n(96354),t=n(47677),u=n(73028),e=n(82777),h=n(80183),m=n(43052),f=n(63897);class v extends f.W{constructor(_,C,S,R,T,A,p,L){if(super(_,C,S,R,T,p,L),this.linkPath=_,this.requestService=C,this.rdbService=S,this.objectCache=R,this.halService=T,this.comparator=A,this.responseMsToLive=p,this.constructIdEndpoint=L,(0,e.Tn)(L))throw new Error(`PatchDataImpl initialized without a constructIdEndpoint method (linkPath: ${_})`)}patch(_,C){const S=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,i.T)(T=>this.getIDHref(T,_.uuid))).pipe((0,t.I)(T=>(0,e.a4)(T))).subscribe(T=>{const A=new m.EA(S,T,C);(0,e.a4)(this.responseMsToLive)&&(A.responseMsToLive=this.responseMsToLive),this.requestService.send(A)}),this.rdbService.buildFromRequestUUIDAndAwait(S,()=>this.invalidateByHref(_._links.self.href))}update(_){return this.createPatchFromCache(_).pipe((0,u.Z)(C=>((0,e.hj)(C)&&this.objectCache.addPatch(_._links.self.href,C),this.findByHref(_._links.self.href,!0,!0))))}commitUpdates(_){this.requestService.commit(_)}createPatchFromCache(_){return this.findByHref(_._links.self.href,!0,!1).pipe((0,h.yd)(),(0,h.Bo)(),(0,i.T)(S=>this.comparator.diff(S,_)))}}},91967:(F,b,n)=>{"use strict";n.d(b,{W:()=>h});var i=n(82777),t=n(28580),u=n(43052),e=n(49802);class h extends e.L{constructor(f,v,E,_,C,S){super(f,v,E,_,C,S),this.linkPath=f,this.requestService=v,this.rdbService=E,this.objectCache=_,this.halService=C,this.responseMsToLive=S}put(f){const v=this.requestService.generateRequestId(),E=new t.T(f.constructor).serialize(f),_=new u.v_(v,f._links.self.href,E);return(0,i.a4)(this.responseMsToLive)&&(_.responseMsToLive=this.responseMsToLive),this.requestService.send(_),this.rdbService.buildFromRequestUUID(v)}}},35108:(F,b,n)=>{"use strict";n.d(b,{X:()=>m});var i=n(96354),t=n(5964),u=n(82777),e=n(49802);const h=(f,v)=>`${f}/search/${v}`;class m extends e.L{constructor(v,E,_,C,S,R,T=h){if(super(v,E,_,C,S,R),this.linkPath=v,this.requestService=E,this.rdbService=_,this.objectCache=C,this.halService=S,this.responseMsToLive=R,this.constructSearchEndpoint=T,(0,u.Tn)(T))throw new Error(`SearchDataImpl initialized without a constructSearchEndpoint method (linkPath: ${v})`)}searchBy(v,E={},_=!0,C=!0,...S){const R=this.getSearchByHref(v,E,...S);return this.findListByHref(R,void 0,_,C,...S)}getSearchByHref(v,E={},..._){const C=[];return this.getSearchEndpoint(v).pipe((0,i.T)(R=>this.buildHrefFromFindOptions(R,E,C,..._)))}getSearchEndpoint(v){return this.halService.getEndpoint(this.linkPath).pipe((0,t.p)(E=>(0,u.hj)(E)),(0,i.T)(E=>this.constructSearchEndpoint(E,v)))}}},42578:(F,b,n)=>{"use strict";n.r(b),n.d(b,{BitstreamDataService:()=>z});var i=n(21626),t=n(84572),u=n(983),e=n(25558),h=n(96354),m=n(96697),f=n(47677),v=n(82777),E=n(39806),_=n(43404),C=n(67600),S=n(72734),R=n(53954),T=n(41684),A=n(4910),p=n(80183),L=n(32089),D=n(91098),w=n(13617),M=n(63897),x=n(87158),j=n(35108),U=n(4856),$=n(81443),k=n(12598),K=n(96820),X=n(43052),G=n(32473),q=n(54438);let z=(()=>{class te extends M.W{constructor(J,Q,ee,le,ne,fe,se,ce){super("bitstreams",J,Q,ee,le),this.requestService=J,this.rdbService=Q,this.objectCache=ee,this.halService=le,this.bundleService=ne,this.bitstreamFormatService=fe,this.comparator=se,this.notificationsService=ce,this.searchData=new j.X(this.linkPath,J,Q,ee,le,this.responseMsToLive),this.patchData=new x.n(this.linkPath,J,Q,ee,le,se,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new w.I(this.linkPath,J,Q,ee,le,ce,this.responseMsToLive,this.constructIdEndpoint)}findAllByBundle(J,Q,ee=!0,le=!0,...ne){return this.findListByHref(J._links.bitstreams.href,Q,ee,le,...ne)}findAllByItemAndBundleName(J,Q,ee,le=!0,ne=!0,...fe){return this.bundleService.findByItemAndName(J,Q).pipe((0,e.n)(se=>se.hasSucceeded&&(0,v.a4)(se.payload)?this.findAllByBundle(se.payload,ee,le,ne,...fe):se.hasSucceeded||404!==se.statusCode?[se]:(0,_.CX)((0,K.g)(new L.Q,[]),(new Date).getTime())))}updateFormat(J,Q){const ee=this.requestService.generateRequestId(),le=this.getBrowseEndpoint().pipe((0,h.T)(fe=>`${fe}/${J.id}`),(0,e.n)(fe=>this.halService.getEndpoint("format",fe))),ne=this.bitstreamFormatService.getBrowseEndpoint().pipe((0,h.T)(fe=>`${fe}/${Q.id}`));return(0,t.z)([le,ne]).pipe((0,h.T)(([fe,se])=>{const ce=Object.create({});let Te=new i.Lr;return Te=Te.append("Content-Type","text/uri-list"),ce.headers=Te,new X.v_(ee,fe,se,ce)}),(0,D.w$)(this.requestService),(0,m.s)(1)).subscribe(()=>{this.requestService.removeByHrefSubstring(J.self+"/format")}),this.rdbService.buildFromRequestUUID(ee)}findByItemHandle(J,Q,ee,le=!0,ne=!0,...fe){const se=[];se.push(new R.x("handle",J)),(0,v.a4)(Q)&&se.push(new R.x("sequenceId",Q)),(0,v.a4)(ee)&&se.push(new R.x("filename",ee));const ce=this.getSearchByHref("byItemHandle",{searchParams:se},...fe);return this.findByHref(ce,le,ne,...fe)}getSearchByHref(J,Q,...ee){return this.searchData.getSearchByHref(J,Q,...ee)}findPrimaryBitstreamByItemAndName(J,Q,ee=!0,le=!0,ne){return this.bundleService.findByItemAndName(J,Q,ee,le,ne,(0,C.s)("primaryBitstream")).pipe((0,p.qD)(),(0,e.n)(fe=>fe.hasSucceeded?fe.payload.primaryBitstream.pipe((0,p.qD)(),(0,h.T)(se=>se.hasSucceeded?se.payload:null)):u.w))}searchBy(J,Q,ee,le,...ne){return this.searchData.searchBy(J,Q,ee,le,...ne)}commitUpdates(J){this.patchData.commitUpdates(J)}patch(J,Q){return this.patchData.patch(J,Q)}update(J){return this.patchData.update(J)}createPatchFromCache(J){return this.patchData.createPatchFromCache(J)}delete(J,Q){return this.deleteData.delete(J,Q)}deleteByHref(J,Q){return this.deleteData.deleteByHref(J,Q)}removeMultiple(J){const Q=J.map(ne=>({op:"remove",path:`/bitstreams/${ne.id}`})),ee=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,f.I)(ne=>(0,v.a4)(ne))).subscribe(ne=>{const fe=new X.EA(ee,ne,Q);(0,v.a4)(this.responseMsToLive)&&(fe.responseMsToLive=this.responseMsToLive),this.requestService.send(fe)}),this.rdbService.buildFromRequestUUIDAndAwait(ee,()=>(0,t.z)(J.map(ne=>this.invalidateByHref(ne._links.self.href))))}static{this.\u0275fac=function(Q){return new(Q||te)(q.KVO(G.B),q.KVO(S.o),q.KVO(T.$),q.KVO(A.Y),q.KVO($.BundleDataService),q.KVO(U.BitstreamFormatDataService),q.KVO(k.j),q.KVO(E.I))}}static{this.\u0275prov=q.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}}return te})()},4856:(F,b,n)=>{"use strict";n.r(b),n.d(b,{BitstreamFormatDataService:()=>M});var i=n(25499),t=n(96354),u=n(23294),e=n(88141),h=n(29679),m=n(39806),f=n(72734),v=n(41684),E=n(47797),_=n(4910),C=n(91098),S=n(13617),R=n(46787),T=n(63897),A=n(43052),p=n(32473),L=n(54438);const D=(0,i.Mz)(E.N,x=>x.bitstreamFormats),w=(0,i.Mz)(D,x=>x.selectedBitstreamFormats);let M=(()=>{class x extends T.W{constructor(U,$,k,K,X,G){super("bitstreamformats",U,$,k,K),this.requestService=U,this.rdbService=$,this.objectCache=k,this.halService=K,this.notificationsService=X,this.store=G,this.linkPath="bitstreamformats",this.findAllData=new R.H(this.linkPath,U,$,k,K,this.responseMsToLive),this.deleteData=new S.I(this.linkPath,U,$,k,K,X,this.responseMsToLive,this.constructIdEndpoint)}getUpdateEndpoint(U){return this.getBrowseEndpoint().pipe((0,t.T)($=>this.getIDHref($,U)))}getCreateEndpoint(){return this.getBrowseEndpoint()}updateBitstreamFormat(U){const $=this.requestService.generateRequestId();return this.getUpdateEndpoint(U.id).pipe((0,u.F)(),(0,t.T)(k=>new A.v_($,k,U)),(0,C.w$)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID($)}createBitstreamFormat(U){const $=this.requestService.generateRequestId();return this.getCreateEndpoint().pipe((0,t.T)(k=>new A.Qf($,k,U)),(0,C.w$)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID($)}clearBitStreamFormatRequests(){return this.getBrowseEndpoint().pipe((0,e.M)(U=>this.requestService.removeByHrefSubstring(U)))}getSelectedBitstreamFormats(){return this.store.pipe((0,i.Lt)(w))}selectBitstreamFormat(U){this.store.dispatch(new h.hO(U))}deselectBitstreamFormat(U){this.store.dispatch(new h.Cv(U))}deselectAllBitstreamFormats(){this.store.dispatch(new h.ZU)}findByBitstream(U){return this.findByHref(U._links.format.href)}findAll(U,$,k,...K){return this.findAllData.findAll(U,$,k,...K)}delete(U,$){return this.deleteData.delete(U,$)}deleteByHref(U,$){return this.deleteData.deleteByHref(U,$)}static{this.\u0275fac=function($){return new($||x)(L.KVO(p.B),L.KVO(f.o),L.KVO(v.$),L.KVO(_.Y),L.KVO(m.I),L.KVO(i.il))}}static{this.\u0275prov=L.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})()},81443:(F,b,n)=>{"use strict";n.r(b),n.d(b,{BundleDataService:()=>p});var i=n(96354),t=n(25558),u=n(96697),e=n(82777),h=n(72734),m=n(41684),f=n(4910),v=n(63897),E=n(87158),_=n(12598),C=n(1716),S=n(43052),R=n(32473),T=n(7434),A=n(54438);let p=(()=>{class L extends v.W{constructor(w,M,x,j,U){super("bundles",w,M,x,j),this.requestService=w,this.rdbService=M,this.objectCache=x,this.halService=j,this.comparator=U,this.bitstreamsEndpoint="bitstreams",this.patchData=new E.n(this.linkPath,w,M,x,j,U,this.responseMsToLive,this.constructIdEndpoint)}findAllByItem(w,M,x=!0,j=!0,...U){return this.findListByHref(w._links.bundles.href,M,x,j,...U)}findByItemAndName(w,M,x=!0,j=!0,U,...$){return this.findAllByItem(w,U??{elementsPerPage:9999},x,j,...$).pipe((0,i.T)(K=>{if((0,e.a4)(K.payload)&&(0,e.a4)(K.payload.page)){const X=K.payload.page.find(G=>G.name===M);return(0,e.a4)(X)?new C.j(K.timeCompleted,K.msToLive,K.lastUpdated,T.zE.Success,null,X,200):new C.j(K.timeCompleted,K.msToLive,K.lastUpdated,T.zE.Error,`The bundle with name ${M} was not found.`,null,404)}return K}))}getBitstreamsEndpoint(w,M){return this.getBrowseEndpoint().pipe((0,t.n)(x=>this.halService.getEndpoint(this.bitstreamsEndpoint,`${x}/${w}`)),(0,i.T)(x=>M?M.toRestUrl(x):x))}getBitstreams(w,M,...x){const j=this.getBitstreamsEndpoint(w,M);return j.pipe((0,u.s)(1)).subscribe(U=>{const $=new S.IP(this.requestService.generateRequestId(),U);this.requestService.send($,!0)}),this.rdbService.buildList(j,...x)}commitUpdates(w){this.patchData.commitUpdates(w)}patch(w,M){return this.patchData.patch(w,M)}update(w){return this.patchData.update(w)}createPatchFromCache(w){return this.patchData.createPatchFromCache(w)}static{this.\u0275fac=function(M){return new(M||L)(A.KVO(R.B),A.KVO(h.o),A.KVO(m.$),A.KVO(f.Y),A.KVO(_.j))}}static{this.\u0275prov=A.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})()},6983:(F,b,n)=>{"use strict";n.r(b),n.d(b,{CollectionDataService:()=>k});var i=n(21626),t=n(96354),u=n(25558),e=n(96697),h=n(5964),m=n(82777),f=n(4065),v=n(39806),E=n(72734),_=n(53954),C=n(41684),S=n(28580),R=n(45348),T=n(4910),A=n(80183),p=n(42578),L=n(3440),D=n(46660),w=n(12598),M=n(41023),x=n(43052),j=n(32473),U=n(54438),$=n(41780);let k=(()=>{class K extends L.x{constructor(G,q,z,te,Z,J,Q,ee,le){super("collections",G,q,z,te,Z,J,Q),this.requestService=G,this.rdbService=q,this.objectCache=z,this.halService=te,this.comparator=Z,this.notificationsService=J,this.bitstreamDataService=Q,this.communityDataService=ee,this.translate=le,this.errorTitle="collection.source.update.notifications.error.title",this.contentSourceError="collection.source.update.notifications.error.content"}getAuthorizedCollection(G,q={},z=!0,te=!0,...Z){return q=Object.assign({},q,{searchParams:[new _.x("query",G)]}),this.searchBy("findSubmitAuthorized",q,z,te,...Z).pipe((0,A.bD)())}getAuthorizedCollectionByEntityType(G,q,z={},te=!0,...Z){return z=Object.assign({},z,{searchParams:[new _.x("query",G),new _.x("entityType",q)]}),this.searchBy("findSubmitAuthorizedByEntityType",z,!0,te,...Z).pipe((0,A.bD)())}getAuthorizedCollectionByCommunity(G,q,z={},te=!0){return z=Object.assign({},z,{searchParams:[new _.x("uuid",G),new _.x("query",q)]}),this.searchBy("findSubmitAuthorizedByCommunity",z,te).pipe((0,A.bD)())}getAuthorizedCollectionByCommunityAndEntityType(G,q,z={},te=!0,...Z){const Q=[new _.x("uuid",G),new _.x("entityType",q)];return z=Object.assign({},z,{searchParams:Q}),this.searchBy("findSubmitAuthorizedByCommunityAndEntityType",z,!0,te,...Z).pipe((0,A.bD)())}hasAuthorizedCollection(){const q=new M._;return q.elementsPerPage=1,this.searchBy("findSubmitAuthorized",q).pipe((0,A.qD)(),(0,t.T)(z=>z?.payload?.totalElements>0))}getHarvesterEndpoint(G){return this.halService.getEndpoint(this.linkPath).pipe((0,u.n)(q=>this.halService.getEndpoint("harvester",`${q}/${G}`)))}getContentSource(G,q=!0){const z=this.getHarvesterEndpoint(G).pipe((0,m.VT)(),(0,e.s)(1));return z.subscribe(te=>{const Z=new x.IL(this.requestService.generateRequestId(),te);this.requestService.send(Z,q)}),this.rdbService.buildSingle(z)}updateContentSource(G,q){const z=this.requestService.generateRequestId(),te=new S.T(R.Z).serialize(q);return this.getHarvesterEndpoint(G).pipe((0,e.s)(1),(0,t.T)(J=>{const Q=Object.create({});let ee=new i.Lr;return ee=ee.append("Content-Type","application/json"),Q.headers=ee,new x.xu(z,J,JSON.stringify(te),Q)})).subscribe(J=>this.requestService.send(J)),this.rdbService.buildFromRequestUUID(z).pipe((0,A.qD)(),(0,t.T)(J=>J.hasFailed?(0,m.a4)(J.errorMessage)?this.notificationsService.error(this.translate.instant(this.errorTitle),422===J.statusCode?this.translate.instant(this.contentSourceError):J.errorMessage,new f.y(-1)):void 0:J),(0,m.VT)(),(0,t.T)(J=>(0,m.hj)(J.payload)?J.payload:J))}getFindByParentHref(G){return this.halService.getEndpoint("communities").pipe((0,u.n)(q=>this.halService.getEndpoint("collections",`${q}/${G}`)))}findOwningCollectionFor(G){return this.findByHref(G._links.owningCollection.href)}findMappedCollectionsFor(G,q){return this.findListByHref(G._links.mappedCollections.href,q)}getScopeCommunityHref(G){return this.communityDataService.getEndpoint().pipe((0,t.T)(q=>this.communityDataService.getIDHref(q,G.scopeID)),(0,h.p)(q=>(0,m.hj)(q)),(0,e.s)(1))}static{this.\u0275fac=function(q){return new(q||K)(U.KVO(j.B),U.KVO(E.o),U.KVO(C.$),U.KVO(T.Y),U.KVO(w.j),U.KVO(v.I),U.KVO(p.BitstreamDataService),U.KVO(D.CommunityDataService),U.KVO($.c$))}}static{this.\u0275prov=U.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})()},3440:(F,b,n)=>{"use strict";n.d(b,{x:()=>L});var i=n(84572),t=n(25558),u=n(96354),e=n(5964),h=n(23294),m=n(96697),f=n(82777),v=n(43404),E=n(80183),_=n(45663),C=n(39280),S=n(13617),R=n(46787),T=n(63897),A=n(87158),p=n(35108);class L extends T.W{constructor(w,M,x,j,U,$,k,K){super(w,M,x,j,U),this.linkPath=w,this.requestService=M,this.rdbService=x,this.objectCache=j,this.halService=U,this.comparator=$,this.notificationsService=k,this.bitstreamDataService=K,this.createData=new C.V(this.linkPath,M,x,j,U,k,this.responseMsToLive),this.findAllData=new R.H(this.linkPath,M,x,j,U,this.responseMsToLive),this.searchData=new p.X(this.linkPath,M,x,j,U,this.responseMsToLive),this.patchData=new A.n(this.linkPath,M,x,j,U,$,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new S.I(this.linkPath,M,x,j,U,k,this.responseMsToLive,this.constructIdEndpoint)}getBrowseEndpoint(w={},M=this.linkPath){if((0,f.Im)(w.scopeID))return this.halService.getEndpoint(M);{const x=this.getScopeCommunityHref(w);return this.createAndSendGetRequest(x,!0),x.pipe((0,t.n)(j=>this.rdbService.buildSingle(j)),(0,E.qD)(),(0,u.T)(j=>{if(j.hasFailed)throw new Error(`The Community with scope ${w.scopeID} couldn't be retrieved`);return j.payload._links[M]}),(0,e.p)(j=>(0,f.hj)(j)),(0,u.T)(j=>j.href),(0,h.F)())}}findByParent(w,M={},...x){const j=this.getFindByParentHref(w).pipe((0,u.T)(U=>this.buildHrefFromFindOptions(U,M)));return this.findListByHref(j,M,!0,!0,...x)}getLogoEndpoint(w){return this.halService.getEndpoint(this.linkPath).pipe((0,u.T)(M=>new _.t(M,w,"logo").toString()))}deleteLogo(w){const M=w.logo;return(0,f.a4)(M)?M.pipe((0,E.qD)(),(0,t.n)(x=>x.hasFailed?(console.error(`Couldn't retrieve the logo '${w._links.logo.href}' in order to delete it.`),[x]):this.bitstreamDataService.deleteByHref(x.payload._links.self.href))):(0,v.PM)("The given object doesn't have a logo",400)}refreshCache(w){const M=this.parentCommunityUrlLookup(w);(0,f.a4)(M)&&(0,i.z)([this.findByHref(M).pipe((0,E.qD)()),this.halService.getEndpoint("communities/search/top").pipe((0,m.s)(1))]).subscribe(([x,j])=>{x.hasSucceeded&&(0,f.hj)(x.payload)&&(0,f.hj)(x.payload.id)?this.requestService.setStaleByHrefSubstring(x.payload.id):this.requestService.setStaleByHrefSubstring(j)})}parentCommunityUrlLookup(w){const M=w._links.parentCommunity;return(0,f.hj)(M)?M.href:null}create(w,...M){return this.createData.create(w,...M)}findAll(w,M,x,...j){return this.findAllData.findAll(w,M,x,...j)}searchBy(w,M,x,j,...U){return this.searchData.searchBy(w,M,x,j,...U)}commitUpdates(w){this.patchData.commitUpdates(w)}patch(w,M){return this.patchData.patch(w,M)}update(w){return this.patchData.update(w)}createPatchFromCache(w){return this.patchData.createPatchFromCache(w)}delete(w,M){return this.deleteData.delete(w,M)}deleteByHref(w,M){return this.deleteData.deleteByHref(w,M)}}},46660:(F,b,n)=>{"use strict";n.r(b),n.d(b,{CommunityDataService:()=>A});var i=n(96354),t=n(25558),u=n(5964),e=n(96697),h=n(82777),m=n(39806),f=n(72734),v=n(41684),E=n(4910),_=n(42578),C=n(3440),S=n(12598),R=n(32473),T=n(54438);let A=(()=>{class p extends C.x{constructor(D,w,M,x,j,U,$){super("communities",D,w,M,x,j,U,$),this.requestService=D,this.rdbService=w,this.objectCache=M,this.halService=x,this.comparator=j,this.notificationsService=U,this.bitstreamDataService=$,this.topLinkPath="search/top"}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}findTop(D={},...w){return this.getEndpoint().pipe((0,i.T)(M=>`${M}/search/top`),(0,t.n)(M=>this.findListByHref(M,D,!0,!0,...w)))}getFindByParentHref(D){return this.halService.getEndpoint(this.linkPath).pipe((0,t.n)(w=>this.halService.getEndpoint("subcommunities",`${w}/${D}`)))}getScopeCommunityHref(D){return this.getEndpoint().pipe((0,i.T)(w=>this.getIDHref(w,D.scopeID)),(0,u.p)(w=>(0,h.hj)(w)),(0,e.s)(1))}static{this.\u0275fac=function(w){return new(w||p)(T.KVO(R.B),T.KVO(f.o),T.KVO(v.$),T.KVO(E.Y),T.KVO(S.j),T.KVO(m.I),T.KVO(_.BitstreamDataService))}}static{this.\u0275prov=T.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},8917:(F,b,n)=>{"use strict";n.r(b),n.d(b,{ConfigurationDataService:()=>f});var i=n(72734),t=n(41684),u=n(4910),e=n(63897),h=n(32473),m=n(54438);let f=(()=>{class v extends e.W{constructor(_,C,S,R){super("properties",_,C,S,R),this.requestService=_,this.rdbService=C,this.objectCache=S,this.halService=R}findByPropertyName(_){return this.findById(_)}static{this.\u0275fac=function(C){return new(C||v)(m.KVO(h.B),m.KVO(i.o),m.KVO(t.$),m.KVO(u.Y))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},37419:(F,b,n)=>{"use strict";n.d(b,{Y:()=>f});var i=n(93583),t=n(21921),u=n(74850);class e{constructor(E){this.modelType=E}serialize(E){return h((0,u.Serialize)(E,this.modelType))}serializeArray(E){return h((0,u.Serialize)(E,this.modelType))}deserialize(E){if(Array.isArray(E))throw new Error("Expected a single model, use deserializeArray() instead");return(0,u.Deserialize)(E,this.modelType)}deserializeArray(E){if(!Array.isArray(E))throw new Error("Expected an Array, use deserialize() instead");return(0,u.Deserialize)(E,this.modelType)}}function h(v){const E={};for(const[_,C]of Object.entries(v))null!==C&&(E[_]=C);return E}var m=n(54438);let f=(()=>{class v{diff(_,C){const S=new e((0,t.Qt)(_.type)),R=new e((0,t.Qt)(C.type));return(0,i.UD)(S.serialize(_),R.serialize(C))}static{this.\u0275fac=function(C){return new(C||v)}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},12598:(F,b,n)=>{"use strict";n.d(b,{j:()=>h});var i=n(93583),t=n(84418),u=n.n(t),e=n(54438);let h=(()=>{class m{diff(v,E){return(0,i.UD)(this.filterUUIDsFromMetadata(v.metadata),this.filterUUIDsFromMetadata(E.metadata)).map(_=>Object.assign({},_,{path:"/metadata"+_.path}))}filterUUIDsFromMetadata(v){const E=u()(v);for(const _ of Object.keys(E))for(const C of E[_])C.uuid=void 0;return E}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275prov=e.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},13989:(F,b,n)=>{"use strict";n.r(b),n.d(b,{DSpaceObjectDataService:()=>f});var i=n(72734),t=n(41684),u=n(4910),e=n(63897),h=n(32473),m=n(54438);let f=(()=>{class v extends e.W{constructor(_,C,S,R){super("dso",_,C,S,R,void 0,(T,A)=>T.replace(/{\?uuid}/,`?uuid=${A}`)),this.requestService=_,this.rdbService=C,this.objectCache=S,this.halService=R}static{this.\u0275fac=function(C){return new(C||v)(m.KVO(h.B),m.KVO(i.o),m.KVO(t.$),m.KVO(u.Y))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},49872:(F,b,n)=>{"use strict";n.d(b,{D3:()=>p,k_:()=>R});var i=n(88280),t=n(82777),u=n(21921),e=n(41684),h=n(13808),m=n(28580),f=n(69227),v=n(32089),E=n(45663),_=n(96820),C=n(43377),S=n(54438);function R(L){return(0,t.a4)(L)&&(0,t.a4)(L._links)&&(0,t.a4)(L._links.self)&&(0,t.a4)(L._links.self.href)}const A=L=>L.split("?").map(D=>D.split("&")).reduce((D,w)=>[...D,...w]);let p=(()=>{class L{constructor(w){this.objectCache=w,this.serializerConstructor=m.T}parse(w,M){let x;M=this.ensureSelfLink(w,M),w.method===C.D.GET&&(x=(0,f.tJ)(w.href));const j=this.process(M.payload,w,x);return(0,t.a4)(j)?R(j)?new h.hT(M.statusCode,j._links.self):new h.hT(M.statusCode,void 0,j):new h.hT(M.statusCode)}process(w,M,x){const j=(0,f.fW)(M.href);if((0,t.hj)(w)){if((0,t.Tn)(w)||"object"!=typeof w)return w;if(function T(L){return(0,t.a4)(L.page)&&(0,t.a4)(L.page.size)&&(0,t.a4)(L.page.totalElements)&&(0,t.a4)(L.page.totalPages)&&(0,t.a4)(L.page.number)}(w))return this.processPaginatedList(w,M,x);if(Array.isArray(w))return this.processArray(w,M);if(R(w)){const $=this.deserialize(w);return(0,t.hj)(w._embedded)&&Object.keys(w._embedded).filter(k=>w._embedded.hasOwnProperty(k)).forEach(k=>{let K=w._links[k].href;const X=j.find(G=>G.name===k);(0,t.a4)(X)&&(K=new E.t(K,`?size=${X.size}`).toString()),null==w._embedded[k]?this.addToObjectCache(null,M,w,K):R(w._embedded[k])||this.objectCache.add(w._embedded[k],(0,t.a4)(M.responseMsToLive)?M.responseMsToLive:i.c.cache.msToLive.default,M.uuid,K),this.process(w._embedded[k],M,K)}),this.addToObjectCache($,M,w,x),$}const U={};return Object.keys(w).filter($=>w.hasOwnProperty($)).filter($=>(0,t.a4)(w[$])).forEach($=>{U[$]=this.process(w[$],M)}),U}}ensureSelfLink(w,M){const x=(0,f.tJ)(w.href);if(w.method===C.D.GET&&(0,t.a4)(M)&&(0,t.a4)(M.payload)&&(0,t.a4)(M.payload._links))if((0,t.Tn)(M.payload._links.self)||(0,t.Tn)(M.payload._links.self.href))console.warn(`The response for '${w.href}' doesn't have a self link. This could mean there's an issue with the REST endpoint`),M.payload._links=Object.assign({},M.payload._links,{self:{href:x}});else{const j=A(x),U=A(M.payload._links.self.href);j[0]===U[0]&&(j.some($=>!U.includes($))||U.some($=>!j.includes($)))&&(console.warn(`The response for '${x}' has the self link '${M.payload._links.self.href}'. These don't match. This could mean there's an issue with the REST endpoint`),M.payload._links=Object.assign({},M.payload._links,{self:{href:x}}))}return M}processPaginatedList(w,M,x){const j=this.processPageInfo(w);let U=w._embedded;(0,t.Tn)(U)?U=[]:Array.isArray(U)||(U=this.flattenSingleKeyObject(U));const $=this.processArray(U,M),k=(0,_.g)(j,$,!0,w._links);return this.addToObjectCache(k,M,w,x),k}processArray(w,M){let x=[];return w.forEach(j=>{x=[...x,this.process(j,M)]}),x}deserialize(w){const M=w.type,x=this.getConstructorFor(M);return(0,t.a4)(x)?new this.serializerConstructor(x).deserialize(w):(console.warn("cannot deserialize type "+M),null)}getConstructorFor(w){return(0,t.a4)(w)?(0,u.Qt)(w):null}addToObjectCache(w,M,x,j){if((0,t.a4)(w)&&!R(w)){const U=(0,t.a4)(x)&&(0,t.a4)(x.type)?x.type:"object";let $;return $=(0,t.a4)(x._embedded)?JSON.stringify(Object.assign({},x,{_embedded:"..."})):JSON.stringify(x),void console.warn(`Can't cache incomplete ${U}: ${JSON.stringify(w)}, parsed from (partial) response: ${$}`)}(0,t.a4)(w)&&j===w._links.self.href&&(j=void 0),this.objectCache.add(w,(0,t.a4)(M.responseMsToLive)?M.responseMsToLive:i.c.cache.msToLive.default,M.uuid,j)}processPageInfo(w){if((0,t.a4)(w.page)){const M=new m.T(v.Q).deserialize(w.page);return M.currentPage>=0&&Object.assign(M,{currentPage:M.currentPage+1}),M}}flattenSingleKeyObject(w){const M=Object.keys(w);if(1!==M.length)throw new Error(`Expected an object with a single key, got: ${JSON.stringify(w)}`);return w[M[0]]}isSuccessStatus(w){return w>=200&&w<300}static{this.\u0275fac=function(M){return new(M||L)(S.KVO(e.$))}}static{this.\u0275prov=S.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})()},30077:(F,b,n)=>{"use strict";n.d(b,{f:()=>T});var i=n(25558),t=n(96354),u=n(96697),e=n(72734),h=n(41684),m=n(4910),f=n(80183),v=n(49802),E=n(46787),_=n(35108),C=n(38096),S=n(32473),R=n(54438);let T=(()=>{class A extends v.L{constructor(L,D,w,M,x){super("entitytypes",L,D,w,M),this.requestService=L,this.rdbService=D,this.objectCache=w,this.halService=M,this.relationshipTypeService=x,this.findAllData=new E.H(this.linkPath,L,D,w,M,this.responseMsToLive),this.searchData=new _.X(this.linkPath,L,D,w,M,this.responseMsToLive)}getBrowseEndpoint(L,D){return this.halService.getEndpoint(this.linkPath)}getRelationshipTypesEndpoint(L){return this.halService.getEndpoint(this.linkPath).pipe((0,i.n)(D=>this.halService.getEndpoint("relationshiptypes",`${D}/${L}`)))}isLeftType(L,D){return L.leftType.pipe((0,f.yd)(),(0,f.Bo)(),(0,t.T)(w=>w.uuid===D.uuid))}getAllAuthorizedRelationshipType(L={}){return this.searchBy("findAllByAuthorizedCollection",L).pipe((0,f.bD)())}hasMoreThanOneAuthorized(){return this.getAllAuthorizedRelationshipType({elementsPerPage:2,currentPage:1}).pipe((0,t.T)(D=>{let w;return w=!!D.payload&&D.payload.page.length>1,w}))}getAllAuthorizedRelationshipTypeImport(L={}){return this.searchBy("findAllByAuthorizedExternalSource",L).pipe((0,f.bD)())}hasMoreThanOneAuthorizedImport(){return this.getAllAuthorizedRelationshipTypeImport({elementsPerPage:2,currentPage:1}).pipe((0,u.s)(1),(0,t.T)(D=>D?.payload?.totalElements>1))}getEntityTypeRelationships(L,D=!0,w=!0,...M){const x=this.getRelationshipTypesEndpoint(L);return this.relationshipTypeService.findListByHref(x,void 0,D,w,...M)}getEntityTypeByLabel(L){return this.halService.getEndpoint(this.linkPath).pipe((0,u.s)(1),(0,i.n)(D=>this.findByHref(D+"/label/"+L)))}findAll(L,D,w,...M){return this.findAllData.findAll(L,D,w,...M)}searchBy(L,D,w,M,...x){return this.searchData.searchBy(L,D,w,M,...x)}static{this.\u0275fac=function(D){return new(D||A)(R.KVO(S.B),R.KVO(e.o),R.KVO(h.$),R.KVO(m.Y),R.KVO(C.RelationshipTypeDataService))}}static{this.\u0275prov=R.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},57514:(F,b,n)=>{"use strict";n.d(b,{Q:()=>R});var i=n(96354),t=n(25558),u=n(23294),e=n(96697),h=n(82777),m=n(72734),f=n(41684),v=n(4910),E=n(63897),_=n(35108),C=n(32473),S=n(54438);let R=(()=>{class T extends E.W{constructor(p,L,D,w){super("externalsources",p,L,D,w),this.requestService=p,this.rdbService=L,this.objectCache=D,this.halService=w,this.searchData=new _.X(this.linkPath,p,L,D,w,this.responseMsToLive)}getBrowseEndpoint(p={},L=this.linkPath){return this.halService.getEndpoint(L)}getEntriesEndpoint(p){return this.getBrowseEndpoint().pipe((0,i.T)(L=>this.getIDHref(L,p)),(0,t.n)(L=>this.halService.getEndpoint("entries",L)))}getExternalSourceEntries(p,L,D=!0,w=!0,...M){const x=this.getEntriesEndpoint(p).pipe((0,h.VT)(),(0,u.F)(),(0,i.T)(j=>(0,h.a4)(L)?L.toRestUrl(j):j),(0,e.s)(1));return this.hasCachedErrorResponse(x).pipe((0,t.n)(j=>this.findListByHref(x,void 0,!j,w,...M)))}searchBy(p,L,D,w,...M){return this.searchData.searchBy(p,L,D,w,...M)}static{this.\u0275fac=function(L){return new(L||T)(S.KVO(C.B),S.KVO(m.o),S.KVO(f.$),S.KVO(v.Y))}}static{this.\u0275prov=S.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},65007:(F,b,n)=>{"use strict";n.r(b),n.d(b,{AuthorizationDataService:()=>U});var i=n(7673),t=n(96354),u=n(99437),e=n(25558),h=n(82777),m=n(67600),f=n(72734),v=n(53954),E=n(41684),_=n(4910),C=n(80183),S=n(49802),R=n(35108),T=n(41023),A=n(32473),p=n(5090);class L{constructor(k,K,X){this.objectUrl=k,this.ePersonUuid=K,this.featureId=X}}var D=n(84572),j=n(54438);let U=(()=>{class $ extends S.L{constructor(K,X,G,q,z){super("authorizations",K,X,G,q),this.requestService=K,this.rdbService=X,this.objectCache=G,this.halService=q,this.siteService=z,this.linkPath="authorizations",this.searchByObjectPath="object",this.searchData=new R.X(this.linkPath,K,X,G,q,this.responseMsToLive)}invalidateAuthorizationsRequestCache(){this.requestService.setStaleByHrefSubstring(this.linkPath)}isAuthorized(K,X,G,q=!0,z=!0){return this.searchByObject(K,X,G,{},q,z,(0,m.s)("feature")).pipe((0,C.qD)(),(0,t.T)(te=>401!==te.statusCode&&(0,h.a4)(te.payload)&&(0,h.hj)(te.payload.page)?te.payload.page:[]),(0,u.W)(()=>(0,i.of)([])),($=>k=>k.pipe((0,e.n)(K=>(0,h.hj)(K)?(0,D.z)([...K.filter(X=>(0,h.a4)(X.feature)).map(X=>X.feature.pipe((0,C.ak)()))]):(0,i.of)([])),(0,t.T)(K=>K.filter(X=>X.id===$.valueOf()).length>0)))(K))}searchByObject(K,X,G,q={},z=!0,te=!0,...Z){const J=(0,i.of)(X).pipe((0,e.n)(ee=>(0,h.Tn)(ee)?this.siteService.find().pipe((0,t.T)(le=>le.self)):(0,i.of)(ee))),Q=J.pipe((0,t.T)(ee=>new L(ee,G,K)),(0,e.n)(ee=>this.searchBy(this.searchByObjectPath,this.createSearchOptions(ee.objectUrl,q,ee.ePersonUuid,ee.featureId),z,te,...Z)));return this.addDependency(Q,J),Q}createSearchOptions(K,X={},G,q){let z=[];return(0,h.hj)(X.searchParams)&&(z=[...X.searchParams]),z.push(new v.x("uri",K,!1)),(0,h.a4)(q)&&z.push(new v.x("feature",q)),(0,h.a4)(G)&&z.push(new v.x("eperson",G)),Object.assign(new T._,X,{searchParams:[...z]})}searchBy(K,X,G,q,...z){return this.searchData.searchBy(K,X,G,q,...z)}static{this.\u0275fac=function(X){return new(X||$)(j.KVO(A.B),j.KVO(f.o),j.KVO(E.$),j.KVO(_.Y),j.KVO(p.SiteDataService))}}static{this.\u0275prov=j.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}}return $})()},36673:(F,b,n)=>{"use strict";n.d(b,{i:()=>e});var i=n(7673),t=n(3970);const e=(0,n(89673).L)(()=>(0,i.of)(t._.CanManageGroups))},89673:(F,b,n)=>{"use strict";n.d(b,{L:()=>u});var i=n(96354),t=n(51581);const u=(e,h,m)=>(0,t.h)((f,v)=>e(f,v).pipe((0,i.T)(E=>[E])),h,m)},36329:(F,b,n)=>{"use strict";n.d(b,{Y:()=>e});var i=n(7673),t=n(3970);const e=(0,n(89673).L)(()=>(0,i.of)(t._.AdministratorOf))},51581:(F,b,n)=>{"use strict";n.d(b,{h:()=>_});var i=n(54438),t=n(7901),u=n(7673),e=n(84572),h=n(25558),m=n(67116),f=n(308),v=n(65007);const E=()=>(0,u.of)(void 0),_=(C,S=E,R=E)=>(T,A)=>{const p=(0,i.WQX)(v.AuthorizationDataService),L=(0,i.WQX)(t.Ix),D=(0,i.WQX)(m.uR);return(0,e.z)([C(T,A),S(T,A),R(T,A)]).pipe((0,h.n)(([w,M,x])=>(0,e.z)(w.map(j=>p.isAuthorized(j,M,x)))),(0,f.ci)(L,D,A.url))}},3970:(F,b,n)=>{"use strict";n.d(b,{_:()=>i});var i=function(t){return t.LoginOnBehalfOf="loginOnBehalfOf",t.AdministratorOf="administratorOf",t.CanDelete="canDelete",t.CanEditMetadata="canEditMetadata",t.WithdrawItem="withdrawItem",t.ReinstateItem="reinstateItem",t.EPersonRegistration="epersonRegistration",t.CanManageGroups="canManageGroups",t.CanManageGroup="canManageGroup",t.IsCollectionAdmin="isCollectionAdmin",t.IsCommunityAdmin="isCommunityAdmin",t.CanChangePassword="canChangePassword",t.CanDownload="canDownload",t.CanRequestACopy="canRequestACopy",t.CanManageVersions="canManageVersions",t.CanManageBitstreamBundles="canManageBitstreamBundles",t.CanManageRelationships="canManageRelationships",t.CanManageMappings="canManageMappings",t.CanManagePolicies="canManagePolicies",t.CanMakePrivate="canMakePrivate",t.CanMove="canMove",t.CanEditVersion="canEditVersion",t.CanDeleteVersion="canDeleteVersion",t.CanCreateVersion="canCreateVersion",t.CanViewUsageStatistics="canViewUsageStatistics",t.CanSendFeedback="canSendFeedback",t.CanClaimItem="canClaimItem",t.CanSynchronizeWithORCID="canSynchronizeWithORCID",t.CanSubmit="canSubmit",t.CanEditItem="canEditItem",t.CanRegisterDOI="canRegisterDOI",t.CanSubscribe="canSubscribeDso",t.CoarNotifyEnabled="coarNotifyEnabled",t.CanSeeQA="canSeeQA",t.EPersonForgotPassword="epersonForgotPassword",t}(i||{})},41023:(F,b,n)=>{"use strict";n.d(b,{_:()=>i});class i{}},70413:(F,b,n)=>{"use strict";n.r(b),n.d(b,{HrefOnlyDataService:()=>f});var i=n(72734),t=n(41684),u=n(4910),e=n(49802),h=n(32473),m=n(54438);let f=(()=>{class v{constructor(_,C,S,R){this.requestService=_,this.rdbService=C,this.objectCache=S,this.halService=R,this.dataService=new e.L(void 0,_,C,S,R)}findByHref(_,C=!0,S=!0,...R){return this.dataService.findByHref(_,C,S,...R)}findListByHref(_,C={},S=!0,R=!0,...T){return this.dataService.findListByHref(_,C,S,R,...T)}static{this.\u0275fac=function(C){return new(C||v)(m.KVO(h.B),m.KVO(i.o),m.KVO(t.$),m.KVO(u.Y))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},29326:(F,b,n)=>{"use strict";n.r(b),n.d(b,{BaseItemDataService:()=>K,ItemDataService:()=>X});var i=n(21626),t=n(5964),u=n(96354),e=n(23294),h=n(25558),m=n(96697),f=n(47677),v=n(82777),E=n(39806),_=n(37864),C=n(72734),S=n(41684),R=n(4910),T=n(91098),A=n(45663),p=n(39280),L=n(13617),D=n(63897),w=n(87158),M=n(81443),x=n(12598),j=n(43052),U=n(32473),$=n(14410),k=n(54438);class K extends D.W{constructor(q,z,te,Z,J,Q,ee,le,ne,fe=((se,ce)=>`${se}/${ce}`)){super(q,z,te,Z,J,void 0,fe),this.linkPath=q,this.requestService=z,this.rdbService=te,this.objectCache=Z,this.halService=J,this.notificationsService=Q,this.comparator=ee,this.browseService=le,this.bundleService=ne,this.constructIdEndpoint=fe,this.createData=new p.V(this.linkPath,z,te,Z,J,Q,this.responseMsToLive),this.patchData=new w.n(this.linkPath,z,te,Z,J,ee,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new L.I(this.linkPath,z,te,Z,J,Q,this.responseMsToLive,this.constructIdEndpoint)}getBrowseEndpoint(q={},z=this.linkPath){let te="dc.date.issued";return q.sort&&q.sort.field&&(te=q.sort.field),this.browseService.getBrowseURLFor(te,z).pipe((0,t.p)(Z=>(0,v.hj)(Z)),(0,u.T)(Z=>new A.t(Z,`?scope=${q.scopeID}`).toString()),(0,e.F)())}getMappedCollectionsEndpoint(q,z){return this.halService.getEndpoint(this.linkPath).pipe((0,u.T)(te=>this.getIDHref(te,q)),(0,u.T)(te=>`${te}/mappedCollections${z?`/${z}`:""}`))}removeMappingFromCollection(q,z){return this.getMappedCollectionsEndpoint(q,z).pipe((0,v.VT)(),(0,e.F)(),(0,u.T)(te=>new j.$(this.requestService.generateRequestId(),te)),(0,T.w$)(this.requestService),(0,h.n)(te=>this.rdbService.buildFromRequestUUID(te.uuid)))}mapToCollection(q,z){return this.getMappedCollectionsEndpoint(q).pipe((0,v.VT)(),(0,e.F)(),(0,u.T)(te=>{const Z=Object.create({});let J=new i.Lr;return J=J.append("Content-Type","text/uri-list"),Z.headers=J,new j.Qf(this.requestService.generateRequestId(),te,z,Z)}),(0,T.w$)(this.requestService),(0,h.n)(te=>this.rdbService.buildFromRequestUUID(te.uuid)))}setWithDrawn(q,z){const te={op:"replace",path:"/withdrawn",value:z};return this.requestService.removeByHrefSubstring("/discover"),this.patch(q,[te])}setDiscoverable(q,z){const te={op:"replace",path:"/discoverable",value:z};return this.requestService.removeByHrefSubstring("/discover"),this.patch(q,[te])}getBundlesEndpoint(q){return this.halService.getEndpoint(this.linkPath).pipe((0,h.n)(z=>this.halService.getEndpoint("bundles",`${z}/${q}`)))}getBundles(q,z){const te=this.getBundlesEndpoint(q).pipe((0,u.T)(Z=>z?z.toRestUrl(Z):Z));return te.pipe((0,m.s)(1)).subscribe(Z=>{const J=new j.IP(this.requestService.generateRequestId(),Z);this.requestService.send(J)}),this.rdbService.buildList(te)}createBundle(q,z,te){const Z=this.requestService.generateRequestId(),J=this.getBundlesEndpoint(q),Q={name:z,metadata:te||{}};return J.pipe((0,m.s)(1)).subscribe(ee=>{const le=Object.create({});let ne=new i.Lr;ne=ne.append("Content-Type","application/json"),le.headers=ne;const fe=new j.Qf(Z,ee,JSON.stringify(Q),le);this.requestService.send(fe)}),this.rdbService.buildFromRequestUUID(Z)}getIdentifiersEndpoint(q){return this.halService.getEndpoint(this.linkPath).pipe((0,h.n)(z=>this.halService.getEndpoint("identifiers",`${z}/${q}`)))}getMoveItemEndpoint(q,z){return this.halService.getEndpoint(this.linkPath).pipe((0,u.T)(te=>this.getIDHref(te,q)),(0,u.T)(te=>`${te}/owningCollection?inheritPolicies=${z}`))}moveToCollection(q,z,te){const Z=Object.create({});let J=new i.Lr;J=J.append("Content-Type","text/uri-list"),Z.headers=J;const Q=this.requestService.generateRequestId();return this.getMoveItemEndpoint(q,te).pipe((0,f.I)(le=>(0,v.a4)(le)),(0,u.T)(le=>{const ne=new j.v_(Q,le,z._links.self.href,Z);return Object.assign(ne,{getResponseParser:()=>$.M}),ne})).subscribe(le=>{this.requestService.send(le)}),this.rdbService.buildFromRequestUUID(Q)}importExternalSourceEntry(q,z){const te=Object.create({});let Z=new i.Lr;Z=Z.append("Content-Type","text/uri-list"),te.headers=Z;const J=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,u.T)(ee=>`${ee}?owningCollection=${z}`)).pipe((0,f.I)(ee=>(0,v.a4)(ee)),(0,u.T)(ee=>{const le=new j.Qf(J,ee,q._links.self.href,te);this.requestService.send(le)})).subscribe(),this.rdbService.buildFromRequestUUID(J)}getBitstreamsEndpoint(q){return this.halService.getEndpoint(this.linkPath).pipe((0,h.n)(z=>this.halService.getEndpoint("bitstreams",`${z}/${q}`)))}invalidateItemCache(q){this.requestService.setStaleByHrefSubstring("item/"+q)}commitUpdates(q){this.patchData.commitUpdates(q)}patch(q,z){return this.patchData.patch(q,z)}update(q){return this.patchData.update(q)}createPatchFromCache(q){return this.patchData.createPatchFromCache(q)}delete(q,z){return this.deleteData.delete(q,z)}deleteByHref(q,z){return this.deleteData.deleteByHref(q,z)}create(q,...z){return this.createData.create(q,...z)}}let X=(()=>{class G extends K{constructor(z,te,Z,J,Q,ee,le,ne){super("items",z,te,Z,J,Q,ee,le,ne),this.requestService=z,this.rdbService=te,this.objectCache=Z,this.halService=J,this.notificationsService=Q,this.comparator=ee,this.browseService=le,this.bundleService=ne}static{this.\u0275fac=function(te){return new(te||G)(k.KVO(U.B),k.KVO(C.o),k.KVO(S.$),k.KVO(R.Y),k.KVO(E.I),k.KVO(x.j),k.KVO(_.q),k.KVO(M.BundleDataService))}}static{this.\u0275prov=k.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})()},57568:(F,b,n)=>{"use strict";n.d(b,{c:()=>G});var i=n(92771),t=n(30017),u=n(98071),e=n(21413),h=n(58750),m=n(39974),f=n(71985);const E={connector:()=>new e.B};var S=n(77048),R=n(79131),T=n(9326),A=n(22806),L=n(96697),D=n(96354),w=n(99172),M=n(23294),x=n(23401),j=n(33550),U=n(80183),$=n(78655),k=n(57514),K=n(32473),X=n(54438);let G=(()=>{class q{constructor(te,Z,J){this.externalSourceService=te,this.searchService=Z,this.requestService=J,this.singleResultOptions=Object.assign(new x.W,{id:"single-result-options",pageSize:1})}getLocalResults(te,Z,J=!0){const Q=Object.assign(new j.C({}),Z,{fixedFilter:te.filter,configuration:te.searchConfiguration});return J&&(this.searchConfig=Q),this.searchService.search(Q).pipe(function C(q,z){const te=(0,u.T)(q)?q:()=>q;return(0,u.T)(z)?function _(q,z=E){const{connector:te}=z;return(0,m.N)((Z,J)=>{const Q=te();(0,h.Tg)(q(function v(q){return new f.c(z=>q.subscribe(z))}(Q))).subscribe(J),J.add(Z.subscribe(Q))})}(z,{connector:te}):Z=>new t.G(Z,te)}(()=>new i.m(1),ee=>ee.pipe((0,S.v)(le=>le.isLoading),function p(...q){const z=(0,T.lI)(q);return(0,m.N)((te,Z)=>{(0,R.K)()((0,A.H)([te,...q],z)).subscribe(Z)})}(ee.pipe((0,L.s)(1))))))}getTotalLocalResults(te,Z){return this.getLocalResults(te,Object.assign(new j.C({}),Z,{pagination:this.singleResultOptions}),!1).pipe((0,U.v7)(),(0,U.Bo)(),(0,D.T)(J=>J.totalElements),(0,w.Z)(0))}getTotalExternalResults(te,Z){return this.externalSourceService.getExternalSourceEntries(te.id,Object.assign(new j.C({}),Z,{pagination:this.singleResultOptions})).pipe((0,U.v7)(),(0,U.Bo)(),(0,D.T)(J=>J.totalElements),(0,w.Z)(0),(0,M.F)())}removeLocalResultsCache(){this.searchService.getEndpoint().subscribe(te=>this.requestService.removeByHrefSubstring(te))}static{this.\u0275fac=function(Z){return new(Z||q)(X.KVO(k.Q),X.KVO($.S),X.KVO(K.B))}}static{this.\u0275prov=X.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})()},25103:(F,b,n)=>{"use strict";n.d(b,{B:()=>i});var i=function(t){return t[t.UPDATE=0]="UPDATE",t[t.ADD=1]="ADD",t[t.REMOVE=2]="REMOVE",t}(i||{})},16105:(F,b,n)=>{"use strict";n.d(b,{Ft:()=>t,KD:()=>m,S3:()=>_,XO:()=>e,Y8:()=>v,g$:()=>u,jX:()=>E,mW:()=>S,nY:()=>h,wS:()=>f,zJ:()=>C});var i=n(91e3);const t={INITIALIZE_FIELDS:(0,i.N)("dspace/core/cache/object-updates/INITIALIZE_FIELDS"),SET_EDITABLE_FIELD:(0,i.N)("dspace/core/cache/object-updates/SET_EDITABLE_FIELD"),SET_VALID_FIELD:(0,i.N)("dspace/core/cache/object-updates/SET_VALID_FIELD"),ADD_FIELD:(0,i.N)("dspace/core/cache/object-updates/ADD_FIELD"),SELECT_VIRTUAL_METADATA:(0,i.N)("dspace/core/cache/object-updates/SELECT_VIRTUAL_METADATA"),DISCARD:(0,i.N)("dspace/core/cache/object-updates/DISCARD"),REINSTATE:(0,i.N)("dspace/core/cache/object-updates/REINSTATE"),REMOVE:(0,i.N)("dspace/core/cache/object-updates/REMOVE"),REMOVE_ALL:(0,i.N)("dspace/core/cache/object-updates/REMOVE_ALL"),REMOVE_FIELD:(0,i.N)("dspace/core/cache/object-updates/REMOVE_FIELD")};class u{constructor(T,A,p,L){this.type=t.INITIALIZE_FIELDS,this.payload={url:T,fields:A,lastModified:p,patchOperationService:L}}}class e{constructor(T,A,p){this.type=t.ADD_FIELD,this.payload={url:T,field:A,changeType:p}}}class h{constructor(T,A,p,L){this.type=t.SELECT_VIRTUAL_METADATA,this.payload={url:T,source:A,uuid:p,select:L}}}class m{constructor(T,A,p){this.type=t.SET_EDITABLE_FIELD,this.payload={url:T,uuid:A,editable:p}}}class f{constructor(T,A,p){this.type=t.SET_VALID_FIELD,this.payload={url:T,uuid:A,isValid:p}}}class v{constructor(T,A,p=!1){this.type=t.DISCARD,this.payload={url:T,notification:A,discardAll:p}}}class E{constructor(T){this.type=t.REINSTATE,this.payload={url:T}}}class _{constructor(T){this.type=t.REMOVE,this.payload={url:T}}}class C{constructor(){this.type=t.REMOVE_ALL}}class S{constructor(T,A){this.type=t.REMOVE_FIELD,this.payload={url:T,uuid:A}}}},66898:(F,b,n)=>{"use strict";n.d(b,{O:()=>v,U:()=>e});var i=n(82777),t=n(25103),u=n(16105);const e="/trash",h={editable:!1,isNew:!1,isValid:!0},m={editable:!0,isNew:!0,isValid:void 0},f=Object.create(null);function v(U=f,$){switch($.type){case u.Ft.INITIALIZE_FIELDS:return function E(U,$){const k=$.payload.url,X=$.payload.lastModified,G=$.payload.patchOperationService,q=function j(U){const $=U.map(K=>K.uuid),k={};return $.forEach(K=>k[K]=h),k}($.payload.fields),z=Object.assign({},U[k],{fieldStates:q},{fieldUpdates:{}},{virtualMetadataSources:{}},{lastModified:X},{patchOperationService:G});return Object.assign({},U,{[k]:z})}(U,$);case u.Ft.ADD_FIELD:return function _(U,$){const k=$.payload.url,K=$.payload.field,X=$.payload.changeType,G=U[k]||{fieldUpdates:{}};let q=G.fieldStates;X===t.B.ADD&&(q=Object.assign({},{[K.uuid]:m},G.fieldStates));let z=G.fieldUpdates[K.uuid]||{};const te=function w(U,$){return(0,i.Tn)($)?U:(0,i.Tn)(U)?$:U.valueOf()>$.valueOf()?U:$}(z.changeType,X);z=Object.assign({},{field:K,changeType:te});const Z=Object.assign({},G.fieldUpdates,{[K.uuid]:z}),J=Object.assign({},G,{fieldStates:q},{fieldUpdates:Z});return Object.assign({},U,{[k]:J})}(U,$);case u.Ft.SELECT_VIRTUAL_METADATA:return function C(U,$){const k=$.payload.url,K=$.payload.source,q=U[k]||{},z=Object.assign({},q.virtualMetadataSources[K],{[$.payload.uuid]:$.payload.select}),te=Object.assign({},q.virtualMetadataSources,{[K]:z}),Z=Object.assign({},q,{virtualMetadataSources:te});return Object.assign({},U,{[k]:Z})}(U,$);case u.Ft.DISCARD:return function S(U,$){if($.payload.discardAll){let k=Object.assign({},U);return Object.keys(U).filter(K=>!K.endsWith(e)).forEach(K=>{k=R(K,k)}),k}return R($.payload.url,U)}(U,$);case u.Ft.REINSTATE:return function T(U,$){const k=$.payload.url,X=Object.assign({},U,{[k]:U[k+e]});return delete X[k+e],X}(U,$);case u.Ft.REMOVE:return function A(U,$){return function p(U,$){const k=Object.assign({},U);return delete k[$+e],k}(U,$.payload.url)}(U,$);case u.Ft.REMOVE_ALL:return function L(U){const $=Object.assign({},U);return Object.keys(U).filter(k=>k.endsWith(e)).forEach(k=>{delete $[k]}),$}(U);case u.Ft.REMOVE_FIELD:return function D(U,$){const k=$.payload.url,K=$.payload.uuid;let X=U[k];if((0,i.a4)(X)){const G=Object.assign({},X.fieldUpdates);(0,i.a4)(G[K])&&delete G[K];const q=Object.assign({},X.fieldStates);(0,i.a4)(q[K])&&(q[K].isNew?delete q[K]:q[K]=Object.assign({},q[K],{editable:!1,isValid:!0})),X=Object.assign({},U[k],{fieldUpdates:G,fieldStates:q})}return Object.assign({},U,{[k]:X})}(U,$);case u.Ft.SET_EDITABLE_FIELD:return function M(U,$){const k=$.payload.url,K=$.payload.uuid,G=U[k],z=Object.assign({},G.fieldStates[K],{editable:$.payload.editable}),te=Object.assign({},G.fieldStates,{[K]:z}),Z=Object.assign({},G,{fieldStates:te});return Object.assign({},U,{[k]:Z})}(U,$);case u.Ft.SET_VALID_FIELD:return function x(U,$){const k=$.payload.url,K=$.payload.uuid,G=U[k],z=Object.assign({},G.fieldStates[K],{isValid:$.payload.isValid}),te=Object.assign({},G.fieldStates,{[K]:z}),Z=Object.assign({},G,{fieldStates:te});return Object.assign({},U,{[k]:Z})}(U,$);default:return U}}function R(U,$){const k=$[U],K={};Object.keys(k.fieldStates).forEach(G=>{const q=k.fieldStates[G];q.isNew||(K[G]=Object.assign({},q,{editable:!1,isValid:!0}))});const X=Object.assign({},k,{fieldUpdates:{},fieldStates:K});return Object.assign({},$,{[U]:X},{[U+e]:k})}},96820:(F,b,n)=>{"use strict";n.d(b,{O:()=>C,g:()=>_});var i=n(31635),t=n(74850),u=n(82777),e=n(21921),h=n(56970),m=n(32089),f=n(42547),v=n(98688),E=n(74346);const _=(S,R,T=!1,A)=>{const p=new C;let L;return(0,u.Tn)(S)&&(S=new m.Q),p.pageInfo=S,(0,u.Im)(R)?L=[]:(L=R.map(D=>(0,u.a4)(D)&&(0,u.a4)(D._links)&&(0,u.a4)(D._links.self)?D._links.self:null),L.every(D=>(0,u.Tn)(D))&&(L=void 0)),p._links=Object.assign({},A,S._links,{page:L}),(!T||(0,u.b0)(L))&&(p.page=R),p};let C=class extends h.I{constructor(){super(...arguments),this.type=E.v}static{this.type=E.v}get elementsPerPage(){return(0,u.a4)(this.pageInfo)&&(0,u.a4)(this.pageInfo.elementsPerPage)?this.pageInfo.elementsPerPage:this.getPageLength()}set elementsPerPage(R){this.pageInfo.elementsPerPage=R}get totalElements(){return(0,u.a4)(this.pageInfo)&&(0,u.a4)(this.pageInfo.totalElements)?this.pageInfo.totalElements:this.getPageLength()}set totalElements(R){this.pageInfo.totalElements=R}get totalPages(){return(0,u.a4)(this.pageInfo)&&(0,u.a4)(this.pageInfo.totalPages)?this.pageInfo.totalPages:1}set totalPages(R){this.pageInfo.totalPages=R}get currentPage(){return(0,u.a4)(this.pageInfo)&&(0,u.a4)(this.pageInfo.currentPage)?this.pageInfo.currentPage:1}set currentPage(R){this.pageInfo.currentPage=R}get first(){if((0,u.a4)(this._links.first)&&(0,u.a4)(this._links.first.href))return this._links.first.href}set first(R){this._links.first={href:R},this.pageInfo._links.first={href:R}}get prev(){if((0,u.a4)(this._links.prev)&&(0,u.a4)(this._links.prev.href))return this._links.prev.href}set prev(R){this._links.prev={href:R},this.pageInfo._links.prev={href:R}}get next(){if((0,u.a4)(this._links.next)&&(0,u.a4)(this._links.next.href))return this._links.next.href}set next(R){this._links.next={href:R},this.pageInfo._links.next={href:R}}get last(){if((0,u.a4)(this._links.last)&&(0,u.a4)(this._links.last.href))return this._links.last.href}set last(R){this._links.last={href:R},this.pageInfo._links.last={href:R}}get self(){return this._links.self.href}set self(R){this._links.self={href:R},this.pageInfo._links.self={href:R}}getPageLength(){return Array.isArray(this.page)?this.page.length:0}};(0,i.Cg)([v.aK,(0,i.Sn)("design:type",Object)],C.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",f.v)],C.prototype,"objectType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",m.Q)],C.prototype,"pageInfo",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),C=(0,i.Cg)([e.gV],C)},74346:(F,b,n)=>{"use strict";n.d(b,{v:()=>t});const t=new(n(42547).v)("paginated-list")},32736:(F,b,n)=>{"use strict";n.r(b),n.d(b,{BATCH_EXPORT_SCRIPT_NAME:()=>L,BATCH_IMPORT_SCRIPT_NAME:()=>p,METADATA_EXPORT_SCRIPT_NAME:()=>A,METADATA_IMPORT_SCRIPT_NAME:()=>T,ScriptDataService:()=>D});var i=n(96697),t=n(96354),u=n(82777),e=n(72734),h=n(41684),m=n(4910),f=n(80183),v=n(45663),E=n(46787),_=n(63897),C=n(43052),S=n(32473),R=n(54438);const T="metadata-import",A="metadata-export",p="import",L="export";let D=(()=>{class w extends _.W{constructor(x,j,U,$){super("scripts",x,j,U,$),this.requestService=x,this.rdbService=j,this.objectCache=U,this.halService=$,this.findAllData=new E.H(this.linkPath,x,j,U,$,this.responseMsToLive)}invoke(x,j,U){const $=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,i.s)(1),(0,t.T)(k=>new v.t(k,x,"processes").toString()),(0,t.T)(k=>{const K=this.getInvocationFormData(j,U);return new C.E0($,k,K)})).subscribe(k=>this.requestService.send(k)),this.rdbService.buildFromRequestUUID($)}getInvocationFormData(x,j){const U=new FormData;return U.set("properties",JSON.stringify(x)),j.forEach($=>{U.append("file",$)}),U}scriptWithNameExistsAndCanExecute(x){return this.findById(x).pipe((0,f.qD)(),(0,t.T)(j=>(0,u.a4)(j.payload)))}findAll(x,j,U,...$){return this.findAllData.findAll(x,j,U,...$)}static{this.\u0275fac=function(j){return new(j||w)(R.KVO(S.B),R.KVO(e.o),R.KVO(h.$),R.KVO(m.Y))}}static{this.\u0275prov=R.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},48833:(F,b,n)=>{"use strict";n.r(b),n.d(b,{RelationshipDataService:()=>me});var i=n(21626),t=n(25499),u=n(84572),e=n(7673),h=n(96354),m=n(96697),f=n(23294),v=n(25558),E=n(88141),_=n(5964),C=n(99172),S=n(73028),R=n(82640),T=n(195),A=n(46588),p=n(82777),L=n(94337),D=n(67600),w=n(49656),M=n(72734),x=n(53954),j=n(41684),U=n(5410),$=n(4910),k=n(67359),K=n(93498),X=n(90424),G=n(80183),q=n(91098),z=n(63897),te=n(91967),Z=n(35108),J=n(41023),Q=n(29326),ee=n(43052),le=n(32473),ne=n(7434),fe=n(54438);const se=re=>re.relationshipLists,ce=re=>(0,T.pc)(re,se),be=re=>Ee=>Ee.pipe((0,G.ak)(),(0,h.T)(De=>De.uuid===re.uuid));let me=(()=>{class re extends z.W{constructor(De,tt,ht,Fe,Et,Ye,pt,Mt,Ne){super("relationships",De,tt,Fe,ht,9e5),this.requestService=De,this.rdbService=tt,this.halService=ht,this.objectCache=Fe,this.metadataService=Et,this.itemService=Ye,this.appStore=pt,this.paginatedRelationsToItems=Mt,this.appConfig=Ne,this.searchData=new Z.X(this.linkPath,De,tt,Fe,ht,this.responseMsToLive),this.putData=new te.W(this.linkPath,De,tt,Fe,ht,this.responseMsToLive)}getRelationshipEndpoint(De){return this.getBrowseEndpoint().pipe((0,h.T)(tt=>`${tt}/${De}`))}deleteRelationship(De,tt,ht=!0){return this.getRelationshipEndpoint(De).pipe((0,p.VT)(),(0,m.s)(1),(0,f.F)(),(0,h.T)(Fe=>new ee.$(this.requestService.generateRequestId(),Fe+"?copyVirtualMetadata="+tt)),(0,q.w$)(this.requestService),(0,v.n)(Fe=>this.rdbService.buildFromRequestUUID(Fe.uuid)),(0,G.qD)(),(0,E.M)(()=>{ht&&this.refreshRelationshipItemsInCacheByRelationship(De)}))}addRelationship(De,tt,ht,Fe,Et,Ye=!0){const pt=Object.create({});let Mt=new i.Lr;return Mt=Mt.append("Content-Type","text/uri-list"),pt.headers=Mt,this.halService.getEndpoint(this.linkPath).pipe((0,p.VT)(),(0,m.s)(1),(0,h.T)(Ne=>`${Ne}?relationshipType=${De}`),(0,h.T)(Ne=>(0,p.hj)(Fe)?`${Ne}&leftwardValue=${Fe}`:Ne),(0,h.T)(Ne=>(0,p.hj)(Et)?`${Ne}&rightwardValue=${Et}`:Ne),(0,h.T)(Ne=>new ee.Qf(this.requestService.generateRequestId(),Ne,`${tt.self} \n ${ht.self}`,pt)),(0,q.w$)(this.requestService),(0,v.n)(Ne=>this.rdbService.buildFromRequestUUID(Ne.uuid)),(0,G.qD)(),(0,E.M)(()=>{Ye&&(this.refreshRelationshipItemsInCache(tt),this.refreshRelationshipItemsInCache(ht))}))}refreshRelationshipItemsInCacheByRelationship(De){this.findById(De,!0,!1,(0,D.s)("leftItem"),(0,D.s)("rightItem")).pipe((0,G.yd)(),(0,G.Bo)(),(0,v.n)(tt=>(0,u.z)(tt.leftItem.pipe((0,G.yd)(),(0,G.Bo)()),tt.rightItem.pipe((0,G.yd)(),(0,G.Bo)()))),(0,m.s)(1)).subscribe(([tt,ht])=>{this.refreshRelationshipItemsInCache(tt),this.refreshRelationshipItemsInCache(ht)})}refreshRelationshipItemsInCache(De){this.objectCache.remove(De._links.self.href),this.requestService.removeByHrefSubstring(De.uuid),(0,u.z)([this.objectCache.hasByHref$(De._links.self.href),this.requestService.hasByHref$(De.self)]).pipe((0,_.p)(([tt,ht])=>!tt&&!ht),(0,m.s)(1)).subscribe(()=>this.itemService.findByHref(De._links.self.href))}getItemRelationshipsArray(De,...tt){return this.findListByHref(De._links.relationships.href,void 0,!0,!1,...tt).pipe((0,G.yd)(),(0,G.Bo)(),(0,h.T)(ht=>ht.page),(0,p.Az)(),(0,f.F)((0,A.W2)()))}getRelationshipTypeLabelsByItem(De){return this.getItemRelationshipsArray(De,(0,D.s)("leftItem"),(0,D.s)("rightItem"),(0,D.s)("relationshipType")).pipe((0,v.n)(tt=>(0,u.z)(tt.map(ht=>this.getRelationshipTypeLabelByRelationshipAndItem(ht,De)))),(0,h.T)(tt=>Array.from(new Set(tt))))}getRelationshipTypeLabelByRelationshipAndItem(De,tt){return De.leftItem.pipe((0,G.yd)(),(0,h.T)(ht=>ht.payload),(0,v.n)(ht=>De.relationshipType.pipe((0,G.yd)(),(0,h.T)(Fe=>Fe.payload),(0,h.T)(Fe=>ht.uuid===tt.uuid?Fe.leftwardType:Fe.rightwardType))))}getRelatedItems(De){return this.getItemRelationshipsArray(De,(0,D.s)("leftItem"),(0,D.s)("rightItem"),(0,D.s)("relationshipType")).pipe((0,A.NG)(De.uuid))}getRelatedItemsByLabel(De,tt,ht){const Fe=(0,w.nW)(ht.fetchThumbnail,this.appConfig.item.showAccessStatuses);return Fe.push((0,D.s)("relationshipType")),this.getItemRelationshipsByLabel(De,tt,ht,!0,!0,...Fe).pipe(this.paginatedRelationsToItems(De.uuid))}getItemRelationshipsByLabel(De,tt,ht,Fe=!0,Et=!0,...Ye){let pt=new J._;ht&&(pt=Object.assign(new J._,ht));const Mt=[new x.x("label",tt),new x.x("dso",De.id)];pt.searchParams=pt.searchParams?[...pt.searchParams,...Mt]:Mt;const Ne=this.searchBy("byLabel",pt,Fe,!1,...Ye);return this.addDependency(Ne,De._links.self.href),Ne.pipe(this.reRequestStaleRemoteData(Et,()=>this.getItemRelationshipsByLabel(De,tt,ht,Fe,Et,...Ye)))}getRelationshipsByRelatedItemIds(De,tt){return this.getItemRelationshipsArray(De,(0,D.s)("leftItem"),(0,D.s)("rightItem")).pipe((0,v.n)(ht=>(0,u.z)(ht.map(Fe=>{const Et=this.isItemInUUIDArray(Fe.leftItem,tt),Ye=this.isItemInUUIDArray(Fe.rightItem,tt);return(0,u.z)([Et,Ye]).pipe((0,_.p)(([pt,Mt])=>pt||Mt),(0,h.T)(()=>Fe),(0,C.Z)(void 0))}))),(0,h.T)(ht=>ht.filter(Fe=>(0,p.a4)(Fe))))}isItemInUUIDArray(De,tt){return De.pipe((0,G.yd)(),(0,h.T)(ht=>ht.payload),(0,h.T)(ht=>tt.includes(ht.uuid)))}getRelationshipByItemsAndLabel(De,tt,ht,Fe){return this.getItemRelationshipsByLabel(De,ht,Fe,!0,!1,(0,D.s)("relationshipType"),(0,D.s)("leftItem"),(0,D.s)("rightItem")).pipe((0,G.yd)(),(0,S.Z)(Et=>Et.payload.page),(0,S.Z)(Et=>(0,u.z)([this.itemService.findByHref(Et._links.leftItem.href).pipe(be(tt)),this.itemService.findByHref(Et._links.rightItem.href).pipe(be(tt))]).pipe((0,h.T)(([Ye,pt])=>Ye||pt),(0,h.T)(Ye=>Ye?Et:void 0))),(0,_.p)(Et=>(0,p.a4)(Et)),(0,m.s)(1))}setNameVariant(De,tt,ht){this.appStore.dispatch(new L.dD(De,tt,ht))}getNameVariant(De,tt){return this.appStore.pipe((0,t.Lt)(((re,Ee)=>(0,T.pc)(Ee,ce(re)))(De,tt)))}removeNameVariant(De,tt){this.appStore.dispatch(new L.zH(De,tt))}getNameVariantsByListID(De){return this.appStore.pipe((0,t.Lt)(ce(De)))}updateNameVariant(De,tt,ht,Fe){return this.getRelationshipByItemsAndLabel(De,tt,ht).pipe((0,v.n)(Et=>Et.relationshipType.pipe((0,G.yd)(),(0,G.Bo)(),(0,h.T)(Ye=>({relation:Et,type:Ye})))),(0,v.n)(Et=>{const{relation:Ye,type:pt}=Et;let Mt;return Mt=Object.assign(new k.b,Ye,ht===pt.leftwardType?{rightwardValue:Fe}:{leftwardValue:Fe}),this.update(Mt)}))}isLeftItem(De,tt){return De.leftItem.pipe((0,G.yd)(),(0,G.Bo)(),(0,_.p)(ht=>(0,p.a4)(ht)&&(0,p.hj)(ht.uuid)),(0,h.T)(ht=>ht.uuid===tt.uuid))}updatePlace(De){let tt;tt=Object.assign(new k.b,De.relationship,De.useLeftItem?{rightPlace:De.newIndex}:{leftPlace:De.newIndex});const ht=this.update(tt);return ht.pipe((0,_.p)(Fe=>Fe.state===ne.zE.ResponsePending),(0,m.s)(1)).subscribe(Fe=>{Fe.state===ne.zE.ResponsePending&&this.refreshRelationshipItemsInCacheByRelationship(De.relationship.id)}),ht}update(De){return this.putData.put(De)}searchByItemsAndType(De,tt,ht,Fe){const Et=[new x.x("typeId",De),new x.x("focusItem",tt),new x.x("relationshipLabel",ht),new x.x("size",Fe.length),new x.x("embed","leftItem"),new x.x("embed","rightItem")];Fe.forEach(pt=>{Et.push(new x.x("relatedItem",pt))});const Ye=this.searchBy("byItemsAndType",{searchParams:Et});return Fe.forEach(pt=>{this.addDependency(Ye,this.itemService.getIDHrefObs(encodeURIComponent(pt)))}),Ye}searchBy(De,tt,ht,Fe,...Et){return this.searchData.searchBy(De,tt,ht,Fe,...Et)}resolveMetadataRepresentation(De,tt,ht){return this.metadataService.isVirtual(De)?this.findById(this.metadataService.virtualValue(De),!0,!1,(0,D.s)("leftItem"),(0,D.s)("rightItem")).pipe((0,G.yd)(),(0,v.n)(Fe=>(0,u.z)(Fe.payload.leftItem,Fe.payload.rightItem).pipe((0,_.p)(([Et,Ye])=>Et.hasCompleted&&Ye.hasCompleted),(0,h.T)(([Et,Ye])=>Et.hasSucceeded&&Ye.hasSucceeded?Ye.hasSucceeded&&Et.payload.id===tt.id?Ye.payload:Ye.payload.id===tt.id?Et.payload:void 0:null),(0,h.T)(Et=>(0,p.a4)(Et)?Object.assign(new K.y(De),Et):Object.assign(new X.Q(ht),De))))):(0,e.of)(Object.assign(new X.Q(ht),De))}static{this.\u0275fac=function(tt){return new(tt||re)(fe.KVO(le.B),fe.KVO(M.o),fe.KVO($.Y),fe.KVO(j.$),fe.KVO(U.T),fe.KVO(Q.ItemDataService),fe.KVO(t.il),fe.KVO(A.ky),fe.KVO(R.vQ))}}static{this.\u0275prov=fe.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}}return re})()},38096:(F,b,n)=>{"use strict";n.r(b),n.d(b,{RelationshipTypeDataService:()=>w});var i=n(84572),t=n(25558),u=n(73028),e=n(56594),h=n(96354),m=n(82777),f=n(67600),v=n(72734),E=n(53954),_=n(41684),C=n(4910),S=n(80183),R=n(49802),T=n(46787),A=n(35108),p=n(32473),L=n(54438);const D=(M,x)=>M.hasSucceeded&&M.payload.label===x;let w=(()=>{class M extends R.L{constructor(j,U,$,k){super("relationshiptypes",j,U,$,k),this.requestService=j,this.rdbService=U,this.objectCache=$,this.halService=k,this.searchData=new A.X(this.linkPath,j,U,$,k,this.responseMsToLive),this.findAllData=new T.H(this.linkPath,j,U,$,k,this.responseMsToLive)}getRelationshipTypeByLabelAndTypes(j,U,$){return this.findAllData.findAll({currentPage:1,elementsPerPage:9999},!0,!0,(0,f.s)("leftType"),(0,f.s)("rightType")).pipe((0,S.yd)(),(0,t.n)(k=>k.payload.page),(0,u.Z)(k=>k.leftwardType===j?this.checkType(k,U,$):k.rightwardType===j?this.checkType(k,$,U):[null]),(0,e.$)(),(0,h.T)(k=>{const K=k.find(X=>(0,m.a4)(X));return(0,m.a4)(K)?K:null}))}checkType(j,U,$){return(0,i.z)([j.leftType.pipe((0,S.qD)()),j.rightType.pipe((0,S.qD)())]).pipe((0,h.T)(([k,K])=>D(k,U)&&D(K,$)?j:null))}searchByEntityType(j,U=!0,$=!0,...k){return this.searchData.searchBy("byEntityType",{searchParams:[new E.x("type",j),new E.x("size",100)]},U,$,...k).pipe((0,S.yd)(),(0,S.Bo)())}static{this.\u0275fac=function(U){return new(U||M)(L.KVO(p.B),L.KVO(v.o),L.KVO(_.$),L.KVO(C.Y))}}static{this.\u0275prov=L.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},1716:(F,b,n)=>{"use strict";n.d(b,{j:()=>t});var i=n(7434);class t{constructor(e,h,m,f,v,E,_){this.timeCompleted=e,this.msToLive=h,this.lastUpdated=m,this.state=f,this.errorMessage=v,this.payload=E,this.statusCode=_}get isRequestPending(){return(0,i.DB)(this.state)}get isResponsePending(){return(0,i.vT)(this.state)}get isError(){return(0,i.bJ)(this.state)}get isSuccess(){return(0,i.oJ)(this.state)}get isErrorStale(){return(0,i.uN)(this.state)}get isSuccessStale(){return(0,i.DF)(this.state)}get isLoading(){return(0,i.VP)(this.state)}get hasFailed(){return(0,i.WN)(this.state)}get hasSucceeded(){return(0,i.yO)(this.state)}get hasCompleted(){return(0,i.Uj)(this.state)}get isStale(){return(0,i.QO)(this.state)}get hasNoContent(){return 204===this.statusCode}}},7434:(F,b,n)=>{"use strict";n.d(b,{DB:()=>t,DF:()=>m,QO:()=>R,Uj:()=>S,VP:()=>E,WN:()=>_,bJ:()=>u,oJ:()=>e,uN:()=>h,vT:()=>f,yO:()=>C,zE:()=>i});var i=function(T){return T.RequestPending="RequestPending",T.ResponsePending="ResponsePending",T.Error="Error",T.Success="Success",T.ResponsePendingStale="ResponsePendingStale",T.ErrorStale="ErrorStale",T.SuccessStale="SuccessStale",T}(i||{});const t=T=>T===i.RequestPending,u=T=>T===i.Error,e=T=>T===i.Success,h=T=>T===i.ErrorStale,m=T=>T===i.SuccessStale,f=T=>T===i.ResponsePending,v=T=>T===i.ResponsePendingStale,E=T=>t(T)||f(T)||v(T),_=T=>{if(!E(T))return u(T)||h(T)},C=T=>{if(!E(T))return e(T)||m(T)},S=T=>!E(T),R=T=>v(T)||m(T)||h(T)},10524:(F,b,n)=>{"use strict";n.d(b,{G:()=>i});class i extends Error{}},96393:(F,b,n)=>{"use strict";n.d(b,{Di:()=>m,Gl:()=>f,HL:()=>v,PW:()=>h,cX:()=>E,tO:()=>t,uw:()=>e});var i=n(91e3);const t={CONFIGURE:(0,i.N)("dspace/core/data/request/CONFIGURE"),EXECUTE:(0,i.N)("dspace/core/data/request/EXECUTE"),SUCCESS:(0,i.N)("dspace/core/data/request/SUCCESS"),ERROR:(0,i.N)("dspace/core/data/request/ERROR"),STALE:(0,i.N)("dspace/core/data/request/STALE"),RESET_TIMESTAMPS:(0,i.N)("dspace/core/data/request/RESET_TIMESTAMPS"),REMOVE:(0,i.N)("dspace/core/data/request/REMOVE")};class u{constructor(){this.lastUpdated=(new Date).getTime()}}class e extends u{constructor(S){super(),this.type=t.CONFIGURE,this.payload=S}}class h extends u{constructor(S){super(),this.type=t.EXECUTE,this.payload=S}}class m extends u{constructor(S,R,T,A){super(),this.type=t.SUCCESS,this.payload={uuid:S,timeCompleted:(new Date).getTime(),statusCode:R,link:T,unCacheableObject:A}}}class f extends u{constructor(S,R,T){super(),this.type=t.ERROR,this.payload={uuid:S,timeCompleted:(new Date).getTime(),statusCode:R,errorMessage:T}}}class v extends u{constructor(S){super(),this.type=t.STALE,this.payload={uuid:S}}}class E{constructor(S){this.type=t.RESET_TIMESTAMPS,this.payload=S}}},43052:(F,b,n)=>{"use strict";n.d(b,{FQ:()=>ne,IL:()=>Ee,QU:()=>re,Dk:()=>tt,$:()=>J,ld:()=>se,IP:()=>q,Wx:()=>X,E0:()=>te,WP:()=>Et,EA:()=>le,Qf:()=>z,v_:()=>Z,Rn:()=>Te,e$:()=>be,aY:()=>me,Iu:()=>ce,_w:()=>Fe,$I:()=>ht,xu:()=>De});var i=n(68552),t=n(41684),u=n(13808),e=n(51538),h=n(54438);let m=(()=>{class Ye extends e.aE{constructor(Mt){super(),this.objectCache=Mt,this.toCache=!1}parse(Mt,Ne){if(this.isSuccessStatus(Ne.statusCode))return new u.hT(Ne.statusCode);throw new Error("Unexpected response from server")}static{this.\u0275fac=function(Ne){return new(Ne||Ye)(h.KVO(t.$))}}static{this.\u0275prov=h.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}}return Ye})();var f=n(82777),v=n(87369),E=n(55451),_=n(393),C=n(98277),S=n(70035),R=n(50800),T=n(7654),A=n(49872);let p=(()=>{class Ye extends A.D3{constructor(Mt){super(Mt),this.objectCache=Mt}deserialize(Mt){const Ne=Mt.browseType;if(Mt.type===v.z.value&&(0,f.a4)(Ne)){let ot;if(Ne===S.L.value)ot=new this.serializerConstructor(C.R);else if(Ne===_.z.value)ot=new this.serializerConstructor(E.P);else{if(Ne!==T.o.value)throw new Error("An error occurred while retrieving the browse definitions.");ot=new this.serializerConstructor(R.f)}return ot.deserialize(Mt)}throw new Error("An error occurred while retrieving the browse definitions.")}static{this.\u0275fac=function(Ne){return new(Ne||Ye)(h.KVO(t.$))}}static{this.\u0275prov=h.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}}return Ye})();var L=n(28580),D=n(45348);class w{}let M=(()=>{class Ye extends A.D3{parse(Mt,Ne){const ot=Ne.payload,Gt=new L.T(D.Z).deserialize(ot);let Zt=[];return ot._embedded&&ot._embedded.harvestermetadata&&ot._embedded.harvestermetadata.configs&&(Zt=new L.T(w).serializeArray(ot._embedded.harvestermetadata.configs)),Gt.metadataConfigs=Zt,this.addToObjectCache(Gt,Mt,Ne),new u.hT(Ne.statusCode,Gt._links.self)}static{this.\u0275fac=(()=>{let Mt;return function(ot){return(Mt||(Mt=h.xGo(Ye)))(ot||Ye)}})()}static{this.\u0275prov=h.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}}return Ye})();var x=n(88280),j=n(21921);let U=(()=>{class Ye extends A.D3{parse(Mt,Ne){try{Ne=this.ensureSelfLink(Mt,Ne);const ot=this.process(Ne.payload,Mt);if((0,f.a4)(ot)){const Gt=ot.type;let Zt;return(0,f.a4)(Gt)&&(Zt=(0,j.Qt)(Gt)),(0,A.k_)(ot)&&(0,f.a4)(Zt)?new u.hT(Ne.statusCode,ot._links.self):new u.hT(Ne.statusCode,void 0,ot)}return new u.hT(Ne.statusCode)}catch{return console.warn(`Couldn't parse endpoint request at ${Mt.href}`),new u.hT(Ne.statusCode,void 0,{_links:Ne.payload._links})}}deserialize(Mt){const Ne=Mt.type;if((0,f.a4)(Ne)){const ot=(0,j.Qt)(Ne);if((0,f.a4)(ot))return new this.serializerConstructor(ot).deserialize(Mt)}return Mt}addToObjectCache(Mt,Ne,ot,Gt){if(!(0,A.k_)(Mt)){const Zt=(0,f.a4)(ot)&&(0,f.a4)(ot.type)?ot.type:"object";let mt;return mt=(0,f.a4)(ot._embedded)?JSON.stringify(Object.assign({},ot,{_embedded:"..."})):JSON.stringify(ot),void console.warn(`Can't cache incomplete ${Zt}: ${JSON.stringify(Mt)}, parsed from (partial) response: ${mt}`)}(0,f.a4)(this.getConstructorFor(Mt.type))&&this.objectCache.add(Mt,(0,f.a4)(Ne.responseMsToLive)?Ne.responseMsToLive:x.c.cache.msToLive.default,Ne.uuid,Gt)}static{this.\u0275fac=(()=>{let Mt;return function(ot){return(Mt||(Mt=h.xGo(Ye)))(ot||Ye)}})()}static{this.\u0275prov=h.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}}return Ye})();var $=n(43377);class k{constructor(pt,Mt,Ne=$.D.GET,ot,Gt){this.uuid=pt,this.href=Mt,this.method=Ne,this.body=ot,this.options=Gt,this.responseMsToLive=x.c.cache.msToLive.default,this.isMultipart=!1}}class K extends k{}var X=function(Ye){return Ye.UUID="uuid",Ye.HANDLE="handle",Ye}(X||{});class G extends K{getResponseParser(){return A.D3}}class q extends G{constructor(pt,Mt,Ne,ot){super(pt,Mt,$.D.GET,Ne,ot),this.uuid=pt,this.href=Mt,this.body=Ne,this.options=ot}}class z extends G{constructor(pt,Mt,Ne,ot){super(pt,Mt,$.D.POST,Ne),this.uuid=pt,this.href=Mt,this.body=Ne,this.options=ot}}class te extends G{constructor(pt,Mt,Ne,ot){super(pt,Mt,$.D.POST,Ne),this.uuid=pt,this.href=Mt,this.body=Ne,this.options=ot,this.isMultipart=!0}}class Z extends G{constructor(pt,Mt,Ne,ot){super(pt,Mt,$.D.PUT,Ne),this.uuid=pt,this.href=Mt,this.body=Ne,this.options=ot}}class J extends G{constructor(pt,Mt,Ne,ot){super(pt,Mt,$.D.DELETE,Ne),this.uuid=pt,this.href=Mt,this.body=Ne,this.options=ot}}class le extends G{constructor(pt,Mt,Ne,ot){super(pt,Mt,$.D.PATCH,Ne),this.uuid=pt,this.href=Mt,this.body=Ne,this.options=ot}}class ne extends G{getResponseParser(){return p}}class se extends q{getResponseParser(){return U}}class ce extends q{constructor(pt,Mt){super(pt,Mt)}getResponseParser(){return i.BE}}class Te extends J{constructor(pt,Mt){super(pt,Mt),this.uuid=pt,this.href=Mt}getResponseParser(){return i.BE}}class be extends le{constructor(pt,Mt,Ne){super(pt,Mt,Ne),this.uuid=pt,this.href=Mt,this.body=Ne}getResponseParser(){return i.BE}}class me extends z{constructor(pt,Mt,Ne,ot){super(pt,Mt,Ne,ot),this.uuid=pt,this.href=Mt,this.body=Ne,this.options=ot}getResponseParser(){return i.BE}}class re extends z{constructor(pt,Mt,Ne,ot){super(pt,Mt,Ne,ot),this.body=Ne,this.options=ot}}class Ee extends q{constructor(pt,Mt){super(pt,Mt)}getResponseParser(){return M}}class De extends Z{constructor(pt,Mt,Ne,ot){super(pt,Mt,Ne,ot),this.body=Ne,this.options=ot}getResponseParser(){return M}}class tt extends J{constructor(pt,Mt,Ne){super(pt,Mt),this.resourceID=Ne}}class ht extends z{constructor(pt,Mt,Ne,ot){super(pt,Mt,Ne,ot),this.body=Ne,this.options=ot}getResponseParser(){return m}}class Fe extends J{constructor(pt,Mt,Ne,ot){super(pt,Mt,Ne,ot),this.body=Ne,this.options=ot}getResponseParser(){return m}}class Et extends q{constructor(){super(...arguments),this.responseMsToLive=1e4}}},32473:(F,b,n)=>{"use strict";n.d(b,{B:()=>te});var i=n(21626),t=n(25499),u=n(84418),e=n.n(u),h=n(25007),m=n(22806),f=n(96697),v=n(96354),E=n(88141),_=n(25558),C=n(73028),S=n(47677),R=n(56594),T=n(5964),A=n(82777),p=n(41684),L=n(78394),D=n(47797),w=n(69227),M=n(96393),x=n(7434),j=n(43377),U=n(54438),$=n(30164);const k=(0,t.Mz)(D.N,Z=>Z["data/request"]),z=Z=>{if((0,A.Tn)(Z))return!1;if((0,x.VP)(Z.state))return!0;if((0,x.QO)(Z.state))return!1;{const J=Z.response.timeCompleted+Z.request.responseMsToLive;return!((new Date).getTime()>J)}};let te=(()=>{class Z{constructor(Q,ee,le){this.objectCache=Q,this.uuidService=ee,this.store=le,this.requestsOnTheirWayToTheStore=[]}generateRequestId(){return`client/${this.uuidService.generate()}`}isPending(Q){if(Q.method!==j.D.GET)return!1;if(this.requestsOnTheirWayToTheStore.includes(Q.href))return!0;let ee=!1;return this.getByHref(Q.href).pipe((0,f.s)(1)).subscribe(le=>{ee=(0,A.a4)(le)&&(0,x.VP)(le.state)&&!(0,x.QO)(le.state)}),ee}getByUUID(Q){return this.store.pipe((0,t.Lt)((Z=>(0,t.Mz)(k,J=>(0,A.a4)(J)?J[Z]:void 0))(Q)),this.fixRequestHeaders(),this.checkStale())}fixRequestHeaders(){return Q=>Q.pipe((0,v.T)(ee=>((0,A.a4)(ee)&&(0,A.a4)(ee.request)&&(0,A.a4)(ee.request.options)&&(0,A.a4)(ee.request.options.headers)&&((ee=e()(ee)).request.options.headers=Object.assign(new i.Lr,ee.request.options.headers)),ee)))}checkStale(){return Q=>Q.pipe((0,E.M)(ee=>{(0,A.a4)(ee)&&(0,A.a4)(ee.request)&&!(0,x.QO)(ee.state)&&!z(ee)&&h.$.schedule(()=>this.store.dispatch(new M.HL(ee.request.uuid)))}))}getByHref(Q){return this.store.pipe((0,t.Lt)((Z=>(0,t.Mz)(w.bS,k,(J,Q)=>{let ee;if((0,A.a4)(J))return ee=J[(0,w.tJ)(Z)],(0,A.a4)(Q)?Q[ee]:void 0}))(Q)),this.fixRequestHeaders(),this.checkStale())}send(Q,ee=!1){return ee&&Q.method!==j.D.GET&&console.warn(`${JSON.stringify(Q,null,2)} is not a GET request. In general only GET requests should reuse cached data.`),!!this.shouldDispatchRequest(Q,ee)&&(this.dispatchRequest(Q),Q.method===j.D.GET&&this.trackRequestsOnTheirWayToTheStore(Q),!0)}uriEncodeBody(Q){let ee="";return(0,A.hj)(Q)&&"object"==typeof Q&&Object.keys(Q).forEach(le=>{const ne=encodeURIComponent(le);if(Array.isArray(Q[le]))for(const fe of Q[le]){const ce=`${ne}=${encodeURIComponent(fe)}`;ee=(0,A.Im)(ee)?ee.concat(ce):ee.concat("&",ce)}else{const se=`${ne}=${encodeURIComponent(Q[le])}`;ee=(0,A.Im)(ee)?ee.concat(se):ee.concat("&",se)}}),ee}removeByHrefSubstring(Q){return this.setStaleByHrefSubstring(Q)}setStaleByHrefSubstring(Q){const ee=this.store.pipe((0,t.Lt)(((Z,J)=>(0,t.Mz)(Z,Q=>((Z,J)=>{let Q=[];return(0,A.hj)(Z)&&(Q=Object.keys(Z).filter(ee=>ee.includes(J)).map(ee=>Z[ee])),Q})(Q,J)))(w.bS,Q)),(0,f.s)(1));return ee.subscribe(le=>{for(const ne of le)this.store.dispatch(new M.HL(ne))}),this.requestsOnTheirWayToTheStore=this.requestsOnTheirWayToTheStore.filter(le=>le.indexOf(Q)<0),ee.pipe((0,_.n)(le=>(0,A.Im)(le)?[!0]:(0,m.H)(le).pipe((0,C.Z)(ne=>this.getByUUID(ne)),(0,v.T)(ne=>(0,A.Tn)(ne)||(0,x.QO)(ne.state)),(0,S.I)(ne=>!0===ne),(0,R.$)(),(0,v.T)(()=>!0))))}setStaleByUUID(Q){return this.store.dispatch(new M.HL(Q)),this.getByUUID(Q).pipe((0,v.T)(ee=>(0,x.QO)(ee.state)),(0,T.p)(ee=>ee),(0,f.s)(1))}setStaleByHref(Q){const ee=this.getByHref(Q);return ee.pipe((0,T.p)(le=>(0,A.hj)(le)),(0,v.T)(le=>le.request.uuid),(0,f.s)(1)).subscribe(le=>{this.store.dispatch(new M.HL(le))}),ee.pipe((0,v.T)(le=>(0,x.QO)(le.state)),(0,T.p)(le=>le),(0,f.s)(1))}shouldDispatchRequest(Q,ee){if(Q.method!==j.D.GET)return!0;if(this.isPending(Q))return!1;if(ee){const le=(0,w.tJ)(Q.href);if(!0===this.hasByHref(le))return!1;{let ne=!1;return this.objectCache.getByHref(le).subscribe(fe=>{ne=this.hasByUUID(fe.requestUUIDs[0])}).unsubscribe(),!ne}}return!0}dispatchRequest(Q){h.$.schedule(()=>{this.store.dispatch(new M.uw(Q)),this.store.dispatch(new M.PW(Q.uuid))})}trackRequestsOnTheirWayToTheStore(Q){this.requestsOnTheirWayToTheStore=[...this.requestsOnTheirWayToTheStore,Q.href],this.getByHref(Q.href).pipe((0,T.p)(ee=>(0,A.a4)(ee)&&(0,A.a4)(ee.request)&&ee.request.uuid===Q.uuid),(0,f.s)(1)).subscribe(ee=>{this.requestsOnTheirWayToTheStore=this.requestsOnTheirWayToTheStore.filter(le=>le!==Q.href)})}commit(Q){this.store.dispatch(new L.eR(Q))}hasByHref(Q,ee=!0){let le=!1;return this.hasByHref$(Q,ee).subscribe(ne=>le=ne).unsubscribe(),le}hasByHref$(Q,ee=!0){return this.getByHref(Q).pipe((0,v.T)(le=>ee?z(le):(0,A.a4)(le)))}hasByUUID(Q,ee=!0){let le=!1;return this.hasByUUID$(Q,ee).subscribe(ne=>le=ne).unsubscribe(),le}hasByUUID$(Q,ee=!0){return this.getByUUID(Q).pipe((0,v.T)(le=>ee?z(le):(0,A.a4)(le)))}static{this.\u0275fac=function(ee){return new(ee||Z)(U.KVO(p.$),U.KVO($.v),U.KVO(t.il))}}static{this.\u0275prov=U.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}return Z})()},43377:(F,b,n)=>{"use strict";n.d(b,{D:()=>i});var i=function(t){return t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE",t.OPTIONS="OPTIONS",t.HEAD="HEAD",t.PATCH="PATCH",t}(i||{})},29443:(F,b,n)=>{"use strict";n.r(b),n.d(b,{RootDataService:()=>C});var i=n(7673),t=n(99437),u=n(96354),e=n(72734),h=n(41684),m=n(4910),f=n(80183),v=n(49802),E=n(32473),_=n(54438);let C=(()=>{class S extends v.L{constructor(T,A,p,L){super("",T,A,p,L,216e5),this.requestService=T,this.rdbService=A,this.objectCache=p,this.halService=L}checkServerAvailability(){return this.findRoot().pipe((0,t.W)(T=>(console.error(T),(0,i.of)(!1))),(0,f.qD)(),(0,u.T)(T=>200===T.statusCode))}findRoot(T=!0,A=!0,...p){return this.findByHref(this.halService.getRootHref(),T,A,...p)}invalidateRootCache(){this.requestService.setStaleByHref(this.halService.getRootHref())}static{this.\u0275fac=function(A){return new(A||S)(_.KVO(E.B),_.KVO(e.o),_.KVO(h.$),_.KVO(m.Y))}}static{this.\u0275prov=_.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},44701:(F,b,n)=>{"use strict";n.d(b,{z:()=>v});var i=n(82777),t=n(1102),u=n(13808),e=n(28580),h=n(14391),m=n(49872),f=n(54438);let v=(()=>{class E extends m.D3{parse(C,S){const T=S.payload._embedded.searchResult||{_embedded:{objects:[]}};T.appliedFilters=S.payload.appliedFilters,T.sort=S.payload.sort,T.scope=S.payload.scope,T.configuration=S.payload.configuration;const A=T._embedded.objects.map(w=>w.hitHighlights).map(w=>{const M={};if(w)for(const x of Object.keys(w)){const j=Object.assign(new h.vD,{value:w[x].join("..."),language:null});M[x]=[j]}return M}),p=T._embedded.objects.filter(w=>(0,i.a4)(w._embedded)).map(w=>w._embedded.indexableObject).map(w=>this.process(w,C)).map(w=>w._links.self.href).reduce((w,M)=>[...w,M],[]),L=T._embedded.objects.filter(w=>(0,i.a4)(w._embedded)).map((w,M)=>Object.assign({},w,{indexableObject:p[M],hitHighlights:A[M]}));T.objects=L;const D=new e.T(t.n).deserialize(T);return D.pageInfo=this.processPageInfo(T),this.addToObjectCache(D,C,S),new u.hT(S.statusCode,D._links.self)}static{this.\u0275fac=(()=>{let C;return function(R){return(C||(C=f.xGo(E)))(R||E)}})()}static{this.\u0275prov=f.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},5090:(F,b,n)=>{"use strict";n.r(b),n.d(b,{SiteDataService:()=>_});var i=n(96354),t=n(72734),u=n(41684),e=n(4910),h=n(80183),m=n(49802),f=n(46787),v=n(32473),E=n(54438);let _=(()=>{class C extends m.L{constructor(R,T,A,p){super("sites",R,T,A,p),this.requestService=R,this.rdbService=T,this.objectCache=A,this.halService=p,this.findAllData=new f.H(this.linkPath,R,T,A,p,this.responseMsToLive)}find(){return this.findAll().pipe((0,h.yd)(),(0,i.T)(R=>R.payload),(0,i.T)(R=>R.page[0]))}findAll(R,T,A,...p){return this.findAllData.findAll(R,T,A,...p)}static{this.\u0275fac=function(T){return new(T||C)(E.KVO(v.B),E.KVO(t.o),E.KVO(u.$),E.KVO(e.Y))}}static{this.\u0275prov=E.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},14410:(F,b,n)=>{"use strict";n.d(b,{M:()=>u});var i=n(13808),t=n(54438);let u=(()=>{class e{parse(m,f){return new i.Ku(f.statusCode>=200&&f.statusCode<300,f.statusCode,f.statusText)}static{this.\u0275fac=function(f){return new(f||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},27795:(F,b,n)=>{"use strict";n.r(b),n.d(b,{SystemWideAlertDataService:()=>S});var i=n(39806),t=n(72734),u=n(41684),e=n(4910),h=n(39280),m=n(46787),f=n(63897),v=n(91967),E=n(35108),_=n(32473),C=n(54438);let S=(()=>{class R extends f.W{constructor(A,p,L,D,w){super("systemwidealerts",A,p,L,D),this.requestService=A,this.rdbService=p,this.objectCache=L,this.halService=D,this.notificationsService=w,this.findAllData=new m.H(this.linkPath,A,p,L,D,this.responseMsToLive),this.createData=new h.V(this.linkPath,A,p,L,D,w,this.responseMsToLive),this.putData=new v.W(this.linkPath,A,p,L,D,this.responseMsToLive),this.searchData=new E.X(this.linkPath,A,p,L,D,this.responseMsToLive)}findAll(A,p,L,...D){return this.findAllData.findAll(A,p,L,...D)}create(A,...p){return this.createData.create(A,...p)}put(A){return this.putData.put(A)}searchBy(A,p,L,D,...w){return this.searchData.searchBy(A,p,L,D,...w)}static{this.\u0275fac=function(p){return new(p||R)(C.KVO(_.B),C.KVO(t.o),C.KVO(u.$),C.KVO(e.Y),C.KVO(i.I))}}static{this.\u0275prov=C.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},52749:(F,b,n)=>{"use strict";n.r(b),n.d(b,{WorkflowActionDataService:()=>f});var i=n(72734),t=n(41684),u=n(4910),e=n(63897),h=n(32473),m=n(54438);let f=(()=>{class v extends e.W{constructor(_,C,S,R){super("workflowactions",_,C,S,R),this.requestService=_,this.rdbService=C,this.objectCache=S,this.halService=R,this.linkPath="workflowactions"}static{this.\u0275fac=function(C){return new(C||v)(m.KVO(h.B),m.KVO(i.o),m.KVO(t.$),m.KVO(u.Y))}}static{this.\u0275prov=m.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},53778:(F,b,n)=>{"use strict";n.d(b,{Y:()=>_});var i=n(21626),t=n(18810),u=n(96354),e=n(99437),h=n(82777),m=n(10524),f=n(43377),v=n(54438);const E="application/json; charset=utf-8";let _=(()=>{class C{constructor(R){this.http=R}get(R){const T={observe:"response",headers:new i.Lr({"Content-Type":E})};return this.http.get(R,T).pipe((0,u.T)(A=>({payload:A.body,statusCode:A.status,statusText:A.statusText})),(0,e.W)(A=>(0,t.$)(()=>(console.log("Error: ",A),this.handleHttpError(A)))))}request(R,T,A,p,L){const D={};return D.body=A,R===f.D.POST&&(0,h.hj)(A)&&(0,h.hj)(A.name)&&(D.body=this.buildFormData(A)),D.observe="response",p&&p.responseType&&(D.responseType=p.responseType),D.headers=(0,h.Tn)(p)||(0,h.Tn)(p.headers)?new i.Lr:p.headers,p&&p.params&&(D.params=p.params),p&&p.withCredentials&&(D.withCredentials=p.withCredentials),!D.headers.has("Content-Type")&&!L&&(D.headers=D.headers.set("Content-Type",E)),this.http.request(R,T,D).pipe((0,u.T)(w=>({payload:w.body,headers:w.headers,statusCode:w.status,statusText:w.statusText})),(0,e.W)(w=>(0,t.$)(()=>this.handleHttpError(w))))}buildFormData(R){const T=new FormData;if(T.append("name",R.name),R.metadata)for(const A of Object.keys(R.metadata))for(const p of R.allMetadataValues(A))T.append(A,p);return T}handleHttpError(R){if(R instanceof i.yz){const T=new m.G((0,h.hj)(R?.error?.message)?R.error.message:R.message);return T.statusCode=R.status,T.statusText=R.statusText,T}return console.error("Cannot construct RequestError from",R),R}static{this.\u0275fac=function(T){return new(T||C)(v.KVO(i.Qq))}}static{this.\u0275prov=v.jDH({token:C,factory:C.\u0275fac})}}return C})()},28580:(F,b,n)=>{"use strict";n.d(b,{T:()=>t});var i=n(74850);class t{constructor(e){this.modelType=e}serialize(e){return(0,i.Serialize)(e,this.modelType)}serializeArray(e){return(0,i.Serialize)(e,this.modelType)}deserialize(e){if(Array.isArray(e))throw new Error("Expected a single model, use deserializeArray() instead");return(0,i.Deserialize)(e,this.modelType)}deserializeArray(e){if(!Array.isArray(e))throw new Error("Expected an Array, use deserialize() instead");return(0,i.Deserialize)(e,this.modelType)}}},17366:(F,b,n)=>{"use strict";n.d(b,{e:()=>m});var i=n(54438),t=n(7901),u=n(7673),e=n(88280),h=n(308);const m=f=>(v,E)=>{const _=(0,i.WQX)(t.Ix);return e.c.info.enableEndUserAgreement?f().pipe((0,h.gM)(_,E.url)):(0,u.of)(!0)}},3636:(F,b,n)=>{"use strict";n.d(b,{GH:()=>R,Mk:()=>S});var i=n(7673),t=n(25558),u=n(96354),e=n(96697),h=n(82777),m=n(67116),f=n(74449),v=n(93130),E=n(80183),_=n(54438);const C="hasAgreedEndUser",S="dspace.agreements.end-user";let R=(()=>{class T{constructor(p,L,D){this.cookie=p,this.authService=L,this.ePersonService=D}hasCurrentUserOrCookieAcceptedAgreement(p){return this.isCookieAccepted()?(0,i.of)(!0):this.hasCurrentUserAcceptedAgreement(p)}hasCurrentUserAcceptedAgreement(p){return this.authService.isAuthenticated().pipe((0,t.n)(L=>L?this.authService.getAuthenticatedUserFromStore().pipe((0,u.T)(D=>(0,h.a4)(D)&&D.hasMetadata(S)&&"true"===D.firstMetadata(S).value)):(0,i.of)(p)))}setUserAcceptedAgreement(p){return this.authService.isAuthenticated().pipe((0,t.n)(L=>L?this.authService.getAuthenticatedUserFromStore().pipe((0,e.s)(1),(0,t.n)(D=>{const w={value:String(p)};let M;return M=D.hasMetadata(S)?{op:"replace",path:`/metadata/${S}/0`,value:w}:{op:"add",path:`/metadata/${S}`,value:[w]},this.ePersonService.patch(D,[M])}),(0,E.qD)(),(0,u.T)(D=>D.hasSucceeded)):(this.setCookieAccepted(p),(0,i.of)(!0))),(0,e.s)(1))}isCookieAccepted(){return!0===this.cookie.get(C)}setCookieAccepted(p){this.cookie.set(C,p)}removeCookieAccepted(){this.cookie.remove(C)}static{this.\u0275fac=function(L){return new(L||T)(_.KVO(v.O),_.KVO(m.uR),_.KVO(f.EPersonDataService))}}static{this.\u0275prov=_.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},74449:(F,b,n)=>{"use strict";n.r(b),n.d(b,{EPersonDataService:()=>q,editEPersonSelector:()=>G});var i=n(25499),t=n(96354),u=n(96697),e=n(47677),h=n(25093),m=n(19353),f=n(82777),v=n(39806),E=n(72734),_=n(53954),C=n(41684),S=n(39280),R=n(13617),T=n(63897),A=n(87158),p=n(35108),L=n(12598),D=n(41023),w=n(96820),M=n(1716),x=n(43052),j=n(32473),U=n(4910),$=n(80183),k=n(32089),K=n(54438);const G=(0,i.Mz)(z=>z.epeopleRegistry,z=>z.editEPerson);let q=(()=>{class z extends T.W{constructor(Z,J,Q,ee,le,ne,fe){super("epersons",Z,J,Q,ee),this.requestService=Z,this.rdbService=J,this.objectCache=Q,this.halService=ee,this.comparator=le,this.notificationsService=ne,this.store=fe,this.searchByEmailPath="byEmail",this.searchByMetadataPath="byMetadata",this.createData=new S.V(this.linkPath,Z,J,Q,ee,ne,this.responseMsToLive),this.searchData=new p.X(this.linkPath,Z,J,Q,ee,this.responseMsToLive),this.patchData=new A.n(this.linkPath,Z,J,Q,ee,le,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new R.I(this.linkPath,Z,J,Q,ee,ne,this.responseMsToLive,this.constructIdEndpoint)}searchByScope(Z,J,Q={},ee,le=!0){switch(Z){case"metadata":default:return this.getEpeopleByMetadata(J.trim(),Q,ee,le);case"email":return this.getEPersonByEmail(J.trim(),ee,le).pipe((0,t.T)(ne=>{if(ne.hasSucceeded){let fe;return fe=204===ne.statusCode||(0,f.Tn)(ne.payload)?[]:[ne.payload],new M.j(ne.timeCompleted,ne.msToLive,ne.lastUpdated,ne.state,ne.errorMessage,(0,w.g)(new k.Q({elementsPerPage:Q.elementsPerPage,totalElements:fe.length,totalPages:fe.length,currentPage:1}),fe),ne.statusCode)}return ne}))}}getEPersonByEmail(Z,J=!0,Q=!0,...ee){const le=new D._;le.searchParams=[new _.x("email",Z)];const ne=this.searchData.getSearchByHref(this.searchByEmailPath,le,...ee);return this.findByHref(ne,J,Q,...ee)}getEpeopleByMetadata(Z,J,Q=!0,ee=!0,...le){const ne=[new _.x("query",Z)];return this.getEPeopleBy(ne,this.searchByMetadataPath,J,Q,ee,...le)}getEPeopleBy(Z,J,Q,ee=!0,le=!0,...ne){let fe=new D._;return Q&&(fe=Object.assign(new D._,Q)),fe.searchParams=fe.searchParams?[...fe.searchParams,...Z]:Z,this.searchBy(J,fe,ee,le,...ne)}searchNonMembers(Z,J,Q,ee=!0,le=!0,...ne){const fe=[new _.x("query",Z),new _.x("group",J)];let se=new D._;return Q&&(se=Object.assign(new D._,Q)),se.searchParams=se.searchParams?[...se.searchParams,...fe]:fe,this.searchBy("isNotMemberOf",se,ee,le,...ne)}updateEPerson(Z){const J=this.requestService.generateRequestId();return this.findByHref(Z._links.self.href,!0,!1).pipe((0,$.yd)(),(0,$.Bo)(),(0,u.s)(1)).subscribe(ee=>{const le=this.generateOperations(ee,Z),ne=new x.EA(J,Z._links.self.href,le);return this.requestService.send(ne)}),this.rdbService.buildFromRequestUUID(J)}generateOperations(Z,J){let Q=this.comparator.diff(Z,J).filter(ee=>"replace"===ee.op);return(0,f.a4)(Z.email)&&Z.email!==J.email&&(Q=[...Q,{op:"replace",path:"/email",value:J.email}]),(0,f.a4)(Z.requireCertificate)&&Z.requireCertificate!==J.requireCertificate&&(Q=[...Q,{op:"replace",path:"/certificate",value:J.requireCertificate}]),(0,f.a4)(Z.canLogIn)&&Z.canLogIn!==J.canLogIn&&(Q=[...Q,{op:"replace",path:"/canLogIn",value:J.canLogIn}]),Q}clearEPersonRequests(){this.getBrowseEndpoint().pipe((0,u.s)(1)).subscribe(Z=>{this.requestService.removeByHrefSubstring(Z)})}clearLinkRequests(Z){this.requestService.setStaleByHrefSubstring(Z)}getActiveEPerson(){return this.store.pipe((0,i.Lt)(G))}cancelEditEPerson(){this.store.dispatch(new m.oQ)}editEPerson(Z){this.store.dispatch(new m._c(Z))}deleteEPerson(Z){return this.delete(Z.id)}startEditingNewEPerson(Z){return this.getActiveEPerson().pipe((0,u.s)(1)).subscribe(J=>{Z===J?this.cancelEditEPerson():this.editEPerson(Z)}),(0,h.Ax)(Z.id)}createEPersonForToken(Z,J){const Q=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,t.T)(le=>`${le}?token=${J}`)).pipe((0,e.I)(le=>(0,f.a4)(le))).subscribe(le=>{const ne=new x.Qf(Q,le,Z);this.requestService.send(ne)}),this.rdbService.buildFromRequestUUID(Q)}patchPasswordWithToken(Z,J,Q){const ee=this.requestService.generateRequestId(),le=Object.assign({op:"add",path:"/password",value:{new_password:Q}});return this.halService.getEndpoint(this.linkPath).pipe((0,t.T)(fe=>this.getIDHref(fe,Z)),(0,t.T)(fe=>`${fe}?token=${J}`)).pipe((0,e.I)(fe=>(0,f.a4)(fe))).subscribe(fe=>{const se=new x.EA(ee,fe,[le]);this.requestService.send(se)}),this.rdbService.buildFromRequestUUID(ee)}create(Z,...J){return this.createData.create(Z,...J)}searchBy(Z,J,Q,ee,...le){return this.searchData.searchBy(Z,J,Q,ee,...le)}createPatchFromCache(Z){return this.patchData.createPatchFromCache(Z)}patch(Z,J){return this.patchData.patch(Z,J)}update(Z){return this.patchData.update(Z)}commitUpdates(Z){this.patchData.commitUpdates(Z)}delete(Z,J){return this.deleteData.delete(Z,J)}deleteByHref(Z,J){return this.deleteData.deleteByHref(Z,J)}static{this.\u0275fac=function(J){return new(J||z)(K.KVO(j.B),K.KVO(E.o),K.KVO(C.$),K.KVO(U.Y),K.KVO(L.j),K.KVO(v.I),K.KVO(i.il))}}static{this.\u0275prov=K.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})()},44494:(F,b,n)=>{"use strict";n.r(b),n.d(b,{GroupDataService:()=>X});var i=n(21626),t=n(25499),u=n(44437),e=n(96697),h=n(25093),m=n(85255),f=n(39806),v=n(96526),E=n(72734),_=n(53954),C=n(41684),S=n(39280),R=n(13617),T=n(63897),A=n(87158),p=n(35108),L=n(12598),D=n(41023),w=n(43052),M=n(32473),x=n(4910),j=n(80183),U=n(31924),$=n(54438);const K=(0,t.Mz)(G=>G.groupRegistry,G=>G.editGroup);let X=(()=>{class G extends T.W{constructor(z,te,Z,J,Q,ee,le,ne){super("groups",z,te,Z,J),this.requestService=z,this.rdbService=te,this.objectCache=Z,this.halService=J,this.comparator=Q,this.notificationsService=ee,this.nameService=le,this.store=ne,this.browseEndpoint="",this.ePersonsEndpoint="epersons",this.subgroupsEndpoint="subgroups",this.createData=new S.V(this.linkPath,z,te,Z,J,ee,this.responseMsToLive),this.searchData=new p.X(this.linkPath,z,te,Z,J,this.responseMsToLive),this.patchData=new A.n(this.linkPath,z,te,Z,J,Q,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new R.I(this.linkPath,z,te,Z,J,ee,this.responseMsToLive,this.constructIdEndpoint)}searchGroups(z,te,Z=!0,J=!0,...Q){const ee=[new _.x("query",z)];let le=new D._;return te&&(le=Object.assign(new D._,te)),le.searchParams=le.searchParams?[...le.searchParams,...ee]:ee,this.searchBy("byMetadata",le,Z,J,...Q)}searchNonMemberGroups(z,te,Z,J=!0,Q=!0,...ee){const le=[new _.x("query",z),new _.x("group",te)];let ne=new D._;return Z&&(ne=Object.assign(new D._,Z)),ne.searchParams=ne.searchParams?[...ne.searchParams,...le]:le,this.searchBy("isNotMemberOf",ne,J,Q,...ee)}addSubGroupToGroup(z,te){const Z=this.requestService.generateRequestId(),J=Object.create({});let Q=new i.Lr;Q=Q.append("Content-Type","text/uri-list"),J.headers=Q;const ee=new w.Qf(Z,z.self+"/"+this.subgroupsEndpoint,te.self,J);return this.requestService.send(ee),this.rdbService.buildFromRequestUUIDAndAwait(Z,()=>(0,u.y)(this.invalidateByHref(z._links.self.href),this.requestService.setStaleByHrefSubstring(z._links.subgroups.href).pipe((0,e.s)(1))))}deleteSubGroupFromGroup(z,te){const Z=this.requestService.generateRequestId(),J=new w.$(Z,z.self+"/"+this.subgroupsEndpoint+"/"+te.id);return this.requestService.send(J),this.rdbService.buildFromRequestUUIDAndAwait(Z,()=>(0,u.y)(this.invalidateByHref(z._links.self.href),this.requestService.setStaleByHrefSubstring(z._links.subgroups.href).pipe((0,e.s)(1))))}addMemberToGroup(z,te){const Z=this.requestService.generateRequestId(),J=Object.create({});let Q=new i.Lr;Q=Q.append("Content-Type","text/uri-list"),J.headers=Q;const ee=new w.Qf(Z,z.self+"/"+this.ePersonsEndpoint,te.self,J);return this.requestService.send(ee),this.rdbService.buildFromRequestUUIDAndAwait(Z,()=>(0,u.y)(this.invalidateByHref(te._links.self.href),this.requestService.setStaleByHrefSubstring(te._links.groups.href).pipe((0,e.s)(1)),this.requestService.setStaleByHrefSubstring(z._links.epersons.href).pipe((0,e.s)(1))))}deleteMemberFromGroup(z,te){const Z=this.requestService.generateRequestId(),J=new w.$(Z,z.self+"/"+this.ePersonsEndpoint+"/"+te.id);return this.requestService.send(J),this.rdbService.buildFromRequestUUIDAndAwait(Z,()=>(0,u.y)(this.invalidateByHref(te._links.self.href),this.requestService.setStaleByHrefSubstring(te._links.groups.href).pipe((0,e.s)(1)),this.requestService.setStaleByHrefSubstring(z._links.epersons.href).pipe((0,e.s)(1))))}getActiveGroup(){return this.store.pipe((0,t.Lt)(K))}cancelEditGroup(){this.store.dispatch(new m.Sb)}editGroup(z){this.store.dispatch(new m.C(z))}clearGroupsRequests(){this.getBrowseEndpoint().pipe((0,e.s)(1)).subscribe(z=>{this.requestService.removeByHrefSubstring(z)})}clearGroupLinkRequests(z){this.requestService.setStaleByHrefSubstring(z)}getGroupRegistryRouterLink(){return"/access-control/groups"}startEditingNewGroup(z){return this.getActiveGroup().pipe((0,e.s)(1)).subscribe(te=>{z===te?this.cancelEditGroup():this.editGroup(z)}),this.getGroupEditPageRouterLinkWithID(z.id)}getGroupEditPageRouterLink(z){return(0,h.xl)(z.id)}getGroupEditPageRouterLinkWithID(z){return(0,h.xl)(z)}getUUIDFromString(z){let te="";const Z=z.match(/[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}/g);return null!=Z&&(te=Z[0]),te}createComcolGroup(z,te,Z){const J=this.requestService.generateRequestId(),Q=Object.assign(new U.Y,{metadata:{"dc.description":[{value:`${this.nameService.getName(z)} ${te} group`}]}});this.requestService.send(new w.QU(J,Z,JSON.stringify(Q)));const ee=this.rdbService.buildFromRequestUUID(J).pipe((0,j.qD)());return ee.subscribe(le=>{le.hasSucceeded&&this.requestService.removeByHrefSubstring(Z)}),ee}deleteComcolGroup(z){const te=this.requestService.generateRequestId();this.requestService.send(new w.$(te,z));const Z=this.rdbService.buildFromRequestUUID(te).pipe((0,j.qD)());return Z.subscribe(J=>{J.hasSucceeded&&this.requestService.removeByHrefSubstring(z)}),Z}create(z,...te){return this.createData.create(z,...te)}searchBy(z,te,Z,J,...Q){return this.searchData.searchBy(z,te,Z,J,...Q)}createPatchFromCache(z){return this.patchData.createPatchFromCache(z)}patch(z,te){return this.patchData.patch(z,te)}update(z){return this.patchData.update(z)}commitUpdates(z){this.patchData.commitUpdates(z)}delete(z,te){return this.deleteData.delete(z,te)}deleteByHref(z,te){return this.deleteData.deleteByHref(z,te)}static{this.\u0275fac=function(te){return new(te||G)($.KVO(M.B),$.KVO(E.o),$.KVO(C.$),$.KVO(x.Y),$.KVO(L.j),$.KVO(f.I),$.KVO(v.f),$.KVO(t.il))}}static{this.\u0275prov=$.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})()},79145:(F,b,n)=>{"use strict";n.d(b,{h:()=>i});class i{}},26349:(F,b,n)=>{"use strict";n.d(b,{f:()=>v});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(76829),m=n(58235),f=n(36074);let v=class extends h.M{static{this.type=m.N}get name(){return this.firstMetadataValue("eperson.firstname")+" "+this.firstMetadataValue("eperson.lastname")}getRenderTypes(){return["EPerson",this.constructor.name,...super.getRenderTypes()]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"handle",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"netid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"lastActive",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"canLogIn",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"email",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"requireCertificate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"selfRegistered",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"password",void 0),(0,i.Cg)([(0,e.nf)(f.U,!0),(0,i.Sn)("design:type",u.c)],v.prototype,"groups",void 0),v=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(h.M)],v)},58235:(F,b,n)=>{"use strict";n.d(b,{N:()=>t});const t=new(n(42547).v)("eperson")},31924:(F,b,n)=>{"use strict";n.d(b,{Y:()=>_});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(76829),m=n(39147),f=n(98688),v=n(58235),E=n(36074);let _=class extends h.M{static{this.type=E.U}};(0,i.Cg)([f.aK,(0,t.autoserializeAs)("name"),(0,i.Sn)("design:type",String)],_.prototype,"_name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"handle",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"permanent",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(E.U,!0),(0,i.Sn)("design:type",u.c)],_.prototype,"subgroups",void 0),(0,i.Cg)([(0,e.nf)(v.N,!0),(0,i.Sn)("design:type",u.c)],_.prototype,"epersons",void 0),(0,i.Cg)([(0,e.nf)(m.X),(0,i.Sn)("design:type",u.c)],_.prototype,"object",void 0),_=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(h.M)],_)},36074:(F,b,n)=>{"use strict";n.d(b,{U:()=>t});const t=new(n(42547).v)("group")},54949:(F,b,n)=>{"use strict";n.d(b,{z:()=>t});const t=new(n(42547).v)("workflowitem")},6291:(F,b,n)=>{"use strict";n.d(b,{l:()=>t});const t=new(n(42547).v)("workspaceitem")},34826:(F,b,n)=>{"use strict";n.d(b,{BA:()=>L,oL:()=>p,wq:()=>D});var i=n(60177),t=n(84412),u=n(983),e=n(84572),h=n(7673),m=n(96697),f=n(96354),v=n(25558),E=n(88141),_=n(82777),C=n(8917),S=n(93130),R=n(1676),T=n(80183),A=n(54438);const p="_GRECAPTCHA",L="google-recaptcha";let D=(()=>{class w{captchaKey(){return this.captchaKeySubject$.asObservable()}captchaMode(){return this.captchaModeSubject$.asObservable()}captchaVersion(){return this.captchaVersionSubject$.asObservable()}constructor(x,j,U,$,k){this.cookieService=x,this._document=j,this._window=U,this.configService=k,this.captchaVersionSubject$=new t.t(null),this.captchaKeySubject$=new t.t(null),this.captchaModeSubject$=new t.t(null),this.refreshCaptchaScript=()=>{this.loadRecaptchaProperties().subscribe()},this._window.nativeWindow&&(this._window.nativeWindow.refreshCaptchaScript=this.refreshCaptchaScript),this.renderer=$.createRenderer(null,null),this.configService.findByPropertyName("registration.verification.enabled").pipe((0,m.s)(1),(0,T.qD)(),(0,f.T)(X=>X.hasSucceeded&&X.payload&&(0,_.hj)(X.payload.values)&&"true"===X.payload.values[0].toLowerCase())).pipe((0,v.n)(X=>X?this.loadRecaptchaProperties():u.w)).subscribe()}loadRecaptchaProperties(){const x=this.configService.findByPropertyName("google.recaptcha.key.site").pipe((0,T.qD)()),j=this.configService.findByPropertyName("google.recaptcha.version").pipe((0,T.qD)()),U=this.configService.findByPropertyName("google.recaptcha.mode").pipe((0,T.qD)());return(0,e.z)([j,U,x]).pipe((0,E.M)(([$,k,K])=>{if(this.cookieService.get("orejime-anonymous")&&this.cookieService.get("orejime-anonymous")[L]&&K.hasSucceeded&&$.hasSucceeded&&(0,_.hj)($.payload?.values)&&(0,_.hj)(K.payload?.values)){const X=K.payload?.values[0],G=$.payload?.values[0];let q;switch(this.captchaKeySubject$.next(X),this.captchaVersionSubject$.next(G),G){case"v3":K.hasSucceeded&&(0,_.hj)(K.payload?.values)&&(q=this.buildCaptchaUrl(X),this.captchaModeSubject$.next("invisible"));break;case"v2":k.hasSucceeded&&(0,_.hj)(k.payload?.values)&&(q=this.buildCaptchaUrl(),this.captchaModeSubject$.next(k.payload?.values[0]))}q&&this.loadScript(q)}}))}getRecaptchaToken(x){return this.captchaKey().pipe((0,v.n)(j=>grecaptcha.execute(j,{action:x})))}executeRecaptcha(){return(0,h.of)(grecaptcha.execute())}getRecaptchaTokenResponse(){return grecaptcha.getResponse()}buildCaptchaUrl(x){const j="https://www.google.com/recaptcha/api.js";return x?`${j}?render=${x}`:j}loadScript(x){return new Promise((j,U)=>{const $=this.renderer.createElement("script");$.type="text/javascript",$.src=x,$.text="",$.onload=j,$.onerror=U,this.renderer.appendChild(this._document.head,$)})}static{this.\u0275fac=function(j){return new(j||w)(A.KVO(S.O),A.KVO(i.qQ),A.KVO(R.lc),A.KVO(A._9s),A.KVO(C.ConfigurationDataService))}}static{this.\u0275prov=A.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},23274:(F,b,n)=>{"use strict";n.d(b,{_:()=>u,i:()=>t});var i=n(91e3);const t={ADD_TO_HISTORY:(0,i.N)("dspace/history/ADD_TO_HISTORY"),GET_HISTORY:(0,i.N)("dspace/history/GET_HISTORY")};class u{constructor(h){this.type=t.ADD_TO_HISTORY,this.payload={url:h}}}},51672:(F,b,n)=>{"use strict";n.d(b,{U:()=>i});var i=function(t){return t.OBJECT="object/uuid-to-self-link",t.REQUEST="get-request/href-to-uuid",t.ALTERNATIVE_OBJECT_LINK="object/alt-link-to-self-link",t}(i||{})},71442:(F,b,n)=>{"use strict";n.d(b,{H9:()=>e,Lv:()=>u,NL:()=>h,WJ:()=>t});var i=n(91e3);const t={ADD:(0,i.N)("dspace/core/index/ADD"),REMOVE_BY_VALUE:(0,i.N)("dspace/core/index/REMOVE_BY_VALUE"),REMOVE_BY_SUBSTRING:(0,i.N)("dspace/core/index/REMOVE_BY_SUBSTRING")};class u{constructor(f,v,E){this.type=t.ADD,this.payload={name:f,key:v,value:E}}}class e{constructor(f,v){this.type=t.REMOVE_BY_VALUE,this.payload={name:f,value:v}}}class h{constructor(f,v){this.type=t.REMOVE_BY_SUBSTRING,this.payload={name:f,value:v}}}},69227:(F,b,n)=>{"use strict";n.d(b,{Fn:()=>T,Qc:()=>R,bS:()=>_,fW:()=>f,tJ:()=>m,vH:()=>S});var i=n(25499),t=n(82777),u=n(47797),e=n(45663),h=n(51672);const m=A=>{if((0,t.hj)(A))try{const p=new URL(A);if((0,t.hj)(p.search)){const L=p.search.split(/[?|&]/).filter(w=>(0,t.hj)(w)).filter(w=>!(w.startsWith("embed=")||w.startsWith("embed.size=")));let D="";return(0,t.hj)(L)&&(D=`?${L.join("&")}`),A=new e.t(p.origin,p.pathname,D).toString()}}catch{}return A},f=A=>{if((0,t.hj)(A))try{const p=new URL(A);if((0,t.hj)(p.search))return p.search.split(/[?|&]/).filter(L=>(0,t.hj)(L)).map(L=>L.match(/^embed.size=([^=]+)=(\d+)$/)).filter(L=>(0,t.a4)(L)&&(0,t.a4)(L[1])&&(0,t.a4)(L[2])).map(L=>({name:L[1],size:Number(L[2])}))}catch{}return[]},v=(0,i.Mz)(u.N,A=>A.index),E=(0,i.Mz)(v,A=>A[h.U.OBJECT]),_=(0,i.Mz)(v,A=>A[h.U.REQUEST]),C=(0,i.Mz)(v,A=>A[h.U.ALTERNATIVE_OBJECT_LINK]),S=A=>(0,i.Mz)(E,p=>(0,t.a4)(p)?p[A]:void 0),R=A=>(0,i.Mz)(_,p=>(0,t.a4)(p)?p[m(A)]:void 0),T=A=>(0,i.Mz)(C,p=>(0,t.a4)(p)?p[A]:void 0)},92409:(F,b,n)=>{"use strict";n.d(b,{S:()=>u});var i=n(82777),t=n(45663);class u extends t.t{constructor(h,...m){super(h,...m),this._rootElement=h,this._subRootElement=m.join("/")}get rootElement(){return this._rootElement}get subRootElement(){return this._subRootElement}getPath(h){(0,i.EA)(h)&&Array.isArray(h)&&(h=h.join("/"));let m="/"+this.toString();return(0,i.EA)(h)&&(m+="/"+h),{rootElement:this._rootElement,subRootElement:this._subRootElement,path:m}}}},98107:(F,b,n)=>{"use strict";n.d(b,{Bp:()=>R,Ce:()=>t,MI:()=>u,QZ:()=>C,X2:()=>v,Zd:()=>e,kM:()=>S,pg:()=>m,qy:()=>f,td:()=>_,v$:()=>h});var i=n(91e3);const t={NEW_JSON_PATCH_ADD_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_ADD_OPERATION"),NEW_JSON_PATCH_COPY_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_COPY_OPERATION"),NEW_JSON_PATCH_MOVE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_MOVE_OPERATION"),NEW_JSON_PATCH_REMOVE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_REMOVE_OPERATION"),NEW_JSON_PATCH_REPLACE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_REPLACE_OPERATION"),COMMIT_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/COMMIT_JSON_PATCH_OPERATIONS"),ROLLBACK_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/ROLLBACK_JSON_PATCH_OPERATIONS"),FLUSH_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/FLUSH_JSON_PATCH_OPERATIONS"),FLUSH_JSON_PATCH_OPERATION:(0,i.N)("dspace/core/patch/FLUSH_JSON_PATCH_OPERATION"),START_TRANSACTION_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/START_TRANSACTION_JSON_PATCH_OPERATIONS"),DELETE_PENDING_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/DELETE_PENDING_JSON_PATCH_OPERATIONS")};class u{constructor(A,p){this.type=t.COMMIT_JSON_PATCH_OPERATIONS,this.payload={resourceType:A,resourceId:p}}}class e{constructor(A,p){this.type=t.ROLLBACK_JSON_PATCH_OPERATIONS,this.payload={resourceType:A,resourceId:p}}}class h{constructor(A,p,L){this.type=t.START_TRANSACTION_JSON_PATCH_OPERATIONS,this.payload={resourceType:A,resourceId:p,startTime:L}}}class m{constructor(A,p){this.type=t.FLUSH_JSON_PATCH_OPERATIONS,this.payload={resourceType:A,resourceId:p}}}class f{constructor(A,p,L){this.type=t.FLUSH_JSON_PATCH_OPERATION,this.payload={resourceType:A,resourceId:p,path:L}}}class v{constructor(A,p,L,D){this.type=t.NEW_JSON_PATCH_ADD_OPERATION,this.payload={resourceType:A,resourceId:p,path:L,value:D}}}class _{constructor(A,p,L,D){this.type=t.NEW_JSON_PATCH_MOVE_OPERATION,this.payload={resourceType:A,resourceId:p,from:L,path:D}}}class C{constructor(A,p,L){this.type=t.NEW_JSON_PATCH_REMOVE_OPERATION,this.payload={resourceType:A,resourceId:p,path:L}}}class S{constructor(A,p,L,D){this.type=t.NEW_JSON_PATCH_REPLACE_OPERATION,this.payload={resourceType:A,resourceId:p,path:L,value:D}}}class R{constructor(){this.type=t.DELETE_PENDING_JSON_PATCH_OPERATIONS}}},4047:(F,b,n)=>{"use strict";n.d(b,{M:()=>t});var i=n(59030);function t(u,e,h){return(0,i.v)(()=>u.has(e)&&"function"==typeof u.get(e)?u.get(e)().then(f=>h.get("default"in f?f.default:f)).catch(f=>{throw f}):null)}},63648:(F,b,n)=>{"use strict";n.d(b,{iH:()=>L,m4:()=>A});var i=n(60177),t=n(84572),u=n(7673),e=n(96697),h=n(73028),m=n(96354),f=n(88280),v=n(82777),E=n(67116),_=n(93130),C=n(56760),S=n(1676),R=n(54438),T=n(41780);const A="dsLanguage";var p=function(D){return D[D.UI=0]="UI",D[D.EPERSON=1]="EPERSON",D[D.BROWSER=2]="BROWSER",D}(p||{});let L=(()=>{class D{constructor(M,x,j,U,$,k){this._window=M,this.cookie=x,this.translate=j,this.authService=U,this.routeService=$,this.document=k,this.EPERSON_LANG_METADATA="eperson.language"}getCurrentLanguageCode(){let M=this.getLanguageCodeFromCookie();return((0,v.Im)(M)||void 0===f.c.languages.find(x=>x.code===M&&x.active))&&(M=this.translate.getLangs().includes(this.translate.getBrowserLang())?this.translate.getBrowserLang():f.c.defaultLanguage),M}getLanguageCodeList(){return(0,t.z)([this.authService.isAuthenticated(),this.authService.isAuthenticationLoaded()]).pipe((0,e.s)(1),(0,h.Z)(([x,j])=>(0,u.of)([]).pipe((0,m.T)($=>{const k=[];return this.translate.currentLang&&k.push(...this.setQuality([this.translate.currentLang],p.UI,!1)),(0,v.hj)($)&&k.push(...$),navigator.languages&&k.push(...this.setQuality(Object.assign([],navigator.languages),p.BROWSER,!(0,v.Im)(this.translate.currentLang))),k}))))}getLanguageCodeFromCookie(){return this.cookie.get(A)}saveLanguageCodeToCookie(M){this.cookie.set(A,M)}setCurrentLanguageCode(M){(0,v.Im)(M)&&(M=this.getCurrentLanguageCode()),this.translate.use(M),this.saveLanguageCodeToCookie(M),this.document.documentElement.lang=M}setQuality(M,x,j){const U=[];let $=0;const k=M.length>10?M.length:10;let K;switch(x){case p.EPERSON:K=2;break;case p.BROWSER:K=j?10:1;break;default:K=1}return M.forEach(X=>{let G=X+";q=",q=(k-$++)/k;q=M.length>10?q.toFixed(2):q,G+=q/K,U.push(G)}),U}refreshAfterChangeLanguage(){this.routeService.getCurrentUrl().pipe((0,e.s)(1)).subscribe(M=>{this._window.nativeWindow.location.href=`reload/${(new Date).getTime()}?redirect=`+encodeURIComponent(M)})}static{this.\u0275fac=function(x){return new(x||D)(R.KVO(S.lc),R.KVO(_.O),R.KVO(T.c$),R.KVO(E.uR),R.KVO(C.v$),R.KVO(i.qQ))}}static{this.\u0275prov=R.jDH({token:D,factory:D.\u0275fac})}}return D})()},52733:(F,b,n)=>{"use strict";n.d(b,{A:()=>C});var i=n(31635),t=n(74850),u=n(71985),e=n(82777),h=n(22878),m=n(21921),f=n(42547),v=n(98688),E=n(1259),_=n(51934);let C=class extends h.u{static{this.type=E.R}toString(R="."){let T=this.element;return(0,e.hj)(this.qualifier)&&(T+=R+this.qualifier),T}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([v.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],C.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],C.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"element",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"qualifier",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"scopeNote",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),(0,i.Cg)([(0,m.nf)(_.M),(0,i.Sn)("design:type",u.c)],C.prototype,"schema",void 0),C=(0,i.Cg)([m.gV],C)},1259:(F,b,n)=>{"use strict";n.d(b,{R:()=>t});const t=new(n(42547).v)("metadatafield")},32872:(F,b,n)=>{"use strict";n.d(b,{p:()=>v});var i=n(31635),t=n(74850),u=n(22878),e=n(21921),h=n(42547),m=n(98688),f=n(51934);let v=class extends u.u{static{this.type=f.M}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"id",void 0),(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",h.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"prefix",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"namespace",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([e.gV],v)},51934:(F,b,n)=>{"use strict";n.d(b,{M:()=>t});const t=new(n(42547).v)("metadataschema")},5410:(F,b,n)=>{"use strict";n.d(b,{T:()=>e});var i=n(82777),t=n(14391),u=n(54438);let e=(()=>{class h{isVirtual(f){return(0,i.a4)(f?.authority)&&f.authority.startsWith(t.BY)}virtualValue(f){if(this.isVirtual(f))return f.authority.substring(f.authority.indexOf(t.BY)+t.BY.length)}static{this.\u0275fac=function(v){return new(v||h)}}static{this.\u0275prov=u.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},61723:(F,b,n)=>{"use strict";n.r(b),n.d(b,{QualityAssuranceSourceDataService:()=>_});var i=n(39806),t=n(72734),u=n(41684),e=n(46787),h=n(63897),m=n(35108),f=n(32473),v=n(4910),E=n(54438);let _=(()=>{class C extends h.W{constructor(R,T,A,p,L){super("qualityassurancesources",R,T,A,p),this.requestService=R,this.rdbService=T,this.objectCache=A,this.halService=p,this.notificationsService=L,this.searchByTargetMethod="byTarget",this.findAllData=new e.H(this.linkPath,R,T,A,p,this.responseMsToLive),this.searchAllData=new m.X(this.linkPath,R,T,A,p,this.responseMsToLive)}getSources(R={},T=!0,A=!0,...p){return this.findAllData.findAll(R,T,A,...p)}clearFindAllSourceRequests(){this.requestService.setStaleByHrefSubstring("qualityassurancesources")}getSource(R,T=!0,A=!0,...p){return this.findById(R,T,A,...p)}getSourcesByTarget(R={},T=!0,A=!0,...p){return this.searchAllData.searchBy(this.searchByTargetMethod,R,T,A,...p)}static{this.\u0275fac=function(T){return new(T||C)(E.KVO(f.B),E.KVO(t.o),E.KVO(u.$),E.KVO(v.Y),E.KVO(i.I))}}static{this.\u0275prov=E.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},31936:(F,b,n)=>{"use strict";n.r(b),n.d(b,{QualityAssuranceTopicDataService:()=>_});var i=n(39806),t=n(72734),u=n(41684),e=n(46787),h=n(63897),m=n(35108),f=n(32473),v=n(4910),E=n(54438);let _=(()=>{class C extends h.W{constructor(R,T,A,p,L){super("qualityassurancetopics",R,T,A,p),this.requestService=R,this.rdbService=T,this.objectCache=A,this.halService=p,this.notificationsService=L,this.searchByTargetMethod="byTarget",this.searchBySourceMethod="bySource",this.findAllData=new e.H(this.linkPath,R,T,A,p,this.responseMsToLive),this.searchData=new m.X(this.linkPath,R,T,A,p,this.responseMsToLive)}searchTopicsByTarget(R={},T=!0,A=!0,...p){return this.searchData.searchBy(this.searchByTargetMethod,R,T,A,...p)}searchTopicsBySource(R={},T=!0,A=!0,...p){return this.searchData.searchBy(this.searchBySourceMethod,R,T,A,...p)}clearFindAllTopicsRequests(){this.requestService.setStaleByHrefSubstring("qualityassurancetopics")}getTopic(R,T=!0,A=!0,...p){return this.findById(R,T,A,...p)}static{this.\u0275fac=function(T){return new(T||C)(E.KVO(f.B),E.KVO(t.o),E.KVO(u.$),E.KVO(v.Y),E.KVO(i.I))}}static{this.\u0275prov=E.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},178:(F,b,n)=>{"use strict";n.d(b,{P:()=>t});const t=new(n(42547).v)("suggestion")},96687:(F,b,n)=>{"use strict";n.r(b),n.d(b,{SuggestionDataService:()=>S});var i=n(39806),t=n(72734),u=n(53954),e=n(41684),h=n(13617),m=n(63897),f=n(35108),v=n(32473),E=n(4910),_=n(54438),C=n(21626);let S=(()=>{class R extends m.W{constructor(A,p,L,D,w,M){super("suggestions",A,p,L,D),this.requestService=A,this.rdbService=p,this.objectCache=L,this.halService=D,this.notificationsService=w,this.http=M,this.searchFindByTargetAndSourceMethod="findByTargetAndSource",this.deleteData=new h.I(this.linkPath,A,p,L,D,w,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new f.X(this.linkPath,A,p,L,D,this.responseMsToLive)}deleteSuggestion(A){return this.deleteData.delete(A)}getSuggestionsByTargetAndSource(A,p,L={},...D){return L.searchParams=[new u.x("target",A),new u.x("source",p)],this.searchData.searchBy(this.searchFindByTargetAndSourceMethod,L,!1,!0,...D)}clearSuggestionRequests(){this.requestService.setStaleByHrefSubstring(this.searchFindByTargetAndSourceMethod)}static{this.\u0275fac=function(p){return new(p||R)(_.KVO(v.B),_.KVO(t.o),_.KVO(e.$),_.KVO(E.Y),_.KVO(i.I),_.KVO(C.Qq))}}static{this.\u0275prov=_.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},94791:(F,b,n)=>{"use strict";n.r(b),n.d(b,{SuggestionTargetDataService:()=>T});var i=n(39806),t=n(72734),u=n(53954),e=n(41684),h=n(46787),m=n(63897),f=n(35108),v=n(37419),E=n(32473),_=n(4910),C=n(54438),S=n(25499),R=n(21626);let T=(()=>{class A extends m.W{constructor(L,D,w,M,x,j,U,$){super("suggestiontargets",L,D,M,x),this.requestService=L,this.rdbService=D,this.store=w,this.objectCache=M,this.halService=x,this.notificationsService=j,this.http=U,this.comparator=$,this.linkPath="suggestiontargets",this.searchFindBySourceMethod="findBySource",this.searchFindByTargetMethod="findByTarget",this.findAllData=new h.H(this.linkPath,L,D,M,x,this.responseMsToLive),this.searchData=new f.X(this.linkPath,L,D,M,x,this.responseMsToLive)}getTargetsBySource(L,D={},w=!0,M=!0,...x){return D.searchParams=[new u.x("source",L)],this.searchBy(this.searchFindBySourceMethod,D,w,M,...x)}getTargetsByUser(L,D={},...w){return D.searchParams=[new u.x("target",L)],this.searchBy(this.searchFindByTargetMethod,D,!0,!0,...w)}getTargetById(L){return this.findById(L)}searchBy(L,D,w,M,...x){return this.searchData.searchBy(L,D,w,M,...x)}findAll(L={},D=!0,w=!0,...M){return this.findAllData.findAll(L,D,w,...M)}static{this.\u0275fac=function(D){return new(D||A)(C.KVO(E.B),C.KVO(t.o),C.KVO(S.il),C.KVO(e.$),C.KVO(_.Y),C.KVO(i.I),C.KVO(R.Qq),C.KVO(v.Y))}}static{this.\u0275prov=C.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},22978:(F,b,n)=>{"use strict";n.d(b,{m:()=>T});var i=n(84572),t=n(96354),u=n(5964),e=n(96697),h=n(82777),f=n(80597),v=n(23401),E=n(6238),_=n(41023),C=n(56760),S=n(54438),R=n(7901);let T=(()=>{class A{constructor(L,D){this.routeService=L,this.router=D,this.defaultSortOptions=new E.z("dc.title",E.U.ASC),this.clearParams={}}getCurrentPagination(L,D){const w=this.routeService.getQueryParameterValue(`${L}.page`),M=this.routeService.getQueryParameterValue(`${L}.rpp`);return(0,i.z)([w,M]).pipe((0,t.T)(([x,j])=>Object.assign(new v.W,D,{currentPage:this.convertToNumeric(x,D.currentPage),pageSize:this.getBestMatchPageSize(j,D)})))}getCurrentSort(L,D,w){!w&&((0,h.Im)(D)||!(0,h.a4)(D))&&(D=this.defaultSortOptions);const M=this.routeService.getQueryParameterValue(`${L}.sd`),x=this.routeService.getQueryParameterValue(`${L}.sf`);return(0,i.z)([M,x]).pipe((0,t.T)(([j,U])=>new E.z(U||D?.field,E.U[j]||D?.direction)))}getFindListOptions(L,D,w){const M=new v.W;M.currentPage=D.currentPage,M.pageSize=D.elementsPerPage;const x=this.getCurrentPagination(L,M),j=this.getCurrentSort(L,D.sort,w);return(0,i.z)([x,j]).pipe((0,u.p)(([U,$])=>(0,h.a4)(U)&&(0,h.a4)($)),(0,t.T)(([U,$])=>Object.assign(new _._,D,{sort:$,currentPage:U.currentPage,elementsPerPage:U.pageSize})))}resetPage(L){this.updateRoute(L,{page:1})}updateRoute(L,D,w,M,x){this.updateRouteWithUrl(L,[],D,w,M,x)}updateRouteWithUrl(L,D,w,M,x,j){this.getCurrentRouting(L).subscribe(U=>{const $=this.getParametersWithIdName(L,U),k=this.getParametersWithIdName(L,w);if((0,h.hj)((0,f.iv)(k,$))||(0,h.hj)(M)||(0,h.hj)(this.clearParams)){const K=Object.assign({},this.clearParams,$,k,M);this.router.navigate(D,x?{queryParams:K,queryParamsHandling:"merge",fragment:`p-${L}`,...j}:{queryParams:K,queryParamsHandling:"merge",...j}),this.clearParams={}}})}clearPagination(L){const D={};D[`${L}.page`]=null,D[`${L}.rpp`]=null,D[`${L}.sf`]=null,D[`${L}.sd`]=null,Object.assign(this.clearParams,D)}getPageParam(L){return`${L}.page`}getCurrentRouting(L){return this.getFindListOptions(L,{},!0).pipe((0,e.s)(1),(0,t.T)(D=>({page:D.currentPage,pageSize:D.elementsPerPage,sortField:D.sort.field,sortDirection:D.sort.direction})))}getParametersWithIdName(L,D){const w={};return(0,h.a4)(D.page)&&(w[`${L}.page`]=`${D.page}`),(0,h.a4)(D.pageSize)&&(w[`${L}.rpp`]=`${D.pageSize}`),(0,h.a4)(D.sortField)&&(w[`${L}.sf`]=`${D.sortField}`),(0,h.a4)(D.sortDirection)&&(w[`${L}.sd`]=`${D.sortDirection}`),w}convertToNumeric(L,D){let w=D;return function m(A){return!Array.isArray(A)&&A-parseFloat(A)+1>=0}(L)&&(w=+L),w}getBestMatchPageSize(L,D){const w=this.convertToNumeric(L,D.pageSize),M=D.pageSizeOptions.map(j=>Math.abs(j-w)),x=Math.min.apply(Math,M);return D.pageSizeOptions[M.indexOf(x)]}static{this.\u0275fac=function(D){return new(D||A)(S.KVO(C.v$),S.KVO(R.Ix))}}static{this.\u0275prov=S.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},76151:(F,b,n)=>{"use strict";n.d(b,{w:()=>_});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(56970),m=n(13868),f=n(42547),v=n(98688),E=n(71077);let _=class extends h.I{static{this.type=E.T}};(0,i.Cg)([v.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([(0,t.deserializeAs)("id"),(0,i.Sn)("design:type",String)],_.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"visible",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.U),(0,i.Sn)("design:type",u.c)],_.prototype,"item",void 0),_=(0,i.Cg)([e.gV],_)},71077:(F,b,n)=>{"use strict";n.d(b,{T:()=>t});const t=new(n(42547).v)("profile")},98926:(F,b,n)=>{"use strict";n.r(b),n.d(b,{ResearcherProfileDataService:()=>K});var i=n(21626),t=n(7673),u=n(96354),e=n(47677),h=n(73028),m=n(82777),f=n(39806),v=n(43404),E=n(67600),_=n(72734),C=n(41684),S=n(39280),R=n(13617),T=n(63897),A=n(87158),p=n(35108),L=n(37419),D=n(29326),w=n(43052),M=n(32473),x=n(4910),j=n(80183),U=n(76151),$=n(54438),k=n(7901);let K=(()=>{class X extends T.W{constructor(q,z,te,Z,J,Q,ee,le){super("profiles",q,z,te,Z,1e4),this.requestService=q,this.rdbService=z,this.objectCache=te,this.halService=Z,this.notificationsService=J,this.router=Q,this.comparator=ee,this.itemService=le,this.createData=new S.V(this.linkPath,q,z,te,Z,J,this.responseMsToLive),this.patchData=new A.n(this.linkPath,q,z,te,Z,ee,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new p.X(this.linkPath,q,z,te,Z,this.responseMsToLive),this.deleteData=new R.I(this.linkPath,q,z,te,Z,J,this.responseMsToLive,this.constructIdEndpoint)}findByRelatedItem(q){const z=q.firstMetadata("dspace.object.owner")?.authority;return(0,m.Im)(z)?(0,v.PM)():this.findById(z)}findRelatedItemId(q){return(q.item?q.item:this.itemService.findByHref(q._links.item.href,!1)).pipe((0,j.qD)(),(0,u.T)(te=>te.hasSucceeded&&te.payload?te.payload.id:null))}setVisibility(q,z){return this.patch(q,[{path:"/visible",op:"replace",value:z}])}createFromExternalSource(q){const z=Object.create({});let te=new i.Lr;te=te.append("Content-Type","text/uri-list"),z.headers=te;const Z=this.requestService.generateRequestId();return this.halService.getEndpoint(this.getLinkPath()).pipe((0,e.I)(Q=>(0,m.a4)(Q)),(0,u.T)(Q=>this.buildHrefWithParams(Q,[],(0,E.s)("item")))).subscribe(Q=>{const ee=new w.Qf(Z,Q,q,z);this.requestService.send(ee)}),this.rdbService.buildFromRequestUUID(Z,(0,E.s)("item"))}createFromExternalSourceAndReturnRelatedItemId(q){return this.createFromExternalSource(q).pipe((0,j.qD)(),(0,h.Z)(z=>z.hasSucceeded?this.findRelatedItemId(z.payload):(0,t.of)(null)))}create(q,...z){return(0,m.Im)(q)&&(q=new U.w),this.createData.create(q,...z)}searchBy(q,z,te,Z,...J){return this.searchData.searchBy(q,z,te,Z,...J)}getSearchByHref(q,z,...te){return this.searchData.getSearchByHref(q,z,...te)}commitUpdates(q){this.patchData.commitUpdates(q)}createPatchFromCache(q){return this.patchData.createPatchFromCache(q)}patch(q,z){return this.patchData.patch(q,z)}update(q){return this.patchData.update(q)}delete(q,z){return this.deleteData.delete(q,z)}deleteByHref(q,z){return this.deleteData.deleteByHref(q,z)}static{this.\u0275fac=function(z){return new(z||X)($.KVO(M.B),$.KVO(_.o),$.KVO(C.$),$.KVO(x.Y),$.KVO(f.I),$.KVO(k.Ix),$.KVO(L.Y),$.KVO(D.ItemDataService))}}static{this.\u0275prov=$.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}}return X})()},46355:(F,b,n)=>{"use strict";n.d(b,{X:()=>i});var i=function(t){return t.READ="READ",t.WRITE="WRITE",t.DELETE="DELETE",t.ADD="ADD",t.REMOVE="REMOVE",t[t.WORKFLOW_STEP_1=5]="WORKFLOW_STEP_1",t[t.WORKFLOW_STEP_2=6]="WORKFLOW_STEP_2",t[t.WORKFLOW_STEP_3=7]="WORKFLOW_STEP_3",t[t.WORKFLOW_ABORT=8]="WORKFLOW_ABORT",t.DEFAULT_BITSTREAM_READ="DEFAULT_BITSTREAM_READ",t.DEFAULT_ITEM_READ="DEFAULT_ITEM_READ",t.ADMIN="ADMIN",t.WITHDRAWN_READ="WITHDRAWN_READ",t}(i||{})},46251:(F,b,n)=>{"use strict";n.d(b,{t:()=>i});var i=function(t){return t.TYPE_SUBMISSION="TYPE_SUBMISSION",t.TYPE_WORKFLOW="TYPE_WORKFLOW",t.TYPE_INHERITED="TYPE_INHERITED",t.TYPE_CUSTOM="TYPE_CUSTOM",t}(i||{})},28235:(F,b,n)=>{"use strict";n.d(b,{h:()=>R});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(24547),m=n(58235),f=n(36074),v=n(42547),E=n(98688),S=(n(46355),n(46251),n(88985));let R=class{static{this.type=S.O}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"policyType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],R.prototype,"action",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"startDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"endDate",void 0),(0,i.Cg)([E.aK,t.autoserialize,(0,i.Sn)("design:type",v.v)],R.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new h.a("resource-policy"),"id"),(0,i.Sn)("design:type",String)],R.prototype,"uuid",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],R.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",u.c)],R.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(f.U),(0,i.Sn)("design:type",u.c)],R.prototype,"group",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],R.prototype,"pageStart",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],R.prototype,"pageEnd",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],R.prototype,"print",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],R.prototype,"download",void 0),R=(0,i.Cg)([e.gV],R)},88985:(F,b,n)=>{"use strict";n.d(b,{O:()=>t});const t=new(n(42547).v)("resourcepolicy")},67944:(F,b,n)=>{"use strict";n.d(b,{T:()=>i});var i=function(t){return t.Submitter="submitter",t.Controller="controller",t.Admin="admin",t}(i||{})},46265:(F,b,n)=>{"use strict";n.d(b,{W:()=>m});var i=n(7673),t=n(23294),u=n(6983),e=n(67944),h=n(54438);let m=(()=>{class f{constructor(E){this.collectionService=E}isSubmitter(){return this.collectionService.hasAuthorizedCollection().pipe((0,t.F)())}isController(){return(0,i.of)(!0)}isAdmin(){return(0,i.of)(!1)}checkRole(E){let _;switch(E){case e.T.Submitter:_=this.isSubmitter();break;case e.T.Controller:_=this.isController();break;case e.T.Admin:_=this.isAdmin()}return _}static{this.\u0275fac=function(_){return new(_||f)(h.KVO(u.CollectionDataService))}}static{this.\u0275prov=h.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},10887:(F,b,n)=>{"use strict";n.d(b,{$:()=>t});const t="http://localhost:8080"},93130:(F,b,n)=>{"use strict";n.d(b,{O:()=>e});var i=n(21413),t=n(59540),u=n(54438);let e=(()=>{class h{constructor(f){this.req=f,this.cookieSource=new i.B,this.cookies$=this.cookieSource.asObservable()}updateSource(){this.cookieSource.next(this.getAll())}static{this.\u0275fac=function(v){return new(v||h)(u.KVO(t.S))}}static{this.\u0275prov=u.jDH({token:h,factory:h.\u0275fac})}}return h})()},59752:(F,b,n)=>{"use strict";n.d(b,{$:()=>t});var i=n(54438);let t=(()=>{class u{static{this.\u0275fac=function(m){return new(m||u)}}static{this.\u0275prov=i.jDH({token:u,factory:u.\u0275fac})}}return u})()},8865:(F,b,n)=>{"use strict";n.d(b,{m:()=>u});var i=n(60177),t=n(54438);let u=(()=>{class e{constructor(m,f){this.rendererFactory=m,this.document=f}addTag(m){try{const f=this.rendererFactory.createRenderer(this.document,{id:"-1",encapsulation:t.gXe.None,styles:[],data:{}}),v=f.createElement("link"),E=this.document.head;if(null===E)throw new Error("<head> not found within DOCUMENT.");return Object.keys(m).forEach(_=>f.setAttribute(v,_,m[_])),f.appendChild(E,v),f}catch(f){console.error("Error within linkService: ",f)}}removeTag(m){if(m)try{const f=this.rendererFactory.createRenderer(this.document,{id:"-1",encapsulation:t.gXe.None,styles:[],data:{}}),v=this.document.head;if(null===v)throw new Error("<head> not found within DOCUMENT.");const E=this.document.querySelectorAll("link["+m+"]");for(const _ of E)f.removeChild(v,_)}catch(f){f instanceof Error&&console.error("Error while removing tag: "+f.message)}}static{this.\u0275fac=function(f){return new(f||e)(t.KVO(t._9s),t.KVO(i.qQ))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},88091:(F,b,n)=>{"use strict";n.d(b,{f:()=>t});var i=n(54438);let t=(()=>{class u{static{this.\u0275fac=function(m){return new(m||u)}}static{this.\u0275prov=i.jDH({token:u,factory:u.\u0275fac})}}return u})()},61905:(F,b,n)=>{"use strict";n.d(b,{$H:()=>m,HH:()=>t,Yb:()=>v,eL:()=>f,fP:()=>e,hX:()=>u,sV:()=>E});var i=n(91e3);const t={SET_QUERY_PARAMETERS:(0,i.N)("dspace/core/route/SET_QUERY_PARAMETERS"),SET_PARAMETERS:(0,i.N)("dspace/core/route/SET_PARAMETERS"),ADD_QUERY_PARAMETER:(0,i.N)("dspace/core/route/ADD_QUERY_PARAMETER"),ADD_PARAMETER:(0,i.N)("dspace/core/route/ADD_PARAMETER"),SET_QUERY_PARAMETER:(0,i.N)("dspace/core/route/SET_QUERY_PARAMETER"),SET_PARAMETER:(0,i.N)("dspace/core/route/SET_PARAMETER"),RESET:(0,i.N)("dspace/core/route/RESET")};class u{constructor(C){this.type=t.SET_QUERY_PARAMETERS,this.payload=C}}class e{constructor(C){this.type=t.SET_PARAMETERS,this.payload=C}}class m{constructor(C,S){this.type=t.ADD_PARAMETER,this.payload={key:C,value:S}}}class f{constructor(C,S){this.type=t.SET_QUERY_PARAMETER,this.payload={key:C,value:S}}}class v{constructor(C,S){this.type=t.SET_PARAMETER,this.payload={key:C,value:S}}}class E{constructor(){this.type=t.RESET}}},56760:(F,b,n)=>{"use strict";n.d(b,{v$:()=>x});var i=n(7901),t=n(25499),u=n(48125),e=n.n(u),h=n(84572),m=n(96354),f=n(23294),v=n(5964),E=n(96697),_=n(82777),C=n(47797),S=n(23274);const R=(0,t.Mz)(C.N,j=>j.history);var T=n(61905),A=n(54438);const p=(0,t.Mz)(C.N,j=>(0,_.a4)(j)&&(0,_.a4)(j.route)?j.route.params:void 0);(0,t.Mz)(C.N,j=>(0,_.a4)(j)&&(0,_.a4)(j.route)?j.route.queryParams:void 0);let x=(()=>{class j{constructor($,k,K){this.route=$,this.router=k,this.store=K,this.saveRouting()}getQueryParameterValues($){return this.getQueryParamMap().pipe((0,m.T)(k=>[...k.getAll($)]),(0,f.F)((k,K)=>JSON.stringify(k)===JSON.stringify(K)))}getQueryParameterValue($){return this.getQueryParamMap().pipe((0,m.T)(k=>k.get($)),(0,f.F)())}hasQueryParam($){return this.getQueryParamMap().pipe((0,m.T)(k=>k.has($)),(0,f.F)())}hasQueryParamWithValue($,k){return this.getQueryParamMap().pipe((0,m.T)(K=>K.getAll($).indexOf(k)>-1),(0,f.F)())}getRouteParameterValue($){return this.store.pipe((0,t.Lt)((j=>function M(j,U){return(0,t.Mz)(U,$=>{if((0,_.a4)($))return $[j]})}(j,p))($)))}getRouteDataValue($){return this.route.data.pipe((0,m.T)(k=>k[$]),(0,f.F)())}getQueryParamsWithPrefix($){return this.getQueryParamMap().pipe((0,m.T)(k=>{const K={};return k.keys.filter(X=>X.startsWith($)).forEach(X=>{K[X]=[...k.getAll(X)]}),K}),(0,f.F)((k,K)=>JSON.stringify(k)===JSON.stringify(K)))}getQueryParamMap(){return this.route.queryParamMap.pipe((0,m.T)($=>{const k=this.router.routerState.snapshot;return e()($,k.root.queryParamMap)?$:k.root.queryParamMap}))}saveRouting(){this.router.events.pipe((0,v.p)($=>$ instanceof i.wF)).subscribe($=>{this.store.dispatch(new S._($.urlAfterRedirects))})}getRouteParams(){let $=this.route;for(;$.firstChild;)$=$.firstChild;return $.params}getHistory(){return this.store.pipe((0,t.Lt)(R))}getCurrentUrl(){return this.getHistory().pipe((0,m.T)($=>$[$.length-1]||""))}getPreviousUrl(){return this.getHistory().pipe((0,m.T)($=>$[$.length-2]||""))}addParameter($,k){this.store.dispatch(new T.$H($,k))}setParameter($,k){this.store.dispatch(new T.Yb($,k))}setQueryParameter($,k){this.store.dispatch(new T.eL($,k))}setCurrentRouteInfo(){(0,h.z)(this.getRouteParams(),this.route.queryParams).pipe((0,E.s)(1)).subscribe(([$,k])=>{this.store.dispatch(new T.fP($)),this.store.dispatch(new T.hX(k))})}getParamsExceptValue($,k){return this.route.queryParams.pipe((0,m.T)(K=>{const X=Object.assign({},K),G=X[$];return G===k||void 0===k?delete X[$]:Array.isArray(G)&&G.includes(k)&&(X[$]=G.filter(q=>q!==k),0===X[$].length&&delete X[$]),X}))}getParamsWithAdditionalValue($,k){return this.route.queryParams.pipe((0,m.T)(K=>{const X=Object.assign({},K),G=X[$];return X[$]=void 0===G?k:Array.isArray(G)?[...G,k]:[G,k],X}))}static{this.\u0275fac=function(k){return new(k||j)(A.KVO(i.nX),A.KVO(i.Ix),A.KVO(t.il))}}static{this.\u0275prov=A.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}}return j})()},7337:(F,b,n)=>{"use strict";n.d(b,{w:()=>u});var i=n(59540),t=n(54438);let u=(()=>{class e{constructor(m){this.response=m}setStatus(m,f){return this.response&&(this.response.statusCode=m,f&&(this.response.statusMessage=f)),this}setUnauthorized(m="Unauthorized"){return this.setStatus(401,m)}setForbidden(m="Forbidden"){return this.setStatus(403,m)}setNotFound(m="Not found"){return this.setStatus(404,m)}setInternalServerError(m="Internal Server Error"){return this.setStatus(500,m)}setHeader(m,f){this.response&&this.response.setHeader(m,f)}static{this.\u0275fac=function(f){return new(f||e)(t.KVO(i.C,8))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},1676:(F,b,n)=>{"use strict";n.d(b,{lc:()=>t});const t=new(n(54438).nKC)("NativeWindowService",{providedIn:"root",factory:function e(){return new u}});class u{get nativeWindow(){return typeof window<"u"&&window}}},308:(F,b,n)=>{"use strict";n.d(b,{QD:()=>E,ci:()=>C,gM:()=>S});var i=n(54438),t=n(84572),u=n(53993),e=n(5964),h=n(96354),m=n(69799),f=n(16805);new i.nKC("redirectOn4xx",{providedIn:"root",factory:()=>E});const E=(R,T)=>A=>A.pipe((0,u.E)(T.isAuthenticated()),(0,e.p)(([p,L])=>{if(p.hasFailed){if(404===p.statusCode||422===p.statusCode)return R.navigateByUrl((0,m.EX)(),{skipLocationChange:!0}),!1;if(403===p.statusCode||401===p.statusCode)return L?(R.navigateByUrl((0,m.bZ)(),{skipLocationChange:!0}),!1):(T.setRedirectUrl(R.url),R.navigateByUrl("login"),!1)}return!0}),(0,h.T)(([p])=>p)),C=(R,T,A)=>p=>(0,t.z)(p,T.isAuthenticated()).pipe((0,h.T)(([L,D])=>!!L.some(w=>!0===w)||(D?R.parseUrl((0,m.bZ)()):(T.setRedirectUrl(A),R.parseUrl("login"))))),S=(R,T)=>A=>A.pipe((0,h.T)(p=>{const L={redirect:encodeURIComponent(T)};return p||R.createUrlTree([(0,f.KN)()],{queryParams:L})}))},70334:(F,b,n)=>{"use strict";n.d(b,{c:()=>i});var i=function(t){return t.Known="KNOWN",t.Unknown="UNKNOWN",t.Supported="SUPPORTED",t}(i||{})},760:(F,b,n)=>{"use strict";n.d(b,{v:()=>E});var i=n(31635),t=n(74850),u=n(21921),e=n(24547),h=n(98688),m=n(92174),v=(n(70334),n(42547));let E=class{static{this.type=m.a}};(0,i.Cg)([h.aK,t.autoserialize,(0,i.Sn)("design:type",v.v)],E.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"shortDescription",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"mimetype",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"supportLevel",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],E.prototype,"internal",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],E.prototype,"extensions",void 0),(0,i.Cg)([(0,t.deserializeAs)(new e.a("bitstream-format"),"id"),(0,i.Sn)("design:type",String)],E.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"id",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([u.gV],E)},92174:(F,b,n)=>{"use strict";n.d(b,{a:()=>t});const t=new(n(42547).v)("bitstreamformat")},33376:(F,b,n)=>{"use strict";n.d(b,{_:()=>E});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(96470),m=n(92174),f=n(2527),v=n(76829);let E=class extends v.M{static{this.type=h.e}getParentLinkKey(){return"format"}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],E.prototype,"sizeBytes",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"bundleName",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(h.e,!1,"thumbnail"),(0,i.Sn)("design:type",u.c)],E.prototype,"thumbnail",void 0),(0,i.Cg)([(0,e.nf)(m.a,!1,"format"),(0,i.Sn)("design:type",u.c)],E.prototype,"format",void 0),(0,i.Cg)([(0,e.nf)(f.d),(0,i.Sn)("design:type",u.c)],E.prototype,"bundle",void 0),E=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(v.M)],E)},96470:(F,b,n)=>{"use strict";n.d(b,{e:()=>t});const t=new(n(42547).v)("bitstream")},34427:(F,b,n)=>{"use strict";n.d(b,{o:()=>e});var i=n(31635),t=n(74850),u=n(56970);class e extends u.I{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],e.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)("metadata"),(0,i.Sn)("design:type",Array)],e.prototype,"metadataKeys",void 0)},87369:(F,b,n)=>{"use strict";n.d(b,{z:()=>t});const t=new(n(42547).v)("browse")},70673:(F,b,n)=>{"use strict";n.d(b,{N:()=>E});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(96470),m=n(2527),f=n(76829),v=n(13868);let E=class extends f.M{static{this.type=m.d}};(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(h.e),(0,i.Sn)("design:type",u.c)],E.prototype,"primaryBitstream",void 0),(0,i.Cg)([(0,e.nf)(h.e,!0),(0,i.Sn)("design:type",u.c)],E.prototype,"bitstreams",void 0),(0,i.Cg)([(0,e.nf)(v.U),(0,i.Sn)("design:type",u.c)],E.prototype,"item",void 0),E=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(f.M)],E)},2527:(F,b,n)=>{"use strict";n.d(b,{d:()=>t});const t=new(n(42547).v)("bundle")},6041:(F,b,n)=>{"use strict";n.d(b,{p:()=>S});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(88985),m=n(98688),f=n(96470),v=n(9927),E=n(72364),_=n(76829),C=n(18602);let S=class extends _.M{static{this.type=v.n}get handle(){return this.firstMetadataValue("dc.identifier.uri")}get introductoryText(){return this.firstMetadataValue("dc.description")}get shortDescription(){return this.firstMetadataValue("dc.description.abstract")}get copyrightText(){return this.firstMetadataValue("dc.rights")}get dcLicense(){return this.firstMetadataValue("dc.rights.license")}get sidebarText(){return this.firstMetadataValue("dc.description.tableofcontents")}getParentLinkKey(){return"parentCommunity"}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",Number)],S.prototype,"archivedItemsCount",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],S.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(C.m),(0,i.Sn)("design:type",u.c)],S.prototype,"license",void 0),(0,i.Cg)([(0,e.nf)(f.e),(0,i.Sn)("design:type",u.c)],S.prototype,"logo",void 0),(0,i.Cg)([(0,e.nf)(h.O,!0),(0,i.Sn)("design:type",u.c)],S.prototype,"defaultAccessConditions",void 0),(0,i.Cg)([(0,e.nf)(E.G,!1),(0,i.Sn)("design:type",u.c)],S.prototype,"parentCommunity",void 0),S=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(_.M)],S)},9927:(F,b,n)=>{"use strict";n.d(b,{n:()=>t});const t=new(n(42547).v)("collection")},10046:(F,b,n)=>{"use strict";n.d(b,{E:()=>_});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(98688),m=n(96470),f=n(9927),v=n(72364),E=n(76829);let _=class extends E.M{static{this.type=v.G}get handle(){return this.firstMetadataValue("dc.identifier.uri")}get introductoryText(){return this.firstMetadataValue("dc.description")}get shortDescription(){return this.firstMetadataValue("dc.description.abstract")}get copyrightText(){return this.firstMetadataValue("dc.rights")}get sidebarText(){return this.firstMetadataValue("dc.description.tableofcontents")}getParentLinkKey(){return"parentCommunity"}};(0,i.Cg)([h.aK,t.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"archivedItemsCount",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.e),(0,i.Sn)("design:type",u.c)],_.prototype,"logo",void 0),(0,i.Cg)([(0,e.nf)(f.n,!0),(0,i.Sn)("design:type",u.c)],_.prototype,"collections",void 0),(0,i.Cg)([(0,e.nf)(v.G,!0),(0,i.Sn)("design:type",u.c)],_.prototype,"subcommunities",void 0),(0,i.Cg)([(0,e.nf)(v.G,!1),(0,i.Sn)("design:type",u.c)],_.prototype,"parentCommunity",void 0),_=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(E.M)],_)},72364:(F,b,n)=>{"use strict";n.d(b,{G:()=>t});const t=new(n(42547).v)("community")},98179:(F,b,n)=>{"use strict";n.d(b,{l:()=>i});var i=function(t){return t[t.CF_ACCEPTED=600]="CF_ACCEPTED",t[t.CF_UNCERTAIN=500]="CF_UNCERTAIN",t[t.CF_AMBIGUOUS=400]="CF_AMBIGUOUS",t[t.CF_NOTFOUND=300]="CF_NOTFOUND",t[t.CF_FAILED=200]="CF_FAILED",t[t.CF_REJECTED=100]="CF_REJECTED",t[t.CF_NOVALUE=0]="CF_NOVALUE",t[t.CF_UNSET=-1]="CF_UNSET",t}(i||{})},54559:(F,b,n)=>{"use strict";n.d(b,{f:()=>t});var i=n(82777);class t{Serialize(e){return(0,i.Im)(e)?"all":e}Deserialize(e){return"all"===e?"":e}}},45348:(F,b,n)=>{"use strict";n.d(b,{Z:()=>_,s:()=>E});var i=n(31635),t=n(74850),u=n(21921),e=n(56970),h=n(98688),m=n(42547);const f=new m.v("contentsource");var v=n(54559),E=function(C){return C.None="NONE",C.Metadata="METADATA_ONLY",C.MetadataAndRef="METADATA_AND_REF",C.MetadataAndBitstreams="METADATA_AND_BITSTREAMS",C}(E||{});let _=class extends e.I{constructor(){super(...arguments),this.type=f,this.harvestType=E.None}static{this.type=f}};(0,i.Cg)([h.aK,(0,i.Sn)("design:type",m.v)],_.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)("self"),(0,i.Sn)("design:type",String)],_.prototype,"uuid",void 0),(0,i.Cg)([(0,t.autoserializeAs)("oai_source"),(0,i.Sn)("design:type",String)],_.prototype,"oaiSource",void 0),(0,i.Cg)([(0,t.deserializeAs)(new v.f,"oai_set_id"),(0,t.serializeAs)(new v.f,"oai_set_id"),(0,i.Sn)("design:type",String)],_.prototype,"oaiSetId",void 0),(0,i.Cg)([(0,t.autoserializeAs)("metadata_config_id"),(0,i.Sn)("design:type",String)],_.prototype,"metadataConfigId",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_type"),(0,i.Sn)("design:type",Object)],_.prototype,"harvestType",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_status"),(0,i.Sn)("design:type",String)],_.prototype,"harvestStatus",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_start_time"),(0,i.Sn)("design:type",String)],_.prototype,"harvestStartTime",void 0),(0,i.Cg)([(0,t.autoserializeAs)("last_harvested"),(0,i.Sn)("design:type",String)],_.prototype,"lastHarvested",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_message"),(0,i.Sn)("design:type",String)],_.prototype,"message",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([u.gV],_)},26292:(F,b,n)=>{"use strict";n.d(b,{o:()=>i});var i=function(t){return t.Any="undefined",t.ItemPage="itemPage",t.Search="search",t.Workflow="workflow",t.Workspace="workspace",t.SupervisedItems="supervisedWorkspace",t.AdminMenu="adminMenu",t.EntitySearchModalWithNameVariants="EntitySearchModalWithNameVariants",t.EntitySearchModal="EntitySearchModal",t.AdminSearch="adminSearch",t.AdminWorkflowSearch="adminWorkflowSearch",t.SideBarSearchModal="sideBarSearchModal",t.SideBarSearchModalCurrent="sideBarSearchModalCurrent",t.ScopeSelectorModal="scopeSelectorModal",t.ScopeSelectorModalCurrent="scopeSelectorModalCurrent",t.MyDSpaceArchived="mydspaceArchived",t.MyDSpaceWorkspace="mydspaceWorkspace",t.MyDSpaceWorkflow="mydspaceWorkflow",t.MyDSpaceDeclined="mydspaceDeclined",t.MyDSpaceApproved="mydspaceApproved",t.MyDSpaceWaitingController="mydspaceWaitingController",t.MyDSpaceValidation="mydspaceValidation",t.Bitstream="bitstream",t.CoarNotify="coarNotify",t}(i||{})},52998:(F,b,n)=>{"use strict";function i(t,u){t.getValue()!==u&&t.next(u)}n.d(b,{S:()=>i})},13864:(F,b,n)=>{"use strict";n.d(b,{W:()=>i});var i=function(t){return t.BUNDLE="BUNDLE",t.BITSTREAM="BITSTREAM",t.ITEM="ITEM",t.COLLECTION="COLLECTION",t.COMMUNITY="COMMUNITY",t.DSPACEOBJECT="DSPACEOBJECT",t}(i||{})},76829:(F,b,n)=>{"use strict";n.d(b,{M:()=>C});var i=n(31635),t=n(74850),u=n(82777),e=n(22878),h=n(21921),m=n(98688),f=n(39147),v=n(14391),E=n(39552),_=n(42547);let C=class extends e.u{static{this.type=f.X}get self(){return this._links.self.href}set self(R){this._links.self={href:R}}get name(){return(0,u.b0)(this._name)?this.firstMetadataValue("dc.title"):this._name}set name(R){(0,u.a4)(this.firstMetadata("dc.title"))&&(this.firstMetadata("dc.title").value=R),this._name=R}get metadataAsList(){return E.O.toViewModelList(this.metadata)}allMetadata(R,T){return E.O.all(this.metadata,R,T)}allMetadataValues(R,T){return E.O.allValues(this.metadata,R,T)}firstMetadata(R,T){return E.O.first(this.metadata,R,T)}firstMetadataValue(R,T){return E.O.firstValue(this.metadata,R,T)}hasMetadata(R,T){return E.O.has(this.metadata,R,T)}findMetadataSortedByPlace(R){return this.allMetadata(R).sort((T,A)=>(0,u.Tn)(T.place)&&(0,u.Tn)(A.place)?0:(0,u.Tn)(T.place)?-1:(0,u.Tn)(A.place)?1:T.place-A.place)}getRenderTypes(){return[this.constructor]}setMetadata(R,T,...A){const p=A.map((L,D)=>{const w=new v.vD;return w.value=L,w.authority=null,w.confidence=-1,w.language=T||null,w.place=D,w});(0,u.Tn)(this.metadata)&&(this.metadata=Object.create({})),this.metadata[R]=p}removeMetadata(R){delete this.metadata[R]}};(0,i.Cg)([m.aK,(0,t.deserializeAs)("name"),(0,i.Sn)("design:type",String)],C.prototype,"_name",void 0),(0,i.Cg)([m.aK,(0,t.autoserializeAs)(String,"uuid"),(0,i.Sn)("design:type",String)],C.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String),(0,i.Sn)("design:type",String)],C.prototype,"uuid",void 0),(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",_.v)],C.prototype,"type",void 0),(0,i.Cg)([m.aK,(0,t.autoserializeAs)(v.Of),(0,i.Sn)("design:type",v.Cr)],C.prototype,"metadata",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),C=(0,i.Cg)([h.gV],C)},39147:(F,b,n)=>{"use strict";n.d(b,{X:()=>t});const t=new(n(42547).v)("dspaceobject")},15179:(F,b,n)=>{"use strict";n.d(b,{$:()=>E});var i=n(31635),t=n(74850),u=n(22878),e=n(21921),h=n(98688),m=n(42547);const f=new m.v("externalSourceEntry");var v=n(14391);let E=class extends u.u{static{this.type=f}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"id",void 0),(0,i.Cg)([h.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],E.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"display",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"externalSource",void 0),(0,i.Cg)([(0,t.autoserializeAs)(v.Of),(0,i.Sn)("design:type",v.Cr)],E.prototype,"metadata",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([e.gV],E)},31507:(F,b,n)=>{"use strict";n.d(b,{B:()=>_});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(56970),m=n(98688),f=n(42547);const v=new f.v("externalsource");var E=n(49623);let _=class extends h.I{static{this.type=v}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"hierarchical",void 0),(0,i.Cg)([(0,e.nf)(E.N,!0),(0,i.Sn)("design:type",u.c)],_.prototype,"entityTypes",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([e.gV],_)},89269:(F,b,n)=>{"use strict";n.d(b,{E:()=>v});var i=n(96697),t=n(96354),u=n(82777),e=n(67116),h=n(1676),m=n(45663),f=n(54438);let v=(()=>{class E{constructor(C,S){this._window=C,this.authService=S}retrieveFileDownloadLink(C){return this.authService.getShortlivedToken().pipe((0,i.s)(1),(0,t.T)(S=>(0,u.a4)(S)?new m.t(C,`?authentication-token=${S}`).toString():C))}getFileNameFromResponseContentDisposition(C){const S=C.headers.get("content-disposition")||"";return((/filename="([^;]+)"/gi.exec(S)||[])[1]||"untitled").trim().replace(/\.[^/.]+$/,"")}static{this.\u0275fac=function(S){return new(S||E)(f.KVO(h.lc),f.KVO(e.uR))}}static{this.\u0275prov=f.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},55451:(F,b,n)=>{"use strict";n.d(b,{P:()=>v});var i=n(31635),t=n(74850),u=n(21921),e=n(98688),h=n(393),m=n(8472),f=n(42547);let v=class extends m.o{constructor(){super(...arguments),this.type=h.z}static{this.type=h.z}get self(){return this._links.self.href}getRenderType(){return this.dataType}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",f.v)],v.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(m.o)],v)},393:(F,b,n)=>{"use strict";n.d(b,{z:()=>t});const t=new(n(42547).v)("flatBrowse")},4910:(F,b,n)=>{"use strict";n.d(b,{Y:()=>A});var i=n(88141),t=n(5964),u=n(96354),e=n(96697),h=n(25558),m=n(99172),f=n(23294),v=n(82777),E=n(72734),_=n(43052),C=n(32473),S=n(61424),R=n(80183),T=n(54438);let A=(()=>{class p{constructor(D,w){this.requestService=D,this.rdbService=w}getRootHref(){return(new S.F).toString()}getRootEndpointMap(){return this.getEndpointMapAt(this.getRootHref())}getEndpointMapAt(D){const w=new _.ld(this.requestService.generateRequestId(),D);return this.requestService.send(w,!0),this.rdbService.buildFromHref(D).pipe((0,i.M)(M=>{(0,v.a4)(M)&&M.isStale&&this.getEndpointMapAt(D)}),(0,t.p)(M=>!M.isStale),(0,R.qD)(),(0,u.T)(M=>{if((0,v.a4)(M.payload))return M.payload._links;console.warn(`No _links section found at ${D}`)}))}getEndpoint(D,w){const M=D.split("/").filter(x=>(0,v.hj)(x));return this.getEndpointAt(w||this.getRootHref(),...M).pipe((0,e.s)(1))}getEndpointAt(D,...w){if((0,v.Im)(w))throw new Error("cant't fetch the URL without the HAL link names");const M=this.getEndpointMapAt(D).pipe((0,u.T)(x=>{const j=w[0];if((0,v.a4)(x)&&(0,v.a4)(x[j]))return x[j].href;throw new Error(`${JSON.stringify(x)} doesn't contain the link ${j}`)}));return 1===w.length?M.pipe((0,e.s)(1)):M.pipe((0,h.n)(x=>this.getEndpointAt(x,...w.slice(1))),(0,e.s)(1))}isEnabledOnRestApi(D){return this.getRootEndpointMap().pipe((0,u.T)(w=>(0,v.hj)(w[D])),(0,m.Z)(void 0),(0,f.F)())}static{this.\u0275fac=function(w){return new(w||p)(T.KVO(C.B),T.KVO(E.o))}}static{this.\u0275prov=T.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},11453:(F,b,n)=>{"use strict";n.d(b,{s:()=>u});var i=n(31635),t=n(74850);class u{}(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],u.prototype,"_links",void 0)},98277:(F,b,n)=>{"use strict";n.d(b,{R:()=>E});var i=n(31635),t=n(74850),u=n(1624),e=n(21921),h=n(98688),m=n(34427),f=n(70035),v=n(42547);let E=class extends m.o{constructor(){super(...arguments),this.type=f.L}static{this.type=f.L}get self(){return this._links.self.href}getRenderType(){return u.O.Hierarchy}};(0,i.Cg)([h.aK,(0,i.Sn)("design:type",v.v)],E.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"facetType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"vocabulary",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(m.o)],E)},70035:(F,b,n)=>{"use strict";n.d(b,{L:()=>t});const t=new(n(42547).v)("hierarchicalBrowse")},23881:(F,b,n)=>{"use strict";n.d(b,{S:()=>v});var i=n(31635),t=n(74850),u=n(21921),e=n(24547),h=n(98688),m=n(42547),f=n(49623);let v=class{static{this.type=f.N}};(0,i.Cg)([h.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"label",void 0),(0,i.Cg)([(0,t.deserializeAs)(new e.a(v.type.value),"id"),(0,i.Sn)("design:type",String)],v.prototype,"uuid",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([u.gV],v)},49623:(F,b,n)=>{"use strict";n.d(b,{N:()=>t,k:()=>u});const t=new(n(42547).v)("entitytype"),u="none"},59854:(F,b,n)=>{"use strict";n.d(b,{F:()=>_});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(24547),m=n(98688),f=n(42547),v=n(49623),E=n(80284);let _=class{static{this.type=E.U}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"label",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([(0,t.deserializeAs)(new h.a(_.type.value),"id"),(0,i.Sn)("design:type",String)],_.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"leftwardType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"leftMaxCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"leftMinCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"rightwardType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"rightMaxCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"rightMinCardinality",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(v.N),(0,i.Sn)("design:type",u.c)],_.prototype,"leftType",void 0),(0,i.Cg)([(0,e.nf)(v.N),(0,i.Sn)("design:type",u.c)],_.prototype,"rightType",void 0),_=(0,i.Cg)([e.gV],_)},80284:(F,b,n)=>{"use strict";n.d(b,{U:()=>t});const t=new(n(42547).v)("relationshiptype")},67359:(F,b,n)=>{"use strict";n.d(b,{b:()=>C});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(24547),m=n(98688),f=n(13868),v=n(42547),E=n(17133),_=n(80284);let C=class{static{this.type=E.X}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",v.v)],C.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new h.a(C.type.value),"id"),(0,i.Sn)("design:type",String)],C.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],C.prototype,"leftPlace",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],C.prototype,"rightPlace",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"leftwardValue",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"rightwardValue",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.U),(0,i.Sn)("design:type",u.c)],C.prototype,"leftItem",void 0),(0,i.Cg)([(0,e.nf)(f.U),(0,i.Sn)("design:type",u.c)],C.prototype,"rightItem",void 0),(0,i.Cg)([(0,e.nf)(_.U),(0,i.Sn)("design:type",u.c)],C.prototype,"relationshipType",void 0),C=(0,i.Cg)([e.gV],C)},17133:(F,b,n)=>{"use strict";n.d(b,{X:()=>t});const t=new(n(42547).v)("relationship")},52920:(F,b,n)=>{"use strict";n.d(b,{b:()=>f});var i=n(31635),t=n(74850),u=n(21921),e=n(98688),h=n(42547);const m=new h.v("itemrequest");let f=class{static{this.type=m}};(0,i.Cg)([e.aK,t.autoserialize,(0,i.Sn)("design:type",h.v)],f.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"token",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],f.prototype,"allfiles",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"requestEmail",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"requestName",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"requestMessage",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"requestDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],f.prototype,"acceptRequest",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"decisionDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"expires",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"itemId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"bitstreamId",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],f.prototype,"_links",void 0),f=(0,i.Cg)([u.gV],f)},88318:(F,b,n)=>{"use strict";n.d(b,{q:()=>A});var i=n(31635),t=n(74850),u=n(71985),e=n(87922),h=n(82777),m=n(89177),f=n(21921),v=n(96470),E=n(2527),_=n(9927),C=n(76829),S=n(13868),R=n(17133),T=n(16321);let A=class extends C.M{static{this.type=S.U}getRenderTypes(){const L=this.firstMetadataValue("dspace.entity.type");return(0,h.Im)(L)?super.getRenderTypes():[L,...super.getRenderTypes()]}getParentLinkKey(){return"owningCollection"}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],A.prototype,"handle",void 0),(0,i.Cg)([(0,t.deserializeAs)(Date),(0,i.Sn)("design:type",Date)],A.prototype,"lastModified",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"inArchive"),(0,i.Sn)("design:type",Boolean)],A.prototype,"isArchived",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"discoverable"),(0,i.Sn)("design:type",Boolean)],A.prototype,"isDiscoverable",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"withdrawn"),(0,i.Sn)("design:type",Boolean)],A.prototype,"isWithdrawn",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],A.prototype,"_links",void 0),(0,i.Cg)([(0,f.nf)(_.n),(0,i.Sn)("design:type",u.c)],A.prototype,"owningCollection",void 0),(0,i.Cg)([(0,f.nf)(T.x),(0,i.Sn)("design:type",u.c)],A.prototype,"version",void 0),(0,i.Cg)([(0,f.nf)(E.d,!0),(0,i.Sn)("design:type",u.c)],A.prototype,"bundles",void 0),(0,i.Cg)([(0,f.nf)(R.X,!0),(0,i.Sn)("design:type",u.c)],A.prototype,"relationships",void 0),(0,i.Cg)([(0,f.nf)(v.e,!1,"thumbnail"),(0,i.Sn)("design:type",u.c)],A.prototype,"thumbnail",void 0),(0,i.Cg)([(0,f.nf)(e.E),(0,i.Sn)("design:type",u.c)],A.prototype,"accessStatus",void 0),(0,i.Cg)([(0,f.nf)(m.f,!1,"identifiers"),(0,i.Sn)("design:type",u.c)],A.prototype,"identifiers",void 0),A=(0,i.Cg)([f.gV,(0,t.inheritSerialization)(C.M)],A)},13868:(F,b,n)=>{"use strict";n.d(b,{U:()=>t});const t=new(n(42547).v)("item")},18602:(F,b,n)=>{"use strict";n.d(b,{m:()=>t});const t=new(n(42547).v)("license")},93498:(F,b,n)=>{"use strict";n.d(b,{y:()=>u});var i=n(88318),t=n(85448);class u extends i.q{constructor(h){super(),this.virtualMetadata=h}get itemType(){return this.firstMetadataValue("dspace.entity.type")}get representationType(){return t.d.Item}getValue(){return this.virtualMetadata.value}}},85448:(F,b,n)=>{"use strict";n.d(b,{d:()=>i});var i=function(t){return t.None="none",t.Item="item",t.AuthorityControlled="authority_controlled",t.PlainText="plain_text",t.BrowseLink="browse_link",t}(i||{})},90424:(F,b,n)=>{"use strict";n.d(b,{Q:()=>e});var i=n(82777),t=n(14391),u=n(85448);class e extends t.vD{constructor(m,f){super(),this.itemType=m,this.browseDefinition=f}get representationType(){return(0,i.a4)(this.authority)?u.d.AuthorityControlled:(0,i.a4)(this.browseDefinition)?u.d.BrowseLink:u.d.PlainText}getValue(){return this.value}}},14391:(F,b,n)=>{"use strict";n.d(b,{BY:()=>e,Cr:()=>h,Of:()=>v,vD:()=>m});var i=n(31635),t=n(74850),u=n(36883);const e="virtual::";class h{}class m{constructor(){this.uuid=(0,u.A)()}}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"language",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],m.prototype,"place",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"authority",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],m.prototype,"confidence",void 0);const v={Serialize(E){const _={};return Object.keys(E).forEach(C=>{_[C]=(0,t.Serialize)(E[C],m)}),_},Deserialize(E){const _={};return Object.keys(E).forEach(C=>{_[C]=(0,t.Deserialize)(E[C],m)}),_}}},39552:(F,b,n)=>{"use strict";n.d(b,{O:()=>f});var i=n(28267),t=n.n(i),u=n(69136),e=n.n(u),h=n(82777),m=n(14391);class f{static all(E,_,C){const S=E instanceof Array?E:[E],R=[];for(const T of S){for(const A of f.resolveKeys(T,_)){const p=T[A];if(p)for(const L of p)f.valueMatches(L,C)&&R.push(L)}if(!(0,h.Im)(R))return R}return R}static allValues(E,_,C){return f.all(E,_,C).map(S=>S.value)}static first(E,_,C){const S=E instanceof Array?E:[E];for(const R of S)for(const T of f.resolveKeys(R,_)){const A=R[T];if(A)return A.find(p=>f.valueMatches(p,C))}}static firstValue(E,_,C){const S=f.first(E,_,C);return(0,h.b0)(S)?void 0:S.value}static has(E,_,C){return(0,h.EA)(f.first(E,_,C))}static valueMatches(E,_){if(!_)return!0;if(_.language&&_.language!==E.language)return!1;if(_.authority&&_.authority!==E.authority)return!1;if(_.value){let C=_.value,S=E.value;return _.ignoreCase&&(C=_.value.toLowerCase(),S=E.value.toLowerCase()),_.substring?S.includes(C):S===C}return!0}static resolveKeys(E={},_){const C=_ instanceof Array?_:[_],S=[];for(const R of C)if(R.includes("*")){const T=new RegExp("^"+R.replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")+"$");for(const A of Object.keys(E))!S.includes(A)&&T.test(A)&&S.push(A)}else E.hasOwnProperty(R)&&!S.includes(R)&&S.push(R);return S}static toViewModelList(E){let _=[];return Object.keys(E).sort().forEach(C=>{const S=E[C].map((R,T)=>Object.assign({},R,{order:T,key:C}));_=[..._,...S]}),_}static toMetadataMap(E){const _={},C=t()(E,S=>S.key);return Object.keys(C).sort().forEach(S=>{const R=e()(C[S],["order"]);_[S]=R.map(T=>{const A=Object.assign(new m.vD,T);return delete A.order,delete A.key,A})}),_}static setFirstValue(E,_,C){(0,h.hj)(E[_])?E[_][0].value=C:E[_]=[Object.assign(new m.vD,{value:C})]}}},8472:(F,b,n)=>{"use strict";n.d(b,{o:()=>h});var i=n(31635),t=n(74850),e=(n(1624),n(34427));let h=class extends e.o{};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],h.prototype,"sortOptions",void 0),(0,i.Cg)([(0,t.autoserializeAs)("order"),(0,i.Sn)("design:type",String)],h.prototype,"defaultSortOrder",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],h.prototype,"dataType",void 0),h=(0,i.Cg)([(0,t.inheritSerialization)(e.o)],h)},80183:(F,b,n)=>{"use strict";n.d(b,{f6:()=>L,F3:()=>p,bD:()=>M,v7:()=>te,Hz:()=>X,Jq:()=>J,D4:()=>z,qD:()=>x,GD:()=>Q,yd:()=>U,ak:()=>k,QQ:()=>K,Ar:()=>G,o5:()=>$,W8:()=>w,Bo:()=>D,LB:()=>le,qn:()=>ee,jY:()=>Z});var i=n(54438),t=n(40605),u=n(84572),e=n(39974),h=n(85343),m=n(54360),f=n(58750),E=n(70152),_=n(96354),C=n(5964),S=n(96697),R=n(47677),T=n(25558),A=n(82777);const p=(ne,fe)=>function v(ne){return(0,e.N)((fe,se)=>{let ce=!1,Te=null,be=null;const me=()=>{if(be?.unsubscribe(),be=null,ce){ce=!1;const re=Te;Te=null,se.next(re)}};fe.subscribe((0,m._)(se,re=>{be?.unsubscribe(),ce=!0,Te=re,be=(0,m._)(se,me,h.l),(0,f.Tg)(ne(re)).subscribe(be)},()=>{me(),se.complete()},void 0,()=>{Te=be=null}))})}(()=>(0,t.Y)(ne,fe)),L=new i.nKC("debounceTime",{providedIn:"root",factory:()=>E.B}),D=()=>ne=>ne.pipe((0,_.T)(fe=>fe?.payload)),w=()=>ne=>ne.pipe((0,_.T)(fe=>fe.page)),M=()=>ne=>ne.pipe((0,C.p)(fe=>(0,A.a4)(fe)&&fe.hasCompleted)),x=()=>ne=>ne.pipe(M(),(0,S.s)(1)),U=()=>ne=>ne.pipe((0,C.p)(fe=>fe.hasSucceeded),(0,S.s)(1)),$=()=>ne=>ne.pipe((0,R.I)(fe=>fe.hasSucceeded&&(0,A.hj)(fe.payload))),k=()=>ne=>ne.pipe(U(),D()),K=()=>ne=>ne.pipe($(),D()),X=()=>ne=>ne.pipe(te(),D()),G=()=>ne=>ne.pipe(U(),D(),w()),z=()=>ne=>ne.pipe((0,R.I)(fe=>!fe.isLoading)),te=()=>ne=>ne.pipe((0,C.p)(fe=>fe.hasSucceeded)),Z=()=>ne=>ne.pipe((0,C.p)(fe=>fe.hasSucceeded),(0,_.T)(fe=>{const se=fe.payload.page.filter(Te=>(0,A.a4)(Te)).map(Te=>Te.indexableObject),ce=Object.assign(fe.payload,{page:se});return Object.assign(fe,{payload:ce})})),J=ne=>fe=>fe.pipe(D(),w(),(0,_.T)(se=>se.find(ce=>ce.id===ne)),(0,_.T)(se=>{if((0,A.hj)(se))return se._links;throw new Error(`No metadata browse definition could be found for id '${ne}'`)})),Q=()=>ne=>ne.pipe((0,_.T)(fe=>Object.assign(fe,{payload:fe.payload.page.length>0?fe.payload.page[0]:void 0}))),ee=()=>ne=>ne.pipe((0,A.Az)(),(0,_.T)(fe=>fe.payload.page.filter(se=>(0,A.a4)(se)))),le=()=>ne=>ne.pipe((0,A.Az)(),(0,_.T)(fe=>fe.payload.page.filter(se=>(0,A.a4)(se))),(0,T.n)(fe=>{const se=fe.map(ce=>ce.schema.pipe(k(),(0,_.T)(Te=>({field:ce,schema:Te}))));return(0,A.hj)(se)?(0,u.z)(se):[[]]}),(0,_.T)(fe=>fe.map(se=>se.schema.prefix+"."+se.field.toString())))},32089:(F,b,n)=>{"use strict";n.d(b,{Q:()=>e});var i=n(31635),t=n(74850),u=n(82777);class e{constructor(m){(0,u.a4)(m)&&(this.elementsPerPage=m.elementsPerPage,this.totalElements=m.totalElements,this.totalPages=m.totalPages,this.currentPage=m.currentPage)}get self(){return this._links.self.href}get last(){if((0,u.a4)(this._links)&&(0,u.a4)(this._links.last))return this._links.last.href}get next(){if((0,u.a4)(this._links)&&(0,u.a4)(this._links.next))return this._links.next.href}get prev(){if((0,u.a4)(this._links)&&(0,u.a4)(this._links.prev))return this._links.prev.href}get first(){if((0,u.a4)(this._links)&&(0,u.a4)(this._links.first))return this._links.first.href}}(0,i.Cg)([(0,t.autoserializeAs)(Number,"size"),(0,i.Sn)("design:type",Number)],e.prototype,"elementsPerPage",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],e.prototype,"totalElements",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],e.prototype,"totalPages",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Number,"number"),(0,i.Sn)("design:type",Number)],e.prototype,"currentPage",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],e.prototype,"_links",void 0)},71135:(F,b,n)=>{"use strict";n.d(b,{c:()=>h});var i=n(31635),t=n(21921);const e=new(n(42547).v)("registration");let h=class{static{this.type=e}};h=(0,i.Cg)([t.gV],h)},91098:(F,b,n)=>{"use strict";n.d(b,{Ky:()=>e,m9:()=>h,w$:()=>f});var i=n(73028),t=n(88141),u=n(82777);const e=v=>E=>E.pipe((0,i.Z)(_=>v.getByHref(_)),(0,u.Az)()),h=v=>E=>E.pipe((0,i.Z)(_=>v.getByUUID(_)),(0,u.Az)()),f=v=>E=>E.pipe((0,t.M)(_=>v.send(_)))},42547:(F,b,n)=>{"use strict";n.d(b,{v:()=>i});class i{constructor(u){this.value=u}}},39012:(F,b,n)=>{"use strict";n.d(b,{g:()=>be});var i=n(84572),t=n(84412),u=n(57786),e=n(99172),h=n(96354),m=n(5964),f=n(96697),v=n(82640),E=n(82777),_=n(23401),C=n(43404),S=n(59780),R=n(33550);class T{constructor(re,Ee,De){this.key=re,this.values=Ee,this.operator=De}}var A=n(6842),p=n(54196),L=n(1321),D=n(72734),w=n(6238),M=n(31635),x=n(74850),j=n(21921),U=n(98688);const k=new(n(42547).v)("discovery-facets");let K=class{constructor(){this.type=k}static{this.type=k}};(0,M.Cg)([U.aK,(0,M.Sn)("design:type",Object)],K.prototype,"type",void 0),(0,M.Cg)([x.deserialize,(0,M.Sn)("design:type",Object)],K.prototype,"_links",void 0),K=(0,M.Cg)([j.gV],K);var X=n(13808),G=n(28580),q=n(49872),z=n(54438);let te=(()=>{class me extends q.D3{parse(Ee,De){const tt=De.payload._embedded.facets,Fe=new G.T(A.F).deserializeArray(tt),Et={self:De.payload._links.self};Fe.forEach(pt=>{Et[pt.name]={href:pt._links.self.href}});const Ye=Object.assign(new K,{filters:Fe,_links:Et});return this.addToObjectCache(Ye,Ee,De),new X.hT(De.statusCode,Ye._links.self)}static{this.\u0275fac=(()=>{let Ee;return function(tt){return(Ee||(Ee=z.xGo(me)))(tt||me)}})()}static{this.\u0275prov=z.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}}return me})();var Z=n(1716),J=n(43052),Q=n(32473),ee=n(22978),le=n(56760),ne=n(45663),fe=n(13864),se=n(4910),ce=n(80183),Te=n(7901);let be=(()=>{class me{constructor(Ee,De,tt,ht,Fe,Et,Ye,pt){this.routeService=Ee,this.paginationService=De,this.route=tt,this.linkService=ht,this.halService=Fe,this.requestService=Et,this.rdb=Ye,this.appConfig=pt,this.configurationLinkPath="discover/search",this.facetLinkPathPrefix="discover/facets/",this.paginationID="spc",this.defaultPagination=Object.assign(new _.W,{id:this.paginationID,pageSize:10,currentPage:1}),this.defaultScope="",this.defaultQuery="",this.subs=new Map(null),this.initDefaults()}get defaults(){if((0,E.Tn)(this._defaults)){const Ee=new R.C({pagination:this.defaultPagination,scope:this.defaultScope,query:this.defaultQuery});this._defaults=(0,C.CX)(Ee,(new Date).getTime())}return this._defaults}getCurrentConfiguration(Ee){return(0,i.z)([this.routeService.getQueryParameterValue("configuration").pipe((0,e.Z)(void 0)),this.routeService.getRouteParameterValue("configuration").pipe((0,e.Z)(void 0))]).pipe((0,h.T)(([De,tt])=>De||tt||Ee))}getCurrentScope(Ee){return this.routeService.getQueryParameterValue("scope").pipe((0,h.T)(De=>De||Ee))}getCurrentQuery(Ee){return this.routeService.getQueryParameterValue("query").pipe((0,h.T)(De=>De||Ee))}getCurrentDSOType(){return this.routeService.getQueryParameterValue("dsoType").pipe((0,m.p)(Ee=>(0,E.hj)(Ee)&&(0,E.a4)(fe.W[Ee.toUpperCase()])),(0,h.T)(Ee=>fe.W[Ee.toUpperCase()]))}getCurrentPagination(Ee,De){return this.paginationService.getCurrentPagination(Ee,De)}getCurrentSort(Ee,De){return this.paginationService.getCurrentSort(Ee,De)}getCurrentFilters(){return this.routeService.getQueryParamsWithPrefix("f.").pipe((0,h.T)(Ee=>{if((0,E.hj)(Ee)){const De=[];return Object.keys(Ee).forEach(tt=>{if(tt.endsWith(".min")||tt.endsWith(".max")){const ht=tt.slice(0,-4);(0,E.Tn)(De.find(Fe=>Fe.key===ht))&&De.push(new T(ht,["["+(Ee[ht+".min"]?Ee[ht+".min"][0]:"*")+" TO "+(Ee[ht+".max"]?Ee[ht+".max"][0]:"*")+"]"],"equals"))}else De.push(new T(tt,Ee[tt]))}),De}return[]}))}getCurrentFixedFilter(){return this.routeService.getRouteParameterValue("fixedFilterQuery")}getCurrentFrontendFilters(){return this.routeService.getQueryParamsWithPrefix("f.")}getCurrentViewMode(Ee){return this.routeService.getQueryParameterValue("view").pipe((0,h.T)(De=>De||Ee))}getConfigurationSearchConfig(Ee,De){return this.getSearchConfigurationFor(De,Ee).pipe((0,ce.Hz)())}getConfigurationSortOptions(Ee){return Ee.sortOptions.map(De=>({field:De.name,direction:De.sortOrder.toLowerCase()===w.U.ASC.toLowerCase()?w.U.ASC:w.U.DESC}))}getConfigurationAdvancedSearchFilters(Ee,De){return this.getConfigurationSearchConfig(Ee,De).pipe((0,h.T)(tt=>tt.filters.filter(ht=>this.appConfig.search.advancedFilters.filter.includes(ht.filter)).filter(ht=>ht.type!==S.R.range)))}setPaginationId(Ee){if((0,E.hj)(Ee)){const De=this.paginatedSearchOptions.getValue(),tt=Object.assign(new R.C({}),De,{pagination:Object.assign({},De.pagination,{id:Ee})});this.unsubscribeFromSearchOptions(this.paginationID),this.paginationID=Ee,this.paginatedSearchOptions.next(tt),this.setSearchSubscription(this.paginationID,this.paginatedSearchOptions.value)}}ngOnDestroy(){this.subs.forEach(Ee=>Ee.filter(De=>(0,E.a4)(De)).forEach(De=>De.unsubscribe())),this.subs=new Map(null)}initDefaults(){this.defaults.pipe((0,ce.yd)()).subscribe(Ee=>{const De=Ee.payload;this.paginatedSearchOptions=new t.t(De),this.searchOptions=new t.t(De),this.setSearchSubscription(this.paginationID,De)})}setSearchSubscription(Ee,De){this.unsubscribeFromSearchOptions(Ee);const tt=[this.subscribeToSearchOptions(De),this.subscribeToPaginatedSearchOptions(Ee||De.pagination.id,De)];this.subs.set(this.paginationID,tt)}subscribeToSearchOptions(Ee){return(0,u.h)(this.getConfigurationPart(Ee.configuration),this.getScopePart(Ee.scope),this.getQueryPart(Ee.query),this.getDSOTypePart(),this.getFiltersPart(),this.getFixedFilterPart(),this.getViewModePart(Ee.view)).subscribe(De=>{const tt=this.searchOptions.getValue(),ht=Object.assign(new R.C({}),tt,De);this.searchOptions.next(ht)})}subscribeToPaginatedSearchOptions(Ee,De){return(0,u.h)(this.getConfigurationPart(De.configuration),this.getPaginationPart(Ee,De.pagination),this.getSortPart(Ee,De.sort),this.getScopePart(De.scope),this.getQueryPart(De.query),this.getDSOTypePart(),this.getFiltersPart(),this.getFixedFilterPart(),this.getViewModePart(De.view)).subscribe(tt=>{const ht=this.paginatedSearchOptions.getValue(),Fe=Object.assign(new R.C({}),ht,tt);this.paginatedSearchOptions.next(Fe)})}unsubscribeFromSearchOptions(Ee){this.subs.has(this.paginationID)&&(this.subs.get(this.paginationID).filter(De=>(0,E.a4)(De)).forEach(De=>De.unsubscribe()),this.subs.delete(Ee))}getConfigurationPart(Ee){return this.getCurrentConfiguration(Ee).pipe((0,h.T)(De=>({configuration:De})))}getScopePart(Ee){return this.getCurrentScope(Ee).pipe((0,h.T)(De=>({scope:De})))}getQueryPart(Ee){return this.getCurrentQuery(Ee).pipe((0,h.T)(De=>({query:De})))}getDSOTypePart(){return this.getCurrentDSOType().pipe((0,h.T)(Ee=>({dsoType:Ee})))}getPaginationPart(Ee,De){return this.getCurrentPagination(Ee,De).pipe((0,h.T)(tt=>({pagination:tt})))}getSortPart(Ee,De){return this.getCurrentSort(Ee,De).pipe((0,h.T)(tt=>({sort:tt})))}getFiltersPart(){return this.getCurrentFilters().pipe((0,h.T)(Ee=>({filters:Ee})))}getFixedFilterPart(){return this.getCurrentFixedFilter().pipe((0,E.VT)(),(0,h.T)(Ee=>({fixedFilter:Ee})))}getSearchConfigurationFor(Ee,De){const tt=this.halService.getEndpoint(this.configurationLinkPath).pipe((0,h.T)(ht=>this.getConfigUrl(ht,Ee,De)));return tt.pipe((0,f.s)(1)).subscribe(ht=>{const Fe=new J.IP(this.requestService.generateRequestId(),ht);this.requestService.send(Fe,!0)}),this.rdb.buildFromHref(tt)}getConfigUrl(Ee,De,tt){const ht=[];return(0,E.hj)(De)&&ht.push(`scope=${De}`),(0,E.hj)(tt)&&ht.push(`configuration=${tt}`),(0,E.hj)(ht)&&(Ee=new ne.t(Ee,`?${ht.join("&")}`).toString()),Ee}getConfig(Ee,De){const tt=this.halService.getEndpoint(this.facetLinkPathPrefix).pipe((0,h.T)(ht=>this.getConfigUrl(ht,Ee,De)));return tt.pipe((0,f.s)(1)).subscribe(ht=>{let Fe=new J.IP(this.requestService.generateRequestId(),ht);Fe=Object.assign(Fe,{getResponseParser:()=>te}),this.requestService.send(Fe,!0)}),this.rdb.buildFromHref(tt).pipe((0,h.T)(ht=>{if(ht.hasSucceeded){let Fe;return Fe=(0,E.hj)(ht.payload.filters)?ht.payload.filters.map(Et=>Object.assign(new A.F,Et)):[],new Z.j(ht.timeCompleted,ht.msToLive,ht.lastUpdated,ht.state,ht.errorMessage,Fe,ht.statusCode)}return ht}))}unselectAppliedFilterParams(Ee,De,tt){return this.routeService.getParamsExceptValue(`f.${Ee}`,(0,E.a4)(tt)?(0,p.mq)(De,tt):De).pipe((0,h.T)(ht=>Object.assign(ht,{[this.paginationService.getPageParam(this.paginationID)]:1})))}selectNewAppliedFilterParams(Ee,De,tt){return this.routeService.getParamsWithAdditionalValue(`f.${Ee}`,(0,E.a4)(tt)?(0,p.mq)(De,tt):De).pipe((0,h.T)(ht=>Object.assign(ht,{[this.paginationService.getPageParam(this.paginationID)]:1})))}getViewModePart(Ee){return this.getCurrentViewMode(Ee).pipe((0,h.T)(De=>({view:De})))}static{this.\u0275fac=function(De){return new(De||me)(z.KVO(le.v$),z.KVO(ee.m),z.KVO(Te.nX),z.KVO(L._),z.KVO(se.Y),z.KVO(Q.B),z.KVO(D.o),z.KVO(v.vQ))}}static{this.\u0275prov=z.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}}return me})()},15465:(F,b,n)=>{"use strict";n.d(b,{U:()=>L});var i=n(25499),t=n(84572),u=n(7673),e=n(96354),h=n(23294),m=n(82777),f=n(23401),v=n(54196),E=n(22180),_=n(54438);let C=(()=>{class M{constructor(){this.specials=["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"],this.regex=RegExp("["+this.specials.join("\\")+"]","g")}transform(j,U){const $=this.escapeRegExp(U),k=new RegExp($,"gi");return j.replace(k,"<em>$&</em>")}escapeRegExp(j){return j.replace(this.regex,"\\$&")}static{this.\u0275fac=function(U){return new(U||M)}}static{this.\u0275pipe=_.EJ8({name:"dsEmphasize",type:M,pure:!0,standalone:!0})}}return M})();var S=n(6238),R=n(56760),T=n(80183),A=n(78655);const p=M=>M.searchFilter;let L=(()=>{class M{constructor(j,U,$){this.searchService=j,this.store=U,this.routeService=$}isFilterActiveWithValue(j,U){return this.routeService.hasQueryParamWithValue(j,U)}isFilterActive(j){return this.routeService.hasQueryParam(j)}getCurrentScope(){return this.routeService.getQueryParameterValue("scope")}getCurrentQuery(){return this.routeService.getQueryParameterValue("query")}getCurrentPagination(j={}){const U=this.routeService.getQueryParameterValue("page"),$=this.routeService.getQueryParameterValue("pageSize");return(0,t.z)(U,$).pipe((0,e.T)(([k,K])=>Object.assign(new f.W,j,{currentPage:k||1,pageSize:K||j.pageSize})))}getCurrentSort(j){const U=this.routeService.getQueryParameterValue("sortDirection"),$=this.routeService.getQueryParameterValue("sortField");return(0,t.z)(U,$).pipe((0,e.T)(([k,K])=>new S.z(K||j.field,S.U[k]||j.direction)))}getCurrentFilters(){return this.routeService.getQueryParamsWithPrefix("f.")}getCurrentView(){return this.routeService.getQueryParameterValue("view")}findSuggestions(j,U,$){return(0,m.hj)($)?this.searchService.getFacetValuesFor(j,1,U,$.toLowerCase()).pipe((0,T.yd)(),(0,e.T)(k=>k.payload.page.map(K=>({displayValue:this.getDisplayValue(K,$),query:(0,v.SB)(K,j),value:(0,v.gp)((0,v.SB)(K,j))})))):(0,u.of)([])}getDisplayValue(j,U){return`${(new C).transform(j.value,U)} (${j.count})`}isCollapsed(j){return this.store.pipe((0,i.Lt)(D(j)),(0,e.T)(U=>!!U&&(U.filterCollapsed||U.minimized)),(0,h.F)())}getPage(j){return this.store.pipe((0,i.Lt)(D(j)),(0,e.T)(U=>U?U.page:1),(0,h.F)())}collapse(j){this.store.dispatch(new E.ge(j))}expand(j){this.store.dispatch(new E.nj(j))}toggle(j){this.store.dispatch(new E.Fi(j))}initializeFilter(j){this.store.dispatch(new E.L2(j))}decrementPage(j){this.store.dispatch(new E.R0(j))}incrementPage(j){this.store.dispatch(new E.tq(j))}resetPage(j){this.store.dispatch(new E.Bf(j))}minimizeAll(){this.store.dispatch(new E.Po)}static{this.\u0275fac=function(U){return new(U||M)(_.KVO(A.S),_.KVO(i.il),_.KVO(R.v$))}}static{this.\u0275prov=_.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();function D(M){return function w(M){return(0,i.Mz)(p,x=>{if((0,m.a4)(x))return x[M]})}(M)}},78655:(F,b,n)=>{"use strict";n.d(b,{S:()=>Ee});var i=n(84412),t=n(84572),u=n(96354),e=n(23294),h=n(96697),m=n(25558),f=n(88141),v=n(82777),E=n(23401),_=n(33550),C=n(1102),S=n(43280),R=n(72734),T=n(49802),A=n(13989),p=n(54994),L=n(31635),D=n(74850),w=n(21921),M=n(96820),x=n(98688),U=(n(59780),n(24385));const k=new(n(42547).v)("discovery-facetvalues");let K=class extends U.a{constructor(){super(...arguments),this.type=k}static{this.type=k}};(0,L.Cg)([x.aK,(0,L.Sn)("design:type",Object)],K.prototype,"type",void 0),(0,L.Cg)([D.autoserialize,(0,L.Sn)("design:type",String)],K.prototype,"name",void 0),(0,L.Cg)([(0,D.autoserializeAs)(String,"facetType"),(0,L.Sn)("design:type",String)],K.prototype,"filterType",void 0),(0,L.Cg)([D.autoserialize,(0,L.Sn)("design:type",Number)],K.prototype,"facetLimit",void 0),(0,L.Cg)([(0,D.autoserializeAs)(p.L,"values"),(0,L.Sn)("design:type",Array)],K.prototype,"page",void 0),K=(0,L.Cg)([w.gV,(0,D.inheritSerialization)(M.O),(0,D.inheritSerialization)(U.a)],K);var X=n(13808),G=n(28580),q=n(49872),z=n(54438);let te=(()=>{class De extends q.D3{parse(ht,Fe){const Et=Fe.payload,Ye=new G.T(K).deserialize(Et);return Ye.pageInfo=this.processPageInfo(Et),Ye.page=new G.T(p.L).deserializeArray(Et._embedded.values),this.addToObjectCache(Ye,ht,Fe),new X.hT(Fe.statusCode,Ye._links.self)}static{this.\u0275fac=(()=>{let ht;return function(Et){return(ht||(ht=z.xGo(De)))(Et||De)}})()}static{this.\u0275prov=z.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}}return De})();var Z=n(1716),J=n(43052),Q=n(32473),ee=n(44701),le=n(22978),ne=n(56760),fe=n(45663),se=n(4910),ce=n(80183),Te=n(78448),be=n(39012),me=n(97324);class re extends T.L{constructor(){super("discover",void 0,void 0,void 0,void 0)}addEmbedParams(tt,ht,...Fe){return super.addEmbedParams(tt,ht,...Fe)}}let Ee=(()=>{class De{constructor(ht,Fe,Et,Ye,pt,Mt,Ne,ot){this.routeService=ht,this.requestService=Fe,this.rdb=Et,this.halService=Ye,this.dspaceObjectService=pt,this.paginationService=Mt,this.searchConfigurationService=Ne,this.angulartics2=ot,this.searchLinkPath="discover/search/objects",this.parser=ee.z,this.request=J.IP,this.appliedFilters$=new i.t([]),this.searchDataService=new re}getSelectedValuesForFilter(ht){return this.appliedFilters$.pipe((0,u.T)(Fe=>Fe.filter(Et=>Et.filter===ht)),(0,e.F)((Fe,Et)=>JSON.stringify(Fe)===JSON.stringify(Et)))}setServiceOptions(ht,Fe){ht&&(this.parser=ht),Fe&&(this.request=Fe)}getEndpoint(ht){return this.halService.getEndpoint(this.searchLinkPath).pipe((0,u.T)(Fe=>(0,v.a4)(ht)?ht.toRestUrl(Fe):Fe))}search(ht,Fe,Et=!0,Ye=!0,...pt){const Mt=this.getEndpoint(ht);Mt.pipe((0,h.s)(1),(0,u.T)(ot=>{const Gt=this.searchDataService.addEmbedParams(ot,[],...pt);return(0,v.hj)(Gt)?new fe.t(ot,`?${Gt.join("&")}`).toString():ot})).subscribe(ot=>{const Gt=new this.request(this.requestService.generateRequestId(),ot);Object.assign(Gt,{responseMsToLive:(0,v.a4)(Fe)?Fe:Gt.responseMsToLive,getResponseParser:()=>this.parser,searchOptions:ht}),this.requestService.send(Gt,Et)});const Ne=Mt.pipe((0,m.n)(ot=>this.rdb.buildFromHref(ot)));return this.directlyAttachIndexableObjects(Ne,Et,Ye,...pt)}directlyAttachIndexableObjects(ht,Fe=!0,Et=!0,...Ye){return ht.pipe((0,m.n)(pt=>{if((0,v.a4)(pt.payload)&&(0,v.hj)(pt.payload.page)){const Mt=pt.payload.page.map(Ne=>this.dspaceObjectService.findByHref(Ne._links.indexableObject.href,Fe,Et,...Ye).pipe((0,ce.qD)(),(0,ce.Bo)(),(0,v.Az)(),(0,u.T)(ot=>{const Zt=(0,S.L)(ot.constructor);return Object.assign(new Zt,Ne,{indexableObject:ot})})));return(0,t.z)(Mt).pipe((0,u.T)(Ne=>{const ot=Object.assign(new C.n,pt.payload,{page:Ne});return new Z.j(pt.timeCompleted,pt.msToLive,pt.lastUpdated,pt.state,pt.errorMessage,ot,pt.statusCode)}))}return[pt]}))}getFacetValuesFor(ht,Fe,Et,Ye,pt=!0){let Mt,Ne=[];(0,v.a4)(Ye)&&Ne.push(`prefix=${encodeURIComponent(Ye)}`),(0,v.a4)(Et)?Mt=(Et=Object.assign(new _.C({}),Et,{pagination:Object.assign({},Et.pagination,{currentPage:Fe,pageSize:ht.pageSize})})).toRestUrl(ht._links.self.href,Ne):(Ne=["page="+(Fe-1),`size=${ht.pageSize}`,...Ne],Mt=new fe.t(ht._links.self.href,`?${Ne.join("&")}`).toString());let ot=new this.request(this.requestService.generateRequestId(),Mt);return ot=Object.assign(ot,{getResponseParser:()=>te}),this.requestService.send(ot,pt),this.rdb.buildFromHref(Mt).pipe((0,f.M)(Gt=>{if(Gt.hasSucceeded){const Zt=(Gt.payload.appliedFilters??[]).filter(mt=>(0,v.a4)(mt)).map(mt=>Object.assign({},mt,{operator:(0,v.a4)(mt.value.match(/\[\s*(\*|\d+)\s*TO\s*(\*|\d+)\s*]/))?"range":mt.operator}));this.appliedFilters$.next(Zt)}}))}getViewMode(){return this.routeService.getQueryParamMap().pipe((0,u.T)(ht=>(0,v.hj)(ht.get("view"))&&(0,v.a4)(ht.get("view"))?ht.get("view"):Te.n.ListElement))}setViewMode(ht,Fe){this.paginationService.getCurrentPagination(this.searchConfigurationService.paginationID,new E.W).pipe((0,h.s)(1)).subscribe(Et=>{let Ye={page:1};const pt={view:ht};ht===Te.n.DetailedListElement?Ye=Object.assign(Ye,{pageSize:1}):1===Et.pageSize&&(Ye=Object.assign(Ye,{pageSize:10})),this.paginationService.updateRouteWithUrl(this.searchConfigurationService.paginationID,(0,v.a4)(Fe)?Fe:[this.getSearchLink()],Ye,pt)})}trackSearch(ht,Fe,Et){const Ye=[],pt=Fe.appliedFilters||[];for(let Mt=0,Ne=pt.length;Mt<Ne;Mt++)Ye.push(pt[Mt]);this.angulartics2.eventTrack.next({action:"search",properties:{searchOptions:ht,page:{size:ht.pagination.size,totalElements:Fe.pageInfo.totalElements,totalPages:Fe.pageInfo.totalPages,number:ht.pagination.currentPage},sort:{by:ht.sort.field,order:ht.sort.direction},filters:Ye,clickedObject:Et}})}getSearchLink(){return"/search"}static{this.\u0275fac=function(Fe){return new(Fe||De)(z.KVO(ne.v$),z.KVO(Q.B),z.KVO(R.o),z.KVO(se.Y),z.KVO(A.DSpaceObjectDataService),z.KVO(le.m),z.KVO(be.g),z.KVO(me.il))}}static{this.\u0275prov=z.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}}return De})()},30164:(F,b,n)=>{"use strict";n.d(b,{v:()=>u});var i=n(36883),t=n(54438);let u=(()=>{class e{generate(){return(0,i.A)()}static{this.\u0275fac=function(f){return new(f||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},50800:(F,b,n)=>{"use strict";n.d(b,{f:()=>v});var i=n(31635),t=n(74850),u=n(21921),e=n(98688),h=n(8472),m=n(42547),f=n(7654);let v=class extends h.o{constructor(){super(...arguments),this.type=f.o}static{this.type=f.o}get self(){return this._links.self.href}getRenderType(){return this.dataType}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",m.v)],v.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(h.o)],v)},7654:(F,b,n)=>{"use strict";n.d(b,{o:()=>t});const t=new(n(42547).v)("valueList")},65592:(F,b,n)=>{"use strict";n.d(b,{s:()=>t});const t=new(n(42547).v)("versionhistory")},2035:(F,b,n)=>{"use strict";n.d(b,{R:()=>C});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(58235),m=n(98688),f=n(76829),v=n(13868),E=n(16321),_=n(65592);let C=class extends f.M{static{this.type=E.x}};(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],C.prototype,"version",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"summary",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"submitterName",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Date)],C.prototype,"created",void 0),(0,i.Cg)([m.aK,(0,e.nf)(_.s),(0,i.Sn)("design:type",u.c)],C.prototype,"versionhistory",void 0),(0,i.Cg)([m.aK,(0,e.nf)(v.U),(0,i.Sn)("design:type",u.c)],C.prototype,"item",void 0),(0,i.Cg)([m.aK,(0,e.nf)(h.N),(0,i.Sn)("design:type",u.c)],C.prototype,"eperson",void 0),C=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(f.M)],C)},16321:(F,b,n)=>{"use strict";n.d(b,{x:()=>t});const t=new(n(42547).v)("version")},78448:(F,b,n)=>{"use strict";n.d(b,{n:()=>i});var i=function(t){return t.ListElement="list",t.GridElement="grid",t.DetailedListElement="detailed",t.StandalonePage="standalone",t.Table="table",t}(i||{})},12070:(F,b,n)=>{"use strict";n.d(b,{K:()=>v});var i=n(31635),t=n(74850),u=n(21921),e=n(11453),h=n(42547),m=n(98688),f=n(84276);let v=class extends e.s{static{this.type=f.N}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",h.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)("report-type"),(0,i.Sn)("design:type",String)],v.prototype,"reportType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],v.prototype,"points",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(e.s)],v)},84276:(F,b,n)=>{"use strict";n.d(b,{N:()=>t});const t=new(n(42547).v)("usagereport")},92946:(F,b,n)=>{"use strict";n.d(b,{Q:()=>t});const t=new(n(42547).v)("submissioncclicense")},62572:(F,b,n)=>{"use strict";n.d(b,{C:()=>v});var i=n(31635),t=n(74850),u=n(21921),e=n(11453),h=n(42547),m=n(98688),f=n(92946);let v=class extends e.s{static{this.type=f.Q}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",h.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],v.prototype,"fields",void 0),v=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(e.s)],v)},91902:(F,b,n)=>{"use strict";n.d(b,{w:()=>R});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(25168),m=n(58235),f=n(9927),v=n(76829),E=n(13868),_=n(83987),C=n(98688);let R=class extends v.M{get self(){return this._links.self.href}};(0,i.Cg)([C.aK,t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Date)],R.prototype,"lastModified",void 0),(0,i.Cg)([(0,e.nf)(f.n),(0,i.Sn)("design:type",Object)],R.prototype,"collection",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",class S{})],R.prototype,"sections",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],R.prototype,"errors",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],R.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(E.U),(0,i.Sn)("design:type",Object)],R.prototype,"item",void 0),(0,i.Cg)([(0,e.nf)(h.M.type),(0,i.Sn)("design:type",Object)],R.prototype,"submissionDefinition",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",Object)],R.prototype,"submitter",void 0),(0,i.Cg)([(0,e.nf)(_.T),(0,i.Sn)("design:type",u.c)],R.prototype,"supervisionOrders",void 0),R=(0,i.Cg)([(0,t.inheritSerialization)(v.M)],R)},25567:(F,b,n)=>{"use strict";n.d(b,{t:()=>f});var i=n(31635),t=n(74850),u=n(21921),e=n(24547),h=n(54949),m=n(91902);let f=class extends m.w{static{this.type=h.z}};(0,i.Cg)([(0,t.deserializeAs)(new e.a(f.type.value),"id"),(0,i.Sn)("design:type",String)],f.prototype,"uuid",void 0),f=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(m.w),(0,u.o8)(m.w)],f)},91581:(F,b,n)=>{"use strict";n.d(b,{F:()=>f});var i=n(31635),t=n(74850),u=n(21921),e=n(24547),h=n(6291),m=n(91902);let f=class extends m.w{static{this.type=h.l}};(0,i.Cg)([(0,t.deserializeAs)(new e.a(f.type.value),"id"),(0,i.Sn)("design:type",String)],f.prototype,"uuid",void 0),f=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(m.w),(0,u.o8)(m.w)],f)},69723:(F,b,n)=>{"use strict";n.r(b),n.d(b,{SubmissionDuplicateDataService:()=>S});var i=n(72734),t=n(53954),u=n(41684),e=n(49802),h=n(35108),m=n(41023),f=n(43052),v=n(32473),E=n(44701),_=n(4910),C=n(54438);let S=(()=>{class R extends e.L{constructor(A,p,L,D){super("duplicates",A,p,L,D),this.requestService=A,this.rdbService=p,this.objectCache=L,this.halService=D,this.parser=E.z,this.request=f.IP,this.searchData=new h.X(this.linkPath,A,p,L,D,this.responseMsToLive)}searchBy(A,p,L,D,...w){return this.searchData.searchBy(A,p,L,D,...w)}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}setServiceOptions(A,p){A&&(this.parser=A),p&&(this.request=p)}findDuplicates(A,p,L=!0,D=!0,...w){const M=[new t.x("uuid",A)];let x=new m._;return p&&(x=Object.assign(new m._,p)),x.searchParams=x.searchParams?[...x.searchParams,...M]:M,this.searchBy("findByItem",x,L,D,...w)}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(p){return new(p||R)(C.KVO(v.B),C.KVO(i.o),C.KVO(u.$),C.KVO(_.Y))}}static{this.\u0275prov=C.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},83203:(F,b,n)=>{"use strict";n.d(b,{U:()=>K});var i=n(72734),t=n(43052),u=n(32473),e=n(57786);function h(X,G){return(q,z)=>!X.call(G,q,z)}var m=n(5964),v=n(73028),E=n(96697),_=n(88141),C=n(96354),S=n(47677),R=n(23294),T=n(82777),A=n(80183),p=n(98107),L=n(645),D=n(47797);function w(X){return(0,L.pc)(D.N,"json/patch",X)}class x{submitJsonPatchOperations(G,q,z){const te=this.requestService.generateRequestId();let Z=null;const[J,Q]=function f(X,G){return q=>[(0,m.p)(X,G)(q),(0,m.p)(h(X,G))(q)]}(ee=>(0,T.hj)(ee.body))(G.pipe((0,v.Z)(ee=>this.store.select(w(q)).pipe((0,E.s)(1),(0,m.p)(le=>(0,T.b0)(le)||!le.commitPending),(0,_.M)(()=>Z=(new Date).getTime()),(0,C.T)(le=>{const ne=[];return(0,T.hj)(le)&&((0,T.hj)(z)?(0,T.EA)(le.children[z])&&(0,T.hj)(le.children[z].body)&&le.children[z].body.forEach(fe=>{ne.push(fe.operation)}):Object.keys(le.children).filter(fe=>le.children.hasOwnProperty(fe)).filter(fe=>(0,T.a4)(le.children[fe])).filter(fe=>(0,T.a4)(le.children[fe].body)).forEach(fe=>{le.children[fe].body.forEach(se=>{ne.push(se.operation)})})),this.getRequestInstance(te,ee,ne)})))));return(0,e.h)(Q.pipe((0,m.p)(ee=>(0,T.Im)(ee.body)),(0,_.M)(()=>Z=null),(0,C.T)(()=>null)),J.pipe((0,m.p)(ee=>(0,T.hj)(ee.body)),(0,_.M)(()=>this.store.dispatch(new p.v$(q,z,Z))),(0,_.M)(ee=>this.requestService.send(ee)),(0,v.Z)(()=>this.rdbService.buildFromRequestUUID(te).pipe((0,A.qD)(),(0,S.I)(ee=>Z<ee.timeCompleted),(0,C.T)(ee=>{if(ee.hasFailed)throw this.store.dispatch(new p.Zd(q,z)),new Error(ee.errorMessage);if((0,T.a4)(ee.payload)&&(0,T.hj)(ee.payload.dataDefinition))return this.store.dispatch(new p.MI(q,z)),ee.payload.dataDefinition}),(0,R.F)()))))}deletePendingJsonPatchOperations(){this.store.dispatch(new p.Bp)}getRequestInstance(G,q,z){return new this.patchRequestConstructor(G,q,z)}getEndpointByIDHref(G,q){return(0,T.hj)(q)?`${G}/${q}`:`${G}`}jsonPatchByResourceType(G,q,z){const te=this.halService.getEndpoint(G).pipe((0,m.p)(Z=>(0,T.hj)(Z)),(0,R.F)(),(0,C.T)(Z=>this.getEndpointByIDHref(Z,q)));return this.submitJsonPatchOperations(te,z)}hasPendingOperations(G){return this.store.select(w(G)).pipe((0,C.T)(q=>!(0,T.Im)(q)&&Object.values(q.children).filter(z=>!(0,T.Im)(z.body)).length>0),(0,R.F)())}jsonPatchByResourceID(G,q,z,te){const Z=this.halService.getEndpoint(G).pipe((0,m.p)(J=>(0,T.hj)(J)),(0,R.F)(),(0,C.T)(J=>this.getEndpointByIDHref(J,q)));return this.submitJsonPatchOperations(Z,z,te)}}var j=n(4910),U=n(45663),$=n(54438),k=n(25499);let K=(()=>{class X extends x{constructor(q,z,te,Z){super(),this.requestService=q,this.store=z,this.rdbService=te,this.halService=Z,this.linkPath="",this.patchRequestConstructor=t.e$}getRequestInstance(q,z,te){return new this.patchRequestConstructor(q,new U.t(z,"?embed=item").toString(),te)}static{this.\u0275fac=function(z){return new(z||X)($.KVO(u.B),$.KVO(k.il),$.KVO(i.o),$.KVO(j.Y))}}static{this.\u0275prov=$.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}}return X})()},49903:(F,b,n)=>{"use strict";n.d(b,{$:()=>S});var i=n(7673),t=n(96354),u=n(88280),e=n(61010),h=n(1716),m=n(7434),f=n(4910),v=n(83085),E=n(52837),_=n(24261),C=n(54438);let S=(()=>{class R{constructor(A,p,L,D){this.workspaceitemDataService=A,this.workflowItemDataService=p,this.submissionService=L,this.halService=D}getHrefByID(A){const p=this.submissionService.getSubmissionScope()===v.L.WorkspaceItem?this.workspaceitemDataService:this.workflowItemDataService;return this.halService.getEndpoint(p.getLinkPath()).pipe((0,t.T)(L=>p.getIDHref(L,encodeURIComponent(A))))}findById(A,p=!0,L=!0,...D){switch(this.submissionService.getSubmissionScope()){case v.L.WorkspaceItem:return this.workspaceitemDataService.findById(A,p,L,...D);case v.L.WorkflowItem:return this.workflowItemDataService.findById(A,p,L,...D);default:{const w=(new Date).getTime();return(0,i.of)(new h.j(w,u.c.cache.msToLive.default,w,m.zE.Error,"The request could not be sent. Unable to determine the type of submission object",void 0,400))}}}static{this.\u0275fac=function(p){return new(p||R)(C.KVO(_.WorkspaceitemDataService),C.KVO(E.WorkflowItemDataService),C.KVO(e.E),C.KVO(f.Y))}}static{this.\u0275prov=C.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},68552:(F,b,n)=>{"use strict";n.d(b,{BE:()=>R,Z5:()=>S});var i=n(93583),t=n(82777),u=n(61280),e=n(41684),h=n(13808),m=n(51538),f=n(54438);let v=(()=>{class T extends m.aE{constructor(p){super(),this.objectCache=p,this.toCache=!0}parse(p,L){let D;D=(0,t.a4)(L.payload)&&(0,t.a4)(L.payload.page)&&0===L.payload.page.totalElements?{page:[]}:this.process(L.payload,p);let w=D;if((0,t.Tn)(D))return new h.bM([],L.statusCode,L.statusText,void 0);(0,t.a4)(D.page)?w=D.page:Array.isArray(D)||(w=[D]);const M=w.map(x=>x._links.self.href);return new h.bM(M,L.statusCode,L.statusText,this.processPageInfo(L.payload))}static{this.\u0275fac=function(L){return new(L||T)(f.KVO(e.$))}}static{this.\u0275prov=f.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();var E=n(25567),_=n(91581);function S(T,A){let p=T;return(0,t.Pe)(T)&&("object"==typeof T&&function C(T){return"object"==typeof T&&T.hasOwnProperty("value")&&T.hasOwnProperty("language")&&T.hasOwnProperty("authority")&&T.hasOwnProperty("confidence")}(T)?p=new u.e(T.value,T.language,T.authority,T.display||T.value,T.place||A,T.confidence,T.otherInformation):Array.isArray(T)?(p=[],T.forEach((L,D)=>{p[D]=S(L,D)})):"object"==typeof T&&(p=Object.create({}),Object.keys(T).forEach(L=>{p[L]=S(T[L])}))),p}let R=(()=>{class T extends m.aE{constructor(p,L){super(),this.objectCache=p,this.dsoParser=L,this.toCache=!1,this.shouldDirectlyAttachEmbeds=!0}parse(p,L){if(this.dsoParser.parse((0,i.Go)(p),(0,i.Go)(L)),(0,t.hj)(L.payload)&&(0,t.hj)(L.payload._links)&&this.isSuccessStatus(L.statusCode)){const D=this.processResponse(L.payload,p);return new h.hT(L.statusCode,void 0,{dataDefinition:D})}if((0,t.Im)(L.payload)&&this.isSuccessStatus(L.statusCode))return new h.hT(L.statusCode);throw new Error("Unexpected response from server")}processResponse(p,L){const D=this.process(p,L),w=Array.of();return(Array.isArray(D)?D:Array.of(D)).forEach(x=>{if((x instanceof _.F||x instanceof E.t)&&x.sections){const j=Object.create({});Object.keys(x.sections).forEach(U=>{if("object"==typeof x.sections[U]&&(0,t.hj)(x.sections[U])&&(!x.sections[U].hasOwnProperty("files")||(0,t.hj)(x.sections[U].files))){const $=Object.create({});Object.keys(x.sections[U]).forEach(k=>{const K=x.sections[U][k];Array.isArray(K)?($[k]=[],K.forEach((X,G)=>{const q=S(X,G);(0,t.hj)(q)&&$[k].push(q)})):$[k]=K}),j[U]=$}}),x=Object.assign({},x,{sections:j})}w.push(x)}),w}static{this.\u0275fac=function(L){return new(L||T)(f.KVO(e.$),f.KVO(v))}}static{this.\u0275prov=f.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},67625:(F,b,n)=>{"use strict";n.d(b,{O:()=>A});var i=n(96354),t=n(23294),u=n(5964),e=n(88141),h=n(73028),m=n(82777),f=n(72734),v=n(13808),E=n(43052),_=n(32473),C=n(4910),S=n(80183),R=n(45663),T=n(54438);let A=(()=>{class p{constructor(D,w,M){this.rdbService=D,this.requestService=w,this.halService=M,this.linkPath="workspaceitems"}fetchRequest(D){return this.rdbService.buildFromRequestUUID(D).pipe((0,S.qD)(),(0,i.T)(w=>{if(w.hasFailed)throw new v._p({statusText:w.errorMessage,statusCode:w.statusCode});return(0,m.a4)(w.payload)?w.payload.dataDefinition:w.payload}),(0,t.F)())}getEndpointByIDHref(D,w,M){let x=(0,m.hj)(w)?`${D}/${w}`:`${D}`;return x=new R.t(x,"?embed=item,sections,collection").toString(),M&&(x=new R.t(x,`&owningCollection=${M}`).toString()),x}deleteById(D,w){const M=this.requestService.generateRequestId();return this.halService.getEndpoint(w||this.linkPath).pipe((0,u.p)(x=>(0,m.hj)(x)),(0,t.F)(),(0,i.T)(x=>this.getEndpointByIDHref(x,D)),(0,i.T)(x=>new E.Rn(M,x)),(0,e.M)(x=>this.requestService.send(x)),(0,h.Z)(()=>this.fetchRequest(M)),(0,t.F)())}getDataById(D,w){const M=this.requestService.generateRequestId();return this.halService.getEndpoint(D).pipe((0,i.T)(x=>this.getEndpointByIDHref(x,w)),(0,u.p)(x=>(0,m.hj)(x)),(0,t.F)(),(0,i.T)(x=>new E.Iu(M,x)),(0,e.M)(x=>{this.requestService.send(x)}),(0,h.Z)(()=>this.fetchRequest(M)),(0,t.F)())}postToEndpoint(D,w,M,x,j){const U=this.requestService.generateRequestId();return this.halService.getEndpoint(D).pipe((0,u.p)($=>(0,m.hj)($)),(0,i.T)($=>this.getEndpointByIDHref($,M,j)),(0,t.F)(),(0,i.T)($=>new E.aY(U,$,w,x)),(0,e.M)($=>this.requestService.send($)),(0,h.Z)(()=>this.fetchRequest(U)),(0,t.F)())}patchToEndpoint(D,w,M){const x=this.requestService.generateRequestId();return this.halService.getEndpoint(D).pipe((0,u.p)(j=>(0,m.hj)(j)),(0,i.T)(j=>this.getEndpointByIDHref(j,M)),(0,t.F)(),(0,i.T)(j=>new E.e$(x,j,w)),(0,e.M)(j=>this.requestService.send(j)),(0,h.Z)(()=>this.fetchRequest(x)),(0,t.F)())}static{this.\u0275fac=function(w){return new(w||p)(T.KVO(f.o),T.KVO(_.B),T.KVO(C.Y))}}static{this.\u0275prov=T.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},83085:(F,b,n)=>{"use strict";n.d(b,{L:()=>i});var i=function(t){return t.WorkspaceItem="WORKSPACE",t.WorkflowItem="WORKFLOW",t}(i||{})},30056:(F,b,n)=>{"use strict";n.d(b,{Hx:()=>t,cK:()=>e,mt:()=>u});var i=n(42547);const t=new i.v("vocabulary"),u=new i.v("vocabularyEntry"),e=new i.v("vocabularyEntryDetail")},36599:(F,b,n)=>{"use strict";n.d(b,{M:()=>m});var i=n(31635),t=n(74850),u=n(21921),e=n(30056),h=n(43235);let m=class extends h.b{static{this.type=e.cK}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],m.prototype,"selectable",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],m.prototype,"_links",void 0),m=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(h.b)],m)},43235:(F,b,n)=>{"use strict";n.d(b,{b:()=>E});var i=n(31635),t=n(74850),u=n(82777),e=n(56899),h=n(22878),m=n(21921),f=n(98688),v=n(30056);let E=class extends h.u{static{this.type=v.mt}hasAuthority(){return(0,u.hj)(this.authority)}hasValue(){return(0,u.hj)(this.value)}hasOtherInformation(){return(0,u.hj)(this.otherInformation)}hasPlaceholder(){return this.hasValue()&&this.value===e.N}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"authority",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"display",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],E.prototype,"otherInformation",void 0),(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",Object)],E.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),E=(0,i.Cg)([m.gV],E)},89293:(F,b,n)=>{"use strict";n.d(b,{n:()=>i});class i{constructor(u,e=!1){this.name=u,this.closed=e}}},75955:(F,b,n)=>{"use strict";n.r(b),n.d(b,{VocabularyEntryDetailsDataService:()=>E});var i=n(72734),t=n(41684),u=n(46787),e=n(63897),h=n(35108),m=n(32473),f=n(4910),v=n(54438);let E=(()=>{class _ extends e.W{constructor(S,R,T,A){super("vocabularyEntryDetails",S,R,T,A),this.requestService=S,this.rdbService=R,this.objectCache=T,this.halService=A,this.findAllData=new u.H(this.linkPath,S,R,T,A,this.responseMsToLive),this.searchData=new h.X(this.linkPath,S,R,T,A,this.responseMsToLive)}findAll(S,R,T,...A){return this.findAllData.findAll(S,R,T,...A)}searchBy(S,R,T,A,...p){return this.searchData.searchBy(S,R,T,A,...p)}static{this.\u0275fac=function(R){return new(R||_)(v.KVO(m.B),v.KVO(i.o),v.KVO(t.$),v.KVO(f.Y))}}static{this.\u0275prov=v.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},59081:(F,b,n)=>{"use strict";n.r(b),n.d(b,{VocabularyDataService:()=>C});var i=n(72734),t=n(53954),u=n(41684),e=n(46787),h=n(63897),m=n(35108),f=n(41023),v=n(32473),E=n(4910),_=n(54438);let C=(()=>{class S extends h.W{constructor(T,A,p,L){super("vocabularies",T,A,p,L),this.requestService=T,this.rdbService=A,this.objectCache=p,this.halService=L,this.searchByMetadataAndCollectionPath="byMetadataAndCollection",this.findAllData=new e.H(this.linkPath,T,A,p,L,this.responseMsToLive),this.searchData=new m.X(this.linkPath,T,A,p,L,this.responseMsToLive)}findAll(T,A,p,...L){return this.findAllData.findAll(T,A,p,...L)}getVocabularyByMetadataAndCollection(T,A,p=!0,L=!0,...D){const w=new f._;w.searchParams=[new t.x("metadata",T),new t.x("collection",A)];const M=this.searchData.getSearchByHref(this.searchByMetadataAndCollectionPath,w,...D);return this.findByHref(M,p,L,...D)}static{this.\u0275fac=function(A){return new(A||S)(_.KVO(v.B),_.KVO(i.o),_.KVO(u.$),_.KVO(E.Y))}}static{this.\u0275prov=_.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},19506:(F,b,n)=>{"use strict";n.d(b,{g:()=>A});var i=n(25558),t=n(96354),u=n(73028),e=n(82777),h=n(67600),m=n(53954),f=n(32473),v=n(80183),E=n(32089),_=n(41023);class C extends _._{constructor(L="",D,w,M,x,j,U){super(),this.query=L,this.filter=D,this.exact=w,this.entryID=M,this.elementsPerPage=x,this.currentPage=j,this.sort=U;const $=[];(0,e.hj)(L)&&$.push(new m.x("query",L)),(0,e.hj)(D)&&$.push(new m.x("filter",D)),(0,e.hj)(w)&&$.push(new m.x("exact",w.toString())),(0,e.hj)(M)&&$.push(new m.x("entryID",M)),this.searchParams=$}}var S=n(59081),R=n(75955),T=n(54438);let A=(()=>{class p{constructor(D,w,M){this.requestService=D,this.vocabularyDataService=w,this.vocabularyEntryDetailDataService=M,this.searchTopMethod="top"}findVocabularyByHref(D,w=!0,M=!0,...x){return this.vocabularyDataService.findByHref(D,w,M,...x)}findVocabularyById(D,w=!0,M=!0,...x){return this.vocabularyDataService.findById(D,w,M,...x)}findAllVocabularies(D={},w=!0,M=!0,...x){return this.vocabularyDataService.findAll(D,w,M,...x)}getVocabularyByMetadataAndCollection(D,w,M=!0,x=!0,...j){return this.vocabularyDataService.getVocabularyByMetadataAndCollection(D,w,M,x,...j)}getVocabularyEntries(D,w){const M=new C(null,null,null,null,w.elementsPerPage,w.currentPage);return this.findVocabularyById(D.name,!0,!0,(0,h.s)("entries",{findListOptions:M,shouldEmbed:!1})).pipe((0,v.ak)(),(0,i.n)(x=>x.entries))}getVocabularyEntriesByValue(D,w,M,x){const j=new C(null,D,w,null,x.elementsPerPage,x.currentPage);return this.findVocabularyById(M.name,!0,!0,(0,h.s)("entries",{findListOptions:j,shouldEmbed:!1})).pipe((0,v.ak)(),(0,i.n)(U=>U.entries))}getVocabularyEntryByValue(D,w){return this.getVocabularyEntriesByValue(D,!0,w,new E.Q).pipe((0,v.Ar)(),(0,t.T)(M=>(0,e.hj)(M)?M[0]:null))}getVocabularyEntryByID(D,w){const M=new E.Q,x=new C(null,null,null,D,M.elementsPerPage,M.currentPage);return this.findVocabularyById(w.name,!0,!0,(0,h.s)("entries",{findListOptions:x,shouldEmbed:!1})).pipe((0,v.ak)(),(0,i.n)(j=>j.entries),(0,v.Ar)(),(0,t.T)(j=>(0,e.hj)(j)?j[0]:null))}findEntryDetailByHref(D,w=!0,M=!0,...x){return this.vocabularyEntryDetailDataService.findByHref(D,w,M,...x)}findEntryDetailById(D,w,M=!0,x=!0,j=!0,...U){return this.vocabularyEntryDetailDataService.findById(j?`${w}:${D}`:D,M,x,...U)}getEntryDetailParent(D,w,M=!0,x=!0,...j){const U=`${w}:${D}/parent`;return this.vocabularyEntryDetailDataService.getBrowseEndpoint().pipe((0,t.T)($=>`${$}/${U}`),(0,u.Z)($=>this.vocabularyEntryDetailDataService.findByHref($,M,x,...j)))}getEntryDetailChildren(D,w,M,x=!0,j=!0,...U){const $=new C(null,null,null,null,M.elementsPerPage,M.currentPage);return this.vocabularyEntryDetailDataService.getBrowseEndpoint().pipe((0,t.T)(k=>`${k}/${w}:${D}/children`),(0,i.n)(k=>this.vocabularyEntryDetailDataService.findListByHref(k,$,x,j,...U)))}searchTopEntries(D,w,M=!0,x=!0,...j){const U=new C(null,null,null,null,w.elementsPerPage,w.currentPage);return U.searchParams=[new m.x("vocabulary",D)],this.vocabularyEntryDetailDataService.searchBy(this.searchTopMethod,U,M,x,...j)}clearSearchTopRequests(){this.requestService.removeByHrefSubstring(`search/${this.searchTopMethod}`)}static{this.\u0275fac=function(w){return new(w||p)(T.KVO(f.B),T.KVO(S.VocabularyDataService),T.KVO(R.VocabularyEntryDetailsDataService))}}static{this.\u0275prov=T.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},52837:(F,b,n)=>{"use strict";n.r(b),n.d(b,{WorkflowItemDataService:()=>L});var i=n(96354),t=n(47677),u=n(82777),e=n(39806),h=n(72734),m=n(53954),f=n(41684),v=n(13617),E=n(63897),_=n(35108),C=n(41023),S=n(43052),R=n(32473),T=n(4910),A=n(80183),p=n(54438);let L=(()=>{class D extends E.W{constructor(M,x,j,U,$){super("workflowitems",M,x,j,U),this.requestService=M,this.rdbService=x,this.objectCache=j,this.halService=U,this.notificationsService=$,this.searchByItemLinkPath="item",this.responseMsToLive=1e4,this.searchData=new _.X(this.linkPath,M,x,j,U,this.responseMsToLive),this.deleteData=new v.I(this.linkPath,M,x,j,U,$,this.responseMsToLive,this.constructIdEndpoint)}delete(M){return this.deleteWFI(M,!0)}sendBack(M){return this.deleteWFI(M,!1).pipe((0,A.qD)(),(0,i.T)(x=>x.hasSucceeded))}deleteWFI(M,x){const j=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,i.T)($=>this.deleteData.getIDHref($,M)),(0,i.T)($=>$+"?expunge="+x)).pipe((0,t.I)($=>(0,u.a4)($))).subscribe($=>{const k=new S.Dk(j,$,M);this.requestService.send(k)}),this.rdbService.buildFromRequestUUID(j)}findByItem(M,x=!1,j=!0,U={},...$){const k=new C._;k.searchParams=[new m.x("uuid",M)];const K=this.searchData.getSearchByHref(this.searchByItemLinkPath,k,...$);return this.findByHref(K,x,j,...$)}searchBy(M,x,j,U,...$){return this.searchData.searchBy(M,x,j,U,...$)}deleteByHref(M,x){return this.deleteData.deleteByHref(M,x)}static{this.\u0275fac=function(x){return new(x||D)(p.KVO(R.B),p.KVO(h.o),p.KVO(f.$),p.KVO(T.Y),p.KVO(e.I))}}static{this.\u0275prov=p.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},24261:(F,b,n)=>{"use strict";n.r(b),n.d(b,{WorkspaceitemDataService:()=>w});var i=n(21626),t=n(96354),u=n(47677),e=n(82777),h=n(39806),m=n(72734),f=n(53954),v=n(41684),E=n(13617),_=n(63897),C=n(35108),S=n(12598),R=n(41023),T=n(43052),A=n(32473),p=n(4910),L=n(54438),D=n(25499);let w=(()=>{class M extends _.W{constructor(j,U,$,k,K,X,G,q){super("workspaceitems",K,X,G,U),this.comparator=j,this.halService=U,this.http=$,this.notificationsService=k,this.requestService=K,this.rdbService=X,this.objectCache=G,this.store=q,this.linkPath="workspaceitems",this.searchByItemLinkPath="item",this.deleteData=new E.I(this.linkPath,K,X,G,U,k,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new C.X(this.linkPath,K,X,G,U,this.responseMsToLive)}delete(j,U){return this.deleteData.delete(j,U)}deleteByHref(j,U){return this.deleteData.deleteByHref(j,U)}findByItem(j,U=!1,$=!0,k={},...K){const X=new R._;X.searchParams=[new f.x("uuid",j)];const G=this.searchData.getSearchByHref(this.searchByItemLinkPath,X,...K);return this.findByHref(G,U,$,...K)}importExternalSourceEntry(j,U){const $=Object.create({});let k=new i.Lr;k=k.append("Content-Type","text/uri-list"),$.headers=k;const K=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,t.T)(G=>`${G}?owningCollection=${U}`)).pipe((0,u.I)(G=>(0,e.a4)(G)),(0,t.T)(G=>{const q=new T.Qf(K,G,j,$);this.requestService.send(q)})).subscribe(),this.rdbService.buildFromRequestUUID(K)}searchBy(j,U,$,k,...K){return this.searchData.searchBy(j,U,$,k,...K)}static{this.\u0275fac=function(U){return new(U||M)(L.KVO(S.j),L.KVO(p.Y),L.KVO(i.Qq),L.KVO(h.I),L.KVO(A.B),L.KVO(m.o),L.KVO(v.$),L.KVO(D.il))}}static{this.\u0275prov=L.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},83987:(F,b,n)=>{"use strict";n.d(b,{T:()=>t});const t=new(n(42547).v)("supervisionorder")},66129:(F,b,n)=>{"use strict";n.r(b),n.d(b,{SupervisionOrderDataService:()=>U});var i=n(21626),t=n(96354),u=n(61594),e=n(82777),h=n(39806),m=n(72734),f=n(53954),v=n(41684),E=n(39280),_=n(13617),C=n(63897),S=n(87158),R=n(35108),T=n(37419),A=n(41023),p=n(43052),L=n(32473),D=n(14410),w=n(44494),M=n(4910),x=n(80183),j=n(54438);let U=(()=>{class $ extends C.W{constructor(K,X,G,q,z,te,Z){super("supervisionorders",K,X,G,q),this.requestService=K,this.rdbService=X,this.objectCache=G,this.halService=q,this.notificationsService=z,this.comparator=te,this.groupService=Z,this.searchByGroupMethod="group",this.searchByItemMethod="byItem",this.createData=new E.V(this.linkPath,K,X,G,q,z,this.responseMsToLive),this.searchData=new R.X(this.linkPath,K,X,G,q,this.responseMsToLive),this.patchData=new S.n(this.linkPath,K,X,G,q,te,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new _.I(this.linkPath,K,X,G,q,z,this.responseMsToLive,this.constructIdEndpoint)}create(K,X,G,q){const z=[];return z.push(new f.x("uuid",X)),z.push(new f.x("group",G)),z.push(new f.x("type",q)),this.createData.create(K,...z)}delete(K){return this.deleteData.delete(K).pipe((0,x.qD)(),(0,t.T)(X=>X.hasSucceeded))}update(K){return this.patchData.update(K)}searchByGroup(K,X,G=!0,q=!0,...z){const te=new A._;return te.searchParams=[new f.x("uuid",K)],(0,e.hj)(X)&&te.searchParams.push(new f.x("item",X)),this.searchData.searchBy(this.searchByGroupMethod,te,G,q,...z)}searchByItem(K,X=!0,G=!0,...q){const z=new A._;return z.searchParams=[new f.x("uuid",K)],this.searchData.searchBy(this.searchByItemMethod,z,X,G,...q)}updateTarget(K,X,G,q){const te=this.groupService.getIDHrefObs(G),Z=Object.create({});let J=new i.Lr;J=J.append("Content-Type","text/uri-list"),Z.headers=J;const Q=this.requestService.generateRequestId();return te.pipe((0,u.$)()).subscribe(ee=>{const ne=new p.v_(Q,X+"/"+q,ee,Z);Object.assign(ne,{getResponseParser:()=>D.M}),this.requestService.send(ne)}),this.rdbService.buildFromRequestUUIDAndAwait(Q,()=>this.invalidateByHref(X))}static{this.\u0275fac=function(X){return new(X||$)(j.KVO(L.B),j.KVO(m.o),j.KVO(v.$),j.KVO(M.Y),j.KVO(h.I),j.KVO(T.Y),j.KVO(w.GroupDataService))}}static{this.\u0275prov=j.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}}return $})()},12532:(F,b,n)=>{"use strict";n.r(b),n.d(b,{ClaimedTaskDataService:()=>C});var i=n(21626),t=n(72734),u=n(53954),e=n(41684),h=n(41023),m=n(32473),f=n(4910),v=n(80183),E=n(67846),_=n(54438);let C=(()=>{class S extends E.w{constructor(T,A,p,L){super("claimedtasks",T,A,p,L,1e3),this.requestService=T,this.rdbService=A,this.objectCache=p,this.halService=L}claimTask(T,A){const p=Object.create({});let L=new i.Lr;return L=L.append("Content-Type","text/uri-list"),p.headers=L,this.postToEndpoint(this.linkPath,A,null,p)}submitTask(T,A){return this.postToEndpoint(this.linkPath,this.requestService.uriEncodeBody(A),T,this.makeHttpOptions())}returnToPoolTask(T){return this.deleteById(this.linkPath,T,this.makeHttpOptions())}findByItem(T){const A=new h._;return A.searchParams=[new u.x("uuid",T)],this.searchTask("findByItem",A).pipe((0,v.yd)())}static{this.\u0275fac=function(A){return new(A||S)(_.KVO(m.B),_.KVO(t.o),_.KVO(e.$),_.KVO(f.Y))}}static{this.\u0275prov=_.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},78416:(F,b,n)=>{"use strict";n.d(b,{T:()=>m});var i=n(31635),t=n(74850),u=n(21921),e=n(22822),h=n(55411);let m=class extends h.B{static{this.type=e.a}};m=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(h.B),(0,u.o8)(h.B)],m)},22822:(F,b,n)=>{"use strict";n.d(b,{a:()=>t});const t=new(n(42547).v)("claimedtask")},27605:(F,b,n)=>{"use strict";n.d(b,{k:()=>m});var i=n(31635),t=n(74850),u=n(21921),e=n(26147),h=n(55411);let m=class extends h.B{static{this.type=e.T}};m=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(h.B),(0,u.o8)(h.B)],m)},26147:(F,b,n)=>{"use strict";n.d(b,{T:()=>t});const t=new(n(42547).v)("pooltask")},55411:(F,b,n)=>{"use strict";n.d(b,{B:()=>S});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(58235),m=n(36074),f=n(54949),v=n(76829);const _=new(n(42547).v)("taskobject");var C=n(47069);let S=class extends v.M{static{this.type=_}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],S.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],S.prototype,"step",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],S.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(h.N,!1,"owner"),(0,i.Sn)("design:type",u.c)],S.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(m.U),(0,i.Sn)("design:type",u.c)],S.prototype,"group",void 0),(0,i.Cg)([(0,e.nf)(f.z),(0,i.Sn)("design:type",Object)],S.prototype,"workflowitem",void 0),(0,i.Cg)([(0,e.nf)(C.f,!1,"action"),(0,i.Sn)("design:type",u.c)],S.prototype,"action",void 0),S=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(v.M)],S)},47069:(F,b,n)=>{"use strict";n.d(b,{f:()=>t});const t=new(n(42547).v)("workflowaction")},28515:(F,b,n)=>{"use strict";n.r(b),n.d(b,{PoolTaskDataService:()=>_});var i=n(72734),t=n(53954),u=n(41684),e=n(41023),h=n(32473),m=n(4910),f=n(80183),v=n(67846),E=n(54438);let _=(()=>{class C extends v.w{constructor(R,T,A,p){super("pooltasks",R,T,A,p,1e3),this.requestService=R,this.rdbService=T,this.objectCache=A,this.halService=p}findByItem(R){const T=new e._;return T.searchParams=[new t.x("uuid",R)],this.searchTask("findByItem",T).pipe((0,f.qD)())}getPoolTaskEndpointById(R){return this.getEndpointById(R)}static{this.\u0275fac=function(T){return new(T||C)(E.KVO(h.B),E.KVO(i.o),E.KVO(u.$),E.KVO(m.Y))}}static{this.\u0275prov=E.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},67846:(F,b,n)=>{"use strict";n.d(b,{w:()=>T});var i=n(21626),t=n(5964),u=n(96354),e=n(23294),h=n(88141),m=n(73028),f=n(47677),v=n(82777),E=n(63897),_=n(35108),C=n(43052),S=n(80183);class R{constructor(p,L,D){this.isSuccessful=p,this.statusCode=L,this.errorMessage=D}get hasSucceeded(){return this.isSuccessful}}class T extends E.W{constructor(p,L,D,w,M,x){super(p,L,D,w,M),this.linkPath=p,this.requestService=L,this.rdbService=D,this.objectCache=w,this.halService=M,this.responseMsToLive=x,this.searchData=new _.X(this.linkPath,L,D,w,M,this.responseMsToLive)}getEndpointByIDHref(p,L){return(0,v.hj)(L)?`${p}/${L}`:`${p}`}postToEndpoint(p,L,D,w){const M=this.requestService.generateRequestId();return this.halService.getEndpoint(p).pipe((0,t.p)(x=>(0,v.hj)(x)),(0,u.T)(x=>this.getEndpointByIDHref(x,D)),(0,e.F)(),(0,u.T)(x=>new C.$I(M,x,L,w)),(0,h.M)(x=>this.requestService.send(x)),(0,m.Z)(x=>this.fetchRequest(M)),(0,e.F)())}deleteById(p,L,D){const w=this.requestService.generateRequestId();return this.getEndpointById(L,p).pipe((0,u.T)(M=>new C._w(w,M,null,D)),(0,h.M)(M=>this.requestService.send(M)),(0,m.Z)(M=>this.fetchRequest(w)),(0,e.F)())}getEndpointById(p,L){return this.halService.getEndpoint(L||this.linkPath).pipe((0,t.p)(D=>(0,v.hj)(D)),(0,e.F)(),(0,u.T)(D=>this.getEndpointByIDHref(D,p)))}searchTask(p,L={},...D){return this.searchData.getSearchByHref(p,L,...D).pipe((0,f.I)(M=>(0,v.a4)(M)),(0,m.Z)(M=>this.findByHref(M,!1,!0).pipe((0,S.bD)(),(0,h.M)(()=>this.requestService.setStaleByHrefSubstring(M)))))}fetchRequest(p){return this.rdbService.buildFromRequestUUID(p).pipe((0,S.qD)(),(0,u.T)(L=>L.hasFailed?new R(!1,L.statusCode,L.errorMessage):new R(!0,L.statusCode)))}makeHttpOptions(){const p=Object.create({});let L=new i.Lr;return L=L.append("Content-Type","application/x-www-form-urlencoded"),p.headers=L,p}searchBy(p,L,D,w,...M){return this.searchData.searchBy(p,L,D,w,...M)}}},61424:(F,b,n)=>{"use strict";n.d(b,{F:()=>u});var i=n(88280),t=n(45663);class u extends t.t{constructor(...h){super(i.c.rest.baseUrl,"/api",...h)}}},45663:(F,b,n)=>{"use strict";n.d(b,{t:()=>t});var i=n(82777);class t{constructor(...e){this.parts=e}toString(){if((0,i.Im)(this.parts))return"";{let e=this.parts.join("/");return e=e.replace(/:\//g,"://"),e=e.replace(/([^:\s])\/+/g,"$1/"),e=e.replace(/\/($|\?|&|#[^!])/g,"$1"),e=e.replace(/(\?.+)\?/g,"$1&"),e}}}},98688:(F,b,n)=>{"use strict";n.d(b,{_U:()=>h,aK:()=>f,gM:()=>E,ug:()=>m});var i=n(82777);const t=new Map,u=new Map;function e(C,S,R){const T=R.find(A=>{if(C[A]===S[A]||(0,i.Tn)(C[A])&&(0,i.Tn)(S[A]))return!1;if((0,i.Tn)(C[A])||(0,i.Tn)(S[A]))return!0;const p=function _(C,S){return(u.get(C)||new Map).get(S)}(C.constructor,A);return(0,i.a4)(p)?!e(C[A],S[A],p):C[A]instanceof h?!C[A].equals(S[A]):"object"==typeof C[A]?!e(C[A],S[A],Object.keys(C)):C[A]!==S[A]});return(0,i.Tn)(T)}class h{equals(S){if((0,i.Tn)(S))return!1;if(this===S)return!0;const R=v(this.constructor);return e(this,S,Object.keys(this).filter(A=>!R.includes(A)))}}function m(C){return function(R){const T=v(C)||[],A=v(R)||[];t.set(R,[...A,...T]);const p=u.get(R)||new Map,L=u.get(C)||new Map;Array.from(L.keys()).filter(D=>!Array.from(p.keys()).includes(D)).forEach(D=>{E(...L.get(D))(new R,D)})}}function f(C,S){if(!C)return;let R=t.get(C.constructor);(0,i.Im)(R)&&(R=[]),t.set(C.constructor,[...R,S])}function v(C){return t.get(C)||[]}function E(...C){return function(R,T){if(!R)return;let A=u.get(R.constructor);(0,i.Im)(A)&&(A=new Map),A.set(T,C),u.set(R.constructor,A)}}},19460:(F,b,n)=>{"use strict";n.d(b,{dX:()=>u,oo:()=>t,sA:()=>i});const i="X-XSRF-TOKEN",t="DSPACE-XSRF-TOKEN",u="XSRF-TOKEN"},10110:(F,b,n)=>{"use strict";n.d(b,{N:()=>t,q:()=>u});const t={SET:(0,n(91e3).N)("dspace/core/correlationId/SET")};class u{constructor(h){this.payload=h,this.type=t.SET}}},73308:(F,b,n)=>{"use strict";n.r(b),n.d(b,{FooterComponent:()=>D});var i=n(60177),t=n(7901),u=n(41780),e=n(7673),h=n(82640),m=n(42084),f=n(65007),v=n(3970),E=n(82777),_=n(54438),C=n(49844);const S=w=>({year:w});function R(w,M){1&w&&(_.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"h5",14),_.EFF(5,"Footer Content"),_.k0s(),_.j41(6,"ul",15)(7,"li")(8,"a",16),_.EFF(9,"Lorem ipsum"),_.k0s()(),_.j41(10,"li")(11,"a",16),_.EFF(12,"Ut facilisis"),_.k0s()(),_.j41(13,"li")(14,"a",16),_.EFF(15,"Aenean sit"),_.k0s()()()(),_.j41(16,"div",13)(17,"h5",14),_.EFF(18,"Footer Content"),_.k0s(),_.j41(19,"ul",15)(20,"li")(21,"a",16),_.EFF(22,"Suspendisse potenti"),_.k0s()()()(),_.j41(23,"div",17)(24,"h5",14),_.EFF(25,"Footer Content"),_.k0s(),_.j41(26,"p"),_.EFF(27," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae aliquam voluptatem veniam, est atque cumque eum delectus sint! "),_.k0s()()()()())}function T(w,M){1&w&&(_.j41(0,"li")(1,"a",18),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&w&&(_.R7$(2),_.JRh(_.bMT(3,1,"footer.link.privacy-policy")))}function A(w,M){1&w&&(_.j41(0,"li")(1,"a",19),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&w&&(_.R7$(2),_.JRh(_.bMT(3,1,"footer.link.end-user-agreement")))}function p(w,M){1&w&&(_.j41(0,"li")(1,"a",20),_.EFF(2),_.nI1(3,"translate"),_.k0s()()),2&w&&(_.R7$(2),_.JRh(_.bMT(3,1,"footer.link.feedback")))}function L(w,M){1&w&&(_.j41(0,"div",21)(1,"a",22),_.nrm(2,"img",23),_.nI1(3,"translate"),_.EFF(4),_.nI1(5,"translate"),_.k0s()()),2&w&&(_.R7$(2),_.BMQ("alt",_.bMT(3,2,"menu.header.image.logo")),_.R7$(2),_.SpI(" ",_.bMT(5,4,"footer.link.coar-notify-support")," "))}let D=(()=>{class w{constructor(x,j,U,$){this.cookies=x,this.authorizationService=j,this.notifyInfoService=U,this.appConfig=$,this.dateObj=Date.now(),this.showTopFooter=!1}ngOnInit(){this.showPrivacyPolicy=this.appConfig.info.enablePrivacyStatement,this.showEndUserAgreement=this.appConfig.info.enableEndUserAgreement,this.coarLdnEnabled$=this.appConfig.info.enableCOARNotifySupport?this.notifyInfoService.isCoarConfigEnabled():(0,e.of)(!1),this.showSendFeedback$=this.authorizationService.isAuthorized(v._.CanSendFeedback)}showCookieSettings(){return(0,E.a4)(this.cookies)&&this.cookies.showSettings(),!1}static{this.\u0275fac=function(j){return new(j||w)(_.rXU(C.B,8),_.rXU(f.AuthorizationDataService),_.rXU(m.P),_.rXU(h.vQ))}}static{this.\u0275cmp=_.VBU({type:w,selectors:[["ds-base-footer"]],standalone:!0,features:[_.aNF],decls:25,vars:27,consts:[["class","top-footer",4,"ngIf"],[1,"bottom-footer","p-1","d-flex","justify-content-center","align-items-center","text-white"],[1,"content-container"],[1,"m-0"],[1,"text-white"],["href","https://www.lyrasis.org/",1,"text-white"],[1,"footer-info","list-unstyled","d-flex","justify-content-center","mb-0"],["type","button",1,"btn","btn-link","text-white",3,"click"],[4,"ngIf"],["class","notify-enabled text-white",4,"ngIf"],[1,"top-footer"],[1,"container","p-4"],[1,"row"],[1,"col-lg-4","col-md-6","mb-4","mb-lg-0"],[1,"text-uppercase"],[1,"list-unstyled","mb-0"],["routerLink","./",1,""],[1,"col-lg-4","col-md-12","mb-4","mb-md-0"],["routerLink","info/privacy",1,"btn","text-white"],["routerLink","info/end-user-agreement",1,"btn","text-white"],["routerLink","info/feedback",1,"btn","text-white"],[1,"notify-enabled","text-white"],["routerLink","info/coar-notify-support",1,"coar-notify-support-route"],["src","assets/images/n-coar.svg",1,"n-coar"]],template:function(j,U){1&j&&(_.j41(0,"footer"),_.DNE(1,R,28,0,"div",0),_.j41(2,"div",1)(3,"div",2)(4,"p",3)(5,"a",4),_.EFF(6),_.nI1(7,"translate"),_.k0s(),_.EFF(8),_.nI1(9,"date"),_.nI1(10,"translate"),_.j41(11,"a",5),_.EFF(12),_.nI1(13,"translate"),_.k0s()(),_.j41(14,"ul",6)(15,"li")(16,"button",7),_.bIt("click",function(){return U.showCookieSettings()}),_.EFF(17),_.nI1(18,"translate"),_.k0s()(),_.DNE(19,T,4,3,"li",8)(20,A,4,3,"li",8)(21,p,4,3,"li",8),_.nI1(22,"async"),_.k0s()(),_.DNE(23,L,6,6,"div",9),_.nI1(24,"async"),_.k0s()()),2&j&&(_.R7$(),_.Y8G("ngIf",U.showTopFooter),_.R7$(5),_.JRh(_.bMT(7,9,"footer.link.dspace")),_.R7$(2),_.SpI(" ",_.i5U(10,14,"footer.copyright",_.eq3(25,S,_.i5U(9,11,U.dateObj,"y")))," "),_.R7$(4),_.JRh(_.bMT(13,17,"footer.link.lyrasis")),_.R7$(5),_.SpI(" ",_.bMT(18,19,"footer.link.cookies")," "),_.R7$(2),_.Y8G("ngIf",U.showPrivacyPolicy),_.R7$(),_.Y8G("ngIf",U.showEndUserAgreement),_.R7$(),_.Y8G("ngIf",_.bMT(22,21,U.showSendFeedback$)),_.R7$(2),_.Y8G("ngIf",_.bMT(24,23,U.coarLdnEnabled$)))},dependencies:[i.bT,t.Wk,i.Jj,i.vh,u.h,u.D9],styles:['[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{background-color:var(--ds-footer-bg);text-align:center;z-index:var(--ds-footer-z-index);border-top:var(--ds-footer-border);padding:var(--ds-footer-padding)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:var(--ds-footer-logo-height)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .top-footer[_ngcontent-%COMP%]{background-color:var(--ds-top-footer-bg);padding:var(--ds-footer-padding);margin:calc(var(--ds-footer-padding) * -1)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:0;margin-top:20px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]   .coar-notify-support-route[_ngcontent-%COMP%]{padding:0 calc(var(--bs-spacer) / 2);color:inherit}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]   .n-coar[_ngcontent-%COMP%]{height:var(--ds-footer-n-coar-height);margin-bottom:8.5px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-flex}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{padding:0 calc(var(--bs-spacer) / 2);color:inherit;font-size:.875em}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{box-shadow:none;text-decoration:underline}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem #ffffff80}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child):after{content:"";border-right:1px var(--bs-secondary) solid}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{box-shadow:none}']})}}return w})()},74920:(F,b,n)=>{"use strict";n.d(b,{C:()=>m});var i=n(8886),u=(n(73308),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"FooterComponent"}importThemedComponent(E){return n(43562)(`./${E}/app/footer/footer.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,73308))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-footer"]],standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},1748:(F,b,n)=>{"use strict";n.r(b),n.d(b,{ForbiddenComponent:()=>m});var i=n(7901),t=n(41780),u=n(67116),e=n(7337),h=n(54438);let m=(()=>{class f{constructor(E,_){this.authService=E,this.responseService=_,this.responseService.setForbidden()}ngOnInit(){this.authService.clearRedirectUrl()}static{this.\u0275fac=function(_){return new(_||f)(h.rXU(u.uR),h.rXU(e.w))}}static{this.\u0275cmp=h.VBU({type:f,selectors:[["ds-base-forbidden"]],standalone:!0,features:[h.aNF],decls:16,vars:9,consts:[[1,"forbidden","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(_,C){1&_&&(h.j41(0,"div",0)(1,"h1"),h.EFF(2,"403"),h.k0s(),h.j41(3,"h2")(4,"small"),h.EFF(5),h.nI1(6,"translate"),h.k0s()(),h.nrm(7,"br"),h.j41(8,"p"),h.EFF(9),h.nI1(10,"translate"),h.k0s(),h.nrm(11,"br"),h.j41(12,"p",1)(13,"a",2),h.EFF(14),h.nI1(15,"translate"),h.k0s()()()),2&_&&(h.R7$(5),h.JRh(h.bMT(6,3,"403.forbidden")),h.R7$(4),h.JRh(h.bMT(10,5,"403.help")),h.R7$(5),h.JRh(h.bMT(15,7,"403.link.home-page")))},dependencies:[i.Wk,t.h,t.D9]})}}return f})()},78221:(F,b,n)=>{"use strict";n.r(b),n.d(b,{HeaderNavbarWrapperComponent:()=>E});var i=n(60177),t=n(95960),u=n(77632),e=n(57538),h=n(39548),m=n(19340),f=n(54438);const v=_=>({open:_});let E=(()=>{class _{constructor(S,R){this.menuService=S,this.windowService=R,this.menuID=m.D.PUBLIC,this.maxMobileWidth=e.tP.SM}ngOnInit(){this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth),this.isNavBarCollapsed$=this.menuService.isMenuCollapsed(this.menuID)}static{this.\u0275fac=function(R){return new(R||_)(f.rXU(h.$),f.rXU(e.CV))}}static{this.\u0275cmp=f.VBU({type:_,selectors:[["ds-base-header-navbar-wrapper"]],standalone:!0,features:[f.aNF],decls:4,vars:5,consts:[["id","header-navbar-wrapper",3,"ngClass"]],template:function(R,T){1&R&&(f.j41(0,"div",0),f.nI1(1,"async"),f.nrm(2,"ds-header")(3,"ds-navbar"),f.k0s()),2&R&&f.Y8G("ngClass",f.eq3(3,v,!0!==f.bMT(1,1,T.isNavBarCollapsed$)))},dependencies:[i.YU,t.q,u.D,i.Jj],styles:["[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]{border-bottom:1px var(--ds-header-navbar-border-bottom-color) solid}"]})}}return _})()},77529:(F,b,n)=>{"use strict";n.d(b,{h:()=>m});var i=n(8886),u=(n(78221),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"HeaderNavbarWrapperComponent"}importThemedComponent(E){return n(20991)(`./${E}/app/header-nav-wrapper/header-navbar-wrapper.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,78221))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-header-navbar-wrapper"]],standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},20968:(F,b,n)=>{"use strict";n.d(b,{Y:()=>f});var i=n(60177),t=n(41780),u=n(96354),e=n(40188),h=n(54438);function m(v,E){if(1&v){const _=h.RV6();h.j41(0,"div")(1,"a",1),h.nI1(2,"translate"),h.nI1(3,"translate"),h.bIt("click",function(){h.eBV(_);const S=h.XpG();return h.Njj(S.onClick())}),h.nrm(4,"i",2),h.k0s()()}2&v&&(h.R7$(),h.Y8G("title",h.bMT(2,2,"nav.context-help-toggle")),h.BMQ("aria-label",h.bMT(3,4,"nav.context-help-toggle")))}let f=(()=>{class v{constructor(_,C){this.elRef=_,this.contextHelpService=C,this.subscriptions=[]}ngOnInit(){this.buttonVisible$=this.contextHelpService.tooltipCount$().pipe((0,u.T)(_=>_>0)),this.subscriptions.push(this.buttonVisible$.subscribe(_=>{_?this.elRef.nativeElement.classList.remove("d-none"):this.elRef.nativeElement.classList.add("d-none")}))}onClick(){this.contextHelpService.toggleIcons()}static{this.\u0275fac=function(C){return new(C||v)(h.rXU(h.aKT),h.rXU(e.O))}}static{this.\u0275cmp=h.VBU({type:v,selectors:[["ds-context-help-toggle"]],standalone:!0,features:[h.aNF],decls:2,vars:3,consts:[[4,"ngIf"],["href","javascript:void(0);","role","menuitem",3,"click","title"],[1,"fas","fa-lg","fa-fw","fa-question-circle","ds-context-help-toggle"]],template:function(C,S){1&C&&(h.DNE(0,m,5,6,"div",0),h.nI1(1,"async")),2&C&&h.Y8G("ngIf",h.bMT(1,1,S.buttonVisible$))},dependencies:[i.bT,i.Jj,t.h,t.D9],styles:[".ds-context-help-toggle[_ngcontent-%COMP%]{color:var(--ds-header-icon-color);background-color:var(--ds-header-bg)}.ds-context-help-toggle[_ngcontent-%COMP%]:hover, .ds-context-help-toggle[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}"]})}}return v})()},34912:(F,b,n)=>{"use strict";n.r(b),n.d(b,{HeaderComponent:()=>A});var i=n(60177),t=n(7901),u=n(58003),e=n(41780),h=n(3224),m=n(44002),f=n(57538),v=n(34458),E=n(28068),_=n(39548),C=n(19340),S=n(20968),R=n(54438);function T(p,L){if(1&p){const D=R.RV6();R.j41(0,"div",6)(1,"button",7),R.nI1(2,"translate"),R.bIt("click",function(){R.eBV(D);const M=R.XpG();return R.Njj(M.toggleNavbar())}),R.nrm(3,"span",8),R.k0s()()}2&p&&(R.R7$(),R.BMQ("aria-label",R.bMT(2,1,"nav.toggle")))}let A=(()=>{class p{constructor(D,w){this.menuService=D,this.windowService=w,this.menuID=C.D.PUBLIC,this.maxMobileWidth=f.tP.SM}ngOnInit(){this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth)}toggleNavbar(){this.menuService.toggleMenu(this.menuID)}static{this.\u0275fac=function(w){return new(w||p)(R.rXU(_.$),R.rXU(f.CV))}}static{this.\u0275cmp=R.VBU({type:p,selectors:[["ds-base-header"]],standalone:!0,features:[R.aNF],decls:15,vars:9,consts:[[1,"container"],[1,"d-flex","flex-row","justify-content-between"],["routerLink","/home",1,"navbar-brand","my-2"],["src","assets/images/HighCourtLogo.jpeg"],["role","navigation",1,"navbar","navbar-light","navbar-expand-md","flex-shrink-0","px-0"],["class","ps-2",4,"ngIf"],[1,"ps-2"],["type","button","aria-controls","collapsingNav","aria-expanded","false",1,"navbar-toggler","px-0",3,"click"],["aria-hidden","true",1,"fas","fa-bars","fa-fw","toggler-icon"]],template:function(w,M){1&w&&(R.j41(0,"header")(1,"div",0)(2,"div",1)(3,"a",2),R.nrm(4,"img",3),R.nI1(5,"translate"),R.k0s(),R.j41(6,"nav",4),R.nI1(7,"translate"),R.nrm(8,"ds-search-navbar")(9,"ds-lang-switch")(10,"ds-context-help-toggle")(11,"ds-auth-nav-menu")(12,"ds-impersonate-navbar"),R.DNE(13,T,4,3,"div",5),R.nI1(14,"async"),R.k0s()()()()),2&w&&(R.R7$(4),R.BMQ("alt",R.bMT(5,3,"menu.header.image.logo")),R.R7$(2),R.BMQ("aria-label",R.bMT(7,5,"nav.user.description")),R.R7$(7),R.Y8G("ngIf",R.bMT(14,7,M.isMobile$)))},dependencies:[t.Wk,E.n,u.zH,u.QE,h.X,S.Y,m.v,v.d,e.h,e.D9,i.Jj,i.bT],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background-color:var(--ds-header-bg)}[_nghost-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height);max-width:100%}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:none;color:var(--ds-header-icon-color)}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]   .toggler-icon[_ngcontent-%COMP%]{width:1.5em;height:1.5em;line-height:1.5}[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{display:flex;gap:calc(var(--bs-spacer) / 3);align-items:center}"]})}}return p})()},95960:(F,b,n)=>{"use strict";n.d(b,{q:()=>m});var i=n(8886),u=(n(34912),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"HeaderComponent"}importThemedComponent(E){return n(16722)(`./${E}/app/header/header.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,34912))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-header"]],standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},52178:(F,b,n)=>{"use strict";n.r(b),n.d(b,{HomeNewsComponent:()=>t});var i=n(54438);let t=(()=>{class u{static{this.\u0275fac=function(m){return new(m||u)}}static{this.\u0275cmp=i.VBU({type:u,selectors:[["ds-base-home-news"]],standalone:!0,features:[i.aNF],decls:20,vars:0,consts:[[1,"jumbotron","py-4","px-2","py-sm-5","px-sm-0","mt-0","mb-4"],[1,"container"],[1,"d-flex","flex-wrap"],[1,"display-2"],[1,"lead"],["href","https://wiki.lyrasis.org/display/DSPACE/DSpace+Positioning","target","_blank"]],template:function(m,f){1&m&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),i.EFF(5,"DSpace 9"),i.k0s(),i.j41(6,"p",4),i.EFF(7,"DSpace is the world leading open source repository platform that enables organisations to:"),i.k0s()()(),i.j41(8,"ul")(9,"li"),i.EFF(10,"easily ingest documents, audio, video, datasets and their corresponding Dublin Core metadata "),i.k0s(),i.j41(11,"li"),i.EFF(12,"open up this content to local and global audiences, thanks to the OAI-PMH interface and Google Scholar optimizations "),i.k0s(),i.j41(13,"li"),i.EFF(14,"issue permanent urls and trustworthy identifiers, including optional integrations with handle.net and DataCite DOI"),i.k0s()(),i.j41(15,"p"),i.EFF(16,"Join an international community of "),i.j41(17,"a",5),i.EFF(18,"leading institutions using DSpace"),i.k0s(),i.EFF(19,". "),i.k0s()()())},styles:["[_nghost-%COMP%]{display:block}.display-3[_ngcontent-%COMP%]{word-break:break-word}.jumbotron[_ngcontent-%COMP%]{background-color:var(--ds-home-news-background-color)}a[_ngcontent-%COMP%]{color:var(--ds-home-news-link-color)}a[_ngcontent-%COMP%]:hover{color:var(--ds-home-news-link-hover-color)}"]})}}return u})()},16805:(F,b,n)=>{"use strict";n.d(b,{KN:()=>m,KS:()=>h,UB:()=>e,jK:()=>t,lB:()=>u});var i=n(69799);const t="end-user-agreement",u="privacy",e="feedback",h="coar-notify-support";function m(){return function _(C){return`${(0,i.e_)()}/${C}`}(t)}},4436:(F,b,n)=>{"use strict";n.d(b,{$2:()=>u,Bw:()=>m,Jr:()=>h,K4:()=>f,KY:()=>v,Pg:()=>t,RS:()=>e,kH:()=>i});const i="withdraw",t="reinstate",u="private",e="public",h="delete",m="move",f="authorizations",v="register-doi"},13933:(F,b,n)=>{"use strict";n.d(b,{W:()=>f});var i=n(60177),t=n(41780),e=(n(88318),n(54438));function h(v,E){if(1&v&&(e.j41(0,"tr",4)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s()()),2&v){const _=E.$implicit,C=e.XpG().$implicit;e.R7$(2),e.JRh(C.key),e.R7$(2),e.JRh(_.value),e.R7$(2),e.JRh(_.language)}}function m(v,E){if(1&v&&(e.qex(0),e.DNE(1,h,7,3,"tr",3),e.bVm()),2&v){const _=E.$implicit;e.R7$(),e.Y8G("ngForOf",_.value)}}let f=(()=>{class v{ngOnChanges(){this.metadata=this.item?.metadata}static{this.\u0275fac=function(C){return new(C||v)}}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-modify-item-overview"]],inputs:{item:"item"},standalone:!0,features:[e.OA$,e.aNF],decls:15,vars:12,consts:[["id","metadata",1,"table","table-striped","table-hover","table-responsive"],["scope","col"],[4,"ngFor","ngForOf"],["class","metadata-row",4,"ngFor","ngForOf"],[1,"metadata-row"]],template:function(C,S){1&C&&(e.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",1),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",1),e.EFF(10),e.nI1(11,"translate"),e.k0s()()(),e.j41(12,"tbody"),e.DNE(13,m,2,1,"ng-container",2),e.nI1(14,"keyvalue"),e.k0s()()),2&C&&(e.R7$(4),e.JRh(e.bMT(5,4,"item.edit.modify.overview.field")),e.R7$(3),e.JRh(e.bMT(8,6,"item.edit.modify.overview.value")),e.R7$(3),e.JRh(e.bMT(11,8,"item.edit.modify.overview.language")),e.R7$(3),e.Y8G("ngForOf",e.bMT(14,10,S.metadata)))},dependencies:[i.pM,i.lG,t.h,t.D9],encapsulation:2})}}return v})()},44616:(F,b,n)=>{"use strict";n.d(b,{r:()=>k});var i=n(60177),t=n(7901),u=n(41780),e=n(84412),h=n(84572),m=n(99172),f=n(88141),v=n(53993),E=n(25558),_=n(31943),C=n(96354),S=n(96526),R=n(6983),T=n(41023),p=(n(88318),n(80183)),L=n(82777),D=n(79222),w=n(54438);const M=K=>["/collections",K];function x(K,X){if(1&K&&w.nrm(0,"span",7),2&K){const G=w.XpG(2);w.Y8G("innerHTML",G.separator,w.npT)}}function j(K,X){if(1&K&&(w.j41(0,"a",5)(1,"span"),w.EFF(2),w.k0s(),w.DNE(3,x,1,1,"span",6),w.k0s()),2&K){const G=X.$implicit,q=X.last,z=w.XpG();w.Y8G("routerLink",w.eq3(3,M,G.id)),w.R7$(2),w.JRh(z.dsoNameService.getName(G)),w.R7$(),w.Y8G("ngIf",!q)}}function U(K,X){1&K&&(w.j41(0,"div"),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&K&&(w.R7$(),w.SpI(" ",w.bMT(2,1,"item.page.collections.loading")," "))}function $(K,X){if(1&K){const G=w.RV6();w.j41(0,"a",8),w.bIt("click",function(z){w.eBV(G);const te=w.XpG();return z.preventDefault(),w.Njj(te.handleLoadMore())}),w.EFF(1),w.nI1(2,"translate"),w.k0s()}2&K&&(w.R7$(),w.SpI(" ",w.bMT(2,1,"item.page.collections.load-more")," "))}let k=(()=>{class K{constructor(G,q,z){this.cds=G,this.dsoNameService=q,this.cdr=z,this.label="item.page.collections",this.separator="<br/>",this.pageSize=5,this.lastPage$=new e.t(0),this.loadMore$=new e.t(void 0),this.isLoading$=new e.t(!0),this.hasMore$=new e.t(!0)}ngOnInit(){const G=this.cds.findOwningCollectionFor(this.item).pipe((0,p.ak)(),(0,m.Z)(null)),q=this.loadMore$.pipe((0,f.M)(()=>this.isLoading$.next(!0)),(0,v.E)(this.lastPage$),(0,E.n)(([z,te])=>this.cds.findMappedCollectionsFor(this.item,Object.assign(new T._,{elementsPerPage:this.pageSize,currentPage:te+1}))),(0,p.bD)(),(0,f.M)(()=>this.isLoading$.next(!1)),(0,p.Hz)(),(0,f.M)(z=>this.hasMore$.next(z.currentPage<z.totalPages)),(0,f.M)(z=>this.lastPage$.next(z.currentPage)),(0,p.W8)(),(0,_.S)((z,te)=>[...z,...te],[]),(0,m.Z)([]));this.collections$=(0,h.z)([G,q]).pipe((0,C.T)(([z,te])=>[z,...te].filter(Z=>(0,L.a4)(Z)))),this.cdr.detectChanges()}handleLoadMore(){this.loadMore$.next()}static{this.\u0275fac=function(q){return new(q||K)(w.rXU(R.CollectionDataService),w.rXU(S.f),w.rXU(w.gRc))}}static{this.\u0275cmp=w.VBU({type:K,selectors:[["ds-item-page-collections"]],inputs:{item:"item",separator:"separator"},standalone:!0,features:[w.aNF],decls:10,vars:14,consts:[[3,"label"],[1,"collections"],[3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],["class","load-more-btn btn btn-sm btn-outline-secondary","role","button","href","javascript:void(0);",3,"click",4,"ngIf"],[3,"routerLink"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],["role","button","href","javascript:void(0);",1,"load-more-btn","btn","btn-sm","btn-outline-secondary",3,"click"]],template:function(q,z){1&q&&(w.j41(0,"ds-metadata-field-wrapper",0),w.nI1(1,"translate"),w.j41(2,"div",1),w.DNE(3,j,4,5,"a",2),w.nI1(4,"async"),w.k0s(),w.DNE(5,U,3,3,"div",3),w.nI1(6,"async"),w.DNE(7,$,3,3,"a",4),w.nI1(8,"async"),w.nI1(9,"async"),w.k0s()),2&q&&(w.Y8G("label",w.bMT(1,4,z.label)),w.R7$(3),w.Y8G("ngForOf",w.bMT(4,6,z.collections$)),w.R7$(2),w.Y8G("ngIf",w.bMT(6,8,z.isLoading$)),w.R7$(2),w.Y8G("ngIf",!0!==w.bMT(8,10,z.isLoading$)&&w.bMT(9,12,z.hasMore$)))},dependencies:[D.Q,u.h,u.D9,i.Sq,i.Jj,t.Wk,i.bT],encapsulation:2})}}return K})()},90887:(F,b,n)=>{"use strict";n.d(b,{$r:()=>m,DL:()=>E,Fy:()=>e,_o:()=>h,_z:()=>A,aX:()=>T,jU:()=>C,nF:()=>f,vf:()=>_,xb:()=>u});var i=n(45663),t=n(82777);const u="items";function e(){return`/${u}`}function h(p){return v(p.firstMetadataValue("dspace.entity.type"),p.uuid)}function m(p){return new i.t(h(p),C).toString()}function f(p){return new i.t(h(p),C,S).toString()}function v(p,L){return(0,t.hj)(p)?new i.t("/entities",encodeURIComponent(p.toLowerCase()),L).toString():new i.t(e(),L).toString()}function E(p,L){return new i.t(v(p,L),C).toString()}function _(p){return new i.t(e(),R,p).toString()}const C="edit",S="versionhistory",R="version",T="bitstreams/new",A="orcid"},39630:(F,b,n)=>{"use strict";n.r(b),n.d(b,{MediaViewerImageComponent:()=>h});var i=n(60177),t=n(23632),u=n(67116),e=n(54438);let h=(()=>{class m{constructor(v){this.authService=v,this.thumbnailPlaceholder="./assets/images/replacement_image.svg",this.galleryOptions=[],this.galleryImages=[]}ngOnChanges(){this.galleryOptions=[{preview:void 0===this.preview||this.preview,image:!0,imageSize:"contain",thumbnails:!1,imageArrows:!1,startIndex:0,imageAnimation:t.O7.Slide,previewCloseOnEsc:!0,previewZoom:!0,previewRotate:!0,previewFullscreen:!0}],this.galleryImages=this.image?[{small:this.image,medium:this.image,big:this.image}]:this.convertToGalleryImage(this.images)}ngOnInit(){this.isAuthenticated$=this.authService.isAuthenticated(),this.ngOnChanges()}convertToGalleryImage(v){const E=[];for(const _ of v)"image"===_.format&&E.push({small:_.thumbnail?_.thumbnail:this.thumbnailPlaceholder,medium:_.thumbnail?_.thumbnail:this.thumbnailPlaceholder,big:_.bitstream._links.content.href});return E}static{this.\u0275fac=function(E){return new(E||m)(e.rXU(u.uR))}}static{this.\u0275cmp=e.VBU({type:m,selectors:[["ds-base-media-viewer-image"]],inputs:{images:"images",preview:"preview",image:"image"},standalone:!0,features:[e.OA$,e.aNF],decls:3,vars:6,consts:[[1,"ngx-gallery",3,"options","images"]],template:function(E,_){1&E&&(e.j41(0,"div"),e.nI1(1,"async"),e.nrm(2,"ngx-gallery",0),e.k0s()),2&E&&(e.AVh("change-gallery",e.bMT(1,4,_.isAuthenticated$)),e.R7$(2),e.Y8G("options",_.galleryOptions)("images",_.galleryImages))},dependencies:[t.cz,t.Fv,i.Jj],styles:['[_nghost-%COMP%]     .ngx-gallery{width:unset!important;height:unset!important}[_nghost-%COMP%]     ngx-gallery-image{max-width:340px!important}[_nghost-%COMP%]     ngx-gallery-image .ngx-gallery-image{background-position:left}[_nghost-%COMP%]     ngx-gallery-image:after{padding-top:75%;display:block;content:""}']})}}return m})()},56242:(F,b,n)=>{"use strict";n.d(b,{Q:()=>m});var i=n(8886),u=(n(39630),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["images","preview","image"]}getComponentName(){return"MediaViewerImageComponent"}importThemedComponent(E){return n(52636)(`./${E}/app/item-page/media-viewer/media-viewer-image/media-viewer-image.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,39630))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-media-viewer-image"]],inputs:{images:"images",preview:"preview",image:"image"},standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},90823:(F,b,n)=>{"use strict";n.r(b),n.d(b,{MediaViewerVideoComponent:()=>R});var i=n(60177),t=n(58003),u=n(41780),e=n(96526),h=n(60456);class m{constructor(A,p,L){this.src=A,this.srclang=p,this.langLabel=L}}const f={ab:"Abkhazian",aa:"Afar",af:"Afrikaans",ak:"Akan",sq:"Albanian",am:"Amharic",ar:"Arabic",an:"Aragonese",hy:"Armenian",as:"Assamese",av:"Avaric",ae:"Avestan",ay:"Aymara",az:"Azerbaijani",bm:"Bambara",ba:"Bashkir",eu:"Basque",be:"Belarusian",bn:"Bengali (Bangla)",bh:"Bihari",bi:"Bislama",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",ny:"Chichewa, Chewa, Nyanja",zh:"Chinese",cv:"Chuvash",kw:"Cornish",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",dv:"Divehi, Dhivehi, Maldivian",nl:"Dutch",dz:"Dzongkha",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",fo:"Faroese",fj:"Fijian",fi:"Finnish",fr:"French",ff:"Fula, Fulah, Pulaar, Pular",gl:"Galician",gd:"Gaelic (Scottish)",gv:"Gaelic (Manx)",ka:"Georgian",de:"German",el:"Greek",gn:"Guarani",gu:"Gujarati",ht:"Haitian Creole",ha:"Hausa",he:"Hebrew",hz:"Herero",hi:"Hindi",ho:"Hiri Motu",hu:"Hungarian",is:"Icelandic",io:"Ido",ig:"Igbo",in:"Indonesian",ia:"Interlingua",ie:"Interlingue",iu:"Inuktitut",ik:"Inupiak",ga:"Irish",it:"Italian",ja:"Japanese",jv:"Javanese",kl:"Kalaallisut, Greenlandic",kn:"Kannada",kr:"Kanuri",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ki:"Kikuyu",rw:"Kinyarwanda (Rwanda)",rn:"Kirundi",ky:"Kyrgyz",kv:"Komi",kg:"Kongo",ko:"Korean",ku:"Kurdish",kj:"Kwanyama",lo:"Lao",la:"Latin",lv:"Latvian (Lettish)",li:"Limburgish ( Limburger)",ln:"Lingala",lt:"Lithuanian",lu:"Luga-Katanga",lg:"Luganda, Ganda",lb:"Luxembourgish",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mh:"Marshallese",mo:"Moldavian",mn:"Mongolian",na:"Nauru",nv:"Navajo",ng:"Ndonga",nd:"Northern Ndebele",ne:"Nepali",no:"Norwegian",nb:"Norwegian bokm\xe5l",nn:"Norwegian nynorsk",oc:"Occitan",oj:"Ojibwe",cu:"Old Church Slavonic, Old Bulgarian",or:"Oriya",om:"Oromo (Afaan Oromo)",os:"Ossetian",pi:"P\u0101li",ps:"Pashto, Pushto",fa:"Persian (Farsi)",pl:"Polish",pt:"Portuguese",pa:"Punjabi (Eastern)",qu:"Quechua",rm:"Romansh",ro:"Romanian",ru:"Russian",se:"Sami",sm:"Samoan",sg:"Sango",sa:"Sanskrit",sr:"Serbian",sh:"Serbo-Croatian",st:"Sesotho",tn:"Setswana",sn:"Shona",ii:"Sichuan Yi, Nuosu",sd:"Sindhi",si:"Sinhalese",ss:"Siswati (Swati)",sk:"Slovak",sl:"Slovenian",so:"Somali",nr:"Southern Ndebele",es:"Spanish",su:"Sundanese",sw:"Swahili (Kiswahili)",sv:"Swedish",tl:"Tagalog",ty:"Tahitian",tg:"Tajik",ta:"Tamil",tt:"Tatar",te:"Telugu",th:"Thai",bo:"Tibetan",ti:"Tigrinya",to:"Tonga",ts:"Tsonga",tr:"Turkish",tk:"Turkmen",tw:"Twi",ug:"Uyghur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volap\xfck",wa:"Wallon",cy:"Welsh",wo:"Wolof",fy:"Western Frisian",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang, Chuang",zu:"Zulu"};var v=n(54438);function E(T,A){if(1&T&&(v.qex(0),v.nrm(1,"track",4),v.bVm()),2&T){const p=A.$implicit;v.R7$(),v.Y8G("src",p.src,v.B4B)("label",p.langLabel)("srclang",p.srclang)}}function _(T,A){if(1&T&&(v.qex(0),v.DNE(1,E,2,3,"ng-container",3),v.bVm()),2&T){const p=A.ngIf;v.R7$(),v.Y8G("ngForOf",p)}}function C(T,A){if(1&T){const p=v.RV6();v.j41(0,"button",12),v.bIt("click",function(){const D=v.eBV(p).index,w=v.XpG(2);return v.Njj(w.selectedMedia(D))}),v.EFF(1),v.k0s()}if(2&T){const p=A.$implicit,L=v.XpG(2);v.R7$(),v.SpI(" ",L.dsoNameService.getName(p.bitstream)," ")}}function S(T,A){if(1&T){const p=v.RV6();v.j41(0,"div",5)(1,"button",6),v.bIt("click",function(){v.eBV(p);const D=v.XpG();return v.Njj(D.prevMedia())}),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.j41(4,"button",7),v.bIt("click",function(){v.eBV(p);const D=v.XpG();return v.Njj(D.nextMedia())}),v.EFF(5),v.nI1(6,"translate"),v.k0s(),v.j41(7,"div",8)(8,"button",9),v.EFF(9),v.nI1(10,"translate"),v.k0s(),v.j41(11,"div",10),v.DNE(12,C,2,1,"button",11),v.k0s()()()}if(2&T){const p=v.XpG();v.R7$(),v.Y8G("dsBtnDisabled",0===p.currentIndex),v.R7$(),v.SpI(" ",v.bMT(3,6,"media-viewer.previous")," "),v.R7$(2),v.Y8G("dsBtnDisabled",p.currentIndex===p.medias.length-1),v.R7$(),v.SpI(" ",v.bMT(6,8,"media-viewer.next")," "),v.R7$(4),v.SpI(" ",v.bMT(10,10,"media-viewer.playlist")," "),v.R7$(3),v.Y8G("ngForOf",p.medias)}}let R=(()=>{class T{constructor(p){this.dsoNameService=p,this.captions=[],this.isCollapsed=!1,this.currentIndex=0,this.replacements={video:"./assets/images/replacement_video.svg",audio:"./assets/images/replacement_audio.svg"}}getMediaCap(p,L){const D=[],w=L.filter(M=>M.name.substring(0,M.name.length-7).toLowerCase()===p.toLowerCase());for(const M of w){const x=M.name.slice(-6,-4).toLowerCase();D.push(new m(M._links.content.href,x,f[x]))}return D}selectedMedia(p){this.currentIndex=p}nextMedia(){this.currentIndex++}prevMedia(){this.currentIndex--}static{this.\u0275fac=function(L){return new(L||T)(v.rXU(e.f))}}static{this.\u0275cmp=v.VBU({type:T,selectors:[["ds-base-media-viewer-video"]],inputs:{medias:"medias",captions:"captions"},standalone:!0,features:[v.aNF],decls:3,vars:4,consts:[["crossorigin","anonymous","id","singleVideo","preload","none","controls","",3,"src","poster"],[4,"ngIf"],["class","buttons",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"src","label","srclang"],[1,"buttons"],[1,"btn","btn-primary","previous",3,"click","dsBtnDisabled"],[1,"btn","btn-primary","next",3,"click","dsBtnDisabled"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary","playlist"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","","class","list-element",3,"click",4,"ngFor","ngForOf"],["ngbDropdownItem","",1,"list-element",3,"click"]],template:function(L,D){1&L&&(v.j41(0,"video",0),v.DNE(1,_,2,1,"ng-container",1),v.k0s(),v.DNE(2,S,13,12,"div",2)),2&L&&(v.Y8G("src",D.medias[D.currentIndex].bitstream._links.content.href,v.B4B)("poster",D.medias[D.currentIndex].thumbnail||D.replacements[D.medias[D.currentIndex].format],v.B4B),v.R7$(),v.Y8G("ngIf",D.getMediaCap(D.medias[D.currentIndex].bitstream.name,D.captions)),v.R7$(),v.Y8G("ngIf",(null==D.medias?null:D.medias.length)>1))},dependencies:[i.Sq,t.zH,t.tg,t.do,t.U0,t._H,u.h,u.D9,i.bT,h.A],styles:["video[_ngcontent-%COMP%]{width:100%;height:auto;max-width:340px}.buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem}"]})}}return T})()},38342:(F,b,n)=>{"use strict";n.d(b,{U:()=>m});var i=n(8886),u=(n(90823),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["medias","captions"]}getComponentName(){return"MediaViewerVideoComponent"}importThemedComponent(E){return n(38815)(`./${E}/app/item-page/media-viewer/media-viewer-video/media-viewer-video.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,90823))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-media-viewer-video"]],inputs:{medias:"medias",captions:"captions"},standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},90337:(F,b,n)=>{"use strict";n.r(b),n.d(b,{MediaViewerComponent:()=>Z});var i=n(60177),t=n(41780),u=n(84412),e=n(5964),h=n(96697),m=n(88280),f=n(42578);n(88318);class E{}var _=n(80183),C=n(82777),S=n(82394),R=n(67600),T=n(18226),A=n(97402),p=n(56242),L=n(38342),D=n(54438);const w=()=>["audio","video"];function M(J,Q){1&J&&(D.nrm(0,"ds-loading",4),D.nI1(1,"translate")),2&J&&(D.FS9("message",D.bMT(1,2,"loading.default")),D.Y8G("showMessage",!1))}function x(J,Q){if(1&J&&(D.nrm(0,"ds-media-viewer-video",9),D.nI1(1,"async")),2&J){const ee=D.XpG(5).ngVar,le=D.XpG();D.Y8G("medias",ee)("captions",D.bMT(1,2,le.captions$))}}function j(J,Q){if(1&J&&D.nrm(0,"ds-media-viewer-image",10),2&J){const ee=D.XpG(5).ngVar;D.Y8G("images",ee)}}function U(J,Q){1&J&&D.eu8(0)}function $(J,Q){if(1&J&&(D.qex(0),D.DNE(1,x,2,4,"ds-media-viewer-video",7)(2,j,1,1,"ds-media-viewer-image",8)(3,U,1,0,"ng-container",6),D.bVm()),2&J){const ee=Q.ngVar,le=D.XpG().ngVar;D.XpG(3);const ne=D.sdS(4);D.R7$(),D.Y8G("ngIf",le),D.R7$(),D.Y8G("ngIf",ee),D.R7$(),D.Y8G("ngIf",ee||le)("ngIfElse",ne)}}function k(J,Q){if(1&J&&(D.qex(0),D.DNE(1,$,4,4,"ng-container",1),D.bVm()),2&J){const ee=D.XpG(3).ngVar,le=D.XpG();D.R7$(),D.Y8G("ngVar",le.mediaOptions.image&&"image"===(null==ee[0]?null:ee[0].format))}}function K(J,Q){if(1&J&&(D.qex(0),D.DNE(1,k,2,1,"ng-container",1),D.bVm()),2&J){const ee=D.XpG(2).ngVar,le=D.XpG();D.R7$(),D.Y8G("ngVar",le.mediaOptions.video&&D.lJ4(1,w).includes(null==ee[0]?null:ee[0].format))}}function X(J,Q){if(1&J&&(D.j41(0,"div",5),D.DNE(1,K,2,2,"ng-container",6),D.k0s()),2&J){const ee=D.XpG().ngVar,le=D.sdS(4);D.R7$(),D.Y8G("ngIf",ee.length>0)("ngIfElse",le)}}function G(J,Q){if(1&J&&(D.nrm(0,"ds-media-viewer-image",13),D.nI1(1,"async")),2&J){let ee;const le=D.XpG(3);D.Y8G("image",(null==(ee=D.bMT(1,2,le.thumbnailsRD$))||null==ee.payload||null==ee.payload.page[0]?null:ee.payload.page[0]._links.content.href)||le.thumbnailPlaceholder)("preview",!1)}}function q(J,Q){if(1&J&&(D.nrm(0,"ds-thumbnail",14),D.nI1(1,"async")),2&J){let ee;const le=D.XpG(3);D.Y8G("thumbnail",null==(ee=D.bMT(1,1,le.thumbnailsRD$))||null==ee.payload?null:ee.payload.page[0])}}function z(J,Q){if(1&J&&D.DNE(0,G,2,4,"ds-media-viewer-image",11)(1,q,2,3,"ds-thumbnail",12),2&J){const ee=D.XpG(2);D.Y8G("ngIf",ee.mediaOptions.image&&ee.mediaOptions.video),D.R7$(),D.Y8G("ngIf",!(ee.mediaOptions.image&&ee.mediaOptions.video))}}function te(J,Q){if(1&J&&(D.qex(0),D.DNE(1,M,2,4,"ds-loading",2)(2,X,2,2,"div",3)(3,z,2,2,"ng-template",null,0,D.C5r),D.bVm()),2&J){const ee=D.XpG();D.R7$(),D.Y8G("ngIf",ee.isLoading),D.R7$(),D.Y8G("ngIf",!ee.isLoading)}}let Z=(()=>{class J{constructor(ee,le){this.bitstreamDataService=ee,this.changeDetectorRef=le,this.mediaOptions=m.c.mediaViewer,this.mediaList$=new u.t([]),this.captions$=new u.t([]),this.isLoading=!0,this.thumbnailPlaceholder="./assets/images/replacement_document.svg",this.subs=[]}ngOnDestroy(){this.subs.forEach(ee=>ee.unsubscribe())}ngOnInit(){const ee=[...this.mediaOptions.image?["image"]:[],...this.mediaOptions.video?["audio","video"]:[]];this.thumbnailsRD$=this.loadRemoteData("THUMBNAIL"),this.subs.push(this.loadRemoteData("ORIGINAL").subscribe(le=>{0===le.payload.page.length?(this.isLoading=!1,this.mediaList$.next([])):this.subs.push(this.thumbnailsRD$.subscribe(ne=>{for(let fe=0;fe<le.payload.page.length;fe++)this.subs.push(le.payload.page[fe].format.pipe((0,_.ak)()).subscribe(se=>{const ce=this.createMediaViewerItem(le.payload.page[fe],se,ne.payload&&ne.payload.page[fe]);ee.includes(ce.format)?this.mediaList$.next([...this.mediaList$.getValue(),ce]):"text/vtt"===se.mimetype&&this.captions$.next([...this.captions$.getValue(),le.payload.page[fe]])}));this.isLoading=!1,this.changeDetectorRef.detectChanges()}))}))}loadRemoteData(ee){return this.bitstreamDataService.findAllByItemAndBundleName(this.item,ee,{},!0,!0,(0,R.s)("format")).pipe((0,e.p)(le=>(0,C.a4)(le)&&((0,C.a4)(le.errorMessage)||(0,C.a4)(le.payload))),(0,h.s)(1))}createMediaViewerItem(ee,le,ne){const fe=new E;return fe.bitstream=ee,fe.format=le.mimetype.split("/")[0],fe.mimetype=le.mimetype,fe.thumbnail=ne?ne._links.content.href:null,fe}static{this.\u0275fac=function(le){return new(le||J)(D.rXU(f.BitstreamDataService),D.rXU(D.gRc))}}static{this.\u0275cmp=D.VBU({type:J,selectors:[["ds-base-media-viewer"]],inputs:{item:"item",mediaOptions:"mediaOptions"},standalone:!0,features:[D.aNF],decls:2,vars:3,consts:[["showThumbnail",""],[4,"ngVar"],[3,"message","showMessage",4,"ngIf"],["class","media-viewer",4,"ngIf"],[3,"message","showMessage"],[1,"media-viewer"],[4,"ngIf","ngIfElse"],[3,"medias","captions",4,"ngIf"],[3,"images",4,"ngIf"],[3,"medias","captions"],[3,"images"],[3,"image","preview",4,"ngIf"],[3,"thumbnail",4,"ngIf"],[3,"image","preview"],[3,"thumbnail"]],template:function(le,ne){1&le&&(D.DNE(0,te,5,2,"ng-container",1),D.nI1(1,"async")),2&le&&D.Y8G("ngVar",D.bMT(1,1,ne.mediaList$))},dependencies:[p.Q,A.T,i.Jj,i.bT,L.U,t.h,t.D9,S.v,T.r]})}}return J})()},20261:(F,b,n)=>{"use strict";n.d(b,{e:()=>u});var i=n(82777),t=n(54438);let u=(()=>{class e{ngOnInit(){this.objects=[],this.subscriptions=[],this.increase()}getPage(m){}increase(){const m=this.getPage(this.objects.length+1);(0,i.a4)(m)&&this.objects.push(m)}decrease(){this.objects.length>1&&this.objects.pop()}ngOnDestroy(){(0,i.hj)(this.subscriptions)&&this.subscriptions.forEach(m=>{m.unsubscribe()})}static{this.\u0275fac=function(f){return new(f||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["ds-abstract-incremental-list"]],standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(f,v){},encapsulation:2})}}return e})()},1231:(F,b,n)=>{"use strict";n.r(b),n.d(b,{FileSectionComponent:()=>X});var i=n(60177),t=n(41780),u=n(84412),e=n(82640),h=n(96526),m=n(42578),v=(n(88318),n(80183)),E=n(82777),_=n(28836),C=n(82394),S=n(79222),R=n(39806),T=n(43525),A=n(18226),p=n(54438),L=n(7901);function D(G,q){1&G&&(p.j41(0,"span",14),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&G&&(p.R7$(),p.JRh(p.bMT(2,1,"item.page.bitstreams.primary")))}function w(G,q){if(1&G&&p.nrm(0,"span",15),2&G){const z=p.XpG(5);p.FS9("innerHTML",z.separator,p.npT)}}function M(G,q){if(1&G&&(p.j41(0,"ds-file-download-link",11)(1,"span"),p.DNE(2,D,3,3,"span",12),p.EFF(3),p.k0s(),p.j41(4,"span"),p.EFF(5),p.nI1(6,"dsFileSize"),p.k0s(),p.DNE(7,w,1,1,"span",13),p.k0s()),2&G){const z=q.$implicit,te=q.last,Z=p.XpG(4);p.Y8G("bitstream",z)("item",Z.item),p.R7$(2),p.Y8G("ngIf",Z.primaryBitsreamId===z.id),p.R7$(),p.SpI(" ",Z.dsoNameService.getName(z)," "),p.R7$(2),p.SpI(" (",p.bMT(6,6,null==z?null:z.sizeBytes),")"),p.R7$(2),p.Y8G("ngIf",!te)}}function x(G,q){1&G&&(p.nrm(0,"ds-loading",16),p.nI1(1,"translate")),2&G&&(p.FS9("message",p.bMT(1,2,"loading.default")),p.Y8G("showMessage",!1))}function j(G,q){if(1&G){const z=p.RV6();p.j41(0,"div",17)(1,"button",18),p.bIt("click",function(){p.eBV(z);const Z=p.XpG(4);return p.Njj(Z.getNextPage())}),p.EFF(2),p.nI1(3,"translate"),p.k0s()()}2&G&&(p.R7$(2),p.JRh(p.bMT(3,1,"item.page.bitstreams.view-more")))}function U(G,q){if(1&G){const z=p.RV6();p.j41(0,"div",19)(1,"button",20),p.bIt("click",function(){p.eBV(z);const Z=p.XpG(4);return Z.currentPage=void 0,p.Njj(Z.getNextPage())}),p.EFF(2),p.nI1(3,"translate"),p.k0s()()}2&G&&(p.R7$(2),p.JRh(p.bMT(3,1,"item.page.bitstreams.collapse")))}function $(G,q){if(1&G){const z=p.RV6();p.j41(0,"div",4),p.DNE(1,M,8,8,"ds-file-download-link",5),p.j41(2,"button",6),p.bIt("click",function(){const Z=p.eBV(z).$implicit,J=p.XpG(3);return p.Njj(J.viewFile(Z))}),p.nrm(3,"i",7),p.EFF(4," View "),p.k0s(),p.DNE(5,x,2,4,"ds-loading",8)(6,j,4,3,"div",9)(7,U,4,3,"div",10),p.k0s()}if(2&G){const z=p.XpG(2).ngVar,te=p.XpG();p.R7$(),p.Y8G("ngForOf",z),p.R7$(4),p.Y8G("ngIf",te.isLoading),p.R7$(),p.Y8G("ngIf",!te.isLastPage),p.R7$(),p.Y8G("ngIf",te.isLastPage&&1!==te.currentPage)}}function k(G,q){if(1&G&&(p.j41(0,"ds-metadata-field-wrapper",2),p.nI1(1,"translate"),p.DNE(2,$,8,4,"div",3),p.k0s()),2&G){const z=p.XpG().ngVar,te=p.XpG();p.Y8G("label",p.bMT(1,2,te.label)),p.R7$(2),p.Y8G("ngForOf",z)}}function K(G,q){if(1&G&&(p.qex(0),p.DNE(1,k,3,4,"ds-metadata-field-wrapper",1),p.bVm()),2&G){const z=q.ngVar;p.R7$(),p.Y8G("ngIf",(null==z?null:z.length)>0)}}let X=(()=>{class G{constructor(z,te,Z,J,Q,ee){this.bitstreamDataService=z,this.notificationsService=te,this.translateService=Z,this.dsoNameService=J,this.appConfig=Q,this.router=ee,this.label="item.page.files",this.separator="<br/>",this.pageSize=this.appConfig.item.bitstream.pageSize}ngOnInit(){this.getPrimaryBitstreamId(),this.getNextPage()}getPrimaryBitstreamId(){this.bitstreamDataService.findPrimaryBitstreamByItemAndName(this.item,"ORIGINAL",!0,!0).subscribe(z=>{z&&(this.primaryBitsreamId=z?.id)})}getNextPage(){this.isLoading=!0,void 0===this.currentPage?(this.currentPage=1,this.bitstreams$=new u.t([])):this.currentPage++,this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{currentPage:this.currentPage,elementsPerPage:this.pageSize}).pipe((0,v.qD)()).subscribe(z=>{if(z.errorMessage)this.notificationsService.error(this.translateService.get("file-section.error.header"),`${z.statusCode} ${z.errorMessage}`);else if((0,E.a4)(z.payload)){const te=this.bitstreams$.getValue();this.bitstreams$.next([...te,...z.payload.page]),this.isLoading=!1,this.isLastPage=this.currentPage===z.payload.totalPages}})}viewFile(z){if(this.item&&this.item.uuid){const te=this.item.uuid;console.log("uuid",te),console.log(this.item);const Z=`/viewer/${te}`;console.log("Navigating to viewer:",Z),this.router.navigate([Z])}else console.error("Item UUID not found. Cannot navigate.")}static{this.\u0275fac=function(te){return new(te||G)(p.rXU(m.BitstreamDataService),p.rXU(R.I),p.rXU(t.c$),p.rXU(h.f),p.rXU(e.vQ),p.rXU(L.Ix))}}static{this.\u0275cmp=p.VBU({type:G,selectors:[["ds-base-item-page-file-section"]],inputs:{item:"item"},standalone:!0,features:[p.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[3,"label",4,"ngIf"],[3,"label"],["class","d-flex align-items-center gap-2",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","gap-2"],[3,"bitstream","item",4,"ngFor","ngForOf"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fas","fa-eye"],[3,"message","showMessage",4,"ngIf"],["class","mt-1","id","view-more",4,"ngIf"],["class","mt-1","id","collapse",4,"ngIf"],[3,"bitstream","item"],["class","badge bg-primary",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"badge","bg-primary"],[3,"innerHTML"],[3,"message","showMessage"],["id","view-more",1,"mt-1"],[1,"bitstream-view-more","btn","btn-outline-secondary","btn-sm",3,"click"],["id","collapse",1,"mt-1"],[1,"bitstream-collapse","btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(te,Z){1&te&&(p.DNE(0,K,2,1,"ng-container",0),p.nI1(1,"async")),2&te&&p.Y8G("ngVar",p.bMT(1,1,Z.bitstreams$))},dependencies:[i.MD,i.Sq,i.bT,i.Jj,_.z,S.Q,C.v,t.h,t.D9,T.s,A.r],encapsulation:2})}}return G})()},42458:(F,b,n)=>{"use strict";n.r(b),n.d(b,{ItemPageTitleFieldComponent:()=>f});var i=n(60177),t=n(41780),u=n(96526),h=(n(88318),n(54438));function m(v,E){if(1&v&&(h.j41(0,"div",3),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&v){const _=E.ngIf;h.R7$(),h.SpI(" ",h.bMT(2,1,_.toLowerCase()+".page.titleprefix")," ")}}let f=(()=>{class v{constructor(_){this.dsoNameService=_}static{this.\u0275fac=function(C){return new(C||v)(h.rXU(u.f))}}static{this.\u0275cmp=h.VBU({type:v,selectors:[["ds-base-item-page-title-field"]],inputs:{item:"item"},standalone:!0,features:[h.aNF],decls:4,vars:2,consts:[[1,"item-page-title-field"],["class","d-inline",4,"ngIf"],[1,"dont-break-out"],[1,"d-inline"]],template:function(C,S){1&C&&(h.j41(0,"h1",0),h.DNE(1,m,3,3,"div",1),h.j41(2,"span",2),h.EFF(3),h.k0s()()),2&C&&(h.R7$(),h.Y8G("ngIf",S.item.firstMetadataValue("dspace.entity.type")),h.R7$(2),h.JRh(S.dsoNameService.getName(S.item)))},dependencies:[i.bT,t.h,t.D9],encapsulation:2})}}return v})()},26077:(F,b,n)=>{"use strict";n.d(b,{V:()=>f}),n(88318);var t=n(8886),e=(n(42458),n(54438));const h=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"ItemPageTitleFieldComponent"}importThemedComponent(_){return n(17026)(`./${_}/app/item-page/simple/field-components/specific-field/title/item-page-title-field.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,42458))}static{this.\u0275fac=(()=>{let _;return function(S){return(_||(_=e.xGo(v)))(S||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-item-page-title-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:h,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,S){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},46588:(F,b,n)=>{"use strict";n.d(b,{EF:()=>A,NG:()=>T,W2:()=>R,ky:()=>C});var i=n(54438),t=n(7673),u=n(44437),e=n(84572),h=n(73028),m=n(96354),f=n(23294),v=n(25558),E=n(80183),_=n(82777);const C=new i.nKC("paginatedRelationsToItems",{providedIn:"root",factory:()=>A}),R=()=>{return p=p=>(0,_.a4)(p)?p.id:void 0,(L,D)=>{if(!Array.isArray(L)||!Array.isArray(D))return!1;const w=L.map(p),M=D.map(p);return w.length===M.length&&w.every(x=>M.includes(x))&&M.every(x=>w.includes(x))};var p},T=p=>L=>L.pipe((0,h.Z)(D=>0===D.length?(0,t.of)([]):(0,u.y)(...D.map(w=>(0,e.z)([w.leftItem,w.rightItem])))),(0,m.T)(D=>D.filter(([w,M])=>w.hasSucceeded&&M.hasSucceeded).map(([w,M])=>w.payload.id===p?M.payload:M.payload.id===p?w.payload:void 0).filter(w=>(0,_.a4)(w))),(0,f.F)(R())),A=p=>L=>L.pipe((0,E.qD)(),(0,v.n)(D=>(0,e.z)(D.payload.page.map(w=>(0,e.z)([w.leftItem.pipe((0,E.qD)(),(0,m.T)(M=>M.hasSucceeded?M.payload:null)),w.rightItem.pipe((0,E.qD)(),(0,m.T)(M=>M.hasSucceeded?M.payload:null))]))).pipe((0,m.T)(w=>w.map(([M,x])=>(0,_.a4)(M)&&M.id===p?x:(0,_.a4)(x)&&x.id===p?M:void 0).filter(M=>(0,_.a4)(M))),(0,f.F)(R()),(0,m.T)(w=>Object.assign(D,{payload:Object.assign(D.payload,{page:w})})))))},12063:(F,b,n)=>{"use strict";n.r(b),n.d(b,{MetadataRepresentationListComponent:()=>X});var i=n(60177),t=n(41780),u=n(44437),e=n(96354),h=n(37864),m=n(42673),f=n(48833),v=n(5410),_=(n(88318),n(14391)),C=n(90424),S=n(80183),R=n(82394),T=n(79222),A=n(32272),p=n(18226),L=n(20261),D=n(54438);const w=G=>({amount:G});function M(G,q){1&G&&D.nrm(0,"ds-metadata-representation-loader",6),2&G&&D.Y8G("mdRepresentation",q.$implicit)}function x(G,q){1&G&&(D.nrm(0,"ds-loading",7),D.nI1(1,"translate")),2&G&&D.FS9("message",D.bMT(1,1,"loading.default"))}function j(G,q){if(1&G){const z=D.RV6();D.j41(0,"div",11)(1,"button",12),D.bIt("click",function(){D.eBV(z);const Z=D.XpG(4);return D.Njj(Z.increase())}),D.EFF(2),D.nI1(3,"translate"),D.k0s()()}if(2&G){const z=D.XpG(4);D.R7$(2),D.JRh(D.i5U(3,1,"item.page.related-items.view-more",D.eq3(4,w,z.total-z.objects.length*z.incrementBy<z.incrementBy?z.total-z.objects.length*z.incrementBy:z.incrementBy)))}}function U(G,q){if(1&G){const z=D.RV6();D.j41(0,"div",13)(1,"button",12),D.bIt("click",function(){D.eBV(z);const Z=D.XpG(4);return D.Njj(Z.decrease())}),D.EFF(2),D.nI1(3,"translate"),D.k0s()()}if(2&G){const z=D.XpG(2).ngVar;D.R7$(2),D.JRh(D.i5U(3,1,"item.page.related-items.view-less",D.eq3(4,w,null==z?null:z.length)))}}function $(G,q){if(1&G&&(D.j41(0,"div",8),D.DNE(1,j,4,6,"div",9)(2,U,4,6,"div",10),D.k0s()),2&G){const z=D.XpG(3);D.R7$(),D.Y8G("ngIf",z.objects.length*z.incrementBy<z.total),D.R7$(),D.Y8G("ngIf",z.objects.length>1)}}function k(G,q){if(1&G&&(D.qex(0),D.DNE(1,M,1,1,"ds-metadata-representation-loader",3)(2,x,2,3,"ds-loading",4)(3,$,3,2,"div",5),D.bVm()),2&G){const z=q.ngVar,te=D.XpG().index,Z=D.XpG();D.R7$(),D.Y8G("ngForOf",z),D.R7$(),D.Y8G("ngIf",te+1===Z.objects.length&&te>0&&(!z||0===(null==z?null:z.length))),D.R7$(),D.Y8G("ngIf",te+1===Z.objects.length&&(null==z?null:z.length)>0)}}function K(G,q){if(1&G&&(D.qex(0),D.DNE(1,k,4,3,"ng-container",2),D.nI1(2,"async"),D.bVm()),2&G){const z=q.$implicit;D.R7$(),D.Y8G("ngVar",D.bMT(2,1,z))}}let X=(()=>{class G extends L.e{constructor(z,te,Z){super(),this.relationshipService=z,this.browseDefinitionDataService=te,this.metadataService=Z,this.incrementBy=10}getPage(z){const te=this.parentItem.findMetadataSortedByPlace(this.metadataFields);return this.total=te.length,this.resolveMetadataRepresentations(te,z)}resolveMetadataRepresentations(z,te){return(0,u.y)(...z.slice(this.objects.length*this.incrementBy,this.objects.length*this.incrementBy+this.incrementBy).map(Z=>Object.assign(new _.vD,Z)).map(Z=>{if(this.metadataService.isVirtual(Z))return this.relationshipService.resolveMetadataRepresentation(Z,this.parentItem,this.itemType);{let J=[];return this.metadataFields.forEach(Q=>{J=J.concat(h.q.toSearchKeyArray(Q))}),this.browseDefinitionDataService.findByFields(this.metadataFields).pipe((0,S.qD)(),(0,e.T)(Q=>Object.assign(new C.Q(this.itemType,Q.payload),Z)))}}))}static{this.\u0275fac=function(te){return new(te||G)(D.rXU(f.RelationshipDataService),D.rXU(m.BrowseDefinitionDataService),D.rXU(v.T))}}static{this.\u0275cmp=D.VBU({type:G,selectors:[["ds-base-metadata-representation-list"]],inputs:{parentItem:"parentItem",itemType:"itemType",metadataFields:"metadataFields",label:"label",incrementBy:"incrementBy"},standalone:!0,features:[D.Vt3,D.aNF],decls:2,vars:2,consts:[[3,"label"],[4,"ngFor","ngForOf"],[4,"ngVar"],[3,"mdRepresentation",4,"ngFor","ngForOf"],[3,"message",4,"ngIf"],["class","d-inline-block w-100 mt-2",4,"ngIf"],[3,"mdRepresentation"],[3,"message"],[1,"d-inline-block","w-100","mt-2"],["class","float-start",4,"ngIf"],["class","float-end",4,"ngIf"],[1,"float-start"],[1,"btn","btn-link","btn-link-inline",3,"click"],[1,"float-end"]],template:function(te,Z){1&te&&(D.j41(0,"ds-metadata-field-wrapper",0),D.DNE(1,K,3,3,"ng-container",1),D.k0s()),2&te&&(D.Y8G("label",Z.label),D.R7$(),D.Y8G("ngForOf",Z.objects))},dependencies:[T.Q,i.pM,p.r,A.V,i.bT,R.v,i.Jj,t.h,t.D9],encapsulation:2})}}return G})()},13955:(F,b,n)=>{"use strict";n.d(b,{U$:()=>x,EN:()=>M});var i=n(54438),t=n(84572),u=n(61594),e=n(96354),h=n(82640),m=n(1321),f=n(72734),v=n(6238),E=n(32473),_=n(22978),C=n(46265),S=n(56760),R=n(26292),T=n(4910),A=n(39012),p=n(23401),L=function(j){return j.Workspace="workspace",j.SupervisedItems="supervisedWorkspace",j.Workflow="workflow",j}(L||{}),D=n(7901);const w=new Map([[L.Workspace,R.o.Workspace],[L.SupervisedItems,R.o.SupervisedItems],[L.Workflow,R.o.Workflow]]),M=new i.nKC("searchConfigurationService");let x=(()=>{class j extends A.g{constructor($,k,K,X,G,q,z,te,Z){super(k,K,X,G,q,z,te,Z),this.roleService=$,this.routeService=k,this.paginationService=K,this.route=X,this.linkService=G,this.halService=q,this.requestService=z,this.rdb=te,this.appConfig=Z,this.defaultPagination=Object.assign(new p.W,{id:"mydspace-page",pageSize:10,currentPage:1}),this.defaultSort=new v.z("dc.date.issued",v.U.DESC),this.defaultConfiguration="workspace",this.defaultScope="",this.defaultQuery="",this._defaults=null,this.initDefaults(),this.isSubmitter$=this.roleService.isSubmitter(),this.isController$=this.roleService.isController(),this.isAdmin$=this.roleService.isAdmin()}getAvailableConfigurationTypes(){return(0,t.z)(this.isSubmitter$,this.isController$,this.isAdmin$).pipe((0,u.$)(),(0,e.T)(([$,k,K])=>{const X=[];return $&&X.push(L.Workspace),(k||K)&&(X.push(L.SupervisedItems),X.push(L.Workflow)),X}))}getAvailableConfigurationOptions(){return this.getAvailableConfigurationTypes().pipe((0,u.$)(),(0,e.T)($=>{const k=[];return $.forEach(K=>{const X=K,G=`mydspace.show.${X}`,q=w.get(K);k.push({value:X,label:G,context:q})}),k}))}static{this.\u0275fac=function(k){return new(k||j)(i.KVO(C.W),i.KVO(S.v$),i.KVO(_.m),i.KVO(D.nX),i.KVO(m._),i.KVO(T.Y),i.KVO(E.B),i.KVO(f.o),i.KVO(h.vQ))}}static{this.\u0275prov=i.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}}return j})()},54880:(F,b,n)=>{"use strict";n.d(b,{o:()=>Z});var i=n(60177),t=n(54438),u=n(61594),e=n(67116),h=n(4910),m=n(82777),f=n(39806),v=n(43095),E=n(32979),_=n(41780),C=n(90934),S=n(58003);let R=(()=>{class J{constructor(ee){this.activeModal=ee}selectObject(ee){this.activeModal.close(ee.collection)}close(){this.activeModal.close()}static{this.\u0275fac=function(le){return new(le||J)(t.rXU(S.Lw))}}static{this.\u0275cmp=t.VBU({type:J,selectors:[["ds-collection-selector"]],standalone:!0,features:[t.aNF],decls:7,vars:3,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"selectionChange"]],template:function(le,ne){1&le&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return ne.close()}),t.k0s()(),t.j41(5,"div",2)(6,"ds-collection-dropdown",3),t.bIt("selectionChange",function(se){return ne.selectObject(se)}),t.k0s()()()),2&le&&(t.R7$(2),t.SpI("",t.bMT(3,1,"dso-selector.create.submission.head")," "))},dependencies:[C.m,_.h,_.D9]})}}return J})();var T=n(84412),A=n(7673),p=n(73028),L=n(96697),D=n(96354),w=n(30077),M=n(60456),x=n(53948),j=n(75465),U=n(7901);function $(J,Q){if(1&J){const ee=t.RV6();t.j41(0,"div",2)(1,"button",3),t.nI1(2,"translate"),t.nI1(3,"async"),t.nI1(4,"translate"),t.bIt("click",function(){t.eBV(ee);const ne=t.XpG();return t.Njj(ne.openPage(ne.singleEntity))}),t.nrm(5,"i",4),t.k0s()()}if(2&J){const ee=t.XpG();t.R7$(),t.FS9("title",t.bMT(2,3,"mydspace.new-submission-external")),t.Y8G("dsBtnDisabled",!0!==t.bMT(3,5,ee.initialized$)),t.BMQ("aria-label",t.bMT(4,7,"mydspace.new-submission-external"))}}function k(J,Q){if(1&J){const ee=t.RV6();t.j41(0,"div",5)(1,"button",6),t.nI1(2,"translate"),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"dsBrowserOnly"),t.nrm(6,"i",4)(7,"span",7),t.k0s(),t.j41(8,"div",8)(9,"ds-entity-dropdown",9),t.bIt("selectionChange",function(ne){t.eBV(ee);const fe=t.XpG();return t.Njj(fe.openPage(ne))}),t.k0s()()()}if(2&J){const ee=t.XpG();t.R7$(),t.FS9("title",t.bMT(2,5,"mydspace.new-submission-external")),t.Y8G("dsBtnDisabled",!0!==t.bMT(3,7,ee.initialized$)),t.BMQ("aria-label",t.bMT(4,9,"mydspace.new-submission-external"))("data-test",t.bMT(5,11,"import-dropdown")),t.R7$(8),t.Y8G("isSubmission",!1)}}let K=(()=>{class J{constructor(ee,le){this.entityTypeService=ee,this.router=le,this.initialized$=new T.t(!1),this.subs=[]}ngOnInit(){this.moreThanOne$=this.entityTypeService.hasMoreThanOneAuthorizedImport(),this.singleEntity$=this.moreThanOne$.pipe((0,p.Z)(ee=>ee?(this.initialized$.next(!0),(0,A.of)(null)):this.entityTypeService.getAllAuthorizedRelationshipTypeImport({elementsPerPage:1,currentPage:1}).pipe((0,L.s)(1),(0,D.T)(ne=>(this.initialized$.next(!0),ne?.payload?.page[0])))),(0,L.s)(1)),this.subs.push(this.singleEntity$.subscribe(ee=>{this.singleEntity=ee}))}openPage(ee){const le=Object.create({});ee&&(le.entity=ee.label),this.router.navigate(["/import-external"],{queryParams:le})}ngOnDestroy(){this.subs.filter(ee=>(0,m.a4)(ee)).forEach(ee=>ee.unsubscribe())}static{this.\u0275fac=function(le){return new(le||J)(t.rXU(w.f),t.rXU(U.Ix))}}static{this.\u0275cmp=t.VBU({type:J,selectors:[["ds-my-dspace-new-external-dropdown"]],standalone:!0,features:[t.aNF],decls:4,vars:6,consts:[["class","add",4,"ngIf"],["class","add w-100","display","dynamic","placement","bottom-right","ngbDropdown","",4,"ngIf"],[1,"add"],["role","button",1,"btn","btn-lg","btn-outline-primary","mt-1","ms-2",3,"click","dsBtnDisabled","title"],["aria-hidden","true",1,"fa","fa-file-import"],["display","dynamic","placement","bottom-right","ngbDropdown","",1,"add","w-100"],["id","dropdownImport","ngbDropdownToggle","","type","button",1,"btn","btn-lg","btn-outline-primary","mt-1","ms-2",3,"dsBtnDisabled","title"],["aria-hidden","true",1,"caret"],["ngbDropdownMenu","","id","importControlsDropdownMenu","aria-labelledby","dropdownImport",1,"dropdown-menu","p-0"],[3,"selectionChange","isSubmission"]],template:function(le,ne){1&le&&(t.DNE(0,$,6,9,"div",0),t.nI1(1,"async"),t.DNE(2,k,10,13,"div",1),t.nI1(3,"async")),2&le&&(t.Y8G("ngIf",!0!==t.bMT(1,2,ne.moreThanOne$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,ne.moreThanOne$)))},dependencies:[x.Y,S.zH,S.tg,S.do,S.U0,i.Jj,_.h,_.D9,j.L,i.bT,M.A],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}#importControlsDropdownMenu[_ngcontent-%COMP%]{min-width:18rem;box-shadow:0 0 0 .25rem #2b4e7240}"]})}}return J})();var X=n(52798);function G(J,Q){if(1&J){const ee=t.RV6();t.j41(0,"div",2)(1,"button",3),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("click",function(){t.eBV(ee);const ne=t.XpG();return t.Njj(ne.openDialog(ne.singleEntity))}),t.nrm(4,"i",4),t.k0s()()}if(2&J){const ee=t.XpG();t.R7$(),t.Y8G("dsBtnDisabled",!0!==t.bMT(2,2,ee.initialized$)),t.BMQ("aria-label",t.bMT(3,4,"mydspace.new-submission"))}}function q(J,Q){if(1&J){const ee=t.RV6();t.j41(0,"div",5)(1,"button",6),t.nI1(2,"translate"),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"dsBrowserOnly"),t.nrm(6,"i",4)(7,"span",7),t.k0s(),t.j41(8,"div",8)(9,"ds-entity-dropdown",9),t.bIt("selectionChange",function(ne){t.eBV(ee);const fe=t.XpG();return t.Njj(fe.openDialog(ne))}),t.k0s()()()}if(2&J){const ee=t.XpG();t.R7$(),t.FS9("title",t.bMT(2,5,"mydspace.new-submission")),t.Y8G("dsBtnDisabled",!0!==t.bMT(3,7,ee.initialized$)),t.BMQ("aria-label",t.bMT(4,9,"mydspace.new-submission"))("data-test",t.bMT(5,11,"submission-dropdown")),t.R7$(8),t.Y8G("isSubmission",!0)}}let z=(()=>{class J{constructor(ee,le){this.entityTypeService=ee,this.modalService=le,this.subs=[]}ngOnInit(){this.initialized$=(0,A.of)(!1),this.moreThanOne$=this.entityTypeService.hasMoreThanOneAuthorized(),this.singleEntity$=this.moreThanOne$.pipe((0,p.Z)(ee=>ee?(this.initialized$=(0,A.of)(!0),(0,A.of)(null)):this.entityTypeService.getAllAuthorizedRelationshipType({elementsPerPage:1,currentPage:1}).pipe((0,D.T)(ne=>(this.initialized$=(0,A.of)(!0),ne.payload.page[0])),(0,L.s)(1))),(0,L.s)(1)),this.subs.push(this.singleEntity$.subscribe(ee=>this.singleEntity=ee))}openDialog(ee){this.modalService.open(X.L).componentInstance.entityType=ee.label}ngOnDestroy(){this.subs.filter(ee=>(0,m.a4)(ee)).forEach(ee=>ee.unsubscribe())}static{this.\u0275fac=function(le){return new(le||J)(t.rXU(w.f),t.rXU(S.Bq))}}static{this.\u0275cmp=t.VBU({type:J,selectors:[["ds-my-dspace-new-submission-dropdown"]],standalone:!0,features:[t.aNF],decls:4,vars:6,consts:[["class","add",4,"ngIf"],["class","add w-100","display","dynamic","placement","bottom-right","ngbDropdown","",4,"ngIf"],[1,"add"],["role","button",1,"btn","btn-lg","btn-primary","mt-1","ms-2",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fa","fa-plus-circle"],["display","dynamic","placement","bottom-right","ngbDropdown","",1,"add","w-100"],["id","dropdownSubmission","ngbDropdownToggle","","type","button",1,"btn","btn-lg","btn-primary","mt-1","ms-2",3,"dsBtnDisabled","title"],["aria-hidden","true",1,"caret"],["ngbDropdownMenu","","id","entityControlsDropdownMenu","aria-labelledby","dropdownSubmission",1,"dropdown-menu","p-0"],[3,"selectionChange","isSubmission"]],template:function(le,ne){1&le&&(t.DNE(0,G,5,6,"div",0),t.nI1(1,"async"),t.DNE(2,q,10,13,"div",1),t.nI1(3,"async")),2&le&&(t.Y8G("ngIf",!0!==t.bMT(1,2,ne.moreThanOne$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,ne.moreThanOne$)))},dependencies:[x.Y,S.zH,S.tg,S.do,S.U0,i.Jj,_.h,_.D9,j.L,i.bT,M.A],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}#entityControlsDropdownMenu[_ngcontent-%COMP%]{min-width:18rem;box-shadow:0 0 0 .25rem #2b4e7240}"]})}}return J})();function te(J,Q){if(1&J){const ee=t.RV6();t.j41(0,"ds-uploader",4),t.bIt("onCompleteItem",function(ne){t.eBV(ee);const fe=t.XpG();return t.Njj(fe.onCompleteItem(ne))})("onUploadError",function(ne){t.eBV(ee);const fe=t.XpG();return t.Njj(fe.onUploadError(ne))})("onFileSelected",function(ne){t.eBV(ee);const fe=t.XpG();return t.Njj(fe.afterFileLoaded(ne))}),t.k0s()}if(2&J){const ee=t.XpG();t.Y8G("uploadFilesOptions",ee.uploadFilesOptions)}}let Z=(()=>{class J{constructor(ee,le,ne,fe,se,ce,Te){this.authService=ee,this.changeDetectorRef=le,this.halService=ne,this.notificationsService=fe,this.translate=se,this.modalService=ce,this.router=Te,this.uploadEnd=new t.bkB,this.uploadFilesOptions=new E.H}ngOnInit(){this.uploadFilesOptions.autoUpload=!1,this.sub=this.halService.getEndpoint("workspaceitems").pipe((0,u.$)()).subscribe(ee=>{this.uploadFilesOptions.url=ee,this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.changeDetectorRef.detectChanges()})}onCompleteItem(ee){if(ee&&ee._embedded&&ee._embedded.workspaceitems&&ee._embedded.workspaceitems.length>0){const le=ee._embedded.workspaceitems;this.uploadEnd.emit(le),1===le.length?this.router.navigateByUrl("/workspaceitems/"+le[0].id+"/edit"):le.length>1&&this.notificationsService.success(null,this.translate.get("mydspace.upload.upload-multiple-successful",{qty:le.length}))}else this.notificationsService.error(null,this.translate.get("mydspace.upload.upload-failed"))}onUploadError(ee){let le="mydspace.upload.upload-failed";(0,m.a4)(ee.status)&&422===ee.status&&(le="mydspace.upload.upload-failed-manyentries"),this.notificationsService.error(null,this.translate.get(le))}afterFileLoaded(ee){const le=this.uploaderComponent.uploader;(0,m.a4)(ee)&&ee.length>1?(this.notificationsService.error(null,this.translate.get("mydspace.upload.upload-failed-moreonefile")),le.clearQueue(),this.changeDetectorRef.detectChanges()):this.modalService.open(R).result.then(fe=>{le.onBuildItemForm=(se,ce)=>{ce.append("owningCollection",fe.uuid)},le.uploadAll()})}ngOnDestroy(){(0,m.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(le){return new(le||J)(t.rXU(e.uR),t.rXU(t.gRc),t.rXU(h.Y),t.rXU(f.I),t.rXU(_.c$),t.rXU(S.Bq),t.rXU(U.Ix))}}static{this.\u0275cmp=t.VBU({type:J,selectors:[["ds-my-dspace-new-submission"]],viewQuery:function(le,ne){if(1&le&&t.GBs(v.y,5),2&le){let fe;t.mGM(fe=t.lsd())&&(ne.uploaderComponent=fe.first)}},outputs:{uploadEnd:"uploadEnd"},standalone:!0,features:[t.aNF],decls:7,vars:1,consts:[[1,"parent","mb-3"],[1,"upload"],[3,"uploadFilesOptions","onCompleteItem","onUploadError","onFileSelected",4,"ngIf"],[1,"add"],[3,"onCompleteItem","onUploadError","onFileSelected","uploadFilesOptions"]],template:function(le,ne){1&le&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,te,1,1,"ds-uploader",2),t.k0s(),t.j41(3,"div",3),t.nrm(4,"ds-my-dspace-new-submission-dropdown"),t.k0s(),t.j41(5,"div",3),t.nrm(6,"ds-my-dspace-new-external-dropdown"),t.k0s()()),2&le&&(t.R7$(2),t.Y8G("ngIf",""!==ne.uploadFilesOptions.url))},dependencies:[K,z,v.y,i.bT],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}"]})}}return J})()},92157:(F,b,n)=>{"use strict";n.r(b),n.d(b,{MYDSPACE_ROUTE:()=>z,MyDSpacePageComponent:()=>te});var i=n(60177),t=n(96697),u=n(82777),e=n(1102),h=n(13808),m=n(28580),f=n(14391),v=n(49872),E=n(54438);let _=(()=>{class Z extends v.D3{parse(Q,ee){const ne=ee.payload._embedded.searchResult||{_embedded:{objects:[]}},fe=ne._embedded.objects.map(be=>be.hitHighlights).map(be=>{const me={};if(be)for(const re of Object.keys(be)){const Ee=Object.assign(new f.vD,{value:be[re].join("..."),language:null});me[re]=[Ee]}return me}),se=ne._embedded.objects.filter(be=>(0,u.a4)(be._embedded)).map(be=>be._embedded.indexableObject).map(be=>this.process(be,Q)).map(be=>be._links.self.href).reduce((be,me)=>[...be,...me],[]),ce=ne._embedded.objects.filter(be=>(0,u.a4)(be._embedded)).map((be,me)=>Object.assign({},be,{indexableObject:se[me],hitHighlights:fe[me],_embedded:this.filterEmbeddedObjects(be)}));ne.objects=ce;const Te=new m.T(e.n).deserialize(ne);return Te.pageInfo=this.processPageInfo(ne),this.addToObjectCache(Te,Q,ee),new h.hT(ee.statusCode,Te._links.self)}filterEmbeddedObjects(Q){const ee=["submitter","item","workspaceitem","workflowitem"];return Q._embedded.indexableObject&&Q._embedded.indexableObject._embedded?Object.assign({},Q._embedded,{indexableObject:Object.assign({},Q._embedded.indexableObject,{_embedded:Object.keys(Q._embedded.indexableObject._embedded).filter(le=>ee.includes(le)).reduce((le,ne)=>(le[ne]=Q._embedded.indexableObject._embedded[ne],le),{})})}):Q}static{this.\u0275fac=(()=>{let Q;return function(le){return(Q||(Q=E.xGo(Z)))(le||Z)}})()}static{this.\u0275prov=E.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}return Z})();var C=n(43052),S=n(67944),R=n(78655),T=n(78448),A=n(7724),p=n(41477),L=n(54992),D=n(13955),w=n(54880),M=n(85592),x=n(10887),j=n(21626);let U=(()=>{class Z{constructor(Q){this.http=Q,this.apiUrl=`${x.$}/server/api/filter-media`}triggerFilterMedia(){return this.http.get(this.apiUrl,{responseType:"text"})}static{this.\u0275fac=function(ee){return new(ee||Z)(E.KVO(j.Qq))}}static{this.\u0275prov=E.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}return Z})();var $=n(96354),k=n(25558);let K=(()=>{class Z{constructor(Q){this.http=Q,this.baseUrl=`${x.$}/server/api`}getLatestItems(Q=0,ee=10){return this.http.get(`${this.baseUrl}/discover/search/objects?sort=lastModified,DESC&page=${Q}&size=${ee}&configuration=workspace&embed=thumbnail&embed=item%2Fthumbnail`)}uploadTranscription(Q){return this.http.post(`${this.baseUrl}/transcription/upload/${Q}`,{})}getLatestItemAndUploadTranscription(){return this.getLatestItems().pipe((0,$.T)(Q=>{if(Q?._embedded?.searchResult?._embedded?.objects?.length>0)return Q._embedded.searchResult._embedded.objects[0]._embedded.indexableObject.uuid;throw new Error("No items found")}),(0,k.n)(Q=>this.uploadTranscription(Q)))}static{this.\u0275fac=function(ee){return new(ee||Z)(E.KVO(j.Qq))}}static{this.\u0275prov=E.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}return Z})();const X=Z=>[Z];function G(Z,J){1&Z&&E.nrm(0,"ds-my-dspace-new-submission")}function q(Z,J){if(1&Z&&(E.nrm(0,"ds-search",3),E.nI1(1,"async")),2&Z){const Q=E.XpG();E.Y8G("configuration",Q.configuration)("configurationList",E.bMT(1,4,Q.configurationList$))("context",Q.context)("viewModeList",Q.viewModeList)}}const z="/mydspace";let te=(()=>{class Z{constructor(Q,ee,le,ne){this.service=Q,this.searchConfigService=ee,this.filterMediaService=le,this.itemTranscriptionService=ne,this.roleTypeEnum=S.T,this.viewModeList=[T.n.ListElement,T.n.DetailedListElement],this.service.setServiceOptions(_,C.WP)}ngOnInit(){this.configurationList$=this.searchConfigService.getAvailableConfigurationOptions(),this.configurationList$.pipe((0,t.s)(1)).subscribe(Q=>{this.configuration=Q[0].value,this.context=Q[0].context}),this.filterMediaService.triggerFilterMedia().subscribe({next:Q=>console.log("Filter Media API response:",Q),error:Q=>console.error("Filter Media API error:",Q)}),this.itemTranscriptionService.getLatestItemAndUploadTranscription().subscribe({next:Q=>console.log("Transcription upload response:",Q),error:Q=>console.error("Transcription upload error:",Q)}),console.log("MyDSpacePageComponent initialized")}static{this.\u0275fac=function(ee){return new(ee||Z)(E.rXU(R.S),E.rXU(D.EN),E.rXU(U),E.rXU(K))}}static{this.\u0275cmp=E.VBU({type:Z,selectors:[["ds-base-my-dspace-page"]],standalone:!0,features:[E.Jv_([{provide:D.EN,useClass:D.U$}]),E.aNF],decls:5,vars:4,consts:[[1,"container"],[4,"dsShowOnlyForRole"],[3,"configuration","configurationList","context","viewModeList",4,"ngIf"],[3,"configuration","configurationList","context","viewModeList"]],template:function(ee,le){1&ee&&(E.j41(0,"div",0),E.nrm(1,"ds-suggestions-notification")(2,"ds-my-dspace-qa-events-notifications"),E.DNE(3,G,1,0,"ds-my-dspace-new-submission",1),E.k0s(),E.DNE(4,q,2,6,"ds-search",2)),2&ee&&(E.R7$(3),E.Y8G("dsShowOnlyForRole",E.eq3(2,X,le.roleTypeEnum.Submitter)),E.R7$(),E.Y8G("ngIf",le.configuration&&le.context))},dependencies:[L.N,w.o,i.Jj,p.q,i.bT,A.w,M.P],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}[_nghost-%COMP%]{--bs-gutter-x: .75rem}  .search-controls{margin-bottom:var(--bs-spacer)}"],changeDetection:0})}}return Z})()},85592:(F,b,n)=>{"use strict";n.d(b,{P:()=>p});var i=n(60177),t=n(7901),u=n(41780),e=n(7673),h=n(88141),m=n(47483),f=n(61723),v=n(80183),E=n(54438);const _=L=>({num:L}),C=(L,D)=>[L,D],S=()=>({forward:!0});function R(L,D){if(1&L&&(E.j41(0,"div",3)(1,"div",4),E.nrm(2,"img",5),E.k0s(),E.j41(3,"div",6)(4,"div",7),E.EFF(5),E.nI1(6,"translate"),E.k0s(),E.j41(7,"button",8),E.EFF(8),E.nI1(9,"translate"),E.k0s()()()),2&L){const w=E.XpG().$implicit,M=E.XpG(2);E.R7$(2),E.Mz_("src","assets/images/qa-",w.id,"-logo.png",E.B4B),E.Mz_("alt","",w.id," logo"),E.R7$(3),E.SpI(" ",E.i5U(6,8,"mydspace.qa-event-notification.check.notification-info",E.eq3(13,_,w.totalEvents))," "),E.R7$(2),E.Y8G("routerLink",E.l_i(15,C,M.getQualityAssuranceRoute(),w.id))("queryParams",E.lJ4(18,S)),E.R7$(),E.SpI(" ",E.bMT(9,11,"mydspace.qa-event-notification-info.check.button")," ")}}function T(L,D){if(1&L&&(E.qex(0),E.DNE(1,R,10,19,"div",2),E.bVm()),2&L){const w=D.$implicit;E.R7$(),E.Y8G("ngIf",w.totalEvents>0)}}function A(L,D){if(1&L&&(E.qex(0),E.DNE(1,T,2,1,"ng-container",1),E.nI1(2,"async"),E.bVm()),2&L){const w=E.XpG();E.R7$(),E.Y8G("ngForOf",E.bMT(2,1,w.sources$))}}let p=(()=>{class L{constructor(w){this.qualityAssuranceSourceDataService=w,this.sources$=(0,e.of)([])}ngOnInit(){this.getSources()}getSources(){this.sources$=this.qualityAssuranceSourceDataService.getSources().pipe((0,v.qD)(),(0,h.M)(w=>{if(w.hasFailed)throw new Error("Can't retrieve Quality Assurance sources")}),(0,v.Bo)(),(0,v.W8)())}getQualityAssuranceRoute(){return(0,m.b7)()}static{this.\u0275fac=function(M){return new(M||L)(E.rXU(f.QualityAssuranceSourceDataService))}}static{this.\u0275cmp=E.VBU({type:L,selectors:[["ds-my-dspace-qa-events-notifications"]],standalone:!0,features:[E.aNF],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["class","alert alert-info d-flex flex-row",4,"ngIf"],[1,"alert","alert-info","d-flex","flex-row"],[1,"source-logo-container"],["onerror","this.src='assets/images/dspace-logo.svg'",1,"source-logo",3,"src","alt"],[1,"w-100","d-flex","justify-content-between"],[1,"ps-4","align-self-center"],[1,"btn","btn-primary","align-self-center",3,"routerLink","queryParams"]],template:function(M,x){if(1&M&&(E.DNE(0,A,3,3,"ng-container",0),E.nI1(1,"async")),2&M){let j;E.Y8G("ngIf",(null==(j=E.bMT(1,1,x.sources$))?null:j.length)>0)}},dependencies:[i.Jj,i.Sq,u.h,u.D9,t.Wk,i.bT],styles:[".source-logo[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height);max-width:100%;margin:auto}.source-logo-container[_ngcontent-%COMP%]{width:var(--ds-qa-logo-width);display:flex;justify-content:center}.sections-gap[_ngcontent-%COMP%]{gap:1rem}"],changeDetection:0})}}return L})()},58499:(F,b,n)=>{"use strict";n.r(b),n.d(b,{ExpandableNavbarSectionComponent:()=>A});var i=n(60177),t=n(7901),u=n(61594),e=n(621),h=n(57538),m=n(39548),f=n(19340),v=n(79803),E=n(26821),_=n(54438);function C(p,L){1&p&&_.eu8(0)}function S(p,L){1&p&&_.eu8(0)}function R(p,L){if(1&p&&(_.j41(0,"div",9),_.DNE(1,S,1,0,"ng-container",3),_.nI1(2,"async"),_.nI1(3,"async"),_.k0s()),2&p){const D=L.$implicit,w=_.XpG(2);_.R7$(),_.Y8G("ngComponentOutlet",_.bMT(2,2,w.sectionMap$).get(D.id).component)("ngComponentOutletInjector",_.bMT(3,4,w.sectionMap$).get(D.id).injector)}}function T(p,L){if(1&p){const D=_.RV6();_.j41(0,"div",6),_.bIt("click",function(M){_.eBV(D);const x=_.XpG();return _.Njj(x.deactivateSection(M))})("dsHoverOutside",function(M){_.eBV(D);const x=_.XpG();return _.Njj(x.deactivateSection(M,!1))}),_.j41(1,"div",7),_.DNE(2,R,4,6,"div",8),_.nI1(3,"async"),_.k0s()()}if(2&p){const D=_.XpG();_.Y8G("id",D.expandableNavbarSectionId())("dsHoverOutsideOfParentSelector","#expandable-navbar-section-"+D.section.id),_.R7$(),_.Y8G("@slide",void 0),_.R7$(),_.Y8G("ngForOf",_.bMT(3,4,D.subSections$))}}let A=(()=>{class p extends E.X{onResize(){this.isMobile$.pipe((0,u.$)()).subscribe(D=>{D!==this.wasMobile&&(this.wasMobile=D,this.menuService.deactivateSection(this.menuID,this.section.id),this.mouseEntered=!1)})}constructor(D,w,M,x){super(D,w,M),this.section=D,this.menuService=w,this.injector=M,this.windowService=x,this.menuID=f.D.PUBLIC,this.mouseEntered=!1,this.focusOnFirstChildSection=!1,this.wasMobile=void 0,this.addArrowEventListeners=!1,this.isMobile$=this.windowService.isMobile()}ngOnInit(){super.ngOnInit(),this.subs.push(this.active$.subscribe(D=>{!0===D?this.addArrowEventListeners=!0:(this.focusOnFirstChildSection=void 0,this.unsubscribeFromEventListeners())}))}ngAfterViewChecked(){this.addArrowEventListeners&&(this.dropdownItems=document.querySelectorAll(`#${this.expandableNavbarSectionId()} *[role="menuitem"]`),this.dropdownItems.forEach(D=>{D.addEventListener("keydown",this.navigateDropdown.bind(this))}),this.focusOnFirstChildSection&&this.dropdownItems.length>0&&this.dropdownItems.item(0).focus(),this.addArrowEventListeners=!1)}ngOnDestroy(){super.ngOnDestroy(),this.unsubscribeFromEventListeners()}toggleSection(D){this.focusOnFirstChildSection="click"!==D.type,super.toggleSection(D)}unsubscribeFromEventListeners(){this.dropdownItems&&(this.dropdownItems.forEach(D=>{D.removeEventListener("keydown",this.navigateDropdown.bind(this))}),this.dropdownItems=void 0)}onMouseEnter(D){this.isMobile$.pipe((0,u.$)()).subscribe(w=>{!w&&!this.active$.value&&!this.mouseEntered&&this.activateSection(D),this.mouseEntered=!0})}onMouseLeave(D){this.isMobile$.pipe((0,u.$)()).subscribe(w=>{!w&&this.active$.value&&this.mouseEntered&&this.deactivateSection(D),this.mouseEntered=!1})}expandableNavbarSectionId(){return`expandable-navbar-section-${this.section.id}-dropdown`}navigateDropdown(D){if("Tab"===D.code)return void this.deactivateSection(D,!1);if("Escape"===D.code)return this.deactivateSection(D,!1),void document.querySelector(`a[aria-controls="${this.expandableNavbarSectionId()}"]`)?.focus();D.preventDefault(),D.stopPropagation();const w=document.querySelectorAll(`#${this.expandableNavbarSectionId()} *[role="menuitem"]`);if(0===w.length)return;const M=Array.from(w).findIndex(x=>x===D.target);"ArrowDown"===D.key?w[(M+1)%w.length].focus():"ArrowUp"===D.key&&w[(M-1+w.length)%w.length].focus()}keyDown(D){switch(D.code){case"Tab":this.deactivateSection(D,!1);break;case"ArrowDown":this.focusOnFirstChildSection=!0,this.activateSection(D);break;case"Space":case"Enter":D.preventDefault()}}static{this.\u0275fac=function(w){return new(w||p)(_.rXU("sectionDataProvider"),_.rXU(m.$),_.rXU(_.zZn),_.rXU(h.CV))}}static{this.\u0275cmp=_.VBU({type:p,selectors:[["ds-base-expandable-navbar-section"]],hostBindings:function(w,M){1&w&&_.bIt("resize",function(j){return M.onResize(j)},!1,_.tSv)},standalone:!0,features:[_.Vt3,_.aNF],decls:10,vars:16,consts:[["data-test","navbar-section-wrapper",1,"ds-menu-item-wrapper","text-md-center",3,"mouseenter","mouseleave","id"],["href","javascript:void(0);","routerLinkActive","active","role","menuitem","aria-haspopup","menu","data-test","navbar-section-toggler",1,"d-flex","flex-row","flex-nowrap","align-items-center","gapx-1","ds-menu-toggler-wrapper",3,"keyup.enter","keyup.space","click","keydown"],[1,"flex-fill"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["aria-hidden","true",1,"fas","fa-caret-down","fa-xs","toggle-menu-icon"],["role","menu","class","dropdown-menu show nav-dropdown-menu m-0 shadow-none border-top-0 px-3 px-md-0 pt-0 pt-md-1",3,"id","dsHoverOutsideOfParentSelector","click","dsHoverOutside",4,"ngIf"],["role","menu",1,"dropdown-menu","show","nav-dropdown-menu","m-0","shadow-none","border-top-0","px-3","px-md-0","pt-0","pt-md-1",3,"click","dsHoverOutside","id","dsHoverOutsideOfParentSelector"],["role","presentation"],["class","text-nowrap","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"text-nowrap"]],template:function(w,M){1&w&&(_.j41(0,"div",0),_.bIt("mouseenter",function(j){return M.onMouseEnter(j)})("mouseleave",function(j){return M.onMouseLeave(j)}),_.j41(1,"a",1),_.nI1(2,"async"),_.bIt("keyup.enter",function(j){return M.toggleSection(j)})("keyup.space",function(j){return M.toggleSection(j)})("click",function(j){return M.toggleSection(j)})("keydown",function(j){return M.keyDown(j)}),_.j41(3,"span",2),_.DNE(4,C,1,0,"ng-container",3),_.nI1(5,"async"),_.nI1(6,"async"),_.k0s(),_.nrm(7,"i",4),_.k0s(),_.DNE(8,T,4,6,"div",5),_.nI1(9,"async"),_.k0s()),2&w&&(_.Y8G("id","expandable-navbar-section-"+M.section.id),_.R7$(),_.AVh("disabled",null==M.section.model?null:M.section.model.disabled),_.BMQ("aria-expanded",_.bMT(2,8,M.active$).valueOf())("aria-controls",M.expandableNavbarSectionId()),_.R7$(3),_.Y8G("ngComponentOutlet",_.bMT(5,10,M.sectionMap$).get(M.section.id).component)("ngComponentOutletInjector",_.bMT(6,12,M.sectionMap$).get(M.section.id).injector),_.R7$(4),_.Y8G("ngIf",!0===_.bMT(9,14,M.active$).valueOf()))},dependencies:[i.Jj,v.l,i.OI,i.pM,i.bT,t.wQ],styles:["[_nghost-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{overflow:hidden;min-width:100%;top:100%;border:0;background-color:var(--ds-expandable-navbar-bg)}@media (min-width: 768px){[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0;background-color:var(--ds-navbar-dropdown-bg)}}[_nghost-%COMP%]   .toggle-menu-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .toggle-menu-icon[_ngcontent-%COMP%]:hover{text-decoration:none}"],data:{animation:[e.M6]}})}}return p})()},26821:(F,b,n)=>{"use strict";n.d(b,{X:()=>f});var i=n(60177),t=n(39548),u=n(19340),e=n(6446),h=n(54438);function m(v,E){1&v&&h.eu8(0)}let f=(()=>{class v extends e.a{constructor(_,C,S){super(_,C,S),this.menuService=C,this.injector=S,this.menuID=u.D.PUBLIC}ngOnInit(){super.ngOnInit()}static{this.\u0275fac=function(C){return new(C||v)(h.rXU("sectionDataProvider"),h.rXU(t.$),h.rXU(h.zZn))}}static{this.\u0275cmp=h.VBU({type:v,selectors:[["ds-navbar-section"]],standalone:!0,features:[h.Vt3,h.aNF],decls:4,vars:7,consts:[[1,"ds-menu-item-wrapper","text-md-center",3,"id"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(C,S){1&C&&(h.j41(0,"div",0),h.DNE(1,m,1,0,"ng-container",1),h.nI1(2,"async"),h.nI1(3,"async"),h.k0s()),2&C&&(h.Y8G("id","navbar-section-"+S.section.id),h.R7$(),h.Y8G("ngComponentOutlet",h.bMT(2,3,S.sectionMap$).get(S.section.id).component)("ngComponentOutletInjector",h.bMT(3,5,S.sectionMap$).get(S.section.id).injector))},dependencies:[i.OI,i.Jj]})}}return v})()},67454:(F,b,n)=>{"use strict";n.r(b),n.d(b,{NavbarComponent:()=>x});var i=n(60177),t=n(58003),u=n(25499),e=n(41780),h=n(38169),m=n(37864),f=n(65007),v=n(621),E=n(28619),_=n(57538),C=n(30458),S=n(39548),R=n(19340),T=n(82522),A=n(54438),p=n(7901);const L=j=>({open:j});function D(j,U){1&j&&(A.qex(0),A.nrm(1,"ds-user-menu",7),A.bVm()),2&j&&(A.R7$(),A.Y8G("inExpandableNavbar",!0))}function w(j,U){1&j&&A.eu8(0)}function M(j,U){if(1&j&&(A.qex(0),A.DNE(1,w,1,0,"ng-container",8),A.nI1(2,"async"),A.nI1(3,"async"),A.bVm()),2&j){let $,k;const K=U.$implicit,X=A.XpG();A.R7$(),A.Y8G("ngComponentOutlet",null==($=A.bMT(2,2,X.sectionMap$).get(K.id))?null:$.component)("ngComponentOutletInjector",null==(k=A.bMT(3,4,X.sectionMap$).get(K.id))?null:k.injector)}}let x=(()=>{class j extends C.Z{constructor($,k,K,X,G,q,z,te){super($,k,G,q,z),this.menuService=$,this.injector=k,this.windowService=K,this.browseService=X,this.authorizationService=G,this.route=q,this.themeService=z,this.store=te,this.menuID=R.D.PUBLIC,this.maxMobileWidth=_.tP.SM}ngOnInit(){super.ngOnInit(),this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth),this.isAuthenticated$=this.store.pipe((0,u.Lt)(h.wR))}static{this.\u0275fac=function(k){return new(k||j)(A.rXU(S.$),A.rXU(A.zZn),A.rXU(_.CV),A.rXU(m.q),A.rXU(f.AuthorizationDataService),A.rXU(p.nX),A.rXU(T.Fs),A.rXU(u.il))}}static{this.\u0275cmp=A.VBU({type:j,selectors:[["ds-base-navbar"]],standalone:!0,features:[A.Vt3,A.aNF],decls:15,vars:25,consts:[["role","navigation","id","main-navbar",1,"navbar","navbar-light","navbar-expand-md","px-md-0","navbar-container",3,"ngClass"],[1,"navbar-inner-container","w-100"],[1,"w-100"],["id","collapsingNav"],[4,"ngIf"],[1,"navbar-nav","align-items-md-center","me-auto","shadow-none","gapx-3"],[4,"ngFor","ngForOf"],[3,"inExpandableNavbar"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(k,K){1&k&&(A.j41(0,"nav",0),A.nI1(1,"async"),A.nI1(2,"async"),A.nI1(3,"async"),A.nI1(4,"translate"),A.j41(5,"div",1),A.nI1(6,"async"),A.j41(7,"div",2)(8,"div",3),A.DNE(9,D,2,1,"ng-container",4),A.nI1(10,"async"),A.nI1(11,"async"),A.j41(12,"div",5),A.DNE(13,M,4,6,"ng-container",6),A.nI1(14,"async"),A.k0s()()()()()),2&k&&(A.Y8G("ngClass",A.eq3(23,L,!0!==A.bMT(1,7,K.menuCollapsed)))("@slideMobileNav",!0!==A.bMT(2,9,K.windowService.isXsOrSm())?"default":A.bMT(3,11,K.menuCollapsed)?"collapsed":"expanded"),A.BMQ("aria-label",A.bMT(4,13,"nav.main.description")),A.R7$(5),A.AVh("container",!0!==A.bMT(6,15,K.isMobile$)),A.R7$(4),A.Y8G("ngIf",A.bMT(10,17,K.isMobile$)&&A.bMT(11,19,K.isAuthenticated$)),A.R7$(4),A.Y8G("ngForOf",A.bMT(14,21,K.sections)))},dependencies:[t.zH,t.QE,i.YU,i.bT,E.r,i.pM,i.OI,i.Jj,e.h,e.D9],styles:["[_nghost-%COMP%]{--ds-expandable-navbar-height: auto}[_nghost-%COMP%]   nav.navbar[_ngcontent-%COMP%]{background-color:var(--ds-navbar-bg);align-items:baseline;padding:0}@media screen and (max-width: 767.98px){[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{width:100vw;background-color:var(--bs-white);position:absolute;overflow:hidden;height:0;z-index:var(--ds-nav-z-index)}[_nghost-%COMP%]   .navbar.open[_ngcontent-%COMP%]{height:auto;min-height:100vh;border-bottom:1px var(--ds-header-navbar-border-bottom-color) solid}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .reset-padding-md[_ngcontent-%COMP%]{margin-left:calc(var(--bs-spacer) / -1);margin-right:calc(var(--bs-spacer) / -1)}}@media screen and (max-width: 767.98px){[_nghost-%COMP%]   .navbar-expand-md.navbar-container[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .navbar-expand-md.navbar-container[_ngcontent-%COMP%] > .navbar-inner-container[_ngcontent-%COMP%]{padding:0 var(--bs-spacer)}}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item, [_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-toggler-wrapper{white-space:nowrap;text-decoration:none}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .dropdown-menu{padding:.5rem!important}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item{display:block;color:var(--ds-navbar-link-color);padding:.5rem 0}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item:hover, [_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item:focus{color:var(--ds-navbar-link-color-hover)}"],data:{animation:[v.p8]}})}}return j})()},77632:(F,b,n)=>{"use strict";n.d(b,{D:()=>m});var i=n(8886),u=(n(67454),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"NavbarComponent"}importThemedComponent(E){return n(19318)(`./${E}/app/navbar/navbar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,67454))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-navbar"]],standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},38571:(F,b,n)=>{"use strict";n.d(b,{W:()=>S,I:()=>R});var i=n(25499),t=n(74566);const u={source:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0};var h=n(79984);const m={topics:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0};var v=n(54503);const E={targets:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0},_={sources:{},currentUserTargets:null,currentUserTargetsVisited:!1},S={qaTopic:function f(T=m,A){switch(A.type){case h.py.RETRIEVE_ALL_TOPICS:return Object.assign({},T,{topics:[],processing:!0});case h.py.ADD_TOPICS:return Object.assign({},T,{topics:A.payload.topics,processing:!1,loaded:!0,totalPages:A.payload.totalPages,currentPage:T.currentPage,totalElements:A.payload.totalElements});case h.py.RETRIEVE_ALL_TOPICS_ERROR:return Object.assign({},T,{processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});default:return T}},qaSource:function e(T=u,A){switch(A.type){case t.xq.RETRIEVE_ALL_SOURCE:return Object.assign({},T,{source:[],processing:!0});case t.xq.ADD_SOURCE:return Object.assign({},T,{source:A.payload.source,processing:!1,loaded:!0,totalPages:A.payload.totalPages,currentPage:T.currentPage,totalElements:A.payload.totalElements});case t.xq.RETRIEVE_ALL_SOURCE_ERROR:return Object.assign({},T,{processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});default:return T}},suggestionTarget:function C(T=_,A){switch(A.type){case v.lz.RETRIEVE_TARGETS_BY_SOURCE:{const p=T.sources[A.payload.source]||Object.assign({},E),L=Object.assign({},p,{targets:[],processing:!0});return Object.assign({},T,{sources:Object.assign({},T.sources,{[A.payload.source]:L})})}case v.lz.ADD_TARGETS:{const p=T.sources[A.payload.source]||Object.assign({},E),L=Object.assign({},p,{targets:p.targets.concat(A.payload.targets),processing:!1,loaded:!0,totalPages:A.payload.totalPages,currentPage:A.payload.currentPage,totalElements:A.payload.totalElements});return Object.assign({},T,{sources:Object.assign({},T.sources,{[A.payload.source]:L})})}case v.lz.RETRIEVE_TARGETS_BY_SOURCE_ERROR:{const p=T.sources[A.payload.source]||Object.assign({},E),L=Object.assign({},p,{targets:[],processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});return Object.assign({},T,{sources:Object.assign({},T.sources,{[A.payload.source]:L})})}case v.lz.ADD_USER_SUGGESTIONS:return Object.assign({},T,{currentUserTargets:A.payload.suggestionTargets});case v.lz.MARK_USER_SUGGESTIONS_AS_VISITED:return Object.assign({},T,{currentUserTargetsVisited:!0});case v.lz.CLEAR_TARGETS:{const p=T.sources[A.payload.source]||Object.assign({},E),L=Object.assign({},p,{targets:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0});return Object.assign({},T,{sources:Object.assign({},T.sources,{[A.payload.source]:L})})}default:return T}}},R=(0,i.UX)("suggestionNotifications")},74566:(F,b,n)=>{"use strict";n.d(b,{$_:()=>h,Fx:()=>e,lZ:()=>u,xq:()=>t});var i=n(91e3);const t={ADD_SOURCE:(0,i.N)("dspace/integration/notifications/qa/ADD_SOURCE"),RETRIEVE_ALL_SOURCE:(0,i.N)("dspace/integration/notifications/qa/RETRIEVE_ALL_SOURCE"),RETRIEVE_ALL_SOURCE_ERROR:(0,i.N)("dspace/integration/notifications/qa/RETRIEVE_ALL_SOURCE_ERROR")};class u{constructor(f,v){this.type=t.RETRIEVE_ALL_SOURCE,this.payload={elementsPerPage:f,currentPage:v}}}class e{constructor(){this.type=t.RETRIEVE_ALL_SOURCE_ERROR}}class h{constructor(f,v,E,_){this.type=t.ADD_SOURCE,this.payload={source:f,totalPages:v,currentPage:E,totalElements:_}}}},13246:(F,b,n)=>{"use strict";n.d(b,{p:()=>m});var i=n(96354),t=n(6238),u=n(61723),e=n(80183),h=n(54438);let m=(()=>{class f{constructor(E){this.qualityAssuranceSourceRestService=E}getSources(E,_){const C=new t.z("name",t.U.ASC);return this.qualityAssuranceSourceRestService.getSources({elementsPerPage:E,currentPage:_,sort:C}).pipe((0,e.qD)(),(0,i.T)(R=>{if(R.hasSucceeded)return R.payload;throw new Error("Can't retrieve Quality Assurance source from the Broker source REST service")}))}static{this.\u0275fac=function(_){return new(_||f)(h.KVO(u.QualityAssuranceSourceDataService))}}static{this.\u0275prov=h.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},79984:(F,b,n)=>{"use strict";n.d(b,{C3:()=>h,IL:()=>e,_v:()=>u,py:()=>t});var i=n(91e3);const t={ADD_TOPICS:(0,i.N)("dspace/integration/notifications/qa/topic/ADD_TOPICS"),RETRIEVE_ALL_TOPICS:(0,i.N)("dspace/integration/notifications/qa/topic/RETRIEVE_ALL_TOPICS"),RETRIEVE_ALL_TOPICS_ERROR:(0,i.N)("dspace/integration/notifications/qa/topic/RETRIEVE_ALL_TOPICS_ERROR")};class u{constructor(f,v,E,_){this.type=t.RETRIEVE_ALL_TOPICS,this.payload={elementsPerPage:f,currentPage:v,source:E,target:_}}}class e{constructor(){this.type=t.RETRIEVE_ALL_TOPICS_ERROR}}class h{constructor(f,v,E,_){this.type=t.ADD_TOPICS,this.payload={topics:f,totalPages:v,currentPage:E,totalElements:_}}}},54503:(F,b,n)=>{"use strict";n.d(b,{Af:()=>v,Fz:()=>e,Gx:()=>m,Pc:()=>h,eb:()=>f,en:()=>_,g3:()=>E,lz:()=>t,ri:()=>u});var i=n(91e3);const t={ADD_TARGETS:(0,i.N)("dspace/integration/openaire/suggestions/target/ADD_TARGETS"),CLEAR_TARGETS:(0,i.N)("dspace/integration/openaire/suggestions/target/CLEAR_TARGETS"),RETRIEVE_TARGETS_BY_SOURCE:(0,i.N)("dspace/integration/openaire/suggestions/target/RETRIEVE_TARGETS_BY_SOURCE"),RETRIEVE_TARGETS_BY_SOURCE_ERROR:(0,i.N)("dspace/integration/openaire/suggestions/target/RETRIEVE_TARGETS_BY_SOURCE_ERROR"),ADD_USER_SUGGESTIONS:(0,i.N)("dspace/integration/openaire/suggestions/target/ADD_USER_SUGGESTIONS"),REFRESH_USER_SUGGESTIONS:(0,i.N)("dspace/integration/openaire/suggestions/target/REFRESH_USER_SUGGESTIONS"),REFRESH_USER_SUGGESTIONS_ERROR:(0,i.N)("dspace/integration/openaire/suggestions/target/REFRESH_USER_SUGGESTIONS_ERROR"),MARK_USER_SUGGESTIONS_AS_VISITED:(0,i.N)("dspace/integration/openaire/suggestions/target/MARK_USER_SUGGESTIONS_AS_VISITED")};class u{constructor(S,R,T){this.type=t.RETRIEVE_TARGETS_BY_SOURCE,this.payload={source:S,elementsPerPage:R,currentPage:T}}}class e{constructor(S){this.type=t.RETRIEVE_TARGETS_BY_SOURCE_ERROR,this.payload={source:S}}}class h{constructor(S,R,T,A,p){this.type=t.ADD_TARGETS,this.payload={source:S,targets:R,totalPages:T,currentPage:A,totalElements:p}}}class m{constructor(S){this.type=t.ADD_USER_SUGGESTIONS,this.payload={suggestionTargets:S}}}class f{constructor(){this.type=t.REFRESH_USER_SUGGESTIONS}}class v{constructor(){this.type=t.REFRESH_USER_SUGGESTIONS_ERROR}}class E{constructor(){this.type=t.MARK_USER_SUGGESTIONS_AS_VISITED}}class _{constructor(S){this.type=t.CLEAR_TARGETS,this.payload={source:S}}}},31224:(F,b,n)=>{"use strict";n.d(b,{x:()=>D});var i=n(25499),t=n(96354),u=n(645),e=n(38571);function m(){return(0,u.hZ)(e.I,"suggestionTarget")}function f(w){return(0,i.Mz)(m(),M=>M.sources[w])}(0,i.UX)("suggestionNotifications");const E=w=>(0,i.Mz)(f(w),M=>M?.loaded||!1),R=w=>(0,i.Mz)(f(w),M=>M?.totalElements||0);var p=n(54503),L=n(54438);let D=(()=>{class w{constructor(x){this.store=x}getSuggestionTargets(x){return this.store.pipe((0,i.Lt)(function v(w){return(0,i.Mz)(f(w),M=>M.targets)}(x)))}isSuggestionTargetsLoading(x){return this.store.pipe((0,i.Lt)(E(x)),(0,t.T)(j=>!j))}isSuggestionTargetsLoaded(x){return this.store.pipe((0,i.Lt)(E(x)))}isSuggestionTargetsProcessing(x){return this.store.pipe((0,i.Lt)((w=>(0,i.Mz)(f(w),M=>M?.processing||!1))(x)))}getSuggestionTargetsTotalPages(x){return this.store.pipe((0,i.Lt)(R(x)))}getSuggestionTargetsCurrentPage(x){return this.store.pipe((0,i.Lt)((w=>(0,i.Mz)(f(w),M=>M?.currentPage||0))(x)))}getSuggestionTargetsTotals(x){return this.store.pipe((0,i.Lt)(R(x)))}dispatchRetrieveSuggestionTargets(x,j,U){this.store.dispatch(new p.ri(x,j,U))}getCurrentUserSuggestionTargets(){return this.store.pipe((0,i.Lt)((0,i.Mz)(m(),w=>w?.currentUserTargets||[])))}hasUserVisitedSuggestions(){return this.store.pipe((0,i.Lt)((0,i.Mz)(m(),w=>w?.currentUserTargetsVisited||!1)))}dispatchMarkUserSuggestionsAsVisitedAction(){this.store.dispatch(new p.g3)}dispatchClearSuggestionTargetsAction(x){this.store.dispatch(new p.en(x))}dispatchRefreshUserSuggestionsAction(){this.store.dispatch(new p.eb)}static{this.\u0275fac=function(j){return new(j||w)(L.KVO(i.il))}}static{this.\u0275prov=L.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},7724:(F,b,n)=>{"use strict";n.d(b,{w:()=>_});var i=n(60177),t=n(7901),u=n(41780),e=n(31224),h=n(67977),m=n(54438);function f(C,S){if(1&C&&(m.j41(0,"div",4),m.nrm(1,"div",5),m.nI1(2,"translate"),m.EFF(3),m.nI1(4,"translate"),m.j41(5,"a",6),m.EFF(6),m.nI1(7,"translate"),m.k0s()()),2&C){const R=m.XpG().$implicit,T=m.XpG(2);m.R7$(),m.Y8G("innerHTML",m.i5U(2,4,"notification.suggestion",T.getNotificationSuggestionInterpolation(R)),m.npT),m.R7$(2),m.SpI(" ",m.bMT(4,7,"notification.suggestion.please")," "),m.R7$(2),m.Y8G("routerLink",T.getNotificationSuggestionInterpolation(R).url),m.R7$(),m.SpI(" ",m.bMT(7,9,"notification.suggestion.review")," ")}}function v(C,S){if(1&C&&(m.qex(0,2),m.DNE(1,f,8,11,"div",3),m.bVm()),2&C){const R=S.$implicit;m.R7$(),m.Y8G("ngIf",R.total>0)}}function E(C,S){if(1&C&&(m.qex(0),m.DNE(1,v,2,1,"ng-container",1),m.bVm()),2&C){const R=S.ngIf;m.R7$(),m.Y8G("ngForOf",R)}}let _=(()=>{class C{constructor(R,T){this.suggestionTargetsStateService=R,this.suggestionsService=T}ngOnInit(){this.suggestionsRD$=this.suggestionTargetsStateService.getCurrentUserSuggestionTargets(),this.suggestionTargetsStateService.dispatchMarkUserSuggestionsAsVisitedAction()}getNotificationSuggestionInterpolation(R){return this.suggestionsService.getNotificationSuggestionInterpolation(R)}static{this.\u0275fac=function(T){return new(T||C)(m.rXU(e.x),m.rXU(h.F))}}static{this.\u0275cmp=m.VBU({type:C,selectors:[["ds-suggestions-notification"]],standalone:!0,features:[m.aNF],decls:2,vars:3,consts:[[4,"ngIf"],["class","alert alert-info",4,"ngFor","ngForOf"],[1,"alert","alert-info"],["class","alert alert-success d-block",4,"ngIf"],[1,"alert","alert-success","d-block"],[3,"innerHTML"],[3,"routerLink"]],template:function(T,A){1&T&&(m.DNE(0,E,2,1,"ng-container",0),m.nI1(1,"async")),2&T&&m.Y8G("ngIf",m.bMT(1,1,A.suggestionsRD$))},dependencies:[t.Wk,u.h,u.D9,i.Jj,i.bT,i.Sq]})}}return C})()},67977:(F,b,n)=>{"use strict";n.d(b,{F:()=>D});var i=n(7673),t=n(27468),u=n(96697),e=n(96354),h=n(73028),m=n(99437),f=n(88280),v=n(6238),E=n(96687),_=n(94791),C=n(98926),S=n(80183),R=n(82777),T=n(67600),A=n(24215),p=n(54438),L=n(41780);let D=(()=>{class w{constructor(x,j,U,$){this.researcherProfileService=x,this.suggestionsDataService=j,this.suggestionTargetDataService=U,this.translateService=$}getTargets(x,j,U){const $=new v.z("display",v.U.ASC);return this.suggestionTargetDataService.getTargetsBySource(x,{elementsPerPage:j,currentPage:U,sort:$}).pipe((0,S.D4)(),(0,u.s)(1),(0,e.T)(K=>{if(K.hasSucceeded)return K.payload;throw new Error("Can't retrieve Suggestion Target from the Search Target REST service")}))}getSuggestions(x,j,U,$){const[k,K]=x.split(":");return this.suggestionsDataService.getSuggestionsByTargetAndSource(K,k,{elementsPerPage:j,currentPage:U,sort:$})}clearSuggestionRequests(){this.suggestionsDataService.clearSuggestionRequests()}deleteReviewedSuggestion(x){return this.suggestionsDataService.deleteSuggestion(x).pipe((0,e.T)(j=>{if(j.isSuccess)return j;throw new Error("Can't delete Suggestion from the Search Target REST service")}),(0,u.s)(1))}retrieveCurrentUserSuggestions(x){return(0,R.Tn)(x)?(0,i.of)([]):this.researcherProfileService.findById(x,!0,!0,(0,T.s)("item")).pipe((0,S.qD)(),(0,h.Z)(j=>(0,R.hj)(j)&&j.hasSucceeded&&(0,R.hj)(j.payload)?this.researcherProfileService.findRelatedItemId(j.payload).pipe((0,h.Z)(U=>this.suggestionTargetDataService.getTargetsByUser(U).pipe((0,S.Ar)()))):(0,i.of)([])),(0,m.W)(()=>(0,i.of)([])))}approveAndImport(x,j,U){const $=this.resolveCollectionId(j,U);return x.importExternalSourceEntry(j.externalSourceUri,$).pipe((0,S.ak)(),(0,m.W)(()=>(0,i.of)(null)))}ignoreSuggestion(x){return this.deleteReviewedSuggestion(x).pipe((0,m.W)(()=>(0,i.of)(null)))}approveAndImportMultiple(x,j,U){return(0,t.p)(j.map($=>this.approveAndImport(x,$,U))).pipe((0,e.T)($=>({success:$.filter(k=>null!=k).length,fails:$.filter(k=>null==k).length})),(0,u.s)(1))}ignoreSuggestionMultiple(x){return(0,t.p)(x.map(j=>this.ignoreSuggestion(j.id))).pipe((0,e.T)(j=>({success:j.filter(U=>null!=U).length,fails:j.filter(U=>null==U).length})),(0,u.s)(1))}getTargetUuid(x){const j=x.id.split(":");return 2===j.length?j[1]:null}getNotificationSuggestionInterpolation(x){return{count:x.total,source:this.translateService.instant(this.translateSuggestionSource(x.source)),type:this.translateService.instant(this.translateSuggestionType(x.source)),suggestionId:x.id,displayName:x.display,url:(0,A.jV)(x.id)}}translateSuggestionType(x){return"suggestion.type."+x}translateSuggestionSource(x){return"suggestion.source."+x}resolveCollectionId(x,j){return(0,R.a4)(j)?j:f.c.suggestion.find(U=>U.source===x.source).collectionId}isCollectionFixed(x){return 1===this.getFixedCollectionIds(x).length}getFixedCollectionIds(x){const j={};return x.forEach(U=>{const $=f.c.suggestion.find(k=>k.source===U.source);(0,R.a4)($)&&(j[$.collectionId]=!0)}),Object.keys(j)}static{this.\u0275fac=function(j){return new(j||w)(p.KVO(C.ResearcherProfileDataService),p.KVO(E.SuggestionDataService),p.KVO(_.SuggestionTargetDataService),p.KVO(L.c$))}}static{this.\u0275prov=p.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},2670:(F,b,n)=>{"use strict";n.r(b),n.d(b,{PageErrorComponent:()=>e});var i=n(41780),t=n(54438),u=n(7901);let e=(()=>{class h{constructor(f){this.activatedRoute=f,this.activatedRoute.queryParams.subscribe(v=>{this.status=v.status,this.code=v.code})}static{this.\u0275fac=function(v){return new(v||h)(t.rXU(u.nX))}}static{this.\u0275cmp=t.VBU({type:h,selectors:[["ds-base-page-error"]],standalone:!0,features:[t.aNF],decls:16,vars:10,consts:[[1,"page-internal-server-error","container"],["data-test","status"],[1,"text-center"],["href","/home",1,"btn","btn-primary"]],template:function(v,E){1&v&&(t.j41(0,"div",0)(1,"h1",1),t.EFF(2),t.k0s(),t.j41(3,"h2")(4,"small"),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.nrm(7,"br"),t.j41(8,"p"),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.nrm(11,"br"),t.j41(12,"p",2)(13,"a",3),t.EFF(14),t.nI1(15,"translate"),t.k0s()()()),2&v&&(t.R7$(2),t.JRh(E.status),t.R7$(3),t.JRh(t.bMT(6,4,"error-page.description."+E.status)),t.R7$(4),t.JRh(t.bMT(10,6,"error-page."+E.code)),t.R7$(5),t.JRh(t.bMT(15,8,E.status+".link.home-page")))},dependencies:[i.h,i.D9]})}}return h})()},82290:(F,b,n)=>{"use strict";n.r(b),n.d(b,{PageInternalServerErrorComponent:()=>e});var i=n(41780),t=n(7337),u=n(54438);let e=(()=>{class h{constructor(f){this.responseService=f,this.responseService.setInternalServerError()}static{this.\u0275fac=function(v){return new(v||h)(u.rXU(t.w))}}static{this.\u0275cmp=u.VBU({type:h,selectors:[["ds-base-page-internal-server-error"]],standalone:!0,features:[u.aNF],decls:16,vars:9,consts:[[1,"page-internal-server-error","container"],[1,"text-center"],["href","home",1,"btn","btn-primary"]],template:function(v,E){1&v&&(u.j41(0,"div",0)(1,"h1"),u.EFF(2,"500"),u.k0s(),u.j41(3,"h2")(4,"small"),u.EFF(5),u.nI1(6,"translate"),u.k0s()(),u.nrm(7,"br"),u.j41(8,"p"),u.EFF(9),u.nI1(10,"translate"),u.k0s(),u.nrm(11,"br"),u.j41(12,"p",1)(13,"a",2),u.EFF(14),u.nI1(15,"translate"),u.k0s()()()),2&v&&(u.R7$(5),u.SpI(" ",u.bMT(6,3,"500.page-internal-server-error")," "),u.R7$(4),u.JRh(u.bMT(10,5,"500.help")),u.R7$(5),u.JRh(u.bMT(15,7,"500.link.home-page")))},dependencies:[i.h,i.D9]})}}return h})()},53830:(F,b,n)=>{"use strict";n.r(b),n.d(b,{PageNotFoundComponent:()=>m});var i=n(7901),t=n(41780),u=n(67116),e=n(7337),h=n(54438);let m=(()=>{class f{constructor(E,_){this.authservice=E,this.responseService=_,this.responseService.setNotFound()}ngOnInit(){this.authservice.clearRedirectUrl()}static{this.\u0275fac=function(_){return new(_||f)(h.rXU(u.uR),h.rXU(e.w))}}static{this.\u0275cmp=h.VBU({type:f,selectors:[["ds-base-pagenotfound"]],standalone:!0,features:[h.aNF],decls:16,vars:9,consts:[[1,"page-not-found","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(_,C){1&_&&(h.j41(0,"div",0)(1,"h1"),h.EFF(2,"404"),h.k0s(),h.j41(3,"h2")(4,"small"),h.EFF(5),h.nI1(6,"translate"),h.k0s()(),h.nrm(7,"br"),h.j41(8,"p"),h.EFF(9),h.nI1(10,"translate"),h.k0s(),h.nrm(11,"br"),h.j41(12,"p",1)(13,"a",2),h.EFF(14),h.nI1(15,"translate"),h.k0s()()()),2&_&&(h.R7$(5),h.JRh(h.bMT(6,3,"404.page-not-found")),h.R7$(4),h.JRh(h.bMT(10,5,"404.help")),h.R7$(5),h.JRh(h.bMT(15,7,"404.link.home-page")))},dependencies:[i.Wk,t.h,t.D9]})}}return f})()},1504:(F,b,n)=>{"use strict";n.d(b,{JO:()=>u,rG:()=>t,yJ:()=>e});var i=n(45663);const t="processes",u=()=>`/${t}`,e=h=>new i.t(u(),h).toString()},73666:(F,b,n)=>{"use strict";n.d(b,{p:()=>i});class i{}},31189:(F,b,n)=>{"use strict";n.d(b,{K:()=>i});var i=function(t){return t.SCHEDULED="SCHEDULED",t.RUNNING="RUNNING",t.COMPLETED="COMPLETED",t.FAILED="FAILED",t}(i||{})},30721:(F,b,n)=>{"use strict";n.d(b,{M:()=>R});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(96470),m=n(42547);const f=new m.v("processOutput");var v=n(98688),E=n(43733);const _=new m.v("filetypes");var C=n(20930);n(31189);let R=class{static{this.type=C.A}};(0,i.Cg)([v.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],R.prototype,"type",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String),(0,i.Sn)("design:type",String)],R.prototype,"processId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"userId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"creationTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"startTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"endTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"scriptName",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"processStatus",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],R.prototype,"parameters",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],R.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(E.M),(0,i.Sn)("design:type",u.c)],R.prototype,"script",void 0),(0,i.Cg)([(0,e.nf)(f),(0,i.Sn)("design:type",u.c)],R.prototype,"output",void 0),(0,i.Cg)([(0,e.nf)(h.e,!0),(0,i.Sn)("design:type",u.c)],R.prototype,"files",void 0),(0,i.Cg)([(0,e.nf)(_),(0,i.Sn)("design:type",u.c)],R.prototype,"filetypes",void 0),R=(0,i.Cg)([e.gV],R)},20930:(F,b,n)=>{"use strict";n.d(b,{A:()=>t});const t=new(n(42547).v)("process")},24903:(F,b,n)=>{"use strict";n.d(b,{e:()=>f});var i=n(31635),t=n(74850),u=n(21921),e=n(42547),h=n(98688),m=n(43733);let f=class{static{this.type=m.M}};(0,i.Cg)([h.aK,t.autoserialize,(0,i.Sn)("design:type",e.v)],f.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],f.prototype,"parameters",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],f.prototype,"_links",void 0),f=(0,i.Cg)([u.gV],f)},43733:(F,b,n)=>{"use strict";n.d(b,{M:()=>t});const t=new(n(42547).v)("script")},87114:(F,b,n)=>{"use strict";n.r(b),n.d(b,{RootComponent:()=>Z});var i=n(60177),t=n(7901),u=n(41780),e=n(7673),h=n(84412),m=n(84572),f=n(28492),v=n(61594),E=n(96354),_=n(99172),C=n(88280),S=n(61242),R=n(69799),T=n(46754),A=n(1676),p=n(74920),L=n(77529),D=n(621),w=n(57538),M=n(98776),x=n(82394),j=n(39548),U=n(19340),$=n(25871),k=n(1221),K=n(58429),X=n(54438);const G=(J,Q)=>({collapsedWidth:J,expandedWidth:Q}),q=(J,Q)=>({value:J,params:Q});function z(J,Q){1&J&&(X.j41(0,"div",8),X.nrm(1,"ds-loading",9),X.k0s()),2&J&&(X.R7$(),X.Y8G("showMessage",!1))}function te(J,Q){1&J&&(X.j41(0,"div",10),X.nrm(1,"ds-loading",9),X.k0s()),2&J&&(X.R7$(),X.Y8G("showMessage",!1))}let Z=(()=>{class J{constructor(ee,le,ne,fe,se){this.router=ee,this.cssService=le,this.menuService=ne,this.windowService=fe,this._window=se,this.theme=(0,e.of)({}),this.browserOsClasses=new h.t([]),this.notificationOptions=C.c.notifications}ngOnInit(){const ee=this.getBrowserName();if(ee){const ne=new Array;ne.push(`browser-${ee}`);const fe=this.getOSName();fe&&ne.push(`browser-${ee}-${fe}`),this.browserOsClasses.next(ne)}this.isSidebarVisible$=this.menuService.isMenuVisibleWithVisibleSections(U.D.ADMIN),this.expandedSidebarWidth$=this.cssService.getVariable("--ds-admin-sidebar-total-width").pipe((0,f.j)(ne=>!ne),(0,v.$)()),this.collapsedSidebarWidth$=this.cssService.getVariable("--ds-admin-sidebar-fixed-element-width").pipe((0,f.j)(ne=>!ne),(0,v.$)());const le=this.menuService.isMenuCollapsed(U.D.ADMIN);this.slideSidebarOver$=(0,m.z)([le,this.windowService.isXsOrSm()]).pipe((0,E.T)(([ne,fe])=>ne||fe),(0,_.Z)(!0)),this.router.url===(0,R.N2)()&&(this.shouldShowRouteLoader=!1)}skipToMainContent(){const ee=document.getElementById("main-content");ee&&(ee.tabIndex=-1,ee.focus())}getBrowserName(){const ee=this._window.nativeWindow.navigator?.userAgent;return/Firefox/.test(ee)?"firefox":/Safari/.test(ee)?"safari":void 0}getOSName(){const ee=this._window.nativeWindow.navigator?.userAgent;if(/Windows/.test(ee))return"windows"}static{this.\u0275fac=function(le){return new(le||J)(X.rXU(t.Ix),X.rXU(k.J),X.rXU(j.$),X.rXU(w.CV),X.rXU(A.lc))}}static{this.\u0275cmp=X.VBU({type:J,selectors:[["ds-base-root"]],inputs:{shouldShowFullscreenLoader:"shouldShowFullscreenLoader",shouldShowRouteLoader:"shouldShowRouteLoader"},standalone:!0,features:[X.aNF],decls:22,vars:30,consts:[["id","skip-to-main-content",1,"sr-only",3,"click"],[1,"outer-wrapper",3,"ngClass"],[3,"expandedSidebarWidth$","collapsedSidebarWidth$"],[1,"inner-wrapper"],["id","main-content",1,"my-cs"],["class","container d-flex justify-content-center align-items-center h-100",4,"ngIf"],[3,"options"],["class","ds-full-screen-loader",4,"ngIf"],[1,"container","d-flex","justify-content-center","align-items-center","h-100"],[3,"showMessage"],[1,"ds-full-screen-loader"]],template:function(le,ne){1&le&&(X.j41(0,"button",0),X.bIt("click",function(){return ne.skipToMainContent()}),X.EFF(1),X.nI1(2,"translate"),X.k0s(),X.j41(3,"div",1),X.nI1(4,"async"),X.nI1(5,"async"),X.nI1(6,"async"),X.nI1(7,"async"),X.nI1(8,"async"),X.nrm(9,"ds-admin-sidebar",2),X.j41(10,"div",3),X.nrm(11,"ds-system-wide-alert-banner")(12,"ds-header-navbar-wrapper")(13,"ds-breadcrumbs"),X.j41(14,"main",4),X.DNE(15,z,2,1,"div",5),X.j41(16,"div"),X.nrm(17,"router-outlet"),X.k0s()(),X.nrm(18,"ds-footer"),X.k0s()(),X.nrm(19,"ds-notifications-board",6),X.DNE(20,te,2,1,"div",7),X.nrm(21,"ds-live-region")),2&le&&(X.R7$(),X.SpI(" ",X.bMT(2,12,"root.skip-to-content"),"\n"),X.R7$(2),X.AVh("d-none",ne.shouldShowFullscreenLoader),X.Y8G("ngClass",X.bMT(4,14,ne.browserOsClasses.asObservable()))("@slideSidebarPadding",X.l_i(27,q,!0!==X.bMT(5,16,ne.isSidebarVisible$)?"hidden":X.bMT(6,18,ne.slideSidebarOver$)?"unpinned":"pinned",X.l_i(24,G,X.bMT(7,20,ne.collapsedSidebarWidth$),X.bMT(8,22,ne.expandedSidebarWidth$)))),X.R7$(6),X.Y8G("expandedSidebarWidth$",ne.expandedSidebarWidth$)("collapsedSidebarWidth$",ne.collapsedSidebarWidth$),X.R7$(6),X.Y8G("ngIf",ne.shouldShowRouteLoader),X.R7$(),X.AVh("d-none",ne.shouldShowRouteLoader),X.R7$(3),X.Y8G("options",ne.notificationOptions),X.R7$(),X.Y8G("ngIf",ne.shouldShowFullscreenLoader))},dependencies:[u.h,u.D9,S.u,K.E,L.h,T.B,i.bT,i.YU,x.v,t.n3,p.C,$.s,i.Jj,M.E],styles:["#skip-to-main-content[_ngcontent-%COMP%]{position:absolute;top:-40px;left:0;opacity:0;transition:opacity .3s;z-index:calc(var(--ds-nav-z-index) + 1);border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0}#skip-to-main-content[_ngcontent-%COMP%]:focus{opacity:1;top:0}"],data:{animation:[D.tr]}})}}return J})()},73940:(F,b,n)=>{"use strict";n.r(b),n.d(b,{SearchNavbarComponent:()=>_});var i=n(89417),t=n(41780),u=n(78655),e=n(621),h=n(75465),m=n(46301),f=n(54438),v=n(7901);const E=["searchInput"];let _=(()=>{class C{constructor(R,T,A){this.formBuilder=R,this.router=T,this.searchService=A,this.searchExpanded=!1,this.isExpanded="collapsed",this.searchForm=this.formBuilder.group({query:""})}expand(){this.searchExpanded=!0,this.isExpanded="expanded",this.editSearch()}collapse(){this.searchField.nativeElement.blur(),this.searchExpanded=!1,this.isExpanded="collapsed"}editSearch(){this.searchField.nativeElement.focus()}onSubmit(R){this.collapse();const T=Object.assign({},R),A=[this.searchService.getSearchLink().replace("/","")];this.searchForm.reset(),this.router.navigate(A,{queryParams:T})}static{this.\u0275fac=function(T){return new(T||C)(f.rXU(i.ze),f.rXU(v.Ix),f.rXU(u.S))}}static{this.\u0275cmp=f.VBU({type:C,selectors:[["ds-base-search-navbar"]],viewQuery:function(T,A){if(1&T&&f.GBs(E,5),2&T){let p;f.mGM(p=f.lsd())&&(A.searchField=p.first)}},standalone:!0,features:[f.aNF],decls:13,vars:23,consts:[["searchInput",""],[3,"dsClickOutside","title"],[1,"d-inline-block","position-relative"],["autocomplete","on",1,"d-flex",3,"ngSubmit","formGroup"],["name","query","formControlName","query","type","text",1,"d-inline-block","bg-transparent","position-absolute","form-control","dropdown-menu-right","p1",3,"placeholder","tabIndex"],["type","button",1,"submit-icon","btn","btn-link","btn-link-inline",3,"click"],[1,"fas","fa-search","fa-lg","fa-fw"]],template:function(T,A){if(1&T){const p=f.RV6();f.j41(0,"div",1),f.nI1(1,"translate"),f.bIt("dsClickOutside",function(){return f.eBV(p),f.Njj(A.collapse())}),f.j41(2,"div",2)(3,"form",3),f.bIt("ngSubmit",function(){return f.eBV(p),f.Njj(A.onSubmit(A.searchForm.value))}),f.nrm(4,"input",4,0),f.nI1(6,"translate"),f.nI1(7,"translate"),f.nI1(8,"dsBrowserOnly"),f.j41(9,"button",5),f.nI1(10,"translate"),f.nI1(11,"dsBrowserOnly"),f.bIt("click",function(){return f.eBV(p),f.Njj(A.searchExpanded?A.onSubmit(A.searchForm.value):A.expand())}),f.nrm(12,"em",6),f.k0s()()()()}2&T&&(f.Y8G("title",f.bMT(1,11,"nav.search")),f.R7$(3),f.Y8G("formGroup",A.searchForm),f.R7$(),f.AVh("display",A.searchExpanded?"inline-block":"none"),f.FS9("placeholder",A.searchExpanded?f.bMT(6,13,"nav.search"):""),f.Y8G("@toggleAnimation",A.isExpanded)("tabIndex",A.searchExpanded?0:-1),f.BMQ("aria-label",f.bMT(7,15,"nav.search"))("data-test",f.bMT(8,17,"header-search-box")),f.R7$(5),f.BMQ("aria-label",f.bMT(10,19,"nav.search.button"))("data-test",f.bMT(11,21,"header-search-icon")))},dependencies:[m.z,i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,t.h,t.D9,h.L],styles:["input[type=text][_ngcontent-%COMP%]{margin-top:calc(-.3 * var(--bs-font-size-base));background-color:#fff!important;border-color:var(--ds-header-icon-color);right:0}input[type=text].collapsed[_ngcontent-%COMP%]{opacity:0}.submit-icon[_ngcontent-%COMP%]{cursor:pointer;position:sticky;top:0;border:0!important;color:var(--ds-header-icon-color)}.submit-icon[_ngcontent-%COMP%]:hover, .submit-icon[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}@media screen and (max-width: 768px){.query[_ngcontent-%COMP%]:focus{max-width:250px!important;width:40vw!important}}"],data:{animation:[e.l9]}})}}return C})()},3224:(F,b,n)=>{"use strict";n.d(b,{X:()=>m});var i=n(8886),u=(n(73940),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"SearchNavbarComponent"}importThemedComponent(E){return n(28754)(`./${E}/app/search-navbar/search-navbar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,73940))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-search-navbar"]],standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},32487:(F,b,n)=>{"use strict";n.r(b),n.d(b,{ConfigurationSearchPageComponent:()=>be});var i=n(60177),t=n(54438),u=n(41780),e=n(82640),h=n(56760),m=n(78655),f=n(39012),v=n(13955),E=n(10214),_=n(57538),C=n(77766),S=n(55366),R=n(14131),T=n(79443),A=n(18016),p=n(50919),L=n(52600),D=n(35538),w=n(7901);const M=[[["","searchContentTop",""]],[["","additionalSearchOptions",""]]],x=["[searchContentTop]","[additionalSearchOptions]"];function j(me,re){}function U(me,re){1&me&&t.DNE(0,j,0,0,"ng-template")}function $(me,re){if(1&me&&(t.j41(0,"div",6)(1,"div",7)(2,"div",8),t.DNE(3,U,1,0,null,9),t.k0s()()()),2&me){t.XpG();const Ee=t.sdS(11);t.R7$(3),t.Y8G("ngTemplateOutlet",Ee)}}function k(me,re){}function K(me,re){1&me&&t.DNE(0,k,0,0,"ng-template")}function X(me,re){if(1&me&&(t.j41(0,"div"),t.DNE(1,K,1,0,null,9),t.k0s()),2&me){t.XpG();const Ee=t.sdS(7);t.R7$(),t.Y8G("ngTemplateOutlet",Ee)}}function G(me,re){}function q(me,re){1&me&&t.DNE(0,G,0,0,"ng-template")}function z(me,re){if(1&me&&(t.j41(0,"ds-page-with-sidebar",10),t.DNE(1,q,1,0,null,9),t.k0s()),2&me){const Ee=t.XpG(),De=t.sdS(7),tt=t.sdS(9);t.Y8G("id","search-page")("sideBarWidth",Ee.sideBarWidth)("sidebarContent",tt),t.R7$(),t.Y8G("ngTemplateOutlet",De)}}function te(me,re){}function Z(me,re){1&me&&t.DNE(0,te,0,0,"ng-template")}function J(me,re){if(1&me&&(t.qex(0),t.DNE(1,Z,1,0,null,9),t.bVm()),2&me){t.XpG(3);const Ee=t.sdS(11);t.R7$(),t.Y8G("ngTemplateOutlet",Ee)}}function Q(me,re){if(1&me&&(t.j41(0,"div",8),t.DNE(1,J,2,1,"ng-container",4),t.SdG(2,1),t.k0s()),2&me){const Ee=t.XpG(2);t.R7$(),t.Y8G("ngIf",Ee.searchEnabled)}}function ee(me,re){if(1&me&&t.nrm(0,"ds-view-mode-switch",18),2&me){const Ee=t.XpG(2);t.Y8G("viewModeList",Ee.viewModeList)("inPlaceSearch",Ee.inPlaceSearch)}}function le(me,re){if(1&me){const Ee=t.RV6();t.j41(0,"ds-search-results",19),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.bIt("contentChange",function(tt){t.eBV(Ee);const ht=t.XpG(2);return t.Njj(ht.onContentChange(tt))})("deselectObject",function(tt){t.eBV(Ee);const ht=t.XpG(2);return t.Njj(ht.deselectObject.emit(tt))})("selectObject",function(tt){t.eBV(Ee);const ht=t.XpG(2);return t.Njj(ht.selectObject.emit(tt))}),t.k0s()}if(2&me){const Ee=t.XpG(2);t.Y8G("searchResults",t.bMT(1,10,Ee.resultsRD$))("searchConfig",t.bMT(2,12,Ee.searchOptions$))("configuration",t.bMT(3,14,Ee.currentConfiguration$))("disableHeader",!Ee.searchEnabled)("linkType",Ee.linkType)("context",t.bMT(4,16,Ee.currentContext$))("selectable",Ee.selectable)("selectionConfig",Ee.selectionConfig)("showCsvExport",Ee.showCsvExport)("showThumbnails",Ee.showThumbnails)}}function ne(me,re){if(1&me){const Ee=t.RV6();t.j41(0,"div",7),t.DNE(1,Q,3,1,"div",11),t.nI1(2,"async"),t.j41(3,"div",12)(4,"div",13),t.DNE(5,ee,1,2,"ds-view-mode-switch",14),t.j41(6,"button",15),t.bIt("click",function(){t.eBV(Ee);const tt=t.XpG();return t.Njj(tt.openSidebar())}),t.nrm(7,"i",16),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.SdG(10),t.DNE(11,le,5,18,"ds-search-results",17),t.k0s()()}if(2&me){const Ee=t.XpG();t.R7$(),t.Y8G("ngIf",!0!==t.bMT(2,4,Ee.isXsOrSm$)),t.R7$(4),t.Y8G("ngIf",Ee.inPlaceSearch&&Ee.showViewModes),t.R7$(3),t.SpI(" ",t.bMT(9,6,"search.sidebar.open")," "),t.R7$(3),t.Y8G("ngIf",Ee.inPlaceSearch)}}function fe(me,re){if(1&me){const Ee=t.RV6();t.j41(0,"ds-search-sidebar",22),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("changeConfiguration",function(tt){t.eBV(Ee);const ht=t.XpG(2);return t.Njj(ht.changeContext(tt.context))})("changeViewMode",function(){t.eBV(Ee);const tt=t.XpG(2);return t.Njj(tt.changeViewMode)}),t.k0s()}if(2&me){let Ee;const De=t.XpG(2);t.Y8G("configurationList",De.configurationList)("configuration",t.bMT(1,12,De.currentConfiguration$))("currentScope",t.bMT(2,14,De.currentScope$))("filters",De.filtersRD$.asObservable())("refreshFilters",De.refreshFilters)("resultCount",null==(Ee=t.bMT(3,16,De.resultsRD$))||null==Ee.payload?null:Ee.payload.totalElements)("searchOptions",t.bMT(4,18,De.searchOptions$))("sortOptionsList",t.bMT(5,20,De.sortOptionsList$))("currentSortOption",t.bMT(6,22,De.currentSortOptions$))("inPlaceSearch",De.inPlaceSearch)("viewModeList",De.viewModeList)("showViewModes",De.showViewModes)}}function se(me,re){if(1&me){const Ee=t.RV6();t.j41(0,"ds-search-sidebar",23),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("toggleSidebar",function(){t.eBV(Ee);const tt=t.XpG(2);return t.Njj(tt.closeSidebar())})("changeConfiguration",function(tt){t.eBV(Ee);const ht=t.XpG(2);return t.Njj(ht.changeContext(tt.context))})("changeViewMode",function(){t.eBV(Ee);const tt=t.XpG(2);return t.Njj(tt.changeViewMode())}),t.k0s()}if(2&me){let Ee;const De=t.XpG(2);t.Y8G("configurationList",De.configurationList)("configuration",t.bMT(1,12,De.currentConfiguration$))("currentScope",t.bMT(2,14,De.currentScope$))("filters",De.filtersRD$.asObservable())("refreshFilters",De.refreshFilters)("resultCount",null==(Ee=t.bMT(3,16,De.resultsRD$))||null==Ee.payload?null:Ee.payload.totalElements)("searchOptions",t.bMT(4,18,De.searchOptions$))("sortOptionsList",t.bMT(5,20,De.sortOptionsList$))("currentSortOption",t.bMT(6,22,De.currentSortOptions$))("inPlaceSearch",De.inPlaceSearch)("viewModeList",De.viewModeList)("showViewModes",De.showViewModes)}}function ce(me,re){if(1&me&&(t.DNE(0,fe,7,24,"ds-search-sidebar",20),t.nI1(1,"async"),t.DNE(2,se,7,24,"ds-search-sidebar",21),t.nI1(3,"async")),2&me){const Ee=t.XpG();t.Y8G("ngIf",!0!==t.bMT(1,2,Ee.isXsOrSm$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,Ee.isXsOrSm$))}}function Te(me,re){if(1&me){const Ee=t.RV6();t.j41(0,"ds-search-form",24),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("submitSearch",function(tt){t.eBV(Ee);const ht=t.XpG();return t.Njj(ht.onSubmitSearch(tt))}),t.k0s(),t.j41(4,"div",25)(5,"div",26),t.nrm(6,"ds-search-labels",27),t.k0s()()}if(2&me){let Ee,De;const tt=t.XpG();t.Y8G("query",null==(Ee=t.bMT(1,8,tt.searchOptions$))?null:Ee.query)("scope",null==(De=t.bMT(2,10,tt.searchOptions$))?null:De.scope)("hideScopeInUrl",tt.hideScopeInUrl)("currentUrl",tt.searchLink)("showScopeSelector",tt.showScopeSelector)("inPlaceSearch",tt.inPlaceSearch)("searchPlaceholder",t.bMT(3,12,tt.searchFormPlaceholder)),t.R7$(6),t.Y8G("inPlaceSearch",tt.inPlaceSearch)}}let be=(()=>{class me extends C.SearchComponent{constructor(Ee,De,tt,ht,Fe,Et,Ye,pt){super(Ee,De,tt,ht,Fe,Et,Ye,pt),this.service=Ee,this.sidebarService=De,this.windowService=tt,this.searchConfigService=ht,this.routeService=Fe,this.router=Et,this.appConfig=Ye,this.platformId=pt}static{this.\u0275fac=function(De){return new(De||me)(t.rXU(m.S),t.rXU(L.o),t.rXU(_.CV),t.rXU(v.EN),t.rXU(h.v$),t.rXU(w.Ix),t.rXU(e.vQ),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:me,selectors:[["ds-base-configuration-search-page"]],standalone:!0,features:[t.Jv_([{provide:v.EN,useClass:f.g}]),t.Vt3,t.aNF],ngContentSelectors:x,decls:12,vars:9,consts:[["searchContent",""],["sidebarContent",""],["searchForm",""],["class","container",4,"ngIf"],[4,"ngIf"],[3,"id","sideBarWidth","sidebarContent",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],[3,"id","sideBarWidth","sidebarContent"],["class","col-12",4,"ngIf"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch",4,"ngIf"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-end","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails","contentChange","deselectObject","selectObject",4,"ngIf"],[3,"viewModeList","inPlaceSearch"],[3,"contentChange","deselectObject","selectObject","searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar",3,"changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"toggleSidebar","changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-form",3,"submitSearch","query","scope","hideScopeInUrl","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-12"],[3,"inPlaceSearch"]],template:function(De,tt){1&De&&(t.NAR(M),t.DNE(0,$,4,1,"div",3),t.nI1(1,"async"),t.DNE(2,X,2,1,"div",4),t.nI1(3,"async"),t.DNE(4,z,2,4,"ds-page-with-sidebar",5),t.nI1(5,"async"),t.DNE(6,ne,12,8,"ng-template",null,0,t.C5r)(8,ce,4,6,"ng-template",null,1,t.C5r)(10,Te,7,14,"ng-template",null,2,t.C5r)),2&De&&(t.Y8G("ngIf",tt.searchEnabled&&t.bMT(1,3,tt.isXsOrSm$)),t.R7$(2),t.Y8G("ngIf",!tt.showSidebar&&t.bMT(3,5,tt.initialized$)),t.R7$(2),t.Y8G("ngIf",tt.showSidebar&&t.bMT(5,7,tt.initialized$)))},dependencies:[i.bT,i.T3,p.f,D.g,R.N,T.p,A.d,S.L,i.Jj,u.h,u.D9],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}[_nghost-%COMP%]{--bs-gutter-x: .75rem}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[E.W]},changeDetection:0})}}return me})()},4021:(F,b,n)=>{"use strict";n.d(b,{M:()=>v}),n(26292),n(7581);var u=n(8886),h=(n(32487),n(54438));const m=["*"];function f(E,_){}let v=(()=>{class E extends u.J{constructor(){super(...arguments),this.inAndOutputNames=["configurationList","context","configuration","fixedFilterQuery","useCachedVersionIfAvailable","inPlaceSearch","linkType","paginationId","searchEnabled","sideBarWidth","searchFormPlaceholder","selectable","selectionConfig","showCsvExport","showSidebar","showThumbnails","showViewModes","useUniquePageId","viewModeList","showScopeSelector","trackStatistics","query","scope","hideScopeInUrl"]}getComponentName(){return"ConfigurationSearchPageComponent"}importThemedComponent(C){return n(21133)(`./${C}/app/search-page/configuration-search-page.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,32487))}static{this.\u0275fac=(()=>{let C;return function(R){return(C||(C=h.xGo(E)))(R||E)}})()}static{this.\u0275cmp=h.VBU({type:E,selectors:[["ds-configuration-search-page"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl"},standalone:!0,features:[h.Vt3,h.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(S,R){1&S&&(h.NAR(),h.DNE(0,f,0,0,"ng-template",null,0,h.C5r),h.j41(2,"div",null,1),h.SdG(4),h.k0s())},encapsulation:2})}}return E})()},22924:(F,b,n)=>{"use strict";n.d(b,{e:()=>f});var i=n(54438),t=n(82777),u=n(82522),e=n(92827);const h=["DynamicComponentLoader"];function m(v,E){}let f=(()=>{class v{constructor(_){this.themeService=_,this.subs=[],this.inputNamesDependentForComponent=[],this.inputNames=[],this.outputNames=[]}ngOnInit(){this.instantiateComponent()}ngOnChanges(_){(0,t.a4)(this.compRef)&&(this.inputNamesDependentForComponent.some(C=>(0,t.a4)(_[C])&&_[C].previousValue!==_[C].currentValue)?(this.destroyComponentInstance(),this.instantiateComponent()):this.connectInputsAndOutputs())}ngOnDestroy(){this.subs.filter(_=>(0,t.a4)(_)).forEach(_=>_.unsubscribe()),this.destroyComponentInstance()}instantiateComponent(){const _=this.getComponent(),C=this.componentViewContainerRef;C.clear(),this.compRef=C.createComponent(_,{index:0,injector:void 0}),this.connectInputsAndOutputs()}destroyComponentInstance(){(0,t.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=null)}connectInputsAndOutputs(){(0,t.hj)(this.inputNames)&&(0,t.a4)(this.compRef)&&(0,t.a4)(this.compRef.instance)&&this.inputNames.filter(_=>void 0!==this[_]).filter(_=>this[_]!==this.compRef.instance[_]).forEach(_=>{this.compRef.setInput(_,this[_])}),(0,t.hj)(this.outputNames)&&(0,t.a4)(this.compRef)&&(0,t.a4)(this.compRef.instance)&&this.outputNames.filter(_=>void 0!==this[_]).filter(_=>this[_]!==this.compRef.instance[_]).forEach(_=>{this.compRef.instance[_]=this[_]})}static{this.\u0275fac=function(C){return new(C||v)(i.rXU(u.Fs))}}static{this.\u0275cmp=i.VBU({type:v,selectors:[["ds-abstract-component-loader"]],viewQuery:function(C,S){if(1&C&&i.GBs(h,7,i.c1b),2&C){let R;i.mGM(R=i.lsd())&&(S.componentViewContainerRef=R.first)}},standalone:!0,features:[i.OA$,i.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(C,S){1&C&&i.DNE(0,m,0,0,"ng-template",1,0,i.C5r)},dependencies:[e.z],encapsulation:2})}}return v})()},92827:(F,b,n)=>{"use strict";n.d(b,{z:()=>t});var i=n(54438);let t=(()=>{class u{constructor(h){this.viewContainerRef=h}static{this.\u0275fac=function(m){return new(m||u)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:u,selectors:[["","dsDynamicComponentLoader",""]],standalone:!0})}}return u})()},47978:(F,b,n)=>{"use strict";n.d(b,{v:()=>i});var i=function(t){return t.Success="alert-success",t.Error="alert-danger",t.Info="alert-info",t.Warning="alert-warning",t}(i||{})},16292:(F,b,n)=>{"use strict";n.d(b,{C:()=>_});var i=n(49969),t=n(60177),u=n(54438),e=n(41780),h=n(50332);const m=["*"];function f(C,S){if(1&C&&(u.nrm(0,"span",4),u.nI1(1,"translate")),2&C){const R=u.XpG(2);u.Y8G("innerHTML",u.bMT(1,1,R.content),u.npT)}}function v(C,S){if(1&C){const R=u.RV6();u.j41(0,"button",5),u.bIt("click",function(){u.eBV(R);const A=u.XpG(2);return u.Njj(A.dismiss())}),u.k0s()}}function E(C,S){if(1&C&&(u.j41(0,"div",1),u.DNE(1,f,2,3,"span",2),u.SdG(2),u.DNE(3,v,1,0,"button",3),u.k0s()),2&C){const R=u.XpG();u.ZvI("alert ",R.type," alert-dismissible fade show w-100 p-3"),u.Y8G("@enterLeave",R.animate),u.R7$(),u.Y8G("ngIf",R.content),u.R7$(2),u.Y8G("ngIf",R.dismissible)}}let _=(()=>{class C{constructor(R){this.cdr=R,this.dismissible=!1,this.close=new u.bkB,this.animate="fadeIn",this.dismissed=!1}dismiss(){this.dismissible&&(this.animate="fadeOut",this.cdr.detectChanges(),setTimeout(()=>{this.dismissed=!0,this.close.emit(),this.cdr.detectChanges()},300))}static{this.\u0275fac=function(T){return new(T||C)(u.rXU(u.gRc))}}static{this.\u0275cmp=u.VBU({type:C,selectors:[["ds-alert"]],inputs:{content:"content",dismissible:"dismissible",type:"type"},outputs:{close:"close"},standalone:!0,features:[u.aNF],ngContentSelectors:m,decls:1,vars:1,consts:[["role","alert",3,"class",4,"ngIf"],["role","alert"],[3,"innerHTML",4,"ngIf"],["type","button","class","btn-close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(T,A){1&T&&(u.NAR(),u.DNE(0,E,4,6,"div",0)),2&T&&u.Y8G("ngIf",!A.dismissed)},dependencies:[t.bT,e.h,e.D9],styles:[".btn-close{opacity:.75}.btn-close:focus{outline:none!important}button.close{opacity:.6}\n"],encapsulation:2,data:{animation:[(0,i.hZ)("enterLeave",[h.ai,h.wA])]}})}}return C})()},50332:(F,b,n)=>{"use strict";n.d(b,{HT:()=>t,Ws:()=>_,Xn:()=>E,ai:()=>m,e9:()=>u,qG:()=>v,wA:()=>h});var i=n(49969);const t=(0,i.wk)("fadeIn",(0,i.iF)({opacity:1})),u=(0,i.kY)("* => fadeIn",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),e=(0,i.kY)(":enter",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),h=(0,i.wk)("fadeOut",(0,i.iF)({opacity:0})),m=(0,i.kY)("fadeIn => fadeOut",[(0,i.iF)({opacity:1}),(0,i.i0)(400,(0,i.iF)({opacity:0}))]),f=(0,i.kY)(":leave",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),v=(0,i.hZ)("fadeIn",[e]),E=(0,i.hZ)("fadeOut",[f]),_=(0,i.hZ)("fadeInOut",[e,f])},6703:(F,b,n)=>{"use strict";n.d(b,{B_:()=>e,Py:()=>h,Wk:()=>t,iP:()=>u});var i=n(49969);const t=(0,i.wk)("fromTopIn",(0,i.iF)({opacity:1,transform:"translateY(0)"})),u=(0,i.kY)("* => fromTopIn",[(0,i.iF)({opacity:0,transform:"translateY(-5%)"}),(0,i.i0)("400ms ease-in-out")]),e=(0,i.wk)("fromTopOut",(0,i.iF)({opacity:0,transform:"translateY(5%)"})),h=(0,i.kY)("fromTopIn => fromTopOut",[(0,i.iF)({opacity:1,transform:"translateY(0)"}),(0,i.i0)("300ms ease-in-out")]);(0,i.hZ)("fromTopIn",[u]),(0,i.hZ)("fromTopOut",[h]),(0,i.hZ)("fromTopInOut",[u,h])},10214:(F,b,n)=>{"use strict";n.d(b,{W:()=>t});var i=n(49969);const t=(0,i.hZ)("pushInOut",[(0,i.wk)("expanded",(0,i.iF)({left:"100%"})),(0,i.wk)("collapsed",(0,i.iF)({left:0})),(0,i.kY)("expanded <=> collapsed",(0,i.i0)(250))])},68681:(F,b,n)=>{"use strict";n.d(b,{CC:()=>u,L2:()=>e,Ru:()=>h,UE:()=>t,e$:()=>C});var i=n(49969);const t=(0,i.wk)("rotateIn",(0,i.iF)({opacity:1,transform:"rotate(0deg)"})),u=(0,i.kY)("* => rotateIn",[(0,i.iF)({opacity:0,transform:"rotate(5deg)"}),(0,i.i0)("400ms ease-in-out")]),e=(0,i.wk)("rotateOut",(0,i.iF)({opacity:0,transform:"rotate(5deg)"})),h=(0,i.kY)("rotateIn => rotateOut",[(0,i.iF)({opacity:1,transform:"rotate(0deg)"}),(0,i.i0)("400ms ease-in-out")]),C=((0,i.hZ)("rotateIn",[u]),(0,i.hZ)("rotateOut",[h]),(0,i.hZ)("rotateInOut",[u,h]),(0,i.hZ)("rotate",[(0,i.wk)("expanded",(0,i.iF)({transform:"rotate(90deg)"})),(0,i.wk)("collapsed",(0,i.iF)({transform:"rotate(0deg)"})),(0,i.kY)("expanded <=> collapsed",[(0,i.i0)("200ms")])]))},621:(F,b,n)=>{"use strict";n.d(b,{M6:()=>t,ck:()=>C,l9:()=>R,p8:()=>u,tr:()=>S});var i=n(49969);const t=(0,i.hZ)("slide",[(0,i.wk)("expanded",(0,i.iF)({height:"*"})),(0,i.wk)("collapsed",(0,i.iF)({height:0})),(0,i.wk)("void",(0,i.iF)({height:0})),(0,i.wk)("*",(0,i.iF)({height:"*"})),(0,i.kY)(":enter",[(0,i.i0)("200ms")]),(0,i.kY)(":leave",[(0,i.i0)("200ms")]),(0,i.kY)("expanded <=> collapsed",(0,i.i0)(250))]),u=(0,i.hZ)("slideMobileNav",[(0,i.wk)("expanded",(0,i.iF)({height:"*",minHeight:"*"})),(0,i.wk)("collapsed",(0,i.iF)({height:0,minHeight:0})),(0,i.kY)("expanded <=> collapsed",(0,i.i0)("300ms"))]),e=(0,i.iF)({maxWidth:"{{collapsedWidth}}"}),h=(0,i.iF)({maxWidth:"{{expandedWidth}}"}),m=(0,i.iF)({paddingLeft:"{{collapsedWidth}}"}),f=(0,i.iF)({paddingLeft:"{{expandedWidth}}"}),v=(0,i.iF)({paddingLeft:"0"}),E={params:{collapsedWidth:"*",expandedWidth:"*"}},_="300ms ease-in-out",C=(0,i.hZ)("slideSidebar",[(0,i.wk)("collapsed",e,E),(0,i.wk)("expanded",h,E),(0,i.kY)("expanded => collapsed",(0,i.i0)(_,e)),(0,i.kY)("collapsed => expanded",(0,i.i0)(_,h))]),S=(0,i.hZ)("slideSidebarPadding",[(0,i.wk)("hidden",v),(0,i.wk)("unpinned",m,E),(0,i.wk)("pinned",f,E),(0,i.kY)("hidden <=> unpinned",(0,i.i0)(_)),(0,i.kY)("hidden <=> pinned",(0,i.i0)(_)),(0,i.kY)("unpinned <=> pinned",(0,i.i0)(_))]),R=(0,i.hZ)("toggleAnimation",[(0,i.wk)("collapsed",(0,i.iF)({width:"0",opacity:"0"})),(0,i.wk)("expanded",(0,i.iF)({width:"250px",opacity:"1"})),(0,i.kY)("* => collapsed",(0,i.Os)([(0,i.i0)("300ms ease-in-out",(0,i.iF)({width:"30px"})),(0,i.i0)("300ms ease-in",(0,i.iF)({opacity:"0"}))])),(0,i.kY)("* => expanded",(0,i.Os)([(0,i.i0)("300ms ease-out",(0,i.iF)({opacity:"1"})),(0,i.i0)("300ms ease-in-out",(0,i.iF)({width:"250px"}))]))])},56292:(F,b,n)=>{"use strict";n.r(b),n.d(b,{AuthNavMenuComponent:()=>K});var i=n(60177),t=n(7901),u=n(58003),e=n(25499),h=n(41780),m=n(7673),f=n(5964),v=n(96354),E=n(195),_=n(67116),C=n(38169),S=n(50332),R=n(82777),T=n(57538),A=n(68900),p=n(75465),L=n(28619),D=n(54438);const w=X=>({"ps-3 pe-3":X});function M(X,G){if(1&X){const q=D.RV6();D.j41(0,"div",7),D.bIt("click",function(te){return D.eBV(q),D.Njj(te.stopPropagation())}),D.j41(1,"div",8,1)(3,"a",9),D.nI1(4,"translate"),D.nI1(5,"dsBrowserOnly"),D.bIt("click",function(te){return D.eBV(q),D.Njj(te.preventDefault())}),D.EFF(6),D.nI1(7,"translate"),D.k0s(),D.j41(8,"div",10),D.nI1(9,"async"),D.nI1(10,"translate"),D.nrm(11,"ds-log-in",11),D.k0s()()()}if(2&X){const q=D.sdS(2),z=D.XpG(2);D.R7$(),D.Y8G("@fadeInOut",void 0),D.R7$(2),D.BMQ("aria-label",D.bMT(4,8,"nav.login"))("data-test",D.bMT(5,10,"login-menu"))("aria-expanded",q.isOpen()),D.R7$(3),D.JRh(D.bMT(7,12,"nav.login")),D.R7$(2),D.Y8G("ngClass",D.eq3(18,w,D.bMT(9,14,z.loading))),D.BMQ("aria-label",D.bMT(10,16,"nav.login")),D.R7$(3),D.Y8G("isStandalonePage",!1)}}function x(X,G){if(1&X){const q=D.RV6();D.j41(0,"div",12)(1,"div",8,2)(3,"a",13),D.nI1(4,"translate"),D.nI1(5,"translate"),D.nI1(6,"dsBrowserOnly"),D.bIt("click",function(te){return D.eBV(q),D.Njj(te.preventDefault())}),D.nrm(7,"i",14),D.k0s(),D.j41(8,"div",15)(9,"ds-user-menu",16),D.bIt("changedRoute",function(){D.eBV(q);const te=D.sdS(2);return D.Njj(te.close())}),D.k0s()()()()}2&X&&(D.R7$(),D.Y8G("@fadeInOut",void 0),D.R7$(2),D.Y8G("title",D.bMT(4,5,"nav.user-profile-menu-and-logout")),D.BMQ("aria-label",D.bMT(5,7,"nav.user-profile-menu-and-logout"))("data-test",D.bMT(6,9,"user-menu")),D.R7$(6),D.Y8G("inExpandableNavbar",!1))}function j(X,G){if(1&X&&(D.j41(0,"div",4),D.DNE(1,M,12,20,"div",5),D.nI1(2,"async"),D.nI1(3,"async"),D.DNE(4,x,10,11,"div",6),D.nI1(5,"async"),D.nI1(6,"async"),D.k0s()),2&X){const q=D.XpG();D.R7$(),D.Y8G("ngIf",!0!==D.bMT(2,2,q.isAuthenticated)&&D.bMT(3,4,q.showAuth)),D.R7$(3),D.Y8G("ngIf",D.bMT(5,6,q.isAuthenticated)&&D.bMT(6,8,q.showAuth))}}function U(X,G){1&X&&(D.j41(0,"a",20),D.EFF(1),D.nI1(2,"translate"),D.j41(3,"span",21),D.EFF(4,"(current)"),D.k0s()()),2&X&&(D.R7$(),D.SpI(" ",D.bMT(2,1,"nav.login"),""))}function $(X,G){1&X&&(D.j41(0,"a",22),D.nI1(1,"translate"),D.nI1(2,"translate"),D.nrm(3,"i",23),D.j41(4,"span",21),D.EFF(5,"(current)"),D.k0s()()),2&X&&(D.Y8G("title",D.bMT(1,2,"nav.logout")),D.BMQ("aria-label",D.bMT(2,4,"nav.logout")))}function k(X,G){if(1&X&&(D.j41(0,"div",17),D.DNE(1,U,5,3,"a",18),D.nI1(2,"async"),D.DNE(3,$,6,6,"a",19),D.nI1(4,"async"),D.k0s()),2&X){const q=D.XpG();D.R7$(),D.Y8G("ngIf",!0!==D.bMT(2,2,q.isAuthenticated)),D.R7$(2),D.Y8G("ngIf",D.bMT(4,4,q.isAuthenticated))}}let K=(()=>{class X{constructor(q,z,te){this.store=q,this.windowService=z,this.authService=te,this.showAuth=(0,m.of)(!1),this.isMobile$=this.windowService.isMobile()}ngOnInit(){this.isAuthenticated=this.store.pipe((0,e.Lt)(C.wR)),this.loading=this.store.pipe((0,e.Lt)(C.VV)),this.user=this.authService.getAuthenticatedUserFromStore(),this.showAuth=this.store.pipe((0,e.Lt)(E.ox),(0,f.p)(q=>(0,R.EA)(q)&&(0,R.EA)(q.state)),(0,v.T)(q=>!q.state.url.startsWith(_.S0)&&!q.state.url.startsWith(_.Ru)))}static{this.\u0275fac=function(z){return new(z||X)(D.rXU(e.il),D.rXU(T.CV),D.rXU(_.uR))}}static{this.\u0275cmp=D.VBU({type:X,selectors:[["ds-base-auth-nav-menu"]],standalone:!0,features:[D.aNF],decls:4,vars:4,consts:[["mobileButtons",""],["loginDrop","ngbDropdown"],["loggedInDrop","ngbDropdown"],["class","navbar-nav me-auto","data-test","auth-nav",4,"ngIf","ngIfElse"],["data-test","auth-nav",1,"navbar-nav","me-auto"],["class","nav-item",3,"click",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"nav-item",3,"click"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["href","javascript:void(0);","role","menuitem","aria-haspopup","menu","aria-controls","loginDropdownMenu","ngbDropdownToggle","",1,"dropdownLogin","px-0.5",3,"click"],["id","loginDropdownMenu","ngbDropdownMenu","","role","menu",3,"ngClass"],[3,"isStandalonePage"],[1,"nav-item"],["href","javascript:void(0);","role","menuitem","aria-controls","user-menu-dropdown","ngbDropdownToggle","",1,"dropdownLogout","px-1",3,"click","title"],[1,"fas","fa-user-circle","fa-lg","fa-fw"],["id","logoutDropdownMenu","ngbDropdownMenu",""],[3,"changedRoute","inExpandableNavbar"],["data-test","auth-nav"],["routerLink","/login","routerLinkActive","active","class","loginLink px-0.5","role","button",4,"ngIf"],["role","button","routerLink","/logout","routerLinkActive","active","class","logoutLink px-1",3,"title",4,"ngIf"],["routerLink","/login","routerLinkActive","active","role","button",1,"loginLink","px-0.5"],[1,"sr-only"],["role","button","routerLink","/logout","routerLinkActive","active",1,"logoutLink","px-1",3,"title"],[1,"fas","fa-sign-out-alt","fa-lg","fa-fw"]],template:function(z,te){if(1&z&&(D.DNE(0,j,7,10,"div",3),D.nI1(1,"async"),D.DNE(2,k,5,6,"ng-template",null,0,D.C5r)),2&z){const Z=D.sdS(3);D.Y8G("ngIf",!0!==D.bMT(1,2,te.isMobile$))("ngIfElse",Z)}},dependencies:[i.YU,i.bT,u.zH,u.tg,u.do,u.U0,A.W,t.Wk,t.wQ,L.r,i.Jj,h.h,h.D9,p.L],styles:["#loginDropdownMenu[_ngcontent-%COMP%], #logoutDropdownMenu[_ngcontent-%COMP%]{min-width:330px;z-index:1002}#loginDropdownMenu[_ngcontent-%COMP%]{min-height:75px}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:active, .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:#0000!important}.loginLink[_ngcontent-%COMP%], .dropdownLogin[_ngcontent-%COMP%], .logoutLink[_ngcontent-%COMP%], .dropdownLogout[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}.loginLink[_ngcontent-%COMP%]:hover, .loginLink[_ngcontent-%COMP%]:focus, .dropdownLogin[_ngcontent-%COMP%]:hover, .dropdownLogin[_ngcontent-%COMP%]:focus, .logoutLink[_ngcontent-%COMP%]:hover, .logoutLink[_ngcontent-%COMP%]:focus, .dropdownLogout[_ngcontent-%COMP%]:hover, .dropdownLogout[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}.dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible).active, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible):active, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible).active:focus, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible):active:focus, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible).active, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible):active, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible).active:focus, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible):active:focus{box-shadow:unset}"],data:{animation:[S.Ws,S.Xn]}})}}return X})()},44002:(F,b,n)=>{"use strict";n.d(b,{v:()=>m});var i=n(8886),u=(n(56292),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"AuthNavMenuComponent"}importThemedComponent(E){return n(51808)(`./${E}/app/shared/auth-nav-menu/auth-nav-menu.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,56292))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-auth-nav-menu"]],standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},28619:(F,b,n)=>{"use strict";n.d(b,{r:()=>m});var i=n(54438),t=n(8886);n(51609);const e=["*"];function h(f,v){}let m=(()=>{class f extends t.J{constructor(){super(...arguments),this.changedRoute=new i.bkB,this.inAndOutputNames=["inExpandableNavbar","changedRoute"]}getComponentName(){return"UserMenuComponent"}importThemedComponent(E){return n(13361)(`./${E}/app/shared/auth-nav-menu/user-menu/user-menu.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,51609))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=i.xGo(f)))(C||f)}})()}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-user-menu"]],inputs:{inExpandableNavbar:"inExpandableNavbar"},outputs:{changedRoute:"changedRoute"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(i.NAR(),i.DNE(0,h,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return f})()},51609:(F,b,n)=>{"use strict";n.r(b),n.d(b,{UserMenuComponent:()=>w});var i=n(60177),t=n(54438),u=n(7901),e=n(25499),h=n(41780),m=n(69799),f=n(67116),v=n(38169),E=n(96526),_=n(92157),C=n(82394),S=n(61980);const R=M=>[M],T=()=>["/adminpool"],A=()=>["/jtdr"];function p(M,x){1&M&&t.nrm(0,"ds-loading")}function L(M,x){1&M&&(t.qex(0),t.nrm(1,"li",7),t.j41(2,"li",8),t.nrm(3,"ds-log-out",9),t.k0s(),t.bVm())}function D(M,x){if(1&M){const j=t.RV6();t.j41(0,"ul",2),t.nI1(1,"translate"),t.j41(2,"li",3),t.EFF(3),t.nI1(4,"async"),t.nrm(5,"br"),t.j41(6,"span",4),t.EFF(7),t.nI1(8,"async"),t.k0s()(),t.j41(9,"li",5),t.bIt("click",function(){t.eBV(j);const $=t.XpG();return t.Njj($.onMenuItemClick())}),t.j41(10,"a",6),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"li",5),t.bIt("click",function(){t.eBV(j);const $=t.XpG();return t.Njj($.onMenuItemClick())}),t.j41(14,"a",6),t.EFF(15),t.nI1(16,"translate"),t.k0s()(),t.j41(17,"li",5),t.bIt("click",function(){t.eBV(j);const $=t.XpG();return t.Njj($.onMenuItemClick())}),t.j41(18,"a",6),t.EFF(19,"Admin pool"),t.k0s()(),t.j41(20,"li",5),t.bIt("click",function(){t.eBV(j);const $=t.XpG();return t.Njj($.onMenuItemClick())}),t.j41(21,"a",6),t.EFF(22,"Jtdr"),t.k0s()(),t.j41(23,"li",5),t.bIt("click",function(){t.eBV(j);const $=t.XpG();return t.Njj($.onMenuItemClick())}),t.j41(24,"a",6),t.EFF(25),t.nI1(26,"translate"),t.k0s()(),t.DNE(27,L,4,0,"ng-container",0),t.k0s()}if(2&M){let j;const U=t.XpG();t.Y8G("ngClass",U.inExpandableNavbar?"user-menu-mobile pb-2 mb-2 border-bottom":"user-menu-dropdown"),t.BMQ("aria-label",t.bMT(1,13,"nav.user-profile-menu-and-logout")),t.R7$(3),t.SpI(" ",U.dsoNameService.getName(t.bMT(4,15,U.user$)),""),t.R7$(4),t.JRh(null==(j=t.bMT(8,17,U.user$))?null:j.email),t.R7$(3),t.Y8G("routerLink",t.eq3(25,R,U.profileRoute)),t.R7$(),t.JRh(t.bMT(12,19,"nav.profile")),t.R7$(3),t.Y8G("routerLink",t.eq3(27,R,U.mydspaceRoute)),t.R7$(),t.JRh(t.bMT(16,21,"nav.mydspace")),t.R7$(3),t.Y8G("routerLink",t.lJ4(29,T)),t.R7$(3),t.Y8G("routerLink",t.lJ4(30,A)),t.R7$(3),t.Y8G("routerLink",t.eq3(31,R,U.subscriptionsRoute)),t.R7$(),t.JRh(t.bMT(26,23,"nav.subscriptions")),t.R7$(2),t.Y8G("ngIf",!U.inExpandableNavbar)}}let w=(()=>{class M{constructor(j,U,$){this.store=j,this.authService=U,this.dsoNameService=$,this.inExpandableNavbar=!1,this.changedRoute=new t.bkB,this.mydspaceRoute=_.MYDSPACE_ROUTE,this.profileRoute=(0,m.Th)(),this.subscriptionsRoute=(0,m.gf)()}ngOnInit(){this.loading$=this.store.pipe((0,e.Lt)(v.VV)),this.user$=this.authService.getAuthenticatedUserFromStore()}onMenuItemClick(){this.changedRoute.emit()}static{this.\u0275fac=function(U){return new(U||M)(t.rXU(e.il),t.rXU(f.uR),t.rXU(E.f))}}static{this.\u0275cmp=t.VBU({type:M,selectors:[["ds-base-user-menu"]],inputs:{inExpandableNavbar:"inExpandableNavbar"},outputs:{changedRoute:"changedRoute"},standalone:!0,features:[t.aNF],decls:4,vars:6,consts:[[4,"ngIf"],["class","user-menu","role","menu","id","user-menu-dropdown",3,"ngClass",4,"ngIf"],["role","menu","id","user-menu-dropdown",1,"user-menu",3,"ngClass"],["role","presentation",1,"ds-menu-item-wrapper","username-email-wrapper"],[1,"text-muted"],["role","presentation",1,"ds-menu-item-wrapper",3,"click"],["role","menuitem","routerLinkActive","active",1,"ds-menu-item",3,"routerLink"],["aria-hidden","true",1,"dropdown-divider"],["role","presentation",1,"ds-menu-item-wrapper"],["data-test","log-out-component"]],template:function(U,$){1&U&&(t.DNE(0,p,1,0,"ds-loading",0),t.nI1(1,"async"),t.DNE(2,D,28,33,"ul",1),t.nI1(3,"async")),2&U&&(t.Y8G("ngIf",t.bMT(1,2,$.loading$)),t.R7$(2),t.Y8G("ngIf",!0!==t.bMT(3,4,$.loading$)))},dependencies:[i.bT,C.v,u.wQ,i.YU,u.Wk,S.y,i.Jj,h.h,h.D9],styles:["[_nghost-%COMP%]   ul.user-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%], [_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper.username-email-wrapper[_ngcontent-%COMP%]{padding:var(--ds-user-menu-item-vertical-padding) var(--ds-user-menu-dropdown-padding)}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%]{display:block;color:var(--ds-expandable-navbar-link-color)}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%]:hover{color:var(--ds-expandable-navbar-link-color-hover);background-color:var(--ds-user-menu-dropdown-link-background-hover)}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]{padding-top:var(--ds-user-menu-item-vertical-padding);padding-bottom:var(--ds-user-menu-item-vertical-padding)}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%], [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]{color:var(--ds-expandable-navbar-link-color)!important}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]:focus{color:var(--ds-expandable-navbar-link-background-hover)!important}"]})}}return M})()},22192:(F,b,n)=>{"use strict";n.r(b),n.d(b,{BrowseByComponent:()=>G});var i=n(60177),t=n(54438),u=n(41780),e=n(84412),h=n(84572),m=n(96354),v=(n(6238),n(22978)),E=n(56760),_=n(78448),C=n(50332),S=n(82777),R=n(79632),T=n(82394),A=n(67560),p=n(4420),L=n(31956),D=n(19798),w=n(18226);function M(q,z){if(1&q&&(t.j41(0,"h1"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&q){const te=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,te.title))}}function x(q,z){if(1&q&&(t.j41(0,"div",6),t.nrm(1,"ds-results-back-button",7),t.k0s()),2&q){const te=t.XpG(3);t.R7$(),t.Y8G("back",te.back)("buttonLabel",te.buttonLabel)}}function j(q,z){if(1&q){const te=t.RV6();t.j41(0,"div"),t.DNE(1,x,2,2,"div",4),t.nI1(2,"async"),t.j41(3,"ds-viewable-collection",5),t.bIt("prev",function(){t.eBV(te);const J=t.XpG(2);return t.Njj(J.goPrev())})("next",function(){t.eBV(te);const J=t.XpG(2);return t.Njj(J.goNext())}),t.k0s()()}if(2&q){const te=t.XpG().ngVar,Z=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("ngIf",t.bMT(2,6,Z.shouldDisplayResetButton$)),t.R7$(2),t.Y8G("config",Z.paginationConfig)("sortConfig",Z.sortConfig)("showPaginator",Z.showPaginator)("objects",te)}}function U(q,z){1&q&&(t.nrm(0,"ds-loading",8),t.nI1(1,"translate")),2&q&&t.FS9("message",t.bMT(1,1,"loading.browse-by"))}function $(q,z){1&q&&(t.nrm(0,"ds-error",8),t.nI1(1,"translate")),2&q&&t.FS9("message",t.bMT(1,1,"error.browse-by"))}function k(q,z){if(1&q&&(t.j41(0,"div",11),t.nrm(1,"ds-results-back-button",7),t.k0s()),2&q){const te=t.XpG(3);t.R7$(),t.Y8G("back",te.back)("buttonLabel",te.buttonLabel)}}function K(q,z){if(1&q&&(t.j41(0,"div"),t.DNE(1,k,2,2,"div",9),t.nI1(2,"async"),t.j41(3,"div",10),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&q){const te=t.XpG(2);t.R7$(),t.Y8G("ngIf",t.bMT(2,2,te.shouldDisplayResetButton$)),t.R7$(3),t.SpI(" ",t.bMT(5,4,"browse.empty")," ")}}function X(q,z){if(1&q&&(t.qex(0),t.DNE(1,M,3,3,"h1",1),t.nrm(2,"ds-starts-with-loader",2),t.DNE(3,j,4,8,"div",1)(4,U,2,3,"ds-loading",3)(5,$,2,3,"ds-error",3)(6,K,6,6,"div",1),t.bVm()),2&q){const te=z.ngVar,Z=t.XpG();t.R7$(),t.Y8G("ngIf",Z.displayTitle),t.R7$(),t.Y8G("paginationId",null==Z.paginationConfig?null:Z.paginationConfig.id)("startsWithOptions",Z.startsWithOptions)("type",Z.type),t.R7$(),t.Y8G("ngIf",(null==te?null:te.hasSucceeded)&&!(null!=te&&te.isLoading)&&(null==te||null==te.payload?null:te.payload.page.length)>0),t.R7$(),t.Y8G("ngIf",!te||(null==te?null:te.isLoading)),t.R7$(),t.Y8G("ngIf",null==te?null:te.hasFailed),t.R7$(),t.Y8G("ngIf",!(null!=te&&te.isLoading)&&0===(null==te||null==te.payload?null:te.payload.page.length))}}let G=(()=>{class q{constructor(te,Z,J,Q){this.injector=te,this.paginationService=Z,this.translateService=J,this.routeService=Q,this.viewMode=_.n.ListElement,this.displayTitle=!0,this.type=D.c.text,this.startsWithOptions=[],this.showPaginator=!0,this.hideGear=!1,this.prev=new t.bkB,this.next=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.previousPage$=new e.t("1"),this.buttonLabel=this.translateService.get("browse.back.all-results"),this.back=()=>{this.paginationService.updateRoute(this.paginationConfig.id,{page:+this.previousPage$.value>1?+this.previousPage$.value:1},{[this.paginationConfig.id+".return"]:null,value:null,startsWith:null})}}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}ngOnInit(){const te=this.routeService.getQueryParameterValue("startsWith"),Z=this.routeService.getQueryParameterValue("value");this.shouldDisplayResetButton$=(0,h.z)([te,Z]).pipe((0,m.T)(([J,Q])=>(0,S.a4)(J)||(0,S.a4)(Q)))}ngOnChanges(){this.sub&&this.sub.unsubscribe(),this.sub=this.routeService.getQueryParameterValue(this.paginationConfig.id+".return").subscribe(this.previousPage$)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(Z){return new(Z||q)(t.rXU(t.zZn),t.rXU(v.m),t.rXU(u.c$),t.rXU(E.v$))}}static{this.\u0275cmp=t.VBU({type:q,selectors:[["ds-base-browse-by"]],inputs:{title:"title",displayTitle:"displayTitle",objects$:"objects$",paginationConfig:"paginationConfig",sortConfig:"sortConfig",type:"type",startsWithOptions:"startsWithOptions",showPaginator:"showPaginator",hideGear:"hideGear"},outputs:{prev:"prev",next:"next",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"paginationId","startsWithOptions","type"],[3,"message",4,"ngIf"],["class","mb-2 reset",4,"ngIf"],[3,"prev","next","config","sortConfig","showPaginator","objects"],[1,"mb-2","reset"],[3,"back","buttonLabel"],[3,"message"],["class","d-inline-block mb-4 reset",4,"ngIf"],["role","alert",1,"alert","alert-info","w-100"],[1,"d-inline-block","mb-4","reset"]],template:function(Z,J){1&Z&&(t.DNE(0,X,7,8,"ng-container",0),t.nI1(1,"async")),2&Z&&t.Y8G("ngVar",t.bMT(1,1,J.objects$))},dependencies:[w.r,i.bT,p.U,A.h,T.v,R.A,i.Jj,u.h,u.D9,L.u],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}"],data:{animation:[C.qG,C.Ws]}})}}return q})()},37958:(F,b,n)=>{"use strict";n.d(b,{U:()=>v});var i=n(54438),e=(n(6238),n(19798),n(8886));n(22192);const m=["*"];function f(E,_){}let v=(()=>{class E extends e.J{constructor(){super(...arguments),this.prev=new i.bkB,this.next=new i.bkB,this.pageSizeChange=new i.bkB,this.sortDirectionChange=new i.bkB,this.inAndOutputNames=["title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","showPaginator","hideGear","prev","next","pageSizeChange","sortDirectionChange"]}getComponentName(){return"BrowseByComponent"}importThemedComponent(C){return n(60939)(`./${C}/app/shared/browse-by/browse-by.component.ts`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,22192))}static{this.\u0275fac=(()=>{let C;return function(R){return(C||(C=i.xGo(E)))(R||E)}})()}static{this.\u0275cmp=i.VBU({type:E,selectors:[["ds-browse-by"]],inputs:{title:"title",displayTitle:"displayTitle",objects$:"objects$",paginationConfig:"paginationConfig",sortConfig:"sortConfig",type:"type",startsWithOptions:"startsWithOptions",showPaginator:"showPaginator",hideGear:"hideGear"},outputs:{prev:"prev",next:"next",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(S,R){1&S&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return E})()},60456:(F,b,n)=>{"use strict";n.d(b,{A:()=>t});var i=n(54438);let t=(()=>{class u{constructor(){this.isDisabled=!1}set dsBtnDisabled(h){this.isDisabled=!!h}get disabledClass(){return this.isDisabled}handleClick(h){this.isDisabled&&(h.preventDefault(),h.stopImmediatePropagation())}handleKeydown(h){this.isDisabled&&("Enter"===h.key||"Space"===h.key)&&(h.preventDefault(),h.stopImmediatePropagation())}static{this.\u0275fac=function(m){return new(m||u)}}static{this.\u0275dir=i.FsC({type:u,selectors:[["","dsBtnDisabled",""]],hostVars:3,hostBindings:function(m,f){1&m&&i.bIt("click",function(E){return f.handleClick(E)})("keydown",function(E){return f.handleKeydown(E)}),2&m&&(i.BMQ("aria-disabled",f.isDisabled),i.AVh("disabled",f.disabledClass))},inputs:{dsBtnDisabled:"dsBtnDisabled"},standalone:!0})}}return u})()},14860:(F,b,n)=>{"use strict";n.r(b),n.d(b,{CollectionDropdownComponent:()=>q});var i=n(60177),t=n(54438),u=n(89417),e=n(41780),h=n(86820),m=n(84412),f=n(22806),v=n(7673),E=n(70152),_=n(23294),C=n(99172),S=n(25558),R=n(73028),T=n(96354),A=n(19852),p=n(96697),L=n(96526),D=n(6983),w=n(80183),M=n(82777),x=n(82394),j=n(67600);function U(z,te){if(1&z){const Z=t.RV6();t.j41(0,"div",6)(1,"input",7,0),t.nI1(3,"translate"),t.bIt("click",function(Q){return t.eBV(Z),t.Njj(Q.stopPropagation())}),t.k0s()()}if(2&z){const Z=t.XpG();t.R7$(),t.FS9("placeholder",t.bMT(3,2,"submission.sections.general.search-collection")),t.Y8G("formControl",Z.searchField)}}function $(z,te){1&z&&(t.j41(0,"li",8),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&z&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"submission.sections.general.no-collection")," "))}function k(z,te){if(1&z&&(t.j41(0,"div",14),t.EFF(1),t.nrm(2,"i",15),t.k0s()),2&z){const Z=te.$implicit;t.R7$(),t.SpI(" ",Z.name," ")}}function K(z,te){if(1&z){const Z=t.RV6();t.j41(0,"li",10),t.bIt("click",function(){const Q=t.eBV(Z).$implicit,ee=t.XpG(2);return t.Njj(ee.onSelect(Q))}),t.j41(1,"div",11),t.DNE(2,k,3,1,"div",12),t.j41(3,"div",13),t.EFF(4),t.k0s()()()}if(2&z){const Z=te.$implicit;t.FS9("title",Z.collection.name),t.R7$(2),t.Y8G("ngForOf",Z.communities),t.R7$(2),t.JRh(Z.collection.name)}}function X(z,te){if(1&z&&(t.qex(0),t.DNE(1,K,5,3,"li",9),t.bVm()),2&z){const Z=t.XpG();t.R7$(),t.Y8G("ngForOf",Z.searchListCollection)}}function G(z,te){1&z&&(t.j41(0,"li")(1,"button",16),t.nrm(2,"ds-loading",17),t.nI1(3,"translate"),t.k0s()()),2&z&&(t.R7$(2),t.FS9("message",t.bMT(3,1,"loading.default")))}let q=(()=>{class z{constructor(Z,J,Q,ee){this.changeDetectorRef=Z,this.collectionDataService=J,this.el=Q,this.dsoNameService=ee,this.searchField=new u.hs,this.scrollableBottom=!1,this.scrollableTop=!1,this.subs=[],this.searchListCollection=[],this.selectionChange=new t.bkB,this.isLoading=new m.t(!1),this.searchComplete=new t.bkB,this.theOnlySelectable=new t.bkB}onMousewheel(Z){Z.wheelDelta>0&&this.scrollableTop&&Z.preventDefault(),Z.wheelDelta<0&&this.scrollableBottom&&Z.preventDefault()}ngOnInit(){this.isLoading.next(!1),this.subs.push(this.searchField.valueChanges.pipe((0,E.B)(500),(0,_.F)(),(0,C.Z)("")).subscribe(Z=>{(0,M.a4)(Z)&&Z!==this.currentQuery&&(this.resetPagination(),this.currentQuery=Z,this.populateCollectionList(this.currentQuery,this.currentPage))})),setTimeout(()=>this.el.nativeElement.querySelector("input").focus(),0)}onScroll(Z){this.scrollableBottom=Z.target.scrollTop+Z.target.clientHeight===Z.target.scrollHeight,this.scrollableTop=0===Z.target.scrollTop}onScrollDown(){this.hasNextPage&&this.populateCollectionList(this.currentQuery,++this.currentPage)}onSelect(Z){this.isLoading.next(!0),this.selectionChange.emit(Z)}populateCollectionList(Z,J){this.isLoading.next(!0);const Q={elementsPerPage:10,currentPage:J};let ee;ee=this.entityType?this.collectionDataService.getAuthorizedCollectionByEntityType(Z,this.entityType,Q,!0,(0,j.s)("parentCommunity")):this.collectionDataService.getAuthorizedCollection(Z,Q,!0,!0,(0,j.s)("parentCommunity")),this.searchListCollection$=ee.pipe((0,w.qD)(),(0,S.n)(le=>(this.searchComplete.emit(),le.hasSucceeded&&le.payload.totalElements>0?(this.searchListCollection.length>=le.payload.totalElements&&(this.hasNextPage=!1),this.emitSelectionEvents(le),(0,f.H)(le.payload.page).pipe((0,R.Z)(ne=>ne.parentCommunity.pipe((0,w.ak)(),(0,T.T)(fe=>({communities:[{id:fe.id,name:this.dsoNameService.getName(fe)}],collection:{id:ne.id,uuid:ne.id,name:this.dsoNameService.getName(ne)}})))),(0,A.T)((ne,fe)=>[...ne,fe],[]))):(this.hasNextPage=!1,(0,v.of)([]))))),this.subs.push(this.searchListCollection$.subscribe(le=>{this.searchListCollection.push(...le),this.hideShowLoader(!1),this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(Z=>(0,M.a4)(Z)).forEach(Z=>Z.unsubscribe())}reset(){this.searchField.setValue("")}resetPagination(){this.currentPage=1,this.currentQuery="",this.hasNextPage=!0,this.searchListCollection=[]}hideShowLoader(Z){this.isLoading.next(Z)}emitSelectionEvents(Z){if(1===Z.payload.totalElements){const J=Z.payload.page[0];Z.payload.page[0].parentCommunity.pipe((0,w.ak)(),(0,p.s)(1)).subscribe(Q=>{this.theOnlySelectable.emit({communities:[{id:Q.id,name:this.dsoNameService.getName(Q),uuid:Q.id}],collection:{id:J.id,uuid:J.id,name:this.dsoNameService.getName(J)}})})}}static{this.\u0275fac=function(J){return new(J||z)(t.rXU(t.gRc),t.rXU(D.CollectionDataService),t.rXU(t.aKT),t.rXU(L.f))}}static{this.\u0275cmp=t.VBU({type:z,selectors:[["ds-base-collection-dropdown"]],hostBindings:function(J,Q){1&J&&t.bIt("mousewheel",function(le){return Q.onMousewheel(le)})},inputs:{entityType:"entityType"},outputs:{selectionChange:"selectionChange",searchComplete:"searchComplete",theOnlySelectable:"theOnlySelectable"},standalone:!0,features:[t.aNF],decls:8,vars:13,consts:[["searchFieldEl",""],["class","mb-3 w-100 pe-2 ps-2 my-2",4,"ngIf"],[1,"dropdown-divider","m-0"],["role","menu","infiniteScroll","",1,"scrollable-menu","p-0","m-0",3,"scroll","scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","fromRoot","scrollWindow"],["class","dropdown-item disabled","role","menuitem",4,"ngIf"],[4,"ngIf"],[1,"mb-3","w-100","pe-2","ps-2","my-2"],["type","search",1,"form-control","w-100",3,"click","placeholder","formControl"],["role","menuitem",1,"dropdown-item","disabled"],["class","dropdown-item collection-item","role","menuitem",3,"title","click",4,"ngFor","ngForOf"],["role","menuitem",1,"dropdown-item","collection-item",3,"click","title"],[1,"list-unstyled","mb-0"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-primary","fw-bold"],[1,"list-item","text-truncate","text-secondary"],["aria-hidden","true",1,"fa","fa-level-down"],[1,"dropdown-item","disabled"],[3,"message"]],template:function(J,Q){1&J&&(t.DNE(0,U,4,4,"div",1),t.nrm(1,"div",2),t.j41(2,"ul",3),t.bIt("scroll",function(le){return Q.onScroll(le)})("scrolled",function(){return Q.onScrollDown()}),t.DNE(3,$,3,3,"li",4),t.nI1(4,"async"),t.DNE(5,X,2,1,"ng-container",5)(6,G,4,3,"li",5),t.nI1(7,"async"),t.k0s()),2&J&&(t.Y8G("ngIf",Q.searchField),t.R7$(2),t.Y8G("infiniteScrollDistance",1.5)("infiniteScrollThrottle",0)("infiniteScrollUpDistance",1.5)("fromRoot",!0)("scrollWindow",!1),t.R7$(),t.Y8G("ngIf",0===(null==Q.searchListCollection?null:Q.searchListCollection.length)&&!0!==t.bMT(4,9,Q.isLoading)),t.R7$(2),t.Y8G("ngIf",(null==Q.searchListCollection?null:Q.searchListCollection.length)>0),t.R7$(),t.Y8G("ngIf",t.bMT(7,11,Q.isLoading)))},dependencies:[i.bT,u.YN,u.me,u.BC,u.X1,u.l_,h.eO,h.DP,i.pM,x.v,i.Jj,e.h,e.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}li[_ngcontent-%COMP%]:not(:last-of-type), .dropdown-divider[_ngcontent-%COMP%]{border-top:none;border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#collectionControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;left:0!important;box-shadow:var(--bs-btn-focus-box-shadow)}"]})}}return z})()},90934:(F,b,n)=>{"use strict";n.d(b,{m:()=>m});var i=n(54438),t=n(8886);n(14860);const e=["*"];function h(f,v){}let m=(()=>{class f extends t.J{constructor(){super(...arguments),this.searchComplete=new i.bkB,this.theOnlySelectable=new i.bkB,this.selectionChange=new i.bkB,this.inAndOutputNames=["entityType","searchComplete","theOnlySelectable","selectionChange"]}getComponentName(){return"CollectionDropdownComponent"}importThemedComponent(E){return n(80882)(`./${E}/app/shared/collection-dropdown/collection-dropdown.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,14860))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=i.xGo(f)))(C||f)}})()}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-collection-dropdown"]],inputs:{entityType:"entityType"},outputs:{searchComplete:"searchComplete",theOnlySelectable:"theOnlySelectable",selectionChange:"selectionChange"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(i.NAR(),i.DNE(0,h,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return f})()},9284:(F,b,n)=>{"use strict";n.d(b,{M:()=>f});var i=n(60177),t=n(54438),u=n(41780),e=n(58003);const h=v=>({dsoName:v});function m(v,E){if(1&v&&t.nrm(0,"i"),2&v){const _=t.XpG();t.HbH(_.confirmIcon)}}let f=(()=>{class v{constructor(_){this.activeModal=_,this.brandColor="primary",this.response=new t.bkB}confirmPressed(){this.response.emit(!0),this.close()}cancelPressed(){this.response.emit(!1),this.close()}close(){this.activeModal.close()}static{this.\u0275fac=function(C){return new(C||v)(t.rXU(e.Lw))}}static{this.\u0275cmp=t.VBU({type:v,selectors:[["ds-confirmation-modal"]],inputs:{headerLabel:"headerLabel",infoLabel:"infoLabel",cancelLabel:"cancelLabel",confirmLabel:"confirmLabel",confirmIcon:"confirmIcon",brandColor:"brandColor",name:"name"},outputs:{response:"response"},standalone:!0,features:[t.aNF],decls:18,vars:28,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button","aria-label","Cancel",1,"cancel","btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],["type","button","aria-label","Confirm","ngbAutofocus","",3,"click"],[3,"class",4,"ngIf"]],template:function(C,S){1&C&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return S.close()}),t.k0s()(),t.j41(5,"div",2)(6,"p"),t.EFF(7),t.nI1(8,"translate"),t.k0s()(),t.j41(9,"div",3)(10,"button",4),t.bIt("click",function(){return S.cancelPressed()}),t.nrm(11,"i",5),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.j41(14,"button",6),t.bIt("click",function(){return S.confirmPressed()}),t.DNE(15,m,1,3,"i",7),t.EFF(16),t.nI1(17,"translate"),t.k0s()()()),2&C&&(t.R7$(2),t.SpI("",t.i5U(3,8,S.headerLabel,t.eq3(20,h,S.name))," "),t.R7$(5),t.JRh(t.i5U(8,11,S.infoLabel,t.eq3(22,h,S.name))),t.R7$(5),t.SpI(" ",t.i5U(13,14,S.cancelLabel,t.eq3(24,h,S.name))," "),t.R7$(2),t.ZvI("confirm btn btn-",S.brandColor,""),t.R7$(),t.Y8G("ngIf",S.confirmIcon),t.R7$(),t.SpI(" ",t.i5U(17,17,S.confirmLabel,t.eq3(26,h,S.name))," "))},dependencies:[i.bT,u.h,u.D9],encapsulation:2})}}return v})()},55116:(F,b,n)=>{"use strict";n.d(b,{C:()=>E,Ed:()=>f,JD:()=>v,Ln:()=>u,Xd:()=>h,eE:()=>e,y5:()=>t});var i=n(91e3);const t={CONTEXT_HELP_TOGGLE_ICONS:(0,i.N)("dspace/context-help/CONTEXT_HELP_TOGGLE_ICONS"),CONTEXT_HELP_ADD:(0,i.N)("dspace/context-help/CONTEXT_HELP_ADD"),CONTEXT_HELP_REMOVE:(0,i.N)("dspace/context-help/CONTEXT_HELP_REMOVE"),CONTEXT_HELP_TOGGLE_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_TOGGLE_TOOLTIP"),CONTEXT_HELP_SHOW_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_SHOW_TOOLTIP"),CONTEXT_HELP_HIDE_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_HIDE_TOOLTIP")};class u{constructor(){this.type=t.CONTEXT_HELP_TOGGLE_ICONS}}class e{constructor(C){this.type=t.CONTEXT_HELP_ADD,this.model=C}}class h{constructor(C){this.type=t.CONTEXT_HELP_REMOVE,this.id=C}}class m{constructor(C){this.id=C}}class f extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_TOGGLE_TOOLTIP}}class v extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_SHOW_TOOLTIP}}class E extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_HIDE_TOOLTIP}}},48674:(F,b,n)=>{"use strict";n.d(b,{G:()=>x});var i=n(40188),t=n(60177),u=n(58003),e=n(84412),h=n(84572),m=n(23294),f=n(73028),v=n(96354),E=n(82777),_=n(54438),C=n(41780);const S=["tooltip"],R=(j,U)=>({"ds-context-help-icon fas fa-question-circle shadow-sm":!0,"ds-context-help-icon-right":j,"ds-context-help-icon-left":U});function T(j,U){if(1&j&&(_.qex(0),_.j41(1,"a",7),_.EFF(2),_.k0s(),_.bVm()),2&j){const $=_.XpG().$implicit;_.R7$(),_.FS9("href",$.href,_.B4B),_.R7$(),_.JRh($.text)}}function A(j,U){if(1&j&&(_.qex(0),_.EFF(1),_.bVm()),2&j){const $=_.XpG().$implicit;_.R7$(),_.SpI(" ",$," ")}}function p(j,U){if(1&j&&(_.qex(0),_.DNE(1,T,3,2,"ng-container",6)(2,A,2,1,"ng-container",6),_.bVm()),2&j){const $=U.$implicit;_.R7$(),_.Y8G("ngIf",$.href),_.R7$(),_.Y8G("ngIf",void 0===$.href)}}function L(j,U){if(1&j&&(_.j41(0,"div",4),_.DNE(1,p,3,2,"ng-container",5),_.nI1(2,"async"),_.k0s()),2&j){const $=_.XpG();_.R7$(),_.Y8G("ngForOf",_.bMT(2,1,$.parsedContent$))}}function D(j,U){if(1&j){const $=_.RV6();_.j41(0,"i",8,1),_.bIt("click",function(){_.eBV($);const K=_.XpG();return _.Njj(K.onClick())}),_.k0s()}if(2&j){const $=_.XpG(),k=_.sdS(1);_.Y8G("ngClass",_.l_i(3,R,"left"!==$.iconPlacement,"left"===$.iconPlacement))("ngbTooltip",k)("placement",$.tooltipPlacement)}}function w(j,U){1&j&&_.eu8(0)}let M=(()=>{class j{set dontParseLinks($){this.dontParseLinks$.next($)}set content($){this.content$.next($)}constructor($,k){this.translateService=$,this.contextHelpService=k,this.tooltipPlacement=[],this.iconPlacement="left",this.dontParseLinks$=new e.t(!1),this.content$=new e.t(void 0),this.subs=[]}ngOnInit(){this.parsedContent$=(0,h.z)([this.content$.pipe((0,m.F)(),(0,f.Z)($=>this.translateService.get($))),this.dontParseLinks$.pipe((0,m.F)())]).pipe((0,v.T)(([$,k])=>k?[$]:this.parseLinks($))),this.shouldShowIcon$=this.contextHelpService.shouldShowIcons$()}set setTooltip($){this.tooltip=$,this.clearSubs(),void 0!==this.tooltip&&(this.subs=[this.contextHelpService.getContextHelp$(this.id).pipe((0,E.Az)()).subscribe(k=>{k.isTooltipVisible&&!this.tooltip.isOpen()?this.tooltip.open():!k.isTooltipVisible&&this.tooltip.isOpen()&&this.tooltip.close()}),this.tooltip.shown.subscribe(()=>{this.contextHelpService.showTooltip(this.id)}),this.tooltip.hidden.subscribe(()=>{this.contextHelpService.hideTooltip(this.id)})])}ngOnDestroy(){this.clearSubs()}onClick(){this.contextHelpService.toggleTooltip(this.id)}parseLinks($){const K=/^\[([^\]]*)\]\(([^\)]*)\)$/;return $.match(/[^\[]+|\[([^\]]*)\]\(([^\)]*)\)/g).map(X=>{const G=X.match(K);return null===G?X:{href:G[2],text:G[1]}})}clearSubs(){this.subs.forEach($=>$.unsubscribe()),this.subs=[]}static{this.\u0275fac=function(k){return new(k||j)(_.rXU(C.c$),_.rXU(i.O))}}static{this.\u0275cmp=_.VBU({type:j,selectors:[["ds-context-help-wrapper"]],viewQuery:function(k,K){if(1&k&&_.GBs(S,5),2&k){let X;_.mGM(X=_.lsd())&&(K.setTooltip=X.first)}},inputs:{templateRef:"templateRef",id:"id",tooltipPlacement:"tooltipPlacement",iconPlacement:"iconPlacement",dontParseLinks:"dontParseLinks",content:"content"},standalone:!0,features:[_.aNF],decls:5,vars:4,consts:[["help",""],["tooltip","ngbTooltip"],["autoClose","outside","triggers","manual","container","body",3,"ngClass","ngbTooltip","placement","click",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"preserve-line-breaks","ds-context-help-content"],[4,"ngFor","ngForOf"],[4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href"],["autoClose","outside","triggers","manual","container","body",3,"click","ngClass","ngbTooltip","placement"]],template:function(k,K){1&k&&(_.DNE(0,L,3,3,"ng-template",null,0,_.C5r)(2,D,2,6,"i",2),_.nI1(3,"async"),_.DNE(4,w,1,0,"ng-container",3)),2&k&&(_.R7$(2),_.Y8G("ngIf",_.bMT(3,2,K.shouldShowIcon$)),_.R7$(2),_.Y8G("ngTemplateOutlet",K.templateRef))},dependencies:[t.pM,t.bT,t.YU,u.n8,u.md,t.T3,t.Jj],styles:["[_nghost-%COMP%]{position:relative}.ds-context-help-icon[_ngcontent-%COMP%]{position:absolute;top:0;cursor:pointer;color:var(--bs-info);background-color:var(--bs-white);font-size:16px;line-height:1;border-radius:50%}.ds-context-help-icon-left[_ngcontent-%COMP%]{left:var(--ds-context-x-offset)}.ds-context-help-icon-right[_ngcontent-%COMP%]{right:calc(-1 * var(--ds-context-help-icon-size))}  .tooltip-inner{width:var(--ds-context-help-tooltip-width);max-width:var(--ds-context-help-tooltip-width)}  .tooltip-inner a{color:var(--ds-context-help-tooltip-link-color);text-decoration:underline}"]})}}return j})(),x=(()=>{class j{constructor($,k,K){this.templateRef=$,this.viewContainerRef=k,this.contextHelpService=K,this.mostRecentId=void 0}ngOnChanges(){this.clearMostRecentId(),this.mostRecentId=this.dsContextHelp.id,this.contextHelpService.add({id:this.dsContextHelp.id,isTooltipVisible:!1}),void 0===this.wrapper&&(this.wrapper=this.viewContainerRef.createComponent(M)),this.wrapper.setInput("templateRef",this.templateRef),this.wrapper.setInput("content",this.dsContextHelp.content),this.wrapper.setInput("id",this.dsContextHelp.id),this.wrapper.setInput("tooltipPlacement",this.dsContextHelp.tooltipPlacement),this.wrapper.setInput("iconPlacement",this.dsContextHelp.iconPlacement)}ngOnDestroy(){this.clearMostRecentId(),(0,E.a4)(this.wrapper)&&(this.wrapper.destroy(),this.wrapper=void 0)}clearMostRecentId(){void 0!==this.mostRecentId&&this.contextHelpService.remove(this.mostRecentId)}static{this.\u0275fac=function(k){return new(k||j)(_.rXU(_.C4Q),_.rXU(_.c1b),_.rXU(i.O))}}static{this.\u0275dir=_.FsC({type:j,selectors:[["","dsContextHelp",""]],inputs:{dsContextHelp:"dsContextHelp"},standalone:!0,features:[_.OA$]})}}return j})()},40188:(F,b,n)=>{"use strict";n.d(b,{O:()=>E});var i=n(25499),t=n(96354),u=n(55116),e=n(54438);const h=(0,i.UX)("contextHelp"),m=(0,i.Mz)(h,_=>_.allIconsVisible),v=(0,i.Mz)(h,_=>_.models);let E=(()=>{class _{constructor(S){this.store=S}shouldShowIcons$(){return this.store.pipe((0,i.Lt)(m))}getContextHelp$(S){return this.store.pipe((0,i.Lt)((_=>(0,i.Mz)(h,C=>C.models[_]))(S)))}tooltipCount$(){return this.store.pipe((0,i.Lt)(v)).pipe((0,t.T)(S=>Object.keys(S).length))}toggleIcons(){this.store.dispatch(new u.Ln)}add(S){this.store.dispatch(new u.eE(S))}remove(S){this.store.dispatch(new u.Xd(S))}toggleTooltip(S){this.store.dispatch(new u.Ed(S))}showTooltip(S){this.store.dispatch(new u.JD(S))}hideTooltip(S){this.store.dispatch(new u.C(S))}static{this.\u0275fac=function(R){return new(R||_)(e.KVO(i.il))}}static{this.\u0275prov=e.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},49844:(F,b,n)=>{"use strict";n.d(b,{B:()=>t});var i=n(54438);let t=(()=>{class u{static{this.\u0275fac=function(m){return new(m||u)}}static{this.\u0275prov=i.jDH({token:u,factory:u.\u0275fac})}}return u})()},12866:(F,b,n)=>{"use strict";function i(D){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(D)}function t(D,w){if(w.length<D)throw new TypeError(D+" argument"+(D>1?"s":"")+" required, but only "+w.length+" present")}n.d(b,{Sd:()=>C,$T:()=>A,z5:()=>_,vd:()=>p,PR:()=>R,zX:()=>L});var m=n(56106),f=n(83278),v=n.n(f),E=n(82777);function _(D){return v()(D)&&D.hasOwnProperty("day")&&D.hasOwnProperty("month")&&D.hasOwnProperty("year")}function C(D){const w=D instanceof Date?D:S("string"==typeof D?R(D):D);return(0,m.formatInTimeZone)(w,"UTC","yyyy-MM-dd'T'HH:mm:ss'Z'")}function S(D){return new Date(Date.UTC(D.year,D.month-1,D.day))}function R(D){return function T(D){return(0,E.Tn)(D)&&(D=new Date),{year:D.getUTCFullYear(),month:D.getUTCMonth()+1,day:D.getUTCDate()}}(new Date(D))}function A(D){const w=D instanceof Date?D:S(D);return(0,m.formatInTimeZone)(w,"UTC","yyyy-MM-dd")}function p(D){return!(0,E.Tn)(D)&&function h(D){if(t(1,arguments),!function u(D){return t(1,arguments),D instanceof Date||"object"===i(D)&&"[object Date]"===Object.prototype.toString.call(D)}(D)&&"number"!=typeof D)return!1;var w=function e(D){t(1,arguments);var w=Object.prototype.toString.call(D);return D instanceof Date||"object"===i(D)&&"[object Date]"===w?new Date(D.getTime()):"number"==typeof D||"[object Number]"===w?new Date(D):(("string"==typeof D||"[object String]"===w)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}(D);return!isNaN(Number(w))}(new Date(D))}function L(D){return p(D)?new Date(D).getUTCFullYear():null}},17807:(F,b,n)=>{"use strict";n.d(b,{T:()=>C});var i=n(60177),t=n(65007),u=n(30458),e=n(39548),h=n(19340),m=n(82522),f=n(54438),v=n(7901);function E(S,R){1&S&&f.eu8(0)}function _(S,R){if(1&S&&(f.j41(0,"div",2),f.DNE(1,E,1,0,"ng-container",3),f.nI1(2,"async"),f.nI1(3,"async"),f.k0s()),2&S){let T,A;const p=R.$implicit,L=f.XpG();f.R7$(),f.Y8G("ngComponentOutlet",null==(T=f.bMT(2,2,L.sectionMap$).get(p.id))?null:T.component)("ngComponentOutletInjector",null==(A=f.bMT(3,4,L.sectionMap$).get(p.id))?null:A.injector)}}let C=(()=>{class S extends u.Z{constructor(T,A,p,L,D){super(T,A,p,L,D),this.menuService=T,this.injector=A,this.authorizationService=p,this.route=L,this.themeService=D,this.menuID=h.D.DSO_EDIT}static{this.\u0275fac=function(A){return new(A||S)(f.rXU(e.$),f.rXU(f.zZn),f.rXU(t.AuthorizationDataService),f.rXU(v.nX),f.rXU(m.Fs))}}static{this.\u0275cmp=f.VBU({type:S,selectors:[["ds-dso-edit-menu"]],standalone:!0,features:[f.Vt3,f.aNF],decls:3,vars:3,consts:[[1,"dso-edit-menu","d-flex"],["class","ms-1",4,"ngFor","ngForOf"],[1,"ms-1"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(A,p){1&A&&(f.j41(0,"div",0),f.DNE(1,_,4,6,"div",1),f.nI1(2,"async"),f.k0s()),2&A&&(f.R7$(),f.Y8G("ngForOf",f.bMT(2,1,p.sections)))},dependencies:[i.pM,i.OI,i.Jj]})}}return S})()},76052:(F,b,n)=>{"use strict";n.d(b,{e:()=>X});var i=n(60177),t=n(89417),u=n(41780),e=n(86820),h=n(96354),m=n(96526),f=n(6983),v=n(96820),E=n(1716),_=n(80183),C=n(78655),S=n(82777),R=n(59458),T=n(82394),A=n(39806),p=n(77537),L=n(17191),D=n(67600),w=n(73183),M=n(54438);const x=G=>({type:G}),j=G=>({"bg-primary":G});function U(G,q){if(1&G&&(M.j41(0,"button",10),M.EFF(1),M.nI1(2,"translate"),M.k0s()),2&G){const z=M.XpG(2);M.R7$(),M.SpI(" ",M.i5U(2,1,"dso-selector.no-results",M.eq3(4,x,z.typesString))," ")}}function $(G,q){if(1&G){const z=M.RV6();M.j41(0,"button",11,0),M.bIt("click",function(){const Z=M.eBV(z).$implicit,J=M.XpG(2);return M.Njj(J.onClick(Z))}),M.nrm(2,"ds-listable-object-component-loader",12),M.k0s()}if(2&G){const z=q.$implicit,te=M.XpG(2);M.FS9("title",te.getName(z)),M.Y8G("ngClass",M.eq3(6,j,z.id===te.currentDSOId)),M.R7$(2),M.Y8G("object",z)("viewMode",te.viewMode)("linkType",te.linkTypes.None)("context",te.getContext(z.id))}}function k(G,q){if(1&G&&(M.qex(0),M.DNE(1,U,3,6,"button",8),M.nI1(2,"async"),M.DNE(3,$,3,8,"button",9),M.nI1(4,"async"),M.bVm()),2&G){const z=M.XpG();M.R7$(),M.Y8G("ngIf",0===M.bMT(2,2,z.listEntries$).length),M.R7$(2),M.Y8G("ngForOf",M.bMT(4,4,z.listEntries$))}}function K(G,q){1&G&&(M.j41(0,"button",13),M.nI1(1,"translate"),M.nrm(2,"ds-loading",14),M.k0s()),2&G&&(M.FS9("title",M.bMT(1,2,"loading.default")),M.R7$(2),M.Y8G("showMessage",!1))}let X=(()=>{class G extends w.x{constructor(z,te,Z,J,Q){super(z,Z,J,Q),this.searchService=z,this.collectionDataService=te,this.notifcationsService=Z,this.translate=J,this.dsoNameService=Q}getCurrentDSOQuery(){return this.currentDSOId}search(z,te,Z=!0){let J=null;const Q={currentPage:te,elementsPerPage:this.defaultPagination.pageSize};return J=this.entityType?this.collectionDataService.getAuthorizedCollectionByEntityType(z,this.entityType,Q):this.collectionDataService.getAuthorizedCollection(z,Q,Z,!1,(0,D.s)("parentCommunity")),J.pipe((0,_.qD)(),(0,h.T)(ee=>Object.assign(new E.j(null,null,null,null),ee,{payload:(0,S.a4)(ee.payload)?(0,v.g)(ee.payload.pageInfo,ee.payload.page.map(le=>Object.assign(new p.A,{indexableObject:le}))):null})))}static{this.\u0275fac=function(te){return new(te||G)(M.rXU(C.S),M.rXU(f.CollectionDataService),M.rXU(A.I),M.rXU(u.c$),M.rXU(m.f))}}static{this.\u0275cmp=M.VBU({type:G,selectors:[["ds-authorized-collection-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[M.Vt3,M.aNF],decls:10,vars:23,consts:[["listEntryElement",""],[1,"mb-3","w-100","pe-2","ps-2"],["type","search","ngbAutofocus","",1,"form-control",3,"click","keyup.enter","placeholder","formControl"],[1,"dropdown-divider"],[1,"scrollable-menu","list-group",3,"id"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot"],[4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry",3,"title",4,"ngIf"],["class","list-group-item list-group-item-action border-0 disabled",4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry","dsHoverClass","ds-hover",3,"ngClass","title","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","border-0","disabled"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"click","ngClass","title"],[3,"object","viewMode","linkType","context"],[1,"list-group-item","list-group-item-action","border-0","list-entry",3,"title"],[3,"showMessage"]],template:function(te,Z){1&te&&(M.j41(0,"div",1)(1,"input",2),M.nI1(2,"translate"),M.nI1(3,"translate"),M.bIt("click",function(Q){return Q.stopPropagation()})("keyup.enter",function(){return Z.selectSingleResult()}),M.k0s()(),M.nrm(4,"div",3),M.j41(5,"div",4)(6,"div",5),M.bIt("scrolled",function(){return Z.onScrollDown()}),M.DNE(7,k,5,6,"ng-container",6),M.nI1(8,"async"),M.DNE(9,K,3,4,"button",7),M.k0s()()),2&te&&(M.R7$(),M.FS9("placeholder",M.i5U(2,11,"dso-selector.placeholder",M.eq3(19,x,Z.typesString))),M.Y8G("formControl",Z.input),M.BMQ("aria-label",M.i5U(3,14,"dso-selector.placeholder",M.eq3(21,x,Z.typesString))),M.R7$(4),M.Mz_("id","scrollable-menu-dso-selector-",Z.randomSeed,""),M.R7$(),M.Y8G("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer","#scrollable-menu-dso-selector-"+Z.randomSeed)("fromRoot",!0),M.R7$(),M.Y8G("ngIf",M.bMT(8,17,Z.listEntries$)),M.R7$(2),M.Y8G("ngIf",Z.loading))},dependencies:[t.YN,t.me,t.BC,t.X1,t.l_,e.eO,e.DP,i.bT,i.pM,R.k,i.YU,L.v,T.v,i.Jj,u.h,u.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow-x:hidden}"]})}}return G})()},73183:(F,b,n)=>{"use strict";n.d(b,{x:()=>fe});var i=n(60177),t=n(54438),u=n(89417),e=n(41780),h=n(86820),m=n(84412),f=n(7673),v=n(84572),E=n(70152),_=n(99172),C=n(88141),S=n(25558),R=n(96354),T=n(96526),p=(n(6238),n(96820)),L=n(26292),D=n(80183),w=n(78655),M=n(78448),x=n(82777),j=n(59458),U=n(82394),$=n(3050),k=n(39806),K=n(7581),X=n(17191),G=n(51805),q=n(83851),z=n(33550);const te=["listEntryElement"],Z=se=>({type:se}),J=se=>({"bg-primary":se});function Q(se,ce){if(1&se&&(t.j41(0,"button",10),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&se){const Te=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(2,1,"dso-selector.no-results",t.eq3(4,Z,Te.typesString))," ")}}function ee(se,ce){if(1&se){const Te=t.RV6();t.j41(0,"button",11,0),t.bIt("click",function(){const me=t.eBV(Te).$implicit,re=t.XpG(2);return t.Njj(re.onClick(me))}),t.nrm(2,"ds-listable-object-component-loader",12),t.k0s()}if(2&se){const Te=ce.$implicit,be=t.XpG(2);t.FS9("title",be.getName(Te)),t.Y8G("ngClass",t.eq3(6,J,Te.id===be.currentDSOId)),t.R7$(2),t.Y8G("object",Te)("viewMode",be.viewMode)("linkType",be.linkTypes.None)("context",be.getContext(Te.id))}}function le(se,ce){if(1&se&&(t.qex(0),t.DNE(1,Q,3,6,"button",8),t.nI1(2,"async"),t.DNE(3,ee,3,8,"button",9),t.nI1(4,"async"),t.bVm()),2&se){const Te=t.XpG();t.R7$(),t.Y8G("ngIf",0===t.bMT(2,2,Te.listEntries$).length),t.R7$(2),t.Y8G("ngForOf",t.bMT(4,4,Te.listEntries$))}}function ne(se,ce){1&se&&(t.j41(0,"button",13),t.nI1(1,"translate"),t.nrm(2,"ds-loading",14),t.k0s()),2&se&&(t.FS9("title",t.bMT(1,2,"loading.default")),t.R7$(2),t.Y8G("showMessage",!1))}let fe=(()=>{class se{constructor(Te,be,me,re){this.searchService=Te,this.notifcationsService=be,this.translate=me,this.dsoNameService=re,this.viewMode=M.n.ListElement,this.searchBoxId=null,this.onSelect=new t.bkB,this.input=new u.hs,this.defaultPagination={id:"dso-selector",currentPage:1,pageSize:10},this.listEntries$=new m.t(null),this.currentPage$=new m.t(1),this.hasNextPage=!1,this.loading=!1,this.debounceTime=500,this.linkTypes=K.n,this.subs=[],this.randomSeed=Math.random().toString(36).substring(2,6)}ngOnInit(){let Te;this.typesString=this.types.map(be=>this.translate.instant(`dso-selector.placeholder.type.${be.toString().toLowerCase()}`)).join(", "),Te=(0,x.hj)(this.currentDSOId)?this.search(this.getCurrentDSOQuery(),1).pipe((0,D.ak)()):(0,f.of)((0,p.g)(void 0,[])),this.subs.push((0,v.z)(Te,this.input.valueChanges.pipe((0,E.B)(this.debounceTime),(0,_.Z)(""),(0,C.M)(()=>this.currentPage$.next(1))),this.currentPage$).pipe((0,S.n)(([be,me,re])=>(this.loading=!0,1===re&&this.listEntries$.next(null),this.search(me,re).pipe((0,R.T)(Ee=>(Ee.hasSucceeded?Ee.payload.page=[...(0,x.Im)(me)&&1===re?be.page:[],...Ee.payload.page.filter(De=>(0,x.hj)(me)||De.indexableObject.id!==this.currentDSOId)]:Ee.hasFailed&&this.notifcationsService.error(this.translate.instant("dso-selector.error.title",{type:this.typesString}),Ee.errorMessage),Ee)))))).subscribe(be=>{this.updateList(be)}))}updateList(Te){this.loading=!1;const be=this.listEntries$.getValue();Te.hasSucceeded?((0,x.Tn)(be)?this.listEntries$.next(Te.payload.page):this.listEntries$.next([...be,...Te.payload.page]),this.hasNextPage=Te.payload.totalElements>this.listEntries$.getValue().length):(this.listEntries$.next([...(0,x.Tn)(be)?[]:this.listEntries$.getValue(),new G.t($._.Error,"dso-selector.results-could-not-be-retrieved",q.t.value)]),this.hasNextPage=!1)}getCurrentDSOQuery(){return`search.resourceid:${this.currentDSOId}`}search(Te,be,me=!0){const re=Te?null:this.sort;return this.searchService.search(new z.C({query:Te,dsoTypes:this.types,pagination:Object.assign({},this.defaultPagination,{currentPage:be}),sort:re}),null,me).pipe((0,D.qD)())}onScrollDown(){this.hasNextPage&&!this.loading&&this.currentPage$.next(this.currentPage$.value+1)}selectSingleResult(){this.listElements.length>0&&this.listElements.first.nativeElement.click()}getContext(Te){return this.context===L.o.ScopeSelectorModal?Te===this.currentDSOId?L.o.ScopeSelectorModalCurrent:L.o.ScopeSelectorModal:Te===this.currentDSOId?L.o.SideBarSearchModalCurrent:L.o.SideBarSearchModal}ngOnDestroy(){this.subs.filter(Te=>(0,x.a4)(Te)).forEach(Te=>Te.unsubscribe())}onClick(Te){(0,x.a4)(Te.indexableObject)?this.onSelect.emit(Te.indexableObject):(this.listEntries$.value.pop(),this.hasNextPage=!0,this.search(this.input.value?this.input.value:"",this.currentPage$.value,!1).pipe((0,D.qD)()).subscribe(be=>{this.updateList(be)}))}getName(Te){return(0,x.a4)(Te.indexableObject)?this.dsoNameService.getName(Te.indexableObject):null}static{this.\u0275fac=function(be){return new(be||se)(t.rXU(w.S),t.rXU(k.I),t.rXU(e.c$),t.rXU(T.f))}}static{this.\u0275cmp=t.VBU({type:se,selectors:[["ds-dso-selector"]],viewQuery:function(be,me){if(1&be&&t.GBs(te,5),2&be){let re;t.mGM(re=t.lsd())&&(me.listElements=re)}},inputs:{context:"context",currentDSOId:"currentDSOId",types:"types",sort:"sort",searchBoxId:"searchBoxId"},outputs:{onSelect:"onSelect"},standalone:!0,features:[t.aNF],decls:10,vars:23,consts:[["listEntryElement",""],[1,"mb-3","w-100","pe-2","ps-2"],["type","search","ngbAutofocus","",1,"form-control",3,"click","keyup.enter","placeholder","formControl"],[1,"dropdown-divider"],[1,"scrollable-menu","list-group",3,"id"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot"],[4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry",3,"title",4,"ngIf"],["class","list-group-item list-group-item-action border-0 disabled",4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry","dsHoverClass","ds-hover",3,"ngClass","title","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","border-0","disabled"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"click","ngClass","title"],[3,"object","viewMode","linkType","context"],[1,"list-group-item","list-group-item-action","border-0","list-entry",3,"title"],[3,"showMessage"]],template:function(be,me){1&be&&(t.j41(0,"div",1)(1,"input",2),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(Ee){return Ee.stopPropagation()})("keyup.enter",function(){return me.selectSingleResult()}),t.k0s()(),t.nrm(4,"div",3),t.j41(5,"div",4)(6,"div",5),t.bIt("scrolled",function(){return me.onScrollDown()}),t.DNE(7,le,5,6,"ng-container",6),t.nI1(8,"async"),t.DNE(9,ne,3,4,"button",7),t.k0s()()),2&be&&(t.R7$(),t.FS9("placeholder",t.i5U(2,11,"dso-selector.placeholder",t.eq3(19,Z,me.typesString))),t.Y8G("formControl",me.input),t.BMQ("aria-label",t.i5U(3,14,"dso-selector.placeholder",t.eq3(21,Z,me.typesString))),t.R7$(4),t.Mz_("id","scrollable-menu-dso-selector-",me.randomSeed,""),t.R7$(),t.Y8G("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer","#scrollable-menu-dso-selector-"+me.randomSeed)("fromRoot",!0),t.R7$(),t.Y8G("ngIf",t.bMT(8,17,me.listEntries$)),t.R7$(2),t.Y8G("ngIf",me.loading))},dependencies:[u.YN,u.me,u.BC,u.X1,u.l_,h.eO,h.DP,i.bT,i.pM,j.k,i.YU,X.v,U.v,i.Jj,e.h,e.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow-x:hidden}"]})}}return se})()},10270:(F,b,n)=>{"use strict";n.r(b),n.d(b,{CreateCollectionParentSelectorComponent:()=>R});var i=n(60177),t=n(41780),u=n(88280),e=n(64611),h=n(6238),m=n(13864),f=n(73183),v=n(54705),E=n(54438),_=n(58003),C=n(7901);function S(T,A){if(1&T&&(E.j41(0,"span",5),E.EFF(1),E.nI1(2,"translate"),E.k0s()),2&T){const p=E.XpG();E.R7$(),E.JRh(E.bMT(2,1,p.header))}}let R=(()=>{class T extends v.${constructor(p,L,D){super(p,L),this.activeModal=p,this.route=L,this.router=D,this.objectType=m.W.COLLECTION,this.selectorTypes=[m.W.COMMUNITY],this.action=v.u.CREATE,this.header="dso-selector.create.collection.sub-level",this.defaultSort=new h.z(u.c.comcolSelectionSort.sortField,u.c.comcolSelectionSort.sortDirection)}navigate(p){const L={queryParams:{[e.Cb]:p.uuid}};this.router.navigate([(0,e.gH)()],L)}static{this.\u0275fac=function(L){return new(L||T)(E.rXU(_.Lw),E.rXU(C.nX),E.rXU(C.Ix))}}static{this.\u0275cmp=E.VBU({type:T,selectors:[["ds-base-create-collection-parent-selector"]],standalone:!0,features:[E.Vt3,E.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(L,D){1&L&&(E.j41(0,"div")(1,"div",0),E.EFF(2),E.nI1(3,"translate"),E.j41(4,"button",1),E.bIt("click",function(){return D.close()}),E.k0s()(),E.j41(5,"div",2),E.DNE(6,S,3,3,"span",3),E.j41(7,"ds-dso-selector",4),E.bIt("onSelect",function(M){return D.selectObject(M)}),E.k0s()()()),2&L&&(E.R7$(2),E.SpI("",E.bMT(3,5,"dso-selector."+D.action+"."+D.objectType.toString().toLowerCase()+".head")," "),E.R7$(4),E.Y8G("ngIf",D.header),E.R7$(),E.Y8G("currentDSOId",null==D.dsoRD?null:D.dsoRD.payload.uuid)("types",D.selectorTypes)("sort",D.defaultSort))},dependencies:[i.bT,f.x,t.h,t.D9],encapsulation:2})}}return T})()},76538:(F,b,n)=>{"use strict";n.r(b),n.d(b,{CreateCommunityParentSelectorComponent:()=>p});var i=n(60177),t=n(41780),u=n(88280),e=n(54671),h=n(6238),m=n(65007),f=n(3970),v=n(13864),E=n(82777),_=n(73183),C=n(54705),S=n(54438),R=n(58003),T=n(7901);function A(L,D){if(1&L){const w=S.RV6();S.j41(0,"div",6)(1,"button",7),S.bIt("click",function(){S.eBV(w);const x=S.XpG();return S.Njj(x.selectObject(void 0))}),S.EFF(2),S.nI1(3,"translate"),S.k0s(),S.j41(4,"div",8),S.nrm(5,"hr"),S.j41(6,"div",9)(7,"span",10),S.EFF(8),S.nI1(9,"translate"),S.k0s()()()()}2&L&&(S.R7$(2),S.JRh(S.bMT(3,2,"dso-selector.create.community.top-level")),S.R7$(6),S.JRh(S.bMT(9,4,"dso-selector.create.community.or-divider")))}let p=(()=>{class L extends C.${constructor(w,M,x,j){super(w,M),this.activeModal=w,this.route=M,this.router=x,this.authorizationService=j,this.objectType=v.W.COMMUNITY,this.selectorTypes=[v.W.COMMUNITY],this.action=C.u.CREATE,this.defaultSort=new h.z(u.c.comcolSelectionSort.sortField,u.c.comcolSelectionSort.sortDirection)}ngOnInit(){this.isAdmin$=this.authorizationService.isAuthorized(f._.AdministratorOf)}navigate(w){let M={};(0,E.a4)(w)&&(M={queryParams:{[e.f2]:w.uuid}}),this.router.navigate([(0,e.lG)()],M)}static{this.\u0275fac=function(M){return new(M||L)(S.rXU(R.Lw),S.rXU(T.nX),S.rXU(T.Ix),S.rXU(m.AuthorizationDataService))}}static{this.\u0275cmp=S.VBU({type:L,selectors:[["ds-base-create-community-parent-selector"]],standalone:!0,features:[S.Vt3,S.aNF],decls:12,vars:12,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["data-test","admin-div",4,"ngIf"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types","sort"],["data-test","admin-div"],[1,"btn","btn-outline-primary","btn-lg","btn-block","w-100",3,"click"],[1,"h3","position-relative","py-1","my-3","fw-normal"],["id","create-community-or-separator",1,"text-center","position-absolute","w-100"],[1,"px-4","bg-white"]],template:function(M,x){1&M&&(S.j41(0,"div")(1,"div",0),S.EFF(2),S.nI1(3,"translate"),S.j41(4,"button",1),S.bIt("click",function(){return x.close()}),S.k0s()(),S.j41(5,"div",2),S.DNE(6,A,10,6,"div",3),S.nI1(7,"async"),S.j41(8,"span",4),S.EFF(9),S.nI1(10,"translate"),S.k0s(),S.j41(11,"ds-dso-selector",5),S.bIt("onSelect",function(U){return x.selectObject(U)}),S.k0s()()()),2&M&&(S.R7$(2),S.SpI("",S.bMT(3,6,"dso-selector."+x.action+"."+x.objectType.toString().toLowerCase()+".head")," "),S.R7$(4),S.Y8G("ngIf",S.bMT(7,8,x.isAdmin$)),S.R7$(3),S.JRh(S.bMT(10,10,"dso-selector.create.community.sub-level")),S.R7$(2),S.Y8G("currentDSOId",null==x.dsoRD?null:x.dsoRD.payload.uuid)("types",x.selectorTypes)("sort",x.defaultSort))},dependencies:[i.Jj,_.x,i.bT,t.h,t.D9],styles:["#create-community-or-separator[_ngcontent-%COMP%]{top:0}"]})}}return L})()},86866:(F,b,n)=>{"use strict";n.r(b),n.d(b,{CreateItemParentSelectorComponent:()=>S});var i=n(60177),t=n(41780),u=n(88280),e=n(6238),h=n(13864),m=n(76052),f=n(54705),v=n(54438),E=n(58003),_=n(7901);function C(R,T){if(1&R&&(v.j41(0,"span",5),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&R){const A=v.XpG();v.R7$(),v.JRh(v.bMT(2,1,A.header))}}let S=(()=>{class R extends f.${constructor(A,p,L){super(A,p),this.activeModal=A,this.route=p,this.router=L,this.objectType=h.W.ITEM,this.selectorTypes=[h.W.COLLECTION],this.action=f.u.CREATE,this.header="dso-selector.create.item.sub-level",this.defaultSort=new e.z(u.c.comcolSelectionSort.sortField,u.c.comcolSelectionSort.sortDirection)}navigate(A){const p={queryParams:{collection:A.uuid}};this.entityType&&(p.queryParams.entityType=this.entityType),this.router.navigate(["/submit"],p)}static{this.\u0275fac=function(p){return new(p||R)(v.rXU(E.Lw),v.rXU(_.nX),v.rXU(_.Ix))}}static{this.\u0275cmp=v.VBU({type:R,selectors:[["ds-base-create-item-parent-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[v.Vt3,v.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","entityType","types"],[1,"h5","px-2"]],template:function(p,L){1&p&&(v.j41(0,"div")(1,"div",0),v.EFF(2),v.nI1(3,"translate"),v.j41(4,"button",1),v.bIt("click",function(){return L.close()}),v.k0s()(),v.j41(5,"div",2),v.DNE(6,C,3,3,"span",3),v.j41(7,"ds-authorized-collection-selector",4),v.bIt("onSelect",function(w){return L.selectObject(w)}),v.k0s()()()),2&p&&(v.R7$(2),v.SpI("",v.bMT(3,5,"dso-selector."+L.action+"."+L.objectType.toString().toLowerCase()+".head")," "),v.R7$(4),v.Y8G("ngIf",L.header),v.R7$(),v.Y8G("currentDSOId",null==L.dsoRD?null:L.dsoRD.payload.uuid)("entityType",L.entityType)("types",L.selectorTypes))},dependencies:[i.bT,m.e,t.h,t.D9],encapsulation:2})}}return R})()},52798:(F,b,n)=>{"use strict";n.d(b,{L:()=>m});var i=n(8886),u=(n(86866),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["entityType"]}getComponentName(){return"CreateItemParentSelectorComponent"}importThemedComponent(E){return n(25074)(`./${E}/app/shared/dso-selector/modal-wrappers/create-item-parent-selector/create-item-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,86866))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-create-item-parent-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},54705:(F,b,n)=>{"use strict";n.d(b,{$:()=>f,u:()=>m});var i=n(54438),u=(n(1716),n(82777)),e=n(58003),h=n(7901),m=function(v){return v.CREATE="create",v.EDIT="edit",v.EXPORT_METADATA="export-metadata",v.IMPORT_BATCH="import-batch",v.SET_SCOPE="set-scope",v.EXPORT_BATCH="export-batch",v}(m||{});let f=(()=>{class v{constructor(_,C){this.activeModal=_,this.route=C,this.emitOnly=!1,this.select=new i.bkB}ngOnInit(){const _=this.findRouteData(C=>(0,u.a4)(C.data.dso),this.route.root.snapshot);(0,u.a4)(_)&&(this.dsoRD=_.data.dso)}findRouteData(_,...C){const S=C.find(_);if((0,u.a4)(S))return S;{const R=C.map(T=>T.children).reduce((T,A)=>[...T,...A]);return(0,u.hj)(R)?this.findRouteData(_,...R):void 0}}selectObject(_){this.close(),this.emitOnly?this.select.emit(_):this.navigate(_)}close(){this.activeModal.close()}static{this.\u0275fac=function(C){return new(C||v)(i.rXU(e.Lw),i.rXU(h.nX))}}static{this.\u0275cmp=i.VBU({type:v,selectors:[["ds-dso-selector-modal"]],inputs:{dsoRD:"dsoRD",emitOnly:"emitOnly",header:"header"},outputs:{select:"select"},decls:0,vars:0,template:function(C,S){},encapsulation:2})}}return v})()},73234:(F,b,n)=>{"use strict";n.r(b),n.d(b,{EditCollectionSelectorComponent:()=>R});var i=n(60177),t=n(41780),u=n(88280),e=n(64611),h=n(6238),m=n(13864),f=n(73183),v=n(54705),E=n(54438),_=n(58003),C=n(7901);function S(T,A){if(1&T&&(E.j41(0,"span",5),E.EFF(1),E.nI1(2,"translate"),E.k0s()),2&T){const p=E.XpG();E.R7$(),E.JRh(E.bMT(2,1,p.header))}}let R=(()=>{class T extends v.${constructor(p,L,D){super(p,L),this.activeModal=p,this.route=L,this.router=D,this.objectType=m.W.COLLECTION,this.selectorTypes=[m.W.COLLECTION],this.action=v.u.EDIT,this.defaultSort=new h.z(u.c.comcolSelectionSort.sortField,u.c.comcolSelectionSort.sortDirection)}navigate(p){this.router.navigate([(0,e._E)(p.uuid)])}static{this.\u0275fac=function(L){return new(L||T)(E.rXU(_.Lw),E.rXU(C.nX),E.rXU(C.Ix))}}static{this.\u0275cmp=E.VBU({type:T,selectors:[["ds-base-edit-collection-selector"]],standalone:!0,features:[E.Vt3,E.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(L,D){1&L&&(E.j41(0,"div")(1,"div",0),E.EFF(2),E.nI1(3,"translate"),E.j41(4,"button",1),E.bIt("click",function(){return D.close()}),E.k0s()(),E.j41(5,"div",2),E.DNE(6,S,3,3,"span",3),E.j41(7,"ds-dso-selector",4),E.bIt("onSelect",function(M){return D.selectObject(M)}),E.k0s()()()),2&L&&(E.R7$(2),E.SpI("",E.bMT(3,5,"dso-selector."+D.action+"."+D.objectType.toString().toLowerCase()+".head")," "),E.R7$(4),E.Y8G("ngIf",D.header),E.R7$(),E.Y8G("currentDSOId",null==D.dsoRD?null:D.dsoRD.payload.uuid)("types",D.selectorTypes)("sort",D.defaultSort))},dependencies:[i.bT,f.x,t.h,t.D9],encapsulation:2})}}return T})()},64990:(F,b,n)=>{"use strict";n.r(b),n.d(b,{EditCommunitySelectorComponent:()=>R});var i=n(60177),t=n(41780),u=n(88280),e=n(54671),h=n(6238),m=n(13864),f=n(73183),v=n(54705),E=n(54438),_=n(58003),C=n(7901);function S(T,A){if(1&T&&(E.j41(0,"span",5),E.EFF(1),E.nI1(2,"translate"),E.k0s()),2&T){const p=E.XpG();E.R7$(),E.JRh(E.bMT(2,1,p.header))}}let R=(()=>{class T extends v.${constructor(p,L,D){super(p,L),this.activeModal=p,this.route=L,this.router=D,this.objectType=m.W.COMMUNITY,this.selectorTypes=[m.W.COMMUNITY],this.action=v.u.EDIT,this.defaultSort=new h.z(u.c.comcolSelectionSort.sortField,u.c.comcolSelectionSort.sortDirection)}navigate(p){this.router.navigate([(0,e.pk)(p.uuid)])}static{this.\u0275fac=function(L){return new(L||T)(E.rXU(_.Lw),E.rXU(C.nX),E.rXU(C.Ix))}}static{this.\u0275cmp=E.VBU({type:T,selectors:[["ds-base-edit-community-selector"]],standalone:!0,features:[E.Vt3,E.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(L,D){1&L&&(E.j41(0,"div")(1,"div",0),E.EFF(2),E.nI1(3,"translate"),E.j41(4,"button",1),E.bIt("click",function(){return D.close()}),E.k0s()(),E.j41(5,"div",2),E.DNE(6,S,3,3,"span",3),E.j41(7,"ds-dso-selector",4),E.bIt("onSelect",function(M){return D.selectObject(M)}),E.k0s()()()),2&L&&(E.R7$(2),E.SpI("",E.bMT(3,5,"dso-selector."+D.action+"."+D.objectType.toString().toLowerCase()+".head")," "),E.R7$(4),E.Y8G("ngIf",D.header),E.R7$(),E.Y8G("currentDSOId",null==D.dsoRD?null:D.dsoRD.payload.uuid)("types",D.selectorTypes)("sort",D.defaultSort))},dependencies:[i.bT,f.x,t.h,t.D9],encapsulation:2})}}return T})()},29380:(F,b,n)=>{"use strict";n.r(b),n.d(b,{EditItemSelectorComponent:()=>C});var i=n(60177),t=n(41780),u=n(13864),e=n(90887),h=n(73183),m=n(54705),f=n(54438),v=n(58003),E=n(7901);function _(S,R){if(1&S&&(f.j41(0,"span",5),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&S){const T=f.XpG();f.R7$(),f.JRh(f.bMT(2,1,T.header))}}let C=(()=>{class S extends m.${constructor(T,A,p){super(T,A),this.activeModal=T,this.route=A,this.router=p,this.objectType=u.W.ITEM,this.selectorTypes=[u.W.ITEM],this.action=m.u.EDIT}navigate(T){this.router.navigate([(0,e.$r)(T)])}static{this.\u0275fac=function(A){return new(A||S)(f.rXU(v.Lw),f.rXU(E.nX),f.rXU(E.Ix))}}static{this.\u0275cmp=f.VBU({type:S,selectors:[["ds-base-edit-item-selector"]],standalone:!0,features:[f.Vt3,f.aNF],decls:8,vars:6,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types"],[1,"h5","px-2"]],template:function(A,p){1&A&&(f.j41(0,"div")(1,"div",0),f.EFF(2),f.nI1(3,"translate"),f.j41(4,"button",1),f.bIt("click",function(){return p.close()}),f.k0s()(),f.j41(5,"div",2),f.DNE(6,_,3,3,"span",3),f.j41(7,"ds-dso-selector",4),f.bIt("onSelect",function(D){return p.selectObject(D)}),f.k0s()()()),2&A&&(f.R7$(2),f.SpI("",f.bMT(3,4,"dso-selector."+p.action+"."+p.objectType.toString().toLowerCase()+".head")," "),f.R7$(4),f.Y8G("ngIf",p.header),f.R7$(),f.Y8G("currentDSOId",null==p.dsoRD?null:p.dsoRD.payload.uuid)("types",p.selectorTypes))},dependencies:[i.bT,h.x,t.h,t.D9],encapsulation:2})}}return S})()},82777:(F,b,n)=>{"use strict";n.d(b,{Az:()=>v,EA:()=>h,Im:()=>E,Pe:()=>u,Tn:()=>m,VT:()=>C,a4:()=>f,b0:()=>e,hj:()=>_,kZ:()=>t});var i=n(5964);function t(T){return null===T}function u(T){return null!==T}function e(T){return void 0===T}function h(T){return void 0!==T}function m(T){return e(T)||t(T)}function f(T){return h(T)&&u(T)}const v=()=>T=>T.pipe((0,i.p)(A=>f(A)));function E(T){if(m(T))return!0;if("number"==typeof T.size)return!T.size;const A=typeof T;if("object"===A){const p=T.size;if("number"==typeof p)return!p}if("number"==typeof T.length&&"function"!==A)return!T.length;if("object"===A){if(0===Object.keys(T).length)return!0;const p=T.length;if("number"==typeof p)return!p}return!1}function _(T){return!E(T)}const C=()=>T=>T.pipe((0,i.p)(A=>_(A)))},53948:(F,b,n)=>{"use strict";n.d(b,{Y:()=>p});var i=n(60177),t=n(54438),u=n(41780),e=n(86820),h=n(84412),m=n(25558),f=n(19852),v=n(99172),E=n(30077),_=n(80183),C=n(82777),S=n(82394);function R(L,D){1&L&&(t.j41(0,"li")(1,"button",3),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&L&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"submission.sections.general.no-entity")," "))}function T(L,D){if(1&L){const w=t.RV6();t.j41(0,"li",4)(1,"button",5),t.bIt("click",function(){const x=t.eBV(w).$implicit,j=t.XpG();return t.Njj(j.onSelect(x))}),t.j41(2,"ul",6)(3,"li",7),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()()}if(2&L){const w=D.$implicit;t.R7$(),t.FS9("title",w.label),t.R7$(3),t.JRh(t.bMT(5,2,w.label.toLowerCase()+".listelement.badge"))}}function A(L,D){1&L&&(t.j41(0,"li")(1,"button",3),t.nrm(2,"ds-loading",8),t.nI1(3,"translate"),t.k0s()()),2&L&&(t.R7$(2),t.FS9("message",t.bMT(3,1,"loading.default")))}let p=(()=>{class L{constructor(w,M,x){this.changeDetectorRef=w,this.entityTypeService=M,this.el=x,this.scrollableBottom=!1,this.scrollableTop=!1,this.searchListEntity=[],this.selectionChange=new t.bkB,this.isLoadingList=new h.t(!1),this.subs=[]}onMousewheel(w){w.wheelDelta>0&&this.scrollableTop&&w.preventDefault(),w.wheelDelta<0&&this.scrollableBottom&&w.preventDefault()}ngOnInit(){this.resetPagination(),this.populateEntityList(this.currentPage)}onScroll(w){this.scrollableBottom=w.target.scrollTop+w.target.clientHeight===w.target.scrollHeight,this.scrollableTop=0===w.target.scrollTop}onScrollDown(){this.hasNextPage&&this.populateEntityList(++this.currentPage)}onSelect(w){this.selectionChange.emit(w)}populateEntityList(w){this.isLoadingList.next(!0);const M={elementsPerPage:10,currentPage:w};let x;x=this.isSubmission?this.entityTypeService.getAllAuthorizedRelationshipType(M):this.entityTypeService.getAllAuthorizedRelationshipTypeImport(M),this.searchListEntity$=x.pipe((0,_.o5)(),(0,m.n)(j=>(this.searchListEntity.length+M.elementsPerPage>=j.payload.totalElements&&(this.hasNextPage=!1),j.payload.page)),(0,f.T)((j,U)=>[...j,U],[]),(0,v.Z)([])),this.subs.push(this.searchListEntity$.subscribe(j=>{this.searchListEntity.push(...j)},void 0,()=>{this.hideShowLoader(!1),this.changeDetectorRef.detectChanges()}))}resetPagination(){this.currentPage=1,this.hasNextPage=!0,this.searchListEntity=[]}hideShowLoader(w){this.isLoadingList.next(w)}ngOnDestroy(){this.subs.filter(w=>(0,C.a4)(w)).forEach(w=>w.unsubscribe())}static{this.\u0275fac=function(M){return new(M||L)(t.rXU(t.gRc),t.rXU(E.f),t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:L,selectors:[["ds-entity-dropdown"]],hostBindings:function(M,x){1&M&&t.bIt("mousewheel",function(U){return x.onMousewheel(U)})},inputs:{isSubmission:"isSubmission"},outputs:{selectionChange:"selectionChange"},standalone:!0,features:[t.aNF],decls:6,vars:12,consts:[["role","menu","infiniteScroll","",1,"scrollable-menu","list-unstyled","mb-0",3,"scroll","scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","fromRoot","scrollWindow"],[4,"ngIf"],["class","entity-item text-primary",4,"ngFor","ngForOf"],["role","menuitem",1,"dropdown-item","disabled"],[1,"entity-item","text-primary"],["role","menuitem",1,"dropdown-item",3,"click","title"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","fw-bold"],[3,"message"]],template:function(M,x){1&M&&(t.j41(0,"ul",0),t.bIt("scroll",function(U){return x.onScroll(U)})("scrolled",function(){return x.onScrollDown()}),t.DNE(1,R,4,3,"li",1),t.nI1(2,"async"),t.DNE(3,T,6,4,"li",2)(4,A,4,3,"li",1),t.nI1(5,"async"),t.k0s()),2&M&&(t.Y8G("infiniteScrollDistance",5)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",1.5)("fromRoot",!0)("scrollWindow",!1),t.R7$(),t.Y8G("ngIf",0===(null==x.searchListEntity?null:x.searchListEntity.length)&&!0!==t.bMT(2,8,x.isLoadingList)),t.R7$(2),t.Y8G("ngForOf",x.searchListEntity),t.R7$(),t.Y8G("ngIf",t.bMT(5,10,x.isLoadingList)))},dependencies:[e.eO,e.DP,i.bT,i.pM,S.v,i.Jj,u.h,u.D9],styles:[".dropdown-item[_ngcontent-%COMP%]{padding:.35rem 1rem}.dropdown-item[_ngcontent-%COMP%]:active{color:#fff!important}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}li[_ngcontent-%COMP%]:not(:last-of-type)   .dropdown-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#entityControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;left:0!important;box-shadow:var(--bs-btn-focus-box-shadow)}"]})}}return L})()},50518:(F,b,n)=>{"use strict";n.d(b,{T:()=>X});var i=n(60177),t=n(54438),u=n(41780),e=n(59519),h=n.n(e),m=n(84412),f=n(96354),v=n(82640),E=n(96526),_=n(41023),C=n(58235),S=n(36074),R=n(4047),T=n(22978),A=n(80183),p=n(50332),L=n(82777),D=n(5682),w=n(23401),M=n(89417);let x=(()=>{class G{constructor(z){this.formBuilder=z,this.labelPrefix="admin.access-control.epeople.",this.subs=[],this.search=new t.bkB,this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}reset(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}submit(z){const te={scope:(0,L.Pe)(z)?z.scope:"metadata",query:(0,L.Pe)(z)?z.query:""};this.search.emit(te)}static{this.\u0275fac=function(te){return new(te||G)(t.rXU(M.ze))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-eperson-search-box"]],outputs:{search:"search"},standalone:!0,features:[t.aNF],decls:20,vars:13,consts:[[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],["name","scope","id","scope","formControlName","scope","aria-label","Search scope",1,"form-select"],["value","metadata"],["value","email"],[1,"flex-grow-1","me-3","ms-3"],[1,"mb-3","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(te,Z){1&te&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(Q){return Z.submit(Z.searchForm.value),Q.stopImmediatePropagation()}),t.j41(1,"div")(2,"select",1)(3,"option",2),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"option",3),t.EFF(7),t.nI1(8,"translate"),t.k0s()()(),t.j41(9,"div",4)(10,"div",5),t.nrm(11,"input",6),t.j41(12,"button",7),t.nrm(13,"i",8),t.EFF(14),t.nI1(15,"translate"),t.k0s()()(),t.j41(16,"div")(17,"button",9),t.bIt("click",function(){return Z.submit(null),Z.reset()}),t.EFF(18),t.nI1(19,"translate"),t.k0s()()()),2&te&&(t.Y8G("formGroup",Z.searchForm),t.R7$(4),t.JRh(t.bMT(5,5,Z.labelPrefix+"search.scope.metadata")),t.R7$(3),t.JRh(t.bMT(8,7,Z.labelPrefix+"search.scope.email")),t.R7$(7),t.SpI(" ",t.bMT(15,9,Z.labelPrefix+"search.button")," "),t.R7$(4),t.SpI(" ",t.bMT(19,11,Z.labelPrefix+"button.see-all")," "))},dependencies:[M.YN,M.qT,M.xH,M.y7,M.me,M.wz,M.BC,M.cb,M.X1,M.j4,M.JD,u.h,u.D9],encapsulation:2})}}return G})(),j=(()=>{class G{constructor(z){this.formBuilder=z,this.labelPrefix="admin.access-control.groups.",this.subs=[],this.search=new t.bkB,this.searchForm=this.formBuilder.group({query:""})}reset(){this.searchForm=this.formBuilder.group({query:""})}submit(z){const te={scope:"",query:(0,L.Pe)(z)?z.query:""};this.search.emit(te)}static{this.\u0275fac=function(te){return new(te||G)(t.rXU(M.ze))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-group-search-box"]],outputs:{search:"search"},standalone:!0,features:[t.aNF],decls:12,vars:7,consts:[[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","me-3"],[1,"mb-3","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(te,Z){1&te&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(Q){return Z.submit(Z.searchForm.value),Q.stopImmediatePropagation()}),t.j41(1,"div",1)(2,"div",2),t.nrm(3,"input",3),t.j41(4,"button",4),t.nrm(5,"i",5),t.EFF(6),t.nI1(7,"translate"),t.k0s()()(),t.j41(8,"div")(9,"button",6),t.bIt("click",function(){return Z.submit(null),Z.reset()}),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()),2&te&&(t.Y8G("formGroup",Z.searchForm),t.R7$(6),t.SpI(" ",t.bMT(7,3,Z.labelPrefix+"search.button")," "),t.R7$(4),t.SpI(" ",t.bMT(11,5,Z.labelPrefix+"button.see-all")," "))},dependencies:[M.YN,M.qT,M.me,M.BC,M.cb,M.X1,M.j4,M.JD,u.h,u.D9],encapsulation:2})}}return G})();function U(G,q){if(1&G){const z=t.RV6();t.j41(0,"ds-eperson-search-box",3),t.bIt("search",function(Z){t.eBV(z);const J=t.XpG();return t.Njj(J.onSearch(Z))}),t.k0s()}}function $(G,q){if(1&G){const z=t.RV6();t.j41(0,"ds-group-search-box",3),t.bIt("search",function(Z){t.eBV(z);const J=t.XpG();return t.Njj(J.onSearch(Z))}),t.k0s()}}function k(G,q){if(1&G){const z=t.RV6();t.j41(0,"tr"),t.nI1(1,"async"),t.j41(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td",7)(7,"button",9),t.bIt("click",function(){const Z=t.eBV(z).$implicit,J=t.XpG(2);return t.Njj(J.emitSelect(Z))}),t.EFF(8),t.nI1(9,"translate"),t.k0s()()()}if(2&G){const z=q.$implicit,te=t.XpG(2);t.AVh("table-primary",t.bMT(1,5,te.isSelected(z))),t.R7$(3),t.JRh(z.id),t.R7$(2),t.JRh(te.dsoNameService.getName(z)),t.R7$(3),t.SpI(" ",t.bMT(9,7,"resource-policies.form.eperson-group-list.select.btn")," ")}}function K(G,q){if(1&G&&(t.j41(0,"ds-pagination",4),t.nI1(1,"async"),t.j41(2,"div",5)(3,"table",6)(4,"thead")(5,"tr",7)(6,"th"),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"th"),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"th"),t.EFF(13),t.nI1(14,"translate"),t.k0s()()(),t.j41(15,"tbody"),t.DNE(16,k,10,9,"tr",8),t.nI1(17,"async"),t.k0s()()()()),2&G){let z,te;const Z=t.XpG();t.Y8G("paginationOptions",Z.paginationOptions)("collectionSize",null==(z=t.bMT(1,8,Z.getList()))||null==z.payload?null:z.payload.totalElements)("retainScrollPosition",!0)("hideGear",!0),t.R7$(7),t.JRh(t.bMT(8,10,"resource-policies.form.eperson-group-list.table.headers.id")),t.R7$(3),t.JRh(t.bMT(11,12,"resource-policies.form.eperson-group-list.table.headers.name")),t.R7$(3),t.JRh(t.bMT(14,14,"resource-policies.form.eperson-group-list.table.headers.action")),t.R7$(3),t.Y8G("ngForOf",null==(te=t.bMT(17,16,Z.getList()))||null==te.payload?null:te.payload.page)}}let X=(()=>{class G{constructor(z,te,Z,J){this.dsoNameService=z,this.parentInjector=te,this.paginationService=Z,this.dataServiceMap=J,this.isListOfEPerson=!0,this.select=new t.bkB,this.currentSearchQuery="",this.currentSearchScope="metadata",this.paginationOptions=new w.W,this.list$=new m.t({}),this.entrySelectedId=new m.t(""),this.subs=[]}ngOnInit(){(0,R.M)(this.dataServiceMap,(this.isListOfEPerson?C.N:S.U).value,this.parentInjector).subscribe(Z=>{this.dataService=Z,this.paginationOptions.id=h()("egl"),this.paginationOptions.pageSize=5,this.initSelected&&this.entrySelectedId.next(this.initSelected),this.updateList(this.currentSearchScope,this.currentSearchQuery)})}emitSelect(z){this.select.emit(z),this.entrySelectedId.next(z.id)}getList(){return this.list$.asObservable()}isSelected(z){return this.entrySelectedId.asObservable().pipe((0,f.T)(te=>(0,L.hj)(te)&&te===z.id))}onSearch(z){this.currentSearchQuery=z.query,this.currentSearchScope=z.scope,this.paginationService.resetPage(this.paginationOptions.id),this.updateList(this.currentSearchScope,this.currentSearchQuery)}updateList(z,te){(0,L.a4)(this.pageConfigSub)&&this.pageConfigSub.unsubscribe(),this.pageConfigSub=this.paginationService.getCurrentPagination(this.paginationOptions.id,this.paginationOptions).subscribe(Z=>{const J=Object.assign({},new _._,{elementsPerPage:Z.pageSize,currentPage:Z.currentPage}),Q=this.isListOfEPerson?this.dataService.searchByScope(z,te,J):this.dataService.searchGroups(te,J);this.subs.push(Q.pipe((0,A.qD)()).subscribe(ee=>{(0,L.a4)(this.list$)&&this.list$.next(ee)}))})}ngOnDestroy(){this.list$=null,this.subs.filter(z=>(0,L.a4)(z)).forEach(z=>z.unsubscribe()),this.paginationService.clearPagination(this.paginationOptions.id)}static{this.\u0275fac=function(te){return new(te||G)(t.rXU(E.f),t.rXU(t.zZn),t.rXU(T.m),t.rXU(v.l9))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-eperson-group-list"]],inputs:{isListOfEPerson:"isListOfEPerson",initSelected:"initSelected"},outputs:{select:"select"},standalone:!0,features:[t.aNF],decls:5,vars:6,consts:[[1,"mt-3"],[3,"search",4,"ngIf"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear",4,"ngIf"],[3,"search"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear"],[1,"table-responsive"],["id","groups",1,"table","table-sm","table-striped","table-hover","table-bordered"],[1,"text-center"],[3,"table-primary",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:function(te,Z){if(1&te&&(t.j41(0,"div",0),t.DNE(1,U,1,0,"ds-eperson-search-box",1)(2,$,1,0,"ds-group-search-box",1)(3,K,18,18,"ds-pagination",2),t.nI1(4,"async"),t.k0s()),2&te){let J;t.Y8G("@fadeInOut",void 0),t.R7$(),t.Y8G("ngIf",Z.isListOfEPerson),t.R7$(),t.Y8G("ngIf",!Z.isListOfEPerson),t.R7$(),t.Y8G("ngIf",(null==(J=t.bMT(4,4,Z.getList()))||null==J.payload?null:J.payload.totalElements)>0)}},dependencies:[i.bT,x,j,D.e,i.pM,i.Jj,u.h,u.D9],data:{animation:[p.Ws]}})}}return G})()},79632:(F,b,n)=>{"use strict";n.d(b,{A:()=>h});var i=n(16292),t=n(47978),u=n(54438),e=n(41780);let h=(()=>{class m{constructor(v){this.translate=v,this.message="Error...",this.AlertTypeEnum=t.v}ngOnInit(){void 0===this.message&&(this.subscription=this.translate.get("error.default").subscribe(v=>{this.message=v}))}ngOnDestroy(){void 0!==this.subscription&&this.subscription.unsubscribe()}static{this.\u0275fac=function(E){return new(E||m)(u.rXU(e.c$))}}static{this.\u0275cmp=u.VBU({type:m,selectors:[["ds-error"]],inputs:{message:"message"},standalone:!0,features:[u.aNF],decls:2,vars:3,consts:[[3,"type","dismissible"],[3,"innerHTML"]],template:function(E,_){1&E&&(u.j41(0,"ds-alert",0),u.nrm(1,"span",1),u.k0s()),2&E&&(u.Y8G("type",_.AlertTypeEnum.Error)("dismissible",!1),u.R7$(),u.Y8G("innerHTML",_.message,u.npT))},dependencies:[i.C]})}}return m})()},10634:(F,b,n)=>{"use strict";n.r(b),n.d(b,{FileDownloadLinkComponent:()=>w});var i=n(60177),t=n(7901),u=n(41780),e=n(84572),h=n(7673),m=n(96354),f=n(69799),v=n(96526),E=n(65007),_=n(3970),R=(n(33376),n(88318),n(82777)),T=n(54438);const A=["*"];function p(M,x){1&M&&(T.j41(0,"span",4),T.nI1(1,"translate"),T.nrm(2,"i",5),T.k0s()),2&M&&T.BMQ("aria-label",T.bMT(1,1,"file-download-link.restricted"))}function L(M,x){1&M&&T.eu8(0)}function D(M,x){1&M&&T.SdG(0)}let w=(()=>{class M{constructor(j,U){this.authorizationService=j,this.dsoNameService=U,this.cssClasses="",this.isBlank=!1,this.enableRequestACopy=!0}ngOnInit(){if(this.enableRequestACopy){this.canDownload$=this.authorizationService.isAuthorized(_._.CanDownload,(0,R.hj)(this.bitstream)?this.bitstream.self:void 0);const j=this.authorizationService.isAuthorized(_._.CanRequestACopy,(0,R.hj)(this.bitstream)?this.bitstream.self:void 0);this.bitstreamPath$=(0,e.z)([this.canDownload$,j]).pipe((0,m.T)(([U,$])=>this.getBitstreamPath(U,$)))}else this.bitstreamPath$=(0,h.of)(this.getBitstreamDownloadPath()),this.canDownload$=(0,h.of)(!0)}getBitstreamPath(j,U){return!j&&U&&(0,R.a4)(this.item)?(0,f.ET)(this.item,this.bitstream):this.getBitstreamDownloadPath()}getBitstreamDownloadPath(){return{routerLink:(0,f.hV)(this.bitstream),queryParams:{}}}static{this.\u0275fac=function(U){return new(U||M)(T.rXU(E.AuthorizationDataService),T.rXU(v.f))}}static{this.\u0275cmp=T.VBU({type:M,selectors:[["ds-base-file-download-link"]],inputs:{bitstream:"bitstream",item:"item",cssClasses:"cssClasses",isBlank:"isBlank",enableRequestACopy:"enableRequestACopy"},standalone:!0,features:[T.aNF],ngContentSelectors:A,decls:9,vars:15,consts:[["content",""],[1,"dont-break-out",3,"routerLink","queryParams","target","ngClass"],["role","img","class","pe-1",4,"ngIf"],[4,"ngTemplateOutlet"],["role","img",1,"pe-1"],[1,"fas","fa-lock"]],template:function(U,$){if(1&U&&(T.NAR(),T.j41(0,"a",1),T.nI1(1,"async"),T.nI1(2,"async"),T.nI1(3,"translate"),T.DNE(4,p,3,3,"span",2),T.nI1(5,"async"),T.DNE(6,L,1,0,"ng-container",3),T.k0s(),T.DNE(7,D,1,0,"ng-template",null,0,T.C5r)),2&U){let k,K;const X=T.sdS(8);T.Y8G("routerLink",null==(k=T.bMT(1,7,$.bitstreamPath$))?null:k.routerLink)("queryParams",null==(K=T.bMT(2,9,$.bitstreamPath$))?null:K.queryParams)("target",$.isBlank?"_blank":"_self")("ngClass",$.cssClasses),T.BMQ("aria-label",T.bMT(3,11,"file-download-link.download")+$.dsoNameService.getName($.bitstream)),T.R7$(4),T.Y8G("ngIf",!0!==T.bMT(5,13,$.canDownload$)),T.R7$(2),T.Y8G("ngTemplateOutlet",X)}},dependencies:[t.Wk,i.YU,i.bT,i.T3,i.Jj,u.h,u.D9]})}}return M})()},28836:(F,b,n)=>{"use strict";n.d(b,{z:()=>v}),n(33376),n(88318);var u=n(8886),h=(n(10634),n(54438));const m=["*"];function f(E,_){}let v=(()=>{class E extends u.J{constructor(){super(...arguments),this.inAndOutputNames=["bitstream","item","cssClasses","isBlank","enableRequestACopy"]}getComponentName(){return"FileDownloadLinkComponent"}importThemedComponent(C){return n(72834)(`./${C}/app/shared/file-download-link/file-download-link.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,10634))}static{this.\u0275fac=(()=>{let C;return function(R){return(C||(C=h.xGo(E)))(R||E)}})()}static{this.\u0275cmp=h.VBU({type:E,selectors:[["ds-file-download-link"]],inputs:{bitstream:"bitstream",item:"item",cssClasses:"cssClasses",isBlank:"isBlank",enableRequestACopy:"enableRequestACopy"},standalone:!0,features:[h.Vt3,h.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(S,R){1&S&&(h.NAR(),h.DNE(0,f,0,0,"ng-template",null,0,h.C5r),h.j41(2,"div",null,1),h.SdG(4),h.k0s())},encapsulation:2})}}return E})()},56899:(F,b,n)=>{"use strict";n.d(b,{N:()=>t,T:()=>i});const i="RELATION",t="#PLACEHOLDER_PARENT_METADATA_VALUE#"},10460:(F,b,n)=>{"use strict";n.d(b,{_:()=>wt});var i=n(60177),t=n(54438),u=n(89417),e=n(58003),h=n(1473),m=n(41780),f=n(84572),v=n(47677),E=n(25558),_=n(96697),C=n(96354),S=n(99172),R=n(82640),T=n(48833),A=n(5410),p=n(14391),L=n(80183),D=n(49903),w=n(46588),M=n(61010),x=n(82777),j=n(27442),U=n(13329),$=n(67600),k=n(49656),K=n(33126),X=n(61280),G=n(56568),q=n(56899);let z=(()=>{class bt{constructor(Tt,Ft,it,xe){this.dynamicMatchers=Tt,this.dynamicFormRelationService=Ft,this.formBuilderService=it,this.injector=xe}getTypeBindValue(Tt){let Ft;return Ft=(0,x.Tn)(Tt)||"string"==typeof Tt?Tt:Tt instanceof X.e&&Tt.hasAuthority()?Tt.authority:Tt.value,Ft}getRelatedFormModel(Tt){const Ft=[];return Tt.typeBindRelations.forEach(it=>it.when.forEach(xe=>{if(Tt.id===xe.id)throw new Error(`FormControl ${Tt.id} cannot depend on itself`);const Ve=this.formBuilderService.getTypeBindModel();Tt&&!Ft.some(Ke=>Ke===Ve)&&Ft.push(Ve)})),Ft}matchesCondition(Tt,Ft){const it=Tt.operator||h.fXj;return Tt.when.reduce((xe,Ve,Ke)=>{const je=this.formBuilderService.getTypeBindModel();let At,Qe=je.value;je.type===q.T&&(Qe=je.value.map(ke=>ke[je.mandatoryField])),At=Array.isArray(Qe)?[...Qe.map(ke=>this.getTypeBindValue(ke))]:[this.getTypeBindValue(Qe)];let st=!(je&&Tt.match===Ft.match);for(const ke of At){if(je&&Tt.match===Ft.match){if(Ke>0&&it===h.fcY&&!xe)return!1;if(Ke>0&&it===h.fXj&&xe)return!0;if(st=Ve.value===ke,st)break}if(je&&Tt.match===Ft.opposingMatch){if(Ke>0&&it===h.fcY&&xe)return!0;if(Ke>0&&it===h.fXj&&!xe)return!1;if(st=Ve.value!==ke,!st)break}}return st},!1)}subscribeRelations(Tt,Ft){const it=this.getRelatedFormModel(Tt),xe=[];return Object.values(it).forEach(Ve=>{if((0,x.a4)(Ve)){const Ke=(0,x.Tn)(Ve.value)||"string"==typeof Ve.value||Array.isArray(Ve.value)?Ve.value:Ve.value.value,At=("CHECKBOX_GROUP"===Ve.type?Ve.valueUpdates:Ve.valueChanges).pipe((0,S.Z)(Ke));xe.push(At.subscribe(()=>{(0,x.a4)(this.dynamicMatchers)&&this.dynamicMatchers.forEach(Qe=>{const st=this.dynamicFormRelationService.findRelationByMatcher(Tt.typeBindRelations,Qe);if(void 0!==st){const ke=this.matchesCondition(st,Qe);Qe.onChange(ke,Tt,Ft,this.injector)}})}))}}),xe}getTypeBindRelations(Tt){const Ft=[];return Tt.forEach(it=>{Ft.push({id:"dc.type",value:it})}),[{match:h.zUr,operator:h.fXj,when:Ft}]}static{this.\u0275fac=function(Ft){return new(Ft||bt)(t.KVO(h._sU,8),t.KVO(h.$eO),t.KVO(K.j),t.KVO(t.zZn))}}static{this.\u0275prov=t.jDH({token:bt,factory:bt.\u0275fac,providedIn:"root"})}}return bt})();var te=n(84412),Z=n(5964),Q=(n(88318),n(93498)),ee=n(82394),le=n(32272),ne=n(59496),fe=n(25499);function se(bt,Jt){1&bt&&(t.qex(0),t.nrm(1,"ds-loading",5),t.bVm()),2&bt&&(t.R7$(),t.Y8G("showMessage",!1))}function ce(bt,Jt){if(1&bt&&(t.qex(0),t.nrm(1,"ds-metadata-representation-loader",6),t.nI1(2,"async"),t.bVm()),2&bt){const Tt=t.XpG();t.R7$(),t.Y8G("mdRepresentation",t.bMT(2,1,Tt.metadataRepresentation$))}}class Te{constructor(Jt,Tt){this.oldIndex=Jt,this.newIndex=Tt}update(){this.oldIndex=this.newIndex}get hasMoved(){return this.oldIndex!==this.newIndex}}class me extends Te{constructor(Jt,Tt,Ft,it,xe,Ve){super(xe,Ve),this.relationship=Jt,this.useLeftItem=Tt,this.store=Ft,this.submissionID=it,this.relationship=Jt,this.useLeftItem=Tt}getId(){return this.relationship.id}getPlace(){return this.useLeftItem?this.relationship.rightPlace:this.relationship.leftPlace}}let re=(()=>{class bt{constructor(Tt,Ft,it){this.selectableListService=Tt,this.store=Ft,this.submissionService=it,this.metadataRepresentation$=new te.t(void 0),this.remove=new t.bkB,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){(0,x.a4)(this.reoRel)&&this.subs.push((this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem).pipe((0,L.v7)(),(0,L.Bo)(),(0,Z.p)(Ft=>(0,x.a4)(Ft)&&(0,x.hj)(Ft.uuid))).subscribe(Ft=>{this.relatedItem=Ft;const it=this.submissionItem.firstMetadata(this.relationshipOptions.metadataField,{value:this.relatedItem.uuid});if((0,x.a4)(it)){const xe=this.submissionItem.firstMetadata(this.metadataFields,{authority:it.authority}),Ve=Object.assign(new Q.y(xe),this.relatedItem);this.metadataRepresentation$.next(Ve)}}))}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.submissionService.getSubmissionObject(this.submissionId).pipe((0,Z.p)(Tt=>!Tt.savePending&&!Tt.isLoading),(0,_.s)(1)).subscribe(()=>{this.selectableListService.deselectSingle(this.listId,Object.assign(new j.H,{indexableObject:this.relatedItem})),this.store.dispatch(new ne.Fw(this.submissionItem,this.relatedItem,this.relationshipOptions.relationshipType,this.submissionId)),this.remove.emit()})}ngOnDestroy(){this.subs.filter(Tt=>(0,x.a4)(Tt)).forEach(Tt=>Tt.unsubscribe())}static{this.\u0275fac=function(Ft){return new(Ft||bt)(t.rXU(U.K),t.rXU(fe.il),t.rXU(M.E))}}static{this.\u0275cmp=t.VBU({type:bt,selectors:[["ds-existing-metadata-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},standalone:!0,features:[t.OA$,t.aNF],decls:9,vars:9,consts:[[1,"d-flex"],[1,"me-auto","text-contents"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click","title"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"mdRepresentation"]],template:function(Ft,it){1&Ft&&(t.j41(0,"div",0)(1,"span",1),t.DNE(2,se,2,1,"ng-container",2),t.nI1(3,"async"),t.DNE(4,ce,3,3,"ng-container",2),t.nI1(5,"async"),t.k0s(),t.j41(6,"button",3),t.nI1(7,"translate"),t.bIt("click",function(){return it.removeSelection()}),t.nrm(8,"i",4),t.k0s()()),2&Ft&&(t.R7$(2),t.Y8G("ngIf",void 0===t.bMT(3,3,it.metadataRepresentation$)),t.R7$(2),t.Y8G("ngIf",t.bMT(5,5,it.metadataRepresentation$)),t.R7$(2),t.FS9("title",t.bMT(7,7,"form.remove")))},dependencies:[i.bT,ee.v,i.Jj,le.V,m.h,m.D9]})}}return bt})();var Ee=n(78448),De=n(17191);function tt(bt,Jt){1&bt&&(t.qex(0),t.nrm(1,"ds-loading",5),t.bVm()),2&bt&&(t.R7$(),t.Y8G("showMessage",!1))}function ht(bt,Jt){if(1&bt&&(t.qex(0),t.nrm(1,"ds-listable-object-component-loader",6),t.nI1(2,"async"),t.bVm()),2&bt){const Tt=t.XpG();t.R7$(),t.Y8G("showLabel",!1)("viewMode",Tt.viewType)("object",t.bMT(2,3,Tt.relatedItem$))}}let Et=(()=>{class bt{constructor(Tt,Ft,it){this.selectableListService=Tt,this.submissionService=Ft,this.store=it,this.relatedItem$=new te.t(void 0),this.viewType=Ee.n.ListElement,this.remove=new t.bkB,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){(0,x.a4)(this.reoRel)&&this.subs.push((this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem).pipe((0,L.v7)(),(0,L.Bo)(),(0,Z.p)(Ft=>(0,x.a4)(Ft)&&(0,x.hj)(Ft.uuid))).subscribe(Ft=>{this.relatedItem$.next(Ft)}))}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.selectableListService.deselectSingle(this.listId,Object.assign(new j.H,{indexableObject:this.relatedItem$.getValue()})),this.store.dispatch(new ne.Fw(this.submissionItem,this.relatedItem$.getValue(),this.relationshipOptions.relationshipType,this.submissionId))}ngOnDestroy(){this.subs.filter(Tt=>(0,x.a4)(Tt)).forEach(Tt=>Tt.unsubscribe())}static{this.\u0275fac=function(Ft){return new(Ft||bt)(t.rXU(U.K),t.rXU(M.E),t.rXU(fe.il))}}static{this.\u0275cmp=t.VBU({type:bt,selectors:[["ds-existing-relation-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},standalone:!0,features:[t.OA$,t.aNF],decls:8,vars:6,consts:[[1,"d-flex"],[1,"flex-grow-1","me-auto"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"showLabel","viewMode","object"]],template:function(Ft,it){1&Ft&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,tt,2,1,"ng-container",2),t.nI1(3,"async"),t.DNE(4,ht,3,5,"ng-container",2),t.nI1(5,"async"),t.k0s(),t.j41(6,"button",3),t.bIt("click",function(){return it.removeSelection()}),t.nrm(7,"i",4),t.k0s()()),2&Ft&&(t.R7$(2),t.Y8G("ngIf",void 0===t.bMT(3,2,it.relatedItem$)),t.R7$(2),t.Y8G("ngIf",t.bMT(5,4,it.relatedItem$)))},dependencies:[ee.v,i.Jj,De.v,i.bT],styles:["span.text-contents[_ngcontent-%COMP%]{padding:var(--bs-btn-padding-y) 0}"]})}}return bt})();var Ye=n(37636),pt=n(6011);const Mt=["componentViewContainer"],Ne=["*"],ot=(bt,Jt)=>[bt,Jt],Gt=bt=>({$implicit:bt}),Zt=(bt,Jt)=>({row:bt,"d-none":Jt}),mt=()=>({standalone:!0}),Pt=bt=>({"d-block pb-2 pt-2":bt});function Ce(bt,Jt){if(1&bt&&(t.nrm(0,"label",12),t.nI1(1,"translate"),t.nI1(2,"translate")),2&bt){const Tt=t.XpG();t.Y8G("id","label_"+Tt.model.id)("for",Tt.id)("innerHTML",Tt.model.required&&Tt.model.label?t.bMT(1,4,Tt.model.label)+" *":t.bMT(2,6,Tt.model.label),t.npT)("ngClass",t.l_i(8,ot,Tt.getClass("element","label"),Tt.getClass("grid","label")))}}function Be(bt,Jt){1&bt&&t.eu8(0)}function ut(bt,Jt){if(1&bt&&(t.nrm(0,"small",13),t.nI1(1,"translate")),2&bt){const Tt=t.XpG();t.Y8G("innerHTML",t.bMT(1,2,Tt.model.hint),t.npT)("ngClass",Tt.getClass("element","hint"))}}function un(bt,Jt){1&bt&&t.nrm(0,"div",14)}function rn(bt,Jt){if(1&bt&&(t.j41(0,"small",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&bt){const Tt=Jt.$implicit,Ft=t.XpG(2);t.R7$(),t.JRh(t.i5U(2,1,Tt,Ft.model.validators))}}function Pn(bt,Jt){if(1&bt&&(t.j41(0,"div",15),t.DNE(1,rn,3,4,"small",16),t.k0s()),2&bt){const Tt=t.XpG();t.Y8G("id",Tt.id+"_errors")("ngClass",t.l_i(3,ot,Tt.getClass("element","errors"),Tt.getClass("grid","errors"))),t.R7$(),t.Y8G("ngForOf",Tt.errorMessages)}}function yt(bt,Jt){if(1&bt&&(t.j41(0,"option",21),t.EFF(1),t.k0s()),2&bt){const Tt=Jt.$implicit;t.Y8G("value",Tt.code),t.R7$(),t.JRh(Tt.display)}}function Kt(bt,Jt){if(1&bt){const Tt=t.RV6();t.j41(0,"div",18)(1,"select",19,1),t.mxI("ngModelChange",function(it){t.eBV(Tt);const xe=t.XpG();return t.DH7(xe.model.language,it)||(xe.model.language=it),t.Njj(it)}),t.bIt("blur",function(it){t.eBV(Tt);const xe=t.XpG();return t.Njj(xe.onBlur(it))})("change",function(it){t.eBV(Tt);const xe=t.XpG();return t.Njj(xe.onChangeLanguage(it))}),t.DNE(3,yt,2,2,"option",20),t.k0s()()}if(2&bt){const Tt=t.XpG();t.R7$(),t.Y8G("disabled",Tt.model.readOnly),t.R50("ngModel",Tt.model.language),t.Y8G("ngModelOptions",t.lJ4(4,mt)),t.R7$(2),t.Y8G("ngForOf",Tt.model.languageCodes)}}function Rt(bt,Jt){if(1&bt){const Tt=t.RV6();t.j41(0,"div",22)(1,"button",23),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(it){return t.eBV(Tt),t.XpG().openLookup(),t.Njj(it.stopPropagation())}),t.nrm(4,"i",24),t.k0s()()}2&bt&&(t.R7$(),t.FS9("ngbTooltip",t.bMT(2,2,"form.lookup-help")),t.BMQ("aria-label",t.bMT(3,4,"form.lookup-help")))}function nn(bt,Jt){1&bt&&t.eu8(0)}function gn(bt,Jt){if(1&bt){const Tt=t.RV6();t.j41(0,"ds-existing-metadata-list-element",27),t.nI1(1,"async"),t.nI1(2,"async"),t.bIt("remove",function(){t.eBV(Tt);const it=t.XpG(2);return t.Njj(it.onRemove())}),t.k0s()}if(2&bt){const Tt=t.XpG(2);t.Y8G("reoRel",t.bMT(1,6,Tt.relationshipValue$))("submissionItem",t.bMT(2,8,Tt.item$))("listId",Tt.listId)("metadataFields",Tt.model.metadataFields)("submissionId",Tt.model.submissionId)("relationshipOptions",Tt.model.relationship)}}function St(bt,Jt){if(1&bt&&(t.nrm(0,"ds-existing-relation-list-element",28),t.nI1(1,"async"),t.nI1(2,"async")),2&bt){const Tt=t.XpG(2);t.Y8G("ngClass",t.eq3(11,Pt,!(null!=Tt.context&&Tt.context.index)))("reoRel",t.bMT(1,7,Tt.relationshipValue$))("submissionItem",t.bMT(2,9,Tt.item$))("listId",Tt.listId)("metadataFields",Tt.model.metadataFields)("submissionId",Tt.model.submissionId)("relationshipOptions",Tt.model.relationship)}}function zt(bt,Jt){if(1&bt&&(t.nrm(0,"small",13),t.nI1(1,"translate")),2&bt){const Tt=t.XpG(2);t.Y8G("innerHTML",t.bMT(1,2,Tt.model.hint),t.npT)("ngClass",Tt.getClass("element","hint"))}}function Yt(bt,Jt){if(1&bt&&(t.qex(0),t.DNE(1,gn,3,10,"ds-existing-metadata-list-element",25)(2,St,3,13,"ds-existing-relation-list-element",26)(3,zt,2,4,"small",6),t.nrm(4,"div",14),t.bVm()),2&bt){const Tt=t.XpG();t.R7$(),t.Y8G("ngIf",Tt.model.hasSelectableMetadata),t.R7$(),t.Y8G("ngIf",!Tt.model.hasSelectableMetadata),t.R7$(),t.Y8G("ngIf",Tt.hasHint&&(!1===Tt.model.repeatable||(null==Tt.context?null:Tt.context.index)===(null==Tt.context||null==Tt.context.context||null==Tt.context.context.groups?null:Tt.context.context.groups.length)-1)&&(!Tt.showErrorMessages||0===Tt.errorMessages.length))}}let wt=(()=>{class bt extends h.R7k{get componentType(){return this.dynamicFormControlFn(this.model)}constructor(Tt,Ft,it,xe,Ve,Ke,je,At,Qe,st,ke,Le,dt,It,an,Dn,jn,Zn){super(dt,Tt,it,xe,Ft,je),this.componentFactoryResolver=Tt,this.dynamicFormComponentService=Ft,this.layoutService=it,this.validationService=xe,this.typeBindRelationService=Ve,this.translateService=Ke,this.relationService=je,this.modalService=At,this.relationshipService=Qe,this.selectableListService=st,this.store=ke,this.submissionObjectService=Le,this.ref=dt,this.formBuilderService=It,this.submissionService=an,this.metadataService=Dn,this.appConfig=jn,this.dynamicFormControlFn=Zn,this.asBootstrapFormGroup=!1,this.bindId=!0,this.context=null,this.hasErrorMessaging=!1,this.layout=null,this.subs=[],this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.customEvent=new t.bkB,this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}ngOnInit(){this.isRelationship=(0,x.a4)(this.model.relationship);const Tt=(0,x.a4)(this.model.relationshipConfig);if(this.isRelationship||Tt){const Ft=this.model.relationshipConfig||this.model.relationship,it=Object.assign(new G.j,Ft);if(this.listId=`list-${this.model.submissionId}-${it.relationshipType}`,this.setItem(),Tt||!this.model.repeatable){const xe=this.selectableListService.getSelectableList(this.listId).pipe((0,v.I)(Ve=>(0,x.Tn)(Ve)),(0,E.n)(()=>this.item$.pipe((0,_.s)(1))),(0,E.n)(Ve=>{const Ke=this.relationshipService.getItemRelationshipsByLabel(Ve,it.relationshipType,void 0,!0,!0,(0,$.s)("leftItem"),(0,$.s)("rightItem"),(0,$.s)("relationshipType"));return Ke.pipe((0,L.ak)(),(0,L.W8)()).subscribe(je=>{je.forEach(At=>{const Qe=Ve.firstMetadata(it.metadataField,{authority:`${p.BY}${At.id}`}),st=Ve.firstMetadata(this.model.metadataFields,{authority:`${p.BY}${At.id}`});(0,x.a4)(Qe)&&(0,x.hj)(Qe.value)&&(0,x.a4)(st)&&(0,x.hj)(st.value)&&this.relationshipService.setNameVariant(this.listId,Qe.value,st.value)})}),Ke.pipe((0,w.EF)(Ve.uuid),(0,L.yd)(),(0,C.T)(je=>je.payload.page.map(At=>Object.assign(new j.H,{indexableObject:At}))))})).subscribe(Ve=>this.selectableListService.select(this.listId,Ve));this.subs.push(xe)}if(this.value=(0,x.a4)(this.model.metadataValue)?Object.assign(new X.e,this.model.metadataValue):Object.assign(new X.e,this.model.value),(0,x.a4)(this.value)&&this.metadataService.isVirtual(this.value)){const xe=this.relationshipService.findById(this.metadataService.virtualValue(this.value),!0,!0,...(0,k.nW)(this.fetchThumbnail,this.appConfig.item.showAccessStatuses)).pipe((0,L.v7)(),(0,L.Bo)());this.relationshipValue$=(0,f.z)([this.item$.pipe((0,_.s)(1)),xe]).pipe((0,E.n)(([Ve,Ke])=>Ke.leftItem.pipe((0,L.v7)(),(0,L.Bo)(),(0,C.T)(je=>new me(Ke,je.uuid!==Ve.uuid,this.store,this.model.submissionId)))),(0,S.Z)(void 0))}}}get isCheckbox(){return this.model.type===h.eU4||this.model.type===Ye.L}ngOnChanges(Tt){Tt&&!this.isRelationship&&(0,x.a4)(this.group.get(this.model.id))&&(super.ngOnChanges(Tt),this.model&&this.model.placeholder&&(this.model.placeholder=this.translateService.instant(this.model.placeholder)),this.model.typeBindRelations&&this.model.typeBindRelations.length>0&&this.subscriptions.push(...this.typeBindRelationService.subscribeRelations(this.model,this.control)))}ngDoCheck(){(0,x.EA)(this.showErrorMessagesPreviousStage)&&this.showErrorMessagesPreviousStage!==this.showErrorMessages&&(this.showErrorMessagesPreviousStage=this.showErrorMessages,this.forceShowErrorDetection())}ngAfterViewInit(){this.showErrorMessagesPreviousStage=this.showErrorMessages}createFormControlComponent(){if(super.createFormControlComponent(),null!==this.componentType){let Tt;this.context&&this.context instanceof h.fHx&&(Tt=this.context.index);const Ft=this.dynamicFormComponentService.getFormControlRef(this.model,Tt);Ft&&(Ft.formModel=this.formModel,Ft.formGroup=this.formGroup)}}forceShowErrorDetection(){this.showErrorMessages&&(this.destroyFormControlComponent(),this.createFormControlComponent())}onChangeLanguage(Tt){(0,x.hj)(this.model.value)&&this.onChange(Tt)}hasRelationship(){return(0,x.hj)(this.model)&&this.model.hasOwnProperty("relationship")&&(0,x.hj)(this.model.relationship)}isVirtual(){const Tt=this.model.metadataValue;return(0,x.hj)(Tt)&&Tt.isVirtual}hasResultsSelected(){return this.model.value.pipe((0,C.T)(Tt=>(0,x.hj)(Tt)))}openLookup(){this.modalRef=this.modalService.open(pt.d,{size:"lg"}),(0,x.a4)(this.model.value)&&(this.focus.emit({$event:new Event("focus"),context:this.context,control:this.control,model:this.model,type:h.HkG.Focus}),this.change.emit({$event:new Event("change"),context:this.context,control:this.control,model:this.model,type:h.HkG.Change})),this.submissionService.dispatchSave(this.model.submissionId);const Tt=this.modalRef.componentInstance;(0,x.a4)(this.model.value)&&!this.model.readOnly&&("string"==typeof this.model.value?Tt.query=this.model.value:"string"==typeof this.model.value.value&&(Tt.query=this.model.value.value)),Tt.repeatable=this.model.repeatable,Tt.listId=this.listId,Tt.relationshipOptions=this.model.relationship,Tt.label=this.model.relationship.relationshipType,Tt.metadataFields=this.model.metadataFields,Tt.item=this.item,Tt.collection=this.collection,Tt.submissionId=this.model.submissionId}onRemove(){const Tt=this.context.context,Ft=this.formBuilderService.getPath(Tt),it=this.group.root.get(Ft);this.formBuilderService.removeFormArrayGroup(this.context.index,it,Tt),0===this.model.parent.context.groups.length&&this.formBuilderService.addFormArrayGroup(it,Tt)}ngOnDestroy(){this.subs.filter(Tt=>(0,x.a4)(Tt)).forEach(Tt=>Tt.unsubscribe())}get hasHint(){return(0,x.hj)(this.model.hint)&&"&nbsp;"!==this.model.hint}setItem(){const Tt=this.submissionObjectService.findById(this.model.submissionId,!0,!0,(0,$.s)("item"),(0,$.s)("collection")).pipe((0,L.v7)(),(0,L.Bo)());this.item$=Tt.pipe((0,E.n)(it=>it.item.pipe((0,L.v7)(),(0,L.Bo)())));const Ft=Tt.pipe((0,E.n)(it=>it.collection.pipe((0,L.v7)(),(0,L.Bo)())));this.subs.push(this.item$.subscribe(it=>this.item=it)),this.subs.push(Ft.subscribe(it=>this.collection=it))}static{this.\u0275fac=function(Ft){return new(Ft||bt)(t.rXU(t.OM3),t.rXU(h.cYz),t.rXU(h.fpj),t.rXU(h.STK),t.rXU(z),t.rXU(m.c$),t.rXU(h.$eO),t.rXU(e.Bq),t.rXU(T.RelationshipDataService),t.rXU(U.K),t.rXU(fe.il),t.rXU(D.$),t.rXU(t.gRc),t.rXU(K.j),t.rXU(M.E),t.rXU(A.T),t.rXU(R.vQ),t.rXU(h.Fdw))}}static{this.\u0275cmp=t.VBU({type:bt,selectors:[["ds-dynamic-form-control-container"]],contentQueries:function(Ft,it,xe){if(1&Ft&&t.wni(xe,h.vJF,4),2&Ft){let Ve;t.mGM(Ve=t.lsd())&&(it.contentTemplateList=Ve)}},viewQuery:function(Ft,it){if(1&Ft&&t.GBs(Mt,7,t.c1b),2&Ft){let xe;t.mGM(xe=t.lsd())&&(it.componentViewContainerRef=xe.first)}},inputs:{inputTemplateList:[t.Mj6.None,"templates","inputTemplateList"],hasMetadataModel:"hasMetadataModel",formId:"formId",formGroup:"formGroup",formModel:"formModel",asBootstrapFormGroup:"asBootstrapFormGroup",bindId:"bindId",context:"context",group:"group",hostClass:"hostClass",hasErrorMessaging:"hasErrorMessaging",layout:"layout",model:"model"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],ngContentSelectors:Ne,decls:16,vars:27,consts:[["componentViewContainer",""],["language","ngModel"],[3,"formGroup","ngClass"],["class","form-label",3,"id","for","innerHTML","ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["class","text-muted ds-hint",3,"innerHTML","ngClass",4,"ngIf"],["class","clearfix w-100 mb-2",4,"ngIf"],[3,"id","ngClass",4,"ngIf"],["class","col-xs-2",4,"ngIf"],["class","col-auto text-center",4,"ngIf"],[4,"ngIf"],[1,"form-label",3,"id","for","innerHTML","ngClass"],[1,"text-muted","ds-hint",3,"innerHTML","ngClass"],[1,"clearfix","w-100","mb-2"],[3,"id","ngClass"],["class","invalid-feedback d-block",4,"ngFor","ngForOf"],[1,"invalid-feedback","d-block"],[1,"col-xs-2"],["required","",1,"form-select",3,"ngModelChange","blur","change","disabled","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-auto","text-center"],["type","button","placement","top","data-test","lookup-button",1,"btn","btn-secondary",3,"click","ngbTooltip"],[1,"fa","fa-search"],[3,"reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions","remove",4,"ngIf"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions",4,"ngIf"],[3,"remove","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"]],template:function(Ft,it){1&Ft&&(t.NAR(),t.j41(0,"div",2),t.DNE(1,Ce,3,11,"label",3)(2,Be,1,0,"ng-container",4),t.j41(3,"div",5)(4,"div",5)(5,"div"),t.eu8(6,null,0),t.k0s(),t.DNE(8,ut,2,4,"small",6)(9,un,1,0,"div",7)(10,Pn,2,6,"div",8),t.k0s(),t.DNE(11,Kt,4,5,"div",9)(12,Rt,5,6,"div",10),t.k0s(),t.DNE(13,nn,1,0,"ng-container",4)(14,Yt,5,3,"ng-container",11),t.SdG(15),t.k0s()),2&Ft&&(t.AVh("mb-3","GROUP"!==it.model.type&&it.asBootstrapFormGroup||it.getClass("element","container").includes("mb-3"))("d-none",it.model.hidden),t.Y8G("formGroup",it.group)("ngClass",t.l_i(19,ot,it.getClass("element","container"),it.getClass("grid","container"))),t.R7$(),t.Y8G("ngIf",!it.isCheckbox&&it.hasLabel),t.R7$(),t.Y8G("ngTemplateOutlet",null==it.startTemplate?null:it.startTemplate.templateRef)("ngTemplateOutletContext",t.eq3(22,Gt,it.model)),t.R7$(),t.Y8G("ngClass",t.l_i(24,Zt,it.model.hasLanguages||it.isRelationship,it.metadataService.isVirtual(it.value)&&(it.model.hasSelectableMetadata||(null==it.context?null:it.context.index)>0))),t.R7$(),t.Y8G("ngClass",it.getClass("grid","control")),t.R7$(4),t.Y8G("ngIf",it.hasHint&&(it.formBuilderService.hasArrayGroupValue(it.model)||!it.model.repeatable&&(!1===it.isRelationship||null===(null==it.value?null:it.value.value))||!0===it.model.repeatable&&(null==it.context?null:it.context.index)===(null==it.context||null==it.context.context||null==it.context.context.groups?null:it.context.context.groups.length)-1)&&(!it.showErrorMessages||0===it.errorMessages.length)),t.R7$(),t.Y8G("ngIf",null!==(null==it.context?null:it.context.index)&&(!it.showErrorMessages||0===it.errorMessages.length)),t.R7$(),t.Y8G("ngIf",!it.model.hideErrorMessages&&it.showErrorMessages),t.R7$(),t.Y8G("ngIf",it.model.languageCodes&&it.model.languageCodes.length>0),t.R7$(),t.Y8G("ngIf",it.isRelationship),t.R7$(),t.Y8G("ngTemplateOutlet",null==it.endTemplate?null:it.endTemplate.templateRef)("ngTemplateOutletContext",it.model),t.R7$(),t.Y8G("ngIf",it.metadataService.isVirtual(it.value)))},dependencies:[re,i.bT,i.YU,i.Jj,m.h,m.D9,u.X1,u.xH,u.y7,u.wz,u.BC,u.cb,u.YS,u.j4,i.Sq,u.YN,u.vS,e.n8,e.md,i.T3,Et],styles:["[_nghost-%COMP%]     .ds-form-input-addon{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}[_nghost-%COMP%]     .ds-form-input-btn{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}[_nghost-%COMP%]     .ds-form-input-btn:focus{box-shadow:none!important}[_nghost-%COMP%]     button.ds-form-add-more:focus{outline:none;box-shadow:none!important}[_nghost-%COMP%]     .ds-form-input-value{border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     .fa-spin{pointer-events:none}[_nghost-%COMP%]     .left-addon .far, [_nghost-%COMP%]     .left-addon .fas, [_nghost-%COMP%]     .left-addon i{left:0}[_nghost-%COMP%]     .right-addon .far, [_nghost-%COMP%]     .right-addon .fas, [_nghost-%COMP%]     .right-addon i{right:0}[_nghost-%COMP%]     .left-addon input{padding-left:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .right-addon input{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     select.form-control{appearance:auto}[_nghost-%COMP%]     .col-sm-6, [_nghost-%COMP%]     .col-sm-12{padding-left:15px;padding-right:15px}[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center}[_nghost-%COMP%]     .custom-select{appearance:none}[_nghost-%COMP%]     .btn-group-toggle>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}[_nghost-%COMP%]     dynamic-ng-bootstrap-radio-group{display:block;width:100%}[_nghost-%COMP%]     dynamic-ng-bootstrap-radio-group>.btn-group.btn-group-toggle{width:100%}[_nghost-%COMP%]     .custom-control-input.is-invalid~.custom-control-label{color:var(--bs-form-invalid-color)}"]})}}return bt})()},37636:(F,b,n)=>{"use strict";n.d(b,{L:()=>u,i:()=>e});var i=n(31635),t=n(1473);const u="CUSTOM_SWITCH";class e extends t.M7d{constructor(m,f){super(m,f),this.type=u}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],e.prototype,"type",void 0)},33382:(F,b,n)=>{"use strict";n.d(b,{q:()=>L,P:()=>D});var i=n(60177),t=n(54438),u=n(89417),e=n(1473),h=n(41780),m=n(48125),f=n.n(m),v=n(82777),E=n(60456);const _=w=>({field:w}),C=w=>({"is-invalid":w});let S=(()=>{class w{constructor(x,j,U){this.fb=x,this.cd=j,this.translate=U,this.selected=new t.bkB,this.remove=new t.bkB,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB}ngOnInit(){this.step=this.step||1,this.min=this.min||0,this.max=this.max||100,this.size=this.size||1,this.disabled=this.disabled||!1,this.invalid=this.invalid||!1,this.cd.detectChanges()}ngOnChanges(x){this.value?x.max&&(this.value=this.value>this.max?this.max:this.value):x.value&&null===x.value.currentValue?this.value=null:x.invalid&&(this.invalid=x.invalid.currentValue)}changeValue(x=!1){if((0,v.Im)(this.value))this.value=this.startValue;else{this.startValue=this.value;let j=this.value;x?j-=this.step:j+=this.step,this.value=j>=this.min&&j<=this.max?j:j>this.max?this.min:this.max}this.emitChange()}toggleDown(){this.changeValue(!0)}toggleUp(){this.changeValue()}update(x){try{const j=Number.parseInt(x.target.value,10);this.value=j>=this.min&&j<=this.max?j:null===x.target.value||""===x.target.value?null:void 0,this.emitChange()}catch{this.value=void 0}}onBlur(x){this.blur.emit(x)}onFocus(x){this.value&&(this.startValue=this.value),this.focus.emit(x)}writeValue(x){this.startValue=x||this.min}registerOnChange(x){}registerOnTouched(x){}emitChange(){this.change.emit({field:this.name,value:this.value})}static{this.\u0275fac=function(j){return new(j||w)(t.rXU(u.ze),t.rXU(t.gRc),t.rXU(h.c$))}}static{this.\u0275cmp=t.VBU({type:w,selectors:[["ds-number-picker"]],inputs:{id:"id",step:"step",min:"min",max:"max",size:"size",placeholder:"placeholder",name:"name",disabled:"disabled",invalid:"invalid",value:"value"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Jv_([{provide:u.kq,useExisting:w,multi:!0}]),t.OA$,t.aNF],decls:12,vars:27,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-around","me-3"],["type","button","tabindex","0",1,"btn","btn-link-focus",3,"click","dsBtnDisabled"],[1,"chevron"],[1,"sr-only"],["type","text",1,"form-control","d-inline-block","text-center",3,"ngModelChange","blur","change","focus","id","maxlength","size","placeholder","name","ngModel","readonly","disabled","ngClass","title"],[1,"chevron","bottom"]],template:function(j,U){1&j&&(t.j41(0,"div",0)(1,"button",1),t.bIt("click",function(){return U.toggleUp()}),t.nrm(2,"span",2),t.j41(3,"span",3),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"input",4),t.mxI("ngModelChange",function(k){return t.DH7(U.value,k)||(U.value=k),k}),t.bIt("blur",function(k){return U.onBlur(k),k.stopPropagation()})("change",function(k){return U.update(k),k.stopPropagation()})("focus",function(k){return U.onFocus(k),k.stopPropagation()}),t.k0s(),t.j41(7,"button",1),t.bIt("click",function(){return U.toggleDown()}),t.nrm(8,"span",5),t.j41(9,"span",3),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()),2&j&&(t.R7$(),t.Y8G("dsBtnDisabled",U.disabled),t.R7$(3),t.JRh(t.i5U(5,15,"form.number-picker.increment",t.eq3(21,_,U.name))),t.R7$(2),t.FS9("id",U.id),t.FS9("maxlength",U.size),t.FS9("size",U.size),t.FS9("placeholder",U.placeholder),t.FS9("title",U.placeholder),t.Y8G("name",U.name),t.R50("ngModel",U.value),t.Y8G("readonly",U.disabled)("disabled",U.disabled)("ngClass",t.eq3(23,C,U.invalid)),t.BMQ("aria-label",U.placeholder),t.R7$(),t.Y8G("dsBtnDisabled",U.disabled),t.R7$(3),t.JRh(t.i5U(11,18,"form.number-picker.decrement",t.eq3(25,_,U.name))))},dependencies:[i.YU,u.YN,u.me,u.BC,u.tU,u.vS,h.h,h.D9,E.A],styles:['[_nghost-%COMP%]{outline:none}.chevron[_ngcontent-%COMP%]:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.71em}.chevron.bottom[_ngcontent-%COMP%]:before{top:-.3em;transform:rotate(135deg)}input[_ngcontent-%COMP%]{max-width:80px!important}.btn-link-focus[_ngcontent-%COMP%]{font-weight:400;color:#1f7293;text-decoration:none;box-shadow:none}.btn-link-focus[_ngcontent-%COMP%]:hover{color:#001a1a;text-decoration:underline}.btn-link-focus[_ngcontent-%COMP%]:disabled, .btn-link-focus.disabled[_ngcontent-%COMP%]{color:#6c757d;border:rgba(0,0,0,0);pointer-events:none}.btn-link-focus[_ngcontent-%COMP%]:focus, .btn-link-focus.focus[_ngcontent-%COMP%]{text-decoration:underline}']})}}return w})();n(87668);const T=(w,M)=>[w,M];function A(w,M){1&w&&(t.j41(0,"span"),t.EFF(1,"*"),t.k0s())}function p(w,M){if(1&w&&(t.j41(0,"legend",5),t.EFF(1),t.DNE(2,A,2,0,"span",6),t.k0s()),2&w){const x=t.XpG();t.Y8G("id","legend_"+x.model.id)("ngClass",t.l_i(4,T,x.getClass("element","label"),x.getClass("grid","label"))),t.R7$(),t.SpI(" ",x.model.placeholder," "),t.R7$(),t.Y8G("ngIf",x.model.required)}}const L="-";let D=(()=>{class w extends e.S6A{constructor(x,j,U,$){super(x,j),this.layoutService=x,this.validationService=j,this.renderer=U,this._document=$,this.bindId=!0,this.selected=new t.bkB,this.remove=new t.bkB,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.minMonth=1,this.maxMonth=12,this.minDay=1,this.maxDay=31,this.disabledMonth=!0,this.disabledDay=!0,this.fields=["_year","_month","_day"]}ngOnInit(){const x=new Date;if(this.initialYear=x.getUTCFullYear(),this.initialMonth=x.getUTCMonth()+1,this.initialDay=x.getUTCDate(),this.model&&null!==this.model.value){const j=this.model.value.toString().split(L);j.length>0&&(this.initialYear=parseInt(j[0],10),this.year=this.initialYear,this.disabledMonth=!1),j.length>1&&(this.initialMonth=parseInt(j[1],10),this.month=this.initialMonth,this.disabledDay=!1),j.length>2&&(this.initialDay=parseInt(j[2],10),this.day=this.initialDay)}this.maxYear=x.getUTCFullYear()+100}onBlur(x){this.blur.emit()}onChange(x){switch(x.field){case"year":null!==x.value?this.year=x.value:(this.year=void 0,this.month=void 0,this.day=void 0,this.disabledMonth=!0,this.disabledDay=!0);break;case"month":null!==x.value?this.month=x.value:(this.month=void 0,this.day=void 0,this.disabledDay=!0);break;case"day":this.day=null!==x.value?x.value:void 0}if(!this.disabledDay){const $=new Date(this.year,this.month?this.month-1:0,1);this.maxDay=this.getLastDay($),this.day>this.maxDay&&(this.day=this.maxDay)}(0,v.a4)(this.year)&&"year"===x.field?this.disabledMonth=!1:(0,v.a4)(this.month)&&"month"===x.field&&(this.disabledDay=!1);let j=null;if((0,v.a4)(this.year)){let U=this.year.toString();for(;U.length<4;)U="0"+U;j=U}if((0,v.a4)(this.month)){const U=1===this.month.toString().length?"0"+this.month.toString():this.month.toString();j+=L+U}if((0,v.a4)(this.day)){const U=1===this.day.toString().length?"0"+this.day.toString():this.day.toString();j+=L+U}this.model.value=j,this.change.emit(j)}onTabKeydown(x){x.preventDefault();const j=this._document.activeElement;j.blur();const U=this.selectedFieldIndex(j);if(U<0)return;const $=U+1;$<this.fields.length&&this.focusInput(this.fields[$])}onShiftTabKeyDown(x){x.preventDefault();const j=this._document.activeElement;j.blur();const $=this.selectedFieldIndex(j)-1;$>=0&&this.focusInput(this.fields[$])}selectedFieldIndex(x){return this.fields.findIndex(j=>f()(x.id,this.model.id.concat(j)))}focusInput(x){const j=this._document.getElementById(this.model.id.concat(x));j&&((0,v.a4)(this.year)&&f()(x,"_year")&&(this.disabledMonth=!0,this.disabledDay=!0),(0,v.a4)(this.year)&&f()(x,"_month")?this.disabledMonth=!1:(0,v.a4)(this.month)&&f()(x,"_day")&&(this.disabledDay=!1),setTimeout(()=>{this.renderer.selectRootElement(j).focus()},100))}onFocus(x){this.focus.emit(x)}getLastDay(x){return x.setMonth(x.getMonth()+1,0),x.getDate()}static{this.\u0275fac=function(j){return new(j||w)(t.rXU(e.fpj),t.rXU(e.STK),t.rXU(t.sFG),t.rXU(i.qQ))}}static{this.\u0275cmp=t.VBU({type:w,selectors:[["ds-date-picker"]],hostBindings:function(j,U){1&j&&t.bIt("keydown.tab",function(k){return U.onTabKeydown(k)})("keydown.shift.tab",function(k){return U.onShiftTabKeyDown(k)})},inputs:{bindId:"bindId",group:"group",model:"model",legend:"legend"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:10,vars:35,consts:[[1,"d-flex"],[3,"id","ngClass",4,"ngIf"],["tabindex","0",3,"ngModelChange","blur","change","focus","id","disabled","min","max","name","size","ngModel","value","invalid","placeholder"],["tabindex","0",3,"ngModelChange","blur","change","focus","id","min","max","name","size","ngModel","value","placeholder","disabled"],[1,"clearfix"],[3,"id","ngClass"],[4,"ngIf"]],template:function(j,U){1&j&&(t.j41(0,"div")(1,"fieldset",0),t.DNE(2,p,3,7,"legend",1),t.j41(3,"ds-number-picker",2),t.nI1(4,"translate"),t.mxI("ngModelChange",function(k){return t.DH7(U.initialYear,k)||(U.initialYear=k),k}),t.bIt("blur",function(k){return U.onBlur(k)})("change",function(k){return U.onChange(k)})("focus",function(k){return U.onFocus(k)}),t.k0s(),t.j41(5,"ds-number-picker",3),t.nI1(6,"translate"),t.mxI("ngModelChange",function(k){return t.DH7(U.initialMonth,k)||(U.initialMonth=k),k}),t.bIt("blur",function(k){return U.onBlur(k)})("change",function(k){return U.onChange(k)})("focus",function(k){return U.onFocus(k)}),t.k0s(),t.j41(7,"ds-number-picker",3),t.nI1(8,"translate"),t.mxI("ngModelChange",function(k){return t.DH7(U.initialDay,k)||(U.initialDay=k),k}),t.bIt("blur",function(k){return U.onBlur(k)})("change",function(k){return U.onChange(k)})("focus",function(k){return U.onFocus(k)}),t.k0s()()(),t.nrm(9,"div",4)),2&j&&(t.R7$(2),t.Y8G("ngIf",!U.model.repeatable),t.R7$(),t.Y8G("id",U.model.id+"_year")("disabled",U.model.disabled)("min",U.minYear)("max",U.maxYear)("name","year")("size",4),t.R50("ngModel",U.initialYear),t.Y8G("value",U.year)("invalid",U.showErrorMessages)("placeholder",t.bMT(4,29,"form.date-picker.placeholder.year")),t.R7$(2),t.Y8G("id",U.model.id+"_month")("min",U.minMonth)("max",U.maxMonth)("name","month")("size",6),t.R50("ngModel",U.initialMonth),t.Y8G("value",U.month)("placeholder",t.bMT(6,31,"form.date-picker.placeholder.month"))("disabled",!U.year||U.model.disabled),t.R7$(2),t.Y8G("id",U.model.id+"_day")("min",U.minDay)("max",U.maxDay)("name","day")("size",2),t.R50("ngModel",U.initialDay),t.Y8G("value",U.day)("placeholder",t.bMT(8,33,"form.date-picker.placeholder.day"))("disabled",!U.month||U.model.disabled))},dependencies:[i.YU,i.bT,S,u.YN,u.BC,u.vS,h.h,h.D9],styles:[".col-lg-1[_ngcontent-%COMP%]{width:auto}legend[_ngcontent-%COMP%]{font-size:initial;float:none}"]})}}return w})()},87668:(F,b,n)=>{"use strict";n.d(b,{g:()=>v,s:()=>f});var i=n(31635),t=n(1473),u=n(84412),e=n(21413),h=n(14391),m=n(82777);const f="DATE";class v extends t.eGm{constructor(_,C){super(_,C),this.type=f,this.hasLanguages=!1,this.repeatable=!1,this.malformedDate=!1,this.legend=_.legend,this.metadataValue=_.metadataValue,this.typeBindRelations=_.typeBindRelations?_.typeBindRelations:[],this.hiddenUpdates=new u.t(this.hidden),this.repeatable=_.repeatable;const S=this.getRootParent(this);S&&(0,m.EA)(S.hidden)&&(S.hidden=this.hidden)}getRootParent(_){return(0,m.Im)(_)||(0,m.Im)(_.parent)?_:this.getRootParent(_.parent)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.B)],v.prototype,"hiddenUpdates",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],v.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],v.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",h.vD)],v.prototype,"metadataValue",void 0)},6458:(F,b,n)=>{"use strict";n.d(b,{H:()=>h,v:()=>e});var i=n(31635),t=n(1473),u=n(66733);const e="EMPTY";class h extends u.C{constructor(f,v){super(f,v),this.type=e,this.readOnly=!0,this.disabled=!0,this.hasSelectableMetadata=f.hasSelectableMetadata,this.value=f.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],h.prototype,"hasSelectableMetadata",void 0)},66733:(F,b,n)=>{"use strict";n.d(b,{C:()=>v});var i=n(31635),t=n(1473),u=n(21413),e=n(89293),h=n(82777),m=n(61280),f=n(56568);class v extends t.rA_{constructor(_,C){super(_,C),this.typeBindHidden=!1,this.repeatable=_.repeatable,this.metadataFields=_.metadataFields,this.hint=_.hint,this.readOnly=_.readOnly,this.disabled=_.readOnly,this.value=_.value,this.relationship=_.relationship,this.submissionId=_.submissionId,this.hasSelectableMetadata=_.hasSelectableMetadata,this.metadataValue=_.metadataValue,this.place=_.place,this.isModelOfInnerForm=!!(0,h.a4)(_.isModelOfInnerForm)&&_.isModelOfInnerForm,this.hideErrorMessages=_.hideErrorMessages,this.language=_.language,this.language||(_.value instanceof m.e?this.language=_.value.language:Array.isArray(_.value)&&_.value[0].language&&(this.language=_.value[0].language)),this.languageCodes=_.languageCodes,this.languageUpdates=new u.B,this.languageUpdates.subscribe(S=>{this.language=S}),this.typeBindRelations=_.typeBindRelations?_.typeBindRelations:[],this.vocabularyOptions=_.vocabularyOptions}get hasAuthority(){return this.vocabularyOptions&&(0,h.a4)(this.vocabularyOptions.name)}get hasLanguages(){return this.languageCodes&&this.languageCodes.length>1}get language(){return this._language}set language(_){this._language=_}get languageCodes(){return this._languageCodes}set languageCodes(_){this._languageCodes=_,(!this.language||""===this.language)&&(this.language=this.languageCodes?this.languageCodes[0].code:null)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.n)],v.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],v.prototype,"_languageCodes",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],v.prototype,"_language",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",u.B)],v.prototype,"languageUpdates",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],v.prototype,"place",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],v.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],v.prototype,"typeBindHidden",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",f.j)],v.prototype,"relationship",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],v.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],v.prototype,"metadataFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],v.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],v.prototype,"hasSelectableMetadata",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",m.e)],v.prototype,"metadataValue",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],v.prototype,"isModelOfInnerForm",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],v.prototype,"hideErrorMessages",void 0)},8590:(F,b,n)=>{"use strict";n.d(b,{m:()=>h});var i=n(31635),t=n(1473),u=n(82777),e=n(56568);class h extends t.UqU{constructor(f,v){super(f,v),this.notRepeatable=!1,this.required=!1,this.showButtons=!0,this.isRowArray=!0,this.isInlineGroupArray=!1,(0,u.a4)(f.notRepeatable)&&(this.notRepeatable=f.notRepeatable),(0,u.a4)(f.required)&&(this.required=f.required),(0,u.a4)(f.showButtons)&&(this.showButtons=f.showButtons),this.submissionId=f.submissionId,this.relationshipConfig=f.relationshipConfig,this.metadataKey=f.metadataKey,this.metadataFields=f.metadataFields,this.hasSelectableMetadata=f.hasSelectableMetadata,this.isDraggable=f.isDraggable,this.typeBindRelations=f.typeBindRelations?f.typeBindRelations:[],this.isInlineGroupArray=!!f.isInlineGroupArray&&f.isInlineGroupArray}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],h.prototype,"notRepeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],h.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.j)],h.prototype,"relationshipConfig",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"metadataKey",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],h.prototype,"metadataFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],h.prototype,"hasSelectableMetadata",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],h.prototype,"isDraggable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],h.prototype,"showButtons",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],h.prototype,"typeBindRelations",void 0)},77485:(F,b,n)=>{"use strict";n.d(b,{E:()=>e});var i=n(31635),t=n(1473),u=n(66733);class e extends u.C{constructor(m,f){super(m,f),this.type=t.TwG,this.cols=m.cols,this.rows=m.rows,this.wrap=m.wrap}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],e.prototype,"cols",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],e.prototype,"rows",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],e.prototype,"wrap",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],e.prototype,"type",void 0)},54875:(F,b,n)=>{"use strict";n.d(b,{o:()=>C});var i=n(1473),t=n(7673),u=n(96354),e=n(32089),h=n(43235),m=n(19506),f=n(82777),v=n(61280),_=(n(66733),n(54438));let C=(()=>{class S extends i.S6A{constructor(T,A,p){super(A,p),this.vocabularyService=T,this.layoutService=A,this.validationService=p}getInitValueFromModel(T=!1){let A;if((0,f.hj)(this.model.value)&&this.model.value instanceof v.e&&!this.model.value.hasAuthorityToGenerate()){let p;p=this.model.value.hasAuthority()?this.vocabularyService.getVocabularyEntryByID(this.model.value.authority,this.model.vocabularyOptions):this.vocabularyService.getVocabularyEntryByValue(this.model.value.value,this.model.vocabularyOptions),A=p.pipe((0,u.T)(L=>{if((0,f.hj)(L)){const D=new v.e(L.value,null,L.authority,L.display,this.model.value.place,null,L.otherInformation||null);return T&&(D.confidence=this.model.value.confidence),D}return this.model.value}))}else A=(0,f.hj)(this.model.value)&&this.model.value instanceof h.b?(0,t.of)(new v.e(this.model.value.value,null,this.model.value.authority,this.model.value.display,0,null,this.model.value.otherInformation||null)):(0,t.of)(new v.e(this.model.value));return A}onBlur(T){this.blur.emit(T)}onFocus(T){this.focus.emit(T)}dispatchUpdate(T){this.model.value=T,this.change.emit(T)}updatePageInfo(T,A,p,L){this.pageInfo=Object.assign(new e.Q,{elementsPerPage:T,currentPage:A,totalElements:p,totalPages:L})}static{this.\u0275fac=function(A){return new(A||S)(_.rXU(m.g),_.rXU(i.fpj),_.rXU(i.STK))}}static{this.\u0275cmp=_.VBU({type:S,selectors:[["ds-dynamic-vocabulary"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_.Vt3],decls:0,vars:0,template:function(A,p){},encapsulation:2})}}return S})()},29658:(F,b,n)=>{"use strict";n.d(b,{R:()=>m});var i=n(31635),t=n(1473),u=n(21413),e=n(89293),h=n(82777);class m extends t.JVJ{constructor(v,E){super(v,E),this.isListGroup=!0,this.vocabularyOptions=v.vocabularyOptions,this.groupLength=v.groupLength||5,this._value=[],this.repeatable=v.repeatable,this.required=v.required,this.hint=v.hint,this.valueUpdates=new u.B,this.valueUpdates.subscribe(_=>this.value=_),this.valueUpdates.next(v.value),this.typeBindRelations=v.typeBindRelations?v.typeBindRelations:[]}get hasAuthority(){return this.vocabularyOptions&&(0,h.a4)(this.vocabularyOptions.name)}get value(){return this._value}set value(v){v&&(this._value=Array.isArray(v)?v:this.value.concat([v]))}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.n)],m.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],m.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],m.prototype,"groupLength",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"_value",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],m.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"hint",void 0)},90558:(F,b,n)=>{"use strict";n.d(b,{t:()=>h});var i=n(31635),t=n(1473),u=n(89293),e=n(82777);class h extends t.tK_{constructor(f,v){super(f,v),this.isListGroup=!0,this.vocabularyOptions=f.vocabularyOptions,this.groupLength=f.groupLength||5,this.repeatable=f.repeatable,this.required=f.required,this.hint=f.hint,this.value=f.value,this.typeBindRelations=f.typeBindRelations?f.typeBindRelations:[]}get hasAuthority(){return this.vocabularyOptions&&(0,e.a4)(this.vocabularyOptions.name)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",u.n)],h.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],h.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],h.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],h.prototype,"groupLength",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],h.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"hint",void 0)},37146:(F,b,n)=>{"use strict";n.d(b,{V:()=>e,_:()=>h});var i=n(31635),t=n(1473),u=n(80902);const e="LOOKUP_NAME";class h extends u.P{constructor(f,v){super(f,v),this.type=e,this.separator=f.separator||",",this.placeholder=f.firstPlaceholder||"form.last-name",this.secondPlaceholder=f.secondPlaceholder||"form.first-name"}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"separator",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"secondPlaceholder",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"type",void 0)},80902:(F,b,n)=>{"use strict";n.d(b,{P:()=>h,d:()=>e});var i=n(31635),t=n(1473),u=n(66733);const e="LOOKUP";class h extends u.C{constructor(f,v){super(f,v),this.type=e,this.autoComplete=t.DAG,this.maxOptions=f.maxOptions||10,this.value=f.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],h.prototype,"maxOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"type",void 0)},18302:(F,b,n)=>{"use strict";n.d(b,{d:()=>Te});var i=n(60177),t=n(54438),u=n(89417),e=n(58003),h=n(41780),m=n(71985),f=n(21413),v=n(7673),E=n(79335),_=n(70152),C=n(23294),S=n(88141),R=n(25558),T=n(99437),A=n(96354),p=n(5964),L=n(96697),D=n(96820),w=n(80183),M=n(32089),x=n(19506),j=n(82777),U=n(99390),$=n(39729),k=n(38443),K=n(61280),X=n(54875),q=(n(45500),n(1473));const z=["instance"],te=be=>({entry:be});function Z(be,me){if(1&be&&t.eu8(0,5),2&be){const re=me.result;t.XpG();const Ee=t.sdS(3),De=t.sdS(5);t.Y8G("ngTemplateOutlet",re.hasOtherInformation()?Ee:De)("ngTemplateOutletContext",t.eq3(2,te,re))}}function J(be,me){if(1&be&&(t.j41(0,"li",9),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&be){const re=me.$implicit;t.R7$(),t.Lme(" ",t.bMT(2,2,"form.other-information."+re.key)," : ",re.value," ")}}function Q(be,me){if(1&be&&(t.j41(0,"ul",6)(1,"li",7),t.EFF(2),t.k0s(),t.DNE(3,J,3,4,"li",8),t.nI1(4,"dsObjNgFor"),t.k0s()),2&be){const re=me.entry;t.R7$(2),t.JRh(re.value),t.R7$(),t.Y8G("ngForOf",t.bMT(4,2,re.otherInformation))}}function ee(be,me){if(1&be&&(t.j41(0,"ul",6)(1,"li",7),t.EFF(2),t.k0s()()),2&be){const re=me.entry;t.R7$(2),t.JRh(re.value)}}function le(be,me){1&be&&t.nrm(0,"i",15)}function ne(be,me){if(1&be){const re=t.RV6();t.j41(0,"i",16),t.bIt("whenClickOnConfidenceNotAccepted",function(De){t.eBV(re);const tt=t.XpG(2);return t.Njj(tt.whenClickOnConfidenceNotAccepted(De))}),t.k0s()}if(2&be){const re=t.XpG(2);t.Y8G("authorityValue",re.currentValue)}}function fe(be,me){1&be&&(t.j41(0,"div",17),t.EFF(1,"Sorry, suggestions could not be loaded."),t.k0s())}function se(be,me){if(1&be){const re=t.RV6();t.j41(0,"div",10),t.DNE(1,le,1,0,"i",11)(2,ne,1,1,"i",12),t.j41(3,"input",13,3),t.nI1(5,"translate"),t.mxI("ngModelChange",function(De){t.eBV(re);const tt=t.XpG();return t.DH7(tt.currentValue,De)||(tt.currentValue=De),t.Njj(De)}),t.bIt("blur",function(De){t.eBV(re);const tt=t.XpG();return t.Njj(tt.onBlur(De))})("focus",function(De){t.eBV(re);const tt=t.XpG();return t.Njj(tt.onFocus(De))})("change",function(De){t.eBV(re);const tt=t.XpG();return t.Njj(tt.onChange(De))})("input",function(De){t.eBV(re);const tt=t.XpG();return t.Njj(tt.onInput(De))})("selectItem",function(De){t.eBV(re);const tt=t.XpG();return t.Njj(tt.onSelectItem(De))}),t.k0s(),t.DNE(6,fe,2,0,"div",14),t.k0s()}if(2&be){const re=t.XpG(),Ee=t.sdS(1);t.R7$(),t.Y8G("ngIf",re.searching||re.loadingInitialValue),t.R7$(),t.Y8G("ngIf",!re.searching&&!re.loadingInitialValue),t.R7$(),t.AVh("is-invalid",re.showErrorMessages),t.Y8G("id",re.model.id)("inputFormatter",re.formatter)("name",re.model.name)("ngbTypeahead",re.search)("placeholder",re.model.placeholder)("readonly",re.model.readOnly)("disabled",re.model.readOnly)("resultTemplate",Ee)("type",re.model.inputType),t.R50("ngModel",re.currentValue),t.BMQ("aria-labelledby","label_"+re.model.id)("autoComplete",re.model.autoComplete)("aria-label",t.bMT(5,18,re.model.label)),t.R7$(3),t.Y8G("ngIf",re.searchFailed)}}function ce(be,me){if(1&be){const re=t.RV6();t.j41(0,"div",10)(1,"i",18),t.bIt("click",function(De){t.eBV(re);const tt=t.XpG();return t.Njj(tt.openTree(De))}),t.k0s(),t.j41(2,"input",19),t.nI1(3,"translate"),t.bIt("focus",function(De){t.eBV(re);const tt=t.XpG();return t.Njj(tt.onFocus(De))})("change",function(De){t.eBV(re);const tt=t.XpG();return t.Njj(tt.onChange(De))})("click",function(De){t.eBV(re);const tt=t.XpG();return t.Njj(tt.openTree(De))})("keydown",function(De){return t.eBV(re),t.Njj(De.preventDefault())})("keypress",function(De){return t.eBV(re),t.Njj(De.preventDefault())})("keyup",function(De){return t.eBV(re),t.Njj(De.preventDefault())}),t.k0s()()}if(2&be){const re=t.XpG();t.R7$(2),t.AVh("is-invalid",re.showErrorMessages)("tree-input",!re.model.readOnly),t.Y8G("id",re.id)("name",re.model.name)("placeholder",re.model.placeholder)("readonly",!0)("disabled",re.model.readOnly)("type",re.model.inputType)("value",null==re.currentValue?null:re.currentValue.display),t.BMQ("aria-labelledby","label_"+re.model.id)("autoComplete",re.model.autoComplete)("aria-label",t.bMT(3,14,re.model.label))}}let Te=(()=>{class be extends X.o{constructor(re,Ee,De,tt,ht){super(re,De,ht),this.vocabularyService=re,this.cdr=Ee,this.layoutService=De,this.modalService=tt,this.validationService=ht,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.pageInfo=new M.Q,this.searching=!1,this.loadingInitialValue=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed$=new m.c(()=>()=>this.changeSearchingStatus(!1)),this.click$=new f.B,this.subs=[],this.formatter=Fe=>"object"==typeof Fe?Fe.display:Fe,this.search=Fe=>Fe.pipe((0,E.h)(this.click$),(0,_.B)(300),(0,C.F)(),(0,S.M)(()=>this.changeSearchingStatus(!0)),(0,R.n)(Et=>""===Et||Et.length<this.model.minChars?(0,v.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(Et,!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,w.ak)(),(0,S.M)(()=>this.searchFailed=!1),(0,T.W)(()=>(this.searchFailed=!0,(0,v.of)((0,D.g)(new M.Q,[])))))),(0,A.T)(Et=>Et.page),(0,S.M)(()=>this.changeSearchingStatus(!1)),(0,E.h)(this.hideSearchingWhenUnsubscribed$))}ngOnInit(){this.model.value&&this.setCurrentValue(this.model.value,!0),this.vocabulary$=this.vocabularyService.findVocabularyById(this.model.vocabularyOptions.name).pipe((0,w.ak)(),(0,C.F)()),this.isHierarchicalVocabulary$=this.vocabulary$.pipe((0,A.T)(re=>re.hierarchical)),this.subs.push(this.group.get(this.model.id).valueChanges.pipe((0,p.p)(re=>this.currentValue!==re)).subscribe(re=>{this.setCurrentValue(this.model.value)}))}changeSearchingStatus(re){this.searching=re,this.cdr.detectChanges()}changeLoadingInitialValueStatus(re){this.loadingInitialValue=re,this.cdr.detectChanges()}isHierarchicalVocabulary(){return this.isHierarchicalVocabulary$}onInput(re){!this.model.vocabularyOptions.closed&&(0,j.hj)(re.target.value)&&(this.inputValue=new K.e(re.target.value))}onBlur(re){this.instance.isPopupOpen()?(re.preventDefault(),re.stopImmediatePropagation(),!this.model.vocabularyOptions.closed&&(0,j.hj)(this.inputValue)&&((0,j.Pe)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null)):(!this.model.vocabularyOptions.closed&&(0,j.hj)(this.inputValue)&&((0,j.Pe)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null),this.blur.emit(re))}onChange(re){re.stopPropagation(),(0,j.Im)(this.currentValue)&&this.dispatchUpdate(null)}onSelectItem(re){this.inputValue=null,this.setCurrentValue(re.item),this.dispatchUpdate(re.item)}openTree(re){this.model.readOnly||(re.preventDefault(),re.stopImmediatePropagation(),this.subs.push(this.vocabulary$.pipe((0,A.T)(Ee=>Ee.preloadLevel),(0,L.s)(1)).subscribe(Ee=>{const De=this.modalService.open(k._,{size:"lg",windowClass:"treeview"});De.componentInstance.vocabularyOptions=this.model.vocabularyOptions,De.componentInstance.preloadLevel=Ee,De.componentInstance.selectedItems=this.currentValue?[this.currentValue]:[],De.result.then(tt=>{tt&&(this.currentValue=tt,this.dispatchUpdate(tt))},()=>{})})))}whenClickOnConfidenceNotAccepted(re){this.model.readOnly||this.click$.next(this.formatter(this.currentValue))}setCurrentValue(re,Ee=!1){let De;Ee?(this.changeLoadingInitialValueStatus(!0),this.getInitValueFromModel(!0).subscribe(tt=>{this.changeLoadingInitialValueStatus(!1),this.currentValue=tt,this.cdr.detectChanges()})):(De=(0,j.Im)(re)?"":re.value,this.currentValue=De,this.cdr.detectChanges())}ngOnDestroy(){this.subs.filter(re=>(0,j.a4)(re)).forEach(re=>re.unsubscribe())}static{this.\u0275fac=function(Ee){return new(Ee||be)(t.rXU(x.g),t.rXU(t.gRc),t.rXU(q.fpj),t.rXU(e.Bq),t.rXU(q.STK))}}static{this.\u0275cmp=t.VBU({type:be,selectors:[["ds-dynamic-onebox"]],viewQuery:function(Ee,De){if(1&Ee&&t.GBs(z,5),2&Ee){let tt;t.mGM(tt=t.lsd())&&(De.instance=tt.first)}},inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:10,vars:6,consts:[["rt",""],["hasInfo",""],["noInfo",""],["instance","ngbTypeahead"],["class","position-relative right-addon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","fw-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["dsAuthorityConfidenceState","","class","far fa-circle fa-2x fa-fw position-absolute mt-1 p-0","aria-hidden","true",3,"authorityValue","whenClickOnConfidenceNotAccepted",4,"ngIf"],[1,"form-control",3,"ngModelChange","blur","focus","change","input","selectItem","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","disabled","resultTemplate","type","ngModel"],["class","invalid-feedback",4,"ngIf"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0",3,"whenClickOnConfidenceNotAccepted","authorityValue"],[1,"invalid-feedback"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","tree-toggle",3,"click"],[1,"form-control",3,"focus","change","click","keydown","keypress","keyup","id","name","placeholder","readonly","disabled","type","value"]],template:function(Ee,De){1&Ee&&(t.DNE(0,Z,1,4,"ng-template",null,0,t.C5r)(2,Q,5,4,"ng-template",null,1,t.C5r)(4,ee,3,1,"ng-template",null,2,t.C5r)(6,se,7,20,"div",4),t.nI1(7,"async"),t.DNE(8,ce,4,16,"div",4),t.nI1(9,"async")),2&Ee&&(t.R7$(6),t.Y8G("ngIf",!0!==t.bMT(7,2,De.isHierarchicalVocabulary())),t.R7$(2),t.Y8G("ngIf",t.bMT(9,4,De.isHierarchicalVocabulary())))},dependencies:[e.h_,e.$n,i.bT,i.Jj,$.K,i.T3,h.h,h.D9,U.U,i.Sq,u.YN,u.me,u.BC,u.vS],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}select.form-control[_ngcontent-%COMP%]{appearance:auto}.col-sm-6[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.treeview[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:85vh!important;overflow-y:auto}.tree-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.tree-input[readonly][_ngcontent-%COMP%]{background-color:#fff}"]})}}return be})()},45500:(F,b,n)=>{"use strict";n.d(b,{K:()=>h,m:()=>e});var i=n(31635),t=n(1473),u=n(66733);const e="ONEBOX";class h extends u.C{constructor(f,v){super(f,v),this.type=e,this.autoComplete=t.DAG,this.minChars=f.minChars||3}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],h.prototype,"minChars",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"type",void 0)},11166:(F,b,n)=>{"use strict";n.d(b,{W:()=>m});var i=n(31635),t=n(1473),u=n(82777),e=n(56899),h=n(66733);class m extends h.C{constructor(v,E){super(v,E),this.type=e.T,this.submissionId=v.submissionId,this.formConfiguration=v.formConfiguration,this.mandatoryField=v.mandatoryField,this.relationFields=v.relationFields,this.scopeUUID=v.scopeUUID,this.submissionScope=v.submissionScope,this.value=v.value||[]}isEmpty(){const v=this.getGroupValue();return 1===v.length&&(0,u.kZ)(v[0][this.mandatoryField])}getGroupValue(){if((0,u.Im)(this.value)){const v=Object.create({});return v[this.mandatoryField]=null,this.relationFields.forEach(E=>{v[E]=null}),[v]}return this.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"formConfiguration",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"mandatoryField",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"relationFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"scopeUUID",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"submissionScope",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"type",void 0)},83766:(F,b,n)=>{"use strict";n.d(b,{s:()=>G});var i=n(60177),t=n(54438),u=n(58003),e=n(41780),h=n(86820),m=n(7673),f=n(96697),v=n(23294),E=n(99437),_=n(88141),C=n(96354),S=n(82640),R=n(96820),T=n(4047),A=n(80183),p=n(32089),L=n(19506),D=n(82777),w=n(54875),x=(n(11220),n(1473));const j=["dropdownMenu"];function U(q,z){1&q&&t.nrm(0,"i",13)}function $(q,z){1&q&&t.nrm(0,"i",14)}function k(q,z){1&q&&(t.j41(0,"button",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&q&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"form.no-results")," "))}function K(q,z){if(1&q){const te=t.RV6();t.j41(0,"button",16),t.nI1(1,"async"),t.bIt("keydown.enter",function(){const J=t.eBV(te).$implicit,Q=t.XpG(),ee=t.sdS(1);return Q.onSelect(J),t.Njj(ee.close())})("mousedown",function(){const J=t.eBV(te).$implicit,Q=t.XpG(),ee=t.sdS(1);return Q.onSelect(J),t.Njj(ee.close())}),t.EFF(2),t.k0s()}if(2&q){const te=z.$implicit,Z=z.index,J=t.XpG();t.AVh("active",Z===J.selectedIndex),t.FS9("title",J.inputFormatter(te)),t.BMQ("id",J.inputFormatter(te)===t.bMT(1,5,J.currentValue)?"combobox_"+J.id+"_selected":null),t.R7$(2),t.SpI(" ",J.inputFormatter(te)," ")}}function X(q,z){1&q&&(t.j41(0,"div",17)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&q&&(t.R7$(2),t.JRh(t.bMT(3,1,"form.loading")))}let G=(()=>{class q extends w.o{constructor(te,Z,J,Q,ee,le){super(te,J,Q),this.vocabularyService=te,this.cdr=Z,this.layoutService=J,this.validationService=Q,this.parentInjector=ee,this.dataServiceMap=le,this.bindId=!0,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.loading=!1,this.inputText=null,this.selectedIndex=0,this.acceptableKeys=["Space","NumpadMultiply","NumpadAdd","NumpadSubtract","NumpadDecimal","Semicolon","Equal","Comma","Minus","Period","Quote","Backquote"],this.inputFormatter=ne=>this.model.formatFunction?this.model.formatFunction(ne):ne.display||ne.value}ngOnInit(){((0,D.a4)(this.model.resourceType)?(0,T.M)(this.dataServiceMap,this.model.resourceType.value,this.parentInjector):(0,m.of)(null)).pipe((0,f.s)(1)).subscribe(Z=>{this.findAllService=Z,this.useFindAllService=(0,D.a4)(this.findAllService?.findAll)&&"function"==typeof this.findAllService.findAll,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!0)}),this.group.get(this.model.id).valueChanges.pipe((0,v.F)()).subscribe(Z=>{this.setCurrentValue(Z)})}getDataFromService(){return this.useFindAllService?this.findAllService.findAll({elementsPerPage:this.pageInfo.elementsPerPage,currentPage:this.pageInfo.currentPage}):this.vocabularyService.getVocabularyEntriesByValue(this.inputText,!1,this.model.vocabularyOptions,this.pageInfo)}loadOptions(te){this.loading=!0,this.getDataFromService().pipe((0,A.ak)(),(0,E.W)(()=>(0,m.of)((0,R.g)(new p.Q,[]))),(0,_.M)(()=>this.loading=!1)).subscribe(Z=>{this.optionsList=Z.page,te&&this.model.value&&this.setCurrentValue(this.model.value,!0),this.updatePageInfo(Z.pageInfo.elementsPerPage,Z.pageInfo.currentPage,Z.pageInfo.totalElements,Z.pageInfo.totalPages),this.selectedIndex=0,this.cdr.detectChanges()})}openDropdown(te){this.model.readOnly||(this.group.markAsUntouched(),this.inputText=null,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!1),te.open())}navigateDropdown(te){"ArrowDown"===te.key?this.selectedIndex=Math.min(this.selectedIndex+1,this.optionsList.length-1):"ArrowUp"===te.key&&(this.selectedIndex=Math.max(this.selectedIndex-1,0)),this.scrollToSelected()}scrollToSelected(){const Z=this.dropdownMenu.nativeElement.querySelectorAll(".dropdown-item")[this.selectedIndex];Z&&Z.scrollIntoView({block:"nearest"})}selectOnKeyDown(te,Z){const J=te.key;"Enter"===J?(te.preventDefault(),te.stopPropagation(),Z.isOpen()?(this.onSelect(this.optionsList[this.selectedIndex]),Z.close()):Z.open()):"ArrowDown"===J||"ArrowUp"===J?(te.preventDefault(),te.stopPropagation(),this.navigateDropdown(te)):"Backspace"===J?this.removeKeyFromInput():this.isAcceptableKey(J)&&this.addKeyToInput(J)}addKeyToInput(te){null===this.inputText&&(this.inputText=""),this.inputText+=te,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!1)}removeKeyFromInput(){null!==this.inputText&&(this.inputText=this.inputText.slice(0,-1),""===this.inputText&&(this.inputText=null),this.loadOptions(!1))}isAcceptableKey(te){return!(1!==te.length||!te.match(/^[a-zA-Z0-9]*$/))||this.acceptableKeys.includes(te)}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.loading=!0,this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.getDataFromService().pipe((0,A.ak)(),(0,E.W)(()=>(0,m.of)((0,R.g)(new p.Q,[]))),(0,_.M)(()=>this.loading=!1)).subscribe(te=>{this.optionsList=this.optionsList.concat(te.page),this.updatePageInfo(te.pageInfo.elementsPerPage,te.pageInfo.currentPage,te.pageInfo.totalElements,te.pageInfo.totalPages),this.cdr.detectChanges()}))}onSelect(te){this.group.markAsDirty(),this.dispatchUpdate(te),this.setCurrentValue(te)}setCurrentValue(te,Z=!1){let J;J=Z&&!this.useFindAllService?this.getInitValueFromModel().pipe((0,C.T)(Q=>Q.display)):(0,D.Im)(te)?(0,m.of)(""):(0,m.of)("string"==typeof te?te:this.useFindAllService?te[this.model.displayKey]:te.display),this.currentValue=J}static{this.\u0275fac=function(Z){return new(Z||q)(t.rXU(L.g),t.rXU(t.gRc),t.rXU(x.fpj),t.rXU(x.STK),t.rXU(t.zZn),t.rXU(S.l9))}}static{this.\u0275cmp=t.VBU({type:q,selectors:[["ds-dynamic-scrollable-dropdown"]],viewQuery:function(Z,J){if(1&Z&&t.GBs(j,5,t.aKT),2&Z){let Q;t.mGM(Q=t.lsd())&&(J.dropdownMenu=Q.first)}},inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:19,vars:38,consts:[["sdRef","ngbDropdown"],["dropdownMenu",""],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"w-100"],["role","combobox",1,"position-relative","right-addon"],["ngbDropdownToggle","","class","position-absolute scrollable-dropdown-toggle","aria-hidden","true",4,"ngIf"],["class","dropdown-toggle position-absolute toggle-icon","aria-hidden","true",4,"ngIf"],[1,"form-control",3,"blur","click","focus","keydown","id","name","readonly","disabled","type","value"],["ngbDropdownMenu","",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["role","listbox","infiniteScroll","",1,"scrollable-menu",3,"scrolled","id","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow"],["class","dropdown-item disabled","type","button",4,"ngIf"],["role","option","type","button",1,"dropdown-item","collection-item","text-truncate",3,"click","mousedown","title"],["class","dropdown-item collection-item text-truncate","role","option","type","button",3,"active","title","keydown.enter","mousedown",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],["ngbDropdownToggle","","aria-hidden","true",1,"position-absolute","scrollable-dropdown-toggle"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","toggle-icon"],["type","button",1,"dropdown-item","disabled"],["role","option","type","button",1,"dropdown-item","collection-item","text-truncate",3,"keydown.enter","mousedown","title"],[1,"scrollable-dropdown-loading","text-center"]],template:function(Z,J){if(1&Z){const Q=t.RV6();t.j41(0,"div",2,0)(2,"div",3),t.nI1(3,"async"),t.DNE(4,U,1,0,"i",4)(5,$,1,0,"i",5),t.j41(6,"input",6),t.nI1(7,"async"),t.bIt("blur",function(le){return t.eBV(Q),t.Njj(J.onBlur(le))})("click",function(le){t.eBV(Q);const ne=t.sdS(1);return le.stopPropagation(),t.Njj(J.openDropdown(ne))})("focus",function(le){return t.eBV(Q),t.Njj(J.onFocus(le))})("keydown",function(le){t.eBV(Q);const ne=t.sdS(1);return t.Njj(J.selectOnKeyDown(le,ne))}),t.k0s()(),t.j41(8,"div",7,1)(10,"div",8),t.bIt("scrolled",function(){return t.eBV(Q),t.Njj(J.onScroll())}),t.DNE(11,k,3,3,"button",9),t.j41(12,"button",10),t.nI1(13,"translate"),t.bIt("click",function(){t.eBV(Q);const le=t.sdS(1);return J.onSelect(void 0),t.Njj(le.close())})("mousedown",function(){t.eBV(Q);const le=t.sdS(1);return J.onSelect(void 0),t.Njj(le.close())}),t.j41(14,"i"),t.EFF(15),t.nI1(16,"translate"),t.k0s()(),t.DNE(17,K,3,7,"button",11)(18,X,4,3,"div",12),t.k0s()()()}if(2&Z){const Q=t.sdS(1);t.R7$(2),t.BMQ("aria-label",J.model.label)("aria-owns","combobox_"+J.id+"_listbox")("aria-expanded",Q.isOpen())("aria-activedescendant",t.bMT(3,30,J.currentValue)?"combobox_"+J.id+"_selected":null),t.R7$(2),t.Y8G("ngIf",!J.model.readOnly),t.R7$(),t.Y8G("ngIf",J.model.readOnly),t.R7$(),t.AVh("is-invalid",J.showErrorMessages)("scrollable-dropdown-input",!J.model.readOnly),t.Y8G("id",J.id)("name",J.model.name)("readonly",!0)("disabled",J.model.readOnly)("type",J.model.inputType)("value",t.bMT(7,32,J.currentValue)),t.BMQ("aria-controls","combobox_"+J.id+"_listbox")("aria-label",J.model.placeholder)("autoComplete",J.model.autoComplete),t.R7$(2),t.BMQ("aria-label",J.model.placeholder),t.R7$(2),t.Y8G("id","combobox_"+J.id+"_listbox")("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),t.BMQ("aria-label",J.model.placeholder),t.R7$(),t.Y8G("ngIf",J.optionsList&&0===J.optionsList.length),t.R7$(),t.FS9("title",t.bMT(13,34,"dropdown.clear.tooltip")),t.R7$(3),t.JRh(t.bMT(16,36,"dropdown.clear")),t.R7$(2),t.Y8G("ngForOf",J.optionsList),t.R7$(),t.Y8G("ngIf",J.loading)}},dependencies:[u.zH,u.tg,u.do,u.U0,i.bT,i.Jj,h.eO,h.DP,i.Sq,e.h,e.D9],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}select.form-control[_ngcontent-%COMP%]{appearance:auto}.col-sm-6[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}.collection-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}.scrollable-dropdown-loading[_ngcontent-%COMP%]{background-color:var(--bs-primary);color:#fff;height:calc(var(--bs-spacer) * 2)!important;line-height:calc(var(--bs-spacer) * 2);position:sticky;bottom:0}.scrollable-dropdown-menu[_ngcontent-%COMP%]{left:0!important;margin-bottom:var(--bs-spacer);z-index:1000}.scrollable-dropdown-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.scrollable-dropdown-input[readonly][_ngcontent-%COMP%]{background-color:#fff}.toggle-icon[_ngcontent-%COMP%]{padding:.7rem .7rem 0}"]})}}return q})()},11220:(F,b,n)=>{"use strict";n.d(b,{W:()=>e,j:()=>h});var i=n(31635),t=n(1473),u=n(66733);const e="SCROLLABLE_DROPDOWN";class h extends u.C{constructor(f,v){super(f,v),this.type=e,this.autoComplete=t.DAG,this.vocabularyOptions=f.vocabularyOptions,this.maxOptions=f.maxOptions||10,this.displayKey=f.displayKey||"display",this.formatFunction=f.formatFunction,this.resourceType=f.resourceType}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],h.prototype,"maxOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"displayKey",void 0)},38512:(F,b,n)=>{"use strict";n.d(b,{H:()=>h,v:()=>e});var i=n(31635),t=n(1473),u=n(66733);const e="TAG";class h extends u.C{constructor(f,v){super(f,v),this.type=e,this.autoComplete=t.DAG,this.minChars=f.minChars||3,this.value=f.value||[]}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],h.prototype,"minChars",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],h.prototype,"type",void 0)},6011:(F,b,n)=>{"use strict";n.d(b,{d:()=>Pn});var i=n(60177),t=n(54438),u=n(58003),e=n(41780),h=n(84412),m=n(84572),f=n(96354),v=n(96697),E=n(65245),_=n(25558),C=n(72734),S=n(53954),R=n(57514),T=n(41023),A=n(57568),p=n(48833),L=n(26292),D=n(80183),w=n(39012),M=n(13955),x=n(60456),j=n(82777),U=n(82394),$=n(13329),k=n(67600),q=(n(6041),n(31507),n(88318),n(8886));n(4089);const te=["*"];function Z(yt,Kt){}let J=(()=>{class yt extends q.J{constructor(){super(...arguments),this.inAndOutputNames=["label","listId","item","collection","relationship","context","query","repeatable","importedObject","externalSource"],this.importedObject=new t.bkB}getComponentName(){return"DsDynamicLookupRelationExternalSourceTabComponent"}importThemedComponent(Rt){return n(90331)(`./${Rt}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,4089))}static{this.\u0275fac=(()=>{let Rt;return function(gn){return(Rt||(Rt=t.xGo(yt)))(gn||yt)}})()}static{this.\u0275cmp=t.VBU({type:yt,selectors:[["ds-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",query:"query",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:te,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(nn,gn){1&nn&&(t.NAR(),t.DNE(0,Z,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return yt})();var Q=n(59496);n(59854),n(26091);const ne=["*"];function fe(yt,Kt){}let se=(()=>{class yt extends q.J{constructor(){super(...arguments),this.inAndOutputNames=["relationship","listId","query","hiddenQuery","repeatable","selection$","context","relationshipType","item","isLeft","toRemove","isEditRelationship","deselectObject","selectObject","resultFound"],this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.resultFound=new t.bkB}getComponentName(){return"DsDynamicLookupRelationSearchTabComponent"}importThemedComponent(Rt){return n(37919)(`./${Rt}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,26091))}static{this.\u0275fac=(()=>{let Rt;return function(gn){return(Rt||(Rt=t.xGo(yt)))(gn||yt)}})()}static{this.\u0275cmp=t.VBU({type:yt,selectors:[["ds-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",hiddenQuery:"hiddenQuery",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:ne,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(nn,gn){1&nn&&(t.NAR(),t.DNE(0,fe,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return yt})();var ce=n(96820),Te=n(22978),be=n(32089),me=n(67560),re=n(46580),Ee=n(23401),De=n(43404),tt=n(7901);const ht=(yt,Kt)=>({repeatable:yt,listId:Kt});function Fe(yt,Kt){1&yt&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&yt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"submission.sections.describe.relationship-lookup.selection-tab.no-selection")," "))}function Et(yt,Kt){if(1&yt){const Rt=t.RV6();t.j41(0,"div")(1,"h3"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"ds-viewable-collection",4),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("deselectObject",function(gn){t.eBV(Rt);const St=t.XpG();return t.Njj(St.deselectObject.emit(gn))})("selectObject",function(gn){t.eBV(Rt);const St=t.XpG();return t.Njj(St.selectObject.emit(gn))}),t.k0s()()}if(2&yt){const Rt=t.XpG();t.R7$(2),t.JRh(t.bMT(3,7,"submission.sections.describe.relationship-lookup.selection-tab.title."+Rt.relationshipType)),t.R7$(2),t.Y8G("objects",t.bMT(5,9,Rt.selectionRD$))("selectable",!0)("selectionConfig",t.l_i(13,ht,Rt.repeatable,Rt.listId))("config",t.bMT(6,11,Rt.currentPagination$))("hideGear",!0)("context",Rt.context)}}let Ye=(()=>{class yt{constructor(Rt,nn,gn){this.router=Rt,this.searchConfigService=nn,this.paginationService=gn,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.initialPagination=Object.assign(new Ee.W,{id:"spc",pageSize:5})}ngOnInit(){this.resetRoute(),this.selectionRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,f.T)(Rt=>Rt.pagination),(0,_.n)(Rt=>this.selection$.pipe((0,v.s)(1),(0,f.T)(nn=>{const gn=(Rt.currentPage-1)*Rt.pageSize,zt=nn.slice(gn,gn+Rt.pageSize>nn.length?nn.length:gn+Rt.pageSize),Yt=new be.Q({elementsPerPage:Rt.pageSize,totalElements:nn.length,currentPage:Rt.currentPage,totalPages:Math.ceil(nn.length/Rt.pageSize)});return(0,De.SP)((0,ce.g)(Yt,zt))})))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination)}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}static{this.\u0275fac=function(nn){return new(nn||yt)(t.rXU(tt.Ix),t.rXU(w.g),t.rXU(Te.m))}}static{this.\u0275cmp=t.VBU({type:yt,selectors:[["ds-dynamic-lookup-relation-selection-tab"]],inputs:{relationshipType:"relationshipType",listId:"listId",repeatable:"repeatable",selection$:"selection$",selectionRD$:"selectionRD$",context:"context"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.Jv_([{provide:M.EN,useClass:w.g}]),t.aNF],decls:11,vars:9,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[4,"ngIf"],[3,"deselectObject","selectObject","objects","selectable","selectionConfig","config","hideGear","context"]],template:function(nn,gn){if(1&nn&&(t.j41(0,"div",0)(1,"div",1)(2,"h3"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"ds-page-size-selector"),t.k0s(),t.j41(6,"div",2),t.DNE(7,Fe,3,3,"div",3),t.nI1(8,"async"),t.DNE(9,Et,7,16,"div",3),t.nI1(10,"async"),t.k0s()()),2&nn){let St,zt;t.R7$(3),t.JRh(t.bMT(4,3,"submission.sections.describe.relationship-lookup.selection-tab.settings")),t.R7$(4),t.Y8G("ngIf",(null==(St=t.bMT(8,5,gn.selectionRD$))?null:St.payload.page)<1),t.R7$(2),t.Y8G("ngIf",(null==(zt=t.bMT(10,7,gn.selectionRD$))?null:zt.payload.page.length)>=1)}},dependencies:[re.b,me.h,i.Jj,i.bT,e.h,e.D9]})}}return yt})();var pt=n(25499);const Mt=yt=>({size:yt}),Ne=yt=>({count:yt});function ot(yt,Kt){1&yt&&t.nrm(0,"ds-loading")}function Gt(yt,Kt){if(1&yt){const Rt=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-search-tab",17),t.bIt("selectObject",function(gn){t.eBV(Rt);const St=t.XpG(2);return t.Njj(St.select(gn))})("deselectObject",function(gn){t.eBV(Rt);const St=t.XpG(2);return t.Njj(St.deselect(gn))})("resultFound",function(gn){t.eBV(Rt);const St=t.XpG(2);return t.Njj(St.setTotalInternals(gn.pageInfo.totalElements))}),t.k0s()}if(2&yt){const Rt=t.XpG(2);t.Y8G("selection$",Rt.selection$)("listId",Rt.listId)("relationship",Rt.relationshipOptions)("repeatable",Rt.repeatable)("context",Rt.context)("query",Rt.query)("hiddenQuery",Rt.hiddenQuery)("relationshipType",Rt.relationshipType)("isLeft",Rt.isLeft)("item",Rt.item)("isEditRelationship",Rt.isEditRelationship)("toRemove",Rt.toRemove)}}function Zt(yt,Kt){if(1&yt){const Rt=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-external-source-tab",18),t.bIt("importedObject",function(gn){t.eBV(Rt);const St=t.XpG(3);return t.Njj(St.imported(gn))}),t.k0s()}if(2&yt){const Rt=t.XpG().$implicit,nn=t.XpG(2);t.Y8G("label",nn.label)("listId",nn.listId)("repeatable",nn.repeatable)("item",nn.item)("collection",nn.collection)("relationship",nn.relationshipOptions)("context",nn.context)("query",nn.query)("externalSource",Rt)}}function mt(yt,Kt){if(1&yt&&(t.j41(0,"li",11)(1,"a",12),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.k0s(),t.DNE(5,Zt,1,9,"ng-template",13),t.k0s()),2&yt){let Rt;const nn=Kt.$implicit,gn=Kt.index,St=t.XpG(2);t.R7$(2),t.JRh(t.i5U(4,3,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+nn.id,t.eq3(6,Ne,null==(Rt=t.bMT(3,1,St.totalExternal$))?null:Rt[gn])))}}function Pt(yt,Kt){if(1&yt){const Rt=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-selection-tab",19),t.bIt("selectObject",function(gn){t.eBV(Rt);const St=t.XpG(3);return t.Njj(St.select(gn))})("deselectObject",function(gn){t.eBV(Rt);const St=t.XpG(3);return t.Njj(St.deselect(gn))}),t.k0s()}if(2&yt){const Rt=t.XpG(3);t.Y8G("selection$",Rt.selection$)("listId",Rt.listId)("relationshipType",Rt.relationshipOptions.relationshipType)("repeatable",Rt.repeatable)("context",Rt.context)}}function Ce(yt,Kt){if(1&yt&&(t.j41(0,"li",11)(1,"a",12),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.k0s(),t.DNE(5,Pt,1,5,"ng-template",13),t.k0s()),2&yt){let Rt;const nn=t.XpG(2);t.R7$(2),t.JRh(t.i5U(4,3,"submission.sections.describe.relationship-lookup.selection-tab.tab-title",t.eq3(6,Ne,null==(Rt=t.bMT(3,1,nn.selection$))?null:Rt.length)))}}function Be(yt,Kt){if(1&yt&&(t.qex(0),t.j41(1,"ul",10,0)(3,"li",11)(4,"a",12),t.EFF(5),t.nI1(6,"async"),t.nI1(7,"translate"),t.k0s(),t.DNE(8,Gt,1,12,"ng-template",13),t.k0s(),t.DNE(9,mt,6,8,"li",14),t.nI1(10,"async"),t.DNE(11,Ce,6,8,"li",15),t.k0s(),t.nrm(12,"div",16),t.bVm()),2&yt){const Rt=t.sdS(2),nn=t.XpG();t.R7$(5),t.JRh(t.i5U(7,6,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+nn.relationshipOptions.relationshipType,t.eq3(11,Ne,t.bMT(6,4,nn.totalInternal$)))),t.R7$(4),t.Y8G("ngForOf",t.bMT(10,9,nn.externalSourcesRD$)),t.R7$(2),t.Y8G("ngIf",!nn.isEditRelationship),t.R7$(),t.Y8G("ngbNavOutlet",Rt)}}function ut(yt,Kt){1&yt&&t.nrm(0,"span",26)}function un(yt,Kt){1&yt&&t.nrm(0,"i",27)}function rn(yt,Kt){if(1&yt){const Rt=t.RV6();t.qex(0),t.j41(1,"button",20),t.bIt("click",function(){t.eBV(Rt);const gn=t.XpG();return t.Njj(gn.discardEv())}),t.nrm(2,"i",21),t.j41(3,"span",22),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"button",23),t.bIt("click",function(){t.eBV(Rt);const gn=t.XpG();return t.Njj(gn.submitEv())}),t.DNE(7,ut,1,0,"span",24)(8,un,1,0,"i",25),t.j41(9,"span",22),t.EFF(10),t.nI1(11,"translate"),t.k0s()(),t.bVm()}if(2&yt){const Rt=t.XpG();t.R7$(),t.Y8G("dsBtnDisabled",0===Rt.toAdd.length&&0===Rt.toRemove.length||Rt.isPending),t.R7$(3),t.SpI("\xa0",t.bMT(5,6,"item.edit.metadata.discard-button"),""),t.R7$(2),t.Y8G("dsBtnDisabled",0===Rt.toAdd.length&&0===Rt.toRemove.length||Rt.isPending),t.R7$(),t.Y8G("ngIf",Rt.isPending),t.R7$(),t.Y8G("ngIf",!Rt.isPending),t.R7$(2),t.SpI("\xa0",t.bMT(11,8,"item.edit.metadata.save-button"),"")}}let Pn=(()=>{class yt{constructor(Rt,nn,gn,St,zt,Yt,wt,bt,Jt,Tt){this.modal=Rt,this.selectableListService=nn,this.relationshipService=gn,this.externalSourceService=St,this.lookupRelationService=zt,this.searchConfigService=Yt,this.rdbService=wt,this.zone=bt,this.store=Jt,this.router=Tt,this.selectEvent=new t.bkB,this.subMap={},this.totalInternal$=new h.t(0),this.isLeft=!1,this.isEditRelationship=!1,this.toAdd=[],this.toRemove=[],this.isPending=!1}ngOnInit(){if(this.currentItemIsLeftItem$&&this.currentItemIsLeftItem$.subscribe(Rt=>{this.isLeft=Rt,this.label=this.relationshipType.leftwardType}),this.selection$=this.selectableListService.getSelectableList(this.listId).pipe((0,f.T)(Rt=>(0,j.a4)(Rt)&&(0,j.a4)(Rt.selection)?Rt.selection:[])),this.selection$.pipe((0,v.s)(1)).subscribe(Rt=>Rt.map(nn=>this.addNameVariantSubscription(nn))),this.context="true"===this.relationshipOptions.nameVariants?L.o.EntitySearchModalWithNameVariants:L.o.EntitySearchModal,(0,j.hj)(this.relationshipOptions.externalSources))this.externalSourcesRD$=this.rdbService.aggregate(this.relationshipOptions.externalSources.map(Rt=>this.externalSourceService.findById(Rt,!0,!0,(0,k.s)("entityTypes")))).pipe((0,D.Hz)());else{const Rt=Object.assign({},new T._,{elementsPerPage:5,currentPage:1,searchParams:[new S.x("entityType",this.relationshipOptions.relationshipType)]});this.externalSourcesRD$=this.externalSourceService.searchBy("findByEntityType",Rt,!0,!0,(0,k.s)("entityTypes")).pipe((0,D.ak)(),(0,f.T)(nn=>nn.page))}this.setTotals()}close(){this.toAdd=[],this.toRemove=[],this.modal.close(),this.closeEv()}select(...Rt){this.zone.runOutsideAngular(()=>{(0,m.z)([...Rt.map(gn=>(this.addNameVariantSubscription(gn),this.relationshipService.getNameVariant(this.listId,gn.indexableObject.uuid).pipe((0,v.s)(1),(0,f.T)(St=>({item:gn.indexableObject,nameVariant:St})))))]).subscribe(gn=>gn.forEach(St=>{const zt=new Q.aS(this.item,St.item,this.relationshipOptions.relationshipType,this.submissionId,St.nameVariant);this.store.dispatch(zt)}))})}addNameVariantSubscription(Rt){const nn=this.relationshipService.getNameVariant(this.listId,Rt.indexableObject.uuid);this.subMap[Rt.indexableObject.uuid]=nn.pipe((0,E.i)(1)).subscribe(gn=>this.store.dispatch(new Q._I(this.item,Rt.indexableObject,this.relationshipOptions.relationshipType,this.submissionId,gn)))}deselect(...Rt){this.zone.runOutsideAngular(()=>Rt.forEach(nn=>{this.subMap[nn.indexableObject.uuid].unsubscribe(),this.store.dispatch(new Q.Fw(this.item,nn.indexableObject,this.relationshipOptions.relationshipType,this.submissionId))}))}imported(Rt){this.setTotals(),this.select(Rt)}setTotals(){const Rt=(0,m.z)([this.externalSourcesRD$,this.searchConfigService.paginatedSearchOptions]);this.totalExternal$=Rt.pipe((0,_.n)(([nn,gn])=>(0,m.z)([...nn.map(St=>this.lookupRelationService.getTotalExternalResults(St,gn))])))}setTotalInternals(Rt){this.totalInternal$.next(Rt)}ngOnDestroy(){this.router.navigate([],{}),Object.values(this.subMap).forEach(Rt=>Rt.unsubscribe())}closeEv(){}discardEv(){}submitEv(){}static{this.\u0275fac=function(nn){return new(nn||yt)(t.rXU(u.Lw),t.rXU($.K),t.rXU(p.RelationshipDataService),t.rXU(R.Q),t.rXU(A.c),t.rXU(w.g),t.rXU(C.o),t.rXU(t.SKi),t.rXU(pt.il),t.rXU(tt.Ix))}}static{this.\u0275cmp=t.VBU({type:yt,selectors:[["ds-dynamic-lookup-relation-modal"]],outputs:{selectEvent:"selectEvent"},standalone:!0,features:[t.Jv_([{provide:M.EN,useClass:w.g}]),t.aNF],decls:19,vars:19,consts:[["nav","ngbNav"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click","dsBtnDisabled"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],[1,"d-flex","float-end","space-children-mr"],[1,"close-button"],["type","button",1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],["ngbNav","",1,"nav-tabs"],["ngbNavItem","","role","presentation"],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","","role","presentation",4,"ngFor","ngForOf"],["ngbNavItem","","role","presentation",4,"ngIf"],[3,"ngbNavOutlet"],[1,"d-block","pt-3",3,"selectObject","deselectObject","resultFound","selection$","listId","relationship","repeatable","context","query","hiddenQuery","relationshipType","isLeft","item","isEditRelationship","toRemove"],[1,"d-block","pt-3",3,"importedObject","label","listId","repeatable","item","collection","relationship","context","query","externalSource"],[1,"d-block","pt-3",3,"selectObject","deselectObject","selection$","listId","relationshipType","repeatable","context"],[1,"btn","btn-danger","discard",3,"click","dsBtnDisabled"],[1,"fas","fa-times"],[1,"d-none","d-sm-inline"],[1,"btn","btn-primary","submit",3,"click","dsBtnDisabled"],["class","spinner-border spinner-border-sm me-1","role","status","aria-hidden","true",4,"ngIf"],["class","fas fa-save",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"],[1,"fas","fa-save"]],template:function(nn,gn){if(1&nn&&(t.j41(0,"div",1)(1,"h4",2),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return gn.close()}),t.k0s()(),t.j41(5,"div",4),t.DNE(6,ot,1,0,"ds-loading",5)(7,Be,13,13,"ng-container",5),t.k0s(),t.j41(8,"div",6)(9,"small"),t.EFF(10),t.nI1(11,"async"),t.nI1(12,"translate"),t.k0s(),t.j41(13,"div",7)(14,"div",8)(15,"button",9),t.bIt("click",function(){return gn.close()}),t.EFF(16),t.nI1(17,"translate"),t.k0s()(),t.DNE(18,rn,12,10,"ng-container",5),t.k0s()()),2&nn){let St;t.R7$(2),t.JRh(t.bMT(3,8,"submission.sections.describe.relationship-lookup.title."+gn.relationshipOptions.relationshipType)),t.R7$(2),t.Y8G("dsBtnDisabled",gn.isPending),t.R7$(2),t.Y8G("ngIf",!gn.item||!gn.collection),t.R7$(),t.Y8G("ngIf",gn.item&&gn.collection),t.R7$(3),t.JRh(t.i5U(12,12,"submission.sections.describe.relationship-lookup.selected",t.eq3(17,Mt,(null==(St=t.bMT(11,10,gn.selection$))?null:St.length)||0))),t.R7$(5),t.Y8G("dsBtnDisabled",gn.isPending),t.R7$(),t.SpI(" ",t.bMT(17,15,"submission.sections.describe.relationship-lookup.close"),""),t.R7$(2),t.Y8G("ngIf",gn.isEditRelationship)}},dependencies:[J,e.h,e.D9,U.v,i.bT,u.Pv,u.Um,u.X9,u.sy,u.Ri,u.m_,se,i.Jj,i.Sq,Ye,x.A],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}[_nghost-%COMP%]     .modal-content{width:90%;margin:5%}[_nghost-%COMP%]   .spinner-border[_ngcontent-%COMP%]{vertical-align:middle}"]})}}return yt})()},4089:(F,b,n)=>{"use strict";n.r(b),n.d(b,{DsDynamicLookupRelationExternalSourceTabComponent:()=>se});var i=n(60177),t=n(54438),u=n(41780),e=n(96354),h=n(25558),m=n(99172),f=n(57514),v=n(22978),R=(n(6041),n(26292),n(31507),n(88318),n(80183)),T=n(39012),A=n(13955),p=n(50332),L=n(82777),D=n(79632),w=n(82394),M=n(67560),x=n(13329),j=n(46580),U=n(23401),$=n(18016),k=n(18226),K=n(8886);n(1277);const G=["*"];function q(ce,Te){}let z=(()=>{class ce extends K.J{getComponentName(){return"ExternalSourceEntryImportModalComponent"}importThemedComponent(be){return n(14651)(`./${be}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/external-source-entry-import-modal/external-source-entry-import-modal.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1277))}static{this.\u0275fac=(()=>{let be;return function(re){return(be||(be=t.xGo(ce)))(re||ce)}})()}static{this.\u0275cmp=t.VBU({type:ce,selectors:[["ds-external-source-entry-import-modal"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:G,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(me,re){1&me&&(t.NAR(),t.DNE(0,q,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return ce})();var te=n(7901),Z=n(58003);const J=(ce,Te)=>({repeatable:ce,listId:Te});function Q(ce,Te){if(1&ce){const be=t.RV6();t.j41(0,"ds-viewable-collection",8),t.nI1(1,"async"),t.bIt("importObject",function(re){t.eBV(be);const Ee=t.XpG(2);return t.Njj(Ee.import(re))}),t.k0s()}if(2&ce){const be=t.XpG().ngVar,me=t.XpG();t.Y8G("@fadeIn",void 0)("objects",be)("selectionConfig",t.l_i(10,J,me.repeatable,me.listId))("config",t.bMT(1,8,me.currentPagination$))("hideGear",!0)("context",me.context)("importable",!0)("importConfig",me.importConfig)}}function ee(ce,Te){1&ce&&(t.nrm(0,"ds-loading",9),t.nI1(1,"translate")),2&ce&&t.FS9("message",t.bMT(1,1,"loading.search-results"))}function le(ce,Te){1&ce&&(t.nrm(0,"ds-error",9),t.nI1(1,"translate")),2&ce&&t.FS9("message",t.bMT(1,1,"error.search-results"))}function ne(ce,Te){1&ce&&(t.j41(0,"div",10),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&ce&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.results.empty")," "))}function fe(ce,Te){if(1&ce&&(t.qex(0),t.DNE(1,Q,2,13,"ds-viewable-collection",5)(2,ee,2,3,"ds-loading",6)(3,le,2,3,"ds-error",6)(4,ne,3,3,"div",7),t.bVm()),2&ce){const be=Te.ngVar;t.R7$(),t.Y8G("ngIf",(null==be?null:be.hasSucceeded)&&!(null!=be&&be.isLoading)&&(null==be||null==be.payload||null==be.payload.page?null:be.payload.page.length)>0),t.R7$(),t.Y8G("ngIf",!be||(null==be?null:be.isLoading)),t.R7$(),t.Y8G("ngIf",(null==be?null:be.hasFailed)&&(!(null!=be&&be.errorMessage)||400!==(null==be?null:be.statusCode))),t.R7$(),t.Y8G("ngIf",0===(null==be||null==be.payload||null==be.payload.page?null:be.payload.page.length)||400===(null==be?null:be.statusCode))}}let se=(()=>{class ce{constructor(be,me,re,Ee,De,tt){this.router=be,this.searchConfigService=me,this.externalSourceService=re,this.modalService=Ee,this.selectableListService=De,this.paginationService=tt,this.importedObject=new t.bkB,this.initialPagination=Object.assign(new U.W,{id:"spc",pageSize:5}),this.subs=[]}ngOnInit(){this.externalSource.entityTypes.pipe((0,R.qD)(),(0,e.T)(be=>be.hasSucceeded&&be.payload.totalElements>0?be.payload.page[0]:null)).subscribe(be=>{this.relatedEntityType=be}),this.resetRoute(),this.entriesRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,h.n)(be=>(""===be.query&&(be.query=this.query),this.externalSourceService.getExternalSourceEntries(this.externalSource.id,be).pipe((0,m.Z)(void 0))))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination),this.importConfig={buttonLabel:"submission.sections.describe.relationship-lookup.external-source.import-button-title."+this.label}}import(be){this.modalRef=this.modalService.open(z,{size:"lg",container:"ds-dynamic-lookup-relation-modal"});const me=this.modalRef.componentInstance.compRef$.pipe((0,L.Az)(),(0,e.T)(re=>re.instance));this.subs.push(me.subscribe(re=>{re.externalSourceEntry=be,re.item=this.item,re.relationship=this.relationship,re.label=this.label,re.relatedEntityType=this.relatedEntityType})),this.subs.push(me.pipe((0,h.n)(re=>re.importedObject)).subscribe(re=>{this.selectableListService.selectSingle(this.listId,re),this.importedObject.emit(re)}))}ngOnDestroy(){this.subs.filter(be=>(0,L.a4)(be)).forEach(be=>be.unsubscribe())}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}static{this.\u0275fac=function(me){return new(me||ce)(t.rXU(te.Ix),t.rXU(T.g),t.rXU(f.Q),t.rXU(Z.Bq),t.rXU(x.K),t.rXU(v.m))}}static{this.\u0275cmp=t.VBU({type:ce,selectors:[["ds-base-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",query:"query",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},standalone:!0,features:[t.Jv_([{provide:A.EN,useClass:T.g}]),t.aNF],decls:16,vars:16,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[3,"query","inPlaceSearch","searchPlaceholder"],[4,"ngVar"],[3,"objects","selectionConfig","config","hideGear","context","importable","importConfig","importObject",4,"ngIf"],[3,"message",4,"ngIf"],["id","empty-external-entry-list",4,"ngIf"],[3,"importObject","objects","selectionConfig","config","hideGear","context","importable","importConfig"],[3,"message"],["id","empty-external-entry-list"]],template:function(me,re){if(1&me&&(t.j41(0,"div",0)(1,"div",1)(2,"h3"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"ds-page-size-selector"),t.k0s(),t.j41(6,"div",2),t.nrm(7,"ds-search-form",3),t.nI1(8,"async"),t.nI1(9,"translate"),t.j41(10,"div")(11,"h3"),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.DNE(14,fe,5,4,"ng-container",4),t.nI1(15,"async"),t.k0s()()()),2&me){let Ee;t.R7$(3),t.JRh(t.bMT(4,6,"submission.sections.describe.relationship-lookup.selection-tab.settings")),t.R7$(4),t.Y8G("query",null==(Ee=t.bMT(8,8,re.searchConfigService.paginatedSearchOptions))?null:Ee.query)("inPlaceSearch",!0)("searchPlaceholder",t.bMT(9,10,"submission.sections.describe.relationship-lookup.selection-tab.search-form.placeholder")),t.R7$(5),t.JRh(t.bMT(13,12,"submission.sections.describe.relationship-lookup.selection-tab.title."+re.externalSource.id)),t.R7$(2),t.Y8G("ngVar",t.bMT(15,14,re.entriesRD$))}},dependencies:[$.d,j.b,M.h,k.r,i.Jj,u.h,u.D9,D.A,i.bT,w.v],data:{animation:[p.qG,p.Ws]}})}}return ce})()},1277:(F,b,n)=>{"use strict";n.r(b),n.d(b,{ExternalSourceEntryImportModalComponent:()=>K,ImportType:()=>k});var i=n(60177),t=n(54438),u=n(41780),e=n(25558),h=n(96697),m=n(29326),f=n(57568),v=n(26292),E=n(39552),_=n(80183),C=n(98794),S=n(60456),R=n(39806),T=n(7581),A=n(27442),p=n(13329),L=n(23401),D=n(33550),w=n(14131),M=n(58003);const x=X=>({repeatable:!1,listId:X});function j(X,G){if(1&X&&(t.j41(0,"div")(1,"a",16),t.EFF(2),t.k0s()()),2&X){const q=t.XpG();t.R7$(),t.FS9("href",q.uri.value,t.B4B),t.R7$(),t.JRh(q.uri.value)}}function U(X,G){if(1&X){const q=t.RV6();t.j41(0,"ds-search-results",17),t.nI1(1,"async"),t.bIt("deselectObject",function(){t.eBV(q);const te=t.XpG();return t.Njj(te.deselectEntity())})("selectObject",function(te){t.eBV(q);const Z=t.XpG();return t.Njj(Z.selectEntity(te))}),t.k0s()}if(2&X){const q=t.XpG();t.Y8G("searchResults",t.bMT(1,9,q.localEntitiesRD$))("sortConfig",null==q.lookupRelationService.searchConfig?null:q.lookupRelationService.searchConfig.sort)("searchConfig",q.lookupRelationService.searchConfig)("selectable",!0)("disableHeader",!0)("hidePaginationDetail",!0)("selectionConfig",t.eq3(11,x,q.entityListId))("linkType",q.linkTypes.ExternalLink)("context",q.context)}}function $(X,G){if(1&X){const q=t.RV6();t.j41(0,"div",18)(1,"h5",7),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",9)(5,"input",19),t.bIt("click",function(){t.eBV(q);const te=t.XpG();return t.Njj(te.selectNewAuthority())}),t.k0s(),t.j41(6,"label",20),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()}if(2&X){const q=t.XpG();t.R7$(2),t.JRh(t.bMT(3,3,q.labelPrefix+"authority")),t.R7$(3),t.Y8G("checked",q.selectedImportType===q.importType.NewAuthority),t.R7$(2),t.JRh(t.bMT(8,5,q.labelPrefix+"authority.new"))}}var k=function(X){return X.None="None",X.LocalEntity="LocalEntity",X.LocalAuthority="LocalAuthority",X.NewEntity="NewEntity",X.NewAuthority="NewAuthority",X}(k||{});let K=(()=>{class X{constructor(q,z,te,Z,J,Q,ee){this.modal=q,this.lookupRelationService=z,this.modalService=te,this.selectService=Z,this.itemService=J,this.notificationsService=Q,this.translateService=ee,this.labelPrefix="submission.sections.describe.relationship-lookup.external-source.import-modal.",this.linkTypes=T.n,this.context=v.o.EntitySearchModalWithNameVariants,this.entityListId="external-source-import-entity",this.authorityListId="external-source-import-authority",this.importType=k,this.selectedImportType=k.None,this.importedObject=new t.bkB,this.authorityEnabled=!1}ngOnInit(){this.uri=E.O.first(this.externalSourceEntry.metadata,"dc.identifier.uri");const q=Object.assign(new L.W,{id:"external-entry-import",pageSize:5});this.searchOptions=Object.assign(new D.C({query:this.externalSourceEntry.value,pagination:q})),this.localEntitiesRD$=this.lookupRelationService.getLocalResults(this.relationship,this.searchOptions)}close(){this.modal.close()}import(){switch(this.selectedImportType){case k.LocalEntity:this.importLocalEntity();break;case k.NewEntity:this.importNewEntity();break;case k.LocalAuthority:this.importLocalAuthority();break;case k.NewAuthority:this.importNewAuthority()}this.selectedImportType=k.None,this.deselectAllLists(),this.close()}importLocalEntity(){void 0!==this.selectedEntity&&(this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.local-entity")),this.importedObject.emit(this.selectedEntity))}importNewEntity(){this.modalRef=this.modalService.open(C.m,{size:"lg"}),this.modalRef.componentInstance.entityType=this.relatedEntityType.label,this.modalRef.componentInstance.selectedEvent.pipe((0,e.n)(q=>this.itemService.importExternalSourceEntry(this.externalSourceEntry,q.collection.id).pipe((0,_.yd)(),(0,_.Bo)(),(0,h.s)(1)))).subscribe(q=>{this.lookupRelationService.removeLocalResultsCache();const z=Object.assign(new A.H,{indexableObject:q});this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.new-entity")),this.modalRef.close(),this.importedObject.emit(z)})}importLocalAuthority(){}importNewAuthority(){}deselectEntity(){this.selectedEntity=void 0,this.selectedImportType===k.LocalEntity&&(this.selectedImportType=k.None)}selectEntity(q){this.selectedEntity=q,this.selectedImportType=k.LocalEntity}selectNewEntity(){this.selectedImportType===k.NewEntity?this.selectedImportType=k.None:(this.selectedImportType=k.NewEntity,this.deselectAllLists())}deselectAuthority(){this.selectedAuthority=void 0,this.selectedImportType===k.LocalAuthority&&(this.selectedImportType=k.None)}selectAuthority(q){this.selectedAuthority=q,this.selectedImportType=k.LocalAuthority}selectNewAuthority(){this.selectedImportType===k.NewAuthority?this.selectedImportType=k.None:(this.selectedImportType=k.NewAuthority,this.deselectAllLists())}deselectAllLists(){this.selectService.deselectAll(this.entityListId),this.selectService.deselectAll(this.authorityListId)}static{this.\u0275fac=function(z){return new(z||X)(t.rXU(M.Lw),t.rXU(f.c),t.rXU(M.Bq),t.rXU(p.K),t.rXU(m.ItemDataService),t.rXU(R.I),t.rXU(u.c$))}}static{this.\u0275cmp=t.VBU({type:X,selectors:[["ds-base-external-source-entry-import-modal"]],standalone:!0,features:[t.aNF],decls:38,vars:29,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],["id","external-source-entry-information",1,"mb-3"],[4,"ngIf"],["id","external-source-entry-entities",1,"mb-3"],[1,"fw-bold"],[3,"searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context","deselectObject","selectObject",4,"ngIf"],[1,"ms-4","form-check"],["type","radio","name","new-entity","id","new-entity","value","new-entity",1,"form-check-input",3,"click","checked"],["for","new-entity",1,"form-check-label"],["id","external-source-entry-authority",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","dsBtnDisabled"],[3,"href"],[3,"deselectObject","selectObject","searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context"],["id","external-source-entry-authority"],["type","radio","name","new-authority","id","new-authority","value","new-authority",1,"form-check-input",3,"click","checked"],["for","new-authority",1,"form-check-label"]],template:function(z,te){if(1&z&&(t.j41(0,"div",0)(1,"h4",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return te.modal.dismiss()}),t.k0s()(),t.j41(5,"div",3)(6,"h4"),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"div",4)(10,"div")(11,"span"),t.EFF(12),t.k0s()(),t.DNE(13,j,3,2,"div",5),t.k0s(),t.j41(14,"h4"),t.EFF(15),t.nI1(16,"translate"),t.k0s(),t.j41(17,"div",6)(18,"h5",7),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.DNE(21,U,2,13,"ds-search-results",8),t.nI1(22,"async"),t.j41(23,"div",9)(24,"input",10),t.bIt("click",function(){return te.selectNewEntity()}),t.k0s(),t.j41(25,"label",11),t.EFF(26),t.nI1(27,"translate"),t.k0s()()(),t.DNE(28,$,9,7,"div",12),t.k0s(),t.j41(29,"div",13)(30,"div")(31,"button",14),t.bIt("click",function(){return te.close()}),t.EFF(32),t.nI1(33,"translate"),t.k0s()(),t.j41(34,"div")(35,"button",15),t.bIt("click",function(){return te.import()}),t.EFF(36),t.nI1(37,"translate"),t.k0s()()()),2&z){let Z;t.R7$(2),t.JRh(t.bMT(3,13,te.labelPrefix+te.label+".title")),t.R7$(5),t.JRh(t.bMT(8,15,te.labelPrefix+"head."+te.externalSourceEntry.externalSource)),t.R7$(5),t.JRh(te.externalSourceEntry.display),t.R7$(),t.Y8G("ngIf",te.uri),t.R7$(2),t.JRh(t.bMT(16,17,te.labelPrefix+"select")),t.R7$(4),t.JRh(t.bMT(20,19,te.labelPrefix+"entities")),t.R7$(2),t.Y8G("ngIf",(null==(Z=t.bMT(22,21,te.localEntitiesRD$))||null==Z.payload||null==Z.payload.page?null:Z.payload.page.length)>0),t.R7$(3),t.Y8G("checked",te.selectedImportType===te.importType.NewEntity),t.R7$(2),t.JRh(t.bMT(27,23,te.labelPrefix+"entities.new")),t.R7$(2),t.Y8G("ngIf",te.authorityEnabled),t.R7$(4),t.JRh(t.bMT(33,25,te.labelPrefix+"cancel")),t.R7$(3),t.Y8G("dsBtnDisabled",te.selectedImportType===te.importType.None),t.R7$(),t.JRh(t.bMT(37,27,te.labelPrefix+"import"))}},dependencies:[u.h,u.D9,w.N,i.bT,i.Jj,S.A],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}"]})}}return X})()},94337:(F,b,n)=>{"use strict";n.d(b,{SF:()=>t,dD:()=>e,zH:()=>h});var i=n(91e3);const t={SET_NAME_VARIANT:(0,i.N)("dspace/name-variant/SET_NAME_VARIANT"),REMOVE_NAME_VARIANT:(0,i.N)("dspace/name-variant/REMOVE_NAME_VARIANT")};class u{constructor(f,v){this.payload={listID:f,itemID:v}}}class e extends u{constructor(f,v,E){super(f,v),this.type=t.SET_NAME_VARIANT,this.payload.nameVariant=E}}class h extends u{constructor(f,v){super(f,v),this.type=t.REMOVE_NAME_VARIANT}}},59496:(F,b,n)=>{"use strict";n.d(b,{Fw:()=>m,_I:()=>e,aS:()=>u,oE:()=>t});var i=n(91e3);const t={ADD_RELATIONSHIP:(0,i.N)("dspace/relationship/ADD_RELATIONSHIP"),REMOVE_RELATIONSHIP:(0,i.N)("dspace/relationship/REMOVE_RELATIONSHIP"),UPDATE_NAME_VARIANT:(0,i.N)("dspace/relationship/UPDATE_NAME_VARIANT"),UPDATE_RELATIONSHIP:(0,i.N)("dspace/relationship/UPDATE_RELATIONSHIP")};class u{constructor(v,E,_,C,S){this.type=t.ADD_RELATIONSHIP,this.payload={item1:v,item2:E,relationshipType:_,submissionId:C,nameVariant:S}}}class e{constructor(v,E,_,C,S){this.type=t.UPDATE_NAME_VARIANT,this.payload={item1:v,item2:E,relationshipType:_,submissionId:C,nameVariant:S}}}class m{constructor(v,E,_,C){this.type=t.REMOVE_RELATIONSHIP,this.payload={item1:v,item2:E,relationshipType:_,submissionId:C}}}},26091:(F,b,n)=>{"use strict";n.r(b),n.d(b,{DsDynamicLookupRelationSearchTabComponent:()=>X});var i=n(60177),t=n(54438),u=n(58003),e=n(41780),h=n(84412),m=n(96697),f=n(57568),v=n(48833),E=n(22978),R=(n(26292),n(88318),n(59854),n(80183)),T=n(78655),A=n(39012),p=n(13955),L=n(82777),D=n(7581),w=n(13329),M=n(54992),x=n(18226);const j=(G,q)=>({repeatable:G,listId:q});function U(G,q){1&G&&(t.j41(0,"button",10),t.nrm(1,"span",11),t.j41(2,"span",8),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&G&&(t.R7$(3),t.JRh(t.bMT(4,1,"submission.sections.describe.relationship-lookup.search-tab.loading")))}function $(G,q){if(1&G){const z=t.RV6();t.j41(0,"div",12)(1,"button",13),t.bIt("click",function(){const Z=t.eBV(z).ngVar,J=t.XpG(3);return t.Njj(J.selectPage(null==Z?null:Z.page))}),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",13),t.bIt("click",function(){const Z=t.eBV(z).ngVar,J=t.XpG(3);return t.Njj(J.deselectPage(null==Z?null:Z.page))}),t.EFF(5),t.nI1(6,"translate"),t.k0s()()}2&G&&(t.R7$(2),t.JRh(t.bMT(3,2,"submission.sections.describe.relationship-lookup.search-tab.select-page")),t.R7$(3),t.JRh(t.bMT(6,4,"submission.sections.describe.relationship-lookup.search-tab.deselect-page")))}function k(G,q){if(1&G&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5),t.DNE(3,U,5,3,"button",6),t.j41(4,"button",7)(5,"span",8),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.DNE(8,$,7,6,"div",9),t.nI1(9,"async"),t.k0s()()()),2&G){const z=t.XpG(2);t.R7$(3),t.Y8G("ngIf",z.selectAllLoading),t.R7$(),t.Y8G("hidden",z.selectAllLoading),t.R7$(2),t.JRh(t.bMT(7,4,"submission.sections.describe.relationship-lookup.toggle-dropdown")),t.R7$(2),t.Y8G("ngVar",t.bMT(9,6,z.resultsRD$))}}function K(G,q){if(1&G){const z=t.RV6();t.j41(0,"ds-search",1),t.bIt("resultFound",function(Z){t.eBV(z);const J=t.XpG();return t.Njj(J.onResultFound(Z))})("deselectObject",function(Z){t.eBV(z);const J=t.XpG();return t.Njj(J.deselectObject.emit(Z))})("selectObject",function(Z){t.eBV(z);const J=t.XpG();return t.Njj(J.selectObject.emit(Z))}),t.DNE(1,k,10,8,"div",2),t.k0s()}if(2&G){const z=t.XpG();t.Y8G("configuration",z.relationship.searchConfiguration)("context",z.context)("fixedFilterQuery",z.relationship.filter)("hiddenQuery",z.hiddenQuery)("inPlaceSearch",!0)("linkType",z.linkTypes.ExternalLink)("searchFormPlaceholder","submission.sections.describe.relationship-lookup.search-tab.search-form.placeholder")("selectable",!0)("selectionConfig",t.l_i(13,j,z.repeatable,z.listId))("showScopeSelector",!1)("showViewModes",!1)("query",z.query),t.R7$(),t.Y8G("ngIf",z.repeatable)}}let X=(()=>{class G{constructor(z,te,Z,J,Q,ee){this.searchService=z,this.selectableListService=te,this.searchConfigService=Z,this.lookupRelationService=J,this.relationshipService=Q,this.paginationService=ee,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.resultsRD$=new h.t(null),this.initialPagination={page:1,pageSize:5},this.linkTypes=D.n,this.resultFound=new t.bkB}ngOnInit(){this.resetRoute()}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,this.initialPagination)}selectPage(z){this.selection$.pipe((0,m.s)(1)).subscribe(te=>{const Z=z.filter(J=>te.findIndex(Q=>Q.equals(J))<0);this.selectObject.emit(...Z)}),this.selectableListService.select(this.listId,z)}deselectPage(z){this.allSelected=!1,this.selection$.pipe((0,m.s)(1)).subscribe(te=>{const Z=z.filter(J=>te.findIndex(Q=>Q.equals(J))>=0);this.deselectObject.emit(...Z)}),this.selectableListService.deselect(this.listId,z)}setSelectedIds(z,te){let Z=this.relationshipType.rightwardType;this.isLeft&&(Z=this.relationshipType.leftwardType),this.relationshipService.searchByItemsAndType(this.relationshipType.id,this.item.uuid,Z,z).pipe((0,R.yd)(),(0,R.Bo)()).subscribe(J=>{let Q=J.page.map(ee=>{let le=[];return le=this.isLeft?ee._links.rightItem.href.split("/"):ee._links.leftItem.href.split("/"),this.getRelatedItem(le[le.length-1],te)});Q=Q.filter(ee=>!this.getIfInRemove(ee.indexableObject.uuid)),Q.length>0&&this.selectableListService.select(this.listId,Q)})}deselectAll(){this.allSelected=!1,this.selection$.pipe((0,m.s)(1)).subscribe(z=>this.deselectObject.emit(...z)),this.selectableListService.deselectAll(this.listId)}getRelatedItem(z,te){return te.find(Z=>Z.indexableObject.uuid===z)}getIfInRemove(z){return!!this.toRemove.find(te=>te.indexableObject.uuid===z)}ngOnDestroy(){(0,L.a4)(this.subscription)&&this.subscription.unsubscribe()}onResultFound(z){if(this.resultsRD$.next(z),this.resultFound.emit(z),this.isEditRelationship){const te=z.page.map(Z=>Z.indexableObject.uuid);this.setSelectedIds(te,z.page)}}static{this.\u0275fac=function(te){return new(te||G)(t.rXU(T.S),t.rXU(w.K),t.rXU(A.g),t.rXU(f.c),t.rXU(v.RelationshipDataService),t.rXU(E.m))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-base-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship",hiddenQuery:"hiddenQuery"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},standalone:!0,features:[t.Jv_([{provide:p.EN,useClass:A.g}]),t.aNF],decls:1,vars:1,consts:[[3,"configuration","context","fixedFilterQuery","hiddenQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","query","resultFound","deselectObject","selectObject",4,"ngIf"],[3,"resultFound","deselectObject","selectObject","configuration","context","fixedFilterQuery","hiddenQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","query"],["additionalSearchOptions","","class","position-absolute",4,"ngIf"],["additionalSearchOptions","",1,"position-absolute"],[1,"input-group","mb-3"],["ngbDropdown","",1,"input-group","dropdown-button"],["type","button","class","btn btn-outline-secondary rounded-end",4,"ngIf"],["id","resultdropdown","type","button","ngbDropdownToggle","","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle-split",3,"hidden"],[1,"sr-only"],["ngbDropdownMenu","","aria-labelledby","resultdropdown",4,"ngVar"],["type","button",1,"btn","btn-outline-secondary","rounded-end"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["ngbDropdownMenu","","aria-labelledby","resultdropdown"],[1,"dropdown-item",3,"click"]],template:function(te,Z){1&te&&t.DNE(0,K,2,16,"ds-search",0),2&te&&t.Y8G("ngIf",Z.relationship.searchConfiguration&&Z.context)},dependencies:[i.Jj,x.r,e.h,e.D9,u.zH,u.tg,u.do,u.U0,i.bT,M.N],styles:[".position-absolute[_ngcontent-%COMP%]{right:var(--bs-spacer)}.dropdown-button[_ngcontent-%COMP%]{z-index:3}"]})}}return G})()},33126:(F,b,n)=>{"use strict";n.d(b,{j:()=>Tt});var i=n(1473),t=n(83278),u=n.n(t),e=n(78124),h=n.n(e),m=n(25689),f=n.n(m),v=n(8917),E=n(14391),_=n(80183),C=n(12866),S=n(82777),R=n(56899),T=n(31635),A=n(21413),p=n(61280),L=n(56568);const D="_CONCAT_GROUP";class x extends i.iO5{constructor(it,xe){super(it,xe),this.hasLanguages=!1,this.typeBindHidden=!1,this.isCustomGroup=!0,this.separator=it.separator+" ",this.relationship=it.relationship,this.repeatable=it.repeatable,this.required=it.required,this.hint=it.hint,this.metadataFields=it.metadataFields,this.submissionId=it.submissionId,this.hasSelectableMetadata=it.hasSelectableMetadata,this.metadataValue=it.metadataValue,this.valueUpdates=new A.B,this.valueUpdates.subscribe(Ve=>this.value=Ve),this.typeBindRelations=it.typeBindRelations?it.typeBindRelations:[],this.readOnly=it.disabled}get value(){const[it,xe]=this.group.map(Ve=>"string"==typeof Ve.value?Object.assign(new p.e,{value:Ve.value,display:Ve.value}):Ve.value);return(0,S.hj)(it)&&(0,S.hj)(it.value)&&(0,S.hj)(xe)&&(0,S.hj)(xe.value)?Object.assign(new p.e,it,{value:it.value+this.separator+xe.value}):(0,S.hj)(it)&&(0,S.hj)(it.value)?Object.assign(new p.e,it):(0,S.hj)(xe)&&(0,S.hj)(xe.value)?Object.assign(new p.e,xe):null}set value(it){let xe;xe="string"==typeof it?it:it.value,(0,S.Tn)(xe)&&(xe="");const Ve=[...xe.split(this.separator),null].map(Ke=>Object.assign(new p.e,it,{display:Ke,value:Ke}));this.get(0).value=Ve[0].value?Ve[0]:void 0,this.get(1).value=Ve[1].value?Ve[1]:void 0}}(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],x.prototype,"separator",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Object)],x.prototype,"hasLanguages",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Array)],x.prototype,"typeBindRelations",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Object)],x.prototype,"typeBindHidden",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",L.j)],x.prototype,"relationship",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],x.prototype,"repeatable",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],x.prototype,"required",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],x.prototype,"hint",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Array)],x.prototype,"metadataFields",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],x.prototype,"submissionId",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],x.prototype,"hasSelectableMetadata",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",E.vD)],x.prototype,"metadataValue",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],x.prototype,"readOnly",void 0);var j=n(38512),U=n(54438),$=n(59519),k=n.n($),K=n(83085);class X extends i.iO5{constructor(){super(...arguments),this.isRowGroup=!0}}var G=function(Ft){return Ft.WorkspaceItem="SUBMISSION",Ft.WorkflowItem="WORKFLOW",Ft}(G||{}),q=n(41780),z=n(89293),te=n(8590),Z=n(74850);class J{}(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"hints",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"label",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",Array)],J.prototype,"languageCodes",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"mandatoryMessage",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"mandatory",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",Boolean)],J.prototype,"repeatable",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",Object)],J.prototype,"input",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",Array)],J.prototype,"selectableMetadata",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",L.j)],J.prototype,"selectableRelationship",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",Array)],J.prototype,"rows",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"scope",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",String)],J.prototype,"style",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",Array)],J.prototype,"typeBind",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",Object)],J.prototype,"value",void 0),(0,T.Cg)([Z.autoserialize,(0,T.Sn)("design:type",Object)],J.prototype,"visibility",void 0);var Q=n(14723);function ee(Ft,it,xe,Ve){(0,S.kZ)(Ft.layout)?(Ft.layout={},Ft.layout[it]={},Ft.layout[it][xe]=Ve):(0,S.b0)(Ft.layout[it])?(Ft.layout[it]={},Ft.layout[it][xe]=Ve):Ft.layout[it][xe]=(0,S.b0)(Ft.layout[it][xe])?Ve:Ft.layout[it][xe].concat(` ${Ve}`)}var le=function(Ft){return Ft.Date="date",Ft.Dropdown="dropdown",Ft.RelationGroup="group",Ft.List="list",Ft.Lookup="lookup",Ft.LookupName="lookup-name",Ft.LookupRelation="lookup-relation",Ft.Onebox="onebox",Ft.Name="name",Ft.Series="series",Ft.Tag="tag",Ft.Textarea="textarea",Ft}(le||{});const ne=new U.nKC("submissionId"),fe=new U.nKC("configData"),se=new U.nKC("initFormValues"),ce=new U.nKC("parserOptions"),Te=new RegExp("(\\/?)(.+)\\1([gimsuy]*)","i");let be=class{constructor(it,xe,Ve,Ke,je){this.submissionId=it,this.configData=xe,this.initFormValues=Ve,this.parserOptions=Ke,this.translate=je}parse(){if((this.getInitValueCount()>1&&!this.configData.repeatable||this.configData.repeatable)&&this.configData.input.type!==le.List.valueOf()&&this.configData.input.type!==le.Tag.valueOf()){let Ve,it=0,xe=0;Array.isArray(this.configData.selectableMetadata)&&1===this.configData.selectableMetadata.length&&(Ve=this.configData.selectableMetadata[0].metadata);let Ke=!0;this.configData.input.type===le.Onebox.valueOf()&&this.configData?.selectableMetadata?.length>1&&(Ke=!1);const je={id:k()()+"_array",label:this.configData.label,initialCount:this.getInitArrayIndex(),notRepeatable:!this.configData.repeatable,relationshipConfig:this.configData.selectableRelationship,required:JSON.parse(this.configData.mandatory),submissionId:this.submissionId,metadataKey:Ve,metadataFields:this.getAllFieldIds(),hasSelectableMetadata:(0,S.hj)(this.configData.selectableMetadata),isDraggable:Ke,typeBindRelations:(0,S.hj)(this.configData.typeBind)?this.getTypeBindRelations(this.configData.typeBind,this.parserOptions.typeField):null,groupFactory:()=>{let Qe;if(0===it)Qe=this.modelFactory(),it++;else{const st=this.getInitValueCount(it-1);let ke=null;st>0&&(ke=this.getInitFieldValue(it-1,xe++),xe===st&&(xe=0,it++)),Qe=this.modelFactory(ke,!1)}return ee(Qe,"element","host","col"),(Qe.hasLanguages||(0,S.hj)(Qe.relationship))&&ee(Qe,"grid","control","col"),[Qe]}};return new te.m(je,{grid:{group:"row"}})}{const it=this.modelFactory(this.getInitFieldValue());return it.submissionId=this.submissionId,(it.hasLanguages||(0,S.hj)(it.relationship))&&ee(it,"grid","control","col"),it}}setVocabularyOptions(it){(0,S.hj)(this.configData.selectableMetadata)&&(0,S.hj)(this.configData.selectableMetadata[0].controlledVocabulary)&&(it.vocabularyOptions=new z.n(this.configData.selectableMetadata[0].controlledVocabulary,this.configData.selectableMetadata[0].closed))}setValues(it,xe,Ve=!1,Ke){if((0,S.hj)(xe)){if(Ke)return it.value=this.getInitGroupValues(),void(Array.isArray(it.value)&&it.value.length>0&&it.value[0].language&&(it.language=it.value[0].language));(0,C.z5)(xe)?it.value=xe:"object"==typeof xe?(it.metadataValue=xe,it.language=xe.language,it.place=xe.place,it.value=Ve?xe:xe.value):Ve?it.value=new p.e(xe):"string"==typeof xe&&(it.value=xe)}return it}getInitValueCount(it=0,xe){const Ve=xe||this.getAllFieldIds();if((0,S.hj)(this.initFormValues)&&(0,S.Pe)(Ve)&&1===Ve.length&&this.initFormValues.hasOwnProperty(Ve[0]))return this.initFormValues[Ve[0]].length;if((0,S.hj)(this.initFormValues)&&(0,S.Pe)(Ve)&&Ve.length>1){const Ke=[];return Ve.forEach(je=>{this.initFormValues.hasOwnProperty(je)&&Ke.push(this.initFormValues[je].length)}),Ke[it]}return 0}getInitGroupValues(){const it=this.getAllFieldIds();if((0,S.hj)(this.initFormValues)&&(0,S.Pe)(it)&&1===it.length&&this.initFormValues.hasOwnProperty(it[0]))return this.initFormValues[it[0]]}getInitFieldValues(it){if((0,S.hj)(this.initFormValues)&&(0,S.Pe)(it)&&this.initFormValues.hasOwnProperty(it))return this.initFormValues[it]}getInitFieldValue(it=0,xe=0,Ve){const Ke=Ve||this.getAllFieldIds();if((0,S.hj)(this.initFormValues)&&(0,S.Pe)(Ke)&&1===Ke.length&&this.initFormValues.hasOwnProperty(Ke[it])&&this.initFormValues[Ke[it]].length>xe)return this.initFormValues[Ke[it]][xe];if((0,S.hj)(this.initFormValues)&&(0,S.Pe)(Ke)&&Ke.length>1){const je=[];return Ke.forEach(At=>{if(this.initFormValues.hasOwnProperty(At)){const Qe=Object.assign(new p.e,this.initFormValues[At][xe]);Qe.metadata=At,je.push(Qe)}}),je[it]}return null}getInitArrayIndex(){const it=this.getAllFieldIds();if((0,S.hj)(this.initFormValues)&&(0,S.Pe)(it)&&1===it.length&&this.initFormValues.hasOwnProperty(it))return this.initFormValues[it].length;if((0,S.hj)(this.initFormValues)&&(0,S.Pe)(it)&&it.length>1){let xe=0;return it.forEach(Ve=>{this.initFormValues.hasOwnProperty(Ve)&&(xe+=this.initFormValues[Ve].length)}),0===xe?1:xe}return 1}getFieldId(){const it=this.getAllFieldIds();return(0,S.Pe)(it)?it[0]:null}getAllFieldIds(){if(Array.isArray(this.configData.selectableMetadata)){if(1===this.configData.selectableMetadata.length)return[this.configData.selectableMetadata[0].metadata];{const it=[];return this.configData.selectableMetadata.forEach(xe=>it.push(xe.metadata)),it}}return["relation."+this.configData.selectableRelationship.relationshipType]}initModel(it,xe=!0,Ve=!1,Ke=!0,je=!0){const At=Object.create(null);return this.fieldId=it||this.getFieldId(),At.name=this.fieldId,At.id=this.fieldId.replace(/\./g,"_"),At.readOnly=this.parserOptions.readOnly||this.isFieldReadOnly(this.configData.visibility,this.configData.scope,this.parserOptions.submissionScope),At.disabled=At.readOnly,(0,S.a4)(this.configData.selectableRelationship)&&(At.relationship=Object.assign(new L.j,this.configData.selectableRelationship)),At.repeatable=this.configData.repeatable,At.metadataFields=this.getAllFieldIds()||[],At.hasSelectableMetadata=(0,S.hj)(this.configData.selectableMetadata),At.submissionId=this.submissionId,this.setLabel(At,xe),je&&(At.hint=this.configData.hints||"&nbsp;"),At.placeholder=this.configData.label,this.configData.mandatory&&Ke&&this.markAsRequired(At),this.hasRegex()&&this.addPatternValidator(At),this.configData.languageCodes&&this.configData.languageCodes.length>0&&(At.languageCodes=this.configData.languageCodes),(0,S.hj)(this.configData.typeBind)&&(At.typeBindRelations=this.getTypeBindRelations(this.configData.typeBind,this.parserOptions.typeField)),At}isFieldReadOnly(it,xe,Ve){return(0,S.hj)(Ve)&&(0,S.hj)(xe)&&(0,S.hj)(it)&&(Ve===K.L.WorkspaceItem.valueOf()&&it.main===Q.x.READONLY||it.other===Q.x.READONLY&&Ve===K.L.WorkflowItem.valueOf())}getTypeBindRelations(it,xe){const Ve=[];return it.forEach(Ke=>{Ve.push({id:xe,value:Ke})}),[{match:i.zUr,operator:i.fXj,when:Ve}]}hasRegex(){return(0,S.a4)(this.configData.input.regex)}addPatternValidator(it){const xe=this.configData.input.regex.match(Te);let Ve;Ve=null!=xe&&xe.length>3?new RegExp(xe[2],xe[3]):new RegExp(this.configData.input.regex);const Ke="error.validation.pattern",je=`${Ke}.${it.id}`,At=this.translate.instant(je)!==je;it.validators=Object.assign({},it.validators,{pattern:Ve}),it.errorMessages=Object.assign({},it.errorMessages,{pattern:At?je:Ke})}markAsRequired(it){it.required=!0,it.validators=Object.assign({},it.validators,{required:null}),it.errorMessages=Object.assign({},it.errorMessages,{required:this.configData.mandatoryMessage})}setLabel(it,xe=!0,Ve=!1){xe&&(it.label=Ve?"&nbsp;":this.configData.label)}setOptions(it){(0,S.EA)(this.configData.selectableMetadata)&&this.configData.selectableMetadata.length>1&&(it.options=[],this.configData.selectableMetadata.forEach((xe,Ve)=>{0===Ve&&(it.value=xe.metadata),it.options.push({label:xe.label,value:xe.metadata})}))}};be=(0,T.Cg)([(0,T.Qj)(0,(0,U.y_5)(ne)),(0,T.Qj)(1,(0,U.y_5)(fe)),(0,T.Qj)(2,(0,U.y_5)(se)),(0,T.Qj)(3,(0,U.y_5)(ce)),(0,T.Sn)("design:paramtypes",[String,J,Object,Object,q.c$])],be);var me=n(33382),re=n(87668);class Ee extends be{modelFactory(it,xe){let Ve=!1;const Ke=this.initModel(null,!1,!0);if(Ke.legend=this.configData.label,Ke.disabled=Ke.readOnly,Ke.toggleIcon="fas fa-calendar",this.setValues(Ke,it),(0,S.hj)(Ke.value)){const At=Ke.value.toString();if(At.length>=4){const Qe=At.split(me.q);if(Qe.length<4)for(let st=0;st<Qe.length;st++)Qe[st].length!==(0===st?4:2)&&(Ve=!0)}}const je=new re.g(Ke);return je.malformedDate=Ve,je}}var De=n(6458);class tt extends be{modelFactory(it,xe){const Ve=this.initModel(null,xe);return this.setValues(Ve,it,!0),new De.H(Ve)}}var ht=n(11220);let Fe=class extends be{constructor(it,xe,Ve,Ke,je){super(it,xe,Ve,Ke,je)}modelFactory(it,xe){const Ve=this.initModel(null,xe);let Ke;if((0,S.hj)(this.configData.selectableMetadata[0].controlledVocabulary))return this.setVocabularyOptions(Ve),(0,S.hj)(it)&&(Ve.value=it),Ke={element:{control:"col"},grid:{host:"col"}},new ht.j(Ve,Ke);throw Error("Controlled Vocabulary name is not available. Please check the form configuration file.")}};Fe=(0,T.Cg)([(0,T.Qj)(0,(0,U.y_5)(ne)),(0,T.Qj)(1,(0,U.y_5)(fe)),(0,T.Qj)(2,(0,U.y_5)(se)),(0,T.Qj)(3,(0,U.y_5)(ce)),(0,T.Sn)("design:paramtypes",[String,J,Object,Object,q.c$])],Fe);var Et=n(29658),Ye=n(90558);class pt extends be{modelFactory(it,xe){const Ve=this.initModel(null,xe);let Ke;return Ve.repeatable=this.configData.repeatable,this.configData.selectableMetadata[0].controlledVocabulary&&this.configData.selectableMetadata[0].controlledVocabulary.length>0&&((0,S.hj)(this.getInitGroupValues())&&(Ve.value=[],this.getInitGroupValues().forEach(je=>{if(je instanceof p.e)Ve.value.push(je);else{const At=new p.e(je);Ve.value.push(At)}})),this.setVocabularyOptions(Ve)),Ve.repeatable?(Ve.group=[],Ke=new Et.R(Ve)):(Ve.options=[],Ke=new Ye.t(Ve)),Ke}}var Mt=n(80902);class Ne extends be{modelFactory(it,xe){if(this.configData.selectableMetadata[0].controlledVocabulary){const Ve=this.initModel(null,xe);return this.setVocabularyOptions(Ve),this.setValues(Ve,it,!0),new Mt.P(Ve)}}}var ot=n(37146);class Gt extends be{modelFactory(it,xe){if(this.configData.selectableMetadata[0].controlledVocabulary){const Ve=this.initModel(null,xe);return this.setVocabularyOptions(Ve),this.setValues(Ve,it,!0),new ot._(Ve)}}}var Zt=n(66733);let mt=class extends be{constructor(it,xe,Ve,Ke,je,At,Qe=null,st=null){super(it,xe,Ve,Ke,je),this.separator=At,this.firstPlaceholder=Qe,this.secondPlaceholder=st,this.separator=At,this.firstPlaceholder=Qe,this.secondPlaceholder=st}modelFactory(it,xe){const Ve=this.configData.selectableMetadata[0].metadata,Ke={grid:{host:"col-sm-6"}},je=Ve.replace(/\./g,"_")+D,At=this.initModel(je,xe,!1,!0);At.group=[],At.separator=this.separator;const Qe=this.initModel(Ve+"_CONCAT_FIRST_INPUT",!1,!0,!0,!1),st=this.initModel(Ve+"_CONCAT_SECOND_INPUT",!1,!0,!0,!1);Qe.hideErrorMessages=!0,st.hideErrorMessages=!0,(0,S.Tn)(At.hint)&&(0,S.a4)(Qe.hint)&&(0,S.Tn)(st.hint)&&(At.hint=Qe.hint,Qe.hint=void 0),this.configData.mandatory&&(At.required=!0,Qe.required=!0),At.disabled=Qe.readOnly,(0,S.hj)(this.firstPlaceholder)&&(Qe.placeholder=this.firstPlaceholder),(0,S.hj)(this.secondPlaceholder)&&(st.placeholder=this.secondPlaceholder);const ke=this.configData.label.split("/");2===ke.length&&(Qe.placeholder=ke[0],st.placeholder=ke[1]);const Le=new Zt.C(Qe,Ke),dt=new Zt.C(st,Ke);At.group.push(Le),At.group.push(dt);const an=new x(At,{element:{control:"row"}});return an.name=this.getFieldId(),(0,S.hj)(it)&&(an.value=it),an}};mt=(0,T.Cg)([(0,T.Qj)(0,(0,U.y_5)(ne)),(0,T.Qj)(1,(0,U.y_5)(fe)),(0,T.Qj)(2,(0,U.y_5)(se)),(0,T.Qj)(3,(0,U.y_5)(ce)),(0,T.Sn)("design:paramtypes",[String,J,Object,Object,q.c$,String,String,String])],mt);let Pt=class extends mt{constructor(it,xe,Ve,Ke,je){super(it,xe,Ve,Ke,je,",","form.last-name","form.first-name")}};Pt=(0,T.Cg)([(0,T.Qj)(0,(0,U.y_5)(ne)),(0,T.Qj)(1,(0,U.y_5)(fe)),(0,T.Qj)(2,(0,U.y_5)(se)),(0,T.Qj)(3,(0,U.y_5)(ce)),(0,T.Sn)("design:paramtypes",[String,J,Object,Object,q.c$])],Pt);class un extends i.iO5{constructor(it,xe){super(it,xe),this.hasLanguages=!1,this.isCustomGroup=!0,this.readOnly=it.readOnly,this.required=it.required,this.language=it.language,this.languageCodes=it.languageCodes,this.languageUpdates=new A.B,this.languageUpdates.subscribe(Ve=>{this.language=Ve}),this.hint=it.hint}get value(){return this.get(1).value}get qualdropId(){return this.get(0).value.toString()}get language(){return this._language}set language(it){this._language=it}get languageCodes(){return this._languageCodes}set languageCodes(it){this._languageCodes=it,(!this.language||null===this.language||""===this.language)&&(this.language=this.languageCodes?this.languageCodes[0].code:null)}}(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],un.prototype,"_language",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Array)],un.prototype,"_languageCodes",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",A.B)],un.prototype,"languageUpdates",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Object)],un.prototype,"hasLanguages",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],un.prototype,"readOnly",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",String)],un.prototype,"hint",void 0),(0,T.Cg)([(0,i.sU3)(),(0,T.Sn)("design:type",Boolean)],un.prototype,"required",void 0);var rn=n(45500);class Pn extends be{modelFactory(it,xe){if(this.configData.selectableMetadata.length>1){const Ve={element:{control:"row",hint:"ds-form-qualdrop-hint"}},Ke={element:{control:"ds-form-input-addon custom-select"},grid:{host:"col-sm-4 pe-0"}},je={element:{control:"ds-form-input-value"},grid:{host:"col-sm-8 ps-0"}},At=this.configData.selectableMetadata[0].metadata.split(".").slice(0,this.configData.selectableMetadata[0].metadata.split(".").length-1).join("."),Qe=Object.create(null);Qe.id=At.replace(/\./g,"_")+"_QUALDROP_GROUP",Qe.group=[],Qe.legend=this.configData.label,Qe.hint=this.configData.hints,this.setLabel(Qe,xe),Qe.required=(0,S.hj)(this.configData.mandatory);const st=this.initModel(At+"_QUALDROP_VALUE",xe,!1,!1);st.hint=null,this.setValues(st,it);const ke=this.initModel(At+"_QUALDROP_METADATA",xe,!1,!1);return ke.hint=null,this.setOptions(ke),(0,S.hj)(it)&&(ke.value=it.metadata),ke.disabled=st.readOnly,Qe.readOnly=ke.disabled&&st.readOnly,Qe.group.push(new i.z4z(ke,Ke)),Qe.group.push(new Zt.C(st,je)),new un(Qe,Ve)}if(this.configData.selectableMetadata[0].controlledVocabulary){const Ve=this.initModel(null,xe);return this.setVocabularyOptions(Ve),this.setValues(Ve,it,!0),new rn.K(Ve)}{const Ve=this.initModel(null,xe);return this.setValues(Ve,it),new Zt.C(Ve)}}}var yt=n(11166);class Kt extends be{modelFactory(it,xe){const Ve=this.initModel(null,xe);if(Ve.submissionId=this.submissionId,Ve.scopeUUID=this.parserOptions.collectionUUID,Ve.submissionScope=this.parserOptions.submissionScope,!(this.configData&&this.configData.rows&&this.configData.rows.length>0))throw new Error(`Configuration not valid: ${Ve.name}`);Ve.formConfiguration=this.configData.rows,Ve.relationFields=[],this.configData.rows.forEach(At=>{At.fields.forEach(Qe=>{Qe.selectableMetadata[0].metadata===this.configData.selectableMetadata[0].metadata?Ve.mandatoryField=this.configData.selectableMetadata[0].metadata:Ve.relationFields.push(Qe.selectableMetadata[0].metadata)})}),(0,S.hj)(this.getInitGroupValues())&&(Ve.value=[],this.getInitFieldValues(Ve.mandatoryField).forEach((Qe,st)=>{const ke=Object.create(null);[Ve.mandatoryField].concat(Ve.relationFields).forEach(dt=>{const It=this.getInitFieldValue(0,st,[dt]);ke[dt]=(0,S.hj)(It)?It:R.N}),Ve.value.push(ke)}));const je=new yt.W(Ve,{element:{container:"mb-3"}});return je.name=this.getFieldId(),je}}let Rt=class extends mt{constructor(it,xe,Ve,Ke,je){super(it,xe,Ve,Ke,je,";")}};Rt=(0,T.Cg)([(0,T.Qj)(0,(0,U.y_5)(ne)),(0,T.Qj)(1,(0,U.y_5)(fe)),(0,T.Qj)(2,(0,U.y_5)(se)),(0,T.Qj)(3,(0,U.y_5)(ce)),(0,T.Sn)("design:paramtypes",[String,J,Object,Object,q.c$])],Rt);class nn extends be{modelFactory(it,xe){const Ve=this.initModel(null,xe);return this.configData.selectableMetadata[0].controlledVocabulary&&this.configData.selectableMetadata[0].controlledVocabulary.length>0&&this.setVocabularyOptions(Ve),this.setValues(Ve,it,null,!0),new j.H(Ve)}}var gn=n(88280),St=n(77485);class zt extends be{modelFactory(it,xe){const Ve=this.initModel(null,xe);return Ve.rows=10,Ve.spellCheck=gn.c.form.spellCheck,this.setValues(Ve,it),new St.E(Ve,{element:{label:"col-form-label"}})}}const Yt=[ne,fe,se,ce,q.c$];class wt{static getProvider(it){switch(it){case le.Date:return{provide:be,useClass:Ee,deps:[...Yt]};case le.Dropdown:return{provide:be,useClass:Fe,deps:[...Yt]};case le.RelationGroup:return{provide:be,useClass:Kt,deps:[...Yt]};case le.List:return{provide:be,useClass:pt,deps:[...Yt]};case le.Lookup:return{provide:be,useClass:Ne,deps:[...Yt]};case le.LookupName:return{provide:be,useClass:Gt,deps:[...Yt]};case le.Onebox:return{provide:be,useClass:Pn,deps:[...Yt]};case le.Name:return{provide:be,useClass:Pt,deps:[...Yt]};case le.Series:return{provide:be,useClass:Rt,deps:[...Yt]};case le.Tag:return{provide:be,useClass:nn,deps:[...Yt]};case le.Textarea:return{provide:be,useClass:zt,deps:[...Yt]};case void 0:return{provide:be,useClass:tt,deps:[...Yt]};default:return}}}let Jt=(()=>{class Ft{constructor(xe){this.parentInjector=xe}parse(xe,Ve,Ke,je,At,Qe,st){let ke=null,Le=null;const dt={id:k()("df-row-group-config-"),group:[]},It=this.filterScopedFields(Ve.fields,At),an=" col-sm-"+Math.trunc(12/It.length),jn={readOnly:Qe,submissionScope:At,collectionUUID:Ke,typeField:st};if(It.forEach(Zn=>{const wn=(Zn.style||an)+" d-flex flex-column justify-content-start",ct=wt.getProvider(Zn.input.type);if(!ct)throw new Error(`unknown form control model type "${Zn.input.type}" defined for Input field with label "${Zn.label}".`);if(ke=U.zZn.create({providers:[ct,{provide:ne,useValue:xe},{provide:fe,useValue:Zn},{provide:se,useValue:je},{provide:ce,useValue:jn}],parent:this.parentInjector}).get(be).parse(),ke){if(ke.type===i.WlY||ke.type===R.T)return void(Ve.fields.length>1?(ee(ke,"grid","host",wn),dt.group.push(ke)):Le=ke);Array.isArray(ke)?ke.forEach(vt=>{Le=vt}):(ee(ke,"grid","host",wn),dt.group.push(ke)),ke=null}}),dt&&!(0,S.Im)(dt.group)){const wn=new X(dt,{element:{control:"row"}});Array.isArray(Le)?Le.push(wn):Le=wn}return Le}checksFieldScope(xe,Ve,Ke){return(0,S.Im)(xe)||!this.isHidden(Ke,xe,Ve)}isHidden(xe,Ve,Ke){return(0,S.hj)(Ve)&&(0,S.Im)(xe)&&(Ke===K.L.WorkspaceItem.valueOf()&&Ve!==G.WorkspaceItem.valueOf()||Ke===K.L.WorkflowItem.valueOf()&&Ve!==G.WorkflowItem.valueOf())}filterScopedFields(xe,Ve){const Ke=[];return xe.forEach(je=>{this.checksFieldScope(je.scope,Ve,je.visibility)&&Ke.push(je)}),Ke}static{this.\u0275fac=function(Ve){return new(Ve||Ft)(U.KVO(U.zZn))}}static{this.\u0275prov=U.jDH({token:Ft,factory:Ft.\u0275fac,providedIn:"root"})}}return Ft})(),Tt=(()=>{class Ft extends i.J9r{constructor(xe,Ve,Ke,je){super(xe,Ve),this.rowParser=Ke,this.configService=je,this.formModels=new Map,this.formGroups=new Map,(0,S.a4)(this.configService)&&this.setTypeBindFieldFromConfig()}createDynamicFormControlEvent(xe,Ve,Ke,je){return{$event:{value:Ke.value,autoSave:!1},context:Ke?.parent instanceof i.fHx?Ke?.parent:null,control:xe,group:Ve,model:Ke,type:je}}getTypeBindModel(){return this.typeBindModel}setTypeBindModel(xe){this.typeBindModel=xe}findById(xe,Ve,Ke=null){let je=null;const At=(Qe,st,ke)=>{for(const Le of st){if(Le.id===Qe){je=this.isArrayGroup(Le)&&(0,S.Pe)(ke)?Le.get(ke):Le;break}if(this.isConcatGroup(Le)&&Le.id.match(new RegExp(Qe+D))){je=Le;break}if(this.isGroup(Le)&&At(Qe,Le.group,ke),this.isArrayGroup(Le)&&((0,S.kZ)(ke)||Le.size>ke)){const dt=(0,S.kZ)(ke)?0:ke;At(Qe,Le.get(dt).group,dt)}}};return At(xe,Ve,Ke),je}clearAllModelsValue(xe){const Ve=Ke=>{for(const je of Ke)this.isGroup(je)?Ve(je.group):this.isArrayGroup(je)?Ve(je.groupFactory()):je.hasOwnProperty("valueChanges")&&(je.value=void 0)};Ve(xe)}getValueFromModel(xe){let Ve=Object.create({});const Ke=(Qe,st)=>{if(Array.isArray(Qe))return Qe.concat(st)},je=(Qe,st,ke)=>{const Le=Qe.hasLanguages?Qe.language:null;if(Qe?.metadataValue?.authority?.includes(E.BY))return Qe.metadataValue;if(h()(st))return new p.e(st,Le,null,null,ke);if((0,C.z5)(st))return new p.e((0,C.$T)(st));if(u()(st)){const dt=st.authority||st.id||null,It=ke||st.place;return(0,C.z5)(st)?new p.e(st,Le,dt,st,It):new p.e(st.value,Le,dt,st.display,It,st.confidence)}return st},At=(Qe,st=0)=>{let ke=Object.create({});for(const Le of Qe){if(this.isRowGroup(Le)&&!this.isCustomOrListGroup(Le)){ke=f()(ke,At(Le.group),Ke);continue}if(this.isGroup(Le)&&!this.isCustomOrListGroup(Le)){ke[Le.name]=At(Le.group);continue}if(this.isRowArrayGroup(Le)){for(const It of Le.groups)ke=f()(ke,At(It.group,It.index),Ke);continue}if(this.isArrayGroup(Le)){ke[Le.name]=[];for(const It of Le.groups)ke[Le.name].push(At(It.group,It.index));continue}let dt;if(dt=this.isQualdropGroup(Le)?Le.qualdropId:Le.name,this.isRelationGroup(Le))Le.getGroupValue().forEach((an,Dn)=>{Object.keys(an).forEach(Zn=>{const wn=je(Le,an[Zn],Dn);(0,S.hj)(wn)&&wn.hasValue()&&(ke.hasOwnProperty(Zn)?ke[Zn].push(wn):ke[Zn]=[wn])})});else if((0,S.EA)(Le.value)&&(0,S.hj)(Le.value)){const It=[];(Array.isArray(Le.value)?Le.value:[Le.value]).forEach(Dn=>{It.push(je(Le,Dn,st))}),ke[dt]=dt&&ke.hasOwnProperty(dt)&&(0,S.Pe)(ke[dt])?ke[dt].concat(It):(0,S.hj)(It)?It:null}}return ke};return Ve=At(xe),Ve}modelFromConfiguration(xe,Ve,Ke,je={},At,Qe=!1,st=null,ke=!1){let Le=[];const dt="string"==typeof Ve?JSON.parse(Ve,i.zno):Ve;return dt.rows&&!(0,S.Im)(dt.rows)&&dt.rows.forEach(It=>{const an=this.rowParser.parse(xe,It,Ke,je,At,Qe,this.getTypeField());(0,S.Pe)(an)&&(Array.isArray(an)?Le=Le.concat(an):Le.push(an))}),(0,S.Tn)(st)&&(st=this.findById(this.typeField,Le)),(0,S.a4)(st)&&this.setTypeBindModel(st),Le}isModelInCustomGroup(xe){return this.isCustomGroup(xe.parent)}hasArrayGroupValue(xe){return xe&&(this.isListGroup(xe)||xe.type===j.v)}hasMappedGroupValue(xe){return this.isQualdropGroup(xe.parent)||this.isRelationGroup(xe.parent)}isGroup(xe){return xe&&(xe.type===i.wnr||xe.type===i.W25)}isQualdropGroup(xe){return xe&&xe.type===i.wnr&&(0,S.a4)(xe.qualdropId)}isCustomGroup(xe){return xe&&xe.type===i.wnr&&!0===xe.isCustomGroup}isConcatGroup(xe){return this.isCustomGroup(xe)&&-1!==xe.id.indexOf(D)}isRowGroup(xe){return xe&&xe.type===i.wnr&&!0===xe.isRowGroup}isCustomOrListGroup(xe){return xe&&(this.isCustomGroup(xe)||this.isListGroup(xe))}isListGroup(xe){return xe&&(xe.type===i.W25&&!0===xe.isListGroup||xe.type===i.KMD&&!0===xe.isListGroup)}isRelationGroup(xe){return xe&&xe.type===R.T}isRowArrayGroup(xe){return xe.type===i.WlY&&!0===xe.isRowArray}isArrayGroup(xe){return xe.type===i.WlY}isInputModel(xe){return xe.type===i.FlA}getFormControlById(xe,Ve,Ke,je=0){const At=this.findById(xe,Ke,je);return(0,S.hj)(At)?Ve.get(this.getPath(At)):null}getFormControlByModel(xe,Ve){return(0,S.hj)(Ve)?xe.get(this.getPath(Ve)):null}getId(xe){let Ve;return this.isArrayGroup(xe)?xe.index.toString():(Ve=this.isModelInCustomGroup(xe)?xe.parent:xe,Ve.id!==Ve.name?Ve.name:Ve.id)}removeFormModel(xe){this.formModels.has(xe)&&this.formModels.delete(xe)}addFormGroups(xe,Ve){this.formGroups.set(xe,Ve)}removeFormGroup(xe){this.formGroups.has(xe)&&this.formGroups.delete(xe)}getMetadataIdsFromEvent(xe){let Ve=xe.model;for(;Ve.parent;)Ve=Ve.parent;const Ke=(At,Qe=0)=>{let st=Object.create({});for(const ke of At){if(this.isRowGroup(ke)&&!this.isCustomOrListGroup(ke)){st=f()(st,Ke(ke.group));continue}if(this.isGroup(ke)&&!this.isCustomOrListGroup(ke)){st[ke.name]=Ke(ke.group);continue}if(this.isRowArrayGroup(ke)){for(const dt of ke.groups)st=f()(st,Ke(dt.group,dt.index));continue}if(this.isArrayGroup(ke)){st[ke.name]=[];for(const dt of ke.groups)st[ke.name].push(Ke(dt.group,dt.index));continue}let Le;Le=this.isQualdropGroup(ke)?ke.qualdropId:ke.name,this.isRelationGroup(ke)?ke.getGroupValue().forEach((It,an)=>{Object.keys(It).forEach(Dn=>{st[Dn]=!0})}):st[Le]=!0}return st},je=Ke([Ve]);return Object.keys(je)}setTypeBindFieldFromConfig(){this.configService.findByPropertyName("submit.type-bind.field").pipe((0,_.qD)()).subscribe(xe=>{if(!xe.hasSucceeded)return void(this.typeField="dc_type");const Ve=xe.payload.values[0];this.typeField=(0,S.Im)(Ve)?"dc_type":Ve.replace(/\./g,"_")})}getTypeField(){return(0,S.a4)(this.configService)&&(0,S.Tn)(this.typeField)?this.setTypeBindFieldFromConfig():(0,S.Tn)(this.typeField)&&(this.typeField="dc_type"),this.typeField}static{this.\u0275fac=function(Ve){return new(Ve||Ft)(U.KVO(i.cYz),U.KVO(i.STK),U.KVO(Jt),U.KVO(v.ConfigurationDataService,8))}}static{this.\u0275prov=U.jDH({token:Ft,factory:Ft.\u0275fac,providedIn:"root"})}}return Ft})()},61280:(F,b,n)=>{"use strict";n.d(b,{e:()=>h});var i=n(98179),t=n(14391),u=n(82777),e=n(56899);class h{static{this.AUTHORITY_SPLIT="::"}static{this.AUTHORITY_GENERATE="will be generated"+h.AUTHORITY_SPLIT}constructor(f=null,v=null,E=null,_=null,C=0,S=null,R=null,T=null){this.value=(0,u.Pe)(f)?"string"==typeof f?f.trim():f:null,this.language=v,this.authority=E,this.display=_||f,this.confidence=S,this.confidence=null==E||!(0,u.Im)(S)&&-1!==S?(0,u.hj)(S)?S:i.l.CF_UNSET:i.l.CF_ACCEPTED,this.place=C,(0,u.hj)(T)&&(this.metadata=T),this.otherInformation=R}hasAuthority(){return(0,u.hj)(this.authority)}hasAuthorityToGenerate(){return(0,u.hj)(this.authority)&&this.authority.startsWith(h.AUTHORITY_GENERATE)}hasValue(){return(0,u.hj)(this.value)}hasOtherInformation(){return(0,u.hj)(this.otherInformation)}hasPlaceholder(){return this.hasValue()&&this.value===e.N}get isVirtual(){return(0,u.a4)(this.authority)&&this.authority.startsWith(t.BY)}get virtualValue(){if(this.isVirtual)return this.authority.substring(this.authority.indexOf(t.BY)+t.BY.length)}toString(){return this.display||this.value}}},56568:(F,b,n)=>{"use strict";n.d(b,{j:()=>t});class t{get metadataField(){return"relation."+this.relationshipType}}},39729:(F,b,n)=>{"use strict";n.d(b,{K:()=>S});var i=n(54438),t=n(48376),u=n.n(t),e=n(88280),h=n(98179),m=n(14391),f=n(43235),v=n(36599),E=n(82777),_=n(61280),C=n(41780);let S=(()=>{class R{onClick(){(0,E.hj)(this.authorityValue)&&this.getConfidenceByValue(this.authorityValue)!==h.l.CF_ACCEPTED&&this.whenClickOnConfidenceNotAccepted.emit(this.getConfidenceByValue(this.authorityValue))}constructor(A,p,L){this.elem=A,this.renderer=p,this.translate=L,this.visibleWhenAuthorityEmpty=!0,this.iconMode=!1,this.previousClass=null,this.whenClickOnConfidenceNotAccepted=new i.bkB}ngOnChanges(A){A.authorityValue.firstChange||(this.previousClass=this.getClassByConfidence(this.getConfidenceByValue(A.authorityValue.previousValue))),this.newClass=this.getClassByConfidence(this.getConfidenceByValue(A.authorityValue.currentValue));const p=this.getNameByConfidence(this.getConfidenceByValue(A.authorityValue.currentValue));(0,E.kZ)(this.previousClass)?(this.renderer.addClass(this.elem.nativeElement,this.newClass),this.iconMode&&this.renderer.setAttribute(this.elem.nativeElement,"title",this.translate.instant(`confidence.indicator.help-text.${p}`))):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass),this.iconMode&&this.renderer.setAttribute(this.elem.nativeElement,"title",this.translate.instant(`confidence.indicator.help-text.${p}`)))}ngAfterViewInit(){(0,E.kZ)(this.previousClass)?this.renderer.addClass(this.elem.nativeElement,this.newClass):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass))}getConfidenceByValue(A){let p=h.l.CF_UNSET;return(0,E.hj)(A)&&(A instanceof f.b||A instanceof v.M)&&A.hasAuthority()&&(p=h.l.CF_ACCEPTED),(0,E.hj)(A)&&A instanceof _.e&&(p=A.confidence),(0,E.hj)(A)&&A instanceof m.vD&&(p=A.confidence),(0,E.hj)(A)&&Object.values(h.l).includes(A)&&(p=A),p}getClassByConfidence(A){if(!this.visibleWhenAuthorityEmpty&&A===h.l.CF_UNSET)return"d-none";const p=e.c.submission.icons.authority.confidence,L=u()(p,{value:A}),D=u()(p,{value:"default"});return this.iconMode?-1!==L?p[L].icon:-1!==D?p[D].icon:"":-1!==L?p[L].style:-1!==D?p[D].style:""}getNameByConfidence(A){const p=h.l[A];return(0,E.hj)(p)?p.replace("CF_","").toLowerCase():"unknown"}static{this.\u0275fac=function(p){return new(p||R)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(C.c$))}}static{this.\u0275dir=i.FsC({type:R,selectors:[["","dsAuthorityConfidenceState",""]],hostBindings:function(p,L){1&p&&i.bIt("click",function(){return L.onClick()})},inputs:{authorityValue:"authorityValue",visibleWhenAuthorityEmpty:"visibleWhenAuthorityEmpty",iconMode:"iconMode"},outputs:{whenClickOnConfidenceNotAccepted:"whenClickOnConfidenceNotAccepted"},standalone:!0,features:[i.OA$]})}}return R})()},32710:(F,b,n)=>{"use strict";n.d(b,{AI:()=>t,Dn:()=>m,Dp:()=>_,PW:()=>f,SD:()=>h,Tr:()=>E,V2:()=>e,bS:()=>u,yo:()=>v});var i=n(91e3);const t={FORM_INIT:(0,i.N)("dspace/form/FORM_INIT"),FORM_CHANGE:(0,i.N)("dspace/form/FORM_CHANGE"),FORM_ADD_TOUCHED:(0,i.N)("dspace/form/FORM_ADD_TOUCHED"),FORM_REMOVE:(0,i.N)("dspace/form/FORM_REMOVE"),FORM_STATUS_CHANGE:(0,i.N)("dspace/form/FORM_STATUS_CHANGE"),FORM_ADD_ERROR:(0,i.N)("dspace/form/FORM_ADD_ERROR"),FORM_REMOVE_ERROR:(0,i.N)("dspace/form/FORM_REMOVE_ERROR"),FORM_CLEAR_ERRORS:(0,i.N)("dspace/form/FORM_CLEAR_ERRORS")};class u{constructor(S,R,T){this.type=t.FORM_INIT,this.payload={formId:S,formData:R,valid:T}}}class e{constructor(S,R){this.type=t.FORM_CHANGE,this.payload={formId:S,formData:R}}}class h{constructor(S,R){this.type=t.FORM_ADD_TOUCHED,this.payload={formId:S,touched:R}}}class m{constructor(S){this.type=t.FORM_REMOVE,this.payload={formId:S}}}class f{constructor(S,R){this.type=t.FORM_STATUS_CHANGE,this.payload={formId:S,valid:R}}}class v{constructor(S,R,T,A){this.type=t.FORM_ADD_ERROR,this.payload={formId:S,fieldId:R,fieldIndex:T,errorMessage:A}}}class E{constructor(S,R,T){this.type=t.FORM_REMOVE_ERROR,this.payload={formId:S,fieldId:R,fieldIndex:T}}}class _{constructor(S){this.type=t.FORM_CLEAR_ERRORS,this.payload={formId:S}}}},13143:(F,b,n)=>{"use strict";n.d(b,{s:()=>G});var i=n(60177),t=n(54438),u=n(89417),e=n(1473),h=n(41780),m=n(48376),f=n.n(m),v=n(5964),E=n(96354),_=n(23294),C=n(60456),S=n(82777),R=n(10460);function T(q,z){if(1&q){const te=t.RV6();t.j41(0,"ds-dynamic-form-control-container",1),t.bIt("dfBlur",function(J){t.eBV(te);const Q=t.XpG();return t.Njj(Q.onCustomEvent(J,Q.blur))})("dfChange",function(J){t.eBV(te);const Q=t.XpG();return t.Njj(Q.onCustomEvent(J,Q.change))})("dfFocus",function(J){t.eBV(te);const Q=t.XpG();return t.Njj(Q.onCustomEvent(J,Q.focus))})("ngbEvent",function(J){t.eBV(te);const Q=t.XpG();return t.Njj(Q.onCustomEvent(J,Q.ngbEvent))}),t.k0s()}if(2&q){const te=z.$implicit,Z=t.XpG();t.AVh("d-none",te.hidden),t.Y8G("formId",Z.formId)("group",Z.formGroup)("hasErrorMessaging",te.hasErrorMessages)("hidden",te.hidden)("layout",Z.formLayout)("model",te)("templates",Z.templates)("asBootstrapFormGroup",!0)}}let A=(()=>{class q extends e.f4U{constructor(te,Z){super(te,Z),this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.ngbEvent=new t.bkB}static{this.\u0275fac=function(Z){return new(Z||q)(t.rXU(t.gRc),t.rXU(e.cYz))}}static{this.\u0275cmp=t.VBU({type:q,selectors:[["ds-dynamic-form"]],contentQueries:function(Z,J,Q){if(1&Z&&t.wni(Q,e.vJF,4),2&Z){let ee;t.mGM(ee=t.lsd())&&(J.templates=ee)}},viewQuery:function(Z,J){if(1&Z&&t.GBs(R._,5),2&Z){let Q;t.mGM(Q=t.lsd())&&(J.components=Q)}},inputs:{formId:"formId",formGroup:"formGroup",formModel:"formModel",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",ngbEvent:"ngbEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:2,consts:[[3,"formId","group","hasErrorMessaging","hidden","d-none","layout","model","templates","asBootstrapFormGroup","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf","ngForTrackBy"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","formId","group","hasErrorMessaging","hidden","layout","model","templates","asBootstrapFormGroup"]],template:function(Z,J){1&Z&&t.DNE(0,T,1,10,"ds-dynamic-form-control-container",0),2&Z&&t.Y8G("ngForOf",J.formModel)("ngForTrackBy",J.trackByFn)},dependencies:()=>[R._,i.Sq],encapsulation:2})}}return q})();var p=n(33126),L=n(54002);const D=[[["","additional",""]],"*",[["","before",""]],[["","between",""]],[["","after",""]]],w=["[additional]","*","[before]","[between]","[after]"];function M(q,z){if(1&q){const te=t.RV6();t.j41(0,"div",7)(1,"button",8),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(J){t.eBV(te);const Q=t.XpG(),ee=Q.index,le=Q.context,ne=t.XpG();return t.Njj(ne.removeItem(J,le,ee))}),t.j41(4,"span"),t.nrm(5,"i",9),t.k0s()()()}2&q&&(t.R7$(),t.FS9("title",t.bMT(2,2,"form.remove")),t.BMQ("aria-label",t.bMT(3,4,"form.remove")))}function x(q,z){if(1&q){const te=t.RV6();t.j41(0,"div",10)(1,"div",11)(2,"button",12),t.nI1(3,"translate"),t.nI1(4,"translate"),t.bIt("click",function(J){t.eBV(te);const Q=t.XpG().$implicit,ee=t.XpG();return t.Njj(ee.insertItem(J,Q.context,Q.context.groups.length))}),t.j41(5,"span"),t.nrm(6,"i",13),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()()}2&q&&(t.R7$(2),t.FS9("title",t.bMT(3,3,"form.add")),t.BMQ("aria-label",t.bMT(4,5,"form.add")),t.R7$(5),t.SpI(" ",t.bMT(8,7,"form.add"),""))}function j(q,z){if(1&q){const te=t.RV6();t.j41(0,"div",7)(1,"div",14)(2,"button",15),t.nI1(3,"translate"),t.nI1(4,"translate"),t.bIt("click",function(J){t.eBV(te);const Q=t.XpG(),ee=Q.index,le=Q.context,ne=t.XpG();return t.Njj(ne.removeItem(J,le,ee))}),t.j41(5,"span"),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()()}if(2&q){const te=t.XpG(),Z=te.$implicit,J=te.index,Q=te.context,ee=t.XpG();t.R7$(2),t.FS9("title",t.bMT(3,4,"form.discard")),t.Y8G("dsBtnDisabled",1===Z.context.groups.length||ee.isItemReadOnly(Q,J)),t.BMQ("aria-label",t.bMT(4,6,"form.discard")),t.R7$(4),t.JRh(t.bMT(7,8,"form.discard"))}}function U(q,z){if(1&q&&t.DNE(0,M,6,6,"div",5)(1,x,9,9,"div",6)(2,j,8,10,"div",5),2&q){const te=z.$implicit,Z=z.index,J=z.context,Q=t.XpG();t.Y8G("ngIf",!J.notRepeatable&&!Q.isVirtual(J,Z)&&1!==te.context.groups.length&&!Q.isItemReadOnly(J,Z)),t.R7$(),t.Y8G("ngIf",!J.notRepeatable&&Z===te.context.groups.length-1&&!Q.isItemReadOnly(J,Z)),t.R7$(),t.Y8G("ngIf",J.notRepeatable&&J.showButtons&&te.context.groups.length>1)}}function $(q,z){1&q&&t.SdG(0,1,["*ngIf","!displaySubmit && !displayCancel"])}function k(q,z){if(1&q){const te=t.RV6();t.j41(0,"button",20),t.bIt("click",function(){t.eBV(te);const J=t.XpG(2);return t.Njj(J.reset())}),t.nrm(1,"i",21),t.EFF(2),t.nI1(3,"translate"),t.k0s()}if(2&q){const te=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,1,te.cancelLabel)," ")}}function K(q,z){if(1&q){const te=t.RV6();t.j41(0,"button",22),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(te);const J=t.XpG(2);return t.Njj(J.onSubmit())}),t.nrm(2,"i",23),t.EFF(3),t.nI1(4,"translate"),t.k0s()}if(2&q){const te=t.XpG(2);t.Y8G("dsBtnDisabled",!0!==t.bMT(1,2,te.isValid())),t.R7$(3),t.SpI(" ",t.bMT(4,4,te.submitLabel)," ")}}function X(q,z){if(1&q&&(t.j41(0,"div"),t.nrm(1,"hr"),t.j41(2,"div",16)(3,"div",17),t.SdG(4,2),t.DNE(5,k,4,3,"button",18),t.SdG(6,3),t.DNE(7,K,5,6,"button",19),t.SdG(8,4),t.k0s()()()),2&q){const te=t.XpG();t.R7$(5),t.Y8G("ngIf",te.displayCancel),t.R7$(2),t.Y8G("ngIf",te.displaySubmit)}}let G=(()=>{class q{constructor(te,Z,J){this.formService=te,this.changeDetectorRef=Z,this.formBuilderService=J,this.formErrors=[],this.displaySubmit=!0,this.displayCancel=!0,this.emitChange=!0,this.submitLabel="form.submit",this.cancelLabel="form.cancel",this.formLayout=null,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.customEvent=new t.bkB,this.addArrayItem=new t.bkB,this.removeArrayItem=new t.bkB,this.cancel=new t.bkB,this.submitForm=new t.bkB,this.subs=[]}getFormGroup(){return this.parentFormModel?this.formGroup.parent:this.formGroup}getFormGroupValue(){return this.getFormGroup().value}getFormGroupValidStatus(){return this.getFormGroup().valid}ngOnInit(){this.formGroup?this.formModel.forEach(te=>{this.parentFormModel&&this.formBuilderService.addFormGroupControl(this.formGroup,this.parentFormModel,te)}):this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.formService.initForm(this.formId,this.formModel,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus(),this.subs.push(this.formGroup.statusChanges.pipe((0,v.p)(()=>this.formValid!==this.getFormGroupValidStatus())).subscribe(()=>{this.formService.setStatusChanged(this.formId,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus()})),this.subs.push(this.formService.getForm(this.formId).pipe((0,v.p)(te=>!!te&&((0,S.hj)(te.errors)||(0,S.hj)(this.formErrors))),(0,E.T)(te=>te.errors),(0,_.F)()).subscribe(te=>{const{formGroup:Z,formModel:J}=this;te.filter(Q=>-1===f()(this.formErrors,{fieldId:Q.fieldId,fieldIndex:Q.fieldIndex})).forEach(Q=>{const{fieldId:ee}=Q,{fieldIndex:le}=Q;let ne;if(ne=this.formBuilderService.getFormControlById(ee,this.parentFormModel?Z.parent:Z,J,le),ne){const fe=this.formBuilderService.findById(ee,J);this.formService.addErrorToField(ne,fe,Q.message),this.changeDetectorRef.detectChanges()}}),this.formErrors.filter(Q=>-1===f()(te,{fieldId:Q.fieldId,fieldIndex:Q.fieldIndex})).forEach(Q=>{const{fieldId:ee}=Q,{fieldIndex:le}=Q;let ne;if(ne=this.formBuilderService.getFormControlById(ee,this.parentFormModel?Z.parent:Z,J,le),ne){const fe=this.formBuilderService.findById(ee,J);this.formService.removeErrorFromField(ne,fe,Q.message)}}),this.formErrors=te,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(te=>(0,S.a4)(te)).forEach(te=>te.unsubscribe()),this.formService.removeForm(this.formId)}isValid(){return this.formService.isValid(this.formId)}keepSync(){this.subs.push(this.formService.getFormData(this.formId).subscribe(te=>{!Object.is(te,this.formGroup.value)&&this.formGroup&&this.formGroup.setValue(te)}))}onBlur(te){this.blur.emit(te);const Z=te.control,J=te.context&&te.context.index?te.context.index:0;Z.valid?this.formService.removeError(this.formId,te.model.name,J):this.formService.addControlErrors(Z,this.formId,te.model.name,J)}onCustomEvent(te){this.customEvent.emit(te)}onFocus(te){this.formService.setTouched(this.formId,this.formModel,te),this.focus.emit(te)}onChange(te){this.formService.changeForm(this.formId,this.formModel),this.formGroup.markAsPristine(),this.emitChange&&this.change.emit(te),te.control.valid&&this.formService.removeError(this.formId,te.model.id,te.context&&te.context.index?te.context.index:0)}onSubmit(){this.getFormGroupValidStatus()?this.submitForm.emit(this.formService.getFormData(this.formId)):this.formService.validateAllFormFields(this.formGroup)}reset(){this.formGroup.reset(),this.cancel.emit()}isItemReadOnly(te,Z){return te.groups[Z].group[0].readOnly}removeItem(te,Z,J){const Q=this.formGroup.get(this.formBuilderService.getPath(Z)),ee=this.getEvent(te,Z,J,"remove");this.formBuilderService.isQualdropGroup(ee.model)&&this.removeArrayItem.emit(ee),this.formBuilderService.removeFormArrayGroup(J,Q,Z),this.formService.changeForm(this.formId,this.formModel),this.formBuilderService.isQualdropGroup(ee.model)||this.removeArrayItem.emit(ee)}insertItem(te,Z,J){const Q=this.formGroup.get(this.formBuilderService.getPath(Z));this.formBuilderService.insertFormArrayGroup(J,Q,Z),this.addArrayItem.emit(this.getEvent(te,Z,J,"add")),this.formService.changeForm(this.formId,this.formModel)}isVirtual(te,Z){const Q=te.groups[Z].group[0].metadataValue;return(0,S.hj)(Q)&&Q.isVirtual}getEvent(te,Z,J,Q){const ee=Z.groups[J],le=ee.context;let ne=this.formGroup.get(le.id);if((0,S.kZ)(ne))for(const ce of Object.keys(this.formGroup.controls))if(ne=this.formGroup.controls[ce].get(le.id),(0,S.Pe)(ne))break;return{$event:te,context:ee,control:ne.controls[J],group:ne,model:ee.group[0],type:Q}}static{this.\u0275fac=function(Z){return new(Z||q)(t.rXU(L.u),t.rXU(t.gRc),t.rXU(p.j))}}static{this.\u0275cmp=t.VBU({type:q,selectors:[["ds-form"]],inputs:{displaySubmit:"displaySubmit",displayCancel:"displayCancel",emitChange:"emitChange",formId:"formId",submitLabel:"submitLabel",cancelLabel:"cancelLabel",formModel:"formModel",parentFormModel:"parentFormModel",formGroup:"formGroup",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent",addArrayItem:"addArrayItem",removeArrayItem:"removeArrayItem",cancel:"cancel",submitForm:"submitForm"},exportAs:["formComponent"],standalone:!0,features:[t.aNF],ngContentSelectors:w,decls:7,vars:7,consts:[[1,"container-fluid"],[1,"form-horizontal",3,"formGroup"],[3,"change","dfBlur","dfChange","dfFocus","ngbEvent","formId","formGroup","formModel","formLayout"],["modelType","ARRAY"],[4,"ngIf"],["class","col-xs-2 d-flex flex-column justify-content-sm-start align-items-end",4,"ngIf"],["class","clearfix ps-4 w-100",4,"ngIf"],[1,"col-xs-2","d-flex","flex-column","justify-content-sm-start","align-items-end"],["type","button","role","button",1,"btn","btn-secondary",3,"click","title"],["aria-hidden","true",1,"fas","fa-trash"],[1,"clearfix","ps-4","w-100"],["role","group",1,"btn-group"],["type","button","role","button",1,"ds-form-add-more","btn","btn-link",3,"click","title"],[1,"fas","fa-plus"],["role","button",1,"btn-group"],["type","button",1,"btn","btn-secondary",3,"click","title","dsBtnDisabled"],[1,"mb-3","row"],[1,"col","text-end","space-children-mr"],["type","reset","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary",3,"dsBtnDisabled","click",4,"ngIf"],["type","reset",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-times"],["type","submit",1,"btn","btn-primary",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-save"]],template:function(Z,J){1&Z&&(t.NAR(D),t.j41(0,"div",0)(1,"form",1)(2,"ds-dynamic-form",2),t.bIt("change",function(ee){return ee.stopPropagation()})("dfBlur",function(ee){return J.onBlur(ee)})("dfChange",function(ee){return J.onChange(ee)})("dfFocus",function(ee){return J.onFocus(ee)})("ngbEvent",function(ee){return J.onCustomEvent(ee)}),t.DNE(3,U,3,3,"ng-template",3),t.k0s(),t.SdG(4),t.DNE(5,$,1,0,"ng-content",4)(6,X,9,2,"div",4),t.k0s()()),2&Z&&(t.R7$(),t.Y8G("formGroup",J.formGroup),t.R7$(),t.Y8G("formId",J.formId)("formGroup",J.formGroup)("formModel",J.formModel)("formLayout",J.formLayout),t.R7$(3),t.Y8G("ngIf",!J.displaySubmit&&!J.displayCancel),t.R7$(),t.Y8G("ngIf",J.displaySubmit||J.displayCancel))},dependencies:[A,u.X1,u.qT,u.cb,u.j4,h.h,h.D9,e.EET,e.vJF,i.bT,i.Jj,C.A],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}select.form-control[_ngcontent-%COMP%]{appearance:auto}.col-sm-6[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}"]})}}return q})()},54002:(F,b,n)=>{"use strict";n.d(b,{u:()=>p});var i=n(89417),t=n(1473),u=n(25499),e=n(59519),h=n.n(e),m=n(5964),f=n(96354),v=n(23294),E=n(88280),_=n(82777),C=n(33126),S=n(32710);const R=L=>L.forms;function T(L){return(0,u.Mz)(R,D=>D[L])}var A=n(54438);let p=(()=>{class L{constructor(w,M){this.formBuilderService=w,this.store=M}isValid(w){return this.store.pipe((0,u.Lt)(T(w)),(0,m.p)(M=>(0,_.EA)(M)),(0,f.T)(M=>M.valid),(0,v.F)())}getFormData(w){return this.store.pipe((0,u.Lt)(T(w)),(0,m.p)(M=>(0,_.EA)(M)),(0,f.T)(M=>M.data),(0,v.F)())}getFormTouchedState(w){return this.store.pipe((0,u.Lt)(T(w)),(0,m.p)(M=>(0,_.EA)(M)),(0,f.T)(M=>M.touched),(0,v.F)())}getFormErrors(w){return this.store.pipe((0,u.Lt)(T(w)),(0,m.p)(M=>(0,_.EA)(M)),(0,f.T)(M=>M.errors),(0,v.F)())}isFormInitialized(w){return this.store.pipe((0,u.Lt)(T(w)),(0,v.F)(),(0,f.T)(M=>(0,_.EA)(M)))}getUniqueId(w){return h()()+"_"+w}validateAllFormFields(w){Object.keys(w.controls).forEach(M=>{const x=w.get(M);x instanceof i.hs?(x.markAsTouched({onlySelf:!0}),x.markAsDirty({onlySelf:!0})):(x instanceof i.J3||x instanceof i.Bm)&&this.validateAllFormFields(x)})}hasValidationErrors(w){let M=!1;const x=Object.keys(w.controls);for(const j of x){const U=w.get(j);if(U instanceof i.hs?M=!U.valid&&U.touched:(U instanceof i.J3||U instanceof i.Bm)&&(M=this.hasValidationErrors(U)),M)break}return M}addControlErrors(w,M,x,j){null!==w.errors&&Object.keys(w.errors).filter($=>!0===w.errors[$]).map($=>`error.validation.${$}`).forEach($=>this.addError(M,x,j,$))}addErrorToField(w,M,x){const j={},U=this.getValidatorNameFromMap(x);let $=x;M.errorMessages||(M.errorMessages={}),(0,_.Im)(M.errorMessages[U])?M.errorMessages[U]=x:$=M.errorMessages[U],w.hasError(U)||(j[U]=!0,w.setErrors(j)),w instanceof i.J3&&M instanceof t.iO5&&this.formBuilderService.isConcatGroup(M)&&M.group.forEach(k=>{this.addErrorToField(w.controls[k.id],k,x)}),w.markAsTouched()}removeErrorFromField(w,M,x){const j={},U=this.getValidatorNameFromMap(x);w.hasError(U)&&(j[U]=null,w.setErrors(j)),w instanceof i.J3&&M instanceof t.iO5&&this.formBuilderService.isConcatGroup(M)&&M.group.forEach($=>{this.removeErrorFromField(w.controls[$.id],$,x)}),w.markAsUntouched()}resetForm(w,M,x){this.formBuilderService.clearAllModelsValue(M),w.reset(),this.store.dispatch(new S.V2(x,w.value))}getValidatorNameFromMap(w){if(w.includes(".")){const M=w.split(".");M&&M.length>0&&(w=this.getValidatorNameFromMap(M[M.length-1]))}return E.c.form.validatorMap.hasOwnProperty(w)?E.c.form.validatorMap[w]:w}initForm(w,M,x){this.store.dispatch(new S.bS(w,this.formBuilderService.getValueFromModel(M),x))}setStatusChanged(w,M){this.store.dispatch(new S.PW(w,M))}getForm(w){return this.store.pipe((0,u.Lt)(T(w)))}removeForm(w){this.store.dispatch(new S.Dn(w))}changeForm(w,M){this.store.dispatch(new S.V2(w,this.formBuilderService.getValueFromModel(M)))}setTouched(w,M,x){const j=this.formBuilderService.getMetadataIdsFromEvent(x);this.store.dispatch(new S.SD(w,j))}addError(w,M,x,j){const U=M.replace(/\./g,"_");this.store.dispatch(new S.yo(w,U,x,j))}removeError(w,M,x){const j=M.replace(/\./g,"_");this.store.dispatch(new S.Tr(w,j,x))}static{this.\u0275fac=function(M){return new(M||L)(A.KVO(C.j),A.KVO(u.il))}}static{this.\u0275prov=A.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})()},38443:(F,b,n)=>{"use strict";n.d(b,{_:()=>h});var i=n(54438),t=n(41780),u=n(81262),e=n(58003);let h=(()=>{class m{constructor(v,E){this.activeModal=v,this.translate=E,this.preloadLevel=2,this.selectedItems=[],this.multiSelect=!1,this.showAdd=!0,this.select=new i.bkB(null)}ngOnInit(){this.setDescription()}onSelect(v){this.select.emit(v),this.activeModal.close(v)}setDescription(){this.description=this.translate.instant("vocabulary-treeview.tree.description."+this.vocabularyOptions.name)}static{this.\u0275fac=function(E){return new(E||m)(i.rXU(e.Lw),i.rXU(t.c$))}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["ds-vocabulary-treeview-modal"]],inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",selectedItems:"selectedItems",multiSelect:"multiSelect",showAdd:"showAdd"},outputs:{select:"select"},standalone:!0,features:[i.aNF],decls:8,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"p-3"],[3,"select","vocabularyOptions","description","preloadLevel","selectedItems","multiSelect","showAdd"]],template:function(E,_){1&E&&(i.j41(0,"div",0)(1,"h4",1),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.j41(4,"button",2),i.bIt("click",function(){return _.activeModal.dismiss("Cross click")}),i.k0s()(),i.j41(5,"div",3)(6,"div",4)(7,"ds-vocabulary-treeview",5),i.bIt("select",function(S){return _.onSelect(S)}),i.k0s()()()),2&E&&(i.R7$(2),i.JRh(i.bMT(3,7,"vocabulary-treeview.header")),i.R7$(5),i.Y8G("vocabularyOptions",_.vocabularyOptions)("description",_.description)("preloadLevel",_.preloadLevel)("selectedItems",_.selectedItems)("multiSelect",_.multiSelect)("showAdd",_.showAdd))},dependencies:[u.P,t.h,t.D9]})}}return m})()},81262:(F,b,n)=>{"use strict";n.d(b,{P:()=>Qe});var i=n(30017),t=n(74402),u=n(7673),e=n(21413),h=n(54438);class m{}class R{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(ke=!1,Le,dt=!0,It){this._multiple=ke,this._emitChanges=dt,this.compareWith=It,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new e.B,Le&&Le.length&&(ke?Le.forEach(an=>this._markSelected(an)):this._markSelected(Le[0]),this._selectedToEmit.length=0)}select(...ke){this._verifyValueAssignment(ke),ke.forEach(dt=>this._markSelected(dt));const Le=this._hasQueuedChanges();return this._emitChangeEvent(),Le}deselect(...ke){this._verifyValueAssignment(ke),ke.forEach(dt=>this._unmarkSelected(dt));const Le=this._hasQueuedChanges();return this._emitChangeEvent(),Le}setSelection(...ke){this._verifyValueAssignment(ke);const Le=this.selected,dt=new Set(ke);ke.forEach(an=>this._markSelected(an)),Le.filter(an=>!dt.has(this._getConcreteValue(an,dt))).forEach(an=>this._unmarkSelected(an));const It=this._hasQueuedChanges();return this._emitChangeEvent(),It}toggle(ke){return this.isSelected(ke)?this.deselect(ke):this.select(ke)}clear(ke=!0){this._unmarkAll();const Le=this._hasQueuedChanges();return ke&&this._emitChangeEvent(),Le}isSelected(ke){return this._selection.has(this._getConcreteValue(ke))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(ke){this._multiple&&this.selected&&this._selected.sort(ke)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(ke){ke=this._getConcreteValue(ke),this.isSelected(ke)||(this._multiple||this._unmarkAll(),this.isSelected(ke)||this._selection.add(ke),this._emitChanges&&this._selectedToEmit.push(ke))}_unmarkSelected(ke){ke=this._getConcreteValue(ke),this.isSelected(ke)&&(this._selection.delete(ke),this._emitChanges&&this._deselectedToEmit.push(ke))}_unmarkAll(){this.isEmpty()||this._selection.forEach(ke=>this._unmarkSelected(ke))}_verifyValueAssignment(ke){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(ke,Le){if(this.compareWith){Le=Le??this._selection;for(let dt of Le)if(this.compareWith(ke,dt))return dt;return ke}return ke}}var p=n(84412),L=n(96697),w=(n(5964),n(56977)),M=n(28203);class x{constructor(){this.expansionModel=new R(!0)}toggle(ke){this.expansionModel.toggle(this._trackByValue(ke))}expand(ke){this.expansionModel.select(this._trackByValue(ke))}collapse(ke){this.expansionModel.deselect(this._trackByValue(ke))}isExpanded(ke){return this.expansionModel.isSelected(this._trackByValue(ke))}toggleDescendants(ke){this.expansionModel.isSelected(this._trackByValue(ke))?this.collapseDescendants(ke):this.expandDescendants(ke)}collapseAll(){this.expansionModel.clear()}expandDescendants(ke){let Le=[ke];Le.push(...this.getDescendants(ke)),this.expansionModel.select(...Le.map(dt=>this._trackByValue(dt)))}collapseDescendants(ke){let Le=[ke];Le.push(...this.getDescendants(ke)),this.expansionModel.deselect(...Le.map(dt=>this._trackByValue(dt)))}_trackByValue(ke){return this.trackBy?this.trackBy(ke):ke}}class j extends x{constructor(ke,Le,dt){super(),this.getLevel=ke,this.isExpandable=Le,this.options=dt,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(ke){const dt=[];for(let It=this.dataNodes.indexOf(ke)+1;It<this.dataNodes.length&&this.getLevel(ke)<this.getLevel(this.dataNodes[It]);It++)dt.push(this.dataNodes[It]);return dt}expandAll(){this.expansionModel.select(...this.dataNodes.map(ke=>this._trackByValue(ke)))}}const $=new h.nKC("CDK_TREE_NODE_OUTLET_NODE");let k=(()=>{class st{constructor(Le,dt){this.viewContainer=Le,this._node=dt}static{this.\u0275fac=function(dt){return new(dt||st)(h.rXU(h.c1b),h.rXU($,8))}}static{this.\u0275dir=h.FsC({type:st,selectors:[["","cdkTreeNodeOutlet",""]],standalone:!0})}}return st})();class K{constructor(ke){this.$implicit=ke}}let X=(()=>{class st{constructor(Le){this.template=Le}static{this.\u0275fac=function(dt){return new(dt||st)(h.rXU(h.C4Q))}}static{this.\u0275dir=h.FsC({type:st,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[h.Mj6.None,"cdkTreeNodeDefWhen","when"]},standalone:!0})}}return st})(),J=(()=>{class st{get dataSource(){return this._dataSource}set dataSource(Le){this._dataSource!==Le&&this._switchDataSource(Le)}constructor(Le,dt){this._differs=Le,this._changeDetectorRef=dt,this._onDestroy=new e.B,this._levels=new Map,this.viewChange=new p.t({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const Le=this._nodeDefs.filter(dt=>!dt.when);this._defaultNodeDef=Le[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(Le){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),Le||this._nodeOutlet.viewContainer.clear(),this._dataSource=Le,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let Le;!function f(st){return st&&"function"==typeof st.connect&&!(st instanceof i.G)}(this._dataSource)?(0,t.A)(this._dataSource)?Le=this._dataSource:Array.isArray(this._dataSource)&&(Le=(0,u.of)(this._dataSource)):Le=this._dataSource.connect(this),Le&&(this._dataSubscription=Le.pipe((0,w.Q)(this._onDestroy)).subscribe(dt=>this.renderNodeChanges(dt)))}renderNodeChanges(Le,dt=this._dataDiffer,It=this._nodeOutlet.viewContainer,an){const Dn=dt.diff(Le);Dn&&(Dn.forEachOperation((jn,Zn,wn)=>{if(null==jn.previousIndex)this.insertNode(Le[wn],wn,It,an);else if(null==wn)It.remove(Zn),this._levels.delete(jn.item);else{const ct=It.get(Zn);It.move(ct,wn)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(Le,dt){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(an=>an.when&&an.when(dt,Le))||this._defaultNodeDef}insertNode(Le,dt,It,an){const Dn=this._getNodeDef(Le,dt),jn=new K(Le);jn.level=this.treeControl.getLevel?this.treeControl.getLevel(Le):typeof an<"u"&&this._levels.has(an)?this._levels.get(an)+1:0,this._levels.set(Le,jn.level),(It||this._nodeOutlet.viewContainer).createEmbeddedView(Dn.template,jn,dt),Q.mostRecentTreeNode&&(Q.mostRecentTreeNode.data=Le)}static{this.\u0275fac=function(dt){return new(dt||st)(h.rXU(h._q3),h.rXU(h.gRc))}}static{this.\u0275cmp=h.VBU({type:st,selectors:[["cdk-tree"]],contentQueries:function(dt,It,an){if(1&dt&&h.wni(an,X,5),2&dt){let Dn;h.mGM(Dn=h.lsd())&&(It._nodeDefs=Dn)}},viewQuery:function(dt,It){if(1&dt&&h.GBs(k,7),2&dt){let an;h.mGM(an=h.lsd())&&(It._nodeOutlet=an.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],standalone:!0,features:[h.aNF],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(dt,It){1&dt&&h.eu8(0,0)},dependencies:[k],encapsulation:2})}}return st})(),Q=(()=>{class st{get role(){return"treeitem"}set role(Le){this._elementRef.nativeElement.setAttribute("role",Le)}static{this.mostRecentTreeNode=null}get data(){return this._data}set data(Le){Le!==this._data&&(this._data=Le,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(Le,dt){this._elementRef=Le,this._tree=dt,this._destroyed=new e.B,this._dataChanges=new e.B,st.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function ee(st){let ke=st.parentElement;for(;ke&&!le(ke);)ke=ke.parentElement;return ke?ke.classList.contains("cdk-nested-tree-node")?(0,h.Udg)(ke.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){st.mostRecentTreeNode===this&&(st.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}static{this.\u0275fac=function(dt){return new(dt||st)(h.rXU(h.aKT),h.rXU(J))}}static{this.\u0275dir=h.FsC({type:st,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(dt,It){2&dt&&h.BMQ("aria-expanded",It.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"],standalone:!0})}}return st})();function le(st){const ke=st.classList;return!(!ke?.contains("cdk-nested-tree-node")&&!ke?.contains("cdk-tree"))}const fe=/([A-Za-z%]+)$/;let se=(()=>{class st{get level(){return this._level}set level(Le){this._setLevelInput(Le)}get indent(){return this._indent}set indent(Le){this._setIndentInput(Le)}constructor(Le,dt,It,an){this._treeNode=Le,this._tree=dt,this._element=It,this._dir=an,this._destroyed=new e.B,this.indentUnits="px",this._indent=40,this._setPadding(),an&&an.change.pipe((0,w.Q)(this._destroyed)).subscribe(()=>this._setPadding(!0)),Le._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const Le=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,dt=null==this._level?Le:this._level;return"number"==typeof dt?`${dt*this._indent}${this.indentUnits}`:null}_setPadding(Le=!1){const dt=this._paddingIndent();if(dt!==this._currentPadding||Le){const It=this._element.nativeElement,an=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",Dn="paddingLeft"===an?"paddingRight":"paddingLeft";It.style[an]=dt||"",It.style[Dn]="",this._currentPadding=dt}}_setLevelInput(Le){this._level=isNaN(Le)?null:Le,this._setPadding()}_setIndentInput(Le){let dt=Le,It="px";if("string"==typeof Le){const an=Le.split(fe);dt=an[0],It=an[1]||It}this.indentUnits=It,this._indent=(0,h.Udg)(dt),this._setPadding()}static{this.\u0275fac=function(dt){return new(dt||st)(h.rXU(Q),h.rXU(J),h.rXU(h.aKT),h.rXU(M.dS,8))}}static{this.\u0275dir=h.FsC({type:st,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[h.Mj6.HasDecoratorInputTransform,"cdkTreeNodePadding","level",h.Udg],indent:[h.Mj6.None,"cdkTreeNodePaddingIndent","indent"]},standalone:!0,features:[h.GFd]})}}return st})(),ce=(()=>{class st{constructor(Le,dt){this._tree=Le,this._treeNode=dt,this.recursive=!1}_toggle(Le){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),Le.stopPropagation()}static{this.\u0275fac=function(dt){return new(dt||st)(h.rXU(J),h.rXU(Q))}}static{this.\u0275dir=h.FsC({type:st,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(dt,It){1&dt&&h.bIt("click",function(Dn){return It._toggle(Dn)})},inputs:{recursive:[h.Mj6.HasDecoratorInputTransform,"cdkTreeNodeToggleRecursive","recursive",h.L39]},standalone:!0,features:[h.GFd]})}}return st})(),be=(()=>{class st{static{this.\u0275fac=function(dt){return new(dt||st)}}static{this.\u0275mod=h.$C({type:st})}static{this.\u0275inj=h.G2t({})}}return st})();var me=n(60177),re=n(89417),Ee=n(58003),De=n(41780),tt=n(32089),ht=n(16292),Fe=n(47978),Et=n(60456),Ye=n(82777),pt=n(82394),Mt=n(57786),Ne=n(96354);class ot extends m{get data(){return this._data.value}set data(ke){this._data.next(ke),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(ke,Le,dt=[]){super(),this._treeControl=ke,this._treeFlattener=Le,this._flattenedData=new p.t([]),this._expandedData=new p.t([]),this._data=new p.t(dt)}connect(ke){return(0,Mt.h)(ke.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,Ne.T)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}class Gt{constructor(ke,Le,dt,It){this.transformFunction=ke,this.getLevel=Le,this.isExpandable=dt,this.getChildren=It}_flattenNode(ke,Le,dt,It){const an=this.transformFunction(ke,Le);if(dt.push(an),this.isExpandable(an)){const Dn=this.getChildren(ke);Dn&&(Array.isArray(Dn)?this._flattenChildren(Dn,Le,dt,It):Dn.pipe((0,L.s)(1)).subscribe(jn=>{this._flattenChildren(jn,Le,dt,It)}))}return dt}_flattenChildren(ke,Le,dt,It){ke.forEach((an,Dn)=>{const jn=It.slice();jn.push(Dn!==ke.length-1),this._flattenNode(an,Le+1,dt,jn)})}flattenNodes(ke){const Le=[];return ke.forEach(dt=>this._flattenNode(dt,0,Le,[])),Le}expandFlattenedNodes(ke,Le){const dt=[],It=[];return It[0]=!0,ke.forEach(an=>{let Dn=!0;for(let jn=0;jn<=this.getLevel(an);jn++)Dn=Dn&&It[jn];Dn&&dt.push(an),this.isExpandable(an)&&(It[this.getLevel(an)+1]=Le.isExpanded(an))}),dt}}var Zt=n(48376),mt=n.n(Zt),Pt=n(71985),Ce=n(73028),Be=n(31943),ut=n(79335),un=n(80183),rn=n(19506);const Pn="LOAD_MORE",yt="LOAD_MORE_ROOT",Kt={id:Pn},Rt={id:yt};class nn{get children(){return this.childrenChange.value}constructor(ke,Le=!1,dt=new tt.Q,It=null,an=!1,Dn=!1,jn=!1){this.item=ke,this.hasChildren=Le,this.pageInfo=dt,this.loadMoreParentItem=It,this.isSearchNode=an,this.isInInitValueHierarchy=Dn,this.isSelected=jn,this.childrenChange=new p.t([])}updatePageInfo(ke){this.pageInfo=ke}}class gn{constructor(ke,Le=1,dt=!1,It=!1,an=new tt.Q,Dn=null,jn=!1,Zn=!1,wn=!1){this.item=ke,this.level=Le,this.expandable=dt,this.childrenLoaded=It,this.pageInfo=an,this.loadMoreParentItem=Dn,this.isSearchNode=jn,this.isInInitValueHierarchy=Zn,this.isSelected=wn}}let St=(()=>{class st{constructor(Le){this.vocabularyService=Le,this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.vocabularyName="",this.dataChange=new p.t([]),this.initValueHierarchy=[],this.loading=new p.t(!1),this.hideSearchingWhenUnsubscribed$=new Pt.c(()=>()=>this.loading.next(!1))}cleanTree(){this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.initValueHierarchy=[],this.dataChange.next([])}initialize(Le,dt,It,an){this.loading.next(!0),this.vocabularyOptions=Le,this.vocabularyName=Le.name,this.pageInfo=dt,(0,Ye.hj)(an)?this.getNodeHierarchyById(an,It).subscribe(Dn=>{this.initValueHierarchy=Dn,this.retrieveTopNodes(dt,[],It)}):this.retrieveTopNodes(dt,[],It)}getData(){return this.dataChange}loadMoreRoot(Le,dt){const It=this.dataChange.value;It.pop(),this.retrieveTopNodes(Le.pageInfo,It,dt)}loadMore(Le,dt,It=!1){if(!this.nodeMap.has(Le.otherInformation.id))return;const an=this.nodeMap.get(Le.otherInformation.id),Dn=this.nodeMap.get(Le.otherInformation.id).children||[];Dn.pop(),this.getChildrenNodesByParent(Le.otherInformation.id,an.pageInfo).subscribe(jn=>{if(It&&an.children.length>0)return;const Zn=jn.page.map(wn=>this._generateNode(wn,dt));if(Dn.push(...Zn),jn.pageInfo.currentPage+1<=jn.pageInfo.totalPages){const wn=Object.assign(new tt.Q,jn.pageInfo,{currentPage:jn.pageInfo.currentPage+1});an.updatePageInfo(wn),Dn.push(new nn(Kt,!1,wn,Le))}an.childrenChange.next(Dn),this.dataChange.next(this.dataChange.value)})}isLoading(){return this.loading}searchByQuery(Le,dt){this.loading.next(!0),(0,Ye.Im)(this.storedNodes)&&(this.storedNodes=this.dataChange.value,this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.dataChange.next([]),this.vocabularyService.getVocabularyEntriesByValue(Le,!1,this.vocabularyOptions,new tt.Q).pipe((0,un.Ar)(),(0,Ce.Z)(It=>It.length>0?It:(0,u.of)(null)),(0,Ce.Z)(It=>this.vocabularyService.findEntryDetailById(It.otherInformation.id,this.vocabularyName).pipe((0,un.ak)())),(0,Ce.Z)(It=>this.getNodeHierarchy(It,dt)),(0,Be.S)((It,an)=>(0,Ye.Im)(an)||-1!==mt()(It,Dn=>Dn.item.otherInformation.id===an.item.otherInformation.id)?It:[...It,an],[]),(0,ut.h)(this.hideSearchingWhenUnsubscribed$)).subscribe(It=>{this.dataChange.next(It),this.loading.next(!1)})}restoreNodes(){this.loading.next(!1),this.dataChange.next(this.storedNodes),this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.storedNodes=[]}_generateNode(Le,dt,It=!1,an=!0){const Dn=Le.otherInformation.id;if(this.nodeMap.has(Dn))return this.nodeMap.get(Dn);const jn=Le.hasOtherInformation()&&"true"===Le.otherInformation.hasChildren,Zn=this.pageInfo,wn=this.initValueHierarchy.includes(Dn),ct=dt.some(()=>dt.includes(Dn)),vt=new nn(Le,jn,Zn,null,It,wn,ct);return an&&this.nodeMap.set(Dn,vt),vt}getNodeHierarchyById(Le,dt){return this.getById(Le).pipe((0,Ce.Z)(It=>this.getNodeHierarchy(It,dt,[],!1)),(0,Ne.T)(It=>this.getNodeHierarchyIds(It,dt)))}getChildrenNodesByParent(Le,dt){return this.vocabularyService.getEntryDetailChildren(Le,this.vocabularyName,dt).pipe((0,un.ak)())}getParentNode(Le){return this.vocabularyService.getEntryDetailParent(Le,this.vocabularyName).pipe((0,un.ak)())}getById(Le){return this.vocabularyService.findEntryDetailById(Le,this.vocabularyName).pipe((0,un.ak)())}retrieveTopNodes(Le,dt,It){this.vocabularyService.searchTopEntries(this.vocabularyName,Le).pipe((0,un.ak)()).subscribe(an=>{this.vocabularyService.clearSearchTopRequests();const Dn=an.page.map(jn=>this._generateNode(jn,It));if(dt.push(...Dn),an.pageInfo.currentPage+1<=an.pageInfo.totalPages){const jn=Object.assign(new tt.Q,an.pageInfo,{currentPage:an.pageInfo.currentPage+1}),Zn=new nn(Rt,!1,jn);Zn.updatePageInfo(jn),dt.push(Zn)}this.loading.next(!1),this.dataChange.next(dt)})}getNodeHierarchy(Le,dt,It,an=!0){if((0,Ye.Im)(Le))return(0,u.of)(null);const Dn=this._generateNode(Le,dt,an,an);if((0,Ye.hj)(It)){const jn=It.filter(Zn=>-1===mt()(Dn.children,wn=>wn.item.otherInformation.id===Zn.item.otherInformation.id));jn.forEach(Zn=>{Zn.loadMoreParentItem=Dn.item}),Dn.children.push(...jn)}return Dn.item.hasOtherInformation()&&(0,Ye.hj)(Dn.item.otherInformation.parent)?this.getParentNode(Dn.item.otherInformation.id).pipe((0,Ce.Z)(jn=>this.getNodeHierarchy(jn,dt,[Dn],an))):(0,u.of)(Dn)}getNodeHierarchyIds(Le,dt,It=[]){return It.includes(Le.item.otherInformation.id)||It.push(Le.item.otherInformation.id),(0,Ye.hj)(Le.children)?this.getNodeHierarchyIds(Le.children[0],dt,It):It}static{this.\u0275fac=function(dt){return new(dt||st)(h.KVO(rn.g))}}static{this.\u0275prov=h.jDH({token:st,factory:st.\u0275fac,providedIn:"root"})}}return st})();const zt=["searchInput"];function Yt(st,ke){if(1&st&&h.nrm(0,"ds-alert",19),2&st){const Le=h.XpG();h.Y8G("content",Le.description)("type",Le.AlertType.Info)}}function wt(st,ke){if(1&st){const Le=h.RV6();h.j41(0,"button",20),h.nI1(1,"translate"),h.bIt("click",function(){h.eBV(Le);const It=h.XpG();return h.Njj(It.add())}),h.EFF(2),h.nI1(3,"translate"),h.k0s()}2&st&&(h.BMQ("aria-label",h.bMT(1,2,"vocabulary-treeview.search.form.add")),h.R7$(2),h.SpI(" ",h.bMT(3,4,"vocabulary-treeview.search.form.add")," "))}function bt(st,ke){1&st&&h.nrm(0,"ds-loading",21),2&st&&h.Y8G("showMessage",!1)}function Jt(st,ke){1&st&&(h.j41(0,"h2",22)(1,"span"),h.EFF(2),h.nI1(3,"translate"),h.k0s()()),2&st&&(h.R7$(2),h.JRh(h.bMT(3,1,"vocabulary-treeview.search.no-result")))}function Tt(st,ke){if(1&st){const Le=h.RV6();h.j41(0,"label",28)(1,"input",29),h.mxI("ngModelChange",function(It){h.eBV(Le);const an=h.XpG().$implicit;return h.DH7(an.isSelected,It)||(an.isSelected=It),h.Njj(It)}),h.bIt("change",function(){h.eBV(Le);const It=h.XpG().$implicit,an=h.XpG();return h.Njj(an.onSelect(It.item))}),h.k0s(),h.j41(2,"span"),h.EFF(3),h.k0s()()}if(2&st){const Le=h.XpG().$implicit;h.AVh("text-success",Le.isSelected),h.Y8G("ngbTooltip",null==Le.item||null==Le.item.otherInformation?null:Le.item.otherInformation.note)("openDelay",500),h.R7$(),h.Y8G("disabled",!(null!=Le.item&&Le.item.selectable)),h.R50("ngModel",Le.isSelected),h.Y8G("checked",Le.isSelected),h.R7$(2),h.JRh(Le.item.display)}}function Ft(st,ke){if(1&st){const Le=h.RV6();h.j41(0,"button",30),h.bIt("click",function(){h.eBV(Le);const It=h.XpG().$implicit,an=h.XpG();return h.Njj(an.onSelect(It.item))}),h.j41(1,"span"),h.EFF(2),h.k0s()()}if(2&st){const Le=h.XpG().$implicit;h.AVh("text-success",Le.isSelected),h.Y8G("dsBtnDisabled",!(null!=Le.item&&Le.item.selectable))("ngbTooltip",null==Le.item||null==Le.item.otherInformation?null:Le.item.otherInformation.note)("openDelay",500),h.R7$(2),h.JRh(Le.item.display)}}function it(st,ke){if(1&st&&(h.j41(0,"cdk-tree-node",23)(1,"span",24),h.nrm(2,"i",25),h.k0s(),h.DNE(3,Tt,4,8,"label",26)(4,Ft,3,6,"button",27),h.k0s()),2&st){const Le=h.XpG();h.R7$(3),h.Y8G("ngIf",Le.multiSelect),h.R7$(),h.Y8G("ngIf",!Le.multiSelect)}}function xe(st,ke){if(1&st){const Le=h.RV6();h.j41(0,"label",28)(1,"input",29),h.mxI("ngModelChange",function(It){h.eBV(Le);const an=h.XpG().$implicit;return h.DH7(an.isSelected,It)||(an.isSelected=It),h.Njj(It)}),h.bIt("change",function(){h.eBV(Le);const It=h.XpG().$implicit,an=h.XpG();return h.Njj(an.onSelect(It.item))}),h.k0s(),h.j41(2,"span"),h.EFF(3),h.k0s()()}if(2&st){const Le=h.XpG().$implicit;h.AVh("text-success",Le.isSelected),h.Y8G("ngbTooltip",null==Le.item||null==Le.item.otherInformation?null:Le.item.otherInformation.note)("openDelay",500),h.R7$(),h.Y8G("disabled",!(null!=Le.item&&Le.item.selectable)),h.R50("ngModel",Le.isSelected),h.Y8G("checked",Le.isSelected),h.R7$(2),h.JRh(Le.item.display)}}function Ve(st,ke){if(1&st){const Le=h.RV6();h.j41(0,"button",30),h.bIt("click",function(){h.eBV(Le);const It=h.XpG().$implicit,an=h.XpG();return h.Njj(an.onSelect(It.item))}),h.j41(1,"span"),h.EFF(2),h.k0s()()}if(2&st){const Le=h.XpG().$implicit;h.AVh("text-success",Le.isSelected),h.Y8G("dsBtnDisabled",!(null!=Le.item&&Le.item.selectable))("ngbTooltip",null==Le.item||null==Le.item.otherInformation?null:Le.item.otherInformation.note)("openDelay",500),h.R7$(2),h.JRh(Le.item.display)}}function Ke(st,ke){if(1&st){const Le=h.RV6();h.j41(0,"cdk-tree-node",23)(1,"button",31),h.bIt("click",function(){const It=h.eBV(Le).$implicit,an=h.XpG();return h.Njj(an.loadChildren(It))}),h.nrm(2,"i"),h.k0s(),h.DNE(3,xe,4,8,"label",26)(4,Ve,3,6,"button",27),h.k0s()}if(2&st){const Le=ke.$implicit,dt=h.XpG();h.R7$(),h.BMQ("aria-label","toggle "+Le.name),h.R7$(),h.ZvI("fas fa-fw ",dt.treeControl.isExpanded(Le)?"fa-angle-down":"fa-angle-right",""),h.R7$(),h.Y8G("ngIf",dt.multiSelect),h.R7$(),h.Y8G("ngIf",!dt.multiSelect)}}function je(st,ke){if(1&st){const Le=h.RV6();h.j41(0,"cdk-tree-node",32)(1,"button",33),h.nI1(2,"translate"),h.bIt("click",function(){const It=h.eBV(Le).$implicit,an=h.XpG();return h.Njj(an.loadMore(It.loadMoreParentItem))}),h.EFF(3),h.nI1(4,"translate"),h.k0s()()}2&st&&(h.R7$(),h.BMQ("aria-label",h.bMT(2,2,"vocabulary-treeview.load-more")),h.R7$(2),h.SpI(" ",h.bMT(4,4,"vocabulary-treeview.load-more"),"... "))}function At(st,ke){if(1&st){const Le=h.RV6();h.j41(0,"cdk-tree-node")(1,"button",33),h.nI1(2,"translate"),h.bIt("click",function(){const It=h.eBV(Le).$implicit,an=h.XpG();return h.Njj(an.loadMoreRoot(It))}),h.EFF(3),h.nI1(4,"translate"),h.k0s()()}2&st&&(h.R7$(),h.BMQ("aria-label",h.bMT(2,2,"vocabulary-treeview.load-more")),h.R7$(2),h.SpI(" ",h.bMT(4,4,"vocabulary-treeview.load-more"),"... "))}let Qe=(()=>{class st{constructor(Le){this.vocabularyTreeviewService=Le,this.preloadLevel=2,this.description="",this.multiSelect=!1,this.showAdd=!0,this.selectedItems=[],this.nodeMap=new Map,this.storedNodeMap=new Map,this.select=new h.bkB(null),this.deselect=new h.bkB(null),this.subs=[],this.AlertType=Fe.v,this.getChildren=dt=>dt.childrenChange,this.transformer=(dt,It)=>{const an=this.getEntryId(dt.item),Dn=this.nodeMap.get(an);if(Dn&&Dn.item.id!==Pn&&Dn.item.id!==yt)return Dn;const jn=new gn(dt.item,It,dt.hasChildren,dt.hasChildren&&(0,Ye.hj)(dt.children),dt.pageInfo,dt.loadMoreParentItem,dt.isSearchNode,dt.isInInitValueHierarchy,dt.isSelected);return this.nodeMap.set(an,jn),(It+1<this.preloadLevel&&jn.childrenLoaded||jn.isSearchNode&&jn.childrenLoaded||jn.isInInitValueHierarchy)&&(jn.isSearchNode||this.loadChildren(jn),this.treeControl.expand(jn)),jn},this.getLevel=dt=>dt.level,this.isExpandable=dt=>dt.expandable,this.hasChildren=(dt,It)=>It.expandable,this.isLoadMore=(dt,It)=>It.item.id===Pn,this.isLoadMoreRoot=(dt,It)=>It.item.id===yt,this.treeFlattener=new Gt(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new j(this.getLevel,this.isExpandable),this.dataSource=new ot(this.treeControl,this.treeFlattener)}ngOnInit(){this.subs.push(this.vocabularyTreeviewService.getData().subscribe(dt=>{this.dataSource.data=dt})),this.loading=this.vocabularyTreeviewService.isLoading();const Le=this.selectedItems?.length>0?this.getEntryId(this.selectedItems[0]):null;this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new tt.Q,this.getSelectedEntryIds(),Le)}loadMore(Le){this.vocabularyTreeviewService.loadMore(Le,this.getSelectedEntryIds())}loadMoreRoot(Le){this.vocabularyTreeviewService.loadMoreRoot(Le,this.getSelectedEntryIds())}loadChildren(Le){this.vocabularyTreeviewService.loadMore(Le.item,this.getSelectedEntryIds(),!0)}onSelect(Le){this.getSelectedEntryIds().includes(this.getEntryId(Le))?(this.selectedItems=this.selectedItems.filter(dt=>this.getEntryId(dt)!==this.getEntryId(Le)),this.deselect.emit(Le)):(this.selectedItems.push(Le),this.select.emit(Le))}search(){(0,Ye.hj)(this.searchText)&&((0,Ye.Im)(this.storedNodeMap)&&(this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.vocabularyTreeviewService.searchByQuery(this.searchText,this.getSelectedEntryIds()))}isSearchEnabled(){return(0,Ye.hj)(this.searchText)}reset(){this.searchText="";for(const Le of this.selectedItems)this.deselect.emit(Le),this.nodeMap.get(this.getEntryId(Le)).isSelected=!1;this.selectedItems=[],(0,Ye.hj)(this.storedNodeMap)&&(this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.vocabularyTreeviewService.restoreNodes()),this.searchInput&&this.searchInput.nativeElement.focus()}add(){this.select.emit({value:this.searchText,display:this.searchText})}ngOnDestroy(){this.vocabularyTreeviewService.cleanTree(),this.subs.filter(Le=>(0,Ye.a4)(Le)).forEach(Le=>Le.unsubscribe())}getEntryId(Le){return Le?.authority||Le?.otherInformation?.id||Le?.id||void 0}getSelectedEntryIds(){return this.selectedItems.map(Le=>this.getEntryId(Le)).filter(Le=>(0,Ye.hj)(Le))}ngOnChanges(Le){!Le.vocabularyOptions.isFirstChange()&&Le.vocabularyOptions.currentValue!==Le.vocabularyOptions.previousValue&&(this.selectedItems=[],this.searchText="",this.vocabularyTreeviewService.cleanTree(),this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new tt.Q,this.getSelectedEntryIds(),null))}static{this.\u0275fac=function(dt){return new(dt||st)(h.rXU(St))}}static{this.\u0275cmp=h.VBU({type:st,selectors:[["ds-vocabulary-treeview"]],viewQuery:function(dt,It){if(1&dt&&h.GBs(zt,5),2&dt){let an;h.mGM(an=h.lsd())&&(It.searchInput=an.first)}},inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",description:"description",multiSelect:"multiSelect",showAdd:"showAdd",selectedItems:"selectedItems"},outputs:{select:"select",deselect:"deselect"},standalone:!0,features:[h.OA$,h.aNF],decls:33,vars:40,consts:[["searchInput",""],[3,"content","type",4,"ngIf"],[1,"treeview-header","row","mb-1"],[1,"col-12"],[1,"input-group"],["type","text",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","placeholder"],["id","button-addon4",1,"input-group-append"],["type","button",1,"btn","btn-outline-primary",3,"click","dsBtnDisabled"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["class","btn btn-outline-primary","type","button",3,"click",4,"ngIf"],[1,"treeview-container"],[3,"showMessage",4,"ngIf"],["aria-live","polite"],["class","h4 text-center text-muted mt-4",4,"ngIf"],[3,"dataSource","treeControl"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["cdkTreeNodePadding","",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[3,"content","type"],["type","button",1,"btn","btn-outline-primary",3,"click"],[3,"showMessage"],[1,"h4","text-center","text-muted","mt-4"],["cdkTreeNodePadding","",1,"d-flex"],["aria-hidden","true","type","button","cdkTreeNodeToggle","",1,"btn","btn-default","px-2","me-1","btn-transparent"],[1,"fas","fa-fw","fa-angle-right","invisible"],["class","form-label d-flex align-items-center m-0 p-0 form-check","container","body",3,"text-success","ngbTooltip","openDelay",4,"ngIf"],["class","btn btn-outline-link btn-sm text-start","container","body",3,"text-success","dsBtnDisabled","ngbTooltip","openDelay","click",4,"ngIf"],["container","body",1,"form-label","d-flex","align-items-center","m-0","p-0","form-check",3,"ngbTooltip","openDelay"],["type","checkbox",1,"me-2",3,"ngModelChange","change","disabled","ngModel","checked"],["container","body",1,"btn","btn-outline-link","btn-sm","text-start",3,"click","dsBtnDisabled","ngbTooltip","openDelay"],["type","button","cdkTreeNodeToggle","",1,"btn","btn-default","px-2","me-1","btn-transparent",3,"click"],["cdkTreeNodePadding",""],[1,"btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(dt,It){if(1&dt){const an=h.RV6();h.DNE(0,Yt,1,2,"ds-alert",1),h.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5,0),h.nI1(6,"translate"),h.nI1(7,"translate"),h.mxI("ngModelChange",function(jn){return h.eBV(an),h.DH7(It.searchText,jn)||(It.searchText=jn),h.Njj(jn)}),h.bIt("keyup.enter",function(){return h.eBV(an),h.Njj(It.search())}),h.k0s(),h.j41(8,"div",6)(9,"button",7),h.nI1(10,"translate"),h.bIt("click",function(){return h.eBV(an),h.Njj(It.search())}),h.EFF(11),h.nI1(12,"translate"),h.k0s(),h.j41(13,"button",8),h.nI1(14,"translate"),h.bIt("click",function(){return h.eBV(an),h.Njj(It.reset())}),h.EFF(15),h.nI1(16,"translate"),h.k0s(),h.DNE(17,wt,4,6,"button",9),h.j41(18,"button",7),h.nI1(19,"translate"),h.bIt("click",function(){return h.eBV(an),h.Njj(It.add())}),h.EFF(20),h.nI1(21,"translate"),h.k0s()()()()(),h.j41(22,"div",10),h.DNE(23,bt,1,1,"ds-loading",11),h.nI1(24,"async"),h.j41(25,"div",12),h.DNE(26,Jt,4,3,"h2",13),h.nI1(27,"async"),h.k0s(),h.j41(28,"cdk-tree",14),h.DNE(29,it,5,2,"cdk-tree-node",15)(30,Ke,5,6,"cdk-tree-node",16)(31,je,5,6,"cdk-tree-node",17)(32,At,5,6,"cdk-tree-node",18),h.k0s()()}2&dt&&(h.Y8G("ngIf",It.description),h.R7$(4),h.R50("ngModel",It.searchText),h.Y8G("placeholder",h.bMT(6,20,"vocabulary-treeview.search.form.search-placeholder")),h.BMQ("aria-label",h.bMT(7,22,"vocabulary-treeview.search.form.search-placeholder")),h.R7$(5),h.Y8G("dsBtnDisabled",!It.isSearchEnabled()),h.BMQ("aria-label",h.bMT(10,24,"vocabulary-treeview.search.form.search")),h.R7$(2),h.SpI(" ",h.bMT(12,26,"vocabulary-treeview.search.form.search")," "),h.R7$(2),h.BMQ("aria-label",h.bMT(14,28,"vocabulary-treeview.search.form.reset")),h.R7$(2),h.SpI(" ",h.bMT(16,30,"vocabulary-treeview.search.form.reset")," "),h.R7$(2),h.Y8G("ngIf",It.showAdd&&It.vocabularyOptions.closed),h.R7$(),h.Y8G("dsBtnDisabled",It.vocabularyOptions.closed),h.BMQ("aria-label",h.bMT(19,32,"vocabulary-treeview.search.form.add")),h.R7$(2),h.SpI(" ",h.bMT(21,34,"vocabulary-treeview.search.form.add")," "),h.R7$(3),h.Y8G("ngIf",h.bMT(24,36,It.loading)),h.R7$(3),h.Y8G("ngIf",!0!==h.bMT(27,38,It.loading)&&0===It.dataSource.data.length),h.R7$(2),h.Y8G("dataSource",It.dataSource)("treeControl",It.treeControl),h.R7$(2),h.Y8G("cdkTreeNodeDefWhen",It.hasChildren),h.R7$(),h.Y8G("cdkTreeNodeDefWhen",It.isLoadMore),h.R7$(),h.Y8G("cdkTreeNodeDefWhen",It.isLoadMoreRoot))},dependencies:[re.YN,re.me,re.Zm,re.BC,re.vS,Ee.n8,Ee.md,me.bT,be,X,se,ce,J,Q,De.h,De.D9,me.Jj,pt.v,ht.C,Et.A],styles:[".tooltip-inner{text-align:left}label[_ngcontent-%COMP%]{cursor:pointer}.input-group[_ngcontent-%COMP%] > .input-group-append[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.input-group[_ngcontent-%COMP%] > .input-group-append[_ngcontent-%COMP%]:last-child > .btn[_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.input-group-append[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:-1px}"]})}}return st})()},73335:(F,b,n)=>{"use strict";n.d(b,{e:()=>C});var i=n(7673),t=n(96354),u=n(96697),e=n(8917),h=n(80183),m=n(82777),f=n(54438);const _=/^([^\/]+\/[^\/]+)$/;let C=(()=>{class S{constructor(T){this.configurationService=T}normalizeHandle(T){return(0,m.Tn)(T)?(0,i.of)(null):this.configurationService.findByPropertyName("handle.canonical.prefix").pipe((0,h.qD)(),(0,t.T)(A=>{if(A.hasSucceeded)return A.payload.values.length>=1?A.payload.values[0]:void 0}),(0,t.T)(A=>{let p;return p=T.match((S=>{const R=S?.replace(/\/$/,"");return new RegExp(`(${R?R+"|":""}handle)/([^/]+/[^/]+)$`)})(A)),((0,m.Im)(p)||p.length<3)&&(p=T.match(_)),(0,m.Im)(p)||p.length<2?null:p[p.length-1]}),(0,u.s)(1))}static{this.\u0275fac=function(A){return new(A||S)(f.KVO(e.ConfigurationDataService))}}static{this.\u0275prov=f.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},65354:(F,b,n)=>{"use strict";n.d(b,{O:()=>t,l:()=>u});const t={RESIZE:(0,n(91e3).N)("dspace/host-window/RESIZE")};class u{constructor(h,m){this.type=t.RESIZE,this.payload={width:h,height:m}}}},57538:(F,b,n)=>{"use strict";n.d(b,{CV:()=>R,tP:()=>E});var i=n(25499),t=n(84572),u=n(5964),e=n(96354),h=n(23294),m=n(82777),f=n(1221),v=n(54438),E=function(T){return T[T.XS=0]="XS",T[T.SM=1]="SM",T[T.MD=2]="MD",T[T.LG=3]="LG",T[T.XL=4]="XL",T}(E||{});const _=E.SM,S=(0,i.Mz)(T=>T.hostWindow,T=>T.width);let R=(()=>{class T{constructor(p,L){this.store=p,this.variableService=L,this.breakPoints={},L.getAllVariables().subscribe(D=>{this.breakPoints.XL_MIN=parseInt(D["--bs-xl"],10),this.breakPoints.LG_MIN=parseInt(D["--bs-lg"],10),this.breakPoints.MD_MIN=parseInt(D["--bs-md"],10),this.breakPoints.SM_MIN=parseInt(D["--bs-sm"],10)})}getWidthObs(){return this.store.pipe((0,i.Lt)(S),(0,u.p)(p=>(0,m.a4)(p)))}get widthCategory(){return this.getWidthObs().pipe((0,e.T)(p=>p<this.breakPoints.SM_MIN?E.XS:p>=this.breakPoints.SM_MIN&&p<this.breakPoints.MD_MIN?E.SM:p>=this.breakPoints.MD_MIN&&p<this.breakPoints.LG_MIN?E.MD:p>=this.breakPoints.LG_MIN&&p<this.breakPoints.XL_MIN?E.LG:E.XL),(0,h.F)())}isXs(){return this.widthCategory.pipe((0,e.T)(p=>p===E.XS),(0,h.F)())}isSm(){return this.widthCategory.pipe((0,e.T)(p=>p===E.SM),(0,h.F)())}isMd(){return this.widthCategory.pipe((0,e.T)(p=>p===E.MD),(0,h.F)())}isLg(){return this.widthCategory.pipe((0,e.T)(p=>p===E.LG),(0,h.F)())}isXl(){return this.widthCategory.pipe((0,e.T)(p=>p===E.XL),(0,h.F)())}is(p){return this.widthCategory.pipe((0,e.T)(L=>L===p),(0,h.F)())}isIn(p){return this.widthCategory.pipe((0,e.T)(L=>p.includes(L)),(0,h.F)())}isUpTo(p){return this.widthCategory.pipe((0,e.T)(L=>L<=p),(0,h.F)())}isMobile(){return this.widthCategory.pipe((0,e.T)(p=>p<=_),(0,h.F)())}isDesktop(){return this.widthCategory.pipe((0,e.T)(p=>p>_),(0,h.F)())}isXsOrSm(){return(0,t.z)(this.isXs(),this.isSm()).pipe((0,e.T)(([p,L])=>p||L),(0,h.F)())}static{this.\u0275fac=function(L){return new(L||T)(v.KVO(i.il),v.KVO(f.J))}}static{this.\u0275prov=v.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},59458:(F,b,n)=>{"use strict";n.d(b,{k:()=>t});var i=n(54438);let t=(()=>{class u{constructor(h){this.elementRef=h}onMouseEnter(){this.elementRef.nativeElement.classList.add(this.hoverClass)}onMouseLeave(){this.elementRef.nativeElement.classList.remove(this.hoverClass)}static{this.\u0275fac=function(m){return new(m||u)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:u,selectors:[["","dsHoverClass",""]],hostBindings:function(m,f){1&m&&i.bIt("mouseenter",function(){return f.onMouseEnter()})("mouseleave",function(){return f.onMouseLeave()})},inputs:{hoverClass:[i.Mj6.None,"dsHoverClass","hoverClass"]},standalone:!0})}}return u})()},34458:(F,b,n)=>{"use strict";n.d(b,{d:()=>_});var i=n(60177),t=n(58003),u=n(25499),e=n(41780),h=n(96354),m=n(67116),f=n(38169),v=n(54438);function E(C,S){if(1&C){const R=v.RV6();v.j41(0,"ul",1)(1,"li",2)(2,"button",3),v.nI1(3,"translate"),v.bIt("click",function(){v.eBV(R);const A=v.XpG();return v.Njj(A.stopImpersonating())}),v.nrm(4,"i",4),v.k0s()()()}2&C&&(v.R7$(2),v.FS9("ngbTooltip",v.bMT(3,1,"nav.stop-impersonating")))}let _=(()=>{class C{constructor(R,T,A){this.elRef=R,this.store=T,this.authService=A,this.subscriptions=[]}ngOnInit(){this.isImpersonating$=this.store.pipe((0,u.Lt)(f.wR)).pipe((0,h.T)(R=>R&&this.authService.isImpersonating())),this.subscriptions.push(this.isImpersonating$.subscribe(R=>{R?this.elRef.nativeElement.classList.remove("d-none"):this.elRef.nativeElement.classList.add("d-none")}))}stopImpersonating(){this.authService.stopImpersonatingAndRefresh()}static{this.\u0275fac=function(T){return new(T||C)(v.rXU(v.aKT),v.rXU(u.il),v.rXU(m.uR))}}static{this.\u0275cmp=v.VBU({type:C,selectors:[["ds-impersonate-navbar"]],standalone:!0,features:[v.aNF],decls:2,vars:3,consts:[["class","navbar-nav",4,"ngIf"],[1,"navbar-nav"],[1,"nav-item"],[1,"btn","btn-sm","btn-dark",3,"click","ngbTooltip"],[1,"fa","fa-user-secret"]],template:function(T,A){1&T&&(v.DNE(0,E,5,3,"ul",0),v.nI1(1,"async")),2&T&&v.Y8G("ngIf",v.bMT(1,1,A.isImpersonating$))},dependencies:[i.bT,t.n8,t.md,i.Jj,e.h,e.D9],encapsulation:2})}}return C})()},81648:(F,b,n)=>{"use strict";n.d(b,{H:()=>A});var i=n(60177),t=n(54438),u=n(89417),e=n(41780),h=n(46301),m=n(56386),f=n(14412);const v=p=>({show:p}),E=p=>({"is-invalid":p}),_=()=>({standalone:!0});function C(p,L){1&p&&t.eu8(0)}function S(p,L){if(1&p&&(t.j41(0,"label",11)(1,"span",12),t.EFF(2),t.k0s(),t.DNE(3,C,1,0,"ng-container",13),t.k0s()),2&p){const D=t.XpG(),w=t.sdS(5);t.R7$(2),t.SpI(" ",D.label," "),t.R7$(),t.Y8G("ngTemplateOutlet",w)}}function R(p,L){if(1&p){const D=t.RV6();t.j41(0,"input",14,2),t.mxI("ngModelChange",function(M){t.eBV(D);const x=t.XpG();return t.DH7(x.value,M)||(x.value=M),t.Njj(M)}),t.bIt("onDebounce",function(M){t.eBV(D);const x=t.XpG();return t.Njj(x.find(M))}),t.k0s()}if(2&p){const D=t.XpG();t.R50("ngModel",D.value),t.Y8G("name",D.name)("ngClass",t.eq3(6,E,!D.valid))("dsDebounce",D.debounceTime)("placeholder",D.placeholder)("ngModelOptions",t.lJ4(8,_))}}function T(p,L){if(1&p){const D=t.RV6();t.j41(0,"div")(1,"a",15,3),t.bIt("click",function(){const M=t.eBV(D).$implicit,x=t.XpG();return t.Njj(x.onClickSuggestion(M))}),t.nrm(3,"span",16),t.k0s()()}if(2&p){const D=L.$implicit;t.R7$(3),t.Y8G("innerHTML",D.displayValue,t.npT)}}let A=(()=>{class p extends f.t{constructor(){super(...arguments),this.suggestions=[]}onSubmit(D){this.value=D,this.submitSuggestion.emit(D)}onClickSuggestion(D){return this.value=D.value,this.clickSuggestion.emit(D),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let D;return function(M){return(D||(D=t.xGo(p)))(M||p)}})()}static{this.\u0275cmp=t.VBU({type:p,selectors:[["ds-filter-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[t.Jv_([{provide:u.kq,useExisting:(0,t.Rfq)(()=>p),multi:!0}]),t.Vt3,t.aNF],decls:13,vars:12,consts:[["form","ngForm"],["searchInput",""],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],[1,"mb-3","mb-0"],["class","mb-0 w-100",4,"ngIf","ngIfElse"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],[1,"mb-0","w-100"],[1,"fw-bold"],[4,"ngTemplateOutlet"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(w,M){if(1&w){const x=t.RV6();t.j41(0,"form",4,0),t.bIt("ngSubmit",function(){return t.eBV(x),t.Njj(M.onSubmit(M.value))})("keydown",function(U){return t.eBV(x),t.Njj(M.onKeydown(U))})("keydown.arrowdown",function(U){return t.eBV(x),t.Njj(M.shiftFocusDown(U))})("keydown.arrowup",function(U){return t.eBV(x),t.Njj(M.shiftFocusUp(U))})("keydown.esc",function(){return t.eBV(x),t.Njj(M.close())})("dsClickOutside",function(){return t.eBV(x),t.Njj(M.close())}),t.j41(2,"div",5),t.DNE(3,S,4,2,"label",6),t.k0s(),t.DNE(4,R,2,9,"ng-template",null,1,t.C5r),t.j41(6,"button",7),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"div",8),t.nI1(10,"async"),t.j41(11,"div",9),t.DNE(12,T,4,1,"div",10),t.k0s()()()}if(2&w){const x=t.sdS(5);t.Y8G("action",M.action,t.B4B),t.R7$(3),t.Y8G("ngIf",M.label)("ngIfElse",x),t.R7$(4),t.SpI(" ",t.bMT(8,6,"search.filters.search.submit")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(10,v,t.bMT(10,8,M.show)&&M.isNotEmpty(M.suggestions))),t.R7$(3),t.Y8G("ngForOf",M.suggestions)}},dependencies:[u.YN,u.qT,u.me,u.BC,u.cb,u.vS,u.cV,h.z,i.bT,i.T3,m.R,i.YU,i.pM,i.Jj,e.h,e.D9],styles:[".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return p})()},14412:(F,b,n)=>{"use strict";n.d(b,{t:()=>A});var i=n(60177),t=n(54438),u=n(89417),e=n(41780),h=n(84412),m=n(82777),f=n(46301),v=n(56386);const E=["inputField"],_=["suggestion"],C=p=>({"is-invalid":p}),S=()=>({standalone:!0}),R=p=>({show:p});function T(p,L){if(1&p){const D=t.RV6();t.j41(0,"div")(1,"a",9,2),t.bIt("click",function(){const M=t.eBV(D).$implicit,x=t.XpG();return t.Njj(x.onClickSuggestion(M.value))}),t.nrm(3,"span",10),t.k0s()()}if(2&p){const D=L.$implicit;t.R7$(3),t.Y8G("innerHTML",D.displayValue,t.npT)}}let A=(()=>{class p{constructor(){this.suggestions=[],this.debounceTime=500,this.placeholder="",this.valid=!0,this.label="",this.submitSuggestion=new t.bkB,this.clickSuggestion=new t.bkB,this.typeSuggestion=new t.bkB,this.findSuggestions=new t.bkB,this.show=new h.t(!1),this.selectedIndex=-1,this.blockReopen=!1,this.disabled=!1,this.propagateChange=D=>{},this.propagateTouch=D=>{}}ngOnChanges(D){(0,m.a4)(D.suggestions)&&this.show.next((0,m.hj)(D.suggestions.currentValue)&&!D.suggestions.firstChange)}shiftFocusUp(D){D.preventDefault(),this.selectedIndex>0?(this.selectedIndex--,this.selectedIndex=(this.selectedIndex+this.resultViews.length)%this.resultViews.length):this.selectedIndex=this.resultViews.length-1,this.changeFocus()}shiftFocusDown(D){D.preventDefault(),this.selectedIndex>=0?(this.selectedIndex++,this.selectedIndex%=this.resultViews.length):this.selectedIndex=0,this.changeFocus()}changeFocus(){this.resultViews.length>0&&this.resultViews.toArray()[this.selectedIndex].nativeElement.focus()}onKeydown(D){"Enter"!==D.key&&"Tab"!==D.key&&this.queryInput.nativeElement.focus()}close(){this.show.next(!1)}open(){this.blockReopen||this.show.next(!0)}isNotEmpty(D){return(0,m.hj)(D)}onSubmit(D){}onClickSuggestion(D){}find(D){this.blockReopen||(this.findSuggestions.emit(D),this.typeSuggestion.emit(D)),this.blockReopen=!1}registerOnChange(D){this.propagateChange=D}registerOnTouched(D){this.propagateTouch=D}setDisabledState(D){this.disabled=D}writeValue(D){this.value=D}get value(){return this._value}set value(D){this._value=D,this.propagateChange(this._value)}static{this.\u0275fac=function(w){return new(w||p)}}static{this.\u0275cmp=t.VBU({type:p,selectors:[["ds-input-suggestions"]],viewQuery:function(w,M){if(1&w&&(t.GBs(E,5),t.GBs(_,5)),2&w){let x;t.mGM(x=t.lsd())&&(M.queryInput=x.first),t.mGM(x=t.lsd())&&(M.resultViews=x)}},inputs:{suggestions:"suggestions",debounceTime:"debounceTime",placeholder:"placeholder",action:"action",name:"name",valid:"valid",label:"label",disabled:"disabled"},outputs:{submitSuggestion:"submitSuggestion",clickSuggestion:"clickSuggestion",typeSuggestion:"typeSuggestion",findSuggestions:"findSuggestions"},standalone:!0,features:[t.OA$,t.aNF],decls:11,vars:19,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(w,M){if(1&w){const x=t.RV6();t.j41(0,"form",3,0),t.bIt("ngSubmit",function(){return t.eBV(x),t.Njj(M.onSubmit(M.value))})("keydown",function(U){return t.eBV(x),t.Njj(M.onKeydown(U))})("keydown.arrowdown",function(U){return t.eBV(x),t.Njj(M.shiftFocusDown(U))})("keydown.arrowup",function(U){return t.eBV(x),t.Njj(M.shiftFocusUp(U))})("keydown.esc",function(){return t.eBV(x),t.Njj(M.close())})("dsClickOutside",function(){return t.eBV(x),t.Njj(M.close())}),t.j41(2,"input",4,1),t.mxI("ngModelChange",function(U){return t.eBV(x),t.DH7(M.value,U)||(M.value=U),t.Njj(U)}),t.bIt("onDebounce",function(U){return t.eBV(x),t.Njj(M.find(U))}),t.k0s(),t.j41(4,"button",5),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"div",6),t.nI1(8,"async"),t.j41(9,"div",7),t.DNE(10,T,4,1,"div",8),t.k0s()()()}2&w&&(t.Y8G("action",M.action,t.B4B),t.R7$(2),t.R50("ngModel",M.value),t.Y8G("name",M.name)("ngClass",t.eq3(14,C,!M.valid))("dsDebounce",M.debounceTime)("placeholder",M.placeholder)("ngModelOptions",t.lJ4(16,S)),t.R7$(3),t.SpI(" ",t.bMT(6,10,"search.filters.search.submit")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(17,R,t.bMT(8,12,M.show)&&M.isNotEmpty(M.suggestions))),t.R7$(3),t.Y8G("ngForOf",M.suggestions))},dependencies:[u.YN,u.qT,u.me,u.BC,u.cb,u.vS,u.cV,f.z,v.R,i.YU,i.pM,i.Jj,e.h,e.D9],encapsulation:2})}}return p})()},31580:(F,b,n)=>{"use strict";n.r(b),n.d(b,{LangSwitchComponent:()=>E});var i=n(60177),t=n(58003),u=n(41780),e=n(88280),h=n(63648),m=n(54438);function f(_,C){if(1&_){const S=m.RV6();m.j41(0,"li",7,0),m.bIt("keyup.enter",function(){const T=m.eBV(S).$implicit,A=m.XpG(2);return m.Njj(A.useLang(T))})("click",function(){const T=m.eBV(S).$implicit,A=m.XpG(2);return m.Njj(A.useLang(T))}),m.EFF(2),m.k0s()}if(2&_){const S=C.$implicit,R=m.XpG(2);m.AVh("active",S===R.translate.currentLang),m.R7$(2),m.SpI(" ",R.langLabel(S)," ")}}function v(_,C){if(1&_){const S=m.RV6();m.j41(0,"div",2)(1,"a",3),m.nI1(2,"translate"),m.nI1(3,"translate"),m.bIt("click",function(T){return m.eBV(S),m.Njj(T.preventDefault())}),m.nrm(4,"i",4),m.k0s(),m.j41(5,"ul",5),m.nI1(6,"translate"),m.DNE(7,f,3,3,"li",6),m.k0s()()}if(2&_){const S=m.XpG();m.R7$(),m.Y8G("title",m.bMT(2,4,"nav.language")),m.BMQ("aria-label",m.bMT(3,6,"nav.language")),m.R7$(4),m.BMQ("aria-label",m.bMT(6,8,"nav.language")),m.R7$(2),m.Y8G("ngForOf",S.translate.getLangs())}}let E=(()=>{class _{constructor(S,R,T){this.el=S,this.translate=R,this.localeService=T}ngOnInit(){this.activeLangs=e.c.languages.filter(S=>!0===S.active),this.moreThanOneLanguage=this.activeLangs.length>1,this.moreThanOneLanguage||this.el.nativeElement.parentElement.classList.add("d-none")}currentLangLabel(){return this.activeLangs.find(S=>S.code===this.translate.currentLang).label}langLabel(S){return this.activeLangs.find(R=>R.code===S).label}useLang(S){this.localeService.setCurrentLanguageCode(S),this.localeService.refreshAfterChangeLanguage()}static{this.\u0275fac=function(R){return new(R||_)(m.rXU(m.aKT),m.rXU(u.c$),m.rXU(h.iH))}}static{this.\u0275cmp=m.VBU({type:_,selectors:[["ds-base-lang-switch"]],standalone:!0,features:[m.aNF],decls:1,vars:1,consts:[["langSelect",""],["ngbDropdown","","class","navbar-nav","display","dynamic","placement","bottom-right",4,"ngIf"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"navbar-nav"],["href","javascript:void(0);","role","menuitem","aria-controls","language-menu-list","aria-haspopup","menu","data-toggle","dropdown","ngbDropdownToggle","","data-test","lang-switch","tabindex","0",3,"click","title"],[1,"fas","fa-globe-asia","fa-lg","fa-fw"],["ngbDropdownMenu","","id","language-menu-list","role","menu",1,"dropdown-menu"],["class","dropdown-item","tabindex","0","role","menuitem",3,"active","keyup.enter","click",4,"ngFor","ngForOf"],["tabindex","0","role","menuitem",1,"dropdown-item",3,"keyup.enter","click"]],template:function(R,T){1&R&&m.DNE(0,v,8,10,"div",1),2&R&&m.Y8G("ngIf",T.moreThanOneLanguage)},dependencies:[i.bT,t.zH,t.tg,t.do,t.U0,i.pM,u.h,u.D9],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropdown-toggle[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}.dropdown-toggle[_ngcontent-%COMP%]:hover, .dropdown-toggle[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer}"]})}}return _})()},28068:(F,b,n)=>{"use strict";n.d(b,{n:()=>m});var i=n(8886),u=(n(31580),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{getComponentName(){return"LangSwitchComponent"}importThemedComponent(E){return n(97394)(`./${E}/app/shared/lang-switch/lang-switch.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,31580))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-lang-switch"]],standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},98776:(F,b,n)=>{"use strict";n.d(b,{E:()=>m});var i=n(60177),t=n(25488),u=n(54438);const e=f=>({"visually-hidden":f});function h(f,v){if(1&f&&(u.j41(0,"div",2),u.EFF(1),u.k0s()),2&f){const E=v.$implicit;u.R7$(),u.JRh(E)}}let m=(()=>{class f{constructor(E){this.liveRegionService=E}ngOnInit(){this.isVisible=this.liveRegionService.getLiveRegionVisibility(),this.messages$=this.liveRegionService.getMessages$()}static{this.\u0275fac=function(_){return new(_||f)(u.rXU(t.A))}}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-live-region"]],standalone:!0,features:[u.aNF],decls:3,vars:6,consts:[["aria-live","assertive","role","log","aria-relevant","additions","aria-atomic","true",1,"live-region",3,"ngClass"],["class","live-region-message",4,"ngFor","ngForOf"],[1,"live-region-message"]],template:function(_,C){1&_&&(u.j41(0,"div",0),u.DNE(1,h,2,1,"div",1),u.nI1(2,"async"),u.k0s()),2&_&&(u.Y8G("ngClass",u.eq3(4,e,!C.isVisible)),u.R7$(),u.Y8G("ngForOf",u.bMT(2,2,C.messages$)))},dependencies:[i.YU,i.pM,i.Jj],styles:[".live-region[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;padding-left:60px;height:90px;line-height:18px;color:var(--bs-white);background-color:var(--bs-dark);opacity:.94;z-index:var(--ds-live-region-z-index)}"]})}}return f})()},25488:(F,b,n)=>{"use strict";n.d(b,{A:()=>h});var i=n(84412),t=n(88280),u=n(54438),e=n(30164);let h=(()=>{class m{constructor(v){this.uuidService=v,this.messageTimeOutDurationMs=t.c.liveRegion.messageTimeOutDurationMs,this.messages=[],this.messages$=new i.t([]),this.liveRegionIsVisible=t.c.liveRegion.isVisible}getMessages(){return this.messages.map(v=>v.message)}getMessages$(){return this.messages$}addMessage(v){const E=this.uuidService.generate();return this.messages.push({message:v,uuid:E}),setTimeout(()=>this.clearMessageByUUID(E),this.messageTimeOutDurationMs),this.emitCurrentMessages(),E}clear(){this.messages=[],this.emitCurrentMessages()}clearMessageByUUID(v){const E=this.messages.findIndex(_=>_.uuid===v);-1!==E&&(this.messages.splice(E,1),this.emitCurrentMessages())}emitCurrentMessages(){this.messages$.next(this.getMessages())}getLiveRegionVisibility(){return this.liveRegionIsVisible}setLiveRegionVisibility(v){this.liveRegionIsVisible=v}getMessageTimeOutMs(){return this.messageTimeOutDurationMs}setMessageTimeOutMs(v){this.messageTimeOutDurationMs=v}static{this.\u0275fac=function(E){return new(E||m)(u.KVO(e.v))}}static{this.\u0275prov=u.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},82394:(F,b,n)=>{"use strict";n.d(b,{v:()=>m});var i=n(82522),t=n(8886),u=n(54438);const e=["*"];function h(f,v){}let m=(()=>{class f extends t.J{constructor(E,_){super(E,_),this.cdr=E,this.themeService=_,this.inAndOutputNames=["message","showMessage","spinner"]}getComponentName(){return"LoadingComponent"}importThemedComponent(E){return n(54512)(`./${E}/app/shared/loading/loading.component`)}importUnthemedComponent(){return n.e(2076).then(n.bind(n,32280))}static{this.\u0275fac=function(_){return new(_||f)(u.rXU(u.gRc),u.rXU(i.Fs))}}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-loading"]],inputs:{message:"message",showMessage:"showMessage",spinner:"spinner"},standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},91956:(F,b,n)=>{"use strict";n.d(b,{u:()=>m});var i=n(60177),t=n(54438),e=(n(52027),n(96756));function h(f,v){1&f&&t.eu8(0)}let m=(()=>{class f{constructor(E){this.injector=E}ngOnInit(){this.objectInjector=t.zZn.create({providers:[{provide:"authMethodProvider",useFactory:()=>this.authMethod,deps:[]},{provide:"isStandalonePage",useFactory:()=>this.isStandalonePage,deps:[]}],parent:this.injector})}getAuthMethodContent(){return(0,e.HF)(this.authMethod.authMethodType)}static{this.\u0275fac=function(_){return new(_||f)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["ds-log-in-container"]],inputs:{authMethod:"authMethod",isStandalonePage:"isStandalonePage"},standalone:!0,features:[t.aNF],decls:1,vars:2,consts:[[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(_,C){1&_&&t.DNE(0,h,1,0,"ng-container",0),2&_&&t.Y8G("ngComponentOutlet",C.getAuthMethodContent())("ngComponentOutletInjector",C.objectInjector)},dependencies:[i.OI],styles:["[_nghost-%COMP%]     .card{margin-bottom:var(--ds-submission-sections-margin-bottom);overflow:unset}.section-focus[_ngcontent-%COMP%]{border-radius:var(--bs-border-radius);box-shadow:var(--bs-btn-focus-box-shadow)}[_nghost-%COMP%]     .card:first-of-type{border-bottom:var(--bs-card-border-width) solid var(--bs-card-border-color)!important;border-bottom-left-radius:var(--bs-card-border-radius)!important;border-bottom-right-radius:var(--bs-card-border-radius)!important}[_nghost-%COMP%]     .card-header button{box-shadow:none!important;width:100%}"]})}}return f})()},38790:(F,b,n)=>{"use strict";n.r(b),n.d(b,{LogInComponent:()=>A});var i=n(60177),t=n(25499),u=n(96354),e=n(67116),h=n(38169),m=n(82777),f=n(82394),v=n(91956),E=n(96756),_=n(54438);function C(p,L){1&p&&_.nrm(0,"ds-loading",2)}function S(p,L){1&p&&_.nrm(0,"div",7)}function R(p,L){if(1&p&&(_.qex(0),_.nrm(1,"ds-log-in-container",5),_.DNE(2,S,1,0,"div",6),_.bVm()),2&p){const D=L.$implicit,w=L.last,M=_.XpG(2);_.R7$(),_.Y8G("authMethod",D)("isStandalonePage",M.isStandalonePage),_.R7$(),_.Y8G("ngIf",!w)}}function T(p,L){if(1&p&&(_.j41(0,"div",3),_.DNE(1,R,3,3,"ng-container",4),_.nI1(2,"async"),_.k0s()),2&p){const D=_.XpG();_.R7$(),_.Y8G("ngForOf",_.bMT(2,1,D.authMethods))}}let A=(()=>{class p{constructor(D,w){this.store=D,this.authService=w}ngOnInit(){this.authMethods=this.store.pipe((0,t.Lt)(h.hx),(0,u.T)(D=>D.filter(w=>void 0!==(0,E.HF)(w.authMethodType)).sort((w,M)=>w.position-M.position))),this.loading=this.store.pipe((0,t.Lt)(h.VV)),this.isAuthenticated=this.store.pipe((0,t.Lt)(h.wR)),this.store.pipe((0,t.Lt)(h.H8)).subscribe(D=>{(0,m.a4)(D)&&!this.isStandalonePage&&this.authService.clearRedirectUrl()})}static{this.\u0275fac=function(w){return new(w||p)(_.rXU(t.il),_.rXU(e.uR))}}static{this.\u0275cmp=_.VBU({type:p,selectors:[["ds-base-log-in"]],inputs:{isStandalonePage:"isStandalonePage"},standalone:!0,features:[_.aNF],decls:6,vars:10,consts:[["class","m-5",4,"ngIf"],["class","px-4 py-3 mx-auto login-container",4,"ngIf"],[1,"m-5"],[1,"px-4","py-3","mx-auto","login-container"],[4,"ngFor","ngForOf"],[3,"authMethod","isStandalonePage"],["class","dropdown-divider my-2",4,"ngIf"],[1,"dropdown-divider","my-2"]],template:function(w,M){1&w&&(_.DNE(0,C,1,0,"ds-loading",0),_.nI1(1,"async"),_.nI1(2,"async"),_.DNE(3,T,3,3,"div",1),_.nI1(4,"async"),_.nI1(5,"async")),2&w&&(_.Y8G("ngIf",_.bMT(1,2,M.loading)||_.bMT(2,4,M.isAuthenticated)),_.R7$(3),_.Y8G("ngIf",!0!==_.bMT(4,6,M.loading)&&!0!==_.bMT(5,8,M.isAuthenticated)))},dependencies:[i.bT,f.v,i.pM,v.u,i.Jj],styles:[".login-container[_ngcontent-%COMP%]{max-width:350px}a[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],changeDetection:0})}}return p})()},96756:(F,b,n)=>{"use strict";n.d(b,{HF:()=>ne});var i=n(2044),t=n(25499),u=n(41780),e=n(96697),h=n(67116),f=(n(52027),n(38169)),v=n(1676),E=n(45663),_=n(82777),C=n(54438),S=n(59752);let R=(()=>{class fe{constructor(ce,Te,be,me,re,Ee){this.injectedAuthMethodModel=ce,this.isStandalonePage=Te,this._window=be,this.authService=me,this.hardRedirectService=re,this.store=Ee,this.authMethod=ce}ngOnInit(){this.isAuthenticated=this.store.pipe((0,t.Lt)(f.wR)),this.loading=this.store.pipe((0,t.Lt)(f.VV)),this.location=decodeURIComponent(this.injectedAuthMethodModel.location)}redirectToExternalProvider(){this.authService.getRedirectUrl().pipe((0,e.s)(1)).subscribe(ce=>{this.isStandalonePage?(0,_.Im)(ce)&&(ce="/"):ce=this.hardRedirectService.getCurrentRoute();const Te=new E.t(this._window.nativeWindow.origin,ce).toString();let be=this.location;const re=/\?redirectUrl=(.*)/g.exec(this.location),Ee=re&&re[1]?re[1]:null;(0,_.Pe)(Ee)&&Ee!==Te&&(be=this.location.replace(/\?redirectUrl=(.*)/g,`?redirectUrl=${Te}`)),this.hardRedirectService.redirect(be)})}getButtonLabel(){return`login.form.${this.authMethod.authMethodType}`}static{this.\u0275fac=function(Te){return new(Te||fe)(C.rXU("authMethodProvider"),C.rXU("isStandalonePage"),C.rXU(v.lc),C.rXU(h.uR),C.rXU(S.$),C.rXU(t.il))}}static{this.\u0275cmp=C.VBU({type:fe,selectors:[["ds-log-in-external-provider"]],standalone:!0,features:[C.aNF],decls:4,vars:3,consts:[[1,"btn","btn-lg","btn-primary","w-100","text-white",3,"click"],[1,"fas","fa-sign-in-alt"]],template:function(Te,be){1&Te&&(C.j41(0,"button",0),C.bIt("click",function(){return be.redirectToExternalProvider()}),C.nrm(1,"i",1),C.EFF(2),C.nI1(3,"translate"),C.k0s()),2&Te&&(C.R7$(2),C.SpI(" ",C.bMT(3,1,be.getButtonLabel()),"\n"))},dependencies:[u.h,u.D9]})}}return fe})();var T=n(60177),A=n(89417),p=n(7901),L=n(44668),D=n(84572),w=n(96354),M=n(5964),x=n(69799),j=n(59836),U=n(65007),$=n(3970),k=n(50332),K=n(60456),X=n(75465);const G=fe=>[fe];function q(fe,se){if(1&fe&&(C.j41(0,"div",8),C.EFF(1),C.nI1(2,"async"),C.nI1(3,"translate"),C.k0s()),2&fe){const ce=C.XpG();C.Y8G("@fadeOut",void 0),C.R7$(),C.JRh(C.bMT(3,4,C.bMT(2,2,ce.error)))}}function z(fe,se){if(1&fe&&(C.j41(0,"div",9),C.EFF(1),C.nI1(2,"async"),C.nI1(3,"translate"),C.k0s()),2&fe){const ce=C.XpG();C.Y8G("@fadeOut",void 0),C.R7$(),C.JRh(C.bMT(3,4,C.bMT(2,2,ce.message)))}}function te(fe,se){if(1&fe&&(C.j41(0,"a",12),C.nI1(1,"dsBrowserOnly"),C.EFF(2),C.nI1(3,"translate"),C.k0s()),2&fe){const ce=C.XpG(2);C.Y8G("routerLink",C.eq3(7,G,ce.getRegisterRoute())),C.BMQ("data-test",C.bMT(1,3,"register")),C.R7$(2),C.JRh(C.bMT(3,5,"login.form.new-user"))}}function Z(fe,se){if(1&fe&&(C.j41(0,"a",12),C.nI1(1,"dsBrowserOnly"),C.EFF(2),C.nI1(3,"translate"),C.k0s()),2&fe){const ce=C.XpG(2);C.Y8G("routerLink",C.eq3(7,G,ce.getForgotRoute())),C.BMQ("data-test",C.bMT(1,3,"forgot")),C.R7$(2),C.JRh(C.bMT(3,5,"login.form.forgot-password"))}}function J(fe,se){if(1&fe&&(C.qex(0),C.j41(1,"div",10),C.DNE(2,te,4,9,"a",11),C.nI1(3,"async"),C.DNE(4,Z,4,9,"a",11),C.nI1(5,"async"),C.k0s(),C.bVm()),2&fe){const ce=C.XpG();C.R7$(2),C.Y8G("ngIf",C.bMT(3,2,ce.canRegister$)),C.R7$(2),C.Y8G("ngIf",C.bMT(5,4,ce.canForgot$))}}const ee=new Map([[i.Q.Password,(()=>{class fe{constructor(ce,Te,be,me,re,Ee,De){this.injectedAuthMethodModel=ce,this.isStandalonePage=Te,this.authService=be,this.hardRedirectService=me,this.formBuilder=re,this.store=Ee,this.authorizationService=De,this.hasError=!1,this.hasMessage=!1,this.authMethod=ce}ngOnInit(){this.form=this.formBuilder.group({email:["",A.k0.required],password:["",A.k0.required]}),this.error=this.store.pipe((0,t.Lt)(f.H8),(0,w.T)(ce=>(this.hasError=(0,_.hj)(ce),ce))),this.message=this.store.pipe((0,t.Lt)(f.dx),(0,w.T)(ce=>(this.hasMessage=(0,_.hj)(ce),ce))),this.canRegister$=this.authorizationService.isAuthorized($._.EPersonRegistration).pipe((0,L.t)({refCount:!1,bufferSize:1})),this.canForgot$=this.authorizationService.isAuthorized($._.EPersonForgotPassword).pipe((0,L.t)({refCount:!1,bufferSize:1})),this.canShowDivider$=(0,D.z)([this.canRegister$,this.canForgot$]).pipe((0,w.T)(([ce,Te])=>ce||Te),(0,M.p)(Boolean))}getRegisterRoute(){return(0,x.Do)()}getForgotRoute(){return(0,x.al)()}resetErrorOrMessage(){(this.hasError||this.hasMessage)&&(this.store.dispatch(new j.eh),this.hasError=!1,this.hasMessage=!1)}submit(){this.resetErrorOrMessage();const ce=this.form.get("email").value,Te=this.form.get("password").value;ce.trim(),Te.trim(),this.isStandalonePage?this.authService.setRedirectUrlIfNotSet("/"):this.authService.setRedirectUrl(this.hardRedirectService.getCurrentRoute()),this.store.dispatch(new j.Sn(ce,Te)),this.form.reset()}static{this.\u0275fac=function(Te){return new(Te||fe)(C.rXU("authMethodProvider"),C.rXU("isStandalonePage"),C.rXU(h.uR),C.rXU(S.$),C.rXU(A.ze),C.rXU(t.il),C.rXU(U.AuthorizationDataService))}}static{this.\u0275cmp=C.VBU({type:fe,selectors:[["ds-log-in-password"]],standalone:!0,features:[C.aNF],decls:20,vars:35,consts:[["novalidate","",1,"form-login",3,"ngSubmit","formGroup"],["autocomplete","username","autofocus","","formControlName","email","required","","type","email",1,"form-control","form-control-lg","position-relative",3,"placeholder"],["autocomplete","current-password","formControlName","password","required","","type","password",1,"form-control","form-control-lg","position-relative","mb-3",3,"placeholder"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-info","role","alert",4,"ngIf"],["type","submit",1,"btn","btn-lg","btn-primary","w-100",3,"dsBtnDisabled"],[1,"fas","fa-sign-in-alt"],[4,"ngIf"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-info"],[1,"mt-2"],["class","dropdown-item","role","menuitem",3,"routerLink",4,"ngIf"],["role","menuitem",1,"dropdown-item",3,"routerLink"]],template:function(Te,be){1&Te&&(C.j41(0,"form",0),C.bIt("ngSubmit",function(){return be.submit()}),C.nrm(1,"input",1),C.nI1(2,"translate"),C.nI1(3,"translate"),C.nI1(4,"dsBrowserOnly"),C.nrm(5,"input",2),C.nI1(6,"translate"),C.nI1(7,"translate"),C.nI1(8,"dsBrowserOnly"),C.DNE(9,q,4,6,"div",3),C.nI1(10,"async"),C.DNE(11,z,4,6,"div",4),C.nI1(12,"async"),C.j41(13,"button",5),C.nI1(14,"dsBrowserOnly"),C.nrm(15,"i",6),C.EFF(16),C.nI1(17,"translate"),C.k0s()(),C.DNE(18,J,6,6,"ng-container",7),C.nI1(19,"async")),2&Te&&(C.Y8G("formGroup",be.form),C.R7$(),C.FS9("placeholder",C.bMT(2,13,"login.form.email")),C.BMQ("aria-label",C.bMT(3,15,"login.form.email"))("data-test",C.bMT(4,17,"email")),C.R7$(4),C.FS9("placeholder",C.bMT(6,19,"login.form.password")),C.BMQ("aria-label",C.bMT(7,21,"login.form.password"))("data-test",C.bMT(8,23,"password")),C.R7$(4),C.Y8G("ngIf",C.bMT(10,25,be.error)&&be.hasError),C.R7$(2),C.Y8G("ngIf",C.bMT(12,27,be.message)&&be.hasMessage),C.R7$(2),C.Y8G("dsBtnDisabled",!be.form.valid),C.BMQ("data-test",C.bMT(14,29,"login-button")),C.R7$(3),C.SpI(" ",C.bMT(17,31,"login.form.submit"),""),C.R7$(2),C.Y8G("ngIf",C.bMT(19,33,be.canShowDivider$)))},dependencies:[A.YN,A.qT,A.me,A.BC,A.cb,A.YS,A.X1,A.j4,A.JD,T.bT,p.Wk,T.Jj,u.h,u.D9,X.L,K.A],styles:[".form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],data:{animation:[k.Xn]}})}}return fe})()],[i.Q.Shibboleth,R],[i.Q.Oidc,R],[i.Q.Orcid,R],[i.Q.Saml,R]]);function ne(fe){return ee.get(fe)}},68900:(F,b,n)=>{"use strict";n.d(b,{W:()=>m});var i=n(8886),u=(n(38790),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["isStandalonePage"]}getComponentName(){return"LogInComponent"}importThemedComponent(E){return n(43800)(`./${E}/app/shared/log-in/log-in.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,38790))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-log-in"]],inputs:{isStandalonePage:"isStandalonePage"},standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},61980:(F,b,n)=>{"use strict";n.d(b,{y:()=>C});var i=n(60177),t=n(25499),u=n(41780),e=n(59836),h=n(38169),m=n(50332),f=n(75465),v=n(54438),E=n(7901);function _(S,R){if(1&S&&(v.j41(0,"div",4),v.EFF(1),v.nI1(2,"async"),v.k0s()),2&S){const T=v.XpG();v.Y8G("@fadeOut",void 0),v.R7$(),v.JRh(v.bMT(2,2,T.error))}}let C=(()=>{class S{constructor(T,A){this.router=T,this.store=A}ngOnInit(){this.error=this.store.pipe((0,t.Lt)(h.F8))}home(){this.router.navigate(["/home"])}logOut(){this.store.dispatch(new e.du)}static{this.\u0275fac=function(A){return new(A||S)(v.rXU(E.Ix),v.rXU(t.il))}}static{this.\u0275cmp=v.VBU({type:S,selectors:[["ds-log-out"]],standalone:!0,features:[v.aNF],decls:8,vars:9,consts:[[1,"form-login","px-4"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","menuitem",1,"btn","btn-lg","btn-primary","w-100",3,"click"],[1,"fas","fa-sign-out-alt"],["role","alert",1,"alert","alert-danger"]],template:function(A,p){1&A&&(v.j41(0,"div",0),v.DNE(1,_,3,4,"div",1),v.nI1(2,"async"),v.j41(3,"button",2),v.nI1(4,"dsBrowserOnly"),v.bIt("click",function(){return p.logOut()}),v.nrm(5,"i",3),v.EFF(6),v.nI1(7,"translate"),v.k0s()()),2&A&&(v.R7$(),v.Y8G("ngIf",v.bMT(2,3,p.error)),v.R7$(2),v.BMQ("data-test",v.bMT(4,5,"logout-button")),v.R7$(3),v.SpI(" ",v.bMT(7,7,"logout.form.submit"),""))},dependencies:[i.bT,i.Jj,u.h,u.D9,f.L],styles:[".form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],data:{animation:[m.Xn]}})}}return S})()},19340:(F,b,n)=>{"use strict";n.d(b,{D:()=>i});var i=function(t){return t.ADMIN="admin-sidebar",t.PUBLIC="public",t.DSO_EDIT="dso-edit",t}(i||{})},34237:(F,b,n)=>{"use strict";n.d(b,{x:()=>i});var i=function(t){return t[t.TEXT=0]="TEXT",t[t.LINK=1]="LINK",t[t.ALTMETRIC=2]="ALTMETRIC",t[t.SEARCH=3]="SEARCH",t[t.ONCLICK=4]="ONCLICK",t[t.EXTERNAL=5]="EXTERNAL",t}(i||{})},6446:(F,b,n)=>{"use strict";n.d(b,{a:()=>X});var i=n(54438),t=n(84412),u=n(23294),e=n(25558),h=n(82777),m=n(39548),f=n(60177),v=n(7901),E=n(41780),_=n(34237);const S=G=>({disabled:G});let R=(()=>{class G{constructor(z){this.item=z}ngOnInit(){this.hasLink=(0,h.hj)(this.item.href)}get href(){if(this.hasLink)return this.item.href}static{this.\u0275fac=function(te){return new(te||G)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:G,selectors:[["ds-external-link-menu-item"]],standalone:!0,features:[i.aNF],decls:4,vars:11,consts:[["role","menuitem","routerLinkActive","active",1,"ds-menu-item",3,"click","ngClass","href","title"]],template:function(te,Z){1&te&&(i.j41(0,"a",0),i.nI1(1,"translate"),i.bIt("click",function(Q){return Q.stopPropagation()}),i.EFF(2),i.nI1(3,"translate"),i.k0s()),2&te&&(i.Y8G("ngClass",i.eq3(9,S,!Z.hasLink))("href",Z.href,i.B4B)("title",i.bMT(1,5,Z.item.text)),i.BMQ("aria-disabled",!Z.hasLink),i.R7$(2),i.JRh(i.bMT(3,7,Z.item.text)))},dependencies:[f.YU,E.h,E.D9,v.wQ],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return G})();const A=G=>({disabled:G});let p=(()=>{class G{constructor(z,te){this.router=te,this.item=z}ngOnInit(){this.hasLink=(0,h.hj)(this.item.link)}getRouterLink(){if(this.hasLink)return this.item.link}navigate(z){z.preventDefault(),!this.item.disabled&&this.getRouterLink()&&this.router.navigate([this.getRouterLink()]),z.stopPropagation()}static{this.\u0275fac=function(te){return new(te||G)(i.rXU("itemModelProvider"),i.rXU(v.Ix))}}static{this.\u0275cmp=i.VBU({type:G,selectors:[["ds-link-menu-item"]],standalone:!0,features:[i.aNF],decls:3,vars:10,consts:[["role","menuitem","href","javascript:void(0);",1,"ds-menu-item",3,"click","keyup.space","keydown.enter","ngClass","routerLink","queryParams"]],template:function(te,Z){1&te&&(i.j41(0,"a",0),i.bIt("click",function(Q){return Q.stopPropagation()})("keyup.space",function(Q){return Z.navigate(Q)})("keydown.enter",function(Q){return Z.navigate(Q)}),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&te&&(i.Y8G("ngClass",i.eq3(8,A,!Z.hasLink||Z.item.disabled))("routerLink",Z.getRouterLink())("queryParams",Z.item.queryParams),i.BMQ("aria-disabled",!Z.hasLink||Z.item.disabled)("data-test","link-menu-item."+Z.item.text),i.R7$(),i.JRh(i.bMT(2,6,Z.item.text)))},dependencies:[f.YU,v.Wk,E.h,E.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return G})();function D(G,q){if(1&G){const z=i.RV6();i.j41(0,"a",2),i.nI1(1,"translate"),i.bIt("click",function(Z){i.eBV(z);const J=i.XpG();return i.Njj(J.activate(Z))})("keyup.space",function(Z){i.eBV(z);const J=i.XpG();return i.Njj(J.activate(Z))})("keyup.enter",function(Z){i.eBV(z);const J=i.XpG();return i.Njj(J.activate(Z))}),i.EFF(2),i.nI1(3,"translate"),i.k0s()}if(2&G){const z=i.XpG();i.Y8G("title",i.bMT(1,3,z.item.text)),i.BMQ("data-test",z.item.text),i.R7$(2),i.JRh(i.bMT(3,5,z.item.text))}}function w(G,q){if(1&G&&(i.j41(0,"span",3),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&G){const z=i.XpG();i.BMQ("data-test",z.item.text),i.R7$(),i.JRh(i.bMT(2,2,z.item.text))}}let M=(()=>{class G{constructor(z){this.item=z}activate(z){this.item.disabled||(z.preventDefault(),this.item.function(),z.stopPropagation())}static{this.\u0275fac=function(te){return new(te||G)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:G,selectors:[["ds-onclick-menu-item"]],standalone:!0,features:[i.aNF],decls:2,vars:2,consts:[["class","ds-menu-item","role","menuitem","routerLinkActive","active","href","javascript:void(0);",3,"title","click","keyup.space","keyup.enter",4,"ngIf"],["class","nav-item nav-link disabled",4,"ngIf"],["role","menuitem","routerLinkActive","active","href","javascript:void(0);",1,"ds-menu-item",3,"click","keyup.space","keyup.enter","title"],[1,"nav-item","nav-link","disabled"]],template:function(te,Z){1&te&&i.DNE(0,D,4,7,"a",0)(1,w,3,4,"span",1),2&te&&(i.Y8G("ngIf",!Z.item.disabled),i.R7$(),i.Y8G("ngIf",Z.item.disabled))},dependencies:[f.bT,E.h,E.D9,v.wQ],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}","a[_ngcontent-%COMP%]{cursor:pointer}"]})}}return G})(),j=(()=>{class G{constructor(z){this.item=z}static{this.\u0275fac=function(te){return new(te||G)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:G,selectors:[["ds-text-menu-item"]],standalone:!0,features:[i.aNF],decls:3,vars:5,consts:[[1,"ds-menu-item"]],template:function(te,Z){1&te&&(i.j41(0,"span",0),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&te&&(i.AVh("disabled",Z.item.disabled),i.R7$(),i.JRh(i.bMT(2,3,Z.item.text)))},dependencies:[E.h,E.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return G})();const U=new Map;U.set(_.x.EXTERNAL,R),U.set(_.x.LINK,p),U.set(_.x.ONCLICK,M),U.set(_.x.TEXT,j);class K{constructor(){this.shouldPersistOnRouteChange=!1}}let X=(()=>{class G{constructor(z,te,Z){this.section=z,this.menuService=te,this.injector=Z,this.active$=new t.t(!1),this.sectionMap$=new t.t(new Map),this.subs=[]}ngOnInit(){this.subs.push(this.menuService.isSectionActive(this.menuID,this.section.id).pipe((0,u.F)()).subscribe(z=>{this.active$.value!==z&&this.active$.next(z)})),this.initializeInjectorData()}toggleSection(z){z.preventDefault(),this.section.model?.disabled||this.menuService.toggleActiveSection(this.menuID,this.section.id)}activateSection(z,te=!0){te&&z.preventDefault(),this.section.model?.disabled||this.menuService.activateSection(this.menuID,this.section.id)}deactivateSection(z,te=!0){te&&z.preventDefault(),this.menuService.deactivateSection(this.menuID,this.section.id)}initializeInjectorData(){this.updateSectionMap(this.section.id,this.getItemModelInjector(this.section.model),this.getMenuItemComponent(this.section.model)),this.subSections$=this.menuService.getSubSectionsByParentID(this.menuID,this.section.id),this.subs.push(this.subSections$.pipe((0,e.n)(z=>z)).subscribe(z=>{this.updateSectionMap(z.id,this.getItemModelInjector(z.model),this.getMenuItemComponent(z.model))}))}updateSectionMap(z,te,Z){const J=this.sectionMap$.getValue();J.set(z,{injector:te,component:Z}),this.sectionMap$.next(J)}getMenuItemComponent(z){return(0,h.Tn)(z)&&(z=this.section.model),function k(G){return U.get(G)}(z.type)}getItemModelInjector(z){return(0,h.Tn)(z)&&(z=this.section.model),i.zZn.create({providers:[{provide:"itemModelProvider",useFactory:()=>z,deps:[]}],parent:this.injector})}ngOnDestroy(){this.subs.filter(z=>(0,h.a4)(z)).forEach(z=>z.unsubscribe())}static{this.\u0275fac=function(te){return new(te||G)(i.rXU(K),i.rXU(m.$),i.rXU(i.zZn))}}static{this.\u0275cmp=i.VBU({type:G,selectors:[["ds-menu-section"]],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(te,Z){},encapsulation:2})}}return G})()},54476:(F,b,n)=>{"use strict";n.d(b,{C0:()=>A,F$:()=>u,FH:()=>T,Hw:()=>R,JG:()=>m,JK:()=>v,PM:()=>_,YN:()=>S,cf:()=>p,eq:()=>e,ie:()=>f,j$:()=>L,jZ:()=>t,oh:()=>E,sP:()=>h,tU:()=>D});var i=n(91e3);const t={COLLAPSE_MENU:(0,i.N)("dspace/menu/COLLAPSE_MENU"),TOGGLE_MENU:(0,i.N)("dspace/menu/TOGGLE_MENU"),EXPAND_MENU:(0,i.N)("dspace/menu/EXPAND_MENU"),SHOW_MENU:(0,i.N)("dspace/menu/SHOW_MENU"),HIDE_MENU:(0,i.N)("dspace/menu/HIDE_MENU"),REINIT_MENUS:(0,i.N)("dspace/menu/REINIT_MENUS"),COLLAPSE_MENU_PREVIEW:(0,i.N)("dspace/menu/COLLAPSE_MENU_PREVIEW"),EXPAND_MENU_PREVIEW:(0,i.N)("dspace/menu/EXPAND_MENU_PREVIEW"),ADD_SECTION:(0,i.N)("dspace/menu-section/ADD_SECTION"),REMOVE_SECTION:(0,i.N)("dspace/menu-section/REMOVE_SECTION"),SHOW_SECTION:(0,i.N)("dspace/menu-section/SHOW_SECTION"),HIDE_SECTION:(0,i.N)("dspace/menu-section/HIDE_SECTION"),ACTIVATE_SECTION:(0,i.N)("dspace/menu-section/ACTIVATE_SECTION"),DEACTIVATE_SECTION:(0,i.N)("dspace/menu-section/DEACTIVATE_SECTION"),TOGGLE_ACTIVE_SECTION:(0,i.N)("dspace/menu-section/TOGGLE_ACTIVE_SECTION")};class u{constructor(M){this.type=t.COLLAPSE_MENU,this.menuID=M}}class e{constructor(M){this.type=t.EXPAND_MENU,this.menuID=M}}class h{constructor(M){this.type=t.TOGGLE_MENU,this.menuID=M}}class m{constructor(M){this.type=t.SHOW_MENU,this.menuID=M}}class f{constructor(M){this.type=t.HIDE_MENU,this.menuID=M}}class v{constructor(M){this.type=t.COLLAPSE_MENU_PREVIEW,this.menuID=M}}class E{constructor(M){this.type=t.EXPAND_MENU_PREVIEW,this.menuID=M}}class _{constructor(){this.type=t.REINIT_MENUS}}class C{constructor(M,x){this.menuID=M,this.id=x}}class S extends C{constructor(M,x){super(M,x.id),this.type=t.ADD_SECTION,this.section=x}}class R extends C{constructor(M,x){super(M,x),this.type=t.REMOVE_SECTION}}class T extends C{constructor(M,x){super(M,x),this.type=t.HIDE_SECTION}}class A extends C{constructor(M,x){super(M,x),this.type=t.SHOW_SECTION}}class p extends C{constructor(M,x){super(M,x),this.type=t.ACTIVATE_SECTION}}class L extends C{constructor(M,x){super(M,x),this.type=t.DEACTIVATE_SECTION}}class D extends C{constructor(M,x){super(M,x),this.type=t.TOGGLE_ACTIVE_SECTION}}},30458:(F,b,n)=>{"use strict";n.d(b,{Z:()=>me});var i=n(54438),t=n(84412),u=n(7673),e=n(25558),h=n(73028),m=n(96354),f=n(23294),v=n(65007),E=n(3970),_=n(82777),C=n(82522),S=n(39548),R=n(9901),T=n(99452),A=n(8886);n(58499);const L=["*"];function D(re,Ee){}let w=(()=>{class re extends A.J{getComponentName(){return"ExpandableNavbarSectionComponent"}importThemedComponent(De){return n(88289)(`./${De}/app/navbar/expandable-navbar-section/expandable-navbar-section.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,58499))}static{this.\u0275fac=(()=>{let De;return function(ht){return(De||(De=i.xGo(re)))(ht||re)}})()}static{this.\u0275cmp=i.VBU({type:re,selectors:[["ds-expandable-navbar-section"]],standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:L,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(tt,ht){1&tt&&(i.NAR(),i.DNE(0,D,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return re})();var M=n(26821),x=n(60177),j=n(58003),U=n(41780),$=n(19340),k=n(6446),K=n(60456),X=n(7901);function G(re,Ee){if(1&re&&i.nrm(0,"i"),2&re){const De=i.XpG(2).$implicit;i.ZvI("fas fa-",De.icon," fa-fw")}}function q(re,Ee){1&re&&i.nrm(0,"i",11)}function z(re,Ee){if(1&re&&(i.j41(0,"div",9),i.DNE(1,G,1,3,"i",10)(2,q,1,0,"ng-template",null,0,i.C5r),i.k0s()),2&re){const De=i.sdS(3),tt=i.XpG().$implicit;i.R7$(),i.Y8G("ngIf",tt.icon)("ngIfElse",De)}}function te(re,Ee){1&re&&i.eu8(0)}function Z(re,Ee){if(1&re&&(i.j41(0,"li",6),i.DNE(1,z,4,2,"div",7),i.nI1(2,"async"),i.DNE(3,te,1,0,"ng-container",8),i.nI1(4,"async"),i.nI1(5,"async"),i.k0s()),2&re){const De=Ee.$implicit,tt=i.XpG();i.R7$(),i.Y8G("ngIf",i.bMT(2,3,tt.renderIcons$)),i.R7$(2),i.Y8G("ngComponentOutlet",i.bMT(4,5,tt.sectionMap$).get(De.id).component)("ngComponentOutletInjector",i.bMT(5,7,tt.sectionMap$).get(De.id).injector)}}let J=(()=>{class re extends k.a{constructor(De,tt,ht,Fe){super(De,tt,ht),this.menuService=tt,this.injector=ht,this.router=Fe,this.menuID=$.D.DSO_EDIT,this.itemModel=De.model}ngOnInit(){this.menuService.activateSection(this.menuID,this.section.id),super.ngOnInit(),this.renderIcons$=this.subSections$.pipe((0,m.T)(De=>De.some(tt=>(0,_.a4)(tt.icon))))}static{this.\u0275fac=function(tt){return new(tt||re)(i.rXU("sectionDataProvider"),i.rXU(S.$),i.rXU(i.zZn),i.rXU(X.Ix))}}static{this.\u0275cmp=i.VBU({type:re,selectors:[["ds-dso-edit-menu-expandable-section"]],standalone:!0,features:[i.Vt3,i.aNF],decls:10,vars:16,consts:[["spacer",""],["ngbDropdown","","container","body","placement","bottom-right",1,"dso-button-menu","mb-1"],["container","body",1,"d-flex","flex-row","flex-nowrap",3,"ngbTooltip"],["ngbDropdownToggle","",1,"btn","btn-dark","btn-sm",3,"title","dsBtnDisabled"],["ngbDropdownMenu","",1,"dso-edit-menu-dropdown"],["class","nav-item nav-link d-flex flex-row",4,"ngFor","ngForOf"],[1,"nav-item","nav-link","d-flex","flex-row"],["class","me-2",4,"ngIf"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[1,"me-2"],[3,"class",4,"ngIf","ngIfElse"],[1,"fas","fa-fw"]],template:function(tt,ht){1&tt&&(i.j41(0,"div",1)(1,"div",2),i.nI1(2,"translate"),i.j41(3,"button",3),i.nI1(4,"translate"),i.nI1(5,"translate"),i.nrm(6,"i"),i.k0s(),i.j41(7,"ul",4),i.DNE(8,Z,6,9,"li",5),i.nI1(9,"async"),i.k0s()()()),2&tt&&(i.R7$(),i.Y8G("ngbTooltip",i.bMT(2,8,ht.itemModel.text)),i.R7$(2),i.Y8G("title",i.bMT(4,10,ht.itemModel.text))("dsBtnDisabled",null==ht.section.model?null:ht.section.model.disabled),i.BMQ("aria-label",i.bMT(5,12,ht.itemModel.text)),i.R7$(3),i.ZvI("fas fa-",ht.section.icon," fa-fw"),i.R7$(2),i.Y8G("ngForOf",i.bMT(9,14,ht.subSections$)))},dependencies:[j.zH,j.tg,j.do,j.U0,j.n8,j.md,x.pM,x.bT,x.OI,U.h,U.D9,x.Jj,K.A],styles:[".btn-dark[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}.dso-button-menu[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg);color:#fff}ul.dropdown-menu[_ngcontent-%COMP%]     a{color:#fff}ul.dropdown-menu[_ngcontent-%COMP%]     a.disabled{color:var(--bs-btn-link-disabled-color)}ul.dropdown-menu[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{color:var(--bs-btn-link-disabled-color)}.dso-edit-menu-dropdown[_ngcontent-%COMP%]{max-width:min(600px,75vw)}"]})}}return re})();function Q(re,Ee){if(1&re&&(i.j41(0,"a",4),i.nrm(1,"i",5),i.j41(2,"span",6),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&re){const De=i.XpG(2);i.Y8G("routerLink",De.itemModel.link),i.R7$(),i.ZvI("fas fa-",De.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(4,5,De.itemModel.text))}}function ee(re,Ee){if(1&re&&(i.j41(0,"button",7),i.nrm(1,"i",5),i.j41(2,"span",6),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&re){const De=i.XpG(2);i.Y8G("dsBtnDisabled",!0),i.R7$(),i.ZvI("fas fa-",De.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(4,5,De.itemModel.text))}}function le(re,Ee){if(1&re&&(i.j41(0,"div",1),i.nI1(1,"translate"),i.DNE(2,Q,5,7,"a",2)(3,ee,5,7,"button",3),i.k0s()),2&re){const De=i.XpG();i.Y8G("ngbTooltip",i.bMT(1,3,De.itemModel.text)),i.R7$(2),i.Y8G("ngIf",!De.section.model.disabled),i.R7$(),i.Y8G("ngIf",De.section.model.disabled)}}function ne(re,Ee){if(1&re){const De=i.RV6();i.j41(0,"div",1),i.nI1(1,"translate"),i.j41(2,"button",8),i.bIt("click",function(ht){i.eBV(De);const Fe=i.XpG();return i.Njj(Fe.activate(ht))}),i.nrm(3,"i",5),i.j41(4,"span",6),i.EFF(5),i.nI1(6,"translate"),i.k0s()()()}if(2&re){const De=i.XpG();i.Y8G("ngbTooltip",i.bMT(1,6,De.itemModel.text)),i.R7$(2),i.Y8G("dsBtnDisabled",De.section.model.disabled),i.R7$(),i.ZvI("fas fa-",De.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(6,8,De.itemModel.text))}}let fe=(()=>{class re extends k.a{constructor(De,tt,ht){super(De,tt,ht),this.menuService=tt,this.injector=ht,this.menuID=$.D.DSO_EDIT,this.itemModel=De.model}ngOnInit(){this.hasLink=(0,_.hj)(this.itemModel?.link),this.canActivate=(0,_.hj)(this.itemModel?.function),super.ngOnInit()}activate(De){De.preventDefault(),this.itemModel.disabled||this.itemModel.function(),De.stopPropagation()}static{this.\u0275fac=function(tt){return new(tt||re)(i.rXU("sectionDataProvider"),i.rXU(S.$),i.rXU(i.zZn))}}static{this.\u0275cmp=i.VBU({type:re,selectors:[["ds-dso-edit-menu-section"]],standalone:!0,features:[i.Vt3,i.aNF],decls:2,vars:2,consts:[["class","dso-button-menu mb-1",3,"ngbTooltip",4,"ngIf"],[1,"dso-button-menu","mb-1",3,"ngbTooltip"],["class","btn btn-dark btn-sm",3,"routerLink",4,"ngIf"],["class","btn btn-dark btn-sm",3,"dsBtnDisabled",4,"ngIf"],[1,"btn","btn-dark","btn-sm",3,"routerLink"],["aria-hidden","true"],[1,"sr-only"],[1,"btn","btn-dark","btn-sm",3,"dsBtnDisabled"],[1,"btn","btn-dark","btn-sm",3,"click","dsBtnDisabled"]],template:function(tt,ht){1&tt&&i.DNE(0,le,4,5,"div",0)(1,ne,7,10,"div",0),2&tt&&(i.Y8G("ngIf",!ht.canActivate),i.R7$(),i.Y8G("ngIf",ht.canActivate))},dependencies:[x.bT,j.n8,j.md,X.Wk,U.h,U.D9,K.A],styles:[".btn-dark[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}"]})}}return re})();var se=n(81569);const ce=new Map;ce.set($.D.ADMIN,new Map),ce.get($.D.ADMIN).set(!1,new Map),ce.get($.D.ADMIN).get(!1).set(se.SS,R.g),ce.get($.D.ADMIN).set(!0,new Map),ce.get($.D.ADMIN).get(!0).set(se.SS,T.W),ce.set($.D.PUBLIC,new Map),ce.get($.D.PUBLIC).set(!1,new Map),ce.get($.D.PUBLIC).get(!1).set(se.SS,M.X),ce.get($.D.PUBLIC).set(!0,new Map),ce.get($.D.PUBLIC).get(!0).set(se.SS,w),ce.set($.D.DSO_EDIT,new Map),ce.get($.D.DSO_EDIT).set(!1,new Map),ce.get($.D.DSO_EDIT).get(!1).set(se.SS,fe),ce.get($.D.DSO_EDIT).set(!0,new Map),ce.get($.D.DSO_EDIT).get(!0).set(se.SS,J);let me=(()=>{class re{constructor(De,tt,ht,Fe,Et){this.menuService=De,this.injector=tt,this.authorizationService=ht,this.route=Fe,this.themeService=Et,this.sectionMap$=new t.t(new Map),this.subs=[]}ngOnInit(){this.activatedRouteLastChild=this.getActivatedRoute(this.route),this.menuCollapsed=this.menuService.isMenuCollapsed(this.menuID),this.menuPreviewCollapsed=this.menuService.isMenuPreviewCollapsed(this.menuID),this.menuVisible=this.menuService.isMenuVisible(this.menuID),this.sections=this.menuService.getMenuTopSections(this.menuID),this.subs.push(this.sections.pipe((0,e.n)(De=>De),(0,h.Z)(De=>De.id.includes("statistics")?this.getAuthorizedStatistics(De):(0,u.of)(De)),(0,_.VT)(),(0,e.n)(De=>this.getSectionComponent(De).pipe((0,m.T)(tt=>({section:De,component:tt})))),(0,f.F)((De,tt)=>De.section.id===tt.section.id&&De.component.prototype===tt.component.prototype)).subscribe(({section:De,component:tt})=>{const ht=this.sectionMap$.getValue();ht.set(De.id,{injector:this.getSectionDataInjector(De),component:tt}),this.sectionMap$.next(ht)}))}getActivatedRoute(De){return De.children.length>0?this.getActivatedRoute(De.firstChild):De}getAuthorizedStatistics(De){return this.activatedRouteLastChild.data.pipe((0,e.n)(tt=>this.authorizationService.isAuthorized(E._.CanViewUsageStatistics,this.getObjectUrl(tt)).pipe((0,m.T)(ht=>ht?De:{}))))}getObjectUrl(De){return(De.site?De.site:De.dso?.payload)?._links?.self?.href}toggle(De){De.preventDefault(),this.menuService.toggleMenu(this.menuID)}expand(De){De.preventDefault(),this.menuService.expandMenu(this.menuID)}collapse(De){De.preventDefault(),this.menuService.collapseMenu(this.menuID)}expandPreview(De){De.preventDefault(),this.previewToggleDebounce(()=>this.menuService.expandMenuPreview(this.menuID),100)}collapsePreview(De){De.preventDefault(),this.previewToggleDebounce(()=>this.menuService.collapseMenuPreview(this.menuID),400)}previewToggleDebounce(De,tt){(0,_.a4)(this.previewTimer)&&clearTimeout(this.previewTimer),this.previewTimer=setTimeout(De,tt)}getSectionComponent(De){return this.menuService.hasSubSections(this.menuID,De.id).pipe((0,m.T)(tt=>function be(re,Ee,De){const tt=ce.get(re).get(Ee).get(De);return(0,_.a4)(tt)?tt:ce.get(re).get(Ee).get(se.SS)}(this.menuID,tt,this.themeService.getThemeName())))}getSectionDataInjector(De){return i.zZn.create({providers:[{provide:"sectionDataProvider",useFactory:()=>De,deps:[]}],parent:this.injector})}ngOnDestroy(){this.subs.filter(De=>(0,_.a4)(De)).forEach(De=>De.unsubscribe())}static{this.\u0275fac=function(tt){return new(tt||re)(i.rXU(S.$),i.rXU(i.zZn),i.rXU(v.AuthorizationDataService),i.rXU(X.nX),i.rXU(C.Fs))}}static{this.\u0275cmp=i.VBU({type:re,selectors:[["ds-menu"]],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(tt,ht){},encapsulation:2})}}return re})()},39548:(F,b,n)=>{"use strict";n.d(b,{$:()=>j});var i=n(7901),t=n(25499),u=n(84572),e=n(96354),h=n(23294),m=n(25558),f=n(5964),v=n(96697),E=n(195),_=n(46588),C=n(82777),S=n(54476),R=n(19340),T=n(54438);function A(U,$){return(0,t.Mz)($,k=>{if((0,C.a4)(k))return k[U]})}const p=U=>U.menus,L=U=>(0,E.pc)(U,p),D=U=>(0,C.a4)(U)?U.sections:{},M=U=>U.sectionToSubsectionIndex,x=U=>A(U,M);let j=(()=>{class U{constructor(k,K,X){this.store=k,this.route=K,this.router=X}getMenu(k){return this.store.pipe((0,t.Lt)(L(k)))}getMenuTopSections(k,K=!0){return this.store.pipe((0,t.Lt)(L(k)),(0,t.Lt)(D),(0,e.T)(X=>Object.values(X)),(0,h.F)((0,_.W2)()),(0,e.T)(X=>X.filter(G=>(0,C.Tn)(G.parentID)).filter(G=>!K||G.visible)))}getSubSectionsByParentID(k,K,X=!0){return this.store.pipe((0,t.Lt)(L(k)),(0,t.Lt)(x(K)),(0,e.T)(G=>(0,C.hj)(G)?G:[]),(0,m.n)(G=>(0,u.z)(G.map(q=>this.getMenuSection(k,q)))),(0,e.T)(G=>G.filter(q=>(0,C.a4)(q)&&(!X||q.visible))))}hasSubSections(k,K){return this.store.pipe((0,t.Lt)(L(k)),(0,t.Lt)(x(K)),(0,e.T)(X=>(0,C.hj)(X)))}getMenuSection(k,K){return this.store.pipe((0,t.Lt)(L(k)),(0,t.Lt)((U=>A(U,D))(K)))}getNonPersistentMenuSections(k){return this.getMenu(k).pipe((0,e.T)(K=>Object.values(K.sections).filter(X=>!X.shouldPersistOnRouteChange)))}addSection(k,K){this.store.dispatch(new S.YN(k,K))}removeSection(k,K){this.store.dispatch(new S.Hw(k,K))}isMenuCollapsed(k){return this.getMenu(k).pipe((0,e.T)(K=>(0,C.a4)(K)?K.collapsed:void 0))}isMenuPreviewCollapsed(k){return this.getMenu(k).pipe((0,e.T)(K=>(0,C.a4)(K)?K.previewCollapsed:void 0))}isMenuVisibleWithVisibleSections(k){return(0,u.z)([this.isMenuVisible(k),this.menuHasVisibleSections(k)]).pipe((0,e.T)(([K,X])=>K&&X))}isMenuVisible(k){return this.getMenu(k).pipe((0,e.T)(K=>(0,C.a4)(K)?K.visible:void 0))}menuHasVisibleSections(k){return this.getMenu(k).pipe((0,e.T)(K=>(0,C.a4)(K)?Object.values(K.sections).some(X=>X.visible&&void 0===X.parentID):void 0))}expandMenu(k){this.store.dispatch(new S.eq(k))}collapseMenu(k){this.store.dispatch(new S.F$(k))}expandMenuPreview(k){this.store.dispatch(new S.oh(k))}collapseMenuPreview(k){this.store.dispatch(new S.JK(k))}toggleMenu(k){this.store.dispatch(new S.sP(k))}showMenu(k){this.store.dispatch(new S.JG(k))}showMenuSection(k,K){this.store.dispatch(new S.C0(k,K))}hideMenu(k){this.store.dispatch(new S.ie(k))}hideMenuSection(k,K){this.store.dispatch(new S.FH(k,K))}toggleActiveSection(k,K){this.store.dispatch(new S.tU(k,K))}activateSection(k,K){this.store.dispatch(new S.cf(k,K))}deactivateSection(k,K){this.store.dispatch(new S.j$(k,K))}isSectionActive(k,K){return this.getMenuSection(k,K).pipe((0,C.Az)(),(0,e.T)(X=>X.active))}isSectionVisible(k,K){return this.getMenuSection(k,K).pipe((0,e.T)(X=>X.visible))}listenForRouteChanges(){this.router.events.pipe((0,f.p)(k=>k instanceof i.wF)).subscribe(()=>{Object.values(R.D).forEach(k=>{this.buildRouteMenuSections(k)})})}buildRouteMenuSections(k){this.getNonPersistentMenuSections(k).pipe((0,e.T)(K=>K.map(X=>X.id)),(0,v.s)(1)).subscribe(K=>{this.resolveRouteMenuSections(this.route.root,k).forEach(G=>{const q=K.indexOf(G.id);q>-1?K.splice(q,1):this.addSection(k,G)}),K.forEach(G=>{this.removeSection(k,G)})})}resolveRouteMenuSections(k,K){const X=k.snapshot.data,G=k.snapshot.params,q=(0,C.Tn)(k.firstChild);if((0,C.a4)(X)&&(0,C.a4)(X.menu)&&(0,C.a4)(X.menu[K])){let z=X.menu[K];if(z=this.resolveSubstitutions(z,G),Array.isArray(z)||(z=[z]),q)return[...z];{const te=this.resolveRouteMenuSections(k.firstChild,K);return[...z.filter(Z=>!te.map(J=>J.id).includes(Z.id)),...te]}}return q?[]:this.resolveRouteMenuSections(k.firstChild,K)}resolveSubstitutions(k,K){let X;return(0,C.Im)(K)?X=k:"string"==typeof k?(X=k,Object.entries(K).forEach(([G,q])=>X=X.replaceAll(`:${G}`,q))):Array.isArray(k)?(X=[],k.forEach((G,q)=>{X[q]=this.resolveSubstitutions(k[q],K)})):"object"==typeof k?(X={},Object.keys(k).forEach(G=>{X[G]=this.resolveSubstitutions(k[G],K)})):X=k,X}static{this.\u0275fac=function(K){return new(K||U)(T.KVO(t.il),T.KVO(i.nX),T.KVO(i.Ix))}}static{this.\u0275prov=T.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}}return U})()},79222:(F,b,n)=>{"use strict";n.d(b,{Q:()=>h});var i=n(60177),t=n(54438);const u=["*"];function e(m,f){if(1&m&&(t.j41(0,"h2",4),t.EFF(1),t.k0s()),2&m){const v=t.XpG();t.R7$(),t.JRh(v.label)}}let h=(()=>{class m{constructor(){this.hideIfNoTextContent=!0}static{this.\u0275fac=function(E){return new(E||m)}}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ds-metadata-field-wrapper"]],inputs:{label:"label",hideIfNoTextContent:"hideIfNoTextContent"},standalone:!0,features:[t.aNF],ngContentSelectors:u,decls:5,vars:3,consts:[["content",""],[1,"simple-view-element"],["class","simple-view-element-header",4,"ngIf"],[1,"simple-view-element-body"],[1,"simple-view-element-header"]],template:function(E,_){if(1&E&&(t.NAR(),t.j41(0,"div",1),t.DNE(1,e,2,1,"h2",2),t.j41(2,"div",3,0),t.SdG(4),t.k0s()()),2&E){const C=t.sdS(3);t.AVh("d-none",_.hideIfNoTextContent&&0===C.textContent.trim().length),t.R7$(),t.Y8G("ngIf",_.label)}},dependencies:[i.bT],styles:["[_nghost-%COMP%]   .simple-view-element[_ngcontent-%COMP%]{margin-bottom:15px}[_nghost-%COMP%]   .simple-view-element-header[_ngcontent-%COMP%]{font-size:1.25rem}"]})}}return m})()},32272:(F,b,n)=>{"use strict";n.d(b,{V:()=>f}),n(26292);var t=n(22924),u=n(82522),e=n(90190),h=n(54438);function m(v,E){}let f=(()=>{class v extends t.e{constructor(_,C){super(_),this.themeService=_,this.getMetadataRepresentationComponent=C,this.inputNamesDependentForComponent=["context","mdRepresentation"],this.inputNames=["context","mdRepresentation"]}getComponent(){return this.getMetadataRepresentationComponent(this.mdRepresentation.itemType,this.mdRepresentation.representationType,this.context,this.themeService.getThemeName())}static{this.\u0275fac=function(C){return new(C||v)(h.rXU(u.Fs),h.rXU(e.RM))}}static{this.\u0275cmp=h.VBU({type:v,selectors:[["ds-metadata-representation-loader"]],inputs:{context:"context",mdRepresentation:"mdRepresentation"},standalone:!0,features:[h.Vt3,h.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(C,S){1&C&&h.DNE(0,m,0,0,"ng-template",1,0,h.C5r)},encapsulation:2})}}return v})()},90190:(F,b,n)=>{"use strict";n.d(b,{RM:()=>ht});var i=n(54438),t=n(85448),u=n(7901),e=n(58003),m=(n(93498),n(90887));n(26292);let v=(()=>{class Ne{isLink(){return new RegExp(/^https?:\/\/.*/).test(this.mdRepresentation.getValue())}static{this.\u0275fac=function(Zt){return new(Zt||Ne)}}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-metadata-representation-list-element"]],inputs:{context:"context",mdRepresentation:"mdRepresentation"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(Zt,mt){},encapsulation:2})}}return Ne})(),E=(()=>{class Ne extends v{ngOnInit(){this.itemPageRoute=(0,m._o)(this.mdRepresentation)}static{this.\u0275fac=(()=>{let Gt;return function(mt){return(Gt||(Gt=i.xGo(Ne)))(mt||Ne)}})()}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-item-metadata-representation-list-element"]],inputs:{mdRepresentation:"mdRepresentation"},standalone:!0,features:[i.Vt3,i.aNF],decls:0,vars:0,template:function(Zt,mt){},encapsulation:2})}}return Ne})();var _=n(21308);const C=Ne=>[Ne],S=()=>["dc.description"];function R(Ne,ot){if(1&Ne&&(i.j41(0,"span",3)(1,"span",4),i.nrm(2,"span",5),i.k0s()()),2&Ne){const Gt=i.XpG();i.R7$(2),i.Y8G("innerHTML",Gt.mdRepresentation.firstMetadataValue(i.lJ4(1,S)),i.npT)}}let T=(()=>{class Ne extends E{static{this.\u0275fac=(()=>{let Gt;return function(mt){return(Gt||(Gt=i.xGo(Ne)))(mt||Ne)}})()}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-org-unit-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:7,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-job-title"],[3,"innerHTML"]],template:function(Zt,mt){if(1&Zt&&(i.DNE(0,R,3,2,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.k0s()),2&Zt){const Pt=i.sdS(1);i.R7$(2),i.Y8G("id",mt.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(4,C,mt.itemPageRoute))("innerHTML",mt.mdRepresentation.getValue(),i.npT)("ngbTooltip",mt.mdRepresentation.allMetadata(i.lJ4(6,S)).length>0?Pt:null)}},dependencies:[_.d,u.Wk,e.n8,e.md],encapsulation:2})}}return Ne})();var A=n(60177),L=(n(14391),n(41780));const D=Ne=>({"not-authenticated":Ne});function w(Ne,ot){if(1&Ne&&(i.j41(0,"span",2),i.EFF(1),i.k0s()),2&Ne){const Gt=i.XpG();i.R7$(),i.JRh(Gt.orcidTooltip)}}let M=(()=>{class Ne{constructor(Gt){this.translateService=Gt}ngOnInit(){this.orcidTooltip=this.translateService.instant(this.authenticatedTimestamp?"person.orcid-tooltip.authenticated":"person.orcid-tooltip.not-authenticated",{orcid:this.orcid.value})}static{this.\u0275fac=function(Zt){return new(Zt||Ne)(i.rXU(L.c$))}}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-orcid-badge-and-tooltip"]],inputs:{orcid:"orcid",authenticatedTimestamp:"authenticatedTimestamp"},standalone:!0,features:[i.aNF],decls:3,vars:6,consts:[["orcidTooltipTemplate",""],["placement","top","src","assets/images/orcid.logo.icon.svg","data-test","orcidIcon",1,"orcid-icon",3,"ngbTooltip","ngClass","alt"],[1,"text-muted"]],template:function(Zt,mt){if(1&Zt&&(i.nrm(0,"img",1),i.DNE(1,w,2,1,"ng-template",null,0,i.C5r)),2&Zt){const Pt=i.sdS(2);i.Mz_("alt","ORCID ",mt.orcidTooltip,""),i.Y8G("ngbTooltip",Pt)("ngClass",i.eq3(4,D,!mt.authenticatedTimestamp))}},dependencies:[e.n8,e.md,A.YU],styles:["[_nghost-%COMP%]{display:inline-block}.orcid-icon[_ngcontent-%COMP%]{height:1.2rem}.orcid-icon.not-authenticated[_ngcontent-%COMP%]{filter:grayscale(100%)}"]})}}return Ne})();const x=Ne=>[Ne],j=()=>["person.jobTitle"];function U(Ne,ot){1&Ne&&(i.j41(0,"span"),i.EFF(1,"; "),i.k0s())}function $(Ne,ot){if(1&Ne&&(i.j41(0,"span"),i.nrm(1,"span",8),i.DNE(2,U,2,0,"span",9),i.k0s()),2&Ne){const Gt=ot.$implicit,Zt=ot.last;i.R7$(),i.Y8G("innerHTML",Gt,i.npT),i.R7$(),i.Y8G("ngIf",!Zt)}}function k(Ne,ot){if(1&Ne&&(i.j41(0,"span",6),i.DNE(1,$,3,2,"span",7),i.k0s()),2&Ne){const Gt=i.XpG(2);i.R7$(),i.Y8G("ngForOf",Gt.mdRepresentation.allMetadataValues(i.lJ4(1,j)))}}function K(Ne,ot){if(1&Ne&&(i.j41(0,"span",4),i.DNE(1,k,2,2,"span",5),i.k0s()),2&Ne){const Gt=i.XpG();i.R7$(),i.Y8G("ngIf",Gt.mdRepresentation.allMetadata(i.lJ4(1,j)).length>0)}}function X(Ne,ot){if(1&Ne&&i.nrm(0,"ds-orcid-badge-and-tooltip",10),2&Ne){const Gt=i.XpG();i.Y8G("orcid",Gt.mdRepresentation.firstMetadata("person.identifier.orcid"))("authenticatedTimestamp",Gt.mdRepresentation.firstMetadata("dspace.orcid.authenticated"))}}let G=(()=>{class Ne extends E{static{this.\u0275fac=(()=>{let Gt;return function(mt){return(Gt||(Gt=i.xGo(Ne)))(mt||Ne)}})()}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-person-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:5,vars:8,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],["class","ml-1",3,"orcid","authenticatedTimestamp",4,"ngIf"],[1,"text-muted"],["class","item-list-job-title",4,"ngIf"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngIf"],[1,"ml-1",3,"orcid","authenticatedTimestamp"]],template:function(Zt,mt){if(1&Zt&&(i.DNE(0,K,2,2,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.DNE(4,X,1,2,"ds-orcid-badge-and-tooltip",3),i.k0s()),2&Zt){const Pt=i.sdS(1);i.R7$(2),i.Y8G("id",mt.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(5,x,mt.itemPageRoute))("innerHTML",mt.mdRepresentation.getValue(),i.npT)("ngbTooltip",mt.mdRepresentation.allMetadata(i.lJ4(7,j)).length>0?Pt:null),i.R7$(),i.Y8G("ngIf",mt.mdRepresentation.firstMetadata("person.identifier.orcid"))}},dependencies:[A.bT,A.pM,_.d,u.Wk,e.n8,e.md,M],encapsulation:2})}}return Ne})();var q=n(96526);const z=Ne=>[Ne];function te(Ne,ot){if(1&Ne&&(i.j41(0,"span",3)(1,"span",4),i.nrm(2,"span",5),i.k0s()()),2&Ne){const Gt=i.XpG();i.R7$(2),i.Y8G("innerHTML",Gt.dsoNameService.getName(Gt.mdRepresentation),i.npT)}}let Z=(()=>{class Ne extends E{constructor(Gt){super(),this.dsoNameService=Gt}static{this.\u0275fac=function(Zt){return new(Zt||Ne)(i.rXU(q.f))}}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-project-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:6,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-project-title"],[3,"innerHTML"]],template:function(Zt,mt){if(1&Zt&&(i.DNE(0,te,3,1,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.k0s()),2&Zt){const Pt=i.sdS(1);i.R7$(2),i.Y8G("id",mt.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(4,z,mt.itemPageRoute))("innerHTML",mt.dsoNameService.getName(mt.mdRepresentation),i.npT)("ngbTooltip",mt.dsoNameService.getName(mt.mdRepresentation).length>0?Pt:null)}},dependencies:[_.d,u.Wk,e.n8,e.md],encapsulation:2})}}return Ne})();var J=n(82777),Q=n(81569),ee=n(7654);const le=Ne=>["/browse/",Ne];function ne(Ne,ot){if(1&Ne&&(i.j41(0,"a",1),i.EFF(1),i.k0s()),2&Ne){const Gt=i.XpG();i.Y8G("routerLink",i.eq3(3,le,Gt.mdRepresentation.browseDefinition.id))("queryParams",Gt.getQueryParams()),i.R7$(),i.SpI(" ",Gt.mdRepresentation.getValue()," ")}}let fe=(()=>{class Ne extends v{getQueryParams(){const Gt={startsWith:this.mdRepresentation.getValue()};return this.mdRepresentation.browseDefinition.getRenderType()===ee.o.value?{value:this.mdRepresentation.getValue()}:Gt}static{this.\u0275fac=(()=>{let Gt;return function(mt){return(Gt||(Gt=i.xGo(Ne)))(mt||Ne)}})()}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-browse-link-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:1,consts:[["target","_blank","class","dont-break-out",3,"routerLink","queryParams",4,"ngIf"],["target","_blank",1,"dont-break-out",3,"routerLink","queryParams"]],template:function(Zt,mt){1&Zt&&(i.j41(0,"div"),i.DNE(1,ne,2,5,"a",0),i.j41(2,"b"),i.EFF(3,"(new browse link page)"),i.k0s()()),2&Zt&&(i.R7$(),i.Y8G("ngIf","browse_link"===mt.mdRepresentation.representationType))},dependencies:[A.bT,u.Wk],encapsulation:2})}}return Ne})();var se=n(78448),ce=n(17191);let Te=(()=>{class Ne extends v{constructor(){super(...arguments),this.viewMode=se.n.ListElement}static{this.\u0275fac=(()=>{let Gt;return function(mt){return(Gt||(Gt=i.xGo(Ne)))(mt||Ne)}})()}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:1,vars:2,consts:[[3,"object","viewMode"]],template:function(Zt,mt){1&Zt&&i.nrm(0,"ds-listable-object-component-loader",0),2&Zt&&i.Y8G("object",mt.mdRepresentation)("viewMode",mt.viewMode)},dependencies:[ce.v],encapsulation:2})}}return Ne})();const be=Ne=>["/browse/",Ne];function me(Ne,ot){if(1&Ne&&(i.j41(0,"span",3),i.EFF(1),i.k0s()),2&Ne){const Gt=i.XpG();i.R7$(),i.SpI(" ",Gt.mdRepresentation.getValue()," ")}}function re(Ne,ot){if(1&Ne&&(i.j41(0,"a",4),i.EFF(1),i.k0s()),2&Ne){const Gt=i.XpG();i.Y8G("href",Gt.mdRepresentation.getValue(),i.B4B),i.R7$(),i.SpI(" ",Gt.mdRepresentation.getValue()," ")}}function Ee(Ne,ot){if(1&Ne&&(i.j41(0,"span",3),i.EFF(1),i.k0s()),2&Ne){const Gt=i.XpG();i.R7$(),i.JRh(Gt.mdRepresentation.getValue())}}function De(Ne,ot){if(1&Ne&&(i.j41(0,"a",5),i.EFF(1),i.k0s()),2&Ne){const Gt=i.XpG();i.Y8G("routerLink",i.eq3(3,be,Gt.mdRepresentation.browseDefinition.id))("queryParams",Gt.getQueryParams()),i.R7$(),i.SpI(" ",Gt.mdRepresentation.getValue()," ")}}let tt=(()=>{class Ne extends v{getQueryParams(){const Gt={startsWith:this.mdRepresentation.getValue()};return this.mdRepresentation.browseDefinition.getRenderType()===ee.o.value?{value:this.mdRepresentation.getValue()}:Gt}static{this.\u0275fac=(()=>{let Gt;return function(mt){return(Gt||(Gt=i.xGo(Ne)))(mt||Ne)}})()}static{this.\u0275cmp=i.VBU({type:Ne,selectors:[["ds-plain-text-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:5,vars:4,consts:[["class","dont-break-out",4,"ngIf"],["class","dont-break-out","target","_blank",3,"href",4,"ngIf"],["class","dont-break-out ds-browse-link",3,"routerLink","queryParams",4,"ngIf"],[1,"dont-break-out"],["target","_blank",1,"dont-break-out",3,"href"],[1,"dont-break-out","ds-browse-link",3,"routerLink","queryParams"]],template:function(Zt,mt){1&Zt&&(i.j41(0,"div"),i.DNE(1,me,2,1,"span",0)(2,re,2,2,"a",1)(3,Ee,2,1,"span",0)(4,De,2,5,"a",2),i.k0s()),2&Zt&&(i.R7$(),i.Y8G("ngIf","plain_text"===mt.mdRepresentation.representationType&&!mt.isLink()),i.R7$(),i.Y8G("ngIf","plain_text"===mt.mdRepresentation.representationType&&mt.isLink()),i.R7$(),i.Y8G("ngIf","authority_controlled"===mt.mdRepresentation.representationType),i.R7$(),i.Y8G("ngIf","browse_link"===mt.mdRepresentation.representationType))},dependencies:[A.bT,u.Wk],encapsulation:2})}}return Ne})();const ht=new i.nKC("getMetadataRepresentationComponent",{providedIn:"root",factory:()=>Mt}),Fe="Publication",Et=t.d.PlainText,Ye=new Map([["Publication",new Map([[t.d.PlainText,new Map([[Q.A2,new Map([[Q.SS,tt]])]])],[t.d.AuthorityControlled,new Map([[Q.A2,new Map([[Q.SS,tt]])]])],[t.d.BrowseLink,new Map([[Q.A2,new Map([[Q.SS,fe]])]])],[t.d.Item,new Map([[Q.A2,new Map([[Q.SS,Te]])]])]])],["Person",new Map([[t.d.Item,new Map([[Q.A2,new Map([[Q.SS,G]])]])]])],["OrgUnit",new Map([[t.d.Item,new Map([[Q.A2,new Map([[Q.SS,T]])]])]])],["Project",new Map([[t.d.Item,new Map([[Q.A2,new Map([[Q.SS,Z]])]])]])]]);function Mt(Ne,ot,Gt=Q.A2,Zt=Q.SS){const mt=Ye.get(Ne);if((0,J.a4)(mt)){const Pt=mt.get(ot);if((0,J.a4)(Pt)){const Ce=Pt.get(Gt);if((0,J.a4)(Ce)){const Be=(0,Q.eW)(Ce,Zt);if((0,J.a4)(Be))return Be;if((0,J.a4)(Ce.get(Q.SS)))return Ce.get(Q.SS)}if((0,J.a4)(Pt.get(Q.A2))&&(0,J.a4)(Pt.get(Q.A2).get(Q.SS)))return Pt.get(Q.A2).get(Q.SS)}if((0,J.a4)(mt.get(Et))&&(0,J.a4)(mt.get(Et).get(Q.A2))&&(0,J.a4)(mt.get(Et).get(Q.A2).get(Q.SS)))return mt.get(Et).get(Q.A2).get(Q.SS)}return Ye.get(Fe).get(Et).get(Q.A2).get(Q.SS)}},43796:(F,b,n)=>{"use strict";n.d(b,{SU:()=>Ht,u3:()=>_t});var i=n(60177),t=n(89417),u=n(58003),e=n(41780),h=n(13933),m=n(18226),f=n(96354),v=n(32473),E=n(52749),_=n(56760),C=n(80183),S=n(52837),R=n(12532),T=n(39806),A=n(43782),p=n(54438),L=n(7901);let D=(()=>{class We extends A.${constructor(lt,gt,Ct,Wt,pn,Rn,Yn,$n,_s,Rs){super(lt,gt,Ct,Wt,pn,Rn,_s,Rs),this.route=lt,this.workflowItemService=gt,this.router=Ct,this.routeService=Wt,this.notificationsService=pn,this.translationService=Rn,this.workflowActionService=Yn,this.claimedTaskDataService=$n,this.requestService=_s,this.location=Rs}ngOnInit(){super.ngOnInit(),this.workflowAction$=this.workflowActionService.findById(this.route.snapshot.queryParams.workflow).pipe((0,C.ak)())}performAction(){this.sendRequest(this.route.snapshot.queryParams.claimedTask).subscribe(lt=>{if(lt){const gt=this.translationService.get("workflow-item."+this.type+".notification.success.title"),Ct=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(gt,Ct),this.previousPage()}else{const gt=this.translationService.get("workflow-item."+this.type+".notification.error.title"),Ct=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(gt,Ct)}})}sendRequest(lt){return this.claimedTaskDataService.submitTask(lt,this.createBody()).pipe((0,f.T)(gt=>gt.hasSucceeded))}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(L.nX),p.rXU(S.WorkflowItemDataService),p.rXU(L.Ix),p.rXU(_.v$),p.rXU(T.I),p.rXU(e.c$),p.rXU(E.WorkflowActionDataService),p.rXU(R.ClaimedTaskDataService),p.rXU(v.B),p.rXU(i.aZ))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-advanced-workflow-action"]],features:[p.Vt3],decls:0,vars:0,template:function(gt,Ct){},encapsulation:2})}}return We})();const w=We=>({"is-invalid":We}),M=We=>({"text-danger":We});function x(We,sn){1&We&&(p.j41(0,"p"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"advanced-workflow-action.rating.description-requiredDescription")," "))}function j(We,sn){1&We&&(p.j41(0,"p"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"advanced-workflow-action.rating.description")," "))}function U(We,sn){1&We&&(p.j41(0,"span"),p.EFF(1,"*"),p.k0s())}function $(We,sn){1&We&&(p.j41(0,"small",15),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"advanced-workflow-action.rating.form.review.error")," "))}function k(We,sn){1&We&&(p.j41(0,"small",15),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"advanced-workflow-action.rating.form.rating.error")," "))}function K(We,sn){if(1&We){const lt=p.RV6();p.j41(0,"form",7),p.bIt("ngSubmit",function(){p.eBV(lt);const Ct=p.XpG(2);return p.Njj(Ct.performAction())}),p.j41(1,"div",8)(2,"label",9)(3,"span"),p.EFF(4),p.nI1(5,"translate"),p.k0s(),p.DNE(6,U,2,0,"span",1),p.k0s(),p.j41(7,"textarea",10),p.EFF(8,"      "),p.k0s(),p.DNE(9,$,3,3,"small",11),p.k0s(),p.j41(10,"div",8)(11,"label",12),p.EFF(12),p.nI1(13,"translate"),p.k0s(),p.j41(14,"div",13),p.nrm(15,"ngb-rating",14),p.k0s(),p.DNE(16,k,3,3,"small",11),p.k0s()()}if(2&We){const lt=p.XpG().ngVar,gt=p.XpG();p.Y8G("formGroup",gt.ratingForm),p.R7$(4),p.JRh(p.bMT(5,10,"advanced-workflow-action.rating.form.review.label")),p.R7$(2),p.Y8G("ngIf",null==lt?null:lt.descriptionRequired),p.R7$(),p.Y8G("ngClass",p.eq3(14,w,gt.isInvalid("review")))("required",null==lt?null:lt.descriptionRequired),p.R7$(2),p.Y8G("ngIf",gt.isInvalid("review")),p.R7$(3),p.SpI(" ",p.bMT(13,12,"advanced-workflow-action.rating.form.rating.label"),"* "),p.R7$(3),p.Y8G("max",null==lt?null:lt.maxValue)("ngClass",p.eq3(16,M,gt.isInvalid("rating"))),p.R7$(),p.Y8G("ngIf",gt.isInvalid("rating"))}}function X(We,sn){if(1&We&&(p.nrm(0,"ds-modify-item-overview",16),p.nI1(1,"async")),2&We){const lt=p.XpG(2);p.Y8G("item",p.bMT(1,1,lt.item$))}}function G(We,sn){if(1&We){const lt=p.RV6();p.j41(0,"div"),p.DNE(1,x,3,3,"p",1)(2,j,3,3,"p",1)(3,K,17,18,"form",2)(4,X,2,3,"ds-modify-item-overview",3),p.nI1(5,"async"),p.j41(6,"div",4)(7,"button",5),p.bIt("click",function(){p.eBV(lt);const Ct=p.XpG();return p.Njj(Ct.previousPage())}),p.EFF(8),p.nI1(9,"translate"),p.k0s(),p.j41(10,"button",6),p.bIt("click",function(){p.eBV(lt);const Ct=p.XpG();return p.Njj(Ct.performAction())}),p.EFF(11),p.nI1(12,"translate"),p.k0s()()()}if(2&We){const lt=sn.ngVar,gt=p.XpG();p.R7$(),p.Y8G("ngIf",null==lt?null:lt.descriptionRequired),p.R7$(),p.Y8G("ngIf",!(null!=lt&&lt.descriptionRequired)),p.R7$(),p.Y8G("ngIf",gt.ratingForm),p.R7$(),p.Y8G("ngIf",p.bMT(5,6,gt.item$)),p.R7$(4),p.SpI(" ",p.bMT(9,8,"workflow-item."+gt.getType()+".button.cancel")," "),p.R7$(3),p.SpI(" ",p.bMT(12,10,"workflow-item."+gt.getType()+".button.confirm")," ")}}const q="submit_score",z="scorereviewaction";let te=(()=>{class We extends D{ngOnInit(){super.ngOnInit(),this.ratingForm=new t.J3({review:new t.hs(""),rating:new t.hs(0,t.k0.min(1))})}performAction(){this.ratingForm.updateValueAndValidity(),this.ratingForm.valid?super.performAction():this.ratingForm.markAllAsTouched()}createBody(){const lt={[q]:!0,score:this.ratingForm.get("rating").value};if(""!==this.ratingForm.get("review").value){const gt=this.ratingForm.get("review").value;Object.assign(lt,{review:gt})}return lt}getType(){return z}getAdvancedInfo(lt){return lt?lt.advancedInfo[0]:null}isInvalid(lt){return this.ratingForm.get(lt).touched&&!this.ratingForm.get(lt).valid}static{this.\u0275fac=(()=>{let lt;return function(Ct){return(lt||(lt=p.xGo(We)))(Ct||We)}})()}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-advanced-workflow-action-rating-reviewer"]],standalone:!0,features:[p.Vt3,p.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"item",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-end"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"control-label"],["formControlName","review",1,"form-control",3,"ngClass","required"],["class","invalid-feedback d-block",4,"ngIf"],[1,"control-label","mb-1"],[1,"d-block"],["formControlName","rating",3,"max","ngClass"],[1,"invalid-feedback","d-block"],[3,"item"]],template:function(gt,Ct){1&gt&&(p.DNE(0,G,13,12,"div",0),p.nI1(1,"async")),2&gt&&p.Y8G("ngVar",Ct.getAdvancedInfo(p.bMT(1,1,Ct.workflowAction$)))},dependencies:[h.W,i.bT,i.Jj,e.h,e.D9,u.Ny,u.hC,i.YU,t.X1,t.qT,t.me,t.BC,t.cb,t.YS,t.j4,t.JD,m.r]})}}return We})();var Z=n(82777),J=n(7673),Q=n(72796),ee=n(96526),le=n(96820),ne=n(74449),fe=n(44494),se=n(79145),ce=n(22978),Te=n(60456),be=n(48674),me=n(5682);const re=()=>["top","right","bottom"],Ee=We=>({content:"admin.access-control.groups.form.tooltip.editGroup.addEpeople",id:"edit-group-add-epeople",iconPlacement:"right",tooltipPlacement:We}),De=We=>({name:We}),tt=We=>["btn btn-sm",We];function ht(We,sn){if(1&We){const lt=p.RV6();p.j41(0,"button",22),p.nI1(1,"translate"),p.bIt("click",function(){p.eBV(lt);const Ct=p.XpG().$implicit,Wt=p.XpG(2);return p.Njj(Wt.deleteMemberFromGroup(Ct.eperson))}),p.nrm(2,"i",23),p.k0s()}if(2&We){const lt=p.XpG().$implicit,gt=p.XpG(2);p.FS9("title",p.i5U(1,4,gt.messagePrefix+".table.edit.buttons.remove",p.eq3(7,De,gt.dsoNameService.getName(lt.eperson)))),p.Y8G("dsBtnDisabled",gt.actionConfig.remove.disabled)("ngClass",p.eq3(9,tt,gt.actionConfig.remove.css)),p.R7$(2),p.Y8G("ngClass",gt.actionConfig.remove.icon)}}function Fe(We,sn){if(1&We){const lt=p.RV6();p.j41(0,"button",22),p.nI1(1,"translate"),p.bIt("click",function(){p.eBV(lt);const Ct=p.XpG().$implicit,Wt=p.XpG(2);return p.Njj(Wt.addMemberToGroup(Ct.eperson))}),p.nrm(2,"i",23),p.k0s()}if(2&We){const lt=p.XpG().$implicit,gt=p.XpG(2);p.FS9("title",p.i5U(1,4,gt.messagePrefix+".table.edit.buttons.add",p.eq3(7,De,gt.dsoNameService.getName(lt.eperson)))),p.Y8G("dsBtnDisabled",gt.actionConfig.add.disabled)("ngClass",p.eq3(9,tt,gt.actionConfig.add.css)),p.R7$(2),p.Y8G("ngClass",gt.actionConfig.add.icon)}}function Et(We,sn){if(1&We&&(p.j41(0,"tr")(1,"td",17),p.EFF(2),p.k0s(),p.j41(3,"td",17)(4,"a",19),p.EFF(5),p.k0s()(),p.j41(6,"td",17),p.EFF(7),p.nI1(8,"translate"),p.nrm(9,"br"),p.EFF(10),p.nI1(11,"translate"),p.k0s(),p.j41(12,"td",17)(13,"div",20),p.DNE(14,ht,3,11,"button",21)(15,Fe,3,11,"button",21),p.k0s()()()),2&We){const lt=sn.$implicit,gt=p.XpG(2);p.R7$(2),p.JRh(lt.eperson.id),p.R7$(2),p.Y8G("routerLink",gt.getEPersonEditRoute(lt.eperson.id)),p.R7$(),p.SpI(" ",gt.dsoNameService.getName(lt.eperson)," "),p.R7$(2),p.Lme(" ",p.bMT(8,9,gt.messagePrefix+".table.email"),": ",lt.eperson.email?lt.eperson.email:"-",""),p.R7$(3),p.Lme(" ",p.bMT(11,11,gt.messagePrefix+".table.netid"),": ",lt.eperson.netid?lt.eperson.netid:"-"," "),p.R7$(4),p.Y8G("ngIf",lt.ableToDelete),p.R7$(),p.Y8G("ngIf",!lt.ableToDelete)}}function Ye(We,sn){if(1&We&&(p.j41(0,"ds-pagination",13),p.nI1(1,"async"),p.j41(2,"div",14)(3,"table",15)(4,"thead")(5,"tr")(6,"th",16),p.EFF(7),p.nI1(8,"translate"),p.k0s(),p.j41(9,"th",16),p.EFF(10),p.nI1(11,"translate"),p.k0s(),p.j41(12,"th",16),p.EFF(13),p.nI1(14,"translate"),p.k0s(),p.j41(15,"th",17),p.EFF(16),p.nI1(17,"translate"),p.k0s()()(),p.j41(18,"tbody"),p.DNE(19,Et,16,13,"tr",18),p.nI1(20,"async"),p.k0s()()()()),2&We){let lt,gt;const Ct=p.XpG();p.Y8G("paginationOptions",Ct.config)("collectionSize",null==(lt=p.bMT(1,9,Ct.ePeopleMembersOfGroup))?null:lt.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),p.R7$(7),p.JRh(p.bMT(8,11,Ct.messagePrefix+".table.id")),p.R7$(3),p.JRh(p.bMT(11,13,Ct.messagePrefix+".table.name")),p.R7$(3),p.JRh(p.bMT(14,15,Ct.messagePrefix+".table.identity")),p.R7$(3),p.JRh(p.bMT(17,17,Ct.messagePrefix+".table.edit")),p.R7$(3),p.Y8G("ngForOf",null==(gt=p.bMT(20,19,Ct.ePeopleMembersOfGroup))?null:gt.page)}}function pt(We,sn){if(1&We&&(p.j41(0,"div",24),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We){const lt=p.XpG();p.R7$(),p.SpI(" ",p.bMT(2,1,lt.messagePrefix+".no-members-yet")," ")}}function Mt(We,sn){if(1&We&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We){const lt=p.XpG();p.R7$(),p.SpI(" ",p.bMT(2,1,lt.messagePrefix+".search.head")," ")}}function Ne(We,sn){if(1&We){const lt=p.RV6();p.j41(0,"tr")(1,"td",17),p.EFF(2),p.k0s(),p.j41(3,"td",17)(4,"a",19),p.EFF(5),p.k0s()(),p.j41(6,"td",17),p.EFF(7),p.nI1(8,"translate"),p.nrm(9,"br"),p.EFF(10),p.nI1(11,"translate"),p.k0s(),p.j41(12,"td",17)(13,"div",20)(14,"button",22),p.nI1(15,"translate"),p.bIt("click",function(){const Ct=p.eBV(lt).$implicit,Wt=p.XpG(2);return p.Njj(Wt.addMemberToGroup(Ct))}),p.nrm(16,"i",23),p.k0s()()()()}if(2&We){const lt=sn.$implicit,gt=p.XpG(2);p.R7$(2),p.JRh(lt.id),p.R7$(2),p.Y8G("routerLink",gt.getEPersonEditRoute(lt.id)),p.R7$(),p.SpI(" ",gt.dsoNameService.getName(lt)," "),p.R7$(2),p.Lme(" ",p.bMT(8,11,gt.messagePrefix+".table.email"),": ",lt.email?lt.email:"-",""),p.R7$(3),p.Lme(" ",p.bMT(11,13,gt.messagePrefix+".table.netid"),": ",lt.netid?lt.netid:"-"," "),p.R7$(4),p.FS9("title",p.i5U(15,15,gt.messagePrefix+".table.edit.buttons.add",p.eq3(18,De,gt.dsoNameService.getName(lt)))),p.Y8G("dsBtnDisabled",gt.actionConfig.add.disabled)("ngClass",p.eq3(20,tt,gt.actionConfig.add.css)),p.R7$(2),p.Y8G("ngClass",gt.actionConfig.add.icon)}}function ot(We,sn){if(1&We&&(p.j41(0,"ds-pagination",13),p.nI1(1,"async"),p.j41(2,"div",14)(3,"table",25)(4,"thead")(5,"tr")(6,"th",16),p.EFF(7),p.nI1(8,"translate"),p.k0s(),p.j41(9,"th",16),p.EFF(10),p.nI1(11,"translate"),p.k0s(),p.j41(12,"th",16),p.EFF(13),p.nI1(14,"translate"),p.k0s(),p.j41(15,"th",17),p.EFF(16),p.nI1(17,"translate"),p.k0s()()(),p.j41(18,"tbody"),p.DNE(19,Ne,17,22,"tr",18),p.nI1(20,"async"),p.k0s()()()()),2&We){let lt,gt;const Ct=p.XpG();p.Y8G("paginationOptions",Ct.configSearch)("collectionSize",null==(lt=p.bMT(1,9,Ct.ePeopleSearch))?null:lt.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),p.R7$(7),p.JRh(p.bMT(8,11,Ct.messagePrefix+".table.id")),p.R7$(3),p.JRh(p.bMT(11,13,Ct.messagePrefix+".table.name")),p.R7$(3),p.JRh(p.bMT(14,15,Ct.messagePrefix+".table.identity")),p.R7$(3),p.JRh(p.bMT(17,17,Ct.messagePrefix+".table.edit")),p.R7$(3),p.Y8G("ngForOf",null==(gt=p.bMT(20,19,Ct.ePeopleSearch))?null:gt.page)}}function Gt(We,sn){if(1&We&&(p.j41(0,"div",24),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We){const lt=p.XpG();p.R7$(),p.SpI(" ",p.bMT(2,1,lt.messagePrefix+".no-items")," ")}}var Zt=function(We){return We[We.ActiveGroup=0]="ActiveGroup",We[We.Members=1]="Members",We[We.SearchResults=2]="SearchResults",We}(Zt||{});let mt=(()=>{class We extends Q.v{constructor(lt,gt,Ct,Wt,pn,Rn,Yn,$n){super(lt,gt,Ct,Wt,pn,Rn,Yn,$n),this.groupService=lt,this.ePersonDataService=gt,this.translateService=Ct,this.notificationsService=Wt,this.formBuilder=pn,this.paginationService=Rn,this.router=Yn,this.dsoNameService=$n,this.selectedReviewersUpdated=new p.bkB,this.selectedReviewers=[]}ngOnInit(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}ngOnChanges(lt){this.groupId=lt.groupId.currentValue,lt.groupId.currentValue!==lt.groupId.previousValue&&(null===this.groupId?this.retrieveMembers(this.config.currentPage):(this.unsubFrom(Zt.ActiveGroup),this.subs.set(Zt.ActiveGroup,this.groupService.findById(this.groupId).pipe((0,C.ak)()).subscribe(gt=>{null!=gt&&(this.groupDataService.editGroup(gt),this.groupBeingEdited=gt,this.retrieveMembers(this.config.currentPage))}))))}retrieveMembers(lt){if(this.config.currentPage=lt,null===this.groupId){const gt=new le.O;gt.page=this.selectedReviewers.map(Ct=>Object.assign(new se.h,{eperson:Ct,ableToDelete:this.isMemberOfGroup(Ct)})),this.ePeopleMembersOfGroup.next(gt)}else super.retrieveMembers(lt)}isMemberOfGroup(lt){return(0,J.of)((0,Z.a4)(this.selectedReviewers.find(gt=>gt.id===lt.id)))}deleteMemberFromGroup(lt){const gt=this.selectedReviewers.findIndex(Ct=>Ct.id===lt.id);-1!==gt&&this.selectedReviewers.splice(gt,1),this.retrieveMembers(this.config.currentPage),this.selectedReviewersUpdated.emit(this.selectedReviewers)}addMemberToGroup(lt){this.multipleReviewers||(this.selectedReviewers=[]),this.selectedReviewers.push(lt),this.retrieveMembers(this.config.currentPage),this.selectedReviewersUpdated.emit(this.selectedReviewers)}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(fe.GroupDataService),p.rXU(ne.EPersonDataService),p.rXU(e.c$),p.rXU(T.I),p.rXU(t.ze),p.rXU(ce.m),p.rXU(L.Ix),p.rXU(ee.f))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-reviewers-list"]],inputs:{groupId:"groupId",actionConfig:"actionConfig",multipleReviewers:"multipleReviewers"},outputs:{selectedReviewersUpdated:"selectedReviewersUpdated"},standalone:!0,features:[p.Vt3,p.OA$,p.aNF],decls:31,vars:31,consts:[[1,"border-bottom","pb-2"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],["id","search",1,"border-bottom","pb-2"],[4,"dsContextHelp"],[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","me-3"],[1,"form-group","input-group","me-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","ePeopleMembersOfGroup",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"btn-group","edit-field"],[3,"dsBtnDisabled","ngClass","title","click",4,"ngIf"],[3,"click","dsBtnDisabled","ngClass","title"],[3,"ngClass"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","epersonsSearch",1,"table","table-striped","table-hover","table-bordered"]],template:function(gt,Ct){if(1&gt&&(p.qex(0),p.j41(1,"h2",0),p.EFF(2),p.nI1(3,"translate"),p.k0s(),p.j41(4,"h3"),p.EFF(5),p.nI1(6,"translate"),p.k0s(),p.DNE(7,Ye,21,21,"ds-pagination",1),p.nI1(8,"async"),p.DNE(9,pt,3,3,"div",2),p.nI1(10,"async"),p.nI1(11,"async"),p.j41(12,"h3",3),p.DNE(13,Mt,3,3,"span",4),p.k0s(),p.j41(14,"form",5),p.bIt("ngSubmit",function(){return Ct.search(Ct.searchForm.value)}),p.j41(15,"div",6)(16,"div",7),p.nrm(17,"input",8),p.j41(18,"span",9)(19,"button",10),p.nrm(20,"i",11),p.EFF(21),p.nI1(22,"translate"),p.k0s()()()(),p.j41(23,"div")(24,"button",12),p.bIt("click",function(){return Ct.clearFormAndResetResult()}),p.EFF(25),p.nI1(26,"translate"),p.k0s()()(),p.DNE(27,ot,21,21,"ds-pagination",1),p.nI1(28,"async"),p.DNE(29,Gt,3,3,"div",2),p.nI1(30,"async"),p.bVm()),2&gt){let Wt,pn,Rn,Yn;p.R7$(2),p.JRh(p.bMT(3,10,Ct.messagePrefix+".head")),p.R7$(3),p.JRh(p.bMT(6,12,Ct.messagePrefix+".headMembers")),p.R7$(2),p.Y8G("ngIf",(null==(Wt=p.bMT(8,14,Ct.ePeopleMembersOfGroup))?null:Wt.totalElements)>0),p.R7$(2),p.Y8G("ngIf",void 0===p.bMT(10,16,Ct.ePeopleMembersOfGroup)||0===(null==(pn=p.bMT(11,18,Ct.ePeopleMembersOfGroup))?null:pn.totalElements)),p.R7$(4),p.Y8G("dsContextHelp",p.eq3(29,Ee,p.lJ4(28,re))),p.R7$(),p.Y8G("formGroup",Ct.searchForm),p.R7$(7),p.SpI(" ",p.bMT(22,20,Ct.messagePrefix+".search.button"),""),p.R7$(4),p.JRh(p.bMT(26,22,Ct.messagePrefix+".button.see-all")),p.R7$(2),p.Y8G("ngIf",(null==(Rn=p.bMT(28,24,Ct.ePeopleSearch))?null:Rn.totalElements)>0),p.R7$(2),p.Y8G("ngIf",0===(null==(Yn=p.bMT(30,26,Ct.ePeopleSearch))?null:Yn.totalElements)&&Ct.searchDone)}},dependencies:[e.h,e.D9,be.G,t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,me.e,i.bT,i.Jj,L.Wk,i.YU,i.Sq,Te.A],encapsulation:2})}}return We})();function Pt(We,sn){1&We&&(p.j41(0,"p"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We&&(p.R7$(),p.JRh(p.bMT(2,1,"advanced-workflow-action.select-reviewer.description-multiple")))}function Ce(We,sn){1&We&&(p.j41(0,"p"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We&&(p.R7$(),p.JRh(p.bMT(2,1,"advanced-workflow-action.select-reviewer.description-single")))}function Be(We,sn){if(1&We){const lt=p.RV6();p.j41(0,"ds-reviewers-list",7),p.bIt("selectedReviewersUpdated",function(Ct){p.eBV(lt);const Wt=p.XpG();return Wt.selectedReviewers=Ct,p.Njj(Wt.displayError=!1)}),p.k0s()}if(2&We){const lt=p.XpG();p.Y8G("actionConfig",lt.reviewersListActionConfig)("groupId",lt.groupId)("ngClass",lt.groupId?"reviewersListWithGroup":"")("multipleReviewers",lt.multipleReviewers)}}function ut(We,sn){1&We&&(p.j41(0,"small",8),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"advanced-workflow-action.select-reviewer.no-reviewer-selected.error")," "))}function un(We,sn){if(1&We&&(p.nrm(0,"ds-modify-item-overview",9),p.nI1(1,"async")),2&We){const lt=p.XpG();p.Y8G("item",p.bMT(1,1,lt.item$))}}const rn="submit_select_reviewer",Pn="selectrevieweraction";let yt=(()=>{class We extends D{constructor(lt,gt,Ct,Wt,pn,Rn,Yn,$n,_s,Rs){super(lt,gt,Ct,Wt,pn,Rn,Yn,$n,_s,Rs),this.route=lt,this.workflowItemService=gt,this.router=Ct,this.routeService=Wt,this.notificationsService=pn,this.translationService=Rn,this.workflowActionService=Yn,this.claimedTaskDataService=$n,this.requestService=_s,this.location=Rs,this.multipleReviewers=!0,this.selectedReviewers=[],this.subs=[],this.displayError=!1}ngOnDestroy(){this.subs.forEach(lt=>lt.unsubscribe())}ngOnInit(){super.ngOnInit(),this.reviewersListActionConfig=this.multipleReviewers?{add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-plus"},remove:{css:"btn-outline-danger",disabled:!1,icon:"fas fa-minus"}}:{add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-check"},remove:{css:"btn-primary",disabled:!0,icon:"fas fa-check"}},this.subs.push(this.workflowAction$.subscribe(lt=>{this.groupId=lt?lt.advancedInfo[0].group:null}))}getType(){return Pn}performAction(){this.selectedReviewers.length>0?super.performAction():this.displayError=!0}createBody(){return{[rn]:!0,eperson:this.selectedReviewers.map(lt=>lt.id)}}previousPage(){let lt=this.previousQueryParameters;(0,Z.a4)(lt)||(lt={configuration:"workflow"}),this.router.navigate(["/mydspace"],{queryParams:lt})}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(L.nX),p.rXU(S.WorkflowItemDataService),p.rXU(L.Ix),p.rXU(_.v$),p.rXU(T.I),p.rXU(e.c$),p.rXU(E.WorkflowActionDataService),p.rXU(R.ClaimedTaskDataService),p.rXU(v.B),p.rXU(i.aZ))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-advanced-workflow-action-select-reviewer"]],standalone:!0,features:[p.Vt3,p.aNF],decls:14,vars:13,consts:[[4,"ngIf"],["messagePrefix","advanced-workflow-action-select-reviewer.groups.form.reviewers-list",3,"actionConfig","groupId","ngClass","multipleReviewers","selectedReviewersUpdated",4,"ngIf"],["class","invalid-feedback d-block mb-3",4,"ngIf"],[3,"item",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-end"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],["messagePrefix","advanced-workflow-action-select-reviewer.groups.form.reviewers-list",3,"selectedReviewersUpdated","actionConfig","groupId","ngClass","multipleReviewers"],[1,"invalid-feedback","d-block","mb-3"],[3,"item"]],template:function(gt,Ct){1&gt&&(p.j41(0,"div"),p.DNE(1,Pt,3,3,"p",0)(2,Ce,3,3,"p",0)(3,Be,1,4,"ds-reviewers-list",1)(4,ut,3,3,"small",2)(5,un,2,3,"ds-modify-item-overview",3),p.nI1(6,"async"),p.j41(7,"div",4)(8,"button",5),p.bIt("click",function(){return Ct.previousPage()}),p.EFF(9),p.nI1(10,"translate"),p.k0s(),p.j41(11,"button",6),p.bIt("click",function(){return Ct.performAction()}),p.EFF(12),p.nI1(13,"translate"),p.k0s()()()),2&gt&&(p.R7$(),p.Y8G("ngIf",Ct.multipleReviewers),p.R7$(),p.Y8G("ngIf",!Ct.multipleReviewers),p.R7$(),p.Y8G("ngIf",void 0!==Ct.groupId),p.R7$(),p.Y8G("ngIf",Ct.displayError),p.R7$(),p.Y8G("ngIf",p.bMT(6,7,Ct.item$)),p.R7$(4),p.SpI(" ",p.bMT(10,9,"workflow-item."+Ct.getType()+".button.cancel")," "),p.R7$(3),p.SpI(" ",p.bMT(13,11,"workflow-item."+Ct.getType()+".button.confirm")," "))},dependencies:[i.MD,i.YU,i.bT,i.Jj,h.W,e.h,e.D9,mt],styles:["[_nghost-%COMP%]     .reviewersListWithGroup #search, [_nghost-%COMP%]     .reviewersListWithGroup #search+form, [_nghost-%COMP%]     .reviewersListWithGroup #search+form+ds-pagination{display:none!important}"]})}}return We})();var Kt=n(78655),Rt=n(48622),nn=n(96697),zt=(n(88318),n(25567),n(22822)),Yt=n(46369);let wt=(()=>{class We extends Yt.i{constructor(lt,gt,Ct,Wt,pn,Rn){super(zt.a,lt,gt,Ct,Wt,pn,Rn),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=pn,this.requestService=Rn,this.subs=[]}submitTask(){this.subs.push(this.startActionExecution().pipe((0,nn.s)(1)).subscribe())}createbody(){return{[this.option]:"true"}}reloadObjectExecution(){return this.objectDataService.findByItem(this.itemUuid)}actionExecution(){return this.objectDataService.submitTask(this.object.id,this.createbody())}initObjects(lt){this.object=lt}initReloadAnchor(){(0,Z.Im)(this.item)||(this.itemUuid=this.item.uuid)}ngOnDestroy(){this.subs.forEach(lt=>lt.unsubscribe())}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(L.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-claimed-task-action-abstract"]],inputs:{option:"option",item:"item",workflowitem:"workflowitem"},features:[p.Vt3],decls:0,vars:0,template:function(gt,Ct){},encapsulation:2})}}return We})();function bt(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",2),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function Jt(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",3),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.claimed.approve"),""))}let Ft=(()=>{class We extends wt{constructor(lt,gt,Ct,Wt,pn,Rn,Yn){super(lt,gt,Ct,Wt,pn,Rn),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=pn,this.requestService=Rn,this.workflowItemDataService=Yn}reloadObjectExecution(){return(0,J.of)(this.object)}convertReloadedObject(lt){return Object.assign(new Rt.t,lt,{indexableObject:lt})}handleReloadableActionResponse(lt,gt){super.handleReloadableActionResponse(lt,gt),this.workflowItemDataService.invalidateByHref(this.object?._links.workflowitem?.href)}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(L.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B),p.rXU(S.WorkflowItemDataService))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-claimed-task-actions-approve"]],standalone:!0,features:[p.Vt3,p.aNF],decls:7,vars:13,consts:[["type","button",3,"click","className","ngbTooltip","dsBtnDisabled"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-thumbs-up"]],template:function(gt,Ct){1&gt&&(p.j41(0,"button",0),p.nI1(1,"translate"),p.nI1(2,"async"),p.bIt("click",function(){return Ct.submitTask()}),p.DNE(3,bt,4,3,"span",1),p.nI1(4,"async"),p.DNE(5,Jt,4,3,"span",1),p.nI1(6,"async"),p.k0s()),2&gt&&(p.FS9("ngbTooltip",p.bMT(1,5,"submission.workflow.tasks.claimed.approve_help")),p.Y8G("className","btn btn-success")("dsBtnDisabled",p.bMT(2,7,Ct.processing$)),p.R7$(3),p.Y8G("ngIf",p.bMT(4,9,Ct.processing$)),p.R7$(2),p.Y8G("ngIf",!0!==p.bMT(6,11,Ct.processing$)))},dependencies:[u.n8,u.md,i.bT,i.Jj,e.h,e.D9,Te.A]})}}return We})();var it=n(66211);function xe(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",2),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.generic.processing")," "))}function Ve(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",3),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.claimed.decline")," "))}let je=(()=>{class We extends wt{constructor(lt,gt,Ct,Wt,pn,Rn){super(lt,gt,Ct,Wt,pn,Rn),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=pn,this.requestService=Rn}reloadObjectExecution(){return(0,J.of)(this.object)}convertReloadedObject(lt){return Object.assign(new it.H,lt,{indexableObject:lt})}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(L.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-claimed-task-actions-decline-task"]],standalone:!0,features:[p.Vt3,p.aNF],decls:7,vars:12,consts:[["type","button",1,"declineTaskAction","btn","btn-warning",3,"click","dsBtnDisabled","ngbTooltip"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-ban"]],template:function(gt,Ct){1&gt&&(p.j41(0,"button",0),p.nI1(1,"translate"),p.nI1(2,"async"),p.bIt("click",function(){return Ct.submitTask()}),p.DNE(3,xe,4,3,"span",1),p.nI1(4,"async"),p.DNE(5,Ve,4,3,"span",1),p.nI1(6,"async"),p.k0s()),2&gt&&(p.FS9("ngbTooltip",p.bMT(1,4,"submission.workflow.tasks.claimed.decline_help")),p.Y8G("dsBtnDisabled",p.bMT(2,6,Ct.processing$)),p.R7$(3),p.Y8G("ngIf",p.bMT(4,8,Ct.processing$)),p.R7$(2),p.Y8G("ngIf",!0!==p.bMT(6,10,Ct.processing$)))},dependencies:[u.n8,u.md,i.bT,i.Jj,e.h,e.D9,Te.A]})}}return We})();const At=We=>[We];function Qe(We,sn){if(1&We&&(p.j41(0,"a",1),p.nI1(1,"translate"),p.nI1(2,"async"),p.nrm(3,"i",2),p.EFF(4),p.nI1(5,"translate"),p.k0s()),2&We){let lt;const gt=p.XpG();p.FS9("ngbTooltip",p.bMT(1,3,"submission.workflow.tasks.claimed.edit_help")),p.Y8G("routerLink",p.eq3(9,At,"/workflowitems/"+(null==(lt=p.bMT(2,5,gt.object.workflowitem))||null==lt.payload?null:lt.payload.id)+"/edit")),p.R7$(4),p.SpI(" ",p.bMT(5,7,"submission.workflow.tasks.claimed.edit"),"\n")}}let ke=(()=>{class We extends wt{constructor(lt,gt,Ct,Wt,pn,Rn){super(lt,gt,Ct,Wt,pn,Rn),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=pn,this.requestService=Rn}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(L.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-claimed-task-actions-edit-metadata"]],standalone:!0,features:[p.Vt3,p.aNF],decls:1,vars:1,consts:[["class","btn btn-primary","role","button",3,"ngbTooltip","routerLink",4,"ngIf"],["role","button",1,"btn","btn-primary",3,"ngbTooltip","routerLink"],[1,"fa","fa-edit"]],template:function(gt,Ct){1&gt&&p.DNE(0,Qe,6,11,"a",0),2&gt&&p.Y8G("ngIf",Ct.object)},dependencies:[i.bT,u.n8,u.md,L.Wk,i.Jj,e.h,e.D9]})}}return We})();var Le=n(79951);let dt=(()=>{class We extends wt{constructor(lt,gt,Ct,Wt,pn,Rn,Yn){super(lt,gt,Ct,Wt,pn,Rn),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=pn,this.requestService=Rn,this.route=Yn}ngOnInit(){super.ngOnInit(),this.initPageRoute()}initPageRoute(){this.subs.push(this.object.workflowitem.pipe((0,C.ak)()).subscribe(lt=>{this.workflowTaskPageRoute=(0,Le.HJ)(lt.id)}))}openAdvancedClaimedTaskTab(){const lt={queryParams:this.getQueryParams()};Object.keys(this.route.snapshot.queryParams).length>0&&(lt.state={},lt.state.previousQueryParams=this.route.snapshot.queryParams),this.router.navigate([this.workflowTaskPageRoute],lt)}getQueryParams(){return{workflow:this.workflowType,claimedTask:this.object.id}}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(L.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B),p.rXU(L.nX))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-advanced-claimed-task-action-abstract"]],features:[p.Vt3],decls:0,vars:0,template:function(gt,Ct){},encapsulation:2})}}return We})(),It=(()=>{class We extends dt{constructor(lt,gt,Ct,Wt,pn,Rn,Yn){super(lt,gt,Ct,Wt,pn,Rn,Yn),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=pn,this.requestService=Rn,this.route=Yn,this.workflowType=z}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(L.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B),p.rXU(L.nX))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-advanced-claimed-task-action-rating-reviewer"]],standalone:!0,features:[p.Vt3,p.aNF],decls:5,vars:6,consts:[[1,"ratingReviewerAction","btn","btn-primary",3,"click","ngbTooltip"],[1,"fa","fa-star-half-alt"]],template:function(gt,Ct){1&gt&&(p.j41(0,"button",0),p.nI1(1,"translate"),p.bIt("click",function(){return Ct.openAdvancedClaimedTaskTab()}),p.nrm(2,"i",1),p.EFF(3),p.nI1(4,"translate"),p.k0s()),2&gt&&(p.FS9("ngbTooltip",p.bMT(1,2,"submission.workflow.generic."+Ct.option+"-help")),p.R7$(3),p.SpI(" ",p.bMT(4,4,"submission.workflow.generic."+Ct.option),"\n"))},dependencies:[u.n8,u.md,e.h,e.D9]})}}return We})();var an=n(83233);function Dn(We,sn){1&We&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&We&&p.Y8G("innerHTML",p.bMT(1,1,"submission.workflow.tasks.claimed.reject_help"),p.npT)}function jn(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",5),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function Zn(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",6),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.claimed.reject.submit"),""))}function wn(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",5),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function ct(We,sn){1&We&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&We&&(p.R7$(),p.JRh(p.bMT(2,1,"submission.workflow.tasks.claimed.reject.reason.submit")))}function vt(We,sn){if(1&We){const lt=p.RV6();p.j41(0,"div",7)(1,"h4",8),p.EFF(2),p.nI1(3,"translate"),p.k0s(),p.j41(4,"button",9),p.bIt("click",function(){const Ct=p.eBV(lt).dismiss;return p.Njj(Ct("Cross click"))}),p.k0s()(),p.j41(5,"div",10)(6,"div",11),p.EFF(7),p.nI1(8,"translate"),p.k0s(),p.j41(9,"form",12),p.bIt("ngSubmit",function(){p.eBV(lt);const Ct=p.XpG();return p.Njj(Ct.submitTask())}),p.nrm(10,"textarea",13),p.nI1(11,"translate"),p.j41(12,"button",14),p.nI1(13,"async"),p.DNE(14,wn,4,3,"span",3),p.nI1(15,"async"),p.DNE(16,ct,3,3,"span",3),p.nI1(17,"async"),p.k0s()()()}if(2&We){const lt=p.XpG();p.R7$(2),p.JRh(p.bMT(3,7,"submission.workflow.tasks.claimed.reject.reason.title")),p.R7$(5),p.SpI(" ",p.bMT(8,9,"submission.workflow.tasks.claimed.reject.reason.info")," "),p.R7$(2),p.Y8G("formGroup",lt.rejectForm),p.R7$(),p.FS9("placeholder",p.bMT(11,11,"submission.workflow.tasks.claimed.reject.reason.placeholder")),p.R7$(2),p.Y8G("dsBtnDisabled",!lt.rejectForm.valid||p.bMT(13,13,lt.processing$)),p.R7$(2),p.Y8G("ngIf",p.bMT(15,15,lt.processing$)),p.R7$(2),p.Y8G("ngIf",!0!==p.bMT(17,17,lt.processing$))}}let Nn=(()=>{class We extends wt{constructor(lt,gt,Ct,Wt,pn,Rn,Yn,$n){super(lt,gt,Ct,Wt,pn,Rn),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=pn,this.requestService=Rn,this.formBuilder=Yn,this.modalService=$n}ngOnInit(){this.rejectForm=this.formBuilder.group({reason:["",t.k0.required]})}submitTask(){this.modalRef.close("Send Button"),super.submitTask()}createbody(){const lt=this.rejectForm.get("reason").value;return Object.assign(super.createbody(),{reason:lt})}openRejectModal(lt){this.rejectForm.reset(),this.modalRef=this.modalService.open(lt)}reloadObjectExecution(){return(0,J.of)(this.object)}convertReloadedObject(lt){return Object.assign(new an.q,lt,{indexableObject:lt})}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(L.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B),p.rXU(t.ze),p.rXU(u.Bq))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-claimed-task-actions-reject"]],standalone:!0,features:[p.Vt3,p.aNF],decls:10,vars:11,consts:[["rejectTipContent",""],["rejectModal",""],[3,"click","className","ngbTooltip","dsBtnDisabled"],[4,"ngIf"],[3,"innerHTML"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["role","alert",1,"alert","alert-info"],[3,"ngSubmit","formGroup"],["formControlName","reason","rows","4",2,"width","100%",3,"placeholder"],["id","btn-chat","type","submit",1,"btn","btn-danger","btn-lg","btn-block","w-100","mt-3",3,"dsBtnDisabled"]],template:function(gt,Ct){if(1&gt){const Wt=p.RV6();p.DNE(0,Dn,2,3,"ng-template",null,0,p.C5r),p.j41(2,"button",2),p.nI1(3,"async"),p.bIt("click",function(){p.eBV(Wt);const Rn=p.sdS(9);return p.Njj(Ct.openRejectModal(Rn))}),p.DNE(4,jn,4,3,"span",3),p.nI1(5,"async"),p.DNE(6,Zn,4,3,"span",3),p.nI1(7,"async"),p.k0s(),p.DNE(8,vt,18,19,"ng-template",null,1,p.C5r)}if(2&gt){const Wt=p.sdS(1);p.R7$(2),p.Y8G("className","btn btn-danger")("ngbTooltip",Wt)("dsBtnDisabled",p.bMT(3,5,Ct.processing$)),p.R7$(2),p.Y8G("ngIf",p.bMT(5,7,Ct.processing$)),p.R7$(2),p.Y8G("ngIf",!0!==p.bMT(7,9,Ct.processing$))}},dependencies:[u.n8,u.md,i.bT,t.YN,t.qT,t.me,t.BC,t.cb,t.X1,t.j4,t.JD,i.Jj,e.h,e.D9,Te.A]})}}return We})();var Jn=n(28515);function Gs(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",2),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function ls(We,sn){1&We&&(p.j41(0,"span"),p.nrm(1,"i",3),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&We&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"submission.workflow.tasks.claimed.return"),""))}const yn=new Map([["submit_approve",Ft],["submit_decline_task",je],["submit_edit_metadata",ke],[q,It],["submit_reject",Nn],["return_to_pool",(()=>{class We extends wt{constructor(lt,gt,Ct,Wt,pn,Rn,Yn){super(lt,gt,Ct,Wt,pn,Rn),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=pn,this.requestService=Rn,this.poolTaskService=Yn}reloadObjectExecution(){return this.poolTaskService.findByItem(this.itemUuid).pipe((0,nn.s)(1))}actionExecution(){return this.objectDataService.returnToPoolTask(this.object.id)}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(L.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B),p.rXU(Jn.PoolTaskDataService))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-claimed-task-actions-return-to-pool"]],standalone:!0,features:[p.Vt3,p.aNF],decls:7,vars:13,consts:[["type","button",3,"click","className","ngbTooltip","dsBtnDisabled"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-undo"]],template:function(gt,Ct){1&gt&&(p.j41(0,"button",0),p.nI1(1,"translate"),p.nI1(2,"async"),p.bIt("click",function(){return Ct.submitTask()}),p.DNE(3,Gs,4,3,"span",1),p.nI1(4,"async"),p.DNE(5,ls,4,3,"span",1),p.nI1(6,"async"),p.k0s()),2&gt&&(p.FS9("ngbTooltip",p.bMT(1,5,"submission.workflow.tasks.claimed.return_help")),p.Y8G("className","btn btn-secondary")("dsBtnDisabled",p.bMT(2,7,Ct.processing$)),p.R7$(3),p.Y8G("ngIf",p.bMT(4,9,Ct.processing$)),p.R7$(2),p.Y8G("ngIf",!0!==p.bMT(6,11,Ct.processing$)))},dependencies:[u.n8,u.md,i.bT,i.Jj,e.h,e.D9,Te.A]})}}return We})()],[rn,(()=>{class We extends dt{constructor(lt,gt,Ct,Wt,pn,Rn,Yn){super(lt,gt,Ct,Wt,pn,Rn,Yn),this.injector=lt,this.router=gt,this.notificationsService=Ct,this.translate=Wt,this.searchService=pn,this.requestService=Rn,this.route=Yn,this.workflowType=Pn}static{this.\u0275fac=function(gt){return new(gt||We)(p.rXU(p.zZn),p.rXU(L.Ix),p.rXU(T.I),p.rXU(e.c$),p.rXU(Kt.S),p.rXU(v.B),p.rXU(L.nX))}}static{this.\u0275cmp=p.VBU({type:We,selectors:[["ds-advanced-claimed-task-action-select-reviewer"]],standalone:!0,features:[p.Vt3,p.aNF],decls:5,vars:6,consts:[[1,"selectReviewerAction","btn","btn-primary",3,"click","ngbTooltip"],[1,"fa","fa-user"]],template:function(gt,Ct){1&gt&&(p.j41(0,"button",0),p.nI1(1,"translate"),p.bIt("click",function(){return Ct.openAdvancedClaimedTaskTab()}),p.nrm(2,"i",1),p.EFF(3),p.nI1(4,"translate"),p.k0s()),2&gt&&(p.FS9("ngbTooltip",p.bMT(1,2,"submission.workflow.generic."+Ct.option+"-help")),p.R7$(3),p.SpI(" ",p.bMT(4,4,"submission.workflow.generic."+Ct.option),"\n"))},dependencies:[u.n8,u.md,e.h,e.D9]})}}return We})()]]),ns=new Map([[z,te],[Pn,yt]]);function _t(We){return yn.get(We)}function Ht(We){return ns.get(We)}},5845:(F,b,n)=>{"use strict";n.d(b,{p:()=>$});var i=n(54438),t=n(84412),u=n(96697),e=n(88141),h=n(32473),m=n(80183),f=n(78655),v=n(4065),E=n(39806),_=n(29326),C=n(88318),S=n(25567),R=n(91581),T=n(52837),A=n(24261),p=n(12532),L=n(78416),D=n(27605),w=n(28515);class M{getConstructor(K){switch(K){case C.q.type:return _.ItemDataService;case R.F.type:return A.WorkspaceitemDataService;case S.t.type:return T.WorkflowItemDataService;case L.T.type:return p.ClaimedTaskDataService;case D.k.type:return w.PoolTaskDataService;default:return}}}var x=n(42547),j=n(7901),U=n(41780);let $=(()=>{class k{constructor(X,G,q,z,te,Z,J){this.objectType=X,this.injector=G,this.router=q,this.notificationsService=z,this.translate=te,this.searchService=Z,this.requestService=J,this.processCompleted=new i.bkB,this.processing$=new t.t(!1);const Q=new M;this.objectDataService=G.get(Q.getConstructor(X))}reload(){this.router.navigated=!1;const X=decodeURIComponent(this.router.url);this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.searchService.getEndpoint().pipe((0,u.s)(1),(0,e.M)(G=>this.requestService.removeByHrefSubstring(G))).subscribe(()=>this.router.navigateByUrl(X))}refresh(){this.objectDataService.findById(this.object.id,!1).pipe((0,m.yd)()).subscribe(X=>{this.initObjects(X.payload)})}handleActionResponse(X){X?(this.reload(),this.notificationsService.success(null,this.translate.get("submission.workflow.tasks.generic.success"),new v.y(5e3,!1))):this.notificationsService.error(null,this.translate.get("submission.workflow.tasks.generic.error"),new v.y(2e4,!0))}static{this.\u0275fac=function(G){return new(G||k)(i.rXU(x.v),i.rXU(i.zZn),i.rXU(j.Ix),i.rXU(E.I),i.rXU(U.c$),i.rXU(f.S),i.rXU(h.B))}}static{this.\u0275cmp=i.VBU({type:k,selectors:[["ds-mydspace-actions-abstract"]],inputs:{object:"object"},outputs:{processCompleted:"processCompleted"},decls:0,vars:0,template:function(G,q){},encapsulation:2})}}return k})()},46369:(F,b,n)=>{"use strict";n.d(b,{i:()=>D});var i=n(7673),t=n(96697),u=n(25558),e=n(88141),h=n(96354),m=n(1716),f=n(32473),v=n(80183),E=n(78655),_=n(4065),C=n(39806),S=n(43280),R=n(5845),T=n(54438),A=n(42547),p=n(7901),L=n(41780);let D=(()=>{class w extends R.p{constructor(x,j,U,$,k,K,X){super(x,j,U,$,k,K,X),this.objectType=x,this.injector=j,this.router=U,this.notificationsService=$,this.translate=k,this.searchService=K,this.requestService=X}ngOnInit(){this.initReloadAnchor(),this.initObjects(this.object)}startActionExecution(){return this.processing$.next(!0),this.actionExecution().pipe((0,t.s)(1),(0,u.n)(x=>x.hasSucceeded?this._reloadObject().pipe((0,e.M)(j=>{this.processing$.next(!1),this.handleReloadableActionResponse(x.hasSucceeded,j)})):(this.processing$.next(!1),this.handleReloadableActionResponse(x.hasSucceeded,null),(0,i.of)(null))))}handleReloadableActionResponse(x,j){x?(j?this.processCompleted.emit({result:x,reloadedObject:j}):this.reload(),this.notificationsService.success(null,this.translate.get("submission.workflow.tasks.generic.success"),new _.y(5e3,!1))):this.notificationsService.error(null,this.translate.get("submission.workflow.tasks.generic.error"),new _.y(2e4,!0))}initReloadAnchor(){}convertReloadedObject(x){const j=(0,S.L)(x.constructor);return Object.assign(new j,x,{indexableObject:x})}_reloadObject(){return this.reloadObjectExecution().pipe((0,u.n)(x=>x instanceof m.j?(0,i.of)(x).pipe((0,v.qD)(),(0,h.T)(j=>j.payload)):(0,i.of)(x))).pipe((0,h.T)(x=>x&&this.convertReloadedObject(x)))}static{this.\u0275fac=function(j){return new(j||w)(T.rXU(A.v),T.rXU(T.zZn),T.rXU(p.Ix),T.rXU(C.I),T.rXU(L.c$),T.rXU(E.S),T.rXU(f.B))}}static{this.\u0275cmp=T.VBU({type:w,selectors:[["ds-mydspace-reloadable-actions"]],features:[T.Vt3],decls:0,vars:0,template:function(j,U){},encapsulation:2})}}return w})()},43323:(F,b,n)=>{"use strict";n.d(b,{L:()=>u,o:()=>t});const t=(0,n(91e3).N)("dspace/ngrx/NO_OP_ACTION");class u{constructor(){this.type=t}}},91e3:(F,b,n)=>{"use strict";n.d(b,{N:()=>u});const i={};function u(e){if(i[e])throw new Error(`Action type "${e}" is not unique"`);return i[e]=!0,e}},16358:(F,b,n)=>{"use strict";n.d(b,{n:()=>i,p:()=>t});var i=function(u){return u.Fade="fade",u.FromTop="fromTop",u.FromRight="fromRight",u.FromBottom="fromBottom",u.FromLeft="fromLeft",u.Rotate="rotate",u.Scale="scale",u}(i||{}),t=function(u){return u.In="In",u.Out="Out",u}(t||{})},4065:(F,b,n)=>{"use strict";n.d(b,{y:()=>t});var i=n(16358);class t{constructor(e=5e3,h=!0,m=i.n.Scale,f=!0){this.timeOut=e,this.clickToClose=h,this.animate=m,this.announceContentInLiveRegion=f}}},3050:(F,b,n)=>{"use strict";n.d(b,{_:()=>i});var i=function(t){return t.Success="alert-success",t.Error="alert-danger",t.Info="alert-info",t.Warning="alert-warning",t}(i||{})},55709:(F,b,n)=>{"use strict";n.d(b,{z:()=>Pt});var i=n(49969),t=n(60177),u=n(54438),e=n(7673),h=n(71985),m=n(5964),f=n(61594),v=n(50332);const E=(0,i.wk)("fromBottomIn",(0,i.iF)({opacity:1,transform:"translateY(0)"})),_=(0,i.kY)("* => fromBottomIn",[(0,i.iF)({opacity:0,transform:"translateY(5%)"}),(0,i.i0)("400ms ease-in-out")]),C=(0,i.wk)("fromBottomOut",(0,i.iF)({opacity:0,transform:"translateY(-5%)"})),S=(0,i.kY)("fromBottomIn => fromBottomOut",[(0,i.iF)({opacity:1,transform:"translateY(0)"}),(0,i.i0)("300ms ease-in-out")]),p=((0,i.hZ)("fromBottomIn",[_]),(0,i.hZ)("fromBottomOut",[S]),(0,i.hZ)("fromBottomInOut",[_,S]),(0,i.wk)("fromLeftIn",(0,i.iF)({opacity:1,transform:"translateX(0)"}))),L=(0,i.kY)("* => fromLeftIn",[(0,i.iF)({opacity:0,transform:"translateX(-5%)"}),(0,i.i0)("400ms ease-in-out")]),D=(0,i.wk)("fromLeftOut",(0,i.iF)({opacity:0,transform:"translateX(5%)"})),w=(0,i.kY)("fromLeftIn => fromLeftOut",[(0,i.iF)({opacity:1,transform:"translateX(0)"}),(0,i.i0)("300ms ease-in-out")]),U=((0,i.hZ)("fromLeftIn",[L]),(0,i.hZ)("fromLeftOut",[w]),(0,i.hZ)("fromLeftInOut",[L,w]),(0,i.wk)("fromRightIn",(0,i.iF)({opacity:1,transform:"translateX(0)"}))),$=(0,i.kY)("* => fromRightIn",[(0,i.iF)({opacity:0,transform:"translateX(5%)"}),(0,i.i0)("400ms ease-in-out")]),k=(0,i.wk)("fromRightOut",(0,i.iF)({opacity:0,transform:"translateX(-5%)"})),K=(0,i.kY)("fromRightIn => fromRightOut",[(0,i.iF)({opacity:1,transform:"translateX(0)"}),(0,i.i0)("300ms ease-in-out")]);(0,i.hZ)("fromRightIn",[$]),(0,i.hZ)("fromRightOut",[K]),(0,i.hZ)("fromRightInOut",[$,K]);var z=n(6703),te=n(68681);const Z=(0,i.wk)("scaleIn",(0,i.iF)({opacity:1,transform:"scale(1)"})),J=(0,i.kY)("* => scaleIn",[(0,i.iF)({opacity:0,transform:"scale(0)"}),(0,i.i0)("400ms ease-in-out")]),Q=(0,i.wk)("scaleOut",(0,i.iF)({opacity:0,transform:"scale(0)"})),ee=(0,i.kY)("scaleIn => scaleOut",[(0,i.iF)({opacity:1,transform:"scale(1)"}),(0,i.i0)("400ms ease-in-out")]);(0,i.hZ)("scaleIn",[J]),(0,i.hZ)("scaleOut",[ee]),(0,i.hZ)("scaleInOut",[J,ee]);var se=n(82777),ce=n(16358),Te=n(39806),be=n(345);const me=(Ce,Be,ut,un)=>({"fas fa-2x":!0,"fa-check-circle":Ce,"fa-times-circle":Be,"fa-exclamation-triangle":ut,"fa-info-circle":un}),re=Ce=>({width:Ce});function Ee(Ce,Be){if(1&Ce&&(u.j41(0,"div",12),u.nrm(1,"span",13),u.k0s()),2&Ce){const ut=u.XpG();u.R7$(),u.Y8G("ngStyle",u.eq3(1,re,ut.progressWidth+"%"))}}function De(Ce,Be){if(1&Ce){const ut=u.RV6();u.j41(0,"button",14),u.bIt("click",function(){u.eBV(ut);const rn=u.XpG();return u.Njj(rn.remove())}),u.k0s()}}function tt(Ce,Be){1&Ce&&u.eu8(0)}function ht(Ce,Be){if(1&Ce&&(u.j41(0,"div",17),u.DNE(1,tt,1,0,"ng-container",18),u.k0s()),2&Ce){const ut=u.XpG(2);u.R7$(),u.Y8G("ngTemplateOutlet",ut.title)}}function Fe(Ce,Be){if(1&Ce&&(u.j41(0,"div",17),u.EFF(1),u.nI1(2,"async"),u.k0s()),2&Ce){const ut=u.XpG(2);u.R7$(),u.JRh(u.bMT(2,1,ut.title))}}function Et(Ce,Be){if(1&Ce&&(u.j41(0,"div",15)(1,"strong"),u.DNE(2,ht,2,1,"div",16)(3,Fe,3,3,"ng-template",null,0,u.C5r),u.k0s()()),2&Ce){const ut=u.sdS(4),un=u.XpG();u.R7$(2),u.Y8G("ngIf",un.titleIsTemplate)("ngIfElse",ut)}}function Ye(Ce,Be){1&Ce&&u.eu8(0)}function pt(Ce,Be){if(1&Ce&&(u.j41(0,"div",20),u.DNE(1,Ye,1,0,"ng-container",18),u.k0s()),2&Ce){const ut=u.XpG(2);u.R7$(),u.Y8G("ngTemplateOutlet",ut.content)}}function Mt(Ce,Be){if(1&Ce&&(u.j41(0,"div",20),u.EFF(1),u.nI1(2,"async"),u.k0s()),2&Ce){const ut=u.XpG(2);u.R7$(),u.JRh(u.bMT(2,1,ut.content))}}function Ne(Ce,Be){if(1&Ce&&(u.j41(0,"div",15),u.DNE(1,pt,2,1,"div",19)(2,Mt,3,3,"ng-template",null,1,u.C5r),u.k0s()),2&Ce){const ut=u.sdS(3),un=u.XpG();u.R7$(),u.Y8G("ngIf",un.contentIsTemplate)("ngIfElse",ut)}}function ot(Ce,Be){1&Ce&&u.eu8(0)}function Gt(Ce,Be){if(1&Ce&&(u.j41(0,"div",22),u.DNE(1,ot,1,0,"ng-container",18),u.k0s()),2&Ce){const ut=u.XpG(2);u.R7$(),u.Y8G("ngTemplateOutlet",ut.content)}}function Zt(Ce,Be){if(1&Ce&&u.nrm(0,"div",23),2&Ce){const ut=u.XpG(2);u.Y8G("innerHTML",ut.content,u.npT)}}function mt(Ce,Be){if(1&Ce&&(u.j41(0,"div",15),u.DNE(1,Gt,2,1,"div",21)(2,Zt,1,1,"ng-template",null,2,u.C5r),u.k0s()),2&Ce){const ut=u.sdS(3),un=u.XpG();u.R7$(),u.Y8G("ngIf",un.contentIsTemplate)("ngIfElse",ut)}}let Pt=(()=>{class Ce{constructor(ut,un,rn,Pn){this.notificationService=ut,this.domSanitizer=un,this.cdr=rn,this.zone=Pn,this.notification=null,this.isPaused$=(0,e.of)(!1),this.showProgressBar=!1,this.titleIsTemplate=!1,this.contentIsTemplate=!1,this.htmlIsTemplate=!1,this.progressWidth=0,this.stopTime=!1,this.count=0,this.instance=()=>{this.diff=(new Date).getTime()-this.start-this.count*this.speed,this.isPaused$.pipe((0,m.p)(yt=>!yt),(0,f.$)()).subscribe(()=>{this.count++===this.steps?this.remove():this.stopTime||(this.showProgressBar&&(this.progressWidth+=100/this.steps),this.timer=setTimeout(this.instance,this.speed-this.diff)),this.zone.run(()=>this.cdr.detectChanges())})}}ngOnInit(){this.animate=this.notification.options.animate+ce.p.In,0!==this.notification.options.timeOut&&(this.startTimeOut(),this.showProgressBar=!0),this.html=this.notification.html,this.contentType(this.notification.title,"title"),this.contentType(this.notification.content,"content")}startTimeOut(){this.steps=this.notification.options.timeOut/10,this.speed=this.notification.options.timeOut/this.steps,this.start=(new Date).getTime(),this.zone.runOutsideAngular(()=>this.timer=setTimeout(this.instance,this.speed))}ngOnDestroy(){clearTimeout(this.timer)}remove(){this.animate?(this.setAnimationOut(),setTimeout(()=>{this.notificationService.remove(this.notification)},1e3)):this.notificationService.remove(this.notification)}contentType(ut,un){if(ut instanceof u.C4Q)this[un]=ut;else if("title"===un||"content"===un&&!this.html){let rn=null;(0,se.hj)(ut)&&("string"==typeof ut?rn=(0,e.of)(ut):ut instanceof h.c?rn=ut:"object"==typeof ut&&(0,se.hj)(ut.value)&&(rn=(0,e.of)(ut.value))),this[un]=rn}else this[un]=this.domSanitizer.bypassSecurityTrustHtml(ut);this[un+"IsTemplate"]=ut instanceof u.C4Q}setAnimationOut(){this.animate=this.notification.options.animate+ce.p.Out,this.cdr.detectChanges()}static{this.\u0275fac=function(un){return new(un||Ce)(u.rXU(Te.I),u.rXU(be.up),u.rXU(u.gRc),u.rXU(u.SKi))}}static{this.\u0275cmp=u.VBU({type:Ce,selectors:[["ds-notification"]],inputs:{notification:"notification",isPaused$:"isPaused$"},standalone:!0,features:[u.aNF],decls:11,vars:15,consts:[["regularTitle",""],["regularContent",""],["regularHtml",""],["role","alert"],["class","notification-progress-loader position-absolute w-100",4,"ngIf"],["type","button","class","btn-close pt-0 pe-1 ps-0 pb-0 mt-1 me-1","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"notification-icon","d-flex","justify-content-center"],[3,"ngClass"],[1,"d-flex","flex-column","justify-content-center","align-content-stretch"],["class","p-2 me-3",4,"ngIf"],[1,"notification-progress-loader","position-absolute","w-100"],[1,"h-100","float-start",3,"ngStyle"],["type","button","data-dismiss","alert","aria-label","Close",1,"btn-close","pt-0","pe-1","ps-0","pb-0","mt-1","me-1",3,"click"],[1,"p-2","me-3"],["class","notification-title ps-1",4,"ngIf","ngIfElse"],[1,"notification-title","ps-1"],[4,"ngTemplateOutlet"],["class","notification-content ps-1",4,"ngIf","ngIfElse"],[1,"notification-content","ps-1"],["class","notification-html ps-1",4,"ngIf","ngIfElse"],[1,"notification-html","ps-1"],[1,"notification-html","ps-1",3,"innerHTML"]],template:function(un,rn){1&un&&(u.j41(0,"div",3),u.DNE(1,Ee,2,3,"div",4)(2,De,1,0,"button",5),u.j41(3,"div",6)(4,"div",7)(5,"div",8),u.nrm(6,"i",9),u.k0s()(),u.j41(7,"div",10),u.DNE(8,Et,5,2,"div",11)(9,Ne,4,2,"div",11)(10,mt,4,2,"div",11),u.k0s()()()),2&un&&(u.ZvI("notification alert ",rn.notification.type," alert-dismissible m-3 shadow"),u.Y8G("@enterLeave",rn.animate),u.R7$(),u.Y8G("ngIf",rn.showProgressBar),u.R7$(),u.Y8G("ngIf",rn.notification.options.clickToClose),u.R7$(4),u.Y8G("ngClass",u.ziG(10,me,"alert-success"===rn.notification.type,"alert-danger"===rn.notification.type,"alert-warning"===rn.notification.type,"alert-info"===rn.notification.type)),u.R7$(2),u.Y8G("ngIf",rn.title),u.R7$(),u.Y8G("ngIf",rn.content&&!rn.html),u.R7$(),u.Y8G("ngIf",rn.content&&rn.html))},dependencies:[t.bT,t.B3,t.YU,t.T3,t.Jj],styles:[".notification{display:inline-block;min-width:var(--bs-modal-sm);text-align:left}.btn-close{outline:none!important;opacity:.8}.notification-icon{min-width:3rem}.notification-progress-loader{top:-1px;left:0;height:1px}.alert-success .notification-progress-loader span{background:var(--ds-notification-bg-success)}.alert-danger .notification-progress-loader span{background:var(--ds-notification-bg-danger)}.alert-info .notification-progress-loader span{background:var(--ds-notification-bg-info)}.alert-warning .notification-progress-loader span{background:var(--ds-notification-bg-warning)}\n"],encapsulation:2,data:{animation:[(0,i.hZ)("enterLeave",[v.e9,v.HT,v.ai,v.wA,_,E,S,C,$,U,K,k,L,p,w,D,z.iP,z.Wk,z.Py,z.B_,te.UE,te.CC,te.L2,te.Ru,Z,J,Q,ee])]},changeDetection:0})}}return Ce})()},25871:(F,b,n)=>{"use strict";n.d(b,{s:()=>A});var i=n(60177),t=n(25499),u=n(22458),e=n.n(u),h=n(84412),m=n(7673),f=n(96697),v=n(82777),E=n(25488),_=n(55709),C=n(39806);const S=p=>p.notifications;var R=n(54438);function T(p,L){if(1&p&&R.nrm(0,"ds-notification",2),2&p){const D=L.$implicit,w=R.XpG();R.Y8G("notification",D)("isPaused$",w.isPaused$)}}let A=(()=>{class p{set options(D){this.attachChanges(D)}constructor(D,w,M,x){this.service=D,this.store=w,this.cdr=M,this.liveRegionService=x,this.notifications=[],this.position=["bottom","right"],this.maxStack=8,this.rtl=!1,this.animate="fromRight",this.isPaused$=new h.t(!1)}ngOnInit(){this.sub=this.store.pipe((0,t.Lt)(S)).subscribe(D=>{0===D.length?this.notifications=[]:D.length>this.notifications.length?e()(D,this.notifications).forEach(M=>{this.add(M)}):e()(this.notifications,D).forEach(M=>{this.notifications=this.notifications.filter(x=>x.id!==M.id)}),this.cdr.detectChanges()})}add(D){this.block(D)?this.service.remove(D):(this.notifications.length>=this.maxStack&&this.notifications.splice(this.notifications.length-1,1),this.notifications.splice(0,0,D),this.addContentToLiveRegion(D))}addContentToLiveRegion(D){let w=D.content;!D.options.announceContentInLiveRegion||(0,v.Tn)(w)||("string"==typeof w&&(w=(0,m.of)(w)),w.pipe((0,v.VT)(),(0,f.s)(1)).subscribe(M=>this.liveRegionService.addMessage(M)))}block(D){const w=D.html?this.checkHtml:this.checkStandard;return this.notifications.forEach(M=>{if(w(M,D))return!0}),!1}checkStandard(D,w){return D.type===w.type&&D.title===w.title&&D.content===w.content}checkHtml(D,w){return!!D.html&&D.type===w.type&&D.title===w.title&&D.content===w.content&&D.html===w.html}attachChanges(D){Object.keys(D).forEach(w=>{this.hasOwnProperty(w)&&(this[w]=D[w])})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(w){return new(w||p)(R.rXU(C.I),R.rXU(t.il),R.rXU(R.gRc),R.rXU(E.A))}}static{this.\u0275cmp=R.VBU({type:p,selectors:[["ds-notifications-board"]],inputs:{options:"options"},standalone:!0,features:[R.aNF],decls:2,vars:2,consts:[[1,"notifications-wrapper","position-fixed",3,"mouseenter","mouseleave","ngClass"],["class","notification",3,"notification","isPaused$",4,"ngFor","ngForOf"],[1,"notification",3,"notification","isPaused$"]],template:function(w,M){1&w&&(R.j41(0,"div",0),R.bIt("mouseenter",function(){return M.isPaused$.next(!0)})("mouseleave",function(){return M.isPaused$.next(!1)}),R.DNE(1,T,1,2,"ds-notification",1),R.k0s()),2&w&&(R.Y8G("ngClass",M.position),R.R7$(),R.Y8G("ngForOf",M.notifications))},dependencies:[i.YU,i.pM,_.z],styles:[".notifications-wrapper{z-index:var(--bs-zindex-popover);text-align:right;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;hyphens:auto}.notifications-wrapper .notification{display:block}.notifications-wrapper.left{left:0}.notifications-wrapper.top{top:0}.notifications-wrapper.right{right:0}.notifications-wrapper.bottom{bottom:0}.notifications-wrapper.center{left:50%;transform:translate(-50%)}.notifications-wrapper.middle{top:50%;transform:translateY(-50%)}.notifications-wrapper.middle.center{transform:translate(-50%,-50%)}@media screen and (max-width: 576px){.notifications-wrapper{width:auto;left:0;right:0}}\n"],encapsulation:2,changeDetection:0})}}return p})()},11568:(F,b,n)=>{"use strict";n.d(b,{Is:()=>t,Sc:()=>u,e0:()=>h,o4:()=>e});var i=n(91e3);const t={NEW_NOTIFICATION:(0,i.N)("dspace/notifications/NEW_NOTIFICATION"),REMOVE_ALL_NOTIFICATIONS:(0,i.N)("dspace/notifications/REMOVE_ALL_NOTIFICATIONS"),REMOVE_NOTIFICATION:(0,i.N)("dspace/notifications/REMOVE_NOTIFICATION")};class u{constructor(f){this.type=t.NEW_NOTIFICATION,this.payload=f}}class e{constructor(f){this.payload=f,this.type=t.REMOVE_ALL_NOTIFICATIONS}}class h{constructor(f){this.type=t.REMOVE_NOTIFICATION,this.payload=f}}},39806:(F,b,n)=>{"use strict";n.d(b,{I:()=>T});var i=n(59519),t=n.n(i),u=n(7673),e=n(61594),h=n(88280),m=n(82777),f=n(4065);class v{constructor(p,L,D,w,M,x){this.id=p,this.type=L,this.title=D,this.content=w,this.options=(0,m.Im)(M)?new f.y:M,this.html=x}}var E=n(3050),_=n(11568),C=n(54438),S=n(25499),R=n(41780);let T=(()=>{class A{constructor(L,D){this.store=L,this.translate=D}add(L){const D=new _.Sc(L);this.store.dispatch(D)}success(L=(0,u.of)(""),D=(0,u.of)(""),w={},M=!1){const x={...this.getDefaultOptions(),...w},j=new v(t()(),E._.Success,L,D,x,M);return this.add(j),j}error(L=(0,u.of)(""),D=(0,u.of)(""),w={},M=!1){const x={...this.getDefaultOptions(),...w},j=new v(t()(),E._.Error,L,D,x,M);return this.add(j),j}info(L=(0,u.of)(""),D=(0,u.of)(""),w={},M=!1){const x={...this.getDefaultOptions(),...w},j=new v(t()(),E._.Info,L,D,x,M);return this.add(j),j}warning(L=(0,u.of)(""),D=(0,u.of)(""),w=this.getDefaultOptions(),M=!1){const x={...this.getDefaultOptions(),...w},j=new v(t()(),E._.Warning,L,D,x,M);return this.add(j),j}notificationWithAnchor(L,D,w,M,x,j){this.translate.get(M).pipe((0,e.$)()).subscribe(U=>{const $=`<a class="align-baseline btn btn-link p-0 m-0" href="${w}" >\n                        <strong>${U}</strong>\n                      </a>`,k=Object.create({});k[j]=$,this.translate.get(x,k).pipe((0,e.$)()).subscribe(K=>{switch(L){case E._.Success:this.success(null,K,D,!0);break;case E._.Error:this.error(null,K,D,!0);break;case E._.Info:this.info(null,K,D,!0);break;case E._.Warning:this.warning(null,K,D,!0)}})})}remove(L){const D=new _.e0(L.id);this.store.dispatch(D)}removeAll(){const L=new _.o4;this.store.dispatch(L)}getDefaultOptions(){return new f.y(h.c.notifications.timeOut,h.c.notifications.clickToClose,h.c.notifications.animate)}static{this.\u0275fac=function(D){return new(D||A)(C.KVO(S.il),C.KVO(R.c$))}}static{this.\u0275prov=C.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},7581:(F,b,n)=>{"use strict";n.d(b,{n:()=>i});var i=function(t){return t[t.None=0]="None",t[t.Link=1]="Link",t[t.ExternalLink=2]="ExternalLink",t}(i||{})},67560:(F,b,n)=>{"use strict";n.d(b,{h:()=>Ke});var i=n(60177),t=n(54438),u=n(96354),e=n(23294),f=(n(6238),n(1716),n(26292)),v=n(78448),E=n(82777),_=n(41780),C=n(50332),S=n(79632),R=n(82394),T=n(7581),A=n(17191),p=n(5682);function L(je,At){if(1&je){const Qe=t.RV6();t.j41(0,"div",5)(1,"ds-listable-object-component-loader",6),t.bIt("contentChange",function(ke){t.eBV(Qe);const Le=t.XpG(2);return t.Njj(Le.contentChange.emit(ke))}),t.k0s()()}if(2&je){const Qe=At.$implicit,st=t.XpG(2);t.R7$(),t.Y8G("object",Qe)("viewMode",st.viewMode)("context",st.context)("showThumbnails",st.showThumbnails)}}function D(je,At){if(1&je&&(t.j41(0,"div",3),t.DNE(1,L,2,4,"div",4),t.k0s()),2&je){const Qe=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("ngForOf",null==Qe.objects||null==Qe.objects.payload?null:Qe.objects.payload.page)}}function w(je,At){1&je&&(t.nrm(0,"ds-error",7),t.nI1(1,"translate")),2&je&&t.FS9("message",t.bMT(1,1,"error.objects"))}function M(je,At){1&je&&(t.nrm(0,"ds-loading",7),t.nI1(1,"translate")),2&je&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let x=(()=>{class je{constructor(){this.viewMode=v.n.DetailedListElement,this.hideGear=!0,this.hidePagerWhenSinglePage=!0,this.showPaginator=!0,this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.hidePaginationDetail=!0,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB}set objects(Qe){this._objects=Qe}get objects(){return this._objects}onPageChange(Qe){this.pageChange.emit(Qe)}onPageSizeChange(Qe){this.pageSizeChange.emit(Qe)}onSortDirectionChange(Qe){this.sortDirectionChange.emit(Qe)}onSortFieldChange(Qe){this.sortFieldChange.emit(Qe)}onPaginationChange(Qe){this.paginationChange.emit(Qe)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(st){return new(st||je)}}static{this.\u0275cmp=t.VBU({type:je,selectors:[["ds-object-detail"]],inputs:{config:"config",sortConfig:"sortConfig",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects",hidePaginationDetail:"hidePaginationDetail"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.aNF],decls:4,vars:11,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","objects","hideGear","hidePaginationDetail","hidePagerWhenSinglePage","showPaginator"],["class","row mt-2",4,"ngIf"],[3,"message",4,"ngIf"],[1,"row","mt-2"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[3,"contentChange","object","viewMode","context","showThumbnails"],[3,"message"]],template:function(st,ke){1&st&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(dt){return ke.onPageChange(dt)})("pageSizeChange",function(dt){return ke.onPageSizeChange(dt)})("sortDirectionChange",function(dt){return ke.onSortDirectionChange(dt)})("sortFieldChange",function(dt){return ke.onSortFieldChange(dt)})("paginationChange",function(dt){return ke.onPaginationChange(dt)})("prev",function(){return ke.goPrev()})("next",function(){return ke.goNext()}),t.DNE(1,D,2,2,"div",1)(2,w,2,3,"ds-error",2)(3,M,2,3,"ds-loading",2),t.k0s()),2&st&&(t.Y8G("paginationOptions",ke.config)("collectionSize",null==ke.objects||null==ke.objects.payload?null:ke.objects.payload.totalElements)("sortOptions",ke.sortConfig)("objects",ke.objects)("hideGear",ke.hideGear)("hidePaginationDetail",ke.hidePaginationDetail)("hidePagerWhenSinglePage",ke.hidePagerWhenSinglePage)("showPaginator",ke.showPaginator),t.R7$(),t.Y8G("ngIf",null==ke.objects?null:ke.objects.hasSucceeded),t.R7$(),t.Y8G("ngIf",ke.objects.hasFailed),t.R7$(),t.Y8G("ngIf",ke.objects.isLoading))},dependencies:[p.e,i.bT,i.pM,A.v,S.A,R.v,_.h,_.D9],styles:["[_nghost-%COMP%]  div.thumbnail>img{height:var(--ds-card-thumbnail-height);width:100%}"],data:{animation:[C.qG]}})}}return je})();var j=n(84412),U=n(84572),$=n(99172),k=n(57538),K=n(75465);function X(je,At){if(1&je&&(t.j41(0,"div",7),t.nI1(1,"dsBrowserOnly"),t.nrm(2,"ds-listable-object-component-loader",8),t.k0s()),2&je){const Qe=At.$implicit,st=t.XpG(3);t.BMQ("data-test",t.bMT(1,6,"grid-object")),t.R7$(2),t.Y8G("object",Qe)("viewMode",st.viewMode)("context",st.context)("showThumbnails",st.showThumbnails)("linkType",st.linkType)}}function G(je,At){if(1&je&&(t.j41(0,"div",5),t.DNE(1,X,3,8,"div",6),t.k0s()),2&je){const Qe=At.$implicit;t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("ngForOf",Qe)}}function q(je,At){if(1&je&&(t.j41(0,"div",3),t.DNE(1,G,2,2,"div",4),t.nI1(2,"async"),t.k0s()),2&je){const Qe=t.XpG();t.R7$(),t.Y8G("ngForOf",t.bMT(2,1,Qe.columns$))}}function z(je,At){1&je&&(t.nrm(0,"ds-error",9),t.nI1(1,"translate")),2&je&&t.FS9("message",t.bMT(1,1,"error.objects"))}function te(je,At){1&je&&(t.nrm(0,"ds-loading",9),t.nI1(1,"translate")),2&je&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let Z=(()=>{class je{set objects(Qe){this._objects$.next(Qe)}get objects(){return this._objects$.getValue()}constructor(Qe){this.hostWindow=Qe,this.viewMode=v.n.GridElement,this.showPaginator=!0,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.hidePaginationDetail=!1,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.data={},this._objects$=new j.t(void 0)}ngOnInit(){const Qe=this.hostWindow.widthCategory.pipe((0,u.T)(st=>{switch(st){case k.tP.XL:case k.tP.LG:return 3;case k.tP.MD:case k.tP.SM:return 2;default:return 1}}),(0,e.F)()).pipe((0,$.Z)(3));this.columns$=(0,U.z)(Qe,this._objects$).pipe((0,u.T)(([st,ke])=>{if((0,E.a4)(ke)&&(0,E.a4)(ke.payload)&&(0,E.a4)(ke.payload.page)){const dt=[];return ke.payload.page.forEach((It,an)=>{const Dn=an%st;let jn=dt[Dn];(0,E.Tn)(jn)&&(jn=[]),dt[Dn]=[...jn,It]}),dt}return[]}))}onPageChange(Qe){this.pageChange.emit(Qe)}onPageSizeChange(Qe){this.pageSizeChange.emit(Qe)}onSortDirectionChange(Qe){this.sortDirectionChange.emit(Qe)}onSortFieldChange(Qe){this.sortFieldChange.emit(Qe)}onPaginationChange(Qe){this.paginationChange.emit(Qe)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(st){return new(st||je)(t.rXU(k.CV))}}static{this.\u0275cmp=t.VBU({type:je,selectors:[["ds-object-grid"]],inputs:{config:"config",sortConfig:"sortConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",objects:"objects"},outputs:{change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:4,vars:11,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","hideGear","objects","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator"],["class","card-columns row",4,"ngIf"],[3,"message",4,"ngIf"],[1,"card-columns","row"],["class","card-column col col-sm-6 col-lg-4",4,"ngFor","ngForOf"],[1,"card-column","col","col-sm-6","col-lg-4"],["class","card-element",4,"ngFor","ngForOf"],[1,"card-element"],[3,"object","viewMode","context","showThumbnails","linkType"],[3,"message"]],template:function(st,ke){1&st&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(dt){return ke.onPageChange(dt)})("pageSizeChange",function(dt){return ke.onPageSizeChange(dt)})("sortDirectionChange",function(dt){return ke.onSortDirectionChange(dt)})("sortFieldChange",function(dt){return ke.onSortFieldChange(dt)})("paginationChange",function(dt){return ke.onPaginationChange(dt)})("prev",function(){return ke.goPrev()})("next",function(){return ke.goNext()}),t.DNE(1,q,3,3,"div",1)(2,z,2,3,"ds-error",2)(3,te,2,3,"ds-loading",2),t.k0s()),2&st&&(t.Y8G("paginationOptions",ke.config)("collectionSize",null==ke.objects||null==ke.objects.payload?null:ke.objects.payload.totalElements)("sortOptions",ke.sortConfig)("hideGear",ke.hideGear)("objects",ke.objects)("hidePagerWhenSinglePage",ke.hidePagerWhenSinglePage)("hidePaginationDetail",ke.hidePaginationDetail)("showPaginator",ke.showPaginator),t.R7$(),t.Y8G("ngIf",null==ke.objects?null:ke.objects.hasSucceeded),t.R7$(),t.Y8G("ngIf",ke.objects.hasFailed),t.R7$(),t.Y8G("ngIf",ke.objects.isLoading))},dependencies:[p.e,i.bT,i.pM,A.v,S.A,R.v,i.Jj,_.h,_.D9,K.L],styles:["[_nghost-%COMP%]    {--ds-wrapper-grid-spacing: calc(var(--bs-spacer) / 2)}[_nghost-%COMP%]     div.card{margin-top:var(--ds-wrapper-grid-spacing);margin-bottom:var(--ds-wrapper-grid-spacing)}[_nghost-%COMP%]     div.card div.thumbnail>.thumbnail-content{height:var(--ds-card-thumbnail-height);width:100%;display:block;min-width:100%;min-height:100%;object-fit:cover;object-position:50% 15%}.card-columns[_ngcontent-%COMP%]{margin-left:calc(-1 * var(--ds-wrapper-grid-spacing));margin-right:calc(-1 * var(--ds-wrapper-grid-spacing));column-gap:0}.card-columns[_ngcontent-%COMP%]   .card-column[_ngcontent-%COMP%]{padding-left:var(--ds-wrapper-grid-spacing);padding-right:var(--ds-wrapper-grid-spacing)}"],data:{animation:[C.qG]}})}}return je})();var J=n(8886);n(52304);const ee=["*"];function le(je,At){}let ne=(()=>{class je extends J.J{constructor(){super(...arguments),this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.importObject=new t.bkB,this.sortFieldChange=new t.bkB,this.inAndOutputNames=["config","sortConfig","hasBorder","hideGear","hidePagerWhenSinglePage","selectable","selectionConfig","linkType","context","hidePaginationDetail","importable","importConfig","showPaginator","showThumbnails","contentChange","prev","next","objects","change","pageChange","pageSizeChange","sortDirectionChange","paginationChange","deselectObject","selectObject","importObject","sortFieldChange"]}getComponentName(){return"ObjectListComponent"}importThemedComponent(Qe){return n(8894)(`./${Qe}/app/shared/object-list/object-list.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,52304))}static{this.\u0275fac=(()=>{let Qe;return function(ke){return(Qe||(Qe=t.xGo(je)))(ke||je)}})()}static{this.\u0275cmp=t.VBU({type:je,selectors:[["ds-object-list"]],inputs:{config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",selectable:"selectable",selectionConfig:"selectionConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",importable:"importable",importConfig:"importConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",deselectObject:"deselectObject",selectObject:"selectObject",importObject:"importObject",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:ee,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(st,ke){1&st&&(t.NAR(),t.DNE(0,le,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return je})();var fe=n(7673),se=n(96697),Te=(n(96820),n(82522)),be=n(7901),me=n(39012),re=n(13955);let Ee=(()=>{class je{constructor(){this.showLabel=!0,this.reloadedObject=new t.bkB,this.linkTypes=T.n,this.viewModes=v.n,this.contexts=f.o}static{this.\u0275fac=function(st){return new(st||je)}}static{this.\u0275cmp=t.VBU({type:je,selectors:[["ds-objects-collection-tabulatable"]],inputs:{objects:"objects",linkType:"linkType",listID:"listID",value:"value",showLabel:"showLabel",showThumbnails:"showThumbnails",context:"context",viewMode:"viewMode"},outputs:{reloadedObject:"reloadedObject"},standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(st,ke){},encapsulation:2})}}return je})(),De=(()=>{class je extends Ee{static{this.\u0275fac=(()=>{let Qe;return function(ke){return(Qe||(Qe=t.xGo(je)))(ke||je)}})()}static{this.\u0275cmp=t.VBU({type:je,selectors:[["ds-search-result-table-element"]],standalone:!0,features:[t.Vt3,t.aNF],decls:0,vars:0,template:function(st,ke){},encapsulation:2})}}return je})();var tt=n(21308),ht=n(44869),Fe=n(25543),Ye=(n(3e3),n(58003));const pt=je=>({default:je});function Mt(je,At){if(1&je&&(t.j41(0,"div")(1,"div",9)(2,"div",10),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",11),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()),2&je){let Qe;const st=At.$implicit,ke=t.XpG();t.R7$(3),t.JRh(t.bMT(4,2,st+".notify-detail-modal")),t.R7$(3),t.JRh(t.i5U(7,4,"notify-detail-modal."+ke.notifyMessage[st],t.eq3(7,pt,null!==(Qe=ke.notifyMessage[st])&&void 0!==Qe?Qe:"n/a")))}}function Ne(je,At){if(1&je&&t.nrm(0,"pre",12),2&je){const Qe=t.XpG();t.Y8G("@fadeIn",void 0)("innerHTML",Qe.notifyMessage.message,t.npT)}}let ot=(()=>{class je{constructor(Qe,st){this.activeModal=Qe,this.translationsService=st,this.response=new t.bkB,this.isCoarMessageVisible=!1,this.translationsService.missingTranslationHandler=new Fe.M}closeModal(){this.activeModal.close(),this.response.emit(!0)}toggleCoarMessage(){this.isCoarMessageVisible=!this.isCoarMessageVisible}static{this.\u0275fac=function(st){return new(st||je)(t.rXU(Ye.Lw),t.rXU(_.c$))}}static{this.\u0275cmp=t.VBU({type:je,selectors:[["ds-admin-notify-detail-modal"]],inputs:{notifyMessage:"notifyMessage",notifyMessageKeys:"notifyMessageKeys"},outputs:{response:"response"},standalone:!0,features:[t.aNF],decls:14,vars:8,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","p-4"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[1,"btn-primary",3,"click"],["class","bg-secondary text-white mt-2 p-2",3,"innerHTML",4,"ngIf"],[1,"row","mb-4"],[1,"font-weight-bold","col"],[1,"col","text-right"],[1,"bg-secondary","text-white","mt-2","p-2",3,"innerHTML"]],template:function(st,ke){1&st&&(t.j41(0,"div",0)(1,"h4",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return ke.activeModal.dismiss("Cross click")}),t.j41(5,"span",3),t.EFF(6,"\xd7"),t.k0s()()(),t.j41(7,"div",4),t.DNE(8,Mt,8,9,"div",5),t.j41(9,"div",6)(10,"button",7),t.bIt("click",function(){return ke.toggleCoarMessage()}),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.DNE(13,Ne,1,2,"pre",8),t.k0s()),2&st&&(t.R7$(2),t.JRh(t.bMT(3,4,"notify-message-modal.title")),t.R7$(6),t.Y8G("ngForOf",ke.notifyMessageKeys),t.R7$(3),t.SpI(" ",t.bMT(12,6,"notify-message-modal.show-message")," "),t.R7$(2),t.Y8G("ngIf",ke.isCoarMessageVisible))},dependencies:[i.Sq,_.h,_.D9,i.bT],encapsulation:2,data:{animation:[C.qG]}})}}return je})();var Gt=n(88857);function Zt(je,At){if(1&je&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&je){const Qe=t.XpG().$implicit;t.R7$(),t.JRh(t.i5U(2,1,Qe.queueLastStartTime,"YYYY/MM/d hh:mm:ss"))}}function mt(je,At){1&je&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function Pt(je,At){if(1&je&&(t.j41(0,"a",12),t.EFF(1),t.k0s()),2&je){const Qe=t.XpG().$implicit;t.Y8G("routerLink","/items/"+(Qe.context||Qe.object)),t.R7$(),t.JRh(Qe.relatedItem)}}function Ce(je,At){1&je&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function Be(je,At){if(1&je&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&je){const Qe=t.XpG().$implicit;t.R7$(),t.JRh(Qe.ldnService)}}function ut(je,At){1&je&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function un(je,At){if(1&je){const Qe=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){t.eBV(Qe);const ke=t.XpG().$implicit,Le=t.XpG();return t.Njj(Le.reprocessMessage(ke))}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&je&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"notify-message-result.reprocess")," "))}function rn(je,At){if(1&je){const Qe=t.RV6();t.j41(0,"tr")(1,"td",2),t.DNE(2,Zt,3,4,"div",5)(3,mt,2,0,"div",5),t.k0s(),t.j41(4,"td")(5,"ds-truncatable",6)(6,"ds-truncatable-part",7),t.DNE(7,Pt,2,2,"a",8),t.k0s()(),t.DNE(8,Ce,2,0,"div",5),t.k0s(),t.j41(9,"td"),t.DNE(10,Be,2,1,"div",5)(11,ut,2,0,"div",5),t.k0s(),t.j41(12,"td")(13,"div"),t.EFF(14),t.k0s()(),t.j41(15,"td")(16,"div",2),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.j41(19,"td")(20,"div",9)(21,"button",10),t.bIt("click",function(){const ke=t.eBV(Qe).$implicit,Le=t.XpG();return t.Njj(Le.openDetailModal(ke))}),t.EFF(22),t.nI1(23,"translate"),t.k0s(),t.DNE(24,un,3,3,"button",11),t.k0s()()()}if(2&je){const Qe=At.$implicit,st=t.XpG();t.R7$(2),t.Y8G("ngIf",Qe.queueLastStartTime),t.R7$(),t.Y8G("ngIf",!Qe.queueLastStartTime),t.R7$(2),t.Y8G("id",Qe.id),t.R7$(),t.Y8G("id",Qe.id)("minLines",2),t.R7$(),t.Y8G("ngIf",Qe.relatedItem),t.R7$(),t.Y8G("ngIf",!Qe.relatedItem),t.R7$(2),t.Y8G("ngIf",Qe.ldnService),t.R7$(),t.Y8G("ngIf",!Qe.ldnService),t.R7$(3),t.JRh(Qe.activityStreamType),t.R7$(3),t.JRh(t.bMT(18,13,"notify-detail-modal."+Qe.queueStatusLabel)),t.R7$(5),t.JRh(t.bMT(23,15,"notify-message-result.detail")),t.R7$(2),t.Y8G("ngIf",Qe.queueStatusLabel!==st.reprocessStatus&&st.validStatusesForReprocess.includes(Qe.queueStatusLabel))}}let Pn=(()=>{class je extends De{constructor(Qe,st,ke,Le){super(),this.modalService=Qe,this.adminNotifyMessagesService=st,this.datePipe=ke,this.searchConfigService=Le,this.messagesSubject$=new j.t([]),this.reprocessStatus="QUEUE_STATUS_QUEUED_FOR_RETRY",this.validStatusesForReprocess=["QUEUE_STATUS_UNTRUSTED","QUEUE_STATUS_UNTRUSTED_IP","QUEUE_STATUS_FAILED","QUEUE_STATUS_UNMAPPED_ACTION"],this.subs=[],this.dateTypeKeys=["queueLastStartTime","queueTimeout"],this.messageKeys=["type","id","coarNotifyType","activityStreamType","inReplyTo","queueAttempts","queueLastStartTime","queueStatusLabel","queueTimeout"],this.dateFormat="YYYY/MM/d hh:mm:ss"}ngOnInit(){this.mapDetailsToMessages(),this.subs.push(this.searchConfigService.getCurrentConfiguration("").subscribe(Qe=>{this.isInbound=Qe.startsWith("NOTIFY.incoming")}))}ngOnDestroy(){this.subs.forEach(Qe=>Qe.unsubscribe())}openDetailModal(Qe){const st=this.modalService.open(ot),ke={...Qe};this.messageKeys.forEach(Le=>{this.dateTypeKeys.includes(Le)&&(ke[Le]=this.datePipe.transform(ke[Le],this.dateFormat))}),ke.message=JSON.stringify(JSON.parse(Qe.message),null,2),st.componentInstance.notifyMessage=ke,st.componentInstance.notifyMessageKeys=this.messageKeys}reprocessMessage(Qe){this.subs.push(this.adminNotifyMessagesService.reprocessMessage(Qe,this.messagesSubject$).subscribe(st=>{this.messagesSubject$.next(st)}))}mapDetailsToMessages(){this.subs.push(this.adminNotifyMessagesService.getDetailedMessages(this.objects?.page.map(Qe=>Qe.indexableObject)).subscribe(Qe=>{this.messagesSubject$.next(Qe)}))}static{this.\u0275fac=function(st){return new(st||je)(t.rXU(Ye.Bq),t.rXU(Gt.AdminNotifyMessagesService),t.rXU(i.vh),t.rXU(re.EN))}}static{this.\u0275cmp=t.VBU({type:je,selectors:[["ds-admin-notify-search-result"]],standalone:!0,features:[t.Jv_([i.vh,{provide:re.EN,useClass:me.g}]),t.Vt3,t.aNF],decls:25,vars:21,consts:[[1,"table-responsive","mt-2"],[1,"table","table-striped","table-hover"],[1,"text-nowrap"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"id"],[3,"id","minLines"],[3,"routerLink",4,"ngIf"],[1,"d-flex","flex-column"],[1,"btn","mb-2","btn-dark",3,"click"],["class","btn btn-warning",3,"click",4,"ngIf"],[3,"routerLink"],[1,"btn","btn-warning",3,"click"]],template:function(st,ke){1&st&&(t.j41(0,"div",0)(1,"table",1)(2,"thead")(3,"tr",2)(4,"th",3),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"th",3),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"th",3),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.j41(13,"th",3),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.j41(16,"th",3),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"th",3),t.EFF(20),t.nI1(21,"translate"),t.k0s()()(),t.j41(22,"tbody"),t.DNE(23,rn,25,17,"tr",4),t.nI1(24,"async"),t.k0s()()()),2&st&&(t.R7$(5),t.JRh(t.bMT(6,7,"notify-message-result.timestamp")),t.R7$(3),t.JRh(t.bMT(9,9,"notify-message-result.repositoryItem")),t.R7$(3),t.JRh(t.bMT(12,11,"notify-message-result.ldnService")),t.R7$(3),t.JRh(t.bMT(15,13,"notify-message-result.type")),t.R7$(3),t.JRh(t.bMT(18,15,"notify-message-result.status")),t.R7$(3),t.JRh(t.bMT(21,17,"notify-message-result.action")),t.R7$(3),t.Y8G("ngForOf",t.bMT(24,19,ke.messagesSubject$)))},dependencies:[_.h,_.D9,i.Sq,i.bT,i.vh,i.Jj,tt.d,ht.W,be.Wk],encapsulation:2})}}return je})();var yt=n(40887),Kt=n(81569);const Rt=new Map([[yt.o,new Map([[v.n.Table,new Map([[f.o.CoarNotify,new Map([[Kt.SS,Pn]])]])]])]]);let gn=(()=>{class je{constructor(Qe){this.viewContainerRef=Qe}static{this.\u0275fac=function(st){return new(st||je)(t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:je,selectors:[["","dsTabulatableObjects",""]],standalone:!0})}}return je})();function St(je,At){}let zt=(()=>{class je{constructor(Qe,st){this.cdr=Qe,this.themeService=st,this.showLabel=!0,this.contentChange=new t.bkB,this.subs=[],this.viewMode=v.n.Table,this.inAndOutputNames=["objects","linkType","listID","showLabel","showThumbnails","context","viewMode","value","hideBadges","contentChange"]}ngOnInit(){this.instantiateComponent(this.objects)}ngOnChanges(Qe){(0,E.Tn)(this.compRef)?this.instantiateComponent(this.objects,Qe):this.inAndOutputNames.some(st=>(0,E.a4)(Qe[st]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(Qe))}ngOnDestroy(){this.subs.filter(Qe=>(0,E.a4)(Qe)).forEach(Qe=>Qe.unsubscribe())}instantiateComponent(Qe,st){const ke=this.getComponent(Qe?.page[0]?.getRenderTypes(),this.viewMode,this.context),Le=this.tabulatableObjectsDirective.viewContainerRef;Le.clear(),this.compRef=Le.createComponent(ke,{index:0,injector:void 0}),(0,E.a4)(st)?this.ngOnChanges(st):this.connectInputsAndOutputs(),this.compRef.instance.reloadedObject&&(0,U.z)([(0,fe.of)(st),this.compRef.instance.reloadedObject.pipe((0,se.s)(1))]).subscribe(([dt,It])=>{It&&(this.compRef.destroy(),this.objects=It,this.instantiateComponent(It,dt),this.cdr.detectChanges(),this.contentChange.emit(It))})}getComponent(Qe,st,ke){return function nn(je,At,Qe=Kt.A2,st=Kt.SS){let ke=null;for(const Le of je){const dt=Rt.get(Le);if((0,E.a4)(dt)){const It=(0,Kt.mo)(dt,[At,Qe,st],[Kt.e8,Kt.A2,Kt.SS]);((0,E.Tn)(ke)||ke.isLessRelevantThan(It))&&(ke=It)}}return(0,E.a4)(ke)?ke.match:null}(Qe,st,ke,this.themeService.getThemeName())}connectInputsAndOutputs(){(0,E.hj)(this.inAndOutputNames)&&(0,E.a4)(this.compRef)&&(0,E.a4)(this.compRef.instance)&&this.inAndOutputNames.filter(Qe=>void 0!==this[Qe]).forEach(Qe=>{this.compRef.instance[Qe]=this[Qe]})}static{this.\u0275fac=function(st){return new(st||je)(t.rXU(t.gRc),t.rXU(Te.Fs))}}static{this.\u0275cmp=t.VBU({type:je,selectors:[["ds-tabulatable-objects-loader"]],viewQuery:function(st,ke){if(1&st&&t.GBs(gn,7),2&st){let Le;t.mGM(Le=t.lsd())&&(ke.tabulatableObjectsDirective=Le.first)}},inputs:{objects:"objects",context:"context",linkType:"linkType",listID:"listID",showLabel:"showLabel",showThumbnails:"showThumbnails",value:"value"},outputs:{contentChange:"contentChange"},standalone:!0,features:[t.OA$,t.aNF],decls:1,vars:0,consts:[["dsTabulatableObjects",""]],template:function(st,ke){1&st&&t.DNE(0,St,0,0,"ng-template",0)},dependencies:[gn],encapsulation:2})}}return je})();function Yt(je,At){if(1&je&&(t.j41(0,"div")(1,"div"),t.nrm(2,"ds-tabulatable-objects-loader",3),t.k0s()()),2&je){const Qe=t.XpG();t.R7$(),t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("objects",Qe.objects.payload)("context",Qe.context)("showThumbnails",Qe.showThumbnails)("linkType",Qe.linkType)}}function wt(je,At){1&je&&(t.nrm(0,"ds-error",4),t.nI1(1,"translate")),2&je&&t.FS9("message",t.bMT(1,1,"error.objects"))}function bt(je,At){1&je&&(t.nrm(0,"ds-loading",4),t.nI1(1,"translate")),2&je&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let Jt=(()=>{class je{set objects(Qe){this._objects$.next(Qe)}get objects(){return this._objects$.getValue()}constructor(){this.viewMode=v.n.Table,this.showPaginator=!0,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.hidePaginationDetail=!1,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.data={},this._objects$=new j.t(void 0)}onPageChange(Qe){this.pageChange.emit(Qe)}onPageSizeChange(Qe){this.pageSizeChange.emit(Qe)}onSortDirectionChange(Qe){this.sortDirectionChange.emit(Qe)}onSortFieldChange(Qe){this.sortFieldChange.emit(Qe)}onPaginationChange(Qe){this.paginationChange.emit(Qe)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(st){return new(st||je)}}static{this.\u0275cmp=t.VBU({type:je,selectors:[["ds-object-table"]],inputs:{config:"config",sortConfig:"sortConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",objects:"objects"},outputs:{change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:4,vars:12,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","hideGear","objects","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator","retainScrollPosition"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"objects","context","showThumbnails","linkType"],[3,"message"]],template:function(st,ke){1&st&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(dt){return ke.onPageChange(dt)})("pageSizeChange",function(dt){return ke.onPageSizeChange(dt)})("sortDirectionChange",function(dt){return ke.onSortDirectionChange(dt)})("sortFieldChange",function(dt){return ke.onSortFieldChange(dt)})("paginationChange",function(dt){return ke.onPaginationChange(dt)})("prev",function(){return ke.goPrev()})("next",function(){return ke.goNext()}),t.DNE(1,Yt,3,5,"div",1)(2,wt,2,3,"ds-error",2)(3,bt,2,3,"ds-loading",2),t.k0s()),2&st&&(t.Y8G("paginationOptions",ke.config)("collectionSize",null==ke.objects||null==ke.objects.payload?null:ke.objects.payload.totalElements)("sortOptions",ke.sortConfig)("hideGear",ke.hideGear)("objects",ke.objects)("hidePagerWhenSinglePage",ke.hidePagerWhenSinglePage)("hidePaginationDetail",ke.hidePaginationDetail)("showPaginator",ke.showPaginator)("retainScrollPosition",!0),t.R7$(),t.Y8G("ngIf",null==ke.objects?null:ke.objects.hasSucceeded),t.R7$(),t.Y8G("ngIf",null==ke.objects?null:ke.objects.hasFailed),t.R7$(),t.Y8G("ngIf",null==ke.objects?null:ke.objects.isLoading))},dependencies:[p.e,i.bT,R.v,S.A,_.h,_.D9,zt],data:{animation:[C.qG]}})}}return je})();var Tt=n(74430);function Ft(je,At){if(1&je){const Qe=t.RV6();t.j41(0,"ds-object-list",3),t.bIt("paginationChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPaginationChange(ke))})("pageChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPageChange(ke))})("pageSizeChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPageSizeChange(ke))})("sortDirectionChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onSortDirectionChange(ke))})("deselectObject",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.deselectObject.emit(ke))})("selectObject",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.selectObject.emit(ke))})("sortFieldChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onSortFieldChange(ke))})("importObject",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.importObject.emit(ke))})("contentChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.contentChange.emit(ke))})("prev",function(){t.eBV(Qe);const ke=t.XpG();return t.Njj(ke.goPrev())})("next",function(){t.eBV(Qe);const ke=t.XpG();return t.Njj(ke.goNext())}),t.k0s()}if(2&je){const Qe=t.XpG();t.Y8G("ngClass",Qe.placeholderFontClass)("config",Qe.config)("sortConfig",Qe.sortConfig)("objects",Qe.objects)("hasBorder",Qe.hasBorder)("hideGear",Qe.hideGear)("linkType",Qe.linkType)("context",Qe.context)("hidePaginationDetail",Qe.hidePaginationDetail)("showPaginator",Qe.showPaginator)("showThumbnails",Qe.showThumbnails)("selectable",Qe.selectable)("selectionConfig",Qe.selectionConfig)("importable",Qe.importable)("importConfig",Qe.importConfig)}}function it(je,At){if(1&je){const Qe=t.RV6();t.j41(0,"ds-object-grid",4),t.bIt("paginationChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPaginationChange(ke))})("pageChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPageChange(ke))})("pageSizeChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPageSizeChange(ke))})("sortDirectionChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onSortDirectionChange(ke))})("sortFieldChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onSortFieldChange(ke))}),t.k0s()}if(2&je){const Qe=t.XpG();t.Y8G("config",Qe.config)("sortConfig",Qe.sortConfig)("objects",Qe.objects)("hideGear",Qe.hideGear)("linkType",Qe.linkType)("context",Qe.context)("hidePaginationDetail",Qe.hidePaginationDetail)("showPaginator",Qe.showPaginator)("showThumbnails",Qe.showThumbnails)}}function xe(je,At){if(1&je){const Qe=t.RV6();t.j41(0,"ds-object-detail",5),t.bIt("contentChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.contentChange.emit(ke))}),t.k0s()}if(2&je){const Qe=t.XpG();t.Y8G("config",Qe.config)("sortConfig",Qe.sortConfig)("objects",Qe.objects)("hideGear",Qe.hideGear)("linkType",Qe.linkType)("context",Qe.context)("hidePaginationDetail",Qe.hidePaginationDetail)("showPaginator",Qe.showPaginator)("showThumbnails",Qe.showThumbnails)}}function Ve(je,At){if(1&je){const Qe=t.RV6();t.j41(0,"ds-object-table",4),t.bIt("paginationChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPaginationChange(ke))})("pageChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPageChange(ke))})("pageSizeChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onPageSizeChange(ke))})("sortDirectionChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onSortDirectionChange(ke))})("sortFieldChange",function(ke){t.eBV(Qe);const Le=t.XpG();return t.Njj(Le.onSortFieldChange(ke))}),t.k0s()}if(2&je){const Qe=t.XpG();t.Y8G("config",Qe.config)("sortConfig",Qe.sortConfig)("objects",Qe.objects)("hideGear",Qe.hideGear)("linkType",Qe.linkType)("context",Qe.context)("hidePaginationDetail",Qe.hidePaginationDetail)("showPaginator",Qe.showPaginator)("showThumbnails",Qe.showThumbnails)}}let Ke=(()=>{class je{constructor(Qe,st,ke,Le,dt){this.cdRef=Qe,this.route=st,this.router=ke,this.elementRef=Le,this.platformId=dt,this.hasBorder=!1,this.hideGear=!1,this.selectable=!1,this.customEvent=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.contentChange=new t.bkB,this.importable=!1,this.importObject=new t.bkB,this.hidePaginationDetail=!1,this.showPaginator=!0,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.viewModeEnum=v.n}ngOnInit(){this.currentMode$=this.route.queryParams.pipe((0,u.T)(Qe=>(0,E.Im)(Qe?.view)?v.n.ListElement:Qe.view),(0,e.F)()),this.placeholderFontClass=(0,i.UE)(this.platformId)?(0,Tt.F)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text"}onPageChange(Qe){this.pageChange.emit(Qe)}onPageSizeChange(Qe){this.pageSizeChange.emit(Qe)}onSortDirectionChange(Qe){this.sortDirectionChange.emit(Qe)}onSortFieldChange(Qe){this.sortFieldChange.emit(Qe)}onPaginationChange(Qe){this.paginationChange.emit(Qe)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(st){return new(st||je)(t.rXU(t.gRc),t.rXU(be.nX),t.rXU(be.Ix),t.rXU(t.aKT),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:je,selectors:[["ds-viewable-collection"]],inputs:{objects:"objects",config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",selectable:"selectable",selectionConfig:"selectionConfig",importable:"importable",importConfig:"importConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",showPaginator:"showPaginator",showThumbnails:"showThumbnails"},outputs:{customEvent:"customEvent",deselectObject:"deselectObject",selectObject:"selectObject",contentChange:"contentChange",importObject:"importObject",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:8,vars:12,consts:[[3,"ngClass","config","sortConfig","objects","hasBorder","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","selectable","selectionConfig","importable","importConfig","paginationChange","pageChange","pageSizeChange","sortDirectionChange","deselectObject","selectObject","sortFieldChange","importObject","contentChange","prev","next",4,"ngIf"],[3,"config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","paginationChange","pageChange","pageSizeChange","sortDirectionChange","sortFieldChange",4,"ngIf"],[3,"config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","contentChange",4,"ngIf"],[3,"paginationChange","pageChange","pageSizeChange","sortDirectionChange","deselectObject","selectObject","sortFieldChange","importObject","contentChange","prev","next","ngClass","config","sortConfig","objects","hasBorder","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","selectable","selectionConfig","importable","importConfig"],[3,"paginationChange","pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"],[3,"contentChange","config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"]],template:function(st,ke){1&st&&(t.DNE(0,Ft,1,15,"ds-object-list",0),t.nI1(1,"async"),t.DNE(2,it,1,9,"ds-object-grid",1),t.nI1(3,"async"),t.DNE(4,xe,1,9,"ds-object-detail",2),t.nI1(5,"async"),t.DNE(6,Ve,1,9,"ds-object-table",1),t.nI1(7,"async")),2&st&&(t.Y8G("ngIf",t.bMT(1,4,ke.currentMode$)===ke.viewModeEnum.ListElement),t.R7$(2),t.Y8G("ngIf",t.bMT(3,6,ke.currentMode$)===ke.viewModeEnum.GridElement),t.R7$(2),t.Y8G("ngIf",t.bMT(5,8,ke.currentMode$)===ke.viewModeEnum.DetailedListElement),t.R7$(2),t.Y8G("ngIf",t.bMT(7,10,ke.currentMode$)===ke.viewModeEnum.Table))},dependencies:[i.bT,ne,i.YU,Z,x,i.Jj,Jt],styles:["[_nghost-%COMP%]{display:block}"]})}}return je})()},67604:(F,b,n)=>{"use strict";n.r(b),n.d(b,{AccessStatusBadgeComponent:()=>T});var i=n(60177),t=n(41780),u=n(7673),e=n(96354),h=n(99437),m=n(45022),f=n(88280),E=(n(76829),n(13868)),_=n(82777),C=n(54438);function S(A,p){if(1&A&&(C.j41(0,"span")(1,"span"),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&A){const L=p.ngIf,D=C.XpG(2);C.R7$(),C.HbH("badge bg-secondary access-status-list-element-badge "+D.accessStatusClass),C.R7$(),C.JRh(C.bMT(3,3,L))}}function R(A,p){if(1&A&&(C.qex(0),C.DNE(1,S,4,5,"span",0),C.nI1(2,"async"),C.bVm()),2&A){const L=C.XpG();C.R7$(),C.Y8G("ngIf",C.bMT(2,1,L.accessStatus$))}}let T=(()=>{class A{constructor(L){this.accessStatusDataService=L,this.subs=[]}ngOnInit(){if(this.showAccessStatus=f.c.item.showAccessStatuses,this.object.type.toString()!==E.U.value||!this.showAccessStatus||null==this.object)return;const L=this.object;null==L.accessStatus&&(L.accessStatus=this.accessStatusDataService.findAccessStatusFor(L)),this.accessStatus$=L.accessStatus.pipe((0,e.T)(D=>401!==D.statusCode&&(0,_.a4)(D.payload)?D.payload:[]),(0,e.T)(D=>(0,_.a4)(D.status)?D.status:"unknown"),(0,e.T)(D=>`access-status.${D.toLowerCase()}.listelement.badge`),(0,h.W)(()=>(0,u.of)("access-status.unknown.listelement.badge"))),this.subs.push(this.accessStatus$.pipe((0,e.T)(D=>D.replace(/\./g,"-"))).subscribe(D=>{this.accessStatusClass=D}))}ngOnDestroy(){this.subs.filter(L=>(0,_.a4)(L)).forEach(L=>L.unsubscribe())}static{this.\u0275fac=function(D){return new(D||A)(C.rXU(m.AccessStatusDataService))}}static{this.\u0275cmp=C.VBU({type:A,selectors:[["ds-base-access-status-badge"]],inputs:{object:"object"},standalone:!0,features:[C.aNF],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(D,w){1&D&&C.DNE(0,R,3,3,"ng-container",0),2&D&&C.Y8G("ngIf",w.showAccessStatus)},dependencies:[i.bT,i.Jj,t.h,t.D9]})}}return A})()},87922:(F,b,n)=>{"use strict";n.d(b,{E:()=>t});const t=new(n(42547).v)("accessStatus")},34272:(F,b,n)=>{"use strict";n.d(b,{I:()=>f}),n(76829);var t=n(8886),e=(n(67604),n(54438));const h=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"AccessStatusBadgeComponent"}importThemedComponent(_){return n(50822)(`./${_}/app/shared/object-collection/shared/badges/access-status-badge/access-status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,67604))}static{this.\u0275fac=(()=>{let _;return function(S){return(_||(_=e.xGo(v)))(S||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-access-status-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:h,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,S){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},22285:(F,b,n)=>{"use strict";n.r(b),n.d(b,{BadgesComponent:()=>S});var i=n(60177),t=n(26292),e=(n(76829),n(34272)),h=n(38968),m=n(13760),f=n(74448),v=n(54438);function E(R,T){if(1&R&&(v.qex(0),v.nrm(1,"ds-my-dspace-status-badge",3),v.bVm()),2&R){const A=v.XpG();v.R7$(),v.Y8G("context",A.context)}}function _(R,T){if(1&R&&(v.qex(0),v.nrm(1,"ds-access-status-badge",0),v.bVm()),2&R){const A=v.XpG();v.R7$(),v.Y8G("object",A.object)}}const C=[t.o.MyDSpaceArchived,t.o.MyDSpaceWorkspace,t.o.MyDSpaceWorkflow,t.o.MyDSpaceDeclined,t.o.MyDSpaceApproved,t.o.MyDSpaceWaitingController,t.o.MyDSpaceValidation];let S=(()=>{class R{constructor(){this.showAccessStatus=!1}get isMyDSpaceStatus(){return C.includes(this.context)}static{this.\u0275fac=function(p){return new(p||R)}}static{this.\u0275cmp=v.VBU({type:R,selectors:[["ds-base-badges"]],inputs:{object:"object",context:"context",showAccessStatus:"showAccessStatus"},standalone:!0,features:[v.aNF],decls:5,vars:4,consts:[[3,"object"],[4,"ngIf"],[1,"pe-1",3,"object"],[3,"context"]],template:function(p,L){1&p&&(v.nrm(0,"ds-status-badge",0),v.DNE(1,E,2,1,"ng-container",1),v.j41(2,"div"),v.nrm(3,"ds-type-badge",2),v.DNE(4,_,2,1,"ng-container",1),v.k0s()),2&p&&(v.Y8G("object",L.object),v.R7$(),v.Y8G("ngIf",L.isMyDSpaceStatus),v.R7$(2),v.Y8G("object",L.object),v.R7$(),v.Y8G("ngIf",L.showAccessStatus))},dependencies:[m.o,i.bT,h.Q,f.C,e.I]})}}return R})()},14430:(F,b,n)=>{"use strict";n.r(b),n.d(b,{MyDSpaceStatusBadgeComponent:()=>e});var i=n(41780),t=n(26292),u=n(54438);let e=(()=>{class h{ngOnInit(){switch(this.badgeContent=this.context,this.badgeClass="text-light badge ",this.context){case t.o.MyDSpaceValidation:this.badgeClass+="badge-validation";break;case t.o.MyDSpaceWaitingController:this.badgeClass+="badge-waiting-controller";break;case t.o.MyDSpaceWorkspace:this.badgeClass+="badge-workspace";break;case t.o.MyDSpaceArchived:this.badgeClass+="badge-archived";break;case t.o.MyDSpaceWorkflow:this.badgeClass+="badge-workflow"}}static{this.\u0275fac=function(v){return new(v||h)}}static{this.\u0275cmp=u.VBU({type:h,selectors:[["ds-base-my-dspace-status-badge"]],inputs:{context:"context"},standalone:!0,features:[u.aNF],decls:4,vars:4,consts:[[3,"className"]],template:function(v,E){1&v&&(u.j41(0,"div")(1,"span",0),u.EFF(2),u.nI1(3,"translate"),u.k0s()()),2&v&&(u.R7$(),u.Y8G("className",E.badgeClass),u.R7$(),u.SpI(" ",u.bMT(3,2,"mydspace.status."+E.badgeContent)," "))},dependencies:[i.h,i.D9]})}}return h})()},38968:(F,b,n)=>{"use strict";n.d(b,{Q:()=>f}),n(26292);var t=n(8886),e=(n(14430),n(54438));const h=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["context"]}getComponentName(){return"MyDSpaceStatusBadgeComponent"}importThemedComponent(_){return n(87596)(`./${_}/app/shared/object-collection/shared/badges/my-dspace-status-badge/my-dspace-status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,14430))}static{this.\u0275fac=(()=>{let _;return function(S){return(_||(_=e.xGo(v)))(S||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-my-dspace-status-badge"]],inputs:{context:"context"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:h,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,S){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},16482:(F,b,n)=>{"use strict";n.r(b),n.d(b,{StatusBadgeComponent:()=>v});var i=n(60177),t=n(41780),e=(n(76829),n(82777)),h=n(54438);function m(E,_){1&E&&(h.j41(0,"div",2)(1,"span",3),h.EFF(2),h.nI1(3,"translate"),h.k0s()()),2&E&&(h.R7$(2),h.JRh(h.bMT(3,1,"item.badge.private")))}function f(E,_){1&E&&(h.j41(0,"div",4)(1,"span",5),h.EFF(2),h.nI1(3,"translate"),h.k0s()()),2&E&&(h.R7$(2),h.JRh(h.bMT(3,1,"item.badge.withdrawn")))}let v=(()=>{class E{constructor(){this.privateBadge=!1,this.withdrawnBadge=!1}ngOnInit(){let C=this.object;(0,e.a4)(C.indexableObject)&&(C=C.indexableObject);const S=(0,e.a4)(C);this.privateBadge=S&&(0,e.a4)(C.isDiscoverable)&&!C.isDiscoverable,this.withdrawnBadge=S&&(0,e.a4)(C.isWithdrawn)&&C.isWithdrawn}static{this.\u0275fac=function(S){return new(S||E)}}static{this.\u0275cmp=h.VBU({type:E,selectors:[["ds-base-status-badge"]],inputs:{object:"object"},standalone:!0,features:[h.aNF],decls:2,vars:2,consts:[["class","private-badge",4,"ngIf"],["class","withdrawn-badge",4,"ngIf"],[1,"private-badge"],[1,"badge","bg-danger"],[1,"withdrawn-badge"],[1,"badge","bg-warning"]],template:function(S,R){1&S&&h.DNE(0,m,4,3,"div",0)(1,f,4,3,"div",1),2&S&&(h.Y8G("ngIf",R.privateBadge),h.R7$(),h.Y8G("ngIf",R.withdrawnBadge))},dependencies:[i.bT,t.h,t.D9],encapsulation:2})}}return E})()},13760:(F,b,n)=>{"use strict";n.d(b,{o:()=>f}),n(76829);var t=n(8886),e=(n(16482),n(54438));const h=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"StatusBadgeComponent"}importThemedComponent(_){return n(52504)(`./${_}/app/shared/object-collection/shared/badges/status-badge/status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,16482))}static{this.\u0275fac=(()=>{let _;return function(S){return(_||(_=e.xGo(v)))(S||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-status-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:h,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,S){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},55309:(F,b,n)=>{"use strict";n.d(b,{F:()=>v}),n(26292),n(76829);var u=n(8886),h=(n(22285),n(54438));const m=["*"];function f(E,_){}let v=(()=>{class E extends u.J{constructor(){super(...arguments),this.showAccessStatus=!1,this.inAndOutputNames=["object","context","showAccessStatus"]}getComponentName(){return"BadgesComponent"}importThemedComponent(C){return n(70295)(`./${C}/app/shared/object-collection/shared/badges/badges.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,22285))}static{this.\u0275fac=(()=>{let C;return function(R){return(C||(C=h.xGo(E)))(R||E)}})()}static{this.\u0275cmp=h.VBU({type:E,selectors:[["ds-badges"]],inputs:{object:"object",context:"context",showAccessStatus:"showAccessStatus"},standalone:!0,features:[h.Vt3,h.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(S,R){1&S&&(h.NAR(),h.DNE(0,f,0,0,"ng-template",null,0,h.C5r),h.j41(2,"div",null,1),h.SdG(4),h.k0s())},encapsulation:2})}}return E})()},74448:(F,b,n)=>{"use strict";n.d(b,{C:()=>f}),n(76829);var t=n(8886),e=(n(3310),n(54438));const h=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"TypeBadgeComponent"}importThemedComponent(_){return n(45796)(`./${_}/app/shared/object-collection/shared/badges/type-badge/type-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,3310))}static{this.\u0275fac=(()=>{let _;return function(S){return(_||(_=e.xGo(v)))(S||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-type-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:h,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,S){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},3310:(F,b,n)=>{"use strict";n.r(b),n.d(b,{TypeBadgeComponent:()=>v});var i=n(60177),t=n(41780),u=n(87891),h=(n(76829),n(82777)),m=n(54438);function f(E,_){if(1&E&&(m.j41(0,"span")(1,"span",1),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&E){const C=m.XpG();m.R7$(2),m.JRh(m.bMT(3,1,C.typeMessage))}}let v=(()=>{class E{set object(C){this._object=C;const S=this._object.getRenderTypes();if(!(0,h.Im)(S.length)){const R=S[0];if(R instanceof Function){const T=(0,u.zA)(C.type);this._typeMessage=(0,h.a4)(T)?`${T.toLowerCase()}.listelement.badge`:`${R.name.toLowerCase()}.listelement.badge`}else this._typeMessage=`${R.toLowerCase()}.listelement.badge`}}get object(){return this._object}get typeMessage(){return this._typeMessage}static{this.\u0275fac=function(S){return new(S||E)}}static{this.\u0275cmp=m.VBU({type:E,selectors:[["ds-base-type-badge"]],inputs:{object:"object"},standalone:!0,features:[m.aNF],decls:1,vars:1,consts:[[4,"ngIf"],[1,"badge","bg-info"]],template:function(S,R){1&S&&m.DNE(0,f,4,3,"span",0),2&S&&m.Y8G("ngIf",R.typeMessage)},dependencies:[i.bT,t.h,t.D9],encapsulation:2})}}return E})()},48622:(F,b,n)=>{"use strict";n.d(b,{t:()=>t});var i=n(78541);class t extends i.q{}},83233:(F,b,n)=>{"use strict";n.d(b,{q:()=>t});var i=n(78541);class t extends i.q{}},66211:(F,b,n)=>{"use strict";n.d(b,{H:()=>t});var i=n(78541);class t extends i.q{}},34532:(F,b,n)=>{"use strict";n.d(b,{y:()=>t});var i=n(78541);class t extends i.q{}},77537:(F,b,n)=>{"use strict";n.d(b,{A:()=>t});var i=n(78541);class t extends i.q{}},17132:(F,b,n)=>{"use strict";n.d(b,{L:()=>t});var i=n(78541);class t extends i.q{}},88261:(F,b,n)=>{"use strict";n.d(b,{$:()=>e});var i=n(54438),t=n(41780);n(22878);let e=(()=>{class h{constructor(){this.importObject=new i.bkB}static{this.\u0275fac=function(v){return new(v||h)}}static{this.\u0275cmp=i.VBU({type:h,selectors:[["ds-importable-list-item-control"]],inputs:{object:"object",importConfig:"importConfig"},outputs:{importObject:"importObject"},standalone:!0,features:[i.aNF],decls:4,vars:3,consts:[[1,"me-2"],[1,"btn","btn-outline-primary","btn-sm","float-start",3,"click","title"],[1,"fas","fa-cloud-download-alt","fa-fw"]],template:function(v,E){1&v&&(i.j41(0,"div",0)(1,"button",1),i.nI1(2,"translate"),i.bIt("click",function(){return E.importObject.emit(E.object)}),i.nrm(3,"i",2),i.k0s()()),2&v&&(i.R7$(),i.FS9("title",i.bMT(2,1,null==E.importConfig?null:E.importConfig.buttonLabel)))},dependencies:[t.h,t.D9],encapsulation:2})}}return h})()},27442:(F,b,n)=>{"use strict";n.d(b,{H:()=>e});var i=n(31635),t=n(98688),u=n(78541);let e=class extends u.q{getRenderTypes(){return this.indexableObject.getRenderTypes().map(m=>"string"==typeof m?m+"SearchResult":this.constructor)}};e=(0,i.Cg)([(0,t.ug)(u.q)],e)},22878:(F,b,n)=>{"use strict";n.d(b,{u:()=>t});var i=n(98688);class t extends i._U{}},17191:(F,b,n)=>{"use strict";n.d(b,{v:()=>C});var i=n(54438),t=n(96697),h=(n(26292),n(78448),n(22924)),m=n(82522),E=(n(7581),n(22878),n(81569));function _(S,R){}let C=(()=>{class S extends h.e{constructor(T,A){super(T),this.themeService=T,this.cdr=A,this.showLabel=!0,this.contentChange=new i.bkB,this.inputNamesDependentForComponent=["object","viewMode","context"],this.inputNames=["object","index","context","linkType","listID","showLabel","showThumbnails","viewMode","value"],this.outputNames=["contentChange"]}instantiateComponent(){super.instantiateComponent(),this.compRef.instance.reloadedObject&&this.compRef.instance.reloadedObject.pipe((0,t.s)(1)).subscribe(T=>{T&&(this.destroyComponentInstance(),this.object=T,this.instantiateComponent(),this.cdr.detectChanges(),this.contentChange.emit(T))})}getComponent(){return(0,E.Zx)(this.object.getRenderTypes(),this.viewMode,this.context,this.themeService.getThemeName())}static{this.\u0275fac=function(A){return new(A||S)(i.rXU(m.Fs),i.rXU(i.gRc))}}static{this.\u0275cmp=i.VBU({type:S,selectors:[["ds-listable-object-component-loader"]],inputs:{object:"object",index:"index",viewMode:"viewMode",context:"context",linkType:"linkType",listID:"listID",showLabel:"showLabel",showThumbnails:"showThumbnails",value:"value"},outputs:{contentChange:"contentChange"},standalone:!0,features:[i.Vt3,i.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(A,p){1&A&&i.DNE(0,_,0,0,"ng-template",1,0,i.C5r)},styles:["[_nghost-%COMP%]{width:100%}"]})}}return S})()},81569:(F,b,n)=>{"use strict";n.d(b,{A2:()=>f,SS:()=>v,VK:()=>S,Zx:()=>R,e8:()=>m,eW:()=>p,mo:()=>T,zD:()=>_});var i=n(54438),t=n(88280),u=n(26292),e=n(78448),h=n(82777);const m=e.n.ListElement,f=u.o.Any,v="*";class E{constructor(D,w,M){this.match=D,this.level=w,this.relevancy=M}isMoreRelevantThan(D){return!!(0,h.Tn)(D)||!(D.level>this.level||D.level===this.level&&D.relevancy>this.relevancy)}isLessRelevantThan(D){return!this.isMoreRelevantThan(D)}}const _=new i.nKC("getThemeConfigFor",{providedIn:"root",factory:()=>A}),C=new Map;function S(L,D,w=f,M=v){return function(j){(0,h.Tn)(L)||((0,h.Tn)(C.get(L))&&C.set(L,new Map),(0,h.Tn)(C.get(L).get(D))&&C.get(L).set(D,new Map),(0,h.Tn)(C.get(L).get(D).get(w))&&C.get(L).get(D).set(w,new Map),C.get(L).get(D).get(w).set(M,j))}}function R(L,D,w=f,M=v){let x=null;for(const j of L){const U=C.get(j);if((0,h.a4)(U)){const $=T(U,[D,w,M],[m,f,v]);((0,h.Tn)(x)||x.isLessRelevantThan($))&&(x=$)}}return(0,h.a4)(x)?x.match:null}function T(L,D,w){let M=L,x=-1,j=0;for(let U=0;U<D.length;U++){let $=w[U]===v?p(M,D[U]):M.get(D[U]);if((0,h.Tn)($)?($=M.get(w[U]),-1===x&&(x=U)):j++,!(0,h.a4)($))return null;if(!($ instanceof Map))return new E($,x>-1?x:U+1,j);M=$}return null}const A=L=>t.c.themes.find(D=>D.name===L),p=(L,D,w=[])=>{const M=L.get(D);if((0,h.a4)(M))return M;{const x=A(D);if((0,h.a4)(x)&&(0,h.hj)(x.extends)){const j=x.extends,U=[...w,D];if(w.includes(j))throw new Error("Theme extension cycle detected: "+[...U,j].join(" -> "));return p(L,j,U)}}}},47598:(F,b,n)=>{"use strict";n.d(b,{b:()=>A});var i=n(60177),t=n(7901),u=n(41780),e=n(983),h=n(73028),m=n(96354),f=n(96526),v=n(1321),E=n(80183),_=n(82777),C=n(67600),S=n(54438);const R=p=>["/collections",p];function T(p,L){if(1&p&&(S.j41(0,"div",1)(1,"span",2),S.EFF(2),S.nI1(3,"translate"),S.j41(4,"a",3),S.nI1(5,"async"),S.EFF(6),S.nI1(7,"async"),S.k0s()()()),2&p){let D;const w=S.XpG();S.R7$(2),S.SpI("",S.bMT(3,3,"collection.listelement.badge"),": "),S.R7$(2),S.Y8G("routerLink",S.eq3(9,R,null==(D=S.bMT(5,5,w.collection$))?null:D.id)),S.R7$(2),S.SpI(" ",w.dsoNameService.getName(S.bMT(7,7,w.collection$))," ")}}let A=(()=>{class p{constructor(D,w){this.linkService=D,this.dsoNameService=w}ngOnInit(){this.linkService.resolveLinks(this.object,(0,C.s)("workflowitem",{isOptional:!0},(0,C.s)("collection",{}))),this.collection$=this.object.workflowitem.pipe((0,E.qD)(),(0,h.Z)(D=>D.hasSucceeded&&(0,_.hj)(D.payload)?D.payload.collection.pipe((0,E.qD)(),(0,m.T)(w=>w.hasSucceeded&&(0,_.hj)(w.payload)?w.payload:null)):e.w))}static{this.\u0275fac=function(w){return new(w||p)(S.rXU(v._),S.rXU(f.f))}}static{this.\u0275cmp=S.VBU({type:p,selectors:[["ds-item-collection"]],inputs:{object:"object"},standalone:!0,features:[S.aNF],decls:2,vars:3,consts:[["class","mt-2 mb-2",4,"ngIf"],[1,"mt-2","mb-2"],[1,"link-muted"],[3,"routerLink"]],template:function(w,M){1&w&&(S.DNE(0,T,8,11,"div",0),S.nI1(1,"async")),2&w&&S.Y8G("ngIf",S.bMT(1,1,M.collection$))},dependencies:[i.bT,t.Wk,i.Jj,u.h,u.D9]})}}return p})()},21546:(F,b,n)=>{"use strict";n.d(b,{s:()=>T});var i=n(60177),t=n(41780),u=n(983),e=n(73028),h=n(96354),m=n(96526),f=n(1321),v=n(80183),E=n(82777),_=n(67600),C=n(54438);function S(A,p){if(1&A&&(C.qex(0),C.EFF(1),C.bVm()),2&A){const L=p.ngIf,D=C.XpG();C.R7$(),C.SpI(" ",D.dsoNameService.getName(L)," ")}}function R(A,p){1&A&&(C.EFF(0),C.nI1(1,"translate")),2&A&&C.SpI(" ",C.bMT(1,1,"submitter.empty")," ")}let T=(()=>{class A{constructor(L,D){this.dsoNameService=L,this.linkService=D}ngOnInit(){this.linkService.resolveLinks(this.object,(0,_.s)("workflowitem",{},(0,_.s)("submitter",{}))),this.submitter$=this.object.workflowitem.pipe((0,v.qD)(),(0,e.Z)(L=>L.hasSucceeded&&(0,E.hj)(L.payload)?L.payload.submitter.pipe((0,v.qD)(),(0,h.T)(D=>D.hasSucceeded&&(0,E.hj)(D.payload)?D.payload:null)):u.w))}static{this.\u0275fac=function(D){return new(D||A)(C.rXU(m.f),C.rXU(f._))}}static{this.\u0275cmp=C.VBU({type:A,selectors:[["ds-item-submitter"]],inputs:{object:"object"},standalone:!0,features:[C.aNF],decls:9,vars:7,consts:[["noSubmitter",""],[1,"mt-2","mb-2"],[1,"text-muted"],[1,"badge","bg-info"],[4,"ngIf","ngIfElse"]],template:function(D,w){if(1&D&&(C.j41(0,"div",1)(1,"span",2),C.EFF(2),C.nI1(3,"translate"),C.j41(4,"span",3),C.DNE(5,S,2,1,"ng-container",4),C.nI1(6,"async"),C.DNE(7,R,2,3,"ng-template",null,0,C.C5r),C.k0s()()()),2&D){const M=C.sdS(8);C.R7$(2),C.SpI(" ",C.bMT(3,3,"submission.workflow.tasks.generic.submitter"),": "),C.R7$(3),C.Y8G("ngIf",C.bMT(6,5,w.submitter$))("ngIfElse",M)}},dependencies:[i.bT,i.Jj,t.h,t.D9]})}}return A})()},73584:(F,b,n)=>{"use strict";n.d(b,{C:()=>m});var i=n(54438),t=n(96526),u=n(26292),e=n(78448),h=n(7581);let m=(()=>{class f{constructor(E){this.dsoNameService=E,this.showLabel=!0,this.reloadedObject=new i.bkB,this.linkTypes=h.n,this.viewModes=e.n,this.contexts=u.o}static{this.\u0275fac=function(_){return new(_||f)(i.rXU(t.f))}}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-abstract-object-element"]],inputs:{object:"object",linkType:"linkType",listID:"listID",value:"value",index:"index",showLabel:"showLabel",showThumbnails:"showThumbnails",context:"context",viewMode:"viewMode"},outputs:{reloadedObject:"reloadedObject"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(_,C){},encapsulation:2})}}return f})()},24205:(F,b,n)=>{"use strict";n.d(b,{d:()=>t});var i=n(78541);class t extends i.q{}},35323:(F,b,n)=>{"use strict";n.d(b,{Y:()=>T});var i=n(60177),t=n(54438),u=n(89417),e=n(41780),h=n(65245),m=n(96697),f=n(96354),v=n(13329),E=n(18226);function C(A,p){if(1&A){const L=t.RV6();t.j41(0,"input",5,0),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("ngModelChange",function(w){t.eBV(L);const M=t.XpG(2);return t.Njj(M.selectCheckbox(w))}),t.k0s()}if(2&A){const L=t.sdS(1),D=t.XpG(2);t.Y8G("name","checkbox"+D.index)("id","object"+D.index)("ngModel",t.bMT(2,4,D.selected$)),t.BMQ("aria-label",t.bMT(3,6,L.checked?"selectable-list-item-control.deselect":"selectable-list-item-control.select"))}}function S(A,p){if(1&A){const L=t.RV6();t.j41(0,"input",6),t.nI1(1,"async"),t.nI1(2,"translate"),t.bIt("click",function(){t.eBV(L);const w=t.XpG().ngVar,M=t.XpG();return t.Njj(M.selectRadio(!w))}),t.k0s()}if(2&A){const L=t.XpG(2);t.Y8G("name","radio"+L.index)("id","object"+L.index)("checked",t.bMT(1,4,L.selected$)),t.BMQ("aria-label",t.bMT(2,6,"selectable-list-item-control.select"))}}function R(A,p){if(1&A&&(t.qex(0),t.j41(1,"span",2),t.DNE(2,C,4,8,"input",3)(3,S,3,8,"input",4),t.k0s(),t.bVm()),2&A){const L=t.XpG();t.R7$(2),t.Y8G("ngIf",L.selectionConfig.repeatable),t.R7$(),t.Y8G("ngIf",!L.selectionConfig.repeatable)}}n(22878);let T=(()=>{class A{constructor(L){this.selectionService=L,this.deselectObject=new t.bkB,this.selectObject=new t.bkB}ngOnInit(){this.selected$=this.selectionService.isObjectSelected(this.selectionConfig.listId,this.object),this.selected$.pipe((0,h.i)(1)).subscribe(L=>{L?this.selectObject.emit(this.object):this.deselectObject.emit(this.object)})}selectCheckbox(L){L?this.selectionService.selectSingle(this.selectionConfig.listId,this.object):this.selectionService.deselectSingle(this.selectionConfig.listId,this.object)}selectRadio(L){L&&this.selectionService.getSelectableList(this.selectionConfig.listId).pipe((0,m.s)(1),(0,f.T)(w=>w?w.selection:[])).subscribe(w=>{w.forEach(M=>{this.selectionService.deselectSingle(this.selectionConfig.listId,M),this.deselectObject.emit(M)}),this.selectionService.selectSingle(this.selectionConfig.listId,this.object),this.selectObject.emit(this.object)})}static{this.\u0275fac=function(D){return new(D||A)(t.rXU(v.K))}}static{this.\u0275cmp=t.VBU({type:A,selectors:[["ds-selectable-list-item-control"]],inputs:{object:"object",selectionConfig:"selectionConfig",index:"index"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["selectListItemCheckbox",""],[4,"ngVar"],[1,"form-check"],["class","form-check-input","type","checkbox",3,"name","id","ngModel","ngModelChange",4,"ngIf"],["class","form-check-input mt-2","type","radio",3,"name","id","checked","click",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"ngModelChange","name","id","ngModel"],["type","radio",1,"form-check-input","mt-2",3,"click","name","id","checked"]],template:function(D,w){1&D&&(t.DNE(0,R,4,2,"ng-container",1),t.nI1(1,"async")),2&D&&t.Y8G("ngVar",t.bMT(1,1,null==w.selectionService?null:w.selectionService.isObjectSelected(null==w.selectionConfig?null:w.selectionConfig.listId,w.object)))},dependencies:[E.r,i.bT,u.YN,u.Zm,u.BC,u.vS,i.Jj,e.h,e.D9],encapsulation:2})}}return A})()},38786:(F,b,n)=>{"use strict";n.d(b,{q:()=>t});var i=n(78541);class t extends i.q{}},95010:(F,b,n)=>{"use strict";n.d(b,{I:()=>t});var i=n(78541);class t extends i.q{}},3736:(F,b,n)=>{"use strict";n.r(b),n.d(b,{ItemDetailPreviewFieldComponent:()=>S});var i=n(60177),t=n(41780),e=(n(88318),n(39552)),h=n(79222),f=(n(78541),n(54438));function v(R,T){if(1&R&&f.nrm(0,"span",4),2&R){const A=f.XpG(3);f.Y8G("innerHTML",A.separator,f.npT)}}function E(R,T){if(1&R&&(f.j41(0,"span"),f.EFF(1),f.DNE(2,v,1,1,"span",3),f.k0s()),2&R){const A=T.$implicit,p=T.last;f.R7$(),f.SpI(" ",A,""),f.R7$(),f.Y8G("ngIf",!p)}}function _(R,T){if(1&R&&(f.qex(0),f.DNE(1,E,3,2,"span",2),f.bVm()),2&R){const A=f.XpG();f.R7$(),f.Y8G("ngForOf",A.allMetadataValues(A.metadata))}}function C(R,T){if(1&R&&(f.qex(0),f.j41(1,"span",5),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.bVm()),2&R){const A=f.XpG();f.R7$(2),f.JRh(f.bMT(3,1,A.placeholder))}}let S=(()=>{class R{allMetadataValues(A){return e.O.allValues([this.object.hitHighlights,this.item.metadata],A)}static{this.\u0275fac=function(p){return new(p||R)}}static{this.\u0275cmp=f.VBU({type:R,selectors:[["ds-base-item-detail-preview-field"]],inputs:{item:"item",object:"object",label:"label",metadata:"metadata",placeholder:"placeholder",separator:"separator"},standalone:!0,features:[f.aNF],decls:4,vars:5,consts:[[3,"label"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"text-muted"]],template:function(p,L){1&p&&(f.j41(0,"ds-metadata-field-wrapper",0),f.nI1(1,"translate"),f.DNE(2,_,2,1,"ng-container",1)(3,C,4,3,"ng-container",1),f.k0s()),2&p&&(f.Y8G("label",f.bMT(1,3,L.label)),f.R7$(2),f.Y8G("ngIf",L.item.hasMetadata(L.metadata)),f.R7$(),f.Y8G("ngIf",!L.item.hasMetadata(L.metadata)))},dependencies:[h.Q,i.pM,i.bT,t.h,t.D9],encapsulation:2})}}return R})()},89177:(F,b,n)=>{"use strict";n.d(b,{f:()=>t});const t=new(n(42547).v)("identifiers")},51805:(F,b,n)=>{"use strict";n.d(b,{t:()=>m});var i=n(31635),t=n(21921),u=n(3050),e=n(22878),h=n(83851);let m=class extends e.u{static{this.type=h.t}constructor(v=u._.Error,E="listable-notification-object.default-message",..._){super(),this.notificationType=v,this.message=E,this.type=h.t,this.renderTypes=_}getRenderTypes(){return[...this.renderTypes,this.constructor]}};m=(0,i.Cg)([t.gV,(0,i.Sn)("design:paramtypes",[String,String,String])],m)},83851:(F,b,n)=>{"use strict";n.d(b,{t:()=>t});const t=new(n(42547).v)("listable-notification-object")},56577:(F,b,n)=>{"use strict";n.r(b),n.d(b,{ItemListPreviewComponent:()=>G});var i=n(60177),t=n(41780),h=(n(26292),n(25567),n(82640)),m=n(96526),v=(n(88318),n(97402)),E=n(50332),_=n(55309),C=n(47598),S=n(21546),T=(n(78541),n(21308)),A=n(44869),p=n(54438);const L=q=>({lead:!0,"text-muted":q}),D=()=>["dc.contributor.author","dc.creator","dc.contributor.*"],w=q=>({"text-muted":q});function M(q,z){if(1&q&&(p.j41(0,"div",4),p.nrm(1,"ds-thumbnail",5),p.nI1(2,"async"),p.k0s()),2&q){const te=p.XpG();p.R7$(),p.Y8G("thumbnail",p.bMT(2,2,null==te.item?null:te.item.thumbnail))("limitWidth",!0)}}function x(q,z){if(1&q&&p.nrm(0,"span",19),2&q){const te=p.XpG(2);p.Y8G("innerHTML",te.item.firstMetadataValue("dc.publisher")+", ",p.npT)}}function j(q,z){1&q&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&q&&(p.R7$(),p.JRh(p.bMT(2,1,"mydspace.results.no-authors")))}function U(q,z){1&q&&(p.j41(0,"span"),p.EFF(1,"; "),p.k0s())}function $(q,z){if(1&q&&(p.j41(0,"span")(1,"span",22),p.nrm(2,"span",22),p.k0s(),p.DNE(3,U,2,0,"span",3),p.k0s()),2&q){const te=z.$implicit,Z=z.last;p.R7$(),p.Y8G("innerHTML",te,p.npT),p.R7$(),p.Y8G("innerHTML",te,p.npT),p.R7$(),p.Y8G("ngIf",!Z)}}function k(q,z){if(1&q&&(p.j41(0,"span",20),p.DNE(1,j,3,3,"span",3)(2,$,4,3,"span",21),p.k0s()),2&q){const te=p.XpG(2);p.R7$(),p.Y8G("ngIf",0===te.item.allMetadataValues(p.lJ4(2,D)).length),p.R7$(),p.Y8G("ngForOf",te.item.allMetadataValues(p.lJ4(3,D)))}}function K(q,z){if(1&q&&p.nrm(0,"ds-item-submitter",18),2&q){const te=p.XpG(2);p.Y8G("object",te.object.indexableObject)}}function X(q,z){if(1&q&&(p.j41(0,"div")(1,"div",6),p.nrm(2,"ds-badges",7),p.k0s(),p.j41(3,"ds-truncatable",8),p.nrm(4,"h2",9),p.j41(5,"div")(6,"span",10)(7,"ds-truncatable-part",11),p.EFF(8," ("),p.DNE(9,x,1,1,"span",12),p.nrm(10,"span",13),p.nI1(11,"translate"),p.EFF(12,") "),p.DNE(13,k,3,4,"span",14),p.k0s()(),p.j41(14,"ds-truncatable-part",15),p.nrm(15,"span",16),p.nI1(16,"translate"),p.k0s()()(),p.DNE(17,K,1,1,"ds-item-submitter",17),p.nrm(18,"ds-item-collection",18),p.k0s()),2&q){const te=p.XpG();p.Y8G("@fadeInOut",void 0),p.R7$(2),p.Y8G("object",te.item)("context",te.badgeContext)("showAccessStatus",!0),p.R7$(),p.Y8G("id",te.item.id),p.R7$(),p.Y8G("innerHTML",te.dsoTitle,p.npT)("ngClass",p.eq3(22,L,!te.item.firstMetadataValue("dc.title"))),p.R7$(3),p.Y8G("id",te.item.id)("minLines",1),p.R7$(2),p.Y8G("ngIf",te.item.hasMetadata("dc.publisher")),p.R7$(),p.Y8G("innerHTML",te.item.firstMetadataValue("dc.date.issued")||p.bMT(11,18,"mydspace.results.no-date"),p.npT),p.R7$(3),p.Y8G("ngIf",te.item.hasMetadata(p.lJ4(24,D))),p.R7$(),p.Y8G("id",te.item.id)("minLines",1),p.R7$(),p.Y8G("ngClass",p.eq3(25,w,!te.item.firstMetadataValue("dc.description.abstract")))("innerHTML",te.item.firstMetadataValue("dc.description.abstract")||p.bMT(16,20,"mydspace.results.no-abstract"),p.npT),p.R7$(2),p.Y8G("ngIf",te.showSubmitter),p.R7$(),p.Y8G("object",te.object.indexableObject)}}let G=(()=>{class q{constructor(te,Z){this.appConfig=te,this.dsoNameService=Z,this.showSubmitter=!1}ngOnInit(){this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.item)}static{this.\u0275fac=function(Z){return new(Z||q)(p.rXU(h.vQ),p.rXU(m.f))}}static{this.\u0275cmp=p.VBU({type:q,selectors:[["ds-base-item-list-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter",workflowItem:"workflowItem"},standalone:!0,features:[p.aNF],decls:4,vars:3,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],[1,"col-3","col-md-2"],[3,"thumbnail","limitWidth"],[1,"d-flex"],[3,"object","context","showAccessStatus"],[3,"id"],[3,"innerHTML","ngClass"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-publisher",3,"innerHTML",4,"ngIf"],[1,"item-list-date",3,"innerHTML"],["class","item-list-authors",4,"ngIf"],[1,"item-list-abstract",3,"id","minLines"],[3,"ngClass","innerHTML"],[3,"object",4,"ngIf"],[3,"object"],[1,"item-list-publisher",3,"innerHTML"],[1,"item-list-authors"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(Z,J){1&Z&&(p.j41(0,"div",0),p.DNE(1,M,3,4,"div",1),p.j41(2,"div",2),p.DNE(3,X,19,27,"div",3),p.k0s()()),2&Z&&(p.R7$(),p.Y8G("ngIf",J.showThumbnails),p.R7$(),p.Y8G("ngClass",J.showThumbnails?"col-9":"col-md-12"),p.R7$(),p.Y8G("ngIf",J.item))},dependencies:[i.Jj,C.b,S.s,i.YU,i.pM,i.bT,_.F,v.T,t.h,t.D9,T.d,A.W],data:{animation:[E.Ws]}})}}return q})()},52304:(F,b,n)=>{"use strict";n.r(b),n.d(b,{ObjectListComponent:()=>M});var i=n(60177),t=n(54438),m=(n(6238),n(1716),n(26292),n(78448)),f=n(50332),E=(n(7581),n(88261)),_=n(17191),C=n(35323),S=n(5682),R=n(75465),T=n(13329);const A=x=>({"ml-4":x});function p(x,j){if(1&x){const U=t.RV6();t.j41(0,"ds-selectable-list-item-control",8),t.bIt("deselectObject",function(k){t.eBV(U);const K=t.XpG(3);return t.Njj(K.deselectObject.emit(k))})("selectObject",function(k){t.eBV(U);const K=t.XpG(3);return t.Njj(K.selectObject.emit(k))}),t.k0s()}if(2&x){const U=t.XpG(),$=U.$implicit,k=U.index,K=t.XpG(2);t.Y8G("index",k)("object",$)("selectionConfig",K.selectionConfig)}}function L(x,j){if(1&x){const U=t.RV6();t.j41(0,"ds-importable-list-item-control",9),t.bIt("importObject",function(k){t.eBV(U);const K=t.XpG(3);return t.Njj(K.importObject.emit(k))}),t.k0s()}if(2&x){const U=t.XpG().$implicit,$=t.XpG(2);t.Y8G("object",U)("importConfig",$.importConfig)}}function D(x,j){if(1&x){const U=t.RV6();t.j41(0,"li",4),t.nI1(1,"dsBrowserOnly"),t.DNE(2,p,1,3,"ds-selectable-list-item-control",5)(3,L,1,2,"ds-importable-list-item-control",6),t.j41(4,"ds-listable-object-component-loader",7),t.bIt("contentChange",function(k){t.eBV(U);const K=t.XpG(2);return t.Njj(K.contentChange.emit(k))}),t.k0s()()}if(2&x){const U=j.$implicit,$=j.index,k=j.last,K=t.XpG(2);t.AVh("border-bottom",K.hasBorder&&!k),t.BMQ("data-test",t.bMT(1,11,"list-object")),t.R7$(2),t.Y8G("ngIf",K.selectable),t.R7$(),t.Y8G("ngIf",K.importable),t.R7$(),t.Y8G("object",U)("viewMode",K.viewMode)("index",$)("context",K.context)("linkType",K.linkType)("listID",null==K.selectionConfig?null:K.selectionConfig.listId)}}function w(x,j){if(1&x&&(t.j41(0,"ul",2),t.DNE(1,D,5,13,"li",3),t.k0s()),2&x){const U=t.XpG();t.Y8G("ngClass",t.eq3(2,A,U.selectable)),t.R7$(),t.Y8G("ngForOf",null==U.objects||null==U.objects.payload?null:U.objects.payload.page)}}let M=(()=>{class x{set objects(U){this._objects=U}get objects(){return this._objects}constructor(U){this.selectionService=U,this.viewMode=m.n.ListElement,this.hasBorder=!1,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.selectable=!1,this.hidePaginationDetail=!1,this.importable=!1,this.showPaginator=!0,this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.importObject=new t.bkB,this.sortFieldChange=new t.bkB}onPageChange(U){this.pageChange.emit(U)}onPageSizeChange(U){this.pageSizeChange.emit(U)}onSortDirectionChange(U){this.sortDirectionChange.emit(U)}onSortFieldChange(U){this.sortFieldChange.emit(U)}onPaginationChange(U){this.paginationChange.emit(U)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function($){return new($||x)(t.rXU(T.K))}}static{this.\u0275cmp=t.VBU({type:x,selectors:[["ds-base-object-list"]],inputs:{config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",selectable:"selectable",selectionConfig:"selectionConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",importable:"importable",importConfig:"importConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",deselectObject:"deselectObject",selectObject:"selectObject",importObject:"importObject",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.aNF],decls:2,vars:9,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","objects","sortOptions","hideGear","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator"],["class","list-unstyled","data-test","objects",3,"ngClass",4,"ngIf"],["data-test","objects",1,"list-unstyled",3,"ngClass"],["class","mt-4 mb-4 d-flex",3,"border-bottom",4,"ngFor","ngForOf"],[1,"mt-4","mb-4","d-flex"],[3,"index","object","selectionConfig","deselectObject","selectObject",4,"ngIf"],[3,"object","importConfig","importObject",4,"ngIf"],[3,"contentChange","object","viewMode","index","context","linkType","listID"],[3,"deselectObject","selectObject","index","object","selectionConfig"],[3,"importObject","object","importConfig"]],template:function($,k){1&$&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(X){return k.onPageChange(X)})("pageSizeChange",function(X){return k.onPageSizeChange(X)})("sortDirectionChange",function(X){return k.onSortDirectionChange(X)})("sortFieldChange",function(X){return k.onSortFieldChange(X)})("paginationChange",function(X){return k.onPaginationChange(X)})("prev",function(){return k.goPrev()})("next",function(){return k.goNext()}),t.DNE(1,w,2,4,"ul",1),t.k0s()),2&$&&(t.Y8G("paginationOptions",k.config)("collectionSize",null==k.objects||null==k.objects.payload?null:k.objects.payload.totalElements)("objects",k.objects)("sortOptions",k.sortConfig)("hideGear",k.hideGear)("hidePagerWhenSinglePage",k.hidePagerWhenSinglePage)("hidePaginationDetail",k.hidePaginationDetail)("showPaginator",k.showPaginator),t.R7$(),t.Y8G("ngIf",null==k.objects?null:k.objects.hasSucceeded))},dependencies:[S.e,i.bT,i.YU,i.pM,C.Y,E.$,_.v,R.L],styles:["ds-selectable-list-item-control[_ngcontent-%COMP%]{z-index:1}"],data:{animation:[f.qG]}})}}return x})()},94418:(F,b,n)=>{"use strict";n.d(b,{k:()=>Q});var i=n(31635),t=n(60177),u=n(7901),e=n(49969),h=n(78448),m=n(90887),f=n(27442),v=n(81569),E=n(21308),_=n(79411),C=n(54438);const S=ee=>[ee];function R(ee,le){if(1&ee&&C.nrm(0,"span",15),2&ee){const ne=C.XpG(3);C.Y8G("innerHTML",ne.firstMetadataValue("dc.casetype"),C.npT)}}function T(ee,le){1&ee&&(C.j41(0,"span",16),C.EFF(1,"/"),C.k0s())}function A(ee,le){if(1&ee&&C.nrm(0,"span",17),2&ee){const ne=C.XpG(3);C.Y8G("innerHTML",ne.firstMetadataValue("dc.title"),C.npT)}}function p(ee,le){1&ee&&(C.j41(0,"span",16),C.EFF(1,"/"),C.k0s())}function L(ee,le){if(1&ee&&C.nrm(0,"span",18),2&ee){const ne=C.XpG(3);C.Y8G("innerHTML",ne.firstMetadataValue("dc.caseyear"),C.npT)}}function D(ee,le){if(1&ee&&C.nrm(0,"span",23),2&ee){const ne=C.XpG(4);C.Y8G("innerHTML",ne.getPetitionerName(),C.npT)}}function w(ee,le){1&ee&&(C.j41(0,"span",24),C.EFF(1,"Vs"),C.k0s())}function M(ee,le){if(1&ee&&C.nrm(0,"span",25),2&ee){const ne=C.XpG(4);C.Y8G("innerHTML",ne.getRespondentName(),C.npT)}}function x(ee,le){if(1&ee&&(C.j41(0,"div",19),C.DNE(1,D,1,1,"span",20)(2,w,2,0,"span",21)(3,M,1,1,"span",22),C.k0s()),2&ee){const ne=C.XpG(3);C.R7$(),C.Y8G("ngIf",ne.getPetitionerName()),C.R7$(),C.Y8G("ngIf",ne.getPetitionerName()&&ne.getRespondentName()),C.R7$(),C.Y8G("ngIf",ne.getRespondentName())}}function j(ee,le){if(1&ee&&(C.j41(0,"a",5)(1,"div",6)(2,"span",7),C.EFF(3,"Case File"),C.k0s(),C.j41(4,"span",8),C.EFF(5,"Pending"),C.k0s()(),C.j41(6,"div",9),C.DNE(7,R,1,1,"span",10)(8,T,2,0,"span",11)(9,A,1,1,"span",12)(10,p,2,0,"span",11)(11,L,1,1,"span",13),C.k0s(),C.DNE(12,x,4,3,"div",14),C.k0s()),2&ee){const ne=C.XpG(2);C.Y8G("target",ne.linkType===ne.linkTypes.ExternalLink?"_blank":"_self")("routerLink",C.eq3(9,S,ne.itemPageRoute)),C.BMQ("rel",ne.linkType===ne.linkTypes.ExternalLink?"noopener noreferrer":null),C.R7$(7),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.casetype")),C.R7$(),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.casetype")&&ne.dso.firstMetadataValue("dc.title")),C.R7$(),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.title")),C.R7$(),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.title")&&ne.dso.firstMetadataValue("dc.caseyear")),C.R7$(),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.caseyear")),C.R7$(),C.Y8G("ngIf",ne.getPetitionerName()||ne.getRespondentName())}}function U(ee,le){if(1&ee&&C.nrm(0,"span",15),2&ee){const ne=C.XpG(3);C.Y8G("innerHTML",ne.firstMetadataValue("dc.casetype"),C.npT)}}function $(ee,le){1&ee&&(C.j41(0,"span",16),C.EFF(1,"/"),C.k0s())}function k(ee,le){if(1&ee&&C.nrm(0,"span",17),2&ee){const ne=C.XpG(3);C.Y8G("innerHTML",ne.firstMetadataValue("dc.title"),C.npT)}}function K(ee,le){1&ee&&(C.j41(0,"span",16),C.EFF(1,"/"),C.k0s())}function X(ee,le){if(1&ee&&C.nrm(0,"span",18),2&ee){const ne=C.XpG(3);C.Y8G("innerHTML",ne.firstMetadataValue("dc.caseyear"),C.npT)}}function G(ee,le){if(1&ee&&C.nrm(0,"span",23),2&ee){const ne=C.XpG(4);C.Y8G("innerHTML",ne.getPetitionerName(),C.npT)}}function q(ee,le){1&ee&&(C.j41(0,"span",24),C.EFF(1,"Vs"),C.k0s())}function z(ee,le){if(1&ee&&C.nrm(0,"span",25),2&ee){const ne=C.XpG(4);C.Y8G("innerHTML",ne.getRespondentName(),C.npT)}}function te(ee,le){if(1&ee&&(C.j41(0,"div",19),C.DNE(1,G,1,1,"span",20)(2,q,2,0,"span",21)(3,z,1,1,"span",22),C.k0s()),2&ee){const ne=C.XpG(3);C.R7$(),C.Y8G("ngIf",ne.getPetitionerName()),C.R7$(),C.Y8G("ngIf",ne.getPetitionerName()&&ne.getRespondentName()),C.R7$(),C.Y8G("ngIf",ne.getRespondentName())}}function Z(ee,le){if(1&ee&&(C.j41(0,"div",26)(1,"div",6)(2,"span",7),C.EFF(3,"Case File"),C.k0s(),C.j41(4,"span",8),C.EFF(5,"Pending"),C.k0s()(),C.j41(6,"div",9),C.DNE(7,U,1,1,"span",10)(8,$,2,0,"span",11)(9,k,1,1,"span",12)(10,K,2,0,"span",11)(11,X,1,1,"span",13),C.k0s(),C.DNE(12,te,4,3,"div",14),C.k0s()),2&ee){const ne=C.XpG(2);C.R7$(7),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.casetype")),C.R7$(),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.casetype")&&ne.dso.firstMetadataValue("dc.title")),C.R7$(),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.title")),C.R7$(),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.title")&&ne.dso.firstMetadataValue("dc.caseyear")),C.R7$(),C.Y8G("ngIf",ne.dso.firstMetadataValue("dc.caseyear")),C.R7$(),C.Y8G("ngIf",ne.getPetitionerName()||ne.getRespondentName())}}function J(ee,le){if(1&ee&&(C.j41(0,"ds-truncatable",1)(1,"div",2),C.DNE(2,j,13,11,"a",3)(3,Z,13,6,"div",4),C.k0s()()),2&ee){const ne=C.XpG();C.Y8G("id",ne.dso.id),C.R7$(),C.Y8G("@caseInfoAnimation",void 0),C.R7$(),C.Y8G("ngIf",ne.linkType!==ne.linkTypes.None),C.R7$(),C.Y8G("ngIf",ne.linkType===ne.linkTypes.None)}}let Q=class bD extends _.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails,this.itemPageRoute=(0,m._o)(this.dso),console.log("Item metadata:",this.dso.metadata)}getCaseInfo(){const le=this.dso.firstMetadataValue("dc.casetype")||"",ne=this.dso.firstMetadataValue("dc.title")||"",fe=this.dso.firstMetadataValue("dc.caseyear")||"";let se="";return le&&(se+=le),ne&&(se+=se?` ${ne}`:ne),fe&&(se+=se?` (${fe})`:`(${fe})`),se||this.dsoTitle}getPetitionerName(){return this.dso.firstMetadataValue("dc.pname")||this.dso.firstMetadataValue("dc.pname")||""}getRespondentName(){return this.dso.firstMetadataValue("dc.rname")||this.dso.firstMetadataValue("dc.rname")||""}getAllMetadataFields(){return this.dso&&this.dso.metadata?Object.keys(this.dso.metadata).join(", "):"No metadata available"}static{this.\u0275fac=(()=>{let le;return function(fe){return(le||(le=C.xGo(bD)))(fe||bD)}})()}static{this.\u0275cmp=C.VBU({type:bD,selectors:[["ds-item-search-result-list-element"]],standalone:!0,features:[C.Vt3,C.aNF],decls:1,vars:1,consts:[[3,"id",4,"ngIf"],[3,"id"],[1,"case-info-container"],["class","case-info-link dont-break-out",3,"target","routerLink",4,"ngIf"],["class","case-info-text dont-break-out",4,"ngIf"],[1,"case-info-link","dont-break-out",3,"target","routerLink"],[1,"badges-row"],[1,"badge","case-file-badge"],[1,"badge","pending-badge"],[1,"case-details-row"],["class","case-type animate-fade-in",3,"innerHTML",4,"ngIf"],["class","separator",4,"ngIf"],["class","case-number animate-slide-in",3,"innerHTML",4,"ngIf"],["class","case-year animate-fade-in",3,"innerHTML",4,"ngIf"],["class","parties-row",4,"ngIf"],[1,"case-type","animate-fade-in",3,"innerHTML"],[1,"separator"],[1,"case-number","animate-slide-in",3,"innerHTML"],[1,"case-year","animate-fade-in",3,"innerHTML"],[1,"parties-row"],["class","petitioner-name",3,"innerHTML",4,"ngIf"],["class","vs-separator",4,"ngIf"],["class","respondent-name",3,"innerHTML",4,"ngIf"],[1,"petitioner-name",3,"innerHTML"],[1,"vs-separator"],[1,"respondent-name",3,"innerHTML"],[1,"case-info-text","dont-break-out"]],template:function(ne,fe){1&ne&&C.DNE(0,J,4,4,"ds-truncatable",0),2&ne&&C.Y8G("ngIf",null!=fe.object)},dependencies:[t.bT,u.Wk,E.d],styles:[".item-list-supervision[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.case-info-container[_ngcontent-%COMP%]{margin-bottom:.5rem}.case-info-container[_ngcontent-%COMP%]   .case-info-link[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;text-decoration:none}.case-info-container[_ngcontent-%COMP%]   .case-info-link[_ngcontent-%COMP%]:hover   .case-type[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-link[_ngcontent-%COMP%]:hover   .case-number[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-link[_ngcontent-%COMP%]:hover   .case-year[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-text[_ngcontent-%COMP%]:hover   .case-type[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-text[_ngcontent-%COMP%]:hover   .case-number[_ngcontent-%COMP%], .case-info-container[_ngcontent-%COMP%]   .case-info-text[_ngcontent-%COMP%]:hover   .case-year[_ngcontent-%COMP%]{color:var(--ds-theme-primary)}.case-info-container[_ngcontent-%COMP%]   .badges-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.case-info-container[_ngcontent-%COMP%]   .badges-row[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:.25rem;font-size:.75rem;font-weight:500;text-transform:uppercase;letter-spacing:.025em}.case-info-container[_ngcontent-%COMP%]   .badges-row[_ngcontent-%COMP%]   .case-file-badge[_ngcontent-%COMP%]{background-color:#14b8a6;color:#fff}.case-info-container[_ngcontent-%COMP%]   .badges-row[_ngcontent-%COMP%]   .pending-badge[_ngcontent-%COMP%]{background-color:#22c55e;color:#fff}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:.25rem;font-size:1.1rem}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]   .case-type[_ngcontent-%COMP%]{font-weight:600;color:var(--bs-primary)}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]   .case-number[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;color:#1f2937}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]   .case-year[_ngcontent-%COMP%]{color:var(--bs-secondary);font-weight:500}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:var(--bs-secondary);font-weight:300;margin:0 .1rem}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:.5rem;font-size:1rem;color:#374151}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]   .petitioner-name[_ngcontent-%COMP%]{font-weight:500}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]   .vs-separator[_ngcontent-%COMP%]{font-weight:600;color:#dc2626;text-transform:uppercase;font-size:.9rem}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]   .respondent-name[_ngcontent-%COMP%]{font-weight:500}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.animate-slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(-10px)}to{opacity:1;transform:translate(0)}}@media (max-width: 768px){.case-info-container[_ngcontent-%COMP%]   .badges-row[_ngcontent-%COMP%]{flex-wrap:wrap}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]{font-size:1rem}.case-info-container[_ngcontent-%COMP%]   .case-details-row[_ngcontent-%COMP%]   .case-number[_ngcontent-%COMP%]{font-size:1.1rem}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]{font-size:.9rem;flex-direction:column;align-items:flex-start;gap:.25rem}.case-info-container[_ngcontent-%COMP%]   .parties-row[_ngcontent-%COMP%]   .vs-separator[_ngcontent-%COMP%]{align-self:center}}"],data:{animation:[(0,e.hZ)("caseInfoAnimation",[(0,e.kY)(":enter",[(0,e.iF)({opacity:0,transform:"translateY(-10px)"}),(0,e.i0)("300ms ease-out",(0,e.iF)({opacity:1,transform:"translateY(0)"}))])])]}})}};Q=(0,i.Cg)([(0,v.VK)("PublicationSearchResult",h.n.ListElement),(0,v.VK)(f.H,h.n.ListElement)],Q)},79411:(F,b,n)=>{"use strict";n.d(b,{P:()=>v});var i=n(82640),t=n(96526),u=n(39552),e=n(82777),h=n(73584),m=n(39092),f=n(54438);let v=(()=>{class E extends h.C{constructor(C,S,R){super(S),this.truncatableService=C,this.dsoNameService=S,this.appConfig=R}ngOnInit(){(0,e.a4)(this.object)&&(this.dso=this.object.indexableObject,this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.dso))}allMetadataValues(C){const S=u.O.allValues([this.dso.metadata],C),R=u.O.allValues([this.object.hitHighlights],C),T=R.map(A=>A.replace(/<\/?em>/g,""));for(let A=0;A<T.length;A++){const p=S.indexOf(T[A]);-1!==p&&(S[p]=R[A])}return S}firstMetadataValue(C){return u.O.firstValue([this.object.hitHighlights,this.dso.metadata],C)}isCollapsed(){return this.truncatableService.isCollapsed(this.dso.id)}static{this.\u0275fac=function(S){return new(S||E)(f.rXU(m.F),f.rXU(t.f),f.rXU(i.vQ))}}static{this.\u0275cmp=f.VBU({type:E,selectors:[["ds-search-result-list-element"]],standalone:!0,features:[f.Vt3,f.aNF],decls:0,vars:0,template:function(S,R){},encapsulation:2})}}return E})()},61281:(F,b,n)=>{"use strict";n.d(b,{Gk:()=>f,Sg:()=>t,Yd:()=>m,ZH:()=>e,hf:()=>E,t3:()=>h});var i=n(91e3);const t={SELECT:(0,i.N)("dspace/selectable-lists/SELECT"),SELECT_SINGLE:(0,i.N)("dspace/selectable-lists/SELECT_SINGLE"),DESELECT:(0,i.N)("dspace/selectable-lists/DESELECT"),DESELECT_SINGLE:(0,i.N)("dspace/selectable-lists/DESELECT_SINGLE"),SET_SELECTION:(0,i.N)("dspace/selectable-lists/SET_SELECTION"),DESELECT_ALL:(0,i.N)("dspace/selectable-lists/DESELECT_ALL")};class u{constructor(C,S){this.type=C,this.id=S}}class e extends u{constructor(C,S){super(t.SELECT,C),this.payload=S}}class h extends u{constructor(C,S){super(t.SELECT_SINGLE,C),this.payload={object:S}}}class m extends u{constructor(C,S){super(t.DESELECT_SINGLE,C),this.payload=S}}class f extends u{constructor(C,S){super(t.DESELECT,C),this.payload=S}}class E extends u{constructor(C){super(t.DESELECT_ALL,C)}}},13329:(F,b,n)=>{"use strict";n.d(b,{K:()=>_});var i=n(25499),t=n(96354),u=n(23294),e=n(195),h=n(82777),m=n(61281),f=n(54438);const v=C=>C.selectableLists;let _=(()=>{class C{constructor(R){this.store=R}getSelectableList(R){return this.store.pipe((0,i.Lt)((C=>(0,e.pc)(C,v))(R)))}selectSingle(R,T){this.store.dispatch(new m.t3(R,T))}select(R,T){this.store.dispatch(new m.ZH(R,T))}deselectSingle(R,T){this.store.dispatch(new m.Yd(R,T))}deselect(R,T){this.store.dispatch(new m.Gk(R,T))}deselectAll(R){this.store.dispatch(new m.hf(R))}isObjectSelected(R,T){return this.getSelectableList(R).pipe((0,t.T)(A=>(0,h.a4)(A)&&(0,h.hj)(A.selection)&&(0,h.a4)(A.selection.find(p=>p.equals(T)))),(0,u.F)())}findSelectedByCondition(R,T){return this.getSelectableList(R).pipe((0,t.T)(A=>(0,h.a4)(A)&&(0,h.hj)(A.selection)?A.selection.find(p=>T(p)):void 0))}static{this.\u0275fac=function(T){return new(T||C)(f.KVO(i.il))}}static{this.\u0275prov=f.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},65580:(F,b,n)=>{"use strict";n.d(b,{AS:()=>m,NE:()=>e,T8:()=>t,Vu:()=>f,YE:()=>v,bx:()=>E,u7:()=>h});var i=n(91e3);const t={INITIAL_DESELECT:(0,i.N)("dspace/object-select/INITIAL_DESELECT"),INITIAL_SELECT:(0,i.N)("dspace/object-select/INITIAL_SELECT"),SELECT:(0,i.N)("dspace/object-select/SELECT"),DESELECT:(0,i.N)("dspace/object-select/DESELECT"),SWITCH:(0,i.N)("dspace/object-select/SWITCH"),RESET:(0,i.N)("dspace/object-select/RESET")};class u{constructor(C,S){this.key=C,this.id=S}}class e extends u{constructor(){super(...arguments),this.type=t.INITIAL_DESELECT}}class h extends u{constructor(){super(...arguments),this.type=t.INITIAL_SELECT}}class m extends u{constructor(){super(...arguments),this.type=t.SELECT}}class f extends u{constructor(){super(...arguments),this.type=t.DESELECT}}class v extends u{constructor(){super(...arguments),this.type=t.SWITCH}}class E extends u{constructor(){super(...arguments),this.type=t.RESET}}},80597:(F,b,n)=>{"use strict";n.d(b,{Zb:()=>E,iv:()=>_});var i=n(48125),t=n.n(i),u=n(83278),e=n.n(u),h=n(95341),m=n.n(h),f=n(82777);function E(C){if("object"==typeof C){if(0===Object.keys(C).length)return!0;{let R=!0;for(const T in C)if((0,f.hj)(C[T])){R=!1;break}return R}}}function _(C,S){const R=(T,A)=>m()(T,(p,L,D)=>{if(!t()(L,A[D])&&(0,f.hj)(L)){const w=e()(L)&&e()(A[D])?R(L,A[D]):L;E(w)||(p[D]=w)}});return R(C,S)}},46580:(F,b,n)=>{"use strict";n.d(b,{b:()=>S});var i=n(60177),t=n(89417),u=n(96354),e=n(96697),h=n(22978),f=(n(39012),n(13955)),v=n(80270),E=n(54438),_=n(7901);function C(R,T){if(1&R&&(E.j41(0,"option",3),E.nI1(1,"async"),E.EFF(2),E.k0s()),2&R){const A=T.$implicit,p=E.XpG();E.Y8G("value",A)("selected",A===+E.bMT(1,3,p.paginationOptions$).pageSize?"selected":null),E.R7$(2),E.SpI(" ",A," ")}}let S=(()=>{class R{constructor(A,p,L,D){this.route=A,this.router=p,this.paginationService=L,this.searchConfigurationService=D}ngOnInit(){this.paginationOptions$=this.searchConfigurationService.paginatedSearchOptions.pipe((0,u.T)(A=>A.pagination))}reloadRPP(A){const p=A.target.value;this.paginationOptions$.pipe((0,e.s)(1)).subscribe(L=>{this.paginationService.updateRoute(L.id,{page:1,pageSize:+p})})}static{this.\u0275fac=function(p){return new(p||R)(E.rXU(_.nX),E.rXU(_.Ix),E.rXU(h.m),E.rXU(f.EN))}}static{this.\u0275cmp=E.VBU({type:R,selectors:[["ds-page-size-selector"]],standalone:!0,features:[E.aNF],decls:4,vars:5,consts:[[1,"page-size-settings"],[3,"changed","id","label"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(p,L){1&p&&(E.j41(0,"div",0)(1,"ds-sidebar-dropdown",1),E.bIt("changed",function(w){return L.reloadRPP(w)}),E.DNE(2,C,3,5,"option",2),E.nI1(3,"async"),E.k0s()()),2&p&&(E.R7$(),E.Y8G("id","search-sidebar-rpp")("label","search.sidebar.settings.rpp"),E.R7$(),E.Y8G("ngForOf",E.bMT(3,3,L.paginationOptions$).pageSizeOptions))},dependencies:[v.v,i.pM,t.YN,t.xH,t.y7,i.Jj],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return R})()},23401:(F,b,n)=>{"use strict";n.d(b,{W:()=>u});var i=n(58003),t=n(54438);let u=(()=>{class e extends i.MI{constructor(){super(...arguments),this.currentPage=1,this.maxSize=10,this.pageSizeOptions=[1,5,10,20,40,60,80,100]}static{this.\u0275fac=(()=>{let m;return function(v){return(m||(m=t.xGo(e)))(v||e)}})()}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},5682:(F,b,n)=>{"use strict";n.d(b,{e:()=>Te});var i=n(60177),t=n(54438),u=n(58003),e=n(41780),h=n(7673),m=n(96354),f=n(25558),v=n(99172),E=n(96697),_=n(6238),S=(n(1716),n(22978)),R=n(78448),T=n(60456),A=n(82777),p=n(57538),L=n(84412),D=n(88280),w=n(8917),M=n(44494),x=n(80183),j=n(39012),U=n(8865),$=n(7901);function k(be,me){if(1&be&&(t.j41(0,"div",2)(1,"a",3),t.nI1(2,"translate"),t.nI1(3,"translate"),t.nrm(4,"i",4),t.k0s()()),2&be){const re=me.ngIf;t.R7$(),t.Y8G("href",re,t.B4B)("title",t.bMT(2,3,"feed.description")),t.BMQ("aria-label",t.bMT(3,5,"feed.description"))}}function K(be,me){if(1&be&&(t.qex(0),t.DNE(1,k,5,7,"div",1),t.nI1(2,"async"),t.bVm()),2&be){const re=t.XpG();t.R7$(),t.Y8G("ngIf",t.bMT(2,1,re.route$))}}let X=(()=>{class be{constructor(re,Ee,De,tt,ht,Fe,Et,Ye){this.groupDataService=re,this.linkHeadService=Ee,this.configurationService=De,this.searchConfigurationService=tt,this.router=ht,this.route=Fe,this.paginationService=Et,this.translateService=Ye,this.route$=new L.t(""),this.isEnabled$=new L.t(null),this.isActivated$=new L.t(!1),this.subs=[]}ngOnDestroy(){this.linkHeadService.removeTag("rel='alternate'"),this.subs.forEach(re=>{re.unsubscribe()})}ngOnInit(){(0,A.a4)(this.route.snapshot.data?.enableRSS)?this.isActivated$.next(this.route.snapshot.data.enableRSS):(0,A.b0)(this.route.snapshot.data?.enableRSS)&&this.isActivated$.next(!1),this.subs.push(this.configurationService.findByPropertyName("websvc.opensearch.enable").pipe((0,x.qD)()).subscribe(re=>{re.hasSucceeded&&this.isEnabled$.next("true"===re.payload.values[0])})),this.subs.push(this.configurationService.findByPropertyName("websvc.opensearch.svccontext").pipe((0,x.qD)(),(0,m.T)(re=>re.hasSucceeded?re.payload.values[0]:null),(0,f.n)(re=>this.searchConfigurationService.paginatedSearchOptions.pipe((0,m.T)(Ee=>({openSearchUri:re,searchOptions:Ee}))))).subscribe(({openSearchUri:re,searchOptions:Ee})=>{if(!re)return null;this.uuid=this.groupDataService.getUUIDFromString(this.router.url);const De=D.c.rest.baseUrl+this.formulateRoute(this.uuid,re,Ee.sort,Ee.query,Ee.filters,Ee.configuration,Ee.pagination?.pageSize,Ee.fixedFilter);this.addLinks(De),this.linkHeadService.addTag({href:D.c.rest.baseUrl+"/"+re+"/service",type:"application/atom+xml",rel:"search",title:"Dspace"}),this.route$.next(De)}))}formulateRoute(re,Ee,De,tt,ht,Fe,Et,Ye){let pt="format=atom";if(re&&(pt+=`&scope=${re}`),De&&De.direction&&De.field&&"id"!==De.field&&(pt+=`&sort=${De.field}&sort_direction=${De.direction}`),pt+=tt?`&query=${tt}`:"&query=*",Fe&&(pt+=`&configuration=${Fe}`),Et&&(pt+=`&rpp=${Et}`),ht)for(const Mt of ht)for(const Ne of Mt.values)pt+="&"+Mt.key+"="+encodeURIComponent(Ne)+(Mt.operator?","+Mt.operator:"");return Ye&&(pt+="&"+Ye),pt="/"+Ee+"?"+pt,pt}hasRoute(re){return this.router.url.includes(re)}addLinks(re){this.linkHeadService.addTag({href:re,type:"application/atom+xml",rel:"alternate",title:"Sitewide Atom feed"}),re=re.replace("format=atom","format=rss"),this.linkHeadService.addTag({href:re,type:"application/rss+xml",rel:"alternate",title:"Sitewide RSS feed"})}static{this.\u0275fac=function(Ee){return new(Ee||be)(t.rXU(M.GroupDataService),t.rXU(U.m),t.rXU(w.ConfigurationDataService),t.rXU(j.g),t.rXU($.Ix),t.rXU($.nX),t.rXU(S.m),t.rXU(e.c$))}}static{this.\u0275cmp=t.VBU({type:be,selectors:[["ds-rss"]],exportAs:["rssComponent"],standalone:!0,features:[t.aNF],decls:3,vars:5,consts:[[4,"ngIf"],["class","d-inline-block float-end margin-right",4,"ngIf"],[1,"d-inline-block","float-end","margin-right"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-secondary",3,"href","title"],[1,"fas","fa-rss-square"]],template:function(Ee,De){1&Ee&&(t.DNE(0,K,3,3,"ng-container",0),t.nI1(1,"async"),t.nI1(2,"async")),2&Ee&&t.Y8G("ngIf",t.bMT(1,1,De.isEnabled$)&&t.bMT(2,3,De.isActivated$))},dependencies:[i.bT,i.Jj,e.h,e.D9],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}.margin-right[_ngcontent-%COMP%]{margin-right:.5em}"]})}}return be})(),G=(()=>{class be{transform(re){const Ee=[];for(const De in re)isNaN(parseInt(De,10))?Ee.push({key:De,value:re[De]}):Ee.push({key:+De,value:re[De]});return Ee}static{this.\u0275fac=function(Ee){return new(Ee||be)}}static{this.\u0275pipe=t.EJ8({name:"dsKeys",type:be,pure:!0,standalone:!0})}}return be})();const q=["*"],z=be=>({invisible:be});function te(be,me){if(1&be&&(t.j41(0,"div",10)(1,"span",11),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"span",12),t.EFF(5),t.nI1(6,"async"),t.nI1(7,"translate"),t.k0s()()),2&be){const re=t.XpG(3);t.R7$(2),t.JRh(t.bMT(3,2,"pagination.showing.label")),t.R7$(3),t.JRh(t.i5U(7,6,"pagination.showing.detail",t.bMT(6,4,re.showingDetails$)))}}function Z(be,me){if(1&be){const re=t.RV6();t.j41(0,"li",22),t.nI1(1,"async"),t.j41(2,"button",23),t.bIt("click",function(){const De=t.eBV(re).$implicit,tt=t.XpG(4);return t.Njj(tt.doPageSizeChange(De))}),t.nrm(3,"i",24),t.nI1(4,"async"),t.EFF(5),t.k0s()()}if(2&be){const re=me.$implicit,Ee=t.XpG(4);t.BMQ("aria-selected",re===t.bMT(1,3,Ee.pageSize$)),t.R7$(3),t.Y8G("ngClass",t.eq3(7,z,re!==t.bMT(4,5,Ee.pageSize$))),t.R7$(2),t.SpI(" ",re," ")}}function J(be,me){if(1&be){const re=t.RV6();t.j41(0,"li",22),t.nI1(1,"async"),t.j41(2,"button",23),t.bIt("click",function(){const De=t.eBV(re).$implicit,tt=t.XpG(5);return t.Njj(tt.doSortDirectionChange(De.value))}),t.nrm(3,"i",24),t.nI1(4,"async"),t.EFF(5),t.nI1(6,"translate"),t.k0s()()}if(2&be){const re=me.$implicit,Ee=t.XpG(5);t.BMQ("aria-selected",re.value===t.bMT(1,3,Ee.sortDirection$)),t.R7$(3),t.Y8G("ngClass",t.eq3(9,z,re.value!==t.bMT(4,5,Ee.sortDirection$))),t.R7$(2),t.SpI(" ",t.bMT(6,7,"sorting."+re.key)," ")}}function Q(be,me){if(1&be&&(t.j41(0,"li",17)(1,"span",25),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"ul",26),t.DNE(5,J,7,11,"li",20),t.nI1(6,"dsKeys"),t.k0s()()),2&be){const re=t.XpG(4);t.R7$(2),t.JRh(t.bMT(3,2,"pagination.sort-direction")),t.R7$(3),t.Y8G("ngForOf",t.bMT(6,4,re.sortDirections))}}function ee(be,me){if(1&be&&(t.j41(0,"div",13,0)(2,"button",14),t.nI1(3,"translate"),t.nI1(4,"translate"),t.nrm(5,"i",15),t.k0s(),t.j41(6,"ul",16)(7,"li",17)(8,"span",18),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"ul",19),t.DNE(12,Z,6,9,"li",20),t.k0s()(),t.DNE(13,Q,7,6,"li",21),t.k0s()()),2&be){const re=t.XpG(3);t.R7$(2),t.Y8G("title",t.bMT(3,5,"pagination.options.description")),t.BMQ("aria-label",t.bMT(4,7,"pagination.options.description")),t.R7$(7),t.JRh(t.bMT(10,9,"pagination.results-per-page")),t.R7$(3),t.Y8G("ngForOf",re.pageSizeOptions),t.R7$(),t.Y8G("ngIf",!1===re.hideSortOptions)}}function le(be,me){if(1&be&&(t.j41(0,"div",5)(1,"div",6),t.DNE(2,te,8,9,"div",7),t.j41(3,"div",8),t.DNE(4,ee,14,11,"div",9),t.nrm(5,"ds-rss"),t.k0s()()()),2&be){const re=t.XpG(2);t.R7$(2),t.Y8G("ngIf",!re.hidePaginationDetail&&re.collectionSize>0),t.R7$(2),t.Y8G("ngIf",!re.hideGear)}}function ne(be,me){if(1&be){const re=t.RV6();t.j41(0,"div",29)(1,"ngb-pagination",30),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"translate"),t.bIt("pageChange",function(De){t.eBV(re);const tt=t.XpG(3);return t.Njj(tt.doPageChange(De))}),t.k0s()()}if(2&be){const re=t.XpG(3);t.R7$(),t.Y8G("boundaryLinks",re.paginationOptions.boundaryLinks)("collectionSize",re.collectionSize)("disabled",re.paginationOptions.disabled)("ellipses",re.paginationOptions.ellipses)("maxSize",re.isXs?5:re.paginationOptions.maxSize)("page",t.bMT(2,10,re.currentPage$))("pageSize",t.bMT(3,12,re.pageSize$))("rotate",re.paginationOptions.rotate)("size",re.isXs?"sm":re.paginationOptions.size),t.BMQ("aria-label",t.bMT(4,14,"pagination-control.page-number-bar")+re.paginationOptions.id)}}function fe(be,me){if(1&be){const re=t.RV6();t.j41(0,"div",31)(1,"button",32),t.bIt("click",function(){t.eBV(re);const De=t.XpG(3);return t.Njj(De.goPrev())}),t.nrm(2,"i",33),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",34),t.bIt("click",function(){t.eBV(re);const De=t.XpG(3);return t.Njj(De.goNext())}),t.j41(6,"span",35),t.nI1(7,"translate"),t.nrm(8,"i",36),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()}if(2&be){const re=t.XpG(3);t.R7$(),t.Y8G("dsBtnDisabled",(null==re.objects||null==re.objects.payload?null:re.objects.payload.currentPage)<=1&&(null==re.paginationOptions?null:re.paginationOptions.currentPage)<=1),t.R7$(2),t.SpI(" ",t.bMT(4,5,"pagination.previous.button")," "),t.R7$(2),t.Y8G("dsBtnDisabled",(null==re.objects||null==re.objects.payload?null:re.objects.payload.currentPage)>=(null==re.objects||null==re.objects.payload?null:re.objects.payload.totalPages)||(null==re.paginationOptions?null:re.paginationOptions.currentPage)>=(null==re.objects||null==re.objects.payload?null:re.objects.payload.totalPages)),t.R7$(),t.Y8G("ngbTooltip",(null==re.objects||null==re.objects.payload?null:re.objects.payload.currentPage)>=(null==re.objects||null==re.objects.payload?null:re.objects.payload.totalPages)?t.bMT(7,7,"pagination.next.button.disabled.tooltip"):null),t.R7$(3),t.SpI(" ",t.bMT(10,9,"pagination.next.button")," ")}}function se(be,me){if(1&be&&(t.j41(0,"div"),t.DNE(1,ne,5,16,"div",27)(2,fe,11,11,"div",28),t.k0s()),2&be){const re=t.XpG(2);t.R7$(),t.Y8G("ngIf",re.showPaginator),t.R7$(),t.Y8G("ngIf",!re.showPaginator)}}function ce(be,me){if(1&be&&(t.j41(0,"div",2),t.DNE(1,le,6,2,"div",3),t.SdG(2),t.DNE(3,se,3,2,"div",4),t.nI1(4,"async"),t.k0s()),2&be){const re=t.XpG();t.Y8G("id","p-"+re.id),t.R7$(),t.Y8G("ngIf",!re.hidePaginationDetail&&re.collectionSize>0||!re.hideGear),t.R7$(2),t.Y8G("ngIf",t.bMT(4,3,re.shouldShowBottomPager))}}let Te=(()=>{class be{ngOnInit(){this.subs.push(this.hostWindowService.isXs().subscribe(re=>{this.isXs=re,this.cdRef.markForCheck()})),this.checkConfig(this.paginationOptions),this.initializeConfig()}ngOnChanges(re){re.collectionSize.currentValue!==re.collectionSize.previousValue&&(this.showingDetails$=this.getShowingDetails(this.collectionSize))}ngOnDestroy(){this.subs.filter(re=>(0,A.a4)(re)).forEach(re=>re.unsubscribe())}initializeConfig(){let re;this.id=this.paginationOptions.id||null,this.pageSizeOptions=this.paginationOptions.pageSizeOptions,this.currentPage$=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(Ee=>Ee.currentPage)),this.pageSize$=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(Ee=>Ee.pageSize)),re=this.sortOptions?this.sortOptions:new _.z(this.defaultSortField,this.defaultsortDirection),this.sortDirection$=this.paginationService.getCurrentSort(this.id,re).pipe((0,m.T)(Ee=>Ee.direction)),this.sortField$=this.paginationService.getCurrentSort(this.id,re).pipe((0,m.T)(Ee=>Ee.field))}constructor(re,Ee,De){this.cdRef=re,this.paginationService=Ee,this.hostWindowService=De,this.viewMode=R.n.ListElement,this.showPaginator=!0,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.sortFieldChange=new t.bkB,this.paginationChange=new t.bkB,this.hidePaginationDetail=!1,this.hideGear=!1,this.hideSortOptions=!1,this.hidePagerWhenSinglePage=!0,this.retainScrollPosition=!1,this.currentPageState=void 0,this.sortDirections=_.U,this.defaultsortDirection=_.U.ASC,this.defaultSortField="name",this.subs=[],this.prev=new t.bkB,this.next=new t.bkB}doPageChange(re){this.updateParams({page:re}),this.emitPaginationChange()}doPageSizeChange(re){this.updateParams({page:1,pageSize:re}),this.emitPaginationChange()}doSortDirectionChange(re){this.updateParams({page:1,sortDirection:re}),this.emitPaginationChange()}emitPaginationChange(){this.paginationChange.emit()}updateParams(re){this.paginationService.updateRoute(this.id,re,{},this.retainScrollPosition)}getShowingDetails(re){return(0,h.of)(re).pipe((0,A.Az)(),(0,f.n)(()=>this.paginationService.getCurrentPagination(this.id,this.paginationOptions)),(0,m.T)(Ee=>{let De;const tt=Ee.pageSize*Ee.currentPage;return De=re>tt?tt:re,{range:`${Ee.pageSize*(Ee.currentPage-1)+1} - ${De}`,total:re}}),(0,v.Z)({range:"null - null",total:null}))}checkConfig(re){const De=["id","currentPage","pageSize","pageSizeOptions"].filter(tt=>!(tt in re));if(0<De.length)throw new Error("Paginate: Argument is missing the following required properties: "+De.join(", "))}get hasMultiplePages(){return this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(re=>this.collectionSize>re.pageSize))}get shouldShowBottomPager(){return this.hasMultiplePages.pipe((0,m.T)(re=>re||!this.hidePagerWhenSinglePage))}goPrev(){this.prev.emit(!0),this.updatePagination(-1)}goNext(){this.next.emit(!0),this.updatePagination(1)}updatePagination(re){this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,E.s)(1)).subscribe(Ee=>{this.updateParams({page:Ee.currentPage+re})})}static{this.\u0275fac=function(Ee){return new(Ee||be)(t.rXU(t.gRc),t.rXU(S.m),t.rXU(p.CV))}}static{this.\u0275cmp=t.VBU({type:be,selectors:[["ds-pagination"]],inputs:{collectionSize:"collectionSize",paginationOptions:"paginationOptions",sortOptions:"sortOptions",showPaginator:"showPaginator",config:"config",objects:"objects",sortConfig:"sortConfig",hidePaginationDetail:"hidePaginationDetail",hideGear:"hideGear",hideSortOptions:"hideSortOptions",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",retainScrollPosition:"retainScrollPosition"},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",sortFieldChange:"sortFieldChange",paginationChange:"paginationChange",prev:"prev",next:"next"},exportAs:["paginationComponent"],standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:q,decls:2,vars:3,consts:[["paginationControls","ngbDropdown"],[3,"id",4,"ngIf"],[3,"id"],["class","pagination-masked clearfix top",4,"ngIf"],[4,"ngIf"],[1,"pagination-masked","clearfix","top"],[1,"row"],["class","col-auto pagination-info",4,"ngIf"],[1,"col"],["ngbDropdown","","placement","bottom-right","class","d-inline-block float-end",4,"ngIf"],[1,"col-auto","pagination-info"],[1,"align-middle","hidden-xs-down"],[1,"align-middle"],["ngbDropdown","","placement","bottom-right",1,"d-inline-block","float-end"],["id","paginationControls","ngbDropdownToggle","","aria-haspopup","true","aria-expanded","false",1,"btn","btn-secondary",3,"title"],["aria-hidden","true",1,"fas","fa-cog"],["id","paginationControlsDropdownMenu","aria-labelledby","paginationControls","role","menu","ngbDropdownMenu",""],["role","menuitem"],["id","pagination-control_results-per-page","role","heading",1,"dropdown-header"],["aria-labelledby","pagination-control_results-per-page","role","listbox",1,"list-unstyled"],["role","option",4,"ngFor","ngForOf"],["role","menuitem",4,"ngIf"],["role","option"],[1,"dropdown-item",3,"click"],["aria-hidden","true",1,"fas","fa-check",3,"ngClass"],["id","pagination-control_sort-direction","role","heading",1,"dropdown-header"],["aria-labelledby","pagination-control_sort-direction","role","listbox",1,"list-unstyled"],["class","pagination justify-content-center clearfix bottom",4,"ngIf"],["class","d-flex justify-content-between",4,"ngIf"],[1,"pagination","justify-content-center","clearfix","bottom"],[3,"pageChange","boundaryLinks","collectionSize","disabled","ellipses","maxSize","page","pageSize","rotate","size"],[1,"d-flex","justify-content-between"],["id","nav-prev","type","button",1,"btn","btn-outline-primary","float-start",3,"click","dsBtnDisabled"],[1,"fas","fa-angle-left"],["id","nav-next","type","button",1,"btn","btn-outline-primary","float-end",3,"click","dsBtnDisabled"],[3,"ngbTooltip"],[1,"fas","fa-angle-right"]],template:function(Ee,De){1&Ee&&(t.NAR(),t.DNE(0,ce,5,5,"div",1),t.nI1(1,"async")),2&Ee&&t.Y8G("ngIf",void 0===De.currentPageState||De.currentPageState===t.bMT(1,1,De.currentPage$))},dependencies:[i.bT,u.zH,u.tg,u.do,u.U0,i.pM,i.YU,X,u.c9,u.s5,u.n8,u.md,i.Jj,e.h,e.D9,G,T.A],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}"]})}}return be})()},43404:(F,b,n)=>{"use strict";n.d(b,{CX:()=>v,PM:()=>_,SP:()=>f,V7:()=>p,Wh:()=>R});var i=n(21626),t=n(7673),u=n(88280),e=n(1716),h=n(7434);const m=(new Date).getTime();function f(L,D=m){return new e.j(D,u.c.cache.msToLive.default,D,h.zE.Success,void 0,L,200)}function v(L,D){return(0,t.of)(f(L,D))}function E(L,D,w=15778368e5){return new e.j(w,u.c.cache.msToLive.default,w,h.zE.Error,L,void 0,D)}function _(L,D,w){return(0,t.of)(E(L,D,w))}function R(L){return f(void 0,L)}function p(L){return(0,t.of)(function A(L){const D=E();return L instanceof Error&&(D.errorMessage=L.message),L instanceof i.yz&&(D.statusCode=L.status),D}(L))}},4420:(F,b,n)=>{"use strict";n.d(b,{U:()=>h});var i=n(8886),t=n(54438);const u=["*"];function e(m,f){}let h=(()=>{class m extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["back","buttonLabel"]}getComponentName(){return"ResultsBackButtonComponent"}importThemedComponent(v){return n(79086)(`./${v}/app/shared/results-back-button/results-back-button.component`)}importUnthemedComponent(){return n.e(2076).then(n.bind(n,94280))}static{this.\u0275fac=(()=>{let v;return function(_){return(v||(v=t.xGo(m)))(_||m)}})()}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ds-results-back-button"]],inputs:{buttonLabel:"buttonLabel",back:"back"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:u,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(E,_){1&E&&(t.NAR(),t.DNE(0,e,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return m})()},41477:(F,b,n)=>{"use strict";n.d(b,{q:()=>v});var i=n(84572),t=n(5964),u=n(96354),e=n(61594),h=n(46265),m=n(82777),f=n(54438);let v=(()=>{class E{constructor(C,S,R,T){this.roleService=C,this.viewContainer=S,this.changeDetector=R,this.templateRef=T,this.subs=[]}ngOnChanges(C){this.hasRoles(this.dsShowOnlyForRole),C.dsShowOnlyForRole?this.validateOnly():C.dsShowExceptForRole&&this.validateExcept()}ngOnDestroy(){this.subs.filter(C=>(0,m.a4)(C)).forEach(C=>C.unsubscribe())}showTemplateBlockInView(){this.viewContainer.clear(),this.templateRef&&(this.viewContainer.createEmbeddedView(this.templateRef),this.changeDetector.markForCheck())}validateOnly(){this.subs.push(this.hasRoles(this.dsShowOnlyForRole).pipe((0,t.p)(C=>C)).subscribe(C=>{this.showTemplateBlockInView()}))}validateExcept(){this.subs.push(this.hasRoles(this.dsShowExceptForRole).pipe((0,t.p)(C=>!C)).subscribe(C=>{this.showTemplateBlockInView()}))}hasRoles(C){const R=(Array.isArray(C)?C:[C]).map(T=>this.roleService.checkRole(T));return(0,i.z)(R).pipe((0,u.T)(T=>T.includes(!0)),(0,e.$)())}static{this.\u0275fac=function(S){return new(S||E)(f.rXU(h.W),f.rXU(f.c1b),f.rXU(f.gRc),f.rXU(f.C4Q))}}static{this.\u0275dir=f.FsC({type:E,selectors:[["","dsShowOnlyForRole",""],["","dsShowExceptForRole",""]],inputs:{dsShowOnlyForRole:"dsShowOnlyForRole",dsShowExceptForRole:"dsShowExceptForRole"},standalone:!0,features:[f.OA$]})}}return E})()},18757:(F,b,n)=>{"use strict";n.d(b,{$s:()=>t,Jc:()=>u,aE:()=>h,zX:()=>e});var i=n(91e3);const t={ADD:(0,i.N)("dspace/css-variables/ADD"),ADD_ALL:(0,i.N)("dspace/css-variables/ADD_ALL"),CLEAR:(0,i.N)("dspace/css-variables/CLEAR")};class u{constructor(f,v){this.type=t.ADD,this.payload={name:f,value:v}}}class e{constructor(f){this.type=t.ADD_ALL,this.payload=f}}class h{constructor(){this.type=t.CLEAR}}},1221:(F,b,n)=>{"use strict";n.d(b,{J:()=>v});var i=n(25499),t=n(195),u=n(96820),e=n(32089),h=n(82777),m=n(18757),f=n(54438);let v=(()=>{class R{constructor(A){this.store=A,this.isSameDomain=p=>!p.href||0===p.href.indexOf(window.location.origin),this.hasCssRules=p=>{try{return p.cssRules}catch{return!1}},this.isStyleRule=p=>1===p.type}addCSSVariable(A,p){this.store.dispatch(new m.Jc(A,p))}addCSSVariables(A){this.store.dispatch(new m.zX(A))}clearCSSVariables(){this.store.dispatch(new m.aE)}getVariable(A){return this.store.pipe((0,i.Lt)(_(A)))}getAllVariables(){return this.store.pipe((0,i.Lt)(E))}searchVariable(A,p){return this.store.pipe((0,i.Lt)(C(A,p)))}getCSSVariablesFromStylesheets(A){return(0,h.hj)(A.styleSheets)?[...A.styleSheets].filter(this.isSameDomain).filter(this.hasCssRules).reduce((p,L)=>p.concat([...L.cssRules].filter(this.isStyleRule).reduce((D,w)=>[...D,...[...w.style].map(x=>({key:x.trim(),value:w.style.getPropertyValue(x).trim()})).filter(({key:x})=>0===x.indexOf("--"))],[])),[]):[]}static{this.\u0275fac=function(p){return new(p||R)(f.KVO(i.il))}}static{this.\u0275prov=f.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})();const E=R=>R.cssVariables,_=R=>(0,t.pc)(R,E),C=(R,T)=>(0,i.Mz)(S(R),A=>{if((0,h.a4)(A)){const{currentPage:p,pageSize:L}=T,D=(p-1)*L,M=A.slice(D,D+L),x=Math.ceil(A.length/L),j=new e.Q({currentPage:p,elementsPerPage:L,totalElements:A.length,totalPages:x});return(0,u.g)(j,M)}}),S=R=>(0,i.Mz)(E,T=>{if((0,h.a4)(T))return Object.keys(T).filter(A=>A.includes(R)).map(A=>({key:A,value:T[A]}))})},81988:(F,b,n)=>{"use strict";n.r(b),n.d(b,{SearchFormComponent:()=>X});var i=n(60177),t=n(54438),u=n(89417),e=n(58003),h=n(41780),m=n(84412),f=n(96697),v=n(96526),E=n(13989),_=n(22978),C=n(80183),S=n(78655),R=n(39012),T=n(15465),A=n(82777),p=n(75465),L=n(30506),D=n(88280),w=n(6238),M=n(26292),x=n(13864),j=n(73183),U=n(54705),$=n(7901);let k=(()=>{class G extends U.${constructor(z,te){super(z,te),this.activeModal=z,this.route=te,this.Context=M.o,this.objectType=x.W.COMMUNITY,this.selectorTypes=[x.W.COMMUNITY,x.W.COLLECTION],this.action=U.u.SET_SCOPE,this.scopeChange=new t.bkB,this.defaultSort=new w.z(D.c.comcolSelectionSort.sortField,D.c.comcolSelectionSort.sortDirection)}navigate(z){this.scopeChange.emit(z)}static{this.\u0275fac=function(te){return new(te||G)(t.rXU(e.Lw),t.rXU($.nX))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-scope-selector-modal"]],standalone:!0,features:[t.Vt3,t.aNF],decls:19,vars:16,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"btn","btn-outline-primary","btn-lg","btn-block","w-100",3,"click"],[1,"position-relative","py-1","my-3","fw-normal","h3"],["id","create-community-or-separator",1,"text-center","position-absolute","w-100"],[1,"px-4","bg-white"],[1,"px-2","h5"],[3,"onSelect","context","currentDSOId","types","sort"]],template:function(te,Z){1&te&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return Z.selectObject(void 0)}),t.k0s()(),t.j41(5,"div",2)(6,"button",3),t.bIt("click",function(){return Z.selectObject(void 0)}),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"div",4),t.nrm(10,"hr"),t.j41(11,"div",5)(12,"span",6),t.EFF(13),t.nI1(14,"translate"),t.k0s()()(),t.j41(15,"h2",7),t.EFF(16),t.nI1(17,"translate"),t.k0s(),t.j41(18,"ds-dso-selector",8),t.bIt("onSelect",function(Q){return Z.selectObject(Q)}),t.k0s()()()),2&te&&(t.R7$(2),t.SpI("",t.bMT(3,8,"dso-selector."+Z.action+"."+Z.objectType.toString().toLowerCase()+".head")," "),t.R7$(5),t.JRh(t.bMT(8,10,"dso-selector."+Z.action+"."+Z.objectType.toString().toLowerCase()+".button")),t.R7$(6),t.JRh(t.bMT(14,12,"dso-selector."+Z.action+"."+Z.objectType.toString().toLowerCase()+".or-divider")),t.R7$(3),t.JRh(t.bMT(17,14,"dso-selector."+Z.action+"."+Z.objectType.toString().toLowerCase()+".input-header")),t.R7$(2),t.Y8G("context",Z.Context.ScopeSelectorModal)("currentDSOId",null==Z.dsoRD?null:Z.dsoRD.payload.uuid)("types",Z.selectorTypes)("sort",Z.defaultSort))},dependencies:[j.x,h.h,h.D9],styles:["#create-community-or-separator[_ngcontent-%COMP%]{top:0}"]})}}return G})();function K(G,q){if(1&G){const z=t.RV6();t.j41(0,"button",7),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(z);const Z=t.XpG();return t.Njj(Z.openScopeModal())}),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.k0s()}if(2&G){const z=t.XpG();t.Y8G("ngbTooltip",z.dsoNameService.getName(t.bMT(1,2,z.selectedScope))),t.R7$(2),t.SpI(" ",z.dsoNameService.getName(t.bMT(3,4,z.selectedScope))||t.bMT(4,6,"search.form.scope.all")," ")}}let X=(()=>{class G{constructor(z,te,Z,J,Q,ee,le,ne){this.router=z,this.searchService=te,this.searchFilterService=Z,this.paginationService=J,this.searchConfig=Q,this.modalService=ee,this.dsoService=le,this.dsoNameService=ne,this.scope="",this.hideScopeInUrl=!1,this.selectedScope=new m.t(void 0),this.large=!1,this.brandColor="primary",this.showScopeSelector=!1,this.submitSearch=new t.bkB}ngOnChanges(){(0,A.hj)(this.scope)&&this.dsoService.findById(this.scope).pipe((0,C.ak)()).subscribe(z=>this.selectedScope.next(z))}onSubmit(z){(0,A.hj)(this.scope)&&(z=Object.assign(z,{scope:this.scope})),this.updateSearch(z),this.submitSearch.emit(z)}onScopeChange(z){this.updateSearch({scope:z?z.uuid:void 0}),this.searchFilterService.minimizeAll()}updateSearch(z){const Z=Object.assign({"spc.page":1},z);(0,A.a4)(z.scope)&&this.hideScopeInUrl&&delete Z.scope,this.router.navigate(this.getSearchLinkParts(),{queryParams:Z,queryParamsHandling:"merge"})}getSearchLink(){return this.inPlaceSearch?(0,L.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.inPlaceSearch?[]:this.getSearchLink().split("/")}openScopeModal(){this.modalService.open(k).componentInstance.scopeChange.pipe((0,f.s)(1)).subscribe(te=>{this.selectedScope.next(te),this.onScopeChange(te)})}static{this.\u0275fac=function(te){return new(te||G)(t.rXU($.Ix),t.rXU(S.S),t.rXU(T.U),t.rXU(_.m),t.rXU(R.g),t.rXU(e.Bq),t.rXU(E.DSpaceObjectDataService),t.rXU(v.f))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-base-search-form"]],inputs:{query:"query",inPlaceSearch:"inPlaceSearch",scope:"scope",hideScopeInUrl:"hideScopeInUrl",currentUrl:"currentUrl",large:"large",brandColor:"brandColor",searchPlaceholder:"searchPlaceholder",showScopeSelector:"showScopeSelector"},outputs:{submitSearch:"submitSearch"},standalone:!0,features:[t.OA$,t.aNF],decls:12,vars:16,consts:[["form","ngForm"],["action","/search",3,"ngSubmit"],[1,"mb-3","input-group"],["class","scope-button btn btn-outline-secondary text-truncate","type","button",3,"ngbTooltip","click",4,"ngIf"],["type","text","name","query",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["type","submit"],[1,"fas","fa-search"],["type","button",1,"scope-button","btn","btn-outline-secondary","text-truncate",3,"click","ngbTooltip"]],template:function(te,Z){if(1&te){const J=t.RV6();t.j41(0,"form",1,0),t.bIt("ngSubmit",function(){t.eBV(J);const ee=t.sdS(1);return t.Njj(Z.onSubmit(ee.value))}),t.j41(2,"div")(3,"div",2),t.DNE(4,K,5,8,"button",3),t.j41(5,"input",4),t.nI1(6,"dsBrowserOnly"),t.mxI("ngModelChange",function(ee){return t.eBV(J),t.DH7(Z.query,ee)||(Z.query=ee),t.Njj(ee)}),t.k0s(),t.j41(7,"button",5),t.nI1(8,"dsBrowserOnly"),t.nrm(9,"i",6),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()()}2&te&&(t.R7$(4),t.Y8G("ngIf",Z.showScopeSelector),t.R7$(),t.R50("ngModel",Z.query),t.Y8G("placeholder",Z.searchPlaceholder),t.BMQ("aria-label",Z.searchPlaceholder)("data-test",t.bMT(6,10,"search-box")),t.R7$(2),t.ZvI("search-button btn btn-",Z.brandColor,""),t.BMQ("data-test",t.bMT(8,12,"search-button")),t.R7$(3),t.SpI(" ",t.bMT(11,14,"search.form.search"),""))},dependencies:[u.YN,u.qT,u.me,u.BC,u.cb,u.vS,u.cV,i.bT,e.n8,e.md,i.Jj,h.h,h.D9,p.L],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}.scope-button[_ngcontent-%COMP%]{max-width:var(--ds-search-form-scope-max-width)}"]})}}return G})()},18016:(F,b,n)=>{"use strict";n.d(b,{d:()=>m});var i=n(54438),t=n(8886);n(81988);const e=["*"];function h(f,v){}let m=(()=>{class f extends t.J{constructor(){super(...arguments),this.submitSearch=new i.bkB,this.inAndOutputNames=["query","inPlaceSearch","scope","hideScopeInUrl","currentUrl","large","brandColor","searchPlaceholder","showScopeSelector","submitSearch"]}getComponentName(){return"SearchFormComponent"}importThemedComponent(E){return n(76142)(`./${E}/app/shared/search-form/search-form.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,81988))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=i.xGo(f)))(C||f)}})()}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-search-form"]],inputs:{query:"query",inPlaceSearch:"inPlaceSearch",scope:"scope",hideScopeInUrl:"hideScopeInUrl",currentUrl:"currentUrl",large:"large",brandColor:"brandColor",searchPlaceholder:"searchPlaceholder",showScopeSelector:"showScopeSelector"},outputs:{submitSearch:"submitSearch"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(i.NAR(),i.DNE(0,h,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return f})()},77909:(F,b,n)=>{"use strict";n.d(b,{Q:()=>D});var i=n(60177),t=n(89417),u=n(41780),e=n(7673),h=n(96697),m=n(82640),f=n(78655),v=n(39012),E=n(15465),_=n(60456),C=n(82777),S=n(81648),R=n(59780),T=n(54438),A=n(7901);function p(w,M){if(1&w&&(T.j41(0,"option",8),T.EFF(1),T.nI1(2,"translate"),T.k0s()),2&w){const x=M.$implicit;T.Y8G("value",x.value.filter),T.R7$(),T.SpI(" ",T.bMT(2,2,"search.filters.filter."+x.value.filter+".head")," ")}}function L(w,M){if(1&w&&(T.j41(0,"option",8),T.EFF(1),T.nI1(2,"translate"),T.k0s()),2&w){const x=M.$implicit;T.Y8G("value",x.operator),T.R7$(),T.SpI(" ",T.bMT(2,2,"search.filters.operator."+x.operator+".text")," ")}}let D=(()=>{class w{constructor(x,j,U,$,k){this.router=x,this.searchService=j,this.searchConfigurationService=U,this.searchFilterService=$,this.appConfig=k,this.advancedFilterMap=new Map,this.currentValue="",this.filterSearchResults$=(0,e.of)([]),this.subs=[]}ngOnInit(){this.advancedFilters$=this.searchConfigurationService.getConfigurationAdvancedSearchFilters(this.configuration,this.scope),this.subs.push(this.advancedFilters$.subscribe(x=>{const j=new Map;if(x.length>0){this.currentFilter=x[0].filter,this.currentOperator=x[0].operators[0].operator;for(const U of x)U.type!==R.R.range&&j.set(U.filter,U)}this.advancedFilterMap=j}))}ngOnDestroy(){this.subs.forEach(x=>x.unsubscribe())}findSuggestions(x){if((0,C.a4)(this.filtersConfig))for(const j of this.filtersConfig)j.name===this.currentFilter&&(this.filterSearchResults$=this.searchFilterService.findSuggestions(j,this.searchConfigurationService.searchOptions.value,x))}applyFilter(){(0,C.hj)(this.currentValue)&&(this.searchFilterService.minimizeAll(),this.subs.push(this.searchConfigurationService.selectNewAppliedFilterParams(this.currentFilter,this.currentValue.trim(),this.currentOperator).pipe((0,h.s)(1)).subscribe(x=>{this.router.navigate([this.searchService.getSearchLink()],{queryParams:x}),this.currentValue=""})))}static{this.\u0275fac=function(j){return new(j||w)(T.rXU(A.Ix),T.rXU(f.S),T.rXU(v.g),T.rXU(E.U),T.rXU(m.vQ))}}static{this.\u0275cmp=T.VBU({type:w,selectors:[["ds-advanced-search"]],inputs:{configuration:"configuration",filtersConfig:"filtersConfig",scope:"scope"},standalone:!0,features:[T.aNF],decls:26,vars:36,consts:[[1,"advanced-search","b-3","p-3"],["for","advanced-search-filters",1,"sr-only"],["id","advanced-search-filters",1,"form-control","mb-2",3,"ngModelChange","keyup.enter","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","advanced-search-operators",1,"sr-only"],["id","advanced-search-operators",1,"form-control","mb-2",3,"ngModelChange","keyup.enter","ngModel"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"],[1,"btn","btn-primary","mt-2",3,"click","dsBtnDisabled"],[3,"value"]],template:function(j,U){if(1&j&&(T.j41(0,"h3"),T.EFF(1),T.nI1(2,"translate"),T.k0s(),T.j41(3,"div",0)(4,"h4"),T.EFF(5),T.nI1(6,"translate"),T.k0s(),T.j41(7,"label",1),T.EFF(8),T.nI1(9,"translate"),T.k0s(),T.j41(10,"select",2),T.mxI("ngModelChange",function(k){return T.DH7(U.currentFilter,k)||(U.currentFilter=k),k}),T.bIt("keyup.enter",function(){return U.applyFilter()})("ngModelChange",function(){return U.currentOperator=U.advancedFilterMap.get(U.currentFilter).operators[0].operator}),T.DNE(11,p,3,4,"option",3),T.nI1(12,"async"),T.nI1(13,"keyvalue"),T.k0s(),T.j41(14,"label",4),T.EFF(15),T.nI1(16,"translate"),T.k0s(),T.j41(17,"select",5),T.mxI("ngModelChange",function(k){return T.DH7(U.currentOperator,k)||(U.currentOperator=k),k}),T.bIt("keyup.enter",function(){return U.applyFilter()}),T.DNE(18,L,3,4,"option",3),T.k0s(),T.j41(19,"ds-filter-input-suggestions",6),T.nI1(20,"async"),T.nI1(21,"translate"),T.nI1(22,"translate"),T.mxI("ngModelChange",function(k){return T.DH7(U.currentValue,k)||(U.currentValue=k),k}),T.bIt("submitSuggestion",function(){return U.applyFilter()})("findSuggestions",function(k){return U.findSuggestions(k)}),T.k0s(),T.j41(23,"button",7),T.bIt("click",function(){return U.applyFilter()}),T.EFF(24),T.nI1(25,"translate"),T.k0s()()),2&j){let $;T.R7$(),T.JRh(T.bMT(2,16,"search.sidebar.advanced-search.title")),T.R7$(4),T.JRh(T.bMT(6,18,"search.sidebar.advanced-search.filter-by")),T.R7$(3),T.SpI(" ",T.bMT(9,20,"search.sidebar.advanced-search.filters")," "),T.R7$(2),T.R50("ngModel",U.currentFilter),T.R7$(),T.Y8G("ngForOf",T.bMT(13,24,T.bMT(12,22,U.advancedFilters$))),T.R7$(4),T.SpI(" ",T.bMT(16,26,"search.sidebar.advanced-search.operators")," "),T.R7$(2),T.R50("ngModel",U.currentOperator),T.R7$(),T.Y8G("ngForOf",null==($=U.advancedFilterMap.get(U.currentFilter))?null:$.operators),T.R7$(),T.Y8G("suggestions",T.bMT(20,28,U.filterSearchResults$))("placeholder",T.bMT(21,30,"search.filters.filter."+U.currentFilter+".placeholder"))("label",T.bMT(22,32,"search.filters.filter."+U.currentFilter+".label"))("action",U.router.url)("name","f."+U.currentFilter),T.R50("ngModel",U.currentValue),T.R7$(4),T.Y8G("dsBtnDisabled",""===U.currentValue),T.R7$(),T.SpI(" ",T.bMT(25,34,"search.sidebar.advanced-search.add")," ")}},dependencies:[i.Jj,S.H,t.YN,t.xH,t.y7,t.me,t.wz,t.BC,t.vS,i.lG,i.Sq,u.h,u.D9,_.A],styles:["[_nghost-%COMP%]     ds-filter-input-suggestions label span{display:none}.advanced-search[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return w})()},15641:(F,b,n)=>{"use strict";n.d(b,{S:()=>u});var i=n(31635),t=n(74850);class u{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],u.prototype,"filter",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],u.prototype,"operator",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],u.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],u.prototype,"label",void 0)},54994:(F,b,n)=>{"use strict";n.d(b,{L:()=>u});var i=n(31635),t=n(74850);class u{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],u.prototype,"label",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"label"),(0,i.Sn)("design:type",String)],u.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],u.prototype,"count",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],u.prototype,"authorityKey",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],u.prototype,"_links",void 0)},59780:(F,b,n)=>{"use strict";n.d(b,{R:()=>i});var i=function(t){return t.authority="authority",t.text="text",t.range="date",t.hierarchy="hierarchical",t.boolean="standard",t}(i||{})},33550:(F,b,n)=>{"use strict";n.d(b,{C:()=>u});var i=n(82777),t=n(31192);class u extends t.n{constructor(h){super(h),this.pagination=h.pagination,this.sort=h.sort,this.view=h.view}toRestUrl(h,m=[]){return(0,i.hj)(this.sort)&&m.push(`sort=${this.sort.field},${this.sort.direction}`),(0,i.hj)(this.pagination)&&(m.push("page="+(this.pagination.currentPage-1)),m.push(`size=${this.pagination.pageSize}`)),super.toRestUrl(h,m)}}},6842:(F,b,n)=>{"use strict";n.d(b,{F:()=>v});var i=n(31635),t=n(74850),u=n(21921),e=n(98688);n(59780);const f=new(n(42547).v)("discovery-filter");let v=class{constructor(){this.type=f,this.pageSize=5}static{this.type=f}get paramName(){return"f."+this.name}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",Object)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"name",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"facetType"),(0,i.Sn)("design:type",String)],v.prototype,"filterType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"hasFacets",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"facetLimit"),(0,i.Sn)("design:type",Object)],v.prototype,"pageSize",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"openByDefault"),(0,i.Sn)("design:type",Boolean)],v.prototype,"isOpenByDefault",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"maxValue",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"minValue",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([u.gV],v)},1102:(F,b,n)=>{"use strict";n.d(b,{n:()=>_});var i=n(31635),t=n(74850),u=n(21921),e=n(96820),h=n(98688),m=n(24385),f=n(78541);const E=new(n(42547).v)("discovery-objects");let _=class extends m.a{constructor(){super(...arguments),this.type=E}static{this.type=E}};(0,i.Cg)([h.aK,(0,i.Sn)("design:type",Object)],_.prototype,"type",void 0),(0,i.Cg)([(0,t.autoserializeAs)(f.q,"objects"),(0,i.Sn)("design:type",Array)],_.prototype,"page",void 0),_=(0,i.Cg)([u.gV,(0,t.inheritSerialization)(e.O),(0,t.inheritSerialization)(m.a)],_)},31192:(F,b,n)=>{"use strict";n.d(b,{n:()=>e});var i=n(78448),t=n(45663),u=n(82777);class e{constructor(m){this.view=i.n.ListElement,this.configuration=m.configuration,this.scope=m.scope,this.query=m.query,this.dsoTypes=m.dsoTypes,this.filters=m.filters,this.fixedFilter=m.fixedFilter}toRestUrl(m,f=[]){return(0,u.hj)(this.configuration)&&f.push(`configuration=${encodeURIComponent(this.configuration)}`),(0,u.hj)(this.fixedFilter)&&f.push(this.encodedFixedFilter),(0,u.hj)(this.query)&&f.push(`query=${encodeURIComponent(this.query)}`),(0,u.hj)(this.scope)&&f.push(`scope=${encodeURIComponent(this.scope)}`),(0,u.hj)(this.dsoTypes)&&this.dsoTypes.forEach(v=>{f.push(`dsoType=${encodeURIComponent(v)}`)}),(0,u.hj)(this.filters)&&this.filters.forEach(v=>{v.values.forEach(E=>{const _=E.includes(",")?`${E}`:E+(v.operator?","+v.operator:"");f.push(`${v.key}=${this.encodeFilterQueryValue(_)}`)})}),(0,u.hj)(f)&&(m=new t.t(m,`?${f.join("&")}`).toString()),m}get encodedFixedFilter(){const m=this.fixedFilter.match(/^([^=]+=)(.+)$/);return(0,u.a4)(m)?m[1]+this.encodeFilterQueryValue(m[2]):this.encodeFilterQueryValue(this.fixedFilter)}encodeFilterQueryValue(m){const f=m.match(/^(.*)(,\w+)$/);return(0,u.a4)(f)?encodeURIComponent(f[1])+f[2]:encodeURIComponent(m)}}},24385:(F,b,n)=>{"use strict";n.d(b,{a:()=>f});var i=n(31635),t=n(74850),u=n(96820),e=n(32089),h=n(15641);class m{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"by",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"order",void 0);class f extends u.O{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"scope",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"query",void 0),(0,i.Cg)([(0,t.autoserializeAs)(h.S),(0,i.Sn)("design:type",Array)],f.prototype,"appliedFilters",void 0),(0,i.Cg)([(0,t.autoserializeAs)(m),(0,i.Sn)("design:type",m)],f.prototype,"sort",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"configuration",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",e.Q)],f.prototype,"pageInfo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],f.prototype,"page",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],f.prototype,"facets",void 0)},78541:(F,b,n)=>{"use strict";n.d(b,{q:()=>E});var i=n(31635),t=n(74850),u=n(21921),e=n(14391),h=n(98688),m=n(22878);const v=new(n(42547).v)("searchresult");let E=class extends m.u{constructor(){super(...arguments),this.type=v}static{this.type=v}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([h.aK,t.autoserialize,(0,i.Sn)("design:type",e.Cr)],E.prototype,"hitHighlights",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,h.gM)("uuid"),(0,i.Sn)("design:type",Object)],E.prototype,"indexableObject",void 0),E=(0,i.Cg)([u.gV],E)},53009:(F,b,n)=>{"use strict";n.d(b,{w:()=>w});var i=n(60177),t=n(58003),u=n(41780),e=n(5964),h=n(25558),m=n(96354),f=n(99172),v=n(65007),E=n(3970),_=n(32736),C=n(80183),S=n(1504),R=n(82777),T=n(39806),p=(n(33550),n(54438)),L=n(7901);function D(M,x){if(1&M){const j=p.RV6();p.j41(0,"button",1),p.nI1(1,"translate"),p.nI1(2,"translate"),p.nI1(3,"translate"),p.bIt("click",function(){p.eBV(j);const $=p.XpG();return p.Njj($.export())}),p.nrm(4,"i",2),p.k0s()}if(2&M){const j=p.XpG();p.Y8G("ngbTooltip",p.bMT(1,3,j.tooltipMsg))("title",p.bMT(2,5,j.tooltipMsg)),p.BMQ("aria-label",p.bMT(3,7,j.tooltipMsg))}}let w=(()=>{class M{constructor(j,U,$,k,K){this.scriptDataService=j,this.authorizationDataService=U,this.notificationsService=$,this.translateService=k,this.router=K,this.tooltipMsg="metadata-export-search.tooltip"}ngOnInit(){this.shouldShowButton$=this.authorizationDataService.isAuthorized(E._.AdministratorOf).pipe((0,e.p)(j=>j),(0,h.n)(()=>this.scriptDataService.scriptWithNameExistsAndCanExecute("metadata-export-search")),(0,m.T)(j=>j),(0,f.Z)(!1))}export(){const j=[];if((0,R.a4)(this.searchConfig)&&((0,R.hj)(this.searchConfig.query)&&j.push({name:"-q",value:this.searchConfig.query}),(0,R.hj)(this.searchConfig.scope)&&j.push({name:"-s",value:this.searchConfig.scope}),(0,R.hj)(this.searchConfig.configuration)&&j.push({name:"-c",value:this.searchConfig.configuration}),(0,R.hj)(this.searchConfig.filters)&&this.searchConfig.filters.forEach(U=>{(0,R.a4)(U.values)&&U.values.forEach($=>{let k,K;(0,R.a4)(U.operator)?(k=U.operator,K=$):(k=$.substring($.lastIndexOf(",")+1),K=$.substring(0,$.lastIndexOf(",")));const X=`${U.key.substring(2)},${k}=${K}`;j.push({name:"-f",value:X})})}),(0,R.hj)(this.searchConfig.fixedFilter))){const $=this.searchConfig.fixedFilter.substring(2).split("=");if($.length>1){const k=$[0],K=$[1].split(",");K.length>1&&j.push({name:"-f",value:`${k},${K[1]}=${K[0]}`})}}this.scriptDataService.invoke("metadata-export-search",j,[]).pipe((0,C.qD)()).subscribe(U=>{U.hasSucceeded?(this.notificationsService.success(this.translateService.get("metadata-export-search.submit.success")),this.router.navigateByUrl((0,S.yJ)(U.payload.processId))):this.notificationsService.error(this.translateService.get("metadata-export-search.submit.error"))})}static{this.\u0275fac=function(U){return new(U||M)(p.rXU(_.ScriptDataService),p.rXU(v.AuthorizationDataService),p.rXU(T.I),p.rXU(u.c$),p.rXU(L.Ix))}}static{this.\u0275cmp=p.VBU({type:M,selectors:[["ds-search-export-csv"]],inputs:{searchConfig:"searchConfig"},standalone:!0,features:[p.aNF],decls:2,vars:3,consts:[["class","export-button btn btn-dark btn-sm",3,"ngbTooltip","title","click",4,"ngIf"],[1,"export-button","btn","btn-dark","btn-sm",3,"click","ngbTooltip","title"],[1,"fas","fa-file-export","fa-fw"]],template:function(U,$){1&U&&(p.DNE(0,D,5,9,"button",0),p.nI1(1,"async")),2&U&&p.Y8G("ngIf",p.bMT(1,1,$.shouldShowButton$))},dependencies:[i.bT,t.n8,t.md,i.Jj,u.h,u.D9],styles:[".export-button[_ngcontent-%COMP%]{background:var(--ds-admin-sidebar-bg);border-color:var(--ds-admin-sidebar-bg)}"]})}}return M})()},22180:(F,b,n)=>{"use strict";n.d(b,{Bf:()=>_,Fi:()=>m,L2:()=>f,Po:()=>C,R0:()=>v,ge:()=>e,nj:()=>h,tq:()=>E,y$:()=>t});var i=n(91e3);const t={COLLAPSE:(0,i.N)("dspace/search-filter/COLLAPSE"),INITIALIZE:(0,i.N)("dspace/search-filter/INITIALIZE"),EXPAND:(0,i.N)("dspace/search-filter/EXPAND"),TOGGLE:(0,i.N)("dspace/search-filter/TOGGLE"),DECREMENT_PAGE:(0,i.N)("dspace/search-filter/DECREMENT_PAGE"),INCREMENT_PAGE:(0,i.N)("dspace/search-filter/INCREMENT_PAGE"),RESET_PAGE:(0,i.N)("dspace/search-filter/RESET_PAGE"),MINIMIZE_ALL:(0,i.N)("dspace/search-filters/MINIMIZE_ALL")};class u{constructor(R){this.filterName=R}}class e extends u{constructor(){super(...arguments),this.type=t.COLLAPSE}}class h extends u{constructor(){super(...arguments),this.type=t.EXPAND}}class m extends u{constructor(){super(...arguments),this.type=t.TOGGLE}}class f extends u{constructor(R){super(R.name),this.type=t.INITIALIZE,this.initiallyExpanded=R.isOpenByDefault}}class v extends u{constructor(){super(...arguments),this.type=t.DECREMENT_PAGE}}class E extends u{constructor(){super(...arguments),this.type=t.INCREMENT_PAGE}}class _ extends u{constructor(){super(...arguments),this.type=t.RESET_PAGE}}class C extends u{constructor(){super(...arguments),this.type=t.MINIMIZE_ALL}}},86868:(F,b,n)=>{"use strict";n.d(b,{a:()=>va});var i=n(60177),t=n(54438),u=n(41780),e=n(84412),h=n(99172),m=n(84572),f=n(25558),v=n(7673),E=n(5964),_=n(96354),C=n(96697),S=n(78655),R=n(39012),T=n(15465),A=n(13955),p=n(621),L=n(82777),D=n(75465),M=(n(6842),n(49969)),x=n(23294),j=n(88141),U=n(72734),$=n(80183),k=n(30506),K=n(31192),X=n(7901);const G=["equals","authority","range"];let q=(()=>{class et{constructor(at,jt,Vt,xn,is){this.searchService=at,this.filterService=jt,this.rdbs=Vt,this.router=xn,this.searchConfigService=is,this.facetValues$=new e.t([]),this.isLastPage$=new e.t(!1),this.isAvailableForShowSearchText=new e.t(!1),this.subs=[],this.filterSearchResults$=(0,v.of)([]),this.collapseNextUpdate=!0,this.animationState="loading"}ngOnInit(){this.currentUrl=this.router.url,this.currentPage=this.getCurrentPage().pipe((0,x.F)()),this.searchOptions$=this.searchConfigService.searchOptions.pipe((0,_.T)(at=>(0,L.Tn)(this.scope)?at:Object.assign(new K.n(at),{scope:this.scope}))),this.subs.push(this.searchOptions$.subscribe(()=>this.updateFilterValueList()),this.retrieveFilterValues().subscribe()),this.selectedAppliedFilters$=this.searchService.getSelectedValuesForFilter(this.filterConfig.name).pipe((0,_.T)(at=>at.filter(jt=>G.includes(jt.operator))),(0,x.F)((at,jt)=>JSON.stringify(at)===JSON.stringify(jt)))}updateFilterValueList(){this.animationState="loading",this.collapseNextUpdate=!0,this.filter=""}getSearchLink(){return this.inPlaceSearch?(0,k.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.inPlaceSearch?[]:this.getSearchLink().split("/")}showMore(){this.filterService.incrementPage(this.filterConfig.name)}showFirstPageOnly(){this.filterService.resetPage(this.filterConfig.name)}getCurrentPage(){return this.filterService.getPage(this.filterConfig.name)}onSubmit(at){this.applyFilterValue(at)}onClick(at){this.applyFilterValue(at.query)}hasValue(at){return(0,L.a4)(at)}ngOnDestroy(){this.subs.filter(at=>(0,L.a4)(at)).forEach(at=>at.unsubscribe())}findSuggestions(at){this.subs.push(this.searchOptions$.pipe((0,C.s)(1)).subscribe(jt=>{this.filterSearchResults$=this.filterService.findSuggestions(this.filterConfig,jt,at)}))}applyFilterValue(at){if(at.match(new RegExp("^.+,(equals|query|authority)$"))){this.filterService.minimizeAll();const jt=at.split(",");this.subs.push(this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,jt.slice(0,jt.length-1).join(),jt[jt.length-1]).pipe((0,C.s)(1)).subscribe(Vt=>{this.router.navigate(this.getSearchLinkParts(),{queryParams:Vt}),this.filter="",this.filterSearchResults$=(0,v.of)([])}))}}retrieveFilterValues(){return(0,m.z)([this.searchOptions$,this.currentPage]).pipe((0,f.n)(([at,jt])=>this.searchService.getFacetValuesFor(this.filterConfig,jt,at).pipe((0,$.ak)(),(0,j.M)(Vt=>{this.isLastPage$.next((0,L.Tn)(Vt?.next)),this.isAvailableForShowSearchText.next(Vt?.page?.length<Vt?.facetLimit&&(0,L.Tn)(Vt?.next))}))),(0,_.T)(at=>{let jt=this.facetValues$.value;return this.collapseNextUpdate&&(this.showFirstPageOnly(),jt=[],this.collapseNextUpdate=!1),1===at.pageInfo.currentPage&&(jt=[]),jt=[...jt,at],jt}),(0,j.M)(at=>{this.animationState="ready",this.facetValues$.next(at)}))}trackUpdate(at,jt){return jt?jt._links.search.href:void 0}static{this.\u0275fac=function(jt){return new(jt||et)(t.rXU(S.S),t.rXU(T.U),t.rXU(U.o),t.rXU(X.Ix),t.rXU(A.EN))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-facet-filter"]],inputs:{filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(jt,Vt){},encapsulation:2})}}return et})();const z=(0,M.hZ)("facetLoad",[(0,M.wk)("ready",(0,M.iF)({opacity:1})),(0,M.wk)("loading",(0,M.iF)({opacity:0})),(0,M.kY)("loading <=> ready",(0,M.i0)(100))]);var te=n(22924),Z=n(92827),J=n(59780),Q=n(89417),ee=n(81648),le=n(22978),ne=n(25488);let fe=(()=>{class et{transform(at,jt){if(isNaN(at)||(0,L.Im)(at)||0===at)return at;let Vt=Math.abs(at);const xn=Math.pow(10,1),is=at<0;let Os="";const Hs=[{key:"Q",value:Math.pow(10,15)},{key:"T",value:Math.pow(10,12)},{key:"B",value:Math.pow(10,9)},{key:"M",value:Math.pow(10,6)},{key:"K",value:1e3}];for(let ws=0;ws<Hs.length;ws++){let di=Vt/Hs[ws].value;if(di=Math.round(di*xn)/xn,di>=1){Vt=di,Os=Hs[ws].key;break}}return(is?"-":"")+Vt+Os}static{this.\u0275fac=function(jt){return new(jt||et)}}static{this.\u0275pipe=t.EJ8({name:"dsShortNumber",type:et,pure:!0,standalone:!0})}}return et})();n(54994);var ce=n(54196);const Te=et=>[et],be=et=>({default:et});function me(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",1),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return Vt.announceFilter(),t.Njj(Vt.filterService.minimizeAll())}),t.j41(2,"label",2),t.nrm(3,"input",3),t.j41(4,"span",4)(5,"span",5),t.EFF(6),t.nI1(7,"dsShortNumber"),t.k0s(),t.EFF(8),t.nI1(9,"translate"),t.k0s()()()}if(2&et){const at=t.XpG();t.Y8G("tabIndex",-1)("routerLink",t.eq3(13,Te,at.searchLink))("queryParams",t.bMT(1,6,at.addQueryParams$)),t.R7$(3),t.Y8G("checked",!1),t.R7$(3),t.JRh(t.bMT(7,8,at.filterValue.count)),t.R7$(2),t.SpI(" ",t.i5U(9,10,"search.filters."+at.filterConfig.name+"."+at.filterValue.value,t.eq3(15,be,at.filterValue.value))," ")}}let re=(()=>{class et{constructor(at,jt,Vt,xn,is,Os,Hs){this.searchService=at,this.filterService=jt,this.searchConfigService=Vt,this.router=xn,this.paginationService=is,this.liveRegionService=Os,this.translateService=Hs}ngOnInit(){this.paginationId=this.searchConfigService.paginationID,this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,_.T)(at=>!at)),this.addQueryParams$=this.updateAddParams()}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.getFacetValue())}getSearchLink(){return this.inPlaceSearch?(0,k.N)(this.router):this.searchService.getSearchLink()}updateAddParams(){return this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,this.getFacetValue())}getFacetValue(){return(0,ce.SB)(this.filterValue,this.filterConfig)}announceFilter(){const at=this.translateService.instant("search-facet-option.update.announcement",{filter:this.filterValue.value});this.liveRegionService.addMessage(at)}static{this.\u0275fac=function(jt){return new(jt||et)(t.rXU(S.S),t.rXU(T.U),t.rXU(R.g),t.rXU(X.Ix),t.rXU(le.m),t.rXU(ne.A),t.rXU(u.c$))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-facet-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["class","d-flex flex-row",3,"tabIndex","routerLink","queryParams","click",4,"ngIf"],[1,"d-flex","flex-row",3,"click","tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"w-100","ps-1","break-facet"],[1,"float-end","badge","bg-secondary","rounded-pill","mt-1","ms-1"]],template:function(jt,Vt){1&jt&&(t.DNE(0,me,10,17,"a",0),t.nI1(1,"async")),2&jt&&t.Y8G("ngIf",t.bMT(1,1,Vt.isVisible))},dependencies:[i.bT,X.Wk,i.Jj,u.h,u.D9,fe],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}}return et})();n(15641);const De=et=>[et],tt=et=>({default:et});let ht=(()=>{class et{constructor(at,jt,Vt,xn,is){this.paginationService=at,this.router=jt,this.searchFilterService=Vt,this.searchService=xn,this.searchConfigService=is}ngOnInit(){this.searchLink=this.getSearchLink(),this.removeQueryParams=this.updateRemoveParams()}updateRemoveParams(){return this.searchConfigService.unselectAppliedFilterParams(this.selectedValue.filter,this.selectedValue.value,this.selectedValue.operator)}getSearchLink(){return this.inPlaceSearch?(0,k.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(jt){return new(jt||et)(t.rXU(le.m),t.rXU(X.Ix),t.rXU(T.U),t.rXU(S.S),t.rXU(R.g))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-facet-selected-option"]],inputs:{selectedValue:"selectedValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:7,vars:14,consts:[[1,"d-flex","flex-row",3,"click","tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"filter-value","ps-1","break-facet"]],template:function(jt,Vt){1&jt&&(t.j41(0,"a",0),t.nI1(1,"async"),t.bIt("click",function(){return Vt.searchFilterService.minimizeAll()}),t.j41(2,"label",1),t.nrm(3,"input",2),t.j41(4,"span",3),t.EFF(5),t.nI1(6,"translate"),t.k0s()()()),2&jt&&(t.Y8G("tabIndex",-1)("routerLink",t.eq3(10,De,Vt.searchLink))("queryParams",t.bMT(1,5,Vt.removeQueryParams)),t.R7$(3),t.Y8G("checked",!0),t.R7$(2),t.SpI(" ",t.i5U(6,7,"search.filters."+Vt.filterConfig.name+"."+Vt.selectedValue.value,t.eq3(12,tt,Vt.selectedValue.label))," "))},dependencies:[i.Jj,X.Wk,u.h,u.D9],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}}return et})();function Fe(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-selected-option",7),2&et){const at=qe.$implicit,jt=t.XpG();t.Y8G("selectedValue",at)("filterConfig",jt.filterConfig)("inPlaceSearch",jt.inPlaceSearch)}}function Et(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-option",9),2&et){const at=qe.$implicit,jt=t.XpG(2);t.Y8G("filterConfig",jt.filterConfig)("filterValue",at)("inPlaceSearch",jt.inPlaceSearch)}}function Ye(et,qe){if(1&et&&(t.qex(0),t.j41(1,"div"),t.DNE(2,Et,1,3,"ds-search-facet-option",8),t.k0s(),t.bVm()),2&et){const at=qe.$implicit,jt=t.XpG();t.R7$(),t.Y8G("@facetLoad",jt.animationState),t.R7$(),t.Y8G("ngForOf",at.page)("ngForTrackBy",jt.trackUpdate)}}function pt(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",10),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function Mt(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",11),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function Ne(et,qe){if(1&et){const at=t.RV6();t.j41(0,"ds-filter-input-suggestions",12),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Vt){t.eBV(at);const xn=t.XpG();return t.DH7(xn.filter,Vt)||(xn.filter=Vt),t.Njj(Vt)}),t.bIt("submitSuggestion",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.onSubmit(Vt))})("clickSuggestion",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.onClick(Vt))})("findSuggestions",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.findSuggestions(Vt))}),t.k0s()}if(2&et){const at=t.XpG();t.Y8G("suggestions",t.bMT(1,6,at.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+at.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+at.filterConfig.name+".label"))("action",at.currentUrl)("name",at.filterConfig.paramName),t.R50("ngModel",at.filter)}}let ot=(()=>{class et extends q{static{this.\u0275fac=(()=>{let at;return function(Vt){return(at||(at=t.xGo(et)))(Vt||et)}})()}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-authority-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:13,vars:15,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-start","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-end","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-start",3,"click"],["href","javascript:void(0);",1,"float-end",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"]],template:function(jt,Vt){1&jt&&(t.j41(0,"div")(1,"div",0),t.DNE(2,Fe,1,3,"ds-search-facet-selected-option",1),t.nI1(3,"async"),t.DNE(4,Ye,3,3,"ng-container",2),t.nI1(5,"async"),t.j41(6,"div",3),t.DNE(7,pt,3,3,"a",4),t.nI1(8,"async"),t.DNE(9,Mt,3,3,"a",5),t.nI1(10,"async"),t.k0s()(),t.DNE(11,Ne,4,12,"ds-filter-input-suggestions",6),t.nI1(12,"async"),t.k0s()),2&jt&&(t.R7$(2),t.Y8G("ngForOf",t.bMT(3,5,Vt.selectedAppliedFilters$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,7,Vt.facetValues$)),t.R7$(3),t.Y8G("ngIf",!0!==t.bMT(8,9,Vt.isLastPage$)),t.R7$(2),t.Y8G("ngIf",t.bMT(10,11,Vt.currentPage)>1),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(12,13,Vt.isAvailableForShowSearchText)))},dependencies:[i.pM,ht,re,i.bT,ee.H,Q.YN,Q.me,Q.BC,Q.vS,i.Jj,u.h,u.D9],styles:[".filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-body-color)}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{text-decoration:none}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[z]}})}}return et})();function Gt(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-selected-option",6),2&et){const at=qe.$implicit,jt=t.XpG();t.Y8G("selectedValue",at)("filterConfig",jt.filterConfig)("inPlaceSearch",jt.inPlaceSearch)}}function Zt(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-option",8),2&et){const at=qe.$implicit,jt=t.XpG(2);t.Y8G("filterConfig",jt.filterConfig)("filterValue",at)("inPlaceSearch",jt.inPlaceSearch)}}function mt(et,qe){if(1&et&&(t.qex(0),t.j41(1,"div"),t.DNE(2,Zt,1,3,"ds-search-facet-option",7),t.k0s(),t.bVm()),2&et){const at=qe.$implicit,jt=t.XpG();t.R7$(),t.Y8G("@facetLoad",jt.animationState),t.R7$(),t.Y8G("ngForOf",at.page)("ngForTrackBy",jt.trackUpdate)}}function Pt(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",9),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function Ce(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",10),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}let Be=(()=>{class et extends q{static{this.\u0275fac=(()=>{let at;return function(Vt){return(at||(at=t.xGo(et)))(Vt||et)}})()}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-boolean-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:11,vars:12,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-start","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-end","href","javascript:void(0);",3,"click",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-start",3,"click"],["href","javascript:void(0);",1,"float-end",3,"click"]],template:function(jt,Vt){1&jt&&(t.j41(0,"div")(1,"div",0),t.DNE(2,Gt,1,3,"ds-search-facet-selected-option",1),t.nI1(3,"async"),t.DNE(4,mt,3,3,"ng-container",2),t.nI1(5,"async"),t.j41(6,"div",3),t.DNE(7,Pt,3,3,"a",4),t.nI1(8,"async"),t.DNE(9,Ce,3,3,"a",5),t.nI1(10,"async"),t.k0s()()()),2&jt&&(t.R7$(2),t.Y8G("ngForOf",t.bMT(3,4,Vt.selectedAppliedFilters$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,6,Vt.facetValues$)),t.R7$(3),t.Y8G("ngIf",!0!==t.bMT(8,8,Vt.isLastPage$)),t.R7$(2),t.Y8G("ngIf",t.bMT(10,10,Vt.currentPage)>1))},dependencies:[i.pM,ht,re,i.bT,i.Jj,u.h,u.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[z]}})}}return et})();var ut=n(22806),un=n(82640),rn=n(32089),Pn=n(19506),yt=n(38443),Kt=n(58003);const Rt=et=>({name:et});function nn(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-selected-option",8),2&et){const at=qe.$implicit,jt=t.XpG();t.Y8G("selectedValue",at)("filterConfig",jt.filterConfig)("inPlaceSearch",jt.inPlaceSearch)}}function gn(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-option",10),2&et){const at=qe.$implicit,jt=t.XpG(2);t.Y8G("filterConfig",jt.filterConfig)("filterValue",at)("inPlaceSearch",jt.inPlaceSearch)}}function St(et,qe){if(1&et&&(t.qex(0),t.j41(1,"div"),t.DNE(2,gn,1,3,"ds-search-facet-option",9),t.k0s(),t.bVm()),2&et){const at=qe.$implicit,jt=t.XpG();t.R7$(),t.Y8G("@facetLoad",jt.animationState),t.R7$(),t.Y8G("ngForOf",at.page)("ngForTrackBy",jt.trackUpdate)}}function zt(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",11),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function Yt(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",12),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function wt(et,qe){if(1&et){const at=t.RV6();t.j41(0,"ds-filter-input-suggestions",13),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Vt){t.eBV(at);const xn=t.XpG();return t.DH7(xn.filter,Vt)||(xn.filter=Vt),t.Njj(Vt)}),t.bIt("submitSuggestion",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.onSubmit(Vt))})("clickSuggestion",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.onClick(Vt))})("findSuggestions",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.findSuggestions(Vt))}),t.k0s()}if(2&et){const at=t.XpG();t.Y8G("suggestions",t.bMT(1,6,at.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+at.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+at.filterConfig.name+".label"))("action",at.currentUrl)("name",at.filterConfig.paramName),t.R50("ngModel",at.filter)}}function bt(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",14),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showVocabularyTree())}),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"lowercase"),t.nI1(4,"translate"),t.k0s()}if(2&et){const at=t.XpG();t.Mz_("id","show-",at.filterConfig.name,"-tree"),t.R7$(),t.SpI(" ",t.i5U(4,7,"search.filters.filter.show-tree",t.eq3(10,Rt,t.bMT(3,5,t.bMT(2,3,"search.filters.filter."+at.filterConfig.name+".head")))),"\n")}}let Jt=(()=>{class et extends q{constructor(at,jt,Vt,xn,is,Os,Hs,ws){super(at,jt,Vt,xn,ws),this.searchService=at,this.filterService=jt,this.rdbs=Vt,this.router=xn,this.modalService=is,this.vocabularyService=Os,this.appConfig=Hs,this.searchConfigService=ws}onSubmit(at){super.onSubmit((0,ce.mq)(at,"query"))}ngOnInit(){super.ngOnInit();const at=this.getVocabularyEntry();(0,L.a4)(at)&&(this.vocabularyExists$=this.vocabularyService.searchTopEntries(at,new rn.Q,!0,!1).pipe((0,E.p)(jt=>jt.hasCompleted),(0,C.s)(1),(0,_.T)(jt=>jt.hasSucceeded)))}showVocabularyTree(){const at=this.modalService.open(yt._,{size:"lg",windowClass:"treeview"});at.componentInstance.vocabularyOptions={name:this.getVocabularyEntry(),closed:!0},at.componentInstance.showAdd=!1,this.subs.push((0,ut.H)(at.result).pipe((0,f.n)(jt=>this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,jt.value,"equals")),(0,C.s)(1)).subscribe(jt=>{this.router.navigate([this.searchService.getSearchLink()],{queryParams:jt})}))}getVocabularyEntry(){const at=this.appConfig.vocabularies.filter(jt=>jt.filter===this.filterConfig.name);if(at.length>0&&!0===at[0].enabled)return at[0].vocabulary}static{this.\u0275fac=function(jt){return new(jt||et)(t.rXU(S.S),t.rXU(T.U),t.rXU(U.o),t.rXU(X.Ix),t.rXU(Kt.Bq),t.rXU(Pn.g),t.rXU(un.vQ),t.rXU(A.EN))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-hierarchy-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:15,vars:18,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-start","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-end","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions",4,"ngIf"],["href","javascript:void(0);",3,"id","click",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-start",3,"click"],["href","javascript:void(0);",1,"float-end",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"],["href","javascript:void(0);",3,"click","id"]],template:function(jt,Vt){1&jt&&(t.j41(0,"div")(1,"div",0),t.DNE(2,nn,1,3,"ds-search-facet-selected-option",1),t.nI1(3,"async"),t.DNE(4,St,3,3,"ng-container",2),t.nI1(5,"async"),t.j41(6,"div",3),t.DNE(7,zt,3,3,"a",4),t.nI1(8,"async"),t.DNE(9,Yt,3,3,"a",5),t.nI1(10,"async"),t.k0s()(),t.DNE(11,wt,4,12,"ds-filter-input-suggestions",6),t.nI1(12,"async"),t.k0s(),t.DNE(13,bt,5,12,"a",7),t.nI1(14,"async")),2&jt&&(t.R7$(2),t.Y8G("ngForOf",t.bMT(3,6,Vt.selectedAppliedFilters$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,8,Vt.facetValues$)),t.R7$(3),t.Y8G("ngIf",!0!==t.bMT(8,10,Vt.isLastPage$)),t.R7$(2),t.Y8G("ngIf",t.bMT(10,12,Vt.currentPage)>1),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(12,14,Vt.isAvailableForShowSearchText)),t.R7$(2),t.Y8G("ngIf",t.bMT(14,16,Vt.vocabularyExists$)))},dependencies:[i.pM,ht,re,i.bT,ee.H,Q.YN,Q.me,Q.BC,Q.vS,i.Jj,i.GH,u.h,u.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[z]}})}}return et})();var Tt=function(et){return et.Range="range",et.Steps="steps",et.Positions="positions",et.Count="count",et.Values="values",et}(Tt||{}),Ft=function(et){return et[et.None=-1]="None",et[et.NoValue=0]="NoValue",et[et.LargeValue=1]="LargeValue",et[et.SmallValue=2]="SmallValue",et}(Ft||{});function xe(et){return"object"==typeof et&&"function"==typeof et.to}function Ve(et){et.parentElement.removeChild(et)}function Ke(et){return null!=et}function je(et){et.preventDefault()}function ke(et){return"number"==typeof et&&!isNaN(et)&&isFinite(et)}function Le(et,qe,at){at>0&&(Dn(et,qe),setTimeout(function(){jn(et,qe)},at))}function dt(et){return Math.max(Math.min(et,100),0)}function It(et){return Array.isArray(et)?et:[et]}function an(et){var qe=(et=String(et)).split(".");return qe.length>1?qe[1].length:0}function Dn(et,qe){et.classList&&!/\s/.test(qe)?et.classList.add(qe):et.className+=" "+qe}function jn(et,qe){et.classList&&!/\s/.test(qe)?et.classList.remove(qe):et.className=et.className.replace(new RegExp("(^|\\b)"+qe.split(" ").join("|")+"(\\b|$)","gi")," ")}function wn(et){var qe=void 0!==window.pageXOffset,at="CSS1Compat"===(et.compatMode||"");return{x:qe?window.pageXOffset:at?et.documentElement.scrollLeft:et.body.scrollLeft,y:qe?window.pageYOffset:at?et.documentElement.scrollTop:et.body.scrollTop}}function Nn(et,qe){return 100/(qe-et)}function Jn(et,qe,at){return 100*qe/(et[at+1]-et[at])}function Es(et,qe){for(var at=1;et>=qe[at];)at+=1;return at}var ns=function(){function et(qe,at,jt){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[jt||!1],this.xNumSteps=[!1],this.snap=at;var Vt,xn=[];for(Object.keys(qe).forEach(function(is){xn.push([It(qe[is]),is])}),xn.sort(function(is,Os){return is[0][0]-Os[0][0]}),Vt=0;Vt<xn.length;Vt++)this.handleEntryPoint(xn[Vt][1],xn[Vt][0]);for(this.xNumSteps=this.xSteps.slice(0),Vt=0;Vt<this.xNumSteps.length;Vt++)this.handleStepPoint(Vt,this.xNumSteps[Vt])}return et.prototype.getDistance=function(qe){for(var at=[],jt=0;jt<this.xNumSteps.length-1;jt++)at[jt]=Jn(this.xVal,qe,jt);return at},et.prototype.getAbsoluteDistance=function(qe,at,jt){var Vt=0;if(qe<this.xPct[this.xPct.length-1])for(;qe>this.xPct[Vt+1];)Vt++;else qe===this.xPct[this.xPct.length-1]&&(Vt=this.xPct.length-2);!jt&&qe===this.xPct[Vt+1]&&Vt++,null===at&&(at=[]);var xn,is=1,Os=at[Vt],Hs=0,ws=0,di=0,fo=0;for(xn=jt?(qe-this.xPct[Vt])/(this.xPct[Vt+1]-this.xPct[Vt]):(this.xPct[Vt+1]-qe)/(this.xPct[Vt+1]-this.xPct[Vt]);Os>0;)Hs=this.xPct[Vt+1+fo]-this.xPct[Vt+fo],at[Vt+fo]*is+100-100*xn>100?(ws=Hs*xn,is=(Os-100*xn)/at[Vt+fo],xn=1):(ws=at[Vt+fo]*Hs/100*is,is=0),jt?(di-=ws,this.xPct.length+fo>=1&&fo--):(di+=ws,this.xPct.length-fo>=1&&fo++),Os=at[Vt+fo]*is;return qe+di},et.prototype.toStepping=function(qe){return function cs(et,qe,at){if(at>=et.slice(-1)[0])return 100;var jt=Es(at,et),is=qe[jt-1],Os=qe[jt];return is+function Gs(et,qe){return Jn(et,et[0]<0?qe+Math.abs(et[0]):qe-et[0],0)}([et[jt-1],et[jt]],at)/Nn(is,Os)}(this.xVal,this.xPct,qe)},et.prototype.fromStepping=function(qe){return function cn(et,qe,at){if(at>=100)return et.slice(-1)[0];var jt=Es(at,qe),is=qe[jt-1];return function ls(et,qe){return qe*(et[1]-et[0])/100+et[0]}([et[jt-1],et[jt]],(at-is)*Nn(is,qe[jt]))}(this.xVal,this.xPct,qe)},et.prototype.getStep=function(qe){return function yn(et,qe,at,jt){if(100===jt)return jt;var Vt=Es(jt,et),xn=et[Vt-1],is=et[Vt];return at?jt-xn>(is-xn)/2?is:xn:qe[Vt-1]?et[Vt-1]+function Qe(et,qe){return Math.round(et/qe)*qe}(jt-et[Vt-1],qe[Vt-1]):jt}(this.xPct,this.xSteps,this.snap,qe)},et.prototype.getDefaultStep=function(qe,at,jt){var Vt=Es(qe,this.xPct);return(100===qe||at&&qe===this.xPct[Vt-1])&&(Vt=Math.max(Vt-1,1)),(this.xVal[Vt]-this.xVal[Vt-1])/jt},et.prototype.getNearbySteps=function(qe){var at=Es(qe,this.xPct);return{stepBefore:{startValue:this.xVal[at-2],step:this.xNumSteps[at-2],highestStep:this.xHighestCompleteStep[at-2]},thisStep:{startValue:this.xVal[at-1],step:this.xNumSteps[at-1],highestStep:this.xHighestCompleteStep[at-1]},stepAfter:{startValue:this.xVal[at],step:this.xNumSteps[at],highestStep:this.xHighestCompleteStep[at]}}},et.prototype.countStepDecimals=function(){var qe=this.xNumSteps.map(an);return Math.max.apply(null,qe)},et.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},et.prototype.convert=function(qe){return this.getStep(this.toStepping(qe))},et.prototype.handleEntryPoint=function(qe,at){var jt;if(!ke(jt="min"===qe?0:"max"===qe?100:parseFloat(qe))||!ke(at[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(jt),this.xVal.push(at[0]);var Vt=Number(at[1]);jt?this.xSteps.push(!isNaN(Vt)&&Vt):isNaN(Vt)||(this.xSteps[0]=Vt),this.xHighestCompleteStep.push(0)},et.prototype.handleStepPoint=function(qe,at){if(at){if(this.xVal[qe]===this.xVal[qe+1])return void(this.xSteps[qe]=this.xHighestCompleteStep[qe]=this.xVal[qe]);this.xSteps[qe]=Jn([this.xVal[qe],this.xVal[qe+1]],at,0)/Nn(this.xPct[qe],this.xPct[qe+1]);var Vt=Math.ceil(Number(((this.xVal[qe+1]-this.xVal[qe])/this.xNumSteps[qe]).toFixed(3))-1);this.xHighestCompleteStep[qe]=this.xVal[qe]+this.xNumSteps[qe]*Vt}},et}(),Ls={to:function(et){return void 0===et?"":et.toFixed(2)},from:Number},ci={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},_t={tooltips:".__tooltips",aria:".__aria"};function Ht(et,qe){if(!ke(qe))throw new Error("noUiSlider: 'step' is not numeric.");et.singleStep=qe}function We(et,qe){if(!ke(qe))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");et.keyboardPageMultiplier=qe}function sn(et,qe){if(!ke(qe))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");et.keyboardMultiplier=qe}function lt(et,qe){if(!ke(qe))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");et.keyboardDefaultStep=qe}function gt(et,qe){if("object"!=typeof qe||Array.isArray(qe))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===qe.min||void 0===qe.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");et.spectrum=new ns(qe,et.snap||!1,et.singleStep)}function Ct(et,qe){if(qe=It(qe),!Array.isArray(qe)||!qe.length)throw new Error("noUiSlider: 'start' option is incorrect.");et.handles=qe.length,et.start=qe}function Wt(et,qe){if("boolean"!=typeof qe)throw new Error("noUiSlider: 'snap' option must be a boolean.");et.snap=qe}function pn(et,qe){if("boolean"!=typeof qe)throw new Error("noUiSlider: 'animate' option must be a boolean.");et.animate=qe}function Rn(et,qe){if("number"!=typeof qe)throw new Error("noUiSlider: 'animationDuration' option must be a number.");et.animationDuration=qe}function Yn(et,qe){var jt,at=[!1];if("lower"===qe?qe=[!0,!1]:"upper"===qe&&(qe=[!1,!0]),!0===qe||!1===qe){for(jt=1;jt<et.handles;jt++)at.push(qe);at.push(!1)}else{if(!Array.isArray(qe)||!qe.length||qe.length!==et.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");at=qe}et.connect=at}function $n(et,qe){switch(qe){case"horizontal":et.ort=0;break;case"vertical":et.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function _s(et,qe){if(!ke(qe))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==qe&&(et.margin=et.spectrum.getDistance(qe))}function Rs(et,qe){if(!ke(qe))throw new Error("noUiSlider: 'limit' option must be numeric.");if(et.limit=et.spectrum.getDistance(qe),!et.limit||et.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Ds(et,qe){var at;if(!ke(qe)&&!Array.isArray(qe))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(qe)&&2!==qe.length&&!ke(qe[0])&&!ke(qe[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==qe){for(Array.isArray(qe)||(qe=[qe,qe]),et.padding=[et.spectrum.getDistance(qe[0]),et.spectrum.getDistance(qe[1])],at=0;at<et.spectrum.xNumSteps.length-1;at++)if(et.padding[0][at]<0||et.padding[1][at]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");if((qe[0]+qe[1])/(et.spectrum.xVal[et.spectrum.xVal.length-1]-et.spectrum.xVal[0])>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function hs(et,qe){switch(qe){case"ltr":et.dir=0;break;case"rtl":et.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Cs(et,qe){if("string"!=typeof qe)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var at=qe.indexOf("tap")>=0,jt=qe.indexOf("drag")>=0,Vt=qe.indexOf("fixed")>=0,xn=qe.indexOf("snap")>=0,is=qe.indexOf("hover")>=0,Os=qe.indexOf("unconstrained")>=0,Hs=qe.indexOf("invert-connects")>=0,ws=qe.indexOf("drag-all")>=0,di=qe.indexOf("smooth-steps")>=0;if(Vt){if(2!==et.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");_s(et,et.start[1]-et.start[0])}if(Hs&&2!==et.handles)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(Os&&(et.margin||et.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");et.events={tap:at||xn,drag:jt,dragAll:ws,smoothSteps:di,fixed:Vt,snap:xn,hover:is,unconstrained:Os,invertConnects:Hs}}function Ti(et,qe){if(!1!==qe)if(!0===qe||xe(qe)){et.tooltips=[];for(var at=0;at<et.handles;at++)et.tooltips.push(qe)}else{if((qe=It(qe)).length!==et.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");qe.forEach(function(jt){if("boolean"!=typeof jt&&!xe(jt))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),et.tooltips=qe}}function Hi(et,qe){if(qe.length!==et.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");et.handleAttributes=qe}function Li(et,qe){if(!xe(qe))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");et.ariaFormat=qe}function $i(et,qe){if(!function it(et){return xe(et)&&"function"==typeof et.from}(qe))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");et.format=qe}function jo(et,qe){if("boolean"!=typeof qe)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");et.keyboardSupport=qe}function to(et,qe){et.documentElement=qe}function As(et,qe){if("string"!=typeof qe&&!1!==qe)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");et.cssPrefix=qe}function Qs(et,qe){if("object"!=typeof qe)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof et.cssPrefix?(et.cssClasses={},Object.keys(qe).forEach(function(at){et.cssClasses[at]=et.cssPrefix+qe[at]})):et.cssClasses=qe}function Yi(et){var qe={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Ls,format:Ls},at={step:{r:!1,t:Ht},keyboardPageMultiplier:{r:!1,t:We},keyboardMultiplier:{r:!1,t:sn},keyboardDefaultStep:{r:!1,t:lt},start:{r:!0,t:Ct},connect:{r:!0,t:Yn},direction:{r:!0,t:hs},snap:{r:!1,t:Wt},animate:{r:!1,t:pn},animationDuration:{r:!1,t:Rn},range:{r:!0,t:gt},orientation:{r:!1,t:$n},margin:{r:!1,t:_s},limit:{r:!1,t:Rs},padding:{r:!1,t:Ds},behaviour:{r:!0,t:Cs},ariaFormat:{r:!1,t:Li},format:{r:!1,t:$i},tooltips:{r:!1,t:Ti},keyboardSupport:{r:!0,t:jo},documentElement:{r:!1,t:to},cssPrefix:{r:!0,t:As},cssClasses:{r:!0,t:Qs},handleAttributes:{r:!1,t:Hi}},jt={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:ci,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};et.format&&!et.ariaFormat&&(et.ariaFormat=et.format),Object.keys(at).forEach(function(Hs){if(Ke(et[Hs])||void 0!==jt[Hs])at[Hs].t(qe,Ke(et[Hs])?et[Hs]:jt[Hs]);else if(at[Hs].r)throw new Error("noUiSlider: '"+Hs+"' is required.")}),qe.pips=et.pips;var Vt=document.createElement("div");return qe.transformRule=void 0!==Vt.style.transform?"transform":void 0!==Vt.style.msTransform?"msTransform":"webkitTransform",qe.style=[["left","top"],["right","bottom"]][qe.dir][qe.ort],qe}function _r(et,qe,at){var Os,Hs,ws,di,fo,Ci,jt=function ct(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}(),xn=function hn(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}()&&function vt(){var et=!1;try{var qe=Object.defineProperty({},"passive",{get:function(){et=!0}});window.addEventListener("test",null,qe)}catch{}return et}(),is=et,ni=qe.spectrum,Co=[],no=[],So=[],so=0,Xs={},io=!1,nr=et.ownerDocument,mo=qe.documentElement||nr.documentElement,ko=nr.body,Ir="rtl"===nr.dir||1===qe.ort?0:100;function bo(Ut,dn){var xt=nr.createElement("div");return dn&&Dn(xt,dn),Ut.appendChild(xt),xt}function Zo(Ut,dn){var xt=bo(Ut,qe.cssClasses.origin),An=bo(xt,qe.cssClasses.handle);if(bo(An,qe.cssClasses.touchArea),An.setAttribute("data-handle",String(dn)),qe.keyboardSupport&&(An.setAttribute("tabindex","0"),An.addEventListener("keydown",function(os){return function cl(Ut,dn){if($e()||_e(dn))return!1;var xt=["Left","Right"],An=["Down","Up"],Wn=["PageDown","PageUp"],os=["Home","End"];qe.dir&&!qe.ort?xt.reverse():qe.ort&&!qe.dir&&(An.reverse(),Wn.reverse());var ao,Us=Ut.key.replace("Arrow",""),Qn=Us===Wn[0],_i=Us===Wn[1],Ni=Us===An[0]||Us===xt[0]||Qn,qi=Us===An[1]||Us===xt[1]||_i,kn=Us===os[1];if(!(Ni||qi||Us===os[0]||kn))return!0;if(Ut.preventDefault(),qi||Ni){var lo=Ni?0:1,Je=Br(dn)[lo];if(null===Je)return!1;!1===Je&&(Je=ni.getDefaultStep(no[dn],Ni,qe.keyboardDefaultStep)),Je*=_i||Qn?qe.keyboardPageMultiplier:qe.keyboardMultiplier,Je=Math.max(Je,1e-7),ao=Co[dn]+(Je*=Ni?-1:1)}else ao=kn?qe.spectrum.xVal[qe.spectrum.xVal.length-1]:qe.spectrum.xVal[0];return Is(dn,ni.toStepping(ao),!0,!0),ui("slide",dn),ui("update",dn),ui("change",dn),ui("set",dn),!1}(os,dn)})),void 0!==qe.handleAttributes){var Wn=qe.handleAttributes[dn];Object.keys(Wn).forEach(function(os){An.setAttribute(os,Wn[os])})}return An.setAttribute("role","slider"),An.setAttribute("aria-orientation",qe.ort?"vertical":"horizontal"),0===dn?Dn(An,qe.cssClasses.handleLower):dn===qe.handles-1&&Dn(An,qe.cssClasses.handleUpper),xt.handle=An,xt}function ya(Ut,dn){return!!dn&&bo(Ut,qe.cssClasses.connect)}function oe(Ut,dn){return!(!qe.tooltips||!qe.tooltips[dn])&&bo(Ut.firstChild,qe.cssClasses.tooltip)}function $e(){return is.hasAttribute("disabled")}function _e(Ut){return ws[Ut].hasAttribute("disabled")}function Sn(){Ci&&(Cr("update"+_t.tooltips),Ci.forEach(function(Ut){Ut&&Ve(Ut)}),Ci=null)}function ts(){Sn(),Ci=ws.map(oe),oo("update"+_t.tooltips,function(Ut,dn,xt){if(Ci&&qe.tooltips&&!1!==Ci[dn]){var An=Ut[dn];!0!==qe.tooltips[dn]&&(An=qe.tooltips[dn].to(xt[dn])),Ci[dn].innerHTML=An}})}function Zi(Ut,dn){return Ut.map(function(xt){return ni.fromStepping(dn?ni.getStep(xt):xt)})}function bi(){fo&&(Ve(fo),fo=null)}function Ea(Ut){bi();var dn=function zi(Ut){function dn(Ni,qi){return Number((Ni+qi).toFixed(7))}var xt=function Bs(Ut){if(Ut.mode===Tt.Range||Ut.mode===Tt.Steps)return ni.xVal;if(Ut.mode===Tt.Count){if(Ut.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var dn=Ut.values-1,xt=100/dn,An=[];dn--;)An[dn]=dn*xt;return An.push(100),Zi(An,Ut.stepped)}return Ut.mode===Tt.Positions?Zi(Ut.values,Ut.stepped):Ut.mode===Tt.Values?Ut.stepped?Ut.values.map(function(Wn){return ni.fromStepping(ni.getStep(ni.toStepping(Wn)))}):Ut.values:[]}(Ut),An={},Wn=ni.xVal[0],os=ni.xVal[ni.xVal.length-1],Us=!1,Qn=!1,_i=0;return xt=function At(et){return et.filter(function(qe){return!this[qe]&&(this[qe]=!0)},{})}(xt.slice().sort(function(Ni,qi){return Ni-qi})),xt[0]!==Wn&&(xt.unshift(Wn),Us=!0),xt[xt.length-1]!==os&&(xt.push(os),Qn=!0),xt.forEach(function(Ni,qi){var ki,kn,ao,Je,Re,ze,Lt,Un,fs,lo=Ni,he=xt[qi+1],Ri=Ut.mode===Tt.Steps;for(Ri&&(ki=ni.xNumSteps[qi]),ki||(ki=he-lo),void 0===he&&(he=lo),ki=Math.max(ki,1e-7),kn=lo;kn<=he;kn=dn(kn,ki)){for(fs=(Re=(Je=ni.toStepping(kn))-_i)/(Un=Math.round(Re/(Ut.density||1))),ao=1;ao<=Un;ao+=1)An[(ze=_i+ao*fs).toFixed(5)]=[ni.fromStepping(ze),0];Lt=xt.indexOf(kn)>-1?Ft.LargeValue:Ri?Ft.SmallValue:Ft.NoValue,!qi&&Us&&kn!==he&&(Lt=0),kn===he&&Qn||(An[Je.toFixed(5)]=[kn,Lt]),_i=Je}}),An}(Ut);return fo=is.appendChild(function Vo(Ut,dn,xt){var An,Wn,os=nr.createElement("div"),Us=((An={})[Ft.None]="",An[Ft.NoValue]=qe.cssClasses.valueNormal,An[Ft.LargeValue]=qe.cssClasses.valueLarge,An[Ft.SmallValue]=qe.cssClasses.valueSub,An),Qn=((Wn={})[Ft.None]="",Wn[Ft.NoValue]=qe.cssClasses.markerNormal,Wn[Ft.LargeValue]=qe.cssClasses.markerLarge,Wn[Ft.SmallValue]=qe.cssClasses.markerSub,Wn),_i=[qe.cssClasses.valueHorizontal,qe.cssClasses.valueVertical],Ni=[qe.cssClasses.markerHorizontal,qe.cssClasses.markerVertical];function qi(kn,ao){var lo=ao===qe.cssClasses.value;return ao+" "+(lo?_i:Ni)[qe.ort]+" "+(lo?Us:Qn)[kn]}return Dn(os,qe.cssClasses.pips),Dn(os,0===qe.ort?qe.cssClasses.pipsHorizontal:qe.cssClasses.pipsVertical),Object.keys(Ut).forEach(function(kn){!function ki(kn,ao,lo){if((lo=dn?dn(ao,lo):lo)!==Ft.None){var he=bo(os,!1);he.className=qi(lo,qe.cssClasses.marker),he.style[qe.style]=kn+"%",lo>Ft.NoValue&&((he=bo(os,!1)).className=qi(lo,qe.cssClasses.value),he.setAttribute("data-value",String(ao)),he.style[qe.style]=kn+"%",he.innerHTML=String(xt.to(ao)))}}(kn,Ut[kn][0],Ut[kn][1])}),os}(dn,Ut.filter,Ut.format||{to:function(Wn){return String(Math.round(Wn))}}))}function Ca(){var Ut=Os.getBoundingClientRect(),dn="offset"+["Width","Height"][qe.ort];return 0===qe.ort?Ut.width||Os[dn]:Ut.height||Os[dn]}function Pr(Ut,dn,xt,An){var Wn=function(Us){var Qn=function ia(Ut,dn,xt){var An=0===Ut.type.indexOf("touch"),Wn=0===Ut.type.indexOf("mouse"),os=0===Ut.type.indexOf("pointer"),Us=0,Qn=0;if(0===Ut.type.indexOf("MSPointer")&&(os=!0),"mousedown"===Ut.type&&!Ut.buttons&&!Ut.touches)return!1;if(An){var _i=function(ki){var kn=ki.target;return kn===xt||xt.contains(kn)||Ut.composed&&Ut.composedPath().shift()===xt};if("touchstart"===Ut.type){var Ni=Array.prototype.filter.call(Ut.touches,_i);if(Ni.length>1)return!1;Us=Ni[0].pageX,Qn=Ni[0].pageY}else{var qi=Array.prototype.find.call(Ut.changedTouches,_i);if(!qi)return!1;Us=qi.pageX,Qn=qi.pageY}}return dn=dn||wn(nr),(Wn||os)&&(Us=Ut.clientX+dn.x,Qn=Ut.clientY+dn.y),Ut.pageOffset=dn,Ut.points=[Us,Qn],Ut.cursor=Wn||os,Ut}(Us,An.pageOffset,An.target||dn);if(!Qn||$e()&&!An.doNotReject||function Zn(et,qe){return et.classList?et.classList.contains(qe):new RegExp("\\b"+qe+"\\b").test(et.className)}(is,qe.cssClasses.tap)&&!An.doNotReject||Ut===jt.start&&void 0!==Qn.buttons&&Qn.buttons>1||An.hover&&Qn.buttons)return!1;xn||Qn.preventDefault(),Qn.calcPoint=Qn.points[qe.ort],xt(Qn,An)},os=[];return Ut.split(" ").forEach(function(Us){dn.addEventListener(Us,Wn,!!xn&&{passive:!0}),os.push([Us,Wn])}),os}function Al(Ut){var dn=Ut-function st(et,qe){var at=et.getBoundingClientRect(),jt=et.ownerDocument,Vt=jt.documentElement,xn=wn(jt);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(xn.x=0),qe?at.top+xn.y-Vt.clientTop:at.left+xn.x-Vt.clientLeft}(Os,qe.ort),xt=100*dn/Ca();return xt=dt(xt),qe.dir?100-xt:xt}function wl(Ut,dn){"mouseout"===Ut.type&&"HTML"===Ut.target.nodeName&&null===Ut.relatedTarget&&za(Ut,dn)}function al(Ut,dn){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===Ut.buttons&&0!==dn.buttonsProperty)return za(Ut,dn);var xt=(qe.dir?-1:1)*(Ut.calcPoint-dn.startCalcPoint);Xa(xt>0,100*xt/dn.baseSize,dn.locations,dn.handleNumbers,dn.connect)}function za(Ut,dn){dn.handle&&(jn(dn.handle,qe.cssClasses.active),so-=1),dn.listeners.forEach(function(xt){mo.removeEventListener(xt[0],xt[1])}),0===so&&(jn(is,qe.cssClasses.drag),oa(),Ut.cursor&&(ko.style.cursor="",ko.removeEventListener("selectstart",je))),qe.events.smoothSteps&&(dn.handleNumbers.forEach(function(xt){Is(xt,no[xt],!0,!0,!1,!1)}),dn.handleNumbers.forEach(function(xt){ui("update",xt)})),dn.handleNumbers.forEach(function(xt){ui("change",xt),ui("set",xt),ui("end",xt)})}function La(Ut,dn){if(!dn.handleNumbers.some(_e)){var xt;1===dn.handleNumbers.length&&(so+=1,Dn(xt=ws[dn.handleNumbers[0]].children[0],qe.cssClasses.active)),Ut.stopPropagation();var Wn=[],os=Pr(jt.move,mo,al,{target:Ut.target,handle:xt,connect:dn.connect,listeners:Wn,startCalcPoint:Ut.calcPoint,baseSize:Ca(),pageOffset:Ut.pageOffset,handleNumbers:dn.handleNumbers,buttonsProperty:Ut.buttons,locations:no.slice()}),Us=Pr(jt.end,mo,za,{target:Ut.target,handle:xt,listeners:Wn,doNotReject:!0,handleNumbers:dn.handleNumbers}),Qn=Pr("mouseout",mo,wl,{target:Ut.target,handle:xt,listeners:Wn,doNotReject:!0,handleNumbers:dn.handleNumbers});Wn.push.apply(Wn,os.concat(Us,Qn)),Ut.cursor&&(ko.style.cursor=getComputedStyle(Ut.target).cursor,ws.length>1&&Dn(is,qe.cssClasses.drag),ko.addEventListener("selectstart",je,!1)),dn.handleNumbers.forEach(function(_i){ui("start",_i)})}}function ll(Ut){Ut.stopPropagation();var dn=Al(Ut.calcPoint),xt=function Lc(Ut){var dn=100,xt=!1;return ws.forEach(function(An,Wn){if(!_e(Wn)){var os=no[Wn],Us=Math.abs(os-Ut);(Us<dn||Us<=dn&&Ut>os||100===Us&&100===dn)&&(xt=Wn,dn=Us)}}),xt}(dn);!1!==xt&&(qe.events.snap||Le(is,qe.cssClasses.tap,qe.animationDuration),Is(xt,dn,!0,!0),oa(),ui("slide",xt,!0),ui("update",xt,!0),qe.events.snap?La(Ut,{handleNumbers:[xt]}):(ui("change",xt,!0),ui("set",xt,!0)))}function Ya(Ut){var dn=Al(Ut.calcPoint),xt=ni.getStep(dn),An=ni.fromStepping(xt);Object.keys(Xs).forEach(function(Wn){"hover"===Wn.split(".")[0]&&Xs[Wn].forEach(function(os){os.call(Wi,An)})})}function ri(Ut){Ut.fixed||ws.forEach(function(dn,xt){Pr(jt.start,dn.children[0],La,{handleNumbers:[xt]})}),Ut.tap&&Pr(jt.start,Os,ll,{}),Ut.hover&&Pr(jt.move,Os,Ya,{hover:!0}),Ut.drag&&di.forEach(function(dn,xt){if(!1!==dn&&0!==xt&&xt!==di.length-1){var An=ws[xt-1],Wn=ws[xt],os=[dn],Us=[An,Wn],Qn=[xt-1,xt];Dn(dn,qe.cssClasses.draggable),Ut.fixed&&(os.push(An.children[0]),os.push(Wn.children[0])),Ut.dragAll&&(Us=ws,Qn=So),os.forEach(function(_i){Pr(jt.start,_i,La,{handles:Us,handleNumbers:Qn,connect:dn})})}})}function oo(Ut,dn){Xs[Ut]=Xs[Ut]||[],Xs[Ut].push(dn),"update"===Ut.split(".")[0]&&ws.forEach(function(xt,An){ui("update",An)})}function Cr(Ut){var dn=Ut&&Ut.split(".")[0],xt=dn?Ut.substring(dn.length):Ut;Object.keys(Xs).forEach(function(An){var Wn=An.split(".")[0],os=An.substring(Wn.length);dn&&dn!==Wn||xt&&xt!==os||function yo(Ut){return Ut===_t.aria||Ut===_t.tooltips}(os)&&xt!==os||delete Xs[An]})}function ui(Ut,dn,xt){Object.keys(Xs).forEach(function(An){var Wn=An.split(".")[0];Ut===Wn&&Xs[An].forEach(function(os){os.call(Wi,Co.map(qe.format.to),dn,Co.slice(),xt||!1,no.slice(),Wi)})})}function ba(Ut,dn,xt,An,Wn,os,Us){var Qn;return ws.length>1&&!qe.events.unconstrained&&(An&&dn>0&&(Qn=ni.getAbsoluteDistance(Ut[dn-1],qe.margin,!1),xt=Math.max(xt,Qn)),Wn&&dn<ws.length-1&&(Qn=ni.getAbsoluteDistance(Ut[dn+1],qe.margin,!0),xt=Math.min(xt,Qn))),ws.length>1&&qe.limit&&(An&&dn>0&&(Qn=ni.getAbsoluteDistance(Ut[dn-1],qe.limit,!1),xt=Math.min(xt,Qn)),Wn&&dn<ws.length-1&&(Qn=ni.getAbsoluteDistance(Ut[dn+1],qe.limit,!0),xt=Math.max(xt,Qn))),qe.padding&&(0===dn&&(Qn=ni.getAbsoluteDistance(0,qe.padding[0],!1),xt=Math.max(xt,Qn)),dn===ws.length-1&&(Qn=ni.getAbsoluteDistance(100,qe.padding[1],!0),xt=Math.min(xt,Qn))),Us||(xt=ni.getStep(xt)),!((xt=dt(xt))===Ut[dn]&&!os)&&xt}function Ta(Ut,dn){var xt=qe.ort;return(xt?dn:Ut)+", "+(xt?Ut:dn)}function Xa(Ut,dn,xt,An,Wn){var os=xt.slice(),Us=An[0],Qn=qe.events.smoothSteps,_i=[!Ut,Ut],Ni=[Ut,!Ut];An=An.slice(),Ut&&An.reverse(),An.length>1?An.forEach(function(ki,kn){var ao=ba(os,ki,os[ki]+dn,_i[kn],Ni[kn],!1,Qn);!1===ao?dn=0:(dn=ao-os[ki],os[ki]=ao)}):_i=Ni=[!0];var qi=!1;An.forEach(function(ki,kn){qi=Is(ki,xt[ki]+dn,_i[kn],Ni[kn],!1,Qn)||qi}),qi&&(An.forEach(function(ki){ui("update",ki),ui("slide",ki)}),null!=Wn&&ui("drag",Us))}function oc(Ut,dn){return qe.dir?100-Ut-dn:Ut}function oa(){So.forEach(function(Ut){ws[Ut].style.zIndex=String(3+(ws.length+(no[Ut]>50?-1:1)*Ut))})}function Is(Ut,dn,xt,An,Wn,os){return Wn||(dn=ba(no,Ut,dn,xt,An,!1,os)),!1!==dn&&(function pd(Ut,dn){no[Ut]=dn,Co[Ut]=ni.fromStepping(dn);var An="translate("+Ta(oc(dn,0)-Ir+"%","0")+")";if(ws[Ut].style[qe.transformRule]=An,qe.events.invertConnects&&no.length>1){var Wn=no.every(function(os,Us,Qn){return 0===Us||os>=Qn[Us-1]});if(io!==!Wn)return void function sr(){io=!io,Yn(qe,qe.connect.map(function(Ut){return!Ut})),Da()}()}Zr(Ut),Zr(Ut+1),io&&(Zr(Ut-1),Zr(Ut+2))}(Ut,dn),!0)}function Zr(Ut){if(di[Ut]){var dn=no.slice();io&&dn.sort(function(Qn,_i){return Qn-_i});var xt=0,An=100;0!==Ut&&(xt=dn[Ut-1]),Ut!==di.length-1&&(An=dn[Ut]);var Wn=An-xt,os="translate("+Ta(oc(xt,Wn)+"%","0")+")",Us="scale("+Ta(Wn/100,"1")+")";di[Ut].style[qe.transformRule]=os+" "+Us}}function xl(Ut,dn){return null===Ut||!1===Ut||void 0===Ut||("number"==typeof Ut&&(Ut=String(Ut)),!1!==(Ut=qe.format.from(Ut))&&(Ut=ni.toStepping(Ut)),!1===Ut||isNaN(Ut))?no[dn]:Ut}function Na(Ut,dn,xt){var An=It(Ut),Wn=void 0===no[0];dn=void 0===dn||dn,qe.animate&&!Wn&&Le(is,qe.cssClasses.tap,qe.animationDuration),So.forEach(function(Qn){Is(Qn,xl(An[Qn],Qn),!0,!1,xt)});var os=1===So.length?0:1;if(Wn&&ni.hasNoSize()&&(xt=!0,no[0]=0,So.length>1)){var Us=100/(So.length-1);So.forEach(function(Qn){no[Qn]=Qn*Us})}for(;os<So.length;++os)So.forEach(function(Qn){Is(Qn,no[Qn],!0,!0,xt)});oa(),So.forEach(function(Qn){ui("update",Qn),null!==An[Qn]&&dn&&ui("set",Qn)})}function ra(Ut){if(void 0===Ut&&(Ut=!1),Ut)return 1===Co.length?Co[0]:Co.slice(0);var dn=Co.map(qe.format.to);return 1===dn.length?dn[0]:dn}function Br(Ut){var dn=no[Ut],xt=ni.getNearbySteps(dn),An=Co[Ut],Wn=xt.thisStep.step,os=null;if(qe.snap)return[An-xt.stepBefore.startValue||null,xt.stepAfter.startValue-An||null];!1!==Wn&&An+Wn>xt.stepAfter.startValue&&(Wn=xt.stepAfter.startValue-An),os=An>xt.thisStep.startValue?xt.thisStep.step:!1!==xt.stepBefore.step&&An-xt.stepBefore.highestStep,100===dn?Wn=null:0===dn&&(os=null);var Us=ni.countStepDecimals();return null!==Wn&&!1!==Wn&&(Wn=Number(Wn.toFixed(Us))),null!==os&&!1!==os&&(os=Number(os.toFixed(Us))),[os,Wn]}function Da(){for(;Hs.firstChild;)Hs.removeChild(Hs.firstChild);for(var Ut=0;Ut<=qe.handles;Ut++)di[Ut]=ya(Hs,qe.connect[Ut]),Zr(Ut);ri({drag:qe.events.drag,fixed:!0})}!function br(){Os=function Xe(Ut){return Dn(Ut,qe.cssClasses.target),Dn(Ut,0===qe.dir?qe.cssClasses.ltr:qe.cssClasses.rtl),Dn(Ut,0===qe.ort?qe.cssClasses.horizontal:qe.cssClasses.vertical),Dn(Ut,"rtl"===getComputedStyle(Ut).direction?qe.cssClasses.textDirectionRtl:qe.cssClasses.textDirectionLtr),bo(Ut,qe.cssClasses.base)}(is),function Ge(Ut,dn){Hs=bo(dn,qe.cssClasses.connects),ws=[],(di=[]).push(ya(Hs,Ut[0]));for(var xt=0;xt<qe.handles;xt++)ws.push(Zo(dn,xt)),So[xt]=xt,di.push(ya(Hs,Ut[xt+1]))}(qe.connect,Os),ri(qe.events),Na(qe.start),qe.pips&&Ea(qe.pips),qe.tooltips&&ts(),function ps(){Cr("update"+_t.aria),oo("update"+_t.aria,function(Ut,dn,xt,An,Wn){So.forEach(function(os){var Us=ws[os],Qn=ba(no,os,0,!0,!0,!0),_i=ba(no,os,100,!0,!0,!0),Ni=Wn[os],qi=String(qe.ariaFormat.to(xt[os]));Qn=ni.fromStepping(Qn).toFixed(1),_i=ni.fromStepping(_i).toFixed(1),Ni=ni.fromStepping(Ni).toFixed(1),Us.children[0].setAttribute("aria-valuemin",Qn),Us.children[0].setAttribute("aria-valuemax",_i),Us.children[0].setAttribute("aria-valuenow",Ni),Us.children[0].setAttribute("aria-valuetext",qi)})})}()}();var Wi={destroy:function Ll(){for(Cr(_t.aria),Cr(_t.tooltips),Object.keys(qe.cssClasses).forEach(function(Ut){jn(is,qe.cssClasses[Ut])});is.firstChild;)is.removeChild(is.firstChild);delete is.noUiSlider},steps:function Ja(){return So.map(Br)},on:oo,off:Cr,get:ra,set:Na,setHandle:function qo(Ut,dn,xt,An){if(!((Ut=Number(Ut))>=0&&Ut<So.length))throw new Error("noUiSlider: invalid handle number, got: "+Ut);Is(Ut,xl(dn,Ut),!0,!0,An),ui("update",Ut),xt&&ui("set",Ut)},reset:function Nc(Ut){Na(qe.start,Ut)},disable:function Dt(Ut){null!=Ut?(ws[Ut].setAttribute("disabled",""),ws[Ut].handle.removeAttribute("tabindex")):(is.setAttribute("disabled",""),ws.forEach(function(dn){dn.handle.removeAttribute("tabindex")}))},enable:function Xt(Ut){null!=Ut?(ws[Ut].removeAttribute("disabled"),ws[Ut].handle.setAttribute("tabindex","0")):(is.removeAttribute("disabled"),ws.forEach(function(dn){dn.removeAttribute("disabled"),dn.handle.setAttribute("tabindex","0")}))},__moveHandles:function(Ut,dn,xt){Xa(Ut,dn,no,xt)},options:at,updateOptions:function ro(Ut,dn){var xt=ra(),An=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];An.forEach(function(os){void 0!==Ut[os]&&(at[os]=Ut[os])});var Wn=Yi(at);An.forEach(function(os){void 0!==Ut[os]&&(qe[os]=Wn[os])}),ni=Wn.spectrum,qe.margin=Wn.margin,qe.limit=Wn.limit,qe.padding=Wn.padding,qe.pips?Ea(qe.pips):bi(),qe.tooltips?ts():Sn(),no=[],Na(Ke(Ut.start)?Ut.start:xt,dn),Ut.connect&&Da()},target:is,removePips:bi,removeTooltips:Sn,getPositions:function(){return no.slice()},getTooltips:function(){return Ci},getOrigins:function(){return ws},pips:Ea};return Wi}class Tn{to(qe){return String(parseFloat(parseFloat(String(qe)).toFixed(2)))}from(qe){return parseFloat(qe)}}let on=(()=>{class et{constructor(at,jt,Vt){this.ngZone=at,this.el=jt,this.renderer=Vt,this.handles=[],this.config={},this.change=new t.bkB(!0),this.update=new t.bkB(!0),this.slide=new t.bkB(!0),this.set=new t.bkB(!0),this.start=new t.bkB(!0),this.end=new t.bkB(!0),this.onChange=Function.prototype,this.cleanups=[],this.eventHandler=(xn,is,Os,Hs)=>{let ws=this.toValues(is),di=!1;void 0!==this.value?(Array.isArray(ws)&&this.value[Os]!=ws[Os]&&(di=!0),!Array.isArray(ws)&&this.value!=ws&&(di=!0),di&&this.ngZone.run(()=>{xn.observers.length>0&&xn.emit(ws),this.onChange(ws)}),Array.isArray(ws)?this.value[Os]=ws[Os]:this.value=ws):this.value=ws},this.defaultKeyHandler=xn=>{let Ci,is=this.slider.steps(),Os=parseInt(xn.target.getAttribute("data-handle")),Hs=1,ws=1,di=0,fo=0;switch(xn.which){case 34:case 33:ws=this.config.pageSteps;break;case 40:case 37:Hs=-1,di=is[Os][0],xn.preventDefault();break;case 38:case 39:di=is[Os][1],xn.preventDefault()}fo=Hs*ws*di,Array.isArray(this.value)?(Ci=[...this.value],Ci[Os]=Ci[Os]+fo):Ci=this.value+fo,this.slider.set(Ci)}}ngOnChanges(at){this.slider&&(at.min||at.max||at.step||at.range)&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.updateOptions({range:Object.assign({},{min:this.min,max:this.max},this.range||{}),step:this.step})})})}ngOnDestroy(){for(this.slider.destroy();this.cleanups.length;)this.cleanups.pop()?.()}toValues(at){let jt=at.map(this.config.format.from);return 1==jt.length?jt[0]:jt}writeValue(at){this.slider?this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.set(at)})}):null!==at&&(this.value=at,this.createSlider(at))}registerOnChange(at){this.onChange=at}registerOnTouched(at){}setDisabledState(at){at?this.renderer.setAttribute(this.el.nativeElement.childNodes[0],"disabled","true"):this.renderer.removeAttribute(this.el.nativeElement.childNodes[0],"disabled")}createSlider(at){let jt=JSON.parse(JSON.stringify({behaviour:this.behaviour,connect:this.connect,limit:this.limit,start:at,step:this.step,pageSteps:this.pageSteps,keyboard:this.keyboard,onKeydown:this.onKeydown,range:this.range||this.config.range||{min:this.min,max:this.max},tooltips:this.tooltips,snap:this.snap,animate:this.animate}));if(jt.tooltips=this.tooltips||this.config.tooltips,jt.format=this.format||this.config.format||new Tn,this.ngZone.runOutsideAngular(()=>{this.slider=function Uo(et,qe){if(!et||!et.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+et);if(et.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var jt=_r(et,Yi(qe),qe);return et.noUiSlider=jt,jt}(this.el.nativeElement.querySelector("div"),Object.assign(this.config,jt))}),this.handles=[].slice.call(this.el.nativeElement.querySelectorAll(".noUi-handle")),this.config.keyboard){void 0===this.config.pageSteps&&(this.config.pageSteps=10);for(const Vt of this.handles){Vt.setAttribute("tabindex",0);const xn=this.config.onKeydown||this.defaultKeyHandler;this.ngZone.runOutsideAngular(()=>{this.cleanups.push(this.renderer.listen(Vt,"keydown",xn),this.renderer.listen(Vt,"click",()=>{Vt.focus()}))})}}this.slider.on("set",(Vt,xn,is)=>{this.eventHandler(this.set,Vt,xn,is)}),this.slider.on("update",(Vt,xn,is)=>{this.update.observers.length>0&&this.ngZone.run(()=>{this.update.emit(this.toValues(Vt))})}),this.slider.on("change",(Vt,xn,is)=>{this.change.observers.length>0&&this.ngZone.run(()=>{this.change.emit(this.toValues(Vt))})}),this.slider.on("slide",(Vt,xn,is)=>{this.eventHandler(this.slide,Vt,xn,is)}),this.slider.on("start",(Vt,xn,is)=>{this.start.observers.length>0&&this.ngZone.run(()=>{this.start.emit(this.toValues(Vt))})}),this.slider.on("end",(Vt,xn,is)=>{this.end.observers.length>0&&this.ngZone.run(()=>{this.end.emit(this.toValues(Vt))})})}}return et.\u0275fac=function(at){return new(at||et)(t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(t.sFG))},et.\u0275cmp=t.VBU({type:et,selectors:[["nouislider"]],hostVars:2,hostBindings:function(at,jt){2&at&&t.AVh("ng2-nouislider",!0)},inputs:{disabled:"disabled",behaviour:"behaviour",connect:"connect",limit:"limit",min:"min",max:"max",snap:"snap",animate:"animate",range:"range",step:"step",format:"format",pageSteps:"pageSteps",config:"config",keyboard:"keyboard",onKeydown:"onKeydown",tooltips:"tooltips"},outputs:{change:"change",update:"update",slide:"slide",set:"set",start:"start",end:"end"},standalone:!0,features:[t.Jv_([{provide:Q.kq,useExisting:(0,t.Rfq)(()=>et),multi:!0}]),t.OA$,t.aNF],decls:1,vars:1,template:function(at,jt){1&at&&t.nrm(0,"div"),2&at&&t.BMQ("disabled",!!jt.disabled||void 0)},styles:["[_nghost-%COMP%]{display:block;margin-top:1rem;margin-bottom:1rem}"]}),et})();var Fn=n(12866),qn=n(56760),bs=n(56386);const vi=".min",Ei=".max",vo=et=>[et];function pi(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",1),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.filterService.minimizeAll())}),t.j41(1,"span",2),t.EFF(2),t.k0s(),t.j41(3,"span",3)(4,"span",4),t.EFF(5),t.nI1(6,"dsShortNumber"),t.k0s()()()}if(2&et){const at=t.XpG();t.Y8G("routerLink",t.eq3(6,vo,at.searchLink))("queryParams",at.changeQueryParams),t.R7$(2),t.JRh(at.filterValue.label),t.R7$(3),t.JRh(t.bMT(6,4,at.filterValue.count))}}let vr=(()=>{class et{constructor(at,jt,Vt,xn,is){this.searchService=at,this.filterService=jt,this.searchConfigService=Vt,this.router=xn,this.paginationService=is}ngOnInit(){this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,_.T)(at=>!at)),this.sub=this.searchConfigService.searchOptions.subscribe(()=>{this.updateChangeParams()})}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.filterValue.value)}getSearchLink(){return this.inPlaceSearch?(0,k.N)(this.router):this.searchService.getSearchLink()}updateChangeParams(){const at=this.filterValue.value.split("-"),jt=at.length>1?Number(at[0].trim()):this.filterValue.value,Vt=at.length>1?Number(at[1].trim()):this.filterValue.value,xn=this.paginationService.getPageParam(this.searchConfigService.paginationID);this.changeQueryParams={[this.filterConfig.paramName+vi]:[jt],[this.filterConfig.paramName+Ei]:Vt===(new Date).getUTCFullYear()?null:[Vt],[xn]:1}}ngOnDestroy(){(0,L.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(jt){return new(jt||et)(t.rXU(S.S),t.rXU(T.U),t.rXU(R.g),t.rXU(X.Ix),t.rXU(le.m))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-facet-range-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["class","d-flex flex-row","queryParamsHandling","merge",3,"routerLink","queryParams","click",4,"ngIf"],["queryParamsHandling","merge",1,"d-flex","flex-row",3,"click","routerLink","queryParams"],[1,"filter-value","px-1"],[1,"float-end","filter-value-count","ms-auto"],[1,"badge","bg-secondary","rounded-pill"]],template:function(jt,Vt){1&jt&&(t.DNE(0,pi,7,8,"a",0),t.nI1(1,"async")),2&jt&&t.Y8G("ngIf",t.bMT(1,1,Vt.isVisible))},dependencies:[i.bT,X.Wk,i.Jj,fe],styles:["a[_ngcontent-%COMP%]{color:var(--bs-link-color)}a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:var(--bs-link-hover-color)}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}"]})}}return et})();function ur(et,qe){if(1&et){const at=t.RV6();t.qex(0),t.j41(1,"nouislider",12),t.bIt("change",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.onSliderChange(Vt))})("keydown",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.startKeyboardControl())})("keyup",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.stopKeyboardControl())}),t.mxI("ngModelChange",function(Vt){t.eBV(at);const xn=t.XpG();return t.DH7(xn.range,Vt)||(xn.range=Vt),t.Njj(Vt)}),t.k0s(),t.bVm()}if(2&et){const at=t.XpG();t.R7$(),t.Y8G("connect",!0)("config",at.config)("min",at.min)("max",at.max)("step",1)("dsDebounce",250),t.R50("ngModel",at.range)}}function Xo(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-range-option",14),2&et){const at=qe.$implicit,jt=t.XpG(2);t.Y8G("filterConfig",jt.filterConfig)("filterValue",at)("inPlaceSearch",jt.inPlaceSearch)}}function zr(et,qe){if(1&et&&(t.qex(0),t.j41(1,"div"),t.DNE(2,Xo,1,3,"ds-search-facet-range-option",13),t.k0s(),t.bVm()),2&et){const at=qe.$implicit,jt=t.XpG();t.R7$(),t.Y8G("@facetLoad",jt.animationState),t.R7$(),t.Y8G("ngForOf",at.page)("ngForTrackBy",jt.trackUpdate)}}let yr=(()=>{class et extends q{constructor(at,jt,Vt,xn,is,Os,Hs,ws){super(at,jt,is,Vt,Hs),this.searchService=at,this.filterService=jt,this.router=Vt,this.route=xn,this.rdbs=is,this.translateService=Os,this.searchConfigService=Hs,this.platformId=ws,this.min=1950,this.max=(new Date).getUTCFullYear(),this.config={}}ngOnInit(){super.ngOnInit(),this.min=(0,Fn.zX)(this.filterConfig.minValue)||this.min,this.max=(0,Fn.zX)(this.filterConfig.maxValue)||this.max,this.minLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".min.placeholder"),this.maxLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".max.placeholder");const at=this.route.getQueryParameterValue(this.filterConfig.paramName+vi).pipe((0,h.Z)(void 0)),jt=this.route.getQueryParameterValue(this.filterConfig.paramName+Ei).pipe((0,h.Z)(void 0));this.subs.push((0,m.z)([at,jt]).pipe((0,_.T)(([Vt,xn])=>[(0,L.a4)(Vt)?Number(Vt):this.min,(0,L.a4)(xn)?Number(xn):this.max])).subscribe(Vt=>this.range=Vt)),this.config={handleAttributes:[{"aria-label":this.minLabel},{"aria-label":this.maxLabel}]}}onSliderChange(at){this.sliderRange=at}onSubmit(){if(this.keyboardControl)return;const at=this.range[0]!==this.min?[this.range[0]]:null,jt=this.range[1]!==this.max?[this.range[1]]:null;this.router.navigate(this.getSearchLinkParts(),{queryParams:{[this.filterConfig.paramName+vi]:at,[this.filterConfig.paramName+Ei]:jt},queryParamsHandling:"merge"}),this.filter=""}startKeyboardControl(){this.keyboardControl=!0}stopKeyboardControl(){this.keyboardControl=!1}shouldShowSlider(){return(0,i.UE)(this.platformId)}static{this.\u0275fac=function(jt){return new(jt||et)(t.rXU(S.S),t.rXU(T.U),t.rXU(X.Ix),t.rXU(qn.v$),t.rXU(U.o),t.rXU(u.c$),t.rXU(A.EN),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-range-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:25,vars:25,consts:[["form","ngForm"],[1,"filters","py-2"],[1,"add-filter","row",3,"ngSubmit","action"],[1,"col-6","mb-3","mb-0"],[1,"form-label"],[1,"fw-bold"],["type","text",1,"form-control",3,"ngModelChange","ngModel","name","placeholder"],[1,"col-6"],["type","submit",1,"sr-only"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],["ngDefaultControl","",3,"change","keydown","keyup","ngModelChange","connect","config","min","max","step","dsDebounce","ngModel"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"]],template:function(jt,Vt){if(1&jt){const xn=t.RV6();t.j41(0,"div")(1,"div",1)(2,"form",2,0),t.bIt("ngSubmit",function(){return t.eBV(xn),t.Njj(Vt.onSubmit())}),t.j41(4,"div",3)(5,"label",4)(6,"span",5),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"input",6),t.mxI("ngModelChange",function(Os){return t.eBV(xn),t.DH7(Vt.range[0],Os)||(Vt.range[0]=Os),t.Njj(Os)}),t.k0s()()(),t.j41(10,"div",7)(11,"label",4)(12,"span",5),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"input",6),t.mxI("ngModelChange",function(Os){return t.eBV(xn),t.DH7(Vt.range[1],Os)||(Vt.range[1]=Os),t.Njj(Os)}),t.k0s()()(),t.j41(16,"button",8),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.DNE(19,ur,2,7,"ng-container",9)(20,zr,3,3,"ng-container",10),t.nI1(21,"async"),t.j41(22,"button",11),t.bIt("click",function(){return t.eBV(xn),t.Njj(Vt.onSubmit())}),t.EFF(23),t.nI1(24,"translate"),t.k0s()()()}2&jt&&(t.R7$(2),t.Y8G("action",Vt.currentUrl,t.B4B),t.R7$(5),t.SpI(" ",t.bMT(8,15,"search.filters.filter."+Vt.filterConfig.name+".min.label")," "),t.R7$(2),t.R50("ngModel",Vt.range[0]),t.Y8G("name",Vt.filterConfig.paramName+".min")("placeholder",Vt.minLabel),t.BMQ("aria-label",Vt.minLabel),t.R7$(4),t.SpI(" ",t.bMT(14,17,"search.filters.filter."+Vt.filterConfig.name+".max.label")," "),t.R7$(2),t.R50("ngModel",Vt.range[1]),t.Y8G("name",Vt.filterConfig.paramName+".max")("placeholder",Vt.maxLabel),t.BMQ("aria-label",Vt.maxLabel),t.R7$(2),t.SpI(" ",t.bMT(18,19,"search.filters.search.submit")," "),t.R7$(2),t.Y8G("ngIf",Vt.shouldShowSlider()),t.R7$(),t.Y8G("ngForOf",t.bMT(21,21,Vt.facetValues$)),t.R7$(3),t.SpI(" ",t.bMT(24,23,"search.filters.search.submit")," "))},dependencies:[Q.YN,Q.qT,Q.me,Q.BC,Q.cb,Q.vS,Q.cV,i.bT,on,bs.R,i.pM,vr,i.Jj,u.h,u.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  html:not([dir=rtl]) .noUi-horizontal .noUi-handle{right:calc(var(--ds-slider-handle-width) / -2)}  .noUi-horizontal .noUi-handle{width:var(--ds-slider-handle-width)}  .noUi-horizontal .noUi-handle:before{left:calc((var(--ds-slider-handle-width) - 2px) / 2 - 2px)}  .noUi-horizontal .noUi-handle:after{left:calc((var(--ds-slider-handle-width) - 2px) / 2 + 2px)}  .noUi-horizontal .noUi-handle:focus{outline:none;box-shadow:var(--bs-input-btn-focus-box-shadow)}  .noUi-connect{background:var(--ds-slider-color)}  .noUi-target{padding:0 calc(var(--ds-slider-handle-width) / 2 - 1.5px);margin:0 1px}  .noUi-connect{margin:0 calc(-1 * var(--ds-slider-handle-width) / 2);width:calc(100% + var(--ds-slider-handle-width))}  .noUi-handle{border-color:var(--ds-slider-handle-color)}  .noUi-handle:before,   .noUi-handle:after{background-color:var(--ds-slider-handle-color)}"],data:{animation:[z]}})}}return et})();function Jo(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-selected-option",7),2&et){const at=qe.$implicit,jt=t.XpG();t.Y8G("selectedValue",at)("filterConfig",jt.filterConfig)("inPlaceSearch",jt.inPlaceSearch)}}function Yr(et,qe){if(1&et&&t.nrm(0,"ds-search-facet-option",9),2&et){const at=qe.$implicit,jt=t.XpG(2);t.Y8G("filterConfig",jt.filterConfig)("filterValue",at)("inPlaceSearch",jt.inPlaceSearch)}}function tr(et,qe){if(1&et&&(t.qex(0),t.j41(1,"div"),t.DNE(2,Yr,1,3,"ds-search-facet-option",8),t.k0s(),t.bVm()),2&et){const at=qe.$implicit,jt=t.XpG();t.R7$(),t.Y8G("@facetLoad",jt.animationState),t.R7$(),t.Y8G("ngForOf",at.page)("ngForTrackBy",jt.trackUpdate)}}function Xr(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",10),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function po(et,qe){if(1&et){const at=t.RV6();t.j41(0,"a",11),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&et&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function Er(et,qe){if(1&et){const at=t.RV6();t.j41(0,"ds-filter-input-suggestions",12),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Vt){t.eBV(at);const xn=t.XpG();return t.DH7(xn.filter,Vt)||(xn.filter=Vt),t.Njj(Vt)}),t.bIt("submitSuggestion",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.onSubmit(Vt))})("clickSuggestion",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.onClick(Vt))})("findSuggestions",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.findSuggestions(Vt))}),t.k0s()}if(2&et){const at=t.XpG();t.Y8G("suggestions",t.bMT(1,6,at.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+at.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+at.filterConfig.name+".label"))("action",at.currentUrl)("name",at.filterConfig.paramName),t.R50("ngModel",at.filter)}}let Ks=(()=>{class et extends q{onSubmit(at){super.onSubmit((0,ce.mq)(at,"query"))}static{this.\u0275fac=(()=>{let at;return function(Vt){return(at||(at=t.xGo(et)))(Vt||et)}})()}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-text-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:13,vars:15,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-start","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-end","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-start",3,"click"],["href","javascript:void(0);",1,"float-end",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"]],template:function(jt,Vt){1&jt&&(t.j41(0,"div")(1,"div",0),t.DNE(2,Jo,1,3,"ds-search-facet-selected-option",1),t.nI1(3,"async"),t.DNE(4,tr,3,3,"ng-container",2),t.nI1(5,"async"),t.j41(6,"div",3),t.DNE(7,Xr,3,3,"a",4),t.nI1(8,"async"),t.DNE(9,po,3,3,"a",5),t.nI1(10,"async"),t.k0s()(),t.DNE(11,Er,4,12,"ds-filter-input-suggestions",6),t.nI1(12,"async"),t.k0s()),2&jt&&(t.R7$(2),t.Y8G("ngForOf",t.bMT(3,5,Vt.selectedAppliedFilters$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,7,Vt.facetValues$)),t.R7$(3),t.Y8G("ngIf",!0!==t.bMT(8,9,Vt.isLastPage$)),t.R7$(2),t.Y8G("ngIf",t.bMT(10,11,Vt.currentPage)>1),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(12,13,Vt.isAvailableForShowSearchText)))},dependencies:[i.pM,ht,re,i.bT,ee.H,Q.YN,Q.me,Q.BC,Q.vS,i.Jj,u.h,u.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[z]}})}}return et})();const hr=new Map;function Fr(et,qe){}hr.set(J.R.text,Ks),hr.set(J.R.authority,ot),hr.set(J.R.boolean,Be),hr.set(J.R.hierarchy,Jt),hr.set(J.R.range,yr);let xa=(()=>{class et extends te.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["filterConfig"],this.inputNames=["filterConfig","inPlaceSearch","refreshFilters","scope"]}getComponent(){return function Qo(et){return hr.get(et)}(this.filterConfig.filterType)}static{this.\u0275fac=(()=>{let at;return function(Vt){return(at||(at=t.xGo(et)))(Vt||et)}})()}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-facet-filter-wrapper"]],inputs:{filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(jt,Vt){1&jt&&t.DNE(0,Fr,0,0,"ng-template",1,0,t.C5r)},dependencies:[Z.z],encapsulation:2})}}return et})(),sa=(()=>{class et{constructor(){this.value=0}next(){return++this.value}static{this.\u0275fac=function(jt){return new(jt||et)}}static{this.\u0275prov=t.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}}return et})();const rr=et=>({focus:et}),Qr=(et,qe)=>({closed:et,notab:qe});function _a(et,qe){if(1&et){const at=t.RV6();t.j41(0,"div",1)(1,"button",2),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"translate"),t.nI1(6,"lowercase"),t.nI1(7,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.toggle())})("focusin",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.focusBox=!0)})("focusout",function(){t.eBV(at);const Vt=t.XpG();return t.Njj(Vt.focusBox=!1)}),t.j41(8,"span",3),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.nrm(11,"i",4),t.nI1(12,"async"),t.nI1(13,"async"),t.nI1(14,"translate"),t.k0s(),t.j41(15,"div",5),t.nI1(16,"async"),t.bIt("@slide.start",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.startSlide(Vt))})("@slide.done",function(Vt){t.eBV(at);const xn=t.XpG();return t.Njj(xn.finishSlide(Vt))}),t.nrm(17,"ds-search-facet-filter-wrapper",6),t.k0s()()}if(2&et){const at=t.XpG();t.Y8G("id",at.regionId)("ngClass",t.eq3(39,rr,at.focusBox)),t.BMQ("aria-labelledby",at.toggleId),t.R7$(),t.Y8G("id",at.toggleId),t.BMQ("aria-controls",at.regionId)("aria-expanded",!0!==t.bMT(2,17,at.collapsed$))("aria-label",t.bMT(4,21,t.bMT(3,19,at.collapsed$)?"search.filters.filter.expand":"search.filters.filter.collapse")+" "+t.bMT(6,25,t.bMT(5,23,"search.filters.filter."+at.filter.name+".head")))("data-test",t.bMT(7,27,"filter-toggle")),t.R7$(8),t.SpI(" ",t.bMT(10,29,"search.filters.filter."+at.filter.name+".head")," "),t.R7$(2),t.Y8G("ngClass",t.bMT(12,31,at.collapsed$)?"fa-plus":"fa-minus")("title",t.bMT(14,35,t.bMT(13,33,at.collapsed$)?"search.filters.filter.expand":"search.filters.filter.collapse")),t.R7$(4),t.Y8G("@slide",t.bMT(16,37,at.collapsed$)?"collapsed":"expanded")("ngClass",t.l_i(41,Qr,at.closed,at.notab)),t.R7$(2),t.Y8G("scope",at.scope)("filterConfig",at.filter)("inPlaceSearch",at.inPlaceSearch)("refreshFilters",at.refreshFilters)}}let va=(()=>{class et{constructor(at,jt,Vt,xn){this.filterService=at,this.searchService=jt,this.searchConfigService=Vt,this.sequenceService=xn,this.isVisibilityComputed=new t.bkB,this.focusBox=!1,this.scope$=new e.t(void 0),this.subs=[],this.sequenceId=this.sequenceService.next()}ngOnInit(){this.appliedFilters$=this.searchService.getSelectedValuesForFilter(this.filter.name),this.active$=this.isActive(),this.collapsed$=this.isCollapsed(),this.initializeFilter(),this.subs.push(this.appliedFilters$.subscribe(at=>{(0,L.hj)(at)&&this.filterService.expand(this.filter.name)}),this.getIsActive().pipe((0,C.s)(1)).subscribe(()=>{this.isVisibilityComputed.emit(!0)}))}ngOnChanges(){this.scope$.value!==this.scope&&this.scope$.next(this.scope)}ngOnDestroy(){this.subs.forEach(at=>at.unsubscribe())}toggle(){this.filterService.toggle(this.filter.name)}isCollapsed(){return this.filterService.isCollapsed(this.filter.name)}initializeFilter(){this.filterService.initializeFilter(this.filter)}finishSlide(at){"collapsed"===at.fromState&&(this.closed=!1),"collapsed"===at.toState&&(this.notab=!0)}startSlide(at){"collapsed"===at.toState&&(this.closed=!0),"collapsed"===at.fromState&&(this.notab=!1)}get regionId(){return this.inPlaceSearch?`search-filter-region-${this.sequenceId}`:`search-filter-region-home-${this.sequenceId}`}get toggleId(){return this.inPlaceSearch?`search-filter-toggle-${this.sequenceId}`:`search-filter-toggle-home-${this.sequenceId}`}isActive(){return this.getIsActive().pipe((0,h.Z)(!0))}getIsActive(){return(0,m.z)([this.appliedFilters$,this.searchConfigService.searchOptions,this.scope$]).pipe((0,f.n)(([at,jt,Vt])=>(0,L.hj)(at.filter(xn=>G.includes(xn.operator)))?(0,v.of)(!0):((0,L.a4)(Vt)&&(jt.scope=Vt),this.searchService.getFacetValuesFor(this.filter,1,jt).pipe((0,E.p)(xn=>!xn.isLoading),(0,_.T)(xn=>xn.payload?.totalElements>0)))))}static{this.\u0275fac=function(jt){return new(jt||et)(t.rXU(T.U),t.rXU(S.S),t.rXU(A.EN),t.rXU(sa))}}static{this.\u0275cmp=t.VBU({type:et,selectors:[["ds-search-filter"]],inputs:{filter:"filter",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},outputs:{isVisibilityComputed:"isVisibilityComputed"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:3,consts:[["class","facet-filter d-block mb-3 p-3","role","region",3,"id","ngClass",4,"ngIf"],["role","region",1,"facet-filter","d-block","mb-3","p-3",3,"id","ngClass"],[1,"filter-name","d-flex",3,"click","focusin","focusout","id"],[1,"h4","d-inline-block","text-left","mt-auto","mb-auto","dark:text-white","text-dark"],["aria-hidden","true",1,"filter-toggle","flex-grow-1","fas","p-auto",3,"ngClass","title"],[1,"search-filter-wrapper",3,"ngClass"],[3,"scope","filterConfig","inPlaceSearch","refreshFilters"]],template:function(jt,Vt){1&jt&&(t.DNE(0,_a,18,44,"div",0),t.nI1(1,"async")),2&jt&&t.Y8G("ngIf",t.bMT(1,1,Vt.active$))},dependencies:[i.bT,i.YU,xa,i.Jj,i.GH,u.h,u.D9,D.L],styles:["[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]{border:1px solid var(--bs-light);cursor:pointer;line-height:0}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper[_ngcontent-%COMP%]{line-height:var(--bs-line-height-base)}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper.closed[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper.notab[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .filter-toggle[_ngcontent-%COMP%]{line-height:var(--bs-line-height-base);text-align:right;position:relative}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{appearance:none;border:0;padding:0;background:#0000;width:100%;outline:none!important}[_nghost-%COMP%]   .facet-filter.focus[_ngcontent-%COMP%]{outline:none;box-shadow:var(--bs-input-btn-focus-box-shadow)}"],data:{animation:[p.M6]}})}}return et})()},1903:(F,b,n)=>{"use strict";n.r(b),n.d(b,{SearchFiltersComponent:()=>j});var i=n(60177),t=n(7901),u=n(41780),e=n(72234),h=n(96354),m=n(82640),f=n(78655),E=(n(39012),n(15465)),_=n(13955),C=n(30506),S=n(86868),R=n(54438);const T=(U,$)=>$.name,A=U=>[U];function p(U,$){if(1&U&&(R.j41(0,"h3"),R.EFF(1),R.nI1(2,"translate"),R.k0s()),2&U){const k=R.XpG();R.R7$(),R.JRh(R.bMT(2,1,k.filterLabel+".filters.head"))}}function L(U,$){if(1&U&&(R.j41(0,"h2"),R.EFF(1),R.nI1(2,"translate"),R.k0s()),2&U){const k=R.XpG();R.R7$(),R.JRh(R.bMT(2,1,k.filterLabel+".filters.head"))}}function D(U,$){if(1&U){const k=R.RV6();R.j41(0,"ds-search-filter",4),R.bIt("isVisibilityComputed",function(X){R.eBV(k);const G=R.XpG(2);return R.Njj(G.countFiltersWithComputedVisibility(X))}),R.k0s()}if(2&U){const k=$.$implicit,K=R.XpG(2);R.Y8G("scope",K.currentScope)("filter",k)("inPlaceSearch",K.inPlaceSearch)("refreshFilters",K.refreshFilters)}}function w(U,$){if(1&U&&(R.j41(0,"div"),R.nI1(1,"async"),R.Z7z(2,D,1,4,"ds-search-filter",3,T),R.nI1(4,"async"),R.k0s()),2&U){let k,K;const X=R.XpG();R.AVh("visually-hidden",X.filtersWithComputedVisibility!==(null==(k=R.bMT(1,2,X.filters))||null==k.payload?null:k.payload.length)),R.R7$(2),R.Dyx(null==(K=R.bMT(4,4,X.filters))?null:K.payload)}}function M(U,$){if(1&U&&R.nrm(0,"ngx-skeleton-loader",1),2&U){const k=R.XpG();R.Y8G("count",k.defaultFilterCount)}}function x(U,$){if(1&U){const k=R.RV6();R.j41(0,"button",5),R.nI1(1,"async"),R.bIt("click",function(){R.eBV(k);const X=R.XpG();return R.Njj(X.minimizeFilters())}),R.nrm(2,"i",6),R.EFF(3),R.nI1(4,"translate"),R.k0s()}if(2&U){const k=R.XpG();R.Y8G("routerLink",R.eq3(7,A,k.searchLink))("queryParams",R.bMT(1,3,k.clearParams)),R.R7$(3),R.SpI(" ",R.bMT(4,5,"search.filters.reset")," ")}}let j=(()=>{class U{constructor(k,K,X,G,q){this.searchService=k,this.searchFilterService=K,this.router=X,this.searchConfigService=G,this.appConfig=q,this.appliedFilters=new Map,this.filtersWithComputedVisibility=0,this.subs=[],this.filterLabel="search",this.defaultFilterCount=this.appConfig.search.filterPlaceholdersCount??5}ngOnInit(){this.inPlaceSearch||(this.filterLabel="discover"),this.clearParams=this.searchConfigService.getCurrentFrontendFilters().pipe((0,h.T)(k=>(Object.keys(k).forEach(K=>k[K]=null),k))),this.searchLink=this.getSearchLink()}getSearchLink(){return this.inPlaceSearch?(0,C.N)(this.router):this.searchService.getSearchLink()}trackUpdate(k,K){return K?K.name:void 0}minimizeFilters(){this.searchService.appliedFilters$.value.length>0&&this.searchFilterService.minimizeAll()}countFiltersWithComputedVisibility(k){k&&(this.filtersWithComputedVisibility+=1)}static{this.\u0275fac=function(K){return new(K||U)(R.rXU(f.S),R.rXU(E.U),R.rXU(t.Ix),R.rXU(_.EN),R.rXU(m.vQ))}}static{this.\u0275cmp=R.VBU({type:U,selectors:[["ds-base-search-filters"]],inputs:{filters:"filters",currentConfiguration:"currentConfiguration",currentScope:"currentScope",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters"},standalone:!0,features:[R.aNF],decls:7,vars:8,consts:[[3,"visually-hidden"],[3,"count"],["queryParamsHandling","merge","role","button",1,"btn","btn-primary",3,"routerLink","queryParams"],[3,"scope","filter","inPlaceSearch","refreshFilters"],[3,"isVisibilityComputed","scope","filter","inPlaceSearch","refreshFilters"],["queryParamsHandling","merge","role","button",1,"btn","btn-primary",3,"click","routerLink","queryParams"],[1,"fas","fa-undo"]],template:function(K,X){if(1&K&&(R.DNE(0,p,3,3,"h3")(1,L,3,3)(2,w,5,6,"div",0),R.nI1(3,"async"),R.DNE(4,M,1,1,"ngx-skeleton-loader",1),R.nI1(5,"async"),R.DNE(6,x,5,9,"button",2)),2&K){let G,q;R.vxM(0,X.inPlaceSearch?0:1),R.R7$(2),R.vxM(2,null!=(G=R.bMT(3,4,X.filters))&&G.hasSucceeded?2:-1),R.R7$(2),R.vxM(4,X.filtersWithComputedVisibility!==(null==(q=R.bMT(5,6,X.filters))||null==q.payload?null:q.payload.length)?4:-1),R.R7$(2),R.vxM(6,X.inPlaceSearch?6:-1)}},dependencies:[S.a,t.Wk,i.Jj,u.h,u.D9,e.Yq,e.Zm],styles:["[_nghost-%COMP%]     ngx-skeleton-loader .skeleton-loader{height:var(--ds-filters-skeleton-height);margin-bottom:var(--ds-filters-skeleton-spacing);padding:var(--ds-filters-skeleton-spacing);background-color:var(--bs-light);box-shadow:none}"]})}}return U})()},75575:(F,b,n)=>{"use strict";n.d(b,{k:()=>m});var i=n(8886),u=(n(1903),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["filters","currentConfiguration","currentScope","inPlaceSearch","refreshFilters"]}getComponentName(){return"SearchFiltersComponent"}importThemedComponent(E){return n(64565)(`./${E}/app/shared/search/search-filters/search-filters.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1903))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-search-filters"]],inputs:{currentConfiguration:"currentConfiguration",currentScope:"currentScope",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",filters:"filters"},standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},55366:(F,b,n)=>{"use strict";n.d(b,{L:()=>G});var i=n(60177),t=n(78655),u=n(22924),e=n(92827),m=(n(15641),n(82777)),f=n(81569),v=n(7901),E=n(41780),_=n(22978),C=n(39012),S=n(15465),R=n(30506),T=n(54438);const A=(q,z)=>({type:q,value:z}),p=q=>({default:q});let L=(()=>{class q{constructor(te,Z,J,Q,ee){this.paginationService=te,this.router=Z,this.searchConfigurationService=J,this.searchService=Q,this.searchFilterService=ee}ngOnInit(){this.searchLink=this.getSearchLink(),this.removeParameters$=this.updateRemoveParams()}updateRemoveParams(){return this.searchConfigurationService.unselectAppliedFilterParams(this.appliedFilter.filter,this.appliedFilter.value,this.appliedFilter.operator)}getSearchLink(){return this.inPlaceSearch?(0,R.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(Z){return new(Z||q)(T.rXU(_.m),T.rXU(v.Ix),T.rXU(C.g),T.rXU(t.S),T.rXU(S.U))}}static{this.\u0275cmp=T.VBU({type:q,selectors:[["ds-search-label"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[T.aNF],decls:12,vars:25,consts:[[1,"badge","bg-primary","me-1","mb-1","text-capitalize",3,"click","routerLink","queryParams"],[1,"d-flex"],[1,"flex-grow-1","text-left"],["aria-hidden","true",1,"ps-1"]],template:function(Z,J){1&Z&&(T.j41(0,"a",0),T.nI1(1,"async"),T.nI1(2,"translate"),T.nI1(3,"translate"),T.bIt("click",function(){return J.searchFilterService.minimizeAll()}),T.j41(4,"span",1)(5,"span",2),T.EFF(6),T.nI1(7,"translate"),T.nI1(8,"translate"),T.nI1(9,"translate"),T.k0s(),T.j41(10,"span",3),T.EFF(11,"\xd7"),T.k0s()()()),2&Z&&(T.Y8G("routerLink",J.searchLink)("queryParams",T.bMT(1,6,J.removeParameters$)),T.BMQ("aria-label",T.i5U(3,10,"search.filters.remove",T.l_i(20,A,T.bMT(2,8,"search.filters.applied.f."+J.appliedFilter.filter),J.appliedFilter.label))),T.R7$(6),T.E5c("",T.bMT(7,13,"search.filters.applied.f."+J.appliedFilter.filter),"",T.bMT(8,15,"search.filters.applied.operator."+J.appliedFilter.operator),": ",T.i5U(9,17,"search.filters."+J.appliedFilter.filter+"."+J.appliedFilter.label,T.eq3(23,p,J.appliedFilter.label)),""))},dependencies:[v.Wk,i.Jj,E.h,E.D9],styles:[".badge[_ngcontent-%COMP%]{white-space:inherit}"]})}}return q})();const D=(q,z)=>({type:q,value:z});function w(q,z){if(1&q){const te=T.RV6();T.j41(0,"a",1),T.nI1(1,"async"),T.nI1(2,"translate"),T.nI1(3,"translate"),T.bIt("click",function(){T.eBV(te);const J=T.XpG();return T.Njj(J.searchFilterService.minimizeAll())}),T.j41(4,"span",2)(5,"span",3),T.EFF(6),T.nI1(7,"translate"),T.k0s(),T.j41(8,"span",4),T.EFF(9,"\xd7"),T.k0s()()()}if(2&q){const te=T.XpG();T.Y8G("routerLink",te.searchLink)("queryParams",T.bMT(1,5,te.removeParametersMin$)),T.BMQ("aria-label",T.i5U(3,9,"search.filters.remove",T.l_i(14,D,T.bMT(2,7,"search.filters.applied.f."+te.appliedFilter.filter+".min"),te.min))),T.R7$(6),T.Lme("",T.bMT(7,12,"search.filters.applied.f."+te.appliedFilter.filter+".min"),": ",te.min,"")}}function M(q,z){if(1&q){const te=T.RV6();T.j41(0,"a",1),T.nI1(1,"async"),T.nI1(2,"translate"),T.nI1(3,"translate"),T.bIt("click",function(){T.eBV(te);const J=T.XpG();return T.Njj(J.searchFilterService.minimizeAll())}),T.j41(4,"span",2)(5,"span",3),T.EFF(6),T.nI1(7,"translate"),T.k0s(),T.j41(8,"span",4),T.EFF(9,"\xd7"),T.k0s()()()}if(2&q){const te=T.XpG();T.Y8G("routerLink",te.searchLink)("queryParams",T.bMT(1,5,te.removeParametersMax$)),T.BMQ("aria-label",T.i5U(3,9,"search.filters.remove",T.l_i(14,D,T.bMT(2,7,"search.filters.applied.f."+te.appliedFilter.filter+".max"),te.max))),T.R7$(6),T.Lme("",T.bMT(7,12,"search.filters.applied.f."+te.appliedFilter.filter+".max"),": ",te.max,"")}}let x=(()=>{class q{constructor(te,Z,J,Q,ee){this.paginationService=te,this.router=Z,this.searchConfigurationService=J,this.searchService=Q,this.searchFilterService=ee}ngOnInit(){this.searchLink=this.getSearchLink(),this.min=this.appliedFilter.value.substring(1,this.appliedFilter.value.indexOf("TO")-1),this.max=this.appliedFilter.value.substring(this.appliedFilter.value.indexOf("TO")+3,this.appliedFilter.value.length-1),this.removeParametersMin$=this.updateRemoveParams(`${this.appliedFilter.filter}.min`,this.min),this.removeParametersMax$=this.updateRemoveParams(`${this.appliedFilter.filter}.max`,this.max)}updateRemoveParams(te,Z,J){return this.searchConfigurationService.unselectAppliedFilterParams(te,Z,J)}getSearchLink(){return this.inPlaceSearch?(0,R.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(Z){return new(Z||q)(T.rXU(_.m),T.rXU(v.Ix),T.rXU(C.g),T.rXU(t.S),T.rXU(S.U))}}static{this.\u0275cmp=T.VBU({type:q,selectors:[["ds-search-label-range"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[T.aNF],decls:2,vars:2,consts:[["class","badge bg-primary",3,"routerLink","queryParams","click",4,"ngIf"],[1,"badge","bg-primary",3,"click","routerLink","queryParams"],[1,"d-flex"],[1,"flex-grow-1","text-left"],["aria-hidden","true",1,"ps-1"]],template:function(Z,J){1&Z&&T.DNE(0,w,10,17,"a",0)(1,M,10,17,"a",0),2&Z&&(T.Y8G("ngIf","*"!==J.min),T.R7$(),T.Y8G("ngIf","*"!==J.max))},dependencies:[i.Jj,i.bT,v.Wk,E.h,E.D9],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap;gap:calc(var(--bs-spacer) / 4)}.badge[_ngcontent-%COMP%]{white-space:inherit}"]})}}return q})();const j=void 0,U=new Map([[j,new Map([[f.SS,L]])],["range",new Map([[f.SS,x]])]]);function k(q,z){}let K=(()=>{class q extends u.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["appliedFilter"],this.inputNames=["inPlaceSearch","appliedFilter"]}getComponent(){return function $(q,z){let te=U.get(q);(0,m.Tn)(te)&&(te=U.get(j));const Z=te.get(z);return(0,m.Tn)(Z)?te.get(f.SS):Z}(this.appliedFilter.operator,this.themeService.getThemeName())}static{this.\u0275fac=(()=>{let te;return function(J){return(te||(te=T.xGo(q)))(J||q)}})()}static{this.\u0275cmp=T.VBU({type:q,selectors:[["ds-search-label-loader"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[T.Vt3,T.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(Z,J){1&Z&&T.DNE(0,k,0,0,"ng-template",1,0,T.C5r)},dependencies:[e.z],encapsulation:2})}}return q})();function X(q,z){if(1&q&&T.nrm(0,"ds-search-label-loader",2),2&q){const te=z.$implicit,Z=T.XpG();T.Y8G("appliedFilter",te)("inPlaceSearch",Z.inPlaceSearch)}}let G=(()=>{class q{constructor(te){this.searchService=te}ngOnInit(){this.appliedFilters$=this.searchService.appliedFilters$}static{this.\u0275fac=function(Z){return new(Z||q)(T.rXU(t.S))}}static{this.\u0275cmp=T.VBU({type:q,selectors:[["ds-search-labels"]],inputs:{inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[T.aNF],decls:3,vars:3,consts:[[1,"labels"],[3,"appliedFilter","inPlaceSearch",4,"ngFor","ngForOf"],[3,"appliedFilter","inPlaceSearch"]],template:function(Z,J){1&Z&&(T.j41(0,"div",0),T.DNE(1,X,1,2,"ds-search-label-loader",1),T.nI1(2,"async"),T.k0s()),2&Z&&(T.R7$(),T.Y8G("ngForOf",T.bMT(2,1,J.appliedFilters$)))},dependencies:[i.pM,i.Jj,K],styles:["[_nghost-%COMP%]{line-height:1}[_nghost-%COMP%]   .labels[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:calc(var(--bs-spacer) / 4)}"]})}}return q})()},43280:(F,b,n)=>{"use strict";n.d(b,{L:()=>D});var i=n(3e3),t=n(40887),u=n(6041),e=n(10046),h=n(88318),m=n(25567),f=n(91581),v=n(78416),E=n(27605),_=n(34532),C=n(77537),S=n(17132),R=n(27442),T=n(24205),A=n(38786),p=n(95010);const L=new Map([[i.a,t.o],[v.T,_.y],[E.k,T.d],[u.p,C.A],[e.E,S.L],[h.q,R.H],[m.t,A.q],[f.F,p.I]]);function D(w){return L.get(w)}},84081:(F,b,n)=>{"use strict";n.d(b,{b:()=>S});var i=n(60177),t=n(72234),u=n(78655),e=n(78448),h=n(82777),m=n(54438);function f(R,T){1&R&&(m.j41(0,"div",4)(1,"div",8),m.nrm(2,"ngx-skeleton-loader"),m.k0s()())}function v(R,T){if(1&R&&(m.j41(0,"div",3),m.DNE(1,f,3,0,"div",4),m.j41(2,"div")(3,"div",5),m.nrm(4,"ngx-skeleton-loader"),m.k0s(),m.j41(5,"div",6),m.nrm(6,"ngx-skeleton-loader",7),m.k0s()()()),2&R){const A=T.$index,p=m.XpG(2);m.AVh("my-4",0!==A),m.R7$(),m.vxM(1,p.showThumbnails?1:-1),m.R7$(),m.AVh("col-9",p.showThumbnails)("col-md-10",p.showThumbnails)("col-md-12",!p.showThumbnails),m.R7$(4),m.Y8G("count",p.textLineCount)}}function E(R,T){if(1&R&&m.Z7z(0,v,7,10,"div",2,m.fX1),2&R){const A=m.XpG();m.Dyx(A.loadingResults)}}function _(R,T){1&R&&(m.j41(0,"div",10)(1,"div",11),m.nrm(2,"ngx-skeleton-loader"),m.k0s()())}function C(R,T){if(1&R&&(m.j41(0,"div",9),m.Z7z(1,_,3,0,"div",10,m.fX1),m.k0s()),2&R){const A=m.XpG();m.R7$(),m.Dyx(A.loadingResults)}}let S=(()=>{class R{constructor(A){this.searchService=A,this.numberOfResults=0,this.textLineCount=2,this.ViewMode=e.n,this.viewMode$=this.searchService.getViewMode()}ngOnInit(){this.loadingResults=Array.from({length:this.numberOfResults},(A,p)=>p+1),(0,h.a4)(this.showThumbnails)||(this.showThumbnails=!0)}static{this.\u0275fac=function(p){return new(p||R)(m.rXU(u.S))}}static{this.\u0275cmp=m.VBU({type:R,selectors:[["ds-search-results-skeleton"]],inputs:{showThumbnails:"showThumbnails",numberOfResults:"numberOfResults",textLineCount:"textLineCount"},standalone:!0,features:[m.aNF],decls:8,vars:9,consts:[[1,"row","flex-nowrap"],[1,"info-skeleton","col-12"],[1,"row",3,"my-4"],[1,"row"],[1,"col-3","col-md-2"],[1,"badge-skeleton"],[1,"text-skeleton"],[3,"count"],[1,"thumbnail-skeleton","position-relative"],[1,"card-columns","row"],[1,"card-column","col","col-sm-6","col-lg-4"],[1,"card-skeleton"]],template:function(p,L){1&p&&(m.j41(0,"div",0)(1,"div",1),m.nI1(2,"async"),m.nrm(3,"ngx-skeleton-loader"),m.k0s()(),m.DNE(4,E,2,0),m.nI1(5,"async"),m.nI1(6,"async"),m.DNE(7,C,3,0)),2&p&&(m.R7$(),m.AVh("mb-2",m.bMT(2,3,L.viewMode$)===L.ViewMode.ListElement),m.R7$(3),m.vxM(4,m.bMT(5,5,L.viewMode$)===L.ViewMode.ListElement?4:m.bMT(6,7,L.viewMode$)===L.ViewMode.GridElement?7:-1))},dependencies:[t.Yq,t.Zm,i.Jj],styles:["[_nghost-%COMP%]    {--ds-wrapper-grid-spacing: calc(var(--bs-spacer) / 2)}[_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .badge-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .text-skeleton ngx-skeleton-loader .skeleton-loader{height:var(--ds-search-skeleton-text-height)}[_nghost-%COMP%]     .badge-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader{width:var(--ds-search-skeleton-badge-width)}[_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader{width:var(--ds-search-skeleton-info-width)}[_nghost-%COMP%]     .thumbnail-skeleton{max-width:var(--ds-thumbnail-max-width);height:100%}[_nghost-%COMP%]     .thumbnail-skeleton ngx-skeleton-loader .skeleton-loader{margin-right:var(--ds-search-skeleton-thumbnail-margin);border-radius:0;height:100%}[_nghost-%COMP%]     .card-skeleton ngx-skeleton-loader .skeleton-loader{height:var(--ds-search-skeleton-card-height)}[_nghost-%COMP%]     ngx-skeleton-loader .skeleton-loader{background-color:var(--bs-light);box-shadow:none}[_nghost-%COMP%]     .card-columns{margin-left:calc(-1 * var(--ds-wrapper-grid-spacing));margin-right:calc(-1 * var(--ds-wrapper-grid-spacing));column-gap:0}[_nghost-%COMP%]     .card-columns .card-column{padding-left:var(--ds-wrapper-grid-spacing);padding-right:var(--ds-wrapper-grid-spacing)}"]})}}return R})()},42837:(F,b,n)=>{"use strict";n.r(b),n.d(b,{SearchResultsComponent:()=>q});var i=n(60177),t=n(54438),u=n(7901),e=n(41780),h=n(72234),E=(n(6238),n(1716),n(26292),n(78655)),_=n(39012),S=(n(78448),n(50332)),R=n(82777),T=n(79632),p=(n(7581),n(67560)),D=(n(33550),n(53009)),w=n(84081);const M=()=>["/search"],x=z=>({query:z});function j(z,te){if(1&z&&(t.j41(0,"div",0)(1,"div",6)(2,"div",7)(3,"div",8),t.nrm(4,"ngx-skeleton-loader",9),t.nI1(5,"async"),t.k0s()()()()),2&z){const Z=t.XpG();t.R7$(4),t.Y8G("count",t.bMT(5,1,Z.activeFilters$).length)}}function U(z,te){if(1&z&&(t.j41(0,"h1"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&z){const Z=t.XpG();t.R7$(),t.JRh(t.bMT(2,1,Z.configuration?Z.configuration+".search.results.head":"search.results.head"))}}function $(z,te){if(1&z&&t.nrm(0,"ds-search-export-csv",10),2&z){const Z=t.XpG();t.Y8G("searchConfig",Z.searchConfig)}}function k(z,te){if(1&z){const Z=t.RV6();t.j41(0,"div")(1,"ds-viewable-collection",11),t.bIt("contentChange",function(Q){t.eBV(Z);const ee=t.XpG();return t.Njj(ee.contentChange.emit(Q))})("deselectObject",function(Q){t.eBV(Z);const ee=t.XpG();return t.Njj(ee.deselectObject.emit(Q))})("selectObject",function(Q){t.eBV(Z);const ee=t.XpG();return t.Njj(ee.selectObject.emit(Q))}),t.k0s()()}if(2&z){const Z=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("config",Z.searchConfig.pagination)("sortConfig",Z.searchConfig.sort)("objects",Z.searchResults)("hideGear",!0)("selectable",Z.selectable)("selectionConfig",Z.selectionConfig)("linkType",Z.linkType)("context",Z.context)("hidePaginationDetail",Z.hidePaginationDetail)("showThumbnails",Z.showThumbnails)}}function K(z,te){if(1&z&&t.nrm(0,"ds-search-results-skeleton",12),2&z){const Z=t.XpG();t.Y8G("showThumbnails",Z.showThumbnails)("numberOfResults",Z.searchConfig.pagination.pageSize)}}function X(z,te){if(1&z&&(t.nrm(0,"ds-error",13),t.nI1(1,"translate")),2&z){const Z=t.XpG();t.FS9("message",t.bMT(1,1,Z.errorMessageLabel()))}}function G(z,te){if(1&z&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.j41(3,"a",14),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&z){const Z=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,4,"search.results.no-results")," "),t.R7$(2),t.Y8G("routerLink",t.lJ4(8,M))("queryParams",t.eq3(9,x,Z.surroundStringWithQuotes(null==Z.searchConfig?null:Z.searchConfig.query))),t.R7$(),t.SpI(" ",t.bMT(5,6,"search.results.no-results-link")," ")}}let q=(()=>{class z{constructor(Z,J){this.searchConfigService=Z,this.searchService=J,this.hasNoValue=R.Tn,this.showCsvExport=!1,this.disableHeader=!1,this.selectable=!1,this.hidePaginationDetail=!1,this.selectionConfig=null,this.contentChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.activeFilters$=this.searchConfigService.getCurrentFilters(),this.appliedFilters$=this.searchService.appliedFilters$}isLoading(){return!this.showError()&&((0,R.Tn)(this.searchResults)||(0,R.Tn)(this.searchResults.payload)||this.searchResults.isLoading)}showError(){return this.searchResults?.hasFailed&&(!this.searchResults?.errorMessage||400!==this.searchResults?.statusCode)}errorMessageLabel(){return 422===this.searchResults?.statusCode?"error.invalid-search-query":"error.search-results"}surroundStringWithQuotes(Z){let J=Z;return(0,R.hj)(J)&&!(J.startsWith('"')&&J.endsWith('"'))&&(J=`"${J}"`),J}static{this.\u0275fac=function(J){return new(J||z)(t.rXU(_.g),t.rXU(E.S))}}static{this.\u0275cmp=t.VBU({type:z,selectors:[["ds-base-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],decls:10,vars:11,consts:[[1,"row"],[1,"d-flex","justify-content-between"],[4,"ngIf"],[3,"searchConfig",4,"ngIf"],[3,"showThumbnails","numberOfResults",4,"ngIf"],[3,"message",4,"ngIf"],[1,"col-12"],[1,"filters-badge-skeleton-container"],[1,"filter-badge-skeleton"],[3,"count"],[3,"searchConfig"],[3,"contentChange","deselectObject","selectObject","config","sortConfig","objects","hideGear","selectable","selectionConfig","linkType","context","hidePaginationDetail","showThumbnails"],[3,"showThumbnails","numberOfResults"],[3,"message"],["queryParamsHandling","merge",3,"routerLink","queryParams"]],template:function(J,Q){1&J&&(t.DNE(0,j,6,3,"div",0),t.nI1(1,"async"),t.nI1(2,"async"),t.j41(3,"div",1),t.DNE(4,U,3,3,"h1",2)(5,$,1,1,"ds-search-export-csv",3),t.k0s(),t.DNE(6,k,2,11,"div",2)(7,K,1,2,"ds-search-results-skeleton",4)(8,X,2,3,"ds-error",5)(9,G,6,11,"div",2)),2&J&&(t.vxM(0,t.bMT(1,7,Q.activeFilters$).length>0&&0===t.bMT(2,9,Q.appliedFilters$).length?0:-1),t.R7$(4),t.Y8G("ngIf",!Q.disableHeader),t.R7$(),t.Y8G("ngIf",Q.showCsvExport),t.R7$(),t.Y8G("ngIf",Q.searchResults&&(null==Q.searchResults?null:Q.searchResults.hasSucceeded)&&!(null!=Q.searchResults&&Q.searchResults.isLoading)&&(null==Q.searchResults||null==Q.searchResults.payload?null:Q.searchResults.payload.page.length)>0),t.R7$(),t.Y8G("ngIf",Q.isLoading()),t.R7$(),t.Y8G("ngIf",Q.showError()),t.R7$(),t.Y8G("ngIf",0===(null==Q.searchResults||null==Q.searchResults.payload?null:Q.searchResults.payload.page.length)||400===(null==Q.searchResults?null:Q.searchResults.statusCode)))},dependencies:[i.Jj,T.A,i.bT,h.Yq,h.Zm,p.h,u.Wk,D.w,w.b,e.h,e.D9],styles:["[_nghost-%COMP%]     .filter-badge-skeleton ngx-skeleton-loader .skeleton-loader{background-color:var(--bs-light);box-shadow:none;width:var(--ds-search-skeleton-filter-badge-width);height:var(--ds-search-skeleton-badge-height);margin-bottom:0;margin-right:calc(var(--bs-spacer) / 4)}[_nghost-%COMP%]     .filters-badge-skeleton-container{display:flex;max-height:var(--ds-search-skeleton-badge-height)}"],data:{animation:[S.qG,S.Ws]}})}}return z})()},14131:(F,b,n)=>{"use strict";n.d(b,{N:()=>S});var i=n(54438),f=(n(6238),n(1716),n(26292),n(78448),n(7581),n(8886));n(33550),n(42837);const _=["*"];function C(R,T){}let S=(()=>{class R extends f.J{constructor(){super(...arguments),this.inAndOutputNames=["linkType","searchResults","searchConfig","showCsvExport","showThumbnails","sortConfig","viewMode","configuration","disableHeader","selectable","context","hidePaginationDetail","selectionConfig","contentChange","deselectObject","selectObject"],this.contentChange=new i.bkB,this.deselectObject=new i.bkB,this.selectObject=new i.bkB}getComponentName(){return"SearchResultsComponent"}importThemedComponent(A){return n(18527)(`./${A}/app/shared/search/search-results/search-results.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,42837))}static{this.\u0275fac=(()=>{let A;return function(L){return(A||(A=i.xGo(R)))(L||R)}})()}static{this.\u0275cmp=i.VBU({type:R,selectors:[["ds-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:_,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(p,L){1&p&&(i.NAR(),i.DNE(0,C,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return R})()},93125:(F,b,n)=>{"use strict";n.r(b),n.d(b,{SearchSettingsComponent:()=>R});var i=n(60177),t=n(89417),u=n(41780),h=(n(6238),n(22978)),f=(n(39012),n(13955)),v=n(46580),E=n(80270),_=n(54438);function C(T,A){if(1&T&&(_.j41(0,"option",4),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&T){const p=A.$implicit,L=_.XpG(2);_.Y8G("value",p.field+","+p.direction.toString())("selected",p.field===(null==L.currentSortOption?null:L.currentSortOption.field)&&p.direction===(null==L.currentSortOption?null:L.currentSortOption.direction)?"selected":null),_.R7$(),_.SpI(" ",_.bMT(2,3,"sorting."+p.field+"."+p.direction)," ")}}function S(T,A){if(1&T){const p=_.RV6();_.j41(0,"ds-sidebar-dropdown",2),_.bIt("changed",function(D){_.eBV(p);const w=_.XpG();return _.Njj(w.reloadOrder(D))}),_.DNE(1,C,3,5,"option",3),_.k0s()}if(2&T){const p=_.XpG();_.Y8G("id","search-sidebar-sort")("label","search.sidebar.settings.sort-by"),_.R7$(),_.Y8G("ngForOf",p.sortOptionsList)}}let R=(()=>{class T{constructor(p,L){this.paginationService=p,this.searchConfigurationService=L}reloadOrder(p){const L=p.target.value.split(",");this.paginationService.updateRoute(this.searchConfigurationService.paginationID,{sortField:L[0],sortDirection:L[1],page:1})}static{this.\u0275fac=function(L){return new(L||T)(_.rXU(h.m),_.rXU(f.EN))}}static{this.\u0275cmp=_.VBU({type:T,selectors:[["ds-base-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},standalone:!0,features:[_.aNF],decls:7,vars:4,consts:[[1,"result-order-settings"],[3,"id","label","changed",4,"ngIf"],[3,"changed","id","label"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(L,D){1&L&&(_.qex(0),_.j41(1,"h3"),_.EFF(2),_.nI1(3,"translate"),_.k0s(),_.j41(4,"div",0),_.DNE(5,S,2,3,"ds-sidebar-dropdown",1),_.k0s(),_.nrm(6,"ds-page-size-selector"),_.bVm()),2&L&&(_.R7$(2),_.JRh(_.bMT(3,2,"search.sidebar.settings.title")),_.R7$(3),_.Y8G("ngIf",D.sortOptionsList))},dependencies:[i.bT,E.v,i.pM,t.YN,t.xH,t.y7,v.b,u.h,u.D9],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return T})()},1669:(F,b,n)=>{"use strict";n.d(b,{_:()=>f}),n(6238);var t=n(8886),e=(n(93125),n(54438));const h=["*"];function m(v,E){}let f=(()=>{class v extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["currentSortOption","sortOptionsList"]}getComponentName(){return"SearchSettingsComponent"}importThemedComponent(_){return n(60911)(`./${_}/app/shared/search/search-settings/search-settings.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,93125))}static{this.\u0275fac=(()=>{let _;return function(S){return(_||(_=e.xGo(v)))(S||v)}})()}static{this.\u0275cmp=e.VBU({type:v,selectors:[["ds-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:h,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,S){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return v})()},9897:(F,b,n)=>{"use strict";n.r(b),n.d(b,{SearchSidebarComponent:()=>D});var i=n(60177),t=n(54438),u=n(41780),e=n(96354),h=n(82640),f=(n(6238),n(39012)),v=n(35538),E=n(77909),C=(n(33550),n(75575)),S=n(1669),R=n(32541);function T(w,M){if(1&w){const x=t.RV6();t.j41(0,"ds-view-mode-switch",11),t.bIt("changeViewMode",function(U){t.eBV(x);const $=t.XpG();return t.Njj($.changeViewMode.emit(U))}),t.k0s()}if(2&w){const x=t.XpG();t.Y8G("viewModeList",x.viewModeList)}}function A(w,M){if(1&w){const x=t.RV6();t.j41(0,"ds-search-switch-configuration",12),t.bIt("changeConfiguration",function(U){t.eBV(x);const $=t.XpG();return t.Njj($.changeConfiguration.emit(U))}),t.k0s()}if(2&w){const x=t.XpG();t.Y8G("configurationList",x.configurationList)("defaultConfiguration",x.configuration)("inPlaceSearch",x.inPlaceSearch)}}function p(w,M){if(1&w&&(t.nrm(0,"ds-advanced-search",13),t.nI1(1,"async")),2&w){let x;const j=t.XpG();t.Y8G("configuration",j.configuration)("filtersConfig",null==(x=t.bMT(1,3,j.filters))?null:x.payload)("scope",j.currentScope)}}function L(w,M){if(1&w&&t.nrm(0,"ds-search-settings",14),2&w){const x=t.XpG();t.Y8G("currentSortOption",x.currentSortOption)("sortOptionsList",x.sortOptionsList)}}let D=(()=>{class w{constructor(x,j){this.appConfig=x,this.searchConfigurationService=j,this.showViewModes=!0,this.inPlaceSearch=!0,this.toggleSidebar=new t.bkB,this.changeConfiguration=new t.bkB,this.changeViewMode=new t.bkB}ngOnInit(){this.showAdvancedSearch$=this.searchConfigurationService.getConfigurationAdvancedSearchFilters(this.configuration,this.currentScope).pipe((0,e.T)(x=>this.appConfig.search.advancedFilters.enabled&&x.length>0))}static{this.\u0275fac=function(j){return new(j||w)(t.rXU(h.vQ),t.rXU(f.g))}}static{this.\u0275cmp=t.VBU({type:w,selectors:[["ds-base-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},standalone:!0,features:[t.aNF],decls:18,vars:21,consts:[["id","sidebar-options",1,"d-block","d-md-none","search-controls","clearfix"],[1,"results"],["aria-controls","search-content",1,"btn","btn-outline-primary","float-end","close-sidebar",3,"click"],[1,"fas","fa-arrow-right"],["id","search-sidebar-content"],["class","d-none d-md-block",3,"viewModeList","changeViewMode",4,"ngIf"],[1,"sidebar-content"],[3,"configurationList","defaultConfiguration","inPlaceSearch","changeConfiguration",4,"ngIf"],[3,"currentScope","currentConfiguration","filters","refreshFilters","inPlaceSearch"],[3,"configuration","filtersConfig","scope",4,"ngIf"],[3,"currentSortOption","sortOptionsList",4,"ngIf"],[1,"d-none","d-md-block",3,"changeViewMode","viewModeList"],[3,"changeConfiguration","configurationList","defaultConfiguration","inPlaceSearch"],[3,"configuration","filtersConfig","scope"],[3,"currentSortOption","sortOptionsList"]],template:function(j,U){1&j&&(t.j41(0,"div")(1,"div",0)(2,"small",1),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",2),t.nI1(6,"translate"),t.bIt("click",function(){return U.toggleSidebar.emit()}),t.nrm(7,"i",3),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.j41(10,"div",4),t.DNE(11,T,1,1,"ds-view-mode-switch",5),t.j41(12,"div",6),t.DNE(13,A,1,3,"ds-search-switch-configuration",7),t.nrm(14,"ds-search-filters",8),t.DNE(15,p,2,5,"ds-advanced-search",9),t.nI1(16,"async"),t.DNE(17,L,1,2,"ds-search-settings",10),t.k0s()()()),2&j&&(t.R7$(3),t.Lme("",U.resultCount," ",t.bMT(4,13,"search.sidebar.results"),""),t.R7$(2),t.BMQ("aria-label",t.bMT(6,15,"search.sidebar.close")),t.R7$(3),t.SpI(" ",t.bMT(9,17,"search.sidebar.close")," "),t.R7$(3),t.Y8G("ngIf",U.showViewModes),t.R7$(2),t.Y8G("ngIf",U.configurationList),t.R7$(),t.Y8G("currentScope",U.currentScope)("currentConfiguration",U.configuration)("filters",U.filters)("refreshFilters",U.refreshFilters)("inPlaceSearch",U.inPlaceSearch),t.R7$(),t.Y8G("ngIf",U.inPlaceSearch&&!0===t.bMT(16,19,U.showAdvancedSearch$)),t.R7$(2),t.Y8G("ngIf",U.inPlaceSearch))},dependencies:[i.bT,v.g,R.o,C.k,S._,u.h,u.D9,E.Q,i.Jj],styles:["[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{line-height:var(--ds-button-height)}[_nghost-%COMP%]   ds-view-mode-switch[_ngcontent-%COMP%]{margin-bottom:var(--bs-spacer)}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child):not(ds-search-switch-configuration){margin-bottom:calc(4 * var(--bs-spacer));display:block}[_nghost-%COMP%]   ds-search-switch-configuration[_ngcontent-%COMP%]{margin-bottom:calc(2 * var(--bs-spacer));display:block}"]})}}return w})()},79443:(F,b,n)=>{"use strict";n.d(b,{p:()=>v});var i=n(54438),u=(n(6238),n(8886));n(33550),n(9897);const m=["*"];function f(E,_){}let v=(()=>{class E extends u.J{constructor(){super(...arguments),this.toggleSidebar=new i.bkB,this.changeConfiguration=new i.bkB,this.changeViewMode=new i.bkB,this.inAndOutputNames=["configuration","configurationList","currentScope","currentSortOption","resultCount","filters","viewModeList","showViewModes","inPlaceSearch","searchOptions","sortOptionsList","refreshFilters","toggleSidebar","changeConfiguration","changeViewMode"]}getComponentName(){return"SearchSidebarComponent"}importThemedComponent(C){return n(98587)(`./${C}/app/shared/search/search-sidebar/search-sidebar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,9897))}static{this.\u0275fac=(()=>{let C;return function(R){return(C||(C=i.xGo(E)))(R||E)}})()}static{this.\u0275cmp=i.VBU({type:E,selectors:[["ds-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(S,R){1&S&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return E})()},32541:(F,b,n)=>{"use strict";n.d(b,{o:()=>A});var i=n(60177),t=n(54438),u=n(89417),e=n(41780),h=n(48376),m=n.n(h),f=n(78655),E=(n(39012),n(13955)),_=n(82777),C=n(30506),S=n(7901);function R(p,L){if(1&p&&(t.j41(0,"option",5),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&p){const D=L.$implicit;t.Y8G("ngValue",D),t.R7$(),t.SpI(" ",t.bMT(2,2,D.label)," ")}}function T(p,L){if(1&p){const D=t.RV6();t.j41(0,"div",1)(1,"h3",2),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"select",3),t.mxI("ngModelChange",function(M){t.eBV(D);const x=t.XpG();return t.DH7(x.selectedOption,M)||(x.selectedOption=M),t.Njj(M)}),t.bIt("change",function(){t.eBV(D);const M=t.XpG();return t.Njj(M.onSelect())}),t.DNE(5,R,3,4,"option",4),t.k0s()()}if(2&p){const D=t.XpG();t.R7$(2),t.JRh(t.bMT(3,4,"search.switch-configuration.title")),t.R7$(2),t.Y8G("compareWith",D.compare),t.R50("ngModel",D.selectedOption),t.R7$(),t.Y8G("ngForOf",D.configurationList)}}let A=(()=>{class p{constructor(D,w,M){this.router=D,this.searchService=w,this.searchConfigService=M,this.configurationList=[],this.changeConfiguration=new t.bkB}ngOnInit(){this.searchConfigService.getCurrentConfiguration(this.defaultConfiguration).subscribe(D=>{const w=m()(this.configurationList,{value:D});this.selectedOption=this.configurationList[w]})}onSelect(){const D={queryParams:{configuration:this.selectedOption.value}};this.changeConfiguration.emit(this.selectedOption),this.router.navigate(this.getSearchLinkParts(),D)}compare(D,w){return D===w}ngOnDestroy(){(0,_.a4)(this.sub)&&this.sub.unsubscribe()}getSearchLink(){return this.inPlaceSearch?(0,C.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.searchService?[]:this.getSearchLink().split("/")}static{this.\u0275fac=function(w){return new(w||p)(t.rXU(S.Ix),t.rXU(f.S),t.rXU(E.EN))}}static{this.\u0275cmp=t.VBU({type:p,selectors:[["ds-search-switch-configuration"]],inputs:{inPlaceSearch:"inPlaceSearch",configurationList:"configurationList",defaultConfiguration:"defaultConfiguration"},outputs:{changeConfiguration:"changeConfiguration"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[["class","search-switch-configuration",4,"ngIf"],[1,"search-switch-configuration"],["id","configuration-switch"],["aria-labelledby","configuration-switch",1,"form-select",3,"ngModelChange","change","compareWith","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(w,M){1&w&&t.DNE(0,T,6,6,"div",0),2&w&&t.Y8G("ngIf",(null==M.configurationList?null:M.configurationList.length)>1)},dependencies:[i.bT,u.YN,u.xH,u.y7,u.wz,u.BC,u.vS,i.pM,e.h,e.D9]})}}return p})()},77766:(F,b,n)=>{"use strict";n.r(b),n.d(b,{SearchComponent:()=>Be});var i=n(60177),t=n(54438),u=n(7901),e=n(41780),h=n(59519),m=n.n(h),f=n(84412),v=n(84572),E=n(23294),_=n(96354),C=n(25558),S=n(5964),R=n(70152),T=n(82640),A=n(88280),p=n(64611),L=n(54671),D=n(56760),w=n(26292),M=n(80183),x=n(78655),U=(n(39012),n(90887)),$=n(13955),k=n(10214),K=n(82777),X=n(57538),q=(n(7581),n(18016)),z=n(50919),te=n(52600),Z=n(67600),J=n(30506),Q=n(35538),ee=n(33550),le=n(55366),ne=n(14131),fe=n(79443);const se=[[["","searchContentTop",""]],[["","additionalSearchOptions",""]]],ce=["[searchContentTop]","[additionalSearchOptions]"];function Te(ut,un){}function be(ut,un){1&ut&&t.DNE(0,Te,0,0,"ng-template")}function me(ut,un){if(1&ut&&(t.j41(0,"div",6)(1,"div",7)(2,"div",8),t.DNE(3,be,1,0,null,9),t.k0s()()()),2&ut){t.XpG();const rn=t.sdS(11);t.R7$(3),t.Y8G("ngTemplateOutlet",rn)}}function re(ut,un){}function Ee(ut,un){1&ut&&t.DNE(0,re,0,0,"ng-template")}function De(ut,un){if(1&ut&&(t.j41(0,"div"),t.DNE(1,Ee,1,0,null,9),t.k0s()),2&ut){t.XpG();const rn=t.sdS(7);t.R7$(),t.Y8G("ngTemplateOutlet",rn)}}function tt(ut,un){}function ht(ut,un){1&ut&&t.DNE(0,tt,0,0,"ng-template")}function Fe(ut,un){if(1&ut&&(t.j41(0,"ds-page-with-sidebar",10),t.DNE(1,ht,1,0,null,9),t.k0s()),2&ut){const rn=t.XpG(),Pn=t.sdS(7),yt=t.sdS(9);t.Y8G("id","search-page")("sideBarWidth",rn.sideBarWidth)("sidebarContent",yt),t.R7$(),t.Y8G("ngTemplateOutlet",Pn)}}function Et(ut,un){}function Ye(ut,un){1&ut&&t.DNE(0,Et,0,0,"ng-template")}function pt(ut,un){if(1&ut&&(t.qex(0),t.DNE(1,Ye,1,0,null,9),t.bVm()),2&ut){t.XpG(3);const rn=t.sdS(11);t.R7$(),t.Y8G("ngTemplateOutlet",rn)}}function Mt(ut,un){if(1&ut&&(t.j41(0,"div",8),t.DNE(1,pt,2,1,"ng-container",4),t.SdG(2,1),t.k0s()),2&ut){const rn=t.XpG(2);t.R7$(),t.Y8G("ngIf",rn.searchEnabled)}}function Ne(ut,un){if(1&ut&&t.nrm(0,"ds-view-mode-switch",18),2&ut){const rn=t.XpG(2);t.Y8G("viewModeList",rn.viewModeList)("inPlaceSearch",rn.inPlaceSearch)}}function ot(ut,un){if(1&ut){const rn=t.RV6();t.j41(0,"ds-search-results",19),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.bIt("contentChange",function(yt){t.eBV(rn);const Kt=t.XpG(2);return t.Njj(Kt.onContentChange(yt))})("deselectObject",function(yt){t.eBV(rn);const Kt=t.XpG(2);return t.Njj(Kt.deselectObject.emit(yt))})("selectObject",function(yt){t.eBV(rn);const Kt=t.XpG(2);return t.Njj(Kt.selectObject.emit(yt))}),t.k0s()}if(2&ut){const rn=t.XpG(2);t.Y8G("searchResults",t.bMT(1,10,rn.resultsRD$))("searchConfig",t.bMT(2,12,rn.searchOptions$))("configuration",t.bMT(3,14,rn.currentConfiguration$))("disableHeader",!rn.searchEnabled)("linkType",rn.linkType)("context",t.bMT(4,16,rn.currentContext$))("selectable",rn.selectable)("selectionConfig",rn.selectionConfig)("showCsvExport",rn.showCsvExport)("showThumbnails",rn.showThumbnails)}}function Gt(ut,un){if(1&ut){const rn=t.RV6();t.j41(0,"div",7),t.DNE(1,Mt,3,1,"div",11),t.nI1(2,"async"),t.j41(3,"div",12)(4,"div",13),t.DNE(5,Ne,1,2,"ds-view-mode-switch",14),t.j41(6,"button",15),t.bIt("click",function(){t.eBV(rn);const yt=t.XpG();return t.Njj(yt.openSidebar())}),t.nrm(7,"i",16),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.SdG(10),t.DNE(11,ot,5,18,"ds-search-results",17),t.k0s()()}if(2&ut){const rn=t.XpG();t.R7$(),t.Y8G("ngIf",!0!==t.bMT(2,4,rn.isXsOrSm$)),t.R7$(4),t.Y8G("ngIf",rn.inPlaceSearch&&rn.showViewModes),t.R7$(3),t.SpI(" ",t.bMT(9,6,"search.sidebar.open")," "),t.R7$(3),t.Y8G("ngIf",rn.inPlaceSearch)}}function Zt(ut,un){if(1&ut){const rn=t.RV6();t.j41(0,"ds-search-sidebar",22),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("changeConfiguration",function(yt){t.eBV(rn);const Kt=t.XpG(2);return t.Njj(Kt.changeContext(yt.context))})("changeViewMode",function(){t.eBV(rn);const yt=t.XpG(2);return t.Njj(yt.changeViewMode)}),t.k0s()}if(2&ut){let rn;const Pn=t.XpG(2);t.Y8G("configurationList",Pn.configurationList)("configuration",t.bMT(1,12,Pn.currentConfiguration$))("currentScope",t.bMT(2,14,Pn.currentScope$))("filters",Pn.filtersRD$.asObservable())("refreshFilters",Pn.refreshFilters)("resultCount",null==(rn=t.bMT(3,16,Pn.resultsRD$))||null==rn.payload?null:rn.payload.totalElements)("searchOptions",t.bMT(4,18,Pn.searchOptions$))("sortOptionsList",t.bMT(5,20,Pn.sortOptionsList$))("currentSortOption",t.bMT(6,22,Pn.currentSortOptions$))("inPlaceSearch",Pn.inPlaceSearch)("viewModeList",Pn.viewModeList)("showViewModes",Pn.showViewModes)}}function mt(ut,un){if(1&ut){const rn=t.RV6();t.j41(0,"ds-search-sidebar",23),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("toggleSidebar",function(){t.eBV(rn);const yt=t.XpG(2);return t.Njj(yt.closeSidebar())})("changeConfiguration",function(yt){t.eBV(rn);const Kt=t.XpG(2);return t.Njj(Kt.changeContext(yt.context))})("changeViewMode",function(){t.eBV(rn);const yt=t.XpG(2);return t.Njj(yt.changeViewMode())}),t.k0s()}if(2&ut){let rn;const Pn=t.XpG(2);t.Y8G("configurationList",Pn.configurationList)("configuration",t.bMT(1,12,Pn.currentConfiguration$))("currentScope",t.bMT(2,14,Pn.currentScope$))("filters",Pn.filtersRD$.asObservable())("refreshFilters",Pn.refreshFilters)("resultCount",null==(rn=t.bMT(3,16,Pn.resultsRD$))||null==rn.payload?null:rn.payload.totalElements)("searchOptions",t.bMT(4,18,Pn.searchOptions$))("sortOptionsList",t.bMT(5,20,Pn.sortOptionsList$))("currentSortOption",t.bMT(6,22,Pn.currentSortOptions$))("inPlaceSearch",Pn.inPlaceSearch)("viewModeList",Pn.viewModeList)("showViewModes",Pn.showViewModes)}}function Pt(ut,un){if(1&ut&&(t.DNE(0,Zt,7,24,"ds-search-sidebar",20),t.nI1(1,"async"),t.DNE(2,mt,7,24,"ds-search-sidebar",21),t.nI1(3,"async")),2&ut){const rn=t.XpG();t.Y8G("ngIf",!0!==t.bMT(1,2,rn.isXsOrSm$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,rn.isXsOrSm$))}}function Ce(ut,un){if(1&ut){const rn=t.RV6();t.j41(0,"ds-search-form",24),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("submitSearch",function(yt){t.eBV(rn);const Kt=t.XpG();return t.Njj(Kt.onSubmitSearch(yt))}),t.k0s(),t.j41(4,"div",25)(5,"div",26),t.nrm(6,"ds-search-labels",27),t.k0s()()}if(2&ut){let rn,Pn;const yt=t.XpG();t.Y8G("query",null==(rn=t.bMT(1,8,yt.searchOptions$))?null:rn.query)("scope",null==(Pn=t.bMT(2,10,yt.searchOptions$))?null:Pn.scope)("hideScopeInUrl",yt.hideScopeInUrl)("currentUrl",yt.searchLink)("showScopeSelector",yt.showScopeSelector)("inPlaceSearch",yt.inPlaceSearch)("searchPlaceholder",t.bMT(3,12,yt.searchFormPlaceholder)),t.R7$(6),t.Y8G("inPlaceSearch",yt.inPlaceSearch)}}let Be=(()=>{class ut{constructor(rn,Pn,yt,Kt,Rt,nn,gn,St){this.service=rn,this.sidebarService=Pn,this.windowService=yt,this.searchConfigService=Kt,this.routeService=Rt,this.router=nn,this.appConfig=gn,this.platformId=St,this.configurationList=[],this.context=w.o.Search,this.useCachedVersionIfAvailable=!0,this.inPlaceSearch=!0,this.paginationId="spc",this.searchEnabled=!0,this.sideBarWidth=3,this.searchFormPlaceholder="search.search-form.placeholder",this.selectable=!1,this.showCsvExport=!1,this.showSidebar=!0,this.showViewModes=!0,this.showScopeSelector=!0,this.trackStatistics=!1,this.currentConfiguration$=new f.t(""),this.currentContext$=new f.t(null),this.currentSortOptions$=new f.t(null),this.filtersRD$=new f.t(null),this.resultsRD$=new f.t(null),this.searchOptions$=new f.t(null),this.sortOptionsList$=new f.t([]),this.initialized$=new f.t(!1),this.refreshFilters=new f.t(!1),this.uuidRegex=/\b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b/g,this.allowedObjectPaths=["entities",U.xb,p.CC,L.b2],this.subs=[],this.resultFound=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.isXsOrSm$=this.windowService.isXsOrSm()}ngOnInit(){if(!this.renderOnServerSide&&!A.c.ssr.enableSearchComponent&&(0,i.Vy)(this.platformId))return this.subs.push(this.getSearchOptions().pipe((0,E.F)()).subscribe(Rt=>{this.searchOptions$.next(Rt)})),void this.initialized$.next(!0);this.useUniquePageId&&(this.paginationId=m()(this.paginationId)),this.searchConfigService.setPaginationId(this.paginationId),(0,K.a4)(this.configuration)&&this.routeService.setParameter("configuration",this.configuration),(0,K.a4)(this.fixedFilterQuery)&&this.routeService.setParameter("fixedFilterQuery",this.fixedFilterQuery),this.currentScope$=this.routeService.getQueryParameterValue("scope").pipe((0,_.T)(Rt=>(0,K.a4)(Rt)?Rt:this.scope??"")),this.isSidebarCollapsed$=this.isSidebarCollapsed(),this.searchLink=this.getSearchLink(),this.currentContext$.next(this.context);const rn=this.searchConfigService.getCurrentConfiguration(this.configuration).pipe((0,E.F)()),Pn=(0,v.z)([rn,this.currentScope$]).pipe((0,C.n)(([Rt,nn])=>this.searchConfigService.getConfigurationSearchConfig(Rt,nn)),(0,_.T)(Rt=>this.searchConfigService.getConfigurationSortOptions(Rt)),(0,E.F)()),yt=Pn.pipe((0,C.n)(Rt=>this.searchConfigService.getCurrentSort(this.paginationId,Rt[0])),(0,E.F)()),Kt=this.getSearchOptions().pipe((0,E.F)());this.subs.push((0,v.z)([rn,Pn,Kt,yt,this.currentScope$]).pipe((0,S.p)(([Rt,nn,gn,St,zt])=>gn.pagination.id===this.paginationId),(0,R.B)(100)).subscribe(([Rt,nn,gn,St,zt])=>{const Yt=Object.assign({},gn,{configuration:gn.configuration||Rt,sort:St||gn.sort});""===Yt.query&&(Yt.query=this.query),(0,K.Im)(Yt.scope)&&(Yt.scope=zt);const wt=new ee.C(Yt);JSON.stringify(wt)!==JSON.stringify(this.searchOptions$.value)&&(this.currentConfiguration$.next(Rt),this.currentSortOptions$.next(wt.sort),this.sortOptionsList$.next(nn),this.searchOptions$.next(wt),this.initialized$.next(!0),this.retrieveSearchResults(wt),this.retrieveFilters(wt))})),this.subscribeToRoutingEvents()}changeContext(rn){this.currentContext$.next(rn)}closeSidebar(){this.sidebarService.collapse()}changeViewMode(){this.resultsRD$.next(null)}openSidebar(){this.sidebarService.expand()}onContentChange(rn){this.retrieveFilters(this.lastSearchOptions),this.refreshFilters.next(!0)}onSubmitSearch(rn){const Pn=this.searchOptions$.value;if(Pn){const yt=Object.assign({},Pn,rn);this.searchOptions$.next(new ee.C(yt)),this.retrieveSearchResults(new ee.C(yt))}}ngOnDestroy(){this.subs.filter(rn=>(0,K.a4)(rn)).forEach(rn=>rn.unsubscribe())}getSearchOptions(){return this.searchConfigService.paginatedSearchOptions}retrieveFilters(rn){this.searchConfigService.getConfig(rn.scope,rn.configuration).pipe((0,M.qD)()).subscribe(Pn=>{this.filtersRD$.next(Pn)})}retrieveSearchResults(rn){this.resultsRD$.next(null),this.lastSearchOptions=rn;const Pn=[(0,Z.s)("thumbnail",{isOptional:!0}),(0,Z.s)("item",{isOptional:!0},(0,Z.s)("thumbnail",{isOptional:!0}))];this.appConfig.item.showAccessStatuses&&Pn.push((0,Z.s)("accessStatus",{isOptional:!0})),"supervision"===this.configuration&&Pn.push((0,Z.s)("supervisionOrders",{isOptional:!0}));const yt=Object.assign(new ee.C({}),rn);(0,K.hj)(this.hiddenQuery)&&(yt.query=(0,K.hj)(yt.query)?yt.query+" AND "+this.hiddenQuery:this.hiddenQuery),this.service.search(yt,void 0,this.useCachedVersionIfAvailable,!0,...Pn).pipe((0,M.qD)()).subscribe(Kt=>{Kt.hasSucceeded&&(this.trackStatistics&&this.service.trackSearch(yt,Kt.payload),Kt.payload?.page?.length>0&&this.resultFound.emit(Kt.payload)),this.resultsRD$.next(Kt)})}subscribeToRoutingEvents(){this.trackStatistics&&this.subs.push(this.router.events.pipe((0,S.p)(rn=>rn instanceof u.Z),(0,_.T)(rn=>this.getDsoUUIDFromUrl(rn.url)),(0,K.Az)()).subscribe(rn=>{this.resultsRD$.value.hasSucceeded&&this.service.trackSearch(this.searchOptions$.value,this.resultsRD$.value.payload,rn)}))}getDsoUUIDFromUrl(rn){if((0,K.hj)(rn)&&this.allowedObjectPaths.some(Pn=>rn.startsWith(`/${Pn}`))){const Pn=rn.substring(rn.lastIndexOf("/")+1);if(Pn.match(this.uuidRegex))return Pn}return null}isSidebarCollapsed(){return this.sidebarService.isCollapsed}getSearchLink(){return this.inPlaceSearch?(0,J.N)(this.router):this.service.getSearchLink()}static{this.\u0275fac=function(Pn){return new(Pn||ut)(t.rXU(x.S),t.rXU(te.o),t.rXU(X.CV),t.rXU($.EN),t.rXU(D.v$),t.rXU(u.Ix),t.rXU(T.vQ),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:ut,selectors:[["ds-base-search"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",hiddenQuery:"hiddenQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl",renderOnServerSide:"renderOnServerSide"},outputs:{resultFound:"resultFound",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],ngContentSelectors:ce,decls:12,vars:9,consts:[["searchContent",""],["sidebarContent",""],["searchForm",""],["class","container",4,"ngIf"],[4,"ngIf"],[3,"id","sideBarWidth","sidebarContent",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],[3,"id","sideBarWidth","sidebarContent"],["class","col-12",4,"ngIf"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch",4,"ngIf"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-end","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails","contentChange","deselectObject","selectObject",4,"ngIf"],[3,"viewModeList","inPlaceSearch"],[3,"contentChange","deselectObject","selectObject","searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar",3,"changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"toggleSidebar","changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-form",3,"submitSearch","query","scope","hideScopeInUrl","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-12"],[3,"inPlaceSearch"]],template:function(Pn,yt){1&Pn&&(t.NAR(se),t.DNE(0,me,4,1,"div",3),t.nI1(1,"async"),t.DNE(2,De,2,1,"div",4),t.nI1(3,"async"),t.DNE(4,Fe,2,4,"ds-page-with-sidebar",5),t.nI1(5,"async"),t.DNE(6,Gt,12,8,"ng-template",null,0,t.C5r)(8,Pt,4,6,"ng-template",null,1,t.C5r)(10,Ce,7,14,"ng-template",null,2,t.C5r)),2&Pn&&(t.Y8G("ngIf",yt.searchEnabled&&t.bMT(1,3,yt.isXsOrSm$)),t.R7$(2),t.Y8G("ngIf",!yt.showSidebar&&t.bMT(3,5,yt.initialized$)),t.R7$(2),t.Y8G("ngIf",yt.showSidebar&&t.bMT(5,7,yt.initialized$)))},dependencies:[i.Jj,i.bT,i.T3,z.f,q.d,ne.N,fe.p,e.h,e.D9,le.L,Q.g],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}[_nghost-%COMP%]{--bs-gutter-x: .75rem}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[k.W]},changeDetection:0})}}return ut})()},54196:(F,b,n)=>{"use strict";n.d(b,{SB:()=>t,gp:()=>e,mq:()=>h});var i=n(82777);function t(m,f){const v=new RegExp(`[?|&]${u(encodeURIComponent(f.paramName))}=(${u(encodeURIComponent(m.value))}[^&]*)`,"g");if((0,i.hj)(m._links)){const E=v.exec(m._links.search.href);if((0,i.hj)(E))return decodeURIComponent(E[1])}return m.authorityKey?h(m.authorityKey,"authority"):h(m.value,"equals")}function u(m){return m.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function e(m){return m.match(new RegExp(".+,(equals|query|authority)$"))?m.substring(0,m.lastIndexOf(",")):m}function h(m,f){return m.match(new RegExp("^.+,(equals|query|authority|contains|notcontains|notequals)$"))?m:`${m},${f}`}},54992:(F,b,n)=>{"use strict";n.d(b,{N:()=>v});var i=n(54438),e=(n(26292),n(7581),n(8886));n(77766);const m=["*"];function f(E,_){}let v=(()=>{class E extends e.J{constructor(){super(...arguments),this.inAndOutputNames=["configurationList","context","configuration","fixedFilterQuery","hiddenQuery","useCachedVersionIfAvailable","inPlaceSearch","linkType","paginationId","searchEnabled","sideBarWidth","searchFormPlaceholder","selectable","selectionConfig","showCsvExport","showSidebar","showThumbnails","showViewModes","useUniquePageId","viewModeList","showScopeSelector","trackStatistics","query","scope","hideScopeInUrl","resultFound","deselectObject","selectObject"],this.resultFound=new i.bkB,this.deselectObject=new i.bkB,this.selectObject=new i.bkB}getComponentName(){return"SearchComponent"}importThemedComponent(C){return n(13390)(`./${C}/app/shared/search/search.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,77766))}static{this.\u0275fac=(()=>{let C;return function(R){return(C||(C=i.xGo(E)))(R||E)}})()}static{this.\u0275cmp=i.VBU({type:E,selectors:[["ds-search"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",hiddenQuery:"hiddenQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl"},outputs:{resultFound:"resultFound",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(S,R){1&S&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return E})()},50919:(F,b,n)=>{"use strict";n.d(b,{f:()=>_});var i=n(60177),t=n(96354),u=n(10214),e=n(57538),h=n(52600),m=n(54438);const f=["*"];function v(C,S){1&C&&m.eu8(0)}function E(C,S){if(1&C&&(m.j41(0,"div",4),m.nI1(1,"async"),m.nI1(2,"async"),m.nI1(3,"async"),m.DNE(4,v,1,0,"ng-container",5),m.k0s()),2&C){const R=m.XpG();m.STu("col-12 col-md-",R.sideBarWidth," sidebar-content ",m.bMT(1,9,R.sidebarClasses),""),m.AVh("invisible",!0===m.bMT(2,11,R.isSidebarCollapsed$)&&!0===m.bMT(3,13,R.isXsOrSm$)),m.Mz_("id","",R.id,"-sidebar-content"),m.R7$(4),m.Y8G("ngTemplateOutlet",R.sidebarContent)}}let _=(()=>{class C{constructor(R,T){this.sidebarService=R,this.windowService=T,this.sideBarWidth=3}ngOnInit(){this.isXsOrSm$=this.windowService.isXsOrSm(),this.isSidebarCollapsed$=this.isSidebarCollapsed(),this.sidebarClasses=this.isSidebarCollapsed$.pipe((0,t.T)(R=>R?"":"active"))}isSidebarCollapsed(){return this.sidebarService.isCollapsed}closeSidebar(){this.sidebarService.collapse()}openSidebar(){this.sidebarService.expand()}static{this.\u0275fac=function(T){return new(T||C)(m.rXU(h.o),m.rXU(e.CV))}}static{this.\u0275cmp=m.VBU({type:C,selectors:[["ds-page-with-sidebar"]],inputs:{id:"id",sidebarContent:"sidebarContent",sideBarWidth:"sideBarWidth"},standalone:!0,features:[m.aNF],ngContentSelectors:f,decls:9,vars:15,consts:[[1,"container"],[1,"row"],[1,"row-with-sidebar","row-offcanvas","row-offcanvas-left","px-0"],[3,"id","invisible","class",4,"ngIf"],[3,"id"],[4,"ngTemplateOutlet"]],template:function(T,A){1&T&&(m.NAR(),m.j41(0,"div",0)(1,"div",1)(2,"div",2),m.nI1(3,"async"),m.DNE(4,E,5,15,"div",3),m.j41(5,"div"),m.nI1(6,"async"),m.nI1(7,"async"),m.SdG(8),m.k0s()()()()),2&T&&(m.R7$(2),m.Y8G("@pushInOut",m.bMT(3,9,A.isSidebarCollapsed$)?"collapsed":"expanded"),m.R7$(2),m.Y8G("ngIf",A.sideBarWidth>0),m.R7$(),m.ZvI("col-12 col-md-",12-A.sideBarWidth,""),m.AVh("px-0",0===A.sideBarWidth)("invisible",!0!==m.bMT(6,11,A.isSidebarCollapsed$)&&!0===m.bMT(7,13,A.isXsOrSm$)))},dependencies:[i.Jj,i.T3,i.bT],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}.row-with-sidebar.row-offcanvas[_ngcontent-%COMP%]{width:100%}.row-with-sidebar.row-offcanvas[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-right:calc(var(--bs-gutter-x) / 2);padding-left:calc(var(--bs-gutter-x) / 2)}@media (min-width: 768px){.row-with-sidebar[_ngcontent-%COMP%]{display:flex}}@media (max-width: 767.98px){.row-with-sidebar[_ngcontent-%COMP%], .row-with-sidebar.row-offcanvas[_ngcontent-%COMP%]{position:relative}.row-with-sidebar.row-offcanvas-right[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{right:-100%}.row-with-sidebar.row-offcanvas-left[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{left:-100%}.row-with-sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{position:absolute;top:0;width:100%}}@media (min-width: 768px){.sidebar-content[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:0;z-index:var(--bs-zindex-sticky);padding-top:var(--ds-content-spacing);margin-top:calc(-1 * var(--ds-content-spacing));align-self:flex-start;display:block}}"],data:{animation:[u.W]}})}}return C})()},80270:(F,b,n)=>{"use strict";n.d(b,{v:()=>e});var i=n(54438),t=n(41780);const u=["*"];let e=(()=>{class h{constructor(){this.changed=new i.bkB}static{this.\u0275fac=function(v){return new(v||h)}}static{this.\u0275cmp=i.VBU({type:h,selectors:[["ds-sidebar-dropdown"]],inputs:{id:"id",label:"label"},outputs:{changed:"changed"},standalone:!0,features:[i.aNF],ngContentSelectors:u,decls:7,vars:5,consts:[[1,"setting-option","mb-3","p-3"],[1,"form-label",3,"for"],[1,"form-select",3,"change","id"]],template:function(v,E){1&v&&(i.NAR(),i.j41(0,"div",0)(1,"h4")(2,"label",1),i.EFF(3),i.nI1(4,"translate"),i.k0s()(),i.j41(5,"select",2),i.bIt("change",function(C){return E.changed.emit(C)}),i.SdG(6),i.k0s()()),2&v&&(i.R7$(2),i.FS9("for",E.id),i.R7$(),i.JRh(i.bMT(4,3,E.label)),i.R7$(2),i.FS9("id",E.id))},dependencies:[t.h,t.D9],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return h})()},52680:(F,b,n)=>{"use strict";n.d(b,{EI:()=>u,Kd:()=>t,pm:()=>e});var i=n(91e3);const t={COLLAPSE:(0,i.N)("dspace/sidebar/COLLAPSE"),EXPAND:(0,i.N)("dspace/sidebar/EXPAND"),TOGGLE:(0,i.N)("dspace/sidebar/TOGGLE")};class u{constructor(){this.type=t.COLLAPSE}}class e{constructor(){this.type=t.EXPAND}}},52600:(F,b,n)=>{"use strict";n.d(b,{o:()=>E});var i=n(25499),t=n(84572),u=n(96354),e=n(57538),h=n(52680),m=n(54438);const v=(0,i.Mz)(_=>_.sidebar,_=>_.sidebarCollapsed);let E=(()=>{class _{constructor(S,R){this.store=S,this.windowService=R,this.isXsOrSm$=this.windowService.isXsOrSm(),this.isCollapsedInStore=this.store.pipe((0,i.Lt)(v))}get isCollapsed(){return(0,t.z)(this.isXsOrSm$,this.isCollapsedInStore).pipe((0,u.T)(([S,R])=>!S||R))}collapse(){this.store.dispatch(new h.EI)}expand(){this.store.dispatch(new h.pm)}static{this.\u0275fac=function(R){return new(R||_)(m.KVO(i.il),m.KVO(e.CV))}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},9274:(F,b,n)=>{"use strict";n.d(b,{P5:()=>p});var i=n(60177),t=n(89417),u=n(41780),e=n(82777),h=n(22978),m=n(19798),f=n(54438),v=n(7901);let E=(()=>{class L{constructor(w,M,x){this.paginationService=w,this.route=M,this.router=x,this.subs=[]}ngOnInit(){this.subs.push(this.route.queryParams.subscribe(w=>{(0,e.a4)(w.startsWith)&&this.setStartsWith(w.startsWith)})),this.formData=new t.J3({startsWith:new t.hs})}getStartsWith(){return this.startsWith}setStartsWith(w){this.startsWith=w}setStartsWithParam(w=!0){"-1"===this.startsWith&&(this.startsWith=void 0),w?this.paginationService.updateRoute(this.paginationId,{page:1},{startsWith:this.startsWith}):this.router.navigate([],{queryParams:Object.assign({startsWith:this.startsWith}),queryParamsHandling:"merge"})}submitForm(w){this.startsWith=w.startsWith,this.setStartsWithParam()}ngOnDestroy(){this.subs.filter(w=>(0,e.a4)(w)).forEach(w=>w.unsubscribe())}static{this.\u0275fac=function(M){return new(M||L)(f.rXU(h.m),f.rXU(v.nX),f.rXU(v.Ix))}}static{this.\u0275cmp=f.VBU({type:L,selectors:[["ds-start-with-abstract"]],inputs:{paginationId:"paginationId",startsWithOptions:"startsWithOptions",type:"type"},decls:0,vars:0,template:function(M,x){},encapsulation:2})}}return L})();function _(L,D){if(1&L&&(f.j41(0,"option",5),f.EFF(1),f.k0s()),2&L){const w=D.$implicit,M=f.XpG();f.Y8G("value",w)("selected",w===M.startsWithYear?"selected":null),f.R7$(),f.SpI(" ",w," ")}}function C(L,D){if(1&L&&(f.j41(0,"option",5),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&L){const w=D.$implicit,M=f.XpG();f.Y8G("value",w)("selected",w===M.startsWithMonth?"selected":null),f.R7$(),f.SpI(" ",f.bMT(2,3,"browse.startsWith.months."+w)," ")}}let S=(()=>{class L extends E{constructor(){super(...arguments),this.startsWithMonth="none"}ngOnInit(){this.monthOptions=["none","january","february","march","april","may","june","july","august","september","october","november","december"],super.ngOnInit()}setStartsWithYearEvent(w){this.startsWithYear=+w.target.value,this.setStartsWithYearMonth(),this.setStartsWithParam(!0)}setStartsWithMonthEvent(w){this.startsWithMonth=w.target.value,this.setStartsWithYearMonth(),this.setStartsWithParam(!0)}getStartsWith(){const w=this.getStartsWithMonth();if(w>0&&(0,e.a4)(this.startsWithYear)&&-1!==this.startsWithYear){let M=""+w;return w<10&&(M=`0${w}`),`${this.startsWithYear}-${M}`}return(0,e.a4)(this.startsWithYear)&&this.startsWithYear>0?""+this.startsWithYear:void 0}setStartsWithYearMonth(){this.startsWith=this.getStartsWith()}setStartsWith(w){if(this.startsWith=w,(0,e.a4)(w)&&w.indexOf("-")>-1){const M=w.split("-");this.startsWithYear=+M[0];const x=+M[1];this.startsWithMonth=x<this.monthOptions.length?this.monthOptions[x]:this.monthOptions[0]}else this.startsWithYear=+w}getStartsWithMonth(){return this.monthOptions.indexOf(this.startsWithMonth)}static{this.\u0275fac=(()=>{let w;return function(x){return(w||(w=f.xGo(L)))(x||L)}})()}static{this.\u0275cmp=f.VBU({type:L,selectors:[["ds-starts-with-date"]],standalone:!0,features:[f.Vt3,f.aNF],decls:25,vars:27,consts:[[1,"w-100",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12","fw-bold","mb-1"],[1,"col-6","col-md-2"],["id","year-select",1,"form-select",3,"change"],[3,"value","selected"],[3,"value","selected",4,"ngFor","ngForOf"],["id","month-select",1,"form-select",3,"change"],[1,"col-12","col-md-6"],[1,"mb-3","input-group","pt-1","pt-md-0"],["type","text","name","startsWith","formControlName","startsWith",1,"form-control",3,"placeholder","value"],["type","submit",1,"btn","btn-primary"],[1,"fas","fa-book-open"]],template:function(M,x){1&M&&(f.j41(0,"form",0),f.bIt("ngSubmit",function(){return x.submitForm(x.formData.value)}),f.j41(1,"div",1)(2,"span",2),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.j41(5,"div",3)(6,"select",4),f.nI1(7,"translate"),f.bIt("change",function(U){return x.setStartsWithYearEvent(U)}),f.j41(8,"option",5),f.EFF(9),f.nI1(10,"translate"),f.k0s(),f.DNE(11,_,2,3,"option",6),f.k0s()(),f.j41(12,"div",3)(13,"select",7),f.nI1(14,"translate"),f.bIt("change",function(U){return x.setStartsWithMonthEvent(U)}),f.DNE(15,C,3,5,"option",6),f.k0s()(),f.j41(16,"div",8)(17,"div",9),f.nrm(18,"input",10),f.nI1(19,"translate"),f.nI1(20,"translate"),f.j41(21,"button",11),f.nrm(22,"i",12),f.EFF(23),f.nI1(24,"translate"),f.k0s()()()()()),2&M&&(f.Y8G("formGroup",x.formData),f.R7$(3),f.SpI(" ",f.bMT(4,13,"browse.startsWith.jump")," "),f.R7$(3),f.BMQ("aria-label",f.bMT(7,15,"browse.startsWith.choose_year.label")),f.R7$(2),f.Y8G("value",-1)("selected",!x.startsWithYear),f.R7$(),f.SpI(" ",f.bMT(10,17,"browse.startsWith.choose_year")," "),f.R7$(2),f.Y8G("ngForOf",x.startsWithOptions),f.R7$(2),f.BMQ("aria-label",f.bMT(14,19,"browse.startsWith.months.none.label")),f.R7$(2),f.Y8G("ngForOf",x.monthOptions),f.R7$(3),f.FS9("placeholder",f.bMT(19,21,"browse.startsWith.type_date")),f.Y8G("value",x.getStartsWith()?x.getStartsWith():""),f.BMQ("aria-label",f.bMT(20,23,"browse.startsWith.type_date.label")),f.R7$(5),f.SpI(" ",f.bMT(24,25,"browse.startsWith.submit"),""))},dependencies:[t.YN,t.qT,t.xH,t.y7,t.me,t.BC,t.cb,t.X1,t.j4,t.JD,i.pM,u.h,u.D9],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}"]})}}return L})();const T=new Map([[m.c.text,(()=>{class L extends E{getStartsWith(){return(0,e.a4)(this.startsWith)?this.startsWith:""}setStartsWithParam(w=!0){"0-9"===this.startsWith&&(this.startsWith="0"),super.setStartsWithParam(w)}static{this.\u0275fac=(()=>{let w;return function(x){return(w||(w=f.xGo(L)))(x||L)}})()}static{this.\u0275cmp=f.VBU({type:L,selectors:[["ds-starts-with-text"]],standalone:!0,features:[f.Vt3,f.aNF],decls:14,vars:14,consts:[[1,"w-100",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"row"],[1,"mb-3","input-group","col-sm-12","col-md-6","col-auto"],["type","text","name","startsWith","formControlName","startsWith",1,"form-control",3,"placeholder","value"],["type","submit",1,"btn","btn-primary"],[1,"fas","fa-book-open"],[1,"text-muted"]],template:function(M,x){1&M&&(f.j41(0,"form",0),f.bIt("ngSubmit",function(){return x.submitForm(x.formData.value)}),f.j41(1,"div",1)(2,"div",2)(3,"div",3),f.nrm(4,"input",4),f.nI1(5,"translate"),f.nI1(6,"translate"),f.j41(7,"button",5),f.nrm(8,"i",6),f.EFF(9),f.nI1(10,"translate"),f.k0s()()(),f.j41(11,"small",7),f.EFF(12),f.nI1(13,"translate"),f.k0s()()()),2&M&&(f.Y8G("formGroup",x.formData),f.R7$(4),f.FS9("placeholder",f.bMT(5,6,"browse.search-form.placeholder")),f.Y8G("value",x.getStartsWith()),f.BMQ("aria-label",f.bMT(6,8,"browse.startsWith.input")),f.R7$(5),f.SpI(" ",f.bMT(10,10,"browse.startsWith.submit"),""),f.R7$(3),f.JRh(f.bMT(13,12,"browse.startsWith.type_text")))},dependencies:[t.YN,t.qT,t.me,t.BC,t.cb,t.X1,t.j4,t.JD,u.h,u.D9],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:0}"]})}}return L})()],[m.c.date,S]]);function p(L){return T.get(L)}},31956:(F,b,n)=>{"use strict";n.d(b,{u:()=>m});var i=n(22924),t=n(9274),e=(n(19798),n(54438));function h(f,v){}let m=(()=>{class f extends i.e{constructor(){super(...arguments),this.inputNames=[...this.inputNames,"paginationId","startsWithOptions","type"]}getComponent(){return(0,t.P5)(this.type)}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=e.xGo(f)))(C||f)}})()}static{this.\u0275cmp=e.VBU({type:f,selectors:[["ds-starts-with-loader"]],inputs:{paginationId:"paginationId",startsWithOptions:"startsWithOptions",type:"type"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(_,C){1&_&&e.DNE(0,h,0,0,"ng-template",1,0,e.C5r)},encapsulation:2})}}return f})()},19798:(F,b,n)=>{"use strict";n.d(b,{c:()=>i});var i=function(t){return t.text="Text",t.date="Date",t}(i||{})},67478:(F,b,n)=>{"use strict";n.d(b,{y:()=>E});var i=n(31635),t=n(74850),u=n(71985),e=n(21921),h=n(58235),m=n(76829),f=n(39147),v=n(17860);let E=class extends m.M{static{this.type=v.m}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],E.prototype,"subscriptionType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],E.prototype,"subscriptionParameterList",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],E.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(h.N),(0,i.Sn)("design:type",u.c)],E.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(f.X),(0,i.Sn)("design:type",u.c)],E.prototype,"resource",void 0),E=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(m.M)],E)},17860:(F,b,n)=>{"use strict";n.d(b,{m:()=>t});const t=new(n(42547).v)("subscription")},15314:(F,b,n)=>{"use strict";n.d(b,{K:()=>u,t:()=>t});const t={SET:(0,n(91e3).N)("dspace/theme/SET")};class u{constructor(h){this.type=t.SET,this.payload={name:h}}}},10092:(F,b,n)=>{"use strict";n.d(b,{Q:()=>i});const i="base"},82522:(F,b,n)=>{"use strict";n.d(b,{Fs:()=>Te});var i=n(60177),t=n(7901),u=n(25499),e=n(84412),h=n(7673),m=n(22806),f=n(70274),v=n(983),E=n(96697),_=n(5964),C=n(25558),S=n(96354),R=n(39974),T=n(85412),p=n(56594),L=n(39901),D=n(45113),w=n(88280),M=n(1321),x=n(13989),j=n(52998),U=n(80183),$=n(82777),k=n(43323),K=n(81569),X=n(67600),G=n(15314),q=n(10092),z=n(84572),te=n(69799),Z=n(73335);class J{constructor(me){this.config=me}matches(me,re){return(0,h.of)(!0)}}class Q extends J{constructor(me){super(me),this.config=me,this.regex=new RegExp(this.config.regex)}matches(me,re){let Ee;const De=(0,te.wN)(re);return(0,$.hj)(De)&&(Ee=De.match(this.regex)),(0,$.Tn)(Ee)&&(Ee=me.match(this.regex)),(0,h.of)((0,$.a4)(Ee))}}class ee extends J{constructor(me,re){super(me),this.config=me,this.handleService=re}matches(me,re){return(0,$.a4)(re?.handle)?(0,z.z)([this.handleService.normalizeHandle(re?.handle),this.handleService.normalizeHandle(this.config.handle)]).pipe((0,S.T)(([Ee,De])=>(0,$.a4)(re)&&(0,$.a4)(re.handle)&&Ee===De),(0,E.s)(1)):(0,h.of)(!1)}}class le extends J{constructor(me){super(me),this.config=me}matches(me,re){return(0,h.of)((0,$.a4)(re)&&re.uuid===this.config.uuid)}}var fe=n(54438);const se=(0,u.UX)("theme"),ce=(0,u.Mz)(se,be=>(0,$.a4)(be)?be.currentTheme:q.Q);let Te=(()=>{class be{constructor(re,Ee,De,tt,ht,Fe,Et){this.store=re,this.linkService=Ee,this.dSpaceObjectDataService=De,this.injector=tt,this.gtcf=ht,this.router=Fe,this.document=Et,this._isThemeLoading$=new e.t(!1),this._isThemeCSSLoading$=new e.t(!1),this.themes=w.c.themes.map(Ye=>((be,me)=>(0,$.a4)(be.regex)?new Q(be):(0,$.a4)(be.handle)?new ee(be,me.get(Z.e)):(0,$.a4)(be.uuid)?new le(be):new J(be))(Ye,tt)),this.hasDynamicTheme=w.c.themes.some(Ye=>(0,$.a4)(Ye.regex)||(0,$.a4)(Ye.handle)||(0,$.a4)(Ye.uuid))}setTheme(re){this.store.dispatch(new G.K(re))}getThemeName(){let re;return this.store.pipe((0,u.Lt)(ce),(0,E.s)(1)).subscribe(Ee=>re=Ee),re}getThemeName$(){return this.store.pipe((0,u.Lt)(ce))}get isThemeLoading$(){return this._isThemeLoading$}listenForThemeChanges(re){this.getThemeName$().subscribe(Ee=>{if(re&&(0,j.S)(this._isThemeCSSLoading$,!0),(0,$.a4)(Ee))this.loadGlobalThemeConfig(Ee);else{const De=(0,D.Nv)();(0,$.a4)(De)?this.loadGlobalThemeConfig(De.name):this.loadGlobalThemeConfig(q.Q)}})}listenForRouteChanges(){this.router.events.pipe((0,_.p)(re=>re instanceof t.gx),(0,C.n)(re=>this.updateThemeOnRouteChange$(re.urlAfterRedirects,re.state.root)),(0,C.n)(re=>re?this._isThemeCSSLoading$:[!1])).subscribe(re=>{(0,j.S)(this._isThemeLoading$,re)})}loadGlobalThemeConfig(re){this.setThemeCss(re),this.setHeadTags(re)}setThemeCss(re){const Ee=this.document.getElementsByTagName("head")[0];if((0,$.Tn)(Ee))return;const De=Array.from(Ee.getElementsByClassName("theme-css")),tt=this.document.createElement("link");tt.setAttribute("rel","stylesheet"),tt.setAttribute("type","text/css"),tt.setAttribute("class","theme-css"),tt.setAttribute("href",`${encodeURIComponent(re)}-theme.css`),tt.onload=()=>{(0,$.hj)(De)&&De.forEach(ht=>{(0,$.a4)(ht)&&ht.remove()}),(0,j.S)(this._isThemeCSSLoading$,!1)},Ee.appendChild(tt)}setHeadTags(re){const Ee=this.document.getElementsByTagName("head")[0];if((0,$.Tn)(Ee))return;const De=Array.from(Ee.getElementsByClassName("theme-head-tag"));(0,$.a4)(De)&&De.forEach(ht=>ht.remove());const tt=this.document.createDocumentFragment();this.createHeadTags(re).forEach(ht=>tt.appendChild(ht)),Ee.appendChild(tt)}createHeadTags(re){const Ee=this.getThemeConfigFor(re),De=Ee?.headTags;if((0,$.Tn)(De)){const tt=Ee?.extends;return(0,$.a4)(tt)?this.createHeadTags(tt):[this.createHeadTag({tagName:"link",attributes:{rel:"icon",href:"assets/images/favicon.ico",sizes:"any"}})]}return De.map(this.createHeadTag.bind(this))}createHeadTag(re){const Ee=this.document.createElement(re.tagName);return(0,$.a4)(re.attributes)&&Object.entries(re.attributes).forEach(([De,tt])=>Ee.setAttribute(De,tt)),Ee.setAttribute("class","theme-head-tag"),Ee}updateThemeOnRouteChange$(re,Ee){const tt=this.store.pipe((0,u.Lt)(ce)).pipe((0,C.n)(ht=>{const Fe=this.findRouteData(Ee);if(!0===this.hasDynamicTheme&&(0,$.hj)(this.themes)){if((0,$.a4)(Fe)&&(0,$.a4)(Fe.data)&&(0,$.a4)(Fe.data.dso)){const Et=Fe.data.dso;if(Et.hasSucceeded)return(0,h.of)(Et.payload).pipe(this.getAncestorDSOs(),(0,C.n)(Ye=>this.matchThemeToDSOs(Ye,re)),(0,S.T)(Ye=>this.getActionForMatch(Ye,ht)))}return(0,$.a4)(Ee.queryParams)&&(0,$.a4)(Ee.queryParams.scope)?this.dSpaceObjectDataService.findById(Ee.queryParams.scope).pipe((0,U.yd)(),(0,U.Bo)(),this.getAncestorDSOs(),(0,C.n)(Ye=>this.matchThemeToDSOs(Ye,re)),(0,S.T)(Ye=>this.getActionForMatch(Ye,ht))):(0,m.H)(this.themes).pipe((0,f.H)(Et=>Et.matches(re,void 0).pipe((0,_.p)(Ye=>!0===Ye),(0,S.T)(()=>Et),(0,E.s)(1))),(0,E.s)(1),(0,S.T)(Et=>this.getActionForMatch(Et,ht)))}return(0,h.of)(new k.L)}),(0,E.s)(1));return tt.pipe((0,_.p)(ht=>ht.type!==k.o)).subscribe(ht=>{this.store.dispatch(ht)}),tt.pipe((0,S.T)(ht=>ht.type===G.t.SET))}findRouteData(...re){const Ee=re.find(De=>(0,$.a4)(De.data)&&(0,$.a4)(De.data.dso));if((0,$.a4)(Ee))return Ee;{const De=re.map(tt=>tt.children).reduce((tt,ht)=>[...tt,...ht]);return(0,$.hj)(De)?this.findRouteData(...De):void 0}}getAncestorDSOs(){return re=>re.pipe(function A(be,me=1/0,re){return me=(me||0)<1?1/0:me,(0,R.N)((Ee,De)=>(0,T.h)(Ee,De,be,me,void 0,!0,re))}(Ee=>{if((0,$.a4)(Ee)&&"function"==typeof Ee.getParentLinkKey){const De=Ee.getParentLinkKey();return this.linkService.resolveLinkWithoutAttaching(Ee,(0,X.s)(De)).pipe((0,U.qD)(),(0,S.T)(tt=>(0,$.a4)(tt.payload)?tt.payload:null))}return v.w}),(0,_.p)(Ee=>(0,$.a4)(Ee)),(0,p.$)())}getActionForMatch(re,Ee){const De=re?.config.name??q.Q;return De!==Ee?new G.K(De):new k.L}matchThemeToDSOs(re,Ee){return(0,m.H)(this.themes).pipe((0,f.H)(De=>(0,m.H)(re).pipe((0,f.H)(tt=>De.matches(Ee,tt)),(0,_.p)(tt=>!0===tt),(0,S.T)(()=>De),(0,E.s)(1))),(0,E.s)(1),(0,L.U)(void 0))}getThemeConfigFor(re){return this.gtcf(re)}static{this.\u0275fac=function(Ee){return new(Ee||be)(fe.KVO(u.il),fe.KVO(M._),fe.KVO(x.DSpaceObjectDataService),fe.KVO(fe.zZn),fe.KVO(K.zD),fe.KVO(t.Ix),fe.KVO(i.qQ))}}static{this.\u0275prov=fe.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},8886:(F,b,n)=>{"use strict";n.d(b,{J:()=>L});var i=n(54438),t=n(84412),u=n(84572),e=n(7673),h=n(22806),m=n(25558),f=n(88141),v=n(96354),E=n(99437),_=n(82777),C=n(10092),S=n(82522);const R=["vcr"],T=["content"],A=["*"];function p(D,w){}let L=(()=>{class D{constructor(M,x){this.cdr=M,this.themeService=x,this.compRef$=new t.t(void 0),this.inAndOutputNames=[]}ngOnChanges(M){(0,_.Tn)(this.compRef)?this.initComponentInstance(M):this.inAndOutputNames.some(x=>(0,_.a4)(M[x]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(M))}ngAfterViewInit(){this.initComponentInstance()}ngOnDestroy(){[this.themeSub,this.lazyLoadSub].filter(M=>(0,_.a4)(M)).forEach(M=>M.unsubscribe()),this.destroyComponentInstance()}initComponentInstance(M){this.themeSub=this.themeService?.getThemeName$().subscribe(()=>{this.renderComponentInstance(M)})}renderComponentInstance(M){(0,_.a4)(this.lazyLoadSub)&&this.lazyLoadSub.unsubscribe(),(0,_.Tn)(this.lazyLoadObs)&&(this.lazyLoadObs=(0,u.z)([(0,e.of)(M),this.resolveThemedComponent(this.themeService.getThemeName()).pipe((0,m.n)(x=>(0,_.a4)(x)&&(0,_.a4)(x[this.getComponentName()])?[x[this.getComponentName()]]:(0,h.H)(this.importUnthemedComponent()).pipe((0,f.M)(()=>this.usedTheme=C.Q),(0,v.T)(j=>j[this.getComponentName()]))))])),this.lazyLoadSub=this.lazyLoadObs.subscribe(([x,j])=>{this.destroyComponentInstance(),this.compRef=this.vcr.createComponent(j,{projectableNodes:[this.themedElementContent.nativeElement.childNodes]}),(0,_.a4)(x)?this.ngOnChanges(x):this.connectInputsAndOutputs(),this.compRef$.next(this.compRef),this.cdr.markForCheck(),this.themedElementContent.nativeElement.remove()})}destroyComponentInstance(){(0,_.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=null),(0,_.a4)(this.vcr)&&this.vcr.clear()}connectInputsAndOutputs(){(0,_.hj)(this.inAndOutputNames)&&(0,_.a4)(this.compRef)&&(0,_.a4)(this.compRef.instance)&&this.inAndOutputNames.filter(M=>void 0!==this[M]).forEach(M=>{this.compRef.instance[M]=this[M]})}resolveThemedComponent(M,x=[]){return(0,_.hj)(M)?(0,h.H)(this.importThemedComponent(M)).pipe((0,f.M)(()=>this.usedTheme=M),(0,E.W)(()=>{const j=this.themeService.getThemeConfigFor(M)?.extends,U=[...x,M];if(x.includes(j))throw new Error("Theme extension cycle detected: "+[...U,j].join(" -> "));return this.resolveThemedComponent(j,U)})):(0,e.of)(null)}static{this.\u0275fac=function(x){return new(x||D)(i.rXU(i.gRc),i.rXU(S.Fs))}}static{this.\u0275cmp=i.VBU({type:D,selectors:[["ds-themed"]],viewQuery:function(x,j){if(1&x&&(i.GBs(R,5,i.c1b),i.GBs(T,5)),2&x){let U;i.mGM(U=i.lsd())&&(j.vcr=U.first),i.mGM(U=i.lsd())&&(j.themedElementContent=U.first)}},hostVars:1,hostBindings:function(x,j){2&x&&i.BMQ("data-used-theme",j.usedTheme)},features:[i.OA$],ngContentSelectors:A,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(x,j){1&x&&(i.NAR(),i.DNE(0,p,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())}})}}return D})()},25543:(F,b,n)=>{"use strict";n.d(b,{M:()=>i});class i{handle(u){return u.interpolateParams&&u.interpolateParams.default||u.key}}},44869:(F,b,n)=>{"use strict";n.d(b,{W:()=>v});var i=n(41780),t=n(82777),u=n(54438);let e=(()=>{class E{constructor(){this.actualClick=new u.bkB}mousedownEvent(C){this.start=new Date}mouseupEvent(C){new Date-this.start<250&&this.actualClick.emit(C)}static{this.\u0275fac=function(S){return new(S||E)}}static{this.\u0275dir=u.FsC({type:E,selectors:[["","dsDragClick",""]],hostBindings:function(S,R){1&S&&u.bIt("mousedown",function(A){return R.mousedownEvent(A)})("mouseup",function(A){return R.mouseupEvent(A)})},outputs:{actualClick:"actualClick"},standalone:!0})}}return E})();var h=n(39092);const m=["content"],f=["*"];let v=(()=>{class E{constructor(C){this.service=C,this.maxLines=-1,this.fixedHeight=!1,this.background="default",this.showToggle=!0,this.expand=!1,this.expandable=!1}ngOnInit(){this.setLines()}setLines(){this.sub=this.service.isCollapsed(this.id).subscribe(C=>{C?(this.lines=this.minLines.toString(),this.expand=!1):(this.lines=this.maxLines<0?"none":this.maxLines.toString(),this.expand=!0)})}ngAfterViewChecked(){this.truncateElement()}toggle(){this.service.toggle(this.id),this.expandable=!this.expandable}truncateElement(){if(this.showToggle){const C=this.content.nativeElement;C.scrollHeight>C.offsetHeight?C.children.length>0?C.children[C.children.length-1].offsetHeight>C.offsetHeight?(C.classList.add("truncated"),C.classList.remove("removeFaded")):(C.classList.remove("truncated"),C.classList.add("removeFaded")):C.innerText.length>0?(C.classList.add("truncated"),C.classList.remove("removeFaded")):(C.classList.remove("truncated"),C.classList.add("removeFaded")):(C.classList.remove("truncated"),C.classList.add("removeFaded"))}}get isExpanded(){return this.expand&&this.expandable}ngOnDestroy(){(0,t.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(S){return new(S||E)(u.rXU(h.F))}}static{this.\u0275cmp=u.VBU({type:E,selectors:[["ds-truncatable-part"]],viewQuery:function(S,R){if(1&S&&u.GBs(m,7),2&S){let T;u.mGM(T=u.lsd())&&(R.content=T.first)}},inputs:{minLines:"minLines",maxLines:"maxLines",id:"id",type:"type",fixedHeight:"fixedHeight",background:"background",showToggle:"showToggle"},standalone:!0,features:[u.aNF],ngContentSelectors:f,decls:9,vars:17,consts:[["content",""],[1,"content","dont-break-out","preserve-line-breaks"],["dsDragClick","","role","button",3,"actualClick","keyup.Enter","keyup.Space"],[1,"ms-1"]],template:function(S,R){if(1&S){const T=u.RV6();u.NAR(),u.j41(0,"div")(1,"div",1,0),u.SdG(3),u.k0s(),u.j41(4,"button",2),u.bIt("actualClick",function(){return u.eBV(T),u.Njj(R.toggle())})("keyup.Enter",function(){return u.eBV(T),u.Njj(R.toggle())})("keyup.Space",function(){return u.eBV(T),u.Njj(R.toggle())}),u.nrm(5,"i"),u.j41(6,"span",3),u.EFF(7),u.nI1(8,"translate"),u.k0s()()()}2&S&&(u.ZBM("clamp-",R.background,"-",R.lines," min-",R.minLines," ",R.type," ",R.fixedHeight?"fixedHeight":"",""),u.R7$(4),u.ZvI("btn btn-link p-0 ",R.isExpanded?"collapseButton":"expandButton",""),u.BMQ("aria-expanded",R.isExpanded),u.R7$(),u.ZvI("fas ",R.isExpanded?"fa-angle-up":"fa-angle-down",""),u.R7$(2),u.JRh(u.bMT(8,15,"item.truncatable-part.show-"+(R.isExpanded?"less":"more"))))},dependencies:[e,i.h,i.D9],styles:[".content[_ngcontent-%COMP%]:not(.truncated) ~ button.expandButton[_ngcontent-%COMP%]{display:none}.btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}.removeFaded.content[_ngcontent-%COMP%]:after{display:none}"]})}}return E})()},26500:(F,b,n)=>{"use strict";n.d(b,{GV:()=>e,Qs:()=>m,VR:()=>t,f7:()=>h});var i=n(91e3);const t={TOGGLE:(0,i.N)("dspace/truncatable/TOGGLE"),COLLAPSE:(0,i.N)("dspace/truncatable/COLLAPSE"),EXPAND:(0,i.N)("dspace/truncatable/EXPAND")};class u{constructor(v){this.id=v}}class e extends u{constructor(){super(...arguments),this.type=t.TOGGLE}}class h extends u{constructor(){super(...arguments),this.type=t.COLLAPSE}}class m extends u{constructor(){super(...arguments),this.type=t.EXPAND}}},21308:(F,b,n)=>{"use strict";n.d(b,{d:()=>e});var i=n(39092),t=n(54438);const u=["*"];let e=(()=>{class h{constructor(f,v){this.service=f,this.el=v,this.initialExpand=!1,this.onHover=!1,this.showToggle=!0}ngOnInit(){this.initialExpand?this.service.expand(this.id):this.service.collapse(this.id)}hoverCollapse(){this.onHover&&this.service.collapse(this.id)}hoverExpand(){this.onHover&&this.service.expand(this.id)}ngAfterViewChecked(){if(this.showToggle&&this.el.nativeElement.querySelectorAll(".truncated")?.length>0){const v=this.el.nativeElement.querySelectorAll(".dont-break-out");for(let E=0;E<v.length-1;E++)v[E].classList.remove("truncated"),v[E].classList.add("notruncatable");v[v.length-1].classList.add("truncated")}}static{this.\u0275fac=function(v){return new(v||h)(t.rXU(i.F),t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:h,selectors:[["ds-truncatable"]],inputs:{initialExpand:"initialExpand",id:"id",onHover:"onHover",showToggle:"showToggle"},standalone:!0,features:[t.aNF],ngContentSelectors:u,decls:2,vars:0,consts:[[3,"mouseenter","mouseleave"]],template:function(v,E){1&v&&(t.NAR(),t.j41(0,"div",0),t.bIt("mouseenter",function(){return E.hoverExpand()})("mouseleave",function(){return E.hoverCollapse()}),t.SdG(1),t.k0s())}})}}return h})()},39092:(F,b,n)=>{"use strict";n.d(b,{F:()=>f});var i=n(25499),t=n(96354),u=n(82777),e=n(26500),h=n(54438);const m=_=>_.truncatable;let f=(()=>{class _{constructor(S){this.store=S}isCollapsed(S){return this.store.pipe((0,i.Lt)(function v(_){return function E(_){return(0,i.Mz)(m,C=>{if((0,u.a4)(C))return C[_]})}(_)}(S)),(0,t.T)(R=>!!R&&R.collapsed))}toggle(S){this.store.dispatch(new e.GV(S))}collapse(S){this.store.dispatch(new e.f7(S))}expand(S){this.store.dispatch(new e.Qs(S))}static{this.\u0275fac=function(R){return new(R||_)(h.KVO(i.il))}}static{this.\u0275prov=h.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},32979:(F,b,n)=>{"use strict";n.d(b,{H:()=>t});var i=n(43377);class t{constructor(){this.disableMultipart=!1,this.itemAlias=null,this.autoUpload=!0,this.method=i.D.POST}}},43095:(F,b,n)=>{"use strict";n.d(b,{y:()=>k});var i=n(60177),t=n(54438),u=n(41780),e=n(59519),h=n.n(e),m=n(27200),f=n(7673),v=n(93130),E=n(19460),_=n(60456),C=n(82777);n(32979);let R=(()=>{class K{constructor(){this._overrideDragOverPage=!1}overrideDragOverPage(){this._overrideDragOverPage=!0}allowDragOverPage(){this._overrideDragOverPage=!1}isAllowedDragOverPage(){return!this._overrideDragOverPage}static{this.\u0275fac=function(q){return new(q||K)}}static{this.\u0275prov=t.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();var T=n(21626);const A=K=>({"ds-base-drop-zone-file-over":K}),p=K=>({width:K}),L=K=>({"progress-bar":!0,"bg-success progress-bar-striped progress-bar-animated":K});function D(K,X){if(1&K){const G=t.RV6();t.j41(0,"div",8),t.nI1(1,"async"),t.bIt("fileOver",function(z){t.eBV(G);const te=t.XpG();return t.Njj(te.fileOverDocument(z))}),t.k0s()}if(2&K){const G=t.XpG();t.AVh("ds-document-drop-zone-active",t.bMT(1,3,G.isOverDocumentDropZone)),t.Y8G("uploader",G.uploader)}}function w(K,X){if(1&K&&(t.j41(0,"div",9)(1,"div",10)(2,"p",11),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&K){const G=t.XpG();t.R7$(3),t.JRh(t.bMT(4,1,G.dropOverDocumentMsg))}}function M(K,X){if(1&K){const G=t.RV6();t.j41(0,"div",12)(1,"span",13),t.nrm(2,"i",14),t.EFF(3),t.nI1(4,"translate"),t.nI1(5,"translate"),t.j41(6,"label",15),t.bIt("keyup.enter",function(z){t.eBV(G);const te=t.sdS(12);return z.stopImmediatePropagation(),t.Njj(te.click())}),t.j41(7,"span",16),t.nI1(8,"translate"),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.nrm(11,"input",17,0),t.k0s()()}if(2&K){const G=t.XpG();t.R7$(3),t.Lme(" ",t.bMT(4,9,G.dropMsg),"",t.bMT(5,11,"uploader.or")," "),t.R7$(3),t.Mz_("for","inputFileUploader-",G.uploaderId,""),t.R7$(),t.BMQ("aria-label",t.bMT(8,13,G.ariaLabel)),t.R7$(2),t.JRh(t.bMT(10,15,"uploader.browse")),t.R7$(2),t.Mz_("id","inputFileUploader-",G.uploaderId,""),t.Y8G("uploader",G.uploader)}}function x(K,X){if(1&K&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&K){const G=t.XpG(2);t.R7$(),t.Lme("",t.bMT(2,2,"uploader.queue-length"),": ",null==G.uploader||null==G.uploader.queue?null:G.uploader.queue.length," | ")}}function j(K,X){if(1&K&&(t.j41(0,"span",27),t.EFF(1),t.k0s()),2&K){const G=t.XpG(2);t.R7$(),t.SpI("",G.uploader.progress,"%")}}function U(K,X){1&K&&(t.j41(0,"span",27),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&K&&(t.R7$(),t.JRh(t.bMT(2,1,"uploader.processing")))}function $(K,X){if(1&K){const G=t.RV6();t.j41(0,"div")(1,"div",18)(2,"div",19)(3,"span",20),t.DNE(4,x,3,4,"span",7),t.EFF(5),t.k0s(),t.j41(6,"div",21)(7,"button",22),t.nI1(8,"translate"),t.bIt("click",function(){t.eBV(G);const z=t.XpG();return t.Njj(z.uploader.clearQueue())}),t.nrm(9,"i",23),t.k0s()(),t.DNE(10,j,2,1,"span",24)(11,U,3,3,"span",24),t.k0s(),t.j41(12,"div",25),t.nrm(13,"div",26),t.k0s()()()}if(2&K){const G=t.XpG();t.R7$(4),t.Y8G("ngIf",!G.uploader.options.disableMultipart),t.R7$(),t.SpI("",null==G.uploader||null==G.uploader.queue[0]?null:G.uploader.queue[0].file.name," "),t.R7$(2),t.FS9("title",t.bMT(8,8,"uploader.delete.btn-title")),t.Y8G("dsBtnDisabled",!G.uploader.queue.length),t.R7$(3),t.Y8G("ngIf",G.uploader.progress<100&&!(0===G.uploader.progress&&!G.uploader.options.autoUpload)),t.R7$(),t.Y8G("ngIf",100===G.uploader.progress),t.R7$(2),t.Y8G("ngStyle",t.eq3(10,p,G.uploader.progress+"%"))("ngClass",t.eq3(12,L,100===G.uploader.progress))}}let k=(()=>{class K{onDragOver(G){this.enableDragOverDocument&&this.dragService.isAllowedDragOverPage()&&(G.preventDefault(),"HTML"!==G.target.tagName&&(this.isOverDocumentDropZone=(0,f.of)(!0)))}constructor(G,q,z,te){this.cdr=G,this.dragService=q,this.tokenExtractor=z,this.cookieService=te,this.onCompleteItem=new t.bkB,this.onUploadError=new t.bkB,this.onFileSelected=new t.bkB,this.isOverBaseDropZone=(0,f.of)(!1),this.isOverDocumentDropZone=(0,f.of)(!1)}ngOnInit(){this.uploaderId="ds-drag-and-drop-uploader"+h()(),this.checkConfig(this.uploadFilesOptions),this.uploader=new m.l0({url:this.uploadFilesOptions.url,authToken:this.uploadFilesOptions.authToken,disableMultipart:this.uploadFilesOptions.disableMultipart,itemAlias:this.uploadFilesOptions.itemAlias,removeAfterUpload:!0,autoUpload:this.uploadFilesOptions.autoUpload,method:this.uploadFilesOptions.method,queueLimit:this.uploadFilesOptions.maxFileNumber}),(0,C.b0)(this.enableDragOverDocument)&&(this.enableDragOverDocument=!1),(0,C.b0)(this.dropMsg)&&(this.dropMsg="uploader.drag-message"),(0,C.b0)(this.dropOverDocumentMsg)&&(this.dropOverDocumentMsg="uploader.drag-message")}ngAfterViewInit(){this.uploader.onAfterAddingAll=G=>{this.onFileSelected.emit(G)},(0,C.b0)(this.onBeforeUpload)&&(this.onBeforeUpload=()=>{}),this.uploader.onBeforeUploadItem=G=>{G.url!==this.uploader.options.url&&(G.url=this.uploader.options.url),this.uploader.options.headers=[{name:E.sA,value:this.tokenExtractor.getToken()}],this.onBeforeUpload(),this.isOverDocumentDropZone=(0,f.of)(!1)},(0,C.a4)(this.uploadProperties)&&(this.uploader.onBuildItemForm=(G,q)=>{q.append("properties",JSON.stringify(this.uploadProperties))}),this.uploader.onCompleteItem=(G,q,z,te)=>{const Z=te[E.oo.toLowerCase()];if((0,C.hj)(Z)&&(this.saveXsrfToken(Z),this.uploader.options.headers=[{name:E.sA,value:this.tokenExtractor.getToken()}]),(0,C.hj)(q)){const J=JSON.parse(q);this.onCompleteItem.emit(J)}},this.uploader.onErrorItem=(G,q,z,te)=>{const Z=te[E.oo.toLowerCase()];(0,C.hj)(Z)&&(this.saveXsrfToken(Z),this.uploader.options.headers=[{name:E.sA,value:this.tokenExtractor.getToken()}]),this.onUploadError.emit({item:G,response:q,status:z,headers:te}),this.uploader.cancelAll()},this.uploader.onProgressAll=()=>this.onProgress(),this.uploader.onProgressItem=()=>this.onProgress()}fileOverBase(G){this.isOverBaseDropZone=(0,f.of)(G)}fileOverDocument(G){G||(this.isOverDocumentDropZone=(0,f.of)(G))}onProgress(){this.cdr.detectChanges()}checkConfig(G){const z=["url","authToken","disableMultipart","itemAlias"].filter(te=>!(te in G&&""!==G[te]));if(0<z.length)throw new Error("UploadFiles: Argument is missing the following required properties: "+z.join(", "))}saveXsrfToken(G){this.cookieService.remove(E.dX),this.cookieService.set(E.dX,G)}static{this.\u0275fac=function(q){return new(q||K)(t.rXU(t.gRc),t.rXU(R),t.rXU(T.B3),t.rXU(v.O))}}static{this.\u0275cmp=t.VBU({type:K,selectors:[["ds-uploader"]],hostBindings:function(q,z){1&q&&t.bIt("dragover",function(Z){return z.onDragOver(Z)},!1,t.tSv)},inputs:{dropMsg:"dropMsg",dropOverDocumentMsg:"dropOverDocumentMsg",enableDragOverDocument:"enableDragOverDocument",onBeforeUpload:"onBeforeUpload",uploadFilesOptions:"uploadFilesOptions",uploadProperties:"uploadProperties",ariaLabel:"ariaLabel"},outputs:{onCompleteItem:"onCompleteItem",onUploadError:"onUploadError",onFileSelected:"onFileSelected"},standalone:!0,features:[t.aNF],decls:11,vars:17,consts:[["fileInput",""],["ng2FileDrop","","class","ds-document-drop-zone position-fixed h-100 w-100",3,"ds-document-drop-zone-active","uploader","fileOver",4,"ngIf"],["class","ds-document-drop-zone-inner position-fixed h-100 w-100 p-2",4,"ngIf"],[1,"row"],[1,"col-md-12"],["ng2FileDrop","",1,"well","ds-base-drop-zone","mt-1","mb-3","text-muted",3,"fileOver","ngClass","uploader"],["class","text-center m-0 p-2 d-flex justify-content-center align-items-center",4,"ngIf"],[4,"ngIf"],["ng2FileDrop","",1,"ds-document-drop-zone","position-fixed","h-100","w-100",3,"fileOver","uploader"],[1,"ds-document-drop-zone-inner","position-fixed","h-100","w-100","p-2"],[1,"ds-document-drop-zone-inner-content","position-relative","d-flex","flex-column","justify-content-center","text-center","h-100","w-100"],[1,"text-primary"],[1,"text-center","m-0","p-2","d-flex","justify-content-center","align-items-center"],[1,"d-flex","align-items-center"],["aria-hidden","true",1,"fas","fa-upload","pe-1"],["tabindex","0",1,"btn","btn-link","m-0","p-0","ms-1",3,"keyup.enter","for"],["role","button"],["type","file","ng2FileSelect","","multiple","","tabindex","0",1,"d-none",3,"id","uploader"],[1,"m-1"],[1,"upload-item-top"],[1,"filename"],["role","group",1,"btn-group","btn-group-sm","float-end"],["type","button",1,"btn","btn-danger",3,"click","title","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-trash"],["class","float-end me-3",4,"ngIf"],[1,"ds-base-drop-zone-progress","clearfix","mt-2"],["role","progressbar",2,"height","5px","width","0",3,"ngStyle","ngClass"],[1,"float-end","me-3"]],template:function(q,z){1&q&&(t.DNE(0,D,2,5,"div",1),t.nI1(1,"async"),t.DNE(2,w,5,3,"div",2),t.nI1(3,"async"),t.j41(4,"div",3)(5,"div",4)(6,"div",5),t.nI1(7,"async"),t.bIt("fileOver",function(Z){return z.fileOverBase(Z)}),t.DNE(8,M,13,17,"div",6)(9,$,14,14,"div",7),t.nI1(10,"async"),t.k0s()()()),2&q&&(t.Y8G("ngIf",t.bMT(1,7,z.isOverDocumentDropZone)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,9,z.isOverDocumentDropZone)),t.R7$(2),t.BMQ("id",z.uploaderId),t.R7$(2),t.Y8G("ngClass",t.eq3(15,A,t.bMT(7,11,z.isOverBaseDropZone)))("uploader",z.uploader),t.R7$(2),t.Y8G("ngIf",0===(null==z.uploader||null==z.uploader.queue?null:z.uploader.queue.length)),t.R7$(),t.Y8G("ngIf",t.bMT(10,13,z.isOverBaseDropZone)||0!==(null==z.uploader||null==z.uploader.queue?null:z.uploader.queue.length)))},dependencies:[u.h,u.D9,m.eB,m.Ff,m.UJ,i.MD,i.YU,i.bT,i.B3,i.Jj,_.A],styles:[".ds-base-drop-zone[_ngcontent-%COMP%]{border:2px dashed var(--bs-gray-600)}.ds-base-drop-zone-file-over[_ngcontent-%COMP%]{border:2px dashed var(--bs-primary)}.ds-base-drop-zone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{min-height:var(--ds-drop-zone-area-height)}.ds-document-drop-zone[_ngcontent-%COMP%]{top:0;left:0;z-index:-1}.ds-document-drop-zone-active[_ngcontent-%COMP%]{z-index:var(--ds-drop-zone-area-z-index)!important}.ds-document-drop-zone-inner[_ngcontent-%COMP%]{background-color:#ffffffb3;z-index:var(--ds-drop-zone-area-inner-z-index);top:0;left:0}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]{border:4px dashed var(--bs-primary);z-index:var(--ds-drop-zone-area-inner-z-index)}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--bs-font-size-lg) * 2.5)}"]})}}return K})()},75465:(F,b,n)=>{"use strict";n.d(b,{L:()=>u});var i=n(60177),t=n(54438);let u=(()=>{class e{constructor(m){this.platformID=m}transform(m){if((0,i.UE)(this.platformID))return m}static{this.\u0275fac=function(f){return new(f||e)(t.rXU(t.Agw,16))}}static{this.\u0275pipe=t.EJ8({name:"dsBrowserOnly",type:e,pure:!0,standalone:!0})}}return e})()},46301:(F,b,n)=>{"use strict";n.d(b,{z:()=>t});var i=n(54438);let t=(()=>{class u{constructor(h){this._elementRef=h,this.dsClickOutside=new i.bkB}onClick(){const h=this._elementRef.nativeElement;h.contains(h.ownerDocument.activeElement)||this.dsClickOutside.emit(null)}static{this.\u0275fac=function(m){return new(m||u)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:u,selectors:[["","dsClickOutside",""]],hostBindings:function(m,f){1&m&&i.bIt("click",function(){return f.onClick()},!1,i.EBC)},outputs:{dsClickOutside:"dsClickOutside"},standalone:!0})}}return u})()},56386:(F,b,n)=>{"use strict";n.d(b,{R:()=>f});var i=n(54438),t=n(21413),u=n(70152),e=n(23294),h=n(56977),m=n(89417);let f=(()=>{class v{constructor(_){this.model=_,this.onDebounce=new i.bkB,this.dsDebounce=500,this.subject=new t.B}ngOnInit(){this.model.valueChanges.pipe((0,u.B)(this.dsDebounce),(0,e.F)(),(0,h.Q)(this.subject)).subscribe(_=>{this.model.dirty&&this.onDebounce.emit(_)})}ngOnDestroy(){this.subject.next(),this.subject.complete()}static{this.\u0275fac=function(C){return new(C||v)(i.rXU(m.vO))}}static{this.\u0275dir=i.FsC({type:v,selectors:[["","ngModel","","dsDebounce",""]],inputs:{dsDebounce:"dsDebounce"},outputs:{onDebounce:"onDebounce"},standalone:!0})}}return v})()},43525:(F,b,n)=>{"use strict";n.d(b,{s:()=>e});var i=n(806),u=n(54438);let e=(()=>{class h{transform(f=0,v=2){return i(f,{standard:"jedec",round:v})}static{this.\u0275fac=function(v){return new(v||h)}}static{this.\u0275pipe=u.EJ8({name:"dsFileSize",type:h,pure:!0,standalone:!0})}}return h})()},67600:(F,b,n)=>{"use strict";n.d(b,{s:()=>e});var i=n(41023),t=n(82777);const e=(h,{findListOptions:m,shouldEmbed:f,useCachedVersionIfAvailable:v,reRequestOnStale:E,isOptional:_}={},...C)=>({name:h,findListOptions:(0,t.a4)(m)?m:new i._,shouldEmbed:!(0,t.a4)(f)||f,useCachedVersionIfAvailable:!(0,t.a4)(v)||v,reRequestOnStale:!(0,t.a4)(E)||E,isOptional:!!(0,t.a4)(_)&&_,linksToFollow:C})},79803:(F,b,n)=>{"use strict";n.d(b,{l:()=>t});var i=n(54438);let t=(()=>{class u{constructor(h){this.elementRef=h,this.dsHoverOutside=new i.bkB}onMouseOver(h){const m=h.target,f=document.querySelector(this.dsHoverOutsideOfParentSelector);(f?new i.aKT(f):this.elementRef).nativeElement.contains(m)||this.dsHoverOutside.emit(null)}static{this.\u0275fac=function(m){return new(m||u)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:u,selectors:[["","dsHoverOutside",""]],hostBindings:function(m,f){1&m&&i.bIt("mouseover",function(E){return f.onMouseOver(E)},!1,i.EBC)},inputs:{dsHoverOutsideOfParentSelector:"dsHoverOutsideOfParentSelector"},outputs:{dsHoverOutside:"dsHoverOutside"},standalone:!0})}}return u})()},74430:(F,b,n)=>{"use strict";function i(t){return t<400?"thumb-font-0":t<750?"thumb-font-1":t<1e3?"thumb-font-2":"thumb-font-3"}n.d(b,{F:()=>i})},99390:(F,b,n)=>{"use strict";n.d(b,{U:()=>t});var i=n(54438);let t=(()=>{class u{transform(h,m=null){return Object.keys(h).map(f=>Object.assign({key:f},{value:h[f]}))}static{this.\u0275fac=function(m){return new(m||u)}}static{this.\u0275pipe=i.EJ8({name:"dsObjNgFor",type:u,pure:!0,standalone:!0})}}return u})()},49656:(F,b,n)=>{"use strict";n.d(b,{as:()=>u,nW:()=>e});var i=n(67600);function u(h,m){return`f.${h}=${m},equals`}function e(h,m){const f=[];return h&&f.push((0,i.s)("thumbnail")),m&&f.push((0,i.s)("accessStatus")),[(0,i.s)("leftItem",void 0,...f),(0,i.s)("rightItem",void 0,...f)]}},30506:(F,b,n)=>{"use strict";n.d(b,{F:()=>e,N:()=>u});var i=n(45663),t=n(82777);function u(h){return"/"+h.parseUrl(h.url).root.children.primary.segments.map(f=>f.path).join("/")}function e(h){if((0,t.a4)(h.parent)){const m=e(h.parent);return new i.t(m,h.routeConfig.path).toString()}return h.routeConfig?h.routeConfig.path:""}},43764:(F,b,n)=>{"use strict";n.d(b,{d:()=>u});var i=n(54438),t=n(345);let u=(()=>{class e{constructor(m){this.domSanitizer=m}transform(m){return null==m?null:this.domSanitizer.bypassSecurityTrustResourceUrl(m)}static{this.\u0275fac=function(f){return new(f||e)(i.rXU(t.up,16))}}static{this.\u0275pipe=i.EJ8({name:"dsSafeUrl",type:e,pure:!0,standalone:!0})}}return e})()},18226:(F,b,n)=>{"use strict";n.d(b,{r:()=>t});var i=n(54438);let t=(()=>{class u{set ngVar(h){this.context.$implicit=this.context.ngVar=h,this.updateView()}constructor(h,m){this.vcRef=h,this.templateRef=m,this.context={}}updateView(){this.vcRef.clear(),this.vcRef.createEmbeddedView(this.templateRef,this.context)}static{this.\u0275fac=function(m){return new(m||u)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:u,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0})}}return u})()},35538:(F,b,n)=>{"use strict";n.d(b,{g:()=>L});var i=n(60177),t=n(54438),u=n(7901),e=n(41780),h=n(5964),m=n(78655),f=n(78448),v=n(82777),E=n(75465),_=n(30506);const C=()=>({view:"list"}),S=()=>({view:"grid"}),R=()=>({view:"detailed"});function T(D,w){if(1&D){const M=t.RV6();t.j41(0,"button",2),t.nI1(1,"translate"),t.nI1(2,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(M);const j=t.XpG();return t.Njj(j.switchViewTo(j.viewModeEnum.ListElement))}),t.nrm(3,"i",3),t.k0s()}if(2&D){const M=t.XpG();t.AVh("active",M.currentMode===M.viewModeEnum.ListElement),t.Y8G("queryParams",t.lJ4(10,C)),t.BMQ("aria-current",M.currentMode===M.viewModeEnum.ListElement)("aria-label",t.bMT(1,6,"search.view-switch.show-list"))("data-test",t.bMT(2,8,"list-view"))}}function A(D,w){if(1&D){const M=t.RV6();t.j41(0,"button",2),t.nI1(1,"translate"),t.nI1(2,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(M);const j=t.XpG();return t.Njj(j.switchViewTo(j.viewModeEnum.GridElement))}),t.nrm(3,"i",4),t.k0s()}if(2&D){const M=t.XpG();t.AVh("active",M.currentMode===M.viewModeEnum.GridElement),t.Y8G("queryParams",t.lJ4(10,S)),t.BMQ("aria-current",M.currentMode===M.viewModeEnum.GridElement)("aria-label",t.bMT(1,6,"search.view-switch.show-grid"))("data-test",t.bMT(2,8,"grid-view"))}}function p(D,w){if(1&D){const M=t.RV6();t.j41(0,"button",2),t.nI1(1,"translate"),t.nI1(2,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(M);const j=t.XpG();return t.Njj(j.switchViewTo(j.viewModeEnum.DetailedListElement))}),t.nrm(3,"i",5),t.k0s()}if(2&D){const M=t.XpG();t.AVh("active",M.currentMode===M.viewModeEnum.DetailedListElement),t.Y8G("queryParams",t.lJ4(10,R)),t.BMQ("aria-current",M.currentMode===M.viewModeEnum.DetailedListElement)("aria-label",t.bMT(1,6,"search.view-switch.show-detail"))("data-test",t.bMT(2,8,"detail-view"))}}let L=(()=>{class D{constructor(M,x){this.searchService=M,this.router=x,this.currentMode=f.n.ListElement,this.viewModeEnum=f.n,this.changeViewMode=new t.bkB}ngOnInit(){(0,v.Im)(this.viewModeList)&&(this.viewModeList=[f.n.ListElement,f.n.GridElement]),this.sub=this.searchService.getViewMode().pipe((0,h.p)(M=>(0,v.hj)(M))).subscribe(M=>{this.currentMode=M})}switchViewTo(M){M!==this.currentMode&&this.changeViewMode.emit(M),this.searchService.setViewMode(M,this.getSearchLinkParts())}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}isToShow(M){return this.viewModeList&&this.viewModeList.includes(M)}getSearchLink(){return this.inPlaceSearch?(0,_.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.searchService?[]:this.getSearchLink().split("/")}static{this.\u0275fac=function(x){return new(x||D)(t.rXU(m.S),t.rXU(u.Ix))}}static{this.\u0275cmp=t.VBU({type:D,selectors:[["ds-view-mode-switch"]],inputs:{inPlaceSearch:"inPlaceSearch",viewModeList:"viewModeList"},outputs:{changeViewMode:"changeViewMode"},standalone:!0,features:[t.aNF],decls:4,vars:3,consts:[["data-toggle","buttons",1,"btn-group"],["routerLink",".","queryParamsHandling","merge","class","btn btn-secondary",3,"queryParams","active","click",4,"ngIf"],["routerLink",".","queryParamsHandling","merge",1,"btn","btn-secondary",3,"click","queryParams"],[1,"fas","fa-list"],[1,"fas","fa-th-large"],[1,"far","fa-square"]],template:function(x,j){1&x&&(t.j41(0,"div",0),t.DNE(1,T,4,11,"button",1)(2,A,4,11,"button",1)(3,p,4,11,"button",1),t.k0s()),2&x&&(t.R7$(),t.Y8G("ngIf",j.isToShow(j.viewModeEnum.ListElement)),t.R7$(),t.Y8G("ngIf",j.isToShow(j.viewModeEnum.GridElement)),t.R7$(),t.Y8G("ngIf",j.isToShow(j.viewModeEnum.DetailedListElement)))},dependencies:[i.bT,u.Wk,e.h,e.D9,E.L]})}}return D})()},98794:(F,b,n)=>{"use strict";n.d(b,{m:()=>E});var i=n(60177),t=n(54438),u=n(41780),e=n(90934),h=n(82394),m=n(58003);const f=_=>({"d-none":_});function v(_,C){1&_&&t.nrm(0,"ds-loading")}let E=(()=>{class _{constructor(S){this.activeModal=S,this.selectedEvent=new t.bkB,this.loading=!0}selectObject(S){this.loading=!0,this.selectedEvent.emit(S)}closeCollectionModal(){this.activeModal.dismiss(!1)}theOnlySelectable(S){this.selectedEvent.emit(S)}searchComplete(){this.loading=!1}isLoading(){return!!this.loading}static{this.\u0275fac=function(R){return new(R||_)(t.rXU(m.Lw))}}static{this.\u0275cmp=t.VBU({type:_,selectors:[["ds-submission-import-external-collection"]],outputs:{selectedEvent:"selectedEvent"},standalone:!0,features:[t.aNF],decls:8,vars:8,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngIf"],[3,"selectionChange","searchComplete","ngClass","entityType"]],template:function(R,T){1&R&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return T.closeCollectionModal()}),t.k0s()(),t.j41(5,"div",2),t.DNE(6,v,1,0,"ds-loading",3),t.j41(7,"ds-collection-dropdown",4),t.bIt("selectionChange",function(p){return T.selectObject(p)})("searchComplete",function(){return T.searchComplete()}),t.k0s()()()),2&R&&(t.R7$(2),t.SpI("",t.bMT(3,4,"dso-selector.select.collection.head")," "),t.R7$(4),t.Y8G("ngIf",T.isLoading()),t.R7$(),t.Y8G("ngClass",t.eq3(6,f,T.isLoading()))("entityType",T.entityType))},dependencies:[h.v,e.m,u.h,u.D9,i.YU,i.bT],styles:[".btn-close[_ngcontent-%COMP%]:focus{outline:none!important}"]})}}return _})()},66731:(F,b,n)=>{"use strict";n.d(b,{S:()=>i});var i=function(t){return t.Submission="SUBMISSION",t.Workflow="WORKFLOW",t}(i||{})},93158:(F,b,n)=>{"use strict";n.d(b,{Bo:()=>le,CG:()=>E,Dy:()=>k,IE:()=>se,Ob:()=>Z,SE:()=>Q,Sm:()=>_,Vn:()=>u,Z5:()=>J,Zi:()=>C,Zl:()=>U,_D:()=>ee,dm:()=>v,f0:()=>A,h3:()=>x,hJ:()=>m,i6:()=>f,jc:()=>T,kq:()=>q,ky:()=>j,l5:()=>G,lE:()=>t,nt:()=>fe,nu:()=>X,oW:()=>p,pL:()=>K,sf:()=>$,sj:()=>D,t2:()=>S,tR:()=>w,ug:()=>R,v0:()=>te,w7:()=>ne,wM:()=>M,wT:()=>h,x9:()=>z});var i=n(91e3);const t={INIT_SUBMISSION_FORM:(0,i.N)("dspace/submission/INIT_SUBMISSION_FORM"),RESET_SUBMISSION_FORM:(0,i.N)("dspace/submission/RESET_SUBMISSION_FORM"),CANCEL_SUBMISSION_FORM:(0,i.N)("dspace/submission/CANCEL_SUBMISSION_FORM"),COMPLETE_INIT_SUBMISSION_FORM:(0,i.N)("dspace/submission/COMPLETE_INIT_SUBMISSION_FORM"),SAVE_FOR_LATER_SUBMISSION_FORM:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM"),SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS"),SAVE_FOR_LATER_SUBMISSION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM_ERROR"),SAVE_SUBMISSION_FORM:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM"),SAVE_SUBMISSION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM_SUCCESS"),SAVE_SUBMISSION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM_ERROR"),SAVE_SUBMISSION_SECTION_FORM:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM"),SAVE_SUBMISSION_SECTION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM_SUCCESS"),SAVE_SUBMISSION_SECTION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM_ERROR"),CHANGE_SUBMISSION_COLLECTION:(0,i.N)("dspace/submission/CHANGE_SUBMISSION_COLLECTION"),SET_ACTIVE_SECTION:(0,i.N)("dspace/submission/SET_ACTIVE_SECTION"),INIT_SECTION:(0,i.N)("dspace/submission/INIT_SECTION"),ENABLE_SECTION:(0,i.N)("dspace/submission/ENABLE_SECTION"),DISABLE_SECTION:(0,i.N)("dspace/submission/DISABLE_SECTION"),SET_SECTION_FORM_ID:(0,i.N)("dspace/submission/SET_SECTION_FORM_ID"),SECTION_STATUS_CHANGE:(0,i.N)("dspace/submission/SECTION_STATUS_CHANGE"),SECTION_LOADING_STATUS_CHANGE:(0,i.N)("dspace/submission/SECTION_LOADING_STATUS_CHANGE"),UPDATE_SECTION_DATA:(0,i.N)("dspace/submission/UPDATE_SECTION_DATA"),UPDATE_SECTION_DATA_SUCCESS:(0,i.N)("dspace/submission/UPDATE_SECTION_DATA_SUCCESS"),SAVE_AND_DEPOSIT_SUBMISSION:(0,i.N)("dspace/submission/SAVE_AND_DEPOSIT_SUBMISSION"),DEPOSIT_SUBMISSION:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION"),DEPOSIT_SUBMISSION_SUCCESS:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION_SUCCESS"),DEPOSIT_SUBMISSION_ERROR:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION_ERROR"),DISCARD_SUBMISSION:(0,i.N)("dspace/submission/DISCARD_SUBMISSION"),DISCARD_SUBMISSION_SUCCESS:(0,i.N)("dspace/submission/DISCARD_SUBMISSION_SUCCESS"),DISCARD_SUBMISSION_ERROR:(0,i.N)("dspace/submission/DISCARD_SUBMISSION_ERROR"),CLEAN_DUPLICATE_DETECTION:(0,i.N)("dspace/submission/CLEAN_DUPLICATE_DETECTION"),NEW_FILE:(0,i.N)("dspace/submission/NEW_FILE"),EDIT_FILE_DATA:(0,i.N)("dspace/submission/EDIT_FILE_DATA"),EDIT_FILE_PRIMARY_BITSTREAM_DATA:(0,i.N)("dspace/submission/EDIT_FILE_PRIMARY_BITSTREAM_DATA"),DELETE_FILE:(0,i.N)("dspace/submission/DELETE_FILE"),ADD_SECTION_ERROR:(0,i.N)("dspace/submission/ADD_SECTION_ERROR"),DELETE_SECTION_ERROR:(0,i.N)("dspace/submission/DELETE_SECTION_ERROR"),REMOVE_SECTION_ERRORS:(0,i.N)("dspace/submission/REMOVE_SECTION_ERRORS")};class u{constructor(Te,be,me){this.type=t.ADD_SECTION_ERROR,this.payload={submissionId:Te,sectionId:be,error:me}}}class h{constructor(Te,be,me,re,Ee,De,tt,ht,Fe,Et,Ye){this.type=t.INIT_SECTION,this.payload={submissionId:Te,sectionId:be,header:me,config:re,mandatory:Ee,scope:De,sectionType:tt,visibility:ht,enabled:Fe,data:Et,errors:Ye}}}class m{constructor(Te,be){this.type=t.ENABLE_SECTION,this.payload={submissionId:Te,sectionId:be}}}class f{constructor(Te,be){this.type=t.DISABLE_SECTION,this.payload={submissionId:Te,sectionId:be}}}class v{constructor(Te,be,me,re,Ee,De){this.type=t.UPDATE_SECTION_DATA,this.payload={submissionId:Te,sectionId:be,data:me,errorsToShow:re,serverValidationErrors:Ee,metadata:De}}}class E{constructor(Te){this.type=t.CLEAN_DUPLICATE_DETECTION,this.payload={submissionId:Te}}}class _{constructor(){this.type=t.UPDATE_SECTION_DATA_SUCCESS}}class C{constructor(Te,be){this.type=t.REMOVE_SECTION_ERRORS,this.payload={submissionId:Te,sectionId:be}}}class S{constructor(Te,be,me){this.type=t.SET_SECTION_FORM_ID,this.payload={submissionId:Te,sectionId:be,formId:me}}}class R{constructor(Te){this.type=t.COMPLETE_INIT_SUBMISSION_FORM,this.payload={submissionId:Te}}}class T{constructor(Te,be,me,re,Ee,De,tt){this.type=t.INIT_SUBMISSION_FORM,this.payload={collectionId:Te,submissionId:be,selfUrl:me,submissionDefinition:re,sections:Ee,item:De,errors:tt}}}class A{constructor(Te){this.type=t.SAVE_FOR_LATER_SUBMISSION_FORM,this.payload={submissionId:Te}}}class p{constructor(Te,be){this.type=t.SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS,this.payload={submissionId:Te,submissionObject:be}}}class D{constructor(Te,be=!1){this.type=t.SAVE_SUBMISSION_FORM,this.payload={submissionId:Te,isManual:be}}}class w{constructor(Te,be,me,re){this.type=t.SAVE_SUBMISSION_FORM_SUCCESS,this.payload={submissionId:Te,submissionObject:be,showNotifications:me,showErrors:re}}}class M{constructor(Te){this.type=t.SAVE_SUBMISSION_FORM_ERROR,this.payload={submissionId:Te}}}class x{constructor(Te,be){this.type=t.SAVE_SUBMISSION_SECTION_FORM,this.payload={submissionId:Te,sectionId:be}}}class j{constructor(Te,be,me){this.type=t.SAVE_SUBMISSION_SECTION_FORM_SUCCESS,this.payload={submissionId:Te,submissionObject:be,notify:me}}}class U{constructor(Te){this.type=t.SAVE_SUBMISSION_SECTION_FORM_ERROR,this.payload={submissionId:Te}}}class ${constructor(Te,be,me,re,Ee,De){this.type=t.RESET_SUBMISSION_FORM,this.payload={collectionId:Te,submissionId:be,selfUrl:me,sections:re,submissionDefinition:Ee,item:De}}}class k{constructor(){this.type=t.CANCEL_SUBMISSION_FORM}}class K{constructor(Te,be){this.type=t.CHANGE_SUBMISSION_COLLECTION,this.payload={submissionId:Te,collectionId:be}}}class X{constructor(Te){this.type=t.SAVE_AND_DEPOSIT_SUBMISSION,this.payload={submissionId:Te}}}class G{constructor(Te){this.type=t.DEPOSIT_SUBMISSION,this.payload={submissionId:Te}}}class q{constructor(Te){this.type=t.DEPOSIT_SUBMISSION_SUCCESS,this.payload={submissionId:Te}}}class z{constructor(Te){this.type=t.DEPOSIT_SUBMISSION_ERROR,this.payload={submissionId:Te}}}class te{constructor(Te){this.type=t.DISCARD_SUBMISSION,this.payload={submissionId:Te}}}class Z{constructor(Te){this.type=t.DISCARD_SUBMISSION_SUCCESS,this.payload={submissionId:Te}}}class J{constructor(Te){this.type=t.DISCARD_SUBMISSION_ERROR,this.payload={submissionId:Te}}}class Q{constructor(Te,be,me){this.type=t.SECTION_STATUS_CHANGE,this.payload={submissionId:Te,sectionId:be,status:me}}}class ee{constructor(Te,be){this.type=t.SET_ACTIVE_SECTION,this.payload={submissionId:Te,sectionId:be}}}class le{constructor(Te,be,me,re){this.type=t.NEW_FILE,this.payload={submissionId:Te,sectionId:be,fileId:me,data:re}}}class ne{constructor(Te,be,me){this.type=t.EDIT_FILE_PRIMARY_BITSTREAM_DATA,this.payload={submissionId:Te,sectionId:be,fileId:me}}}class fe{constructor(Te,be,me,re){this.type=t.EDIT_FILE_DATA,this.payload={submissionId:Te,sectionId:be,fileId:me,data:re}}}class se{constructor(Te,be,me){this.type=t.DELETE_FILE,this.payload={submissionId:Te,sectionId:be,fileId:me}}}},88643:(F,b,n)=>{"use strict";n.d(b,{l:()=>i});var i=function(t){return t.Relationships="relationships",t.SubmissionForm="submission-form",t.Upload="upload",t.License="license",t.CcLicense="cclicense",t.AccessesCondition="accessCondition",t.SherpaPolicies="sherpaPolicy",t.Identifiers="identifiers",t.Collection="collection",t.CoarNotify="coarnotify",t.Duplicates="duplicates",t}(i||{})},72147:(F,b,n)=>{"use strict";n.d(b,{c:()=>te});var i=n(1473),t=n(48376),u=n.n(t),e=n(5771),h=n.n(e),m=n(48125),f=n.n(m),v=n(84572),E=n(96354),_=n(23294),C=n(73028),S=n(5964),R=n(96697),T=n(92409),A=n(68552),p=n(83085),L=n(82777),D=n(32710),w=n(54002),M=n(39806),x=n(66731),j=n(93158),U=n(645),$=n(61010),k=n(90049),K=n(88643),X=n(54438),G=n(53588),q=n(25499),z=n(41780);let te=(()=>{class Z{constructor(Q,ee,le,ne,fe,se){this.formService=Q,this.notificationsService=ee,this.scrollToService=le,this.submissionService=ne,this.store=fe,this.translate=se}checkSectionErrors(Q,ee,le,ne,fe=[]){if((0,L.Im)(ne))this.store.dispatch(new j.Zi(Q,ee)),this.store.dispatch(new D.Dp(le));else if(!f()(ne,fe)){const se=[];ne.forEach(ce=>{(0,k.A)(ce.path).forEach(be=>{be.fieldId&&(this.formService.addError(le,be.fieldId,be.fieldIndex,ce.message),se.push(be.fieldId))})}),fe.forEach(ce=>{(0,k.A)(ce.path).forEach(be=>{be.fieldId&&(se.includes(be.fieldId)||this.formService.removeError(le,be.fieldId,be.fieldIndex))})})}}dispatchRemoveSectionErrors(Q,ee){this.store.dispatch(new j.Zi(Q,ee))}dispatchSetSectionFormId(Q,ee,le){this.store.dispatch(new j.t2(Q,ee,le))}getSectionData(Q,ee,le){return this.store.select((0,U.on)(Q,ee)).pipe((0,E.T)(ne=>le===K.l.SubmissionForm?(0,A.Z5)(ne):ne),(0,_.F)())}getShownSectionErrors(Q,ee,le){let ne;return ne=le!==K.l.SubmissionForm?this.getSectionErrors(Q,ee):this.getSectionState(Q,ee,le).pipe((0,C.Z)(fe=>this.formService.getFormErrors(fe.formId).pipe((0,E.T)(se=>{const ce=new T.S("sections",ee),Te=se.map(be=>({path:ce.getPath(be.fieldId.replace(/\_/g,".")).path,message:be.message})).filter(be=>-1===u()(fe.errorsToShow,{path:be.path}));return[...fe.errorsToShow,...Te]})))),ne}getSectionErrors(Q,ee){return this.store.select((0,U.D6)(Q,ee)).pipe((0,_.F)())}getSectionServerErrors(Q,ee){return this.store.select((0,U.aU)(Q,ee)).pipe((0,_.F)())}getSectionState(Q,ee,le){return this.store.select((0,U.sR)(Q,ee)).pipe((0,S.p)(ne=>(0,L.a4)(ne)),(0,E.T)(ne=>ne),(0,E.T)(ne=>(0,L.a4)(ne.data)&&le===K.l.SubmissionForm?Object.assign({},ne,{data:(0,A.Z5)(ne.data)}):ne),(0,_.F)())}isSectionValid(Q,ee){return this.store.select((0,U.sR)(Q,ee)).pipe((0,S.p)(le=>(0,L.a4)(le)),(0,E.T)(le=>le.isValid),(0,_.F)())}isSectionActive(Q,ee){return this.submissionService.getActiveSectionId(Q).pipe((0,E.T)(le=>ee===le),(0,_.F)())}isSectionEnabled(Q,ee){return this.store.select((0,U.sR)(Q,ee)).pipe((0,S.p)(le=>(0,L.a4)(le)),(0,E.T)(le=>le.enabled),(0,_.F)())}isSectionReadOnly(Q,ee,le){return this.store.select((0,U.sR)(Q,ee)).pipe((0,S.p)(ne=>(0,L.a4)(ne)),(0,E.T)(ne=>!((0,L.Im)(le)||(0,L.Im)(ne.visibility)||(0,L.Im)(ne.scope))&&"READONLY"===((le.valueOf()===p.L.WorkspaceItem.valueOf()?x.S.Submission:x.S.Workflow).valueOf()===ne.scope.valueOf()?ne.visibility.main:ne.visibility.other)),(0,_.F)())}isSectionAvailable(Q,ee){return this.store.select((0,U.sO)(Q)).pipe((0,S.p)(le=>(0,L.EA)(le)),(0,E.T)(le=>(0,L.EA)(le.sections)&&(0,L.EA)(le.sections[ee])),(0,_.F)())}isSectionTypeAvailable(Q,ee){return this.store.select((0,U.sO)(Q)).pipe((0,S.p)(le=>(0,L.EA)(le)),(0,E.T)(le=>(0,L.EA)(le.sections)&&(0,L.EA)(h()(le.sections,{sectionType:ee}))),(0,_.F)())}isSectionType(Q,ee,le){return this.store.select((0,U.sO)(Q)).pipe((0,S.p)(ne=>(0,L.EA)(ne)),(0,E.T)(ne=>(0,L.EA)(ne.sections)&&(0,L.EA)(ne.sections[ee])&&ne.sections[ee].sectionType===le),(0,_.F)())}addSection(Q,ee){this.store.dispatch(new j.hJ(Q,ee)),this.scrollToService.scrollTo({target:ee,offset:-70})}removeSection(Q,ee){this.store.dispatch(new j.i6(Q,ee))}updateSectionData(Q,ee,le,ne=[],fe=[],se){if((0,L.hj)(le)){const ce=this.isSectionAvailable(Q,ee),Te=this.isSectionEnabled(Q,ee);(0,v.z)(ce,Te).pipe((0,R.s)(1),(0,S.p)(([be,me])=>be)).subscribe(([be,me])=>{this.store.dispatch(new j.dm(Q,ee,le,ne,fe,se))})}}setSectionError(Q,ee,le){this.store.dispatch(new j.Vn(Q,ee,le))}setSectionStatus(Q,ee,le){this.store.dispatch(new j.SE(Q,ee,le))}computeSectionConfiguredMetadata(Q){const ee=[],le="string"==typeof Q?JSON.parse(Q,i.zno):Q;return le.rows&&!(0,L.Im)(le.rows)&&le.rows.forEach(ne=>{ne.fields&&!(0,L.Im)(ne.fields)&&ne.fields.forEach(fe=>{fe.selectableMetadata&&!(0,L.Im)(fe.selectableMetadata)&&fe.selectableMetadata.forEach(se=>{ee.includes(se.metadata)||ee.push(se.metadata)})})}),ee}getIsInformational(Q){return Q===K.l.SherpaPolicies}static{this.\u0275fac=function(ee){return new(ee||Z)(X.KVO(w.u),X.KVO(M.I),X.KVO(G.WY),X.KVO($.E),X.KVO(q.il),X.KVO(z.c$))}}static{this.\u0275prov=X.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}return Z})()},14723:(F,b,n)=>{"use strict";n.d(b,{x:()=>i});var i=function(t){return t.HIDDEN="HIDDEN",t.READONLY="READONLY",t}(i||{})},645:(F,b,n)=>{"use strict";n.d(b,{D6:()=>S,Uh:()=>v,aU:()=>R,hZ:()=>h,hi:()=>E,on:()=>C,pc:()=>e,sO:()=>m,sR:()=>_});var i=n(25499),t=n(82777),u=n(83678);function e(T,A,p){return(0,i.Mz)(T,L=>{if((0,t.a4)(L)&&(0,t.a4)(L[A]))return L[A][p]})}function h(T,A){return(0,i.Mz)(T,p=>{if((0,t.a4)(p)&&(0,t.a4)(p[A]))return p[A]})}function m(T){return e(u.O,"objects",T)}function v(T,A){return h(C(T,A),"files")}function E(T,A,p){return e(C(T,A),"files",p)}function _(T,A){return e(m(T),"sections",A)}function C(T,A){return h(_(T,A),"data")}function S(T,A){return h(_(T,A),"errorsToShow")}function R(T,A){return h(_(T,A),"serverValidationErrors")}},83678:(F,b,n)=>{"use strict";n.d(b,{u:()=>ne,O:()=>fe});var i=n(25499),t=n(25622),u=n.n(t),e=n(5771),h=n.n(e),m=n(48125),f=n.n(m),v=n(63448),E=n.n(v),_=n(82777),C=n(93158);const S=Object.create({});function q(se,ce){return se||(ce?[...ce]:void 0)}function z(se,ce,Te){return(0,_.a4)(se[ce.payload.submissionId].sections[ce.payload.sectionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,{[ce.payload.sectionId]:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId],{enabled:Te})})})}):se}const ne={objects:function R(se=S,ce){switch(ce.type){case C.lE.COMPLETE_INIT_SUBMISSION_FORM:return function w(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{isLoading:!1})}):se}(se,ce);case C.lE.INIT_SUBMISSION_FORM:return function L(se,ce){const Te=Object.assign({},se);return Te[ce.payload.submissionId]={collection:ce.payload.collectionId,definition:ce.payload.submissionDefinition.name,selfUrl:ce.payload.selfUrl,activeSection:null,sections:Object.create(null),isLoading:!0,savePending:!1,depositPending:!1},Te}(se,ce);case C.lE.RESET_SUBMISSION_FORM:return function D(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.create(null),isLoading:!0})}):se}(se,ce);case C.lE.CANCEL_SUBMISSION_FORM:return S;case C.lE.SAVE_SUBMISSION_FORM:case C.lE.SAVE_FOR_LATER_SUBMISSION_FORM:case C.lE.SAVE_AND_DEPOSIT_SUBMISSION:case C.lE.SAVE_SUBMISSION_SECTION_FORM:return function M(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{activeSection:se[ce.payload.submissionId].activeSection,sections:se[ce.payload.submissionId].sections,isLoading:se[ce.payload.submissionId].isLoading,savePending:!0})}):se}(se,ce);case C.lE.SAVE_SUBMISSION_FORM_SUCCESS:case C.lE.SAVE_SUBMISSION_SECTION_FORM_SUCCESS:case C.lE.SAVE_SUBMISSION_FORM_ERROR:case C.lE.SAVE_FOR_LATER_SUBMISSION_FORM_ERROR:case C.lE.SAVE_SUBMISSION_SECTION_FORM_ERROR:return function x(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{savePending:!1})}):se}(se,ce);case C.lE.CHANGE_SUBMISSION_COLLECTION:return function $(se,ce){return Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{collection:ce.payload.collectionId})})}(se,ce);case C.lE.DEPOSIT_SUBMISSION:return function j(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{savePending:!1,depositPending:!0})}):se}(se,ce);case C.lE.DEPOSIT_SUBMISSION_SUCCESS:return S;case C.lE.DEPOSIT_SUBMISSION_ERROR:return function U(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{depositPending:!1})}):se}(se,ce);case C.lE.DISCARD_SUBMISSION:return se;case C.lE.DISCARD_SUBMISSION_SUCCESS:return S;case C.lE.DISCARD_SUBMISSION_ERROR:return se;case C.lE.SET_ACTIVE_SECTION:return function k(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{activeSection:ce.payload.sectionId,sections:se[ce.payload.submissionId].sections,isLoading:se[ce.payload.submissionId].isLoading,savePending:se[ce.payload.submissionId].savePending})}):se}(se,ce);case C.lE.INIT_SECTION:return function K(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,{[ce.payload.sectionId]:{header:ce.payload.header,config:ce.payload.config,mandatory:ce.payload.mandatory,scope:ce.payload.scope,sectionType:ce.payload.sectionType,visibility:ce.payload.visibility,collapsed:!1,enabled:ce.payload.enabled,data:ce.payload.data,errorsToShow:[],serverValidationErrors:ce.payload.errors||[],isLoading:!1,isValid:(0,_.Im)(ce.payload.errors)}})})}):se}(se,ce);case C.lE.SET_SECTION_FORM_ID:return function X(se,ce){return(0,_.a4)(se[ce.payload.submissionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,{[ce.payload.sectionId]:{...se[ce.payload.submissionId].sections[ce.payload.sectionId],formId:ce.payload.formId}})})}):se}(se,ce);case C.lE.ENABLE_SECTION:return z(se,ce,!0);case C.lE.UPDATE_SECTION_DATA:return function G(se,ce){return(0,_.hj)(se[ce.payload.submissionId])&&(0,_.hj)(se[ce.payload.submissionId].sections[ce.payload.sectionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,{[ce.payload.sectionId]:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId],{enabled:!0,data:ce.payload.data,errorsToShow:ce.payload.errorsToShow,serverValidationErrors:ce.payload.serverValidationErrors,metadata:q(ce.payload.metadata,se[ce.payload.submissionId].sections[ce.payload.sectionId].metadata)})})})}):se}(se,ce);case C.lE.DISABLE_SECTION:return z(se,ce,!1);case C.lE.SECTION_STATUS_CHANGE:return function te(se,ce){return(0,_.hj)(se[ce.payload.submissionId])&&(0,_.a4)(se[ce.payload.submissionId].sections[ce.payload.sectionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,Object.assign({},{[ce.payload.sectionId]:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId],{isValid:ce.payload.status})}))})}):se}(se,ce);case C.lE.NEW_FILE:return function Z(se,ce){const Te=se[ce.payload.submissionId].sections[ce.payload.sectionId].data;let be;return(0,_.b0)(Te.files)?be={files:[ce.payload.data]}:(be=Te,be.files.push(ce.payload.data)),Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,{[ce.payload.sectionId]:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId],{enabled:!0,data:be})})})})}(se,ce);case C.lE.EDIT_FILE_PRIMARY_BITSTREAM_DATA:return function J(se,ce){const Te=se[ce.payload.submissionId].sections[ce.payload.sectionId].data,{submissionId:be,sectionId:me,fileId:re}=ce.payload,Ee=h()(Te.files,{uuid:re});if((0,_.kZ)(Ee))return se;const De=se[be];return{...se,[be]:{...De,sections:{...De.sections,[me]:{...De.sections[me],data:{...De.sections[me].data,primary:re}}},isLoading:De.isLoading,savePending:De.savePending}}}(se,ce);case C.lE.EDIT_FILE_DATA:return function Q(se,ce){const Te=se[ce.payload.submissionId].sections[ce.payload.sectionId].data;if((0,_.a4)(Te.files)){const be=h()(Te.files,{uuid:ce.payload.fileId});if((0,_.Pe)(be)){const me=Array.from(Te.files);return me[be]=ce.payload.data,Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{activeSection:se[ce.payload.submissionId].activeSection,sections:Object.assign({},se[ce.payload.submissionId].sections,Object.assign({},{[ce.payload.sectionId]:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId],{data:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId].data,{files:me})})})),isLoading:se[ce.payload.submissionId].isLoading,savePending:se[ce.payload.submissionId].savePending})})}}return se}(se,ce);case C.lE.DELETE_FILE:return function ee(se,ce){const Te=se[ce.payload.submissionId].sections[ce.payload.sectionId].data;if((0,_.a4)(Te.files)){const be=h()(Te.files,{uuid:ce.payload.fileId});if((0,_.Pe)(be)){const me=Array.from(Te.files);return me.splice(be,1),Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,Object.assign({},{[ce.payload.sectionId]:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId],{data:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId].data,{files:me})})}))})})}}return se}(se,ce);case C.lE.ADD_SECTION_ERROR:return((se,ce)=>{const{submissionId:Te,sectionId:be,error:me}=ce.payload;if((0,_.a4)(se[Te].sections[be])){const re=E()(se[Te].sections[be].errorsToShow.concat(me),f());return Object.assign({},se,{[Te]:Object.assign({},se[Te],{activeSection:se[ce.payload.submissionId].activeSection,sections:Object.assign({},se[Te].sections,{[be]:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId],{errorsToShow:re})})})})}return se})(se,ce);case C.lE.DELETE_SECTION_ERROR:return((se,ce)=>{const{submissionId:Te,sectionId:be,errors:me}=ce.payload;if((0,_.a4)(se[Te].sections[be])){let re;return re=Array.isArray(me)?u()(me,me,f()):se[Te].sections[be].errorsToShow.filter(Ee=>Ee.path!==me.path||!f()(Ee,me)),Object.assign({},se,{[Te]:Object.assign({},se[Te],{sections:Object.assign({},se[Te].sections,{[be]:Object.assign({},se[Te].sections[be],{errorsToShow:re})})})})}return se})(se,ce);case C.lE.REMOVE_SECTION_ERRORS:return function p(se,ce){return(0,_.hj)(se[ce.payload.submissionId])&&(0,_.hj)(se[ce.payload.submissionId].sections[ce.payload.sectionId])?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,{[ce.payload.sectionId]:Object.assign({},se[ce.payload.submissionId].sections[ce.payload.sectionId],{errorsToShow:[]})})})}):se}(se,ce);case C.lE.CLEAN_DUPLICATE_DETECTION:return function le(se,ce){return(0,_.hj)(se[ce.payload.submissionId])&&se[ce.payload.submissionId].sections.hasOwnProperty("duplicates")?Object.assign({},se,{[ce.payload.submissionId]:Object.assign({},se[ce.payload.submissionId],{sections:Object.assign({},se[ce.payload.submissionId].sections,{duplicates:Object.assign({},se[ce.payload.submissionId].sections.duplicates,{enabled:!1,data:{potentialDuplicates:[]}})})})}):se}(se,ce);default:return se}}},fe=(0,i.UX)("submission")},61010:(F,b,n)=>{"use strict";n.d(b,{E:()=>Q});var i=n(21626),t=n(25499),u=n(7673),e=n(41584),h=n(96354),m=n(99437),f=n(47677),v=n(5964),E=n(99172),_=n(23294),C=n(96697),S=n(88141),R=n(70274),T=n(88280),A=n(13808),p=n(32473),L=n(56760),D=n(78655),w=n(83203),M=n(67625),x=n(83085),j=n(82777),U=n(39806),$=n(43404),k=n(66731),K=n(93158),X=n(645),G=n(83678),q=n(54438),z=n(7901),te=n(41780);let Q=(()=>{class ee{constructor(ne,fe,se,ce,Te,be,me,re,Ee){this.notificationsService=ne,this.restService=fe,this.router=se,this.routeService=ce,this.store=Te,this.translate=be,this.searchService=me,this.requestService=re,this.jsonPatchOperationService=Ee,this.workspaceLinkPath="workspaceitems",this.workflowLinkPath="workflowitems"}changeSubmissionCollection(ne,fe){this.store.dispatch(new K.pL(ne,fe))}getSubmissionCollectionId(ne){return this.store.pipe((0,t.Lt)(function J(ee){return(0,t.Mz)(function Z(ee){return(0,t.Mz)(G.O,le=>le.objects[ee])}(ee),le=>le?.collection)}(ne)))}createSubmission(ne){return this.restService.postToEndpoint(this.workspaceLinkPath,{},null,null,ne).pipe((0,h.T)(fe=>fe[0]),(0,m.W)(()=>(0,u.of)({})))}createSubmissionFromExternalSource(ne,fe){const se=Object.create({});let ce=new i.Lr;return ce=ce.append("Content-Type","text/uri-list"),se.headers=ce,this.restService.postToEndpoint(this.workspaceLinkPath,ne,null,se,fe)}depositSubmission(ne){const fe=Object.create({});let se=new i.Lr;return se=se.append("Content-Type","text/uri-list"),fe.headers=se,this.restService.postToEndpoint(this.workflowLinkPath,ne,null,fe)}discardSubmission(ne){return this.restService.deleteById(ne)}dispatchInit(ne,fe,se,ce,Te,be,me){this.store.dispatch(new K.jc(ne,fe,se,ce,Te,be,me))}dispatchDeposit(ne){this.store.dispatch(new K.nu(ne))}dispatchDiscard(ne){this.store.dispatch(new K.v0(ne))}dispatchSave(ne,fe){this.getSubmissionSaveProcessingStatus(ne).pipe((0,f.I)(se=>!se)).subscribe(()=>{this.store.dispatch(new K.sj(ne,fe))})}dispatchSaveForLater(ne){this.store.dispatch(new K.f0(ne))}dispatchSaveSection(ne,fe){this.store.dispatch(new K.h3(ne,fe))}getActiveSectionId(ne){return this.getSubmissionObject(ne).pipe((0,h.T)(fe=>fe.activeSection))}getSubmissionObject(ne){return this.store.select((0,X.sO)(ne)).pipe((0,v.p)(fe=>(0,j.EA)(fe)))}getSubmissionSections(ne){return this.getSubmissionObject(ne).pipe((0,f.I)(fe=>(0,j.EA)(fe.sections)&&!fe.isLoading),(0,h.T)(fe=>fe.sections),(0,h.T)(fe=>{const se=[];return Object.keys(fe).filter(ce=>!this.isSectionHidden(fe[ce])).forEach(ce=>{const Te=Object.create({});Te.config=fe[ce].config,Te.mandatory=fe[ce].mandatory,Te.data=fe[ce].data,Te.errorsToShow=fe[ce].errorsToShow,Te.serverValidationErrors=fe[ce].serverValidationErrors,Te.header=fe[ce].header,Te.id=ce,Te.sectionType=fe[ce].sectionType,se.push(Te)}),se}),(0,E.Z)([]),(0,_.F)())}getDisabledSectionsList(ne){return this.getSubmissionObject(ne).pipe((0,v.p)(fe=>(0,j.EA)(fe.sections)&&!fe.isLoading),(0,h.T)(fe=>fe.sections),(0,h.T)(fe=>{const se=[];return Object.keys(fe).filter(ce=>!this.isSectionHidden(fe[ce])).filter(ce=>!fe[ce].enabled).forEach(ce=>{const Te=Object.create({});Te.header=fe[ce].header,Te.id=ce,se.push(Te)}),se}),(0,E.Z)([]),(0,_.F)())}getSubmissionObjectLinkName(){const ne=this.router.routerState.snapshot.url;return ne.startsWith("/workspaceitems")||ne.startsWith("/submit")?this.workspaceLinkPath:ne.startsWith("/workflowitems")?this.workflowLinkPath:"edititems"}getSubmissionScope(){let ne;switch(this.getSubmissionObjectLinkName()){case this.workspaceLinkPath:ne=x.L.WorkspaceItem;break;case this.workflowLinkPath:ne=x.L.WorkflowItem}return ne}getSubmissionStatus(ne){return this.store.select(G.O).pipe((0,h.T)(fe=>fe.objects[ne]),(0,v.p)(fe=>(0,j.EA)(fe)&&(0,j.EA)(fe.sections)),(0,h.T)(fe=>fe.sections),(0,h.T)(fe=>{const se=[];return(0,j.EA)(fe)&&Object.keys(fe).filter(ce=>fe.hasOwnProperty(ce)).filter(ce=>!this.isSectionHidden(fe[ce])).filter(ce=>fe[ce].enabled).filter(ce=>!1===fe[ce].isValid).forEach(ce=>{se.push(fe[ce].isValid)}),!(0,j.Im)(fe)&&(0,j.Im)(se)}),(0,_.F)(),(0,E.Z)(!1))}getSubmissionSaveProcessingStatus(ne){return this.getSubmissionObject(ne).pipe((0,h.T)(fe=>fe.savePending),(0,_.F)(),(0,E.Z)(!1))}getSubmissionDepositProcessingStatus(ne){return this.getSubmissionObject(ne).pipe((0,h.T)(fe=>fe.depositPending),(0,_.F)(),(0,E.Z)(!1))}hasUnsavedModification(){return this.jsonPatchOperationService.hasPendingOperations("sections")}isSectionHidden(ne){const fe=this.getSubmissionScope();return!((0,j.Im)(fe)||(0,j.Im)(ne.visibility)||(0,j.Im)(ne.scope))&&"HIDDEN"===((fe.valueOf()===x.L.WorkspaceItem.valueOf()?k.S.Submission:k.S.Workflow).valueOf()===ne.scope.valueOf()?ne.visibility.main:ne.visibility.other)}isSubmissionLoading(ne){return this.getSubmissionObject(ne).pipe((0,h.T)(fe=>fe.isLoading),(0,_.F)())}notifyNewSection(ne,fe,se){const ce=this.translate.instant("submission.sections.general.metadata-extracted-new-section",{sectionId:fe});this.notificationsService.info(null,ce,null,!0)}redirectToMyDSpace(){this.searchService.getEndpoint().pipe((0,C.s)(1),(0,S.M)(ne=>this.requestService.removeByHrefSubstring(ne)),(0,R.H)(()=>this.routeService.getPreviousUrl().pipe((0,C.s)(1),(0,S.M)(ne=>{(0,j.Im)(ne)||!ne.startsWith("/mydspace")?this.router.navigate(["/mydspace"]):this.router.navigateByUrl(ne)})))).subscribe()}resetAllSubmissionObjects(){this.store.dispatch(new K.Dy)}resetSubmissionObject(ne,fe,se,ce,Te,be){this.store.dispatch(new K.sf(ne,fe,se,Te,ce,be))}retrieveSubmission(ne){return this.restService.getDataById(this.getSubmissionObjectLinkName(),ne).pipe((0,f.I)(fe=>(0,j.EA)(fe)),(0,h.T)(fe=>(0,$.SP)(fe[0])),(0,m.W)(fe=>{if(fe instanceof A._p)return(0,$.PM)(fe.errorMessage,fe.statusCode)}))}setActiveSection(ne,fe){this.store.dispatch(new K._D(ne,fe))}startAutoSave(ne){if(this.stopAutoSave(),0===T.c.submission.autosave.timer)return;const fe=T.c.submission.autosave.timer;this.timer$=(0,e.O)(fe,fe),this.autoSaveSub=this.timer$.subscribe(()=>this.store.dispatch(new K.sj(ne)))}stopAutoSave(){(0,j.a4)(this.autoSaveSub)&&(this.autoSaveSub.unsubscribe(),this.autoSaveSub=null)}static{this.\u0275fac=function(fe){return new(fe||ee)(q.KVO(U.I),q.KVO(M.O),q.KVO(z.Ix),q.KVO(L.v$),q.KVO(t.il),q.KVO(te.c$),q.KVO(D.S),q.KVO(p.B),q.KVO(w.U))}}static{this.\u0275prov=q.jDH({token:ee,factory:ee.\u0275fac})}}return ee})()},90049:(F,b,n)=>{"use strict";n.d(b,{A:()=>h});var i=n(82777);const t=/([^\/]+)/g,u=/\/sections\/(.*)/,h=m=>("string"==typeof m?[m]:m).map(v=>v.match(t)&&v.match(t).length>2?{sectionId:v.match(t)[1],fieldId:v.match(t)[2],fieldIndex:(0,i.a4)(v.match(t)[3])?+v.match(t)[3]:0,originalPath:v}:{sectionId:v.match(u)[1],originalPath:v})},7020:(F,b,n)=>{"use strict";n.d(b,{A:()=>u});var i=n(90049);const u=(e=[])=>{const h=Object.create({});return e.forEach(m=>{(0,i.A)(m.paths).forEach(v=>{const E={path:v.originalPath,message:m.message};h[v.sectionId]||(h[v.sectionId]=[]),h[v.sectionId].push(E)})}),h}},24215:(F,b,n)=>{"use strict";n.d(b,{C2:()=>t,jV:()=>e});var i=n(45663);const t="suggestions";function e(h){return new i.t(function u(){return`/${t}`}(),h).toString()}},58429:(F,b,n)=>{"use strict";n.d(b,{E:()=>$});var i=n(60177),t=n(54438),u=n(41780),e=n(56106),m=n(84412),f=n(40605),v=n(983),E=n(96354),_=n(5964),C=n(25558),S=n(27795),R=n(80183),T=n(82777),A=n(39806);const p=k=>({days:k}),L=k=>({hours:k}),D=k=>({minutes:k});function w(k,K){1&k&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&k&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"system-wide-alert-banner.countdown.prefix")," "))}function M(k,K){if(1&k&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&k){const X=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.days",t.eq3(6,p,t.bMT(2,1,X.countDownDays)))," ")}}function x(k,K){if(1&k&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&k){const X=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.hours",t.eq3(6,L,t.bMT(2,1,X.countDownHours)))," ")}}function j(k,K){if(1&k&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&k){const X=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.minutes",t.eq3(6,D,t.bMT(2,1,X.countDownMinutes)))," ")}}function U(k,K){if(1&k&&(t.j41(0,"div")(1,"div",1)(2,"div",2)(3,"span",3),t.DNE(4,w,3,3,"span",0),t.nI1(5,"async"),t.nI1(6,"async"),t.nI1(7,"async"),t.DNE(8,M,4,8,"span",0),t.nI1(9,"async"),t.DNE(10,x,4,8,"span",0),t.nI1(11,"async"),t.nI1(12,"async"),t.DNE(13,j,4,8,"span",0),t.nI1(14,"async"),t.nI1(15,"async"),t.nI1(16,"async"),t.k0s(),t.nrm(17,"span",4),t.nI1(18,"async"),t.k0s()()()),2&k){let X;const G=t.XpG();t.R7$(4),t.Y8G("ngIf",t.bMT(5,5,G.countDownDays)>0||t.bMT(6,7,G.countDownHours)>0||t.bMT(7,9,G.countDownMinutes)>0),t.R7$(4),t.Y8G("ngIf",t.bMT(9,11,G.countDownDays)>0),t.R7$(2),t.Y8G("ngIf",t.bMT(11,13,G.countDownDays)>0||t.bMT(12,15,G.countDownHours)>0),t.R7$(3),t.Y8G("ngIf",t.bMT(14,17,G.countDownDays)>0||t.bMT(15,19,G.countDownHours)>0||t.bMT(16,21,G.countDownMinutes)>0),t.R7$(4),t.Y8G("innerHTML",null==(X=t.bMT(18,23,G.systemWideAlert$))?null:X.message,t.npT)}}let $=(()=>{class k{constructor(X,G,q){this.platformId=X,this.systemWideAlertDataService=G,this.notificationsService=q,this.systemWideAlert$=new m.t(void 0),this.countDownMinutes=new m.t(0),this.countDownHours=new m.t(0),this.countDownDays=new m.t(0),this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.systemWideAlertDataService.searchBy("active").pipe((0,R.Hz)(),(0,E.T)(X=>X.page),(0,_.p)(X=>(0,T.hj)(X)),(0,E.T)(X=>X[0])).subscribe(X=>{this.systemWideAlert$.next(X)})),this.subscriptions.push(this.systemWideAlert$.pipe((0,C.n)(X=>{if((0,T.a4)(X)&&(0,T.a4)(X.countdownTo)){const q=(0,e.zonedTimeToUtc)(X.countdownTo,"UTC").getTime()-(new Date).getTime();if(q>0)return this.allocateTimeUnits(q),(0,i.UE)(this.platformId)?(0,f.Y)(1e3):v.w}return this.countDownDays.next(0),this.countDownHours.next(0),this.countDownMinutes.next(0),v.w})).subscribe(()=>{this.setTimeDifference(this.systemWideAlert$.getValue().countdownTo)}))}setTimeDifference(X){const q=(0,e.zonedTimeToUtc)(X,"UTC").getTime()-(new Date).getTime();this.allocateTimeUnits(q)}allocateTimeUnits(X){const G=Math.floor(X/6e4%60),q=Math.floor(X/36e5%24),z=Math.floor(X/864e5);this.countDownMinutes.next(G),this.countDownHours.next(q),this.countDownDays.next(z)}ngOnDestroy(){this.subscriptions.forEach(X=>{(0,T.a4)(X)&&X.unsubscribe()})}static{this.\u0275fac=function(G){return new(G||k)(t.rXU(t.Agw),t.rXU(S.SystemWideAlertDataService),t.rXU(A.I))}}static{this.\u0275cmp=t.VBU({type:k,selectors:[["ds-system-wide-alert-banner"]],standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[[4,"ngIf"],[1,"rounded-0","alert","alert-warning","w100","m-0","px-1"],[1,"container"],[1,"fw-bold"],[3,"innerHTML"]],template:function(G,q){if(1&G&&(t.DNE(0,U,19,25,"div",0),t.nI1(1,"async")),2&G){let z;t.Y8G("ngIf",null==(z=t.bMT(1,1,q.systemWideAlert$))?null:z.active)}},dependencies:[i.bT,i.Jj,u.h,u.D9]})}}return k})()},30398:(F,b,n)=>{"use strict";n.d(b,{$:()=>f});var i=n(31635),t=n(74850),u=n(21921),e=n(42547),h=n(98688),m=n(61196);let f=class{static{this.type=m.B}};(0,i.Cg)([h.aK,t.autoserialize,(0,i.Sn)("design:type",e.v)],f.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"alertId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"message",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"countdownTo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],f.prototype,"active",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],f.prototype,"_links",void 0),f=(0,i.Cg)([u.gV],f)},61196:(F,b,n)=>{"use strict";n.d(b,{B:()=>t});const t=new(n(42547).v)("systemwidealert")},97402:(F,b,n)=>{"use strict";n.d(b,{T:()=>m});var i=n(8886),u=(n(73900),n(54438));const e=["*"];function h(f,v){}let m=(()=>{class f extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["thumbnail","defaultImage","alt","placeholder","limitWidth"]}getComponentName(){return"ThumbnailComponent"}importThemedComponent(E){return n(572)(`./${E}/app/thumbnail/thumbnail.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,73900))}static{this.\u0275fac=(()=>{let E;return function(C){return(E||(E=u.xGo(f)))(C||f)}})()}static{this.\u0275cmp=u.VBU({type:f,selectors:[["ds-thumbnail"]],inputs:{thumbnail:"thumbnail",defaultImage:"defaultImage",alt:"alt",placeholder:"placeholder",limitWidth:"limitWidth"},standalone:!0,features:[u.Vt3,u.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(_,C){1&_&&(u.NAR(),u.DNE(0,h,0,0,"ng-template",null,0,u.C5r),u.j41(2,"div",null,1),u.SdG(4),u.k0s())},encapsulation:2})}}return f})()},73900:(F,b,n)=>{"use strict";n.r(b),n.d(b,{ThumbnailComponent:()=>w});var i=n(60177),t=n(54438),u=n(41780),e=n(7673),h=n(25558),m=n(67116),f=n(65007),v=n(3970),E=n(1716),_=n(33376),C=n(89269),S=n(82777),R=n(82394),T=n(43764);const A=M=>({"d-none":M});function p(M,x){1&M&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5),t.nrm(3,"ds-loading",6),t.k0s()()()),2&M&&(t.R7$(3),t.Y8G("spinner",!0))}function L(M,x){if(1&M){const j=t.RV6();t.j41(0,"img",7),t.nI1(1,"dsSafeUrl"),t.nI1(2,"translate"),t.bIt("error",function(){t.eBV(j);const $=t.XpG();return t.Njj($.errorHandler())})("load",function(){t.eBV(j);const $=t.XpG();return t.Njj($.successHandler())}),t.k0s()}if(2&M){const j=t.XpG();t.Y8G("ngClass",t.eq3(7,A,j.isLoading))("src",t.bMT(1,3,j.src),t.B4B)("alt",t.bMT(2,5,j.alt))}}function D(M,x){if(1&M&&(t.j41(0,"div",3)(1,"div",4)(2,"div",8),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&M){const j=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,1,j.placeholder)," ")}}let w=(()=>{class M{constructor(j,U,$,k){this.platformID=j,this.auth=U,this.authorizationService=$,this.fileService=k,this.defaultImage=null,this.src=void 0,this.retriedWithToken=!1,this.alt="thumbnail.default.alt",this.placeholder="thumbnail.default.placeholder",this.limitWidth=!0,this.isLoading=!0}ngOnChanges(j){if((0,i.UE)(this.platformID)){if((0,S.Tn)(this.thumbnail))return void this.setSrc(this.defaultImage);const U=this.contentHref;(0,S.a4)(U)?this.setSrc(U):this.setSrc(this.defaultImage)}}get bitstream(){return this.thumbnail instanceof _._?this.thumbnail:this.thumbnail instanceof E.j?this.thumbnail.payload:void 0}get contentHref(){return this.thumbnail instanceof _._?this.thumbnail?._links?.content?.href:this.thumbnail instanceof E.j?this.thumbnail?.payload?._links?.content?.href:void 0}errorHandler(){const j=this.src,U=this.bitstream,$=U?._links?.content?.href;!this.retriedWithToken&&(0,S.a4)($)&&j===$?(this.retriedWithToken=!0,this.auth.isAuthenticated().pipe((0,h.n)(k=>k?this.authorizationService.isAuthorized(v._.CanDownload,U.self):(0,e.of)(!1)),(0,h.n)(k=>k?this.fileService.retrieveFileDownloadLink($):(0,e.of)(null))).subscribe(k=>{(0,S.a4)(k)?this.setSrc(k):this.setSrc(this.defaultImage)})):this.setSrc(j!==this.defaultImage?this.defaultImage:null)}setSrc(j){this.src=j,null===j&&(this.isLoading=!1)}successHandler(){this.isLoading=!1}static{this.\u0275fac=function(U){return new(U||M)(t.rXU(t.Agw),t.rXU(m.uR),t.rXU(f.AuthorizationDataService),t.rXU(C.E))}}static{this.\u0275cmp=t.VBU({type:M,selectors:[["ds-base-thumbnail"]],inputs:{thumbnail:"thumbnail",defaultImage:"defaultImage",alt:"alt",placeholder:"placeholder",limitWidth:"limitWidth"},standalone:!0,features:[t.OA$,t.aNF],decls:4,vars:5,consts:[[1,"thumbnail"],["class","thumbnail-content outer",4,"ngIf"],["class","thumbnail-content img-fluid",3,"ngClass","src","alt","error","load",4,"ngIf"],[1,"thumbnail-content","outer"],[1,"inner"],[1,"centered"],[3,"spinner"],[1,"thumbnail-content","img-fluid",3,"error","load","ngClass","src","alt"],[1,"thumbnail-placeholder","centered","lead"]],template:function(U,$){1&U&&(t.j41(0,"div",0),t.DNE(1,p,4,1,"div",1)(2,L,3,9,"img",2)(3,D,5,3,"div",1),t.k0s()),2&U&&(t.AVh("limit-width",$.limitWidth),t.R7$(),t.Y8G("ngIf",$.isLoading),t.R7$(),t.Y8G("ngIf",null!==$.src),t.R7$(),t.Y8G("ngIf",null===$.src&&!$.isLoading))},dependencies:[i.MD,i.YU,i.bT,R.v,u.h,u.D9,T.d],styles:['.limit-width[_ngcontent-%COMP%]{max-width:var(--ds-thumbnail-max-width)}img[_ngcontent-%COMP%]{max-width:100%}.outer[_ngcontent-%COMP%]{position:relative}.outer[_ngcontent-%COMP%]:before{display:block;content:"";width:100%;padding-top:141.4285714286%}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%]{position:absolute;inset:0}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%] > .thumbnail-placeholder[_ngcontent-%COMP%]{background:var(--ds-thumbnail-placeholder-background);border:var(--ds-thumbnail-placeholder-border);color:var(--ds-thumbnail-placeholder-color);font-weight:700}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%] > .centered[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}']})}}return M})()},43782:(F,b,n)=>{"use strict";n.d(b,{$:()=>A});var i=n(84572),t=n(96354),u=n(25558),e=n(96697),h=n(32473),m=n(56760),f=n(80183),v=n(52837),E=n(82777),_=n(39806),C=n(54438),S=n(7901),R=n(41780),T=n(60177);let A=(()=>{class p{constructor(D,w,M,x,j,U,$,k){this.route=D,this.workflowItemService=w,this.router=M,this.routeService=x,this.notificationsService=j,this.translationService=U,this.requestService=$,this.location=k}ngOnInit(){this.type=this.getType(),this.wfi$=this.route.data.pipe((0,t.T)(D=>D.wfi),(0,f.Bo)()),this.item$=this.wfi$.pipe((0,u.n)(D=>D.item.pipe((0,f.v7)(),(0,f.Bo)()))),this.previousQueryParameters=this.location.getState()?.previousQueryParams}performAction(){(0,i.z)([this.wfi$,this.requestService.removeByHrefSubstring("/discover")]).pipe((0,e.s)(1),(0,u.n)(([D])=>this.sendRequest(D.id))).subscribe(D=>{if(D){const w=this.translationService.get("workflow-item."+this.type+".notification.success.title"),M=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(w,M)}else{const w=this.translationService.get("workflow-item."+this.type+".notification.error.title"),M=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(w,M)}this.previousPage()})}previousPage(){this.routeService.getPreviousUrl().pipe((0,e.s)(1)).subscribe(D=>{let w={};if((0,E.Im)(D)&&(D="/mydspace",w=this.previousQueryParameters),D.split("?").length>1)for(const M of D.split("?")[1].split("&"))w[M.split("=")[0]]=decodeURIComponent(M.split("=")[1]);this.router.navigate([D.split("?")[0]],{queryParams:w})})}static{this.\u0275fac=function(w){return new(w||p)(C.rXU(S.nX),C.rXU(v.WorkflowItemDataService),C.rXU(S.Ix),C.rXU(m.v$),C.rXU(_.I),C.rXU(R.c$),C.rXU(h.B),C.rXU(T.aZ))}}static{this.\u0275dir=C.FsC({type:p,selectors:[["ds-workflowitem-action-page"]],inputs:{type:"type"},standalone:!0})}}return p})()},79951:(F,b,n)=>{"use strict";n.d(b,{BD:()=>m,BY:()=>E,HJ:()=>v,RS:()=>A,Rd:()=>C,Rk:()=>f,UM:()=>S,Uf:()=>_,XH:()=>h,YN:()=>R,b1:()=>T});var i=n(69799),t=n(45663);function h(D){return new t.t((0,i.Q)(),D,R).toString()}function m(D){return new t.t((0,i.Q)(),D,S).toString()}function f(D){return new t.t((0,i.Q)(),D,T).toString()}function v(D){return new t.t((0,i.Q)(),D,A).toString()}function E(D){return new t.t((0,i.cp)(),D,p).toString()}function _(D){return new t.t((0,i.cp)(),D,L).toString()}const C="edit",S="delete",R="view",T="sendback",A="advanced",p="delete",L="edit"},82640:(F,b,n)=>{"use strict";n.d(b,{Dr:()=>u,l9:()=>e,vQ:()=>t});var i=n(54438);const t=new i.nKC("APP_CONFIG"),u=(0,i.zw6)("APP_CONFIG_STATE"),e=new i.nKC("APP_DATA_SERVICES_MAP")},45113:(F,b,n)=>{"use strict";n.d(b,{$k:()=>m,Nv:()=>v});var i=n(58813),u=n(82777),e=n(10092),h=n(88280);const m=(E,_)=>{f(E,_),console.log("Environment extended with app config")},f=(E,_)=>{Object.assign(E,(0,i.all)([E,_],{arrayMerge:(S,R,T)=>R}))},v=()=>h.c.themes.find(E=>(0,u.Tn)(E.regex)&&(0,u.Tn)(E.handle)&&(0,u.Tn)(E.uuid))??{name:e.Q}},88280:(F,b,n)=>{"use strict";n.d(b,{c:()=>i});const i={production:!0,ssr:{enabled:!0,enablePerformanceProfiler:!1,inlineCriticalCss:!1,transferState:!0,replaceRestUrl:!0,paths:["/home","/items/","/entities/","/collections/","/communities/","/bitstream/","/bitstreams/","/handle/","/reload/"],enableSearchComponent:!1,enableBrowseComponent:!1}}},59540:(F,b,n)=>{"use strict";n.d(b,{C:()=>u,S:()=>t});var i=n(54438);const t=new i.nKC("REQUEST"),u=new i.nKC("RESPONSE")},71281:(F,b,n)=>{"use strict";n(96935),n(52165),n(82374);var e=n(54438),h=n(345),m=n(74523),f=n(60177),v=n(7901),E=n(25499),_=n(84412),C=n(23294),S=n(35335),R=n(53993),T=n(96697),A=n(88280),p=n(67116),L=n(38169),D=n(1676),w=n(52998),M=n(8886),x=n(87114);const j=["*"];function U(d,y){}let $=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["shouldShowRouteLoader","shouldShowFullscreenLoader"]}getComponentName(){return"RootComponent"}importThemedComponent(o){return n(94634)(`./${o}/app/root/root.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,87114))}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-root"]],inputs:{shouldShowFullscreenLoader:"shouldShowFullscreenLoader",shouldShowRouteLoader:"shouldShowRouteLoader"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:j,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,O){1&c&&(e.NAR(),e.DNE(0,U,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var k=n(65354),K=n(41780),X=n(59836),G=n(82777),q=n(58003);const z=d=>({timeToExpire:d});let te=(()=>{class d{constructor(o,c,O){this.activeModal=o,this.authService=c,this.store=O,this.response=new e.bkB,this.timeToExpire=(A.c.auth.ui.timeUntilIdle+A.c.auth.ui.idleGracePeriod)/1e3/60}ngOnInit(){(0,G.a4)(this.graceTimer)&&clearTimeout(this.graceTimer),this.graceTimer=setTimeout(()=>{this.logOutPressed()},A.c.auth.ui.idleGracePeriod)}extendSessionPressed(){this.extendSessionAndCloseModal()}logOutPressed(){this.closeModal(),this.store.dispatch(new X.du)}closePressed(){this.extendSessionAndCloseModal()}extendSessionAndCloseModal(){(0,G.a4)(this.graceTimer)&&clearTimeout(this.graceTimer),this.authService.setIdle(!1),this.closeModal()}closeModal(){this.activeModal.close(),this.response.emit(!0)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(q.Lw),e.rXU(p.uR),e.rXU(E.il))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-idle-modal"]],outputs:{response:"response"},standalone:!0,features:[e.aNF],decls:18,vars:15,consts:[["id","idle-modal.header",1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button","aria-label","Log out",1,"cancel","btn","btn-danger",3,"click"],[1,"fas","fa-sign-out-alt"],["type","button","aria-label","Extend session","ngbAutofocus","",1,"confirm","btn","btn-primary",3,"click"],[1,"fas","fa-redo-alt"]],template:function(c,O){1&c&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return O.closePressed()}),e.k0s()(),e.j41(5,"div",2)(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div",3)(10,"button",4),e.bIt("click",function(){return O.logOutPressed()}),e.nrm(11,"i",5),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",6),e.bIt("click",function(){return O.extendSessionPressed()}),e.nrm(15,"i",7),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()),2&c&&(e.R7$(2),e.SpI("",e.bMT(3,4,"idle-modal.header")," "),e.R7$(5),e.JRh(e.i5U(8,6,"idle-modal.info",e.eq3(13,z,O.timeToExpire))),e.R7$(5),e.SpI(" ",e.bMT(13,9,"idle-modal.log-out")," "),e.R7$(4),e.SpI(" ",e.bMT(17,11,"idle-modal.extend-session")," "))},dependencies:[K.h,K.D9],encapsulation:2})}}return d})();var Z=n(1221),J=n(82522);let Q=(()=>{class d{constructor(o,c,O,W,ue,Ie,rt,kt,Cn,mn,ds){this.themeService=o,this._window=c,this.document=O,this.platformId=W,this.translate=ue,this.store=Ie,this.authService=rt,this.router=kt,this.cssService=Cn,this.modalService=mn,this.modalConfig=ds,this.isRouteLoading$=new _.t(!1),this.notificationOptions=A.c.notifications,(0,f.UE)(this.platformId)&&this.trackIdleModal(),this.isThemeLoading$=this.themeService.isThemeLoading$,this.storeCSSVariables()}ngOnInit(){this.modalConfig.beforeDismiss=(0,m.A)(function*(){return"function"!=typeof this?.componentInstance?.beforeDismiss||this.componentInstance.beforeDismiss()}),this.isAuthBlocking$=this.store.pipe((0,E.Lt)(L.Gv),(0,C.F)()),this.dispatchWindowSize(this._window.nativeWindow.innerWidth,this._window.nativeWindow.innerHeight),this.initializeAuthentication()}initializeAuthentication(){(0,f.UE)(this.platformId)&&(this.authService.checkAuthenticationToken(),this.authService.trackTokenExpiration(),console.log("Authentication initialized on app startup"))}storeCSSVariables(){this.cssService.clearCSSVariables(),this.cssService.addCSSVariables(this.cssService.getCSSVariablesFromStylesheets(this.document))}ngAfterViewInit(){this.router.events.pipe((0,S.c)(0)).subscribe(o=>{o instanceof v.Z?(0,w.S)(this.isRouteLoading$,!0):(o instanceof v.wF||o instanceof v.j5)&&(0,w.S)(this.isRouteLoading$,!1)})}onResize(o){this.dispatchWindowSize(o.target.innerWidth,o.target.innerHeight)}dispatchWindowSize(o,c){this.store.dispatch(new k.l(o,c))}trackIdleModal(){const o=this.authService.isUserIdle(),c=this.authService.isAuthenticated();o.pipe((0,R.E)(c)).subscribe(([O,W])=>{if(O&&W&&!this.idleModalOpen){const ue=this.modalService.open(te,{ariaLabelledBy:"idle-modal.header"});this.idleModalOpen=!0,ue.componentInstance.response.pipe((0,T.s)(1)).subscribe(Ie=>{Ie&&(this.idleModalOpen=!1)})}})}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(J.Fs),e.rXU(D.lc),e.rXU(f.qQ),e.rXU(e.Agw),e.rXU(K.c$),e.rXU(E.il),e.rXU(p.uR),e.rXU(v.Ix),e.rXU(Z.J),e.rXU(q.Bq),e.rXU(q.LY))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-app"]],hostBindings:function(c,O){1&c&&e.bIt("resize",function(ue){return O.onResize(ue)},!1,e.tSv)},standalone:!0,features:[e.aNF],decls:4,vars:8,consts:[[3,"shouldShowFullscreenLoader","shouldShowRouteLoader"]],template:function(c,O){1&c&&(e.nrm(0,"ds-root",0),e.nI1(1,"async"),e.nI1(2,"async"),e.nI1(3,"async")),2&c&&e.Y8G("shouldShowFullscreenLoader",e.bMT(1,2,O.isAuthBlocking$)||e.bMT(2,4,O.isThemeLoading$))("shouldShowRouteLoader",e.bMT(3,6,O.isRouteLoading$))},dependencies:[$,f.Jj],changeDetection:0})}}return d})();var ee=n(45113),le=n(21626),ne=n(49969);function se(d){return new e.wOt(3e3,!1)}function Jt(d){switch(d.length){case 0:return new ne.sf;case 1:return d[0];default:return new ne.ui(d)}}function Tt(d,y,o=new Map,c=new Map){const O=[],W=[];let ue=-1,Ie=null;if(y.forEach(rt=>{const kt=rt.get("offset"),Cn=kt==ue,mn=Cn&&Ie||new Map;rt.forEach((ds,Ss)=>{let Hn=Ss,as=ds;if("offset"!==Ss)switch(Hn=d.normalizePropertyName(Hn,O),as){case ne.FX:as=o.get(Ss);break;case ne.kp:as=c.get(Ss);break;default:as=d.normalizeStyleValue(Ss,Hn,as,O)}mn.set(Hn,as)}),Cn||W.push(mn),Ie=mn,ue=kt}),O.length)throw function un(d){return new e.wOt(3502,!1)}();return W}function Ft(d,y,o,c){switch(y){case"start":d.onStart(()=>c(o&&it(o,"start",d)));break;case"done":d.onDone(()=>c(o&&it(o,"done",d)));break;case"destroy":d.onDestroy(()=>c(o&&it(o,"destroy",d)))}}function it(d,y,o){const W=xe(d.element,d.triggerName,d.fromState,d.toState,y||d.phaseName,o.totalTime??d.totalTime,!!o.disabled),ue=d._data;return null!=ue&&(W._data=ue),W}function xe(d,y,o,c,O="",W=0,ue){return{element:d,triggerName:y,fromState:o,toState:c,phaseName:O,totalTime:W,disabled:!!ue}}function Ve(d,y,o){let c=d.get(y);return c||d.set(y,c=o),c}function Ke(d){const y=d.indexOf(":");return[d.substring(1,y),d.slice(y+1)]}const je=typeof document>"u"?null:document.documentElement;function At(d){const y=d.parentNode||d.host||null;return y===je?null:y}let st=null,ke=!1;function an(d,y){for(;y;){if(y===d)return!0;y=At(y)}return!1}function Dn(d,y,o){if(o)return Array.from(d.querySelectorAll(y));const c=d.querySelector(y);return c?[c]:[]}let Zn=(()=>{class d{validateStyleProperty(o){return function Le(d){st||(st=function It(){return typeof document<"u"?document.body:null}()||{},ke=!!st.style&&"WebkitAppearance"in st.style);let y=!0;return st.style&&!function Qe(d){return"ebkit"==d.substring(1,6)}(d)&&(y=d in st.style,!y&&ke&&(y="Webkit"+d.charAt(0).toUpperCase()+d.slice(1)in st.style)),y}(o)}matchesElement(o,c){return!1}containsElement(o,c){return an(o,c)}getParentElement(o){return At(o)}query(o,c,O){return Dn(o,c,O)}computeStyle(o,c,O){return O||""}animate(o,c,O,W,ue,Ie=[],rt){return new ne.sf(O,W)}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();class wn{static{this.NOOP=new Zn}}class ct{}const hn=1e3,Gs="ng-enter",ls="ng-leave",Es="ng-trigger",cs=".ng-trigger",cn="ng-animating",yn=".ng-animating";function ns(d){if("number"==typeof d)return d;const y=d.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:Ls(parseFloat(y[1]),y[2])}function Ls(d,y){return"s"===y?d*hn:d}function ci(d,y,o){return d.hasOwnProperty("duration")?d:function _t(d,y,o){let O,W=0,ue="";if("string"==typeof d){const Ie=d.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ie)return y.push(se()),{duration:0,delay:0,easing:""};O=Ls(parseFloat(Ie[1]),Ie[2]);const rt=Ie[3];null!=rt&&(W=Ls(parseFloat(rt),Ie[4]));const kt=Ie[5];kt&&(ue=kt)}else O=d;if(!o){let Ie=!1,rt=y.length;O<0&&(y.push(function ce(){return new e.wOt(3100,!1)}()),Ie=!0),W<0&&(y.push(function Te(){return new e.wOt(3101,!1)}()),Ie=!0),Ie&&y.splice(rt,0,se())}return{duration:O,delay:W,easing:ue}}(d,y,o)}function sn(d,y,o){y.forEach((c,O)=>{const W=$n(O);o&&!o.has(O)&&o.set(O,d.style[W]),d.style[W]=c})}function lt(d,y){y.forEach((o,c)=>{const O=$n(c);d.style[O]=""})}function gt(d){return Array.isArray(d)?1==d.length?d[0]:(0,ne.K2)(d):d}const Wt=new RegExp("{{\\s*(.+?)\\s*}}","g");function pn(d){let y=[];if("string"==typeof d){let o;for(;o=Wt.exec(d);)y.push(o[1]);Wt.lastIndex=0}return y}function Rn(d,y,o){const c=`${d}`,O=c.replace(Wt,(W,ue)=>{let Ie=y[ue];return null==Ie&&(o.push(function me(d){return new e.wOt(3003,!1)}()),Ie=""),Ie.toString()});return O==c?d:O}const Yn=/-+([a-z0-9])/g;function $n(d){return d.replace(Yn,(...y)=>y[1].toUpperCase())}function hs(d,y,o){switch(y.type){case ne.If.Trigger:return d.visitTrigger(y,o);case ne.If.State:return d.visitState(y,o);case ne.If.Transition:return d.visitTransition(y,o);case ne.If.Sequence:return d.visitSequence(y,o);case ne.If.Group:return d.visitGroup(y,o);case ne.If.Animate:return d.visitAnimate(y,o);case ne.If.Keyframes:return d.visitKeyframes(y,o);case ne.If.Style:return d.visitStyle(y,o);case ne.If.Reference:return d.visitReference(y,o);case ne.If.AnimateChild:return d.visitAnimateChild(y,o);case ne.If.AnimateRef:return d.visitAnimateRef(y,o);case ne.If.Query:return d.visitQuery(y,o);case ne.If.Stagger:return d.visitStagger(y,o);default:throw function re(d){return new e.wOt(3004,!1)}()}}function Cs(d,y){return window.getComputedStyle(d)[y]}const Ti=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Hi extends ct{normalizePropertyName(y,o){return $n(y)}normalizeStyleValue(y,o,c,O){let W="";const ue=c.toString().trim();if(Ti.has(o)&&0!==c&&"0"!==c)if("number"==typeof c)W="px";else{const Ie=c.match(/^[+-]?[\d\.]+([a-z]*)$/);Ie&&0==Ie[1].length&&O.push(function Ee(d,y){return new e.wOt(3005,!1)}())}return ue+W}}const Yi="*";const Tn=new Set(["true","1"]),on=new Set(["false","0"]);function Qt(d,y){const o=Tn.has(d)||on.has(d),c=Tn.has(y)||on.has(y);return(O,W)=>{let ue=d==Yi||d==O,Ie=y==Yi||y==W;return!ue&&o&&"boolean"==typeof O&&(ue=O?Tn.has(d):on.has(d)),!Ie&&c&&"boolean"==typeof W&&(Ie=W?Tn.has(y):on.has(y)),ue&&Ie}}const qn=new RegExp("s*:selfs*,?","g");function bs(d,y,o,c){return new Ei(d).build(y,o,c)}class Ei{constructor(y){this._driver=y}build(y,o,c){const O=new ho(o);return this._resetContextStyleTimingState(O),hs(this,gt(y),O)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,o){let c=o.queryCount=0,O=o.depCount=0;const W=[],ue=[];return"@"==y.name.charAt(0)&&o.errors.push(function De(){return new e.wOt(3006,!1)}()),y.definitions.forEach(Ie=>{if(this._resetContextStyleTimingState(o),Ie.type==ne.If.State){const rt=Ie,kt=rt.name;kt.toString().split(/\s*,\s*/).forEach(Cn=>{rt.name=Cn,W.push(this.visitState(rt,o))}),rt.name=kt}else if(Ie.type==ne.If.Transition){const rt=this.visitTransition(Ie,o);c+=rt.queryCount,O+=rt.depCount,ue.push(rt)}else o.errors.push(function tt(){return new e.wOt(3007,!1)}())}),{type:ne.If.Trigger,name:y.name,states:W,transitions:ue,queryCount:c,depCount:O,options:null}}visitState(y,o){const c=this.visitStyle(y.styles,o),O=y.options&&y.options.params||null;if(c.containsDynamicStyles){const W=new Set,ue=O||{};c.styles.forEach(Ie=>{Ie instanceof Map&&Ie.forEach(rt=>{pn(rt).forEach(kt=>{ue.hasOwnProperty(kt)||W.add(kt)})})}),W.size&&o.errors.push(function ht(d,y){return new e.wOt(3008,!1)}(0,W.values()))}return{type:ne.If.State,name:y.name,style:c,options:O?{params:O}:null}}visitTransition(y,o){o.queryCount=0,o.depCount=0;const c=hs(this,gt(y.animation),o),O=function _r(d,y){const o=[];return"string"==typeof d?d.split(/\s*,\s*/).forEach(c=>function Uo(d,y,o){if(":"==d[0]){const rt=function $t(d,y){switch(d){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,c)=>parseFloat(c)>parseFloat(o);case":decrement":return(o,c)=>parseFloat(c)<parseFloat(o);default:return y.push(function Pt(d){return new e.wOt(3016,!1)}()),"* => *"}}(d,o);if("function"==typeof rt)return void y.push(rt);d=rt}const c=d.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return o.push(function mt(d){return new e.wOt(3015,!1)}()),y;const O=c[1],W=c[2],ue=c[3];y.push(Qt(O,ue)),"<"==W[0]&&(O!=Yi||ue!=Yi)&&y.push(Qt(ue,O))}(c,o,y)):o.push(d),o}(y.expr,o.errors);return{type:ne.If.Transition,matchers:O,animation:c,queryCount:o.queryCount,depCount:o.depCount,options:Xo(y.options)}}visitSequence(y,o){return{type:ne.If.Sequence,steps:y.steps.map(c=>hs(this,c,o)),options:Xo(y.options)}}visitGroup(y,o){const c=o.currentTime;let O=0;const W=y.steps.map(ue=>{o.currentTime=c;const Ie=hs(this,ue,o);return O=Math.max(O,o.currentTime),Ie});return o.currentTime=O,{type:ne.If.Group,steps:W,options:Xo(y.options)}}visitAnimate(y,o){const c=function ur(d,y){if(d.hasOwnProperty("duration"))return d;if("number"==typeof d)return zr(ci(d,y).duration,0,"");const o=d;if(o.split(/\s+/).some(W=>"{"==W.charAt(0)&&"{"==W.charAt(1))){const W=zr(0,0,"");return W.dynamic=!0,W.strValue=o,W}const O=ci(o,y);return zr(O.duration,O.delay,O.easing)}(y.timings,o.errors);o.currentAnimateTimings=c;let O,W=y.styles?y.styles:(0,ne.iF)({});if(W.type==ne.If.Keyframes)O=this.visitKeyframes(W,o);else{let ue=y.styles,Ie=!1;if(!ue){Ie=!0;const kt={};c.easing&&(kt.easing=c.easing),ue=(0,ne.iF)(kt)}o.currentTime+=c.duration+c.delay;const rt=this.visitStyle(ue,o);rt.isEmptyStep=Ie,O=rt}return o.currentAnimateTimings=null,{type:ne.If.Animate,timings:c,style:O,options:null}}visitStyle(y,o){const c=this._makeStyleAst(y,o);return this._validateStyleAst(c,o),c}_makeStyleAst(y,o){const c=[],O=Array.isArray(y.styles)?y.styles:[y.styles];for(let Ie of O)"string"==typeof Ie?Ie===ne.kp?c.push(Ie):o.errors.push(new e.wOt(3002,!1)):c.push(new Map(Object.entries(Ie)));let W=!1,ue=null;return c.forEach(Ie=>{if(Ie instanceof Map&&(Ie.has("easing")&&(ue=Ie.get("easing"),Ie.delete("easing")),!W))for(let rt of Ie.values())if(rt.toString().indexOf("{{")>=0){W=!0;break}}),{type:ne.If.Style,styles:c,easing:ue,offset:y.offset,containsDynamicStyles:W,options:null}}_validateStyleAst(y,o){const c=o.currentAnimateTimings;let O=o.currentTime,W=o.currentTime;c&&W>0&&(W-=c.duration+c.delay),y.styles.forEach(ue=>{"string"!=typeof ue&&ue.forEach((Ie,rt)=>{const kt=o.collectedStyles.get(o.currentQuerySelector),Cn=kt.get(rt);let mn=!0;Cn&&(W!=O&&W>=Cn.startTime&&O<=Cn.endTime&&(o.errors.push(function Ye(d,y,o,c,O){return new e.wOt(3010,!1)}()),mn=!1),W=Cn.startTime),mn&&kt.set(rt,{startTime:W,endTime:O}),o.options&&function Ct(d,y,o){const c=y.params||{},O=pn(d);O.length&&O.forEach(W=>{c.hasOwnProperty(W)||o.push(function be(d){return new e.wOt(3001,!1)}())})}(Ie,o.options,o.errors)})})}visitKeyframes(y,o){const c={type:ne.If.Keyframes,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function pt(){return new e.wOt(3011,!1)}()),c;let W=0;const ue=[];let Ie=!1,rt=!1,kt=0;const Cn=y.steps.map(Gi=>{const fi=this._makeStyleAst(Gi,o);let Mo=null!=fi.offset?fi.offset:function vr(d){if("string"==typeof d)return null;let y=null;if(Array.isArray(d))d.forEach(o=>{if(o instanceof Map&&o.has("offset")){const c=o;y=parseFloat(c.get("offset")),c.delete("offset")}});else if(d instanceof Map&&d.has("offset")){const o=d;y=parseFloat(o.get("offset")),o.delete("offset")}return y}(fi.styles),cr=0;return null!=Mo&&(W++,cr=fi.offset=Mo),rt=rt||cr<0||cr>1,Ie=Ie||cr<kt,kt=cr,ue.push(cr),fi});rt&&o.errors.push(function Mt(){return new e.wOt(3012,!1)}()),Ie&&o.errors.push(function Ne(){return new e.wOt(3200,!1)}());const mn=y.steps.length;let ds=0;W>0&&W<mn?o.errors.push(function ot(){return new e.wOt(3202,!1)}()):0==W&&(ds=1/(mn-1));const Ss=mn-1,Hn=o.currentTime,as=o.currentAnimateTimings,Js=as.duration;return Cn.forEach((Gi,fi)=>{const Mo=ds>0?fi==Ss?1:ds*fi:ue[fi],cr=Mo*Js;o.currentTime=Hn+as.delay+cr,as.duration=cr,this._validateStyleAst(Gi,o),Gi.offset=Mo,c.styles.push(Gi)}),c}visitReference(y,o){return{type:ne.If.Reference,animation:hs(this,gt(y.animation),o),options:Xo(y.options)}}visitAnimateChild(y,o){return o.depCount++,{type:ne.If.AnimateChild,options:Xo(y.options)}}visitAnimateRef(y,o){return{type:ne.If.AnimateRef,animation:this.visitReference(y.animation,o),options:Xo(y.options)}}visitQuery(y,o){const c=o.currentQuerySelector,O=y.options||{};o.queryCount++,o.currentQuery=y;const[W,ue]=function vo(d){const y=!!d.split(/\s*,\s*/).find(o=>":self"==o);return y&&(d=d.replace(qn,"")),d=d.replace(/@\*/g,cs).replace(/@\w+/g,o=>cs+"-"+o.slice(1)).replace(/:animating/g,yn),[d,y]}(y.selector);o.currentQuerySelector=c.length?c+" "+W:W,Ve(o.collectedStyles,o.currentQuerySelector,new Map);const Ie=hs(this,gt(y.animation),o);return o.currentQuery=null,o.currentQuerySelector=c,{type:ne.If.Query,selector:W,limit:O.limit||0,optional:!!O.optional,includeSelf:ue,animation:Ie,originalSelector:y.selector,options:Xo(y.options)}}visitStagger(y,o){o.currentQuery||o.errors.push(function Gt(){return new e.wOt(3013,!1)}());const c="full"===y.timings?{duration:0,delay:0,easing:"full"}:ci(y.timings,o.errors,!0);return{type:ne.If.Stagger,animation:hs(this,gt(y.animation),o),timings:c,options:null}}}class ho{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Xo(d){return d?(d={...d}).params&&(d.params=function pi(d){return d?{...d}:null}(d.params)):d={},d}function zr(d,y,o){return{duration:d,delay:y,easing:o}}function yr(d,y,o,c,O,W,ue=null,Ie=!1){return{type:1,element:d,keyframes:y,preStyleProps:o,postStyleProps:c,duration:O,delay:W,totalTime:O+W,easing:ue,subTimeline:Ie}}class Jo{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,o){let c=this._map.get(y);c||this._map.set(y,c=[]),c.push(...o)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const Xr=new RegExp(":enter","g"),Er=new RegExp(":leave","g");function Ks(d,y,o,c,O,W=new Map,ue=new Map,Ie,rt,kt=[]){return(new hr).buildKeyframes(d,y,o,c,O,W,ue,Ie,rt,kt)}class hr{buildKeyframes(y,o,c,O,W,ue,Ie,rt,kt,Cn=[]){kt=kt||new Jo;const mn=new Qo(y,o,kt,O,W,Cn,[]);mn.options=rt;const ds=rt.delay?ns(rt.delay):0;mn.currentTimeline.delayNextStep(ds),mn.currentTimeline.setStyles([ue],null,mn.errors,rt),hs(this,c,mn);const Ss=mn.timelines.filter(Hn=>Hn.containsAnimation());if(Ss.length&&Ie.size){let Hn;for(let as=Ss.length-1;as>=0;as--){const Js=Ss[as];if(Js.element===o){Hn=Js;break}}Hn&&!Hn.allowOnlyTimelineStyles()&&Hn.setStyles([Ie],null,mn.errors,rt)}return Ss.length?Ss.map(Hn=>Hn.buildKeyframes()):[yr(o,[],[],[],0,ds,"",!1)]}visitTrigger(y,o){}visitState(y,o){}visitTransition(y,o){}visitAnimateChild(y,o){const c=o.subInstructions.get(o.element);if(c){const O=o.createSubContext(y.options),W=o.currentTimeline.currentTime,ue=this._visitSubInstructions(c,O,O.options);W!=ue&&o.transformIntoNewTimeline(ue)}o.previousNode=y}visitAnimateRef(y,o){const c=o.createSubContext(y.options);c.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],o,c),this.visitReference(y.animation,c),o.transformIntoNewTimeline(c.currentTimeline.currentTime),o.previousNode=y}_applyAnimationRefDelays(y,o,c){for(const O of y){const W=O?.delay;if(W){const ue="number"==typeof W?W:ns(Rn(W,O?.params??{},o.errors));c.delayNextStep(ue)}}}_visitSubInstructions(y,o,c){let W=o.currentTimeline.currentTime;const ue=null!=c.duration?ns(c.duration):null,Ie=null!=c.delay?ns(c.delay):null;return 0!==ue&&y.forEach(rt=>{const kt=o.appendInstructionToTimeline(rt,ue,Ie);W=Math.max(W,kt.duration+kt.delay)}),W}visitReference(y,o){o.updateOptions(y.options,!0),hs(this,y.animation,o),o.previousNode=y}visitSequence(y,o){const c=o.subContextCount;let O=o;const W=y.options;if(W&&(W.params||W.delay)&&(O=o.createSubContext(W),O.transformIntoNewTimeline(),null!=W.delay)){O.previousNode.type==ne.If.Style&&(O.currentTimeline.snapshotCurrentStyles(),O.previousNode=Jr);const ue=ns(W.delay);O.delayNextStep(ue)}y.steps.length&&(y.steps.forEach(ue=>hs(this,ue,O)),O.currentTimeline.applyStylesToKeyframe(),O.subContextCount>c&&O.transformIntoNewTimeline()),o.previousNode=y}visitGroup(y,o){const c=[];let O=o.currentTimeline.currentTime;const W=y.options&&y.options.delay?ns(y.options.delay):0;y.steps.forEach(ue=>{const Ie=o.createSubContext(y.options);W&&Ie.delayNextStep(W),hs(this,ue,Ie),O=Math.max(O,Ie.currentTimeline.currentTime),c.push(Ie.currentTimeline)}),c.forEach(ue=>o.currentTimeline.mergeTimelineCollectedStyles(ue)),o.transformIntoNewTimeline(O),o.previousNode=y}_visitTiming(y,o){if(y.dynamic){const c=y.strValue;return ci(o.params?Rn(c,o.params,o.errors):c,o.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,o){const c=o.currentAnimateTimings=this._visitTiming(y.timings,o),O=o.currentTimeline;c.delay&&(o.incrementTime(c.delay),O.snapshotCurrentStyles());const W=y.style;W.type==ne.If.Keyframes?this.visitKeyframes(W,o):(o.incrementTime(c.duration),this.visitStyle(W,o),O.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=y}visitStyle(y,o){const c=o.currentTimeline,O=o.currentAnimateTimings;!O&&c.hasCurrentStyleProperties()&&c.forwardFrame();const W=O&&O.easing||y.easing;y.isEmptyStep?c.applyEmptyStep(W):c.setStyles(y.styles,W,o.errors,o.options),o.previousNode=y}visitKeyframes(y,o){const c=o.currentAnimateTimings,O=o.currentTimeline.duration,W=c.duration,Ie=o.createSubContext().currentTimeline;Ie.easing=c.easing,y.styles.forEach(rt=>{Ie.forwardTime((rt.offset||0)*W),Ie.setStyles(rt.styles,rt.easing,o.errors,o.options),Ie.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(Ie),o.transformIntoNewTimeline(O+W),o.previousNode=y}visitQuery(y,o){const c=o.currentTimeline.currentTime,O=y.options||{},W=O.delay?ns(O.delay):0;W&&(o.previousNode.type===ne.If.Style||0==c&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Jr);let ue=c;const Ie=o.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!O.optional,o.errors);o.currentQueryTotal=Ie.length;let rt=null;Ie.forEach((kt,Cn)=>{o.currentQueryIndex=Cn;const mn=o.createSubContext(y.options,kt);W&&mn.delayNextStep(W),kt===o.element&&(rt=mn.currentTimeline),hs(this,y.animation,mn),mn.currentTimeline.applyStylesToKeyframe(),ue=Math.max(ue,mn.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(ue),rt&&(o.currentTimeline.mergeTimelineCollectedStyles(rt),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=y}visitStagger(y,o){const c=o.parentContext,O=o.currentTimeline,W=y.timings,ue=Math.abs(W.duration),Ie=ue*(o.currentQueryTotal-1);let rt=ue*o.currentQueryIndex;switch(W.duration<0?"reverse":W.easing){case"reverse":rt=Ie-rt;break;case"full":rt=c.currentStaggerTime}const Cn=o.currentTimeline;rt&&Cn.delayNextStep(rt);const mn=Cn.currentTime;hs(this,y.animation,o),o.previousNode=y,c.currentStaggerTime=O.currentTime-mn+(O.startTime-c.currentTimeline.startTime)}}const Jr={};class Qo{constructor(y,o,c,O,W,ue,Ie,rt){this._driver=y,this.element=o,this.subInstructions=c,this._enterClassName=O,this._leaveClassName=W,this.errors=ue,this.timelines=Ie,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Jr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=rt||new Fr(this._driver,o,0),Ie.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,o){if(!y)return;const c=y;let O=this.options;null!=c.duration&&(O.duration=ns(c.duration)),null!=c.delay&&(O.delay=ns(c.delay));const W=c.params;if(W){let ue=O.params;ue||(ue=this.options.params={}),Object.keys(W).forEach(Ie=>{(!o||!ue.hasOwnProperty(Ie))&&(ue[Ie]=Rn(W[Ie],ue,this.errors))})}}_copyOptions(){const y={};if(this.options){const o=this.options.params;if(o){const c=y.params={};Object.keys(o).forEach(O=>{c[O]=o[O]})}}return y}createSubContext(y=null,o,c){const O=o||this.element,W=new Qo(this._driver,O,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(O,c||0));return W.previousNode=this.previousNode,W.currentAnimateTimings=this.currentAnimateTimings,W.options=this._copyOptions(),W.updateOptions(y),W.currentQueryIndex=this.currentQueryIndex,W.currentQueryTotal=this.currentQueryTotal,W.parentContext=this,this.subContextCount++,W}transformIntoNewTimeline(y){return this.previousNode=Jr,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,o,c){const O={duration:o??y.duration,delay:this.currentTimeline.currentTime+(c??0)+y.delay,easing:""},W=new xa(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,O,y.stretchStartingKeyframe);return this.timelines.push(W),O}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,o,c,O,W,ue){let Ie=[];if(O&&Ie.push(this.element),y.length>0){y=(y=y.replace(Xr,"."+this._enterClassName)).replace(Er,"."+this._leaveClassName);let kt=this._driver.query(this.element,y,1!=c);0!==c&&(kt=c<0?kt.slice(kt.length+c,kt.length):kt.slice(0,c)),Ie.push(...kt)}return!W&&0==Ie.length&&ue.push(function Zt(d){return new e.wOt(3014,!1)}()),Ie}}class Fr{constructor(y,o,c,O){this._driver=y,this.element=o,this.startTime=c,this._elementTimelineStylesLookup=O,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+y),o&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,o){return this.applyStylesToKeyframe(),new Fr(this._driver,y,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,o){this._localTimelineStyles.set(y,o),this._globalTimelineStyles.set(y,o),this._styleSummary.set(y,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[o,c]of this._globalTimelineStyles)this._backFill.set(o,c||ne.kp),this._currentKeyframe.set(o,ne.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,o,c,O){o&&this._previousKeyframe.set("easing",o);const W=O&&O.params||{},ue=function rr(d,y){const o=new Map;let c;return d.forEach(O=>{if("*"===O){c??=y.keys();for(let W of c)o.set(W,ne.kp)}else for(let[W,ue]of O)o.set(W,ue)}),o}(y,this._globalTimelineStyles);for(let[Ie,rt]of ue){const kt=Rn(rt,W,c);this._pendingStyles.set(Ie,kt),this._localTimelineStyles.has(Ie)||this._backFill.set(Ie,this._globalTimelineStyles.get(Ie)??ne.kp),this._updateStyle(Ie,kt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,o)=>{this._currentKeyframe.set(o,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,y)}))}snapshotCurrentStyles(){for(let[y,o]of this._localTimelineStyles)this._pendingStyles.set(y,o),this._updateStyle(y,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let o in this._currentKeyframe)y.push(o);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((o,c)=>{const O=this._styleSummary.get(c);(!O||o.time>O.time)&&this._updateStyle(c,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,o=new Set,c=1===this._keyframes.size&&0===this.duration;let O=[];this._keyframes.forEach((Ie,rt)=>{const kt=new Map([...this._backFill,...Ie]);kt.forEach((Cn,mn)=>{Cn===ne.FX?y.add(mn):Cn===ne.kp&&o.add(mn)}),c||kt.set("offset",rt/this.duration),O.push(kt)});const W=[...y.values()],ue=[...o.values()];if(c){const Ie=O[0],rt=new Map(Ie);Ie.set("offset",0),rt.set("offset",1),O=[Ie,rt]}return yr(this.element,O,W,ue,this.duration,this.startTime,this.easing,!1)}}class xa extends Fr{constructor(y,o,c,O,W,ue,Ie=!1){super(y,o,ue.delay),this.keyframes=c,this.preStyleProps=O,this.postStyleProps=W,this._stretchStartingKeyframe=Ie,this.timings={duration:ue.duration,delay:ue.delay,easing:ue.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:o,duration:c,easing:O}=this.timings;if(this._stretchStartingKeyframe&&o){const W=[],ue=c+o,Ie=o/ue,rt=new Map(y[0]);rt.set("offset",0),W.push(rt);const kt=new Map(y[0]);kt.set("offset",sa(Ie)),W.push(kt);const Cn=y.length-1;for(let mn=1;mn<=Cn;mn++){let ds=new Map(y[mn]);const Ss=ds.get("offset");ds.set("offset",sa((o+Ss*c)/ue)),W.push(ds)}c=ue,o=0,O="",y=W}return yr(this.element,y,this.preStyleProps,this.postStyleProps,c,o,O,!0)}}function sa(d,y=3){const o=Math.pow(10,y-1);return Math.round(d*o)/o}function Qr(d,y,o,c,O,W,ue,Ie,rt,kt,Cn,mn,ds){return{type:0,element:d,triggerName:y,isRemovalTransition:O,fromState:o,fromStyles:W,toState:c,toStyles:ue,timelines:Ie,queriedElements:rt,preStyleProps:kt,postStyleProps:Cn,totalTime:mn,errors:ds}}const _a={};class va{constructor(y,o,c){this._triggerName=y,this.ast=o,this._stateStyles=c}match(y,o,c,O){return function qe(d,y,o,c,O){return d.some(W=>W(y,o,c,O))}(this.ast.matchers,y,o,c,O)}buildStyles(y,o,c){let O=this._stateStyles.get("*");return void 0!==y&&(O=this._stateStyles.get(y?.toString())||O),O?O.buildStyles(o,c):new Map}build(y,o,c,O,W,ue,Ie,rt,kt,Cn){const mn=[],ds=this.ast.options&&this.ast.options.params||_a,Hn=this.buildStyles(c,Ie&&Ie.params||_a,mn),as=rt&&rt.params||_a,Js=this.buildStyles(O,as,mn),Gi=new Set,fi=new Map,Mo=new Map,cr="void"===O,wc={params:at(as,ds),delay:this.ast.options?.delay},ic=Cn?[]:Ks(y,o,this.ast.animation,W,ue,Hn,Js,wc,kt,mn);let ma=0;return ic.forEach(rl=>{ma=Math.max(rl.duration+rl.delay,ma)}),mn.length?Qr(o,this._triggerName,c,O,cr,Hn,Js,[],[],fi,Mo,ma,mn):(ic.forEach(rl=>{const nh=rl.element,_m=Ve(fi,nh,new Set);rl.preStyleProps.forEach(sh=>_m.add(sh));const vD=Ve(Mo,nh,new Set);rl.postStyleProps.forEach(sh=>vD.add(sh)),nh!==o&&Gi.add(nh)}),Qr(o,this._triggerName,c,O,cr,Hn,Js,ic,[...Gi.values()],fi,Mo,ma))}}function at(d,y){const o={...y};return Object.entries(d).forEach(([c,O])=>{null!=O&&(o[c]=O)}),o}class jt{constructor(y,o,c){this.styles=y,this.defaultParams=o,this.normalizer=c}buildStyles(y,o){const c=new Map,O=at(y,this.defaultParams);return this.styles.styles.forEach(W=>{"string"!=typeof W&&W.forEach((ue,Ie)=>{ue&&(ue=Rn(ue,O,o));const rt=this.normalizer.normalizePropertyName(Ie,o);ue=this.normalizer.normalizeStyleValue(Ie,rt,ue,o),c.set(Ie,ue)})}),c}}class xn{constructor(y,o,c){this.name=y,this.ast=o,this._normalizer=c,this.transitionFactories=[],this.states=new Map,o.states.forEach(O=>{this.states.set(O.name,new jt(O.style,O.options&&O.options.params||{},c))}),Os(this.states,"true","1"),Os(this.states,"false","0"),o.transitions.forEach(O=>{this.transitionFactories.push(new va(y,O,this.states))}),this.fallbackTransition=function is(d,y,o){return new va(d,{type:ne.If.Transition,animation:{type:ne.If.Sequence,steps:[],options:null},matchers:[(ue,Ie)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,o,c,O){return this.transitionFactories.find(ue=>ue.match(y,o,c,O))||null}matchStyles(y,o,c){return this.fallbackTransition.buildStyles(y,o,c)}}function Os(d,y,o){d.has(y)?d.has(o)||d.set(o,d.get(y)):d.has(o)&&d.set(y,d.get(o))}const Hs=new Jo;class ws{constructor(y,o,c){this.bodyNode=y,this._driver=o,this._normalizer=c,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,o){const c=[],W=bs(this._driver,o,c,[]);if(c.length)throw function rn(d){return new e.wOt(3503,!1)}();this._animations.set(y,W)}_buildPlayer(y,o,c){const O=y.element,W=Tt(this._normalizer,y.keyframes,o,c);return this._driver.animate(O,W,y.duration,y.delay,y.easing,[],!0)}create(y,o,c={}){const O=[],W=this._animations.get(y);let ue;const Ie=new Map;if(W?(ue=Ks(this._driver,o,W,Gs,ls,new Map,new Map,c,Hs,O),ue.forEach(Cn=>{const mn=Ve(Ie,Cn.element,new Map);Cn.postStyleProps.forEach(ds=>mn.set(ds,null))})):(O.push(function Pn(){return new e.wOt(3300,!1)}()),ue=[]),O.length)throw function yt(d){return new e.wOt(3504,!1)}();Ie.forEach((Cn,mn)=>{Cn.forEach((ds,Ss)=>{Cn.set(Ss,this._driver.computeStyle(mn,Ss,ne.kp))})});const kt=Jt(ue.map(Cn=>{const mn=Ie.get(Cn.element);return this._buildPlayer(Cn,new Map,mn)}));return this._playersById.set(y,kt),kt.onDestroy(()=>this.destroy(y)),this.players.push(kt),kt}destroy(y){const o=this._getPlayer(y);o.destroy(),this._playersById.delete(y);const c=this.players.indexOf(o);c>=0&&this.players.splice(c,1)}_getPlayer(y){const o=this._playersById.get(y);if(!o)throw function Kt(d){return new e.wOt(3301,!1)}();return o}listen(y,o,c,O){const W=xe(o,"","","");return Ft(this._getPlayer(y),c,W,O),()=>{}}command(y,o,c,O){if("register"==c)return void this.register(y,O[0]);if("create"==c)return void this.create(y,o,O[0]||{});const W=this._getPlayer(y);switch(c){case"play":W.play();break;case"pause":W.pause();break;case"reset":W.reset();break;case"restart":W.restart();break;case"finish":W.finish();break;case"init":W.init();break;case"setPosition":W.setPosition(parseFloat(O[0]));break;case"destroy":this.destroy(y)}}}const di="ng-animate-queued",Ci="ng-animate-disabled",So=[],so={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},io="__ng_removed";class nr{get params(){return this.options.params}constructor(y,o=""){this.namespaceId=o;const c=y&&y.hasOwnProperty("value");if(this.value=function Ge(d){return d??null}(c?y.value:y),c){const{value:W,...ue}=y;this.options=ue}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const o=y.params;if(o){const c=this.options.params;Object.keys(o).forEach(O=>{null==c[O]&&(c[O]=o[O])})}}}const mo="void",ko=new nr(mo);class Ir{constructor(y,o,c){this.id=y,this.hostElement=o,this._engine=c,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,Xt(o,this._hostClassName)}listen(y,o,c,O){if(!this._triggers.has(o))throw function Rt(d,y){return new e.wOt(3302,!1)}();if(null==c||0==c.length)throw function nn(d){return new e.wOt(3303,!1)}();if(!function oe(d){return"start"==d||"done"==d}(c))throw function gn(d,y){return new e.wOt(3400,!1)}();const W=Ve(this._elementListeners,y,[]),ue={name:o,phase:c,callback:O};W.push(ue);const Ie=Ve(this._engine.statesByElement,y,new Map);return Ie.has(o)||(Xt(y,Es),Xt(y,Es+"-"+o),Ie.set(o,ko)),()=>{this._engine.afterFlush(()=>{const rt=W.indexOf(ue);rt>=0&&W.splice(rt,1),this._triggers.has(o)||Ie.delete(o)})}}register(y,o){return!this._triggers.has(y)&&(this._triggers.set(y,o),!0)}_getTrigger(y){const o=this._triggers.get(y);if(!o)throw function St(d){return new e.wOt(3401,!1)}();return o}trigger(y,o,c,O=!0){const W=this._getTrigger(o),ue=new Zo(this.id,o,y);let Ie=this._engine.statesByElement.get(y);Ie||(Xt(y,Es),Xt(y,Es+"-"+o),this._engine.statesByElement.set(y,Ie=new Map));let rt=Ie.get(o);const kt=new nr(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&rt&&kt.absorbOptions(rt.options),Ie.set(o,kt),rt||(rt=ko),kt.value!==mo&&rt.value===kt.value){if(!function Zi(d,y){const o=Object.keys(d),c=Object.keys(y);if(o.length!=c.length)return!1;for(let O=0;O<o.length;O++){const W=o[O];if(!y.hasOwnProperty(W)||d[W]!==y[W])return!1}return!0}(rt.params,kt.params)){const as=[],Js=W.matchStyles(rt.value,rt.params,as),Gi=W.matchStyles(kt.value,kt.params,as);as.length?this._engine.reportError(as):this._engine.afterFlush(()=>{lt(y,Js),sn(y,Gi)})}return}const ds=Ve(this._engine.playersByElement,y,[]);ds.forEach(as=>{as.namespaceId==this.id&&as.triggerName==o&&as.queued&&as.destroy()});let Ss=W.matchTransition(rt.value,kt.value,y,kt.params),Hn=!1;if(!Ss){if(!O)return;Ss=W.fallbackTransition,Hn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:o,transition:Ss,fromState:rt,toState:kt,player:ue,isFallbackTransition:Hn}),Hn||(Xt(y,di),ue.onStart(()=>{Sn(y,di)})),ue.onDone(()=>{let as=this.players.indexOf(ue);as>=0&&this.players.splice(as,1);const Js=this._engine.playersByElement.get(y);if(Js){let Gi=Js.indexOf(ue);Gi>=0&&Js.splice(Gi,1)}}),this.players.push(ue),ds.push(ue),ue}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(o=>o.delete(y)),this._elementListeners.forEach((o,c)=>{this._elementListeners.set(c,o.filter(O=>O.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const o=this._engine.playersByElement.get(y);o&&(o.forEach(c=>c.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,o){const c=this._engine.driver.query(y,cs,!0);c.forEach(O=>{if(O[io])return;const W=this._engine.fetchNamespacesByElement(O);W.size?W.forEach(ue=>ue.triggerLeaveAnimation(O,o,!1,!0)):this.clearElementCache(O)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(O=>this.clearElementCache(O)))}triggerLeaveAnimation(y,o,c,O){const W=this._engine.statesByElement.get(y),ue=new Map;if(W){const Ie=[];if(W.forEach((rt,kt)=>{if(ue.set(kt,rt.value),this._triggers.has(kt)){const Cn=this.trigger(y,kt,mo,O);Cn&&Ie.push(Cn)}}),Ie.length)return this._engine.markElementAsRemoved(this.id,y,!0,o,ue),c&&Jt(Ie).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const o=this._elementListeners.get(y),c=this._engine.statesByElement.get(y);if(o&&c){const O=new Set;o.forEach(W=>{const ue=W.name;if(O.has(ue))return;O.add(ue);const rt=this._triggers.get(ue).fallbackTransition,kt=c.get(ue)||ko,Cn=new nr(mo),mn=new Zo(this.id,ue,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:ue,transition:rt,fromState:kt,toState:Cn,player:mn,isFallbackTransition:!0})})}}removeNode(y,o){const c=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,o),this.triggerLeaveAnimation(y,o,!0))return;let O=!1;if(c.totalAnimations){const W=c.players.length?c.playersByQueriedElement.get(y):[];if(W&&W.length)O=!0;else{let ue=y;for(;ue=ue.parentNode;)if(c.statesByElement.get(ue)){O=!0;break}}}if(this.prepareLeaveAnimationListeners(y),O)c.markElementAsRemoved(this.id,y,!1,o);else{const W=y[io];(!W||W===so)&&(c.afterFlush(()=>this.clearElementCache(y)),c.destroyInnerAnimations(y),c._onRemovalComplete(y,o))}}insertNode(y,o){Xt(y,this._hostClassName)}drainQueuedTransitions(y){const o=[];return this._queue.forEach(c=>{const O=c.player;if(O.destroyed)return;const W=c.element,ue=this._elementListeners.get(W);ue&&ue.forEach(Ie=>{if(Ie.name==c.triggerName){const rt=xe(W,c.triggerName,c.fromState.value,c.toState.value);rt._data=y,Ft(c.player,Ie.phase,rt,Ie.callback)}}),O.markedForDestroy?this._engine.afterFlush(()=>{O.destroy()}):o.push(c)}),this._queue=[],o.sort((c,O)=>{const W=c.transition.ast.depCount,ue=O.transition.ast.depCount;return 0==W||0==ue?W-ue:this._engine.driver.containsElement(c.element,O.element)?1:-1})}destroy(y){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}}class bo{_onRemovalComplete(y,o){this.onRemovalComplete(y,o)}constructor(y,o,c,O){this.bodyNode=y,this.driver=o,this._normalizer=c,this.scheduler=O,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(W,ue)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(o=>{o.players.forEach(c=>{c.queued&&y.push(c)})}),y}createNamespace(y,o){const c=new Ir(y,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(c,o):(this.newHostElements.set(o,c),this.collectEnterElement(o)),this._namespaceLookup[y]=c}_balanceNamespaceList(y,o){const c=this._namespaceList,O=this.namespacesByHostElement;if(c.length-1>=0){let ue=!1,Ie=this.driver.getParentElement(o);for(;Ie;){const rt=O.get(Ie);if(rt){const kt=c.indexOf(rt);c.splice(kt+1,0,y),ue=!0;break}Ie=this.driver.getParentElement(Ie)}ue||c.unshift(y)}else c.push(y);return O.set(o,y),y}register(y,o){let c=this._namespaceLookup[y];return c||(c=this.createNamespace(y,o)),c}registerTrigger(y,o,c){let O=this._namespaceLookup[y];O&&O.register(o,c)&&this.totalAnimations++}destroy(y,o){y&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const c=this._fetchNamespace(y);this.namespacesByHostElement.delete(c.hostElement);const O=this._namespaceList.indexOf(c);O>=0&&this._namespaceList.splice(O,1),c.destroy(o),delete this._namespaceLookup[y]}))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const o=new Set,c=this.statesByElement.get(y);if(c)for(let O of c.values())if(O.namespaceId){const W=this._fetchNamespace(O.namespaceId);W&&o.add(W)}return o}trigger(y,o,c,O){if(Xe(o)){const W=this._fetchNamespace(y);if(W)return W.trigger(o,c,O),!0}return!1}insertNode(y,o,c,O){if(!Xe(o))return;const W=o[io];if(W&&W.setForRemoval){W.setForRemoval=!1,W.setForMove=!0;const ue=this.collectedLeaveElements.indexOf(o);ue>=0&&this.collectedLeaveElements.splice(ue,1)}if(y){const ue=this._fetchNamespace(y);ue&&ue.insertNode(o,c)}O&&this.collectEnterElement(o)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,o){o?this.disabledNodes.has(y)||(this.disabledNodes.add(y),Xt(y,Ci)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),Sn(y,Ci))}removeNode(y,o,c){if(Xe(o)){this.scheduler?.notify();const O=y?this._fetchNamespace(y):null;O?O.removeNode(o,c):this.markElementAsRemoved(y,o,!1,c);const W=this.namespacesByHostElement.get(o);W&&W.id!==y&&W.removeNode(o,c)}else this._onRemovalComplete(o,c)}markElementAsRemoved(y,o,c,O,W){this.collectedLeaveElements.push(o),o[io]={namespaceId:y,setForRemoval:O,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:W}}listen(y,o,c,O,W){return Xe(o)?this._fetchNamespace(y).listen(o,c,O,W):()=>{}}_buildInstruction(y,o,c,O,W){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,c,O,y.fromState.options,y.toState.options,o,W)}destroyInnerAnimations(y){let o=this.driver.query(y,cs,!0);o.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(y,yn,!0),o.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(y){const o=this.playersByElement.get(y);o&&o.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(y){const o=this.playersByQueriedElement.get(y);o&&o.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return Jt(this.players).onDone(()=>y());y()})}processLeaveNode(y){const o=y[io];if(o&&o.setForRemoval){if(y[io]=so,o.namespaceId){this.destroyInnerAnimations(y);const c=this._fetchNamespace(o.namespaceId);c&&c.clearElementCache(y)}this._onRemovalComplete(y,o.setForRemoval)}y.classList?.contains(Ci)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(c=>{this.markElementAsDisabled(c,!1)})}flush(y=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,O)=>this._balanceNamespaceList(c,O)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)Xt(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{o=this._flushAnimations(c,y)}finally{for(let O=0;O<c.length;O++)c[O]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],o.length?Jt(o).onDone(()=>{c.forEach(O=>O())}):c.forEach(O=>O())}}reportError(y){throw function zt(d){return new e.wOt(3402,!1)}()}_flushAnimations(y,o){const c=new Jo,O=[],W=new Map,ue=[],Ie=new Map,rt=new Map,kt=new Map,Cn=new Set;this.disabledNodes.forEach(Vs=>{Cn.add(Vs);const qs=this.driver.query(Vs,".ng-animate-queued",!0);for(let ai=0;ai<qs.length;ai++)Cn.add(qs[ai])});const mn=this.bodyNode,ds=Array.from(this.statesByElement.keys()),Ss=Dt(ds,this.collectedEnterElements),Hn=new Map;let as=0;Ss.forEach((Vs,qs)=>{const ai=Gs+as++;Hn.set(qs,ai),Vs.forEach(Qi=>Xt(Qi,ai))});const Js=[],Gi=new Set,fi=new Set;for(let Vs=0;Vs<this.collectedLeaveElements.length;Vs++){const qs=this.collectedLeaveElements[Vs],ai=qs[io];ai&&ai.setForRemoval&&(Js.push(qs),Gi.add(qs),ai.hasAnimation?this.driver.query(qs,".ng-star-inserted",!0).forEach(Qi=>Gi.add(Qi)):fi.add(qs))}const Mo=new Map,cr=Dt(ds,Array.from(Gi));cr.forEach((Vs,qs)=>{const ai=ls+as++;Mo.set(qs,ai),Vs.forEach(Qi=>Xt(Qi,ai))}),y.push(()=>{Ss.forEach((Vs,qs)=>{const ai=Hn.get(qs);Vs.forEach(Qi=>Sn(Qi,ai))}),cr.forEach((Vs,qs)=>{const ai=Mo.get(qs);Vs.forEach(Qi=>Sn(Qi,ai))}),Js.forEach(Vs=>{this.processLeaveNode(Vs)})});const wc=[],ic=[];for(let Vs=this._namespaceList.length-1;Vs>=0;Vs--)this._namespaceList[Vs].drainQueuedTransitions(o).forEach(ai=>{const Qi=ai.player,Nr=ai.element;if(wc.push(Qi),this.collectedEnterElements.length){const ta=Nr[io];if(ta&&ta.setForMove){if(ta.previousTriggersValues&&ta.previousTriggersValues.has(ai.triggerName)){const ou=ta.previousTriggersValues.get(ai.triggerName),Pl=this.statesByElement.get(ai.element);if(Pl&&Pl.has(ai.triggerName)){const Y_=Pl.get(ai.triggerName);Y_.value=ou,Pl.set(ai.triggerName,Y_)}}return void Qi.destroy()}}const xc=!mn||!this.driver.containsElement(mn,Nr),Ha=Mo.get(Nr),hd=Hn.get(Nr),dr=this._buildInstruction(ai,c,hd,Ha,xc);if(dr.errors&&dr.errors.length)return void ic.push(dr);if(xc)return Qi.onStart(()=>lt(Nr,dr.fromStyles)),Qi.onDestroy(()=>sn(Nr,dr.toStyles)),void O.push(Qi);if(ai.isFallbackTransition)return Qi.onStart(()=>lt(Nr,dr.fromStyles)),Qi.onDestroy(()=>sn(Nr,dr.toStyles)),void O.push(Qi);const CD=[];dr.timelines.forEach(ta=>{ta.stretchStartingKeyframe=!0,this.disabledNodes.has(ta.element)||CD.push(ta)}),dr.timelines=CD,c.append(Nr,dr.timelines),ue.push({instruction:dr,player:Qi,element:Nr}),dr.queriedElements.forEach(ta=>Ve(Ie,ta,[]).push(Qi)),dr.preStyleProps.forEach((ta,ou)=>{if(ta.size){let Pl=rt.get(ou);Pl||rt.set(ou,Pl=new Set),ta.forEach((Y_,_p)=>Pl.add(_p))}}),dr.postStyleProps.forEach((ta,ou)=>{let Pl=kt.get(ou);Pl||kt.set(ou,Pl=new Set),ta.forEach((Y_,_p)=>Pl.add(_p))})});if(ic.length){const Vs=[];ic.forEach(qs=>{Vs.push(function wt(d,y){return new e.wOt(3505,!1)}())}),wc.forEach(qs=>qs.destroy()),this.reportError(Vs)}const ma=new Map,rl=new Map;ue.forEach(Vs=>{const qs=Vs.element;c.has(qs)&&(rl.set(qs,qs),this._beforeAnimationBuild(Vs.player.namespaceId,Vs.instruction,ma))}),O.forEach(Vs=>{const qs=Vs.element;this._getPreviousPlayers(qs,!1,Vs.namespaceId,Vs.triggerName,null).forEach(Qi=>{Ve(ma,qs,[]).push(Qi),Qi.destroy()})});const nh=Js.filter(Vs=>zi(Vs,rt,kt)),_m=new Map;_e(_m,this.driver,fi,kt,ne.kp).forEach(Vs=>{zi(Vs,rt,kt)&&nh.push(Vs)});const sh=new Map;Ss.forEach((Vs,qs)=>{_e(sh,this.driver,new Set(Vs),rt,ne.FX)}),nh.forEach(Vs=>{const qs=_m.get(Vs),ai=sh.get(Vs);_m.set(Vs,new Map([...qs?.entries()??[],...ai?.entries()??[]]))});const yD=[],ED=[],zR={};ue.forEach(Vs=>{const{element:qs,player:ai,instruction:Qi}=Vs;if(c.has(qs)){if(Cn.has(qs))return ai.onDestroy(()=>sn(qs,Qi.toStyles)),ai.disabled=!0,ai.overrideTotalTime(Qi.totalTime),void O.push(ai);let Nr=zR;if(rl.size>1){let Ha=qs;const hd=[];for(;Ha=Ha.parentNode;){const dr=rl.get(Ha);if(dr){Nr=dr;break}hd.push(Ha)}hd.forEach(dr=>rl.set(dr,Nr))}const xc=this._buildAnimation(ai.namespaceId,Qi,ma,W,sh,_m);if(ai.setRealPlayer(xc),Nr===zR)yD.push(ai);else{const Ha=this.playersByElement.get(Nr);Ha&&Ha.length&&(ai.parentPlayer=Jt(Ha)),O.push(ai)}}else lt(qs,Qi.fromStyles),ai.onDestroy(()=>sn(qs,Qi.toStyles)),ED.push(ai),Cn.has(qs)&&O.push(ai)}),ED.forEach(Vs=>{const qs=W.get(Vs.element);if(qs&&qs.length){const ai=Jt(qs);Vs.setRealPlayer(ai)}}),O.forEach(Vs=>{Vs.parentPlayer?Vs.syncPlayerEvents(Vs.parentPlayer):Vs.destroy()});for(let Vs=0;Vs<Js.length;Vs++){const qs=Js[Vs],ai=qs[io];if(Sn(qs,ls),ai&&ai.hasAnimation)continue;let Qi=[];if(Ie.size){let xc=Ie.get(qs);xc&&xc.length&&Qi.push(...xc);let Ha=this.driver.query(qs,yn,!0);for(let hd=0;hd<Ha.length;hd++){let dr=Ie.get(Ha[hd]);dr&&dr.length&&Qi.push(...dr)}}const Nr=Qi.filter(xc=>!xc.destroyed);Nr.length?ts(this,qs,Nr):this.processLeaveNode(qs)}return Js.length=0,yD.forEach(Vs=>{this.players.push(Vs),Vs.onDone(()=>{Vs.destroy();const qs=this.players.indexOf(Vs);this.players.splice(qs,1)}),Vs.play()}),yD}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,o,c,O,W){let ue=[];if(o){const Ie=this.playersByQueriedElement.get(y);Ie&&(ue=Ie)}else{const Ie=this.playersByElement.get(y);if(Ie){const rt=!W||W==mo;Ie.forEach(kt=>{kt.queued||!rt&&kt.triggerName!=O||ue.push(kt)})}}return(c||O)&&(ue=ue.filter(Ie=>!(c&&c!=Ie.namespaceId||O&&O!=Ie.triggerName))),ue}_beforeAnimationBuild(y,o,c){const W=o.element,ue=o.isRemovalTransition?void 0:y,Ie=o.isRemovalTransition?void 0:o.triggerName;for(const rt of o.timelines){const kt=rt.element,Cn=kt!==W,mn=Ve(c,kt,[]);this._getPreviousPlayers(kt,Cn,ue,Ie,o.toState).forEach(Ss=>{const Hn=Ss.getRealPlayer();Hn.beforeDestroy&&Hn.beforeDestroy(),Ss.destroy(),mn.push(Ss)})}lt(W,o.fromStyles)}_buildAnimation(y,o,c,O,W,ue){const Ie=o.triggerName,rt=o.element,kt=[],Cn=new Set,mn=new Set,ds=o.timelines.map(Hn=>{const as=Hn.element;Cn.add(as);const Js=as[io];if(Js&&Js.removedBeforeQueried)return new ne.sf(Hn.duration,Hn.delay);const Gi=as!==rt,fi=function ps(d){const y=[];return Bs(d,y),y}((c.get(as)||So).map(ma=>ma.getRealPlayer())).filter(ma=>!!ma.element&&ma.element===as),Mo=W.get(as),cr=ue.get(as),wc=Tt(this._normalizer,Hn.keyframes,Mo,cr),ic=this._buildPlayer(Hn,wc,fi);if(Hn.subTimeline&&O&&mn.add(as),Gi){const ma=new Zo(y,Ie,as);ma.setRealPlayer(ic),kt.push(ma)}return ic});kt.forEach(Hn=>{Ve(this.playersByQueriedElement,Hn.element,[]).push(Hn),Hn.onDone(()=>function ya(d,y,o){let c=d.get(y);if(c){if(c.length){const O=c.indexOf(o);c.splice(O,1)}0==c.length&&d.delete(y)}return c}(this.playersByQueriedElement,Hn.element,Hn))}),Cn.forEach(Hn=>Xt(Hn,cn));const Ss=Jt(ds);return Ss.onDestroy(()=>{Cn.forEach(Hn=>Sn(Hn,cn)),sn(rt,o.toStyles)}),mn.forEach(Hn=>{Ve(O,Hn,[]).push(Ss)}),Ss}_buildPlayer(y,o,c){return o.length>0?this.driver.animate(y.element,o,y.duration,y.delay,y.easing,c):new ne.sf(y.duration,y.delay)}}class Zo{constructor(y,o,c){this.namespaceId=y,this.triggerName=o,this.element=c,this._player=new ne.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((o,c)=>{o.forEach(O=>Ft(y,c,void 0,O))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const o=this._player;o.triggerCallback&&y.onStart(()=>o.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,o){Ve(this._queuedCallbacks,y,[]).push(o)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const o=this._player;o.triggerCallback&&o.triggerCallback(y)}}function Xe(d){return d&&1===d.nodeType}function $e(d,y){const o=d.style.display;return d.style.display=y??"none",o}function _e(d,y,o,c,O){const W=[];o.forEach(rt=>W.push($e(rt)));const ue=[];c.forEach((rt,kt)=>{const Cn=new Map;rt.forEach(mn=>{const ds=y.computeStyle(kt,mn,O);Cn.set(mn,ds),(!ds||0==ds.length)&&(kt[io]=Xs,ue.push(kt))}),d.set(kt,Cn)});let Ie=0;return o.forEach(rt=>$e(rt,W[Ie++])),ue}function Dt(d,y){const o=new Map;if(d.forEach(Ie=>o.set(Ie,[])),0==y.length)return o;const O=new Set(y),W=new Map;function ue(Ie){if(!Ie)return 1;let rt=W.get(Ie);if(rt)return rt;const kt=Ie.parentNode;return rt=o.has(kt)?kt:O.has(kt)?1:ue(kt),W.set(Ie,rt),rt}return y.forEach(Ie=>{const rt=ue(Ie);1!==rt&&o.get(rt).push(Ie)}),o}function Xt(d,y){d.classList?.add(y)}function Sn(d,y){d.classList?.remove(y)}function ts(d,y,o){Jt(o).onDone(()=>d.processLeaveNode(y))}function Bs(d,y){for(let o=0;o<d.length;o++){const c=d[o];c instanceof ne.ui?Bs(c.players,y):y.push(c)}}function zi(d,y,o){const c=o.get(d);if(!c)return!1;let O=y.get(d);return O?c.forEach(W=>O.add(W)):y.set(d,c),o.delete(d),!0}class Vo{constructor(y,o,c,O){this._driver=o,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=(W,ue)=>{},this._transitionEngine=new bo(y.body,o,c,O),this._timelineEngine=new ws(y.body,o,c),this._transitionEngine.onRemovalComplete=(W,ue)=>this.onRemovalComplete(W,ue)}registerTrigger(y,o,c,O,W){const ue=y+"-"+O;let Ie=this._triggerCache[ue];if(!Ie){const rt=[],Cn=bs(this._driver,W,rt,[]);if(rt.length)throw function ut(d,y){return new e.wOt(3404,!1)}();Ie=function Vt(d,y,o){return new xn(d,y,o)}(O,Cn,this._normalizer),this._triggerCache[ue]=Ie}this._transitionEngine.registerTrigger(o,O,Ie)}register(y,o){this._transitionEngine.register(y,o)}destroy(y,o){this._transitionEngine.destroy(y,o)}onInsert(y,o,c,O){this._transitionEngine.insertNode(y,o,c,O)}onRemove(y,o,c){this._transitionEngine.removeNode(y,o,c)}disableAnimations(y,o){this._transitionEngine.markElementAsDisabled(y,o)}process(y,o,c,O){if("@"==c.charAt(0)){const[W,ue]=Ke(c);this._timelineEngine.command(W,o,ue,O)}else this._transitionEngine.trigger(y,o,c,O)}listen(y,o,c,O,W){if("@"==c.charAt(0)){const[ue,Ie]=Ke(c);return this._timelineEngine.listen(ue,o,Ie,W)}return this._transitionEngine.listen(y,o,c,O,W)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(y){this._transitionEngine.afterFlushAnimationsDone(y)}}class Ea{static{this.initialStylesByElement=new WeakMap}constructor(y,o,c){this._element=y,this._startStyles=o,this._endStyles=c,this._state=0;let O=Ea.initialStylesByElement.get(y);O||Ea.initialStylesByElement.set(y,O=new Map),this._initialStyles=O}start(){this._state<1&&(this._startStyles&&sn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sn(this._element,this._initialStyles),this._endStyles&&(sn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ea.initialStylesByElement.delete(this._element),this._startStyles&&(lt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lt(this._element,this._endStyles),this._endStyles=null),sn(this._element,this._initialStyles),this._state=3)}}function Ca(d){let y=null;return d.forEach((o,c)=>{(function Pr(d){return"display"===d||"position"===d})(c)&&(y=y||new Map,y.set(c,o))}),y}class ia{constructor(y,o,c,O){this.element=y,this.keyframes=o,this.options=c,this._specialStyles=O,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const o=[];return y.forEach(c=>{o.push(Object.fromEntries(c))}),o}_triggerWebAnimation(y,o,c){return y.animate(this._convertKeyframesToObject(o),c)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((c,O)=>{"offset"!==O&&y.set(O,this._finished?c:Cs(this.element,O))}),this.currentSnapshot=y}triggerCallback(y){const o="start"===y?this._onStartFns:this._onDoneFns;o.forEach(c=>c()),o.length=0}}class Al{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,o){return!1}containsElement(y,o){return an(y,o)}getParentElement(y){return At(y)}query(y,o,c){return Dn(y,o,c)}computeStyle(y,o,c){return Cs(y,o)}animate(y,o,c,O,W,ue=[]){const rt={duration:c,delay:O,fill:0==O?"both":"forwards"};W&&(rt.easing=W);const kt=new Map,Cn=ue.filter(Ss=>Ss instanceof ia);(function Rs(d,y){return 0===d||0===y})(c,O)&&Cn.forEach(Ss=>{Ss.currentSnapshot.forEach((Hn,as)=>kt.set(as,Hn))});let mn=function Ht(d){return d.length?d[0]instanceof Map?d:d.map(y=>new Map(Object.entries(y))):[]}(o).map(Ss=>new Map(Ss));mn=function Ds(d,y,o){if(o.size&&y.length){let c=y[0],O=[];if(o.forEach((W,ue)=>{c.has(ue)||O.push(ue),c.set(ue,W)}),O.length)for(let W=1;W<y.length;W++){let ue=y[W];O.forEach(Ie=>ue.set(Ie,Cs(d,Ie)))}}return y}(y,mn,kt);const ds=function bi(d,y){let o=null,c=null;return Array.isArray(y)&&y.length?(o=Ca(y[0]),y.length>1&&(c=Ca(y[y.length-1]))):y instanceof Map&&(o=Ca(y)),o||c?new Ea(d,o,c):null}(y,mn);return new ia(y,mn,rt,ds)}}const za="@.disabled";class La{constructor(y,o,c,O){this.namespaceId=y,this.delegate=o,this.engine=c,this._onDestroy=O,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(y){this.delegate.destroyNode?.(y)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(y,o){return this.delegate.createElement(y,o)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,o){this.delegate.appendChild(y,o),this.engine.onInsert(this.namespaceId,o,y,!1)}insertBefore(y,o,c,O=!0){this.delegate.insertBefore(y,o,c),this.engine.onInsert(this.namespaceId,o,y,O)}removeChild(y,o,c){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(y,o){return this.delegate.selectRootElement(y,o)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,o,c,O){this.delegate.setAttribute(y,o,c,O)}removeAttribute(y,o,c){this.delegate.removeAttribute(y,o,c)}addClass(y,o){this.delegate.addClass(y,o)}removeClass(y,o){this.delegate.removeClass(y,o)}setStyle(y,o,c,O){this.delegate.setStyle(y,o,c,O)}removeStyle(y,o,c){this.delegate.removeStyle(y,o,c)}setProperty(y,o,c){"@"==o.charAt(0)&&o==za?this.disableAnimations(y,!!c):this.delegate.setProperty(y,o,c)}setValue(y,o){this.delegate.setValue(y,o)}listen(y,o,c){return this.delegate.listen(y,o,c)}disableAnimations(y,o){this.engine.disableAnimations(y,o)}}class ll extends La{constructor(y,o,c,O,W){super(o,c,O,W),this.factory=y,this.namespaceId=o}setProperty(y,o,c){"@"==o.charAt(0)?"."==o.charAt(1)&&o==za?this.disableAnimations(y,c=void 0===c||!!c):this.engine.process(this.namespaceId,y,o.slice(1),c):this.delegate.setProperty(y,o,c)}listen(y,o,c){if("@"==o.charAt(0)){const O=function Ya(d){switch(d){case"body":return document.body;case"document":return document;case"window":return window;default:return d}}(y);let W=o.slice(1),ue="";return"@"!=W.charAt(0)&&([W,ue]=function cl(d){const y=d.indexOf(".");return[d.substring(0,y),d.slice(y+1)]}(W)),this.engine.listen(this.namespaceId,O,W,ue,Ie=>{this.factory.scheduleListenerCallback(Ie._data||-1,c,Ie)})}return this.delegate.listen(y,o,c)}}class ri{constructor(y,o,c){this.delegate=y,this.engine=o,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,o.onRemovalComplete=(O,W)=>{const ue=W?.parentNode(O);ue&&W.removeChild(ue,O)}}createRenderer(y,o){const O=this.delegate.createRenderer(y,o);if(!y||!o?.data?.animation){const kt=this._rendererCache;let Cn=kt.get(O);return Cn||(Cn=new La("",O,this.engine,()=>kt.delete(O)),kt.set(O,Cn)),Cn}const W=o.id,ue=o.id+"-"+this._currentId;this._currentId++,this.engine.register(ue,y);const Ie=kt=>{Array.isArray(kt)?kt.forEach(Ie):this.engine.registerTrigger(W,ue,y,kt.name,kt)};return o.data.animation.forEach(Ie),new ll(this,ue,O,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(y,o,c){if(y>=0&&y<this._microtaskId)return void this._zone.run(()=>o(c));const O=this._animationCallbacksBuffer;0==O.length&&queueMicrotask(()=>{this._zone.run(()=>{O.forEach(W=>{const[ue,Ie]=W;ue(Ie)}),this._animationCallbacksBuffer=[]})}),O.push([o,c])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let oo=(()=>{class d extends Vo{constructor(o,c,O){super(o,c,O,(0,e.WQX)(e.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(f.qQ),e.KVO(wn),e.KVO(ct))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const ui=[{provide:ct,useFactory:function yo(){return new Hi}},{provide:Vo,useClass:oo},{provide:e._9s,useFactory:function Cr(d,y,o){return new ri(d,y,o)},deps:[h.B7,Vo,e.SKi]}],ba=[{provide:wn,useFactory:()=>new Al},{provide:e.bc$,useValue:"BrowserAnimations"},...ui];var Is=n(7673),Zr=n(70274),Nc=n(57786),qo=n(71985),ra=n(21413),Ll=n(73557),Br=n(983),Ja=n(18810),ro=n(98071);class sr{constructor(y,o,c){this.kind=y,this.value=o,this.error=c,this.hasValue="N"===y}observe(y){return br(this,y)}do(y,o,c){const{kind:O,value:W,error:ue}=this;return"N"===O?y?.(W):"E"===O?o?.(ue):c?.()}accept(y,o,c){var O;return(0,ro.T)(null===(O=y)||void 0===O?void 0:O.next)?this.observe(y):this.do(y,o,c)}toObservable(){const{kind:y,value:o,error:c}=this,O="N"===y?(0,Is.of)(o):"E"===y?(0,Ja.$)(()=>c):"C"===y?Br.w:0;if(!O)throw new TypeError(`Unexpected notification kind ${y}`);return O}static createNext(y){return new sr("N",y)}static createError(y){return new sr("E",void 0,y)}static createComplete(){return sr.completeNotification}}function br(d,y){var o,c,O;const{kind:W,value:ue,error:Ie}=d;if("string"!=typeof W)throw new TypeError('Invalid notification, missing "kind"');"N"===W?null===(o=y.next)||void 0===o||o.call(y,ue):"E"===W?null===(c=y.error)||void 0===c||c.call(y,Ie):null===(O=y.complete)||void 0===O||O.call(y)}sr.completeNotification=new sr("C");var Wi=n(39974),Ut=n(54360),xt=n(96354),An=n(99437),Wn=n(5964),os=n(58750);function Us(d,y,o,c){return(0,Wi.N)((O,W)=>{let ue;y&&"function"!=typeof y?({duration:o,element:ue,connector:c}=y):ue=y;const Ie=new Map,rt=Hn=>{Ie.forEach(Hn),Hn(W)},kt=Hn=>rt(as=>as.error(Hn));let Cn=0,mn=!1;const ds=new Ut.H(W,Hn=>{try{const as=d(Hn);let Js=Ie.get(as);if(!Js){Ie.set(as,Js=c?c():new ra.B);const Gi=function Ss(Hn,as){const Js=new qo.c(Gi=>{Cn++;const fi=as.subscribe(Gi);return()=>{fi.unsubscribe(),0==--Cn&&mn&&ds.unsubscribe()}});return Js.key=Hn,Js}(as,Js);if(W.next(Gi),o){const fi=(0,Ut._)(Js,()=>{Js.complete(),fi?.unsubscribe()},void 0,void 0,()=>Ie.delete(as));ds.add((0,os.Tg)(o(Gi)).subscribe(fi))}}Js.next(ue?ue(Hn):Hn)}catch(as){kt(as)}},()=>rt(Hn=>Hn.complete()),kt,()=>Ie.clear(),()=>(mn=!0,0===Cn));O.subscribe(ds)})}var Qn=n(73028);function _i(d,y){return y?o=>o.pipe(_i((c,O)=>(0,os.Tg)(d(c,O)).pipe((0,xt.T)((W,ue)=>y(c,W,O,ue))))):(0,Wi.N)((o,c)=>{let O=0,W=null,ue=!1;o.subscribe((0,Ut._)(c,Ie=>{W||(W=(0,Ut._)(c,void 0,()=>{W=null,ue&&c.complete()}),(0,os.Tg)(d(Ie,O++)).subscribe(W))},()=>{ue=!0,!W&&c.complete()}))})}const qi={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},ki="__@ngrx/effects_create__";function kn(d,y={}){const o=y.functional?d:d(),c={...qi,...y};return Object.defineProperty(o,ki,{value:c}),o}function Je(d){return Object.getPrototypeOf(d)}function ze(d){return"function"==typeof d}function Lt(d){return d.filter(ze)}function Un(d,y,o){const c=Je(d),W=c&&"Object"!==c.constructor.name?c.constructor.name:null,ue=function he(d){return function ao(d){return Object.getOwnPropertyNames(d).filter(c=>!(!d[c]||!d[c].hasOwnProperty(ki))&&d[c][ki].hasOwnProperty("dispatch")).map(c=>({propertyName:c,...d[c][ki]}))}(d)}(d).map(({propertyName:Ie,dispatch:rt,useEffectsErrorHandler:kt})=>{const Cn="function"==typeof d[Ie]?d[Ie]():d[Ie],mn=kt?o(Cn,y):Cn;return!1===rt?mn.pipe((0,Ll.w)()):mn.pipe(function dn(){return(0,Wi.N)((d,y)=>{d.subscribe((0,Ut._)(y,o=>{y.next(sr.createNext(o))},()=>{y.next(sr.createComplete()),y.complete()},o=>{y.next(sr.createError(o)),y.complete()}))})}()).pipe((0,xt.T)(Ss=>({effect:d[Ie],notification:Ss,propertyName:Ie,sourceName:W,sourceInstance:d})))});return(0,Nc.h)(...ue)}function Ri(d,y,o=10){return d.pipe((0,An.W)(c=>(y&&y.handleError(c),o<=1?d:Ri(d,y,o-1))))}let Ns=(()=>{class d extends qo.c{constructor(o){super(),o&&(this.source=o)}lift(o){const c=new d;return c.source=this,c.operator=o,c}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(E.sA))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();function Xn(...d){return(0,Wn.p)(y=>d.some(o=>"string"==typeof o?o===y.type:o.type===y.type))}const hi=new e.nKC("@ngrx/effects Internal Root Guard"),Fi=new e.nKC("@ngrx/effects User Provided Effects"),Di=new e.nKC("@ngrx/effects Internal Root Effects"),Io=new e.nKC("@ngrx/effects Internal Root Effects Instances"),Go=new e.nKC("@ngrx/effects Internal Feature Effects"),Ai=new e.nKC("@ngrx/effects Internal Feature Effects Instance Groups"),es=new e.nKC("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Ri}),xs="@ngrx/effects/init";(0,E.VP)(xs);function ul(d){return or(d,"ngrxOnInitEffects")}function or(d,y){return d&&y in d&&"function"==typeof d[y]}let co=(()=>{class d extends ra.B{constructor(o,c){super(),this.errorHandler=o,this.effectsErrorHandler=c}addEffects(o){this.next(o)}toActions(){return this.pipe(Us(o=>function Re(d){return!!d.constructor&&"Object"!==d.constructor.name&&"Function"!==d.constructor.name}(o)?Je(o):o),(0,Qn.Z)(o=>o.pipe(Us(hl))),(0,Qn.Z)(o=>{const c=o.pipe(_i(W=>function pl(d,y){return o=>{const c=Un(o,d,y);return function $s(d){return or(d,"ngrxOnRunEffects")}(o)?o.ngrxOnRunEffects(c):c}}(this.errorHandler,this.effectsErrorHandler)(W)),(0,xt.T)(W=>(function go(d,y){if("N"===d.notification.kind){const o=d.notification.value;!function Eo(d){return"function"!=typeof d&&d&&d.type&&"string"==typeof d.type}(o)&&y.handleError(new Error(`Effect ${function $o({propertyName:d,sourceInstance:y,sourceName:o}){const c="function"==typeof y[d];return o?`"${o}.${String(d)}${c?"()":""}"`:`"${String(d)}()"`}(d)} dispatched an invalid action: ${function ir(d){try{return JSON.stringify(d)}catch{return d}}(o)}`))}}(W,this.errorHandler),W.notification)),(0,Wn.p)(W=>"N"===W.kind&&null!=W.value),function Ni(){return(0,Wi.N)((d,y)=>{d.subscribe((0,Ut._)(y,o=>br(o,y)))})}()),O=o.pipe((0,T.s)(1),(0,Wn.p)(ul),(0,xt.T)(W=>W.ngrxOnInitEffects()));return(0,Nc.h)(c,O)}))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(e.zcH),e.KVO(es))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();function hl(d){return function Po(d){return or(d,"ngrxOnIdentifyEffects")}(d)?d.ngrxOnIdentifyEffects():""}let To=(()=>{class d{get isStarted(){return!!this.effectsSubscription}constructor(o,c){this.effectSources=o,this.store=c,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(co),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),Ro=(()=>{class d{constructor(o,c,O,W,ue,Ie,rt){this.sources=o,c.start();for(const kt of W)o.addEffects(kt);O.dispatch({type:xs})}addEffects(o){this.sources.addEffects(o)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(co),e.KVO(To),e.KVO(E.il),e.KVO(Io),e.KVO(E.wc,8),e.KVO(E.ae,8),e.KVO(hi,8))}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({})}}return d})(),fd=(()=>{class d{constructor(o,c,O,W){const ue=c.flat();for(const Ie of ue)o.addEffects(Ie)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ro),e.KVO(Ai),e.KVO(E.wc,8),e.KVO(E.ae,8))}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({})}}return d})(),pr=(()=>{class d{static forFeature(...o){const c=o.flat(),O=Lt(c);return{ngModule:fd,providers:[O,{provide:Go,multi:!0,useValue:c},{provide:Fi,multi:!0,useValue:[]},{provide:Ai,multi:!0,useFactory:rc,deps:[Go,Fi]}]}}static forRoot(...o){const c=o.flat(),O=Lt(c);return{ngModule:Ro,providers:[O,{provide:Di,useValue:[c]},{provide:hi,useFactory:Fa},{provide:Fi,multi:!0,useValue:[]},{provide:Io,useFactory:rc,deps:[Di,Fi]}]}}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({})}}return d})();function rc(d,y){const o=[];for(const c of d)o.push(...c);for(const c of y)o.push(...c);return o.map(c=>function On(d){return d instanceof e.nKC||ze(d)}(c)?(0,e.WQX)(c):c)}function Fa(){const d=(0,e.WQX)(To,{optional:!0,skipSelf:!0}),y=(0,e.WQX)(Di,{self:!0});if((1!==y.length||0!==y[0].length)&&d)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Bi=n(97324),Ms=n(1473),jr=n(20766),_o=n(53588),Fc=n(85188),si=n(82640),fl=n(43832),Ba=n(9901),Nl=n(99452),Ur=n(61242),Fl=n(87832),ru=n(46754),au=n(73308),Bl=n(74920),de=n(1748);const Oe=["*"];function pe(d,y){}let Me=(()=>{class d extends M.J{getComponentName(){return"ForbiddenComponent"}importThemedComponent(o){return n(30130)(`./${o}/app/forbidden/forbidden.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1748))}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-forbidden"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Oe,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,O){1&c&&(e.NAR(),e.DNE(0,pe,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var He=n(20968),ft=n(34912),Se=n(95960),ye=n(78221),ae=n(77529),Pe=n(2670);const nt=["*"];function Bt(d,y){}let _n=(()=>{class d extends M.J{getComponentName(){return"PageErrorComponent"}importThemedComponent(o){return n(18400)(`./${o}/app/page-error/page-error.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,2670))}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-page-error"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:nt,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,O){1&c&&(e.NAR(),e.DNE(0,Bt,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var Ln=n(82290);const rs=["*"];function gs(d,y){}let vs=(()=>{class d extends M.J{getComponentName(){return"PageInternalServerErrorComponent"}importThemedComponent(o){return n(46544)(`./${o}/app/page-internal-server-error/page-internal-server-error.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,82290))}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-page-internal-server-error"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:rs,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,O){1&c&&(e.NAR(),e.DNE(0,gs,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var Ji=n(53830);const Oa=["*"];function ml(d,y){}let Za=(()=>{class d extends M.J{getComponentName(){return"PageNotFoundComponent"}importThemedComponent(o){return n(94826)(`./${o}/app/pagenotfound/pagenotfound.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,53830))}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-pagenotfound"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Oa,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,O){1&c&&(e.NAR(),e.DNE(0,ml,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();n(55709),n(25871);var ln=n(89417);let lu=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,ln.YN,le.q1,v.iI]})}}return d})(),gl=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,f.MD]})}}return d})(),cu=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,ln.YN,le.q1,ln.X1,gl,v.iI]})}}return d})(),vp=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,ln.YN,le.q1,v.iI]})}}return d})(),yp=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,ln.YN,le.q1,ln.X1,gl]})}}return d})(),J_=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,ln.YN,le.q1,ln.X1,gl]})}}return d})(),Ep=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,ln.YN,le.q1,v.iI]})}}return d})(),Q_=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,ln.YN,le.q1,v.iI]})}}return d})(),_l=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,ln.YN,le.q1,v.iI]})}}return d})(),vm=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,ln.YN,le.q1,v.iI]})}}return d})();var lc=n(65007);let ym=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({providers:[lc.AuthorizationDataService],imports:[f.MD,ln.YN,le.q1,v.iI]})}}return d})(),Z_=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,ln.YN,le.q1,v.iI]})}}return d})();var vl=n(10887);let eo=(()=>{class d{constructor(o){this.http=o,this.baseUrl=`${vl.$}/server/api/discover/search/objects`}getDateSearchResults(o="*",c,O,W="dc.title",ue="ASC",Ie=10){let rt=(new le.Nl).set("query",o||"*").set("sort",`${W},${ue}`).set("size",Ie.toString());return c&&(rt=rt.append("f",`dc.date.issued,gt:${c}`)),O&&(rt=rt.append("f",`dc.date.issued,lt:${O}`)),this.http.get(this.baseUrl,{params:rt})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),Cp=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({providers:[eo],imports:[f.MD,ln.YN,le.q1,v.iI]})}}return d})(),du=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,ln.YN,le.q1,v.iI]})}}return d})(),Vr=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,ln.YN,le.q1,v.iI]})}}return d})(),Em=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,ln.YN,le.q1]})}}return d})();const cc=[f.MD,q.UN],Bc=[];let uu=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({providers:[...Bc],imports:[cc,x.RootComponent,$,ft.HeaderComponent,Se.q,ye.HeaderNavbarWrapperComponent,ae.h,fl.AdminSidebarComponent,Ur.u,Ba.g,Nl.W,au.FooterComponent,Bl.C,Ji.PageNotFoundComponent,Za,Fl.BreadcrumbsComponent,ru.B,de.ForbiddenComponent,Me,te,vs,Ln.PageInternalServerErrorComponent,_n,Pe.PageErrorComponent,He.Y,lu,vp,cu,yp,J_,Ep,Q_,_l,vm,ym,Z_,Cp,du,Vr,Em]})}}return d})();var Cm=n(3018),el=n(47435),ev=(n(31264),n(89768));const bm=[];let Tm=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({providers:[...bm.map(o=>({provide:o}))],imports:[f.MD,uu,Cm.HeaderComponent,el.HeaderNavbarWrapperComponent,ev.NavbarComponent]})}}return d})(),ih=(()=>{class d{static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[Tm]})}}return d})();var ks=n(25558),bp=n(61594),yl=n(54476),ei=n(39548),Tr=n(19340),Dm=n(43323);let rE=(()=>{class d{constructor(o,c){this.actions$=o,this.menuService=c,this.menuID=Tr.D.PUBLIC,this.resize$=kn(()=>this.actions$.pipe(Xn(k.O.RESIZE),(0,xt.T)(()=>new yl.F$(this.menuID)))),this.routeChange$=kn(()=>this.actions$.pipe(Xn(jr.hr),(0,xt.T)(()=>new yl.F$(this.menuID)))),this.openAdminSidebar$=kn(()=>this.actions$.pipe(Xn(yl.jZ.EXPAND_MENU_PREVIEW),(0,ks.n)(O=>this.menuService.getMenu(O.menuID).pipe((0,bp.$)(),(0,xt.T)(W=>W.id===Tr.D.ADMIN&&!W.previewCollapsed&&W.collapsed?new yl.F$(Tr.D.PUBLIC):new Dm.L)))))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(ei.$))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var mi=n(88141),jl=n(41684),jc=n(78394),El=n(48833),aE=n(38096),Cl=n(32473),Ar=n(98107),js=n(80183),nv=n(49903),En=n(93158),ys=n(39806),dc=n(13329),Ws=n(67600),Vi=n(59496),Ul=function(d){return d[d.Add=0]="Add",d[d.Remove=1]="Remove",d}(Ul||{});let ja=(()=>{class d{constructor(o,c,O,W,ue,Ie,rt,kt,Cn,mn,ds){this.actions$=o,this.relationshipService=c,this.relationshipTypeService=O,this.submissionObjectService=W,this.store=ue,this.objectCache=Ie,this.requestService=rt,this.notificationsService=kt,this.translateService=Cn,this.selectableListService=mn,this.debounceTime=ds,this.requestQueue=new ra.B,this.debounceMap={},this.nameVariantUpdates={},this.initialActionMap={},this.mapLastActions$=kn(()=>this.actions$.pipe(Xn(Vi.oE.ADD_RELATIONSHIP,Vi.oE.REMOVE_RELATIONSHIP),(0,xt.T)(Ss=>{const{item1:Hn,item2:as,submissionId:Js,relationshipType:Gi}=Ss.payload,fi=this.createIdentifier(Hn,as,Gi);(0,G.Tn)(this.debounceMap[fi])?(this.initialActionMap[fi]=Ss.type,this.debounceMap[fi]=new _.t(Ss.type),this.debounceMap[fi].pipe(this.debounceTime(500),(0,T.s)(1)).subscribe(Mo=>{if(this.initialActionMap[fi]===Mo)if(Mo===Vi.oE.ADD_RELATIONSHIP){let cr=Ss.payload.nameVariant;(0,G.a4)(this.nameVariantUpdates[fi])&&(cr=this.nameVariantUpdates[fi],delete this.nameVariantUpdates[fi]),this.requestQueue.next({type:Ul.Add,item1:Hn,item2:as,relationshipType:Gi,submissionId:Js,nameVariant:cr})}else this.requestQueue.next({type:Ul.Remove,item1:Hn,item2:as,relationshipType:Gi,submissionId:Js});delete this.debounceMap[fi],delete this.initialActionMap[fi]})):this.debounceMap[fi].next(Ss.type)})),{dispatch:!1}),this.updateNameVariantsActions$=kn(()=>this.actions$.pipe(Xn(Vi.oE.UPDATE_NAME_VARIANT),(0,xt.T)(Ss=>{const{item1:Hn,item2:as,relationshipType:Js,submissionId:Gi,nameVariant:fi}=Ss.payload,Mo=this.createIdentifier(Hn,as,Js);(0,G.a4)(this.debounceMap[Mo])?this.nameVariantUpdates[Mo]=fi:this.relationshipService.updateNameVariant(Hn,as,Js,fi).pipe((0,Wn.p)(wc=>(0,G.a4)(wc.payload)),(0,T.s)(1)).subscribe(wc=>{this.updateAfterPatchSubmissionId=Gi,this.relationshipService.refreshRelationshipItemsInCache(Hn),this.relationshipService.refreshRelationshipItemsInCache(as)})})),{dispatch:!1}),this.updateRelationshipActions$=kn(()=>this.actions$.pipe(Xn(Vi.oE.UPDATE_RELATIONSHIP),(0,xt.T)(Ss=>{this.updateAfterPatchSubmissionId=Ss.payload.submissionId})),{dispatch:!1}),this.saveSubmissionSection=kn(()=>this.actions$.pipe(Xn(jc.G9.EMPTY,Ar.Ce.COMMIT_JSON_PATCH_OPERATIONS),(0,Wn.p)(()=>(0,G.a4)(this.updateAfterPatchSubmissionId)),(0,ks.n)(()=>this.refreshWorkspaceItemInCache(this.updateAfterPatchSubmissionId)),(0,xt.T)(Ss=>new En.ky(this.updateAfterPatchSubmissionId,[Ss],!1)))),this.executeRequestsInQueue()}executeRequestsInQueue(){this.requestQueue.pipe((0,Zr.H)(o=>{switch(o.type){case Ul.Add:return this.addRelationship(o.item1,o.item2,o.relationshipType,o.submissionId,o.nameVariant).pipe((0,xt.T)(()=>o));case Ul.Remove:return this.removeRelationship(o.item1,o.item2,o.relationshipType).pipe((0,xt.T)(()=>o));default:return[o]}}),(0,ks.n)(o=>this.refreshWorkspaceItemInCache(o.submissionId))).subscribe(o=>{this.store.dispatch(new En.ky(o.id,[o],!1))})}createIdentifier(o,c,O){return`${o.uuid}-${c.uuid}-${O}`}addRelationship(o,c,O,W,ue){const Ie=o.firstMetadataValue("dspace.entity.type"),rt=c.firstMetadataValue("dspace.entity.type");return this.relationshipTypeService.getRelationshipTypeByLabelAndTypes(O,Ie,rt).pipe((0,Qn.Z)(kt=>null===kt?[null]:kt.rightwardType===O?this.relationshipService.addRelationship(kt.id,c,o,ue,void 0):this.relationshipService.addRelationship(kt.id,o,c,void 0,ue)),(0,T.s)(1),(0,mi.M)(kt=>{if((0,G.Tn)(kt)||kt.hasFailed){const Cn=`list-${W}-${O}`;let mn;this.selectableListService.findSelectedByCondition(Cn,ds=>(0,G.a4)(ds.indexableObject)&&ds.indexableObject.uuid===c.uuid).pipe((0,T.s)(1),(0,G.Az)()).subscribe(ds=>{this.selectableListService.deselectSingle(Cn,ds)}),mn=(0,G.Tn)(kt)?this.translateService.instant("relationships.add.error.relationship-type.content",{type:O}):this.translateService.instant("relationships.add.error.server.content"),this.notificationsService.error(this.translateService.instant("relationships.add.error.title"),mn)}}))}removeRelationship(o,c,O){return this.relationshipService.getRelationshipByItemsAndLabel(o,c,O).pipe((0,Qn.Z)(W=>this.relationshipService.deleteRelationship(W.id,"none")),(0,T.s)(1))}refreshWorkspaceItemInCache(o){return this.submissionObjectService.findById(o,!1,!1,(0,Ws.s)("item")).pipe((0,js.yd)(),(0,js.Bo)())}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(El.RelationshipDataService),e.KVO(aE.RelationshipTypeDataService),e.KVO(nv.$),e.KVO(E.il),e.KVO(jl.$),e.KVO(Cl.B),e.KVO(ys.I),e.KVO(K.c$),e.KVO(dc.K),e.KVO(js.f6))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),Mm=(()=>{class d{constructor(o,c){this.actions$=o,this.store=c}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();class Uc{constructor(y){this.original=y}toString(){if((0,G.Im)(this.original))return"";{const y=this.original.indexOf("?");return y<0?this.original:this.original.substring(0,y)}}}var oh=n(52680);let sv=(()=>{class d{constructor(o){this.actions$=o,this.routeChange$=kn(()=>this.actions$.pipe(Xn(jr.hr),(0,Wn.p)(c=>this.previousPath!==this.getBaseUrl(c)),(0,mi.M)(c=>{this.previousPath=this.getBaseUrl(c)}),(0,xt.T)(()=>new oh.EI)))}getBaseUrl(o){return new Uc(o.payload.routerState.url).toString()}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Tp=n(15314),qr=n(10092);let kl=(()=>{class d{constructor(o){this.actions$=o,this.initTheme$=kn(()=>this.actions$.pipe(Xn(xs),(0,xt.T)(()=>{const c=(0,ee.Nv)();return(0,G.a4)(c)?new Tp.K(c.name):new Tp.K(qr.Q)})))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var md=n(91e3);const Do={REHYDRATE:(0,md.N)("dspace/ngrx/REHYDRATE"),REPLAY:(0,md.N)("dspace/ngrx/REPLAY")};class ea{constructor(y,o){this.type=y,this.payload=o}}const hu=[(()=>{class d{constructor(o,c){this.actions=o,this.store=c,this.replay=kn(()=>this.actions.pipe(Xn(Do.REPLAY),(0,xt.T)(O=>(0,Is.of)({}))),{dispatch:!1}),this.resize=kn(()=>this.actions.pipe(Xn(Do.REPLAY,Do.REHYDRATE),(0,xt.T)(()=>new k.l(window.innerWidth,window.innerHeight))))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),rE,Mm,sv,kl,ja];let Dp=0;const lh=[function ah(d){return(y,o)=>(Dp++,console.log("@ngrx action",Dp,o.type),console.log("state",JSON.stringify(y)),console.log("action",JSON.stringify(o)),console.log("------------------------------------"),d(y,o))}],Op=[function Vl(d){return(y,o)=>(o.type===Do.REHYDRATE&&(y=Object.assign({},y,o.payload)),d(y,o))}];var kc=n(195),lE=n(47483),ar=n(69799),ch=n(64611),Mp=n(54671),Mi=n(49347),ov=n(36673),Sm=n(36329),Dr=n(3970),Gr=n(89673);const gd=(0,Gr.L)(()=>(0,Is.of)(Dr._.EPersonRegistration));var xo=n(17366),cE=n(3636);const wi=(0,xo.e)(()=>{const d=(0,e.WQX)(cE.GH);return A.c.info.enableEndUserAgreement?d.hasCurrentUserAcceptedAgreement(!0):(0,Is.of)(!0)}),Sp=(0,Gr.L)(()=>(0,Is.of)(Dr._.EPersonForgotPassword));var _d=n(29443),Ko=n(84572),$r=n(47677),pu=n(13275),uh=n(37864),Ma=n(8917),Wr=n(32736);n(10270);const Im=["*"];function hh(d,y){}let av=(()=>{class d extends M.J{getComponentName(){return"CreateCollectionParentSelectorComponent"}importThemedComponent(o){return n(12706)(`./${o}/app/shared/dso-selector/modal-wrappers/create-collection-parent-selector/create-collection-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,10270))}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-create-collection-parent-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Im,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,O){1&c&&(e.NAR(),e.DNE(0,hh,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();n(76538);const fu=["*"];function lv(d,y){}let Pp=(()=>{class d extends M.J{getComponentName(){return"CreateCommunityParentSelectorComponent"}importThemedComponent(o){return n(27122)(`./${o}/app/shared/dso-selector/modal-wrappers/create-community-parent-selector/create-community-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,76538))}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-create-community-parent-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:fu,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,O){1&c&&(e.NAR(),e.DNE(0,lv,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var Pm=n(52798);n(73234);const Rm=["*"];function dE(d,y){}let dv=(()=>{class d extends M.J{getComponentName(){return"EditCollectionSelectorComponent"}importThemedComponent(o){return n(61130)(`./${o}/app/shared/dso-selector/modal-wrappers/edit-collection-selector/edit-collection-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,73234))}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-edit-collection-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Rm,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,O){1&c&&(e.NAR(),e.DNE(0,dE,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();n(64990);const Gc=["*"];function ph(d,y){}let uc=(()=>{class d extends M.J{getComponentName(){return"EditCommunitySelectorComponent"}importThemedComponent(o){return n(11452)(`./${o}/app/shared/dso-selector/modal-wrappers/edit-community-selector/edit-community-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,64990))}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-edit-community-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Gc,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,O){1&c&&(e.NAR(),e.DNE(0,ph,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();n(29380);const mh=["*"];function uE(d,y){}let gh=(()=>{class d extends M.J{getComponentName(){return"EditItemSelectorComponent"}importThemedComponent(o){return n(6122)(`./${o}/app/shared/dso-selector/modal-wrappers/edit-item-selector/edit-item-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,29380))}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-edit-item-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:mh,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,O){1&c&&(e.NAR(),e.DNE(0,uE,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var Fs=n(96526),_h=n(6041),Kr=n(13864),vh=n(1504),hc=n(73666),vd=n(9284),yh=n(43404),yd=n(73183),$c=n(54705);function wm(d,y){if(1&d&&(e.j41(0,"span",5),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,o.header))}}let Rp=(()=>{class d extends $c.${constructor(o,c,O,W,ue,Ie,rt,kt,Cn){super(o,c),this.activeModal=o,this.route=c,this.router=O,this.notificationsService=W,this.translationService=ue,this.scriptDataService=Ie,this.authorizationDataService=rt,this.dsoNameService=kt,this.modalService=Cn,this.objectType=Kr.W.DSPACEOBJECT,this.selectorTypes=[Kr.W.COLLECTION],this.action=$c.u.EXPORT_BATCH}navigate(o){if(o instanceof _h.p){const c=this.modalService.open(vd.M);c.componentInstance.name=this.dsoNameService.getName(o),c.componentInstance.headerLabel="confirmation-modal.export-batch.header",c.componentInstance.infoLabel="confirmation-modal.export-batch.info",c.componentInstance.cancelLabel="confirmation-modal.export-batch.cancel",c.componentInstance.confirmLabel="confirmation-modal.export-batch.confirm",c.componentInstance.confirmIcon="fas fa-file-export";const O=c.componentInstance.response.pipe((0,ks.n)(W=>{if(W)return this.startScriptNotifyAndRedirect(o).pipe((0,ks.n)(Ie=>(0,Is.of)(Ie)));this.modalService.open(d).componentInstance.dsoRD=(0,yh.SP)(o)}));return O.subscribe(),O}return(0,Is.of)(!1)}startScriptNotifyAndRedirect(o){const c=[Object.assign(new hc.p,{name:"--id",value:o.uuid}),Object.assign(new hc.p,{name:"--type",value:"COLLECTION"})];return this.authorizationDataService.isAuthorized(Dr._.AdministratorOf).pipe((0,ks.n)(()=>this.scriptDataService.invoke(Wr.BATCH_EXPORT_SCRIPT_NAME,c,[])),(0,js.qD)(),(0,xt.T)(O=>{if(O.hasSucceeded){const W=this.translationService.get("process.new.notification.success.title"),ue=this.translationService.get("process.new.notification.success.content");return this.notificationsService.success(W,ue),(0,G.hj)(O.payload)&&this.router.navigateByUrl((0,vh.yJ)(O.payload.processId)),!0}{const W=this.translationService.get("process.new.notification.error.title"),ue=this.translationService.get("process.new.notification.error.content");return this.notificationsService.error(W,ue),!1}}))}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(q.Lw),e.rXU(v.nX),e.rXU(v.Ix),e.rXU(ys.I),e.rXU(K.c$),e.rXU(Wr.ScriptDataService),e.rXU(lc.AuthorizationDataService),e.rXU(Fs.f),e.rXU(q.Bq))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-export-batch-selector"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(c,O){1&c&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return O.close()}),e.k0s()(),e.j41(5,"div",2),e.DNE(6,wm,3,3,"span",3),e.j41(7,"ds-dso-selector",4),e.bIt("onSelect",function(ue){return O.selectObject(ue)}),e.k0s()()()),2&c&&(e.R7$(2),e.SpI("",e.bMT(3,5,"dso-selector."+O.action+"."+O.objectType.toString().toLowerCase()+".head")," "),e.R7$(4),e.Y8G("ngIf",O.header),e.R7$(),e.Y8G("currentDSOId",null==O.dsoRD?null:O.dsoRD.payload.uuid)("types",O.selectorTypes)("sort",O.defaultSort))},dependencies:[f.bT,yd.x,K.h,K.D9],encapsulation:2})}}return d})();var Ed=n(10046);function uv(d,y){if(1&d&&(e.j41(0,"span",5),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,o.header))}}let Eh=(()=>{class d extends $c.${constructor(o,c,O,W,ue,Ie,rt,kt,Cn){super(o,c),this.activeModal=o,this.route=c,this.router=O,this.notificationsService=W,this.translationService=ue,this.scriptDataService=Ie,this.authorizationDataService=rt,this.dsoNameService=kt,this.modalService=Cn,this.objectType=Kr.W.DSPACEOBJECT,this.selectorTypes=[Kr.W.COLLECTION,Kr.W.COMMUNITY],this.action=$c.u.EXPORT_METADATA}navigate(o){if(o instanceof _h.p||o instanceof Ed.E){const c=this.modalService.open(vd.M);c.componentInstance.name=this.dsoNameService.getName(o),c.componentInstance.headerLabel="confirmation-modal.export-metadata.header",c.componentInstance.infoLabel="confirmation-modal.export-metadata.info",c.componentInstance.cancelLabel="confirmation-modal.export-metadata.cancel",c.componentInstance.confirmLabel="confirmation-modal.export-metadata.confirm",c.componentInstance.confirmIcon="fas fa-file-export";const O=c.componentInstance.response.pipe((0,ks.n)(W=>{if(W)return this.startScriptNotifyAndRedirect(o).pipe((0,ks.n)(Ie=>(0,Is.of)(Ie)));this.modalService.open(d).componentInstance.dsoRD=(0,yh.SP)(o)}));return O.subscribe(),O}return(0,Is.of)(!1)}startScriptNotifyAndRedirect(o){const c=[Object.assign(new hc.p,{name:"-i",value:o.uuid})];return this.authorizationDataService.isAuthorized(Dr._.AdministratorOf).pipe((0,ks.n)(O=>(O&&c.push(Object.assign(new hc.p,{name:"-a"})),this.scriptDataService.invoke(Wr.METADATA_EXPORT_SCRIPT_NAME,c,[]))),(0,js.qD)(),(0,xt.T)(O=>{if(O.hasSucceeded){const W=this.translationService.get("process.new.notification.success.title"),ue=this.translationService.get("process.new.notification.success.content");return this.notificationsService.success(W,ue),(0,G.hj)(O.payload)&&this.router.navigateByUrl((0,vh.yJ)(O.payload.processId)),!0}{const W=this.translationService.get("process.new.notification.error.title"),ue=this.translationService.get("process.new.notification.error.content");return this.notificationsService.error(W,ue),!1}}))}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(q.Lw),e.rXU(v.nX),e.rXU(v.Ix),e.rXU(ys.I),e.rXU(K.c$),e.rXU(Wr.ScriptDataService),e.rXU(lc.AuthorizationDataService),e.rXU(Fs.f),e.rXU(q.Bq))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-export-metadata-selector"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(c,O){1&c&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return O.close()}),e.k0s()(),e.j41(5,"div",2),e.DNE(6,uv,3,3,"span",3),e.j41(7,"ds-dso-selector",4),e.bIt("onSelect",function(ue){return O.selectObject(ue)}),e.k0s()()()),2&c&&(e.R7$(2),e.SpI("",e.bMT(3,5,"dso-selector."+O.action+"."+O.objectType.toString().toLowerCase()+".head")," "),e.R7$(4),e.Y8G("ngIf",O.header),e.R7$(),e.Y8G("currentDSOId",null==O.dsoRD?null:O.dsoRD.payload.uuid)("types",O.selectorTypes)("sort",O.defaultSort))},dependencies:[f.bT,yd.x,K.h,K.D9],encapsulation:2})}}return d})();var yi=n(34237);let Ch=(()=>{class d{constructor(o,c,O,W,ue,Ie,rt){this.menuService=o,this.browseService=c,this.authorizationService=O,this.modalService=W,this.scriptDataService=ue,this.configurationDataService=Ie,this.authService=rt}resolve(o,c){return(0,Ko.z)([this.createPublicMenu$(),this.createAdminMenuIfLoggedIn$()]).pipe((0,xt.T)(O=>O.every(Boolean)))}waitForMenu$(o){return this.menuService.getMenu(o).pipe((0,$r.I)(c=>(0,G.a4)(c)),(0,xt.T)(()=>!0))}createPublicMenu$(){const o=[{id:"browse_global_communities_and_collections",active:!1,visible:!0,index:0,model:{type:yi.x.LINK,text:"menu.section.browse_global_communities_and_collections",link:"/community-list"}}];return this.browseService.getBrowseDefinitions().pipe((0,js.qD)()).subscribe(c=>{c.hasSucceeded&&(c.payload.page.forEach(O=>{o.push({id:`browse_global_by_${O.id}`,parentID:"browse_global",active:!1,visible:!0,model:{type:yi.x.LINK,text:`menu.section.browse_global_by_${O.id}`,link:`/browse/${O.id}`}})}),o.push({id:"browse_global",active:!1,visible:!0,index:1,model:{type:yi.x.TEXT,text:"menu.section.browse_global"}})),o.forEach(O=>this.menuService.addSection(Tr.D.PUBLIC,Object.assign(O,{shouldPersistOnRouteChange:!0})))}),this.waitForMenu$(Tr.D.PUBLIC)}createAdminMenuIfLoggedIn$(){return this.authService.isAuthenticated().pipe((0,Qn.Z)(o=>o?this.createAdminMenu$():(0,Is.of)(!0)))}createAdminMenu$(){return this.createMainMenuSections(),this.createSiteAdministratorMenuSections(),this.createExportMenuSections(),this.createImportMenuSections(),this.createAccessControlMenuSections(),this.createReportMenuSections(),this.waitForMenu$(Tr.D.ADMIN)}createMainMenuSections(){(0,Ko.z)([this.authorizationService.isAuthorized(Dr._.IsCollectionAdmin),this.authorizationService.isAuthorized(Dr._.IsCommunityAdmin),this.authorizationService.isAuthorized(Dr._.AdministratorOf),this.authorizationService.isAuthorized(Dr._.CanSubmit),this.authorizationService.isAuthorized(Dr._.CanEditItem),this.authorizationService.isAuthorized(Dr._.CanSeeQA),this.authorizationService.isAuthorized(Dr._.CoarNotifyEnabled)]).subscribe(([o,c,O,W,ue,Ie,rt])=>{const kt=[{id:"new_community",parentID:"new",active:!1,visible:c,model:{type:yi.x.ONCLICK,text:"menu.section.new_community",function:()=>{this.modalService.open(Pp)}}},{id:"new_collection",parentID:"new",active:!1,visible:c,model:{type:yi.x.ONCLICK,text:"menu.section.new_collection",function:()=>{this.modalService.open(av)}}},{id:"new_item",parentID:"new",active:!1,visible:W,model:{type:yi.x.ONCLICK,text:"menu.section.new_item",function:()=>{this.modalService.open(Pm.L)}}},{id:"new_process",parentID:"new",active:!1,visible:O,model:{type:yi.x.LINK,text:"menu.section.new_process",link:"/processes/new"}},{id:"ldn_services_new",parentID:"new",active:!1,visible:O&&rt,model:{type:yi.x.LINK,text:"menu.section.services_new",link:"/admin/ldn/services/new"},icon:""}],Cn=[{id:"edit_community",parentID:"edit",active:!1,visible:c,model:{type:yi.x.ONCLICK,text:"menu.section.edit_community",function:()=>{this.modalService.open(uc)}}},{id:"edit_collection",parentID:"edit",active:!1,visible:o,model:{type:yi.x.ONCLICK,text:"menu.section.edit_collection",function:()=>{this.modalService.open(dv)}}},{id:"edit_item",parentID:"edit",active:!1,visible:ue,model:{type:yi.x.ONCLICK,text:"menu.section.edit_item",function:()=>{this.modalService.open(gh)}}}],mn={id:"new",active:!1,visible:kt.some(Hn=>Hn.visible),model:{type:yi.x.TEXT,text:"menu.section.new"},icon:"plus",index:0},ds={id:"edit",active:!1,visible:Cn.some(Hn=>Hn.visible),model:{type:yi.x.TEXT,text:"menu.section.edit"},icon:"pencil-alt",index:1};[...kt,mn,...Cn,ds,{id:"processes",active:!1,visible:O,model:{type:yi.x.LINK,text:"menu.section.processes",link:"/processes"},icon:"terminal",index:10},{id:"coar_notify",active:!1,visible:O&&rt,model:{type:yi.x.TEXT,text:"menu.section.coar_notify"},icon:"inbox",index:13},{id:"notify_dashboard",active:!1,parentID:"coar_notify",visible:O&&rt,model:{type:yi.x.LINK,text:"menu.section.notify_dashboard",link:"/admin/notify-dashboard"}},{id:"ldn_services",active:!1,parentID:"coar_notify",visible:O&&rt,model:{type:yi.x.LINK,text:"menu.section.services",link:"/admin/ldn/services"}},{id:"health",active:!1,visible:O,model:{type:yi.x.LINK,text:"menu.section.health",link:"/health"},icon:"heartbeat",index:11},{id:"notifications",active:!1,visible:Ie||O,model:{type:yi.x.TEXT,text:"menu.section.notifications"},icon:"bell",index:4},{id:"notifications_quality-assurance",parentID:"notifications",active:!1,visible:Ie,model:{type:yi.x.LINK,text:"menu.section.quality-assurance",link:"/notifications/quality-assurance"}},{id:"notifications_publication-claim",parentID:"notifications",active:!1,visible:O,model:{type:yi.x.LINK,text:"menu.section.notifications_publication-claim",link:"/admin/notifications/"+pu.VZ}}].forEach(Hn=>this.menuService.addSection(Tr.D.ADMIN,Object.assign(Hn,{shouldPersistOnRouteChange:!0})))})}createExportMenuSections(){[].forEach(c=>this.menuService.addSection(Tr.D.ADMIN,c)),(0,Ko.z)([this.authorizationService.isAuthorized(Dr._.AdministratorOf),this.scriptDataService.scriptWithNameExistsAndCanExecute(Wr.METADATA_EXPORT_SCRIPT_NAME)]).pipe((0,Wn.p)(([c,O])=>c&&O),(0,T.s)(1)).subscribe(()=>{this.menuService.addSection(Tr.D.ADMIN,{id:"export",active:!1,visible:!0,model:{type:yi.x.TEXT,text:"menu.section.export"},icon:"file-export",index:3,shouldPersistOnRouteChange:!0}),this.menuService.addSection(Tr.D.ADMIN,{id:"export_metadata",parentID:"export",active:!0,visible:!0,model:{type:yi.x.ONCLICK,text:"menu.section.export_metadata",function:()=>{this.modalService.open(Eh)}},shouldPersistOnRouteChange:!0}),this.menuService.addSection(Tr.D.ADMIN,{id:"export_batch",parentID:"export",active:!1,visible:!0,model:{type:yi.x.ONCLICK,text:"menu.section.export_batch",function:()=>{this.modalService.open(Rp)}},shouldPersistOnRouteChange:!0})})}createImportMenuSections(){[].forEach(c=>this.menuService.addSection(Tr.D.ADMIN,c)),(0,Ko.z)([this.authorizationService.isAuthorized(Dr._.AdministratorOf),this.scriptDataService.scriptWithNameExistsAndCanExecute(Wr.METADATA_IMPORT_SCRIPT_NAME)]).pipe((0,Wn.p)(([c,O])=>c&&O),(0,T.s)(1)).subscribe(()=>{this.menuService.addSection(Tr.D.ADMIN,{id:"import",active:!1,visible:!0,model:{type:yi.x.TEXT,text:"menu.section.import"},icon:"file-import",index:2,shouldPersistOnRouteChange:!0}),this.menuService.addSection(Tr.D.ADMIN,{id:"import_metadata",parentID:"import",active:!0,visible:!0,model:{type:yi.x.LINK,text:"menu.section.import_metadata",link:"/admin/metadata-import"},shouldPersistOnRouteChange:!0}),this.menuService.addSection(Tr.D.ADMIN,{id:"import_batch",parentID:"import",active:!1,visible:!0,model:{type:yi.x.LINK,text:"menu.section.import_batch",link:"/admin/batch-import"},shouldPersistOnRouteChange:!0})})}createSiteAdministratorMenuSections(){this.authorizationService.isAuthorized(Dr._.AdministratorOf).subscribe(o=>{[{id:"admin_search",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.admin_search",link:"/admin/search"},icon:"search",index:5},{id:"registries",active:!1,visible:o,model:{type:yi.x.TEXT,text:"menu.section.registries"},icon:"list",index:6},{id:"registries_metadata",parentID:"registries",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.registries_metadata",link:"admin/registries/metadata"}},{id:"registries_format",parentID:"registries",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.registries_format",link:"admin/registries/bitstream-formats"}},{id:"curation_tasks",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.curation_task",link:"admin/curation-tasks"},icon:"filter",index:7},{id:"workflow",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.workflow",link:"/admin/workflow"},icon:"user-check",index:11},{id:"system_wide_alert",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.system-wide-alert",link:"/admin/system-wide-alert"},icon:"exclamation-circle",index:12}].forEach(O=>this.menuService.addSection(Tr.D.ADMIN,Object.assign(O,{shouldPersistOnRouteChange:!0})))})}createAccessControlMenuSections(){(0,Ko.z)([this.authorizationService.isAuthorized(Dr._.AdministratorOf),this.authorizationService.isAuthorized(Dr._.CanManageGroups)]).subscribe(([o,c])=>{[{id:"access_control_people",parentID:"access_control",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.access_control_people",link:"/access-control/epeople"}},{id:"access_control_groups",parentID:"access_control",active:!1,visible:c,model:{type:yi.x.LINK,text:"menu.section.access_control_groups",link:"/access-control/groups"}},{id:"access_control_bulk",parentID:"access_control",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.access_control_bulk",link:"/access-control/bulk-access"}},{id:"access_control",active:!1,visible:c||o,model:{type:yi.x.TEXT,text:"menu.section.access_control"},icon:"key",index:4}].forEach(W=>this.menuService.addSection(Tr.D.ADMIN,Object.assign(W,{shouldPersistOnRouteChange:!0})))})}createReportMenuSections(){(0,Ko.z)([this.configurationDataService.findByPropertyName("contentreport.enable").pipe((0,js.qD)(),(0,xt.T)(o=>o.hasSucceeded&&o.payload&&"true"===o.payload.values[0])),this.authorizationService.isAuthorized(Dr._.AdministratorOf)]).subscribe(([o])=>{[{id:"reports",active:!1,visible:o,model:{type:yi.x.TEXT,text:"menu.section.reports"},icon:"file-alt",index:5},{id:"reports_collections",parentID:"reports",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.reports.collections",link:"/admin/reports/collections"},icon:"user-check"},{id:"reports_queries",parentID:"reports",active:!1,visible:o,model:{type:yi.x.LINK,text:"menu.section.reports.queries",link:"/admin/reports/queries"},icon:"user-check"}].forEach(O=>this.menuService.addSection(Tr.D.ADMIN,Object.assign(O,{shouldPersistOnRouteChange:!0})))})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(ei.$),e.KVO(uh.q),e.KVO(lc.AuthorizationDataService),e.KVO(q.Bq),e.KVO(Wr.ScriptDataService),e.KVO(Ma.ConfigurationDataService),e.KVO(p.uR))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var hv=n(38571),Ap=n(61723),Cd=n(74566),bd=n(13246);let mu=(()=>{class d{constructor(o,c,O,W,ue,Ie){this.actions$=o,this.store$=c,this.translate=O,this.notificationsService=W,this.qualityAssuranceSourceService=ue,this.qualityAssuranceSourceDataService=Ie,this.retrieveAllSource$=kn(()=>this.actions$.pipe(Xn(Cd.xq.RETRIEVE_ALL_SOURCE),(0,R.E)(this.store$),(0,ks.n)(([rt,kt])=>this.qualityAssuranceSourceService.getSources(rt.payload.elementsPerPage,rt.payload.currentPage).pipe((0,xt.T)(Cn=>new Cd.$_(Cn.page,Cn.totalPages,Cn.currentPage,Cn.totalElements)),(0,An.W)(Cn=>(Cn instanceof Error?console.error(Cn.message):console.error("Unexpected object thrown",Cn),(0,Is.of)(new Cd.Fx))))))),this.retrieveAllSourceErrorAction$=kn(()=>this.actions$.pipe(Xn(Cd.xq.RETRIEVE_ALL_SOURCE_ERROR),(0,mi.M)(()=>{this.notificationsService.error(null,this.translate.get("quality-assurance.source.error.service.retrieve"))})),{dispatch:!1}),this.addSourceAction$=kn(()=>this.actions$.pipe(Xn(Cd.xq.ADD_SOURCE),(0,mi.M)(()=>{this.qualityAssuranceSourceDataService.clearFindAllSourceRequests()})),{dispatch:!1})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(E.il),e.KVO(K.c$),e.KVO(ys.I),e.KVO(bd.p),e.KVO(Ap.QualityAssuranceSourceDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var fr=n(31936),bh=n(79984),xm=n(53954),gu=n(6238);let hE=(()=>{class d{constructor(o){this.qualityAssuranceTopicRestService=o}getTopics(o,c,O,W){const Ie={elementsPerPage:o,currentPage:c,sort:new gu.z("name",gu.U.ASC),searchParams:[new xm.x("source",O)]};let rt;return(0,G.a4)(W)?(Ie.searchParams.push(new xm.x("target",W)),rt=this.qualityAssuranceTopicRestService.searchTopicsByTarget(Ie)):rt=this.qualityAssuranceTopicRestService.searchTopicsBySource(Ie),rt.pipe((0,js.qD)(),(0,xt.T)(kt=>{if(kt.hasSucceeded)return kt.payload;throw new Error("Can't retrieve Quality Assurance topics from the Broker topics REST service")}))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(fr.QualityAssuranceTopicDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),pv=(()=>{class d{constructor(o,c,O,W,ue,Ie){this.actions$=o,this.store$=c,this.translate=O,this.notificationsService=W,this.qualityAssuranceTopicService=ue,this.qualityAssuranceTopicDataService=Ie,this.retrieveAllTopics$=kn(()=>this.actions$.pipe(Xn(bh.py.RETRIEVE_ALL_TOPICS),(0,R.E)(this.store$),(0,ks.n)(([rt,kt])=>this.qualityAssuranceTopicService.getTopics(rt.payload.elementsPerPage,rt.payload.currentPage,rt.payload.source,rt.payload.target).pipe((0,xt.T)(Cn=>new bh.C3(Cn.page,Cn.totalPages,Cn.currentPage,Cn.totalElements)),(0,An.W)(Cn=>(Cn instanceof Error?console.error(Cn.message):console.error("Unexpected object thrown",Cn),(0,Is.of)(new bh.IL))))))),this.retrieveAllTopicsErrorAction$=kn(()=>this.actions$.pipe(Xn(bh.py.RETRIEVE_ALL_TOPICS_ERROR),(0,mi.M)(()=>{this.notificationsService.error(null,this.translate.get("quality-assurance.topic.error.service.retrieve"))})),{dispatch:!1}),this.addTopicsAction$=kn(()=>this.actions$.pipe(Xn(bh.py.ADD_TOPICS),(0,mi.M)(()=>{this.qualityAssuranceTopicDataService.clearFindAllTopicsRequests()})),{dispatch:!1})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(E.il),e.KVO(K.c$),e.KVO(ys.I),e.KVO(hE),e.KVO(fr.QualityAssuranceTopicDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var _u=n(67977),Sa=n(54503);const vu=[pv,mu,(()=>{class d{constructor(o,c,O,W,ue,Ie){this.actions$=o,this.store$=c,this.translate=O,this.notificationsService=W,this.suggestionsService=ue,this.configurationService=Ie,this.retrieveTargetsBySource$=kn(()=>this.actions$.pipe(Xn(Sa.lz.RETRIEVE_TARGETS_BY_SOURCE),(0,ks.n)(rt=>this.suggestionsService.getTargets(rt.payload.source,rt.payload.elementsPerPage,rt.payload.currentPage).pipe((0,xt.T)(kt=>new Sa.Pc(rt.payload.source,kt.page,kt.totalPages,kt.currentPage,kt.totalElements)),(0,An.W)(kt=>(kt instanceof Error&&console.error(kt.message),(0,Is.of)(new Sa.Fz(rt.payload.source)))))))),this.retrieveAllTargetsErrorAction$=kn(()=>this.actions$.pipe(Xn(Sa.lz.RETRIEVE_TARGETS_BY_SOURCE_ERROR),(0,mi.M)(()=>{this.notificationsService.error(null,this.translate.get("suggestion.target.error.service.retrieve"))})),{dispatch:!1}),this.retrieveUserTargets$=kn(()=>this.actions$.pipe(Xn(X.Yk.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS),(0,ks.n)(rt=>this.configurationService.findByPropertyName("researcher-profile.entity-type").pipe((0,js.qD)(),(0,ks.n)(kt=>kt.hasSucceeded&&kt.payload.values.length>0?this.suggestionsService.retrieveCurrentUserSuggestions(rt.payload).pipe((0,xt.T)(Cn=>new Sa.Gx(Cn))):(0,Is.of)(new Sa.Gx([]))))))),this.refreshUserSuggestionsAction$=kn(()=>this.actions$.pipe(Xn(Sa.lz.REFRESH_USER_SUGGESTIONS),(0,ks.n)(()=>this.store$.select(rt=>rt.core.auth.userId).pipe((0,ks.n)(rt=>rt?this.configurationService.findByPropertyName("researcher-profile.entity-type").pipe((0,js.qD)(),(0,ks.n)(kt=>kt.hasSucceeded&&kt.payload.values.length>0?this.suggestionsService.retrieveCurrentUserSuggestions(rt).pipe((0,xt.T)(Cn=>new Sa.Gx(Cn)),(0,An.W)(Cn=>(Cn instanceof Error&&console.error(Cn.message),(0,Is.of)(new Sa.Af)))):(0,Is.of)(new Sa.Gx([]))),(0,An.W)(kt=>(kt instanceof Error&&console.error(kt.message),(0,Is.of)(new Sa.Af)))):(0,Is.of)(new Sa.Gx([]))),(0,An.W)(rt=>(rt instanceof Error&&console.error(rt.message),(0,Is.of)(new Sa.Af)))))))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(E.il),e.KVO(K.c$),e.KVO(ys.I),e.KVO(_u.F),e.KVO(Ma.ConfigurationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})()],bl=()=>(0,e.EmA)([(0,e.oKB)(E.md.forFeature("suggestionNotifications",hv.W,kc.wP),pr.forFeature(vu))]);var wp=n(5771),xp=n.n(wp),Lm=n(48125),yu=n.n(Lm),Nm=n(28898),Fm=n.n(Nm),Eu=n(22806),mv=n(83203),gv=n(24261),Bm=n(72147),Tl=n(88643),Lp=n(61010),Ua=n(90049),DO=n(7020);let _v=(()=>{class d{constructor(o,c,O,W,ue,Ie,rt,kt,Cn){this.actions$=o,this.notificationsService=c,this.operationsService=O,this.sectionService=W,this.store$=ue,this.submissionService=Ie,this.submissionObjectService=rt,this.translate=kt,this.workspaceItemDataService=Cn,this.loadForm$=kn(()=>this.actions$.pipe(Xn(En.lE.INIT_SUBMISSION_FORM),(0,xt.T)(mn=>{const ds=mn.payload.submissionDefinition,Ss=[];return ds.sections.page.forEach(Hn=>{const as=Hn._links.self.href||Hn._links.self,Js=as.substr(as.lastIndexOf("/")+1),Gi=Hn._links.config?Hn._links.config.href||Hn._links.config:"",fi=Hn.mandatory&&Hn.sectionType!==Tl.l.Duplicates||(0,G.hj)(mn.payload.sections)&&mn.payload.sections.hasOwnProperty(Js)&&Hn.sectionType===Tl.l.Duplicates&&(Dl()||(0,G.hj)(mn.payload.sections[Js].potentialDuplicates));let Mo;Mo=Hn.sectionType!==Tl.l.SubmissionForm?(0,G.EA)(mn.payload.sections)&&(0,G.EA)(mn.payload.sections[Js])?mn.payload.sections[Js]:Object.create(null):mn.payload.item.metadata;const cr=(0,G.hj)(mn.payload.errors)&&mn.payload.errors[Js]||null;Ss.push(new En.wT(mn.payload.submissionId,Js,Hn.header,Gi,Hn.mandatory,Hn.scope,Hn.sectionType,Hn.visibility,fi,Mo,cr))}),{action:mn,definition:ds,mappedActions:Ss}}),(0,Qn.Z)(mn=>(0,Eu.H)(mn.mappedActions.concat(new En.ug(mn.action.payload.submissionId)))))),this.resetForm$=kn(()=>this.actions$.pipe(Xn(En.lE.RESET_SUBMISSION_FORM),(0,xt.T)(mn=>new En.jc(mn.payload.collectionId,mn.payload.submissionId,mn.payload.selfUrl,mn.payload.submissionDefinition,mn.payload.sections,mn.payload.item,null)))),this.saveSubmission$=kn(()=>this.actions$.pipe(Xn(En.lE.SAVE_SUBMISSION_FORM),(0,ks.n)(mn=>this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),mn.payload.submissionId,"sections").pipe((0,xt.T)(ds=>new En.tR(mn.payload.submissionId,ds,mn.payload.isManual,mn.payload.isManual)),(0,An.W)(()=>(0,Is.of)(new En.wM(mn.payload.submissionId))))))),this.saveForLaterSubmission$=kn(()=>this.actions$.pipe(Xn(En.lE.SAVE_FOR_LATER_SUBMISSION_FORM),(0,ks.n)(mn=>this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),mn.payload.submissionId,"sections").pipe((0,xt.T)(ds=>new En.oW(mn.payload.submissionId,ds)),(0,An.W)(()=>(0,Is.of)(new En.wM(mn.payload.submissionId))))))),this.saveSubmissionSuccess$=kn(()=>this.actions$.pipe(Xn(En.lE.SAVE_SUBMISSION_FORM_SUCCESS),(0,R.E)(this.store$),(0,xt.T)(([mn,ds])=>this.parseSaveResponse(ds.submission.objects[mn.payload.submissionId],mn.payload.submissionObject,mn.payload.submissionId,ds.forms,mn.payload.showNotifications,mn.payload.showErrors)),(0,Qn.Z)(mn=>(0,Eu.H)(mn)))),this.saveSubmissionSectionSuccess$=kn(()=>this.actions$.pipe(Xn(En.lE.SAVE_SUBMISSION_SECTION_FORM_SUCCESS),(0,R.E)(this.store$),(0,xt.T)(([mn,ds])=>this.parseSaveResponse(ds.submission.objects[mn.payload.submissionId],mn.payload.submissionObject,mn.payload.submissionId,ds.forms,!1,!1)),(0,Qn.Z)(mn=>(0,Eu.H)(mn)))),this.saveSection$=kn(()=>this.actions$.pipe(Xn(En.lE.SAVE_SUBMISSION_SECTION_FORM),(0,ks.n)(mn=>this.operationsService.jsonPatchByResourceID(this.submissionService.getSubmissionObjectLinkName(),mn.payload.submissionId,"sections",mn.payload.sectionId).pipe((0,xt.T)(ds=>new En.ky(mn.payload.submissionId,ds)),(0,An.W)(()=>(0,Is.of)(new En.Zl(mn.payload.submissionId))))))),this.saveError$=kn(()=>this.actions$.pipe(Xn(En.lE.SAVE_SUBMISSION_FORM_ERROR,En.lE.SAVE_SUBMISSION_SECTION_FORM_ERROR),(0,R.E)(this.store$),(0,mi.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.save_error_notice")))),{dispatch:!1}),this.saveAndDeposit$=kn(()=>this.actions$.pipe(Xn(En.lE.SAVE_AND_DEPOSIT_SUBMISSION),(0,R.E)(this.submissionService.hasUnsavedModification()),(0,ks.n)(([mn,ds])=>{let Ss;return Ss=ds?this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),mn.payload.submissionId,"sections"):this.submissionObjectService.findById(mn.payload.submissionId,!1,!0,(0,Ws.s)("item"),(0,Ws.s)("collection")).pipe((0,js.ak)(),(0,xt.T)(Hn=>[Hn])),Ss.pipe((0,xt.T)(Hn=>this.canDeposit(Hn)?new En.l5(mn.payload.submissionId):(this.notificationsService.warning(null,this.translate.instant("submission.sections.general.cannot_deposit"),null,!0),new En.tR(mn.payload.submissionId,Hn,!1,!0))),(0,An.W)(()=>(0,Is.of)(new En.wM(mn.payload.submissionId))))}))),this.depositSubmission$=kn(()=>this.actions$.pipe(Xn(En.lE.DEPOSIT_SUBMISSION),(0,R.E)(this.store$),(0,ks.n)(([mn,ds])=>this.submissionService.depositSubmission(ds.submission.objects[mn.payload.submissionId].selfUrl).pipe((0,xt.T)(()=>new En.kq(mn.payload.submissionId)),(0,An.W)(Ss=>(0,Is.of)(new En.x9(mn.payload.submissionId))))))),this.saveForLaterSubmissionSuccess$=kn(()=>this.actions$.pipe(Xn(En.lE.SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS),(0,mi.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.save_success_notice"))),(0,mi.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.depositSubmissionSuccess$=kn(()=>this.actions$.pipe(Xn(En.lE.DEPOSIT_SUBMISSION_SUCCESS),(0,mi.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.deposit_success_notice"))),(0,mi.M)(mn=>this.workspaceItemDataService.invalidateById(mn.payload.submissionId)),(0,mi.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.depositSubmissionError$=kn(()=>this.actions$.pipe(Xn(En.lE.DEPOSIT_SUBMISSION_ERROR),(0,mi.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.deposit_error_notice")))),{dispatch:!1}),this.discardSubmission$=kn(()=>this.actions$.pipe(Xn(En.lE.DISCARD_SUBMISSION),(0,ks.n)(mn=>this.submissionService.discardSubmission(mn.payload.submissionId).pipe((0,xt.T)(()=>new En.Ob(mn.payload.submissionId)),(0,An.W)(()=>(0,Is.of)(new En.Z5(mn.payload.submissionId))))))),this.addAllMetadataToSectionData=kn(()=>this.actions$.pipe(Xn(En.lE.UPDATE_SECTION_DATA),(0,ks.n)(mn=>this.sectionService.getSectionState(mn.payload.submissionId,mn.payload.sectionId,Tl.l.Upload).pipe((0,xt.T)(ds=>[mn,ds]),(0,T.s)(1))),(0,Wn.p)(([mn,ds])=>ds.sectionType===Tl.l.SubmissionForm),(0,ks.n)(([mn,ds])=>ds.sectionType===Tl.l.SubmissionForm?this.submissionObjectService.findById(mn.payload.submissionId,!0,!1,(0,Ws.s)("item")).pipe((0,js.ak)()).pipe((0,ks.n)(as=>as.item.pipe((0,js.ak)()))).pipe((0,xt.T)(as=>as.metadata),(0,Wn.p)(as=>!yu()(mn.payload.data,as)),(0,xt.T)(as=>new En.dm(mn.payload.submissionId,mn.payload.sectionId,as,mn.payload.errorsToShow,mn.payload.serverValidationErrors,mn.payload.metadata))):(0,Is.of)(new En.Sm)))),this.discardSubmissionSuccess$=kn(()=>this.actions$.pipe(Xn(En.lE.DISCARD_SUBMISSION_SUCCESS),(0,mi.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.discard_success_notice"))),(0,mi.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.discardSubmissionError$=kn(()=>this.actions$.pipe(Xn(En.lE.DISCARD_SUBMISSION_ERROR),(0,mi.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.discard_error_notice")))),{dispatch:!1})}canDeposit(o){let c=!0;return(0,G.hj)(o)&&o.forEach(O=>{const{errors:W}=O;W&&!(0,G.Im)(W)&&(c=!1)}),c}parseSaveResponse(o,c,O,W,ue=!0,Ie=!0){const rt=[];return(0,G.hj)(c)&&(ue&&this.notificationsService.success(null,this.translate.get("submission.sections.general.save_success_notice")),c.forEach(kt=>{let Cn=Object.create({});const{errors:mn}=kt;mn&&!(0,G.Im)(mn)&&(Cn=(0,DO.A)(mn),ue&&this.notificationsService.warning(null,this.translate.get("submission.sections.general.sections_not_valid")));const ds=kt.sections&&(0,G.hj)(kt.sections)?kt.sections:{},Ss=Fm()(Object.keys(ds),Object.keys(Cn));for(const as of Ss){const Js=Cn[as]||[],Gi=ds[as]||{};if(o.sections[as].sectionType===Tl.l.Upload&&(0,G.Im)(Gi.files)&&!o.sections[as].enabled)continue;ue&&!o.sections[as].enabled&&this.submissionService.notifyNewSection(O,as,o.sections[as].sectionType);const Mo=Np(vv(W,o,as),Js,o.sections[as].sectionType,Ie);rt.push(new En.dm(O,as,Gi,Mo,Js))}const Hn=xp()(o.sections,as=>as.sectionType===Tl.l.SherpaPolicies);if((0,G.EA)(Hn)&&(0,G.hj)(o.sections[Hn]?.data)&&(0,G.Im)(ds[Hn])&&rt.push(new En.dm(O,Hn,null,[],[])),!Dl()){const as=xp()(o.sections,Js=>Js.sectionType===Tl.l.Duplicates);(0,G.EA)(as)&&ds.hasOwnProperty(as)&&(0,G.Im)(ds[as].potentialDuplicates)&&rt.push(new En.CG(O))}})),rt}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(ys.I),e.KVO(mv.U),e.KVO(Bm.c),e.KVO(E.il),e.KVO(Lp.E),e.KVO(nv.$),e.KVO(K.c$),e.KVO(gv.WorkspaceitemDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();function vv(d,y,o){return d?d[y.sections[o].formId]:null}function Np(d,y,o,c){if(c||o!==Tl.l.SubmissionForm.valueOf())return y;if(!d||!d.touched)return[];const O=[];return y.forEach(W=>{(0,Ua.A)(W.path).forEach(Ie=>{Ie.fieldId&&d.touched[Ie.fieldId]&&O.push(W)})}),O}function Dl(){return A.c.submission.duplicateDetection.alwaysShowSection}const jm=[_v];var Kc=n(83678);const Cu=()=>(0,e.EmA)([(0,e.oKB)(E.md.forFeature("submission",Kc.u,kc.wP),pr.forFeature(jm))]);var yv=n(24215);let Fp=(()=>{class d{constructor(o){this.http=o,this.baseUrl=`${vl.$}/server/api/discover/search/objects`}getSearchResults(o,c,O,W="dc.title",ue="ASC",Ie=10){let rt=(new le.Nl).set("sort",`${W},${ue}`).set("size",Ie.toString());return o&&(rt=rt.set("f.title",`${o},equals`)),c&&(rt=rt.set("f.dc_case_type",`${c},equals`)),O&&(rt=rt.set("f.dc_case_year",`${O},equals`)),this.http.get(this.baseUrl,{params:rt})}getSearchResultsWithFilters(o){let c;return o instanceof le.Nl?c=o:(c=new le.Nl,Object.keys(o).forEach(O=>{c=c.append(O,o[O])})),this.http.get(this.baseUrl,{params:c})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),pE=(()=>{class d{constructor(o){this.http=o,this.baseUrl=`${vl.$}/server/api/discover/facets`}getCaseTypeFacets(){return this.http.get(`${this.baseUrl}/dc_case_type?size=1000`)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();const Hc=d=>["/items",d];function fE(d,y){if(1&d&&(e.j41(0,"option",31),e.EFF(1),e.k0s()),2&d){const o=y.$implicit;e.Y8G("value",o),e.R7$(),e.JRh(o)}}function Ev(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",36)(2,"a",37),e.EFF(3),e.k0s()(),e.j41(4,"td",36)(5,"a",37),e.EFF(6),e.k0s()(),e.j41(7,"td",36)(8,"a",37),e.EFF(9),e.k0s()(),e.j41(10,"td",36)(11,"a",37),e.EFF(12),e.k0s()(),e.j41(13,"td",36)(14,"a",37),e.EFF(15),e.k0s()(),e.j41(16,"td",36)(17,"a",37),e.EFF(18),e.k0s()(),e.j41(19,"td",36)(20,"a",37),e.EFF(21),e.k0s()(),e.j41(22,"td",36)(23,"a",37),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,Hc,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,Hc,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,Hc,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,Hc,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,Hc,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,Hc,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,Hc,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,Hc,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function mE(d,y){if(1&d&&(e.qex(0),e.DNE(1,Ev,25,32,"tr",35),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("ngForOf",o)}}let Um=(()=>{class d{constructor(o,c){this.searchPageService=o,this.facetsService=c,this.caseListSubject=new _.t([]),this.caseList$=this.caseListSubject.asObservable(),this.caseNumber="",this.caseType="",this.caseYear="",this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10,this.caseTypeOptions=[]}ngOnInit(){this.fetchCases(),this.loadCaseTypeOptions()}fetchCases(){this.searchPageService.getSearchResults(this.caseNumber,this.caseType,this.caseYear,this.sortBy,this.sortOrder,this.resultsPerPage).subscribe(o=>{console.log("\u{1f539} API Response:",o),this.loadCases(o)},o=>{console.error("\u274c Error fetching cases:",o)})}loadCases(o){const O=(o?._embedded?.searchResult?._embedded?.objects||[]).map(W=>{const ue=W?._embedded?.indexableObject;return{uuid:ue?.uuid,metadata:ue?.metadata}}).filter(W=>W.uuid&&W.metadata?.["dc.casetype"]?.[0]?.value);console.log("\u2705 Processed Case List:",O),this.caseListSubject.next(O)}loadCaseTypeOptions(){this.facetsService.getCaseTypeFacets().subscribe(o=>{this.caseTypeOptions=o?._embedded?.values?.map(c=>c.label)||[],console.log("\u{1f4cc} Loaded Case Type Options:",this.caseTypeOptions)},o=>{console.error("\u274c Failed to load case type facets:",o)})}searchCases(){this.fetchCases()}resetForm(){this.caseNumber="",this.caseType="",this.caseYear="",this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10,this.fetchCases()}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Fp),e.rXU(pE))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-search-page"]],decls:94,vars:15,consts:[[1,"case-search-container"],[1,"search-fields"],[1,"field-group"],["for","caseNumber"],["id","caseType","name","caseType",1,"field-group",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","id","caseNumber","name","caseNumber",3,"ngModelChange","ngModel"],["for","caseYear"],["type","text","id","caseYear","name","caseYear",3,"ngModelChange","ngModel"],[1,"button-group"],["type","button",1,"search-btn",3,"click"],["type","button",1,"reset-btn",3,"click"],[1,"settings-section"],[1,"settings-controls"],[1,"setting-group"],["for","sortBy"],["id","sortBy","name","sortBy",3,"ngModelChange","ngModel"],["value","dc.title"],["value","dc.casetype"],["value","dc.caseyear"],["value","dc.pname"],["value","dc.rname"],["value","dc.paname"],["value","dc.raname"],["for","sortOrder"],["id","sortOrder","name","sortOrder",3,"ngModelChange","ngModel"],["value","ASC"],["value","DESC"],["for","resultsPerPage"],["id","resultsPerPage","name","resultsPerPage",3,"ngModelChange","ngModel"],[3,"value"],[1,"search-results"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"case-result-text"],[1,"case-link",3,"routerLink"]],template:function(c,O){1&c&&(e.j41(0,"div",0)(1,"h1"),e.EFF(2,"By Case Type / Number / Year"),e.k0s(),e.j41(3,"form")(4,"div",1)(5,"div",2)(6,"label",3),e.EFF(7,"Case Type"),e.k0s(),e.j41(8,"select",4),e.mxI("ngModelChange",function(ue){return e.DH7(O.caseType,ue)||(O.caseType=ue),ue}),e.j41(9,"option",5),e.EFF(10,"-- Select Case Type --"),e.k0s(),e.DNE(11,fE,2,2,"option",6),e.k0s()(),e.j41(12,"div",2)(13,"label",3),e.EFF(14,"Case Number"),e.k0s(),e.j41(15,"input",7),e.mxI("ngModelChange",function(ue){return e.DH7(O.caseNumber,ue)||(O.caseNumber=ue),ue}),e.k0s()(),e.j41(16,"div",2)(17,"label",8),e.EFF(18,"Case Year"),e.k0s(),e.j41(19,"input",9),e.mxI("ngModelChange",function(ue){return e.DH7(O.caseYear,ue)||(O.caseYear=ue),ue}),e.k0s()(),e.j41(20,"div",10)(21,"button",11),e.bIt("click",function(){return O.searchCases()}),e.EFF(22,"Search"),e.k0s(),e.j41(23,"button",12),e.bIt("click",function(){return O.resetForm()}),e.EFF(24,"Reset"),e.k0s()()()(),e.j41(25,"div",13)(26,"h2"),e.EFF(27,"Settings"),e.k0s(),e.j41(28,"div",14)(29,"div",15)(30,"label",16),e.EFF(31,"Sort By"),e.k0s(),e.j41(32,"select",17),e.mxI("ngModelChange",function(ue){return e.DH7(O.sortBy,ue)||(O.sortBy=ue),ue}),e.j41(33,"option",18),e.EFF(34,"Case Number"),e.k0s(),e.j41(35,"option",19),e.EFF(36,"Case Type"),e.k0s(),e.j41(37,"option",20),e.EFF(38,"Case Year"),e.k0s(),e.j41(39,"option",21),e.EFF(40,"First Petitioner"),e.k0s(),e.j41(41,"option",22),e.EFF(42,"First Respondent"),e.k0s(),e.j41(43,"option",23),e.EFF(44,"Petitioner's Advocate Name"),e.k0s(),e.j41(45,"option",24),e.EFF(46,"Respondent's Advocate Name"),e.k0s()()(),e.j41(47,"div",15)(48,"label",25),e.EFF(49,"Sort Order"),e.k0s(),e.j41(50,"select",26),e.mxI("ngModelChange",function(ue){return e.DH7(O.sortOrder,ue)||(O.sortOrder=ue),ue}),e.j41(51,"option",27),e.EFF(52,"Ascending"),e.k0s(),e.j41(53,"option",28),e.EFF(54,"Descending"),e.k0s()()(),e.j41(55,"div",15)(56,"label",29),e.EFF(57,"Results per page"),e.k0s(),e.j41(58,"select",30),e.mxI("ngModelChange",function(ue){return e.DH7(O.resultsPerPage,ue)||(O.resultsPerPage=ue),ue}),e.j41(59,"option",31),e.EFF(60,"5"),e.k0s(),e.j41(61,"option",31),e.EFF(62,"10"),e.k0s(),e.j41(63,"option",31),e.EFF(64,"25"),e.k0s(),e.j41(65,"option",31),e.EFF(66,"50"),e.k0s(),e.j41(67,"option",31),e.EFF(68,"100"),e.k0s()()()()(),e.j41(69,"div",32)(70,"h2"),e.EFF(71,"Search Results"),e.k0s(),e.j41(72,"table",33)(73,"thead")(74,"tr")(75,"th"),e.EFF(76,"CASE TYPE"),e.k0s(),e.j41(77,"th"),e.EFF(78,"CASE NUMBER"),e.k0s(),e.j41(79,"th"),e.EFF(80,"CASE YEAR"),e.k0s(),e.j41(81,"th"),e.EFF(82,"DISTRICT"),e.k0s(),e.j41(83,"th"),e.EFF(84,"JUDGE NAME"),e.k0s(),e.j41(85,"th"),e.EFF(86,"FIRST PETITIONER"),e.k0s(),e.j41(87,"th"),e.EFF(88,"FIRST RESPONDENT"),e.k0s(),e.j41(89,"th"),e.EFF(90,"Disposal Date"),e.k0s()()(),e.j41(91,"tbody"),e.DNE(92,mE,2,1,"ng-container",34),e.nI1(93,"async"),e.k0s()()()()),2&c&&(e.R7$(8),e.R50("ngModel",O.caseType),e.R7$(3),e.Y8G("ngForOf",O.caseTypeOptions),e.R7$(4),e.R50("ngModel",O.caseNumber),e.R7$(4),e.R50("ngModel",O.caseYear),e.R7$(13),e.R50("ngModel",O.sortBy),e.R7$(18),e.R50("ngModel",O.sortOrder),e.R7$(8),e.R50("ngModel",O.resultsPerPage),e.R7$(),e.Y8G("value",5),e.R7$(2),e.Y8G("value",10),e.R7$(2),e.Y8G("value",25),e.R7$(2),e.Y8G("value",50),e.R7$(2),e.Y8G("value",100),e.R7$(25),e.Y8G("ngIf",e.bMT(93,13,O.caseList$)))},dependencies:[f.Sq,f.bT,ln.qT,ln.xH,ln.y7,ln.me,ln.wz,ln.BC,ln.cb,ln.vS,ln.cV,v.Wk,f.Jj],styles:[".case-search-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;font-family:Arial,sans-serif;color:#333}h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem;color:#333;font-weight:400}h2[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem;color:#333;font-weight:400}.search-fields[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px;align-items:flex-end}.field-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-width:150px}label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:5px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:2px}.button-group[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:flex-end}button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:2px;cursor:pointer;font-weight:700}.search-btn[_ngcontent-%COMP%]{background-color:#465362;color:#fff}.reset-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.settings-section[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:15px;margin-bottom:20px;border-radius:2px}.settings-controls[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.setting-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:150px}.search-results[_ngcontent-%COMP%]{margin-top:20px}.no-results[_ngcontent-%COMP%]{color:#666;font-style:italic}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}li[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #eee}@media (max-width: 768px){.search-fields[_ngcontent-%COMP%], .settings-controls[_ngcontent-%COMP%]{flex-direction:column}.field-group[_ngcontent-%COMP%], .setting-group[_ngcontent-%COMP%]{width:100%}}.search-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:1200px;margin:0 auto;padding:20px}.search-form[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:20px;border-radius:5px;margin-bottom:20px}.search-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-weight:700}.form-actions[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{background-color:#06c;color:#fff}.form-actions[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:hover{background-color:#05a}.form-actions[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]{background-color:#f0f0f0;color:#333}.form-actions[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.search-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:15px;color:#333}.search-results[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%], .search-results[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{padding:20px;text-align:center;background-color:#f9f9f9;border-radius:5px}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #ddd;color:#333}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#06c;text-decoration:none}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){table[_ngcontent-%COMP%]{display:block;overflow-x:auto}}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333!important}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#06c!important}.case-list[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.case-item[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px;border-radius:8px;margin-bottom:10px;box-shadow:0 2px 4px #0000001a}.case-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:8px;color:#333}.case-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.case-link[_ngcontent-%COMP%]{color:#337ab7;text-decoration:none}.case-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.case-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}"]})}}return d})(),zc=(()=>{class d{constructor(o){this.http=o}searchPetitioners(o,c=0,O=20){return this.http.get(`${vl.$}/server/api/discover/browses/dc_party_firstpetitioner/entries?sort=default,ASC&page=${c}&size=${O}&startsWith=${o}`)}searchRespondents(o,c=0,O=20){return this.http.get(`${vl.$}/server/api/discover/browses/dc_party_firstrespondent/entries?sort=default,ASC&page=${c}&size=${O}&startsWith=${o}`)}searchCombined(o,c,O=0,W=10,ue="dc.title",Ie="ASC",rt){const kt=encodeURIComponent(`${ue},${Ie}`);let Cn=`${vl.$}/server/api/discover/search/objects?sort=${kt}&page=${O}&size=${W}`;return o&&(Cn+=`&f.dc_party_firstpetitioner=${encodeURIComponent(o)},equals`),c&&(Cn+=`&f.dc_party_firstrespondent=${encodeURIComponent(c)},equals`),console.log("Combined Search URL:",Cn),this.http.get(Cn)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();const la=d=>["/items",d];function km(d,y){if(1&d){const o=e.RV6();e.j41(0,"li",43),e.bIt("mousedown",function(){const O=e.eBV(o).$implicit,W=e.XpG(3);return e.Njj(W.selectPetitioner(O.value))}),e.EFF(1),e.k0s()}if(2&d){const o=y.$implicit;e.R7$(),e.SpI(" ",o.value," ")}}function gE(d,y){if(1&d&&(e.j41(0,"ul",41),e.DNE(1,km,2,1,"li",42),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("ngForOf",o.petitionerResults)}}function Vm(d,y){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"input",39),e.bIt("input",function(){e.eBV(o);const O=e.XpG();return e.Njj(O.searchPetitioner())}),e.k0s(),e.DNE(2,gE,2,1,"ul",40),e.k0s()}if(2&d){const o=e.XpG();e.R7$(2),e.Y8G("ngIf",o.petitionerResults.length)}}function Gl(d,y){if(1&d){const o=e.RV6();e.j41(0,"li",43),e.bIt("mousedown",function(){const O=e.eBV(o).$implicit,W=e.XpG(3);return e.Njj(W.selectRespondent(O.value))}),e.EFF(1),e.k0s()}if(2&d){const o=y.$implicit;e.R7$(),e.SpI(" ",o.value," ")}}function _E(d,y){if(1&d&&(e.j41(0,"ul",41),e.DNE(1,Gl,2,1,"li",42),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("ngForOf",o.respondentResults)}}function Bp(d,y){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"input",44),e.bIt("input",function(){e.eBV(o);const O=e.XpG();return e.Njj(O.searchRespondent())}),e.k0s(),e.DNE(2,_E,2,1,"ul",40),e.k0s()}if(2&d){const o=e.XpG();e.R7$(2),e.Y8G("ngIf",o.respondentResults.length)}}function Th(d,y){1&d&&(e.j41(0,"div")(1,"p"),e.EFF(2,"No cases found for the given criteria."),e.k0s()())}function vE(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",46)(2,"a",47),e.EFF(3),e.k0s()(),e.j41(4,"td",46)(5,"a",47),e.EFF(6),e.k0s()(),e.j41(7,"td",46)(8,"a",47),e.EFF(9),e.k0s()(),e.j41(10,"td",46)(11,"a",47),e.EFF(12),e.k0s()(),e.j41(13,"td",46)(14,"a",47),e.EFF(15),e.k0s()(),e.j41(16,"td",46)(17,"a",47),e.EFF(18),e.k0s()(),e.j41(19,"td",46)(20,"a",47),e.EFF(21),e.k0s()(),e.j41(22,"td",46)(23,"a",47),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,la,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,la,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,la,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,la,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,la,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,la,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,la,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,la,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function jp(d,y){if(1&d&&(e.qex(0),e.DNE(1,vE,25,32,"tr",45),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("ngForOf",o)}}function Gm(d,y){if(1&d&&(e.j41(0,"div",48),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.SpI(" ",o.errorMessage," ")}}function Dh(d,y){1&d&&(e.j41(0,"div",49)(1,"div",50)(2,"span",51),e.EFF(3,"Loading..."),e.k0s()()())}let N=(()=>{class d{constructor(o,c){this.fb=o,this.searchService=c,this.isLoading=!1,this.errorMessage="",this.results=[],this.page=0,this.size=10,this.sortBy="dc.title",this.sortOrder="ASC",this.totalPages=0,this.resultsPerPage=10,this.petitionerResults=[],this.respondentResults=[],this.activeField=null,this.caseListSubject=new _.t([]),this.caseList$=this.caseListSubject.asObservable(),this.showPetitionerInput=!1,this.showRespondentInput=!1,this.searchForm=this.fb.group({petitionerName:[""],respondentName:[""]})}ngOnInit(){this.fetchCases()}togglePetitionerInput(){this.showPetitionerInput=!this.showPetitionerInput,this.activeField=this.showPetitionerInput?"petitioner":null,this.showPetitionerInput||this.searchForm.get("petitionerName")?.reset()}toggleRespondentInput(){this.showRespondentInput=!this.showRespondentInput,this.activeField=this.showRespondentInput?"respondent":null,this.showRespondentInput||this.searchForm.get("respondentName")?.reset()}searchPetitioner(){const o=this.searchForm.value.petitionerName?.trim();o?(this.isLoading=!0,this.searchService.searchPetitioners(o,0,20).subscribe(c=>{this.isLoading=!1,this.petitionerResults=c._embedded?.entries||[]},c=>{this.isLoading=!1,this.errorMessage="Error fetching petitioner data"})):this.petitionerResults=[]}searchRespondent(){const o=this.searchForm.value.respondentName?.trim();o?(this.isLoading=!0,this.searchService.searchRespondents(o,0,20).subscribe(c=>{this.isLoading=!1,this.respondentResults=c._embedded?.entries||[]},c=>{this.isLoading=!1,this.errorMessage="Error fetching respondent data"})):this.respondentResults=[]}fetchCases(){const o=this.searchForm.value.petitionerName?.trim()||"",c=this.searchForm.value.respondentName?.trim()||"";this.searchService.searchCombined(o,c,this.page,this.size,this.sortBy,this.sortOrder,this.resultsPerPage).subscribe(O=>{this.isLoading=!1,this.totalPages=O?.page?.totalPages||0,this.loadCases(O)},O=>{this.isLoading=!1,this.errorMessage="Error fetching combined search results",console.error(O)})}loadCases(o){const O=(o?._embedded?.searchResult?._embedded?.objects||[]).map(W=>{const ue=W?._embedded?.indexableObject;return{uuid:ue?.uuid,metadata:ue?.metadata}}).filter(W=>W.uuid&&W.metadata?.["dc.casetype"]?.[0]?.value);console.log("\u2705 Processed Case List:",O),this.caseListSubject.next(O)}selectPetitioner(o){this.searchForm.patchValue({petitionerName:o}),this.petitionerResults=[]}selectRespondent(o){this.searchForm.patchValue({respondentName:o}),this.respondentResults=[]}onCombinedSearchClick(){this.page=0,this.fetchCases()}onCombinedSearchClick1(){this.page=0,this.fetchCases()}selectSuggestion(o){"petitioner"===this.activeField?this.selectPetitioner(o):"respondent"===this.activeField&&this.selectRespondent(o)}onSortChange(o){this.sortBy=o,this.page=0,this.fetchCases()}onSortOrderChange(o){this.sortOrder=o,this.page=0,this.fetchCases()}onPageChange(o){this.page+=o,this.page<0&&(this.page=0),this.page>=this.totalPages&&(this.page=this.totalPages-1),this.fetchCases()}clearSearch(){this.searchForm.reset(),this.showPetitionerInput=!1,this.showRespondentInput=!1,this.results=[],this.caseListSubject.next([]),this.activeField=null}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(ln.ok),e.rXU(zc))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-petitioner-respondent-search"]],decls:98,vars:16,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"mb-4"],[1,"mb-4",3,"formGroup"],[1,"col-md-6","mb-3","position-relative"],[1,"form-label"],["type","button",1,"btn","btn-sm","ms-2",3,"click","ngClass"],[4,"ngIf"],[1,"row","mb-3"],[1,"col-md-3"],["for","sortBy"],["id","sortBy",1,"form-select",3,"change"],["value","dc.title"],["value","dc.casetype"],["value","dc.caseyear"],["value","dc.pname"],["value","dc.rname"],["value","dc.paname"],["value","dc.raname"],["for","sortOrder"],["id","sortOrder",1,"form-select",3,"change"],["value","ASC"],["value","DESC"],["id","resultsPerPage",1,"form-select",3,"ngModelChange","change","ngModel"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"row","mt-3"],[1,"col-12","d-flex","justify-content-start"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"search-results","mt-4"],[1,"table-responsive"],[1,"table"],["class","alert alert-danger",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],["type","text","formControlName","petitionerName","placeholder","Enter Petitioner Name",1,"form-control",3,"input"],["class","suggestion-dropdown",4,"ngIf"],[1,"suggestion-dropdown"],[3,"mousedown",4,"ngFor","ngForOf"],[3,"mousedown"],["type","text","formControlName","respondentName","placeholder","Enter Respondent Name",1,"form-control",3,"input"],[4,"ngFor","ngForOf"],[1,"case-result-text"],[1,"case-link",3,"routerLink"],[1,"alert","alert-danger"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(c,O){if(1&c&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e.EFF(4,"By Petitioner / Respondent"),e.k0s(),e.j41(5,"form",4)(6,"div",1)(7,"div",5)(8,"label",6),e.EFF(9,"Petitioner Name "),e.j41(10,"button",7),e.bIt("click",function(){return O.togglePetitionerInput()}),e.EFF(11),e.k0s()(),e.DNE(12,Vm,3,1,"div",8),e.k0s(),e.j41(13,"div",5)(14,"label",6),e.EFF(15,"Respondent Name "),e.j41(16,"button",7),e.bIt("click",function(){return O.toggleRespondentInput()}),e.EFF(17),e.k0s()(),e.DNE(18,Bp,3,1,"div",8),e.k0s()(),e.j41(19,"div",9)(20,"div",10)(21,"label",11),e.EFF(22,"Sort By:"),e.k0s(),e.j41(23,"select",12),e.bIt("change",function(ue){return O.onSortChange(ue.target.value)}),e.j41(24,"option",13),e.EFF(25,"Case Number"),e.k0s(),e.j41(26,"option",14),e.EFF(27,"Case Type"),e.k0s(),e.j41(28,"option",15),e.EFF(29,"Case Year"),e.k0s(),e.j41(30,"option",16),e.EFF(31,"First Petitioner"),e.k0s(),e.j41(32,"option",17),e.EFF(33,"First Respondent"),e.k0s(),e.j41(34,"option",18),e.EFF(35,"Petitioner's Advocate Name"),e.k0s(),e.j41(36,"option",19),e.EFF(37,"Respondent's Advocate Name"),e.k0s()()(),e.j41(38,"div",10)(39,"label",20),e.EFF(40,"Sort Order:"),e.k0s(),e.j41(41,"select",21),e.bIt("change",function(ue){return O.onSortOrderChange(ue.target.value)}),e.j41(42,"option",22),e.EFF(43,"Ascending"),e.k0s(),e.j41(44,"option",23),e.EFF(45,"Descending"),e.k0s()()(),e.j41(46,"div",10)(47,"label",20),e.EFF(48,"Results per page"),e.k0s(),e.j41(49,"select",24),e.mxI("ngModelChange",function(ue){return e.DH7(O.resultsPerPage,ue)||(O.resultsPerPage=ue),ue}),e.bIt("change",function(){return O.onCombinedSearchClick()}),e.j41(50,"option",25),e.EFF(51,"5"),e.k0s(),e.j41(52,"option",26),e.EFF(53,"10"),e.k0s(),e.j41(54,"option",27),e.EFF(55,"20"),e.k0s(),e.j41(56,"option",28),e.EFF(57,"50"),e.k0s(),e.j41(58,"option",29),e.EFF(59,"100"),e.k0s()()()(),e.j41(60,"div",30)(61,"div",31)(62,"button",32),e.bIt("click",function(){return O.onCombinedSearchClick1()}),e.EFF(63," Search "),e.k0s()()(),e.j41(64,"div",30)(65,"div",2)(66,"button",33),e.bIt("click",function(){return O.clearSearch()}),e.EFF(67,"Clear"),e.k0s()()()(),e.DNE(68,Th,3,0,"div",8),e.nI1(69,"async"),e.j41(70,"div",34)(71,"h3"),e.EFF(72,"Search Results"),e.k0s(),e.j41(73,"div",35)(74,"table",36)(75,"thead")(76,"tr")(77,"th"),e.EFF(78,"CASE TYPE"),e.k0s(),e.j41(79,"th"),e.EFF(80,"CASE NUMBER"),e.k0s(),e.j41(81,"th"),e.EFF(82,"CASE YEAR"),e.k0s(),e.j41(83,"th"),e.EFF(84,"DISTRICT"),e.k0s(),e.j41(85,"th"),e.EFF(86,"JUDGE NAME"),e.k0s(),e.j41(87,"th"),e.EFF(88,"FIRST PETITIONER"),e.k0s(),e.j41(89,"th"),e.EFF(90,"FIRST RESPONDENT"),e.k0s(),e.j41(91,"th"),e.EFF(92,"Disposal Date"),e.k0s()()(),e.j41(93,"tbody"),e.DNE(94,jp,2,1,"ng-container",8),e.nI1(95,"async"),e.k0s()()()(),e.DNE(96,Gm,2,1,"div",37)(97,Dh,4,0,"div",38),e.k0s()()()),2&c){let W;e.R7$(5),e.Y8G("formGroup",O.searchForm),e.R7$(5),e.Y8G("ngClass",O.showPetitionerInput?"btn-danger":"btn-success"),e.R7$(),e.SpI(" ",O.showPetitionerInput?"-":"+"," "),e.R7$(),e.Y8G("ngIf",O.showPetitionerInput),e.R7$(4),e.Y8G("ngClass",O.showRespondentInput?"btn-danger":"btn-success"),e.R7$(),e.SpI(" ",O.showRespondentInput?"-":"+"," "),e.R7$(),e.Y8G("ngIf",O.showRespondentInput),e.R7$(31),e.R50("ngModel",O.resultsPerPage),e.R7$(19),e.Y8G("ngIf",0===(null==(W=e.bMT(69,12,O.caseListSubject))?null:W.length)&&!O.isLoading&&!O.errorMessage),e.R7$(26),e.Y8G("ngIf",e.bMT(95,14,O.caseList$)),e.R7$(2),e.Y8G("ngIf",O.errorMessage),e.R7$(),e.Y8G("ngIf",O.isLoading)}},dependencies:[f.YU,f.Sq,f.bT,ln.qT,ln.xH,ln.y7,ln.me,ln.wz,ln.BC,ln.cb,ln.vS,ln.j4,ln.JD,v.Wk,f.Jj],styles:["[_nghost-%COMP%]{display:block;margin:2rem 0}.search-results[_ngcontent-%COMP%]{margin-top:2rem}.dropdown-menu[_ngcontent-%COMP%]{width:100%;max-height:300px;overflow-y:auto}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-wrap:break-word}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}li[_ngcontent-%COMP%]{background:#f4f4f4;margin:5px 0;padding:10px;border-radius:5px}a[_ngcontent-%COMP%]{text-decoration:none;color:#00f;margin-left:10px}.case-link[_ngcontent-%COMP%]{color:#337ab7;text-decoration:none}.case-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.zindex-dropdown[_ngcontent-%COMP%]{z-index:1000}.position-relative[_ngcontent-%COMP%]{position:relative}.suggestion-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 4px);left:2;z-index:1050;width:96%;max-height:200px;overflow-y:auto;background-color:#fff;border:1px solid #d3d3d3;border-top:none;box-shadow:0 4px 12px #00000026;border-radius:4px;cursor:pointer}input.form-control[_ngcontent-%COMP%]{border:1px solid #ced4da!important}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700;background-color:#f8f9fa}"]})}}return d})(),Y=(()=>{class d{constructor(o){this.http=o,this.baseUrl=`${vl.$}/server/api/discover/search/objects`}getDateSearchResults(o,c,O="dc.title",W="ASC",ue=10){let Ie=(new le.Nl).set("sort",`${O},${W}`).set("size",ue.toString());return o&&c&&(Ie=Ie.set("f.dateIssued",`[${o}T00:00:00Z TO ${c}T00:00:00Z],equals`)),this.http.get(this.baseUrl,{params:Ie})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();const I=d=>["/items",d];function V(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",43)(2,"a",44),e.EFF(3),e.k0s()(),e.j41(4,"td",43)(5,"a",44),e.EFF(6),e.k0s()(),e.j41(7,"td",43)(8,"a",44),e.EFF(9),e.k0s()(),e.j41(10,"td",43)(11,"a",44),e.EFF(12),e.k0s()(),e.j41(13,"td",43)(14,"a",44),e.EFF(15),e.k0s()(),e.j41(16,"td",43)(17,"a",44),e.EFF(18),e.k0s()(),e.j41(19,"td",43)(20,"a",44),e.EFF(21),e.k0s()(),e.j41(22,"td",43)(23,"a",44),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,I,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,I,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,I,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,I,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,I,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,I,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,I,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,I,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function ge(d,y){if(1&d&&(e.qex(0),e.DNE(1,V,25,32,"tr",42),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("ngForOf",o)}}let Ae=(()=>{class d{constructor(o){this.searchPageService=o,this.caseListSubject=new _.t([]),this.caseList$=this.caseListSubject.asObservable(),this.caseNumber="",this.caseType="",this.caseYear="",this.startDate="",this.endDate="",this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10}ngOnInit(){this.fetchCases()}fetchCases(){this.searchPageService.getDateSearchResults(this.startDate,this.endDate,this.sortBy,this.sortOrder,this.resultsPerPage).subscribe(o=>{console.log(o),this.loadCases(o)})}loadCases(o){const O=(o?._embedded?.searchResult?._embedded?.objects||[]).map(W=>{const ue=W?._embedded?.indexableObject;return{uuid:ue?.uuid,metadata:ue?.metadata}}).filter(W=>W.uuid&&W.metadata?.["dc.casetype"]?.[0]?.value);console.log("\u2705 Processed Case List:",O),this.caseListSubject.next(O)}onSortChange(o){this.sortBy=o,this.page=0,this.fetchCases()}onSortOrderChange(o){this.sortOrder="descending"===o?"DESC":"ASC",this.page=0,this.fetchCases()}onResultsPerPageChange(o){this.resultsPerPage=+o,this.page=0,this.fetchCases()}onDateChange(){this.fetchCases()}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Y))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-search-page"]],decls:88,vars:7,consts:[[1,"container"],[1,"heading"],[1,"divider"],[1,"date-filter-container"],[1,"date-label"],[1,"date-range"],[1,"date-input-container"],["for","startDate"],[1,"date-input-wrapper"],["type","date","id","startDate","placeholder","mm/dd/yyyy",3,"ngModelChange","change","ngModel"],[1,"date-separator"],["for","endDate"],["type","date","id","endDate","placeholder","mm/dd/yyyy",3,"ngModelChange","change","ngModel"],[1,"search-container"],[1,"search-controls"],[1,"col-md-3"],["for","sortBy"],["id","sortBy",1,"form-select",3,"change"],["value","dc.title"],["value","dc.casetype"],["value","dc.caseyear"],["value","dc.pname"],["value","dc.rname"],["value","dc.paname"],["value","dc.raname"],[1,"sort-container"],["for","sortOrder"],["id","sortOrder",1,"form-select",3,"ngModelChange","change","ngModel"],["value","ASC"],["value","DESC"],[1,"results-container"],["for","resultsPerPage"],["id","resultsPerPage",1,"form-select",3,"ngModelChange","change","ngModel"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"search-results"],[1,"showing-results"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"case-result-text"],[1,"case-link",3,"routerLink"]],template:function(c,O){1&c&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"By Judgement Date"),e.k0s(),e.nrm(3,"hr",2),e.j41(4,"div",3)(5,"div",4),e.EFF(6,"Date of Disposal"),e.k0s(),e.j41(7,"div",5)(8,"div",6)(9,"label",7),e.EFF(10,"Start Date"),e.k0s(),e.j41(11,"div",8)(12,"input",9),e.mxI("ngModelChange",function(ue){return e.DH7(O.startDate,ue)||(O.startDate=ue),ue}),e.bIt("change",function(){return O.onDateChange()}),e.k0s()()(),e.j41(13,"div",10),e.EFF(14,"\u2014"),e.k0s(),e.j41(15,"div",6)(16,"label",11),e.EFF(17,"End Date"),e.k0s(),e.j41(18,"div",8)(19,"input",12),e.mxI("ngModelChange",function(ue){return e.DH7(O.endDate,ue)||(O.endDate=ue),ue}),e.bIt("change",function(){return O.onDateChange()}),e.k0s()()()()(),e.j41(20,"div",13)(21,"div",14)(22,"div",15)(23,"label",16),e.EFF(24,"Sort By:"),e.k0s(),e.j41(25,"select",17),e.bIt("change",function(ue){return O.onSortChange(ue.target.value)}),e.j41(26,"option",18),e.EFF(27,"Case Number"),e.k0s(),e.j41(28,"option",19),e.EFF(29,"Case Type"),e.k0s(),e.j41(30,"option",20),e.EFF(31,"Case Year"),e.k0s(),e.j41(32,"option",21),e.EFF(33,"First Petitioner"),e.k0s(),e.j41(34,"option",22),e.EFF(35,"First Respondent"),e.k0s(),e.j41(36,"option",23),e.EFF(37,"Petitioner's Advocate Name"),e.k0s(),e.j41(38,"option",24),e.EFF(39,"Respondent's Advocate Name"),e.k0s()()(),e.j41(40,"div",25)(41,"label",26),e.EFF(42,"Sort Order"),e.k0s(),e.j41(43,"select",27),e.mxI("ngModelChange",function(ue){return e.DH7(O.sortOrder,ue)||(O.sortOrder=ue),ue}),e.bIt("change",function(ue){return O.onSortOrderChange(ue.target.value)}),e.j41(44,"option",28),e.EFF(45,"Ascending"),e.k0s(),e.j41(46,"option",29),e.EFF(47,"Descending"),e.k0s()()(),e.j41(48,"div",30)(49,"label",31),e.EFF(50,"Results per page"),e.k0s(),e.j41(51,"select",32),e.mxI("ngModelChange",function(ue){return e.DH7(O.resultsPerPage,ue)||(O.resultsPerPage=ue),ue}),e.bIt("change",function(ue){return O.onResultsPerPageChange(ue.target.value)}),e.j41(52,"option",33),e.EFF(53,"5"),e.k0s(),e.j41(54,"option",34),e.EFF(55,"10"),e.k0s(),e.j41(56,"option",35),e.EFF(57,"20"),e.k0s(),e.j41(58,"option",36),e.EFF(59,"50"),e.k0s(),e.j41(60,"option",37),e.EFF(61,"100"),e.k0s()()()()(),e.j41(62,"div",38)(63,"div",39)(64,"span"),e.EFF(65,"Showing 1 - 1 of 1"),e.k0s()(),e.j41(66,"table",40)(67,"thead")(68,"tr")(69,"th"),e.EFF(70,"CASE TYPE"),e.k0s(),e.j41(71,"th"),e.EFF(72,"CASE NUMBER"),e.k0s(),e.j41(73,"th"),e.EFF(74,"CASE YEAR"),e.k0s(),e.j41(75,"th"),e.EFF(76,"DISTRICT"),e.k0s(),e.j41(77,"th"),e.EFF(78,"JUDGE NAME"),e.k0s(),e.j41(79,"th"),e.EFF(80,"FIRST PETITIONER"),e.k0s(),e.j41(81,"th"),e.EFF(82,"FIRST RESPONDENT"),e.k0s(),e.j41(83,"th"),e.EFF(84,"Disposal Date"),e.k0s()()(),e.j41(85,"tbody"),e.DNE(86,ge,2,1,"ng-container",41),e.nI1(87,"async"),e.k0s()()()()),2&c&&(e.R7$(12),e.R50("ngModel",O.startDate),e.R7$(7),e.R50("ngModel",O.endDate),e.R7$(24),e.R50("ngModel",O.sortOrder),e.R7$(8),e.R50("ngModel",O.resultsPerPage),e.R7$(35),e.Y8G("ngIf",e.bMT(87,5,O.caseList$)))},dependencies:[f.Sq,f.bT,ln.xH,ln.y7,ln.me,ln.wz,ln.BC,ln.vS,v.Wk,f.Jj],styles:[".container[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;max-width:1200px;margin:0 auto;padding:20px;color:#333}.heading[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin-bottom:10px;color:#333}.divider[_ngcontent-%COMP%]{border:none;border-top:1px solid #e0e0e0;margin:15px 0}.date-filter-container[_ngcontent-%COMP%]{margin-bottom:30px}.date-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.date-range[_ngcontent-%COMP%]{display:flex;align-items:center}.date-input-container[_ngcontent-%COMP%]{position:relative}.date-input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.85rem;margin-bottom:5px;color:#666}.date-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:150px;padding:8px 30px 8px 10px;border:1px solid #ccc;border-radius:4px;font-size:.9rem}.calendar-button[_ngcontent-%COMP%]{position:absolute;right:5px;background:none;border:none;cursor:pointer;color:#666}.date-separator[_ngcontent-%COMP%]{margin:0 15px;font-weight:500;font-size:1.2rem}.calendar-popup[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;width:280px;background:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:0 2px 10px #0000001a}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #eee;font-weight:500}.calendar-nav[_ngcontent-%COMP%]{display:flex;gap:5px}.nav-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:#666;font-size:1.2rem}.weekday-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);text-align:center;font-size:.8rem;font-weight:500;padding:10px 0;color:#666}.days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;padding:0 5px 10px}.day[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:30px;width:30px;border:none;background:none;border-radius:50%;cursor:pointer;font-size:.9rem}.day[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.day.selected[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}.prev-month[_ngcontent-%COMP%], .next-month[_ngcontent-%COMP%]{color:#ccc}.calendar-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;border-top:1px solid #eee}.clear-button[_ngcontent-%COMP%], .today-button[_ngcontent-%COMP%]{background:none;border:none;color:#1976d2;cursor:pointer;font-size:.9rem}.search-container[_ngcontent-%COMP%]{margin-bottom:30px}.search-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.search-controls[_ngcontent-%COMP%]{display:flex;gap:20px}.sort-container[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.sort-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:5px;color:#666}.sort-select[_ngcontent-%COMP%], .results-select[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #ccc;border-radius:4px;width:200px;font-size:.9rem}.showing-results[_ngcontent-%COMP%]{margin-bottom:15px;font-size:.9rem;color:#666}.results-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.results-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:12px 15px;text-align:left;font-weight:500;border-bottom:1px solid #ddd;font-size:.85rem}.results-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #eee;font-size:.9rem}.results-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.case-link[_ngcontent-%COMP%]{color:#337ab7;text-decoration:none}.case-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return d})(),Nt=(()=>{class d{constructor(o,c){this.fb=o,this.searchService=c,this.respondents=[],this.isLoading=!1,this.errorMessage="",this.paginationOptions={pageSize:20,page:0},this.showPetitionerInput=!1,this.showRespondentInput=!1,this.searchForm=this.fb.group({petitionerName:[""],respondentName:[""]})}togglePetitionerInput(){this.showPetitionerInput=!this.showPetitionerInput,this.showPetitionerInput||this.searchForm.get("petitionerName")?.reset()}toggleRespondentInput(){this.showRespondentInput=!this.showRespondentInput,this.showRespondentInput||this.searchForm.get("respondentName")?.reset()}search(){const o=this.searchForm.value.petitionerName?.trim(),c=this.searchForm.value.respondentName?.trim();o||c?(this.isLoading=!0,this.errorMessage="",this.searchService.searchRespondents(o||c,this.paginationOptions.page,this.paginationOptions.pageSize).subscribe(O=>{this.isLoading=!1,this.respondents=O._embedded?.entries||[]},O=>{this.isLoading=!1,this.errorMessage="Error fetching data",console.error("Error:",O)})):this.respondents=[]}selectPetitioner(o){this.searchForm.patchValue({petitionerName:o}),this.showPetitionerInput=!0}selectRespondent(o){this.searchForm.patchValue({respondentName:o}),this.showRespondentInput=!0}clearSearch(){this.searchForm.reset(),this.showPetitionerInput=!1,this.showRespondentInput=!1,this.respondents=[]}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(ln.ok),e.rXU(zc))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-petitioner-respondent-search3"]],decls:69,vars:0,consts:[[1,"container"],[1,"header"],[1,"details"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],[1,"expand-section"],[1,"expand-button"],[1,"expand-icon"],[1,"files-section"],[1,"attachments"],[1,"show-attachments-button"],[1,"showing-text"],[1,"files-table"],[1,"name-column"],[1,"size-column"],[1,"format-column"],[1,"view-column"],[1,"download-column"],["href","#",1,"view-link"]],template:function(c,O){1&c&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"84"),e.k0s()(),e.j41(4,"div",2)(5,"div",3)(6,"div",4),e.EFF(7,"Disposal Date"),e.k0s(),e.j41(8,"div",5),e.EFF(9,"2018-07-21"),e.k0s()(),e.j41(10,"div",3)(11,"div",4),e.EFF(12,"Batch Number"),e.k0s(),e.j41(13,"div",5),e.EFF(14,"KNCV_0388_26095023"),e.k0s()(),e.j41(15,"div",3)(16,"div",4),e.EFF(17,"Case Number"),e.k0s(),e.j41(18,"div",5),e.EFF(19,"84"),e.k0s()()(),e.j41(20,"div",6)(21,"button",7)(22,"span",8),e.EFF(23,"\u25bc"),e.k0s(),e.EFF(24," Expand "),e.k0s()(),e.j41(25,"div",9)(26,"h2"),e.EFF(27,"Files"),e.k0s(),e.j41(28,"div",10)(29,"button",11),e.EFF(30,"Show Attachments"),e.k0s(),e.j41(31,"div",12),e.EFF(32,"Now showing 1 - 2 of 2"),e.k0s(),e.j41(33,"table",13)(34,"thead")(35,"tr")(36,"th",14),e.EFF(37,"Name:"),e.k0s(),e.j41(38,"th",15),e.EFF(39,"Size:"),e.k0s(),e.j41(40,"th",16),e.EFF(41,"Format:"),e.k0s(),e.j41(42,"th",17),e.EFF(43,"View"),e.k0s(),e.j41(44,"th",18),e.EFF(45,"Download"),e.k0s()()(),e.j41(46,"tbody")(47,"tr")(48,"td"),e.EFF(49,"10005910_84.pdf"),e.k0s(),e.j41(50,"td"),e.EFF(51,"46.39 MB"),e.k0s(),e.j41(52,"td"),e.EFF(53,"Adobe Portable Document Format"),e.k0s(),e.j41(54,"td")(55,"a",19),e.EFF(56,"View"),e.k0s()(),e.nrm(57,"td"),e.k0s(),e.j41(58,"tr")(59,"td"),e.EFF(60,"10005910_84_ADDRESS STATEMENT FIELD BY PLANTIFF.pdf"),e.k0s(),e.j41(61,"td"),e.EFF(62,"143.96 KB"),e.k0s(),e.j41(63,"td"),e.EFF(64,"Adobe Portable Document Format"),e.k0s(),e.j41(65,"td")(66,"a",19),e.EFF(67,"View"),e.k0s()(),e.nrm(68,"td"),e.k0s()()()()()())},styles:["[_nghost-%COMP%]{display:block;margin:2rem 0}.search-results[_ngcontent-%COMP%]{margin-top:2rem}.dropdown-menu[_ngcontent-%COMP%]{width:100%;max-height:300px;overflow-y:auto}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-wrap:break-word}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}li[_ngcontent-%COMP%]{background:#f4f4f4;margin:5px 0;padding:10px;border-radius:5px}a[_ngcontent-%COMP%]{text-decoration:none;color:#00f;margin-left:10px}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700;background-color:#f8f9fa}",".container[_ngcontent-%COMP%] {\n    font-family: Arial, sans-serif;\n    max-width: 800px;\n    margin: 0 auto;\n    color: #333;\n  }\n  \n  .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\n    font-size: 24px;\n    margin-bottom: 10px;\n    font-weight: normal;\n  }\n  \n  .detail-row[_ngcontent-%COMP%] {\n    display: flex;\n    border-bottom: 1px solid #f0f0f0;\n    padding: 10px 0;\n    background-color: #f9f9f9;\n  }\n  \n  .detail-label[_ngcontent-%COMP%] {\n    width: 150px;\n    padding-left: 10px;\n    color: #666;\n  }\n  \n  .detail-value[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n  \n  .expand-section[_ngcontent-%COMP%] {\n    margin: 15px 0;\n  }\n  \n  .expand-button[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n    background: none;\n    border: 1px solid #ccc;\n    padding: 5px 10px;\n    cursor: pointer;\n    font-size: 14px;\n  }\n  \n  .expand-icon[_ngcontent-%COMP%] {\n    font-size: 10px;\n    margin-right: 5px;\n  }\n  \n  .files-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\n    font-size: 16px;\n    margin: 20px 0 15px 0;\n    font-weight: normal;\n  }\n  \n  .show-attachments-button[_ngcontent-%COMP%] {\n    background-color: #5a7d8c;\n    color: white;\n    border: none;\n    padding: 8px 15px;\n    cursor: pointer;\n    font-size: 14px;\n  }\n  \n  .showing-text[_ngcontent-%COMP%] {\n    margin: 15px 0;\n    font-size: 14px;\n    color: #666;\n  }\n  \n  .files-table[_ngcontent-%COMP%] {\n    width: 100%;\n    border-collapse: collapse;\n  }\n  \n  .files-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    text-align: left;\n    font-weight: normal;\n    padding: 10px 0;\n    border-bottom: 1px solid #ddd;\n  }\n  \n  .files-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n    padding: 10px 0;\n    border-bottom: 1px solid #ddd;\n  }\n  \n  .view-link[_ngcontent-%COMP%] {\n    color: #5a7d8c;\n    text-decoration: none;\n  }\n  \n  .name-column[_ngcontent-%COMP%] {\n    width: 40%;\n  }\n  \n  .size-column[_ngcontent-%COMP%] {\n    width: 15%;\n  }\n  \n  .format-column[_ngcontent-%COMP%] {\n    width: 25%;\n  }\n  \n  .view-column[_ngcontent-%COMP%], .download-column[_ngcontent-%COMP%] {\n    width: 10%;\n  }"]})}}return d})();const qt=d=>["/items",d];function en(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",42)(2,"a",43),e.EFF(3),e.k0s()(),e.j41(4,"td",42)(5,"a",43),e.EFF(6),e.k0s()(),e.j41(7,"td",42)(8,"a",43),e.EFF(9),e.k0s()(),e.j41(10,"td",42)(11,"a",43),e.EFF(12),e.k0s()(),e.j41(13,"td",42)(14,"a",43),e.EFF(15),e.k0s()(),e.j41(16,"td",42)(17,"a",43),e.EFF(18),e.k0s()(),e.j41(19,"td",42)(20,"a",43),e.EFF(21),e.k0s()(),e.j41(22,"td",42)(23,"a",43),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,qt,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,qt,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,qt,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,qt,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,qt,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,qt,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,qt,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,qt,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function Mn(d,y){if(1&d&&(e.qex(0),e.DNE(1,en,25,32,"tr",41),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("ngForOf",o)}}let In=(()=>{class d{constructor(o){this.searchPageService=o,this.caseListSubject=new _.t([]),this.caseList$=this.caseListSubject.asObservable(),this.freeTextQuery="",this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10,this.startDate="",this.endDate="",this.page=0}ngOnInit(){this.freeTextQuery="*",this.fetchCases()}onSearchClick(){this.fetchCases()}onSortChange(o){this.sortBy=o,this.page=0,this.fetchCases()}fetchCases(){this.searchPageService.getDateSearchResults(this.freeTextQuery,this.startDate,this.endDate,this.sortBy,this.sortOrder,this.resultsPerPage).subscribe(o=>{this.loadCases(o)})}storeSearchTerm(){this.freeTextQuery&&"*"!==this.freeTextQuery?localStorage.setItem("pdfSearchTerm",this.freeTextQuery):localStorage.removeItem("pdfSearchTerm")}loadCases(o){const O=(o?._embedded?.searchResult?._embedded?.objects||[]).map(W=>{const ue=W?._embedded?.indexableObject;return{uuid:ue?.uuid,metadata:ue?.metadata}}).filter(W=>W.uuid&&W.metadata?.["dc.casetype"]?.[0]?.value);console.log("\u2705 Processed Case List:",O),this.caseListSubject.next(O)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(eo))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-search-page"]],decls:83,vars:6,consts:[[1,"container"],[1,"heading"],[1,"divider"],[1,"search-bar","mb-4"],[1,"row","align-items-center"],[1,"col-md-10"],["for","description",1,"form-label"],["type","text","id","description","name","description",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-2"],["type","button",1,"btn","btn-secondary","float-end",3,"click"],[1,"fas","fa-search"],[1,"row","mb-3"],[1,"col-md-3"],["for","sortBy"],["id","sortBy",1,"form-select",3,"change"],["value","dc.title"],["value","dc.casetype"],["value","dc.caseyear"],["value","dc.pname"],["value","dc.rname"],["value","dc.paname"],["value","dc.raname"],[1,"search-container"],[1,"search-controls"],[1,"sort-container"],["for","sortOrder"],["id","sortOrder",1,"sort-select",3,"ngModelChange","change","ngModel"],["value","ASC"],["value","DESC"],[1,"results-container"],["for","resultsPerPage"],["id","resultsPerPage",1,"results-select",3,"ngModelChange","change","ngModel"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"search-results","mt-4"],[1,"showing-results"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"case-result-text"],[1,"case-link",3,"routerLink"]],template:function(c,O){1&c&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"By free Text"),e.k0s(),e.nrm(3,"hr",2),e.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),e.EFF(8,"Description"),e.k0s(),e.j41(9,"input",7),e.mxI("ngModelChange",function(ue){return e.DH7(O.freeTextQuery,ue)||(O.freeTextQuery=ue),ue}),e.k0s()(),e.j41(10,"div",8)(11,"button",9),e.bIt("click",function(){return O.onSearchClick()}),e.nrm(12,"i",10),e.EFF(13," Search "),e.k0s()()()(),e.j41(14,"div",11)(15,"div",12)(16,"label",13),e.EFF(17,"Sort By:"),e.k0s(),e.j41(18,"select",14),e.bIt("change",function(ue){return O.onSortChange(ue.target.value)}),e.j41(19,"option",15),e.EFF(20,"Case Number"),e.k0s(),e.j41(21,"option",16),e.EFF(22,"Case Type"),e.k0s(),e.j41(23,"option",17),e.EFF(24,"Case Year"),e.k0s(),e.j41(25,"option",18),e.EFF(26,"First Petitioner"),e.k0s(),e.j41(27,"option",19),e.EFF(28,"First Respondent"),e.k0s(),e.j41(29,"option",20),e.EFF(30,"Petitioner's Advocate Name"),e.k0s(),e.j41(31,"option",21),e.EFF(32,"Respondent's Advocate Name"),e.k0s()()(),e.j41(33,"div",22)(34,"div",23)(35,"div",24)(36,"label",25),e.EFF(37,"Sort Order"),e.k0s(),e.j41(38,"select",26),e.mxI("ngModelChange",function(ue){return e.DH7(O.sortOrder,ue)||(O.sortOrder=ue),ue}),e.bIt("change",function(){return O.onSearchClick()}),e.j41(39,"option",27),e.EFF(40,"Ascending"),e.k0s(),e.j41(41,"option",28),e.EFF(42,"Descending"),e.k0s()()(),e.j41(43,"div",29)(44,"label",30),e.EFF(45,"Results per page"),e.k0s(),e.j41(46,"select",31),e.mxI("ngModelChange",function(ue){return e.DH7(O.resultsPerPage,ue)||(O.resultsPerPage=ue),ue}),e.bIt("change",function(){return O.onSearchClick()}),e.j41(47,"option",32),e.EFF(48,"5"),e.k0s(),e.j41(49,"option",33),e.EFF(50,"10"),e.k0s(),e.j41(51,"option",34),e.EFF(52,"20"),e.k0s(),e.j41(53,"option",35),e.EFF(54,"50"),e.k0s(),e.j41(55,"option",36),e.EFF(56,"100"),e.k0s()()()()(),e.j41(57,"div",37)(58,"div",38)(59,"span"),e.EFF(60,"Showing results:"),e.k0s()(),e.j41(61,"table",39)(62,"thead")(63,"tr")(64,"th"),e.EFF(65,"CASE TYPE"),e.k0s(),e.j41(66,"th"),e.EFF(67,"CASE NUMBER"),e.k0s(),e.j41(68,"th"),e.EFF(69,"CASE YEAR"),e.k0s(),e.j41(70,"th"),e.EFF(71,"DISTRICT"),e.k0s(),e.j41(72,"th"),e.EFF(73,"JUDGE NAME"),e.k0s(),e.j41(74,"th"),e.EFF(75,"FIRST PETITIONER"),e.k0s(),e.j41(76,"th"),e.EFF(77,"FIRST RESPONDENT"),e.k0s(),e.j41(78,"th"),e.EFF(79,"Disposal Date"),e.k0s()()(),e.j41(80,"tbody"),e.DNE(81,Mn,2,1,"ng-container",40),e.nI1(82,"async"),e.k0s()()()()()),2&c&&(e.R7$(9),e.R50("ngModel",O.freeTextQuery),e.R7$(29),e.R50("ngModel",O.sortOrder),e.R7$(8),e.R50("ngModel",O.resultsPerPage),e.R7$(35),e.Y8G("ngIf",e.bMT(82,4,O.caseList$)))},dependencies:[f.Sq,f.bT,ln.xH,ln.y7,ln.me,ln.wz,ln.BC,ln.vS,v.Wk,f.Jj],styles:[".container[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;max-width:1200px;margin:0 auto;padding:20px;color:#333}.heading[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin-bottom:10px;color:#333}.divider[_ngcontent-%COMP%]{border:none;border-top:1px solid #e0e0e0;margin:15px 0}.date-filter-container[_ngcontent-%COMP%]{margin-bottom:30px}.date-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.date-range[_ngcontent-%COMP%]{display:flex;align-items:center}.date-input-container[_ngcontent-%COMP%]{position:relative}.date-input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.85rem;margin-bottom:5px;color:#666}.date-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:150px;padding:8px 30px 8px 10px;border:1px solid #ccc;border-radius:4px;font-size:.9rem}.calendar-button[_ngcontent-%COMP%]{position:absolute;right:5px;background:none;border:none;cursor:pointer;color:#666}.date-separator[_ngcontent-%COMP%]{margin:0 15px;font-weight:500;font-size:1.2rem}.calendar-popup[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;width:280px;background:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:0 2px 10px #0000001a}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #eee;font-weight:500}.calendar-nav[_ngcontent-%COMP%]{display:flex;gap:5px}.nav-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:#666;font-size:1.2rem}.weekday-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);text-align:center;font-size:.8rem;font-weight:500;padding:10px 0;color:#666}.days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;padding:0 5px 10px}.day[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:30px;width:30px;border:none;background:none;border-radius:50%;cursor:pointer;font-size:.9rem}.day[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.day.selected[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}.prev-month[_ngcontent-%COMP%], .next-month[_ngcontent-%COMP%]{color:#ccc}.calendar-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;border-top:1px solid #eee}.clear-button[_ngcontent-%COMP%], .today-button[_ngcontent-%COMP%]{background:none;border:none;color:#1976d2;cursor:pointer;font-size:.9rem}.search-container[_ngcontent-%COMP%]{margin-bottom:30px}.search-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.search-controls[_ngcontent-%COMP%]{display:flex;gap:20px}.sort-container[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.sort-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:5px;color:#666}.sort-select[_ngcontent-%COMP%], .results-select[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #ccc;border-radius:4px;width:200px;font-size:.9rem}.showing-results[_ngcontent-%COMP%]{margin-bottom:15px;font-size:.9rem;color:#666}.results-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.results-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:12px 15px;text-align:left;font-weight:500;border-bottom:1px solid #ddd;font-size:.85rem}.results-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #eee;font-size:.9rem}.results-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.case-link[_ngcontent-%COMP%]{color:#337ab7;text-decoration:none}.case-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return d})();const us=d=>["/items",d];function Kn(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",42)(2,"a",43),e.EFF(3),e.k0s()(),e.j41(4,"td",42)(5,"a",43),e.EFF(6),e.k0s()(),e.j41(7,"td",42)(8,"a",43),e.EFF(9),e.k0s()(),e.j41(10,"td",42)(11,"a",43),e.EFF(12),e.k0s()(),e.j41(13,"td",42)(14,"a",43),e.EFF(15),e.k0s()(),e.j41(16,"td",42)(17,"a",43),e.EFF(18),e.k0s()(),e.j41(19,"td",42)(20,"a",43),e.EFF(21),e.k0s()(),e.j41(22,"td",42)(23,"a",43),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,us,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,us,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,us,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,us,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,us,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,us,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,us,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,us,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function Ts(d,y){if(1&d&&(e.qex(0),e.DNE(1,Kn,25,32,"tr",41),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("ngForOf",o)}}let Si=(()=>{class d{constructor(o){this.searchPageService=o,this.caseListSubject=new _.t([]),this.caseList$=this.caseListSubject.asObservable(),this.freeTextQuery="",this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10,this.startDate="",this.endDate="",this.page=0}ngOnInit(){this.freeTextQuery="*",this.fetchCases()}onSearchClick(){this.fetchCases()}onSortChange(o){this.sortBy=o,this.page=0,this.fetchCases()}fetchCases(){this.searchPageService.getDateSearchResults(this.freeTextQuery,this.startDate,this.endDate,this.sortBy,this.sortOrder,this.resultsPerPage).subscribe(o=>{this.loadCases(o)})}storeSearchTerm(){this.freeTextQuery&&"*"!==this.freeTextQuery?localStorage.setItem("pdfSearchTerm",this.freeTextQuery):localStorage.removeItem("pdfSearchTerm")}loadCases(o){const O=(o?._embedded?.searchResult?._embedded?.objects||[]).map(W=>{const ue=W?._embedded?.indexableObject;return{uuid:ue?.uuid,metadata:ue?.metadata}}).filter(W=>W.uuid&&W.metadata?.["dc.casetype"]?.[0]?.value);console.log("\u2705 Processed Case List:",O),this.caseListSubject.next(O)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(eo))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-search-page"]],decls:81,vars:6,consts:[[1,"container"],[1,"heading"],[1,"divider"],[1,"search-bar","mb-4"],[1,"row","align-items-center"],[1,"col-md-10"],["for","description",1,"form-label"],["type","text","id","description","name","description",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-2"],["type","button",1,"btn","btn-secondary","float-end",3,"click"],[1,"fas","fa-search"],[1,"row","mb-3"],[1,"col-md-3"],["for","sortBy"],["id","sortBy",1,"form-select",3,"change"],["value","dc.title"],["value","dc.casetype"],["value","dc.caseyear"],["value","dc.pname"],["value","dc.rname"],["value","dc.paname"],["value","dc.raname"],[1,"search-container"],[1,"search-controls"],[1,"sort-container"],["for","sortOrder"],["id","sortOrder",1,"sort-select",3,"ngModelChange","change","ngModel"],["value","ASC"],["value","DESC"],[1,"results-container"],["for","resultsPerPage"],["id","resultsPerPage",1,"results-select",3,"ngModelChange","change","ngModel"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"search-results","mt-4"],[1,"showing-results"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"case-result-text"],[1,"case-link",3,"routerLink"]],template:function(c,O){1&c&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"By Video search"),e.k0s(),e.nrm(3,"hr",2),e.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),e.EFF(8,"Description"),e.k0s(),e.j41(9,"input",7),e.mxI("ngModelChange",function(ue){return e.DH7(O.freeTextQuery,ue)||(O.freeTextQuery=ue),ue}),e.k0s()(),e.j41(10,"div",8)(11,"button",9),e.bIt("click",function(){return O.onSearchClick()}),e.nrm(12,"i",10),e.EFF(13," Search "),e.k0s()()()(),e.j41(14,"div",11)(15,"div",12)(16,"label",13),e.EFF(17,"Sort By:"),e.k0s(),e.j41(18,"select",14),e.bIt("change",function(ue){return O.onSortChange(ue.target.value)}),e.j41(19,"option",15),e.EFF(20,"Case Number"),e.k0s(),e.j41(21,"option",16),e.EFF(22,"Case Type"),e.k0s(),e.j41(23,"option",17),e.EFF(24,"Case Year"),e.k0s(),e.j41(25,"option",18),e.EFF(26,"First Petitioner"),e.k0s(),e.j41(27,"option",19),e.EFF(28,"First Respondent"),e.k0s(),e.j41(29,"option",20),e.EFF(30,"Petitioner's Advocate Name"),e.k0s(),e.j41(31,"option",21),e.EFF(32,"Respondent's Advocate Name"),e.k0s()()(),e.j41(33,"div",22)(34,"div",23)(35,"div",24)(36,"label",25),e.EFF(37,"Sort Order"),e.k0s(),e.j41(38,"select",26),e.mxI("ngModelChange",function(ue){return e.DH7(O.sortOrder,ue)||(O.sortOrder=ue),ue}),e.bIt("change",function(){return O.onSearchClick()}),e.j41(39,"option",27),e.EFF(40,"Ascending"),e.k0s(),e.j41(41,"option",28),e.EFF(42,"Descending"),e.k0s()()(),e.j41(43,"div",29)(44,"label",30),e.EFF(45,"Results per page"),e.k0s(),e.j41(46,"select",31),e.mxI("ngModelChange",function(ue){return e.DH7(O.resultsPerPage,ue)||(O.resultsPerPage=ue),ue}),e.bIt("change",function(){return O.onSearchClick()}),e.j41(47,"option",32),e.EFF(48,"5"),e.k0s(),e.j41(49,"option",33),e.EFF(50,"10"),e.k0s(),e.j41(51,"option",34),e.EFF(52,"20"),e.k0s(),e.j41(53,"option",35),e.EFF(54,"50"),e.k0s(),e.j41(55,"option",36),e.EFF(56,"100"),e.k0s()()()()(),e.j41(57,"div",37)(58,"div",38)(59,"span"),e.EFF(60,"Showing results:"),e.k0s()(),e.j41(61,"table",39)(62,"thead")(63,"tr")(64,"th"),e.EFF(65,"CASE NUMBER"),e.k0s(),e.j41(66,"th"),e.EFF(67,"CASE YEAR"),e.k0s(),e.j41(68,"th"),e.EFF(69,"CASE TYPE"),e.k0s(),e.j41(70,"th"),e.EFF(71,"DISTRICT"),e.k0s(),e.j41(72,"th"),e.EFF(73,"JUDGE NAME"),e.k0s(),e.j41(74,"th"),e.EFF(75,"FIRST PETITIONER"),e.k0s(),e.j41(76,"th"),e.EFF(77,"FIRST RESPONDENT"),e.k0s()()(),e.j41(78,"tbody"),e.DNE(79,Ts,2,1,"ng-container",40),e.nI1(80,"async"),e.k0s()()()()()),2&c&&(e.R7$(9),e.R50("ngModel",O.freeTextQuery),e.R7$(29),e.R50("ngModel",O.sortOrder),e.R7$(8),e.R50("ngModel",O.resultsPerPage),e.R7$(33),e.Y8G("ngIf",e.bMT(80,4,O.caseList$)))},dependencies:[f.Sq,f.bT,ln.xH,ln.y7,ln.me,ln.wz,ln.BC,ln.vS,v.Wk,f.Jj],styles:[".container[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;max-width:1200px;margin:0 auto;padding:20px;color:#333}.heading[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin-bottom:10px;color:#333}.divider[_ngcontent-%COMP%]{border:none;border-top:1px solid #e0e0e0;margin:15px 0}.date-filter-container[_ngcontent-%COMP%]{margin-bottom:30px}.date-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.date-range[_ngcontent-%COMP%]{display:flex;align-items:center}input.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border:1px solid #ced4da!important}.date-input-container[_ngcontent-%COMP%]{position:relative}.date-input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.85rem;margin-bottom:5px;color:#666}.date-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:150px;padding:8px 30px 8px 10px;border:1px solid #ccc;border-radius:4px;font-size:.9rem}.calendar-button[_ngcontent-%COMP%]{position:absolute;right:5px;background:none;border:none;cursor:pointer;color:#666}.date-separator[_ngcontent-%COMP%]{margin:0 15px;font-weight:500;font-size:1.2rem}.calendar-popup[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;width:280px;background:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:0 2px 10px #0000001a}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #eee;font-weight:500}.calendar-nav[_ngcontent-%COMP%]{display:flex;gap:5px}.nav-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:#666;font-size:1.2rem}.weekday-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);text-align:center;font-size:.8rem;font-weight:500;padding:10px 0;color:#666}.days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;padding:0 5px 10px}.day[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:30px;width:30px;border:none;background:none;border-radius:50%;cursor:pointer;font-size:.9rem}.day[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.day.selected[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}.prev-month[_ngcontent-%COMP%], .next-month[_ngcontent-%COMP%]{color:#ccc}.calendar-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;border-top:1px solid #eee}.clear-button[_ngcontent-%COMP%], .today-button[_ngcontent-%COMP%]{background:none;border:none;color:#1976d2;cursor:pointer;font-size:.9rem}.search-container[_ngcontent-%COMP%]{margin-bottom:30px}.search-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.search-controls[_ngcontent-%COMP%]{display:flex;gap:20px}.sort-container[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.sort-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:5px;color:#666}.sort-select[_ngcontent-%COMP%], .results-select[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #ccc;border-radius:4px;width:200px;font-size:.9rem}.showing-results[_ngcontent-%COMP%]{margin-bottom:15px;font-size:.9rem;color:#666}.results-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.results-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:12px 15px;text-align:left;font-weight:500;border-bottom:1px solid #ddd;font-size:.85rem}.results-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #eee;font-size:.9rem}.results-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.case-link[_ngcontent-%COMP%]{color:#337ab7;text-decoration:none}.case-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return d})(),zs=(()=>{class d{constructor(o){this.http=o,this.baseUrl=`${vl.$}/server/api/discover/search/objects`}getSearchResults(o,c="dc.title",O="ASC",W=10){let ue=(new le.Nl).set("sort",`${c},${O}`).set("size",W.toString());return o&&(ue=ue.set("f.author",`${o},equals`)),this.http.get(this.baseUrl,{params:ue})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();const ti=d=>["/items",d];function ji(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",31)(2,"a",32),e.EFF(3),e.k0s()(),e.j41(4,"td",31)(5,"a",32),e.EFF(6),e.k0s()(),e.j41(7,"td",31)(8,"a",32),e.EFF(9),e.k0s()(),e.j41(10,"td",31)(11,"a",32),e.EFF(12),e.k0s()(),e.j41(13,"td",31)(14,"a",32),e.EFF(15),e.k0s()(),e.j41(16,"td",31)(17,"a",32),e.EFF(18),e.k0s()(),e.j41(19,"td",31)(20,"a",32),e.EFF(21),e.k0s()(),e.j41(22,"td",31)(23,"a",32),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,ti,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,ti,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,ti,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,ti,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,ti,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,ti,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,ti,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,ti,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function Ui(d,y){if(1&d&&(e.qex(0),e.DNE(1,ji,25,32,"tr",30),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("ngForOf",o)}}let Ao=(()=>{class d{constructor(o){this.searchPageService=o,this.caseListSubject=new _.t([]),this.caseList$=this.caseListSubject.asObservable(),this.judgeName="",this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10}ngOnInit(){this.fetchCases()}fetchCases(){this.searchPageService.getSearchResults(this.judgeName,this.sortBy,this.sortOrder,this.resultsPerPage).subscribe(o=>{console.log("\u{1f539} API Response:",o),this.loadCases(o)},o=>{console.error("\u274c Error fetching cases:",o)})}loadCases(o){const O=(o?._embedded?.searchResult?._embedded?.objects||[]).map(W=>{const ue=W?._embedded?.indexableObject;return{uuid:ue?.uuid,metadata:ue?.metadata}}).filter(W=>W.uuid&&W.metadata?.["dc.casetype"]?.[0]?.value);console.log("\u2705 Processed Case List:",O),this.caseListSubject.next(O)}searchCases(){this.fetchCases()}resetForm(){this.judgeName="",this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10,this.fetchCases()}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(zs))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["judge-name-page"]],decls:83,vars:12,consts:[[1,"case-search-container"],[1,"search-fields"],[1,"field-group"],["for","caseYear"],["type","text","id","judgeName","name","judgeName",3,"ngModelChange","ngModel"],[1,"button-group"],["type","button",1,"search-btn",3,"click"],["type","button",1,"reset-btn",3,"click"],[1,"settings-section"],[1,"settings-controls"],[1,"setting-group"],["for","sortBy"],["id","sortBy","name","sortBy",3,"ngModelChange","ngModel"],["value","dc.title"],["value","dc.casetype"],["value","dc.caseyear"],["value","dc.pname"],["value","dc.rname"],["value","dc.paname"],["value","dc.raname"],["for","sortOrder"],["id","sortOrder","name","sortOrder",3,"ngModelChange","ngModel"],["value","ASC"],["value","DESC"],["for","resultsPerPage"],["id","resultsPerPage","name","resultsPerPage",3,"ngModelChange","ngModel"],[3,"value"],[1,"search-results"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"case-result-text"],[1,"case-link",3,"routerLink"]],template:function(c,O){1&c&&(e.j41(0,"div",0)(1,"h1"),e.EFF(2,"By Judge Name"),e.k0s(),e.j41(3,"form")(4,"div",1)(5,"div",2)(6,"label",3),e.EFF(7,"Judge Name"),e.k0s(),e.j41(8,"input",4),e.mxI("ngModelChange",function(ue){return e.DH7(O.judgeName,ue)||(O.judgeName=ue),ue}),e.k0s()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return O.searchCases()}),e.EFF(11,"Search"),e.k0s(),e.j41(12,"button",7),e.bIt("click",function(){return O.resetForm()}),e.EFF(13,"Reset"),e.k0s()()()(),e.j41(14,"div",8)(15,"h2"),e.EFF(16,"Settings"),e.k0s(),e.j41(17,"div",9)(18,"div",10)(19,"label",11),e.EFF(20,"Sort By"),e.k0s(),e.j41(21,"select",12),e.mxI("ngModelChange",function(ue){return e.DH7(O.sortBy,ue)||(O.sortBy=ue),ue}),e.j41(22,"option",13),e.EFF(23,"Case Number"),e.k0s(),e.j41(24,"option",14),e.EFF(25,"Case Type"),e.k0s(),e.j41(26,"option",15),e.EFF(27,"Case Year"),e.k0s(),e.j41(28,"option",16),e.EFF(29,"First Petitioner"),e.k0s(),e.j41(30,"option",17),e.EFF(31,"First Respondent"),e.k0s(),e.j41(32,"option",18),e.EFF(33,"Petitioner's Advocate Name"),e.k0s(),e.j41(34,"option",19),e.EFF(35,"Respondent's Advocate Name"),e.k0s()()(),e.j41(36,"div",10)(37,"label",20),e.EFF(38,"Sort Order"),e.k0s(),e.j41(39,"select",21),e.mxI("ngModelChange",function(ue){return e.DH7(O.sortOrder,ue)||(O.sortOrder=ue),ue}),e.j41(40,"option",22),e.EFF(41,"Ascending"),e.k0s(),e.j41(42,"option",23),e.EFF(43,"Descending"),e.k0s()()(),e.j41(44,"div",10)(45,"label",24),e.EFF(46,"Results per page"),e.k0s(),e.j41(47,"select",25),e.mxI("ngModelChange",function(ue){return e.DH7(O.resultsPerPage,ue)||(O.resultsPerPage=ue),ue}),e.j41(48,"option",26),e.EFF(49,"5"),e.k0s(),e.j41(50,"option",26),e.EFF(51,"10"),e.k0s(),e.j41(52,"option",26),e.EFF(53,"25"),e.k0s(),e.j41(54,"option",26),e.EFF(55,"50"),e.k0s(),e.j41(56,"option",26),e.EFF(57,"100"),e.k0s()()()()(),e.j41(58,"div",27)(59,"h2"),e.EFF(60,"Search Results"),e.k0s(),e.j41(61,"table",28)(62,"thead")(63,"tr")(64,"th"),e.EFF(65,"CASE TYPE"),e.k0s(),e.j41(66,"th"),e.EFF(67,"CASE NUMBER"),e.k0s(),e.j41(68,"th"),e.EFF(69,"CASE YEAR"),e.k0s(),e.j41(70,"th"),e.EFF(71,"DISTRICT"),e.k0s(),e.j41(72,"th"),e.EFF(73,"JUDGE NAME"),e.k0s(),e.j41(74,"th"),e.EFF(75,"FIRST PETITIONER"),e.k0s(),e.j41(76,"th"),e.EFF(77,"FIRST RESPONDENT"),e.k0s(),e.j41(78,"th"),e.EFF(79,"Disposal Date"),e.k0s()()(),e.j41(80,"tbody"),e.DNE(81,Ui,2,1,"ng-container",29),e.nI1(82,"async"),e.k0s()()()()),2&c&&(e.R7$(8),e.R50("ngModel",O.judgeName),e.R7$(13),e.R50("ngModel",O.sortBy),e.R7$(18),e.R50("ngModel",O.sortOrder),e.R7$(8),e.R50("ngModel",O.resultsPerPage),e.R7$(),e.Y8G("value",5),e.R7$(2),e.Y8G("value",10),e.R7$(2),e.Y8G("value",25),e.R7$(2),e.Y8G("value",50),e.R7$(2),e.Y8G("value",100),e.R7$(25),e.Y8G("ngIf",e.bMT(82,10,O.caseList$)))},dependencies:[f.Sq,f.bT,ln.qT,ln.xH,ln.y7,ln.me,ln.wz,ln.BC,ln.cb,ln.vS,ln.cV,v.Wk,f.Jj],styles:[".case-search-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;font-family:Arial,sans-serif;color:#333}h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem;color:#333;font-weight:400}h2[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem;color:#333;font-weight:400}.search-fields[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px;align-items:flex-end}.field-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-width:150px}label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:5px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:2px}.button-group[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:flex-end}button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:2px;cursor:pointer;font-weight:700}.search-btn[_ngcontent-%COMP%]{background-color:#465362;color:#fff}.reset-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.settings-section[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:15px;margin-bottom:20px;border-radius:2px}.settings-controls[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.setting-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:150px}.search-results[_ngcontent-%COMP%]{margin-top:20px}.no-results[_ngcontent-%COMP%]{color:#666;font-style:italic}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}li[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #eee}@media (max-width: 768px){.search-fields[_ngcontent-%COMP%], .settings-controls[_ngcontent-%COMP%]{flex-direction:column}.field-group[_ngcontent-%COMP%], .setting-group[_ngcontent-%COMP%]{width:100%}}.search-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:1200px;margin:0 auto;padding:20px}.search-form[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:20px;border-radius:5px;margin-bottom:20px}.search-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-weight:700}.form-actions[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{background-color:#06c;color:#fff}.form-actions[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:hover{background-color:#05a}.form-actions[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]{background-color:#f0f0f0;color:#333}.form-actions[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.search-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:15px;color:#333}.search-results[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%], .search-results[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{padding:20px;text-align:center;background-color:#f9f9f9;border-radius:5px}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #ddd;color:#333}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#06c;text-decoration:none}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){table[_ngcontent-%COMP%]{display:block;overflow-x:auto}}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333!important}.search-results[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#06c!important}.case-list[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.case-item[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px;border-radius:8px;margin-bottom:10px;box-shadow:0 2px 4px #0000001a}.case-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:8px;color:#333}.case-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.case-link[_ngcontent-%COMP%]{color:#337ab7;text-decoration:none}.case-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.case-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}"]})}}return d})();var gi=n(90887);let Ki=(()=>{class d{constructor(o){this.http=o,this.baseUrl=`${vl.$}/server/api/discover/search/objects`}getDateSearchResults(o="~",c,O,W="dc.title",ue="ASC",Ie=10){let rt=(new le.Nl).set("query",o||"~").set("sort",`${W},${ue}`).set("size",Ie.toString());return c&&(rt=rt.append("f",`dc.date.issued,gt:${c}`)),O&&(rt=rt.append("f",`dc.date.issued,lt:${O}`)),this.http.get(this.baseUrl,{params:rt})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();const xi=d=>["/items",d];function Lo(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",42)(2,"a",43),e.EFF(3),e.k0s()(),e.j41(4,"td",42)(5,"a",43),e.EFF(6),e.k0s()(),e.j41(7,"td",42)(8,"a",43),e.EFF(9),e.k0s()(),e.j41(10,"td",42)(11,"a",43),e.EFF(12),e.k0s()(),e.j41(13,"td",42)(14,"a",43),e.EFF(15),e.k0s()(),e.j41(16,"td",42)(17,"a",43),e.EFF(18),e.k0s()(),e.j41(19,"td",42)(20,"a",43),e.EFF(21),e.k0s()(),e.j41(22,"td",42)(23,"a",43),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,xi,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,xi,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,xi,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,xi,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,xi,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,xi,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,xi,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,xi,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function wo(d,y){if(1&d&&(e.qex(0),e.DNE(1,Lo,25,32,"tr",41),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("ngForOf",o)}}let Or=(()=>{class d{constructor(o){this.searchPageService=o,this.caseListSubject=new _.t([]),this.caseList$=this.caseListSubject.asObservable(),this.freeTextQuery="",this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10,this.startDate="",this.endDate="",this.page=0}ngOnInit(){this.freeTextQuery="~",this.fetchCases()}onSearchClick(){this.fetchCases()}onSortChange(o){this.sortBy=o,this.page=0,this.fetchCases()}fetchCases(){this.searchPageService.getDateSearchResults(this.freeTextQuery,this.startDate,this.endDate,this.sortBy,this.sortOrder,this.resultsPerPage).subscribe(o=>{this.loadCases(o)})}storeSearchTerm(){this.freeTextQuery&&"~"!==this.freeTextQuery?localStorage.setItem("pdfSearchTerm",this.freeTextQuery):localStorage.removeItem("pdfSearchTerm")}loadCases(o){const O=(o?._embedded?.searchResult?._embedded?.objects||[]).map(W=>{const ue=W?._embedded?.indexableObject;return{uuid:ue?.uuid,metadata:ue?.metadata}}).filter(W=>W.uuid&&W.metadata?.["dc.casetype"]?.[0]?.value);console.log("\u2705 Processed Case List:",O),this.caseListSubject.next(O)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Ki))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-search-page"]],decls:92,vars:6,consts:[[1,"container"],[1,"heading"],[1,"divider"],[1,"search-bar","mb-4"],[1,"row","align-items-center"],[1,"col-md-10"],["for","fuzzyQuery",1,"form-label"],["type","text","id","fuzzyQuery","name","fuzzyQuery","placeholder","Type keywords or phrases (e.g. judgment, petitioner, 2023)",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-muted"],[1,"col-md-2"],["type","button",1,"btn","btn-secondary","float-end",3,"click"],[1,"fas","fa-search"],[1,"row","mb-3"],[1,"col-md-3"],["for","sortBy"],["id","sortBy",1,"form-select",3,"change"],["value","dc.title"],["value","dc.casetype"],["value","dc.caseyear"],["value","dc.pname"],["value","dc.rname"],["value","dc.paname"],["value","dc.raname"],[1,"search-controls"],[1,"sort-container"],["for","sortOrder"],["id","sortOrder",1,"sort-select",3,"ngModelChange","change","ngModel"],["value","ASC"],["value","DESC"],[1,"results-container"],["for","resultsPerPage"],["id","resultsPerPage",1,"results-select",3,"ngModelChange","change","ngModel"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"search-results","mt-4"],[1,"showing-results"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"case-result-text"],[1,"case-link",3,"routerLink"]],template:function(c,O){1&c&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"By Fuzzy Search"),e.k0s(),e.nrm(3,"hr",2),e.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),e.EFF(8,"Fuzzy Search Query"),e.k0s(),e.j41(9,"input",7),e.mxI("ngModelChange",function(ue){return e.DH7(O.freeTextQuery,ue)||(O.freeTextQuery=ue),ue}),e.k0s(),e.j41(10,"small",8),e.EFF(11," Fuzzy search helps you find results even if your search terms are not exact. For example, searching for "),e.j41(12,"b"),e.EFF(13,"judgmnt"),e.k0s(),e.EFF(14," will also match "),e.j41(15,"b"),e.EFF(16,"judgment"),e.k0s(),e.EFF(17,"."),e.nrm(18,"br"),e.EFF(19," You can enter partial words, misspellings, or related terms to get relevant results. "),e.k0s()(),e.j41(20,"div",9)(21,"button",10),e.bIt("click",function(){return O.onSearchClick()}),e.nrm(22,"i",11),e.EFF(23," Search "),e.k0s()()()(),e.j41(24,"div",12)(25,"div",13)(26,"label",14),e.EFF(27,"Sort By:"),e.k0s(),e.j41(28,"select",15),e.bIt("change",function(ue){return O.onSortChange(ue.target.value)}),e.j41(29,"option",16),e.EFF(30,"Case Number"),e.k0s(),e.j41(31,"option",17),e.EFF(32,"Case Type"),e.k0s(),e.j41(33,"option",18),e.EFF(34,"Case Year"),e.k0s(),e.j41(35,"option",19),e.EFF(36,"First Petitioner"),e.k0s(),e.j41(37,"option",20),e.EFF(38,"First Respondent"),e.k0s(),e.j41(39,"option",21),e.EFF(40,"Petitioner's Advocate Name"),e.k0s(),e.j41(41,"option",22),e.EFF(42,"Respondent's Advocate Name"),e.k0s()()(),e.j41(43,"div",23)(44,"div",24)(45,"label",25),e.EFF(46,"Sort Order"),e.k0s(),e.j41(47,"select",26),e.mxI("ngModelChange",function(ue){return e.DH7(O.sortOrder,ue)||(O.sortOrder=ue),ue}),e.bIt("change",function(){return O.onSearchClick()}),e.j41(48,"option",27),e.EFF(49,"Ascending"),e.k0s(),e.j41(50,"option",28),e.EFF(51,"Descending"),e.k0s()()(),e.j41(52,"div",29)(53,"label",30),e.EFF(54,"Results per page"),e.k0s(),e.j41(55,"select",31),e.mxI("ngModelChange",function(ue){return e.DH7(O.resultsPerPage,ue)||(O.resultsPerPage=ue),ue}),e.bIt("change",function(){return O.onSearchClick()}),e.j41(56,"option",32),e.EFF(57,"5"),e.k0s(),e.j41(58,"option",33),e.EFF(59,"10"),e.k0s(),e.j41(60,"option",34),e.EFF(61,"20"),e.k0s(),e.j41(62,"option",35),e.EFF(63,"50"),e.k0s(),e.j41(64,"option",36),e.EFF(65,"100"),e.k0s()()()()(),e.j41(66,"div",37)(67,"div",38)(68,"span"),e.EFF(69,"Showing results:"),e.k0s()(),e.j41(70,"table",39)(71,"thead")(72,"tr")(73,"th"),e.EFF(74,"CASE TYPE"),e.k0s(),e.j41(75,"th"),e.EFF(76,"CASE NUMBER"),e.k0s(),e.j41(77,"th"),e.EFF(78,"CASE YEAR"),e.k0s(),e.j41(79,"th"),e.EFF(80,"DISTRICT"),e.k0s(),e.j41(81,"th"),e.EFF(82,"JUDGE NAME"),e.k0s(),e.j41(83,"th"),e.EFF(84,"FIRST PETITIONER"),e.k0s(),e.j41(85,"th"),e.EFF(86,"FIRST RESPONDENT"),e.k0s(),e.j41(87,"th"),e.EFF(88,"Disposal Date"),e.k0s()()(),e.j41(89,"tbody"),e.DNE(90,wo,2,1,"ng-container",40),e.nI1(91,"async"),e.k0s()()()()),2&c&&(e.R7$(9),e.R50("ngModel",O.freeTextQuery),e.R7$(38),e.R50("ngModel",O.sortOrder),e.R7$(8),e.R50("ngModel",O.resultsPerPage),e.R7$(35),e.Y8G("ngIf",e.bMT(91,4,O.caseList$)))},dependencies:[f.Sq,f.bT,ln.xH,ln.y7,ln.me,ln.wz,ln.BC,ln.vS,v.Wk,f.Jj],styles:[".container[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;max-width:1200px;margin:0 auto;padding:20px;color:#333}.heading[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin-bottom:10px;color:#333}.divider[_ngcontent-%COMP%]{border:none;border-top:1px solid #e0e0e0;margin:15px 0}.date-filter-container[_ngcontent-%COMP%]{margin-bottom:30px}.date-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.date-range[_ngcontent-%COMP%]{display:flex;align-items:center}.date-input-container[_ngcontent-%COMP%]{position:relative}.date-input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.85rem;margin-bottom:5px;color:#666}.date-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:150px;padding:8px 30px 8px 10px;border:1px solid #ccc;border-radius:4px;font-size:.9rem}.calendar-button[_ngcontent-%COMP%]{position:absolute;right:5px;background:none;border:none;cursor:pointer;color:#666}.date-separator[_ngcontent-%COMP%]{margin:0 15px;font-weight:500;font-size:1.2rem}.calendar-popup[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;width:280px;background:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:0 2px 10px #0000001a}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #eee;font-weight:500}.calendar-nav[_ngcontent-%COMP%]{display:flex;gap:5px}.nav-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:#666;font-size:1.2rem}.weekday-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);text-align:center;font-size:.8rem;font-weight:500;padding:10px 0;color:#666}.days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;padding:0 5px 10px}.day[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:30px;width:30px;border:none;background:none;border-radius:50%;cursor:pointer;font-size:.9rem}.day[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.day.selected[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}.prev-month[_ngcontent-%COMP%], .next-month[_ngcontent-%COMP%]{color:#ccc}.calendar-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;border-top:1px solid #eee}.clear-button[_ngcontent-%COMP%], .today-button[_ngcontent-%COMP%]{background:none;border:none;color:#1976d2;cursor:pointer;font-size:.9rem}.search-container[_ngcontent-%COMP%]{margin-bottom:30px}.search-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.search-controls[_ngcontent-%COMP%]{display:flex;gap:20px}.sort-container[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.sort-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:5px;color:#666}.sort-select[_ngcontent-%COMP%], .results-select[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #ccc;border-radius:4px;width:200px;font-size:.9rem}.showing-results[_ngcontent-%COMP%]{margin-bottom:15px;font-size:.9rem;color:#666}.results-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.results-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:12px 15px;text-align:left;font-weight:500;border-bottom:1px solid #ddd;font-size:.85rem}.results-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #eee;font-size:.9rem}.results-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.case-link[_ngcontent-%COMP%]{color:#337ab7;text-decoration:none}.case-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return d})();var lr=n(6983);const Fo=d=>["/items",d];function ka(d,y){if(1&d&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&d){const o=y.$implicit;e.Y8G("value",o.id),e.R7$(),e.JRh(o.name)}}function Mr(d,y){if(1&d&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&d){const o=y.$implicit;e.Y8G("value",o.value),e.R7$(),e.JRh(o.label)}}function pc(d,y){if(1&d&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&d){const o=y.$implicit;e.Y8G("value",o.value),e.R7$(),e.JRh(o.label)}}function fc(d,y){if(1&d){const o=e.RV6();e.j41(0,"span",41)(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"button",42),e.bIt("click",function(){const O=e.eBV(o).index,W=e.XpG(2);return e.Njj(W.removeFilter(O))}),e.EFF(4,"\xd7"),e.k0s()()}if(2&d){const o=y.$implicit,c=e.XpG(2);e.R7$(2),e.E5c(" ",c.getFieldLabel(o.field)," ",c.getOperatorLabel(o.operator),' "',o.value,'" ')}}function ca(d,y){if(1&d&&(e.j41(0,"div",38)(1,"div",39),e.DNE(2,fc,5,3,"span",40),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("ngForOf",o.filters)}}function Va(d,y){if(1&d&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&d){const o=y.$implicit;e.Y8G("value",o.value),e.R7$(),e.JRh(o.label)}}function Oh(d,y){if(1&d&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.SpI(" ","asc"===o.sortDirection?"\u2191":"\u2193"," ")}}function Yc(d,y){if(1&d&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.SpI(" ","asc"===o.sortDirection?"\u2191":"\u2193"," ")}}function Mh(d,y){if(1&d&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.SpI(" ","asc"===o.sortDirection?"\u2191":"\u2193"," ")}}function Up(d,y){if(1&d&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.SpI(" ","asc"===o.sortDirection?"\u2191":"\u2193"," ")}}function Td(d,y){if(1&d&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.SpI(" ","asc"===o.sortDirection?"\u2191":"\u2193"," ")}}function kp(d,y){if(1&d&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.SpI(" ","asc"===o.sortDirection?"\u2191":"\u2193"," ")}}function Xc(d,y){if(1&d&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.SpI(" ","asc"===o.sortDirection?"\u2191":"\u2193"," ")}}function mc(d,y){if(1&d&&(e.j41(0,"span",60),e.EFF(1),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.SpI(" ","asc"===o.sortDirection?"\u2191":"\u2193"," ")}}function bu(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",61)(2,"a",62),e.EFF(3),e.k0s()(),e.j41(4,"td",61)(5,"a",62),e.EFF(6),e.k0s()(),e.j41(7,"td",61)(8,"a",62),e.EFF(9),e.k0s()(),e.j41(10,"td",61)(11,"a",62),e.EFF(12),e.k0s()(),e.j41(13,"td",61)(14,"a",62),e.EFF(15),e.k0s()(),e.j41(16,"td",61)(17,"a",62),e.EFF(18),e.k0s()(),e.j41(19,"td",61)(20,"a",62),e.EFF(21),e.k0s()(),e.j41(22,"td",61)(23,"a",62),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,Fo,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,Fo,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,Fo,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,Fo,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,Fo,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,Fo,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,Fo,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,Fo,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function Vp(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",63),e.bIt("click",function(){const O=e.eBV(o).$implicit,W=e.XpG(3);return e.Njj(W.goToPage(O-1))}),e.EFF(1),e.k0s()}if(2&d){const o=y.$implicit,c=e.XpG(3);e.AVh("active",c.page===o-1)("btn-primary",c.page===o-1)("btn-outline-primary",c.page!==o-1),e.R7$(),e.SpI(" ",o," ")}}function Jc(d,y){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"div",45)(2,"span"),e.EFF(3),e.k0s()(),e.j41(4,"table",46)(5,"thead")(6,"tr")(7,"th",47),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.sortBy("dc.casetype"))}),e.EFF(8," CASE TYPE "),e.DNE(9,Oh,2,1,"span",48),e.k0s(),e.j41(10,"th",47),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.sortBy("dc.title"))}),e.EFF(11," CASE NUMBER "),e.DNE(12,Yc,2,1,"span",48),e.k0s(),e.j41(13,"th",47),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.sortBy("dc.caseyear"))}),e.EFF(14," CASE YEAR "),e.DNE(15,Mh,2,1,"span",48),e.k0s(),e.j41(16,"th",47),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.sortBy("dc.district"))}),e.EFF(17," DISTRICT "),e.DNE(18,Up,2,1,"span",48),e.k0s(),e.j41(19,"th",47),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.sortBy("dc.contributor.author"))}),e.EFF(20," JUDGE NAME "),e.DNE(21,Td,2,1,"span",48),e.k0s(),e.j41(22,"th",47),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.sortBy("dc.pname"))}),e.EFF(23," FIRST PETITIONER "),e.DNE(24,kp,2,1,"span",48),e.k0s(),e.j41(25,"th",47),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.sortBy("dc.rname"))}),e.EFF(26," FIRST RESPONDENT "),e.DNE(27,Xc,2,1,"span",48),e.k0s(),e.j41(28,"th",47),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.sortBy("dc.date.disposal"))}),e.EFF(29," Disposal Date "),e.DNE(30,mc,2,1,"span",48),e.k0s()()(),e.j41(31,"tbody"),e.DNE(32,bu,25,32,"tr",49),e.k0s()(),e.j41(33,"div",50)(34,"div",51)(35,"span"),e.EFF(36),e.k0s()(),e.j41(37,"div",52)(38,"button",53),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.firstPage())}),e.nrm(39,"i",54),e.EFF(40," First "),e.k0s(),e.j41(41,"button",53),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.prevPage())}),e.nrm(42,"i",55),e.EFF(43," Previous "),e.k0s(),e.j41(44,"div",56),e.DNE(45,Vp,2,7,"button",57),e.k0s(),e.j41(46,"button",53),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.nextPage())}),e.EFF(47," Next "),e.nrm(48,"i",58),e.k0s(),e.j41(49,"button",53),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.lastPage())}),e.EFF(50," Last "),e.nrm(51,"i",59),e.k0s()()()()}if(2&d){const o=e.XpG().ngIf,c=e.XpG();e.R7$(3),e.E5c("Showing ",c.getStartIndex()," - ",c.getEndIndex(o.length)," of ",c.totalResults," results"),e.R7$(6),e.Y8G("ngIf","dc.casetype"===c.sortField),e.R7$(3),e.Y8G("ngIf","dc.title"===c.sortField),e.R7$(3),e.Y8G("ngIf","dc.caseyear"===c.sortField),e.R7$(3),e.Y8G("ngIf","dc.district"===c.sortField),e.R7$(3),e.Y8G("ngIf","dc.contributor.author"===c.sortField),e.R7$(3),e.Y8G("ngIf","dc.pname"===c.sortField),e.R7$(3),e.Y8G("ngIf","dc.rname"===c.sortField),e.R7$(3),e.Y8G("ngIf","dc.date.disposal"===c.sortField),e.R7$(2),e.Y8G("ngForOf",o),e.R7$(4),e.Lme("Page ",c.page+1," of ",c.getTotalPages(),""),e.R7$(2),e.Y8G("disabled",0===c.page),e.R7$(3),e.Y8G("disabled",0===c.page),e.R7$(4),e.Y8G("ngForOf",c.getVisiblePageNumbers()),e.R7$(),e.Y8G("disabled",(c.page+1)*c.size>=c.totalResults),e.R7$(3),e.Y8G("disabled",(c.page+1)*c.size>=c.totalResults)}}function Sh(d,y){1&d&&(e.j41(0,"div",64),e.EFF(1,"No results found."),e.k0s())}function Gp(d,y){if(1&d&&(e.j41(0,"div",43),e.DNE(1,Jc,52,19,"div",44)(2,Sh,2,0,"ng-template",null,0,e.C5r),e.k0s()),2&d){const o=y.ngIf,c=e.sdS(3);e.R7$(),e.Y8G("ngIf",o.length>0)("ngIfElse",c)}}let $p=(()=>{class d{constructor(o,c){this.searchService=o,this.collectionDataService=c,this.filters=[],this.collections=[],this.selectedCollectionId="",this.availableFields=[{label:"Case Number",value:"title"},{label:"Judge Name",value:"author"},{label:"Case Year",value:"dc_case_year"},{label:"Case Type",value:"dc_case_type"},{label:"Petitioner Name",value:"dc_party_firstpetitioner"},{label:"Respondent Name",value:"dc_party_firstrespondent"},{label:"District",value:"dc_case_district"},{label:"Petitioner Advocate Name",value:"dc_advocate_firstpetitioner"},{label:"Respondent Advocate Name",value:"dc_advocate_firstrespondent"},{label:"Date of Case Disposal",value:"dc_case_disposaldate"},{label:"Batch Name",value:"dc_case_batchnumber"},{label:"Section",value:"dc.section"}],this.availableOperators=[{label:"Equals",value:"equals"},{label:"Not Equals",value:"notequals"},{label:"Contains",value:"contains"},{label:"Not Contains",value:"notcontains"}],this.newFilter={field:"dc.title",operator:"equals",value:""},this.results$=new _.t([]),this.loading=!1,this.error="",this.page=0,this.size=10,this.totalResults=0,this.sortField="",this.sortDirection="asc",this.sortableFields=[{label:"Case Type",value:"dc.casetype"},{label:"Case Number",value:"dc.title"},{label:"Case Year",value:"dc.caseyear"},{label:"District",value:"dc.district"},{label:"Judge Name",value:"dc.contributor.author"},{label:"First Petitioner",value:"dc.pname"},{label:"First Respondent",value:"dc.rname"},{label:"Disposal Date",value:"dc.date.disposal"}]}ngOnInit(){this.collectionDataService.findAll({elementsPerPage:1e3}).subscribe(o=>{o&&o.payload&&(this.collections=o.payload.page)})}addFilter(){this.newFilter.value.trim()&&(this.filters.push({...this.newFilter,field:this.newFilter.field}),this.newFilter={field:"title",operator:"equals",value:""})}removeFilter(o){this.filters.splice(o,1)}search(){this.loading=!0,this.error="";let o=new le.Nl;this.filters.forEach(c=>{o=o.append(`f.${c.field}`,`${c.value},${c.operator}`)}),o=o.set("page",this.page.toString()),o=o.set("size",this.size.toString()),this.selectedCollectionId&&(o=o.set("scope",this.selectedCollectionId)),this.sortField&&(o=o.set("sort",`${this.sortField},${this.sortDirection}`)),this.searchService.getSearchResultsWithFilters(o).subscribe({next:c=>{const W=(c?._embedded?.searchResult?._embedded?.objects||[]).map(ue=>ue?._embedded?.indexableObject);this.results$.next(W),this.totalResults=c?._embedded?.searchResult?.page?.totalElements||0,this.loading=!1},error:c=>{this.error="Search failed.",this.loading=!1}})}onSortChange(){this.filters.length>0&&(this.page=0,this.search())}sortBy(o){this.sortField===o?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortField=o,this.sortDirection="asc"),this.filters.length>0&&(this.page=0,this.search())}nextPage(){(this.page+1)*this.size<this.totalResults&&(this.page++,this.search())}prevPage(){this.page>0&&(this.page--,this.search())}firstPage(){0!==this.page&&(this.page=0,this.search())}lastPage(){const o=Math.ceil(this.totalResults/this.size)-1;this.page!==o&&(this.page=o,this.search())}goToPage(o){o>=0&&o<this.getTotalPages()&&(this.page=o,this.search())}onPageSizeChange(){this.page=0,this.filters.length>0&&this.search()}getTotalPages(){return this.totalResults?Math.ceil(this.totalResults/this.size):1}getStartIndex(){return 0===this.totalResults?0:this.page*this.size+1}getEndIndex(o){return this.page*this.size+o}getVisiblePageNumbers(){const o=this.getTotalPages(),c=this.page+1,O=[];if(o<=7)for(let W=1;W<=o;W++)O.push(W);else{const W=Math.max(1,c-2),ue=Math.min(o,c+2);W>1&&(O.push(1),W>2&&O.push(-1));for(let Ie=W;Ie<=ue;Ie++)O.push(Ie);ue<o&&(ue<o-1&&O.push(-1),O.push(o))}return O.filter(W=>-1!==W)}getFieldLabel(o){const c=this.availableFields.find(O=>O.value===o);return c?c.label:o}getOperatorLabel(o){const c=this.availableOperators.find(O=>O.value===o);return c?c.label:o}resetFilters(){this.filters=[],this.newFilter={field:"title",operator:"equals",value:""},this.results$.next([]),this.page=0,this.totalResults=0,this.error="",this.sortField="",this.sortDirection="asc"}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Fp),e.rXU(lr.CollectionDataService))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-boolean-search"]],decls:66,vars:18,consts:[["noResults",""],[1,"boolean-search-container"],[1,"form-group"],["for","collection-select",1,"form-label"],["id","collection-select",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"search-form-row"],["for","field-select",1,"form-label"],["id","field-select",1,"form-control",3,"ngModelChange","ngModel"],["for","operator-select",1,"form-label"],["id","operator-select",1,"form-control",3,"ngModelChange","ngModel"],["for","value-input",1,"form-label"],["id","value-input",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"form-label"],[1,"btn","btn-primary",3,"click","disabled"],["class","conditions-row",4,"ngIf"],[1,"controls-row"],[1,"sort-controls"],["for","sort-field",1,"form-label"],["id","sort-field",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"sort-direction"],["for","sort-direction",1,"form-label"],["id","sort-direction",1,"form-control",3,"ngModelChange","change","ngModel"],["value","asc"],["value","desc"],[1,"page-size"],["for","page-size",1,"form-label"],["id","page-size",1,"form-control",3,"ngModelChange","change","ngModel"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"action-row"],[1,"btn","btn-success",3,"click","disabled"],[1,"btn","btn-outline-secondary",3,"click"],["class","results-section",4,"ngIf"],[3,"value"],[1,"conditions-row"],[1,"d-flex","flex-wrap","gap-2"],["class","filter-chip",4,"ngFor","ngForOf"],[1,"filter-chip"],[1,"remove-btn",3,"click"],[1,"results-section"],[4,"ngIf","ngIfElse"],[1,"results-summary"],[1,"table","table-striped","table-hover"],[1,"sortable-header",3,"click"],["class","sort-indicator",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pagination-controls"],[1,"pagination-info"],[1,"pagination-buttons"],[1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fas","fa-angle-double-left"],[1,"fas","fa-angle-left"],[1,"page-numbers"],["class","btn btn-sm",3,"active","btn-primary","btn-outline-primary","click",4,"ngFor","ngForOf"],[1,"fas","fa-angle-right"],[1,"fas","fa-angle-double-right"],[1,"sort-indicator"],[1,"case-result-text"],[1,"case-link",3,"routerLink"],[1,"btn","btn-sm",3,"click"],[1,"alert","alert-info"]],template:function(c,O){1&c&&(e.j41(0,"div",1)(1,"h2"),e.EFF(2,"Advanced Boolean Search"),e.k0s(),e.j41(3,"div",2)(4,"label",3),e.EFF(5,"Search"),e.k0s(),e.j41(6,"select",4),e.mxI("ngModelChange",function(ue){return e.DH7(O.selectedCollectionId,ue)||(O.selectedCollectionId=ue),ue}),e.j41(7,"option",5),e.EFF(8,"All of DSpace"),e.k0s(),e.DNE(9,ka,2,2,"option",6),e.k0s()(),e.j41(10,"div",7)(11,"div",2)(12,"label",8),e.EFF(13,"Field"),e.k0s(),e.j41(14,"select",9),e.mxI("ngModelChange",function(ue){return e.DH7(O.newFilter.field,ue)||(O.newFilter.field=ue),ue}),e.DNE(15,Mr,2,2,"option",6),e.k0s()(),e.j41(16,"div",2)(17,"label",10),e.EFF(18,"Operator"),e.k0s(),e.j41(19,"select",11),e.mxI("ngModelChange",function(ue){return e.DH7(O.newFilter.operator,ue)||(O.newFilter.operator=ue),ue}),e.DNE(20,pc,2,2,"option",6),e.k0s()(),e.j41(21,"div",2)(22,"label",12),e.EFF(23,"Value"),e.k0s(),e.j41(24,"input",13),e.mxI("ngModelChange",function(ue){return e.DH7(O.newFilter.value,ue)||(O.newFilter.value=ue),ue}),e.k0s()(),e.j41(25,"div",2)(26,"label",14),e.EFF(27,"\xa0"),e.k0s(),e.j41(28,"button",15),e.bIt("click",function(){return O.addFilter()}),e.EFF(29,"Add"),e.k0s()()(),e.DNE(30,ca,3,1,"div",16),e.j41(31,"div",17)(32,"div",18)(33,"label",19),e.EFF(34,"Sort by"),e.k0s(),e.j41(35,"select",20),e.mxI("ngModelChange",function(ue){return e.DH7(O.sortField,ue)||(O.sortField=ue),ue}),e.bIt("change",function(){return O.onSortChange()}),e.j41(36,"option",5),e.EFF(37,"-- Select field --"),e.k0s(),e.DNE(38,Va,2,2,"option",6),e.k0s()(),e.j41(39,"div",21)(40,"label",22),e.EFF(41,"Order"),e.k0s(),e.j41(42,"select",23),e.mxI("ngModelChange",function(ue){return e.DH7(O.sortDirection,ue)||(O.sortDirection=ue),ue}),e.bIt("change",function(){return O.onSortChange()}),e.j41(43,"option",24),e.EFF(44,"Ascending"),e.k0s(),e.j41(45,"option",25),e.EFF(46,"Descending"),e.k0s()()(),e.j41(47,"div",26)(48,"label",27),e.EFF(49,"Results per page"),e.k0s(),e.j41(50,"select",28),e.mxI("ngModelChange",function(ue){return e.DH7(O.size,ue)||(O.size=ue),ue}),e.bIt("change",function(){return O.onPageSizeChange()}),e.j41(51,"option",29),e.EFF(52,"10"),e.k0s(),e.j41(53,"option",30),e.EFF(54,"20"),e.k0s(),e.j41(55,"option",31),e.EFF(56,"50"),e.k0s(),e.j41(57,"option",32),e.EFF(58,"100"),e.k0s()()()(),e.j41(59,"div",33)(60,"button",34),e.bIt("click",function(){return O.search()}),e.EFF(61,"Search"),e.k0s(),e.j41(62,"button",35),e.bIt("click",function(){return O.resetFilters()}),e.EFF(63,"Reset"),e.k0s()()(),e.DNE(64,Gp,4,2,"div",36),e.nI1(65,"async")),2&c&&(e.R7$(6),e.R50("ngModel",O.selectedCollectionId),e.R7$(3),e.Y8G("ngForOf",O.collections),e.R7$(5),e.R50("ngModel",O.newFilter.field),e.R7$(),e.Y8G("ngForOf",O.availableFields),e.R7$(4),e.R50("ngModel",O.newFilter.operator),e.R7$(),e.Y8G("ngForOf",O.availableOperators),e.R7$(4),e.R50("ngModel",O.newFilter.value),e.Y8G("placeholder","e.g. Smith, 2023, Civil"),e.R7$(4),e.Y8G("disabled",!O.newFilter.value.trim()),e.R7$(2),e.Y8G("ngIf",O.filters.length>0),e.R7$(5),e.R50("ngModel",O.sortField),e.R7$(3),e.Y8G("ngForOf",O.sortableFields),e.R7$(4),e.R50("ngModel",O.sortDirection),e.R7$(8),e.R50("ngModel",O.size),e.R7$(10),e.Y8G("disabled",0===O.filters.length),e.R7$(4),e.Y8G("ngIf",e.bMT(65,16,O.results$)))},dependencies:[f.Sq,f.bT,ln.xH,ln.y7,ln.me,ln.wz,ln.BC,ln.vS,v.Wk,f.Jj],styles:[".boolean-search-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}h2[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.5rem;color:#2c3e50;font-weight:600}.search-description[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#6c757d;font-size:.95rem}.search-form-row[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:1rem;margin-bottom:1rem;flex-wrap:wrap}.form-group[_ngcontent-%COMP%]{flex:1;min-width:150px;margin-bottom:0}.form-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.25rem;color:#495057;font-size:.875rem}.help-text[_ngcontent-%COMP%]{font-size:.9em;color:#6c757d;margin-left:.5rem}.form-control[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:.375rem;padding:.375rem .75rem;font-size:.875rem;height:38px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{border-color:#86b7fe;box-shadow:0 0 0 .25rem #0d6efd40}.btn[_ngcontent-%COMP%]{border-radius:.375rem;font-weight:500;transition:all .15s ease-in-out;height:38px;padding:.375rem .75rem;font-size:.875rem}.btn-sm[_ngcontent-%COMP%]{height:32px;padding:.25rem .5rem;font-size:.8rem}.btn-primary[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{background-color:#465362;border-color:#465362}.btn-primary[_ngcontent-%COMP%]:hover, .btn-success[_ngcontent-%COMP%]:hover{background-color:#2e3540;border-color:#2e3540}.btn-outline-secondary[_ngcontent-%COMP%]{color:#6c757d;border-color:#6c757d}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:#6c757d;border-color:#6c757d}.btn-outline-primary[_ngcontent-%COMP%]{color:#0d6efd;border-color:#0d6efd}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#0d6efd;border-color:#0d6efd}.conditions-row[_ngcontent-%COMP%]{margin-bottom:1rem;padding:.5rem 0;border-top:1px solid #dee2e6;border-bottom:1px solid #dee2e6}.filter-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;background:#e9ecef;color:#495057;border-radius:1rem;padding:.25rem .5rem;font-size:.75rem;margin-right:.5rem;margin-bottom:.25rem;border:1px solid #dee2e6}.remove-btn[_ngcontent-%COMP%]{background:none;border:none;color:#dc3545;font-weight:700;cursor:pointer;margin-left:.25rem;padding:0;font-size:.875rem;line-height:1;border-radius:50%;width:16px;height:16px;display:flex;align-items:center;justify-content:center;transition:background-color .15s ease-in-out}.remove-btn[_ngcontent-%COMP%]:hover{background-color:#f8d7da;color:#721c24}.controls-row[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:1rem;margin-bottom:1rem;flex-wrap:wrap}.sort-controls[_ngcontent-%COMP%], .sort-direction[_ngcontent-%COMP%], .page-size[_ngcontent-%COMP%]{flex:1;min-width:120px}.action-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.example-usage[_ngcontent-%COMP%]{margin-top:1.5rem;font-size:.9rem;color:#6c757d;background:#f8f9fa;padding:1rem;border-radius:.375rem;border-left:4px solid #0d6efd}.results-section[_ngcontent-%COMP%]{margin-top:2rem;margin-left:2rem;margin-right:2rem}.results-summary[_ngcontent-%COMP%]{margin-bottom:1rem;padding:.5rem 0;color:#6c757d;font-size:.875rem;border-bottom:1px solid #dee2e6}.table[_ngcontent-%COMP%]{background:#fff;border-radius:.375rem;overflow:hidden;box-shadow:0 .125rem .25rem #00000013}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:2px solid #dee2e6;font-weight:600;color:#495057;padding:.75rem}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;border-bottom:1px solid #dee2e6;vertical-align:middle}.sortable-header[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;position:relative;transition:background-color .15s ease-in-out}.sortable-header[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.sort-indicator[_ngcontent-%COMP%]{margin-left:.5rem;font-weight:700;color:#0d6efd}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#00000005}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#00000013}.case-result-text[_ngcontent-%COMP%]{padding:0}.case-link[_ngcontent-%COMP%]{color:#0d6efd;text-decoration:none;font-weight:500;transition:color .15s ease-in-out}.case-link[_ngcontent-%COMP%]:hover{color:#0a58ca;text-decoration:underline}.pagination-controls[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem 0;border-top:1px solid #dee2e6;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}.pagination-info[_ngcontent-%COMP%]{color:#6c757d;font-size:.875rem}.pagination-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.page-numbers[_ngcontent-%COMP%]{display:flex;gap:.25rem;align-items:center}.page-numbers[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:36px;height:32px;padding:.25rem .5rem;font-size:.8rem}.alert[_ngcontent-%COMP%]{border-radius:.375rem;padding:.75rem 1rem}.alert-info[_ngcontent-%COMP%]{color:#055160;background-color:#cff4fc;border:1px solid #b6effb}@media (max-width: 992px){.search-form-row[_ngcontent-%COMP%], .controls-row[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%], .sort-controls[_ngcontent-%COMP%], .sort-direction[_ngcontent-%COMP%], .page-size[_ngcontent-%COMP%]{min-width:auto}.action-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.btn[_ngcontent-%COMP%]{width:100%}.pagination-controls[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.pagination-buttons[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 768px){.boolean-search-container[_ngcontent-%COMP%]{margin:.5rem 1rem 1rem}h2[_ngcontent-%COMP%]{font-size:1.25rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;font-size:.875rem}.filter-chip[_ngcontent-%COMP%]{font-size:.7rem;padding:.2rem .4rem}.page-numbers[_ngcontent-%COMP%]{gap:.125rem}.page-numbers[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:32px;height:28px;font-size:.75rem}}@media (max-width: 576px){.boolean-search-container[_ngcontent-%COMP%]{margin:.25rem .5rem .5rem}.pagination-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.page-numbers[_ngcontent-%COMP%]{order:-1}}"]})}}return d})(),gc=(()=>{class d{constructor(o){this.http=o,this.baseUrl=`${vl.$}/server/api/discover/search/objects`}getProximitySearchResults(o='"JUSTICE ROUTRAY"~3',c="dc.title",O="ASC",W=10,ue,Ie){let rt=(new le.Nl).set("query",o).set("sort",`${c},${O}`).set("size",W.toString());return ue&&(rt=rt.append("f",`dc.date.issued,gt:${ue}`)),Ie&&(rt=rt.append("f",`dc.date.issued,lt:${Ie}`)),this.http.get(this.baseUrl,{params:rt})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();const Ol=d=>["/items",d];function Cv(d,y){if(1&d){const o=e.RV6();e.qex(0),e.j41(1,"label",42),e.EFF(2,"Wildcard Query"),e.k0s(),e.j41(3,"input",43),e.mxI("ngModelChange",function(O){e.eBV(o);const W=e.XpG();return e.DH7(W.wildcardQuery,O)||(W.wildcardQuery=O),e.Njj(O)}),e.k0s(),e.j41(4,"small",44),e.EFF(5,"Use * for any number of characters, ? for a single character. Example: "),e.j41(6,"b"),e.EFF(7,"petiti*"),e.k0s(),e.EFF(8," will match 'petitioner', 'petition', etc."),e.k0s(),e.bVm()}if(2&d){const o=e.XpG();e.R7$(3),e.R50("ngModel",o.wildcardQuery)}}function $m(d,y){if(1&d){const o=e.RV6();e.j41(0,"label",45),e.EFF(1,"Proximity Query"),e.k0s(),e.j41(2,"input",46),e.mxI("ngModelChange",function(O){e.eBV(o);const W=e.XpG();return e.DH7(W.proximityQuery,O)||(W.proximityQuery=O),e.Njj(O)}),e.k0s(),e.j41(3,"small",44),e.EFF(4,"Enter words in quotes followed by ~ and a number. Example: "),e.j41(5,"b"),e.EFF(6,'"JUSTICE ROUTRAY"~3'),e.k0s(),e.EFF(7," finds cases where these words appear within 3 words of each other."),e.k0s()}if(2&d){const o=e.XpG();e.R7$(2),e.R50("ngModel",o.proximityQuery)}}function Ih(d,y){if(1&d&&(e.j41(0,"tr")(1,"td",48)(2,"a",49),e.EFF(3),e.k0s()(),e.j41(4,"td",48)(5,"a",49),e.EFF(6),e.k0s()(),e.j41(7,"td",48)(8,"a",49),e.EFF(9),e.k0s()(),e.j41(10,"td",48)(11,"a",49),e.EFF(12),e.k0s()(),e.j41(13,"td",48)(14,"a",49),e.EFF(15),e.k0s()(),e.j41(16,"td",48)(17,"a",49),e.EFF(18),e.k0s()(),e.j41(19,"td",48)(20,"a",49),e.EFF(21),e.k0s()(),e.j41(22,"td",48)(23,"a",49),e.EFF(24),e.k0s()()()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("routerLink",e.eq3(16,Ol,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.casetype"]||null==o.metadata["dc.casetype"][0]?null:o.metadata["dc.casetype"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(18,Ol,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.title"]||null==o.metadata["dc.title"][0]?null:o.metadata["dc.title"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(20,Ol,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.caseyear"]||null==o.metadata["dc.caseyear"][0]?null:o.metadata["dc.caseyear"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(22,Ol,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.district"]||null==o.metadata["dc.district"][0]?null:o.metadata["dc.district"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(24,Ol,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.contributor.author"]||null==o.metadata["dc.contributor.author"][0]?null:o.metadata["dc.contributor.author"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(26,Ol,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.pname"]||null==o.metadata["dc.pname"][0]?null:o.metadata["dc.pname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(28,Ol,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.rname"]||null==o.metadata["dc.rname"][0]?null:o.metadata["dc.rname"][0].value)||"N/A"," "),e.R7$(2),e.Y8G("routerLink",e.eq3(30,Ol,o.uuid)),e.R7$(),e.SpI(" ",(null==o.metadata||null==o.metadata["dc.date.disposal"]||null==o.metadata["dc.date.disposal"][0]?null:o.metadata["dc.date.disposal"][0].value)||"N/A"," ")}}function bv(d,y){if(1&d&&(e.qex(0),e.DNE(1,Ih,25,32,"tr",47),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("ngForOf",o)}}let Tv=(()=>{class d{constructor(o,c){this.proximitySearchService=o,this.freeTextService=c,this.caseListSubject=new _.t([]),this.caseList$=this.caseListSubject.asObservable(),this.mode="wildcard",this.wildcardQuery="*",this.proximityQuery='"JUSTICE ROUTRAY"~3',this.sortBy="dc.title",this.sortOrder="ASC",this.resultsPerPage=10,this.startDate="",this.endDate="",this.page=0}ngOnInit(){this.fetchCases()}setMode(o){this.mode=o,this.fetchCases()}onSearchClick(){this.fetchCases()}onSortChange(o){this.sortBy=o,this.page=0,this.fetchCases()}fetchCases(){"wildcard"===this.mode?this.freeTextService.getDateSearchResults(this.wildcardQuery,this.startDate,this.endDate,this.sortBy,this.sortOrder,this.resultsPerPage).subscribe(o=>{this.loadCases(o)}):this.proximitySearchService.getProximitySearchResults(this.proximityQuery,this.sortBy,this.sortOrder,this.resultsPerPage,this.startDate,this.endDate).subscribe(o=>{this.loadCases(o)})}loadCases(o){const O=(o?._embedded?.searchResult?._embedded?.objects||[]).map(W=>{const ue=W?._embedded?.indexableObject;return{uuid:ue?.uuid,metadata:ue?.metadata}}).filter(W=>W.uuid&&W.metadata?.["dc.casetype"]?.[0]?.value);this.caseListSubject.next(O)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(gc),e.rXU(eo))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-proximity-search"]],decls:85,vars:9,consts:[["proximityBlock",""],[1,"container"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"heading","mb-0"],[1,"btn","btn-outline-primary",3,"click"],[1,"divider"],[1,"search-bar","mb-4"],[1,"row","align-items-center"],[1,"col-md-10"],[4,"ngIf","ngIfElse"],[1,"col-md-2"],["type","button",1,"btn","btn-secondary","float-end",3,"click"],[1,"fas","fa-search"],[1,"row","mb-3"],[1,"col-md-3"],["for","sortBy"],["id","sortBy",1,"form-select",3,"change"],["value","dc.title"],["value","dc.casetype"],["value","dc.caseyear"],["value","dc.pname"],["value","dc.rname"],["value","dc.paname"],["value","dc.raname"],[1,"search-controls"],[1,"sort-container"],["for","sortOrder"],["id","sortOrder",1,"sort-select",3,"ngModelChange","change","ngModel"],["value","ASC"],["value","DESC"],[1,"results-container"],["for","resultsPerPage"],["id","resultsPerPage",1,"results-select",3,"ngModelChange","change","ngModel"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"search-results","mt-4"],[1,"showing-results"],[1,"table"],[4,"ngIf"],["for","wildcardQuery",1,"form-label"],["type","text","id","wildcardQuery","name","wildcardQuery","placeholder","Enter * for all, or use ? and * as wildcards (e.g. petiti*)",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-muted"],["for","proximityQuery",1,"form-label"],["type","text","id","proximityQuery","name","proximityQuery","placeholder",'e.g. "JUSTICE ROUTRAY"~3 (finds words within 3 words of each other)',1,"form-control",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[1,"case-result-text"],[1,"case-link",3,"routerLink"]],template:function(c,O){if(1&c){const W=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"h2",3),e.EFF(3),e.k0s(),e.j41(4,"button",4),e.bIt("click",function(){return e.eBV(W),e.Njj(O.setMode("wildcard"===O.mode?"proximity":"wildcard"))}),e.EFF(5),e.k0s()(),e.nrm(6,"hr",5),e.j41(7,"div",6)(8,"div",7)(9,"div",8),e.DNE(10,Cv,9,1,"ng-container",9)(11,$m,8,1,"ng-template",null,0,e.C5r),e.k0s(),e.j41(13,"div",10)(14,"button",11),e.bIt("click",function(){return e.eBV(W),e.Njj(O.onSearchClick())}),e.nrm(15,"i",12),e.EFF(16," Search "),e.k0s()()()(),e.j41(17,"div",13)(18,"div",14)(19,"label",15),e.EFF(20,"Sort By:"),e.k0s(),e.j41(21,"select",16),e.bIt("change",function(Ie){return e.eBV(W),e.Njj(O.onSortChange(Ie.target.value))}),e.j41(22,"option",17),e.EFF(23,"Case Number"),e.k0s(),e.j41(24,"option",18),e.EFF(25,"Case Type"),e.k0s(),e.j41(26,"option",19),e.EFF(27,"Case Year"),e.k0s(),e.j41(28,"option",20),e.EFF(29,"First Petitioner"),e.k0s(),e.j41(30,"option",21),e.EFF(31,"First Respondent"),e.k0s(),e.j41(32,"option",22),e.EFF(33,"Petitioner's Advocate Name"),e.k0s(),e.j41(34,"option",23),e.EFF(35,"Respondent's Advocate Name"),e.k0s()()(),e.j41(36,"div",24)(37,"div",25)(38,"label",26),e.EFF(39,"Sort Order"),e.k0s(),e.j41(40,"select",27),e.mxI("ngModelChange",function(Ie){return e.eBV(W),e.DH7(O.sortOrder,Ie)||(O.sortOrder=Ie),e.Njj(Ie)}),e.bIt("change",function(){return e.eBV(W),e.Njj(O.onSearchClick())}),e.j41(41,"option",28),e.EFF(42,"Ascending"),e.k0s(),e.j41(43,"option",29),e.EFF(44,"Descending"),e.k0s()()(),e.j41(45,"div",30)(46,"label",31),e.EFF(47,"Results per page"),e.k0s(),e.j41(48,"select",32),e.mxI("ngModelChange",function(Ie){return e.eBV(W),e.DH7(O.resultsPerPage,Ie)||(O.resultsPerPage=Ie),e.Njj(Ie)}),e.bIt("change",function(){return e.eBV(W),e.Njj(O.onSearchClick())}),e.j41(49,"option",33),e.EFF(50,"5"),e.k0s(),e.j41(51,"option",34),e.EFF(52,"10"),e.k0s(),e.j41(53,"option",35),e.EFF(54,"20"),e.k0s(),e.j41(55,"option",36),e.EFF(56,"50"),e.k0s(),e.j41(57,"option",37),e.EFF(58,"100"),e.k0s()()()()(),e.j41(59,"div",38)(60,"div",39)(61,"span"),e.EFF(62,"Showing results:"),e.k0s()(),e.j41(63,"table",40)(64,"thead")(65,"tr")(66,"th"),e.EFF(67,"CASE TYPE"),e.k0s(),e.j41(68,"th"),e.EFF(69,"CASE NUMBER"),e.k0s(),e.j41(70,"th"),e.EFF(71,"CASE YEAR"),e.k0s(),e.j41(72,"th"),e.EFF(73,"DISTRICT"),e.k0s(),e.j41(74,"th"),e.EFF(75,"JUDGE NAME"),e.k0s(),e.j41(76,"th"),e.EFF(77,"FIRST PETITIONER"),e.k0s(),e.j41(78,"th"),e.EFF(79,"FIRST RESPONDENT"),e.k0s(),e.j41(80,"th"),e.EFF(81,"Disposal Date"),e.k0s()()(),e.j41(82,"tbody"),e.DNE(83,bv,2,1,"ng-container",41),e.nI1(84,"async"),e.k0s()()()()}if(2&c){const W=e.sdS(12);e.R7$(3),e.SpI(" ","wildcard"===O.mode?"By Wildcard Search":"By Proximity Search"," "),e.R7$(2),e.SpI(" ","wildcard"===O.mode?"By Proximity Search":"By Wildcard Search"," "),e.R7$(5),e.Y8G("ngIf","wildcard"===O.mode)("ngIfElse",W),e.R7$(30),e.R50("ngModel",O.sortOrder),e.R7$(8),e.R50("ngModel",O.resultsPerPage),e.R7$(35),e.Y8G("ngIf",e.bMT(84,7,O.caseList$))}},dependencies:[f.Sq,f.bT,ln.xH,ln.y7,ln.me,ln.wz,ln.BC,ln.vS,v.Wk,f.Jj],styles:[".container[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;max-width:1200px;margin:0 auto;padding:20px;color:#333}.heading[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin-bottom:10px;color:#333}.divider[_ngcontent-%COMP%]{border:none;border-top:1px solid #e0e0e0;margin:15px 0}.date-filter-container[_ngcontent-%COMP%]{margin-bottom:30px}.date-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.date-range[_ngcontent-%COMP%]{display:flex;align-items:center}.date-input-container[_ngcontent-%COMP%]{position:relative}.date-input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.85rem;margin-bottom:5px;color:#666}.date-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:150px;padding:8px 30px 8px 10px;border:1px solid #ccc;border-radius:4px;font-size:.9rem}.calendar-button[_ngcontent-%COMP%]{position:absolute;right:5px;background:none;border:none;cursor:pointer;color:#666}.date-separator[_ngcontent-%COMP%]{margin:0 15px;font-weight:500;font-size:1.2rem}.calendar-popup[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;width:280px;background:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:0 2px 10px #0000001a}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #eee;font-weight:500}.calendar-nav[_ngcontent-%COMP%]{display:flex;gap:5px}.nav-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:#666;font-size:1.2rem}.weekday-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);text-align:center;font-size:.8rem;font-weight:500;padding:10px 0;color:#666}.days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:2px;padding:0 5px 10px}.day[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:30px;width:30px;border:none;background:none;border-radius:50%;cursor:pointer;font-size:.9rem}.day[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.day.selected[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}.prev-month[_ngcontent-%COMP%], .next-month[_ngcontent-%COMP%]{color:#ccc}.calendar-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;border-top:1px solid #eee}.clear-button[_ngcontent-%COMP%], .today-button[_ngcontent-%COMP%]{background:none;border:none;color:#1976d2;cursor:pointer;font-size:.9rem}.search-container[_ngcontent-%COMP%]{margin-bottom:30px}.search-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.search-controls[_ngcontent-%COMP%]{display:flex;gap:20px}.sort-container[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.sort-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .results-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:5px;color:#666}.sort-select[_ngcontent-%COMP%], .results-select[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #ccc;border-radius:4px;width:200px;font-size:.9rem}.showing-results[_ngcontent-%COMP%]{margin-bottom:15px;font-size:.9rem;color:#666}.results-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.results-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:12px 15px;text-align:left;font-weight:500;border-bottom:1px solid #ddd;font-size:.85rem}.results-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #eee;font-size:.9rem}.results-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.case-link[_ngcontent-%COMP%]{color:#337ab7;text-decoration:none}.case-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return d})();var Wp=n(70980),_c=n(27468);let Ph=(()=>{class d{constructor(o){this.http=o,this.baseUrl=`${vl.$}/server/api`}generate(o){return this.http.post(`${this.baseUrl}/export/zip/${o}`,{})}getRecords(){return this.http.get(`${this.baseUrl}/cnr/records`)}submitCase(o){const c=(new le.Nl).set("cnr",o);return this.http.post(`${this.baseUrl}/jtdr/submit`,null,{params:c})}checkStatus(o){return this.http.get(`${this.baseUrl}/jtdr/status/${o}`)}getSearchResults(o){const c=(new le.Nl).set("query",o);return this.http.get(`${this.baseUrl}/discover/search/objects`,{params:c})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();const Kp=()=>({"background-color":"#77BFBF","border-color":"#5aa0a0"});function Wm(d,y){1&d&&e.nrm(0,"span",17)}function Qc(d,y){1&d&&e.nrm(0,"span",17)}function Km(d,y){1&d&&e.nrm(0,"span",17)}function Rh(d,y){if(1&d){const o=e.RV6();e.j41(0,"tr")(1,"td")(2,"input",24),e.mxI("ngModelChange",function(O){const W=e.eBV(o).$implicit;return e.DH7(W.selected,O)||(W.selected=O),e.Njj(O)}),e.bIt("change",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.onSearchSelectionChange())}),e.k0s()(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.nI1(9,"date"),e.k0s()()}if(2&d){const o=y.$implicit;e.R7$(2),e.R50("ngModel",o.selected),e.R7$(2),e.JRh(o.cino),e.R7$(2),e.JRh(o.fileName),e.R7$(2),e.JRh(e.i5U(9,4,o.createdAt,"short"))}}function Ah(d,y){if(1&d&&(e.j41(0,"div",18)(1,"div",19)(2,"h5",20),e.EFF(3,"Search Results"),e.k0s()(),e.j41(4,"div",21)(5,"table",22)(6,"thead")(7,"tr")(8,"th"),e.EFF(9,"Select"),e.k0s(),e.j41(10,"th"),e.EFF(11,"CINO Number"),e.k0s(),e.j41(12,"th"),e.EFF(13,"File Name"),e.k0s(),e.j41(14,"th"),e.EFF(15,"Created At"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,Rh,10,7,"tr",23),e.k0s()()()()),2&d){const o=e.XpG();e.R7$(17),e.Y8G("ngForOf",o.searchResults)}}function Zc(d,y){if(1&d&&(e.j41(0,"div",25),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.SpI(' No records found for "',o.searchQuery,'". ')}}function Dv(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2).$implicit,W=e.XpG(2);return e.Njj(W.submitFile(O))}),e.EFF(1," Submit "),e.k0s()}}function Ov(d,y){1&d&&(e.j41(0,"button",33),e.nrm(1,"span",17),e.EFF(2," Submitting... "),e.k0s()),2&d&&e.Y8G("ngStyle",e.lJ4(1,Kp))}function Hp(d,y){1&d&&(e.j41(0,"button",34),e.EFF(1," Submitted "),e.k0s())}function Hm(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",35),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2).$implicit,W=e.XpG(2);return e.Njj(W.submitFile(O))}),e.EFF(1," Retry Submit "),e.k0s()}}function wh(d,y){if(1&d&&(e.qex(0,27),e.DNE(1,Dv,2,0,"button",28)(2,Ov,3,2,"button",29)(3,Hp,2,0,"button",30)(4,Hm,2,0,"button",31),e.bVm()),2&d){const o=e.XpG().$implicit;e.Y8G("ngSwitch",o.status),e.R7$(),e.Y8G("ngSwitchCase","idle"),e.R7$(),e.Y8G("ngSwitchCase","submitting"),e.R7$(),e.Y8G("ngSwitchCase","submitted"),e.R7$(),e.Y8G("ngSwitchCase","error")}}function Mv(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",37),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2).$implicit,W=e.XpG(2);return e.Njj(W.checkStatus(O))}),e.EFF(1," Check Status "),e.k0s()}}function Sv(d,y){1&d&&(e.j41(0,"button",33),e.nrm(1,"span",17),e.EFF(2," Checking... "),e.k0s()),2&d&&e.Y8G("ngStyle",e.lJ4(1,Kp))}function zm(d,y){1&d&&(e.j41(0,"button",34),e.EFF(1," Checked "),e.k0s())}function CA(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",35),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2).$implicit,W=e.XpG(2);return e.Njj(W.checkStatus(O))}),e.EFF(1," Retry Check "),e.k0s()}}function Iv(d,y){if(1&d&&(e.qex(0,27),e.DNE(1,Mv,2,0,"button",36)(2,Sv,3,2,"button",29)(3,zm,2,0,"button",30)(4,CA,2,0,"button",31),e.bVm()),2&d){const o=e.XpG().$implicit;e.Y8G("ngSwitch",o.checkStatusState),e.R7$(),e.Y8G("ngSwitchCase","idle"),e.R7$(),e.Y8G("ngSwitchCase","checking"),e.R7$(),e.Y8G("ngSwitchCase","checked"),e.R7$(),e.Y8G("ngSwitchCase","error")}}function zp(d,y){if(1&d){const o=e.RV6();e.j41(0,"tr")(1,"td")(2,"input",24),e.mxI("ngModelChange",function(O){const W=e.eBV(o).$implicit;return e.DH7(W.selected,O)||(W.selected=O),e.Njj(O)}),e.bIt("change",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.onGeneratedSelectionChange())}),e.k0s()(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td"),e.EFF(13),e.k0s(),e.j41(14,"td"),e.EFF(15),e.k0s(),e.j41(16,"td"),e.DNE(17,wh,5,5,"ng-container",26)(18,Iv,5,5,"ng-template",null,0,e.C5r),e.k0s()()}if(2&d){const o=y.$implicit,c=e.sdS(19);e.R7$(2),e.R50("ngModel",o.selected),e.R7$(2),e.JRh(o.fileName),e.R7$(2),e.JRh(e.i5U(7,9,o.createdAt,"short")),e.R7$(3),e.JRh(o.zipStatus||"Not created yet"),e.R7$(2),e.JRh(o.fileCount||"-"),e.R7$(2),e.JRh(o.userFriendlyPostResponse||"Not submitted yet"),e.R7$(2),e.JRh(o.userFriendlyCheckResponse||"Not verified yet"),e.R7$(2),e.Y8G("ngIf",!o.ackId)("ngIfElse",c)}}function OO(d,y){if(1&d&&(e.j41(0,"div",18)(1,"div",19)(2,"h5",20),e.EFF(3,"Generated Files"),e.k0s()(),e.j41(4,"div",21)(5,"table",22)(6,"thead")(7,"tr")(8,"th"),e.EFF(9,"Select"),e.k0s(),e.j41(10,"th"),e.EFF(11,"File Name"),e.k0s(),e.j41(12,"th"),e.EFF(13,"Created At"),e.k0s(),e.j41(14,"th"),e.EFF(15,"Zip Status"),e.k0s(),e.j41(16,"th"),e.EFF(17,"No. of Files"),e.k0s(),e.j41(18,"th"),e.EFF(19,"Upload Status"),e.k0s(),e.j41(20,"th"),e.EFF(21,"Verify Status"),e.k0s(),e.j41(22,"th"),e.EFF(23,"Actions"),e.k0s()()(),e.j41(24,"tbody"),e.DNE(25,zp,20,12,"tr",23),e.k0s()()()()),2&d){const o=e.XpG();e.R7$(25),e.Y8G("ngForOf",o.generatedFiles)}}function yE(d,y){1&d&&(e.j41(0,"div",25),e.EFF(1," No generated files found. "),e.k0s())}let MO=(()=>{class d{constructor(o){this.cnrService=o,this.searchQuery="",this.loading=!1,this.generating=!1,this.submitting=!1,this.searchResults=[],this.selectedSearchFiles=[],this.selectedGeneratedFiles=[],this.generatedFiles=[],this.POST_CODE_MAP={200:"Submitted successfully.",201:"Case created.",202:"Submission accepted for processing.",401:"CNR must not be null or empty.",402:"Zip hash must not be null or empty.",403:"Invalid Zip File.",404:"Zip name mismatch.",405:"ZIP hash mismatch.",406:"Invalid userId.",407:"UserId not found in JTDR.",409:"Duplicate case detected. Case already exists for provided CNR.",500:"Internal Server Error."},this.CHECK_CODE_MAP={200:"Checked successfully.",202:"Check accepted for processing.",401:"CNR must not be null or empty.",402:"Zip hash must not be null or empty.",403:"Invalid Zip File.",405:"ZIP hash mismatch.",409:"Duplicate case detected. Case already exists for provided CNR.",500:"Internal Server Error."}}ngOnInit(){this.loadGeneratedFiles()}asString(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch{return String(o)}}parsePostResult(o){const c=o?.status?String(o.status):void 0;if(o&&"object"==typeof o&&!("error"in o))return{code:o.statusCode?String(o.statusCode):c,message:o.message,ackId:o.ackId,raw:this.asString(o)};if(o?.error&&"object"==typeof o.error)return{code:o.error.statusCode?String(o.error.statusCode):c,message:o.error.message??o.message,ackId:o.error.ackId,raw:this.asString(o.error)};const O="string"==typeof o?.error?o.error:"string"==typeof o?o:o?.message??"",W=O.match(/"statusCode"\s*:\s*"?(\d{3})"?/i)?.[1]||O.match(/\b(\d{3})\b/)?.[1]||c,ue=O.match(/"message"\s*:\s*"([^"]+)"/i)?.[1];return{code:W,message:ue,raw:O||this.asString(o)}}mapFriendly(o,c,O,W,ue="Unknown response"){return c&&o[c]||O||W||ue}loadGeneratedFiles(){this.cnrService.getRecords().subscribe({next:o=>{const c=this.POST_CODE_MAP,O=this.CHECK_CODE_MAP;this.generatedFiles=o.map(W=>{const ue=W.postResponse||"",Ie=W.getCheckResponse||"",rt=ue.match(/^(\d{3})/)?.[1],kt=Ie.match(/^(\d{3})/)?.[1];let Cn="";Cn=ue.includes("Folder to zip not found")?"Folder to zip not found.":rt&&c[rt]?c[rt]:ue||"Not submitted yet";const mn=kt&&O[kt]||Ie||"Not verified yet";return{...W,selected:!1,status:"idle",checkStatusState:"idle",userFriendlyPostResponse:Cn,userFriendlyCheckResponse:mn}})},error:o=>{console.error("Error fetching generated files:",o)}})}searchItems(){""!==this.searchQuery.trim()?(this.loading=!0,this.cnrService.getSearchResults(this.searchQuery).pipe((0,Wp.j)(()=>this.loading=!1)).subscribe({next:o=>{this.searchResults=(o._embedded?.searchResult?._embedded?.objects||[]).map(O=>({cino:(O._embedded?.indexableObject?.metadata||{})["dc.cino"]?.[0]?.value||"N/A",fileName:O._embedded?.indexableObject?.name||"N/A",hashValue:"N/A",createdAt:O._embedded?.indexableObject?.lastModified||"N/A",selected:!1,ackId:O._embedded?.indexableObject?.ackId||null,itemUUID:O._embedded?.indexableObject?.uuid||null}))},error:o=>{console.error("Search error:",o),this.searchResults=[]}})):this.searchResults=[]}onSearchInput(){""===this.searchQuery.trim()&&(this.searchResults=[])}onSearchSelectionChange(){this.selectedSearchFiles=this.searchResults.filter(o=>o.selected)}onGeneratedSelectionChange(){this.selectedGeneratedFiles=this.generatedFiles.filter(o=>o.selected)}generateFiles(){if(0===this.selectedSearchFiles.length)return;this.generating=!0;const o=this.selectedSearchFiles.map(c=>this.cnrService.generate(c.itemUUID).pipe((0,An.W)(O=>(console.error(`Error generating zip for Item UUID: ${c.itemUUID}`,O),(0,Is.of)(null)))));(0,_c.p)(o).pipe((0,Wp.j)(()=>this.generating=!1)).subscribe()}submitFile(o){o.fileName&&(o.status="submitting",o.userFriendlyPostResponse="",this.cnrService.submitCase(o.fileName).subscribe({next:c=>{const{code:O,message:W,ackId:ue,raw:Ie}=this.parsePostResult(c);ue&&(o.ackId=ue);const rt=!O||O.startsWith("2");o.status=rt?"submitted":"error",o.userFriendlyPostResponse=this.mapFriendly(this.POST_CODE_MAP,O,W,Ie,"Unknown response"),o.postResponse=Ie},error:c=>{const{code:O,message:W,raw:ue}=this.parsePostResult(c);o.status="error",o.userFriendlyPostResponse=this.mapFriendly(this.POST_CODE_MAP,O,W,ue,"Submission failed"),o.postResponse=ue}}))}submitAllFiles(){if(0===this.selectedGeneratedFiles.length)return;this.submitting=!0;const o=this.selectedGeneratedFiles.map(c=>(c.status="submitting",c.userFriendlyPostResponse="",this.cnrService.submitCase(c.fileName).pipe((0,An.W)(O=>{const{code:W,message:ue,raw:Ie}=this.parsePostResult(O);return c.status="error",c.userFriendlyPostResponse=this.mapFriendly(this.POST_CODE_MAP,W,ue,Ie,"Submission failed"),c.postResponse=Ie,(0,Is.of)(null)}))));(0,_c.p)(o).pipe((0,Wp.j)(()=>this.submitting=!1)).subscribe(c=>{c?.forEach((O,W)=>{if(!O)return;const ue=this.selectedGeneratedFiles[W],{code:Ie,message:rt,ackId:kt,raw:Cn}=this.parsePostResult(O);kt&&(ue.ackId=kt);const mn=!Ie||Ie.startsWith("2");ue.status=mn?"submitted":"error",ue.userFriendlyPostResponse=this.mapFriendly(this.POST_CODE_MAP,Ie,rt,Cn,"Unknown response"),ue.postResponse=Cn})})}checkStatus(o){o.ackId&&(o.checkStatusState="checking",this.cnrService.checkStatus(o.ackId).subscribe({next:c=>{const{code:O,message:W,raw:ue}=this.parsePostResult(c);o.checkStatusState="checked",o.userFriendlyCheckResponse=this.mapFriendly(this.CHECK_CODE_MAP,O,W,ue,"Checked successfully")},error:c=>{const{code:O,message:W,raw:ue}=this.parsePostResult(c);o.checkStatusState="error",o.userFriendlyCheckResponse=this.mapFriendly(this.CHECK_CODE_MAP,O,W,ue,"Status check failed")}}))}addToCart(){const o=this.searchResults.filter(O=>O.selected);this.selectedSearchFiles.push(...o);const c=new Map;this.selectedSearchFiles.forEach(O=>{O.fileName&&c.set(O.fileName,O)}),this.selectedSearchFiles=Array.from(c.values())}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Ph))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-cnr-manager"]],decls:26,vars:15,consts:[["checkStatusButtons",""],[1,"container","p-4"],[1,"row","mb-4"],[1,"col-md-6"],[1,"position-relative"],[1,"input-group"],["placeholder","Search...",1,"form-control",3,"ngModelChange","input","ngModel","disabled"],[1,"btn","btn-primary",3,"click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"mb-4"],[1,"row"],[1,"col-md-4"],[1,"btn","btn-secondary","mb-3","w-100",3,"click","disabled"],[1,"btn","btn-success","mb-3","w-100",3,"click","disabled"],[1,"btn","btn-primary","mb-3","w-100",3,"click","disabled"],["class","card",4,"ngIf"],["class","text-center text-muted py-4",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"card"],[1,"card-header"],[1,"mb-0"],[1,"card-body","p-0"],[1,"table","table-striped","table-hover","mb-0"],[4,"ngFor","ngForOf"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"text-center","text-muted","py-4"],[3,"ngSwitch",4,"ngIf","ngIfElse"],[3,"ngSwitch"],["class","btn btn-primary btn-sm",3,"click",4,"ngSwitchCase"],["class","btn btn-warning btn-sm","disabled","",3,"ngStyle",4,"ngSwitchCase"],["class","btn btn-success btn-sm","disabled","",4,"ngSwitchCase"],["class","btn btn-danger btn-sm",3,"click",4,"ngSwitchCase"],[1,"btn","btn-primary","btn-sm",3,"click"],["disabled","",1,"btn","btn-warning","btn-sm",3,"ngStyle"],["disabled","",1,"btn","btn-success","btn-sm"],[1,"btn","btn-danger","btn-sm",3,"click"],["class","btn btn-info btn-sm",3,"click",4,"ngSwitchCase"],[1,"btn","btn-info","btn-sm",3,"click"]],template:function(c,O){1&c&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"input",6),e.mxI("ngModelChange",function(ue){return e.DH7(O.searchQuery,ue)||(O.searchQuery=ue),ue}),e.bIt("input",function(){return O.onSearchInput()}),e.k0s(),e.j41(6,"button",7),e.bIt("click",function(){return O.searchItems()}),e.DNE(7,Wm,1,0,"span",8),e.EFF(8," Search "),e.k0s()()()()(),e.j41(9,"div",9)(10,"div",10)(11,"div",11)(12,"button",12),e.bIt("click",function(){return O.addToCart()}),e.EFF(13),e.k0s()(),e.j41(14,"div",11)(15,"button",13),e.bIt("click",function(){return O.generateFiles()}),e.DNE(16,Qc,1,0,"span",8),e.EFF(17),e.k0s()(),e.j41(18,"div",11)(19,"button",14),e.bIt("click",function(){return O.submitAllFiles()}),e.DNE(20,Km,1,0,"span",8),e.EFF(21),e.k0s()()()(),e.DNE(22,Ah,18,1,"div",15)(23,Zc,2,1,"div",16)(24,OO,26,1,"div",15)(25,yE,2,0,"div",16),e.k0s()),2&c&&(e.R7$(5),e.R50("ngModel",O.searchQuery),e.Y8G("disabled",O.loading),e.R7$(2),e.Y8G("ngIf",O.loading),e.R7$(5),e.Y8G("disabled",0===O.selectedSearchFiles.length),e.R7$(),e.SpI(" Add to Cart (",O.selectedSearchFiles.length,") "),e.R7$(2),e.Y8G("disabled",O.generating||0===O.selectedSearchFiles.length),e.R7$(),e.Y8G("ngIf",O.generating),e.R7$(),e.SpI(" ",O.generating?"Generating...":"Generate Files"," "),e.R7$(2),e.Y8G("disabled",!O.selectedGeneratedFiles.length||O.submitting),e.R7$(),e.Y8G("ngIf",O.submitting),e.R7$(),e.SpI(" ",O.submitting?"Submitting...":"Post All Files"," "),e.R7$(),e.Y8G("ngIf",O.searchResults.length>0),e.R7$(),e.Y8G("ngIf",0===O.searchResults.length&&O.searchQuery),e.R7$(),e.Y8G("ngIf",O.generatedFiles.length>0),e.R7$(),e.Y8G("ngIf",0===O.generatedFiles.length))},dependencies:[f.Sq,f.bT,f.B3,f.ux,f.e1,ln.me,ln.Zm,ln.BC,ln.vS,f.vh],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:auto}.table[_ngcontent-%COMP%]{background-color:#fff}.hover-bg-light[_ngcontent-%COMP%]:hover{background-color:#f8f9fa!important}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.position-relative[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]{border:1px solid #dee2e6;box-shadow:0 .5rem 1rem #00000026}.position-relative[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]   .border-bottom[_ngcontent-%COMP%]:last-child{border-bottom:none!important}.badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem .75rem}.badge[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{opacity:.7}.badge[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:2px solid #dee2e6;font-weight:600}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.btn-group-sm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}.card[_ngcontent-%COMP%]{box-shadow:0 .125rem .25rem #00000013;border:1px solid rgba(0,0,0,.125)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid rgba(0,0,0,.125)}.badge.bg-success[_ngcontent-%COMP%]{background-color:#198754!important}.badge.bg-primary[_ngcontent-%COMP%]{background-color:#0d6efd!important}.badge.bg-danger[_ngcontent-%COMP%]{background-color:#dc3545!important}.badge.bg-secondary[_ngcontent-%COMP%]{background-color:#6c757d!important}@media (max-width: 768px){.input-group[_ngcontent-%COMP%]{flex-direction:column}.input-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-bottom:.5rem}.table-responsive[_ngcontent-%COMP%]{font-size:.875rem}}.position-absolute[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInDown .2s ease-out}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}"]})}}return d})();const SO=[{path:ar.n,component:vs},{path:ar.RC,component:_n},{path:"",canActivate:[(d,y,o=(0,e.WQX)(E.il))=>o.pipe((0,E.Lt)(L.Gv)).pipe((0,xt.T)(c=>!1===c),(0,C.F)(),(0,Wn.p)(c=>!0===c),(0,T.s)(1))],canActivateChild:[(d,y,o=(0,e.WQX)(_d.RootDataService),c=(0,e.WQX)(v.Ix))=>o.checkServerAvailability().pipe((0,T.s)(1),(0,xt.T)(O=>!!O||c.parseUrl((0,ar.N2)())))],resolve:[(d,y,o=(0,e.WQX)(Ch))=>o.resolve(d,y)],children:[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"reload/:rnd",component:Za,pathMatch:"full",canActivate:[(d,y,o=(0,e.WQX)(si.vQ),c=(0,e.WQX)(v.Ix))=>{if((0,G.hj)(d.queryParams.redirect)){const O=d.queryParams.redirect.startsWith(o.ui.nameSpace)?d.queryParams.redirect.substring(o.ui.nameSpace.length):d.queryParams.redirect;return c.parseUrl(O)}return c.createUrlTree([ar.Eo])}]},{path:"home",loadChildren:()=>n.e(2587).then(n.bind(n,62587)).then(d=>d.ROUTES),data:{showBreadcrumbs:!1,enableRSS:!0},providers:[bl()],canActivate:[Mi.t,wi]},{path:"community-list",loadChildren:()=>n.e(5777).then(n.bind(n,75777)).then(d=>d.ROUTES),canActivate:[Mi.t,wi]},{path:"id",loadChildren:()=>n.e(8424).then(n.bind(n,88424)).then(d=>d.ROUTES),canActivate:[Mi.t,wi]},{path:"handle",loadChildren:()=>n.e(8424).then(n.bind(n,88424)).then(d=>d.ROUTES),canActivate:[Mi.t,wi]},{path:ar.il,loadChildren:()=>Promise.all([n.e(8500),n.e(2076),n.e(1053)]).then(n.bind(n,51053)).then(d=>d.ROUTES),canActivate:[gd]},{path:ar.sT,loadChildren:()=>Promise.all([n.e(8500),n.e(2076),n.e(4184)]).then(n.bind(n,64184)).then(d=>d.ROUTES),canActivate:[Sp]},{path:Mp.b2,loadChildren:()=>Promise.all([n.e(8980),n.e(781),n.e(8296),n.e(4958),n.e(6864)]).then(n.bind(n,76864)).then(d=>d.ROUTES),data:{enableRSS:!0},canActivate:[Mi.t,wi]},{path:ch.CC,loadChildren:()=>Promise.all([n.e(8980),n.e(781),n.e(7558),n.e(8296),n.e(2073),n.e(4958),n.e(2076),n.e(6475)]).then(n.bind(n,16475)).then(d=>d.ROUTES),data:{showBreadcrumbs:!1,enableRSS:!0},canActivate:[Mi.t,wi]},{path:gi.xb,loadChildren:()=>Promise.all([n.e(8980),n.e(781),n.e(870),n.e(8296),n.e(2076),n.e(5535)]).then(n.bind(n,95535)).then(d=>d.ROUTES),canActivate:[Mi.t,wi]},{path:"entities/:entity-type",loadChildren:()=>Promise.all([n.e(8980),n.e(781),n.e(870),n.e(8296),n.e(2076),n.e(5535)]).then(n.bind(n,95535)).then(d=>d.ROUTES),canActivate:[Mi.t,wi]},{path:"viewer",loadChildren:()=>Promise.all([n.e(2076),n.e(7676)]).then(n.bind(n,87676)).then(d=>d.ROUTES),canActivate:[Mi.t]},{path:ar.H_,loadChildren:()=>Promise.all([n.e(5355),n.e(7652)]).then(n.bind(n,67652)).then(d=>d.ROUTES),canActivate:[wi]},{path:ar.l2,loadChildren:()=>Promise.all([n.e(5355),n.e(7652)]).then(n.bind(n,67652)).then(d=>d.ROUTES),canActivate:[wi]},{path:"mydspace",loadChildren:()=>n.e(3822).then(n.bind(n,73822)).then(d=>d.ROUTES),data:{enableRSS:!0},providers:[bl()],canActivate:[Mi.t,wi]},{path:"adminpool",loadChildren:()=>n.e(6678).then(n.bind(n,6678)).then(d=>d.AdminPoolModule),data:{enableRSS:!0},providers:[bl()],canActivate:[Mi.t,wi]},{path:"search",loadChildren:()=>n.e(8448).then(n.bind(n,58448)).then(d=>d.ROUTES),data:{enableRSS:!0},canActivate:[Mi.t,wi]},{path:"case-search",component:Um,canActivate:[Mi.t]},{path:"jtdr",component:MO,canActivate:[Mi.t]},{path:"judgement-date-search",component:Ae,canActivate:[Mi.t]},{path:"case-search-2",component:N,canActivate:[Mi.t]},{path:"free-text-search",component:Nt,canActivate:[Mi.t]},{path:"browse",canActivate:[Mi.t,wi],children:[{path:"title",component:Um,data:{enableRSS:!0},canActivate:[Mi.t,wi]},{path:"dc_case_type",component:Ao,data:{enableRSS:!0},canActivate:[Mi.t,wi]},{path:"dc_case_number",component:N,data:{enableRSS:!0},canActivate:[Mi.t,wi]},{path:"dc_judge_name",component:Ae,data:{enableRSS:!0},canActivate:[Mi.t,wi]},{path:"dc_party_firstpetitioner",component:In,data:{enableRSS:!0},canActivate:[Mi.t,wi]},{path:"dc_party_firstrespondent",component:Si,data:{enableRSS:!0},canActivate:[Mi.t,wi]},{path:"dc_advocate_firstpetitioner",component:$p,data:{enableRSS:!0},canActivate:[Mi.t,wi]},{path:"dc_advocate_firstrespondent",component:Tv,data:{enableRSS:!0},canActivate:[Mi.t,wi]},{path:"dc_case_disposaldate",component:Or,data:{enableRSS:!0},canActivate:[Mi.t,wi]},{path:"",loadChildren:()=>n.e(5079).then(n.bind(n,35079)).then(d=>d.ROUTES),canActivate:[Mi.t,wi]}]},{path:ar.pU,loadChildren:()=>n.e(2426).then(n.bind(n,2426)).then(d=>d.ROUTES),data:{enableRSS:!0},canActivate:[Sm.Y,wi]},{path:lE.uD,loadChildren:()=>Promise.all([n.e(1653),n.e(2519)]).then(n.bind(n,32519)).then(d=>d.ROUTES),providers:[bl()],canActivate:[Mi.t,wi]},{path:"login",loadChildren:()=>n.e(3561).then(n.bind(n,3561)).then(d=>d.ROUTES)},{path:"logout",loadChildren:()=>n.e(8762).then(n.bind(n,8762)).then(d=>d.ROUTES)},{path:"submit",loadChildren:()=>n.e(9360).then(n.bind(n,79360)).then(d=>d.ROUTES),providers:[Cu()],canActivate:[Mi.t,wi]},{path:"import-external",loadChildren:()=>n.e(7411).then(n.bind(n,47411)).then(d=>d.ROUTES),canActivate:[Mi.t,wi]},{path:"workspaceitems",loadChildren:()=>Promise.all([n.e(8980),n.e(870),n.e(1717),n.e(2422)]).then(n.bind(n,2422)).then(d=>d.ROUTES),providers:[Cu()],canActivate:[Mi.t,wi]},{path:ar.Vv,providers:[Cu()],loadChildren:()=>Promise.all([n.e(8980),n.e(870),n.e(1717),n.e(1501)]).then(n.bind(n,21501)).then(d=>d.ROUTES),data:{enableRSS:!0},canActivate:[Mi.t,wi]},{path:ar.pX,loadChildren:()=>Promise.all([n.e(2076),n.e(5361)]).then(n.bind(n,65361)).then(d=>d.ROUTES),providers:[bl()],canActivate:[Mi.t,wi]},{path:vh.rG,loadChildren:()=>Promise.all([n.e(2076),n.e(5818)]).then(n.bind(n,35818)).then(d=>d.ROUTES),canActivate:[Mi.t,wi]},{path:yv.C2,loadChildren:()=>n.e(6780).then(n.bind(n,86780)).then(d=>d.ROUTES),providers:[bl()],canActivate:[Mi.t,wi]},{path:ar.Ep,loadChildren:()=>Promise.all([n.e(2076),n.e(320)]).then(n.bind(n,50320)).then(d=>d.ROUTES)},{path:ar.RZ,loadChildren:()=>Promise.all([n.e(2076),n.e(8441)]).then(n.bind(n,48441)).then(d=>d.ROUTES),canActivate:[Mi.t,wi]},{path:ar.OC,component:Me},{path:"statistics",loadChildren:()=>Promise.all([n.e(2076),n.e(9014)]).then(n.bind(n,19014)).then(d=>d.ROUTES),canActivate:[Mi.t,wi]},{path:ar.lH,loadChildren:()=>n.e(298).then(n.bind(n,50298)).then(d=>d.ROUTES)},{path:ar.UP,loadChildren:()=>Promise.all([n.e(9366),n.e(8500),n.e(2076),n.e(5191)]).then(n.bind(n,75191)).then(d=>d.ROUTES),canActivate:[ov.i,wi]},{path:"subscriptions",loadChildren:()=>Promise.all([n.e(781),n.e(2076),n.e(6643)]).then(n.bind(n,66643)).then(d=>d.ROUTES),canActivate:[Mi.t]},{path:"**",pathMatch:"full",component:Za}]}];n(81387);var Yp=n(52027),vc=n(2044),Rv=n(40667),Ym=n(10034);let IO=(()=>{class d{constructor(o,c,O){this.inj=o,this.router=c,this.store=O,this.refreshTokenRequestUrls=[]}isUnauthorized(o){return 401===o.status}isSuccess(o){return 200===o.status||204===o.status}isAuthRequest(o){return o&&o.url&&(o.url.endsWith("/authn/login")||o.url.endsWith("/authn/logout")||o.url.endsWith("/authn/status"))}isLoginResponse(o){return o.url&&o.url.endsWith("/authn/login")}isLogoutResponse(o){return o.url&&o.url.endsWith("/authn/logout")}isStatusResponse(o){return o.url&&o.url.endsWith("/authn/status")}parseLocation(o){let c=o.trim();c=c.replace('location="',""),c=c.replace('"',"");let O=/%3A%2F%2F/g;return c=c.replace(O,"://"),O=/%3A/g,c=c.replace(O,":"),c.trim()}sortAuthMethods(o){const c=[];let O=!1,W=!1;return o.forEach(ue=>{ue.authMethodType===vc.Q.Password&&(c.push(ue),O=!0),ue.authMethodType===vc.Q.Ldap&&(W=!0)}),W&&!O&&c.push(new Yp.q(vc.Q.Password,0)),o.forEach(ue=>{ue.authMethodType!==vc.Q.Password&&c.push(ue)}),c}parseAuthMethodsFromHeaders(o){let c=[];if((0,G.hj)(o.get("www-authenticate"))){const ue=o.get("www-authenticate").match(/(\w+ (\w+=((".*?")|[^,]*)(, )?)*)/g);for(const Ie in ue){const rt=ue[Ie].split(", "),kt=rt[0].split(" ")[0].trim();let Cn;if(1===rt.length)Cn=new Yp.q(kt,Number(Ie)),c.push(Cn);else if(rt.length>1){let mn=rt[1];mn=this.parseLocation(mn),Cn=new Yp.q(kt,Number(Ie),mn),c.push(Cn)}}c=this.sortAuthMethods(c)}else c.push(new Yp.q(vc.Q.Password,0));return c}makeAuthStatusObject(o,c,O,W){const ue=new Rv.T;if(W&&(ue.authMethods=this.parseAuthMethodsFromHeaders(W)),ue.id=null,ue.okay=!0,o)ue.authenticated=!0,ue.token=new Ym.S(c);else if(ue.authenticated=!1,(0,G.hj)(O))if("string"==typeof O)try{ue.error=JSON.parse(O)}catch(Ie){console.error('Unknown auth error "',O,'" caused ',Ie),ue.error={error:"Unknown",message:"Unknown auth error",status:500,timestamp:Date.now(),path:""}}else ue.error=O;return ue}intercept(o,c){const O=this.inj.get(p.uR),W=O.getToken();let ue,Ie;if(O.isTokenExpired())return(0,Is.of)(null);if(this.isAuthRequest(o)&&!this.isLogoutResponse(o)||!(0,G.hj)(W))ue=o.clone();else{Ie=O.buildAuthHeader(W);let rt=o.headers.set("authorization",Ie);const kt=O.getImpersonateID();(0,G.a4)(kt)&&(rt=rt.set("X-On-Behalf-Of",kt)),ue=o.clone({headers:rt})}return c.handle(ue).pipe((0,xt.T)(rt=>{if(rt instanceof le.cS&&this.isSuccess(rt)&&this.isAuthRequest(rt)){let kt;if(this.isLoginResponse(rt)){const Cn=rt.headers.get("authorization");kt=rt.clone({body:this.makeAuthStatusObject(!0,Cn)}),this.refreshTokenRequestUrls=[]}else kt=this.isStatusResponse(rt)?rt.clone({body:Object.assign(rt.body,{authMethods:this.parseAuthMethodsFromHeaders(rt.headers)})}):rt.clone({body:this.makeAuthStatusObject(!1)});return kt}return rt}),(0,An.W)((rt,kt)=>{if(rt instanceof le.yz){if(this.isAuthRequest(rt)){this.refreshTokenRequestUrls=[];const Cn=new le.cS({body:this.makeAuthStatusObject(!1,null,rt.error,rt.headers),headers:rt.headers,status:rt.status,statusText:rt.statusText,url:rt.url});return(0,Is.of)(Cn)}this.isUnauthorized(rt)&&(0,G.Pe)(W)&&O.isTokenExpired()&&this.store.dispatch(new X.Wu("auth.messages.expired"))}return(0,Ja.$)(rt)}))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(e.zZn),e.KVO(v.Ix),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),TA=(()=>{class d{constructor(o,c){this.appConfig=o,this.platformId=c,this.baseUrl=this.appConfig.rest.baseUrl,this.ssrBaseUrl=this.appConfig.rest.ssrBaseUrl}intercept(o,c){if((0,f.UE)(this.platformId)||(0,G.Im)(this.ssrBaseUrl)||this.baseUrl===this.ssrBaseUrl)return c.handle(o);const O=o.url.replace(this.baseUrl,this.ssrBaseUrl),W=o.clone({url:O});return c.handle(W)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(si.vQ),e.KVO(e.Agw))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var PO=n(31943),yc=n(63648);let RO=(()=>{class d{constructor(o){this.localeService=o}intercept(o,c){let O;return this.localeService.getLanguageCodeList().pipe((0,PO.S)((W,ue)=>[...W,ue],[]),(0,Qn.Z)(W=>(O=o.clone({headers:o.headers.set("Accept-Language",W.toString())}),c.handle(O))))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(yc.iH))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Dd=n(93130),Av=n(10110);const AO=d=>d.correlationId;var CE=n(30164);let Xp=(()=>{class d{constructor(o,c,O){this.cookieService=o,this.uuidService=c,this.store=O}initCorrelationId(){let o=this.cookieService.get("CORRELATION-ID");(0,G.Im)(o)&&(o=this.getCorrelationId()),(0,G.Im)(o)&&(o=this.uuidService.generate()),this.store.dispatch(new Av.q(o)),this.cookieService.set("CORRELATION-ID",o)}getCorrelationId(){let o;return this.store.pipe((0,E.Lt)(AO),(0,T.s)(1)).subscribe(c=>{o=c}),o}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Dd.O),e.KVO(CE.v),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),Xm=(()=>{class d{constructor(o,c){this.cidService=o,this.router=c}intercept(o,c){const O=this.cidService.getCorrelationId();let W=o.headers;return(0,G.a4)(O)&&(W=W.append("X-CORRELATION-ID",O)),W=W.append("X-REFERRER",this.router.url),o=o.clone({withCredentials:!0,headers:W}),c.handle(o)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Xp),e.KVO(v.Ix))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Ue=n(31635),vn=n(74850),ii=n(21921),$l=n(56970),oi=n(42547),No=n(98688),qc=n(29009);let xh=class extends $l.I{static{this.type=qc.uC}get self(){return this._links.self.href}};(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],xh.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],xh.prototype,"id",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],xh.prototype,"_links",void 0),xh=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)($l.I)],xh);let da=class extends $l.I{static{this.type=qc.zd}get self(){return this._links.self.href}};(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],da.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],da.prototype,"id",void 0),(0,Ue.Cg)([(0,vn.deserializeAs)("id"),(0,Ue.Sn)("design:type",String)],da.prototype,"uuid",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],da.prototype,"name",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],da.prototype,"description",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],da.prototype,"url",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],da.prototype,"score",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],da.prototype,"enabled",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],da.prototype,"ldnUrl",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],da.prototype,"lowerIp",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],da.prototype,"upperIp",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],da.prototype,"notifyServiceInboundPatterns",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],da.prototype,"_links",void 0),da=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)($l.I)],da);const wO=new oi.v("notifyrequests");let Ec=class{static{this.type=wO}};(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],Ec.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Ec.prototype,"notifyStatus",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ec.prototype,"itemuuid",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Ec.prototype,"_links",void 0),Ec=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)($l.I)],Ec),n(30721),n(24903);var Jp=n(53778);const OE=new e.nKC("mockResponseMap",{providedIn:"root",factory:()=>xO}),xO=new Map([]);let LO=(()=>{class d extends Jp.Y{constructor(o,c){super(c),this.mockResponseMap=o,this.http=c}get(o){const c=this.getMockData(o);return(0,G.Im)(c)?super.get(o):this.toMockResponse$(c)}request(o,c,O,W,ue){const Ie=this.getMockData(c);return(0,G.Im)(Ie)?super.request(o,c,O,W,ue):this.toMockResponse$(Ie)}toMockResponse$(o){return(0,Is.of)({payload:o,headers:new le.Lr,statusCode:200,statusText:"OK"})}getMockData(o){let c;if(c=this.mockResponseMap.has(o)?o:new URL(o).pathname.slice(A.c.rest.nameSpace.length),this.mockResponseMap.has(c))return JSON.parse(JSON.stringify(this.mockResponseMap.get(c)))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(OE),e.KVO(le.Qq))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var ME=n(87922);let Tu=class{static{this.type=ME.E}};(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],Tu.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Tu.prototype,"status",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Tu.prototype,"_links",void 0),Tu=(0,Ue.Cg)([ii.gV],Tu);var Cc=n(89177);let Wl=class{static{this.type=Cc.f}};(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],Wl.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Wl.prototype,"identifiers",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Wl.prototype,"_links",void 0),Wl=(0,Ue.Cg)([ii.gV],Wl),n(67478);const SE=new oi.v("submissioncoarnotifyconfig");new oi.v("workspaceitem");let Od=class extends $l.I{static{this.type=SE}get self(){return this._links.self.href}};(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],Od.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Od.prototype,"id",void 0),(0,Ue.Cg)([(0,vn.deserializeAs)("id"),(0,Ue.Sn)("design:type",String)],Od.prototype,"uuid",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Od.prototype,"patterns",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Od.prototype,"_links",void 0),Od=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)($l.I)],Od),n(30398);const BO=new oi.v("shortlivedtoken");let Du=class{static{this.type=BO}};(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],Du.prototype,"type",void 0),(0,Ue.Cg)([(0,vn.autoserializeAs)("token"),(0,Ue.Sn)("design:type",String)],Du.prototype,"value",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Du.prototype,"_links",void 0),Du=(0,Ue.Cg)([ii.gV],Du);var Md=n(49797),Kl=n(96787);let Sd=class extends Md.G{static{this.type=Kl.XI}};(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],Sd.prototype,"type",void 0),(0,Ue.Cg)([(0,vn.autoserializeAs)(String,"name"),(0,Ue.Sn)("design:type",String)],Sd.prototype,"uuid",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Sd.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Sd.prototype,"itemAccessConditionOptions",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Sd.prototype,"bitstreamAccessConditionOptions",void 0),Sd=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Md.G)],Sd);let Id=class extends Md.G{static{this.type=Kl.NS}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Id.prototype,"accessConditionOptions",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Id.prototype,"discoverable",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Id.prototype,"canChangeDiscoverable",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Id.prototype,"_links",void 0),Id=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Md.G)],Id);let Nh=class extends Id{static{this.type=Kl.NS}};Nh=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Id)],Nh),n(25168),n(7232),n(66731);let bc=class extends Md.G{static{this.type=Kl.WJ}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],bc.prototype,"header",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],bc.prototype,"mandatory",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],bc.prototype,"scope",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],bc.prototype,"sectionType",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Object)],bc.prototype,"visibility",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],bc.prototype,"_links",void 0),bc=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Md.G)],bc);let Tc=class extends Md.G{static{this.type=Kl.mU}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Tc.prototype,"accessConditionOptions",void 0),(0,Ue.Cg)([(0,ii.nf)(Kl.KX),(0,Ue.Sn)("design:type",qo.c)],Tc.prototype,"metadata",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Tc.prototype,"required",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],Tc.prototype,"maxSize",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Tc.prototype,"_links",void 0),Tc=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Md.G)],Tc);let IE=class extends Tc{static{this.type=Kl.V_}};IE=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Tc)],IE);const UO=new oi.v("root");let td=class{static{this.type=UO}};(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],td.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],td.prototype,"dspaceUI",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],td.prototype,"dspaceName",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],td.prototype,"dspaceServer",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],td.prototype,"dspaceVersion",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],td.prototype,"_links",void 0),td=(0,Ue.Cg)([ii.gV],td),n(26349),n(31924),n(52733),n(32872);var Fh=n(13868);const PE=new oi.v("qualityassuranceevent");let Ia=class{static{this.type=PE}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ia.prototype,"id",void 0),(0,Ue.Cg)([(0,vn.autoserializeAs)(String,"id"),(0,Ue.Sn)("design:type",String)],Ia.prototype,"uuid",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ia.prototype,"originalId",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ia.prototype,"title",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],Ia.prototype,"trust",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ia.prototype,"eventDate",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ia.prototype,"status",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Object)],Ia.prototype,"message",void 0),(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],Ia.prototype,"type",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Ia.prototype,"_links",void 0),(0,Ue.Cg)([(0,ii.nf)(Fh.U),(0,Ue.Sn)("design:type",qo.c)],Ia.prototype,"target",void 0),(0,Ue.Cg)([(0,ii.nf)(Fh.U),(0,Ue.Sn)("design:type",qo.c)],Ia.prototype,"related",void 0),Ia=(0,Ue.Cg)([ii.gV],Ia);const RE=new oi.v("qualityassurancesource");let Pd=class{static{this.type=RE}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Pd.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Pd.prototype,"lastEvent",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],Pd.prototype,"totalEvents",void 0),(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],Pd.prototype,"type",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Pd.prototype,"_links",void 0),Pd=(0,Ue.Cg)([ii.gV],Pd);const AE=new oi.v("qualityassurancetopic");let Dc=class{static{this.type=AE}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Dc.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Dc.prototype,"name",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Dc.prototype,"lastEvent",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],Dc.prototype,"totalEvents",void 0),(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],Dc.prototype,"type",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Dc.prototype,"_links",void 0),Dc=(0,Ue.Cg)([ii.gV],Dc);const Lv=new oi.v("suggestionsource");let Ou=class{static{this.type=Lv}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ou.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],Ou.prototype,"total",void 0),(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],Ou.prototype,"type",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Ou.prototype,"_links",void 0),Ou=(0,Ue.Cg)([ii.gV],Ou);const wE=new oi.v("suggestiontarget");let Oc=class{static{this.type=wE}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Oc.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Oc.prototype,"display",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Oc.prototype,"source",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],Oc.prototype,"total",void 0),(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],Oc.prototype,"type",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Oc.prototype,"_links",void 0),Oc=(0,Ue.Cg)([ii.gV],Oc);const Zp=new oi.v("orcidhistory");let tl=class extends $l.I{static{this.type=Zp}};(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],tl.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],tl.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],tl.prototype,"entityName",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],tl.prototype,"profileItemId",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],tl.prototype,"entityId",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],tl.prototype,"entityType",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],tl.prototype,"status",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],tl.prototype,"putCode",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],tl.prototype,"_links",void 0),tl=(0,Ue.Cg)([ii.gV],tl);const Jm=new oi.v("orcidqueue");let Hl=class extends $l.I{static{this.type=Jm}};(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],Hl.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],Hl.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Hl.prototype,"description",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Hl.prototype,"profileItemId",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Hl.prototype,"entityId",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Hl.prototype,"recordType",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Hl.prototype,"operation",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Hl.prototype,"_links",void 0),Hl=(0,Ue.Cg)([ii.gV],Hl),n(76151),n(28235);var LE=n(58235);const Qm=new oi.v("authorization");var Pa=n(76829);const Nv=new oi.v("feature");let Rd=class extends Pa.M{static{this.type=Qm}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Rd.prototype,"id",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Rd.prototype,"_links",void 0),(0,Ue.Cg)([(0,ii.nf)(LE.N),(0,Ue.Sn)("design:type",qo.c)],Rd.prototype,"eperson",void 0),(0,Ue.Cg)([(0,ii.nf)(Nv),(0,Ue.Sn)("design:type",qo.c)],Rd.prototype,"feature",void 0),(0,Ue.Cg)([(0,ii.nf)(Fh.U),(0,Ue.Sn)("design:type",qo.c)],Rd.prototype,"object",void 0),Rd=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Pa.M)],Rd);var NE=n(33376),SA=(n(760),n(34427),n(22878));const IA=new oi.v("browseEntry");let Ra=class extends SA.u{static{this.type=IA}getRenderTypes(){return[this.constructor]}};(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],Ra.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ra.prototype,"authority",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ra.prototype,"value",void 0),(0,Ue.Cg)([(0,vn.autoserializeAs)("valueLang"),(0,Ue.Sn)("design:type",String)],Ra.prototype,"language",void 0),(0,Ue.Cg)([(0,vn.autoserializeAs)("thumbnail"),(0,Ue.Sn)("design:type",String)],Ra.prototype,"thumbnail",void 0),(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",Number)],Ra.prototype,"count",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Ra.prototype,"_links",void 0),Ra=(0,Ue.Cg)([ii.gV],Ra);var BE=n(70673);const jE=new oi.v("property");let Ad=class{static{this.type=jE}};(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],Ad.prototype,"type",void 0),(0,Ue.Cg)([(0,vn.autoserializeAs)(String,"name"),(0,Ue.Sn)("design:type",String)],Ad.prototype,"uuid",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ad.prototype,"name",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Ad.prototype,"values",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Ad.prototype,"_links",void 0),Ad=(0,Ue.Cg)([ii.gV],Ad),n(31507);var Fv=n(15179);let Su=class extends Pa.M{static{this.type=Nv}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Su.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Su.prototype,"description",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Su.prototype,"resourcetypes",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Su.prototype,"_links",void 0),Su=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Pa.M)],Su),n(55451),n(98277);var nd=n(88318),Zm=(n(23881),n(67359),n(59854),n(52920),n(18602));let qm=class extends Pa.M{static{this.type=Zm.m}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],qm.prototype,"custom",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],qm.prototype,"text",void 0),qm=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Pa.M)],qm),n(8472),n(71135);const wA=new oi.v("discover");let Iu=class{static{this.type=wA}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Iu.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Iu.prototype,"filters",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],Iu.prototype,"sortOptions",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],Iu.prototype,"type",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Iu.prototype,"_links",void 0),Iu=(0,Ue.Cg)([ii.gV],Iu);const kE=new oi.v("site");let Bh=class extends Pa.M{static{this.type=kE}};Bh=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Pa.M)],Bh);var qp=n(9927);const jv=new oi.v("itemtemplate");let ef=class extends nd.q{static{this.type=jv}};(0,Ue.Cg)([(0,ii.nf)(qp.n),(0,Ue.Sn)("design:type",qo.c)],ef.prototype,"templateItemOf",void 0),ef=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(nd.q)],ef),n(50800),n(2035);var Uv=n(16321),kv=n(65592);let Ga=class extends Pa.M{static{this.type=kv.s}};(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Ga.prototype,"_links",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ga.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ga.prototype,"summary",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ga.prototype,"submitterName",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Ga.prototype,"draftVersion",void 0),(0,Ue.Cg)([No.aK,(0,ii.nf)(Uv.x,!0),(0,Ue.Sn)("design:type",qo.c)],Ga.prototype,"versions",void 0),Ga=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Pa.M)],Ga),n(12070),n(62572);var Vv=n(11453);const KO=new oi.v("submissioncclicenseUrl");let tf=class extends Vv.s{static{this.type=KO}};(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],tf.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],tf.prototype,"url",void 0),tf=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Vv.s)],tf);var HO=n(25567),zO=n(91581),Pu=n(30056);let Ml=class{static{this.type=Pu.Hx}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ml.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],Ml.prototype,"name",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Ml.prototype,"scrollable",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Ml.prototype,"hierarchical",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Object)],Ml.prototype,"preloadLevel",void 0),(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",Object)],Ml.prototype,"type",void 0),(0,Ue.Cg)([(0,ii.nf)(Pu.mt,!0),(0,Ue.Sn)("design:type",qo.c)],Ml.prototype,"entries",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],Ml.prototype,"_links",void 0),Ml=(0,Ue.Cg)([ii.gV],Ml);var eg=n(43235);n(36599);class wd{}(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],wd.prototype,"id",void 0);var ng=n(78416),$E=n(27605);const jh=new oi.v("ratingrevieweraction"),Gv=new oi.v("selectrevieweraction");let Uh=class extends wd{static{this.type=jh}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Uh.prototype,"descriptionRequired",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Number)],Uh.prototype,"maxValue",void 0),Uh=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(wd)],Uh);let kh=class extends wd{static{this.type=Gv}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],kh.prototype,"group",void 0),kh=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(wd)],kh),n(55411);var WE=n(47069);let xd=class extends Pa.M{static{this.type=WE.f}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],xd.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],xd.prototype,"options",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],xd.prototype,"advanced",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],xd.prototype,"advancedOptions",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",Array)],xd.prototype,"advancedInfo",void 0),xd=(0,Ue.Cg)([ii.gV,(0,vn.inheritSerialization)(Pa.M)],xd);var ig=n(2632);let $v=(()=>{class d extends Dd.O{set(o,c,O){(0,ig.set)(o,c,O),this.updateSource()}remove(o,c){(0,ig.remove)(o,c),this.updateSource()}get(o){return(0,ig.getJSON)(o)}getAll(){return(0,ig.getJSON)()}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Ps=n(26292),Vn=n(78448),Mc=n(77537),Gn=n(81569),Ii=n(1321),wr=n(42578),Oo=n(97402),Ho=n(55309),Pi=n(39092),Vh=n(39552),zo=n(73584);let Ru=(()=>{class d extends zo.C{constructor(o,c,O){super(o),this.dsoNameService=o,this.truncatableService=c,this.bitstreamDataService=O}ngOnInit(){(0,G.a4)(this.object)&&(this.dso=this.object.indexableObject,this.isCollapsed$=this.isCollapsed())}allMetadataValues(o){return Vh.O.allValues([this.object.hitHighlights,this.dso.metadata],o)}firstMetadataValue(o){return Vh.O.firstValue([this.object.hitHighlights,this.dso.metadata],o)}isCollapsed(){return this.truncatableService.isCollapsed(this.dso.id)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Fs.f),e.rXU(Pi.F),e.rXU(wr.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:0,vars:0,template:function(c,O){},encapsulation:2})}}return d})();const og=["*"],HE=d=>["/collections/",d];function zE(d,y){if(1&d&&(e.j41(0,"a",8),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",9),e.nI1(3,"async"),e.k0s()),2&d){let o;const c=e.XpG();e.Y8G("target",c.linkType===c.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,HE,c.dso.id)),e.BMQ("rel",c.linkType===c.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(o=e.bMT(3,8,c.dso.logo))?null:o.payload)("limitWidth",!1)}}function YE(d,y){if(1&d&&(e.j41(0,"span",10),e.nrm(1,"ds-thumbnail",9),e.nI1(2,"async"),e.k0s()),2&d){let o;const c=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(o=e.bMT(2,2,c.dso.logo))?null:o.payload)("limitWidth",!1)}}function XE(d,y){if(1&d&&e.nrm(0,"ds-badges",11),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function Wv(d,y){if(1&d&&(e.j41(0,"p",12),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(o.dso.shortDescription)}}function JE(d,y){if(1&d&&(e.j41(0,"div",13)(1,"a",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,HE,o.dso.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Ld=class YR extends Ru{constructor(y,o,c,O){super(y,c,O),this.dsoNameService=y,this.linkService=o,this.truncatableService=c,this.bitstreamDataService=O}set dso(y){this._dso=y,(0,G.a4)(this._dso)&&(0,G.Tn)(this._dso.logo)&&this.linkService.resolveLink(this._dso,(0,Ws.s)("logo"))}get dso(){return this._dso}static{this.\u0275fac=function(o){return new(o||YR)(e.rXU(Fs.f),e.rXU(Ii._),e.rXU(Pi.F),e.rXU(wr.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:YR,selectors:[["ds-collection-search-result-grid-element"]],inputs:{dso:"dso"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:og,decls:10,vars:6,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[3,"object","context"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,zE,4,12,"a",1)(2,YE,3,4,"span",2),e.j41(3,"div",3),e.DNE(4,XE,1,2,"ds-badges",4),e.j41(5,"h4",5),e.EFF(6),e.k0s(),e.DNE(7,Wv,2,1,"p",6)(8,JE,4,8,"div",7),e.k0s(),e.SdG(9),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(2),e.JRh(c.dsoNameService.getName(c.dso)),e.R7$(),e.Y8G("ngIf",c.dso.shortDescription),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[f.bT,v.Wk,Oo.T,Ho.F,f.Jj,K.h,K.D9],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Ld=(0,Ue.Cg)([(0,Gn.VK)(Mc.A,Vn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ii._,Pi.F,wr.BitstreamDataService])],Ld);const nf=d=>[d];let sf=class TD extends Ru{ngOnInit(){super.ngOnInit(),this.editPath=(0,ch._E)(this.dso.uuid)}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(TD)))(c||TD)}})()}static{this.\u0275cmp=e.VBU({type:TD,selectors:[["ds-collection-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(o,c){1&o&&(e.j41(0,"ds-collection-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()()()()),2&o&&(e.Y8G("object",c.object)("index",c.index)("linkType",c.linkType)("listID",c.listID),e.R7$(3),e.Y8G("routerLink",e.eq3(5,nf,c.editPath)))},dependencies:[Ld,v.Wk]})}};sf=(0,Ue.Cg)([(0,Gn.VK)(Mc.A,Vn.n.GridElement,Ps.o.AdminSearch)],sf);var Sc=n(17132);const rf=["*"],Kv=d=>["/communities/",d];function Hv(d,y){if(1&d&&(e.j41(0,"a",8),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",9),e.nI1(3,"async"),e.k0s()),2&d){let o;const c=e.XpG();e.Y8G("target",c.linkType===c.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Kv,c.dso.id)),e.BMQ("rel",c.linkType===c.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(o=e.bMT(3,8,c.dso.logo))?null:o.payload)("limitWidth",!1)}}function rg(d,y){if(1&d&&(e.j41(0,"span",10),e.nrm(1,"ds-thumbnail",9),e.nI1(2,"async"),e.k0s()),2&d){let o;const c=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(o=e.bMT(2,2,c.dso.logo))?null:o.payload)("limitWidth",!1)}}function XO(d,y){if(1&d&&e.nrm(0,"ds-badges",11),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function QE(d,y){if(1&d&&(e.j41(0,"p",12),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(o.dso.shortDescription)}}function JO(d,y){if(1&d&&(e.j41(0,"div",13)(1,"a",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Kv,o.dso.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let af=class XR extends Ru{constructor(y,o,c,O){super(y,c,O),this.dsoNameService=y,this.linkService=o,this.truncatableService=c,this.bitstreamDataService=O}set dso(y){this._dso=y,(0,G.a4)(this._dso)&&(0,G.Tn)(this._dso.logo)&&this.linkService.resolveLink(this._dso,(0,Ws.s)("logo"))}get dso(){return this._dso}static{this.\u0275fac=function(o){return new(o||XR)(e.rXU(Fs.f),e.rXU(Ii._),e.rXU(Pi.F),e.rXU(wr.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:XR,selectors:[["ds-community-search-result-grid-element"]],inputs:{dso:"dso"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:rf,decls:10,vars:6,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[3,"object","context"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,Hv,4,12,"a",1)(2,rg,3,4,"span",2),e.j41(3,"div",3),e.DNE(4,XO,1,2,"ds-badges",4),e.j41(5,"h4",5),e.EFF(6),e.k0s(),e.DNE(7,QE,2,1,"p",6)(8,JO,4,8,"div",7),e.k0s(),e.SdG(9),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(2),e.JRh(c.dsoNameService.getName(c.dso)),e.R7$(),e.Y8G("ngIf",c.dso.shortDescription),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[f.bT,v.Wk,Oo.T,Ho.F,f.Jj,K.h,K.D9],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};af=(0,Ue.Cg)([(0,Gn.VK)(Sc.L,Vn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ii._,Pi.F,wr.BitstreamDataService])],af);const QO=d=>[d];let lf=class DD extends Ru{ngOnInit(){super.ngOnInit(),this.editPath=(0,Mp.pk)(this.dso.uuid)}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(DD)))(c||DD)}})()}static{this.\u0275cmp=e.VBU({type:DD,selectors:[["ds-community-admin-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(o,c){1&o&&(e.j41(0,"ds-community-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()()()()),2&o&&(e.Y8G("object",c.object)("index",c.index)("linkType",c.linkType)("listID",c.listID),e.R7$(3),e.Y8G("routerLink",e.eq3(5,QO,c.editPath)))},dependencies:[af,v.Wk]})}};lf=(0,Ue.Cg)([(0,Gn.VK)(Sc.L,Vn.n.GridElement,Ps.o.AdminSearch)],lf);var Nd=n(92827),Ys=n(27442),Yl=n(45663),Fd=n(4436);const Sl=d=>({"btn-sm":d}),Bd=d=>[d];function ZE(d,y){1&d&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.move"),""))}function ZO(d,y){1&d&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.make-private"),""))}function ag(d,y){if(1&d&&(e.j41(0,"a",13),e.nI1(1,"translate"),e.nrm(2,"i",14),e.DNE(3,ZO,3,3,"span",3),e.k0s()),2&d){const o=e.XpG();e.Y8G("ngClass",e.eq3(6,Sl,o.small))("routerLink",e.eq3(8,Bd,o.getPrivateRoute()))("title",e.bMT(1,4,"admin.search.item.make-private")),e.R7$(3),e.Y8G("ngIf",!o.small)}}function Gh(d,y){1&d&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.make-public"),""))}function zv(d,y){if(1&d&&(e.j41(0,"a",15),e.nI1(1,"translate"),e.nrm(2,"i",16),e.DNE(3,Gh,3,3,"span",3),e.k0s()),2&d){const o=e.XpG();e.Y8G("ngClass",e.eq3(6,Sl,o.small))("routerLink",e.eq3(8,Bd,o.getPublicRoute()))("title",e.bMT(1,4,"admin.search.item.make-public")),e.R7$(3),e.Y8G("ngIf",!o.small)}}function cf(d,y){1&d&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.edit"),""))}function qE(d,y){1&d&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.withdraw"),""))}function Yv(d,y){if(1&d&&(e.j41(0,"a",17),e.nI1(1,"translate"),e.nrm(2,"i",18),e.DNE(3,qE,3,3,"span",3),e.k0s()),2&d){const o=e.XpG();e.Y8G("ngClass",e.eq3(6,Sl,o.small))("routerLink",e.eq3(8,Bd,o.getWithdrawRoute()))("title",e.bMT(1,4,"admin.search.item.withdraw")),e.R7$(3),e.Y8G("ngIf",!o.small)}}function Xv(d,y){1&d&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.reinstate"),""))}function Jv(d,y){if(1&d&&(e.j41(0,"a",19),e.nI1(1,"translate"),e.nrm(2,"i",20),e.DNE(3,Xv,3,3,"span",3),e.k0s()),2&d){const o=e.XpG();e.Y8G("ngClass",e.eq3(6,Sl,o.small))("routerLink",e.eq3(8,Bd,o.getReinstateRoute()))("title",e.bMT(1,4,"admin.search.item.reinstate")),e.R7$(3),e.Y8G("ngIf",!o.small)}}function e1(d,y){1&d&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.delete"),""))}let df=(()=>{class d{getEditRoute(){return(0,gi.$r)(this.item)}getMoveRoute(){return new Yl.t(this.getEditRoute(),Fd.Bw).toString()}getDeleteRoute(){return new Yl.t(this.getEditRoute(),Fd.Jr).toString()}getWithdrawRoute(){return new Yl.t(this.getEditRoute(),Fd.kH).toString()}getReinstateRoute(){return new Yl.t(this.getEditRoute(),Fd.Pg).toString()}getPrivateRoute(){return new Yl.t(this.getEditRoute(),Fd.$2).toString()}getPublicRoute(){return new Yl.t(this.getEditRoute(),Fd.RS).toString()}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-admin-search-result-actions-element"]],inputs:{item:"item",small:"small"},standalone:!0,features:[e.aNF],decls:17,vars:34,consts:[[1,"space-children-mr","my-1"],[1,"btn","btn-secondary","move-link",3,"ngClass","routerLink","title"],[1,"fa","fa-arrow-circle-right"],["class","d-none d-sm-inline",4,"ngIf"],["class","btn btn-secondary private-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-secondary public-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-secondary","edit-link",3,"ngClass","routerLink","title"],[1,"fa","fa-edit"],["class","btn btn-warning t withdraw-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-warning reinstate-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-danger","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],[1,"d-none","d-sm-inline"],[1,"btn","btn-secondary","private-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye-slash"],[1,"btn","btn-secondary","public-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye"],[1,"btn","btn-warning","t","withdraw-link",3,"ngClass","routerLink","title"],[1,"fa","fa-ban"],[1,"btn","btn-warning","reinstate-link",3,"ngClass","routerLink","title"],[1,"fa","fa-undo"]],template:function(c,O){1&c&&(e.j41(0,"div",0)(1,"a",1),e.nI1(2,"translate"),e.nrm(3,"i",2),e.DNE(4,ZE,3,3,"span",3),e.k0s(),e.DNE(5,ag,4,10,"a",4)(6,zv,4,10,"a",5),e.j41(7,"a",6),e.nI1(8,"translate"),e.nrm(9,"i",7),e.DNE(10,cf,3,3,"span",3),e.k0s(),e.DNE(11,Yv,4,10,"a",8)(12,Jv,4,10,"a",9),e.j41(13,"a",10),e.nI1(14,"translate"),e.nrm(15,"i",11),e.DNE(16,e1,3,3,"span",3),e.k0s()()),2&c&&(e.R7$(),e.Y8G("ngClass",e.eq3(22,Sl,O.small))("routerLink",e.eq3(24,Bd,O.getMoveRoute()))("title",e.bMT(2,16,"admin.search.item.move")),e.R7$(3),e.Y8G("ngIf",!O.small),e.R7$(),e.Y8G("ngIf",O.item&&O.item.isDiscoverable),e.R7$(),e.Y8G("ngIf",O.item&&!O.item.isDiscoverable),e.R7$(),e.Y8G("ngClass",e.eq3(26,Sl,O.small))("routerLink",e.eq3(28,Bd,O.getEditRoute()))("title",e.bMT(8,18,"admin.search.item.edit")),e.R7$(3),e.Y8G("ngIf",!O.small),e.R7$(),e.Y8G("ngIf",O.item&&!O.item.isWithdrawn),e.R7$(),e.Y8G("ngIf",O.item&&O.item.isWithdrawn),e.R7$(),e.Y8G("ngClass",e.eq3(30,Sl,O.small))("routerLink",e.eq3(32,Bd,O.getDeleteRoute()))("title",e.bMT(14,20,"admin.search.item.delete")),e.R7$(3),e.Y8G("ngIf",!O.small))},dependencies:[f.YU,v.Wk,f.bT,K.h,K.D9]})}}return d})();const qO=["badges"],eM=["buttons"],tM=["*"];function t1(d,y){}let lg=class JR extends Ru{constructor(y,o,c,O){super(y,o,c),this.dsoNameService=y,this.truncatableService=o,this.bitstreamDataService=c,this.themeService=O}ngOnInit(){super.ngOnInit();const y=this.getComponent(),o=this.dynamicComponentLoaderDirective.viewContainerRef;o.clear(),this.compRef=o.createComponent(y,{index:0,injector:void 0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",this.object),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID)}ngOnDestroy(){(0,G.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(){return(0,Gn.Zx)(this.object.getRenderTypes(),Vn.n.GridElement,void 0,this.themeService.getThemeName())}static{this.\u0275fac=function(o){return new(o||JR)(e.rXU(Fs.f),e.rXU(Pi.F),e.rXU(wr.BitstreamDataService),e.rXU(J.Fs))}}static{this.\u0275cmp=e.VBU({type:JR,selectors:[["ds-item-admin-search-result-grid-element"]],viewQuery:function(o,c){if(1&o&&(e.GBs(Nd.z,7),e.GBs(qO,7),e.GBs(eM,7)),2&o){let O;e.mGM(O=e.lsd())&&(c.dynamicComponentLoaderDirective=O.first),e.mGM(O=e.lsd())&&(c.badges=O.first),e.mGM(O=e.lsd())&&(c.buttons=O.first)}},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:tM,decls:8,vars:2,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"d-flex","justify-content-between",3,"item","small"]],template:function(o,c){1&o&&(e.NAR(),e.DNE(0,t1,0,0,"ng-template",2),e.j41(1,"div",null,0),e.SdG(3),e.k0s(),e.j41(4,"ul",3,1)(6,"li",4),e.nrm(7,"ds-item-admin-search-result-actions-element",5),e.k0s()()),2&o&&(e.R7$(7),e.Y8G("item",c.dso)("small",!0))},dependencies:[df,Nd.z]})}};lg=(0,Ue.Cg)([(0,Gn.VK)(Ys.H,Vn.n.GridElement,Ps.o.AdminSearch),(0,Ue.Sn)("design:paramtypes",[Fs.f,Pi.F,wr.BitstreamDataService,J.Fs])],lg);var Hr=n(79411);const nM=d=>[d];function sM(d,y){if(1&d&&e.nrm(0,"ds-badges",6),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function n1(d,y){if(1&d&&e.nrm(0,"a",7),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,nM,"/collections/"+o.dso.id))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function s1(d,y){if(1&d&&e.nrm(0,"span",8),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function iM(d,y){if(1&d&&e.nrm(0,"div",9),2&d){const o=e.XpG();e.Y8G("innerHTML",o.firstMetadataValue("dc.description.abstract"),e.npT)}}let uf=class OD extends Hr.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(OD)))(c||OD)}})()}static{this.\u0275cmp=e.VBU({type:OD,selectors:[["ds-collection-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:5,consts:[[1,"row"],[3,"ngClass"],[3,"object","context",4,"ngIf"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],["class","text-muted abstract-text",3,"innerHTML",4,"ngIf"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted","abstract-text",3,"innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,sM,1,2,"ds-badges",2)(3,n1,1,6,"a",3)(4,s1,1,1,"span",4)(5,iM,1,1,"div",5),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9 offset-3 offset-md-2":"col-md-12"),e.R7$(),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.dso.shortDescription))},dependencies:[f.bT,f.YU,Ho.F,v.Wk],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};uf=(0,Ue.Cg)([(0,Gn.VK)(Mc.A,Vn.n.ListElement)],uf);const $a=d=>[d];let cg=class MD extends Hr.P{ngOnInit(){super.ngOnInit(),this.editPath=(0,ch._E)(this.dso.uuid)}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(MD)))(c||MD)}})()}static{this.\u0275cmp=e.VBU({type:MD,selectors:[["ds-collection-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],["data-test","coll-link",1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(o,c){1&o&&(e.nrm(0,"ds-collection-search-result-list-element",0),e.j41(1,"div")(2,"a",1),e.nrm(3,"i",2),e.EFF(4),e.nI1(5,"translate"),e.k0s()()),2&o&&(e.Y8G("object",c.object)("index",c.index)("linkType",c.linkType)("listID",c.listID),e.R7$(2),e.Y8G("routerLink",e.eq3(8,$a,c.editPath)),e.R7$(2),e.SpI(" ",e.bMT(5,6,"admin.search.collection.edit")," "))},dependencies:[uf,v.Wk,K.h,K.D9]})}};cg=(0,Ue.Cg)([(0,Gn.VK)(Mc.A,Vn.n.ListElement,Ps.o.AdminSearch)],cg);const oM=d=>[d];function LA(d,y){if(1&d&&e.nrm(0,"ds-badges",6),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function Qv(d,y){if(1&d&&e.nrm(0,"a",7),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,oM,"/communities/"+o.dso.id))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function o1(d,y){if(1&d&&e.nrm(0,"span",8),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function rM(d,y){if(1&d&&e.nrm(0,"div",9),2&d){const o=e.XpG();e.Y8G("innerHTML",o.firstMetadataValue("dc.description.abstract"),e.npT)}}let hf=class SD extends Hr.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(SD)))(c||SD)}})()}static{this.\u0275cmp=e.VBU({type:SD,selectors:[["ds-community-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:5,consts:[[1,"row"],[3,"ngClass"],[3,"object","context",4,"ngIf"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],["class","text-muted abstract-text",3,"innerHTML",4,"ngIf"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted","abstract-text",3,"innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,LA,1,2,"ds-badges",2)(3,Qv,1,6,"a",3)(4,o1,1,1,"span",4)(5,rM,1,1,"div",5),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9 offset-3 offset-md-2":"col-md-12"),e.R7$(),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.dso.shortDescription))},dependencies:[f.bT,f.YU,Ho.F,v.Wk],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};hf=(0,Ue.Cg)([(0,Gn.VK)(Sc.L,Vn.n.ListElement)],hf);const aM=d=>[d];let pf=class ID extends Hr.P{ngOnInit(){super.ngOnInit(),this.editPath=(0,Mp.pk)(this.dso.uuid)}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(ID)))(c||ID)}})()}static{this.\u0275cmp=e.VBU({type:ID,selectors:[["ds-community-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],[1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(o,c){1&o&&(e.nrm(0,"ds-community-search-result-list-element",0),e.j41(1,"div")(2,"a",1),e.nrm(3,"i",2),e.EFF(4),e.nI1(5,"translate"),e.k0s()()),2&o&&(e.Y8G("object",c.object)("index",c.index)("linkType",c.linkType)("listID",c.listID),e.R7$(2),e.Y8G("routerLink",e.eq3(8,aM,c.editPath)),e.R7$(2),e.SpI(" ",e.bMT(5,6,"admin.search.community.edit")," "))},dependencies:[hf,v.Wk,K.h,K.D9]})}};pf=(0,Ue.Cg)([(0,Gn.VK)(Sc.L,Vn.n.ListElement,Ps.o.AdminSearch)],pf);var Au=n(17191);let dg=class PD extends Hr.P{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(PD)))(c||PD)}})()}static{this.\u0275cmp=e.VBU({type:PD,selectors:[["ds-item-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:7,consts:[[3,"object","viewMode","index","linkType","listID"],[3,"item","small"]],template:function(o,c){1&o&&e.nrm(0,"ds-listable-object-component-loader",0)(1,"ds-item-admin-search-result-actions-element",1),2&o&&(e.Y8G("object",c.object)("viewMode",c.viewModes.ListElement)("index",c.index)("linkType",c.linkType)("listID",c.listID),e.R7$(),e.Y8G("item",c.dso)("small",!1))},dependencies:[Au.v,df]})}};dg=(0,Ue.Cg)([(0,Gn.VK)(Ys.H,Vn.n.ListElement,Ps.o.AdminSearch)],dg);var jd=n(79951);const r1=d=>({"btn-sm":d}),a1=d=>[d];function lM(d,y){1&d&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.delete"),""))}function cM(d,y){1&d&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.send-back"),""))}let Zv=(()=>{class d{getDeleteRoute(){return(0,jd.BD)(this.wfi.id)}getSendBackRoute(){return(0,jd.Rk)(this.wfi.id)}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-workflow-item-admin-workflow-actions-element"]],inputs:{wfi:"wfi",small:"small"},standalone:!0,features:[e.aNF],decls:9,vars:20,consts:[[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],["class","d-none d-sm-inline",4,"ngIf"],[1,"btn","btn-light","my-1","send-back-link",3,"ngClass","routerLink","title"],[1,"fa","fa-hand-point-left"],[1,"d-none","d-sm-inline"]],template:function(c,O){1&c&&(e.j41(0,"div",0)(1,"a",1),e.nI1(2,"translate"),e.nrm(3,"i",2),e.DNE(4,lM,3,3,"span",3),e.k0s(),e.j41(5,"a",4),e.nI1(6,"translate"),e.nrm(7,"i",5),e.DNE(8,cM,3,3,"span",3),e.k0s()()),2&c&&(e.R7$(),e.Y8G("ngClass",e.eq3(12,r1,O.small))("routerLink",e.eq3(14,a1,O.getDeleteRoute()))("title",e.bMT(2,8,"admin.workflow.item.delete")),e.R7$(3),e.Y8G("ngIf",!O.small),e.R7$(),e.Y8G("ngClass",e.eq3(16,r1,O.small))("routerLink",e.eq3(18,a1,O.getSendBackRoute()))("title",e.bMT(6,10,"admin.workflow.item.send-back")),e.R7$(3),e.Y8G("ngIf",!O.small))},dependencies:[f.YU,v.Wk,f.bT,K.h,K.D9]})}}return d})();var Aa=n(66129),qv=n(43280),ua=n(7434),dM=n(24547),e0=n(36074),t0=n(83987);let sl=class{static{this.type=t0.T}};(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],sl.prototype,"id",void 0),(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],sl.prototype,"type",void 0),(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",String)],sl.prototype,"ordertype",void 0),(0,Ue.Cg)([(0,vn.deserializeAs)(new dM.a("supervision-order"),"id"),(0,Ue.Sn)("design:type",String)],sl.prototype,"uuid",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],sl.prototype,"_links",void 0),(0,Ue.Cg)([(0,ii.nf)(Fh.U),(0,Ue.Sn)("design:type",qo.c)],sl.prototype,"item",void 0),(0,Ue.Cg)([(0,ii.nf)(e0.U),(0,Ue.Sn)("design:type",qo.c)],sl.prototype,"group",void 0),sl=(0,Ue.Cg)([ii.gV],sl);var n0=n(50518),NA=n(79632);function l1(d,y){1&d&&(e.nrm(0,"ds-error",19),e.nI1(1,"translate")),2&d&&e.FS9("message",e.bMT(1,1,"supervision-group-selector.select.type-of-order.error"))}function c1(d,y){1&d&&(e.nrm(0,"ds-error",19),e.nI1(1,"translate")),2&d&&e.FS9("message",e.bMT(1,1,"supervision-group-selector.select.group.error"))}let d1=(()=>{class d{constructor(o,c,O,W,ue){this.dsoNameService=o,this.activeModal=c,this.supervisionOrderDataService=O,this.notificationsService=W,this.translateService=ue,this.isSubmitted=!1,this.create=new e.bkB}close(){this.activeModal.close()}updateGroupObjectSelected(o){this.selectedGroup=o}save(){if(this.isSubmitted=!0,this.selectedOrderType&&this.selectedGroup){const o=new sl;o.ordertype=this.selectedOrderType,this.supervisionOrderDataService.create(o,this.itemUUID,this.selectedGroup.uuid,this.selectedOrderType).pipe((0,js.qD)()).subscribe(c=>{c.state===ua.zE.Success?(this.notificationsService.success(this.translateService.get("supervision-group-selector.notification.create.success.title",{name:this.dsoNameService.getName(this.selectedGroup)})),this.create.emit(c.payload),this.close()):this.notificationsService.error(this.translateService.get("supervision-group-selector.notification.create.failure.title"),422===c.statusCode?this.translateService.get("supervision-group-selector.notification.create.already-existing"):c.errorMessage)})}}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Fs.f),e.rXU(q.Lw),e.rXU(Aa.SupervisionOrderDataService),e.rXU(ys.I),e.rXU(K.c$))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-supervision-group-selector"]],outputs:{create:"create"},standalone:!0,features:[e.aNF],decls:38,vars:29,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"control-group","col-sm-12"],["for","supervisionOrder",1,"form-label"],["name","supervisionOrder","id","supervisionOrder",1,"form-select",3,"ngModelChange","ngModel"],["value","EDITOR"],["value","OBSERVER"],[3,"message",4,"ngIf"],["for","supervisionGroup",1,"form-label"],[1,"mb-3"],["id","supervisionGroup","type","text","disabled","",1,"form-control",3,"value"],[3,"select","isListOfEPerson"],[1,"modal-footer"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],[1,"btn","btn-primary","save",3,"click"],[1,"fas","fa-save"],[3,"message"]],template:function(c,O){1&c&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return O.close()}),e.k0s()(),e.j41(5,"div",2)(6,"div",3)(7,"div",4)(8,"label",5),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"select",6),e.nI1(12,"translate"),e.mxI("ngModelChange",function(ue){return e.DH7(O.selectedOrderType,ue)||(O.selectedOrderType=ue),ue}),e.j41(13,"option",7),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"option",8),e.EFF(17),e.nI1(18,"translate"),e.k0s()(),e.DNE(19,l1,2,3,"ds-error",9),e.k0s()(),e.j41(20,"div",3)(21,"div",4)(22,"label",10),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.qex(25,11),e.nrm(26,"input",12),e.DNE(27,c1,2,3,"ds-error",9),e.bVm(),e.j41(28,"ds-eperson-group-list",13),e.bIt("select",function(ue){return O.updateGroupObjectSelected(ue)}),e.k0s()()(),e.j41(29,"div",14)(30,"button",15),e.bIt("click",function(){return O.close()}),e.nrm(31,"i",16),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"button",17),e.bIt("click",function(){return O.save()}),e.nrm(35,"i",18),e.EFF(36),e.nI1(37,"translate"),e.k0s()()()()),2&c&&(e.R7$(2),e.SpI("",e.bMT(3,13,"supervision-group-selector.header")," "),e.R7$(7),e.JRh(e.bMT(10,15,"supervision-group-selector.select.type-of-order.label")),e.R7$(2),e.R50("ngModel",O.selectedOrderType),e.BMQ("aria-label",e.bMT(12,17,"supervision-group-selector.select.type-of-order.label")),e.R7$(3),e.JRh(e.bMT(15,19,"supervision-group-selector.select.type-of-order.option.editor")),e.R7$(3),e.JRh(e.bMT(18,21,"supervision-group-selector.select.type-of-order.option.observer")),e.R7$(2),e.Y8G("ngIf",O.isSubmitted&&(!O.selectedOrderType||""===O.selectedOrderType)),e.R7$(4),e.JRh(e.bMT(24,23,"supervision-group-selector.select.group.label")),e.R7$(3),e.Y8G("value",O.selectedGroup?O.dsoNameService.getName(O.selectedGroup):""),e.R7$(),e.Y8G("ngIf",O.isSubmitted&&!O.selectedGroup),e.R7$(),e.Y8G("isListOfEPerson",!1),e.R7$(4),e.SpI(" ",e.bMT(33,25,"supervision-group-selector.button.cancel")," "),e.R7$(4),e.SpI(" ",e.bMT(37,27,"supervision-group-selector.button.save")," "))},dependencies:[ln.YN,ln.xH,ln.y7,ln.wz,ln.BC,ln.vS,f.bT,NA.A,n0.T,K.h,K.D9]})}}return d})();var ug=n(19852),Xl=n(18226);function sd(d,y){if(1&d){const o=e.RV6();e.j41(0,"a",4),e.nI1(1,"translate"),e.bIt("click",function(O){const W=e.eBV(o).$implicit,ue=e.XpG(3);return O.preventDefault(),O.stopImmediatePropagation(),e.Njj(ue.deleteSupervisionOrder(W))}),e.EFF(2),e.j41(3,"span",5),e.EFF(4," \xd7"),e.k0s()()}if(2&d){const o=y.$implicit,c=e.XpG(3);e.Y8G("ngbTooltip",e.bMT(1,2,"workflow-item.search.result.list.element.supervised.remove-tooltip")),e.R7$(2),e.SpI(" ",c.dsoNameService.getName(o.group)," ")}}function uM(d,y){if(1&d&&(e.j41(0,"div",2)(1,"div")(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div"),e.DNE(6,sd,5,4,"a",3),e.k0s()()),2&d){const o=e.XpG().ngVar;e.R7$(3),e.SpI("",e.bMT(4,2,"workflow-item.search.result.list.element.supervised-by")," "),e.R7$(3),e.Y8G("ngForOf",o)}}function hM(d,y){if(1&d&&(e.qex(0),e.DNE(1,uM,7,4,"div",1),e.bVm()),2&d){const o=y.ngVar;e.R7$(),e.Y8G("ngIf",(null==o?null:o.length)>0)}}let s0=(()=>{class d{constructor(o){this.dsoNameService=o,this.supervisionOrderList=[],this.supervisionOrderEntries$=new _.t([]),this.delete=new e.bkB}ngOnChanges(o){o&&o.supervisionOrderList&&this.getSupervisionOrderEntries(o.supervisionOrderList.currentValue).subscribe(c=>{this.supervisionOrderEntries$.next(c)})}getSupervisionOrderEntries(o){return(0,Eu.H)(o).pipe((0,Qn.Z)(c=>c.group.pipe((0,js.qD)(),(0,xt.T)(O=>O.hasSucceeded?{supervisionOrder:c,group:O.payload}:null))),(0,ug.T)((c,O)=>(0,G.hj)(O)?[...c,O]:c,[]))}deleteSupervisionOrder(o){this.delete.emit(o)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Fs.f))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-supervision-order-status"]],inputs:{supervisionOrderList:"supervisionOrderList"},outputs:{delete:"delete"},standalone:!0,features:[e.OA$,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["class","item-list-supervision",4,"ngIf"],[1,"item-list-supervision"],["class","badge bg-primary me-1 mb-1 text-capitalize mw-100 text-truncate","data-test","soBadge","aria-label","Close",3,"ngbTooltip","click",4,"ngFor","ngForOf"],["data-test","soBadge","aria-label","Close",1,"badge","bg-primary","me-1","mb-1","text-capitalize","mw-100","text-truncate",3,"click","ngbTooltip"],["aria-hidden","true"]],template:function(c,O){1&c&&(e.DNE(0,hM,2,1,"ng-container",0),e.nI1(1,"async")),2&c&&e.Y8G("ngVar",e.bMT(1,1,O.supervisionOrderEntries$))},dependencies:[Xl.r,f.bT,f.pM,q.n8,q.md,f.Jj,K.h,K.D9],styles:[".badge[_ngcontent-%COMP%]{cursor:pointer}"]})}}return d})();const o0=d=>({"btn-sm":d}),ff=d=>[d];function u1(d,y){1&d&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.delete"),""))}function $h(d,y){1&d&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.policies"),""))}function mf(d,y){1&d&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.supervision"),""))}let gf=(()=>{class d{constructor(o,c,O,W,ue){this.dsoNameService=o,this.modalService=c,this.notificationsService=O,this.supervisionOrderDataService=W,this.translateService=ue,this.supervisionOrderList=[],this.messagePrefix="workflow-item.search.result",this.create=new e.bkB,this.delete=new e.bkB}ngOnInit(){const o=this.wsi.item.pipe((0,js.ak)());o.pipe((0,xt.T)(c=>this.getPoliciesRoute(c))).subscribe(c=>{this.resourcePoliciesPageRoute=c}),o.subscribe(c=>{this.item=c})}getDeleteRoute(){return(0,jd.BY)(this.wsi.id)}getPoliciesRoute(o){return["/items",o.uuid,"edit",Fd.K4]}deleteSupervisionOrder(o){const c=this.modalService.open(vd.M);c.componentInstance.name=this.dsoNameService.getName(o.group),c.componentInstance.headerLabel=this.messagePrefix+".delete-supervision.modal.header",c.componentInstance.infoLabel=this.messagePrefix+".delete-supervision.modal.info",c.componentInstance.cancelLabel=this.messagePrefix+".delete-supervision.modal.cancel",c.componentInstance.confirmLabel=this.messagePrefix+".delete-supervision.modal.confirm",c.componentInstance.brandColor="danger",c.componentInstance.confirmIcon="fas fa-trash",c.componentInstance.response.pipe((0,T.s)(1),(0,ks.n)(O=>{if(O&&(0,G.a4)(o.supervisionOrder.id))return this.supervisionOrderDataService.delete(o.supervisionOrder.id).pipe((0,T.s)(1),(0,mi.M)(W=>{W?this.notificationsService.success(null,this.translateService.get(this.messagePrefix+".notification.deleted.success",{name:this.dsoNameService.getName(o.group)})):this.notificationsService.error(null,this.translateService.get(this.messagePrefix+".notification.deleted.failure",{name:this.dsoNameService.getName(o.group)}))}))})).subscribe(O=>{O&&this.delete.emit(this.convertReloadedObject())})}openSupervisionModal(){const o=this.modalService.open(d1,{size:"lg",backdrop:"static"});o.componentInstance.itemUUID=this.item.uuid,o.componentInstance.create.subscribe(()=>{this.create.emit(this.convertReloadedObject())})}convertReloadedObject(){const o=(0,qv.L)(this.wsi.constructor);return Object.assign(new o,this.wsi,{indexableObject:this.wsi})}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Fs.f),e.rXU(q.Bq),e.rXU(ys.I),e.rXU(Aa.SupervisionOrderDataService),e.rXU(K.c$))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-workspace-item-admin-workflow-actions-element"]],inputs:{wsi:"wsi",small:"small",supervisionOrderList:"supervisionOrderList"},outputs:{create:"create",delete:"delete"},standalone:!0,features:[e.aNF],decls:15,vars:26,consts:[[1,"my-1"],[3,"delete","supervisionOrderList"],[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],["class","d-none d-sm-inline",4,"ngIf"],[1,"btn","btn-light","my-1","policies-link",3,"ngClass","routerLink","title"],[1,"fas","fa-edit"],[1,"btn","btn-light","my-1","supervision-group-selector",3,"click","ngClass","title"],[1,"fas","fa-users-cog"],[1,"d-none","d-sm-inline"]],template:function(c,O){1&c&&(e.j41(0,"div",0)(1,"ds-supervision-order-status",1),e.bIt("delete",function(ue){return O.deleteSupervisionOrder(ue)}),e.k0s()(),e.j41(2,"div",2)(3,"a",3),e.nI1(4,"translate"),e.nrm(5,"i",4),e.DNE(6,u1,3,3,"span",5),e.k0s(),e.j41(7,"a",6),e.nI1(8,"translate"),e.nrm(9,"i",7),e.DNE(10,$h,3,3,"span",5),e.k0s(),e.j41(11,"a",8),e.nI1(12,"translate"),e.bIt("click",function(){return O.openSupervisionModal()}),e.nrm(13,"i",9),e.DNE(14,mf,3,3,"span",5),e.k0s()()),2&c&&(e.R7$(),e.Y8G("supervisionOrderList",O.supervisionOrderList),e.R7$(2),e.Y8G("ngClass",e.eq3(18,o0,O.small))("routerLink",e.eq3(20,ff,O.getDeleteRoute()))("title",e.bMT(4,12,"admin.workflow.item.delete")),e.R7$(3),e.Y8G("ngIf",!O.small),e.R7$(),e.Y8G("ngClass",e.eq3(22,o0,O.small))("routerLink",O.resourcePoliciesPageRoute)("title",e.bMT(8,14,"admin.workflow.item.policies")),e.R7$(3),e.Y8G("ngIf",!O.small),e.R7$(),e.Y8G("ngClass",e.eq3(24,o0,O.small))("title",e.bMT(12,16,"admin.workflow.item.supervision")),e.R7$(3),e.Y8G("ngIf",!O.small))},dependencies:[s0,f.YU,v.Wk,f.bT,K.h,K.D9]})}}return d})();var Ud=n(38786);const h1=["badges"],p1=["buttons"];function pM(d,y){}function fM(d,y){if(1&d&&e.nrm(0,"ds-workflow-item-admin-workflow-actions-element",9),2&d){const o=e.XpG();e.Y8G("wfi",o.dso)("small",!0)}}let hg=class QR extends Ru{constructor(y,o,c,O,W){super(y,c,W),this.dsoNameService=y,this.linkService=o,this.truncatableService=c,this.themeService=O,this.bitstreamDataService=W}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,Ws.s)("item")),this.item$=this.dso.item.pipe((0,js.v7)(),(0,js.Bo)()),this.item$.pipe((0,T.s)(1)).subscribe(y=>{const o=this.getComponent(y),c=this.dynamicComponentLoaderDirective.viewContainerRef;c.clear(),this.compRef=c.createComponent(o,{index:0,injector:void 0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",y),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID),this.compRef.changeDetectorRef.detectChanges()})}ngOnDestroy(){(0,G.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(y){return(0,Gn.Zx)(y.getRenderTypes(),Vn.n.GridElement,void 0,this.themeService.getThemeName())}static{this.\u0275fac=function(o){return new(o||QR)(e.rXU(Fs.f),e.rXU(Ii._),e.rXU(Pi.F),e.rXU(J.Fs),e.rXU(wr.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:QR,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(o,c){if(1&o&&(e.GBs(Nd.z,7),e.GBs(h1,7),e.GBs(p1,7)),2&o){let O;e.mGM(O=e.lsd())&&(c.dynamicComponentLoaderDirective=O.first),e.mGM(O=e.lsd())&&(c.badges=O.first),e.mGM(O=e.lsd())&&(c.buttons=O.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:4,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"position-absolute","ms-1"],[1,"workflow-badge"],[1,"badge","bg-info"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["class","d-flex justify-content-between",3,"wfi","small",4,"ngIf"],[1,"d-flex","justify-content-between",3,"wfi","small"]],template:function(o,c){1&o&&(e.DNE(0,pM,0,0,"ng-template",2),e.j41(1,"div",3,0)(3,"div",4)(4,"span",5),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ul",6,1)(9,"li",7),e.DNE(10,fM,1,2,"ds-workflow-item-admin-workflow-actions-element",8),e.k0s()()),2&o&&(e.R7$(5),e.JRh(e.bMT(6,2,"admin.workflow.item.workflow")),e.R7$(5),e.Y8G("ngIf",c.object))},dependencies:[f.bT,Zv,K.h,K.D9,Nd.z]})}};hg=(0,Ue.Cg)([(0,Gn.VK)(Ud.q,Vn.n.GridElement,Ps.o.AdminWorkflowSearch),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ii._,Pi.F,J.Fs,wr.BitstreamDataService])],hg);var pg=n(95010);const f1=["badges"],fg=["buttons"];function mM(d,y){}let r0=class ZR extends Ru{constructor(y,o,c,O,W,ue){super(y,c,W),this.dsoNameService=y,this.linkService=o,this.truncatableService=c,this.themeService=O,this.bitstreamDataService=W,this.supervisionOrderDataService=ue,this.supervisionOrder$=new _.t([])}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,Ws.s)("item")),this.item$=this.dso.item.pipe((0,js.v7)(),(0,js.Bo)()),this.item$.pipe((0,T.s)(1)).subscribe(y=>{const o=this.getComponent(y),c=this.dynamicComponentLoaderDirective.viewContainerRef;c.clear(),this.compRef=c.createComponent(o,{index:0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",y),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID),this.compRef.changeDetectorRef.detectChanges()}),this.item$.pipe((0,T.s)(1),(0,mi.M)(y=>this.itemId=y.id),(0,Qn.Z)(y=>this.retrieveSupervisorOrders(y.id))).subscribe(y=>{this.supervisionOrder$.next(y)})}ngOnDestroy(){(0,G.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(y){return(0,Gn.Zx)(y.getRenderTypes(),Vn.n.GridElement,void 0,this.themeService.getThemeName())}retrieveSupervisorOrders(y){return this.supervisionOrderDataService.searchByItem(y,!1,!0,(0,Ws.s)("group")).pipe((0,js.qD)(),(0,xt.T)(o=>o.hasSucceeded&&!o.hasNoContent?o.payload.page:[]))}reloadObject(y){this.reloadedObject.emit(y)}static{this.\u0275fac=function(o){return new(o||ZR)(e.rXU(Fs.f),e.rXU(Ii._),e.rXU(Pi.F),e.rXU(J.Fs),e.rXU(wr.BitstreamDataService),e.rXU(Aa.SupervisionOrderDataService))}}static{this.\u0275cmp=e.VBU({type:ZR,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(o,c){if(1&o&&(e.GBs(Nd.z,7),e.GBs(f1,7),e.GBs(fg,7)),2&o){let O;e.mGM(O=e.lsd())&&(c.dynamicComponentLoaderDirective=O.first),e.mGM(O=e.lsd())&&(c.badges=O.first),e.mGM(O=e.lsd())&&(c.buttons=O.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:12,vars:8,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"position-absolute","ms-1"],[1,"workflow-badge"],[1,"badge","bg-info"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[3,"create","delete","small","supervisionOrderList","wsi"]],template:function(o,c){if(1&o){const O=e.RV6();e.DNE(0,mM,0,0,"ng-template",2),e.j41(1,"div",3,0)(3,"div",4)(4,"span",5),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ul",6,1)(9,"li",7)(10,"ds-workspace-item-admin-workflow-actions-element",8),e.nI1(11,"async"),e.bIt("create",function(ue){return e.eBV(O),e.Njj(c.reloadObject(ue))})("delete",function(ue){return e.eBV(O),e.Njj(c.reloadObject(ue))}),e.k0s()()()}2&o&&(e.R7$(5),e.JRh(e.bMT(6,4,"admin.workflow.item.workspace")),e.R7$(5),e.Y8G("small",!0)("supervisionOrderList",e.bMT(11,6,c.supervisionOrder$))("wsi",c.dso))},dependencies:[gf,f.Jj,K.h,K.D9,Nd.z]})}};function gM(d,y){if(1&d&&(e.nrm(0,"ds-listable-object-component-loader",4),e.nI1(1,"async")),2&d){const o=e.XpG();e.Y8G("object",e.bMT(1,5,o.item$))("viewMode",o.viewModes.ListElement)("index",o.index)("linkType",o.linkType)("listID",o.listID)}}r0=(0,Ue.Cg)([(0,Gn.VK)(pg.I,Vn.n.GridElement,Ps.o.AdminWorkflowSearch),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ii._,Pi.F,J.Fs,wr.BitstreamDataService,Aa.SupervisionOrderDataService])],r0);let mg=class qR extends Hr.P{constructor(y,o,c,O){super(o,c,O),this.linkService=y,this.truncatableService=o,this.dsoNameService=c,this.appConfig=O,this.item$=new _.t(void 0)}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,Ws.s)("item")),this.dso.item.pipe((0,js.qD)(),(0,js.Bo)()).subscribe(y=>{this.item$.next(y)})}static{this.\u0275fac=function(o){return new(o||qR)(e.rXU(Ii._),e.rXU(Pi.F),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:qR,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:8,consts:[[1,"workflow-badge"],[1,"badge","bg-info"],[3,"object","viewMode","index","linkType","listID",4,"ngIf"],[3,"wfi","small"],[3,"object","viewMode","index","linkType","listID"]],template:function(o,c){1&o&&(e.j41(0,"div",0)(1,"span",1),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.DNE(4,gM,2,7,"ds-listable-object-component-loader",2),e.nI1(5,"async"),e.nrm(6,"ds-workflow-item-admin-workflow-actions-element",3)),2&o&&(e.R7$(2),e.JRh(e.bMT(3,4,"admin.workflow.item.workflow")),e.R7$(2),e.Y8G("ngIf",e.bMT(5,6,c.item$)),e.R7$(2),e.Y8G("wfi",c.dso)("small",!1))},dependencies:[f.bT,Au.v,Zv,f.Jj,K.h,K.D9]})}};function m1(d,y){if(1&d&&(e.nrm(0,"ds-listable-object-component-loader",3),e.nI1(1,"async")),2&d){const o=e.XpG();e.Y8G("object",e.bMT(1,5,o.item$))("viewMode",o.viewModes.ListElement)("index",o.index)("linkType",o.linkType)("listID",o.listID)}}mg=(0,Ue.Cg)([(0,Gn.VK)(Ud.q,Vn.n.ListElement,Ps.o.AdminWorkflowSearch),(0,Ue.Sn)("design:paramtypes",[Ii._,Pi.F,Fs.f,Object])],mg);let gg=class eA extends Hr.P{constructor(y,o,c,O,W){super(O,o,W),this.linkService=y,this.dsoNameService=o,this.supervisionOrderDataService=c,this.truncatableService=O,this.appConfig=W,this.item$=new _.t(void 0),this.supervisionOrder$=new _.t([])}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,Ws.s)("item")),this.dso.item.pipe((0,js.qD)(),(0,js.Bo)()).pipe((0,T.s)(1),(0,mi.M)(o=>{this.item$.next(o),this.itemId=o.id}),(0,Qn.Z)(o=>this.retrieveSupervisorOrders(o.id))).subscribe(o=>{this.supervisionOrder$.next(o)})}retrieveSupervisorOrders(y){return this.supervisionOrderDataService.searchByItem(y,!1,!0,(0,Ws.s)("group")).pipe((0,js.qD)(),(0,xt.T)(o=>o.hasSucceeded&&!o.hasNoContent?o.payload.page:[]))}reloadObject(y){this.reloadedObject.emit(y)}static{this.\u0275fac=function(o){return new(o||eA)(e.rXU(Ii._),e.rXU(Fs.f),e.rXU(Aa.SupervisionOrderDataService),e.rXU(Pi.F),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:eA,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:11,consts:[[1,"badge","bg-info"],[3,"object","viewMode","index","linkType","listID",4,"ngIf"],[3,"create","delete","small","supervisionOrderList","wsi"],[3,"object","viewMode","index","linkType","listID"]],template:function(o,c){1&o&&(e.j41(0,"span",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,m1,2,7,"ds-listable-object-component-loader",1),e.nI1(4,"async"),e.j41(5,"ds-workspace-item-admin-workflow-actions-element",2),e.nI1(6,"async"),e.bIt("create",function(W){return c.reloadObject(W)})("delete",function(W){return c.reloadObject(W)}),e.k0s()),2&o&&(e.R7$(),e.JRh(e.bMT(2,5,"admin.workflow.item.workspace")),e.R7$(2),e.Y8G("ngIf",e.bMT(4,7,c.item$)),e.R7$(2),e.Y8G("small",!1)("supervisionOrderList",e.bMT(6,9,c.supervisionOrder$))("wsi",c.dso))},dependencies:[f.bT,Au.v,gf,f.Jj,K.h,K.D9]})}};gg=(0,Ue.Cg)([(0,Gn.VK)(pg.I,Vn.n.ListElement,Ps.o.AdminWorkflowSearch),(0,Ue.Sn)("design:paramtypes",[Ii._,Fs.f,Aa.SupervisionOrderDataService,Pi.F,Object])],gg);const kd=(0,ne.hZ)("focusShadow",[(0,ne.wk)("focus",(0,ne.iF)({boxShadow:"rgba(119, 119, 119, 0.6) 0px 0px 6px"})),(0,ne.wk)("blur",(0,ne.iF)({boxShadow:"none"})),(0,ne.kY)("focus <=> blur",[(0,ne.i0)("250ms")])]);(0,ne.hZ)("focusBackground",[(0,ne.wk)("focus",(0,ne.iF)({backgroundColor:"rgba(119, 119, 119, 0.1)"})),(0,ne.wk)("blur",(0,ne.iF)({backgroundColor:"transparent"})),(0,ne.kY)("focus <=> blur",[(0,ne.i0)("250ms")])]);var wa=n(21308),er=n(44869);const Wh=["*","*"],Kh=()=>["dc.contributor.author","dc.creator","dc.contributor.*"],Hh=d=>[d];function vM(d,y){if(1&d&&(e.j41(0,"a",11),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Hh,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function yM(d,y){if(1&d&&(e.j41(0,"span",13)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function EM(d,y){if(1&d&&e.nrm(0,"ds-badges",14),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)("showAccessStatus",!0)}}function _g(d,y){if(1&d&&(e.j41(0,"span",19),e.EFF(1),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.JRh(o.firstMetadataValue("dc.date.issued"))}}function a0(d,y){if(1&d&&(e.j41(0,"span"),e.EFF(1,", "),e.nrm(2,"span",20),e.k0s()),2&d){const o=y.$implicit;e.R7$(2),e.Y8G("innerHTML",o,e.npT)}}function CM(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",15)(1,"p",16),e.DNE(2,_g,2,1,"span",17)(3,a0,3,1,"span",18),e.k0s()()),2&d){const o=e.XpG();e.Y8G("id",o.dso.id)("minLines",1),e.R7$(2),e.Y8G("ngIf",o.dso.hasMetadata("dc.date.issued")),e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(4,Kh)))}}function FA(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",15)(1,"p",21),e.nrm(2,"span",20),e.k0s()()),2&d){const o=e.XpG();e.Y8G("id",o.dso.id)("minLines",3),e.R7$(2),e.Y8G("innerHTML",o.firstMetadataValue("dc.description.abstract"),e.npT)}}function BA(d,y){if(1&d&&(e.j41(0,"div",22)(1,"a",23),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Hh,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Jl=class tA extends Ru{constructor(y,o,c){super(y,o,c),this.dsoNameService=y,this.truncatableService=o,this.bitstreamDataService=c}ngOnInit(){super.ngOnInit(),this.itemPageRoute=(0,gi._o)(this.dso),this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.dso)}static{this.\u0275fac=function(o){return new(o||tA)(e.rXU(Fs.f),e.rXU(Pi.F),e.rXU(wr.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:tA,selectors:[["ds-item-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Wh,decls:15,vars:14,consts:[[1,"card"],[1,"position-absolute","ms-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context","showAccessStatus",4,"ngIf"],[3,"id"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[3,"id","minLines",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context","showAccessStatus"],[3,"id","minLines"],[1,"item-authors","card-text","text-muted"],["class","item-date",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"item-date"],[3,"innerHTML"],[1,"item-abstract","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(Wh),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"div",1),e.SdG(3),e.k0s(),e.DNE(4,vM,5,12,"a",2)(5,yM,4,4,"span",3),e.j41(6,"div",4),e.DNE(7,EM,1,3,"ds-badges",5),e.j41(8,"ds-truncatable",6)(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,CM,4,5,"ds-truncatable-part",9)(12,FA,3,3,"ds-truncatable-part",9),e.k0s(),e.DNE(13,BA,4,8,"div",10),e.k0s(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,c.isCollapsed$)?"blur":"focus"),e.R7$(4),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id),e.R7$(),e.Y8G("id",c.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata(e.lJ4(13,Kh))),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("dc.description.abstract")),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[f.bT,v.Wk,Oo.T,Ho.F,wa.d,er.W,f.pM,f.Jj,K.h,K.D9],data:{animation:[kd]}})}};Jl=(0,Ue.Cg)([(0,Gn.VK)("PublicationSearchResult",Vn.n.GridElement),(0,Gn.VK)(Ys.H,Vn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Pi.F,wr.BitstreamDataService])],Jl);const g1=["*","*"],bM=d=>[d];function TM(d,y){if(1&d&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,bM,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function jA(d,y){if(1&d&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function DM(d,y){if(1&d&&e.nrm(0,"ds-badges",15),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function OM(d,y){if(1&d&&(e.j41(0,"span",20)(1,"span"),e.EFF(2,", "),e.k0s(),e.EFF(3),e.k0s()),2&d){const o=e.XpG(2);e.R7$(3),e.SpI(" ",o.firstMetadataValue("creativework.publisher")," ")}}function MM(d,y){if(1&d&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17)(2,"span",18),e.EFF(3),e.k0s(),e.DNE(4,OM,4,1,"span",19),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(2),e.JRh(o.firstMetadataValue("creativework.editor")),e.R7$(),e.Y8G("ngIf",o.dso.hasMetadata("creativework.publisher"))}}function l0(d,y){if(1&d&&(e.j41(0,"p",21)(1,"ds-truncatable-part",17),e.nrm(2,"span",22),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("dc.description"),e.npT)}}function _f(d,y){if(1&d&&(e.j41(0,"div",23)(1,"a",24),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,bM,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let wu=class RD extends Jl{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(RD)))(c||RD)}})()}static{this.\u0275cmp=e.VBU({type:RD,selectors:[["ds-journal-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:g1,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-publisher card-text text-muted",4,"ngIf"],["class","item-description card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-publisher","card-text","text-muted"],[3,"id","minLines"],[1,"item-editor"],["class","item-publisher",4,"ngIf"],[1,"item-publisher"],[1,"item-description","card-text"],[3,"innerHTML"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(g1),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,TM,5,12,"a",3)(6,jA,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,DM,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,MM,5,4,"p",9)(12,l0,3,3,"p",10)(13,_f,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,c.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",c.dso.id),e.R7$(3),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("creativework.editor")),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("dc.description")),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[wa.d,f.bT,v.Wk,Oo.T,Ho.F,er.W,f.Jj,K.h,K.D9],data:{animation:[kd]}})}};wu=(0,Ue.Cg)([(0,Gn.VK)("JournalSearchResult",Vn.n.GridElement)],wu);const vg=()=>({}),_1=(d,y)=>({indexableObject:d,hitHighlights:y});let Vd=class AD extends zo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(AD)))(c||AD)}})()}static{this.\u0275cmp=e.VBU({type:AD,selectors:[["ds-journal-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-journal-search-result-grid-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,_1,c.object,e.lJ4(3,vg)))("linkType",c.linkType)},dependencies:[wu]})}};Vd=(0,Ue.Cg)([(0,Gn.VK)("Journal",Vn.n.GridElement)],Vd);const c0=["*","*"],v1=d=>[d];function vf(d,y){if(1&d&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,v1,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function y1(d,y){if(1&d&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function SM(d,y){if(1&d&&e.nrm(0,"ds-badges",15),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function E1(d,y){if(1&d&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("creativework.datePublished"),e.npT)}}function IM(d,y){if(1&d&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("journal.title"),e.npT)}}function yg(d,y){if(1&d&&(e.j41(0,"div",20)(1,"a",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,v1,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let yf=class wD extends Jl{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(wD)))(c||wD)}})()}static{this.\u0275cmp=e.VBU({type:wD,selectors:[["ds-journal-issue-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:c0,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-journal-title card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-journal-title","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(c0),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,vf,5,12,"a",3)(6,y1,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,SM,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,E1,3,3,"p",9)(12,IM,3,3,"p",10)(13,yg,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,c.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",c.dso.id),e.R7$(3),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("creativework.datePublished")),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("journal.title")),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[wa.d,f.bT,v.Wk,Oo.T,Ho.F,er.W,f.Jj,K.h,K.D9],data:{animation:[kd]}})}};yf=(0,Ue.Cg)([(0,Gn.VK)("JournalIssueSearchResult",Vn.n.GridElement)],yf);const PM=()=>({}),RM=(d,y)=>({indexableObject:d,hitHighlights:y});let Eg=class xD extends zo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(xD)))(c||xD)}})()}static{this.\u0275cmp=e.VBU({type:xD,selectors:[["ds-journal-issue-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-journal-issue-search-result-grid-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,RM,c.object,e.lJ4(3,PM)))("linkType",c.linkType)},dependencies:[yf]})}};Eg=(0,Ue.Cg)([(0,Gn.VK)("JournalIssue",Vn.n.GridElement)],Eg);const C1=["*","*"],Cg=d=>[d];function Ef(d,y){if(1&d&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Cg,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function AM(d,y){if(1&d&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function bg(d,y){if(1&d&&e.nrm(0,"ds-badges",15),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function Tg(d,y){if(1&d&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("creativework.datePublished"),e.npT)}}function UA(d,y){if(1&d&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("dc.description"),e.npT)}}function wM(d,y){if(1&d&&(e.j41(0,"div",20)(1,"a",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Cg,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Cf=class LD extends Jl{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(LD)))(c||LD)}})()}static{this.\u0275cmp=e.VBU({type:LD,selectors:[["ds-journal-volume-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:C1,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-description card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-description","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(C1),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,Ef,5,12,"a",3)(6,AM,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,bg,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,Tg,3,3,"p",9)(12,UA,3,3,"p",10)(13,wM,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,c.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",c.dso.id),e.R7$(3),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("creativework.datePublished")),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("dc.description")),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[wa.d,f.bT,v.Wk,Oo.T,Ho.F,er.W,f.Jj,K.h,K.D9],data:{animation:[kd]}})}};Cf=(0,Ue.Cg)([(0,Gn.VK)("JournalVolumeSearchResult",Vn.n.GridElement)],Cf);const d0=()=>({}),xM=(d,y)=>({indexableObject:d,hitHighlights:y});let bf=class ND extends zo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(ND)))(c||ND)}})()}static{this.\u0275cmp=e.VBU({type:ND,selectors:[["ds-journal-volume-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-journal-volume-search-result-grid-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,xM,c.object,e.lJ4(3,d0)))("linkType",c.linkType)},dependencies:[Cf]})}};bf=(0,Ue.Cg)([(0,Gn.VK)("JournalVolume",Vn.n.GridElement)],bf);var Gd=n(94418);const b1=()=>["creativeworkseries.issn"],u0=d=>[d];function LM(d,y){if(1&d&&(e.j41(0,"a",13),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,u0,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function NM(d,y){if(1&d&&(e.j41(0,"span",15),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function zh(d,y){if(1&d&&(e.j41(0,"div",10),e.DNE(1,LM,3,9,"a",11)(2,NM,3,4,"span",12),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function Dg(d,y){if(1&d&&e.nrm(0,"ds-badges",16),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function FM(d,y){if(1&d&&e.nrm(0,"a",17),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,u0,o.itemPageRoute))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function T1(d,y){if(1&d&&e.nrm(0,"span",18),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function BM(d,y){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function D1(d,y){if(1&d&&(e.j41(0,"span"),e.nrm(1,"span",21),e.DNE(2,BM,2,0,"span",22),e.k0s()),2&d){const o=y.$implicit,c=y.last;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!c)}}function kA(d,y){if(1&d&&(e.j41(0,"span",19),e.DNE(1,D1,3,2,"span",20),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,b1)))}}let Tf=class FD extends Gd.k{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(FD)))(c||FD)}})()}static{this.\u0275cmp=e.VBU({type:FD,selectors:[["ds-journal-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journals",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journals"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngIf"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,zh,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,Dg,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,FM,1,6,"a",5)(6,T1,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,kA,2,2,"span",9),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.showThumbnails),e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("id",c.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",c.dso.allMetadata(e.lJ4(9,b1)).length>0))},dependencies:[f.bT,v.Wk,Oo.T,f.YU,Ho.F,wa.d,er.W,f.pM,f.Jj]})}};Tf=(0,Ue.Cg)([(0,Gn.VK)("JournalSearchResult",Vn.n.ListElement)],Tf);const Df=()=>({}),O1=(d,y)=>({indexableObject:d,hitHighlights:y});let Og=class BD extends zo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(BD)))(c||BD)}})()}static{this.\u0275cmp=e.VBU({type:BD,selectors:[["ds-journal-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-journal-search-result-list-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,O1,c.object,e.lJ4(3,Df)))("linkType",c.linkType)},dependencies:[Tf]})}};Og=(0,Ue.Cg)([(0,Gn.VK)("Journal",Vn.n.ListElement)],Og);const M1=()=>["publicationvolume.volumeNumber"],S1=d=>[d],Mg=()=>["publicationissue.issueNumber"];function jM(d,y){if(1&d&&(e.j41(0,"a",13),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,S1,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function I1(d,y){if(1&d&&(e.j41(0,"span",15),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function Ql(d,y){if(1&d&&(e.j41(0,"div",10),e.DNE(1,jM,3,9,"a",11)(2,I1,3,4,"span",12),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function P1(d,y){if(1&d&&e.nrm(0,"ds-badges",16),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function UM(d,y){if(1&d&&e.nrm(0,"a",17),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,S1,o.itemPageRoute))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function VA(d,y){if(1&d&&e.nrm(0,"span",18),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function Sr(d,y){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function kM(d,y){if(1&d&&(e.j41(0,"span"),e.nrm(1,"span",22),e.DNE(2,Sr,2,0,"span",23),e.k0s()),2&d){const o=y.$implicit,c=y.last;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!c)}}function h0(d,y){1&d&&(e.j41(0,"span"),e.EFF(1," - "),e.k0s())}function VM(d,y){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function GM(d,y){if(1&d&&(e.j41(0,"span"),e.DNE(1,h0,2,0,"span",23),e.nrm(2,"span",22),e.DNE(3,VM,2,0,"span",23),e.k0s()),2&d){const o=y.$implicit,c=y.first,O=y.last;e.R7$(),e.Y8G("ngIf",c),e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!O)}}function p0(d,y){if(1&d&&(e.j41(0,"span",24),e.DNE(1,GM,4,3,"span",20),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,Mg)))}}function R1(d,y){if(1&d&&(e.j41(0,"span",19),e.DNE(1,kM,3,2,"span",20)(2,p0,2,2,"span",21),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(2,M1))),e.R7$(),e.Y8G("ngIf",o.dso.allMetadata(e.lJ4(3,Mg)).length>0)}}let Yh=class jD extends Gd.k{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(jD)))(c||jD)}})()}static{this.\u0275cmp=e.VBU({type:jD,selectors:[["ds-journal-issue-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journal-issues",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journal-issues"],[4,"ngFor","ngForOf"],["class","item-list-journal-issue-numbers",4,"ngIf"],[3,"innerHTML"],[4,"ngIf"],[1,"item-list-journal-issue-numbers"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,Ql,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,P1,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,UM,1,6,"a",5)(6,VA,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,R1,3,4,"span",9),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.showThumbnails),e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("id",c.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",c.dso.allMetadata(e.lJ4(9,M1)).length>0))},dependencies:[f.bT,v.Wk,Oo.T,f.YU,Ho.F,wa.d,er.W,f.pM,f.Jj]})}};Yh=(0,Ue.Cg)([(0,Gn.VK)("JournalIssueSearchResult",Vn.n.ListElement)],Yh);const A1=()=>({}),$M=(d,y)=>({indexableObject:d,hitHighlights:y});let Sg=class UD extends zo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(UD)))(c||UD)}})()}static{this.\u0275cmp=e.VBU({type:UD,selectors:[["ds-journal-issue-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-journal-issue-search-result-list-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,$M,c.object,e.lJ4(3,A1)))("linkType",c.linkType)},dependencies:[Yh]})}};Sg=(0,Ue.Cg)([(0,Gn.VK)("JournalIssue",Vn.n.ListElement)],Sg);const $d=()=>["journal.title"],f0=()=>["publicationvolume.volumeNumber"],Ig=d=>[d];function WM(d,y){if(1&d&&(e.j41(0,"a",14),e.nrm(1,"ds-thumbnail",15),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,Ig,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function w1(d,y){if(1&d&&(e.j41(0,"span",16),e.nrm(1,"ds-thumbnail",15),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function x1(d,y){if(1&d&&(e.j41(0,"div",11),e.DNE(1,WM,3,9,"a",12)(2,w1,3,4,"span",13),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function L1(d,y){if(1&d&&e.nrm(0,"ds-badges",17),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function Of(d,y){if(1&d&&e.nrm(0,"a",18),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,Ig,o.itemPageRoute))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function m0(d,y){if(1&d&&e.nrm(0,"span",19),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function Wd(d,y){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function Pg(d,y){if(1&d&&(e.j41(0,"span"),e.nrm(1,"span",22),e.DNE(2,Wd,2,0,"span",23),e.k0s()),2&d){const o=y.$implicit,c=y.last;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!c)}}function N1(d,y){if(1&d&&(e.j41(0,"span",20),e.DNE(1,Pg,3,2,"span",21),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,$d)))}}function Mf(d,y){1&d&&(e.j41(0,"span"),e.EFF(1,";"),e.k0s())}function KM(d,y){if(1&d&&(e.j41(0,"span")(1,"span"),e.EFF(2," ("),e.k0s(),e.nrm(3,"span",22),e.j41(4,"span"),e.EFF(5,")"),e.k0s(),e.DNE(6,Mf,2,0,"span",23),e.k0s()),2&d){const o=y.$implicit,c=y.last;e.R7$(3),e.Y8G("innerHTML",o,e.npT),e.R7$(3),e.Y8G("ngIf",!c)}}function HM(d,y){if(1&d&&(e.j41(0,"span",24),e.DNE(1,KM,7,2,"span",21),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,f0)))}}let xu=class kD extends Gd.k{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(kD)))(c||kD)}})()}static{this.\u0275cmp=e.VBU({type:kD,selectors:[["ds-journal-volume-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:12,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journal-volumes",4,"ngIf"],["class","item-list-journal-volume-identifiers",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journal-volumes"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngIf"],[1,"item-list-journal-volume-identifiers"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,x1,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,L1,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,Of,1,6,"a",5)(6,m0,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,N1,2,2,"span",9)(10,HM,2,2,"span",10),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.showThumbnails),e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("id",c.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",c.dso.allMetadata(e.lJ4(10,$d)).length>0),e.R7$(),e.Y8G("ngIf",c.dso.allMetadata(e.lJ4(11,f0)).length>0))},dependencies:[f.bT,v.Wk,Oo.T,f.YU,Ho.F,wa.d,er.W,f.pM,f.Jj]})}};xu=(0,Ue.Cg)([(0,Gn.VK)("JournalVolumeSearchResult",Vn.n.ListElement)],xu);const F1=()=>({}),Kd=(d,y)=>({indexableObject:d,hitHighlights:y});let Hd=class VD extends zo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(VD)))(c||VD)}})()}static{this.\u0275cmp=e.VBU({type:VD,selectors:[["ds-journal-volume-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-journal-volume-search-result-list-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,Kd,c.object,e.lJ4(3,F1)))("linkType",c.linkType)},dependencies:[xu]})}};function GA(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Hd=(0,Ue.Cg)([(0,Gn.VK)("JournalVolume",Vn.n.ListElement)],Hd);let Il=(()=>{class d extends Hr.P{constructor(o,c,O){super(o,O,null),this.truncatableService=o,this.linkService=c,this.dsoNameService=O}ngOnInit(){super.ngOnInit(),(0,G.a4)(this.dso)&&(this.parentTitle$=this.getParentTitle(),this.description=this.getDescription())}isCurrent(){return this.context===Ps.o.SideBarSearchModalCurrent}getParentTitle(){return this.getParent().pipe((0,xt.T)(o=>(0,G.a4)(o)&&(0,G.a4)(o.payload)?this.dsoNameService.getName(o.payload):void 0))}getParent(){if("function"==typeof this.dso.getParentLinkKey){const o=this.dso.getParentLinkKey();return this.linkService.resolveLink(this.dso,(0,Ws.s)(o))[o].pipe((0,$r.I)(c=>c.hasSucceeded||204===c.statusCode))}return(0,Is.of)(void 0)}getDescription(){const o=this.firstMetadataValue("dc.publisher"),c=this.firstMetadataValue("dc.date.issued"),O=this.allMetadataValues(["dc.contributor.author","dc.creator","dc.contributor.*"]);let W="";return((0,G.hj)(o)||(0,G.hj)(c))&&(W+="("),(0,G.hj)(o)&&(W+=o),(0,G.hj)(c)&&((0,G.hj)(o)&&(W+=", "),W+=c),(0,G.hj)(W)&&(W+=") "),(0,G.hj)(O)&&O.forEach((ue,Ie)=>{W+=ue,Ie<O.length-1&&(W+="; ")}),this.undefinedIfEmpty(W)}undefinedIfEmpty(o){return this.defaultIfEmpty(o,void 0)}defaultIfEmpty(o,c){return(0,G.hj)(o)?o:c}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Pi.F),e.rXU(Ii._),e.rXU(Fs.f))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(c,O){1&c&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,GA,2,5,"ds-truncatable-part",3)),2&c&&(e.Y8G("maxLines",1)("background",O.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",O.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,O.parentTitle$&&O.parentTitle$)?e.bMT(3,13,O.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",O.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",O.isCurrent()?"text-light":"text-primary")("innerHTML",O.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",O.description))},dependencies:[er.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}}return d})();function B1(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}let Sf=class GD extends Il{getDescription(){const y=this.allMetadataValues(["creativeworkseries.issn"]);let o="";return(0,G.hj)(y)&&(o+=y.join(", ")),this.undefinedIfEmpty(o)}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(GD)))(c||GD)}})()}static{this.\u0275cmp=e.VBU({type:GD,selectors:[["ds-journal-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,B1,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[er.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};function zM(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Sf=(0,Ue.Cg)([(0,Gn.VK)("JournalSearchResult",Vn.n.ListElement,Ps.o.SideBarSearchModal),(0,Gn.VK)("JournalSearchResult",Vn.n.ListElement,Ps.o.SideBarSearchModalCurrent),(0,Gn.VK)("JournalSearchResult",Vn.n.ListElement,Ps.o.ScopeSelectorModal),(0,Gn.VK)("JournalSearchResult",Vn.n.ListElement,Ps.o.ScopeSelectorModalCurrent)],Sf);let Lu=class $D extends Il{getDescription(){const y=this.allMetadataValues(["publicationvolume.volumeNumber"]),o=this.allMetadataValues(["publicationissue.issueNumber"]);let c="";return(0,G.hj)(y)&&(c+=y.join(", ")),(0,G.hj)(c)&&(0,G.hj)(o)&&(c+=" - "),(0,G.hj)(o)&&(c+=o.join(", ")),this.undefinedIfEmpty(c)}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo($D)))(c||$D)}})()}static{this.\u0275cmp=e.VBU({type:$D,selectors:[["ds-journal-issue-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,zM,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[er.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};function If(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Lu=(0,Ue.Cg)([(0,Gn.VK)("JournalIssueSearchResult",Vn.n.ListElement,Ps.o.SideBarSearchModal),(0,Gn.VK)("JournalIssueSearchResult",Vn.n.ListElement,Ps.o.SideBarSearchModalCurrent),(0,Gn.VK)("JournalIssueSearchResult",Vn.n.ListElement,Ps.o.ScopeSelectorModal),(0,Gn.VK)("JournalIssueSearchResult",Vn.n.ListElement,Ps.o.ScopeSelectorModalCurrent)],Lu);let Rg=class WD extends Il{getDescription(){const y=this.allMetadataValues(["journal.title"]),o=this.allMetadataValues(["publicationvolume.volumeNumber"]);let c="";return(0,G.hj)(y)&&(c+=y.join(", ")),(0,G.hj)(o)&&((0,G.hj)(c)&&(c+=" "),c+=o.map(O=>`(${O})`).join(" ")),this.undefinedIfEmpty(c)}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(WD)))(c||WD)}})()}static{this.\u0275cmp=e.VBU({type:WD,selectors:[["ds-journal-volume-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,If,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[er.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};Rg=(0,Ue.Cg)([(0,Gn.VK)("JournalVolumeSearchResult",Vn.n.ListElement,Ps.o.SideBarSearchModal),(0,Gn.VK)("JournalVolumeSearchResult",Vn.n.ListElement,Ps.o.SideBarSearchModalCurrent),(0,Gn.VK)("JournalVolumeSearchResult",Vn.n.ListElement,Ps.o.ScopeSelectorModal),(0,Gn.VK)("JournalVolumeSearchResult",Vn.n.ListElement,Ps.o.ScopeSelectorModalCurrent)],Rg);var YM=n(7654),il=n(79222),XM=n(56977);class g0{}const JM=function(){var d=(0,m.A)(function*(){return(yield n.e(2441).then(n.t.bind(n,92441,23))).default});return function(){return d.apply(this,arguments)}}(),QM=new e.nKC("Lazily loaded MarkdownIt",{providedIn:"root",factory:JM});let ZM=(()=>{class d{constructor(o,c,O,W){this.markdownIt=o,this.sanitizer=c,this.mathService=O,this.elementRef=W,this.alive$=new ra.B,this.el=W.nativeElement}ngOnInit(){this.render(this.dsMarkdown)}render(o,c=!1){var O=this;return(0,m.A)(function*(){(0,G.Im)(o)||!A.c.markdown.enabled&&!c?O.el.innerHTML=O.sanitizer.sanitize(e.WPN.HTML,o):A.c.markdown.mathjax?O.renderMathjaxThenMarkdown(o):O.renderMarkdown(o)})()}renderMathjaxThenMarkdown(o){const c=this.sanitizer.sanitize(e.WPN.HTML,o);this.el.innerHTML=c,this.mathService.ready().pipe((0,Wn.p)(O=>O),(0,T.s)(1),(0,XM.Q)(this.alive$)).subscribe(()=>{this.mathService.render(this.el)?.then(O=>{this.renderMarkdown(this.el.innerHTML,!0)})})}renderMarkdown(o,c=!1){var O=this;return(0,m.A)(function*(){const ue=new(yield O.markdownIt)({html:!0,linkify:!0}),Ie=c?ue.render(o):O.sanitizer.sanitize(e.WPN.HTML,ue.render(o));O.el.innerHTML=Ie})()}ngOnDestroy(){this.alive$.next(!1)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(QM),e.rXU(h.up),e.rXU(g0),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:d,selectors:[["","dsMarkdown",""]],inputs:{dsMarkdown:"dsMarkdown"},standalone:!0})}}return d})();const Ag=(d,y)=>({value:d,img:y}),qM=d=>["/browse",d];function eS(d,y){1&d&&e.eu8(0)}function j1(d,y){if(1&d&&e.nrm(0,"span",9),2&d){const o=e.XpG(2);e.Y8G("innerHTML",o.separator,e.npT)}}function U1(d,y){if(1&d&&(e.qex(0),e.DNE(1,eS,1,0,"ng-container",7)(2,j1,1,1,"span",8),e.bVm()),2&d){const o=y.$implicit,c=y.last,O=e.XpG(),W=e.sdS(4),ue=e.sdS(6),Ie=e.sdS(8),rt=e.sdS(10),kt=e.sdS(12);e.R7$(),e.Y8G("ngTemplateOutlet",O.renderMarkdown?W:O.hasLink(o)?O.hasValue(O.img)?Ie:ue:O.hasBrowseDefinition()?kt:rt)("ngTemplateOutletContext",e.l_i(3,Ag,o.value,O.img)),e.R7$(),e.Y8G("ngIf",!c)}}function _0(d,y){1&d&&e.nrm(0,"span",10),2&d&&e.Y8G("dsMarkdown",y.value)}function k1(d,y){if(1&d&&(e.j41(0,"a",11),e.EFF(1),e.k0s()),2&d){const o=y.value,c=e.XpG();e.Y8G("href",o,e.B4B),e.BMQ("target",c.getLinkAttributes(o).target)("rel",c.getLinkAttributes(o).rel),e.R7$(),e.SpI(" ",o," ")}}function tS(d,y){if(1&d&&(e.j41(0,"a",12),e.nrm(1,"img",13),e.nI1(2,"translate"),e.EFF(3),e.k0s()),2&d){const o=y.img,c=y.value;e.Y8G("href",c,e.B4B),e.R7$(),e.xc7("height","var("+o.heightVar+", --ds-item-page-img-field-default-inline-height)"),e.Y8G("alt",e.bMT(2,6,o.alt))("src",o.URI,e.B4B),e.R7$(2),e.SpI(" ",c," ")}}function V1(d,y){if(1&d&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&d){const o=y.value;e.R7$(),e.JRh(o)}}function v0(d,y){if(1&d&&(e.j41(0,"a",15),e.EFF(1),e.k0s()),2&d){const o=y.value,c=e.XpG();e.Y8G("routerLink",e.eq3(3,qM,c.browseDefinition.id))("queryParams",c.getQueryParams(o)),e.R7$(),e.JRh(o)}}let Nu=(()=>{class d{constructor(o){this.appConfig=o,this.enableMarkdown=!1,this.hasValue=G.a4}ngOnChanges(o){this.renderMarkdown=!!this.appConfig.markdown.enabled&&this.enableMarkdown}hasBrowseDefinition(){return(0,G.a4)(this.browseDefinition)}hasLink(o){return!!(0,G.a4)(this.urlRegex)&&new RegExp(this.urlRegex).test(o.value)}getQueryParams(o){const c={startsWith:o};return this.browseDefinition.getRenderType()===YM.o.value?{value:o}:c}hasInternalLink(o){return o.startsWith(A.c.ui.baseUrl)}getLinkAttributes(o){return this.hasInternalLink(o)?{target:"_self",rel:""}:{target:"_blank",rel:"noopener noreferrer"}}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-metadata-values"]],inputs:{mdValues:"mdValues",separator:"separator",label:"label",enableMarkdown:"enableMarkdown",urlRegex:"urlRegex",browseDefinition:"browseDefinition",img:"img"},standalone:!0,features:[e.OA$,e.aNF],decls:13,vars:4,consts:[["markdown",""],["link",""],["linkImg",""],["simple",""],["browselink",""],[3,"label"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","separator",3,"innerHTML",4,"ngIf"],[1,"separator",3,"innerHTML"],[1,"dont-break-out",3,"dsMarkdown"],[1,"dont-break-out","ds-simple-metadata-link",3,"href"],["target","_blank",1,"link-anchor","dont-break-out","ds-simple-metadata-link",3,"href"],[1,"link-logo",3,"alt","src"],[1,"dont-break-out","preserve-line-breaks"],[1,"dont-break-out","preserve-line-breaks","ds-browse-link",3,"routerLink","queryParams"]],template:function(c,O){1&c&&(e.j41(0,"ds-metadata-field-wrapper",5),e.nI1(1,"translate"),e.DNE(2,U1,3,6,"ng-container",6),e.k0s(),e.DNE(3,_0,1,1,"ng-template",null,0,e.C5r)(5,k1,2,4,"ng-template",null,1,e.C5r)(7,tS,4,8,"ng-template",null,2,e.C5r)(9,V1,2,1,"ng-template",null,3,e.C5r)(11,v0,2,5,"ng-template",null,4,e.C5r)),2&c&&(e.Y8G("label",e.bMT(1,2,O.label)),e.R7$(2),e.Y8G("ngForOf",O.mdValues))},dependencies:[il.Q,f.pM,f.T3,f.bT,v.Wk,K.h,K.D9,ZM]})}}return d})();var G1=n(27916),nS=n.n(G1),sS=n(26365),iS=n(42673);let Fu=(()=>{class d{constructor(o,c){this.browseDefinitionDataService=o,this.browseService=c,this.enableMarkdown=!1,this.separator="<br/>"}get browseDefinition(){return this.browseService.getBrowseDefinitions().pipe((0,js.qD)(),(0,js.Bo)(),(0,js.W8)(),(0,sS.U)(),(0,Wn.p)(o=>nS()(o.metadataKeys,this.fields,d.fieldMatch).length>0),(0,T.s)(1))}static fieldMatch(o,c){return c===o||o.endsWith(".*")&&c.substring(0,o.length-1)===o.substring(0,o.length-1)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(iS.BrowseDefinitionDataService),e.rXU(uh.q))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ng-component"]],inputs:{item:"item"},standalone:!0,features:[e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(c,O){1&c&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&c&&(e.R7$(),e.Y8G("mdValues",null==O.item?null:O.item.allMetadata(O.fields))("separator",O.separator)("label",O.label)("enableMarkdown",O.enableMarkdown)("urlRegex",O.urlRegex)("browseDefinition",e.bMT(2,7,O.browseDefinition))("img",O.img))},dependencies:[Nu,f.Jj],encapsulation:2})}}return d})(),Zl=(()=>{class d extends Fu{constructor(){super(...arguments),this.enableMarkdown=!1}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-generic-item-page-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label",enableMarkdown:"enableMarkdown",urlRegex:"urlRegex"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(c,O){1&c&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&c&&(e.R7$(),e.Y8G("mdValues",null==O.item?null:O.item.allMetadata(O.fields))("separator",O.separator)("label",O.label)("enableMarkdown",O.enableMarkdown)("urlRegex",O.urlRegex)("browseDefinition",e.bMT(2,7,O.browseDefinition))("img",O.img))},dependencies:[Nu,f.Jj],encapsulation:2})}}return d})();var ql=n(26077),Bu=n(56760);let zd=(()=>{class d{constructor(o,c){this.routeService=o,this.router=c,this.showLabel=!0,this.previousRoute=/^(\/search|\/browse|\/collections|\/admin\/search|\/mydspace)/,this.back=()=>{this.routeService.getPreviousUrl().pipe((0,T.s)(1)).subscribe(O=>{this.router.navigateByUrl(O)})},this.mediaViewer=A.c.mediaViewer}ngOnInit(){this.itemPageRoute=(0,gi._o)(this.object),this.showBackButton$=this.routeService.getPreviousUrl().pipe((0,xt.T)(o=>this.previousRoute.test(o)),(0,T.s)(1)),this.iiifEnabled=(d=>!!this.object.firstMetadataValue("dspace.iiif.enabled"))(),this.iiifSearchEnabled=(d=>!!this.object.firstMetadataValue("iiif.search.enabled"))(),this.iiifSearchEnabled&&(this.iiifQuery$=this.routeService.getPreviousUrl().pipe((0,Wn.p)(o=>o.includes("/search")),(0,xt.T)(o=>(new v.nU).parse(o).queryParamMap.get("query")),(0,T.s)(1)))}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Bu.v$),e.rXU(v.Ix))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item"]],inputs:{object:"object",showLabel:"showLabel",viewMode:"viewMode"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(c,O){},encapsulation:2})}}return d})();var aS=n(4021),$1=n(49656);let E0=(()=>{class d{constructor(){this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){(0,G.hj)(this.relationType)&&(0,G.hj)(this.item)&&(this.fixedFilter=(0,$1.as)(this.relationType,this.item.id))}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-related-entities-search"]],inputs:{relationType:"relationType",configuration:"configuration",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},standalone:!0,features:[e.aNF],decls:1,vars:5,consts:[[3,"fixedFilterQuery","configuration","searchEnabled","sideBarWidth","showCsvExport"]],template:function(c,O){1&c&&e.nrm(0,"ds-configuration-search-page",0),2&c&&e.Y8G("fixedFilterQuery",O.fixedFilter)("configuration",O.configuration)("searchEnabled",O.searchEnabled)("sideBarWidth",O.sideBarWidth)("showCsvExport",!0)},dependencies:[aS.M],encapsulation:2})}}return d})();function C0(d,y){if(1&d&&(e.j41(0,"div",9),e.nrm(1,"ds-related-entities-search",10),e.k0s()),2&d){const o=e.XpG().$implicit,c=e.XpG(2);e.R7$(),e.Y8G("item",c.item)("relationType",o.filter)("configuration",o.configuration)("searchEnabled",c.searchEnabled)("sideBarWidth",c.sideBarWidth)}}function W1(d,y){if(1&d&&(e.j41(0,"li",6)(1,"a",7),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,C0,2,5,"ng-template",8),e.k0s()),2&d){const o=y.$implicit;e.Y8G("ngbNavItem",o.filter),e.R7$(2),e.SpI(" ",e.bMT(3,2,"item.page.relationships."+o.label)," ")}}function K1(d,y){if(1&d){const o=e.RV6();e.qex(0),e.j41(1,"ul",3,0),e.nI1(3,"async"),e.bIt("navChange",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onTabChange(O))}),e.DNE(4,W1,5,4,"li",4),e.k0s(),e.nrm(5,"div",5),e.bVm()}if(2&d){const o=e.sdS(2),c=e.XpG();e.R7$(),e.Y8G("destroyOnHide",!0)("activeId",e.bMT(3,4,c.activeTab$)),e.R7$(3),e.Y8G("ngForOf",c.relationTypes),e.R7$(),e.Y8G("ngbNavOutlet",o)}}function H1(d,y){if(1&d&&e.nrm(0,"ds-related-entities-search",10),2&d){const o=y.ngVar,c=e.XpG(2);e.Y8G("item",c.item)("relationType",o.filter)("configuration",o.configuration)("searchEnabled",c.searchEnabled)("sideBarWidth",c.sideBarWidth)}}function lS(d,y){if(1&d&&(e.j41(0,"div",9),e.DNE(1,H1,1,5,"ds-related-entities-search",11),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngVar",o.relationTypes[0])}}let Pf=(()=>{class d{constructor(o,c){this.route=o,this.router=c,this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){this.activeTab$=this.route.queryParams.pipe((0,xt.T)(o=>o.tab))}onTabChange(o){this.router.navigate([],{relativeTo:this.route,queryParams:{tab:o.nextId},queryParamsHandling:"merge"})}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(v.nX),e.rXU(v.Ix))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-tabbed-related-entities-search"]],inputs:{relationTypes:"relationTypes",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},standalone:!0,features:[e.aNF],decls:2,vars:2,consts:[["tabs","ngbNav"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["ngbNav","","role","tablist",1,"nav-tabs",3,"navChange","destroyOnHide","activeId"],["role","presentation",3,"ngbNavItem",4,"ngFor","ngForOf"],[3,"ngbNavOutlet"],["role","presentation",3,"ngbNavItem"],["ngbNavLink","","role","tab"],["ngbNavContent",""],[1,"mt-4"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth",4,"ngVar"]],template:function(c,O){1&c&&e.DNE(0,K1,6,6,"ng-container",1)(1,lS,2,1,"div",2),2&c&&(e.Y8G("ngIf",O.relationTypes.length>1),e.R7$(),e.Y8G("ngIf",1===O.relationTypes.length))},dependencies:[f.bT,q.Pv,q.Um,q.X9,q.sy,q.Ri,q.m_,f.pM,E0,Xl.r,f.Jj,K.h,K.D9],encapsulation:2})}}return d})();var z1=n(41023),ju=n(82394),Y1=n(74430),b0=n(20261);const cS=d=>({amount:d});function $A(d,y){if(1&d&&e.nrm(0,"ds-listable-object-component-loader",6),2&d){const o=y.$implicit,c=e.XpG(3);e.Y8G("object",o)("viewMode",c.viewMode)}}function X1(d,y){1&d&&(e.nrm(0,"ds-loading",7),e.nI1(1,"translate")),2&d&&e.FS9("message",e.bMT(1,1,"loading.default"))}function J1(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",11)(1,"button",12),e.bIt("click",function(){e.eBV(o);const O=e.XpG(4);return e.Njj(O.increase())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&d){const o=e.XpG(2).ngVar,c=e.XpG(2);e.R7$(2),e.Lme("",e.i5U(3,2,"item.page.related-items.view-more",e.eq3(5,cS,(null==o||null==o.payload?null:o.payload.totalElements)-c.incrementBy*c.objects.length<c.incrementBy?(null==o||null==o.payload?null:o.payload.totalElements)-c.incrementBy*c.objects.length:c.incrementBy))," ",c.label,"")}}function Q1(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",13)(1,"button",12),e.bIt("click",function(){e.eBV(o);const O=e.XpG(4);return e.Njj(O.decrease())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&d){const o=e.XpG(2).ngVar,c=e.XpG(2);e.R7$(2),e.Lme("",e.i5U(3,2,"item.page.related-items.view-less",e.eq3(5,cS,null==o||null==o.payload||null==o.payload.page?null:o.payload.page.length))," ",c.label,"")}}function T0(d,y){if(1&d&&(e.j41(0,"div",8),e.DNE(1,J1,4,7,"div",9)(2,Q1,4,7,"div",10),e.k0s()),2&d){const o=e.XpG().ngVar,c=e.XpG(2);e.R7$(),e.Y8G("ngIf",(null==o||null==o.payload?null:o.payload.totalPages)>c.objects.length),e.R7$(),e.Y8G("ngIf",c.objects.length>1)}}function Z1(d,y){if(1&d&&(e.qex(0),e.DNE(1,$A,1,2,"ds-listable-object-component-loader",3)(2,X1,2,3,"ds-loading",4)(3,T0,3,2,"div",5),e.bVm()),2&d){const o=y.ngVar,c=e.XpG().index,O=e.XpG();e.R7$(),e.Y8G("ngForOf",null==o||null==o.payload?null:o.payload.page),e.R7$(),e.Y8G("ngIf",c+1===O.objects.length&&(o||c>0)&&!(null!=o&&o.hasSucceeded&&null!=o&&o.payload&&(null==o||null==o.payload||null==o.payload.page?null:o.payload.page.length)>0)),e.R7$(),e.Y8G("ngIf",c+1===O.objects.length&&(null==o||null==o.payload||null==o.payload.page?null:o.payload.page.length)>0)}}function q1(d,y){if(1&d&&(e.qex(0),e.DNE(1,Z1,4,3,"ng-container",2),e.nI1(2,"async"),e.bVm()),2&d){const o=y.$implicit;e.R7$(),e.Y8G("ngVar",e.bMT(2,1,o))}}let id=(()=>{class d extends b0.e{constructor(o,c,O,W){super(),this.relationshipService=o,this.elementRef=c,this.appConfig=O,this.platformId=W,this.incrementBy=5,this.options=new z1._,this.viewMode=Vn.n.ListElement,this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}ngOnInit(){this.placeholderFontClass=(0,f.UE)(this.platformId)?(0,Y1.F)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text",super.ngOnInit()}getPage(o){return this.relationshipService.getRelatedItemsByLabel(this.parentItem,this.relationType,Object.assign(this.options,{elementsPerPage:this.incrementBy,currentPage:o,fetchThumbnail:this.fetchThumbnail}))}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(El.RelationshipDataService),e.rXU(e.aKT),e.rXU(si.vQ),e.rXU(e.Agw))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-related-items"]],inputs:{parentItem:"parentItem",relationType:"relationType",incrementBy:"incrementBy",options:"options",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[3,"label","ngClass"],[4,"ngFor","ngForOf"],[4,"ngVar"],[3,"object","viewMode",4,"ngFor","ngForOf"],[3,"message",4,"ngIf"],["class","d-inline-block w-100 mt-2",4,"ngIf"],[3,"object","viewMode"],[3,"message"],[1,"d-inline-block","w-100","mt-2"],["class","float-start","id","view-more",4,"ngIf"],["class","float-end","id","view-less",4,"ngIf"],["id","view-more",1,"float-start"],[1,"btn","btn-link","btn-link-inline","text-capitalize",3,"click"],["id","view-less",1,"float-end"]],template:function(c,O){1&c&&(e.j41(0,"ds-metadata-field-wrapper",0),e.DNE(1,q1,3,3,"ng-container",1),e.k0s()),2&c&&(e.Y8G("label",O.label)("ngClass",O.placeholderFontClass),e.R7$(),e.Y8G("ngForOf",O.objects))},dependencies:[il.Q,f.YU,f.pM,Xl.r,Au.v,f.bT,ju.v,f.Jj,K.h,K.D9],styles:["[_nghost-%COMP%]{display:block}ds-listable-object-component-loader[_ngcontent-%COMP%]{margin-bottom:10px;display:block}"]})}}return d})();var od=n(17807),Yd=n(4420);const WA=()=>["creativeworkseries.issn"],KA=()=>["creativework.publisher"],HA=()=>["creativework.editor"],zA=()=>["dc.description"],dS=d=>[d],YA=()=>({label:"isJournalOfPublication",filter:"isJournalOfPublication",configuration:"default-relationships"});function XA(d,y){if(1&d&&e.nrm(0,"ds-results-back-button",14),2&d){const o=e.XpG();e.Y8G("back",o.back)}}let D0=class KD extends zd{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(KD)))(c||KD)}})()}static{this.\u0275cmp=e.VBU({type:KD,selectors:[["ds-journal"]],standalone:!0,features:[e.Vt3,e.aNF],decls:23,vars:40,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"item-page-fields",3,"item","fields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100","px-0"],[3,"item","relationTypes"],[3,"back"]],template:function(o,c){1&o&&(e.DNE(0,XA,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",8),e.k0s(),e.j41(13,"div",9),e.nrm(14,"ds-related-items",10),e.nI1(15,"translate"),e.nrm(16,"ds-generic-item-page-field",7),e.j41(17,"div")(18,"a",11),e.EFF(19),e.nI1(20,"translate"),e.k0s()()(),e.j41(21,"div",12),e.nrm(22,"ds-tabbed-related-entities-search",13),e.k0s()()),2&o&&(e.Y8G("ngIf",e.bMT(1,23,c.showBackButton$)),e.R7$(3),e.Y8G("item",c.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,25,null==c.object?null:c.object.thumbnail)),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(31,WA))("label","journal.page.issn"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(32,KA))("label","journal.page.publisher"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(33,HA))("label","journal.page.editor"),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isVolumeOfJournal")("label",e.bMT(15,27,"relationships.isVolumeOf")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(34,zA))("label","journal.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(35,dS,c.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(20,29,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",c.object)("relationTypes",e.eq3(38,dS,e.lJ4(37,YA))))},dependencies:[f.bT,Yd.U,ql.V,od.T,il.Q,Oo.T,Zl,id,v.Wk,Pf,f.Jj,K.h,K.D9]})}};D0=(0,Ue.Cg)([(0,Gn.VK)("Journal",Vn.n.StandalonePage)],D0);const eC=()=>["publicationvolume.volumeNumber"],tC=()=>["publicationissue.issueNumber"],JA=()=>["creativework.datePublished"],QA=()=>["journal.title"],ZA=()=>["creativeworkseries.issn"],qA=()=>["dc.description"],e2=()=>["creativework.keywords"],t2=d=>[d];function n2(d,y){if(1&d&&e.nrm(0,"ds-results-back-button",12),2&d){const o=e.XpG();e.Y8G("back",o.back)}}let O0=class HD extends zd{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(HD)))(c||HD)}})()}static{this.\u0275cmp=e.VBU({type:HD,selectors:[["ds-journal-issue"]],standalone:!0,features:[e.Vt3,e.aNF],decls:26,vars:52,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"mb-1","mt-1",3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:function(o,c){1&o&&(e.DNE(0,n2,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",7)(13,"ds-generic-item-page-field",7)(14,"ds-generic-item-page-field",7),e.k0s(),e.j41(15,"div",8),e.nrm(16,"ds-related-items",9),e.nI1(17,"translate"),e.nrm(18,"ds-related-items",10),e.nI1(19,"translate"),e.nrm(20,"ds-generic-item-page-field",7)(21,"ds-generic-item-page-field",7),e.j41(22,"div")(23,"a",11),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,33,c.showBackButton$)),e.R7$(3),e.Y8G("item",c.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,35,null==c.object?null:c.object.thumbnail)),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(43,eC))("label","journalvolume.page.volume"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(44,tC))("label","journalissue.page.number"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(45,JA))("label","journalissue.page.issuedate"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(46,QA))("label","journalissue.page.journal-title"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(47,ZA))("label","journalissue.page.journal-issn"),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isJournalVolumeOfIssue")("label",e.bMT(17,37,"relationships.isSingleVolumeOf")),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isPublicationOfJournalIssue")("label",e.bMT(19,39,"relationships.isPublicationOfJournalIssue")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(48,qA))("label","journalissue.page.description"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(49,e2))("label","journalissue.page.keyword"),e.R7$(2),e.Y8G("routerLink",e.eq3(50,t2,c.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(25,41,"item.page.link.full")," "))},dependencies:[f.bT,Yd.U,ql.V,od.T,il.Q,Oo.T,Zl,id,v.Wk,f.Jj,K.h,K.D9]})}};O0=(0,Ue.Cg)([(0,Gn.VK)("JournalIssue",Vn.n.StandalonePage)],O0);const s2=()=>["publicationvolume.volumeNumber"],uS=()=>["creativework.datePublished"],Xh=()=>["dc.description"],Rf=d=>[d];function hS(d,y){if(1&d&&e.nrm(0,"ds-results-back-button",11),2&d){const o=e.XpG();e.Y8G("back",o.back)}}let M0=class zD extends zd{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(zD)))(c||zD)}})()}static{this.\u0275cmp=e.VBU({type:zD,selectors:[["ds-journal-volume"]],standalone:!0,features:[e.Vt3,e.aNF],decls:22,vars:36,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:function(o,c){1&o&&(e.DNE(0,hS,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7),e.k0s(),e.j41(12,"div",8),e.nrm(13,"ds-related-items",9),e.nI1(14,"translate"),e.nrm(15,"ds-related-items",9),e.nI1(16,"translate"),e.nrm(17,"ds-generic-item-page-field",7),e.j41(18,"div")(19,"a",10),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,21,c.showBackButton$)),e.R7$(3),e.Y8G("item",c.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,23,null==c.object?null:c.object.thumbnail)),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(31,s2))("label","journalvolume.page.volume"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(32,uS))("label","journalvolume.page.issuedate"),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isJournalOfVolume")("label",e.bMT(14,25,"relationships.isSingleJournalOf")),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isIssueOfJournalVolume")("label",e.bMT(16,27,"relationships.isIssueOf")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(33,Xh))("label","journalvolume.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(34,Rf,c.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(21,29,"item.page.link.full")," "))},dependencies:[f.bT,Yd.U,ql.V,od.T,il.Q,Oo.T,Zl,id,v.Wk,f.Jj,K.h,K.D9]})}};M0=(0,Ue.Cg)([(0,Gn.VK)("JournalVolume",Vn.n.StandalonePage)],M0);const S0=["*","*"],nC=d=>[d];function o2(d,y){if(1&d&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,nC,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function pS(d,y){if(1&d&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function fS(d,y){if(1&d&&e.nrm(0,"ds-badges",15),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function mS(d,y){if(1&d&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("organization.foundingDate"),e.npT)}}function wg(d,y){if(1&d&&(e.j41(0,"span",22)(1,"span"),e.EFF(2,", "),e.k0s(),e.EFF(3),e.k0s()),2&d){const o=e.XpG(2);e.R7$(3),e.SpI(" ",o.firstMetadataValue("organization.address.addressLocality")," ")}}function sC(d,y){if(1&d&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17)(2,"span",20),e.EFF(3),e.k0s(),e.DNE(4,wg,4,1,"span",21),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(2),e.JRh(o.firstMetadataValue("organization.address.addressCountry")),e.R7$(),e.Y8G("ngIf",o.dso.hasMetadata("organization.address.addressLocality"))}}function gS(d,y){if(1&d&&(e.j41(0,"div",23)(1,"a",24),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,nC,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Jh=class YD extends Jl{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(YD)))(c||YD)}})()}static{this.\u0275cmp=e.VBU({type:YD,selectors:[["ds-org-unit-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:S0,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-location card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-location","card-text"],[1,"item-country"],["class","item-city",4,"ngIf"],[1,"item-city"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(S0),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,o2,5,12,"a",3)(6,pS,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,fS,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,mS,3,3,"p",9)(12,sC,5,4,"p",10)(13,gS,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,c.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",c.dso.id),e.R7$(3),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("organization.foundingDate")),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("organization.address.addressCountry")),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[wa.d,f.bT,v.Wk,Oo.T,Ho.F,er.W,f.Jj,K.h,K.D9],data:{animation:[kd]}})}};Jh=(0,Ue.Cg)([(0,Gn.VK)("OrgUnitSearchResult",Vn.n.GridElement)],Jh);const r2=()=>({}),iC=(d,y)=>({indexableObject:d,hitHighlights:y});let I0=class XD extends zo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(XD)))(c||XD)}})()}static{this.\u0275cmp=e.VBU({type:XD,selectors:[["ds-org-unit-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-org-unit-search-result-grid-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,iC,c.object,e.lJ4(3,r2)))("linkType",c.linkType)},dependencies:[Jh]})}};I0=(0,Ue.Cg)([(0,Gn.VK)("OrgUnit",Vn.n.GridElement)],I0);const oC=["*","*"],P0=d=>[d];function R0(d,y){if(1&d&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,P0,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function _S(d,y){if(1&d&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function vS(d,y){if(1&d&&e.nrm(0,"ds-badges",15),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function xg(d,y){if(1&d&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("person.email"),e.npT)}}function yS(d,y){if(1&d&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("person.jobTitle"),e.npT)}}function ES(d,y){if(1&d&&(e.j41(0,"div",20)(1,"a",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,P0,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Af=class JD extends Jl{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(JD)))(c||JD)}})()}static{this.\u0275cmp=e.VBU({type:JD,selectors:[["ds-person-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:oC,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-email card-text text-muted",4,"ngIf"],["class","item-jobtitle card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-email","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-jobtitle","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(oC),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,R0,5,12,"a",3)(6,_S,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,vS,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,xg,3,3,"p",9)(12,yS,3,3,"p",10)(13,ES,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,c.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",c.dso.id),e.R7$(3),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("person.email")),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("person.jobTitle")),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[wa.d,f.bT,v.Wk,Oo.T,Ho.F,er.W,f.Jj,K.h,K.D9],data:{animation:[kd]}})}};Af=(0,Ue.Cg)([(0,Gn.VK)("PersonSearchResult",Vn.n.GridElement)],Af);const CS=()=>({}),bS=(d,y)=>({indexableObject:d,hitHighlights:y});let Lg=class QD extends zo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(QD)))(c||QD)}})()}static{this.\u0275cmp=e.VBU({type:QD,selectors:[["ds-person-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-person-search-result-grid-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,bS,c.object,e.lJ4(3,CS)))("linkType",c.linkType)},dependencies:[Af]})}};Lg=(0,Ue.Cg)([(0,Gn.VK)("Person",Vn.n.GridElement)],Lg);const rC=["*","*"],A0=d=>[d];function aC(d,y){if(1&d&&(e.j41(0,"a",11),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,A0,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function TS(d,y){if(1&d&&(e.j41(0,"span",13)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function a2(d,y){if(1&d&&e.nrm(0,"ds-badges",14),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function lC(d,y){if(1&d&&(e.j41(0,"p",15)(1,"ds-truncatable-part",16),e.nrm(2,"span",17),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("dc.description"),e.npT)}}function cC(d,y){if(1&d&&(e.j41(0,"div",18)(1,"a",19),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,A0,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let ec=class ZD extends Jl{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(ZD)))(c||ZD)}})()}static{this.\u0275cmp=e.VBU({type:ZD,selectors:[["ds-project-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:rC,decls:14,vars:12,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ms-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-description card-text text-muted",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-description","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.NAR(rC),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,aC,5,12,"a",3)(6,TS,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,a2,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,lC,3,3,"p",9)(12,cC,4,8,"div",10),e.k0s()(),e.SdG(13,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,10,c.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",c.dso.id),e.R7$(3),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.dso.hasMetadata("dc.description")),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[wa.d,f.bT,v.Wk,Oo.T,Ho.F,er.W,f.Jj,K.h,K.D9],data:{animation:[kd]}})}};ec=(0,Ue.Cg)([(0,Gn.VK)("ProjectSearchResult",Vn.n.GridElement)],ec);const dC=()=>({}),DS=(d,y)=>({indexableObject:d,hitHighlights:y});let w0=class qD extends zo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(qD)))(c||qD)}})()}static{this.\u0275cmp=e.VBU({type:qD,selectors:[["ds-project-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-project-search-result-grid-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,DS,c.object,e.lJ4(3,dC)))("linkType",c.linkType)},dependencies:[ec]})}};w0=(0,Ue.Cg)([(0,Gn.VK)("Project",Vn.n.GridElement)],w0);const x0=()=>["dc.description"],Ng=d=>[d];function OS(d,y){if(1&d&&(e.j41(0,"a",12),e.nrm(1,"ds-thumbnail",13),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,Ng,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function uC(d,y){if(1&d&&(e.j41(0,"span",14),e.nrm(1,"ds-thumbnail",13),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function L0(d,y){if(1&d&&(e.j41(0,"div",9),e.DNE(1,OS,3,11,"a",10)(2,uC,3,6,"span",11),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function MS(d,y){if(1&d&&e.nrm(0,"ds-badges",15),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function Fg(d,y){if(1&d&&(e.nrm(0,"a",16),e.nI1(1,"translate")),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Ng,o.itemPageRoute))("innerHTML",o.dsoTitle||e.bMT(1,4,"orgunit.listelement.no-title"),e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function l2(d,y){if(1&d&&(e.nrm(0,"span",17),e.nI1(1,"translate")),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle||e.bMT(1,1,"orgunit.listelement.no-title"),e.npT)}}function c2(d,y){if(1&d&&(e.j41(0,"span",18)(1,"ds-truncatable-part",19),e.nrm(2,"span",20),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("dc.description"),e.npT)}}let wf=class eO extends Gd.k{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(eO)))(c||eO)}})()}static{this.\u0275cmp=e.VBU({type:eO,selectors:[["ds-org-unit-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:9,vars:8,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],["class","item-list-org-unit-description",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"item-list-org-unit-description"],[3,"id","minLines"],[3,"innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,L0,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,MS,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,Fg,2,8,"a",5)(6,l2,2,3,"span",6),e.j41(7,"span",7),e.DNE(8,c2,3,3,"span",8),e.k0s()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.showThumbnails),e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("ngIf",c.dso.allMetadata(e.lJ4(7,x0)).length>0))},dependencies:[f.bT,v.Wk,Oo.T,f.YU,Ho.F,wa.d,er.W,f.Jj,K.h,K.D9]})}};wf=(0,Ue.Cg)([(0,Gn.VK)("OrgUnitSearchResult",Vn.n.ListElement)],wf);const d2=()=>({}),Qh=(d,y)=>({indexableObject:d,hitHighlights:y});let N0=class tO extends zo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(tO)))(c||tO)}})()}static{this.\u0275cmp=e.VBU({type:tO,selectors:[["ds-org-unit-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-org-unit-search-result-list-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,Qh,c.object,e.lJ4(3,d2)))("linkType",c.linkType)},dependencies:[wf]})}};N0=(0,Ue.Cg)([(0,Gn.VK)("OrgUnit",Vn.n.ListElement)],N0);const xf=()=>["person.jobTitle"],hC=d=>[d];function SS(d,y){if(1&d&&(e.j41(0,"a",13),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,hC,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function F0(d,y){if(1&d&&(e.j41(0,"span",15),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function IS(d,y){if(1&d&&(e.j41(0,"div",10),e.DNE(1,SS,3,11,"a",11)(2,F0,3,6,"span",12),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function Ic(d,y){if(1&d&&e.nrm(0,"ds-badges",16),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function Lf(d,y){if(1&d&&(e.nrm(0,"a",17),e.nI1(1,"translate")),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,hC,o.itemPageRoute))("innerHTML",o.dsoTitle||e.bMT(1,4,"person.listelement.no-title"),e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function mr(d,y){if(1&d&&(e.nrm(0,"span",18),e.nI1(1,"translate")),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle||e.bMT(1,1,"person.listelement.no-title"),e.npT)}}function Uu(d,y){if(1&d&&(e.j41(0,"span")(1,"span",21),e.nrm(2,"span",21),e.k0s()()),2&d){const o=y.$implicit;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("innerHTML",o,e.npT)}}function Bg(d,y){if(1&d&&(e.j41(0,"span",19),e.DNE(1,Uu,3,2,"span",20),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,xf)))}}let ha=class nA extends Gd.k{constructor(y,o,c){super(y,o,c),this.truncatableService=y,this.dsoNameService=o,this.appConfig=c}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=function(o){return new(o||nA)(e.rXU(Pi.F),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:nA,selectors:[["ds-person-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-job-title",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,IS,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,Ic,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,Lf,2,8,"a",5)(6,mr,2,3,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,Bg,2,2,"span",9),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.showThumbnails),e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9 col-md-10":"col-12"),e.R7$(),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("id",c.dso.id),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(2),e.Y8G("id",c.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",c.dso.allMetadata(e.lJ4(9,xf)).length>0))},dependencies:[f.bT,v.Wk,Oo.T,f.YU,Ho.F,wa.d,er.W,f.pM,f.Jj,K.h,K.D9]})}};ha=(0,Ue.Cg)([(0,Gn.VK)("PersonSearchResult",Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Pi.F,Fs.f,Object])],ha);const Nf=()=>({}),PS=(d,y)=>({indexableObject:d,hitHighlights:y});let rd=class nO extends zo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(nO)))(c||nO)}})()}static{this.\u0275cmp=e.VBU({type:nO,selectors:[["ds-person-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:8,consts:[[3,"object","linkType","showLabel","value"]],template:function(o,c){1&o&&e.nrm(0,"ds-person-search-result-list-element",0),2&o&&e.Y8G("object",e.l_i(5,PS,c.object,e.lJ4(4,Nf)))("linkType",c.linkType)("showLabel",c.showLabel)("value",c.value)},dependencies:[ha]})}};rd=(0,Ue.Cg)([(0,Gn.VK)("Person",Vn.n.ListElement)],rd);const B0=d=>[d];function pC(d,y){if(1&d&&(e.j41(0,"a",10),e.nrm(1,"ds-thumbnail",11),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,B0,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function RS(d,y){if(1&d&&(e.j41(0,"span",12),e.nrm(1,"ds-thumbnail",11),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function AS(d,y){if(1&d&&(e.j41(0,"div",7),e.DNE(1,pC,3,11,"a",8)(2,RS,3,6,"span",9),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function gr(d,y){if(1&d&&e.nrm(0,"ds-badges",13),2&d){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function fC(d,y){if(1&d&&e.nrm(0,"a",14),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,B0,o.itemPageRoute))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function wS(d,y){if(1&d&&e.nrm(0,"span",15),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}let Yo=class sO extends Gd.k{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(sO)))(c||sO)}})()}static{this.\u0275cmp=e.VBU({type:sO,selectors:[["ds-project-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:6,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"id"],[3,"object","context",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,AS,3,2,"div",1),e.j41(2,"div",2)(3,"ds-truncatable",3),e.DNE(4,gr,1,2,"ds-badges",4)(5,fC,1,6,"a",5)(6,wS,1,1,"span",6),e.k0s()()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.showThumbnails),e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("id",c.dso.id),e.R7$(),e.Y8G("ngIf",c.showLabel),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None))},dependencies:[f.bT,v.Wk,Oo.T,f.YU,wa.d,Ho.F,f.Jj]})}};Yo=(0,Ue.Cg)([(0,Gn.VK)("ProjectSearchResult",Vn.n.ListElement)],Yo);const Ff=()=>({}),Zh=(d,y)=>({indexableObject:d,hitHighlights:y});let ku=class iO extends zo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(iO)))(c||iO)}})()}static{this.\u0275cmp=e.VBU({type:iO,selectors:[["ds-project-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-project-search-result-list-element",0),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,Zh,c.object,e.lJ4(3,Ff)))("linkType",c.linkType)},dependencies:[Yo]})}};function Bf(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}ku=(0,Ue.Cg)([(0,Gn.VK)("Project",Vn.n.ListElement)],ku);let Vu=class oO extends Il{getDescription(){return this.firstMetadataValue("dc.description")}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(oO)))(c||oO)}})()}static{this.\u0275cmp=e.VBU({type:oO,selectors:[["ds-org-unit-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,Bf,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[er.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};function mC(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Vu=(0,Ue.Cg)([(0,Gn.VK)("OrgUnitSearchResult",Vn.n.ListElement,Ps.o.SideBarSearchModal),(0,Gn.VK)("OrgUnitSearchResult",Vn.n.ListElement,Ps.o.SideBarSearchModalCurrent),(0,Gn.VK)("OrgUnitSearchResult",Vn.n.ListElement,Ps.o.ScopeSelectorModal),(0,Gn.VK)("OrgUnitSearchResult",Vn.n.ListElement,Ps.o.ScopeSelectorModalCurrent)],Vu);let jf=class sA extends Il{constructor(y,o,c,O){super(y,o,O),this.truncatableService=y,this.linkService=o,this.translateService=c,this.dsoNameService=O}getDescription(){const y=this.allMetadataValues(["person.jobTitle"]);let o="";return(0,G.hj)(y)&&(o+=y.join(", ")),this.undefinedIfEmpty(o)}static{this.\u0275fac=function(o){return new(o||sA)(e.rXU(Pi.F),e.rXU(Ii._),e.rXU(K.c$),e.rXU(Fs.f))}}static{this.\u0275cmp=e.VBU({type:sA,selectors:[["ds-person-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,mC,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[er.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};function gC(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}jf=(0,Ue.Cg)([(0,Gn.VK)("PersonSearchResult",Vn.n.ListElement,Ps.o.SideBarSearchModal),(0,Gn.VK)("PersonSearchResult",Vn.n.ListElement,Ps.o.SideBarSearchModalCurrent),(0,Gn.VK)("PersonSearchResult",Vn.n.ListElement,Ps.o.ScopeSelectorModal),(0,Gn.VK)("PersonSearchResult",Vn.n.ListElement,Ps.o.ScopeSelectorModalCurrent),(0,Ue.Sn)("design:paramtypes",[Pi.F,Ii._,K.c$,Fs.f])],jf);let Gu=class rO extends Il{getDescription(){}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(rO)))(c||rO)}})()}static{this.\u0275cmp=e.VBU({type:rO,selectors:[["ds-project-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,gC,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[er.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};Gu=(0,Ue.Cg)([(0,Gn.VK)("ProjectSearchResult",Vn.n.ListElement,Ps.o.SideBarSearchModal),(0,Gn.VK)("ProjectSearchResult",Vn.n.ListElement,Ps.o.SideBarSearchModalCurrent),(0,Gn.VK)("ProjectSearchResult",Vn.n.ListElement,Ps.o.ScopeSelectorModal),(0,Gn.VK)("ProjectSearchResult",Vn.n.ListElement,Ps.o.ScopeSelectorModalCurrent)],Gu);let j0=(()=>{class d extends Fu{static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-img-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label",img:"img",urlRegex:"urlRegex"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(c,O){1&c&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&c&&(e.R7$(),e.Y8G("mdValues",null==O.item?null:O.item.allMetadata(O.fields))("separator",O.separator)("label",O.label)("enableMarkdown",O.enableMarkdown)("urlRegex",O.urlRegex)("browseDefinition",e.bMT(2,7,O.browseDefinition))("img",O.img))},dependencies:[Nu,f.Jj],encapsulation:2})}}return d})();const _C=()=>["organization.foundingDate"],jg=()=>["organization.address.addressLocality"],$u=()=>["organization.address.addressCountry"],xS=()=>["dc.identifier"],ol=()=>["organization.identifier.ror"],LS=()=>({URI:"./assets/images/ror-icon.svg",alt:"item.page.image.alt.ROR",heightVar:"--ds-item-page-img-field-ror-inline-height"}),NS=()=>["dc.description"],U0=d=>[d],vC=()=>({label:"isOrgUnitOfPerson",filter:"isOrgUnitOfPerson",configuration:"person-relationships"}),yC=()=>({label:"isOrgUnitOfProject",filter:"isOrgUnitOfProject",configuration:"project-relationships"}),FS=(d,y)=>[d,y];function u2(d,y){if(1&d&&e.nrm(0,"ds-results-back-button",14),2&d){const o=e.XpG();e.Y8G("back",o.back)}}let Ug=class aO extends zd{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(aO)))(c||aO)}})()}static{this.\u0275cmp=e.VBU({type:aO,selectors:[["ds-org-unit"]],standalone:!0,features:[e.Vt3,e.aNF],decls:25,vars:56,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"fields","img","item","label","urlRegex"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100","px-0"],[3,"item","relationTypes"],[3,"back"]],template:function(o,c){1&o&&(e.DNE(0,u2,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",7)(13,"ds-generic-item-page-field",7),e.k0s(),e.j41(14,"div",8),e.nrm(15,"ds-item-page-img-field",9)(16,"ds-related-items",10),e.nI1(17,"translate"),e.nrm(18,"ds-generic-item-page-field",7),e.j41(19,"div")(20,"a",11),e.EFF(21),e.nI1(22,"translate"),e.k0s()()(),e.j41(23,"div",12),e.nrm(24,"ds-tabbed-related-entities-search",13),e.k0s()()),2&o&&(e.Y8G("ngIf",e.bMT(1,34,c.showBackButton$)),e.R7$(3),e.Y8G("item",c.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,36,null==c.object?null:c.object.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder"),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(42,_C))("label","orgunit.page.dateestablished"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(43,jg))("label","orgunit.page.city"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(44,$u))("label","orgunit.page.country"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(45,xS))("label","orgunit.page.id"),e.R7$(2),e.Y8G("fields",e.lJ4(46,ol))("img",e.lJ4(47,LS))("item",c.object)("label","orgunit.page.ror")("urlRegex","(.*)ror.org"),e.R7$(),e.Y8G("parentItem",c.object)("relationType","isPublicationOfOrgUnit")("label",e.bMT(17,38,"relationships.isPublicationOf")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(48,NS))("label","orgunit.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(49,U0,c.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(22,40,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",c.object)("relationTypes",e.l_i(53,FS,e.lJ4(51,vC),e.lJ4(52,yC))))},dependencies:[f.bT,Yd.U,ql.V,od.T,il.Q,Oo.T,Zl,id,v.Wk,Pf,f.Jj,K.h,K.D9,j0]})}};Ug=(0,Ue.Cg)([(0,Gn.VK)("OrgUnit",Vn.n.StandalonePage)],Ug);const kg=()=>["person.email"],k0=()=>["person.birthDate"],V0=()=>["person.jobTitle"],qh=()=>["person.familyName"],EC=()=>["person.givenName"],CC=()=>["dc.title"],Wu=d=>[d],G0=()=>({label:"isAuthorOfPublication",filter:"isAuthorOfPublication",configuration:"default-relationships"});function $0(d,y){if(1&d&&e.nrm(0,"ds-results-back-button",13),2&d){const o=e.XpG();e.Y8G("back",o.back)}}let Uf=class lO extends zd{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(lO)))(c||lO)}})()}static{this.\u0275cmp=e.VBU({type:lO,selectors:[["ds-person"]],standalone:!0,features:[e.Vt3,e.aNF],decls:27,vars:56,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100","px-0"],[3,"item","relationTypes"],[3,"back"]],template:function(o,c){1&o&&(e.DNE(0,$0,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7),e.k0s(),e.j41(12,"div",8),e.nrm(13,"ds-related-items",9),e.nI1(14,"translate"),e.nrm(15,"ds-related-items",9),e.nI1(16,"translate"),e.nrm(17,"ds-generic-item-page-field",7)(18,"ds-generic-item-page-field",7)(19,"ds-generic-item-page-field",7)(20,"ds-generic-item-page-field",7),e.j41(21,"div")(22,"a",10),e.EFF(23),e.nI1(24,"translate"),e.k0s()()(),e.j41(25,"div",11),e.nrm(26,"ds-tabbed-related-entities-search",12),e.k0s()()),2&o&&(e.Y8G("ngIf",e.bMT(1,35,c.showBackButton$)),e.R7$(3),e.Y8G("item",c.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,37,null==c.object?null:c.object.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder"),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(45,kg))("label","person.page.email"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(46,k0))("label","person.page.birthdate"),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isProjectOfPerson")("label",e.bMT(14,39,"relationships.isProjectOf")),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isOrgUnitOfPerson")("label",e.bMT(16,41,"relationships.isOrgUnitOf")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(47,V0))("label","person.page.jobtitle"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(48,qh))("label","person.page.lastname"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(49,EC))("label","person.page.firstname"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(50,CC))("label","person.page.name"),e.R7$(2),e.Y8G("routerLink",e.eq3(51,Wu,c.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(24,43,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",c.object)("relationTypes",e.eq3(54,Wu,e.lJ4(53,G0))))},dependencies:[f.bT,Yd.U,ql.V,od.T,il.Q,Oo.T,Zl,id,v.Wk,Pf,f.Jj,K.h,K.D9]})}};Uf=(0,Ue.Cg)([(0,Gn.VK)("Person",Vn.n.StandalonePage)],Uf),n(12063);const bC=["*"];function jS(d,y){}let Vg=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["parentItem","itemType","metadataFields","label","incrementBy"]}getComponentName(){return"MetadataRepresentationListComponent"}importThemedComponent(o){return n(89979)(`./${o}/app/item-page/simple/metadata-representation-list/metadata-representation-list.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,12063))}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-metadata-representation-list"]],inputs:{parentItem:"parentItem",itemType:"itemType",metadataFields:"metadataFields",label:"label",incrementBy:"incrementBy"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:bC,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,O){1&c&&(e.NAR(),e.DNE(0,jS,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();const ep=()=>["project.contributor.other"],TC=()=>["project.identifier.funder"],US=()=>["dc.identifier"],kS=()=>["dc.description"],VS=()=>["dc.subject"],DC=d=>[d];function OC(d,y){if(1&d&&e.nrm(0,"ds-results-back-button",12),2&d){const o=e.XpG();e.Y8G("back",o.back)}}let Gg=class cO extends zd{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(cO)))(c||cO)}})()}static{this.\u0275cmp=e.VBU({type:cO,selectors:[["ds-project"]],standalone:!0,features:[e.Vt3,e.aNF],decls:27,vars:55,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:function(o,c){1&o&&(e.DNE(0,OC,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-metadata-representation-list",7),e.nI1(11,"translate"),e.nrm(12,"ds-generic-item-page-field",8)(13,"ds-generic-item-page-field",8),e.k0s(),e.j41(14,"div",9),e.nrm(15,"ds-related-items",10),e.nI1(16,"translate"),e.nrm(17,"ds-related-items",10),e.nI1(18,"translate"),e.nrm(19,"ds-related-items",10),e.nI1(20,"translate"),e.nrm(21,"ds-generic-item-page-field",8)(22,"ds-generic-item-page-field",8),e.j41(23,"div")(24,"a",11),e.EFF(25),e.nI1(26,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,34,c.showBackButton$)),e.R7$(3),e.Y8G("item",c.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,36,null==c.object?null:c.object.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder"),e.R7$(2),e.Y8G("parentItem",c.object)("itemType","OrgUnit")("metadataFields",e.lJ4(48,ep))("label",e.bMT(11,38,"project.page.contributor")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(49,TC))("label","project.page.funder"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(50,US))("label","project.page.id"),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isPersonOfProject")("label",e.bMT(16,40,"relationships.isPersonOf")),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isPublicationOfProject")("label",e.bMT(18,42,"relationships.isPublicationOf")),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isOrgUnitOfProject")("label",e.bMT(20,44,"relationships.isOrgUnitOf")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(51,kS))("label","project.page.description"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(52,VS))("label","project.page.keyword"),e.R7$(2),e.Y8G("routerLink",e.eq3(53,DC,c.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(26,46,"item.page.link.full")," "))},dependencies:[f.bT,Yd.U,ql.V,od.T,il.Q,Oo.T,Vg,Zl,id,v.Wk,f.Jj,K.h,K.D9]})}};function h2(d,y){if(1&d&&(e.j41(0,"div")(1,"a",2),e.EFF(2),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("href",o.uri.value,e.B4B),e.R7$(),e.JRh(o.uri.value)}}Gg=(0,Ue.Cg)([(0,Gn.VK)("Project",Vn.n.StandalonePage)],Gg);let W0=class dO extends zo.C{ngOnInit(){this.uri=Vh.O.first(this.object.metadata,"dc.identifier.uri")}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(dO)))(c||dO)}})()}static{this.\u0275cmp=e.VBU({type:dO,selectors:[["ds-external-source-entry-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:2,consts:[[1,"d-inline-block"],[4,"ngIf"],["target","_blank",3,"href"]],template:function(o,c){1&o&&(e.j41(0,"div",0)(1,"div"),e.EFF(2),e.k0s(),e.DNE(3,h2,3,2,"div",1),e.k0s()),2&o&&(e.R7$(2),e.JRh(c.object.display),e.R7$(),e.Y8G("ngIf",c.uri))},dependencies:[f.bT]})}};W0=(0,Ue.Cg)([(0,Gn.VK)(Fv.$,Vn.n.ListElement,Ps.o.EntitySearchModal),(0,Gn.VK)(Fv.$,Vn.n.ListElement,Ps.o.EntitySearchModalWithNameVariants)],W0);var tp=n(29326),$g=n(14391);const GS=d=>({value:d});let MC=(()=>{class d{constructor(o){this.modal=o}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(q.Lw))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-name-variant-modal"]],inputs:{value:"value"},standalone:!0,features:[e.aNF],decls:14,vars:12,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer","justify-content-between"],["type","button",1,"btn","btn-light","confirm-button",3,"click"],["type","button",1,"btn","btn-light","decline-button",3,"click"]],template:function(c,O){1&c&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2,"New name variant"),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return O.modal.dismiss("Cross click")}),e.k0s()(),e.j41(4,"div",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",4)(8,"button",5),e.bIt("click",function(){return O.modal.close()}),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"button",6),e.bIt("click",function(){return O.modal.dismiss()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()),2&c&&(e.R7$(5),e.SpI(" ",e.i5U(6,3,"submission.sections.describe.relationship-lookup.name-variant.notification.content",e.eq3(10,GS,O.value)),"\n"),e.R7$(4),e.JRh(e.bMT(10,6,"submission.sections.describe.relationship-lookup.name-variant.notification.confirm")),e.R7$(3),e.JRh(e.bMT(13,8,"submission.sections.describe.relationship-lookup.name-variant.notification.decline")))},dependencies:[K.h,K.D9]})}}return d})();var SC=n(14412),IC=n(46301),PC=n(56386);const $S=d=>({"is-invalid":d}),WS=()=>({standalone:!0}),KS=d=>({show:d});function HS(d,y){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"a",9,2),e.bIt("click",function(){const O=e.eBV(o).$implicit,W=e.XpG();return e.Njj(W.onClickSuggestion(O))}),e.nrm(3,"span",10),e.k0s()()}if(2&d){const o=y.$implicit;e.R7$(3),e.Y8G("innerHTML",o,e.npT)}}let RC=(()=>{class d extends SC.t{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(o){this.value=o,this.submitSuggestion.emit(o)}onClickSuggestion(o){return this.value=o,this.clickSuggestion.emit(o),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-org-unit-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[e.Jv_([{provide:ln.kq,useExisting:(0,e.Rfq)(()=>d),multi:!0}]),e.Vt3,e.aNF],decls:11,vars:19,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","focus","click","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(c,O){if(1&c){const W=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(W),e.Njj(O.onSubmit(O.value))})("keydown",function(Ie){return e.eBV(W),e.Njj(O.onKeydown(Ie))})("keydown.arrowdown",function(Ie){return e.eBV(W),e.Njj(O.shiftFocusDown(Ie))})("keydown.arrowup",function(Ie){return e.eBV(W),e.Njj(O.shiftFocusUp(Ie))})("keydown.esc",function(){return e.eBV(W),e.Njj(O.close())})("dsClickOutside",function(){return e.eBV(W),e.Njj(O.close())}),e.j41(2,"input",4,1),e.mxI("ngModelChange",function(Ie){return e.eBV(W),e.DH7(O.value,Ie)||(O.value=Ie),e.Njj(Ie)}),e.bIt("focus",function(){return e.eBV(W),e.Njj(O.open())})("click",function(){return e.eBV(W),e.Njj(O.open())})("onDebounce",function(Ie){return e.eBV(W),e.Njj(O.find(Ie))}),e.k0s(),e.j41(4,"button",5),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",6),e.nI1(8,"async"),e.j41(9,"div",7),e.DNE(10,HS,4,1,"div",8),e.k0s()()()}2&c&&(e.Y8G("action",O.action,e.B4B),e.R7$(2),e.R50("ngModel",O.value),e.Y8G("name",O.name)("ngClass",e.eq3(14,$S,!O.valid))("dsDebounce",O.debounceTime)("placeholder",O.placeholder)("ngModelOptions",e.lJ4(16,WS)),e.R7$(3),e.SpI(" ",e.bMT(6,10,"search.filters.search.submit")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(17,KS,e.bMT(8,12,O.show)&&O.isNotEmpty(O.suggestions))),e.R7$(3),e.Y8G("ngForOf",O.suggestions))},dependencies:[ln.YN,ln.qT,ln.me,ln.BC,ln.cb,ln.vS,ln.cV,IC.z,PC.R,f.YU,f.pM,f.Jj,K.h,K.D9],styles:['form[_ngcontent-%COMP%]{z-index:1}form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font:var(--fa-font-solid);content:"\\f0d7";top:10px;right:0;height:20px;width:20px;z-index:-1}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:#0000}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return d})();const zS=()=>["organization.address.addressLocality"],YS=()=>["organization.address.addressCountry"];function XS(d,y){if(1&d){const o=e.RV6();e.j41(0,"ds-org-unit-input-suggestions",7),e.mxI("ngModelChange",function(O){e.eBV(o);const W=e.XpG();return e.DH7(W.selectedName,O)||(W.selectedName=O),e.Njj(O)}),e.bIt("clickSuggestion",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.select(O))})("submitSuggestion",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.selectCustom(O))}),e.k0s()}if(2&d){const o=e.XpG();e.Y8G("suggestions",o.allSuggestions),e.R50("ngModel",o.selectedName)}}function JS(d,y){if(1&d&&e.nrm(0,"div",8),2&d){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function QS(d,y){1&d&&(e.j41(0,"span"),e.EFF(1,", "),e.k0s())}function ZS(d,y){if(1&d&&(e.j41(0,"span",9),e.nrm(1,"span",10),e.DNE(2,QS,2,0,"span",11),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue(e.lJ4(2,zS)),e.npT),e.R7$(),e.Y8G("ngIf",o.dso.allMetadata("organization.address.addressCountry").length>0)}}function AC(d,y){if(1&d&&(e.j41(0,"span",12),e.nrm(1,"span",10),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue(e.lJ4(1,YS)),e.npT)}}let kf=class iA extends Hr.P{constructor(y,o,c,O,W,ue,Ie,rt,kt,Cn){super(y,kt,Cn),this.truncatableService=y,this.relationshipService=o,this.notificationsService=c,this.translateService=O,this.modalService=W,this.itemDataService=ue,this.bitstreamDataService=Ie,this.selectableListService=rt,this.dsoNameService=kt,this.appConfig=Cn,this.alternativeField="dc.title.alternative",this.useNameVariants=!1}ngOnInit(){if(super.ngOnInit(),this.useNameVariants=this.context===Ps.o.EntitySearchModalWithNameVariants,this.useNameVariants){const y=this.dso?this.dsoNameService.getName(this.dso):void 0,o=this.allMetadataValues(this.alternativeField);this.allSuggestions=[y,...o],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,T.s)(1)).subscribe(c=>{this.selectedName=c||y})}this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(y){this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,T.s)(1)).subscribe(o=>{o||this.selectableListService.selectSingle(this.listID,this.object)}),this.relationshipService.setNameVariant(this.listID,this.dso.uuid,y)}selectCustom(y){this.allSuggestions.includes(y)||this.openModal(y).then(()=>{const o=new $g.vD;o.value=y;const O={[this.alternativeField]:[...this.dso.metadata[this.alternativeField]||[],o]},W=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...O}});this.itemDataService.update(W).pipe((0,T.s)(1)).subscribe()}).catch(()=>{}).finally(()=>{this.select(y)})}openModal(y){const o=this.modalService.open(MC,{centered:!0});return o.componentInstance.value=y,o.result}static{this.\u0275fac=function(o){return new(o||iA)(e.rXU(Pi.F),e.rXU(El.RelationshipDataService),e.rXU(ys.I),e.rXU(K.c$),e.rXU(q.Bq),e.rXU(tp.ItemDataService),e.rXU(wr.BitstreamDataService),e.rXU(dc.K),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:iA,selectors:[["ds-org-unit-search-result-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex"],[1,"flex-grow-1"],[3,"suggestions","ngModel","ngModelChange","clickSuggestion","submitSuggestion",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],["class","item-list-address-locality",4,"ngIf"],["class","item-list-address-country",4,"ngIf"],[3,"ngModelChange","clickSuggestion","submitSuggestion","suggestions","ngModel"],[1,"lead",3,"innerHTML"],[1,"item-list-address-locality"],[3,"innerHTML"],[4,"ngIf"],[1,"item-list-address-country"]],template:function(o,c){1&o&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,XS,1,2,"ds-org-unit-input-suggestions",2)(3,JS,1,1,"div",3),e.j41(4,"span",4),e.DNE(5,ZS,3,3,"span",5)(6,AC,2,2,"span",6),e.k0s()()()),2&o&&(e.R7$(2),e.Y8G("ngIf",c.useNameVariants),e.R7$(),e.Y8G("ngIf",!c.useNameVariants),e.R7$(2),e.Y8G("ngIf",c.dso.allMetadata("organization.address.addressLocality").length>0),e.R7$(),e.Y8G("ngIf",c.dso.allMetadata("organization.address.addressCountry").length>0))},dependencies:[f.bT,RC,ln.YN,ln.BC,ln.vS],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]})}};kf=(0,Ue.Cg)([(0,Gn.VK)("OrgUnitSearchResult",Vn.n.ListElement,Ps.o.EntitySearchModal),(0,Gn.VK)("OrgUnitSearchResult",Vn.n.ListElement,Ps.o.EntitySearchModalWithNameVariants),(0,Ue.Sn)("design:paramtypes",[Pi.F,El.RelationshipDataService,ys.I,K.c$,q.Bq,tp.ItemDataService,wr.BitstreamDataService,dc.K,Fs.f,Object])],kf);const Xd=d=>({"is-invalid":d}),qS=()=>({standalone:!0}),eI=d=>({show:d});function wC(d,y){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"a",9,2),e.bIt("click",function(){const O=e.eBV(o).$implicit,W=e.XpG();return e.Njj(W.onClickSuggestion(O))}),e.nrm(3,"span",10),e.k0s()()}if(2&d){const o=y.$implicit;e.R7$(3),e.Y8G("innerHTML",o,e.npT)}}let xC=(()=>{class d extends SC.t{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(o){o!==this.value&&(this.value=o,this.submitSuggestion.emit(o))}onClickSuggestion(o){return this.value=o,this.clickSuggestion.emit(o),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-person-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[e.Jv_([{provide:ln.kq,useExisting:(0,e.Rfq)(()=>d),multi:!0}]),e.Vt3,e.aNF],decls:11,vars:19,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"focus","blur","click","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(c,O){if(1&c){const W=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){e.eBV(W);const Ie=e.sdS(3);return e.Njj(O.onSubmit(Ie.value))})("keydown",function(Ie){return e.eBV(W),e.Njj(O.onKeydown(Ie))})("keydown.arrowdown",function(Ie){return e.eBV(W),e.Njj(O.shiftFocusDown(Ie))})("keydown.arrowup",function(Ie){return e.eBV(W),e.Njj(O.shiftFocusUp(Ie))})("keydown.esc",function(){return e.eBV(W),e.Njj(O.close())})("dsClickOutside",function(){return e.eBV(W),e.Njj(O.close())}),e.j41(2,"input",4,1),e.bIt("focus",function(){return e.eBV(W),e.Njj(O.open())})("blur",function(){e.eBV(W);const Ie=e.sdS(3);return e.Njj(O.onSubmit(Ie.value))})("click",function(){return e.eBV(W),e.Njj(O.open())})("onDebounce",function(Ie){return e.eBV(W),e.Njj(O.find(Ie))}),e.k0s(),e.j41(4,"button",5),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",6),e.nI1(8,"async"),e.j41(9,"div",7),e.DNE(10,wC,4,1,"div",8),e.k0s()()()}2&c&&(e.Y8G("action",O.action,e.B4B),e.R7$(2),e.Y8G("ngModel",O.value)("name",O.name)("ngClass",e.eq3(14,Xd,!O.valid))("dsDebounce",O.debounceTime)("placeholder",O.placeholder)("ngModelOptions",e.lJ4(16,qS)),e.R7$(3),e.SpI(" ",e.bMT(6,10,"search.filters.search.submit")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(17,eI,e.bMT(8,12,O.show)&&O.isNotEmpty(O.suggestions))),e.R7$(3),e.Y8G("ngForOf",O.suggestions))},dependencies:[ln.YN,ln.qT,ln.me,ln.BC,ln.cb,ln.vS,ln.cV,IC.z,PC.R,f.YU,f.pM,f.Jj,K.h,K.D9],styles:['form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font:var(--fa-font-solid);content:"\\f0d7";top:10px;right:0;height:20px;width:20px}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:#0000}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return d})();const K0=()=>["person.jobTitle"];function LC(d,y){if(1&d&&(e.j41(0,"a",11),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self"),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,6,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function Vf(d,y){if(1&d&&(e.j41(0,"span",13),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function H0(d,y){if(1&d&&(e.j41(0,"div",8),e.DNE(1,LC,3,8,"a",9)(2,Vf,3,6,"span",10),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function np(d,y){1&d&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function NC(d,y){if(1&d&&(e.j41(0,"span"),e.nrm(1,"span",16),e.DNE(2,np,2,0,"span",17),e.k0s()),2&d){const o=y.$implicit,c=y.last;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!c)}}function ip(d,y){if(1&d&&(e.j41(0,"span",14),e.DNE(1,NC,3,2,"span",15),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,K0)))}}let op=class oA extends Hr.P{constructor(y,o,c,O,W,ue,Ie){super(y,ue,Ie),this.truncatableService=y,this.relationshipService=o,this.modalService=c,this.itemDataService=O,this.selectableListService=W,this.dsoNameService=ue,this.appConfig=Ie,this.alternativeField="dc.title.alternative"}ngOnInit(){super.ngOnInit();const y=this.dso?this.dsoNameService.getName(this.dso):void 0,o=this.allMetadataValues(this.alternativeField);this.allSuggestions=[y,...o],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,T.s)(1)).subscribe(c=>{this.selectedName=c||y}),this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(y){this.relationshipService.setNameVariant(this.listID,this.dso.uuid,y),this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,T.s)(1)).subscribe(o=>{o||this.selectableListService.selectSingle(this.listID,this.object)})}selectCustom(y){this.allSuggestions.includes(y)||this.openModal(y).then(()=>{const o=new $g.vD;o.value=y;const O={[this.alternativeField]:[...this.dso.metadata[this.alternativeField]||[],o]},W=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...O}});this.itemDataService.update(W).pipe((0,T.s)(1)).subscribe(),this.itemDataService.commitUpdates()}).catch(()=>{}).finally(()=>{this.select(y)})}openModal(y){const o=this.modalService.open(MC,{centered:!0});return o.componentInstance.value=y,o.result}static{this.\u0275fac=function(o){return new(o||oA)(e.rXU(Pi.F),e.rXU(El.RelationshipDataService),e.rXU(q.Bq),e.rXU(tp.ItemDataService),e.rXU(dc.K),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:oA,selectors:[["ds-person-search-result-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:6,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[1,"d-flex"],[1,"flex-grow-1"],[3,"ngModelChange","clickSuggestion","submitSuggestion","suggestions","ngModel"],[1,"text-muted"],["class","item-list-job-title",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngIf"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,H0,3,2,"div",1),e.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"ds-person-input-suggestions",5),e.mxI("ngModelChange",function(W){return e.DH7(c.selectedName,W)||(c.selectedName=W),W}),e.bIt("clickSuggestion",function(W){return c.select(W)})("submitSuggestion",function(W){return c.selectCustom(W)}),e.k0s(),e.j41(6,"span",6),e.DNE(7,ip,2,2,"span",7),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.showThumbnails),e.R7$(),e.Y8G("ngClass",c.showThumbnails?"col-9":"col-md-12"),e.R7$(3),e.Y8G("suggestions",c.allSuggestions),e.R50("ngModel",c.selectedName),e.R7$(2),e.Y8G("ngIf",c.dso.allMetadata(e.lJ4(5,K0)).length>0))},dependencies:[f.bT,Oo.T,f.YU,xC,ln.YN,ln.BC,ln.vS,f.pM,f.Jj],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]})}};op=(0,Ue.Cg)([(0,Gn.VK)("PersonSearchResult",Vn.n.ListElement,Ps.o.EntitySearchModalWithNameVariants),(0,Ue.Sn)("design:paramtypes",[Pi.F,El.RelationshipDataService,q.Bq,tp.ItemDataService,dc.K,Fs.f,Object])],op);var Jd=n(44616);n(90337);const rp=["*"];function ap(d,y){}let Qd=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item","mediaOptions"]}getComponentName(){return"MediaViewerComponent"}importThemedComponent(o){return n(5452)(`./${o}/app/item-page/media-viewer/media-viewer.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,90337))}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-media-viewer"]],inputs:{item:"item",mediaOptions:"mediaOptions"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:rp,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,O){1&c&&(e.NAR(),e.DNE(0,ap,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();var Ku=n(81443),Zd=n(57538),lp=n(67018);let cp=(()=>{class d{constructor(){this.LINKS_TO_FOLLOW=[(0,Ws.s)("format")]}showEmbeddedViewer(){return!(0,e.naY)()}getImageCount(o,c,O){let W=0;return O.findAllByItem(o).pipe((0,js.qD)(),(0,xt.T)(ue=>ue.payload),(0,xt.T)(ue=>ue.page),(0,ks.n)(ue=>ue),(0,Wn.p)(ue=>this.isIiifBundle(ue.name)),(0,Qn.Z)(ue=>c.findAllByItemAndBundleName(o,ue.name,{currentPage:1,elementsPerPage:5},!0,!0,...this.LINKS_TO_FOLLOW).pipe((0,js.qD)(),(0,xt.T)(Ie=>Ie.payload),(0,xt.T)(Ie=>Ie.page),(0,ks.n)(Ie=>Ie),(0,ks.n)(Ie=>Ie.format.pipe((0,js.qD)(),(0,xt.T)(rt=>rt.payload),(0,xt.T)(rt=>(rt.mimetype.includes("image")&&W++,W)))))),(0,lp.H)())}isIiifBundle(o){return!("OtherContent"===o||"LICENSE"===o||"THUMBNAIL"===o||"TEXT"===o||"METADATA"===o||"CC-LICENSE"===o||"BRANDED_PREVIEW"===o)}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();function FC(d,y){if(1&d&&(e.j41(0,"p",3),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(o.viewerMessage)}}function BC(d,y){if(1&d&&(e.nrm(0,"iframe",4),e.nI1(1,"async")),2&d){const o=e.XpG();e.Y8G("src",e.bMT(1,1,o.iframeViewerUrl),e.f$h)}}let Wg=(()=>{class d{constructor(o,c,O,W,ue,Ie){this.sanitizer=o,this.viewerService=c,this.bitstreamDataService=O,this.bundleDataService=W,this.hostWindowService=ue,this.platformId=Ie,this.isViewerAvailable=!0,this.multi=!1,this.notMobile=!1,this.viewerMessage="Sorry, the Mirador viewer is not currently available in development mode."}setURL(){const o=encodeURIComponent(A.c.rest.baseUrl+"/iiif/"+this.object.id+"/manifest");let c=`${A.c.ui.nameSpace}${A.c.ui.nameSpace.length>1?"/":""}iiif/mirador/index.html?manifest=${o}`;return this.searchable&&(c+="&searchable="+this.searchable),this.query&&(c+="&query="+this.query),this.multi&&(c+="&multi="+this.multi),this.notMobile&&(c+="&notMobile=true"),this.sanitizer.bypassSecurityTrustResourceUrl(c)}ngOnInit(){if((0,f.UE)(this.platformId))if(this.isViewerAvailable=this.viewerService.showEmbeddedViewer(),this.hostWindowService.widthCategory.pipe((0,T.s)(1)).subscribe(o=>{this.notMobile=!(o===Zd.tP.XS||o===Zd.tP.SM)}),this.searchable){this.multi=!0;const o=(0,Is.of)("");this.iframeViewerUrl=o.pipe((0,xt.T)(c=>this.setURL()))}else this.iframeViewerUrl=this.viewerService.getImageCount(this.object,this.bitstreamDataService,this.bundleDataService).pipe((0,xt.T)(o=>(o>1&&(this.multi=!0),this.setURL())))}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(h.up),e.rXU(cp),e.rXU(wr.BitstreamDataService),e.rXU(Ku.BundleDataService),e.rXU(Zd.CV),e.rXU(e.Agw))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-mirador-viewer"]],inputs:{object:"object",query:"query",searchable:"searchable"},standalone:!0,features:[e.aNF],decls:5,vars:5,consts:[[1,"full-text-op"],["id","viewer-message",4,"ngIf"],["title","Mirador Viewer","allowtransparency","true","id","mirador-viewer",3,"src",4,"ngIf"],["id","viewer-message"],["title","Mirador Viewer","allowtransparency","true","id","mirador-viewer",3,"src"]],template:function(c,O){1&c&&(e.j41(0,"p",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,FC,2,1,"p",1)(4,BC,2,3,"iframe",2)),2&c&&(e.R7$(),e.JRh(e.bMT(2,3,"iiifviewer.fullscreen.notice")),e.R7$(2),e.Y8G("ngIf",!O.isViewerAvailable),e.R7$(),e.Y8G("ngIf",O.isViewerAvailable))},dependencies:[K.h,K.D9,f.Jj,f.bT],styles:["#mirador-viewer[_ngcontent-%COMP%]{border:1px solid #dee2e6;height:660px;width:100%}.full-text-op[_ngcontent-%COMP%]{text-align:right;color:#333;font-size:.8em}p.full-text-op[_ngcontent-%COMP%]{margin-bottom:0}"],changeDetection:0})}}return d})();n(1231);const jC=["*"];function UC(d,y){}let Kg=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"FileSectionComponent"}importThemedComponent(o){return n(78373)(`./${o}/app/item-page/simple/field-components/file-section/file-section.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1231))}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-file-section"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:jC,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,O){1&c&&(e.NAR(),e.DNE(0,UC,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})(),Hg=(()=>{class d extends Fu{constructor(){super(...arguments),this.fields=["dc.description.abstract"],this.label="item.page.abstract",this.enableMarkdown=!0}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-abstract-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(c,O){1&c&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&c&&(e.R7$(),e.Y8G("mdValues",null==O.item?null:O.item.allMetadata(O.fields))("separator",O.separator)("label",O.label)("enableMarkdown",O.enableMarkdown)("urlRegex",O.urlRegex)("browseDefinition",e.bMT(2,7,O.browseDefinition))("img",O.img))},dependencies:[Nu,f.Jj],encapsulation:2})}}return d})(),zg=(()=>{class d extends Fu{constructor(){super(...arguments),this.separator=", ",this.fields=["dc.date.issued"],this.label="item.page.date"}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-date-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(c,O){1&c&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&c&&(e.R7$(),e.Y8G("mdValues",null==O.item?null:O.item.allMetadata(O.fields))("separator",O.separator)("label",O.label)("enableMarkdown",O.enableMarkdown)("urlRegex",O.urlRegex)("browseDefinition",e.bMT(2,7,O.browseDefinition))("img",O.img))},dependencies:[Nu,f.Jj],encapsulation:2})}}return d})();function Yg(d,y){if(1&d&&e.nrm(0,"span",4),2&d){const o=e.XpG(2);e.Y8G("innerHTML",o.separator,e.npT)}}function qd(d,y){if(1&d&&(e.j41(0,"a",2),e.EFF(1),e.DNE(2,Yg,1,1,"span",3),e.k0s()),2&d){const o=y.$implicit,c=y.last,O=e.XpG();e.Y8G("href",o.value,e.B4B)("target",O.hasInternalLink(o.value)?"_self":"_blank"),e.R7$(),e.SpI(" ",O.linktext||o.value,""),e.R7$(),e.Y8G("ngIf",!c)}}let nI=(()=>{class d extends Nu{static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-metadata-uri-values"]],inputs:{linktext:"linktext",mdValues:"mdValues",separator:"separator",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:4,consts:[[3,"label"],["class","dont-break-out",3,"href","target",4,"ngFor","ngForOf"],[1,"dont-break-out",3,"href","target"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"]],template:function(c,O){1&c&&(e.j41(0,"ds-metadata-field-wrapper",0),e.nI1(1,"translate"),e.DNE(2,qd,3,4,"a",1),e.k0s()),2&c&&(e.Y8G("label",e.bMT(1,2,O.label)),e.R7$(2),e.Y8G("ngForOf",O.mdValues))},dependencies:[il.Q,K.h,K.D9,f.Sq,f.bT]})}}return d})(),z0=(()=>{class d extends Fu{static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-uri-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[1,"item-page-field"],[3,"mdValues","separator","label"]],template:function(c,O){1&c&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-uri-values",1),e.k0s()),2&c&&(e.R7$(),e.Y8G("mdValues",null==O.item?null:O.item.allMetadata(O.fields))("separator",O.separator)("label",O.label))},dependencies:[nI],encapsulation:2})}}return d})();const Y0=()=>["dc.contributor.author","dc.creator"],Hu=()=>["journal.title"],X0=()=>["journal.identifier.issn"],sI=()=>["journalvolume.identifier.name"],J0=()=>["dc.publisher"],p2=()=>["dc.description"],f2=()=>["dc.subject"],iI=()=>["dc.identifier.citation"],oI=()=>["dc.identifier.uri"],kC=()=>["coar.notify.endorsedBy"],rI=()=>["datacite.relation.isReviewedBy"],xr=()=>["datacite.relation.isSupplementedBy"],VC=()=>["datacite.relation.isReferencedBy"],aI=d=>[d];function lI(d,y){if(1&d&&e.nrm(0,"ds-results-back-button",16),2&d){const o=e.XpG();e.Y8G("back",o.back)}}function GC(d,y){if(1&d&&(e.j41(0,"div",4)(1,"div",17),e.nrm(2,"ds-mirador-viewer",18),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("object",o.object)("searchable",o.iiifSearchEnabled)("query",e.bMT(3,3,o.iiifQuery$))}}function cI(d,y){if(1&d&&(e.qex(0),e.j41(1,"ds-metadata-field-wrapper",19),e.nrm(2,"ds-thumbnail",20),e.nI1(3,"async"),e.k0s(),e.bVm()),2&d){const o=e.XpG();e.R7$(),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(3,2,null==o.object?null:o.object.thumbnail))}}function $C(d,y){if(1&d&&(e.j41(0,"div",21),e.nrm(1,"ds-media-viewer",8),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("item",o.object)}}let $f=class uO extends zd{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(uO)))(c||uO)}})()}static{this.\u0275cmp=e.VBU({type:uO,selectors:[["ds-publication"]],standalone:!0,features:[e.Vt3,e.aNF],decls:40,vars:88,consts:[[3,"back",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[4,"ngIf"],["class","mb-2",4,"ngIf"],[3,"item"],[1,"ds-item-page-mixed-author-field",3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[3,"item","fields","separator","label"],["role","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[3,"back"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"mb-2"]],template:function(o,c){1&o&&(e.DNE(0,lI,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.DNE(2,GC,4,5,"div",1),e.j41(3,"div",2),e.nrm(4,"ds-item-page-title-field",3)(5,"ds-dso-edit-menu"),e.k0s(),e.j41(6,"div",4)(7,"div",5),e.DNE(8,cI,4,4,"ng-container",6)(9,$C,2,1,"div",7),e.nrm(10,"ds-item-page-file-section",8)(11,"ds-item-page-date-field",8)(12,"ds-metadata-representation-list",9),e.nI1(13,"translate"),e.nrm(14,"ds-generic-item-page-field",10)(15,"ds-generic-item-page-field",10)(16,"ds-generic-item-page-field",10)(17,"ds-generic-item-page-field",10),e.k0s(),e.j41(18,"div",11),e.nrm(19,"ds-related-items",12),e.nI1(20,"translate"),e.nrm(21,"ds-related-items",12),e.nI1(22,"translate"),e.nrm(23,"ds-related-items",12),e.nI1(24,"translate"),e.nrm(25,"ds-item-page-abstract-field",8)(26,"ds-generic-item-page-field",10)(27,"ds-generic-item-page-field",13)(28,"ds-generic-item-page-field",10)(29,"ds-item-page-uri-field",10)(30,"ds-item-page-collections",8)(31,"ds-item-page-uri-field",10)(32,"ds-item-page-uri-field",10)(33,"ds-item-page-uri-field",10)(34,"ds-item-page-uri-field",10),e.j41(35,"div")(36,"a",14),e.nrm(37,"i",15),e.EFF(38),e.nI1(39,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,61,c.showBackButton$)),e.R7$(2),e.Y8G("ngIf",c.iiifEnabled),e.R7$(2),e.Y8G("item",c.object),e.R7$(4),e.Y8G("ngIf",!(c.mediaViewer.image||c.mediaViewer.video)),e.R7$(),e.Y8G("ngIf",c.mediaViewer.image||c.mediaViewer.video),e.R7$(),e.Y8G("item",c.object),e.R7$(),e.Y8G("item",c.object),e.R7$(),e.Y8G("parentItem",c.object)("itemType","Person")("metadataFields",e.lJ4(73,Y0))("label",e.bMT(13,63,"relationships.isAuthorOf")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(74,Hu))("label","publication.page.journal-title"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(75,X0))("label","publication.page.journal-issn"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(76,sI))("label","publication.page.volume-title"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(77,J0))("label","publication.page.publisher"),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isProjectOfPublication")("label",e.bMT(20,65,"relationships.isProjectOf")),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isOrgUnitOfPublication")("label",e.bMT(22,67,"relationships.isOrgUnitOf")),e.R7$(2),e.Y8G("parentItem",c.object)("relationType","isJournalIssueOfPublication")("label",e.bMT(24,69,"relationships.isJournalIssueOf")),e.R7$(2),e.Y8G("item",c.object),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(78,p2))("label","publication.page.description"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(79,f2))("separator",", ")("label","item.page.subject"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(80,iI))("label","item.page.citation"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(81,oI))("label","item.page.uri"),e.R7$(),e.Y8G("item",c.object),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(82,kC))("label","item.page.endorsement"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(83,rI))("label","item.page.review"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(84,xr))("label","item.page.supplemented"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(85,VC))("label","item.page.referenced"),e.R7$(2),e.Y8G("routerLink",e.eq3(86,aI,c.itemPageRoute+"/full")),e.R7$(2),e.SpI(" ",e.bMT(39,71,"item.page.link.full")," "))},dependencies:[f.bT,Yd.U,Wg,ql.V,od.T,il.Q,Oo.T,Qd,Kg,zg,Vg,Zl,id,Hg,z0,Jd.r,v.Wk,f.Jj,K.h,K.D9],changeDetection:0})}};$f=(0,Ue.Cg)([(0,Gn.VK)("Publication",Vn.n.StandalonePage)],$f);const zu=(d,y)=>({row:d,col:y}),dI=(d,y)=>({"col-auto":d,row:y}),uI=d=>({width:"var(--ds-thumbnail-max-width)","margin-bottom":d});function WC(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",6)(1,"a",7)(2,"img",8),e.bIt("error",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.showImage=!1)}),e.k0s()()()}if(2&d){const o=e.XpG(2);e.Y8G("ngClass",e.l_i(5,dI,"full"===o.variant,"small"===o.variant)),e.R7$(),e.Y8G("href",o.uri,e.B4B),e.R7$(),e.Y8G("src",o.imgSrc,e.B4B)("alt",o.name)("ngStyle",e.eq3(8,uI,"small"===o.variant?"1ch":"0"))}}function hI(d,y){if(1&d&&(e.j41(0,"a",9),e.EFF(1),e.k0s()),2&d){const o=e.XpG(2);e.Y8G("href",o.uri,e.B4B),e.R7$(),e.JRh(o.name)}}function KC(d,y){if(1&d&&(e.j41(0,"div",1)(1,"ds-metadata-field-wrapper",2),e.nI1(2,"translate"),e.j41(3,"div",3),e.DNE(4,WC,3,10,"div",4),e.j41(5,"div",3)(6,"span"),e.EFF(7),e.nI1(8,"translate"),e.DNE(9,hI,2,2,"a",5),e.k0s()()()()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,6,"item.page.cc.license.title")),e.R7$(2),e.Y8G("ngClass",e.l_i(10,zu,"full"===o.variant,"small"===o.variant)),e.R7$(),e.Y8G("ngIf",o.showImage),e.R7$(),e.Y8G("ngClass",e.l_i(13,zu,"small"===o.variant,"full"===o.variant)),e.R7$(2),e.SpI(" ","full"===o.variant&&o.showDisclaimer?e.bMT(8,8,"item.page.cc.license.disclaimer"):""," "),e.R7$(2),e.Y8G("ngIf",o.showName||!o.showImage)}}let m2=(()=>{class d{constructor(){this.variant="small",this.ccLicenseUriField="dc.rights.uri",this.ccLicenseNameField="dc.rights",this.showName=!0,this.showDisclaimer=!0,this.showImage=!0}ngOnInit(){this.uri=this.item.firstMetadataValue(this.ccLicenseUriField),this.name=this.item.firstMetadataValue(this.ccLicenseNameField);const c=/.*creativecommons.org\/(licenses|publicdomain)\/([^/]+)/gm.exec(this.uri??"")??[],O=c.length>2?c[2]:null;this.imgSrc=O?`assets/images/cc-licenses/${O}.png`:null}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-page-cc-license-field"]],inputs:{item:"item",variant:"variant",ccLicenseUriField:"ccLicenseUriField",ccLicenseNameField:"ccLicenseNameField",showName:"showName",showDisclaimer:"showDisclaimer"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["class","item-page-field",4,"ngIf"],[1,"item-page-field"],[3,"label"],[3,"ngClass"],["style","align-content: center;",3,"ngClass",4,"ngIf"],["target","_blank","id","cc-name",3,"href",4,"ngIf"],[2,"align-content","center",3,"ngClass"],["target","_blank",1,"link-anchor","dont-break-out","ds-simple-metadata-link",3,"href"],[1,"cc-image",3,"error","src","alt","ngStyle"],["target","_blank","id","cc-name",3,"href"]],template:function(c,O){1&c&&e.DNE(0,KC,10,16,"div",0),2&c&&e.Y8G("ngIf",O.uri&&O.name)},dependencies:[f.bT,f.YU,f.B3,K.h,K.D9,il.Q],encapsulation:2})}}return d})();const Q0=()=>["dc.contributor.author","dc.creator"],Z0=()=>["journal.title"],q0=()=>["journal.identifier.issn"],ey=()=>["journalvolume.identifier.name"],Pc=()=>["dc.publisher"],pI=()=>["dc.description"],HC=()=>["dc.subject"],Rc=()=>["dc.identifier.citation"],tc=()=>["dc.identifier.uri"],nc=()=>["coar.notify.endorsedBy"],zC=()=>["datacite.relation.isReviewedBy"],YC=()=>["datacite.relation.isSupplementedBy"],fI=()=>["datacite.relation.isReferencedBy"],mI=d=>[d];function gI(d,y){if(1&d&&e.nrm(0,"ds-results-back-button",16),2&d){const o=e.XpG();e.Y8G("back",o.back)}}function _I(d,y){if(1&d&&(e.j41(0,"div",4)(1,"div",17),e.nrm(2,"ds-mirador-viewer",18),e.nI1(3,"async"),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.Y8G("object",o.object)("searchable",o.iiifSearchEnabled)("query",e.bMT(3,3,o.iiifQuery$))}}function ty(d,y){if(1&d&&(e.qex(0),e.j41(1,"ds-metadata-field-wrapper",19),e.nrm(2,"ds-thumbnail",20),e.nI1(3,"async"),e.k0s(),e.bVm()),2&d){const o=e.XpG();e.R7$(),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(3,2,null==o.object?null:o.object.thumbnail))}}function Wf(d,y){if(1&d&&(e.j41(0,"div",21),e.nrm(1,"ds-media-viewer",8),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("item",o.object)}}let Xg=class hO extends zd{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(hO)))(c||hO)}})()}static{this.\u0275cmp=e.VBU({type:hO,selectors:[["ds-untyped-item"]],standalone:!0,features:[e.Vt3,e.aNF],decls:35,vars:75,consts:[[3,"back",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","flex-row"],[1,"me-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[4,"ngIf"],["class","mb-2",4,"ngIf"],[3,"item"],[1,"ds-item-page-mixed-author-field",3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"item","fields","separator","label"],[3,"item","variant"],["role","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[3,"back"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"mb-2"]],template:function(o,c){1&o&&(e.DNE(0,gI,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.DNE(2,_I,4,5,"div",1),e.j41(3,"div",2),e.nrm(4,"ds-item-page-title-field",3)(5,"ds-dso-edit-menu"),e.k0s(),e.j41(6,"div",4)(7,"div",5),e.DNE(8,ty,4,4,"ng-container",6)(9,Wf,2,1,"div",7),e.nrm(10,"ds-item-page-file-section",8)(11,"ds-item-page-date-field",8)(12,"ds-metadata-representation-list",9),e.nI1(13,"translate"),e.nrm(14,"ds-generic-item-page-field",10)(15,"ds-generic-item-page-field",10)(16,"ds-generic-item-page-field",10)(17,"ds-generic-item-page-field",10),e.k0s(),e.j41(18,"div",11),e.nrm(19,"ds-item-page-abstract-field",8)(20,"ds-generic-item-page-field",10)(21,"ds-generic-item-page-field",12)(22,"ds-generic-item-page-field",10)(23,"ds-item-page-uri-field",10)(24,"ds-item-page-collections",8)(25,"ds-item-page-uri-field",10)(26,"ds-item-page-uri-field",10)(27,"ds-item-page-uri-field",10)(28,"ds-item-page-uri-field",10)(29,"ds-item-page-cc-license-field",13),e.j41(30,"div")(31,"a",14),e.nrm(32,"i",15),e.EFF(33),e.nI1(34,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,54,c.showBackButton$)),e.R7$(2),e.Y8G("ngIf",c.iiifEnabled),e.R7$(2),e.Y8G("item",c.object),e.R7$(4),e.Y8G("ngIf",!(c.mediaViewer.image||c.mediaViewer.video)),e.R7$(),e.Y8G("ngIf",c.mediaViewer.image||c.mediaViewer.video),e.R7$(),e.Y8G("item",c.object),e.R7$(),e.Y8G("item",c.object),e.R7$(),e.Y8G("parentItem",c.object)("itemType","Person")("metadataFields",e.lJ4(60,Q0))("label",e.bMT(13,56,"relationships.isAuthorOf")),e.R7$(2),e.Y8G("item",c.object)("fields",e.lJ4(61,Z0))("label","item.page.journal-title"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(62,q0))("label","item.page.journal-issn"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(63,ey))("label","item.page.volume-title"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(64,Pc))("label","item.page.publisher"),e.R7$(2),e.Y8G("item",c.object),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(65,pI))("label","item.page.description"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(66,HC))("separator",", ")("label","item.page.subject"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(67,Rc))("label","item.page.citation"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(68,tc))("label","item.page.uri"),e.R7$(),e.Y8G("item",c.object),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(69,nc))("label","item.page.endorsement"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(70,zC))("label","item.page.review"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(71,YC))("label","item.page.supplemented"),e.R7$(),e.Y8G("item",c.object)("fields",e.lJ4(72,fI))("label","item.page.referenced"),e.R7$(),e.Y8G("item",c.object)("variant","full"),e.R7$(2),e.Y8G("routerLink",e.eq3(73,mI,c.itemPageRoute+"/full")),e.R7$(2),e.SpI(" ",e.bMT(34,58,"item.page.link.full")," "))},dependencies:[f.bT,Yd.U,Wg,ql.V,od.T,il.Q,Oo.T,Qd,Kg,zg,Vg,Zl,Hg,z0,Jd.r,v.Wk,f.Jj,K.h,K.D9,m2],changeDetection:0})}};Xg=(0,Ue.Cg)([(0,Gn.VK)(nd.q,Vn.n.StandalonePage)],Xg);var XC=n(52749),Kf=n(78655),Jg=n(5845),JC=n(22924),QC=n(43796);function Qg(d,y){}let vI=(()=>{class d extends JC.e{constructor(){super(...arguments),this.processCompleted=new e.bkB,this.inputNames=["item","object","option","workflowitem"],this.outputNames=["processCompleted"]}getComponent(){return(0,QC.u3)(this.option)}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-claimed-task-actions-loader"]],inputs:{item:"item",object:"object",option:"option",workflowitem:"workflowitem"},outputs:{processCompleted:"processCompleted"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(c,O){1&c&&e.DNE(0,Qg,0,0,"ng-template",1,0,e.C5r)},dependencies:[Nd.z],encapsulation:2})}}return d})();const ZC=d=>[d];function qC(d,y){if(1&d){const o=e.RV6();e.j41(0,"ds-claimed-task-actions-loader",5),e.bIt("processCompleted",function(O){e.eBV(o);const W=e.XpG(2);return e.Njj(W.processCompleted.emit(O))}),e.k0s()}if(2&d){const o=y.$implicit,c=e.XpG(2);e.Y8G("item",c.item)("option",o)("object",c.object)("workflowitem",c.workflowitem)}}function eb(d,y){if(1&d&&(e.qex(0),e.j41(1,"div",1),e.DNE(2,qC,1,4,"ds-claimed-task-actions-loader",2),e.j41(3,"button",3),e.nI1(4,"translate"),e.nrm(5,"i",4),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.bVm()),2&d){const o=y.ngVar,c=e.XpG();e.R7$(2),e.Y8G("ngForOf",null==o?null:o.options),e.R7$(),e.FS9("ngbTooltip",e.bMT(4,4,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(8,ZC,c.getWorkflowItemViewRoute(c.workflowitem))),e.R7$(3),e.SpI(" ",e.bMT(7,6,"submission.workflow.generic.view")," ")}}let ny=(()=>{class d extends Jg.p{constructor(o,c,O,W,ue,Ie,rt){super(ng.T.type,o,c,O,W,ue,Ie),this.injector=o,this.router=c,this.notificationsService=O,this.translate=W,this.searchService=ue,this.requestService=Ie,this.workflowActionService=rt}ngOnInit(){this.initObjects(this.object),this.initAction(this.object)}initObjects(o){this.object=o}initAction(o){this.actionRD$=o.action}getWorkflowItemViewRoute(o){return(0,jd.XH)(o?.id)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(e.zZn),e.rXU(v.Ix),e.rXU(ys.I),e.rXU(K.c$),e.rXU(Kf.S),e.rXU(Cl.B),e.rXU(XC.WorkflowActionDataService))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-claimed-task-actions"]],inputs:{object:"object",item:"item",workflowitem:"workflowitem"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[1,"mt-1","mb-3","space-children-mr"],[3,"item","option","object","workflowitem","processCompleted",4,"ngFor","ngForOf"],[1,"btn","btn-primary","workflow-view",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],[3,"processCompleted","item","option","object","workflowitem"]],template:function(c,O){if(1&c&&(e.DNE(0,eb,8,10,"ng-container",0),e.nI1(1,"async")),2&c){let W;e.Y8G("ngVar",null==(W=e.bMT(1,1,O.actionRD$))?null:W.payload)}},dependencies:[Xl.r,f.pM,vI,q.n8,q.md,v.Wk,f.Jj,K.h,K.D9],styles:["ds-claimed-task-actions-loader[_ngcontent-%COMP%]:empty{margin:0!important}"]})}}return d})();const yI=d=>[d];let Zg=(()=>{class d extends Jg.p{constructor(o,c,O,W,ue,Ie){super(nd.q.type,o,c,O,W,ue,Ie),this.injector=o,this.router=c,this.notificationsService=O,this.translate=W,this.searchService=ue,this.requestService=Ie}ngOnInit(){this.initPageRoute()}initObjects(o){this.object=o,this.initPageRoute()}initPageRoute(){this.itemPageRoute=(0,gi._o)(this.object)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(e.zZn),e.rXU(v.Ix),e.rXU(ys.I),e.rXU(K.c$),e.rXU(Kf.S),e.rXU(Cl.B))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:9,consts:[[1,"btn","btn-primary","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"]],template:function(c,O){1&c&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nrm(2,"i",1),e.EFF(3),e.nI1(4,"translate"),e.k0s()),2&c&&(e.FS9("ngbTooltip",e.bMT(1,3,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(7,yI,O.itemPageRoute)),e.R7$(3),e.SpI(" ",e.bMT(4,5,"submission.workflow.generic.view"),"\n"))},dependencies:[q.n8,q.md,v.Wk,K.h,K.D9]})}}return d})();var EI=n(12532),qg=n(60456),CI=n(46369);const bI=d=>[d];function TI(d,y){1&d&&(e.j41(0,"span"),e.nrm(1,"i",4),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&d&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function DI(d,y){1&d&&(e.j41(0,"span"),e.nrm(1,"i",5),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&d&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.pool.claim"),""))}let Hf=(()=>{class d extends CI.i{constructor(o,c,O,W,ue,Ie,rt){super($E.k.type,o,c,O,ue,Ie,rt),this.injector=o,this.router=c,this.notificationsService=O,this.claimedTaskService=W,this.translate=ue,this.searchService=Ie,this.requestService=rt,this.subs=[]}claim(){this.subs.push(this.startActionExecution().pipe((0,T.s)(1)).subscribe())}initObjects(o){this.object=o}actionExecution(){return this.objectDataService.getPoolTaskEndpointById(this.object.id).pipe((0,ks.n)(o=>this.claimedTaskService.claimTask(this.object.id,o)))}reloadObjectExecution(){return this.claimedTaskService.findByItem(this.itemUuid).pipe((0,T.s)(1))}initReloadAnchor(){this.itemUuid=this.item.uuid}ngOnDestroy(){this.subs.forEach(o=>o.unsubscribe())}getWorkflowItemViewRoute(o){return(0,jd.XH)(o?.id)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(e.zZn),e.rXU(v.Ix),e.rXU(ys.I),e.rXU(EI.ClaimedTaskDataService),e.rXU(K.c$),e.rXU(Kf.S),e.rXU(Cl.B))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-pool-task-actions"]],inputs:{object:"object",item:"item",workflowitem:"workflowitem"},standalone:!0,features:[e.Vt3,e.aNF],decls:12,vars:21,consts:[["type","button",1,"btn","btn-info","mt-1","mb-3",3,"click","ngbTooltip","dsBtnDisabled"],[4,"ngIf"],["data-test","view-btn",1,"btn","btn-primary","workflow-view","ms-1","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-hand-paper"]],template:function(c,O){1&c&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nI1(2,"async"),e.bIt("click",function(){return O.claim()}),e.DNE(3,TI,4,3,"span",1),e.nI1(4,"async"),e.DNE(5,DI,4,3,"span",1),e.nI1(6,"async"),e.k0s(),e.j41(7,"button",2),e.nI1(8,"translate"),e.nrm(9,"i",3),e.EFF(10),e.nI1(11,"translate"),e.k0s()),2&c&&(e.FS9("ngbTooltip",e.bMT(1,7,"submission.workflow.tasks.pool.claim_help")),e.Y8G("dsBtnDisabled",e.bMT(2,9,O.processing$)),e.R7$(3),e.Y8G("ngIf",e.bMT(4,11,O.processing$)),e.R7$(2),e.Y8G("ngIf",!0!==e.bMT(6,13,O.processing$)),e.R7$(2),e.FS9("ngbTooltip",e.bMT(8,15,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(19,bI,O.getWorkflowItemViewRoute(O.workflowitem))),e.R7$(3),e.SpI(" ",e.bMT(11,17,"submission.workflow.generic.view"),"\n"))},dependencies:[q.n8,q.md,f.bT,v.Wk,f.Jj,K.h,K.D9,qg.A]})}}return d})();const OI=d=>[d];let zf=(()=>{class d extends Jg.p{constructor(o,c,O,W,ue,Ie){super(HO.t.type,o,c,O,W,ue,Ie),this.injector=o,this.router=c,this.notificationsService=O,this.translate=W,this.searchService=ue,this.requestService=Ie}getWorkflowItemViewRoute(o){return(0,jd.XH)(o?.id)}initObjects(o){this.object=o}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(e.zZn),e.rXU(v.Ix),e.rXU(ys.I),e.rXU(K.c$),e.rXU(Kf.S),e.rXU(Cl.B))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-workflowitem-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:9,consts:[["data-test","view-btn",1,"btn","btn-primary","workflow-view","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"]],template:function(c,O){1&c&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nrm(2,"i",1),e.EFF(3),e.nI1(4,"translate"),e.k0s()),2&c&&(e.FS9("ngbTooltip",e.bMT(1,3,"submission.workspace.generic.view-help")),e.Y8G("routerLink",e.eq3(7,OI,O.getWorkflowItemViewRoute(O.object))),e.R7$(3),e.SpI(" ",e.bMT(4,5,"submission.workspace.generic.view"),"\n"))},dependencies:[q.n8,q.md,v.Wk,K.h,K.D9]})}}return d})();const sy=d=>[d];function sb(d,y){if(1&d&&(e.j41(0,"a",6),e.nI1(1,"translate"),e.nI1(2,"translate"),e.nrm(3,"i",7),e.EFF(4),e.nI1(5,"translate"),e.k0s()),2&d){const o=e.XpG();e.FS9("id","edit_"+o.object.id),e.FS9("ngbTooltip",e.bMT(1,5,"submission.workflow.generic.edit-help")),e.Y8G("routerLink",e.eq3(11,sy,"/workspaceitems/"+o.object.id+"/edit")),e.BMQ("aria-label",e.bMT(2,7,"submission.workflow.generic.edit-help")),e.R7$(4),e.SpI(" ",e.bMT(5,9,"submission.workflow.generic.edit")," ")}}function MI(d,y){1&d&&(e.j41(0,"span"),e.nrm(1,"i",10),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&d&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function SI(d,y){1&d&&(e.j41(0,"span"),e.nrm(1,"i",11),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&d&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.generic.delete"),""))}function ib(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",8),e.nI1(1,"translate"),e.nI1(2,"translate"),e.bIt("click",function(O){e.eBV(o);const W=e.XpG(),ue=e.sdS(12);return O.preventDefault(),e.Njj(W.confirmDiscard(ue))}),e.DNE(3,MI,4,3,"span",9),e.nI1(4,"async"),e.DNE(5,SI,4,3,"span",9),e.nI1(6,"async"),e.k0s()}if(2&d){const o=e.XpG();e.FS9("id","delete_"+o.object.id),e.FS9("ngbTooltip",e.bMT(1,5,"submission.workflow.generic.delete-help")),e.BMQ("aria-label",e.bMT(2,7,"submission.workflow.generic.delete-help")),e.R7$(3),e.Y8G("ngIf",e.bMT(4,9,o.processingDelete$)),e.R7$(2),e.Y8G("ngIf",!0!==e.bMT(6,11,o.processingDelete$))}}function II(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",12)(1,"div",13),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",14),e.bIt("click",function(){const O=e.eBV(o).dismiss;return e.Njj(O("cancel"))}),e.k0s()(),e.j41(5,"div",15)(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div",16)(10,"button",17),e.bIt("click",function(){const O=e.eBV(o).close;return e.Njj(O("cancel"))}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"button",18),e.bIt("click",function(){const O=e.eBV(o).close;return e.Njj(O("ok"))}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()}2&d&&(e.R7$(2),e.JRh(e.bMT(3,4,"submission.general.discard.confirm.title")),e.R7$(5),e.JRh(e.bMT(8,6,"submission.general.discard.confirm.info")),e.R7$(4),e.JRh(e.bMT(12,8,"submission.general.discard.confirm.cancel")),e.R7$(3),e.JRh(e.bMT(15,10,"submission.general.discard.confirm.submit")))}let e_=(()=>{class d extends Jg.p{constructor(o,c,O,W,ue,Ie,rt,kt,Cn){super(zO.F.type,o,c,W,ue,Ie,rt),this.injector=o,this.router=c,this.modalService=O,this.notificationsService=W,this.translate=ue,this.searchService=Ie,this.requestService=rt,this.authService=kt,this.authorizationService=Cn,this.processingDelete$=new _.t(!1)}confirmDiscard(o){this.modalService.open(o).result.then(c=>{"ok"===c&&(this.processingDelete$.next(!0),this.objectDataService.delete(this.object.id).pipe((0,js.qD)()).subscribe(O=>{this.processingDelete$.next(!1),this.handleActionResponse(O.hasSucceeded)}))})}ngOnInit(){const o=this.authService.getAuthenticatedUserFromStore();this.canEditItem$=o.pipe((0,ks.n)(c=>this.object?.item.pipe((0,js.qD)(),(0,js.Bo)(),(0,ks.n)(O=>this.authorizationService.isAuthorized(Dr._.CanEditItem,O?._links?.self.href,c.uuid)))))}initObjects(o){this.object=o}getWorkspaceItemViewRoute(o){return function tb(d){return new Yl.t((0,ar.cp)(),d,"view").toString()}(o?.id)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(e.zZn),e.rXU(v.Ix),e.rXU(q.Bq),e.rXU(ys.I),e.rXU(K.c$),e.rXU(Kf.S),e.rXU(Cl.B),e.rXU(p.uR),e.rXU(lc.AuthorizationDataService))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-workspaceitem-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:13,vars:18,consts:[["content",""],[1,"space-children-mr"],["data-test","view-btn",1,"btn","btn-primary","workflow-view","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],["class","btn btn-primary mt-1 mb-3 edit-btn","role","button",3,"id","ngbTooltip","routerLink",4,"ngIf"],["type","button","class","btn btn-danger mt-1 mb-3",3,"id","ngbTooltip","click",4,"ngIf"],["role","button",1,"btn","btn-primary","mt-1","mb-3","edit-btn",3,"id","ngbTooltip","routerLink"],[1,"fa","fa-edit"],["type","button",1,"btn","btn-danger","mt-1","mb-3",3,"click","id","ngbTooltip"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title","text-danger","h4"],["type","button","id","delete_close","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","delete_cancel",1,"btn","btn-secondary",3,"click"],["type","button","id","delete_confirm",1,"btn","btn-danger",3,"click"]],template:function(c,O){1&c&&(e.j41(0,"div",1)(1,"button",2),e.nI1(2,"translate"),e.nI1(3,"translate"),e.nrm(4,"i",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,sb,6,13,"a",4),e.nI1(8,"async"),e.DNE(9,ib,7,13,"button",5),e.nI1(10,"async"),e.k0s(),e.DNE(11,II,16,12,"ng-template",null,0,e.C5r)),2&c&&(e.R7$(),e.FS9("ngbTooltip",e.bMT(2,6,"submission.workspace.generic.view-help")),e.Y8G("routerLink",e.eq3(16,sy,O.getWorkspaceItemViewRoute(O.object))),e.BMQ("aria-label",e.bMT(3,8,"submission.workspace.generic.view-help")),e.R7$(4),e.SpI(" ",e.bMT(6,10,"submission.workspace.generic.view")," "),e.R7$(2),e.Y8G("ngIf",e.bMT(8,12,O.canEditItem$)),e.R7$(2),e.Y8G("ngIf",e.bMT(10,14,O.canEditItem$)))},dependencies:[q.n8,q.md,v.Wk,f.bT,f.Jj,K.h,K.D9]})}}return d})();var PI=n(22285),iy=n(34532),oy=n(89269),t_=n(4910),RI=n(50332),ry=n(21546),n_=(n(78541),n(43525));n(3736);const ly=["*"];function ob(d,y){}let AI=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item","object","label","metadata","placeholder","separator"]}getComponentName(){return"ItemDetailPreviewFieldComponent"}importThemedComponent(o){return n(4026)(`./${o}/app/shared/object-detail/my-dspace-result-detail-element/item-detail-preview/item-detail-preview-field/item-detail-preview-field.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,3736))}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-detail-preview-field"]],inputs:{item:"item",object:"object",label:"label",metadata:"metadata",placeholder:"placeholder",separator:"separator"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:ly,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,O){1&c&&(e.NAR(),e.DNE(0,ob,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();const wI=["*"],xI=()=>["dc.contributor","dc.creator","dc.contributor.*"];function s_(d,y){if(1&d&&e.nrm(0,"span",18),2&d){const o=e.XpG(6);e.FS9("innerHTML",o.separator,e.npT)}}function i_(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",16),e.bIt("click",function(){const O=e.eBV(o).$implicit,W=e.XpG(5);return e.Njj(W.downloadBitstreamFile(null==O?null:O.uuid))}),e.j41(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"dsFileSize"),e.k0s(),e.DNE(6,s_,1,1,"span",17),e.k0s()}if(2&d){const o=y.$implicit,c=y.last,O=e.XpG(5);e.R7$(2),e.JRh(O.dsoNameService.getName(o)),e.R7$(2),e.SpI("(",e.bMT(5,3,null==o?null:o.sizeBytes),")"),e.R7$(2),e.Y8G("ngIf",!c)}}function cy(d,y){if(1&d&&(e.j41(0,"div",14),e.DNE(1,i_,7,5,"button",15),e.k0s()),2&d){const o=e.XpG().ngIf;e.R7$(),e.Y8G("ngForOf",o)}}function rb(d,y){1&d&&(e.qex(0),e.j41(1,"span",19),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.bVm()),2&d&&(e.R7$(2),e.JRh(e.bMT(3,1,"mydspace.results.no-files")))}function LI(d,y){if(1&d&&(e.qex(0),e.j41(1,"ds-metadata-field-wrapper",12),e.nI1(2,"translate"),e.DNE(3,cy,2,1,"div",13)(4,rb,4,3,"ng-container",4),e.k0s(),e.bVm()),2&d){const o=y.ngIf;e.R7$(),e.Y8G("label",e.bMT(2,3,"item.page.files")),e.R7$(2),e.Y8G("ngIf",(null==o?null:o.length)>0),e.R7$(),e.Y8G("ngIf",0===(null==o?null:o.length))}}function NI(d,y){if(1&d&&(e.j41(0,"div"),e.nrm(1,"ds-item-page-title-field",5),e.j41(2,"div",6)(3,"div",7)(4,"ds-metadata-field-wrapper",8),e.nrm(5,"ds-thumbnail",9),e.nI1(6,"async"),e.k0s(),e.DNE(7,LI,5,5,"ng-container",4),e.nI1(8,"async"),e.nrm(9,"ds-item-detail-preview-field",10),e.nI1(10,"translate"),e.nI1(11,"translate"),e.nrm(12,"ds-item-detail-preview-field",10),e.nI1(13,"translate"),e.nI1(14,"translate"),e.k0s(),e.j41(15,"div",11),e.nrm(16,"ds-item-detail-preview-field",10),e.nI1(17,"translate"),e.nI1(18,"translate"),e.nrm(19,"ds-item-detail-preview-field",10),e.nI1(20,"translate"),e.nI1(21,"translate"),e.j41(22,"div"),e.SdG(23),e.k0s()()()()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("item",o.item),e.R7$(3),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(6,28,null==o.item?null:o.item.thumbnail)),e.R7$(2),e.Y8G("ngIf",e.bMT(8,30,o.bitstreams$)),e.R7$(2),e.Y8G("item",o.item)("object",o.object)("label",e.bMT(10,32,"item.page.date"))("metadata","dc.date.issued")("separator",o.separator)("placeholder",e.bMT(11,34,"mydspace.results.no-date")),e.R7$(3),e.Y8G("item",o.item)("object",o.object)("label",e.bMT(13,36,"item.page.author"))("metadata",e.lJ4(48,xI))("separator",o.separator)("placeholder",e.bMT(14,38,"mydspace.results.no-authors")),e.R7$(4),e.Y8G("item",o.item)("object",o.object)("label",e.bMT(17,40,"item.page.abstract"))("metadata","dc.description.abstract")("separator",o.separator)("placeholder",e.bMT(18,42,"mydspace.results.no-abstract")),e.R7$(3),e.Y8G("item",o.item)("object",o.object)("label",e.bMT(20,44,"item.page.uri"))("metadata","dc.identifier.uri")("separator",o.separator)("placeholder",e.bMT(21,46,"mydspace.results.no-uri"))}}function ab(d,y){if(1&d&&(e.j41(0,"div",2),e.nrm(1,"ds-badges",3),e.DNE(2,NI,24,49,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("@fadeInOut",void 0),e.R7$(),e.Y8G("object",o.item)("context",o.badgeContext),e.R7$(),e.Y8G("ngIf",o.item)}}function dy(d,y){if(1&d&&e.nrm(0,"ds-item-submitter",20),2&d){const o=e.XpG();e.Y8G("object",o.object.indexableObject)}}let Yu=(()=>{class d{constructor(o,c,O,W){this.fileService=o,this.halService=c,this.bitstreamDataService=O,this.dsoNameService=W,this.showSubmitter=!1,this.separator=", "}ngOnChanges(o){(0,G.a4)(o.item)&&(this.bitstreams$=this.getFiles())}downloadBitstreamFile(o){this.halService.getEndpoint("bitstreams").pipe((0,bp.$)()).subscribe(c=>{this.fileService.retrieveFileDownloadLink(`${c}/${o}/content`)})}getFiles(){return this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{elementsPerPage:Number.MAX_SAFE_INTEGER}).pipe((0,js.Ar)())}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(oy.E),e.rXU(t_.Y),e.rXU(wr.BitstreamDataService),e.rXU(Fs.f))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-detail-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter"},standalone:!0,features:[e.OA$,e.aNF],ngContentSelectors:wI,decls:2,vars:2,consts:[["class","item-page",4,"ngIf"],[3,"object",4,"ngIf"],[1,"item-page"],[3,"object","context"],[4,"ngIf"],[3,"item"],[1,"row","mb-1"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","object","label","metadata","separator","placeholder"],[1,"col-xs-12","col-md-6"],[3,"label"],["class","file-section",4,"ngIf"],[1,"file-section"],["class","btn btn-link",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-link",3,"click"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"text-muted"],[3,"object"]],template:function(c,O){1&c&&(e.NAR(),e.DNE(0,ab,3,4,"div",0)(1,dy,1,1,"ds-item-submitter",1)),2&c&&(e.Y8G("ngIf",O.item),e.R7$(),e.Y8G("ngIf",O.showSubmitter))},dependencies:[f.bT,Ho.F,ql.V,il.Q,Oo.T,f.pM,AI,ry.s,f.Jj,n_.s,K.h,K.D9],data:{animation:[RI.Ws]}})}}return d})(),sc=(()=>{class d extends zo.C{ngOnInit(){(0,G.a4)(this.object)&&(this.dso=this.object.indexableObject)}allMetadataValues(o){return Vh.O.allValues([this.object.hitHighlights,this.dso.metadata],o)}firstMetadataValue(o){return Vh.O.firstValue([this.object.hitHighlights,this.dso.metadata],o)}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:0,vars:0,template:function(c,O){},encapsulation:2})}}return d})();function FI(d,y){if(1&d){const o=e.RV6();e.qex(0),e.nrm(1,"ds-item-detail-preview",1),e.j41(2,"ds-claimed-task-actions",2),e.bIt("processCompleted",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.reloadedObject.emit(O.reloadedObject))}),e.k0s(),e.bVm()}if(2&d){const o=e.XpG();e.R7$(),e.Y8G("item",null==o.item$?null:o.item$.value)("object",o.object)("showSubmitter",o.showSubmitter)("badgeContext",o.badgeContext),e.R7$(),e.Y8G("item",o.item$.value)("object",o.dso)("workflowitem",o.workflowitem$.value)}}let o_=class rA extends sc{constructor(y,o,c){super(y),this.dsoNameService=y,this.linkService=o,this.objectCache=c,this.item$=new _.t(null),this.showSubmitter=!0,this.badgeContext=Ps.o.MyDSpaceValidation,this.workflowitem$=new _.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ws.s)("workflowitem",{},(0,Ws.s)("item",{},(0,Ws.s)("bundles")),(0,Ws.s)("submitter")),(0,Ws.s)("action")),this.dso.workflowitem.pipe((0,js.qD)(),(0,Qn.Z)(y=>y.hasSucceeded?(this.workflowitem$.next(y.payload),y.payload.item.pipe((0,js.qD)())):Br.w),(0,mi.M)(y=>{(0,G.hj)(y)&&y.hasSucceeded&&this.item$.next(y.payload)})).subscribe()}ngOnDestroy(){(0,G.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(o){return new(o||rA)(e.rXU(Fs.f),e.rXU(Ii._),e.rXU(jl.$))}}static{this.\u0275cmp=e.VBU({type:rA,selectors:[["ds-claimed-task-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext"],[3,"processCompleted","item","object","workflowitem"]],template:function(o,c){1&o&&(e.DNE(0,FI,3,7,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&o&&e.Y8G("ngIf",e.bMT(1,1,c.workflowitem$)&&e.bMT(2,3,c.item$))},dependencies:[f.bT,Yu,ny,f.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};o_=(0,Ue.Cg)([(0,Gn.VK)(iy.y,Vn.n.DetailedListElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ii._,jl.$])],o_);let ad=class pO extends sc{constructor(){super(...arguments),this.badgeContext=Ps.o.MyDSpaceArchived}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(pO)))(c||pO)}})()}static{this.\u0275cmp=e.VBU({type:pO,selectors:[["ds-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(o,c){1&o&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-item-actions",1),2&o&&(e.Y8G("item",c.dso)("object",c.object)("badgeContext",c.badgeContext),e.R7$(),e.Y8G("object",c.dso))},dependencies:[Yu,Zg],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};ad=(0,Ue.Cg)([(0,Gn.VK)(Ys.H,Vn.n.DetailedListElement,Ps.o.Workspace),(0,Gn.VK)(Ys.H,Vn.n.DetailedListElement,Ps.o.Workflow)],ad);var BI=n(24205);function uy(d,y){if(1&d){const o=e.RV6();e.qex(0),e.nrm(1,"ds-item-detail-preview",1),e.j41(2,"ds-pool-task-actions",2),e.bIt("processCompleted",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.reloadedObject.emit(O.reloadedObject))}),e.k0s(),e.bVm()}if(2&d){const o=e.XpG();e.R7$(),e.Y8G("item",null==o.item$?null:o.item$.value)("object",o.object)("showSubmitter",o.showSubmitter)("badgeContext",o.badgeContext),e.R7$(),e.Y8G("item",o.item$.value)("object",o.dso)("workflowitem",o.workflowitem$.value)}}let hy=class aA extends sc{constructor(y,o,c){super(y),this.dsoNameService=y,this.linkService=o,this.objectCache=c,this.item$=new _.t(null),this.showSubmitter=!0,this.badgeContext=Ps.o.MyDSpaceWaitingController,this.workflowitem$=new _.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ws.s)("workflowitem",{},(0,Ws.s)("item",{},(0,Ws.s)("bundles")),(0,Ws.s)("submitter")),(0,Ws.s)("action")),this.dso.workflowitem.pipe((0,js.qD)(),(0,Qn.Z)(y=>y.hasSucceeded?(this.workflowitem$.next(y.payload),y.payload.item.pipe((0,js.qD)())):Br.w),(0,mi.M)(y=>{(0,G.hj)(y)&&y.hasSucceeded&&this.item$.next(y.payload)})).subscribe()}ngOnDestroy(){(0,G.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(o){return new(o||aA)(e.rXU(Fs.f),e.rXU(Ii._),e.rXU(jl.$))}}static{this.\u0275cmp=e.VBU({type:aA,selectors:[["ds-pool-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext"],[3,"processCompleted","item","object","workflowitem"]],template:function(o,c){1&o&&(e.DNE(0,uy,3,7,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&o&&e.Y8G("ngIf",e.bMT(1,1,c.workflowitem$)&&e.bMT(2,3,c.item$))},dependencies:[f.bT,Yu,Hf,f.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};hy=(0,Ue.Cg)([(0,Gn.VK)(BI.d,Vn.n.DetailedListElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ii._,jl.$])],hy);let Yf=class lA extends sc{constructor(y,o){super(y),this.dsoNameService=y,this.linkService=o,this.badgeContext=Ps.o.MyDSpaceWorkflow}ngOnInit(){super.ngOnInit(),this.linkService.resolveLink(this.dso,(0,Ws.s)("item")),this.initItem(this.dso.item)}initItem(y){y.pipe((0,$r.I)(o=>o.hasSucceeded&&(0,G.EA)(o.payload))).subscribe(o=>{this.item=o.payload})}static{this.\u0275fac=function(o){return new(o||lA)(e.rXU(Fs.f),e.rXU(Ii._))}}static{this.\u0275cmp=e.VBU({type:lA,selectors:[["ds-workflow-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(o,c){1&o&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-workflowitem-actions",1),2&o&&(e.Y8G("item",c.item)("object",c.object)("badgeContext",c.badgeContext),e.R7$(),e.Y8G("object",c.dso))},dependencies:[Yu,zf],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Yf=(0,Ue.Cg)([(0,Gn.VK)(Ud.q,Vn.n.DetailedListElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ii._])],Yf);let Xf=class cA extends sc{constructor(y,o){super(y),this.dsoNameService=y,this.linkService=o,this.badgeContext=Ps.o.MyDSpaceWorkspace}ngOnInit(){super.ngOnInit(),this.linkService.resolveLink(this.dso,(0,Ws.s)("item")),this.initItem(this.dso.item)}initItem(y){y.pipe((0,$r.I)(o=>o.hasSucceeded&&(0,G.EA)(o.payload))).subscribe(o=>{this.item=o.payload})}static{this.\u0275fac=function(o){return new(o||cA)(e.rXU(Fs.f),e.rXU(Ii._))}}static{this.\u0275cmp=e.VBU({type:cA,selectors:[["ds-workspace-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(o,c){1&o&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-workspaceitem-actions",1),2&o&&(e.Y8G("item",c.item)("object",c.object)("badgeContext",c.badgeContext),e.R7$(),e.Y8G("object",c.dso))},dependencies:[Yu,e_],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Xf=(0,Ue.Cg)([(0,Gn.VK)(pg.I,Vn.n.DetailedListElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ii._])],Xf);const jI=d=>["/collections/",d];function dp(d,y){if(1&d&&(e.j41(0,"a",7),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",8),e.nI1(3,"async"),e.k0s()),2&d){let o;const c=e.XpG();e.Y8G("target",c.linkType===c.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,jI,c.object.id)),e.BMQ("rel",c.linkType===c.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(o=e.bMT(3,8,c.object.logo))?null:o.payload)("limitWidth",!1)}}function UI(d,y){if(1&d&&(e.j41(0,"span",9),e.nrm(1,"ds-thumbnail",8),e.nI1(2,"async"),e.k0s()),2&d){let o;const c=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(o=e.bMT(2,2,c.object.logo))?null:o.payload)("limitWidth",!1)}}function kI(d,y){if(1&d&&(e.j41(0,"p",10),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(o.object.shortDescription)}}function VI(d,y){if(1&d&&(e.j41(0,"div",11)(1,"a",12),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,jI,o.object.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let ld=class dA extends zo.C{constructor(y,o){super(y),this.dsoNameService=y,this.linkService=o}set object(y){this._object=y,(0,G.a4)(this._object)&&(0,G.Tn)(this._object.logo)&&this.linkService.resolveLink(this._object,(0,Ws.s)("logo"))}get object(){return this._object}static{this.\u0275fac=function(o){return new(o||dA)(e.rXU(Fs.f),e.rXU(Ii._))}}static{this.\u0275cmp=e.VBU({type:dA,selectors:[["ds-collection-grid-element"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:5,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,dp,4,12,"a",1)(2,UI,3,4,"span",2),e.j41(3,"div",3)(4,"h4",4),e.EFF(5),e.k0s(),e.DNE(6,kI,2,1,"p",5)(7,VI,4,8,"div",6),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(3),e.JRh(c.dsoNameService.getName(c.object)),e.R7$(),e.Y8G("ngIf",c.object.shortDescription),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[f.bT,v.Wk,Oo.T,f.Jj,K.h,K.D9]})}};ld=(0,Ue.Cg)([(0,Gn.VK)(_h.p,Vn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ii._])],ld);const lb=d=>["/communities/",d];function r_(d,y){if(1&d&&(e.j41(0,"a",7),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",8),e.nI1(3,"async"),e.k0s()),2&d){let o;const c=e.XpG();e.Y8G("target",c.linkType===c.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,lb,c.object.id)),e.BMQ("rel",c.linkType===c.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(o=e.bMT(3,8,c.object.logo))?null:o.payload)("limitWidth",!1)}}function a_(d,y){if(1&d&&(e.j41(0,"span",9),e.nrm(1,"ds-thumbnail",8),e.nI1(2,"async"),e.k0s()),2&d){let o;const c=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(o=e.bMT(2,2,c.object.logo))?null:o.payload)("limitWidth",!1)}}function Wa(d,y){if(1&d&&(e.j41(0,"p",10),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(o.object.shortDescription)}}function cb(d,y){if(1&d&&(e.j41(0,"div",11)(1,"a",12),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,lb,o.object.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Jf=class uA extends zo.C{constructor(y,o){super(y),this.dsoNameService=y,this.linkService=o}set object(y){this._object=y,(0,G.a4)(this._object)&&(0,G.Tn)(this._object.logo)&&this.linkService.resolveLink(this._object,(0,Ws.s)("logo"))}get object(){return this._object}static{this.\u0275fac=function(o){return new(o||uA)(e.rXU(Fs.f),e.rXU(Ii._))}}static{this.\u0275cmp=e.VBU({type:uA,selectors:[["ds-community-grid-element"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:5,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,r_,4,12,"a",1)(2,a_,3,4,"span",2),e.j41(3,"div",3)(4,"h4",4),e.EFF(5),e.k0s(),e.DNE(6,Wa,2,1,"p",5)(7,cb,4,8,"div",6),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(3),e.JRh(c.dsoNameService.getName(c.object)),e.R7$(),e.Y8G("ngIf",c.object.shortDescription),e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None))},dependencies:[f.bT,v.Wk,Oo.T,f.Jj,K.h,K.D9]})}};Jf=(0,Ue.Cg)([(0,Gn.VK)(Ed.E,Vn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,Ii._])],Jf);const db=["*","*"],ub=()=>({}),hb=(d,y)=>({indexableObject:d,hitHighlights:y});let Qf=class fO extends zo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(fO)))(c||fO)}})()}static{this.\u0275cmp=e.VBU({type:fO,selectors:[["ds-item-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:db,decls:3,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,c){1&o&&(e.NAR(db),e.j41(0,"ds-item-search-result-grid-element",0),e.SdG(1),e.SdG(2,1),e.k0s()),2&o&&e.Y8G("showLabel",c.showLabel)("object",e.l_i(4,hb,c.object,e.lJ4(3,ub)))("linkType",c.linkType)},dependencies:[Jl],data:{animation:[kd]}})}};Qf=(0,Ue.Cg)([(0,Gn.VK)("Publication",Vn.n.GridElement),(0,Gn.VK)(nd.q,Vn.n.GridElement)],Qf);let l_=class mO extends zo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(mO)))(c||mO)}})()}static{this.\u0275cmp=e.VBU({type:mO,selectors:[["ds-bitstream-list-item"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:1,template:function(o,c){1&o&&e.EFF(0),2&o&&e.SpI(" ",c.object.name," ")}})}};l_=(0,Ue.Cg)([(0,Gn.VK)(NE._,Vn.n.ListElement,Ps.o.Bitstream)],l_);var pb=n(49010),fb=n(22978);const GI=()=>[];function Zf(d,y){if(1&d&&(e.j41(0,"a",5),e.nI1(1,"async"),e.EFF(2),e.k0s()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.lJ4(8,GI))("queryParams",e.bMT(1,6,o.queryParams$))("queryParamsHandling","merge"),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(2),e.SpI(" ",o.object.value," ")}}function $I(d,y){if(1&d&&(e.j41(0,"span",6),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.SpI(" ",o.object.value," ")}}let py=class hA extends zo.C{constructor(y,o,c){super(y),this.dsoNameService=y,this.paginationService=o,this.routeService=c}ngOnInit(){this.queryParams$=this.getQueryParams()}getQueryParams(){const y=this.paginationService.getPageParam(pb.v0);return this.routeService.getQueryParameterValue(y).pipe((0,xt.T)(o=>({value:this.object.value,authority:this.object.authority?this.object.authority:void 0,startsWith:void 0,[y]:null,[pb.v0+".return"]:o})))}static{this.\u0275fac=function(o){return new(o||hA)(e.rXU(Fs.f),e.rXU(fb.m),e.rXU(Bu.v$))}}static{this.\u0275cmp=e.VBU({type:hA,selectors:[["ds-browse-entry-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:3,consts:[[1,"d-flex","flex-row"],["class","lead",3,"target","routerLink","queryParams","queryParamsHandling",4,"ngIf"],["class","lead",4,"ngIf"],[1,"pe-2"],[1,"badge","rounded-pill","bg-secondary","align-self-center","ps-2","pe-2"],[1,"lead",3,"target","routerLink","queryParams","queryParamsHandling"],[1,"lead"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,Zf,3,9,"a",1)(2,$I,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.j41(5,"span",4),e.EFF(6),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(4),e.JRh(c.object.count))},dependencies:[f.bT,v.Wk,f.Jj]})}};py=(0,Ue.Cg)([(0,Gn.VK)(Ra,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Fs.f,fb.m,Bu.v$])],py);let fy=class gO extends zo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(gO)))(c||gO)}})()}static{this.\u0275cmp=e.VBU({type:gO,selectors:[["ds-bundle-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:1,template:function(o,c){1&o&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&o&&(e.R7$(),e.JRh(c.dsoNameService.getName(c.object)))},encapsulation:2})}};fy=(0,Ue.Cg)([(0,Gn.VK)(BE.N,Vn.n.ListElement)],fy);const c_=d=>[d];function mb(d,y){if(1&d&&(e.j41(0,"a",6),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,c_,"/collections/"+o.object.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.SpI(" ",o.dsoNameService.getName(o.object)," ")}}function gb(d,y){if(1&d&&(e.j41(0,"span",7),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.SpI(" ",o.dsoNameService.getName(o.object)," ")}}function _b(d,y){if(1&d&&(e.j41(0,"span",8),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(o.object.archivedItemsCount)}}function WI(d,y){if(1&d&&(e.j41(0,"div",9),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.SpI(" ",o.object.shortDescription,"\n")}}let Xu=class _O extends zo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(_O)))(c||_O)}})()}static{this.\u0275cmp=e.VBU({type:_O,selectors:[["ds-collection-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex","flex-row"],["class","lead",3,"target","routerLink",4,"ngIf"],["class","lead",4,"ngIf"],[1,"pe-2"],["class","badge rounded-pill bg-secondary align-self-center archived-items-lead ps-2 pe-2",4,"ngIf"],["class","text-muted abstract-text",4,"ngIf"],[1,"lead",3,"target","routerLink"],[1,"lead"],[1,"badge","rounded-pill","bg-secondary","align-self-center","archived-items-lead","ps-2","pe-2"],[1,"text-muted","abstract-text"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,mb,2,6,"a",1)(2,gb,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.DNE(5,_b,2,1,"span",4),e.k0s(),e.DNE(6,WI,2,1,"div",5)),2&o&&(e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(3),e.Y8G("ngIf",c.object.archivedItemsCount>=0),e.R7$(),e.Y8G("ngIf",c.object.shortDescription))},dependencies:[f.bT,v.Wk]})}};Xu=(0,Ue.Cg)([(0,Gn.VK)(_h.p,Vn.n.ListElement)],Xu);const qf=d=>[d];function KI(d,y){if(1&d&&(e.j41(0,"a",6),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,qf,"/communities/"+o.object.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.SpI(" ",o.dsoNameService.getName(o.object)," ")}}function HI(d,y){if(1&d&&(e.j41(0,"span",7),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.SpI(" ",o.dsoNameService.getName(o.object)," ")}}function vb(d,y){if(1&d&&(e.j41(0,"span",8),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(o.object.archivedItemsCount)}}function em(d,y){if(1&d&&(e.j41(0,"div",9),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.SpI(" ",o.object.shortDescription,"\n")}}let my=class pA extends zo.C{constructor(y){super(y),this.dsoNameService=y}static{this.\u0275fac=function(o){return new(o||pA)(e.rXU(Fs.f))}}static{this.\u0275cmp=e.VBU({type:pA,selectors:[["ds-community-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex","flex-row"],["class","lead",3,"target","routerLink",4,"ngIf"],["class","lead",4,"ngIf"],[1,"pe-2"],["class","badge rounded-pill bg-secondary align-self-center archived-items-lead ps-2 pe-2",4,"ngIf"],["class","text-muted abstract-text",4,"ngIf"],[1,"lead",3,"target","routerLink"],[1,"lead"],[1,"badge","rounded-pill","bg-secondary","align-self-center","archived-items-lead","ps-2","pe-2"],[1,"text-muted","abstract-text"]],template:function(o,c){1&o&&(e.j41(0,"div",0),e.DNE(1,KI,2,6,"a",1)(2,HI,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.DNE(5,vb,2,1,"span",4),e.k0s(),e.DNE(6,em,2,1,"div",5)),2&o&&(e.R7$(),e.Y8G("ngIf",c.linkType!==c.linkTypes.None),e.R7$(),e.Y8G("ngIf",c.linkType===c.linkTypes.None),e.R7$(3),e.Y8G("ngIf",c.object.archivedItemsCount>=0),e.R7$(),e.Y8G("ngIf",c.object.shortDescription))},dependencies:[f.bT,v.Wk]})}};my=(0,Ue.Cg)([(0,Gn.VK)(Ed.E,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Fs.f])],my);let gy=class vO extends zo.C{ngOnChanges(){(0,G.a4)(this.object)&&(this.itemSearchResult=Object.assign(new Ys.H,{indexableObject:this.object}))}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(vO)))(c||vO)}})()}static{this.\u0275cmp=e.VBU({type:vO,selectors:[["ds-item-list-element"]],standalone:!0,features:[e.Vt3,e.OA$,e.aNF],decls:1,vars:3,consts:[[3,"object","viewMode","linkType"]],template:function(o,c){1&o&&e.nrm(0,"ds-listable-object-component-loader",0),2&o&&e.Y8G("object",c.itemSearchResult)("viewMode",c.viewMode)("linkType",c.linkType)},dependencies:[Au.v]})}};gy=(0,Ue.Cg)([(0,Gn.VK)("Publication",Vn.n.ListElement),(0,Gn.VK)(nd.q,Vn.n.ListElement)],gy);var zI=n(51805),yb=n(83851);let tm=class yO extends zo.C{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(yO)))(c||yO)}})()}static{this.\u0275cmp=e.VBU({type:yO,selectors:[["ds-listable-notification-object"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:6,template:function(o,c){1&o&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.ZvI("alert d-block ",null==c.object?null:c.object.notificationType," m-0"),e.R7$(),e.JRh(e.bMT(2,4,null==c.object?null:c.object.message)))},dependencies:[K.h,K.D9]})}};tm=(0,Ue.Cg)([(0,Gn.VK)(zI.t,Vn.n.ListElement),(0,Gn.VK)(yb.t.value,Vn.n.ListElement)],tm);var Eb=n(48622);n(56577);const Cb=["*"];function YI(d,y){}let Ju=(()=>{class d extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item","object","badgeContext","showSubmitter","workflowItem"]}getComponentName(){return"ItemListPreviewComponent"}importThemedComponent(o){return n(71931)(`./${o}/app/shared/object-list/my-dspace-result-list-element/item-list-preview/item-list-preview.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,56577))}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-item-list-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter",workflowItem:"workflowItem"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Cb,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(c,O){1&c&&(e.NAR(),e.DNE(0,YI,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return d})();function v2(d,y){if(1&d&&(e.nrm(0,"ds-item-list-preview",4),e.nI1(1,"async")),2&d){let o;const c=e.XpG().ngVar,O=e.XpG();e.Y8G("item",null==(o=e.bMT(1,4,null==c?null:c.item))?null:o.payload)("object",O.object)("badgeContext",O.badgeContext)("showSubmitter",O.showSubmitter)}}function y2(d,y){if(1&d&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,v2,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&d){const o=y.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-approved-search-result-list-element.title")),e.R7$(2),e.Y8G("ngIf",o)}}let _y=class fA extends Hr.P{constructor(y,o,c,O){super(o,c,O),this.linkService=y,this.truncatableService=o,this.dsoNameService=c,this.appConfig=O,this.showSubmitter=!0,this.badgeContext=Ps.o.MyDSpaceApproved}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ws.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,Ws.s)("item"),(0,Ws.s)("submitter")),(0,Ws.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(o){return new(o||fA)(e.rXU(Ii._),e.rXU(Pi.F),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:fA,selectors:[["ds-claimed-approved-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-success","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(o,c){if(1&o&&(e.DNE(0,y2,6,4,"ng-container",0),e.nI1(1,"async")),2&o){let O;e.Y8G("ngVar",null==(O=e.bMT(1,1,c.workflowitemRD$))?null:O.payload)}},dependencies:[f.bT,Ju,f.Jj,K.h,K.D9,Xl.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};_y=(0,Ue.Cg)([(0,Gn.VK)(Eb.t,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Ii._,Pi.F,Fs.f,Object])],_y);var E2=n(83233);function bb(d,y){if(1&d&&(e.nrm(0,"ds-item-list-preview",4),e.nI1(1,"async")),2&d){let o;const c=e.XpG().ngVar,O=e.XpG();e.Y8G("item",null==(o=e.bMT(1,4,null==c?null:c.item))?null:o.payload)("object",O.object)("badgeContext",O.badgeContext)("showSubmitter",O.showSubmitter)}}function d_(d,y){if(1&d&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,bb,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&d){const o=y.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-declined-search-result-list-element.title")),e.R7$(2),e.Y8G("ngIf",o)}}let u_=class mA extends Hr.P{constructor(y,o,c,O){super(o,c,O),this.linkService=y,this.truncatableService=o,this.dsoNameService=c,this.appConfig=O,this.showSubmitter=!0,this.badgeContext=Ps.o.MyDSpaceDeclined}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ws.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,Ws.s)("item"),(0,Ws.s)("submitter")),(0,Ws.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(o){return new(o||mA)(e.rXU(Ii._),e.rXU(Pi.F),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:mA,selectors:[["ds-claimed-declined-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-secondary","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(o,c){if(1&o&&(e.DNE(0,d_,6,4,"ng-container",0),e.nI1(1,"async")),2&o){let O;e.Y8G("ngVar",null==(O=e.bMT(1,1,c.workflowitemRD$))?null:O.payload)}},dependencies:[f.bT,Ju,f.Jj,K.h,K.D9,Xl.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};u_=(0,Ue.Cg)([(0,Gn.VK)(E2.q,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Ii._,Pi.F,Fs.f,Object])],u_);var XI=n(66211);function Tb(d,y){if(1&d&&(e.nrm(0,"ds-item-list-preview",4),e.nI1(1,"async")),2&d){let o;const c=e.XpG().ngVar,O=e.XpG();e.Y8G("item",null==(o=e.bMT(1,4,null==c?null:c.item))?null:o.payload)("object",O.object)("badgeContext",O.badgeContext)("showSubmitter",O.showSubmitter)}}function nm(d,y){if(1&d&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,Tb,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&d){const o=y.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-declined-task-search-result-list-element.title")),e.R7$(2),e.Y8G("ngIf",o)}}let h_=class gA extends Hr.P{constructor(y,o,c,O){super(o,c,O),this.linkService=y,this.truncatableService=o,this.dsoNameService=c,this.appConfig=O,this.showSubmitter=!0,this.badgeContext=Ps.o.MyDSpaceDeclined}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ws.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,Ws.s)("item"),(0,Ws.s)("submitter")),(0,Ws.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(o){return new(o||gA)(e.rXU(Ii._),e.rXU(Pi.F),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:gA,selectors:[["ds-claimed-declined-task-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-warning","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(o,c){if(1&o&&(e.DNE(0,nm,6,4,"ng-container",0),e.nI1(1,"async")),2&o){let O;e.Y8G("ngVar",null==(O=e.bMT(1,1,c.workflowitemRD$))?null:O.payload)}},dependencies:[f.bT,Ju,f.Jj,K.h,K.D9,Xl.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};h_=(0,Ue.Cg)([(0,Gn.VK)(XI.H,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Ii._,Pi.F,Fs.f,Object])],h_);var p_=n(69723);function JI(d,y){if(1&d&&(e.j41(0,"div",4),e.nrm(1,"div",4),e.j41(2,"div",4)(3,"div",7),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&d){const o=e.XpG().ngVar;e.Y8G("ngClass","row"),e.R7$(),e.Y8G("ngClass","col-2"),e.R7$(),e.Y8G("ngClass","col-10"),e.R7$(2),e.Lme(" ",o," ",e.bMT(5,5,"submission.workflow.tasks.duplicates")," ")}}function QI(d,y){if(1&d&&(e.qex(0),e.DNE(1,JI,6,7,"div",6),e.bVm()),2&d){const o=y.ngVar;e.R7$(),e.Y8G("ngIf",o>0)}}function C2(d,y){if(1&d){const o=e.RV6();e.qex(0),e.nrm(1,"ds-item-list-preview",1),e.DNE(2,QI,2,1,"ng-container",2),e.nI1(3,"async"),e.j41(4,"div",3)(5,"div",4)(6,"ds-claimed-task-actions",5),e.bIt("processCompleted",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.reloadedObject.emit(O.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&d){let o;const c=e.XpG();e.R7$(),e.Y8G("item",c.item$.value)("object",c.object)("showSubmitter",c.showSubmitter)("badgeContext",c.badgeContext)("workflowItem",c.workflowitem$.value),e.R7$(),e.Y8G("ngVar",null==(o=e.bMT(3,10,c.duplicates$))?null:o.length),e.R7$(3),e.Y8G("ngClass",c.showThumbnails?"offset-3 offset-md-2 col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("item",c.item$.value)("object",c.dso)("workflowitem",c.workflowitem$.value)}}let f_=class _A extends Hr.P{constructor(y,o,c,O,W,ue,Ie){super(o,c,Ie),this.linkService=y,this.truncatableService=o,this.dsoNameService=c,this.objectCache=O,this.configService=W,this.duplicateDataService=ue,this.appConfig=Ie,this.showSubmitter=!0,this.badgeContext=Ps.o.MyDSpaceValidation,this.item$=new _.t(null),this.workflowitem$=new _.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ws.s)("workflowitem",{},(0,Ws.s)("item",{},(0,Ws.s)("bundles")),(0,Ws.s)("submitter")),(0,Ws.s)("action")),this.dso.workflowitem.pipe((0,js.qD)(),(0,Qn.Z)(y=>y.hasSucceeded?(this.workflowitem$.next(y.payload),y.payload.item.pipe((0,js.qD)())):Br.w),(0,mi.M)(y=>{(0,G.hj)(y)&&y.hasSucceeded&&this.item$.next(y.payload)})).subscribe(),this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.duplicates$=this.initializeDuplicateDetectionIfEnabled()}initializeDuplicateDetectionIfEnabled(){return(0,Ko.z)([this.configService.findByPropertyName("duplicate.enable").pipe((0,js.qD)(),(0,xt.T)(y=>y.isSuccess&&y.payload&&"true"===y.payload.values[0])),this.item$.pipe()]).pipe((0,xt.T)(([y,o])=>{if(!y)return[];this.duplicates$=this.duplicateDataService.findDuplicates(o.uuid).pipe((0,js.qD)(),(0,xt.T)(c=>{if(c.hasSucceeded&&c.payload.page)return c.payload.page}))}))}ngOnDestroy(){(0,G.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(o){return new(o||_A)(e.rXU(Ii._),e.rXU(Pi.F),e.rXU(Fs.f),e.rXU(jl.$),e.rXU(Ma.ConfigurationDataService),e.rXU(p_.SubmissionDuplicateDataService),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:_A,selectors:[["ds-claimed-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext","workflowItem"],[4,"ngVar"],[1,"row"],[3,"ngClass"],[3,"processCompleted","item","object","workflowitem"],[3,"ngClass",4,"ngIf"],[1,"d-flex","alert","alert-warning","w-100"]],template:function(o,c){1&o&&(e.DNE(0,C2,7,12,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&o&&e.Y8G("ngIf",e.bMT(1,1,c.workflowitem$)&&e.bMT(2,3,c.item$))},dependencies:[f.bT,Ju,f.YU,ny,f.Jj,K.h,K.D9,Xl.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};f_=(0,Ue.Cg)([(0,Gn.VK)(iy.y,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Ii._,Pi.F,Fs.f,jl.$,Ma.ConfigurationDataService,p_.SubmissionDuplicateDataService,Object])],f_);let sm=class EO extends Hr.P{constructor(){super(...arguments),this.badgeContext=Ps.o.MyDSpaceArchived}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(EO)))(c||EO)}})()}static{this.\u0275cmp=e.VBU({type:EO,selectors:[["ds-item-search-result-list-element-submission"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:5,consts:[[3,"item","object","badgeContext"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"]],template:function(o,c){1&o&&(e.nrm(0,"ds-item-list-preview",0),e.j41(1,"div",1)(2,"div",2)(3,"ds-item-actions",3),e.bIt("processCompleted",function(W){return c.reloadedObject.emit(W.reloadedObject)}),e.k0s()()()),2&o&&(e.Y8G("item",c.dso)("object",c.object)("badgeContext",c.badgeContext),e.R7$(2),e.Y8G("ngClass",c.showThumbnails?"offset-3 offset-md-2 col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("object",c.dso))},dependencies:[Ju,f.YU,Zg],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};function ZI(d,y){if(1&d&&(e.j41(0,"div",4),e.nrm(1,"div",4),e.j41(2,"div",4)(3,"div",7),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&d){const o=e.XpG().ngVar;e.Y8G("ngClass","row"),e.R7$(),e.Y8G("ngClass","col-2"),e.R7$(),e.Y8G("ngClass","col-10"),e.R7$(2),e.Lme(" ",o," ",e.bMT(5,5,"submission.workflow.tasks.duplicates")," ")}}function qI(d,y){if(1&d&&(e.qex(0),e.DNE(1,ZI,6,7,"div",6),e.bVm()),2&d){const o=y.ngVar;e.R7$(),e.Y8G("ngIf",o>0)}}function im(d,y){if(1&d){const o=e.RV6();e.qex(0),e.nrm(1,"ds-item-list-preview",1),e.DNE(2,qI,2,1,"ng-container",2),e.nI1(3,"async"),e.j41(4,"div",3)(5,"div",4)(6,"ds-pool-task-actions",5),e.bIt("processCompleted",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.reloadedObject.emit(O.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&d){let o;const c=e.XpG();e.R7$(),e.Y8G("item",c.item$.value)("object",c.object)("showSubmitter",c.showSubmitter)("badgeContext",c.badgeContext)("workflowItem",c.workflowitem$.value),e.R7$(),e.Y8G("ngVar",null==(o=e.bMT(3,10,c.duplicates$))?null:o.length),e.R7$(3),e.Y8G("ngClass",c.showThumbnails?"offset-3 offset-md-2 col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("item",c.item$.value)("object",c.dso)("workflowitem",c.workflowitem$.value)}}sm=(0,Ue.Cg)([(0,Gn.VK)(Ys.H,Vn.n.ListElement,Ps.o.Workspace),(0,Gn.VK)(Ys.H,Vn.n.ListElement,Ps.o.Workflow)],sm);let m_=class vA extends Hr.P{constructor(y,o,c,O,W,ue,Ie){super(o,c,Ie),this.linkService=y,this.truncatableService=o,this.dsoNameService=c,this.objectCache=O,this.configService=W,this.duplicateDataService=ue,this.appConfig=Ie,this.showSubmitter=!0,this.badgeContext=Ps.o.MyDSpaceWaitingController,this.item$=new _.t(null),this.workflowitem$=new _.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,Ws.s)("workflowitem",{},(0,Ws.s)("item",{},(0,Ws.s)("bundles")),(0,Ws.s)("submitter")),(0,Ws.s)("action")),this.dso.workflowitem.pipe((0,js.qD)(),(0,Qn.Z)(y=>y.hasSucceeded?(this.workflowitem$.next(y.payload),y.payload.item.pipe((0,js.qD)())):Br.w),(0,mi.M)(y=>{(0,G.hj)(y)&&y.hasSucceeded&&this.item$.next(y.payload)})).subscribe(),this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.duplicates$=this.initializeDuplicateDetectionIfEnabled()}initializeDuplicateDetectionIfEnabled(){return(0,Ko.z)([this.configService.findByPropertyName("duplicate.enable").pipe((0,js.qD)(),(0,xt.T)(y=>y.isSuccess&&y.payload&&"true"===y.payload.values[0])),this.item$.pipe()]).pipe((0,xt.T)(([y,o])=>{if(!y)return[];this.duplicates$=this.duplicateDataService.findDuplicates(o.uuid).pipe((0,js.qD)(),(0,xt.T)(c=>{if(c.hasSucceeded&&c.payload.page)return c.payload.page}))}))}ngOnDestroy(){(0,G.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(o){return new(o||vA)(e.rXU(Ii._),e.rXU(Pi.F),e.rXU(Fs.f),e.rXU(jl.$),e.rXU(Ma.ConfigurationDataService),e.rXU(p_.SubmissionDuplicateDataService),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:vA,selectors:[["ds-pool-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext","workflowItem"],[4,"ngVar"],[1,"row"],[3,"ngClass"],["id","actions",3,"processCompleted","item","object","workflowitem"],[3,"ngClass",4,"ngIf"],[1,"d-flex","alert","alert-warning","w-100"]],template:function(o,c){1&o&&(e.DNE(0,im,7,12,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&o&&e.Y8G("ngIf",e.bMT(1,1,c.workflowitem$)&&e.bMT(2,3,c.item$))},dependencies:[f.bT,Ju,f.YU,Hf,f.Jj,K.h,K.D9,Xl.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};m_=(0,Ue.Cg)([(0,Gn.VK)(BI.d,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Ii._,Pi.F,Fs.f,jl.$,Ma.ConfigurationDataService,p_.SubmissionDuplicateDataService,Object])],m_);var vy=n(7581);function eP(d,y){if(1&d){const o=e.RV6();e.qex(0),e.nrm(1,"ds-listable-object-component-loader",2),e.nI1(2,"async"),e.j41(3,"div",3)(4,"div",4)(5,"ds-workflowitem-actions",5),e.bIt("processCompleted",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.reloadedObject.emit(O.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&d){const o=e.XpG();e.R7$(),e.Y8G("viewMode",o.ViewModes.ListElement)("object",e.bMT(2,6,o.derivedSearchResult$))("linkType",o.LinkTypes.None)("context",o.badgeContext),e.R7$(3),e.Y8G("ngClass",o.showThumbnails?"offset-3 offset-md-2  col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("object",o.dso)}}function Db(d,y){1&d&&e.nrm(0,"ds-loading",6),2&d&&e.Y8G("showMessage",!1)}let g_=class yA extends Hr.P{constructor(y,o,c,O){super(y,c,O),this.truncatableService=y,this.linkService=o,this.dsoNameService=c,this.appConfig=O,this.LinkTypes=vy.n,this.ViewModes=Vn.n,this.derivedSearchResult$=new _.t(void 0),this.badgeContext=Ps.o.MyDSpaceWorkflow}ngOnInit(){super.ngOnInit(),this.deriveSearchResult(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}deriveSearchResult(){this.linkService.resolveLink(this.object.indexableObject,(0,Ws.s)("item")),this.object.indexableObject.item.pipe((0,js.ak)()).subscribe(y=>{new Ys.H,this.derivedSearchResult$.next(Object.assign(new Ys.H,{indexableObject:y,hitHighlights:this.object.hitHighlights}))})}static{this.\u0275fac=function(o){return new(o||yA)(e.rXU(Pi.F),e.rXU(Ii._),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:yA,selectors:[["ds-workflow-item-my-dspace-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:6,consts:[[4,"ngIf"],[3,"showMessage",4,"ngIf"],[3,"viewMode","object","linkType","context"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"],[3,"showMessage"]],template:function(o,c){1&o&&(e.DNE(0,eP,6,8,"ng-container",0),e.nI1(1,"async"),e.DNE(2,Db,1,1,"ds-loading",1),e.nI1(3,"async")),2&o&&(e.Y8G("ngIf",e.bMT(1,2,c.derivedSearchResult$)),e.R7$(2),e.Y8G("ngIf",void 0===e.bMT(3,4,c.derivedSearchResult$)))},dependencies:[f.bT,Au.v,f.YU,zf,ju.v,f.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};function Ob(d,y){if(1&d){const o=e.RV6();e.qex(0),e.nrm(1,"ds-listable-object-component-loader",2),e.nI1(2,"async"),e.j41(3,"div",3)(4,"div",4)(5,"ds-workspaceitem-actions",5),e.bIt("processCompleted",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.reloadedObject.emit(O.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&d){const o=e.XpG();e.R7$(),e.Y8G("viewMode",o.ViewModes.ListElement)("object",e.bMT(2,6,o.derivedSearchResult$))("linkType",o.LinkTypes.None)("context",o.badgeContext),e.R7$(3),e.Y8G("ngClass",o.showThumbnails?"offset-3 offset-md-2 col-9 col-md-10 ps-3":""),e.R7$(),e.Y8G("object",o.dso)}}function tP(d,y){1&d&&e.nrm(0,"ds-loading",6),2&d&&e.Y8G("showMessage",!1)}g_=(0,Ue.Cg)([(0,Gn.VK)(Ud.q,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Pi.F,Ii._,Fs.f,Object])],g_);let up=class EA extends Hr.P{constructor(y,o,c,O){super(y,c,O),this.truncatableService=y,this.linkService=o,this.dsoNameService=c,this.appConfig=O,this.LinkTypes=vy.n,this.ViewModes=Vn.n,this.derivedSearchResult$=new _.t(void 0),this.badgeContext=Ps.o.MyDSpaceWorkspace}ngOnInit(){super.ngOnInit(),this.deriveSearchResult(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}deriveSearchResult(){this.linkService.resolveLink(this.object.indexableObject,(0,Ws.s)("item")),this.object.indexableObject.item.pipe((0,js.ak)()).subscribe(y=>{new Ys.H,this.derivedSearchResult$.next(Object.assign(new Ys.H,{indexableObject:y,hitHighlights:this.object.hitHighlights}))})}static{this.\u0275fac=function(o){return new(o||EA)(e.rXU(Pi.F),e.rXU(Ii._),e.rXU(Fs.f),e.rXU(si.vQ))}}static{this.\u0275cmp=e.VBU({type:EA,selectors:[["ds-workspace-item-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:6,consts:[[4,"ngIf"],[3,"showMessage",4,"ngIf"],[3,"viewMode","object","linkType","context"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"],[3,"showMessage"]],template:function(o,c){1&o&&(e.DNE(0,Ob,6,8,"ng-container",0),e.nI1(1,"async"),e.DNE(2,tP,1,1,"ds-loading",1),e.nI1(3,"async")),2&o&&(e.Y8G("ngIf",e.bMT(1,2,c.derivedSearchResult$)),e.R7$(2),e.Y8G("ngIf",void 0===e.bMT(3,4,c.derivedSearchResult$)))},dependencies:[f.bT,Au.v,f.YU,e_,ju.v,f.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}","[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}"]})}};function nP(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}up=(0,Ue.Cg)([(0,Gn.VK)(pg.I,Vn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Pi.F,Ii._,Fs.f,Object])],up);let om=class CO extends Il{getDescription(){return this.firstMetadataValue("dc.description.abstract")}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(CO)))(c||CO)}})()}static{this.\u0275cmp=e.VBU({type:CO,selectors:[["ds-collection-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,nP,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[er.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};function Mb(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}om=(0,Ue.Cg)([(0,Gn.VK)(Mc.A,Vn.n.ListElement,Ps.o.SideBarSearchModal),(0,Gn.VK)(Mc.A,Vn.n.ListElement,Ps.o.SideBarSearchModalCurrent),(0,Gn.VK)(Mc.A,Vn.n.ListElement,Ps.o.ScopeSelectorModal),(0,Gn.VK)(Mc.A,Vn.n.ListElement,Ps.o.ScopeSelectorModalCurrent)],om);let __=class bO extends Il{getDescription(){return this.firstMetadataValue("dc.description.abstract")}static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(bO)))(c||bO)}})()}static{this.\u0275cmp=e.VBU({type:bO,selectors:[["ds-community-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,Mb,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[er.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};function sP(d,y){if(1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&d){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}__=(0,Ue.Cg)([(0,Gn.VK)(Sc.L,Vn.n.ListElement,Ps.o.SideBarSearchModal),(0,Gn.VK)(Sc.L,Vn.n.ListElement,Ps.o.SideBarSearchModalCurrent),(0,Gn.VK)(Sc.L,Vn.n.ListElement,Ps.o.ScopeSelectorModal),(0,Gn.VK)(Sc.L,Vn.n.ListElement,Ps.o.ScopeSelectorModalCurrent)],__);let v_=class TO extends Il{static{this.\u0275fac=(()=>{let y;return function(c){return(y||(y=e.xGo(TO)))(c||TO)}})()}static{this.\u0275cmp=e.VBU({type:TO,selectors:[["ds-publication-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"fw-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,sP,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,c.parentTitle$&&c.parentTitle$)?e.bMT(3,13,c.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",c.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",c.isCurrent()?"text-light":"text-primary")("innerHTML",c.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",c.description))},dependencies:[er.W,f.YU,f.bT,f.Jj,K.h,K.D9],encapsulation:2})}};v_=(0,Ue.Cg)([(0,Gn.VK)("PublicationSearchResult",Vn.n.ListElement,Ps.o.SideBarSearchModal),(0,Gn.VK)("PublicationSearchResult",Vn.n.ListElement,Ps.o.SideBarSearchModalCurrent),(0,Gn.VK)(Ys.H,Vn.n.ListElement,Ps.o.ScopeSelectorModal),(0,Gn.VK)(Ys.H,Vn.n.ListElement,Ps.o.ScopeSelectorModalCurrent)],v_);var yy=n(73900);const iP=[l_,py,fy,sf,cg,ld,Xu,Ld,uf,om,lf,pf,Jf,my,af,hf,__,W0,lg,dg,Qf,gy,Jl,Gd.k,D0,Vd,O0,Eg,Sg,yf,Yh,Lu,Og,wu,Tf,Sf,M0,bf,Hd,Cf,xu,Rg,tm,Ug,I0,N0,Jh,wf,kf,Vu,Uf,Lg,rd,Af,ha,op,jf,Gg,w0,ku,ec,Yo,Gu,v_,mg,hg,gg,r0,up,g_,f_,_y,u_,h_,m_,ad,Xf,Yf,o_,hy,sm,$f,Xg];let Sb=(()=>{class d{static withEntryComponents(){return{ngModule:d,providers:iP.map(o=>({provide:o}))}}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275mod=e.$C({type:d})}static{this.\u0275inj=e.G2t({imports:[f.MD,v.iI,K.h,er.W,yy.ThumbnailComponent,PI.BadgesComponent,Ho.F,Yu,Zl,id,e_,Hf,Ju,RC,Vg,ny,zf,df,Oo.T,ql.V,Zg,xC,Pf,gf,Zv,ln.YN,Wg,Qd,Kg,zg,Hg,z0,Jd.r,sf,cg,ld,Ld,uf,om,lf,pf,Jf,af,hf,__,lg,dg,Qf,Jl,Gd.k,D0,Vd,O0,Eg,Sg,yf,Yh,Lu,Og,wu,Tf,Sf,M0,bf,Hd,Cf,xu,Rg,tm,Ug,I0,N0,Jh,wf,kf,Vu,Uf,Lg,rd,Af,ha,op,jf,Gg,w0,ku,ec,Yo,Gu,v_,mg,hg,gg,r0,up,g_,f_,_y,u_,h_,m_,ad,Xf,Yf,o_,hy,sm,$f,Xg]})}}return d})();var Ib=n(61424),eu=n(19460);let oP=(()=>{class d{constructor(o,c){this.tokenExtractor=o,this.cookieService=c}intercept(o,c){const O=(o=o.clone({withCredentials:!0})).url.toLowerCase(),W=new Ib.F("/").toString().toLowerCase();if("GET"!==o.method&&"HEAD"!==o.method&&O.startsWith(W)){const ue=this.tokenExtractor.getToken();null!==ue&&!o.headers.has(eu.sA)&&(o=o.clone({headers:o.headers.set(eu.sA,ue)}))}return c.handle(o).pipe((0,mi.M)(ue=>{ue instanceof le.cS&&ue.headers.has(eu.oo)&&this.saveXsrfToken(ue.headers.get(eu.oo))}),(0,An.W)(ue=>(ue instanceof le.yz&&ue.headers.has(eu.oo)&&this.saveXsrfToken(ue.headers.get(eu.oo)),(0,Ja.$)(ue))))}saveXsrfToken(o){this.cookieService.remove(eu.dX),this.cookieService.set(eu.dX,o)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(le.B3),e.KVO(Dd.O))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();n(96756),n(90190);let rP=(()=>{class d{serialize(o){const{url:c}=o;return{url:c,queryParams:o.root.queryParams}}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();n(9274);const Ab={providers:[(0,e.oKB)(_o.xG.forRoot(),q.UN,pr.forRoot(hu),E.md.forRoot(kc.rd,kc.wP),jr.hO.forRoot(),[],ih,uu,Sb.withEntryComponents(),Fc.mB.forRoot()),(0,v.lh)(SO,(0,v.Ii)({onSameUrlNavigation:"reload"}),(0,v.oH)({scrollPositionRestoration:"top",anchorScrolling:"enabled"}),(0,v.Zy)(),(0,v.Sn)(v.D7)),{provide:f.kB,useFactory:(d,y)=>{const o=d.querySelector("head > base");return o.setAttribute("href",`${y.ui.nameSpace}${y.ui.nameSpace.endsWith("/")?"":"/"}`),o.getAttribute("href")},deps:[f.qQ,si.vQ]},{provide:E.iK,useFactory:function Rb(d){return d.debug?[...Op,...lh]:Op},deps:[si.vQ]},{provide:jr.jr,useClass:rP},$v,{provide:le.a7,useClass:IO,multi:!0},{provide:le.a7,useClass:RO,multi:!0},{provide:le.a7,useClass:oP,multi:!0},{provide:le.a7,useClass:Xm,multi:!0},{provide:le.a7,useClass:TA,multi:!0},...Ms.A0q,(0,e.EmA)([{provide:Jp.Y,useFactory:(d,y)=>A.c.production?new Jp.Y(y):new LO(d,y),deps:[OE,le.Qq]}])]};var y_=n(13820),Lb=n(72734),E_=n(43052);let P2=(()=>{class d extends y_.H{constructor(o,c,O){super(o,c,O)}createShortLivedTokenRequest(o){return(0,Is.of)(new E_.Qf(this.requestService.generateRequestId(),o))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(t_.Y),e.KVO(Cl.B),e.KVO(Lb.o))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),Nb=(()=>{class d{constructor(o){this.actions$=o,this.reinitDSOMenus=kn(()=>this.actions$.pipe(Xn(Do.REHYDRATE),(0,xt.T)(()=>new yl.PM)))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var cP=n(41584),Fb=n(43236),Bb=n(47242),Ey=n(40941),Qu=n(11568),pa=n(96393);class jb{constructor(y,o){this.zone=y,this.scheduler=o}schedule(...y){return this.zone.run(()=>this.scheduler.schedule.apply(this.scheduler,y))}now(){return this.scheduler.now()}}class Ub{constructor(y,o){this.zone=y,this.scheduler=o}schedule(...y){return this.zone.runOutsideAngular(()=>this.scheduler.schedule.apply(this.scheduler,y))}now(){return this.scheduler.now()}}const kb=[...Object.values(X.Yk).filter(d=>d!==X.Yk.UNSET_USER_AS_IDLE),...Object.values(pa.tO),...Object.values(Qu.Is)];function Zu(d,y){return y instanceof Error||console.warn("AuthEffects caught non-Error object:",y),(0,Is.of)(new d(y))}let Vb=(()=>{class d{constructor(o,c,O,W,ue){this.actions$=o,this.zone=c,this.authorizationsService=O,this.authService=W,this.store=ue,this.authenticate$=kn(()=>this.actions$.pipe(Xn(X.Yk.AUTHENTICATE),(0,ks.n)(Ie=>this.authService.authenticate(Ie.payload.email,Ie.payload.password).pipe((0,T.s)(1),(0,xt.T)(rt=>new X.sy(rt.token)),(0,An.W)(rt=>Zu(X.HQ,rt)))))),this.authenticateSuccess$=kn(()=>this.actions$.pipe(Xn(X.Yk.AUTHENTICATE_SUCCESS),(0,xt.T)(Ie=>new X.ks(Ie.payload)))),this.authenticated$=kn(()=>this.actions$.pipe(Xn(X.Yk.AUTHENTICATED),(0,ks.n)(Ie=>this.authService.authenticatedUser(Ie.payload).pipe((0,xt.T)(rt=>new X.D9(null!==rt,Ie.payload,rt)),(0,An.W)(rt=>Zu(X.IV,rt)))))),this.authenticatedSuccess$=kn(()=>this.actions$.pipe(Xn(X.Yk.AUTHENTICATED_SUCCESS),(0,mi.M)(Ie=>this.authService.storeToken(Ie.payload.authToken)),(0,ks.n)(Ie=>this.authService.getRedirectUrl().pipe((0,T.s)(1),(0,xt.T)(rt=>[Ie,rt]))),(0,xt.T)(([Ie,rt])=>(0,G.a4)(rt)?new X.FD(rt):new X.K0(Ie.payload.userHref)))),this.redirectAfterLoginSuccess$=kn(()=>this.actions$.pipe(Xn(X.Yk.REDIRECT_AFTER_LOGIN_SUCCESS),(0,mi.M)(Ie=>{this.authService.clearRedirectUrl(),this.authService.navigateToRedirectUrl(Ie.payload)})),{dispatch:!1}),this.authenticatedError$=kn(()=>this.actions$.pipe(Xn(X.Yk.AUTHENTICATED_ERROR),(0,mi.M)(Ie=>this.authService.removeToken())),{dispatch:!1}),this.retrieveAuthenticatedEperson$=kn(()=>this.actions$.pipe(Xn(X.Yk.RETRIEVE_AUTHENTICATED_EPERSON),(0,ks.n)(Ie=>{const rt=this.authService.getImpersonateID();let kt;return kt=(0,G.a4)(rt)?this.authService.retrieveAuthenticatedUserById(rt):this.authService.retrieveAuthenticatedUserByHref(Ie.payload),kt.pipe((0,xt.T)(Cn=>new X.JT(Cn.id)),(0,An.W)(Cn=>Zu(X.cU,Cn)))}))),this.checkToken$=kn(()=>this.actions$.pipe(Xn(X.Yk.CHECK_AUTHENTICATION_TOKEN),(0,ks.n)(()=>this.authService.hasValidAuthenticationToken().pipe((0,xt.T)(Ie=>new X.ks(Ie)),(0,An.W)(Ie=>(0,Is.of)(new X.e0)))))),this.checkTokenCookie$=kn(()=>this.actions$.pipe(Xn(X.Yk.CHECK_AUTHENTICATION_TOKEN_COOKIE),(0,ks.n)(()=>this.authService.checkAuthenticationCookie().pipe((0,xt.T)(Ie=>Ie.authenticated?(this.authService.setExternalAuthStatus(!0),this.authorizationsService.invalidateAuthorizationsRequestCache(),new X.kZ):new X.j3(Ie)),(0,An.W)(Ie=>Zu(X.IV,Ie)))))),this.retrieveToken$=kn(()=>this.actions$.pipe(Xn(X.Yk.RETRIEVE_TOKEN),(0,ks.n)(Ie=>this.authService.refreshAuthenticationToken(null).pipe((0,T.s)(1),(0,xt.T)(rt=>new X.sy(rt)),(0,An.W)(rt=>Zu(X.HQ,rt)))))),this.refreshToken$=kn(()=>this.actions$.pipe(Xn(X.Yk.REFRESH_TOKEN),(0,ks.n)(Ie=>this.authService.refreshAuthenticationToken(Ie.payload).pipe((0,xt.T)(rt=>new X.IO(rt)),(0,An.W)(rt=>(0,Is.of)(new X.$K)))))),this.refreshTokenSuccess$=kn(()=>this.actions$.pipe(Xn(X.Yk.REFRESH_TOKEN_SUCCESS),(0,mi.M)(Ie=>this.authService.replaceToken(Ie.payload))),{dispatch:!1}),this.clearInvalidTokenOnRehydrate$=kn(()=>this.actions$.pipe(Xn(Do.REHYDRATE),(0,ks.n)(()=>{const Ie=this.store.pipe((0,E.Lt)(L.TR)),rt=this.store.pipe((0,E.Lt)(L.wR));return(0,Ko.z)([Ie,rt]).pipe((0,T.s)(1),(0,Wn.p)(([kt,Cn])=>kt&&!Cn),(0,mi.M)(()=>this.authService.removeToken()),(0,mi.M)(()=>this.authService.resetAuthenticationError()))})),{dispatch:!1}),this.invalidateAuthorizationsRequestCache$=kn(()=>this.actions$.pipe(Xn(Do.REHYDRATE),(0,mi.M)(()=>this.authorizationsService.invalidateAuthorizationsRequestCache())),{dispatch:!1}),this.logOut$=kn(()=>this.actions$.pipe(Xn(X.Yk.LOG_OUT),(0,ks.n)(()=>(this.authService.stopImpersonating(),this.authService.logout().pipe((0,xt.T)(()=>new X.G2),(0,An.W)(Ie=>Zu(X.VU,Ie))))))),this.logOutSuccess$=kn(()=>this.actions$.pipe(Xn(X.Yk.LOG_OUT_SUCCESS),(0,mi.M)(()=>this.authService.removeToken()),(0,mi.M)(()=>this.authService.clearRedirectUrl()),(0,mi.M)(()=>this.authService.refreshAfterLogout())),{dispatch:!1}),this.redirectToLoginTokenExpired$=kn(()=>this.actions$.pipe(Xn(X.Yk.REDIRECT_TOKEN_EXPIRED),(0,mi.M)(()=>this.authService.removeToken()),(0,mi.M)(()=>this.authService.redirectToLoginWhenTokenExpired())),{dispatch:!1}),this.retrieveMethods$=kn(()=>this.actions$.pipe(Xn(X.Yk.RETRIEVE_AUTH_METHODS),(0,ks.n)(Ie=>this.authService.retrieveAuthMethodsFromAuthStatus(Ie.payload).pipe((0,xt.T)(rt=>new X.qY(rt)),(0,An.W)(()=>(0,Is.of)(new X.$X)))))),this.trackIdleness$=kn(()=>this.actions$.pipe((0,Wn.p)(Ie=>!kb.includes(Ie.type)),(0,ks.n)(()=>(0,cP.O)(A.c.auth.ui.timeUntilIdle,new Ub(this.zone,Fb.E))),(0,Ey.Q)(new jb(this.zone,Bb.T)),(0,xt.T)(()=>new X.es)))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(e.SKi),e.KVO(lc.AuthorizationDataService),e.KVO(p.uR),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var hp=n(98372);let Gb=(()=>{class d{constructor(o){this.actions$=o,this.fixTimestampsOnRehydrate=kn(()=>this.actions$.pipe(Xn(Do.REHYDRATE),(0,xt.T)(()=>new hp.Yp((new Date).getTime()))))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var C_=n(47797),rm=n(43377);let $b=(()=>{class d{applyPatch(o){return this.objectCache.getByHref(o).pipe((0,T.s)(1)).pipe((0,xt.T)(O=>{if((0,G.hj)(O.patches)){const W=[].concat(...O.patches.map(ue=>ue.operations));(0,G.hj)(W)&&this.requestService.send(new E_.EA(this.requestService.generateRequestId(),o,W))}return new hp.gL(o)}))}constructor(o,c,O,W){this.actions$=o,this.store=c,this.requestService=O,this.objectCache=W,this.setTimeoutForServerSync=kn(()=>this.actions$.pipe(Xn(jc.G9.ADD),_i(ue=>{const Ie=A.c.cache.autoSync,rt=Ie.timePerMethod[ue.payload.method]||Ie.defaultTime;return(0,Is.of)(new jc.eR(ue.payload.method)).pipe((0,S.c)(1e3*rt))}))),this.commitServerSyncBuffer=kn(()=>this.actions$.pipe(Xn(jc.G9.COMMIT),(0,ks.n)(ue=>this.store.pipe((0,E.Lt)(function Wb(){return(0,E.Mz)(C_.N,d=>d["cache/syncbuffer"])}()),(0,T.s)(1),(0,ks.n)(Ie=>{const rt=Ie.buffer.filter(kt=>!(0,G.a4)(ue.payload)||kt.method===ue.payload).map(kt=>{if(kt.method===rm.D.PATCH)return this.applyPatch(kt.href)});return(0,G.hj)(rt)&&(0,G.EA)(rt[0])?(0,Ko.z)(...rt).pipe((0,ks.n)(kt=>[...kt,new jc.a0(ue.payload)])):(0,Is.of)(new Dm.L)})))))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(E.il),e.KVO(Cl.B),e.KVO(jl.$))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var dP=n(1033),am=n(16105);let uP=(()=>{class d{constructor(o,c){this.actions$=o,this.notificationsService=c,this.allIdentifier="all",this.actionMap$={},this.notificationActionMap$={all:new ra.B},this.mapLastActions$=kn(()=>this.actions$.pipe(Xn(...Object.values(am.Ft)),(0,xt.T)(O=>{if((0,G.a4)(O.payload)){const W=O.payload.url;(0,G.Tn)(this.actionMap$[W])&&(this.actionMap$[W]=new ra.B),this.actionMap$[W].next(O)}})),{dispatch:!1}),this.mapLastNotificationActions$=kn(()=>this.actions$.pipe(Xn(...Object.values(Qu.Is)),(0,xt.T)(O=>{const W=O.payload.id||O.payload||this.allIdentifier;(0,G.Tn)(this.notificationActionMap$[W])&&(this.notificationActionMap$[W]=new ra.B),this.notificationActionMap$[W].next(O)})),{dispatch:!1}),this.removeAfterDiscardOrReinstateOnUndo$=kn(()=>this.actions$.pipe(Xn(am.Ft.DISCARD),(0,ks.n)(O=>{const W=O.payload.url,ue=O.payload.notification,Ie=ue.options.timeOut;let rt=new am.S3(O.payload.url);return O.payload.discardAll&&(rt=new am.zJ),(0,dP.O)((0,Is.of)(rt).pipe((0,S.c)(Ie)),this.actionMap$[W].pipe((0,T.s)(1),(0,mi.M)(()=>{this.notificationsService.remove(ue)}),(0,xt.T)(kt=>kt.type===am.Ft.REINSTATE?new Dm.L:rt)),this.notificationActionMap$[ue.id].pipe((0,Wn.p)(kt=>kt.type===Qu.Is.REMOVE_NOTIFICATION),(0,xt.T)(()=>rt)),this.notificationActionMap$[this.allIdentifier].pipe((0,Wn.p)(kt=>kt.type===Qu.Is.REMOVE_ALL_NOTIFICATIONS),(0,xt.T)(()=>rt)))})))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(ys.I))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var hP=n(28580),Kb=n(10524);let b_=(()=>{class d{constructor(){this.tokenInitialized$=new _.t(!1)}static{this.\u0275fac=function(c){return new(c||d)}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),pP=(()=>{class d{constructor(o,c,O,W,ue){this.actions$=o,this.restApi=c,this.injector=O,this.requestService=W,this.xsrfService=ue,this.execute=kn(()=>this.actions$.pipe(Xn(pa.tO.EXECUTE),(0,Qn.Z)(Ie=>this.requestService.getByUUID(Ie.payload).pipe((0,T.s)(1))),(0,Wn.p)(Ie=>(0,G.a4)(Ie)),(0,R.E)(this.xsrfService.tokenInitialized$),(0,Wn.p)(([Ie,rt])=>Ie.request.method===rm.D.GET||!0===rt),(0,xt.T)(([Ie,rt])=>Ie.request),(0,Qn.Z)(Ie=>{let rt=Ie.body;return(0,G.hj)(Ie.body)&&!Ie.isMultipart&&(rt=new hP.T((0,ii.Qt)(Ie.body.type)).serialize(Ie.body)),this.restApi.request(Ie.method,Ie.href,rt,Ie.options,Ie.isMultipart).pipe((0,xt.T)(kt=>this.injector.get(Ie.getResponseParser()).parse(Ie,kt)),(0,xt.T)(kt=>new pa.Di(Ie.uuid,kt.statusCode,kt.link,kt.unCacheableObject)),(0,An.W)(kt=>{if(kt instanceof Kb.G)return[new pa.Gl(Ie.uuid,kt.statusCode,kt.message)];throw kt}))}))),this.fixTimestampsOnRehydrate=kn(()=>this.actions$.pipe(Xn(Do.REHYDRATE),(0,xt.T)(()=>new pa.cX((new Date).getTime()))))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(Jp.Y),e.KVO(e.zZn),e.KVO(Cl.B),e.KVO(b_))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var qu=n(71442),Cy=n(69227),T_=n(51672);let fP=(()=>{class d{constructor(o,c){this.actions$=o,this.store=c,this.addObject$=kn(()=>this.actions$.pipe(Xn(hp.db.ADD),(0,Wn.p)(O=>(0,G.a4)(O.payload.objectToCache)&&(0,G.a4)(O.payload.objectToCache.uuid)),(0,xt.T)(O=>new qu.Lv(T_.U.OBJECT,O.payload.objectToCache.uuid,O.payload.objectToCache._links.self.href)))),this.addAlternativeObjectLink$=kn(()=>this.actions$.pipe(Xn(hp.db.ADD),(0,xt.T)(O=>{const W=O.payload.alternativeLink,ue=(0,G.a4)(O.payload.objectToCache?._links?.self)?O.payload.objectToCache._links.self.href:W;return(0,G.a4)(W)&&W!==ue?new qu.Lv(T_.U.ALTERNATIVE_OBJECT_LINK,W,ue):new Dm.L}))),this.removeObject$=kn(()=>this.actions$.pipe(Xn(hp.db.REMOVE),(0,xt.T)(O=>new qu.H9(T_.U.OBJECT,O.payload)))),this.addRequest$=kn(()=>this.actions$.pipe(Xn(pa.tO.CONFIGURE),(0,Wn.p)(O=>O.payload.method===rm.D.GET),(0,ks.n)(O=>{const W=(0,Cy.tJ)(O.payload.href);return this.store.pipe((0,E.Lt)((0,Cy.Qc)(W)),(0,T.s)(1),(0,xt.T)(ue=>[O,ue]))}),(0,ks.n)(([O,W])=>{let ue=[];return(0,G.a4)(W)&&(ue=[new pa.HL(W)]),ue=[...ue,new qu.Lv(T_.U.REQUEST,(0,Cy.tJ)(O.payload.href),O.payload.uuid)],ue})))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(E.il))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),mP=(()=>{class d{constructor(o){this.actions$=o,this.commit$=kn(()=>this.actions$.pipe(Xn(Ar.Ce.COMMIT_JSON_PATCH_OPERATIONS),(0,xt.T)(c=>new Ar.pg(c.payload.resourceType,c.payload.resourceId))))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const Hb={ROUTE_UPDATE:(0,md.N)("dspace/core/router/ROUTE_UPDATE")};class zb{constructor(){this.type=Hb.ROUTE_UPDATE}}let Yb=(()=>{class d{constructor(o,c){this.actions$=o,this.router=c,this.routeChange$=kn(()=>this.actions$.pipe(Xn(jr.hr),function gP(){return(0,Wi.N)((d,y)=>{let o,c=!1;d.subscribe((0,Ut._)(y,O=>{const W=o;o=O,c&&y.next([W,O]),c=!0}))})}(),(0,xt.T)(O=>O.map(W=>this.router.parseUrl(W.payload.routerState.url).root.children.primary.segments.map(Ie=>Ie.path).join("/"))),(0,Wn.p)(O=>O[0]!==O[1]),(0,xt.T)(()=>new zb)))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(v.Ix))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var Ac=n(61905);const Xb=[pP,Gb,fP,Vb,mP,$b,uP,(()=>{class d{constructor(o,c){this.actions$=o,this.service=c,this.routeChange$=kn(()=>this.actions$.pipe(Xn(Hb.ROUTE_UPDATE),(0,xt.T)(()=>new Ac.sV))),this.afterResetChange$=kn(()=>this.actions$.pipe(Xn(Ac.HH.RESET),(0,mi.M)(()=>this.service.setCurrentRouteInfo())),{dispatch:!1})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Ns),e.KVO(Bu.v$))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})(),Yb,Nb];var D_=n(29679);const Jb={selectedBitstreamFormats:[]},Zb={authenticated:!1,loaded:!1,blocking:!0,loading:!1,authMethods:[],externalAuth:!1,idle:!1};var eT=n(87891);const vP={buffer:[]};var Dy=n(66898);const Oy=Object.create(null);var yP=n(23274);const Iy=[],aT=Object.create(null);var lm=function(d){return d.test="test",d.remove="remove",d.add="add",d.replace="replace",d.move="move",d.copy="copy",d}(lm||{});const TP=Object.create(null);function S_(d){return{operation:d,timeCompleted:(new Date).getTime()}}const I_={ADD:(0,md.N)("dspace/meta-tag/ADD"),CLEAR:(0,md.N)("dspace/meta-tag/CLEAR")};class MP{constructor(y){this.type=I_.ADD,this.payload=y}}class SP{constructor(){this.type=I_.CLEAR}}const fp={tagsInUse:[]},wy={queryParams:{},params:{}};function xy(d,y,o){const c=d[o],W=[...c[y.payload.key]||[],y.payload.value],ue=Object.assign({},c,{[y.payload.key]:W});return Object.assign({},d,{[o]:ue})}function yT(d,y,o){const c=(0,G.hj)(y.payload)?{[o]:{[y.payload.key]:y.payload.value}}:{};return Object.assign({},d,c)}function IP(d,y,o){const O=Object.assign({},d[o],{[y.payload.key]:y.payload.value});return Object.assign({},d,{[o]:O})}const A2={bitstreamFormats:function Qb(d=Jb,y){switch(y.type){case D_.Sh.SELECT_FORMAT:return Object.assign({},d,{selectedBitstreamFormats:[...d.selectedBitstreamFormats,y.bitstreamFormat]});case D_.Sh.DESELECT_FORMAT:return Object.assign({},d,{selectedBitstreamFormats:d.selectedBitstreamFormats.filter(o=>o!==y.bitstreamFormat)});case D_.Sh.DESELECT_ALL_FORMAT:return Object.assign({},d,{selectedBitstreamFormats:[]});default:return d}},"cache/object":eT.gT,"cache/syncbuffer":function by(d=vP,y){switch(y.type){case jc.G9.ADD:return function O_(d,y){const o=y.payload;return(0,G.Tn)(d.buffer.find(c=>c.href===o.href&&c.method===o.method))?Object.assign({},d,{buffer:d.buffer.concat(o)}):d}(d,y);case jc.G9.EMPTY:return function Ty(d,y){let o=[];return(0,G.a4)(y.payload)&&(o=d.buffer.filter(c=>c.method!==y.payload)),Object.assign({},d,{buffer:o})}(d,y);default:return d}},"cache/object-updates":Dy.O,"data/request":function tT(d=Oy,y){switch(y.type){case pa.tO.CONFIGURE:return function nT(d,y){return Object.assign({},d,{[y.payload.uuid]:{request:y.payload,state:ua.zE.RequestPending,response:null,lastUpdated:y.lastUpdated}})}(d,y);case pa.tO.EXECUTE:return function sT(d,y){return(0,G.kZ)(d[y.payload])?d:Object.assign({},d,{[y.payload]:Object.assign({},d[y.payload],{state:ua.zE.ResponsePending,lastUpdated:y.lastUpdated})})}(d,y);case pa.tO.SUCCESS:return function iT(d,y){const o=d[y.payload.uuid];return(0,G.kZ)(o)?d:Object.assign({},d,{[y.payload.uuid]:Object.assign({},o,{state:(0,ua.QO)(o.state)?ua.zE.SuccessStale:ua.zE.Success,response:{timeCompleted:y.payload.timeCompleted,lastUpdated:y.payload.timeCompleted,statusCode:y.payload.statusCode,payloadLink:y.payload.link,unCacheableObject:y.payload.unCacheableObject,errorMessage:null},lastUpdated:y.lastUpdated})})}(d,y);case pa.tO.ERROR:return function oT(d,y){const o=d[y.payload.uuid];return(0,G.kZ)(o)?d:Object.assign({},d,{[y.payload.uuid]:Object.assign({},o,{state:(0,ua.QO)(o.state)?ua.zE.ErrorStale:ua.zE.Error,response:{timeCompleted:y.payload.timeCompleted,lastUpdated:y.payload.timeCompleted,statusCode:y.payload.statusCode,payloadLink:null,errorMessage:y.payload.errorMessage},lastUpdated:y.lastUpdated})})}(d,y);case pa.tO.STALE:return function My(d,y){const o=d[y.payload.uuid];if((0,G.kZ)(o)||(0,ua.QO)(o.state)||(0,ua.DB)(o.state))return d;{let c;return c=(0,ua.vT)(o.state)?ua.zE.ResponsePendingStale:(0,ua.yO)(o.state)?ua.zE.SuccessStale:ua.zE.ErrorStale,Object.assign({},d,{[y.payload.uuid]:Object.assign({},o,{state:c,lastUpdated:y.lastUpdated})})}}(d,y);case pa.tO.RESET_TIMESTAMPS:return function rT(d,y){const o=Object.create(null);return Object.keys(d).forEach(c=>{o[c]=Object.assign({},d[c],{response:Object.assign({},d[c].response,{timeCompleted:y.payload}),lastUpdated:y.payload})}),o}(d,y);case pa.tO.REMOVE:return function Sy(d,y){const o=Object.assign({},d);return o[y.uuid]=null,o}(d,y);default:return d}},history:function Py(d=Iy,y){return y.type===yP.i.ADD_TO_HISTORY?[...d,y.payload.url]:d},index:function Ry(d=aT,y){switch(y.type){case qu.WJ.ADD:return function EP(d,y){const c=Object.assign({},d[y.payload.name],{[y.payload.key]:y.payload.value});return Object.assign({},d,{[y.payload.name]:c})}(d,y);case qu.WJ.REMOVE_BY_VALUE:return function CP(d,y){const o=d[y.payload.name],c=Object.create(null);for(const O in o)o[O]!==y.payload.value&&(c[O]=o[O]);return Object.assign({},d,{[y.payload.name]:c})}(d,y);case qu.WJ.REMOVE_BY_SUBSTRING:return function Ay(d,y){const o=d[y.payload.name],c=Object.create(null);for(const O in o)O.indexOf(y.payload.value)<0&&(c[O]=o[O]);return Object.assign({},d,{[y.payload.name]:c})}(d,y);default:return d}},auth:function qb(d=Zb,y){switch(y.type){case X.Yk.AUTHENTICATE:return Object.assign({},d,{error:void 0,loading:!0,info:void 0});case X.Yk.AUTHENTICATED:return Object.assign({},d,{loading:!0,blocking:!0});case X.Yk.CHECK_AUTHENTICATION_TOKEN:case X.Yk.CHECK_AUTHENTICATION_TOKEN_COOKIE:return Object.assign({},d,{loading:!0});case X.Yk.SET_AUTH_COOKIE_STATUS:return Object.assign({},d,{externalAuth:y.payload});case X.Yk.AUTHENTICATED_ERROR:case X.Yk.RETRIEVE_AUTHENTICATED_EPERSON_ERROR:return Object.assign({},d,{authenticated:!1,authToken:void 0,error:y.payload.message,loaded:!0,blocking:!1,loading:!1});case X.Yk.AUTHENTICATED_SUCCESS:return Object.assign({},d,{authenticated:!0,authToken:y.payload.authToken});case X.Yk.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS:return Object.assign({},d,{loaded:!0,error:void 0,loading:!1,blocking:!1,info:void 0,userId:y.payload});case X.Yk.AUTHENTICATE_ERROR:return Object.assign({},d,{authenticated:!1,authToken:void 0,error:y.payload.message,blocking:!1,loading:!1});case X.Yk.AUTHENTICATE_SUCCESS:case X.Yk.LOG_OUT:return d;case X.Yk.LOG_OUT_ERROR:return Object.assign({},d,{authenticated:!0,error:y.payload.message});case X.Yk.REFRESH_TOKEN_ERROR:return Object.assign({},d,{authenticated:!1,authToken:void 0,error:void 0,loaded:!1,blocking:!1,loading:!1,info:void 0,refreshing:!1,userId:void 0});case X.Yk.LOG_OUT_SUCCESS:return Object.assign({},d,{authenticated:!1,authToken:void 0,error:void 0,loaded:!1,blocking:!0,loading:!0,info:void 0,refreshing:!1,userId:void 0});case X.Yk.REDIRECT_AUTHENTICATION_REQUIRED:case X.Yk.REDIRECT_TOKEN_EXPIRED:return Object.assign({},d,{authenticated:!1,authToken:void 0,loaded:!1,blocking:!1,loading:!1,info:y.payload,userId:void 0});case X.Yk.REFRESH_TOKEN:return Object.assign({},d,{refreshing:!0});case X.Yk.REFRESH_TOKEN_SUCCESS:return Object.assign({},d,{authToken:y.payload,refreshing:!1,blocking:!1});case X.Yk.ADD_MESSAGE:return Object.assign({},d,{info:y.payload});case X.Yk.RESET_MESSAGES:return Object.assign({},d,{error:void 0,info:void 0});case X.Yk.RETRIEVE_AUTH_METHODS:return Object.assign({},d,{loading:!0});case X.Yk.RETRIEVE_AUTH_METHODS_SUCCESS:return Object.assign({},d,{loading:!1,blocking:!1,authMethods:y.payload});case X.Yk.RETRIEVE_AUTH_METHODS_ERROR:return Object.assign({},d,{loading:!1,blocking:!1,authMethods:[new Yp.q(vc.Q.Password,0)]});case X.Yk.SET_REDIRECT_URL:return Object.assign({},d,{redirectUrl:y.payload});case X.Yk.REDIRECT_AFTER_LOGIN_SUCCESS:return Object.assign({},d,{loading:!0,blocking:!0});case X.Yk.SET_USER_AS_IDLE:return Object.assign({},d,{idle:!0});case X.Yk.UNSET_USER_AS_IDLE:return Object.assign({},d,{idle:!1});case Do.REHYDRATE:return Object.assign({},d,{blocking:!0});default:return d}},"json/patch":function lT(d=TP,y){switch(y.type){case Ar.Ce.COMMIT_JSON_PATCH_OPERATIONS:return function OP(d,y){return(0,G.a4)(d[y.payload.resourceType])&&d[y.payload.resourceType].commitPending?Object.assign({},d,{[y.payload.resourceType]:Object.assign({},d[y.payload.resourceType],{commitPending:!1})}):d}(d,y);case Ar.Ce.FLUSH_JSON_PATCH_OPERATIONS:return function hT(d,y){if((0,G.a4)(d[y.payload.resourceType])){let o;return(0,G.EA)(y.payload.resourceId)?o=(0,G.a4)(d[y.payload.resourceType].children)&&(0,G.a4)(d[y.payload.resourceType].children[y.payload.resourceId])?Object.assign({},d[y.payload.resourceType].children,{[y.payload.resourceId]:{body:d[y.payload.resourceType].children[y.payload.resourceId].body.filter(c=>c.timeCompleted>d[y.payload.resourceType].transactionStartTime)}}):d[y.payload.resourceType].children:(o=d[y.payload.resourceType].children,Object.keys(o).forEach(c=>{o=Object.assign({},o,{[c]:{body:o[c].body.filter(O=>O.timeCompleted>d[y.payload.resourceType].transactionStartTime)}})})),Object.assign({},d,{[y.payload.resourceType]:Object.assign({},d[y.payload.resourceType],{children:o,transactionStartTime:null})})}return d}(d,y);case Ar.Ce.NEW_JSON_PATCH_ADD_OPERATION:case Ar.Ce.NEW_JSON_PATCH_COPY_OPERATION:case Ar.Ce.NEW_JSON_PATCH_MOVE_OPERATION:case Ar.Ce.NEW_JSON_PATCH_REMOVE_OPERATION:case Ar.Ce.NEW_JSON_PATCH_REPLACE_OPERATION:return function pp(d,y){const o=Object.assign({},d),c=function uT(d,y,o){return(0,G.a4)(d[y])&&(0,G.a4)(d[y].children)&&(0,G.a4)(d[y].children[o])&&(0,G.hj)(d[y].children[o].body)}(o,y.payload.resourceType,y.payload.resourceId)?o[y.payload.resourceType].children[y.payload.resourceId].body:Array.of(),O=function pT(d,y,o,c,O){const W=Array.from(d);switch(y){case Ar.Ce.NEW_JSON_PATCH_ADD_OPERATION:W.push(S_({op:lm.add,path:o,value:c}));break;case Ar.Ce.NEW_JSON_PATCH_REPLACE_OPERATION:W.push(S_({op:lm.replace,path:o,value:c}));break;case Ar.Ce.NEW_JSON_PATCH_REMOVE_OPERATION:W.push(S_({op:lm.remove,path:o}));break;case Ar.Ce.NEW_JSON_PATCH_MOVE_OPERATION:W.push(S_({op:lm.move,from:O,path:o}))}return function fT(d){const y=new Map;for(let o=d.length-1;o>=0;o--){const c=d[o].operation,O=`${c.op}-${c.path}`;y.has(O)?y.get(O)-1===o&&(d.splice(o,1),y.set(O,o)):y.set(O,o)}return d}(W)}(c,y.type,y.payload.path,(0,G.a4)(y.payload.value)?y.payload.value:null,(0,G.a4)(y.payload.from)?y.payload.from:null);return(0,G.a4)(o[y.payload.resourceType])&&(0,G.a4)(o[y.payload.resourceType].children)?Object.assign({},d,{[y.payload.resourceType]:Object.assign({},d[y.payload.resourceType],{children:Object.assign({},d[y.payload.resourceType].children,{[y.payload.resourceId]:{body:O}}),commitPending:!!(0,G.EA)(d[y.payload.resourceType].commitPending)&&d[y.payload.resourceType].commitPending})}):Object.assign({},d,{[y.payload.resourceType]:Object.assign({},{children:{[y.payload.resourceId]:{body:O}},transactionStartTime:null,commitPending:!1})})}(d,y);case Ar.Ce.ROLLBACK_JSON_PATCH_OPERATIONS:return function M_(d,y){return(0,G.a4)(d[y.payload.resourceType])&&d[y.payload.resourceType].commitPending?Object.assign({},d,{[y.payload.resourceType]:Object.assign({},d[y.payload.resourceType],{transactionStartTime:null,commitPending:!1})}):d}(d,y);case Ar.Ce.START_TRANSACTION_JSON_PATCH_OPERATIONS:return function DP(d,y){return(0,G.a4)(d[y.payload.resourceType])&&(0,G.kZ)(d[y.payload.resourceType].transactionStartTime)?Object.assign({},d,{[y.payload.resourceType]:Object.assign({},d[y.payload.resourceType],{transactionStartTime:y.payload.startTime,commitPending:!0})}):d}(d,y);case Ar.Ce.DELETE_PENDING_JSON_PATCH_OPERATIONS:return null;case Ar.Ce.FLUSH_JSON_PATCH_OPERATION:return function dT(d,y){const o=y.payload;if(d[o.resourceType]&&d[o.resourceType].children){const c=d[o.resourceType].children[o.resourceId].body,O=c.filter(Ie=>Ie.operation.path===o.path)[0],W=c.indexOf(O),ue=[...c];return ue.splice(W,1),Object.assign({},d,{[y.payload.resourceType]:Object.assign({},{children:{[y.payload.resourceId]:{body:ue}}})})}return d}(d,y);default:return d}},metaTag:(d=fp,y)=>{switch(y.type){case I_.ADD:return((d,y)=>({tagsInUse:[...d.tagsInUse,y.payload]}))(d,y);case I_.CLEAR:return Object.assign({},fp);default:return d}},route:function vT(d=wy,y){switch(y.type){case Ac.HH.RESET:return wy;case Ac.HH.SET_PARAMETERS:return yT(d,y,"params");case Ac.HH.SET_QUERY_PARAMETERS:return yT(d,y,"queryParams");case Ac.HH.ADD_PARAMETER:return xy(d,y,"params");case Ac.HH.ADD_QUERY_PARAMETER:return xy(d,y,"queryParams");case Ac.HH.SET_PARAMETER:return IP(d,y,"params");case Ac.HH.SET_QUERY_PARAMETER:return IP(d,y,"queryParams");default:return d}}};var Ly=n(88091),cm=n(59752);let ET=(()=>{class d extends Ly.f{constructor(o,c,O){super(),this.document=o,this.routeService=c,this.hardRedirectService=O}getReferrer(){return this.routeService.getHistory().pipe((0,xt.T)(o=>{const c=o[o.length-1];if((0,G.Tn)(c)||o.every(O=>O===c))return this.document.referrer;{const W=[...o].reverse().find(ue=>ue!==c);return new Yl.t(this.hardRedirectService.getCurrentOrigin(),W).toString()}}))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(f.qQ),e.KVO(Bu.v$),e.KVO(cm.$))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const CT=new e.nKC("Location");let dm=(()=>{class d extends cm.${constructor(o){super(),this.location=o}redirect(o){this.location.replace(o)}getCurrentRoute(){return this.location.pathname+this.location.search}getCurrentOrigin(){return this.location.origin}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(CT))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),bT=(()=>{class d extends g0{constructor(o,c){super(),this._document=o,this._window=c,this.mathJaxOptions={tex:{inlineMath:[["$","$"],["$$","$$"],["\\(","\\)"]]},svg:{fontCache:"global"},startup:{typeset:!1}},this.mathJax={source:"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js",id:"MathJaxScript"},this.mathJaxFallback={source:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-chtml.min.js",id:"MathJaxBackupScript"},this.isReady$=new _.t(!1),this.registerMathJaxAsync(this.mathJax).then(()=>this.isReady$.next(!0)).catch(O=>{this.registerMathJaxAsync(this.mathJaxFallback).then(()=>this.isReady$.next(!0))})}registerMathJaxAsync(o){var c=this;return(0,m.A)(function*(){return A.c.markdown.mathjax?new Promise((O,W)=>{const ue=c._document.createElement("script");ue.type="text/javascript",ue.text=`MathJax = ${JSON.stringify(c.mathJaxOptions)};`,c._document.head.appendChild(ue);const Ie=c._document.createElement("script");Ie.id=o.id,Ie.type="text/javascript",Ie.src=o.source,Ie.crossOrigin="anonymous",Ie.async=!0,Ie.onload=()=>O(),Ie.onerror=rt=>W(rt),c._document.head.appendChild(Ie)}):Promise.resolve()})()}ready(){return this.isReady$}render(o){if(A.c.markdown.mathjax)return window.MathJax.typesetPromise([o])}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(f.qQ),e.KVO(D.lc))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),RP=(()=>{class d extends b_{initXSRFToken(o){return()=>new Promise(c=>{o.get(new Ib.F("/security/csrf").toString(),void 0).pipe((0,T.s)(1)).subscribe(()=>{this.tokenInitialized$.next(!0)}),c()})}static{this.\u0275fac=(()=>{let o;return function(O){return(o||(o=e.xGo(d)))(O||d)}})()}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var AP=n(84418),fa=n.n(AP),mp=n(61889),wP=n.n(mp),xP=n(74449),TT=n(34826),Ny=n(49844);const Fy="orejime-anonymous",hm="google-analytics",P_="dspace.agreements.cookies",DT=new e.nKC("Lazily loaded Orejime",{providedIn:"root",factory:(d=(0,m.A)(function*(){return yield n.e(4691).then(n.t.bind(n,34691,23))}),function(){return d.apply(this,arguments)})});var d;let jP=(()=>{class d extends Ny.B{constructor(o,c,O,W,ue,Ie,rt){super(),this._window=o,this.translateService=c,this.authService=O,this.ePersonService=W,this.configService=ue,this.cookieService=Ie,this.lazyOrejime=rt,this.GOOGLE_ANALYTICS_KEY="google.analytics.key",this.REGISTRATION_VERIFICATION_ENABLED_KEY="registration.verification.enabled",this.GOOGLE_ANALYTICS_SERVICE_NAME="google-analytics",this.orejimeConfig=fa()(function LP(d){return{cookieName:Fy,privacyPolicy:"./info/privacy",cookieExpiresAfterDays:365,lang:"zz",appElement:"ds-app",stringifyCookie:y=>"string"==typeof y?y:JSON.stringify(y),parseCookie:y=>"string"==typeof y?(y=decodeURIComponent(y),JSON.parse(y)):y,translations:{zz:{acceptAll:"cookies.consent.accept-all",acceptSelected:"cookies.consent.accept-selected",close:"cookies.consent.close",consentModal:{title:"cookies.consent.content-modal.title",description:"cookies.consent.content-modal.description",privacyPolicy:{name:"cookies.consent.content-modal.privacy-policy.name",text:"cookies.consent.content-modal.privacy-policy.text"}},consentNotice:{changeDescription:"cookies.consent.update",description:"cookies.consent.content-notice.description",learnMore:"cookies.consent.content-notice.learnMore"},decline:"cookies.consent.decline",declineAll:"cookies.consent.decline-all",accept:"cookies.consent.ok",save:"cookies.consent.save",purposes:{},app:{optOut:{description:"cookies.consent.app.opt-out.description",title:"cookies.consent.app.opt-out.title"},purpose:"cookies.consent.app.purpose",purposes:"cookies.consent.app.purposes",required:{title:"cookies.consent.app.required.title",description:"cookies.consent.app.required.description"}}}},apps:[{name:"authentication",purposes:["functional"],required:!0,cookies:[Ym.R,p.of,p.kL]},{name:"preferences",purposes:["functional"],required:!0,cookies:[yc.m4]},{name:"acknowledgement",purposes:["functional"],required:!0,cookies:[[/^orejime-.+$/],"dsHasAgreedEndUser"]},{name:hm,purposes:["statistical"],required:!1,cookies:[[/^_ga.?$/],[/^_gid$/]],onlyOnce:!0},{name:TT.BA,purposes:["registration-password-recovery"],required:!1,cookies:[TT.oL],callback:y=>{d?.nativeWindow.refreshCaptchaScript?.call()},onlyOnce:!0}]}}(this._window))}initialize(){A.c.info.enablePrivacyStatement||(this.orejimeConfig.translations.zz.consentModal.privacyPolicy.text="cookies.consent.content-modal.no-privacy-policy.text");const o=this.configService.findByPropertyName(this.GOOGLE_ANALYTICS_KEY).pipe((0,js.qD)(),(0,xt.T)(Ie=>!Ie.hasSucceeded||!Ie.payload||(0,G.Im)(Ie.payload.values))),c=this.configService.findByPropertyName(this.REGISTRATION_VERIFICATION_ENABLED_KEY).pipe((0,js.qD)(),(0,xt.T)(Ie=>!Ie.hasSucceeded||!Ie.payload||(0,G.Im)(Ie.payload.values)||"true"!==Ie.payload.values[0].toLowerCase())),O=(0,Ko.z)([o,c]).pipe((0,xt.T)(([Ie,rt])=>{const kt=[];return Ie&&kt.push(this.GOOGLE_ANALYTICS_SERVICE_NAME),rt&&kt.push(TT.BA),kt}));this.translateService.setDefaultLang(A.c.defaultLanguage);const W=this.getUser$(),ue=this.translateService.get("loading.default").pipe((0,T.s)(1));(0,Ko.z)([W,O,ue]).subscribe(([Ie,rt,kt])=>{Ie=fa()(Ie),(0,G.a4)(Ie)&&this.initializeUser(Ie),this.addAppMessages(),this.createCategories(),this.translateConfiguration(),this.orejimeConfig.apps=this.filterConfigApps(rt),this.lazyOrejime.then(({init:Cn})=>{this.orejimeInstance=Cn(this.orejimeConfig)})})}getSavedPreferences(){return this.getUser$().pipe((0,xt.T)(o=>{let c;return c=(0,G.Im)(o)?Fy:this.getStorageName(o.uuid),this.cookieService.get(c)}))}initializeUser(o){this.orejimeConfig.callback=wP()((O,W)=>this.updateSettingsForUsers(o),300),this.orejimeConfig.cookieName=this.getStorageName(o.uuid);const c=this.cookieService.get(Fy);(0,G.a4)(this.getSettingsForUser(o))?this.restoreSettingsForUsers(o):(0,G.a4)(c)&&(this.cookieService.set(this.getStorageName(o.uuid),c),this.updateSettingsForUsers(o))}getUser$(){return this.authService.isAuthenticated().pipe((0,T.s)(1),(0,ks.n)(o=>o?this.authService.getAuthenticatedUserFromStore():(0,Is.of)(void 0)),(0,T.s)(1))}getTitleTranslation(o){return"cookies.consent.app.title."+o}getDescriptionTranslation(o){return"cookies.consent.app.description."+o}getPurposeTranslation(o){return"cookies.consent.purpose."+o}showSettings(){this.orejimeInstance.show()}addAppMessages(){this.orejimeConfig.apps.forEach(o=>{this.orejimeConfig.translations.zz[o.name]={title:this.getTitleTranslation(o.name),description:this.getDescriptionTranslation(o.name)},o.purposes.forEach(c=>{this.orejimeConfig.translations.zz.purposes[c]=this.getPurposeTranslation(c)})})}translateConfiguration(){this.translateService.setDefaultLang(A.c.defaultLanguage),this.translate(this.orejimeConfig.translations.zz)}createCategories(){this.orejimeConfig.categories=this.orejimeConfig.apps.reduce((o,c)=>{let O=o.find(W=>W.name===c.purposes[0]);return O||(O={name:c.purposes[0],title:this.translateService.instant(this.getPurposeTranslation(c.purposes[0])),apps:[]},o.push(O)),O.apps.push(c.name),o},[])}translate(o){return"string"==typeof o?this.translateService.instant(o):(Object.entries(o).forEach(([c,O])=>{o[c]=this.translate(O)}),o)}getSettingsForUser(o){const c=o.firstMetadataValue(P_);return(0,G.a4)(c)?JSON.parse(c):void 0}setSettingsForUser(o,c){(0,G.hj)(c)?o.setMetadata(P_,void 0,JSON.stringify(c)):o.removeMetadata(P_),this.ePersonService.createPatchFromCache(o).pipe((0,T.s)(1),(0,ks.n)(O=>(0,G.hj)(O)?this.ePersonService.patch(o,O):(0,Is.of)(void 0))).subscribe()}restoreSettingsForUsers(o){this.cookieService.set(this.getStorageName(o.uuid),this.getSettingsForUser(o))}updateSettingsForUsers(o){this.setSettingsForUser(o,this.cookieService.get(this.getStorageName(o.uuid)))}getStorageName(o){return"orejime-"+o}filterConfigApps(o){return this.orejimeConfig.categories.forEach(c=>{c.apps=c.apps.filter(O=>!o.some(W=>W===O))}),this.orejimeConfig.categories=this.orejimeConfig.categories.filter(c=>c.apps.length>0),this.orejimeConfig.apps.filter(c=>!o.some(O=>O===c.name))}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(D.lc),e.KVO(K.c$),e.KVO(p.uR),e.KVO(xP.EPersonDataService),e.KVO(Ma.ConfigurationDataService),e.KVO(Dd.O),e.KVO(DT))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var R_=n(25543);let pm=(()=>{class d{constructor(o,c,O,W,ue){this.googleAnalytics=o,this.googleGlobalSiteTag=c,this.orejimeService=O,this.configService=W,this.document=ue}addTrackingIdToPage(){const o=this.configService.findByPropertyName("google.analytics.key").pipe((0,js.qD)()),c=this.orejimeService.getSavedPreferences();(0,Ko.z)([c,o]).subscribe(([O,W])=>{if((0,G.Im)(O)||(0,G.Im)(O[hm])||!O[hm]||!W.hasSucceeded)return;const ue=W.payload.values[0];if(!(0,G.Im)(ue))if(this.isGTagVersion(ue)){const Ie=this.document.createElement("script");Ie.src=`https://www.googletagmanager.com/gtag/js?id=${ue}`,this.document.body.appendChild(Ie);const rt=this.document.createElement("script");rt.innerHTML=`window.dataLayer = window.dataLayer || [];function gtag(){window.dataLayer.push(arguments);}\n                               gtag('js', new Date());gtag('config', '${ue}');`,this.document.body.appendChild(rt),this.googleGlobalSiteTag.startTracking()}else{const Ie=this.document.createElement("script");Ie.innerHTML=`(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n                              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n                              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n                              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n                              ga('create', '${ue}', 'auto');`,this.document.body.appendChild(Ie),this.googleAnalytics.startTracking()}})}isGTagVersion(o){return o&&o.startsWith("G-")}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Bi.Z1),e.KVO(Bi.RH),e.KVO(Ny.B),e.KVO(Ma.ConfigurationDataService),e.KVO(f.qQ))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();var w2=n(59540);const kP=(0,e.zw6)("NGX_TRANSLATE_STATE");class OT{constructor(y,o,c,O){this.transferState=y,this.http=o,this.prefix=c,this.suffix=O}getTranslation(y){const c=this.transferState.get(kP,{})[y];return(0,G.a4)(c)?(0,Is.of)(c):this.http.get(`${this.prefix}${y}${A.c.production?`.${{"ar.json5":"dbd078a71f57a0ebfad9c5303bcc6128","bn.json5":"ba2d1da4505a1f8178e619fc9e6490e7","ca.json5":"11de06249b5d143c71d0153b536b5aa8","cs.json5":"3a4747d54aa34f047ea87162c13c86e1","de.json5":"a05ac4b5b669d69bb9471f9fb3427876","el.json5":"e4495a51dcb15d8a16c1a29ac417cee4","en.json5":"4e92356f1070fa9129a1ff42b49a43e6","es.json5":"ae10725f9206a1e25d1416e4ccc8c333","fi.json5":"584e439c1a24ef320a2466bab7d35f36","fr.json5":"6f996e786632e8fbbf9caf8de74cb064","gd.json5":"3bc9f8df9b6ee7e53d5aa0706b780695","hi.json5":"1b533df28271b051cacc25f6e580562e","hu.json5":"a1c5c634800476a986d0379094175eb0","it.json5":"d4e178f1374bd55f7108cfe05081bbba","ja.json5":"ca46d7f920980545b3bdd6aa7fbe9763","kk.json5":"015e399e3398b8cb449ebb204a089177","lv.json5":"bba7da6bf941042b8c414c200a5b45e0","nl.json5":"7cc176891621b5da0d69558be11d7d73","pl.json5":"a5ce64376fe070d338b1b21a3f0e768d","pt-BR.json5":"8584f5529033bbeced01d2c33a8673a7","pt-PT.json5":"9faf05bc5ad0cac2853293c3218a7066","sr-cyr.json5":"0dc32a086feb3b7bf1c90e43a3ab5ef3","sr-lat.json5":"85e2e8a278d94f8dd03ce82807c15882","sv.json5":"33c1183ab2158147ebf56a05dcb23e68","sw.json5":"7f19b77a00d2930d9a5cac60d55949e7","tr.json5":"dca8a85af7c266911adf8d53a14d98bd","uk.json5":"796adf811d8fdb4c7a46540f8d8794aa","vi.json5":"121a02a78613a6a7e71da7975a42b8c2"}[y+".json5"]}`:""}${this.suffix}`,{responseType:"text"}).pipe((0,xt.T)(W=>JSON.parse(W)))}}var eh=n(9350);function MT(d,y){const o="object"==typeof y;return new Promise((c,O)=>{let ue,W=!1;d.subscribe({next:Ie=>{ue=Ie,W=!0},error:O,complete:()=>{W?c(ue):o?c(y.defaultValue):O(new eh.G)}})})}var ST=n(47707);var GP=n(92688);const Uy=d=>y=>y.pipe((0,ks.n)(o=>(0,G.a4)(o)?d.isAuthorized(Dr._.CanDownload,o.self).pipe((0,xt.T)(c=>c?o:null)):(0,Is.of)(null))),IT=(0,E.Mz)(C_.N,d=>d.metaTag),PT=(0,E.Mz)(IT,d=>d.tagsInUse);let RT=(()=>{class d{constructor(o,c,O,W,ue,Ie,rt,kt,Cn,mn,ds){this.router=o,this.translate=c,this.meta=O,this.title=W,this.dsoNameService=ue,this.bundleDataService=Ie,this.rootService=rt,this.store=kt,this.hardRedirectService=Cn,this.appConfig=mn,this.authorizationService=ds,this.currentObject=new _.t(void 0),this.CITATION_PDF_URL_MIMETYPES=["application/pdf","application/postscript","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/rtf","application/epub+zip"]}listenForRouteChange(){this.setGenerator(),this.router.events.pipe((0,Wn.p)(o=>o instanceof v.wF),(0,xt.T)(()=>this.router.routerState.root),(0,xt.T)(o=>({params:(o=this.getCurrentRoute(o)).params,data:o.data}))).subscribe(o=>{this.processRouteChange(o)})}processRouteChange(o){if(this.clearMetaTags(),(0,G.a4)(o.data.value.dso)&&(0,G.a4)(o.data.value.dso.payload)&&(this.currentObject.next(o.data.value.dso.payload),this.setDSOMetaTags()),o.data.value.title){const c=this.translate.get("repository.title.prefix"),O=this.translate.get(o.data.value.title,o.data.value);(0,Ko.z)([c,O]).pipe((0,T.s)(1)).subscribe(([W,ue])=>{this.addMetaTag("title",W+ue),this.title.setTitle(W+ue)})}o.data.value.description&&this.translate.get(o.data.value.description).pipe((0,T.s)(1)).subscribe(c=>{this.addMetaTag("description",c)})}getCurrentRoute(o){for(;o.firstChild;)o=o.firstChild;return o}setDSOMetaTags(){this.setTitleTag(),this.setDescriptionTag(),this.setCitationTitleTag(),this.setCitationAuthorTags(),this.setCitationPublicationDateTag(),this.setCitationISSNTag(),this.setCitationISBNTag(),this.setCitationLanguageTag(),this.setCitationKeywordsTag(),this.setCitationAbstractUrlTag(),this.setCitationPdfUrlTag(),this.setCitationPublisherTag(),this.isDissertation()&&this.setCitationDissertationNameTag()}setTitleTag(){const o=this.dsoNameService.getName(this.currentObject.getValue());this.addMetaTag("title",o),this.title.setTitle(o)}setDescriptionTag(){const o=this.getMetaTagValue("dc.description.abstract");this.addMetaTag("description",o)}setCitationTitleTag(){const o=this.getMetaTagValue("dc.title");this.addMetaTag("citation_title",o)}setCitationAuthorTags(){const o=this.getMetaTagValues(["dc.author","dc.contributor.author","dc.creator"]);this.addMetaTags("citation_author",o)}setCitationPublicationDateTag(){const o=this.getFirstMetaTagValue(["dc.date.copyright","dc.date.issued","dc.date.available","dc.date.accessioned"]);this.addMetaTag("citation_publication_date",o)}setCitationISSNTag(){const o=this.getMetaTagValue("dc.identifier.issn");this.addMetaTag("citation_issn",o)}setCitationISBNTag(){const o=this.getMetaTagValue("dc.identifier.isbn");this.addMetaTag("citation_isbn",o)}setCitationLanguageTag(){const o=this.getFirstMetaTagValue(["dc.language","dc.language.iso"]);this.addMetaTag("citation_language",o)}setCitationDissertationNameTag(){const o=this.getMetaTagValue("dc.title");this.addMetaTag("citation_dissertation_name",o)}setCitationPublisherTag(){const o=this.getMetaTagValue("dc.publisher");this.isDissertation()?this.addMetaTag("citation_dissertation_institution",o):this.isTechReport()?this.addMetaTag("citation_technical_report_institution",o):this.addMetaTag("citation_publisher",o)}setCitationKeywordsTag(){const o=this.getMetaTagValuesAndCombine("dc.subject");this.addMetaTag("citation_keywords",o)}setCitationAbstractUrlTag(){if(this.currentObject.value instanceof nd.q){let o=this.getMetaTagValue("dc.identifier.uri");(0,G.Tn)(o)&&(o=new Yl.t(this.hardRedirectService.getCurrentOrigin(),this.router.url).toString()),this.addMetaTag("citation_abstract_html_url",o)}}setCitationPdfUrlTag(){this.currentObject.value instanceof nd.q&&this.bundleDataService.findByItemAndName(this.currentObject.value,"ORIGINAL",!0,!0,new z1._,(0,Ws.s)("primaryBitstream"),(0,Ws.s)("bitstreams",{findListOptions:{elementsPerPage:this.appConfig.item.bitstream.pageSize}},(0,Ws.s)("format"))).pipe((0,js.ak)(),(0,ks.n)(c=>c.primaryBitstream.pipe((0,js.qD)(),(0,xt.T)(O=>(0,G.a4)(O.payload)?O.payload:null),Uy(this.authorizationService),(0,xt.T)(O=>[c,O]))),(0,ks.n)(([c,O])=>(0,G.a4)(O)?[(0,ar.hV)(O)]:c.bitstreams.pipe((0,js.qD)(),(0,ks.n)(W=>(0,G.a4)(W.payload)&&1===W.payload.totalElements?this.getBitLinkIfDownloadable(W.payload.page[0],W):this.getFirstAllowedFormatBitstreamLink(W)))),(0,T.s)(1)).subscribe(c=>{this.addMetaTag("citation_pdf_url",new Yl.t(this.hardRedirectService.getCurrentOrigin(),c).toString())})}getBitLinkIfDownloadable(o,c){return(0,Is.of)(o).pipe(Uy(this.authorizationService),(0,ks.n)(O=>(0,G.a4)(O)?[(0,ar.hV)(O)]:this.getFirstAllowedFormatBitstreamLink(c)))}getFirstAllowedFormatBitstreamLink(o){return(0,G.a4)(o.payload)&&(0,G.hj)(o.payload.page)?(0,GP.x)(...o.payload.page.map(c=>c.format.pipe((0,js.ak)(),(0,xt.T)(O=>[c,O])))).pipe((0,Qn.Z)(([c,O])=>(0,Is.of)(c).pipe(Uy(this.authorizationService),(0,xt.T)(W=>[W,O]))),(0,Wn.p)(([c,O])=>(0,G.a4)(O)&&(0,G.a4)(c)&&this.CITATION_PDF_URL_MIMETYPES.includes(O.mimetype)),(0,T.s)(1),(0,xt.T)(([c,O])=>(0,ar.hV)(c))):Br.w}setGenerator(){this.rootService.findRoot().pipe((0,js.ak)()).subscribe(o=>{this.meta.addTag({name:"Generator",content:o.dspaceVersion})})}hasType(o){return this.currentObject.value.hasMetadata("dc.type",{value:o,ignoreCase:!0})}isDissertation(){return this.hasType("thesis")}isTechReport(){return this.hasType("technical report")}getMetaTagValue(o){return this.currentObject.value.firstMetadataValue(o)}getFirstMetaTagValue(o){return this.currentObject.value.firstMetadataValue(o)}getMetaTagValuesAndCombine(o){return this.getMetaTagValues([o]).join("; ")}getMetaTagValues(o){return this.currentObject.value.allMetadataValues(o)}addMetaTag(o,c){c&&(this.meta.addTag({name:o,content:c}),this.storeTag(o))}addMetaTags(o,c){for(const O of c)this.addMetaTag(o,O)}storeTag(o){this.store.dispatch(new MP(o))}clearMetaTags(){this.store.pipe((0,E.Lt)(PT),(0,T.s)(1)).subscribe(o=>{for(const c of o)this.meta.removeTag("name='"+c+"'");this.store.dispatch(new SP)})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(v.Ix),e.KVO(K.c$),e.KVO(h.W8),e.KVO(h.hE),e.KVO(Fs.f),e.KVO(Ku.BundleDataService),e.KVO(_d.RootDataService),e.KVO(E.il),e.KVO(cm.$),e.KVO(si.vQ),e.KVO(lc.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var ky=n(87152),AT=n(60654),$P=n(20930),WP=n(43733);const wT=new oi.v("duplicate");var KP=n(17860),xT=n(61196),LT=n(54949),NT=n(6291);const FT=new oi.v("feedback");var HP=n(1259),zP=n(51934),L2=n(178),BT=n(71077),N2=n(88985),F2=n(96470),B2=n(92174),j2=n(87369),U2=n(2527),k2=n(72364),V2=n(39147),G2=n(49623),jT=n(17133),$2=n(80284),Vy=n(84276);let cd=class extends $l.I{static{this.type=new oi.v("correctiontype")}};(0,Ue.Cg)([No.aK,vn.autoserialize,(0,Ue.Sn)("design:type",oi.v)],cd.prototype,"type",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],cd.prototype,"id",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],cd.prototype,"topic",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],cd.prototype,"discoveryConfiguration",void 0),(0,Ue.Cg)([vn.autoserialize,(0,Ue.Sn)("design:type",String)],cd.prototype,"creationForm",void 0),(0,Ue.Cg)([vn.deserialize,(0,Ue.Sn)("design:type",Object)],cd.prototype,"_links",void 0),cd=(0,Ue.Cg)([ii.gV],cd);var fm=n(92946),mm=n(22822),YP=n(26147);const XP=new Map([[Qm.value,()=>Promise.resolve().then(n.bind(n,65007)).then(d=>d.AuthorizationDataService)],[j2.z.value,()=>Promise.resolve().then(n.bind(n,42673)).then(d=>d.BrowseDefinitionDataService)],[Kl.XI.value,()=>n.e(2719).then(n.bind(n,82719)).then(d=>d.BulkAccessConfigDataService)],[zP.M.value,()=>n.e(8290).then(n.bind(n,58290)).then(d=>d.MetadataSchemaDataService)],[Kl.V_.value,()=>n.e(1345).then(n.bind(n,51345)).then(d=>d.SubmissionUploadsConfigDataService)],[F2.e.value,()=>Promise.resolve().then(n.bind(n,42578)).then(d=>d.BitstreamDataService)],[Kl.NS.value,()=>n.e(4319).then(n.bind(n,4319)).then(d=>d.SubmissionAccessesConfigDataService)],[xT.B.value,()=>Promise.resolve().then(n.bind(n,27795)).then(d=>d.SystemWideAlertDataService)],[Vy.N.value,()=>n.e(2076).then(n.bind(n,41516)).then(d=>d.UsageReportDataService)],[ME.E.value,()=>Promise.resolve().then(n.bind(n,45022)).then(d=>d.AccessStatusDataService)],[qp.n.value,()=>Promise.resolve().then(n.bind(n,6983)).then(d=>d.CollectionDataService)],[mm.a.value,()=>Promise.resolve().then(n.bind(n,12532)).then(d=>d.ClaimedTaskDataService)],[Pu.mt.value,()=>Promise.resolve().then(n.bind(n,70413)).then(d=>d.HrefOnlyDataService)],[G2.N.value,()=>Promise.resolve().then(n.bind(n,70413)).then(d=>d.HrefOnlyDataService)],[Zm.m.value,()=>Promise.resolve().then(n.bind(n,70413)).then(d=>d.HrefOnlyDataService)],[KP.m.value,()=>n.e(2355).then(n.bind(n,62355)).then(d=>d.SubscriptionsDataService)],[k2.G.value,()=>Promise.resolve().then(n.bind(n,46660)).then(d=>d.CommunityDataService)],[Pu.Hx.value,()=>Promise.resolve().then(n.bind(n,59081)).then(d=>d.VocabularyDataService)],[U2.d.value,()=>Promise.resolve().then(n.bind(n,81443)).then(d=>d.BundleDataService)],[jE.value,()=>Promise.resolve().then(n.bind(n,8917)).then(d=>d.ConfigurationDataService)],[YP.T.value,()=>Promise.resolve().then(n.bind(n,28515)).then(d=>d.PoolTaskDataService)],[mm.a.value,()=>Promise.resolve().then(n.bind(n,12532)).then(d=>d.ClaimedTaskDataService)],[t0.T.value,()=>Promise.resolve().then(n.bind(n,66129)).then(d=>d.SupervisionOrderDataService)],[NT.l.value,()=>Promise.resolve().then(n.bind(n,24261)).then(d=>d.WorkspaceitemDataService)],[LT.z.value,()=>Promise.resolve().then(n.bind(n,52837)).then(d=>d.WorkflowItemDataService)],[Pu.Hx.value,()=>Promise.resolve().then(n.bind(n,59081)).then(d=>d.VocabularyDataService)],[Pu.cK.value,()=>Promise.resolve().then(n.bind(n,75955)).then(d=>d.VocabularyEntryDetailsDataService)],[KO.value,()=>n.e(9914).then(n.bind(n,79914)).then(d=>d.SubmissionCcLicenseUrlDataService)],[fm.Q.value,()=>n.e(3138).then(n.bind(n,73138)).then(d=>d.SubmissionCcLicenseDataService)],[Vy.N.value,()=>n.e(2076).then(n.bind(n,41516)).then(d=>d.UsageReportDataService)],[N2.O.value,()=>n.e(5521).then(n.bind(n,25521)).then(d=>d.ResourcePolicyDataService)],[BT.T.value,()=>Promise.resolve().then(n.bind(n,98926)).then(d=>d.ResearcherProfileDataService)],[Jm.value,()=>n.e(2076).then(n.bind(n,53067)).then(d=>d.OrcidQueueDataService)],[Zp.value,()=>n.e(2076).then(n.bind(n,52326)).then(d=>d.OrcidHistoryDataService)],[FT.value,()=>n.e(2076).then(n.bind(n,10241)).then(d=>d.FeedbackDataService)],[e0.U.value,()=>Promise.resolve().then(n.bind(n,44494)).then(d=>d.GroupDataService)],[LE.N.value,()=>Promise.resolve().then(n.bind(n,74449)).then(d=>d.EPersonDataService)],[WE.f.value,()=>Promise.resolve().then(n.bind(n,52749)).then(d=>d.WorkflowActionDataService)],[kv.s.value,()=>n.e(3860).then(n.bind(n,93860)).then(d=>d.VersionHistoryDataService)],[kE.value,()=>Promise.resolve().then(n.bind(n,5090)).then(d=>d.SiteDataService)],[UO.value,()=>Promise.resolve().then(n.bind(n,29443)).then(d=>d.RootDataService)],[$2.U.value,()=>Promise.resolve().then(n.bind(n,38096)).then(d=>d.RelationshipTypeDataService)],[jT.X.value,()=>Promise.resolve().then(n.bind(n,48833)).then(d=>d.RelationshipDataService)],[WP.M.value,()=>Promise.resolve().then(n.bind(n,32736)).then(d=>d.ScriptDataService)],[$P.A.value,()=>n.e(2076).then(n.bind(n,87414)).then(d=>d.ProcessDataService)],[HP.R.value,()=>n.e(2151).then(n.bind(n,22151)).then(d=>d.MetadataFieldDataService)],[Fh.U.value,()=>Promise.resolve().then(n.bind(n,29326)).then(d=>d.ItemDataService)],[Uv.x.value,()=>n.e(1783).then(n.bind(n,81783)).then(d=>d.VersionDataService)],[Cc.f.value,()=>n.e(2076).then(n.bind(n,90378)).then(d=>d.IdentifierDataService)],[Nv.value,()=>Promise.resolve().then(n.bind(n,65007)).then(d=>d.AuthorizationDataService)],[V2.X.value,()=>Promise.resolve().then(n.bind(n,13989)).then(d=>d.DSpaceObjectDataService)],[B2.a.value,()=>Promise.resolve().then(n.bind(n,4856)).then(d=>d.BitstreamFormatDataService)],[SE.value,()=>n.e(9184).then(n.bind(n,69184)).then(d=>d.CoarNotifyConfigDataService)],[qc.tc.value,()=>n.e(2076).then(n.bind(n,16734)).then(d=>d.LdnItemfiltersService)],[qc.zd.value,()=>Promise.resolve().then(n.bind(n,68630)).then(d=>d.LdnServicesService)],[AT.g.value,()=>Promise.resolve().then(n.bind(n,88857)).then(d=>d.AdminNotifyMessagesService)],[Kl.KX.value,()=>n.e(3928).then(n.bind(n,43928)).then(d=>d.SubmissionFormsConfigDataService)],[wO.value,()=>n.e(9380).then(n.bind(n,69380)).then(d=>d.NotifyRequestsStatusDataService)],[PE.value,()=>n.e(7450).then(n.bind(n,27450)).then(d=>d.QualityAssuranceEventDataService)],[RE.value,()=>Promise.resolve().then(n.bind(n,61723)).then(d=>d.QualityAssuranceSourceDataService)],[AE.value,()=>Promise.resolve().then(n.bind(n,31936)).then(d=>d.QualityAssuranceTopicDataService)],[L2.P.value,()=>Promise.resolve().then(n.bind(n,96687)).then(d=>d.SuggestionDataService)],[Lv.value,()=>n.e(3371).then(n.bind(n,43371)).then(d=>d.SuggestionSourceDataService)],[wE.value,()=>Promise.resolve().then(n.bind(n,94791)).then(d=>d.SuggestionTargetDataService)],[wT.value,()=>Promise.resolve().then(n.bind(n,69723)).then(d=>d.SubmissionDuplicateDataService)],[cd.type.value,()=>n.e(5447).then(n.bind(n,75447)).then(d=>d.CorrectionTypeDataService)]]),th=(d,y)=>[d,y];function JP(d,y){if(1&d){const o=e.RV6();e.j41(0,"label",3)(1,"input",4),e.bIt("blur",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onBlur(O))})("change",function(O){const W=e.eBV(o).$implicit,ue=e.XpG();return e.Njj(ue.onCheckboxChange(O,W))})("focus",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onFocus(O))}),e.k0s(),e.nrm(2,"span",5),e.k0s()}if(2&d){const o=y.$implicit,c=e.XpG();e.Y8G("hidden",o.hidden)("ngClass",c.getClass("element","control",o)),e.R7$(),e.Y8G("checked",o.checked)("formControlName",o.id)("id",c.getCheckboxId(o))("name",o.name)("required",o.required)("tabindex",o.tabIndex)("value",o.value),e.R7$(),e.Y8G("ngClass",c.getClass("element","label",o))("innerHTML",o.label,e.npT)}}function QP(d,y){if(1&d&&(e.j41(0,"div",6),e.nrm(1,"span",7),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("innerHTML",o.model.prefix,e.npT)}}function UT(d,y){if(1&d){const o=e.RV6();e.j41(0,"input",8),e.bIt("blur",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onBlur(O))})("change",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onChange(O))})("focus",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onFocus(O))}),e.k0s()}if(2&d){const o=e.XpG();e.AVh("is-invalid",o.showErrorMessages),e.Y8G("autocomplete",o.model.autoComplete)("autofocus",o.model.autoFocus)("dynamicList",o.model.listId)("formControlName",o.model.id)("id",o.id)("maxlength",o.model.maxLength)("minlength",o.model.minLength)("name",o.model.name)("ngClass",o.getClass("element","control"))("pattern",o.model.pattern)("placeholder",o.model.placeholder)("readonly",o.model.readOnly)("required",o.model.required)("spellcheck",o.model.spellCheck)("tabindex",o.model.tabIndex)("type",o.model.inputType),e.BMQ("accept",o.model.accept)("max",o.model.max)("min",o.model.min)("multiple",o.model.multiple)("step",o.model.step)}}function ZP(d,y){if(1&d){const o=e.RV6();e.j41(0,"input",9),e.bIt("blur",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onBlur(O))})("change",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onChange(O))})("focus",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onFocus(O))}),e.k0s()}if(2&d){const o=e.XpG();e.AVh("is-invalid",o.showErrorMessages),e.Y8G("autocomplete",o.model.autoComplete)("autofocus",o.model.autoFocus)("dynamicList",o.model.listId)("formControlName",o.model.id)("id",o.id)("maxlength",o.model.maxLength)("minlength",o.model.minLength)("name",o.model.name)("ngClass",o.getClass("element","control"))("pattern",o.model.pattern)("placeholder",o.model.placeholder)("readonly",o.model.readOnly)("required",o.model.required)("spellcheck",o.model.spellCheck)("tabindex",o.model.tabIndex)("mask",o.model.mask)("specialCharacters",null==o.model.maskConfig?null:o.model.maskConfig.specialCharacters)("patterns",null==o.model.maskConfig?null:o.model.maskConfig.patterns)("prefix",null==o.model.maskConfig?null:o.model.maskConfig.prefix)("suffix",null==o.model.maskConfig?null:o.model.maskConfig.suffix)("thousandSeparator",null==o.model.maskConfig?null:o.model.maskConfig.thousandSeparator)("decimalMarker",null==o.model.maskConfig?null:o.model.maskConfig.decimalMarker)("dropSpecialCharacters",null==o.model.maskConfig?null:o.model.maskConfig.dropSpecialCharacters)("hiddenInput",null==o.model.maskConfig?null:o.model.maskConfig.hiddenInput)("showMaskTyped",null==o.model.maskConfig?null:o.model.maskConfig.showMaskTyped)("placeHolderCharacter",null==o.model.maskConfig?null:o.model.maskConfig.placeHolderCharacter)("shownMaskExpression",null==o.model.maskConfig?null:o.model.maskConfig.shownMaskExpression)("showTemplate",null==o.model.maskConfig?null:o.model.maskConfig.showTemplate)("clearIfNotMatch",o.model.maskConfig.clearIfNotMatch)("validation",o.model.maskConfig.validation)("separatorLimit",o.model.maskConfig.separatorLimit)("allowNegativeNumbers",o.model.maskConfig.allowNegativeNumbers)("leadZeroDateTime",o.model.maskConfig.leadZeroDateTime)("type",o.model.inputType),e.BMQ("accept",o.model.accept)("max",o.model.max)("min",o.model.min)("multiple",o.model.multiple)("step",o.model.step)}}function qP(d,y){if(1&d&&(e.j41(0,"div",10),e.nrm(1,"span",7),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("innerHTML",o.model.suffix,e.npT)}}function eR(d,y){1&d&&e.nrm(0,"option",13),2&d&&e.Y8G("value",y.$implicit)}function tR(d,y){if(1&d&&(e.j41(0,"datalist",11),e.DNE(1,eR,1,1,"option",12),e.nI1(2,"async"),e.k0s()),2&d){const o=e.XpG();e.Y8G("id",o.model.listId),e.R7$(),e.Y8G("ngForOf",e.bMT(2,2,o.model.list$))}}function nR(d,y){if(1&d&&e.nrm(0,"legend",4),2&d){const o=e.XpG();e.Y8G("innerHTML",o.model.legend,e.npT)}}function sR(d,y){if(1&d){const o=e.RV6();e.j41(0,"label",5)(1,"input",6),e.bIt("blur",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onBlur(O))})("focus",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onFocus(O))}),e.k0s(),e.nrm(2,"span",4),e.k0s()}if(2&d){const o=y.$implicit,c=e.XpG();e.Y8G("ngClass",e.l_i(5,th,c.getClass("element","option"),c.getClass("grid","option"))),e.R7$(),e.Y8G("disabled",o.disabled)("name",c.model.name)("value",o.value),e.R7$(),e.Y8G("innerHTML",o.label,e.npT)}}function iR(d,y){if(1&d&&(e.j41(0,"option",3),e.EFF(1),e.k0s()),2&d){const o=y.$implicit;e.Y8G("disabled",o.disabled)("ngValue",o.value),e.R7$(),e.JRh(o.label)}}let Gy=(()=>{class d extends Ms.S6A{constructor(o,c,O){super(o,c),this.layoutService=o,this.validationService=c,this.config=O,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(o){return new(o||d)(e.rXU(Ms.fpj),e.rXU(Ms.STK),e.rXU(q.I5))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-calendar"]],viewQuery:function(o,c){if(1&o&&e.GBs(q.yB,7),2&o){let O;e.mGM(O=e.lsd())&&(c.ngbCalendar=O.first)}},inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:13,consts:[[3,"formGroup"],[3,"select","displayMonths","firstDayOfWeek","formControlName","id","maxDate","minDate","navigation","ngClass","outsideDays","showWeekNumbers","weekdays","startDate"]],template:function(o,c){1&o&&(e.qex(0,0),e.j41(1,"ngb-datepicker",1),e.bIt("select",function(W){return c.onChange(W)}),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",c.group),e.R7$(),e.Y8G("displayMonths",c.model.getAdditional("displayMonths",c.config.displayMonths))("firstDayOfWeek",c.model.getAdditional("firstDayOfWeek",c.config.firstDayOfWeek))("formControlName",c.model.id)("id",c.id)("maxDate",c.model.max)("minDate",c.model.min)("navigation",c.model.getAdditional("navigation",c.config.navigation))("ngClass",c.getClass("element","control"))("outsideDays",c.model.getAdditional("outsideDays",c.config.outsideDays))("showWeekNumbers",c.model.getAdditional("showWeekNumbers",c.config.showWeekNumbers))("weekdays",c.model.getAdditional("showWeekdays",c.config.weekdays))("startDate",c.model.focusedDate))},dependencies:[f.YU,ln.BC,ln.cb,ln.j4,ln.JD,q.yB],encapsulation:2,changeDetection:0}),d})(),A_=(()=>{class d extends Ms.S6A{constructor(o,c){super(o,c),this.layoutService=o,this.validationService=c,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(o){return new(o||d)(e.rXU(Ms.fpj),e.rXU(Ms.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-checkbox"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:4,vars:19,consts:[[1,"form-check",3,"formGroup"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"blur","change","focus","checked","formControlName","id","indeterminate","name","ngClass","required","tabindex","value"],[3,"innerHTML","ngClass"]],template:function(o,c){1&o&&(e.j41(0,"div",0)(1,"label",1)(2,"input",2),e.bIt("blur",function(W){return c.onBlur(W)})("change",function(W){return c.onChange(W)})("focus",function(W){return c.onFocus(W)}),e.k0s(),e.nrm(3,"span",3),e.k0s()()),2&o&&(e.AVh("disabled",c.model.disabled),e.Y8G("formGroup",c.group),e.R7$(2),e.AVh("is-invalid",c.showErrorMessages),e.Y8G("checked",c.model.checked)("formControlName",c.model.id)("id",c.id)("indeterminate",c.model.indeterminate)("name",c.model.name)("ngClass",c.getClass("element","control"))("required",c.model.required)("tabindex",c.model.tabIndex)("value",c.model.value),e.R7$(),e.Y8G("innerHTML",c.model.label,e.npT)("ngClass",e.l_i(16,th,c.getClass("element","label"),c.getClass("grid","label"))))},dependencies:[f.YU,ln.Zm,ln.BC,ln.cb,ln.xq,ln.j4,ln.JD],encapsulation:2}),d})(),$T=(()=>{class d extends Ms.S6A{constructor(o,c){super(o,c),this.layoutService=o,this.validationService=c,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}getCheckboxId(o){return this.layoutService.getElementId(o)}onCheckboxChange(o,c){this.onChange(o),c.value=o.target.checked}}return d.\u0275fac=function(o){return new(o||d)(e.rXU(Ms.fpj),e.rXU(Ms.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-checkbox-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:3,vars:5,consts:[[3,"formGroup"],["data-toggle","buttons",1,"btn-group","btn-group-toggle",3,"formGroupName","id","ngClass"],["ngbButtonLabel","",3,"hidden","ngClass",4,"ngFor","ngForOf"],["ngbButtonLabel","",3,"hidden","ngClass"],["type","checkbox","ngbButton","",3,"blur","change","focus","checked","formControlName","id","name","required","tabindex","value"],[3,"ngClass","innerHTML"]],template:function(o,c){1&o&&(e.qex(0,0),e.j41(1,"div",1),e.DNE(2,JP,3,11,"label",2),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",c.group),e.R7$(),e.Y8G("formGroupName",c.model.id)("id",c.id)("ngClass",c.getClass("element","control")),e.R7$(),e.Y8G("ngForOf",c.model.group))},dependencies:[f.YU,f.Sq,ln.Zm,ln.BC,ln.cb,ln.xq,ln.j4,ln.JD,ln.$R,q.so,q.b7],encapsulation:2,changeDetection:0}),d})(),KT=(()=>{class d extends Ms.S6A{constructor(o,c){super(o,c),this.layoutService=o,this.validationService=c,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(o){return new(o||d)(e.rXU(Ms.fpj),e.rXU(Ms.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-input"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:7,vars:8,consts:[["maskedInput",""],[3,"formGroup"],["class","input-group-prepend",4,"ngIf"],["class","form-control-file",3,"autocomplete","autofocus","is-invalid","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type","blur","change","focus",4,"ngIf","ngIfElse"],["class","input-group-append",4,"ngIf"],[3,"id",4,"ngIf"],[1,"input-group-prepend"],[1,"input-group-text",3,"innerHTML"],[1,"form-control-file",3,"blur","change","focus","autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type"],[1,"form-control",3,"blur","change","focus","autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","mask","specialCharacters","patterns","prefix","suffix","thousandSeparator","decimalMarker","dropSpecialCharacters","hiddenInput","showMaskTyped","placeHolderCharacter","shownMaskExpression","showTemplate","clearIfNotMatch","validation","separatorLimit","allowNegativeNumbers","leadZeroDateTime","type"],[1,"input-group-append"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,c){if(1&o&&(e.j41(0,"div",1),e.DNE(1,QP,2,1,"div",2)(2,UT,1,23,"input",3)(3,ZP,1,41,"ng-template",null,0,e.C5r)(5,qP,2,1,"div",4)(6,tR,3,4,"datalist",5),e.k0s()),2&o){const O=e.sdS(4);e.AVh("input-group",c.model.prefix||c.model.suffix),e.Y8G("formGroup",c.group),e.R7$(),e.Y8G("ngIf",c.model.prefix),e.R7$(),e.Y8G("ngIf","file"===c.model.inputType)("ngIfElse",O),e.R7$(3),e.Y8G("ngIf",c.model.suffix),e.R7$(),e.Y8G("ngIf",c.model.hasList)}},dependencies:[f.YU,f.Sq,f.bT,ln.xH,ln.y7,ln.me,ln.BC,ln.cb,ln.YS,ln.xh,ln.tU,ln.R_,ln.j4,ln.JD,Fc.I0,Ms.Vne,f.Jj],encapsulation:2}),d})(),w_=(()=>{class d extends Ms.S6A{constructor(o,c){super(o,c),this.layoutService=o,this.validationService=c,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(o){return new(o||d)(e.rXU(Ms.fpj),e.rXU(Ms.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-radio-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:5,vars:9,consts:[[3,"formGroup"],["ngbRadioGroup","","role","radiogroup",1,"btn-group","btn-group-toggle",3,"change","formControlName","id","ngClass","tabindex"],[3,"innerHTML",4,"ngIf"],["ngbButtonLabel","",3,"ngClass",4,"ngFor","ngForOf"],[3,"innerHTML"],["ngbButtonLabel","",3,"ngClass"],["type","radio","ngbButton","",3,"blur","focus","disabled","name","value"]],template:function(o,c){1&o&&(e.qex(0,0),e.j41(1,"div",1),e.bIt("change",function(W){return c.onChange(W)}),e.DNE(2,nR,1,1,"legend",2)(3,sR,3,8,"label",3),e.nI1(4,"async"),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",c.group),e.R7$(),e.Y8G("formControlName",c.model.id)("id",c.id)("ngClass",c.getClass("element","control"))("tabindex",c.model.tabIndex),e.R7$(),e.Y8G("ngIf",c.model.legend),e.R7$(),e.Y8G("ngForOf",e.bMT(4,7,c.model.options$)))},dependencies:[f.YU,f.Sq,f.bT,ln.BC,ln.cb,ln.j4,ln.JD,q.so,q.M0,q.px,f.Jj],encapsulation:2,changeDetection:0}),d})(),Wy=(()=>{class d extends Ms.S6A{constructor(o,c){super(o,c),this.layoutService=o,this.validationService=c,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(o){return new(o||d)(e.rXU(Ms.fpj),e.rXU(Ms.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-select"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:4,vars:13,consts:[[3,"formGroup"],[1,"form-control",3,"blur","change","focus","compareWith","formControlName","id","name","ngClass","required","tabindex"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],[3,"disabled","ngValue"]],template:function(o,c){1&o&&(e.qex(0,0),e.j41(1,"select",1),e.bIt("blur",function(W){return c.onBlur(W)})("change",function(W){return c.onChange(W)})("focus",function(W){return c.onFocus(W)}),e.DNE(2,iR,2,3,"option",2),e.nI1(3,"async"),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",c.group),e.R7$(),e.AVh("is-invalid",c.showErrorMessages),e.Y8G("compareWith",c.model.compareWithFn)("formControlName",c.model.id)("id",c.id)("name",c.model.name)("ngClass",c.getClass("element","control"))("required",c.model.required)("tabindex",c.model.tabIndex),e.R7$(),e.Y8G("ngForOf",e.bMT(3,11,c.model.options$)))},dependencies:[f.YU,f.Sq,ln.xH,ln.y7,ln.wz,ln.BC,ln.cb,ln.YS,ln.j4,ln.JD,f.Jj],encapsulation:2}),d})(),x_=(()=>{class d extends Ms.S6A{constructor(o,c){super(o,c),this.layoutService=o,this.validationService=c,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(o){return new(o||d)(e.rXU(Ms.fpj),e.rXU(Ms.STK))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-textarea"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:17,consts:[[3,"formGroup"],[1,"form-control",3,"blur","change","focus","cols","formControlName","id","maxlength","minlength","name","ngClass","placeholder","readonly","required","rows","spellcheck","tabindex","wrap"]],template:function(o,c){1&o&&(e.qex(0,0),e.j41(1,"textarea",1),e.bIt("blur",function(W){return c.onBlur(W)})("change",function(W){return c.onChange(W)})("focus",function(W){return c.onFocus(W)}),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",c.group),e.R7$(),e.AVh("is-invalid",c.showErrorMessages),e.Y8G("cols",c.model.cols)("formControlName",c.model.id)("id",c.id)("maxlength",c.model.maxLength)("minlength",c.model.minLength)("name",c.model.name)("ngClass",c.getClass("element","control"))("placeholder",c.model.placeholder)("readonly",c.model.readOnly)("required",c.model.required)("rows",c.model.rows)("spellcheck",c.model.spellCheck)("tabindex",c.model.tabIndex)("wrap",c.model.wrap))},dependencies:[f.YU,ln.me,ln.BC,ln.cb,ln.YS,ln.xh,ln.tU,ln.j4,ln.JD],encapsulation:2}),d})(),L_=(()=>{class d extends Ms.S6A{constructor(o,c,O){super(o,c),this.layoutService=o,this.validationService=c,this.config=O,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return d.\u0275fac=function(o){return new(o||d)(e.rXU(Ms.fpj),e.rXU(Ms.STK),e.rXU(q.Ng))},d.\u0275cmp=e.VBU({type:d,selectors:[["dynamic-ng-bootstrap-timepicker"]],viewQuery:function(o,c){if(1&o&&e.GBs(q.Pe,7),2&o){let O;e.mGM(O=e.lsd())&&(c.ngbTimePicker=O.first)}},inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:11,consts:[[3,"formGroup"],[3,"id","formControlName","hourStep","meridian","minuteStep","ngClass","seconds","secondStep","size","spinners"]],template:function(o,c){1&o&&(e.qex(0,0),e.nrm(1,"ngb-timepicker",1),e.bVm()),2&o&&(e.Y8G("formGroup",c.group),e.R7$(),e.Y8G("id",c.id)("formControlName",c.model.id)("hourStep",c.model.getAdditional("hourStep",c.config.hourStep))("meridian",c.model.meridian)("minuteStep",c.model.getAdditional("minuteStep",c.config.minuteStep))("ngClass",c.getClass("element","control"))("seconds",c.model.showSeconds)("secondStep",c.model.getAdditional("secondStep",c.config.secondStep))("size",c.model.getAdditional("size",c.config.size))("spinners",c.model.getAdditional("spinners",c.config.spinners)))},dependencies:[f.YU,ln.BC,ln.cb,ln.j4,ln.JD,q.Pe],encapsulation:2,changeDetection:0}),d})();var Ka=n(56899),dd=n(52717),N_=n(25488),Ky=n(10460);n(8590);const F_=(d,y)=>[d,y];function hR(d,y){1&d&&e.eu8(0)}function pR(d,y){if(1&d){const o=e.RV6();e.j41(0,"ds-dynamic-form-control-container",11),e.bIt("dfBlur",function(O){e.eBV(o);const W=e.XpG(2);return e.Njj(W.onBlur(O))})("dfChange",function(O){e.eBV(o);const W=e.XpG(2);return e.Njj(W.onChange(O))})("dfFocus",function(O){e.eBV(o);const W=e.XpG(2);return e.Njj(W.onFocus(O))})("ngbEvent",function(O){e.eBV(o);const W=e.XpG(2);return e.Njj(W.onCustomEvent(O,null,!0))}),e.k0s()}if(2&d){const o=y.$implicit,c=e.XpG().$implicit,O=e.XpG();e.AVh("d-none",o.hidden),e.Y8G("bindId",!1)("formGroup",O.group)("formModel",O.formModel)("context",c)("group",O.getControlOfGroup(c))("hidden",o.hidden)("layout",O.formLayout)("model",o)("templates",O.templates)("ngClass",e.l_i(12,F_,O.getClass("element","host",o),O.getClass("grid","host",o)))}}function fR(d,y){1&d&&e.eu8(0)}function mR(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",6,1)(2,"div",7),e.bIt("focus",function(){e.eBV(o);const O=e.sdS(1),W=e.XpG();return e.Njj(W.addInstructionMessageToLiveRegion(O))})("keydown.space",function(O){const W=e.eBV(o),ue=W.index,Ie=W.count,rt=e.sdS(1),kt=e.XpG();return e.Njj(kt.toggleKeyboardDragAndDrop(O,rt,ue,Ie))})("keydown.enter",function(O){const W=e.eBV(o),ue=W.index,Ie=W.count,rt=e.sdS(1),kt=e.XpG();return e.Njj(kt.toggleKeyboardDragAndDrop(O,rt,ue,Ie))})("keydown.tab",function(){const O=e.eBV(o),W=O.index,ue=O.count,Ie=e.sdS(1),rt=e.XpG();return e.Njj(rt.stopKeyboardDragAndDrop(Ie,W,ue))})("keydown.escape",function(){const O=e.eBV(o),W=O.index,ue=O.count,Ie=e.sdS(1),rt=e.XpG();return e.Njj(rt.cancelKeyboardDragAndDrop(Ie,W,ue))})("keydown.arrowUp",function(O){const W=e.eBV(o),ue=W.index,Ie=W.count,rt=e.XpG(),kt=e.sdS(3);return e.Njj(rt.handleArrowPress(O,kt,Ie,ue,"up"))})("keydown.arrowDown",function(O){const W=e.eBV(o),ue=W.index,Ie=W.count,rt=e.XpG(),kt=e.sdS(3);return e.Njj(rt.handleArrowPress(O,kt,Ie,ue,"down"))}),e.nrm(3,"i",8),e.k0s(),e.DNE(4,hR,1,0,"ng-container",9)(5,pR,1,15,"ds-dynamic-form-control-container",10)(6,fR,1,0,"ng-container",9),e.k0s()}if(2&d){const o=y.$implicit,c=e.XpG();e.AVh("grey-background",c.model.isInlineGroupArray),e.Y8G("formGroupName",o.index)("ngClass",e.l_i(15,F_,c.getClass("element","group"),c.getClass("grid","group")))("cdkDragDisabled",c.dragDisabled)("cdkDragPreviewClass","ds-submission-reorder-dragging"),e.R7$(2),e.AVh("drag-disable",c.dragDisabled),e.R7$(),e.AVh("drag-disable",c.dragDisabled),e.R7$(),e.Y8G("ngTemplateOutlet",null==c.startTemplate?null:c.startTemplate.templateRef)("ngTemplateOutletContext",o),e.R7$(),e.Y8G("ngForOf",o.group),e.R7$(),e.Y8G("ngTemplateOutlet",null==c.endTemplate?null:c.endTemplate.templateRef)("ngTemplateOutletContext",o)}}let nw=(()=>{class d extends Ms.mEL{constructor(o,c,O,W){super(o,c),this.layoutService=o,this.validationService=c,this.liveRegionService=O,this.translateService=W,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.customEvent=new e.bkB}moveSelection(o){if(o.previousIndex===o.currentIndex)return;this.model.moveGroup(o.previousIndex,o.currentIndex-o.previousIndex);const c=o.previousIndex,O=o.currentIndex;(0,G.a4)(this.model.groups[O])&&(0,G.a4)(this.control.controls[O])&&this.onCustomEvent({previousIndex:c,index:O,arrayModel:this.model,model:this.model.groups[O].group[0],control:this.control.controls[O]},"move")}update(o,c){const O=Object.assign({},o,{context:{index:c-1}});this.onChange(O)}get dragDisabled(){return 1===this.model.groups.length||!this.model.isDraggable}getControlOfGroup(o){return o.hasOwnProperty("startingIndex")||(o.startingIndex=o.index),this.control.get([o.startingIndex])}toggleKeyboardDragAndDrop(o,c,O,W){o.preventDefault(),this.elementBeingSorted?this.stopKeyboardDragAndDrop(c,O,W):(c.classList.add("sorting-with-keyboard"),this.elementBeingSorted=c,this.elementBeingSortedStartingIndex=O,this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.status",{itemName:c.querySelector("input")?.value,index:O+1,length:W})))}stopKeyboardDragAndDrop(o,c,O){this.elementBeingSorted?.classList.remove("sorting-with-keyboard"),this.liveRegionService.clear(),this.elementBeingSorted&&(this.elementBeingSorted=null,this.elementBeingSortedStartingIndex=null,this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.dropped",{itemName:o.querySelector("input")?.value,index:c+1,length:O})))}handleArrowPress(o,c,O,W,ue){let Ie="up"===ue?W-1:W+1;Ie<0?Ie=O-1:Ie>=O&&(Ie=0),this.elementBeingSorted?(this.model.moveGroup(W,Ie-W),(0,G.a4)(this.model.groups[Ie])&&(0,G.a4)(this.control.controls[Ie])&&(this.onCustomEvent({previousIndex:W,newIndex:Ie,arrayModel:this.model,model:this.model.groups[Ie].group[0],control:this.control.controls[Ie]},"move"),this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.moved",{itemName:this.elementBeingSorted.querySelector("input")?.value,index:Ie+1,length:O}))),o.preventDefault(),setTimeout(()=>{this.setFocusToDropListElementOfIndex(c,Ie,ue)})):(o.preventDefault(),this.setFocusToDropListElementOfIndex(c,Ie,ue))}cancelKeyboardDragAndDrop(o,c,O){this.model.moveGroup(c,this.elementBeingSortedStartingIndex-c),(0,G.a4)(this.model.groups[this.elementBeingSortedStartingIndex])&&(0,G.a4)(this.control.controls[this.elementBeingSortedStartingIndex])&&(this.onCustomEvent({previousIndex:c,newIndex:this.elementBeingSortedStartingIndex,arrayModel:this.model,model:this.model.groups[this.elementBeingSortedStartingIndex].group[0],control:this.control.controls[this.elementBeingSortedStartingIndex]},"move"),this.stopKeyboardDragAndDrop(o,this.elementBeingSortedStartingIndex,O))}setFocusToDropListElementOfIndex(o,c,O){const W=o.querySelectorAll("[cdkDragHandle]")[c];W&&(W.focus(),this.isElementInViewport(W)||W.scrollIntoView("up"===O))}isElementInViewport(o){const c=o.getBoundingClientRect();return c.top>=0&&c.left>=0&&c.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&c.right<=(window.innerWidth||document.documentElement.clientWidth)}addInstructionMessageToLiveRegion(o){this.elementBeingSorted||(this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.instructions",{itemName:o.querySelector("input")?.value})))}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Ms.fpj),e.rXU(Ms.STK),e.rXU(N_.A),e.rXU(K.c$))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-form-array"]],inputs:{bindId:"bindId",formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[["dropList",""],["sortableElement",""],[3,"formGroup"],[3,"id","formArrayName","ngClass"],["role","listbox","cdkDropList","","cdkDropListLockAxis","y",3,"cdkDropListDropped"],["class","drag-item-container","role","group","cdkDrag","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass","grey-background",4,"ngFor","ngForOf"],["role","group","cdkDrag","",1,"drag-item-container",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass"],["tabindex","0","cdkDragHandle","",1,"drag-handle",3,"focus","keydown.space","keydown.enter","keydown.tab","keydown.escape","keydown.arrowUp","keydown.arrowDown"],[1,"drag-icon","fas","fa-grip-vertical","fa-fw"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"bindId","formGroup","formModel","context","group","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","bindId","formGroup","formModel","context","group","hidden","layout","model","templates","ngClass"]],template:function(c,O){if(1&c){const W=e.RV6();e.qex(0,2),e.j41(1,"div",3)(2,"div",4,0),e.nI1(4,"translate"),e.bIt("cdkDropListDropped",function(Ie){return e.eBV(W),e.Njj(O.moveSelection(Ie))}),e.DNE(5,mR,7,18,"div",5),e.k0s()(),e.bVm()}2&c&&(e.Y8G("formGroup",O.group),e.R7$(),e.AVh("d-none",O.model.hidden),e.Y8G("id",O.id)("formArrayName",O.model.id)("ngClass",O.getClass("element","control")),e.R7$(),e.BMQ("aria-label",e.bMT(4,8,"dynamic-form-array.sortable-list.label")),e.R7$(3),e.Y8G("ngForOf",O.model.groups))},dependencies:()=>[ln.X1,ln.cb,ln.j4,ln.$R,ln.v8,dd.O7,f.YU,f.Sq,dd.T1,dd.Fb,Ky._,f.T3,K.h,K.D9],styles:["[_nghost-%COMP%]{display:block}.drag-disable[_ngcontent-%COMP%]{visibility:hidden!important}.drag-disable[_ngcontent-%COMP%]:hover, .drag-disable[_ngcontent-%COMP%]:focus{cursor:default}.drag-disable[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .drag-disable[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:hidden!important}.cdk-drag[_ngcontent-%COMP%]{margin-left:calc(-2.3 * var(--bs-spacer));margin-right:calc(-.5 * var(--bs-spacer));padding-right:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%] > .col[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}.cdk-drag[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{width:calc(2 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden;width:calc(2 * var(--bs-spacer));color:var(--bs-gray-600);margin:var(--bs-btn-padding-y) 0;line-height:var(--bs-btn-line-height);text-indent:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]:hover, .cdk-drag[_ngcontent-%COMP%]:focus{cursor:grab}.cdk-drag[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .cdk-drag[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:visible}.drag-handle[_ngcontent-%COMP%]:hover{cursor:move}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:grabbing}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden}.cdk-drag-preview[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}  .sorting-with-keyboard input{background-color:var(--bs-gray-400)}"]})}}return d})();var gR=n(37636);const zT=(d,y)=>[d,y];let _R=(()=>{class d extends A_{constructor(o,c){super(o,c),this.bindId=!0,this.selected=new e.bkB,this.remove=new e.bkB,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Ms.fpj),e.rXU(Ms.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-custom-switch"]],inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:23,consts:[[1,"form-check","custom-control","form-switch",3,"formGroup","ngClass"],["type","checkbox",1,"form-check-input","custom-control-input",3,"blur","change","focus","checked","id","formControlName","indeterminate","name","ngClass","required","tabindex","value"],[1,"form-check-label","custom-control-label",3,"for"],[3,"innerHTML","ngClass"]],template:function(c,O){1&c&&(e.j41(0,"div",0)(1,"input",1),e.bIt("blur",function(ue){return O.onBlur(ue)})("change",function(ue){return O.onChange(ue)})("focus",function(ue){return O.onFocus(ue)}),e.k0s(),e.j41(2,"label",2),e.nrm(3,"span",3),e.nI1(4,"translate"),e.k0s()()),2&c&&(e.AVh("disabled",O.model.disabled),e.Y8G("formGroup",O.group)("ngClass",O.getClass("element","container")),e.R7$(),e.AVh("is-invalid",O.showErrorMessages),e.Y8G("checked",O.model.checked)("id",O.id)("formControlName",O.model.id)("indeterminate",O.model.indeterminate)("name",O.model.name)("ngClass",O.getClass("element","control"))("required",O.model.required)("tabindex",O.model.tabIndex)("value",O.model.value),e.R7$(),e.Y8G("for",O.bindId&&O.model.id),e.R7$(),e.Y8G("innerHTML",e.bMT(4,18,O.model.label),e.npT)("ngClass",e.l_i(20,zT,O.getClass("element","label"),O.getClass("grid","label"))))},dependencies:[f.YU,ln.X1,ln.Zm,ln.BC,ln.cb,ln.xq,ln.j4,ln.JD,K.h,K.D9],styles:["div.custom-switch.custom-control-right[_ngcontent-%COMP%]{margin-left:0;margin-right:0}div.custom-switch.custom-control-right[_ngcontent-%COMP%]:after{right:-1.5rem;left:auto}div.custom-switch.custom-control-right[_ngcontent-%COMP%]:before{right:-2.35rem;left:auto}"]})}}return d})();var sw=n(33382),YT=n(87668);function vR(d,y){if(1&d&&e.nrm(0,"i",6),2&d){const o=e.XpG();e.HbH(o.model.toggleIcon)}}function yR(d,y){if(1&d&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.JRh(o.model.toggleLabel)}}let XT=(()=>{class d extends Ms.S6A{constructor(o,c,O){super(o,c),this.layoutService=o,this.validationService=c,this.config=O,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Ms.fpj),e.rXU(Ms.STK),e.rXU(q.I5))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-date-picker-inline"]],viewQuery:function(c,O){if(1&c&&e.GBs(q.yB,5),2&c){let W;e.mGM(W=e.lsd())&&(O.ngbDatePicker=W.first)}},inputs:{bindId:"bindId",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:25,consts:[["datepicker","ngbDatepicker"],[1,"input-group",3,"formGroup"],["ngbDatepicker","",1,"form-control",3,"blur","dateSelect","change","focus","displayMonths","id","firstDayOfWeek","formControlName","maxDate","minDate","name","navigation","ngClass","outsideDays","placeholder","placement","weekdays","showWeekNumbers","startDate"],["type","button",1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["aria-hidden","true"]],template:function(c,O){if(1&c){const W=e.RV6();e.j41(0,"div",1)(1,"input",2,0),e.bIt("blur",function(Ie){return e.eBV(W),e.Njj(O.onBlur(Ie))})("dateSelect",function(Ie){return e.eBV(W),e.Njj(O.onChange(Ie))})("change",function(Ie){return e.eBV(W),e.Njj(O.onChange(Ie))})("focus",function(Ie){return e.eBV(W),e.Njj(O.onFocus(Ie))}),e.k0s(),e.j41(3,"button",3),e.bIt("click",function(){e.eBV(W);const Ie=e.sdS(2);return e.Njj(Ie.toggle())}),e.DNE(4,vR,1,3,"i",4)(5,yR,2,1,"span",5),e.k0s()()}2&c&&(e.Y8G("formGroup",O.group),e.R7$(),e.AVh("is-invalid",O.showErrorMessages),e.Y8G("displayMonths",O.model.getAdditional("displayMonths",O.config.displayMonths))("id",O.id)("firstDayOfWeek",O.model.getAdditional("firstDayOfWeek",O.config.firstDayOfWeek))("formControlName",O.model.id)("maxDate",O.model.max)("minDate",O.model.min)("name",O.model.name)("navigation",O.model.getAdditional("navigation",O.config.navigation))("ngClass",O.getClass("element","control"))("outsideDays",O.model.getAdditional("outsideDays",O.config.outsideDays))("placeholder",O.model.placeholder)("placement",O.model.getAdditional("placement","bottom-left"))("weekdays",O.model.getAdditional("showWeekdays",O.config.showWeekdays))("showWeekNumbers",O.model.getAdditional("showWeekNumbers",O.config.showWeekNumbers))("startDate",O.model.focusedDate),e.BMQ("aria-labelledby","label_"+O.model.id),e.R7$(2),e.AVh("disabled",O.model.disabled),e.Y8G("dsBtnDisabled",O.model.disabled),e.BMQ("aria-labelledby","label_"+O.model.id),e.R7$(),e.Y8G("ngIf",O.model.toggleIcon),e.R7$(),e.Y8G("ngIf",O.model.toggleLabel))},dependencies:[f.YU,q.IQ,q.cw,ln.X1,ln.me,ln.BC,ln.cb,ln.j4,ln.JD,f.bT,qg.A],encapsulation:2})}}return d})();var ER=n(6458);let CR=(()=>{class d extends Ms.S6A{constructor(o,c){super(o,c),this.layoutService=o,this.validationService=c,this.modelValuesString="",this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Ms.fpj),e.rXU(Ms.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-disabled"]],inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:11,consts:[[1,"row","align-items-center"],[1,"col"],[1,"form-control",3,"id","name","value","disabled","type","placeholder","readonly"]],template:function(c,O){1&c&&(e.j41(0,"div")(1,"div",0)(2,"div",1),e.nrm(3,"input",2),e.nI1(4,"translate"),e.k0s()()()),2&c&&(e.R7$(3),e.AVh("is-invalid",O.showErrorMessages),e.Y8G("id",O.id)("name",O.model.name)("value",O.modelValuesString)("disabled",O.model.disabled)("type",O.model.inputType)("placeholder",e.bMT(4,9,O.model.placeholder))("readonly",O.model.readOnly))},dependencies:[K.h,K.D9],encapsulation:2})}}return d})();const B_=(d,y)=>[d,y];function bR(d,y){if(1&d){const o=e.RV6();e.j41(0,"ds-dynamic-form-control-container",4),e.bIt("dfBlur",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onBlur(O))})("dfChange",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onChange(O))})("dfFocus",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onFocus(O))})("ngbEvent",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onCustomEvent(O,null,!0))}),e.k0s()}if(2&d){const o=y.$implicit,c=e.XpG();e.AVh("d-none",o.hidden),e.Y8G("formGroup",c.group)("formModel",c.formModel)("group",c.control)("hasErrorMessaging",c.model.hasErrorMessages)("hidden",o.hidden)("layout",c.formLayout)("model",o)("templates",c.templates)("ngClass",e.l_i(11,B_,c.getClass("element","host",o),c.getClass("grid","host",o)))}}let iw=(()=>{class d extends Ms.S6A{constructor(o,c){super(o,c),this.layoutService=o,this.validationService=c,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.customEvent=new e.bkB}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(Ms.fpj),e.rXU(Ms.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-form-group"]],inputs:{formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:7,consts:[[2,"width","100%"],[3,"formGroup"],["role","group",3,"formGroupName","id","ngClass"],[3,"formGroup","formModel","group","hasErrorMessaging","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","formGroup","formModel","group","hasErrorMessaging","hidden","layout","model","templates","ngClass"]],template:function(c,O){1&c&&(e.j41(0,"div",0),e.qex(1,1),e.j41(2,"div",2),e.DNE(3,bR,1,14,"ds-dynamic-form-control-container",3),e.k0s(),e.bVm(),e.k0s()),2&c&&(e.R7$(),e.Y8G("formGroup",O.group),e.R7$(),e.AVh("d-none",O.model.hidden),e.Y8G("formGroupName",O.model.id)("id",O.id)("ngClass",O.getClass("element","control")),e.R7$(),e.Y8G("ngForOf",O.model.group))},dependencies:()=>[ln.X1,ln.cb,ln.j4,ln.$R,f.YU,f.Sq,Ky._],encapsulation:2})}}return d})();var j_=n(32089),U_=n(19506),k_=n(33126);function JT(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",8)(1,"input",9),e.bIt("blur",function(O){e.eBV(o);const W=e.XpG(3);return e.Njj(W.onBlur(O))})("change",function(O){e.eBV(o);const W=e.XpG(3);return e.Njj(W.onChange(O))})("focus",function(O){e.eBV(o);const W=e.XpG(3);return e.Njj(W.onFocus(O))}),e.k0s(),e.j41(2,"label",10),e.nrm(3,"span",11),e.k0s()()}if(2&d){const o=y.$implicit,c=e.XpG(3);e.R7$(),e.Y8G("checked",o.value)("id",o.id)("formControlName",o.id)("name",c.model.name)("value",o.value),e.BMQ("aria-labelledby","label_"+c.model.id)("tabindex",o.index),e.R7$(),e.AVh("disabled",c.model.disabled),e.Y8G("ngClass",null==c.model.layout.element?null:c.model.layout.element.control)("for",o.id),e.R7$(),e.Y8G("ngClass",null==c.model.layout.element?null:c.model.layout.element.label)("innerHTML",o.label,e.npT)}}function tu(d,y){if(1&d&&(e.j41(0,"div",6),e.DNE(1,JT,4,13,"div",7),e.k0s()),2&d){const o=y.$implicit;e.R7$(),e.Y8G("ngForOf",o)}}function QT(d,y){if(1&d&&(e.j41(0,"div",4),e.DNE(1,tu,2,1,"div",5),e.k0s()),2&d){const o=e.XpG();e.Y8G("id",o.id)("formGroupName",o.model.id)("ngClass",null==o.model.layout.element?null:o.model.layout.element.control),e.BMQ("tabindex",o.model.tabIndex),e.R7$(),e.Y8G("ngForOf",o.items)}}function TR(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",14)(1,"input",15),e.bIt("blur",function(O){e.eBV(o);const W=e.XpG(3);return e.Njj(W.onBlur(O))})("focus",function(O){e.eBV(o);const W=e.XpG(3);return e.Njj(W.onFocus(O))}),e.k0s(),e.j41(2,"label",10),e.nrm(3,"span",11),e.k0s()()}if(2&d){const o=y.$implicit,c=e.XpG(3);e.R7$(),e.Y8G("checked",o.value)("id",o.id)("name",c.model.id)("required",c.model.required)("value",o.index),e.R7$(),e.AVh("disabled",c.model.disabled),e.Y8G("ngClass",null==c.model.layout.element?null:c.model.layout.element.control)("for",o.id),e.R7$(),e.Y8G("ngClass",null==c.model.layout.element?null:c.model.layout.element.label)("innerHTML",o.label,e.npT)}}function ow(d,y){if(1&d&&(e.j41(0,"div",6),e.DNE(1,TR,4,11,"div",13),e.k0s()),2&d){const o=y.$implicit;e.R7$(),e.Y8G("ngForOf",o)}}function ZT(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",12),e.bIt("change",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onChange(O))}),e.DNE(1,ow,2,1,"div",5),e.k0s()}if(2&d){const o=e.XpG();e.Y8G("id",o.id)("ngClass",null==o.model.layout.element?null:o.model.layout.element.control),e.BMQ("tabindex",o.model.tabIndex),e.R7$(),e.Y8G("ngForOf",o.items)}}function DR(d,y){1&d&&(e.j41(0,"div",16),e.nrm(1,"ds-loading"),e.k0s())}let V_=(()=>{class d extends Ms.S6A{constructor(o,c,O,W,ue){super(W,ue),this.vocabularyService=o,this.cdr=c,this.formBuilderService=O,this.layoutService=W,this.validationService=ue,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.items=[],this.isLoading$=new _.t(!0),this.optionsList=[],this.subs=[]}ngOnInit(){this.model.vocabularyOptions&&(0,G.a4)(this.model.vocabularyOptions.name)&&this.initOptionsFromVocabulary()}ngOnDestroy(){this.subs.length>0&&this.subs.forEach(o=>o.unsubscribe())}onBlur(o){this.blur.emit(o)}onFocus(o){this.focus.emit(o)}onChange(o){const c=o.target;if(this.model.repeatable){const O=this.optionsList[c.tabIndex];if(c.checked)this.model.valueUpdates.next(O);else{const W=[];this.model.value.filter(ue=>ue.value!==O.value).forEach(ue=>W.push(ue)),this.model.valueUpdates.next(W)}}else this.model.value=this.optionsList[c.value];this.change.emit(o)}initOptionsFromVocabulary(){if(this.model.vocabularyOptions.name&&this.model.vocabularyOptions.name.length>0){const o=this.group.controls[this.model.id];this.model.repeatable&&this.model.required&&o.addValidators(this.hasAtLeastOneVocabularyEntry()),this.nextPageInfo=new j_.Q({elementsPerPage:20,currentPage:1}),this.loadEntries(o)}}hasAtLeastOneVocabularyEntry(){return o=>o&&o.value&&Object.values(o.value).find(c=>!0===c)?null:this.model.errorMessages}setPaginationInfo(o){o.pageInfo.currentPage<o.pageInfo.totalPages?(this.nextPageInfo=Object.assign(new j_.Q,o.pageInfo,{currentPage:o.currentPage+1}),this.isLoading$.next(!0)):this.isLoading$.next(!1)}loadEntries(o){(0,G.a4)(o)||(o=this.group.controls[this.model.id]),this.subs.push(this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,this.nextPageInfo).pipe((0,js.ak)(),(0,mi.M)(c=>this.setPaginationInfo(c)),(0,xt.T)(c=>c.page)).subscribe(c=>{this.optionsList=[...this.optionsList,...c];let O=this.items.length,W=0,ue=[];c.forEach(Ie=>{const rt=Ie.authority||Ie.value,kt=(0,G.hj)(xp()(this.model.value,mn=>mn?.value===Ie.value)),Cn={id:`${this.model.id}_${rt}`,label:Ie.display,value:kt,index:this.optionsList.indexOf(Ie)};this.model.repeatable?this.formBuilderService.addFormGroupControl(o,this.model,new Ms.M7d(Cn)):this.model.options.push({label:Cn.label,value:Ie}),ue.push(Cn),W++,this.items[O]=ue,W===this.model.groupLength&&(O++,W=0,ue=[])}),this.cdr.markForCheck(),this.isLoading$.value&&this.loadEntries()}))}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(U_.g),e.rXU(e.gRc),e.rXU(k_.j),e.rXU(Ms.fpj),e.rXU(Ms.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-list"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:6,consts:[[3,"formGroup"],["class","row",3,"id","formGroupName","ngClass",4,"ngIf"],["class","row","ngbRadioGroup","",3,"id","ngClass","change",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"row",3,"id","formGroupName","ngClass"],["class","col-sm ms-3",4,"ngFor","ngForOf"],[1,"col-sm","ms-3"],["class","custom-control custom-checkbox",4,"ngFor","ngForOf"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"blur","change","focus","checked","id","formControlName","name","value"],[1,"custom-control-label",3,"ngClass","for"],[3,"ngClass","innerHTML"],["ngbRadioGroup","",1,"row",3,"change","id","ngClass"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],["type","radio",1,"custom-control-input",3,"blur","focus","checked","id","name","required","value"],[1,"d-flex","justify-content-center"]],template:function(c,O){1&c&&(e.j41(0,"div",0),e.DNE(1,QT,2,5,"div",1)(2,ZT,2,4,"div",2)(3,DR,2,0,"div",3),e.nI1(4,"async"),e.k0s()),2&c&&(e.Y8G("formGroup",O.group),e.R7$(),e.Y8G("ngIf",O.model.repeatable),e.R7$(),e.Y8G("ngIf",!O.model.repeatable),e.R7$(),e.Y8G("ngIf",e.bMT(4,4,O.isLoading$)))},dependencies:[f.YU,f.bT,q.Ll,q.M0,f.Sq,ln.X1,ln.Zm,ln.BC,ln.cb,ln.j4,ln.JD,ln.$R,f.Jj,K.h,ju.v]})}}return d})();var rw=n(29658),OR=n(90558),Hy=n(86820),qT=n(96820),MR=n(99390),SR=n(39729),zy=n(61280),Yy=n(54875),Xy=n(37146);const IR=()=>({}),PR=d=>({entry:d});function aw(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",17)(1,"input",18),e.nI1(2,"translate"),e.mxI("ngModelChange",function(O){e.eBV(o);const W=e.XpG();return e.DH7(W.secondInputValue,O)||(W.secondInputValue=O),e.Njj(O)}),e.bIt("change",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onChange(O))})("blur",function(O){e.eBV(o);const W=e.XpG(),ue=e.sdS(1);return W.onBlur(O),O.stopPropagation(),e.Njj(ue.close())})("focus",function(O){e.eBV(o);const W=e.XpG(),ue=e.sdS(1);return W.onFocus(O),O.stopPropagation(),e.Njj(ue.close())})("click",function(O){e.eBV(o),e.XpG();const W=e.sdS(1);return O.stopPropagation(),e.Njj(W.close())}),e.k0s()()}if(2&d){const o=e.XpG();e.R7$(),e.AVh("is-invalid",o.showErrorMessages),e.Y8G("ngClass",e.lJ4(14,IR))("id",o.id)("name",o.model.name+"_2")("type",o.model.inputType),e.R50("ngModel",o.secondInputValue),e.Y8G("disabled",0===o.firstInputValue.length||o.isInputDisabled())("placeholder",e.bMT(2,12,o.model.secondPlaceholder))("readonly",o.model.readOnly),e.BMQ("aria-labelledby","label_"+o.model.id)("autoComplete",o.model.autoComplete)}}function lw(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(o);const O=e.XpG();return e.Njj(O.remove())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&d){const o=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.clear-help")),e.Y8G("dsBtnDisabled",o.model.readOnly),e.R7$(2),e.SpI("",e.bMT(3,5,"form.clear")," ")}}function cw(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(o);const O=e.XpG();return e.Njj(O.switchEditMode())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&d){const o=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.edit-help")),e.Y8G("dsBtnDisabled",o.isEditDisabled()),e.R7$(2),e.SpI("",e.bMT(3,5,"form.edit")," ")}}function dw(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(o);const O=e.XpG();return e.Njj(O.saveChanges())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&d){const o=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.save-help")),e.Y8G("dsBtnDisabled",!o.hasEmptyValue()),e.R7$(2),e.SpI("",e.bMT(3,5,"form.save")," ")}}function uw(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",20),e.bIt("click",function(O){e.eBV(o);const W=e.XpG(),ue=e.sdS(1);return O.stopPropagation(),W.clearFields(),e.Njj(ue.close())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"form.no-results")," "))}function eD(d,y){if(1&d){const o=e.RV6();e.j41(0,"button",21),e.bIt("click",function(O){const W=e.eBV(o).$implicit,ue=e.XpG(),Ie=e.sdS(1);return O.stopPropagation(),ue.onSelect(W),e.Njj(Ie.close())}),e.eu8(1,22),e.k0s()}if(2&d){const o=y.$implicit;e.XpG();const c=e.sdS(23),O=e.sdS(25);e.FS9("title",o.display),e.R7$(),e.Y8G("ngTemplateOutlet",o.hasOtherInformation()?c:O)("ngTemplateOutletContext",e.eq3(3,PR,o))}}function G_(d,y){1&d&&(e.j41(0,"div",23)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&d&&(e.R7$(2),e.JRh(e.bMT(3,1,"form.loading")))}function RR(d,y){if(1&d&&(e.j41(0,"li",27),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d){const o=y.$implicit;e.R7$(),e.Lme(" ",e.bMT(2,2,"form.other-information."+o.key)," : ",o.value," ")}}function AR(d,y){if(1&d&&(e.j41(0,"ul",24)(1,"li",25),e.EFF(2),e.k0s(),e.DNE(3,RR,3,4,"li",26),e.nI1(4,"dsObjNgFor"),e.k0s()),2&d){const o=y.entry,c=e.XpG();e.BMQ("aria-labelledby","label_"+c.model.id),e.R7$(2),e.JRh(o.value),e.R7$(),e.Y8G("ngForOf",e.bMT(4,3,o.otherInformation))}}function tD(d,y){if(1&d&&(e.j41(0,"ul",24)(1,"li",25),e.EFF(2),e.k0s()()),2&d){const o=y.entry,c=e.XpG();e.BMQ("aria-labelledby","label_"+c.model.id),e.R7$(2),e.JRh(o.value)}}let nu=(()=>{class d extends Yy.o{constructor(o,c,O,W){super(o,O,W),this.vocabularyService=o,this.cdr=c,this.layoutService=O,this.validationService=W,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.editMode=!1,this.firstInputValue="",this.secondInputValue="",this.loading=!1,this.subs=[],this.inputFormatter=(ue,Ie)=>1===Ie?this.firstInputValue:this.secondInputValue}ngOnInit(){(0,G.hj)(this.model.value)&&this.setCurrentValue(this.model.value,!0),this.subs.push(this.model.valueChanges.subscribe(o=>{(0,G.Im)(o)?this.resetFields():this.editMode||this.setCurrentValue(this.model.value)}))}hasAuthorityValue(){return(0,G.a4)(this.model.value)&&"object"==typeof this.model.value&&this.model.value.hasAuthority()}hasEmptyValue(){return(0,G.hj)(this.getCurrentValue())}clearFields(){this.model.vocabularyOptions.closed&&this.resetFields()}isEditDisabled(){return!this.hasAuthorityValue()}isInputDisabled(){return this.model.vocabularyOptions.closed&&this.hasAuthorityValue()&&!this.editMode}isLookupName(){return this.model instanceof Xy._}isSearchDisabled(){return(0,G.Im)(this.firstInputValue)||this.editMode}onChange(o){if(o.preventDefault(),!this.model.vocabularyOptions.closed)if((0,G.hj)(this.getCurrentValue())){const c=new zy.e(this.getCurrentValue());this.editMode||this.updateModel(c)}else this.remove()}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.search())}onSelect(o){this.updateModel(o)}openChange(o){o||this.model.vocabularyOptions.closed&&!this.hasAuthorityValue()&&this.setCurrentValue("")}remove(){this.group.markAsPristine(),this.dispatchUpdate(null)}saveChanges(){if((0,G.hj)(this.getCurrentValue())){const o=Object.assign(new eg.b,this.model.value,{display:this.getCurrentValue(),value:this.getCurrentValue()});this.updateModel(o)}else this.remove();this.switchEditMode()}search(){this.optionsList=null,this.updatePageInfo(this.model.maxOptions,1),this.loading=!0,this.subs.push(this.vocabularyService.getVocabularyEntriesByValue(this.getCurrentValue(),!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,js.ak)(),(0,An.W)(()=>(0,Is.of)((0,qT.g)(new j_.Q,[]))),(0,C.F)()).subscribe(o=>{this.optionsList=o.page,this.updatePageInfo(o.pageInfo.elementsPerPage,o.pageInfo.currentPage,o.pageInfo.totalElements,o.pageInfo.totalPages),this.loading=!1,this.cdr.detectChanges()}))}switchEditMode(){this.editMode=!this.editMode}whenClickOnConfidenceNotAccepted(o,c){this.model.readOnly||(o.open(),this.search())}ngOnDestroy(){this.subs.filter(o=>(0,G.a4)(o)).forEach(o=>o.unsubscribe())}setCurrentValue(o,c=!1){c?this.getInitValueFromModel().subscribe(O=>this.setDisplayInputValue(O.display)):(0,G.a4)(o)&&(o instanceof zy.e||o instanceof eg.b)&&this.setDisplayInputValue(o.display)}setDisplayInputValue(o){if((0,G.a4)(o)){if(this.isLookupName()){const c=o.split(this.model.separator);this.firstInputValue=(c[0]||"").trim(),this.secondInputValue=(c[1]||"").trim()}else this.firstInputValue=o||"";this.cdr.detectChanges()}}getCurrentValue(){let o="";return this.isLookupName()?((0,G.hj)(this.firstInputValue)&&(o=this.firstInputValue),(0,G.hj)(this.secondInputValue)&&(o=(0,G.Im)(o)?this.secondInputValue:this.firstInputValue+this.model.separator+" "+this.secondInputValue)):o=this.firstInputValue,o}resetFields(){this.firstInputValue="",this.isLookupName()&&(this.secondInputValue="")}updateModel(o){this.group.markAsDirty(),this.dispatchUpdate(o),this.setCurrentValue(o),this.optionsList=null,this.pageInfo=null}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(U_.g),e.rXU(e.gRc),e.rXU(Ms.fpj),e.rXU(Ms.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-lookup"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:26,vars:33,consts:[["sdRef","ngbDropdown"],["hasInfo",""],["noInfo",""],["ngbDropdown","",3,"click","openChange"],[1,"row","align-items-center"],[1,"col","right-addon"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0","pe-2",3,"whenClickOnConfidenceNotAccepted","authorityValue"],[1,"form-control",3,"ngModelChange","change","blur","focus","click","id","name","type","ngModel","disabled","placeholder","readonly"],["class","col",4,"ngIf"],[1,"col-auto","text-center"],["ngbDropdownAnchor","","type","button","placement","top",1,"btn","btn-secondary",3,"click","ngbTooltip","dsBtnDisabled","hidden"],["class","btn btn-secondary","type","button","placement","top",3,"ngbTooltip","dsBtnDisabled","click",4,"ngIf"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["infiniteScroll","",1,"scrollable-menu",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow"],["class","dropdown-item disabled","type","button",3,"click",4,"ngIf"],["class","dropdown-item lookup-item","type","button",3,"title","click",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],[1,"col"],[1,"form-control",3,"ngModelChange","change","blur","focus","click","ngClass","id","name","type","ngModel","disabled","placeholder","readonly"],["type","button","placement","top",1,"btn","btn-secondary",3,"click","ngbTooltip","dsBtnDisabled"],["type","button",1,"dropdown-item","disabled",3,"click"],["type","button",1,"dropdown-item","lookup-item",3,"click","title"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"scrollable-dropdown-loading","text-center"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","fw-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"]],template:function(c,O){if(1&c){const W=e.RV6();e.j41(0,"div",3,0),e.bIt("click",function(Ie){return e.eBV(W),e.Njj(Ie.stopPropagation())})("openChange",function(Ie){return e.eBV(W),e.Njj(O.openChange(Ie))}),e.j41(2,"div",4)(3,"div",5)(4,"i",6),e.bIt("whenClickOnConfidenceNotAccepted",function(Ie){e.eBV(W);const rt=e.sdS(1);return e.Njj(O.whenClickOnConfidenceNotAccepted(rt,Ie))}),e.k0s(),e.j41(5,"input",7),e.nI1(6,"translate"),e.mxI("ngModelChange",function(Ie){return e.eBV(W),e.DH7(O.firstInputValue,Ie)||(O.firstInputValue=Ie),e.Njj(Ie)}),e.bIt("change",function(Ie){return e.eBV(W),e.Njj(O.onChange(Ie))})("blur",function(Ie){e.eBV(W);const rt=e.sdS(1);return O.onBlur(Ie),Ie.stopPropagation(),e.Njj(rt.close())})("focus",function(Ie){e.eBV(W);const rt=e.sdS(1);return O.onFocus(Ie),Ie.stopPropagation(),e.Njj(rt.close())})("click",function(Ie){e.eBV(W);const rt=e.sdS(1);return Ie.stopPropagation(),Ie.stopPropagation(),e.Njj(rt.close())}),e.k0s()(),e.DNE(7,aw,3,15,"div",8),e.j41(8,"div",9)(9,"button",10),e.nI1(10,"translate"),e.bIt("click",function(Ie){return e.eBV(W),e.sdS(1).open(),O.search(),e.Njj(Ie.stopPropagation())}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,lw,4,7,"button",11),e.k0s(),e.j41(14,"div",9),e.DNE(15,cw,4,7,"button",11)(16,dw,4,7,"button",11),e.k0s()(),e.j41(17,"div",12)(18,"div",13),e.bIt("scrolled",function(){return e.eBV(W),e.Njj(O.onScroll())}),e.DNE(19,uw,3,3,"button",14)(20,eD,2,5,"button",15)(21,G_,4,3,"div",16),e.k0s()()(),e.DNE(22,AR,5,5,"ng-template",null,1,e.C5r)(24,tD,3,2,"ng-template",null,2,e.C5r)}2&c&&(e.R7$(4),e.Y8G("authorityValue",O.model.value),e.R7$(),e.AVh("is-invalid",O.showErrorMessages),e.Y8G("id",O.model.id)("name",O.model.name)("type",O.model.inputType),e.R50("ngModel",O.firstInputValue),e.Y8G("disabled",O.isInputDisabled())("placeholder",e.bMT(6,27,O.model.placeholder))("readonly",O.model.readOnly),e.BMQ("aria-labelledby","label_"+O.model.id)("autoComplete",O.model.autoComplete),e.R7$(2),e.Y8G("ngIf",O.isLookupName()),e.R7$(2),e.FS9("ngbTooltip",e.bMT(10,29,"form.search-help")),e.Y8G("dsBtnDisabled",O.model.readOnly||O.isSearchDisabled())("hidden",O.isInputDisabled()),e.R7$(2),e.SpI("",e.bMT(12,31,"form.search")," "),e.R7$(2),e.Y8G("ngIf",O.isInputDisabled()),e.R7$(2),e.Y8G("ngIf",!O.editMode),e.R7$(),e.Y8G("ngIf",O.editMode),e.R7$(),e.BMQ("aria-labelledby","label_"+O.model.id),e.R7$(),e.Y8G("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),e.R7$(),e.Y8G("ngIf",O.optionsList&&0===O.optionsList.length),e.R7$(),e.Y8G("ngForOf",O.optionsList),e.R7$(),e.Y8G("ngIf",O.loading))},dependencies:[K.h,K.D9,q.n8,q.md,q.zH,q.tg,q.E5,q.U0,SR.K,ln.YN,ln.me,ln.BC,ln.vS,f.bT,f.YU,Hy.eO,Hy.DP,f.Sq,f.T3,MR.U,qg.A],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]     .dropdown-menu{left:0!important;width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}div[_ngcontent-%COMP%]{overflow:visible}.lookup-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}div.col[_ngcontent-%COMP%]{position:relative}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-right:5px;padding-left:5px}"]})}}return d})();var nD=n(80902),Jy=n(18302),Qy=n(45500),wR=n(83278),su=n.n(wR);const Zy=(0,ne.hZ)("shrinkInOut",[(0,ne.wk)("in",(0,ne.iF)({height:"100%",opacity:1})),(0,ne.kY)("* => void",[(0,ne.iF)({height:"!",opacity:1}),(0,ne.i0)(200,(0,ne.iF)({height:0,opacity:0}))]),(0,ne.kY)("void => *",[(0,ne.iF)({height:0,opacity:0}),(0,ne.i0)(200,(0,ne.iF)({height:"*",opacity:1}))])]);var $_=n(80597),hw=n(48376),W_=n.n(hw),pw=n(59519),sD=n.n(pw),xR=n(98179);class iD{constructor(y,o="display",c,O,W){this.id=sD()(),this._item=y,this.fieldToDisplay=o,this.objToDisplay=c,this.setDisplayText(),this.editMode=W||!1,this.icons=O||[]}set item(y){this._item=y}get item(){return this._item}isNestedItem(){return(0,G.hj)(this.item)&&su()(this.item)&&(0,G.hj)(this.objToDisplay)&&this.item[this.objToDisplay]}hasIcons(){return(0,G.hj)(this.icons)}hasVisibleIcons(){if((0,G.hj)(this.icons)){let y=!1;for(const o of this.icons)if(this._item.hasOwnProperty(o.metadata)&&("string"==typeof this._item[o.metadata]&&(0,G.a4)(this._item[o.metadata])||this._item[o.metadata].hasValue())&&!this.hasPlaceholder(this._item[o.metadata])&&(o.visibleWhenAuthorityEmpty||this._item[o.metadata].confidence!==xR.l.CF_UNSET)&&(0,G.hj)(o.style)){y=!0;break}return y}return!1}setEditMode(){this.editMode=!0}updateIcons(y){this.icons=y}updateItem(y){this._item=y,this.setDisplayText()}unsetEditMode(){this.editMode=!1}setDisplayText(){let y=this._item;if(su()(this._item)){const o=this.objToDisplay?this._item[this.objToDisplay]:this._item;y=su()(o)&&o?o[this.fieldToDisplay]||o.value:o}this.display=y}hasPlaceholder(y){return"string"==typeof y?y===Ka.N:y.hasPlaceholder()}}class oD{constructor(y=[],o="display",c,O){this.displayField=o,this.displayObj=c,this.iconsConfig=O||[],Array.isArray(y)&&this.setInitialItems(y)}add(y){const o=this.getChipsIcons(y),c=new iD(y,this.displayField,this.displayObj,o),O=W_()(this._items,{display:c.display.trim()});(-1===O||!yu()(y,this.getChipByIndex(O).item))&&(this._items.push(c),this.chipsItems.next(this._items))}getChipById(y){const o=W_()(this._items,{id:y});return this.getChipByIndex(o)}getChipByIndex(y){return this._items.length>0&&this._items[y]?this._items[y]:null}getChips(){return this._items}getChipsItems(){const y=[];return this._items.forEach(o=>{y.push(o.item)}),y}hasItems(){return this._items.length>0}hasPlaceholder(y){return su()(y)?y.value===Ka.N:y===Ka.N}remove(y){const o=W_()(this._items,{id:y.id});this._items.splice(o,1),this.chipsItems.next(this._items)}update(y,o){const c=this.getChipById(y),O=this.getChipsIcons(o);c.updateItem(o),c.updateIcons(O),c.unsetEditMode(),this.chipsItems.next(this._items)}updateOrder(){this.chipsItems.next(this._items)}getChipsIcons(y){const o=[];if("string"==typeof y||y instanceof zy.e||y instanceof eg.b)return o;const c=W_()(this.iconsConfig,{name:"default"}),O=-1!==c?this.iconsConfig[c]:void 0;let W,ue,Ie;return Object.keys(y).forEach(rt=>{Ie=y[rt],ue=W_()(this.iconsConfig,{name:rt}),W=-1!==ue?this.iconsConfig[ue]:O,(0,G.a4)(Ie)&&(0,G.hj)(W)&&!this.hasPlaceholder(Ie)&&o.push({metadata:rt,visibleWhenAuthorityEmpty:this.displayObj!==rt,style:W.style})}),o}setInitialItems(y){this._items=[],y.forEach(o=>{const c=this.getChipsIcons(o),O=new iD(o,this.displayField,this.displayObj,c);this._items.push(O)}),this.chipsItems=new _.t(this._items)}}const LR=["*"],rD=d=>({"chip-selected disabled":d});function aD(d,y){if(1&d&&(e.j41(0,"p",7),e.EFF(1),e.k0s()),2&d){const o=y.$implicit;e.R7$(),e.SpI(" ",o," ")}}function lD(d,y){if(1&d&&e.DNE(0,aD,2,1,"p",6),2&d){const o=e.XpG();e.Y8G("ngForOf",o.tipText)}}function NR(d,y){if(1&d&&(e.j41(0,"i",14),e.EFF(1,"\xa0"),e.k0s()),2&d){const o=e.XpG().$implicit;e.Y8G("authorityValue",o.item)}}function FR(d,y){if(1&d){const o=e.RV6();e.j41(0,"i",16,1),e.bIt("mouseover",function(){const O=e.eBV(o).$implicit,W=e.sdS(1),ue=e.XpG(2).index,Ie=e.XpG();return e.Njj(Ie.showTooltip(W,ue,O.metadata))})("mouseout",function(){e.eBV(o);const O=e.sdS(1);return e.Njj(O.close())}),e.k0s()}if(2&d){const o=y.$implicit,c=y.last,O=e.XpG(2).$implicit;e.XpG();const W=e.sdS(3);e.HbH(o.style),e.AVh("me-1",!c)("me-2",c),e.Y8G("ngbTooltip",W)("authorityValue",O.item[o.metadata]||O.item)("visibleWhenAuthorityEmpty",o.visibleWhenAuthorityEmpty)}}function cD(d,y){if(1&d&&(e.qex(0),e.DNE(1,FR,2,10,"i",15),e.bVm()),2&d){const o=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",o.icons)}}function qy(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",8,1),e.bIt("mouseover",function(){const O=e.eBV(o).index,W=e.sdS(1),ue=e.XpG();return e.Njj(ue.showTooltip(W,O))})("mouseout",function(){e.eBV(o);const O=e.sdS(1);return e.Njj(O.close())}),e.j41(2,"a",9),e.bIt("cdkDragStarted",function(){const O=e.eBV(o).index,W=e.XpG();return e.Njj(W.onDrag(O))})("click",function(O){const W=e.eBV(o).index,ue=e.XpG();return e.Njj(ue.chipsSelected(O,W))}),e.j41(3,"span"),e.DNE(4,NR,2,1,"i",10)(5,cD,2,1,"ng-container",11),e.j41(6,"p",12),e.EFF(7),e.k0s(),e.j41(8,"i",13),e.nI1(9,"translate"),e.bIt("click",function(O){const W=e.eBV(o).index,ue=e.XpG();return e.Njj(ue.removeChips(O,W))}),e.k0s()()()()}if(2&d){const o=y.$implicit,c=y.index,O=e.XpG(),W=e.sdS(3);e.Y8G("ngbTooltip",W),e.R7$(2),e.Y8G("ngClass",e.eq3(8,rD,O.editable&&o.editMode||O.dragged===c)),e.R7$(2),e.Y8G("ngIf",O.showIcons&&!o.isNestedItem()),e.R7$(),e.Y8G("ngIf",O.showIcons&&o.hasVisibleIcons()),e.R7$(2),e.JRh(o.display),e.R7$(),e.Y8G("title",e.bMT(9,6,"chips.remove"))}}let BR=(()=>{class d{constructor(o,c){this.cdr=o,this.translate=c,this.editable=!0,this.showIcons=!1,this.selected=new e.bkB,this.remove=new e.bkB,this.change=new e.bkB,this.isDragging=new _.t(!1),this.dragged=-1}ngOnChanges(o){o.chips&&!o.chips.isFirstChange()&&(this.chips=o.chips.currentValue)}chipsSelected(o,c){o.preventDefault(),this.editable&&(this.chips.getChips().forEach((O,W)=>{W===c?O.setEditMode():O.unsetEditMode()}),this.selected.emit(c))}removeChips(o,c){o.preventDefault(),o.stopPropagation(),this.chips.getChipByIndex(c).editMode||this.chips.remove(this.chips.getChipByIndex(c))}onDrag(o){this.isDragging.next(!0),this.dragged=o}onDrop(o){(0,dd.HD)(this.chips.chipsItems.getValue(),o.previousIndex,o.currentIndex),this.dragged=-1,this.chips.updateOrder(),this.isDragging.next(!1)}showTooltip(o,c,O){if(o.close(),this.isDragging.value)return;const W=this.chips.getChipByIndex(c),ue=[];!W.editMode&&-1===this.dragged&&(O?su()(W.item[O])?(ue.push(W.item[O].display),W.item[O].hasOtherInformation()&&Object.keys(W.item[O].otherInformation).forEach(Ie=>{this.translate.get("form.other-information."+Ie).subscribe(rt=>{ue.push(rt+": "+W.item[O].otherInformation[Ie])})})):ue.push(W.item[O]):ue.push(W.display),this.cdr.detectChanges(),(!W.hasIcons()||!W.hasVisibleIcons()||O)&&(this.tipText=ue,o.open()))}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(e.gRc),e.rXU(K.c$))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-chips"]],inputs:{chips:"chips",wrapperClass:"wrapperClass",editable:"editable",showIcons:"showIcons"},outputs:{selected:"selected",remove:"remove",change:"change"},standalone:!0,features:[e.OA$,e.aNF],ngContentSelectors:LR,decls:8,vars:6,consts:[["tipContent",""],["t","ngbTooltip"],[3,"className"],["role","list","cdkDropList","","cdkDropListOrientation","horizontal",1,"nav","nav-pills","d-flex","flex-column","flex-sm-row",3,"cdkDropListDropped"],["role","listitem","class","nav-item me-2 mb-1","triggers","manual",3,"ngbTooltip","mouseover","mouseout",4,"ngFor","ngForOf"],[1,"flex-grow-1"],["class","text-start p-0 m-0",4,"ngFor","ngForOf"],[1,"text-start","p-0","m-0"],["role","listitem","triggers","manual",1,"nav-item","me-2","mb-1",3,"mouseover","mouseout","ngbTooltip"],["cdkDrag","","href","javascript:void(0);",1,"flex-sm-fill","text-sm-center","nav-link","active","bg-info",3,"cdkDragStarted","click","ngClass"],["dsAuthorityConfidenceState","","class","far fa-circle","aria-hidden","true",3,"authorityValue",4,"ngIf"],[4,"ngIf"],[1,"chip-label","text-truncate","d-table-cell"],[1,"fas","fa-times","ms-2",3,"click","title"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle",3,"authorityValue"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"ngbTooltip","class","me-1","me-2","authorityValue","visibleWhenAuthorityEmpty","mouseover","mouseout",4,"ngFor","ngForOf"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"mouseover","mouseout","ngbTooltip","authorityValue","visibleWhenAuthorityEmpty"]],template:function(c,O){if(1&c){const W=e.RV6();e.NAR(),e.j41(0,"div",2)(1,"div",3),e.bIt("cdkDropListDropped",function(Ie){return e.eBV(W),e.Njj(O.onDrop(Ie))}),e.DNE(2,lD,1,1,"ng-template",null,0,e.C5r)(4,qy,10,10,"div",4),e.j41(5,"div",5),e.nI1(6,"async"),e.SdG(7),e.k0s()()()}2&c&&(e.Y8G("className","float-start w-100 "+O.wrapperClass),e.R7$(4),e.Y8G("ngForOf",O.chips.getChips()),e.R7$(),e.AVh("chips-sort-ignore",e.bMT(6,4,O.isDragging)))},dependencies:[q.n8,q.md,f.YU,f.Sq,f.Jj,SR.K,f.bT,K.h,K.D9,dd.T1,dd.O7],styles:[".cdk-drag-placeholder[_ngcontent-%COMP%]{filter:grayscale(100%);transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{color:#fff;box-sizing:border-box;border-radius:.25rem;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}"]})}}return d})();var dD=n(13143),eE=n(54002);n(11166);const jR=["formRef"],mw=(d,y)=>({"border-top":d,"border border-danger":y});function gw(d,y){if(1&d){const o=e.RV6();e.j41(0,"a",8),e.nI1(1,"translate"),e.j41(2,"span",9),e.bIt("click",function(){e.eBV(o);const O=e.XpG();return e.Njj(O.collapseForm())}),e.k0s()()}2&d&&e.FS9("ngbTooltip",e.bMT(1,1,"form.group-collapse-help"))}function _w(d,y){if(1&d){const o=e.RV6();e.j41(0,"a",8),e.nI1(1,"translate"),e.j41(2,"span",10),e.bIt("click",function(){e.eBV(o);const O=e.XpG();return e.Njj(O.expandForm())}),e.k0s()()}2&d&&e.FS9("ngbTooltip",e.bMT(1,1,"form.group-expand-help"))}function vw(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",15)(1,"button",16),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.save())}),e.nrm(2,"i",17),e.k0s(),e.j41(3,"button",16),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.delete())}),e.nrm(4,"i",18),e.k0s(),e.j41(5,"button",16),e.bIt("click",function(){e.eBV(o);const O=e.XpG(2);return e.Njj(O.clear())}),e.nrm(6,"i",19),e.k0s()()}if(2&d){const o=e.XpG(2);e.R7$(),e.Y8G("dsBtnDisabled",o.isMandatoryFieldEmpty()),e.R7$(2),e.Y8G("dsBtnDisabled",!o.editMode),e.R7$(2),e.Y8G("dsBtnDisabled",o.isMandatoryFieldEmpty())}}function yw(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",11)(1,"ds-form",12,0),e.bIt("dfBlur",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onBlur(O))})("dfFocus",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onFocus(O))}),e.k0s(),e.DNE(3,vw,7,3,"div",13),e.nI1(4,"async"),e.nrm(5,"div",14),e.k0s()}if(2&d){const o=e.XpG();e.Y8G("@shrinkInOut",void 0),e.R7$(),e.Y8G("formId",o.formId)("formModel",o.formModel)("displaySubmit",!1)("displayCancel",!1)("emitChange",!1),e.R7$(2),e.Y8G("ngIf",!0!==e.bMT(4,7,o.formCollapsed))}}function Lr(d,y){1&d&&e.nrm(0,"ds-loading",20),2&d&&e.Y8G("showMessage",!1)}function gm(d,y){1&d&&(e.j41(0,"div"),e.nrm(1,"input",21),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.FS9("value",e.bMT(2,1,"form.no-value")))}function K_(d,y){if(1&d){const o=e.RV6();e.j41(0,"ds-chips",22),e.bIt("selected",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onChipSelected(O))}),e.k0s()}if(2&d){const o=e.XpG();e.Y8G("chips",o.chips)("editable",!0)("showIcons",!0)}}let H_=(()=>{class d extends Ms.S6A{constructor(o,c,O,W,ue,Ie){super(ue,Ie),this.vocabularyService=o,this.formBuilderService=c,this.formService=O,this.cdr=W,this.layoutService=ue,this.validationService=Ie,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.formCollapsed=(0,Is.of)(!1),this.editMode=!1,this.subs=[]}ngOnInit(){const o={rows:this.model.formConfiguration};this.model.isEmpty()||(this.formCollapsed=(0,Is.of)(!0)),this.model.valueChanges.subscribe(c=>{!(0,G.hj)(c)||1===c.length&&(0,$_.Zb)(c[0])?this.expandForm():this.collapseForm()}),this.formId=this.formService.getUniqueId(this.model.id),this.formModel=this.formBuilderService.modelFromConfiguration(this.model.submissionId,o,this.model.scopeUUID,{},this.model.submissionScope,this.model.readOnly),this.initChipsFromModelValue()}isMandatoryFieldEmpty(){let o=!0;return this.formModel.forEach(c=>{c.group.forEach(W=>{W.name!==this.model.mandatoryField||(o=null==W.value)})}),o}onBlur(o){this.blur.emit()}onChipSelected(o){this.expandForm(),this.selectedChipItem=this.chips.getChipByIndex(o),this.formModel.forEach(c=>{c.group.forEach(W=>{const ue=this.selectedChipItem.item[W.name]===Ka.N||this.selectedChipItem.item[W.name].value===Ka.N?null:this.selectedChipItem.item[W.name],Ie=this.formBuilderService.isInputModel(W)&&(0,G.Pe)(ue)&&"string"!=typeof ue?ue.value:ue;W.value=Ie})}),this.editMode=!0}onFocus(o){this.focus.emit(o)}collapseForm(){this.formCollapsed=(0,Is.of)(!0),this.clear()}expandForm(){this.formCollapsed=(0,Is.of)(!1)}clear(){this.editMode&&(this.selectedChipItem.editMode=!1,this.selectedChipItem=null,this.editMode=!1),this.resetForm(),this.model.isEmpty()||(this.formCollapsed=(0,Is.of)(!0))}save(){this.editMode?this.modifyChip():this.addToChips()}delete(){this.chips.remove(this.selectedChipItem),this.clear()}ngOnDestroy(){this.subs.filter(o=>(0,G.a4)(o)).forEach(o=>o.unsubscribe())}addToChips(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const o=this.buildChipItem();this.chips.add(o),this.resetForm()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}modifyChip(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const o=this.buildChipItem();this.chips.update(this.selectedChipItem.id,o),this.resetForm(),this.cdr.detectChanges()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}buildChipItem(){const o=Object.create({});return this.formModel.forEach(c=>{c.group.forEach(W=>{o[W.name]=W.value||Ka.N})}),o}initChipsFromModelValue(){let o;this.model.isEmpty()?this.initChips([]):(o=(0,Is.of)(this.model.value),this.subs.push(o.pipe((0,Qn.Z)(c=>{const O=[];return c.forEach(W=>{const ue=Object.keys(W).map(Ie=>{let rt;if(su()(W[Ie])&&W[Ie].hasAuthority()&&(0,G.hj)(W[Ie].authority)){const kt=Ie.replace(/\./g,"_"),Cn=this.formBuilderService.findById(kt,this.formModel);rt=this.vocabularyService.findEntryDetailById(W[Ie].authority,Cn.vocabularyOptions.name).pipe((0,js.ak)(),(0,xt.T)(mn=>Object.assign(new zy.e,W[Ie],{otherInformation:mn.otherInformation})))}else rt=(0,Is.of)(W[Ie]);return rt.pipe((0,xt.T)(kt=>({[Ie]:kt})))});O.push((0,Ko.z)(ue))}),O}),(0,Qn.Z)((c,O)=>c.pipe((0,xt.T)(W=>({index:O,value:W.reduce((ue,Ie)=>Object.assign({},ue,Ie))})))),(0,PO.S)((c,O)=>(0===c.length?c.push(O.value):c.splice(O.index,0,O.value),c),[]),(0,Wn.p)(c=>this.model.value.length===c.length)).subscribe(c=>{this.model.value=c,this.initChips(c),this.cdr.markForCheck()})))}initChips(o){this.chips=new oD(o,"value",this.model.mandatoryField,A.c.submission.icons.metadata),this.subs.push(this.chips.chipsItems.subscribe(()=>{const c=this.chips.getChipsItems();yu()(c,this.model.value)||(0,G.Im)(c)&&this.model.isEmpty()||(this.model.value=c,this.change.emit())}))}resetForm(){this.formRef&&this.formService.resetForm(this.formRef.formGroup,this.formModel,this.formId)}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(U_.g),e.rXU(k_.j),e.rXU(eE.u),e.rXU(e.gRc),e.rXU(Ms.fpj),e.rXU(Ms.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-relation-group"]],viewQuery:function(c,O){if(1&c&&e.GBs(jR,5),2&c){let W;e.mGM(W=e.lsd())&&(O.formRef=W.first)}},inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:16,consts:[["formRef","formComponent"],["class","close position-relative","placement","left",3,"ngbTooltip",4,"ngIf"],[1,"pt-2",3,"ngClass"],["class","ps-2 row",4,"ngIf"],[1,"d-flex"],[3,"showMessage",4,"ngIf"],[4,"ngIf"],[3,"chips","editable","showIcons","selected",4,"ngIf"],["placement","left",1,"close","position-relative",3,"ngbTooltip"],["aria-hidden","true",1,"fas","fa-angle-up","fa-fw","fa-2x",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","fa-fw","fa-2x",3,"click"],[1,"ps-2","row"],[1,"col-sm-12","col-md-8","col-lg-9","col-xl-10","ps-0",3,"dfBlur","dfFocus","formId","formModel","displaySubmit","displayCancel","emitChange"],["class","col p-0 m-0 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"clearfix"],[1,"col","p-0","m-0","d-flex","justify-content-center","align-items-center"],["type","button",1,"btn","btn-link",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-save","link-primary","fa-2x"],["aria-hidden","true",1,"fas","fa-trash","link-danger","fa-2x"],["aria-hidden","true",1,"fas","fa-undo","fa-2x"],[3,"showMessage"],["type","text","readonly","","tabindex","-1",1,"border-0","form-control-plaintext","tag-input","mt-1","mb-1","ps-2","text-muted",3,"value"],[3,"selected","chips","editable","showIcons"]],template:function(c,O){1&c&&(e.DNE(0,gw,3,3,"a",1),e.nI1(1,"async"),e.DNE(2,_w,3,3,"a",1),e.nI1(3,"async"),e.j41(4,"div",2),e.DNE(5,yw,6,9,"div",3),e.nI1(6,"async"),e.j41(7,"div",4),e.DNE(8,Lr,1,1,"ds-loading",5)(9,gm,3,3,"div",6)(10,K_,1,3,"ds-chips",7),e.k0s()()),2&c&&(e.Y8G("ngIf",!0!==e.bMT(1,7,O.formCollapsed)),e.R7$(2),e.Y8G("ngIf",e.bMT(3,9,O.formCollapsed)),e.R7$(2),e.Y8G("ngClass",e.l_i(13,mw,!O.showErrorMessages,O.showErrorMessages)),e.R7$(),e.Y8G("ngIf",!0!==e.bMT(6,11,O.formCollapsed)),e.R7$(3),e.Y8G("ngIf",!O.chips),e.R7$(),e.Y8G("ngIf",O.chips&&!O.chips.hasItems()),e.R7$(),e.Y8G("ngIf",O.chips&&O.chips.hasItems()))},dependencies:()=>[f.bT,f.Jj,q.n8,q.md,K.h,K.D9,f.YU,ju.v,BR,dD.s,qg.A],styles:[".close[_ngcontent-%COMP%]{top:-2.5rem}"],data:{animation:[Zy]}})}}return d})();var uD=n(83766),Ew=n(11220),UR=n(70152),Cw=n(79335),bw=n(38512);const tE=["instance"];function kR(d,y){1&d&&e.EFF(0),2&d&&e.SpI(" ",y.result.display,"\n")}function hD(d,y){if(1&d){const o=e.RV6();e.j41(0,"input",5),e.mxI("ngModelChange",function(O){e.eBV(o);const W=e.XpG();return e.DH7(W.currentValue,O)||(W.currentValue=O),e.Njj(O)}),e.bIt("blur",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onBlur(O))})("keypress",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.preventEventsPropagation(O))})("keydown",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.preventEventsPropagation(O))})("keyup",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onKeyUp(O))}),e.k0s()}if(2&d){const o=e.XpG();e.AVh("ps-3",o.chips.hasItems()),e.Y8G("placeholder",o.model.placeholder)("readonly",o.model.readOnly),e.R50("ngModel",o.currentValue)}}function pD(d,y){1&d&&e.nrm(0,"i",9)}function fD(d,y){if(1&d){const o=e.RV6();e.j41(0,"div",6),e.DNE(1,pD,1,0,"i",7),e.j41(2,"input",8,1),e.mxI("ngModelChange",function(O){e.eBV(o);const W=e.XpG();return e.DH7(W.currentValue,O)||(W.currentValue=O),e.Njj(O)}),e.bIt("blur",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onBlur(O))})("focus",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onFocus(O))})("change",function(O){return e.eBV(o),e.Njj(O.stopPropagation())})("input",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onInput(O))})("selectItem",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onSelectItem(O))})("keypress",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.preventEventsPropagation(O))})("keydown",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.preventEventsPropagation(O))})("keyup",function(O){e.eBV(o);const W=e.XpG();return e.Njj(W.onKeyUp(O))}),e.k0s()()}if(2&d){const o=e.XpG(),c=e.sdS(1);e.R7$(),e.Y8G("ngIf",o.searching),e.R7$(),e.AVh("is-invalid",o.showErrorMessages)("ps-3",o.chips.hasItems()),e.R50("ngModel",o.currentValue),e.Y8G("id",o.id)("inputFormatter",o.formatter)("name",o.model.name)("ngbTypeahead",o.search)("placeholder",o.model.placeholder)("readonly",o.model.readOnly)("resultTemplate",c)("type",o.model.inputType),e.BMQ("aria-labelledby","label_"+o.model.id)("autoComplete",o.model.autoComplete)}}let mD=(()=>{class d extends Yy.o{constructor(o,c,O,W){super(o,O,W),this.vocabularyService=o,this.cdr=c,this.layoutService=O,this.validationService=W,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.searching=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed=new qo.c(()=>()=>this.changeSearchingStatus(!1)),this.formatter=ue=>ue.display,this.search=ue=>ue.pipe((0,UR.B)(300),(0,C.F)(),(0,mi.M)(()=>this.changeSearchingStatus(!0)),(0,ks.n)(Ie=>""===Ie||Ie.length<this.model.minChars?(0,Is.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(Ie,!1,this.model.vocabularyOptions,new j_.Q).pipe((0,js.ak)(),(0,mi.M)(()=>this.searchFailed=!1),(0,An.W)(()=>(this.searchFailed=!0,(0,Is.of)((0,qT.g)(new j_.Q,[])))))),(0,xt.T)(Ie=>Ie.page),(0,xt.T)(Ie=>{if(Ie&&Ie.length>0&&(0,G.hj)(this.currentValue)){const rt=new eg.b;rt.display=this.currentValue,rt.value=this.currentValue,Ie.push(rt)}return Ie}),(0,mi.M)(()=>this.changeSearchingStatus(!1)),(0,Cw.h)(this.hideSearchingWhenUnsubscribed))}ngOnInit(){this.hasAuthority=this.model.vocabularyOptions&&(0,G.a4)(this.model.vocabularyOptions.name),this.chips=new oD(this.model.value,"display",null,A.c.submission.icons.metadata),this.chips.chipsItems.subscribe(o=>{const c=this.chips.getChipsItems();yu()(c,this.model.value)||this.dispatchUpdate(c)})}changeSearchingStatus(o){this.searching=o,this.cdr.detectChanges()}onInput(o){o.data&&this.group.markAsDirty(),this.cdr.detectChanges()}onBlur(o){(0,G.hj)(this.currentValue)&&(!this.model.hasAuthority||!this.instance.isPopupOpen())&&this.addTagsToChips(),this.blur.emit(o)}onSelectItem(o){this.chips.add(o.item),this.updateModel(o),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50)}updateModel(o){this.dispatchUpdate(this.chips.getChipsItems())}onKeyUp(o){(13===o.keyCode||188===o.keyCode)&&(o.preventDefault(),this.addTagsToChips(),o.stopPropagation())}preventEventsPropagation(o){o.stopPropagation(),13===o.keyCode&&o.preventDefault()}setCurrentValue(o,c=!1){this.currentValue=o}addTagsToChips(){if((0,G.a4)(this.currentValue)&&(!this.hasAuthority||!this.model.vocabularyOptions.closed)){let o=[];o=this.currentValue.split(",");const c=[];o.forEach(O=>{O.split(";").forEach(W=>{c.push(W)})}),c.forEach(O=>{(O=O.trim()).length>0&&this.chips.add(O)}),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50),this.updateModel(event)}}static{this.\u0275fac=function(c){return new(c||d)(e.rXU(U_.g),e.rXU(e.gRc),e.rXU(Ms.fpj),e.rXU(Ms.STK))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["ds-dynamic-tag"]],viewQuery:function(c,O){if(1&c&&e.GBs(tE,5),2&c){let W;e.mGM(W=e.lsd())&&(O.instance=W.first)}},inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:6,consts:[["rt",""],["instance","ngbTypeahead"],[3,"chips","editable","showIcons","wrapperClass"],["class","border-0 form-control-plaintext tag-input flex-grow-1 mt-1 mb-1","type","text","role","textbox",3,"ps-3","placeholder","readonly","ngModel","ngModelChange","blur","keypress","keydown","keyup",4,"ngIf"],["class","position-relative right-addon",4,"ngIf"],["type","text","role","textbox",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModelChange","blur","keypress","keydown","keyup","placeholder","readonly","ngModel"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["type","text",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModelChange","blur","focus","change","input","selectItem","keypress","keydown","keyup","ngModel","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","resultTemplate","type"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"]],template:function(c,O){1&c&&(e.DNE(0,kR,1,1,"ng-template",null,0,e.C5r),e.j41(2,"ds-chips",2),e.DNE(3,hD,1,5,"input",3)(4,fD,4,16,"div",4),e.k0s()),2&c&&(e.R7$(2),e.Y8G("chips",O.chips)("editable",!1)("showIcons",O.model.hasAuthority)("wrapperClass","border-bottom border-light"),e.R7$(),e.Y8G("ngIf",!O.model.hasAuthority),e.R7$(),e.Y8G("ngIf",O.model.hasAuthority))},dependencies:[q.h_,q.$n,ln.YN,ln.me,ln.BC,ln.vS,f.bT,BR],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}select.form-control[_ngcontent-%COMP%]{appearance:auto}.col-sm-6[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.chips-left[_ngcontent-%COMP%]{left:0;padding-right:100%}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:scroll;overflow-x:hidden;left:0!important;margin-top:var(--bs-spacer)!important}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.tag-input[_ngcontent-%COMP%]{flex-grow:1;outline:none;width:auto!important}"]})}}return d})();function VR(d){const y=d;switch(d.type){case Ms.WlY:return nw;case Ms.eU4:return A_;case Ms.W25:return d instanceof rw.R?V_:$T;case Ms.fQD:return y.inline?Gy:XT;case Ms.wnr:return iw;case Ms.FlA:return KT;case Ms.KMD:return d instanceof OR.t?V_:w_;case Ms.PTN:return Wy;case Ms.TwG:return x_;case Ms.CTm:return L_;case Qy.m:return Jy.d;case Ew.W:return uD.s;case bw.v:return mD;case Ka.T:return H_;case YT.s:return sw.P;case nD.d:case Xy.V:return nu;case ER.v:return CR;case gR.L:return _R;default:return null}}var GR=n(14410);class gD extends E_.Qf{getResponseParser(){return GR.M}}let $R=(()=>{class d{constructor(o,c){this.requestService=o,this.halService=c}sendEvent(o,c){const O=this.requestService.generateRequestId();this.halService.getEndpoint(o).pipe((0,xt.T)(W=>new gD(O,W,JSON.stringify(c))),(0,T.s)(1)).subscribe(W=>this.requestService.send(W))}trackViewEvent(o,c){this.sendEvent("/statistics/viewevents",{targetId:o.uuid,targetType:o.type,referrer:c})}trackSearchEvent(o,c,O,W,ue){const Ie={query:o.query,page:{size:c.size,totalElements:c.totalElements,totalPages:c.totalPages,number:c.number},sort:{by:O.by,order:O.order.toLowerCase()}};if((0,G.a4)(o.configuration)&&Object.assign(Ie,{configuration:o.configuration}),(0,G.hj)(o.dsoTypes)&&Object.assign(Ie,{dsoType:o.dsoTypes[0].toLowerCase()}),(0,G.a4)(o.scope)&&Object.assign(Ie,{scope:o.scope}),(0,G.hj)(W)){const rt=[];for(let kt=0,Cn=W.length;kt<Cn;kt++){const mn=W[kt];rt.push({filter:mn.filter,operator:mn.operator,value:mn.value,label:mn.label})}Object.assign(Ie,{appliedFilters:rt})}(0,G.a4)(ue)&&Object.assign(Ie,{clickedObject:ue}),this.sendEvent("/statistics/searchevents",Ie)}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Cl.B),e.KVO(t_.Y))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})(),nE=(()=>{class d{constructor(o,c){this.angulartics2=o,this.statisticsService=c}startTracking(){this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(o=>this.eventTrack(o))}eventTrack(o){"page_view"===o.action?this.statisticsService.trackViewEvent(o.properties.object,o.properties.referrer):"search"===o.action&&this.statisticsService.trackSearchEvent(o.properties.searchOptions,o.properties.page,o.properties.sort,o.properties.filters,o.properties.clickedObject?.split("?")[0])}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(Bi.il),e.KVO($R))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var iu;let ud=class{static{iu=this}static{this.NGRX_STATE=(0,e.zw6)("NGRX_STATE")}constructor(y,o,c,O,W,ue,Ie,rt,kt,Cn){this.store=y,this.correlationIdService=o,this.appConfig=c,this.translate=O,this.localeService=W,this.angulartics2DSpace=ue,this.headTagService=Ie,this.breadcrumbsService=rt,this.themeService=kt,this.menuService=Cn}static providers(){if(!iu.isPrototypeOf(this))throw new Error("Initalization providers should only be generated from concrete subclasses of InitService");return[{provide:iu,useClass:this},{provide:si.vQ,useFactory:y=>(this.resolveAppConfig(y),A.c),deps:[e.pJN]},{provide:e.hnV,useFactory:y=>y.init(),deps:[iu],multi:!0},{provide:si.l9,useValue:XP},{provide:Ms.Fdw,useValue:VR}]}static resolveAppConfig(y){}checkAuthenticationToken(){this.store.dispatch(new X.S3)}initCorrelationId(){this.correlationIdService.initCorrelationId()}checkEnvironment(){if(!yu()(A.c,this.appConfig))throw new Error("environment does not match app config!");A.c.debug&&console.info(A.c)}initI18n(){this.translate.addLangs(A.c.languages.filter(y=>!0===y.active).map(y=>y.code)),this.localeService.setCurrentLanguageCode()}initAngulartics(){this.angulartics2DSpace.startTracking()}initRouteListeners(){this.headTagService.listenForRouteChange(),this.breadcrumbsService.listenForRouteChanges(),this.themeService.listenForRouteChanges(),this.menuService.listenForRouteChanges()}authenticationReady$(){return this.store.pipe((0,E.Lt)(L.Gv),(0,C.F)(),(0,$r.I)(y=>!1===y))}};ud=iu=(0,Ue.Cg)([(0,Ue.Qj)(2,(0,e.y_5)(si.vQ)),(0,Ue.Sn)("design:paramtypes",[E.il,Xp,Object,K.c$,yc.iH,nE,RT,ky.E,J.Fs,ei.$])],ud);var gp=n(16358);class _D{constructor(){this.production=!1,this.debug=!1,this.ui={ssl:!1,host:"localhost",port:4e3,nameSpace:"/",rateLimiter:{windowMs:6e4,max:500},useProxies:!0},this.rest={ssl:!1,host:"localhost",port:8080,nameSpace:"/"},this.actuators={endpointPath:"/actuator/health"},this.cache={msToLive:{default:9e5},control:"max-age=604800",autoSync:{defaultTime:0,maxBufferSize:100,timePerMethod:{[rm.D.PATCH]:3}},serverSide:{debug:!1,headers:["Link"],botCache:{max:1e3,timeToLive:864e5,allowStale:!0},anonymousCache:{max:0,timeToLive:1e4,allowStale:!0}}},this.auth={ui:{timeUntilIdle:9e5,idleGracePeriod:3e5},rest:{timeLeftBeforeTokenRefresh:12e4}},this.form={spellCheck:!0,validatorMap:{required:"required",regex:"pattern"}},this.notifications={rtl:!1,position:["top","right"],maxStack:8,timeOut:5e3,clickToClose:!0,animate:gp.n.Scale},this.submission={autosave:{metadata:[],timer:0},duplicateDetection:{alwaysShowSection:!1},typeBind:{field:"dc.type"},icons:{metadata:[{name:"dc.author",style:"fas fa-user"},{name:"default",style:""}],authority:{confidence:[{value:600,style:"text-success",icon:"fa-circle-check"},{value:500,style:"text-info",icon:"fa-gear"},{value:400,style:"text-warning",icon:"fa-circle-question"},{value:300,style:"text-muted",icon:"fa-circle-question"},{value:200,style:"text-muted",icon:"fa-circle-exclamation"},{value:100,style:"text-muted",icon:"fa-circle-stop"},{value:0,style:"text-muted",icon:"fa-ban"},{value:-1,style:"text-muted",icon:"fa-circle-xmark"},{value:"default",style:"text-muted",icon:"fa-circle-xmark"}]}}},this.defaultLanguage="en",this.languages=[{code:"en",label:"English",active:!0},{code:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",active:!0},{code:"bn",label:"\u09ac\u09be\u0982\u09b2\u09be",active:!0},{code:"ca",label:"Catal\xe0",active:!0},{code:"cs",label:"\u010ce\u0161tina",active:!0},{code:"de",label:"Deutsch",active:!0},{code:"el",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",active:!0},{code:"es",label:"Espa\xf1ol",active:!0},{code:"fi",label:"Suomi",active:!0},{code:"fr",label:"Fran\xe7ais",active:!0},{code:"gd",label:"G\xe0idhlig",active:!0},{code:"hi",label:"\u0939\u093f\u0902\u0926\u0940",active:!0},{code:"hu",label:"Magyar",active:!0},{code:"it",label:"Italiano",active:!0},{code:"kk",label:"\u049a\u0430\u0437\u0430\u049b",active:!0},{code:"lv",label:"Latvie\u0161u",active:!0},{code:"nl",label:"Nederlands",active:!0},{code:"pl",label:"Polski",active:!0},{code:"pt-PT",label:"Portugu\xeas",active:!0},{code:"pt-BR",label:"Portugu\xeas do Brasil",active:!0},{code:"sr-lat",label:"Srpski (lat)",active:!0},{code:"sr-cyr",label:"\u0421\u0440\u043f\u0441\u043a\u0438",active:!0},{code:"sv",label:"Svenska",active:!0},{code:"tr",label:"T\xfcrk\xe7e",active:!0},{code:"uk",label:"Y\u043a\u0440\u0430\u0457\u0301\u043d\u0441\u044c\u043a\u0430",active:!0},{code:"vi",label:"Ti\u1ebfng Vi\u1ec7t",active:!0}],this.browseBy={oneYearLimit:10,fiveYearLimit:30,defaultLowerLimit:1900,showThumbnails:!0,pageSize:20},this.communityList={pageSize:20},this.homePage={recentSubmissions:{pageSize:5,sortField:"dc.date.accessioned"},topLevelCommunityList:{pageSize:5},showDiscoverFilters:!1},this.item={edit:{undoTimeout:1e4},showAccessStatuses:!1,bitstream:{pageSize:5}},this.community={searchSection:{showSidebar:!0}},this.collection={searchSection:{showSidebar:!0},edit:{undoTimeout:1e4}},this.suggestion=[],this.themes=[{name:"dspace",headTags:[{tagName:"link",attributes:{rel:"icon",href:"assets/dspace/images/favicons/favicon.ico",sizes:"any"}},{tagName:"link",attributes:{rel:"icon",href:"assets/dspace/images/favicons/favicon.svg",type:"image/svg+xml"}},{tagName:"link",attributes:{rel:"apple-touch-icon",href:"assets/dspace/images/favicons/apple-touch-icon.png"}},{tagName:"link",attributes:{rel:"manifest",href:"assets/dspace/images/favicons/manifest.webmanifest"}}]}],this.bundle={standardBundles:["ORIGINAL","THUMBNAIL","LICENSE"]},this.mediaViewer={image:!1,video:!1},this.info={enableEndUserAgreement:!0,enablePrivacyStatement:!0,enableCOARNotifySupport:!0},this.markdown={enabled:!1,mathjax:!1},this.vocabularies=[{filter:"subject",vocabulary:"srsc",enabled:!1}],this.comcolSelectionSort={sortField:"dc.title",sortDirection:"ASC"},this.qualityAssuranceConfig={sourceUrlMapForProjectSearch:{openaire:"https://explore.openaire.eu/search/project?projectId="},pageSize:5},this.search={advancedFilters:{enabled:!1,filter:["title","author","subject","entityType"]},filterPlaceholdersCount:5},this.notifyMetrics=[{title:"admin-notify-dashboard.received-ldn",boxes:[{color:"#B8DAFF",title:"admin-notify-dashboard.NOTIFY.incoming.accepted",config:"NOTIFY.incoming.accepted",description:"admin-notify-dashboard.NOTIFY.incoming.accepted.description"},{color:"#D4EDDA",title:"admin-notify-dashboard.NOTIFY.incoming.processed",config:"NOTIFY.incoming.processed",description:"admin-notify-dashboard.NOTIFY.incoming.processed.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.incoming.failure",config:"NOTIFY.incoming.failure",description:"admin-notify-dashboard.NOTIFY.incoming.failure.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.incoming.untrusted",config:"NOTIFY.incoming.untrusted",description:"admin-notify-dashboard.NOTIFY.incoming.untrusted.description"},{color:"#43515F",title:"admin-notify-dashboard.NOTIFY.incoming.involvedItems",textColor:"#fff",config:"NOTIFY.incoming.involvedItems",description:"admin-notify-dashboard.NOTIFY.incoming.involvedItems.description"}]},{title:"admin-notify-dashboard.generated-ldn",boxes:[{color:"#D4EDDA",title:"admin-notify-dashboard.NOTIFY.outgoing.delivered",config:"NOTIFY.outgoing.delivered",description:"admin-notify-dashboard.NOTIFY.outgoing.delivered.description"},{color:"#B8DAFF",title:"admin-notify-dashboard.NOTIFY.outgoing.queued",config:"NOTIFY.outgoing.queued",description:"admin-notify-dashboard.NOTIFY.outgoing.queued.description"},{color:"#FDEEBB",title:"admin-notify-dashboard.NOTIFY.outgoing.queued_for_retry",config:"NOTIFY.outgoing.queued_for_retry",description:"admin-notify-dashboard.NOTIFY.outgoing.queued_for_retry.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.outgoing.failure",config:"NOTIFY.outgoing.failure",description:"admin-notify-dashboard.NOTIFY.outgoing.failure.description"},{color:"#43515F",title:"admin-notify-dashboard.NOTIFY.outgoing.involvedItems",textColor:"#fff",config:"NOTIFY.outgoing.involvedItems",description:"admin-notify-dashboard.NOTIFY.outgoing.involvedItems.description"}]}],this.liveRegion={messageTimeOutDurationMs:3e4,isVisible:!1}}}let Tw=(()=>{class d extends ud{constructor(o,c,O,W,ue,Ie,rt,kt,Cn,mn,ds,Ss,Hn,as,Js,Gi,fi,Mo){super(o,c,W,ue,Ie,rt,Cn,mn,Hn,as),this.store=o,this.correlationIdService=c,this.transferState=O,this.appConfig=W,this.translate=ue,this.localeService=Ie,this.angulartics2DSpace=rt,this.googleAnalyticsService=kt,this.headTagService=Cn,this.breadcrumbsService=mn,this.orejimeService=ds,this.authService=Ss,this.themeService=Hn,this.menuService=as,this.rootDataService=Js,this.router=Gi,this.requestService=fi,this.halService=Mo}static resolveAppConfig(o){if(o.hasKey(si.Dr)){const c=o.get(si.Dr,new _D);(0,ee.$k)(A.c,c)}}init(){var o=this;return(0,m.A)(function*(){return yield o.loadAppState(),o.checkAuthenticationToken(),o.externalAuthCheck(),o.initCorrelationId(),o.checkEnvironment(),(d=>{const y=d.production?"Production":"Development",o=d.production?"red":"green";console.info(""),console.info("%cdspace-angular","font-weight: bold;"),console.info("Version: %c9.0.0-next","font-weight: bold;"),console.info(`Environment: %c${y}`,`color: ${o}; font-weight: bold;`),console.info("")})(A.c),o.initI18n(),o.initAngulartics(),o.initGoogleAnalytics(),o.initRouteListeners(),o.themeService.listenForThemeChanges(!0),o.trackAuthTokenExpiration(),o.initOrejime(),yield MT(o.authenticationReady$()),!0})}loadAppState(){var o=this;return(0,m.A)(function*(){if(o.appConfig.ssr.transferState){const c=o.transferState.get(ud.NGRX_STATE,null);return o.transferState.remove(ud.NGRX_STATE),o.store.dispatch(new ea(Do.REHYDRATE,c)),MT(o.store.select(C_.N).pipe((0,$r.I)(O=>(0,G.hj)(O)),(0,xt.T)(()=>!0)))}return Promise.resolve(!0)})()}trackAuthTokenExpiration(){this.authService.trackTokenExpiration()}initOrejime(){this.authenticationReady$().subscribe(()=>{this.orejimeService.initialize()})}initGoogleAnalytics(){this.googleAnalyticsService.addTrackingIdToPage()}externalAuthCheck(){this.sub=this.authService.isExternalAuthentication().pipe((0,Wn.p)(o=>o)).subscribe(()=>{this.requestService.setStaleByHrefSubstring(this.halService.getRootHref()),this.authService.setExternalAuthStatus(!1)}),this.closeAuthCheckSubscription()}closeAuthCheckSubscription(){(function jy(d,y){const o="object"==typeof y;return new Promise((c,O)=>{const W=new ST.Ms({next:ue=>{c(ue),W.unsubscribe()},error:O,complete:()=>{o?c(y.defaultValue):O(new eh.G)}});d.subscribe(W)})})(this.authenticationReady$()).then(()=>{this.sub.unsubscribe()})}initRouteListeners(){super.initRouteListeners(),this.listenForRouteChanges()}listenForRouteChanges(){this.rootDataService.invalidateRootCache(),this.router.events.pipe((0,Wn.p)(o=>o instanceof v.Z)).subscribe(()=>{this.rootDataService.invalidateRootCache()})}static{this.\u0275fac=function(c){return new(c||d)(e.KVO(E.il),e.KVO(Xp),e.KVO(e.pJN),e.KVO(si.vQ),e.KVO(K.c$),e.KVO(yc.iH),e.KVO(nE),e.KVO(pm),e.KVO(RT),e.KVO(ky.E),e.KVO(Ny.B),e.KVO(p.uR),e.KVO(J.Fs),e.KVO(ei.$),e.KVO(_d.RootDataService),e.KVO(v.Ix),e.KVO(Cl.B),e.KVO(t_.Y))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})();const Dw=(0,e.zw6)("req"),KR=(0,e.v7R)({providers:[(0,le.$R)((0,le.Sx)()),function oc(){return(0,e.ngT)("NgEagerAnimations"),[...ba]}(),(0,h.$x)(),(0,e.oKB)(Bi.ok.forRoot(),E.md.forFeature("core",A2,kc.wP),pr.forFeature(Xb),K.h.forRoot({loader:{provide:K.Wr,useFactory:function Ow(d,y){return new OT(d,y,"assets/i18n/",".json")},deps:[e.pJN,le.Qq]},missingTranslationHandler:{provide:K.er,useClass:R_.M},useDefaultLang:!0})),...Tw.providers(),{provide:e.sZ2,useValue:"dspace-angular"},{provide:w2.S,useFactory:function WR(d){return d.get(Dw,{})},deps:[e.pJN]},{provide:e.hnV,useFactory:(d,y)=>d.initXSRFToken(y),deps:[b_,le.Qq],multi:!0},{provide:b_,useClass:RP},{provide:p.uR,useClass:p.uR},{provide:Dd.O,useClass:$v},{provide:Ny.B,useClass:jP},{provide:Lp.E,useClass:Lp.E},{provide:yc.iH,useClass:yc.iH},{provide:cm.$,useClass:dm},{provide:pm,useClass:pm},{provide:Bi.eB,useClass:Bi.eB},{provide:y_.H,useClass:P2},{provide:Ly.f,useClass:ET},{provide:CT,useFactory:function PP(){return window.location}},{provide:g0,useClass:bT}]},Ab),HR=()=>(0,h.B8)(Q,KR),sE=null!==document.querySelector("script#dspace-angular-state"),iE=()=>(A.c.production&&(0,e.SmG)(),sE?HR():fetch("assets/config.json").then(d=>d.json()).then(d=>((0,ee.$k)(A.c,d),HR())));"complete"!==document.readyState||sE?document.addEventListener("DOMContentLoaded",iE):iE()},47435:(F,b,n)=>{"use strict";n.r(b),n.d(b,{HeaderNavbarWrapperComponent:()=>E});var i=n(60177),t=n(41780),u=n(95960),e=n(78221),h=n(77632),m=n(621),f=n(54438);function v(_,C){if(1&_&&(f.j41(0,"div",2),f.nI1(1,"async"),f.j41(2,"nav",3),f.nI1(3,"async"),f.nI1(4,"translate"),f.nrm(5,"ds-navbar"),f.k0s()()),2&_){const S=f.XpG();f.Y8G("@slideMobileNav",f.bMT(1,3,S.isNavBarCollapsed$)?"collapsed":"expanded"),f.R7$(2),f.BMQ("aria-hidden",f.bMT(3,5,S.isNavBarCollapsed$))("aria-label",f.bMT(4,7,"nav.main.description"))}}let E=(()=>{class _ extends e.HeaderNavbarWrapperComponent{static{this.\u0275fac=(()=>{let S;return function(T){return(S||(S=f.xGo(_)))(T||_)}})()}static{this.\u0275cmp=f.VBU({type:_,selectors:[["ds-themed-header-navbar-wrapper"]],standalone:!0,features:[f.Vt3,f.aNF],decls:4,vars:3,consts:[["id","header-navbar-wrapper"],["id","mobile-navbar-wrapper",4,"ngIf"],["id","mobile-navbar-wrapper"],["id","collapsible-mobile-navbar",1,"px-3"]],template:function(R,T){1&R&&(f.j41(0,"div",0),f.nrm(1,"ds-header"),f.DNE(2,v,6,9,"div",1),f.nI1(3,"async"),f.k0s()),2&R&&(f.R7$(2),f.Y8G("ngIf",f.bMT(3,1,T.isMobile$)))},dependencies:[u.q,h.D,i.Jj,t.h,t.D9,i.bT],styles:["[_nghost-%COMP%]{--ds-header-navbar-border-bottom-style: solid var(--ds-header-navbar-border-bottom-height) var(--ds-header-navbar-border-bottom-color);--ds-expandable-navbar-border-top-style: solid var(--ds-expandable-navbar-border-top-height) var(--ds-expandable-navbar-border-top-color);--ds-expandable-navbar-height: calc(100vh - var(--ds-header-height))}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]{position:relative;border-bottom:var(--ds-header-navbar-border-bottom-style)}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]   div#mobile-navbar-wrapper[_ngcontent-%COMP%]{width:100%;background-color:var(--ds-expandable-navbar-bg);position:absolute;z-index:var(--ds-nav-z-index);overflow:hidden}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]   div#mobile-navbar-wrapper[_ngcontent-%COMP%]   nav#collapsible-mobile-navbar[_ngcontent-%COMP%]{min-height:var(--ds-expandable-navbar-height);height:auto;border-bottom:var(--ds-header-navbar-border-bottom-style)}[_nghost-%COMP%]     .ds-menu-item, [_nghost-%COMP%]     .ds-menu-toggler-wrapper{white-space:nowrap;text-decoration:none}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item-wrapper, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper{display:flex;align-items:center;height:100%}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item{padding:var(--ds-navbar-item-vertical-padding) var(--ds-navbar-item-horizontal-padding)}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper{color:var(--ds-navbar-link-color)!important}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item:hover, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item:focus, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper:hover, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper:focus{color:var(--ds-navbar-link-color-hover)!important}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .dropdown-menu .ds-menu-item{padding:var(--ds-navbar-dropdown-item-vertical-padding) var(--ds-navbar-dropdown-item-horizontal-padding)}[_nghost-%COMP%]     nav#collapsible-mobile-navbar{border-top:var(--ds-expandable-navbar-border-top-style);padding-top:var(--ds-expandable-navbar-padding-top)}[_nghost-%COMP%]     nav#collapsible-mobile-navbar #main-site-navigation .ds-menu-item{padding:var(--ds-expandable-navbar-item-vertical-padding) 0}"],data:{animation:[m.p8]}})}}return _})()},3018:(F,b,n)=>{"use strict";n.r(b),n.d(b,{HeaderComponent:()=>A});var i=n(60177),t=n(7901),u=n(58003),e=n(41780),h=n(28068),m=n(20968),f=n(34912),v=n(77632),E=n(3224),_=n(44002),C=n(34458),S=n(54438);function R(p,L){1&p&&(S.j41(0,"nav",9),S.nI1(1,"translate"),S.nrm(2,"ds-navbar"),S.k0s()),2&p&&S.BMQ("aria-label",S.bMT(1,1,"nav.main.description"))}function T(p,L){if(1&p){const D=S.RV6();S.j41(0,"div",10)(1,"button",11),S.nI1(2,"translate"),S.nI1(3,"async"),S.bIt("click",function(){S.eBV(D);const M=S.XpG();return S.Njj(M.toggleNavbar())}),S.nrm(4,"span",12),S.k0s()()}if(2&p){const D=S.XpG();S.R7$(),S.BMQ("aria-label",S.bMT(2,2,"nav.toggle"))("aria-expanded",!0!==S.bMT(3,4,D.isNavBarCollapsed$))}}let A=(()=>{class p extends f.HeaderComponent{ngOnInit(){super.ngOnInit(),this.isNavBarCollapsed$=this.menuService.isMenuCollapsed(this.menuID)}static{this.\u0275fac=(()=>{let D;return function(M){return(D||(D=S.xGo(p)))(M||p)}})()}static{this.\u0275cmp=S.VBU({type:p,selectors:[["ds-themed-header"]],standalone:!0,features:[S.Vt3,S.aNF],decls:21,vars:20,consts:[["id","main-site-header"],["id","main-site-header-container",1,"container","h-100","d-flex","flex-row","flex-wrap","align-items-center","justify-content-between","gapx-3","gapy-2"],["id","header-left",1,"h-100","flex-fill","d-flex","flex-row","flex-nowrap","justify-content-start","align-items-center","gapx-3"],["routerLink","/home",1,"d-block","my-2","my-md-0"],["id","header-logo","src","assets/images/HighCourtLogo.jpeg"],["class","navbar navbar-expand p-0 align-items-stretch align-self-stretch","id","desktop-navbar",4,"ngIf"],["id","header-right",1,"h-100","d-flex","flex-row","flex-nowrap","justify-content-end","align-items-center","gapx-1","ms-auto"],["role","menubar",1,"h-100","d-flex","flex-row","flex-nowrap","align-items-center","gapx-1"],["id","mobile-navbar-toggler","class","d-block d-lg-none ms-3",4,"ngIf"],["id","desktop-navbar",1,"navbar","navbar-expand","p-0","align-items-stretch","align-self-stretch"],["id","mobile-navbar-toggler",1,"d-block","d-lg-none","ms-3"],["id","navbar-toggler","type","button","aria-controls","collapsible-mobile-navbar",1,"btn","btn-transparent",3,"click"],["aria-hidden","true",1,"fas","fa-bars","fa-fw","fa-xl","toggler-icon"]],template:function(w,M){1&w&&(S.j41(0,"header",0)(1,"div",1)(2,"div",2),S.nI1(3,"async"),S.nI1(4,"async"),S.nI1(5,"translate"),S.j41(6,"a",3),S.nI1(7,"translate"),S.nrm(8,"img",4),S.nI1(9,"translate"),S.k0s(),S.DNE(10,R,3,3,"nav",5),S.nI1(11,"async"),S.k0s(),S.j41(12,"div",6),S.nrm(13,"ds-search-navbar"),S.j41(14,"div",7),S.nrm(15,"ds-lang-switch")(16,"ds-context-help-toggle")(17,"ds-impersonate-navbar")(18,"ds-auth-nav-menu"),S.k0s(),S.DNE(19,T,5,6,"div",8),S.nI1(20,"async"),S.k0s()()()),2&w&&(S.R7$(2),S.BMQ("role",S.bMT(3,6,M.isMobile$)?"navigation":"presentation")("aria-label",S.bMT(4,8,M.isMobile$)?S.bMT(5,10,"nav.main.description"):null),S.R7$(4),S.BMQ("aria-label",S.bMT(7,12,"home.title")),S.R7$(2),S.BMQ("alt",S.bMT(9,14,"menu.header.image.logo")),S.R7$(2),S.Y8G("ngIf",!0!==S.bMT(11,16,M.isMobile$)),S.R7$(9),S.Y8G("ngIf",S.bMT(20,18,M.isMobile$)))},dependencies:[u.zH,u.QE,h.n,t.Wk,E.X,m.Y,_.v,C.d,v.D,e.h,e.D9,i.Jj,i.bT],styles:["[_nghost-%COMP%]   #main-site-header[_ngcontent-%COMP%]{min-height:var(--ds-header-height);background-color:var(--ds-header-bg)}@media (min-width: 768px){[_nghost-%COMP%]   #main-site-header[_ngcontent-%COMP%]{height:var(--ds-header-height)}}[_nghost-%COMP%]   #main-site-header-container[_ngcontent-%COMP%]{min-height:var(--ds-header-height)}[_nghost-%COMP%]   img#header-logo[_ngcontent-%COMP%]{height:var(--ds-header-logo-height)}[_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}[_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}"]})}}return p})()},31264:(F,b,n)=>{"use strict";n.r(b),n.d(b,{HomeNewsComponent:()=>u});var i=n(52178),t=n(54438);let u=(()=>{class e extends i.HomeNewsComponent{static{this.\u0275fac=(()=>{let m;return function(v){return(m||(m=t.xGo(e)))(v||e)}})()}static{this.\u0275cmp=t.VBU({type:e,selectors:[["ds-themed-home-news"]],standalone:!0,features:[t.Vt3,t.aNF],decls:15,vars:1,consts:[[1,"background-image-container","mt-ncs"],[1,"container"],[1,"jumbotron","py-4","px-2","py-sm-5","px-sm-0","mt-0","mb-4"],[1,"d-flex","flex-wrap"],[1,"display-2"],[1,"background-image"],["type","image/webp","srcset","assets/dspace/images/s05012023.jpg 2000w, assets/dspace/images/s05012023.jpg 1200w, assets/dspace/images/s05012023.jpg 768w"],["type","image/jpg","srcset","assets/dspace/images/s05012023.jpg 2000w, assets/dspace/images/s05012023.jpg 1200w, assets/dspace/images/s05012023.jpg 768w"],["alt","",3,"src"],[1,"credits"],["href","https://www.pexels.com/@inspiredimages"]],template:function(f,v){1&f&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h1",4),t.EFF(6,"Orissa High Court "),t.k0s()()()()(),t.j41(7,"picture",5),t.nrm(8,"source",6)(9,"source",7)(10,"img",8),t.k0s(),t.j41(11,"small",9),t.EFF(12,"Photo by "),t.j41(13,"a",10),t.EFF(14,"@inspiredimages"),t.k0s()()()),2&f&&(t.R7$(10),t.Y8G("src","assets/dspace/images/s05012023.jpg",t.B4B))},styles:['[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]{color:#fff;position:relative;font-weight:600}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .background-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{background-color:var(--bs-info);position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:top}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;text-shadow:1px 1px 4px rgba(0,0,0,.6);background-color:var(--ds-banner-text-background)}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:after{content:"";display:block;width:var(--ds-banner-background-gradient-width);height:100%;top:0;position:absolute}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:before{background:linear-gradient(to left,var(--ds-banner-text-background),transparent);left:calc(-1 * var(--ds-banner-background-gradient-width))}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]:after{background:linear-gradient(to right,var(--ds-banner-text-background),transparent);right:calc(-1 * var(--ds-banner-background-gradient-width))}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   small.credits[_ngcontent-%COMP%]{opacity:.3;position:absolute;right:var(--bs-spacer);bottom:0}[_nghost-%COMP%]   div.background-image-container[_ngcontent-%COMP%]   small.credits[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit}[_nghost-%COMP%]   .jumbotron[_ngcontent-%COMP%]{background-color:#0000}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ds-home-news-link-color)}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--ds-home-news-link-hover-color)}[_nghost-%COMP%]   .lead[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:400}']})}}return e})()},89768:(F,b,n)=>{"use strict";n.r(b),n.d(b,{NavbarComponent:()=>C});var i=n(60177),t=n(58003),u=n(41780),e=n(67454),h=n(621),m=n(28619),f=n(54438);function v(S,R){1&S&&(f.qex(0),f.nrm(1,"ds-user-menu",3),f.bVm()),2&S&&(f.R7$(),f.Y8G("inExpandableNavbar",!0))}function E(S,R){1&S&&f.eu8(0)}function _(S,R){if(1&S&&(f.qex(0),f.DNE(1,E,1,0,"ng-container",4),f.nI1(2,"async"),f.nI1(3,"async"),f.bVm()),2&S){let T,A;const p=R.$implicit,L=f.XpG();f.R7$(),f.Y8G("ngComponentOutlet",null==(T=f.bMT(2,2,L.sectionMap$).get(p.id))?null:T.component)("ngComponentOutletInjector",null==(A=f.bMT(3,4,L.sectionMap$).get(p.id))?null:A.injector)}}let C=(()=>{class S extends e.NavbarComponent{static{this.\u0275fac=(()=>{let T;return function(p){return(T||(T=f.xGo(S)))(p||S)}})()}static{this.\u0275cmp=f.VBU({type:S,selectors:[["ds-themed-navbar"]],standalone:!0,features:[f.Vt3,f.aNF],decls:7,vars:11,consts:[[4,"ngIf"],["role","menubar","id","main-site-navigation",1,"navbar-nav","h-100","align-items-md-stretch","gapx-3",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"inExpandableNavbar"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(A,p){1&A&&(f.DNE(0,v,2,1,"ng-container",0),f.nI1(1,"async"),f.nI1(2,"async"),f.j41(3,"div",1),f.nI1(4,"async"),f.DNE(5,_,4,6,"ng-container",2),f.nI1(6,"async"),f.k0s()),2&A&&(f.Y8G("ngIf",f.bMT(1,3,p.isMobile$)&&f.bMT(2,5,p.isAuthenticated$)),f.R7$(3),f.Y8G("ngClass",f.bMT(4,7,p.isMobile$)?"navbar-nav-mobile":"navbar-nav-desktop"),f.R7$(2),f.Y8G("ngForOf",f.bMT(6,9,p.sections)))},dependencies:[t.zH,i.YU,i.bT,m.r,i.pM,i.OI,i.Jj,u.h],data:{animation:[h.p8]}})}}return S})()},77181:(F,b)=>{"use strict";var i=null;try{i=window}catch{i=global}var t=i.__CerializeTypeMap=new i.Map;function f(Fe){return Array.isArray(Fe)?Fe.map(function(Et){return Et&&Et.toString()||null}):Fe&&Fe.toString()||null}function v(Fe){return Array.isArray(Fe)?Fe.map(function(Et){return parseFloat(Et)}):parseFloat(Fe)}function E(Fe){return Array.isArray(Fe)?Fe.map(function(Et){return!!Et}):!!Fe}function _(Fe){return Array.isArray(Fe)?Fe.map(function(Et){return Et&&Et.toString()||null}):Fe&&Fe.toString()||null}function C(Fe){return Array.isArray(Fe)?Fe.map(function(Et){return parseInt(Et)}):parseInt(Fe)}function S(Fe){return Array.isArray(Fe)?Fe.map(function(Et){return!!Et}):!!Fe}function R(Fe){return Fe===String?f:Fe===Number?v:Fe===Boolean?E:Fe}function T(Fe){return Fe===String?_:Fe===Number?C:Fe===Boolean?S:Fe}function A(Fe,Et){for(var Ye=0;Ye<Fe.length;Ye++)if(Fe[Ye].keyName===Et)return Fe[Ye];return Fe.push(new X(Et)),Fe[Fe.length-1]}function p(Fe,Et){var Ye=null,pt=null;return"string"==typeof Fe?pt=Fe:(Fe&&"function"==typeof Fe||"object"==typeof Fe)&&(Ye=Fe,pt=Et),{key:pt,type:Ye}}b.inheritSerialization=function L(Fe){return function(Et){for(var Ye=t.get(Fe)||[],pt=t.get(Et)||[],Mt=0;Mt<Ye.length;Mt++)X.hasKeyName(pt,Ye[Mt].keyName)||pt.push(X.clone(Ye[Mt]));t.set(Et,pt)}},b.deserialize=function w(Fe,Et){if(Fe&&Et){var Ye=t.get(Fe.constructor)||[];A(Ye,Et).deserializedKey=Et,t.set(Fe.constructor,Ye)}},b.autoserialize=function M(Fe,Et){if(Fe&&Et){var Ye=t.get(Fe.constructor)||[],pt=A(Ye,Et);pt.serializedKey=Et,pt.deserializedKey=Et,t.set(Fe.constructor,Ye)}},b.serializeAs=function x(Fe,Et){if(Fe){var Ye=p(Fe,Et),pt=Ye.key,Mt=Ye.type;return function(Ne,ot){if(Ne&&ot){var Gt=t.get(Ne.constructor)||[],Zt=A(Gt,ot);Zt.serializedKey=pt||ot,Zt.serializedType=Mt,Mt!==Date&&Mt!==RegExp&&!t.get(Mt)&&"function"==typeof Mt&&(Zt.serializedType={Serialize:T(Mt)}),t.set(Ne.constructor,Gt)}}}},b.deserializeAs=function U(Fe,Et){if(Fe){var Ye=p(Fe,Et),pt=Ye.key,Mt=Ye.type;return function(Ne,ot){if(Ne&&ot){var Gt=t.get(Ne.constructor)||[],Zt=A(Gt,ot);Zt.deserializedKey=pt||ot,Zt.deserializedType=Mt,!t.get(Mt)&&Mt!==Date&&Mt!==RegExp&&"function"==typeof Mt&&(Zt.deserializedType={Deserialize:R(Mt)}),t.set(Ne.constructor,Gt)}}}},b.autoserializeAs=function k(Fe,Et){if(Fe){var Ye=p(Fe,Et),pt=Ye.key,Mt=Ye.type;return function(Ne,ot){if(Ne&&ot){var Gt=t.get(Ne.constructor)||[],Zt=A(Gt,ot),mt=pt||ot;Zt.deserializedKey=mt,Zt.deserializedType=Mt,Zt.serializedKey=mt,Zt.serializedType=T(Mt),!t.get(Mt)&&Mt!==Date&&Mt!==RegExp&&"function"==typeof Mt&&(Zt.deserializedType={Deserialize:R(Mt)}),t.set(Ne.constructor,Gt)}}}};var X=function(){function Fe(Et){this.keyName=Et,this.serializedKey=null,this.deserializedKey=null,this.deserializedType=null,this.serializedType=null,this.indexable=!1}return Fe.hasKeyName=function(Et,Ye){for(var pt=0;pt<Et.length;pt++)if(Et[pt].keyName===Ye)return!0;return!1},Fe.clone=function(Et){var Ye=new Fe(Et.keyName);return Ye.deserializedKey=Et.deserializedKey,Ye.serializedKey=Et.serializedKey,Ye.serializedType=Et.serializedType,Ye.deserializedType=Et.deserializedType,Ye.indexable=Et.indexable,Ye},Fe}();function te(Fe,Et){return Array.isArray(Fe)?J(Fe,Et):Fe&&"object"==typeof Fe?le(Fe,Et):("string"==typeof Fe||Fe instanceof Date)&&Et===Date.prototype.constructor?new Date(Fe):"string"==typeof Fe&&Et===RegExp?new RegExp(Fe):Fe}function J(Fe,Et){for(var Ye=new Array(Fe.length),pt=0;pt<Fe.length;pt++)Ye[pt]=te(Fe[pt],Et);return Ye}function Q(Fe,Et,Ye){Ye&&"function"==typeof Ye.OnDeserialized&&Ye.OnDeserialized(Fe,Et)}function ee(Fe,Et){"function"==typeof Fe.constructor.OnSerialized&&Fe.constructor.OnSerialized(Fe,Et)}function le(Fe,Et){var Ye=t.get(Et);if(!Ye){var pt=null;return Et?Q(pt=new Et,Fe,Et):pt=JSON.parse(JSON.stringify(Fe)),pt}for(var Mt=new Et,Ne=0;Ne<Ye.length;Ne++){var ot=Ye[Ne];if(ot.deserializedKey){var Gt=ot.deserializedKey;ot.deserializedKey===ot.keyName&&"function"==typeof Ee&&(Gt=Ee(ot.keyName));var Zt=Fe[Gt];void 0!==Zt&&(Mt[ot.keyName]=null===Zt?Zt:ot.deserializedType&&"function"==typeof ot.deserializedType.Deserialize?ot.deserializedType.Deserialize(Zt):Array.isArray(Zt)?J(Zt,ot.deserializedType||null):("string"==typeof Zt||Zt instanceof Date)&&ot.deserializedType===Date.prototype.constructor?new Date(Zt):"string"==typeof Zt&&ot.deserializedType===RegExp?new RegExp(Fe):Zt&&"object"==typeof Zt?ot.indexable?ne(Zt,ot.deserializedType):le(Zt,ot.deserializedType):Zt)}}return Q(Mt,Fe,Et),Mt}function ne(Fe,Et){var Ye={};return Object.keys(Fe).forEach(function(pt){Ye[pt]=le(Fe[pt],Et)}),Ye}function se(Fe,Et){for(var Ye=new Array(Fe.length),pt=0;pt<Fe.length;pt++)Ye[pt]=Te(Fe[pt],Et);return Ye}function ce(Fe,Et){var pt,Ye={};pt=t.get(Et||Fe.constructor);for(var Mt=0;Mt<pt.length;Mt++){var Ne=pt[Mt];if(Ne.serializedKey){var ot=Ne.serializedKey;Ne.serializedKey===Ne.keyName&&"function"==typeof re&&(ot=re(Ne.keyName));var Gt=Fe[Ne.keyName];if(void 0!==Gt)if(Array.isArray(Gt))Ye[ot]=se(Gt,Ne.serializedType||null);else if(Ne.serializedType&&"function"==typeof Ne.serializedType.Serialize)Ye[ot]=Ne.serializedType.Serialize(Gt);else{var Zt=Te(Gt);void 0!==Zt&&(Ye[ot]=Zt)}}}return ee(Fe,Ye),Ye}function Te(Fe,Et){if(null==Fe)return null;if(Array.isArray(Fe))return se(Fe,Et);if(Et&&t.has(Et))return ce(Fe,Et);if(Fe.constructor&&t.has(Fe.constructor))return ce(Fe);if(Fe instanceof Date)return Fe.toISOString();if(Fe instanceof RegExp)return Fe.toString();if(Fe&&"object"==typeof Fe||"function"==typeof Fe){for(var Ye=Object.keys(Fe),pt={},Mt=0;Mt<Ye.length;Mt++)pt[Ye[Mt]]=Te(Fe[Ye[Mt]]);return ee(Fe,pt),pt}return Fe}b.Deserialize=te,b.Serialize=Te;var re=null,Ee=null},74850:(F,b,n)=>{F.exports=n(77181)},43364:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i,t){for(var u=i<0?"-":"",e=Math.abs(i).toString();e.length<t;)e="0"+e;return u+e},F.exports=b.default},66139:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i,t){if(null==i)throw new TypeError("assign requires that input parameter not be null or undefined");for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(i[u]=t[u]);return i},F.exports=b.default},88200:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function u(e){return(0,t.default)({},e)};var t=i(n(66139));F.exports=b.default},70733:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(12606));b.default=t.default,F.exports=b.default},18635:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getDefaultOptions=function i(){return n},b.setDefaultOptions=function t(u){n=u};var n={}},99073:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(3498)),u=i(n(79429)),e=i(n(29348)),h=i(n(86964)),m=i(n(10125)),f=i(n(43364)),v=i(n(33133));function C(A,p){var L=A>0?"-":"+",D=Math.abs(A),w=Math.floor(D/60),M=D%60;if(0===M)return L+String(w);var x=p||"";return L+String(w)+x+(0,f.default)(M,2)}function S(A,p){return A%60==0?(A>0?"-":"+")+(0,f.default)(Math.abs(A)/60,2):R(A,p)}function R(A,p){var L=p||"",D=A>0?"-":"+",w=Math.abs(A);return D+(0,f.default)(Math.floor(w/60),2)+L+(0,f.default)(w%60,2)}b.default={G:function(p,L,D){var w=p.getUTCFullYear()>0?1:0;switch(L){case"G":case"GG":case"GGG":return D.era(w,{width:"abbreviated"});case"GGGGG":return D.era(w,{width:"narrow"});default:return D.era(w,{width:"wide"})}},y:function(p,L,D){if("yo"===L){var w=p.getUTCFullYear();return D.ordinalNumber(w>0?w:1-w,{unit:"year"})}return v.default.y(p,L)},Y:function(p,L,D,w){var M=(0,m.default)(p,w),x=M>0?M:1-M;return"YY"===L?(0,f.default)(x%100,2):"Yo"===L?D.ordinalNumber(x,{unit:"year"}):(0,f.default)(x,L.length)},R:function(p,L){var D=(0,e.default)(p);return(0,f.default)(D,L.length)},u:function(p,L){var D=p.getUTCFullYear();return(0,f.default)(D,L.length)},Q:function(p,L,D){var w=Math.ceil((p.getUTCMonth()+1)/3);switch(L){case"Q":return String(w);case"QQ":return(0,f.default)(w,2);case"Qo":return D.ordinalNumber(w,{unit:"quarter"});case"QQQ":return D.quarter(w,{width:"abbreviated",context:"formatting"});case"QQQQQ":return D.quarter(w,{width:"narrow",context:"formatting"});default:return D.quarter(w,{width:"wide",context:"formatting"})}},q:function(p,L,D){var w=Math.ceil((p.getUTCMonth()+1)/3);switch(L){case"q":return String(w);case"qq":return(0,f.default)(w,2);case"qo":return D.ordinalNumber(w,{unit:"quarter"});case"qqq":return D.quarter(w,{width:"abbreviated",context:"standalone"});case"qqqqq":return D.quarter(w,{width:"narrow",context:"standalone"});default:return D.quarter(w,{width:"wide",context:"standalone"})}},M:function(p,L,D){var w=p.getUTCMonth();switch(L){case"M":case"MM":return v.default.M(p,L);case"Mo":return D.ordinalNumber(w+1,{unit:"month"});case"MMM":return D.month(w,{width:"abbreviated",context:"formatting"});case"MMMMM":return D.month(w,{width:"narrow",context:"formatting"});default:return D.month(w,{width:"wide",context:"formatting"})}},L:function(p,L,D){var w=p.getUTCMonth();switch(L){case"L":return String(w+1);case"LL":return(0,f.default)(w+1,2);case"Lo":return D.ordinalNumber(w+1,{unit:"month"});case"LLL":return D.month(w,{width:"abbreviated",context:"standalone"});case"LLLLL":return D.month(w,{width:"narrow",context:"standalone"});default:return D.month(w,{width:"wide",context:"standalone"})}},w:function(p,L,D,w){var M=(0,h.default)(p,w);return"wo"===L?D.ordinalNumber(M,{unit:"week"}):(0,f.default)(M,L.length)},I:function(p,L,D){var w=(0,u.default)(p);return"Io"===L?D.ordinalNumber(w,{unit:"week"}):(0,f.default)(w,L.length)},d:function(p,L,D){return"do"===L?D.ordinalNumber(p.getUTCDate(),{unit:"date"}):v.default.d(p,L)},D:function(p,L,D){var w=(0,t.default)(p);return"Do"===L?D.ordinalNumber(w,{unit:"dayOfYear"}):(0,f.default)(w,L.length)},E:function(p,L,D){var w=p.getUTCDay();switch(L){case"E":case"EE":case"EEE":return D.day(w,{width:"abbreviated",context:"formatting"});case"EEEEE":return D.day(w,{width:"narrow",context:"formatting"});case"EEEEEE":return D.day(w,{width:"short",context:"formatting"});default:return D.day(w,{width:"wide",context:"formatting"})}},e:function(p,L,D,w){var M=p.getUTCDay(),x=(M-w.weekStartsOn+8)%7||7;switch(L){case"e":return String(x);case"ee":return(0,f.default)(x,2);case"eo":return D.ordinalNumber(x,{unit:"day"});case"eee":return D.day(M,{width:"abbreviated",context:"formatting"});case"eeeee":return D.day(M,{width:"narrow",context:"formatting"});case"eeeeee":return D.day(M,{width:"short",context:"formatting"});default:return D.day(M,{width:"wide",context:"formatting"})}},c:function(p,L,D,w){var M=p.getUTCDay(),x=(M-w.weekStartsOn+8)%7||7;switch(L){case"c":return String(x);case"cc":return(0,f.default)(x,L.length);case"co":return D.ordinalNumber(x,{unit:"day"});case"ccc":return D.day(M,{width:"abbreviated",context:"standalone"});case"ccccc":return D.day(M,{width:"narrow",context:"standalone"});case"cccccc":return D.day(M,{width:"short",context:"standalone"});default:return D.day(M,{width:"wide",context:"standalone"})}},i:function(p,L,D){var w=p.getUTCDay(),M=0===w?7:w;switch(L){case"i":return String(M);case"ii":return(0,f.default)(M,L.length);case"io":return D.ordinalNumber(M,{unit:"day"});case"iii":return D.day(w,{width:"abbreviated",context:"formatting"});case"iiiii":return D.day(w,{width:"narrow",context:"formatting"});case"iiiiii":return D.day(w,{width:"short",context:"formatting"});default:return D.day(w,{width:"wide",context:"formatting"})}},a:function(p,L,D){var M=p.getUTCHours()/12>=1?"pm":"am";switch(L){case"a":case"aa":return D.dayPeriod(M,{width:"abbreviated",context:"formatting"});case"aaa":return D.dayPeriod(M,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return D.dayPeriod(M,{width:"narrow",context:"formatting"});default:return D.dayPeriod(M,{width:"wide",context:"formatting"})}},b:function(p,L,D){var M,w=p.getUTCHours();switch(M=12===w?"noon":0===w?"midnight":w/12>=1?"pm":"am",L){case"b":case"bb":return D.dayPeriod(M,{width:"abbreviated",context:"formatting"});case"bbb":return D.dayPeriod(M,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return D.dayPeriod(M,{width:"narrow",context:"formatting"});default:return D.dayPeriod(M,{width:"wide",context:"formatting"})}},B:function(p,L,D){var M,w=p.getUTCHours();switch(M=w>=17?"evening":w>=12?"afternoon":w>=4?"morning":"night",L){case"B":case"BB":case"BBB":return D.dayPeriod(M,{width:"abbreviated",context:"formatting"});case"BBBBB":return D.dayPeriod(M,{width:"narrow",context:"formatting"});default:return D.dayPeriod(M,{width:"wide",context:"formatting"})}},h:function(p,L,D){if("ho"===L){var w=p.getUTCHours()%12;return 0===w&&(w=12),D.ordinalNumber(w,{unit:"hour"})}return v.default.h(p,L)},H:function(p,L,D){return"Ho"===L?D.ordinalNumber(p.getUTCHours(),{unit:"hour"}):v.default.H(p,L)},K:function(p,L,D){var w=p.getUTCHours()%12;return"Ko"===L?D.ordinalNumber(w,{unit:"hour"}):(0,f.default)(w,L.length)},k:function(p,L,D){var w=p.getUTCHours();return 0===w&&(w=24),"ko"===L?D.ordinalNumber(w,{unit:"hour"}):(0,f.default)(w,L.length)},m:function(p,L,D){return"mo"===L?D.ordinalNumber(p.getUTCMinutes(),{unit:"minute"}):v.default.m(p,L)},s:function(p,L,D){return"so"===L?D.ordinalNumber(p.getUTCSeconds(),{unit:"second"}):v.default.s(p,L)},S:function(p,L){return v.default.S(p,L)},X:function(p,L,D,w){var x=(w._originalDate||p).getTimezoneOffset();if(0===x)return"Z";switch(L){case"X":return S(x);case"XXXX":case"XX":return R(x);default:return R(x,":")}},x:function(p,L,D,w){var x=(w._originalDate||p).getTimezoneOffset();switch(L){case"x":return S(x);case"xxxx":case"xx":return R(x);default:return R(x,":")}},O:function(p,L,D,w){var x=(w._originalDate||p).getTimezoneOffset();switch(L){case"O":case"OO":case"OOO":return"GMT"+C(x,":");default:return"GMT"+R(x,":")}},z:function(p,L,D,w){var x=(w._originalDate||p).getTimezoneOffset();switch(L){case"z":case"zz":case"zzz":return"GMT"+C(x,":");default:return"GMT"+R(x,":")}},t:function(p,L,D,w){var x=Math.floor((w._originalDate||p).getTime()/1e3);return(0,f.default)(x,L.length)},T:function(p,L,D,w){var x=(w._originalDate||p).getTime();return(0,f.default)(x,L.length)}},F.exports=b.default},33133:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(43364));b.default={y:function(m,f){var v=m.getUTCFullYear(),E=v>0?v:1-v;return(0,t.default)("yy"===f?E%100:E,f.length)},M:function(m,f){var v=m.getUTCMonth();return"M"===f?String(v+1):(0,t.default)(v+1,2)},d:function(m,f){return(0,t.default)(m.getUTCDate(),f.length)},a:function(m,f){var v=m.getUTCHours()/12>=1?"pm":"am";switch(f){case"a":case"aa":return v.toUpperCase();case"aaa":return v;case"aaaaa":return v[0];default:return"am"===v?"a.m.":"p.m."}},h:function(m,f){return(0,t.default)(m.getUTCHours()%12||12,f.length)},H:function(m,f){return(0,t.default)(m.getUTCHours(),f.length)},m:function(m,f){return(0,t.default)(m.getUTCMinutes(),f.length)},s:function(m,f){return(0,t.default)(m.getUTCSeconds(),f.length)},S:function(m,f){var v=f.length,E=m.getUTCMilliseconds(),_=Math.floor(E*Math.pow(10,v-3));return(0,t.default)(_,f.length)}},F.exports=b.default},26035:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n=function(m,f){switch(m){case"P":return f.date({width:"short"});case"PP":return f.date({width:"medium"});case"PPP":return f.date({width:"long"});default:return f.date({width:"full"})}},i=function(m,f){switch(m){case"p":return f.time({width:"short"});case"pp":return f.time({width:"medium"});case"ppp":return f.time({width:"long"});default:return f.time({width:"full"})}};b.default={p:i,P:function(m,f){var C,v=m.match(/(P+)(p+)?/)||[],E=v[1],_=v[2];if(!_)return n(m,f);switch(E){case"P":C=f.dateTime({width:"short"});break;case"PP":C=f.dateTime({width:"medium"});break;case"PPP":C=f.dateTime({width:"long"});break;default:C=f.dateTime({width:"full"})}return C.replace("{{date}}",n(E,f)).replace("{{time}}",i(_,f))}},F.exports=b.default},20059:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i){var t=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return t.setUTCFullYear(i.getFullYear()),i.getTime()-t.getTime()},F.exports=b.default},3498:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function h(m){(0,u.default)(1,arguments);var f=(0,t.default)(m),v=f.getTime();f.setUTCMonth(0,1),f.setUTCHours(0,0,0,0);var E=f.getTime();return Math.floor((v-E)/e)+1};var t=i(n(75624)),u=i(n(5238)),e=864e5;F.exports=b.default},79429:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(v){(0,h.default)(1,arguments);var E=(0,t.default)(v),_=(0,u.default)(E).getTime()-(0,e.default)(E).getTime();return Math.round(_/m)+1};var t=i(n(75624)),u=i(n(68224)),e=i(n(96145)),h=i(n(5238)),m=6048e5;F.exports=b.default},29348:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function h(m){(0,u.default)(1,arguments);var f=(0,t.default)(m),v=f.getUTCFullYear(),E=new Date(0);E.setUTCFullYear(v+1,0,4),E.setUTCHours(0,0,0,0);var _=(0,e.default)(E),C=new Date(0);C.setUTCFullYear(v,0,4),C.setUTCHours(0,0,0,0);var S=(0,e.default)(C);return f.getTime()>=_.getTime()?v+1:f.getTime()>=S.getTime()?v:v-1};var t=i(n(75624)),u=i(n(5238)),e=i(n(68224));F.exports=b.default},86964:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(v,E){(0,h.default)(1,arguments);var _=(0,t.default)(v),C=(0,u.default)(_,E).getTime()-(0,e.default)(_,E).getTime();return Math.round(C/m)+1};var t=i(n(75624)),u=i(n(3595)),e=i(n(12086)),h=i(n(5238)),m=6048e5;F.exports=b.default},10125:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(v,E){var _,C,S,R,T,A,p,L;(0,u.default)(1,arguments);var D=(0,t.default)(v),w=D.getUTCFullYear(),M=(0,m.getDefaultOptions)(),x=(0,h.default)(null!==(_=null!==(C=null!==(S=null!==(R=E?.firstWeekContainsDate)&&void 0!==R?R:null==E||null===(T=E.locale)||void 0===T||null===(A=T.options)||void 0===A?void 0:A.firstWeekContainsDate)&&void 0!==S?S:M.firstWeekContainsDate)&&void 0!==C?C:null===(p=M.locale)||void 0===p||null===(L=p.options)||void 0===L?void 0:L.firstWeekContainsDate)&&void 0!==_?_:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=new Date(0);j.setUTCFullYear(w+1,0,x),j.setUTCHours(0,0,0,0);var U=(0,e.default)(j,E),$=new Date(0);$.setUTCFullYear(w,0,x),$.setUTCHours(0,0,0,0);var k=(0,e.default)($,E);return D.getTime()>=U.getTime()?w+1:D.getTime()>=k.getTime()?w:w-1};var t=i(n(75624)),u=i(n(5238)),e=i(n(3595)),h=i(n(25167)),m=n(18635);F.exports=b.default},79850:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isProtectedDayOfYearToken=function t(h){return-1!==n.indexOf(h)},b.isProtectedWeekYearToken=function u(h){return-1!==i.indexOf(h)},b.throwProtectedError=function e(h,m,f){if("YYYY"===h)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(m,"`) for formatting years to the input `").concat(f,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===h)throw new RangeError("Use `yy` instead of `YY` (in `".concat(m,"`) for formatting years to the input `").concat(f,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===h)throw new RangeError("Use `d` instead of `D` (in `".concat(m,"`) for formatting days of the month to the input `").concat(f,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===h)throw new RangeError("Use `dd` instead of `DD` (in `".concat(m,"`) for formatting days of the month to the input `").concat(f,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))};var n=["D","DD"],i=["YY","YYYY"]},5238:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i,t){if(t.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+t.length+" present")},F.exports=b.default},68224:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function e(h){(0,u.default)(1,arguments);var f=(0,t.default)(h),v=f.getUTCDay(),E=(v<1?7:0)+v-1;return f.setUTCDate(f.getUTCDate()-E),f.setUTCHours(0,0,0,0),f};var t=i(n(75624)),u=i(n(5238));F.exports=b.default},96145:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function h(m){(0,e.default)(1,arguments);var f=(0,t.default)(m),v=new Date(0);return v.setUTCFullYear(f,0,4),v.setUTCHours(0,0,0,0),(0,u.default)(v)};var t=i(n(29348)),u=i(n(68224)),e=i(n(5238));F.exports=b.default},3595:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function m(f,v){var E,_,C,S,R,T,A,p;(0,u.default)(1,arguments);var L=(0,h.getDefaultOptions)(),D=(0,e.default)(null!==(E=null!==(_=null!==(C=null!==(S=v?.weekStartsOn)&&void 0!==S?S:null==v||null===(R=v.locale)||void 0===R||null===(T=R.options)||void 0===T?void 0:T.weekStartsOn)&&void 0!==C?C:L.weekStartsOn)&&void 0!==_?_:null===(A=L.locale)||void 0===A||null===(p=A.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==E?E:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=(0,t.default)(f),M=w.getUTCDay(),x=(M<D?7:0)+M-D;return w.setUTCDate(w.getUTCDate()-x),w.setUTCHours(0,0,0,0),w};var t=i(n(75624)),u=i(n(5238)),e=i(n(25167)),h=n(18635);F.exports=b.default},12086:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(v,E){var _,C,S,R,T,A,p,L;(0,u.default)(1,arguments);var D=(0,m.getDefaultOptions)(),w=(0,h.default)(null!==(_=null!==(C=null!==(S=null!==(R=E?.firstWeekContainsDate)&&void 0!==R?R:null==E||null===(T=E.locale)||void 0===T||null===(A=T.options)||void 0===A?void 0:A.firstWeekContainsDate)&&void 0!==S?S:D.firstWeekContainsDate)&&void 0!==C?C:null===(p=D.locale)||void 0===p||null===(L=p.options)||void 0===L?void 0:L.firstWeekContainsDate)&&void 0!==_?_:1),M=(0,t.default)(v,E),x=new Date(0);return x.setUTCFullYear(M,0,w),x.setUTCHours(0,0,0,0),(0,e.default)(x,E)};var t=i(n(10125)),u=i(n(5238)),e=i(n(3595)),h=i(n(25167)),m=n(18635);F.exports=b.default},25167:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i){if(null===i||!0===i||!1===i)return NaN;var t=Number(i);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)},F.exports=b.default},82678:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function h(m,f){(0,e.default)(2,arguments);var v=(0,u.default)(m).getTime(),E=(0,t.default)(f);return new Date(v+E)};var t=i(n(25167)),u=i(n(75624)),e=i(n(5238));F.exports=b.default},24150:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function D(M,x,j){var U,$,k,K,X,G,q,z,te,Z,J,Q,ee,le,ne,fe,se,ce;(0,_.default)(2,arguments);var Te=String(x),be=(0,C.getDefaultOptions)(),me=null!==(U=null!==($=j?.locale)&&void 0!==$?$:be.locale)&&void 0!==U?U:S.default,re=(0,E.default)(null!==(k=null!==(K=null!==(X=null!==(G=j?.firstWeekContainsDate)&&void 0!==G?G:null==j||null===(q=j.locale)||void 0===q||null===(z=q.options)||void 0===z?void 0:z.firstWeekContainsDate)&&void 0!==X?X:be.firstWeekContainsDate)&&void 0!==K?K:null===(te=be.locale)||void 0===te||null===(Z=te.options)||void 0===Z?void 0:Z.firstWeekContainsDate)&&void 0!==k?k:1);if(!(re>=1&&re<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Ee=(0,E.default)(null!==(J=null!==(Q=null!==(ee=null!==(le=j?.weekStartsOn)&&void 0!==le?le:null==j||null===(ne=j.locale)||void 0===ne||null===(fe=ne.options)||void 0===fe?void 0:fe.weekStartsOn)&&void 0!==ee?ee:be.weekStartsOn)&&void 0!==Q?Q:null===(se=be.locale)||void 0===se||null===(ce=se.options)||void 0===ce?void 0:ce.weekStartsOn)&&void 0!==J?J:0);if(!(Ee>=0&&Ee<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!me.localize)throw new RangeError("locale must contain localize property");if(!me.formatLong)throw new RangeError("locale must contain formatLong property");var De=(0,e.default)(M);if(!(0,t.default)(De))throw new RangeError("Invalid time value");var tt=(0,f.default)(De),ht=(0,u.default)(De,tt),Fe={firstWeekContainsDate:re,weekStartsOn:Ee,locale:me,_originalDate:De};return Te.match(T).map(function(Ye){var pt=Ye[0];return"p"===pt||"P"===pt?(0,m.default[pt])(Ye,me.formatLong):Ye}).join("").match(R).map(function(Ye){if("''"===Ye)return"'";var pt=Ye[0];if("'"===pt)return function w(M){var x=M.match(A);return x?x[1].replace(p,"'"):M}(Ye);var Mt=h.default[pt];if(Mt)return!(null!=j&&j.useAdditionalWeekYearTokens)&&(0,v.isProtectedWeekYearToken)(Ye)&&(0,v.throwProtectedError)(Ye,x,String(M)),!(null!=j&&j.useAdditionalDayOfYearTokens)&&(0,v.isProtectedDayOfYearToken)(Ye)&&(0,v.throwProtectedError)(Ye,x,String(M)),Mt(ht,Ye,me.localize,Fe);if(pt.match(L))throw new RangeError("Format string contains an unescaped latin alphabet character `"+pt+"`");return Ye}).join("")};var t=i(n(79649)),u=i(n(38695)),e=i(n(75624)),h=i(n(99073)),m=i(n(26035)),f=i(n(20059)),v=n(79850),E=i(n(25167)),_=i(n(5238)),C=n(18635),S=i(n(70733)),R=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,T=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,A=/^'([^]*?)'?$/,p=/''/g,L=/[a-zA-Z]/;F.exports=b.default},24321:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function e(h){return(0,u.default)(1,arguments),h instanceof Date||"object"===(0,t.default)(h)&&"[object Date]"===Object.prototype.toString.call(h)};var t=i(n(73738)),u=i(n(5238));F.exports=b.default},79649:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function h(m){if((0,e.default)(1,arguments),!(0,t.default)(m)&&"number"!=typeof m)return!1;var f=(0,u.default)(m);return!isNaN(Number(f))};var t=i(n(24321)),u=i(n(75624)),e=i(n(5238));F.exports=b.default},93126:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=t.width?String(t.width):i.defaultWidth;return i.formats[u]||i.formats[i.defaultWidth]}},F.exports=b.default},33628:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i){return function(t,u){var h;if("formatting"===(null!=u&&u.context?String(u.context):"standalone")&&i.formattingValues){var m=i.defaultFormattingWidth||i.defaultWidth,f=null!=u&&u.width?String(u.width):m;h=i.formattingValues[f]||i.formattingValues[m]}else{var v=i.defaultWidth,E=null!=u&&u.width?String(u.width):i.defaultWidth;h=i.values[E]||i.values[v]}return h[i.argumentCallback?i.argumentCallback(t):t]}},F.exports=b.default},43636:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(u){return function(e){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=h.width,v=e.match(m&&u.matchPatterns[m]||u.matchPatterns[u.defaultMatchWidth]);if(!v)return null;var S,E=v[0],_=m&&u.parsePatterns[m]||u.parsePatterns[u.defaultParseWidth],C=Array.isArray(_)?function t(u,e){for(var h=0;h<u.length;h++)if(e(u[h]))return h}(_,function(T){return T.test(E)}):function i(u,e){for(var h in u)if(u.hasOwnProperty(h)&&e(u[h]))return h}(_,function(T){return T.test(E)});return S=u.valueCallback?u.valueCallback(C):C,{value:S=h.valueCallback?h.valueCallback(S):S,rest:e.slice(E.length)}}},F.exports=b.default},59354:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i){return function(t){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.match(i.matchPattern);if(!e)return null;var h=e[0],m=t.match(i.parsePattern);if(!m)return null;var f=i.valueCallback?i.valueCallback(m[0]):m[0];return{value:f=u.valueCallback?u.valueCallback(f):f,rest:t.slice(h.length)}}},F.exports=b.default},93204:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};b.default=function(e,h,m){var f,v=n[e];return f="string"==typeof v?v:1===h?v.one:v.other.replace("{{count}}",h.toString()),null!=m&&m.addSuffix?m.comparison&&m.comparison>0?"in "+f:f+" ago":f},F.exports=b.default},64837:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(93126)),m={date:(0,t.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,t.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,t.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};b.default=m,F.exports=b.default},77767:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};b.default=function(e,h,m,f){return n[e]},F.exports=b.default},29063:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(33628)),_={ordinalNumber:function(R,T){var A=Number(R),p=A%100;if(p>20||p<10)switch(p%10){case 1:return A+"st";case 2:return A+"nd";case 3:return A+"rd"}return A+"th"},era:(0,t.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,t.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(R){return R-1}}),month:(0,t.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,t.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,t.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};b.default=_,F.exports=b.default},95401:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(43636)),p={ordinalNumber:(0,i(n(59354)).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(w){return parseInt(w,10)}}),era:(0,t.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,t.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(w){return w+1}}),month:(0,t.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,t.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,t.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};b.default=p,F.exports=b.default},12606:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var t=i(n(93204)),u=i(n(64837)),e=i(n(77767)),h=i(n(29063)),m=i(n(95401));b.default={code:"en-US",formatDistance:t.default,formatLong:u.default,formatRelative:e.default,localize:h.default,match:m.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},F.exports=b.default},38695:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function h(m,f){(0,u.default)(2,arguments);var v=(0,e.default)(f);return(0,t.default)(m,-v)};var t=i(n(82678)),u=i(n(5238)),e=i(n(25167));F.exports=b.default},75624:(F,b,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function e(h){(0,u.default)(1,arguments);var m=Object.prototype.toString.call(h);return h instanceof Date||"object"===(0,t.default)(h)&&"[object Date]"===m?new Date(h.getTime()):"number"==typeof h||"[object Number]"===m?new Date(h):(("string"==typeof h||"[object String]"===m)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))};var t=i(n(73738)),u=i(n(5238));F.exports=b.default},58813:F=>{"use strict";var b=function(L){return function n(p){return!!p&&"object"==typeof p}(L)&&!function i(p){var L=Object.prototype.toString.call(p);return"[object RegExp]"===L||"[object Date]"===L||function e(p){return p.$$typeof===u}(p)}(L)},u="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function m(p,L){return!1!==L.clone&&L.isMergeableObject(p)?T(function h(p){return Array.isArray(p)?[]:{}}(p),p,L):p}function f(p,L,D){return p.concat(L).map(function(w){return m(w,D)})}function _(p){return Object.keys(p).concat(function E(p){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(p).filter(function(L){return Object.propertyIsEnumerable.call(p,L)}):[]}(p))}function C(p,L){try{return L in p}catch{return!1}}function T(p,L,D){(D=D||{}).arrayMerge=D.arrayMerge||f,D.isMergeableObject=D.isMergeableObject||b,D.cloneUnlessOtherwiseSpecified=m;var w=Array.isArray(L);return w===Array.isArray(p)?w?D.arrayMerge(p,L,D):function R(p,L,D){var w={};return D.isMergeableObject(p)&&_(p).forEach(function(M){w[M]=m(p[M],D)}),_(L).forEach(function(M){(function S(p,L){return C(p,L)&&!(Object.hasOwnProperty.call(p,L)&&Object.propertyIsEnumerable.call(p,L))})(p,M)||(w[M]=C(p,M)&&D.isMergeableObject(L[M])?function v(p,L){if(!L.customMerge)return T;var D=L.customMerge(p);return"function"==typeof D?D:T}(M,D)(p[M],L[M],D):m(L[M],D))}),w}(p,L,D):m(L,D)}T.all=function(L,D){if(!Array.isArray(L))throw new Error("first argument should be an array");return L.reduce(function(w,M){return T(w,M,D)},{})},F.exports=T},806:function(F){F.exports=function(){"use strict";var b=/^(b|B)$/,n={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},i={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},t={floor:Math.floor,ceil:Math.ceil};function u(e){var h,m,f,v,E,_,C,S,R,T,A,p,L,D,w,M,x,j,U,$,k,K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},X=[],G=0;if(isNaN(e))throw new TypeError("Invalid number");if(f=!0===K.bits,w=!0===K.unix,p=!0===K.pad,L=void 0!==K.round?K.round:w?1:2,C=void 0!==K.locale?K.locale:"",S=K.localeOptions||{},M=void 0!==K.separator?K.separator:"",x=void 0!==K.spacer?K.spacer:w?"":" ",U=K.symbols||{},j=2===(m=K.base||2)&&K.standard||"jedec",A=K.output||"string",E=!0===K.fullform,_=K.fullforms instanceof Array?K.fullforms:[],h=void 0!==K.exponent?K.exponent:-1,$=t[K.roundingMethod]||Math.round,R=(T=Number(e))<0,v=m>2?1e3:1024,k=!1===isNaN(K.precision)?parseInt(K.precision,10):0,R&&(T=-T),(-1===h||isNaN(h))&&(h=Math.floor(Math.log(T)/Math.log(v)))<0&&(h=0),h>8&&(k>0&&(k+=8-h),h=8),"exponent"===A)return h;if(0===T)X[0]=0,D=X[1]=w?"":n[j][f?"bits":"bytes"][h];else{G=T/(2===m?Math.pow(2,10*h):Math.pow(1e3,h)),f&&(G*=8)>=v&&h<8&&(G/=v,h++);var q=Math.pow(10,h>0?L:0);X[0]=$(G*q)/q,X[0]===v&&h<8&&void 0===K.exponent&&(X[0]=1,h++),D=X[1]=10===m&&1===h?f?"kb":"kB":n[j][f?"bits":"bytes"][h],w&&(X[1]="jedec"===j?X[1].charAt(0):h>0?X[1].replace(/B$/,""):X[1],b.test(X[1])&&(X[0]=Math.floor(X[0]),X[1]=""))}if(R&&(X[0]=-X[0]),k>0&&(X[0]=X[0].toPrecision(k)),X[1]=U[X[1]]||X[1],!0===C?X[0]=X[0].toLocaleString():C.length>0?X[0]=X[0].toLocaleString(C,S):M.length>0&&(X[0]=X[0].toString().replace(".",M)),p&&!1===Number.isInteger(X[0])&&L>0){var z=M||".",te=X[0].toString().split(z),Z=te[1]||"",J=Z.length,Q=L-J;X[0]="".concat(te[0]).concat(z).concat(Z.padEnd(J+Q,"0"))}return E&&(X[1]=_[h]?_[h]:i[j][h]+(f?"bit":"byte")+(1===X[0]?"":"s")),"array"===A?X:"object"===A?{value:X[0],symbol:X[1],exponent:h,unit:D}:X.join(x)}return u.partial=function(e){return function(h){return u(h,e)}},u}()},2632:(F,b,n)=>{var i,t,u;void 0!==(t="function"==typeof(i=u=function(){function u(){for(var m=0,f={};m<arguments.length;m++){var v=arguments[m];for(var E in v)f[E]=v[E]}return f}function e(m){return m.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function h(m){function f(){}function v(_,C,S){if(!(typeof document>"u")){"number"==typeof(S=u({path:"/"},f.defaults,S)).expires&&(S.expires=new Date(1*new Date+864e5*S.expires)),S.expires=S.expires?S.expires.toUTCString():"";try{var R=JSON.stringify(C);/^[\{\[]/.test(R)&&(C=R)}catch{}C=m.write?m.write(C,_):encodeURIComponent(String(C)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),_=encodeURIComponent(String(_)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var T="";for(var A in S)S[A]&&(T+="; "+A,!0!==S[A]&&(T+="="+S[A].split(";")[0]));return document.cookie=_+"="+C+T}}function E(_,C){if(!(typeof document>"u")){for(var S={},R=document.cookie?document.cookie.split("; "):[],T=0;T<R.length;T++){var A=R[T].split("="),p=A.slice(1).join("=");!C&&'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var L=e(A[0]);if(p=(m.read||m)(p,L)||e(p),C)try{p=JSON.parse(p)}catch{}if(S[L]=p,_===L)break}catch{}}return _?S[_]:S}}return f.set=v,f.get=function(_){return E(_,!1)},f.getJSON=function(_){return E(_,!0)},f.remove=function(_,C){v(_,"",u(C,{expires:-1}))},f.defaults={},f.withConverter=h,f}(function(){})})?i.call(b,n,b,F):i)&&(F.exports=t),F.exports=u()},55013:(F,b,n)=>{var u=n(54385)(n(81464),"DataView");F.exports=u},63028:(F,b,n)=>{var i=n(56399),t=n(61483),u=n(83434),e=n(5230),h=n(33718);function m(f){var v=-1,E=null==f?0:f.length;for(this.clear();++v<E;){var _=f[v];this.set(_[0],_[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=u,m.prototype.has=e,m.prototype.set=h,F.exports=m},25752:(F,b,n)=>{var i=n(23643),t=n(27103),u=n(30062),e=n(31610),h=n(1090);function m(f){var v=-1,E=null==f?0:f.length;for(this.clear();++v<E;){var _=f[v];this.set(_[0],_[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=u,m.prototype.has=e,m.prototype.set=h,F.exports=m},51012:(F,b,n)=>{var u=n(54385)(n(81464),"Map");F.exports=u},90752:(F,b,n)=>{var i=n(21891),t=n(92759),u=n(97766),e=n(40322),h=n(47258);function m(f){var v=-1,E=null==f?0:f.length;for(this.clear();++v<E;){var _=f[v];this.set(_[0],_[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=u,m.prototype.has=e,m.prototype.set=h,F.exports=m},81339:(F,b,n)=>{var u=n(54385)(n(81464),"Promise");F.exports=u},57814:(F,b,n)=>{var u=n(54385)(n(81464),"Set");F.exports=u},50342:(F,b,n)=>{var i=n(90752),t=n(74643),u=n(92768);function e(h){var m=-1,f=null==h?0:h.length;for(this.__data__=new i;++m<f;)this.add(h[m])}e.prototype.add=e.prototype.push=t,e.prototype.has=u,F.exports=e},6898:(F,b,n)=>{var i=n(25752),t=n(48945),u=n(78425),e=n(25280),h=n(80324),m=n(84516);function f(v){var E=this.__data__=new i(v);this.size=E.size}f.prototype.clear=t,f.prototype.delete=u,f.prototype.get=e,f.prototype.has=h,f.prototype.set=m,F.exports=f},8516:(F,b,n)=>{var i=n(81464);F.exports=i.Symbol},12737:(F,b,n)=>{var i=n(81464);F.exports=i.Uint8Array},72248:(F,b,n)=>{var u=n(54385)(n(81464),"WeakMap");F.exports=u},81458:F=>{F.exports=function b(n,i,t){switch(t.length){case 0:return n.call(i);case 1:return n.call(i,t[0]);case 2:return n.call(i,t[0],t[1]);case 3:return n.call(i,t[0],t[1],t[2])}return n.apply(i,t)}},99526:F=>{F.exports=function b(n,i,t,u){for(var e=-1,h=null==n?0:n.length;++e<h;){var m=n[e];i(u,m,t(m),n)}return u}},75558:F=>{F.exports=function b(n,i){for(var t=-1,u=null==n?0:n.length;++t<u&&!1!==i(n[t],t,n););return n}},32873:F=>{F.exports=function b(n,i){for(var t=-1,u=null==n?0:n.length,e=0,h=[];++t<u;){var m=n[t];i(m,t,n)&&(h[e++]=m)}return h}},75306:(F,b,n)=>{var i=n(55300);F.exports=function t(u,e){return!(null==u||!u.length)&&i(u,e,0)>-1}},35878:F=>{F.exports=function b(n,i,t){for(var u=-1,e=null==n?0:n.length;++u<e;)if(t(i,n[u]))return!0;return!1}},28548:(F,b,n)=>{var i=n(69695),t=n(56265),u=n(9812),e=n(63151),h=n(98426),m=n(31028),v=Object.prototype.hasOwnProperty;F.exports=function E(_,C){var S=u(_),R=!S&&t(_),T=!S&&!R&&e(_),A=!S&&!R&&!T&&m(_),p=S||R||T||A,L=p?i(_.length,String):[],D=L.length;for(var w in _)(C||v.call(_,w))&&(!p||!("length"==w||T&&("offset"==w||"parent"==w)||A&&("buffer"==w||"byteLength"==w||"byteOffset"==w)||h(w,D)))&&L.push(w);return L}},12757:F=>{F.exports=function b(n,i){for(var t=-1,u=null==n?0:n.length,e=Array(u);++t<u;)e[t]=i(n[t],t,n);return e}},86319:F=>{F.exports=function b(n,i){for(var t=-1,u=i.length,e=n.length;++t<u;)n[e+t]=i[t];return n}},57371:F=>{F.exports=function b(n,i){for(var t=-1,u=null==n?0:n.length;++t<u;)if(i(n[t],t,n))return!0;return!1}},10732:(F,b,n)=>{var i=n(64399),t=n(12651);F.exports=function u(e,h,m){(void 0!==m&&!t(e[h],m)||void 0===m&&!(h in e))&&i(e,h,m)}},69220:(F,b,n)=>{var i=n(64399),t=n(12651),e=Object.prototype.hasOwnProperty;F.exports=function h(m,f,v){var E=m[f];(!e.call(m,f)||!t(E,v)||void 0===v&&!(f in m))&&i(m,f,v)}},86316:(F,b,n)=>{var i=n(12651);F.exports=function t(u,e){for(var h=u.length;h--;)if(i(u[h][0],e))return h;return-1}},61512:(F,b,n)=>{var i=n(40868);F.exports=function t(u,e,h,m){return i(u,function(f,v,E){e(m,f,h(f),E)}),m}},28336:(F,b,n)=>{var i=n(43190),t=n(32561);F.exports=function u(e,h){return e&&i(h,t(h),e)}},66303:(F,b,n)=>{var i=n(43190),t=n(47674);F.exports=function u(e,h){return e&&i(h,t(h),e)}},64399:(F,b,n)=>{var i=n(44678);F.exports=function t(u,e,h){"__proto__"==e&&i?i(u,e,{configurable:!0,enumerable:!0,value:h,writable:!0}):u[e]=h}},25052:(F,b,n)=>{var i=n(6898),t=n(75558),u=n(69220),e=n(28336),h=n(66303),m=n(7697),f=n(25820),v=n(5308),E=n(67491),_=n(3539),C=n(49088),S=n(20828),R=n(89900),T=n(69686),A=n(92870),p=n(9812),L=n(63151),D=n(56879),w=n(83278),M=n(74257),x=n(32561),j=n(47674),K="[object Arguments]",te="[object Function]",ee="[object Object]",pt={};pt[K]=pt["[object Array]"]=pt["[object ArrayBuffer]"]=pt["[object DataView]"]=pt["[object Boolean]"]=pt["[object Date]"]=pt["[object Float32Array]"]=pt["[object Float64Array]"]=pt["[object Int8Array]"]=pt["[object Int16Array]"]=pt["[object Int32Array]"]=pt["[object Map]"]=pt["[object Number]"]=pt[ee]=pt["[object RegExp]"]=pt["[object Set]"]=pt["[object String]"]=pt["[object Symbol]"]=pt["[object Uint8Array]"]=pt["[object Uint8ClampedArray]"]=pt["[object Uint16Array]"]=pt["[object Uint32Array]"]=!0,pt["[object Error]"]=pt[te]=pt["[object WeakMap]"]=!1,F.exports=function Mt(Ne,ot,Gt,Zt,mt,Pt){var Ce,Be=1&ot,ut=2&ot,un=4&ot;if(Gt&&(Ce=mt?Gt(Ne,Zt,mt,Pt):Gt(Ne)),void 0!==Ce)return Ce;if(!w(Ne))return Ne;var rn=p(Ne);if(rn){if(Ce=R(Ne),!Be)return f(Ne,Ce)}else{var Pn=S(Ne),yt=Pn==te||"[object GeneratorFunction]"==Pn;if(L(Ne))return m(Ne,Be);if(Pn==ee||Pn==K||yt&&!mt){if(Ce=ut||yt?{}:A(Ne),!Be)return ut?E(Ne,h(Ce,Ne)):v(Ne,e(Ce,Ne))}else{if(!pt[Pn])return mt?Ne:{};Ce=T(Ne,Pn,Be)}}Pt||(Pt=new i);var Kt=Pt.get(Ne);if(Kt)return Kt;Pt.set(Ne,Ce),M(Ne)?Ne.forEach(function(gn){Ce.add(Mt(gn,ot,Gt,gn,Ne,Pt))}):D(Ne)&&Ne.forEach(function(gn,St){Ce.set(St,Mt(gn,ot,Gt,St,Ne,Pt))});var nn=rn?void 0:(un?ut?C:_:ut?j:x)(Ne);return t(nn||Ne,function(gn,St){nn&&(gn=Ne[St=gn]),u(Ce,St,Mt(gn,ot,Gt,St,Ne,Pt))}),Ce}},19593:(F,b,n)=>{var i=n(83278),t=Object.create;F.exports=function(){function e(){}return function(h){if(!i(h))return{};if(t)return t(h);e.prototype=h;var m=new e;return e.prototype=void 0,m}}()},6362:(F,b,n)=>{var i=n(50342),t=n(75306),u=n(35878),e=n(12757),h=n(42502),m=n(31890);F.exports=function v(E,_,C,S){var R=-1,T=t,A=!0,p=E.length,L=[],D=_.length;if(!p)return L;C&&(_=e(_,h(C))),S?(T=u,A=!1):_.length>=200&&(T=m,A=!1,_=new i(_));e:for(;++R<p;){var w=E[R],M=null==C?w:C(w);if(w=S||0!==w?w:0,A&&M==M){for(var x=D;x--;)if(_[x]===M)continue e;L.push(w)}else T(_,M,S)||L.push(w)}return L}},40868:(F,b,n)=>{var i=n(73432),u=n(55892)(i);F.exports=u},75736:F=>{F.exports=function b(n,i,t,u){for(var e=n.length,h=t+(u?1:-1);u?h--:++h<e;)if(i(n[h],h,n))return h;return-1}},12875:F=>{F.exports=function b(n,i,t){var u;return t(n,function(e,h,m){if(i(e,h,m))return u=h,!1}),u}},13091:(F,b,n)=>{var i=n(86319),t=n(98892);F.exports=function u(e,h,m,f,v){var E=-1,_=e.length;for(m||(m=t),v||(v=[]);++E<_;){var C=e[E];h>0&&m(C)?h>1?u(C,h-1,m,f,v):i(v,C):f||(v[v.length]=C)}return v}},32898:(F,b,n)=>{var t=n(99602)();F.exports=t},73432:(F,b,n)=>{var i=n(32898),t=n(32561);F.exports=function u(e,h){return e&&i(e,h,t)}},98137:(F,b,n)=>{var i=n(43916),t=n(58130);F.exports=function u(e,h){for(var m=0,f=(h=i(h,e)).length;null!=e&&m<f;)e=e[t(h[m++])];return m&&m==f?e:void 0}},79926:(F,b,n)=>{var i=n(86319),t=n(9812);F.exports=function u(e,h,m){var f=h(e);return t(e)?f:i(f,m(e))}},61057:(F,b,n)=>{var i=n(8516),t=n(8488),u=n(53327),m=i?i.toStringTag:void 0;F.exports=function f(v){return null==v?void 0===v?"[object Undefined]":"[object Null]":m&&m in Object(v)?t(v):u(v)}},31398:F=>{F.exports=function b(n,i){return null!=n&&i in Object(n)}},55300:(F,b,n)=>{var i=n(75736),t=n(59636),u=n(75220);F.exports=function e(h,m,f){return m==m?u(h,m,f):i(h,t,f)}},16324:(F,b,n)=>{var i=n(50342),t=n(75306),u=n(35878),e=n(12757),h=n(42502),m=n(31890),f=Math.min;F.exports=function v(E,_,C){for(var S=C?u:t,R=E[0].length,T=E.length,A=T,p=Array(T),L=1/0,D=[];A--;){var w=E[A];A&&_&&(w=e(w,h(_))),L=f(w.length,L),p[A]=!C&&(_||R>=120&&w.length>=120)?new i(A&&w):void 0}w=E[0];var M=-1,x=p[0];e:for(;++M<R&&D.length<L;){var j=w[M],U=_?_(j):j;if(j=C||0!==j?j:0,!(x?m(x,U):S(D,U,C))){for(A=T;--A;){var $=p[A];if(!($?m($,U):S(E[A],U,C)))continue e}x&&x.push(U),D.push(j)}}return D}},18313:(F,b,n)=>{var i=n(61057),t=n(57433);F.exports=function e(h){return t(h)&&"[object Arguments]"==i(h)}},32925:(F,b,n)=>{var i=n(89471),t=n(57433);F.exports=function u(e,h,m,f,v){return e===h||(null==e||null==h||!t(e)&&!t(h)?e!=e&&h!=h:i(e,h,m,f,u,v))}},89471:(F,b,n)=>{var i=n(6898),t=n(12900),u=n(7987),e=n(47880),h=n(20828),m=n(9812),f=n(63151),v=n(31028),_="[object Arguments]",C="[object Array]",S="[object Object]",T=Object.prototype.hasOwnProperty;F.exports=function A(p,L,D,w,M,x){var j=m(p),U=m(L),$=j?C:h(p),k=U?C:h(L),K=($=$==_?S:$)==S,X=(k=k==_?S:k)==S,G=$==k;if(G&&f(p)){if(!f(L))return!1;j=!0,K=!1}if(G&&!K)return x||(x=new i),j||v(p)?t(p,L,D,w,M,x):u(p,L,$,D,w,M,x);if(!(1&D)){var q=K&&T.call(p,"__wrapped__"),z=X&&T.call(L,"__wrapped__");if(q||z){var te=q?p.value():p,Z=z?L.value():L;return x||(x=new i),M(te,Z,D,w,x)}}return!!G&&(x||(x=new i),e(p,L,D,w,M,x))}},26095:(F,b,n)=>{var i=n(20828),t=n(57433);F.exports=function e(h){return t(h)&&"[object Map]"==i(h)}},32692:(F,b,n)=>{var i=n(6898),t=n(32925);F.exports=function h(m,f,v,E){var _=v.length,C=_,S=!E;if(null==m)return!C;for(m=Object(m);_--;){var R=v[_];if(S&&R[2]?R[1]!==m[R[0]]:!(R[0]in m))return!1}for(;++_<C;){var T=(R=v[_])[0],A=m[T],p=R[1];if(S&&R[2]){if(void 0===A&&!(T in m))return!1}else{var L=new i;if(E)var D=E(A,p,T,m,f,L);if(!(void 0===D?t(p,A,3,E,L):D))return!1}}return!0}},59636:F=>{F.exports=function b(n){return n!=n}},60298:(F,b,n)=>{var i=n(58653),t=n(48401),u=n(83278),e=n(68020),m=/^\[object .+?Constructor\]$/,C=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");F.exports=function S(R){return!(!u(R)||t(R))&&(i(R)?C:m).test(e(R))}},91889:(F,b,n)=>{var i=n(20828),t=n(57433);F.exports=function e(h){return t(h)&&"[object Set]"==i(h)}},18068:(F,b,n)=>{var i=n(61057),t=n(18845),u=n(57433),G={};G["[object Float32Array]"]=G["[object Float64Array]"]=G["[object Int8Array]"]=G["[object Int16Array]"]=G["[object Int32Array]"]=G["[object Uint8Array]"]=G["[object Uint8ClampedArray]"]=G["[object Uint16Array]"]=G["[object Uint32Array]"]=!0,G["[object Arguments]"]=G["[object Array]"]=G["[object ArrayBuffer]"]=G["[object Boolean]"]=G["[object DataView]"]=G["[object Date]"]=G["[object Error]"]=G["[object Function]"]=G["[object Map]"]=G["[object Number]"]=G["[object Object]"]=G["[object RegExp]"]=G["[object Set]"]=G["[object String]"]=G["[object WeakMap]"]=!1,F.exports=function q(z){return u(z)&&t(z.length)&&!!G[i(z)]}},12344:(F,b,n)=>{var i=n(7432),t=n(61669),u=n(39631),e=n(9812),h=n(15788);F.exports=function m(f){return"function"==typeof f?f:null==f?u:"object"==typeof f?e(f)?t(f[0],f[1]):i(f):h(f)}},13809:(F,b,n)=>{var i=n(3164),t=n(96199),e=Object.prototype.hasOwnProperty;F.exports=function h(m){if(!i(m))return t(m);var f=[];for(var v in Object(m))e.call(m,v)&&"constructor"!=v&&f.push(v);return f}},71194:(F,b,n)=>{var i=n(83278),t=n(3164),u=n(20908),h=Object.prototype.hasOwnProperty;F.exports=function m(f){if(!i(f))return u(f);var v=t(f),E=[];for(var _ in f)"constructor"==_&&(v||!h.call(f,_))||E.push(_);return E}},45619:(F,b,n)=>{var i=n(40868),t=n(47291);F.exports=function u(e,h){var m=-1,f=t(e)?Array(e.length):[];return i(e,function(v,E,_){f[++m]=h(v,E,_)}),f}},7432:(F,b,n)=>{var i=n(32692),t=n(90613),u=n(2878);F.exports=function e(h){var m=t(h);return 1==m.length&&m[0][2]?u(m[0][0],m[0][1]):function(f){return f===h||i(f,h,m)}}},61669:(F,b,n)=>{var i=n(32925),t=n(26681),u=n(49830),e=n(181),h=n(94745),m=n(2878),f=n(58130);F.exports=function _(C,S){return e(C)&&h(S)?m(f(C),S):function(R){var T=t(R,C);return void 0===T&&T===S?u(R,C):i(S,T,3)}}},85765:(F,b,n)=>{var i=n(6898),t=n(10732),u=n(32898),e=n(91239),h=n(83278),m=n(47674),f=n(3609);F.exports=function v(E,_,C,S,R){E!==_&&u(_,function(T,A){if(R||(R=new i),h(T))e(E,_,A,C,v,S,R);else{var p=S?S(f(E,A),T,A+"",E,_,R):void 0;void 0===p&&(p=T),t(E,A,p)}},m)}},91239:(F,b,n)=>{var i=n(10732),t=n(7697),u=n(11334),e=n(25820),h=n(92870),m=n(56265),f=n(9812),v=n(25152),E=n(63151),_=n(58653),C=n(83278),S=n(49970),R=n(31028),T=n(3609),A=n(6729);F.exports=function p(L,D,w,M,x,j,U){var $=T(L,w),k=T(D,w),K=U.get(k);if(K)i(L,w,K);else{var X=j?j($,k,w+"",L,D,U):void 0,G=void 0===X;if(G){var q=f(k),z=!q&&E(k),te=!q&&!z&&R(k);X=k,q||z||te?f($)?X=$:v($)?X=e($):z?(G=!1,X=t(k,!0)):te?(G=!1,X=u(k,!0)):X=[]:S(k)||m(k)?(X=$,m($)?X=A($):(!C($)||_($))&&(X=h(k))):G=!1}G&&(U.set(k,X),x(X,k,M,j,U),U.delete(k)),i(L,w,X)}}},32168:(F,b,n)=>{var i=n(12757),t=n(98137),u=n(12344),e=n(45619),h=n(90480),m=n(42502),f=n(81653),v=n(39631),E=n(9812);F.exports=function _(C,S,R){S=S.length?i(S,function(p){return E(p)?function(L){return t(L,1===p.length?p[0]:p)}:p}):[v];var T=-1;S=i(S,m(u));var A=e(C,function(p,L,D){return{criteria:i(S,function(M){return M(p)}),index:++T,value:p}});return h(A,function(p,L){return f(p,L,R)})}},21740:F=>{F.exports=function b(n){return function(i){return i?.[n]}}},55058:(F,b,n)=>{var i=n(98137);F.exports=function t(u){return function(e){return i(e,u)}}},68591:(F,b,n)=>{var i=n(39631),t=n(28452),u=n(11230);F.exports=function e(h,m){return u(t(h,m,i),h+"")}},48565:(F,b,n)=>{var i=n(26205),t=n(44678),u=n(39631);F.exports=t?function(h,m){return t(h,"toString",{configurable:!0,enumerable:!1,value:i(m),writable:!0})}:u},90480:F=>{F.exports=function b(n,i){var t=n.length;for(n.sort(i);t--;)n[t]=n[t].value;return n}},69695:F=>{F.exports=function b(n,i){for(var t=-1,u=Array(n);++t<n;)u[t]=i(t);return u}},87005:(F,b,n)=>{var i=n(8516),t=n(12757),u=n(9812),e=n(15153),m=i?i.prototype:void 0,f=m?m.toString:void 0;F.exports=function v(E){if("string"==typeof E)return E;if(u(E))return t(E,v)+"";if(e(E))return f?f.call(E):"";var _=E+"";return"0"==_&&1/E==-1/0?"-0":_}},35461:(F,b,n)=>{var i=n(37327),t=/^\s+/;F.exports=function u(e){return e&&e.slice(0,i(e)+1).replace(t,"")}},42502:F=>{F.exports=function b(n){return function(i){return n(i)}}},73136:(F,b,n)=>{var i=n(50342),t=n(75306),u=n(35878),e=n(31890),h=n(67366),m=n(3578);F.exports=function v(E,_,C){var S=-1,R=t,T=E.length,A=!0,p=[],L=p;if(C)A=!1,R=u;else if(T>=200){var D=_?null:h(E);if(D)return m(D);A=!1,R=e,L=new i}else L=_?[]:p;e:for(;++S<T;){var w=E[S],M=_?_(w):w;if(w=C||0!==w?w:0,A&&M==M){for(var x=L.length;x--;)if(L[x]===M)continue e;_&&L.push(M),p.push(w)}else R(L,M,C)||(L!==p&&L.push(M),p.push(w))}return p}},31890:F=>{F.exports=function b(n,i){return n.has(i)}},86638:(F,b,n)=>{var i=n(25152);F.exports=function t(u){return i(u)?u:[]}},43916:(F,b,n)=>{var i=n(9812),t=n(181),u=n(22447),e=n(54717);F.exports=function h(m,f){return i(m)?m:t(m,f)?[m]:u(e(m))}},96220:(F,b,n)=>{var i=n(12737);F.exports=function t(u){var e=new u.constructor(u.byteLength);return new i(e).set(new i(u)),e}},7697:(F,b,n)=>{F=n.nmd(F);var i=n(81464),t=b&&!b.nodeType&&b,u=t&&F&&!F.nodeType&&F,h=u&&u.exports===t?i.Buffer:void 0,m=h?h.allocUnsafe:void 0;F.exports=function f(v,E){if(E)return v.slice();var _=v.length,C=m?m(_):new v.constructor(_);return v.copy(C),C}},55942:(F,b,n)=>{var i=n(96220);F.exports=function t(u,e){var h=e?i(u.buffer):u.buffer;return new u.constructor(h,u.byteOffset,u.byteLength)}},38466:F=>{var b=/\w*$/;F.exports=function n(i){var t=new i.constructor(i.source,b.exec(i));return t.lastIndex=i.lastIndex,t}},54511:(F,b,n)=>{var i=n(8516),t=i?i.prototype:void 0,u=t?t.valueOf:void 0;F.exports=function e(h){return u?Object(u.call(h)):{}}},11334:(F,b,n)=>{var i=n(96220);F.exports=function t(u,e){var h=e?i(u.buffer):u.buffer;return new u.constructor(h,u.byteOffset,u.length)}},44967:(F,b,n)=>{var i=n(15153);F.exports=function t(u,e){if(u!==e){var h=void 0!==u,m=null===u,f=u==u,v=i(u),E=void 0!==e,_=null===e,C=e==e,S=i(e);if(!_&&!S&&!v&&u>e||v&&E&&C&&!_&&!S||m&&E&&C||!h&&C||!f)return 1;if(!m&&!v&&!S&&u<e||S&&h&&f&&!m&&!v||_&&h&&f||!E&&f||!C)return-1}return 0}},81653:(F,b,n)=>{var i=n(44967);F.exports=function t(u,e,h){for(var m=-1,f=u.criteria,v=e.criteria,E=f.length,_=h.length;++m<E;){var C=i(f[m],v[m]);if(C)return m>=_?C:C*("desc"==h[m]?-1:1)}return u.index-e.index}},25820:F=>{F.exports=function b(n,i){var t=-1,u=n.length;for(i||(i=Array(u));++t<u;)i[t]=n[t];return i}},43190:(F,b,n)=>{var i=n(69220),t=n(64399);F.exports=function u(e,h,m,f){var v=!m;m||(m={});for(var E=-1,_=h.length;++E<_;){var C=h[E],S=f?f(m[C],e[C],C,m,e):void 0;void 0===S&&(S=e[C]),v?t(m,C,S):i(m,C,S)}return m}},5308:(F,b,n)=>{var i=n(43190),t=n(90181);F.exports=function u(e,h){return i(e,t(e),h)}},67491:(F,b,n)=>{var i=n(43190),t=n(35254);F.exports=function u(e,h){return i(e,t(e),h)}},20336:(F,b,n)=>{var i=n(81464);F.exports=i["__core-js_shared__"]},3145:(F,b,n)=>{var i=n(99526),t=n(61512),u=n(12344),e=n(9812);F.exports=function h(m,f){return function(v,E){var _=e(v)?i:t,C=f?f():{};return _(v,m,u(E,2),C)}}},87530:(F,b,n)=>{var i=n(68591),t=n(12721);F.exports=function u(e){return i(function(h,m){var f=-1,v=m.length,E=v>1?m[v-1]:void 0,_=v>2?m[2]:void 0;for(E=e.length>3&&"function"==typeof E?(v--,E):void 0,_&&t(m[0],m[1],_)&&(E=v<3?void 0:E,v=1),h=Object(h);++f<v;){var C=m[f];C&&e(h,C,f,E)}return h})}},55892:(F,b,n)=>{var i=n(47291);F.exports=function t(u,e){return function(h,m){if(null==h)return h;if(!i(h))return u(h,m);for(var f=h.length,v=e?f:-1,E=Object(h);(e?v--:++v<f)&&!1!==m(E[v],v,E););return h}}},99602:F=>{F.exports=function b(n){return function(i,t,u){for(var e=-1,h=Object(i),m=u(i),f=m.length;f--;){var v=m[n?f:++e];if(!1===t(h[v],v,h))break}return i}}},67366:(F,b,n)=>{var i=n(57814),t=n(68145),u=n(3578),h=i&&1/u(new i([,-0]))[1]==1/0?function(m){return new i(m)}:t;F.exports=h},44678:(F,b,n)=>{var i=n(54385),t=function(){try{var u=i(Object,"defineProperty");return u({},"",{}),u}catch{}}();F.exports=t},12900:(F,b,n)=>{var i=n(50342),t=n(57371),u=n(31890);F.exports=function m(f,v,E,_,C,S){var R=1&E,T=f.length,A=v.length;if(T!=A&&!(R&&A>T))return!1;var p=S.get(f),L=S.get(v);if(p&&L)return p==v&&L==f;var D=-1,w=!0,M=2&E?new i:void 0;for(S.set(f,v),S.set(v,f);++D<T;){var x=f[D],j=v[D];if(_)var U=R?_(j,x,D,v,f,S):_(x,j,D,f,v,S);if(void 0!==U){if(U)continue;w=!1;break}if(M){if(!t(v,function($,k){if(!u(M,k)&&(x===$||C(x,$,E,_,S)))return M.push(k)})){w=!1;break}}else if(x!==j&&!C(x,j,E,_,S)){w=!1;break}}return S.delete(f),S.delete(v),w}},7987:(F,b,n)=>{var i=n(8516),t=n(12737),u=n(12651),e=n(12900),h=n(37152),m=n(3578),M=i?i.prototype:void 0,x=M?M.valueOf:void 0;F.exports=function j(U,$,k,K,X,G,q){switch(k){case"[object DataView]":if(U.byteLength!=$.byteLength||U.byteOffset!=$.byteOffset)return!1;U=U.buffer,$=$.buffer;case"[object ArrayBuffer]":return!(U.byteLength!=$.byteLength||!G(new t(U),new t($)));case"[object Boolean]":case"[object Date]":case"[object Number]":return u(+U,+$);case"[object Error]":return U.name==$.name&&U.message==$.message;case"[object RegExp]":case"[object String]":return U==$+"";case"[object Map]":var z=h;case"[object Set]":if(z||(z=m),U.size!=$.size&&!(1&K))return!1;var Z=q.get(U);if(Z)return Z==$;K|=2,q.set(U,$);var J=e(z(U),z($),K,X,G,q);return q.delete(U),J;case"[object Symbol]":if(x)return x.call(U)==x.call($)}return!1}},47880:(F,b,n)=>{var i=n(3539),e=Object.prototype.hasOwnProperty;F.exports=function h(m,f,v,E,_,C){var S=1&v,R=i(m),T=R.length;if(T!=i(f).length&&!S)return!1;for(var L=T;L--;){var D=R[L];if(!(S?D in f:e.call(f,D)))return!1}var w=C.get(m),M=C.get(f);if(w&&M)return w==f&&M==m;var x=!0;C.set(m,f),C.set(f,m);for(var j=S;++L<T;){var U=m[D=R[L]],$=f[D];if(E)var k=S?E($,U,D,f,m,C):E(U,$,D,m,f,C);if(!(void 0===k?U===$||_(U,$,v,E,C):k)){x=!1;break}j||(j="constructor"==D)}if(x&&!j){var K=m.constructor,X=f.constructor;K!=X&&"constructor"in m&&"constructor"in f&&!("function"==typeof K&&K instanceof K&&"function"==typeof X&&X instanceof X)&&(x=!1)}return C.delete(m),C.delete(f),x}},78657:F=>{var b="object"==typeof global&&global&&global.Object===Object&&global;F.exports=b},3539:(F,b,n)=>{var i=n(79926),t=n(90181),u=n(32561);F.exports=function e(h){return i(h,u,t)}},49088:(F,b,n)=>{var i=n(79926),t=n(35254),u=n(47674);F.exports=function e(h){return i(h,u,t)}},79038:(F,b,n)=>{var i=n(83329);F.exports=function t(u,e){var h=u.__data__;return i(e)?h["string"==typeof e?"string":"hash"]:h.map}},90613:(F,b,n)=>{var i=n(94745),t=n(32561);F.exports=function u(e){for(var h=t(e),m=h.length;m--;){var f=h[m],v=e[f];h[m]=[f,v,i(v)]}return h}},54385:(F,b,n)=>{var i=n(60298),t=n(58737);F.exports=function u(e,h){var m=t(e,h);return i(m)?m:void 0}},46902:(F,b,n)=>{var t=n(72852)(Object.getPrototypeOf,Object);F.exports=t},8488:(F,b,n)=>{var i=n(8516),t=Object.prototype,u=t.hasOwnProperty,e=t.toString,h=i?i.toStringTag:void 0;F.exports=function m(f){var v=u.call(f,h),E=f[h];try{f[h]=void 0;var _=!0}catch{}var C=e.call(f);return _&&(v?f[h]=E:delete f[h]),C}},90181:(F,b,n)=>{var i=n(32873),t=n(2260),e=Object.prototype.propertyIsEnumerable,h=Object.getOwnPropertySymbols;F.exports=h?function(f){return null==f?[]:(f=Object(f),i(h(f),function(v){return e.call(f,v)}))}:t},35254:(F,b,n)=>{var i=n(86319),t=n(46902),u=n(90181),e=n(2260);F.exports=Object.getOwnPropertySymbols?function(f){for(var v=[];f;)i(v,u(f)),f=t(f);return v}:e},20828:(F,b,n)=>{var i=n(55013),t=n(51012),u=n(81339),e=n(57814),h=n(72248),m=n(61057),f=n(68020),v="[object Map]",_="[object Promise]",C="[object Set]",S="[object WeakMap]",R="[object DataView]",T=f(i),A=f(t),p=f(u),L=f(e),D=f(h),w=m;(i&&w(new i(new ArrayBuffer(1)))!=R||t&&w(new t)!=v||u&&w(u.resolve())!=_||e&&w(new e)!=C||h&&w(new h)!=S)&&(w=function(M){var x=m(M),j="[object Object]"==x?M.constructor:void 0,U=j?f(j):"";if(U)switch(U){case T:return R;case A:return v;case p:return _;case L:return C;case D:return S}return x}),F.exports=w},58737:F=>{F.exports=function b(n,i){return n?.[i]}},85121:(F,b,n)=>{var i=n(43916),t=n(56265),u=n(9812),e=n(98426),h=n(18845),m=n(58130);F.exports=function f(v,E,_){for(var C=-1,S=(E=i(E,v)).length,R=!1;++C<S;){var T=m(E[C]);if(!(R=null!=v&&_(v,T)))break;v=v[T]}return R||++C!=S?R:!!(S=null==v?0:v.length)&&h(S)&&e(T,S)&&(u(v)||t(v))}},56399:(F,b,n)=>{var i=n(58247);F.exports=function t(){this.__data__=i?i(null):{},this.size=0}},61483:F=>{F.exports=function b(n){var i=this.has(n)&&delete this.__data__[n];return this.size-=i?1:0,i}},83434:(F,b,n)=>{var i=n(58247),e=Object.prototype.hasOwnProperty;F.exports=function h(m){var f=this.__data__;if(i){var v=f[m];return"__lodash_hash_undefined__"===v?void 0:v}return e.call(f,m)?f[m]:void 0}},5230:(F,b,n)=>{var i=n(58247),u=Object.prototype.hasOwnProperty;F.exports=function e(h){var m=this.__data__;return i?void 0!==m[h]:u.call(m,h)}},33718:(F,b,n)=>{var i=n(58247);F.exports=function u(e,h){var m=this.__data__;return this.size+=this.has(e)?0:1,m[e]=i&&void 0===h?"__lodash_hash_undefined__":h,this}},89900:F=>{var n=Object.prototype.hasOwnProperty;F.exports=function i(t){var u=t.length,e=new t.constructor(u);return u&&"string"==typeof t[0]&&n.call(t,"index")&&(e.index=t.index,e.input=t.input),e}},69686:(F,b,n)=>{var i=n(96220),t=n(55942),u=n(38466),e=n(54511),h=n(11334);F.exports=function k(K,X,G){var q=K.constructor;switch(X){case"[object ArrayBuffer]":return i(K);case"[object Boolean]":case"[object Date]":return new q(+K);case"[object DataView]":return t(K,G);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return h(K,G);case"[object Map]":case"[object Set]":return new q;case"[object Number]":case"[object String]":return new q(K);case"[object RegExp]":return u(K);case"[object Symbol]":return e(K)}}},92870:(F,b,n)=>{var i=n(19593),t=n(46902),u=n(3164);F.exports=function e(h){return"function"!=typeof h.constructor||u(h)?{}:i(t(h))}},98892:(F,b,n)=>{var i=n(8516),t=n(56265),u=n(9812),e=i?i.isConcatSpreadable:void 0;F.exports=function h(m){return u(m)||t(m)||!!(e&&m&&m[e])}},98426:F=>{var n=/^(?:0|[1-9]\d*)$/;F.exports=function i(t,u){var e=typeof t;return!!(u=u??9007199254740991)&&("number"==e||"symbol"!=e&&n.test(t))&&t>-1&&t%1==0&&t<u}},12721:(F,b,n)=>{var i=n(12651),t=n(47291),u=n(98426),e=n(83278);F.exports=function h(m,f,v){if(!e(v))return!1;var E=typeof f;return!!("number"==E?t(v)&&u(f,v.length):"string"==E&&f in v)&&i(v[f],m)}},181:(F,b,n)=>{var i=n(9812),t=n(15153),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e=/^\w*$/;F.exports=function h(m,f){if(i(m))return!1;var v=typeof m;return!("number"!=v&&"symbol"!=v&&"boolean"!=v&&null!=m&&!t(m))||e.test(m)||!u.test(m)||null!=f&&m in Object(f)}},83329:F=>{F.exports=function b(n){var i=typeof n;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n}},48401:(F,b,n)=>{var e,i=n(20336),t=(e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";F.exports=function u(e){return!!t&&t in e}},3164:F=>{var b=Object.prototype;F.exports=function n(i){var t=i&&i.constructor;return i===("function"==typeof t&&t.prototype||b)}},94745:(F,b,n)=>{var i=n(83278);F.exports=function t(u){return u==u&&!i(u)}},23643:F=>{F.exports=function b(){this.__data__=[],this.size=0}},27103:(F,b,n)=>{var i=n(86316),u=Array.prototype.splice;F.exports=function e(h){var m=this.__data__,f=i(m,h);return!(f<0||(f==m.length-1?m.pop():u.call(m,f,1),--this.size,0))}},30062:(F,b,n)=>{var i=n(86316);F.exports=function t(u){var e=this.__data__,h=i(e,u);return h<0?void 0:e[h][1]}},31610:(F,b,n)=>{var i=n(86316);F.exports=function t(u){return i(this.__data__,u)>-1}},1090:(F,b,n)=>{var i=n(86316);F.exports=function t(u,e){var h=this.__data__,m=i(h,u);return m<0?(++this.size,h.push([u,e])):h[m][1]=e,this}},21891:(F,b,n)=>{var i=n(63028),t=n(25752),u=n(51012);F.exports=function e(){this.size=0,this.__data__={hash:new i,map:new(u||t),string:new i}}},92759:(F,b,n)=>{var i=n(79038);F.exports=function t(u){var e=i(this,u).delete(u);return this.size-=e?1:0,e}},97766:(F,b,n)=>{var i=n(79038);F.exports=function t(u){return i(this,u).get(u)}},40322:(F,b,n)=>{var i=n(79038);F.exports=function t(u){return i(this,u).has(u)}},47258:(F,b,n)=>{var i=n(79038);F.exports=function t(u,e){var h=i(this,u),m=h.size;return h.set(u,e),this.size+=h.size==m?0:1,this}},37152:F=>{F.exports=function b(n){var i=-1,t=Array(n.size);return n.forEach(function(u,e){t[++i]=[e,u]}),t}},2878:F=>{F.exports=function b(n,i){return function(t){return null!=t&&t[n]===i&&(void 0!==i||n in Object(t))}}},68339:(F,b,n)=>{var i=n(89605);F.exports=function u(e){var h=i(e,function(f){return 500===m.size&&m.clear(),f}),m=h.cache;return h}},58247:(F,b,n)=>{var t=n(54385)(Object,"create");F.exports=t},96199:(F,b,n)=>{var t=n(72852)(Object.keys,Object);F.exports=t},20908:F=>{F.exports=function b(n){var i=[];if(null!=n)for(var t in Object(n))i.push(t);return i}},90512:(F,b,n)=>{F=n.nmd(F);var i=n(78657),t=b&&!b.nodeType&&b,u=t&&F&&!F.nodeType&&F,h=u&&u.exports===t&&i.process,m=function(){try{return u&&u.require&&u.require("util").types||h&&h.binding&&h.binding("util")}catch{}}();F.exports=m},53327:F=>{var n=Object.prototype.toString;F.exports=function i(t){return n.call(t)}},72852:F=>{F.exports=function b(n,i){return function(t){return n(i(t))}}},28452:(F,b,n)=>{var i=n(81458),t=Math.max;F.exports=function u(e,h,m){return h=t(void 0===h?e.length-1:h,0),function(){for(var f=arguments,v=-1,E=t(f.length-h,0),_=Array(E);++v<E;)_[v]=f[h+v];v=-1;for(var C=Array(h+1);++v<h;)C[v]=f[v];return C[h]=m(_),i(e,this,C)}}},81464:(F,b,n)=>{var i=n(78657),t="object"==typeof self&&self&&self.Object===Object&&self,u=i||t||Function("return this")();F.exports=u},3609:F=>{F.exports=function b(n,i){if(("constructor"!==i||"function"!=typeof n[i])&&"__proto__"!=i)return n[i]}},74643:F=>{F.exports=function n(i){return this.__data__.set(i,"__lodash_hash_undefined__"),this}},92768:F=>{F.exports=function b(n){return this.__data__.has(n)}},3578:F=>{F.exports=function b(n){var i=-1,t=Array(n.size);return n.forEach(function(u){t[++i]=u}),t}},11230:(F,b,n)=>{var i=n(48565),u=n(12770)(i);F.exports=u},12770:F=>{var i=Date.now;F.exports=function t(u){var e=0,h=0;return function(){var m=i(),f=16-(m-h);if(h=m,f>0){if(++e>=800)return arguments[0]}else e=0;return u.apply(void 0,arguments)}}},48945:(F,b,n)=>{var i=n(25752);F.exports=function t(){this.__data__=new i,this.size=0}},78425:F=>{F.exports=function b(n){var i=this.__data__,t=i.delete(n);return this.size=i.size,t}},25280:F=>{F.exports=function b(n){return this.__data__.get(n)}},80324:F=>{F.exports=function b(n){return this.__data__.has(n)}},84516:(F,b,n)=>{var i=n(25752),t=n(51012),u=n(90752);F.exports=function h(m,f){var v=this.__data__;if(v instanceof i){var E=v.__data__;if(!t||E.length<199)return E.push([m,f]),this.size=++v.size,this;v=this.__data__=new u(E)}return v.set(m,f),this.size=v.size,this}},75220:F=>{F.exports=function b(n,i,t){for(var u=t-1,e=n.length;++u<e;)if(n[u]===i)return u;return-1}},22447:(F,b,n)=>{var i=n(68339),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,e=i(function(h){var m=[];return 46===h.charCodeAt(0)&&m.push(""),h.replace(t,function(f,v,E,_){m.push(E?_.replace(u,"$1"):v||f)}),m});F.exports=e},58130:(F,b,n)=>{var i=n(15153);F.exports=function u(e){if("string"==typeof e||i(e))return e;var h=e+"";return"0"==h&&1/e==-1/0?"-0":h}},68020:F=>{var n=Function.prototype.toString;F.exports=function i(t){if(null!=t){try{return n.call(t)}catch{}try{return t+""}catch{}}return""}},37327:F=>{var b=/\s/;F.exports=function n(i){for(var t=i.length;t--&&b.test(i.charAt(t)););return t}},84418:(F,b,n)=>{var i=n(25052);F.exports=function e(h){return i(h,5)}},26205:F=>{F.exports=function b(n){return function(){return n}}},61889:(F,b,n)=>{var i=n(83278),t=n(90501),u=n(73521),h=Math.max,m=Math.min;F.exports=function f(v,E,_){var C,S,R,T,A,p,L=0,D=!1,w=!1,M=!0;if("function"!=typeof v)throw new TypeError("Expected a function");function x(z){var te=C,Z=S;return C=S=void 0,L=z,T=v.apply(Z,te)}function $(z){var te=z-p;return void 0===p||te>=E||te<0||w&&z-L>=R}function k(){var z=t();if($(z))return K(z);A=setTimeout(k,function U(z){var J=E-(z-p);return w?m(J,R-(z-L)):J}(z))}function K(z){return A=void 0,M&&C?x(z):(C=S=void 0,T)}function q(){var z=t(),te=$(z);if(C=arguments,S=this,p=z,te){if(void 0===A)return function j(z){return L=z,A=setTimeout(k,E),D?x(z):T}(p);if(w)return clearTimeout(A),A=setTimeout(k,E),x(p)}return void 0===A&&(A=setTimeout(k,E)),T}return E=u(E)||0,i(_)&&(D=!!_.leading,R=(w="maxWait"in _)?h(u(_.maxWait)||0,E):R,M="trailing"in _?!!_.trailing:M),q.cancel=function X(){void 0!==A&&clearTimeout(A),L=0,C=p=S=A=void 0},q.flush=function G(){return void 0===A?T:K(t())},q}},22458:(F,b,n)=>{var i=n(6362),t=n(13091),u=n(68591),e=n(25152),h=u(function(m,f){return e(m)?i(m,t(f,1,e,!0)):[]});F.exports=h},25622:(F,b,n)=>{var i=n(6362),t=n(13091),u=n(68591),e=n(25152),h=n(95649),m=u(function(f,v){var E=h(v);return e(E)&&(E=void 0),e(f)?i(f,t(v,1,e,!0),void 0,E):[]});F.exports=m},12651:F=>{F.exports=function b(n,i){return n===i||n!=n&&i!=i}},48376:(F,b,n)=>{var i=n(75736),t=n(12344),u=n(71284),e=Math.max;F.exports=function h(m,f,v){var E=null==m?0:m.length;if(!E)return-1;var _=null==v?0:u(v);return _<0&&(_=e(E+_,0)),i(m,t(f,3),_)}},5771:(F,b,n)=>{var i=n(12875),t=n(73432),u=n(12344);F.exports=function e(h,m){return i(h,u(m,3),t)}},26681:(F,b,n)=>{var i=n(98137);F.exports=function t(u,e,h){var m=null==u?void 0:i(u,e);return void 0===m?h:m}},28267:(F,b,n)=>{var i=n(64399),t=n(3145),e=Object.prototype.hasOwnProperty,h=t(function(m,f,v){e.call(m,v)?m[v].push(f):i(m,v,[f])});F.exports=h},49830:(F,b,n)=>{var i=n(31398),t=n(85121);F.exports=function u(e,h){return null!=e&&t(e,h,i)}},39631:F=>{F.exports=function b(n){return n}},27916:(F,b,n)=>{var i=n(12757),t=n(16324),u=n(68591),e=n(86638),h=n(95649),m=u(function(f){var v=h(f),E=i(f,e);return(v="function"==typeof v?v:void 0)&&E.pop(),E.length&&E[0]===f[0]?t(E,void 0,v):[]});F.exports=m},56265:(F,b,n)=>{var i=n(18313),t=n(57433),u=Object.prototype,e=u.hasOwnProperty,h=u.propertyIsEnumerable,m=i(function(){return arguments}())?i:function(f){return t(f)&&e.call(f,"callee")&&!h.call(f,"callee")};F.exports=m},9812:F=>{F.exports=Array.isArray},47291:(F,b,n)=>{var i=n(58653),t=n(18845);F.exports=function u(e){return null!=e&&t(e.length)&&!i(e)}},25152:(F,b,n)=>{var i=n(47291),t=n(57433);F.exports=function u(e){return t(e)&&i(e)}},63151:(F,b,n)=>{F=n.nmd(F);var i=n(81464),t=n(95710),u=b&&!b.nodeType&&b,e=u&&F&&!F.nodeType&&F,m=e&&e.exports===u?i.Buffer:void 0;F.exports=(m?m.isBuffer:void 0)||t},48125:(F,b,n)=>{var i=n(32925);F.exports=function t(u,e){return i(u,e)}},58653:(F,b,n)=>{var i=n(61057),t=n(83278);F.exports=function f(v){if(!t(v))return!1;var E=i(v);return"[object Function]"==E||"[object GeneratorFunction]"==E||"[object AsyncFunction]"==E||"[object Proxy]"==E}},18845:F=>{F.exports=function n(i){return"number"==typeof i&&i>-1&&i%1==0&&i<=9007199254740991}},56879:(F,b,n)=>{var i=n(26095),t=n(42502),u=n(90512),e=u&&u.isMap,h=e?t(e):i;F.exports=h},83278:F=>{F.exports=function b(n){var i=typeof n;return null!=n&&("object"==i||"function"==i)}},57433:F=>{F.exports=function b(n){return null!=n&&"object"==typeof n}},49970:(F,b,n)=>{var i=n(61057),t=n(46902),u=n(57433),f=Function.prototype.toString,v=Object.prototype.hasOwnProperty,E=f.call(Object);F.exports=function _(C){if(!u(C)||"[object Object]"!=i(C))return!1;var S=t(C);if(null===S)return!0;var R=v.call(S,"constructor")&&S.constructor;return"function"==typeof R&&R instanceof R&&f.call(R)==E}},74257:(F,b,n)=>{var i=n(91889),t=n(42502),u=n(90512),e=u&&u.isSet,h=e?t(e):i;F.exports=h},78124:(F,b,n)=>{var i=n(61057),t=n(9812),u=n(57433);F.exports=function h(m){return"string"==typeof m||!t(m)&&u(m)&&"[object String]"==i(m)}},15153:(F,b,n)=>{var i=n(61057),t=n(57433);F.exports=function e(h){return"symbol"==typeof h||t(h)&&"[object Symbol]"==i(h)}},31028:(F,b,n)=>{var i=n(18068),t=n(42502),u=n(90512),e=u&&u.isTypedArray,h=e?t(e):i;F.exports=h},32561:(F,b,n)=>{var i=n(28548),t=n(13809),u=n(47291);F.exports=function e(h){return u(h)?i(h):t(h)}},47674:(F,b,n)=>{var i=n(28548),t=n(71194),u=n(47291);F.exports=function e(h){return u(h)?i(h,!0):t(h)}},95649:F=>{F.exports=function b(n){var i=null==n?0:n.length;return i?n[i-1]:void 0}},89605:(F,b,n)=>{var i=n(90752);function u(e,h){if("function"!=typeof e||null!=h&&"function"!=typeof h)throw new TypeError("Expected a function");var m=function(){var f=arguments,v=h?h.apply(this,f):f[0],E=m.cache;if(E.has(v))return E.get(v);var _=e.apply(this,f);return m.cache=E.set(v,_)||E,_};return m.cache=new(u.Cache||i),m}u.Cache=i,F.exports=u},25689:(F,b,n)=>{var i=n(85765),u=n(87530)(function(e,h,m,f){i(e,h,m,f)});F.exports=u},68145:F=>{F.exports=function b(){}},90501:(F,b,n)=>{var i=n(81464);F.exports=function(){return i.Date.now()}},15788:(F,b,n)=>{var i=n(21740),t=n(55058),u=n(181),e=n(58130);F.exports=function h(m){return u(m)?i(e(m)):t(m)}},69136:(F,b,n)=>{var i=n(13091),t=n(32168),u=n(68591),e=n(12721),h=u(function(m,f){if(null==m)return[];var v=f.length;return v>1&&e(m,f[0],f[1])?f=[]:v>2&&e(f[0],f[1],f[2])&&(f=[f[0]]),t(m,i(f,1),[])});F.exports=h},2260:F=>{F.exports=function b(){return[]}},95710:F=>{F.exports=function b(){return!1}},68263:(F,b,n)=>{var i=n(73521),t=1/0;F.exports=function e(h){return h?(h=i(h))===t||h===-t?17976931348623157e292*(h<0?-1:1):h==h?h:0:0===h?h:0}},71284:(F,b,n)=>{var i=n(68263);F.exports=function t(u){var e=i(u),h=e%1;return e==e?h?e-h:e:0}},73521:(F,b,n)=>{var i=n(35461),t=n(83278),u=n(15153),h=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,f=/^0o[0-7]+$/i,v=parseInt;F.exports=function E(_){if("number"==typeof _)return _;if(u(_))return NaN;if(t(_)){var C="function"==typeof _.valueOf?_.valueOf():_;_=t(C)?C+"":C}if("string"!=typeof _)return 0===_?_:+_;_=i(_);var S=m.test(_);return S||f.test(_)?v(_.slice(2),S?2:8):h.test(_)?NaN:+_}},6729:(F,b,n)=>{var i=n(43190),t=n(47674);F.exports=function u(e){return i(e,t(e))}},54717:(F,b,n)=>{var i=n(87005);F.exports=function t(u){return null==u?"":i(u)}},95341:(F,b,n)=>{var i=n(75558),t=n(19593),u=n(73432),e=n(12344),h=n(46902),m=n(9812),f=n(63151),v=n(58653),E=n(83278),_=n(31028);F.exports=function C(S,R,T){var A=m(S),p=A||f(S)||_(S);if(R=e(R,4),null==T){var L=S&&S.constructor;T=p?A?new L:[]:E(S)&&v(L)?t(h(S)):{}}return(p?i:u)(S,function(D,w,M){return R(T,D,w,M)}),T}},28898:(F,b,n)=>{var i=n(13091),t=n(68591),u=n(73136),e=n(25152),h=t(function(m){return u(i(m,1,e,!0))});F.exports=h},63448:(F,b,n)=>{var i=n(73136);F.exports=function t(u,e){return e="function"==typeof e?e:void 0,u&&u.length?i(u,void 0,e):[]}},59519:(F,b,n)=>{var i=n(54717),t=0;F.exports=function u(e){var h=++t;return i(e)+h}},77876:(F,b,n)=>{"use strict";n.d(b,{h:()=>t});var i=n(21413);class t extends i.B{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:h,_hasValue:m,_value:f,thrownError:v,isStopped:E,_isComplete:_}=this;h?e.error(v):(E||_)&&(m&&e.next(f),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:h,_isComplete:m}=this;m||(this._isComplete=!0,e&&super.next(h),super.complete())}}},84412:(F,b,n)=>{"use strict";n.d(b,{t:()=>t});var i=n(21413);class t extends i.B{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const h=super._subscribe(e);return!h.closed&&e.next(this._value),h}getValue(){const{hasError:e,thrownError:h,_value:m}=this;if(e)throw h;return this._throwIfClosed(),m}next(e){super.next(this._value=e)}}},71985:(F,b,n)=>{"use strict";n.d(b,{c:()=>v});var i=n(47707),t=n(18359),u=n(3494),e=n(71203),h=n(41026),m=n(98071),f=n(49786);let v=(()=>{class S{constructor(T){T&&(this._subscribe=T)}lift(T){const A=new S;return A.source=this,A.operator=T,A}subscribe(T,A,p){const L=function C(S){return S&&S instanceof i.vU||function _(S){return S&&(0,m.T)(S.next)&&(0,m.T)(S.error)&&(0,m.T)(S.complete)}(S)&&(0,t.Uv)(S)}(T)?T:new i.Ms(T,A,p);return(0,f.Y)(()=>{const{operator:D,source:w}=this;L.add(D?D.call(L,w):w?this._subscribe(L):this._trySubscribe(L))}),L}_trySubscribe(T){try{return this._subscribe(T)}catch(A){T.error(A)}}forEach(T,A){return new(A=E(A))((p,L)=>{const D=new i.Ms({next:w=>{try{T(w)}catch(M){L(M),D.unsubscribe()}},error:L,complete:p});this.subscribe(D)})}_subscribe(T){var A;return null===(A=this.source)||void 0===A?void 0:A.subscribe(T)}[u.s](){return this}pipe(...T){return(0,e.m)(T)(this)}toPromise(T){return new(T=E(T))((A,p)=>{let L;this.subscribe(D=>L=D,D=>p(D),()=>A(L))})}}return S.create=R=>new S(R),S})();function E(S){var R;return null!==(R=S??h.$.Promise)&&void 0!==R?R:Promise}},92771:(F,b,n)=>{"use strict";n.d(b,{m:()=>u});var i=n(21413),t=n(86129);class u extends i.B{constructor(h=1/0,m=1/0,f=t.U){super(),this._bufferSize=h,this._windowTime=m,this._timestampProvider=f,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=m===1/0,this._bufferSize=Math.max(1,h),this._windowTime=Math.max(1,m)}next(h){const{isStopped:m,_buffer:f,_infiniteTimeWindow:v,_timestampProvider:E,_windowTime:_}=this;m||(f.push(h),!v&&f.push(E.now()+_)),this._trimBuffer(),super.next(h)}_subscribe(h){this._throwIfClosed(),this._trimBuffer();const m=this._innerSubscribe(h),{_infiniteTimeWindow:f,_buffer:v}=this,E=v.slice();for(let _=0;_<E.length&&!h.closed;_+=f?1:2)h.next(E[_]);return this._checkFinalizedStatuses(h),m}_trimBuffer(){const{_bufferSize:h,_timestampProvider:m,_buffer:f,_infiniteTimeWindow:v}=this,E=(v?1:2)*h;if(h<1/0&&E<f.length&&f.splice(0,f.length-E),!v){const _=m.now();let C=0;for(let S=1;S<f.length&&f[S]<=_;S+=2)C=S;C&&f.splice(0,C+1)}}}},21413:(F,b,n)=>{"use strict";n.d(b,{B:()=>f});var i=n(71985),t=n(18359);const e=(0,n(81853).L)(E=>function(){E(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var h=n(57908),m=n(49786);let f=(()=>{class E extends i.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(C){const S=new v(this,this);return S.operator=C,S}_throwIfClosed(){if(this.closed)throw new e}next(C){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const S of this.currentObservers)S.next(C)}})}error(C){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=C;const{observers:S}=this;for(;S.length;)S.shift().error(C)}})}complete(){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:C}=this;for(;C.length;)C.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var C;return(null===(C=this.observers)||void 0===C?void 0:C.length)>0}_trySubscribe(C){return this._throwIfClosed(),super._trySubscribe(C)}_subscribe(C){return this._throwIfClosed(),this._checkFinalizedStatuses(C),this._innerSubscribe(C)}_innerSubscribe(C){const{hasError:S,isStopped:R,observers:T}=this;return S||R?t.Kn:(this.currentObservers=null,T.push(C),new t.yU(()=>{this.currentObservers=null,(0,h.o)(T,C)}))}_checkFinalizedStatuses(C){const{hasError:S,thrownError:R,isStopped:T}=this;S?C.error(R):T&&C.complete()}asObservable(){const C=new i.c;return C.source=this,C}}return E.create=(_,C)=>new v(_,C),E})();class v extends f{constructor(_,C){super(),this.destination=_,this.source=C}next(_){var C,S;null===(S=null===(C=this.destination)||void 0===C?void 0:C.next)||void 0===S||S.call(C,_)}error(_){var C,S;null===(S=null===(C=this.destination)||void 0===C?void 0:C.error)||void 0===S||S.call(C,_)}complete(){var _,C;null===(C=null===(_=this.destination)||void 0===_?void 0:_.complete)||void 0===C||C.call(_)}_subscribe(_){var C,S;return null!==(S=null===(C=this.source)||void 0===C?void 0:C.subscribe(_))&&void 0!==S?S:t.Kn}}},47707:(F,b,n)=>{"use strict";n.d(b,{Ms:()=>p,vU:()=>S});var i=n(98071),t=n(18359),u=n(41026),e=n(45334),h=n(85343);const m=E("C",void 0,void 0);function E(x,j,U){return{kind:x,value:j,error:U}}var _=n(19270),C=n(49786);class S extends t.yU{constructor(j){super(),this.isStopped=!1,j?(this.destination=j,(0,t.Uv)(j)&&j.add(this)):this.destination=M}static create(j,U,$){return new p(j,U,$)}next(j){this.isStopped?w(function v(x){return E("N",x,void 0)}(j),this):this._next(j)}error(j){this.isStopped?w(function f(x){return E("E",void 0,x)}(j),this):(this.isStopped=!0,this._error(j))}complete(){this.isStopped?w(m,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(j){this.destination.next(j)}_error(j){try{this.destination.error(j)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const R=Function.prototype.bind;function T(x,j){return R.call(x,j)}class A{constructor(j){this.partialObserver=j}next(j){const{partialObserver:U}=this;if(U.next)try{U.next(j)}catch($){L($)}}error(j){const{partialObserver:U}=this;if(U.error)try{U.error(j)}catch($){L($)}else L(j)}complete(){const{partialObserver:j}=this;if(j.complete)try{j.complete()}catch(U){L(U)}}}class p extends S{constructor(j,U,$){let k;if(super(),(0,i.T)(j)||!j)k={next:j??void 0,error:U??void 0,complete:$??void 0};else{let K;this&&u.$.useDeprecatedNextContext?(K=Object.create(j),K.unsubscribe=()=>this.unsubscribe(),k={next:j.next&&T(j.next,K),error:j.error&&T(j.error,K),complete:j.complete&&T(j.complete,K)}):k=j}this.destination=new A(k)}}function L(x){u.$.useDeprecatedSynchronousErrorHandling?(0,C.l)(x):(0,e.m)(x)}function w(x,j){const{onStoppedNotification:U}=u.$;U&&_.f.setTimeout(()=>U(x,j))}const M={closed:!0,next:h.l,error:function D(x){throw x},complete:h.l}},18359:(F,b,n)=>{"use strict";n.d(b,{Kn:()=>m,yU:()=>h,Uv:()=>f});var i=n(98071);const u=(0,n(81853).L)(E=>function(C){E(this),this.message=C?`${C.length} errors occurred during unsubscription:\n${C.map((S,R)=>`${R+1}) ${S.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=C});var e=n(57908);class h{constructor(_){this.initialTeardown=_,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _;if(!this.closed){this.closed=!0;const{_parentage:C}=this;if(C)if(this._parentage=null,Array.isArray(C))for(const T of C)T.remove(this);else C.remove(this);const{initialTeardown:S}=this;if((0,i.T)(S))try{S()}catch(T){_=T instanceof u?T.errors:[T]}const{_finalizers:R}=this;if(R){this._finalizers=null;for(const T of R)try{v(T)}catch(A){_=_??[],A instanceof u?_=[..._,...A.errors]:_.push(A)}}if(_)throw new u(_)}}add(_){var C;if(_&&_!==this)if(this.closed)v(_);else{if(_ instanceof h){if(_.closed||_._hasParent(this))return;_._addParent(this)}(this._finalizers=null!==(C=this._finalizers)&&void 0!==C?C:[]).push(_)}}_hasParent(_){const{_parentage:C}=this;return C===_||Array.isArray(C)&&C.includes(_)}_addParent(_){const{_parentage:C}=this;this._parentage=Array.isArray(C)?(C.push(_),C):C?[C,_]:_}_removeParent(_){const{_parentage:C}=this;C===_?this._parentage=null:Array.isArray(C)&&(0,e.o)(C,_)}remove(_){const{_finalizers:C}=this;C&&(0,e.o)(C,_),_ instanceof h&&_._removeParent(this)}}h.EMPTY=(()=>{const E=new h;return E.closed=!0,E})();const m=h.EMPTY;function f(E){return E instanceof h||E&&"closed"in E&&(0,i.T)(E.remove)&&(0,i.T)(E.add)&&(0,i.T)(E.unsubscribe)}function v(E){(0,i.T)(E)?E():E.unsubscribe()}},41026:(F,b,n)=>{"use strict";n.d(b,{$:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30017:(F,b,n)=>{"use strict";n.d(b,{G:()=>m});var i=n(71985),t=n(18359),u=n(99898),e=n(54360),h=n(39974);class m extends i.c{constructor(v,E){super(),this.source=v,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,h.S)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,v?.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new t.yU;const E=this.getSubject();v.add(this.source.subscribe((0,e._)(E,void 0,()=>{this._teardown(),E.complete()},_=>{this._teardown(),E.error(_)},()=>this._teardown()))),v.closed&&(this._connection=null,v=t.yU.EMPTY)}return v}refCount(){return(0,u.B)()(this)}}},84572:(F,b,n)=>{"use strict";n.d(b,{P:()=>C,z:()=>_});var i=n(71985),t=n(93073),u=n(22806),e=n(33669),h=n(6450),m=n(9326),f=n(58496),v=n(54360),E=n(45225);function _(...R){const T=(0,m.lI)(R),A=(0,m.ms)(R),{args:p,keys:L}=(0,t.D)(R);if(0===p.length)return(0,u.H)([],T);const D=new i.c(C(p,T,L?w=>(0,f.e)(L,w):e.D));return A?D.pipe((0,h.I)(A)):D}function C(R,T,A=e.D){return p=>{S(T,()=>{const{length:L}=R,D=new Array(L);let w=L,M=L;for(let x=0;x<L;x++)S(T,()=>{const j=(0,u.H)(R[x],T);let U=!1;j.subscribe((0,v._)(p,$=>{D[x]=$,U||(U=!0,M--),M||p.next(A(D.slice()))},()=>{--w||p.complete()}))},p)},p)}}function S(R,T,A){R?(0,E.N)(A,R,T):T()}},92688:(F,b,n)=>{"use strict";n.d(b,{x:()=>e});var i=n(79131),t=n(9326),u=n(22806);function e(...h){return(0,i.K)()((0,u.H)(h,(0,t.lI)(h)))}},59030:(F,b,n)=>{"use strict";n.d(b,{v:()=>u});var i=n(71985),t=n(58750);function u(e){return new i.c(h=>{(0,t.Tg)(e()).subscribe(h)})}},983:(F,b,n)=>{"use strict";n.d(b,{w:()=>t});const t=new(n(71985).c)(h=>h.complete())},27468:(F,b,n)=>{"use strict";n.d(b,{p:()=>v});var i=n(71985),t=n(93073),u=n(58750),e=n(9326),h=n(54360),m=n(6450),f=n(58496);function v(...E){const _=(0,e.ms)(E),{args:C,keys:S}=(0,t.D)(E),R=new i.c(T=>{const{length:A}=C;if(!A)return void T.complete();const p=new Array(A);let L=A,D=A;for(let w=0;w<A;w++){let M=!1;(0,u.Tg)(C[w]).subscribe((0,h._)(T,x=>{M||(M=!0,D--),p[w]=x},()=>L--,void 0,()=>{(!L||!M)&&(D||T.next(S?(0,f.e)(S,p):p),T.complete())}))}});return _?R.pipe((0,m.I)(_)):R}},22806:(F,b,n)=>{"use strict";n.d(b,{H:()=>U});var i=n(58750),t=n(40941),u=n(39974);function e($,k=0){return(0,u.N)((K,X)=>{X.add($.schedule(()=>K.subscribe(X),k))})}var f=n(71985),E=n(4761),_=n(98071),C=n(45225);function R($,k){if(!$)throw new Error("Iterable cannot be null");return new f.c(K=>{(0,C.N)(K,k,()=>{const X=$[Symbol.asyncIterator]();(0,C.N)(K,k,()=>{X.next().then(G=>{G.done?K.complete():K.next(G.value)})},0,!0)})})}var T=n(55055),A=n(59858),p=n(47441),L=n(85397),D=n(37953),w=n(50591),M=n(15196);function U($,k){return k?function j($,k){if(null!=$){if((0,T.l)($))return function h($,k){return(0,i.Tg)($).pipe(e(k),(0,t.Q)(k))}($,k);if((0,p.X)($))return function v($,k){return new f.c(K=>{let X=0;return k.schedule(function(){X===$.length?K.complete():(K.next($[X++]),K.closed||this.schedule())})})}($,k);if((0,A.y)($))return function m($,k){return(0,i.Tg)($).pipe(e(k),(0,t.Q)(k))}($,k);if((0,D.T)($))return R($,k);if((0,L.x)($))return function S($,k){return new f.c(K=>{let X;return(0,C.N)(K,k,()=>{X=$[E.l](),(0,C.N)(K,k,()=>{let G,q;try{({value:G,done:q}=X.next())}catch(z){return void K.error(z)}q?K.complete():K.next(G)},0,!0)}),()=>(0,_.T)(X?.return)&&X.return()})}($,k);if((0,M.U)($))return function x($,k){return R((0,M.C)($),k)}($,k)}throw(0,w.L)($)}($,k):(0,i.Tg)($)}},33726:(F,b,n)=>{"use strict";n.d(b,{R:()=>_});var i=n(58750),t=n(71985),u=n(73028),e=n(47441),h=n(98071),m=n(6450);const f=["addListener","removeListener"],v=["addEventListener","removeEventListener"],E=["on","off"];function _(A,p,L,D){if((0,h.T)(L)&&(D=L,L=void 0),D)return _(A,p,L).pipe((0,m.I)(D));const[w,M]=function T(A){return(0,h.T)(A.addEventListener)&&(0,h.T)(A.removeEventListener)}(A)?v.map(x=>j=>A[x](p,j,L)):function S(A){return(0,h.T)(A.addListener)&&(0,h.T)(A.removeListener)}(A)?f.map(C(A,p)):function R(A){return(0,h.T)(A.on)&&(0,h.T)(A.off)}(A)?E.map(C(A,p)):[];if(!w&&(0,e.X)(A))return(0,u.Z)(x=>_(x,p,L))((0,i.Tg)(A));if(!w)throw new TypeError("Invalid event target");return new t.c(x=>{const j=(...U)=>x.next(1<U.length?U:U[0]);return w(j),()=>M(j)})}function C(A,p){return L=>D=>A[L](p,D)}},58750:(F,b,n)=>{"use strict";n.d(b,{Tg:()=>R});var i=n(31635),t=n(47441),u=n(59858),e=n(71985),h=n(55055),m=n(37953),f=n(50591),v=n(85397),E=n(15196),_=n(98071),C=n(45334),S=n(3494);function R(x){if(x instanceof e.c)return x;if(null!=x){if((0,h.l)(x))return function T(x){return new e.c(j=>{const U=x[S.s]();if((0,_.T)(U.subscribe))return U.subscribe(j);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(x);if((0,t.X)(x))return function A(x){return new e.c(j=>{for(let U=0;U<x.length&&!j.closed;U++)j.next(x[U]);j.complete()})}(x);if((0,u.y)(x))return function p(x){return new e.c(j=>{x.then(U=>{j.closed||(j.next(U),j.complete())},U=>j.error(U)).then(null,C.m)})}(x);if((0,m.T)(x))return D(x);if((0,v.x)(x))return function L(x){return new e.c(j=>{for(const U of x)if(j.next(U),j.closed)return;j.complete()})}(x);if((0,E.U)(x))return function w(x){return D((0,E.C)(x))}(x)}throw(0,f.L)(x)}function D(x){return new e.c(j=>{(function M(x,j){var U,$,k,K;return(0,i.sH)(this,void 0,void 0,function*(){try{for(U=(0,i.xN)(x);!($=yield U.next()).done;)if(j.next($.value),j.closed)return}catch(X){k={error:X}}finally{try{$&&!$.done&&(K=U.return)&&(yield K.call(U))}finally{if(k)throw k.error}}j.complete()})})(x,j).catch(U=>j.error(U))})}},40605:(F,b,n)=>{"use strict";n.d(b,{Y:()=>u});var i=n(43236),t=n(41584);function u(e=0,h=i.E){return e<0&&(e=0),(0,t.O)(e,e,h)}},57786:(F,b,n)=>{"use strict";n.d(b,{h:()=>m});var i=n(26365),t=n(58750),u=n(983),e=n(9326),h=n(22806);function m(...f){const v=(0,e.lI)(f),E=(0,e.R0)(f,1/0),_=f;return _.length?1===_.length?(0,t.Tg)(_[0]):(0,i.U)(E)((0,h.H)(_,v)):u.w}},7673:(F,b,n)=>{"use strict";n.d(b,{of:()=>u});var i=n(9326),t=n(22806);function u(...e){const h=(0,i.lI)(e);return(0,t.H)(e,h)}},1033:(F,b,n)=>{"use strict";n.d(b,{O:()=>h});var i=n(71985),t=n(58750),u=n(42326),e=n(54360);function h(...f){return 1===(f=(0,u.K)(f)).length?(0,t.Tg)(f[0]):new i.c(function m(f){return v=>{let E=[];for(let _=0;E&&!v.closed&&_<f.length;_++)E.push((0,t.Tg)(f[_]).subscribe((0,e._)(v,C=>{if(E){for(let S=0;S<E.length;S++)S!==_&&E[S].unsubscribe();E=null}v.next(C)})))}}(f))}},18810:(F,b,n)=>{"use strict";n.d(b,{$:()=>u});var i=n(71985),t=n(98071);function u(e,h){const m=(0,t.T)(e)?e:()=>e,f=v=>v.error(m());return new i.c(h?v=>h.schedule(f,0,v):f)}},41584:(F,b,n)=>{"use strict";n.d(b,{O:()=>h});var i=n(71985),t=n(43236),u=n(79470);function h(m=0,f,v=t.b){let E=-1;return null!=f&&((0,u.m)(f)?v=f:E=f),new i.c(_=>{let C=function e(m){return m instanceof Date&&!isNaN(m)}(m)?+m-v.now():m;C<0&&(C=0);let S=0;return v.schedule(function(){_.closed||(_.next(S++),0<=E?this.schedule(void 0,E):_.complete())},C)})}},44437:(F,b,n)=>{"use strict";n.d(b,{y:()=>f});var i=n(71985),t=n(58750),u=n(42326),e=n(983),h=n(54360),m=n(9326);function f(...v){const E=(0,m.ms)(v),_=(0,u.K)(v);return _.length?new i.c(C=>{let S=_.map(()=>[]),R=_.map(()=>!1);C.add(()=>{S=R=null});for(let T=0;!C.closed&&T<_.length;T++)(0,t.Tg)(_[T]).subscribe((0,h._)(C,A=>{if(S[T].push(A),S.every(p=>p.length)){const p=S.map(L=>L.shift());C.next(E?E(...p):p),S.some((L,D)=>!L.length&&R[D])&&C.complete()}},()=>{R[T]=!0,!S[T].length&&C.complete()}));return()=>{S=R=null}}):e.w}},54360:(F,b,n)=>{"use strict";n.d(b,{H:()=>u,_:()=>t});var i=n(47707);function t(e,h,m,f,v){return new u(e,h,m,f,v)}class u extends i.vU{constructor(h,m,f,v,E,_){super(h),this.onFinalize=E,this.shouldUnsubscribe=_,this._next=m?function(C){try{m(C)}catch(S){h.error(S)}}:super._next,this._error=v?function(C){try{v(C)}catch(S){h.error(S)}finally{this.unsubscribe()}}:super._error,this._complete=f?function(){try{f()}catch(C){h.error(C)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var h;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:m}=this;super.unsubscribe(),!m&&(null===(h=this.onFinalize)||void 0===h||h.call(this))}}}},99437:(F,b,n)=>{"use strict";n.d(b,{W:()=>e});var i=n(58750),t=n(54360),u=n(39974);function e(h){return(0,u.N)((m,f)=>{let _,v=null,E=!1;v=m.subscribe((0,t._)(f,void 0,void 0,C=>{_=(0,i.Tg)(h(C,e(h)(m))),v?(v.unsubscribe(),v=null,_.subscribe(f)):E=!0})),E&&(v.unsubscribe(),v=null,_.subscribe(f))})}},79131:(F,b,n)=>{"use strict";n.d(b,{K:()=>t});var i=n(26365);function t(){return(0,i.U)(1)}},70274:(F,b,n)=>{"use strict";n.d(b,{H:()=>u});var i=n(73028),t=n(98071);function u(e,h){return(0,t.T)(h)?(0,i.Z)(e,h,1):(0,i.Z)(e,1)}},70152:(F,b,n)=>{"use strict";n.d(b,{B:()=>e});var i=n(43236),t=n(39974),u=n(54360);function e(h,m=i.E){return(0,t.N)((f,v)=>{let E=null,_=null,C=null;const S=()=>{if(E){E.unsubscribe(),E=null;const T=_;_=null,v.next(T)}};function R(){const T=C+h,A=m.now();if(A<T)return E=this.schedule(void 0,T-A),void v.add(E);S()}f.subscribe((0,u._)(v,T=>{_=T,C=m.now(),E||(E=m.schedule(R,h),v.add(E))},()=>{S(),v.complete()},void 0,()=>{_=E=null}))})}},39901:(F,b,n)=>{"use strict";n.d(b,{U:()=>u});var i=n(39974),t=n(54360);function u(e){return(0,i.N)((h,m)=>{let f=!1;h.subscribe((0,t._)(m,v=>{f=!0,m.next(v)},()=>{f||m.next(e),m.complete()}))})}},35335:(F,b,n)=>{"use strict";n.d(b,{c:()=>_});var i=n(43236),t=n(92688),u=n(96697),e=n(73557),h=n(73703),m=n(73028),f=n(58750);function v(C,S){return S?R=>(0,t.x)(S.pipe((0,u.s)(1),(0,e.w)()),R.pipe(v(C))):(0,m.Z)((R,T)=>(0,f.Tg)(C(R,T)).pipe((0,u.s)(1),(0,h.u)(R)))}var E=n(41584);function _(C,S=i.E){const R=(0,E.O)(C,S);return v(()=>R)}},23294:(F,b,n)=>{"use strict";n.d(b,{F:()=>e});var i=n(33669),t=n(39974),u=n(54360);function e(m,f=i.D){return m=m??h,(0,t.N)((v,E)=>{let _,C=!0;v.subscribe((0,u._)(E,S=>{const R=f(S);(C||!m(_,R))&&(C=!1,_=R,E.next(S))}))})}function h(m,f){return m===f}},5964:(F,b,n)=>{"use strict";n.d(b,{p:()=>u});var i=n(39974),t=n(54360);function u(e,h){return(0,i.N)((m,f)=>{let v=0;m.subscribe((0,t._)(f,E=>e.call(h,E,v++)&&f.next(E)))})}},70980:(F,b,n)=>{"use strict";n.d(b,{j:()=>t});var i=n(39974);function t(u){return(0,i.N)((e,h)=>{try{e.subscribe(h)}finally{h.add(u)}})}},47677:(F,b,n)=>{"use strict";n.d(b,{I:()=>u});var i=n(39974),t=n(54360);function u(h,m){return(0,i.N)(function e(h,m,f){const v="index"===f;return(E,_)=>{let C=0;E.subscribe((0,t._)(_,S=>{const R=C++;h.call(m,S,R,E)&&(_.next(v?R:S),_.complete())},()=>{_.next(v?-1:void 0),_.complete()}))}}(h,m,"value"))}},61594:(F,b,n)=>{"use strict";n.d(b,{$:()=>f});var i=n(9350),t=n(5964),u=n(96697),e=n(39901),h=n(93774),m=n(33669);function f(v,E){const _=arguments.length>=2;return C=>C.pipe(v?(0,t.p)((S,R)=>v(S,R,C)):m.D,(0,u.s)(1),_?(0,e.U)(E):(0,h.v)(()=>new i.G))}},73557:(F,b,n)=>{"use strict";n.d(b,{w:()=>e});var i=n(39974),t=n(54360),u=n(85343);function e(){return(0,i.N)((h,m)=>{h.subscribe((0,t._)(m,u.l))})}},67018:(F,b,n)=>{"use strict";n.d(b,{H:()=>f});var i=n(9350),t=n(5964),u=n(55109),e=n(93774),h=n(39901),m=n(33669);function f(v,E){const _=arguments.length>=2;return C=>C.pipe(v?(0,t.p)((S,R)=>v(S,R,C)):m.D,(0,u.o)(1),_?(0,h.U)(E):(0,e.v)(()=>new i.G))}},96354:(F,b,n)=>{"use strict";n.d(b,{T:()=>u});var i=n(39974),t=n(54360);function u(e,h){return(0,i.N)((m,f)=>{let v=0;m.subscribe((0,t._)(f,E=>{f.next(e.call(h,E,v++))}))})}},73703:(F,b,n)=>{"use strict";n.d(b,{u:()=>t});var i=n(96354);function t(u){return(0,i.T)(()=>u)}},79335:(F,b,n)=>{"use strict";n.d(b,{h:()=>h});var i=n(39974),t=n(26365),u=n(9326),e=n(22806);function h(...m){const f=(0,u.lI)(m),v=(0,u.R0)(m,1/0);return(0,i.N)((E,_)=>{(0,t.U)(v)((0,e.H)([E,...m],f)).subscribe(_)})}},26365:(F,b,n)=>{"use strict";n.d(b,{U:()=>u});var i=n(73028),t=n(33669);function u(e=1/0){return(0,i.Z)(t.D,e)}},85412:(F,b,n)=>{"use strict";n.d(b,{h:()=>e});var i=n(58750),t=n(45225),u=n(54360);function e(h,m,f,v,E,_,C,S){const R=[];let T=0,A=0,p=!1;const L=()=>{p&&!R.length&&!T&&m.complete()},D=M=>T<v?w(M):R.push(M),w=M=>{_&&m.next(M),T++;let x=!1;(0,i.Tg)(f(M,A++)).subscribe((0,u._)(m,j=>{E?.(j),_?D(j):m.next(j)},()=>{x=!0},void 0,()=>{if(x)try{for(T--;R.length&&T<v;){const j=R.shift();C?(0,t.N)(m,C,()=>w(j)):w(j)}L()}catch(j){m.error(j)}}))};return h.subscribe((0,u._)(m,D,()=>{p=!0,L()})),()=>{S?.()}}},73028:(F,b,n)=>{"use strict";n.d(b,{Z:()=>m});var i=n(96354),t=n(58750),u=n(39974),e=n(85412),h=n(98071);function m(f,v,E=1/0){return(0,h.T)(v)?m((_,C)=>(0,i.T)((S,R)=>v(_,S,C,R))((0,t.Tg)(f(_,C))),E):("number"==typeof v&&(E=v),(0,u.N)((_,C)=>(0,e.h)(_,C,f,E)))}},40941:(F,b,n)=>{"use strict";n.d(b,{Q:()=>e});var i=n(45225),t=n(39974),u=n(54360);function e(h,m=0){return(0,t.N)((f,v)=>{f.subscribe((0,u._)(v,E=>(0,i.N)(v,h,()=>v.next(E),m),()=>(0,i.N)(v,h,()=>v.complete(),m),E=>(0,i.N)(v,h,()=>v.error(E),m)))})}},19852:(F,b,n)=>{"use strict";n.d(b,{T:()=>u});var i=n(46649),t=n(39974);function u(e,h){return(0,t.N)((0,i.S)(e,h,arguments.length>=2,!1,!0))}},99898:(F,b,n)=>{"use strict";n.d(b,{B:()=>u});var i=n(39974),t=n(54360);function u(){return(0,i.N)((e,h)=>{let m=null;e._refCount++;const f=(0,t._)(h,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(m=null);const v=e._connection,E=m;m=null,v&&(!E||v===E)&&v.unsubscribe(),h.unsubscribe()});e.subscribe(f),f.closed||(m=e.connect())})}},31943:(F,b,n)=>{"use strict";n.d(b,{S:()=>u});var i=n(39974),t=n(46649);function u(e,h){return(0,i.N)((0,t.S)(e,h,arguments.length>=2,!0))}},46649:(F,b,n)=>{"use strict";n.d(b,{S:()=>t});var i=n(54360);function t(u,e,h,m,f){return(v,E)=>{let _=h,C=e,S=0;v.subscribe((0,i._)(E,R=>{const T=S++;C=_?u(C,R,T):(_=!0,R),m&&E.next(C)},f&&(()=>{_&&E.next(C),E.complete()})))}}},97647:(F,b,n)=>{"use strict";n.d(b,{u:()=>h});var i=n(58750),t=n(21413),u=n(47707),e=n(39974);function h(f={}){const{connector:v=(()=>new t.B),resetOnError:E=!0,resetOnComplete:_=!0,resetOnRefCountZero:C=!0}=f;return S=>{let R,T,A,p=0,L=!1,D=!1;const w=()=>{T?.unsubscribe(),T=void 0},M=()=>{w(),R=A=void 0,L=D=!1},x=()=>{const j=R;M(),j?.unsubscribe()};return(0,e.N)((j,U)=>{p++,!D&&!L&&w();const $=A=A??v();U.add(()=>{p--,0===p&&!D&&!L&&(T=m(x,C))}),$.subscribe(U),!R&&p>0&&(R=new u.Ms({next:k=>$.next(k),error:k=>{D=!0,w(),T=m(M,E,k),$.error(k)},complete:()=>{L=!0,w(),T=m(M,_),$.complete()}}),(0,i.Tg)(j).subscribe(R))})(S)}}function m(f,v,...E){if(!0===v)return void f();if(!1===v)return;const _=new u.Ms({next:()=>{_.unsubscribe(),f()}});return(0,i.Tg)(v(...E)).subscribe(_)}},44668:(F,b,n)=>{"use strict";n.d(b,{t:()=>u});var i=n(92771),t=n(97647);function u(e,h,m){let f,v=!1;return e&&"object"==typeof e?({bufferSize:f=1/0,windowTime:h=1/0,refCount:v=!1,scheduler:m}=e):f=e??1/0,(0,t.u)({connector:()=>new i.m(f,h,m),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:v})}},65245:(F,b,n)=>{"use strict";n.d(b,{i:()=>t});var i=n(5964);function t(u){return(0,i.p)((e,h)=>u<=h)}},28492:(F,b,n)=>{"use strict";n.d(b,{j:()=>u});var i=n(39974),t=n(54360);function u(e){return(0,i.N)((h,m)=>{let f=!1,v=0;h.subscribe((0,t._)(m,E=>(f||(f=!e(E,v++)))&&m.next(E)))})}},99172:(F,b,n)=>{"use strict";n.d(b,{Z:()=>e});var i=n(92688),t=n(9326),u=n(39974);function e(...h){const m=(0,t.lI)(h);return(0,u.N)((f,v)=>{(m?(0,i.x)(h,f,m):(0,i.x)(h,f)).subscribe(v)})}},25558:(F,b,n)=>{"use strict";n.d(b,{n:()=>e});var i=n(58750),t=n(39974),u=n(54360);function e(h,m){return(0,t.N)((f,v)=>{let E=null,_=0,C=!1;const S=()=>C&&!E&&v.complete();f.subscribe((0,u._)(v,R=>{E?.unsubscribe();let T=0;const A=_++;(0,i.Tg)(h(R,A)).subscribe(E=(0,u._)(v,p=>v.next(m?m(R,p,A,T++):p),()=>{E=null,S()}))},()=>{C=!0,S()}))})}},96697:(F,b,n)=>{"use strict";n.d(b,{s:()=>e});var i=n(983),t=n(39974),u=n(54360);function e(h){return h<=0?()=>i.w:(0,t.N)((m,f)=>{let v=0;m.subscribe((0,u._)(f,E=>{++v<=h&&(f.next(E),h<=v&&f.complete())}))})}},55109:(F,b,n)=>{"use strict";n.d(b,{o:()=>e});var i=n(983),t=n(39974),u=n(54360);function e(h){return h<=0?()=>i.w:(0,t.N)((m,f)=>{let v=[];m.subscribe((0,u._)(f,E=>{v.push(E),h<v.length&&v.shift()},()=>{for(const E of v)f.next(E);f.complete()},void 0,()=>{v=null}))})}},56977:(F,b,n)=>{"use strict";n.d(b,{Q:()=>h});var i=n(39974),t=n(54360),u=n(58750),e=n(85343);function h(m){return(0,i.N)((f,v)=>{(0,u.Tg)(m).subscribe((0,t._)(v,()=>v.complete(),e.l)),!v.closed&&f.subscribe(v)})}},77048:(F,b,n)=>{"use strict";n.d(b,{v:()=>u});var i=n(39974),t=n(54360);function u(e,h=!1){return(0,i.N)((m,f)=>{let v=0;m.subscribe((0,t._)(f,E=>{const _=e(E,v++);(_||h)&&f.next(E),!_&&f.complete()}))})}},88141:(F,b,n)=>{"use strict";n.d(b,{M:()=>h});var i=n(98071),t=n(39974),u=n(54360),e=n(33669);function h(m,f,v){const E=(0,i.T)(m)||f||v?{next:m,error:f,complete:v}:m;return E?(0,t.N)((_,C)=>{var S;null===(S=E.subscribe)||void 0===S||S.call(E);let R=!0;_.subscribe((0,u._)(C,T=>{var A;null===(A=E.next)||void 0===A||A.call(E,T),C.next(T)},()=>{var T;R=!1,null===(T=E.complete)||void 0===T||T.call(E),C.complete()},T=>{var A;R=!1,null===(A=E.error)||void 0===A||A.call(E,T),C.error(T)},()=>{var T,A;R&&(null===(T=E.unsubscribe)||void 0===T||T.call(E)),null===(A=E.finalize)||void 0===A||A.call(E)}))}):e.D}},93774:(F,b,n)=>{"use strict";n.d(b,{v:()=>e});var i=n(9350),t=n(39974),u=n(54360);function e(m=h){return(0,t.N)((f,v)=>{let E=!1;f.subscribe((0,u._)(v,_=>{E=!0,v.next(_)},()=>E?v.complete():v.error(m())))})}function h(){return new i.G}},56594:(F,b,n)=>{"use strict";n.d(b,{$:()=>e});var i=n(19852),t=n(39974);const u=(h,m)=>(h.push(m),h);function e(){return(0,t.N)((h,m)=>{(0,i.T)(u,[])(h).subscribe(m)})}},53993:(F,b,n)=>{"use strict";n.d(b,{E:()=>f});var i=n(39974),t=n(54360),u=n(58750),e=n(33669),h=n(85343),m=n(9326);function f(...v){const E=(0,m.ms)(v);return(0,i.N)((_,C)=>{const S=v.length,R=new Array(S);let T=v.map(()=>!1),A=!1;for(let p=0;p<S;p++)(0,u.Tg)(v[p]).subscribe((0,t._)(C,L=>{R[p]=L,!A&&!T[p]&&(T[p]=!0,(A=T.every(e.D))&&(T=null))},h.l));_.subscribe((0,t._)(C,p=>{if(A){const L=[p,...R];C.next(E?E(...L):L)}}))})}},96780:(F,b,n)=>{"use strict";n.d(b,{R:()=>h});var i=n(18359);class t extends i.yU{constructor(f,v){super()}schedule(f,v=0){return this}}const u={setInterval(m,f,...v){const{delegate:E}=u;return E?.setInterval?E.setInterval(m,f,...v):setInterval(m,f,...v)},clearInterval(m){const{delegate:f}=u;return(f?.clearInterval||clearInterval)(m)},delegate:void 0};var e=n(57908);class h extends t{constructor(f,v){super(f,v),this.scheduler=f,this.work=v,this.pending=!1}schedule(f,v=0){var E;if(this.closed)return this;this.state=f;const _=this.id,C=this.scheduler;return null!=_&&(this.id=this.recycleAsyncId(C,_,v)),this.pending=!0,this.delay=v,this.id=null!==(E=this.id)&&void 0!==E?E:this.requestAsyncId(C,this.id,v),this}requestAsyncId(f,v,E=0){return u.setInterval(f.flush.bind(f,this),E)}recycleAsyncId(f,v,E=0){if(null!=E&&this.delay===E&&!1===this.pending)return v;null!=v&&u.clearInterval(v)}execute(f,v){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const E=this._execute(f,v);if(E)return E;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(f,v){let _,E=!1;try{this.work(f)}catch(C){E=!0,_=C||new Error("Scheduled action threw falsy error")}if(E)return this.unsubscribe(),_}unsubscribe(){if(!this.closed){const{id:f,scheduler:v}=this,{actions:E}=v;this.work=this.state=this.scheduler=null,this.pending=!1,(0,e.o)(E,this),null!=f&&(this.id=this.recycleAsyncId(v,f,null)),this.delay=null,super.unsubscribe()}}}},39687:(F,b,n)=>{"use strict";n.d(b,{q:()=>u});var i=n(86129);class t{constructor(h,m=t.now){this.schedulerActionCtor=h,this.now=m}schedule(h,m=0,f){return new this.schedulerActionCtor(this,h).schedule(f,m)}}t.now=i.U.now;class u extends t{constructor(h,m=t.now){super(h,m),this.actions=[],this._active=!1}flush(h){const{actions:m}=this;if(this._active)return void m.push(h);let f;this._active=!0;do{if(f=h.execute(h.state,h.delay))break}while(h=m.shift());if(this._active=!1,f){for(;h=m.shift();)h.unsubscribe();throw f}}}},25007:(F,b,n)=>{"use strict";n.d(b,{$:()=>T});var i=n(96780);let u,t=1;const e={};function h(p){return p in e&&(delete e[p],!0)}const m={setImmediate(p){const L=t++;return e[L]=!0,u||(u=Promise.resolve()),u.then(()=>h(L)&&p()),L},clearImmediate(p){h(p)}},{setImmediate:v,clearImmediate:E}=m,_={setImmediate(...p){const{delegate:L}=_;return(L?.setImmediate||v)(...p)},clearImmediate(p){const{delegate:L}=_;return(L?.clearImmediate||E)(p)},delegate:void 0};var S=n(39687);const T=new class R extends S.q{flush(L){this._active=!0;const D=this._scheduled;this._scheduled=void 0;const{actions:w}=this;let M;L=L||w.shift();do{if(M=L.execute(L.state,L.delay))break}while((L=w[0])&&L.id===D&&w.shift());if(this._active=!1,M){for(;(L=w[0])&&L.id===D&&w.shift();)L.unsubscribe();throw M}}}(class C extends i.R{constructor(L,D){super(L,D),this.scheduler=L,this.work=D}requestAsyncId(L,D,w=0){return null!==w&&w>0?super.requestAsyncId(L,D,w):(L.actions.push(this),L._scheduled||(L._scheduled=_.setImmediate(L.flush.bind(L,void 0))))}recycleAsyncId(L,D,w=0){var M;if(null!=w?w>0:this.delay>0)return super.recycleAsyncId(L,D,w);const{actions:x}=L;null!=D&&(null===(M=x[x.length-1])||void 0===M?void 0:M.id)!==D&&(_.clearImmediate(D),L._scheduled===D&&(L._scheduled=void 0))}})},43236:(F,b,n)=>{"use strict";n.d(b,{E:()=>u,b:()=>e});var i=n(96780);const u=new(n(39687).q)(i.R),e=u},86129:(F,b,n)=>{"use strict";n.d(b,{U:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},47242:(F,b,n)=>{"use strict";n.d(b,{T:()=>h});var i=n(96780),u=n(39687);const h=new class e extends u.q{}(class t extends i.R{constructor(v,E){super(v,E),this.scheduler=v,this.work=E}schedule(v,E=0){return E>0?super.schedule(v,E):(this.delay=E,this.state=v,this.scheduler.flush(this),this)}execute(v,E){return E>0||this.closed?super.execute(v,E):this._execute(v,E)}requestAsyncId(v,E,_=0){return null!=_&&_>0||null==_&&this.delay>0?super.requestAsyncId(v,E,_):(v.flush(this),0)}})},19270:(F,b,n)=>{"use strict";n.d(b,{f:()=>i});const i={setTimeout(t,u,...e){const{delegate:h}=i;return h?.setTimeout?h.setTimeout(t,u,...e):setTimeout(t,u,...e)},clearTimeout(t){const{delegate:u}=i;return(u?.clearTimeout||clearTimeout)(t)},delegate:void 0}},4761:(F,b,n)=>{"use strict";n.d(b,{l:()=>t});const t=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(F,b,n)=>{"use strict";n.d(b,{s:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(F,b,n)=>{"use strict";n.d(b,{G:()=>t});const t=(0,n(81853).L)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(F,b,n)=>{"use strict";n.d(b,{R0:()=>m,lI:()=>h,ms:()=>e});var i=n(98071),t=n(79470);function u(f){return f[f.length-1]}function e(f){return(0,i.T)(u(f))?f.pop():void 0}function h(f){return(0,t.m)(u(f))?f.pop():void 0}function m(f,v){return"number"==typeof u(f)?f.pop():v}},93073:(F,b,n)=>{"use strict";n.d(b,{D:()=>h});const{isArray:i}=Array,{getPrototypeOf:t,prototype:u,keys:e}=Object;function h(f){if(1===f.length){const v=f[0];if(i(v))return{args:v,keys:null};if(function m(f){return f&&"object"==typeof f&&t(f)===u}(v)){const E=e(v);return{args:E.map(_=>v[_]),keys:E}}}return{args:f,keys:null}}},42326:(F,b,n)=>{"use strict";n.d(b,{K:()=>t});const{isArray:i}=Array;function t(u){return 1===u.length&&i(u[0])?u[0]:u}},57908:(F,b,n)=>{"use strict";function i(t,u){if(t){const e=t.indexOf(u);0<=e&&t.splice(e,1)}}n.d(b,{o:()=>i})},81853:(F,b,n)=>{"use strict";function i(t){const e=t(h=>{Error.call(h),h.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}n.d(b,{L:()=>i})},58496:(F,b,n)=>{"use strict";function i(t,u){return t.reduce((e,h,m)=>(e[h]=u[m],e),{})}n.d(b,{e:()=>i})},49786:(F,b,n)=>{"use strict";n.d(b,{Y:()=>u,l:()=>e});var i=n(41026);let t=null;function u(h){if(i.$.useDeprecatedSynchronousErrorHandling){const m=!t;if(m&&(t={errorThrown:!1,error:null}),h(),m){const{errorThrown:f,error:v}=t;if(t=null,f)throw v}}else h()}function e(h){i.$.useDeprecatedSynchronousErrorHandling&&t&&(t.errorThrown=!0,t.error=h)}},45225:(F,b,n)=>{"use strict";function i(t,u,e,h=0,m=!1){const f=u.schedule(function(){e(),m?t.add(this.schedule(null,h)):this.unsubscribe()},h);if(t.add(f),!m)return f}n.d(b,{N:()=>i})},33669:(F,b,n)=>{"use strict";function i(t){return t}n.d(b,{D:()=>i})},47441:(F,b,n)=>{"use strict";n.d(b,{X:()=>i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},37953:(F,b,n)=>{"use strict";n.d(b,{T:()=>t});var i=n(98071);function t(u){return Symbol.asyncIterator&&(0,i.T)(u?.[Symbol.asyncIterator])}},98071:(F,b,n)=>{"use strict";function i(t){return"function"==typeof t}n.d(b,{T:()=>i})},55055:(F,b,n)=>{"use strict";n.d(b,{l:()=>u});var i=n(3494),t=n(98071);function u(e){return(0,t.T)(e[i.s])}},85397:(F,b,n)=>{"use strict";n.d(b,{x:()=>u});var i=n(4761),t=n(98071);function u(e){return(0,t.T)(e?.[i.l])}},74402:(F,b,n)=>{"use strict";n.d(b,{A:()=>u});var i=n(71985),t=n(98071);function u(e){return!!e&&(e instanceof i.c||(0,t.T)(e.lift)&&(0,t.T)(e.subscribe))}},59858:(F,b,n)=>{"use strict";n.d(b,{y:()=>t});var i=n(98071);function t(u){return(0,i.T)(u?.then)}},15196:(F,b,n)=>{"use strict";n.d(b,{C:()=>u,U:()=>e});var i=n(31635),t=n(98071);function u(h){return(0,i.AQ)(this,arguments,function*(){const f=h.getReader();try{for(;;){const{value:v,done:E}=yield(0,i.N3)(f.read());if(E)return yield(0,i.N3)(void 0);yield yield(0,i.N3)(v)}}finally{f.releaseLock()}})}function e(h){return(0,t.T)(h?.getReader)}},79470:(F,b,n)=>{"use strict";n.d(b,{m:()=>t});var i=n(98071);function t(u){return u&&(0,i.T)(u.schedule)}},39974:(F,b,n)=>{"use strict";n.d(b,{N:()=>u,S:()=>t});var i=n(98071);function t(e){return(0,i.T)(e?.lift)}function u(e){return h=>{if(t(h))return h.lift(function(m){try{return e(m,this)}catch(f){this.error(f)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(F,b,n)=>{"use strict";n.d(b,{I:()=>e});var i=n(96354);const{isArray:t}=Array;function e(h){return(0,i.T)(m=>function u(h,m){return t(m)?h(...m):h(m)}(h,m))}},85343:(F,b,n)=>{"use strict";function i(){}n.d(b,{l:()=>i})},71203:(F,b,n)=>{"use strict";n.d(b,{F:()=>t,m:()=>u});var i=n(33669);function t(...e){return u(e)}function u(e){return 0===e.length?i.D:1===e.length?e[0]:function(m){return e.reduce((f,v)=>v(f),m)}}},45334:(F,b,n)=>{"use strict";n.d(b,{m:()=>u});var i=n(41026),t=n(19270);function u(e){t.f.setTimeout(()=>{const{onUnhandledError:h}=i.$;if(!h)throw e;h(e)})}},50591:(F,b,n)=>{"use strict";function i(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}n.d(b,{L:()=>i})},36883:(F,b,n)=>{"use strict";n.d(b,{A:()=>S});var i,t=new Uint8Array(16);function u(){if(!i&&!(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(t)}const e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var f=[],v=0;v<256;++v)f.push((v+256).toString(16).substr(1));const _=function E(R){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=(f[R[T+0]]+f[R[T+1]]+f[R[T+2]]+f[R[T+3]]+"-"+f[R[T+4]]+f[R[T+5]]+"-"+f[R[T+6]]+f[R[T+7]]+"-"+f[R[T+8]]+f[R[T+9]]+"-"+f[R[T+10]]+f[R[T+11]]+f[R[T+12]]+f[R[T+13]]+f[R[T+14]]+f[R[T+15]]).toLowerCase();if(!function h(R){return"string"==typeof R&&e.test(R)}(A))throw TypeError("Stringified UUID is invalid");return A},S=function C(R,T,A){var p=(R=R||{}).random||(R.rng||u)();if(p[6]=15&p[6]|64,p[8]=63&p[8]|128,T){A=A||0;for(var L=0;L<16;++L)T[A+L]=p[L];return T}return _(p)}},96935:()=>{"use strict";const F=globalThis;function b(St){return(F.__Zone_symbol_prefix||"__zone_symbol__")+St}const t=Object.getOwnPropertyDescriptor,u=Object.defineProperty,e=Object.getPrototypeOf,h=Object.create,m=Array.prototype.slice,f="addEventListener",v="removeEventListener",E=b(f),_=b(v),C="true",S="false",R=b("");function T(St,zt){return Zone.current.wrap(St,zt)}function A(St,zt,Yt,wt,bt){return Zone.current.scheduleMacroTask(St,zt,Yt,wt,bt)}const p=b,L=typeof window<"u",D=L?window:void 0,w=L&&D||globalThis,M="removeAttribute";function x(St,zt){for(let Yt=St.length-1;Yt>=0;Yt--)"function"==typeof St[Yt]&&(St[Yt]=T(St[Yt],zt+"_"+Yt));return St}function U(St){return!St||!1!==St.writable&&!("function"==typeof St.get&&typeof St.set>"u")}const $=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,k=!("nw"in w)&&typeof w.process<"u"&&"[object process]"===w.process.toString(),K=!k&&!$&&!(!L||!D.HTMLElement),X=typeof w.process<"u"&&"[object process]"===w.process.toString()&&!$&&!(!L||!D.HTMLElement),G={},q=p("enable_beforeunload"),z=function(St){if(!(St=St||w.event))return;let zt=G[St.type];zt||(zt=G[St.type]=p("ON_PROPERTY"+St.type));const Yt=this||St.target||w,wt=Yt[zt];let bt;return K&&Yt===D&&"error"===St.type?(bt=wt&&wt.call(this,St.message,St.filename,St.lineno,St.colno,St.error),!0===bt&&St.preventDefault()):(bt=wt&&wt.apply(this,arguments),"beforeunload"===St.type&&w[q]&&"string"==typeof bt?St.returnValue=bt:null!=bt&&!bt&&St.preventDefault()),bt};function te(St,zt,Yt){let wt=t(St,zt);if(!wt&&Yt&&t(Yt,zt)&&(wt={enumerable:!0,configurable:!0}),!wt||!wt.configurable)return;const bt=p("on"+zt+"patched");if(St.hasOwnProperty(bt)&&St[bt])return;delete wt.writable,delete wt.value;const Jt=wt.get,Tt=wt.set,Ft=zt.slice(2);let it=G[Ft];it||(it=G[Ft]=p("ON_PROPERTY"+Ft)),wt.set=function(xe){let Ve=this;!Ve&&St===w&&(Ve=w),Ve&&("function"==typeof Ve[it]&&Ve.removeEventListener(Ft,z),Tt&&Tt.call(Ve,null),Ve[it]=xe,"function"==typeof xe&&Ve.addEventListener(Ft,z,!1))},wt.get=function(){let xe=this;if(!xe&&St===w&&(xe=w),!xe)return null;const Ve=xe[it];if(Ve)return Ve;if(Jt){let Ke=Jt.call(this);if(Ke)return wt.set.call(this,Ke),"function"==typeof xe[M]&&xe.removeAttribute(zt),Ke}return null},u(St,zt,wt),St[bt]=!0}function Z(St,zt,Yt){if(zt)for(let wt=0;wt<zt.length;wt++)te(St,"on"+zt[wt],Yt);else{const wt=[];for(const bt in St)"on"==bt.slice(0,2)&&wt.push(bt);for(let bt=0;bt<wt.length;bt++)te(St,wt[bt],Yt)}}const J=p("originalInstance");function Q(St){const zt=w[St];if(!zt)return;w[p(St)]=zt,w[St]=function(){const bt=x(arguments,St);switch(bt.length){case 0:this[J]=new zt;break;case 1:this[J]=new zt(bt[0]);break;case 2:this[J]=new zt(bt[0],bt[1]);break;case 3:this[J]=new zt(bt[0],bt[1],bt[2]);break;case 4:this[J]=new zt(bt[0],bt[1],bt[2],bt[3]);break;default:throw new Error("Arg list too long.")}},ne(w[St],zt);const Yt=new zt(function(){});let wt;for(wt in Yt)"XMLHttpRequest"===St&&"responseBlob"===wt||function(bt){"function"==typeof Yt[bt]?w[St].prototype[bt]=function(){return this[J][bt].apply(this[J],arguments)}:u(w[St].prototype,bt,{set:function(Jt){"function"==typeof Jt?(this[J][bt]=T(Jt,St+"."+bt),ne(this[J][bt],Jt)):this[J][bt]=Jt},get:function(){return this[J][bt]}})}(wt);for(wt in zt)"prototype"!==wt&&zt.hasOwnProperty(wt)&&(w[St][wt]=zt[wt])}function ee(St,zt,Yt){let wt=St;for(;wt&&!wt.hasOwnProperty(zt);)wt=e(wt);!wt&&St[zt]&&(wt=St);const bt=p(zt);let Jt=null;if(wt&&(!(Jt=wt[bt])||!wt.hasOwnProperty(bt))&&(Jt=wt[bt]=wt[zt],U(wt&&t(wt,zt)))){const Ft=Yt(Jt,bt,zt);wt[zt]=function(){return Ft(this,arguments)},ne(wt[zt],Jt)}return Jt}function le(St,zt,Yt){let wt=null;function bt(Jt){const Tt=Jt.data;return Tt.args[Tt.cbIdx]=function(){Jt.invoke.apply(this,arguments)},wt.apply(Tt.target,Tt.args),Jt}wt=ee(St,zt,Jt=>function(Tt,Ft){const it=Yt(Tt,Ft);return it.cbIdx>=0&&"function"==typeof Ft[it.cbIdx]?A(it.name,Ft[it.cbIdx],it,bt):Jt.apply(Tt,Ft)})}function ne(St,zt){St[p("OriginalDelegate")]=zt}let fe=!1,se=!1;function Te(){if(fe)return se;fe=!0;try{const St=D.navigator.userAgent;(-1!==St.indexOf("MSIE ")||-1!==St.indexOf("Trident/")||-1!==St.indexOf("Edge/"))&&(se=!0)}catch{}return se}function be(St){return"function"==typeof St}function me(St){return"number"==typeof St}let re=!1;if(typeof window<"u")try{const St=Object.defineProperty({},"passive",{get:function(){re=!0}});window.addEventListener("test",St,St),window.removeEventListener("test",St,St)}catch{re=!1}const Ee={useG:!0},De={},tt={},ht=new RegExp("^"+R+"(\\w+)(true|false)$"),Fe=p("propagationStopped");function Et(St,zt){const Yt=(zt?zt(St):St)+S,wt=(zt?zt(St):St)+C,bt=R+Yt,Jt=R+wt;De[St]={},De[St][S]=bt,De[St][C]=Jt}function Ye(St,zt,Yt,wt){const bt=wt&&wt.add||f,Jt=wt&&wt.rm||v,Tt=wt&&wt.listeners||"eventListeners",Ft=wt&&wt.rmAll||"removeAllListeners",it=p(bt),xe="."+bt+":",Ve="prependListener",Ke="."+Ve+":",je=function(dt,It,an){if(dt.isRemoved)return;const Dn=dt.callback;let jn;"object"==typeof Dn&&Dn.handleEvent&&(dt.callback=wn=>Dn.handleEvent(wn),dt.originalDelegate=Dn);try{dt.invoke(dt,It,[an])}catch(wn){jn=wn}const Zn=dt.options;return Zn&&"object"==typeof Zn&&Zn.once&&It[Jt].call(It,an.type,dt.originalDelegate?dt.originalDelegate:dt.callback,Zn),jn};function At(dt,It,an){if(!(It=It||St.event))return;const Dn=dt||It.target||St,jn=Dn[De[It.type][an?C:S]];if(jn){const Zn=[];if(1===jn.length){const wn=je(jn[0],Dn,It);wn&&Zn.push(wn)}else{const wn=jn.slice();for(let ct=0;ct<wn.length&&(!It||!0!==It[Fe]);ct++){const vt=je(wn[ct],Dn,It);vt&&Zn.push(vt)}}if(1===Zn.length)throw Zn[0];for(let wn=0;wn<Zn.length;wn++){const ct=Zn[wn];zt.nativeScheduleMicroTask(()=>{throw ct})}}}const Qe=function(dt){return At(this,dt,!1)},st=function(dt){return At(this,dt,!0)};function ke(dt,It){if(!dt)return!1;let an=!0;It&&void 0!==It.useG&&(an=It.useG);const Dn=It&&It.vh;let jn=!0;It&&void 0!==It.chkDup&&(jn=It.chkDup);let Zn=!1;It&&void 0!==It.rt&&(Zn=It.rt);let wn=dt;for(;wn&&!wn.hasOwnProperty(bt);)wn=e(wn);if(!wn&&dt[bt]&&(wn=dt),!wn||wn[it])return!1;const ct=It&&It.eventNameToString,vt={},hn=wn[it]=wn[bt],Nn=wn[p(Jt)]=wn[Jt],Jn=wn[p(Tt)]=wn[Tt],Gs=wn[p(Ft)]=wn[Ft];let ls;It&&It.prepend&&(ls=wn[p(It.prepend)]=wn[It.prepend]);const ci=an?function(Wt){if(!vt.isExisting)return hn.call(vt.target,vt.eventName,vt.capture?st:Qe,vt.options)}:function(Wt){return hn.call(vt.target,vt.eventName,Wt.invoke,vt.options)},_t=an?function(Wt){if(!Wt.isRemoved){const pn=De[Wt.eventName];let Rn;pn&&(Rn=pn[Wt.capture?C:S]);const Yn=Rn&&Wt.target[Rn];if(Yn)for(let $n=0;$n<Yn.length;$n++)if(Yn[$n]===Wt){Yn.splice($n,1),Wt.isRemoved=!0,Wt.removeAbortListener&&(Wt.removeAbortListener(),Wt.removeAbortListener=null),0===Yn.length&&(Wt.allRemoved=!0,Wt.target[Rn]=null);break}}if(Wt.allRemoved)return Nn.call(Wt.target,Wt.eventName,Wt.capture?st:Qe,Wt.options)}:function(Wt){return Nn.call(Wt.target,Wt.eventName,Wt.invoke,Wt.options)},We=It&&It.diff?It.diff:function(Wt,pn){const Rn=typeof pn;return"function"===Rn&&Wt.callback===pn||"object"===Rn&&Wt.originalDelegate===pn},sn=Zone[p("UNPATCHED_EVENTS")],lt=St[p("PASSIVE_EVENTS")],Ct=function(Wt,pn,Rn,Yn,$n=!1,_s=!1){return function(){const Rs=this||St;let Ds=arguments[0];It&&It.transferEventName&&(Ds=It.transferEventName(Ds));let hs=arguments[1];if(!hs)return Wt.apply(this,arguments);if(k&&"uncaughtException"===Ds)return Wt.apply(this,arguments);let Cs=!1;if("function"!=typeof hs){if(!hs.handleEvent)return Wt.apply(this,arguments);Cs=!0}if(Dn&&!Dn(Wt,hs,Rs,arguments))return;const Ti=re&&!!lt&&-1!==lt.indexOf(Ds),Hi=function gt(Wt){if("object"==typeof Wt&&null!==Wt){const pn={...Wt};return Wt.signal&&(pn.signal=Wt.signal),pn}return Wt}(function Es(Wt,pn){return!re&&"object"==typeof Wt&&Wt?!!Wt.capture:re&&pn?"boolean"==typeof Wt?{capture:Wt,passive:!0}:Wt?"object"==typeof Wt&&!1!==Wt.passive?{...Wt,passive:!0}:Wt:{passive:!0}:Wt}(arguments[2],Ti)),Li=Hi?.signal;if(Li?.aborted)return;if(sn)for(let Fn=0;Fn<sn.length;Fn++)if(Ds===sn[Fn])return Ti?Wt.call(Rs,Ds,hs,Hi):Wt.apply(this,arguments);const $i=!!Hi&&("boolean"==typeof Hi||Hi.capture),jo=!(!Hi||"object"!=typeof Hi)&&Hi.once,to=Zone.current;let As=De[Ds];As||(Et(Ds,ct),As=De[Ds]);const Qs=As[$i?C:S];let Uo,Yi=Rs[Qs],_r=!1;if(Yi){if(_r=!0,jn)for(let Fn=0;Fn<Yi.length;Fn++)if(We(Yi[Fn],hs))return}else Yi=Rs[Qs]=[];const $t=Rs.constructor.name,Tn=tt[$t];Tn&&(Uo=Tn[Ds]),Uo||(Uo=$t+pn+(ct?ct(Ds):Ds)),vt.options=Hi,jo&&(vt.options.once=!1),vt.target=Rs,vt.capture=$i,vt.eventName=Ds,vt.isExisting=_r;const on=an?Ee:void 0;on&&(on.taskData=vt),Li&&(vt.options.signal=void 0);const Qt=to.scheduleEventTask(Uo,hs,on,Rn,Yn);if(Li){vt.options.signal=Li;const Fn=()=>Qt.zone.cancelTask(Qt);Wt.call(Li,"abort",Fn,{once:!0}),Qt.removeAbortListener=()=>Li.removeEventListener("abort",Fn)}return vt.target=null,on&&(on.taskData=null),jo&&(vt.options.once=!0),!re&&"boolean"==typeof Qt.options||(Qt.options=Hi),Qt.target=Rs,Qt.capture=$i,Qt.eventName=Ds,Cs&&(Qt.originalDelegate=hs),_s?Yi.unshift(Qt):Yi.push(Qt),$n?Rs:void 0}};return wn[bt]=Ct(hn,xe,ci,_t,Zn),ls&&(wn[Ve]=Ct(ls,Ke,function(Wt){return ls.call(vt.target,vt.eventName,Wt.invoke,vt.options)},_t,Zn,!0)),wn[Jt]=function(){const Wt=this||St;let pn=arguments[0];It&&It.transferEventName&&(pn=It.transferEventName(pn));const Rn=arguments[2],Yn=!!Rn&&("boolean"==typeof Rn||Rn.capture),$n=arguments[1];if(!$n)return Nn.apply(this,arguments);if(Dn&&!Dn(Nn,$n,Wt,arguments))return;const _s=De[pn];let Rs;_s&&(Rs=_s[Yn?C:S]);const Ds=Rs&&Wt[Rs];if(Ds)for(let hs=0;hs<Ds.length;hs++){const Cs=Ds[hs];if(We(Cs,$n))return Ds.splice(hs,1),Cs.isRemoved=!0,0!==Ds.length||(Cs.allRemoved=!0,Wt[Rs]=null,Yn||"string"!=typeof pn)||(Wt[R+"ON_PROPERTY"+pn]=null),Cs.zone.cancelTask(Cs),Zn?Wt:void 0}return Nn.apply(this,arguments)},wn[Tt]=function(){const Wt=this||St;let pn=arguments[0];It&&It.transferEventName&&(pn=It.transferEventName(pn));const Rn=[],Yn=pt(Wt,ct?ct(pn):pn);for(let $n=0;$n<Yn.length;$n++){const _s=Yn[$n];Rn.push(_s.originalDelegate?_s.originalDelegate:_s.callback)}return Rn},wn[Ft]=function(){const Wt=this||St;let pn=arguments[0];if(pn){It&&It.transferEventName&&(pn=It.transferEventName(pn));const Rn=De[pn];if(Rn){const _s=Wt[Rn[S]],Rs=Wt[Rn[C]];if(_s){const Ds=_s.slice();for(let hs=0;hs<Ds.length;hs++){const Cs=Ds[hs];this[Jt].call(this,pn,Cs.originalDelegate?Cs.originalDelegate:Cs.callback,Cs.options)}}if(Rs){const Ds=Rs.slice();for(let hs=0;hs<Ds.length;hs++){const Cs=Ds[hs];this[Jt].call(this,pn,Cs.originalDelegate?Cs.originalDelegate:Cs.callback,Cs.options)}}}}else{const Rn=Object.keys(Wt);for(let Yn=0;Yn<Rn.length;Yn++){const _s=ht.exec(Rn[Yn]);let Rs=_s&&_s[1];Rs&&"removeListener"!==Rs&&this[Ft].call(this,Rs)}this[Ft].call(this,"removeListener")}if(Zn)return this},ne(wn[bt],hn),ne(wn[Jt],Nn),Gs&&ne(wn[Ft],Gs),Jn&&ne(wn[Tt],Jn),!0}let Le=[];for(let dt=0;dt<Yt.length;dt++)Le[dt]=ke(Yt[dt],wt);return Le}function pt(St,zt){if(!zt){const Jt=[];for(let Tt in St){const Ft=ht.exec(Tt);let it=Ft&&Ft[1];if(it&&(!zt||it===zt)){const xe=St[Tt];if(xe)for(let Ve=0;Ve<xe.length;Ve++)Jt.push(xe[Ve])}}return Jt}let Yt=De[zt];Yt||(Et(zt),Yt=De[zt]);const wt=St[Yt[S]],bt=St[Yt[C]];return wt?bt?wt.concat(bt):wt.slice():bt?bt.slice():[]}function Mt(St,zt){const Yt=St.Event;Yt&&Yt.prototype&&zt.patchMethod(Yt.prototype,"stopImmediatePropagation",wt=>function(bt,Jt){bt[Fe]=!0,wt&&wt.apply(bt,Jt)})}const ot=p("zoneTask");function Gt(St,zt,Yt,wt){let bt=null,Jt=null;Yt+=wt;const Tt={};function Ft(xe){const Ve=xe.data;Ve.args[0]=function(){return xe.invoke.apply(this,arguments)};const Ke=bt.apply(St,Ve.args);return me(Ke)?Ve.handleId=Ke:(Ve.handle=Ke,Ve.isRefreshable=be(Ke.refresh)),xe}function it(xe){const{handle:Ve,handleId:Ke}=xe.data;return Jt.call(St,Ve??Ke)}bt=ee(St,zt+=wt,xe=>function(Ve,Ke){if(be(Ke[0])){const je={isRefreshable:!1,isPeriodic:"Interval"===wt,delay:"Timeout"===wt||"Interval"===wt?Ke[1]||0:void 0,args:Ke},At=Ke[0];Ke[0]=function(){try{return At.apply(this,arguments)}finally{const{handle:an,handleId:Dn,isPeriodic:jn,isRefreshable:Zn}=je;!jn&&!Zn&&(Dn?delete Tt[Dn]:an&&(an[ot]=null))}};const Qe=A(zt,Ke[0],je,Ft,it);if(!Qe)return Qe;const{handleId:st,handle:ke,isRefreshable:Le,isPeriodic:dt}=Qe.data;if(st)Tt[st]=Qe;else if(ke&&(ke[ot]=Qe,Le&&!dt)){const It=ke.refresh;ke.refresh=function(){const{zone:an,state:Dn}=Qe;return"notScheduled"===Dn?(Qe._state="scheduled",an._updateTaskCount(Qe,1)):"running"===Dn&&(Qe._state="scheduling"),It.call(this)}}return ke??st??Qe}return xe.apply(St,Ke)}),Jt=ee(St,Yt,xe=>function(Ve,Ke){const je=Ke[0];let At;me(je)?(At=Tt[je],delete Tt[je]):(At=je?.[ot],At?je[ot]=null:At=je),At?.type?At.cancelFn&&At.zone.cancelTask(At):xe.apply(St,Ke)})}function Ce(St,zt,Yt){if(!Yt||0===Yt.length)return zt;const wt=Yt.filter(Jt=>Jt.target===St);if(!wt||0===wt.length)return zt;const bt=wt[0].ignoreProperties;return zt.filter(Jt=>-1===bt.indexOf(Jt))}function Be(St,zt,Yt,wt){St&&Z(St,Ce(St,zt,Yt),wt)}function ut(St){return Object.getOwnPropertyNames(St).filter(zt=>zt.startsWith("on")&&zt.length>2).map(zt=>zt.substring(2))}function Kt(St,zt,Yt,wt,bt){const Jt=Zone.__symbol__(wt);if(zt[Jt])return;const Tt=zt[Jt]=zt[wt];zt[wt]=function(Ft,it,xe){return it&&it.prototype&&bt.forEach(function(Ve){const Ke=`${Yt}.${wt}::`+Ve,je=it.prototype;try{if(je.hasOwnProperty(Ve)){const At=St.ObjectGetOwnPropertyDescriptor(je,Ve);At&&At.value?(At.value=St.wrapWithCurrentZone(At.value,Ke),St._redefineProperty(it.prototype,Ve,At)):je[Ve]&&(je[Ve]=St.wrapWithCurrentZone(je[Ve],Ke))}else je[Ve]&&(je[Ve]=St.wrapWithCurrentZone(je[Ve],Ke))}catch{}}),Tt.call(zt,Ft,it,xe)},St.attachOriginToPatched(zt[wt],Tt)}const gn=function i(){const St=globalThis,zt=!0===St[b("forceDuplicateZoneCheck")];if(St.Zone&&(zt||"function"!=typeof St.Zone.__symbol__))throw new Error("Zone already loaded.");return St.Zone??=function n(){const St=F.performance;function zt(Es){St&&St.mark&&St.mark(Es)}function Yt(Es,cs){St&&St.measure&&St.measure(Es,cs)}zt("Zone");let wt=(()=>{class Es{static{this.__symbol__=b}static assertZonePatched(){if(F.Promise!==vt.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let cn=Es.current;for(;cn.parent;)cn=cn.parent;return cn}static get current(){return Nn.zone}static get currentTask(){return Jn}static __load_patch(cn,yn,ns=!1){if(vt.hasOwnProperty(cn)){const Ls=!0===F[b("forceDuplicateZoneCheck")];if(!ns&&Ls)throw Error("Already loaded patch: "+cn)}else if(!F["__Zone_disable_"+cn]){const Ls="Zone:"+cn;zt(Ls),vt[cn]=yn(F,Es,hn),Yt(Ls,Ls)}}get parent(){return this._parent}get name(){return this._name}constructor(cn,yn){this._parent=cn,this._name=yn?yn.name||"unnamed":"<root>",this._properties=yn&&yn.properties||{},this._zoneDelegate=new Jt(this,this._parent&&this._parent._zoneDelegate,yn)}get(cn){const yn=this.getZoneWith(cn);if(yn)return yn._properties[cn]}getZoneWith(cn){let yn=this;for(;yn;){if(yn._properties.hasOwnProperty(cn))return yn;yn=yn._parent}return null}fork(cn){if(!cn)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,cn)}wrap(cn,yn){if("function"!=typeof cn)throw new Error("Expecting function got: "+cn);const ns=this._zoneDelegate.intercept(this,cn,yn),Ls=this;return function(){return Ls.runGuarded(ns,this,arguments,yn)}}run(cn,yn,ns,Ls){Nn={parent:Nn,zone:this};try{return this._zoneDelegate.invoke(this,cn,yn,ns,Ls)}finally{Nn=Nn.parent}}runGuarded(cn,yn=null,ns,Ls){Nn={parent:Nn,zone:this};try{try{return this._zoneDelegate.invoke(this,cn,yn,ns,Ls)}catch(ci){if(this._zoneDelegate.handleError(this,ci))throw ci}}finally{Nn=Nn.parent}}runTask(cn,yn,ns){if(cn.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(cn.zone||ke).name+"; Execution: "+this.name+")");const Ls=cn,{type:ci,data:{isPeriodic:_t=!1,isRefreshable:Ht=!1}={}}=cn;if(cn.state===Le&&(ci===ct||ci===wn))return;const We=cn.state!=an;We&&Ls._transitionTo(an,It);const sn=Jn;Jn=Ls,Nn={parent:Nn,zone:this};try{ci==wn&&cn.data&&!_t&&!Ht&&(cn.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,Ls,yn,ns)}catch(lt){if(this._zoneDelegate.handleError(this,lt))throw lt}}finally{const lt=cn.state;if(lt!==Le&&lt!==jn)if(ci==ct||_t||Ht&&lt===dt)We&&Ls._transitionTo(It,an,dt);else{const gt=Ls._zoneDelegates;this._updateTaskCount(Ls,-1),We&&Ls._transitionTo(Le,an,Le),Ht&&(Ls._zoneDelegates=gt)}Nn=Nn.parent,Jn=sn}}scheduleTask(cn){if(cn.zone&&cn.zone!==this){let ns=this;for(;ns;){if(ns===cn.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${cn.zone.name}`);ns=ns.parent}}cn._transitionTo(dt,Le);const yn=[];cn._zoneDelegates=yn,cn._zone=this;try{cn=this._zoneDelegate.scheduleTask(this,cn)}catch(ns){throw cn._transitionTo(jn,dt,Le),this._zoneDelegate.handleError(this,ns),ns}return cn._zoneDelegates===yn&&this._updateTaskCount(cn,1),cn.state==dt&&cn._transitionTo(It,dt),cn}scheduleMicroTask(cn,yn,ns,Ls){return this.scheduleTask(new Tt(Zn,cn,yn,ns,Ls,void 0))}scheduleMacroTask(cn,yn,ns,Ls,ci){return this.scheduleTask(new Tt(wn,cn,yn,ns,Ls,ci))}scheduleEventTask(cn,yn,ns,Ls,ci){return this.scheduleTask(new Tt(ct,cn,yn,ns,Ls,ci))}cancelTask(cn){if(cn.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(cn.zone||ke).name+"; Execution: "+this.name+")");if(cn.state===It||cn.state===an){cn._transitionTo(Dn,It,an);try{this._zoneDelegate.cancelTask(this,cn)}catch(yn){throw cn._transitionTo(jn,Dn),this._zoneDelegate.handleError(this,yn),yn}return this._updateTaskCount(cn,-1),cn._transitionTo(Le,Dn),cn.runCount=-1,cn}}_updateTaskCount(cn,yn){const ns=cn._zoneDelegates;-1==yn&&(cn._zoneDelegates=null);for(let Ls=0;Ls<ns.length;Ls++)ns[Ls]._updateTaskCount(cn.type,yn)}}return Es})();const bt={name:"",onHasTask:(Es,cs,cn,yn)=>Es.hasTask(cn,yn),onScheduleTask:(Es,cs,cn,yn)=>Es.scheduleTask(cn,yn),onInvokeTask:(Es,cs,cn,yn,ns,Ls)=>Es.invokeTask(cn,yn,ns,Ls),onCancelTask:(Es,cs,cn,yn)=>Es.cancelTask(cn,yn)};class Jt{get zone(){return this._zone}constructor(cs,cn,yn){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=cs,this._parentDelegate=cn,this._forkZS=yn&&(yn&&yn.onFork?yn:cn._forkZS),this._forkDlgt=yn&&(yn.onFork?cn:cn._forkDlgt),this._forkCurrZone=yn&&(yn.onFork?this._zone:cn._forkCurrZone),this._interceptZS=yn&&(yn.onIntercept?yn:cn._interceptZS),this._interceptDlgt=yn&&(yn.onIntercept?cn:cn._interceptDlgt),this._interceptCurrZone=yn&&(yn.onIntercept?this._zone:cn._interceptCurrZone),this._invokeZS=yn&&(yn.onInvoke?yn:cn._invokeZS),this._invokeDlgt=yn&&(yn.onInvoke?cn:cn._invokeDlgt),this._invokeCurrZone=yn&&(yn.onInvoke?this._zone:cn._invokeCurrZone),this._handleErrorZS=yn&&(yn.onHandleError?yn:cn._handleErrorZS),this._handleErrorDlgt=yn&&(yn.onHandleError?cn:cn._handleErrorDlgt),this._handleErrorCurrZone=yn&&(yn.onHandleError?this._zone:cn._handleErrorCurrZone),this._scheduleTaskZS=yn&&(yn.onScheduleTask?yn:cn._scheduleTaskZS),this._scheduleTaskDlgt=yn&&(yn.onScheduleTask?cn:cn._scheduleTaskDlgt),this._scheduleTaskCurrZone=yn&&(yn.onScheduleTask?this._zone:cn._scheduleTaskCurrZone),this._invokeTaskZS=yn&&(yn.onInvokeTask?yn:cn._invokeTaskZS),this._invokeTaskDlgt=yn&&(yn.onInvokeTask?cn:cn._invokeTaskDlgt),this._invokeTaskCurrZone=yn&&(yn.onInvokeTask?this._zone:cn._invokeTaskCurrZone),this._cancelTaskZS=yn&&(yn.onCancelTask?yn:cn._cancelTaskZS),this._cancelTaskDlgt=yn&&(yn.onCancelTask?cn:cn._cancelTaskDlgt),this._cancelTaskCurrZone=yn&&(yn.onCancelTask?this._zone:cn._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const ns=yn&&yn.onHasTask;(ns||cn&&cn._hasTaskZS)&&(this._hasTaskZS=ns?yn:bt,this._hasTaskDlgt=cn,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,yn.onScheduleTask||(this._scheduleTaskZS=bt,this._scheduleTaskDlgt=cn,this._scheduleTaskCurrZone=this._zone),yn.onInvokeTask||(this._invokeTaskZS=bt,this._invokeTaskDlgt=cn,this._invokeTaskCurrZone=this._zone),yn.onCancelTask||(this._cancelTaskZS=bt,this._cancelTaskDlgt=cn,this._cancelTaskCurrZone=this._zone))}fork(cs,cn){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,cs,cn):new wt(cs,cn)}intercept(cs,cn,yn){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,cs,cn,yn):cn}invoke(cs,cn,yn,ns,Ls){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,cs,cn,yn,ns,Ls):cn.apply(yn,ns)}handleError(cs,cn){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,cs,cn)}scheduleTask(cs,cn){let yn=cn;if(this._scheduleTaskZS)this._hasTaskZS&&yn._zoneDelegates.push(this._hasTaskDlgtOwner),yn=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,cs,cn),yn||(yn=cn);else if(cn.scheduleFn)cn.scheduleFn(cn);else{if(cn.type!=Zn)throw new Error("Task is missing scheduleFn.");Qe(cn)}return yn}invokeTask(cs,cn,yn,ns){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,cs,cn,yn,ns):cn.callback.apply(yn,ns)}cancelTask(cs,cn){let yn;if(this._cancelTaskZS)yn=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,cs,cn);else{if(!cn.cancelFn)throw Error("Task is not cancelable");yn=cn.cancelFn(cn)}return yn}hasTask(cs,cn){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,cs,cn)}catch(yn){this.handleError(cs,yn)}}_updateTaskCount(cs,cn){const yn=this._taskCounts,ns=yn[cs],Ls=yn[cs]=ns+cn;if(Ls<0)throw new Error("More tasks executed then were scheduled.");0!=ns&&0!=Ls||this.hasTask(this._zone,{microTask:yn.microTask>0,macroTask:yn.macroTask>0,eventTask:yn.eventTask>0,change:cs})}}class Tt{constructor(cs,cn,yn,ns,Ls,ci){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=cs,this.source=cn,this.data=ns,this.scheduleFn=Ls,this.cancelFn=ci,!yn)throw new Error("callback is not defined");this.callback=yn;const _t=this;this.invoke=cs===ct&&ns&&ns.useG?Tt.invokeTask:function(){return Tt.invokeTask.call(F,_t,this,arguments)}}static invokeTask(cs,cn,yn){cs||(cs=this),Gs++;try{return cs.runCount++,cs.zone.runTask(cs,cn,yn)}finally{1==Gs&&st(),Gs--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(Le,dt)}_transitionTo(cs,cn,yn){if(this._state!==cn&&this._state!==yn)throw new Error(`${this.type} '${this.source}': can not transition to '${cs}', expecting state '${cn}'${yn?" or '"+yn+"'":""}, was '${this._state}'.`);this._state=cs,cs==Le&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Ft=b("setTimeout"),it=b("Promise"),xe=b("then");let je,Ve=[],Ke=!1;function At(Es){if(je||F[it]&&(je=F[it].resolve(0)),je){let cs=je[xe];cs||(cs=je.then),cs.call(je,Es)}else F[Ft](Es,0)}function Qe(Es){0===Gs&&0===Ve.length&&At(st),Es&&Ve.push(Es)}function st(){if(!Ke){for(Ke=!0;Ve.length;){const Es=Ve;Ve=[];for(let cs=0;cs<Es.length;cs++){const cn=Es[cs];try{cn.zone.runTask(cn,null,null)}catch(yn){hn.onUnhandledError(yn)}}}hn.microtaskDrainDone(),Ke=!1}}const ke={name:"NO ZONE"},Le="notScheduled",dt="scheduling",It="scheduled",an="running",Dn="canceling",jn="unknown",Zn="microTask",wn="macroTask",ct="eventTask",vt={},hn={symbol:b,currentZoneFrame:()=>Nn,onUnhandledError:ls,microtaskDrainDone:ls,scheduleMicroTask:Qe,showUncaughtError:()=>!wt[b("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:ls,patchMethod:()=>ls,bindArguments:()=>[],patchThen:()=>ls,patchMacroTask:()=>ls,patchEventPrototype:()=>ls,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>ls,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>ls,wrapWithCurrentZone:()=>ls,filterProperties:()=>[],attachOriginToPatched:()=>ls,_redefineProperty:()=>ls,patchCallbacks:()=>ls,nativeScheduleMicroTask:At};let Nn={parent:null,zone:new wt(null,null)},Jn=null,Gs=0;function ls(){}return Yt("Zone","Zone"),wt}(),St.Zone}();(function nn(St){(function Pn(St){St.__load_patch("ZoneAwarePromise",(zt,Yt,wt)=>{const bt=Object.getOwnPropertyDescriptor,Jt=Object.defineProperty,Ft=wt.symbol,it=[],xe=!1!==zt[Ft("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],Ve=Ft("Promise"),Ke=Ft("then"),je="__creationTrace__";wt.onUnhandledError=gt=>{if(wt.showUncaughtError()){const Ct=gt&&gt.rejection;Ct?console.error("Unhandled Promise rejection:",Ct instanceof Error?Ct.message:Ct,"; Zone:",gt.zone.name,"; Task:",gt.task&&gt.task.source,"; Value:",Ct,Ct instanceof Error?Ct.stack:void 0):console.error(gt)}},wt.microtaskDrainDone=()=>{for(;it.length;){const gt=it.shift();try{gt.zone.runGuarded(()=>{throw gt.throwOriginal?gt.rejection:gt})}catch(Ct){Qe(Ct)}}};const At=Ft("unhandledPromiseRejectionHandler");function Qe(gt){wt.onUnhandledError(gt);try{const Ct=Yt[At];"function"==typeof Ct&&Ct.call(this,gt)}catch{}}function st(gt){return gt&&gt.then}function ke(gt){return gt}function Le(gt){return _t.reject(gt)}const dt=Ft("state"),It=Ft("value"),an=Ft("finally"),Dn=Ft("parentPromiseValue"),jn=Ft("parentPromiseState"),Zn="Promise.then",wn=null,ct=!0,vt=!1,hn=0;function Nn(gt,Ct){return Wt=>{try{Es(gt,Ct,Wt)}catch(pn){Es(gt,!1,pn)}}}const Jn=function(){let gt=!1;return function(Wt){return function(){gt||(gt=!0,Wt.apply(null,arguments))}}},Gs="Promise resolved with itself",ls=Ft("currentTaskTrace");function Es(gt,Ct,Wt){const pn=Jn();if(gt===Wt)throw new TypeError(Gs);if(gt[dt]===wn){let Rn=null;try{("object"==typeof Wt||"function"==typeof Wt)&&(Rn=Wt&&Wt.then)}catch(Yn){return pn(()=>{Es(gt,!1,Yn)})(),gt}if(Ct!==vt&&Wt instanceof _t&&Wt.hasOwnProperty(dt)&&Wt.hasOwnProperty(It)&&Wt[dt]!==wn)cn(Wt),Es(gt,Wt[dt],Wt[It]);else if(Ct!==vt&&"function"==typeof Rn)try{Rn.call(Wt,pn(Nn(gt,Ct)),pn(Nn(gt,!1)))}catch(Yn){pn(()=>{Es(gt,!1,Yn)})()}else{gt[dt]=Ct;const Yn=gt[It];if(gt[It]=Wt,gt[an]===an&&Ct===ct&&(gt[dt]=gt[jn],gt[It]=gt[Dn]),Ct===vt&&Wt instanceof Error){const $n=Yt.currentTask&&Yt.currentTask.data&&Yt.currentTask.data[je];$n&&Jt(Wt,ls,{configurable:!0,enumerable:!1,writable:!0,value:$n})}for(let $n=0;$n<Yn.length;)yn(gt,Yn[$n++],Yn[$n++],Yn[$n++],Yn[$n++]);if(0==Yn.length&&Ct==vt){gt[dt]=hn;let $n=Wt;try{throw new Error("Uncaught (in promise): "+function Tt(gt){return gt&&gt.toString===Object.prototype.toString?(gt.constructor&&gt.constructor.name||"")+": "+JSON.stringify(gt):gt?gt.toString():Object.prototype.toString.call(gt)}(Wt)+(Wt&&Wt.stack?"\n"+Wt.stack:""))}catch(_s){$n=_s}xe&&($n.throwOriginal=!0),$n.rejection=Wt,$n.promise=gt,$n.zone=Yt.current,$n.task=Yt.currentTask,it.push($n),wt.scheduleMicroTask()}}}return gt}const cs=Ft("rejectionHandledHandler");function cn(gt){if(gt[dt]===hn){try{const Ct=Yt[cs];Ct&&"function"==typeof Ct&&Ct.call(this,{rejection:gt[It],promise:gt})}catch{}gt[dt]=vt;for(let Ct=0;Ct<it.length;Ct++)gt===it[Ct].promise&&it.splice(Ct,1)}}function yn(gt,Ct,Wt,pn,Rn){cn(gt);const Yn=gt[dt],$n=Yn?"function"==typeof pn?pn:ke:"function"==typeof Rn?Rn:Le;Ct.scheduleMicroTask(Zn,()=>{try{const _s=gt[It],Rs=!!Wt&&an===Wt[an];Rs&&(Wt[Dn]=_s,Wt[jn]=Yn);const Ds=Ct.run($n,void 0,Rs&&$n!==Le&&$n!==ke?[]:[_s]);Es(Wt,!0,Ds)}catch(_s){Es(Wt,!1,_s)}},Wt)}const Ls=function(){},ci=zt.AggregateError;class _t{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(Ct){return Ct instanceof _t?Ct:Es(new this(null),ct,Ct)}static reject(Ct){return Es(new this(null),vt,Ct)}static withResolvers(){const Ct={};return Ct.promise=new _t((Wt,pn)=>{Ct.resolve=Wt,Ct.reject=pn}),Ct}static any(Ct){if(!Ct||"function"!=typeof Ct[Symbol.iterator])return Promise.reject(new ci([],"All promises were rejected"));const Wt=[];let pn=0;try{for(let $n of Ct)pn++,Wt.push(_t.resolve($n))}catch{return Promise.reject(new ci([],"All promises were rejected"))}if(0===pn)return Promise.reject(new ci([],"All promises were rejected"));let Rn=!1;const Yn=[];return new _t(($n,_s)=>{for(let Rs=0;Rs<Wt.length;Rs++)Wt[Rs].then(Ds=>{Rn||(Rn=!0,$n(Ds))},Ds=>{Yn.push(Ds),pn--,0===pn&&(Rn=!0,_s(new ci(Yn,"All promises were rejected")))})})}static race(Ct){let Wt,pn,Rn=new this((_s,Rs)=>{Wt=_s,pn=Rs});function Yn(_s){Wt(_s)}function $n(_s){pn(_s)}for(let _s of Ct)st(_s)||(_s=this.resolve(_s)),_s.then(Yn,$n);return Rn}static all(Ct){return _t.allWithCallback(Ct)}static allSettled(Ct){return(this&&this.prototype instanceof _t?this:_t).allWithCallback(Ct,{thenCallback:pn=>({status:"fulfilled",value:pn}),errorCallback:pn=>({status:"rejected",reason:pn})})}static allWithCallback(Ct,Wt){let pn,Rn,Yn=new this((Ds,hs)=>{pn=Ds,Rn=hs}),$n=2,_s=0;const Rs=[];for(let Ds of Ct){st(Ds)||(Ds=this.resolve(Ds));const hs=_s;try{Ds.then(Cs=>{Rs[hs]=Wt?Wt.thenCallback(Cs):Cs,$n--,0===$n&&pn(Rs)},Cs=>{Wt?(Rs[hs]=Wt.errorCallback(Cs),$n--,0===$n&&pn(Rs)):Rn(Cs)})}catch(Cs){Rn(Cs)}$n++,_s++}return $n-=2,0===$n&&pn(Rs),Yn}constructor(Ct){const Wt=this;if(!(Wt instanceof _t))throw new Error("Must be an instanceof Promise.");Wt[dt]=wn,Wt[It]=[];try{const pn=Jn();Ct&&Ct(pn(Nn(Wt,ct)),pn(Nn(Wt,vt)))}catch(pn){Es(Wt,!1,pn)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return _t}then(Ct,Wt){let pn=this.constructor?.[Symbol.species];(!pn||"function"!=typeof pn)&&(pn=this.constructor||_t);const Rn=new pn(Ls),Yn=Yt.current;return this[dt]==wn?this[It].push(Yn,Rn,Ct,Wt):yn(this,Yn,Rn,Ct,Wt),Rn}catch(Ct){return this.then(null,Ct)}finally(Ct){let Wt=this.constructor?.[Symbol.species];(!Wt||"function"!=typeof Wt)&&(Wt=_t);const pn=new Wt(Ls);pn[an]=an;const Rn=Yt.current;return this[dt]==wn?this[It].push(Rn,pn,Ct,Ct):yn(this,Rn,pn,Ct,Ct),pn}}_t.resolve=_t.resolve,_t.reject=_t.reject,_t.race=_t.race,_t.all=_t.all;const Ht=zt[Ve]=zt.Promise;zt.Promise=_t;const We=Ft("thenPatched");function sn(gt){const Ct=gt.prototype,Wt=bt(Ct,"then");if(Wt&&(!1===Wt.writable||!Wt.configurable))return;const pn=Ct.then;Ct[Ke]=pn,gt.prototype.then=function(Rn,Yn){return new _t((_s,Rs)=>{pn.call(this,_s,Rs)}).then(Rn,Yn)},gt[We]=!0}return wt.patchThen=sn,Ht&&(sn(Ht),ee(zt,"fetch",gt=>function lt(gt){return function(Ct,Wt){let pn=gt.apply(Ct,Wt);if(pn instanceof _t)return pn;let Rn=pn.constructor;return Rn[We]||sn(Rn),pn}}(gt))),Promise[Yt.__symbol__("uncaughtPromiseErrors")]=it,_t})})(St),function yt(St){St.__load_patch("toString",zt=>{const Yt=Function.prototype.toString,wt=p("OriginalDelegate"),bt=p("Promise"),Jt=p("Error"),Tt=function(){if("function"==typeof this){const Ve=this[wt];if(Ve)return"function"==typeof Ve?Yt.call(Ve):Object.prototype.toString.call(Ve);if(this===Promise){const Ke=zt[bt];if(Ke)return Yt.call(Ke)}if(this===Error){const Ke=zt[Jt];if(Ke)return Yt.call(Ke)}}return Yt.call(this)};Tt[wt]=Yt,Function.prototype.toString=Tt;const Ft=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":Ft.call(this)}})}(St),function Rt(St){St.__load_patch("util",(zt,Yt,wt)=>{const bt=ut(zt);wt.patchOnProperties=Z,wt.patchMethod=ee,wt.bindArguments=x,wt.patchMacroTask=le;const Jt=Yt.__symbol__("BLACK_LISTED_EVENTS"),Tt=Yt.__symbol__("UNPATCHED_EVENTS");zt[Tt]&&(zt[Jt]=zt[Tt]),zt[Jt]&&(Yt[Jt]=Yt[Tt]=zt[Jt]),wt.patchEventPrototype=Mt,wt.patchEventTarget=Ye,wt.isIEOrEdge=Te,wt.ObjectDefineProperty=u,wt.ObjectGetOwnPropertyDescriptor=t,wt.ObjectCreate=h,wt.ArraySlice=m,wt.patchClass=Q,wt.wrapWithCurrentZone=T,wt.filterProperties=Ce,wt.attachOriginToPatched=ne,wt._redefineProperty=Object.defineProperty,wt.patchCallbacks=Kt,wt.getGlobalObjects=()=>({globalSources:tt,zoneSymbolEventNames:De,eventNames:bt,isBrowser:K,isMix:X,isNode:k,TRUE_STR:C,FALSE_STR:S,ZONE_SYMBOL_PREFIX:R,ADD_EVENT_LISTENER_STR:f,REMOVE_EVENT_LISTENER_STR:v})})}(St)})(gn),function rn(St){St.__load_patch("legacy",zt=>{const Yt=zt[St.__symbol__("legacyPatch")];Yt&&Yt()}),St.__load_patch("timers",zt=>{const wt="clear";Gt(zt,"set",wt,"Timeout"),Gt(zt,"set",wt,"Interval"),Gt(zt,"set",wt,"Immediate")}),St.__load_patch("requestAnimationFrame",zt=>{Gt(zt,"request","cancel","AnimationFrame"),Gt(zt,"mozRequest","mozCancel","AnimationFrame"),Gt(zt,"webkitRequest","webkitCancel","AnimationFrame")}),St.__load_patch("blocking",(zt,Yt)=>{const wt=["alert","prompt","confirm"];for(let bt=0;bt<wt.length;bt++)ee(zt,wt[bt],(Tt,Ft,it)=>function(xe,Ve){return Yt.current.run(Tt,zt,Ve,it)})}),St.__load_patch("EventTarget",(zt,Yt,wt)=>{(function Pt(St,zt){zt.patchEventPrototype(St,zt)})(zt,wt),function mt(St,zt){if(Zone[zt.symbol("patchEventTarget")])return;const{eventNames:Yt,zoneSymbolEventNames:wt,TRUE_STR:bt,FALSE_STR:Jt,ZONE_SYMBOL_PREFIX:Tt}=zt.getGlobalObjects();for(let it=0;it<Yt.length;it++){const xe=Yt[it],je=Tt+(xe+Jt),At=Tt+(xe+bt);wt[xe]={},wt[xe][Jt]=je,wt[xe][bt]=At}const Ft=St.EventTarget;Ft&&Ft.prototype&&zt.patchEventTarget(St,zt,[Ft&&Ft.prototype])}(zt,wt);const bt=zt.XMLHttpRequestEventTarget;bt&&bt.prototype&&wt.patchEventTarget(zt,wt,[bt.prototype])}),St.__load_patch("MutationObserver",(zt,Yt,wt)=>{Q("MutationObserver"),Q("WebKitMutationObserver")}),St.__load_patch("IntersectionObserver",(zt,Yt,wt)=>{Q("IntersectionObserver")}),St.__load_patch("FileReader",(zt,Yt,wt)=>{Q("FileReader")}),St.__load_patch("on_property",(zt,Yt,wt)=>{!function un(St,zt){if(k&&!X||Zone[St.symbol("patchEvents")])return;const Yt=zt.__Zone_ignore_on_properties;let wt=[];if(K){const bt=window;wt=wt.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const Jt=function ce(){try{const St=D.navigator.userAgent;if(-1!==St.indexOf("MSIE ")||-1!==St.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:bt,ignoreProperties:["error"]}]:[];Be(bt,ut(bt),Yt&&Yt.concat(Jt),e(bt))}wt=wt.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let bt=0;bt<wt.length;bt++){const Jt=zt[wt[bt]];Jt&&Jt.prototype&&Be(Jt.prototype,ut(Jt.prototype),Yt)}}(wt,zt)}),St.__load_patch("customElements",(zt,Yt,wt)=>{!function Zt(St,zt){const{isBrowser:Yt,isMix:wt}=zt.getGlobalObjects();(Yt||wt)&&St.customElements&&"customElements"in St&&zt.patchCallbacks(zt,St.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(zt,wt)}),St.__load_patch("XHR",(zt,Yt)=>{!function xe(Ve){const Ke=Ve.XMLHttpRequest;if(!Ke)return;const je=Ke.prototype;let Qe=je[E],st=je[_];if(!Qe){const hn=Ve.XMLHttpRequestEventTarget;if(hn){const Nn=hn.prototype;Qe=Nn[E],st=Nn[_]}}const ke="readystatechange",Le="scheduled";function dt(hn){const Nn=hn.data,Jn=Nn.target;Jn[Tt]=!1,Jn[it]=!1;const Gs=Jn[Jt];Qe||(Qe=Jn[E],st=Jn[_]),Gs&&st.call(Jn,ke,Gs);const ls=Jn[Jt]=()=>{if(Jn.readyState===Jn.DONE)if(!Nn.aborted&&Jn[Tt]&&hn.state===Le){const cs=Jn[Yt.__symbol__("loadfalse")];if(0!==Jn.status&&cs&&cs.length>0){const cn=hn.invoke;hn.invoke=function(){const yn=Jn[Yt.__symbol__("loadfalse")];for(let ns=0;ns<yn.length;ns++)yn[ns]===hn&&yn.splice(ns,1);!Nn.aborted&&hn.state===Le&&cn.call(hn)},cs.push(hn)}else hn.invoke()}else!Nn.aborted&&!1===Jn[Tt]&&(Jn[it]=!0)};return Qe.call(Jn,ke,ls),Jn[wt]||(Jn[wt]=hn),ct.apply(Jn,Nn.args),Jn[Tt]=!0,hn}function It(){}function an(hn){const Nn=hn.data;return Nn.aborted=!0,vt.apply(Nn.target,Nn.args)}const Dn=ee(je,"open",()=>function(hn,Nn){return hn[bt]=0==Nn[2],hn[Ft]=Nn[1],Dn.apply(hn,Nn)}),Zn=p("fetchTaskAborting"),wn=p("fetchTaskScheduling"),ct=ee(je,"send",()=>function(hn,Nn){if(!0===Yt.current[wn]||hn[bt])return ct.apply(hn,Nn);{const Jn={target:hn,url:hn[Ft],isPeriodic:!1,args:Nn,aborted:!1},Gs=A("XMLHttpRequest.send",It,Jn,dt,an);hn&&!0===hn[it]&&!Jn.aborted&&Gs.state===Le&&Gs.invoke()}}),vt=ee(je,"abort",()=>function(hn,Nn){const Jn=function At(hn){return hn[wt]}(hn);if(Jn&&"string"==typeof Jn.type){if(null==Jn.cancelFn||Jn.data&&Jn.data.aborted)return;Jn.zone.cancelTask(Jn)}else if(!0===Yt.current[Zn])return vt.apply(hn,Nn)})}(zt);const wt=p("xhrTask"),bt=p("xhrSync"),Jt=p("xhrListener"),Tt=p("xhrScheduled"),Ft=p("xhrURL"),it=p("xhrErrorBeforeScheduled")}),St.__load_patch("geolocation",zt=>{zt.navigator&&zt.navigator.geolocation&&function j(St,zt){const Yt=St.constructor.name;for(let wt=0;wt<zt.length;wt++){const bt=zt[wt],Jt=St[bt];if(Jt){if(!U(t(St,bt)))continue;St[bt]=(Ft=>{const it=function(){return Ft.apply(this,x(arguments,Yt+"."+bt))};return ne(it,Ft),it})(Jt)}}}(zt.navigator.geolocation,["getCurrentPosition","watchPosition"])}),St.__load_patch("PromiseRejectionEvent",(zt,Yt)=>{function wt(bt){return function(Jt){pt(zt,bt).forEach(Ft=>{const it=zt.PromiseRejectionEvent;if(it){const xe=new it(bt,{promise:Jt.promise,reason:Jt.rejection});Ft.invoke(xe)}})}}zt.PromiseRejectionEvent&&(Yt[p("unhandledPromiseRejectionHandler")]=wt("unhandledrejection"),Yt[p("rejectionHandledHandler")]=wt("rejectionhandled"))}),St.__load_patch("queueMicrotask",(zt,Yt,wt)=>{!function Ne(St,zt){zt.patchMethod(St,"queueMicrotask",Yt=>function(wt,bt){Zone.current.scheduleMicroTask("queueMicrotask",bt[0])})}(zt,wt)})}(gn)},48832:(F,b,n)=>{var i={"./custom/app/admin/admin-sidebar/admin-sidebar.component":[87323,7323]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=48832,F.exports=t},32012:(F,b,n)=>{var i={"./custom/app/breadcrumbs/breadcrumbs.component":[20335,335]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=32012,F.exports=t},43562:(F,b,n)=>{var i={"./custom/app/footer/footer.component":[951,951]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=43562,F.exports=t},30130:(F,b,n)=>{var i={"./custom/app/forbidden/forbidden.component":[50547,547]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=30130,F.exports=t},20991:(F,b,n)=>{var i={"./custom/app/header-nav-wrapper/header-navbar-wrapper.component":[66520,6520],"./dspace/app/header-nav-wrapper/header-navbar-wrapper.component":[47435]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=20991,F.exports=t},16722:(F,b,n)=>{var i={"./custom/app/header/header.component":[75559,5559],"./dspace/app/header/header.component":[3018]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=16722,F.exports=t},52636:(F,b,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer-image/media-viewer-image.component":[59655,9655]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=52636,F.exports=t},38815:(F,b,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer-video/media-viewer-video.component":[92531,2531]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=38815,F.exports=t},5452:(F,b,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer.component":[81917,1917]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=5452,F.exports=t},78373:(F,b,n)=>{var i={"./custom/app/item-page/simple/field-components/file-section/file-section.component":[38072,8072]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=78373,F.exports=t},17026:(F,b,n)=>{var i={"./custom/app/item-page/simple/field-components/specific-field/title/item-page-title-field.component":[1739,1739]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=17026,F.exports=t},89979:(F,b,n)=>{var i={"./custom/app/item-page/simple/metadata-representation-list/metadata-representation-list.component":[32890,2890]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=89979,F.exports=t},88289:(F,b,n)=>{var i={"./custom/app/navbar/expandable-navbar-section/expandable-navbar-section.component":[61754,1754]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=88289,F.exports=t},19318:(F,b,n)=>{var i={"./custom/app/navbar/navbar.component":[77069,7069],"./dspace/app/navbar/navbar.component":[89768]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=19318,F.exports=t},18400:F=>{function b(n){return Promise.resolve().then(()=>{var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i})}b.keys=()=>[],b.resolve=b,b.id=18400,F.exports=b},46544:F=>{function b(n){return Promise.resolve().then(()=>{var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i})}b.keys=()=>[],b.resolve=b,b.id=46544,F.exports=b},94826:(F,b,n)=>{var i={"./custom/app/pagenotfound/pagenotfound.component":[21797,1797]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=94826,F.exports=t},94634:(F,b,n)=>{var i={"./custom/app/root/root.component":[83469,3469]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=94634,F.exports=t},28754:(F,b,n)=>{var i={"./custom/app/search-navbar/search-navbar.component":[9323,9323]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=28754,F.exports=t},21133:(F,b,n)=>{var i={"./custom/app/search-page/configuration-search-page.component":[74892,4892]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=21133,F.exports=t},51808:(F,b,n)=>{var i={"./custom/app/shared/auth-nav-menu/auth-nav-menu.component":[5789,5789]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=51808,F.exports=t},13361:(F,b,n)=>{var i={"./custom/app/shared/auth-nav-menu/user-menu/user-menu.component":[95208,5208]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=13361,F.exports=t},60939:(F,b,n)=>{var i={"./custom/app/shared/browse-by/browse-by.component.ts":[84281,4281]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=60939,F.exports=t},80882:(F,b,n)=>{var i={"./custom/app/shared/collection-dropdown/collection-dropdown.component":[15733,5733]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=80882,F.exports=t},12706:(F,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-collection-parent-selector/create-collection-parent-selector.component":[73159,3159]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=12706,F.exports=t},27122:(F,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-community-parent-selector/create-community-parent-selector.component":[14899,4899]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=27122,F.exports=t},25074:(F,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-item-parent-selector/create-item-parent-selector.component":[2851,2851]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=25074,F.exports=t},61130:(F,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-collection-selector/edit-collection-selector.component":[90627,627]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=61130,F.exports=t},11452:(F,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-community-selector/edit-community-selector.component":[56303,6303]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=11452,F.exports=t},6122:(F,b,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-item-selector/edit-item-selector.component":[94189,4189]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=6122,F.exports=t},72834:(F,b,n)=>{var i={"./custom/app/shared/file-download-link/file-download-link.component":[93015,3015]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=72834,F.exports=t},90331:(F,b,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component":[5924,5924]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=90331,F.exports=t},14651:(F,b,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/external-source-entry-import-modal/external-source-entry-import-modal.component":[60360,360]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=14651,F.exports=t},37919:(F,b,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component":[37558,5177]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=37919,F.exports=t},97394:(F,b,n)=>{var i={"./custom/app/shared/lang-switch/lang-switch.component":[1237,1237]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=97394,F.exports=t},54512:(F,b,n)=>{var i={"./custom/app/shared/loading/loading.component":[86905,2076,9286]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=54512,F.exports=t},43800:(F,b,n)=>{var i={"./custom/app/shared/log-in/log-in.component":[74267,4267]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=43800,F.exports=t},50822:(F,b,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/access-status-badge/access-status-badge.component":[16953,6953]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=50822,F.exports=t},70295:(F,b,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/badges.component":[67830,7830]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=70295,F.exports=t},87596:(F,b,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/my-dspace-status-badge/my-dspace-status-badge.component":[67635,7635]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=87596,F.exports=t},52504:(F,b,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/status-badge/status-badge.component":[93463,3463]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=52504,F.exports=t},45796:(F,b,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/type-badge/type-badge.component":[14491,4491]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=45796,F.exports=t},4026:(F,b,n)=>{var i={"./custom/app/shared/object-detail/my-dspace-result-detail-element/item-detail-preview/item-detail-preview-field/item-detail-preview-field.component":[69585,9585]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=4026,F.exports=t},71931:(F,b,n)=>{var i={"./custom/app/shared/object-list/my-dspace-result-list-element/item-list-preview/item-list-preview.component":[6455,8836]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=71931,F.exports=t},8894:(F,b,n)=>{var i={"./custom/app/shared/object-list/object-list.component":[16625,6625]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=8894,F.exports=t},79086:(F,b,n)=>{var i={"./custom/app/shared/results-back-button/results-back-button.component":[54545,2076,4545]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=79086,F.exports=t},76142:(F,b,n)=>{var i={"./custom/app/shared/search-form/search-form.component":[62645,2645]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=76142,F.exports=t},64565:(F,b,n)=>{var i={"./custom/app/shared/search/search-filters/search-filters.component":[4072,4072]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=64565,F.exports=t},18527:(F,b,n)=>{var i={"./custom/app/shared/search/search-results/search-results.component":[27826,7826]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=18527,F.exports=t},60911:(F,b,n)=>{var i={"./custom/app/shared/search/search-settings/search-settings.component":[13622,3622]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=60911,F.exports=t},98587:(F,b,n)=>{var i={"./custom/app/shared/search/search-sidebar/search-sidebar.component":[26318,6318]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=98587,F.exports=t},13390:(F,b,n)=>{var i={"./custom/app/shared/search/search.component":[40488,8107]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=13390,F.exports=t},572:(F,b,n)=>{var i={"./custom/app/thumbnail/thumbnail.component":[71859,1859]};function t(u){if(!n.o(i,u))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[u],h=e[0];return n.e(e[1]).then(()=>n(h))}t.keys=()=>Object.keys(i),t.id=572,F.exports=t},18820:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(i,t,u,e,h,m,f){var v=new Date(0);return v.setUTCFullYear(i,t,u),v.setUTCHours(e,h,m,f),v},F.exports=b.default},59573:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(e,h,m){var f=function u(e,h,m){if(m&&!m.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(m?[m.code,"en-US"]:void 0,{timeZone:h,timeZoneName:e})}(e,m.timeZone,m.locale);return f.formatToParts?function i(e,h){for(var m=e.formatToParts(h),f=m.length-1;f>=0;--f)if("timeZoneName"===m[f].type)return m[f].value}(f,h):function t(e,h){var m=e.format(h).replace(/\u200E/g,""),f=/ [\w-+ ]+$/.exec(m);return f?f[0].substr(1):""}(f,h)},F.exports=b.default},34898:(F,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(T,A,p){var L,D,w;if(!T||(L=m.timezoneZ.exec(T)))return 0;if(L=m.timezoneHH.exec(T))return C(w=parseInt(L[1],10))?-w*e:NaN;if(L=m.timezoneHHMM.exec(T)){w=parseInt(L[1],10);var M=parseInt(L[2],10);return C(w,M)?(D=Math.abs(w)*e+M*h,w>0?-D:D):NaN}if(function R(T){if(S[T])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:T}),S[T]=!0,!0}catch{return!1}}(T)){A=new Date(A||Date.now());var x=p?A:function v(T){return(0,t.default)(T.getFullYear(),T.getMonth(),T.getDate(),T.getHours(),T.getMinutes(),T.getSeconds(),T.getMilliseconds())}(A),j=E(x,T),U=p?j:function _(T,A,p){var D=T.getTime()-A,w=E(new Date(D),p);if(A===w)return A;D-=w-A;var M=E(new Date(D),p);return w===M?w:Math.max(w,M)}(A,j,T);return-U}return NaN};var i=u(n(21771)),t=u(n(18820));function u(T){return T&&T.__esModule?T:{default:T}}var e=36e5,h=6e4,m={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function E(T,A){var p=(0,i.default)(T,A),L=(0,t.default)(p[0],p[1]-1,p[2],p[3]%24,p[4],p[5],0).getTime(),D=T.getTime(),w=D%1e3;return L-(D-(w>=0?w:1e3+w))}function C(T,A){return-23<=T&&T<=23&&(null==A||0<=A&&A<=59)}var S={};F.exports=b.default},85812:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,b.default=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,F.exports=b.default},21771:(F,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function n(m,f){var v=function h(m){if(!e[m]){var f=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));e[m]="06/25/2014, 00:00:00"===f||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===f?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:m,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:m,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return e[m]}(f);return v.formatToParts?function t(m,f){try{for(var v=m.formatToParts(f),E=[],_=0;_<v.length;_++){var C=i[v[_].type];C>=0&&(E[C]=parseInt(v[_].value,10))}return E}catch(S){if(S instanceof RangeError)return[NaN];throw S}}(v,m):function u(m,f){var v=m.format(f).replace(/\u200E/g,""),E=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(v);return[E[3],E[1],E[2],E[4],E[5],E[6]]}(v,m)};var i={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};F.exports=b.default},91490:(F,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var i=u(n(59573)),t=u(n(34898));function u(S){return S&&S.__esModule?S:{default:S}}function m(S,R){var T=S?(0,t.default)(S,R,!0)/6e4:R.getTimezoneOffset();if(Number.isNaN(T))throw new RangeError("Invalid time zone specified: "+S);return T}function f(S,R){for(var T=S<0?"-":"",A=Math.abs(S).toString();A.length<R;)A="0"+A;return T+A}function v(S,R){var T=R||"",A=S>0?"-":"+",p=Math.abs(S);return A+f(Math.floor(p/60),2)+T+f(Math.floor(p%60),2)}function E(S,R){return S%60==0?(S>0?"-":"+")+f(Math.abs(S)/60,2):v(S,R)}b.default={X:function(S,R,T,A){var p=m(A.timeZone,A._originalDate||S);if(0===p)return"Z";switch(R){case"X":return E(p);case"XXXX":case"XX":return v(p);default:return v(p,":")}},x:function(S,R,T,A){var p=m(A.timeZone,A._originalDate||S);switch(R){case"x":return E(p);case"xxxx":case"xx":return v(p);default:return v(p,":")}},O:function(S,R,T,A){var p=m(A.timeZone,A._originalDate||S);switch(R){case"O":case"OO":case"OOO":return"GMT"+function _(S,R){var T=S>0?"-":"+",A=Math.abs(S),p=Math.floor(A/60),L=A%60;if(0===L)return T+String(p);var D=R||"";return T+String(p)+D+f(L,2)}(p,":");default:return"GMT"+v(p,":")}},z:function(S,R,T,A){var p=A._originalDate||S;switch(R){case"z":case"zz":case"zzz":return(0,i.default)("short",p,A);default:return(0,i.default)("long",p,A)}}},F.exports=b.default},38308:(F,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function m(f,v,E){var _=String(v),C=E||{},S=_.match(h);if(S){var R=(0,u.default)(f,C);_=S.reduce(function(T,A){if("'"===A[0])return T;var p=T.indexOf(A),L="'"===T[p-1],D=T.replace(A,"'"+t.default[A[0]](R,A,null,C)+"'");return L?D.substring(0,p-1)+D.substring(p+1):D},_)}return(0,i.default)(f,_,C)};var i=e(n(24150)),t=e(n(91490)),u=e(n(64358));function e(f){return f&&f.__esModule?f:{default:f}}var h=/([xXOz]+)|''|'(''|[^'])+('|$)/g;F.exports=b.default},62628:(F,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function h(m,f,v,E){var _=(0,i.default)(E);return _.timeZone=f,(0,t.default)((0,u.default)(m,f),v,_)};var i=e(n(88200)),t=e(n(38308)),u=e(n(2589));function e(m){return m&&m.__esModule?m:{default:m}}F.exports=b.default},48493:(F,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function u(e,h){return-(0,i.default)(e,h)};var i=function t(e){return e&&e.__esModule?e:{default:e}}(n(34898));F.exports=b.default},56106:(F,b,n)=>{"use strict";F.exports={format:n(38308),formatInTimeZone:n(62628),getTimezoneOffset:n(48493),toDate:n(64358),utcToZonedTime:n(2589),zonedTimeToUtc:n(56743)}},64358:(F,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function _(U,$){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===U)return new Date(NaN);var k=$||{},K=null==k.additionalDigits?v:(0,i.default)(k.additionalDigits);if(2!==K&&1!==K&&0!==K)throw new RangeError("additionalDigits must be 0, 1 or 2");if(U instanceof Date||"object"==typeof U&&"[object Date]"===Object.prototype.toString.call(U))return new Date(U.getTime());if("number"==typeof U||"[object Number]"===Object.prototype.toString.call(U))return new Date(U);if("string"!=typeof U&&"[object String]"!==Object.prototype.toString.call(U))return new Date(NaN);var X=function C(U){var K,$={},k=E.dateTimePattern.exec(U);if(k?($.date=k[1],K=k[3]):(k=E.datePattern.exec(U))?($.date=k[1],K=k[2]):($.date=null,K=U),K){var X=E.timeZone.exec(K);X?($.time=K.replace(X[1],""),$.timeZone=X[1].trim()):$.time=K}return $}(U),G=function S(U,$){var X,k=E.YYY[$],K=E.YYYYY[$];if(X=E.YYYY.exec(U)||K.exec(U)){var G=X[1];return{year:parseInt(G,10),restDateString:U.slice(G.length)}}if(X=E.YY.exec(U)||k.exec(U)){var q=X[1];return{year:100*parseInt(q,10),restDateString:U.slice(q.length)}}return{year:null}}(X.date,K),te=function R(U,$){if(null===$)return null;var k,K,X,G;if(0===U.length)return(K=new Date(0)).setUTCFullYear($),K;if(k=E.MM.exec(U))return K=new Date(0),w($,X=parseInt(k[1],10)-1)?(K.setUTCFullYear($,X),K):new Date(NaN);if(k=E.DDD.exec(U)){K=new Date(0);var q=parseInt(k[1],10);return function M(U,$){if($<1)return!1;var k=D(U);return!(k&&$>366||!k&&$>365)}($,q)?(K.setUTCFullYear($,0,q),K):new Date(NaN)}if(k=E.MMDD.exec(U)){K=new Date(0),X=parseInt(k[1],10)-1;var z=parseInt(k[2],10);return w($,X,z)?(K.setUTCFullYear($,X,z),K):new Date(NaN)}if(k=E.Www.exec(U))return x(0,G=parseInt(k[1],10)-1)?A($,G):new Date(NaN);if(k=E.WwwD.exec(U)){G=parseInt(k[1],10)-1;var te=parseInt(k[2],10)-1;return x(0,G,te)?A($,G,te):new Date(NaN)}return null}(G.restDateString,G.year);if(isNaN(te))return new Date(NaN);if(te){var Q,Z=te.getTime(),J=0;if(X.time&&(J=function T(U){var $,k,K;if($=E.HH.exec(U))return j(k=parseFloat($[1].replace(",",".")))?k%24*m:NaN;if($=E.HHMM.exec(U))return j(k=parseInt($[1],10),K=parseFloat($[2].replace(",",".")))?k%24*m+K*f:NaN;if($=E.HHMMSS.exec(U)){k=parseInt($[1],10),K=parseInt($[2],10);var X=parseFloat($[3].replace(",","."));return j(k,K,X)?k%24*m+K*f+1e3*X:NaN}return null}(X.time),isNaN(J)))return new Date(NaN);if(X.timeZone||k.timeZone){if(Q=(0,u.default)(X.timeZone||k.timeZone,new Date(Z+J)),isNaN(Q))return new Date(NaN)}else Q=(0,t.default)(new Date(Z+J)),Q=(0,t.default)(new Date(Z+J+Q));return new Date(Z+J+Q)}return new Date(NaN)};var i=h(n(25167)),t=h(n(20059)),u=h(n(34898)),e=h(n(85812));function h(U){return U&&U.__esModule?U:{default:U}}var m=36e5,f=6e4,v=2,E={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:e.default};function A(U,$,k){$=$||0,k=k||0;var K=new Date(0);K.setUTCFullYear(U,0,4);var G=7*$+k+1-(K.getUTCDay()||7);return K.setUTCDate(K.getUTCDate()+G),K}var p=[31,28,31,30,31,30,31,31,30,31,30,31],L=[31,29,31,30,31,30,31,31,30,31,30,31];function D(U){return U%400==0||U%4==0&&U%100!=0}function w(U,$,k){if($<0||$>11)return!1;if(null!=k){if(k<1)return!1;var K=D(U);if(K&&k>L[$]||!K&&k>p[$])return!1}return!0}function x(U,$,k){return!($<0||$>52||null!=k&&(k<0||k>6))}function j(U,$,k){return!(null!=U&&(U<0||U>=25)||null!=$&&($<0||$>=60)||null!=k&&(k<0||k>=60))}F.exports=b.default},2589:(F,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function e(h,m,f){var v=(0,t.default)(h,f),E=(0,i.default)(m,v,!0),_=new Date(v.getTime()-E),C=new Date(0);return C.setFullYear(_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate()),C.setHours(_.getUTCHours(),_.getUTCMinutes(),_.getUTCSeconds(),_.getUTCMilliseconds()),C};var i=u(n(34898)),t=u(n(64358));function u(h){return h&&h.__esModule?h:{default:h}}F.exports=b.default},56743:(F,b,n)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function f(v,E,_){if("string"==typeof v&&!v.match(u.default)){var C=(0,i.default)(_);return C.timeZone=E,(0,t.default)(v,C)}var S=(0,t.default)(v,_),R=(0,h.default)(S.getFullYear(),S.getMonth(),S.getDate(),S.getHours(),S.getMinutes(),S.getSeconds(),S.getMilliseconds()).getTime(),T=(0,e.default)(E,new Date(R));return new Date(R+T)};var i=m(n(88200)),t=m(n(64358)),u=m(n(85812)),e=m(n(34898)),h=m(n(18820));function m(v){return v&&v.__esModule?v:{default:v}}F.exports=b.default},52165:()=>{var F,b;b=F||(F={}),function(n){var i="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function m(){return function e(){try{return Function("return this;")()}catch{}}()||function h(){try{return(0,eval)("(function() { return this; })()")}catch{}}()}(),t=u(b);function u(f,v){return function(E,_){Object.defineProperty(f,E,{configurable:!0,writable:!0,value:_}),v&&v(E,_)}}typeof i.Reflect<"u"&&(t=u(i.Reflect,t)),function(n,i){var t=Object.prototype.hasOwnProperty,u="function"==typeof Symbol,e=u&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",h=u&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",m="function"==typeof Object.create,f={__proto__:[]}instanceof Array,v=!m&&!f,E={create:m?function(){return Pn(Object.create(null))}:f?function(){return Pn({__proto__:null})}:function(){return Pn({})},has:v?function(yt,Kt){return t.call(yt,Kt)}:function(yt,Kt){return Kt in yt},get:v?function(yt,Kt){return t.call(yt,Kt)?yt[Kt]:void 0}:function(yt,Kt){return yt[Kt]}},_=Object.getPrototypeOf(Function),C="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function ut(){var yt={},Kt=[],Rt=function(){function Yt(wt,bt,Jt){this._index=0,this._keys=wt,this._values=bt,this._selector=Jt}return Yt.prototype["@@iterator"]=function(){return this},Yt.prototype[h]=function(){return this},Yt.prototype.next=function(){var wt=this._index;if(wt>=0&&wt<this._keys.length){var bt=this._selector(this._keys[wt],this._values[wt]);return wt+1>=this._keys.length?(this._index=-1,this._keys=Kt,this._values=Kt):this._index++,{value:bt,done:!1}}return{value:void 0,done:!0}},Yt.prototype.throw=function(wt){throw this._index>=0&&(this._index=-1,this._keys=Kt,this._values=Kt),wt},Yt.prototype.return=function(wt){return this._index>=0&&(this._index=-1,this._keys=Kt,this._values=Kt),{value:wt,done:!0}},Yt}();return function(){function Yt(){this._keys=[],this._values=[],this._cacheKey=yt,this._cacheIndex=-2}return Object.defineProperty(Yt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Yt.prototype.has=function(wt){return this._find(wt,!1)>=0},Yt.prototype.get=function(wt){var bt=this._find(wt,!1);return bt>=0?this._values[bt]:void 0},Yt.prototype.set=function(wt,bt){var Jt=this._find(wt,!0);return this._values[Jt]=bt,this},Yt.prototype.delete=function(wt){var bt=this._find(wt,!1);if(bt>=0){for(var Jt=this._keys.length,Tt=bt+1;Tt<Jt;Tt++)this._keys[Tt-1]=this._keys[Tt],this._values[Tt-1]=this._values[Tt];return this._keys.length--,this._values.length--,Et(wt,this._cacheKey)&&(this._cacheKey=yt,this._cacheIndex=-2),!0}return!1},Yt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=yt,this._cacheIndex=-2},Yt.prototype.keys=function(){return new Rt(this._keys,this._values,gn)},Yt.prototype.values=function(){return new Rt(this._keys,this._values,St)},Yt.prototype.entries=function(){return new Rt(this._keys,this._values,zt)},Yt.prototype["@@iterator"]=function(){return this.entries()},Yt.prototype[h]=function(){return this.entries()},Yt.prototype._find=function(wt,bt){if(!Et(this._cacheKey,wt)){this._cacheIndex=-1;for(var Jt=0;Jt<this._keys.length;Jt++)if(Et(this._keys[Jt],wt)){this._cacheIndex=Jt;break}}return this._cacheIndex<0&&bt&&(this._cacheIndex=this._keys.length,this._keys.push(wt),this._values.push(void 0)),this._cacheIndex},Yt}();function gn(Yt,wt){return Yt}function St(Yt,wt){return wt}function zt(Yt,wt){return[Yt,wt]}}(),S="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function un(){return function(){function Kt(){this._map=new C}return Object.defineProperty(Kt.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Kt.prototype.has=function(Rt){return this._map.has(Rt)},Kt.prototype.add=function(Rt){return this._map.set(Rt,Rt),this},Kt.prototype.delete=function(Rt){return this._map.delete(Rt)},Kt.prototype.clear=function(){this._map.clear()},Kt.prototype.keys=function(){return this._map.keys()},Kt.prototype.values=function(){return this._map.keys()},Kt.prototype.entries=function(){return this._map.entries()},Kt.prototype["@@iterator"]=function(){return this.keys()},Kt.prototype[h]=function(){return this.keys()},Kt}()}(),R="function"==typeof WeakMap?WeakMap:function rn(){var yt=16,Kt=E.create(),Rt=nn();return function(){function wt(){this._key=nn()}return wt.prototype.has=function(bt){var Jt=gn(bt,!1);return void 0!==Jt&&E.has(Jt,this._key)},wt.prototype.get=function(bt){var Jt=gn(bt,!1);return void 0!==Jt?E.get(Jt,this._key):void 0},wt.prototype.set=function(bt,Jt){return gn(bt,!0)[this._key]=Jt,this},wt.prototype.delete=function(bt){var Jt=gn(bt,!1);return void 0!==Jt&&delete Jt[this._key]},wt.prototype.clear=function(){this._key=nn()},wt}();function nn(){var wt;do{wt="@@WeakMap@@"+Yt()}while(E.has(Kt,wt));return Kt[wt]=!0,wt}function gn(wt,bt){if(!t.call(wt,Rt)){if(!bt)return;Object.defineProperty(wt,Rt,{value:E.create()})}return wt[Rt]}function St(wt,bt){for(var Jt=0;Jt<bt;++Jt)wt[Jt]=255*Math.random()|0;return wt}function Yt(){var wt=function zt(wt){if("function"==typeof Uint8Array){var bt=new Uint8Array(wt);return typeof crypto<"u"?crypto.getRandomValues(bt):typeof msCrypto<"u"?msCrypto.getRandomValues(bt):St(bt,wt),bt}return St(new Array(wt),wt)}(yt);wt[6]=79&wt[6]|64,wt[8]=191&wt[8]|128;for(var bt="",Jt=0;Jt<yt;++Jt){var Tt=wt[Jt];(4===Jt||6===Jt||8===Jt)&&(bt+="-"),Tt<16&&(bt+="0"),bt+=Tt.toString(16).toLowerCase()}return bt}}(),T=u?Symbol.for("@reflect-metadata:registry"):void 0,A=function mt(){var yt;return!ne(T)&&ce(i.Reflect)&&Object.isExtensible(i.Reflect)&&(yt=i.Reflect[T]),ne(yt)&&(yt=function Zt(){var yt;!ne(T)&&typeof i.Reflect<"u"&&!(T in i.Reflect)&&"function"==typeof i.Reflect.defineMetadata&&(yt=function Ce(yt){var Kt=yt.defineMetadata,Rt=yt.hasOwnMetadata,nn=yt.getOwnMetadata,gn=yt.getOwnMetadataKeys,St=yt.deleteMetadata,zt=new R;return{isProviderFor:function(wt,bt){var Jt=zt.get(wt);return!(ne(Jt)||!Jt.has(bt))||!!gn(wt,bt).length&&(ne(Jt)&&(Jt=new S,zt.set(wt,Jt)),Jt.add(bt),!0)},OrdinaryDefineOwnMetadata:Kt,OrdinaryHasOwnMetadata:Rt,OrdinaryGetOwnMetadata:nn,OrdinaryOwnMetadataKeys:gn,OrdinaryDeleteMetadata:St}}(i.Reflect));var Kt,Rt,nn,gn=new R,St={registerProvider:zt,getProvider:wt,setProvider:Jt};return St;function zt(Tt){if(!Object.isExtensible(St))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case yt===Tt:break;case ne(Kt):Kt=Tt;break;case Kt===Tt:break;case ne(Rt):Rt=Tt;break;case Rt===Tt:break;default:void 0===nn&&(nn=new S),nn.add(Tt)}}function Yt(Tt,Ft){if(!ne(Kt)){if(Kt.isProviderFor(Tt,Ft))return Kt;if(!ne(Rt)){if(Rt.isProviderFor(Tt,Ft))return Kt;if(!ne(nn))for(var it=pt(nn);;){var xe=Ne(it);if(!xe)return;var Ve=Mt(xe);if(Ve.isProviderFor(Tt,Ft))return ot(it),Ve}}}if(!ne(yt)&&yt.isProviderFor(Tt,Ft))return yt}function wt(Tt,Ft){var xe,it=gn.get(Tt);return ne(it)||(xe=it.get(Ft)),ne(xe)&&(ne(xe=Yt(Tt,Ft))||(ne(it)&&(it=new C,gn.set(Tt,it)),it.set(Ft,xe))),xe}function bt(Tt){if(ne(Tt))throw new TypeError;return Kt===Tt||Rt===Tt||!ne(nn)&&nn.has(Tt)}function Jt(Tt,Ft,it){if(!bt(it))throw new Error("Metadata provider not registered.");var xe=wt(Tt,Ft);if(xe!==it){if(!ne(xe))return!1;var Ve=gn.get(Tt);ne(Ve)&&(Ve=new C,gn.set(Tt,Ve)),Ve.set(Ft,it)}return!0}}()),!ne(T)&&ce(i.Reflect)&&Object.isExtensible(i.Reflect)&&Object.defineProperty(i.Reflect,T,{enumerable:!1,configurable:!1,writable:!1,value:yt}),yt}(),p=function Pt(yt){var Kt=new R,Rt={isProviderFor:function(bt,Jt){var Tt=Kt.get(bt);return!ne(Tt)&&Tt.has(Jt)},OrdinaryDefineOwnMetadata:function zt(bt,Jt,Tt,Ft){nn(Tt,Ft,!0).set(bt,Jt)},OrdinaryHasOwnMetadata:function gn(bt,Jt,Tt){var Ft=nn(Jt,Tt,!1);return!ne(Ft)&&me(Ft.has(bt))},OrdinaryGetOwnMetadata:function St(bt,Jt,Tt){var Ft=nn(Jt,Tt,!1);if(!ne(Ft))return Ft.get(bt)},OrdinaryOwnMetadataKeys:function Yt(bt,Jt){var Tt=[],Ft=nn(bt,Jt,!1);if(ne(Ft))return Tt;for(var xe=pt(Ft.keys()),Ve=0;;){var Ke=Ne(xe);if(!Ke)return Tt.length=Ve,Tt;var je=Mt(Ke);try{Tt[Ve]=je}catch(At){try{ot(xe)}finally{throw At}}Ve++}},OrdinaryDeleteMetadata:function wt(bt,Jt,Tt){var Ft=nn(Jt,Tt,!1);if(ne(Ft)||!Ft.delete(bt))return!1;if(0===Ft.size){var it=Kt.get(Jt);ne(it)||(it.delete(Tt),0===it.size&&Kt.delete(it))}return!0}};return A.registerProvider(Rt),Rt;function nn(bt,Jt,Tt){var Ft=Kt.get(bt),it=!1;if(ne(Ft)){if(!Tt)return;Ft=new C,Kt.set(bt,Ft),it=!0}var xe=Ft.get(Jt);if(ne(xe)){if(!Tt)return;if(xe=new C,Ft.set(Jt,xe),!yt.setProvider(bt,Jt,Rt))throw Ft.delete(Jt),it&&Kt.delete(bt),new Error("Wrong provider for target.")}return xe}}(A);function q(yt,Kt,Rt){if(z(yt,Kt,Rt))return!0;var gn=Gt(Kt);return!fe(gn)&&q(yt,gn,Rt)}function z(yt,Kt,Rt){var nn=Be(Kt,Rt,!1);return!ne(nn)&&me(nn.OrdinaryHasOwnMetadata(yt,Kt,Rt))}function te(yt,Kt,Rt){if(z(yt,Kt,Rt))return Z(yt,Kt,Rt);var gn=Gt(Kt);return fe(gn)?void 0:te(yt,gn,Rt)}function Z(yt,Kt,Rt){var nn=Be(Kt,Rt,!1);if(!ne(nn))return nn.OrdinaryGetOwnMetadata(yt,Kt,Rt)}function J(yt,Kt,Rt,nn){Be(Rt,nn,!0).OrdinaryDefineOwnMetadata(yt,Kt,Rt,nn)}function Q(yt,Kt){var Rt=ee(yt,Kt),nn=Gt(yt);if(null===nn)return Rt;var gn=Q(nn,Kt);if(gn.length<=0)return Rt;if(Rt.length<=0)return gn;for(var St=new S,zt=[],Yt=0,wt=Rt;Yt<wt.length;Yt++)St.has(bt=wt[Yt])||(St.add(bt),zt.push(bt));for(var Tt=0,Ft=gn;Tt<Ft.length;Tt++){var bt;St.has(bt=Ft[Tt])||(St.add(bt),zt.push(bt))}return zt}function ee(yt,Kt){var Rt=Be(yt,Kt,!1);return Rt?Rt.OrdinaryOwnMetadataKeys(yt,Kt):[]}function le(yt){if(null===yt)return 1;switch(typeof yt){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===yt?1:6;default:return 6}}function ne(yt){return void 0===yt}function fe(yt){return null===yt}function ce(yt){return"object"==typeof yt?null!==yt:"function"==typeof yt}function Te(yt,Kt){switch(le(yt)){case 0:case 1:case 2:case 3:case 4:case 5:return yt}var Rt=3===Kt?"string":5===Kt?"number":"default",nn=Ye(yt,e);if(void 0!==nn){var gn=nn.call(yt,Rt);if(ce(gn))throw new TypeError;return gn}return function be(yt,Kt){if("string"===Kt){var Rt=yt.toString;if(tt(Rt)&&!ce(nn=Rt.call(yt)))return nn;if(tt(gn=yt.valueOf)&&!ce(nn=gn.call(yt)))return nn}else{var gn;if(tt(gn=yt.valueOf)&&!ce(nn=gn.call(yt)))return nn;var nn,St=yt.toString;if(tt(St)&&!ce(nn=St.call(yt)))return nn}throw new TypeError}(yt,"default"===Rt?"number":Rt)}function me(yt){return!!yt}function Ee(yt){var Kt=Te(yt,3);return function se(yt){return"symbol"==typeof yt}(Kt)?Kt:function re(yt){return""+yt}(Kt)}function De(yt){return Array.isArray?Array.isArray(yt):yt instanceof Object?yt instanceof Array:"[object Array]"===Object.prototype.toString.call(yt)}function tt(yt){return"function"==typeof yt}function ht(yt){return"function"==typeof yt}function Et(yt,Kt){return yt===Kt||yt!=yt&&Kt!=Kt}function Ye(yt,Kt){var Rt=yt[Kt];if(null!=Rt){if(!tt(Rt))throw new TypeError;return Rt}}function pt(yt){var Kt=Ye(yt,h);if(!tt(Kt))throw new TypeError;var Rt=Kt.call(yt);if(!ce(Rt))throw new TypeError;return Rt}function Mt(yt){return yt.value}function Ne(yt){var Kt=yt.next();return!Kt.done&&Kt}function ot(yt){var Kt=yt.return;Kt&&Kt.call(yt)}function Gt(yt){var Kt=Object.getPrototypeOf(yt);if("function"!=typeof yt||yt===_||Kt!==_)return Kt;var Rt=yt.prototype,nn=Rt&&Object.getPrototypeOf(Rt);if(null==nn||nn===Object.prototype)return Kt;var gn=nn.constructor;return"function"!=typeof gn||gn===yt?Kt:gn}function Be(yt,Kt,Rt){var nn=A.getProvider(yt,Kt);if(!ne(nn))return nn;if(Rt){if(A.setProvider(yt,Kt,p))return p;throw new Error("Illegal state.")}}function Pn(yt){return yt.__=void 0,delete yt.__,yt}n("decorate",function L(yt,Kt,Rt,nn){if(ne(Rt)){if(!De(yt))throw new TypeError;if(!ht(Kt))throw new TypeError;return function X(yt,Kt){for(var Rt=yt.length-1;Rt>=0;--Rt){var gn=(0,yt[Rt])(Kt);if(!ne(gn)&&!fe(gn)){if(!ht(gn))throw new TypeError;Kt=gn}}return Kt}(yt,Kt)}if(!De(yt))throw new TypeError;if(!ce(Kt))throw new TypeError;if(!ce(nn)&&!ne(nn)&&!fe(nn))throw new TypeError;return fe(nn)&&(nn=void 0),function G(yt,Kt,Rt,nn){for(var gn=yt.length-1;gn>=0;--gn){var zt=(0,yt[gn])(Kt,Rt,nn);if(!ne(zt)&&!fe(zt)){if(!ce(zt))throw new TypeError;nn=zt}}return nn}(yt,Kt,Rt=Ee(Rt),nn)}),n("metadata",function D(yt,Kt){return function Rt(nn,gn){if(!ce(nn))throw new TypeError;if(!ne(gn)&&!function Fe(yt){switch(le(yt)){case 3:case 4:return!0;default:return!1}}(gn))throw new TypeError;J(yt,Kt,nn,gn)}}),n("defineMetadata",function w(yt,Kt,Rt,nn){if(!ce(Rt))throw new TypeError;return ne(nn)||(nn=Ee(nn)),J(yt,Kt,Rt,nn)}),n("hasMetadata",function M(yt,Kt,Rt){if(!ce(Kt))throw new TypeError;return ne(Rt)||(Rt=Ee(Rt)),q(yt,Kt,Rt)}),n("hasOwnMetadata",function x(yt,Kt,Rt){if(!ce(Kt))throw new TypeError;return ne(Rt)||(Rt=Ee(Rt)),z(yt,Kt,Rt)}),n("getMetadata",function j(yt,Kt,Rt){if(!ce(Kt))throw new TypeError;return ne(Rt)||(Rt=Ee(Rt)),te(yt,Kt,Rt)}),n("getOwnMetadata",function U(yt,Kt,Rt){if(!ce(Kt))throw new TypeError;return ne(Rt)||(Rt=Ee(Rt)),Z(yt,Kt,Rt)}),n("getMetadataKeys",function $(yt,Kt){if(!ce(yt))throw new TypeError;return ne(Kt)||(Kt=Ee(Kt)),Q(yt,Kt)}),n("getOwnMetadataKeys",function k(yt,Kt){if(!ce(yt))throw new TypeError;return ne(Kt)||(Kt=Ee(Kt)),ee(yt,Kt)}),n("deleteMetadata",function K(yt,Kt,Rt){if(!ce(Kt))throw new TypeError;if(ne(Rt)||(Rt=Ee(Rt)),!ce(Kt))throw new TypeError;ne(Rt)||(Rt=Ee(Rt));var nn=Be(Kt,Rt,!1);return!ne(nn)&&nn.OrdinaryDeleteMetadata(yt,Kt,Rt)})}(t,i),typeof i.Reflect>"u"&&(i.Reflect=b)}()},24994:F=>{F.exports=function b(n){return n&&n.__esModule?n:{default:n}},F.exports.__esModule=!0,F.exports.default=F.exports},73738:F=>{function b(n){return F.exports=b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},F.exports.__esModule=!0,F.exports.default=F.exports,b(n)}F.exports=b,F.exports.__esModule=!0,F.exports.default=F.exports},82374:(F,b,n)=>{"use strict";n(26099),n(39796),n(60825),n(87411),n(21211),n(40888),n(9065),n(86565),n(32812),n(84634),n(71137),n(30985),n(34268),n(34873),n(15472);var i=n(19167);F.exports=i.Reflect},79306:(F,b,n)=>{"use strict";var i=n(94901),t=n(16823),u=TypeError;F.exports=function(e){if(i(e))return e;throw new u(t(e)+" is not a function")}},35548:(F,b,n)=>{"use strict";var i=n(33517),t=n(16823),u=TypeError;F.exports=function(e){if(i(e))return e;throw new u(t(e)+" is not a constructor")}},73506:(F,b,n)=>{"use strict";var i=n(13925),t=String,u=TypeError;F.exports=function(e){if(i(e))return e;throw new u("Can't set "+t(e)+" as a prototype")}},28551:(F,b,n)=>{"use strict";var i=n(20034),t=String,u=TypeError;F.exports=function(e){if(i(e))return e;throw new u(t(e)+" is not an object")}},15652:(F,b,n)=>{"use strict";var i=n(79039);F.exports=i(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})},19617:(F,b,n)=>{"use strict";var i=n(25397),t=n(35610),u=n(26198),e=function(h){return function(m,f,v){var E=i(m),_=u(E);if(0===_)return!h&&-1;var S,C=t(v,_);if(h&&f!=f){for(;_>C;)if((S=E[C++])!=S)return!0}else for(;_>C;C++)if((h||C in E)&&E[C]===f)return h||C||0;return!h&&-1}};F.exports={includes:e(!0),indexOf:e(!1)}},67680:(F,b,n)=>{"use strict";var i=n(79504);F.exports=i([].slice)},22195:(F,b,n)=>{"use strict";var i=n(79504),t=i({}.toString),u=i("".slice);F.exports=function(e){return u(t(e),8,-1)}},36955:(F,b,n)=>{"use strict";var i=n(92140),t=n(94901),u=n(22195),h=n(78227)("toStringTag"),m=Object,f="Arguments"===u(function(){return arguments}());F.exports=i?u:function(E){var _,C,S;return void 0===E?"Undefined":null===E?"Null":"string"==typeof(C=function(E,_){try{return E[_]}catch{}}(_=m(E),h))?C:f?u(_):"Object"===(S=u(_))&&t(_.callee)?"Arguments":S}},77740:(F,b,n)=>{"use strict";var i=n(39297),t=n(35031),u=n(77347),e=n(24913);F.exports=function(h,m,f){for(var v=t(m),E=e.f,_=u.f,C=0;C<v.length;C++){var S=v[C];!i(h,S)&&(!f||!i(f,S))&&E(h,S,_(m,S))}}},12211:(F,b,n)=>{"use strict";var i=n(79039);F.exports=!i(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},66699:(F,b,n)=>{"use strict";var i=n(43724),t=n(24913),u=n(6980);F.exports=i?function(e,h,m){return t.f(e,h,u(1,m))}:function(e,h,m){return e[h]=m,e}},6980:F=>{"use strict";F.exports=function(b,n){return{enumerable:!(1&b),configurable:!(2&b),writable:!(4&b),value:n}}},36840:(F,b,n)=>{"use strict";var i=n(94901),t=n(24913),u=n(50283),e=n(39433);F.exports=function(h,m,f,v){v||(v={});var E=v.enumerable,_=void 0!==v.name?v.name:m;if(i(f)&&u(f,_,v),v.global)E?h[m]=f:e(m,f);else{try{v.unsafe?h[m]&&(E=!0):delete h[m]}catch{}E?h[m]=f:t.f(h,m,{value:f,enumerable:!1,configurable:!v.nonConfigurable,writable:!v.nonWritable})}return h}},39433:(F,b,n)=>{"use strict";var i=n(44576),t=Object.defineProperty;F.exports=function(u,e){try{t(i,u,{value:e,configurable:!0,writable:!0})}catch{i[u]=e}return e}},43724:(F,b,n)=>{"use strict";var i=n(79039);F.exports=!i(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},4055:(F,b,n)=>{"use strict";var i=n(44576),t=n(20034),u=i.document,e=t(u)&&t(u.createElement);F.exports=function(h){return e?u.createElement(h):{}}},88727:F=>{"use strict";F.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},82839:(F,b,n)=>{"use strict";var t=n(44576).navigator,u=t&&t.userAgent;F.exports=u?String(u):""},39519:(F,b,n)=>{"use strict";var f,v,i=n(44576),t=n(82839),u=i.process,e=i.Deno,h=u&&u.versions||e&&e.version,m=h&&h.v8;m&&(v=(f=m.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!v&&t&&(!(f=t.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=t.match(/Chrome\/(\d+)/))&&(v=+f[1]),F.exports=v},46518:(F,b,n)=>{"use strict";var i=n(44576),t=n(77347).f,u=n(66699),e=n(36840),h=n(39433),m=n(77740),f=n(92796);F.exports=function(v,E){var T,A,p,L,D,_=v.target,C=v.global,S=v.stat;if(T=C?i:S?i[_]||h(_,{}):i[_]&&i[_].prototype)for(A in E){if(L=E[A],p=v.dontCallGetSet?(D=t(T,A))&&D.value:T[A],!f(C?A:_+(S?".":"#")+A,v.forced)&&void 0!==p){if(typeof L==typeof p)continue;m(L,p)}(v.sham||p&&p.sham)&&u(L,"sham",!0),e(T,A,L,v)}}},79039:F=>{"use strict";F.exports=function(b){try{return!!b()}catch{return!0}}},92744:(F,b,n)=>{"use strict";var i=n(79039);F.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},18745:(F,b,n)=>{"use strict";var i=n(40616),t=Function.prototype,u=t.apply,e=t.call;F.exports="object"==typeof Reflect&&Reflect.apply||(i?e.bind(u):function(){return e.apply(u,arguments)})},40616:(F,b,n)=>{"use strict";var i=n(79039);F.exports=!i(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})},30566:(F,b,n)=>{"use strict";var i=n(79504),t=n(79306),u=n(20034),e=n(39297),h=n(67680),m=n(40616),f=Function,v=i([].concat),E=i([].join),_={};F.exports=m?f.bind:function(R){var T=t(this),A=T.prototype,p=h(arguments,1),L=function(){var w=v(p,h(arguments));return this instanceof L?function(S,R,T){if(!e(_,R)){for(var A=[],p=0;p<R;p++)A[p]="a["+p+"]";_[R]=f("C,a","return new C("+E(A,",")+")")}return _[R](S,T)}(T,w.length,w):T.apply(R,w)};return u(A)&&(L.prototype=A),L}},69565:(F,b,n)=>{"use strict";var i=n(40616),t=Function.prototype.call;F.exports=i?t.bind(t):function(){return t.apply(t,arguments)}},10350:(F,b,n)=>{"use strict";var i=n(43724),t=n(39297),u=Function.prototype,e=i&&Object.getOwnPropertyDescriptor,h=t(u,"name"),m=h&&"something"===function(){}.name,f=h&&(!i||i&&e(u,"name").configurable);F.exports={EXISTS:h,PROPER:m,CONFIGURABLE:f}},46706:(F,b,n)=>{"use strict";var i=n(79504),t=n(79306);F.exports=function(u,e,h){try{return i(t(Object.getOwnPropertyDescriptor(u,e)[h]))}catch{}}},79504:(F,b,n)=>{"use strict";var i=n(40616),t=Function.prototype,u=t.call,e=i&&t.bind.bind(u,u);F.exports=i?e:function(h){return function(){return u.apply(h,arguments)}}},97751:(F,b,n)=>{"use strict";var i=n(44576),t=n(94901);F.exports=function(e,h){return arguments.length<2?function(e){return t(e)?e:void 0}(i[e]):i[e]&&i[e][h]}},55966:(F,b,n)=>{"use strict";var i=n(79306),t=n(64117);F.exports=function(u,e){var h=u[e];return t(h)?void 0:i(h)}},44576:function(F){"use strict";var b=function(n){return n&&n.Math===Math&&n};F.exports=b("object"==typeof globalThis&&globalThis)||b("object"==typeof window&&window)||b("object"==typeof self&&self)||b("object"==typeof global&&global)||b("object"==typeof this&&this)||function(){return this}()||Function("return this")()},39297:(F,b,n)=>{"use strict";var i=n(79504),t=n(48981),u=i({}.hasOwnProperty);F.exports=Object.hasOwn||function(h,m){return u(t(h),m)}},30421:F=>{"use strict";F.exports={}},20397:(F,b,n)=>{"use strict";var i=n(97751);F.exports=i("document","documentElement")},35917:(F,b,n)=>{"use strict";var i=n(43724),t=n(79039),u=n(4055);F.exports=!i&&!t(function(){return 7!==Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a})},47055:(F,b,n)=>{"use strict";var i=n(79504),t=n(79039),u=n(22195),e=Object,h=i("".split);F.exports=t(function(){return!e("z").propertyIsEnumerable(0)})?function(m){return"String"===u(m)?h(m,""):e(m)}:e},33706:(F,b,n)=>{"use strict";var i=n(79504),t=n(94901),u=n(77629),e=i(Function.toString);t(u.inspectSource)||(u.inspectSource=function(h){return e(h)}),F.exports=u.inspectSource},91181:(F,b,n)=>{"use strict";var S,R,T,i=n(58622),t=n(44576),u=n(20034),e=n(66699),h=n(39297),m=n(77629),f=n(66119),v=n(30421),E="Object already initialized",_=t.TypeError;if(i||m.state){var L=m.state||(m.state=new(0,t.WeakMap));L.get=L.get,L.has=L.has,L.set=L.set,S=function(w,M){if(L.has(w))throw new _(E);return M.facade=w,L.set(w,M),M},R=function(w){return L.get(w)||{}},T=function(w){return L.has(w)}}else{var D=f("state");v[D]=!0,S=function(w,M){if(h(w,D))throw new _(E);return M.facade=w,e(w,D,M),M},R=function(w){return h(w,D)?w[D]:{}},T=function(w){return h(w,D)}}F.exports={set:S,get:R,has:T,enforce:function(w){return T(w)?R(w):S(w,{})},getterFor:function(w){return function(M){var x;if(!u(M)||(x=R(M)).type!==w)throw new _("Incompatible receiver, "+w+" required");return x}}}},94901:F=>{"use strict";var b="object"==typeof document&&document.all;F.exports=typeof b>"u"&&void 0!==b?function(n){return"function"==typeof n||n===b}:function(n){return"function"==typeof n}},33517:(F,b,n)=>{"use strict";var i=n(79504),t=n(79039),u=n(94901),e=n(36955),h=n(97751),m=n(33706),f=function(){},v=h("Reflect","construct"),E=/^\s*(?:class|function)\b/,_=i(E.exec),C=!E.test(f),S=function(A){if(!u(A))return!1;try{return v(f,[],A),!0}catch{return!1}},R=function(A){if(!u(A))return!1;switch(e(A)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return C||!!_(E,m(A))}catch{return!0}};R.sham=!0,F.exports=!v||t(function(){var T;return S(S.call)||!S(Object)||!S(function(){T=!0})||T})?R:S},16575:(F,b,n)=>{"use strict";var i=n(39297);F.exports=function(t){return void 0!==t&&(i(t,"value")||i(t,"writable"))}},92796:(F,b,n)=>{"use strict";var i=n(79039),t=n(94901),u=/#|\.prototype\./,e=function(E,_){var C=m[h(E)];return C===v||C!==f&&(t(_)?i(_):!!_)},h=e.normalize=function(E){return String(E).replace(u,".").toLowerCase()},m=e.data={},f=e.NATIVE="N",v=e.POLYFILL="P";F.exports=e},64117:F=>{"use strict";F.exports=function(b){return null==b}},20034:(F,b,n)=>{"use strict";var i=n(94901);F.exports=function(t){return"object"==typeof t?null!==t:i(t)}},13925:(F,b,n)=>{"use strict";var i=n(20034);F.exports=function(t){return i(t)||null===t}},96395:F=>{"use strict";F.exports=!1},10757:(F,b,n)=>{"use strict";var i=n(97751),t=n(94901),u=n(1625),e=n(7040),h=Object;F.exports=e?function(m){return"symbol"==typeof m}:function(m){var f=i("Symbol");return t(f)&&u(f.prototype,h(m))}},26198:(F,b,n)=>{"use strict";var i=n(18014);F.exports=function(t){return i(t.length)}},50283:(F,b,n)=>{"use strict";var i=n(79504),t=n(79039),u=n(94901),e=n(39297),h=n(43724),m=n(10350).CONFIGURABLE,f=n(33706),v=n(91181),E=v.enforce,_=v.get,C=String,S=Object.defineProperty,R=i("".slice),T=i("".replace),A=i([].join),p=h&&!t(function(){return 8!==S(function(){},"length",{value:8}).length}),L=String(String).split("String"),D=F.exports=function(w,M,x){"Symbol("===R(C(M),0,7)&&(M="["+T(C(M),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),x&&x.getter&&(M="get "+M),x&&x.setter&&(M="set "+M),(!e(w,"name")||m&&w.name!==M)&&(h?S(w,"name",{value:M,configurable:!0}):w.name=M),p&&x&&e(x,"arity")&&w.length!==x.arity&&S(w,"length",{value:x.arity});try{x&&e(x,"constructor")&&x.constructor?h&&S(w,"prototype",{writable:!1}):w.prototype&&(w.prototype=void 0)}catch{}var j=E(w);return e(j,"source")||(j.source=A(L,"string"==typeof M?M:"")),w};Function.prototype.toString=D(function(){return u(this)&&_(this).source||f(this)},"toString")},80741:F=>{"use strict";var b=Math.ceil,n=Math.floor;F.exports=Math.trunc||function(t){var u=+t;return(u>0?n:b)(u)}},2360:(F,b,n)=>{"use strict";var L,i=n(28551),t=n(96801),u=n(88727),e=n(30421),h=n(20397),m=n(4055),f=n(66119),_="prototype",C="script",S=f("IE_PROTO"),R=function(){},T=function(w){return"<"+C+">"+w+"</"+C+">"},A=function(w){w.write(T("")),w.close();var M=w.parentWindow.Object;return w=null,M},D=function(){try{L=new ActiveXObject("htmlfile")}catch{}D=typeof document<"u"?document.domain&&L?A(L):function(){var x,w=m("iframe"),M="java"+C+":";return w.style.display="none",h.appendChild(w),w.src=String(M),(x=w.contentWindow.document).open(),x.write(T("document.F=Object")),x.close(),x.F}():A(L);for(var w=u.length;w--;)delete D[_][u[w]];return D()};e[S]=!0,F.exports=Object.create||function(M,x){var j;return null!==M?(R[_]=i(M),j=new R,R[_]=null,j[S]=M):j=D(),void 0===x?j:t.f(j,x)}},96801:(F,b,n)=>{"use strict";var i=n(43724),t=n(48686),u=n(24913),e=n(28551),h=n(25397),m=n(71072);b.f=i&&!t?Object.defineProperties:function(v,E){e(v);for(var T,_=h(E),C=m(E),S=C.length,R=0;S>R;)u.f(v,T=C[R++],_[T]);return v}},24913:(F,b,n)=>{"use strict";var i=n(43724),t=n(35917),u=n(48686),e=n(28551),h=n(56969),m=TypeError,f=Object.defineProperty,v=Object.getOwnPropertyDescriptor,E="enumerable",_="configurable",C="writable";b.f=i?u?function(R,T,A){if(e(R),T=h(T),e(A),"function"==typeof R&&"prototype"===T&&"value"in A&&C in A&&!A[C]){var p=v(R,T);p&&p[C]&&(R[T]=A.value,A={configurable:_ in A?A[_]:p[_],enumerable:E in A?A[E]:p[E],writable:!1})}return f(R,T,A)}:f:function(R,T,A){if(e(R),T=h(T),e(A),t)try{return f(R,T,A)}catch{}if("get"in A||"set"in A)throw new m("Accessors not supported");return"value"in A&&(R[T]=A.value),R}},77347:(F,b,n)=>{"use strict";var i=n(43724),t=n(69565),u=n(48773),e=n(6980),h=n(25397),m=n(56969),f=n(39297),v=n(35917),E=Object.getOwnPropertyDescriptor;b.f=i?E:function(C,S){if(C=h(C),S=m(S),v)try{return E(C,S)}catch{}if(f(C,S))return e(!t(u.f,C,S),C[S])}},38480:(F,b,n)=>{"use strict";var i=n(61828),u=n(88727).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(h){return i(h,u)}},33717:(F,b)=>{"use strict";b.f=Object.getOwnPropertySymbols},42787:(F,b,n)=>{"use strict";var i=n(39297),t=n(94901),u=n(48981),e=n(66119),h=n(12211),m=e("IE_PROTO"),f=Object,v=f.prototype;F.exports=h?f.getPrototypeOf:function(E){var _=u(E);if(i(_,m))return _[m];var C=_.constructor;return t(C)&&_ instanceof C?C.prototype:_ instanceof f?v:null}},34124:(F,b,n)=>{"use strict";var i=n(79039),t=n(20034),u=n(22195),e=n(15652),h=Object.isExtensible,m=i(function(){h(1)});F.exports=m||e?function(v){return!(!t(v)||e&&"ArrayBuffer"===u(v))&&(!h||h(v))}:h},1625:(F,b,n)=>{"use strict";var i=n(79504);F.exports=i({}.isPrototypeOf)},61828:(F,b,n)=>{"use strict";var i=n(79504),t=n(39297),u=n(25397),e=n(19617).indexOf,h=n(30421),m=i([].push);F.exports=function(f,v){var S,E=u(f),_=0,C=[];for(S in E)!t(h,S)&&t(E,S)&&m(C,S);for(;v.length>_;)t(E,S=v[_++])&&(~e(C,S)||m(C,S));return C}},71072:(F,b,n)=>{"use strict";var i=n(61828),t=n(88727);F.exports=Object.keys||function(e){return i(e,t)}},48773:(F,b)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,t=i&&!n.call({1:2},1);b.f=t?function(e){var h=i(this,e);return!!h&&h.enumerable}:n},52967:(F,b,n)=>{"use strict";var i=n(46706),t=n(20034),u=n(67750),e=n(73506);F.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f,h=!1,m={};try{(f=i(Object.prototype,"__proto__","set"))(m,[]),h=m instanceof Array}catch{}return function(E,_){return u(E),e(_),t(E)&&(h?f(E,_):E.__proto__=_),E}}():void 0)},53179:(F,b,n)=>{"use strict";var i=n(92140),t=n(36955);F.exports=i?{}.toString:function(){return"[object "+t(this)+"]"}},84270:(F,b,n)=>{"use strict";var i=n(69565),t=n(94901),u=n(20034),e=TypeError;F.exports=function(h,m){var f,v;if("string"===m&&t(f=h.toString)&&!u(v=i(f,h))||t(f=h.valueOf)&&!u(v=i(f,h))||"string"!==m&&t(f=h.toString)&&!u(v=i(f,h)))return v;throw new e("Can't convert object to primitive value")}},35031:(F,b,n)=>{"use strict";var i=n(97751),t=n(79504),u=n(38480),e=n(33717),h=n(28551),m=t([].concat);F.exports=i("Reflect","ownKeys")||function(v){var E=u.f(h(v)),_=e.f;return _?m(E,_(v)):E}},19167:(F,b,n)=>{"use strict";var i=n(44576);F.exports=i},67750:(F,b,n)=>{"use strict";var i=n(64117),t=TypeError;F.exports=function(u){if(i(u))throw new t("Can't call method on "+u);return u}},10687:(F,b,n)=>{"use strict";var i=n(24913).f,t=n(39297),e=n(78227)("toStringTag");F.exports=function(h,m,f){h&&!f&&(h=h.prototype),h&&!t(h,e)&&i(h,e,{configurable:!0,value:m})}},66119:(F,b,n)=>{"use strict";var i=n(25745),t=n(33392),u=i("keys");F.exports=function(e){return u[e]||(u[e]=t(e))}},77629:(F,b,n)=>{"use strict";var i=n(96395),t=n(44576),u=n(39433),e="__core-js_shared__",h=F.exports=t[e]||u(e,{});(h.versions||(h.versions=[])).push({version:"3.41.0",mode:i?"pure":"global",copyright:"\xa9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})},25745:(F,b,n)=>{"use strict";var i=n(77629);F.exports=function(t,u){return i[t]||(i[t]=u||{})}},4495:(F,b,n)=>{"use strict";var i=n(39519),t=n(79039),e=n(44576).String;F.exports=!!Object.getOwnPropertySymbols&&!t(function(){var h=Symbol("symbol detection");return!e(h)||!(Object(h)instanceof Symbol)||!Symbol.sham&&i&&i<41})},35610:(F,b,n)=>{"use strict";var i=n(91291),t=Math.max,u=Math.min;F.exports=function(e,h){var m=i(e);return m<0?t(m+h,0):u(m,h)}},25397:(F,b,n)=>{"use strict";var i=n(47055),t=n(67750);F.exports=function(u){return i(t(u))}},91291:(F,b,n)=>{"use strict";var i=n(80741);F.exports=function(t){var u=+t;return u!=u||0===u?0:i(u)}},18014:(F,b,n)=>{"use strict";var i=n(91291),t=Math.min;F.exports=function(u){var e=i(u);return e>0?t(e,9007199254740991):0}},48981:(F,b,n)=>{"use strict";var i=n(67750),t=Object;F.exports=function(u){return t(i(u))}},72777:(F,b,n)=>{"use strict";var i=n(69565),t=n(20034),u=n(10757),e=n(55966),h=n(84270),m=n(78227),f=TypeError,v=m("toPrimitive");F.exports=function(E,_){if(!t(E)||u(E))return E;var S,C=e(E,v);if(C){if(void 0===_&&(_="default"),S=i(C,E,_),!t(S)||u(S))return S;throw new f("Can't convert object to primitive value")}return void 0===_&&(_="number"),h(E,_)}},56969:(F,b,n)=>{"use strict";var i=n(72777),t=n(10757);F.exports=function(u){var e=i(u,"string");return t(e)?e:e+""}},92140:(F,b,n)=>{"use strict";var u={};u[n(78227)("toStringTag")]="z",F.exports="[object z]"===String(u)},16823:F=>{"use strict";var b=String;F.exports=function(n){try{return b(n)}catch{return"Object"}}},33392:(F,b,n)=>{"use strict";var i=n(79504),t=0,u=Math.random(),e=i(1..toString);F.exports=function(h){return"Symbol("+(void 0===h?"":h)+")_"+e(++t+u,36)}},7040:(F,b,n)=>{"use strict";var i=n(4495);F.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},48686:(F,b,n)=>{"use strict";var i=n(43724),t=n(79039);F.exports=i&&t(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},58622:(F,b,n)=>{"use strict";var i=n(44576),t=n(94901),u=i.WeakMap;F.exports=t(u)&&/native code/.test(String(u))},78227:(F,b,n)=>{"use strict";var i=n(44576),t=n(25745),u=n(39297),e=n(33392),h=n(4495),m=n(7040),f=i.Symbol,v=t("wks"),E=m?f.for||f:f&&f.withoutSetter||e;F.exports=function(_){return u(v,_)||(v[_]=h&&u(f,_)?f[_]:E("Symbol."+_)),v[_]}},26099:(F,b,n)=>{"use strict";var i=n(92140),t=n(36840),u=n(53179);i||t(Object.prototype,"toString",u,{unsafe:!0})},39796:(F,b,n)=>{"use strict";var i=n(46518),t=n(18745),u=n(79306),e=n(28551);i({target:"Reflect",stat:!0,forced:!n(79039)(function(){Reflect.apply(function(){})})},{apply:function(v,E,_){return t(u(v),E,e(_))}})},60825:(F,b,n)=>{"use strict";var i=n(46518),t=n(97751),u=n(18745),e=n(30566),h=n(35548),m=n(28551),f=n(20034),v=n(2360),E=n(79039),_=t("Reflect","construct"),C=Object.prototype,S=[].push,R=E(function(){function p(){}return!(_(function(){},[],p)instanceof p)}),T=!E(function(){_(function(){})}),A=R||T;i({target:"Reflect",stat:!0,forced:A,sham:A},{construct:function(L,D){h(L),m(D);var w=arguments.length<3?L:h(arguments[2]);if(T&&!R)return _(L,D,w);if(L===w){switch(D.length){case 0:return new L;case 1:return new L(D[0]);case 2:return new L(D[0],D[1]);case 3:return new L(D[0],D[1],D[2]);case 4:return new L(D[0],D[1],D[2],D[3])}var M=[null];return u(S,M,D),new(u(e,L,M))}var x=w.prototype,j=v(f(x)?x:C),U=u(L,j,D);return f(U)?U:j}})},87411:(F,b,n)=>{"use strict";var i=n(46518),t=n(43724),u=n(28551),e=n(56969),h=n(24913);i({target:"Reflect",stat:!0,forced:n(79039)(function(){Reflect.defineProperty(h.f({},1,{value:1}),1,{value:2})}),sham:!t},{defineProperty:function(E,_,C){u(E);var S=e(_);u(C);try{return h.f(E,S,C),!0}catch{return!1}}})},21211:(F,b,n)=>{"use strict";var i=n(46518),t=n(28551),u=n(77347).f;i({target:"Reflect",stat:!0},{deleteProperty:function(h,m){var f=u(t(h),m);return!(f&&!f.configurable)&&delete h[m]}})},9065:(F,b,n)=>{"use strict";var i=n(46518),t=n(43724),u=n(28551),e=n(77347);i({target:"Reflect",stat:!0,sham:!t},{getOwnPropertyDescriptor:function(m,f){return e.f(u(m),f)}})},86565:(F,b,n)=>{"use strict";var i=n(46518),t=n(28551),u=n(42787);i({target:"Reflect",stat:!0,sham:!n(12211)},{getPrototypeOf:function(m){return u(t(m))}})},40888:(F,b,n)=>{"use strict";var i=n(46518),t=n(69565),u=n(20034),e=n(28551),h=n(16575),m=n(77347),f=n(42787);i({target:"Reflect",stat:!0},{get:function v(E,_){var S,R,C=arguments.length<3?E:arguments[2];return e(E)===C?E[_]:(S=m.f(E,_))?h(S)?S.value:void 0===S.get?void 0:t(S.get,C):u(R=f(E))?v(R,_,C):void 0}})},32812:(F,b,n)=>{"use strict";n(46518)({target:"Reflect",stat:!0},{has:function(u,e){return e in u}})},84634:(F,b,n)=>{"use strict";var i=n(46518),t=n(28551),u=n(34124);i({target:"Reflect",stat:!0},{isExtensible:function(h){return t(h),u(h)}})},71137:(F,b,n)=>{"use strict";n(46518)({target:"Reflect",stat:!0},{ownKeys:n(35031)})},30985:(F,b,n)=>{"use strict";var i=n(46518),t=n(97751),u=n(28551);i({target:"Reflect",stat:!0,sham:!n(92744)},{preventExtensions:function(m){u(m);try{var f=t("Object","preventExtensions");return f&&f(m),!0}catch{return!1}}})},34873:(F,b,n)=>{"use strict";var i=n(46518),t=n(28551),u=n(73506),e=n(52967);e&&i({target:"Reflect",stat:!0},{setPrototypeOf:function(m,f){t(m),u(f);try{return e(m,f),!0}catch{return!1}}})},34268:(F,b,n)=>{"use strict";var i=n(46518),t=n(69565),u=n(28551),e=n(20034),h=n(16575),m=n(79039),f=n(24913),v=n(77347),E=n(42787),_=n(6980);i({target:"Reflect",stat:!0,forced:m(function(){var R=function(){},T=f.f(new R,"a",{configurable:!0});return!1!==Reflect.set(R.prototype,"a",1,T)})},{set:function C(R,T,A){var D,w,M,p=arguments.length<4?R:arguments[3],L=v.f(u(R),T);if(!L){if(e(w=E(R)))return C(w,T,A,p);L=_(0)}if(h(L)){if(!1===L.writable||!e(p))return!1;if(D=v.f(p,T)){if(D.get||D.set||!1===D.writable)return!1;D.value=A,f.f(p,T,D)}else f.f(p,T,_(0,A))}else{if(void 0===(M=L.set))return!1;t(M,p,A)}return!0}})},15472:(F,b,n)=>{"use strict";var i=n(46518),t=n(44576),u=n(10687);i({global:!0},{Reflect:{}}),u(t.Reflect,"Reflect",!0)},74523:(F,b,n)=>{"use strict";function i(u,e,h,m,f,v,E){try{var _=u[v](E),C=_.value}catch(S){return void h(S)}_.done?e(C):Promise.resolve(C).then(m,f)}function t(u){return function(){var e=this,h=arguments;return new Promise(function(m,f){var v=u.apply(e,h);function E(C){i(v,m,f,E,_,"next",C)}function _(C){i(v,m,f,E,_,"throw",C)}E(void 0)})}}n.d(b,{A:()=>t})},49969:(F,b,n)=>{"use strict";n.d(b,{FX:()=>K,If:()=>i,K2:()=>m,MA:()=>S,Os:()=>h,P:()=>T,hZ:()=>u,i0:()=>e,iF:()=>f,kY:()=>_,kp:()=>t,sf:()=>$,ui:()=>k,wk:()=>v});var i=function(X){return X[X.State=0]="State",X[X.Transition=1]="Transition",X[X.Sequence=2]="Sequence",X[X.Group=3]="Group",X[X.Animate=4]="Animate",X[X.Keyframes=5]="Keyframes",X[X.Style=6]="Style",X[X.Trigger=7]="Trigger",X[X.Reference=8]="Reference",X[X.AnimateChild=9]="AnimateChild",X[X.AnimateRef=10]="AnimateRef",X[X.Query=11]="Query",X[X.Stagger=12]="Stagger",X}(i||{});const t="*";function u(X,G){return{type:i.Trigger,name:X,definitions:G,options:{}}}function e(X,G=null){return{type:i.Animate,styles:G,timings:X}}function h(X,G=null){return{type:i.Group,steps:X,options:G}}function m(X,G=null){return{type:i.Sequence,steps:X,options:G}}function f(X){return{type:i.Style,styles:X,offset:null}}function v(X,G,q){return{type:i.State,name:X,styles:G,options:q}}function _(X,G,q=null){return{type:i.Transition,expr:X,animation:G,options:q}}function S(X=null){return{type:i.AnimateChild,options:X}}function T(X,G,q=null){return{type:i.Query,selector:X,animation:G,options:q}}class ${constructor(G=0,q=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=G+q}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(G=>G()),this._onDoneFns=[])}onStart(G){this._originalOnStartFns.push(G),this._onStartFns.push(G)}onDone(G){this._originalOnDoneFns.push(G),this._onDoneFns.push(G)}onDestroy(G){this._onDestroyFns.push(G)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(G=>G()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(G=>G()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(G){this._position=this.totalTime?G*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(G){const q="start"==G?this._onStartFns:this._onDoneFns;q.forEach(z=>z()),q.length=0}}class k{constructor(G){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=G;let q=0,z=0,te=0;const Z=this.players.length;0==Z?queueMicrotask(()=>this._onFinish()):this.players.forEach(J=>{J.onDone(()=>{++q==Z&&this._onFinish()}),J.onDestroy(()=>{++z==Z&&this._onDestroy()}),J.onStart(()=>{++te==Z&&this._onStart()})}),this.totalTime=this.players.reduce((J,Q)=>Math.max(J,Q.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(G=>G()),this._onDoneFns=[])}init(){this.players.forEach(G=>G.init())}onStart(G){this._onStartFns.push(G)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(G=>G()),this._onStartFns=[])}onDone(G){this._onDoneFns.push(G)}onDestroy(G){this._onDestroyFns.push(G)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(G=>G.play())}pause(){this.players.forEach(G=>G.pause())}restart(){this.players.forEach(G=>G.restart())}finish(){this._onFinish(),this.players.forEach(G=>G.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(G=>G.destroy()),this._onDestroyFns.forEach(G=>G()),this._onDestroyFns=[])}reset(){this.players.forEach(G=>G.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(G){const q=G*this.totalTime;this.players.forEach(z=>{const te=z.totalTime?Math.min(1,q/z.totalTime):1;z.setPosition(te)})}getPosition(){const G=this.players.reduce((q,z)=>null===q||z.totalTime>q.totalTime?z:q,null);return null!=G?G.getPosition():0}beforeDestroy(){this.players.forEach(G=>{G.beforeDestroy&&G.beforeDestroy()})}triggerCallback(G){const q="start"==G?this._onStartFns:this._onDoneFns;q.forEach(z=>z()),q.length=0}}const K="!"},28203:(F,b,n)=>{"use strict";n.d(b,{dS:()=>f});var i=n(54438),t=n(60177);const u=new i.nKC("cdk-dir-doc",{providedIn:"root",factory:function e(){return(0,i.WQX)(t.qQ)}}),h=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let f=(()=>{class _{constructor(S){this.value="ltr",this.change=new i.bkB,S&&(this.value=function m(_){const C=_?.toLowerCase()||"";return"auto"===C&&typeof navigator<"u"&&navigator?.language?h.test(navigator.language)?"rtl":"ltr":"rtl"===C?"rtl":"ltr"}((S.body?S.body.dir:null)||(S.documentElement?S.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(R){return new(R||_)(i.KVO(u,8))}}static{this.\u0275prov=i.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},52717:(F,b,n)=>{"use strict";n.d(b,{T1:()=>Ur,Fb:()=>Wo,O7:()=>Bl,HD:()=>$s});var i=n(54438),t=n(60177);function e(Se,ye=0){return function h(Se){return!isNaN(parseFloat(Se))&&!isNaN(Number(Se))}(Se)?Number(Se):ye}function v(Se){return Se instanceof i.aKT?Se.nativeElement:Se}var _=n(21413),C=n(7673),S=n(71985),R=n(33726),T=n(96780),A=n(18359);const p={schedule(Se){let ye=requestAnimationFrame,ae=cancelAnimationFrame;const{delegate:Pe}=p;Pe&&(ye=Pe.requestAnimationFrame,ae=Pe.cancelAnimationFrame);const nt=ye(Bt=>{ae=void 0,Se(Bt)});return new A.yU(()=>ae?.(nt))},requestAnimationFrame(...Se){const{delegate:ye}=p;return(ye?.requestAnimationFrame||requestAnimationFrame)(...Se)},cancelAnimationFrame(...Se){const{delegate:ye}=p;return(ye?.cancelAnimationFrame||cancelAnimationFrame)(...Se)},delegate:void 0};var D=n(39687);const M=new class w extends D.q{flush(ye){let ae;this._active=!0,ye?ae=ye.id:(ae=this._scheduled,this._scheduled=void 0);const{actions:Pe}=this;let nt;ye=ye||Pe.shift();do{if(nt=ye.execute(ye.state,ye.delay))break}while((ye=Pe[0])&&ye.id===ae&&Pe.shift());if(this._active=!1,nt){for(;(ye=Pe[0])&&ye.id===ae&&Pe.shift();)ye.unsubscribe();throw nt}}}(class L extends T.R{constructor(ye,ae){super(ye,ae),this.scheduler=ye,this.work=ae}requestAsyncId(ye,ae,Pe=0){return null!==Pe&&Pe>0?super.requestAsyncId(ye,ae,Pe):(ye.actions.push(this),ye._scheduled||(ye._scheduled=p.requestAnimationFrame(()=>ye.flush(void 0))))}recycleAsyncId(ye,ae,Pe=0){var nt;if(null!=Pe?Pe>0:this.delay>0)return super.recycleAsyncId(ye,ae,Pe);const{actions:Bt}=ye;null!=ae&&ae===ye._scheduled&&(null===(nt=Bt[Bt.length-1])||void 0===nt?void 0:nt.id)!==ae&&(p.cancelAnimationFrame(ae),ye._scheduled=void 0)}});n(25007);var U=n(43236),$=n(39974),k=n(58750),K=n(54360),G=n(41584);function q(Se,ye=U.E){return function X(Se){return(0,$.N)((ye,ae)=>{let Pe=!1,nt=null,Bt=null,_n=!1;const Ln=()=>{if(Bt?.unsubscribe(),Bt=null,Pe){Pe=!1;const gs=nt;nt=null,ae.next(gs)}_n&&ae.complete()},rs=()=>{Bt=null,_n&&ae.complete()};ye.subscribe((0,K._)(ae,gs=>{Pe=!0,nt=gs,Bt||(0,k.Tg)(Se(gs)).subscribe(Bt=(0,K._)(ae,Ln,rs))},()=>{_n=!0,(!Pe||!Bt||Bt.closed)&&ae.complete()}))})}(()=>(0,G.O)(Se,ye))}var z=n(5964);let te;try{te=typeof Intl<"u"&&Intl.v8BreakIterator}catch{te=!1}let ne,Ee,Z=(()=>{class Se{constructor(ae){this._platformId=ae,this.isBrowser=this._platformId?(0,t.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!te)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(Pe){return new(Pe||Se)(i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})();function se(Se){return function fe(){if(null==ne&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ne=!0}))}finally{ne=ne||!1}return ne}()?Se:!!Se.capture}function tt(Se){if(function De(){if(null==Ee){const Se=typeof document<"u"?document.head:null;Ee=!(!Se||!Se.createShadowRoot&&!Se.attachShadow)}return Ee}()){const ye=Se.getRootNode?Se.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&ye instanceof ShadowRoot)return ye}return null}function Fe(Se){return Se.composedPath?Se.composedPath()[0]:Se.target}let mt=(()=>{class Se{constructor(ae,Pe,nt){this._ngZone=ae,this._platform=Pe,this._scrolled=new _.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=nt}register(ae){this.scrollContainers.has(ae)||this.scrollContainers.set(ae,ae.elementScrolled().subscribe(()=>this._scrolled.next(ae)))}deregister(ae){const Pe=this.scrollContainers.get(ae);Pe&&(Pe.unsubscribe(),this.scrollContainers.delete(ae))}scrolled(ae=20){return this._platform.isBrowser?new S.c(Pe=>{this._globalSubscription||this._addGlobalListener();const nt=ae>0?this._scrolled.pipe(q(ae)).subscribe(Pe):this._scrolled.subscribe(Pe);return this._scrolledCount++,()=>{nt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,C.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ae,Pe)=>this.deregister(Pe)),this._scrolled.complete()}ancestorScrolled(ae,Pe){const nt=this.getAncestorScrollContainers(ae);return this.scrolled(Pe).pipe((0,z.p)(Bt=>!Bt||nt.indexOf(Bt)>-1))}getAncestorScrollContainers(ae){const Pe=[];return this.scrollContainers.forEach((nt,Bt)=>{this._scrollableContainsElement(Bt,ae)&&Pe.push(Bt)}),Pe}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ae,Pe){let nt=v(Pe),Bt=ae.getElementRef().nativeElement;do{if(nt==Bt)return!0}while(nt=nt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ae=this._getWindow();return(0,R.R)(ae.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(Pe){return new(Pe||Se)(i.KVO(i.SKi),i.KVO(Z),i.KVO(t.qQ,8))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})(),Be=(()=>{class Se{constructor(ae,Pe,nt){this._platform=ae,this._change=new _.B,this._changeListener=Bt=>{this._change.next(Bt)},this._document=nt,Pe.runOutsideAngular(()=>{if(ae.isBrowser){const Bt=this._getWindow();Bt.addEventListener("resize",this._changeListener),Bt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ae=this._getWindow();ae.removeEventListener("resize",this._changeListener),ae.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ae={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ae}getViewportRect(){const ae=this.getViewportScrollPosition(),{width:Pe,height:nt}=this.getViewportSize();return{top:ae.top,left:ae.left,bottom:ae.top+nt,right:ae.left+Pe,height:nt,width:Pe}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ae=this._document,Pe=this._getWindow(),nt=ae.documentElement,Bt=nt.getBoundingClientRect();return{top:-Bt.top||ae.body.scrollTop||Pe.scrollY||nt.scrollTop||0,left:-Bt.left||ae.body.scrollLeft||Pe.scrollX||nt.scrollLeft||0}}change(ae=20){return ae>0?this._change.pipe(q(ae)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ae=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ae.innerWidth,height:ae.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(Pe){return new(Pe||Se)(i.KVO(Z),i.KVO(i.SKi),i.KVO(t.qQ,8))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})();var mo=n(88141),Ir=(n(70152),n(96354)),bo=n(96697),Wn=n(40605),os=n(57786),Us=n(84412),Qn=n(56977),_i=n(25558),Ni=n(99172),qi=n(28203);function ki(Se,ye,ae){for(let Pe in ye)if(ye.hasOwnProperty(Pe)){const nt=ye[Pe];nt?Se.setProperty(Pe,nt,ae?.has(Pe)?"important":""):Se.removeProperty(Pe)}return Se}function kn(Se,ye){const ae=ye?"":"none";ki(Se.style,{"touch-action":ye?"":"none","-webkit-user-drag":ye?"":"none","-webkit-tap-highlight-color":ye?"":"transparent","user-select":ae,"-ms-user-select":ae,"-webkit-user-select":ae,"-moz-user-select":ae})}function ao(Se,ye,ae){ki(Se.style,{position:ye?"":"fixed",top:ye?"":"0",opacity:ye?"":"0",left:ye?"":"-999em"},ae)}function lo(Se,ye){return ye&&"none"!=ye?Se+" "+ye:Se}function he(Se,ye){Se.style.width=`${ye.width}px`,Se.style.height=`${ye.height}px`,Se.style.transform=Je(ye.left,ye.top)}function Je(Se,ye){return`translate3d(${Math.round(Se)}px, ${Math.round(ye)}px, 0)`}function Re(Se){const ye=Se.getBoundingClientRect();return{top:ye.top,right:ye.right,bottom:ye.bottom,left:ye.left,width:ye.width,height:ye.height,x:ye.x,y:ye.y}}function ze(Se,ye,ae){const{top:Pe,bottom:nt,left:Bt,right:_n}=Se;return ae>=Pe&&ae<=nt&&ye>=Bt&&ye<=_n}function Lt(Se,ye,ae){Se.top+=ye,Se.bottom=Se.top+Se.height,Se.left+=ae,Se.right=Se.left+Se.width}function On(Se,ye,ae,Pe){const{top:nt,right:Bt,bottom:_n,left:Ln,width:rs,height:gs}=Se,vs=rs*ye,Ji=gs*ye;return Pe>nt-Ji&&Pe<_n+Ji&&ae>Ln-vs&&ae<Bt+vs}class Un{constructor(ye){this._document=ye,this.positions=new Map}clear(){this.positions.clear()}cache(ye){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),ye.forEach(ae=>{this.positions.set(ae,{scrollPosition:{top:ae.scrollTop,left:ae.scrollLeft},clientRect:Re(ae)})})}handleScroll(ye){const ae=Fe(ye),Pe=this.positions.get(ae);if(!Pe)return null;const nt=Pe.scrollPosition;let Bt,_n;if(ae===this._document){const gs=this.getViewportScrollPosition();Bt=gs.top,_n=gs.left}else Bt=ae.scrollTop,_n=ae.scrollLeft;const Ln=nt.top-Bt,rs=nt.left-_n;return this.positions.forEach((gs,vs)=>{gs.clientRect&&ae!==vs&&ae.contains(vs)&&Lt(gs.clientRect,Ln,rs)}),nt.top=Bt,nt.left=_n,{top:Ln,left:rs}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function fs(Se){const ye=Se.cloneNode(!0),ae=ye.querySelectorAll("[id]"),Pe=Se.nodeName.toLowerCase();ye.removeAttribute("id");for(let nt=0;nt<ae.length;nt++)ae[nt].removeAttribute("id");return"canvas"===Pe?hi(Se,ye):("input"===Pe||"select"===Pe||"textarea"===Pe)&&Xn(Se,ye),Ri("canvas",Se,ye,hi),Ri("input, textarea, select",Se,ye,Xn),ye}function Ri(Se,ye,ae,Pe){const nt=ye.querySelectorAll(Se);if(nt.length){const Bt=ae.querySelectorAll(Se);for(let _n=0;_n<nt.length;_n++)Pe(nt[_n],Bt[_n])}}let Ns=0;function Xn(Se,ye){"file"!==ye.type&&(ye.value=Se.value),"radio"===ye.type&&ye.name&&(ye.name=`mat-clone-${ye.name}-${Ns++}`)}function hi(Se,ye){const ae=ye.getContext("2d");if(ae)try{ae.drawImage(Se,0,0)}catch{}}function Fi(Se,ye){const ae=Se.rootNodes;if(1===ae.length&&ae[0].nodeType===ye.ELEMENT_NODE)return ae[0];const Pe=ye.createElement("div");return ae.forEach(nt=>Pe.appendChild(nt)),Pe}function Di(Se){const ye=Se.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(Se)*ye}function Go(Se,ye){return Se.getPropertyValue(ye).split(",").map(Pe=>Pe.trim())}const Ai=new Set(["position"]);class es{constructor(ye,ae,Pe,nt,Bt,_n,Ln,rs,gs){this._document=ye,this._rootElement=ae,this._direction=Pe,this._initialDomRect=nt,this._previewTemplate=Bt,this._previewClass=_n,this._pickupPositionOnPage=Ln,this._initialTransform=rs,this._zIndex=gs}attach(ye){this._preview=this._createPreview(),ye.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(ye){this._preview.style.transform=ye}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(ye){this._preview.classList.add(ye)}getTransitionDuration(){return function Io(Se){const ye=getComputedStyle(Se),ae=Go(ye,"transition-property"),Pe=ae.find(Ln=>"transform"===Ln||"all"===Ln);if(!Pe)return 0;const nt=ae.indexOf(Pe),Bt=Go(ye,"transition-duration"),_n=Go(ye,"transition-delay");return Di(Bt[nt])+Di(_n[nt])}(this._preview)}addEventListener(ye,ae){this._preview.addEventListener(ye,ae)}removeEventListener(ye,ae){this._preview.removeEventListener(ye,ae)}_createPreview(){const ye=this._previewTemplate,ae=this._previewClass,Pe=ye?ye.template:null;let nt;if(Pe&&ye){const Bt=ye.matchSize?this._initialDomRect:null,_n=ye.viewContainer.createEmbeddedView(Pe,ye.context);_n.detectChanges(),nt=Fi(_n,this._document),this._previewEmbeddedView=_n,ye.matchSize?he(nt,Bt):nt.style.transform=Je(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else nt=fs(this._rootElement),he(nt,this._initialDomRect),this._initialTransform&&(nt.style.transform=this._initialTransform);return ki(nt.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Ai),kn(nt,!1),nt.classList.add("cdk-drag-preview"),nt.setAttribute("popover","manual"),nt.setAttribute("dir",this._direction),ae&&(Array.isArray(ae)?ae.forEach(Bt=>nt.classList.add(Bt)):nt.classList.add(ae)),nt}}const xs=se({passive:!0}),Oi=se({passive:!1}),go=se({passive:!1,capture:!0}),$o=new Set(["position"]);class ir{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(ye){ye!==this._disabled&&(this._disabled=ye,this._toggleNativeDragInteractions(),this._handles.forEach(ae=>kn(ae,ye)))}constructor(ye,ae,Pe,nt,Bt,_n){this._config=ae,this._document=Pe,this._ngZone=nt,this._viewportRuler=Bt,this._dragDropRegistry=_n,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new _.B,this._pointerMoveSubscription=A.yU.EMPTY,this._pointerUpSubscription=A.yU.EMPTY,this._scrollSubscription=A.yU.EMPTY,this._resizeSubscription=A.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new _.B,this.started=new _.B,this.released=new _.B,this.ended=new _.B,this.entered=new _.B,this.exited=new _.B,this.dropped=new _.B,this.moved=this._moveEvents,this._pointerDown=Ln=>{if(this.beforeStarted.next(),this._handles.length){const rs=this._getTargetHandle(Ln);rs&&!this._disabledHandles.has(rs)&&!this.disabled&&this._initializeDragSequence(rs,Ln)}else this.disabled||this._initializeDragSequence(this._rootElement,Ln)},this._pointerMove=Ln=>{const rs=this._getPointerPositionOnPage(Ln);if(!this._hasStartedDragging){if(Math.abs(rs.x-this._pickupPositionOnPage.x)+Math.abs(rs.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const ml=Date.now()>=this._dragStartTime+this._getDragStartDelay(Ln),Za=this._dropContainer;if(!ml)return void this._endDragSequence(Ln);(!Za||!Za.isDragging()&&!Za.isReceiving())&&(Ln.cancelable&&Ln.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(Ln)))}return}Ln.cancelable&&Ln.preventDefault();const gs=this._getConstrainedPointerPosition(rs);if(this._hasMoved=!0,this._lastKnownPointerPosition=rs,this._updatePointerDirectionDelta(gs),this._dropContainer)this._updateActiveDropContainer(gs,rs);else{const vs=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,Ji=this._activeTransform;Ji.x=gs.x-vs.x+this._passiveTransform.x,Ji.y=gs.y-vs.y+this._passiveTransform.y,this._applyRootElementTransform(Ji.x,Ji.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:gs,event:Ln,distance:this._getDragDistance(gs),delta:this._pointerDirectionDelta})})},this._pointerUp=Ln=>{this._endDragSequence(Ln)},this._nativeDragStart=Ln=>{if(this._handles.length){const rs=this._getTargetHandle(Ln);rs&&!this._disabledHandles.has(rs)&&!this.disabled&&Ln.preventDefault()}else this.disabled||Ln.preventDefault()},this.withRootElement(ye).withParent(ae.parentDragRef||null),this._parentPositions=new Un(Pe),_n.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(ye){this._handles=ye.map(Pe=>v(Pe)),this._handles.forEach(Pe=>kn(Pe,this.disabled)),this._toggleNativeDragInteractions();const ae=new Set;return this._disabledHandles.forEach(Pe=>{this._handles.indexOf(Pe)>-1&&ae.add(Pe)}),this._disabledHandles=ae,this}withPreviewTemplate(ye){return this._previewTemplate=ye,this}withPlaceholderTemplate(ye){return this._placeholderTemplate=ye,this}withRootElement(ye){const ae=v(ye);return ae!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{ae.addEventListener("mousedown",this._pointerDown,Oi),ae.addEventListener("touchstart",this._pointerDown,xs),ae.addEventListener("dragstart",this._nativeDragStart,Oi)}),this._initialTransform=void 0,this._rootElement=ae),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(ye){return this._boundaryElement=ye?v(ye):null,this._resizeSubscription.unsubscribe(),ye&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(ye){return this._parentDragRef=ye,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(ye){!this._disabledHandles.has(ye)&&this._handles.indexOf(ye)>-1&&(this._disabledHandles.add(ye),kn(ye,!0))}enableHandle(ye){this._disabledHandles.has(ye)&&(this._disabledHandles.delete(ye),kn(ye,this.disabled))}withDirection(ye){return this._direction=ye,this}_withDropContainer(ye){this._dropContainer=ye}getFreeDragPosition(){const ye=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:ye.x,y:ye.y}}setFreeDragPosition(ye){return this._activeTransform={x:0,y:0},this._passiveTransform.x=ye.x,this._passiveTransform.y=ye.y,this._dropContainer||this._applyRootElementTransform(ye.x,ye.y),this}withPreviewContainer(ye){return this._previewContainer=ye,this}_sortFromLastPointerPosition(){const ye=this._lastKnownPointerPosition;ye&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(ye),ye)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",Rr,go)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(ye){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:ye}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(ye),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const ae=this._getPointerPositionOnPage(ye);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(ae),dropPoint:ae,event:ye})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(ye){Po(ye)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const ae=this._getShadowRoot(),Pe=this._dropContainer;if(ae&&this._ngZone.runOutsideAngular(()=>{ae.addEventListener("selectstart",Rr,go)}),Pe){const nt=this._rootElement,Bt=nt.parentNode,_n=this._placeholder=this._createPlaceholderElement(),Ln=this._anchor=this._anchor||this._document.createComment("");Bt.insertBefore(Ln,nt),this._initialTransform=nt.style.transform||"",this._preview=new es(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(Bt,ae)),ao(nt,!1,$o),this._document.body.appendChild(Bt.replaceChild(_n,nt)),this.started.next({source:this,event:ye}),Pe.start(),this._initialContainer=Pe,this._initialIndex=Pe.getItemIndex(this)}else this.started.next({source:this,event:ye}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(Pe?Pe.getScrollableParents():[])}_initializeDragSequence(ye,ae){this._parentDragRef&&ae.stopPropagation();const Pe=this.isDragging(),nt=Po(ae),Bt=!nt&&0!==ae.button,_n=this._rootElement,Ln=Fe(ae),rs=!nt&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),gs=nt?function Xa(Se){const ye=Se.touches&&Se.touches[0]||Se.changedTouches&&Se.changedTouches[0];return!(!ye||-1!==ye.identifier||null!=ye.radiusX&&1!==ye.radiusX||null!=ye.radiusY&&1!==ye.radiusY)}(ae):function Ta(Se){return 0===Se.buttons||0===Se.detail}(ae);if(Ln&&Ln.draggable&&"mousedown"===ae.type&&ae.preventDefault(),Pe||Bt||rs||gs)return;if(this._handles.length){const Oa=_n.style;this._rootElementTapHighlight=Oa.webkitTapHighlightColor||"",Oa.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Oa=>this._updateOnScroll(Oa)),this._boundaryElement&&(this._boundaryRect=Re(this._boundaryElement));const vs=this._previewTemplate;this._pickupPositionInElement=vs&&vs.template&&!vs.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,ye,ae);const Ji=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(ae);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Ji.x,y:Ji.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,ae)}_cleanupDragArtifacts(ye){ao(this._rootElement,!0,$o),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const ae=this._dropContainer,Pe=ae.getItemIndex(this),nt=this._getPointerPositionOnPage(ye),Bt=this._getDragDistance(nt),_n=ae._isOverContainer(nt.x,nt.y);this.ended.next({source:this,distance:Bt,dropPoint:nt,event:ye}),this.dropped.next({item:this,currentIndex:Pe,previousIndex:this._initialIndex,container:ae,previousContainer:this._initialContainer,isPointerOverContainer:_n,distance:Bt,dropPoint:nt,event:ye}),ae.drop(this,Pe,this._initialIndex,this._initialContainer,_n,Bt,nt,ye),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:ye,y:ae},{x:Pe,y:nt}){let Bt=this._initialContainer._getSiblingContainerFromPosition(this,ye,ae);!Bt&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(ye,ae)&&(Bt=this._initialContainer),Bt&&Bt!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=Bt,this._dropContainer.enter(this,ye,ae,Bt===this._initialContainer&&Bt.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:Bt,currentIndex:Bt.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(Pe,nt),this._dropContainer._sortItem(this,ye,ae,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(ye,ae):this._applyPreviewTransform(ye-this._pickupPositionInElement.x,ae-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const ye=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(ye.left,ye.top);const ae=this._preview.getTransitionDuration();return 0===ae?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(Pe=>{const nt=_n=>{(!_n||Fe(_n)===this._preview&&"transform"===_n.propertyName)&&(this._preview?.removeEventListener("transitionend",nt),Pe(),clearTimeout(Bt))},Bt=setTimeout(nt,1.5*ae);this._preview.addEventListener("transitionend",nt)}))}_createPlaceholderElement(){const ye=this._placeholderTemplate,ae=ye?ye.template:null;let Pe;return ae?(this._placeholderRef=ye.viewContainer.createEmbeddedView(ae,ye.context),this._placeholderRef.detectChanges(),Pe=Fi(this._placeholderRef,this._document)):Pe=fs(this._rootElement),Pe.style.pointerEvents="none",Pe.classList.add("cdk-drag-placeholder"),Pe}_getPointerPositionInElement(ye,ae,Pe){const nt=ae===this._rootElement?null:ae,Bt=nt?nt.getBoundingClientRect():ye,_n=Po(Pe)?Pe.targetTouches[0]:Pe,Ln=this._getViewportScrollPosition();return{x:Bt.left-ye.left+(_n.pageX-Bt.left-Ln.left),y:Bt.top-ye.top+(_n.pageY-Bt.top-Ln.top)}}_getPointerPositionOnPage(ye){const ae=this._getViewportScrollPosition(),Pe=Po(ye)?ye.touches[0]||ye.changedTouches[0]||{pageX:0,pageY:0}:ye,nt=Pe.pageX-ae.left,Bt=Pe.pageY-ae.top;if(this._ownerSVGElement){const _n=this._ownerSVGElement.getScreenCTM();if(_n){const Ln=this._ownerSVGElement.createSVGPoint();return Ln.x=nt,Ln.y=Bt,Ln.matrixTransform(_n.inverse())}}return{x:nt,y:Bt}}_getConstrainedPointerPosition(ye){const ae=this._dropContainer?this._dropContainer.lockAxis:null;let{x:Pe,y:nt}=this.constrainPosition?this.constrainPosition(ye,this,this._initialDomRect,this._pickupPositionInElement):ye;if("x"===this.lockAxis||"x"===ae?nt=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===ae)&&(Pe=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:Bt,y:_n}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,Ln=this._boundaryRect,{width:rs,height:gs}=this._getPreviewRect(),vs=Ln.top+_n,Ji=Ln.bottom-(gs-_n);Pe=Xi(Pe,Ln.left+Bt,Ln.right-(rs-Bt)),nt=Xi(nt,vs,Ji)}return{x:Pe,y:nt}}_updatePointerDirectionDelta(ye){const{x:ae,y:Pe}=ye,nt=this._pointerDirectionDelta,Bt=this._pointerPositionAtLastDirectionChange,_n=Math.abs(ae-Bt.x),Ln=Math.abs(Pe-Bt.y);return _n>this._config.pointerDirectionChangeThreshold&&(nt.x=ae>Bt.x?1:-1,Bt.x=ae),Ln>this._config.pointerDirectionChangeThreshold&&(nt.y=Pe>Bt.y?1:-1,Bt.y=Pe),nt}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const ye=this._handles.length>0||!this.isDragging();ye!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=ye,kn(this._rootElement,ye))}_removeRootElementListeners(ye){ye.removeEventListener("mousedown",this._pointerDown,Oi),ye.removeEventListener("touchstart",this._pointerDown,xs),ye.removeEventListener("dragstart",this._nativeDragStart,Oi)}_applyRootElementTransform(ye,ae){const Pe=Je(ye,ae),nt=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=nt.transform&&"none"!=nt.transform?nt.transform:""),nt.transform=lo(Pe,this._initialTransform)}_applyPreviewTransform(ye,ae){const Pe=this._previewTemplate?.template?void 0:this._initialTransform,nt=Je(ye,ae);this._preview.setTransform(lo(nt,Pe))}_getDragDistance(ye){const ae=this._pickupPositionOnPage;return ae?{x:ye.x-ae.x,y:ye.y-ae.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:ye,y:ae}=this._passiveTransform;if(0===ye&&0===ae||this.isDragging()||!this._boundaryElement)return;const Pe=this._rootElement.getBoundingClientRect(),nt=this._boundaryElement.getBoundingClientRect();if(0===nt.width&&0===nt.height||0===Pe.width&&0===Pe.height)return;const Bt=nt.left-Pe.left,_n=Pe.right-nt.right,Ln=nt.top-Pe.top,rs=Pe.bottom-nt.bottom;nt.width>Pe.width?(Bt>0&&(ye+=Bt),_n>0&&(ye-=_n)):ye=0,nt.height>Pe.height?(Ln>0&&(ae+=Ln),rs>0&&(ae-=rs)):ae=0,(ye!==this._passiveTransform.x||ae!==this._passiveTransform.y)&&this.setFreeDragPosition({y:ae,x:ye})}_getDragStartDelay(ye){const ae=this.dragStartDelay;return"number"==typeof ae?ae:Po(ye)?ae.touch:ae?ae.mouse:0}_updateOnScroll(ye){const ae=this._parentPositions.handleScroll(ye);if(ae){const Pe=Fe(ye);this._boundaryRect&&Pe!==this._boundaryElement&&Pe.contains(this._boundaryElement)&&Lt(this._boundaryRect,ae.top,ae.left),this._pickupPositionOnPage.x+=ae.left,this._pickupPositionOnPage.y+=ae.top,this._dropContainer||(this._activeTransform.x-=ae.left,this._activeTransform.y-=ae.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=tt(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(ye,ae){const Pe=this._previewContainer||"global";if("parent"===Pe)return ye;if("global"===Pe){const nt=this._document;return ae||nt.fullscreenElement||nt.webkitFullscreenElement||nt.mozFullScreenElement||nt.msFullscreenElement||nt.body}return v(Pe)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(ye){return this._handles.find(ae=>ye.target&&(ye.target===ae||ae.contains(ye.target)))}}function Xi(Se,ye,ae){return Math.max(ye,Math.min(ae,Se))}function Po(Se){return"t"===Se.type[0]}function Rr(Se){Se.preventDefault()}function $s(Se,ye,ae){const Pe=or(ye,Se.length-1),nt=or(ae,Se.length-1);if(Pe===nt)return;const Bt=Se[Pe],_n=nt<Pe?-1:1;for(let Ln=Pe;Ln!==nt;Ln+=_n)Se[Ln]=Se[Ln+_n];Se[nt]=Bt}function or(Se,ye){return Math.max(0,Math.min(ye,Se))}class co{constructor(ye,ae){this._element=ye,this._dragDropRegistry=ae,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(ye){this.withItems(ye)}sort(ye,ae,Pe,nt){const Bt=this._itemPositions,_n=this._getItemIndexFromPointerPosition(ye,ae,Pe,nt);if(-1===_n&&Bt.length>0)return null;const Ln="horizontal"===this.orientation,rs=Bt.findIndex(kr=>kr.drag===ye),gs=Bt[_n],Ji=gs.clientRect,Oa=rs>_n?1:-1,ml=this._getItemOffsetPx(Bt[rs].clientRect,Ji,Oa),Za=this._getSiblingOffsetPx(rs,Bt,Oa),qa=Bt.slice();return $s(Bt,rs,_n),Bt.forEach((kr,ln)=>{if(qa[ln]===kr)return;const lu=kr.drag===ye,gl=lu?ml:Za,cu=lu?ye.getPlaceholderElement():kr.drag.getRootElement();kr.offset+=gl,Ln?(cu.style.transform=lo(`translate3d(${Math.round(kr.offset)}px, 0, 0)`,kr.initialTransform),Lt(kr.clientRect,0,gl)):(cu.style.transform=lo(`translate3d(0, ${Math.round(kr.offset)}px, 0)`,kr.initialTransform),Lt(kr.clientRect,gl,0))}),this._previousSwap.overlaps=ze(Ji,ae,Pe),this._previousSwap.drag=gs.drag,this._previousSwap.delta=Ln?nt.x:nt.y,{previousIndex:rs,currentIndex:_n}}enter(ye,ae,Pe,nt){const Bt=null==nt||nt<0?this._getItemIndexFromPointerPosition(ye,ae,Pe):nt,_n=this._activeDraggables,Ln=_n.indexOf(ye),rs=ye.getPlaceholderElement();let gs=_n[Bt];if(gs===ye&&(gs=_n[Bt+1]),!gs&&(null==Bt||-1===Bt||Bt<_n.length-1)&&this._shouldEnterAsFirstChild(ae,Pe)&&(gs=_n[0]),Ln>-1&&_n.splice(Ln,1),gs&&!this._dragDropRegistry.isDragging(gs)){const vs=gs.getRootElement();vs.parentElement.insertBefore(rs,vs),_n.splice(Bt,0,ye)}else v(this._element).appendChild(rs),_n.push(ye);rs.style.transform="",this._cacheItemPositions()}withItems(ye){this._activeDraggables=ye.slice(),this._cacheItemPositions()}withSortPredicate(ye){this._sortPredicate=ye}reset(){this._activeDraggables.forEach(ye=>{const ae=ye.getRootElement();if(ae){const Pe=this._itemPositions.find(nt=>nt.drag===ye)?.initialTransform;ae.style.transform=Pe||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(ye){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(Pe=>Pe.drag===ye)}updateOnScroll(ye,ae){this._itemPositions.forEach(({clientRect:Pe})=>{Lt(Pe,ye,ae)}),this._itemPositions.forEach(({drag:Pe})=>{this._dragDropRegistry.isDragging(Pe)&&Pe._sortFromLastPointerPosition()})}_cacheItemPositions(){const ye="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(ae=>{const Pe=ae.getVisibleElement();return{drag:ae,offset:0,initialTransform:Pe.style.transform||"",clientRect:Re(Pe)}}).sort((ae,Pe)=>ye?ae.clientRect.left-Pe.clientRect.left:ae.clientRect.top-Pe.clientRect.top)}_getItemOffsetPx(ye,ae,Pe){const nt="horizontal"===this.orientation;let Bt=nt?ae.left-ye.left:ae.top-ye.top;return-1===Pe&&(Bt+=nt?ae.width-ye.width:ae.height-ye.height),Bt}_getSiblingOffsetPx(ye,ae,Pe){const nt="horizontal"===this.orientation,Bt=ae[ye].clientRect,_n=ae[ye+-1*Pe];let Ln=Bt[nt?"width":"height"]*Pe;if(_n){const rs=nt?"left":"top",gs=nt?"right":"bottom";-1===Pe?Ln-=_n.clientRect[rs]-Bt[gs]:Ln+=Bt[rs]-_n.clientRect[gs]}return Ln}_shouldEnterAsFirstChild(ye,ae){if(!this._activeDraggables.length)return!1;const Pe=this._itemPositions,nt="horizontal"===this.orientation;if(Pe[0].drag!==this._activeDraggables[0]){const _n=Pe[Pe.length-1].clientRect;return nt?ye>=_n.right:ae>=_n.bottom}{const _n=Pe[0].clientRect;return nt?ye<=_n.left:ae<=_n.top}}_getItemIndexFromPointerPosition(ye,ae,Pe,nt){const Bt="horizontal"===this.orientation,_n=this._itemPositions.findIndex(({drag:Ln,clientRect:rs})=>Ln!==ye&&((!nt||Ln!==this._previousSwap.drag||!this._previousSwap.overlaps||(Bt?nt.x:nt.y)!==this._previousSwap.delta)&&(Bt?ae>=Math.floor(rs.left)&&ae<Math.floor(rs.right):Pe>=Math.floor(rs.top)&&Pe<Math.floor(rs.bottom))));return-1!==_n&&this._sortPredicate(_n,ye)?_n:-1}}var To=function(Se){return Se[Se.NONE=0]="NONE",Se[Se.UP=1]="UP",Se[Se.DOWN=2]="DOWN",Se}(To||{}),Ro=function(Se){return Se[Se.NONE=0]="NONE",Se[Se.LEFT=1]="LEFT",Se[Se.RIGHT=2]="RIGHT",Se}(Ro||{});class fd{constructor(ye,ae,Pe,nt,Bt){this._dragDropRegistry=ae,this._ngZone=nt,this._viewportRuler=Bt,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new _.B,this.entered=new _.B,this.exited=new _.B,this.dropped=new _.B,this.sorted=new _.B,this.receivingStarted=new _.B,this.receivingStopped=new _.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=A.yU.EMPTY,this._verticalScrollDirection=To.NONE,this._horizontalScrollDirection=Ro.NONE,this._stopScrollTimers=new _.B,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,Wn.Y)(0,M).pipe((0,Qn.Q)(this._stopScrollTimers)).subscribe(()=>{const _n=this._scrollNode,Ln=this.autoScrollStep;this._verticalScrollDirection===To.UP?_n.scrollBy(0,-Ln):this._verticalScrollDirection===To.DOWN&&_n.scrollBy(0,Ln),this._horizontalScrollDirection===Ro.LEFT?_n.scrollBy(-Ln,0):this._horizontalScrollDirection===Ro.RIGHT&&_n.scrollBy(Ln,0)})},this.element=v(ye),this._document=Pe,this.withScrollableParents([this.element]),ae.registerDropContainer(this),this._parentPositions=new Un(Pe),this._sortStrategy=new co(this.element,ae),this._sortStrategy.withSortPredicate((_n,Ln)=>this.sortPredicate(_n,Ln,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(ye,ae,Pe,nt){this._draggingStarted(),null==nt&&this.sortingDisabled&&(nt=this._draggables.indexOf(ye)),this._sortStrategy.enter(ye,ae,Pe,nt),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:ye,container:this,currentIndex:this.getItemIndex(ye)})}exit(ye){this._reset(),this.exited.next({item:ye,container:this})}drop(ye,ae,Pe,nt,Bt,_n,Ln,rs={}){this._reset(),this.dropped.next({item:ye,currentIndex:ae,previousIndex:Pe,container:this,previousContainer:nt,isPointerOverContainer:Bt,distance:_n,dropPoint:Ln,event:rs})}withItems(ye){const ae=this._draggables;return this._draggables=ye,ye.forEach(Pe=>Pe._withDropContainer(this)),this.isDragging()&&(ae.filter(nt=>nt.isDragging()).every(nt=>-1===ye.indexOf(nt))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(ye){return this._sortStrategy.direction=ye,this}connectedTo(ye){return this._siblings=ye.slice(),this}withOrientation(ye){return this._sortStrategy.orientation=ye,this}withScrollableParents(ye){const ae=v(this.element);return this._scrollableElements=-1===ye.indexOf(ae)?[ae,...ye]:ye.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(ye){return this._isDragging?this._sortStrategy.getItemIndex(ye):this._draggables.indexOf(ye)}isReceiving(){return this._activeSiblings.size>0}_sortItem(ye,ae,Pe,nt){if(this.sortingDisabled||!this._domRect||!On(this._domRect,.05,ae,Pe))return;const Bt=this._sortStrategy.sort(ye,ae,Pe,nt);Bt&&this.sorted.next({previousIndex:Bt.previousIndex,currentIndex:Bt.currentIndex,container:this,item:ye})}_startScrollingIfNecessary(ye,ae){if(this.autoScrollDisabled)return;let Pe,nt=To.NONE,Bt=Ro.NONE;if(this._parentPositions.positions.forEach((_n,Ln)=>{Ln===this._document||!_n.clientRect||Pe||On(_n.clientRect,.05,ye,ae)&&([nt,Bt]=function Fa(Se,ye,ae,Pe,nt){const Bt=pr(ye,nt),_n=rc(ye,Pe);let Ln=To.NONE,rs=Ro.NONE;if(Bt){const gs=Se.scrollTop;Bt===To.UP?gs>0&&(Ln=To.UP):Se.scrollHeight-gs>Se.clientHeight&&(Ln=To.DOWN)}if(_n){const gs=Se.scrollLeft;"rtl"===ae?_n===Ro.RIGHT?gs<0&&(rs=Ro.RIGHT):Se.scrollWidth+gs>Se.clientWidth&&(rs=Ro.LEFT):_n===Ro.LEFT?gs>0&&(rs=Ro.LEFT):Se.scrollWidth-gs>Se.clientWidth&&(rs=Ro.RIGHT)}return[Ln,rs]}(Ln,_n.clientRect,this._sortStrategy.direction,ye,ae),(nt||Bt)&&(Pe=Ln))}),!nt&&!Bt){const{width:_n,height:Ln}=this._viewportRuler.getViewportSize(),rs={width:_n,height:Ln,top:0,right:_n,bottom:Ln,left:0};nt=pr(rs,ae),Bt=rc(rs,ye),Pe=window}Pe&&(nt!==this._verticalScrollDirection||Bt!==this._horizontalScrollDirection||Pe!==this._scrollNode)&&(this._verticalScrollDirection=nt,this._horizontalScrollDirection=Bt,this._scrollNode=Pe,(nt||Bt)&&Pe?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const ye=v(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=ye.msScrollSnapType||ye.scrollSnapType||"",ye.scrollSnapType=ye.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const ye=v(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(ye).clientRect}_reset(){this._isDragging=!1;const ye=v(this.element).style;ye.scrollSnapType=ye.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(ae=>ae._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(ye,ae){return null!=this._domRect&&ze(this._domRect,ye,ae)}_getSiblingContainerFromPosition(ye,ae,Pe){return this._siblings.find(nt=>nt._canReceive(ye,ae,Pe))}_canReceive(ye,ae,Pe){if(!this._domRect||!ze(this._domRect,ae,Pe)||!this.enterPredicate(ye,this))return!1;const nt=this._getShadowRoot().elementFromPoint(ae,Pe);if(!nt)return!1;const Bt=v(this.element);return nt===Bt||Bt.contains(nt)}_startReceiving(ye,ae){const Pe=this._activeSiblings;!Pe.has(ye)&&ae.every(nt=>this.enterPredicate(nt,this)||this._draggables.indexOf(nt)>-1)&&(Pe.add(ye),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:ye,receiver:this,items:ae}))}_stopReceiving(ye){this._activeSiblings.delete(ye),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:ye,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(ye=>{if(this.isDragging()){const ae=this._parentPositions.handleScroll(ye);ae&&this._sortStrategy.updateOnScroll(ae.top,ae.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const ye=tt(v(this.element));this._cachedShadowRoot=ye||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const ye=this._sortStrategy.getActiveItemsSnapshot().filter(ae=>ae.isDragging());this._siblings.forEach(ae=>ae._startReceiving(this,ye))}}function pr(Se,ye){const{top:ae,bottom:Pe,height:nt}=Se,Bt=.05*nt;return ye>=ae-Bt&&ye<=ae+Bt?To.UP:ye>=Pe-Bt&&ye<=Pe+Bt?To.DOWN:To.NONE}function rc(Se,ye){const{left:ae,right:Pe,width:nt}=Se,Bt=.05*nt;return ye>=ae-Bt&&ye<=ae+Bt?Ro.LEFT:ye>=Pe-Bt&&ye<=Pe+Bt?Ro.RIGHT:Ro.NONE}const Zs=se({passive:!1,capture:!0}),ac=new Set;let Qa=(()=>{class Se{static{this.\u0275fac=function(Pe){return new(Pe||Se)}}static{this.\u0275cmp=i.VBU({type:Se,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(Pe,nt){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0})}}return Se})(),Bi=(()=>{class Se{constructor(ae,Pe){this._ngZone=ae,this._appRef=(0,i.WQX)(i.o8S),this._environmentInjector=(0,i.WQX)(i.uvJ),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=nt=>nt.isDragging(),this.pointerMove=new _.B,this.pointerUp=new _.B,this.scroll=new _.B,this._preventDefaultWhileDragging=nt=>{this._activeDragInstances.length>0&&nt.preventDefault()},this._persistentTouchmoveListener=nt=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&nt.preventDefault(),this.pointerMove.next(nt))},this._document=Pe}registerDropContainer(ae){this._dropInstances.has(ae)||this._dropInstances.add(ae)}registerDragItem(ae){this._dragInstances.add(ae),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Zs)})}removeDropContainer(ae){this._dropInstances.delete(ae)}removeDragItem(ae){this._dragInstances.delete(ae),this.stopDragging(ae),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Zs)}startDragging(ae,Pe){if(!(this._activeDragInstances.indexOf(ae)>-1)&&(this._loadResets(),this._activeDragInstances.push(ae),1===this._activeDragInstances.length)){const nt=Pe.type.startsWith("touch");this._globalListeners.set(nt?"touchend":"mouseup",{handler:Bt=>this.pointerUp.next(Bt),options:!0}).set("scroll",{handler:Bt=>this.scroll.next(Bt),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Zs}),nt||this._globalListeners.set("mousemove",{handler:Bt=>this.pointerMove.next(Bt),options:Zs}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((Bt,_n)=>{this._document.addEventListener(_n,Bt.handler,Bt.options)})})}}stopDragging(ae){const Pe=this._activeDragInstances.indexOf(ae);Pe>-1&&(this._activeDragInstances.splice(Pe,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(ae){return this._activeDragInstances.indexOf(ae)>-1}scrolled(ae){const Pe=[this.scroll];return ae&&ae!==this._document&&Pe.push(new S.c(nt=>this._ngZone.runOutsideAngular(()=>{const _n=Ln=>{this._activeDragInstances.length&&nt.next(Ln)};return ae.addEventListener("scroll",_n,!0),()=>{ae.removeEventListener("scroll",_n,!0)}}))),(0,os.h)(...Pe)}ngOnDestroy(){this._dragInstances.forEach(ae=>this.removeDragItem(ae)),this._dropInstances.forEach(ae=>this.removeDropContainer(ae)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((ae,Pe)=>{this._document.removeEventListener(Pe,ae.handler,ae.options)}),this._globalListeners.clear()}_loadResets(){if(!ac.has(this._appRef)){ac.add(this._appRef);const ae=(0,i.a0P)(Qa,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{ac.delete(this._appRef),0===ac.size&&ae.destroy()})}}static{this.\u0275fac=function(Pe){return new(Pe||Se)(i.KVO(i.SKi),i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})();const Ms={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let jr=(()=>{class Se{constructor(ae,Pe,nt,Bt){this._document=ae,this._ngZone=Pe,this._viewportRuler=nt,this._dragDropRegistry=Bt}createDrag(ae,Pe=Ms){return new ir(ae,Pe,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(ae){return new fd(ae,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static{this.\u0275fac=function(Pe){return new(Pe||Se)(i.KVO(t.qQ),i.KVO(i.SKi),i.KVO(Be),i.KVO(Bi))}}static{this.\u0275prov=i.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})();const _o=new i.nKC("CDK_DRAG_PARENT"),si=new i.nKC("CdkDragHandle");let Wo=(()=>{class Se{get disabled(){return this._disabled}set disabled(ae){this._disabled=ae,this._stateChanges.next(this)}constructor(ae,Pe){this.element=ae,this._parentDrag=Pe,this._stateChanges=new _.B,this._disabled=!1,Pe?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static{this.\u0275fac=function(Pe){return new(Pe||Se)(i.rXU(i.aKT),i.rXU(_o,12))}}static{this.\u0275dir=i.FsC({type:Se,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDragHandleDisabled","disabled",i.L39]},standalone:!0,features:[i.Jv_([{provide:si,useExisting:Se}]),i.GFd]})}}return Se})();const fl=new i.nKC("CDK_DRAG_CONFIG"),Nl=new i.nKC("CdkDropList");let Ur=(()=>{class Se{static{this._dragInstances=[]}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(ae){this._disabled=ae,this._dragRef.disabled=this._disabled}constructor(ae,Pe,nt,Bt,_n,Ln,rs,gs,vs,Ji,Oa){this.element=ae,this.dropContainer=Pe,this._ngZone=Bt,this._viewContainerRef=_n,this._dir=rs,this._changeDetectorRef=vs,this._selfHandle=Ji,this._parentDrag=Oa,this._destroyed=new _.B,this._handles=new Us.t([]),this.started=new i.bkB,this.released=new i.bkB,this.ended=new i.bkB,this.entered=new i.bkB,this.exited=new i.bkB,this.dropped=new i.bkB,this.moved=new S.c(ml=>{const Za=this._dragRef.moved.pipe((0,Ir.T)(qa=>({source:this,pointerPosition:qa.pointerPosition,event:qa.event,delta:qa.delta,distance:qa.distance}))).subscribe(ml);return()=>{Za.unsubscribe()}}),this._dragRef=gs.createDrag(ae,{dragStartThreshold:Ln&&null!=Ln.dragStartThreshold?Ln.dragStartThreshold:5,pointerDirectionChangeThreshold:Ln&&null!=Ln.pointerDirectionChangeThreshold?Ln.pointerDirectionChangeThreshold:5,zIndex:Ln?.zIndex}),this._dragRef.data=this,Se._dragInstances.push(this),Ln&&this._assignDefaults(Ln),Pe&&(this._dragRef._withDropContainer(Pe._dropListRef),Pe.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(ae){this._dragRef.setFreeDragPosition(ae)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,bo.s)(1),(0,Qn.Q)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(ae){const Pe=ae.rootElementSelector,nt=ae.freeDragPosition;Pe&&!Pe.firstChange&&this._updateRootElement(),nt&&!nt.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const ae=Se._dragInstances.indexOf(this);ae>-1&&Se._dragInstances.splice(ae,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(ae){const Pe=this._handles.getValue();Pe.push(ae),this._handles.next(Pe)}_removeHandle(ae){const Pe=this._handles.getValue(),nt=Pe.indexOf(ae);nt>-1&&(Pe.splice(nt,1),this._handles.next(Pe))}_setPreviewTemplate(ae){this._previewTemplate=ae}_resetPreviewTemplate(ae){ae===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(ae){this._placeholderTemplate=ae}_resetPlaceholderTemplate(ae){ae===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const ae=this.element.nativeElement;let Pe=ae;this.rootElementSelector&&(Pe=void 0!==ae.closest?ae.closest(this.rootElementSelector):ae.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(Pe||ae)}_getBoundaryElement(){const ae=this.boundaryElement;return ae?"string"==typeof ae?this.element.nativeElement.closest(ae):v(ae):null}_syncInputs(ae){ae.beforeStarted.subscribe(()=>{if(!ae.isDragging()){const Pe=this._dir,nt=this.dragStartDelay,Bt=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,_n=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;ae.disabled=this.disabled,ae.lockAxis=this.lockAxis,ae.dragStartDelay="object"==typeof nt&&nt?nt:e(nt),ae.constrainPosition=this.constrainPosition,ae.previewClass=this.previewClass,ae.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(Bt).withPreviewTemplate(_n).withPreviewContainer(this.previewContainer||"global"),Pe&&ae.withDirection(Pe.value)}}),ae.beforeStarted.pipe((0,bo.s)(1)).subscribe(()=>{if(this._parentDrag)return void ae.withParent(this._parentDrag._dragRef);let Pe=this.element.nativeElement.parentElement;for(;Pe;){if(Pe.classList.contains("cdk-drag")){ae.withParent(Se._dragInstances.find(nt=>nt.element.nativeElement===Pe)?._dragRef||null);break}Pe=Pe.parentElement}})}_handleEvents(ae){ae.started.subscribe(Pe=>{this.started.emit({source:this,event:Pe.event}),this._changeDetectorRef.markForCheck()}),ae.released.subscribe(Pe=>{this.released.emit({source:this,event:Pe.event})}),ae.ended.subscribe(Pe=>{this.ended.emit({source:this,distance:Pe.distance,dropPoint:Pe.dropPoint,event:Pe.event}),this._changeDetectorRef.markForCheck()}),ae.entered.subscribe(Pe=>{this.entered.emit({container:Pe.container.data,item:this,currentIndex:Pe.currentIndex})}),ae.exited.subscribe(Pe=>{this.exited.emit({container:Pe.container.data,item:this})}),ae.dropped.subscribe(Pe=>{this.dropped.emit({previousIndex:Pe.previousIndex,currentIndex:Pe.currentIndex,previousContainer:Pe.previousContainer.data,container:Pe.container.data,isPointerOverContainer:Pe.isPointerOverContainer,item:this,distance:Pe.distance,dropPoint:Pe.dropPoint,event:Pe.event})})}_assignDefaults(ae){const{lockAxis:Pe,dragStartDelay:nt,constrainPosition:Bt,previewClass:_n,boundaryElement:Ln,draggingDisabled:rs,rootElementSelector:gs,previewContainer:vs}=ae;this.disabled=rs??!1,this.dragStartDelay=nt||0,Pe&&(this.lockAxis=Pe),Bt&&(this.constrainPosition=Bt),_n&&(this.previewClass=_n),Ln&&(this.boundaryElement=Ln),gs&&(this.rootElementSelector=gs),vs&&(this.previewContainer=vs)}_setupHandlesListener(){this._handles.pipe((0,mo.M)(ae=>{const Pe=ae.map(nt=>nt.element);this._selfHandle&&this.rootElementSelector&&Pe.push(this.element),this._dragRef.withHandles(Pe)}),(0,_i.n)(ae=>(0,os.h)(...ae.map(Pe=>Pe._stateChanges.pipe((0,Ni.Z)(Pe))))),(0,Qn.Q)(this._destroyed)).subscribe(ae=>{const Pe=this._dragRef,nt=ae.element.nativeElement;ae.disabled?Pe.disableHandle(nt):Pe.enableHandle(nt)})}static{this.\u0275fac=function(Pe){return new(Pe||Se)(i.rXU(i.aKT),i.rXU(Nl,12),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.c1b),i.rXU(fl,8),i.rXU(qi.dS,8),i.rXU(jr),i.rXU(i.gRc),i.rXU(si,10),i.rXU(_o,12))}}static{this.\u0275dir=i.FsC({type:Se,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(Pe,nt){2&Pe&&i.AVh("cdk-drag-disabled",nt.disabled)("cdk-drag-dragging",nt._dragRef.isDragging())},inputs:{data:[i.Mj6.None,"cdkDragData","data"],lockAxis:[i.Mj6.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[i.Mj6.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[i.Mj6.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[i.Mj6.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[i.Mj6.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDragDisabled","disabled",i.L39],constrainPosition:[i.Mj6.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[i.Mj6.None,"cdkDragPreviewClass","previewClass"],previewContainer:[i.Mj6.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[i.Jv_([{provide:_o,useExisting:Se}]),i.GFd,i.OA$]})}}return Se})();const Fl=new i.nKC("CdkDropListGroup");let au=0,Bl=(()=>{class Se{static{this._dropLists=[]}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(ae){this._dropListRef.disabled=this._disabled=ae}constructor(ae,Pe,nt,Bt,_n,Ln,rs){this.element=ae,this._changeDetectorRef=nt,this._scrollDispatcher=Bt,this._dir=_n,this._group=Ln,this._destroyed=new _.B,this.connectedTo=[],this.id="cdk-drop-list-"+au++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new i.bkB,this.entered=new i.bkB,this.exited=new i.bkB,this.sorted=new i.bkB,this._unsortedItems=new Set,this._dropListRef=Pe.createDropList(ae),this._dropListRef.data=this,rs&&this._assignDefaults(rs),this._dropListRef.enterPredicate=(gs,vs)=>this.enterPredicate(gs.data,vs.data),this._dropListRef.sortPredicate=(gs,vs,Ji)=>this.sortPredicate(gs,vs.data,Ji.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),Se._dropLists.push(this),Ln&&Ln._items.add(this)}addItem(ae){this._unsortedItems.add(ae),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(ae){this._unsortedItems.delete(ae),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((ae,Pe)=>ae._dragRef.getVisibleElement().compareDocumentPosition(Pe._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const ae=Se._dropLists.indexOf(this);ae>-1&&Se._dropLists.splice(ae,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(ae){this._dir&&this._dir.change.pipe((0,Ni.Z)(this._dir.value),(0,Qn.Q)(this._destroyed)).subscribe(Pe=>ae.withDirection(Pe)),ae.beforeStarted.subscribe(()=>{const Pe=function m(Se){return Array.isArray(Se)?Se:[Se]}(this.connectedTo).map(nt=>"string"==typeof nt?Se._dropLists.find(_n=>_n.id===nt):nt);if(this._group&&this._group._items.forEach(nt=>{-1===Pe.indexOf(nt)&&Pe.push(nt)}),!this._scrollableParentsResolved){const nt=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(Bt=>Bt.getElementRef().nativeElement);this._dropListRef.withScrollableParents(nt),this._scrollableParentsResolved=!0}ae.disabled=this.disabled,ae.lockAxis=this.lockAxis,ae.sortingDisabled=this.sortingDisabled,ae.autoScrollDisabled=this.autoScrollDisabled,ae.autoScrollStep=e(this.autoScrollStep,2),ae.connectedTo(Pe.filter(nt=>nt&&nt!==this).map(nt=>nt._dropListRef)).withOrientation(this.orientation)})}_handleEvents(ae){ae.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),ae.entered.subscribe(Pe=>{this.entered.emit({container:this,item:Pe.item.data,currentIndex:Pe.currentIndex})}),ae.exited.subscribe(Pe=>{this.exited.emit({container:this,item:Pe.item.data}),this._changeDetectorRef.markForCheck()}),ae.sorted.subscribe(Pe=>{this.sorted.emit({previousIndex:Pe.previousIndex,currentIndex:Pe.currentIndex,container:this,item:Pe.item.data})}),ae.dropped.subscribe(Pe=>{this.dropped.emit({previousIndex:Pe.previousIndex,currentIndex:Pe.currentIndex,previousContainer:Pe.previousContainer.data,container:Pe.container.data,item:Pe.item.data,isPointerOverContainer:Pe.isPointerOverContainer,distance:Pe.distance,dropPoint:Pe.dropPoint,event:Pe.event}),this._changeDetectorRef.markForCheck()}),(0,os.h)(ae.receivingStarted,ae.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(ae){const{lockAxis:Pe,draggingDisabled:nt,sortingDisabled:Bt,listAutoScrollDisabled:_n,listOrientation:Ln}=ae;this.disabled=nt??!1,this.sortingDisabled=Bt??!1,this.autoScrollDisabled=_n??!1,this.orientation=Ln||"vertical",Pe&&(this.lockAxis=Pe)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(ae=>ae._dragRef))}static{this.\u0275fac=function(Pe){return new(Pe||Se)(i.rXU(i.aKT),i.rXU(jr),i.rXU(i.gRc),i.rXU(mt),i.rXU(qi.dS,8),i.rXU(Fl,12),i.rXU(fl,8))}}static{this.\u0275dir=i.FsC({type:Se,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(Pe,nt){2&Pe&&(i.BMQ("id",nt.id),i.AVh("cdk-drop-list-disabled",nt.disabled)("cdk-drop-list-dragging",nt._dropListRef.isDragging())("cdk-drop-list-receiving",nt._dropListRef.isReceiving()))},inputs:{connectedTo:[i.Mj6.None,"cdkDropListConnectedTo","connectedTo"],data:[i.Mj6.None,"cdkDropListData","data"],orientation:[i.Mj6.None,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[i.Mj6.None,"cdkDropListLockAxis","lockAxis"],disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDropListDisabled","disabled",i.L39],sortingDisabled:[i.Mj6.HasDecoratorInputTransform,"cdkDropListSortingDisabled","sortingDisabled",i.L39],enterPredicate:[i.Mj6.None,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[i.Mj6.None,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[i.Mj6.HasDecoratorInputTransform,"cdkDropListAutoScrollDisabled","autoScrollDisabled",i.L39],autoScrollStep:[i.Mj6.None,"cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[i.Jv_([{provide:Fl,useValue:void 0},{provide:Nl,useExisting:Se}]),i.GFd]})}}return Se})()},60177:(F,b,n)=>{"use strict";n.d(b,{AJ:()=>Qo,B3:()=>to,GH:()=>Qt,Jj:()=>on,MD:()=>Jr,N0:()=>xn,OI:()=>lt,PV:()=>qn,QT:()=>u,QX:()=>Yr,Sm:()=>p,Sq:()=>Wt,T3:()=>As,UE:()=>rr,VF:()=>h,Vy:()=>Qr,XO:()=>J,Xr:()=>qe,YU:()=>sn,Yq:()=>un,ZD:()=>e,_b:()=>_t,aZ:()=>D,bT:()=>Yn,cH:()=>X,e1:()=>Cs,fw:()=>L,hb:()=>T,hj:()=>E,kB:()=>A,lG:()=>yr,oV:()=>K,pM:()=>Wt,qQ:()=>f,rd:()=>Z,tL:()=>Q,ux:()=>hs,vh:()=>pi});var i=n(54438);let t=null;function u(){return t}function e(he){t??=he}class h{}const f=new i.nKC("");let v=(()=>{class he{historyGo(Re){throw new Error("")}static{this.\u0275fac=function(ze){return new(ze||he)}}static{this.\u0275prov=i.jDH({token:he,factory:()=>(0,i.WQX)(_),providedIn:"platform"})}}return he})();const E=new i.nKC("");let _=(()=>{class he extends v{constructor(){super(),this._doc=(0,i.WQX)(f),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return u().getBaseHref(this._doc)}onPopState(Re){const ze=u().getGlobalEventTarget(this._doc,"window");return ze.addEventListener("popstate",Re,!1),()=>ze.removeEventListener("popstate",Re)}onHashChange(Re){const ze=u().getGlobalEventTarget(this._doc,"window");return ze.addEventListener("hashchange",Re,!1),()=>ze.removeEventListener("hashchange",Re)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Re){this._location.pathname=Re}pushState(Re,ze,Lt){this._history.pushState(Re,ze,Lt)}replaceState(Re,ze,Lt){this._history.replaceState(Re,ze,Lt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Re=0){this._history.go(Re)}getState(){return this._history.state}static{this.\u0275fac=function(ze){return new(ze||he)}}static{this.\u0275prov=i.jDH({token:he,factory:()=>new he,providedIn:"platform"})}}return he})();function C(he,Je){if(0==he.length)return Je;if(0==Je.length)return he;let Re=0;return he.endsWith("/")&&Re++,Je.startsWith("/")&&Re++,2==Re?he+Je.substring(1):1==Re?he+Je:he+"/"+Je}function S(he){const Je=he.match(/#|\?|$/),Re=Je&&Je.index||he.length;return he.slice(0,Re-("/"===he[Re-1]?1:0))+he.slice(Re)}function R(he){return he&&"?"!==he[0]?"?"+he:he}let T=(()=>{class he{historyGo(Re){throw new Error("")}static{this.\u0275fac=function(ze){return new(ze||he)}}static{this.\u0275prov=i.jDH({token:he,factory:()=>(0,i.WQX)(p),providedIn:"root"})}}return he})();const A=new i.nKC("");let p=(()=>{class he extends T{constructor(Re,ze){super(),this._platformLocation=Re,this._removeListenerFns=[],this._baseHref=ze??this._platformLocation.getBaseHrefFromDOM()??(0,i.WQX)(f).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Re){this._removeListenerFns.push(this._platformLocation.onPopState(Re),this._platformLocation.onHashChange(Re))}getBaseHref(){return this._baseHref}prepareExternalUrl(Re){return C(this._baseHref,Re)}path(Re=!1){const ze=this._platformLocation.pathname+R(this._platformLocation.search),Lt=this._platformLocation.hash;return Lt&&Re?`${ze}${Lt}`:ze}pushState(Re,ze,Lt,On){const Un=this.prepareExternalUrl(Lt+R(On));this._platformLocation.pushState(Re,ze,Un)}replaceState(Re,ze,Lt,On){const Un=this.prepareExternalUrl(Lt+R(On));this._platformLocation.replaceState(Re,ze,Un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Re=0){this._platformLocation.historyGo?.(Re)}static{this.\u0275fac=function(ze){return new(ze||he)(i.KVO(v),i.KVO(A,8))}}static{this.\u0275prov=i.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}}return he})(),L=(()=>{class he extends T{constructor(Re,ze){super(),this._platformLocation=Re,this._baseHref="",this._removeListenerFns=[],null!=ze&&(this._baseHref=ze)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Re){this._removeListenerFns.push(this._platformLocation.onPopState(Re),this._platformLocation.onHashChange(Re))}getBaseHref(){return this._baseHref}path(Re=!1){const ze=this._platformLocation.hash??"#";return ze.length>0?ze.substring(1):ze}prepareExternalUrl(Re){const ze=C(this._baseHref,Re);return ze.length>0?"#"+ze:ze}pushState(Re,ze,Lt,On){let Un=this.prepareExternalUrl(Lt+R(On));0==Un.length&&(Un=this._platformLocation.pathname),this._platformLocation.pushState(Re,ze,Un)}replaceState(Re,ze,Lt,On){let Un=this.prepareExternalUrl(Lt+R(On));0==Un.length&&(Un=this._platformLocation.pathname),this._platformLocation.replaceState(Re,ze,Un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Re=0){this._platformLocation.historyGo?.(Re)}static{this.\u0275fac=function(ze){return new(ze||he)(i.KVO(v),i.KVO(A,8))}}static{this.\u0275prov=i.jDH({token:he,factory:he.\u0275fac})}}return he})(),D=(()=>{class he{constructor(Re){this._subject=new i.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Re;const ze=this._locationStrategy.getBaseHref();this._basePath=function j(he){if(new RegExp("^(https?:)?//").test(he)){const[,Re]=he.split(/\/\/[^\/]+/);return Re}return he}(S(x(ze))),this._locationStrategy.onPopState(Lt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Lt.state,type:Lt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Re=!1){return this.normalize(this._locationStrategy.path(Re))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Re,ze=""){return this.path()==this.normalize(Re+R(ze))}normalize(Re){return he.stripTrailingSlash(function M(he,Je){if(!he||!Je.startsWith(he))return Je;const Re=Je.substring(he.length);return""===Re||["/",";","?","#"].includes(Re[0])?Re:Je}(this._basePath,x(Re)))}prepareExternalUrl(Re){return Re&&"/"!==Re[0]&&(Re="/"+Re),this._locationStrategy.prepareExternalUrl(Re)}go(Re,ze="",Lt=null){this._locationStrategy.pushState(Lt,"",Re,ze),this._notifyUrlChangeListeners(this.prepareExternalUrl(Re+R(ze)),Lt)}replaceState(Re,ze="",Lt=null){this._locationStrategy.replaceState(Lt,"",Re,ze),this._notifyUrlChangeListeners(this.prepareExternalUrl(Re+R(ze)),Lt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Re=0){this._locationStrategy.historyGo?.(Re)}onUrlChange(Re){return this._urlChangeListeners.push(Re),this._urlChangeSubscription??=this.subscribe(ze=>{this._notifyUrlChangeListeners(ze.url,ze.state)}),()=>{const ze=this._urlChangeListeners.indexOf(Re);this._urlChangeListeners.splice(ze,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Re="",ze){this._urlChangeListeners.forEach(Lt=>Lt(Re,ze))}subscribe(Re,ze,Lt){return this._subject.subscribe({next:Re,error:ze,complete:Lt})}static{this.normalizeQueryParams=R}static{this.joinWithSlash=C}static{this.stripTrailingSlash=S}static{this.\u0275fac=function(ze){return new(ze||he)(i.KVO(T))}}static{this.\u0275prov=i.jDH({token:he,factory:()=>function w(){return new D((0,i.KVO)(T))}(),providedIn:"root"})}}return he})();function x(he){return he.replace(/\/index.html$/,"")}var $=function(he){return he[he.Decimal=0]="Decimal",he[he.Percent=1]="Percent",he[he.Currency=2]="Currency",he[he.Scientific=3]="Scientific",he}($||{}),K=function(he){return he[he.Format=0]="Format",he[he.Standalone=1]="Standalone",he}(K||{}),X=function(he){return he[he.Narrow=0]="Narrow",he[he.Abbreviated=1]="Abbreviated",he[he.Wide=2]="Wide",he[he.Short=3]="Short",he}(X||{}),G=function(he){return he[he.Short=0]="Short",he[he.Medium=1]="Medium",he[he.Long=2]="Long",he[he.Full=3]="Full",he}(G||{});const q={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Z(he,Je,Re){const ze=(0,i.H5H)(he),On=pt([ze[i.KH2.DayPeriodsFormat],ze[i.KH2.DayPeriodsStandalone]],Je);return pt(On,Re)}function J(he,Je,Re){const ze=(0,i.H5H)(he),On=pt([ze[i.KH2.DaysFormat],ze[i.KH2.DaysStandalone]],Je);return pt(On,Re)}function Q(he,Je,Re){const ze=(0,i.H5H)(he),On=pt([ze[i.KH2.MonthsFormat],ze[i.KH2.MonthsStandalone]],Je);return pt(On,Re)}function fe(he,Je){return pt((0,i.H5H)(he)[i.KH2.DateFormat],Je)}function se(he,Je){return pt((0,i.H5H)(he)[i.KH2.TimeFormat],Je)}function ce(he,Je){return pt((0,i.H5H)(he)[i.KH2.DateTimeFormat],Je)}function Te(he,Je){const Re=(0,i.H5H)(he),ze=Re[i.KH2.NumberSymbols][Je];if(typeof ze>"u"){if(Je===q.CurrencyDecimal)return Re[i.KH2.NumberSymbols][q.Decimal];if(Je===q.CurrencyGroup)return Re[i.KH2.NumberSymbols][q.Group]}return ze}function ht(he){if(!he[i.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${he[i.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function pt(he,Je){for(let Re=Je;Re>-1;Re--)if(typeof he[Re]<"u")return he[Re];throw new Error("Locale data API: locale data undefined")}function Mt(he){const[Je,Re]=he.split(":");return{hours:+Je,minutes:+Re}}const Zt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mt={},Pt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ce=function(he){return he[he.Short=0]="Short",he[he.ShortGMT=1]="ShortGMT",he[he.Long=2]="Long",he[he.Extended=3]="Extended",he}(Ce||{}),Be=function(he){return he[he.FullYear=0]="FullYear",he[he.Month=1]="Month",he[he.Date=2]="Date",he[he.Hours=3]="Hours",he[he.Minutes=4]="Minutes",he[he.Seconds=5]="Seconds",he[he.FractionalSeconds=6]="FractionalSeconds",he[he.Day=7]="Day",he}(Be||{}),ut=function(he){return he[he.DayPeriods=0]="DayPeriods",he[he.Days=1]="Days",he[he.Months=2]="Months",he[he.Eras=3]="Eras",he}(ut||{});function un(he,Je,Re,ze){let Lt=function Qe(he){if(ke(he))return he;if("number"==typeof he&&!isNaN(he))return new Date(he);if("string"==typeof he){if(he=he.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(he)){const[Lt,On=1,Un=1]=he.split("-").map(fs=>+fs);return rn(Lt,On-1,Un)}const Re=parseFloat(he);if(!isNaN(he-Re))return new Date(Re);let ze;if(ze=he.match(Zt))return function st(he){const Je=new Date(0);let Re=0,ze=0;const Lt=he[8]?Je.setUTCFullYear:Je.setFullYear,On=he[8]?Je.setUTCHours:Je.setHours;he[9]&&(Re=Number(he[9]+he[10]),ze=Number(he[9]+he[11])),Lt.call(Je,Number(he[1]),Number(he[2])-1,Number(he[3]));const Un=Number(he[4]||0)-Re,fs=Number(he[5]||0)-ze,Ri=Number(he[6]||0),Ns=Math.floor(1e3*parseFloat("0."+(he[7]||0)));return On.call(Je,Un,fs,Ri,Ns),Je}(ze)}const Je=new Date(he);if(!ke(Je))throw new Error(`Unable to convert "${he}" into a date`);return Je}(he);Je=Pn(Re,Je)||Je;let fs,Un=[];for(;Je;){if(fs=Pt.exec(Je),!fs){Un.push(Je);break}{Un=Un.concat(fs.slice(1));const Xn=Un.pop();if(!Xn)break;Je=Xn}}let Ri=Lt.getTimezoneOffset();ze&&(Ri=Ke(ze,Ri),Lt=function At(he,Je,Re){const ze=Re?-1:1,Lt=he.getTimezoneOffset();return function je(he,Je){return(he=new Date(he.getTime())).setMinutes(he.getMinutes()+Je),he}(he,ze*(Ke(Je,Lt)-Lt))}(Lt,ze,!0));let Ns="";return Un.forEach(Xn=>{const hi=function Ve(he){if(xe[he])return xe[he];let Je;switch(he){case"G":case"GG":case"GGG":Je=St(ut.Eras,X.Abbreviated);break;case"GGGG":Je=St(ut.Eras,X.Wide);break;case"GGGGG":Je=St(ut.Eras,X.Narrow);break;case"y":Je=nn(Be.FullYear,1,0,!1,!0);break;case"yy":Je=nn(Be.FullYear,2,0,!0,!0);break;case"yyy":Je=nn(Be.FullYear,3,0,!1,!0);break;case"yyyy":Je=nn(Be.FullYear,4,0,!1,!0);break;case"Y":Je=it(1);break;case"YY":Je=it(2,!0);break;case"YYY":Je=it(3);break;case"YYYY":Je=it(4);break;case"M":case"L":Je=nn(Be.Month,1,1);break;case"MM":case"LL":Je=nn(Be.Month,2,1);break;case"MMM":Je=St(ut.Months,X.Abbreviated);break;case"MMMM":Je=St(ut.Months,X.Wide);break;case"MMMMM":Je=St(ut.Months,X.Narrow);break;case"LLL":Je=St(ut.Months,X.Abbreviated,K.Standalone);break;case"LLLL":Je=St(ut.Months,X.Wide,K.Standalone);break;case"LLLLL":Je=St(ut.Months,X.Narrow,K.Standalone);break;case"w":Je=Ft(1);break;case"ww":Je=Ft(2);break;case"W":Je=Ft(1,!0);break;case"d":Je=nn(Be.Date,1);break;case"dd":Je=nn(Be.Date,2);break;case"c":case"cc":Je=nn(Be.Day,1);break;case"ccc":Je=St(ut.Days,X.Abbreviated,K.Standalone);break;case"cccc":Je=St(ut.Days,X.Wide,K.Standalone);break;case"ccccc":Je=St(ut.Days,X.Narrow,K.Standalone);break;case"cccccc":Je=St(ut.Days,X.Short,K.Standalone);break;case"E":case"EE":case"EEE":Je=St(ut.Days,X.Abbreviated);break;case"EEEE":Je=St(ut.Days,X.Wide);break;case"EEEEE":Je=St(ut.Days,X.Narrow);break;case"EEEEEE":Je=St(ut.Days,X.Short);break;case"a":case"aa":case"aaa":Je=St(ut.DayPeriods,X.Abbreviated);break;case"aaaa":Je=St(ut.DayPeriods,X.Wide);break;case"aaaaa":Je=St(ut.DayPeriods,X.Narrow);break;case"b":case"bb":case"bbb":Je=St(ut.DayPeriods,X.Abbreviated,K.Standalone,!0);break;case"bbbb":Je=St(ut.DayPeriods,X.Wide,K.Standalone,!0);break;case"bbbbb":Je=St(ut.DayPeriods,X.Narrow,K.Standalone,!0);break;case"B":case"BB":case"BBB":Je=St(ut.DayPeriods,X.Abbreviated,K.Format,!0);break;case"BBBB":Je=St(ut.DayPeriods,X.Wide,K.Format,!0);break;case"BBBBB":Je=St(ut.DayPeriods,X.Narrow,K.Format,!0);break;case"h":Je=nn(Be.Hours,1,-12);break;case"hh":Je=nn(Be.Hours,2,-12);break;case"H":Je=nn(Be.Hours,1);break;case"HH":Je=nn(Be.Hours,2);break;case"m":Je=nn(Be.Minutes,1);break;case"mm":Je=nn(Be.Minutes,2);break;case"s":Je=nn(Be.Seconds,1);break;case"ss":Je=nn(Be.Seconds,2);break;case"S":Je=nn(Be.FractionalSeconds,1);break;case"SS":Je=nn(Be.FractionalSeconds,2);break;case"SSS":Je=nn(Be.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Je=Yt(Ce.Short);break;case"ZZZZZ":Je=Yt(Ce.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Je=Yt(Ce.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Je=Yt(Ce.Long);break;default:return null}return xe[he]=Je,Je}(Xn);Ns+=hi?hi(Lt,Re,Ri):"''"===Xn?"'":Xn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ns}function rn(he,Je,Re){const ze=new Date(0);return ze.setFullYear(he,Je,Re),ze.setHours(0,0,0),ze}function Pn(he,Je){const Re=function te(he){return(0,i.H5H)(he)[i.KH2.LocaleId]}(he);if(mt[Re]??={},mt[Re][Je])return mt[Re][Je];let ze="";switch(Je){case"shortDate":ze=fe(he,G.Short);break;case"mediumDate":ze=fe(he,G.Medium);break;case"longDate":ze=fe(he,G.Long);break;case"fullDate":ze=fe(he,G.Full);break;case"shortTime":ze=se(he,G.Short);break;case"mediumTime":ze=se(he,G.Medium);break;case"longTime":ze=se(he,G.Long);break;case"fullTime":ze=se(he,G.Full);break;case"short":const Lt=Pn(he,"shortTime"),On=Pn(he,"shortDate");ze=yt(ce(he,G.Short),[Lt,On]);break;case"medium":const Un=Pn(he,"mediumTime"),fs=Pn(he,"mediumDate");ze=yt(ce(he,G.Medium),[Un,fs]);break;case"long":const Ri=Pn(he,"longTime"),Ns=Pn(he,"longDate");ze=yt(ce(he,G.Long),[Ri,Ns]);break;case"full":const Xn=Pn(he,"fullTime"),hi=Pn(he,"fullDate");ze=yt(ce(he,G.Full),[Xn,hi])}return ze&&(mt[Re][Je]=ze),ze}function yt(he,Je){return Je&&(he=he.replace(/\{([^}]+)}/g,function(Re,ze){return null!=Je&&ze in Je?Je[ze]:Re})),he}function Kt(he,Je,Re="-",ze,Lt){let On="";(he<0||Lt&&he<=0)&&(Lt?he=1-he:(he=-he,On=Re));let Un=String(he);for(;Un.length<Je;)Un="0"+Un;return ze&&(Un=Un.slice(Un.length-Je)),On+Un}function nn(he,Je,Re=0,ze=!1,Lt=!1){return function(On,Un){let fs=function gn(he,Je){switch(he){case Be.FullYear:return Je.getFullYear();case Be.Month:return Je.getMonth();case Be.Date:return Je.getDate();case Be.Hours:return Je.getHours();case Be.Minutes:return Je.getMinutes();case Be.Seconds:return Je.getSeconds();case Be.FractionalSeconds:return Je.getMilliseconds();case Be.Day:return Je.getDay();default:throw new Error(`Unknown DateType value "${he}".`)}}(he,On);if((Re>0||fs>-Re)&&(fs+=Re),he===Be.Hours)0===fs&&-12===Re&&(fs=12);else if(he===Be.FractionalSeconds)return function Rt(he,Je){return Kt(he,3).substring(0,Je)}(fs,Je);const Ri=Te(Un,q.MinusSign);return Kt(fs,Je,Ri,ze,Lt)}}function St(he,Je,Re=K.Format,ze=!1){return function(Lt,On){return function zt(he,Je,Re,ze,Lt,On){switch(Re){case ut.Months:return Q(Je,Lt,ze)[he.getMonth()];case ut.Days:return J(Je,Lt,ze)[he.getDay()];case ut.DayPeriods:const Un=he.getHours(),fs=he.getMinutes();if(On){const Ns=function Fe(he){const Je=(0,i.H5H)(he);return ht(Je),(Je[i.KH2.ExtraData][2]||[]).map(ze=>"string"==typeof ze?Mt(ze):[Mt(ze[0]),Mt(ze[1])])}(Je),Xn=function Et(he,Je,Re){const ze=(0,i.H5H)(he);ht(ze);const On=pt([ze[i.KH2.ExtraData][0],ze[i.KH2.ExtraData][1]],Je)||[];return pt(On,Re)||[]}(Je,Lt,ze),hi=Ns.findIndex(Fi=>{if(Array.isArray(Fi)){const[Di,Io]=Fi,Go=Un>=Di.hours&&fs>=Di.minutes,Ai=Un<Io.hours||Un===Io.hours&&fs<Io.minutes;if(Di.hours<Io.hours){if(Go&&Ai)return!0}else if(Go||Ai)return!0}else if(Fi.hours===Un&&Fi.minutes===fs)return!0;return!1});if(-1!==hi)return Xn[hi]}return Z(Je,Lt,ze)[Un<12?0:1];case ut.Eras:return function ee(he,Je){return pt((0,i.H5H)(he)[i.KH2.Eras],Je)}(Je,ze)[he.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Re}`)}}(Lt,On,he,Je,Re,ze)}}function Yt(he){return function(Je,Re,ze){const Lt=-1*ze,On=Te(Re,q.MinusSign),Un=Lt>0?Math.floor(Lt/60):Math.ceil(Lt/60);switch(he){case Ce.Short:return(Lt>=0?"+":"")+Kt(Un,2,On)+Kt(Math.abs(Lt%60),2,On);case Ce.ShortGMT:return"GMT"+(Lt>=0?"+":"")+Kt(Un,1,On);case Ce.Long:return"GMT"+(Lt>=0?"+":"")+Kt(Un,2,On)+":"+Kt(Math.abs(Lt%60),2,On);case Ce.Extended:return 0===ze?"Z":(Lt>=0?"+":"")+Kt(Un,2,On)+":"+Kt(Math.abs(Lt%60),2,On);default:throw new Error(`Unknown zone width "${he}"`)}}}const wt=0,bt=4;function Tt(he){const Je=he.getDay(),Re=0===Je?-3:bt-Je;return rn(he.getFullYear(),he.getMonth(),he.getDate()+Re)}function Ft(he,Je=!1){return function(Re,ze){let Lt;if(Je){const On=new Date(Re.getFullYear(),Re.getMonth(),1).getDay()-1,Un=Re.getDate();Lt=1+Math.floor((Un+On)/7)}else{const On=Tt(Re),Un=function Jt(he){const Je=rn(he,wt,1).getDay();return rn(he,0,1+(Je<=bt?bt:bt+7)-Je)}(On.getFullYear()),fs=On.getTime()-Un.getTime();Lt=1+Math.round(fs/6048e5)}return Kt(Lt,he,Te(ze,q.MinusSign))}}function it(he,Je=!1){return function(Re,ze){return Kt(Tt(Re).getFullYear(),he,Te(ze,q.MinusSign),Je)}}const xe={};function Ke(he,Je){he=he.replace(/:/g,"");const Re=Date.parse("Jan 01, 1970 00:00:00 "+he)/6e4;return isNaN(Re)?Je:Re}function ke(he){return he instanceof Date&&!isNaN(he.valueOf())}const Le=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function cn(he){const Je=parseInt(he);if(isNaN(Je))throw new Error("Invalid integer literal when parsing "+he);return Je}function _t(he,Je){Je=encodeURIComponent(Je);for(const Re of he.split(";")){const ze=Re.indexOf("="),[Lt,On]=-1==ze?[Re,""]:[Re.slice(0,ze),Re.slice(ze+1)];if(Lt.trim()===Je)return decodeURIComponent(On)}return null}const Ht=/\s+/,We=[];let sn=(()=>{class he{constructor(Re,ze){this._ngEl=Re,this._renderer=ze,this.initialClasses=We,this.stateMap=new Map}set klass(Re){this.initialClasses=null!=Re?Re.trim().split(Ht):We}set ngClass(Re){this.rawClass="string"==typeof Re?Re.trim().split(Ht):Re}ngDoCheck(){for(const ze of this.initialClasses)this._updateState(ze,!0);const Re=this.rawClass;if(Array.isArray(Re)||Re instanceof Set)for(const ze of Re)this._updateState(ze,!0);else if(null!=Re)for(const ze of Object.keys(Re))this._updateState(ze,!!Re[ze]);this._applyStateDiff()}_updateState(Re,ze){const Lt=this.stateMap.get(Re);void 0!==Lt?(Lt.enabled!==ze&&(Lt.changed=!0,Lt.enabled=ze),Lt.touched=!0):this.stateMap.set(Re,{enabled:ze,changed:!0,touched:!0})}_applyStateDiff(){for(const Re of this.stateMap){const ze=Re[0],Lt=Re[1];Lt.changed?(this._toggleClass(ze,Lt.enabled),Lt.changed=!1):Lt.touched||(Lt.enabled&&this._toggleClass(ze,!1),this.stateMap.delete(ze)),Lt.touched=!1}}_toggleClass(Re,ze){(Re=Re.trim()).length>0&&Re.split(Ht).forEach(Lt=>{ze?this._renderer.addClass(this._ngEl.nativeElement,Lt):this._renderer.removeClass(this._ngEl.nativeElement,Lt)})}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:he,selectors:[["","ngClass",""]],inputs:{klass:[i.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return he})(),lt=(()=>{class he{constructor(Re){this._viewContainerRef=Re,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(Re){return void 0!==Re.ngComponentOutletNgModule||void 0!==Re.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(Re){return void 0!==Re.ngComponentOutlet||void 0!==Re.ngComponentOutletContent||void 0!==Re.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(Re)}ngOnChanges(Re){if(this._needToReCreateComponentInstance(Re)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const ze=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(Re)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,i.w6W)(this.ngComponentOutletNgModule,gt(ze)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(gt(ze)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:ze,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const Re of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(Re,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(Re){for(const[ze,Lt]of this._inputsUsed)Lt?(Re.setInput(ze,this.ngComponentOutletInputs[ze]),this._inputsUsed.set(ze,!1)):(Re.setInput(ze,void 0),this._inputsUsed.delete(ze))}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:he,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[i.OA$]})}}return he})();function gt(he){return he.get(i.Vns).injector}class Ct{constructor(Je,Re,ze,Lt){this.$implicit=Je,this.ngForOf=Re,this.index=ze,this.count=Lt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wt=(()=>{class he{set ngForOf(Re){this._ngForOf=Re,this._ngForOfDirty=!0}set ngForTrackBy(Re){this._trackByFn=Re}get ngForTrackBy(){return this._trackByFn}constructor(Re,ze,Lt){this._viewContainer=Re,this._template=ze,this._differs=Lt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Re){Re&&(this._template=Re)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Re=this._ngForOf;!this._differ&&Re&&(this._differ=this._differs.find(Re).create(this.ngForTrackBy))}if(this._differ){const Re=this._differ.diff(this._ngForOf);Re&&this._applyChanges(Re)}}_applyChanges(Re){const ze=this._viewContainer;Re.forEachOperation((Lt,On,Un)=>{if(null==Lt.previousIndex)ze.createEmbeddedView(this._template,new Ct(Lt.item,this._ngForOf,-1,-1),null===Un?void 0:Un);else if(null==Un)ze.remove(null===On?void 0:On);else if(null!==On){const fs=ze.get(On);ze.move(fs,Un),pn(fs,Lt)}});for(let Lt=0,On=ze.length;Lt<On;Lt++){const fs=ze.get(Lt).context;fs.index=Lt,fs.count=On,fs.ngForOf=this._ngForOf}Re.forEachIdentityChange(Lt=>{pn(ze.get(Lt.currentIndex),Lt)})}static ngTemplateContextGuard(Re,ze){return!0}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i._q3))}}static{this.\u0275dir=i.FsC({type:he,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return he})();function pn(he,Je){he.context.$implicit=Je.item}let Yn=(()=>{class he{constructor(Re,ze){this._viewContainer=Re,this._context=new $n,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ze}set ngIf(Re){this._context.$implicit=this._context.ngIf=Re,this._updateView()}set ngIfThen(Re){_s("ngIfThen",Re),this._thenTemplateRef=Re,this._thenViewRef=null,this._updateView()}set ngIfElse(Re){_s("ngIfElse",Re),this._elseTemplateRef=Re,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Re,ze){return!0}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:he,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return he})();class $n{constructor(){this.$implicit=null,this.ngIf=null}}function _s(he,Je){if(Je&&!Je.createEmbeddedView)throw new Error(`${he} must be a TemplateRef, but received '${(0,i.Tbb)(Je)}'.`)}class Ds{constructor(Je,Re){this._viewContainerRef=Je,this._templateRef=Re,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Je){Je&&!this._created?this.create():!Je&&this._created&&this.destroy()}}let hs=(()=>{class he{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Re){this._ngSwitch=Re,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Re){this._defaultViews.push(Re)}_matchCase(Re){const ze=Re===this._ngSwitch;return this._lastCasesMatched||=ze,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ze}_updateDefaultCases(Re){if(this._defaultViews.length>0&&Re!==this._defaultUsed){this._defaultUsed=Re;for(const ze of this._defaultViews)ze.enforceState(Re)}}static{this.\u0275fac=function(ze){return new(ze||he)}}static{this.\u0275dir=i.FsC({type:he,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return he})(),Cs=(()=>{class he{constructor(Re,ze,Lt){this.ngSwitch=Lt,Lt._addCase(),this._view=new Ds(Re,ze)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(hs,9))}}static{this.\u0275dir=i.FsC({type:he,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return he})(),to=(()=>{class he{constructor(Re,ze,Lt){this._ngEl=Re,this._differs=ze,this._renderer=Lt,this._ngStyle=null,this._differ=null}set ngStyle(Re){this._ngStyle=Re,!this._differ&&Re&&(this._differ=this._differs.find(Re).create())}ngDoCheck(){if(this._differ){const Re=this._differ.diff(this._ngStyle);Re&&this._applyChanges(Re)}}_setStyle(Re,ze){const[Lt,On]=Re.split("."),Un=-1===Lt.indexOf("-")?void 0:i.czy.DashCase;null!=ze?this._renderer.setStyle(this._ngEl.nativeElement,Lt,On?`${ze}${On}`:ze,Un):this._renderer.removeStyle(this._ngEl.nativeElement,Lt,Un)}_applyChanges(Re){Re.forEachRemovedItem(ze=>this._setStyle(ze.key,null)),Re.forEachAddedItem(ze=>this._setStyle(ze.key,ze.currentValue)),Re.forEachChangedItem(ze=>this._setStyle(ze.key,ze.currentValue))}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.aKT),i.rXU(i.MKu),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:he,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return he})(),As=(()=>{class he{constructor(Re){this._viewContainerRef=Re,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Re){if(this._shouldRecreateView(Re)){const ze=this._viewContainerRef;if(this._viewRef&&ze.remove(ze.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Lt=this._createContextForwardProxy();this._viewRef=ze.createEmbeddedView(this.ngTemplateOutlet,Lt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Re){return!!Re.ngTemplateOutlet||!!Re.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Re,ze,Lt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ze,Lt),get:(Re,ze,Lt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ze,Lt)}})}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:he,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[i.OA$]})}}return he})();function Yi(he,Je){return new i.wOt(2100,!1)}class _r{createSubscription(Je,Re){return(0,i.O8t)(()=>Je.subscribe({next:Re,error:ze=>{throw ze}}))}dispose(Je){(0,i.O8t)(()=>Je.unsubscribe())}}class Uo{createSubscription(Je,Re){return Je.then(Re,ze=>{throw ze})}dispose(Je){}}const $t=new Uo,Tn=new _r;let on=(()=>{class he{constructor(Re){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Re}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Re){if(!this._obj){if(Re)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Re)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Re!==this._obj?(this._dispose(),this.transform(Re)):this._latestValue}_subscribe(Re){this._obj=Re,this._strategy=this._selectStrategy(Re),this._subscription=this._strategy.createSubscription(Re,ze=>this._updateLatestValue(Re,ze))}_selectStrategy(Re){if((0,i.jNT)(Re))return $t;if((0,i.zjR)(Re))return Tn;throw Yi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Re,ze){Re===this._obj&&(this._latestValue=ze,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.gRc,16))}}static{this.\u0275pipe=i.EJ8({name:"async",type:he,pure:!1,standalone:!0})}}return he})(),Qt=(()=>{class he{transform(Re){if(null==Re)return null;if("string"!=typeof Re)throw Yi();return Re.toLowerCase()}static{this.\u0275fac=function(ze){return new(ze||he)}}static{this.\u0275pipe=i.EJ8({name:"lowercase",type:he,pure:!0,standalone:!0})}}return he})();const Fn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let qn=(()=>{class he{transform(Re){if(null==Re)return null;if("string"!=typeof Re)throw Yi();return Re.replace(Fn,ze=>ze[0].toUpperCase()+ze.slice(1).toLowerCase())}static{this.\u0275fac=function(ze){return new(ze||he)}}static{this.\u0275pipe=i.EJ8({name:"titlecase",type:he,pure:!0,standalone:!0})}}return he})();const Ei=new i.nKC(""),vo=new i.nKC("");let pi=(()=>{class he{constructor(Re,ze,Lt){this.locale=Re,this.defaultTimezone=ze,this.defaultOptions=Lt}transform(Re,ze,Lt,On){if(null==Re||""===Re||Re!=Re)return null;try{return un(Re,ze??this.defaultOptions?.dateFormat??"mediumDate",On||this.locale,Lt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Un){throw Yi()}}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.xe9,16),i.rXU(Ei,24),i.rXU(vo,24))}}static{this.\u0275pipe=i.EJ8({name:"date",type:he,pure:!0,standalone:!0})}}return he})(),yr=(()=>{class he{constructor(Re){this.differs=Re,this.keyValues=[],this.compareFn=Jo}transform(Re,ze=Jo){if(!Re||!(Re instanceof Map)&&"object"!=typeof Re)return null;this.differ??=this.differs.find(Re).create();const Lt=this.differ.diff(Re),On=ze!==this.compareFn;return Lt&&(this.keyValues=[],Lt.forEachItem(Un=>{this.keyValues.push(function zr(he,Je){return{key:he,value:Je}}(Un.key,Un.currentValue))})),(Lt||On)&&(this.keyValues.sort(ze),this.compareFn=ze),this.keyValues}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.MKu,16))}}static{this.\u0275pipe=i.EJ8({name:"keyvalue",type:he,pure:!1,standalone:!0})}}return he})();function Jo(he,Je){const Re=he.key,ze=Je.key;if(Re===ze)return 0;if(void 0===Re)return 1;if(void 0===ze)return-1;if(null===Re)return 1;if(null===ze)return-1;if("string"==typeof Re&&"string"==typeof ze)return Re<ze?-1:1;if("number"==typeof Re&&"number"==typeof ze)return Re-ze;if("boolean"==typeof Re&&"boolean"==typeof ze)return Re<ze?-1:1;const Lt=String(Re),On=String(ze);return Lt==On?0:Lt<On?-1:1}let Yr=(()=>{class he{constructor(Re){this._locale=Re}transform(Re,ze,Lt){if(!function po(he){return!(null==he||""===he||he!=he)}(Re))return null;Lt||=this._locale;try{return function Jn(he,Je,Re){return function vt(he,Je,Re,ze,Lt,On,Un=!1){let fs="",Ri=!1;if(isFinite(he)){let Ns=function Es(he){let ze,Lt,On,Un,fs,Je=Math.abs(he)+"",Re=0;for((Lt=Je.indexOf("."))>-1&&(Je=Je.replace(".","")),(On=Je.search(/e/i))>0?(Lt<0&&(Lt=On),Lt+=+Je.slice(On+1),Je=Je.substring(0,On)):Lt<0&&(Lt=Je.length),On=0;"0"===Je.charAt(On);On++);if(On===(fs=Je.length))ze=[0],Lt=1;else{for(fs--;"0"===Je.charAt(fs);)fs--;for(Lt-=On,ze=[],Un=0;On<=fs;On++,Un++)ze[Un]=Number(Je.charAt(On))}return Lt>22&&(ze=ze.splice(0,21),Re=Lt-1,Lt=1),{digits:ze,exponent:Re,integerLen:Lt}}(he);Un&&(Ns=function ls(he){if(0===he.digits[0])return he;const Je=he.digits.length-he.integerLen;return he.exponent?he.exponent+=2:(0===Je?he.digits.push(0,0):1===Je&&he.digits.push(0),he.integerLen+=2),he}(Ns));let Xn=Je.minInt,hi=Je.minFrac,Fi=Je.maxFrac;if(On){const xs=On.match(Le);if(null===xs)throw new Error(`${On} is not a valid digit info`);const Oi=xs[1],go=xs[3],Eo=xs[5];null!=Oi&&(Xn=cn(Oi)),null!=go&&(hi=cn(go)),null!=Eo?Fi=cn(Eo):null!=go&&hi>Fi&&(Fi=hi)}!function cs(he,Je,Re){if(Je>Re)throw new Error(`The minimum number of digits after fraction (${Je}) is higher than the maximum (${Re}).`);let ze=he.digits,Lt=ze.length-he.integerLen;const On=Math.min(Math.max(Je,Lt),Re);let Un=On+he.integerLen,fs=ze[Un];if(Un>0){ze.splice(Math.max(he.integerLen,Un));for(let hi=Un;hi<ze.length;hi++)ze[hi]=0}else{Lt=Math.max(0,Lt),he.integerLen=1,ze.length=Math.max(1,Un=On+1),ze[0]=0;for(let hi=1;hi<Un;hi++)ze[hi]=0}if(fs>=5)if(Un-1<0){for(let hi=0;hi>Un;hi--)ze.unshift(0),he.integerLen++;ze.unshift(1),he.integerLen++}else ze[Un-1]++;for(;Lt<Math.max(0,On);Lt++)ze.push(0);let Ri=0!==On;const Ns=Je+he.integerLen,Xn=ze.reduceRight(function(hi,Fi,Di,Io){return Io[Di]=(Fi+=hi)<10?Fi:Fi-10,Ri&&(0===Io[Di]&&Di>=Ns?Io.pop():Ri=!1),Fi>=10?1:0},0);Xn&&(ze.unshift(Xn),he.integerLen++)}(Ns,hi,Fi);let Di=Ns.digits,Io=Ns.integerLen;const Go=Ns.exponent;let Ai=[];for(Ri=Di.every(xs=>!xs);Io<Xn;Io++)Di.unshift(0);for(;Io<0;Io++)Di.unshift(0);Io>0?Ai=Di.splice(Io,Di.length):(Ai=Di,Di=[0]);const es=[];for(Di.length>=Je.lgSize&&es.unshift(Di.splice(-Je.lgSize,Di.length).join(""));Di.length>Je.gSize;)es.unshift(Di.splice(-Je.gSize,Di.length).join(""));Di.length&&es.unshift(Di.join("")),fs=es.join(Te(Re,ze)),Ai.length&&(fs+=Te(Re,Lt)+Ai.join("")),Go&&(fs+=Te(Re,q.Exponential)+"+"+Go)}else fs=Te(Re,q.Infinity);return fs=he<0&&!Ri?Je.negPre+fs+Je.negSuf:Je.posPre+fs+Je.posSuf,fs}(he,function Gs(he,Je="-"){const Re={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ze=he.split(";"),Lt=ze[0],On=ze[1],Un=-1!==Lt.indexOf(".")?Lt.split("."):[Lt.substring(0,Lt.lastIndexOf("0")+1),Lt.substring(Lt.lastIndexOf("0")+1)],fs=Un[0],Ri=Un[1]||"";Re.posPre=fs.substring(0,fs.indexOf("#"));for(let Xn=0;Xn<Ri.length;Xn++){const hi=Ri.charAt(Xn);"0"===hi?Re.minFrac=Re.maxFrac=Xn+1:"#"===hi?Re.maxFrac=Xn+1:Re.posSuf+=hi}const Ns=fs.split(",");if(Re.gSize=Ns[1]?Ns[1].length:0,Re.lgSize=Ns[2]||Ns[1]?(Ns[2]||Ns[1]).length:0,On){const Xn=Lt.length-Re.posPre.length-Re.posSuf.length,hi=On.indexOf("#");Re.negPre=On.substring(0,hi).replace(/'/g,""),Re.negSuf=On.slice(hi+Xn).replace(/'/g,"")}else Re.negPre=Je+Re.posPre,Re.negSuf=Re.posSuf;return Re}(function be(he,Je){return(0,i.H5H)(he)[i.KH2.NumberFormats][Je]}(Je,$.Decimal),Te(Je,q.MinusSign)),Je,q.Group,q.Decimal,Re)}(function Er(he){if("string"==typeof he&&!isNaN(Number(he)-parseFloat(he)))return Number(he);if("number"!=typeof he)throw new Error(`${he} is not a number`);return he}(Re),Lt,ze)}catch(On){throw Yi()}}static{this.\u0275fac=function(ze){return new(ze||he)(i.rXU(i.xe9,16))}}static{this.\u0275pipe=i.EJ8({name:"number",type:he,pure:!0,standalone:!0})}}return he})();let Jr=(()=>{class he{static{this.\u0275fac=function(ze){return new(ze||he)}}static{this.\u0275mod=i.$C({type:he})}static{this.\u0275inj=i.G2t({})}}return he})();const Qo="browser",Fr="server";function rr(he){return he===Qo}function Qr(he){return he===Fr}let qe=(()=>{class he{static{this.\u0275prov=(0,i.jDH)({token:he,providedIn:"root",factory:()=>rr((0,i.WQX)(i.Agw))?new at((0,i.WQX)(f),window):new Vt})}}return he})();class at{constructor(Je,Re){this.document=Je,this.window=Re,this.offset=()=>[0,0]}setOffset(Je){this.offset=Array.isArray(Je)?()=>Je:Je}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Je){this.window.scrollTo(Je[0],Je[1])}scrollToAnchor(Je){const Re=function jt(he,Je){const Re=he.getElementById(Je)||he.getElementsByName(Je)[0];if(Re)return Re;if("function"==typeof he.createTreeWalker&&he.body&&"function"==typeof he.body.attachShadow){const ze=he.createTreeWalker(he.body,NodeFilter.SHOW_ELEMENT);let Lt=ze.currentNode;for(;Lt;){const On=Lt.shadowRoot;if(On){const Un=On.getElementById(Je)||On.querySelector(`[name="${Je}"]`);if(Un)return Un}Lt=ze.nextNode()}}return null}(this.document,Je);Re&&(this.scrollToElement(Re),Re.focus())}setHistoryScrollRestoration(Je){this.window.history.scrollRestoration=Je}scrollToElement(Je){const Re=Je.getBoundingClientRect(),ze=Re.left+this.window.pageXOffset,Lt=Re.top+this.window.pageYOffset,On=this.offset();this.window.scrollTo(ze-On[0],Lt-On[1])}}class Vt{setOffset(Je){}getScrollPosition(){return[0,0]}scrollToPosition(Je){}scrollToAnchor(Je){}setHistoryScrollRestoration(Je){}}class xn{}},21626:(F,b,n)=>{"use strict";n.d(b,{$R:()=>je,$m:()=>Ls,B3:()=>Tt,Lr:()=>A,Nl:()=>U,Qq:()=>se,Sx:()=>st,a7:()=>Et,cS:()=>ee,q1:()=>jn,yz:()=>le}),n(74523);var t=n(54438),u=n(7673),e=n(71985),h=n(22806),m=n(70274),f=n(5964),v=n(96354),E=n(70980),_=n(25558),C=n(88141),S=n(60177);class R{}class T{}class A{constructor(Ht){this.normalizedNames=new Map,this.lazyUpdate=null,Ht?"string"==typeof Ht?this.lazyInit=()=>{this.headers=new Map,Ht.split("\n").forEach(We=>{const sn=We.indexOf(":");if(sn>0){const lt=We.slice(0,sn),gt=lt.toLowerCase(),Ct=We.slice(sn+1).trim();this.maybeSetNormalizedName(lt,gt),this.headers.has(gt)?this.headers.get(gt).push(Ct):this.headers.set(gt,[Ct])}})}:typeof Headers<"u"&&Ht instanceof Headers?(this.headers=new Map,Ht.forEach((We,sn)=>{this.setHeaderEntries(sn,We)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ht).forEach(([We,sn])=>{this.setHeaderEntries(We,sn)})}:this.headers=new Map}has(Ht){return this.init(),this.headers.has(Ht.toLowerCase())}get(Ht){this.init();const We=this.headers.get(Ht.toLowerCase());return We&&We.length>0?We[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ht){return this.init(),this.headers.get(Ht.toLowerCase())||null}append(Ht,We){return this.clone({name:Ht,value:We,op:"a"})}set(Ht,We){return this.clone({name:Ht,value:We,op:"s"})}delete(Ht,We){return this.clone({name:Ht,value:We,op:"d"})}maybeSetNormalizedName(Ht,We){this.normalizedNames.has(We)||this.normalizedNames.set(We,Ht)}init(){this.lazyInit&&(this.lazyInit instanceof A?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ht=>this.applyUpdate(Ht)),this.lazyUpdate=null))}copyFrom(Ht){Ht.init(),Array.from(Ht.headers.keys()).forEach(We=>{this.headers.set(We,Ht.headers.get(We)),this.normalizedNames.set(We,Ht.normalizedNames.get(We))})}clone(Ht){const We=new A;return We.lazyInit=this.lazyInit&&this.lazyInit instanceof A?this.lazyInit:this,We.lazyUpdate=(this.lazyUpdate||[]).concat([Ht]),We}applyUpdate(Ht){const We=Ht.name.toLowerCase();switch(Ht.op){case"a":case"s":let sn=Ht.value;if("string"==typeof sn&&(sn=[sn]),0===sn.length)return;this.maybeSetNormalizedName(Ht.name,We);const lt=("a"===Ht.op?this.headers.get(We):void 0)||[];lt.push(...sn),this.headers.set(We,lt);break;case"d":const gt=Ht.value;if(gt){let Ct=this.headers.get(We);if(!Ct)return;Ct=Ct.filter(Wt=>-1===gt.indexOf(Wt)),0===Ct.length?(this.headers.delete(We),this.normalizedNames.delete(We)):this.headers.set(We,Ct)}else this.headers.delete(We),this.normalizedNames.delete(We)}}setHeaderEntries(Ht,We){const sn=(Array.isArray(We)?We:[We]).map(gt=>gt.toString()),lt=Ht.toLowerCase();this.headers.set(lt,sn),this.maybeSetNormalizedName(Ht,lt)}forEach(Ht){this.init(),Array.from(this.normalizedNames.keys()).forEach(We=>Ht(this.normalizedNames.get(We),this.headers.get(We)))}}class L{encodeKey(Ht){return x(Ht)}encodeValue(Ht){return x(Ht)}decodeKey(Ht){return decodeURIComponent(Ht)}decodeValue(Ht){return decodeURIComponent(Ht)}}const w=/%(\d[a-f0-9])/gi,M={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function x(_t){return encodeURIComponent(_t).replace(w,(Ht,We)=>M[We]??Ht)}function j(_t){return`${_t}`}class U{constructor(Ht={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ht.encoder||new L,Ht.fromString){if(Ht.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function D(_t,Ht){const We=new Map;return _t.length>0&&_t.replace(/^\?/,"").split("&").forEach(lt=>{const gt=lt.indexOf("="),[Ct,Wt]=-1==gt?[Ht.decodeKey(lt),""]:[Ht.decodeKey(lt.slice(0,gt)),Ht.decodeValue(lt.slice(gt+1))],pn=We.get(Ct)||[];pn.push(Wt),We.set(Ct,pn)}),We}(Ht.fromString,this.encoder)}else Ht.fromObject?(this.map=new Map,Object.keys(Ht.fromObject).forEach(We=>{const sn=Ht.fromObject[We],lt=Array.isArray(sn)?sn.map(j):[j(sn)];this.map.set(We,lt)})):this.map=null}has(Ht){return this.init(),this.map.has(Ht)}get(Ht){this.init();const We=this.map.get(Ht);return We?We[0]:null}getAll(Ht){return this.init(),this.map.get(Ht)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ht,We){return this.clone({param:Ht,value:We,op:"a"})}appendAll(Ht){const We=[];return Object.keys(Ht).forEach(sn=>{const lt=Ht[sn];Array.isArray(lt)?lt.forEach(gt=>{We.push({param:sn,value:gt,op:"a"})}):We.push({param:sn,value:lt,op:"a"})}),this.clone(We)}set(Ht,We){return this.clone({param:Ht,value:We,op:"s"})}delete(Ht,We){return this.clone({param:Ht,value:We,op:"d"})}toString(){return this.init(),this.keys().map(Ht=>{const We=this.encoder.encodeKey(Ht);return this.map.get(Ht).map(sn=>We+"="+this.encoder.encodeValue(sn)).join("&")}).filter(Ht=>""!==Ht).join("&")}clone(Ht){const We=new U({encoder:this.encoder});return We.cloneFrom=this.cloneFrom||this,We.updates=(this.updates||[]).concat(Ht),We}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ht=>this.map.set(Ht,this.cloneFrom.map.get(Ht))),this.updates.forEach(Ht=>{switch(Ht.op){case"a":case"s":const We=("a"===Ht.op?this.map.get(Ht.param):void 0)||[];We.push(j(Ht.value)),this.map.set(Ht.param,We);break;case"d":if(void 0===Ht.value){this.map.delete(Ht.param);break}{let sn=this.map.get(Ht.param)||[];const lt=sn.indexOf(j(Ht.value));-1!==lt&&sn.splice(lt,1),sn.length>0?this.map.set(Ht.param,sn):this.map.delete(Ht.param)}}}),this.cloneFrom=this.updates=null)}}class k{constructor(){this.map=new Map}set(Ht,We){return this.map.set(Ht,We),this}get(Ht){return this.map.has(Ht)||this.map.set(Ht,Ht.defaultValue()),this.map.get(Ht)}delete(Ht){return this.map.delete(Ht),this}has(Ht){return this.map.has(Ht)}keys(){return this.map.keys()}}function X(_t){return typeof ArrayBuffer<"u"&&_t instanceof ArrayBuffer}function G(_t){return typeof Blob<"u"&&_t instanceof Blob}function q(_t){return typeof FormData<"u"&&_t instanceof FormData}class te{constructor(Ht,We,sn,lt){let gt;if(this.url=We,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ht.toUpperCase(),function K(_t){switch(_t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||lt?(this.body=void 0!==sn?sn:null,gt=lt):gt=sn,gt&&(this.reportProgress=!!gt.reportProgress,this.withCredentials=!!gt.withCredentials,gt.responseType&&(this.responseType=gt.responseType),gt.headers&&(this.headers=gt.headers),gt.context&&(this.context=gt.context),gt.params&&(this.params=gt.params),this.transferCache=gt.transferCache),this.headers??=new A,this.context??=new k,this.params){const Ct=this.params.toString();if(0===Ct.length)this.urlWithParams=We;else{const Wt=We.indexOf("?");this.urlWithParams=We+(-1===Wt?"?":Wt<We.length-1?"&":"")+Ct}}else this.params=new U,this.urlWithParams=We}serializeBody(){return null===this.body?null:"string"==typeof this.body||X(this.body)||G(this.body)||q(this.body)||function z(_t){return typeof URLSearchParams<"u"&&_t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof U?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||q(this.body)?null:G(this.body)?this.body.type||null:X(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof U?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ht={}){const We=Ht.method||this.method,sn=Ht.url||this.url,lt=Ht.responseType||this.responseType,gt=Ht.transferCache??this.transferCache,Ct=void 0!==Ht.body?Ht.body:this.body,Wt=Ht.withCredentials??this.withCredentials,pn=Ht.reportProgress??this.reportProgress;let Rn=Ht.headers||this.headers,Yn=Ht.params||this.params;const $n=Ht.context??this.context;return void 0!==Ht.setHeaders&&(Rn=Object.keys(Ht.setHeaders).reduce((_s,Rs)=>_s.set(Rs,Ht.setHeaders[Rs]),Rn)),Ht.setParams&&(Yn=Object.keys(Ht.setParams).reduce((_s,Rs)=>_s.set(Rs,Ht.setParams[Rs]),Yn)),new te(We,sn,Ct,{params:Yn,headers:Rn,context:$n,reportProgress:pn,responseType:lt,withCredentials:Wt,transferCache:gt})}}var Z=function(_t){return _t[_t.Sent=0]="Sent",_t[_t.UploadProgress=1]="UploadProgress",_t[_t.ResponseHeader=2]="ResponseHeader",_t[_t.DownloadProgress=3]="DownloadProgress",_t[_t.Response=4]="Response",_t[_t.User=5]="User",_t}(Z||{});class J{constructor(Ht,We=ne.Ok,sn="OK"){this.headers=Ht.headers||new A,this.status=void 0!==Ht.status?Ht.status:We,this.statusText=Ht.statusText||sn,this.url=Ht.url||null,this.ok=this.status>=200&&this.status<300}}class Q extends J{constructor(Ht={}){super(Ht),this.type=Z.ResponseHeader}clone(Ht={}){return new Q({headers:Ht.headers||this.headers,status:void 0!==Ht.status?Ht.status:this.status,statusText:Ht.statusText||this.statusText,url:Ht.url||this.url||void 0})}}class ee extends J{constructor(Ht={}){super(Ht),this.type=Z.Response,this.body=void 0!==Ht.body?Ht.body:null}clone(Ht={}){return new ee({body:void 0!==Ht.body?Ht.body:this.body,headers:Ht.headers||this.headers,status:void 0!==Ht.status?Ht.status:this.status,statusText:Ht.statusText||this.statusText,url:Ht.url||this.url||void 0})}}class le extends J{constructor(Ht){super(Ht,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ht.url||"(unknown url)"}`:`Http failure response for ${Ht.url||"(unknown url)"}: ${Ht.status} ${Ht.statusText}`,this.error=Ht.error||null}}var ne=function(_t){return _t[_t.Continue=100]="Continue",_t[_t.SwitchingProtocols=101]="SwitchingProtocols",_t[_t.Processing=102]="Processing",_t[_t.EarlyHints=103]="EarlyHints",_t[_t.Ok=200]="Ok",_t[_t.Created=201]="Created",_t[_t.Accepted=202]="Accepted",_t[_t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",_t[_t.NoContent=204]="NoContent",_t[_t.ResetContent=205]="ResetContent",_t[_t.PartialContent=206]="PartialContent",_t[_t.MultiStatus=207]="MultiStatus",_t[_t.AlreadyReported=208]="AlreadyReported",_t[_t.ImUsed=226]="ImUsed",_t[_t.MultipleChoices=300]="MultipleChoices",_t[_t.MovedPermanently=301]="MovedPermanently",_t[_t.Found=302]="Found",_t[_t.SeeOther=303]="SeeOther",_t[_t.NotModified=304]="NotModified",_t[_t.UseProxy=305]="UseProxy",_t[_t.Unused=306]="Unused",_t[_t.TemporaryRedirect=307]="TemporaryRedirect",_t[_t.PermanentRedirect=308]="PermanentRedirect",_t[_t.BadRequest=400]="BadRequest",_t[_t.Unauthorized=401]="Unauthorized",_t[_t.PaymentRequired=402]="PaymentRequired",_t[_t.Forbidden=403]="Forbidden",_t[_t.NotFound=404]="NotFound",_t[_t.MethodNotAllowed=405]="MethodNotAllowed",_t[_t.NotAcceptable=406]="NotAcceptable",_t[_t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",_t[_t.RequestTimeout=408]="RequestTimeout",_t[_t.Conflict=409]="Conflict",_t[_t.Gone=410]="Gone",_t[_t.LengthRequired=411]="LengthRequired",_t[_t.PreconditionFailed=412]="PreconditionFailed",_t[_t.PayloadTooLarge=413]="PayloadTooLarge",_t[_t.UriTooLong=414]="UriTooLong",_t[_t.UnsupportedMediaType=415]="UnsupportedMediaType",_t[_t.RangeNotSatisfiable=416]="RangeNotSatisfiable",_t[_t.ExpectationFailed=417]="ExpectationFailed",_t[_t.ImATeapot=418]="ImATeapot",_t[_t.MisdirectedRequest=421]="MisdirectedRequest",_t[_t.UnprocessableEntity=422]="UnprocessableEntity",_t[_t.Locked=423]="Locked",_t[_t.FailedDependency=424]="FailedDependency",_t[_t.TooEarly=425]="TooEarly",_t[_t.UpgradeRequired=426]="UpgradeRequired",_t[_t.PreconditionRequired=428]="PreconditionRequired",_t[_t.TooManyRequests=429]="TooManyRequests",_t[_t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",_t[_t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",_t[_t.InternalServerError=500]="InternalServerError",_t[_t.NotImplemented=501]="NotImplemented",_t[_t.BadGateway=502]="BadGateway",_t[_t.ServiceUnavailable=503]="ServiceUnavailable",_t[_t.GatewayTimeout=504]="GatewayTimeout",_t[_t.HttpVersionNotSupported=505]="HttpVersionNotSupported",_t[_t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",_t[_t.InsufficientStorage=507]="InsufficientStorage",_t[_t.LoopDetected=508]="LoopDetected",_t[_t.NotExtended=510]="NotExtended",_t[_t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",_t}(ne||{});function fe(_t,Ht){return{body:Ht,headers:_t.headers,context:_t.context,observe:_t.observe,params:_t.params,reportProgress:_t.reportProgress,responseType:_t.responseType,withCredentials:_t.withCredentials,transferCache:_t.transferCache}}let se=(()=>{class _t{constructor(We){this.handler=We}request(We,sn,lt={}){let gt;if(We instanceof te)gt=We;else{let pn,Rn;pn=lt.headers instanceof A?lt.headers:new A(lt.headers),lt.params&&(Rn=lt.params instanceof U?lt.params:new U({fromObject:lt.params})),gt=new te(We,sn,void 0!==lt.body?lt.body:null,{headers:pn,context:lt.context,params:Rn,reportProgress:lt.reportProgress,responseType:lt.responseType||"json",withCredentials:lt.withCredentials,transferCache:lt.transferCache})}const Ct=(0,u.of)(gt).pipe((0,m.H)(pn=>this.handler.handle(pn)));if(We instanceof te||"events"===lt.observe)return Ct;const Wt=Ct.pipe((0,f.p)(pn=>pn instanceof ee));switch(lt.observe||"body"){case"body":switch(gt.responseType){case"arraybuffer":return Wt.pipe((0,v.T)(pn=>{if(null!==pn.body&&!(pn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return pn.body}));case"blob":return Wt.pipe((0,v.T)(pn=>{if(null!==pn.body&&!(pn.body instanceof Blob))throw new Error("Response is not a Blob.");return pn.body}));case"text":return Wt.pipe((0,v.T)(pn=>{if(null!==pn.body&&"string"!=typeof pn.body)throw new Error("Response is not a string.");return pn.body}));default:return Wt.pipe((0,v.T)(pn=>pn.body))}case"response":return Wt;default:throw new Error(`Unreachable: unhandled observe type ${lt.observe}}`)}}delete(We,sn={}){return this.request("DELETE",We,sn)}get(We,sn={}){return this.request("GET",We,sn)}head(We,sn={}){return this.request("HEAD",We,sn)}jsonp(We,sn){return this.request("JSONP",We,{params:(new U).append(sn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(We,sn={}){return this.request("OPTIONS",We,sn)}patch(We,sn,lt={}){return this.request("PATCH",We,fe(lt,sn))}post(We,sn,lt={}){return this.request("POST",We,fe(lt,sn))}put(We,sn,lt={}){return this.request("PUT",We,fe(lt,sn))}static{this.\u0275fac=function(sn){return new(sn||_t)(t.KVO(R))}}static{this.\u0275prov=t.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();function tt(_t,Ht){return Ht(_t)}function ht(_t,Ht){return(We,sn)=>Ht.intercept(We,{handle:lt=>_t(lt,sn)})}const Et=new t.nKC(""),Ye=new t.nKC(""),pt=new t.nKC(""),Mt=new t.nKC("");function Ne(){let _t=null;return(Ht,We)=>{null===_t&&(_t=((0,t.WQX)(Et,{optional:!0})??[]).reduceRight(ht,tt));const sn=(0,t.WQX)(t.TgB),lt=sn.add();return _t(Ht,We).pipe((0,E.j)(()=>sn.remove(lt)))}}let Zt=(()=>{class _t extends R{constructor(We,sn){super(),this.backend=We,this.injector=sn,this.chain=null,this.pendingTasks=(0,t.WQX)(t.TgB);const lt=(0,t.WQX)(Mt,{optional:!0});this.backend=lt??We}handle(We){if(null===this.chain){const lt=Array.from(new Set([...this.injector.get(Ye),...this.injector.get(pt,[])]));this.chain=lt.reduceRight((gt,Ct)=>function Fe(_t,Ht,We){return(sn,lt)=>(0,t.N4e)(We,()=>Ht(sn,gt=>_t(gt,lt)))}(gt,Ct,this.injector),tt)}const sn=this.pendingTasks.add();return this.chain(We,lt=>this.backend.handle(lt)).pipe((0,E.j)(()=>this.pendingTasks.remove(sn)))}static{this.\u0275fac=function(sn){return new(sn||_t)(t.KVO(T),t.KVO(t.uvJ))}}static{this.\u0275prov=t.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();const nn=/^\)\]\}',?\n/;let St=(()=>{class _t{constructor(We){this.xhrFactory=We}handle(We){if("JSONP"===We.method)throw new t.wOt(-2800,!1);const sn=this.xhrFactory;return(sn.\u0275loadImpl?(0,h.H)(sn.\u0275loadImpl()):(0,u.of)(null)).pipe((0,_.n)(()=>new e.c(gt=>{const Ct=sn.build();if(Ct.open(We.method,We.urlWithParams),We.withCredentials&&(Ct.withCredentials=!0),We.headers.forEach((hs,Cs)=>Ct.setRequestHeader(hs,Cs.join(","))),We.headers.has("Accept")||Ct.setRequestHeader("Accept","application/json, text/plain, */*"),!We.headers.has("Content-Type")){const hs=We.detectContentTypeHeader();null!==hs&&Ct.setRequestHeader("Content-Type",hs)}if(We.responseType){const hs=We.responseType.toLowerCase();Ct.responseType="json"!==hs?hs:"text"}const Wt=We.serializeBody();let pn=null;const Rn=()=>{if(null!==pn)return pn;const hs=Ct.statusText||"OK",Cs=new A(Ct.getAllResponseHeaders()),Ti=function gn(_t){return"responseURL"in _t&&_t.responseURL?_t.responseURL:/^X-Request-URL:/m.test(_t.getAllResponseHeaders())?_t.getResponseHeader("X-Request-URL"):null}(Ct)||We.url;return pn=new Q({headers:Cs,status:Ct.status,statusText:hs,url:Ti}),pn},Yn=()=>{let{headers:hs,status:Cs,statusText:Ti,url:Hi}=Rn(),Li=null;Cs!==ne.NoContent&&(Li=typeof Ct.response>"u"?Ct.responseText:Ct.response),0===Cs&&(Cs=Li?ne.Ok:0);let $i=Cs>=200&&Cs<300;if("json"===We.responseType&&"string"==typeof Li){const jo=Li;Li=Li.replace(nn,"");try{Li=""!==Li?JSON.parse(Li):null}catch(to){Li=jo,$i&&($i=!1,Li={error:to,text:Li})}}$i?(gt.next(new ee({body:Li,headers:hs,status:Cs,statusText:Ti,url:Hi||void 0})),gt.complete()):gt.error(new le({error:Li,headers:hs,status:Cs,statusText:Ti,url:Hi||void 0}))},$n=hs=>{const{url:Cs}=Rn(),Ti=new le({error:hs,status:Ct.status||0,statusText:Ct.statusText||"Unknown Error",url:Cs||void 0});gt.error(Ti)};let _s=!1;const Rs=hs=>{_s||(gt.next(Rn()),_s=!0);let Cs={type:Z.DownloadProgress,loaded:hs.loaded};hs.lengthComputable&&(Cs.total=hs.total),"text"===We.responseType&&Ct.responseText&&(Cs.partialText=Ct.responseText),gt.next(Cs)},Ds=hs=>{let Cs={type:Z.UploadProgress,loaded:hs.loaded};hs.lengthComputable&&(Cs.total=hs.total),gt.next(Cs)};return Ct.addEventListener("load",Yn),Ct.addEventListener("error",$n),Ct.addEventListener("timeout",$n),Ct.addEventListener("abort",$n),We.reportProgress&&(Ct.addEventListener("progress",Rs),null!==Wt&&Ct.upload&&Ct.upload.addEventListener("progress",Ds)),Ct.send(Wt),gt.next({type:Z.Sent}),()=>{Ct.removeEventListener("error",$n),Ct.removeEventListener("abort",$n),Ct.removeEventListener("load",Yn),Ct.removeEventListener("timeout",$n),We.reportProgress&&(Ct.removeEventListener("progress",Rs),null!==Wt&&Ct.upload&&Ct.upload.removeEventListener("progress",Ds)),Ct.readyState!==Ct.DONE&&Ct.abort()}})))}static{this.\u0275fac=function(sn){return new(sn||_t)(t.KVO(S.N0))}}static{this.\u0275prov=t.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();const zt=new t.nKC(""),wt=new t.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Jt=new t.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Tt{}let Ft=(()=>{class _t{constructor(We,sn,lt){this.doc=We,this.platform=sn,this.cookieName=lt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const We=this.doc.cookie||"";return We!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,S._b)(We,this.cookieName),this.lastCookieString=We),this.lastToken}static{this.\u0275fac=function(sn){return new(sn||_t)(t.KVO(S.qQ),t.KVO(t.Agw),t.KVO(wt))}}static{this.\u0275prov=t.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();function it(_t,Ht){const We=_t.url.toLowerCase();if(!(0,t.WQX)(zt)||"GET"===_t.method||"HEAD"===_t.method||We.startsWith("http://")||We.startsWith("https://"))return Ht(_t);const sn=(0,t.WQX)(Tt).getToken(),lt=(0,t.WQX)(Jt);return null!=sn&&!_t.headers.has(lt)&&(_t=_t.clone({headers:_t.headers.set(lt,sn)})),Ht(_t)}var Ve=function(_t){return _t[_t.Interceptors=0]="Interceptors",_t[_t.LegacyInterceptors=1]="LegacyInterceptors",_t[_t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",_t[_t.NoXsrfProtection=3]="NoXsrfProtection",_t[_t.JsonpSupport=4]="JsonpSupport",_t[_t.RequestsMadeViaParent=5]="RequestsMadeViaParent",_t[_t.Fetch=6]="Fetch",_t}(Ve||{});function je(..._t){const Ht=[se,St,Zt,{provide:R,useExisting:Zt},{provide:T,useExisting:St},{provide:Ye,useValue:it,multi:!0},{provide:zt,useValue:!0},{provide:Tt,useClass:Ft}];for(const We of _t)Ht.push(...We.\u0275providers);return(0,t.EmA)(Ht)}const Qe=new t.nKC("");function st(){return function Ke(_t,Ht){return{\u0275kind:_t,\u0275providers:Ht}}(Ve.LegacyInterceptors,[{provide:Qe,useFactory:Ne},{provide:Ye,useExisting:Qe,multi:!0}])}let jn=(()=>{class _t{static{this.\u0275fac=function(sn){return new(sn||_t)}}static{this.\u0275mod=t.$C({type:_t})}static{this.\u0275inj=t.G2t({providers:[je(st())]})}}return _t})();const wn="b",ct="h",vt="s",hn="st",Nn="u",Jn="rt",Gs=new t.nKC(""),ls=["GET","HEAD"];function Es(_t,Ht){const{isCacheActive:We,...sn}=(0,t.WQX)(Gs),{transferCache:lt,method:gt}=_t;if(!We||"POST"===gt&&!sn.includePostRequests&&!lt||"POST"!==gt&&!ls.includes(gt)||!1===lt||!1===sn.filter?.(_t))return Ht(_t);const Ct=(0,t.WQX)(t.pJN),Wt=function yn(_t){const{params:Ht,method:We,responseType:sn,url:lt}=_t,gt=cn(Ht);let Ct=_t.serializeBody();Ct instanceof URLSearchParams?Ct=cn(Ct):"string"!=typeof Ct&&(Ct="");const pn=function ns(_t){let Ht=0;for(const We of _t)Ht=Math.imul(31,Ht)+We.charCodeAt(0)|0;return Ht+=2147483648,Ht.toString()}([We,sn,lt,Ct,gt].join("|"));return(0,t.zw6)(pn)}(_t),pn=Ct.get(Wt,null);let Rn=sn.includeHeaders;if("object"==typeof lt&&lt.includeHeaders&&(Rn=lt.includeHeaders),pn){const{[wn]:$n,[Jn]:_s,[ct]:Rs,[vt]:Ds,[hn]:hs,[Nn]:Cs}=pn;let Ti=$n;switch(_s){case"arraybuffer":Ti=(new TextEncoder).encode($n).buffer;break;case"blob":Ti=new Blob([$n])}let Hi=new A(Rs);return(0,u.of)(new ee({body:Ti,headers:Hi,status:Ds,statusText:hs,url:Cs}))}const Yn=(0,S.Vy)((0,t.WQX)(t.Agw));return Ht(_t).pipe((0,C.M)($n=>{$n instanceof ee&&Yn&&Ct.set(Wt,{[wn]:$n.body,[ct]:cs($n.headers,Rn),[vt]:$n.status,[hn]:$n.statusText,[Nn]:$n.url||"",[Jn]:_t.responseType})}))}function cs(_t,Ht){if(!Ht)return{};const We={};for(const sn of Ht){const lt=_t.getAll(sn);null!==lt&&(We[sn]=lt)}return We}function cn(_t){return[..._t.keys()].sort().map(Ht=>`${Ht}=${_t.getAll(Ht)}`).join("&")}function Ls(_t){return[{provide:Gs,useFactory:()=>((0,t.ngT)("NgHttpTransferCache"),{isCacheActive:!0,..._t})},{provide:pt,useValue:Es,multi:!0,deps:[t.pJN,Gs]},{provide:t.iLQ,multi:!0,useFactory:()=>{const Ht=(0,t.WQX)(t.o8S),We=(0,t.WQX)(Gs);return()=>{(0,t.zuW)(Ht).then(()=>{We.isCacheActive=!1})}}}]}},54438:(F,b,n)=>{"use strict";function t(r,a){return Object.is(r,a)}n.d(b,{bc$:()=>Tv,iLQ:()=>L_,sZ2:()=>Ol,hnV:()=>HT,o8S:()=>Ka,BIS:()=>Wp,gRc:()=>Xy,Ql9:()=>fR,OM3:()=>Df,Ocv:()=>bR,abz:()=>Kc,Z63:()=>io,aKT:()=>la,uvJ:()=>xt,zcH:()=>Dl,bkB:()=>Gl,y_5:()=>rr,$GK:()=>Qt,nKC:()=>lt,zZn:()=>Ua,_q3:()=>qy,MKu:()=>eE,xe9:()=>B_,Co$:()=>dC,Vns:()=>ec,SKi:()=>Sr,Xx1:()=>Qr,Agw:()=>Ih,PLl:()=>$m,rOR:()=>Bp,sFG:()=>Og,_9s:()=>O1,czy:()=>tg,WPN:()=>Mu,kdw:()=>va,C4Q:()=>Hh,NYb:()=>$T,giA:()=>WT,pJN:()=>Qc,RxE:()=>jT,c1b:()=>Ag,gXe:()=>bo,mal:()=>w1,Af3:()=>he,tdH:()=>jM,L39:()=>xw,EWP:()=>Fw,a0P:()=>Gw,Ol2:()=>L0,w6W:()=>DS,QZP:()=>Mw,SmG:()=>MR,Rfq:()=>it,oKB:()=>Is,WQX:()=>Ks,naY:()=>qT,Hps:()=>b0,QuC:()=>Cr,EmA:()=>oa,zw6:()=>Kp,v7R:()=>Ww,Udg:()=>Lw,HJs:()=>$w,N4e:()=>ao,vPA:()=>X1,O8t:()=>Bw,An2:()=>Dg,H3F:()=>Vy,H8p:()=>sr,KH2:()=>dp,TgB:()=>Qh,wOt:()=>ot,WHO:()=>Gy,e01:()=>A_,lNU:()=>Ne,h9k:()=>tl,$MX:()=>Nh,ZF7:()=>Wl,Kcf:()=>SE,e5t:()=>BO,UyX:()=>Od,cWb:()=>DA,osQ:()=>FO,H5H:()=>uy,Zy3:()=>Gt,mq5:()=>Yf,JZv:()=>gn,TL3:()=>fi,LfX:()=>yn,plB:()=>Wd,jNT:()=>$y,zjR:()=>Wy,ngT:()=>Ql,TL$:()=>$p,Tbb:()=>bt,zUL:()=>Tt,rcV:()=>Cc,zuW:()=>Ky,M8M:()=>sh,Vt3:()=>R0,Mj6:()=>Zo,GFd:()=>cC,OA$:()=>ln,Jv_:()=>bP,aNF:()=>lT,R7$:()=>Yl,BMQ:()=>op,HbH:()=>HC,ZvI:()=>qC,STu:()=>eb,ZBM:()=>Zg,AVh:()=>ey,vxM:()=>sb,wni:()=>C_,VBU:()=>wl,FsC:()=>Ya,jDH:()=>ls,G2t:()=>cs,$C:()=>La,EJ8:()=>cl,rXU:()=>Sl,nrm:()=>ly,eu8:()=>cy,bVm:()=>i_,qex:()=>s_,k0s:()=>ay,j41:()=>n_,RV6:()=>ab,xGo:()=>xm,Mr5:()=>dy,pXf:()=>Ab,nnv:()=>aP,uP7:()=>wb,KVO:()=>po,kS0:()=>_u,QTQ:()=>Bd,bIt:()=>xb,lsd:()=>Wb,XpG:()=>Nb,nI1:()=>xy,bMT:()=>Ly,i5U:()=>cm,brH:()=>ET,SdG:()=>Bb,NAR:()=>Fb,Y8G:()=>Q0,FS9:()=>Ey,Mz_:()=>Qu,FCK:()=>pa,lJ4:()=>dT,eq3:()=>pp,l_i:()=>uT,sMw:()=>hT,ziG:()=>pT,s1E:()=>fT,mGM:()=>$b,sdS:()=>Kb,Dyx:()=>iy,Z7z:()=>e_,fX1:()=>ib,Njj:()=>Ws,EBC:()=>Uv,tSv:()=>GE,eBV:()=>dc,npT:()=>xE,f$h:()=>Pa,B4B:()=>Qm,n$t:()=>FE,xc7:()=>q0,DNE:()=>rd,C5r:()=>bT,EFF:()=>qb,JRh:()=>by,SpI:()=>O_,Lme:()=>Ty,E5c:()=>Dy,LHq:()=>Oy,DH7:()=>rT,mxI:()=>Sy,R50:()=>My,GBs:()=>rm}),n(74523);let u=null,e=!1,h=1;const m=Symbol("SIGNAL");function f(r){const a=u;return u=r,a}const C={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function S(r){if(e)throw new Error("");if(null===u)return;u.consumerOnSignalRead(r);const a=u.nextProducerIndex++;k(u),a<u.producerNode.length&&u.producerNode[a]!==r&&$(u)&&U(u.producerNode[a],u.producerIndexOfThis[a]),u.producerNode[a]!==r&&(u.producerNode[a]=r,u.producerIndexOfThis[a]=$(u)?j(r,u,a):0),u.producerLastReadVersion[a]=r.version}function T(r){if((!$(r)||r.dirty)&&(r.dirty||r.lastCleanEpoch!==h)){if(!r.producerMustRecompute(r)&&!M(r))return r.dirty=!1,void(r.lastCleanEpoch=h);r.producerRecomputeValue(r),r.dirty=!1,r.lastCleanEpoch=h}}function A(r){if(void 0===r.liveConsumerNode)return;const a=e;e=!0;try{for(const l of r.liveConsumerNode)l.dirty||L(l)}finally{e=a}}function p(){return!1!==u?.consumerAllowSignalWrites}function L(r){r.dirty=!0,A(r),r.consumerMarkedDirty?.(r)}function D(r){return r&&(r.nextProducerIndex=0),f(r)}function w(r,a){if(f(a),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if($(r))for(let l=r.nextProducerIndex;l<r.producerNode.length;l++)U(r.producerNode[l],r.producerIndexOfThis[l]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function M(r){k(r);for(let a=0;a<r.producerNode.length;a++){const l=r.producerNode[a],g=r.producerLastReadVersion[a];if(g!==l.version||(T(l),g!==l.version))return!0}return!1}function x(r){if(k(r),$(r))for(let a=0;a<r.producerNode.length;a++)U(r.producerNode[a],r.producerIndexOfThis[a]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function j(r,a,l){if(K(r),k(r),0===r.liveConsumerNode.length)for(let g=0;g<r.producerNode.length;g++)r.producerIndexOfThis[g]=j(r.producerNode[g],r,g);return r.liveConsumerIndexOfThis.push(l),r.liveConsumerNode.push(a)-1}function U(r,a){if(K(r),k(r),1===r.liveConsumerNode.length)for(let g=0;g<r.producerNode.length;g++)U(r.producerNode[g],r.producerIndexOfThis[g]);const l=r.liveConsumerNode.length-1;if(r.liveConsumerNode[a]=r.liveConsumerNode[l],r.liveConsumerIndexOfThis[a]=r.liveConsumerIndexOfThis[l],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,a<r.liveConsumerNode.length){const g=r.liveConsumerIndexOfThis[a],P=r.liveConsumerNode[a];k(P),P.producerIndexOfThis[g]=a}}function $(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function k(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}function K(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}const G=Symbol("UNSET"),q=Symbol("COMPUTING"),z=Symbol("ERRORED"),te={...C,value:G,dirty:!0,error:null,equal:t,producerMustRecompute:r=>r.value===G||r.value===q,producerRecomputeValue(r){if(r.value===q)throw new Error("Detected cycle in computations.");const a=r.value;r.value=q;const l=D(r);let g;try{g=r.computation()}catch(P){g=z,r.error=P}finally{w(r,l)}a!==G&&a!==z&&g!==z&&r.equal(a,g)?r.value=a:(r.value=g,r.version++)}};let J=function Z(){throw new Error};function Q(){J()}let le=null;function ce(r,a){p()||Q(),r.equal(r.value,a)||(r.value=a,function me(r){r.version++,function R(){h++}(),A(r),le?.()}(r))}const be={...C,equal:t,value:void 0};const Ee=()=>{},De={...C,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{null!==r.schedule&&r.schedule(r.ref)},hasRun:!1,cleanupFn:Ee};var ht=n(21413),Fe=n(18359),Et=n(84412),Ye=n(96354),pt=n(61594);const Ne="https://g.co/ng/security#xss";class ot extends Error{constructor(a,l){super(Gt(a,l)),this.code=a}}function Gt(r,a){return`NG0${Math.abs(r)}${a?": "+a:""}`}function ut(r){return{toString:r}.toString()}const rn="__parameters__";function Rt(r,a,l){return ut(()=>{const g=function Kt(r){return function(...l){if(r){const g=r(...l);for(const P in g)this[P]=g[P]}}}(a);function P(...B){if(this instanceof P)return g.apply(this,B),this;const H=new P(...B);return ie.annotation=H,ie;function ie(ve,we,Ze){const Ot=ve.hasOwnProperty(rn)?ve[rn]:Object.defineProperty(ve,rn,{value:[]})[rn];for(;Ot.length<=Ze;)Ot.push(null);return(Ot[Ze]=Ot[Ze]||[]).push(H),ve}}return l&&(P.prototype=Object.create(l.prototype)),P.prototype.ngMetadataName=r,P.annotationCls=P,P})}const gn=globalThis;function Yt(r){for(let a in r)if(r[a]===Yt)return a;throw Error("Could not find renamed property on target object.")}function wt(r,a){for(const l in a)a.hasOwnProperty(l)&&!r.hasOwnProperty(l)&&(r[l]=a[l])}function bt(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(bt).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const a=r.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function Jt(r,a){return null==r||""===r?null===a?"":a:null==a||""===a?r:r+" "+a}function Tt(r,a=100){if(!r||a<1||r.length<=a)return r;if(1==a)return r.substring(0,1)+"...";const l=Math.round(a/2);return r.substring(0,l)+"..."+r.substring(r.length-l)}const Ft=Yt({__forward_ref__:Yt});function it(r){return r.__forward_ref__=it,r.toString=function(){return bt(this())},r}function xe(r){return Ve(r)?r():r}function Ve(r){return"function"==typeof r&&r.hasOwnProperty(Ft)&&r.__forward_ref__===it}function st(r,a,l){r!=a&&function ct(r,a,l,g){throw new Error(`ASSERTION ERROR: ${r}`+(null==g?"":` [Expected=> ${l} ${g} ${a} <=Actual]`))}(l,r,a,"==")}function ls(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function cs(r){return{providers:r.providers||[],imports:r.imports||[]}}function cn(r){return ns(r,_t)||ns(r,We)}function yn(r){return null!==cn(r)}function ns(r,a){return r.hasOwnProperty(a)?r[a]:null}function ci(r){return r&&(r.hasOwnProperty(Ht)||r.hasOwnProperty(sn))?r[Ht]:null}const _t=Yt({\u0275prov:Yt}),Ht=Yt({\u0275inj:Yt}),We=Yt({ngInjectableDef:Yt}),sn=Yt({ngInjectorDef:Yt});class lt{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=ls({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function hs(r){return r&&!!r.\u0275providers}const Cs=Yt({\u0275cmp:Yt}),Ti=Yt({\u0275dir:Yt}),Hi=Yt({\u0275pipe:Yt}),Li=Yt({\u0275mod:Yt}),$i=Yt({\u0275fac:Yt}),jo=Yt({__NG_ELEMENT_ID__:Yt}),to=Yt({__NG_ENV_ID__:Yt});function As(r){return"string"==typeof r?r:null==r?"":String(r)}function on(r,a){throw new ot(-201,!1)}var Qt=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Qt||{});let Fn;function qn(){return Fn}function bs(r){const a=Fn;return Fn=r,a}function vi(r,a,l){const g=cn(r);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:l&Qt.Optional?null:void 0!==a?a:void on()}const pi={},ho="__NG_DI_FLAG__",vr="ngTempTokenPath",Xo=/\n/gm,yr="__source";let Jo;function tr(r){const a=Jo;return Jo=r,a}function Xr(r,a=Qt.Default){if(void 0===Jo)throw new ot(-203,!1);return null===Jo?vi(r,void 0,a):Jo.get(r,a&Qt.Optional?null:void 0,a)}function po(r,a=Qt.Default){return(qn()||Xr)(xe(r),a)}function Ks(r,a=Qt.Default){return po(r,hr(a))}function hr(r){return typeof r>"u"||"number"==typeof r?r:(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Jr(r){const a=[];for(let l=0;l<r.length;l++){const g=xe(r[l]);if(Array.isArray(g)){if(0===g.length)throw new ot(900,!1);let P,B=Qt.Default;for(let H=0;H<g.length;H++){const ie=g[H],ve=Fr(ie);"number"==typeof ve?-1===ve?P=ie.token:B|=ve:P=ie}a.push(po(P,B))}else a.push(po(g))}return a}function Qo(r,a){return r[ho]=a,r.prototype[ho]=a,r}function Fr(r){return r[ho]}const rr=Qo(Rt("Inject",r=>({token:r})),-1),Qr=Qo(Rt("Optional"),8),va=Qo(Rt("SkipSelf"),4);function qe(r,a){return r.hasOwnProperty($i)?r[$i]:null}function Vt(r,a){r.forEach(l=>Array.isArray(l)?Vt(l,a):a(l))}function xn(r,a,l){a>=r.length?r.push(l):r.splice(a,0,l)}function is(r,a){return a>=r.length-1?r.pop():r.splice(a,1)[0]}function Ci(r,a,l){let g=Co(r,a);return g>=0?r[1|g]=l:(g=~g,function di(r,a,l,g){let P=r.length;if(P==a)r.push(l,g);else if(1===P)r.push(g,r[0]),r[0]=l;else{for(P--,r.push(r[P-1],r[P]);P>a;)r[P]=r[P-2],P--;r[a]=l,r[a+1]=g}}(r,g,a,l)),g}function ni(r,a){const l=Co(r,a);if(l>=0)return r[1|l]}function Co(r,a){return function So(r,a,l){let g=0,P=r.length>>l;for(;P!==g;){const B=g+(P-g>>1),H=r[B<<l];if(a===H)return B<<l;H>a?P=B:g=B+1}return~(P<<l)}(r,a,1)}const so={},Xs=[],io=new lt(""),nr=new lt("",-1),mo=new lt("");class ko{get(a,l=pi){if(l===pi){const g=new Error(`NullInjectorError: No provider for ${bt(a)}!`);throw g.name="NullInjectorError",g}return l}}var Ir=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Ir||{}),bo=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(bo||{}),Zo=function(r){return r[r.None=0]="None",r[r.SignalBased=1]="SignalBased",r[r.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",r}(Zo||{});function ya(r,a,l){let g=r.length;for(;;){const P=r.indexOf(a,l);if(-1===P)return P;if(0===P||r.charCodeAt(P-1)<=32){const B=a.length;if(P+B===g||r.charCodeAt(P+B)<=32)return P}l=P+1}}function Ge(r,a,l){let g=0;for(;g<l.length;){const P=l[g];if("number"==typeof P){if(0!==P)break;g++;const B=l[g++],H=l[g++],ie=l[g++];r.setAttribute(a,H,ie,B)}else{const B=P,H=l[++g];oe(B)?r.setProperty(a,B,H):r.setAttribute(a,B,H),g++}}return g}function Xe(r){return 3===r||4===r||6===r}function oe(r){return 64===r.charCodeAt(0)}function $e(r,a){if(null!==a&&0!==a.length)if(null===r||0===r.length)r=a.slice();else{let l=-1;for(let g=0;g<a.length;g++){const P=a[g];"number"==typeof P?l=P:0===l||_e(r,l,P,null,-1===l||2===l?a[++g]:null)}}return r}function _e(r,a,l,g,P){let B=0,H=r.length;if(-1===a)H=-1;else for(;B<r.length;){const ie=r[B++];if("number"==typeof ie){if(ie===a){H=-1;break}if(ie>a){H=B-1;break}}}for(;B<r.length;){const ie=r[B];if("number"==typeof ie)break;if(ie===l){if(null===g)return void(null!==P&&(r[B+1]=P));if(g===r[B+1])return void(r[B+2]=P)}B++,null!==g&&B++,null!==P&&B++}-1!==H&&(r.splice(H,0,a),B=H+1),r.splice(B++,0,l),null!==g&&r.splice(B++,0,g),null!==P&&r.splice(B++,0,P)}const Dt="ng-template";function Xt(r,a,l,g){let P=0;if(g){for(;P<a.length&&"string"==typeof a[P];P+=2)if("class"===a[P]&&-1!==ya(a[P+1].toLowerCase(),l,0))return!0}else if(Sn(r))return!1;if(P=a.indexOf(1,P),P>-1){let B;for(;++P<a.length&&"string"==typeof(B=a[P]);)if(B.toLowerCase()===l)return!0}return!1}function Sn(r){return 4===r.type&&r.value!==Dt}function ts(r,a,l){return a===(4!==r.type||l?r.value:Dt)}function ps(r,a,l){let g=4;const P=r.attrs,B=null!==P?function bi(r){for(let a=0;a<r.length;a++)if(Xe(r[a]))return a;return r.length}(P):0;let H=!1;for(let ie=0;ie<a.length;ie++){const ve=a[ie];if("number"!=typeof ve){if(!H)if(4&g){if(g=2|1&g,""!==ve&&!ts(r,ve,l)||""===ve&&1===a.length){if(Bs(g))return!1;H=!0}}else if(8&g){if(null===P||!Xt(r,P,ve,l)){if(Bs(g))return!1;H=!0}}else{const we=a[++ie],Ze=Zi(ve,P,Sn(r),l);if(-1===Ze){if(Bs(g))return!1;H=!0;continue}if(""!==we){let Ot;if(Ot=Ze>B?"":P[Ze+1].toLowerCase(),2&g&&we!==Ot){if(Bs(g))return!1;H=!0}}}}else{if(!H&&!Bs(g)&&!Bs(ve))return!1;if(H&&Bs(ve))continue;H=!1,g=ve|1&g}}return Bs(g)||H}function Bs(r){return!(1&r)}function Zi(r,a,l,g){if(null===a)return-1;let P=0;if(g||!l){let B=!1;for(;P<a.length;){const H=a[P];if(H===r)return P;if(3===H||6===H)B=!0;else{if(1===H||2===H){let ie=a[++P];for(;"string"==typeof ie;)ie=a[++P];continue}if(4===H)break;if(0===H){P+=4;continue}}P+=B?1:2}return-1}return function Ea(r,a){let l=r.indexOf(4);if(l>-1)for(l++;l<r.length;){const g=r[l];if("number"==typeof g)return-1;if(g===a)return l;l++}return-1}(a,r)}function zi(r,a,l=!1){for(let g=0;g<a.length;g++)if(ps(r,a[g],l))return!0;return!1}function Ca(r,a){e:for(let l=0;l<a.length;l++){const g=a[l];if(r.length===g.length){for(let P=0;P<r.length;P++)if(r[P]!==g[P])continue e;return!0}}return!1}function Pr(r,a){return r?":not("+a.trim()+")":a}function ia(r){let a=r[0],l=1,g=2,P="",B=!1;for(;l<r.length;){let H=r[l];if("string"==typeof H)if(2&g){const ie=r[++l];P+="["+H+(ie.length>0?'="'+ie+'"':"")+"]"}else 8&g?P+="."+H:4&g&&(P+=" "+H);else""!==P&&!Bs(H)&&(a+=Pr(B,P),P=""),g=H,B=B||!Bs(g);l++}return""!==P&&(a+=Pr(B,P)),a}function wl(r){return ut(()=>{const a=ba(r),l={...a,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Ir.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||bo.Emulated,styles:r.styles||Xs,_:null,schemas:r.schemas||null,tView:null,id:""};Ta(l);const g=r.dependencies;return l.directiveDefs=Xa(g,!1),l.pipeDefs=Xa(g,!0),l.id=function pd(r){let a=0;const l=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const P of l)a=Math.imul(31,a)+P.charCodeAt(0)|0;return a+=2147483648,"c"+a}(l),l})}function al(r){return ri(r)||oo(r)}function za(r){return null!==r}function La(r){return ut(()=>({type:r.type,bootstrap:r.bootstrap||Xs,declarations:r.declarations||Xs,imports:r.imports||Xs,exports:r.exports||Xs,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function ll(r,a){if(null==r)return so;const l={};for(const g in r)if(r.hasOwnProperty(g)){const P=r[g];let B,H,ie=Zo.None;Array.isArray(P)?(ie=P[0],B=P[1],H=P[2]??B):(B=P,H=P),a?(l[B]=ie!==Zo.None?[g,ie]:g,a[B]=H):l[B]=g}return l}function Ya(r){return ut(()=>{const a=ba(r);return Ta(a),a})}function cl(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function ri(r){return r[Cs]||null}function oo(r){return r[Ti]||null}function yo(r){return r[Hi]||null}function Cr(r){const a=ri(r)||oo(r)||yo(r);return null!==a&&a.standalone}function ui(r,a){const l=r[Li]||null;if(!l&&!0===a)throw new Error(`Type ${bt(r)} does not have '\u0275mod' property.`);return l}function ba(r){const a={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:r.inputs||so,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||Xs,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ll(r.inputs,a),outputs:ll(r.outputs),debugInfo:null}}function Ta(r){r.features?.forEach(a=>a(r))}function Xa(r,a){if(!r)return null;const l=a?yo:al;return()=>("function"==typeof r?r():r).map(g=>l(g)).filter(za)}function oa(r){return{\u0275providers:r}}function Is(...r){return{\u0275providers:Zr(0,r),\u0275fromNgModule:!0}}function Zr(r,...a){const l=[],g=new Set;let P;const B=H=>{l.push(H)};return Vt(a,H=>{const ie=H;Na(ie,B,[],g)&&(P||=[],P.push(ie))}),void 0!==P&&xl(P,B),l}function xl(r,a){for(let l=0;l<r.length;l++){const{ngModule:g,providers:P}=r[l];qo(P,B=>{a(B,g)})}}function Na(r,a,l,g){if(!(r=xe(r)))return!1;let P=null,B=ci(r);const H=!B&&ri(r);if(B||H){if(H&&!H.standalone)return!1;P=r}else{const ve=r.ngModule;if(B=ci(ve),!B)return!1;P=ve}const ie=g.has(P);if(H){if(ie)return!1;if(g.add(P),H.dependencies){const ve="function"==typeof H.dependencies?H.dependencies():H.dependencies;for(const we of ve)Na(we,a,l,g)}}else{if(!B)return!1;{if(null!=B.imports&&!ie){let we;g.add(P);try{Vt(B.imports,Ze=>{Na(Ze,a,l,g)&&(we||=[],we.push(Ze))})}finally{}void 0!==we&&xl(we,a)}if(!ie){const we=qe(P)||(()=>new P);a({provide:P,useFactory:we,deps:Xs},P),a({provide:mo,useValue:P,multi:!0},P),a({provide:io,useValue:()=>po(P),multi:!0},P)}const ve=B.providers;if(null!=ve&&!ie){const we=r;qo(ve,Ze=>{a(Ze,we)})}}}return P!==r&&void 0!==r.providers}function qo(r,a){for(let l of r)hs(l)&&(l=l.\u0275providers),Array.isArray(l)?qo(l,a):a(l)}const ra=Yt({provide:String,useValue:Yt});function Ll(r){return null!==r&&"object"==typeof r&&ra in r}function ro(r){return"function"==typeof r}const sr=new lt(""),br={},Wi={};let Ut;function dn(){return void 0===Ut&&(Ut=new ko),Ut}class xt{}class An extends xt{get destroyed(){return this._destroyed}constructor(a,l,g,P){super(),this.parent=l,this.source=g,this.scopes=P,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kn(a,H=>this.processProvider(H)),this.records.set(nr,_i(void 0,this)),P.has("environment")&&this.records.set(xt,_i(void 0,this));const B=this.records.get(sr);null!=B&&"string"==typeof B.value&&this.scopes.add(B.value),this.injectorDefTypes=new Set(this.get(mo,Xs,Qt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const a=f(null);try{for(const g of this._ngOnDestroyHooks)g.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const g of l)g()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),f(a)}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const l=tr(this),g=bs(void 0);try{return a()}finally{tr(l),bs(g)}}get(a,l=pi,g=Qt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(to))return a[to](this);g=hr(g);const B=tr(this),H=bs(void 0);try{if(!(g&Qt.SkipSelf)){let ve=this.records.get(a);if(void 0===ve){const we=function ki(r){return"function"==typeof r||"object"==typeof r&&r instanceof lt}(a)&&cn(a);ve=we&&this.injectableDefInScope(we)?_i(Wn(a),br):null,this.records.set(a,ve)}if(null!=ve)return this.hydrate(a,ve)}return(g&Qt.Self?dn():this.parent).get(a,l=g&Qt.Optional&&l===pi?null:l)}catch(ie){if("NullInjectorError"===ie.name){if((ie[vr]=ie[vr]||[]).unshift(bt(a)),B)throw ie;return function xa(r,a,l,g){const P=r[vr];throw a[yr]&&P.unshift(a[yr]),r.message=function sa(r,a,l,g=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let P=bt(a);if(Array.isArray(a))P=a.map(bt).join(" -> ");else if("object"==typeof a){let B=[];for(let H in a)if(a.hasOwnProperty(H)){let ie=a[H];B.push(H+":"+("string"==typeof ie?JSON.stringify(ie):bt(ie)))}P=`{${B.join(", ")}}`}return`${l}${g?"("+g+")":""}[${P}]: ${r.replace(Xo,"\n  ")}`}("\n"+r.message,P,l,g),r.ngTokenPath=P,r[vr]=null,r}(ie,a,"R3InjectorError",this.source)}throw ie}finally{bs(H),tr(B)}}resolveInjectorInitializers(){const a=f(null),l=tr(this),g=bs(void 0);try{const B=this.get(io,Xs,Qt.Self);for(const H of B)H()}finally{tr(l),bs(g),f(a)}}toString(){const a=[],l=this.records;for(const g of l.keys())a.push(bt(g));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ot(205,!1)}processProvider(a){let l=ro(a=xe(a))?a:xe(a&&a.provide);const g=function Us(r){return Ll(r)?_i(void 0,r.useValue):_i(Qn(r),br)}(a);if(!ro(a)&&!0===a.multi){let P=this.records.get(l);P||(P=_i(void 0,br,!0),P.factory=()=>Jr(P.multi),this.records.set(l,P)),l=a,P.multi.push(a)}this.records.set(l,g)}hydrate(a,l){const g=f(null);try{return l.value===br&&(l.value=Wi,l.value=l.factory()),"object"==typeof l.value&&l.value&&function qi(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}finally{f(g)}}injectableDefInScope(a){if(!a.providedIn)return!1;const l=xe(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(a){const l=this._onDestroyHooks.indexOf(a);-1!==l&&this._onDestroyHooks.splice(l,1)}}function Wn(r){const a=cn(r),l=null!==a?a.factory:qe(r);if(null!==l)return l;if(r instanceof lt)throw new ot(204,!1);if(r instanceof Function)return function os(r){if(r.length>0)throw new ot(204,!1);const l=function Ls(r){return r&&(r[_t]||r[We])||null}(r);return null!==l?()=>l.factory(r):()=>new r}(r);throw new ot(204,!1)}function Qn(r,a,l){let g;if(ro(r)){const P=xe(r);return qe(P)||Wn(P)}if(Ll(r))g=()=>xe(r.useValue);else if(function Ja(r){return!(!r||!r.useFactory)}(r))g=()=>r.useFactory(...Jr(r.deps||[]));else if(function Br(r){return!(!r||!r.useExisting)}(r))g=()=>po(xe(r.useExisting));else{const P=xe(r&&(r.useClass||r.provide));if(!function Ni(r){return!!r.deps}(r))return qe(P)||Wn(P);g=()=>new P(...Jr(r.deps))}return g}function _i(r,a,l=!1){return{factory:r,value:a,multi:l?[]:void 0}}function kn(r,a){for(const l of r)Array.isArray(l)?kn(l,a):l&&hs(l)?kn(l.\u0275providers,a):a(l)}function ao(r,a){r instanceof An&&r.assertNotDestroyed();const g=tr(r),P=bs(void 0);try{return a()}finally{tr(g),bs(P)}}function lo(){return void 0!==qn()||null!=function Yr(){return Jo}()}function he(r){if(!lo())throw new ot(-203,!1)}const Ai=0,es=1,xs=2,Oi=3,go=4,Eo=5,$o=6,ir=7,Xi=8,Po=9,Rr=10,$s=11,dl=12,ul=13,or=14,co=15,hl=16,pl=17,To=18,Ro=19,fd=20,pr=21,rc=22,Fa=23,Zs=25,ac=1,Qa=6,Bi=7,jr=9,_o=10;var Fc=function(r){return r[r.None=0]="None",r[r.HasTransplantedViews=2]="HasTransplantedViews",r}(Fc||{});function si(r){return Array.isArray(r)&&"object"==typeof r[ac]}function Wo(r){return Array.isArray(r)&&!0===r[ac]}function fl(r){return!!(4&r.flags)}function Ba(r){return r.componentOffset>-1}function Nl(r){return!(1&~r.flags)}function Ur(r){return!!r.template}function Fl(r){return!!(512&r[xs])}class qa{constructor(a,l,g){this.previousValue=a,this.currentValue=l,this.firstChange=g}isFirstChange(){return this.firstChange}}function kr(r,a,l,g){null!==a?a.applyValueToInputSignal(a,g):r[l]=g}function ln(){return lu}function lu(r){return r.type.prototype.ngOnChanges&&(r.setInput=cu),gl}function gl(){const r=yp(this),a=r?.current;if(a){const l=r.previous;if(l===so)r.previous=a;else for(let g in a)l[g]=a[g];r.current=null,this.ngOnChanges(a)}}function cu(r,a,l,g,P){const B=this.declaredInputs[g],H=yp(r)||function J_(r,a){return r[vp]=a}(r,{previous:so,current:null}),ie=H.current||(H.current={}),ve=H.previous,we=ve[B];ie[B]=new qa(we&&we.currentValue,l,ve===so),kr(r,a,P,l)}ln.ngInherit=!0;const vp="__ngSimpleChanges__";function yp(r){return r[vp]||null}const _l=function(r,a,l){};let ym=!1;function eo(r){for(;Array.isArray(r);)r=r[Ai];return r}function du(r,a){return eo(a[r])}function Vr(r,a){return eo(a[r.index])}function cc(r,a){return r.data[a]}function Bc(r,a){return r[a]}function aa(r,a){const l=a[r];return si(l)?l:l[Ai]}function uu(r){return!(128&~r[xs])}function el(r,a){return null==a?null:r[a]}function q_(r){r[pl]=0}function ev(r){1024&r[xs]||(r[xs]|=1024,uu(r)&&ih(r))}function tv(r){return!!(9216&r[xs]||r[Fa]?.dirty)}function Tm(r){r[Rr].changeDetectionScheduler?.notify(1),tv(r)?ih(r):64&r[xs]&&(function Z_(){return ym}()?(r[xs]|=1024,ih(r)):r[Rr].changeDetectionScheduler?.notify())}function ih(r){r[Rr].changeDetectionScheduler?.notify();let a=yl(r);for(;null!==a&&!(8192&a[xs])&&(a[xs]|=8192,uu(a));)a=yl(a)}function ks(r,a){if(!(256&~r[xs]))throw new ot(911,!1);null===r[pr]&&(r[pr]=[]),r[pr].push(a)}function yl(r){const a=r[Oi];return Wo(a)?a[Oi]:a}const ei={lFrame:iv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jc(){return ei.bindingsEnabled}function El(){return null!==ei.skipHydrationRootTNode}function En(){return ei.lFrame.lView}function ys(){return ei.lFrame.tView}function dc(r){return ei.lFrame.contextLView=r,r[Xi]}function Ws(r){return ei.lFrame.contextLView=null,r}function Vi(){let r=Om();for(;null!==r&&64===r.type;)r=r.parent;return r}function Om(){return ei.lFrame.currentTNode}function Ul(){const r=ei.lFrame,a=r.currentTNode;return r.isParent?a:a.parent}function ja(r,a){const l=ei.lFrame;l.currentTNode=r,l.isParent=a}function Mm(){return ei.lFrame.isParent}function Uc(){ei.lFrame.isParent=!1}function qr(){const r=ei.lFrame;let a=r.bindingRootIndex;return-1===a&&(a=r.bindingRootIndex=r.tView.bindingStartIndex),a}function kl(){return ei.lFrame.bindingIndex}function Do(){return ei.lFrame.bindingIndex++}function ea(r){const a=ei.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+r,l}function hu(r){ei.lFrame.inI18n=r}function Dp(r,a){const l=ei.lFrame;l.bindingIndex=l.bindingRootIndex=r,Vl(a)}function Vl(r){ei.lFrame.currentDirectiveIndex=r}function Op(){return ei.lFrame.currentQueryIndex}function kc(r){ei.lFrame.currentQueryIndex=r}function lE(r){const a=r[es];return 2===a.type?a.declTNode:1===a.type?r[Eo]:null}function ar(r,a,l){if(l&Qt.SkipSelf){let P=a,B=r;for(;!(P=P.parent,null!==P||l&Qt.Host||(P=lE(B),null===P||(B=B[or],10&P.type))););if(null===P)return!1;a=P,r=B}const g=ei.lFrame=Mp();return g.currentTNode=a,g.lView=r,!0}function ch(r){const a=Mp(),l=r[es];ei.lFrame=a,a.currentTNode=l.firstChild,a.lView=r,a.tView=l,a.contextLView=r,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function Mp(){const r=ei.lFrame,a=null===r?null:r.child;return null===a?iv(r):a}function iv(r){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=a),a}function Mi(){const r=ei.lFrame;return ei.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const ov=Mi;function Sm(){const r=Mi();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Gr(){return ei.lFrame.selectedIndex}function gd(r){ei.lFrame.selectedIndex=r}function xo(){const r=ei.lFrame;return cc(r.tView,r.selectedIndex)}function _d(){return ei.lFrame.currentNamespace}let dh=!0;function Ko(){return dh}function $r(r){dh=r}function uh(r,a){for(let l=a.directiveStart,g=a.directiveEnd;l<g;l++){const B=r.data[l].type.prototype,{ngAfterContentInit:H,ngAfterContentChecked:ie,ngAfterViewInit:ve,ngAfterViewChecked:we,ngOnDestroy:Ze}=B;H&&(r.contentHooks??=[]).push(-l,H),ie&&((r.contentHooks??=[]).push(l,ie),(r.contentCheckHooks??=[]).push(l,ie)),ve&&(r.viewHooks??=[]).push(-l,ve),we&&((r.viewHooks??=[]).push(l,we),(r.viewCheckHooks??=[]).push(l,we)),null!=Ze&&(r.destroyHooks??=[]).push(l,Ze)}}function Ma(r,a,l){Im(r,a,3,l)}function Wr(r,a,l,g){(3&r[xs])===l&&Im(r,a,l,g)}function Ip(r,a){let l=r[xs];(3&l)===a&&(l&=16383,l+=1,r[xs]=l)}function Im(r,a,l,g){const B=g??-1,H=a.length-1;let ie=0;for(let ve=void 0!==g?65535&r[pl]:0;ve<H;ve++)if("number"==typeof a[ve+1]){if(ie=a[ve],null!=g&&ie>=g)break}else a[ve]<0&&(r[pl]+=65536),(ie<B||-1==B)&&(av(r,l,a,ve),r[pl]=(4294901760&r[pl])+ve+2),ve++}function hh(r,a){_l(4,r,a);const l=f(null);try{a.call(r)}finally{f(l),_l(5,r,a)}}function av(r,a,l,g){const P=l[g]<0,B=l[g+1],ie=r[P?-l[g]:l[g]];P?r[xs]>>14<r[pl]>>16&&(3&r[xs])===a&&(r[xs]+=16384,hh(ie,B)):hh(ie,B)}const Vc=-1;class fu{constructor(a,l,g){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=g}}function Am(r){return r!==Vc}function Gc(r){return 32767&r}function uc(r,a){let l=function ph(r){return r>>16}(r),g=a;for(;l>0;)g=g[or],l--;return g}let fh=!0;function mh(r){const a=fh;return fh=r,a}const gh=255,Fs=5;let _h=0;const Kr={};function hc(r,a){const l=yh(r,a);if(-1!==l)return l;const g=a[es];g.firstCreatePass&&(r.injectorIndex=a.length,vd(g.data,r),vd(a,null),vd(g.blueprint,null));const P=yd(r,a),B=r.injectorIndex;if(Am(P)){const H=Gc(P),ie=uc(P,a),ve=ie[es].data;for(let we=0;we<8;we++)a[B+we]=ie[H+we]|ve[H+we]}return a[B+8]=P,B}function vd(r,a){r.push(0,0,0,0,0,0,0,0,a)}function yh(r,a){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===a[r.injectorIndex+8]?-1:r.injectorIndex}function yd(r,a){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let l=0,g=null,P=a;for(;null!==P;){if(g=pv(P),null===g)return Vc;if(l++,P=P[or],-1!==g.injectorIndex)return g.injectorIndex|l<<16}return Vc}function $c(r,a,l){!function vh(r,a,l){let g;"string"==typeof l?g=l.charCodeAt(0)||0:l.hasOwnProperty(jo)&&(g=l[jo]),null==g&&(g=l[jo]=_h++);const P=g&gh;a.data[r+(P>>Fs)]|=1<<P}(r,a,l)}function Rp(r,a,l){if(l&Qt.Optional||void 0!==r)return r;on()}function Ed(r,a,l,g){if(l&Qt.Optional&&void 0===g&&(g=null),!(l&(Qt.Self|Qt.Host))){const P=r[Po],B=bs(void 0);try{return P?P.get(a,g,l&Qt.Optional):vi(a,g,l&Qt.Optional)}finally{bs(B)}}return Rp(g,0,l)}function uv(r,a,l,g=Qt.Default,P){if(null!==r){if(2048&a[xs]&&!(g&Qt.Self)){const H=function hE(r,a,l,g,P){let B=r,H=a;for(;null!==B&&null!==H&&2048&H[xs]&&!(512&H[xs]);){const ie=Eh(B,H,l,g|Qt.Self,Kr);if(ie!==Kr)return ie;let ve=B.parent;if(!ve){const we=H[fd];if(we){const Ze=we.get(l,Kr,g);if(Ze!==Kr)return Ze}ve=pv(H),H=H[or]}B=ve}return P}(r,a,l,g,Kr);if(H!==Kr)return H}const B=Eh(r,a,l,g,Kr);if(B!==Kr)return B}return Ed(a,l,g,P)}function Eh(r,a,l,g,P){const B=function hv(r){if("string"==typeof r)return r.charCodeAt(0)||0;const a=r.hasOwnProperty(jo)?r[jo]:void 0;return"number"==typeof a?a>=0?a&gh:bh:a}(l);if("function"==typeof B){if(!ar(a,r,g))return g&Qt.Host?Rp(P,0,g):Ed(a,l,g,P);try{let H;if(H=B(g),null!=H||g&Qt.Optional)return H;on()}finally{ov()}}else if("number"==typeof B){let H=null,ie=yh(r,a),ve=Vc,we=g&Qt.Host?a[co][Eo]:null;for((-1===ie||g&Qt.SkipSelf)&&(ve=-1===ie?yd(r,a):a[ie+8],ve!==Vc&&Cd(g,!1)?(H=a[es],ie=Gc(ve),a=uc(ve,a)):ie=-1);-1!==ie;){const Ze=a[es];if(Ap(B,ie,Ze.data)){const Ot=yi(ie,a,l,H,g,we);if(Ot!==Kr)return Ot}ve=a[ie+8],ve!==Vc&&Cd(g,a[es].data[ie+8]===we)&&Ap(B,ie,a)?(H=Ze,ie=Gc(ve),a=uc(ve,a)):ie=-1}}return P}function yi(r,a,l,g,P,B){const H=a[es],ie=H.data[r+8],Ze=Ch(ie,H,l,null==g?Ba(ie)&&fh:g!=H&&!!(3&ie.type),P&Qt.Host&&B===ie);return null!==Ze?Wc(a,H,Ze,ie):Kr}function Ch(r,a,l,g,P){const B=r.providerIndexes,H=a.data,ie=1048575&B,ve=r.directiveStart,Ze=B>>20,tn=P?ie+Ze:r.directiveEnd;for(let fn=g?ie:ie+Ze;fn<tn;fn++){const bn=H[fn];if(fn<ve&&l===bn||fn>=ve&&bn.type===l)return fn}if(P){const fn=H[ve];if(fn&&Ur(fn)&&fn.type===l)return ve}return null}function Wc(r,a,l,g){let P=r[l];const B=a.data;if(function lv(r){return r instanceof fu}(P)){const H=P;H.resolving&&function Uo(r,a){throw a&&a.join(" > "),new ot(-200,r)}(function Qs(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():As(r)}(B[l]));const ie=mh(H.canSeeViewProviders);H.resolving=!0;const we=H.injectImpl?bs(H.injectImpl):null;ar(r,g,Qt.Default);try{P=r[l]=H.factory(void 0,B,r,g),a.firstCreatePass&&l>=g.directiveStart&&function pu(r,a,l){const{ngOnChanges:g,ngOnInit:P,ngDoCheck:B}=a.type.prototype;if(g){const H=lu(a);(l.preOrderHooks??=[]).push(r,H),(l.preOrderCheckHooks??=[]).push(r,H)}P&&(l.preOrderHooks??=[]).push(0-r,P),B&&((l.preOrderHooks??=[]).push(r,B),(l.preOrderCheckHooks??=[]).push(r,B))}(l,B[l],a)}finally{null!==we&&bs(we),mh(ie),H.resolving=!1,ov()}}return P}function Ap(r,a,l){return!!(l[a+(r>>Fs)]&1<<r)}function Cd(r,a){return!(r&Qt.Self||r&Qt.Host&&a)}class fr{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,g){return uv(this._tNode,this._lView,a,hr(g),l)}}function bh(){return new fr(Vi(),En())}function xm(r){return ut(()=>{const a=r.prototype.constructor,l=a[$i]||gu(a),g=Object.prototype;let P=Object.getPrototypeOf(r.prototype).constructor;for(;P&&P!==g;){const B=P[$i]||gu(P);if(B&&B!==l)return B;P=Object.getPrototypeOf(P)}return B=>new B})}function gu(r){return Ve(r)?()=>{const a=gu(xe(r));return a&&a()}:qe(r)}function pv(r){const a=r[es],l=a.type;return 2===l?a.declTNode:1===l?r[Eo]:null}function _u(r){return function wm(r,a){if("class"===a)return r.classes;if("style"===a)return r.styles;const l=r.attrs;if(l){const g=l.length;let P=0;for(;P<g;){const B=l[P];if(Xe(B))break;if(0===B)P+=2;else if("number"==typeof B)for(P++;P<g&&"string"==typeof l[P];)P++;else{if(B===a)return l[P+1];P+=2}}}return null}(Vi(),r)}function Tl(r,a=null,l=null,g){const P=Lp(r,a,l,g);return P.resolveInjectorInitializers(),P}function Lp(r,a=null,l=null,g,P=new Set){const B=[l||Xs,Is(r)];return g=g||("object"==typeof r?void 0:bt(r)),new An(B,a||dn(),g||null,P)}let Ua=(()=>{class r{static{this.THROW_IF_NOT_FOUND=pi}static{this.NULL=new ko}static create(l,g){if(Array.isArray(l))return Tl({name:""},g,l,"");{const P=l.name??"";return Tl({name:P},l.parent,l.providers,P)}}static{this.\u0275prov=ls({token:r,providedIn:"any",factory:()=>po(nr)})}static{this.__NG_ELEMENT_ID__=-1}}return r})();function Np(r){return r.ngOriginalError}class Dl{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&Np(a);for(;l&&Np(l);)l=Np(l);return l||null}}const jm=new lt("",{providedIn:"root",factory:()=>Ks(Dl).handleError.bind(void 0)});let Kc=(()=>{class r{static{this.__NG_ELEMENT_ID__=yv}static{this.__NG_ENV_ID__=l=>l}}return r})();class Cu extends Kc{constructor(a){super(),this._lView=a}onDestroy(a){return ks(this._lView,a),()=>function bp(r,a){if(null===r[pr])return;const l=r[pr].indexOf(a);-1!==l&&r[pr].splice(l,1)}(this._lView,a)}}function yv(){return new Cu(En())}function Um(){return zc(Vi(),En())}function zc(r,a){return new la(Vr(r,a))}let la=(()=>{class r{constructor(l){this.nativeElement=l}static{this.__NG_ELEMENT_ID__=Um}}return r})();function km(r){return r instanceof la?r.nativeElement:r}function Vm(r){return a=>{setTimeout(r,void 0,a)}}const Gl=class gE extends ht.B{constructor(a=!1){super(),this.destroyRef=void 0,this.__isAsync=a,lo()&&(this.destroyRef=Ks(Kc,{optional:!0})??void 0)}emit(a){const l=f(null);try{super.next(a)}finally{f(l)}}subscribe(a,l,g){let P=a,B=l||(()=>null),H=g;if(a&&"object"==typeof a){const ve=a;P=ve.next?.bind(ve),B=ve.error?.bind(ve),H=ve.complete?.bind(ve)}this.__isAsync&&(B=Vm(B),P&&(P=Vm(P)),H&&(H=Vm(H)));const ie=super.subscribe({next:P,error:B,complete:H});return a instanceof Fe.yU&&a.add(ie),ie}};function _E(){return this._results[Symbol.iterator]()}class Bp{get changes(){return this._changes??=new Gl}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const l=Bp.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=_E)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){this.dirty=!1;const g=function jt(r){return r.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function at(r,a,l){if(r.length!==a.length)return!1;for(let g=0;g<r.length;g++){let P=r[g],B=a[g];if(l&&(P=l(P),B=l(B)),B!==P)return!1}return!0}(this._results,g,l))&&(this._results=g,this.length=g.length,this.last=g[this.length-1],this.first=g[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(a){this._onDirty=a}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}const Th="ngSkipHydration",vE="ngskiphydration";function jp(r){const a=r.mergedAttrs;if(null===a)return!1;for(let l=0;l<a.length;l+=2){const g=a[l];if("number"==typeof g)return!1;if("string"==typeof g&&g.toLowerCase()===vE)return!0}return!1}function Gm(r){return r.hasAttribute(Th)}function Dh(r){return!(128&~r.flags)}const Y=new Map;let I=0;const us="__ngContext__";function Kn(r,a){si(a)?(r[us]=a[Ro],function ge(r){Y.set(r[Ro],r)}(a)):r[us]=a}function lr(r){return ka(r[dl])}function Fo(r){return ka(r[go])}function ka(r){for(;null!==r&&!Wo(r);)r=r[go];return r}let Gp;function $p(r){Gp=r}function gc(){if(void 0!==Gp)return Gp;if(typeof document<"u")return document;throw new ot(210,!1)}const Ol=new lt("",{providedIn:"root",factory:()=>Cv}),Cv="ng",$m=new lt(""),Ih=new lt("",{providedIn:"platform",factory:()=>"unknown"}),Tv=new lt(""),Wp=new lt("",{providedIn:"root",factory:()=>gc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Kp(r){return r}function Wm(){const r=new Qc;return"browser"===Ks(Ih)&&(r.store=function Km(r,a){const l=r.getElementById(a+"-state");if(l?.textContent)try{return JSON.parse(l.textContent)}catch(g){console.warn("Exception while restoring TransferState for app "+a,g)}return{}}(gc(),Ks(Ol))),r}let Qc=(()=>{class r{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=ls({token:r,providedIn:"root",factory:Wm})}get(l,g){return void 0!==this.store[l]?this.store[l]:g}set(l,g){this.store[l]=g}remove(l){delete this.store[l]}hasKey(l){return this.store.hasOwnProperty(l)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(l,g){this.onSerializeCallbacks[l]=g}toJson(){for(const l in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(l))try{this.store[l]=this.onSerializeCallbacks[l]()}catch(g){console.warn("Exception in onSerialize callback: ",g)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return r})();const Rh="h",Ah="b";var Zc=function(r){return r.FirstChild="f",r.NextSibling="n",r}(Zc||{});const Dv="e",Ov="t",Hp="c",Hm="x",wh="r",Mv="i",Sv="n",zm="d",Iv="__nghData__",zp="ngh",OO="nghm";let yE=()=>null;function MO(r,a,l=!1){let g=r.getAttribute(zp);if(null==g)return null;const[P,B]=g.split("|");if(g=l?B:P,!g)return null;const ie=l?P:B?`|${B}`:"";let ve={};if(""!==g){const Ze=a.get(Qc,null,{optional:!0});null!==Ze&&(ve=Ze.get(Iv,[])[Number(g)])}const we={data:ve,firstChild:r.firstChild??null};return l&&(we.firstChild=r,Dd(we,0,r.nextSibling)),ie?r.setAttribute(zp,ie):r.removeAttribute(zp),we}function Pv(r,a,l=!1){return yE(r,a,l)}function EE(r){let a=r._lView;return 2===a[es].type?null:(Fl(a)&&(a=a[Zs]),a)}function Dd(r,a,l){r.segmentHeads??={},r.segmentHeads[a]=l}function Av(r,a){return r.segmentHeads?.[a]??null}function CE(r,a){return r.data[Hp]?.[a]??null}function Xp(r,a){const l=CE(r,a)??[];let g=0;for(let P of l)g+=P[wh]*(P[Hm]??1);return g}function Xm(r,a){if(typeof r.disconnectedNodes>"u"){const l=r.data[zm];r.disconnectedNodes=l?new Set(l):null}return!!r.disconnectedNodes?.has(a)}const Ue=new lt(""),ii=new lt("",{providedIn:"root",factory:()=>!1}),$l=new lt("");let oi,Ec;function qc(r){return function No(){if(void 0===oi&&(oi=null,gn.trustedTypes))try{oi=gn.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return oi}()?.createHTML(r)||r}function bE(){if(void 0===Ec&&(Ec=null,gn.trustedTypes))try{Ec=gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Ec}function TE(r){return bE()?.createHTML(r)||r}function Jp(r){return bE()?.createScriptURL(r)||r}class Lh{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ne})`}}class OE extends Lh{getTypeName(){return"HTML"}}class xO extends Lh{getTypeName(){return"Style"}}class LO extends Lh{getTypeName(){return"Script"}}class ME extends Lh{getTypeName(){return"URL"}}class Tu extends Lh{getTypeName(){return"ResourceURL"}}function Cc(r){return r instanceof Lh?r.changingThisBreaksApplicationSecurity:r}function Wl(r,a){const l=function NO(r){return r instanceof Lh&&r.getTypeName()||null}(r);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see ${Ne})`)}return l===a}function SE(r){return new OE(r)}function DA(r){return new xO(r)}function Od(r){return new LO(r)}function FO(r){return new ME(r)}function BO(r){return new Tu(r)}function Du(r){const a=new Kl(r);return function Sd(){try{return!!(new window.DOMParser).parseFromString(qc(""),"text/html")}catch{return!1}}()?new Md(a):a}class Md{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(qc(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch{return null}}}class Kl{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const l=this.inertDocument.createElement("template");return l.innerHTML=qc(a),l}}const Id=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nh(r){return(r=String(r)).match(Id)?r:"unsafe:"+r}function ed(r){const a={};for(const l of r.split(","))a[l]=!0;return a}function Qp(...r){const a={};for(const l of r)for(const g in l)l.hasOwnProperty(g)&&(a[g]=!0);return a}const jO=ed("area,br,col,hr,img,wbr"),bc=ed("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tc=ed("rp,rt"),wv=Qp(jO,Qp(bc,ed("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qp(Tc,ed("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qp(Tc,bc)),xv=ed("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fh=Qp(xv,ed("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ed("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),PE=ed("script,style,template");class Ia{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,g=!0,P=[];for(;l;)if(l.nodeType===Node.ELEMENT_NODE?g=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,g&&l.firstChild)P.push(l),l=AE(l);else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let B=Pd(l);if(B){l=B;break}l=P.pop()}return this.buf.join("")}startElement(a){const l=Dc(a).toLowerCase();if(!wv.hasOwnProperty(l))return this.sanitizedSomething=!0,!PE.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const g=a.attributes;for(let P=0;P<g.length;P++){const B=g.item(P),H=B.name,ie=H.toLowerCase();if(!Fh.hasOwnProperty(ie)){this.sanitizedSomething=!0;continue}let ve=B.value;xv[ie]&&(ve=Nh(ve)),this.buf.push(" ",H,'="',Oc(ve),'"')}return this.buf.push(">"),!0}endElement(a){const l=Dc(a).toLowerCase();wv.hasOwnProperty(l)&&!jO.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(Oc(a))}}function Pd(r){const a=r.nextSibling;if(a&&r!==a.previousSibling)throw Lv(a);return a}function AE(r){const a=r.firstChild;if(a&&function RE(r,a){return(r.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(r,a))throw Lv(a);return a}function Dc(r){const a=r.nodeName;return"string"==typeof a?a:"FORM"}function Lv(r){return new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`)}const Ou=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wE=/([^\#-~ |!])/g;function Oc(r){return r.replace(/&/g,"&amp;").replace(Ou,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(wE,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zp;function tl(r,a){let l=null;try{Zp=Zp||Du(r);let g=a?String(a):"";l=Zp.getInertBodyElement(g);let P=5,B=g;do{if(0===P)throw new Error("Failed to sanitize html because the input is unstable");P--,g=B,B=l.innerHTML,l=Zp.getInertBodyElement(g)}while(g!==B);return qc((new Ia).sanitizeChildren(Jm(l)||l))}finally{if(l){const g=Jm(l)||l;for(;g.firstChild;)g.removeChild(g.firstChild)}}}function Jm(r){return"content"in r&&function Hl(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Mu=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Mu||{});function xE(r){const a=Ra();return a?TE(a.sanitize(Mu.HTML,r)||""):Wl(r,"HTML")?TE(Cc(r)):tl(gc(),As(r))}function Qm(r){const a=Ra();return a?a.sanitize(Mu.URL,r)||"":Wl(r,"URL")?Cc(r):Nh(As(r))}function Pa(r){const a=Ra();if(a)return Jp(a.sanitize(Mu.RESOURCE_URL,r)||"");if(Wl(r,"ResourceURL"))return Jp(Cc(r));throw new ot(904,!1)}function FE(r,a,l){return function kO(r,a){return"src"===a&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===a&&("base"===r||"link"===r)?Pa:Qm}(a,l)(r)}function Ra(){const r=En();return r&&r[Rr].sanitizer}const BE=/^>|^->|<!--|-->|--!>|<!-$/g,jE=/(<|>)/g,Ad="\u200b$1\u200b";function GE(r){return r.ownerDocument.defaultView}function Uv(r){return r.ownerDocument}function nl(r){return r instanceof Function?r():r}function zl(r){return"browser"===(r??Ks(Ua)).get(Ih)}var tg=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(tg||{});let wd;function ng(r,a){return wd(r,a)}function jh(r,a,l,g,P){if(null!=g){let B,H=!1;Wo(g)?B=g:si(g)&&(H=!0,g=g[Ai]);const ie=eo(g);0===r&&null!==l?null==P?Pi(a,l,ie):Ho(a,l,ie,P||null,!0):1===r&&null!==l?Ho(a,l,ie,P||null,!0):2===r?rf(a,ie,H):3===r&&a.destroyNode(ie),null!=B&&function JO(r,a,l,g,P){const B=l[Bi];B!==eo(l)&&jh(a,r,g,B,P);for(let ie=_o;ie<l.length;ie++){const ve=l[ie];rg(ve[es],ve,r,a,g,B)}}(a,r,B,l,P)}}function Gv(r,a){return r.createText(a)}function Uh(r,a,l){r.setValue(a,l)}function kh(r,a){return r.createComment(function UE(r){return r.replace(BE,a=>a.replace(jE,Ad))}(a))}function sg(r,a,l){return r.createElement(a,l)}function KE(r,a){a[Rr].changeDetectionScheduler?.notify(1),rg(r,a,a[$s],2,null,null)}function $v(r,a){const l=r[jr],g=l.indexOf(a);l.splice(g,1)}function Ps(r,a){if(r.length<=_o)return;const l=_o+a,g=r[l];if(g){const P=g[hl];null!==P&&P!==r&&$v(P,g),a>0&&(r[l-1][go]=g[go]);const B=is(r,_o+a);!function WE(r,a){KE(r,a),a[Ai]=null,a[Eo]=null}(g[es],g);const H=B[To];null!==H&&H.detachView(B[es]),g[Oi]=null,g[go]=null,g[xs]&=-129}return g}function Vn(r,a){if(!(256&a[xs])){const l=a[$s];l.destroyNode&&rg(r,a,l,3,null,null),function YO(r){let a=r[dl];if(!a)return Mc(r[es],r);for(;a;){let l=null;if(si(a))l=a[dl];else{const g=a[_o];g&&(l=g)}if(!l){for(;a&&!a[go]&&a!==r;)si(a)&&Mc(a[es],a),a=a[Oi];null===a&&(a=r),si(a)&&Mc(a[es],a),l=a&&a[go]}a=l}}(a)}}function Mc(r,a){if(256&a[xs])return;const l=f(null);try{a[xs]&=-129,a[xs]|=256,a[Fa]&&x(a[Fa]),function Ii(r,a){let l;if(null!=r&&null!=(l=r.destroyHooks))for(let g=0;g<l.length;g+=2){const P=a[l[g]];if(!(P instanceof fu)){const B=l[g+1];if(Array.isArray(B))for(let H=0;H<B.length;H+=2){const ie=P[B[H]],ve=B[H+1];_l(4,ie,ve);try{ve.call(ie)}finally{_l(5,ie,ve)}}else{_l(4,P,B);try{B.call(P)}finally{_l(5,P,B)}}}}}(r,a),function Gn(r,a){const l=r.cleanup,g=a[ir];if(null!==l)for(let B=0;B<l.length-1;B+=2)if("string"==typeof l[B]){const H=l[B+3];H>=0?g[H]():g[-H].unsubscribe(),B+=2}else l[B].call(g[l[B+1]]);null!==g&&(a[ir]=null);const P=a[pr];if(null!==P){a[pr]=null;for(let B=0;B<P.length;B++)(0,P[B])()}}(r,a),1===a[es].type&&a[$s].destroy();const g=a[hl];if(null!==g&&Wo(a[Oi])){g!==a[Oi]&&$v(g,a);const P=a[To];null!==P&&P.detachView(r)}!function Nt(r){Y.delete(r[Ro])}(a)}finally{f(l)}}function wr(r,a,l){return Oo(r,a.parent,l)}function Oo(r,a,l){let g=a;for(;null!==g&&40&g.type;)g=(a=g).parent;if(null===g)return l[Ai];{const{componentOffset:P}=g;if(P>-1){const{encapsulation:B}=r.data[g.directiveStart+P];if(B===bo.None||B===bo.Emulated)return null}return Vr(g,l)}}function Ho(r,a,l,g,P){r.insertBefore(a,l,g,P)}function Pi(r,a,l){r.appendChild(a,l)}function Vh(r,a,l,g,P){null!==g?Ho(r,a,l,g,P):Pi(r,a,l)}function og(r,a){return r.parentNode(a)}function zE(r,a,l){return XE(r,a,l)}function YE(r,a,l){return 40&r.type?Vr(r,l):null}let Wv,XE=YE;function JE(r,a){XE=r,Wv=a}function Ld(r,a,l,g){const P=wr(r,g,a),B=a[$s],ie=zE(g.parent||a[Eo],g,a);if(null!=P)if(Array.isArray(l))for(let ve=0;ve<l.length;ve++)Vh(B,P,l[ve],ie,!1);else Vh(B,P,l,ie,!1);void 0!==Wv&&Wv(B,g,a,l,P)}function nf(r,a){if(null!==a){const l=a.type;if(3&l)return Vr(a,r);if(4&l)return Sc(-1,r[a.index]);if(8&l){const g=a.child;if(null!==g)return nf(r,g);{const P=r[a.index];return Wo(P)?Sc(-1,P):eo(P)}}if(32&l)return ng(a,r)()||eo(r[a.index]);{const g=sf(r,a);return null!==g?Array.isArray(g)?g[0]:nf(yl(r[co]),g):nf(r,a.next)}}return null}function sf(r,a){return null!==a?r[co][Eo].projection[a.projection]:null}function Sc(r,a){const l=_o+r+1;if(l<a.length){const g=a[l],P=g[es].firstChild;if(null!==P)return nf(g,P)}return a[Bi]}function rf(r,a,l){const g=og(r,a);g&&function zo(r,a,l,g){r.removeChild(a,l,g)}(r,g,a,l)}function Kv(r){r.textContent=""}function Hv(r,a,l,g,P,B,H){for(;null!=l;){const ie=g[l.index],ve=l.type;if(H&&0===a&&(ie&&Kn(eo(ie),g),l.flags|=2),32&~l.flags)if(8&ve)Hv(r,a,l.child,g,P,B,!1),jh(a,r,P,ie,B);else if(32&ve){const we=ng(l,g);let Ze;for(;Ze=we();)jh(a,r,P,Ze,B);jh(a,r,P,ie,B)}else 16&ve?QE(r,a,g,l,P,B):jh(a,r,P,ie,B);l=H?l.projectionNext:l.next}}function rg(r,a,l,g,P,B){Hv(l,g,r.firstChild,a,P,B,!1)}function QE(r,a,l,g,P,B){const H=l[co],ve=H[Eo].projection[g.projection];if(Array.isArray(ve))for(let we=0;we<ve.length;we++)jh(a,r,P,ve[we],B);else{let we=ve;const Ze=H[Oi];Dh(g)&&(we.flags|=128),Hv(r,a,we,Ze,P,B,!0)}}function lf(r,a,l){""===l?r.removeAttribute(a,"class"):r.setAttribute(a,"class",l)}function Nd(r,a,l){const{mergedAttrs:g,classes:P,styles:B}=l;null!==g&&Ge(r,a,g),null!==P&&lf(r,a,P),null!==B&&function QO(r,a,l){r.setAttribute(a,"style",l)}(r,a,B)}const Ys={};function Yl(r=1){Fd(ys(),En(),Gr()+r,!1)}function Fd(r,a,l,g){if(!g)if(3&~a[xs]){const B=r.preOrderHooks;null!==B&&Wr(a,B,0,l)}else{const B=r.preOrderCheckHooks;null!==B&&Ma(a,B,l)}gd(l)}function Sl(r,a=Qt.Default){const l=En();return null===l?po(r,a):uv(Vi(),l,xe(r),a)}function Bd(){throw new Error("invalid")}function ZE(r,a,l,g,P,B){const H=f(null);try{let ie=null;P&Zo.SignalBased&&(ie=a[g][m]),null!==ie&&void 0!==ie.transformFn&&(B=ie.transformFn(B)),P&Zo.HasDecoratorInputTransform&&(B=r.inputTransforms[g].call(a,B)),null!==r.setInput?r.setInput(a,ie,B,l,g):kr(a,ie,g,B)}finally{f(H)}}function ag(r,a,l,g,P,B,H,ie,ve,we,Ze){const Ot=a.blueprint.slice();return Ot[Ai]=P,Ot[xs]=204|g,(null!==we||r&&2048&r[xs])&&(Ot[xs]|=2048),q_(Ot),Ot[Oi]=Ot[or]=r,Ot[Xi]=l,Ot[Rr]=H||r&&r[Rr],Ot[$s]=ie||r&&r[$s],Ot[Po]=ve||r&&r[Po]||null,Ot[Eo]=B,Ot[Ro]=function V(){return I++}(),Ot[$o]=Ze,Ot[fd]=we,Ot[co]=2==a.type?r[co]:Ot,Ot}function Gh(r,a,l,g,P){let B=r.data[a];if(null===B)B=zv(r,a,l,g,P),function rh(){return ei.lFrame.inI18n}()&&(B.flags|=32);else if(64&B.type){B.type=l,B.value=g,B.attrs=P;const H=Ul();B.injectorIndex=null===H?-1:H.injectorIndex}return ja(B,!0),B}function zv(r,a,l,g,P){const B=Om(),H=Mm(),ve=r.data[a]=function sM(r,a,l,g,P,B){let H=a?a.injectorIndex:-1,ie=0;return El()&&(ie|=128),{type:l,index:g,insertBeforeIndex:null,injectorIndex:H,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:ie,providerIndexes:0,value:P,attrs:B,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,H?B:B&&B.parent,l,a,g,P);return null===r.firstChild&&(r.firstChild=ve),null!==B&&(H?null==B.child&&null!==ve.parent&&(B.child=ve):null===B.next&&(B.next=ve,ve.prev=B)),ve}function cf(r,a,l,g){if(0===l)return-1;const P=a.length;for(let B=0;B<l;B++)a.push(g),r.blueprint.push(g),r.data.push(null);return P}function qE(r,a,l,g,P){const B=Gr(),H=2&g;try{gd(-1),H&&a.length>Zs&&Fd(r,a,Zs,!1),_l(H?2:0,P),l(g,P)}finally{gd(B),_l(H?3:1,P)}}function Yv(r,a,l){if(fl(a)){const g=f(null);try{const B=a.directiveEnd;for(let H=a.directiveStart;H<B;H++){const ie=r.data[H];ie.contentQueries&&ie.contentQueries(1,l[H],H)}}finally{f(g)}}}function Xv(r,a,l){jc()&&(function aM(r,a,l,g){const P=l.directiveStart,B=l.directiveEnd;Ba(l)&&function Zv(r,a,l){const g=Vr(a,r),P=e1(l);let H=16;l.signals?H=4096:l.onPush&&(H=64);const ie=sl(r,ag(r,P,null,H,g,a,null,r[Rr].rendererFactory.createRenderer(g,l),null,null,null));r[a.index]=ie}(a,l,r.data[P+l.componentOffset]),r.firstCreatePass||hc(l,a),Kn(g,a);const H=l.initialInputs;for(let ie=P;ie<B;ie++){const ve=r.data[ie],we=Wc(a,r,ie,l);Kn(we,a),null!==H&&ua(0,ie-P,we,ve,0,H),Ur(ve)&&(aa(l.index,a)[Xi]=Wc(a,r,ie,l))}}(r,a,l,Vr(l,a)),!(64&~l.flags)&&pf(r,a,l))}function Jv(r,a,l=Vr){const g=a.localNames;if(null!==g){let P=a.index+1;for(let B=0;B<g.length;B+=2){const H=g[B+1],ie=-1===H?l(a,r):r[H];r[P++]=ie}}}function e1(r){const a=r.tView;return null===a||a.incompleteFirstPass?r.tView=df(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):a}function df(r,a,l,g,P,B,H,ie,ve,we,Ze){const Ot=Zs+g,tn=Ot+P,fn=function qO(r,a){const l=[];for(let g=0;g<a;g++)l.push(g<r?null:Ys);return l}(Ot,tn),bn="function"==typeof we?we():we;return fn[es]={type:r,blueprint:fn,template:l,queries:null,viewQuery:ie,declTNode:a,data:fn.slice().fill(null,Ot),bindingStartIndex:Ot,expandoStartIndex:tn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof B?B():B,pipeRegistry:"function"==typeof H?H():H,firstChild:null,schemas:ve,consts:bn,incompleteFirstPass:!1,ssrId:Ze}}let t1=()=>null;function lg(r){Gm(r)?Kv(r):function Yp(r){const a=gc(),l=a.createNodeIterator(r,NodeFilter.SHOW_COMMENT,{acceptNode(B){const H=function bA(r){return r.textContent?.replace(/\s/gm,"")}(B);return"ngetn"===H||"ngtns"===H?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let g;const P=[];for(;g=l.nextNode();)P.push(g);for(const B of P)"ngetn"===B.textContent?B.replaceWith(a.createTextNode("")):B.remove()}(r)}function n1(r,a,l,g,P){for(let B in a){if(!a.hasOwnProperty(B))continue;const H=a[B];if(void 0===H)continue;g??={};let ie,ve=Zo.None;Array.isArray(H)?(ie=H[0],ve=H[1]):ie=H;let we=B;if(null!==P){if(!P.hasOwnProperty(B))continue;we=P[B]}0===r?s1(g,l,we,ie,ve):s1(g,l,we,ie)}return g}function s1(r,a,l,g,P){let B;r.hasOwnProperty(l)?(B=r[l]).push(a,g):B=r[l]=[a,g],void 0!==P&&B.push(P)}function $a(r,a,l,g,P,B,H,ie){const ve=Vr(a,l);let Ze,we=a.inputs;!ie&&null!=we&&(Ze=we[g])?(Xl(r,l,Ze,g,P),Ba(a)&&function cg(r,a){const l=aa(a,r);16&l[xs]||(l[xs]|=64)}(l,a.index)):3&a.type&&(g=function uf(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(g),P=null!=H?H(P,a.value||"",g):P,B.setProperty(ve,g,P))}function Qv(r,a,l,g){if(jc()){const P=null===g?null:{"":-1},B=function dg(r,a){const l=r.directiveRegistry;let g=null,P=null;if(l)for(let B=0;B<l.length;B++){const H=l[B];if(zi(a,H.selectors,!1))if(g||(g=[]),Ur(H))if(null!==H.findHostDirectiveDefs){const ie=[];P=P||new Map,H.findHostDirectiveDefs(H,ie,P),g.unshift(...ie,H),jd(r,a,ie.length)}else g.unshift(H),jd(r,a,0);else P=P||new Map,H.findHostDirectiveDefs?.(H,g,P),g.push(H)}return null===g?null:[g,P]}(r,l);let H,ie;null===B?H=ie=null:[H,ie]=B,null!==H&&o1(r,a,l,H,P,ie),P&&function r1(r,a,l){if(a){const g=r.localNames=[];for(let P=0;P<a.length;P+=2){const B=l[a[P+1]];if(null==B)throw new ot(-301,!1);g.push(a[P],B)}}}(l,g,P)}l.mergedAttrs=$e(l.mergedAttrs,l.attrs)}function o1(r,a,l,g,P,B){for(let we=0;we<g.length;we++)$c(hc(l,a),r,g[we].type);!function lM(r,a,l){r.flags|=1,r.directiveStart=a,r.directiveEnd=a+l,r.providerIndexes=a}(l,r.data.length,g.length);for(let we=0;we<g.length;we++){const Ze=g[we];Ze.providersResolver&&Ze.providersResolver(Ze)}let H=!1,ie=!1,ve=cf(r,a,g.length,null);for(let we=0;we<g.length;we++){const Ze=g[we];l.mergedAttrs=$e(l.mergedAttrs,Ze.hostAttrs),cM(r,l,a,ve,Ze),a1(ve,Ze,P),null!==Ze.contentQueries&&(l.flags|=4),(null!==Ze.hostBindings||null!==Ze.hostAttrs||0!==Ze.hostVars)&&(l.flags|=64);const Ot=Ze.type.prototype;!H&&(Ot.ngOnChanges||Ot.ngOnInit||Ot.ngDoCheck)&&((r.preOrderHooks??=[]).push(l.index),H=!0),!ie&&(Ot.ngOnChanges||Ot.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(l.index),ie=!0),ve++}!function iM(r,a,l){const P=a.directiveEnd,B=r.data,H=a.attrs,ie=[];let ve=null,we=null;for(let Ze=a.directiveStart;Ze<P;Ze++){const Ot=B[Ze],tn=l?l.get(Ot):null,bn=tn?tn.outputs:null;ve=n1(0,Ot.inputs,Ze,ve,tn?tn.inputs:null),we=n1(1,Ot.outputs,Ze,we,bn);const Bn=null===ve||null===H||Sn(a)?null:dM(ve,Ze,H);ie.push(Bn)}null!==ve&&(ve.hasOwnProperty("class")&&(a.flags|=8),ve.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=ie,a.inputs=ve,a.outputs=we}(r,l,B)}function pf(r,a,l){const g=l.directiveStart,P=l.directiveEnd,B=l.index,H=function ah(){return ei.lFrame.currentDirectiveIndex}();try{gd(B);for(let ie=g;ie<P;ie++){const ve=r.data[ie],we=a[ie];Vl(ie),(null!==ve.hostBindings||0!==ve.hostVars||null!==ve.hostAttrs)&&Au(ve,we)}}finally{gd(-1),Vl(H)}}function Au(r,a){null!==r.hostBindings&&r.hostBindings(1,a)}function jd(r,a,l){a.componentOffset=l,(r.components??=[]).push(a.index)}function a1(r,a,l){if(l){if(a.exportAs)for(let g=0;g<a.exportAs.length;g++)l[a.exportAs[g]]=r;Ur(a)&&(l[""]=r)}}function cM(r,a,l,g,P){r.data[g]=P;const B=P.factory||(P.factory=qe(P.type)),H=new fu(B,Ur(P),Sl);r.blueprint[g]=H,l[g]=H,function rM(r,a,l,g,P){const B=P.hostBindings;if(B){let H=r.hostBindingOpCodes;null===H&&(H=r.hostBindingOpCodes=[]);const ie=~a.index;(function hf(r){let a=r.length;for(;a>0;){const l=r[--a];if("number"==typeof l&&l<0)return l}return 0})(H)!=ie&&H.push(ie),H.push(l,g,B)}}(r,a,g,cf(r,l,P.hostVars,Ys),P)}function qv(r,a,l,g,P,B,H){if(null==B)r.removeAttribute(a,P,l);else{const ie=null==H?As(B):H(B,g||"",P);r.setAttribute(a,P,ie,l)}}function ua(r,a,l,g,P,B){const H=B[a];if(null!==H)for(let ie=0;ie<H.length;)ZE(g,l,H[ie++],H[ie++],H[ie++],H[ie++])}function dM(r,a,l){let g=null,P=0;for(;P<l.length;){const B=l[P];if(0!==B)if(5!==B){if("number"==typeof B)break;if(r.hasOwnProperty(B)){null===g&&(g=[]);const H=r[B];for(let ie=0;ie<H.length;ie+=3)if(H[ie]===a){g.push(B,H[ie+1],H[ie+2],l[P+1]);break}}P+=2}else P+=2;else P+=4}return g}function e0(r,a,l,g){return[r,!0,0,a,null,g,null,l,null,null]}function t0(r,a){const l=r.contentQueries;if(null!==l){const g=f(null);try{for(let P=0;P<l.length;P+=2){const H=l[P+1];if(-1!==H){const ie=r.data[H];kc(l[P]),ie.contentQueries(2,a[H],H)}}}finally{f(g)}}}function sl(r,a){return r[dl]?r[ul][go]=a:r[dl]=a,r[ul]=a,a}function n0(r,a,l){kc(0);const g=f(null);try{a(r,l)}finally{f(g)}}function l1(r){return r[ir]||(r[ir]=[])}function c1(r){return r.cleanup||(r.cleanup=[])}function ug(r,a){const l=r[Po],g=l?l.get(Dl,null):null;g&&g.handleError(a)}function Xl(r,a,l,g,P){for(let B=0;B<l.length;){const H=l[B++],ie=l[B++],ve=l[B++];ZE(r.data[H],a[H],g,ie,ve,P)}}function sd(r,a,l){const g=du(a,r);Uh(r[$s],g,l)}function uM(r,a){const l=aa(a,r),g=l[es];!function hM(r,a){for(let l=a.length;l<r.blueprint.length;l++)a.push(r.blueprint[l])}(g,l);const P=l[Ai];null!==P&&null===l[$o]&&(l[$o]=Pv(P,l[Po])),s0(g,l,l[Xi])}function s0(r,a,l){ch(a);try{const g=r.viewQuery;null!==g&&n0(1,g,l);const P=r.template;null!==P&&qE(r,a,P,1,l),r.firstCreatePass&&(r.firstCreatePass=!1),a[To]?.finishViewCreation(r),r.staticContentQueries&&t0(r,a),r.staticViewQueries&&n0(2,r.viewQuery,l);const B=r.components;null!==B&&function o0(r,a){for(let l=0;l<a.length;l++)uM(r,a[l])}(a,B)}catch(g){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),g}finally{a[xs]&=-5,Sm()}}function ff(r,a,l,g){const P=f(null);try{const B=a.tView,ve=ag(r,B,l,4096&r[xs]?4096:16,null,a,null,null,g?.injector??null,g?.embeddedViewInjector??null,g?.dehydratedView??null);ve[hl]=r[a.index];const Ze=r[To];return null!==Ze&&(ve[To]=Ze.createEmbeddedView(B)),s0(B,ve,l),ve}finally{f(P)}}function u1(r,a){const l=_o+a;if(l<r.length)return r[l]}function $h(r,a){return!a||null===a.firstChild||Dh(r)}function mf(r,a,l,g=!0){const P=a[es];if(function xA(r,a,l,g){const P=_o+g,B=l.length;g>0&&(l[P-1][go]=a),g<B-_o?(a[go]=l[P],xn(l,_o+g,a)):(l.push(a),a[go]=null),a[Oi]=l;const H=a[hl];null!==H&&l!==H&&function ig(r,a){const l=r[jr];a[co]!==a[Oi][Oi][co]&&(r[xs]|=Fc.HasTransplantedViews),null===l?r[jr]=[a]:l.push(a)}(H,a);const ie=a[To];null!==ie&&ie.insertView(r),Tm(a),a[xs]|=128}(P,a,r,l),g){const H=Sc(l,r),ie=a[$s],ve=og(ie,r[Bi]);null!==ve&&function xd(r,a,l,g,P,B){g[Ai]=P,g[Eo]=a,rg(r,g,l,1,P,B)}(P,r[Eo],ie,a,ve,H)}const B=a[$o];null!==B&&null!==B.firstChild&&(B.firstChild=null)}function gf(r,a){const l=Ps(r,a);return void 0!==l&&Vn(l[es],l),l}function Ud(r,a,l,g,P=!1){for(;null!==l;){const B=a[l.index];null!==B&&g.push(eo(B)),Wo(B)&&h1(B,g);const H=l.type;if(8&H)Ud(r,a,l.child,g);else if(32&H){const ie=ng(l,a);let ve;for(;ve=ie();)g.push(ve)}else if(16&H){const ie=sf(a,l);if(Array.isArray(ie))g.push(...ie);else{const ve=yl(a[co]);Ud(ve[es],ve,ie,g,!0)}}l=P?l.projectionNext:l.next}return g}function h1(r,a){for(let l=_o;l<r.length;l++){const g=r[l],P=g[es].firstChild;null!==P&&Ud(g[es],g,P,a)}r[Bi]!==r[Ai]&&a.push(r[Bi])}let p1=[];const pg={...C,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{ih(r.lView)},consumerOnSignalRead(){this.lView[Fa]=this}},f1=100;function fg(r,a=!0,l=0){const g=r[Rr],P=g.rendererFactory;P.begin?.();try{!function mM(r,a){wa(r,a);let l=0;for(;tv(r);){if(l===f1)throw new ot(103,!1);l++,wa(r,1)}}(r,l)}catch(H){throw a&&ug(r,H),H}finally{P.end?.(),g.inlineEffectRunner?.flush()}}function gM(r,a,l,g){const P=a[xs];if(!(256&~P))return;a[Rr].inlineEffectRunner?.flush(),ch(a);let H=null,ie=null;(function mg(r){return 2!==r.type})(r)&&(ie=function pM(r){return r[Fa]??function fM(r){const a=p1.pop()??Object.create(pg);return a.lView=r,a}(r)}(a),H=D(ie));try{q_(a),function md(r){return ei.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==l&&qE(r,a,l,2,g);const ve=!(3&~P);if(ve){const Ot=r.preOrderCheckHooks;null!==Ot&&Ma(a,Ot,null)}else{const Ot=r.preOrderHooks;null!==Ot&&Wr(a,Ot,0,null),Ip(a,0)}if(function gg(r){for(let a=lr(r);null!==a;a=Fo(a)){if(!(a[xs]&Fc.HasTransplantedViews))continue;const l=a[jr];for(let g=0;g<l.length;g++){ev(l[g])}}}(a),m1(a,0),null!==r.contentQueries&&t0(r,a),ve){const Ot=r.contentCheckHooks;null!==Ot&&Ma(a,Ot)}else{const Ot=r.contentHooks;null!==Ot&&Wr(a,Ot,1),Ip(a,1)}!function ZO(r,a){const l=r.hostBindingOpCodes;if(null!==l)try{for(let g=0;g<l.length;g++){const P=l[g];if(P<0)gd(~P);else{const B=P,H=l[++g],ie=l[++g];Dp(H,B),ie(2,a[B])}}}finally{gd(-1)}}(r,a);const we=r.components;null!==we&&er(a,we,0);const Ze=r.viewQuery;if(null!==Ze&&n0(2,Ze,g),ve){const Ot=r.viewCheckHooks;null!==Ot&&Ma(a,Ot)}else{const Ot=r.viewHooks;null!==Ot&&Wr(a,Ot,2),Ip(a,2)}if(!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),a[rc]){for(const Ot of a[rc])Ot();a[rc]=null}a[xs]&=-73}catch(ve){throw ih(a),ve}finally{null!==ie&&(w(ie,H),function hg(r){r.lView[Fa]!==r&&(r.lView=null,p1.push(r))}(ie)),Sm()}}function m1(r,a){for(let l=lr(r);null!==l;l=Fo(l))for(let g=_o;g<l.length;g++)_M(l[g],a)}function kd(r,a,l){_M(aa(a,r),l)}function _M(r,a){uu(r)&&wa(r,a)}function wa(r,a){const g=r[es],P=r[xs],B=r[Fa];let H=!!(0===a&&16&P);if(H||=!!(64&P&&0===a),H||=!!(1024&P),H||=!(!B?.dirty||!M(B)),B&&(B.dirty=!1),r[xs]&=-9217,H)gM(g,r,g.template,r[Xi]);else if(8192&P){m1(r,1);const ie=g.components;null!==ie&&er(r,ie,1)}}function er(r,a,l){for(let g=0;g<a.length;g++)kd(r,a[g],l)}function Wh(r){for(r[Rr].changeDetectionScheduler?.notify();r;){r[xs]|=64;const a=yl(r);if(Fl(r)&&!a)return r;r=a}return null}class Kh{get rootNodes(){const a=this._lView,l=a[es];return Ud(l,a,l.firstChild,[])}constructor(a,l,g=!0){this._lView=a,this._cdRefInjectingView=l,this.notifyErrorHandler=g,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xi]}set context(a){this._lView[Xi]=a}get destroyed(){return!(256&~this._lView[xs])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Oi];if(Wo(a)){const l=a[8],g=l?l.indexOf(this):-1;g>-1&&(Ps(a,g),is(l,g))}this._attachedToViewContainer=!1}Vn(this._lView[es],this._lView)}onDestroy(a){ks(this._lView,a)}markForCheck(){Wh(this._cdRefInjectingView||this._lView)}detach(){this._lView[xs]&=-129}reattach(){Tm(this._lView),this._lView[xs]|=128}detectChanges(){this._lView[xs]|=1024,fg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ot(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,KE(this._lView[es],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ot(902,!1);this._appRef=a,Tm(this._lView)}}let Hh=(()=>{class r{static{this.__NG_ELEMENT_ID__=EM}}return r})();const vM=Hh,yM=class extends vM{constructor(a,l,g){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=g}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,l){return this.createEmbeddedViewImpl(a,l)}createEmbeddedViewImpl(a,l,g){const P=ff(this._declarationLView,this._declarationTContainer,a,{embeddedViewInjector:l,dehydratedView:g});return new Kh(P)}};function EM(){return _g(Vi(),En())}function _g(r,a){return 4&r.type?new yM(a,r,zc(r,a)):null}function y1(r){const a=r[Qa]??[],g=r[Oi][$s];for(const P of a)SM(P,g);r[Qa]=Xs}function SM(r,a){let l=0,g=r.firstChild;if(g){const P=r.data[wh];for(;l<P;){const B=g.nextSibling;rf(a,g,!1),g=B,l++}}}function E1(r){y1(r);for(let a=_o;a<r.length;a++)yg(r[a])}function yg(r){!function IM(r){const a=r[$o]?.i18nNodes;if(a){const l=r[$s];for(const g of a.values())rf(l,g,!1);r[$o].i18nNodes=void 0}}(r);const a=r[es];for(let l=Zs;l<a.bindingStartIndex;l++)Wo(r[l])?E1(r[l]):si(r[l])&&yg(r[l])}const PM=new RegExp(`^(\\d+)*(${Ah}|${Rh})*(.*)`);function Cg(r){return r.index-Zs}function bg(r,a,l,g){const P=Cg(g);let B=function AM(r,a){const l=r.i18nNodes;if(l){const g=l.get(a);return g&&l.delete(a),g}return null}(r,P);if(!B){const H=r.data[Sv];if(H?.[P])B=function Cf(r,a){const[l,...g]=function Eg(r){const a=r.match(PM),[l,g,P,B]=a,H=g?parseInt(g,10):P,ie=[];for(const[ve,we,Ze]of B.matchAll(/(f|n)(\d*)/g)){const Ot=parseInt(Ze,10)||1;ie.push(we,Ot)}return[H,...ie]}(r);let P;return P=l===Rh?a[co][Ai]:l===Ah?function kv(r){return r.ownerDocument.body}(a[co][Ai]):eo(a[Number(l)+Zs]),function wM(r,a){let l=r;for(let g=0;g<a.length;g+=2){const P=a[g],B=a[g+1];for(let H=0;H<B;H++)switch(P){case Zc.FirstChild:l=l.firstChild;break;case Zc.NextSibling:l=l.nextSibling}}return l}(P,g)}(H[P],l);else if(a.firstChild===g)B=r.firstChild;else{const ie=null===g.prev,ve=g.prev??g.parent;if(function C1(r){return!r.prev&&8===r.parent?.type}(g))B=Av(r,Cg(g.parent));else{let we=Vr(ve,l);if(ie)B=we.firstChild;else{const Ze=Cg(ve),Ot=Av(r,Ze);B=2===ve.type&&Ot?Tg(Xp(r,Ze)+1,Ot):we.nextSibling}}}}return B}function Tg(r,a){let l=a;for(let g=0;g<r;g++)l=l.nextSibling;return l}let u0=()=>null;function LM(r,a){const l=r[Qa];return a&&null!==l&&0!==l.length?l[0].data[Mv]===a?l.shift():(y1(r),null):null}function zh(r,a){return u0(r,a)}class Dg{}class FM{}class T1{}class Tf{resolveComponentFactory(a){throw function BM(r){const a=Error(`No component factory found for ${bt(r)}.`);return a.ngComponent=r,a}(a)}}let Df=(()=>{class r{static{this.NULL=new Tf}}return r})();class O1{}let Og=(()=>{class r{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function M1(){const r=En(),l=aa(Vi().index,r);return(si(l)?l:r)[$s]}()}}return r})(),S1=(()=>{class r{static{this.\u0275prov=ls({token:r,providedIn:"root",factory:()=>null})}}return r})();const Mg={};function jM(r,a){if(null!==function v(){return u}())throw new ot(-602,!1)}const I1=new Set;function Ql(r){I1.has(r)||(I1.add(r),performance?.mark?.("mark_feature_usage",{detail:{feature:r}}))}function P1(...r){}class Sr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:g=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gl(!1),this.onMicrotaskEmpty=new Gl(!1),this.onStable=new Gl(!1),this.onError=new Gl(!1),typeof Zone>"u")throw new ot(908,!1);Zone.assertZonePatched();const P=this;P._nesting=0,P._outer=P._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(P._inner=P._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(P._inner=P._inner.fork(Zone.longStackTraceZoneSpec)),P.shouldCoalesceEventChangeDetection=!g&&l,P.shouldCoalesceRunChangeDetection=g,P.lastRequestAnimationFrameId=-1,P.nativeRequestAnimationFrame=function UM(){const r="function"==typeof gn.requestAnimationFrame;let a=gn[r?"requestAnimationFrame":"setTimeout"],l=gn[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&l){const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g);const P=l[Zone.__symbol__("OriginalDelegate")];P&&(l=P)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function GM(r){const a=()=>{!function VM(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(gn,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,p0(r),r.isCheckStableRunning=!0,h0(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),p0(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,g,P,B,H,ie)=>{if(function $M(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(ie))return l.invokeTask(P,B,H,ie);try{return R1(r),l.invokeTask(P,B,H,ie)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===B.type||r.shouldCoalesceRunChangeDetection)&&a(),Yh(r)}},onInvoke:(l,g,P,B,H,ie,ve)=>{try{return R1(r),l.invoke(P,B,H,ie,ve)}finally{r.shouldCoalesceRunChangeDetection&&a(),Yh(r)}},onHasTask:(l,g,P,B)=>{l.hasTask(P,B),g===P&&("microTask"==B.change?(r._hasPendingMicrotasks=B.microTask,p0(r),h0(r)):"macroTask"==B.change&&(r.hasPendingMacrotasks=B.macroTask))},onHandleError:(l,g,P,B)=>(l.handleError(P,B),r.runOutsideAngular(()=>r.onError.emit(B)),!1)})}(P)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Sr.isInAngularZone())throw new ot(909,!1)}static assertNotInAngularZone(){if(Sr.isInAngularZone())throw new ot(909,!1)}run(a,l,g){return this._inner.run(a,l,g)}runTask(a,l,g,P){const B=this._inner,H=B.scheduleEventTask("NgZoneEvent: "+P,a,kM,P1,P1);try{return B.runTask(H,l,g)}finally{B.cancelTask(H)}}runGuarded(a,l,g){return this._inner.runGuarded(a,l,g)}runOutsideAngular(a){return this._outer.run(a)}}const kM={};function h0(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function p0(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function R1(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Yh(r){r._nesting--,h0(r)}var $d=function(r){return r[r.EarlyRead=0]="EarlyRead",r[r.Write=1]="Write",r[r.MixedReadWrite=2]="MixedReadWrite",r[r.Read=3]="Read",r}($d||{});const f0={destroy(){}};function w1(r,a){!a&&he();const l=a?.injector??Ks(Ua);if(!zl(l))return f0;Ql("NgAfterNextRender");const g=l.get(Of),P=g.handler??=new L1,B=a?.phase??$d.MixedReadWrite,H=()=>{P.unregister(ve),ie()},ie=l.get(Kc).onDestroy(H),ve=ao(l,()=>new x1(B,()=>{H(),r()}));return P.register(ve),{destroy:H}}class x1{constructor(a,l){this.phase=a,this.callbackFn=l,this.zone=Ks(Sr),this.errorHandler=Ks(Dl,{optional:!0}),Ks(Dg,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(a){this.errorHandler?.handleError(a)}}}class L1{constructor(){this.executingCallbacks=!1,this.buckets={[$d.EarlyRead]:new Set,[$d.Write]:new Set,[$d.MixedReadWrite]:new Set,[$d.Read]:new Set},this.deferredCallbacks=new Set}register(a){(this.executingCallbacks?this.deferredCallbacks:this.buckets[a.phase]).add(a)}unregister(a){this.buckets[a.phase].delete(a),this.deferredCallbacks.delete(a)}execute(){this.executingCallbacks=!0;for(const a of Object.values(this.buckets))for(const l of a)l.invoke();this.executingCallbacks=!1;for(const a of this.deferredCallbacks)this.buckets[a.phase].add(a);this.deferredCallbacks.clear()}destroy(){for(const a of Object.values(this.buckets))a.clear();this.deferredCallbacks.clear()}}let Of=(()=>{class r{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const l=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const g of l)g()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=ls({token:r,providedIn:"root",factory:()=>new r})}}return r})();function Wd(r){return!!ui(r)}function Il(r,a,l){let g=l?r.styles:null,P=l?r.classes:null,B=0;if(null!==a)for(let H=0;H<a.length;H++){const ie=a[H];"number"==typeof ie?B=ie:1==B?P=Jt(P,ie):2==B&&(g=Jt(g,ie+": "+a[++H]+";"))}l?r.styles=g:r.stylesWithoutHost=g,l?r.classes=P:r.classesWithoutHost=P}class B1 extends Df{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=ri(a);return new If(l,this.ngModule)}}function Sf(r){const a=[];for(const l in r){if(!r.hasOwnProperty(l))continue;const g=r[l];void 0!==g&&a.push({propName:Array.isArray(g)?g[0]:g,templateName:l})}return a}class Lu{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,g){g=hr(g);const P=this.injector.get(a,Mg,g);return P!==Mg||l===Mg?P:this.parentInjector.get(a,l,g)}}class If extends T1{get inputs(){const a=this.componentDef,l=a.inputTransforms,g=Sf(a.inputs);if(null!==l)for(const P of g)l.hasOwnProperty(P.propName)&&(P.transform=l[P.propName]);return g}get outputs(){return Sf(this.componentDef.outputs)}constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function Al(r){return r.map(ia).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}create(a,l,g,P){const B=f(null);try{let H=(P=P||this.ngModule)instanceof xt?P:P?.injector;H&&null!==this.componentDef.getStandaloneInjector&&(H=this.componentDef.getStandaloneInjector(H)||H);const ie=H?new Lu(a,H):a,ve=ie.get(O1,null);if(null===ve)throw new ot(407,!1);const we=ie.get(S1,null),tn={rendererFactory:ve,sanitizer:we,inlineEffectRunner:null,afterRenderEventManager:ie.get(Of,null),changeDetectionScheduler:ie.get(Dg,null)},fn=ve.createRenderer(null,this.componentDef),bn=this.componentDef.selectors[0][0]||"div",Bn=g?function eM(r,a,l,g){const B=g.get(ii,!1)||l===bo.ShadowDom,H=r.selectRootElement(a,B);return function tM(r){t1(r)}(H),H}(fn,g,this.componentDef.encapsulation,ie):sg(fn,bn,function zM(r){const a=r.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(bn));let ss=512;this.componentDef.signals?ss|=4096:this.componentDef.onPush||(ss|=16);let ms=null;null!==Bn&&(ms=Pv(Bn,ie,!0));const zn=df(0,null,null,1,0,null,null,null,null,null,null),li=ag(null,zn,null,ss,null,null,tn,fn,ie,null,ms);let uo,Bo;ch(li);try{const na=this.componentDef;let Rl,X_=null;na.findHostDirectiveDefs?(Rl=[],X_=new Map,na.findHostDirectiveDefs(na,Rl,X_),Rl.push(na)):Rl=[na];const Sw=function YM(r,a){const l=r[es],g=Zs;return r[g]=a,Gh(l,g,2,"#host",null)}(li,Bn),Kw=function il(r,a,l,g,P,B,H){const ie=P[es];!function XM(r,a,l,g){for(const P of r)a.mergedAttrs=$e(a.mergedAttrs,P.hostAttrs);null!==a.mergedAttrs&&(Il(a,a.mergedAttrs,!0),null!==l&&Nd(g,l,a))}(g,r,a,H);let ve=null;null!==a&&(ve=Pv(a,P[Po]));const we=B.rendererFactory.createRenderer(a,l);let Ze=16;l.signals?Ze=4096:l.onPush&&(Ze=64);const Ot=ag(P,e1(l),null,Ze,P[r.index],r,B,we,null,null,ve);return ie.firstCreatePass&&jd(ie,r,g.length-1),sl(P,Ot),P[r.index]=Ot}(Sw,Bn,na,Rl,li,tn,fn);Bo=cc(zn,Zs),Bn&&function JM(r,a,l,g){if(g)Ge(r,l,["ng-version","17.3.12"]);else{const{attrs:P,classes:B}=function Lc(r){const a=[],l=[];let g=1,P=2;for(;g<r.length;){let B=r[g];if("string"==typeof B)2===P?""!==B&&a.push(B,r[++g]):8===P&&l.push(B);else{if(!Bs(P))break;P=B}g++}return{attrs:a,classes:l}}(a.selectors[0]);P&&Ge(r,l,P),B&&B.length>0&&lf(r,l,B.join(" "))}}(fn,na,Bn,g),void 0!==l&&function QM(r,a,l){const g=r.projection=[];for(let P=0;P<a.length;P++){const B=l[P];g.push(null!=B?Array.from(B):null)}}(Bo,this.ngContentSelectors,l),uo=function g0(r,a,l,g,P,B){const H=Vi(),ie=P[es],ve=Vr(H,P);o1(ie,P,H,l,null,g);for(let Ze=0;Ze<l.length;Ze++)Kn(Wc(P,ie,H.directiveStart+Ze,H),P);pf(ie,P,H),ve&&Kn(ve,P);const we=Wc(P,ie,H.directiveStart+H.componentOffset,H);if(r[Xi]=P[Xi]=we,null!==B)for(const Ze of B)Ze(we,a);return Yv(ie,H,P),we}(Kw,na,Rl,X_,li,[ZM]),s0(zn,li,null)}finally{Sm()}return new Rg(this.componentType,uo,zc(Bo,li),li,Bo)}finally{f(B)}}}class Rg extends FM{constructor(a,l,g,P,B){super(),this.location=g,this._rootLView=P,this._tNode=B,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new Kh(P,void 0,!1),this.componentType=a}setInput(a,l){const g=this._tNode.inputs;let P;if(null!==g&&(P=g[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),l))return;const B=this._rootLView;Xl(B[es],B,P,a,l),this.previousInputValues.set(a,l),Wh(aa(this._tNode.index,B))}}get injector(){return new fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function ZM(){const r=Vi();uh(En()[es],r)}let Ag=(()=>{class r{static{this.__NG_ELEMENT_ID__=qM}}return r})();function qM(){return k1(Vi(),En())}const eS=Ag,j1=class extends eS{constructor(a,l,g){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=g}get element(){return zc(this._hostTNode,this._hostLView)}get injector(){return new fr(this._hostTNode,this._hostLView)}get parentInjector(){const a=yd(this._hostTNode,this._hostLView);if(Am(a)){const l=uc(a,this._hostLView),g=Gc(a);return new fr(l[es].data[g+8],l)}return new fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=U1(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-_o}createEmbeddedView(a,l,g){let P,B;"number"==typeof g?P=g:null!=g&&(P=g.index,B=g.injector);const H=zh(this._lContainer,a.ssrId),ie=a.createEmbeddedViewImpl(l||{},B,H);return this.insertImpl(ie,P,$h(this._hostTNode,H)),ie}createComponent(a,l,g,P,B){const H=a&&!function fs(r){return"function"==typeof r}(a);let ie;if(H)ie=l;else{const bn=l||{};ie=bn.index,g=bn.injector,P=bn.projectableNodes,B=bn.environmentInjector||bn.ngModuleRef}const ve=H?a:new If(ri(a)),we=g||this.parentInjector;if(!B&&null==ve.ngModule){const Bn=(H?we:this.parentInjector).get(xt,null);Bn&&(B=Bn)}const Ze=ri(ve.componentType??{}),Ot=zh(this._lContainer,Ze?.id??null),fn=ve.create(we,P,Ot?.firstChild??null,B);return this.insertImpl(fn.hostView,ie,$h(this._hostTNode,Ot)),fn}insert(a,l){return this.insertImpl(a,l,!0)}insertImpl(a,l,g){const P=a._lView;if(function Cm(r){return Wo(r[Oi])}(P)){const ie=this.indexOf(a);if(-1!==ie)this.detach(ie);else{const ve=P[Oi],we=new j1(ve,ve[Eo],ve[Oi]);we.detach(we.indexOf(a))}}const B=this._adjustIndex(l),H=this._lContainer;return mf(H,P,B,g),a.attachToViewContainerRef(),xn(_0(H),B,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=U1(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),g=Ps(this._lContainer,l);g&&(is(_0(this._lContainer),l),Vn(g[es],g))}detach(a){const l=this._adjustIndex(a,-1),g=Ps(this._lContainer,l);return g&&null!=is(_0(this._lContainer),l)?new Kh(g):null}_adjustIndex(a,l=0){return a??this.length+l}};function U1(r){return r[8]}function _0(r){return r[8]||(r[8]=[])}function k1(r,a){let l;const g=a[r.index];return Wo(g)?l=g:(l=e0(g,a,null,r),a[r.index]=l,sl(a,l)),V1(l,a,r,g),new j1(l,r,a)}let V1=G1,v0=()=>!1;function G1(r,a,l,g){if(r[Bi])return;let P;P=8&l.type?eo(g):function tS(r,a){const l=r[$s],g=l.createComment(""),P=Vr(a,r);return Ho(l,og(l,P),g,function HE(r,a){return r.nextSibling(a)}(l,P),!1),g}(a,l),r[Bi]=P}function nS(r,a,l){if(r[Bi]&&r[Qa])return!0;const g=l[$o],P=a.index-Zs;if(!g||function N(r){if(Dh(r))return!0;let a=r.parent;for(;a;){if(Dh(r)||jp(a))return!0;a=a.parent}return!1}(a)||Xm(g,P))return!1;const H=Av(g,P),ie=g.data[Hp]?.[P],[ve,we]=function b1(r,a){const l=[];for(const g of a)for(let P=0;P<(g[Hm]??1);P++){const B={data:g,firstChild:null};g[wh]>0&&(B.firstChild=r,r=Tg(g[wh],r)),l.push(B)}return[r,l]}(H,ie);return r[Bi]=ve,r[Qa]=we,!0}function sS(r,a,l,g){v0(r,l,a)||G1(r,a,l,g)}class Fu{constructor(a){this.queryList=a,this.matches=null}clone(){return new Fu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zl{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const g=null!==a.contentQueries?a.contentQueries[0]:l.length,P=[];for(let B=0;B<g;B++){const H=l.getByIndex(B);P.push(this.queries[H.indexInDeclarationView].clone())}return new Zl(P)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}finishViewCreation(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==ju(a,l).matches&&this.queries[l].setDirty()}}class ql{constructor(a,l,g=null){this.flags=l,this.read=g,this.predicate="string"==typeof a?function lS(r){return r.split(",").map(a=>a.trim())}(a):a}}class Bu{constructor(a=[]){this.queries=a}elementStart(a,l){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let g=0;g<this.length;g++){const P=null!==l?l.length:0,B=this.getByIndex(g).embeddedTView(a,P);B&&(B.indexInDeclarationView=g,null!==l?l.push(B):l=[B])}return null!==l?new Bu(l):null}template(a,l){for(let g=0;g<this.queries.length;g++)this.queries[g].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class y0{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new y0(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1&~this.metadata.flags){const l=this._declarationNodeIndex;let g=a.parent;for(;null!==g&&8&g.type&&g.index!==l;)g=g.parent;return l===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const g=this.metadata.predicate;if(Array.isArray(g))for(let P=0;P<g.length;P++){const B=g[P];this.matchTNodeWithReadOption(a,l,oS(l,B)),this.matchTNodeWithReadOption(a,l,Ch(l,a,B,!1,!1))}else g===Hh?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Ch(l,a,g,!1,!1))}matchTNodeWithReadOption(a,l,g){if(null!==g){const P=this.metadata.read;if(null!==P)if(P===la||P===Ag||P===Hh&&4&l.type)this.addMatch(l.index,-2);else{const B=Ch(l,a,P,!1,!1);null!==B&&this.addMatch(l.index,B)}else this.addMatch(l.index,g)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function oS(r,a){const l=r.localNames;if(null!==l)for(let g=0;g<l.length;g+=2)if(l[g]===a)return l[g+1];return null}function zd(r,a,l,g){return-1===l?function rS(r,a){return 11&r.type?zc(r,a):4&r.type?_g(r,a):null}(a,r):-2===l?function aS(r,a,l){return l===la?zc(a,r):l===Hh?_g(a,r):l===Ag?k1(a,r):void 0}(r,a,g):Wc(r,r[es],l,a)}function $1(r,a,l,g){const P=a[To].queries[g];if(null===P.matches){const B=r.data,H=l.matches,ie=[];for(let ve=0;null!==H&&ve<H.length;ve+=2){const we=H[ve];ie.push(we<0?null:zd(a,B[we],H[ve+1],l.metadata.read))}P.matches=ie}return P.matches}function E0(r,a,l,g){const P=r.queries.getByIndex(l),B=P.matches;if(null!==B){const H=$1(r,a,P,l);for(let ie=0;ie<B.length;ie+=2){const ve=B[ie];if(ve>0)g.push(H[ie/2]);else{const we=B[ie+1],Ze=a[-ve];for(let Ot=_o;Ot<Ze.length;Ot++){const tn=Ze[Ot];tn[hl]===tn[Oi]&&E0(tn[es],tn,we,g)}if(null!==Ze[jr]){const Ot=Ze[jr];for(let tn=0;tn<Ot.length;tn++){const fn=Ot[tn];E0(fn[es],fn,we,g)}}}}}return g}function W1(r,a,l){const g=new Bp(!(4&~l));return function nM(r,a,l,g){const P=l1(a);P.push(l),r.firstCreatePass&&c1(r).push(g,P.length-1)}(r,a,g,g.destroy),(a[To]??=new Zl).queries.push(new Fu(g))-1}function Pf(r,a,l){null===r.queries&&(r.queries=new Bu),r.queries.track(new y0(a,l))}function ju(r,a){return r.queries.getByIndex(a)}function Y1(r,a){const l=r[es],g=ju(l,a);return g.crossesNgTemplate?E0(l,r,a,[]):$1(l,r,g,a)}function b0(r){return"function"==typeof r&&void 0!==r[m]}function X1(r,a){Ql("NgSignals");const l=function ne(r){const a=Object.create(be);a.value=r;const l=()=>(S(a),a.value);return l[m]=a,l}(r),g=l[m];return a?.equal&&(g.equal=a.equal),l.set=P=>ce(g,P),l.update=P=>function Te(r,a){p()||Q(),ce(r,a(r.value))}(g,P),l.asReadonly=J1.bind(l),l}function J1(){const r=this[m];if(void 0===r.readonlyFn){const a=()=>this();a[m]=r,r.readonlyFn=a}return r.readonlyFn}function Q1(r){return b0(r)&&"function"==typeof r.set}function R0(r){let a=function P0(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),l=!0;const g=[r];for(;a;){let P;if(Ur(r))P=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ot(903,!1);P=a.\u0275dir}if(P){if(l){g.push(P);const H=r;H.inputs=xg(r.inputs),H.inputTransforms=xg(r.inputTransforms),H.declaredInputs=xg(r.declaredInputs),H.outputs=xg(r.outputs);const ie=P.hostBindings;ie&&Af(r,ie);const ve=P.viewQuery,we=P.contentQueries;if(ve&&yS(r,ve),we&&ES(r,we),_S(r,P),wt(r.outputs,P.outputs),Ur(P)&&P.data.animation){const Ze=r.data;Ze.animation=(Ze.animation||[]).concat(P.data.animation)}}const B=P.features;if(B)for(let H=0;H<B.length;H++){const ie=B[H];ie&&ie.ngInherit&&ie(r),ie===R0&&(l=!1)}}a=Object.getPrototypeOf(a)}!function vS(r){let a=0,l=null;for(let g=r.length-1;g>=0;g--){const P=r[g];P.hostVars=a+=P.hostVars,P.hostAttrs=$e(P.hostAttrs,l=$e(l,P.hostAttrs))}}(g)}function _S(r,a){for(const l in a.inputs){if(!a.inputs.hasOwnProperty(l)||r.inputs.hasOwnProperty(l))continue;const g=a.inputs[l];if(void 0!==g&&(r.inputs[l]=g,r.declaredInputs[l]=a.declaredInputs[l],null!==a.inputTransforms)){const P=Array.isArray(g)?g[0]:g;if(!a.inputTransforms.hasOwnProperty(P))continue;r.inputTransforms??={},r.inputTransforms[P]=a.inputTransforms[P]}}}function xg(r){return r===so?{}:r===Xs?[]:r}function yS(r,a){const l=r.viewQuery;r.viewQuery=l?(g,P)=>{a(g,P),l(g,P)}:a}function ES(r,a){const l=r.contentQueries;r.contentQueries=l?(g,P,B)=>{a(g,P,B),l(g,P,B)}:a}function Af(r,a){const l=r.hostBindings;r.hostBindings=l?(g,P)=>{a(g,P),l(g,P)}:a}function cC(r){const a=r.inputConfig,l={};for(const g in a)if(a.hasOwnProperty(g)){const P=a[g];Array.isArray(P)&&P[3]&&(l[g]=P[3])}r.inputTransforms=l}class ec{}class dC{}function DS(r,a){return new x0(r,a??null,[])}class x0 extends ec{constructor(a,l,g){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new B1(this);const P=ui(a);this._bootstrapComponents=nl(P.bootstrap),this._r3Injector=Lp(a,l,[{provide:ec,useValue:this},{provide:Df,useValue:this.componentFactoryResolver},...g],bt(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Ng extends dC{constructor(a){super(),this.moduleType=a}create(a){return new x0(this.moduleType,a,[])}}class uC extends ec{constructor(a){super(),this.componentFactoryResolver=new B1(this),this.instance=null;const l=new An([...a.providers,{provide:ec,useValue:this},{provide:Df,useValue:this.componentFactoryResolver}],a.parent||dn(),a.debugName,new Set(["environment"]));this.injector=l,a.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function L0(r,a,l=null){return new uC({providers:r,parent:a,debugName:l,runEnvironmentInitializers:!0}).injector}let Qh=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Et.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=ls({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function xf(r){return!!F0(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function F0(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Ic(r,a,l){return r[a]=l}function Lf(r,a){return r[a]}function mr(r,a,l){return!Object.is(r[a],l)&&(r[a]=l,!0)}function Uu(r,a,l,g){const P=mr(r,a,l);return mr(r,a+1,g)||P}function Bg(r,a,l,g,P){const B=Uu(r,a,l,g);return mr(r,a+2,P)||B}function ha(r,a,l,g,P,B){const H=Uu(r,a,l,g);return Uu(r,a+2,P,B)||H}function Nf(r){return!(32&~r.flags)}function rd(r,a,l,g,P,B,H,ie){const ve=En(),we=ys(),Ze=r+Zs,Ot=we.firstCreatePass?function PS(r,a,l,g,P,B,H,ie,ve){const we=a.consts,Ze=Gh(a,r,4,H||null,el(we,ie));Qv(a,l,Ze,el(we,ve)),uh(a,Ze);const Ot=Ze.tView=df(2,Ze,g,P,B,a.directiveRegistry,a.pipeRegistry,null,a.schemas,we,null);return null!==a.queries&&(a.queries.template(a,Ze),Ot.queries=a.queries.embeddedTView(Ze)),Ze}(Ze,we,ve,a,l,g,P,B,H):we.data[Ze];ja(Ot,!1);const tn=B0(we,ve,Ot,r);Ko()&&Ld(we,ve,tn,Ot),Kn(tn,ve);const fn=e0(tn,ve,tn,Ot);return ve[Ze]=fn,sl(ve,fn),function Nu(r,a,l){return v0(r,a,l)}(fn,Ot,ve),Nl(Ot)&&Xv(we,ve,Ot),null!=H&&Jv(ve,Ot,ie),rd}let B0=pC;function pC(r,a,l,g){return $r(!0),a[$s].createComment("")}function RS(r,a,l,g){const P=a[$o],B=!P||El()||Nf(l)||Xm(P,g);if($r(B),B)return pC(0,a);const H=P.data[Ov]?.[g]??null;null!==H&&null!==l.tView&&null===l.tView.ssrId&&(l.tView.ssrId=H);const ie=bg(P,r,a,l);return Dd(P,g,ie),Tg(Xp(P,g),ie)}function op(r,a,l,g){const P=En();return mr(P,Do(),a)&&(ys(),function Aa(r,a,l,g,P,B){const H=Vr(r,a);qv(a[$s],H,B,r.value,l,g,P)}(xo(),P,r,a,l,g)),op}function Gf(r,a,l,g){return mr(r,Do(),l)?a+As(l)+g:Ys}function rp(r,a,l,g,P,B){const ie=Uu(r,kl(),l,P);return ea(2),ie?a+As(l)+g+As(P)+B:Ys}function Yg(r,a){return r<<17|a<<2}function qd(r){return r>>17&32767}function Y0(r){return 2|r}function Hu(r){return(131068&r)>>2}function X0(r,a){return-131069&r|a<<2}function J0(r){return 1|r}function kC(r,a,l,g){const P=r[l+1],B=null===a;let H=g?qd(P):Hu(P),ie=!1;for(;0!==H&&(!1===ie||B);){const we=r[H+1];rI(r[H],a)&&(ie=!0,r[H+1]=g?J0(we):Y0(we)),H=g?qd(we):Hu(we)}ie&&(r[l+1]=g?Y0(P):J0(P))}function rI(r,a){return null===r||null==a||(Array.isArray(r)?r[1]:r)===a||!(!Array.isArray(r)||"string"!=typeof a)&&Co(r,a)>=0}const xr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VC(r){return r.substring(xr.key,xr.keyEnd)}function GC(r,a){const l=xr.textEnd;return l===a?-1:(a=xr.keyEnd=function dI(r,a,l){for(;a<l&&r.charCodeAt(a)>32;)a++;return a}(r,xr.key=a,l),zu(r,a,l))}function zu(r,a,l){for(;a<l&&r.charCodeAt(a)<=32;)a++;return a}function Q0(r,a,l){const g=En();return mr(g,Do(),a)&&$a(ys(),xo(),g,r,a,g[$s],l,!1),Q0}function Z0(r,a,l,g,P){const H=P?"class":"style";Xl(r,l,a.inputs[H],H,g)}function q0(r,a,l){return tc(r,a,l,!1),q0}function ey(r,a){return tc(r,a,null,!0),ey}function HC(r){nc(Kf,Rc,r,!0)}function Rc(r,a){for(let l=function lI(r){return function $f(r){xr.key=0,xr.keyEnd=0,xr.value=0,xr.valueEnd=0,xr.textEnd=r.length}(r),GC(r,zu(r,0,xr.textEnd))}(a);l>=0;l=GC(a,l))Ci(r,VC(a),!0)}function tc(r,a,l,g){const P=En(),B=ys(),H=ea(2);B.firstUpdatePass&&YC(B,r,H,g),a!==Ys&&mr(P,H,a)&&JC(B,B.data[Gr()],P,P[$s],r,P[H+1]=function vI(r,a){return null==r||""===r||("string"==typeof a?r+=a:"object"==typeof r&&(r=bt(Cc(r)))),r}(a,l),g,H)}function nc(r,a,l,g){const P=ys(),B=ea(2);P.firstUpdatePass&&YC(P,null,B,g);const H=En();if(l!==Ys&&mr(H,B,l)){const ie=P.data[Gr()];if(ZC(ie,g)&&!zC(P,B)){let ve=g?ie.classesWithoutHost:ie.stylesWithoutHost;null!==ve&&(l=Jt(ve,l||"")),Z0(P,ie,H,l,g)}else!function Jg(r,a,l,g,P,B,H,ie){P===Ys&&(P=Xs);let ve=0,we=0,Ze=0<P.length?P[0]:null,Ot=0<B.length?B[0]:null;for(;null!==Ze||null!==Ot;){const tn=ve<P.length?P[ve+1]:void 0,fn=we<B.length?B[we+1]:void 0;let Bn,bn=null;Ze===Ot?(ve+=2,we+=2,tn!==fn&&(bn=Ot,Bn=fn)):null===Ot||null!==Ze&&Ze<Ot?(ve+=2,bn=Ze):(we+=2,bn=Ot,Bn=fn),null!==bn&&JC(r,a,l,g,bn,Bn,H,ie),Ze=ve<P.length?P[ve]:null,Ot=we<B.length?B[we]:null}}(P,ie,H,H[$s],H[B+1],H[B+1]=function Xg(r,a,l){if(null==l||""===l)return Xs;const g=[],P=Cc(l);if(Array.isArray(P))for(let B=0;B<P.length;B++)r(g,P[B],!0);else if("object"==typeof P)for(const B in P)P.hasOwnProperty(B)&&r(g,B,P[B]);else"string"==typeof P&&a(g,P);return g}(r,a,l),g,B)}}function zC(r,a){return a>=r.expandoStartIndex}function YC(r,a,l,g){const P=r.data;if(null===P[l+1]){const B=P[Gr()],H=zC(r,l);ZC(B,g)&&null===a&&!H&&(a=!1),a=function fI(r,a,l,g){const P=function lh(r){const a=ei.lFrame.currentDirectiveIndex;return-1===a?null:r[a]}(r);let B=g?a.residualClasses:a.residualStyles;if(null===P)0===(g?a.classBindings:a.styleBindings)&&(l=Wf(l=ty(null,r,a,l,g),a.attrs,g),B=null);else{const H=a.directiveStylingLast;if(-1===H||r[H]!==P)if(l=ty(P,r,a,l,g),null===B){let ve=function mI(r,a,l){const g=l?a.classBindings:a.styleBindings;if(0!==Hu(g))return r[qd(g)]}(r,a,g);void 0!==ve&&Array.isArray(ve)&&(ve=ty(null,r,a,ve[1],g),ve=Wf(ve,a.attrs,g),function gI(r,a,l,g){r[qd(l?a.classBindings:a.styleBindings)]=g}(r,a,g,ve))}else B=function _I(r,a,l){let g;const P=a.directiveEnd;for(let B=1+a.directiveStylingLast;B<P;B++)g=Wf(g,r[B].hostAttrs,l);return Wf(g,a.attrs,l)}(r,a,g)}return void 0!==B&&(g?a.residualClasses=B:a.residualStyles=B),l}(P,B,a,g),function iI(r,a,l,g,P,B){let H=B?a.classBindings:a.styleBindings,ie=qd(H),ve=Hu(H);r[g]=l;let Ze,we=!1;if(Array.isArray(l)?(Ze=l[1],(null===Ze||Co(l,Ze)>0)&&(we=!0)):Ze=l,P)if(0!==ve){const tn=qd(r[ie+1]);r[g+1]=Yg(tn,ie),0!==tn&&(r[tn+1]=X0(r[tn+1],g)),r[ie+1]=function z0(r,a){return 131071&r|a<<17}(r[ie+1],g)}else r[g+1]=Yg(ie,0),0!==ie&&(r[ie+1]=X0(r[ie+1],g)),ie=g;else r[g+1]=Yg(ve,0),0===ie?ie=g:r[ve+1]=X0(r[ve+1],g),ve=g;we&&(r[g+1]=Y0(r[g+1])),kC(r,Ze,g,!0),kC(r,Ze,g,!1),function oI(r,a,l,g,P){const B=P?r.residualClasses:r.residualStyles;null!=B&&"string"==typeof a&&Co(B,a)>=0&&(l[g+1]=J0(l[g+1]))}(a,Ze,r,g,B),H=Yg(ie,ve),B?a.classBindings=H:a.styleBindings=H}(P,B,a,l,H,g)}}function ty(r,a,l,g,P){let B=null;const H=l.directiveEnd;let ie=l.directiveStylingLast;for(-1===ie?ie=l.directiveStart:ie++;ie<H&&(B=a[ie],g=Wf(g,B.hostAttrs,P),B!==r);)ie++;return null!==r&&(l.directiveStylingLast=ie),g}function Wf(r,a,l){const g=l?1:2;let P=-1;if(null!==a)for(let B=0;B<a.length;B++){const H=a[B];"number"==typeof H?P=H:P===g&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Ci(r,H,!!l||a[++B]))}return void 0===r?null:r}function Kf(r,a,l){const g=String(a);""!==g&&!g.includes(" ")&&Ci(r,g,l)}function JC(r,a,l,g,P,B,H,ie){if(!(3&a.type))return;const ve=r.data,we=ve[ie+1],Ze=function sI(r){return!(1&~r)}(we)?QC(ve,a,l,P,Hu(we),H):void 0;Qg(Ze)||(Qg(B)||function nI(r){return!(2&~r)}(we)&&(B=QC(ve,null,l,P,ie,H)),function af(r,a,l,g,P){if(a)P?r.addClass(l,g):r.removeClass(l,g);else{let B=-1===g.indexOf("-")?void 0:tg.DashCase;null==P?r.removeStyle(l,g,B):("string"==typeof P&&P.endsWith("!important")&&(P=P.slice(0,-10),B|=tg.Important),r.setStyle(l,g,P,B))}}(g,H,du(Gr(),l),P,B))}function QC(r,a,l,g,P,B){const H=null===a;let ie;for(;P>0;){const ve=r[P],we=Array.isArray(ve),Ze=we?ve[1]:ve,Ot=null===Ze;let tn=l[P+1];tn===Ys&&(tn=Ot?Xs:void 0);let fn=Ot?ni(tn,g):Ze===g?tn:void 0;if(we&&!Qg(fn)&&(fn=ni(ve,g)),Qg(fn)&&(ie=fn,H))return ie;const bn=r[P+1];P=H?qd(bn):Hu(bn)}if(null!==a){let ve=B?a.residualClasses:a.residualStyles;null!=ve&&(ie=ni(ve,g))}return ie}function Qg(r){return void 0!==r}function ZC(r,a){return!!(r.flags&(a?8:16))}function qC(r,a,l){nc(Ci,Rc,Gf(En(),r,a,l),!0)}function eb(r,a,l,g,P){nc(Ci,Rc,rp(En(),r,a,l,g,P),!0)}function Zg(r,a,l,g,P,B,H,ie,ve,we,Ze){nc(Ci,Rc,function Ku(r,a,l,g,P,B,H,ie,ve,we,Ze,Ot){const tn=kl();let fn=ha(r,tn,l,P,H,ve);return fn=mr(r,tn+4,Ze)||fn,ea(5),fn?a+As(l)+g+As(P)+B+As(H)+ie+As(ve)+we+As(Ze)+Ot:Ys}(En(),r,a,l,g,P,B,H,ie,ve,we,Ze),!0)}class DI{destroy(a){}updateValue(a,l){}swap(a,l){const g=Math.min(a,l),P=Math.max(a,l),B=this.detach(P);if(P-g>1){const H=this.detach(g);this.attach(g,B),this.attach(P,H)}else this.attach(g,B)}move(a,l){this.attach(l,this.detach(a))}}function Hf(r,a,l,g,P){return r===l&&Object.is(a,g)?1:Object.is(P(r,a),P(l,g))?-1:0}function zf(r,a,l,g){return!(void 0===a||!a.has(g)||(r.attach(l,a.get(g)),a.delete(g),0))}function tb(r,a,l,g,P){if(zf(r,a,g,l(g,P)))r.updateValue(g,P);else{const B=r.create(g,P);r.attach(g,B)}}function nb(r,a,l,g){const P=new Set;for(let B=a;B<=l;B++)P.add(g(B,r.at(B)));return P}class sy{constructor(){this.kvMap=new Map,this._vMap=void 0}has(a){return this.kvMap.has(a)}delete(a){if(!this.has(a))return!1;const l=this.kvMap.get(a);return void 0!==this._vMap&&this._vMap.has(l)?(this.kvMap.set(a,this._vMap.get(l)),this._vMap.delete(l)):this.kvMap.delete(a),!0}get(a){return this.kvMap.get(a)}set(a,l){if(this.kvMap.has(a)){let g=this.kvMap.get(a);void 0===this._vMap&&(this._vMap=new Map);const P=this._vMap;for(;P.has(g);)g=P.get(g);P.set(g,l)}else this.kvMap.set(a,l)}forEach(a){for(let[l,g]of this.kvMap)if(a(g,l),void 0!==this._vMap){const P=this._vMap;for(;P.has(g);)g=P.get(g),a(g,l)}}}function sb(r,a,l){Ql("NgControlFlow");const g=En(),P=Do(),B=oy(g,Zs+r);if(mr(g,P,a)){const ie=f(null);try{if(gf(B,0),-1!==a){const ve=ry(g[es],Zs+a),we=zh(B,ve.tView.ssrId);mf(B,ff(g,ve,l,{dehydratedView:we}),0,$h(ve,we))}}finally{f(ie)}}else{const ie=u1(B,0);void 0!==ie&&(ie[Xi]=l)}}class MI{constructor(a,l,g){this.lContainer=a,this.$implicit=l,this.$index=g}get $count(){return this.lContainer.length-_o}}function ib(r,a){return a}class II{constructor(a,l,g){this.hasEmptyBlock=a,this.trackByFn=l,this.liveCollection=g}}function e_(r,a,l,g,P,B,H,ie,ve,we,Ze,Ot,tn){Ql("NgControlFlow");const fn=void 0!==ve,bn=En(),Bn=ie?H.bind(bn[co][Xi]):H,ss=new II(fn,Bn);bn[Zs+r]=ss,rd(r+1,a,l,g,P,B),fn&&rd(r+2,ve,we,Ze,Ot,tn)}class PI extends DI{constructor(a,l,g){super(),this.lContainer=a,this.hostLView=l,this.templateTNode=g,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-_o}at(a){return this.getLView(a)[Xi].$implicit}attach(a,l){const g=l[$o];this.needsIndexUpdate||=a!==this.length,mf(this.lContainer,l,a,$h(this.templateTNode,g))}detach(a){return this.needsIndexUpdate||=a!==this.length-1,function t_(r,a){return Ps(r,a)}(this.lContainer,a)}create(a,l){const g=zh(this.lContainer,this.templateTNode.tView.ssrId);return ff(this.hostLView,this.templateTNode,new MI(this.lContainer,l,a),{dehydratedView:g})}destroy(a){Vn(a[es],a)}updateValue(a,l){this.getLView(a)[Xi].$implicit=l}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let a=0;a<this.length;a++)this.getLView(a)[Xi].$index=a}getLView(a){return function RI(r,a){return u1(r,a)}(this.lContainer,a)}}function iy(r){const a=f(null),l=Gr();try{const g=En(),P=g[es],B=g[l];if(void 0===B.liveCollection){const ie=l+1,ve=oy(g,ie),we=ry(P,ie);B.liveCollection=new PI(ve,g,we)}else B.liveCollection.reset();const H=B.liveCollection;if(function OI(r,a,l){let g,P,B=0,H=r.length-1;if(Array.isArray(a)){let ie=a.length-1;for(;B<=H&&B<=ie;){const ve=r.at(B),we=a[B],Ze=Hf(B,ve,B,we,l);if(0!==Ze){Ze<0&&r.updateValue(B,we),B++;continue}const Ot=r.at(H),tn=a[ie],fn=Hf(H,Ot,ie,tn,l);if(0!==fn){fn<0&&r.updateValue(H,tn),H--,ie--;continue}const bn=l(B,ve),Bn=l(H,Ot),ss=l(B,we);if(Object.is(ss,Bn)){const ms=l(ie,tn);Object.is(ms,bn)?(r.swap(B,H),r.updateValue(H,tn),ie--,H--):r.move(H,B),r.updateValue(B,we),B++}else if(g??=new sy,P??=nb(r,B,H,l),zf(r,g,B,ss))r.updateValue(B,we),B++,H++;else if(P.has(ss))g.set(bn,r.detach(B)),H--;else{const ms=r.create(B,a[B]);r.attach(B,ms),B++,H++}}for(;B<=ie;)tb(r,g,l,B,a[B]),B++}else if(null!=a){const ie=a[Symbol.iterator]();let ve=ie.next();for(;!ve.done&&B<=H;){const we=r.at(B),Ze=ve.value,Ot=Hf(B,we,B,Ze,l);if(0!==Ot)Ot<0&&r.updateValue(B,Ze),B++,ve=ie.next();else{g??=new sy,P??=nb(r,B,H,l);const tn=l(B,Ze);if(zf(r,g,B,tn))r.updateValue(B,Ze),B++,H++,ve=ie.next();else if(P.has(tn)){const fn=l(B,we);g.set(fn,r.detach(B)),H--}else r.attach(B,r.create(B,Ze)),B++,H++,ve=ie.next()}}for(;!ve.done;)tb(r,g,l,r.length,ve.value),ve=ie.next()}for(;B<=H;)r.destroy(r.detach(H--));g?.forEach(ie=>{r.destroy(ie)})}(H,r,B.trackByFn),H.updateIndexes(),B.hasEmptyBlock){const ie=Do(),ve=0===H.length;if(mr(g,ie,ve)){const we=l+2,Ze=oy(g,we);if(ve){const Ot=ry(P,we),tn=zh(Ze,Ot.tView.ssrId);mf(Ze,ff(g,Ot,void 0,{dehydratedView:tn}),0,$h(Ot,tn))}else gf(Ze,0)}}}finally{f(a)}}function oy(r,a){return r[a]}function ry(r,a){return cc(r,a)}function n_(r,a,l,g){const P=En(),B=ys(),H=Zs+r,ie=P[$s],ve=B.firstCreatePass?function g2(r,a,l,g,P,B){const H=a.consts,ve=Gh(a,r,2,g,el(H,P));return Qv(a,l,ve,el(H,B)),null!==ve.attrs&&Il(ve,ve.attrs,!1),null!==ve.mergedAttrs&&Il(ve,ve.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,ve),ve}(H,B,P,a,l,g):B.data[H],we=ob(B,P,ve,ie,a,r);P[H]=we;const Ze=Nl(ve);return ja(ve,!0),Nd(ie,we,ve),!Nf(ve)&&Ko()&&Ld(B,P,we,ve),0===function rE(){return ei.lFrame.elementDepthCount}()&&Kn(we,P),function mi(){ei.lFrame.elementDepthCount++}(),Ze&&(Xv(B,P,ve),Yv(B,ve,P)),null!==g&&Jv(P,ve),n_}function ay(){let r=Vi();Mm()?Uc():(r=r.parent,ja(r,!1));const a=r;(function aE(r){return ei.skipHydrationRootTNode===r})(a)&&function nv(){ei.skipHydrationRootTNode=null}(),function jl(){ei.lFrame.elementDepthCount--}();const l=ys();return l.firstCreatePass&&(uh(l,r),fl(r)&&l.queries.elementEnd(r)),null!=a.classesWithoutHost&&function cv(r){return!!(8&r.flags)}(a)&&Z0(l,a,En(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Rm(r){return!!(16&r.flags)}(a)&&Z0(l,a,En(),a.stylesWithoutHost,!1),ay}function ly(r,a,l,g){return n_(r,a,l,g),ay(),ly}let ob=(r,a,l,g,P,B)=>($r(!0),sg(g,P,_d()));function AI(r,a,l,g,P,B){const H=a[$o],ie=!H||El()||Nf(l)||Xm(H,B);if($r(ie),ie)return sg(g,P,_d());const ve=bg(H,r,a,l);return CE(H,B)&&Dd(H,B,ve.nextSibling),H&&(jp(l)||Gm(ve))&&Ba(l)&&(function Ar(r){ei.skipHydrationRootTNode=r}(l),Kv(ve)),ve}function s_(r,a,l){const g=En(),P=ys(),B=r+Zs,H=P.firstCreatePass?function xI(r,a,l,g,P){const B=a.consts,H=el(B,g),ie=Gh(a,r,8,"ng-container",H);return null!==H&&Il(ie,H,!0),Qv(a,l,ie,el(B,P)),null!==a.queries&&a.queries.elementStart(a,ie),ie}(B,P,g,a,l):P.data[B];ja(H,!0);const ie=rb(P,g,H,r);return g[B]=ie,Ko()&&Ld(P,g,ie,H),Kn(ie,g),Nl(H)&&(Xv(P,g,H),Yv(P,H,g)),null!=l&&Jv(g,H),s_}function i_(){let r=Vi();const a=ys();return Mm()?Uc():(r=r.parent,ja(r,!1)),a.firstCreatePass&&(uh(a,r),fl(r)&&a.queries.elementEnd(r)),i_}function cy(r,a,l){return s_(r,a,l),i_(),cy}let rb=(r,a,l,g)=>($r(!0),kh(a[$s],""));function LI(r,a,l,g){let P;const B=a[$o],H=!B||El()||Nf(l);if($r(H),H)return kh(a[$s],"");const ie=bg(B,r,a,l),ve=function AO(r,a){const l=r.data;let g=l[Dv]?.[a]??null;return null===g&&l[Hp]?.[a]&&(g=Xp(r,a)),g}(B,g);return Dd(B,g,ie),P=Tg(ve,ie),P}function ab(){return En()}function dy(r,a,l){const g=En();return mr(g,Do(),a)&&$a(ys(),xo(),g,r,a,g[$s],l,!0),dy}const sc=void 0;var o_=["en",[["a","p"],["AM","PM"],sc],[["AM","PM"],sc,sc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sc,"{1} 'at' {0}",sc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function FI(r){const l=Math.floor(Math.abs(r)),g=r.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===g?1:5}];let ad={};function uy(r){const a=function UI(r){return r.toLowerCase().replace(/_/g,"-")}(r);let l=Xf(a);if(l)return l;const g=a.split("-")[0];if(l=Xf(g),l)return l;if("en"===g)return o_;throw new ot(701,!1)}function Yf(r){return uy(r)[dp.PluralCase]}function Xf(r){return r in ad||(ad[r]=gn.ng&&gn.ng.common&&gn.ng.common.locales&&gn.ng.common.locales[r]),ad[r]}var dp=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(dp||{});const kI=["zero","one","two","few","many"],ld="en-US",r_={marker:"element"},a_={marker:"ICU"};var Wa=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(Wa||{});let cb=ld;function ub(r,a,l){const g=a.insertBeforeIndex,P=Array.isArray(g)?g[0]:g;return null===P?YE(r,0,l):eo(l[P])}function hb(r,a,l,g,P){const B=a.insertBeforeIndex;if(Array.isArray(B)){let H=g,ie=null;if(3&a.type||(ie=H,H=P),null!==H&&-1===a.componentOffset)for(let ve=1;ve<B.length;ve++)Ho(r,H,l[B[ve]],ie,!1)}}function Qf(r,a){if(r.push(a),r.length>1)for(let l=r.length-2;l>=0;l--){const g=r[l];l_(g)||pb(g,a)&&null===fb(g)&&GI(g,a.index)}}function l_(r){return!(64&r.type)}function pb(r,a){return l_(a)||r.index>a.index}function fb(r){const a=r.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function GI(r,a){const l=r.insertBeforeIndex;Array.isArray(l)?l[0]=a:(JE(ub,hb),r.insertBeforeIndex=a)}function Zf(r,a){const l=r.data[a];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function fy(r,a,l){const g=zv(r,l,64,null,null);return Qf(a,g),g}function c_(r,a){const l=a[r.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function mb(r){return r>>>17}function gb(r){return(131070&r)>>>1}let Xu=0,qf=0;function vb(r,a,l){const g=r[$s];switch(l){case Node.COMMENT_NODE:return kh(g,a);case Node.TEXT_NODE:return Gv(g,a);case Node.ELEMENT_NODE:return sg(g,a,null)}}let em=(r,a,l,g)=>($r(!0),vb(r,l,g));function my(r,a,l,g){return $r(!0),vb(r,l,g)}function yb(r,a,l,g){const P=l[$s];let H,B=null;for(let ie=0;ie<a.length;ie++){const ve=a[ie];if("string"==typeof ve){const we=a[++ie];null===l[we]&&(l[we]=em(l,we,ve,Node.TEXT_NODE))}else if("number"==typeof ve)switch(1&ve){case 0:const we=mb(ve);let Ze,Ot;if(null===B&&(B=we,H=og(P,g)),we===B?(Ze=g,Ot=H):(Ze=null,Ot=eo(l[we])),null!==Ot){const Bn=gb(ve);Ho(P,Ot,l[Bn],Ze,!1);const ms=Zf(r,Bn);if(null!==ms&&"object"==typeof ms){const zn=c_(ms,l);null!==zn&&yb(r,ms.create[zn],l,l[ms.anchorIdx])}}break;case 1:const fn=a[++ie],bn=a[++ie];qv(P,du(ve>>>1,l),null,null,fn,bn,null)}else switch(ve){case a_:const we=a[++ie],Ze=a[++ie];null===l[Ze]&&Kn(l[Ze]=em(l,Ze,we,Node.COMMENT_NODE),l);break;case r_:const Ot=a[++ie],tn=a[++ie];null===l[tn]&&Kn(l[tn]=em(l,tn,Ot,Node.ELEMENT_NODE),l)}}}function tm(r,a,l,g,P){for(let B=0;B<l.length;B++){const H=l[B],ie=l[++B];if(H&P){let ve="";for(let we=B+1;we<=B+ie;we++){const Ze=l[we];if("string"==typeof Ze)ve+=Ze;else if("number"==typeof Ze)if(Ze<0)ve+=As(a[g-Ze]);else{const Ot=Ze>>>2;switch(3&Ze){case 1:const tn=l[++we],fn=l[++we],bn=r.data[Ot];"string"==typeof bn?qv(a[$s],a[Ot],null,bn,tn,ve,fn):$a(r,bn,a,tn,ve,a[$s],fn,!1);break;case 0:const Bn=a[Ot];null!==Bn&&Uh(a[$s],Bn,ve);break;case 2:_2(r,Zf(r,Ot),a,ve);break;case 3:Eb(r,Zf(r,Ot),g,a)}}}}else{const ve=l[B+1];if(ve>0&&!(3&~ve)){const Ze=Zf(r,ve>>>2);a[Ze.currentCaseLViewIndex]<0&&Eb(r,Ze,g,a)}}B+=ie}}function Eb(r,a,l,g){let P=g[a.currentCaseLViewIndex];if(null!==P){let B=Xu;P<0&&(P=g[a.currentCaseLViewIndex]=~P,B=-1),tm(r,g,a.update[P],l,B)}}function _2(r,a,l,g){const P=function YI(r,a){let l=r.cases.indexOf(a);if(-1===l)switch(r.type){case 1:{const g=function VI(r,a){const l=Yf(a)(parseInt(r,10)),g=kI[l];return void 0!==g?g:"other"}(a,function db(){return cb}());l=r.cases.indexOf(g),-1===l&&"other"!==g&&(l=r.cases.indexOf("other"));break}case 0:l=r.cases.indexOf("other")}return-1===l?null:l}(a,g);if(c_(a,l)!==P&&(Cb(r,a,l),l[a.currentCaseLViewIndex]=null===P?null:~P,null!==P)){const H=l[a.anchorIdx];H&&yb(r,a.create[P],l,H)}}function Cb(r,a,l){let g=c_(a,l);if(null!==g){const P=a.remove[g];for(let B=0;B<P.length;B++){const H=P[B];if(H>0){const ie=du(H,l);null!==ie&&rf(l[$s],ie)}else Cb(r,Zf(r,~H),l)}}}function Ju(){const r=[];let l,g,a=-1;function B(ie,ve){a=0;const we=c_(ie,ve);g=null!==we?ie.remove[we]:Xs}function H(){if(a<g.length){const ie=g[a++];return ie>0?l[ie]:(r.push(a,g),B(l[es].data[~ie],l),H())}return 0===r.length?null:(g=r.pop(),a=r.pop(),H())}return function P(ie,ve){for(l=ve;r.length;)r.pop();return B(ie.value,ve),H}}const d_=/\ufffd(\d+):?\d*\ufffd/gi,XI=/\ufffd(\d+)\ufffd/,Tb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,nm="\ufffd",h_=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,p_=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,JI=/\uE500/g;function sm(r,a,l,g,P,B,H){const ie=cf(r,g,1,null);let ve=ie<<Wa.SHIFT,we=Ul();a===we&&(we=null),null===we&&(ve|=Wa.APPEND_EAGERLY),H&&(ve|=Wa.COMMENT,function $E(r){void 0===wd&&(wd=r())}(Ju)),P.push(ve,null===B?"":B);const Ze=zv(r,ie,H?32:1,null===B?"":B,null);Qf(l,Ze);const Ot=Ze.index;return ja(Ze,!1),null!==we&&a!==we&&function py(r,a){let l=r.insertBeforeIndex;null===l?(JE(ub,hb),l=r.insertBeforeIndex=[null,a]):(st(Array.isArray(l),!0,"Expecting array here"),l.push(a))}(we,Ot),Ze}function ZI(r,a,l,g,P,B,H,ie){const ve=ie.match(d_),Ze=sm(a,l,g,H,P,ve?null:ie,!1).index;ve&&im(B,ie,Ze,null,0,null),r.push({kind:0,index:Ze})}function im(r,a,l,g,P,B){const H=r.length,ie=H+1;r.push(null,null);const ve=H+2,we=a.split(d_);let Ze=0;for(let Ot=0;Ot<we.length;Ot++){const tn=we[Ot];if(1&Ot){const fn=P+parseInt(tn,10);r.push(-1-fn),Ze|=vy(fn)}else""!==tn&&r.push(tn)}return r.push(l<<2|(g?1:0)),g&&r.push(g,B),r[H]=Ze,r[ie]=r.length-ve,Ze}function vy(r){return 1<<Math.min(r,31)}function Db(r){let a,B,l="",g=0,P=!1;for(;null!==(a=h_.exec(r));)P?a[0]===`${nm}/*${B}${nm}`&&(g=a.index,P=!1):(l+=r.substring(g,a.index+a[0].length),B=a[1],P=!0);return l+=r.slice(g),l}function Ob(r,a,l,g,P,B,H){let ie=0;const ve={type:B.type,currentCaseLViewIndex:cf(a,l,1,null),anchorIdx:H,cases:[],create:[],remove:[],update:[]};(function sP(r,a,l){r.push(vy(a.mainBinding),2,-1-a.mainBinding,l<<2|2)})(g,B,H),function $I(r,a,l){const g=r.data[a];null===g?r.data[a]=l:g.value=l}(a,H,ve);const we=B.values,Ze=[];for(let Ot=0;Ot<we.length;Ot++){const tn=we[Ot],fn=[];for(let Bn=0;Bn<tn.length;Bn++){const ss=tn[Bn];if("string"!=typeof ss){const ms=fn.push(ss)-1;tn[Bn]=`\x3c!--\ufffd${ms}\ufffd--\x3e`}}const bn=[];Ze.push(bn),ie=nP(bn,a,ve,l,g,P,B.cases[Ot],tn.join(""),fn)|ie}ie&&function v_(r,a,l){r.push(a,1,l<<2|3)}(g,ie,H),r.push({kind:3,index:H,cases:Ze,currentCaseLViewIndex:ve.currentCaseLViewIndex})}function tP(r){const a=[],l=[];let g=1,P=0;const B=up(r=r.replace(Tb,function(H,ie,ve){return g="select"===ve?0:1,P=parseInt(ie.slice(1),10),""}));for(let H=0;H<B.length;){let ie=B[H++].trim();1===g&&(ie=ie.replace(/\s*(?:=)?(\w+)\s*/,"$1")),ie.length&&a.push(ie);const ve=up(B[H++]);a.length>l.length&&l.push(ve)}return{type:g,mainBinding:P,cases:a,values:l}}function up(r){if(!r)return[];let a=0;const l=[],g=[],P=/[{}]/g;let B;for(P.lastIndex=0;B=P.exec(r);){const ie=B.index;if("}"==B[0]){if(l.pop(),0==l.length){const ve=r.substring(a,ie);Tb.test(ve)?g.push(tP(ve)):g.push(ve),a=ie+1}}else{if(0==l.length){const ve=r.substring(a,ie);g.push(ve),a=ie+1}l.push("{")}}const H=r.substring(a);return g.push(H),g}function nP(r,a,l,g,P,B,H,ie,ve){const we=[],Ze=[],Ot=[];l.cases.push(H),l.create.push(we),l.remove.push(Ze),l.update.push(Ot);const fn=Du(gc()).getInertBodyElement(ie),bn=Jm(fn)||fn;return bn?om(r,a,l,g,P,we,Ze,Ot,bn,B,ve,0):0}function om(r,a,l,g,P,B,H,ie,ve,we,Ze,Ot){let tn=0,fn=ve.firstChild;for(;fn;){const bn=cf(a,g,1,null);switch(fn.nodeType){case Node.ELEMENT_NODE:const Bn=fn,ss=Bn.tagName.toLowerCase();if(wv.hasOwnProperty(ss)){yy(B,r_,ss,we,bn),a.data[bn]=ss;const uo=Bn.attributes;for(let na=0;na<uo.length;na++){const Rl=uo.item(na),X_=Rl.name.toLowerCase();Rl.value.match(d_)?Fh.hasOwnProperty(X_)&&im(ie,Rl.value,bn,Rl.name,0,xv[X_]?Nh:null):iP(B,bn,Rl)}const Bo={kind:1,index:bn,children:[]};r.push(Bo),tn=om(Bo.children,a,l,g,P,B,H,ie,fn,bn,Ze,Ot+1)|tn,Mb(H,bn,Ot)}break;case Node.TEXT_NODE:const ms=fn.textContent||"",zn=ms.match(d_);yy(B,null,zn?"":ms,we,bn),Mb(H,bn,Ot),zn&&(tn=im(ie,ms,bn,null,0,null)|tn),r.push({kind:0,index:bn});break;case Node.COMMENT_NODE:const li=XI.exec(fn.textContent||"");if(li){const Bo=Ze[parseInt(li[1],10)];yy(B,a_,"",we,bn),Ob(r,a,g,P,we,Bo,bn),__(H,bn,Ot)}}fn=fn.nextSibling}return tn}function Mb(r,a,l){0===l&&r.push(a)}function __(r,a,l){0===l&&(r.push(~a),r.push(a))}function yy(r,a,l,g,P){null!==a&&r.push(a),r.push(l,P,function WI(r,a,l){return r|a<<17|l<<1}(0,g,P))}function iP(r,a,l){r.push(a<<1|1,l.name,l.value)}function Pb(r,a,l=-1){const g=ys(),P=En(),B=Zs+r,H=el(g.consts,a),ie=Ul();g.firstCreatePass&&function f_(r,a,l,g,P,B){const H=Ul(),ie=[],ve=[],we=[[]],Ze=[[]];P=function g_(r,a){if(function eP(r){return-1===r}(a))return Db(r);{const l=r.indexOf(`:${a}${nm}`)+2+a.toString().length,g=r.search(new RegExp(`${nm}\\/\\*\\d+:${a}${nm}`));return Db(r.substring(l,g))}}(P,B);const Ot=function QI(r){return r.replace(JI," ")}(P).split(p_);for(let tn=0;tn<Ot.length;tn++){let fn=Ot[tn];if(1&tn){const bn=47===fn.charCodeAt(0),Bn=fn.charCodeAt(bn?1:0),ss=Zs+Number.parseInt(fn.substring(bn?2:1));if(bn)we.shift(),Ze.shift(),ja(Ul(),!1);else{const ms=fy(r,we[0],ss);we.unshift([]),ja(ms,!0);const zn={kind:2,index:ss,children:[],type:35===Bn?0:1};Ze[0].push(zn),Ze.unshift(zn.children)}}else{const bn=up(fn);for(let Bn=0;Bn<bn.length;Bn++){let ss=bn[Bn];if(1&Bn){const ms=ss;if("object"!=typeof ms)throw new Error(`Unable to parse ICU expression in "${P}" message.`);const li=sm(r,H,we[0],l,ie,"",!0).index;Ob(Ze[0],r,l,ve,a,ms,li)}else""!==ss&&ZI(Ze[0],r,H,we[0],ie,ve,l,ss)}}}r.data[g]={create:ie,update:ve,ast:Ze[0]}}(g,null===ie?0:ie.index,P,B,H,l),2===g.type?P[co][xs]|=32:P[xs]|=32;const ve=g.data[B],Ze=Oo(g,ie===P[Eo]?null:ie,P);(function zI(r,a,l,g){const P=r[$s];for(let B=0;B<a.length;B++){const H=a[B++],we=(H&Wa.APPEND_EAGERLY)===Wa.APPEND_EAGERLY,Ze=H>>>Wa.SHIFT;let Ot=r[Ze],tn=!1;null===Ot&&(Ot=r[Ze]=em(r,Ze,a[B],(H&Wa.COMMENT)===Wa.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),tn=Ko()),we&&null!==l&&tn&&Ho(P,l,Ot,g,!1)}})(P,ve.create,Ze,ie&&8&ie.type?P[ie.index]:null),hu(!0)}function Ab(r,a,l){Pb(r,a,l),function Rb(){hu(!1)}()}function wb(r){return function KI(r){r&&(Xu|=1<<Math.min(qf,31)),qf++}(mr(En(),Do(),r)),wb}function aP(r){!function HI(r,a,l){if(qf>0){const g=r.data[l];tm(r,a,Array.isArray(g)?g:g.update,kl()-qf-1,Xu)}Xu=0,qf=0}(ys(),En(),r+Zs)}function xb(r,a,l,g){const P=En(),B=ys(),H=Vi();return y_(B,P,P[$s],H,r,a,g),xb}function y_(r,a,l,g,P,B,H){const ie=Nl(g),we=r.firstCreatePass&&c1(r),Ze=a[Xi],Ot=l1(a);let tn=!0;if(3&g.type||H){const Bn=Vr(g,a),ss=H?H(Bn):Bn,ms=Ot.length,zn=H?uo=>H(eo(uo[g.index])):g.index;let li=null;if(!H&&ie&&(li=function I2(r,a,l,g){const P=r.cleanup;if(null!=P)for(let B=0;B<P.length-1;B+=2){const H=P[B];if(H===l&&P[B+1]===g){const ie=a[ir],ve=P[B+2];return ie.length>ve?ie[ve]:null}"string"==typeof H&&(B+=2)}return null}(r,a,P,g.index)),null!==li)(li.__ngLastListenerFn__||li).__ngNextListenerFn__=B,li.__ngLastListenerFn__=B,tn=!1;else{B=E_(g,a,Ze,B,!1);const uo=l.listen(ss,P,B);Ot.push(B,uo),we&&we.push(P,zn,ms,ms+1)}}else B=E_(g,a,Ze,B,!1);const fn=g.outputs;let bn;if(tn&&null!==fn&&(bn=fn[P])){const Bn=bn.length;if(Bn)for(let ss=0;ss<Bn;ss+=2){const Bo=a[bn[ss]][bn[ss+1]].subscribe(B),na=Ot.length;Ot.push(B,Bo),we&&we.push(P,g.index,na,-(na+1))}}}function Lb(r,a,l,g){const P=f(null);try{return _l(6,a,l),!1!==l(g)}catch(B){return ug(r,B),!1}finally{_l(7,a,l),f(P)}}function E_(r,a,l,g,P){return function B(H){if(H===Function)return g;Wh(r.componentOffset>-1?aa(r.index,a):a);let ve=Lb(a,l,g,H),we=B.__ngNextListenerFn__;for(;we;)ve=Lb(a,l,we,H)&&ve,we=we.__ngNextListenerFn__;return P&&!1===ve&&H.preventDefault(),ve}}function Nb(r=1){return function Dr(r){return(ei.lFrame.contextLView=function bm(r,a){for(;r>0;)a=a[or],r--;return a}(r,ei.lFrame.contextLView))[Xi]}(r)}function cP(r,a){let l=null;const g=function Vo(r){const a=r.attrs;if(null!=a){const l=a.indexOf(5);if(!(1&l))return a[l+1]}return null}(r);for(let P=0;P<a.length;P++){const B=a[P];if("*"!==B){if(null===g?zi(r,B,!0):Ca(g,B))return P}else l=P}return l}function Fb(r){const a=En()[co][Eo];if(!a.projection){const g=a.projection=function Os(r,a){const l=[];for(let g=0;g<r;g++)l.push(a);return l}(r?r.length:1,null),P=g.slice();let B=a.child;for(;null!==B;){const H=r?cP(B,r):0;null!==H&&(P[H]?P[H].projectionNext=B:g[H]=B,P[H]=B),B=B.next}}}function Bb(r,a=0,l){const g=En(),P=ys(),B=Gh(P,Zs+r,16,null,l||null);null===B.projection&&(B.projection=a),Uc(),(!g[$o]||El())&&32&~B.flags&&function XO(r,a,l){QE(a[$s],0,a,l,wr(r,l,a),zE(l.parent||a[Eo],l,a))}(P,g,B)}function Ey(r,a,l){return Qu(r,"",a,"",l),Ey}function Qu(r,a,l,g,P){const B=En(),H=Gf(B,a,l,g);return H!==Ys&&$a(ys(),xo(),B,r,H,B[$s],P,!1),Qu}function pa(r,a,l,g,P,B,H){const ie=En(),ve=rp(ie,a,l,g,P,B);return ve!==Ys&&$a(ys(),xo(),ie,r,ve,ie[$s],H,!1),pa}function C_(r,a,l,g){!function H1(r,a,l,g){const P=ys();if(P.firstCreatePass){const B=Vi();Pf(P,new ql(a,l,g),B.index),function z1(r,a){const l=r.contentQueries||(r.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(r.queries.length-1,a)}(P,r),!(2&~l)&&(P.staticContentQueries=!0)}return W1(P,En(),l)}(r,a,l,g)}function rm(r,a,l){!function K1(r,a,l){const g=ys();return g.firstCreatePass&&(Pf(g,new ql(r,a,l),-1),!(2&~a)&&(g.staticViewQueries=!0)),W1(g,En(),a)}(r,a,l)}function $b(r){const a=En(),l=ys(),g=Op();kc(g+1);const P=ju(l,g);if(r.dirty&&function oE(r){return!(4&~r[xs])}(a)===!(2&~P.metadata.flags)){if(null===P.matches)r.reset([]);else{const B=Y1(a,g);r.reset(B,km),r.notifyOnChanges()}return!0}return!1}function Wb(){return function C0(r,a){return r[To].queries[a].queryList}(En(),Op())}function Kb(r){return Bc(function oh(){return ei.lFrame.contextLView}(),Zs+r)}function qb(r,a=""){const l=En(),g=ys(),P=r+Zs,B=g.firstCreatePass?Gh(g,P,1,a,null):g.data[P],H=eT(g,l,B,a,r);l[P]=H,Ko()&&Ld(g,l,H,B),ja(B,!1)}let eT=(r,a,l,g,P)=>($r(!0),Gv(a[$s],g));function R2(r,a,l,g,P){const B=a[$o],H=!B||El()||Nf(l)||Xm(B,P);return $r(H),H?Gv(a[$s],g):bg(B,r,a,l)}function by(r){return O_("",r,""),by}function O_(r,a,l){const g=En(),P=Gf(g,r,a,l);return P!==Ys&&sd(g,Gr(),P),O_}function Ty(r,a,l,g,P){const B=En(),H=rp(B,r,a,l,g,P);return H!==Ys&&sd(B,Gr(),H),Ty}function Dy(r,a,l,g,P,B,H){const ie=En(),ve=function ap(r,a,l,g,P,B,H,ie){const we=Bg(r,kl(),l,P,H);return ea(3),we?a+As(l)+g+As(P)+B+As(H)+ie:Ys}(ie,r,a,l,g,P,B,H);return ve!==Ys&&sd(ie,Gr(),ve),Dy}function Oy(r,a,l,g,P,B,H,ie,ve){const we=En(),Ze=function Qd(r,a,l,g,P,B,H,ie,ve,we){const Ot=ha(r,kl(),l,P,H,ve);return ea(4),Ot?a+As(l)+g+As(P)+B+As(H)+ie+As(ve)+we:Ys}(we,r,a,l,g,P,B,H,ie,ve);return Ze!==Ys&&sd(we,Gr(),Ze),Oy}function My(r,a,l){Q1(a)&&(a=a());const g=En();return mr(g,Do(),a)&&$a(ys(),xo(),g,r,a,g[$s],l,!1),My}function rT(r,a){const l=Q1(r);return l&&r.set(a),l}function Sy(r,a){const l=En(),g=ys(),P=Vi();return y_(g,l,l[$s],P,r,a),Sy}function Iy(r,a,l,g,P){if(r=xe(r),Array.isArray(r))for(let B=0;B<r.length;B++)Iy(r[B],a,l,g,P);else{const B=ys(),H=En(),ie=Vi();let ve=ro(r)?r:xe(r.provide);const we=Qn(r),Ze=1048575&ie.providerIndexes,Ot=ie.directiveStart,tn=ie.providerIndexes>>20;if(ro(r)||!r.multi){const fn=new fu(we,P,Sl),bn=Ry(ve,a,P?Ze:Ze+tn,Ot);-1===bn?($c(hc(ie,H),B,ve),Py(B,r,a.length),a.push(ve),ie.directiveStart++,ie.directiveEnd++,P&&(ie.providerIndexes+=1048576),l.push(fn),H.push(fn)):(l[bn]=fn,H[bn]=fn)}else{const fn=Ry(ve,a,Ze+tn,Ot),bn=Ry(ve,a,Ze,Ze+tn),ss=bn>=0&&l[bn];if(P&&!ss||!P&&!(fn>=0&&l[fn])){$c(hc(ie,H),B,ve);const ms=function lm(r,a,l,g,P){const B=new fu(r,l,Sl);return B.multi=[],B.index=a,B.componentProviders=0,aT(B,P,g&&!l),B}(P?CP:EP,l.length,P,g,we);!P&&ss&&(l[bn].providerFactory=ms),Py(B,r,a.length,0),a.push(ve),ie.directiveStart++,ie.directiveEnd++,P&&(ie.providerIndexes+=1048576),l.push(ms),H.push(ms)}else Py(B,r,fn>-1?fn:bn,aT(l[P?bn:fn],we,!P&&g));!P&&g&&ss&&l[bn].componentProviders++}}}function Py(r,a,l,g){const P=ro(a),B=function Da(r){return!!r.useClass}(a);if(P||B){const ve=(B?xe(a.useClass):a).prototype.ngOnDestroy;if(ve){const we=r.destroyHooks||(r.destroyHooks=[]);if(!P&&a.multi){const Ze=we.indexOf(l);-1===Ze?we.push(l,[g,ve]):we[Ze+1].push(g,ve)}else we.push(l,ve)}}}function aT(r,a,l){return l&&r.componentProviders++,r.multi.push(a)-1}function Ry(r,a,l,g){for(let P=l;P<g;P++)if(a[P]===r)return P;return-1}function EP(r,a,l,g){return Ay(this.multi,[])}function CP(r,a,l,g){const P=this.multi;let B;if(this.providerFactory){const H=this.providerFactory.componentProviders,ie=Wc(l,l[es],this.providerFactory.index,g);B=ie.slice(0,H),Ay(P,B);for(let ve=H;ve<ie.length;ve++)B.push(ie[ve])}else B=[],Ay(P,B);return B}function Ay(r,a){for(let l=0;l<r.length;l++)a.push((0,r[l])());return a}function bP(r,a=[]){return l=>{l.providersResolver=(g,P)=>function yP(r,a,l){const g=ys();if(g.firstCreatePass){const P=Ur(r);Iy(l,g.data,g.blueprint,P,!0),Iy(a,g.data,g.blueprint,P,!1)}}(g,P?P(r):r,a)}}let TP=(()=>{class r{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const g=Zr(0,l.type),P=g.length>0?L0([g],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,P)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ls({token:r,providedIn:"environment",factory:()=>new r(po(xt))})}}return r})();function lT(r){Ql("NgStandalone"),r.getStandaloneInjector=a=>a.get(TP).getOrCreateStandaloneInjector(r)}function dT(r,a,l){const g=qr()+r,P=En();return P[g]===Ys?Ic(P,g,l?a.call(l):a()):Lf(P,g)}function pp(r,a,l,g){return mT(En(),qr(),r,a,l,g)}function uT(r,a,l,g,P){return gT(En(),qr(),r,a,l,g,P)}function hT(r,a,l,g,P,B){return _T(En(),qr(),r,a,l,g,P,B)}function pT(r,a,l,g,P,B,H){return function wy(r,a,l,g,P,B,H,ie,ve){const we=a+l;return ha(r,we,P,B,H,ie)?Ic(r,we+4,ve?g.call(ve,P,B,H,ie):g(P,B,H,ie)):fp(r,we+4)}(En(),qr(),r,a,l,g,P,B,H)}function fT(r,a,l,g,P,B,H,ie){const ve=qr()+r,we=En(),Ze=ha(we,ve,l,g,P,B);return mr(we,ve+4,H)||Ze?Ic(we,ve+5,ie?a.call(ie,l,g,P,B,H):a(l,g,P,B,H)):Lf(we,ve+5)}function fp(r,a){const l=r[a];return l===Ys?void 0:l}function mT(r,a,l,g,P,B){const H=a+l;return mr(r,H,P)?Ic(r,H+1,B?g.call(B,P):g(P)):fp(r,H+1)}function gT(r,a,l,g,P,B,H){const ie=a+l;return Uu(r,ie,P,B)?Ic(r,ie+2,H?g.call(H,P,B):g(P,B)):fp(r,ie+2)}function _T(r,a,l,g,P,B,H,ie){const ve=a+l;return Bg(r,ve,P,B,H)?Ic(r,ve+3,ie?g.call(ie,P,B,H):g(P,B,H)):fp(r,ve+3)}function xy(r,a){const l=ys();let g;const P=r+Zs;l.firstCreatePass?(g=function yT(r,a){if(a)for(let l=a.length-1;l>=0;l--){const g=a[l];if(r===g.name)return g}}(a,l.pipeRegistry),l.data[P]=g,g.onDestroy&&(l.destroyHooks??=[]).push(P,g.onDestroy)):g=l.data[P];const B=g.factory||(g.factory=qe(g.type)),ie=bs(Sl);try{const ve=mh(!1),we=B();return mh(ve),function hP(r,a,l,g){l>=r.data.length&&(r.data[l]=null,r.blueprint[l]=null),a[l]=g}(l,En(),P,we),we}finally{bs(ie)}}function Ly(r,a,l){const g=r+Zs,P=En(),B=Bc(P,g);return dm(P,g)?mT(P,qr(),a,B.transform,l,B):B.transform(l)}function cm(r,a,l,g){const P=r+Zs,B=En(),H=Bc(B,P);return dm(B,P)?gT(B,qr(),a,H.transform,l,g,H):H.transform(l,g)}function ET(r,a,l,g,P){const B=r+Zs,H=En(),ie=Bc(H,B);return dm(H,B)?_T(H,qr(),a,ie.transform,l,g,P,ie):ie.transform(l,g,P)}function dm(r,a){return r[es].data[a].pure}function bT(r,a){return _g(r,a)}class jT{constructor(a){this.full=a;const l=a.split(".");this.major=l[0],this.minor=l[1],this.patch=l.slice(2).join(".")}}let Vy=(()=>{class r{log(l){console.log(l)}warn(l){console.warn(l)}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=ls({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();const Gy=new lt(""),A_=new lt("");let w_,$T=(()=>{class r{constructor(l,g,P){this._ngZone=l,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,w_||(function KT(r){w_=r}(P),P.addToWindow(g)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Sr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb()}});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(l)||(clearTimeout(g.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,g,P){let B=-1;g&&g>0&&(B=setTimeout(()=>{this._callbacks=this._callbacks.filter(H=>H.timeoutId!==B),l()},g)),this._callbacks.push({doneCb:l,timeoutId:B,updateCb:P})}whenStable(l,g,P){if(P&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,g,P),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,g,P){return[]}static{this.\u0275fac=function(g){return new(g||r)(po(Sr),po(WT),po(A_))}}static{this.\u0275prov=ls({token:r,factory:r.\u0275fac})}}return r})(),WT=(()=>{class r{constructor(){this._applications=new Map}registerApplication(l,g){this._applications.set(l,g)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,g=!0){return w_?.findTestabilityInTree(this,l,g)??null}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=ls({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();function $y(r){return!!r&&"function"==typeof r.then}function Wy(r){return!!r&&"function"==typeof r.subscribe}const HT=new lt("");let x_=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,g)=>{this.resolve=l,this.reject=g}),this.appInits=Ks(HT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const P of this.appInits){const B=P();if($y(B))l.push(B);else if(Wy(B)){const H=new Promise((ie,ve)=>{B.subscribe({complete:ie,error:ve})});l.push(H)}}const g=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{g()}).catch(P=>{this.reject(P)}),0===l.length&&g(),this.initialized=!0}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=ls({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const L_=new lt("");let N_,Ka=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ks(jm),this.afterRenderEffectManager=Ks(Of),this.externalTestViews=new Set,this.beforeRender=new ht.B,this.afterTick=new ht.B,this.componentTypes=[],this.components=[],this.isStable=Ks(Qh).hasPendingTasks.pipe((0,Ye.T)(l=>!l)),this._injector=Ks(xt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,g){const P=l instanceof T1;if(!this._injector.get(x_).done)throw!P&&Cr(l),new ot(405,!1);let H;H=P?l:this._injector.get(Df).resolveComponentFactory(l),this.componentTypes.push(H.componentType);const ie=function cR(r){return r.isBoundToModule}(H)?void 0:this._injector.get(ec),we=H.create(Ua.NULL,[],g||H.selector,ie),Ze=we.location.nativeElement,Ot=we.injector.get(Gy,null);return Ot?.registerApplication(Ze),we.onDestroy(()=>{this.detachView(we.hostView),dd(this.components,we),Ot?.unregisterApplication(Ze)}),this._loadComponent(we),we}tick(){this._tick(!0)}_tick(l){if(this._runningTick)throw new ot(101,!1);const g=f(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(l)}catch(P){this.internalErrorHandler(P)}finally{this.afterTick.next(),this._runningTick=!1,f(g)}}detectChangesInAttachedViews(l){let g=0;const P=this.afterRenderEffectManager;for(;;){if(g===f1)throw new ot(103,!1);if(l){const B=0===g;this.beforeRender.next(B);for(let{_lView:H,notifyErrorHandler:ie}of this._views)tw(H,B,ie)}if(g++,P.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:B})=>F_(B))&&(P.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:B})=>F_(B))))break}}attachView(l){const g=l;this._views.push(g),g.attachToAppRef(this)}detachView(l){const g=l;dd(this._views,g),g.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const g=this._injector.get(L_,[]);[...this._bootstrapListeners,...g].forEach(P=>P(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>dd(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new ot(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=ls({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function dd(r,a){const l=r.indexOf(a);l>-1&&r.splice(l,1)}function Ky(r){N_??=new WeakMap;const a=N_.get(r);if(a)return a;const l=r.isStable.pipe((0,pt.$)(g=>g)).toPromise().then(()=>{});return N_.set(r,l),r.onDestroy(()=>N_?.delete(r)),l}function tw(r,a,l){!a&&!F_(r)||function hR(r,a,l){let g;l?(g=0,r[xs]|=1024):g=64&r[xs]?0:1,fg(r,a,g)}(r,l,a)}function F_(r){return tv(r)}class pR{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let fR=(()=>{class r{compileModuleSync(l){return new Ng(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const g=this.compileModuleSync(l),B=nl(ui(l).declarations).reduce((H,ie)=>{const ve=ri(ie);return ve&&H.push(new If(ve)),H},[]);return new pR(g,B)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=ls({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),_R=(()=>{class r{constructor(){this.zone=Ks(Sr),this.applicationRef=Ks(Ka)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=ls({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function YT(r){return[{provide:Sr,useFactory:r},{provide:io,multi:!0,useFactory:()=>{const a=Ks(_R,{optional:!0});return()=>a.initialize()}},{provide:io,multi:!0,useFactory:()=>{const a=Ks(ER);return()=>{a.initialize()}}},{provide:jm,useFactory:vR}]}function vR(){const r=Ks(Sr),a=Ks(Dl);return l=>r.runOutsideAngular(()=>a.handleError(l))}function yR(r){return oa([[],YT(()=>new Sr(function XT(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}(r)))])}let ER=(()=>{class r{constructor(){this.subscription=new Fe.yU,this.initialized=!1,this.zone=Ks(Sr),this.pendingTasks=Ks(Qh)}initialize(){if(this.initialized)return;this.initialized=!0;let l=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(l=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Sr.assertNotInAngularZone(),queueMicrotask(()=>{null!==l&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(l),l=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Sr.assertInAngularZone(),l??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=ls({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const B_=new lt("",{providedIn:"root",factory:()=>Ks(B_,Qt.Optional|Qt.SkipSelf)||function CR(){return typeof $localize<"u"&&$localize.locale||ld}()}),bR=new lt("",{providedIn:"root",factory:()=>"USD"}),k_=new lt("");let tu=null;function qT(){return!1}function MR(){}let Xy=(()=>{class r{static{this.__NG_ELEMENT_ID__=IR}}return r})();function IR(r){return function PR(r,a,l){if(Ba(r)&&!l){const g=aa(r.index,a);return new Kh(g,g)}return 47&r.type?new Kh(a[co],a):null}(Vi(),En(),!(16&~r))}class sD{constructor(){}supports(a){return xf(a)}create(a){return new iD(a)}}const xR=(r,a)=>a;class iD{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||xR}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,g=this._removalsHead,P=0,B=null;for(;l||g;){const H=!g||l&&l.currentIndex<aD(g,P,B)?l:g,ie=aD(H,P,B),ve=H.currentIndex;if(H===g)P--,g=g._nextRemoved;else if(l=l._next,null==H.previousIndex)P++;else{B||(B=[]);const we=ie-P,Ze=ve-P;if(we!=Ze){for(let tn=0;tn<we;tn++){const fn=tn<B.length?B[tn]:B[tn]=0,bn=fn+tn;Ze<=bn&&bn<we&&(B[tn]=fn+1)}B[H.previousIndex]=Ze-we}}ie!==ve&&a(H,ie,ve)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!xf(a))throw new ot(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let P,B,H,l=this._itHead,g=!1;if(Array.isArray(a)){this.length=a.length;for(let ie=0;ie<this.length;ie++)B=a[ie],H=this._trackByFn(ie,B),null!==l&&Object.is(l.trackById,H)?(g&&(l=this._verifyReinsertion(l,B,H,ie)),Object.is(l.item,B)||this._addIdentityChange(l,B)):(l=this._mismatch(l,B,H,ie),g=!0),l=l._next}else P=0,function SS(r,a){if(Array.isArray(r))for(let l=0;l<r.length;l++)a(r[l]);else{const l=r[Symbol.iterator]();let g;for(;!(g=l.next()).done;)a(g.value)}}(a,ie=>{H=this._trackByFn(P,ie),null!==l&&Object.is(l.trackById,H)?(g&&(l=this._verifyReinsertion(l,ie,H,P)),Object.is(l.item,ie)||this._addIdentityChange(l,ie)):(l=this._mismatch(l,ie,H,P),g=!0),l=l._next,P++}),this.length=P;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,g,P){let B;return null===a?B=this._itTail:(B=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,B,P)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(g,P))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,B,P)):a=this._addAfter(new oD(l,g),B,P),a}_verifyReinsertion(a,l,g,P){let B=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==B?a=this._reinsertAfter(B,a._prev,P):a.currentIndex!=P&&(a.currentIndex=P,this._addToMoves(a,P)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const P=a._prevRemoved,B=a._nextRemoved;return null===P?this._removalsHead=B:P._nextRemoved=B,null===B?this._removalsTail=P:B._prevRemoved=P,this._insertAfter(a,l,g),this._addToMoves(a,g),a}_moveAfter(a,l,g){return this._unlink(a),this._insertAfter(a,l,g),this._addToMoves(a,g),a}_addAfter(a,l,g){return this._insertAfter(a,l,g),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,g){const P=null===l?this._itHead:l._next;return a._next=P,a._prev=l,null===P?this._itTail=a:P._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new rD),this._linkedRecords.put(a),a.currentIndex=g,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,g=a._next;return null===l?this._itHead=g:l._next=g,null===g?this._itTail=l:g._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rD),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class oD{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LR{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===l||l<=g.currentIndex)&&Object.is(g.trackById,a))return g;return null}remove(a){const l=a._prevDup,g=a._nextDup;return null===l?this._head=g:l._nextDup=g,null===g?this._tail=l:g._prevDup=l,null===this._head}}class rD{constructor(){this.map=new Map}put(a){const l=a.trackById;let g=this.map.get(l);g||(g=new LR,this.map.set(l,g)),g.add(a)}get(a,l){const P=this.map.get(a);return P?P.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aD(r,a,l){const g=r.previousIndex;if(null===g)return g;let P=0;return l&&g<l.length&&(P=l[g]),g+a+P}class lD{constructor(){}supports(a){return a instanceof Map||F0(a)}create(){return new NR}}class NR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||F0(a)))throw new ot(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(g,P)=>{if(l&&l.key===P)this._maybeAddToChanges(l,g),this._appendAfter=l,l=l._next;else{const B=this._getOrCreateRecordForKey(P,g);l=this._insertBeforeOrAppend(l,B)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let g=l;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const g=a._prev;return l._next=a,l._prev=g,a._prev=l,g&&(g._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const P=this._records.get(a);this._maybeAddToChanges(P,l);const B=P._prev,H=P._next;return B&&(B._next=H),H&&(H._prev=B),P._next=null,P._prev=null,P}const g=new FR(a);return this._records.set(a,g),g.currentValue=l,this._addToAdditions(g),g}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(g=>l(a[g],g))}}class FR{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cD(){return new qy([new sD])}let qy=(()=>{class r{static{this.\u0275prov=ls({token:r,providedIn:"root",factory:cD})}constructor(l){this.factories=l}static create(l,g){if(null!=g){const P=g.factories.slice();l=l.concat(P)}return new r(l)}static extend(l){return{provide:r,useFactory:g=>r.create(l,g||cD()),deps:[[r,new va,new Qr]]}}find(l){const g=this.factories.find(P=>P.supports(l));if(null!=g)return g;throw new ot(901,!1)}}return r})();function dD(){return new eE([new lD])}let eE=(()=>{class r{static{this.\u0275prov=ls({token:r,providedIn:"root",factory:dD})}constructor(l){this.factories=l}static create(l,g){if(g){const P=g.factories.slice();l=l.concat(P)}return new r(l)}static extend(l){return{provide:r,useFactory:g=>r.create(l,g||dD()),deps:[[r,new va,new Qr]]}}find(l){const g=this.factories.find(P=>P.supports(l));if(g)return g;throw new ot(901,!1)}}return r})();function fi(r){try{const{rootComponent:a,appProviders:l,platformProviders:g}=r,P=function OR(r=[]){if(tu)return tu;const a=function ZT(r=[],a){return Ua.create({name:a,providers:[{provide:sr,useValue:"platform"},{provide:k_,useValue:new Set([()=>tu=null])},...r]})}(r);return tu=a,function lR(){!function ee(r){J=r}(()=>{throw new ot(600,!1)})}(),function Hy(r){r.get($m,null)?.forEach(l=>l())}(a),a}(g),B=[yR(),...l||[]],ie=new uC({providers:B,parent:P,debugName:"",runEnvironmentInitializers:!1}).injector,ve=ie.get(Sr);return ve.run(()=>{ie.resolveInjectorInitializers();const we=ie.get(Dl,null);let Ze;ve.runOutsideAngular(()=>{Ze=ve.onError.subscribe({next:fn=>{we.handleError(fn)}})});const Ot=()=>ie.destroy(),tn=P.get(k_);return tn.add(Ot),ie.onDestroy(()=>{Ze.unsubscribe(),tn.delete(Ot)}),function dR(r,a,l){try{const g=l();return $y(g)?g.catch(P=>{throw a.runOutsideAngular(()=>r.handleError(P)),P}):g}catch(g){throw a.runOutsideAngular(()=>r.handleError(g)),g}}(we,ve,()=>{const fn=ie.get(x_);return fn.runInitializers(),fn.donePromise.then(()=>{!function Jf(r){"string"==typeof r&&(cb=r.toLowerCase().replace(/_/g,"-"))}(ie.get(B_,ld)||ld);const Bn=ie.get(Ka);return void 0!==a&&Bn.bootstrap(a),Bn})})})}catch(a){return Promise.reject(a)}}let ic=!1,ma=!1;function sh(){return oa([{provide:Ue,useFactory:()=>{let r=!0;return zl()&&(r=!!Ks(Qc,{optional:!0})?.get(Iv,null)),r&&Ql("NgHydration"),r}},{provide:io,useValue:()=>{ma=!!Ks($l,{optional:!0}),zl()&&Ks(Ue)&&(function Vs(){const r=gc();let a;for(const l of r.body.childNodes)if(l.nodeType===Node.COMMENT_NODE&&l.textContent?.trim()===OO){a=l;break}if(!a)throw new ot(-507,!1)}(),function nh(){ic||(ic=!0,function SO(){yE=MO}(),function wI(){ob=AI}(),function vP(){eT=R2}(),function NI(){rb=LI}(),function AS(){B0=RS}(),function iS(){V1=sS,v0=nS}(),function NM(){u0=LM}(),function Hr(){t1=lg}(),function gy(){em=my}())}())},multi:!0},{provide:ii,useFactory:()=>zl()&&Ks(Ue)},{provide:L_,useFactory:()=>{if(zl()&&Ks(Ue)){const r=Ks(Ka);return Ks(Ua),()=>{(function vD(r,a){return Ky(r)})(r).then(()=>{!function yf(r){const a=r._views;for(const l of a){const g=EE(l);null!==g&&null!==g[Ai]&&(si(g)?yg(g):(yg(g[Ai]),E1(g)))}}(r)})}}return()=>{}},multi:!0}])}function xw(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function Lw(r,a=NaN){return isNaN(parseFloat(r))||isNaN(Number(r))?a:Number(r)}function Fw(r,a){Ql("NgSignals");const l=function X(r){const a=Object.create(te);a.computation=r;const l=()=>{if(T(a),S(a),a.value===z)throw a.error;return a.value};return l[m]=a,l}(r);return a?.equal&&(l[m].equal=a.equal),l}function Bw(r){const a=f(null);try{return r()}finally{f(a)}}const jw=new lt("",{providedIn:"root",factory:()=>Ks(Uw)});let Uw=(()=>{class r{static{this.\u0275prov=ls({token:r,providedIn:"root",factory:()=>new kw})}}return r})();class kw{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Ks(Qh),this.taskId=null}scheduleEffect(a){if(this.enqueue(a),null===this.taskId){const l=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(l),this.taskId=null})}}enqueue(a){const l=a.creationZone;this.queues.has(l)||this.queues.set(l,new Set);const g=this.queues.get(l);g.has(a)||(this.queuedEffectCount++,g.add(a))}flush(){for(;this.queuedEffectCount>0;)for(const[a,l]of this.queues)null===a?this.flushQueue(l):a.run(()=>this.flushQueue(l))}flushQueue(a){for(const l of a)a.delete(l),this.queuedEffectCount--,l.run()}}class Vw{constructor(a,l,g,P,B,H){this.scheduler=a,this.effectFn=l,this.creationZone=g,this.injector=B,this.watcher=function re(r,a,l){const g=Object.create(De);l&&(g.consumerAllowSignalWrites=!0),g.fn=r,g.schedule=a;const P=ve=>{g.cleanupFn=ve};return g.ref={notify:()=>L(g),run:()=>{if(null===g.fn)return;if(function E(){return e}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(g.dirty=!1,g.hasRun&&!M(g))return;g.hasRun=!0;const ve=D(g);try{g.cleanupFn(),g.cleanupFn=Ee,g.fn(P)}finally{w(g,ve)}},cleanup:()=>g.cleanupFn(),destroy:()=>function H(ve){(function B(ve){return null===ve.fn&&null===ve.schedule})(ve)||(x(ve),ve.cleanupFn(),ve.fn=null,ve.schedule=null,ve.cleanupFn=Ee)}(g),[m]:g},g.ref}(ie=>this.runEffect(ie),()=>this.schedule(),H),this.unregisterOnDestroy=P?.onDestroy(()=>this.destroy())}runEffect(a){try{this.effectFn(a)}catch(l){this.injector.get(Dl,null,{optional:!0})?.handleError(l)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Mw(r,a){Ql("NgSignals"),!a?.injector&&he();const l=a?.injector??Ks(Ua),g=!0!==a?.manualCleanup?l.get(Kc):null,P=new Vw(l.get(jw),r,typeof Zone>"u"?null:Zone.current,g,l,a?.allowSignalWrites??!1),B=l.get(Xy,null,{optional:!0});return B&&8&B._lView[xs]?(B._lView[rc]??=[]).push(P.watcher.notify):P.watcher.notify(),P}function Gw(r,a){const l=ri(r),g=a.elementInjector||dn();return new If(l).create(g,a.projectableNodes,a.hostElement,a.environmentInjector)}function $w(r){const a=ri(r);if(!a)return null;const l=new If(a);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}function Ww(...r){return r.reduce((a,l)=>Object.assign(a,l,{providers:[...a.providers,...l.providers]}),{providers:[]})}},89417:(F,b,n)=>{"use strict";n.d(b,{$R:()=>ho,BC:()=>Mt,Bm:()=>Xs,Fm:()=>on,J3:()=>st,JD:()=>yr,MJ:()=>$n,Q0:()=>_r,R_:()=>Ci,VZ:()=>et,W0:()=>Qo,X1:()=>ya,Y4:()=>$i,YN:()=>Zo,YS:()=>jt,ZU:()=>ht,Zm:()=>_,cV:()=>pn,cb:()=>Ne,cz:()=>L,hs:()=>_s,j4:()=>vo,k0:()=>M,kq:()=>v,l_:()=>vi,me:()=>T,ok:()=>mo,pg:()=>D,qT:()=>Qs,tU:()=>di,v8:()=>ur,vO:()=>Fe,vS:()=>As,wz:()=>Xr,xH:()=>po,xh:()=>Hs,xq:()=>Vt,y7:()=>Fr,zX:()=>_a,ze:()=>Ir});var i=n(54438),t=n(60177),u=n(22806),e=n(27468),h=n(96354);let m=(()=>{class Ge{constructor(oe,$e){this._renderer=oe,this._elementRef=$e,this.onChange=_e=>{},this.onTouched=()=>{}}setProperty(oe,$e){this._renderer.setProperty(this._elementRef.nativeElement,oe,$e)}registerOnTouched(oe){this.onTouched=oe}registerOnChange(oe){this.onChange=oe}setDisabledState(oe){this.setProperty("disabled",oe)}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(i.sFG),i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:Ge})}}return Ge})(),f=(()=>{class Ge extends m{static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,features:[i.Vt3]})}}return Ge})();const v=new i.nKC(""),E={provide:v,useExisting:(0,i.Rfq)(()=>_),multi:!0};let _=(()=>{class Ge extends f{writeValue(oe){this.setProperty("checked",oe)}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function($e,_e){1&$e&&i.bIt("change",function(Xt){return _e.onChange(Xt.target.checked)})("blur",function(){return _e.onTouched()})},features:[i.Jv_([E]),i.Vt3]})}}return Ge})();const C={provide:v,useExisting:(0,i.Rfq)(()=>T),multi:!0},R=new i.nKC("");let T=(()=>{class Ge extends m{constructor(oe,$e,_e){super(oe,$e),this._compositionMode=_e,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function S(){const Ge=(0,t.QT)()?(0,t.QT)().getUserAgent():"";return/android (\d+)/.test(Ge.toLowerCase())}())}writeValue(oe){this.setProperty("value",oe??"")}_handleInput(oe){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(oe)}_compositionStart(){this._composing=!0}_compositionEnd(oe){this._composing=!1,this._compositionMode&&this.onChange(oe)}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(R,8))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($e,_e){1&$e&&i.bIt("input",function(Xt){return _e._handleInput(Xt.target.value)})("blur",function(){return _e.onTouched()})("compositionstart",function(){return _e._compositionStart()})("compositionend",function(Xt){return _e._compositionEnd(Xt.target.value)})},features:[i.Jv_([C]),i.Vt3]})}}return Ge})();function A(Ge){return null==Ge||("string"==typeof Ge||Array.isArray(Ge))&&0===Ge.length}function p(Ge){return null!=Ge&&"number"==typeof Ge.length}const L=new i.nKC(""),D=new i.nKC(""),w=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class M{static min(Xe){return x(Xe)}static max(Xe){return j(Xe)}static required(Xe){return U(Xe)}static requiredTrue(Xe){return $(Xe)}static email(Xe){return function k(Ge){return A(Ge.value)||w.test(Ge.value)?null:{email:!0}}(Xe)}static minLength(Xe){return K(Xe)}static maxLength(Xe){return X(Xe)}static pattern(Xe){return G(Xe)}static nullValidator(Xe){return null}static compose(Xe){return le(Xe)}static composeAsync(Xe){return fe(Xe)}}function x(Ge){return Xe=>{if(A(Xe.value)||A(Ge))return null;const oe=parseFloat(Xe.value);return!isNaN(oe)&&oe<Ge?{min:{min:Ge,actual:Xe.value}}:null}}function j(Ge){return Xe=>{if(A(Xe.value)||A(Ge))return null;const oe=parseFloat(Xe.value);return!isNaN(oe)&&oe>Ge?{max:{max:Ge,actual:Xe.value}}:null}}function U(Ge){return A(Ge.value)?{required:!0}:null}function $(Ge){return!0===Ge.value?null:{required:!0}}function K(Ge){return Xe=>A(Xe.value)||!p(Xe.value)?null:Xe.value.length<Ge?{minlength:{requiredLength:Ge,actualLength:Xe.value.length}}:null}function X(Ge){return Xe=>p(Xe.value)&&Xe.value.length>Ge?{maxlength:{requiredLength:Ge,actualLength:Xe.value.length}}:null}function G(Ge){if(!Ge)return q;let Xe,oe;return"string"==typeof Ge?(oe="","^"!==Ge.charAt(0)&&(oe+="^"),oe+=Ge,"$"!==Ge.charAt(Ge.length-1)&&(oe+="$"),Xe=new RegExp(oe)):(oe=Ge.toString(),Xe=Ge),$e=>{if(A($e.value))return null;const _e=$e.value;return Xe.test(_e)?null:{pattern:{requiredPattern:oe,actualValue:_e}}}}function q(Ge){return null}function z(Ge){return null!=Ge}function te(Ge){return(0,i.jNT)(Ge)?(0,u.H)(Ge):Ge}function Z(Ge){let Xe={};return Ge.forEach(oe=>{Xe=null!=oe?{...Xe,...oe}:Xe}),0===Object.keys(Xe).length?null:Xe}function J(Ge,Xe){return Xe.map(oe=>oe(Ge))}function ee(Ge){return Ge.map(Xe=>function Q(Ge){return!Ge.validate}(Xe)?Xe:oe=>Xe.validate(oe))}function le(Ge){if(!Ge)return null;const Xe=Ge.filter(z);return 0==Xe.length?null:function(oe){return Z(J(oe,Xe))}}function ne(Ge){return null!=Ge?le(ee(Ge)):null}function fe(Ge){if(!Ge)return null;const Xe=Ge.filter(z);return 0==Xe.length?null:function(oe){const $e=J(oe,Xe).map(te);return(0,e.p)($e).pipe((0,h.T)(Z))}}function se(Ge){return null!=Ge?fe(ee(Ge)):null}function ce(Ge,Xe){return null===Ge?[Xe]:Array.isArray(Ge)?[...Ge,Xe]:[Ge,Xe]}function Te(Ge){return Ge._rawValidators}function be(Ge){return Ge._rawAsyncValidators}function me(Ge){return Ge?Array.isArray(Ge)?Ge:[Ge]:[]}function re(Ge,Xe){return Array.isArray(Ge)?Ge.includes(Xe):Ge===Xe}function Ee(Ge,Xe){const oe=me(Xe);return me(Ge).forEach(_e=>{re(oe,_e)||oe.push(_e)}),oe}function De(Ge,Xe){return me(Xe).filter(oe=>!re(Ge,oe))}class tt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Xe){this._rawValidators=Xe||[],this._composedValidatorFn=ne(this._rawValidators)}_setAsyncValidators(Xe){this._rawAsyncValidators=Xe||[],this._composedAsyncValidatorFn=se(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Xe){this._onDestroyCallbacks.push(Xe)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Xe=>Xe()),this._onDestroyCallbacks=[]}reset(Xe=void 0){this.control&&this.control.reset(Xe)}hasError(Xe,oe){return!!this.control&&this.control.hasError(Xe,oe)}getError(Xe,oe){return this.control?this.control.getError(Xe,oe):null}}class ht extends tt{get formDirective(){return null}get path(){return null}}class Fe extends tt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Et{constructor(Xe){this._cd=Xe}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mt=(()=>{class Ge extends Et{constructor(oe){super(oe)}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(Fe,2))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($e,_e){2&$e&&i.AVh("ng-untouched",_e.isUntouched)("ng-touched",_e.isTouched)("ng-pristine",_e.isPristine)("ng-dirty",_e.isDirty)("ng-valid",_e.isValid)("ng-invalid",_e.isInvalid)("ng-pending",_e.isPending)},features:[i.Vt3]})}}return Ge})(),Ne=(()=>{class Ge extends Et{constructor(oe){super(oe)}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(ht,10))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($e,_e){2&$e&&i.AVh("ng-untouched",_e.isUntouched)("ng-touched",_e.isTouched)("ng-pristine",_e.isPristine)("ng-dirty",_e.isDirty)("ng-valid",_e.isValid)("ng-invalid",_e.isInvalid)("ng-pending",_e.isPending)("ng-submitted",_e.isSubmitted)},features:[i.Vt3]})}}return Ge})();const zt="VALID",Yt="INVALID",wt="PENDING",bt="DISABLED";function Jt(Ge){return(xe(Ge)?Ge.validators:Ge)||null}function Ft(Ge,Xe){return(xe(Xe)?Xe.asyncValidators:Ge)||null}function xe(Ge){return null!=Ge&&!Array.isArray(Ge)&&"object"==typeof Ge}function Ve(Ge,Xe,oe){const $e=Ge.controls;if(!(Xe?Object.keys($e):$e).length)throw new i.wOt(1e3,"");if(!$e[oe])throw new i.wOt(1001,"")}function Ke(Ge,Xe,oe){Ge._forEachChild(($e,_e)=>{if(void 0===oe[_e])throw new i.wOt(1002,"")})}class je{constructor(Xe,oe){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Xe),this._assignAsyncValidators(oe)}get validator(){return this._composedValidatorFn}set validator(Xe){this._rawValidators=this._composedValidatorFn=Xe}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Xe){this._rawAsyncValidators=this._composedAsyncValidatorFn=Xe}get parent(){return this._parent}get valid(){return this.status===zt}get invalid(){return this.status===Yt}get pending(){return this.status==wt}get disabled(){return this.status===bt}get enabled(){return this.status!==bt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Xe){this._assignValidators(Xe)}setAsyncValidators(Xe){this._assignAsyncValidators(Xe)}addValidators(Xe){this.setValidators(Ee(Xe,this._rawValidators))}addAsyncValidators(Xe){this.setAsyncValidators(Ee(Xe,this._rawAsyncValidators))}removeValidators(Xe){this.setValidators(De(Xe,this._rawValidators))}removeAsyncValidators(Xe){this.setAsyncValidators(De(Xe,this._rawAsyncValidators))}hasValidator(Xe){return re(this._rawValidators,Xe)}hasAsyncValidator(Xe){return re(this._rawAsyncValidators,Xe)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Xe={}){this.touched=!0,this._parent&&!Xe.onlySelf&&this._parent.markAsTouched(Xe)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Xe=>Xe.markAllAsTouched())}markAsUntouched(Xe={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(oe=>{oe.markAsUntouched({onlySelf:!0})}),this._parent&&!Xe.onlySelf&&this._parent._updateTouched(Xe)}markAsDirty(Xe={}){this.pristine=!1,this._parent&&!Xe.onlySelf&&this._parent.markAsDirty(Xe)}markAsPristine(Xe={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(oe=>{oe.markAsPristine({onlySelf:!0})}),this._parent&&!Xe.onlySelf&&this._parent._updatePristine(Xe)}markAsPending(Xe={}){this.status=wt,!1!==Xe.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Xe.onlySelf&&this._parent.markAsPending(Xe)}disable(Xe={}){const oe=this._parentMarkedDirty(Xe.onlySelf);this.status=bt,this.errors=null,this._forEachChild($e=>{$e.disable({...Xe,onlySelf:!0})}),this._updateValue(),!1!==Xe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Xe,skipPristineCheck:oe}),this._onDisabledChange.forEach($e=>$e(!0))}enable(Xe={}){const oe=this._parentMarkedDirty(Xe.onlySelf);this.status=zt,this._forEachChild($e=>{$e.enable({...Xe,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Xe.emitEvent}),this._updateAncestors({...Xe,skipPristineCheck:oe}),this._onDisabledChange.forEach($e=>$e(!1))}_updateAncestors(Xe){this._parent&&!Xe.onlySelf&&(this._parent.updateValueAndValidity(Xe),Xe.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Xe){this._parent=Xe}getRawValue(){return this.value}updateValueAndValidity(Xe={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zt||this.status===wt)&&this._runAsyncValidator(Xe.emitEvent)),!1!==Xe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Xe.onlySelf&&this._parent.updateValueAndValidity(Xe)}_updateTreeValidity(Xe={emitEvent:!0}){this._forEachChild(oe=>oe._updateTreeValidity(Xe)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Xe.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bt:zt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Xe){if(this.asyncValidator){this.status=wt,this._hasOwnPendingAsyncValidator=!0;const oe=te(this.asyncValidator(this));this._asyncValidationSubscription=oe.subscribe($e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors($e,{emitEvent:Xe})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Xe,oe={}){this.errors=Xe,this._updateControlsErrors(!1!==oe.emitEvent)}get(Xe){let oe=Xe;return null==oe||(Array.isArray(oe)||(oe=oe.split(".")),0===oe.length)?null:oe.reduce(($e,_e)=>$e&&$e._find(_e),this)}getError(Xe,oe){const $e=oe?this.get(oe):this;return $e&&$e.errors?$e.errors[Xe]:null}hasError(Xe,oe){return!!this.getError(Xe,oe)}get root(){let Xe=this;for(;Xe._parent;)Xe=Xe._parent;return Xe}_updateControlsErrors(Xe){this.status=this._calculateStatus(),Xe&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Xe)}_initObservables(){this.valueChanges=new i.bkB,this.statusChanges=new i.bkB}_calculateStatus(){return this._allControlsDisabled()?bt:this.errors?Yt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wt)?wt:this._anyControlsHaveStatus(Yt)?Yt:zt}_anyControlsHaveStatus(Xe){return this._anyControls(oe=>oe.status===Xe)}_anyControlsDirty(){return this._anyControls(Xe=>Xe.dirty)}_anyControlsTouched(){return this._anyControls(Xe=>Xe.touched)}_updatePristine(Xe={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Xe.onlySelf&&this._parent._updatePristine(Xe)}_updateTouched(Xe={}){this.touched=this._anyControlsTouched(),this._parent&&!Xe.onlySelf&&this._parent._updateTouched(Xe)}_registerOnCollectionChange(Xe){this._onCollectionChange=Xe}_setUpdateStrategy(Xe){xe(Xe)&&null!=Xe.updateOn&&(this._updateOn=Xe.updateOn)}_parentMarkedDirty(Xe){return!Xe&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Xe){return null}_assignValidators(Xe){this._rawValidators=Array.isArray(Xe)?Xe.slice():Xe,this._composedValidatorFn=function Tt(Ge){return Array.isArray(Ge)?ne(Ge):Ge||null}(this._rawValidators)}_assignAsyncValidators(Xe){this._rawAsyncValidators=Array.isArray(Xe)?Xe.slice():Xe,this._composedAsyncValidatorFn=function it(Ge){return Array.isArray(Ge)?se(Ge):Ge||null}(this._rawAsyncValidators)}}class At extends je{constructor(Xe,oe,$e){super(Jt(oe),Ft($e,oe)),this.controls=Xe,this._initObservables(),this._setUpdateStrategy(oe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Xe,oe){return this.controls[Xe]?this.controls[Xe]:(this.controls[Xe]=oe,oe.setParent(this),oe._registerOnCollectionChange(this._onCollectionChange),oe)}addControl(Xe,oe,$e={}){this.registerControl(Xe,oe),this.updateValueAndValidity({emitEvent:$e.emitEvent}),this._onCollectionChange()}removeControl(Xe,oe={}){this.controls[Xe]&&this.controls[Xe]._registerOnCollectionChange(()=>{}),delete this.controls[Xe],this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}setControl(Xe,oe,$e={}){this.controls[Xe]&&this.controls[Xe]._registerOnCollectionChange(()=>{}),delete this.controls[Xe],oe&&this.registerControl(Xe,oe),this.updateValueAndValidity({emitEvent:$e.emitEvent}),this._onCollectionChange()}contains(Xe){return this.controls.hasOwnProperty(Xe)&&this.controls[Xe].enabled}setValue(Xe,oe={}){Ke(this,0,Xe),Object.keys(Xe).forEach($e=>{Ve(this,!0,$e),this.controls[$e].setValue(Xe[$e],{onlySelf:!0,emitEvent:oe.emitEvent})}),this.updateValueAndValidity(oe)}patchValue(Xe,oe={}){null!=Xe&&(Object.keys(Xe).forEach($e=>{const _e=this.controls[$e];_e&&_e.patchValue(Xe[$e],{onlySelf:!0,emitEvent:oe.emitEvent})}),this.updateValueAndValidity(oe))}reset(Xe={},oe={}){this._forEachChild(($e,_e)=>{$e.reset(Xe?Xe[_e]:null,{onlySelf:!0,emitEvent:oe.emitEvent})}),this._updatePristine(oe),this._updateTouched(oe),this.updateValueAndValidity(oe)}getRawValue(){return this._reduceChildren({},(Xe,oe,$e)=>(Xe[$e]=oe.getRawValue(),Xe))}_syncPendingControls(){let Xe=this._reduceChildren(!1,(oe,$e)=>!!$e._syncPendingControls()||oe);return Xe&&this.updateValueAndValidity({onlySelf:!0}),Xe}_forEachChild(Xe){Object.keys(this.controls).forEach(oe=>{const $e=this.controls[oe];$e&&Xe($e,oe)})}_setUpControls(){this._forEachChild(Xe=>{Xe.setParent(this),Xe._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Xe){for(const[oe,$e]of Object.entries(this.controls))if(this.contains(oe)&&Xe($e))return!0;return!1}_reduceValue(){return this._reduceChildren({},(oe,$e,_e)=>(($e.enabled||this.disabled)&&(oe[_e]=$e.value),oe))}_reduceChildren(Xe,oe){let $e=Xe;return this._forEachChild((_e,Dt)=>{$e=oe($e,_e,Dt)}),$e}_allControlsDisabled(){for(const Xe of Object.keys(this.controls))if(this.controls[Xe].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Xe){return this.controls.hasOwnProperty(Xe)?this.controls[Xe]:null}}const st=At;class Le extends At{}const It=new i.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>an}),an="always";function Dn(Ge,Xe){return[...Xe.path,Ge]}function jn(Ge,Xe,oe=an){vt(Ge,Xe),Xe.valueAccessor.writeValue(Ge.value),(Ge.disabled||"always"===oe)&&Xe.valueAccessor.setDisabledState?.(Ge.disabled),function Nn(Ge,Xe){Xe.valueAccessor.registerOnChange(oe=>{Ge._pendingValue=oe,Ge._pendingChange=!0,Ge._pendingDirty=!0,"change"===Ge.updateOn&&Gs(Ge,Xe)})}(Ge,Xe),function ls(Ge,Xe){const oe=($e,_e)=>{Xe.valueAccessor.writeValue($e),_e&&Xe.viewToModelUpdate($e)};Ge.registerOnChange(oe),Xe._registerOnDestroy(()=>{Ge._unregisterOnChange(oe)})}(Ge,Xe),function Jn(Ge,Xe){Xe.valueAccessor.registerOnTouched(()=>{Ge._pendingTouched=!0,"blur"===Ge.updateOn&&Ge._pendingChange&&Gs(Ge,Xe),"submit"!==Ge.updateOn&&Ge.markAsTouched()})}(Ge,Xe),function ct(Ge,Xe){if(Xe.valueAccessor.setDisabledState){const oe=$e=>{Xe.valueAccessor.setDisabledState($e)};Ge.registerOnDisabledChange(oe),Xe._registerOnDestroy(()=>{Ge._unregisterOnDisabledChange(oe)})}}(Ge,Xe)}function Zn(Ge,Xe,oe=!0){const $e=()=>{};Xe.valueAccessor&&(Xe.valueAccessor.registerOnChange($e),Xe.valueAccessor.registerOnTouched($e)),hn(Ge,Xe),Ge&&(Xe._invokeOnDestroyCallbacks(),Ge._registerOnCollectionChange(()=>{}))}function wn(Ge,Xe){Ge.forEach(oe=>{oe.registerOnValidatorChange&&oe.registerOnValidatorChange(Xe)})}function vt(Ge,Xe){const oe=Te(Ge);null!==Xe.validator?Ge.setValidators(ce(oe,Xe.validator)):"function"==typeof oe&&Ge.setValidators([oe]);const $e=be(Ge);null!==Xe.asyncValidator?Ge.setAsyncValidators(ce($e,Xe.asyncValidator)):"function"==typeof $e&&Ge.setAsyncValidators([$e]);const _e=()=>Ge.updateValueAndValidity();wn(Xe._rawValidators,_e),wn(Xe._rawAsyncValidators,_e)}function hn(Ge,Xe){let oe=!1;if(null!==Ge){if(null!==Xe.validator){const _e=Te(Ge);if(Array.isArray(_e)&&_e.length>0){const Dt=_e.filter(Xt=>Xt!==Xe.validator);Dt.length!==_e.length&&(oe=!0,Ge.setValidators(Dt))}}if(null!==Xe.asyncValidator){const _e=be(Ge);if(Array.isArray(_e)&&_e.length>0){const Dt=_e.filter(Xt=>Xt!==Xe.asyncValidator);Dt.length!==_e.length&&(oe=!0,Ge.setAsyncValidators(Dt))}}}const $e=()=>{};return wn(Xe._rawValidators,$e),wn(Xe._rawAsyncValidators,$e),oe}function Gs(Ge,Xe){Ge._pendingDirty&&Ge.markAsDirty(),Ge.setValue(Ge._pendingValue,{emitModelToViewChange:!1}),Xe.viewToModelUpdate(Ge._pendingValue),Ge._pendingChange=!1}function Es(Ge,Xe){vt(Ge,Xe)}function _t(Ge,Xe){if(!Ge.hasOwnProperty("model"))return!1;const oe=Ge.model;return!!oe.isFirstChange()||!Object.is(Xe,oe.currentValue)}function We(Ge,Xe){Ge._syncPendingControls(),Xe.forEach(oe=>{const $e=oe.control;"submit"===$e.updateOn&&$e._pendingChange&&(oe.viewToModelUpdate($e._pendingValue),$e._pendingChange=!1)})}function sn(Ge,Xe){if(!Xe)return null;let oe,$e,_e;return Array.isArray(Xe),Xe.forEach(Dt=>{Dt.constructor===T?oe=Dt:function Ht(Ge){return Object.getPrototypeOf(Ge.constructor)===f}(Dt)?$e=Dt:_e=Dt}),_e||$e||oe||null}const Ct={provide:ht,useExisting:(0,i.Rfq)(()=>pn)},Wt=Promise.resolve();let pn=(()=>{class Ge extends ht{constructor(oe,$e,_e){super(),this.callSetDisabledState=_e,this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.bkB,this.form=new At({},ne(oe),se($e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(oe){Wt.then(()=>{const $e=this._findContainer(oe.path);oe.control=$e.registerControl(oe.name,oe.control),jn(oe.control,oe,this.callSetDisabledState),oe.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(oe)})}getControl(oe){return this.form.get(oe.path)}removeControl(oe){Wt.then(()=>{const $e=this._findContainer(oe.path);$e&&$e.removeControl(oe.name),this._directives.delete(oe)})}addFormGroup(oe){Wt.then(()=>{const $e=this._findContainer(oe.path),_e=new At({});Es(_e,oe),$e.registerControl(oe.name,_e),_e.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(oe){Wt.then(()=>{const $e=this._findContainer(oe.path);$e&&$e.removeControl(oe.name)})}getFormGroup(oe){return this.form.get(oe.path)}updateModel(oe,$e){Wt.then(()=>{this.form.get(oe.path).setValue($e)})}setValue(oe){this.control.setValue(oe)}onSubmit(oe){return this.submitted=!0,We(this.form,this._directives),this.ngSubmit.emit(oe),"dialog"===oe?.target?.method}onReset(){this.resetForm()}resetForm(oe=void 0){this.form.reset(oe),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(oe){return oe.pop(),oe.length?this.form.get(oe):this.form}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(L,10),i.rXU(D,10),i.rXU(It,8))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($e,_e){1&$e&&i.bIt("submit",function(Xt){return _e.onSubmit(Xt)})("reset",function(){return _e.onReset()})},inputs:{options:[i.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([Ct]),i.Vt3]})}}return Ge})();function Rn(Ge,Xe){const oe=Ge.indexOf(Xe);oe>-1&&Ge.splice(oe,1)}function Yn(Ge){return"object"==typeof Ge&&null!==Ge&&2===Object.keys(Ge).length&&"value"in Ge&&"disabled"in Ge}const $n=class extends je{constructor(Xe=null,oe,$e){super(Jt(oe),Ft($e,oe)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Xe),this._setUpdateStrategy(oe),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xe(oe)&&(oe.nonNullable||oe.initialValueIsDefault)&&(this.defaultValue=Yn(Xe)?Xe.value:Xe)}setValue(Xe,oe={}){this.value=this._pendingValue=Xe,this._onChange.length&&!1!==oe.emitModelToViewChange&&this._onChange.forEach($e=>$e(this.value,!1!==oe.emitViewToModelChange)),this.updateValueAndValidity(oe)}patchValue(Xe,oe={}){this.setValue(Xe,oe)}reset(Xe=this.defaultValue,oe={}){this._applyFormState(Xe),this.markAsPristine(oe),this.markAsUntouched(oe),this.setValue(this.value,oe),this._pendingChange=!1}_updateValue(){}_anyControls(Xe){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Xe){this._onChange.push(Xe)}_unregisterOnChange(Xe){Rn(this._onChange,Xe)}registerOnDisabledChange(Xe){this._onDisabledChange.push(Xe)}_unregisterOnDisabledChange(Xe){Rn(this._onDisabledChange,Xe)}_forEachChild(Xe){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Xe){Yn(Xe)?(this.value=this._pendingValue=Xe.value,Xe.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Xe}},_s=$n;let Ds=(()=>{class Ge extends ht{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Dn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,features:[i.Vt3]})}}return Ge})();const Li={provide:ht,useExisting:(0,i.Rfq)(()=>$i)};let $i=(()=>{class Ge extends Ds{constructor(oe,$e,_e){super(),this.name="",this._parent=oe,this._setValidators($e),this._setAsyncValidators(_e)}_checkParentType(){}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(ht,5),i.rXU(L,10),i.rXU(D,10))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","ngModelGroup",""]],inputs:{name:[i.Mj6.None,"ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i.Jv_([Li]),i.Vt3]})}}return Ge})();const jo={provide:Fe,useExisting:(0,i.Rfq)(()=>As)},to=Promise.resolve();let As=(()=>{class Ge extends Fe{constructor(oe,$e,_e,Dt,Xt,Sn){super(),this._changeDetectorRef=Xt,this.callSetDisabledState=Sn,this.control=new $n,this._registered=!1,this.name="",this.update=new i.bkB,this._parent=oe,this._setValidators($e),this._setAsyncValidators(_e),this.valueAccessor=sn(0,Dt)}ngOnChanges(oe){if(this._checkForErrors(),!this._registered||"name"in oe){if(this._registered&&(this._checkName(),this.formDirective)){const $e=oe.name.previousValue;this.formDirective.removeControl({name:$e,path:this._getPath($e)})}this._setUpControl()}"isDisabled"in oe&&this._updateDisabled(oe),_t(oe,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(oe){this.viewModel=oe,this.update.emit(oe)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){jn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(oe){to.then(()=>{this.control.setValue(oe,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(oe){const $e=oe.isDisabled.currentValue,_e=0!==$e&&(0,i.L39)($e);to.then(()=>{_e&&!this.control.disabled?this.control.disable():!_e&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(oe){return this._parent?Dn(oe,this._parent):[oe]}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(ht,9),i.rXU(L,10),i.rXU(D,10),i.rXU(v,10),i.rXU(i.gRc,8),i.rXU(It,8))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"],options:[i.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Jv_([jo]),i.Vt3,i.OA$]})}}return Ge})(),Qs=(()=>{class Ge{static{this.\u0275fac=function($e){return new($e||Ge)}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return Ge})();const Yi={provide:v,useExisting:(0,i.Rfq)(()=>_r),multi:!0};let _r=(()=>{class Ge extends f{writeValue(oe){this.setProperty("value",oe??"")}registerOnChange(oe){this.onChange=$e=>{oe(""==$e?null:parseFloat($e))}}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function($e,_e){1&$e&&i.bIt("input",function(Xt){return _e.onChange(Xt.target.value)})("blur",function(){return _e.onTouched()})},features:[i.Jv_([Yi]),i.Vt3]})}}return Ge})();const Uo={provide:v,useExisting:(0,i.Rfq)(()=>on),multi:!0};let Tn=(()=>{class Ge{constructor(){this._accessors=[]}add(oe,$e){this._accessors.push([oe,$e])}remove(oe){for(let $e=this._accessors.length-1;$e>=0;--$e)if(this._accessors[$e][1]===oe)return void this._accessors.splice($e,1)}select(oe){this._accessors.forEach($e=>{this._isSameGroup($e,oe)&&$e[1]!==oe&&$e[1].fireUncheck(oe.value)})}_isSameGroup(oe,$e){return!!oe[0].control&&oe[0]._parent===$e._control._parent&&oe[1].name===$e.name}static{this.\u0275fac=function($e){return new($e||Ge)}}static{this.\u0275prov=i.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}}return Ge})(),on=(()=>{class Ge extends f{constructor(oe,$e,_e,Dt){super(oe,$e),this._registry=_e,this._injector=Dt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,i.WQX)(It,{optional:!0})??an}ngOnInit(){this._control=this._injector.get(Fe),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(oe){this._state=oe===this.value,this.setProperty("checked",this._state)}registerOnChange(oe){this._fn=oe,this.onChange=()=>{oe(this.value),this._registry.select(this)}}setDisabledState(oe){(this.setDisabledStateFired||oe||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",oe),this.setDisabledStateFired=!0}fireUncheck(oe){this.writeValue(oe)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(Tn),i.rXU(i.zZn))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function($e,_e){1&$e&&i.bIt("change",function(){return _e.onChange()})("blur",function(){return _e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Jv_([Uo]),i.Vt3]})}}return Ge})();const qn=new i.nKC(""),bs={provide:Fe,useExisting:(0,i.Rfq)(()=>vi)};let vi=(()=>{class Ge extends Fe{set isDisabled(oe){}static{this._ngModelWarningSentOnce=!1}constructor(oe,$e,_e,Dt,Xt){super(),this._ngModelWarningConfig=Dt,this.callSetDisabledState=Xt,this.update=new i.bkB,this._ngModelWarningSent=!1,this._setValidators(oe),this._setAsyncValidators($e),this.valueAccessor=sn(0,_e)}ngOnChanges(oe){if(this._isControlChanged(oe)){const $e=oe.form.previousValue;$e&&Zn($e,this,!1),jn(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}_t(oe,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Zn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(oe){this.viewModel=oe,this.update.emit(oe)}_isControlChanged(oe){return oe.hasOwnProperty("form")}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(L,10),i.rXU(D,10),i.rXU(v,10),i.rXU(qn,8),i.rXU(It,8))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","formControl",""]],inputs:{form:[i.Mj6.None,"formControl","form"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Jv_([bs]),i.Vt3,i.OA$]})}}return Ge})();const Ei={provide:ht,useExisting:(0,i.Rfq)(()=>vo)};let vo=(()=>{class Ge extends ht{constructor(oe,$e,_e){super(),this.callSetDisabledState=_e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.bkB,this._setValidators(oe),this._setAsyncValidators($e)}ngOnChanges(oe){this._checkFormPresent(),oe.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(oe){const $e=this.form.get(oe.path);return jn($e,oe,this.callSetDisabledState),$e.updateValueAndValidity({emitEvent:!1}),this.directives.push(oe),$e}getControl(oe){return this.form.get(oe.path)}removeControl(oe){Zn(oe.control||null,oe,!1),function lt(Ge,Xe){const oe=Ge.indexOf(Xe);oe>-1&&Ge.splice(oe,1)}(this.directives,oe)}addFormGroup(oe){this._setUpFormContainer(oe)}removeFormGroup(oe){this._cleanUpFormContainer(oe)}getFormGroup(oe){return this.form.get(oe.path)}addFormArray(oe){this._setUpFormContainer(oe)}removeFormArray(oe){this._cleanUpFormContainer(oe)}getFormArray(oe){return this.form.get(oe.path)}updateModel(oe,$e){this.form.get(oe.path).setValue($e)}onSubmit(oe){return this.submitted=!0,We(this.form,this.directives),this.ngSubmit.emit(oe),"dialog"===oe?.target?.method}onReset(){this.resetForm()}resetForm(oe=void 0){this.form.reset(oe),this.submitted=!1}_updateDomValue(){this.directives.forEach(oe=>{const $e=oe.control,_e=this.form.get(oe.path);$e!==_e&&(Zn($e||null,oe),(Ge=>Ge instanceof $n)(_e)&&(jn(_e,oe,this.callSetDisabledState),oe.control=_e))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(oe){const $e=this.form.get(oe.path);Es($e,oe),$e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(oe){if(this.form){const $e=this.form.get(oe.path);$e&&function cs(Ge,Xe){return hn(Ge,Xe)}($e,oe)&&$e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vt(this.form,this),this._oldForm&&hn(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(L,10),i.rXU(D,10),i.rXU(It,8))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","formGroup",""]],hostBindings:function($e,_e){1&$e&&i.bIt("submit",function(Xt){return _e.onSubmit(Xt)})("reset",function(){return _e.onReset()})},inputs:{form:[i.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([Ei]),i.Vt3,i.OA$]})}}return Ge})();const pi={provide:ht,useExisting:(0,i.Rfq)(()=>ho)};let ho=(()=>{class Ge extends Ds{constructor(oe,$e,_e){super(),this.name=null,this._parent=oe,this._setValidators($e),this._setAsyncValidators(_e)}_checkParentType(){Xo(this._parent)}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(ht,13),i.rXU(L,10),i.rXU(D,10))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","formGroupName",""]],inputs:{name:[i.Mj6.None,"formGroupName","name"]},features:[i.Jv_([pi]),i.Vt3]})}}return Ge})();const vr={provide:ht,useExisting:(0,i.Rfq)(()=>ur)};let ur=(()=>{class Ge extends ht{constructor(oe,$e,_e){super(),this.name=null,this._parent=oe,this._setValidators($e),this._setAsyncValidators(_e)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Dn(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Xo(this._parent)}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(ht,13),i.rXU(L,10),i.rXU(D,10))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","formArrayName",""]],inputs:{name:[i.Mj6.None,"formArrayName","name"]},features:[i.Jv_([vr]),i.Vt3]})}}return Ge})();function Xo(Ge){return!(Ge instanceof ho||Ge instanceof vo||Ge instanceof ur)}const zr={provide:Fe,useExisting:(0,i.Rfq)(()=>yr)};let yr=(()=>{class Ge extends Fe{set isDisabled(oe){}static{this._ngModelWarningSentOnce=!1}constructor(oe,$e,_e,Dt,Xt){super(),this._ngModelWarningConfig=Xt,this._added=!1,this.name=null,this.update=new i.bkB,this._ngModelWarningSent=!1,this._parent=oe,this._setValidators($e),this._setAsyncValidators(_e),this.valueAccessor=sn(0,Dt)}ngOnChanges(oe){this._added||this._setUpControl(),_t(oe,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(oe){this.viewModel=oe,this.update.emit(oe)}get path(){return Dn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(ht,13),i.rXU(L,10),i.rXU(D,10),i.rXU(v,10),i.rXU(qn,8))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","formControlName",""]],inputs:{name:[i.Mj6.None,"formControlName","name"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Jv_([zr]),i.Vt3,i.OA$]})}}return Ge})();const Jo={provide:v,useExisting:(0,i.Rfq)(()=>Xr),multi:!0};function Yr(Ge,Xe){return null==Ge?`${Xe}`:(Xe&&"object"==typeof Xe&&(Xe="Object"),`${Ge}: ${Xe}`.slice(0,50))}let Xr=(()=>{class Ge extends f{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(oe){this._compareWith=oe}writeValue(oe){this.value=oe;const _e=Yr(this._getOptionId(oe),oe);this.setProperty("value",_e)}registerOnChange(oe){this.onChange=$e=>{this.value=this._getOptionValue($e),oe(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(oe){for(const $e of this._optionMap.keys())if(this._compareWith(this._optionMap.get($e),oe))return $e;return null}_getOptionValue(oe){const $e=function tr(Ge){return Ge.split(":")[0]}(oe);return this._optionMap.has($e)?this._optionMap.get($e):oe}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function($e,_e){1&$e&&i.bIt("change",function(Xt){return _e.onChange(Xt.target.value)})("blur",function(){return _e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([Jo]),i.Vt3]})}}return Ge})(),po=(()=>{class Ge{constructor(oe,$e,_e){this._element=oe,this._renderer=$e,this._select=_e,this._select&&(this.id=this._select._registerOption())}set ngValue(oe){null!=this._select&&(this._select._optionMap.set(this.id,oe),this._setElementValue(Yr(this.id,oe)),this._select.writeValue(this._select.value))}set value(oe){this._setElementValue(oe),this._select&&this._select.writeValue(this._select.value)}_setElementValue(oe){this._renderer.setProperty(this._element.nativeElement,"value",oe)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(Xr,9))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return Ge})();const Er={provide:v,useExisting:(0,i.Rfq)(()=>Qo),multi:!0};function Ks(Ge,Xe){return null==Ge?`${Xe}`:("string"==typeof Xe&&(Xe=`'${Xe}'`),Xe&&"object"==typeof Xe&&(Xe="Object"),`${Ge}: ${Xe}`.slice(0,50))}let Qo=(()=>{class Ge extends f{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(oe){this._compareWith=oe}writeValue(oe){let $e;if(this.value=oe,Array.isArray(oe)){const _e=oe.map(Dt=>this._getOptionId(Dt));$e=(Dt,Xt)=>{Dt._setSelected(_e.indexOf(Xt.toString())>-1)}}else $e=(_e,Dt)=>{_e._setSelected(!1)};this._optionMap.forEach($e)}registerOnChange(oe){this.onChange=$e=>{const _e=[],Dt=$e.selectedOptions;if(void 0!==Dt){const Xt=Dt;for(let Sn=0;Sn<Xt.length;Sn++){const ps=this._getOptionValue(Xt[Sn].value);_e.push(ps)}}else{const Xt=$e.options;for(let Sn=0;Sn<Xt.length;Sn++){const ts=Xt[Sn];if(ts.selected){const ps=this._getOptionValue(ts.value);_e.push(ps)}}}this.value=_e,oe(_e)}}_registerOption(oe){const $e=(this._idCounter++).toString();return this._optionMap.set($e,oe),$e}_getOptionId(oe){for(const $e of this._optionMap.keys())if(this._compareWith(this._optionMap.get($e)._value,oe))return $e;return null}_getOptionValue(oe){const $e=function hr(Ge){return Ge.split(":")[0]}(oe);return this._optionMap.has($e)?this._optionMap.get($e)._value:oe}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function($e,_e){1&$e&&i.bIt("change",function(Xt){return _e.onChange(Xt.target)})("blur",function(){return _e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([Er]),i.Vt3]})}}return Ge})(),Fr=(()=>{class Ge{constructor(oe,$e,_e){this._element=oe,this._renderer=$e,this._select=_e,this._select&&(this.id=this._select._registerOption(this))}set ngValue(oe){null!=this._select&&(this._value=oe,this._setElementValue(Ks(this.id,oe)),this._select.writeValue(this._select.value))}set value(oe){this._select?(this._value=oe,this._setElementValue(Ks(this.id,oe)),this._select.writeValue(this._select.value)):this._setElementValue(oe)}_setElementValue(oe){this._renderer.setProperty(this._element.nativeElement,"value",oe)}_setSelected(oe){this._renderer.setProperty(this._element.nativeElement,"selected",oe)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function($e){return new($e||Ge)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(Qo,9))}}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return Ge})();function xa(Ge){return"number"==typeof Ge?Ge:parseInt(Ge,10)}function sa(Ge){return"number"==typeof Ge?Ge:parseFloat(Ge)}let rr=(()=>{class Ge{constructor(){this._validator=q}ngOnChanges(oe){if(this.inputName in oe){const $e=this.normalizeInput(oe[this.inputName].currentValue);this._enabled=this.enabled($e),this._validator=this._enabled?this.createValidator($e):q,this._onChange&&this._onChange()}}validate(oe){return this._validator(oe)}registerOnValidatorChange(oe){this._onChange=oe}enabled(oe){return null!=oe}static{this.\u0275fac=function($e){return new($e||Ge)}}static{this.\u0275dir=i.FsC({type:Ge,features:[i.OA$]})}}return Ge})();const Qr={provide:L,useExisting:(0,i.Rfq)(()=>_a),multi:!0};let _a=(()=>{class Ge extends rr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=oe=>sa(oe),this.createValidator=oe=>j(oe)}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function($e,_e){2&$e&&i.BMQ("max",_e._enabled?_e.max:null)},inputs:{max:"max"},features:[i.Jv_([Qr]),i.Vt3]})}}return Ge})();const va={provide:L,useExisting:(0,i.Rfq)(()=>et),multi:!0};let et=(()=>{class Ge extends rr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=oe=>sa(oe),this.createValidator=oe=>x(oe)}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function($e,_e){2&$e&&i.BMQ("min",_e._enabled?_e.min:null)},inputs:{min:"min"},features:[i.Jv_([va]),i.Vt3]})}}return Ge})();const qe={provide:L,useExisting:(0,i.Rfq)(()=>jt),multi:!0},at={provide:L,useExisting:(0,i.Rfq)(()=>Vt),multi:!0};let jt=(()=>{class Ge extends rr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.L39,this.createValidator=oe=>U}enabled(oe){return oe}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($e,_e){2&$e&&i.BMQ("required",_e._enabled?"":null)},inputs:{required:"required"},features:[i.Jv_([qe]),i.Vt3]})}}return Ge})(),Vt=(()=>{class Ge extends jt{constructor(){super(...arguments),this.createValidator=oe=>$}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function($e,_e){2&$e&&i.BMQ("required",_e._enabled?"":null)},features:[i.Jv_([at]),i.Vt3]})}}return Ge})();const Os={provide:L,useExisting:(0,i.Rfq)(()=>Hs),multi:!0};let Hs=(()=>{class Ge extends rr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=oe=>xa(oe),this.createValidator=oe=>K(oe)}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function($e,_e){2&$e&&i.BMQ("minlength",_e._enabled?_e.minlength:null)},inputs:{minlength:"minlength"},features:[i.Jv_([Os]),i.Vt3]})}}return Ge})();const ws={provide:L,useExisting:(0,i.Rfq)(()=>di),multi:!0};let di=(()=>{class Ge extends rr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=oe=>xa(oe),this.createValidator=oe=>X(oe)}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function($e,_e){2&$e&&i.BMQ("maxlength",_e._enabled?_e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.Jv_([ws]),i.Vt3]})}}return Ge})();const fo={provide:L,useExisting:(0,i.Rfq)(()=>Ci),multi:!0};let Ci=(()=>{class Ge extends rr{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=oe=>oe,this.createValidator=oe=>G(oe)}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275dir=i.FsC({type:Ge,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function($e,_e){2&$e&&i.BMQ("pattern",_e._enabled?_e.pattern:null)},inputs:{pattern:"pattern"},features:[i.Jv_([fo]),i.Vt3]})}}return Ge})(),So=(()=>{class Ge{static{this.\u0275fac=function($e){return new($e||Ge)}}static{this.\u0275mod=i.$C({type:Ge})}static{this.\u0275inj=i.G2t({})}}return Ge})();class so extends je{constructor(Xe,oe,$e){super(Jt(oe),Ft($e,oe)),this.controls=Xe,this._initObservables(),this._setUpdateStrategy(oe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Xe){return this.controls[this._adjustIndex(Xe)]}push(Xe,oe={}){this.controls.push(Xe),this._registerControl(Xe),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}insert(Xe,oe,$e={}){this.controls.splice(Xe,0,oe),this._registerControl(oe),this.updateValueAndValidity({emitEvent:$e.emitEvent})}removeAt(Xe,oe={}){let $e=this._adjustIndex(Xe);$e<0&&($e=0),this.controls[$e]&&this.controls[$e]._registerOnCollectionChange(()=>{}),this.controls.splice($e,1),this.updateValueAndValidity({emitEvent:oe.emitEvent})}setControl(Xe,oe,$e={}){let _e=this._adjustIndex(Xe);_e<0&&(_e=0),this.controls[_e]&&this.controls[_e]._registerOnCollectionChange(()=>{}),this.controls.splice(_e,1),oe&&(this.controls.splice(_e,0,oe),this._registerControl(oe)),this.updateValueAndValidity({emitEvent:$e.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Xe,oe={}){Ke(this,0,Xe),Xe.forEach(($e,_e)=>{Ve(this,!1,_e),this.at(_e).setValue($e,{onlySelf:!0,emitEvent:oe.emitEvent})}),this.updateValueAndValidity(oe)}patchValue(Xe,oe={}){null!=Xe&&(Xe.forEach(($e,_e)=>{this.at(_e)&&this.at(_e).patchValue($e,{onlySelf:!0,emitEvent:oe.emitEvent})}),this.updateValueAndValidity(oe))}reset(Xe=[],oe={}){this._forEachChild(($e,_e)=>{$e.reset(Xe[_e],{onlySelf:!0,emitEvent:oe.emitEvent})}),this._updatePristine(oe),this._updateTouched(oe),this.updateValueAndValidity(oe)}getRawValue(){return this.controls.map(Xe=>Xe.getRawValue())}clear(Xe={}){this.controls.length<1||(this._forEachChild(oe=>oe._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Xe.emitEvent}))}_adjustIndex(Xe){return Xe<0?Xe+this.length:Xe}_syncPendingControls(){let Xe=this.controls.reduce((oe,$e)=>!!$e._syncPendingControls()||oe,!1);return Xe&&this.updateValueAndValidity({onlySelf:!0}),Xe}_forEachChild(Xe){this.controls.forEach((oe,$e)=>{Xe(oe,$e)})}_updateValue(){this.value=this.controls.filter(Xe=>Xe.enabled||this.disabled).map(Xe=>Xe.value)}_anyControls(Xe){return this.controls.some(oe=>oe.enabled&&Xe(oe))}_setUpControls(){this._forEachChild(Xe=>this._registerControl(Xe))}_allControlsDisabled(){for(const Xe of this.controls)if(Xe.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Xe){Xe.setParent(this),Xe._registerOnCollectionChange(this._onCollectionChange)}_find(Xe){return this.at(Xe)??null}}const Xs=so;function nr(Ge){return!!Ge&&(void 0!==Ge.asyncValidators||void 0!==Ge.validators||void 0!==Ge.updateOn)}let mo=(()=>{class Ge{constructor(){this.useNonNullable=!1}get nonNullable(){const oe=new Ge;return oe.useNonNullable=!0,oe}group(oe,$e=null){const _e=this._reduceControls(oe);let Dt={};return nr($e)?Dt=$e:null!==$e&&(Dt.validators=$e.validator,Dt.asyncValidators=$e.asyncValidator),new At(_e,Dt)}record(oe,$e=null){const _e=this._reduceControls(oe);return new Le(_e,$e)}control(oe,$e,_e){let Dt={};return this.useNonNullable?(nr($e)?Dt=$e:(Dt.validators=$e,Dt.asyncValidators=_e),new $n(oe,{...Dt,nonNullable:!0})):new $n(oe,$e,_e)}array(oe,$e,_e){const Dt=oe.map(Xt=>this._createControl(Xt));return new so(Dt,$e,_e)}_reduceControls(oe){const $e={};return Object.keys(oe).forEach(_e=>{$e[_e]=this._createControl(oe[_e])}),$e}_createControl(oe){return oe instanceof $n||oe instanceof je?oe:Array.isArray(oe)?this.control(oe[0],oe.length>1?oe[1]:null,oe.length>2?oe[2]:null):this.control(oe)}static{this.\u0275fac=function($e){return new($e||Ge)}}static{this.\u0275prov=i.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}}return Ge})(),Ir=(()=>{class Ge extends mo{group(oe,$e=null){return super.group(oe,$e)}control(oe,$e,_e){return super.control(oe,$e,_e)}array(oe,$e,_e){return super.array(oe,$e,_e)}static{this.\u0275fac=(()=>{let oe;return function(_e){return(oe||(oe=i.xGo(Ge)))(_e||Ge)}})()}static{this.\u0275prov=i.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}}return Ge})(),Zo=(()=>{class Ge{static withConfig(oe){return{ngModule:Ge,providers:[{provide:It,useValue:oe.callSetDisabledState??an}]}}static{this.\u0275fac=function($e){return new($e||Ge)}}static{this.\u0275mod=i.$C({type:Ge})}static{this.\u0275inj=i.G2t({imports:[So]})}}return Ge})(),ya=(()=>{class Ge{static withConfig(oe){return{ngModule:Ge,providers:[{provide:qn,useValue:oe.warnOnNgModelWithFormControl??"always"},{provide:It,useValue:oe.callSetDisabledState??an}]}}static{this.\u0275fac=function($e){return new($e||Ge)}}static{this.\u0275mod=i.$C({type:Ge})}static{this.\u0275inj=i.G2t({imports:[So]})}}return Ge})()},345:(F,b,n)=>{"use strict";n.d(b,{$x:()=>Jt,B7:()=>K,B8:()=>se,EZ:()=>yt,W8:()=>pt,hE:()=>Ne,kQ:()=>rn,up:()=>nn});var i=n(54438),t=n(60177),u=n(21626);class e extends t.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class h extends e{static makeCurrent(){(0,t.ZD)(new h)}onAndCancel(Ve,Ke,je){return Ve.addEventListener(Ke,je),()=>{Ve.removeEventListener(Ke,je)}}dispatchEvent(Ve,Ke){Ve.dispatchEvent(Ke)}remove(Ve){Ve.parentNode&&Ve.parentNode.removeChild(Ve)}createElement(Ve,Ke){return(Ke=Ke||this.getDefaultDocument()).createElement(Ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ve){return Ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ve){return Ve instanceof DocumentFragment}getGlobalEventTarget(Ve,Ke){return"window"===Ke?window:"document"===Ke?Ve:"body"===Ke?Ve.body:null}getBaseHref(Ve){const Ke=function f(){return m=m||document.querySelector("base"),m?m.getAttribute("href"):null}();return null==Ke?null:function v(xe){return new URL(xe,document.baseURI).pathname}(Ke)}resetBaseElement(){m=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ve){return(0,t._b)(document.cookie,Ve)}}let m=null,_=(()=>{class xe{build(){return new XMLHttpRequest}static{this.\u0275fac=function(je){return new(je||xe)}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();const C=new i.nKC("");let S=(()=>{class xe{constructor(Ke,je){this._zone=je,this._eventNameToPlugin=new Map,Ke.forEach(At=>{At.manager=this}),this._plugins=Ke.slice().reverse()}addEventListener(Ke,je,At){return this._findPluginFor(je).addEventListener(Ke,je,At)}getZone(){return this._zone}_findPluginFor(Ke){let je=this._eventNameToPlugin.get(Ke);if(je)return je;if(je=this._plugins.find(Qe=>Qe.supports(Ke)),!je)throw new i.wOt(5101,!1);return this._eventNameToPlugin.set(Ke,je),je}static{this.\u0275fac=function(je){return new(je||xe)(i.KVO(C),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();class R{constructor(Ve){this._doc=Ve}}const T="ng-app-id";let A=(()=>{class xe{constructor(Ke,je,At,Qe={}){this.doc=Ke,this.appId=je,this.nonce=At,this.platformId=Qe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,t.Vy)(Qe),this.resetHostNodes()}addStyles(Ke){for(const je of Ke)1===this.changeUsageCount(je,1)&&this.onStyleAdded(je)}removeStyles(Ke){for(const je of Ke)this.changeUsageCount(je,-1)<=0&&this.onStyleRemoved(je)}ngOnDestroy(){const Ke=this.styleNodesInDOM;Ke&&(Ke.forEach(je=>je.remove()),Ke.clear());for(const je of this.getAllStyles())this.onStyleRemoved(je);this.resetHostNodes()}addHost(Ke){this.hostNodes.add(Ke);for(const je of this.getAllStyles())this.addStyleToHost(Ke,je)}removeHost(Ke){this.hostNodes.delete(Ke)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Ke){for(const je of this.hostNodes)this.addStyleToHost(je,Ke)}onStyleRemoved(Ke){const je=this.styleRef;je.get(Ke)?.elements?.forEach(At=>At.remove()),je.delete(Ke)}collectServerRenderedStyles(){const Ke=this.doc.head?.querySelectorAll(`style[${T}="${this.appId}"]`);if(Ke?.length){const je=new Map;return Ke.forEach(At=>{null!=At.textContent&&je.set(At.textContent,At)}),je}return null}changeUsageCount(Ke,je){const At=this.styleRef;if(At.has(Ke)){const Qe=At.get(Ke);return Qe.usage+=je,Qe.usage}return At.set(Ke,{usage:je,elements:[]}),je}getStyleElement(Ke,je){const At=this.styleNodesInDOM,Qe=At?.get(je);if(Qe?.parentNode===Ke)return At.delete(je),Qe.removeAttribute(T),Qe;{const st=this.doc.createElement("style");return this.nonce&&st.setAttribute("nonce",this.nonce),st.textContent=je,this.platformIsServer&&st.setAttribute(T,this.appId),Ke.appendChild(st),st}}addStyleToHost(Ke,je){const At=this.getStyleElement(Ke,je),Qe=this.styleRef,st=Qe.get(je)?.elements;st?st.push(At):Qe.set(je,{elements:[At],usage:1})}resetHostNodes(){const Ke=this.hostNodes;Ke.clear(),Ke.add(this.doc.head)}static{this.\u0275fac=function(je){return new(je||xe)(i.KVO(t.qQ),i.KVO(i.sZ2),i.KVO(i.BIS,8),i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();const p={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},L=/%COMP%/g,D="%COMP%",w=`_nghost-${D}`,M=`_ngcontent-${D}`,j=new i.nKC("",{providedIn:"root",factory:()=>!0});function k(xe,Ve){return Ve.map(Ke=>Ke.replace(L,xe))}let K=(()=>{class xe{constructor(Ke,je,At,Qe,st,ke,Le,dt=null){this.eventManager=Ke,this.sharedStylesHost=je,this.appId=At,this.removeStylesOnCompDestroy=Qe,this.doc=st,this.platformId=ke,this.ngZone=Le,this.nonce=dt,this.rendererByCompId=new Map,this.platformIsServer=(0,t.Vy)(ke),this.defaultRenderer=new X(Ke,st,Le,this.platformIsServer)}createRenderer(Ke,je){if(!Ke||!je)return this.defaultRenderer;this.platformIsServer&&je.encapsulation===i.gXe.ShadowDom&&(je={...je,encapsulation:i.gXe.Emulated});const At=this.getOrCreateRenderer(Ke,je);return At instanceof J?At.applyToHost(Ke):At instanceof Z&&At.applyStyles(),At}getOrCreateRenderer(Ke,je){const At=this.rendererByCompId;let Qe=At.get(je.id);if(!Qe){const st=this.doc,ke=this.ngZone,Le=this.eventManager,dt=this.sharedStylesHost,It=this.removeStylesOnCompDestroy,an=this.platformIsServer;switch(je.encapsulation){case i.gXe.Emulated:Qe=new J(Le,dt,je,this.appId,It,st,ke,an);break;case i.gXe.ShadowDom:return new te(Le,dt,Ke,je,st,ke,this.nonce,an);default:Qe=new Z(Le,dt,je,It,st,ke,an)}At.set(je.id,Qe)}return Qe}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(je){return new(je||xe)(i.KVO(S),i.KVO(A),i.KVO(i.sZ2),i.KVO(j),i.KVO(t.qQ),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(i.BIS))}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();class X{constructor(Ve,Ke,je,At){this.eventManager=Ve,this.doc=Ke,this.ngZone=je,this.platformIsServer=At,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Ve,Ke){return Ke?this.doc.createElementNS(p[Ke]||Ke,Ve):this.doc.createElement(Ve)}createComment(Ve){return this.doc.createComment(Ve)}createText(Ve){return this.doc.createTextNode(Ve)}appendChild(Ve,Ke){(z(Ve)?Ve.content:Ve).appendChild(Ke)}insertBefore(Ve,Ke,je){Ve&&(z(Ve)?Ve.content:Ve).insertBefore(Ke,je)}removeChild(Ve,Ke){Ve&&Ve.removeChild(Ke)}selectRootElement(Ve,Ke){let je="string"==typeof Ve?this.doc.querySelector(Ve):Ve;if(!je)throw new i.wOt(-5104,!1);return Ke||(je.textContent=""),je}parentNode(Ve){return Ve.parentNode}nextSibling(Ve){return Ve.nextSibling}setAttribute(Ve,Ke,je,At){if(At){Ke=At+":"+Ke;const Qe=p[At];Qe?Ve.setAttributeNS(Qe,Ke,je):Ve.setAttribute(Ke,je)}else Ve.setAttribute(Ke,je)}removeAttribute(Ve,Ke,je){if(je){const At=p[je];At?Ve.removeAttributeNS(At,Ke):Ve.removeAttribute(`${je}:${Ke}`)}else Ve.removeAttribute(Ke)}addClass(Ve,Ke){Ve.classList.add(Ke)}removeClass(Ve,Ke){Ve.classList.remove(Ke)}setStyle(Ve,Ke,je,At){At&(i.czy.DashCase|i.czy.Important)?Ve.style.setProperty(Ke,je,At&i.czy.Important?"important":""):Ve.style[Ke]=je}removeStyle(Ve,Ke,je){je&i.czy.DashCase?Ve.style.removeProperty(Ke):Ve.style[Ke]=""}setProperty(Ve,Ke,je){null!=Ve&&(Ve[Ke]=je)}setValue(Ve,Ke){Ve.nodeValue=Ke}listen(Ve,Ke,je){if("string"==typeof Ve&&!(Ve=(0,t.QT)().getGlobalEventTarget(this.doc,Ve)))throw new Error(`Unsupported event target ${Ve} for event ${Ke}`);return this.eventManager.addEventListener(Ve,Ke,this.decoratePreventDefault(je))}decoratePreventDefault(Ve){return Ke=>{if("__ngUnwrap__"===Ke)return Ve;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ve(Ke)):Ve(Ke))&&Ke.preventDefault()}}}function z(xe){return"TEMPLATE"===xe.tagName&&void 0!==xe.content}class te extends X{constructor(Ve,Ke,je,At,Qe,st,ke,Le){super(Ve,Qe,st,Le),this.sharedStylesHost=Ke,this.hostEl=je,this.shadowRoot=je.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const dt=k(At.id,At.styles);for(const It of dt){const an=document.createElement("style");ke&&an.setAttribute("nonce",ke),an.textContent=It,this.shadowRoot.appendChild(an)}}nodeOrShadowRoot(Ve){return Ve===this.hostEl?this.shadowRoot:Ve}appendChild(Ve,Ke){return super.appendChild(this.nodeOrShadowRoot(Ve),Ke)}insertBefore(Ve,Ke,je){return super.insertBefore(this.nodeOrShadowRoot(Ve),Ke,je)}removeChild(Ve,Ke){return super.removeChild(this.nodeOrShadowRoot(Ve),Ke)}parentNode(Ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ve)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Z extends X{constructor(Ve,Ke,je,At,Qe,st,ke,Le){super(Ve,Qe,st,ke),this.sharedStylesHost=Ke,this.removeStylesOnCompDestroy=At,this.styles=Le?k(Le,je.styles):je.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class J extends Z{constructor(Ve,Ke,je,At,Qe,st,ke,Le){const dt=At+"-"+je.id;super(Ve,Ke,je,Qe,st,ke,Le,dt),this.contentAttr=function U(xe){return M.replace(L,xe)}(dt),this.hostAttr=function $(xe){return w.replace(L,xe)}(dt)}applyToHost(Ve){this.applyStyles(),this.setAttribute(Ve,this.hostAttr,"")}createElement(Ve,Ke){const je=super.createElement(Ve,Ke);return super.setAttribute(je,this.contentAttr,""),je}}let Q=(()=>{class xe extends R{constructor(Ke){super(Ke)}supports(Ke){return!0}addEventListener(Ke,je,At){return Ke.addEventListener(je,At,!1),()=>this.removeEventListener(Ke,je,At)}removeEventListener(Ke,je,At){return Ke.removeEventListener(je,At)}static{this.\u0275fac=function(je){return new(je||xe)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();const ee=["alt","control","meta","shift"],le={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ne={alt:xe=>xe.altKey,control:xe=>xe.ctrlKey,meta:xe=>xe.metaKey,shift:xe=>xe.shiftKey};let fe=(()=>{class xe extends R{constructor(Ke){super(Ke)}supports(Ke){return null!=xe.parseEventName(Ke)}addEventListener(Ke,je,At){const Qe=xe.parseEventName(je),st=xe.eventCallback(Qe.fullKey,At,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.QT)().onAndCancel(Ke,Qe.domEventName,st))}static parseEventName(Ke){const je=Ke.toLowerCase().split("."),At=je.shift();if(0===je.length||"keydown"!==At&&"keyup"!==At)return null;const Qe=xe._normalizeKey(je.pop());let st="",ke=je.indexOf("code");if(ke>-1&&(je.splice(ke,1),st="code."),ee.forEach(dt=>{const It=je.indexOf(dt);It>-1&&(je.splice(It,1),st+=dt+".")}),st+=Qe,0!=je.length||0===Qe.length)return null;const Le={};return Le.domEventName=At,Le.fullKey=st,Le}static matchEventFullKeyCode(Ke,je){let At=le[Ke.key]||Ke.key,Qe="";return je.indexOf("code.")>-1&&(At=Ke.code,Qe="code."),!(null==At||!At)&&(At=At.toLowerCase()," "===At?At="space":"."===At&&(At="dot"),ee.forEach(st=>{st!==At&&(0,ne[st])(Ke)&&(Qe+=st+".")}),Qe+=At,Qe===je)}static eventCallback(Ke,je,At){return Qe=>{xe.matchEventFullKeyCode(Qe,Ke)&&At.runGuarded(()=>je(Qe))}}static _normalizeKey(Ke){return"esc"===Ke?"escape":Ke}static{this.\u0275fac=function(je){return new(je||xe)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();function se(xe,Ve){return(0,i.TL3)({rootComponent:xe,...Te(Ve)})}function Te(xe){return{appProviders:[...Et,...xe?.providers??[]],platformProviders:De}}const De=[{provide:i.Agw,useValue:t.AJ},{provide:i.PLl,useValue:function me(){h.makeCurrent()},multi:!0},{provide:t.qQ,useFactory:function Ee(){return(0,i.TL$)(document),document},deps:[]}],Et=[{provide:i.H8p,useValue:"root"},{provide:i.zcH,useFactory:function re(){return new i.zcH},deps:[]},{provide:C,useClass:Q,multi:!0,deps:[t.qQ,i.SKi,i.Agw]},{provide:C,useClass:fe,multi:!0,deps:[t.qQ]},K,A,S,{provide:i._9s,useExisting:K},{provide:t.N0,useClass:_,deps:[]},[]];let pt=(()=>{class xe{constructor(Ke){this._doc=Ke,this._dom=(0,t.QT)()}addTag(Ke,je=!1){return Ke?this._getOrCreateElement(Ke,je):null}addTags(Ke,je=!1){return Ke?Ke.reduce((At,Qe)=>(Qe&&At.push(this._getOrCreateElement(Qe,je)),At),[]):[]}getTag(Ke){return Ke&&this._doc.querySelector(`meta[${Ke}]`)||null}getTags(Ke){if(!Ke)return[];const je=this._doc.querySelectorAll(`meta[${Ke}]`);return je?[].slice.call(je):[]}updateTag(Ke,je){if(!Ke)return null;je=je||this._parseSelector(Ke);const At=this.getTag(je);return At?this._setMetaElementAttributes(Ke,At):this._getOrCreateElement(Ke,!0)}removeTag(Ke){this.removeTagElement(this.getTag(Ke))}removeTagElement(Ke){Ke&&this._dom.remove(Ke)}_getOrCreateElement(Ke,je=!1){if(!je){const st=this._parseSelector(Ke),ke=this.getTags(st).filter(Le=>this._containsAttributes(Ke,Le))[0];if(void 0!==ke)return ke}const At=this._dom.createElement("meta");return this._setMetaElementAttributes(Ke,At),this._doc.getElementsByTagName("head")[0].appendChild(At),At}_setMetaElementAttributes(Ke,je){return Object.keys(Ke).forEach(At=>je.setAttribute(this._getMetaKeyMap(At),Ke[At])),je}_parseSelector(Ke){const je=Ke.name?"name":"property";return`${je}="${Ke[je]}"`}_containsAttributes(Ke,je){return Object.keys(Ke).every(At=>je.getAttribute(this._getMetaKeyMap(At))===Ke[At])}_getMetaKeyMap(Ke){return Mt[Ke]||Ke}static{this.\u0275fac=function(je){return new(je||xe)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})();const Mt={httpEquiv:"http-equiv"};let Ne=(()=>{class xe{constructor(Ke){this._doc=Ke}getTitle(){return this._doc.title}setTitle(Ke){this._doc.title=Ke||""}static{this.\u0275fac=function(je){return new(je||xe)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})();const rn=new i.nKC("HammerGestureConfig");let yt=(()=>{class xe{constructor(){this.events=[],this.overrides={}}buildHammer(Ke){const je=new Hammer(Ke,this.options);je.get("pinch").set({enable:!0}),je.get("rotate").set({enable:!0});for(const At in this.overrides)je.get(At).set(this.overrides[At]);return je}static{this.\u0275fac=function(je){return new(je||xe)}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac})}}return xe})(),nn=(()=>{class xe{static{this.\u0275fac=function(je){return new(je||xe)}}static{this.\u0275prov=i.jDH({token:xe,factory:function(je){let At=null;return At=je?new(je||xe):i.KVO(gn),At},providedIn:"root"})}}return xe})(),gn=(()=>{class xe extends nn{constructor(Ke){super(),this._doc=Ke}sanitize(Ke,je){if(null==je)return null;switch(Ke){case i.WPN.NONE:return je;case i.WPN.HTML:return(0,i.ZF7)(je,"HTML")?(0,i.rcV)(je):(0,i.h9k)(this._doc,String(je)).toString();case i.WPN.STYLE:return(0,i.ZF7)(je,"Style")?(0,i.rcV)(je):je;case i.WPN.SCRIPT:if((0,i.ZF7)(je,"Script"))return(0,i.rcV)(je);throw new i.wOt(5200,!1);case i.WPN.URL:return(0,i.ZF7)(je,"URL")?(0,i.rcV)(je):(0,i.$MX)(String(je));case i.WPN.RESOURCE_URL:if((0,i.ZF7)(je,"ResourceURL"))return(0,i.rcV)(je);throw new i.wOt(5201,!1);default:throw new i.wOt(5202,!1)}}bypassSecurityTrustHtml(Ke){return(0,i.Kcf)(Ke)}bypassSecurityTrustStyle(Ke){return(0,i.cWb)(Ke)}bypassSecurityTrustScript(Ke){return(0,i.UyX)(Ke)}bypassSecurityTrustUrl(Ke){return(0,i.osQ)(Ke)}bypassSecurityTrustResourceUrl(Ke){return(0,i.e5t)(Ke)}static{this.\u0275fac=function(je){return new(je||xe)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})();var St=function(xe){return xe[xe.NoHttpTransferCache=0]="NoHttpTransferCache",xe[xe.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",xe}(St||{});function Jt(...xe){const Ve=[],Ke=new Set,je=Ke.has(St.HttpTransferCacheOptions);for(const{\u0275providers:At,\u0275kind:Qe}of xe)Ke.add(Qe),At.length&&Ve.push(At);return(0,i.EmA)([[],(0,i.M8M)(),Ke.has(St.NoHttpTransferCache)||je?[]:(0,u.$m)({}),Ve])}},7901:(F,b,n)=>{"use strict";n.d(b,{Bx:()=>We,D7:()=>es,Ii:()=>fd,Ix:()=>Ns,L6:()=>Yn,OY:()=>to,Sn:()=>Ro,Wk:()=>Fi,Xw:()=>Ce,Z:()=>lt,Zy:()=>co,gx:()=>hs,iI:()=>Ms,j5:()=>pn,ld:()=>$n,lh:()=>Eo,n3:()=>Jo,nU:()=>Pn,nX:()=>Ei,oH:()=>$s,wF:()=>gt,wQ:()=>Di});var i=n(74523),t=n(54438),u=n(74402),e=n(22806),h=n(7673),m=n(84412),f=n(84572),v=n(9350),E=n(92688),_=n(59030),C=n(71203),S=n(18810),R=n(983),T=n(30017),A=n(21413),p=n(18359),L=n(60177),D=n(96354),w=n(25558),M=n(96697),x=n(99172),j=n(5964),U=n(73028),$=n(61594),k=n(70274),K=n(88141),X=n(99437),G=n(31943),q=n(39901),z=n(67018),te=n(55109),Z=n(73703),J=n(70980),Q=n(99898),ee=n(56977),le=n(26365),ne=n(345);const fe="primary",se=Symbol("RouteTitle");class ce{constructor(Oe){this.params=Oe||{}}has(Oe){return Object.prototype.hasOwnProperty.call(this.params,Oe)}get(Oe){if(this.has(Oe)){const pe=this.params[Oe];return Array.isArray(pe)?pe[0]:pe}return null}getAll(Oe){if(this.has(Oe)){const pe=this.params[Oe];return Array.isArray(pe)?pe:[pe]}return[]}get keys(){return Object.keys(this.params)}}function Te(de){return new ce(de)}function be(de,Oe,pe){const Me=pe.path.split("/");if(Me.length>de.length||"full"===pe.pathMatch&&(Oe.hasChildren()||Me.length<de.length))return null;const He={};for(let ft=0;ft<Me.length;ft++){const Se=Me[ft],ye=de[ft];if(Se.startsWith(":"))He[Se.substring(1)]=ye;else if(Se!==ye.path)return null}return{consumed:de.slice(0,Me.length),posParams:He}}function re(de,Oe){const pe=de?Ee(de):void 0,Me=Oe?Ee(Oe):void 0;if(!pe||!Me||pe.length!=Me.length)return!1;let He;for(let ft=0;ft<pe.length;ft++)if(He=pe[ft],!De(de[He],Oe[He]))return!1;return!0}function Ee(de){return[...Object.keys(de),...Object.getOwnPropertySymbols(de)]}function De(de,Oe){if(Array.isArray(de)&&Array.isArray(Oe)){if(de.length!==Oe.length)return!1;const pe=[...de].sort(),Me=[...Oe].sort();return pe.every((He,ft)=>Me[ft]===He)}return de===Oe}function tt(de){return de.length>0?de[de.length-1]:null}function ht(de){return(0,u.A)(de)?de:(0,t.jNT)(de)?(0,e.H)(Promise.resolve(de)):(0,h.of)(de)}const Fe={exact:function Mt(de,Oe,pe){if(!ut(de.segments,Oe.segments)||!Zt(de.segments,Oe.segments,pe)||de.numberOfChildren!==Oe.numberOfChildren)return!1;for(const Me in Oe.children)if(!de.children[Me]||!Mt(de.children[Me],Oe.children[Me],pe))return!1;return!0},subset:ot},Et={exact:function pt(de,Oe){return re(de,Oe)},subset:function Ne(de,Oe){return Object.keys(Oe).length<=Object.keys(de).length&&Object.keys(Oe).every(pe=>De(de[pe],Oe[pe]))},ignored:()=>!0};function Ye(de,Oe,pe){return Fe[pe.paths](de.root,Oe.root,pe.matrixParams)&&Et[pe.queryParams](de.queryParams,Oe.queryParams)&&!("exact"===pe.fragment&&de.fragment!==Oe.fragment)}function ot(de,Oe,pe){return Gt(de,Oe,Oe.segments,pe)}function Gt(de,Oe,pe,Me){if(de.segments.length>pe.length){const He=de.segments.slice(0,pe.length);return!(!ut(He,pe)||Oe.hasChildren()||!Zt(He,pe,Me))}if(de.segments.length===pe.length){if(!ut(de.segments,pe)||!Zt(de.segments,pe,Me))return!1;for(const He in Oe.children)if(!de.children[He]||!ot(de.children[He],Oe.children[He],Me))return!1;return!0}{const He=pe.slice(0,de.segments.length),ft=pe.slice(de.segments.length);return!!(ut(de.segments,He)&&Zt(de.segments,He,Me)&&de.children[fe])&&Gt(de.children[fe],Oe,ft,Me)}}function Zt(de,Oe,pe){return Oe.every((Me,He)=>Et[pe](de[He].parameters,Me.parameters))}class mt{constructor(Oe=new Pt([],{}),pe={},Me=null){this.root=Oe,this.queryParams=pe,this.fragment=Me}get queryParamMap(){return this._queryParamMap??=Te(this.queryParams),this._queryParamMap}toString(){return yt.serialize(this)}}class Pt{constructor(Oe,pe){this.segments=Oe,this.children=pe,this.parent=null,Object.values(pe).forEach(Me=>Me.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kt(this)}}class Ce{constructor(Oe,pe){this.path=Oe,this.parameters=pe}get parameterMap(){return this._parameterMap??=Te(this.parameters),this._parameterMap}toString(){return bt(this)}}function ut(de,Oe){return de.length===Oe.length&&de.every((pe,Me)=>pe.path===Oe[Me].path)}let rn=(()=>{class de{static{this.\u0275fac=function(Me){return new(Me||de)}}static{this.\u0275prov=t.jDH({token:de,factory:()=>new Pn,providedIn:"root"})}}return de})();class Pn{parse(Oe){const pe=new st(Oe);return new mt(pe.parseRootSegment(),pe.parseQueryParams(),pe.parseFragment())}serialize(Oe){const pe=`/${Rt(Oe.root,!0)}`,Me=function Tt(de){const Oe=Object.entries(de).map(([pe,Me])=>Array.isArray(Me)?Me.map(He=>`${gn(pe)}=${gn(He)}`).join("&"):`${gn(pe)}=${gn(Me)}`).filter(pe=>pe);return Oe.length?`?${Oe.join("&")}`:""}(Oe.queryParams);return`${pe}${Me}${"string"==typeof Oe.fragment?`#${function St(de){return encodeURI(de)}(Oe.fragment)}`:""}`}}const yt=new Pn;function Kt(de){return de.segments.map(Oe=>bt(Oe)).join("/")}function Rt(de,Oe){if(!de.hasChildren())return Kt(de);if(Oe){const pe=de.children[fe]?Rt(de.children[fe],!1):"",Me=[];return Object.entries(de.children).forEach(([He,ft])=>{He!==fe&&Me.push(`${He}:${Rt(ft,!1)}`)}),Me.length>0?`${pe}(${Me.join("//")})`:pe}{const pe=function un(de,Oe){let pe=[];return Object.entries(de.children).forEach(([Me,He])=>{Me===fe&&(pe=pe.concat(Oe(He,Me)))}),Object.entries(de.children).forEach(([Me,He])=>{Me!==fe&&(pe=pe.concat(Oe(He,Me)))}),pe}(de,(Me,He)=>He===fe?[Rt(de.children[fe],!1)]:[`${He}:${Rt(Me,!1)}`]);return 1===Object.keys(de.children).length&&null!=de.children[fe]?`${Kt(de)}/${pe[0]}`:`${Kt(de)}/(${pe.join("//")})`}}function nn(de){return encodeURIComponent(de).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gn(de){return nn(de).replace(/%3B/gi,";")}function zt(de){return nn(de).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yt(de){return decodeURIComponent(de)}function wt(de){return Yt(de.replace(/\+/g,"%20"))}function bt(de){return`${zt(de.path)}${function Jt(de){return Object.entries(de).map(([Oe,pe])=>`;${zt(Oe)}=${zt(pe)}`).join("")}(de.parameters)}`}const Ft=/^[^\/()?;#]+/;function it(de){const Oe=de.match(Ft);return Oe?Oe[0]:""}const xe=/^[^\/()?;=#]+/,Ke=/^[^=?&#]+/,At=/^[^&#]+/;class st{constructor(Oe){this.url=Oe,this.remaining=Oe}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const Oe={};if(this.consumeOptional("?"))do{this.parseQueryParam(Oe)}while(this.consumeOptional("&"));return Oe}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Oe=[];for(this.peekStartsWith("(")||Oe.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Oe.push(this.parseSegment());let pe={};this.peekStartsWith("/(")&&(this.capture("/"),pe=this.parseParens(!0));let Me={};return this.peekStartsWith("(")&&(Me=this.parseParens(!1)),(Oe.length>0||Object.keys(pe).length>0)&&(Me[fe]=new Pt(Oe,pe)),Me}parseSegment(){const Oe=it(this.remaining);if(""===Oe&&this.peekStartsWith(";"))throw new t.wOt(4009,!1);return this.capture(Oe),new Ce(Yt(Oe),this.parseMatrixParams())}parseMatrixParams(){const Oe={};for(;this.consumeOptional(";");)this.parseParam(Oe);return Oe}parseParam(Oe){const pe=function Ve(de){const Oe=de.match(xe);return Oe?Oe[0]:""}(this.remaining);if(!pe)return;this.capture(pe);let Me="";if(this.consumeOptional("=")){const He=it(this.remaining);He&&(Me=He,this.capture(Me))}Oe[Yt(pe)]=Yt(Me)}parseQueryParam(Oe){const pe=function je(de){const Oe=de.match(Ke);return Oe?Oe[0]:""}(this.remaining);if(!pe)return;this.capture(pe);let Me="";if(this.consumeOptional("=")){const Se=function Qe(de){const Oe=de.match(At);return Oe?Oe[0]:""}(this.remaining);Se&&(Me=Se,this.capture(Me))}const He=wt(pe),ft=wt(Me);if(Oe.hasOwnProperty(He)){let Se=Oe[He];Array.isArray(Se)||(Se=[Se],Oe[He]=Se),Se.push(ft)}else Oe[He]=ft}parseParens(Oe){const pe={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Me=it(this.remaining),He=this.remaining[Me.length];if("/"!==He&&")"!==He&&";"!==He)throw new t.wOt(4010,!1);let ft;Me.indexOf(":")>-1?(ft=Me.slice(0,Me.indexOf(":")),this.capture(ft),this.capture(":")):Oe&&(ft=fe);const Se=this.parseChildren();pe[ft]=1===Object.keys(Se).length?Se[fe]:new Pt([],Se),this.consumeOptional("//")}return pe}peekStartsWith(Oe){return this.remaining.startsWith(Oe)}consumeOptional(Oe){return!!this.peekStartsWith(Oe)&&(this.remaining=this.remaining.substring(Oe.length),!0)}capture(Oe){if(!this.consumeOptional(Oe))throw new t.wOt(4011,!1)}}function ke(de){return de.segments.length>0?new Pt([],{[fe]:de}):de}function Le(de){const Oe={};for(const[Me,He]of Object.entries(de.children)){const ft=Le(He);if(Me===fe&&0===ft.segments.length&&ft.hasChildren())for(const[Se,ye]of Object.entries(ft.children))Oe[Se]=ye;else(ft.segments.length>0||ft.hasChildren())&&(Oe[Me]=ft)}return function dt(de){if(1===de.numberOfChildren&&de.children[fe]){const Oe=de.children[fe];return new Pt(de.segments.concat(Oe.segments),Oe.children)}return de}(new Pt(de.segments,Oe))}function It(de){return de instanceof mt}function Dn(de){let Oe;const He=ke(function pe(ft){const Se={};for(const ae of ft.children){const Pe=pe(ae);Se[ae.outlet]=Pe}const ye=new Pt(ft.url,Se);return ft===de&&(Oe=ye),ye}(de.root));return Oe??He}function jn(de,Oe,pe,Me){let He=de;for(;He.parent;)He=He.parent;if(0===Oe.length)return ct(He,He,He,pe,Me);const ft=function Nn(de){if("string"==typeof de[0]&&1===de.length&&"/"===de[0])return new hn(!0,0,de);let Oe=0,pe=!1;const Me=de.reduce((He,ft,Se)=>{if("object"==typeof ft&&null!=ft){if(ft.outlets){const ye={};return Object.entries(ft.outlets).forEach(([ae,Pe])=>{ye[ae]="string"==typeof Pe?Pe.split("/"):Pe}),[...He,{outlets:ye}]}if(ft.segmentPath)return[...He,ft.segmentPath]}return"string"!=typeof ft?[...He,ft]:0===Se?(ft.split("/").forEach((ye,ae)=>{0==ae&&"."===ye||(0==ae&&""===ye?pe=!0:".."===ye?Oe++:""!=ye&&He.push(ye))}),He):[...He,ft]},[]);return new hn(pe,Oe,Me)}(Oe);if(ft.toRoot())return ct(He,He,new Pt([],{}),pe,Me);const Se=function Gs(de,Oe,pe){if(de.isAbsolute)return new Jn(Oe,!0,0);if(!pe)return new Jn(Oe,!1,NaN);if(null===pe.parent)return new Jn(pe,!0,0);const Me=Zn(de.commands[0])?0:1;return function ls(de,Oe,pe){let Me=de,He=Oe,ft=pe;for(;ft>He;){if(ft-=He,Me=Me.parent,!Me)throw new t.wOt(4005,!1);He=Me.segments.length}return new Jn(Me,!1,He-ft)}(pe,pe.segments.length-1+Me,de.numberOfDoubleDots)}(ft,He,de),ye=Se.processChildren?cn(Se.segmentGroup,Se.index,ft.commands):cs(Se.segmentGroup,Se.index,ft.commands);return ct(He,Se.segmentGroup,ye,pe,Me)}function Zn(de){return"object"==typeof de&&null!=de&&!de.outlets&&!de.segmentPath}function wn(de){return"object"==typeof de&&null!=de&&de.outlets}function ct(de,Oe,pe,Me,He){let Se,ft={};Me&&Object.entries(Me).forEach(([ae,Pe])=>{ft[ae]=Array.isArray(Pe)?Pe.map(nt=>`${nt}`):`${Pe}`}),Se=de===Oe?pe:vt(de,Oe,pe);const ye=ke(Le(Se));return new mt(ye,ft,He)}function vt(de,Oe,pe){const Me={};return Object.entries(de.children).forEach(([He,ft])=>{Me[He]=ft===Oe?pe:vt(ft,Oe,pe)}),new Pt(de.segments,Me)}class hn{constructor(Oe,pe,Me){if(this.isAbsolute=Oe,this.numberOfDoubleDots=pe,this.commands=Me,Oe&&Me.length>0&&Zn(Me[0]))throw new t.wOt(4003,!1);const He=Me.find(wn);if(He&&He!==tt(Me))throw new t.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jn{constructor(Oe,pe,Me){this.segmentGroup=Oe,this.processChildren=pe,this.index=Me}}function cs(de,Oe,pe){if(de??=new Pt([],{}),0===de.segments.length&&de.hasChildren())return cn(de,Oe,pe);const Me=function yn(de,Oe,pe){let Me=0,He=Oe;const ft={match:!1,pathIndex:0,commandIndex:0};for(;He<de.segments.length;){if(Me>=pe.length)return ft;const Se=de.segments[He],ye=pe[Me];if(wn(ye))break;const ae=`${ye}`,Pe=Me<pe.length-1?pe[Me+1]:null;if(He>0&&void 0===ae)break;if(ae&&Pe&&"object"==typeof Pe&&void 0===Pe.outlets){if(!_t(ae,Pe,Se))return ft;Me+=2}else{if(!_t(ae,{},Se))return ft;Me++}He++}return{match:!0,pathIndex:He,commandIndex:Me}}(de,Oe,pe),He=pe.slice(Me.commandIndex);if(Me.match&&Me.pathIndex<de.segments.length){const ft=new Pt(de.segments.slice(0,Me.pathIndex),{});return ft.children[fe]=new Pt(de.segments.slice(Me.pathIndex),de.children),cn(ft,0,He)}return Me.match&&0===He.length?new Pt(de.segments,{}):Me.match&&!de.hasChildren()?ns(de,Oe,pe):Me.match?cn(de,0,He):ns(de,Oe,pe)}function cn(de,Oe,pe){if(0===pe.length)return new Pt(de.segments,{});{const Me=function Es(de){return wn(de[0])?de[0].outlets:{[fe]:de}}(pe),He={};if(Object.keys(Me).some(ft=>ft!==fe)&&de.children[fe]&&1===de.numberOfChildren&&0===de.children[fe].segments.length){const ft=cn(de.children[fe],Oe,pe);return new Pt(de.segments,ft.children)}return Object.entries(Me).forEach(([ft,Se])=>{"string"==typeof Se&&(Se=[Se]),null!==Se&&(He[ft]=cs(de.children[ft],Oe,Se))}),Object.entries(de.children).forEach(([ft,Se])=>{void 0===Me[ft]&&(He[ft]=Se)}),new Pt(de.segments,He)}}function ns(de,Oe,pe){const Me=de.segments.slice(0,Oe);let He=0;for(;He<pe.length;){const ft=pe[He];if(wn(ft)){const ae=Ls(ft.outlets);return new Pt(Me,ae)}if(0===He&&Zn(pe[0])){Me.push(new Ce(de.segments[Oe].path,ci(pe[0]))),He++;continue}const Se=wn(ft)?ft.outlets[fe]:`${ft}`,ye=He<pe.length-1?pe[He+1]:null;Se&&ye&&Zn(ye)?(Me.push(new Ce(Se,ci(ye))),He+=2):(Me.push(new Ce(Se,{})),He++)}return new Pt(Me,{})}function Ls(de){const Oe={};return Object.entries(de).forEach(([pe,Me])=>{"string"==typeof Me&&(Me=[Me]),null!==Me&&(Oe[pe]=ns(new Pt([],{}),0,Me))}),Oe}function ci(de){const Oe={};return Object.entries(de).forEach(([pe,Me])=>Oe[pe]=`${Me}`),Oe}function _t(de,Oe,pe){return de==pe.path&&re(Oe,pe.parameters)}const Ht="imperative";var We=function(de){return de[de.NavigationStart=0]="NavigationStart",de[de.NavigationEnd=1]="NavigationEnd",de[de.NavigationCancel=2]="NavigationCancel",de[de.NavigationError=3]="NavigationError",de[de.RoutesRecognized=4]="RoutesRecognized",de[de.ResolveStart=5]="ResolveStart",de[de.ResolveEnd=6]="ResolveEnd",de[de.GuardsCheckStart=7]="GuardsCheckStart",de[de.GuardsCheckEnd=8]="GuardsCheckEnd",de[de.RouteConfigLoadStart=9]="RouteConfigLoadStart",de[de.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",de[de.ChildActivationStart=11]="ChildActivationStart",de[de.ChildActivationEnd=12]="ChildActivationEnd",de[de.ActivationStart=13]="ActivationStart",de[de.ActivationEnd=14]="ActivationEnd",de[de.Scroll=15]="Scroll",de[de.NavigationSkipped=16]="NavigationSkipped",de}(We||{});class sn{constructor(Oe,pe){this.id=Oe,this.url=pe}}class lt extends sn{constructor(Oe,pe,Me="imperative",He=null){super(Oe,pe),this.type=We.NavigationStart,this.navigationTrigger=Me,this.restoredState=He}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gt extends sn{constructor(Oe,pe,Me){super(Oe,pe),this.urlAfterRedirects=Me,this.type=We.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ct=function(de){return de[de.Redirect=0]="Redirect",de[de.SupersededByNewNavigation=1]="SupersededByNewNavigation",de[de.NoDataFromResolver=2]="NoDataFromResolver",de[de.GuardRejected=3]="GuardRejected",de}(Ct||{}),Wt=function(de){return de[de.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",de[de.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",de}(Wt||{});class pn extends sn{constructor(Oe,pe,Me,He){super(Oe,pe),this.reason=Me,this.code=He,this.type=We.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rn extends sn{constructor(Oe,pe,Me,He){super(Oe,pe),this.reason=Me,this.code=He,this.type=We.NavigationSkipped}}class Yn extends sn{constructor(Oe,pe,Me,He){super(Oe,pe),this.error=Me,this.target=He,this.type=We.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $n extends sn{constructor(Oe,pe,Me,He){super(Oe,pe),this.urlAfterRedirects=Me,this.state=He,this.type=We.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _s extends sn{constructor(Oe,pe,Me,He){super(Oe,pe),this.urlAfterRedirects=Me,this.state=He,this.type=We.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rs extends sn{constructor(Oe,pe,Me,He,ft){super(Oe,pe),this.urlAfterRedirects=Me,this.state=He,this.shouldActivate=ft,this.type=We.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ds extends sn{constructor(Oe,pe,Me,He){super(Oe,pe),this.urlAfterRedirects=Me,this.state=He,this.type=We.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hs extends sn{constructor(Oe,pe,Me,He){super(Oe,pe),this.urlAfterRedirects=Me,this.state=He,this.type=We.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cs{constructor(Oe){this.route=Oe,this.type=We.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ti{constructor(Oe){this.route=Oe,this.type=We.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hi{constructor(Oe){this.snapshot=Oe,this.type=We.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Li{constructor(Oe){this.snapshot=Oe,this.type=We.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $i{constructor(Oe){this.snapshot=Oe,this.type=We.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jo{constructor(Oe){this.snapshot=Oe,this.type=We.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class to{constructor(Oe,pe,Me){this.routerEvent=Oe,this.position=pe,this.anchor=Me,this.type=We.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class As{}class Qs{constructor(Oe){this.url=Oe}}class _r{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Uo,this.attachRef=null}}let Uo=(()=>{class de{constructor(){this.contexts=new Map}onChildOutletCreated(pe,Me){const He=this.getOrCreateContext(pe);He.outlet=Me,this.contexts.set(pe,He)}onChildOutletDestroyed(pe){const Me=this.getContext(pe);Me&&(Me.outlet=null,Me.attachRef=null)}onOutletDeactivated(){const pe=this.contexts;return this.contexts=new Map,pe}onOutletReAttached(pe){this.contexts=pe}getOrCreateContext(pe){let Me=this.getContext(pe);return Me||(Me=new _r,this.contexts.set(pe,Me)),Me}getContext(pe){return this.contexts.get(pe)||null}static{this.\u0275fac=function(Me){return new(Me||de)}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})();class $t{constructor(Oe){this._root=Oe}get root(){return this._root.value}parent(Oe){const pe=this.pathFromRoot(Oe);return pe.length>1?pe[pe.length-2]:null}children(Oe){const pe=Tn(Oe,this._root);return pe?pe.children.map(Me=>Me.value):[]}firstChild(Oe){const pe=Tn(Oe,this._root);return pe&&pe.children.length>0?pe.children[0].value:null}siblings(Oe){const pe=on(Oe,this._root);return pe.length<2?[]:pe[pe.length-2].children.map(He=>He.value).filter(He=>He!==Oe)}pathFromRoot(Oe){return on(Oe,this._root).map(pe=>pe.value)}}function Tn(de,Oe){if(de===Oe.value)return Oe;for(const pe of Oe.children){const Me=Tn(de,pe);if(Me)return Me}return null}function on(de,Oe){if(de===Oe.value)return[Oe];for(const pe of Oe.children){const Me=on(de,pe);if(Me.length)return Me.unshift(Oe),Me}return[]}class Qt{constructor(Oe,pe){this.value=Oe,this.children=pe}toString(){return`TreeNode(${this.value})`}}function Fn(de){const Oe={};return de&&de.children.forEach(pe=>Oe[pe.value.outlet]=pe),Oe}class qn extends $t{constructor(Oe,pe){super(Oe),this.snapshot=pe,vr(this,Oe)}toString(){return this.snapshot.toString()}}function bs(de){const Oe=function vi(de){const ft=new pi([],{},{},"",{},fe,de,null,{});return new ho("",new Qt(ft,[]))}(de),pe=new m.t([new Ce("",{})]),Me=new m.t({}),He=new m.t({}),ft=new m.t({}),Se=new m.t(""),ye=new Ei(pe,Me,ft,Se,He,fe,de,Oe.root);return ye.snapshot=Oe.root,new qn(new Qt(ye,[]),Oe)}class Ei{constructor(Oe,pe,Me,He,ft,Se,ye,ae){this.urlSubject=Oe,this.paramsSubject=pe,this.queryParamsSubject=Me,this.fragmentSubject=He,this.dataSubject=ft,this.outlet=Se,this.component=ye,this._futureSnapshot=ae,this.title=this.dataSubject?.pipe((0,D.T)(Pe=>Pe[se]))??(0,h.of)(void 0),this.url=Oe,this.params=pe,this.queryParams=Me,this.fragment=He,this.data=ft}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,D.T)(Oe=>Te(Oe))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,D.T)(Oe=>Te(Oe))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vo(de,Oe,pe="emptyOnly"){let Me;const{routeConfig:He}=de;return Me=null===Oe||"always"!==pe&&""!==He?.path&&(Oe.component||Oe.routeConfig?.loadComponent)?{params:{...de.params},data:{...de.data},resolve:{...de.data,...de._resolvedData??{}}}:{params:{...Oe.params,...de.params},data:{...Oe.data,...de.data},resolve:{...de.data,...Oe.data,...He?.data,...de._resolvedData}},He&&yr(He)&&(Me.resolve[se]=He.title),Me}class pi{get title(){return this.data?.[se]}constructor(Oe,pe,Me,He,ft,Se,ye,ae,Pe){this.url=Oe,this.params=pe,this.queryParams=Me,this.fragment=He,this.data=ft,this.outlet=Se,this.component=ye,this.routeConfig=ae,this._resolve=Pe}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Te(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Te(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Me=>Me.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ho extends $t{constructor(Oe,pe){super(pe),this.url=Oe,vr(this,pe)}toString(){return ur(this._root)}}function vr(de,Oe){Oe.value._routerState=de,Oe.children.forEach(pe=>vr(de,pe))}function ur(de){const Oe=de.children.length>0?` { ${de.children.map(ur).join(", ")} } `:"";return`${de.value}${Oe}`}function Xo(de){if(de.snapshot){const Oe=de.snapshot,pe=de._futureSnapshot;de.snapshot=pe,re(Oe.queryParams,pe.queryParams)||de.queryParamsSubject.next(pe.queryParams),Oe.fragment!==pe.fragment&&de.fragmentSubject.next(pe.fragment),re(Oe.params,pe.params)||de.paramsSubject.next(pe.params),function me(de,Oe){if(de.length!==Oe.length)return!1;for(let pe=0;pe<de.length;++pe)if(!re(de[pe],Oe[pe]))return!1;return!0}(Oe.url,pe.url)||de.urlSubject.next(pe.url),re(Oe.data,pe.data)||de.dataSubject.next(pe.data)}else de.snapshot=de._futureSnapshot,de.dataSubject.next(de._futureSnapshot.data)}function zr(de,Oe){const pe=re(de.params,Oe.params)&&function Be(de,Oe){return ut(de,Oe)&&de.every((pe,Me)=>re(pe.parameters,Oe[Me].parameters))}(de.url,Oe.url);return pe&&!(!de.parent!=!Oe.parent)&&(!de.parent||zr(de.parent,Oe.parent))}function yr(de){return"string"==typeof de.title||null===de.title}let Jo=(()=>{class de{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new t.bkB,this.deactivateEvents=new t.bkB,this.attachEvents=new t.bkB,this.detachEvents=new t.bkB,this.parentContexts=(0,t.WQX)(Uo),this.location=(0,t.WQX)(t.c1b),this.changeDetector=(0,t.WQX)(t.gRc),this.environmentInjector=(0,t.WQX)(t.uvJ),this.inputBinder=(0,t.WQX)(tr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(pe){if(pe.name){const{firstChange:Me,previousValue:He}=pe.name;if(Me)return;this.isTrackedInParentContexts(He)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(He)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(pe){return this.parentContexts.getContext(pe)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const pe=this.parentContexts.getContext(this.name);pe?.route&&(pe.attachRef?this.attach(pe.attachRef,pe.route):this.activateWith(pe.route,pe.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new t.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new t.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new t.wOt(4012,!1);this.location.detach();const pe=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(pe.instance),pe}attach(pe,Me){this.activated=pe,this._activatedRoute=Me,this.location.insert(pe.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(pe.instance)}deactivate(){if(this.activated){const pe=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(pe)}}activateWith(pe,Me){if(this.isActivated)throw new t.wOt(4013,!1);this._activatedRoute=pe;const He=this.location,Se=pe.snapshot.component,ye=this.parentContexts.getOrCreateContext(this.name).children,ae=new Yr(pe,ye,He.injector);this.activated=He.createComponent(Se,{index:He.length,injector:ae,environmentInjector:Me??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(Me){return new(Me||de)}}static{this.\u0275dir=t.FsC({type:de,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[t.OA$]})}}return de})();class Yr{__ngOutletInjector(Oe){return new Yr(this.route,this.childContexts,Oe)}constructor(Oe,pe,Me){this.route=Oe,this.childContexts=pe,this.parent=Me}get(Oe,pe){return Oe===Ei?this.route:Oe===Uo?this.childContexts:this.parent.get(Oe,pe)}}const tr=new t.nKC("");let Xr=(()=>{class de{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(pe){this.unsubscribeFromRouteData(pe),this.subscribeToRouteData(pe)}unsubscribeFromRouteData(pe){this.outletDataSubscriptions.get(pe)?.unsubscribe(),this.outletDataSubscriptions.delete(pe)}subscribeToRouteData(pe){const{activatedRoute:Me}=pe,He=(0,f.z)([Me.queryParams,Me.params,Me.data]).pipe((0,w.n)(([ft,Se,ye],ae)=>(ye={...ft,...Se,...ye},0===ae?(0,h.of)(ye):Promise.resolve(ye)))).subscribe(ft=>{if(!pe.isActivated||!pe.activatedComponentRef||pe.activatedRoute!==Me||null===Me.component)return void this.unsubscribeFromRouteData(pe);const Se=(0,t.HJs)(Me.component);if(Se)for(const{templateName:ye}of Se.inputs)pe.activatedComponentRef.setInput(ye,ft[ye]);else this.unsubscribeFromRouteData(pe)});this.outletDataSubscriptions.set(pe,He)}static{this.\u0275fac=function(Me){return new(Me||de)}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac})}}return de})();function Er(de,Oe,pe){if(pe&&de.shouldReuseRoute(Oe.value,pe.value.snapshot)){const Me=pe.value;Me._futureSnapshot=Oe.value;const He=function Ks(de,Oe,pe){return Oe.children.map(Me=>{for(const He of pe.children)if(de.shouldReuseRoute(Me.value,He.value.snapshot))return Er(de,Me,He);return Er(de,Me)})}(de,Oe,pe);return new Qt(Me,He)}{if(de.shouldAttach(Oe.value)){const ft=de.retrieve(Oe.value);if(null!==ft){const Se=ft.route;return Se.value._futureSnapshot=Oe.value,Se.children=Oe.children.map(ye=>Er(de,ye)),Se}}const Me=function hr(de){return new Ei(new m.t(de.url),new m.t(de.params),new m.t(de.queryParams),new m.t(de.fragment),new m.t(de.data),de.outlet,de.component,de)}(Oe.value),He=Oe.children.map(ft=>Er(de,ft));return new Qt(Me,He)}}const Jr="ngNavigationCancelingError";function Qo(de,Oe){const{redirectTo:pe,navigationBehaviorOptions:Me}=It(Oe)?{redirectTo:Oe,navigationBehaviorOptions:void 0}:Oe,He=Fr(!1,Ct.Redirect);return He.url=pe,He.navigationBehaviorOptions=Me,He}function Fr(de,Oe){const pe=new Error(`NavigationCancelingError: ${de||""}`);return pe[Jr]=!0,pe.cancellationCode=Oe,pe}function sa(de){return!!de&&de[Jr]}let rr=(()=>{class de{static{this.\u0275fac=function(Me){return new(Me||de)}}static{this.\u0275cmp=t.VBU({type:de,selectors:[["ng-component"]],standalone:!0,features:[t.aNF],decls:1,vars:0,template:function(Me,He){1&Me&&t.nrm(0,"router-outlet")},dependencies:[Jo],encapsulation:2})}}return de})();function is(de){const Oe=de.children&&de.children.map(is),pe=Oe?{...de,children:Oe}:{...de};return!pe.component&&!pe.loadComponent&&(Oe||pe.loadChildren)&&pe.outlet&&pe.outlet!==fe&&(pe.component=rr),pe}function Os(de){return de.outlet||fe}function ws(de){if(!de)return null;if(de.routeConfig?._injector)return de.routeConfig._injector;for(let Oe=de.parent;Oe;Oe=Oe.parent){const pe=Oe.routeConfig;if(pe?._loadedInjector)return pe._loadedInjector;if(pe?._injector)return pe._injector}return null}class Ci{constructor(Oe,pe,Me,He,ft){this.routeReuseStrategy=Oe,this.futureState=pe,this.currState=Me,this.forwardEvent=He,this.inputBindingEnabled=ft}activate(Oe){const pe=this.futureState._root,Me=this.currState?this.currState._root:null;this.deactivateChildRoutes(pe,Me,Oe),Xo(this.futureState.root),this.activateChildRoutes(pe,Me,Oe)}deactivateChildRoutes(Oe,pe,Me){const He=Fn(pe);Oe.children.forEach(ft=>{const Se=ft.value.outlet;this.deactivateRoutes(ft,He[Se],Me),delete He[Se]}),Object.values(He).forEach(ft=>{this.deactivateRouteAndItsChildren(ft,Me)})}deactivateRoutes(Oe,pe,Me){const He=Oe.value,ft=pe?pe.value:null;if(He===ft)if(He.component){const Se=Me.getContext(He.outlet);Se&&this.deactivateChildRoutes(Oe,pe,Se.children)}else this.deactivateChildRoutes(Oe,pe,Me);else ft&&this.deactivateRouteAndItsChildren(pe,Me)}deactivateRouteAndItsChildren(Oe,pe){Oe.value.component&&this.routeReuseStrategy.shouldDetach(Oe.value.snapshot)?this.detachAndStoreRouteSubtree(Oe,pe):this.deactivateRouteAndOutlet(Oe,pe)}detachAndStoreRouteSubtree(Oe,pe){const Me=pe.getContext(Oe.value.outlet),He=Me&&Oe.value.component?Me.children:pe,ft=Fn(Oe);for(const Se of Object.values(ft))this.deactivateRouteAndItsChildren(Se,He);if(Me&&Me.outlet){const Se=Me.outlet.detach(),ye=Me.children.onOutletDeactivated();this.routeReuseStrategy.store(Oe.value.snapshot,{componentRef:Se,route:Oe,contexts:ye})}}deactivateRouteAndOutlet(Oe,pe){const Me=pe.getContext(Oe.value.outlet),He=Me&&Oe.value.component?Me.children:pe,ft=Fn(Oe);for(const Se of Object.values(ft))this.deactivateRouteAndItsChildren(Se,He);Me&&(Me.outlet&&(Me.outlet.deactivate(),Me.children.onOutletDeactivated()),Me.attachRef=null,Me.route=null)}activateChildRoutes(Oe,pe,Me){const He=Fn(pe);Oe.children.forEach(ft=>{this.activateRoutes(ft,He[ft.value.outlet],Me),this.forwardEvent(new jo(ft.value.snapshot))}),Oe.children.length&&this.forwardEvent(new Li(Oe.value.snapshot))}activateRoutes(Oe,pe,Me){const He=Oe.value,ft=pe?pe.value:null;if(Xo(He),He===ft)if(He.component){const Se=Me.getOrCreateContext(He.outlet);this.activateChildRoutes(Oe,pe,Se.children)}else this.activateChildRoutes(Oe,pe,Me);else if(He.component){const Se=Me.getOrCreateContext(He.outlet);if(this.routeReuseStrategy.shouldAttach(He.snapshot)){const ye=this.routeReuseStrategy.retrieve(He.snapshot);this.routeReuseStrategy.store(He.snapshot,null),Se.children.onOutletReAttached(ye.contexts),Se.attachRef=ye.componentRef,Se.route=ye.route.value,Se.outlet&&Se.outlet.attach(ye.componentRef,ye.route.value),Xo(ye.route.value),this.activateChildRoutes(Oe,null,Se.children)}else{const ye=ws(He.snapshot);Se.attachRef=null,Se.route=He,Se.injector=ye,Se.outlet&&Se.outlet.activateWith(He,Se.injector),this.activateChildRoutes(Oe,null,Se.children)}}else this.activateChildRoutes(Oe,null,Me)}}class ni{constructor(Oe){this.path=Oe,this.route=this.path[this.path.length-1]}}class Co{constructor(Oe,pe){this.component=Oe,this.route=pe}}function no(de,Oe,pe){const Me=de._root;return Xs(Me,Oe?Oe._root:null,pe,[Me.value])}function so(de,Oe){const pe=Symbol(),Me=Oe.get(de,pe);return Me===pe?"function"!=typeof de||(0,t.LfX)(de)?Oe.get(de):de:Me}function Xs(de,Oe,pe,Me,He={canDeactivateChecks:[],canActivateChecks:[]}){const ft=Fn(Oe);return de.children.forEach(Se=>{(function io(de,Oe,pe,Me,He={canDeactivateChecks:[],canActivateChecks:[]}){const ft=de.value,Se=Oe?Oe.value:null,ye=pe?pe.getContext(de.value.outlet):null;if(Se&&ft.routeConfig===Se.routeConfig){const ae=function nr(de,Oe,pe){if("function"==typeof pe)return pe(de,Oe);switch(pe){case"pathParamsChange":return!ut(de.url,Oe.url);case"pathParamsOrQueryParamsChange":return!ut(de.url,Oe.url)||!re(de.queryParams,Oe.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zr(de,Oe)||!re(de.queryParams,Oe.queryParams);default:return!zr(de,Oe)}}(Se,ft,ft.routeConfig.runGuardsAndResolvers);ae?He.canActivateChecks.push(new ni(Me)):(ft.data=Se.data,ft._resolvedData=Se._resolvedData),Xs(de,Oe,ft.component?ye?ye.children:null:pe,Me,He),ae&&ye&&ye.outlet&&ye.outlet.isActivated&&He.canDeactivateChecks.push(new Co(ye.outlet.component,Se))}else Se&&mo(Oe,ye,He),He.canActivateChecks.push(new ni(Me)),Xs(de,null,ft.component?ye?ye.children:null:pe,Me,He)})(Se,ft[Se.value.outlet],pe,Me.concat([Se.value]),He),delete ft[Se.value.outlet]}),Object.entries(ft).forEach(([Se,ye])=>mo(ye,pe.getContext(Se),He)),He}function mo(de,Oe,pe){const Me=Fn(de),He=de.value;Object.entries(Me).forEach(([ft,Se])=>{mo(Se,He.component?Oe?Oe.children.getContext(ft):null:Oe,pe)}),pe.canDeactivateChecks.push(new Co(He.component&&Oe&&Oe.outlet&&Oe.outlet.isActivated?Oe.outlet.component:null,He))}function ko(de){return"function"==typeof de}function oe(de){return de instanceof v.G||"EmptyError"===de?.name}const $e=Symbol("INITIAL_VALUE");function _e(){return(0,w.n)(de=>(0,f.z)(de.map(Oe=>Oe.pipe((0,M.s)(1),(0,x.Z)($e)))).pipe((0,D.T)(Oe=>{for(const pe of Oe)if(!0!==pe){if(pe===$e)return $e;if(!1===pe||pe instanceof mt)return pe}return!0}),(0,j.p)(Oe=>Oe!==$e),(0,M.s)(1)))}function bi(de){return(0,C.F)((0,K.M)(Oe=>{if(It(Oe))throw Qo(0,Oe)}),(0,D.T)(Oe=>!0===Oe))}class Ca{constructor(Oe){this.segmentGroup=Oe||null}}class Pr extends Error{constructor(Oe){super(),this.urlTree=Oe}}function ia(de){return(0,S.$)(new Ca(de))}class al{constructor(Oe,pe){this.urlSerializer=Oe,this.urlTree=pe}lineralizeSegments(Oe,pe){let Me=[],He=pe.root;for(;;){if(Me=Me.concat(He.segments),0===He.numberOfChildren)return(0,h.of)(Me);if(He.numberOfChildren>1||!He.children[fe])return(0,S.$)(new t.wOt(4e3,!1));He=He.children[fe]}}applyRedirectCommands(Oe,pe,Me){const He=this.applyRedirectCreateUrlTree(pe,this.urlSerializer.parse(pe),Oe,Me);if(pe.startsWith("/"))throw new Pr(He);return He}applyRedirectCreateUrlTree(Oe,pe,Me,He){const ft=this.createSegmentGroup(Oe,pe.root,Me,He);return new mt(ft,this.createQueryParams(pe.queryParams,this.urlTree.queryParams),pe.fragment)}createQueryParams(Oe,pe){const Me={};return Object.entries(Oe).forEach(([He,ft])=>{if("string"==typeof ft&&ft.startsWith(":")){const ye=ft.substring(1);Me[He]=pe[ye]}else Me[He]=ft}),Me}createSegmentGroup(Oe,pe,Me,He){const ft=this.createSegments(Oe,pe.segments,Me,He);let Se={};return Object.entries(pe.children).forEach(([ye,ae])=>{Se[ye]=this.createSegmentGroup(Oe,ae,Me,He)}),new Pt(ft,Se)}createSegments(Oe,pe,Me,He){return pe.map(ft=>ft.path.startsWith(":")?this.findPosParam(Oe,ft,He):this.findOrReturn(ft,Me))}findPosParam(Oe,pe,Me){const He=Me[pe.path.substring(1)];if(!He)throw new t.wOt(4001,!1);return He}findOrReturn(Oe,pe){let Me=0;for(const He of pe){if(He.path===Oe.path)return pe.splice(Me),He;Me++}return Oe}}const za={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function La(de,Oe,pe,Me,He){const ft=ll(de,Oe,pe);return ft.matched?(Me=function Qr(de,Oe){return de.providers&&!de._injector&&(de._injector=(0,t.Ol2)(de.providers,Oe,`Route: ${de.path}`)),de._injector??Oe}(Oe,Me),function Ea(de,Oe,pe,Me){const He=Oe.canMatch;if(!He||0===He.length)return(0,h.of)(!0);const ft=He.map(Se=>{const ye=so(Se,de);return ht(function Xe(de){return de&&ko(de.canMatch)}(ye)?ye.canMatch(Oe,pe):(0,t.N4e)(de,()=>ye(Oe,pe)))});return(0,h.of)(ft).pipe(_e(),bi())}(Me,Oe,pe).pipe((0,D.T)(Se=>!0===Se?ft:{...za}))):(0,h.of)(ft)}function ll(de,Oe,pe){if("**"===Oe.path)return function Ya(de){return{matched:!0,parameters:de.length>0?tt(de).parameters:{},consumedSegments:de,remainingSegments:[],positionalParamSegments:{}}}(pe);if(""===Oe.path)return"full"===Oe.pathMatch&&(de.hasChildren()||pe.length>0)?{...za}:{matched:!0,consumedSegments:[],remainingSegments:pe,parameters:{},positionalParamSegments:{}};const He=(Oe.matcher||be)(pe,de,Oe);if(!He)return{...za};const ft={};Object.entries(He.posParams??{}).forEach(([ye,ae])=>{ft[ye]=ae.path});const Se=He.consumed.length>0?{...ft,...He.consumed[He.consumed.length-1].parameters}:ft;return{matched:!0,consumedSegments:He.consumed,remainingSegments:pe.slice(He.consumed.length),parameters:Se,positionalParamSegments:He.posParams??{}}}function cl(de,Oe,pe,Me){return pe.length>0&&function yo(de,Oe,pe){return pe.some(Me=>ui(de,Oe,Me)&&Os(Me)!==fe)}(de,pe,Me)?{segmentGroup:new Pt(Oe,oo(Me,new Pt(pe,de.children))),slicedSegments:[]}:0===pe.length&&function Cr(de,Oe,pe){return pe.some(Me=>ui(de,Oe,Me))}(de,pe,Me)?{segmentGroup:new Pt(de.segments,ri(de,pe,Me,de.children)),slicedSegments:pe}:{segmentGroup:new Pt(de.segments,de.children),slicedSegments:pe}}function ri(de,Oe,pe,Me){const He={};for(const ft of pe)if(ui(de,Oe,ft)&&!Me[Os(ft)]){const Se=new Pt([],{});He[Os(ft)]=Se}return{...Me,...He}}function oo(de,Oe){const pe={};pe[fe]=Oe;for(const Me of de)if(""===Me.path&&Os(Me)!==fe){const He=new Pt([],{});pe[Os(Me)]=He}return pe}function ui(de,Oe,pe){return(!(de.hasChildren()||Oe.length>0)||"full"!==pe.pathMatch)&&""===pe.path}class Xa{}class oa{constructor(Oe,pe,Me,He,ft,Se,ye){this.injector=Oe,this.configLoader=pe,this.rootComponentType=Me,this.config=He,this.urlTree=ft,this.paramsInheritanceStrategy=Se,this.urlSerializer=ye,this.applyRedirects=new al(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(Oe){return new t.wOt(4002,`'${Oe.segmentGroup}'`)}recognize(){const Oe=cl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Oe).pipe((0,D.T)(pe=>{const Me=new pi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},fe,this.rootComponentType,null,{}),He=new Qt(Me,pe),ft=new ho("",He),Se=function an(de,Oe,pe=null,Me=null){return jn(Dn(de),Oe,pe,Me)}(Me,[],this.urlTree.queryParams,this.urlTree.fragment);return Se.queryParams=this.urlTree.queryParams,ft.url=this.urlSerializer.serialize(Se),this.inheritParamsAndData(ft._root,null),{state:ft,tree:Se}}))}match(Oe){return this.processSegmentGroup(this.injector,this.config,Oe,fe).pipe((0,X.W)(Me=>{if(Me instanceof Pr)return this.urlTree=Me.urlTree,this.match(Me.urlTree.root);throw Me instanceof Ca?this.noMatchError(Me):Me}))}inheritParamsAndData(Oe,pe){const Me=Oe.value,He=vo(Me,pe,this.paramsInheritanceStrategy);Me.params=Object.freeze(He.params),Me.data=Object.freeze(He.data),Oe.children.forEach(ft=>this.inheritParamsAndData(ft,Me))}processSegmentGroup(Oe,pe,Me,He){return 0===Me.segments.length&&Me.hasChildren()?this.processChildren(Oe,pe,Me):this.processSegment(Oe,pe,Me,Me.segments,He,!0).pipe((0,D.T)(ft=>ft instanceof Qt?[ft]:[]))}processChildren(Oe,pe,Me){const He=[];for(const ft of Object.keys(Me.children))"primary"===ft?He.unshift(ft):He.push(ft);return(0,e.H)(He).pipe((0,k.H)(ft=>{const Se=Me.children[ft],ye=function Hs(de,Oe){const pe=de.filter(Me=>Os(Me)===Oe);return pe.push(...de.filter(Me=>Os(Me)!==Oe)),pe}(pe,ft);return this.processSegmentGroup(Oe,ye,Se,ft)}),(0,G.S)((ft,Se)=>(ft.push(...Se),ft)),(0,q.U)(null),(0,z.H)(),(0,U.Z)(ft=>{if(null===ft)return ia(Me);const Se=xl(ft);return function Is(de){de.sort((Oe,pe)=>Oe.value.outlet===fe?-1:pe.value.outlet===fe?1:Oe.value.outlet.localeCompare(pe.value.outlet))}(Se),(0,h.of)(Se)}))}processSegment(Oe,pe,Me,He,ft,Se){return(0,e.H)(pe).pipe((0,k.H)(ye=>this.processSegmentAgainstRoute(ye._injector??Oe,pe,ye,Me,He,ft,Se).pipe((0,X.W)(ae=>{if(ae instanceof Ca)return(0,h.of)(null);throw ae}))),(0,$.$)(ye=>!!ye),(0,X.W)(ye=>{if(oe(ye))return function Ta(de,Oe,pe){return 0===Oe.length&&!de.children[pe]}(Me,He,ft)?(0,h.of)(new Xa):ia(Me);throw ye}))}processSegmentAgainstRoute(Oe,pe,Me,He,ft,Se,ye){return function ba(de,Oe,pe,Me){return!!(Os(de)===Me||Me!==fe&&ui(Oe,pe,de))&&ll(Oe,de,pe).matched}(Me,He,ft,Se)?void 0===Me.redirectTo?this.matchSegmentAgainstRoute(Oe,He,Me,ft,Se):this.allowRedirects&&ye?this.expandSegmentAgainstRouteUsingRedirect(Oe,He,pe,Me,ft,Se):ia(He):ia(He)}expandSegmentAgainstRouteUsingRedirect(Oe,pe,Me,He,ft,Se){const{matched:ye,consumedSegments:ae,positionalParamSegments:Pe,remainingSegments:nt}=ll(pe,He,ft);if(!ye)return ia(pe);He.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Bt=this.applyRedirects.applyRedirectCommands(ae,He.redirectTo,Pe);return this.applyRedirects.lineralizeSegments(He,Bt).pipe((0,U.Z)(_n=>this.processSegment(Oe,Me,pe,_n.concat(nt),Se,!1)))}matchSegmentAgainstRoute(Oe,pe,Me,He,ft){const Se=La(pe,Me,He,Oe);return"**"===Me.path&&(pe.children={}),Se.pipe((0,w.n)(ye=>ye.matched?this.getChildConfig(Oe=Me._injector??Oe,Me,He).pipe((0,w.n)(({routes:ae})=>{const Pe=Me._loadedInjector??Oe,{consumedSegments:nt,remainingSegments:Bt,parameters:_n}=ye,Ln=new pi(nt,_n,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Nc(de){return de.data||{}}(Me),Os(Me),Me.component??Me._loadedComponent??null,Me,function qo(de){return de.resolve||{}}(Me)),{segmentGroup:rs,slicedSegments:gs}=cl(pe,nt,Bt,ae);if(0===gs.length&&rs.hasChildren())return this.processChildren(Pe,ae,rs).pipe((0,D.T)(Ji=>null===Ji?null:new Qt(Ln,Ji)));if(0===ae.length&&0===gs.length)return(0,h.of)(new Qt(Ln,[]));const vs=Os(Me)===ft;return this.processSegment(Pe,ae,rs,gs,vs?fe:ft,!0).pipe((0,D.T)(Ji=>new Qt(Ln,Ji instanceof Qt?[Ji]:[])))})):ia(pe)))}getChildConfig(Oe,pe,Me){return pe.children?(0,h.of)({routes:pe.children,injector:Oe}):pe.loadChildren?void 0!==pe._loadedRoutes?(0,h.of)({routes:pe._loadedRoutes,injector:pe._loadedInjector}):function Vo(de,Oe,pe,Me){const He=Oe.canLoad;if(void 0===He||0===He.length)return(0,h.of)(!0);const ft=He.map(Se=>{const ye=so(Se,de);return ht(function bo(de){return de&&ko(de.canLoad)}(ye)?ye.canLoad(Oe,pe):(0,t.N4e)(de,()=>ye(Oe,pe)))});return(0,h.of)(ft).pipe(_e(),bi())}(Oe,pe,Me).pipe((0,U.Z)(He=>He?this.configLoader.loadChildren(Oe,pe).pipe((0,K.M)(ft=>{pe._loadedRoutes=ft.routes,pe._loadedInjector=ft.injector})):function wl(de){return(0,S.$)(Fr(!1,Ct.GuardRejected))}())):(0,h.of)({routes:[],injector:Oe})}}function Zr(de){const Oe=de.value.routeConfig;return Oe&&""===Oe.path}function xl(de){const Oe=[],pe=new Set;for(const Me of de){if(!Zr(Me)){Oe.push(Me);continue}const He=Oe.find(ft=>Me.value.routeConfig===ft.value.routeConfig);void 0!==He?(He.children.push(...Me.children),pe.add(He)):Oe.push(Me)}for(const Me of pe){const He=xl(Me.children);Oe.push(new Qt(Me.value,He))}return Oe.filter(Me=>!pe.has(Me))}function Br(de){const Oe=de.children.map(pe=>Br(pe)).flat();return[de,...Oe]}function sr(de){return(0,w.n)(Oe=>{const pe=de(Oe);return pe?(0,e.H)(pe).pipe((0,D.T)(()=>Oe)):(0,h.of)(Oe)})}let br=(()=>{class de{buildTitle(pe){let Me,He=pe.root;for(;void 0!==He;)Me=this.getResolvedTitleForRoute(He)??Me,He=He.children.find(ft=>ft.outlet===fe);return Me}getResolvedTitleForRoute(pe){return pe.data[se]}static{this.\u0275fac=function(Me){return new(Me||de)}}static{this.\u0275prov=t.jDH({token:de,factory:()=>(0,t.WQX)(Wi),providedIn:"root"})}}return de})(),Wi=(()=>{class de extends br{constructor(pe){super(),this.title=pe}updateTitle(pe){const Me=this.buildTitle(pe);void 0!==Me&&this.title.setTitle(Me)}static{this.\u0275fac=function(Me){return new(Me||de)(t.KVO(ne.hE))}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})();const Ut=new t.nKC("",{providedIn:"root",factory:()=>({})}),dn=new t.nKC("");let xt=(()=>{class de{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,t.WQX)(t.Ql9)}loadComponent(pe){if(this.componentLoaders.get(pe))return this.componentLoaders.get(pe);if(pe._loadedComponent)return(0,h.of)(pe._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(pe);const Me=ht(pe.loadComponent()).pipe((0,D.T)(os),(0,K.M)(ft=>{this.onLoadEndListener&&this.onLoadEndListener(pe),pe._loadedComponent=ft}),(0,J.j)(()=>{this.componentLoaders.delete(pe)})),He=new T.G(Me,()=>new A.B).pipe((0,Q.B)());return this.componentLoaders.set(pe,He),He}loadChildren(pe,Me){if(this.childrenLoaders.get(Me))return this.childrenLoaders.get(Me);if(Me._loadedRoutes)return(0,h.of)({routes:Me._loadedRoutes,injector:Me._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Me);const ft=function An(de,Oe,pe,Me){return ht(de.loadChildren()).pipe((0,D.T)(os),(0,U.Z)(He=>He instanceof t.Co$||Array.isArray(He)?(0,h.of)(He):(0,e.H)(Oe.compileModuleAsync(He))),(0,D.T)(He=>{Me&&Me(de);let ft,Se,ye=!1;return Array.isArray(He)?(Se=He,!0):(ft=He.create(pe).injector,Se=ft.get(dn,[],{optional:!0,self:!0}).flat()),{routes:Se.map(is),injector:ft}}))}(Me,this.compiler,pe,this.onLoadEndListener).pipe((0,J.j)(()=>{this.childrenLoaders.delete(Me)})),Se=new T.G(ft,()=>new A.B).pipe((0,Q.B)());return this.childrenLoaders.set(Me,Se),Se}static{this.\u0275fac=function(Me){return new(Me||de)}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})();function os(de){return function Wn(de){return de&&"object"==typeof de&&"default"in de}(de)?de.default:de}let Us=(()=>{class de{static{this.\u0275fac=function(Me){return new(Me||de)}}static{this.\u0275prov=t.jDH({token:de,factory:()=>(0,t.WQX)(Qn),providedIn:"root"})}}return de})(),Qn=(()=>{class de{shouldProcessUrl(pe){return!0}extract(pe){return pe}merge(pe,Me){return pe}static{this.\u0275fac=function(Me){return new(Me||de)}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})();const _i=new t.nKC(""),Ni=new t.nKC("");function qi(de,Oe,pe){const Me=de.get(Ni),He=de.get(L.qQ);return de.get(t.SKi).runOutsideAngular(()=>{if(!He.startViewTransition||Me.skipNextTransition)return Me.skipNextTransition=!1,new Promise(Pe=>setTimeout(Pe));let ft;const Se=new Promise(Pe=>{ft=Pe}),ye=He.startViewTransition(()=>(ft(),function ki(de){return new Promise(Oe=>{(0,t.mal)(Oe,{injector:de})})}(de))),{onViewTransitionCreated:ae}=Me;return ae&&(0,t.N4e)(de,()=>ae({transition:ye,from:Oe,to:pe})),Se})}let kn=(()=>{class de{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new A.B,this.transitionAbortSubject=new A.B,this.configLoader=(0,t.WQX)(xt),this.environmentInjector=(0,t.WQX)(t.uvJ),this.urlSerializer=(0,t.WQX)(rn),this.rootContexts=(0,t.WQX)(Uo),this.location=(0,t.WQX)(L.aZ),this.inputBindingEnabled=null!==(0,t.WQX)(tr,{optional:!0}),this.titleStrategy=(0,t.WQX)(br),this.options=(0,t.WQX)(Ut,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,t.WQX)(Us),this.createViewTransition=(0,t.WQX)(_i,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,h.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=He=>this.events.next(new Ti(He)),this.configLoader.onLoadStartListener=He=>this.events.next(new Cs(He))}complete(){this.transitions?.complete()}handleNavigationRequest(pe){const Me=++this.navigationId;this.transitions?.next({...this.transitions.value,...pe,id:Me})}setupNavigations(pe,Me,He){return this.transitions=new m.t({id:0,currentUrlTree:Me,currentRawUrl:Me,extractedUrl:this.urlHandlingStrategy.extract(Me),urlAfterRedirects:this.urlHandlingStrategy.extract(Me),rawUrl:Me,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ht,restoredState:null,currentSnapshot:He.snapshot,targetSnapshot:null,currentRouterState:He,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,j.p)(ft=>0!==ft.id),(0,D.T)(ft=>({...ft,extractedUrl:this.urlHandlingStrategy.extract(ft.rawUrl)})),(0,w.n)(ft=>{let Se=!1,ye=!1;return(0,h.of)(ft).pipe((0,w.n)(ae=>{if(this.navigationId>ft.id)return this.cancelNavigationTransition(ft,"",Ct.SupersededByNewNavigation),R.w;this.currentTransition=ft,this.currentNavigation={id:ae.id,initialUrl:ae.rawUrl,extractedUrl:ae.extractedUrl,trigger:ae.source,extras:ae.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Pe=!pe.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Pe&&"reload"!==(ae.extras.onSameUrlNavigation??pe.onSameUrlNavigation)){const Bt="";return this.events.next(new Rn(ae.id,this.urlSerializer.serialize(ae.rawUrl),Bt,Wt.IgnoredSameUrlNavigation)),ae.resolve(null),R.w}if(this.urlHandlingStrategy.shouldProcessUrl(ae.rawUrl))return(0,h.of)(ae).pipe((0,w.n)(Bt=>{const _n=this.transitions?.getValue();return this.events.next(new lt(Bt.id,this.urlSerializer.serialize(Bt.extractedUrl),Bt.source,Bt.restoredState)),_n!==this.transitions?.getValue()?R.w:Promise.resolve(Bt)}),function ra(de,Oe,pe,Me,He,ft){return(0,U.Z)(Se=>function oc(de,Oe,pe,Me,He,ft,Se="emptyOnly"){return new oa(de,Oe,pe,Me,He,Se,ft).recognize()}(de,Oe,pe,Me,Se.extractedUrl,He,ft).pipe((0,D.T)(({state:ye,tree:ae})=>({...Se,targetSnapshot:ye,urlAfterRedirects:ae}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,pe.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,K.M)(Bt=>{ft.targetSnapshot=Bt.targetSnapshot,ft.urlAfterRedirects=Bt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Bt.urlAfterRedirects};const _n=new $n(Bt.id,this.urlSerializer.serialize(Bt.extractedUrl),this.urlSerializer.serialize(Bt.urlAfterRedirects),Bt.targetSnapshot);this.events.next(_n)}));if(Pe&&this.urlHandlingStrategy.shouldProcessUrl(ae.currentRawUrl)){const{id:Bt,extractedUrl:_n,source:Ln,restoredState:rs,extras:gs}=ae,vs=new lt(Bt,this.urlSerializer.serialize(_n),Ln,rs);this.events.next(vs);const Ji=bs(this.rootComponentType).snapshot;return this.currentTransition=ft={...ae,targetSnapshot:Ji,urlAfterRedirects:_n,extras:{...gs,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=_n,(0,h.of)(ft)}{const Bt="";return this.events.next(new Rn(ae.id,this.urlSerializer.serialize(ae.extractedUrl),Bt,Wt.IgnoredByUrlHandlingStrategy)),ae.resolve(null),R.w}}),(0,K.M)(ae=>{const Pe=new _s(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot);this.events.next(Pe)}),(0,D.T)(ae=>(this.currentTransition=ft={...ae,guards:no(ae.targetSnapshot,ae.currentSnapshot,this.rootContexts)},ft)),function Dt(de,Oe){return(0,U.Z)(pe=>{const{targetSnapshot:Me,currentSnapshot:He,guards:{canActivateChecks:ft,canDeactivateChecks:Se}}=pe;return 0===Se.length&&0===ft.length?(0,h.of)({...pe,guardsResult:!0}):function Xt(de,Oe,pe,Me){return(0,e.H)(de).pipe((0,U.Z)(He=>function zi(de,Oe,pe,Me,He){const ft=Oe&&Oe.routeConfig?Oe.routeConfig.canDeactivate:null;if(!ft||0===ft.length)return(0,h.of)(!0);const Se=ft.map(ye=>{const ae=ws(Oe)??He,Pe=so(ye,ae);return ht(function Ge(de){return de&&ko(de.canDeactivate)}(Pe)?Pe.canDeactivate(de,Oe,pe,Me):(0,t.N4e)(ae,()=>Pe(de,Oe,pe,Me))).pipe((0,$.$)())});return(0,h.of)(Se).pipe(_e())}(He.component,He.route,pe,Oe,Me)),(0,$.$)(He=>!0!==He,!0))}(Se,Me,He,de).pipe((0,U.Z)(ye=>ye&&function Ir(de){return"boolean"==typeof de}(ye)?function Sn(de,Oe,pe,Me){return(0,e.H)(Oe).pipe((0,k.H)(He=>(0,E.x)(function ps(de,Oe){return null!==de&&Oe&&Oe(new Hi(de)),(0,h.of)(!0)}(He.route.parent,Me),function ts(de,Oe){return null!==de&&Oe&&Oe(new $i(de)),(0,h.of)(!0)}(He.route,Me),function Zi(de,Oe,pe){const Me=Oe[Oe.length-1],ft=Oe.slice(0,Oe.length-1).reverse().map(Se=>function So(de){const Oe=de.routeConfig?de.routeConfig.canActivateChild:null;return Oe&&0!==Oe.length?{node:de,guards:Oe}:null}(Se)).filter(Se=>null!==Se).map(Se=>(0,_.v)(()=>{const ye=Se.guards.map(ae=>{const Pe=ws(Se.node)??pe,nt=so(ae,Pe);return ht(function ya(de){return de&&ko(de.canActivateChild)}(nt)?nt.canActivateChild(Me,de):(0,t.N4e)(Pe,()=>nt(Me,de))).pipe((0,$.$)())});return(0,h.of)(ye).pipe(_e())}));return(0,h.of)(ft).pipe(_e())}(de,He.path,pe),function Bs(de,Oe,pe){const Me=Oe.routeConfig?Oe.routeConfig.canActivate:null;if(!Me||0===Me.length)return(0,h.of)(!0);const He=Me.map(ft=>(0,_.v)(()=>{const Se=ws(Oe)??pe,ye=so(ft,Se);return ht(function Zo(de){return de&&ko(de.canActivate)}(ye)?ye.canActivate(Oe,de):(0,t.N4e)(Se,()=>ye(Oe,de))).pipe((0,$.$)())}));return(0,h.of)(He).pipe(_e())}(de,He.route,pe))),(0,$.$)(He=>!0!==He,!0))}(Me,ft,de,Oe):(0,h.of)(ye)),(0,D.T)(ye=>({...pe,guardsResult:ye})))})}(this.environmentInjector,ae=>this.events.next(ae)),(0,K.M)(ae=>{if(ft.guardsResult=ae.guardsResult,It(ae.guardsResult))throw Qo(0,ae.guardsResult);const Pe=new Rs(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot,!!ae.guardsResult);this.events.next(Pe)}),(0,j.p)(ae=>!!ae.guardsResult||(this.cancelNavigationTransition(ae,"",Ct.GuardRejected),!1)),sr(ae=>{if(ae.guards.canActivateChecks.length)return(0,h.of)(ae).pipe((0,K.M)(Pe=>{const nt=new Ds(Pe.id,this.urlSerializer.serialize(Pe.extractedUrl),this.urlSerializer.serialize(Pe.urlAfterRedirects),Pe.targetSnapshot);this.events.next(nt)}),(0,w.n)(Pe=>{let nt=!1;return(0,h.of)(Pe).pipe(function Ll(de,Oe){return(0,U.Z)(pe=>{const{targetSnapshot:Me,guards:{canActivateChecks:He}}=pe;if(!He.length)return(0,h.of)(pe);const ft=new Set(He.map(ae=>ae.route)),Se=new Set;for(const ae of ft)if(!Se.has(ae))for(const Pe of Br(ae))Se.add(Pe);let ye=0;return(0,e.H)(Se).pipe((0,k.H)(ae=>ft.has(ae)?function Ja(de,Oe,pe,Me){const He=de.routeConfig,ft=de._resolve;return void 0!==He?.title&&!yr(He)&&(ft[se]=He.title),function ro(de,Oe,pe,Me){const He=Ee(de);if(0===He.length)return(0,h.of)({});const ft={};return(0,e.H)(He).pipe((0,U.Z)(Se=>function Da(de,Oe,pe,Me){const He=ws(Oe)??Me,ft=so(de,He);return ht(ft.resolve?ft.resolve(Oe,pe):(0,t.N4e)(He,()=>ft(Oe,pe)))}(de[Se],Oe,pe,Me).pipe((0,$.$)(),(0,K.M)(ye=>{ft[Se]=ye}))),(0,te.o)(1),(0,Z.u)(ft),(0,X.W)(Se=>oe(Se)?R.w:(0,S.$)(Se)))}(ft,de,Oe,Me).pipe((0,D.T)(Se=>(de._resolvedData=Se,de.data=vo(de,de.parent,pe).resolve,null)))}(ae,Me,de,Oe):(ae.data=vo(ae,ae.parent,de).resolve,(0,h.of)(void 0))),(0,K.M)(()=>ye++),(0,te.o)(1),(0,U.Z)(ae=>ye===Se.size?(0,h.of)(pe):R.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,K.M)({next:()=>nt=!0,complete:()=>{nt||this.cancelNavigationTransition(Pe,"",Ct.NoDataFromResolver)}}))}),(0,K.M)(Pe=>{const nt=new hs(Pe.id,this.urlSerializer.serialize(Pe.extractedUrl),this.urlSerializer.serialize(Pe.urlAfterRedirects),Pe.targetSnapshot);this.events.next(nt)}))}),sr(ae=>{const Pe=nt=>{const Bt=[];nt.routeConfig?.loadComponent&&!nt.routeConfig._loadedComponent&&Bt.push(this.configLoader.loadComponent(nt.routeConfig).pipe((0,K.M)(_n=>{nt.component=_n}),(0,D.T)(()=>{})));for(const _n of nt.children)Bt.push(...Pe(_n));return Bt};return(0,f.z)(Pe(ae.targetSnapshot.root)).pipe((0,q.U)(null),(0,M.s)(1))}),sr(()=>this.afterPreactivation()),(0,w.n)(()=>{const{currentSnapshot:ae,targetSnapshot:Pe}=ft,nt=this.createViewTransition?.(this.environmentInjector,ae.root,Pe.root);return nt?(0,e.H)(nt).pipe((0,D.T)(()=>ft)):(0,h.of)(ft)}),(0,D.T)(ae=>{const Pe=function po(de,Oe,pe){const Me=Er(de,Oe._root,pe?pe._root:void 0);return new qn(Me,Oe)}(pe.routeReuseStrategy,ae.targetSnapshot,ae.currentRouterState);return this.currentTransition=ft={...ae,targetRouterState:Pe},this.currentNavigation.targetRouterState=Pe,ft}),(0,K.M)(()=>{this.events.next(new As)}),((de,Oe,pe,Me)=>(0,D.T)(He=>(new Ci(Oe,He.targetRouterState,He.currentRouterState,pe,Me).activate(de),He)))(this.rootContexts,pe.routeReuseStrategy,ae=>this.events.next(ae),this.inputBindingEnabled),(0,M.s)(1),(0,K.M)({next:ae=>{Se=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gt(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects))),this.titleStrategy?.updateTitle(ae.targetRouterState.snapshot),ae.resolve(!0)},complete:()=>{Se=!0}}),(0,ee.Q)(this.transitionAbortSubject.pipe((0,K.M)(ae=>{throw ae}))),(0,J.j)(()=>{!Se&&!ye&&this.cancelNavigationTransition(ft,"",Ct.SupersededByNewNavigation),this.currentTransition?.id===ft.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,X.W)(ae=>{if(ye=!0,sa(ae))this.events.next(new pn(ft.id,this.urlSerializer.serialize(ft.extractedUrl),ae.message,ae.cancellationCode)),function xa(de){return sa(de)&&It(de.url)}(ae)?this.events.next(new Qs(ae.url)):ft.resolve(!1);else{this.events.next(new Yn(ft.id,this.urlSerializer.serialize(ft.extractedUrl),ae,ft.targetSnapshot??void 0));try{ft.resolve(pe.errorHandler(ae))}catch(Pe){this.options.resolveNavigationPromiseOnError?ft.resolve(!1):ft.reject(Pe)}}return R.w}))}))}cancelNavigationTransition(pe,Me,He){const ft=new pn(pe.id,this.urlSerializer.serialize(pe.extractedUrl),Me,He);this.events.next(ft),pe.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(Me){return new(Me||de)}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})();function ao(de){return de!==Ht}let lo=(()=>{class de{static{this.\u0275fac=function(Me){return new(Me||de)}}static{this.\u0275prov=t.jDH({token:de,factory:()=>(0,t.WQX)(Je),providedIn:"root"})}}return de})();class he{shouldDetach(Oe){return!1}store(Oe,pe){}shouldAttach(Oe){return!1}retrieve(Oe){return null}shouldReuseRoute(Oe,pe){return Oe.routeConfig===pe.routeConfig}}let Je=(()=>{class de extends he{static{this.\u0275fac=(()=>{let pe;return function(He){return(pe||(pe=t.xGo(de)))(He||de)}})()}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})(),Re=(()=>{class de{static{this.\u0275fac=function(Me){return new(Me||de)}}static{this.\u0275prov=t.jDH({token:de,factory:()=>(0,t.WQX)(ze),providedIn:"root"})}}return de})(),ze=(()=>{class de extends Re{constructor(){super(...arguments),this.location=(0,t.WQX)(L.aZ),this.urlSerializer=(0,t.WQX)(rn),this.options=(0,t.WQX)(Ut,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,t.WQX)(Us),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=bs(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(pe){return this.location.subscribe(Me=>{"popstate"===Me.type&&pe(Me.url,Me.state)})}handleRouterEvent(pe,Me){if(pe instanceof lt)this.stateMemento=this.createStateMemento();else if(pe instanceof Rn)this.rawUrlTree=Me.initialUrl;else if(pe instanceof $n){if("eager"===this.urlUpdateStrategy&&!Me.extras.skipLocationChange){const He=this.urlHandlingStrategy.merge(Me.finalUrl,Me.initialUrl);this.setBrowserUrl(He,Me)}}else pe instanceof As?(this.currentUrlTree=Me.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Me.finalUrl,Me.initialUrl),this.routerState=Me.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Me.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Me))):pe instanceof pn&&(pe.code===Ct.GuardRejected||pe.code===Ct.NoDataFromResolver)?this.restoreHistory(Me):pe instanceof Yn?this.restoreHistory(Me,!0):pe instanceof gt&&(this.lastSuccessfulId=pe.id,this.currentPageId=this.browserPageId)}setBrowserUrl(pe,Me){const He=this.urlSerializer.serialize(pe);if(this.location.isCurrentPathEqualTo(He)||Me.extras.replaceUrl){const Se={...Me.extras.state,...this.generateNgRouterState(Me.id,this.browserPageId)};this.location.replaceState(He,"",Se)}else{const ft={...Me.extras.state,...this.generateNgRouterState(Me.id,this.browserPageId+1)};this.location.go(He,"",ft)}}restoreHistory(pe,Me=!1){if("computed"===this.canceledNavigationResolution){const ft=this.currentPageId-this.browserPageId;0!==ft?this.location.historyGo(ft):this.currentUrlTree===pe.finalUrl&&0===ft&&(this.resetState(pe),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Me&&this.resetState(pe),this.resetUrlToCurrentUrlTree())}resetState(pe){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,pe.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(pe,Me){return"computed"===this.canceledNavigationResolution?{navigationId:pe,\u0275routerPageId:Me}:{navigationId:pe}}static{this.\u0275fac=(()=>{let pe;return function(He){return(pe||(pe=t.xGo(de)))(He||de)}})()}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})();var Lt=function(de){return de[de.COMPLETE=0]="COMPLETE",de[de.FAILED=1]="FAILED",de[de.REDIRECTING=2]="REDIRECTING",de}(Lt||{});function On(de,Oe){de.events.pipe((0,j.p)(pe=>pe instanceof gt||pe instanceof pn||pe instanceof Yn||pe instanceof Rn),(0,D.T)(pe=>pe instanceof gt||pe instanceof Rn?Lt.COMPLETE:pe instanceof pn&&(pe.code===Ct.Redirect||pe.code===Ct.SupersededByNewNavigation)?Lt.REDIRECTING:Lt.FAILED),(0,j.p)(pe=>pe!==Lt.REDIRECTING),(0,M.s)(1)).subscribe(()=>{Oe()})}function Un(de){throw de}const fs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ri={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ns=(()=>{class de{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,t.WQX)(t.H3F),this.stateManager=(0,t.WQX)(Re),this.options=(0,t.WQX)(Ut,{optional:!0})||{},this.pendingTasks=(0,t.WQX)(t.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,t.WQX)(kn),this.urlSerializer=(0,t.WQX)(rn),this.location=(0,t.WQX)(L.aZ),this.urlHandlingStrategy=(0,t.WQX)(Us),this._events=new A.B,this.errorHandler=this.options.errorHandler||Un,this.navigated=!1,this.routeReuseStrategy=(0,t.WQX)(lo),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,t.WQX)(dn,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,t.WQX)(tr,{optional:!0}),this.eventsSubscription=new p.yU,this.isNgZoneEnabled=(0,t.WQX)(t.SKi)instanceof t.SKi&&t.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:pe=>{this.console.warn(pe)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const pe=this.navigationTransitions.events.subscribe(Me=>{try{const He=this.navigationTransitions.currentTransition,ft=this.navigationTransitions.currentNavigation;if(null!==He&&null!==ft)if(this.stateManager.handleRouterEvent(Me,ft),Me instanceof pn&&Me.code!==Ct.Redirect&&Me.code!==Ct.SupersededByNewNavigation)this.navigated=!0;else if(Me instanceof gt)this.navigated=!0;else if(Me instanceof Qs){const Se=this.urlHandlingStrategy.merge(Me.url,He.currentRawUrl),ye={info:He.extras.info,skipLocationChange:He.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ao(He.source)};this.scheduleNavigation(Se,Ht,null,ye,{resolve:He.resolve,reject:He.reject,promise:He.promise})}(function hi(de){return!(de instanceof As||de instanceof Qs)})(Me)&&this._events.next(Me)}catch(He){this.navigationTransitions.transitionAbortSubject.next(He)}});this.eventsSubscription.add(pe)}resetRootComponentType(pe){this.routerState.root.component=pe,this.navigationTransitions.rootComponentType=pe}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ht,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((pe,Me)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(pe,"popstate",Me)},0)})}navigateToSyncWithBrowser(pe,Me,He){const ft={replaceUrl:!0},Se=He?.navigationId?He:null;if(He){const ae={...He};delete ae.navigationId,delete ae.\u0275routerPageId,0!==Object.keys(ae).length&&(ft.state=ae)}const ye=this.parseUrl(pe);this.scheduleNavigation(ye,Me,Se,ft)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(pe){this.config=pe.map(is),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(pe,Me={}){const{relativeTo:He,queryParams:ft,fragment:Se,queryParamsHandling:ye,preserveFragment:ae}=Me,Pe=ae?this.currentUrlTree.fragment:Se;let Bt,nt=null;switch(ye){case"merge":nt={...this.currentUrlTree.queryParams,...ft};break;case"preserve":nt=this.currentUrlTree.queryParams;break;default:nt=ft||null}null!==nt&&(nt=this.removeEmptyProps(nt));try{Bt=Dn(He?He.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof pe[0]||!pe[0].startsWith("/"))&&(pe=[]),Bt=this.currentUrlTree.root}return jn(Bt,pe,nt,Pe??null)}navigateByUrl(pe,Me={skipLocationChange:!1}){const He=It(pe)?pe:this.parseUrl(pe),ft=this.urlHandlingStrategy.merge(He,this.rawUrlTree);return this.scheduleNavigation(ft,Ht,null,Me)}navigate(pe,Me={skipLocationChange:!1}){return function Xn(de){for(let Oe=0;Oe<de.length;Oe++)if(null==de[Oe])throw new t.wOt(4008,!1)}(pe),this.navigateByUrl(this.createUrlTree(pe,Me),Me)}serializeUrl(pe){return this.urlSerializer.serialize(pe)}parseUrl(pe){try{return this.urlSerializer.parse(pe)}catch{return this.urlSerializer.parse("/")}}isActive(pe,Me){let He;if(He=!0===Me?{...fs}:!1===Me?{...Ri}:Me,It(pe))return Ye(this.currentUrlTree,pe,He);const ft=this.parseUrl(pe);return Ye(this.currentUrlTree,ft,He)}removeEmptyProps(pe){return Object.entries(pe).reduce((Me,[He,ft])=>(null!=ft&&(Me[He]=ft),Me),{})}scheduleNavigation(pe,Me,He,ft,Se){if(this.disposed)return Promise.resolve(!1);let ye,ae,Pe;Se?(ye=Se.resolve,ae=Se.reject,Pe=Se.promise):Pe=new Promise((Bt,_n)=>{ye=Bt,ae=_n});const nt=this.pendingTasks.add();return On(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(nt))}),this.navigationTransitions.handleNavigationRequest({source:Me,restoredState:He,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:pe,extras:ft,resolve:ye,reject:ae,promise:Pe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pe.catch(Bt=>Promise.reject(Bt))}static{this.\u0275fac=function(Me){return new(Me||de)}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})(),Fi=(()=>{class de{constructor(pe,Me,He,ft,Se,ye){this.router=pe,this.route=Me,this.tabIndexAttribute=He,this.renderer=ft,this.el=Se,this.locationStrategy=ye,this.href=null,this.commands=null,this.onChanges=new A.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ae=Se.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ae||"area"===ae,this.isAnchorElement?this.subscription=pe.events.subscribe(Pe=>{Pe instanceof gt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(pe){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",pe)}ngOnChanges(pe){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(pe){null!=pe?(this.commands=Array.isArray(pe)?pe:[pe],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(pe,Me,He,ft,Se){const ye=this.urlTree;return!!(null===ye||this.isAnchorElement&&(0!==pe||Me||He||ft||Se||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(ye,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const pe=this.urlTree;this.href=null!==pe&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(pe)):null;const Me=null===this.href?null:(0,t.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Me)}applyAttributeValue(pe,Me){const He=this.renderer,ft=this.el.nativeElement;null!==Me?He.setAttribute(ft,pe,Me):He.removeAttribute(ft,pe)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(Me){return new(Me||de)(t.rXU(Ns),t.rXU(Ei),t.kS0("tabindex"),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(L.hb))}}static{this.\u0275dir=t.FsC({type:de,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Me,He){1&Me&&t.bIt("click",function(Se){return He.onClick(Se.button,Se.ctrlKey,Se.shiftKey,Se.altKey,Se.metaKey)}),2&Me&&t.BMQ("target",He.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[t.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",t.L39],skipLocationChange:[t.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",t.L39],replaceUrl:[t.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",t.L39],routerLink:"routerLink"},standalone:!0,features:[t.GFd,t.OA$]})}}return de})(),Di=(()=>{class de{get isActive(){return this._isActive}constructor(pe,Me,He,ft,Se){this.router=pe,this.element=Me,this.renderer=He,this.cdr=ft,this.link=Se,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new t.bkB,this.routerEventsSubscription=pe.events.subscribe(ye=>{ye instanceof gt&&this.update()})}ngAfterContentInit(){(0,h.of)(this.links.changes,(0,h.of)(null)).pipe((0,le.U)()).subscribe(pe=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const pe=[...this.links.toArray(),this.link].filter(Me=>!!Me).map(Me=>Me.onChanges);this.linkInputChangesSubscription=(0,e.H)(pe).pipe((0,le.U)()).subscribe(Me=>{this._isActive!==this.isLinkActive(this.router)(Me)&&this.update()})}set routerLinkActive(pe){const Me=Array.isArray(pe)?pe:pe.split(" ");this.classes=Me.filter(He=>!!He)}ngOnChanges(pe){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const pe=this.hasActiveLinks();this.classes.forEach(Me=>{pe?this.renderer.addClass(this.element.nativeElement,Me):this.renderer.removeClass(this.element.nativeElement,Me)}),pe&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==pe&&(this._isActive=pe,this.cdr.markForCheck(),this.isActiveChange.emit(pe))})}isLinkActive(pe){const Me=function Io(de){return!!de.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return He=>{const ft=He.urlTree;return!!ft&&pe.isActive(ft,Me)}}hasActiveLinks(){const pe=this.isLinkActive(this.router);return this.link&&pe(this.link)||this.links.some(pe)}static{this.\u0275fac=function(Me){return new(Me||de)(t.rXU(Ns),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(Fi,8))}}static{this.\u0275dir=t.FsC({type:de,selectors:[["","routerLinkActive",""]],contentQueries:function(Me,He,ft){if(1&Me&&t.wni(ft,Fi,5),2&Me){let Se;t.mGM(Se=t.lsd())&&(He.links=Se)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[t.OA$]})}}return de})();class Go{}let es=(()=>{class de{preload(pe,Me){return(0,h.of)(null)}static{this.\u0275fac=function(Me){return new(Me||de)}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})(),xs=(()=>{class de{constructor(pe,Me,He,ft,Se){this.router=pe,this.injector=He,this.preloadingStrategy=ft,this.loader=Se}setUpPreloading(){this.subscription=this.router.events.pipe((0,j.p)(pe=>pe instanceof gt),(0,k.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(pe,Me){const He=[];for(const ft of Me){ft.providers&&!ft._injector&&(ft._injector=(0,t.Ol2)(ft.providers,pe,`Route: ${ft.path}`));const Se=ft._injector??pe,ye=ft._loadedInjector??Se;(ft.loadChildren&&!ft._loadedRoutes&&void 0===ft.canLoad||ft.loadComponent&&!ft._loadedComponent)&&He.push(this.preloadConfig(Se,ft)),(ft.children||ft._loadedRoutes)&&He.push(this.processRoutes(ye,ft.children??ft._loadedRoutes))}return(0,e.H)(He).pipe((0,le.U)())}preloadConfig(pe,Me){return this.preloadingStrategy.preload(Me,()=>{let He;He=Me.loadChildren&&void 0===Me.canLoad?this.loader.loadChildren(pe,Me):(0,h.of)(null);const ft=He.pipe((0,U.Z)(Se=>null===Se?(0,h.of)(void 0):(Me._loadedRoutes=Se.routes,Me._loadedInjector=Se.injector,this.processRoutes(Se.injector??pe,Se.routes))));if(Me.loadComponent&&!Me._loadedComponent){const Se=this.loader.loadComponent(Me);return(0,e.H)([ft,Se]).pipe((0,le.U)())}return ft})}static{this.\u0275fac=function(Me){return new(Me||de)(t.KVO(Ns),t.KVO(t.Ql9),t.KVO(t.uvJ),t.KVO(Go),t.KVO(xt))}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}}return de})();const Oi=new t.nKC("");let go=(()=>{class de{constructor(pe,Me,He,ft,Se={}){this.urlSerializer=pe,this.transitions=Me,this.viewportScroller=He,this.zone=ft,this.options=Se,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,t.WQX)(t.uvJ),Se.scrollPositionRestoration||="disabled",Se.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(pe=>{pe instanceof lt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=pe.navigationTrigger,this.restoredId=pe.restoredState?pe.restoredState.navigationId:0):pe instanceof gt?(this.lastId=pe.id,this.scheduleScrollEvent(pe,this.urlSerializer.parse(pe.urlAfterRedirects).fragment)):pe instanceof Rn&&pe.code===Wt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(pe,this.urlSerializer.parse(pe.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(pe=>{pe instanceof to&&(pe.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(pe.position):pe.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(pe.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(pe,Me){var He=this;this.zone.runOutsideAngular((0,i.A)(function*(){yield new Promise(ft=>{setTimeout(()=>{ft()}),(0,t.mal)(()=>{ft()},{injector:He.environmentInjector})}),He.zone.run(()=>{He.transitions.events.next(new to(pe,"popstate"===He.lastSource?He.store[He.restoredId]:null,Me))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(Me){t.QTQ()}}static{this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac})}}return de})();function Eo(de,...Oe){return(0,t.EmA)([{provide:dn,multi:!0,useValue:de},[],{provide:Ei,useFactory:$o,deps:[Ns]},{provide:t.iLQ,multi:!0,useFactory:dl},Oe.map(pe=>pe.\u0275providers)])}function $o(de){return de.routerState.root}function ir(de,Oe){return{\u0275kind:de,\u0275providers:Oe}}function $s(de={}){return ir(4,[{provide:Oi,useFactory:()=>{const pe=(0,t.WQX)(L.Xr),Me=(0,t.WQX)(t.SKi),He=(0,t.WQX)(kn),ft=(0,t.WQX)(rn);return new go(ft,He,pe,Me,de)}}])}function dl(){const de=(0,t.WQX)(t.zZn);return Oe=>{const pe=de.get(t.o8S);if(Oe!==pe.components[0])return;const Me=de.get(Ns),He=de.get(ul);1===de.get(or)&&Me.initialNavigation(),de.get(To,null,t.$GK.Optional)?.setUpPreloading(),de.get(Oi,null,t.$GK.Optional)?.init(),Me.resetRootComponentType(pe.componentTypes[0]),He.closed||(He.next(),He.complete(),He.unsubscribe())}}const ul=new t.nKC("",{factory:()=>new A.B}),or=new t.nKC("",{providedIn:"root",factory:()=>1});function co(){return ir(2,[{provide:or,useValue:0},{provide:t.hnV,multi:!0,deps:[t.zZn],useFactory:Oe=>{const pe=Oe.get(L.hj,Promise.resolve());return()=>pe.then(()=>new Promise(Me=>{const He=Oe.get(Ns),ft=Oe.get(ul);On(He,()=>{Me(!0)}),Oe.get(kn).afterPreactivation=()=>(Me(!0),ft.closed?(0,h.of)(void 0):ft),He.initialNavigation()}))}}])}const To=new t.nKC("");function Ro(de){return ir(0,[{provide:To,useExisting:xs},{provide:Go,useExisting:de}])}function fd(de){return ir(5,[{provide:Ut,useValue:de}])}function Zs(de){return ir(9,[{provide:_i,useValue:qi},{provide:Ni,useValue:{skipNextTransition:!!de?.skipInitialTransition,...de}}])}const Qa=new t.nKC("ROUTER_FORROOT_GUARD"),Bi=[L.aZ,{provide:rn,useClass:Pn},Ns,Uo,{provide:Ei,useFactory:$o,deps:[Ns]},xt,[]];let Ms=(()=>{class de{constructor(pe){}static forRoot(pe,Me){return{ngModule:de,providers:[Bi,[],{provide:dn,multi:!0,useValue:pe},{provide:Qa,useFactory:si,deps:[[Ns,new t.Xx1,new t.kdw]]},{provide:Ut,useValue:Me||{}},Me?.useHash?{provide:L.hb,useClass:L.fw}:{provide:L.hb,useClass:L.Sm},{provide:Oi,useFactory:()=>{const de=(0,t.WQX)(L.Xr),Oe=(0,t.WQX)(t.SKi),pe=(0,t.WQX)(Ut),Me=(0,t.WQX)(kn),He=(0,t.WQX)(rn);return pe.scrollOffset&&de.setOffset(pe.scrollOffset),new go(He,Me,de,Oe,pe)}},Me?.preloadingStrategy?Ro(Me.preloadingStrategy).\u0275providers:[],Me?.initialNavigation?Wo(Me):[],Me?.bindToComponentInputs?ir(8,[Xr,{provide:tr,useExisting:Xr}]).\u0275providers:[],Me?.enableViewTransitions?Zs().\u0275providers:[],[{provide:fl,useFactory:dl},{provide:t.iLQ,multi:!0,useExisting:fl}]]}}static forChild(pe){return{ngModule:de,providers:[{provide:dn,multi:!0,useValue:pe}]}}static{this.\u0275fac=function(Me){return new(Me||de)(t.KVO(Qa,8))}}static{this.\u0275mod=t.$C({type:de})}static{this.\u0275inj=t.G2t({})}}return de})();function si(de){return"guarded"}function Wo(de){return["disabled"===de.initialNavigation?ir(3,[{provide:t.hnV,multi:!0,useFactory:()=>{const Oe=(0,t.WQX)(Ns);return()=>{Oe.setUpLocationChangeListener()}}},{provide:or,useValue:2}]).\u0275providers:[],"enabledBlocking"===de.initialNavigation?co().\u0275providers:[]]}const fl=new t.nKC("")},23632:(F,b,n)=>{"use strict";n.d(b,{Fv:()=>Ne,O7:()=>Ee,cz:()=>Gt});var i=n(54438),t=n(345),u=n(60177),e=n(49969);const h=mt=>({"ngx-gallery-active":mt});function m(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"div",1),i.bIt("click",function(ut){const un=i.eBV(Ce).index,rn=i.XpG();return i.Njj(rn.handleChange(ut,un))}),i.k0s()}if(2&mt){const Ce=Pt.index,Be=i.XpG();i.Y8G("ngClass",i.eq3(1,h,Ce===Be.active))}}const f=["previewImage"];function v(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-arrows",17),i.bIt("prevClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.showPrev())})("nextClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.showNext())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("prevDisabled",!Ce.canShowPrev())("nextDisabled",!Ce.canShowNext())("arrowPrevIcon",Ce.arrowPrevIcon)("arrowNextIcon",Ce.arrowNextIcon)}}function E(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",18),i.bIt("closeClick",function(ut){const un=i.eBV(Ce).$implicit,rn=i.XpG();return i.Njj(un.onClick(ut,rn.index))}),i.k0s()}if(2&mt){const Ce=Pt.$implicit;i.Y8G("icon",Ce.icon)("disabled",Ce.disabled)("titleText",Ce.titleText)}}function _(mt,Pt){if(1&mt&&(i.j41(0,"a",19),i.nrm(1,"i"),i.k0s()),2&mt){const Ce=i.XpG();i.Y8G("href",Ce.src,i.B4B),i.R7$(),i.ZvI("ngx-gallery-icon-content ",Ce.downloadIcon,"")}}function C(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",20),i.bIt("closeClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.zoomOut())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("icon",Ce.zoomOutIcon)("disabled",!Ce.canZoomOut())}}function S(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",20),i.bIt("closeClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.zoomIn())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("icon",Ce.zoomInIcon)("disabled",!Ce.canZoomIn())}}function R(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.rotateLeft())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("icon",Ce.rotateLeftIcon)}}function T(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.rotateRight())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("icon",Ce.rotateRightIcon)}}function A(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.manageFullscreen())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("icon","ngx-gallery-fullscreen "+Ce.fullscreenIcon)}}function p(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"img",21,0),i.bIt("click",function(ut){return i.eBV(Ce),i.Njj(ut.stopPropagation())})("mouseenter",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.imageMouseEnter())})("mouseleave",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.imageMouseLeave())})("mousedown",function(ut){i.eBV(Ce);const un=i.XpG();return i.Njj(un.mouseDownHandler(ut))})("touchstart",function(ut){i.eBV(Ce);const un=i.XpG();return i.Njj(un.mouseDownHandler(ut))}),i.k0s()}if(2&mt){const Ce=i.XpG();i.xc7("transform",Ce.getTransform())("left",Ce.positionLeft+"px")("top",Ce.positionTop+"px"),i.AVh("ngx-gallery-active",!Ce.loading)("animation",Ce.animation)("ngx-gallery-grab",Ce.canDragOnZoom()),i.Y8G("src",Ce.src,i.B4B)}}function L(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"video",22,0),i.bIt("click",function(ut){return i.eBV(Ce),i.Njj(ut.stopPropagation())})("mouseenter",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.imageMouseEnter())})("mouseleave",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.imageMouseLeave())})("mousedown",function(ut){i.eBV(Ce);const un=i.XpG();return i.Njj(un.mouseDownHandler(ut))})("touchstart",function(ut){i.eBV(Ce);const un=i.XpG();return i.Njj(un.mouseDownHandler(ut))}),i.nrm(2,"source",23),i.EFF(3," Your browser does not support the video tag. "),i.k0s()}if(2&mt){const Ce=i.XpG();i.xc7("transform",Ce.getTransform())("left",Ce.positionLeft+"px")("top",Ce.positionTop+"px"),i.AVh("ngx-gallery-active",!Ce.loading)("animation",Ce.animation)("ngx-gallery-grab",Ce.canDragOnZoom()),i.R7$(2),i.Y8G("src",Ce.src,i.B4B)}}function D(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-bullets",24),i.bIt("bulletChange",function(ut){i.eBV(Ce);const un=i.XpG();return i.Njj(un.showAtIndex(ut))}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("count",Ce.images.length)("active",Ce.index)}}function w(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"div",25),i.bIt("click",function(ut){return i.eBV(Ce),i.Njj(ut.stopPropagation())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("innerHTML",Ce.description,i.npT)}}const M=mt=>({"ngx-gallery-clickable":mt});function x(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(ut){const un=i.eBV(Ce).$implicit,rn=i.XpG(2).$implicit;return i.Njj(un.onClick(ut,rn.index))}),i.k0s()}if(2&mt){const Ce=Pt.$implicit;i.Y8G("icon",Ce.icon)("disabled",Ce.disabled)("titleText",Ce.titleText)}}function j(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"div",9),i.bIt("click",function(ut){return i.eBV(Ce),i.Njj(ut.stopPropagation())}),i.k0s()}if(2&mt){const Ce=i.XpG(2).$implicit,Be=i.XpG();i.Y8G("innerHTML",Be.descriptions[Ce.index],i.npT)}}function U(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"div",4),i.bIt("click",function(ut){i.eBV(Ce);const un=i.XpG().$implicit,rn=i.XpG();return i.Njj(rn.handleClick(ut,un.index))})("@animation.start",function(ut){i.eBV(Ce);const un=i.XpG(2);return i.Njj(un.onStart(ut))})("@animation.done",function(ut){i.eBV(Ce);const un=i.XpG(2);return i.Njj(un.onDone(ut))}),i.j41(1,"div",5),i.DNE(2,x,1,3,"ngx-gallery-action",6),i.k0s(),i.DNE(3,j,1,1,"div",7),i.k0s()}if(2&mt){const Ce=i.XpG().$implicit,Be=i.XpG();i.xc7("background-image",Be.getSafeUrl(Ce.src)),i.Y8G("ngClass",i.eq3(6,M,Be.clickable))("@animation",Be.action),i.R7$(2),i.Y8G("ngForOf",Be.actions),i.R7$(),i.Y8G("ngIf",Be.showDescription&&Be.descriptions[Ce.index])}}function $(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(ut){const un=i.eBV(Ce).$implicit,rn=i.XpG(2).$implicit;return i.Njj(un.onClick(ut,rn.index))}),i.k0s()}if(2&mt){const Ce=Pt.$implicit;i.Y8G("icon",Ce.icon)("disabled",Ce.disabled)("titleText",Ce.titleText)}}function k(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"div",9),i.bIt("click",function(ut){return i.eBV(Ce),i.Njj(ut.stopPropagation())}),i.k0s()}if(2&mt){const Ce=i.XpG(2).$implicit,Be=i.XpG();i.Y8G("innerHTML",Be.descriptions[Ce.index],i.npT)}}function K(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"div",4),i.bIt("click",function(ut){i.eBV(Ce);const un=i.XpG().$implicit,rn=i.XpG();return i.Njj(rn.handleClick(ut,un.index))})("@animation.start",function(ut){i.eBV(Ce);const un=i.XpG(2);return i.Njj(un.onStart(ut))})("@animation.done",function(ut){i.eBV(Ce);const un=i.XpG(2);return i.Njj(un.onDone(ut))}),i.j41(1,"video",10),i.nrm(2,"source",11),i.EFF(3," Your browser does not support the video tag. "),i.k0s(),i.j41(4,"div",5),i.DNE(5,$,1,3,"ngx-gallery-action",6),i.k0s(),i.DNE(6,k,1,1,"div",7),i.k0s()}if(2&mt){const Ce=i.XpG().$implicit,Be=i.XpG();i.xc7("background-image",Be.getSafeUrl(Ce.src)),i.Y8G("ngClass",i.eq3(7,M,Be.clickable))("@animation",Be.action),i.R7$(2),i.Y8G("src",Ce.src,i.B4B),i.R7$(3),i.Y8G("ngForOf",Be.actions),i.R7$(),i.Y8G("ngIf",Be.showDescription&&Be.descriptions[Ce.index])}}function X(mt,Pt){if(1&mt&&(i.qex(0),i.DNE(1,U,4,8,"div",3)(2,K,7,9,"div",3),i.bVm()),2&mt){const Ce=Pt.$implicit,Be=i.XpG();i.R7$(),i.Y8G("ngIf","image"===Ce.type&&Ce.index===Be._selectedIndex),i.R7$(),i.Y8G("ngIf","video"===Ce.type&&Ce.index===Be._selectedIndex)}}function G(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-bullets",12),i.bIt("bulletChange",function(ut){i.eBV(Ce);const un=i.XpG();return i.Njj(un.show(ut))}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("count",Ce.images.length)("active",Ce._selectedIndex)}}function q(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-arrows",13),i.bIt("prevClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.showPrev())})("nextClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.showNext())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.ZvI("ngx-gallery-image-size-",Ce.size,""),i.Y8G("prevDisabled",!Ce.canShowPrev())("nextDisabled",!Ce.canShowNext())("arrowPrevIcon",Ce.arrowPrevIcon)("arrowNextIcon",Ce.arrowNextIcon)}}const z=(mt,Pt)=>({"ngx-gallery-active":mt,"ngx-gallery-clickable":Pt});function te(mt,Pt){if(1&mt&&i.nrm(0,"div",9),2&mt){const Ce=i.XpG(),Be=Ce.$implicit,ut=Ce.index,un=i.XpG();i.xc7("background-image",un.getSafeUrl(Be)),i.Y8G("ngClass",i.l_i(3,z,ut===un.selectedIndex,un.clickable))}}function Z(mt,Pt){if(1&mt&&(i.j41(0,"div",10)(1,"video",11),i.nrm(2,"source",12),i.EFF(3," Your browser does not support the video tag. "),i.k0s()()),2&mt){const Ce=i.XpG(),Be=Ce.$implicit,ut=Ce.index,un=i.XpG();i.R7$(),i.Y8G("ngClass",i.l_i(2,z,ut===un.selectedIndex,un.clickable)),i.R7$(),i.Y8G("src",Be,i.B4B)}}function J(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-action",13),i.bIt("closeClick",function(ut){const un=i.eBV(Ce).$implicit,rn=i.XpG().index;return i.Njj(un.onClick(ut,rn))}),i.k0s()}if(2&mt){const Ce=Pt.$implicit;i.Y8G("icon",Ce.icon)("disabled",Ce.disabled)("titleText",Ce.titleText)}}function Q(mt,Pt){if(1&mt&&(i.j41(0,"div",14)(1,"span",15),i.EFF(2),i.k0s()()),2&mt){const Ce=i.XpG(2);i.R7$(2),i.SpI("+",Ce.remainingCountValue,"")}}function ee(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"a",3),i.bIt("click",function(ut){const un=i.eBV(Ce).index,rn=i.XpG();return i.Njj(rn.handleClick(ut,un))}),i.DNE(1,te,1,6,"div",4)(2,Z,4,5,"div",5),i.j41(3,"div",6),i.DNE(4,J,1,3,"ngx-gallery-action",7),i.k0s(),i.DNE(5,Q,3,1,"div",8),i.k0s()}if(2&mt){const Ce=Pt.$implicit,Be=Pt.index,ut=i.XpG();i.xc7("width",ut.getThumbnailWidth())("height",ut.getThumbnailHeight())("left",ut.getThumbnailLeft(Be))("top",ut.getThumbnailTop(Be)),i.Y8G("href",ut.hasLink(Be)?ut.links[Be]:"#",i.B4B)("target",ut.linkTarget)("ngClass",i.l_i(16,z,Be===ut.selectedIndex,ut.clickable)),i.BMQ("aria-label",ut.labels[Be]),i.R7$(),i.Y8G("ngIf","image"===ut.getFileType(Ce)),i.R7$(),i.Y8G("ngIf","video"===ut.getFileType(Ce)),i.R7$(2),i.Y8G("ngForOf",ut.actions),i.R7$(),i.Y8G("ngIf",ut.remainingCount&&ut.remainingCountValue&&Be===ut.rows*ut.columns-1)}}function le(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-arrows",16),i.bIt("prevClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.moveLeft())})("nextClick",function(){i.eBV(Ce);const ut=i.XpG();return i.Njj(ut.moveRight())}),i.k0s()}if(2&mt){const Ce=i.XpG();i.Y8G("prevDisabled",!Ce.canMoveLeft())("nextDisabled",!Ce.canMoveRight())("arrowPrevIcon",Ce.arrowPrevIcon)("arrowNextIcon",Ce.arrowNextIcon)}}const ne=()=>[];function fe(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-image",3),i.bIt("imageClick",function(ut){i.eBV(Ce);const un=i.XpG();return i.Njj(un.openPreview(ut))})("activeChange",function(ut){i.eBV(Ce);const un=i.XpG();return i.Njj(un.selectFromImage(ut))})("animating",function(ut){i.eBV(Ce);const un=i.XpG();return i.Njj(un.setAnimating(ut))}),i.k0s()}if(2&mt){const Ce=i.XpG();i.xc7("height",Ce.getImageHeight()),i.Y8G("images",Ce.mediumImages)("clickable",null==Ce.currentOptions?null:Ce.currentOptions.preview)("selectedIndex",Ce.selectedIndex)("arrows",null==Ce.currentOptions?null:Ce.currentOptions.imageArrows)("arrowsAutoHide",null==Ce.currentOptions?null:Ce.currentOptions.imageArrowsAutoHide)("arrowPrevIcon",null==Ce.currentOptions?null:Ce.currentOptions.arrowPrevIcon)("arrowNextIcon",null==Ce.currentOptions?null:Ce.currentOptions.arrowNextIcon)("swipe",null==Ce.currentOptions?null:Ce.currentOptions.imageSwipe)("animation",null==Ce.currentOptions?null:Ce.currentOptions.imageAnimation)("size",null==Ce.currentOptions?null:Ce.currentOptions.imageSize)("autoPlay",null==Ce.currentOptions?null:Ce.currentOptions.imageAutoPlay)("autoPlayInterval",null==Ce.currentOptions?null:Ce.currentOptions.imageAutoPlayInterval)("autoPlayPauseOnHover",null==Ce.currentOptions?null:Ce.currentOptions.imageAutoPlayPauseOnHover)("infinityMove",null==Ce.currentOptions?null:Ce.currentOptions.imageInfinityMove)("lazyLoading",null==Ce.currentOptions?null:Ce.currentOptions.lazyLoading)("actions",null==Ce.currentOptions?null:Ce.currentOptions.imageActions)("descriptions",Ce.descriptions)("showDescription",null==Ce.currentOptions?null:Ce.currentOptions.imageDescription)("bullets",null==Ce.currentOptions?null:Ce.currentOptions.imageBullets)}}function se(mt,Pt){if(1&mt){const Ce=i.RV6();i.j41(0,"ngx-gallery-thumbnails",4),i.bIt("activeChange",function(ut){i.eBV(Ce);const un=i.XpG();return i.Njj(un.selectFromThumbnails(ut))}),i.k0s()}if(2&mt){const Ce=i.XpG();i.xc7("margin-top",Ce.getThumbnailsMarginTop())("margin-bottom",Ce.getThumbnailsMarginBottom())("height",Ce.getThumbnailsHeight()),i.Y8G("images",Ce.smallImages)("isAnimating",Ce.isAnimating)("links",null!=Ce.currentOptions&&Ce.currentOptions.thumbnailsAsLinks?Ce.links:i.lJ4(28,ne))("labels",Ce.labels)("linkTarget",null==Ce.currentOptions?null:Ce.currentOptions.linkTarget)("selectedIndex",Ce.selectedIndex)("columns",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailsColumns)("rows",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailsRows)("margin",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailMargin)("arrows",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailsArrows)("arrowsAutoHide",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailsArrowsAutoHide)("arrowPrevIcon",null==Ce.currentOptions?null:Ce.currentOptions.arrowPrevIcon)("arrowNextIcon",null==Ce.currentOptions?null:Ce.currentOptions.arrowNextIcon)("clickable",(null==Ce.currentOptions?null:Ce.currentOptions.image)||(null==Ce.currentOptions?null:Ce.currentOptions.preview))("swipe",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailsSwipe)("size",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailSize)("moveSize",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailsMoveSize)("order",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailsOrder)("remainingCount",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailsRemainingCount)("lazyLoading",null==Ce.currentOptions?null:Ce.currentOptions.lazyLoading)("actions",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailActions)("ngClass",null==Ce.currentOptions?null:Ce.currentOptions.thumbnailClasses)}}let ce=(()=>{class mt{constructor(Ce){this.renderer=Ce,this.swipeHandlers=new Map}manageSwipe(Ce,Be,ut,un,rn){const Pn=this.getSwipeHandlers(ut);try{Ce&&!Pn?this.swipeHandlers.set(ut,[this.renderer.listen(Be.nativeElement,"swipeleft",()=>un()),this.renderer.listen(Be.nativeElement,"swiperight",()=>rn())]):!Ce&&Pn&&(Pn.map(yt=>yt()),this.removeSwipeHandlers(ut))}catch{}}validateUrl(Ce){return Ce.replace?Ce.replace(new RegExp(" ","g"),"%20").replace(new RegExp("'","g"),"%27"):Ce}getBackgroundUrl(Ce){return"url('"+this.validateUrl(Ce)+"')"}getFileType(Ce){const Be=Ce.split(".").pop().toLowerCase();return"avi"===Be||"flv"===Be||"wmv"===Be||"mov"===Be||"mp4"===Be?"video":"image"}getSwipeHandlers(Ce){return this.swipeHandlers.get(Ce)}removeSwipeHandlers(Ce){this.swipeHandlers.delete(Ce)}}return mt.\u0275fac=function(Ce){return new(Ce||mt)(i.KVO(i.sFG))},mt.\u0275prov=i.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})(),Te=(()=>{class mt{constructor(){this.prevClick=new i.bkB,this.nextClick=new i.bkB}handlePrevClick(){this.prevClick.emit()}handleNextClick(){this.nextClick.emit()}}return mt.\u0275fac=function(Ce){return new(Ce||mt)},mt.\u0275cmp=i.VBU({type:mt,selectors:[["ngx-gallery-arrows"]],inputs:{prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon"},outputs:{prevClick:"prevClick",nextClick:"nextClick"},decls:6,vars:10,consts:[[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-left"],["aria-hidden","true",1,"ngx-gallery-icon","ngx-gallery-arrow",3,"click"],[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-right"]],template:function(Ce,Be){1&Ce&&(i.j41(0,"div",0)(1,"div",1),i.bIt("click",function(){return Be.handlePrevClick()}),i.nrm(2,"i"),i.k0s()(),i.j41(3,"div",2)(4,"div",1),i.bIt("click",function(){return Be.handleNextClick()}),i.nrm(5,"i"),i.k0s()()),2&Ce&&(i.R7$(),i.AVh("ngx-gallery-disabled",Be.prevDisabled),i.R7$(),i.ZvI("ngx-gallery-icon-content ",Be.arrowPrevIcon,""),i.R7$(2),i.AVh("ngx-gallery-disabled",Be.nextDisabled),i.R7$(),i.ZvI("ngx-gallery-icon-content ",Be.arrowNextIcon,""))},styles:[".ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{position:absolute;height:100%;width:1px;display:table;table-layout:fixed}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]   .ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{z-index:10001}.ngx-gallery-arrow-left[_ngcontent-%COMP%]{left:0}.ngx-gallery-arrow-right[_ngcontent-%COMP%]{right:0}.ngx-gallery-arrow[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);cursor:pointer}.ngx-gallery-arrow.ngx-gallery-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default}.ngx-gallery-arrow-left[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{left:10px}.ngx-gallery-arrow-right[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{right:10px}"],changeDetection:0}),mt})(),be=(()=>{class mt{constructor(){this.disabled=!1,this.titleText="",this.closeClick=new i.bkB}handleClick(Ce){this.disabled||this.closeClick.emit(Ce),Ce.stopPropagation(),Ce.preventDefault()}}return mt.\u0275fac=function(Ce){return new(Ce||mt)},mt.\u0275cmp=i.VBU({type:mt,selectors:[["ngx-gallery-action"]],inputs:{icon:"icon",disabled:"disabled",titleText:"titleText"},outputs:{closeClick:"closeClick"},decls:2,vars:6,consts:[["aria-hidden","true",1,"ngx-gallery-icon",3,"click","title"]],template:function(Ce,Be){1&Ce&&(i.j41(0,"div",0),i.bIt("click",function(un){return Be.handleClick(un)}),i.nrm(1,"i"),i.k0s()),2&Ce&&(i.AVh("ngx-gallery-icon-disabled",Be.disabled),i.FS9("title",Be.titleText),i.R7$(),i.ZvI("ngx-gallery-icon-content ",Be.icon,""))},styles:[".ngx-gallery-icon[_ngcontent-%COMP%]{color:#fff;font-size:25px;position:absolute;z-index:2000;display:inline-block}.ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-icon[_ngcontent-%COMP%]   .ngx-gallery-icon-content[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),mt})(),me=(()=>{class mt{constructor(){this.active=0,this.bulletChange=new i.bkB}getBullets(){return Array(this.count)}handleChange(Ce,Be){this.bulletChange.emit(Be)}}return mt.\u0275fac=function(Ce){return new(Ce||mt)},mt.\u0275cmp=i.VBU({type:mt,selectors:[["ngx-gallery-bullets"]],inputs:{count:"count",active:"active"},outputs:{bulletChange:"bulletChange"},decls:1,vars:1,consts:[["class","ngx-gallery-bullet",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"ngx-gallery-bullet",3,"click","ngClass"]],template:function(Ce,Be){1&Ce&&i.DNE(0,m,1,3,"div",0),2&Ce&&i.Y8G("ngForOf",Be.getBullets())},dependencies:[u.Sq,u.YU],styles:["[_nghost-%COMP%]{position:absolute;z-index:2000;display:inline-flex;left:50%;transform:translate(-50%);bottom:0;padding:10px}.ngx-gallery-bullet[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;cursor:pointer;background:white}.ngx-gallery-bullet[_ngcontent-%COMP%]:not(:first-child){margin-left:5px}.ngx-gallery-bullet[_ngcontent-%COMP%]:hover, .ngx-gallery-bullet.ngx-gallery-active[_ngcontent-%COMP%]{background:black}"],changeDetection:0}),mt})(),re=(()=>{class mt{constructor(Ce,Be,ut,un,rn){this.sanitization=Ce,this.elementRef=Be,this.helperService=ut,this.renderer=un,this.changeDetectorRef=rn,this.showSpinner=!1,this.positionLeft=0,this.positionTop=0,this.zoomValue=1,this.loading=!1,this.rotateValue=0,this.index=0,this.previewOpen=new i.bkB,this.previewClose=new i.bkB,this.activeChange=new i.bkB,this.isOpen=!1,this.initialX=0,this.initialY=0,this.initialLeft=0,this.initialTop=0,this.isMove=!1}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1)}ngOnChanges(Ce){Ce.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"preview",()=>this.showNext(),()=>this.showPrev())}ngOnDestroy(){this.keyDownListener&&this.keyDownListener()}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0)}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1)}onKeyDown(Ce){this.isOpen&&(this.keyboardNavigation&&(this.isKeyboardPrev(Ce)?this.showPrev():this.isKeyboardNext(Ce)&&this.showNext()),this.closeOnEsc&&this.isKeyboardEsc(Ce)&&this.close())}open(Ce){this.previewOpen.emit(),this.index=Ce,this.isOpen=!0,this.show(!0),this.forceFullscreen&&this.manageFullscreen(),this.keyDownListener=this.renderer.listen("window","keydown",Be=>this.onKeyDown(Be))}close(){this.isOpen=!1;const Ce=this.previewImage.nativeElement;Ce.currentTime>0&&!Ce.paused&&!Ce.ended&&Ce.readyState>2&&Ce.pause(),this.closeFullscreen(),this.previewClose.emit(),this.stopAutoPlay(),this.keyDownListener&&this.keyDownListener()}imageMouseEnter(){this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}imageMouseLeave(){this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}startAutoPlay(){this.autoPlay&&(this.stopAutoPlay(),this.timer=setTimeout(()=>{this.showNext()||(this.index=-1,this.showNext())},this.autoPlayInterval))}stopAutoPlay(){this.timer&&clearTimeout(this.timer)}showAtIndex(Ce){this.index=Ce,this.show()}showNext(){return!!this.canShowNext()&&(this.index++,this.index===this.images.length&&(this.index=0),this.show(),!0)}showPrev(){this.canShowPrev()&&(this.index--,this.index<0&&(this.index=this.images.length-1),this.show())}canShowNext(){return!this.loading&&!!this.images&&(this.infinityMove||this.index<this.images.length-1)}canShowPrev(){return!this.loading&&!!this.images&&(this.infinityMove||this.index>0)}manageFullscreen(){if(this.fullscreen||this.forceFullscreen){const Ce=document;Ce.fullscreenElement||Ce.mozFullScreenElement||Ce.webkitFullscreenElement||Ce.msFullscreenElement?this.closeFullscreen():this.openFullscreen()}}getSafeUrl(Ce){return this.sanitization.bypassSecurityTrustUrl(Ce)}getFileType(Ce){return this.helperService.getFileType(Ce)}zoomIn(){this.canZoomIn()&&(this.zoomValue+=this.zoomStep,this.zoomValue>this.zoomMax&&(this.zoomValue=this.zoomMax))}zoomOut(){this.canZoomOut()&&(this.zoomValue-=this.zoomStep,this.zoomValue<this.zoomMin&&(this.zoomValue=this.zoomMin),this.zoomValue<=1&&this.resetPosition())}rotateLeft(){this.rotateValue-=90}rotateRight(){this.rotateValue+=90}getTransform(){return this.sanitization.bypassSecurityTrustStyle("scale("+this.zoomValue+") rotate("+this.rotateValue+"deg)")}canZoomIn(){return this.zoomValue<this.zoomMax}canZoomOut(){return this.zoomValue>this.zoomMin}canDragOnZoom(){return this.zoom&&this.zoomValue>1}mouseDownHandler(Ce){this.canDragOnZoom()&&(this.initialX=this.getClientX(Ce),this.initialY=this.getClientY(Ce),this.initialLeft=this.positionLeft,this.initialTop=this.positionTop,this.isMove=!0,Ce.preventDefault())}mouseUpHandler(Ce){this.isMove=!1}mouseMoveHandler(Ce){this.isMove&&(this.positionLeft=this.initialLeft+(this.getClientX(Ce)-this.initialX),this.positionTop=this.initialTop+(this.getClientY(Ce)-this.initialY))}getClientX(Ce){return Ce.touches&&Ce.touches.length?Ce.touches[0].clientX:Ce.clientX}getClientY(Ce){return Ce.touches&&Ce.touches.length?Ce.touches[0].clientY:Ce.clientY}resetPosition(){this.zoom&&(this.positionLeft=0,this.positionTop=0)}isKeyboardNext(Ce){return 39===Ce.keyCode}isKeyboardPrev(Ce){return 37===Ce.keyCode}isKeyboardEsc(Ce){return 27===Ce.keyCode}openFullscreen(){const Ce=document.documentElement;Ce.requestFullscreen?Ce.requestFullscreen():Ce.msRequestFullscreen?Ce.msRequestFullscreen():Ce.mozRequestFullScreen?Ce.mozRequestFullScreen():Ce.webkitRequestFullscreen&&Ce.webkitRequestFullscreen()}closeFullscreen(){if(this.isFullscreen()){const Ce=document;Ce.exitFullscreen?Ce.exitFullscreen():Ce.msExitFullscreen?Ce.msExitFullscreen():Ce.mozCancelFullScreen?Ce.mozCancelFullScreen():Ce.webkitExitFullscreen&&Ce.webkitExitFullscreen()}}isFullscreen(){const Ce=document;return Ce.fullscreenElement||Ce.webkitFullscreenElement||Ce.mozFullScreenElement||Ce.msFullscreenElement}show(Ce=!1){this.loading=!0,this.stopAutoPlay(),this.activeChange.emit(this.index),Ce||!this.animation?this._show():setTimeout(()=>this._show(),600)}_show(){this.zoomValue=1,this.rotateValue=0,this.resetPosition(),this.src=this.getSafeUrl(this.images[this.index]),this.type=this.getFileType(this.images[this.index]),this.srcIndex=this.index,this.description=this.descriptions[this.index],this.changeDetectorRef.markForCheck(),setTimeout(()=>{this.isLoaded(this.previewImage.nativeElement)||"video"===this.type?(this.loading=!1,this.startAutoPlay(),this.changeDetectorRef.markForCheck()):"video"===this.type||(setTimeout(()=>{this.loading&&(this.showSpinner=!0,this.changeDetectorRef.markForCheck())}),this.previewImage.nativeElement.onload=()=>{this.loading=!1,this.showSpinner=!1,this.previewImage.nativeElement.onload=null,this.startAutoPlay(),this.changeDetectorRef.markForCheck()})})}isLoaded(Ce){return!(!Ce.complete||typeof Ce.naturalWidth<"u"&&0===Ce.naturalWidth)}}return mt.\u0275fac=function(Ce){return new(Ce||mt)(i.rXU(t.up),i.rXU(i.aKT),i.rXU(ce),i.rXU(i.sFG),i.rXU(i.gRc))},mt.\u0275cmp=i.VBU({type:mt,selectors:[["ngx-gallery-preview"]],viewQuery:function(Ce,Be){if(1&Ce&&i.GBs(f,5),2&Ce){let ut;i.mGM(ut=i.lsd())&&(Be.previewImage=ut.first)}},hostBindings:function(Ce,Be){1&Ce&&i.bIt("mouseenter",function(){return Be.onMouseEnter()})("mouseleave",function(){return Be.onMouseLeave()})},inputs:{images:"images",descriptions:"descriptions",showDescription:"showDescription",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",fullscreen:"fullscreen",forceFullscreen:"forceFullscreen",closeOnClick:"closeOnClick",closeOnEsc:"closeOnEsc",keyboardNavigation:"keyboardNavigation",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",closeIcon:"closeIcon",fullscreenIcon:"fullscreenIcon",spinnerIcon:"spinnerIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",zoom:"zoom",zoomStep:"zoomStep",zoomMax:"zoomMax",zoomMin:"zoomMin",zoomInIcon:"zoomInIcon",zoomOutIcon:"zoomOutIcon",animation:"animation",actions:"actions",rotate:"rotate",rotateLeftIcon:"rotateLeftIcon",rotateRightIcon:"rotateRightIcon",download:"download",downloadIcon:"downloadIcon",bullets:"bullets"},outputs:{previewOpen:"previewOpen",previewClose:"previewClose",activeChange:"activeChange"},features:[i.OA$],decls:19,vars:18,consts:[["previewImage",""],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-preview-top"],[1,"ngx-gallery-preview-icons"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-icon","aria-hidden","true","download","",3,"href",4,"ngIf"],[3,"icon","disabled","closeClick",4,"ngIf"],[3,"icon","closeClick",4,"ngIf"],[3,"closeClick","icon"],[1,"ngx-spinner-wrapper","ngx-gallery-center"],["aria-hidden","true"],[1,"ngx-gallery-preview-wrapper",3,"click","mouseup","mousemove","touchend","touchmove"],[1,"ngx-gallery-preview-img-wrapper"],["class","ngx-gallery-preview-img ngx-gallery-center",3,"src","ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],["controls","","style","width: 100%; height: 100%;","class","ngx-gallery-preview-img ngx-gallery-center",3,"ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],[3,"count","active","bulletChange",4,"ngIf"],["class","ngx-gallery-preview-text",3,"innerHTML","click",4,"ngIf"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"],[3,"closeClick","icon","disabled","titleText"],["aria-hidden","true","download","",1,"ngx-gallery-icon",3,"href"],[3,"closeClick","icon","disabled"],[1,"ngx-gallery-preview-img","ngx-gallery-center",3,"click","mouseenter","mouseleave","mousedown","touchstart","src"],["controls","",1,"ngx-gallery-preview-img","ngx-gallery-center",2,"width","100%","height","100%",3,"click","mouseenter","mouseleave","mousedown","touchstart"],[3,"src"],[3,"bulletChange","count","active"],[1,"ngx-gallery-preview-text",3,"click","innerHTML"]],template:function(Ce,Be){1&Ce&&(i.DNE(0,v,1,4,"ngx-gallery-arrows",1),i.j41(1,"div",2)(2,"div",3),i.DNE(3,E,1,3,"ngx-gallery-action",4)(4,_,2,4,"a",5)(5,C,1,2,"ngx-gallery-action",6)(6,S,1,2,"ngx-gallery-action",6)(7,R,1,1,"ngx-gallery-action",7)(8,T,1,1,"ngx-gallery-action",7)(9,A,1,1,"ngx-gallery-action",7),i.j41(10,"ngx-gallery-action",8),i.bIt("closeClick",function(){return Be.close()}),i.k0s()()(),i.j41(11,"div",9),i.nrm(12,"i",10),i.k0s(),i.j41(13,"div",11),i.bIt("click",function(){return Be.closeOnClick&&Be.close()})("mouseup",function(un){return Be.mouseUpHandler(un)})("mousemove",function(un){return Be.mouseMoveHandler(un)})("touchend",function(un){return Be.mouseUpHandler(un)})("touchmove",function(un){return Be.mouseMoveHandler(un)}),i.j41(14,"div",12),i.DNE(15,p,2,13,"img",13)(16,L,4,13,"video",14)(17,D,1,2,"ngx-gallery-bullets",15),i.k0s(),i.DNE(18,w,1,1,"div",16),i.k0s()),2&Ce&&(i.Y8G("ngIf",Be.arrows),i.R7$(3),i.Y8G("ngForOf",Be.actions),i.R7$(),i.Y8G("ngIf",Be.download&&Be.src),i.R7$(),i.Y8G("ngIf",Be.zoom),i.R7$(),i.Y8G("ngIf",Be.zoom),i.R7$(),i.Y8G("ngIf",Be.rotate),i.R7$(),i.Y8G("ngIf",Be.rotate),i.R7$(),i.Y8G("ngIf",Be.fullscreen),i.R7$(),i.Y8G("icon","ngx-gallery-close "+Be.closeIcon),i.R7$(),i.AVh("ngx-gallery-active",Be.showSpinner),i.R7$(),i.ZvI("ngx-gallery-icon ngx-gallery-spinner ",Be.spinnerIcon,""),i.R7$(3),i.Y8G("ngIf",Be.src&&"image"===Be.type),i.R7$(),i.Y8G("ngIf",Be.src&&"video"===Be.type),i.R7$(),i.Y8G("ngIf",Be.bullets),i.R7$(),i.Y8G("ngIf",Be.showDescription&&Be.description))},dependencies:[Te,be,me,u.bT,u.Sq],styles:[".ngx-gallery-active[_nghost-%COMP%]{width:100%;height:100%;position:fixed;left:0;top:0;background:rgba(0,0,0,.7);z-index:10000;display:inline-block;font-size:50px!important}[_nghost-%COMP%]{display:none;font-size:50px!important}[_nghost-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{font-size:50px!important}ngx-gallery-bullets[_ngcontent-%COMP%]{height:5%;align-items:center;padding:0}.ngx-gallery-preview-img[_ngcontent-%COMP%]{opacity:0;max-width:90%;max-height:90%;-webkit-user-select:none;user-select:none;transition:transform .5s}.ngx-gallery-preview-img.animation[_ngcontent-%COMP%]{transition:opacity .5s linear,transform .5s}.ngx-gallery-preview-img.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-preview-img.ngx-gallery-grab[_ngcontent-%COMP%]{cursor:grab}.ngx-gallery-icon.ngx-gallery-spinner[_ngcontent-%COMP%]{font-size:50px;left:0;display:inline-block}[_nghost-%COMP%]   .ngx-gallery-preview-top[_ngcontent-%COMP%]{position:absolute;width:100%;-webkit-user-select:none;user-select:none;font-size:25px}.ngx-gallery-preview-icons[_ngcontent-%COMP%]{float:right}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon.ngx-gallery-icon-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.4}.ngx-spinner-wrapper[_ngcontent-%COMP%]{width:50px;height:50px;display:none}.ngx-spinner-wrapper.ngx-gallery-active[_ngcontent-%COMP%]{display:inline-block}.ngx-gallery-center[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;margin:auto;top:0}.ngx-gallery-preview-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;flex:0 1 auto;z-index:10}.ngx-gallery-preview-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-flow:column}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;position:relative}"],changeDetection:0}),mt})(),Ee=(()=>{class mt{}return mt.Fade="fade",mt.Slide="slide",mt.Rotate="rotate",mt.Zoom="zoom",mt})(),De=(()=>{class mt{constructor(Ce,Be,ut,un){this.sanitization=Ce,this.changeDetectorRef=Be,this.elementRef=ut,this.helperService=un,this.imageClick=new i.bkB,this.activeChange=new i.bkB,this.animating=new i.bkB,this.canChangeImage=!0,this.isAnimating=!1,this.changeDetectorRef=Be,this.action="none"}set selectedIndex(Ce){if(Ce>this._selectedIndex){let Be;this.animation===Ee.Slide?Be="slideRight":this.animation===Ee.Fade?Be="fade":this.animation===Ee.Rotate?Be="rotateRight":this.animation===Ee.Zoom&&(Be="zoom"),this.setAction(Be)}else if(Ce<this._selectedIndex){let Be;this.animation===Ee.Slide?Be="slideLeft":this.animation===Ee.Fade?Be="fade":this.animation===Ee.Rotate?Be="rotateLeft":this.animation===Ee.Zoom&&(Be="zoom"),this.setAction(Be)}this._selectedIndex=Ce}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1),this.autoPlay&&this.startAutoPlay()}ngOnChanges(Ce){Ce.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"image",()=>this.showNext(),()=>this.showPrev())}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0),this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1),this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}reset(Ce){this._selectedIndex=Ce,this.action="none"}getImages(){if(!this.images)return[];if(this.lazyLoading){const Ce=[this._selectedIndex],Be=this._selectedIndex-1;-1===Be&&this.infinityMove?Ce.push(this.images.length-1):Be>=0&&Ce.push(Be);const ut=this._selectedIndex+1;return ut===this.images.length&&this.infinityMove?Ce.push(0):ut<this.images.length&&Ce.push(ut),this.images.filter((un,rn)=>-1!==Ce.indexOf(rn))}return this.images}startAutoPlay(){this.stopAutoPlay(),this.timer=setInterval(()=>{this.showNext()||(this._selectedIndex=-1,this.showNext())},this.autoPlayInterval)}stopAutoPlay(){this.timer&&clearInterval(this.timer)}handleClick(Ce,Be){this.clickable&&(this.imageClick.emit(Be),Ce.stopPropagation(),Ce.preventDefault())}show(Ce){if(!this.isAnimating){if(Ce>this._selectedIndex){let Be;this.animation===Ee.Slide?Be="slideRight":this.animation===Ee.Fade?Be="fade":this.animation===Ee.Rotate?Be="rotateRight":this.animation===Ee.Zoom&&(Be="zoom"),this.setAction(Be)}else{let Be;this.animation===Ee.Slide?Be="slideLeft":this.animation===Ee.Fade?Be="fade":this.animation===Ee.Rotate?Be="rotateLeft":this.animation===Ee.Zoom&&(Be="zoom"),this.setAction(Be)}this._selectedIndex=Ce,this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setAction(Ce){this.action=Ce,this.changeDetectorRef.detectChanges()}showNext(){if(this.isAnimating)return!1;if(this.canShowNext()&&this.canChangeImage){let Ce;return this.animation===Ee.Slide?Ce="slideRight":this.animation===Ee.Fade?Ce="fade":this.animation===Ee.Rotate?Ce="rotateRight":this.animation===Ee.Zoom&&(Ce="zoom"),this.setAction(Ce),this._selectedIndex++,this._selectedIndex===this.images.length&&(this._selectedIndex=0),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout(),!0}return!1}showPrev(){if(!this.isAnimating&&this.canShowPrev()&&this.canChangeImage){let Ce;this.animation===Ee.Slide?Ce="slideLeft":this.animation===Ee.Fade?Ce="fade":this.animation===Ee.Rotate?Ce="rotateLeft":this.animation===Ee.Zoom&&(Ce="zoom"),this.setAction(Ce),this._selectedIndex--,this._selectedIndex<0&&(this._selectedIndex=this.images.length-1),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setChangeTimeout(){this.canChangeImage=!1;let Ce=1e3;(this.animation===Ee.Slide||this.animation===Ee.Fade)&&(Ce=500),setTimeout(()=>{this.canChangeImage=!0},Ce)}canShowNext(){return!!this.images&&(this.infinityMove||this._selectedIndex<this.images.length-1)}canShowPrev(){return!!this.images&&(this.infinityMove||this._selectedIndex>0)}getSafeUrl(Ce){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(Ce.toString()))}getFileType(Ce){return this.helperService.getFileType(Ce)}onStart(Ce){this.isAnimating=!0,this.animating.emit(!0)}onDone(Ce){this.isAnimating=!1,this.animating.emit(!1)}}return mt.\u0275fac=function(Ce){return new(Ce||mt)(i.rXU(t.up),i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(ce))},mt.\u0275cmp=i.VBU({type:mt,selectors:[["ngx-gallery-image"]],hostBindings:function(Ce,Be){1&Ce&&i.bIt("mouseenter",function(){return Be.onMouseEnter()})("mouseleave",function(){return Be.onMouseLeave()})},inputs:{images:"images",clickable:"clickable",selectedIndex:"selectedIndex",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",animation:"animation",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",lazyLoading:"lazyLoading",actions:"actions",descriptions:"descriptions",showDescription:"showDescription",bullets:"bullets"},outputs:{imageClick:"imageClick",activeChange:"activeChange",animating:"animating"},features:[i.OA$],decls:4,vars:7,consts:[[4,"ngFor","ngForOf"],[3,"count","active","bulletChange",4,"ngIf"],[3,"class","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],["class","ngx-gallery-image",3,"ngClass","background-image","click",4,"ngIf"],[1,"ngx-gallery-image",3,"click","ngClass"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-image-text",3,"innerHTML","click",4,"ngIf"],[3,"closeClick","icon","disabled","titleText"],[1,"ngx-gallery-image-text",3,"click","innerHTML"],["controls","",2,"width","100%","height","100%","background","#000"],[3,"src"],[3,"bulletChange","count","active"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"]],template:function(Ce,Be){1&Ce&&(i.j41(0,"div"),i.DNE(1,X,3,2,"ng-container",0)(2,G,1,2,"ngx-gallery-bullets",1)(3,q,1,7,"ngx-gallery-arrows",2),i.k0s()),2&Ce&&(i.STu("ngx-gallery-image-wrapper ngx-gallery-animation-",Be.animation," ngx-gallery-image-size-",Be.size,""),i.R7$(),i.Y8G("ngForOf",Be.getImages()),i.R7$(),i.Y8G("ngIf",Be.bullets),i.R7$(),i.Y8G("ngIf",Be.arrows))},dependencies:[be,me,Te,u.Sq,u.bT,u.YU],styles:["[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-image-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;overflow:hidden}.ngx-gallery-image[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;height:100%;width:100%;position:absolute;top:0}.ngx-gallery-image-size-cover[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-image-size-contain[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{left:0;opacity:1;transition:.5s ease-in-out}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-animation-rotate[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1) rotate(0);left:0;opacity:1}.ngx-gallery-animation-zoom[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1);left:0;opacity:1}.ngx-gallery-image-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;position:absolute;bottom:0;z-index:10}"],data:{animation:[(0,e.hZ)("animation",[(0,e.wk)("slideRight",(0,e.iF)({})),(0,e.wk)("slideLeft",(0,e.iF)({})),(0,e.wk)("fade",(0,e.iF)({})),(0,e.wk)("rotateLeft",(0,e.iF)({})),(0,e.wk)("rotateRight",(0,e.iF)({})),(0,e.wk)("zoom",(0,e.iF)({})),(0,e.kY)("slideRight => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(-100%)"}))]),(0,e.kY)("void => slideRight",[(0,e.iF)({transform:"translateX(100%)"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(0)"}))]),(0,e.kY)("slideLeft => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(100%)"}))]),(0,e.kY)("void => slideLeft",[(0,e.iF)({transform:"translateX(-100%)"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(0)"}))]),(0,e.kY)("fade => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({opacity:"0"}))]),(0,e.kY)("void => fade",[(0,e.iF)({opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({opacity:"1"}))]),(0,e.kY)("rotateLeft => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}))]),(0,e.kY)("void => rotateLeft",[(0,e.iF)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,e.kY)("rotateRight => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}))]),(0,e.kY)("void => rotateRight",[(0,e.iF)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,e.kY)("zoom => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(2.5,2.5)",opacity:"0"}))]),(0,e.kY)("void => zoom",[(0,e.iF)({transform:"scale(2.5,2.5)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1)",opacity:"1"}))])])]},changeDetection:0}),mt})(),tt=(()=>{class mt{}return mt.Column=1,mt.Row=2,mt.Page=3,mt})(),ht=(()=>{class mt{constructor(Ce,Be,ut){this.sanitization=Ce,this.elementRef=Be,this.helperService=ut,this.minStopIndex=0,this.activeChange=new i.bkB,this.index=0}ngOnChanges(Ce){Ce.selectedIndex&&this.validateIndex(),Ce.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"thumbnails",()=>this.moveRight(),()=>this.moveLeft()),this.images&&(this.remainingCountValue=this.images.length-this.rows*this.columns)}onMouseEnter(){this.mouseenter=!0}onMouseLeave(){this.mouseenter=!1}reset(Ce){this.selectedIndex=Ce,this.setDefaultPosition(),this.index=0,this.validateIndex()}getImages(){if(!this.images)return[];if(this.remainingCount)return this.images.slice(0,this.rows*this.columns);if(this.lazyLoading&&this.order!==tt.Row){let Ce=0;return this.order===tt.Column?Ce=(this.index+this.columns+this.moveSize)*this.rows:this.order===tt.Page&&(Ce=this.index+this.columns*this.rows*2),Ce<=this.minStopIndex?Ce=this.minStopIndex:this.minStopIndex=Ce,this.images.slice(0,Ce)}return this.images}handleClick(Ce,Be){!this.hasLink(Be)&&!this.isAnimating&&(this.selectedIndex=Be,this.activeChange.emit(Be)),Ce.stopPropagation(),Ce.preventDefault()}hasLink(Ce){return!!(this.links&&this.links.length&&this.links[Ce])}moveRight(){if(this.canMoveRight()){this.index+=this.moveSize;const Ce=this.getMaxIndex()-this.columns;this.index>Ce&&(this.index=Ce),this.setThumbnailsPosition()}}moveLeft(){this.canMoveLeft()&&(this.index-=this.moveSize,this.index<0&&(this.index=0),this.setThumbnailsPosition())}canMoveRight(){return this.index+this.columns<this.getMaxIndex()}canMoveLeft(){return 0!==this.index}getThumbnailLeft(Ce){let Be;return Be=this.order===tt.Column?Math.floor(Ce/this.rows):this.order===tt.Page?Ce%this.columns+Math.floor(Ce/(this.rows*this.columns))*this.columns:this.order===tt.Row&&this.remainingCount?Ce%this.columns:Ce%Math.ceil(this.images.length/this.rows),this.getThumbnailPosition(Be,this.columns)}getThumbnailTop(Ce){let Be;return Be=this.order===tt.Column?Ce%this.rows:this.order===tt.Page?Math.floor(Ce/this.columns)-Math.floor(Ce/(this.rows*this.columns))*this.rows:this.order===tt.Row&&this.remainingCount?Math.floor(Ce/this.columns):Math.floor(Ce/Math.ceil(this.images.length/this.rows)),this.getThumbnailPosition(Be,this.rows)}getThumbnailWidth(){return this.getThumbnailDimension(this.columns)}getThumbnailHeight(){return this.getThumbnailDimension(this.rows)}setThumbnailsPosition(){this.thumbnailsLeft=-100/this.columns*this.index+"%",this.thumbnailsMarginLeft=-(this.margin-(this.columns-1)*this.margin/this.columns)*this.index+"px"}setDefaultPosition(){this.thumbnailsLeft="0px",this.thumbnailsMarginLeft="0px"}canShowArrows(){return!this.remainingCount&&this.arrows&&this.images&&this.images.length>this.getVisibleCount()&&(!this.arrowsAutoHide||this.mouseenter)}validateIndex(){if(this.images){let Ce;if(Ce=this.order===tt.Column?Math.floor(this.selectedIndex/this.rows):this.selectedIndex%Math.ceil(this.images.length/this.rows),this.remainingCount&&(Ce=0),Ce<this.index||Ce>=this.index+this.columns){const Be=this.getMaxIndex()-this.columns;this.index=Ce>Be?Be:Ce,this.setThumbnailsPosition()}}}getSafeUrl(Ce){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(Ce.toString()))}getFileType(Ce){return this.helperService.getFileType(Ce.toString())}getThumbnailPosition(Ce,Be){return this.getSafeStyle("calc("+100/Be*Ce+"% + "+(this.margin-(Be-1)*this.margin/Be)*Ce+"px)")}getThumbnailDimension(Ce){return this.getSafeStyle(0!==this.margin?"calc("+100/Ce+"% - "+(Ce-1)*this.margin/Ce+"px)":"calc("+100/Ce+"% + 1px)")}getMaxIndex(){if(this.order===tt.Page){let Ce=Math.floor(this.images.length/this.getVisibleCount())*this.columns;return this.images.length%this.getVisibleCount()>this.columns?Ce+=this.columns:Ce+=this.images.length%this.getVisibleCount(),Ce}return Math.ceil(this.images.length/this.rows)}getVisibleCount(){return this.columns*this.rows}getSafeStyle(Ce){return this.sanitization.bypassSecurityTrustStyle(Ce)}}return mt.\u0275fac=function(Ce){return new(Ce||mt)(i.rXU(t.up),i.rXU(i.aKT),i.rXU(ce))},mt.\u0275cmp=i.VBU({type:mt,selectors:[["ngx-gallery-thumbnails"]],hostBindings:function(Ce,Be){1&Ce&&i.bIt("mouseenter",function(){return Be.onMouseEnter()})("mouseleave",function(){return Be.onMouseLeave()})},inputs:{images:"images",isAnimating:"isAnimating",links:"links",labels:"labels",linkTarget:"linkTarget",columns:"columns",rows:"rows",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",margin:"margin",selectedIndex:"selectedIndex",clickable:"clickable",swipe:"swipe",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",moveSize:"moveSize",order:"order",remainingCount:"remainingCount",lazyLoading:"lazyLoading",actions:"actions"},outputs:{activeChange:"activeChange"},features:[i.OA$],decls:4,vars:9,consts:[[1,"ngx-gallery-thumbnails"],["class","ngx-gallery-thumbnail",3,"href","target","width","height","left","top","ngClass","click",4,"ngFor","ngForOf"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-thumbnail",3,"click","href","target","ngClass"],["class","ngx-gallery-thumbnail","style","width: 100%; height: 100%; position:absolute;",3,"background-image","ngClass",4,"ngIf"],["class","ngx-gallery-thumbnail-video",4,"ngIf"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-remaining-count-overlay",4,"ngIf"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute",3,"ngClass"],[1,"ngx-gallery-thumbnail-video"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute","left","0","background","#000",3,"ngClass"],[3,"src"],[3,"closeClick","icon","disabled","titleText"],[1,"ngx-gallery-remaining-count-overlay"],[1,"ngx-gallery-remaining-count"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"]],template:function(Ce,Be){1&Ce&&(i.j41(0,"div")(1,"div",0),i.DNE(2,ee,6,19,"a",1),i.k0s()(),i.DNE(3,le,1,4,"ngx-gallery-arrows",2)),2&Ce&&(i.ZvI("ngx-gallery-thumbnails-wrapper ngx-gallery-thumbnail-size-",Be.size,""),i.R7$(),i.xc7("transform","translateX("+Be.thumbnailsLeft+")")("margin-left",Be.thumbnailsMarginLeft),i.R7$(),i.Y8G("ngForOf",Be.getImages()),i.R7$(),i.Y8G("ngIf",Be.canShowArrows()))},dependencies:[be,Te,u.Sq,u.YU,u.bT],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-thumbnails-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}.ngx-gallery-thumbnails[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;left:0;transform:translate(0);transition:transform .5s ease-in-out;will-change:transform}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{position:absolute;height:100%;background-position:center;background-repeat:no-repeat;text-decoration:none;border:1px double black}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .ngx-gallery-thumbnail-video[_ngcontent-%COMP%]:after{content:"\\f144";display:block;position:absolute;background:#0000;height:100%;width:100%;left:0;top:calc(50% - 20px);font-size:40px;color:#fff;margin:0;padding:0;font-family:fontawesome;text-shadow:0px 4px 3px rgba(0,0,0,.4),0px 8px 13px rgba(0,0,0,.1),0px 18px 23px rgba(0,0,0,.1)}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{background-size:cover;height:100%}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail.ngx-gallery-active[_ngcontent-%COMP%]{border:1px double #cc4548}.ngx-gallery-thumbnail-size-cover[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-thumbnail-size-contain[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-remaining-count-overlay[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;background-color:#0006}.ngx-gallery-remaining-count[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:30px}'],changeDetection:0}),mt})();class Fe{constructor(Pt){this.icon=Pt.icon,this.disabled=!!Pt.disabled&&Pt.disabled,this.titleText=Pt.titleText?Pt.titleText:"",this.onClick=Pt.onClick}}let Et=(()=>{class mt{}return mt.ThumbnailsTop="thumbnails-top",mt.ThumbnailsBottom="thumbnails-bottom",mt})(),Ye=(()=>{class mt{}return mt.Cover="cover",mt.Contain="contain",mt})();class pt{constructor(Pt){const Ce=void 0!==Pt.breakpoint;function Be(ut,un){return Pt&&(void 0!==ut||Ce)?ut:un}this.breakpoint=Be(Pt.breakpoint,void 0),this.width=Be(Pt.width,"500px"),this.height=Be(Pt.height,"400px"),this.fullWidth=Be(Pt.fullWidth,!1),this.layout=Be(Pt.layout,Et.ThumbnailsBottom),this.startIndex=Be(Pt.startIndex,0),this.linkTarget=Be(Pt.linkTarget,"_blank"),this.lazyLoading=Be(Pt.lazyLoading,!0),this.image=Be(Pt.image,!0),this.imagePercent=Be(Pt.imagePercent,75),this.imageArrows=Be(Pt.imageArrows,!0),this.imageArrowsAutoHide=Be(Pt.imageArrowsAutoHide,!1),this.imageSwipe=Be(Pt.imageSwipe,!1),this.imageAnimation=Be(Pt.imageAnimation,Ee.Fade),this.imageSize=Be(Pt.imageSize,Ye.Cover),this.imageAutoPlay=Be(Pt.imageAutoPlay,!1),this.imageAutoPlayInterval=Be(Pt.imageAutoPlayInterval,2e3),this.imageAutoPlayPauseOnHover=Be(Pt.imageAutoPlayPauseOnHover,!1),this.imageInfinityMove=Be(Pt.imageInfinityMove,!1),Pt&&Pt.imageActions&&Pt.imageActions.length&&(Pt.imageActions=Pt.imageActions.map(ut=>new Fe(ut))),this.imageActions=Be(Pt.imageActions,[]),this.imageDescription=Be(Pt.imageDescription,!1),this.imageBullets=Be(Pt.imageBullets,!1),this.thumbnails=Be(Pt.thumbnails,!0),this.thumbnailsColumns=Be(Pt.thumbnailsColumns,4),this.thumbnailsRows=Be(Pt.thumbnailsRows,1),this.thumbnailsPercent=Be(Pt.thumbnailsPercent,25),this.thumbnailsMargin=Be(Pt.thumbnailsMargin,10),this.thumbnailsArrows=Be(Pt.thumbnailsArrows,!0),this.thumbnailsArrowsAutoHide=Be(Pt.thumbnailsArrowsAutoHide,!1),this.thumbnailsSwipe=Be(Pt.thumbnailsSwipe,!1),this.thumbnailsMoveSize=Be(Pt.thumbnailsMoveSize,1),this.thumbnailsOrder=Be(Pt.thumbnailsOrder,tt.Column),this.thumbnailsRemainingCount=Be(Pt.thumbnailsRemainingCount,!1),this.thumbnailsAsLinks=Be(Pt.thumbnailsAsLinks,!1),this.thumbnailsAutoHide=Be(Pt.thumbnailsAutoHide,!1),this.thumbnailMargin=Be(Pt.thumbnailMargin,10),this.thumbnailSize=Be(Pt.thumbnailSize,Ye.Cover),Pt&&Pt.thumbnailActions&&Pt.thumbnailActions.length&&(Pt.thumbnailActions=Pt.thumbnailActions.map(ut=>new Fe(ut))),this.thumbnailActions=Be(Pt.thumbnailActions,[]),this.thumbnailClasses=Be(Pt.thumbnailClasses,[]),this.preview=Be(Pt.preview,!0),this.previewDescription=Be(Pt.previewDescription,!0),this.previewArrows=Be(Pt.previewArrows,!0),this.previewArrowsAutoHide=Be(Pt.previewArrowsAutoHide,!1),this.previewSwipe=Be(Pt.previewSwipe,!1),this.previewFullscreen=Be(Pt.previewFullscreen,!1),this.previewForceFullscreen=Be(Pt.previewForceFullscreen,!1),this.previewCloseOnClick=Be(Pt.previewCloseOnClick,!1),this.previewCloseOnEsc=Be(Pt.previewCloseOnEsc,!1),this.previewKeyboardNavigation=Be(Pt.previewKeyboardNavigation,!1),this.previewAnimation=Be(Pt.previewAnimation,!0),this.previewAutoPlay=Be(Pt.previewAutoPlay,!1),this.previewAutoPlayInterval=Be(Pt.previewAutoPlayInterval,2e3),this.previewAutoPlayPauseOnHover=Be(Pt.previewAutoPlayPauseOnHover,!1),this.previewInfinityMove=Be(Pt.previewInfinityMove,!1),this.previewZoom=Be(Pt.previewZoom,!1),this.previewZoomStep=Be(Pt.previewZoomStep,.1),this.previewZoomMax=Be(Pt.previewZoomMax,2),this.previewZoomMin=Be(Pt.previewZoomMin,.5),this.previewRotate=Be(Pt.previewRotate,!1),this.previewDownload=Be(Pt.previewDownload,!1),this.previewCustom=Be(Pt.previewCustom,void 0),this.previewBullets=Be(Pt.previewBullets,!1),this.arrowPrevIcon=Be(Pt.arrowPrevIcon,"fa fa-arrow-circle-left"),this.arrowNextIcon=Be(Pt.arrowNextIcon,"fa fa-arrow-circle-right"),this.closeIcon=Be(Pt.closeIcon,"fa fa-times-circle"),this.fullscreenIcon=Be(Pt.fullscreenIcon,"fa fa-arrows-alt"),this.spinnerIcon=Be(Pt.spinnerIcon,"fa fa-spinner fa-pulse fa-3x fa-fw"),this.zoomInIcon=Be(Pt.zoomInIcon,"fa fa-search-plus"),this.zoomOutIcon=Be(Pt.zoomOutIcon,"fa fa-search-minus"),this.rotateLeftIcon=Be(Pt.rotateLeftIcon,"fa fa-undo"),this.rotateRightIcon=Be(Pt.rotateRightIcon,"fa fa-repeat"),this.downloadIcon=Be(Pt.downloadIcon,"fa fa-arrow-circle-down"),Pt&&Pt.actions&&Pt.actions.length&&(Pt.actions=Pt.actions.map(ut=>new Fe(ut))),this.actions=Be(Pt.actions,[])}}class Mt{constructor(Pt){this.src=Pt.src,this.type=Pt.type,this.index=Pt.index}}let Ne=(()=>{class mt{constructor(Ce,Be){this.myElement=Ce,this.helperService=Be,this.options=[{}],this.imagesReady=new i.bkB,this.change=new i.bkB,this.previewOpen=new i.bkB,this.previewClose=new i.bkB,this.previewChange=new i.bkB,this.oldImagesLength=0,this.selectedIndex=0,this.breakpoint=void 0,this.prevBreakpoint=void 0}ngOnInit(){this.options=this.options.map(Ce=>new pt(Ce)),this.sortOptions(),this.setBreakpoint(),this.setOptions(),this.checkFullWidth(),this.currentOptions&&(this.selectedIndex=this.currentOptions.startIndex)}ngDoCheck(){(void 0!==this.images&&this.images.length!==this.oldImagesLength||this.images!==this.oldImages)&&(this.oldImagesLength=this.images.length,this.oldImages=this.images,this.setOptions(),this.setImages(),this.images&&this.images.length&&this.imagesReady.emit(),this.image&&this.image.reset(this.currentOptions.startIndex),this.currentOptions.thumbnailsAutoHide&&this.currentOptions.thumbnails&&this.images.length<=1&&(this.currentOptions.thumbnails=!1,this.currentOptions.imageArrows=!1),this.resetThumbnails())}ngAfterViewInit(){this.checkFullWidth()}onResize(){this.setBreakpoint(),this.prevBreakpoint!==this.breakpoint&&(this.setOptions(),this.resetThumbnails()),this.currentOptions&&this.currentOptions.fullWidth&&(this.fullWidthTimeout&&clearTimeout(this.fullWidthTimeout),this.fullWidthTimeout=setTimeout(()=>{this.checkFullWidth()},200))}getImageHeight(){return this.currentOptions&&this.currentOptions.thumbnails?this.currentOptions.imagePercent+"%":"100%"}getThumbnailsHeight(){return this.currentOptions&&this.currentOptions.image?"calc("+this.currentOptions.thumbnailsPercent+"% - "+this.currentOptions.thumbnailsMargin+"px)":"100%"}getThumbnailsMarginTop(){return this.currentOptions&&this.currentOptions.layout===Et.ThumbnailsBottom?this.currentOptions.thumbnailsMargin+"px":"0px"}getThumbnailsMarginBottom(){return this.currentOptions&&this.currentOptions.layout===Et.ThumbnailsTop?this.currentOptions.thumbnailsMargin+"px":"0px"}openPreview(Ce){this.currentOptions.previewCustom?this.currentOptions.previewCustom(Ce):(this.previewEnabled=!0,this.preview.open(Ce))}onPreviewOpen(){this.previewOpen.emit(),this.image&&this.image.autoPlay&&this.image.stopAutoPlay()}onPreviewClose(){this.previewEnabled=!1,this.previewClose.emit(),this.image&&this.image.autoPlay&&this.image.startAutoPlay()}selectFromImage(Ce){this.select(Ce)}selectFromThumbnails(Ce){this.select(Ce),this.currentOptions&&this.currentOptions.thumbnails&&this.currentOptions.preview&&(!this.currentOptions.image||this.currentOptions.thumbnailsRemainingCount)&&this.openPreview(this.selectedIndex)}show(Ce){this.select(Ce)}showNext(){this.image.showNext()}showPrev(){this.image.showPrev()}canShowNext(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex<this.images.length-1))}canShowPrev(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex>0))}previewSelect(Ce){this.previewChange.emit({index:Ce,image:this.images[Ce]})}moveThumbnailsRight(){this.thumbnails.moveRight()}moveThumbnailsLeft(){this.thumbnails.moveLeft()}canMoveThumbnailsRight(){return this.thumbnails.canMoveRight()}canMoveThumbnailsLeft(){return this.thumbnails.canMoveLeft()}resetThumbnails(){this.thumbnails&&this.thumbnails.reset(this.currentOptions.startIndex)}select(Ce){this.selectedIndex=Ce,this.change.emit({index:Ce,image:this.images[Ce]})}checkFullWidth(){this.currentOptions&&this.currentOptions.fullWidth&&(this.width=document.body.clientWidth+"px",this.left="translateX("+-(document.body.clientWidth-this.myElement.nativeElement.parentNode.innerWidth)/2+"px)")}setImages(){this.images.forEach(Ce=>Ce.type=this.helperService.getFileType(Ce.url||Ce.big||Ce.medium||Ce.small||"")),this.smallImages=this.images.map(Ce=>Ce.small),this.mediumImages=this.images.map((Ce,Be)=>new Mt({src:Ce.medium,type:Ce.type,index:Be})),this.bigImages=this.images.map(Ce=>Ce.big),this.descriptions=this.images.map(Ce=>Ce.description),this.links=this.images.map(Ce=>Ce.url),this.labels=this.images.map(Ce=>Ce.label)}setBreakpoint(){let Ce;this.prevBreakpoint=this.breakpoint,typeof window<"u"&&(Ce=this.options.filter(Be=>Be.breakpoint>=window.innerWidth).map(Be=>Be.breakpoint)),this.breakpoint=Ce&&Ce.length?Ce.pop():void 0}sortOptions(){this.options=[...this.options.filter(Ce=>void 0===Ce.breakpoint),...this.options.filter(Ce=>void 0!==Ce.breakpoint).sort((Ce,Be)=>Be.breakpoint-Ce.breakpoint)]}setOptions(){this.currentOptions=new pt({}),this.options.filter(Ce=>void 0===Ce.breakpoint||Ce.breakpoint>=this.breakpoint).map(Ce=>this.combineOptions(this.currentOptions,Ce)),this.width=this.currentOptions.width,this.height=this.currentOptions.height}combineOptions(Ce,Be){Object.keys(Be).map(ut=>Ce[ut]=void 0!==Be[ut]?Be[ut]:Ce[ut])}setAnimating(Ce){this.isAnimating=Ce}}return mt.\u0275fac=function(Ce){return new(Ce||mt)(i.rXU(i.aKT),i.rXU(ce))},mt.\u0275cmp=i.VBU({type:mt,selectors:[["ngx-gallery"]],viewQuery:function(Ce,Be){if(1&Ce&&(i.GBs(re,5),i.GBs(De,5),i.GBs(ht,5)),2&Ce){let ut;i.mGM(ut=i.lsd())&&(Be.preview=ut.first),i.mGM(ut=i.lsd())&&(Be.image=ut.first),i.mGM(ut=i.lsd())&&(Be.thumbnails=ut.first)}},hostVars:6,hostBindings:function(Ce,Be){1&Ce&&i.bIt("resize",function(){return Be.onResize()},!1,i.tSv),2&Ce&&i.xc7("width",Be.width)("height",Be.height)("transform",Be.left)},inputs:{options:"options",images:"images"},outputs:{imagesReady:"imagesReady",change:"change",previewOpen:"previewOpen",previewClose:"previewClose",previewChange:"previewChange"},features:[i.Jv_([ce])],decls:4,vars:41,consts:[[3,"height","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets","imageClick","activeChange","animating",4,"ngIf"],[3,"marginTop","marginBottom","height","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass","activeChange",4,"ngIf"],[3,"previewClose","previewOpen","activeChange","images","descriptions","showDescription","arrowPrevIcon","arrowNextIcon","closeIcon","fullscreenIcon","spinnerIcon","arrows","arrowsAutoHide","swipe","fullscreen","forceFullscreen","closeOnClick","closeOnEsc","keyboardNavigation","animation","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","zoom","zoomStep","zoomMax","zoomMin","zoomInIcon","zoomOutIcon","actions","rotate","rotateLeftIcon","rotateRightIcon","download","downloadIcon","bullets"],[3,"imageClick","activeChange","animating","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets"],[3,"activeChange","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass"]],template:function(Ce,Be){1&Ce&&(i.j41(0,"div"),i.DNE(1,fe,1,21,"ngx-gallery-image",0)(2,se,1,29,"ngx-gallery-thumbnails",1),i.j41(3,"ngx-gallery-preview",2),i.bIt("previewClose",function(){return Be.onPreviewClose()})("previewOpen",function(){return Be.onPreviewOpen()})("activeChange",function(un){return Be.previewSelect(un)}),i.k0s()()),2&Ce&&(i.ZvI("ngx-gallery-layout ",null==Be.currentOptions?null:Be.currentOptions.layout,""),i.R7$(),i.Y8G("ngIf",null==Be.currentOptions?null:Be.currentOptions.image),i.R7$(),i.Y8G("ngIf",null==Be.currentOptions?null:Be.currentOptions.thumbnails),i.R7$(),i.AVh("ngx-gallery-active",Be.previewEnabled),i.Y8G("images",Be.bigImages)("descriptions",Be.descriptions)("showDescription",null==Be.currentOptions?null:Be.currentOptions.previewDescription)("arrowPrevIcon",null==Be.currentOptions?null:Be.currentOptions.arrowPrevIcon)("arrowNextIcon",null==Be.currentOptions?null:Be.currentOptions.arrowNextIcon)("closeIcon",null==Be.currentOptions?null:Be.currentOptions.closeIcon)("fullscreenIcon",null==Be.currentOptions?null:Be.currentOptions.fullscreenIcon)("spinnerIcon",null==Be.currentOptions?null:Be.currentOptions.spinnerIcon)("arrows",null==Be.currentOptions?null:Be.currentOptions.previewArrows)("arrowsAutoHide",null==Be.currentOptions?null:Be.currentOptions.previewArrowsAutoHide)("swipe",null==Be.currentOptions?null:Be.currentOptions.previewSwipe)("fullscreen",null==Be.currentOptions?null:Be.currentOptions.previewFullscreen)("forceFullscreen",null==Be.currentOptions?null:Be.currentOptions.previewForceFullscreen)("closeOnClick",null==Be.currentOptions?null:Be.currentOptions.previewCloseOnClick)("closeOnEsc",null==Be.currentOptions?null:Be.currentOptions.previewCloseOnEsc)("keyboardNavigation",null==Be.currentOptions?null:Be.currentOptions.previewKeyboardNavigation)("animation",null==Be.currentOptions?null:Be.currentOptions.previewAnimation)("autoPlay",null==Be.currentOptions?null:Be.currentOptions.previewAutoPlay)("autoPlayInterval",null==Be.currentOptions?null:Be.currentOptions.previewAutoPlayInterval)("autoPlayPauseOnHover",null==Be.currentOptions?null:Be.currentOptions.previewAutoPlayPauseOnHover)("infinityMove",null==Be.currentOptions?null:Be.currentOptions.previewInfinityMove)("zoom",null==Be.currentOptions?null:Be.currentOptions.previewZoom)("zoomStep",null==Be.currentOptions?null:Be.currentOptions.previewZoomStep)("zoomMax",null==Be.currentOptions?null:Be.currentOptions.previewZoomMax)("zoomMin",null==Be.currentOptions?null:Be.currentOptions.previewZoomMin)("zoomInIcon",null==Be.currentOptions?null:Be.currentOptions.zoomInIcon)("zoomOutIcon",null==Be.currentOptions?null:Be.currentOptions.zoomOutIcon)("actions",null==Be.currentOptions?null:Be.currentOptions.actions)("rotate",null==Be.currentOptions?null:Be.currentOptions.previewRotate)("rotateLeftIcon",null==Be.currentOptions?null:Be.currentOptions.rotateLeftIcon)("rotateRightIcon",null==Be.currentOptions?null:Be.currentOptions.rotateRightIcon)("download",null==Be.currentOptions?null:Be.currentOptions.previewDownload)("downloadIcon",null==Be.currentOptions?null:Be.currentOptions.downloadIcon)("bullets",null==Be.currentOptions?null:Be.currentOptions.previewBullets))},dependencies:[De,ht,re,u.bT,u.YU],styles:[":host{display:inline-block}:host>*{float:left}.ngx-gallery-layout{width:100%;height:100%;display:flex;flex-direction:column}.ngx-gallery-layout.thumbnails-top ngx-gallery-image{order:2}.ngx-gallery-layout.thumbnails-top ngx-gallery-thumbnails{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-image{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-thumbnails{order:2}*{box-sizing:border-box}.ngx-gallery-icon{color:#fff;position:absolute;display:inline-block}.ngx-gallery-icon .ngx-gallery-icon-content{display:block}ngx-gallery-preview{font-size:25px}ngx-gallery-preview .ngx-gallery-icon{z-index:2000}.ngx-gallery-clickable{cursor:pointer}.ngx-gallery-icons-wrapper .ngx-gallery-icon{position:relative;margin-right:5px;margin-top:5px;font-size:20px;cursor:pointer}.ngx-gallery-icons-wrapper{float:right}\n"],encapsulation:2,changeDetection:0}),mt})(),ot=(()=>{class mt extends t.EZ{constructor(){super(...arguments),this.overrides={pinch:{enable:!1},rotate:{enable:!1}}}}return mt.\u0275fac=(()=>{let Pt;return function(Be){return(Pt||(Pt=i.xGo(mt)))(Be||mt)}})(),mt.\u0275prov=i.jDH({token:mt,factory:mt.\u0275fac}),mt})(),Gt=(()=>{class mt{}return mt.\u0275fac=function(Ce){return new(Ce||mt)},mt.\u0275mod=i.$C({type:mt}),mt.\u0275inj=i.G2t({providers:[{provide:t.kQ,useClass:ot}],imports:[[u.MD]]}),mt})()},58003:(F,b,n)=>{"use strict";n.d(b,{W1:()=>Fi,_f:()=>Go,Lw:()=>hh,so:()=>go,Ll:()=>Rr,b7:()=>Eo,$G:()=>ac,HC:()=>Qa,yB:()=>ml,I5:()=>Pe,IQ:()=>wi,tg:()=>pu,E5:()=>Ko,_H:()=>_d,U0:()=>dh,zH:()=>Ma,do:()=>$r,cw:()=>el,Bq:()=>cv,LY:()=>Pm,UN:()=>Dh,X9:()=>uc,Um:()=>Gc,sy:()=>ph,Ri:()=>fh,Pv:()=>Kr,m_:()=>Fs,QE:()=>Sp,s5:()=>Ed,MI:()=>vh,c9:()=>Eh,CT:()=>Xn,t3:()=>Ns,sb:()=>Ri,px:()=>Xi,M0:()=>ir,hC:()=>fv,Ny:()=>vu,Pe:()=>gv,Ng:()=>wp,tJ:()=>Bm,md:()=>Kc,n8:()=>Cu,$n:()=>zc,h_:()=>la});var i=n(54438),t=n(60177),u=n(71985),e=n(983),h=n(7673),m=n(21413),f=n(33726),v=n(41584),E=n(1033),_=n(84412),S=(n(84572),n(85343));new u.c(S.l);var A=n(44437),p=n(57786),L=n(92688),w=n(56977),M=n(5964),x=n(96697),j=n(96354),U=n(99172),$=n(23294),k=n(25558),K=n(88141),X=n(53993),G=n(35335),q=n(73028),z=n(65245),te=n(97647),Z=n(89417),J={left:"right",right:"left",bottom:"top",top:"bottom"};function Q(N){return N.replace(/left|right|bottom|top/g,function(Y){return J[Y]})}function ee(N){return N.split("-")[0]}var le={start:"end",end:"start"};function ne(N){return N.replace(/start|end/g,function(Y){return le[Y]})}var fe="top",se="bottom",ce="right",Te="left",be="auto",me=[fe,se,ce,Te],re="start",Ee="end",tt="viewport",ht="popper",Et=me.reduce(function(N,Y){return N.concat([Y+"-"+re,Y+"-"+Ee])},[]),Ye=[].concat(me,[be]).reduce(function(N,Y){return N.concat([Y,Y+"-"+re,Y+"-"+Ee])},[]),Be=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ut(N){if(null==N)return window;if("[object Window]"!==N.toString()){var Y=N.ownerDocument;return Y&&Y.defaultView||window}return N}function un(N){return N instanceof ut(N).Element||N instanceof Element}function rn(N){return N instanceof ut(N).HTMLElement||N instanceof HTMLElement}function Pn(N){return!(typeof ShadowRoot>"u")&&(N instanceof ut(N).ShadowRoot||N instanceof ShadowRoot)}function yt(N){return((un(N)?N.ownerDocument:N.document)||window.document).documentElement}var Kt=Math.max,Rt=Math.min,nn=Math.round;function gn(){var N=navigator.userAgentData;return null!=N&&N.brands&&Array.isArray(N.brands)?N.brands.map(function(Y){return Y.brand+"/"+Y.version}).join(" "):navigator.userAgent}function St(){return!/^((?!chrome|android).)*safari/i.test(gn())}function zt(N,Y,I){void 0===Y&&(Y=!1),void 0===I&&(I=!1);var V=N.getBoundingClientRect(),ge=1,Ae=1;Y&&rn(N)&&(ge=N.offsetWidth>0&&nn(V.width)/N.offsetWidth||1,Ae=N.offsetHeight>0&&nn(V.height)/N.offsetHeight||1);var qt=(un(N)?ut(N):window).visualViewport,en=!St()&&I,Mn=(V.left+(en&&qt?qt.offsetLeft:0))/ge,In=(V.top+(en&&qt?qt.offsetTop:0))/Ae,us=V.width/ge,Kn=V.height/Ae;return{width:us,height:Kn,top:In,right:Mn+us,bottom:In+Kn,left:Mn,x:Mn,y:In}}function Yt(N){var Y=ut(N);return{scrollLeft:Y.pageXOffset,scrollTop:Y.pageYOffset}}function wt(N){return zt(yt(N)).left+Yt(N).scrollLeft}function Jt(N){return ut(N).getComputedStyle(N)}function Ft(N){return N?(N.nodeName||"").toLowerCase():null}function it(N){return"html"===Ft(N)?N:N.assignedSlot||N.parentNode||(Pn(N)?N.host:null)||yt(N)}function xe(N){var Y=Jt(N);return/auto|scroll|overlay|hidden/.test(Y.overflow+Y.overflowY+Y.overflowX)}function Ve(N){return["html","body","#document"].indexOf(Ft(N))>=0?N.ownerDocument.body:rn(N)&&xe(N)?N:Ve(it(N))}function Ke(N,Y){var I;void 0===Y&&(Y=[]);var V=Ve(N),ge=V===(null==(I=N.ownerDocument)?void 0:I.body),Ae=ut(V),Nt=ge?[Ae].concat(Ae.visualViewport||[],xe(V)?V:[]):V,qt=Y.concat(Nt);return ge?qt:qt.concat(Ke(it(Nt)))}function je(N){return["table","td","th"].indexOf(Ft(N))>=0}function At(N){return rn(N)&&"fixed"!==Jt(N).position?N.offsetParent:null}function st(N){for(var Y=ut(N),I=At(N);I&&je(I)&&"static"===Jt(I).position;)I=At(I);return I&&("html"===Ft(I)||"body"===Ft(I)&&"static"===Jt(I).position)?Y:I||function Qe(N){var Y=/firefox/i.test(gn());if(/Trident/i.test(gn())&&rn(N)&&"fixed"===Jt(N).position)return null;var ge=it(N);for(Pn(ge)&&(ge=ge.host);rn(ge)&&["html","body"].indexOf(Ft(ge))<0;){var Ae=Jt(ge);if("none"!==Ae.transform||"none"!==Ae.perspective||"paint"===Ae.contain||-1!==["transform","perspective"].indexOf(Ae.willChange)||Y&&"filter"===Ae.willChange||Y&&Ae.filter&&"none"!==Ae.filter)return ge;ge=ge.parentNode}return null}(N)||Y}function ke(N,Y){var I=Y.getRootNode&&Y.getRootNode();if(N.contains(Y))return!0;if(I&&Pn(I)){var V=Y;do{if(V&&N.isSameNode(V))return!0;V=V.parentNode||V.host}while(V)}return!1}function Le(N){return Object.assign({},N,{left:N.x,top:N.y,right:N.x+N.width,bottom:N.y+N.height})}function It(N,Y,I){return Y===tt?Le(function bt(N,Y){var I=ut(N),V=yt(N),ge=I.visualViewport,Ae=V.clientWidth,Nt=V.clientHeight,qt=0,en=0;if(ge){Ae=ge.width,Nt=ge.height;var Mn=St();(Mn||!Mn&&"fixed"===Y)&&(qt=ge.offsetLeft,en=ge.offsetTop)}return{width:Ae,height:Nt,x:qt+wt(N),y:en}}(N,I)):un(Y)?function dt(N,Y){var I=zt(N,!1,"fixed"===Y);return I.top=I.top+N.clientTop,I.left=I.left+N.clientLeft,I.bottom=I.top+N.clientHeight,I.right=I.left+N.clientWidth,I.width=N.clientWidth,I.height=N.clientHeight,I.x=I.left,I.y=I.top,I}(Y,I):Le(function Tt(N){var Y,I=yt(N),V=Yt(N),ge=null==(Y=N.ownerDocument)?void 0:Y.body,Ae=Kt(I.scrollWidth,I.clientWidth,ge?ge.scrollWidth:0,ge?ge.clientWidth:0),Nt=Kt(I.scrollHeight,I.clientHeight,ge?ge.scrollHeight:0,ge?ge.clientHeight:0),qt=-V.scrollLeft+wt(N),en=-V.scrollTop;return"rtl"===Jt(ge||I).direction&&(qt+=Kt(I.clientWidth,ge?ge.clientWidth:0)-Ae),{width:Ae,height:Nt,x:qt,y:en}}(yt(N)))}function jn(N){return N.split("-")[1]}function Zn(N){return["top","bottom"].indexOf(N)>=0?"x":"y"}function wn(N){var en,Y=N.reference,I=N.element,V=N.placement,ge=V?ee(V):null,Ae=V?jn(V):null,Nt=Y.x+Y.width/2-I.width/2,qt=Y.y+Y.height/2-I.height/2;switch(ge){case fe:en={x:Nt,y:Y.y-I.height};break;case se:en={x:Nt,y:Y.y+Y.height};break;case ce:en={x:Y.x+Y.width,y:qt};break;case Te:en={x:Y.x-I.width,y:qt};break;default:en={x:Y.x,y:Y.y}}var Mn=ge?Zn(ge):null;if(null!=Mn){var In="y"===Mn?"height":"width";switch(Ae){case re:en[Mn]=en[Mn]-(Y[In]/2-I[In]/2);break;case Ee:en[Mn]=en[Mn]+(Y[In]/2-I[In]/2)}}return en}function vt(N){return Object.assign({},{top:0,right:0,bottom:0,left:0},N)}function hn(N,Y){return Y.reduce(function(I,V){return I[V]=N,I},{})}function Nn(N,Y){void 0===Y&&(Y={});var V=Y.placement,ge=void 0===V?N.placement:V,Ae=Y.strategy,Nt=void 0===Ae?N.strategy:Ae,qt=Y.boundary,en=void 0===qt?"clippingParents":qt,Mn=Y.rootBoundary,In=void 0===Mn?tt:Mn,us=Y.elementContext,Kn=void 0===us?ht:us,Ts=Y.altBoundary,Si=void 0!==Ts&&Ts,zs=Y.padding,ti=void 0===zs?0:zs,ji=vt("number"!=typeof ti?ti:hn(ti,me)),Ao=N.rects.popper,gi=N.elements[Si?Kn===ht?"reference":ht:Kn],Ki=function Dn(N,Y,I,V){var ge="clippingParents"===Y?function an(N){var Y=Ke(it(N)),V=["absolute","fixed"].indexOf(Jt(N).position)>=0&&rn(N)?st(N):N;return un(V)?Y.filter(function(ge){return un(ge)&&ke(ge,V)&&"body"!==Ft(ge)}):[]}(N):[].concat(Y),Ae=[].concat(ge,[I]),qt=Ae.reduce(function(en,Mn){var In=It(N,Mn,V);return en.top=Kt(In.top,en.top),en.right=Rt(In.right,en.right),en.bottom=Rt(In.bottom,en.bottom),en.left=Kt(In.left,en.left),en},It(N,Ae[0],V));return qt.width=qt.right-qt.left,qt.height=qt.bottom-qt.top,qt.x=qt.left,qt.y=qt.top,qt}(un(gi)?gi:gi.contextElement||yt(N.elements.popper),en,In,Nt),xi=zt(N.elements.reference),Lo=wn({reference:xi,element:Ao,strategy:"absolute",placement:ge}),wo=Le(Object.assign({},Ao,Lo)),Or=Kn===ht?wo:xi,lr={top:Ki.top-Or.top+ji.top,bottom:Or.bottom-Ki.bottom+ji.bottom,left:Ki.left-Or.left+ji.left,right:Or.right-Ki.right+ji.right},Fo=N.modifiersData.offset;if(Kn===ht&&Fo){var ka=Fo[ge];Object.keys(lr).forEach(function(Mr){var pc=[ce,se].indexOf(Mr)>=0?1:-1,fc=[fe,se].indexOf(Mr)>=0?"y":"x";lr[Mr]+=ka[fc]*pc})}return lr}const Es={name:"flip",enabled:!0,phase:"main",fn:function ls(N){var Y=N.state,I=N.options,V=N.name;if(!Y.modifiersData[V]._skip){for(var ge=I.mainAxis,Ae=void 0===ge||ge,Nt=I.altAxis,qt=void 0===Nt||Nt,en=I.fallbackPlacements,Mn=I.padding,In=I.boundary,us=I.rootBoundary,Kn=I.altBoundary,Ts=I.flipVariations,Si=void 0===Ts||Ts,zs=I.allowedAutoPlacements,ti=Y.options.placement,ji=ee(ti),Ao=en||(ji!==ti&&Si?function Gs(N){if(ee(N)===be)return[];var Y=Q(N);return[ne(N),Y,ne(Y)]}(ti):[Q(ti)]),gi=[ti].concat(Ao).reduce(function(Xc,mc){return Xc.concat(ee(mc)===be?function Jn(N,Y){void 0===Y&&(Y={});var ge=Y.boundary,Ae=Y.rootBoundary,Nt=Y.padding,qt=Y.flipVariations,en=Y.allowedAutoPlacements,Mn=void 0===en?Ye:en,In=jn(Y.placement),us=In?qt?Et:Et.filter(function(Si){return jn(Si)===In}):me,Kn=us.filter(function(Si){return Mn.indexOf(Si)>=0});0===Kn.length&&(Kn=us);var Ts=Kn.reduce(function(Si,zs){return Si[zs]=Nn(N,{placement:zs,boundary:ge,rootBoundary:Ae,padding:Nt})[ee(zs)],Si},{});return Object.keys(Ts).sort(function(Si,zs){return Ts[Si]-Ts[zs]})}(Y,{placement:mc,boundary:In,rootBoundary:us,padding:Mn,flipVariations:Si,allowedAutoPlacements:zs}):mc)},[]),Ki=Y.rects.reference,xi=Y.rects.popper,Lo=new Map,wo=!0,Or=gi[0],lr=0;lr<gi.length;lr++){var Fo=gi[lr],ka=ee(Fo),Mr=jn(Fo)===re,pc=[fe,se].indexOf(ka)>=0,fc=pc?"width":"height",ca=Nn(Y,{placement:Fo,boundary:In,rootBoundary:us,altBoundary:Kn,padding:Mn}),Va=pc?Mr?ce:Te:Mr?se:fe;Ki[fc]>xi[fc]&&(Va=Q(Va));var Oh=Q(Va),Yc=[];if(Ae&&Yc.push(ca[ka]<=0),qt&&Yc.push(ca[Va]<=0,ca[Oh]<=0),Yc.every(function(Xc){return Xc})){Or=Fo,wo=!1;break}Lo.set(Fo,Yc)}if(wo)for(var Up=function(mc){var bu=gi.find(function(Vp){var Jc=Lo.get(Vp);if(Jc)return Jc.slice(0,mc).every(function(Sh){return Sh})});if(bu)return Or=bu,"break"},Td=Si?3:1;Td>0&&"break"!==Up(Td);Td--);Y.placement!==Or&&(Y.modifiersData[V]._skip=!0,Y.placement=Or,Y.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function cn(N,Y,I){return Kt(N,Rt(Y,I))}function ns(N){var Y=zt(N),I=N.offsetWidth,V=N.offsetHeight;return Math.abs(Y.width-I)<=1&&(I=Y.width),Math.abs(Y.height-V)<=1&&(V=Y.height),{x:N.offsetLeft,y:N.offsetTop,width:I,height:V}}const ci={name:"preventOverflow",enabled:!0,phase:"main",fn:function Ls(N){var Y=N.state,I=N.options,V=N.name,ge=I.mainAxis,Ae=void 0===ge||ge,Nt=I.altAxis,qt=void 0!==Nt&&Nt,Kn=I.tether,Ts=void 0===Kn||Kn,Si=I.tetherOffset,zs=void 0===Si?0:Si,ti=Nn(Y,{boundary:I.boundary,rootBoundary:I.rootBoundary,padding:I.padding,altBoundary:I.altBoundary}),ji=ee(Y.placement),Ui=jn(Y.placement),Ao=!Ui,gi=Zn(ji),Ki=function cs(N){return"x"===N?"y":"x"}(gi),xi=Y.modifiersData.popperOffsets,Lo=Y.rects.reference,wo=Y.rects.popper,Or="function"==typeof zs?zs(Object.assign({},Y.rects,{placement:Y.placement})):zs,lr="number"==typeof Or?{mainAxis:Or,altAxis:Or}:Object.assign({mainAxis:0,altAxis:0},Or),Fo=Y.modifiersData.offset?Y.modifiersData.offset[Y.placement]:null,ka={x:0,y:0};if(xi){if(Ae){var Mr,pc="y"===gi?fe:Te,fc="y"===gi?se:ce,ca="y"===gi?"height":"width",Va=xi[gi],Oh=Va+ti[pc],Yc=Va-ti[fc],Mh=Ts?-wo[ca]/2:0,Up=Ui===re?Lo[ca]:wo[ca],Td=Ui===re?-wo[ca]:-Lo[ca],kp=Y.elements.arrow,Xc=Ts&&kp?ns(kp):{width:0,height:0},mc=Y.modifiersData["arrow#persistent"]?Y.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},bu=mc[pc],Vp=mc[fc],Jc=cn(0,Lo[ca],Xc[ca]),Sh=Ao?Lo[ca]/2-Mh-Jc-bu-lr.mainAxis:Up-Jc-bu-lr.mainAxis,Gp=Ao?-Lo[ca]/2+Mh+Jc+Vp+lr.mainAxis:Td+Jc+Vp+lr.mainAxis,$p=Y.elements.arrow&&st(Y.elements.arrow),gc=$p?"y"===gi?$p.clientTop||0:$p.clientLeft||0:0,Ol=null!=(Mr=Fo?.[gi])?Mr:0,$m=Va+Gp-Ol,Ih=cn(Ts?Rt(Oh,Va+Sh-Ol-gc):Oh,Va,Ts?Kt(Yc,$m):Yc);xi[gi]=Ih,ka[gi]=Ih-Va}if(qt){var bv,_c=xi[Ki],Ph="y"===Ki?"height":"width",Kp=_c+ti["x"===gi?fe:Te],Wm=_c-ti["x"===gi?se:ce],Qc=-1!==[fe,Te].indexOf(ji),Km=null!=(bv=Fo?.[Ki])?bv:0,Rh=Qc?Kp:_c-Lo[Ph]-wo[Ph]-Km+lr.altAxis,Ah=Qc?_c+Lo[Ph]+wo[Ph]-Km-lr.altAxis:Wm,Zc=Ts&&Qc?function yn(N,Y,I){var V=cn(N,Y,I);return V>I?I:V}(Rh,_c,Ah):cn(Ts?Rh:Kp,_c,Ts?Ah:Wm);xi[Ki]=Zc,ka[Ki]=Zc-_c}Y.modifiersData[V]=ka}},requiresIfExists:["offset"]},sn={name:"arrow",enabled:!0,phase:"main",fn:function Ht(N){var Y,I=N.state,V=N.name,ge=N.options,Ae=I.elements.arrow,Nt=I.modifiersData.popperOffsets,qt=ee(I.placement),en=Zn(qt),In=[Te,ce].indexOf(qt)>=0?"height":"width";if(Ae&&Nt){var us=function(Y,I){return vt("number"!=typeof(Y="function"==typeof Y?Y(Object.assign({},I.rects,{placement:I.placement})):Y)?Y:hn(Y,me))}(ge.padding,I),Kn=ns(Ae),Ts="y"===en?fe:Te,Si="y"===en?se:ce,zs=I.rects.reference[In]+I.rects.reference[en]-Nt[en]-I.rects.popper[In],ti=Nt[en]-I.rects.reference[en],ji=st(Ae),Ui=ji?"y"===en?ji.clientHeight||0:ji.clientWidth||0:0,xi=Ui/2-Kn[In]/2+(zs/2-ti/2),Lo=cn(us[Ts],xi,Ui-Kn[In]-us[Si]);I.modifiersData[V]=((Y={})[en]=Lo,Y.centerOffset=Lo-xi,Y)}},effect:function We(N){var Y=N.state,V=N.options.element,ge=void 0===V?"[data-popper-arrow]":V;null!=ge&&("string"==typeof ge&&!(ge=Y.elements.popper.querySelector(ge))||ke(Y.elements.popper,ge)&&(Y.elements.arrow=ge))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wt(N,Y,I){void 0===I&&(I=!1);var V=rn(Y),ge=rn(Y)&&function Ct(N){var Y=N.getBoundingClientRect(),I=nn(Y.width)/N.offsetWidth||1,V=nn(Y.height)/N.offsetHeight||1;return 1!==I||1!==V}(Y),Ae=yt(Y),Nt=zt(N,ge,I),qt={scrollLeft:0,scrollTop:0},en={x:0,y:0};return(V||!V&&!I)&&(("body"!==Ft(Y)||xe(Ae))&&(qt=function gt(N){return N!==ut(N)&&rn(N)?function lt(N){return{scrollLeft:N.scrollLeft,scrollTop:N.scrollTop}}(N):Yt(N)}(Y)),rn(Y)?((en=zt(Y,!0)).x+=Y.clientLeft,en.y+=Y.clientTop):Ae&&(en.x=wt(Ae))),{x:Nt.left+qt.scrollLeft-en.x,y:Nt.top+qt.scrollTop-en.y,width:Nt.width,height:Nt.height}}function pn(N){var Y=new Map,I=new Set,V=[];function ge(Ae){I.add(Ae.name),[].concat(Ae.requires||[],Ae.requiresIfExists||[]).forEach(function(qt){if(!I.has(qt)){var en=Y.get(qt);en&&ge(en)}}),V.push(Ae)}return N.forEach(function(Ae){Y.set(Ae.name,Ae)}),N.forEach(function(Ae){I.has(Ae.name)||ge(Ae)}),V}function Yn(N){var Y;return function(){return Y||(Y=new Promise(function(I){Promise.resolve().then(function(){Y=void 0,I(N())})})),Y}}var _s={placement:"bottom",modifiers:[],strategy:"absolute"};function Rs(){for(var N=arguments.length,Y=new Array(N),I=0;I<N;I++)Y[I]=arguments[I];return!Y.some(function(V){return!(V&&"function"==typeof V.getBoundingClientRect)})}function Ds(N){void 0===N&&(N={});var I=N.defaultModifiers,V=void 0===I?[]:I,ge=N.defaultOptions,Ae=void 0===ge?_s:ge;return function(qt,en,Mn){void 0===Mn&&(Mn=Ae);var In={placement:"bottom",orderedModifiers:[],options:Object.assign({},_s,Ae),modifiersData:{},elements:{reference:qt,popper:en},attributes:{},styles:{}},us=[],Kn=!1,Ts={state:In,setOptions:function(ji){var Ui="function"==typeof ji?ji(In.options):ji;zs(),In.options=Object.assign({},Ae,In.options,Ui),In.scrollParents={reference:un(qt)?Ke(qt):qt.contextElement?Ke(qt.contextElement):[],popper:Ke(en)};var Ao=function Rn(N){var Y=pn(N);return Be.reduce(function(I,V){return I.concat(Y.filter(function(ge){return ge.phase===V}))},[])}(function $n(N){var Y=N.reduce(function(I,V){var ge=I[V.name];return I[V.name]=ge?Object.assign({},ge,V,{options:Object.assign({},ge.options,V.options),data:Object.assign({},ge.data,V.data)}):V,I},{});return Object.keys(Y).map(function(I){return Y[I]})}([].concat(V,In.options.modifiers)));return In.orderedModifiers=Ao.filter(function(gi){return gi.enabled}),function Si(){In.orderedModifiers.forEach(function(ti){var Ui=ti.options,gi=ti.effect;if("function"==typeof gi){var Ki=gi({state:In,name:ti.name,instance:Ts,options:void 0===Ui?{}:Ui});us.push(Ki||function(){})}})}(),Ts.update()},forceUpdate:function(){if(!Kn){var ji=In.elements,Ui=ji.reference,Ao=ji.popper;if(Rs(Ui,Ao)){In.rects={reference:Wt(Ui,st(Ao),"fixed"===In.options.strategy),popper:ns(Ao)},In.reset=!1,In.placement=In.options.placement,In.orderedModifiers.forEach(function(lr){return In.modifiersData[lr.name]=Object.assign({},lr.data)});for(var gi=0;gi<In.orderedModifiers.length;gi++)if(!0!==In.reset){var Ki=In.orderedModifiers[gi],xi=Ki.fn,Lo=Ki.options;"function"==typeof xi&&(In=xi({state:In,options:void 0===Lo?{}:Lo,name:Ki.name,instance:Ts})||In)}else In.reset=!1,gi=-1}}},update:Yn(function(){return new Promise(function(ti){Ts.forceUpdate(),ti(In)})}),destroy:function(){zs(),Kn=!0}};if(!Rs(qt,en))return Ts;function zs(){us.forEach(function(ti){return ti()}),us=[]}return Ts.setOptions(Mn).then(function(ti){!Kn&&Mn.onFirstUpdate&&Mn.onFirstUpdate(ti)}),Ts}}var Cs={passive:!0},jo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function As(N){var Y,I=N.popper,V=N.popperRect,ge=N.placement,Ae=N.variation,Nt=N.offsets,qt=N.position,en=N.gpuAcceleration,Mn=N.adaptive,In=N.roundOffsets,us=N.isFixed,Kn=Nt.x,Ts=void 0===Kn?0:Kn,Si=Nt.y,zs=void 0===Si?0:Si,ti="function"==typeof In?In({x:Ts,y:zs}):{x:Ts,y:zs};Ts=ti.x,zs=ti.y;var ji=Nt.hasOwnProperty("x"),Ui=Nt.hasOwnProperty("y"),Ao=Te,gi=fe,Ki=window;if(Mn){var xi=st(I),Lo="clientHeight",wo="clientWidth";xi===ut(I)&&"static"!==Jt(xi=yt(I)).position&&"absolute"===qt&&(Lo="scrollHeight",wo="scrollWidth"),(ge===fe||(ge===Te||ge===ce)&&Ae===Ee)&&(gi=se,zs-=(us&&xi===Ki&&Ki.visualViewport?Ki.visualViewport.height:xi[Lo])-V.height,zs*=en?1:-1),ge!==Te&&(ge!==fe&&ge!==se||Ae!==Ee)||(Ao=ce,Ts-=(us&&xi===Ki&&Ki.visualViewport?Ki.visualViewport.width:xi[wo])-V.width,Ts*=en?1:-1)}var Mr,Fo=Object.assign({position:qt},Mn&&jo),ka=!0===In?function to(N,Y){var V=N.y,ge=Y.devicePixelRatio||1;return{x:nn(N.x*ge)/ge||0,y:nn(V*ge)/ge||0}}({x:Ts,y:zs},ut(I)):{x:Ts,y:zs};return Ts=ka.x,zs=ka.y,Object.assign({},Fo,en?((Mr={})[gi]=Ui?"0":"",Mr[Ao]=ji?"0":"",Mr.transform=(Ki.devicePixelRatio||1)<=1?"translate("+Ts+"px, "+zs+"px)":"translate3d("+Ts+"px, "+zs+"px, 0)",Mr):((Y={})[gi]=Ui?zs+"px":"",Y[Ao]=ji?Ts+"px":"",Y.transform="",Y))}var on=Ds({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Ti(N){var Y=N.state,I=N.instance,V=N.options,ge=V.scroll,Ae=void 0===ge||ge,Nt=V.resize,qt=void 0===Nt||Nt,en=ut(Y.elements.popper),Mn=[].concat(Y.scrollParents.reference,Y.scrollParents.popper);return Ae&&Mn.forEach(function(In){In.addEventListener("scroll",I.update,Cs)}),qt&&en.addEventListener("resize",I.update,Cs),function(){Ae&&Mn.forEach(function(In){In.removeEventListener("scroll",I.update,Cs)}),qt&&en.removeEventListener("resize",I.update,Cs)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Li(N){var Y=N.state;Y.modifiersData[N.name]=wn({reference:Y.rects.reference,element:Y.rects.popper,strategy:"absolute",placement:Y.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Qs(N){var Y=N.state,I=N.options,V=I.gpuAcceleration,ge=void 0===V||V,Ae=I.adaptive,Nt=void 0===Ae||Ae,qt=I.roundOffsets,en=void 0===qt||qt,Mn={placement:ee(Y.placement),variation:jn(Y.placement),popper:Y.elements.popper,popperRect:Y.rects.popper,gpuAcceleration:ge,isFixed:"fixed"===Y.options.strategy};null!=Y.modifiersData.popperOffsets&&(Y.styles.popper=Object.assign({},Y.styles.popper,As(Object.assign({},Mn,{offsets:Y.modifiersData.popperOffsets,position:Y.options.strategy,adaptive:Nt,roundOffsets:en})))),null!=Y.modifiersData.arrow&&(Y.styles.arrow=Object.assign({},Y.styles.arrow,As(Object.assign({},Mn,{offsets:Y.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:en})))),Y.attributes.popper=Object.assign({},Y.attributes.popper,{"data-popper-placement":Y.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function _r(N){var Y=N.state;Object.keys(Y.elements).forEach(function(I){var V=Y.styles[I]||{},ge=Y.attributes[I]||{},Ae=Y.elements[I];!rn(Ae)||!Ft(Ae)||(Object.assign(Ae.style,V),Object.keys(ge).forEach(function(Nt){var qt=ge[Nt];!1===qt?Ae.removeAttribute(Nt):Ae.setAttribute(Nt,!0===qt?"":qt)}))})},effect:function Uo(N){var Y=N.state,I={popper:{position:Y.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(Y.elements.popper.style,I.popper),Y.styles=I,Y.elements.arrow&&Object.assign(Y.elements.arrow.style,I.arrow),function(){Object.keys(Y.elements).forEach(function(V){var ge=Y.elements[V],Ae=Y.attributes[V]||{},qt=Object.keys(Y.styles.hasOwnProperty(V)?Y.styles[V]:I[V]).reduce(function(en,Mn){return en[Mn]="",en},{});!rn(ge)||!Ft(ge)||(Object.assign(ge.style,qt),Object.keys(Ae).forEach(function(en){ge.removeAttribute(en)}))})}},requires:["computeStyles"]}]});const qn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Fn(N){var Y=N.state,V=N.name,ge=N.options.offset,Ae=void 0===ge?[0,0]:ge,Nt=Ye.reduce(function(In,us){return In[us]=function Qt(N,Y,I){var V=ee(N),ge=[Te,fe].indexOf(V)>=0?-1:1,Ae="function"==typeof I?I(Object.assign({},Y,{placement:N})):I,Nt=Ae[0],qt=Ae[1];return Nt=Nt||0,qt=(qt||0)*ge,[Te,ce].indexOf(V)>=0?{x:qt,y:Nt}:{x:Nt,y:qt}}(us,Y.rects,Ae),In},{}),qt=Nt[Y.placement],Mn=qt.y;null!=Y.modifiersData.popperOffsets&&(Y.modifiersData.popperOffsets.x+=qt.x,Y.modifiersData.popperOffsets.y+=Mn),Y.modifiersData[V]=Nt}},bs=(N,Y)=>({$implicit:N,opened:Y});function vi(N,Y){}function Ei(N,Y){if(1&N&&(i.j41(0,"button",3),i.EFF(1),i.DNE(2,vi,0,0,"ng-template",4),i.k0s()),2&N){const I=Y.$implicit;i.Y8G("ngbPanelToggle",I),i.R7$(),i.SpI(" ",I.title,""),i.R7$(),i.Y8G("ngTemplateOutlet",null==I.titleTpl?null:I.titleTpl.templateRef)}}function vo(N,Y){}function pi(N,Y){}function ho(N,Y){if(1&N){const I=i.RV6();i.j41(0,"div",8),i.bIt("ngbRef",function(ge){i.eBV(I);const Ae=i.XpG().$implicit;return i.Njj(Ae.panelDiv=ge)}),i.j41(1,"div",9),i.DNE(2,pi,0,0,"ng-template",4),i.k0s()()}if(2&N){const I=i.XpG().$implicit;i.FS9("id",I.id),i.BMQ("aria-labelledby",I.id+"-header"),i.R7$(2),i.Y8G("ngTemplateOutlet",(null==I.contentTpl?null:I.contentTpl.templateRef)||null)}}function vr(N,Y){if(1&N&&(i.j41(0,"div")(1,"div",5),i.DNE(2,vo,0,0,"ng-template",6),i.k0s(),i.DNE(3,ho,3,3,"div",7),i.k0s()),2&N){const I=Y.$implicit,V=i.XpG(),ge=i.sdS(1);i.HbH("accordion-item "+(I.cardClass||"")),i.R7$(),i.HbH("accordion-header "+(I.type?"bg-"+I.type:V.type?"bg-"+V.type:"")),i.Mz_("id","",I.id,"-header"),i.R7$(),i.Y8G("ngTemplateOutlet",(null==I.headerTpl?null:I.headerTpl.templateRef)||ge)("ngTemplateOutletContext",i.l_i(9,bs,I,I.isOpen)),i.R7$(),i.Y8G("ngIf",!V.destroyOnHide||I.isOpen||I.transitionRunning)}}const ur=["*"],Xr=["ngbDatepickerDayView",""],po=["month"],Er=["year"];function Ks(N,Y){if(1&N&&(i.j41(0,"option",5),i.EFF(1),i.k0s()),2&N){const I=Y.$implicit,V=i.XpG();i.Y8G("value",I),i.BMQ("aria-label",V.i18n.getMonthFullName(I,null==V.date?null:V.date.year)),i.R7$(),i.JRh(V.i18n.getMonthShortName(I,null==V.date?null:V.date.year))}}function hr(N,Y){if(1&N&&(i.j41(0,"option",5),i.EFF(1),i.k0s()),2&N){const I=Y.$implicit,V=i.XpG();i.Y8G("value",I),i.R7$(),i.JRh(V.i18n.getYearNumerals(I))}}function Jr(N,Y){if(1&N){const I=i.RV6();i.j41(0,"ngb-datepicker-navigation-select",7),i.bIt("select",function(ge){i.eBV(I);const Ae=i.XpG();return i.Njj(Ae.select.emit(ge))}),i.k0s()}if(2&N){const I=i.XpG();i.Y8G("date",I.date)("disabled",I.disabled)("months",I.selectBoxes.months)("years",I.selectBoxes.years)}}function Qo(N,Y){1&N&&i.nrm(0,"div",0)}function Fr(N,Y){1&N&&i.nrm(0,"div",0)}function xa(N,Y){if(1&N&&(i.DNE(0,Qo,1,0,"div",9),i.j41(1,"div",10),i.EFF(2),i.k0s(),i.DNE(3,Fr,1,0,"div",9)),2&N){const I=Y.$implicit,V=Y.index,ge=i.XpG(2);i.Y8G("ngIf",V>0),i.R7$(2),i.SpI(" ",ge.i18n.getMonthLabel(I.firstDate)," "),i.R7$(),i.Y8G("ngIf",V!==ge.months.length-1)}}function sa(N,Y){if(1&N&&i.DNE(0,xa,4,3,"ng-template",8),2&N){const I=i.XpG();i.Y8G("ngForOf",I.months)}}const rr=["defaultDayTemplate"],Qr=["content"];function _a(N,Y){if(1&N&&i.nrm(0,"div",7),2&N){const V=Y.currentMonth,ge=Y.selected,Ae=Y.disabled,Nt=Y.focused;i.Y8G("date",Y.date)("currentMonth",V)("selected",ge)("disabled",Ae)("focused",Nt)}}function va(N,Y){if(1&N&&(i.j41(0,"div",12),i.EFF(1),i.k0s()),2&N){const I=i.XpG().$implicit,V=i.XpG(2);i.R7$(),i.SpI(" ",V.i18n.getMonthLabel(I.firstDate)," ")}}function et(N,Y){if(1&N&&(i.j41(0,"div",9),i.DNE(1,va,2,1,"div",10),i.nrm(2,"ngb-datepicker-month",11),i.k0s()),2&N){const I=Y.$implicit,V=i.XpG(2);i.R7$(),i.Y8G("ngIf","none"===V.navigation||V.displayMonths>1&&"select"===V.navigation),i.R7$(),i.Y8G("month",I.firstDate)}}function qe(N,Y){if(1&N&&i.DNE(0,et,3,2,"div",8),2&N){const I=i.XpG();i.Y8G("ngForOf",I.model.months)}}function at(N,Y){if(1&N){const I=i.RV6();i.j41(0,"ngb-datepicker-navigation",13),i.bIt("navigate",function(ge){i.eBV(I);const Ae=i.XpG();return i.Njj(Ae.onNavigateEvent(ge))})("select",function(ge){i.eBV(I);const Ae=i.XpG();return i.Njj(Ae.onNavigateDateSelect(ge))}),i.k0s()}if(2&N){const I=i.XpG();i.Y8G("date",I.model.firstDate)("months",I.model.months)("disabled",I.model.disabled)("showSelect","select"===I.model.navigation)("prevDisabled",I.model.prevDisabled)("nextDisabled",I.model.nextDisabled)("selectBoxes",I.model.selectBoxes)}}function jt(N,Y){}function Vt(N,Y){}function xn(N,Y){if(1&N&&(i.j41(0,"div",5),i.EFF(1),i.k0s()),2&N){const I=i.XpG(2);i.R7$(),i.JRh(I.i18n.getWeekLabel())}}function is(N,Y){if(1&N&&(i.j41(0,"div",6),i.EFF(1),i.k0s()),2&N){const I=Y.$implicit;i.R7$(),i.JRh(I)}}function Os(N,Y){if(1&N&&(i.j41(0,"div",2),i.DNE(1,xn,2,1,"div",3)(2,is,2,1,"div",4),i.k0s()),2&N){const I=i.XpG();i.R7$(),i.Y8G("ngIf",I.datepicker.showWeekNumbers),i.R7$(),i.Y8G("ngForOf",I.viewModel.weekdays)}}function Hs(N,Y){if(1&N&&(i.j41(0,"div",11),i.EFF(1),i.k0s()),2&N){const I=i.XpG(2).$implicit,V=i.XpG();i.R7$(),i.JRh(V.i18n.getWeekNumerals(I.number))}}function ws(N,Y){}function di(N,Y){if(1&N&&i.DNE(0,ws,0,0,"ng-template",14),2&N){const I=i.XpG().$implicit,V=i.XpG(3);i.Y8G("ngTemplateOutlet",V.datepicker.dayTemplate)("ngTemplateOutletContext",I.context)}}function fo(N,Y){if(1&N){const I=i.RV6();i.j41(0,"div",12),i.bIt("click",function(ge){const Ae=i.eBV(I).$implicit;return i.XpG(3).doSelect(Ae),i.Njj(ge.preventDefault())}),i.DNE(1,di,1,2,"ng-template",13),i.k0s()}if(2&N){const I=Y.$implicit;i.AVh("disabled",I.context.disabled)("hidden",I.hidden)("ngb-dp-today",I.context.today),i.Y8G("tabindex",I.tabindex),i.BMQ("aria-label",I.ariaLabel),i.R7$(),i.Y8G("ngIf",!I.hidden)}}function Ci(N,Y){if(1&N&&(i.j41(0,"div",8),i.DNE(1,Hs,2,1,"div",9)(2,fo,2,9,"div",10),i.k0s()),2&N){const I=i.XpG().$implicit,V=i.XpG();i.R7$(),i.Y8G("ngIf",V.datepicker.showWeekNumbers),i.R7$(),i.Y8G("ngForOf",I.days)}}function ni(N,Y){1&N&&i.DNE(0,Ci,3,2,"div",7),2&N&&i.Y8G("ngIf",!Y.$implicit.collapsed)}const Co=["dialog"],no=["ngbNavOutlet",""],So=N=>({$implicit:N});function so(N,Y){}function Xs(N,Y){if(1&N&&(i.j41(0,"div",2),i.DNE(1,so,0,0,"ng-template",3),i.k0s()),2&N){const I=i.XpG().$implicit,V=i.XpG();i.Y8G("item",I)("nav",V.nav)("role",V.paneRole),i.R7$(),i.Y8G("ngTemplateOutlet",(null==I.contentTpl?null:I.contentTpl.templateRef)||null)("ngTemplateOutletContext",i.eq3(5,So,I.active||V.isPanelTransitioning(I)))}}function io(N,Y){if(1&N&&i.DNE(0,Xs,2,7,"div",1),2&N){const I=Y.$implicit,V=i.XpG();i.Y8G("ngIf",I.isPanelInDom()||V.isPanelTransitioning(I))}}const nr=(N,Y,I)=>({$implicit:N,pages:Y,disabled:I}),mo=N=>({disabled:!0,currentPage:N}),ko=(N,Y,I)=>({disabled:N,$implicit:Y,currentPage:I}),Ir=(N,Y)=>({disabled:N,currentPage:Y}),bo=N=>({disabled:N});function Zo(N,Y){1&N&&(i.j41(0,"span",13),i.pXf(1,7),i.k0s())}function ya(N,Y){1&N&&(i.j41(0,"span",13),i.pXf(1,8),i.k0s())}function Ge(N,Y){1&N&&(i.j41(0,"span",13),i.pXf(1,9),i.k0s())}function Xe(N,Y){1&N&&(i.j41(0,"span",13),i.pXf(1,10),i.k0s())}function oe(N,Y){1&N&&i.EFF(0,"...")}function $e(N,Y){1&N&&(i.j41(0,"span",15),i.EFF(1,"(current)"),i.k0s())}function _e(N,Y){if(1&N&&(i.EFF(0),i.DNE(1,$e,2,0,"span",14)),2&N){const I=Y.$implicit,V=Y.currentPage;i.SpI(" ",I," "),i.R7$(),i.Y8G("ngIf",I===V)}}function Dt(N,Y){}function Xt(N,Y){if(1&N&&(i.j41(0,"a",20),i.DNE(1,Dt,0,0,"ng-template",12),i.k0s()),2&N){const I=i.XpG(2).$implicit,V=i.XpG(),ge=i.sdS(9);i.R7$(),i.Y8G("ngTemplateOutlet",(null==V.tplEllipsis?null:V.tplEllipsis.templateRef)||ge)("ngTemplateOutletContext",i.eq3(2,mo,I))}}function Sn(N,Y){}function ts(N,Y){if(1&N){const I=i.RV6();i.j41(0,"a",21),i.bIt("click",function(ge){i.eBV(I);const Ae=i.XpG().$implicit;return i.XpG(2).selectPage(Ae),i.Njj(ge.preventDefault())}),i.DNE(1,Sn,0,0,"ng-template",12),i.k0s()}if(2&N){const I=i.XpG().$implicit,V=i.XpG(),ge=V.$implicit,Ae=V.disabled,Nt=i.XpG(),qt=i.sdS(11);i.BMQ("tabindex",Ae?"-1":null)("aria-disabled",Ae?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==Nt.tplNumber?null:Nt.tplNumber.templateRef)||qt)("ngTemplateOutletContext",i.sMw(4,ko,Ae,I,ge))}}function ps(N,Y){if(1&N&&(i.j41(0,"li",17),i.DNE(1,Xt,2,4,"a",18)(2,ts,2,8,"a",19),i.k0s()),2&N){const I=Y.$implicit,V=i.XpG(),ge=V.$implicit,Ae=V.disabled,Nt=i.XpG();i.AVh("active",I===ge)("disabled",Nt.isEllipsis(I)||Ae),i.BMQ("aria-current",I===ge?"page":null),i.R7$(),i.Y8G("ngIf",Nt.isEllipsis(I)),i.R7$(),i.Y8G("ngIf",!Nt.isEllipsis(I))}}function Bs(N,Y){1&N&&i.DNE(0,ps,3,7,"li",16),2&N&&i.Y8G("ngForOf",Y.pages)}function Zi(N,Y){}function zi(N,Y){if(1&N){const I=i.RV6();i.j41(0,"li",17)(1,"a",22),i.bIt("click",function(ge){return i.eBV(I),i.XpG().selectPage(1),i.Njj(ge.preventDefault())}),i.DNE(2,Zi,0,0,"ng-template",12),i.k0s()()}if(2&N){const I=i.XpG(),V=i.sdS(1);i.AVh("disabled",I.previousDisabled()),i.R7$(),i.BMQ("tabindex",I.previousDisabled()?"-1":null)("aria-disabled",I.previousDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==I.tplFirst?null:I.tplFirst.templateRef)||V)("ngTemplateOutletContext",i.l_i(6,Ir,I.previousDisabled(),I.page))}}function Vo(N,Y){}function bi(N,Y){if(1&N){const I=i.RV6();i.j41(0,"li",17)(1,"a",23),i.bIt("click",function(ge){i.eBV(I);const Ae=i.XpG();return Ae.selectPage(Ae.page-1),i.Njj(ge.preventDefault())}),i.DNE(2,Vo,0,0,"ng-template",12),i.k0s()()}if(2&N){const I=i.XpG(),V=i.sdS(3);i.AVh("disabled",I.previousDisabled()),i.R7$(),i.BMQ("tabindex",I.previousDisabled()?"-1":null)("aria-disabled",I.previousDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==I.tplPrevious?null:I.tplPrevious.templateRef)||V)("ngTemplateOutletContext",i.eq3(6,bo,I.previousDisabled()))}}function Ea(N,Y){}function Ca(N,Y){}function Pr(N,Y){if(1&N){const I=i.RV6();i.j41(0,"li",17)(1,"a",24),i.bIt("click",function(ge){i.eBV(I);const Ae=i.XpG();return Ae.selectPage(Ae.page+1),i.Njj(ge.preventDefault())}),i.DNE(2,Ca,0,0,"ng-template",12),i.k0s()()}if(2&N){const I=i.XpG(),V=i.sdS(5);i.AVh("disabled",I.nextDisabled()),i.R7$(),i.BMQ("tabindex",I.nextDisabled()?"-1":null)("aria-disabled",I.nextDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==I.tplNext?null:I.tplNext.templateRef)||V)("ngTemplateOutletContext",i.l_i(6,Ir,I.nextDisabled(),I.page))}}function ia(N,Y){}function Al(N,Y){if(1&N){const I=i.RV6();i.j41(0,"li",17)(1,"a",25),i.bIt("click",function(ge){i.eBV(I);const Ae=i.XpG();return Ae.selectPage(Ae.pageCount),i.Njj(ge.preventDefault())}),i.DNE(2,ia,0,0,"ng-template",12),i.k0s()()}if(2&N){const I=i.XpG(),V=i.sdS(7);i.AVh("disabled",I.nextDisabled()),i.R7$(),i.BMQ("tabindex",I.nextDisabled()?"-1":null)("aria-disabled",I.nextDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==I.tplLast?null:I.tplLast.templateRef)||V)("ngTemplateOutletContext",i.l_i(6,Ir,I.nextDisabled(),I.page))}}function La(N,Y){1&N&&i.EFF(0),2&N&&i.JRh(100===Y.fill?"\u2605":"\u2606")}function ll(N,Y){}function Ya(N,Y){if(1&N){const I=i.RV6();i.j41(0,"span",2),i.EFF(1),i.k0s(),i.j41(2,"span",3),i.bIt("mouseenter",function(){const ge=i.eBV(I).index,Ae=i.XpG();return i.Njj(Ae.enter(ge+1))})("click",function(){const ge=i.eBV(I).index,Ae=i.XpG();return i.Njj(Ae.handleClick(ge+1))}),i.DNE(3,ll,0,0,"ng-template",4),i.k0s()}if(2&N){const I=Y.index,V=i.XpG(),ge=i.sdS(1);i.R7$(),i.SpI("(",I<V.nextRate?"*":" ",")"),i.R7$(),i.xc7("cursor",V.isInteractive()?"pointer":"default"),i.R7$(),i.Y8G("ngTemplateOutlet",V.starTemplate||V.starTemplateFromContent||ge)("ngTemplateOutletContext",V.contexts[I])}}function cl(N,Y){if(1&N){const I=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(I);const ge=i.XpG();return i.Njj(ge.changeHour(ge.hourStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,1),i.k0s()()}if(2&N){const I=i.XpG();i.AVh("btn-sm",I.isSmallSize)("btn-lg",I.isLargeSize)("disabled",I.disabled),i.Y8G("disabled",I.disabled)}}function ri(N,Y){if(1&N){const I=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(I);const ge=i.XpG();return i.Njj(ge.changeHour(-ge.hourStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,2),i.k0s()()}if(2&N){const I=i.XpG();i.AVh("btn-sm",I.isSmallSize)("btn-lg",I.isLargeSize)("disabled",I.disabled),i.Y8G("disabled",I.disabled)}}function oo(N,Y){if(1&N){const I=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(I);const ge=i.XpG();return i.Njj(ge.changeMinute(ge.minuteStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,3),i.k0s()()}if(2&N){const I=i.XpG();i.AVh("btn-sm",I.isSmallSize)("btn-lg",I.isLargeSize)("disabled",I.disabled),i.Y8G("disabled",I.disabled)}}function yo(N,Y){if(1&N){const I=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(I);const ge=i.XpG();return i.Njj(ge.changeMinute(-ge.minuteStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,4),i.k0s()()}if(2&N){const I=i.XpG();i.AVh("btn-sm",I.isSmallSize)("btn-lg",I.isLargeSize)("disabled",I.disabled),i.Y8G("disabled",I.disabled)}}function Cr(N,Y){1&N&&(i.j41(0,"div",14),i.EFF(1,":"),i.k0s())}function ui(N,Y){if(1&N){const I=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(I);const ge=i.XpG(2);return i.Njj(ge.changeSecond(ge.secondStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,5),i.k0s()()}if(2&N){const I=i.XpG(2);i.AVh("btn-sm",I.isSmallSize)("btn-lg",I.isLargeSize)("disabled",I.disabled),i.Y8G("disabled",I.disabled)}}function ba(N,Y){if(1&N){const I=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(I);const ge=i.XpG(2);return i.Njj(ge.changeSecond(-ge.secondStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,6),i.k0s()()}if(2&N){const I=i.XpG(2);i.AVh("btn-sm",I.isSmallSize)("btn-lg",I.isLargeSize)("disabled",I.disabled),i.Y8G("disabled",I.disabled)}}function Ta(N,Y){if(1&N){const I=i.RV6();i.j41(0,"div",24),i.DNE(1,ui,4,7,"button",12),i.j41(2,"input",25),i.bIt("change",function(ge){i.eBV(I);const Ae=i.XpG();return i.Njj(Ae.updateSecond(ge.target.value))})("blur",function(){i.eBV(I);const ge=i.XpG();return i.Njj(ge.handleBlur())})("input",function(ge){i.eBV(I);const Ae=i.XpG();return i.Njj(Ae.formatInput(ge.target))})("keydown.ArrowUp",function(ge){i.eBV(I);const Ae=i.XpG();return Ae.changeSecond(Ae.secondStep),i.Njj(ge.preventDefault())})("keydown.ArrowDown",function(ge){i.eBV(I);const Ae=i.XpG();return Ae.changeSecond(-Ae.secondStep),i.Njj(ge.preventDefault())}),i.k0s(),i.DNE(3,ba,4,7,"button",12),i.k0s()}if(2&N){const I=i.XpG();i.R7$(),i.Y8G("ngIf",I.spinners),i.R7$(),i.AVh("form-control-sm",I.isSmallSize)("form-control-lg",I.isLargeSize),i.Y8G("value",I.formatMinSec(null==I.model?null:I.model.second))("readOnly",I.readonlyInputs)("disabled",I.disabled),i.R7$(),i.Y8G("ngIf",I.spinners)}}function Xa(N,Y){1&N&&i.nrm(0,"div",14)}function oc(N,Y){if(1&N&&(i.qex(0),i.pXf(1,7),i.bVm()),2&N){const I=i.XpG(2);i.R7$(),i.uP7(I.i18n.getAfternoonPeriod()),i.nnv(1)}}function pd(N,Y){if(1&N&&i.pXf(0,8),2&N){const I=i.XpG(2);i.uP7(I.i18n.getMorningPeriod()),i.nnv(0)}}function oa(N,Y){if(1&N){const I=i.RV6();i.j41(0,"div",26)(1,"button",27),i.bIt("click",function(){i.eBV(I);const ge=i.XpG();return i.Njj(ge.toggleMeridian())}),i.DNE(2,oc,2,1,"ng-container",28)(3,pd,1,1,"ng-template",null,0,i.C5r),i.k0s()()}if(2&N){const I=i.sdS(4),V=i.XpG();i.R7$(),i.AVh("btn-sm",V.isSmallSize)("btn-lg",V.isLargeSize)("disabled",V.disabled),i.Y8G("disabled",V.disabled),i.R7$(),i.Y8G("ngIf",V.model&&V.model.hour>=12)("ngIfElse",I)}}function Na(N,Y){if(1&N&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&N){const I=i.XpG().$implicit,V=i.XpG();i.HbH(V.highlightClass),i.R7$(),i.JRh(I)}}function Nc(N,Y){if(1&N&&i.EFF(0),2&N){const I=i.XpG().$implicit;i.JRh(I)}}function qo(N,Y){if(1&N&&i.DNE(0,Na,2,3,"span",2)(1,Nc,1,1,"ng-template",null,0,i.C5r),2&N){const I=Y.odd,V=i.sdS(2);i.Y8G("ngIf",I)("ngIfElse",V)}}const ra=(N,Y,I)=>({result:N,term:Y,formatter:I});function Ll(N,Y){if(1&N&&i.nrm(0,"ngb-highlight",2),2&N){const V=Y.term;i.Y8G("result",(0,Y.formatter)(Y.result))("term",V)}}function Br(N,Y){}function Ja(N,Y){if(1&N){const I=i.RV6();i.j41(0,"button",3),i.bIt("mouseenter",function(){const ge=i.eBV(I).index,Ae=i.XpG();return i.Njj(Ae.markActive(ge))})("click",function(){const ge=i.eBV(I).$implicit,Ae=i.XpG();return i.Njj(Ae.select(ge))}),i.DNE(1,Br,0,0,"ng-template",4),i.k0s()}if(2&N){const I=Y.$implicit,V=Y.index,ge=i.XpG(),Ae=i.sdS(1);i.AVh("active",V===ge.activeIdx),i.Y8G("id",ge.id+"-"+V),i.R7$(),i.Y8G("ngTemplateOutlet",ge.resultTemplate||Ae)("ngTemplateOutletContext",i.sMw(5,ra,I,ge.term,ge.formatter))}}function ro(N){return parseInt(`${N}`,10)}function Da(N){return null!=N?`${N}`:""}function sr(N,Y,I=0){return Math.max(Math.min(N,Y),I)}function br(N){return"string"==typeof N}function Wi(N){return!isNaN(ro(N))}function Ut(N){return"number"==typeof N&&isFinite(N)&&Math.floor(N)===N}function dn(N){return null!=N}function An(N){return Wi(N)?`0${N}`.slice(-2):""}function os(N,Y){return N&&N.className&&N.className.split&&N.className.split(/\s+/).indexOf(Y)>=0}function Qn(N){return(N||document.body).getBoundingClientRect()}function Ni(N){return N.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const ki={animation:!0,transitionTimerDelayMs:5},kn=()=>{},{transitionTimerDelayMs:ao}=ki,lo=new Map,he=(N,Y,I,V)=>{let ge=V.context||{};const Ae=lo.get(Y);if(Ae)switch(V.runningTransition){case"continue":return e.w;case"stop":N.run(()=>Ae.transition$.complete()),ge=Object.assign(Ae.context,ge),lo.delete(Y)}const Nt=I(Y,V.animation,ge)||kn;if(!V.animation||"none"===window.getComputedStyle(Y).transitionProperty)return N.run(()=>Nt()),(0,h.of)(void 0).pipe(function _i(N){return Y=>new u.c(I=>Y.subscribe({next:Nt=>N.run(()=>I.next(Nt)),error:Nt=>N.run(()=>I.error(Nt)),complete:()=>N.run(()=>I.complete())}))}(N));const qt=new m.B,en=new m.B,Mn=qt.pipe(function D(...N){return Y=>(0,L.x)(Y,(0,h.of)(...N))}(!0));lo.set(Y,{transition$:qt,complete:()=>{en.next(),en.complete()},context:ge});const In=function qi(N){const{transitionDelay:Y,transitionDuration:I}=window.getComputedStyle(N);return 1e3*(parseFloat(Y)+parseFloat(I))}(Y);return N.runOutsideAngular(()=>{const us=(0,f.R)(Y,"transitionend").pipe((0,w.Q)(Mn),(0,M.p)(({target:Ts})=>Ts===Y)),Kn=(0,v.O)(In+ao).pipe((0,w.Q)(Mn));(0,E.O)(Kn,us,en).pipe((0,w.Q)(Mn)).subscribe(()=>{lo.delete(Y),N.run(()=>{Nt(),qt.next(),qt.complete()})})}),qt.asObservable()},ze=(N,Y,I)=>{let{direction:V,maxHeight:ge}=I;const{classList:Ae}=N;function Nt(){Ae.add("collapse"),"show"===V?Ae.add("show"):Ae.remove("show")}if(Y)return ge||(ge=function Re(N){if(typeof navigator>"u")return"0px";const{classList:Y}=N,I=Y.contains("show");I||Y.add("show"),N.style.height="";const V=N.getBoundingClientRect().height+"px";return I||Y.remove("show"),V}(N),I.maxHeight=ge,N.style.height="show"!==V?ge:"0px",Ae.remove("collapse"),Ae.remove("collapsing"),Ae.remove("show"),Qn(N),Ae.add("collapsing")),N.style.height="show"===V?ge:"0px",()=>{Nt(),Ae.remove("collapsing"),N.style.height=""};Nt()};let Lt=(()=>{class N{constructor(){this.animation=ki.animation}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),On=(()=>{class N{constructor(I){this._ngbConfig=I,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(I){this._animation=I}}return N.\u0275fac=function(I){return new(I||N)(i.KVO(Lt))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Un=0,fs=(()=>{class N{constructor(I){this.templateRef=I}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPanelHeader",""]]}),N})(),Ri=(()=>{class N{constructor(I){this.templateRef=I}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPanelTitle",""]]}),N})(),Ns=(()=>{class N{constructor(I){this.templateRef=I}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPanelContent",""]]}),N})(),Xn=(()=>{class N{constructor(){this.disabled=!1,this.id="ngb-panel-"+Un++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new i.bkB,this.hidden=new i.bkB}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275dir=i.FsC({type:N,selectors:[["ngb-panel"]],contentQueries:function(I,V,ge){if(1&I&&(i.wni(ge,Ri,4),i.wni(ge,fs,4),i.wni(ge,Ns,4)),2&I){let Ae;i.mGM(Ae=i.lsd())&&(V.titleTpls=Ae),i.mGM(Ae=i.lsd())&&(V.headerTpls=Ae),i.mGM(Ae=i.lsd())&&(V.contentTpls=Ae)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),N})(),hi=(()=>{class N{constructor(I){this._El=I,this.ngbRef=new i.bkB}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.aKT))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),N})(),Fi=(()=>{class N{constructor(I,V,ge){this._ngZone=V,this._changeDetector=ge,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.animation=I.animation,this.type=I.type,this.closeOtherPanels=I.closeOthers}isExpanded(I){return this.activeIds.indexOf(I)>-1}expand(I){this._changeOpenState(this._findPanelById(I),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(I=>this._changeOpenState(I,!0))}collapse(I){this._changeOpenState(this._findPanelById(I),!1)}collapseAll(){this.panels.forEach(I=>{this._changeOpenState(I,!1)})}toggle(I){const V=this._findPanelById(I);V&&this._changeOpenState(V,!V.isOpen)}ngAfterContentChecked(){br(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(I=>{I.isOpen=!I.disabled&&this.activeIds.indexOf(I.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,x.s)(1)).subscribe(()=>{this.panels.forEach(I=>{const V=I.panelDiv;V?I.initClassDone||(I.initClassDone=!0,he(this._ngZone,V,ze,{animation:!1,runningTransition:"continue",context:{direction:I.isOpen?"show":"hide"}})):I.initClassDone=!1})})}_changeOpenState(I,V){if(null!=I&&!I.disabled&&I.isOpen!==V){let ge=!1;this.panelChange.emit({panelId:I.id,nextState:V,preventDefault:()=>{ge=!0}}),ge||(I.isOpen=V,I.transitionRunning=!0,V&&this.closeOtherPanels&&this._closeOthers(I.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(I,V=!0){this.panels.forEach(ge=>{ge.id!==I&&ge.isOpen&&(ge.isOpen=!1,ge.transitionRunning=V)})}_findPanelById(I){return this.panels.find(V=>V.id===I)||null}_updateActiveIds(){this.activeIds=this.panels.filter(I=>I.isOpen&&!I.disabled).map(I=>I.id)}_runTransitions(I){this._changeDetector.detectChanges(),this.panels.forEach(V=>{V.transitionRunning&&he(this._ngZone,V.panelDiv,ze,{animation:I,runningTransition:"stop",context:{direction:V.isOpen?"show":"hide"}}).subscribe(()=>{V.transitionRunning=!1;const{id:Ae}=V;V.isOpen?(V.shown.emit(),this.shown.emit(Ae)):(V.hidden.emit(),this.hidden.emit(Ae))})})}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(On),i.rXU(i.SKi),i.rXU(i.gRc))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-accordion"]],contentQueries:function(I,V,ge){if(1&I&&i.wni(ge,Xn,4),2&I){let Ae;i.mGM(Ae=i.lsd())&&(V.panels=Ae)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(I,V){2&I&&i.BMQ("aria-multiselectable",!V.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:[i.Mj6.None,"closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["t",""],["ngbPanelHeader",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"ngbRef","id"],[1,"accordion-body"]],template:function(I,V){1&I&&i.DNE(0,Ei,3,3,"ng-template",1,0,i.C5r)(2,vr,4,12,"ng-template",2),2&I&&(i.R7$(2),i.Y8G("ngForOf",V.panels))},dependencies:()=>[fs,Di,t.T3,t.Sq,t.bT,hi],encapsulation:2}),N})(),Di=(()=>{class N{constructor(I,V){this.accordion=I,this.panel=V}set ngbPanelToggle(I){I&&(this.panel=I)}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(Fi),i.rXU(Xn,9))},N.\u0275dir=i.FsC({type:N,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(I,V){1&I&&i.bIt("click",function(){return V.accordion.toggle(V.panel.id)}),2&I&&(i.Mr5("disabled",V.panel.disabled),i.BMQ("aria-expanded",V.panel.isOpen)("aria-controls",V.panel.id),i.AVh("collapsed",!V.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),N})(),Go=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),Oi=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),go=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(I,V){2&I&&i.AVh("btn",!0)("active",V.active)("disabled",V.disabled)("focus",V.focused)}}),N})(),Eo=(()=>{class N{constructor(I,V){this._label=I,this._cd=V,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=ge=>{},this.onTouched=()=>{}}set focused(I){this._label.focused=I,I||this.onTouched()}onInputChange(I){const V=I.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(V),this.onTouched(),this.writeValue(V)}registerOnChange(I){this.onChange=I}registerOnTouched(I){this.onTouched=I}setDisabledState(I){this.disabled=I,this._label.disabled=I}writeValue(I){this.checked=I===this.valueChecked,this._label.active=this.checked,this._cd.markForCheck()}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(go),i.rXU(i.gRc))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbButton","","type","checkbox"]],hostVars:2,hostBindings:function(I,V){1&I&&i.bIt("change",function(Ae){return V.onInputChange(Ae)})("focus",function(){return V.focused=!0})("blur",function(){return V.focused=!1}),2&I&&i.Mr5("checked",V.checked)("disabled",V.disabled)},inputs:{disabled:"disabled",valueChecked:"valueChecked",valueUnChecked:"valueUnChecked"},features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>N),multi:!0}])]}),N})(),$o=0,ir=(()=>{class N{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+$o++,this.onChange=I=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(I){this.setDisabledState(I)}onRadioChange(I){this.writeValue(I.value),this.onChange(I.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(I){this._radios.add(I)}registerOnChange(I){this.onChange=I}registerOnTouched(I){this.onTouched=I}setDisabledState(I){this._disabled=I,this._updateRadiosDisabled()}unregister(I){this._radios.delete(I)}writeValue(I){this._value=I,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(I=>I.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(I=>I.updateDisabled())}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>N),multi:!0}])]}),N})(),Xi=(()=>{class N{constructor(I,V,ge,Ae,Nt){this._group=I,this._label=V,this._renderer=ge,this._element=Ae,this._cd=Nt,this._value=null,this._group.register(this),this.updateDisabled()}set value(I){this._value=I;const V=I?I.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",V),this._group.onRadioValueUpdate()}set disabled(I){this._disabled=!1!==I,this.updateDisabled()}set focused(I){this._label&&(this._label.focused=I),I||this._group.onTouched()}get checked(){return this._checked}get disabled(){return this._group.disabled||this._disabled}get value(){return this._value}get nameAttr(){return this.name||this._group.name}ngOnDestroy(){this._group.unregister(this)}onChange(){this._group.onRadioChange(this)}updateValue(I){this.value!==I&&this._cd.markForCheck(),this._checked=this.value===I,this._label.active=this._checked}updateDisabled(){this._label.disabled=this.disabled}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(ir),i.rXU(go),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(i.gRc))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbButton","","type","radio"]],hostVars:3,hostBindings:function(I,V){1&I&&i.bIt("change",function(){return V.onChange()})("focus",function(){return V.focused=!0})("blur",function(){return V.focused=!1}),2&I&&i.Mr5("checked",V.checked)("disabled",V.disabled)("name",V.nameAttr)},inputs:{name:"name",value:"value",disabled:"disabled"}}),N})(),Rr=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({}),N})(),Fa=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),Zs=(()=>{class N{constructor(I){this._ngbConfig=I}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(I){this._animation=I}}return N.\u0275fac=function(I){return new(I||N)(i.KVO(Lt))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),ac=(()=>{class N{constructor(I,V,ge){this._element=I,this._zone=ge,this.collapsed=!1,this.ngbCollapseChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.animation=V.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:I}){I.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(I=this.collapsed){this.collapsed=!I,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(I,V){return he(this._zone,this._element.nativeElement,ze,{animation:V,runningTransition:"stop",context:{direction:I?"hide":"show"}})}_runTransitionWithEvents(I,V){this._runTransition(I,V).subscribe(()=>{I?this.hidden.emit():this.shown.emit()})}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.aKT),i.rXU(Zs),i.rXU(i.SKi))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:[i.Mj6.None,"ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[i.OA$]}),N})(),Qa=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({}),N})();class Bi{constructor(Y,I,V){this.year=Ut(Y)?Y:null,this.month=Ut(I)?I:null,this.day=Ut(V)?V:null}static from(Y){return Y instanceof Bi?Y:Y?new Bi(Y.year,Y.month,Y.day):null}equals(Y){return null!=Y&&this.year===Y.year&&this.month===Y.month&&this.day===Y.day}before(Y){return!!Y&&(this.year===Y.year?this.month===Y.month?this.day!==Y.day&&this.day<Y.day:this.month<Y.month:this.year<Y.year)}after(Y){return!!Y&&(this.year===Y.year?this.month===Y.month?this.day!==Y.day&&this.day>Y.day:this.month>Y.month:this.year>Y.year)}}function Ms(N,Y){return!function _o(N,Y){return!N&&!Y||!!N&&!!Y&&N.equals(Y)}(N,Y)}function jr(N,Y){return!(!N&&!Y||N&&Y&&N.year===Y.year&&N.month===Y.month)}function si(N,Y,I){return N&&Y&&N.before(Y)?Y:N&&I&&N.after(I)?I:N||null}function Wo(N,Y){const{minDate:I,maxDate:V,disabled:ge,markDisabled:Ae}=Y;return!(null==N||ge||Ae&&Ae(N,{year:N.year,month:N.month})||I&&N.before(I)||V&&N.after(V))}function Bl(N){return new Bi(N.getFullYear(),N.getMonth()+1,N.getDate())}function de(N){const Y=new Date(N.year,N.month-1,N.day,12);return isNaN(Y.getTime())||Y.setFullYear(N.year),Y}let pe=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=i.jDH({token:N,factory:()=>function Oe(){return new Me}(),providedIn:"root"}),N})(),Me=(()=>{class N extends pe{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(I,V="d",ge=1){let Ae=de(I),Nt=!0,qt=Ae.getMonth();switch(V){case"y":Ae.setFullYear(Ae.getFullYear()+ge);break;case"m":qt+=ge,Ae.setMonth(qt),qt%=12,qt<0&&(qt+=12);break;case"d":Ae.setDate(Ae.getDate()+ge),Nt=!1;break;default:return I}return Nt&&Ae.getMonth()!==qt&&Ae.setDate(0),Bl(Ae)}getPrev(I,V="d",ge=1){return this.getNext(I,V,-ge)}getWeekday(I){let ge=de(I).getDay();return 0===ge?7:ge}getWeekNumber(I,V){7===V&&(V=0);const Nt=de(I[(11-V)%7]);Nt.setDate(Nt.getDate()+4-(Nt.getDay()||7));const qt=Nt.getTime();return Nt.setMonth(0),Nt.setDate(1),Math.floor(Math.round((qt-Nt.getTime())/864e5)/7)+1}getToday(){return Bl(new Date)}isValid(I){if(!(I&&Ut(I.year)&&Ut(I.month)&&Ut(I.day)&&0!==I.year))return!1;const V=de(I);return!isNaN(V.getTime())&&V.getFullYear()===I.year&&V.getMonth()+1===I.month&&V.getDate()===I.day}}return N.\u0275fac=(()=>{let Y;return function(V){return(Y||(Y=i.xGo(N)))(V||N)}})(),N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac}),N})(),ft=(()=>{class N{getMonthLabel(I){return`${this.getMonthFullName(I.month,I.year)} ${this.getYearNumerals(I.year)}`}getDayNumerals(I){return`${I.day}`}getWeekNumerals(I){return`${I}`}getYearNumerals(I){return`${I}`}getWeekLabel(){return""}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=i.jDH({token:N,factory:function(I){let V=null;return V=I?new I:function He(N){return new Se(N)}(i.KVO(i.xe9)),V},providedIn:"root"}),N})(),Se=(()=>{class N extends ft{constructor(I){super(),this._locale=I,this._monthsShort=(0,t.tL)(I,t.oV.Standalone,t.cH.Abbreviated),this._monthsFull=(0,t.tL)(I,t.oV.Standalone,t.cH.Wide)}getWeekdayLabel(I,V){const ge=(0,t.XO)(this._locale,t.oV.Standalone,void 0===V?t.cH.Short:V);return ge.map((Nt,qt)=>ge[(qt+1)%7])[I-1]||""}getMonthShortName(I){return this._monthsShort[I-1]||""}getMonthFullName(I){return this._monthsFull[I-1]||""}getDayAriaLabel(I){const V=new Date(I.year,I.month-1,I.day);return(0,t.Yq)(V,"fullDate",this._locale)}}return N.\u0275fac=function(I){return new(I||N)(i.KVO(i.xe9))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac}),N})(),ye=(()=>{class N{constructor(I,V){this._calendar=I,this._i18n=V,this._VALIDATORS={dayTemplateData:ge=>{if(this._state.dayTemplateData!==ge)return{dayTemplateData:ge}},displayMonths:ge=>{if(Ut(ge=ro(ge))&&ge>0&&this._state.displayMonths!==ge)return{displayMonths:ge}},disabled:ge=>{if(this._state.disabled!==ge)return{disabled:ge}},firstDayOfWeek:ge=>{if(Ut(ge=ro(ge))&&ge>=0&&this._state.firstDayOfWeek!==ge)return{firstDayOfWeek:ge}},focusVisible:ge=>{if(this._state.focusVisible!==ge&&!this._state.disabled)return{focusVisible:ge}},markDisabled:ge=>{if(this._state.markDisabled!==ge)return{markDisabled:ge}},maxDate:ge=>{const Ae=this.toValidDate(ge,null);if(Ms(this._state.maxDate,Ae))return{maxDate:Ae}},minDate:ge=>{const Ae=this.toValidDate(ge,null);if(Ms(this._state.minDate,Ae))return{minDate:Ae}},navigation:ge=>{if(this._state.navigation!==ge)return{navigation:ge}},outsideDays:ge=>{if(this._state.outsideDays!==ge)return{outsideDays:ge}},weekdays:ge=>{const Ae=!0===ge||!1===ge?t.cH.Short:ge,Nt=!0!==ge&&!1!==ge||ge;if(this._state.weekdayWidth!==Ae||this._state.weekdaysVisible!==Nt)return{weekdayWidth:Ae,weekdaysVisible:Nt}}},this._model$=new m.B,this._dateSelect$=new m.B,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:t.cH.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,M.p)(I=>I.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,M.p)(I=>null!==I))}set(I){let V=Object.keys(I).map(ge=>this._VALIDATORS[ge](I[ge])).reduce((ge,Ae)=>({...ge,...Ae}),{});Object.keys(V).length>0&&this._nextState(V)}focus(I){const V=this.toValidDate(I,null);null!=V&&!this._state.disabled&&Ms(this._state.focusDate,V)&&this._nextState({focusDate:I})}focusSelect(){Wo(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(I){const V=this.toValidDate(I,this._calendar.getToday());null!=V&&!this._state.disabled&&(!this._state.firstDate||jr(this._state.firstDate,V))&&this._nextState({firstDate:V})}select(I,V={}){const ge=this.toValidDate(I,null);null!=ge&&!this._state.disabled&&(Ms(this._state.selectedDate,ge)&&this._nextState({selectedDate:ge}),V.emitEvent&&Wo(ge,this._state)&&this._dateSelect$.next(ge))}toValidDate(I,V){const ge=Bi.from(I);return void 0===V&&(V=this._calendar.getToday()),this._calendar.isValid(ge)?ge:V}getMonth(I){for(let V of this._state.months)if(I.month===V.number&&I.year===V.year)return V;throw new Error(`month ${I.month} of year ${I.year} not found`)}_nextState(I){const V=this._updateState(I);this._patchContexts(V),this._state=V,this._model$.next(this._state)}_patchContexts(I){const{months:V,displayMonths:ge,selectedDate:Ae,focusDate:Nt,focusVisible:qt,disabled:en,outsideDays:Mn}=I;I.months.forEach(In=>{In.weeks.forEach(us=>{us.days.forEach(Kn=>{Nt&&(Kn.context.focused=Nt.equals(Kn.date)&&qt),Kn.tabindex=!en&&Nt&&Kn.date.equals(Nt)&&Nt.month===In.number?0:-1,!0===en&&(Kn.context.disabled=!0),void 0!==Ae&&(Kn.context.selected=null!==Ae&&Ae.equals(Kn.date)),In.number!==Kn.date.month&&(Kn.hidden="hidden"===Mn||"collapsed"===Mn||ge>1&&Kn.date.after(V[0].firstDate)&&Kn.date.before(V[ge-1].lastDate))})})})}_updateState(I){const V=Object.assign({},this._state,I);let ge=V.firstDate;if(("minDate"in I||"maxDate"in I)&&(function Fc(N,Y){if(Y&&N&&Y.before(N))throw new Error(`'maxDate' ${Y} should be greater than 'minDate' ${N}`)}(V.minDate,V.maxDate),V.focusDate=si(V.focusDate,V.minDate,V.maxDate),V.firstDate=si(V.firstDate,V.minDate,V.maxDate),ge=V.focusDate),"disabled"in I&&(V.focusVisible=!1),"selectedDate"in I&&0===this._state.months.length&&(ge=V.selectedDate),"focusVisible"in I||"focusDate"in I&&(V.focusDate=si(V.focusDate,V.minDate,V.maxDate),ge=V.focusDate,0!==V.months.length&&V.focusDate&&!V.focusDate.before(V.firstDate)&&!V.focusDate.after(V.lastDate)))return V;if("firstDate"in I&&(V.firstDate=si(V.firstDate,V.minDate,V.maxDate),ge=V.firstDate),ge){const Nt=function Fl(N,Y,I,V,ge){const{displayMonths:Ae,months:Nt}=I,qt=Nt.splice(0,Nt.length);return Array.from({length:Ae},(Mn,In)=>{const us=Object.assign(N.getNext(Y,"m",In),{day:1});if(Nt[In]=null,!ge){const Kn=qt.findIndex(Ts=>Ts.firstDate.equals(us));-1!==Kn&&(Nt[In]=qt.splice(Kn,1)[0])}return us}).forEach((Mn,In)=>{null===Nt[In]&&(Nt[In]=function ru(N,Y,I,V,ge={}){const{dayTemplateData:Ae,minDate:Nt,maxDate:qt,firstDayOfWeek:en,markDisabled:Mn,outsideDays:In,weekdayWidth:us,weekdaysVisible:Kn}=I,Ts=N.getToday();ge.firstDate=null,ge.lastDate=null,ge.number=Y.month,ge.year=Y.year,ge.weeks=ge.weeks||[],ge.weekdays=ge.weekdays||[],Y=function au(N,Y,I){const V=N.getDaysPerWeek(),ge=new Bi(Y.year,Y.month,1),Ae=N.getWeekday(ge)%V;return N.getPrev(ge,"d",(V+Ae-I)%V)}(N,Y,en),Kn||(ge.weekdays.length=0);for(let Si=0;Si<N.getWeeksPerMonth();Si++){let zs=ge.weeks[Si];zs||(zs=ge.weeks[Si]={number:0,days:[],collapsed:!0});const ti=zs.days;for(let ji=0;ji<N.getDaysPerWeek();ji++){0===Si&&Kn&&(ge.weekdays[ji]=V.getWeekdayLabel(N.getWeekday(Y),us));const Ui=new Bi(Y.year,Y.month,Y.day),Ao=N.getNext(Ui),gi=V.getDayAriaLabel(Ui);let Ki=!!(Nt&&Ui.before(Nt)||qt&&Ui.after(qt));!Ki&&Mn&&(Ki=Mn(Ui,{month:ge.number,year:ge.year}));let xi=Ui.equals(Ts),Lo=Ae?Ae(Ui,{month:ge.number,year:ge.year}):void 0;null===ge.firstDate&&Ui.month===ge.number&&(ge.firstDate=Ui),Ui.month===ge.number&&Ao.month!==ge.number&&(ge.lastDate=Ui);let wo=ti[ji];wo||(wo=ti[ji]={}),wo.date=Ui,wo.context=Object.assign(wo.context||{},{$implicit:Ui,date:Ui,data:Lo,currentMonth:ge.number,currentYear:ge.year,disabled:Ki,focused:!1,selected:!1,today:xi}),wo.tabindex=-1,wo.ariaLabel=gi,wo.hidden=!1,Y=Ao}zs.number=N.getWeekNumber(ti.map(ji=>ji.date),en),zs.collapsed="collapsed"===In&&ti[0].date.month!==ge.number&&ti[ti.length-1].date.month!==ge.number}return ge}(N,Mn,I,V,qt.shift()||{}))}),Nt}(this._calendar,ge,V,this._i18n,"dayTemplateData"in I||"firstDayOfWeek"in I||"markDisabled"in I||"minDate"in I||"maxDate"in I||"disabled"in I||"outsideDays"in I||"weekdaysVisible"in I);V.months=Nt,V.firstDate=Nt[0].firstDate,V.lastDate=Nt[Nt.length-1].lastDate,"selectedDate"in I&&!Wo(V.selectedDate,V)&&(V.selectedDate=null),"firstDate"in I&&(!V.focusDate||V.focusDate.before(V.firstDate)||V.focusDate.after(V.lastDate))&&(V.focusDate=ge);const qt=!this._state.firstDate||this._state.firstDate.year!==V.firstDate.year,en=!this._state.firstDate||this._state.firstDate.month!==V.firstDate.month;"select"===V.navigation?(("minDate"in I||"maxDate"in I||0===V.selectBoxes.years.length||qt)&&(V.selectBoxes.years=function Ba(N,Y,I){if(!N)return[];const V=Y?Math.max(Y.year,N.year-500):N.year-10,Ae=(I?Math.min(I.year,N.year+500):N.year+10)-V+1,Nt=Array(Ae);for(let qt=0;qt<Ae;qt++)Nt[qt]=V+qt;return Nt}(V.firstDate,V.minDate,V.maxDate)),("minDate"in I||"maxDate"in I||0===V.selectBoxes.months.length||qt)&&(V.selectBoxes.months=function fl(N,Y,I,V){if(!Y)return[];let ge=N.getMonths(Y.year);if(I&&Y.year===I.year){const Ae=ge.findIndex(Nt=>Nt===I.month);ge=ge.slice(Ae)}if(V&&Y.year===V.year){const Ae=ge.findIndex(Nt=>Nt===V.month);ge=ge.slice(0,Ae+1)}return ge}(this._calendar,V.firstDate,V.minDate,V.maxDate))):V.selectBoxes={years:[],months:[]},("arrows"===V.navigation||"select"===V.navigation)&&(en||qt||"minDate"in I||"maxDate"in I||"disabled"in I)&&(V.prevDisabled=V.disabled||function Ur(N,Y,I){const V=Object.assign(N.getPrev(Y,"m"),{day:1});return null!=I&&(V.year===I.year&&V.month<I.month||V.year<I.year&&1===I.month)}(this._calendar,V.firstDate,V.minDate),V.nextDisabled=V.disabled||function Nl(N,Y,I){const V=Object.assign(N.getNext(Y,"m"),{day:1});return null!=I&&V.after(I)}(this._calendar,V.lastDate,V.maxDate))}return V}}return N.\u0275fac=function(I){return new(I||N)(i.KVO(pe),i.KVO(ft))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac}),N})();var ae=function(N){return N[N.PREV=0]="PREV",N[N.NEXT=1]="NEXT",N}(ae||{});let Pe=(()=>{class N{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=t.cH.Short}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Bt=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=i.jDH({token:N,factory:()=>function nt(){return new _n}(),providedIn:"root"}),N})(),_n=(()=>{class N extends Bt{fromModel(I){return I&&Ut(I.year)&&Ut(I.month)&&Ut(I.day)?{year:I.year,month:I.month,day:I.day}:null}toModel(I){return I&&Ut(I.year)&&Ut(I.month)&&Ut(I.day)?{year:I.year,month:I.month,day:I.day}:null}}return N.\u0275fac=(()=>{let Y;return function(V){return(Y||(Y=i.xGo(N)))(V||N)}})(),N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac}),N})(),Ln=(()=>{class N{constructor(I){this.i18n=I}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(ft))},N.\u0275cmp=i.VBU({type:N,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(I,V){2&I&&i.AVh("bg-primary",V.selected)("text-white",V.selected)("text-muted",V.isMuted())("outside",V.isMuted())("active",V.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:Xr,decls:1,vars:1,template:function(I,V){1&I&&i.EFF(0),2&I&&i.JRh(V.i18n.getDayNumerals(V.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),N})(),rs=(()=>{class N{constructor(I,V){this.i18n=I,this._renderer=V,this.select=new i.bkB,this._month=-1,this._year=-1}changeMonth(I){this.select.emit(new Bi(this.date.year,ro(I),1))}changeYear(I){this.select.emit(new Bi(ro(I),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(ft),i.rXU(i.sFG))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(I,V){if(1&I&&(i.GBs(po,7,i.aKT),i.GBs(Er,7,i.aKT)),2&I){let ge;i.mGM(ge=i.lsd())&&(V.monthSelect=ge.first),i.mGM(ge=i.lsd())&&(V.yearSelect=ge.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:()=>{let Y,I,V,ge;return Y=$localize`:@@ngb.datepicker.select-month:Select month`,I=$localize`:@@ngb.datepicker.select-month:Select month`,V=$localize`:@@ngb.datepicker.select-year:Select year`,ge=$localize`:@@ngb.datepicker.select-year:Select year`,[["month",""],["year",""],["aria-label",Y,"title",I,1,"form-select",3,"change","disabled"],[3,"value",4,"ngFor","ngForOf"],["aria-label",V,"title",ge,1,"form-select",3,"change","disabled"],[3,"value"]]},template:function(I,V){if(1&I){const ge=i.RV6();i.j41(0,"select",2,0),i.bIt("change",function(Nt){return i.eBV(ge),i.Njj(V.changeMonth(Nt.target.value))}),i.DNE(2,Ks,2,3,"option",3),i.k0s(),i.j41(3,"select",4,1),i.bIt("change",function(Nt){return i.eBV(ge),i.Njj(V.changeYear(Nt.target.value))}),i.DNE(5,hr,2,2,"option",3),i.k0s()}2&I&&(i.Y8G("disabled",V.disabled),i.R7$(2),i.Y8G("ngForOf",V.months),i.R7$(),i.Y8G("disabled",V.disabled),i.R7$(2),i.Y8G("ngForOf",V.years))},dependencies:[t.Sq,Z.xH,Z.y7],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),N})(),gs=(()=>{class N{constructor(I){this.i18n=I,this.navigation=ae,this.months=[],this.navigate=new i.bkB,this.select=new i.bkB}onClickPrev(I){I.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(I){I.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(ft))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:()=>{let Y,I,V,ge;return Y=$localize`:@@ngb.datepicker.previous-month:Previous month`,I=$localize`:@@ngb.datepicker.previous-month:Previous month`,V=$localize`:@@ngb.datepicker.next-month:Next month`,ge=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",Y,"title",I,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",V,"title",ge,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-select",3,"select","date","disabled","months","years"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(I,V){1&I&&(i.j41(0,"div",0)(1,"button",1),i.bIt("click",function(Ae){return V.onClickPrev(Ae)}),i.nrm(2,"span",2),i.k0s()(),i.DNE(3,Jr,1,4,"ngb-datepicker-navigation-select",3)(4,sa,1,1,null,4),i.j41(5,"div",5)(6,"button",6),i.bIt("click",function(Ae){return V.onClickNext(Ae)}),i.nrm(7,"span",2),i.k0s()()),2&I&&(i.R7$(),i.Y8G("disabled",V.prevDisabled),i.R7$(2),i.Y8G("ngIf",V.showSelect),i.R7$(),i.Y8G("ngIf",!V.showSelect),i.R7$(2),i.Y8G("disabled",V.nextDisabled))},dependencies:[rs,t.bT,t.Sq],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),N})();var vs=function(N){return N[N.Tab=9]="Tab",N[N.Enter=13]="Enter",N[N.Escape=27]="Escape",N[N.Space=32]="Space",N[N.PageUp=33]="PageUp",N[N.PageDown=34]="PageDown",N[N.End=35]="End",N[N.Home=36]="Home",N[N.ArrowLeft=37]="ArrowLeft",N[N.ArrowUp=38]="ArrowUp",N[N.ArrowRight=39]="ArrowRight",N[N.ArrowDown=40]="ArrowDown",N}(vs||{});let Ji=(()=>{class N{processKey(I,V){const{state:ge,calendar:Ae}=V;switch(I.which){case vs.PageUp:V.focusDate(Ae.getPrev(ge.focusedDate,I.shiftKey?"y":"m",1));break;case vs.PageDown:V.focusDate(Ae.getNext(ge.focusedDate,I.shiftKey?"y":"m",1));break;case vs.End:V.focusDate(I.shiftKey?ge.maxDate:ge.lastDate);break;case vs.Home:V.focusDate(I.shiftKey?ge.minDate:ge.firstDate);break;case vs.ArrowLeft:V.focusDate(Ae.getPrev(ge.focusedDate,"d",1));break;case vs.ArrowUp:V.focusDate(Ae.getPrev(ge.focusedDate,"d",Ae.getDaysPerWeek()));break;case vs.ArrowRight:V.focusDate(Ae.getNext(ge.focusedDate,"d",1));break;case vs.ArrowDown:V.focusDate(Ae.getNext(ge.focusedDate,"d",Ae.getDaysPerWeek()));break;case vs.Enter:case vs.Space:V.focusSelect();break;default:return}I.preventDefault(),I.stopPropagation()}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Oa=(()=>{class N{constructor(I){this.templateRef=I}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbDatepickerContent",""]]}),N})(),ml=(()=>{class N{constructor(I,V,ge,Ae,Nt,qt,en,Mn){this._service=I,this._calendar=V,this.i18n=ge,this._elementRef=qt,this._ngbDateAdapter=en,this._ngZone=Mn,this._controlValue=null,this._destroyed$=new m.B,this._publicState={},this.navigate=new i.bkB,this.dateSelect=new i.bkB,this.onChange=In=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(In=>this[In]=Ae[In]),I.dateSelect$.pipe((0,w.Q)(this._destroyed$)).subscribe(In=>{this.dateSelect.emit(In)}),I.model$.pipe((0,w.Q)(this._destroyed$)).subscribe(In=>{const us=In.firstDate,Kn=this.model?this.model.firstDate:null;this._publicState={maxDate:In.maxDate,minDate:In.minDate,firstDate:In.firstDate,lastDate:In.lastDate,focusedDate:In.focusDate,months:In.months.map(ji=>ji.firstDate)};let Ts=!1;if(!us.equals(Kn)&&(this.navigate.emit({current:Kn?{year:Kn.year,month:Kn.month}:null,next:{year:us.year,month:us.month},preventDefault:()=>Ts=!0}),Ts&&null!==Kn))return void this._service.open(Kn);const Si=In.selectedDate,zs=In.focusDate,ti=this.model?this.model.focusDate:null;this.model=In,Ms(Si,this._controlValue)&&(this._controlValue=Si,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(Si))),Ms(zs,ti)&&ti&&In.focusVisible&&this.focus(),Nt.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(I){this._service.focus(Bi.from(I))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,x.s)(1)).subscribe(()=>{const I=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');I&&I.focus()})}navigateTo(I){this._service.open(Bi.from(I?I.day?I:{...I,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const I=(0,f.R)(this._contentEl.nativeElement,"focusin"),V=(0,f.R)(this._contentEl.nativeElement,"focusout"),{nativeElement:ge}=this._elementRef;(0,p.h)(I,V).pipe((0,M.p)(({target:Ae,relatedTarget:Nt})=>!(os(Ae,"ngb-dp-day")&&os(Nt,"ngb-dp-day")&&ge.contains(Ae)&&ge.contains(Nt))),(0,w.Q)(this._destroyed$)).subscribe(({type:Ae})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===Ae})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const I={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(V=>I[V]=this[V]),this._service.set(I),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(I){const V={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(ge=>ge in I).forEach(ge=>V[ge]=this[ge]),this._service.set(V),"startDate"in I){const{currentValue:ge,previousValue:Ae}=I.startDate;jr(Ae,ge)&&this.navigateTo(this.startDate)}}onDateSelect(I){this._service.focus(I),this._service.select(I,{emitEvent:!0})}onNavigateDateSelect(I){this._service.open(I)}onNavigateEvent(I){switch(I){case ae.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case ae.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(I){this.onChange=I}registerOnTouched(I){this.onTouched=I}setDisabledState(I){this._service.set({disabled:I})}writeValue(I){this._controlValue=Bi.from(this._ngbDateAdapter.fromModel(I)),this._service.select(this._controlValue)}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(ye),i.rXU(pe),i.rXU(ft),i.rXU(Pe),i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(Bt),i.rXU(i.SKi))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-datepicker"]],contentQueries:function(I,V,ge){if(1&I&&i.wni(ge,Oa,7),2&I){let Ae;i.mGM(Ae=i.lsd())&&(V.contentTemplate=Ae.first)}},viewQuery:function(I,V){if(1&I&&(i.GBs(rr,7),i.GBs(Qr,7)),2&I){let ge;i.mGM(ge=i.lsd())&&(V._defaultDayTemplate=ge.first),i.mGM(ge=i.lsd())&&(V._contentEl=ge.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>N),multi:!0},ye]),i.OA$],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],["content",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"navigate","select","date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"]],template:function(I,V){if(1&I&&(i.DNE(0,_a,1,5,"ng-template",null,0,i.C5r)(2,qe,1,1,"ng-template",null,1,i.C5r),i.j41(4,"div",3),i.DNE(5,at,1,7,"ngb-datepicker-navigation",4),i.k0s(),i.j41(6,"div",5,2),i.DNE(8,jt,0,0,"ng-template",6),i.k0s(),i.DNE(9,Vt,0,0,"ng-template",6)),2&I){const ge=i.sdS(3);i.R7$(5),i.Y8G("ngIf","none"!==V.navigation),i.R7$(),i.AVh("ngb-dp-months",!V.contentTemplate),i.R7$(2),i.Y8G("ngTemplateOutlet",(null==V.contentTemplate?null:V.contentTemplate.templateRef)||ge),i.R7$(),i.Y8G("ngTemplateOutlet",V.footerTemplate)}},dependencies:()=>[Ln,Za,gs,t.Sq,t.bT,t.T3],styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),N})(),Za=(()=>{class N{constructor(I,V,ge,Ae){this.i18n=I,this.datepicker=V,this._keyboardService=ge,this._service=Ae}set month(I){this.viewModel=this._service.getMonth(I)}onKeyDown(I){this._keyboardService.processKey(I,this.datepicker)}doSelect(I){!I.context.disabled&&!I.hidden&&this.datepicker.onDateSelect(I.date)}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(ft),i.rXU(ml),i.rXU(Ji),i.rXU(ye))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(I,V){1&I&&i.bIt("keydown",function(Ae){return V.onKeyDown(Ae)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"click","tabindex"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(I,V){1&I&&i.DNE(0,Os,3,2,"div",0)(1,ni,1,1,"ng-template",1),2&I&&(i.Y8G("ngIf",V.viewModel.weekdays.length>0),i.R7$(),i.Y8G("ngForOf",V.viewModel.weeks))},dependencies:[t.bT,t.Sq,t.T3],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#0dcaf0;color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),N})();const qa=(N,Y)=>!!Y&&Y.some(I=>I.contains(N)),kr=(N,Y)=>!Y||null!=function Us(N,Y){return!Y||typeof N.closest>"u"?null:N.closest(Y)}(N,Y),ln=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function gl(N,Y,I,V,ge,Ae,Nt,qt){I&&N.runOutsideAngular((N=>ln?()=>setTimeout(()=>N(),100):N)(()=>{const Mn=(0,f.R)(Y,"keydown").pipe((0,w.Q)(ge),(0,M.p)(Kn=>Kn.which===vs.Escape),(0,K.M)(Kn=>Kn.preventDefault())),In=(0,f.R)(Y,"mousedown").pipe((0,j.T)(Kn=>{const Ts=Kn.target;return 2!==Kn.button&&!qa(Ts,Nt)&&("inside"===I?qa(Ts,Ae)&&kr(Ts,qt):"outside"===I?!qa(Ts,Ae):kr(Ts,qt)||!qa(Ts,Ae))}),(0,w.Q)(ge)),us=(0,f.R)(Y,"mouseup").pipe((0,X.E)(In),(0,M.p)(([Kn,Ts])=>Ts),(0,G.c)(0),(0,w.Q)(ge));(0,E.O)([Mn.pipe((0,j.T)(Kn=>0)),us.pipe((0,j.T)(Kn=>1))]).subscribe(Kn=>N.run(()=>V(Kn)))}))}const cu=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function vp(N){const Y=Array.from(N.querySelectorAll(cu)).filter(I=>-1!==I.tabIndex);return[Y[0],Y[Y.length-1]]}const yp=(N,Y,I,V=!1)=>{N.runOutsideAngular(()=>{const ge=(0,f.R)(Y,"focusin").pipe((0,w.Q)(I),(0,j.T)(Ae=>Ae.target));(0,f.R)(Y,"keydown").pipe((0,w.Q)(I),(0,M.p)(Ae=>Ae.which===vs.Tab),(0,X.E)(ge)).subscribe(([Ae,Nt])=>{const[qt,en]=vp(Y);(Nt===qt||Nt===Y)&&Ae.shiftKey&&(en.focus(),Ae.preventDefault()),Nt===en&&!Ae.shiftKey&&(qt.focus(),Ae.preventDefault())}),V&&(0,f.R)(Y,"click").pipe((0,w.Q)(I),(0,X.E)(ge),(0,j.T)(Ae=>Ae[1])).subscribe(Ae=>Ae.focus())})},J_=/\s+/,Ep=/  +/gi,Q_=/^start/,_l=/^end/,vm=/-(top|left)$/,lc=/-(bottom|right)$/,Z_=/^left/,vl=/^right/,eo=/^start/,Cp=/^end/;function Vr({placement:N,baseClass:Y}){let I=Array.isArray(N)?N:N.split(J_),ge=I.findIndex(en=>"auto"===en);ge>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(en){null==I.find(Mn=>-1!==Mn.search("^"+en))&&I.splice(ge++,1,en)});const Ae=I.map(en=>function ym(N){return N.replace(Q_,"left").replace(_l,"right").replace(vm,"-start").replace(lc,"-end")}(en));return{placement:Ae.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!Y,phase:"write",fn({state:en}){const Mn=new RegExp(Y+"(-[a-z]+)*","gi"),In=en.elements.popper,us=en.placement;let Kn=In.className;Kn=Kn.replace(Mn,""),Kn+=` ${function du(N,Y){let[I,V]=Y.split("-");const ge=I.replace(Z_,"start").replace(vl,"end");let Ae=[ge];if(V){let Nt=V;("left"===I||"right"===I)&&(Nt=Nt.replace(eo,"top").replace(Cp,"bottom")),Ae.push(`${ge}-${Nt}`)}return N&&(Ae=Ae.map(Nt=>`${N}-${Nt}`)),Ae.join(" ")}(Y,us)}`,Kn=Kn.trim().replace(Ep," "),In.className=Kn}},Es,ci,sn,{enabled:!0,name:"flip",options:{fallbackPlacements:Ae}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Em(N){return N}function cc(){let N=null;return{createPopper(Y){if(!N){let V=(Y.updatePopperOptions||Em)(Vr(Y));N=on(Y.hostElement,Y.targetElement,V)}},update(){N&&N.update()},setOptions(Y){if(N){let V=(Y.updatePopperOptions||Em)(Vr(Y));N.setOptions(V)}},destroy(){N&&(N.destroy(),N=null)}}}let Bc=(()=>{class N extends Pe{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.restoreFocus=!0}}return N.\u0275fac=(()=>{let Y;return function(V){return(Y||(Y=i.xGo(N)))(V||N)}})(),N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function aa(N){return Y=>(Y.modifiers.push(qn,{name:"offset",options:{offset:()=>N}}),Y)}let uu=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=i.jDH({token:N,factory:()=>function oE(){return new Cm}(),providedIn:"root"}),N})(),Cm=(()=>{class N extends uu{parse(I){if(null!=I){const V=I.trim().split("-");if(1===V.length&&Wi(V[0]))return{year:ro(V[0]),month:null,day:null};if(2===V.length&&Wi(V[0])&&Wi(V[1]))return{year:ro(V[0]),month:ro(V[1]),day:null};if(3===V.length&&Wi(V[0])&&Wi(V[1])&&Wi(V[2]))return{year:ro(V[0]),month:ro(V[1]),day:ro(V[2])}}return null}format(I){return I?`${I.year}-${Wi(I.month)?An(I.month):""}-${Wi(I.day)?An(I.day):""}`:""}}return N.\u0275fac=(()=>{let Y;return function(V){return(Y||(Y=i.xGo(N)))(V||N)}})(),N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac}),N})(),el=(()=>{class N{constructor(I,V,ge,Ae,Nt,qt,en,Mn,In,us){this._parserFormatter=I,this._elRef=V,this._vcRef=ge,this._renderer=Ae,this._ngZone=Nt,this._calendar=qt,this._dateAdapter=en,this._document=Mn,this._changeDetector=In,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._positioning=cc(),this._destroyCloseHandlers$=new m.B,this.dateSelect=new i.bkB,this.navigate=new i.bkB,this.closed=new i.bkB,this._onChange=Kn=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(Kn=>this[Kn]=us[Kn])}get disabled(){return this._disabled}set disabled(I){this._disabled=""===I||I&&"false"!==I,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(I){this._onChange=I}registerOnTouched(I){this._onTouched=I}registerOnValidatorChange(I){this._validatorChange=I}setDisabledState(I){this.disabled=I}validate(I){const{value:V}=I;if(null!=V){const ge=this._fromDateStruct(this._dateAdapter.fromModel(V));if(!ge)return{ngbDate:{invalid:V}};if(this.minDate&&ge.before(Bi.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:V}}};if(this.maxDate&&ge.after(Bi.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:V}}}}return null}writeValue(I){this._model=this._fromDateStruct(this._dateAdapter.fromModel(I)),this._writeModelValue(this._model)}manualDateChange(I,V=!1){const ge=I!==this._inputValue;ge&&(this._inputValue=I,this._model=this._fromDateStruct(this._parserFormatter.parse(I))),(ge||!V)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===I?null:I),V&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){let I;if(this._cRef=this._vcRef.createComponent(ml),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(V=>{this.writeValue(V),this._onChange(V),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,yp(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>this._cRef?.instance.focus()),I=br(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this._ngZone.runOutsideAngular(()=>{this._cRef&&(this._positioning.createPopper({hostElement:I,targetElement:this._cRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:aa([0,2])}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),this.positionTarget&&!I)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._setCloseHandlers()}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let I=this._elWithFocus;br(this.restoreFocus)?I=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(I=this.restoreFocus),I&&I.focus?I.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(I){this.isOpen()&&this._cRef.instance.navigateTo(I)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(I){if((I.minDate||I.maxDate)&&(this._validatorChange(),this.isOpen()&&(I.minDate&&(this._cRef.instance.minDate=this.minDate),I.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(I))),I.datepickerClass){const{currentValue:V,previousValue:ge}=I.datepickerClass;this._applyPopupClass(V,ge)}I.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(I){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(V=>{void 0!==this[V]&&(I[V]=this[V])}),I.startDate=this.startDate||this._model}_applyPopupClass(I,V){const ge=this._cRef?.location.nativeElement;ge&&(I&&this._renderer.addClass(ge,I),V&&this._renderer.removeClass(ge,V))}_applyPopupStyling(I){this._renderer.addClass(I,"dropdown-menu"),this._renderer.addClass(I,"show"),"body"===this.container&&this._renderer.addClass(I,"ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(I){I.navigate.subscribe(V=>this.navigate.emit(V)),I.dateSelect.subscribe(V=>{this.dateSelect.emit(V),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(I){const V=this._parserFormatter.format(I);this._inputValue=V,this._renderer.setProperty(this._elRef.nativeElement,"value",V),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(I)),this._onTouched())}_fromDateStruct(I){const V=I?new Bi(I.year,I.month,I.day):null;return this._calendar.isValid(V)?V:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),gl(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(uu),i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(i.sFG),i.rXU(i.SKi),i.rXU(pe),i.rXU(Bt),i.rXU(t.qQ),i.rXU(i.gRc),i.rXU(Bc))},N.\u0275dir=i.FsC({type:N,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(I,V){1&I&&i.bIt("input",function(Ae){return V.manualDateChange(Ae.target.value)})("change",function(Ae){return V.manualDateChange(Ae.target.value,!0)})("focus",function(){return V.onFocus()})("blur",function(){return V.onBlur()}),2&I&&i.Mr5("disabled",V.disabled)},inputs:{autoClose:"autoClose",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>N),multi:!0},{provide:Z.cz,useExisting:(0,i.Rfq)(()=>N),multi:!0},{provide:Pe,useExisting:Bc}]),i.OA$]}),N})();new Date(1882,10,12),new Date(2174,10,25);let wi=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD,Z.YN]]}),N})(),rv=(()=>{class N{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Sp=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275dir=i.FsC({type:N,selectors:[["",8,"navbar"]]}),N})(),_d=(()=>{class N{constructor(I,V){this.elementRef=I,this._renderer=V,this._disabled=!1}set disabled(I){this._disabled=""===I||!0===I,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.aKT),i.rXU(i.sFG))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(I,V){2&I&&(i.Mr5("tabIndex",V.disabled?-1:0),i.AVh("disabled",V.disabled))},inputs:{disabled:"disabled"}}),N})(),dh=(()=>{class N{constructor(I,V){this.dropdown=I,this.placement="bottom",this.isOpen=!1,this.nativeElement=V.nativeElement}}return N.\u0275fac=function(I){return new(I||N)(i.rXU((0,i.Rfq)(()=>pu)),i.rXU(i.aKT))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(I,V,ge){if(1&I&&i.wni(ge,_d,4),2&I){let Ae;i.mGM(Ae=i.lsd())&&(V.menuItems=Ae)}},hostVars:4,hostBindings:function(I,V){1&I&&i.bIt("keydown.ArrowUp",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.ArrowDown",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.Home",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.End",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.Enter",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.Space",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.Tab",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.Shift.Tab",function(Ae){return V.dropdown.onKeyDown(Ae)}),2&I&&i.AVh("dropdown-menu",!0)("show",V.dropdown.isOpen())}}),N})(),Ko=(()=>{class N{constructor(I,V){this.dropdown=I,this.nativeElement=V.nativeElement}}return N.\u0275fac=function(I){return new(I||N)(i.rXU((0,i.Rfq)(()=>pu)),i.rXU(i.aKT))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(I,V){2&I&&i.BMQ("aria-expanded",V.dropdown.isOpen())}}),N})(),$r=(()=>{class N extends Ko{constructor(I,V){super(I,V)}}return N.\u0275fac=function(I){return new(I||N)(i.rXU((0,i.Rfq)(()=>pu)),i.rXU(i.aKT))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(I,V){1&I&&i.bIt("click",function(){return V.dropdown.toggle()})("keydown.ArrowUp",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.ArrowDown",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.Home",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.End",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.Tab",function(Ae){return V.dropdown.onKeyDown(Ae)})("keydown.Shift.Tab",function(Ae){return V.dropdown.onKeyDown(Ae)}),2&I&&i.BMQ("aria-expanded",V.dropdown.isOpen())},features:[i.Jv_([{provide:Ko,useExisting:(0,i.Rfq)(()=>N)}]),i.Vt3]}),N})(),pu=(()=>{class N{constructor(I,V,ge,Ae,Nt,qt,en){this._changeDetector=I,this._document=ge,this._ngZone=Ae,this._elementRef=Nt,this._renderer=qt,this._destroyCloseHandlers$=new m.B,this._bodyContainer=null,this._positioning=cc(),this._open=!1,this.openChange=new i.bkB,this.placement=V.placement,this.container=V.container,this.autoClose=V.autoClose,this.display=en?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe((0,x.s)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(I){if(I.container&&this._open&&this._applyContainer(this.container),I.placement&&!I.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),I.dropdownClass){const{currentValue:V,previousValue:ge}=I.dropdownClass;this._applyCustomDropdownClass(V,ge)}I.autoClose&&this._open&&(this.autoClose=I.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:aa([0,2])}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),gl(this._ngZone,this._document,this.autoClose,I=>{this.close(),0===I&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(I){const V=I.which,ge=this._getMenuElements();let Ae=-1,Nt=null;const qt=this._isEventFromToggle(I);if(!qt&&ge.length&&ge.forEach((en,Mn)=>{en.contains(I.target)&&(Nt=en),en===this._document.activeElement&&(Ae=Mn)}),V!==vs.Space&&V!==vs.Enter){if(V!==vs.Tab){if(qt||Nt){if(this.open(),ge.length){switch(V){case vs.ArrowDown:Ae=Math.min(Ae+1,ge.length-1);break;case vs.ArrowUp:if(this._isDropup()&&-1===Ae){Ae=ge.length-1;break}Ae=Math.max(Ae-1,0);break;case vs.Home:Ae=0;break;case vs.End:Ae=ge.length-1}ge[Ae].focus()}I.preventDefault()}}else if(I.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===I.target)return void("body"!==this.container||I.shiftKey?I.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const en=this._menu.nativeElement.querySelectorAll(cu);I.shiftKey&&I.target===en[0]?(this._anchor.nativeElement.focus(),I.preventDefault()):!I.shiftKey&&I.target===en[en.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,f.R)(I.target,"focusout").pipe((0,x.s)(1)).subscribe(({relatedTarget:en})=>{this._elementRef.nativeElement.contains(en)||this.close()})}}else Nt&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,f.R)(Nt,"click").pipe((0,x.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(I){return this._anchor.nativeElement.contains(I.target)}_getMenuElements(){const I=this._menu;return null==I?[]:I.menuItems.filter(V=>!V.disabled).map(V=>V.elementRef.nativeElement)}_positionMenu(){const I=this._menu;this.isOpen()&&I&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(I){return Array.isArray(I)?I[0]:I.split(" ")[0]}_resetContainer(){const I=this._renderer;this._menu&&I.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(I.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(I=null){if(this._resetContainer(),"body"===I){const V=this._renderer,ge=this._menu.nativeElement,Ae=this._bodyContainer=this._bodyContainer||V.createElement("div");V.setStyle(Ae,"position","absolute"),V.setStyle(ge,"position","static"),V.setStyle(Ae,"z-index","1055"),V.appendChild(Ae,ge),V.appendChild(this._document.body,Ae)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(I,V){const ge="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;ge&&(V&&this._renderer.removeClass(ge,V),I&&this._renderer.addClass(ge,I))}_applyPlacementClasses(I){const V=this._menu;if(V){I||(I=this._getFirstPlacement(this.placement));const ge=this._renderer,Ae=this._elementRef.nativeElement;ge.removeClass(Ae,"dropup"),ge.removeClass(Ae,"dropdown");const{nativeElement:Nt}=V;"static"===this.display?(V.placement=null,ge.setAttribute(Nt,"data-bs-popper","static")):(V.placement=I,ge.removeAttribute(Nt,"data-bs-popper"));const qt=-1!==I.search("^top")?"dropup":"dropdown";ge.addClass(Ae,qt);const en=this._bodyContainer;en&&(ge.removeClass(en,"dropup"),ge.removeClass(en,"dropdown"),ge.addClass(en,qt))}}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.gRc),i.rXU(rv),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(Sp,8))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbDropdown",""]],contentQueries:function(I,V,ge){if(1&I&&(i.wni(ge,dh,5),i.wni(ge,Ko,5)),2&I){let Ae;i.mGM(Ae=i.lsd())&&(V._menu=Ae.first),i.mGM(Ae=i.lsd())&&(V._anchor=Ae.first)}},hostVars:2,hostBindings:function(I,V){2&I&&i.AVh("show",V.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[i.Mj6.None,"open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[i.OA$]}),N})(),Ma=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({}),N})();class Wr{constructor(Y,I,V){this.nodes=Y,this.viewRef=I,this.componentRef=V}}class Ip{constructor(Y,I,V,ge,Ae,Nt){this._type=Y,this._injector=I,this._viewContainerRef=V,this._renderer=ge,this._ngZone=Ae,this._applicationRef=Nt,this._windowRef=null,this._contentRef=null}open(Y,I,V=!1){this._windowRef||(this._contentRef=this._getContentRef(Y,I),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:ge}=this._windowRef.location,Ae=this._ngZone.onStable.pipe((0,x.s)(1),(0,q.Z)(()=>he(this._ngZone,ge,({classList:Nt})=>Nt.add("show"),{animation:V,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:Ae}}close(Y=!1){return this._windowRef?he(this._ngZone,this._windowRef.location.nativeElement,({classList:I})=>I.remove("show"),{animation:Y,runningTransition:"stop"}).pipe((0,K.M)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,h.of)(void 0)}_getContentRef(Y,I){if(Y){if(Y instanceof i.C4Q){const V=Y.createEmbeddedView(I);return this._applicationRef.attachView(V),new Wr([V.rootNodes],V)}return new Wr([[this._renderer.createText(`${Y}`)]])}return new Wr([])}}let Im=(()=>{class N{constructor(I,V){this._el=I,this._zone=V}ngOnInit(){this._zone.onStable.asObservable().pipe((0,x.s)(1)).subscribe(()=>{he(this._zone,this._el.nativeElement,(I,V)=>{V&&Qn(I),I.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return he(this._zone,this._el.nativeElement,({classList:I})=>I.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.aKT),i.rXU(i.SKi))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(I,V){2&I&&(i.HbH("modal-backdrop"+(V.backdropClass?" "+V.backdropClass:"")),i.AVh("show",!V.animation)("fade",V.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(I,V){},encapsulation:2}),N})();class hh{close(Y){}dismiss(Y){}}class av{constructor(Y,I,V,ge){this._windowCmptRef=Y,this._contentRef=I,this._backdropCmptRef=V,this._beforeDismiss=ge,this._closed=new m.B,this._dismissed=new m.B,this._hidden=new m.B,Y.instance.dismissEvent.subscribe(Ae=>{this.dismiss(Ae)}),this.result=new Promise((Ae,Nt)=>{this._resolve=Ae,this._reject=Nt}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,w.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,w.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(Y){this._windowCmptRef&&(this._closed.next(Y),this._resolve(Y),this._removeModalElements())}_dismiss(Y){this._dismissed.next(Y),this._reject(Y),this._removeModalElements()}dismiss(Y){if(this._windowCmptRef)if(this._beforeDismiss){const I=this._beforeDismiss();!function xt(N){return N&&N.then}(I)?!1!==I&&this._dismiss(Y):I.then(V=>{!1!==V&&this._dismiss(Y)},()=>{})}else this._dismiss(Y)}_removeModalElements(){const Y=this._windowCmptRef.instance.hide(),I=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,h.of)(void 0);Y.subscribe(()=>{const{nativeElement:V}=this._windowCmptRef.location;V.parentNode.removeChild(V),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),I.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:V}=this._backdropCmptRef.location;V.parentNode.removeChild(V),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),(0,A.y)(Y,I).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Vc=function(N){return N[N.BACKDROP_CLICK=0]="BACKDROP_CLICK",N[N.ESC=1]="ESC",N}(Vc||{});let fu=(()=>{class N{constructor(I,V,ge){this._document=I,this._elRef=V,this._zone=ge,this._closed$=new m.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.bkB,this.shown=new m.B,this.hidden=new m.B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":br(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(I){this.dismissEvent.emit(I)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,x.s)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:I}=this._elRef,V={animation:this.animation,runningTransition:"stop"},ge=he(this._zone,I,()=>I.classList.remove("show"),V),Ae=he(this._zone,this._dialogEl.nativeElement,()=>{},V),Nt=(0,A.y)(ge,Ae);return Nt.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Nt}_show(){const I={animation:this.animation,runningTransition:"continue"},V=he(this._zone,this._elRef.nativeElement,(Ae,Nt)=>{Nt&&Qn(Ae),Ae.classList.add("show")},I),ge=he(this._zone,this._dialogEl.nativeElement,()=>{},I);(0,A.y)(V,ge).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:I}=this._elRef;this._zone.runOutsideAngular(()=>{(0,f.R)(I,"keydown").pipe((0,w.Q)(this._closed$),(0,M.p)(ge=>ge.which===vs.Escape)).subscribe(ge=>{this.keyboard?requestAnimationFrame(()=>{ge.defaultPrevented||this._zone.run(()=>this.dismiss(Vc.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let V=!1;(0,f.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,w.Q)(this._closed$),(0,K.M)(()=>V=!1),(0,k.n)(()=>(0,f.R)(I,"mouseup").pipe((0,w.Q)(this._closed$),(0,x.s)(1))),(0,M.p)(({target:ge})=>I===ge)).subscribe(()=>{V=!0}),(0,f.R)(I,"click").pipe((0,w.Q)(this._closed$)).subscribe(({target:ge})=>{I===ge&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!V&&this._zone.run(()=>this.dismiss(Vc.BACKDROP_CLICK))),V=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:I}=this._elRef;if(!I.contains(document.activeElement)){const V=I.querySelector("[ngbAutofocus]"),ge=vp(I)[0];(V||ge||I).focus()}}_restoreFocus(){const I=this._document.body,V=this._elWithFocus;let ge;ge=V&&V.focus&&I.contains(V)?V:I,this._zone.runOutsideAngular(()=>{setTimeout(()=>ge.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&he(this._zone,this._elRef.nativeElement,({classList:I})=>(I.add("modal-static"),()=>I.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(t.qQ),i.rXU(i.aKT),i.rXU(i.SKi))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-modal-window"]],viewQuery:function(I,V){if(1&I&&i.GBs(Co,7),2&I){let ge;i.mGM(ge=i.lsd())&&(V._dialogEl=ge.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(I,V){2&I&&(i.BMQ("aria-modal",!0)("aria-labelledby",V.ariaLabelledBy)("aria-describedby",V.ariaDescribedBy),i.HbH("modal d-block"+(V.windowClass?" "+V.windowClass:"")),i.AVh("fade",V.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:ur,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(I,V){1&I&&(i.NAR(),i.j41(0,"div",1,0)(2,"div",2),i.SdG(3),i.k0s()()),2&I&&i.HbH("modal-dialog"+(V.size?" modal-"+V.size:"")+(V.centered?" modal-dialog-centered":"")+V.fullscreenClass+(V.scrollable?" modal-dialog-scrollable":"")+(V.modalDialogClass?" "+V.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),N})(),lv=(()=>{class N{constructor(I){this._document=I}hide(){const I=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),V=this._document.body,ge=V.style,{overflow:Ae,paddingRight:Nt}=ge;if(I>0){const qt=parseFloat(window.getComputedStyle(V).paddingRight);ge.paddingRight=`${qt+I}px`}return ge.overflow="hidden",()=>{I>0&&(ge.paddingRight=Nt),ge.overflow=Ae}}}return N.\u0275fac=function(I){return new(I||N)(i.KVO(t.qQ))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Pp=(()=>{class N{constructor(I,V,ge,Ae,Nt,qt){this._applicationRef=I,this._injector=V,this._document=ge,this._scrollBar=Ae,this._rendererFactory=Nt,this._ngZone=qt,this._activeWindowCmptHasChanged=new m.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new i.bkB,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const en=this._windowCmpts[this._windowCmpts.length-1];yp(this._ngZone,en.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(en.location.nativeElement)}})}_restoreScrollBar(){const I=this._scrollBarRestoreFn;I&&(this._scrollBarRestoreFn=null,I())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(I,V,ge,Ae){const Nt=Ae.container instanceof HTMLElement?Ae.container:dn(Ae.container)?this._document.querySelector(Ae.container):this._document.body,qt=this._rendererFactory.createRenderer(null,null);if(!Nt)throw new Error(`The specified modal container "${Ae.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const en=new hh,Mn=this._getContentRef(I,Ae.injector||V,ge,en,Ae);let In=!1!==Ae.backdrop?this._attachBackdrop(I,Nt):void 0,us=this._attachWindowComponent(I,Nt,Mn),Kn=new av(us,Mn,In,Ae.beforeDismiss);return this._registerModalRef(Kn),this._registerWindowCmpt(us),Kn.hidden.pipe((0,x.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(qt.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),en.close=Ts=>{Kn.close(Ts)},en.dismiss=Ts=>{Kn.dismiss(Ts)},this._applyWindowOptions(us.instance,Ae),1===this._modalRefs.length&&qt.addClass(this._document.body,"modal-open"),In&&In.instance&&(this._applyBackdropOptions(In.instance,Ae),In.changeDetectorRef.detectChanges()),us.changeDetectorRef.detectChanges(),Kn}get activeInstances(){return this._activeInstances}dismissAll(I){this._modalRefs.forEach(V=>V.dismiss(I))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(I,V){let Ae=I.resolveComponentFactory(Im).create(this._injector);return this._applicationRef.attachView(Ae.hostView),V.appendChild(Ae.location.nativeElement),Ae}_attachWindowComponent(I,V,ge){let Nt=I.resolveComponentFactory(fu).create(this._injector,ge.nodes);return this._applicationRef.attachView(Nt.hostView),V.appendChild(Nt.location.nativeElement),Nt}_applyWindowOptions(I,V){this._windowAttributes.forEach(ge=>{dn(V[ge])&&(I[ge]=V[ge])})}_applyBackdropOptions(I,V){this._backdropAttributes.forEach(ge=>{dn(V[ge])&&(I[ge]=V[ge])})}_getContentRef(I,V,ge,Ae,Nt){return ge?ge instanceof i.C4Q?this._createFromTemplateRef(ge,Ae):br(ge)?this._createFromString(ge):this._createFromComponent(I,V,ge,Ae,Nt):new Wr([])}_createFromTemplateRef(I,V){const Ae=I.createEmbeddedView({$implicit:V,close(Nt){V.close(Nt)},dismiss(Nt){V.dismiss(Nt)}});return this._applicationRef.attachView(Ae),new Wr([Ae.rootNodes],Ae)}_createFromString(I){const V=this._document.createTextNode(`${I}`);return new Wr([[V]])}_createFromComponent(I,V,ge,Ae,Nt){const qt=I.resolveComponentFactory(ge),en=i.zZn.create({providers:[{provide:hh,useValue:Ae}],parent:V}),Mn=qt.create(en),In=Mn.location.nativeElement;return Nt.scrollable&&In.classList.add("component-host-scrollable"),this._applicationRef.attachView(Mn.hostView),new Wr([[In]],Mn.hostView,Mn)}_setAriaHidden(I){const V=I.parentElement;V&&I!==this._document.body&&(Array.from(V.children).forEach(ge=>{ge!==I&&"SCRIPT"!==ge.nodeName&&(this._ariaHiddenValues.set(ge,ge.getAttribute("aria-hidden")),ge.setAttribute("aria-hidden","true"))}),this._setAriaHidden(V))}_revertAriaHidden(){this._ariaHiddenValues.forEach((I,V)=>{I?V.setAttribute("aria-hidden",I):V.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(I){const V=()=>{const ge=this._modalRefs.indexOf(I);ge>-1&&(this._modalRefs.splice(ge,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(I),this._activeInstances.emit(this._modalRefs),I.result.then(V,V)}_registerWindowCmpt(I){this._windowCmpts.push(I),this._activeWindowCmptHasChanged.next(),I.onDestroy(()=>{const V=this._windowCmpts.indexOf(I);V>-1&&(this._windowCmpts.splice(V,1),this._activeWindowCmptHasChanged.next())})}}return N.\u0275fac=function(I){return new(I||N)(i.KVO(i.o8S),i.KVO(i.zZn),i.KVO(t.qQ),i.KVO(lv),i.KVO(i._9s),i.KVO(i.SKi))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Pm=(()=>{class N{constructor(I){this._ngbConfig=I,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(I){this._animation=I}}return N.\u0275fac=function(I){return new(I||N)(i.KVO(Lt))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),cv=(()=>{class N{constructor(I,V,ge,Ae){this._moduleCFR=I,this._injector=V,this._modalStack=ge,this._config=Ae}open(I,V={}){const ge={...this._config,animation:this._config.animation,...V};return this._modalStack.open(this._moduleCFR,this._injector,I,ge)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(I){this._modalStack.dismissAll(I)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return N.\u0275fac=function(I){return new(I||N)(i.KVO(i.OM3),i.KVO(i.zZn),i.KVO(Pp),i.KVO(Pm))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Rm=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({providers:[cv]}),N})(),dE=(()=>{class N{constructor(I){this._ngbConfig=I,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(I){this._animation=I}}return N.\u0275fac=function(I){return new(I||N)(i.KVO(Lt))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();const dv=N=>dn(N)&&""!==N;let Am=0,Gc=(()=>{class N{constructor(I){this.templateRef=I}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbNavContent",""]]}),N})(),ph=(()=>{class N{constructor(I,V){this.elementRef=V,this.disabled=!1,this.shown=new i.bkB,this.hidden=new i.bkB,this._nav=I}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){dn(this.domId)||(this.domId="ngb-nav-"+Am++)}get active(){return this._nav.activeId===this.id}get id(){return dv(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(dn(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return N.\u0275fac=function(I){return new(I||N)(i.rXU((0,i.Rfq)(()=>uc)),i.rXU(i.aKT))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbNavItem",""]],contentQueries:function(I,V,ge){if(1&I&&i.wni(ge,Gc,4),2&I){let Ae;i.mGM(Ae=i.lsd())&&(V.contentTpls=Ae)}},hostVars:2,hostBindings:function(I,V){2&I&&i.AVh("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[i.Mj6.None,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]}),N})(),uc=(()=>{class N{constructor(I,V,ge,Ae){this.role=I,this._cd=ge,this._document=Ae,this.activeIdChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.destroy$=new m.B,this.navItemChange$=new m.B,this.navChange=new i.bkB,this.animation=V.animation,this.destroyOnHide=V.destroyOnHide,this.orientation=V.orientation,this.roles=V.roles,this.keyboard=V.keyboard}click(I){I.disabled||this._updateActiveId(I.id)}onKeyDown(I){if("tablist"!==this.roles||!this.keyboard)return;const V=I.which,ge=this.links.filter(qt=>!qt.navItem.disabled),{length:Ae}=ge;let Nt=-1;if(ge.forEach((qt,en)=>{qt.elRef.nativeElement===this._document.activeElement&&(Nt=en)}),Ae){switch(V){case vs.ArrowLeft:if("vertical"===this.orientation)return;Nt=(Nt-1+Ae)%Ae;break;case vs.ArrowRight:if("vertical"===this.orientation)return;Nt=(Nt+1)%Ae;break;case vs.ArrowDown:if("horizontal"===this.orientation)return;Nt=(Nt+1)%Ae;break;case vs.ArrowUp:if("horizontal"===this.orientation)return;Nt=(Nt-1+Ae)%Ae;break;case vs.Home:Nt=0;break;case vs.End:Nt=Ae-1}"changeWithArrows"===this.keyboard&&this.select(ge[Nt].navItem.id),ge[Nt].elRef.nativeElement.focus(),I.preventDefault()}}select(I){this._updateActiveId(I,!1)}ngAfterContentInit(){if(!dn(this.activeId)){const I=this.items.first?this.items.first.id:null;dv(I)&&(this._updateActiveId(I,!1),this._cd.detectChanges())}this.items.changes.pipe((0,w.Q)(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:I}){I&&!I.firstChange&&this._notifyItemChanged(I.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(I,V=!0){if(this.activeId!==I){let ge=!1;V&&this.navChange.emit({activeId:this.activeId,nextId:I,preventDefault:()=>{ge=!0}}),ge||(this.activeId=I,this.activeIdChange.emit(I),this._notifyItemChanged(I))}}_notifyItemChanged(I){this.navItemChange$.next(this._getItemById(I))}_getItemById(I){return this.items&&this.items.find(V=>V.id===I)||null}}return N.\u0275fac=function(I){return new(I||N)(i.kS0("role"),i.rXU(dE),i.rXU(i.gRc),i.rXU(t.qQ))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbNav",""]],contentQueries:function(I,V,ge){if(1&I&&(i.wni(ge,ph,4),i.wni(ge,fh,5)),2&I){let Ae;i.mGM(Ae=i.lsd())&&(V.items=Ae),i.mGM(Ae=i.lsd())&&(V.links=Ae)}},hostVars:6,hostBindings:function(I,V){1&I&&i.bIt("keydown.arrowLeft",function(Ae){return V.onKeyDown(Ae)})("keydown.arrowRight",function(Ae){return V.onKeyDown(Ae)})("keydown.arrowDown",function(Ae){return V.onKeyDown(Ae)})("keydown.arrowUp",function(Ae){return V.onKeyDown(Ae)})("keydown.Home",function(Ae){return V.onKeyDown(Ae)})("keydown.End",function(Ae){return V.onKeyDown(Ae)}),2&I&&(i.BMQ("aria-orientation","vertical"===V.orientation&&"tablist"===V.roles?"vertical":void 0)("role",V.role?V.role:V.roles?"tablist":void 0),i.AVh("nav",!0)("flex-column","vertical"===V.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[i.OA$]}),N})(),fh=(()=>{class N{constructor(I,V,ge,Ae){this.role=I,this.navItem=V,this.nav=ge,this.elRef=Ae}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return N.\u0275fac=function(I){return new(I||N)(i.kS0("role"),i.rXU(ph),i.rXU(uc),i.rXU(i.aKT))},N.\u0275dir=i.FsC({type:N,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(I,V){1&I&&i.bIt("click",function(Ae){return V.nav.click(V.navItem),Ae.preventDefault()}),2&I&&(i.Mr5("id",V.navItem.domId),i.BMQ("role",V.role?V.role:V.nav.roles?"tab":void 0)("tabindex",V.navItem.disabled?-1:void 0)("aria-controls",V.navItem.isPanelInDom()?V.navItem.panelDomId:null)("aria-selected",V.navItem.active)("aria-disabled",V.navItem.disabled),i.AVh("nav-link",!0)("nav-item",V.hasNavItemClass())("active",V.navItem.active)("disabled",V.navItem.disabled))}}),N})();const mh=({classList:N})=>(N.remove("show"),()=>N.remove("active")),uE=(N,Y)=>{Y&&Qn(N),N.classList.add("show")};let gh=(()=>{class N{constructor(I){this.elRef=I}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.aKT))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(I,V){2&I&&(i.Mr5("id",V.item.panelDomId),i.BMQ("role",V.role?V.role:V.nav.roles?"tabpanel":void 0)("aria-labelledby",V.item.domId),i.AVh("fade",V.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}}),N})(),Fs=(()=>{class N{constructor(I,V){this._cd=I,this._ngZone=V,this._activePane=null}isPanelTransitioning(I){return this._activePane?.item===I}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe((0,w.Q)(this.nav.destroy$),(0,U.Z)(this._activePane?.item||null),(0,$.F)(),(0,z.i)(1)).subscribe(I=>{const V={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?he(this._ngZone,this._activePane.elRef.nativeElement,mh,V).subscribe(()=>{const ge=this._activePane?.item;this._activePane=this._getPaneForItem(I),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),he(this._ngZone,this._activePane.elRef.nativeElement,uE,V).subscribe(()=>{I&&(I.shown.emit(),this.nav.shown.emit(I.id))})),ge&&(ge.hidden.emit(),this.nav.hidden.emit(ge.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(I){return this._panes&&this._panes.find(V=>V.item===I)||null}_getActivePane(){return this._panes&&this._panes.find(I=>I.item.active)||null}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.gRc),i.rXU(i.SKi))},N.\u0275cmp=i.VBU({type:N,selectors:[["","ngbNavOutlet",""]],viewQuery:function(I,V){if(1&I&&i.GBs(gh,5),2&I){let ge;i.mGM(ge=i.lsd())&&(V._panes=ge)}},hostVars:2,hostBindings:function(I,V){2&I&&i.AVh("tab-content",!0)},inputs:{paneRole:"paneRole",nav:[i.Mj6.None,"ngbNavOutlet","nav"]},attrs:no,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(I,V){1&I&&i.DNE(0,io,1,1,"ng-template",0),2&I&&i.Y8G("ngForOf",V.nav.items)},dependencies:[t.Sq,t.bT,gh,t.T3],encapsulation:2,changeDetection:0}),N})(),Kr=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),vh=(()=>{class N{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),hc=(()=>{class N{constructor(I){this.templateRef=I}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),N})(),vd=(()=>{class N{constructor(I){this.templateRef=I}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPaginationFirst",""]]}),N})(),yh=(()=>{class N{constructor(I){this.templateRef=I}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPaginationLast",""]]}),N})(),yd=(()=>{class N{constructor(I){this.templateRef=I}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPaginationNext",""]]}),N})(),$c=(()=>{class N{constructor(I){this.templateRef=I}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPaginationNumber",""]]}),N})(),wm=(()=>{class N{constructor(I){this.templateRef=I}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPaginationPrevious",""]]}),N})(),Rp=(()=>{class N{constructor(I){this.templateRef=I}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.C4Q))},N.\u0275dir=i.FsC({type:N,selectors:[["ng-template","ngbPaginationPages",""]]}),N})(),Ed=(()=>{class N{constructor(I){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new i.bkB(!0),this.disabled=I.disabled,this.boundaryLinks=I.boundaryLinks,this.directionLinks=I.directionLinks,this.ellipses=I.ellipses,this.maxSize=I.maxSize,this.pageSize=I.pageSize,this.rotate=I.rotate,this.size=I.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(I){this._updatePages(I)}ngOnChanges(I){this._updatePages(this.page)}isEllipsis(I){return-1===I}_applyEllipses(I,V){this.ellipses&&(I>0&&(I>2?this.pages.unshift(-1):2===I&&this.pages.unshift(2),this.pages.unshift(1)),V<this.pageCount&&(V<this.pageCount-2?this.pages.push(-1):V===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let I=0,V=this.pageCount,ge=Math.floor(this.maxSize/2);return this.page<=ge?V=this.maxSize:this.pageCount-this.page<ge?I=this.pageCount-this.maxSize:(I=this.page-ge-1,V=this.page+(this.maxSize%2==0?ge-1:ge)),[I,V]}_applyPagination(){let V=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[V,V+this.maxSize]}_setPageInRange(I){const V=this.page;this.page=sr(I,this.pageCount,1),this.page!==V&&Wi(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(I){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Wi(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let V=1;V<=this.pageCount;V++)this.pages.push(V);if(this._setPageInRange(I),this.maxSize>0&&this.pageCount>this.maxSize){let V=0,ge=this.pageCount;[V,ge]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(V,ge),this._applyEllipses(V,ge)}}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(vh))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-pagination"]],contentQueries:function(I,V,ge){if(1&I&&(i.wni(ge,hc,5),i.wni(ge,vd,5),i.wni(ge,yh,5),i.wni(ge,yd,5),i.wni(ge,$c,5),i.wni(ge,wm,5),i.wni(ge,Rp,5)),2&I){let Ae;i.mGM(Ae=i.lsd())&&(V.tplEllipsis=Ae.first),i.mGM(Ae=i.lsd())&&(V.tplFirst=Ae.first),i.mGM(Ae=i.lsd())&&(V.tplLast=Ae.first),i.mGM(Ae=i.lsd())&&(V.tplNext=Ae.first),i.mGM(Ae=i.lsd())&&(V.tplNumber=Ae.first),i.mGM(Ae=i.lsd())&&(V.tplPrevious=Ae.first),i.mGM(Ae=i.lsd())&&(V.tplPages=Ae.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},features:[i.OA$],decls:20,vars:12,consts:()=>{let Y,I,V,ge,Ae,Nt,qt,en;return Y=$localize`:@@ngb.pagination.first:`,I=$localize`:@@ngb.pagination.previous:`,V=$localize`:@@ngb.pagination.next:`,ge=$localize`:@@ngb.pagination.last:`,Ae=$localize`:@@ngb.pagination.first-aria:First`,Nt=$localize`:@@ngb.pagination.previous-aria:Previous`,qt=$localize`:@@ngb.pagination.next-aria:Next`,en=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],Y,I,V,ge,["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",Ae,"href","",1,"page-link",3,"click"],["aria-label",Nt,"href","",1,"page-link",3,"click"],["aria-label",qt,"href","",1,"page-link",3,"click"],["aria-label",en,"href","",1,"page-link",3,"click"]]},template:function(I,V){if(1&I&&(i.DNE(0,Zo,2,0,"ng-template",null,0,i.C5r)(2,ya,2,0,"ng-template",null,1,i.C5r)(4,Ge,2,0,"ng-template",null,2,i.C5r)(6,Xe,2,0,"ng-template",null,3,i.C5r)(8,oe,1,0,"ng-template",null,4,i.C5r)(10,_e,2,2,"ng-template",null,5,i.C5r)(12,Bs,1,1,"ng-template",null,6,i.C5r),i.j41(14,"ul"),i.DNE(15,zi,3,9,"li",11)(16,bi,3,8,"li",11)(17,Ea,0,0,"ng-template",12)(18,Pr,3,9,"li",11)(19,Al,3,9,"li",11),i.k0s()),2&I){const ge=i.sdS(13);i.R7$(14),i.HbH("pagination"+(V.size?" pagination-"+V.size:"")),i.R7$(),i.Y8G("ngIf",V.boundaryLinks),i.R7$(),i.Y8G("ngIf",V.directionLinks),i.R7$(),i.Y8G("ngTemplateOutlet",(null==V.tplPages?null:V.tplPages.templateRef)||ge)("ngTemplateOutletContext",i.sMw(8,nr,V.page,V.pages,V.disabled)),i.R7$(),i.Y8G("ngIf",V.directionLinks),i.R7$(),i.Y8G("ngIf",V.boundaryLinks)}},dependencies:[t.bT,t.Sq,t.T3],encapsulation:2,changeDetection:0}),N})(),Eh=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})();class yi{constructor(Y,I){this.open=Y,this.close=I,I||(this.close=Y)}isManual(){return"manual"===this.open||"manual"===this.close}}const Ch={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},Ap=N=>N>0?(0,G.c)(N):Y=>Y;let gu=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),_u=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),Sa=(()=>{class N{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),fv=(()=>{class N{constructor(I,V){this._changeDetectorRef=V,this.contexts=[],this.disabled=!1,this.hover=new i.bkB,this.leave=new i.bkB,this.rateChange=new i.bkB(!0),this.onChange=ge=>{},this.onTouched=()=>{},this.max=I.max,this.readonly=I.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(I){this.isInteractive()&&this._updateState(I),this.hover.emit(I)}handleBlur(){this.onTouched()}handleClick(I){this.isInteractive()&&this.update(this.resettable&&this.rate===I?0:I)}handleKeyDown(I){switch(I.which){case vs.ArrowDown:case vs.ArrowLeft:this.update(this.rate-1);break;case vs.ArrowUp:case vs.ArrowRight:this.update(this.rate+1);break;case vs.Home:this.update(0);break;case vs.End:this.update(this.max);break;default:return}I.preventDefault()}ngOnChanges(I){I.rate&&this.update(this.rate),I.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(I){this.onChange=I}registerOnTouched(I){this.onTouched=I}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(I){this.disabled=I}update(I,V=!0){const ge=sr(I,this.max,0);this.isInteractive()&&this.rate!==ge&&(this.rate=ge,this.rateChange.emit(this.rate)),V&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(I){this.update(I,!1),this._changeDetectorRef.markForCheck()}_updateState(I){this.nextRate=I,this.contexts.forEach((V,ge)=>V.fill=Math.round(100*sr(I-ge,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(I,V)=>({fill:0,index:V}))}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(Sa),i.rXU(i.gRc))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-rating"]],contentQueries:function(I,V,ge){if(1&I&&i.wni(ge,i.C4Q,5),2&I){let Ae;i.mGM(Ae=i.lsd())&&(V.starTemplateFromContent=Ae.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(I,V){1&I&&i.bIt("blur",function(){return V.handleBlur()})("keydown",function(Ae){return V.handleKeyDown(Ae)})("mouseleave",function(){return V.reset()}),2&I&&(i.Mr5("tabindex",V.disabled?-1:0),i.BMQ("aria-valuemax",V.max)("aria-valuenow",V.nextRate)("aria-valuetext",V.ariaValueText())("aria-disabled",!!V.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>N),multi:!0}]),i.OA$],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(I,V){1&I&&i.DNE(0,La,1,1,"ng-template",null,0,i.C5r)(2,Ya,4,5,"ng-template",1),2&I&&(i.R7$(2),i.Y8G("ngForOf",V.contexts))},dependencies:[t.Sq,t.T3],encapsulation:2,changeDetection:0}),N})(),vu=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})();class bl{constructor(Y,I,V){this.hour=ro(Y),this.minute=ro(I),this.second=ro(V)}changeHour(Y=1){this.updateHour((isNaN(this.hour)?0:this.hour)+Y)}updateHour(Y){this.hour=Wi(Y)?(Y<0?24+Y:Y)%24:NaN}changeMinute(Y=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+Y)}updateMinute(Y){Wi(Y)?(this.minute=Y%60<0?60+Y%60:Y%60,this.changeHour(Math.floor(Y/60))):this.minute=NaN}changeSecond(Y=1){this.updateSecond((isNaN(this.second)?0:this.second)+Y)}updateSecond(Y){Wi(Y)?(this.second=Y<0?60+Y%60:Y%60,this.changeMinute(Math.floor(Y/60))):this.second=NaN}isValid(Y=!0){return Wi(this.hour)&&Wi(this.minute)&&(!Y||Wi(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let wp=(()=>{class N{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Lm=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=i.jDH({token:N,factory:()=>function xp(){return new yu}(),providedIn:"root"}),N})(),yu=(()=>{class N extends Lm{fromModel(I){return I&&Ut(I.hour)&&Ut(I.minute)?{hour:I.hour,minute:I.minute,second:Ut(I.second)?I.second:null}:null}toModel(I){return I&&Ut(I.hour)&&Ut(I.minute)?{hour:I.hour,minute:I.minute,second:Ut(I.second)?I.second:null}:null}}return N.\u0275fac=(()=>{let Y;return function(V){return(Y||(Y=i.xGo(N)))(V||N)}})(),N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac}),N})(),Fm=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=i.jDH({token:N,factory:function(I){let V=null;return V=I?new I:function Nm(N){return new Eu(N)}(i.KVO(i.xe9)),V},providedIn:"root"}),N})(),Eu=(()=>{class N extends Fm{constructor(I){super(),this._periods=(0,t.rd)(I,t.oV.Standalone,t.cH.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return N.\u0275fac=function(I){return new(I||N)(i.KVO(i.xe9))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac}),N})();const mv=/[^0-9]/g;let gv=(()=>{class N{constructor(I,V,ge,Ae){this._config=I,this._ngbTimeAdapter=V,this._cd=ge,this.i18n=Ae,this.onChange=Nt=>{},this.onTouched=()=>{},this.meridian=I.meridian,this.spinners=I.spinners,this.seconds=I.seconds,this.hourStep=I.hourStep,this.minuteStep=I.minuteStep,this.secondStep=I.secondStep,this.disabled=I.disabled,this.readonlyInputs=I.readonlyInputs,this.size=I.size}set hourStep(I){this._hourStep=Ut(I)?I:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(I){this._minuteStep=Ut(I)?I:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(I){this._secondStep=Ut(I)?I:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(I){const V=this._ngbTimeAdapter.fromModel(I);this.model=V?new bl(V.hour,V.minute,V.second):new bl,!this.seconds&&(!V||!Wi(V.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(I){this.onChange=I}registerOnTouched(I){this.onTouched=I}setDisabledState(I){this.disabled=I}changeHour(I){this.model.changeHour(I),this.propagateModelChange()}changeMinute(I){this.model.changeMinute(I),this.propagateModelChange()}changeSecond(I){this.model.changeSecond(I),this.propagateModelChange()}updateHour(I){const V=this.model.hour>=12,ge=ro(I);this.model.updateHour(this.meridian&&(V&&ge<12||!V&&12===ge)?ge+12:ge),this.propagateModelChange()}updateMinute(I){this.model.updateMinute(ro(I)),this.propagateModelChange()}updateSecond(I){this.model.updateSecond(ro(I)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(I){I.value=I.value.replace(mv,"")}formatHour(I){return Wi(I)?An(this.meridian?I%12==0?12:I%12:I%24):An(NaN)}formatMinSec(I){return An(Wi(I)?I:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(I){I.seconds&&!this.seconds&&this.model&&!Wi(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(I=!0){I&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(wp),i.rXU(Lm),i.rXU(i.gRc),i.rXU(Fm))},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>N),multi:!0}]),i.OA$],decls:16,vars:25,consts:()=>{let Y,I,V,ge,Ae,Nt,qt,en,Mn,In,us,Kn,Ts,Si;return Y=$localize`:@@ngb.timepicker.HH:HH`,I=$localize`:@@ngb.timepicker.hours:Hours`,V=$localize`:@@ngb.timepicker.MM:MM`,ge=$localize`:@@ngb.timepicker.minutes:Minutes`,Ae=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,Nt=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,qt=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,en=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,Mn=$localize`:@@ngb.timepicker.SS:SS`,In=$localize`:@@ngb.timepicker.seconds:Seconds`,us=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,Kn=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,Ts=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,Si=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["am",""],Ae,Nt,qt,en,us,Kn,Ts,Si,[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",Y,"aria-label",I,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",V,"aria-label",ge,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"click","disabled"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],[1,"chevron","ngb-tp-chevron","bottom"],[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",Mn,"aria-label",In,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],[4,"ngIf","ngIfElse"]]},template:function(I,V){1&I&&(i.j41(0,"fieldset",9)(1,"div",10)(2,"div",11),i.DNE(3,cl,4,7,"button",12),i.j41(4,"input",13),i.bIt("change",function(Ae){return V.updateHour(Ae.target.value)})("blur",function(){return V.handleBlur()})("input",function(Ae){return V.formatInput(Ae.target)})("keydown.ArrowUp",function(Ae){return V.changeHour(V.hourStep),Ae.preventDefault()})("keydown.ArrowDown",function(Ae){return V.changeHour(-V.hourStep),Ae.preventDefault()}),i.k0s(),i.DNE(5,ri,4,7,"button",12),i.k0s(),i.j41(6,"div",14),i.EFF(7,":"),i.k0s(),i.j41(8,"div",15),i.DNE(9,oo,4,7,"button",12),i.j41(10,"input",16),i.bIt("change",function(Ae){return V.updateMinute(Ae.target.value)})("blur",function(){return V.handleBlur()})("input",function(Ae){return V.formatInput(Ae.target)})("keydown.ArrowUp",function(Ae){return V.changeMinute(V.minuteStep),Ae.preventDefault()})("keydown.ArrowDown",function(Ae){return V.changeMinute(-V.minuteStep),Ae.preventDefault()}),i.k0s(),i.DNE(11,yo,4,7,"button",12),i.k0s(),i.DNE(12,Cr,2,0,"div",17)(13,Ta,4,9,"div",18)(14,Xa,1,0,"div",17)(15,oa,5,9,"div",19),i.k0s()()),2&I&&(i.AVh("disabled",V.disabled),i.Y8G("disabled",V.disabled),i.R7$(3),i.Y8G("ngIf",V.spinners),i.R7$(),i.AVh("form-control-sm",V.isSmallSize)("form-control-lg",V.isLargeSize),i.Y8G("value",V.formatHour(null==V.model?null:V.model.hour))("readOnly",V.readonlyInputs)("disabled",V.disabled),i.R7$(),i.Y8G("ngIf",V.spinners),i.R7$(4),i.Y8G("ngIf",V.spinners),i.R7$(),i.AVh("form-control-sm",V.isSmallSize)("form-control-lg",V.isLargeSize),i.Y8G("value",V.formatMinSec(null==V.model?null:V.model.minute))("readOnly",V.readonlyInputs)("disabled",V.disabled),i.R7$(),i.Y8G("ngIf",V.spinners),i.R7$(),i.Y8G("ngIf",V.seconds),i.R7$(),i.Y8G("ngIf",V.seconds),i.R7$(),i.Y8G("ngIf",V.meridian),i.R7$(),i.Y8G("ngIf",V.meridian))},dependencies:[t.bT],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),N})(),Bm=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),vv=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),Np=(()=>{class N{constructor(I){this._ngbConfig=I,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(I){this._animation=I}}return N.\u0275fac=function(I){return new(I||N)(i.KVO(Lt))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Dl=0,jm=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(I,V){2&I&&(i.Mr5("id",V.id),i.HbH("tooltip"+(V.tooltipClass?" "+V.tooltipClass:"")),i.AVh("fade",V.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:ur,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(I,V){1&I&&(i.NAR(),i.nrm(0,"div",0),i.j41(1,"div",1),i.SdG(2),i.k0s())},encapsulation:2,changeDetection:0}),N})(),Kc=(()=>{class N{constructor(I,V,ge,Ae,Nt,qt,en,Mn,In){this._elementRef=I,this._renderer=V,this._ngZone=qt,this._document=en,this._changeDetector=Mn,this.shown=new i.bkB,this.hidden=new i.bkB,this._ngbTooltipWindowId="ngb-tooltip-"+Dl++,this._windowRef=null,this._positioning=cc(),this.animation=Nt.animation,this.autoClose=Nt.autoClose,this.placement=Nt.placement,this.triggers=Nt.triggers,this.container=Nt.container,this.disableTooltip=Nt.disableTooltip,this.tooltipClass=Nt.tooltipClass,this.openDelay=Nt.openDelay,this.closeDelay=Nt.closeDelay,this._popupService=new Ip(jm,ge,Ae,V,this._ngZone,In)}set ngbTooltip(I){this._ngbTooltip=I,!I&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(I){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:V,transition$:ge}=this._popupService.open(this._ngbTooltip,I,this.animation);this._windowRef=V,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip"}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),gl(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),ge.subscribe(()=>this.shown.emit())}}close(I=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(I).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function bd(N,Y,I,V,ge,Ae,Nt=0,qt=0){const en=function Wc(N,Y=Ch){const I=(N||"").trim();if(0===I.length)return[];const V=I.split(/\s+/).map(Ae=>Ae.split(":")).map(Ae=>{let Nt=Y[Ae[0]]||Ae;return new yi(Nt[0],Nt[1])}),ge=V.filter(Ae=>Ae.isManual());if(ge.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===ge.length&&V.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return V}(I);if(1===en.length&&en[0].isManual())return()=>{};const Mn=function hv(N,Y,I,V){return new u.c(ge=>{const Ae=[],Nt=()=>ge.next(!0),qt=()=>ge.next(!1),en=()=>ge.next(!V());return I.forEach(Mn=>{Mn.open===Mn.close?Ae.push(N.listen(Y,Mn.open,en)):Ae.push(N.listen(Y,Mn.open,Nt),N.listen(Y,Mn.close,qt))}),()=>{Ae.forEach(Mn=>Mn())}})}(N,Y,en,V).pipe(function Cd(N,Y,I){return V=>{let ge=null;const Ae=V.pipe((0,j.T)(en=>({open:en})),(0,M.p)(en=>{const Mn=I();return Mn===en.open||ge&&ge.open!==Mn?(ge&&ge.open!==en.open&&(ge=null),!1):(ge=en,!0)}),(0,te.u)()),Nt=Ae.pipe((0,M.p)(en=>en.open),Ap(N)),qt=Ae.pipe((0,M.p)(en=>!en.open),Ap(Y));return(0,p.h)(Nt,qt).pipe((0,M.p)(en=>en===ge&&(ge=null,en.open!==I())),(0,j.T)(en=>en.open))}}(Nt,qt,V)).subscribe(In=>In?ge():Ae());return()=>Mn.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:I}){I&&this.isOpen()&&(this._windowRef.instance.tooltipClass=I.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(i.zZn),i.rXU(i.c1b),i.rXU(Np),i.rXU(i.SKi),i.rXU(t.qQ),i.rXU(i.gRc),i.rXU(i.o8S))},N.\u0275dir=i.FsC({type:N,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[i.OA$]}),N})(),Cu=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({}),N})(),yv=(()=>{class N{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(I){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const V=Da(this.result),ge=Array.isArray(this.term)?this.term:[this.term],Ae=Mn=>this.accentSensitive?Mn:Ni(Mn),Nt=ge.map(Mn=>function Wn(N){return N.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(Ae(Da(Mn)))).filter(Mn=>Mn),qt=this.accentSensitive?V:Ni(V),en=Nt.length?qt.split(new RegExp(`(${Nt.join("|")})`,"gmi")):[V];if(this.accentSensitive)this.parts=en;else{let Mn=0;this.parts=en.map(In=>V.substring(Mn,Mn+=In.length))}}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},features:[i.OA$],decls:1,vars:1,consts:[["even",""],["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"]],template:function(I,V){1&I&&i.DNE(0,qo,3,2,"ng-template",1),2&I&&i.Y8G("ngForOf",V.parts)},dependencies:[t.Sq,t.bT],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),N})(),Fp=(()=>{class N{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=Da,this.selectEvent=new i.bkB,this.activeChangeEvent=new i.bkB}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(I){this.activeIdx=I,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(I){this.selectEvent.emit(I)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275cmp=i.VBU({type:N,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox"],hostVars:3,hostBindings:function(I,V){1&I&&i.bIt("mousedown",function(Ae){return Ae.preventDefault()}),2&I&&(i.Mr5("id",V.id),i.HbH("dropdown-menu show"+(V.popupClass?" "+V.popupClass:"")))},inputs:{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate",popupClass:"popupClass"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"mouseenter","click","id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(I,V){1&I&&i.DNE(0,Ll,1,2,"ng-template",null,0,i.C5r)(2,Ja,2,9,"ng-template",1),2&I&&(i.R7$(2),i.Y8G("ngForOf",V.results))},dependencies:[yv,t.Sq,t.T3],encapsulation:2}),N})(),pE=(()=>{class N{constructor(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();const Hc=new i.nKC("live announcer delay",{providedIn:"root",factory:function fE(){return 100}});function Ev(N,Y=!1){let I=N.body.querySelector("#ngb-live");return null==I&&Y&&(I=N.createElement("div"),I.setAttribute("id","ngb-live"),I.setAttribute("aria-live","polite"),I.setAttribute("aria-atomic","true"),I.classList.add("visually-hidden"),N.body.appendChild(I)),I}let mE=(()=>{class N{constructor(I,V){this._document=I,this._delay=V}ngOnDestroy(){const I=Ev(this._document);I&&I.parentElement.removeChild(I)}say(I){const V=Ev(this._document,!0),ge=this._delay;if(null!=V){V.textContent="";const Ae=()=>V.textContent=I;null===ge?Ae():setTimeout(Ae,ge)}}}return N.\u0275fac=function(I){return new(I||N)(i.KVO(t.qQ),i.KVO(Hc))},N.\u0275prov=i.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Um=0,zc=(()=>{class N{constructor(I,V,ge,Ae,Nt,qt,en,Mn,In,us,Kn){this._elementRef=I,this._renderer=ge,this._live=en,this._document=Mn,this._ngZone=In,this._changeDetector=us,this._subscription=null,this._closed$=new m.B,this._inputValueBackup=null,this._windowRef=null,this._positioning=cc(),this.autocomplete="off",this.placement="bottom-start",this.selectItem=new i.bkB,this.activeDescendant=null,this.popupId="ngb-typeahead-"+Um++,this._onTouched=()=>{},this._onChange=Ts=>{},this.container=Nt.container,this.editable=Nt.editable,this.focusFirst=Nt.focusFirst,this.showHint=Nt.showHint,this.placement=Nt.placement,this._valueChanges=(0,f.R)(I.nativeElement,"input").pipe((0,j.T)(Ts=>Ts.target.value)),this._resubscribeTypeahead=new _.t(null),this._popupService=new Ip(Fp,Ae,V,ge,this._ngZone,Kn)}ngOnInit(){this._subscribeToUserInput()}ngOnChanges({ngbTypeahead:I}){I&&!I.firstChange&&(this._unsubscribeFromUserInput(),this._subscribeToUserInput())}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput()}registerOnChange(I){this._onChange=I}registerOnTouched(I){this._onTouched=I}writeValue(I){this._writeInputValue(this._formatItemForInput(I)),this.showHint&&(this._inputValueBackup=I)}setDisabledState(I){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",I)}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead.next(null),this._onTouched()}handleKeyDown(I){if(this.isPopupOpen())switch(I.which){case vs.ArrowDown:I.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case vs.ArrowUp:I.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case vs.Enter:case vs.Tab:{const V=this._windowRef.instance.getActive();dn(V)&&(I.preventDefault(),I.stopPropagation(),this._selectResult(V)),this._closePopup();break}}}_openPopup(){if(!this.isPopupOpen()){this._inputValueBackup=this._elementRef.nativeElement.value;const{windowRef:I}=this._popupService.open();this._windowRef=I,this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(V=>this._selectResultClosePopup(V)),this._windowRef.instance.activeChangeEvent.subscribe(V=>this.activeDescendant=V),this._windowRef.instance.popupClass=this.popupClass,"body"===this.container&&(this._renderer.setStyle(this._windowRef.location.nativeElement,"z-index","1055"),this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement)),this._changeDetector.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._windowRef&&(this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:aa([0,2])}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),gl(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement])}}_closePopup(){this._popupService.close().subscribe(()=>{this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._closed$.next(),this._windowRef=null,this.activeDescendant=null})}_selectResult(I){let V=!1;this.selectItem.emit({item:I,preventDefault:()=>{V=!0}}),this._resubscribeTypeahead.next(null),V||(this.writeValue(I),this._onChange(I))}_selectResultClosePopup(I){this._selectResult(I),this._closePopup()}_showHint(){if(this.showHint&&this._windowRef?.instance.hasActive()&&null!=this._inputValueBackup){const I=this._inputValueBackup.toLowerCase(),V=this._formatItemForInput(this._windowRef.instance.getActive());I===V.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+V.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,V.length])):this._writeInputValue(V)}}_formatItemForInput(I){return null!=I&&this.inputFormatter?this.inputFormatter(I):Da(I)}_writeInputValue(I){this._renderer.setProperty(this._elementRef.nativeElement,"value",Da(I))}_subscribeToUserInput(){const I=this._valueChanges.pipe((0,K.M)(V=>{this._inputValueBackup=this.showHint?V:null,this._onChange(this.editable?V:void 0)}),this.ngbTypeahead?this.ngbTypeahead:()=>(0,h.of)([]));this._subscription=this._resubscribeTypeahead.pipe((0,k.n)(()=>I)).subscribe(V=>{V&&0!==V.length?(this._openPopup(),this._windowRef.instance.focusFirst=this.focusFirst,this._windowRef.instance.results=V,this._windowRef.instance.term=this._elementRef.nativeElement.value,this.resultFormatter&&(this._windowRef.instance.formatter=this.resultFormatter),this.resultTemplate&&(this._windowRef.instance.resultTemplate=this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const ge=V?V.length:0;this._live.say(0===ge?"No results available":`${ge} result${1===ge?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}}return N.\u0275fac=function(I){return new(I||N)(i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(i.sFG),i.rXU(i.zZn),i.rXU(pE),i.rXU(i.SKi),i.rXU(mE),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.gRc),i.rXU(i.o8S))},N.\u0275dir=i.FsC({type:N,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox","aria-multiline","false"],hostVars:7,hostBindings:function(I,V){1&I&&i.bIt("blur",function(){return V.handleBlur()})("keydown",function(Ae){return V.handleKeyDown(Ae)}),2&I&&(i.Mr5("autocomplete",V.autocomplete),i.BMQ("aria-autocomplete",V.showHint?"both":"list")("aria-activedescendant",V.activeDescendant)("aria-owns",V.isPopupOpen()?V.popupId:null)("aria-expanded",V.isPopupOpen()),i.AVh("open",V.isPopupOpen()))},inputs:{autocomplete:"autocomplete",container:"container",editable:"editable",focusFirst:"focusFirst",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate",showHint:"showHint",placement:"placement",popupClass:"popupClass"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>N),multi:!0}]),i.OA$]}),N})(),la=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[[t.MD]]}),N})(),jp=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({}),N})();const Gm=[Go,Oi,Rr,Fa,Qa,wi,Ma,Rm,Kr,jp,Eh,gu,_u,vu,Bm,vv,Cu,la];let Dh=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=i.$C({type:N}),N.\u0275inj=i.G2t({imports:[Gm,Go,Oi,Rr,Fa,Qa,wi,Ma,Rm,Kr,jp,Eh,gu,_u,vu,Bm,vv,Cu,la]}),N})()},1473:(F,b,n)=>{"use strict";n.d(b,{fcY:()=>lt,DAG:()=>Hi,P3:()=>gn,Fdw:()=>G,WlY:()=>ce,eU4:()=>me,W25:()=>wt,fQD:()=>it,wnr:()=>zt,FlA:()=>De,KMD:()=>Le,PTN:()=>Dn,TwG:()=>hn,CTm:()=>ls,_sU:()=>Ct,A0q:()=>Rs,JVJ:()=>bt,M7d:()=>re,eGm:()=>Ft,dku:()=>xe,mEL:()=>K,fHx:()=>se,UqU:()=>Te,f4U:()=>z,cYz:()=>q,S6A:()=>k,R7k:()=>hs,HkG:()=>te,iO5:()=>Yt,fpj:()=>Pn,$eO:()=>Ds,J9r:()=>ns,STK:()=>St,EET:()=>Xe,rA_:()=>ut,Vne:()=>Ti,X7I:()=>ke,tK_:()=>dt,z4z:()=>jn,vJF:()=>rn,Zex:()=>Gs,AjF:()=>ci,zUr:()=>sn,fXj:()=>gt,hDs:()=>Z,zno:()=>yn,sU3:()=>Q});var i=n(54438),t=n(31635),u=n(84412),e=n(74402),h=n(7673),m=n(57786),v=(n(52165),n(88141)),E=n(96354),_=n(99172),C=n(23294),S=n(39974),R=n(54360),T=n(57908),p=n(5964),L=n(85188),D=n(89417),w=n(60177);function M(oe){return"boolean"==typeof oe}function x(oe){return"function"==typeof oe}function j(oe){return"number"==typeof oe}function U(oe){return"object"==typeof oe&&null!==oe}function $(oe){return"string"==typeof oe}class k{constructor($e,_e){this.layoutService=$e,this.validationService=_e,this._hasFocus=!1}get control(){const $e=this.group.get(this.model.id);if(null===$e)throw new Error(`form group does not contain an abstract control with id ${this.model.id}`);return $e}get id(){return this.layoutService.getElementId(this.model)}get hasFocus(){return this._hasFocus}get isInvalid(){return this.control.invalid}get isValid(){return this.control.valid}get errorMessages(){return this.validationService.createErrorMessages(this.control,this.model)}get showErrorMessages(){return this.validationService.showErrorMessages(this.control,this.model,this.hasFocus)}getClass($e,_e,Dt=this.model){const Xt=Dt===this.model?this.layout:this.layoutService.findByModel(Dt,this.formLayout)??Dt.layout;return this.layoutService.getClass(Xt,$e,_e)}onBlur($e){$e instanceof Event&&$e.stopPropagation(),this._hasFocus=!1,this.blur.emit($e)}onChange($e){$e instanceof Event&&$e.stopPropagation(),this.change.emit($e)}onCustomEvent($e,_e=null,Dt=!1){Dt?this.customEvent?.emit($e):$(_e)&&this.customEvent?.emit({customEvent:$e,customEventType:_e})}onFocus($e){$e instanceof Event&&$e.stopPropagation(),this._hasFocus=!0,this.focus.emit($e)}}class K extends k{get array(){return this.control}get startTemplate(){return this.layoutService.getStartTemplate(this.model,this.templates)}get endTemplate(){return this.layoutService.getEndTemplate(this.model,this.templates)}markForCheck(){this.components instanceof i.rOR&&this.components.forEach($e=>$e.markForCheck())}}class X extends k{markForCheck(){this.components instanceof i.rOR&&this.components.forEach($e=>$e.markForCheck())}}const G=new i.nKC("DYNAMIC_FORM_CONTROL_MAP_FN");let q=(()=>{class oe{constructor(_e){this.DYNAMIC_FORM_CONTROL_MAP_FN=_e,this.forms=[],this.formControls={},this.DYNAMIC_FORM_CONTROL_MAP_FN=_e}getForms(){return this.forms.values()}registerForm(_e){this.forms.push(_e)}unregisterForm(_e){const Dt=this.forms.indexOf(_e);-1!==Dt&&this.forms.splice(Dt,1)}getFormControlRef(_e,Dt){const Xt=this.formControls[_e];return j(Dt)?Array.isArray(Xt)?Xt[Dt]:void 0:Xt}registerFormControl(_e,Dt,Xt){if(j(Xt)){const Sn=this.formControls[_e.id]||[];Array.isArray(Sn)?(Sn.splice(Xt,0,Dt),this.formControls[_e.id]=Sn):console.warn(`registerFormControlRef is called with index for a non-array form control: ${_e.id}`)}else this.formControls[_e.id]=Dt}unregisterFormControl(_e,Dt){const Xt=this.formControls[_e];j(Dt)?Array.isArray(Xt)&&void 0!==Xt[Dt]&&Xt.splice(Dt,1):void 0!==Xt&&delete this.formControls[_e]}getCustomComponentType(_e){return x(this.DYNAMIC_FORM_CONTROL_MAP_FN)?this.DYNAMIC_FORM_CONTROL_MAP_FN(_e):null}}return oe.\u0275fac=function(_e){return new(_e||oe)(i.KVO(G,8))},oe.\u0275prov=i.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),z=(()=>{class oe{constructor(_e,Dt){this.changeDetectorRef=_e,this.componentService=Dt}ngOnInit(){this.componentService.registerForm(this)}ngOnDestroy(){this.componentService.unregisterForm(this)}trackByFn(_e,Dt){return Dt.id}markForCheck(){this.changeDetectorRef.markForCheck(),this.components instanceof i.rOR&&this.components.forEach(_e=>_e.markForCheck())}detectChanges(){this.changeDetectorRef.detectChanges()}onBlur(_e){this.blur?.emit(_e)}onChange(_e){this.change?.emit(_e)}onFocus(_e){this.focus?.emit(_e)}onCustomEvent(_e,Dt){Dt.emit(_e)}}return oe.\u0275fac=function(_e){return new(_e||oe)(i.rXU(i.gRc),i.rXU(q))},oe.\u0275dir=i.FsC({type:oe}),oe})();var te=function(oe){return oe.Blur="blur",oe.Change="change",oe.Focus="focus",oe}(te||{});function Z(oe){return U(oe)&&oe.hasOwnProperty("$event")}const J="SERIALIZABLE";function Q(oe){return($e,_e)=>{Reflect.defineMetadata(J,{key:_e,name:oe||_e},$e,_e)}}function le(oe,$e){return function ee(oe){const $e=[];for(const _e in oe){const Dt=Reflect.getMetadata(J,oe,_e);Dt&&$e.push(Dt)}return $e}($e||oe).reduce((_e,Dt)=>(_e[Dt.name]=oe[Dt.key],_e),{})}let ne=(()=>{class oe{constructor(_e,Dt=null){this.parent=null,this.asyncValidators=_e.asyncValidators??null,this.errorMessages=_e.errorMessages??null,this.hidden=!!M(_e.hidden)&&_e.hidden,this.id=_e.id,this.label=_e.label??null,this.labelTooltip=_e.labelTooltip??null,this.controlTooltip=_e.controlTooltip??null,this.layout=Dt,this.name=_e.name??_e.id,this.relations=Array.isArray(_e.relations)?_e.relations:[],this.updateOn=$(_e.updateOn)?_e.updateOn:null,this.validators=_e.validators??null,this._disabled=!!M(_e.disabled)&&_e.disabled,this.disabled$=new u.t(this._disabled),this.disabled$.subscribe(Xt=>this._disabled=Xt),this.disabledChanges=this.disabled$.asObservable()}get disabled(){return this.disabled$.getValue()}set disabled(_e){this.disabled$.next(_e)}get hasErrorMessages(){return U(this.errorMessages)}toJSON(){return le(this)}}return(0,t.Cg)([Q()],oe.prototype,"asyncValidators",void 0),(0,t.Cg)([Q("disabled")],oe.prototype,"_disabled",void 0),(0,t.Cg)([Q()],oe.prototype,"errorMessages",void 0),(0,t.Cg)([Q()],oe.prototype,"hidden",void 0),(0,t.Cg)([Q()],oe.prototype,"id",void 0),(0,t.Cg)([Q()],oe.prototype,"label",void 0),(0,t.Cg)([Q()],oe.prototype,"labelTooltip",void 0),(0,t.Cg)([Q()],oe.prototype,"controlTooltip",void 0),(0,t.Cg)([Q()],oe.prototype,"layout",void 0),(0,t.Cg)([Q()],oe.prototype,"name",void 0),(0,t.Cg)([Q()],oe.prototype,"relations",void 0),(0,t.Cg)([Q()],oe.prototype,"updateOn",void 0),(0,t.Cg)([Q()],oe.prototype,"validators",void 0),oe})(),fe=(()=>{class oe extends ne{constructor(_e,Dt){super(_e,Dt),this.additional=U(_e.additional)?_e.additional:null,this.hint=_e.hint??null,this.required=!!M(_e.required)&&_e.required,this.tabIndex=_e.tabIndex??null,this._value=_e.value??null,this.value$=new u.t(this._value),this.value$.subscribe(Xt=>this._value=Xt),this.valueChanges=this.value$.asObservable()}get value(){return this.value$.getValue()}set value(_e){this.value$.next(_e)}getAdditional(_e,Dt){return null!==this.additional&&this.additional.hasOwnProperty(_e)?this.additional[_e]:Dt}}return(0,t.Cg)([Q()],oe.prototype,"additional",void 0),(0,t.Cg)([Q()],oe.prototype,"hint",void 0),(0,t.Cg)([Q()],oe.prototype,"required",void 0),(0,t.Cg)([Q()],oe.prototype,"tabIndex",void 0),(0,t.Cg)([Q("value")],oe.prototype,"_value",void 0),oe})(),se=(()=>{class oe{constructor(_e,Dt=[],Xt=-1){this.$implicit=this,this.context=_e,this.group=Dt,this.index=Xt}get parent(){return this.context}get(_e){return this.group[_e]}toJSON(){return le(this)}}return(0,t.Cg)([Q()],oe.prototype,"group",void 0),(0,t.Cg)([Q()],oe.prototype,"index",void 0),oe})();const ce="ARRAY";let Te=(()=>{class oe extends ne{constructor(_e,Dt){if(super(_e,Dt),this.groups=[],this.type=ce,!x(_e.groupFactory))throw new Error("group factory function must be specified for DynamicFormArrayModel");if(this.groupFactory=_e.groupFactory,this.groupAsyncValidators=_e.groupAsyncValidators??null,this.groupPrototype=this.groupFactory(),this.groupValidators=_e.groupValidators??null,this.initialCount=j(_e.initialCount)?_e.initialCount:1,Array.isArray(_e.groups))_e.groups.forEach((Xt,Sn)=>{this.groups.push(new se(this,Xt.group,Xt.index??Sn))});else for(let Xt=0;Xt<this.initialCount;Xt++)this.addGroup()}updateGroupIndex(){this.groups.forEach((_e,Dt)=>_e.index=Dt)}get size(){return this.groups.length}get(_e){return this.groups[_e]}addGroup(){return this.insertGroup(this.groups.length)}insertGroup(_e){const Dt=new se(this,this.groupFactory());return this.groups.splice(_e,0,Dt),this.updateGroupIndex(),Dt}moveGroup(_e,Dt){this.groups.splice(_e+Dt,0,...this.groups.splice(_e,1)),this.updateGroupIndex()}removeGroup(_e){this.groups.splice(_e,1),this.updateGroupIndex()}clear(){this.groups.splice(0),this.updateGroupIndex()}}return(0,t.Cg)([Q()],oe.prototype,"groupAsyncValidators",void 0),(0,t.Cg)([Q()],oe.prototype,"groupValidators",void 0),(0,t.Cg)([Q()],oe.prototype,"groups",void 0),(0,t.Cg)([Q()],oe.prototype,"initialCount",void 0),(0,t.Cg)([Q()],oe.prototype,"groupPrototype",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),be=(()=>{class oe extends fe{constructor(_e,Dt){super(_e,Dt),this.labelPosition=_e.labelPosition??null,this.checked=!!M(this.value)&&this.value}get checked(){return this.value??!1}set checked(_e){this.value=_e}toggle(){this.checked=!this.checked}}return(0,t.Cg)([Q()],oe.prototype,"labelPosition",void 0),oe})();const me="CHECKBOX";let re=(()=>{class oe extends be{constructor(_e,Dt){super(_e,Dt),this.type=me,this.indeterminate=!!M(_e.indeterminate)&&_e.indeterminate}}return(0,t.Cg)([Q()],oe.prototype,"indeterminate",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),Ee=(()=>{class oe extends fe{constructor(_e,Dt){super(_e,Dt),this.autoComplete=_e.autoComplete??"on",this.autoFocus=!!M(_e.autoFocus)&&_e.autoFocus,this.maxLength=j(_e.maxLength)?_e.maxLength:null,this.minLength=j(_e.minLength)?_e.minLength:null,this.placeholder=_e.placeholder??"",this.prefix=_e.prefix??null,this.readOnly=!!M(_e.readOnly)&&_e.readOnly,this.spellCheck=!!M(_e.spellCheck)&&_e.spellCheck,this.suffix=_e.suffix??null}}return(0,t.Cg)([Q()],oe.prototype,"autoComplete",void 0),(0,t.Cg)([Q()],oe.prototype,"autoFocus",void 0),(0,t.Cg)([Q()],oe.prototype,"maxLength",void 0),(0,t.Cg)([Q()],oe.prototype,"minLength",void 0),(0,t.Cg)([Q()],oe.prototype,"placeholder",void 0),(0,t.Cg)([Q()],oe.prototype,"prefix",void 0),(0,t.Cg)([Q()],oe.prototype,"readOnly",void 0),(0,t.Cg)([Q()],oe.prototype,"spellCheck",void 0),(0,t.Cg)([Q()],oe.prototype,"suffix",void 0),oe})();const De="INPUT";let ut=(()=>{class oe extends Ee{constructor(_e,Dt){super(_e,Dt),this.files=null,this.list$=null,this._list=null,this._listId=null,this.type=De,this.accept=_e.accept??null,this.inputType=_e.inputType??"text",this.mask=_e.mask??"",this.maskConfig=_e.maskConfig?{...L.Dz,..._e.maskConfig}:L.Dz,this.max=void 0!==_e.max?_e.max:null,this.min=void 0!==_e.min?_e.min:null,this.multiple=M(_e.multiple)?_e.multiple:null,this.pattern=_e.pattern??null,this.step=j(_e.step)?_e.step:null,void 0!==_e.list&&(this.list=_e.list,this._listId=`${this.id}List`)}get listId(){return this._listId}get hasList(){return(0,e.A)(this.list$)}set list(_e){Array.isArray(_e)?(this._list=_e,this.list$=(0,h.of)(this._list)):(0,e.A)(_e)?this.list$=_e.pipe((0,v.M)(Dt=>this._list=Dt)):(this._list=null,this.list$=null)}}return(0,t.Cg)([Q()],oe.prototype,"accept",void 0),(0,t.Cg)([Q()],oe.prototype,"inputType",void 0),(0,t.Cg)([Q()],oe.prototype,"mask",void 0),(0,t.Cg)([Q()],oe.prototype,"maskConfig",void 0),(0,t.Cg)([Q()],oe.prototype,"max",void 0),(0,t.Cg)([Q()],oe.prototype,"min",void 0),(0,t.Cg)([Q()],oe.prototype,"multiple",void 0),(0,t.Cg)([Q()],oe.prototype,"pattern",void 0),(0,t.Cg)([Q()],oe.prototype,"step",void 0),(0,t.Cg)([Q("list")],oe.prototype,"_list",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})();var un=function(oe){return oe.Start="START",oe.End="END",oe}(un||{});let rn=(()=>{class oe{constructor(_e){this.templateRef=_e,this.align=un.End,this.as=null}}return oe.\u0275fac=function(_e){return new(_e||oe)(i.rXU(i.C4Q))},oe.\u0275dir=i.FsC({type:oe,selectors:[["ng-template","modelId",""],["ng-template","modelType",""]],inputs:{align:"align",as:"as",index:"index",modelId:"modelId",modelType:"modelType"}}),oe})(),Pn=(()=>{class oe{findById(_e,Dt){if(U(Dt))for(const Xt of Object.keys(Dt))if(Xt===_e)return Dt[Xt];return null}findByModel(_e,Dt){let Xt=null;if(U(Dt))for(const Sn of Object.keys(Dt))Sn.split(",").forEach(ts=>{const ps=ts.trim();(ps===_e.id||ps===_e.type)&&(Xt=Dt[Sn])});return Xt}filterTemplatesByModel(_e,Dt){return Dt instanceof i.rOR||Array.isArray(Dt)?Dt.filter(Sn=>Sn.modelId===_e.id||Sn.modelType===_e.type):[]}getAlignedTemplate(_e,Dt,Xt){return this.filterTemplatesByModel(_e,Dt).find(Sn=>null===Sn.as&&Sn.align===Xt)}getStartTemplate(_e,Dt){return this.getAlignedTemplate(_e,Dt,un.Start)}getEndTemplate(_e,Dt){return this.getAlignedTemplate(_e,Dt,un.End)}getClass(_e,Dt,Xt){if(U(_e)&&_e.hasOwnProperty(Dt)){const Sn=_e[Dt];if(Sn.hasOwnProperty(Xt))return Sn[Xt]}return""}getHostClass(_e){let Xt="";return U(_e)&&["element","grid"].forEach(Sn=>{U(_e[Sn])&&$(_e[Sn]?.host)&&(Xt+=` ${_e[Sn]?.host}`)}),Xt}getElementId(_e){let Dt=_e.id,Xt=_e.parent;for(;null!==Xt;){if(Xt instanceof se){Dt=`${Xt.context.id}-${Xt.index}-${_e.id}`;break}Xt=Xt.parent}return Dt}}return oe.\u0275fac=function(_e){return new(_e||oe)},oe.\u0275prov=i.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();var yt=function(oe){return oe.Blur="blur",oe.Change="change",oe.Submit="submit",oe}(yt||{});const Kt=new i.nKC("DYNAMIC_VALIDATORS"),gn=new i.nKC("DYNAMIC_ERROR_MESSAGES_MATCHER");let St=(()=>{class oe{constructor(_e,Dt,Xt,Sn){this._NG_VALIDATORS=_e,this._NG_ASYNC_VALIDATORS=Dt,this._DYNAMIC_VALIDATORS=Xt,this._DYNAMIC_ERROR_MESSAGES_MATCHER=Sn}getValidatorFn(_e,Dt=null,Xt=this._NG_VALIDATORS){let Sn;if(D.k0.hasOwnProperty(_e)?Sn=D.k0[_e]:this._DYNAMIC_VALIDATORS&&this._DYNAMIC_VALIDATORS.has(_e)?Sn=this._DYNAMIC_VALIDATORS.get(_e):Xt&&(Sn=Xt.find(ts=>ts.name===_e)),void 0===Sn)throw new Error(`validator "${_e}" is not provided via NG_VALIDATORS, NG_ASYNC_VALIDATORS or DYNAMIC_FORM_VALIDATORS`);return null!==Dt?Sn(Dt):Sn}getValidatorFns(_e,Dt=this._NG_VALIDATORS){let Xt=[];return U(_e)&&(Xt=Object.keys(_e).map(Sn=>{const ts=_e[Sn];return this.isValidatorDescriptor(ts)?this.getValidatorFn(ts.name,ts.args,Dt):this.getValidatorFn(Sn,ts,Dt)})),Xt}getValidator(_e,Dt=null){return this.getValidatorFn(_e,Dt)}getAsyncValidator(_e,Dt=null){return this.getValidatorFn(_e,Dt,this._NG_ASYNC_VALIDATORS)}getValidators(_e){return this.getValidatorFns(_e)}getAsyncValidators(_e){return this.getValidatorFns(_e,this._NG_ASYNC_VALIDATORS)}updateValidators(_e,Dt,Xt){Xt.validators=_e,null===_e?Dt.clearValidators():Dt.setValidators(this.getValidators(_e)),Dt.updateValueAndValidity()}updateAsyncValidators(_e,Dt,Xt){Xt.asyncValidators=_e,null===_e?Dt.clearAsyncValidators():Dt.setAsyncValidators(this.getAsyncValidators(_e)),Dt.updateValueAndValidity()}showErrorMessages(_e,Dt,Xt){const Sn=_e.invalid&&Dt.hasErrorMessages,ts=this._DYNAMIC_ERROR_MESSAGES_MATCHER?this._DYNAMIC_ERROR_MESSAGES_MATCHER(_e,Dt,Xt):((oe,$e,_e)=>oe.touched&&!_e)(_e,0,Xt);return Sn&&ts}parseErrorMessageConfig(_e,Dt,Xt=null){return _e.replace(/{{\s*(.+?)\s*}}/gm,(Sn,ts)=>{let ps=Dt,Bs=ts;return ts.indexOf("validator.")>=0&&Xt&&(ps=Xt,Bs=ts.replace("validator.","")),null!=ps[Bs]?ps[Bs]:null})}createErrorMessages(_e,Dt){const Xt=[];if(Dt.hasErrorMessages){const Sn=Dt.errorMessages;Object.keys(_e.errors||{}).forEach(ts=>{let ps=ts;if(("minlength"===ts||"maxlength"===ts)&&(ps=ps.replace("length","Length")),Sn.hasOwnProperty(ps)){const Bs=_e.getError(ts);Xt.push(this.parseErrorMessageConfig(Sn[ps],Dt,Bs))}})}return Xt}isFormHook(_e){return $(_e)&&Object.values(yt).includes(_e)}isValidatorDescriptor(_e){return!!U(_e)&&_e.hasOwnProperty("name")&&_e.hasOwnProperty("args")}}return oe.\u0275fac=function(_e){return new(_e||oe)(i.KVO(D.cz,8),i.KVO(D.pg,8),i.KVO(Kt,8),i.KVO(gn,8))},oe.\u0275prov=i.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();const zt="GROUP";let Yt=(()=>{class oe extends ne{constructor(_e,Dt){super(_e,Dt),this.type=zt,this.group=Array.isArray(_e.group)?_e.group:[],this.legend=_e.legend??null}get(_e){return this.group[_e]}set(_e,Dt){this.group[_e]=Dt}add(_e){this.group.push(_e)}insert(_e,Dt){this.group.splice(_e,0,Dt)}move(_e,Dt){this.group.splice(_e+Dt,0,...this.group.splice(_e,1))}remove(_e){this.group.splice(_e,1)}size(){return this.group.length}}return(0,t.Cg)([Q()],oe.prototype,"group",void 0),(0,t.Cg)([Q()],oe.prototype,"legend",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})();const wt="CHECKBOX_GROUP";let bt=(()=>{class oe extends Yt{constructor(_e,Dt){super(_e,Dt),this.type=wt}check(..._e){_e.forEach(Dt=>this.group[Dt].checked=!0)}uncheck(..._e){_e.forEach(Dt=>this.group[Dt].checked=!1)}checkAll(){this.group.forEach(_e=>_e.checked=!0)}uncheckAll(){this.group.forEach(_e=>_e.checked=!1)}}return(0,t.Cg)([Q()],oe.prototype,"group",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})();const Jt="COLORPICKER";let Tt=(()=>{class oe extends fe{constructor(_e,Dt){super(_e,Dt),this.type=Jt,this.format=$(_e.format)?_e.format:null,this.inline=!!M(_e.inline)&&_e.inline}}return(0,t.Cg)([Q()],oe.prototype,"format",void 0),(0,t.Cg)([Q()],oe.prototype,"inline",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),Ft=(()=>{class oe extends fe{constructor(_e,Dt){super(_e,Dt),this.format=_e.format??null,this.max=_e.max??null,this.min=_e.min??null,this.placeholder=_e.placeholder??null}}return(0,t.Cg)([Q()],oe.prototype,"format",void 0),(0,t.Cg)([Q()],oe.prototype,"max",void 0),(0,t.Cg)([Q()],oe.prototype,"min",void 0),(0,t.Cg)([Q()],oe.prototype,"placeholder",void 0),oe})();const it="DATEPICKER";let xe=(()=>{class oe extends Ft{constructor(_e,Dt){super(_e,Dt),this.type=it,this.autoFocus=!!M(_e.autoFocus)&&_e.autoFocus,this.focusedDate=_e.focusedDate??null,this.inline=!!M(_e.inline)&&_e.inline,this.prefix=_e.prefix??null,this.readOnly=!!M(_e.readOnly)&&_e.readOnly,this.toggleIcon=$(_e.toggleIcon)?_e.toggleIcon:null,this.toggleLabel=$(_e.toggleLabel)?_e.toggleLabel:null,this.suffix=_e.suffix??null}}return(0,t.Cg)([Q()],oe.prototype,"autoFocus",void 0),(0,t.Cg)([Q()],oe.prototype,"focusedDate",void 0),(0,t.Cg)([Q()],oe.prototype,"inline",void 0),(0,t.Cg)([Q()],oe.prototype,"prefix",void 0),(0,t.Cg)([Q()],oe.prototype,"readOnly",void 0),(0,t.Cg)([Q()],oe.prototype,"suffix",void 0),(0,t.Cg)([Q()],oe.prototype,"toggleIcon",void 0),(0,t.Cg)([Q()],oe.prototype,"toggleLabel",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),Ke=(()=>{class oe extends Ee{constructor(_e,Dt){super(_e,Dt),this.type="EDITOR"}}return(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),je=(()=>{class oe extends fe{constructor(_e,Dt){super(_e,Dt),this.multiple=!!M(_e.multiple)&&_e.multiple}}return(0,t.Cg)([Q()],oe.prototype,"multiple",void 0),oe})();const At="FILE_UPLOAD";let Qe=(()=>{class oe extends je{constructor(_e,Dt){super(_e,Dt),this.type=At,this.accept=Array.isArray(_e.accept)?_e.accept:null,this.autoUpload=!M(_e.autoUpload)||_e.autoUpload,this.maxSize=j(_e.maxSize)?_e.maxSize:null,this.minSize=j(_e.minSize)?_e.minSize:null,this.removeUrl=_e.removeUrl??null,this.showFileList=!M(_e.showFileList)||_e.showFileList,this.url=_e.url??null}}return(0,t.Cg)([Q()],oe.prototype,"accept",void 0),(0,t.Cg)([Q()],oe.prototype,"autoUpload",void 0),(0,t.Cg)([Q()],oe.prototype,"maxSize",void 0),(0,t.Cg)([Q()],oe.prototype,"minSize",void 0),(0,t.Cg)([Q()],oe.prototype,"removeUrl",void 0),(0,t.Cg)([Q()],oe.prototype,"showFileList",void 0),(0,t.Cg)([Q()],oe.prototype,"url",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),st=(()=>{class oe{constructor(_e){this.disabled=!!M(_e.disabled)&&_e.disabled,this.label=_e.label??null,this.value=_e.value}get text(){return this.label}set text(_e){this.label=_e}toJSON(){return le(this)}}return(0,t.Cg)([Q()],oe.prototype,"disabled",void 0),(0,t.Cg)([Q()],oe.prototype,"label",void 0),(0,t.Cg)([Q()],oe.prototype,"value",void 0),oe})(),ke=(()=>{class oe extends fe{constructor(_e,Dt){super(_e,Dt),this._options=[],this.options=_e.options}updateOptions$(){this.options$=(0,h.of)(this.options)}set options(_e){Array.isArray(_e)?(this._options=_e.map(Dt=>new st(Dt)),this.updateOptions$()):(0,e.A)(_e)?this.options$=_e.pipe((0,E.T)(Dt=>(this._options=Dt.map(Xt=>new st(Xt)),this._options))):this.updateOptions$()}get options(){return this._options}add(_e){return this.insert(this.options.length,_e)}get(_e){return this.options[_e]}insert(_e,Dt){const Xt=new st(Dt);return this.options.splice(_e,0,Xt),this.updateOptions$(),Xt}remove(..._e){_e.forEach(Dt=>this.options.splice(Dt,1)),this.updateOptions$()}}return(0,t.Cg)([Q("options")],oe.prototype,"_options",void 0),oe})();const Le="RADIO_GROUP";let dt=(()=>{class oe extends ke{constructor(_e,Dt){super(_e,Dt),this.type=Le,this.legend=_e.legend??null}select(_e){this.value=this.get(_e).value}}return(0,t.Cg)([Q()],oe.prototype,"legend",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),an=(()=>{class oe extends fe{constructor(_e,Dt){super(_e,Dt),this.type="RATING",this.max=j(_e.max)?_e.max:10}}return(0,t.Cg)([Q()],oe.prototype,"max",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})();const Dn="SELECT";let jn=(()=>{class oe extends ke{constructor(_e,Dt){super(_e,Dt),this.type=Dn,this.compareWithFn=x(_e.compareWithFn)?_e.compareWithFn:Object.is,this.filterable=!!M(_e.filterable)&&_e.filterable,this.multiple=!!M(_e.multiple)&&_e.multiple,this.placeholder=_e.placeholder??"",this.prefix=_e.prefix??null,this.suffix=_e.suffix??null}select(..._e){this.value=this.multiple?_e.map(Dt=>this.get(Dt).value):this.get(_e[0]).value}}return(0,t.Cg)([Q()],oe.prototype,"filterable",void 0),(0,t.Cg)([Q()],oe.prototype,"multiple",void 0),(0,t.Cg)([Q()],oe.prototype,"placeholder",void 0),(0,t.Cg)([Q()],oe.prototype,"prefix",void 0),(0,t.Cg)([Q()],oe.prototype,"suffix",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),wn=(()=>{class oe extends fe{constructor(_e,Dt){super(_e,Dt),this.type="SLIDER",this.max=j(_e.max)?_e.max:10,this.min=j(_e.min)?_e.min:0,this.step=j(_e.step)?_e.step:1,this.vertical=!!M(_e.vertical)&&_e.vertical}}return(0,t.Cg)([Q()],oe.prototype,"max",void 0),(0,t.Cg)([Q()],oe.prototype,"min",void 0),(0,t.Cg)([Q()],oe.prototype,"step",void 0),(0,t.Cg)([Q()],oe.prototype,"vertical",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})(),vt=(()=>{class oe extends be{constructor(_e,Dt){super(_e,Dt),this.type="SWITCH",this.offLabel=_e.offLabel??null,this.onLabel=_e.onLabel??null}}return(0,t.Cg)([Q()],oe.prototype,"offLabel",void 0),(0,t.Cg)([Q()],oe.prototype,"onLabel",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})();const hn="TEXTAREA";let Gs=(()=>{class oe extends Ee{constructor(_e,Dt){super(_e,Dt),this.type=hn,this.cols=j(_e.cols)?_e.cols:20,this.rows=j(_e.rows)?_e.rows:2,this.wrap=_e.wrap??"soft"}}return(0,t.Cg)([Q()],oe.prototype,"cols",void 0),(0,t.Cg)([Q()],oe.prototype,"rows",void 0),(0,t.Cg)([Q()],oe.prototype,"wrap",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})();const ls="TIMEPICKER";let Es=(()=>{class oe extends Ft{constructor(_e,Dt){super(_e,Dt),this.type=ls,this.meridian=!!M(_e.meridian)&&_e.meridian,this.showSeconds=!!M(_e.showSeconds)&&_e.showSeconds}}return(0,t.Cg)([Q()],oe.prototype,"meridian",void 0),(0,t.Cg)([Q()],oe.prototype,"showSeconds",void 0),(0,t.Cg)([Q()],oe.prototype,"type",void 0),oe})();function yn(oe,$e){return $($e)&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|([+\-])([\d|:]*))?$/.test($e)?new Date($e):$e}let ns=(()=>{class oe{constructor(_e,Dt){this.componentService=_e,this.validationService=Dt}createAbstractControlOptions(_e=null,Dt=null,Xt=null){return{asyncValidators:null!==Dt?this.validationService.getAsyncValidators(Dt):null,validators:null!==_e?this.validationService.getValidators(_e):null,updateOn:null!==Xt&&this.validationService.isFormHook(Xt)?Xt:yt.Change}}createFormArray(_e){const Dt=[],Xt=this.createAbstractControlOptions(_e.validators,_e.asyncValidators,_e.updateOn);for(let Sn=0;Sn<_e.size;Sn++){const ts=_e.get(Sn),ps=this.createAbstractControlOptions(_e.groupValidators,_e.groupAsyncValidators,_e.updateOn);Dt.push(this.createFormGroup(ts.group,ps,ts))}return new D.Bm(Dt,Xt)}createFormGroup(_e,Dt=null,Xt=null){const Sn={};return _e.forEach(ts=>{switch(ts.parent=Xt,ts.type){case ce:Sn[ts.id]=this.createFormArray(ts);break;case zt:case wt:const ps=ts,Bs=this.createAbstractControlOptions(ps.validators,ps.asyncValidators,ps.updateOn);Sn[ts.id]=this.createFormGroup(ps.group,Bs,ps);break;default:const zi={value:ts.value,disabled:ts.disabled},Vo=this.createAbstractControlOptions(ts.validators,ts.asyncValidators,ts.updateOn);Sn[ts.id]=new D.hs(zi,Vo)}}),new D.J3(Sn,Dt)}getPathSegment(_e){return _e instanceof se?_e.index.toString():_e.id}getPath(_e,Dt=!1){const Xt=[this.getPathSegment(_e)];let Sn=_e.parent;for(;Sn;)Xt.unshift(this.getPathSegment(Sn)),Sn=Sn.parent;return Dt?Xt.join("."):Xt}addFormGroupControl(_e,Dt,...Xt){Dt instanceof Yt?this.insertFormGroupControl(Dt.size(),_e,Dt,...Xt):this.insertFormGroupControl(Dt.length,_e,Dt,...Xt)}moveFormGroupControl(_e,Dt,Xt){Xt instanceof Yt?Xt.move(_e,Dt):Xt.splice(_e+Dt,0,...Xt.splice(_e,1))}insertFormGroupControl(_e,Dt,Xt,...Sn){const ps=this.createFormGroup(Sn,null,Xt instanceof Yt?Xt:null).controls;Object.keys(ps).forEach((Bs,Zi)=>{const zi=Sn[Zi];Xt instanceof Yt?Xt.insert(_e,zi):Xt.splice(_e,0,zi),Dt.addControl(Bs,ps[Bs])})}removeFormGroupControl(_e,Dt,Xt){Xt instanceof Yt?(Dt.removeControl(Xt.get(_e).id),Xt.remove(_e)):(Dt.removeControl(Xt[_e].id),Xt.splice(_e,1))}addFormArrayGroup(_e,Dt){const Xt=Dt.addGroup();_e.push(this.createFormGroup(Xt.group,null,Xt))}insertFormArrayGroup(_e,Dt,Xt){const Sn=Xt.insertGroup(_e);Dt.insert(_e,this.createFormGroup(Sn.group,null,Sn))}moveFormArrayGroup(_e,Dt,Xt,Sn){const ts=_e+Dt,ps=Dt>=0;if(!(_e>=0&&_e<Sn.size&&ts>=0&&ts<Sn.size))throw new Error("form array group cannot be moved due to index or new index being out of bounds");{const Bs=[];for(let Zi=ps?_e:ts;Zi<=(ps?ts:_e);Zi++)Bs.push(Xt.at(Zi));Bs.forEach((Zi,zi)=>{let Vo;Vo=ps?0===zi?ts:_e+zi-1:zi===Bs.length-1?ts:ts+zi+1,Xt.setControl(Vo,Zi)}),Sn.moveGroup(_e,Dt)}}removeFormArrayGroup(_e,Dt,Xt){Dt.removeAt(_e),Xt.removeGroup(_e)}clearFormArray(_e,Dt){_e.clear(),Dt.clear()}findById(_e,Dt){const Xt=(ts,ps)=>{for(const Bs of ps){if(Bs.id===ts){Sn=Bs;break}Bs instanceof Yt&&Xt(ts,Bs.group)}};let Sn=null;return Xt(_e,Dt),Sn}findModelById(_e,Dt){return this.findById(_e,Dt)}findControlByModel(_e,Dt){return Dt.root.get(this.getPath(_e,!0))}detectChanges(_e){if(_e instanceof z)_e.markForCheck(),_e.detectChanges();else for(const Dt of this.componentService.getForms())Dt.markForCheck(),Dt.detectChanges()}fromJSON(_e){const Dt=$(_e)?JSON.parse(_e,yn):_e,Xt=[];return Dt.forEach(Sn=>{const ts=Sn.layout??null;switch(Sn.type){case ce:const ps=Sn;Array.isArray(ps.groups)&&ps.groups.forEach(Bs=>{Bs.group=this.fromJSON(Bs.group)}),ps.groupFactory=()=>this.fromJSON(ps.groupPrototype),Xt.push(new Te(Sn,ts));break;case me:Xt.push(new re(Sn,ts));break;case wt:Sn.group=this.fromJSON(Sn.group),Xt.push(new bt(Sn,ts));break;case Jt:Xt.push(new Tt(Sn,ts));break;case it:Xt.push(new xe(Sn,ts));break;case"EDITOR":Xt.push(new Ke(Sn,ts));break;case At:Sn.value=null,Xt.push(new Qe(Sn,ts));break;case zt:Sn.group=this.fromJSON(Sn.group),Xt.push(new Yt(Sn,ts));break;case De:Xt.push(new ut(Sn,ts));break;case Le:Xt.push(new dt(Sn,ts));break;case"RATING":Xt.push(new an(Sn,ts));break;case Dn:Xt.push(new jn(Sn,ts));break;case"SLIDER":Xt.push(new wn(Sn,ts));break;case"SWITCH":Xt.push(new vt(Sn,ts));break;case hn:Xt.push(new Gs(Sn,ts));break;case ls:Xt.push(new Es(Sn,ts));break;default:throw new Error(`unknown form control model type defined on JSON object with id "${Sn.id}"`)}}),Xt}}return oe.\u0275fac=function(_e){return new(_e||oe)(i.KVO(q),i.KVO(St))},oe.\u0275prov=i.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();const ci="ENABLED",sn="VISIBLE",lt="AND",gt="OR",Ct=new i.nKC("DYNAMIC_MATCHERS"),Rs=[{provide:Ct,useValue:{match:"DISABLED",opposingMatch:ci,onChange(oe,$e){$e.disabled=oe}},multi:!0},{provide:Ct,useValue:{match:"HIDDEN",opposingMatch:sn,onChange(oe,$e){$e.hidden=oe}},multi:!0},{provide:Ct,useValue:{match:"REQUIRED",opposingMatch:"OPTIONAL",onChange(oe,$e,_e,Dt){let Xt=null;oe?Xt=U($e.validators)?{...$e.validators,required:null}:{required:null}:U($e.validators)&&(delete $e.validators.required,Xt={...$e.validators}),Dt.get(St).updateValidators(Xt,_e,$e),Dt.get(ns).detectChanges()}},multi:!0}];let Ds=(()=>{class oe{constructor(_e,Dt){this.MATCHERS=_e,this.injector=Dt}getRelatedFormControls(_e,Dt){const Xt=(ts,ps)=>{const Bs=ps.rootPath??ps.id;if($(Bs)&&!ts.hasOwnProperty(Bs)){const Zi=ps.rootPath?Dt.root.get(ps.rootPath):Dt.get(ps.id);Zi instanceof D.hs?ts[Bs]=Zi:console.warn(`No related form control with id ${ps.id} could be found`)}return ts};return _e.relations.reduce((ts,ps)=>ps.when.reduce(Xt,ts),{})}findRelationByMatcher(_e,Dt){return _e.find(Xt=>[Dt.match,Dt.opposingMatch].includes(Xt.match))}matchesCondition(_e,Dt,Xt){const Sn=_e.operator??gt;return _e.when.reduce((ts,ps,Bs)=>{const Zi=ps.rootPath??ps.id;let zi;for(const[Vo,bi]of Object.entries(Dt))if(Vo===Zi){zi=bi;break}return zi&&_e.match===Xt.match?!(Bs>0&&Sn===lt&&!ts||!(Bs>0&&Sn===gt&&ts)&&ps.value!==zi.value&&ps.status!==zi.status):!(!zi||_e.match!==Xt.opposingMatch||!(Bs>0&&Sn===lt&&ts)&&(Bs>0&&Sn===gt&&!ts||ps.value===zi.value||ps.status===zi.status))},!1)}subscribeRelations(_e,Dt,Xt){const Sn=this.getRelatedFormControls(_e,Dt),ts=[];return Object.values(Sn).forEach(ps=>{const Bs=ps.valueChanges.pipe((0,_.Z)(ps.value),(0,C.F)()),Zi=ps.statusChanges.pipe((0,_.Z)(ps.status),(0,C.F)());ts.push((0,m.h)(Bs,Zi).subscribe(()=>{this.MATCHERS.forEach(zi=>{const Vo=this.findRelationByMatcher(_e.relations,zi);if(void 0!==Vo){const bi=this.matchesCondition(Vo,Sn,zi);zi.onChange(bi,_e,Xt,this.injector)}})}))}),ts}}return oe.\u0275fac=function(_e){return new(_e||oe)(i.KVO(Ct,8),i.KVO(i.zZn))},oe.\u0275prov=i.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),hs=(()=>{class oe{constructor(_e,Dt,Xt,Sn,ts,ps){this.changeDetectorRef=_e,this.componentFactoryResolver=Dt,this.layoutService=Xt,this.validationService=Sn,this.componentService=ts,this.relationService=ps,this._hasFocus=!1,this.context=null,this.componentSubscriptions=[],this.subscriptions=[]}ngOnChanges(_e){const Dt=_e.group,Sn=_e.model;(_e.layout||Sn)&&this.onLayoutOrModelChange(),Sn&&this.onModelChange(),(Dt||Sn)&&this.onGroupOrModelChange()}ngOnInit(){this.subscriptions.push(this.control.statusChanges.pipe(function A(oe,$e=null){return $e=$e??oe,(0,S.N)((_e,Dt)=>{let Xt=[],Sn=0;_e.subscribe((0,R._)(Dt,ts=>{let ps=null;Sn++%$e==0&&Xt.push([]);for(const Bs of Xt)Bs.push(ts),oe<=Bs.length&&(ps=ps??[],ps.push(Bs));if(ps)for(const Bs of ps)(0,T.o)(Xt,Bs),Dt.next(Bs)},()=>{for(const ts of Xt)Dt.next(ts);Dt.complete()},void 0,()=>{Xt=null}))})}(2,1),(0,E.T)(_e=>_e[0]),(0,p.p)(_e=>"PENDING"===_e)).subscribe(_e=>this.markForCheck()))}ngOnDestroy(){this.destroyFormControlComponent(),this.unsubscribe()}get id(){return this.layoutService.getElementId(this.model)}get hasFocus(){return this._hasFocus}get isInvalid(){return this.control.invalid}get isValid(){return this.control.valid}get errorMessages(){return this.validationService.createErrorMessages(this.control,this.model)}get showErrorMessages(){return this.validationService.showErrorMessages(this.control,this.model,this.hasFocus)}get hasLabel(){return $(this.model.label)}get hasHint(){return $(this.model.hint)}get hint(){return this.model.hint??null}get isCheckbox(){return this.model.type===me}get templates(){return void 0!==this.inputTemplateList?this.inputTemplateList:this.contentTemplateList}get startTemplate(){return this.model.type!==ce?this.layoutService.getStartTemplate(this.model,this.templates):void 0}get endTemplate(){return this.model.type!==ce?this.layoutService.getEndTemplate(this.model,this.templates):void 0}getClass(_e,Dt){return this.layoutService.getClass(this.controlLayout,_e,Dt)}markForCheck(){this.changeDetectorRef.markForCheck();const _e=this.componentRef&&this.componentRef.instance;_e&&(_e instanceof X||_e instanceof K)&&_e.markForCheck()}createFormControlComponent(){const _e=this.componentType;if(null!==_e){const Dt=this.componentFactoryResolver.resolveComponentFactory(_e);this.componentViewContainerRef.clear(),this.componentRef=this.componentViewContainerRef.createComponent(Dt);const Xt=this.componentRef.instance;Xt.formLayout=this.layout,Xt.group=this.group,Xt.layout=this.controlLayout,Xt.model=this.model,this.templates&&(Xt.templates=this.templates),this.componentSubscriptions.push(Xt.blur.subscribe(Sn=>this.onBlur(Sn))),this.componentSubscriptions.push(Xt.change.subscribe(Sn=>this.onChange(Sn))),this.componentSubscriptions.push(Xt.focus.subscribe(Sn=>this.onFocus(Sn))),void 0!==Xt.customEvent&&this.componentSubscriptions.push(Xt.customEvent.subscribe(Sn=>this.onCustomEvent(Sn))),this.registerFormControlComponentRef(this.componentRef)}}destroyFormControlComponent(){this.componentRef&&(this.componentSubscriptions.forEach(_e=>_e.unsubscribe()),this.componentSubscriptions=[],this.unregisterFormControlComponentRef(),this.componentRef.destroy())}createDynamicFormControlEvent(_e,Dt){return{$event:_e,context:this.context,control:this.control,group:this.group,model:this.model,type:Dt}}unsubscribe(){this.subscriptions.forEach(_e=>_e.unsubscribe()),this.subscriptions=[]}onControlValueChanges(_e){this.model instanceof fe&&this.model.value!==_e&&(this.model.value=_e)}onModelValueUpdates(_e){this.control.value!==_e&&this.control.setValue(_e)}onModelDisabledUpdates(_e){_e?this.control.disable():this.control.enable()}onLayoutOrModelChange(){this.controlLayout=this.layoutService.findByModel(this.model,this.layout)??this.model.layout,this.klass=`${Array.isArray(this.hostClass)?this.hostClass.join(" "):""} ${this.layoutService.getHostClass(this.controlLayout)}`}onModelChange(){this.destroyFormControlComponent(),this.createFormControlComponent()}onGroupOrModelChange(){this.model&&(this.unsubscribe(),this.group&&(this.control=this.group.get(this.model.id),this.subscriptions.push(this.control.valueChanges.subscribe(_e=>this.onControlValueChanges(_e)))),this.subscriptions.push(this.model.disabledChanges.subscribe(_e=>this.onModelDisabledUpdates(_e))),this.model instanceof fe&&this.subscriptions.push(this.model.valueChanges.subscribe(Dt=>this.onModelValueUpdates(Dt))),this.model.relations.length>0&&this.subscriptions.push(...this.relationService.subscribeRelations(this.model,this.group,this.control)))}onChange(_e){if(_e instanceof Event){if(this.model.type===De){const Dt=this.model;"file"===Dt.inputType&&(Dt.files=_e.target.files)}this.change.emit(this.createDynamicFormControlEvent(_e,te.Change))}else Z(_e)?this.change.emit(_e):this.change.emit(this.createDynamicFormControlEvent(_e,te.Change))}onBlur(_e){Z(_e)?this.blur.emit(_e):(this._hasFocus=!1,this.blur.emit(this.createDynamicFormControlEvent(_e,te.Blur)))}onFocus(_e){Z(_e)?this.focus.emit(_e):(this._hasFocus=!0,this.focus.emit(this.createDynamicFormControlEvent(_e,te.Focus)))}onCustomEvent(_e){const Dt=this.customEvent;Z(_e)?Dt.emit(_e):Dt.emit(this.createDynamicFormControlEvent(_e.customEvent,_e.customEventType))}registerFormControlComponentRef(_e){this.context instanceof se?this.componentService.registerFormControl(this.model,_e,this.context.index):this.componentService.registerFormControl(this.model,_e)}unregisterFormControlComponentRef(){this.context instanceof se?this.componentService.unregisterFormControl(this.model.id,this.context.index):this.componentService.unregisterFormControl(this.model.id)}}return oe.\u0275fac=function(_e){return new(_e||oe)(i.rXU(i.gRc),i.rXU(i.OM3),i.rXU(Pn),i.rXU(St),i.rXU(q),i.rXU(Ds))},oe.\u0275dir=i.FsC({type:oe,features:[i.OA$]}),oe})(),Ti=(()=>{class oe{constructor(_e,Dt){this.elementRef=_e,this.renderer=Dt}ngAfterViewInit(){$(this.listId)&&this.renderer.setAttribute(this.elementRef.nativeElement,"list",this.listId)}}return oe.\u0275fac=function(_e){return new(_e||oe)(i.rXU(i.aKT),i.rXU(i.sFG))},oe.\u0275dir=i.FsC({type:oe,selectors:[["","dynamicList",""]],inputs:{listId:[i.Mj6.None,"dynamicList","listId"]}}),oe})();const Hi="off";let Xe=(()=>{class oe{static forRoot(){return{ngModule:oe,providers:[ns,Pn,St,q,Ds]}}}return oe.\u0275fac=function(_e){return new(_e||oe)},oe.\u0275mod=i.$C({type:oe}),oe.\u0275inj=i.G2t({imports:[w.MD,D.X1]}),oe})()},20766:(F,b,n)=>{"use strict";n.d(b,{C_:()=>A,hO:()=>q,hr:()=>f,jr:()=>U});var i=n(25499),t=n(54438),u=n(7901),e=n(53993);const h="@ngrx/router-store/request",f=((0,i.VP)(h,(0,i.xk)()),"@ngrx/router-store/navigation"),E=((0,i.VP)(f,(0,i.xk)()),"@ngrx/router-store/cancel"),C=((0,i.VP)(E,(0,i.xk)()),"@ngrx/router-store/error"),R=((0,i.VP)(C,(0,i.xk)()),"@ngrx/router-store/navigated");function A(Z,J){const Q=J;switch(Q.type){case f:case C:case E:return{state:Q.payload.routerState,navigationId:Q.payload.event.id};default:return Z}}(0,i.VP)(R,(0,i.xk)());class p{serialize(J){return{root:this.serializeRoute(J.root),url:J.url}}serializeRoute(J){const Q=J.children.map(ee=>this.serializeRoute(ee));return{params:J.params,data:J.data,url:J.url,outlet:J.outlet,title:J.title,routeConfig:J.routeConfig?{path:J.routeConfig.path,pathMatch:J.routeConfig.pathMatch,redirectTo:J.routeConfig.redirectTo,outlet:J.routeConfig.outlet,title:"string"==typeof J.routeConfig.title?J.routeConfig.title:void 0}:null,queryParams:J.queryParams,fragment:J.fragment,firstChild:Q[0],children:Q}}}var L=function(Z){return Z[Z.PreActivation=1]="PreActivation",Z[Z.PostActivation=2]="PostActivation",Z}(L||{});const D="router",w=new t.nKC("@ngrx/router-store Internal Configuration"),M=new t.nKC("@ngrx/router-store Configuration");function x(Z){return{stateKey:D,serializer:p,navigationActionTiming:L.PreActivation,...Z}}class j{serialize(J){return{root:this.serializeRoute(J.root),url:J.url}}serializeRoute(J){const Q=J.children.map(ee=>this.serializeRoute(ee));return{params:J.params,paramMap:J.paramMap,data:J.data,url:J.url,outlet:J.outlet,title:J.title,routeConfig:J.routeConfig?{component:J.routeConfig.component,path:J.routeConfig.path,pathMatch:J.routeConfig.pathMatch,redirectTo:J.routeConfig.redirectTo,outlet:J.routeConfig.outlet,title:J.routeConfig.title}:null,queryParams:J.queryParams,queryParamMap:J.queryParamMap,fragment:J.fragment,component:J.routeConfig?J.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:Q[0],pathFromRoot:void 0,children:Q}}}class U{}var $=function(Z){return Z[Z.NONE=1]="NONE",Z[Z.ROUTER=2]="ROUTER",Z[Z.STORE=3]="STORE",Z}($||{});let k=(()=>{class Z{constructor(Q,ee,le,ne,fe,se){this.store=Q,this.router=ee,this.serializer=le,this.errorHandler=ne,this.config=fe,this.activeRuntimeChecks=se,this.lastEvent=null,this.routerState=null,this.trigger=$.NONE,this.stateKey=this.config.stateKey,!(0,i.Lg)()&&(0,t.naY)()&&(se?.strictActionSerializability||se?.strictStateSerializability)&&this.serializer instanceof j&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,i.Lt)(this.stateKey),(0,e.E)(this.store)).subscribe(([Q,ee])=>{this.navigateIfNeeded(Q,ee)})}navigateIfNeeded(Q,ee){if(!Q||!Q.state||this.trigger===$.ROUTER||this.lastEvent instanceof u.Z)return;const le=Q.state.url;(function K(Z,J){return X(Z)===X(J)})(this.router.url,le)||(this.storeState=ee,this.trigger=$.STORE,this.router.navigateByUrl(le).catch(ne=>{this.errorHandler.handleError(ne)}))}setUpRouterEventsListener(){const Q=this.config.navigationActionTiming===L.PostActivation;let ee;this.router.events.pipe((0,e.E)(this.store)).subscribe(([le,ne])=>{this.lastEvent=le,le instanceof u.Z?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==$.STORE&&(this.storeState=ne,this.dispatchRouterRequest(le))):le instanceof u.ld?(ee=le,!Q&&this.trigger!==$.STORE&&this.dispatchRouterNavigation(le)):le instanceof u.j5?(this.dispatchRouterCancel(le),this.reset()):le instanceof u.L6?(this.dispatchRouterError(le),this.reset()):le instanceof u.wF&&(this.trigger!==$.STORE&&(Q&&this.dispatchRouterNavigation(ee),this.dispatchRouterNavigated(le)),this.reset())})}dispatchRouterRequest(Q){this.dispatchRouterAction(h,{event:Q})}dispatchRouterNavigation(Q){const ee=this.serializer.serialize(Q.state);this.dispatchRouterAction(f,{routerState:ee,event:new u.ld(Q.id,Q.url,Q.urlAfterRedirects,ee)})}dispatchRouterCancel(Q){this.dispatchRouterAction(E,{storeState:this.storeState,event:Q})}dispatchRouterError(Q){this.dispatchRouterAction(C,{storeState:this.storeState,event:new u.L6(Q.id,Q.url,`${Q}`)})}dispatchRouterNavigated(Q){const ee=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(R,{event:Q,routerState:ee})}dispatchRouterAction(Q,ee){this.trigger=$.ROUTER;try{this.store.dispatch({type:Q,payload:{routerState:this.routerState,...ee,event:0===this.config.routerState?ee.event:{id:ee.event.id,url:ee.event.url,urlAfterRedirects:ee.event.urlAfterRedirects}}})}finally{this.trigger=$.NONE}}reset(){this.trigger=$.NONE,this.storeState=null,this.routerState=null}static{this.\u0275fac=function(ee){return new(ee||Z)(t.KVO(i.il),t.KVO(u.Ix),t.KVO(U),t.KVO(t.zcH),t.KVO(M),t.KVO(i.A5))}}static{this.\u0275prov=t.jDH({token:Z,factory:Z.\u0275fac})}}return Z})();function X(Z){return Z?.length>0&&"/"===Z[Z.length-1]?Z.substring(0,Z.length-1):Z}function G(Z={}){return(0,t.EmA)([{provide:w,useValue:Z},{provide:M,useFactory:x,deps:[w]},{provide:U,useClass:Z.serializer?Z.serializer:0===Z.routerState?j:p},{provide:t.Z63,multi:!0,useFactory:()=>()=>(0,t.WQX)(k)},k])}let q=(()=>{class Z{static forRoot(Q={}){return{ngModule:Z,providers:[G(Q)]}}static{this.\u0275fac=function(ee){return new(ee||Z)}}static{this.\u0275mod=t.$C({type:Z})}static{this.\u0275inj=t.G2t({})}}return Z})()},25499:(F,b,n)=>{"use strict";n.d(b,{A5:()=>pt,sA:()=>yt,il:()=>zt,ae:()=>Qs,md:()=>Yi,wc:()=>As,iK:()=>tt,VP:()=>M,UX:()=>hn,Mz:()=>wn,Lg:()=>It,xk:()=>x,Lt:()=>wt});var i=n(54438),t=n(84412),u=n(71985),e=n(21413),h=n(47242),m=n(40941),f=n(53993),v=n(31943),E=n(96354),C=n(23294);function L($t,Tn){const on=!Tn?.manualCleanup;on&&!Tn?.injector&&(0,i.Af3)(L);const Qt=on?Tn?.injector?.get(i.abz)??(0,i.WQX)(i.abz):null;let Fn;Fn=(0,i.vPA)(Tn?.requireSync?{kind:0}:{kind:1,value:Tn?.initialValue});const qn=$t.subscribe({next:bs=>Fn.set({kind:1,value:bs}),error:bs=>{if(Tn?.rejectErrors)throw bs;Fn.set({kind:2,error:bs})}});return Qt?.onDestroy(qn.unsubscribe.bind(qn)),(0,i.EWP)(()=>{const bs=Fn();switch(bs.kind){case 1:return bs.value;case 2:throw bs.error;case 0:throw new i.wOt(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}const D={};function M($t,Tn){if(D[$t]=(D[$t]||0)+1,"function"==typeof Tn)return U($t,(...Qt)=>({...Tn(...Qt),type:$t}));switch(Tn?Tn._as:"empty"){case"empty":return U($t,()=>({type:$t}));case"props":return U($t,Qt=>({...Qt,type:$t}));default:throw new Error("Unexpected config.")}}function x(){return{_as:"props",_p:void 0}}function U($t,Tn){return Object.defineProperty(Tn,"type",{value:$t,writable:!1})}const z="@ngrx/store/init";let te=(()=>{class $t extends t.t{constructor(){super({type:z})}next(on){if("function"==typeof on)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof on>"u")throw new TypeError("Actions must be objects");if(typeof on.type>"u")throw new TypeError("Actions must have a type property");super.next(on)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(Qt){return new(Qt||$t)}}static{this.\u0275prov=i.jDH({token:$t,factory:$t.\u0275fac})}}return $t})();const Z=[te],J=new i.nKC("@ngrx/store Internal Root Guard"),Q=new i.nKC("@ngrx/store Internal Initial State"),ee=new i.nKC("@ngrx/store Initial State"),le=new i.nKC("@ngrx/store Reducer Factory"),ne=new i.nKC("@ngrx/store Internal Reducer Factory Provider"),fe=new i.nKC("@ngrx/store Initial Reducers"),se=new i.nKC("@ngrx/store Internal Initial Reducers"),ce=new i.nKC("@ngrx/store Store Features"),Te=new i.nKC("@ngrx/store Internal Store Reducers"),be=new i.nKC("@ngrx/store Internal Feature Reducers"),me=new i.nKC("@ngrx/store Internal Feature Configs"),re=new i.nKC("@ngrx/store Internal Store Features"),Ee=new i.nKC("@ngrx/store Internal Feature Reducers Token"),De=new i.nKC("@ngrx/store Feature Reducers"),tt=new i.nKC("@ngrx/store User Provided Meta Reducers"),ht=new i.nKC("@ngrx/store Meta Reducers"),Fe=new i.nKC("@ngrx/store Internal Resolved Meta Reducers"),Et=new i.nKC("@ngrx/store User Runtime Checks Config"),Ye=new i.nKC("@ngrx/store Internal User Runtime Checks Config"),pt=new i.nKC("@ngrx/store Internal Runtime Checks"),Mt=new i.nKC("@ngrx/store Check if Action types are unique");function Gt($t,Tn={}){const on=Object.keys($t),Qt={};for(let qn=0;qn<on.length;qn++){const bs=on[qn];"function"==typeof $t[bs]&&(Qt[bs]=$t[bs])}const Fn=Object.keys(Qt);return function(bs,vi){bs=void 0===bs?Tn:bs;let Ei=!1;const vo={};for(let pi=0;pi<Fn.length;pi++){const ho=Fn[pi],ur=bs[ho],Xo=(0,Qt[ho])(ur,vi);vo[ho]=Xo,Ei=Ei||Xo!==ur}return Ei?vo:bs}}function mt(...$t){return function(Tn){if(0===$t.length)return Tn;const on=$t[$t.length-1];return $t.slice(0,-1).reduceRight((Fn,qn)=>qn(Fn),on(Tn))}}function Pt($t,Tn){return Array.isArray(Tn)&&Tn.length>0&&($t=mt.apply(null,[...Tn,$t])),(on,Qt)=>{const Fn=$t(on);return(qn,bs)=>Fn(qn=void 0===qn?Qt:qn,bs)}}new i.nKC("@ngrx/store Root Store Provider"),new i.nKC("@ngrx/store Feature State Provider");class Be extends u.c{}class ut extends te{}let rn=(()=>{class $t extends t.t{get currentReducers(){return this.reducers}constructor(on,Qt,Fn,qn){super(qn(Fn,Qt)),this.dispatcher=on,this.initialState=Qt,this.reducers=Fn,this.reducerFactory=qn}addFeature(on){this.addFeatures([on])}addFeatures(on){const Qt=on.reduce((Fn,{reducers:qn,reducerFactory:bs,metaReducers:vi,initialState:Ei,key:vo})=>{const pi="function"==typeof qn?function Ce($t){const Tn=Array.isArray($t)&&$t.length>0?mt(...$t):on=>on;return(on,Qt)=>(on=Tn(on),(Fn,qn)=>on(Fn=void 0===Fn?Qt:Fn,qn))}(vi)(qn,Ei):Pt(bs,vi)(qn,Ei);return Fn[vo]=pi,Fn},{});this.addReducers(Qt)}removeFeature(on){this.removeFeatures([on])}removeFeatures(on){this.removeReducers(on.map(Qt=>Qt.key))}addReducer(on,Qt){this.addReducers({[on]:Qt})}addReducers(on){this.reducers={...this.reducers,...on},this.updateReducers(Object.keys(on))}removeReducer(on){this.removeReducers([on])}removeReducers(on){on.forEach(Qt=>{this.reducers=function Zt($t,Tn){return Object.keys($t).filter(on=>on!==Tn).reduce((on,Qt)=>Object.assign(on,{[Qt]:$t[Qt]}),{})}(this.reducers,Qt)}),this.updateReducers(on)}updateReducers(on){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:on})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(Qt){return new(Qt||$t)(i.KVO(ut),i.KVO(ee),i.KVO(fe),i.KVO(le))}}static{this.\u0275prov=i.jDH({token:$t,factory:$t.\u0275fac})}}return $t})();const Pn=[rn,{provide:Be,useExisting:rn},{provide:ut,useExisting:te}];let yt=(()=>{class $t extends e.B{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let on;return function(Fn){return(on||(on=i.xGo($t)))(Fn||$t)}})()}static{this.\u0275prov=i.jDH({token:$t,factory:$t.\u0275fac})}}return $t})();const Kt=[yt];class Rt extends u.c{}let nn=(()=>{class $t extends t.t{static{this.INIT=z}constructor(on,Qt,Fn,qn){super(qn);const vo=on.pipe((0,m.Q)(h.T)).pipe((0,f.E)(Qt)).pipe((0,v.S)(gn,{state:qn}));this.stateSubscription=vo.subscribe(({state:pi,action:ho})=>{this.next(pi),Fn.next(ho)}),this.state=L(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(Qt){return new(Qt||$t)(i.KVO(te),i.KVO(Be),i.KVO(yt),i.KVO(ee))}}static{this.\u0275prov=i.jDH({token:$t,factory:$t.\u0275fac})}}return $t})();function gn($t={state:void 0},[Tn,on]){const{state:Qt}=$t;return{state:on(Qt,Tn),action:Tn}}const St=[nn,{provide:Rt,useExisting:nn}];let zt=(()=>{class $t extends u.c{constructor(on,Qt,Fn){super(),this.actionsObserver=Qt,this.reducerManager=Fn,this.source=on,this.state=on.state}select(on,...Qt){return wt.call(null,on,...Qt)(this)}selectSignal(on,Qt){return(0,i.EWP)(()=>on(this.state()),Qt)}lift(on){const Qt=new $t(this,this.actionsObserver,this.reducerManager);return Qt.operator=on,Qt}dispatch(on){this.actionsObserver.next(on)}next(on){this.actionsObserver.next(on)}error(on){this.actionsObserver.error(on)}complete(){this.actionsObserver.complete()}addReducer(on,Qt){this.reducerManager.addReducer(on,Qt)}removeReducer(on){this.reducerManager.removeReducer(on)}static{this.\u0275fac=function(Qt){return new(Qt||$t)(i.KVO(Rt),i.KVO(te),i.KVO(rn))}}static{this.\u0275prov=i.jDH({token:$t,factory:$t.\u0275fac})}}return $t})();const Yt=[zt];function wt($t,Tn,...on){return function(Fn){let qn;if("string"==typeof $t){const bs=[Tn,...on].filter(Boolean);qn=Fn.pipe(function _(...$t){const Tn=$t.length;if(0===Tn)throw new Error("list of properties cannot be empty.");return(0,E.T)(on=>{let Qt=on;for(let Fn=0;Fn<Tn;Fn++){const qn=Qt?.[$t[Fn]];if(!(typeof qn<"u"))return;Qt=qn}return Qt})}($t,...bs))}else{if("function"!=typeof $t)throw new TypeError(`Unexpected type '${typeof $t}' in select operator, expected 'string' or 'function'`);qn=Fn.pipe((0,E.T)(bs=>$t(bs,Tn)))}return qn.pipe((0,C.F)())}}const bt="https://ngrx.io/guide/store/configuration/runtime-checks";function Jt($t){return void 0===$t}function Tt($t){return null===$t}function Ft($t){return Array.isArray($t)}function Ke($t){return"object"==typeof $t&&null!==$t}function Qe($t){return"function"==typeof $t}let Le=!1;function It(){return Le}function an($t,Tn){return $t===Tn}function Zn($t,Tn=an,on=an){let qn,Qt=null,Fn=null;return{memoized:function vo(){if(void 0!==qn)return qn.result;if(!Qt)return Fn=$t.apply(null,arguments),Qt=arguments,Fn;if(!function Dn($t,Tn,on){for(let Qt=0;Qt<$t.length;Qt++)if(!on($t[Qt],Tn[Qt]))return!0;return!1}(arguments,Qt,Tn))return Fn;const pi=$t.apply(null,arguments);return Qt=arguments,on(Fn,pi)?Fn:(Fn=pi,pi)},reset:function bs(){Qt=null,Fn=null},setResult:function vi(pi=void 0){qn={result:pi}},clearResult:function Ei(){qn=void 0}}}function wn(...$t){return function vt($t,Tn={stateFn:ct}){return function(...on){let Qt=on;if(Array.isArray(Qt[0])){const[pi,...ho]=Qt;Qt=[...pi,...ho]}else 1===Qt.length&&function Nn($t){return!!$t&&"object"==typeof $t&&Object.values($t).every(Tn=>"function"==typeof Tn)}(Qt[0])&&(Qt=function Jn($t){const Tn=Object.values($t),on=Object.keys($t);return[...Tn,(...Fn)=>on.reduce((qn,bs,vi)=>({...qn,[bs]:Fn[vi]}),{})]}(Qt[0]));const Fn=Qt.slice(0,Qt.length-1),qn=Qt[Qt.length-1],bs=Fn.filter(pi=>pi.release&&"function"==typeof pi.release),vi=$t(function(...pi){return qn.apply(null,pi)}),Ei=Zn(function(pi,ho){return Tn.stateFn.apply(null,[pi,Fn,ho,vi])});return Object.assign(Ei.memoized,{release:function vo(){Ei.reset(),vi.reset(),bs.forEach(pi=>pi.release())},projector:vi.memoized,setResult:Ei.setResult,clearResult:Ei.clearResult})}}(Zn)(...$t)}function ct($t,Tn,on,Qt){if(void 0===on){const qn=Tn.map(bs=>bs($t));return Qt.memoized.apply(null,qn)}const Fn=Tn.map(qn=>qn($t,on));return Qt.memoized.apply(null,[...Fn,on])}function hn($t){return wn(Tn=>{const on=Tn[$t];return!It()&&(0,i.naY)()&&!($t in Tn)&&console.warn(`@ngrx/store: The feature name "${$t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${$t}', ...) or StoreModule.forFeature('${$t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),on},Tn=>Tn)}function cs($t){return $t instanceof i.nKC?(0,i.WQX)($t):$t}function cn($t,Tn){return Tn.map((on,Qt)=>{if($t[Qt]instanceof i.nKC){const Fn=(0,i.WQX)($t[Qt]);return{key:on.key,reducerFactory:Fn.reducerFactory?Fn.reducerFactory:Gt,metaReducers:Fn.metaReducers?Fn.metaReducers:[],initialState:Fn.initialState}}return on})}function yn($t){return $t.map(Tn=>Tn instanceof i.nKC?(0,i.WQX)(Tn):Tn)}function ns($t){return"function"==typeof $t?$t():$t}function Ls($t,Tn){return $t.concat(Tn)}function ci(){if((0,i.WQX)(zt,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Ht($t){Object.freeze($t);const Tn=Qe($t);return Object.getOwnPropertyNames($t).forEach(on=>{if(!on.startsWith("\u0275")&&function ke($t,Tn){return Object.prototype.hasOwnProperty.call($t,Tn)}($t,on)&&(!Tn||"caller"!==on&&"callee"!==on&&"arguments"!==on)){const Qt=$t[on];(Ke(Qt)||Qe(Qt))&&!Object.isFrozen(Qt)&&Ht(Qt)}}),$t}function sn($t,Tn=[]){return(Jt($t)||Tt($t))&&0===Tn.length?{path:["root"],value:$t}:Object.keys($t).reduce((Qt,Fn)=>{if(Qt)return Qt;const qn=$t[Fn];return function st($t){return Qe($t)&&$t.hasOwnProperty("\u0275cmp")}(qn)?Qt:!(Jt(qn)||Tt(qn)||function Ve($t){return"number"==typeof $t}(qn)||function xe($t){return"boolean"==typeof $t}(qn)||function it($t){return"string"==typeof $t}(qn)||Ft(qn))&&(function At($t){if(!function je($t){return Ke($t)&&!Ft($t)}($t))return!1;const Tn=Object.getPrototypeOf($t);return Tn===Object.prototype||null===Tn}(qn)?sn(qn,[...Tn,Fn]):{path:[...Tn,Fn],value:qn})},!1)}function lt($t,Tn){if(!1===$t)return;const on=$t.path.join("."),Qt=new Error(`Detected unserializable ${Tn} at "${on}". ${bt}#strict${Tn}serializability`);throw Qt.value=$t.value,Qt.unserializablePath=on,Qt}function Ct($t){return(0,i.naY)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...$t}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Wt({strictActionSerializability:$t,strictStateSerializability:Tn}){return on=>$t||Tn?function We($t,Tn){return function(on,Qt){Tn.action(Qt)&&lt(sn(Qt),"action");const Fn=$t(on,Qt);return Tn.state()&&lt(sn(Fn),"state"),Fn}}(on,{action:Qt=>$t&&!Rn(Qt),state:()=>Tn}):on}function pn({strictActionImmutability:$t,strictStateImmutability:Tn}){return on=>$t||Tn?function _t($t,Tn){return function(on,Qt){const Fn=Tn.action(Qt)?Ht(Qt):Qt,qn=$t(on,Fn);return Tn.state()?Ht(qn):qn}}(on,{action:Qt=>$t&&!Rn(Qt),state:()=>Tn}):on}function Rn($t){return $t.type.startsWith("@ngrx")}function Yn({strictActionWithinNgZone:$t}){return Tn=>$t?function gt($t,Tn){return function(on,Qt){if(Tn.action(Qt)&&!i.SKi.isInAngularZone())throw new Error(`Action '${Qt.type}' running outside NgZone. ${bt}#strictactionwithinngzone`);return $t(on,Qt)}}(Tn,{action:on=>$t&&!Rn(on)}):Tn}function $n($t){return[{provide:Ye,useValue:$t},{provide:Et,useFactory:Rs,deps:[Ye]},{provide:pt,deps:[Et],useFactory:Ct},{provide:ht,multi:!0,deps:[pt],useFactory:pn},{provide:ht,multi:!0,deps:[pt],useFactory:Wt},{provide:ht,multi:!0,deps:[pt],useFactory:Yn}]}function _s(){return[{provide:Mt,multi:!0,deps:[pt],useFactory:Ds}]}function Rs($t){return $t}function Ds($t){if(!$t.strictActionTypeUniqueness)return;const Tn=Object.entries(D).filter(([,on])=>on>1).map(([on])=>on);if(Tn.length)throw new Error(`Action types are registered more than once, ${Tn.map(on=>`"${on}"`).join(", ")}. ${bt}#strictactiontypeuniqueness`)}function Cs($t={},Tn={}){return[{provide:J,useFactory:ci},{provide:Q,useValue:Tn.initialState},{provide:ee,useFactory:ns,deps:[Q]},{provide:se,useValue:$t},{provide:Te,useExisting:$t instanceof i.nKC?$t:se},{provide:fe,deps:[se,[new i.y_5(Te)]],useFactory:cs},{provide:tt,useValue:Tn.metaReducers?Tn.metaReducers:[]},{provide:Fe,deps:[ht,tt],useFactory:Ls},{provide:ne,useValue:Tn.reducerFactory?Tn.reducerFactory:Gt},{provide:le,deps:[ne,Fe],useFactory:Pt},Z,Pn,Kt,St,Yt,$n(Tn.runtimeChecks),_s()]}function to($t,Tn,on={}){return[{provide:me,multi:!0,useValue:$t instanceof Object?{}:on},{provide:ce,multi:!0,useValue:{key:$t instanceof Object?$t.name:$t,reducerFactory:on instanceof i.nKC||!on.reducerFactory?Gt:on.reducerFactory,metaReducers:on instanceof i.nKC||!on.metaReducers?[]:on.metaReducers,initialState:on instanceof i.nKC||!on.initialState?void 0:on.initialState}},{provide:re,deps:[me,ce],useFactory:cn},{provide:be,multi:!0,useValue:$t instanceof Object?$t.reducer:Tn},{provide:Ee,multi:!0,useExisting:Tn instanceof i.nKC?Tn:be},{provide:De,multi:!0,deps:[be,[new i.y_5(Ee)]],useFactory:yn},_s()]}let As=(()=>{class $t{constructor(on,Qt,Fn,qn,bs,vi){}static{this.\u0275fac=function(Qt){return new(Qt||$t)(i.KVO(te),i.KVO(Be),i.KVO(yt),i.KVO(zt),i.KVO(J,8),i.KVO(Mt,8))}}static{this.\u0275mod=i.$C({type:$t})}static{this.\u0275inj=i.G2t({})}}return $t})(),Qs=(()=>{class $t{constructor(on,Qt,Fn,qn,bs){this.features=on,this.featureReducers=Qt,this.reducerManager=Fn;const vi=on.map((Ei,vo)=>{const ho=Qt.shift()[vo];return{...Ei,reducers:ho,initialState:ns(Ei.initialState)}});Fn.addFeatures(vi)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function(Qt){return new(Qt||$t)(i.KVO(re),i.KVO(De),i.KVO(rn),i.KVO(As),i.KVO(Mt,8))}}static{this.\u0275mod=i.$C({type:$t})}static{this.\u0275inj=i.G2t({})}}return $t})(),Yi=(()=>{class $t{static forRoot(on,Qt){return{ngModule:As,providers:[...Cs(on,Qt)]}}static forFeature(on,Qt,Fn={}){return{ngModule:Qs,providers:[...to(on,Qt,Fn)]}}static{this.\u0275fac=function(Qt){return new(Qt||$t)}}static{this.\u0275mod=i.$C({type:$t})}static{this.\u0275inj=i.G2t({})}}return $t})()},41780:(F,b,n)=>{"use strict";n.d(b,{D9:()=>te,Wr:()=>S,c$:()=>q,er:()=>T,h:()=>Z});var i=n(54438),t=n(7673),u=n(74402),e=n(27468),h=n(92688),m=n(59030),f=n(96697),v=n(44668),E=n(96354),_=n(70274),C=n(25558);class S{}let R=(()=>{class J extends S{getTranslation(ee){return(0,t.of)({})}}return J.\u0275fac=(()=>{let Q;return function(le){return(Q||(Q=i.xGo(J)))(le||J)}})(),J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})();class T{}let A=(()=>{class J{handle(ee){return ee.key}}return J.\u0275fac=function(ee){return new(ee||J)},J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})();function p(J,Q){if(J===Q)return!0;if(null===J||null===Q)return!1;if(J!=J&&Q!=Q)return!0;let ne,fe,se,ee=typeof J;if(ee==typeof Q&&"object"==ee){if(!Array.isArray(J)){if(Array.isArray(Q))return!1;for(fe in se=Object.create(null),J){if(!p(J[fe],Q[fe]))return!1;se[fe]=!0}for(fe in Q)if(!(fe in se)&&typeof Q[fe]<"u")return!1;return!0}if(!Array.isArray(Q))return!1;if((ne=J.length)==Q.length){for(fe=0;fe<ne;fe++)if(!p(J[fe],Q[fe]))return!1;return!0}}return!1}function L(J){return typeof J<"u"&&null!==J}function D(J){return J&&"object"==typeof J&&!Array.isArray(J)}function w(J,Q){let ee=Object.assign({},J);return D(J)&&D(Q)&&Object.keys(Q).forEach(le=>{D(Q[le])?le in J?ee[le]=w(J[le],Q[le]):Object.assign(ee,{[le]:Q[le]}):Object.assign(ee,{[le]:Q[le]})}),ee}class M{}let x=(()=>{class J extends M{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(ee,le){let ne;return ne="string"==typeof ee?this.interpolateString(ee,le):"function"==typeof ee?this.interpolateFunction(ee,le):ee,ne}getValue(ee,le){let ne="string"==typeof le?le.split("."):[le];le="";do{le+=ne.shift(),!L(ee)||!L(ee[le])||"object"!=typeof ee[le]&&ne.length?ne.length?le+=".":ee=void 0:(ee=ee[le],le="")}while(ne.length);return ee}interpolateFunction(ee,le){return ee(le)}interpolateString(ee,le){return le?ee.replace(this.templateMatcher,(ne,fe)=>{let se=this.getValue(le,fe);return L(se)?se:ne}):ee}}return J.\u0275fac=(()=>{let Q;return function(le){return(Q||(Q=i.xGo(J)))(le||J)}})(),J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})();class j{}let U=(()=>{class J extends j{compile(ee,le){return ee}compileTranslations(ee,le){return ee}}return J.\u0275fac=(()=>{let Q;return function(le){return(Q||(Q=i.xGo(J)))(le||J)}})(),J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})();class ${constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.bkB,this.onLangChange=new i.bkB,this.onDefaultLangChange=new i.bkB}}const k=new i.nKC("USE_STORE"),K=new i.nKC("USE_DEFAULT_LANG"),X=new i.nKC("DEFAULT_LANGUAGE"),G=new i.nKC("USE_EXTEND");let q=(()=>{class J{constructor(ee,le,ne,fe,se,ce=!0,Te=!1,be=!1,me){this.store=ee,this.currentLoader=le,this.compiler=ne,this.parser=fe,this.missingTranslationHandler=se,this.useDefaultLang=ce,this.isolate=Te,this.extend=be,this.pending=!1,this._onTranslationChange=new i.bkB,this._onLangChange=new i.bkB,this._onDefaultLangChange=new i.bkB,this._langs=[],this._translations={},this._translationRequests={},me&&this.setDefaultLang(me)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(ee){this.isolate?this._defaultLang=ee:this.store.defaultLang=ee}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(ee){this.isolate?this._currentLang=ee:this.store.currentLang=ee}get langs(){return this.isolate?this._langs:this.store.langs}set langs(ee){this.isolate?this._langs=ee:this.store.langs=ee}get translations(){return this.isolate?this._translations:this.store.translations}set translations(ee){this.isolate?this._translations=ee:this.store.translations=ee}setDefaultLang(ee){if(ee===this.defaultLang)return;let le=this.retrieveTranslations(ee);typeof le<"u"?(null==this.defaultLang&&(this.defaultLang=ee),le.pipe((0,f.s)(1)).subscribe(ne=>{this.changeDefaultLang(ee)})):this.changeDefaultLang(ee)}getDefaultLang(){return this.defaultLang}use(ee){if(ee===this.currentLang)return(0,t.of)(this.translations[ee]);let le=this.retrieveTranslations(ee);return typeof le<"u"?(this.currentLang||(this.currentLang=ee),le.pipe((0,f.s)(1)).subscribe(ne=>{this.changeLang(ee)}),le):(this.changeLang(ee),(0,t.of)(this.translations[ee]))}retrieveTranslations(ee){let le;return(typeof this.translations[ee]>"u"||this.extend)&&(this._translationRequests[ee]=this._translationRequests[ee]||this.getTranslation(ee),le=this._translationRequests[ee]),le}getTranslation(ee){this.pending=!0;const le=this.currentLoader.getTranslation(ee).pipe((0,v.t)(1),(0,f.s)(1));return this.loadingTranslations=le.pipe((0,E.T)(ne=>this.compiler.compileTranslations(ne,ee)),(0,v.t)(1),(0,f.s)(1)),this.loadingTranslations.subscribe({next:ne=>{this.translations[ee]=this.extend&&this.translations[ee]?{...ne,...this.translations[ee]}:ne,this.updateLangs(),this.pending=!1},error:ne=>{this.pending=!1}}),le}setTranslation(ee,le,ne=!1){le=this.compiler.compileTranslations(le,ee),this.translations[ee]=(ne||this.extend)&&this.translations[ee]?w(this.translations[ee],le):le,this.updateLangs(),this.onTranslationChange.emit({lang:ee,translations:this.translations[ee]})}getLangs(){return this.langs}addLangs(ee){ee.forEach(le=>{-1===this.langs.indexOf(le)&&this.langs.push(le)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(ee,le,ne){let fe;if(le instanceof Array){let se={},ce=!1;for(let Te of le)se[Te]=this.getParsedResult(ee,Te,ne),(0,u.A)(se[Te])&&(ce=!0);if(ce){const Te=le.map(be=>(0,u.A)(se[be])?se[be]:(0,t.of)(se[be]));return(0,e.p)(Te).pipe((0,E.T)(be=>{let me={};return be.forEach((re,Ee)=>{me[le[Ee]]=re}),me}))}return se}if(ee&&(fe=this.parser.interpolate(this.parser.getValue(ee,le),ne)),typeof fe>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(fe=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],le),ne)),typeof fe>"u"){let se={key:le,translateService:this};typeof ne<"u"&&(se.interpolateParams=ne),fe=this.missingTranslationHandler.handle(se)}return typeof fe<"u"?fe:le}get(ee,le){if(!L(ee)||!ee.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,_.H)(ne=>(ne=this.getParsedResult(ne,ee,le),(0,u.A)(ne)?ne:(0,t.of)(ne))));{let ne=this.getParsedResult(this.translations[this.currentLang],ee,le);return(0,u.A)(ne)?ne:(0,t.of)(ne)}}getStreamOnTranslationChange(ee,le){if(!L(ee)||!ee.length)throw new Error('Parameter "key" required');return(0,h.x)((0,m.v)(()=>this.get(ee,le)),this.onTranslationChange.pipe((0,C.n)(ne=>{const fe=this.getParsedResult(ne.translations,ee,le);return"function"==typeof fe.subscribe?fe:(0,t.of)(fe)})))}stream(ee,le){if(!L(ee)||!ee.length)throw new Error('Parameter "key" required');return(0,h.x)((0,m.v)(()=>this.get(ee,le)),this.onLangChange.pipe((0,C.n)(ne=>{const fe=this.getParsedResult(ne.translations,ee,le);return(0,u.A)(fe)?fe:(0,t.of)(fe)})))}instant(ee,le){if(!L(ee)||!ee.length)throw new Error('Parameter "key" required');let ne=this.getParsedResult(this.translations[this.currentLang],ee,le);if((0,u.A)(ne)){if(ee instanceof Array){let fe={};return ee.forEach((se,ce)=>{fe[ee[ce]]=ee[ce]}),fe}return ee}return ne}set(ee,le,ne=this.currentLang){this.translations[ne][ee]=this.compiler.compile(le,ne),this.updateLangs(),this.onTranslationChange.emit({lang:ne,translations:this.translations[ne]})}changeLang(ee){this.currentLang=ee,this.onLangChange.emit({lang:ee,translations:this.translations[ee]}),null==this.defaultLang&&this.changeDefaultLang(ee)}changeDefaultLang(ee){this.defaultLang=ee,this.onDefaultLangChange.emit({lang:ee,translations:this.translations[ee]})}reloadLang(ee){return this.resetLang(ee),this.getTranslation(ee)}resetLang(ee){this._translationRequests[ee]=void 0,this.translations[ee]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let ee=window.navigator.languages?window.navigator.languages[0]:null;return ee=ee||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof ee>"u"?void 0:(-1!==ee.indexOf("-")&&(ee=ee.split("-")[0]),-1!==ee.indexOf("_")&&(ee=ee.split("_")[0]),ee)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let ee=window.navigator.languages?window.navigator.languages[0]:null;return ee=ee||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,ee}}return J.\u0275fac=function(ee){return new(ee||J)(i.KVO($),i.KVO(S),i.KVO(j),i.KVO(M),i.KVO(T),i.KVO(K),i.KVO(k),i.KVO(G),i.KVO(X))},J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})(),te=(()=>{class J{constructor(ee,le){this.translate=ee,this._ref=le,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(ee,le,ne){let fe=se=>{this.value=void 0!==se?se:ee,this.lastKey=ee,this._ref.markForCheck()};if(ne){let se=this.translate.getParsedResult(ne,ee,le);(0,u.A)(se.subscribe)?se.subscribe(fe):fe(se)}this.translate.get(ee,le).subscribe(fe)}transform(ee,...le){if(!ee||!ee.length)return ee;if(p(ee,this.lastKey)&&p(le,this.lastParams))return this.value;let ne;if(L(le[0])&&le.length)if("string"==typeof le[0]&&le[0].length){let fe=le[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{ne=JSON.parse(fe)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${le[0]}`)}}else"object"==typeof le[0]&&!Array.isArray(le[0])&&(ne=le[0]);return this.lastKey=ee,this.lastParams=le,this.updateValue(ee,ne),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(fe=>{this.lastKey&&fe.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(ee,ne,fe.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(fe=>{this.lastKey&&(this.lastKey=null,this.updateValue(ee,ne,fe.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(ee,ne))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return J.\u0275fac=function(ee){return new(ee||J)(i.rXU(q,16),i.rXU(i.gRc,16))},J.\u0275pipe=i.EJ8({name:"translate",type:J,pure:!1}),J.\u0275prov=i.jDH({token:J,factory:J.\u0275fac}),J})(),Z=(()=>{class J{static forRoot(ee={}){return{ngModule:J,providers:[ee.loader||{provide:S,useClass:R},ee.compiler||{provide:j,useClass:U},ee.parser||{provide:M,useClass:x},ee.missingTranslationHandler||{provide:T,useClass:A},$,{provide:k,useValue:ee.isolate},{provide:K,useValue:ee.useDefaultLang},{provide:G,useValue:ee.extend},{provide:X,useValue:ee.defaultLanguage},q]}}static forChild(ee={}){return{ngModule:J,providers:[ee.loader||{provide:S,useClass:R},ee.compiler||{provide:j,useClass:U},ee.parser||{provide:M,useClass:x},ee.missingTranslationHandler||{provide:T,useClass:A},{provide:k,useValue:ee.isolate},{provide:K,useValue:ee.useDefaultLang},{provide:G,useValue:ee.extend},{provide:X,useValue:ee.defaultLanguage},q]}}}return J.\u0275fac=function(ee){return new(ee||J)},J.\u0275mod=i.$C({type:J}),J.\u0275inj=i.G2t({}),J})()},53588:(F,b,n)=>{"use strict";n.d(b,{WY:()=>A,xG:()=>L});var i=n(54438),t=n(60177),u=n(92771),e=n(18810);const h={target:null,action:"click",duration:650,easing:"easeInOutQuad",offset:0,offsetMap:new Map},m={easeInQuad:D=>D*D,easeOutQuad:D=>D*(2-D),easeInOutQuad:D=>D<.5?2*D*D:(4-2*D)*D-1,easeInCubic:D=>D*D*D,easeOutCubic:D=>--D*D*D+1,easeInOutCubic:D=>D<.5?4*D*D*D:(D-1)*(2*D-2)*(2*D-2)+1,easeInQuart:D=>D*D*D*D,easeOutQuart:D=>1- --D*D*D*D,easeInOutQuart:D=>D<.5?8*D*D*D*D:1-8*--D*D*D*D,easeInQuint:D=>D*D*D*D*D,easeOutQuint:D=>1+--D*D*D*D*D,easeInOutQuint:D=>D<.5?16*D*D*D*D*D:1+16*--D*D*D*D*D,easeOutElastic:D=>Math.pow(2,-10*D)*Math.sin((D-1/4)*(2*Math.PI)/1)+1};function _(D){return D===window}class T{constructor(w,M,x,j,U,$){this.container=w,this.listenerTarget=M,this.isWindow=x,this.to=j,this.options=U,this.isBrowser=$,this.loop=()=>{this.timeLapsed+=this.tick,this.percentage=this.timeLapsed/this.options.duration,this.percentage=this.percentage>1?1:this.percentage,this.position=this.startPosition+(this.startPosition-this.to<=0?1:-1)*this.distance*m[this.options.easing](this.percentage),null!==this.lastPosition&&this.position===this.lastPosition?this.stop():(this.source$.next(this.position),this.isWindow?this.listenerTarget.scrollTo(0,Math.floor(this.position)):this.container.scrollTop=Math.floor(this.position),this.lastPosition=this.position)},this.tick=16,this.interval=null,this.lastPosition=null,this.timeLapsed=0,this.windowScrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,this.startPosition=this.container?this.isWindow?this.windowScrollTop:this.container.scrollTop:this.windowScrollTop,this.container&&!this.isWindow&&(this.to=this.to-this.container.getBoundingClientRect().top+this.startPosition);const k=this.startPosition-this.to;this.distance=this.container?Math.abs(this.startPosition-this.to):this.to,this.mappedOffset=this.options.offset,this.isBrowser&&this.options.offsetMap.forEach((K,X)=>this.mappedOffset=window.innerWidth>X?K:this.mappedOffset),this.distance+=this.mappedOffset*(k<=0?1:-1),this.source$=new u.m}start(){return clearInterval(this.interval),this.interval=setInterval(this.loop,this.tick),this.source$.asObservable()}stop(){clearInterval(this.interval),this.interval=null,this.source$.complete()}}let A=(()=>{class D{constructor(M,x){this.document=M,this.platformId=x,this.interruptiveEvents=["mousewheel","DOMMouseScroll","touchstart"]}scrollTo(M){return(0,t.UE)(this.platformId)?this.start(M):(new u.m).asObservable()}start(M){const x={...h,...M};this.animation&&this.animation.stop();const j=this.getNode(x.target);if(x.target&&!j)return(0,e.$)(()=>new Error("Unable to find Target Element"));const U=this.getContainer(x,j);if(x.container&&!U)return(0,e.$)(()=>new Error("Unable to find Container Element"));const $=this.getListenerTarget(U)||window;let k=U?U.getBoundingClientRect().top:0;j&&(k=_($)?window.scrollY+j.getBoundingClientRect().top:j.getBoundingClientRect().top),this.animation=new T(U,$,_($),k,x,(0,t.UE)(this.platformId));const K=()=>this.animation.stop();this.addInterruptiveEventListeners($,K);const X=this.animation.start();return this.subscribeToAnimation(X,$,K),X}subscribeToAnimation(M,x,j){const U=M.subscribe({complete:()=>{this.removeInterruptiveEventListeners(this.interruptiveEvents,x,j),U.unsubscribe()}})}getContainer(M,x){let j=null;return M.container?j=this.getNode(M.container,!0):x&&(j=this.getFirstScrollableParent(x)),j}addInterruptiveEventListeners(M,x){M||(M=window),this.interruptiveEvents.forEach(j=>M.addEventListener(j,x,!!this.supportPassive()&&{passive:!0}))}supportPassive(){let M=!1;try{const x=Object.defineProperty({},"passive",{get:()=>{M=!0}});window.addEventListener("testPassive",null,x),window.removeEventListener("testPassive",null,x)}catch{}return M}removeInterruptiveEventListeners(M,x,j){x||(x=window),M.forEach(U=>x.removeEventListener(U,j))}getFirstScrollableParent(M){let x=window.getComputedStyle(M);const j=/(auto|scroll|overlay)/;if("fixed"===x.position)return null;let U=M;for(;U.parentElement;)if(U=U.parentElement,x=window.getComputedStyle(U),"absolute"!==x.position&&"hidden"!==x.overflow&&"hidden"!==x.overflowY&&(j.test(x.overflow+x.overflowY)||"BODY"===U.tagName))return U;return null}getNode(M,x=!1){let j;return function E(D){return"string"==typeof D||D instanceof String}(M)?j=!x||"body"!==M&&"BODY"!==M?this.document.getElementById(function v(D){return"#"===D.substring(0,1)?D.substring(1):D}(M)):this.document.body:function R(D){return!isNaN(parseFloat(D))&&isFinite(D)}(M)?j=this.document.getElementById(String(M)):function C(D){return D instanceof i.aKT}(M)?j=M.nativeElement:function S(D){return D instanceof HTMLElement}(M)&&(j=M),j}getListenerTarget(M){return M?this.isDocumentBody(M)?window:M:null}isDocumentBody(M){return"BODY"===M.tagName.toUpperCase()}}return D.\u0275fac=function(M){return new(M||D)(i.KVO(t.qQ),i.KVO(i.Agw))},D.\u0275prov=i.jDH({token:D,factory:D.\u0275fac}),D})(),L=(()=>{class D{static forRoot(){return{ngModule:D,providers:[A]}}}return D.\u0275fac=function(M){return new(M||D)},D.\u0275mod=i.$C({type:D}),D.\u0275inj=i.G2t({}),D})()},97324:(F,b,n)=>{"use strict";n.d(b,{RH:()=>K,Z1:()=>x,eB:()=>$,il:()=>v,ok:()=>R});var i=n(54438),t=n(84412),u=n(92771),e=n(5964);class h{constructor(){this.pageTracking={autoTrackVirtualPages:!0,basePath:"",excludedRoutes:[],clearIds:!1,clearHash:!1,clearQueryParams:!1,idsRegExp:/^\d+$|^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/},this.developerMode=!1,this.ga={},this.appInsights={},this.gtm={},this.gst={}}}const m=new i.nKC("ANGULARTICS2");class f{trackLocation(be){return new t.t({url:"/"})}prepareExternalUrl(be){return be}}let v=(()=>{class Te{constructor(me,re){this.tracker=me,this.pageTrack=new u.m(10),this.eventTrack=new u.m(10),this.exceptionTrack=new u.m(10),this.setAlias=new u.m(10),this.setUsername=new u.m(10),this.setUserProperties=new u.m(10),this.setUserPropertiesOnce=new u.m(10),this.setSuperProperties=new u.m(10),this.setSuperPropertiesOnce=new u.m(10),this.userTimings=new u.m(10);const Ee=new h;this.settings={...Ee,...re.settings},this.settings.pageTracking={...Ee.pageTracking,...re.settings.pageTracking},this.tracker.trackLocation(this.settings).subscribe(De=>this.trackUrlChange(De.url))}filterDeveloperMode(){return(0,e.p)((me,re)=>!this.settings.developerMode)}trackUrlChange(me){if(this.settings.pageTracking.autoTrackVirtualPages&&!this.matchesExcludedRoute(me)){const re=this.clearUrl(me);let Ee;Ee=this.settings.pageTracking.basePath.length?this.settings.pageTracking.basePath+re:this.tracker.prepareExternalUrl(re),this.pageTrack.next({path:Ee})}}matchesExcludedRoute(me){for(const re of this.settings.pageTracking.excludedRoutes)if(re instanceof RegExp&&re.test(me)||-1!==me.indexOf(re))return!0;return!1}clearUrl(me){return this.settings.pageTracking.clearIds||this.settings.pageTracking.clearQueryParams||this.settings.pageTracking.clearHash?me.split("/").map(re=>this.settings.pageTracking.clearQueryParams?re.split("?")[0]:re).map(re=>this.settings.pageTracking.clearHash?re.split("#")[0]:re).filter(re=>!this.settings.pageTracking.clearIds||!re.match(this.settings.pageTracking.idsRegExp)).join("/"):me}}return Te.\u0275fac=function(me){return new(me||Te)(i.KVO(f),i.KVO(m))},Te.\u0275prov=i.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})(),C=(()=>{class Te{}return Te.\u0275fac=function(me){return new(me||Te)},Te.\u0275mod=i.$C({type:Te}),Te.\u0275inj=i.G2t({}),Te})(),R=(()=>{class Te{static forRoot(me={}){return{ngModule:Te,providers:[{provide:m,useValue:{settings:me}},f,v]}}}return Te.\u0275fac=function(me){return new(me||Te)},Te.\u0275mod=i.$C({type:Te}),Te.\u0275inj=i.G2t({imports:[[C]]}),Te})();class M{constructor(){this.additionalAccountNames=[],this.userId=null,this.transport="",this.anonymizeIp=!1}}let x=(()=>{class Te{constructor(me){this.angulartics2=me,this.dimensionsAndMetrics=[];const re=new M;this.angulartics2.settings.ga={...re,...this.angulartics2.settings.ga},this.settings=this.angulartics2.settings.ga,this.angulartics2.setUsername.subscribe(Ee=>this.setUsername(Ee)),this.angulartics2.setUserProperties.subscribe(Ee=>this.setUserProperties(Ee))}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.pageTrack(me.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.eventTrack(me.action,me.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.exceptionTrack(me)),this.angulartics2.userTimings.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.userTimings(me))}pageTrack(me){if(typeof _gaq<"u"&&_gaq){_gaq.push(["_trackPageview",me]);for(const re of this.angulartics2.settings.ga.additionalAccountNames)_gaq.push([re+"._trackPageview",me])}if(typeof ga<"u"&&ga){if(this.angulartics2.settings.ga.userId){ga("set","&uid",this.angulartics2.settings.ga.userId);for(const re of this.angulartics2.settings.ga.additionalAccountNames)ga(re+".set","&uid",this.angulartics2.settings.ga.userId)}if(this.angulartics2.settings.ga.anonymizeIp){ga("set","anonymizeIp",!0);for(const re of this.angulartics2.settings.ga.additionalAccountNames)ga(re+".set","anonymizeIp",!0)}ga("send","pageview",me);for(const re of this.angulartics2.settings.ga.additionalAccountNames)ga(re+".send","pageview",me)}}eventTrack(me,re){if((!re||!re.category)&&((re=re||{}).category="Event"),re.value){const Ee=parseInt(re.value,10);re.value=isNaN(Ee)?0:Ee}if(typeof ga<"u"){const Ee={eventCategory:re.category,eventAction:me,eventLabel:re.label,eventValue:re.value,nonInteraction:re.noninteraction,page:re.page||location.hash.substring(1)||location.pathname,userId:this.angulartics2.settings.ga.userId,hitCallback:re.hitCallback,...this.angulartics2.settings.ga.transport&&{transport:this.angulartics2.settings.ga.transport}};this.setDimensionsAndMetrics(re),ga("send","event",Ee);for(const De of this.angulartics2.settings.ga.additionalAccountNames)ga(De+".send","event",Ee)}else typeof _gaq<"u"&&_gaq.push(["_trackEvent",re.category,me,re.label,re.value,re.noninteraction])}exceptionTrack(me){void 0===me.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),me.fatal=!0),me.exDescription=me.description;const re={exFatal:me.fatal,exDescription:me.description};ga("send","exception",re);for(const Ee of this.angulartics2.settings.ga.additionalAccountNames)ga(Ee+".send","exception",re)}userTimings(me){if(me&&me.timingCategory&&me.timingVar&&me.timingValue){if(typeof ga<"u"){ga("send","timing",me);for(const re of this.angulartics2.settings.ga.additionalAccountNames)ga(re+".send","timing",me)}}else console.error("Properties timingCategory, timingVar, and timingValue are required to be set.")}setUsername(me){this.angulartics2.settings.ga.userId=me,!(typeof ga>"u")&&ga("set","userId",me)}setUserProperties(me){this.setDimensionsAndMetrics(me)}setDimensionsAndMetrics(me){typeof ga>"u"||(this.dimensionsAndMetrics.forEach(re=>{me.hasOwnProperty(re)||(ga("set",re,void 0),this.angulartics2.settings.ga.additionalAccountNames.forEach(Ee=>{ga(`${Ee}.set`,re,void 0)}))}),this.dimensionsAndMetrics=[],Object.keys(me).forEach(re=>{(0===re.lastIndexOf("dimension",0)||0===re.lastIndexOf("metric",0))&&(ga("set",re,me[re]),this.angulartics2.settings.ga.additionalAccountNames.forEach(Ee=>{ga(`${Ee}.set`,re,me[re])}),this.dimensionsAndMetrics.push(re))}))}}return Te.\u0275fac=function(me){return new(me||Te)(i.KVO(v))},Te.\u0275prov=i.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})();class U{constructor(){this.userId=null}}let $=(()=>{class Te{constructor(me){this.angulartics2=me,typeof dataLayer<"u"&&dataLayer&&(dataLayer=window.dataLayer=window.dataLayer||[]);const re=new U;this.angulartics2.settings.gtm={...re,...this.angulartics2.settings.gtm},this.angulartics2.setUsername.subscribe(Ee=>this.setUsername(Ee))}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.pageTrack(me.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.eventTrack(me.action,me.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.exceptionTrack(me))}pageTrack(me){this.pushLayer({event:"Page View","content-name":me,userId:this.angulartics2.settings.gtm.userId})}pushLayer(me){typeof dataLayer<"u"&&dataLayer&&dataLayer.push(me)}eventTrack(me,re){this.pushLayer({event:(re=re||{}).event||"interaction",target:re.category||"Event",action:me,label:re.label,value:re.value,interactionType:re.noninteraction,userId:this.angulartics2.settings.gtm.userId,...re.gtmCustom})}exceptionTrack(me){me&&me.appId&&me.appName&&me.appVersion?(void 0===me.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),me.exFatal=!0),me.exDescription=me.event?me.event.stack:me.description,this.eventTrack(`Exception thrown for ${me.appName} <${me.appId}@${me.appVersion}>`,{category:"Exception",label:me.exDescription})):console.error("Must be setted appId, appName and appVersion.")}setUsername(me){this.angulartics2.settings.gtm.userId=me}}return Te.\u0275fac=function(me){return new(me||Te)(i.KVO(v))},Te.\u0275prov=i.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})();class k{constructor(){this.trackingIds=[],typeof ga<"u"&&ga&&ga(()=>{ga.getAll().forEach(be=>{const me=be.get("trackingId");void 0!==me&&-1===this.trackingIds.indexOf(me)&&this.trackingIds.push(me)})})}}let K=(()=>{class Te{constructor(me){this.angulartics2=me,this.dimensionsAndMetrics={};const re=new k;this.angulartics2.settings.gst={...re,...this.angulartics2.settings.gst}}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.pageTrack(me.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.eventTrack(me.action,me.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.exceptionTrack(me)),this.angulartics2.userTimings.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.userTimings(this.convertTimings(me))),this.angulartics2.setUsername.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.setUsername(me)),this.angulartics2.setUserProperties.pipe(this.angulartics2.filterDeveloperMode()).subscribe(me=>this.setUserProperties(me))}pageTrack(me){if(typeof gtag<"u"&&gtag){const re={page_path:me,page_location:window.location.protocol+"//"+window.location.host+me,...this.dimensionsAndMetrics};this.angulartics2.settings.gst.customMap&&(re.custom_map=this.angulartics2.settings.gst.customMap),this.angulartics2.settings.gst.userId&&(re.user_id=this.angulartics2.settings.gst.userId),this.angulartics2.settings.gst.anonymizeIp&&(re.anonymize_ip=this.angulartics2.settings.gst.anonymizeIp);for(const Ee of this.angulartics2.settings.gst.trackingIds)gtag("config",Ee,re)}}eventTrack(me,re={}){this.eventTrackInternal(me,{event_category:re.category||"interaction",event_label:re.label,value:re.value,non_interaction:re.noninteraction,...re.gstCustom})}exceptionTrack(me){void 0===me.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),me.fatal=!0),me.exDescription=me.event?me.event.stack:me.description,this.eventTrack("exception",{gstCustom:{description:me.exDescription,fatal:me.fatal,...me.gstCustom}})}userTimings(me){me?this.eventTrackInternal("timing_complete",{name:me.name,value:me.value,event_category:me.category,event_label:me.label}):console.error('User timings - "properties" parameter is required to be set.')}convertTimings(me){return{name:me.timingVar,value:me.timingValue,category:me.timingCategory,label:me.timingLabel}}setUsername(me){this.angulartics2.settings.gst.userId=me,typeof gtag<"u"&&gtag&&gtag("set",{user_id:"string"!=typeof me&&me?me.userId:me})}setUserProperties(me){this.setDimensionsAndMetrics(me)}setDimensionsAndMetrics(me){this.dimensionsAndMetrics={...this.dimensionsAndMetrics,...me},Object.keys(this.dimensionsAndMetrics).forEach(re=>{null==this.dimensionsAndMetrics[re]&&delete this.dimensionsAndMetrics[re]}),typeof gtag<"u"&&gtag&&gtag("set",this.dimensionsAndMetrics)}eventTrackInternal(me,re={}){this.cleanProperties(re),typeof gtag<"u"&&gtag&&gtag("event",me,re)}cleanProperties(me){if(me.value){const re=parseInt(me.value,10);me.value=isNaN(re)?0:re}}}return Te.\u0275fac=function(me){return new(me||Te)(i.KVO(v))},Te.\u0275prov=i.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},93583:(F,b,n)=>{"use strict";n.d(b,{X6:()=>j,UD:()=>ne,Go:()=>f});var i={};n.r(i),n.d(i,{JsonPatchError:()=>p,_areEquals:()=>K,applyOperation:()=>x,applyPatch:()=>j,applyReducer:()=>U,deepClone:()=>L,getValueByPointer:()=>M,validate:()=>k,validator:()=>$});var t={};n.r(t),n.d(t,{compare:()=>ne,generate:()=>ee,observe:()=>Q,unobserve:()=>J});var u=function(){var se=function(ce,Te){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(be,me){be.__proto__=me}||function(be,me){for(var re in me)me.hasOwnProperty(re)&&(be[re]=me[re])})(ce,Te)};return function(ce,Te){function be(){this.constructor=ce}se(ce,Te),ce.prototype=null===Te?Object.create(Te):(be.prototype=Te.prototype,new be)}}(),e=Object.prototype.hasOwnProperty;function h(se,ce){return e.call(se,ce)}function m(se){if(Array.isArray(se)){for(var ce=new Array(se.length),Te=0;Te<ce.length;Te++)ce[Te]=""+Te;return ce}if(Object.keys)return Object.keys(se);var be=[];for(var me in se)h(se,me)&&be.push(me);return be}function f(se){switch(typeof se){case"object":return JSON.parse(JSON.stringify(se));case"undefined":return null;default:return se}}function v(se){for(var be,ce=0,Te=se.length;ce<Te;){if(!((be=se.charCodeAt(ce))>=48&&be<=57))return!1;ce++}return!0}function E(se){return-1===se.indexOf("/")&&-1===se.indexOf("~")?se:se.replace(/~/g,"~0").replace(/\//g,"~1")}function _(se){return se.replace(/~1/g,"/").replace(/~0/g,"~")}function R(se){if(void 0===se)return!0;if(se)if(Array.isArray(se)){for(var ce=0,Te=se.length;ce<Te;ce++)if(R(se[ce]))return!0}else if("object"==typeof se)for(var be=m(se),me=be.length,re=0;re<me;re++)if(R(se[be[re]]))return!0;return!1}function T(se,ce){var Te=[se];for(var be in ce){var me="object"==typeof ce[be]?JSON.stringify(ce[be],null,2):ce[be];typeof me<"u"&&Te.push(be+": "+me)}return Te.join("\n")}var A=function(se){function ce(Te,be,me,re,Ee){var De=this.constructor,tt=se.call(this,T(Te,{name:be,index:me,operation:re,tree:Ee}))||this;return tt.name=be,tt.index=me,tt.operation=re,tt.tree=Ee,Object.setPrototypeOf(tt,De.prototype),tt.message=T(Te,{name:be,index:me,operation:re,tree:Ee}),tt}return u(ce,se),ce}(Error),p=A,L=f,D={add:function(se,ce,Te){return se[ce]=this.value,{newDocument:Te}},remove:function(se,ce,Te){var be=se[ce];return delete se[ce],{newDocument:Te,removed:be}},replace:function(se,ce,Te){var be=se[ce];return se[ce]=this.value,{newDocument:Te,removed:be}},move:function(se,ce,Te){var be=M(Te,this.path);be&&(be=f(be));var me=x(Te,{op:"remove",path:this.from}).removed;return x(Te,{op:"add",path:this.path,value:me}),{newDocument:Te,removed:be}},copy:function(se,ce,Te){var be=M(Te,this.from);return x(Te,{op:"add",path:this.path,value:f(be)}),{newDocument:Te}},test:function(se,ce,Te){return{newDocument:Te,test:K(se[ce],this.value)}},_get:function(se,ce,Te){return this.value=se[ce],{newDocument:Te}}},w={add:function(se,ce,Te){return v(ce)?se.splice(ce,0,this.value):se[ce]=this.value,{newDocument:Te,index:ce}},remove:function(se,ce,Te){return{newDocument:Te,removed:se.splice(ce,1)[0]}},replace:function(se,ce,Te){var be=se[ce];return se[ce]=this.value,{newDocument:Te,removed:be}},move:D.move,copy:D.copy,test:D.test,_get:D._get};function M(se,ce){if(""==ce)return se;var Te={op:"_get",path:ce};return x(se,Te),Te.value}function x(se,ce,Te,be,me,re){if(void 0===Te&&(Te=!1),void 0===be&&(be=!0),void 0===me&&(me=!0),void 0===re&&(re=0),Te&&("function"==typeof Te?Te(ce,0,se,ce.path):$(ce,0)),""===ce.path){var Ee={newDocument:se};if("add"===ce.op)return Ee.newDocument=ce.value,Ee;if("replace"===ce.op)return Ee.newDocument=ce.value,Ee.removed=se,Ee;if("move"===ce.op||"copy"===ce.op)return Ee.newDocument=M(se,ce.from),"move"===ce.op&&(Ee.removed=se),Ee;if("test"===ce.op){if(Ee.test=K(se,ce.value),!1===Ee.test)throw new p("Test operation failed","TEST_OPERATION_FAILED",re,ce,se);return Ee.newDocument=se,Ee}if("remove"===ce.op)return Ee.removed=se,Ee.newDocument=null,Ee;if("_get"===ce.op)return ce.value=se,Ee;if(Te)throw new p("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",re,ce,se);return Ee}be||(se=f(se));var tt=(ce.path||"").split("/"),ht=se,Fe=1,Et=tt.length,Ye=void 0,pt=void 0,Mt=void 0;for(Mt="function"==typeof Te?Te:$;;){if((pt=tt[Fe])&&-1!=pt.indexOf("~")&&(pt=_(pt)),me&&("__proto__"==pt||"prototype"==pt&&Fe>0&&"constructor"==tt[Fe-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(Te&&void 0===Ye&&(void 0===ht[pt]?Ye=tt.slice(0,Fe).join("/"):Fe==Et-1&&(Ye=ce.path),void 0!==Ye&&Mt(ce,0,se,Ye)),Fe++,Array.isArray(ht)){if("-"===pt)pt=ht.length;else{if(Te&&!v(pt))throw new p("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",re,ce,se);v(pt)&&(pt=~~pt)}if(Fe>=Et){if(Te&&"add"===ce.op&&pt>ht.length)throw new p("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",re,ce,se);if(!1===(Ee=w[ce.op].call(ce,ht,pt,se)).test)throw new p("Test operation failed","TEST_OPERATION_FAILED",re,ce,se);return Ee}}else if(Fe>=Et){if(!1===(Ee=D[ce.op].call(ce,ht,pt,se)).test)throw new p("Test operation failed","TEST_OPERATION_FAILED",re,ce,se);return Ee}if(ht=ht[pt],Te&&Fe<Et&&(!ht||"object"!=typeof ht))throw new p("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",re,ce,se)}}function j(se,ce,Te,be,me){if(void 0===be&&(be=!0),void 0===me&&(me=!0),Te&&!Array.isArray(ce))throw new p("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");be||(se=f(se));for(var re=new Array(ce.length),Ee=0,De=ce.length;Ee<De;Ee++)re[Ee]=x(se,ce[Ee],Te,!0,me,Ee),se=re[Ee].newDocument;return re.newDocument=se,re}function U(se,ce,Te){var be=x(se,ce);if(!1===be.test)throw new p("Test operation failed","TEST_OPERATION_FAILED",Te,ce,se);return be.newDocument}function $(se,ce,Te,be){if("object"!=typeof se||null===se||Array.isArray(se))throw new p("Operation is not an object","OPERATION_NOT_AN_OBJECT",ce,se,Te);if(!D[se.op])throw new p("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",ce,se,Te);if("string"!=typeof se.path)throw new p("Operation `path` property is not a string","OPERATION_PATH_INVALID",ce,se,Te);if(0!==se.path.indexOf("/")&&se.path.length>0)throw new p('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",ce,se,Te);if(("move"===se.op||"copy"===se.op)&&"string"!=typeof se.from)throw new p("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",ce,se,Te);if(("add"===se.op||"replace"===se.op||"test"===se.op)&&void 0===se.value)throw new p("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",ce,se,Te);if(("add"===se.op||"replace"===se.op||"test"===se.op)&&R(se.value))throw new p("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",ce,se,Te);if(Te)if("add"==se.op){var me=se.path.split("/").length,re=be.split("/").length;if(me!==re+1&&me!==re)throw new p("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",ce,se,Te)}else if("replace"===se.op||"remove"===se.op||"_get"===se.op){if(se.path!==be)throw new p("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",ce,se,Te)}else if("move"===se.op||"copy"===se.op){var De=k([{op:"_get",path:se.from,value:void 0}],Te);if(De&&"OPERATION_PATH_UNRESOLVABLE"===De.name)throw new p("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",ce,se,Te)}}function k(se,ce,Te){try{if(!Array.isArray(se))throw new p("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(ce)j(f(ce),f(se),Te||!0);else{Te=Te||$;for(var be=0;be<se.length;be++)Te(se[be],be,ce,void 0)}}catch(me){if(me instanceof p)return me;throw me}}function K(se,ce){if(se===ce)return!0;if(se&&ce&&"object"==typeof se&&"object"==typeof ce){var me,re,Ee,Te=Array.isArray(se),be=Array.isArray(ce);if(Te&&be){if((re=se.length)!=ce.length)return!1;for(me=re;0!=me--;)if(!K(se[me],ce[me]))return!1;return!0}if(Te!=be)return!1;var De=Object.keys(se);if((re=De.length)!==Object.keys(ce).length)return!1;for(me=re;0!=me--;)if(!ce.hasOwnProperty(De[me]))return!1;for(me=re;0!=me--;)if(!K(se[Ee=De[me]],ce[Ee]))return!1;return!0}return se!=se&&ce!=ce}var X=new WeakMap,G=function(){return function se(ce){this.observers=new Map,this.obj=ce}}(),q=function(){return function se(ce,Te){this.callback=ce,this.observer=Te}}();function J(se,ce){ce.unobserve()}function Q(se,ce){var be,me=function z(se){return X.get(se)}(se);if(me){var re=function te(se,ce){return se.observers.get(ce)}(me,ce);be=re&&re.observer}else me=new G(se),X.set(se,me);if(be)return be;if(be={},me.value=f(se),ce){be.callback=ce,be.next=null;var Ee=function(){ee(be)},De=function(){clearTimeout(be.next),be.next=setTimeout(Ee)};typeof window<"u"&&(window.addEventListener("mouseup",De),window.addEventListener("keyup",De),window.addEventListener("mousedown",De),window.addEventListener("keydown",De),window.addEventListener("change",De))}return be.patches=[],be.object=se,be.unobserve=function(){ee(be),clearTimeout(be.next),function Z(se,ce){se.observers.delete(ce.callback)}(me,be),typeof window<"u"&&(window.removeEventListener("mouseup",De),window.removeEventListener("keyup",De),window.removeEventListener("mousedown",De),window.removeEventListener("keydown",De),window.removeEventListener("change",De))},me.observers.set(ce,new q(ce,be)),be}function ee(se,ce){void 0===ce&&(ce=!1);var Te=X.get(se.object);le(Te.value,se.object,se.patches,"",ce),se.patches.length&&j(Te.value,se.patches);var be=se.patches;return be.length>0&&(se.patches=[],se.callback&&se.callback(be)),be}function le(se,ce,Te,be,me){if(ce!==se){"function"==typeof ce.toJSON&&(ce=ce.toJSON());for(var re=m(ce),Ee=m(se),tt=!1,ht=Ee.length-1;ht>=0;ht--){var Et=se[Fe=Ee[ht]];if(!h(ce,Fe)||void 0===ce[Fe]&&void 0!==Et&&!1===Array.isArray(ce))Array.isArray(se)===Array.isArray(ce)?(me&&Te.push({op:"test",path:be+"/"+E(Fe),value:f(Et)}),Te.push({op:"remove",path:be+"/"+E(Fe)}),tt=!0):(me&&Te.push({op:"test",path:be,value:se}),Te.push({op:"replace",path:be,value:ce}));else{var Ye=ce[Fe];"object"==typeof Et&&null!=Et&&"object"==typeof Ye&&null!=Ye&&Array.isArray(Et)===Array.isArray(Ye)?le(Et,Ye,Te,be+"/"+E(Fe),me):Et!==Ye&&(me&&Te.push({op:"test",path:be+"/"+E(Fe),value:f(Et)}),Te.push({op:"replace",path:be+"/"+E(Fe),value:f(Ye)}))}}if(tt||re.length!=Ee.length)for(ht=0;ht<re.length;ht++){var Fe;!h(se,Fe=re[ht])&&void 0!==ce[Fe]&&Te.push({op:"add",path:be+"/"+E(Fe),value:f(ce[Fe])})}}}function ne(se,ce,Te){void 0===Te&&(Te=!1);var be=[];return le(se,ce,be,"",Te),be}Object.assign({},i,t,{JsonPatchError:A,deepClone:f,escapePathComponent:E,unescapePathComponent:_})},27200:(F,b,n)=>{"use strict";n.d(b,{Ff:()=>v,UJ:()=>E,eB:()=>_,l0:()=>f});var i=n(54438),t=n(60177);class u{constructor(S){this.rawFile=S;const R=S instanceof HTMLInputElement?S.value:S;this["_createFrom"+("string"==typeof R?"FakePath":"Object")](R)}_createFromFakePath(S){this.lastModifiedDate=void 0,this.size=void 0,this.type=`like/${S.slice(S.lastIndexOf(".")+1).toLowerCase()}`,this.name=S.slice(S.lastIndexOf("/")+S.lastIndexOf("\\")+2)}_createFromObject(S){this.size=S.size,this.type=S.type,this.name=S.name}}class e{constructor(S,R,T){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.uploader=S,this.some=R,this.options=T,this.file=new u(R),this._file=R,S.options&&(this.method=S.options.method||"POST",this.alias=S.options.itemAlias||"file"),this.url=S.options.url}upload(){try{this.uploader.uploadItem(this)}catch{this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}}cancel(){this.uploader.cancelItem(this)}remove(){this.uploader.removeFromQueue(this)}onBeforeUpload(){}onBuildForm(S){return{form:S}}onProgress(S){return{progress:S}}onSuccess(S,R,T){return{response:S,status:R,headers:T}}onError(S,R,T){return{response:S,status:R,headers:T}}onCancel(S,R,T){return{response:S,status:R,headers:T}}onComplete(S,R,T){return{response:S,status:R,headers:T}}_onBeforeUpload(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}_onBuildForm(S){this.onBuildForm(S)}_onProgress(S){this.progress=S,this.onProgress(S)}_onSuccess(S,R,T){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(S,R,T)}_onError(S,R,T){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(S,R,T)}_onCancel(S,R,T){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(S,R,T)}_onComplete(S,R,T){this.onComplete(S,R,T),this.uploader.options.removeAfterUpload&&this.remove()}_prepareToUploading(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}}let h=(()=>{class C{static{this.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"]}static{this.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"]}static{this.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"]}static{this.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"]}static{this.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"]}static getMimeClass(R){let T="application";return R?.type&&-1!==this.mime_psd.indexOf(R.type)||R?.type?.match("image.*")?T="image":R?.type?.match("video.*")?T="video":R?.type?.match("audio.*")?T="audio":"application/pdf"===R?.type?T="pdf":R?.type&&-1!==this.mime_compress.indexOf(R.type)?T="compress":R?.type&&-1!==this.mime_doc.indexOf(R.type)?T="doc":R?.type&&-1!==this.mime_xsl.indexOf(R.type)?T="xls":R?.type&&-1!==this.mime_ppt.indexOf(R.type)&&(T="ppt"),"application"===T&&R?.name&&(T=this.fileTypeDetection(R.name)),T}static fileTypeDetection(R){const T={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},A=R.split(".");if(A.length<2)return"application";const p=A[A.length-1].toLowerCase();return void 0===T[p]?"application":T[p]}}return C})();class f{constructor(S){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:R=>R._file,formatDataFunctionIsAsync:!1,url:""},this.setOptions(S),this.response=new i.bkB}setOptions(S){this.options=Object.assign(this.options,S),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters?.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters?.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters?.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters?.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(let R=0;R<this.queue.length;R++)this.queue[R].url=this.options.url}addToQueue(S,R,T){let A=R;const p=[];for(const M of S)p.push(M);const L=this._getFilters(T),D=this.queue.length,w=[];p.map(M=>{A||(A=this.options);const x=new u(M);if(this._isValidFile(x,L,A)){const j=new e(this,M,A);w.push(j),this.queue.push(j),this._onAfterAddingFile(j)}else"number"==typeof this._failFilterIndex&&this._failFilterIndex>=0&&this._onWhenAddingFileFailed(x,L[this._failFilterIndex],A)}),this.queue.length!==D&&(this._onAfterAddingAll(w),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()}removeFromQueue(S){const R=this.getIndexOfItem(S),T=this.queue[R];T.isUploading&&T.cancel(),this.queue.splice(R,1),this.progress=this._getTotalProgress()}clearQueue(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}uploadItem(S){const R=this.getIndexOfItem(S),T=this.queue[R],A=this.options.isHTML5?"_xhrTransport":"_iframeTransport";T._prepareToUploading(),!this.isUploading&&(this.isUploading=!0,this[A](T))}cancelItem(S){const R=this.getIndexOfItem(S),T=this.queue[R];T&&T.isUploading&&(this.options.isHTML5?T._xhr:T._form).abort()}uploadAll(){const S=this.getNotUploadedItems().filter(R=>!R.isUploading);S.length&&(S.map(R=>R._prepareToUploading()),S[0].upload())}cancelAll(){this.getNotUploadedItems().map(R=>R.cancel())}isFile(S){return function m(C){return File&&C instanceof File}(S)}isFileLikeObject(S){return S instanceof u}getIndexOfItem(S){return"number"==typeof S?S:this.queue.indexOf(S)}getNotUploadedItems(){return this.queue.filter(S=>!S.isUploaded)}getReadyItems(){return this.queue.filter(S=>S.isReady&&!S.isUploading).sort((S,R)=>S.index-R.index)}onAfterAddingAll(S){return{fileItems:S}}onBuildItemForm(S,R){return{fileItem:S,form:R}}onAfterAddingFile(S){return{fileItem:S}}onWhenAddingFileFailed(S,R,T){return{item:S,filter:R,options:T}}onBeforeUploadItem(S){return{fileItem:S}}onProgressItem(S,R){return{fileItem:S,progress:R}}onProgressAll(S){return{progress:S}}onSuccessItem(S,R,T,A){return{item:S,response:R,status:T,headers:A}}onErrorItem(S,R,T,A){return{item:S,response:R,status:T,headers:A}}onCancelItem(S,R,T,A){return{item:S,response:R,status:T,headers:A}}onCompleteItem(S,R,T,A){return{item:S,response:R,status:T,headers:A}}onCompleteAll(){}_mimeTypeFilter(S){return!(S?.type&&this.options.allowedMimeType&&-1===this.options.allowedMimeType?.indexOf(S.type))}_fileSizeFilter(S){return!(this.options.maxFileSize&&S.size>this.options.maxFileSize)}_fileTypeFilter(S){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(h.getMimeClass(S)))}_onErrorItem(S,R,T,A){S._onError(R,T,A),this.onErrorItem(S,R,T,A)}_onCompleteItem(S,R,T,A){S._onComplete(R,T,A),this.onCompleteItem(S,R,T,A);const p=this.getReadyItems()[0];this.isUploading=!1,p?p.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}_headersGetter(S){return R=>R?S[R.toLowerCase()]||void 0:S}_xhrTransport(S){const R=this,T=S._xhr=new XMLHttpRequest;let A;if(this._onBeforeUploadItem(S),"number"!=typeof S._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)this.options.formatDataFunction&&(A=this.options.formatDataFunction(S));else{A=new FormData,this._onBuildItemForm(S,A);const p=()=>A.append(S.alias,S._file,S.file.name);this.options.parametersBeforeFiles||p(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(L=>{let D=this.options.additionalParameter?.[L];"string"==typeof D&&D.indexOf("{{file_name}}")>=0&&S.file?.name&&(D=D.replace("{{file_name}}",S.file.name)),A.append(L,D)}),p&&this.options.parametersBeforeFiles&&p()}if(T.upload.onprogress=p=>{const L=Math.round(p.lengthComputable?100*p.loaded/p.total:0);this._onProgressItem(S,L)},T.onload=()=>{const p=this._parseHeaders(T.getAllResponseHeaders()),L=this._transformResponse(T.response,p);this[`_on${this._isSuccessCode(T.status)?"Success":"Error"}Item`](S,L,T.status,p),this._onCompleteItem(S,L,T.status,p)},T.onerror=()=>{const p=this._parseHeaders(T.getAllResponseHeaders()),L=this._transformResponse(T.response,p);this._onErrorItem(S,L,T.status,p),this._onCompleteItem(S,L,T.status,p)},T.onabort=()=>{const p=this._parseHeaders(T.getAllResponseHeaders()),L=this._transformResponse(T.response,p);this._onCancelItem(S,L,T.status,p),this._onCompleteItem(S,L,T.status,p)},S.method&&S.url&&T.open(S.method,S.url,!0),T.withCredentials=S.withCredentials,this.options.headers)for(const p of this.options.headers)T.setRequestHeader(p.name,p.value);if(S.headers.length)for(const p of S.headers)T.setRequestHeader(p.name,p.value);this.authToken&&this.authTokenHeader&&T.setRequestHeader(this.authTokenHeader,this.authToken),T.onreadystatechange=function(){T.readyState==XMLHttpRequest.DONE&&R.response.emit(T.responseText)},this.options.formatDataFunctionIsAsync?A.then(p=>T.send(JSON.stringify(p))):T.send(A),this._render()}_getTotalProgress(S=0){if(this.options.removeAfterUpload)return S;const R=this.getNotUploadedItems().length,A=100/this.queue.length;return Math.round((R?this.queue.length-R:this.queue.length)*A+S*A/100)}_getFilters(S){if(!S)return this.options?.filters||[];if(Array.isArray(S))return S;if("string"==typeof S){const R=S.match(/[^\s,]+/g);return this.options?.filters||[].filter(T=>-1!==R?.indexOf(T.name))}return this.options?.filters||[]}_render(){}_queueLimitFilter(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit}_isValidFile(S,R,T){return this._failFilterIndex=-1,!R.length||R.every(A=>("number"==typeof this._failFilterIndex&&this._failFilterIndex++,A.fn.call(this,S,T)))}_isSuccessCode(S){return S>=200&&S<300||304===S}_transformResponse(S,R){return S}_parseHeaders(S){const R={};let T,A,p;return S&&S.split("\n").map(L=>{p=L.indexOf(":"),T=L.slice(0,p).trim().toLowerCase(),A=L.slice(p+1).trim(),T&&(R[T]=R[T]?R[T]+", "+A:A)}),R}_onWhenAddingFileFailed(S,R,T){this.onWhenAddingFileFailed(S,R,T)}_onAfterAddingFile(S){this.onAfterAddingFile(S)}_onAfterAddingAll(S){this.onAfterAddingAll(S)}_onBeforeUploadItem(S){S._onBeforeUpload(),this.onBeforeUploadItem(S)}_onBuildItemForm(S,R){S._onBuildForm(R),this.onBuildItemForm(S,R)}_onProgressItem(S,R){const T=this._getTotalProgress(R);this.progress=T,S._onProgress(R),this.onProgressItem(S,R),this.onProgressAll(T),this._render()}_onSuccessItem(S,R,T,A){S._onSuccess(R,T,A),this.onSuccessItem(S,R,T,A)}_onCancelItem(S,R,T,A){S._onCancel(R,T,A),this.onCancelItem(S,R,T,A)}}let v=(()=>{class C{constructor(R){this.fileOver=new i.bkB,this.onFileDrop=new i.bkB,this.element=R}getOptions(){return this.uploader?.options}getFilters(){return""}onDrop(R){const T=this._getTransfer(R);if(!T)return;const A=this.getOptions(),p=this.getFilters();this._preventAndStop(R),A&&this.uploader?.addToQueue(T.files,A,p),this.fileOver.emit(!1),this.onFileDrop.emit(T.files)}onDragOver(R){const T=this._getTransfer(R);this._haveFiles(T.types)&&(T.dropEffect="copy",this._preventAndStop(R),this.fileOver.emit(!0))}onDragLeave(R){this.element&&R.currentTarget===this.element[0]||(this._preventAndStop(R),this.fileOver.emit(!1))}_getTransfer(R){return R.dataTransfer?R.dataTransfer:R.originalEvent.dataTransfer}_preventAndStop(R){R.preventDefault(),R.stopPropagation()}_haveFiles(R){return!!R&&(R.indexOf?-1!==R.indexOf("Files"):!!R.contains&&R.contains("Files"))}static{this.\u0275fac=function(T){return new(T||C)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:C,selectors:[["","ng2FileDrop",""]],hostBindings:function(T,A){1&T&&i.bIt("drop",function(L){return A.onDrop(L)})("dragover",function(L){return A.onDragOver(L)})("dragleave",function(L){return A.onDragLeave(L)})},inputs:{uploader:"uploader"},outputs:{fileOver:"fileOver",onFileDrop:"onFileDrop"}})}}return C})(),E=(()=>{class C{constructor(R){this.onFileSelected=new i.bkB,this.element=R}getOptions(){return this.uploader?.options}getFilters(){return""}isEmptyAfterSelection(){return!!this.element.nativeElement.attributes.multiple}onChange(){const R=this.element.nativeElement.files,T=this.getOptions(),A=this.getFilters();this.uploader?.addToQueue(R,T,A),this.onFileSelected.emit(R),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")}static{this.\u0275fac=function(T){return new(T||C)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:C,selectors:[["","ng2FileSelect",""]],hostBindings:function(T,A){1&T&&i.bIt("change",function(){return A.onChange()})},inputs:{uploader:"uploader"},outputs:{onFileSelected:"onFileSelected"}})}}return C})(),_=(()=>{class C{static{this.\u0275fac=function(T){return new(T||C)}}static{this.\u0275mod=i.$C({type:C})}static{this.\u0275inj=i.G2t({imports:[t.MD]})}}return C})()},86820:(F,b,n)=>{"use strict";n.d(b,{DP:()=>Ye,eO:()=>Mt});var i=n(54438),t=n(7673),u=n(33726),e=n(73028),h=n(96354),m=n(88141),f=n(5964),v=n(43236),E=n(39974),_=n(54360),C=n(58750),R=n(41584);function p(Ne,ot,Gt,Zt){const mt=window&&!!window.document&&window.document.documentElement;let Pt=mt&&ot?window:Gt;if(Ne&&(Pt=Ne&&mt&&"string"==typeof Ne?function L(Ne,ot,Gt){return(Gt?window.document:ot).querySelector(Ne)}(Ne,Gt.nativeElement,Zt):Ne,!Pt))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return Pt}function D(Ne){return Ne&&!Ne.firstChange}const M={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},x={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class j{constructor(ot=!0){this.vertical=ot,this.propsMap=ot?M:x}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function K(Ne){return["Window","global"].some(Gt=>Object.prototype.toString.call(Ne).includes(Gt))}function X(Ne,ot){return Ne?ot.document.documentElement:null}function G(Ne,ot){const Gt=function Z({container:Ne,isWindow:ot,axis:Gt}){const{offsetHeightKey:Zt,clientHeightKey:mt}=te(Gt);return J(Ne,ot,Zt,mt)}(ot);return ot.isWindow?function q(Ne,ot,Gt){const{axis:Zt,container:mt,isWindow:Pt}=Gt,{offsetHeightKey:Ce,clientHeightKey:Be}=te(Zt),ut=Ne+ee(X(Pt,mt),Zt,Pt),un=J(ot.nativeElement,Pt,Ce,Be),rn=function Q(Ne,ot,Gt){const Zt=ot.topKey();if(Ne.getBoundingClientRect)return Ne.getBoundingClientRect()[Zt]+ee(Ne,ot,Gt)}(ot.nativeElement,Zt,Pt)+un;return{height:Ne,scrolled:ut,totalToScroll:rn,isWindow:Pt}}(Gt,Ne,ot):function z(Ne,ot,Gt){const{axis:Zt,container:mt}=Gt;return{height:Ne,scrolled:mt[Zt.scrollTopKey()],totalToScroll:mt[Zt.scrollHeightKey()],isWindow:!1}}(Gt,0,ot)}function te(Ne){return{offsetHeightKey:Ne.offsetHeightKey(),clientHeightKey:Ne.clientHeightKey()}}function J(Ne,ot,Gt,Zt){if(isNaN(Ne[Gt])){const mt=X(ot,Ne);return mt?mt[Zt]:0}return Ne[Gt]}function ee(Ne,ot,Gt){const Zt=ot.pageYOffsetKey(),mt=ot.scrollTopKey(),Pt=ot.offsetTopKey();return isNaN(window.pageYOffset)?X(Gt,Ne)[mt]:Ne.ownerDocument?Ne.ownerDocument.defaultView[Zt]:Ne[Pt]}function le(Ne,ot={down:0,up:0},Gt){let Zt,mt;if(Ne.totalToScroll<=0)return!1;const Pt=Ne.isWindow?Ne.scrolled:Ne.height+Ne.scrolled;return Gt?(Zt=(Ne.totalToScroll-Pt)/Ne.totalToScroll,mt=(ot?.down?ot.down:0)/10):(Zt=Ne.scrolled/(Ne.scrolled+(Ne.totalToScroll-Pt)),mt=(ot?.up?ot.up:0)/10),Zt<=mt}class Ee{constructor({totalToScroll:ot}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=ot}updateScrollPosition(ot){return this.lastScrollPosition=ot}updateTotalToScroll(ot){this.lastTotalToScroll!==ot&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=ot)}updateScroll(ot,Gt){this.updateScrollPosition(ot),this.updateTotalToScroll(Gt)}updateTriggeredFlag(ot,Gt){Gt?this.triggered.down=ot:this.triggered.up=ot}isTriggeredScroll(ot,Gt){return Gt?this.triggered.down===ot:this.triggered.up===ot}}function De(Ne){const{scrollContainer:ot,scrollWindow:Gt,element:Zt,fromRoot:mt}=Ne,Pt=function $({windowElement:Ne,axis:ot}){return function k(Ne,ot){const Gt=Ne.isWindow||ot&&!ot.nativeElement?ot:ot.nativeElement;return{...Ne,container:Gt}}({axis:ot,isWindow:K(Ne)},Ne)}({axis:new j(!Ne.horizontal),windowElement:p(ot,Gt,Zt,mt)}),Ce=new Ee({totalToScroll:G(Zt,Pt)}),ut={up:Ne.upDistance,down:Ne.downDistance};return function tt(Ne){let ot=(0,u.R)(Ne.container,"scroll");return Ne.throttle&&(ot=ot.pipe(function T(Ne,ot=v.E,Gt){const Zt=(0,R.O)(Ne,ot);return function S(Ne,ot){return(0,E.N)((Gt,Zt)=>{const{leading:mt=!0,trailing:Pt=!1}=ot??{};let Ce=!1,Be=null,ut=null,un=!1;const rn=()=>{ut?.unsubscribe(),ut=null,Pt&&(Kt(),un&&Zt.complete())},Pn=()=>{ut=null,un&&Zt.complete()},yt=Rt=>ut=(0,C.Tg)(Ne(Rt)).subscribe((0,_._)(Zt,rn,Pn)),Kt=()=>{if(Ce){Ce=!1;const Rt=Be;Be=null,Zt.next(Rt),!un&&yt(Rt)}};Gt.subscribe((0,_._)(Zt,Rt=>{Ce=!0,Be=Rt,(!ut||ut.closed)&&(mt?Kt():yt(Rt))},()=>{un=!0,(!(Pt&&Ce&&ut)||ut.closed)&&Zt.complete()}))})}(()=>Zt,Gt)}(Ne.throttle,void 0,{leading:!0,trailing:!0}))),ot}({container:Pt.container,throttle:Ne.throttle}).pipe((0,e.Z)(()=>(0,t.of)(G(Zt,Pt))),(0,h.T)(un=>function ht(Ne,ot,Gt){const{scrollDown:Zt,fire:mt}=function fe(Ne,ot,Gt){const Zt=function ne(Ne,ot){return Ne<ot.scrolled}(Ne,ot);return{fire:le(ot,Gt,Zt),scrollDown:Zt}}(Ne,ot,Gt);return{scrollDown:Zt,fire:mt,stats:ot}}(Ce.lastScrollPosition,un,ut)),(0,m.M)(({stats:un})=>Ce.updateScroll(un.scrolled,un.totalToScroll)),(0,f.p)(({fire:un,scrollDown:rn,stats:{totalToScroll:Pn}})=>function U(Ne,ot,Gt){return!!(Ne&&ot||!Gt&&ot)}(Ne.alwaysCallback,un,Ce.isTriggeredScroll(Pn,rn))),(0,m.M)(({scrollDown:un,stats:{totalToScroll:rn}})=>{Ce.updateTriggeredFlag(rn,un)}),(0,h.T)(Et))}const Fe={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function Et(Ne){const{scrollDown:ot,stats:{scrolled:Gt}}=Ne;return{type:ot?Fe.DOWN:Fe.UP,payload:{currentScrollPosition:Gt}}}let Ye=(()=>{class Ne{constructor(Gt,Zt){this.element=Gt,this.zone=Zt,this.scrolled=new i.bkB,this.scrolledUp=new i.bkB,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:Gt,infiniteScrollDisabled:Zt,infiniteScrollDistance:mt}){const Pt=D(Gt),Ce=D(Zt),Be=D(mt),ut=!Ce&&!this.infiniteScrollDisabled||Ce&&!Zt.currentValue||Be;(Pt||Ce||Be)&&(this.destroyScroller(),ut&&this.setup())}setup(){(function w(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=De({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(Gt=>this.handleOnScroll(Gt))})}handleOnScroll({type:Gt,payload:Zt}){const mt=Gt===Fe.DOWN?this.scrolled:this.scrolledUp;(function pt(Ne){return Ne.observed??Ne.observers.length>0})(mt)&&this.zone.run(()=>mt.emit(Zt))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}static{this.\u0275fac=function(Zt){return new(Zt||Ne)(i.rXU(i.aKT),i.rXU(i.SKi))}}static{this.\u0275dir=i.FsC({type:Ne,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[i.OA$]})}}return Ne})(),Mt=(()=>{class Ne{static{this.\u0275fac=function(Zt){return new(Zt||Ne)}}static{this.\u0275mod=i.$C({type:Ne})}static{this.\u0275inj=i.G2t({})}}return Ne})()},85188:(F,b,n)=>{"use strict";n.d(b,{Dz:()=>v,I0:()=>R,mB:()=>p});var i=n(74523),t=n(54438),u=n(89417),e=n(60177);const h=new t.nKC("ngx-mask config"),m=new t.nKC("new ngx-mask config"),f=new t.nKC("initial ngx-mask config"),v={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,triggerOnMaskChange:!1,maskFilled:new t.bkB,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},E=["Hh:m0:s0","Hh:m0","m0:s0"],_=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let C=(()=>{class D{constructor(M){this._config=M,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(x,j,U,$)=>{let k=[],K="";if(Array.isArray(U)){const te=new RegExp(U.map(Z=>"[\\^$.|?*+()".indexOf(Z)>=0?`\\${Z}`:Z).join("|"));k=x.split(te),K=x.match(te)?.[0]??""}else k=x.split(U),K=U;const X=k.length>1?`${K}${k[1]}`:"";let G=k[0]??"";const q=this.separatorLimit.replace(/\s/g,"");q&&+q&&(G="-"===G[0]?`-${G.slice(1,G.length).slice(0,q.length)}`:G.slice(0,q.length));const z=/(\d+)(\d{3})/;for(;j&&z.test(G);)G=G.replace(z,"$1"+j+"$2");return void 0===$?G+X:0===$?G:G+X.substring(0,$+1)},this.percentage=x=>Number(x)>=0&&Number(x)<=100,this.getPrecision=x=>{const j=x.split(".");return j.length>1?Number(j[j.length-1]):1/0},this.checkAndRemoveSuffix=x=>{for(let j=this.suffix?.length-1;j>=0;j--){const U=this.suffix.substring(j,this.suffix?.length);if(x.includes(U)&&j!==this.suffix?.length-1&&(j-1<0||!x.includes(this.suffix.substring(j-1,this.suffix?.length))))return x.replace(U,"")}return x},this.checkInputPrecision=(x,j,U)=>{if(j<1/0){if(Array.isArray(U)){const X=U.find(G=>G!==this.thousandSeparator);U=X||U[0]}const $=new RegExp(this._charToRegExpExpression(U)+`\\d{${j}}.*$`),K=(x.match($)??[])[0]?.length??0;K-1>j&&(x=x.substring(0,x.length-(K-1-j))),0===j&&this._compareOrIncludes(x[x.length-1],U,this.thousandSeparator)&&(x=x.substring(0,x.length-1))}return x},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(M,x){const[j,U]=x;return this.customPattern=U,this.applyMask(M,j)}applyMask(M,x,j=0,U=!1,$=!1,k=(()=>{})){if(!x||"string"!=typeof M)return"";let K=0,X="",G=!1,q=!1,z=1,te=!1;M.slice(0,this.prefix.length)===this.prefix&&(M=M.slice(this.prefix.length,M.length)),this.suffix&&M?.length>0&&(M=this.checkAndRemoveSuffix(M));const Z=M.toString().split("");if("IP"===x){const fe=M.split(".");this.ipError=this._validIP(fe),x="099.099.099.099"}const J=[];for(let fe=0;fe<M.length;fe++)M[fe]?.match("\\d")&&J.push(M[fe]??"");if("CPF_CNPJ"===x&&(this.cpfCnpjError=11!==J.length&&14!==J.length,x=J.length>11?"00.000.000/0000-00":"000.000.000-00"),x.startsWith("percent")){if(M.match("[a-z]|[A-Z]")||M.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){M=this._stripToDecimal(M);const fe=this.getPrecision(x);M=this.checkInputPrecision(M,fe,this.decimalMarker)}M.indexOf(".")>0&&!this.percentage(M.substring(0,M.indexOf(".")))&&(M=`${M.substring(0,M.indexOf(".")-1)}${M.substring(M.indexOf("."),M.length)}`),X=this.percentage(M)?M:M.substring(0,M.length-1)}else if(x.startsWith("separator")){(M.match("[w\u0430-\u044f\u0410-\u042f]")||M.match("[\u0401\u0451\u0410-\u044f]")||M.match("[a-z]|[A-Z]")||M.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\]:";<>.?/]/)||M.match("[^A-Za-z0-9,]"))&&(M=this._stripToDecimal(M)),M=M.length>1&&"0"===M[0]&&M[1]!==this.thousandSeparator&&!this._compareOrIncludes(M[1],this.decimalMarker,this.thousandSeparator)&&!$?M.slice(0,M.length-1):M,$&&(M=this._compareOrIncludes(M[M.length-1],this.decimalMarker,this.thousandSeparator)?M.slice(0,M.length-1):M);const fe=this._charToRegExpExpression(this.thousandSeparator);let se='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(fe,"");if(Array.isArray(this.decimalMarker))for(const Ee of this.decimalMarker)se=se.replace(this._charToRegExpExpression(Ee),"");else se=se.replace(this._charToRegExpExpression(this.decimalMarker),"");const ce=new RegExp("["+se+"]");(M.match(ce)||1===M.length&&this._compareOrIncludes(M,this.decimalMarker,this.thousandSeparator))&&(M=M.substring(0,M.length-1));const Te=this.getPrecision(x),be=(M=this.checkInputPrecision(M,Te,this.decimalMarker)).replace(new RegExp(fe,"g"),"");X=this._formatWithSeparators(be,this.thousandSeparator,this.decimalMarker,Te);const me=X.indexOf(",")-M.indexOf(","),re=X.length-M.length;if(re>0&&","!==X[j]){q=!0;let Ee=0;do{this._shift.add(j+Ee),Ee++}while(Ee<re)}else 0!==me&&j>0&&!(X.indexOf(",")>=j&&j>3)||!(X.indexOf(".")>=j&&j>3)&&re<=0?(this._shift.clear(),q=!0,z=re,this._shift.add(j+=re)):this._shift.clear()}else for(let fe=0,se=Z[0];fe<Z.length&&K!==x.length;fe++,se=Z[fe]??"")if(this._checkSymbolMask(se,x[K]??"")&&"?"===x[K+1])X+=se,K+=2;else if("*"===x[K+1]&&G&&this._checkSymbolMask(se,x[K+2]??""))X+=se,K+=3,G=!1;else if(this._checkSymbolMask(se,x[K]??"")&&"*"===x[K+1])X+=se,G=!0;else if("?"===x[K+1]&&this._checkSymbolMask(se,x[K+2]??""))X+=se,K+=3;else if(this._checkSymbolMask(se,x[K]??"")){if("H"===x[K]&&Number(se)>2){K+=1,this._shiftStep(x,K,Z.length),fe--,this.leadZeroDateTime&&(X+="0");continue}if("h"===x[K]&&"2"===X&&Number(se)>3){K+=1,fe--;continue}if("m"===x[K]&&Number(se)>5){K+=1,this._shiftStep(x,K,Z.length),fe--,this.leadZeroDateTime&&(X+="0");continue}if("s"===x[K]&&Number(se)>5){K+=1,this._shiftStep(x,K,Z.length),fe--,this.leadZeroDateTime&&(X+="0");continue}const ce=31;if("d"===x[K]&&(Number(se)>3&&this.leadZeroDateTime||Number(M.slice(K,K+2))>ce||"/"===M[K+1])){K+=1,this._shiftStep(x,K,Z.length),fe--,this.leadZeroDateTime&&(X+="0");continue}if("M"===x[K]){const be=0===K&&(Number(se)>2||Number(M.slice(K,K+2))>12||"/"===M[K+1]),me=M.slice(K-3,K-1).includes("/")&&("/"===M[K-2]&&Number(M.slice(K-1,K+1))>12&&"/"!==M[K]||"/"===M[K]||"/"===M[K-3]&&Number(M.slice(K-2,K))>12&&"/"!==M[K-1]||"/"===M[K-1]),re=Number(M.slice(K-3,K-1))<=ce&&!M.slice(K-3,K-1).includes("/")&&"/"===M[K-1]&&(Number(M.slice(K,K+2))>12||"/"===M[K+1]),Ee=Number(M.slice(K-3,K-1))>ce&&!M.slice(K-3,K-1).includes("/")&&!M.slice(K-2,K).includes("/")&&Number(M.slice(K-2,K))>12,De=Number(M.slice(K-3,K-1))<=ce&&!M.slice(K-3,K-1).includes("/")&&"/"!==M[K-1]&&Number(M.slice(K-1,K+1))>12;if(Number(se)>1&&this.leadZeroDateTime||be||me||re||Ee||De){K+=1,this._shiftStep(x,K,Z.length),fe--,this.leadZeroDateTime&&(X+="0");continue}}X+=se,K++}else" "===se&&" "===x[K]?(X+=se,K++):-1!==this.maskSpecialCharacters.indexOf(x[K]??"")?(X+=x[K],K++,this._shiftStep(x,K,Z.length),fe--):this.maskSpecialCharacters.indexOf(se)>-1&&this.maskAvailablePatterns[x[K]??""]&&this.maskAvailablePatterns[x[K]??""]?.optional?(Z[K]&&"099.099.099.099"!==x&&"000.000.000-00"!==x&&"00.000.000/0000-00"!==x&&!x.match(/^9+\.0+$/)&&(X+=Z[K]),K++,fe--):"*"===this.maskExpression[K+1]&&this._findSpecialChar(this.maskExpression[K+2]??"")&&this._findSpecialChar(se)===this.maskExpression[K+2]&&G||"?"===this.maskExpression[K+1]&&this._findSpecialChar(this.maskExpression[K+2]??"")&&this._findSpecialChar(se)===this.maskExpression[K+2]&&G?(K+=3,X+=se):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(se)<0&&se!==this.placeHolderCharacter&&(te=!0);X.length+1===x.length&&-1!==this.maskSpecialCharacters.indexOf(x[x.length-1]??"")&&(X+=x[x.length-1]);let Q=j+1;for(;this._shift.has(Q);)z++,Q++;let ee=U&&!x.startsWith("separator")?K:this._shift.has(j)?z:0;te&&ee--,k(ee,q),z<0&&this._shift.clear();let le=!1;$&&(le=Z.every(fe=>this.maskSpecialCharacters.includes(fe)));let ne=`${this.prefix}${le?"":X}${this.suffix}`;return 0===X.length&&(ne=`${this.prefix}${X}`),ne}_findSpecialChar(M){return this.maskSpecialCharacters.find(x=>x===M)}_checkSymbolMask(M,x){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,(this.maskAvailablePatterns[x]?.pattern&&this.maskAvailablePatterns[x]?.pattern.test(M))??!1}_stripToDecimal(M){return M.split("").filter((x,j)=>{const U="string"==typeof this.decimalMarker?x===this.decimalMarker:this.decimalMarker.includes(x);return x.match("^-?\\d")||x===this.thousandSeparator||U||"-"===x&&0===j&&this.allowNegativeNumbers}).join("")}_charToRegExpExpression(M){return M&&(" "===M?"\\s":"[\\^$.|?*+()".indexOf(M)>=0?`\\${M}`:M)}_shiftStep(M,x,j){const U=/[*?]/g.test(M.slice(0,x))?j:x;this._shift.add(U+this.prefix.length||0)}_compareOrIncludes(M,x,j){return Array.isArray(x)?x.filter(U=>U!==j).includes(M):M===x}_validIP(M){return!(4===M.length&&!M.some((x,j)=>M.length!==j+1?""===x||Number(x)>255:""===x||Number(x.substring(0,3))>255))}}return D.\u0275fac=function(M){return new(M||D)(t.KVO(h))},D.\u0275prov=t.jDH({token:D,factory:D.\u0275fac}),D})(),S=(()=>{class D extends C{constructor(M,x,j,U){super(x),this.document=M,this._config=x,this._elementRef=j,this._renderer=U,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.triggerOnMaskChange=!1,this.onChange=$=>{}}applyMask(M,x,j=0,U=!1,$=!1,k=(()=>{})){if(!x)return M!==this.actualValue?this.actualValue:M;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(M||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(M||"#")),!M&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const K=M&&"number"==typeof this.selStart?M[this.selStart]??"":"";let X="";if(void 0!==this.hiddenInput&&!this.writingValue){let te=this.actualValue.split("");""!==M&&te.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(M.length>te.length?te.splice(this.selStart,0,K):M.length<te.length&&(te.length-M.length==1?te.splice(this.selStart-1,1):te.splice(this.selStart,this.selEnd-this.selStart))):te=[],this.showMaskTyped&&(M=this.removeMask(M)),X=this.actualValue.length&&te.length<=M.length?this.shiftTypedSymbols(te.join("")):M}this.showMaskTyped&&(M=this.removeMask(M)),X=X&&X.length?X:M;const G=super.applyMask(X,x,j,U,$,k);if(this.actualValue=this.getActualValue(G),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(te=>!this._compareOrIncludes(te,this.decimalMarker,this.thousandSeparator))),this.formControlResult(G),!this.showMaskTyped)return this.hiddenInput&&G&&G.length?this.hideInput(G,this.maskExpression):G;const q=G.length,z=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const te=this._numberSkipedSymbols(G);return G+z.slice(q+te)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?G+z:G+z.slice(q)}_numberSkipedSymbols(M){const x=/(^|\D)(\d\D)/g;let j=x.exec(M),U=0;for(;null!=j;)U+=1,j=x.exec(M);return U}applyValueChanges(M,x,j,U=(()=>{})){const $=this._elementRef.nativeElement;$.value=this.applyMask($.value,this.maskExpression,M,x,j,U),$!==this._getActiveElement()&&this.clearIfNotMatchFn()}hideInput(M,x){return M.split("").map((j,U)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[x[U]??""]&&this.maskAvailablePatterns[x[U]??""]?.symbol?this.maskAvailablePatterns[x[U]??""]?.symbol:j).join("")}getActualValue(M){const x=M.split("").filter((j,U)=>{const $=this.maskExpression[U]??"";return this._checkSymbolMask(j,$)||this.maskSpecialCharacters.includes($)&&j===$});return x.join("")===M?x.join(""):M}shiftTypedSymbols(M){let x="";return(M&&M.split("").map((U,$)=>{if(this.maskSpecialCharacters.includes(M[$+1]??"")&&M[$+1]!==this.maskExpression[$+1])return x=U,M[$+1];if(x.length){const k=x;return x="",k}return U})||[]).join("")}numberToString(M){return M||0===M?Number(M).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}):String(M)}showMaskInInput(M){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(M){if("IP"===this.maskExpression)return this._checkForIp(M);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(M)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const M=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==M.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(M.value,this.maskExpression))}set formElementProperty([M,x]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,M,x))}checkSpecialCharAmount(M){return M.split("").filter(j=>this._findSpecialChar(j)).length}removeMask(M){return this._removeMask(this._removeSuffix(this._removePrefix(M)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(M){if("#"===M)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const x=[];for(let j=0;j<M.length;j++){const U=M[j]??"";U&&U.match("\\d")&&x.push(U)}return x.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:x.length>3&&x.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:x.length>6&&x.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(M){const x=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,j=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===M)return x;const U=[];for(let $=0;$<M.length;$++){const k=M[$]??"";k&&k.match("\\d")&&U.push(k)}return U.length<=3?x.slice(U.length,x.length):U.length>3&&U.length<=6?x.slice(U.length+1,x.length):U.length>6&&U.length<=9?x.slice(U.length+2,x.length):U.length>9&&U.length<11?x.slice(U.length+3,x.length):11===U.length?"":12===U.length?j.slice(17===M.length?16:15,j.length):U.length>12&&U.length<=14?j.slice(U.length+4,j.length):""}_getActiveElement(M=this.document){const x=M?.activeElement?.shadowRoot;return x?.activeElement?this._getActiveElement(x):M.activeElement}formControlResult(M){this.writingValue||!this.triggerOnMaskChange&&this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(M)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(M)):this._removeSuffix(M))}_toNumber(M){if(!this.isNumberValue||""===M)return M;const x=Number(M);return Number.isNaN(x)?M:x}_removeMask(M,x){return M&&M.replace(this._regExpForRemove(x),"")}_removePrefix(M){return this.prefix?M&&M.replace(this.prefix,""):M}_removeSuffix(M){return this.suffix?M&&M.replace(this.suffix,""):M}_retrieveSeparatorValue(M){return this._removeMask(this._removeSuffix(this._removePrefix(M)),this.maskSpecialCharacters)}_regExpForRemove(M){return new RegExp(M.map(x=>`\\${x}`).join("|"),"gi")}_replaceDecimalMarkerToDot(M){const x=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return M.replace(this._regExpForRemove(x),".")}_checkSymbols(M){if(""===M)return M;const x=this._retrieveSeparatorPrecision(this.maskExpression),j=this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(M));return this.isNumberValue?x?M===this.decimalMarker?null:this._checkPrecision(this.maskExpression,j):Number(j):j}_retrieveSeparatorPrecision(M){const x=M.match(new RegExp("^separator\\.([^d]*)"));return x?Number(x[1]):null}_checkPrecision(M,x){return M.indexOf("2")>0?Number(x).toFixed(2):Number(x)}}return D.\u0275fac=function(M){return new(M||D)(t.KVO(e.qQ),t.KVO(h),t.KVO(t.aKT),t.KVO(t.sFG))},D.\u0275prov=t.jDH({token:D,factory:D.\u0275fac}),D})(),R=(()=>{class D{constructor(M,x,j){this.document=M,this._maskService=x,this._config=j,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.triggerOnMaskChange=null,this.maskFilled=new t.bkB,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=U=>{},this.onTouch=()=>{}}ngOnChanges(M){const{maskExpression:x,specialCharacters:j,patterns:U,prefix:$,suffix:k,thousandSeparator:K,decimalMarker:X,dropSpecialCharacters:G,hiddenInput:q,showMaskTyped:z,placeHolderCharacter:te,shownMaskExpression:Z,showTemplate:J,clearIfNotMatch:Q,validation:ee,separatorLimit:le,allowNegativeNumbers:ne,leadZeroDateTime:fe,triggerOnMaskChange:se}=M;if(x&&(x.currentValue!==x.previousValue&&!x.firstChange&&(this._maskService.maskChanged=!0),x.currentValue&&x.currentValue.split("||").length>1?(this._maskExpressionArray=x.currentValue.split("||").sort((ce,Te)=>ce.length-Te.length),this._setMask()):(this._maskExpressionArray=[],this._maskValue=x.currentValue||"",this._maskService.maskExpression=this._maskValue)),j){if(!j.currentValue||!Array.isArray(j.currentValue))return;this._maskService.maskSpecialCharacters=j.currentValue||[]}U&&U.currentValue&&(this._maskService.maskAvailablePatterns=U.currentValue),$&&(this._maskService.prefix=$.currentValue),k&&(this._maskService.suffix=k.currentValue),K&&(this._maskService.thousandSeparator=K.currentValue),X&&(this._maskService.decimalMarker=X.currentValue),G&&(this._maskService.dropSpecialCharacters=G.currentValue),q&&(this._maskService.hiddenInput=q.currentValue),z&&(this._maskService.showMaskTyped=z.currentValue),te&&(this._maskService.placeHolderCharacter=te.currentValue),Z&&(this._maskService.shownMaskExpression=Z.currentValue),J&&(this._maskService.showTemplate=J.currentValue),Q&&(this._maskService.clearIfNotMatch=Q.currentValue),ee&&(this._maskService.validation=ee.currentValue),le&&(this._maskService.separatorLimit=le.currentValue),ne&&(this._maskService.allowNegativeNumbers=ne.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(ce=>"-"!==ce))),fe&&(this._maskService.leadZeroDateTime=fe.currentValue),se&&(this._maskService.triggerOnMaskChange=se.currentValue),this._applyMask()}validate({value:M}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(M);if(this._maskService.cpfCnpjError)return this._createValidationError(M);if(this._maskValue.startsWith("separator")||_.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(E.includes(this._maskValue))return this._validateTime(M);if(M&&M.toString().length>=1){let x=0;for(const j in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[j]?.optional&&(this._maskValue.indexOf(j)!==this._maskValue.lastIndexOf(j)?x+=this._maskValue.split("").filter($=>$===j).join("").length:-1!==this._maskValue.indexOf(j)&&x++,-1!==this._maskValue.indexOf(j)&&M.toString().length>=this._maskValue.indexOf(j)||x===this._maskValue.length))return null;if(1===this._maskValue.indexOf("{")&&M.toString().length===this._maskValue.length+Number((this._maskValue.split("{")[1]??"").split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&M.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&M.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(M);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const j=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-x:this._maskValue.length-x;if(M.toString().length<j)return this._createValidationError(M)}}return M&&this.maskFilled.emit(),null}onPaste(){this._justPasted=!0}onModelChange(M){(""===M||null==M)&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(M){const x=M.target;if(this._inputValue=x.value,this._setMask(),!this._maskValue)return void this.onChange(x.value);const j=1===x.selectionStart?x.selectionStart+this._maskService.prefix.length:x.selectionStart;let U=0,$=!1;if(this._maskService.applyValueChanges(j,this._justPasted,"Backspace"===this._code||"Delete"===this._code,(K,X)=>{this._justPasted=!1,U=K,$=X}),this._getActiveElement()!==x)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let k=this._position?this._inputValue.length+j+U:j+("Backspace"!==this._code||$?U:0);k>this._getActualInputLength()&&(k=this._getActualInputLength()),k<0&&(k=0),x.setSelectionRange(k,k),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onClick(M){if(!this._maskValue)return;const x=M.target;null!==x&&null!==x.selectionStart&&x.selectionStart===x.selectionEnd&&x.selectionStart>this._maskService.prefix.length&&38!==M.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),x.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===x.value?(x.focus(),x.setSelectionRange(0,0)):x.selectionStart>this._maskService.actualValue.length&&x.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const $=x&&(x.value&&x.value!==this._maskService.prefix?x.value:this._maskService.prefix+this._maskService.maskIsShown);x&&x.value!==$&&(x.value=$),x&&(x.selectionStart||x.selectionEnd)<=this._maskService.prefix.length?x.selectionStart=this._maskService.prefix.length:x&&x.selectionEnd>this._getActualInputLength()&&(x.selectionEnd=this._getActualInputLength())}onKeyDown(M){if(!this._maskValue)return;this._code=M.code?M.code:M.key;const x=M.target;if(this._inputValue=x.value,this._setMask(),38===M.keyCode&&M.preventDefault(),37===M.keyCode||8===M.keyCode||46===M.keyCode){if(8===M.keyCode&&0===x.value.length&&(x.selectionStart=x.selectionEnd),8===M.keyCode&&0!==x.selectionStart)if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&x.selectionStart<=this.prefix.length)x.setSelectionRange(this.prefix.length,x.selectionEnd);else if(this._inputValue.length!==x.selectionStart&&1!==x.selectionStart)for(;this.specialCharacters.includes((this._inputValue[x.selectionStart-1]??"").toString())&&(this.prefix.length>=1&&x.selectionStart>this.prefix.length||0===this.prefix.length);)x.setSelectionRange(x.selectionStart-1,x.selectionEnd);this.checkSelectionOnDeletion(x),this._maskService.prefix.length&&x.selectionStart<=this._maskService.prefix.length&&x.selectionEnd<=this._maskService.prefix.length&&M.preventDefault(),8===M.keyCode&&!x.readOnly&&0===x.selectionStart&&x.selectionEnd===x.value.length&&0!==x.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<x.selectionStart?x.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===M.keyCode&&M.ctrlKey||65===M.keyCode&&M.metaKey)&&(x.setSelectionRange(0,this._getActualInputLength()),M.preventDefault()),this._maskService.selStart=x.selectionStart,this._maskService.selEnd=x.selectionEnd}writeValue(M){var x=this;return(0,i.A)(function*(){"object"==typeof M&&null!==M&&"value"in M&&("disable"in M&&x.setDisabledState(!!M.disable),M=M.value),("number"==typeof M||x._maskValue.startsWith("separator"))&&(M=x._maskService.numberToString(M),Array.isArray(x.decimalMarker)||(M="."!==x.decimalMarker?M.replace(".",x.decimalMarker):M),x._maskService.isNumberValue=!0),"string"!=typeof M&&(M=""),x._inputValue=M,x._setMask(),M&&x._maskService.maskExpression||x._maskService.maskExpression&&(x._maskService.prefix||x._maskService.showMaskTyped)?(x._maskService.writingValue=!0,x._maskService.formElementProperty=["value",x._maskService.applyMask(M,x._maskService.maskExpression)],x._maskService.writingValue=!1):x._maskService.formElementProperty=["value",M],x._inputValue=M})()}registerOnChange(M){this._maskService.onChange=this.onChange=M}registerOnTouched(M){this.onTouch=M}_getActiveElement(M=this.document){const x=M?.activeElement?.shadowRoot;return x?.activeElement?this._getActiveElement(x):M.activeElement}checkSelectionOnDeletion(M){M.selectionStart=Math.min(Math.max(this.prefix.length,M.selectionStart),this._inputValue.length-this.suffix.length),M.selectionEnd=Math.min(Math.max(this.prefix.length,M.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(M){this._maskService.formElementProperty=["disabled",M]}_repeatPatternSymbols(M){return M.match(/{[0-9]+}/)&&M.split("").reduce((x,j,U)=>{if(this._start="{"===j?U:this._start,"}"!==j)return this._maskService._findSpecialChar(j)?x+j:x;this._end=U;const $=Number(M.slice(this._start+1,this._end));return x+new Array($+1).join(M[this._start-1])},"")||M}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(M){const x=this._maskValue.split("").filter(j=>":"!==j).length;return M&&(0==+(M[M.length-1]??-1)&&M.length<x||M.length<=x-2)?this._createValidationError(M):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(M){return{mask:{requiredMask:this._maskValue,actualValue:M}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(M=>{const x=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(M)?.length;if(this._inputValue&&x)return this._maskValue=M,this.maskExpression=M,this._maskService.maskExpression=M,x;this._maskValue=this.maskExpression=this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]??""})}}return D.\u0275fac=function(M){return new(M||D)(t.rXU(e.qQ),t.rXU(S),t.rXU(h))},D.\u0275dir=t.FsC({type:D,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(M,x){1&M&&t.bIt("paste",function(){return x.onPaste()})("ngModelChange",function(U){return x.onModelChange(U)})("input",function(U){return x.onInput(U)})("blur",function(){return x.onBlur()})("click",function(U){return x.onClick(U)})("keydown",function(U){return x.onKeyDown(U)})},inputs:{maskExpression:[t.Mj6.None,"mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",triggerOnMaskChange:"triggerOnMaskChange"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],features:[t.Jv_([{provide:u.kq,useExisting:(0,t.Rfq)(()=>D),multi:!0},{provide:u.cz,useExisting:(0,t.Rfq)(()=>D),multi:!0},S]),t.OA$]}),D})();function A(D,w){return w instanceof Function?{...D,...w()}:{...D,...w}}let p=(()=>{class D{static forRoot(M){return{ngModule:D,providers:[{provide:m,useValue:M},{provide:f,useValue:v},{provide:h,useFactory:A,deps:[f,m]},C]}}static forChild(){return{ngModule:D}}}return D.\u0275fac=function(M){return new(M||D)},D.\u0275mod=t.$C({type:D}),D.\u0275inj=t.G2t({}),D})();const L=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};L.KeyboardEvent||(L.KeyboardEvent=function(D,w){})},72234:(F,b,n)=>{"use strict";n.d(b,{Yq:()=>E,Zm:()=>v});var i=n(54438),t=n(60177);const u=["*"],e=(_,C,S,R,T)=>({"custom-content":_,circle:C,progress:S,"progress-dark":R,pulse:T});function h(_,C){1&_&&i.SdG(0)}function m(_,C){if(1&_&&(i.j41(0,"div",0),i.DNE(1,h,1,0),i.k0s()),2&_){const S=i.XpG();i.Y8G("ngClass",i.s1E(5,e,"custom-content"===S.appearance,"circle"===S.appearance,"progress"===S.animation,"progress-dark"===S.animation,"pulse"===S.animation))("ngStyle",S.theme),i.BMQ("aria-label",S.ariaLabel)("aria-valuetext",S.loadingText),i.R7$(),i.vxM(1,"custom-content"===S.appearance?1:-1)}}const f=new i.nKC("ngx-skeleton-loader.config");let v=(()=>{class _{constructor(S){this.config=S;const{appearance:R="line",animation:T="progress",theme:A=null,loadingText:p="Loading...",count:L=1,ariaLabel:D="loading"}=S||{};this.appearance=R,this.animation=T,this.theme=A,this.loadingText=p,this.count=L,this.items=[],this.ariaLabel=D}ngOnInit(){this.validateInputValues()}validateInputValues(){/^\d+$/.test(`${this.count}`)||((0,i.naY)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'count' a numeric value. Forcing default to \"1\"."),this.count=1),"custom-content"===this.appearance&&(0,i.naY)()&&1!==this.count&&(console.error('`NgxSkeletonLoaderComponent` enforces elements with "custom-content" appearance as DOM nodes. Forcing "count" to "1".'),this.count=1),this.items.length=this.count;const S=["progress","progress-dark","pulse","false"];-1===S.indexOf(String(this.animation))&&((0,i.naY)()&&console.error(`\`NgxSkeletonLoaderComponent\` need to receive 'animation' as: ${S.join(", ")}. Forcing default to "progress".`),this.animation="progress"),-1===["circle","line","custom-content",""].indexOf(String(this.appearance))&&((0,i.naY)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'appearance' as: circle or line or custom-content or empty string. Forcing default to \"''\"."),this.appearance="");const{theme:R}=this.config||{};R&&R.extendsFromRoot&&null!==this.theme&&(this.theme={...this.config.theme,...this.theme})}ngOnChanges(S){["count","animation","appearance"].find(R=>S[R]&&(S[R].isFirstChange()||S[R].previousValue===S[R].currentValue))||this.validateInputValues()}static{this.\u0275fac=function(R){return new(R||_)(i.rXU(f,8))}}static{this.\u0275cmp=i.VBU({type:_,selectors:[["ngx-skeleton-loader"]],inputs:{count:"count",loadingText:"loadingText",appearance:"appearance",animation:"animation",ariaLabel:"ariaLabel",theme:"theme"},features:[i.OA$],ngContentSelectors:u,decls:2,vars:0,consts:[["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","-1",1,"skeleton-loader",3,"ngClass","ngStyle"]],template:function(R,T){1&R&&(i.NAR(),i.Z7z(0,m,2,11,"div",0,i.fX1)),2&R&&i.Dyx(T.items)},dependencies:[t.YU,t.B3],styles:['.skeleton-loader[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;position:relative;background:#eff1f6 no-repeat;border-radius:4px;width:100%;height:20px;display:inline-block;margin-bottom:10px;will-change:transform}.skeleton-loader[_ngcontent-%COMP%]:after, .skeleton-loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.circle[_ngcontent-%COMP%]{width:40px;height:40px;margin:5px;border-radius:50%}.skeleton-loader.progress[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%]{transform:translateZ(0)}.skeleton-loader.progress[_ngcontent-%COMP%]:after, .skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:after, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progress 2s ease-in-out infinite;background-size:200px 100%;position:absolute;z-index:1;top:0;left:0;width:200px;height:100%;content:""}.skeleton-loader.progress[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,#fff0,#fff9,#fff0)}.skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.skeleton-loader.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}.skeleton-loader.custom-content[_ngcontent-%COMP%]{height:100%;background:none}@media (prefers-reduced-motion: reduce){.skeleton-loader.pulse[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%], .skeleton-loader.progress[_ngcontent-%COMP%]:before{animation:none}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%]{background-image:none}}@media screen and (min-device-width: 1200px){.skeleton-loader[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:wait}}@keyframes _ngcontent-%COMP%_progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0})}}return _})(),E=(()=>{class _{static forRoot(S){return{ngModule:_,providers:[{provide:f,useValue:S}]}}static{this.\u0275fac=function(R){return new(R||_)}}static{this.\u0275mod=i.$C({type:_})}static{this.\u0275inj=i.G2t({imports:[t.MD]})}}return _})()},31635:(F,b,n)=>{"use strict";function h(le,ne,fe,se){var be,ce=arguments.length,Te=ce<3?ne:null===se?se=Object.getOwnPropertyDescriptor(ne,fe):se;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Te=Reflect.decorate(le,ne,fe,se);else for(var me=le.length-1;me>=0;me--)(be=le[me])&&(Te=(ce<3?be(Te):ce>3?be(ne,fe,Te):be(ne,fe))||Te);return ce>3&&Te&&Object.defineProperty(ne,fe,Te),Te}function m(le,ne){return function(fe,se){ne(fe,se,le)}}function C(le,ne){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(le,ne)}function S(le,ne,fe,se){return new(fe||(fe=Promise))(function(Te,be){function me(De){try{Ee(se.next(De))}catch(tt){be(tt)}}function re(De){try{Ee(se.throw(De))}catch(tt){be(tt)}}function Ee(De){De.done?Te(De.value):function ce(Te){return Te instanceof fe?Te:new fe(function(be){be(Te)})}(De.value).then(me,re)}Ee((se=se.apply(le,ne||[])).next())})}function x(le){return this instanceof x?(this.v=le,this):new x(le)}function j(le,ne,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,se=fe.apply(le,ne||[]),Te=[];return ce={},be("next"),be("throw"),be("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function be(ht){se[ht]&&(ce[ht]=function(Fe){return new Promise(function(Et,Ye){Te.push([ht,Fe,Et,Ye])>1||me(ht,Fe)})})}function me(ht,Fe){try{!function re(ht){ht.value instanceof x?Promise.resolve(ht.value.v).then(Ee,De):tt(Te[0][2],ht)}(se[ht](Fe))}catch(Et){tt(Te[0][3],Et)}}function Ee(ht){me("next",ht)}function De(ht){me("throw",ht)}function tt(ht,Fe){ht(Fe),Te.shift(),Te.length&&me(Te[0][0],Te[0][1])}}function $(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ne=le[Symbol.asyncIterator];return ne?ne.call(le):(le=function p(le){var ne="function"==typeof Symbol&&Symbol.iterator,fe=ne&&le[ne],se=0;if(fe)return fe.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&se>=le.length&&(le=void 0),{value:le&&le[se++],done:!le}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),fe={},se("next"),se("throw"),se("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function se(Te){fe[Te]=le[Te]&&function(be){return new Promise(function(me,re){!function ce(Te,be,me,re){Promise.resolve(re).then(function(Ee){Te({value:Ee,done:me})},be)}(me,re,(be=le[Te](be)).done,be.value)})}}}n.d(b,{AQ:()=>j,Cg:()=>h,N3:()=>x,Qj:()=>m,Sn:()=>C,sH:()=>S,xN:()=>$}),"function"==typeof SuppressedError&&SuppressedError}},F=>{F(F.s=71281)}]);