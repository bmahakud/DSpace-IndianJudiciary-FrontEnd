(function(et,dt){"object"==typeof exports&&"object"==typeof module?module.exports=dt():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],dt):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=dt():et["pdfjs-dist/build/pdf"]=et.pdfjsLib=dt()})(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.VerbosityLevel=et.Util=et.UnknownErrorException=et.UnexpectedResponseException=et.UNSUPPORTED_FEATURES=et.TextRenderingMode=et.StreamType=et.RenderingIntentFlag=et.PermissionFlag=et.PasswordResponses=et.PasswordException=et.PageActionEventType=et.OPS=et.MissingPDFException=et.LINE_FACTOR=et.LINE_DESCENT_FACTOR=et.InvalidPDFException=et.ImageKind=et.IDENTITY_MATRIX=et.FormatError=et.FontType=et.FeatureTest=et.FONT_IDENTITY_MATRIX=et.DocumentActionEventType=et.CMapCompressionType=et.BaseException=et.AnnotationType=et.AnnotationStateModelType=et.AnnotationReviewState=et.AnnotationReplyType=et.AnnotationMode=et.AnnotationMarkedState=et.AnnotationFlag=et.AnnotationFieldFlag=et.AnnotationEditorType=et.AnnotationEditorPrefix=et.AnnotationEditorParamsType=et.AnnotationBorderStyleType=et.AnnotationActionEventType=et.AbortException=void 0,et.arrayByteLength=S,et.arraysToBytes=function(s){const i=s.length;if(1===i&&s[0]instanceof Uint8Array)return s[0];let a=0;for(let n=0;n<i;n++)a+=S(s[n]);let f=0;const l=new Uint8Array(a);for(let n=0;n<i;n++){let o=s[n];o instanceof Uint8Array||(o="string"==typeof o?_(o):new Uint8Array(o));const D=o.byteLength;l.set(o,f),f+=D}return l},et.assert=function(s,i){s||K(i)},et.bytesToString=function(s){"object"==typeof s&&null!==s&&void 0!==s.length||K("Invalid argument for bytesToString");const i=s.length,a=8192;if(i<a)return String.fromCharCode.apply(null,s);const f=[];for(let l=0;l<i;l+=a){const n=Math.min(l+a,i),o=s.subarray(l,n);f.push(String.fromCharCode.apply(null,o))}return f.join("")},et.createPromiseCapability=function(){const s=Object.create(null);let i=!1;return Object.defineProperty(s,"settled",{get:()=>i}),s.promise=new Promise(function(a,f){s.resolve=function(l){i=!0,a(l)},s.reject=function(l){i=!0,f(l)}}),s},et.createValidAbsoluteUrl=function(s,i=null,a=null){if(!s)return null;try{if(a&&"string"==typeof s){if(a.addDefaultProtocol&&s.startsWith("www.")){const l=s.match(/\./g);l&&l.length>=2&&(s=`http://${s}`)}if(a.tryConvertEncoding)try{s=w(s)}catch{}}const f=i?new URL(s,i):new URL(s);if(function(n){if(!n)return!1;switch(n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(f))return f}catch{}return null},et.escapeString=function(s){return s.replace(/([()\\\n\r])/g,i=>"\n"===i?"\\n":"\r"===i?"\\r":`\\${i}`)},et.getModificationDate=function(s=new Date){return[s.getUTCFullYear().toString(),(s.getUTCMonth()+1).toString().padStart(2,"0"),s.getUTCDate().toString().padStart(2,"0"),s.getUTCHours().toString().padStart(2,"0"),s.getUTCMinutes().toString().padStart(2,"0"),s.getUTCSeconds().toString().padStart(2,"0")].join("")},et.getVerbosityLevel=function(){return it},et.info=function(s){it>=rt.INFOS&&console.log(`Info: ${s}`)},et.isArrayBuffer=function(s){return"object"==typeof s&&null!==s&&void 0!==s.byteLength},et.isArrayEqual=function(s,i){if(s.length!==i.length)return!1;for(let a=0,f=s.length;a<f;a++)if(s[a]!==i[a])return!1;return!0},et.isAscii=function(s){return/^[\x00-\x7F]*$/.test(s)},et.objectFromMap=function(s){const i=Object.create(null);for(const[a,f]of s)i[a]=f;return i},et.objectSize=function(s){return Object.keys(s).length},et.setVerbosityLevel=function(s){Number.isInteger(s)&&(it=s)},et.shadow=e,et.string32=function(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s)},et.stringToBytes=_,et.stringToPDFString=function(s){if(s[0]>="\xef"){let a;if("\xfe"===s[0]&&"\xff"===s[1]?a="utf-16be":"\xff"===s[0]&&"\xfe"===s[1]?a="utf-16le":"\xef"===s[0]&&"\xbb"===s[1]&&"\xbf"===s[2]&&(a="utf-8"),a)try{const f=new TextDecoder(a,{fatal:!0}),l=_(s);return f.decode(l)}catch(f){v(`stringToPDFString: "${f}".`)}}const i=[];for(let a=0,f=s.length;a<f;a++){const l=I[s.charCodeAt(a)];i.push(l?String.fromCharCode(l):s.charAt(a))}return i.join("")},et.stringToUTF16BEString=function(s){const i=["\xfe\xff"];for(let a=0,f=s.length;a<f;a++){const l=s.charCodeAt(a);i.push(String.fromCharCode(l>>8&255),String.fromCharCode(255&l))}return i.join("")},et.stringToUTF8String=w,et.unreachable=K,et.utf8StringToString=function(s){return unescape(encodeURIComponent(s))},et.warn=v,dt(2),et.IDENTITY_MATRIX=[1,0,0,1,0,0],et.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],et.LINE_FACTOR=1.35,et.LINE_DESCENT_FACTOR=.35,et.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},et.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},et.AnnotationEditorPrefix="pdfjs_internal_editor_",et.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},et.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},et.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},et.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},et.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},et.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},et.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},et.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},et.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},et.AnnotationReplyType={GROUP:"Group",REPLY:"R"},et.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},et.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},et.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},et.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},et.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},et.PageActionEventType={O:"PageOpen",C:"PageClose"},et.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},et.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const rt={ERRORS:0,WARNINGS:1,INFOS:5};et.VerbosityLevel=rt,et.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},et.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},et.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},et.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let it=rt.WARNINGS;function v(k){it>=rt.WARNINGS&&console.log(`Warning: ${k}`)}function K(k){throw new Error(k)}function e(k,s,i){return Object.defineProperty(k,s,{value:i,enumerable:!0,configurable:!0,writable:!1}),i}const d=function(){function s(i,a){this.constructor===s&&K("Cannot initialize BaseException."),this.message=i,this.name=a}return s.prototype=new Error,s.constructor=s,s}();function _(k){"string"!=typeof k&&K("Invalid argument for stringToBytes");const s=k.length,i=new Uint8Array(s);for(let a=0;a<s;++a)i[a]=255&k.charCodeAt(a);return i}function S(k){return void 0!==k.length?k.length:void 0!==k.byteLength?k.byteLength:void K("Invalid argument for arrayByteLength")}et.BaseException=d,et.PasswordException=class extends d{constructor(s,i){super(s,"PasswordException"),this.code=i}},et.UnknownErrorException=class extends d{constructor(s,i){super(s,"UnknownErrorException"),this.details=i}},et.InvalidPDFException=class extends d{constructor(s){super(s,"InvalidPDFException")}},et.MissingPDFException=class extends d{constructor(s){super(s,"MissingPDFException")}},et.UnexpectedResponseException=class extends d{constructor(s,i){super(s,"UnexpectedResponseException"),this.status=i}},et.FormatError=class extends d{constructor(s){super(s,"FormatError")}},et.AbortException=class extends d{constructor(s){super(s,"AbortException")}},et.FeatureTest=class{static get isLittleEndian(){return e(this,"isLittleEndian",function(){const i=new Uint8Array(4);return i[0]=1,1===new Uint32Array(i.buffer,0,1)[0]}())}static get isEvalSupported(){return e(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return e(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const t=[...Array(256).keys()].map(k=>k.toString(16).padStart(2,"0"));class u{static makeHexColor(s,i,a){return`#${t[s]}${t[i]}${t[a]}`}static scaleMinMax(s,i){let a;s[0]?(s[0]<0&&(a=i[0],i[0]=i[1],i[1]=a),i[0]*=s[0],i[1]*=s[0],s[3]<0&&(a=i[2],i[2]=i[3],i[3]=a),i[2]*=s[3],i[3]*=s[3]):(a=i[0],i[0]=i[2],i[2]=a,a=i[1],i[1]=i[3],i[3]=a,s[1]<0&&(a=i[2],i[2]=i[3],i[3]=a),i[2]*=s[1],i[3]*=s[1],s[2]<0&&(a=i[0],i[0]=i[1],i[1]=a),i[0]*=s[2],i[1]*=s[2]),i[0]+=s[4],i[1]+=s[4],i[2]+=s[5],i[3]+=s[5]}static transform(s,i){return[s[0]*i[0]+s[2]*i[1],s[1]*i[0]+s[3]*i[1],s[0]*i[2]+s[2]*i[3],s[1]*i[2]+s[3]*i[3],s[0]*i[4]+s[2]*i[5]+s[4],s[1]*i[4]+s[3]*i[5]+s[5]]}static applyTransform(s,i){return[s[0]*i[0]+s[1]*i[2]+i[4],s[0]*i[1]+s[1]*i[3]+i[5]]}static applyInverseTransform(s,i){const a=i[0]*i[3]-i[1]*i[2];return[(s[0]*i[3]-s[1]*i[2]+i[2]*i[5]-i[4]*i[3])/a,(-s[0]*i[1]+s[1]*i[0]+i[4]*i[1]-i[5]*i[0])/a]}static getAxialAlignedBoundingBox(s,i){const a=u.applyTransform(s,i),f=u.applyTransform(s.slice(2,4),i),l=u.applyTransform([s[0],s[3]],i),n=u.applyTransform([s[2],s[1]],i);return[Math.min(a[0],f[0],l[0],n[0]),Math.min(a[1],f[1],l[1],n[1]),Math.max(a[0],f[0],l[0],n[0]),Math.max(a[1],f[1],l[1],n[1])]}static inverseTransform(s){const i=s[0]*s[3]-s[1]*s[2];return[s[3]/i,-s[1]/i,-s[2]/i,s[0]/i,(s[2]*s[5]-s[4]*s[3])/i,(s[4]*s[1]-s[5]*s[0])/i]}static apply3dTransform(s,i){return[s[0]*i[0]+s[1]*i[1]+s[2]*i[2],s[3]*i[0]+s[4]*i[1]+s[5]*i[2],s[6]*i[0]+s[7]*i[1]+s[8]*i[2]]}static singularValueDecompose2dScale(s){const i=[s[0],s[2],s[1],s[3]],a=s[0]*i[0]+s[1]*i[2],n=s[2]*i[1]+s[3]*i[3],o=(a+n)/2,D=Math.sqrt((a+n)**2-4*(a*n-(s[2]*i[0]+s[3]*i[2])*(s[0]*i[1]+s[1]*i[3])))/2,O=o-D||1;return[Math.sqrt(o+D||1),Math.sqrt(O)]}static normalizeRect(s){const i=s.slice(0);return s[0]>s[2]&&(i[0]=s[2],i[2]=s[0]),s[1]>s[3]&&(i[1]=s[3],i[3]=s[1]),i}static intersect(s,i){const a=Math.max(Math.min(s[0],s[2]),Math.min(i[0],i[2])),f=Math.min(Math.max(s[0],s[2]),Math.max(i[0],i[2]));if(a>f)return null;const l=Math.max(Math.min(s[1],s[3]),Math.min(i[1],i[3])),n=Math.min(Math.max(s[1],s[3]),Math.max(i[1],i[3]));return l>n?null:[a,l,f,n]}static bezierBoundingBox(s,i,a,f,l,n,o,D){const m=[],O=[[],[]];let B,h,y,g,r,c,P,T;for(let A=0;A<2;++A)if(0===A?(h=6*s-12*a+6*l,B=-3*s+9*a-9*l+3*o,y=3*a-3*s):(h=6*i-12*f+6*n,B=-3*i+9*f-9*n+3*D,y=3*f-3*i),Math.abs(B)<1e-12){if(Math.abs(h)<1e-12)continue;g=-y/h,0<g&&g<1&&m.push(g)}else P=h*h-4*y*B,T=Math.sqrt(P),P<0||(r=(-h+T)/(2*B),0<r&&r<1&&m.push(r),c=(-h-T)/(2*B),0<c&&c<1&&m.push(c));let x,C=m.length;const b=C;for(;C--;)g=m[C],x=1-g,O[0][C]=x*x*x*s+3*x*x*g*a+3*x*g*g*l+g*g*g*o,O[1][C]=x*x*x*i+3*x*x*g*f+3*x*g*g*n+g*g*g*D;return O[0][b]=s,O[1][b]=i,O[0][b+1]=o,O[1][b+1]=D,O[0].length=O[1].length=b+2,[Math.min(...O[0]),Math.min(...O[1]),Math.max(...O[0]),Math.max(...O[1])]}}et.Util=u;const I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function w(k){return decodeURIComponent(escape(k))}},(It,et,dt)=>{dt(3)},(It,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.isNodeJS=void 0;const dt=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);et.isNodeJS=dt},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:It,NodeCMapReaderFactory:et,NodeStandardFontDataFactory:dt}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=It,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=et,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=dt}function setPDFNetworkStreamFactory(It){createPDFNetworkStream=It}function getDocument(It){const et=new PDFDocumentLoadingTask;let dt;if("string"==typeof It||It instanceof URL)dt={url:It};else if((0,_util.isArrayBuffer)(It))dt={data:It};else if(It instanceof PDFDataRangeTransport)dt={range:It};else{if("object"!=typeof It)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!It.url&&!It.data&&!It.range)throw new Error("Invalid parameter object: need either .data, .range or .url");dt=It}const rt=Object.create(null);let it=null,v=null;for(const e in dt){const d=dt[e];switch(e){case"url":if(typeof window<"u")try{rt[e]=new URL(d,window.location).href;continue}catch(_){(0,_util.warn)(`Cannot create valid URL: "${_}".`)}else if("string"==typeof d||d instanceof URL){rt[e]=d.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":it=d;continue;case"worker":v=d;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&d instanceof Buffer)rt[e]=new Uint8Array(d);else{if(d instanceof Uint8Array)break;if("string"==typeof d)rt[e]=(0,_util.stringToBytes)(d);else if("object"!=typeof d||null===d||isNaN(d.length)){if(!(0,_util.isArrayBuffer)(d))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");rt[e]=new Uint8Array(d)}else rt[e]=new Uint8Array(d)}continue}rt[e]=d}if(rt.CMapReaderFactory=rt.CMapReaderFactory||DefaultCMapReaderFactory,rt.StandardFontDataFactory=rt.StandardFontDataFactory||DefaultStandardFontDataFactory,rt.ignoreErrors=!0!==rt.stopAtErrors,rt.fontExtraProperties=!0===rt.fontExtraProperties,rt.pdfBug=!0===rt.pdfBug,rt.enableXfa=!0===rt.enableXfa,(!Number.isInteger(rt.rangeChunkSize)||rt.rangeChunkSize<1)&&(rt.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof rt.docBaseUrl||(0,_display_utils.isDataScheme)(rt.docBaseUrl))&&(rt.docBaseUrl=null),(!Number.isInteger(rt.maxImageSize)||rt.maxImageSize<-1)&&(rt.maxImageSize=-1),"string"!=typeof rt.cMapUrl&&(rt.cMapUrl=null),"string"!=typeof rt.standardFontDataUrl&&(rt.standardFontDataUrl=null),"boolean"!=typeof rt.useWorkerFetch&&(rt.useWorkerFetch=rt.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&rt.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof rt.isEvalSupported&&(rt.isEvalSupported=!0),"boolean"!=typeof rt.disableFontFace&&(rt.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof rt.useSystemFonts&&(rt.useSystemFonts=!_is_node.isNodeJS&&!rt.disableFontFace),"object"==typeof rt.ownerDocument&&null!==rt.ownerDocument||(rt.ownerDocument=globalThis.document),"boolean"!=typeof rt.disableRange&&(rt.disableRange=!1),"boolean"!=typeof rt.disableStream&&(rt.disableStream=!1),"boolean"!=typeof rt.disableAutoFetch&&(rt.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(rt.verbosity),!v){const e={verbosity:rt.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};v=e.port?PDFWorker.fromPort(e):new PDFWorker(e),et._worker=v}const K=et.docId;return v.promise.then(function(){if(et.destroyed)throw new Error("Loading aborted");const e=_fetchDocument(v,rt,it,K),d=new Promise(function(_){let S;it?S=new _transport_stream.PDFDataTransportStream({length:rt.length,initialData:rt.initialData,progressiveDone:rt.progressiveDone,contentDispositionFilename:rt.contentDispositionFilename,disableRange:rt.disableRange,disableStream:rt.disableStream},it):rt.data||(S=createPDFNetworkStream({url:rt.url,length:rt.length,httpHeaders:rt.httpHeaders,withCredentials:rt.withCredentials,rangeChunkSize:rt.rangeChunkSize,disableRange:rt.disableRange,disableStream:rt.disableStream})),_(S)});return Promise.all([e,d]).then(function([_,S]){if(et.destroyed)throw new Error("Loading aborted");const t=new _message_handler.MessageHandler(K,_,v.port),u=new WorkerTransport(t,et,S,rt);et._transport=u,t.send("Ready",null)})}).catch(et._capability.reject),et}async function _fetchDocument(It,et,dt,rt){if(It.destroyed)throw new Error("Worker was destroyed");dt&&(et.length=dt.length,et.initialData=dt.initialData,et.progressiveDone=dt.progressiveDone,et.contentDispositionFilename=dt.contentDispositionFilename);const it=await It.messageHandler.sendWithPromise("GetDocRequest",{docId:rt,apiVersion:"2.16.105",source:{data:et.data,url:et.url,password:et.password,disableAutoFetch:et.disableAutoFetch,rangeChunkSize:et.rangeChunkSize,length:et.length},maxImageSize:et.maxImageSize,disableFontFace:et.disableFontFace,docBaseUrl:et.docBaseUrl,ignoreErrors:et.ignoreErrors,isEvalSupported:et.isEvalSupported,fontExtraProperties:et.fontExtraProperties,enableXfa:et.enableXfa,useSystemFonts:et.useSystemFonts,cMapUrl:et.useWorkerFetch?et.cMapUrl:null,standardFontDataUrl:et.useWorkerFetch?et.standardFontDataUrl:null});if(et.data&&(et.data=null),It.destroyed)throw new Error("Worker was destroyed");return it}class PDFDocumentLoadingTask{static#t=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#t++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0,await(this._transport?.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(et,dt,rt=!1,it=null){this.length=et,this.initialData=dt,this.progressiveDone=rt,this.contentDispositionFilename=it,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(et){this._rangeListeners.push(et)}addProgressListener(et){this._progressListeners.push(et)}addProgressiveReadListener(et){this._progressiveReadListeners.push(et)}addProgressiveDoneListener(et){this._progressiveDoneListeners.push(et)}onDataRange(et,dt){for(const rt of this._rangeListeners)rt(et,dt)}onDataProgress(et,dt){this._readyCapability.promise.then(()=>{for(const rt of this._progressListeners)rt(et,dt)})}onDataProgressiveRead(et){this._readyCapability.promise.then(()=>{for(const dt of this._progressiveReadListeners)dt(et)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const et of this._progressiveDoneListeners)et()})}transportReady(){this._readyCapability.resolve()}requestDataRange(et,dt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(et,dt){this._pdfInfo=et,this._transport=dt,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(et){return this._transport.getPage(et)}getPageIndex(et){return this._transport.getPageIndex(et)}getDestinations(){return this._transport.getDestinations()}getDestination(et){return this._transport.getDestination(et)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(et=!1){return this._transport.startCleanup(et||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(et,dt,rt,it,v=!1){this._pageIndex=et,this._pageInfo=dt,this._ownerDocument=it,this._transport=rt,this._stats=v?new _display_utils.StatTimer:null,this._pdfBug=v,this.commonObjs=rt.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:et,rotation:dt=this.rotate,offsetX:rt=0,offsetY:it=0,dontFlip:v=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:et,rotation:dt,offsetX:rt,offsetY:it,dontFlip:v})}getAnnotations({intent:et="display"}={}){const dt=this._transport.getRenderingIntent(et);let rt=this._annotationPromises.get(dt.cacheKey);return rt||(rt=this._transport.getAnnotations(this._pageIndex,dt.renderingIntent),this._annotationPromises.set(dt.cacheKey,rt),rt=rt.then(it=>{for(const v of it)void 0!==v.titleObj&&Object.defineProperty(v,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),v.titleObj.str)}),void 0!==v.contentsObj&&Object.defineProperty(v,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),v.contentsObj.str)});return it})),rt}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:et,viewport:dt,intent:rt="display",annotationMode:it=_util.AnnotationMode.ENABLE,transform:v=null,imageLayer:K=null,canvasFactory:e=null,background:d=null,optionalContentConfigPromise:_=null,annotationCanvasMap:S=null,pageColors:t=null,printAnnotationStorage:u=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&it===_util.AnnotationMode.ENABLE&&(it=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&it===_util.AnnotationMode.ENABLE&&(it=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const I=this._transport.getRenderingIntent(rt,it,u);this.pendingCleanup=!1,_||(_=this._transport.getOptionalContentConfig());let w=this._intentStates.get(I.cacheKey);w||(w=Object.create(null),this._intentStates.set(I.cacheKey,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const k=e||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),s=!!(I.renderingIntent&_util.RenderingIntentFlag.PRINT);w.displayReadyCapability||(w.displayReadyCapability=(0,_util.createPromiseCapability)(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(I));const i=l=>{w.renderTasks.delete(a),(this.cleanupAfterRender||s)&&(this.pendingCleanup=!0),this._tryCleanup(),l?(a.capability.reject(l),this._abortOperatorList({intentState:w,reason:l instanceof Error?l:new Error(l)})):a.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},a=new InternalRenderTask({callback:i,params:{canvasContext:et,viewport:dt,transform:v,imageLayer:K,background:d},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:S,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:k,useRequestAnimationFrame:!s,pdfBug:this._pdfBug,pageColors:t});(w.renderTasks||=new Set).add(a);const f=a.task;return Promise.all([w.displayReadyCapability.promise,_]).then(([l,n])=>{this.pendingCleanup?i():(this._stats&&this._stats.time("Rendering"),a.initializeGraphics({transparency:l,optionalContentConfig:n}),a.operatorListChanged())}).catch(i),f}getOperatorList({intent:et="display",annotationMode:dt=_util.AnnotationMode.ENABLE,printAnnotationStorage:rt=null}={}){const it=this._transport.getRenderingIntent(et,dt,rt,!0);let v,K=this._intentStates.get(it.cacheKey);return K||(K=Object.create(null),this._intentStates.set(it.cacheKey,K)),K.opListReadCapability||(v=Object.create(null),v.operatorListChanged=function(){K.operatorList.lastChunk&&(K.opListReadCapability.resolve(K.operatorList),K.renderTasks.delete(v))},K.opListReadCapability=(0,_util.createPromiseCapability)(),(K.renderTasks||=new Set).add(v),K.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(it)),K.opListReadCapability.promise}streamTextContent({disableCombineTextItems:et=!1,includeMarkedContent:dt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==et,includeMarkedContent:!0===dt},{highWaterMark:100,size:rt=>rt.items.length})}getTextContent(et={}){if(this._transport._htmlForXfa)return this.getXfa().then(rt=>_xfa_text.XfaText.textContent(rt));const dt=this.streamTextContent(et);return new Promise(function(rt,it){const v=dt.getReader(),K={items:[],styles:Object.create(null)};!function e(){v.read().then(function({value:d,done:_}){_?rt(K):(Object.assign(K.styles,d.styles),K.items.push(...d.items),e())},it)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const et=[];for(const dt of this._intentStates.values())if(this._abortOperatorList({intentState:dt,reason:new Error("Page was destroyed."),force:!0}),!dt.opListReadCapability)for(const rt of dt.renderTasks)et.push(rt.completed),rt.cancel();this.objs.clear();for(const dt of this._bitmaps)dt.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(et)}cleanup(et=!1){return this.pendingCleanup=!0,this._tryCleanup(et)}_tryCleanup(et=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:dt,operatorList:rt}of this._intentStates.values())if(dt.size>0||!rt.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,et&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const dt of this._bitmaps)dt.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(et,dt){const rt=this._intentStates.get(dt);rt&&(this._stats&&this._stats.timeEnd("Page Request"),rt.displayReadyCapability&&rt.displayReadyCapability.resolve(et))}_renderPageChunk(et,dt){for(let rt=0,it=et.length;rt<it;rt++)dt.operatorList.fnArray.push(et.fnArray[rt]),dt.operatorList.argsArray.push(et.argsArray[rt]);dt.operatorList.lastChunk=et.lastChunk,dt.operatorList.separateAnnots=et.separateAnnots;for(const rt of dt.renderTasks)rt.operatorListChanged();et.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:et,cacheKey:dt,annotationStorageMap:rt}){const it=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:et,cacheKey:dt,annotationStorage:rt}).getReader(),v=this._intentStates.get(dt);v.streamReader=it;const K=()=>{it.read().then(({value:e,done:d})=>{d?v.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,v),K())},e=>{if(v.streamReader=null,!this._transport.destroyed){if(v.operatorList){v.operatorList.lastChunk=!0;for(const d of v.renderTasks)d.operatorListChanged();this._tryCleanup()}if(v.displayReadyCapability)v.displayReadyCapability.reject(e);else{if(!v.opListReadCapability)throw e;v.opListReadCapability.reject(e)}}})};K()}_abortOperatorList({intentState:et,reason:dt,force:rt=!1}){if(et.streamReader){if(!rt){if(et.renderTasks.size>0)return;if(dt instanceof _display_utils.RenderingCancelledException)return void(et.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:et,reason:dt,force:!0}),et.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(et.streamReader.cancel(new _util.AbortException(dt.message)).catch(()=>{}),et.streamReader=null,!this._transport.destroyed){for(const[it,v]of this._intentStates)if(v===et){this._intentStates.delete(it);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(et,dt){const rt={data:structuredClone(et,dt)};this._deferred.then(()=>{for(const it of this._listeners)it.call(this,rt)})}addEventListener(et,dt){this._listeners.push(dt)}removeEventListener(et,dt){const rt=this._listeners.indexOf(dt);this._listeners.splice(rt,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS&&"function"==typeof require)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const It=document?.currentScript?.src;It&&(PDFWorkerUtil.fallbackWorkerSrc=It.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(It,et){let dt;try{if(dt=new URL(It),!dt.origin||"null"===dt.origin)return!1}catch{return!1}const rt=new URL(et,dt);return dt.origin===rt.origin},PDFWorkerUtil.createCDNWrapper=function(It){return URL.createObjectURL(new Blob([`importScripts("${It}");`]))};class PDFWorker{static#e=new WeakMap;constructor({name:It=null,port:et=null,verbosity:dt=(0,_util.getVerbosityLevel)()}={}){if(et&&PDFWorker.#e.has(et))throw new Error("Cannot use more than one PDFWorker per port.");this.name=It,this.destroyed=!1,this.verbosity=dt,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,et?(PDFWorker.#e.set(et,this),this._initializeFromPort(et)):this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(It){this._port=It,this._messageHandler=new _message_handler.MessageHandler("main","worker",It),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:It}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,It)||(It=PDFWorkerUtil.createCDNWrapper(new URL(It,window.location).href));const et=new Worker(It),dt=new _message_handler.MessageHandler("main","worker",et),rt=()=>{et.removeEventListener("error",it),dt.destroy(),et.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},it=()=>{this._webWorker||rt()};et.addEventListener("error",it),dt.on("test",K=>{et.removeEventListener("error",it),this.destroyed?rt():K?(this._messageHandler=dt,this._port=et,this._webWorker=et,this._readyCapability.resolve(),dt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),dt.destroy(),et.terminate())}),dt.on("ready",K=>{if(et.removeEventListener("error",it),this.destroyed)rt();else try{v()}catch{this._setupFakeWorker()}});const v=()=>{const K=new Uint8Array;dt.send("test",K,[K.buffer])};return void v()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(It=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const et=new LoopbackPort;this._port=et;const dt="fake"+PDFWorkerUtil.fakeWorkerId++,rt=new _message_handler.MessageHandler(dt+"_worker",dt,et);It.setup(rt,et);const it=new _message_handler.MessageHandler(dt,dt+"_worker",et);this._messageHandler=it,this._readyCapability.resolve(),it.send("configure",{verbosity:this.verbosity})}).catch(It=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${It.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(It){if(!It?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#e.has(It.port)?this.#e.get(It.port):new PDFWorker(It)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&"function"==typeof require){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#t=null;#e=new Map;#n=new Map;#i=null;constructor(et,dt,rt,it){this.messageHandler=et,this.loadingTask=dt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:dt.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:it.ownerDocument,styleElement:it.styleElement}),this._params=it,it.useWorkerFetch||(this.CMapReaderFactory=new it.CMapReaderFactory({baseUrl:it.cMapUrl,isCompressed:it.cMapPacked}),this.StandardFontDataFactory=new it.StandardFontDataFactory({baseUrl:it.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=rt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#t}getRenderingIntent(et,dt=_util.AnnotationMode.ENABLE,rt=null,it=!1){let v=_util.RenderingIntentFlag.DISPLAY,K=null;switch(et){case"any":v=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":v=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${et}`)}switch(dt){case _util.AnnotationMode.DISABLE:v+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:v+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:v+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,K=(v&_util.RenderingIntentFlag.PRINT&&rt instanceof _annotation_storage.PrintAnnotationStorage?rt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${dt}`)}return it&&(v+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:v,cacheKey:`${v}_${_annotation_storage.AnnotationStorage.getHash(K)}`,annotationStorageMap:K}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const et=[];for(const rt of this.#e.values())et.push(rt._destroy());this.#e.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const dt=this.messageHandler.sendWithPromise("Terminate",null);return et.push(dt),Promise.all(et).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#i=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:et,loadingTask:dt}=this;et.on("GetReader",(rt,it)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=v=>{this._lastProgress={loaded:v.loaded,total:v.total}},it.onPull=()=>{this._fullReader.read().then(function({value:v,done:K}){K?it.close():((0,_util.assert)((0,_util.isArrayBuffer)(v),"GetReader - expected an ArrayBuffer."),it.enqueue(new Uint8Array(v),1,[v]))}).catch(v=>{it.error(v)})},it.onCancel=v=>{this._fullReader.cancel(v),it.ready.catch(K=>{if(!this.destroyed)throw K})}}),et.on("ReaderHeadersReady",rt=>{const it=(0,_util.createPromiseCapability)(),v=this._fullReader;return v.headersReady.then(()=>{(!v.isStreamingSupported||!v.isRangeSupported)&&(this._lastProgress&&dt.onProgress?.(this._lastProgress),v.onProgress=K=>{dt.onProgress?.({loaded:K.loaded,total:K.total})}),it.resolve({isStreamingSupported:v.isStreamingSupported,isRangeSupported:v.isRangeSupported,contentLength:v.contentLength})},it.reject),it.promise}),et.on("GetRangeReader",(rt,it)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const v=this._networkStream.getRangeReader(rt.begin,rt.end);v?(it.onPull=()=>{v.read().then(function({value:K,done:e}){e?it.close():((0,_util.assert)((0,_util.isArrayBuffer)(K),"GetRangeReader - expected an ArrayBuffer."),it.enqueue(new Uint8Array(K),1,[K]))}).catch(K=>{it.error(K)})},it.onCancel=K=>{v.cancel(K),it.ready.catch(e=>{if(!this.destroyed)throw e})}):it.close()}),et.on("GetDoc",({pdfInfo:rt})=>{this._numPages=rt.numPages,this._htmlForXfa=rt.htmlForXfa,delete rt.htmlForXfa,dt._capability.resolve(new PDFDocumentProxy(rt,this))}),et.on("DocException",function(rt){let it;switch(rt.name){case"PasswordException":it=new _util.PasswordException(rt.message,rt.code);break;case"InvalidPDFException":it=new _util.InvalidPDFException(rt.message);break;case"MissingPDFException":it=new _util.MissingPDFException(rt.message);break;case"UnexpectedResponseException":it=new _util.UnexpectedResponseException(rt.message,rt.status);break;case"UnknownErrorException":it=new _util.UnknownErrorException(rt.message,rt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}dt._capability.reject(it)}),et.on("PasswordRequest",rt=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),dt.onPassword){const it=v=>{v instanceof Error?this._passwordCapability.reject(v):this._passwordCapability.resolve({password:v})};try{dt.onPassword(it,rt.code)}catch(v){this._passwordCapability.reject(v)}}else this._passwordCapability.reject(new _util.PasswordException(rt.message,rt.code));return this._passwordCapability.promise}),et.on("DataLoaded",rt=>{dt.onProgress?.({loaded:rt.length,total:rt.length}),this.downloadInfoCapability.resolve(rt)}),et.on("StartRenderPage",rt=>{this.destroyed||this.#e.get(rt.pageIndex)._startRenderPage(rt.transparency,rt.cacheKey)}),et.on("commonobj",([rt,it,v])=>{if(!this.destroyed&&!this.commonObjs.has(rt))switch(it){case"Font":const K=this._params;if("error"in v){const _=v.error;(0,_util.warn)(`Error during font loading: ${_}`),this.commonObjs.resolve(rt,_);break}let e=null;K.pdfBug&&globalThis.FontInspector?.enabled&&(e={registerFont(_,S){globalThis.FontInspector.fontAdded(_,S)}});const d=new _font_loader.FontFaceObject(v,{isEvalSupported:K.isEvalSupported,disableFontFace:K.disableFontFace,ignoreErrors:K.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:e});this.fontLoader.bind(d).catch(_=>et.sendWithPromise("FontFallback",{id:rt})).finally(()=>{!K.fontExtraProperties&&d.data&&(d.data=null),this.commonObjs.resolve(rt,d)});break;case"FontPath":case"Image":this.commonObjs.resolve(rt,v);break;default:throw new Error(`Got unknown common object type ${it}`)}}),et.on("obj",([rt,it,v,K])=>{if(this.destroyed)return;const e=this.#e.get(it);if(!e.objs.has(rt))switch(v){case"Image":e.objs.resolve(rt,K);const d=8e6;if(K){let _;if(K.bitmap){const{bitmap:S,width:t,height:u}=K;_=t*u*4,e._bitmaps.add(S)}else _=K.data?.length||0;_>d&&(e.cleanupAfterRender=!0)}break;case"Pattern":e.objs.resolve(rt,K);break;default:throw new Error(`Got unknown object type ${v}`)}}),et.on("DocProgress",rt=>{this.destroyed||dt.onProgress?.({loaded:rt.loaded,total:rt.total})}),et.on("DocStats",rt=>{this.destroyed||(this.#t=Object.freeze({streamTypes:Object.freeze(rt.streamTypes),fontTypes:Object.freeze(rt.fontTypes)}))}),et.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),et.on("FetchBuiltInCMap",rt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(rt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),et.on("FetchStandardFontData",rt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(rt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:et}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(et)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(et){if(!Number.isInteger(et)||et<=0||et>this._numPages)return Promise.reject(new Error("Invalid page request."));const dt=et-1,rt=this.#n.get(dt);if(rt)return rt;const it=this.messageHandler.sendWithPromise("GetPage",{pageIndex:dt}).then(v=>{if(this.destroyed)throw new Error("Transport destroyed");const K=new PDFPageProxy(dt,v,this,this._params.ownerDocument,this._params.pdfBug);return this.#e.set(dt,K),K});return this.#n.set(dt,it),it}getPageIndex(et){return"object"!=typeof et||null===et||!Number.isInteger(et.num)||et.num<0||!Number.isInteger(et.gen)||et.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:et.num,gen:et.gen})}getAnnotations(et,dt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:et,intent:dt})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(et){return"string"!=typeof et?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:et})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(et){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:et})}getStructTree(et){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:et})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(et=>new _optional_content_config.OptionalContentConfig(et))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#i||=this.messageHandler.sendWithPromise("GetMetadata",null).then(et=>({info:et[0],metadata:et[1]?new _metadata.Metadata(et[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(et=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const dt of this.#e.values())if(!dt.cleanup())throw new Error(`startCleanup: Page ${dt.pageNumber} is currently rendering.`);this.commonObjs.clear(),et||this.fontLoader.clear(),this.#i=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const et=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:et.disableAutoFetch,enableXfa:et.enableXfa})}}class PDFObjects{#t=Object.create(null);#e(et){return this.#t[et]||(this.#t[et]={capability:(0,_util.createPromiseCapability)(),data:null})}get(et,dt=null){if(dt){const it=this.#e(et);return it.capability.promise.then(()=>dt(it.data)),null}const rt=this.#t[et];if(!rt?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${et}.`);return rt.data}has(et){return this.#t[et]?.capability.settled||!1}resolve(et,dt=null){const rt=this.#e(et);rt.data=dt,rt.capability.resolve()}clear(){this.#t=Object.create(null)}}class RenderTask{#t=null;constructor(et){this.#t=et,this.onContinue=null}get promise(){return this.#t.capability.promise}cancel(){this.#t.cancel()}get separateAnnots(){const{separateAnnots:et}=this.#t.operatorList;if(!et)return!1;const{annotationCanvasMap:dt}=this.#t;return et.form||et.canvas&&dt?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#t=new WeakSet;constructor({callback:et,params:dt,objs:rt,commonObjs:it,annotationCanvasMap:v,operatorList:K,pageIndex:e,canvasFactory:d,useRequestAnimationFrame:_=!1,pdfBug:S=!1,pageColors:t=null}){this.callback=et,this.params=dt,this.objs=rt,this.commonObjs=it,this.annotationCanvasMap=v,this.operatorListIdx=null,this.operatorList=K,this._pageIndex=e,this.canvasFactory=d,this._pdfBug=S,this.pageColors=t,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===_&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=dt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:et=!1,optionalContentConfig:dt}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:rt,viewport:it,transform:v,imageLayer:K,background:e}=this.params;this.gfx=new _canvas.CanvasGraphics(rt,this.commonObjs,this.objs,this.canvasFactory,K,dt,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:v,viewport:it,transparency:et,background:e}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(et=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#t.delete(this._canvas),this.callback(et||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#t.delete(this._canvas),this.callback())))}}const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.PrintAnnotationStorage=et.AnnotationStorage=void 0;var rt=dt(1),it=dt(6),v=dt(10);class K{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(_,S){const t=this._storage.get(_);return void 0===t?S:Object.assign(S,t)}getRawValue(_){return this._storage.get(_)}remove(_){if(this._storage.delete(_),0===this._storage.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const S of this._storage.values())if(S instanceof it.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(_,S){const t=this._storage.get(_);let u=!1;if(void 0!==t)for(const[I,w]of Object.entries(S))t[I]!==w&&(u=!0,t[I]=w);else u=!0,this._storage.set(_,S);u&&this.#t(),S instanceof it.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(S.constructor._type)}has(_){return this._storage.has(_)}getAll(){return this._storage.size>0?(0,rt.objectFromMap)(this._storage):null}get size(){return this._storage.size}#t(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new e(this)}get serializable(){if(0===this._storage.size)return null;const _=new Map;for(const[S,t]of this._storage){const u=t instanceof it.AnnotationEditor?t.serialize():t;u&&_.set(S,u)}return _}static getHash(_){if(!_)return"";const S=new v.MurmurHash3_64;for(const[t,u]of _)S.update(`${t}:${JSON.stringify(u)}`);return S.hexdigest()}}et.AnnotationStorage=K;class e extends K{#t=null;constructor(_){super(),this.#t=structuredClone(_.serializable)}get print(){(0,rt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}}et.PrintAnnotationStorage=e},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.AnnotationEditor=void 0;var rt=dt(7),it=dt(1);class v{#t=this.focusin.bind(this);#e=this.focusout.bind(this);#n=!1;#i=!1;#a=!1;#h=v._zIndex++;static _colorManager=new rt.ColorManager;static _zIndex=1;constructor(e){this.constructor===v&&(0,it.unreachable)("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null;const[d,_]=this.parent.viewportBaseDimensions;this.x=e.x/d,this.y=e.y/_,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,it.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#h}focusin(e){this.#n?this.#n=!1:this.parent.setSelected(this)}focusout(e){this.isAttachedToDOM&&(e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove()))}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(e){const d=this.parent.div.getBoundingClientRect();this.startX=e.clientX-d.x,this.startY=e.clientY-d.y,e.dataTransfer.setData("text/plain",this.id),e.dataTransfer.effectAllowed="move"}setAt(e,d,_,S){const[t,u]=this.parent.viewportBaseDimensions;[_,S]=this.screenToPageTranslation(_,S),this.x=(e+_)/t,this.y=(d+S)/u,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(e,d){const[_,S]=this.parent.viewportBaseDimensions;[e,d]=this.screenToPageTranslation(e,d),this.x+=e/_,this.y+=d/S,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(e,d){const{rotation:_}=this.parent.viewport;switch(_){case 90:return[d,-e];case 180:return[-e,-d];case 270:return[-d,e];default:return[e,d]}}setDims(e,d){const[_,S]=this.parent.viewportBaseDimensions;this.div.style.width=100*e/_+"%",this.div.style.height=100*d/S+"%"}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#t),this.div.addEventListener("focusout",this.#e);const[e,d]=this.getInitialTranslation();return this.translate(e,d),(0,rt.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(e){const d=rt.KeyboardManager.platform.isMac;0!==e.button||e.ctrlKey&&d?e.preventDefault():(e.ctrlKey&&!d||e.shiftKey||e.metaKey&&d?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#n=!0)}getRect(e,d){const[_,S]=this.parent.viewportBaseDimensions,[t,u]=this.parent.pageDimensions,I=t*e/_,w=u*d/S,k=this.x*t,s=this.y*u,i=this.width*t,a=this.height*u;switch(this.rotation){case 0:return[k+I,u-s-w-a,k+I+i,u-s-w];case 90:return[k+w,u-s+I,k+w+a,u-s+I+i];case 180:return[k-I-i,u-s+w,k-I,u-s+w+a];case 270:return[k-w-a,u-s-I-i,k-w,u-s-I];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,d){const[_,S,t,u]=e,I=t-_,w=u-S;switch(this.rotation){case 0:return[_,d-u,I,w];case 90:return[_,d-S,w,I];case 180:return[t,d-S,I,w];case 270:return[t,d-u,w,I];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#a=!0}disableEditMode(){this.#a=!1}isInEditMode(){return this.#a}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#t)}serialize(){(0,it.unreachable)("An editor must be serializable")}static deserialize(e,d){const _=new this.prototype.constructor({parent:d,id:d.getNextId()});_.rotation=e.rotation;const[S,t]=d.pageDimensions,[u,I,w,k]=_.getRectInCurrentCoords(e.rect,t);return _.x=u/S,_.y=I/t,_.width=w/S,_.height=k/t,_}remove(){this.div.removeEventListener("focusin",this.#t),this.div.removeEventListener("focusout",this.#e),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(e,d){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#i}set isEditing(e){this.#i=e,e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}et.AnnotationEditor=v},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.KeyboardManager=et.CommandManager=et.ColorManager=et.AnnotationEditorUIManager=void 0,et.bindEvents=function(u,I,w){for(const k of w)I.addEventListener(k,u[k].bind(u))},et.opacityToHex=function(u){return Math.round(Math.min(255,Math.max(1,255*u))).toString(16).padStart(2,"0")};var rt=dt(1),it=dt(8);class v{#t=0;getId(){return`${rt.AnnotationEditorPrefix}${this.#t++}`}}class K{#t=[];#e=!1;#n;#i=-1;constructor(u=128){this.#n=u}add({cmd:u,undo:I,mustExec:w,type:k=NaN,overwriteIfSameType:s=!1,keepUndo:i=!1}){if(w&&u(),this.#e)return;const a={cmd:u,undo:I,type:k};if(-1===this.#i)return this.#t.length>0&&(this.#t.length=0),this.#i=0,void this.#t.push(a);if(s&&this.#t[this.#i].type===k)return i&&(a.undo=this.#t[this.#i].undo),void(this.#t[this.#i]=a);const f=this.#i+1;f===this.#n?this.#t.splice(0,1):(this.#i=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(a)}undo(){-1!==this.#i&&(this.#e=!0,this.#t[this.#i].undo(),this.#e=!1,this.#i-=1)}redo(){this.#i<this.#t.length-1&&(this.#i+=1,this.#e=!0,this.#t[this.#i].cmd(),this.#e=!1)}hasSomethingToUndo(){return-1!==this.#i}hasSomethingToRedo(){return this.#i<this.#t.length-1}destroy(){this.#t=null}}et.CommandManager=K;class e{constructor(u){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const I=e.platform.isMac;for(const[w,k]of u)for(const s of w){const i=s.startsWith("mac+");I&&i?(this.callbacks.set(s.slice(4),k),this.allKeys.add(s.split("+").at(-1))):!I&&!i&&(this.callbacks.set(s,k),this.allKeys.add(s.split("+").at(-1)))}}static get platform(){const u=typeof navigator<"u"?navigator.platform:"";return(0,rt.shadow)(this,"platform",{isWin:u.includes("Win"),isMac:u.includes("Mac")})}#t(u){u.altKey&&this.buffer.push("alt"),u.ctrlKey&&this.buffer.push("ctrl"),u.metaKey&&this.buffer.push("meta"),u.shiftKey&&this.buffer.push("shift"),this.buffer.push(u.key);const I=this.buffer.join("+");return this.buffer.length=0,I}exec(u,I){if(!this.allKeys.has(I.key))return;const w=this.callbacks.get(this.#t(I));w&&(w.bind(u)(),I.stopPropagation(),I.preventDefault())}}et.KeyboardManager=e;class d{#t=null;copy(u){u&&(Array.isArray(u)?this.#t=u.map(I=>I.serialize()):this.#t=[u.serialize()],this.#t=this.#t.filter(I=>!!I),0===this.#t.length&&(this.#t=null))}paste(){return this.#t}isEmpty(){return null===this.#t}destroy(){this.#t=null}}class _{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const u=new Map([["CanvasText",null],["Canvas",null]]);return(0,it.getColorValues)(u),(0,rt.shadow)(this,"_colors",u)}convert(u){const I=(0,it.getRGB)(u);if(!window.matchMedia("(forced-colors: active)").matches)return I;for(const[w,k]of this._colors)if(k.every((s,i)=>s===I[i]))return _._colorsMapping.get(w);return I}getHexCode(u){const I=this._colors.get(u);return I?rt.Util.makeHexColor(...I):u}}et.ColorManager=_;class S{#t=null;#e=new Map;#n=new Map;#i=new d;#a=new K;#h=0;#o=null;#r=null;#d=new v;#c=!1;#l=rt.AnnotationEditorType.NONE;#s=new Set;#m=this.keydown.bind(this);#p=this.onEditingAction.bind(this);#k=this.onPageChanging.bind(this);#C={isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#y=null;static _keyboardManager=new e([[["ctrl+a","mac+meta+a"],S.prototype.selectAll],[["ctrl+c","mac+meta+c"],S.prototype.copy],[["ctrl+v","mac+meta+v"],S.prototype.paste],[["ctrl+x","mac+meta+x"],S.prototype.cut],[["ctrl+z","mac+meta+z"],S.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],S.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],S.prototype.delete],[["Escape","mac+Escape"],S.prototype.unselectAll]]);constructor(u,I){this.#y=u,this.#r=I,this.#r._on("editingaction",this.#p),this.#r._on("pagechanging",this.#k)}destroy(){this.#S(),this.#r._off("editingaction",this.#p),this.#r._off("pagechanging",this.#k);for(const u of this.#n.values())u.destroy();this.#n.clear(),this.#e.clear(),this.#t=null,this.#s.clear(),this.#i.destroy(),this.#a.destroy()}onPageChanging({pageNumber:u}){this.#h=u-1}focusMainContainer(){this.#y.focus()}#F(){this.#y.addEventListener("keydown",this.#m)}#S(){this.#y.removeEventListener("keydown",this.#m)}keydown(u){this.getActive()?.shouldGetKeyboardEvents()||S._keyboardManager.exec(this,u)}onEditingAction(u){["undo","redo","cut","copy","paste","delete","selectAll"].includes(u.name)&&this[u.name]()}#u(u){Object.entries(u).some(([I,w])=>this.#C[I]!==w)&&this.#r.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#C,u)})}#w(u){this.#r.dispatch("annotationeditorparamschanged",{source:this,details:u})}setEditingState(u){u?(this.#F(),this.#u({isEditing:this.#l!==rt.AnnotationEditorType.NONE,isEmpty:this.#g(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:this.#i.isEmpty()})):(this.#S(),this.#u({isEditing:!1}))}registerEditorTypes(u){this.#o=u;for(const I of this.#o)this.#w(I.defaultPropertiesToUpdate)}getId(){return this.#d.getId()}addLayer(u){this.#n.set(u.pageIndex,u),this.#c?u.enable():u.disable()}removeLayer(u){this.#n.delete(u.pageIndex)}updateMode(u){if(this.#l=u,u===rt.AnnotationEditorType.NONE)this.setEditingState(!1),this.#f();else{this.setEditingState(!0),this.#T();for(const I of this.#n.values())I.updateMode(u)}}updateToolbar(u){u!==this.#l&&this.#r.dispatch("switchannotationeditormode",{source:this,mode:u})}updateParams(u,I){for(const w of this.#s)w.updateParams(u,I);for(const w of this.#o)w.updateDefaultParams(u,I)}#T(){if(!this.#c){this.#c=!0;for(const u of this.#n.values())u.enable()}}#f(){if(this.unselectAll(),this.#c){this.#c=!1;for(const u of this.#n.values())u.disable()}}getEditors(u){const I=[];for(const w of this.#e.values())w.pageIndex===u&&I.push(w);return I}getEditor(u){return this.#e.get(u)}addEditor(u){this.#e.set(u.id,u)}removeEditor(u){this.#e.delete(u.id),this.unselect(u)}#x(u){const I=this.#n.get(u.pageIndex);I?I.addOrRebuild(u):this.addEditor(u)}setActiveEditor(u){this.#t!==u&&(this.#t=u,u&&this.#w(u.propertiesToUpdate))}toggleSelected(u){this.#s.has(u)?(this.#s.delete(u),u.unselect(),this.#u({hasSelectedEditor:this.hasSelection})):(this.#s.add(u),u.select(),this.#w(u.propertiesToUpdate),this.#u({hasSelectedEditor:!0}))}setSelected(u){for(const I of this.#s)I!==u&&I.unselect();this.#s.clear(),this.#s.add(u),u.select(),this.#w(u.propertiesToUpdate),this.#u({hasSelectedEditor:!0})}isSelected(u){return this.#s.has(u)}unselect(u){u.unselect(),this.#s.delete(u),this.#u({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#s.size}undo(){this.#a.undo(),this.#u({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#g()})}redo(){this.#a.redo(),this.#u({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#g()})}addCommands(u){this.#a.add(u),this.#u({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#g()})}#g(){if(0===this.#e.size)return!0;if(1===this.#e.size)for(const u of this.#e.values())return u.isEmpty();return!1}delete(){if(this.#t&&this.#t.commitOrRemove(),!this.hasSelection)return;const u=[...this.#s];this.addCommands({cmd:()=>{for(const I of u)I.remove()},undo:()=>{for(const I of u)this.#x(I)},mustExec:!0})}copy(){if(this.#t&&this.#t.commitOrRemove(),this.hasSelection){const u=[];for(const I of this.#s)I.isEmpty()||u.push(I);if(0===u.length)return;this.#i.copy(u),this.#u({hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(this.#i.isEmpty())return;this.unselectAll();const u=this.#n.get(this.#h),I=this.#i.paste().map(w=>u.deserialize(w));this.addCommands({cmd:()=>{for(const w of I)this.#x(w);this.#b(I)},undo:()=>{for(const w of I)w.remove()},mustExec:!0})}#b(u){this.#s.clear();for(const I of u)I.isEmpty()||(this.#s.add(I),I.select());this.#u({hasSelectedEditor:!0})}selectAll(){for(const u of this.#s)u.commit();this.#b(this.#e.values())}unselectAll(){if(this.#t)this.#t.commitOrRemove();else if(0!==this.#b.size){for(const u of this.#s)u.unselect();this.#s.clear(),this.#u({hasSelectedEditor:!1})}}isActive(u){return this.#t===u}getActive(){return this.#t}getMode(){return this.#l}}et.AnnotationEditorUIManager=S},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.StatTimer=et.RenderingCancelledException=et.PixelsPerInch=et.PageViewport=et.PDFDateString=et.DOMStandardFontDataFactory=et.DOMSVGFactory=et.DOMCanvasFactory=et.DOMCMapReaderFactory=et.AnnotationPrefix=void 0,et.deprecated=function(a){console.log("Deprecated API usage: "+a)},et.getColorValues=function(a){const f=document.createElement("span");f.style.visibility="hidden",document.body.append(f);for(const l of a.keys()){f.style.color=l;const n=window.getComputedStyle(f).color;a.set(l,s(n))}f.remove()},et.getCurrentTransform=function(a){const{a:f,b:l,c:n,d:o,e:D,f:m}=a.getTransform();return[f,l,n,o,D,m]},et.getCurrentTransformInverse=function(a){const{a:f,b:l,c:n,d:o,e:D,f:m}=a.getTransform().invertSelf();return[f,l,n,o,D,m]},et.getFilenameFromUrl=function(a){const f=a.indexOf("#"),l=a.indexOf("?"),n=Math.min(f>0?f:a.length,l>0?l:a.length);return a.substring(a.lastIndexOf("/",n)+1,n)},et.getPdfFilenameFromUrl=function(a,f="document.pdf"){if("string"!=typeof a)return f;if(I(a))return(0,it.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),f;const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(a);let o=l.exec(n[1])||l.exec(n[2])||l.exec(n[3]);if(o&&(o=o[0],o.includes("%")))try{o=l.exec(decodeURIComponent(o))[0]}catch{}return o||f},et.getRGB=s,et.getXfaPageViewport=function(a,{scale:f=1,rotation:l=0}){const{width:n,height:o}=a.attributes.style,D=[0,0,parseInt(n),parseInt(o)];return new t({viewBox:D,scale:f,rotation:l})},et.isDataScheme=I,et.isPdfFile=function(a){return"string"==typeof a&&/\.pdf$/i.test(a)},et.isValidFetchUrl=w,et.loadScript=function(a,f=!1){return new Promise((l,n)=>{const o=document.createElement("script");o.src=a,o.onload=function(D){f&&o.remove(),l(D)},o.onerror=function(){n(new Error(`Cannot load script at: ${o.src}`))},(document.head||document.documentElement).append(o)})};var rt=dt(9),it=dt(1);async function e(i,a=!1){if(w(i,document.baseURI)){const f=await fetch(i);if(!f.ok)throw new Error(f.statusText);return a?new Uint8Array(await f.arrayBuffer()):(0,it.stringToBytes)(await f.text())}return new Promise((f,l)=>{const n=new XMLHttpRequest;n.open("GET",i,!0),a&&(n.responseType="arraybuffer"),n.onreadystatechange=()=>{if(n.readyState===XMLHttpRequest.DONE){if(200===n.status||0===n.status){let o;if(a&&n.response?o=new Uint8Array(n.response):!a&&n.responseText&&(o=(0,it.stringToBytes)(n.responseText)),o)return void f(o)}l(new Error(n.statusText))}},n.send(null)})}et.AnnotationPrefix="pdfjs_internal_id_",et.PixelsPerInch=class v{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF},et.DOMCanvasFactory=class K extends rt.BaseCanvasFactory{constructor({ownerDocument:a=globalThis.document}={}){super(),this._document=a}_createCanvas(a,f){const l=this._document.createElement("canvas");return l.width=a,l.height=f,l}},et.DOMCMapReaderFactory=class d extends rt.BaseCMapReaderFactory{_fetchData(a,f){return e(a,this.isCompressed).then(l=>({cMapData:l,compressionType:f}))}},et.DOMStandardFontDataFactory=class _ extends rt.BaseStandardFontDataFactory{_fetchData(a){return e(a,!0)}},et.DOMSVGFactory=class S extends rt.BaseSVGFactory{_createSVG(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}};class t{constructor({viewBox:a,scale:f,rotation:l,offsetX:n=0,offsetY:o=0,dontFlip:D=!1}){this.viewBox=a,this.scale=f,this.rotation=l,this.offsetX=n,this.offsetY=o;const m=(a[2]+a[0])/2,O=(a[3]+a[1])/2;let B,h,y,g,r,c,P,T;switch((l%=360)<0&&(l+=360),l){case 180:B=-1,h=0,y=0,g=1;break;case 90:B=0,h=1,y=1,g=0;break;case 270:B=0,h=-1,y=-1,g=0;break;case 0:B=1,h=0,y=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}D&&(y=-y,g=-g),0===B?(r=Math.abs(O-a[1])*f+n,c=Math.abs(m-a[0])*f+o,P=Math.abs(a[3]-a[1])*f,T=Math.abs(a[2]-a[0])*f):(r=Math.abs(m-a[0])*f+n,c=Math.abs(O-a[1])*f+o,P=Math.abs(a[2]-a[0])*f,T=Math.abs(a[3]-a[1])*f),this.transform=[B*f,h*f,y*f,g*f,r-B*f*m-y*f*O,c-h*f*m-g*f*O],this.width=P,this.height=T}clone({scale:a=this.scale,rotation:f=this.rotation,offsetX:l=this.offsetX,offsetY:n=this.offsetY,dontFlip:o=!1}={}){return new t({viewBox:this.viewBox.slice(),scale:a,rotation:f,offsetX:l,offsetY:n,dontFlip:o})}convertToViewportPoint(a,f){return it.Util.applyTransform([a,f],this.transform)}convertToViewportRectangle(a){const f=it.Util.applyTransform([a[0],a[1]],this.transform),l=it.Util.applyTransform([a[2],a[3]],this.transform);return[f[0],f[1],l[0],l[1]]}convertToPdfPoint(a,f){return it.Util.applyInverseTransform([a,f],this.transform)}}function I(i){const a=i.length;let f=0;for(;f<a&&""===i[f].trim();)f++;return"data:"===i.substring(f,f+5).toLowerCase()}function w(i,a){try{const{protocol:f}=a?new URL(i,a):new URL(i);return"http:"===f||"https:"===f}catch{return!1}}let k;function s(i){if(i.startsWith("#")){const a=parseInt(i.slice(1),16);return[(16711680&a)>>16,(65280&a)>>8,255&a]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(a=>parseInt(a)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(a=>parseInt(a)).slice(0,3):((0,it.warn)(`Not a valid color format: "${i}"`),[0,0,0])}et.PageViewport=t,et.RenderingCancelledException=class u extends it.BaseException{constructor(a,f){super(a,"RenderingCancelledException"),this.type=f}},et.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(a){a in this.started&&(0,it.warn)(`Timer is already running for ${a}`),this.started[a]=Date.now()}timeEnd(a){a in this.started||(0,it.warn)(`Timer has not been started for ${a}`),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a]}toString(){const a=[];let f=0;for(const l of this.times){const n=l.name;n.length>f&&(f=n.length)}for(const l of this.times){const n=l.end-l.start;a.push(`${l.name.padEnd(f)} ${n}ms\n`)}return a.join("")}},et.PDFDateString=class{static toDateObject(a){if(!a||"string"!=typeof a)return null;k||(k=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const f=k.exec(a);if(!f)return null;const l=parseInt(f[1],10);let n=parseInt(f[2],10);n=n>=1&&n<=12?n-1:0;let o=parseInt(f[3],10);o=o>=1&&o<=31?o:1;let D=parseInt(f[4],10);D=D>=0&&D<=23?D:0;let m=parseInt(f[5],10);m=m>=0&&m<=59?m:0;let O=parseInt(f[6],10);O=O>=0&&O<=59?O:0;const B=f[7]||"Z";let h=parseInt(f[8],10);h=h>=0&&h<=23?h:0;let y=parseInt(f[9],10)||0;return y=y>=0&&y<=59?y:0,"-"===B?(D+=h,m+=y):"+"===B&&(D-=h,m-=y),new Date(Date.UTC(l,n,o,D,m,O))}}},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.BaseStandardFontDataFactory=et.BaseSVGFactory=et.BaseCanvasFactory=et.BaseCMapReaderFactory=void 0;var rt=dt(1);class it{constructor(){this.constructor===it&&(0,rt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_,S){if(_<=0||S<=0)throw new Error("Invalid canvas size");const t=this._createCanvas(_,S);return{canvas:t,context:t.getContext("2d")}}reset(_,S,t){if(!_.canvas)throw new Error("Canvas is not specified");if(S<=0||t<=0)throw new Error("Invalid canvas size");_.canvas.width=S,_.canvas.height=t}destroy(_){if(!_.canvas)throw new Error("Canvas is not specified");_.canvas.width=0,_.canvas.height=0,_.canvas=null,_.context=null}_createCanvas(_,S){(0,rt.unreachable)("Abstract method `_createCanvas` called.")}}et.BaseCanvasFactory=it;class v{constructor({baseUrl:_=null,isCompressed:S=!1}){this.constructor===v&&(0,rt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_,this.isCompressed=S}async fetch({name:_}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_)throw new Error("CMap name must be specified.");const S=this.baseUrl+_+(this.isCompressed?".bcmap":"");return this._fetchData(S,this.isCompressed?rt.CMapCompressionType.BINARY:rt.CMapCompressionType.NONE).catch(u=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${S}`)})}_fetchData(_,S){(0,rt.unreachable)("Abstract method `_fetchData` called.")}}et.BaseCMapReaderFactory=v;class K{constructor({baseUrl:_=null}){this.constructor===K&&(0,rt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_}async fetch({filename:_}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_)throw new Error("Font filename must be specified.");const S=`${this.baseUrl}${_}`;return this._fetchData(S).catch(t=>{throw new Error(`Unable to load font data at: ${S}`)})}_fetchData(_){(0,rt.unreachable)("Abstract method `_fetchData` called.")}}et.BaseStandardFontDataFactory=K;class e{constructor(){this.constructor===e&&(0,rt.unreachable)("Cannot initialize BaseSVGFactory.")}create(_,S,t=!1){if(_<=0||S<=0)throw new Error("Invalid SVG dimensions");const u=this._createSVG("svg:svg");return u.setAttribute("version","1.1"),t||(u.setAttribute("width",`${_}px`),u.setAttribute("height",`${S}px`)),u.setAttribute("preserveAspectRatio","none"),u.setAttribute("viewBox",`0 0 ${_} ${S}`),u}createElement(_){if("string"!=typeof _)throw new Error("Invalid SVG element type");return this._createSVG(_)}_createSVG(_){(0,rt.unreachable)("Abstract method `_createSVG` called.")}}et.BaseSVGFactory=e},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.MurmurHash3_64=void 0;var rt=dt(1);const it=3285377520,v=4294901760,K=65535;et.MurmurHash3_64=class{constructor(d){this.h1=d?4294967295&d:it,this.h2=d?4294967295&d:it}update(d){let _,S;if("string"==typeof d){_=new Uint8Array(2*d.length),S=0;for(let o=0,D=d.length;o<D;o++){const m=d.charCodeAt(o);m<=255?_[S++]=m:(_[S++]=m>>>8,_[S++]=255&m)}}else{if(!(0,rt.isArrayBuffer)(d))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");_=d.slice(),S=_.byteLength}const t=S>>2,u=S-4*t,I=new Uint32Array(_.buffer,0,t);let w=0,k=0,s=this.h1,i=this.h2;const a=3432918353,f=461845907,l=11601,n=13715;for(let o=0;o<t;o++)1&o?(w=I[o],w=w*a&v|w*l&K,w=w<<15|w>>>17,w=w*f&v|w*n&K,s^=w,s=s<<13|s>>>19,s=5*s+3864292196):(k=I[o],k=k*a&v|k*l&K,k=k<<15|k>>>17,k=k*f&v|k*n&K,i^=k,i=i<<13|i>>>19,i=5*i+3864292196);switch(w=0,u){case 3:w^=_[4*t+2]<<16;case 2:w^=_[4*t+1]<<8;case 1:w^=_[4*t],w=w*a&v|w*l&K,w=w<<15|w>>>17,w=w*f&v|w*n&K,1&t?s^=w:i^=w}this.h1=s,this.h2=i}hexdigest(){let d=this.h1,_=this.h2;d^=_>>>1,d=3981806797*d&v|36045*d&K,_=4283543511*_&v|(2950163797*(_<<16|d>>>16)&v)>>>16,d^=_>>>1,d=444984403*d&v|60499*d&K,_=3301882366*_&v|(3120437893*(_<<16|d>>>16)&v)>>>16,d^=_>>>1;const S=(d>>>0).toString(16),t=(_>>>0).toString(16);return S.padStart(8,"0")+t.padStart(8,"0")}}},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.FontLoader=et.FontFaceObject=void 0;var rt=dt(1);class it{constructor({docId:e,onUnsupportedFeature:d,ownerDocument:_=globalThis.document,styleElement:S=null}){this.constructor===it&&(0,rt.unreachable)("Cannot initialize BaseFontLoader."),this.docId=e,this._onUnsupportedFeature=d,this._document=_,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}insertRule(e){let d=this.styleElement;d||(d=this.styleElement=this._document.createElement("style"),d.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(d));const _=d.sheet;_.insertRule(e,_.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(e){if(e.attached||e.missingFile)return;if(e.attached=!0,this.isFontLoadingAPISupported){const _=e.createNativeFontFace();if(_){this.addNativeFontFace(_);try{await _.loaded}catch(S){throw this._onUnsupportedFeature({featureId:rt.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,rt.warn)(`Failed to load font '${_.family}': '${S}'.`),e.disableFontFace=!0,S}}return}const d=e.createFontFaceRule();if(d){if(this.insertRule(d),this.isSyncFontLoadingSupported)return;await new Promise(_=>{const S=this._queueLoadingCallback(_);this._prepareFontLoadEvent([d],[e],S)})}}_queueLoadingCallback(e){(0,rt.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,rt.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,rt.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,rt.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(e,d,_){(0,rt.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let v;et.FontLoader=v,et.FontLoader=v=class extends it{constructor(e){super(e),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let e=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(e=!0),(0,rt.shadow)(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const d=this.loadingContext,_={id:"pdfjs-font-loading-"+d.nextRequestId++,done:!1,complete:function(){for((0,rt.assert)(!_.done,"completeRequest() cannot be called twice."),_.done=!0;d.requests.length>0&&d.requests[0].done;){const t=d.requests.shift();setTimeout(t.callback,0)}},callback:e};return d.requests.push(_),_}get _loadTestFont(){return(0,rt.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,d,_){function S(m,O){return m.charCodeAt(O)<<24|m.charCodeAt(O+1)<<16|m.charCodeAt(O+2)<<8|255&m.charCodeAt(O+3)}function t(m,O,B,h){return m.substring(0,O)+h+m.substring(O+B)}let u,I;const w=this._document.createElement("canvas");w.width=1,w.height=1;const k=w.getContext("2d");let s=0;const i=`lt${Date.now()}${this.loadTestFontId++}`;let a=this._loadTestFont;a=t(a,976,i.length,i);const f=1482184792;let l=S(a,16);for(u=0,I=i.length-3;u<I;u+=4)l=l-f+S(i,u)|0;u<i.length&&(l=l-f+S(i+"XXX",u)|0),a=t(a,16,4,(0,rt.string32)(l));const n=`@font-face {font-family:"${i}";src:url(data:font/opentype;base64,${btoa(a)});}`;this.insertRule(n);const o=[];for(const m of d)o.push(m.loadedName);o.push(i);const D=this._document.createElement("div");D.style.visibility="hidden",D.style.width=D.style.height="10px",D.style.position="absolute",D.style.top=D.style.left="0px";for(const m of o){const O=this._document.createElement("span");O.textContent="Hi",O.style.fontFamily=m,D.append(O)}this._document.body.append(D),function m(O,B){if(s++,s>30)return(0,rt.warn)("Load test font never loaded."),void B();k.font="30px "+O,k.fillText(".",0,20),k.getImageData(0,0,1,1).data[3]>0?B():setTimeout(m.bind(null,O,B))}(i,()=>{D.remove(),_.complete()})}},et.FontFaceObject=class{constructor(e,{isEvalSupported:d=!0,disableFontFace:_=!1,ignoreErrors:S=!1,onUnsupportedFeature:t,fontRegistry:u=null}){this.compiledGlyphs=Object.create(null);for(const I in e)this[I]=e[I];this.isEvalSupported=!1!==d,this.disableFontFace=!0===_,this.ignoreErrors=!0===S,this._onUnsupportedFeature=t,this.fontRegistry=u}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const d={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(d.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,d)}else e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=(0,rt.bytesToString)(this.data),d=`url(data:${this.mimetype};base64,${btoa(e)});`;let _;if(this.cssFontInfo){let S=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(S+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),_=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${S}src:${d}}`}else _=`@font-face {font-family:"${this.loadedName}";src:${d}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,d),_}getPathGenerator(e,d){if(void 0!==this.compiledGlyphs[d])return this.compiledGlyphs[d];let _;try{_=e.get(this.loadedName+"_path_"+d)}catch(S){if(!this.ignoreErrors)throw S;return this._onUnsupportedFeature({featureId:rt.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,rt.warn)(`getPathGenerator - ignoring character: "${S}".`),this.compiledGlyphs[d]=function(t,u){}}if(this.isEvalSupported&&rt.FeatureTest.isEvalSupported){const S=[];for(const t of _){const u=void 0!==t.args?t.args.join(","):"";S.push("c.",t.cmd,"(",u,");\n")}return this.compiledGlyphs[d]=new Function("c","size",S.join(""))}return this.compiledGlyphs[d]=function(S,t){for(const u of _)"scale"===u.cmd&&(u.args=[t,-t]),S[u.cmd].apply(S,u.args)}}}},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.CanvasGraphics=void 0;var rt=dt(8),it=dt(1),v=dt(13),K=dt(14),e=dt(3);const d=4096,_=e.isNodeJS&&typeof Path2D>"u"?-1:1e3,S=16;class t{constructor(g){this.canvasFactory=g,this.cache=Object.create(null)}getCanvas(g,r,c){let P;return void 0!==this.cache[g]?(P=this.cache[g],this.canvasFactory.reset(P,r,c)):(P=this.canvasFactory.create(r,c),this.cache[g]=P),P}delete(g){delete this.cache[g]}clear(){for(const g in this.cache)this.canvasFactory.destroy(this.cache[g]),delete this.cache[g]}}function u(y,g,r,c,P,T,x,C,b,A){const[R,F,N,E,L,X]=(0,rt.getCurrentTransform)(y);if(0===F&&0===N){const J=Math.round(x*R+L),$=Math.round(C*E+X),j=Math.abs(Math.round((x+b)*R+L)-J)||1,U=Math.abs(Math.round((C+A)*E+X)-$)||1;return y.setTransform(Math.sign(R),0,0,Math.sign(E),J,$),y.drawImage(g,r,c,P,T,0,0,j,U),y.setTransform(R,F,N,E,L,X),[j,U]}if(0===R&&0===E){const J=Math.round(C*N+L),$=Math.round(x*F+X),j=Math.abs(Math.round((C+A)*N+L)-J)||1,U=Math.abs(Math.round((x+b)*F+X)-$)||1;return y.setTransform(0,Math.sign(F),Math.sign(N),0,J,$),y.drawImage(g,r,c,P,T,0,0,U,j),y.setTransform(R,F,N,E,L,X),[U,j]}return y.drawImage(g,r,c,P,T,x,C,b,A),[Math.hypot(R,F)*b,Math.hypot(N,E)*A]}class I{constructor(g,r){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=it.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=it.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=it.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,g,r])}clone(){const g=Object.create(this);return g.clipBox=this.clipBox.slice(),g}setCurrentPoint(g,r){this.x=g,this.y=r}updatePathMinMax(g,r,c){[r,c]=it.Util.applyTransform([r,c],g),this.minX=Math.min(this.minX,r),this.minY=Math.min(this.minY,c),this.maxX=Math.max(this.maxX,r),this.maxY=Math.max(this.maxY,c)}updateRectMinMax(g,r){const c=it.Util.applyTransform(r,g),P=it.Util.applyTransform(r.slice(2),g);this.minX=Math.min(this.minX,c[0],P[0]),this.minY=Math.min(this.minY,c[1],P[1]),this.maxX=Math.max(this.maxX,c[0],P[0]),this.maxY=Math.max(this.maxY,c[1],P[1])}updateScalingPathMinMax(g,r){it.Util.scaleMinMax(g,r),this.minX=Math.min(this.minX,r[0]),this.maxX=Math.max(this.maxX,r[1]),this.minY=Math.min(this.minY,r[2]),this.maxY=Math.max(this.maxY,r[3])}updateCurvePathMinMax(g,r,c,P,T,x,C,b,A,R){const F=it.Util.bezierBoundingBox(r,c,P,T,x,C,b,A);R?(R[0]=Math.min(R[0],F[0],F[2]),R[1]=Math.max(R[1],F[0],F[2]),R[2]=Math.min(R[2],F[1],F[3]),R[3]=Math.max(R[3],F[1],F[3])):this.updateRectMinMax(g,F)}getPathBoundingBox(g=v.PathType.FILL,r=null){const c=[this.minX,this.minY,this.maxX,this.maxY];if(g===v.PathType.STROKE){r||(0,it.unreachable)("Stroke bounding box must include transform.");const P=it.Util.singularValueDecompose2dScale(r),T=P[0]*this.lineWidth/2,x=P[1]*this.lineWidth/2;c[0]-=T,c[1]-=x,c[2]+=T,c[3]+=x}return c}updateClipFromPath(){const g=it.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(g||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(g){this.clipBox=g,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(g=v.PathType.FILL,r=null){return it.Util.intersect(this.clipBox,this.getPathBoundingBox(g,r))}}function w(y,g,r=null){if(typeof ImageData<"u"&&g instanceof ImageData)return void y.putImageData(g,0,0);const c=g.height,P=g.width,T=c%S,x=(c-T)/S,C=0===T?x:x+1,b=y.createImageData(P,S);let A,R=0;const F=g.data,N=b.data;let E,L,X,V,J,z,$,q;if(r)switch(r.length){case 1:J=r[0],z=r[0],$=r[0],q=r[0];break;case 4:J=r[0],z=r[1],$=r[2],q=r[3]}if(g.kind===it.ImageKind.GRAYSCALE_1BPP){const j=F.byteLength,M=new Uint32Array(N.buffer,0,N.byteLength>>2),U=M.length,H=P+7>>3;let W=4294967295,G=it.FeatureTest.isLittleEndian?4278190080:255;for(q&&255===q[0]&&0===q[255]&&([W,G]=[G,W]),E=0;E<C;E++){for(X=E<x?S:T,A=0,L=0;L<X;L++){const Y=j-R;let tt=0;const Z=Y>H?P:8*Y-7,at=-8&Z;let st=0,nt=0;for(;tt<at;tt+=8)nt=F[R++],M[A++]=128&nt?W:G,M[A++]=64&nt?W:G,M[A++]=32&nt?W:G,M[A++]=16&nt?W:G,M[A++]=8&nt?W:G,M[A++]=4&nt?W:G,M[A++]=2&nt?W:G,M[A++]=1&nt?W:G;for(;tt<Z;tt++)0===st&&(nt=F[R++],st=128),M[A++]=nt&st?W:G,st>>=1}for(;A<U;)M[A++]=0;y.putImageData(b,0,E*S)}}else if(g.kind===it.ImageKind.RGBA_32BPP){const j=!!(J||z||$);for(L=0,V=P*S*4,E=0;E<x;E++){if(N.set(F.subarray(R,R+V)),R+=V,j)for(let M=0;M<V;M+=4)J&&(N[M+0]=J[N[M+0]]),z&&(N[M+1]=z[N[M+1]]),$&&(N[M+2]=$[N[M+2]]);y.putImageData(b,0,L),L+=S}if(E<C){if(V=P*T*4,N.set(F.subarray(R,R+V)),j)for(let M=0;M<V;M+=4)J&&(N[M+0]=J[N[M+0]]),z&&(N[M+1]=z[N[M+1]]),$&&(N[M+2]=$[N[M+2]]);y.putImageData(b,0,L)}}else{if(g.kind!==it.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${g.kind}`);{const j=!!(J||z||$);for(X=S,V=P*X,E=0;E<C;E++){for(E>=x&&(X=T,V=P*X),A=0,L=V;L--;)N[A++]=F[R++],N[A++]=F[R++],N[A++]=F[R++],N[A++]=255;if(j)for(let M=0;M<A;M+=4)J&&(N[M+0]=J[N[M+0]]),z&&(N[M+1]=z[N[M+1]]),$&&(N[M+2]=$[N[M+2]]);y.putImageData(b,0,E*S)}}}}function k(y,g){if(g.bitmap)return void y.drawImage(g.bitmap,0,0);const r=g.height,c=g.width,P=r%S,T=(r-P)/S,x=0===P?T:T+1,C=y.createImageData(c,S);let b=0;const A=g.data,R=C.data;for(let F=0;F<x;F++){const N=F<T?S:P;({srcPos:b}=(0,K.applyMaskImageData)({src:A,srcPos:b,dest:R,width:c,height:N})),y.putImageData(C,0,F*S)}}function s(y,g){const r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let c=0,P=r.length;c<P;c++){const T=r[c];void 0!==y[T]&&(g[T]=y[T])}void 0!==y.setLineDash&&(g.setLineDash(y.getLineDash()),g.lineDashOffset=y.lineDashOffset)}function i(y,g){y.strokeStyle=y.fillStyle=g||"#000000",y.fillRule="nonzero",y.globalAlpha=1,y.lineWidth=1,y.lineCap="butt",y.lineJoin="miter",y.miterLimit=10,y.globalCompositeOperation="source-over",y.font="10px sans-serif",void 0!==y.setLineDash&&(y.setLineDash([]),y.lineDashOffset=0)}function a(y,g,r,c){const P=y.length;for(let T=3;T<P;T+=4){const x=y[T];if(0===x)y[T-3]=g,y[T-2]=r,y[T-1]=c;else if(x<255){const C=255-x;y[T-3]=y[T-3]*x+g*C>>8,y[T-2]=y[T-2]*x+r*C>>8,y[T-1]=y[T-1]*x+c*C>>8}}}function f(y,g,r){const c=y.length;for(let P=3;P<c;P+=4)g[P]=g[P]*(r?r[y[P]]:y[P])*.00392156862745098|0}function l(y,g,r){const c=y.length;for(let P=3;P<c;P+=4){const T=77*y[P-3]+152*y[P-2]+28*y[P-1];g[P]=r?g[P]*r[T>>8]>>8:g[P]*T>>16}}function o(y,g){const r=it.Util.singularValueDecompose2dScale(y);r[0]=Math.fround(r[0]),r[1]=Math.fround(r[1]);const c=Math.fround((globalThis.devicePixelRatio||1)*rt.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==g?g:r[0]<=c||r[1]<=c}const D=["butt","round","square"],m=["miter","round","bevel"],O={},B={};class h{constructor(g,r,c,P,T,x,C,b){this.ctx=g,this.current=new I(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=r,this.objs=c,this.canvasFactory=P,this.imageLayer=T,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=x,this.cachedCanvases=new t(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=C,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=b?.background||null,this.foregroundColor=b?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(g,r=null){return"string"==typeof g?g.startsWith("g_")?this.commonObjs.get(g):this.objs.get(g):r}beginDrawing({transform:g,viewport:r,transparency:c=!1,background:P=null}){const T=this.ctx.canvas.width,x=this.ctx.canvas.height,C=P||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const b=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const A=this.backgroundColor=this.ctx.fillStyle;let R=!0,F=C;if(this.ctx.fillStyle=C,F=this.ctx.fillStyle,R="string"==typeof F&&/^#[0-9A-Fa-f]{6}$/.test(F),"#000000"===b&&"#ffffff"===A||b===A||!R)this.foregroundColor=this.backgroundColor=null;else{const[N,E,L]=(0,rt.getRGB)(F),X=J=>(J/=255)<=.03928?J/12.92:((J+.055)/1.055)**2.4,V=Math.round(.2126*X(N)+.7152*X(E)+.0722*X(L));this.selectColor=(J,z,$)=>{const q=.2126*X(J)+.7152*X(z)+.0722*X($);return Math.round(q)===V?A:b}}}if(this.ctx.fillStyle=this.backgroundColor||C,this.ctx.fillRect(0,0,T,x),this.ctx.restore(),c){const b=this.cachedCanvases.getCanvas("transparent",T,x);this.compositeCtx=this.ctx,this.transparentCanvas=b.canvas,this.ctx=b.context,this.ctx.save(),this.ctx.transform(...(0,rt.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),i(this.ctx,this.foregroundColor),g&&(this.ctx.transform(...g),this.outputScaleX=g[0],this.outputScaleY=g[0]),this.ctx.transform(...r.transform),this.viewportScale=r.scale,this.baseTransform=(0,rt.getCurrentTransform)(this.ctx),this.imageLayer&&((0,rt.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(g,r,c,P){const T=g.argsArray,x=g.fnArray;let C=r||0;const b=T.length;if(b===C)return C;const A=b-C>10&&"function"==typeof c,R=A?Date.now()+15:0;let F=0;const N=this.commonObjs,E=this.objs;let L;for(;;){if(void 0!==P&&C===P.nextBreakPoint)return P.breakIt(C,c),C;if(L=x[C],L!==it.OPS.dependency)this[L].apply(this,T[C]);else for(const X of T[C]){const V=X.startsWith("g_")?N:E;if(!V.has(X))return V.get(X,c),C}if(C++,C===b)return C;if(A&&++F>10){if(Date.now()>R)return c(),C;F=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const g of this._cachedBitmapsMap.values()){for(const r of g.values())typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&(r.width=r.height=0);g.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(g,r){const c=g.width,P=g.height;let T,x,C=Math.max(Math.hypot(r[0],r[1]),1),b=Math.max(Math.hypot(r[2],r[3]),1),A=c,R=P,F="prescale1";for(;C>2&&A>1||b>2&&R>1;){let N=A,E=R;C>2&&A>1&&(N=Math.ceil(A/2),C/=A/N),b>2&&R>1&&(E=Math.ceil(R/2),b/=R/E),T=this.cachedCanvases.getCanvas(F,N,E),x=T.context,x.clearRect(0,0,N,E),x.drawImage(g,0,0,A,R,0,0,N,E),g=T.canvas,A=N,R=E,F="prescale1"===F?"prescale2":"prescale1"}return{img:g,paintWidth:A,paintHeight:R}}_createMaskCanvas(g){const r=this.ctx,{width:c,height:P}=g,T=this.current.fillColor,x=this.current.patternFill,C=(0,rt.getCurrentTransform)(r);let b,A,R,F;if((g.bitmap||g.data)&&g.count>1){const U=g.bitmap||g.data.buffer,H=C.slice(0,4);A=JSON.stringify(x?H:[H,T]),b=this._cachedBitmapsMap.get(U),b||(b=new Map,this._cachedBitmapsMap.set(U,b));const W=b.get(A);if(W&&!x)return{canvas:W,offsetX:Math.round(Math.min(C[0],C[2])+C[4]),offsetY:Math.round(Math.min(C[1],C[3])+C[5])};R=W}R||(F=this.cachedCanvases.getCanvas("maskCanvas",c,P),k(F.context,g));let N=it.Util.transform(C,[1/c,0,0,-1/P,0,0]);N=it.Util.transform(N,[1,0,0,1,0,-P]);const E=it.Util.applyTransform([0,0],N),L=it.Util.applyTransform([c,P],N),X=it.Util.normalizeRect([E[0],E[1],L[0],L[1]]),V=Math.round(X[2]-X[0])||1,J=Math.round(X[3]-X[1])||1,z=this.cachedCanvases.getCanvas("fillCanvas",V,J),$=z.context,q=Math.min(E[0],L[0]),j=Math.min(E[1],L[1]);$.translate(-q,-j),$.transform(...N),R||(R=this._scaleImage(F.canvas,(0,rt.getCurrentTransformInverse)($)),R=R.img,b&&x&&b.set(A,R)),$.imageSmoothingEnabled=o((0,rt.getCurrentTransform)($),g.interpolate),u($,R,0,0,R.width,R.height,0,0,c,P),$.globalCompositeOperation="source-in";const M=it.Util.transform((0,rt.getCurrentTransformInverse)($),[1,0,0,1,-q,-j]);return $.fillStyle=x?T.getPattern(r,this,M,v.PathType.FILL):T,$.fillRect(0,0,c,P),b&&!x&&(this.cachedCanvases.delete("fillCanvas"),b.set(A,z.canvas)),{canvas:z.canvas,offsetX:Math.round(q),offsetY:Math.round(j)}}setLineWidth(g){g!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=g,this.ctx.lineWidth=g}setLineCap(g){this.ctx.lineCap=D[g]}setLineJoin(g){this.ctx.lineJoin=m[g]}setMiterLimit(g){this.ctx.miterLimit=g}setDash(g,r){const c=this.ctx;void 0!==c.setLineDash&&(c.setLineDash(g),c.lineDashOffset=r)}setRenderingIntent(g){}setFlatness(g){}setGState(g){for(let r=0,c=g.length;r<c;r++){const P=g[r],x=P[1];switch(P[0]){case"LW":this.setLineWidth(x);break;case"LC":this.setLineCap(x);break;case"LJ":this.setLineJoin(x);break;case"ML":this.setMiterLimit(x);break;case"D":this.setDash(x[0],x[1]);break;case"RI":this.setRenderingIntent(x);break;case"FL":this.setFlatness(x);break;case"Font":this.setFont(x[0],x[1]);break;case"CA":this.current.strokeAlpha=P[1];break;case"ca":this.current.fillAlpha=P[1],this.ctx.globalAlpha=P[1];break;case"BM":this.ctx.globalCompositeOperation=x;break;case"SMask":this.current.activeSMask=x?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=x}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const g=this.inSMaskMode;this.current.activeSMask&&!g?this.beginSMaskMode():!this.current.activeSMask&&g&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const P=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=P.context;const T=this.ctx;T.setTransform(...(0,rt.getCurrentTransform)(this.suspendedCtx)),s(this.suspendedCtx,T),function(C,b){if(C._removeMirroring)throw new Error("Context is already forwarding operations.");C.__originalSave=C.save,C.__originalRestore=C.restore,C.__originalRotate=C.rotate,C.__originalScale=C.scale,C.__originalTranslate=C.translate,C.__originalTransform=C.transform,C.__originalSetTransform=C.setTransform,C.__originalResetTransform=C.resetTransform,C.__originalClip=C.clip,C.__originalMoveTo=C.moveTo,C.__originalLineTo=C.lineTo,C.__originalBezierCurveTo=C.bezierCurveTo,C.__originalRect=C.rect,C.__originalClosePath=C.closePath,C.__originalBeginPath=C.beginPath,C._removeMirroring=()=>{C.save=C.__originalSave,C.restore=C.__originalRestore,C.rotate=C.__originalRotate,C.scale=C.__originalScale,C.translate=C.__originalTranslate,C.transform=C.__originalTransform,C.setTransform=C.__originalSetTransform,C.resetTransform=C.__originalResetTransform,C.clip=C.__originalClip,C.moveTo=C.__originalMoveTo,C.lineTo=C.__originalLineTo,C.bezierCurveTo=C.__originalBezierCurveTo,C.rect=C.__originalRect,C.closePath=C.__originalClosePath,C.beginPath=C.__originalBeginPath,delete C._removeMirroring},C.save=function(){b.save(),this.__originalSave()},C.restore=function(){b.restore(),this.__originalRestore()},C.translate=function(R,F){b.translate(R,F),this.__originalTranslate(R,F)},C.scale=function(R,F){b.scale(R,F),this.__originalScale(R,F)},C.transform=function(R,F,N,E,L,X){b.transform(R,F,N,E,L,X),this.__originalTransform(R,F,N,E,L,X)},C.setTransform=function(R,F,N,E,L,X){b.setTransform(R,F,N,E,L,X),this.__originalSetTransform(R,F,N,E,L,X)},C.resetTransform=function(){b.resetTransform(),this.__originalResetTransform()},C.rotate=function(R){b.rotate(R),this.__originalRotate(R)},C.clip=function(R){b.clip(R),this.__originalClip(R)},C.moveTo=function(A,R){b.moveTo(A,R),this.__originalMoveTo(A,R)},C.lineTo=function(A,R){b.lineTo(A,R),this.__originalLineTo(A,R)},C.bezierCurveTo=function(A,R,F,N,E,L){b.bezierCurveTo(A,R,F,N,E,L),this.__originalBezierCurveTo(A,R,F,N,E,L)},C.rect=function(A,R,F,N){b.rect(A,R,F,N),this.__originalRect(A,R,F,N)},C.closePath=function(){b.closePath(),this.__originalClosePath()},C.beginPath=function(){b.beginPath(),this.__originalBeginPath()}}(T,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),s(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(g){this.current.activeSMask&&(g?(g[0]=Math.floor(g[0]),g[1]=Math.floor(g[1]),g[2]=Math.ceil(g[2]),g[3]=Math.ceil(g[3])):g=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function n(y,g,r,c){const P=c[0],T=c[1],x=c[2]-P,C=c[3]-T;0!==x&&0!==C&&(function(A,R,F,N,E,L,X,V,J,z,$){const q=!!L,j=q?L[0]:0,M=q?L[1]:0,U=q?L[2]:0;let H;H="Luminosity"===E?l:f;const W=Math.min(N,Math.ceil(1048576/F));for(let G=0;G<N;G+=W){const Y=Math.min(W,N-G),tt=A.getImageData(V-z,G+(J-$),F,Y),Z=R.getImageData(V,G+J,F,Y);q&&a(tt.data,j,M,U),H(tt.data,Z.data,X),R.putImageData(Z,V,G+J)}}(g.context,r,x,C,g.subtype,g.backdrop,g.transferMap,P,T,g.offsetX,g.offsetY),y.save(),y.globalAlpha=1,y.globalCompositeOperation="source-over",y.setTransform(1,0,0,1,0,0),y.drawImage(r.canvas,0,0),y.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,g),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(s(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const g=this.current;this.stateStack.push(g),this.current=g.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),s(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(g,r,c,P,T,x){this.ctx.transform(g,r,c,P,T,x),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(g,r,c){const P=this.ctx,T=this.current;let x,C,b=T.x,A=T.y;const R=(0,rt.getCurrentTransform)(P),F=0===R[0]&&0===R[3]||0===R[1]&&0===R[2],N=F?c.slice(0):null;for(let E=0,L=0,X=g.length;E<X;E++)switch(0|g[E]){case it.OPS.rectangle:b=r[L++],A=r[L++];const V=r[L++],J=r[L++],z=b+V,$=A+J;P.moveTo(b,A),0===V||0===J?P.lineTo(z,$):(P.lineTo(z,A),P.lineTo(z,$),P.lineTo(b,$)),F||T.updateRectMinMax(R,[b,A,z,$]),P.closePath();break;case it.OPS.moveTo:b=r[L++],A=r[L++],P.moveTo(b,A),F||T.updatePathMinMax(R,b,A);break;case it.OPS.lineTo:b=r[L++],A=r[L++],P.lineTo(b,A),F||T.updatePathMinMax(R,b,A);break;case it.OPS.curveTo:x=b,C=A,b=r[L+4],A=r[L+5],P.bezierCurveTo(r[L],r[L+1],r[L+2],r[L+3],b,A),T.updateCurvePathMinMax(R,x,C,r[L],r[L+1],r[L+2],r[L+3],b,A,N),L+=6;break;case it.OPS.curveTo2:x=b,C=A,P.bezierCurveTo(b,A,r[L],r[L+1],r[L+2],r[L+3]),T.updateCurvePathMinMax(R,x,C,b,A,r[L],r[L+1],r[L+2],r[L+3],N),b=r[L+2],A=r[L+3],L+=4;break;case it.OPS.curveTo3:x=b,C=A,b=r[L+2],A=r[L+3],P.bezierCurveTo(r[L],r[L+1],b,A,b,A),T.updateCurvePathMinMax(R,x,C,r[L],r[L+1],b,A,b,A,N),L+=4;break;case it.OPS.closePath:P.closePath()}F&&T.updateScalingPathMinMax(R,N),T.setCurrentPoint(b,A)}closePath(){this.ctx.closePath()}stroke(g){g=void 0===g||g;const r=this.ctx,c=this.current.strokeColor;r.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof c&&c?.getPattern?(r.save(),r.strokeStyle=c.getPattern(r,this,(0,rt.getCurrentTransformInverse)(r),v.PathType.STROKE),this.rescaleAndStroke(!1),r.restore()):this.rescaleAndStroke(!0)),g&&this.consumePath(this.current.getClippedPathBoundingBox()),r.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(g){g=void 0===g||g;const r=this.ctx,c=this.current.fillColor;let P=!1;this.current.patternFill&&(r.save(),r.fillStyle=c.getPattern(r,this,(0,rt.getCurrentTransformInverse)(r),v.PathType.FILL),P=!0);const T=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==T&&(this.pendingEOFill?(r.fill("evenodd"),this.pendingEOFill=!1):r.fill()),P&&r.restore(),g&&this.consumePath(T)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=O}eoClip(){this.pendingClip=B}beginText(){this.current.textMatrix=it.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const g=this.pendingTextPaths,r=this.ctx;if(void 0!==g){r.save(),r.beginPath();for(const c of g)r.setTransform(...c.transform),r.translate(c.x,c.y),c.addToPath(r,c.fontSize);r.restore(),r.clip(),r.beginPath(),delete this.pendingTextPaths}else r.beginPath()}setCharSpacing(g){this.current.charSpacing=g}setWordSpacing(g){this.current.wordSpacing=g}setHScale(g){this.current.textHScale=g/100}setLeading(g){this.current.leading=-g}setFont(g,r){const c=this.commonObjs.get(g),P=this.current;if(!c)throw new Error(`Can't find font for ${g}`);if(P.fontMatrix=c.fontMatrix||it.FONT_IDENTITY_MATRIX,0!==P.fontMatrix[0]&&0!==P.fontMatrix[3]||(0,it.warn)("Invalid font matrix for font "+g),r<0?(r=-r,P.fontDirection=-1):P.fontDirection=1,this.current.font=c,this.current.fontSize=r,c.isType3Font)return;let x="normal";c.black?x="900":c.bold&&(x="bold");const C=c.italic?"italic":"normal",b=`"${c.loadedName||"sans-serif"}", ${c.fallbackName}`;let A=r;r<16?A=16:r>100&&(A=100),this.current.fontSizeScale=r/A,this.ctx.font=`${C} ${x} ${A}px ${b}`}setTextRenderingMode(g){this.current.textRenderingMode=g}setTextRise(g){this.current.textRise=g}moveText(g,r){this.current.x=this.current.lineX+=g,this.current.y=this.current.lineY+=r}setLeadingMoveText(g,r){this.setLeading(-r),this.moveText(g,r)}setTextMatrix(g,r,c,P,T,x){this.current.textMatrix=[g,r,c,P,T,x],this.current.textMatrixScale=Math.hypot(g,r),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(g,r,c,P){const T=this.ctx,x=this.current,C=x.font,b=x.textRenderingMode,A=x.fontSize/x.fontSizeScale,R=b&it.TextRenderingMode.FILL_STROKE_MASK,F=!!(b&it.TextRenderingMode.ADD_TO_PATH_FLAG),N=x.patternFill&&!C.missingFile;let E;(C.disableFontFace||F||N)&&(E=C.getPathGenerator(this.commonObjs,g)),C.disableFontFace||N?(T.save(),T.translate(r,c),T.beginPath(),E(T,A),P&&T.setTransform(...P),R!==it.TextRenderingMode.FILL&&R!==it.TextRenderingMode.FILL_STROKE||T.fill(),R!==it.TextRenderingMode.STROKE&&R!==it.TextRenderingMode.FILL_STROKE||T.stroke(),T.restore()):(R!==it.TextRenderingMode.FILL&&R!==it.TextRenderingMode.FILL_STROKE||T.fillText(g,r,c),R!==it.TextRenderingMode.STROKE&&R!==it.TextRenderingMode.FILL_STROKE||T.strokeText(g,r,c)),F&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,rt.getCurrentTransform)(T),x:r,y:c,fontSize:A,addToPath:E})}get isFontSubpixelAAEnabled(){const{context:g}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);g.scale(1.5,1),g.fillText("I",0,10);const r=g.getImageData(0,0,10,10).data;let c=!1;for(let P=3;P<r.length;P+=4)if(r[P]>0&&r[P]<255){c=!0;break}return(0,it.shadow)(this,"isFontSubpixelAAEnabled",c)}showText(g){const r=this.current,c=r.font;if(c.isType3Font)return this.showType3Text(g);const P=r.fontSize;if(0===P)return;const T=this.ctx,x=r.fontSizeScale,C=r.charSpacing,b=r.wordSpacing,A=r.fontDirection,R=r.textHScale*A,F=g.length,N=c.vertical,E=N?1:-1,L=c.defaultVMetrics,X=P*r.fontMatrix[0],V=r.textRenderingMode===it.TextRenderingMode.FILL&&!c.disableFontFace&&!r.patternFill;let J;if(T.save(),T.transform(...r.textMatrix),T.translate(r.x,r.y+r.textRise),T.scale(R,A>0?-1:1),r.patternFill){T.save();const M=r.fillColor.getPattern(T,this,(0,rt.getCurrentTransformInverse)(T),v.PathType.FILL);J=(0,rt.getCurrentTransform)(T),T.restore(),T.fillStyle=M}let z=r.lineWidth;const $=r.textMatrixScale;if(0===$||0===z){const M=r.textRenderingMode&it.TextRenderingMode.FILL_STROKE_MASK;M!==it.TextRenderingMode.STROKE&&M!==it.TextRenderingMode.FILL_STROKE||(z=this.getSinglePixelWidth())}else z/=$;1!==x&&(T.scale(x,x),z/=x),T.lineWidth=z;let q,j=0;for(q=0;q<F;++q){const M=g[q];if("number"==typeof M){j+=E*M*P/1e3;continue}let U=!1;const H=(M.isSpace?b:0)+C,W=M.fontChar,G=M.accent;let Y,tt,Z,at=M.width;if(N){const st=M.vmetric||L,nt=-(M.vmetric?st[1]:.5*at)*X;at=st?-st[0]:at,Y=nt/x,tt=(j+st[2]*X)/x}else Y=j/x,tt=0;if(c.remeasure&&at>0){const st=1e3*T.measureText(W).width/P*x;if(at<st&&this.isFontSubpixelAAEnabled){const nt=at/st;U=!0,T.save(),T.scale(nt,1),Y/=nt}else at!==st&&(Y+=(at-st)/2e3*P/x)}this.contentVisible&&(M.isInFont||c.missingFile)&&(V&&!G?T.fillText(W,Y,tt):(this.paintChar(W,Y,tt,J),G&&this.paintChar(G.fontChar,Y+P*G.offset.x/x,tt-P*G.offset.y/x,J))),Z=N?at*X-H*A:at*X+H*A,j+=Z,U&&T.restore()}N?r.y-=j:r.x+=j*R,T.restore(),this.compose()}showType3Text(g){const r=this.ctx,c=this.current,P=c.font,T=c.fontSize,x=c.fontDirection,C=P.vertical?1:-1,b=c.charSpacing,A=c.wordSpacing,R=c.textHScale*x,F=c.fontMatrix||it.FONT_IDENTITY_MATRIX,N=g.length;let E,L,X,V;if(c.textRenderingMode!==it.TextRenderingMode.INVISIBLE&&0!==T){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,r.save(),r.transform(...c.textMatrix),r.translate(c.x,c.y),r.scale(R,x),E=0;E<N;++E){if(L=g[E],"number"==typeof L){V=C*L*T/1e3,this.ctx.translate(V,0),c.x+=V*R;continue}const J=(L.isSpace?A:0)+b,z=P.charProcOperatorList[L.operatorListId];z?(this.contentVisible&&(this.processingType3=L,this.save(),r.scale(T,T),r.transform(...F),this.executeOperatorList(z),this.restore()),X=it.Util.applyTransform([L.width,0],F)[0]*T+J,r.translate(X,0),c.x+=X*R):(0,it.warn)(`Type3 character "${L.operatorListId}" is not available.`)}r.restore(),this.processingType3=null}}setCharWidth(g,r){}setCharWidthAndBounds(g,r,c,P,T,x){this.ctx.rect(c,P,T-c,x-P),this.ctx.clip(),this.endPath()}getColorN_Pattern(g){let r;if("TilingPattern"===g[0]){const c=g[1],P=this.baseTransform||(0,rt.getCurrentTransform)(this.ctx);r=new v.TilingPattern(g,c,this.ctx,{createCanvasGraphics:x=>new h(x,this.commonObjs,this.objs,this.canvasFactory)},P)}else r=this._getPattern(g[1],g[2]);return r}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(g,r,c){const P=this.selectColor?.(g,r,c)||it.Util.makeHexColor(g,r,c);this.ctx.strokeStyle=P,this.current.strokeColor=P}setFillRGBColor(g,r,c){const P=this.selectColor?.(g,r,c)||it.Util.makeHexColor(g,r,c);this.ctx.fillStyle=P,this.current.fillColor=P,this.current.patternFill=!1}_getPattern(g,r=null){let c;return this.cachedPatterns.has(g)?c=this.cachedPatterns.get(g):(c=(0,v.getShadingPattern)(this.objs.get(g)),this.cachedPatterns.set(g,c)),r&&(c.matrix=r),c}shadingFill(g){if(!this.contentVisible)return;const r=this.ctx;this.save();const c=this._getPattern(g);r.fillStyle=c.getPattern(r,this,(0,rt.getCurrentTransformInverse)(r),v.PathType.SHADING);const P=(0,rt.getCurrentTransformInverse)(r);if(P){const T=r.canvas,x=T.width,C=T.height,b=it.Util.applyTransform([0,0],P),A=it.Util.applyTransform([0,C],P),R=it.Util.applyTransform([x,0],P),F=it.Util.applyTransform([x,C],P),N=Math.min(b[0],A[0],R[0],F[0]),E=Math.min(b[1],A[1],R[1],F[1]),L=Math.max(b[0],A[0],R[0],F[0]),X=Math.max(b[1],A[1],R[1],F[1]);this.ctx.fillRect(N,E,L-N,X-E)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,it.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,it.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(g,r){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(g)&&6===g.length&&this.transform(...g),this.baseTransform=(0,rt.getCurrentTransform)(this.ctx),r)&&(this.ctx.rect(r[0],r[1],r[2]-r[0],r[3]-r[1]),this.current.updateRectMinMax((0,rt.getCurrentTransform)(this.ctx),r),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(g){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;g.isolated||(0,it.info)("TODO: Support non-isolated groups."),g.knockout&&(0,it.warn)("Knockout groups not supported.");const c=(0,rt.getCurrentTransform)(r);if(g.matrix&&r.transform(...g.matrix),!g.bbox)throw new Error("Bounding box is required.");let P=it.Util.getAxialAlignedBoundingBox(g.bbox,(0,rt.getCurrentTransform)(r));P=it.Util.intersect(P,[0,0,r.canvas.width,r.canvas.height])||[0,0,0,0];const x=Math.floor(P[0]),C=Math.floor(P[1]);let b=Math.max(Math.ceil(P[2])-x,1),A=Math.max(Math.ceil(P[3])-C,1),R=1,F=1;b>d&&(R=b/d,b=d),A>d&&(F=A/d,A=d),this.current.startNewPathAndClipBox([0,0,b,A]);let N="groupAt"+this.groupLevel;g.smask&&(N+="_smask_"+this.smaskCounter++%2);const E=this.cachedCanvases.getCanvas(N,b,A),L=E.context;L.scale(1/R,1/F),L.translate(-x,-C),L.transform(...c),g.smask?this.smaskStack.push({canvas:E.canvas,context:L,offsetX:x,offsetY:C,scaleX:R,scaleY:F,subtype:g.smask.subtype,backdrop:g.smask.backdrop,transferMap:g.smask.transferMap||null,startTransformInverse:null}):(r.setTransform(1,0,0,1,0,0),r.translate(x,C),r.scale(R,F),r.save()),s(r,L),this.ctx=L,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(g){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,c=this.groupStack.pop();if(this.ctx=c,this.ctx.imageSmoothingEnabled=!1,g.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const P=(0,rt.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...P);const T=it.Util.getAxialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],P);this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(T)}}beginAnnotation(g,r,c,P,T){if(this.#t(),i(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(r)&&4===r.length){const x=r[2]-r[0],C=r[3]-r[1];if(T&&this.annotationCanvasMap){(c=c.slice())[4]-=r[0],c[5]-=r[1],(r=r.slice())[0]=r[1]=0,r[2]=x,r[3]=C;const[b,A]=it.Util.singularValueDecompose2dScale((0,rt.getCurrentTransform)(this.ctx)),{viewportScale:R}=this,F=Math.ceil(x*this.outputScaleX*R),N=Math.ceil(C*this.outputScaleY*R);this.annotationCanvas=this.canvasFactory.create(F,N);const{canvas:E,context:L}=this.annotationCanvas;this.annotationCanvasMap.set(g,E),this.annotationCanvas.savedCtx=this.ctx,this.ctx=L,this.ctx.setTransform(b,0,0,-A,0,C*A),i(this.ctx,this.foregroundColor)}else i(this.ctx,this.foregroundColor),this.ctx.rect(r[0],r[1],x,C),this.ctx.clip(),this.endPath()}this.current=new I(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...c),this.transform(...P)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(g){if(!this.contentVisible)return;const r=g.count;(g=this.getObject(g.data,g)).count=r;const c=this.ctx,P=this.processingType3;if(P&&(void 0===P.compiled&&(P.compiled=function(b){const{width:A,height:R}=b;if(A>_||R>_)return null;const F=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),N=A+1;let E,L,X,V=new Uint8Array(N*(R+1));const J=A+7&-8;let z=new Uint8Array(J*R),$=0;for(const U of b.data){let H=128;for(;H>0;)z[$++]=U&H?0:255,H>>=1}let q=0;for($=0,0!==z[$]&&(V[0]=1,++q),L=1;L<A;L++)z[$]!==z[$+1]&&(V[L]=z[$]?2:1,++q),$++;for(0!==z[$]&&(V[L]=2,++q),E=1;E<R;E++){$=E*J,X=E*N,z[$-J]!==z[$]&&(V[X]=z[$]?1:8,++q);let U=(z[$]?4:0)+(z[$-J]?8:0);for(L=1;L<A;L++)U=(U>>2)+(z[$+1]?4:0)+(z[$-J+1]?8:0),F[U]&&(V[X+L]=F[U],++q),$++;if(z[$-J]!==z[$]&&(V[X+L]=z[$]?2:4,++q),q>1e3)return null}for($=J*(R-1),X=E*N,0!==z[$]&&(V[X]=8,++q),L=1;L<A;L++)z[$]!==z[$+1]&&(V[X+L]=z[$]?4:8,++q),$++;if(0!==z[$]&&(V[X+L]=4,++q),q>1e3)return null;const j=new Int32Array([0,N,-1,0,-N,0,0,0,1]),M=new Path2D;for(E=0;q&&E<=R;E++){let U=E*N;const H=U+A;for(;U<H&&!V[U];)U++;if(U===H)continue;M.moveTo(U%N,E);const W=U;let G=V[U];do{const Y=j[G];do{U+=Y}while(!V[U]);const tt=V[U];5!==tt&&10!==tt?(G=tt,V[U]=0):(G=tt&51*G>>4,V[U]&=G>>2|G<<2),M.lineTo(U%N,U/N|0),V[U]||--q}while(W!==U);--E}return z=null,V=null,function(U){U.save(),U.scale(1/A,-1/R),U.translate(0,-R),U.fill(M),U.beginPath(),U.restore()}}(g)),P.compiled))return void P.compiled(c);const T=this._createMaskCanvas(g),x=T.canvas;c.save(),c.setTransform(1,0,0,1,0,0),c.drawImage(x,T.offsetX,T.offsetY),c.restore(),this.compose()}paintImageMaskXObjectRepeat(g,r,c=0,P=0,T,x){if(!this.contentVisible)return;g=this.getObject(g.data,g);const C=this.ctx;C.save();const b=(0,rt.getCurrentTransform)(C);C.transform(r,c,P,T,0,0);const A=this._createMaskCanvas(g);C.setTransform(1,0,0,1,0,0);for(let R=0,F=x.length;R<F;R+=2){const N=it.Util.transform(b,[r,c,P,T,x[R],x[R+1]]),[E,L]=it.Util.applyTransform([0,0],N);C.drawImage(A.canvas,E,L)}C.restore(),this.compose()}paintImageMaskXObjectGroup(g){if(!this.contentVisible)return;const r=this.ctx,c=this.current.fillColor,P=this.current.patternFill;for(const T of g){const{data:x,width:C,height:b,transform:A}=T,R=this.cachedCanvases.getCanvas("maskCanvas",C,b),F=R.context;F.save(),k(F,this.getObject(x,T)),F.globalCompositeOperation="source-in",F.fillStyle=P?c.getPattern(F,this,(0,rt.getCurrentTransformInverse)(r),v.PathType.FILL):c,F.fillRect(0,0,C,b),F.restore(),r.save(),r.transform(...A),r.scale(1,-1),u(r,R.canvas,0,0,C,b,0,-1,1,1),r.restore()}this.compose()}paintImageXObject(g){if(!this.contentVisible)return;const r=this.getObject(g);r?this.paintInlineImageXObject(r):(0,it.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(g,r,c,P){if(!this.contentVisible)return;const T=this.getObject(g);if(!T)return void(0,it.warn)("Dependent image isn't ready yet");const x=T.width,C=T.height,b=[];for(let A=0,R=P.length;A<R;A+=2)b.push({transform:[r,0,0,c,P[A],P[A+1]],x:0,y:0,w:x,h:C});this.paintInlineImageXObjectGroup(T,b)}paintInlineImageXObject(g){if(!this.contentVisible)return;const r=g.width,c=g.height,P=this.ctx;let T;if(this.save(),P.scale(1/r,-1/c),"function"==typeof HTMLElement&&g instanceof HTMLElement||!g.data)T=g;else{const A=this.cachedCanvases.getCanvas("inlineImage",r,c);w(A.context,g,this.current.transferMaps),T=A.canvas}const x=this._scaleImage(T,(0,rt.getCurrentTransformInverse)(P));P.imageSmoothingEnabled=o((0,rt.getCurrentTransform)(P),g.interpolate);const[C,b]=u(P,x.img,0,0,x.paintWidth,x.paintHeight,0,-c,r,c);if(this.imageLayer){const[A,R]=it.Util.applyTransform([0,-c],(0,rt.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:g,left:A,top:R,width:C,height:b})}this.compose(),this.restore()}paintInlineImageXObjectGroup(g,r){if(!this.contentVisible)return;const c=this.ctx,P=g.width,T=g.height,x=this.cachedCanvases.getCanvas("inlineImage",P,T);w(x.context,g,this.current.transferMaps);for(const C of r){if(c.save(),c.transform(...C.transform),c.scale(1,-1),u(c,x.canvas,C.x,C.y,C.w,C.h,0,-1,1,1),this.imageLayer){const[b,A]=it.Util.applyTransform([C.x,C.y],(0,rt.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:g,left:b,top:A,width:P,height:T})}c.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(g){}markPointProps(g,r){}beginMarkedContent(g){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(g,r){this.markedContentStack.push("OC"===g?{visible:this.optionalContentConfig.isVisible(r)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(g){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(g);const c=this.ctx;this.pendingClip&&(r||(this.pendingClip===B?c.clip("evenodd"):c.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),c.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const g=(0,rt.getCurrentTransform)(this.ctx);if(0===g[1]&&0===g[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(g[0]),Math.abs(g[3]));else{const r=Math.abs(g[0]*g[3]-g[2]*g[1]),c=Math.hypot(g[0],g[2]),P=Math.hypot(g[1],g[3]);this._cachedGetSinglePixelWidth=Math.max(c,P)/r}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:g}=this.current,r=(0,rt.getCurrentTransform)(this.ctx);let c,P;if(0===r[1]&&0===r[2]){const T=Math.abs(r[0]),x=Math.abs(r[3]);if(0===g)c=1/T,P=1/x;else{const C=T*g,b=x*g;c=C<1?1/C:1,P=b<1?1/b:1}}else{const T=Math.abs(r[0]*r[3]-r[2]*r[1]),x=Math.hypot(r[0],r[1]),C=Math.hypot(r[2],r[3]);if(0===g)c=C/T,P=x/T;else{const b=g*T;c=C>b?C/b:1,P=x>b?x/b:1}}this._cachedScaleForStroking=[c,P]}return this._cachedScaleForStroking}rescaleAndStroke(g){const{ctx:r}=this,{lineWidth:c}=this.current,[P,T]=this.getScaleForStroking();if(r.lineWidth=c||1,1===P&&1===T)return void r.stroke();let x,C,b;g&&(x=(0,rt.getCurrentTransform)(r),C=r.getLineDash().slice(),b=r.lineDashOffset),r.scale(P,T);const A=Math.max(P,T);r.setLineDash(r.getLineDash().map(R=>R/A)),r.lineDashOffset/=A,r.stroke(),g&&(r.setTransform(...x),r.setLineDash(C),r.lineDashOffset=b)}isContentVisible(){for(let g=this.markedContentStack.length-1;g>=0;g--)if(!this.markedContentStack[g].visible)return!1;return!0}}et.CanvasGraphics=h;for(const y in it.OPS)void 0!==h.prototype[y]&&(h.prototype[it.OPS[y]]=h.prototype[y])},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.TilingPattern=et.PathType=void 0,et.getShadingPattern=function(a){switch(a[0]){case"RadialAxial":return new _(a);case"Mesh":return new u(a);case"Dummy":return new I}throw new Error(`Unknown IR type: ${a[0]}`)};var rt=dt(1),it=dt(8),v=dt(3);const K={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function e(i,a){if(!a||v.isNodeJS)return;const f=a[2]-a[0],l=a[3]-a[1],n=new Path2D;n.rect(a[0],a[1],f,l),i.clip(n)}et.PathType=K;class d{constructor(){this.constructor===d&&(0,rt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,rt.unreachable)("Abstract method `getPattern` called.")}}class _ extends d{constructor(a){super(),this._type=a[1],this._bbox=a[2],this._colorStops=a[3],this._p0=a[4],this._p1=a[5],this._r0=a[6],this._r1=a[7],this.matrix=null}_createGradient(a){let f;"axial"===this._type?f=a.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(f=a.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const l of this._colorStops)f.addColorStop(l[0],l[1]);return f}getPattern(a,f,l,n){let o;if(n===K.STROKE||n===K.FILL){const D=f.current.getClippedPathBoundingBox(n,(0,it.getCurrentTransform)(a))||[0,0,0,0],m=Math.ceil(D[2]-D[0])||1,O=Math.ceil(D[3]-D[1])||1,B=f.cachedCanvases.getCanvas("pattern",m,O,!0),h=B.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-D[0],-D[1]),l=rt.Util.transform(l,[1,0,0,1,D[0],D[1]]),h.transform(...f.baseTransform),this.matrix&&h.transform(...this.matrix),e(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),o=a.createPattern(B.canvas,"no-repeat");const y=new DOMMatrix(l);try{o.setTransform(y)}catch(g){(0,rt.warn)(`RadialAxialShadingPattern.getPattern: "${g?.message}".`)}}else e(a,this._bbox),o=this._createGradient(a);return o}}function S(i,a,f,l,n,o,D,m){const O=a.coords,B=a.colors,h=i.data,y=4*i.width;let g;O[f+1]>O[l+1]&&(g=f,f=l,l=g,g=o,o=D,D=g),O[l+1]>O[n+1]&&(g=l,l=n,n=g,g=D,D=m,m=g),O[f+1]>O[l+1]&&(g=f,f=l,l=g,g=o,o=D,D=g);const r=(O[f]+a.offsetX)*a.scaleX,c=(O[f+1]+a.offsetY)*a.scaleY,P=(O[l]+a.offsetX)*a.scaleX,T=(O[l+1]+a.offsetY)*a.scaleY,x=(O[n]+a.offsetX)*a.scaleX,C=(O[n+1]+a.offsetY)*a.scaleY;if(c>=C)return;const b=B[o],A=B[o+1],R=B[o+2],F=B[D],N=B[D+1],E=B[D+2],L=B[m],X=B[m+1],V=B[m+2],J=Math.round(c),z=Math.round(C);let $,q,j,M,U,H,W,G;for(let Y=J;Y<=z;Y++){if(Y<T){let nt;nt=Y<c?0:(c-Y)/(c-T),$=r-(r-P)*nt,q=b-(b-F)*nt,j=A-(A-N)*nt,M=R-(R-E)*nt}else{let nt;nt=Y>C?1:T===C?0:(T-Y)/(T-C),$=P-(P-x)*nt,q=F-(F-L)*nt,j=N-(N-X)*nt,M=E-(E-V)*nt}let tt;tt=Y<c?0:Y>C?1:(c-Y)/(c-C),U=r-(r-x)*tt,H=b-(b-L)*tt,W=A-(A-X)*tt,G=R-(R-V)*tt;const Z=Math.round(Math.min($,U)),at=Math.round(Math.max($,U));let st=y*Y+4*Z;for(let nt=Z;nt<=at;nt++)tt=($-nt)/($-U),tt<0?tt=0:tt>1&&(tt=1),h[st++]=q-(q-H)*tt|0,h[st++]=j-(j-W)*tt|0,h[st++]=M-(M-G)*tt|0,h[st++]=255}}function t(i,a,f){const l=a.coords,n=a.colors;let o,D;switch(a.type){case"lattice":const m=a.verticesPerRow,O=Math.floor(l.length/m)-1,B=m-1;for(o=0;o<O;o++){let h=o*m;for(let y=0;y<B;y++,h++)S(i,f,l[h],l[h+1],l[h+m],n[h],n[h+1],n[h+m]),S(i,f,l[h+m+1],l[h+1],l[h+m],n[h+m+1],n[h+1],n[h+m])}break;case"triangles":for(o=0,D=l.length;o<D;o+=3)S(i,f,l[o],l[o+1],l[o+2],n[o],n[o+1],n[o+2]);break;default:throw new Error("illegal figure")}}class u extends d{constructor(a){super(),this._coords=a[2],this._colors=a[3],this._figures=a[4],this._bounds=a[5],this._bbox=a[7],this._background=a[8],this.matrix=null}_createMeshCanvas(a,f,l){const n=Math.floor(this._bounds[0]),o=Math.floor(this._bounds[1]),D=Math.ceil(this._bounds[2])-n,m=Math.ceil(this._bounds[3])-o,O=Math.min(Math.ceil(Math.abs(D*a[0]*1.1)),3e3),B=Math.min(Math.ceil(Math.abs(m*a[1]*1.1)),3e3),h=D/O,y=m/B,g={coords:this._coords,colors:this._colors,offsetX:-n,offsetY:-o,scaleX:1/h,scaleY:1/y},P=l.getCanvas("mesh",O+4,B+4,!1),T=P.context,x=T.createImageData(O,B);if(f){const C=x.data;for(let b=0,A=C.length;b<A;b+=4)C[b]=f[0],C[b+1]=f[1],C[b+2]=f[2],C[b+3]=255}for(const C of this._figures)t(x,C,g);return T.putImageData(x,2,2),{canvas:P.canvas,offsetX:n-2*h,offsetY:o-2*y,scaleX:h,scaleY:y}}getPattern(a,f,l,n){let o;if(e(a,this._bbox),n===K.SHADING)o=rt.Util.singularValueDecompose2dScale((0,it.getCurrentTransform)(a));else if(o=rt.Util.singularValueDecompose2dScale(f.baseTransform),this.matrix){const m=rt.Util.singularValueDecompose2dScale(this.matrix);o=[o[0]*m[0],o[1]*m[1]]}const D=this._createMeshCanvas(o,n===K.SHADING?null:this._background,f.cachedCanvases);return n!==K.SHADING&&(a.setTransform(...f.baseTransform),this.matrix&&a.transform(...this.matrix)),a.translate(D.offsetX,D.offsetY),a.scale(D.scaleX,D.scaleY),a.createPattern(D.canvas,"no-repeat")}}class I extends d{getPattern(){return"hotpink"}}class s{static get MAX_PATTERN_SIZE(){return(0,rt.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(a,f,l,n,o){this.operatorList=a[2],this.matrix=a[3]||[1,0,0,1,0,0],this.bbox=a[4],this.xstep=a[5],this.ystep=a[6],this.paintType=a[7],this.tilingType=a[8],this.color=f,this.ctx=l,this.canvasGraphicsFactory=n,this.baseTransform=o}createPatternCanvas(a){const f=this.operatorList,l=this.bbox,n=this.xstep,o=this.ystep,D=this.paintType,O=this.color,B=this.canvasGraphicsFactory;(0,rt.info)("TilingType: "+this.tilingType);const h=l[0],y=l[1],g=l[2],r=l[3],c=rt.Util.singularValueDecompose2dScale(this.matrix),P=rt.Util.singularValueDecompose2dScale(this.baseTransform),T=[c[0]*P[0],c[1]*P[1]],x=this.getSizeAndScale(n,this.ctx.canvas.width,T[0]),C=this.getSizeAndScale(o,this.ctx.canvas.height,T[1]),b=a.cachedCanvases.getCanvas("pattern",x.size,C.size,!0),A=b.context,R=B.createCanvasGraphics(A);R.groupLevel=a.groupLevel,this.setFillAndStrokeStyleToContext(R,D,O);let F=h,N=y,E=g,L=r;return h<0&&(F=0,E+=Math.abs(h)),y<0&&(N=0,L+=Math.abs(y)),A.translate(-x.scale*F,-C.scale*N),R.transform(x.scale,0,0,C.scale,0,0),A.save(),this.clipBbox(R,F,N,E,L),R.baseTransform=(0,it.getCurrentTransform)(R.ctx),R.executeOperatorList(f),R.endDrawing(),{canvas:b.canvas,scaleX:x.scale,scaleY:C.scale,offsetX:F,offsetY:N}}getSizeAndScale(a,f,l){a=Math.abs(a);const n=Math.max(s.MAX_PATTERN_SIZE,f);let o=Math.ceil(a*l);return o>=n?o=n:l=o/a,{scale:l,size:o}}clipBbox(a,f,l,n,o){a.ctx.rect(f,l,n-f,o-l),a.current.updateRectMinMax((0,it.getCurrentTransform)(a.ctx),[f,l,n,o]),a.clip(),a.endPath()}setFillAndStrokeStyleToContext(a,f,l){const n=a.ctx,o=a.current;switch(f){case 1:const D=this.ctx;n.fillStyle=D.fillStyle,n.strokeStyle=D.strokeStyle,o.fillColor=D.fillStyle,o.strokeColor=D.strokeStyle;break;case 2:const m=rt.Util.makeHexColor(l[0],l[1],l[2]);n.fillStyle=m,n.strokeStyle=m,o.fillColor=m,o.strokeColor=m;break;default:throw new rt.FormatError(`Unsupported paint type: ${f}`)}}getPattern(a,f,l,n){let o=l;n!==K.SHADING&&(o=rt.Util.transform(o,f.baseTransform),this.matrix&&(o=rt.Util.transform(o,this.matrix)));const D=this.createPatternCanvas(f);let m=new DOMMatrix(o);m=m.translate(D.offsetX,D.offsetY),m=m.scale(1/D.scaleX,1/D.scaleY);const O=a.createPattern(D.canvas,"repeat");try{O.setTransform(m)}catch(B){(0,rt.warn)(`TilingPattern.getPattern: "${B?.message}".`)}return O}}et.TilingPattern=s},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.applyMaskImageData=function({src:v,srcPos:K=0,dest:e,destPos:d=0,width:_,height:S,inverseDecode:t=!1}){const u=rt.FeatureTest.isLittleEndian?4278190080:255,[I,w]=t?[0,u]:[u,0],k=_>>3,s=7&_,i=v.length;e=new Uint32Array(e.buffer);for(let a=0;a<S;a++){for(const l=K+k;K<l;K++){const n=K<i?v[K]:255;e[d++]=128&n?w:I,e[d++]=64&n?w:I,e[d++]=32&n?w:I,e[d++]=16&n?w:I,e[d++]=8&n?w:I,e[d++]=4&n?w:I,e[d++]=2&n?w:I,e[d++]=1&n?w:I}if(0===s)continue;const f=K<i?v[K++]:255;for(let l=0;l<s;l++)e[d++]=f&1<<7-l?w:I}return{srcPos:K,destPos:d}};var rt=dt(1)},(It,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.GlobalWorkerOptions=void 0;const dt=Object.create(null);et.GlobalWorkerOptions=dt,dt.workerPort=void 0===dt.workerPort?null:dt.workerPort,dt.workerSrc=void 0===dt.workerSrc?"":dt.workerSrc},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.MessageHandler=void 0;var rt=dt(1);function w(k){switch(k instanceof Error||"object"==typeof k&&null!==k||(0,rt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),k.name){case"AbortException":return new rt.AbortException(k.message);case"MissingPDFException":return new rt.MissingPDFException(k.message);case"PasswordException":return new rt.PasswordException(k.message,k.code);case"UnexpectedResponseException":return new rt.UnexpectedResponseException(k.message,k.status);case"UnknownErrorException":return new rt.UnknownErrorException(k.message,k.details);default:return new rt.UnknownErrorException(k.message,k.toString())}}et.MessageHandler=class{constructor(s,i,a){this.sourceName=s,this.targetName=i,this.comObj=a,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=f=>{const l=f.data;if(l.targetName!==this.sourceName)return;if(l.stream)return void this._processStreamMessage(l);if(l.callback){const o=l.callbackId,D=this.callbackCapabilities[o];if(!D)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],1===l.callback)D.resolve(l.data);else{if(2!==l.callback)throw new Error("Unexpected callback case");D.reject(w(l.reason))}return}const n=this.actionHandler[l.action];if(!n)throw new Error(`Unknown action from worker: ${l.action}`);if(l.callbackId){const o=this.sourceName,D=l.sourceName;new Promise(function(m){m(n(l.data))}).then(function(m){a.postMessage({sourceName:o,targetName:D,callback:1,callbackId:l.callbackId,data:m})},function(m){a.postMessage({sourceName:o,targetName:D,callback:2,callbackId:l.callbackId,reason:w(m)})})}else l.streamId?this._createStreamSink(l):n(l.data)},a.addEventListener("message",this._onComObjOnMessage)}on(s,i){const a=this.actionHandler;if(a[s])throw new Error(`There is already an actionName called "${s}"`);a[s]=i}send(s,i,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:s,data:i},a)}sendWithPromise(s,i,a){const f=this.callbackId++,l=(0,rt.createPromiseCapability)();this.callbackCapabilities[f]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:s,callbackId:f,data:i},a)}catch(n){l.reject(n)}return l.promise}sendWithStream(s,i,a,f){const l=this.streamId++,n=this.sourceName,o=this.targetName,D=this.comObj;return new ReadableStream({start:m=>{const O=(0,rt.createPromiseCapability)();return this.streamControllers[l]={controller:m,startCall:O,pullCall:null,cancelCall:null,isClosed:!1},D.postMessage({sourceName:n,targetName:o,action:s,streamId:l,data:i,desiredSize:m.desiredSize},f),O.promise},pull:m=>{const O=(0,rt.createPromiseCapability)();return this.streamControllers[l].pullCall=O,D.postMessage({sourceName:n,targetName:o,stream:6,streamId:l,desiredSize:m.desiredSize}),O.promise},cancel:m=>{(0,rt.assert)(m instanceof Error,"cancel must have a valid reason");const O=(0,rt.createPromiseCapability)();return this.streamControllers[l].cancelCall=O,this.streamControllers[l].isClosed=!0,D.postMessage({sourceName:n,targetName:o,stream:1,streamId:l,reason:w(m)}),O.promise}},a)}_createStreamSink(s){const i=s.streamId,a=this.sourceName,f=s.sourceName,l=this.comObj,n=this,o=this.actionHandler[s.action],D={enqueue(m,O=1,B){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=O,h>0&&this.desiredSize<=0&&(this.sinkCapability=(0,rt.createPromiseCapability)(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:a,targetName:f,stream:4,streamId:i,chunk:m},B)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:a,targetName:f,stream:3,streamId:i}),delete n.streamSinks[i])},error(m){(0,rt.assert)(m instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:a,targetName:f,stream:5,streamId:i,reason:w(m)}))},sinkCapability:(0,rt.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:s.desiredSize,ready:null};D.sinkCapability.resolve(),D.ready=D.sinkCapability.promise,this.streamSinks[i]=D,new Promise(function(m){m(o(s.data,D))}).then(function(){l.postMessage({sourceName:a,targetName:f,stream:8,streamId:i,success:!0})},function(m){l.postMessage({sourceName:a,targetName:f,stream:8,streamId:i,reason:w(m)})})}_processStreamMessage(s){const i=s.streamId,a=this.sourceName,f=s.sourceName,l=this.comObj,n=this.streamControllers[i],o=this.streamSinks[i];switch(s.stream){case 8:s.success?n.startCall.resolve():n.startCall.reject(w(s.reason));break;case 7:s.success?n.pullCall.resolve():n.pullCall.reject(w(s.reason));break;case 6:if(!o){l.postMessage({sourceName:a,targetName:f,stream:7,streamId:i,success:!0});break}o.desiredSize<=0&&s.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=s.desiredSize,new Promise(function(D){D(o.onPull&&o.onPull())}).then(function(){l.postMessage({sourceName:a,targetName:f,stream:7,streamId:i,success:!0})},function(D){l.postMessage({sourceName:a,targetName:f,stream:7,streamId:i,reason:w(D)})});break;case 4:if((0,rt.assert)(n,"enqueue should have stream controller"),n.isClosed)break;n.controller.enqueue(s.chunk);break;case 3:if((0,rt.assert)(n,"close should have stream controller"),n.isClosed)break;n.isClosed=!0,n.controller.close(),this._deleteStreamController(n,i);break;case 5:(0,rt.assert)(n,"error should have stream controller"),n.controller.error(w(s.reason)),this._deleteStreamController(n,i);break;case 2:s.success?n.cancelCall.resolve():n.cancelCall.reject(w(s.reason)),this._deleteStreamController(n,i);break;case 1:if(!o)break;new Promise(function(D){D(o.onCancel&&o.onCancel(w(s.reason)))}).then(function(){l.postMessage({sourceName:a,targetName:f,stream:2,streamId:i,success:!0})},function(D){l.postMessage({sourceName:a,targetName:f,stream:2,streamId:i,reason:w(D)})}),o.sinkCapability.reject(w(s.reason)),o.isCancelled=!0,delete this.streamSinks[i];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(s,i){await Promise.allSettled([s.startCall&&s.startCall.promise,s.pullCall&&s.pullCall.promise,s.cancelCall&&s.cancelCall.promise]),delete this.streamControllers[i]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.Metadata=void 0;var rt=dt(1);et.Metadata=class{#t;#e;constructor({parsedData:v,rawData:K}){this.#t=v,this.#e=K}getRaw(){return this.#e}get(v){return this.#t.get(v)??null}getAll(){return(0,rt.objectFromMap)(this.#t)}has(v){return this.#t.has(v)}}},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.OptionalContentConfig=void 0;var rt=dt(1);const it=Symbol("INTERNAL");class v{#t=!0;constructor(e,d){this.name=e,this.intent=d}get visible(){return this.#t}_setVisible(e,d){e!==it&&(0,rt.unreachable)("Internal method `_setVisible` called."),this.#t=d}}et.OptionalContentConfig=class{#t=!0;#e=new Map;#n=null;#i=null;constructor(e){if(this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,this.#i=e.order;for(const d of e.groups)this.#e.set(d.id,new v(d.name,d.intent));if("OFF"===e.baseState)for(const d of this.#e.values())d._setVisible(it,!1);for(const d of e.on)this.#e.get(d)._setVisible(it,!0);for(const d of e.off)this.#e.get(d)._setVisible(it,!1);this.#n=new Map;for(const[d,_]of this.#e)this.#n.set(d,_.visible)}}#a(e){const d=e.length;if(d<2)return!0;const _=e[0];for(let S=1;S<d;S++){const t=e[S];let u;if(Array.isArray(t))u=this.#a(t);else{if(!this.#e.has(t))return(0,rt.warn)(`Optional content group not found: ${t}`),!0;u=this.#e.get(t).visible}switch(_){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return"And"===_}isVisible(e){if(0===this.#e.size)return!0;if(!e)return(0,rt.warn)("Optional content group not defined."),!0;if("OCG"===e.type)return this.#e.has(e.id)?this.#e.get(e.id).visible:((0,rt.warn)(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return this.#a(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const d of e.ids){if(!this.#e.has(d))return(0,rt.warn)(`Optional content group not found: ${d}`),!0;if(this.#e.get(d).visible)return!0}return!1}if("AllOn"===e.policy){for(const d of e.ids){if(!this.#e.has(d))return(0,rt.warn)(`Optional content group not found: ${d}`),!0;if(!this.#e.get(d).visible)return!1}return!0}if("AnyOff"===e.policy){for(const d of e.ids){if(!this.#e.has(d))return(0,rt.warn)(`Optional content group not found: ${d}`),!0;if(!this.#e.get(d).visible)return!0}return!1}if("AllOff"===e.policy){for(const d of e.ids){if(!this.#e.has(d))return(0,rt.warn)(`Optional content group not found: ${d}`),!0;if(this.#e.get(d).visible)return!1}return!0}return(0,rt.warn)(`Unknown optional content policy ${e.policy}.`),!0}return(0,rt.warn)(`Unknown group type ${e.type}.`),!0}setVisibility(e,d=!0){this.#e.has(e)?(this.#e.get(e)._setVisible(it,!!d),this.#t=null):(0,rt.warn)(`Optional content group not found: ${e}`)}get hasInitialVisibility(){if(null!==this.#t)return this.#t;for(const[e,d]of this.#e){const _=this.#n.get(e);if(d.visible!==_)return this.#t=!1}return this.#t=!0}getOrder(){return this.#e.size?this.#i?this.#i.slice():[...this.#e.keys()]:null}getGroups(){return this.#e.size>0?(0,rt.objectFromMap)(this.#e):null}getGroup(e){return this.#e.get(e)||null}}},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.PDFDataTransportStream=void 0;var rt=dt(1),it=dt(8);et.PDFDataTransportStream=class{constructor(d,_){(0,rt.assert)(_,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=d.progressiveDone||!1,this._contentDispositionFilename=d.contentDispositionFilename||null;const S=d.initialData;if(S?.length>0){const t=new Uint8Array(S).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=_,this._isStreamingSupported=!d.disableStream,this._isRangeSupported=!d.disableRange,this._contentLength=d.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((t,u)=>{this._onReceiveData({begin:t,chunk:u})}),this._pdfDataRangeTransport.addProgressListener((t,u)=>{this._onProgress({loaded:t,total:u})}),this._pdfDataRangeTransport.addProgressiveReadListener(t=>{this._onReceiveData({chunk:t})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(d){const _=new Uint8Array(d.chunk).buffer;if(void 0===d.begin)this._fullRequestReader?this._fullRequestReader._enqueue(_):this._queuedChunks.push(_);else{const S=this._rangeReaders.some(function(t){return t._begin===d.begin&&(t._enqueue(_),!0)});(0,rt.assert)(S,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(d){if(void 0===d.total){const _=this._rangeReaders[0];_?.onProgress&&_.onProgress({loaded:d.loaded})}else{const _=this._fullRequestReader;_?.onProgress&&_.onProgress({loaded:d.loaded,total:d.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(d){const _=this._rangeReaders.indexOf(d);_>=0&&this._rangeReaders.splice(_,1)}getFullReader(){(0,rt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const d=this._queuedChunks;return this._queuedChunks=null,new v(this,d,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(d,_){if(_<=this._progressiveDataLength)return null;const S=new K(this,d,_);return this._pdfDataRangeTransport.requestDataRange(d,_),this._rangeReaders.push(S),S}cancelAllRequests(d){this._fullRequestReader&&this._fullRequestReader.cancel(d);for(const _ of this._rangeReaders.slice(0))_.cancel(d);this._pdfDataRangeTransport.abort()}};class v{constructor(d,_,S=!1,t=null){this._stream=d,this._done=S||!1,this._filename=(0,it.isPdfFile)(t)?t:null,this._queuedChunks=_||[],this._loaded=0;for(const u of this._queuedChunks)this._loaded+=u.byteLength;this._requests=[],this._headersReady=Promise.resolve(),d._fullRequestReader=this,this.onProgress=null}_enqueue(d){this._done||(this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunks.push(d),this._loaded+=d.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const d=(0,rt.createPromiseCapability)();return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class K{constructor(d,_,S){this._stream=d,this._begin=_,this._end=S,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(d){if(!this._done){if(0===this._requests.length)this._queuedChunk=d;else{this._requests.shift().resolve({value:d,done:!1});for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const _=this._queuedChunk;return this._queuedChunk=null,{value:_,done:!1}}if(this._done)return{value:void 0,done:!0};const d=(0,rt.createPromiseCapability)();return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(It,et)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.XfaText=void 0;class dt{static textContent(it){const v=[],K={items:v,styles:Object.create(null)};return function e(d){if(!d)return;let _=null;const S=d.name;if("#text"===S)_=d.value;else{if(!dt.shouldBuildText(S))return;d?.attributes?.textContent?_=d.attributes.textContent:d.value&&(_=d.value)}if(null!==_&&v.push({str:_}),d.children)for(const t of d.children)e(t)}(it),K}static shouldBuildText(it){return!("textarea"===it||"input"===it||"option"===it||"select"===it)}}et.XfaText=dt},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.NodeStandardFontDataFactory=et.NodeCanvasFactory=et.NodeCMapReaderFactory=void 0;var rt=dt(9);const it=function(d){return new Promise((_,S)=>{require("fs").readFile(d,(t,u)=>{!t&&u?_(new Uint8Array(u)):S(new Error(t))})})};et.NodeCanvasFactory=class v extends rt.BaseCanvasFactory{_createCanvas(_,S){return require("canvas").createCanvas(_,S)}},et.NodeCMapReaderFactory=class K extends rt.BaseCMapReaderFactory{_fetchData(_,S){return it(_).then(t=>({cMapData:t,compressionType:S}))}},et.NodeStandardFontDataFactory=class e extends rt.BaseStandardFontDataFactory{_fetchData(_){return it(_)}}},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.AnnotationEditorLayer=void 0;var rt=dt(7),it=dt(1),v=dt(23),K=dt(24);class e{#t;#e=!1;#n=this.pointerup.bind(this);#i=this.pointerdown.bind(this);#a=new Map;#h=!1;#o=!1;#r;static _initialized=!1;constructor(_){e._initialized||(e._initialized=!0,v.FreeTextEditor.initialize(_.l10n),K.InkEditor.initialize(_.l10n),_.uiManager.registerEditorTypes([v.FreeTextEditor,K.InkEditor])),this.#r=_.uiManager,this.annotationStorage=_.annotationStorage,this.pageIndex=_.pageIndex,this.div=_.div,this.#t=_.accessibilityManager,this.#r.addLayer(this)}updateToolbar(_){this.#r.updateToolbar(_)}updateMode(_=this.#r.getMode()){this.#s(),_===it.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#r.unselectAll()}addInkEditorIfNeeded(_){if(_||this.#r.getMode()===it.AnnotationEditorType.INK){if(!_)for(const S of this.#a.values())if(S.isEmpty())return void S.setInBackground();this.#l({offsetX:0,offsetY:0}).setInBackground()}}setEditingState(_){this.#r.setEditingState(_)}addCommands(_){this.#r.addCommands(_)}enable(){this.div.style.pointerEvents="auto";for(const _ of this.#a.values())_.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const _ of this.#a.values())_.disableEditing()}setActiveEditor(_){this.#r.getActive()!==_&&this.#r.setActiveEditor(_)}enableClick(){this.div.addEventListener("pointerdown",this.#i),this.div.addEventListener("pointerup",this.#n)}disableClick(){this.div.removeEventListener("pointerdown",this.#i),this.div.removeEventListener("pointerup",this.#n)}attach(_){this.#a.set(_.id,_)}detach(_){this.#a.delete(_.id),this.#t?.removePointerInTextLayer(_.contentDiv)}remove(_){this.#r.removeEditor(_),this.detach(_),this.annotationStorage.remove(_.id),_.div.style.display="none",setTimeout(()=>{_.div.style.display="",_.div.remove(),_.isAttachedToDOM=!1,document.activeElement===document.body&&this.#r.focusMainContainer()},0),this.#o||this.addInkEditorIfNeeded(!1)}#d(_){_.parent!==this&&(this.attach(_),_.pageIndex=this.pageIndex,_.parent?.detach(_),_.parent=this,_.div&&_.isAttachedToDOM&&(_.div.remove(),this.div.append(_.div)))}add(_){if(this.#d(_),this.#r.addEditor(_),this.attach(_),!_.isAttachedToDOM){const S=_.render();this.div.append(S),_.isAttachedToDOM=!0}this.moveEditorInDOM(_),_.onceAdded(),this.addToAnnotationStorage(_)}moveEditorInDOM(_){this.#t?.moveElementInDOM(this.div,_.div,_.contentDiv,!0)}addToAnnotationStorage(_){_.isEmpty()||this.annotationStorage.has(_.id)||this.annotationStorage.setValue(_.id,_)}addOrRebuild(_){_.needsToBeRebuilt()?_.rebuild():this.add(_)}addANewEditor(_){this.addCommands({cmd:()=>{this.addOrRebuild(_)},undo:()=>{_.remove()},mustExec:!0})}addUndoableEditor(_){this.addCommands({cmd:()=>{this.addOrRebuild(_)},undo:()=>{_.remove()},mustExec:!1})}getNextId(){return this.#r.getId()}#c(_){switch(this.#r.getMode()){case it.AnnotationEditorType.FREETEXT:return new v.FreeTextEditor(_);case it.AnnotationEditorType.INK:return new K.InkEditor(_)}return null}deserialize(_){switch(_.annotationType){case it.AnnotationEditorType.FREETEXT:return v.FreeTextEditor.deserialize(_,this);case it.AnnotationEditorType.INK:return K.InkEditor.deserialize(_,this)}return null}#l(_){const S=this.getNextId(),t=this.#c({parent:this,id:S,x:_.offsetX,y:_.offsetY});return t&&this.add(t),t}setSelected(_){this.#r.setSelected(_)}toggleSelected(_){this.#r.toggleSelected(_)}isSelected(_){return this.#r.isSelected(_)}unselect(_){this.#r.unselect(_)}pointerup(_){!(0!==_.button||_.ctrlKey&&rt.KeyboardManager.platform.isMac)&&_.target===this.div&&this.#h&&(this.#h=!1,this.#e?this.#l(_):this.#e=!0)}pointerdown(_){if(0!==_.button||_.ctrlKey&&rt.KeyboardManager.platform.isMac||_.target!==this.div)return;this.#h=!0;const t=this.#r.getActive();this.#e=!t||t.isEmpty()}drop(_){const S=_.dataTransfer.getData("text/plain"),t=this.#r.getEditor(S);if(!t)return;_.preventDefault(),_.dataTransfer.dropEffect="move",this.#d(t);const u=this.div.getBoundingClientRect();t.translate(_.clientX-u.x-t.startX,_.clientY-u.y-t.startY),this.moveEditorInDOM(t),t.div.focus()}dragover(_){_.preventDefault()}destroy(){this.#r.getActive()?.parent===this&&this.#r.setActiveEditor(null);for(const _ of this.#a.values())this.#t?.removePointerInTextLayer(_.contentDiv),_.isAttachedToDOM=!1,_.div.remove(),_.parent=null;this.div=null,this.#a.clear(),this.#r.removeLayer(this)}#s(){this.#o=!0;for(const _ of this.#a.values())_.isEmpty()&&_.remove();this.#o=!1}render(_){this.viewport=_.viewport,(0,rt.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const S of this.#r.getEditors(this.pageIndex))this.add(S);this.updateMode()}update(_){this.viewport=_.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[_,S,t,u]=this.viewport.viewBox;return[t-_,u-S]}get viewportBaseDimensions(){const{width:_,height:S,rotation:t}=this.viewport;return t%180==0?[_,S]:[S,_]}setDimensions(){const{width:_,height:S,rotation:t}=this.viewport,u=t%180!=0,I=Math.floor(_)+"px",w=Math.floor(S)+"px";this.div.style.width=u?w:I,this.div.style.height=u?I:w,this.div.setAttribute("data-main-rotation",t)}}et.AnnotationEditorLayer=e},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.FreeTextEditor=void 0;var rt=dt(1),it=dt(7),v=dt(6);class K extends v.AnnotationEditor{#t=this.editorDivBlur.bind(this);#e=this.editorDivFocus.bind(this);#n=this.editorDivKeydown.bind(this);#i;#a="";#h=!1;#o;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=new it.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],K.prototype.commitOrRemove]]);static _type="freetext";constructor(d){super({...d,name:"freeTextEditor"}),this.#i=d.color||K._defaultColor||v.AnnotationEditor._defaultLineColor,this.#o=d.fontSize||K._defaultFontSize}static initialize(d){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(S=>[S,d.get(S)]));const _=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(_.getPropertyValue("--freetext-padding"))}static updateDefaultParams(d,_){switch(d){case rt.AnnotationEditorParamsType.FREETEXT_SIZE:K._defaultFontSize=_;break;case rt.AnnotationEditorParamsType.FREETEXT_COLOR:K._defaultColor=_}}updateParams(d,_){switch(d){case rt.AnnotationEditorParamsType.FREETEXT_SIZE:this.#r(_);break;case rt.AnnotationEditorParamsType.FREETEXT_COLOR:this.#d(_)}}static get defaultPropertiesToUpdate(){return[[rt.AnnotationEditorParamsType.FREETEXT_SIZE,K._defaultFontSize],[rt.AnnotationEditorParamsType.FREETEXT_COLOR,K._defaultColor||v.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[rt.AnnotationEditorParamsType.FREETEXT_SIZE,this.#o],[rt.AnnotationEditorParamsType.FREETEXT_COLOR,this.#i]]}#r(d){const _=t=>{this.editorDiv.style.fontSize=`calc(${t}px * var(--scale-factor))`,this.translate(0,-(t-this.#o)*this.parent.scaleFactor),this.#o=t,this.#l()},S=this.#o;this.parent.addCommands({cmd:()=>{_(d)},undo:()=>{_(S)},mustExec:!0,type:rt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#d(d){const _=this.#i;this.parent.addCommands({cmd:()=>{this.#i=d,this.editorDiv.style.color=d},undo:()=>{this.#i=_,this.editorDiv.style.color=_},mustExec:!0,type:rt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){return[-K._internalPadding*this.parent.scaleFactor,-(K._internalPadding+this.#o)*this.parent.scaleFactor]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(rt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",this.#n),this.editorDiv.addEventListener("focus",this.#e),this.editorDiv.addEventListener("blur",this.#t))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#n),this.editorDiv.removeEventListener("focus",this.#e),this.editorDiv.removeEventListener("blur",this.#t),this.div.focus(),this.isEditing=!1)}focusin(d){super.focusin(d),d.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}#c(){const d=this.editorDiv.getElementsByTagName("div");if(0===d.length)return this.editorDiv.innerText;const _=[];for(let S=0,t=d.length;S<t;S++){const u=d[S].firstChild;_.push("#text"===u?.nodeName?u.data:"")}return _.join("\n")}#l(){const[d,_]=this.parent.viewportBaseDimensions,S=this.div.getBoundingClientRect();this.width=S.width/d,this.height=S.height/_}commit(){super.commit(),this.#h||(this.#h=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#a=this.#c().trimEnd(),this.#l()}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(d){this.enableEditMode(),this.editorDiv.focus()}keydown(d){d.target===this.div&&"Enter"===d.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(d){K._keyboardManager.exec(this,d)}editorDivFocus(d){this.isEditing=!0}editorDivBlur(d){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let d,_;this.width&&(d=this.x,_=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),K._l10nPromise.get("editor_free_text_aria_label").then(t=>this.editorDiv?.setAttribute("aria-label",t)),K._l10nPromise.get("free_text_default_content").then(t=>this.editorDiv?.setAttribute("default-content",t)),this.editorDiv.contentEditable=!0;const{style:S}=this.editorDiv;if(S.fontSize=`calc(${this.#o}px * var(--scale-factor))`,S.color=this.#i,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,it.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[t,u]=this.parent.viewportBaseDimensions;this.setAt(d*t,_*u,this.width*t,this.height*u);for(const I of this.#a.split("\n")){const w=document.createElement("div");w.append(I?document.createTextNode(I):document.createElement("br")),this.editorDiv.append(w)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(d,_){const S=super.deserialize(d,_);return S.#o=d.fontSize,S.#i=rt.Util.makeHexColor(...d.color),S.#a=d.value,S}serialize(){if(this.isEmpty())return null;const d=K._internalPadding*this.parent.scaleFactor,_=this.getRect(d,d),S=v.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:rt.AnnotationEditorType.FREETEXT,color:S,fontSize:this.#o,value:this.#a,pageIndex:this.parent.pageIndex,rect:_,rotation:this.rotation}}}et.FreeTextEditor=K},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.InkEditor=void 0,Object.defineProperty(et,"fitCurve",{enumerable:!0,get:function(){return v.fitCurve}});var rt=dt(1),it=dt(6),v=dt(25),K=dt(7);const e=16;class d extends it.AnnotationEditor{#t=0;#e=0;#n=0;#i=this.canvasPointermove.bind(this);#a=this.canvasPointerleave.bind(this);#h=this.canvasPointerup.bind(this);#o=this.canvasPointerdown.bind(this);#r=!1;#d=!1;#c=null;#l=null;#s=0;#m=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(S){super({...S,name:"inkEditor"}),this.color=S.color||null,this.thickness=S.thickness||null,this.opacity=S.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(S){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(t=>[t,S.get(t)]))}static updateDefaultParams(S,t){switch(S){case rt.AnnotationEditorParamsType.INK_THICKNESS:d._defaultThickness=t;break;case rt.AnnotationEditorParamsType.INK_COLOR:d._defaultColor=t;break;case rt.AnnotationEditorParamsType.INK_OPACITY:d._defaultOpacity=t/100}}updateParams(S,t){switch(S){case rt.AnnotationEditorParamsType.INK_THICKNESS:this.#k(t);break;case rt.AnnotationEditorParamsType.INK_COLOR:this.#C(t);break;case rt.AnnotationEditorParamsType.INK_OPACITY:this.#y(t)}}static get defaultPropertiesToUpdate(){return[[rt.AnnotationEditorParamsType.INK_THICKNESS,d._defaultThickness],[rt.AnnotationEditorParamsType.INK_COLOR,d._defaultColor||it.AnnotationEditor._defaultLineColor],[rt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*d._defaultOpacity)]]}get propertiesToUpdate(){return[[rt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||d._defaultThickness],[rt.AnnotationEditorParamsType.INK_COLOR,this.color||d._defaultColor||it.AnnotationEditor._defaultLineColor],[rt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??d._defaultOpacity))]]}#k(S){const t=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=S,this.#v()},undo:()=>{this.thickness=t,this.#v()},mustExec:!0,type:rt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#C(S){const t=this.color;this.parent.addCommands({cmd:()=>{this.color=S,this.#f()},undo:()=>{this.color=t,this.#f()},mustExec:!0,type:rt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#y(S){S/=100;const t=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=S,this.#f()},undo:()=>{this.opacity=t,this.#f()},mustExec:!0,type:rt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(this.#g(),this.#b()),this.isAttachedToDOM||(this.parent.add(this),this.#A()),this.#v())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#l.disconnect(),this.#l=null,super.remove())}enableEditMode(){!this.#r&&null!==this.canvas&&(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#o),this.canvas.addEventListener("pointerup",this.#h))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#o),this.canvas.removeEventListener("pointerup",this.#h))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#F(){const{width:S,height:t,rotation:u}=this.parent.viewport;switch(u){case 90:return[0,S,S,t];case 180:return[S,t,S,t];case 270:return[t,0,S,t];default:return[0,0,S,t]}}#S(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,K.opacityToHex)(this.opacity)}`}#u(S,t){this.isEditing=!0,this.#d||(this.#d=!0,this.#A(),this.thickness||=d._defaultThickness,this.color||=d._defaultColor||it.AnnotationEditor._defaultLineColor,this.opacity??=d._defaultOpacity),this.currentPath.push([S,t]),this.#c=null,this.#S(),this.ctx.beginPath(),this.ctx.moveTo(S,t),this.#p=()=>{this.#p&&(this.#c&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#f(),this.ctx.lineTo(...this.#c),this.#c=null,this.ctx.stroke()),window.requestAnimationFrame(this.#p))},window.requestAnimationFrame(this.#p)}#w(S,t){const[u,I]=this.currentPath.at(-1);(S!==u||t!==I)&&(this.currentPath.push([S,t]),this.#c=[S,t])}#T(S,t){this.ctx.closePath(),this.#p=null,S=Math.min(Math.max(S,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height);const[u,I]=this.currentPath.at(-1);let w;if(S===u&&t===I||this.currentPath.push([S,t]),1!==this.currentPath.length)w=(0,v.fitCurve)(this.currentPath,30,null);else{const s=[S,t];w=[[s,s.slice(),s.slice(),s]]}const k=d.#_(w);this.currentPath.length=0,this.parent.addCommands({cmd:()=>{this.paths.push(w),this.bezierPath2D.push(k),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#g(),this.#b()),this.#v())},mustExec:!0})}#f(){if(this.isEmpty())return void this.#O();this.#S();const{canvas:S,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,S.width,S.height),this.#O();for(const u of this.bezierPath2D)t.stroke(u)}commit(){this.#r||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#r=!0,this.div.classList.add("disabled"),this.#v(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(S){super.focusin(S),this.enableEditMode()}canvasPointerdown(S){0===S.button&&this.isInEditMode()&&!this.#r&&(this.setInForeground(),"mouse"!==S.type&&this.div.focus(),S.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#a),this.canvas.addEventListener("pointermove",this.#i),this.#u(S.offsetX,S.offsetY))}canvasPointermove(S){S.stopPropagation(),this.#w(S.offsetX,S.offsetY)}canvasPointerup(S){0===S.button&&this.isInEditMode()&&0!==this.currentPath.length&&(S.stopPropagation(),this.#x(S),this.setInBackground())}canvasPointerleave(S){this.#x(S),this.setInBackground()}#x(S){this.#T(S.offsetX,S.offsetY),this.canvas.removeEventListener("pointerleave",this.#a),this.canvas.removeEventListener("pointermove",this.#i),this.parent.addToAnnotationStorage(this)}#g(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",d._l10nPromise.get("editor_ink_canvas_aria_label").then(S=>this.canvas?.setAttribute("aria-label",S)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#b(){this.#l=new ResizeObserver(S=>{const t=S[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}),this.#l.observe(this.div)}render(){if(this.div)return this.div;let S,t;this.width&&(S=this.x,t=this.y),super.render(),d._l10nPromise.get("editor_ink_aria_label").then(s=>this.div?.setAttribute("aria-label",s));const[u,I,w,k]=this.#F();if(this.setAt(u,I,0,0),this.setDims(w,k),this.#g(),this.width){const[s,i]=this.parent.viewportBaseDimensions;this.setAt(S*s,t*i,this.width*s,this.height*i),this.#d=!0,this.#A(),this.setDims(this.width*s,this.height*i),this.#f(),this.#E(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#b(),this.div}#A(){if(!this.#d)return;const[S,t]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*S),this.canvas.height=Math.ceil(this.height*t),this.#O()}setDimensions(S,t){const u=Math.round(S),I=Math.round(t);if(this.#s===u&&this.#m===I)return;this.#s=u,this.#m=I,this.canvas.style.visibility="hidden",this.#t&&Math.abs(this.#t-S/t)>.01&&(t=Math.ceil(S/this.#t),this.setDims(S,t));const[w,k]=this.parent.viewportBaseDimensions;this.width=S/w,this.height=t/k,this.#r&&this.#I(S,t),this.#A(),this.#f(),this.canvas.style.visibility="visible"}#I(S,t){const u=this.#P(),I=(S-u)/this.#n,w=(t-u)/this.#e;this.scaleFactor=Math.min(I,w)}#O(){const S=this.#P()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+S,this.translationY*this.scaleFactor+S)}static#_(S){const t=new Path2D;for(let u=0,I=S.length;u<I;u++){const[w,k,s,i]=S[u];0===u&&t.moveTo(...w),t.bezierCurveTo(k[0],k[1],s[0],s[1],i[0],i[1])}return t}#D(S,t,u,I){const w=[],k=this.thickness/2;let s,i;for(const a of this.paths){s=[],i=[];for(let f=0,l=a.length;f<l;f++){const[n,o,D,m]=a[f],O=S*(n[0]+t)+k,B=I-S*(n[1]+u)-k,h=S*(o[0]+t)+k,y=I-S*(o[1]+u)-k,g=S*(D[0]+t)+k,r=I-S*(D[1]+u)-k,c=S*(m[0]+t)+k,P=I-S*(m[1]+u)-k;0===f&&(s.push(O,B),i.push(O,B)),s.push(h,y,g,r,c,P),this.#R(O,B,h,y,g,r,c,P,4,i)}w.push({bezier:s,points:i})}return w}#R(S,t,u,I,w,k,s,i,a,f){if(this.#N(S,t,u,I,w,k,s,i))f.push(s,i);else{for(let l=1;l<a-1;l++){const n=l/a,o=1-n;let D=n*S+o*u,m=n*t+o*I,O=n*u+o*w,B=n*I+o*k;D=n*D+o*O,m=n*m+o*B,O=n*O+o*(n*w+o*s),B=n*B+o*(n*k+o*i),D=n*D+o*O,m=n*m+o*B,f.push(D,m)}f.push(s,i)}}#N(S,t,u,I,w,k,s,i){const f=(3*I-2*t-i)**2,n=(3*k-t-2*i)**2;return Math.max((3*u-2*S-s)**2,(3*w-S-2*s)**2)+Math.max(f,n)<=10}#M(){let S=1/0,t=-1/0,u=1/0,I=-1/0;for(const w of this.paths)for(const[k,s,i,a]of w){const f=rt.Util.bezierBoundingBox(...k,...s,...i,...a);S=Math.min(S,f[0]),u=Math.min(u,f[1]),t=Math.max(t,f[2]),I=Math.max(I,f[3])}return[S,u,t,I]}#P(){return this.#r?Math.ceil(this.thickness*this.parent.scaleFactor):0}#v(S=!1){if(this.isEmpty())return;if(!this.#r)return void this.#f();const t=this.#M(),u=this.#P();this.#n=Math.max(e,t[2]-t[0]),this.#e=Math.max(e,t[3]-t[1]);const I=Math.ceil(u+this.#n*this.scaleFactor),w=Math.ceil(u+this.#e*this.scaleFactor),[k,s]=this.parent.viewportBaseDimensions;this.width=I/k,this.height=w/s,this.#t=I/w,this.#E();const i=this.translationX,a=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#A(),this.#f(),this.#s=I,this.#m=w,this.setDims(I,w);const f=S?u/this.scaleFactor/2:0;this.translate(i-this.translationX-f,a-this.translationY-f)}#E(){const{style:S}=this.div;this.#t>=1?(S.minHeight="16px",S.minWidth=`${Math.round(this.#t*e)}px`):(S.minWidth="16px",S.minHeight=`${Math.round(e/this.#t)}px`)}static deserialize(S,t){const u=super.deserialize(S,t);u.thickness=S.thickness,u.color=rt.Util.makeHexColor(...S.color),u.opacity=S.opacity;const[I,w]=t.pageDimensions,k=u.width*I,s=u.height*w,i=t.scaleFactor,a=S.thickness/2;u.#t=k/s,u.#r=!0,u.#s=Math.round(k),u.#m=Math.round(s);for(const{bezier:l}of S.paths){const n=[];u.paths.push(n);let o=i*(l[0]-a),D=i*(s-l[1]-a);for(let O=2,B=l.length;O<B;O+=6){const c=i*(l[O+4]-a),P=i*(s-l[O+5]-a);n.push([[o,D],[i*(l[O]-a),i*(s-l[O+1]-a)],[i*(l[O+2]-a),i*(s-l[O+3]-a)],[c,P]]),o=c,D=P}const m=this.#_(n);u.bezierPath2D.push(m)}const f=u.#M();return u.#n=Math.max(e,f[2]-f[0]),u.#e=Math.max(e,f[3]-f[1]),u.#I(k,s),u}serialize(){if(this.isEmpty())return null;const S=this.getRect(0,0),t=this.rotation%180==0?S[3]-S[1]:S[2]-S[0],u=it.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:rt.AnnotationEditorType.INK,color:u,thickness:this.thickness,opacity:this.opacity,paths:this.#D(this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,t),pageIndex:this.parent.pageIndex,rect:S,rotation:this.rotation}}}et.InkEditor=d},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.fitCurve=void 0;const rt=dt(26);et.fitCurve=rt},It=>{function et(S,t,u,I,w){var k,s,i,a,f,l,n,o,D,m,O,B,h,r,c,P,T;if(2===S.length)return B=d.vectorLen(d.subtract(S[0],S[1]))/3,[k=[S[0],d.addArrays(S[0],d.mulItems(t,B)),d.addArrays(S[1],d.mulItems(u,B)),S[1]]];if(T=[],S.forEach((x,C)=>{r=C?c+d.vectorLen(d.subtract(x,P)):0,T.push(r),c=r,P=x}),s=T=T.map(x=>x/c),[k,a,l]=dt(S,s,s,t,u,w),0===a||a<I)return[k];if(a<I*I)for(i=s,f=a,n=l,h=0;h<20;h++){if(i=rt(k,S,i),[k,a,l]=dt(S,s,i,t,u,w),a<I)return[k];if(l===n){let y=a/f;if(y>.9999&&y<1.0001)break}f=a,n=l}return O=[],(o=d.subtract(S[l-1],S[l+1])).every(y=>0===y)&&(o=d.subtract(S[l-1],S[l]),[o[0],o[1]]=[-o[1],o[0]]),D=d.normalize(o),m=d.mulItems(D,-1),(O=O.concat(et(S.slice(0,l+1),t,D,I,w))).concat(et(S.slice(l),m,u,I,w))}function dt(S,t,u,I,w,k){var s,i,a;return s=function(l,n,o,D){var m,O,B,h,y,g,P,T,x,C,b,A,R,F,N,E=l[0],L=l[l.length-1];for(m=[E,null,null,L],O=d.zeros_Xx2x2(n.length),b=0,A=n.length;b<A;b++)N=1-(F=n[b]),(B=O[b])[0]=d.mulItems(o,3*F*(N*N)),B[1]=d.mulItems(D,3*N*(F*F));for(h=[[0,0],[0,0]],y=[0,0],b=0,A=l.length;b<A;b++)F=n[b],h[0][0]+=d.dot((B=O[b])[0],B[0]),h[0][1]+=d.dot(B[0],B[1]),h[1][0]+=d.dot(B[0],B[1]),h[1][1]+=d.dot(B[1],B[1]),R=d.subtract(l[b],_.q([E,E,L,L],F)),y[0]+=d.dot(B[0],R),y[1]+=d.dot(B[1],R);return T=0==(g=h[0][0]*h[1][1]-h[1][0]*h[0][1])?0:(h[0][0]*y[1]-h[1][0]*y[0])/g,(P=0===g?0:(y[0]*h[1][1]-y[1]*h[0][1])/g)<(x=1e-6*(C=d.vectorLen(d.subtract(E,L))))||T<x?(m[1]=d.addArrays(E,d.mulItems(o,C/3)),m[2]=d.addArrays(L,d.mulItems(D,C/3))):(m[1]=d.addArrays(E,d.mulItems(o,P)),m[2]=d.addArrays(L,d.mulItems(D,T))),m}(S,u,I,w),[i,a]=function(l,n,o){var D,m,O,B,h,y,g,r;m=0,O=Math.floor(l.length/2);const c=v(n,10);for(h=0,y=l.length;h<y;h++)g=l[h],r=K(0,o[h],c,10),(D=(B=d.subtract(_.q(n,r),g))[0]*B[0]+B[1]*B[1])>m&&(m=D,O=h);return[m,O]}(S,s,t),k&&k({bez:s,points:S,params:t,maxErr:i,maxPoint:a}),[s,i,a]}function rt(S,t,u){return u.map((I,w)=>function it(S,t,u){var I=d.subtract(_.q(S,u),t),w=_.qprime(S,u),k=d.mulMatrix(I,w),s=d.sum(d.squareItems(w))+2*d.mulMatrix(I,_.qprimeprime(S,u));return 0===s?u:u-k/s}(S,t[w],I))}var v=function(S,t){for(var u,I=[0],w=S[0],k=0,s=1;s<=t;s++)u=_.q(S,s/t),k+=d.vectorLen(d.subtract(u,w)),I.push(k),w=u;return I.map(i=>i/k)};function K(S,t,u,I){if(t<0)return 0;if(t>1)return 1;for(var w,s,i,a=1;a<=I;a++)if(t<=u[a]){i=(t-(w=u[a-1]))/(u[a]-w)*(a/I-(s=(a-1)/I))+s;break}return i}function e(S,t){return d.normalize(d.subtract(S,t))}class d{static zeros_Xx2x2(t){for(var u=[];t--;)u.push([0,0]);return u}static mulItems(t,u){return t.map(I=>I*u)}static mulMatrix(t,u){return t.reduce((I,w,k)=>I+w*u[k],0)}static subtract(t,u){return t.map((I,w)=>I-u[w])}static addArrays(t,u){return t.map((I,w)=>I+u[w])}static addItems(t,u){return t.map(I=>I+u)}static sum(t){return t.reduce((u,I)=>u+I)}static dot(t,u){return d.mulMatrix(t,u)}static vectorLen(t){return Math.hypot(...t)}static divItems(t,u){return t.map(I=>I/u)}static squareItems(t){return t.map(u=>u*u)}static normalize(t){return this.divItems(t,this.vectorLen(t))}}class _{static q(t,u){var I=1-u,w=d.mulItems(t[0],I*I*I),k=d.mulItems(t[1],3*I*I*u),s=d.mulItems(t[2],3*I*u*u),i=d.mulItems(t[3],u*u*u);return d.addArrays(d.addArrays(w,k),d.addArrays(s,i))}static qprime(t,u){var I=1-u,w=d.mulItems(d.subtract(t[1],t[0]),3*I*I),k=d.mulItems(d.subtract(t[2],t[1]),6*I*u),s=d.mulItems(d.subtract(t[3],t[2]),3*u*u);return d.addArrays(d.addArrays(w,k),s)}static qprimeprime(t,u){return d.addArrays(d.mulItems(d.addArrays(d.subtract(t[2],d.mulItems(t[1],2)),t[0]),6*(1-u)),d.mulItems(d.addArrays(d.subtract(t[3],d.mulItems(t[2],2)),t[1]),6*u))}}It.exports=function(t,u,I){if(!Array.isArray(t))throw new TypeError("First argument should be an array");if(t.forEach(i=>{if(!Array.isArray(i)||i.some(a=>"number"!=typeof a)||i.length!==t[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),(t=t.filter((i,a)=>0===a||!i.every((f,l)=>f===t[a-1][l]))).length<2)return[];const w=t.length,k=e(t[1],t[0]),s=e(t[w-2],t[w-1]);return et(t,k,s,u,I)},It.exports.fitCubic=et,It.exports.createTangent=e},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.AnnotationLayer=void 0;var rt=dt(1),it=dt(8),v=dt(5),K=dt(28),e=dt(29);const d=1e3,_=new WeakSet;function S(R){return{width:R[2]-R[0],height:R[3]-R[1]}}class t{static create(F){switch(F.data.annotationType){case rt.AnnotationType.LINK:return new I(F);case rt.AnnotationType.TEXT:return new w(F);case rt.AnnotationType.WIDGET:switch(F.data.fieldType){case"Tx":return new s(F);case"Btn":return F.data.radioButton?new a(F):F.data.checkBox?new i(F):new f(F);case"Ch":return new l(F)}return new k(F);case rt.AnnotationType.POPUP:return new n(F);case rt.AnnotationType.FREETEXT:return new D(F);case rt.AnnotationType.LINE:return new m(F);case rt.AnnotationType.SQUARE:return new O(F);case rt.AnnotationType.CIRCLE:return new B(F);case rt.AnnotationType.POLYLINE:return new h(F);case rt.AnnotationType.CARET:return new g(F);case rt.AnnotationType.INK:return new r(F);case rt.AnnotationType.POLYGON:return new y(F);case rt.AnnotationType.HIGHLIGHT:return new c(F);case rt.AnnotationType.UNDERLINE:return new P(F);case rt.AnnotationType.SQUIGGLY:return new T(F);case rt.AnnotationType.STRIKEOUT:return new x(F);case rt.AnnotationType.STAMP:return new C(F);case rt.AnnotationType.FILEATTACHMENT:return new b(F);default:return new u(F)}}}class u{constructor(F,{isRenderable:N=!1,ignoreBorder:E=!1,createQuadrilaterals:L=!1}={}){this.isRenderable=N,this.data=F.data,this.layer=F.layer,this.page=F.page,this.viewport=F.viewport,this.linkService=F.linkService,this.downloadManager=F.downloadManager,this.imageResourcesPath=F.imageResourcesPath,this.renderForms=F.renderForms,this.svgFactory=F.svgFactory,this.annotationStorage=F.annotationStorage,this.enableScripting=F.enableScripting,this.hasJSActions=F.hasJSActions,this._fieldObjects=F.fieldObjects,this._mouseState=F.mouseState,N&&(this.container=this._createContainer(E)),L&&(this.quadrilaterals=this._createQuadrilaterals(E))}_createContainer(F=!1){const N=this.data,E=this.page,L=this.viewport,X=document.createElement("section"),{width:V,height:J}=S(N.rect),[z,$,q,j]=L.viewBox,M=q-z,U=j-$;X.setAttribute("data-annotation-id",N.id);const H=rt.Util.normalizeRect([N.rect[0],E.view[3]-N.rect[1]+E.view[1],N.rect[2],E.view[3]-N.rect[3]+E.view[1]]);if(!F&&N.borderStyle.width>0){X.style.borderWidth=`${N.borderStyle.width}px`;const G=N.borderStyle.horizontalCornerRadius,Y=N.borderStyle.verticalCornerRadius;switch(G>0||Y>0?X.style.borderRadius=`calc(${G}px * var(--scale-factor)) / calc(${Y}px * var(--scale-factor))`:this instanceof a&&(X.style.borderRadius=`calc(${V}px * var(--scale-factor)) / calc(${J}px * var(--scale-factor))`),N.borderStyle.style){case rt.AnnotationBorderStyleType.SOLID:X.style.borderStyle="solid";break;case rt.AnnotationBorderStyleType.DASHED:X.style.borderStyle="dashed";break;case rt.AnnotationBorderStyleType.BEVELED:(0,rt.warn)("Unimplemented border style: beveled");break;case rt.AnnotationBorderStyleType.INSET:(0,rt.warn)("Unimplemented border style: inset");break;case rt.AnnotationBorderStyleType.UNDERLINE:X.style.borderBottomStyle="solid"}const tt=N.borderColor||null;tt?X.style.borderColor=rt.Util.makeHexColor(0|tt[0],0|tt[1],0|tt[2]):X.style.borderWidth=0}X.style.left=100*(H[0]-z)/M+"%",X.style.top=100*(H[1]-$)/U+"%";const{rotation:W}=N;return N.hasOwnCanvas||0===W?(X.style.width=100*V/M+"%",X.style.height=100*J/U+"%"):this.setRotation(W,X),X}setRotation(F,N=this.container){const[E,L,X,V]=this.viewport.viewBox,J=X-E,z=V-L,{width:$,height:q}=S(this.data.rect);let j,M;F%180==0?(j=100*$/J,M=100*q/z):(j=100*q/J,M=100*$/z),N.style.width=`${j}%`,N.style.height=`${M}%`,N.setAttribute("data-main-rotation",(360-F)%360)}get _commonActions(){const F=(N,E,L)=>{const X=L.detail[N];L.target.style[E]=K.ColorConverters[`${X[0]}_HTML`](X.slice(1))};return(0,rt.shadow)(this,"_commonActions",{display:N=>{const E=N.detail.display%2==1;this.container.style.visibility=E?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:E,print:0===N.detail.display||3===N.detail.display})},print:N=>{this.annotationStorage.setValue(this.data.id,{print:N.detail.print})},hidden:N=>{this.container.style.visibility=N.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:N.detail.hidden})},focus:N=>{setTimeout(()=>N.target.focus({preventScroll:!1}),0)},userName:N=>{N.target.title=N.detail.userName},readonly:N=>{N.detail.readonly?N.target.setAttribute("readonly",""):N.target.removeAttribute("readonly")},required:N=>{this._setRequired(N.target,N.detail.required)},bgColor:N=>{F("bgColor","backgroundColor",N)},fillColor:N=>{F("fillColor","backgroundColor",N)},fgColor:N=>{F("fgColor","color",N)},textColor:N=>{F("textColor","color",N)},borderColor:N=>{F("borderColor","borderColor",N)},strokeColor:N=>{F("strokeColor","borderColor",N)},rotation:N=>{const E=N.detail.rotation;this.setRotation(E),this.annotationStorage.setValue(this.data.id,{rotation:E})}})}_dispatchEventFromSandbox(F,N){const E=this._commonActions;for(const L of Object.keys(N.detail)){const X=F[L]||E[L];X&&X(N)}}_setDefaultPropertiesFromJS(F){if(!this.enableScripting)return;const N=this.annotationStorage.getRawValue(this.data.id);if(!N)return;const E=this._commonActions;for(const[L,X]of Object.entries(N)){const V=E[L];V&&(V({detail:{[L]:X},target:F}),delete N[L])}}_createQuadrilaterals(F=!1){if(!this.data.quadPoints)return null;const N=[],E=this.data.rect;for(const L of this.data.quadPoints)this.data.rect=[L[2].x,L[2].y,L[1].x,L[1].y],N.push(this._createContainer(F));return this.data.rect=E,N}_createPopup(F,N){let E=this.container;this.quadrilaterals&&(F=F||this.quadrilaterals,E=this.quadrilaterals[0]),F||((F=document.createElement("div")).className="popupTriggerArea",E.append(F));const L=new o({container:E,trigger:F,color:N.color,titleObj:N.titleObj,modificationDate:N.modificationDate,contentsObj:N.contentsObj,richText:N.richText,hideWrapper:!0}).render();L.style.left="100%",E.append(L)}_renderQuadrilaterals(F){for(const N of this.quadrilaterals)N.className=F;return this.quadrilaterals}render(){(0,rt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(F,N=null){const E=[];if(this._fieldObjects){const L=this._fieldObjects[F];if(L)for(const{page:X,id:V,exportValues:J}of L){if(-1===X||V===N)continue;const z="string"==typeof J?J:null,$=document.querySelector(`[data-element-id="${V}"]`);!$||_.has($)?E.push({id:V,exportValue:z,domElement:$}):(0,rt.warn)(`_getElementsByName - element not allowed: ${V}`)}return E}for(const L of document.getElementsByName(F)){const{id:X,exportValue:V}=L;X!==N&&_.has(L)&&E.push({id:X,exportValue:V,domElement:L})}return E}static get platform(){const F=typeof navigator<"u"?navigator.platform:"";return(0,rt.shadow)(this,"platform",{isWin:F.includes("Win"),isMac:F.includes("Mac")})}}class I extends u{constructor(F,N=null){super(F,{isRenderable:!0,ignoreBorder:!!N?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=F.data.isTooltipOnly}render(){const{data:F,linkService:N}=this,E=document.createElement("a");E.setAttribute("data-element-id",F.id);let L=!1;return F.url?(N.addLinkAttributes(E,F.url,F.newWindow),L=!0):F.action?(this._bindNamedAction(E,F.action),L=!0):F.dest?(this._bindLink(E,F.dest),L=!0):(F.actions&&(F.actions.Action||F.actions["Mouse Up"]||F.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(E,F),L=!0),F.resetForm?(this._bindResetFormAction(E,F.resetForm),L=!0):this.isTooltipOnly&&!L&&(this._bindLink(E,""),L=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((X,V)=>{const J=0===V?E:E.cloneNode();return X.append(J),X}):(this.container.className="linkAnnotation",L&&this.container.append(E),this.container)}_bindLink(F,N){F.href=this.linkService.getDestinationHash(N),F.onclick=()=>(N&&this.linkService.goToDestination(N),!1),(N||""===N)&&(F.className="internalLink")}_bindNamedAction(F,N){F.href=this.linkService.getAnchorUrl(""),F.onclick=()=>(this.linkService.executeNamedAction(N),!1),F.className="internalLink"}_bindJSAction(F,N){F.href=this.linkService.getAnchorUrl("");const E=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const L of Object.keys(N.actions)){const X=E.get(L);X&&(F[X]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N.id,name:L}}),!1))}F.onclick||(F.onclick=()=>!1),F.className="internalLink"}_bindResetFormAction(F,N){const E=F.onclick;E||(F.href=this.linkService.getAnchorUrl("")),F.className="internalLink",this._fieldObjects?F.onclick=()=>{E&&E();const{fields:L,refs:X,include:V}=N,J=[];if(0!==L.length||0!==X.length){const q=new Set(X);for(const j of L){const M=this._fieldObjects[j]||[];for(const{id:U}of M)q.add(U)}for(const j of Object.values(this._fieldObjects))for(const M of j)q.has(M.id)===V&&J.push(M)}else for(const q of Object.values(this._fieldObjects))J.push(...q);const z=this.annotationStorage,$=[];for(const q of J){const{id:j}=q;switch($.push(j),q.type){case"text":case"combobox":case"listbox":z.setValue(j,{value:q.defaultValue||""});break;case"checkbox":case"radiobutton":z.setValue(j,{value:q.defaultValue===q.exportValues});break;default:continue}const M=document.querySelector(`[data-element-id="${j}"]`);M&&(_.has(M)?M.dispatchEvent(new Event("resetform")):(0,rt.warn)(`_bindResetFormAction - element not allowed: ${j}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:$,name:"ResetForm"}}),!1}:((0,rt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),E||(F.onclick=()=>!1))}}class w extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str)})}render(){this.container.className="textAnnotation";const F=document.createElement("img");return F.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",F.alt="[{{type}} Annotation]",F.dataset.l10nId="text_annotation_type",F.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(F,this.data),this.container.append(F),this.container}}class k extends u{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(F){const{isWin:N,isMac:E}=u.platform;return N&&F.ctrlKey||E&&F.metaKey}_setEventListener(F,N,E,L){N.includes("mouse")?F.addEventListener(N,X=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:E,value:L(X),shift:X.shiftKey,modifier:this._getKeyModifier(X)}})}):F.addEventListener(N,X=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:E,value:L(X)}})})}_setEventListeners(F,N,E){for(const[L,X]of N)("Action"===X||this.data.actions?.[X])&&this._setEventListener(F,L,X,E)}_setBackgroundColor(F){const N=this.data.backgroundColor||null;F.style.backgroundColor=null===N?"transparent":rt.Util.makeHexColor(N[0],N[1],N[2])}_setTextStyle(F){const{fontColor:E}=this.data.defaultAppearanceData,L=this.data.defaultAppearanceData.fontSize||9,X=F.style;let V;if(this.data.multiLine){const J=Math.abs(this.data.rect[3]-this.data.rect[1]),z=J/(Math.round(J/(rt.LINE_FACTOR*L))||1);V=Math.min(L,Math.round(z/rt.LINE_FACTOR))}else{const J=Math.abs(this.data.rect[3]-this.data.rect[1]);V=Math.min(L,Math.round(J/rt.LINE_FACTOR))}X.fontSize=`calc(${V}px * var(--scale-factor))`,X.color=rt.Util.makeHexColor(E[0],E[1],E[2]),null!==this.data.textAlignment&&(X.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(F,N){N?F.setAttribute("required",!0):F.removeAttribute("required"),F.setAttribute("aria-required",N)}}class s extends k{constructor(F){super(F,{isRenderable:F.renderForms||!F.data.hasAppearance&&!!F.data.fieldValue})}setPropertyOnSiblings(F,N,E,L){const X=this.annotationStorage;for(const V of this._getElementsByName(F.name,F.id))V.domElement&&(V.domElement[N]=E),X.setValue(V.id,{[L]:E})}render(){const F=this.annotationStorage,N=this.data.id;this.container.className="textWidgetAnnotation";let E=null;if(this.renderForms){const L=F.getValue(N,{value:this.data.fieldValue});let X=L.formattedValue||L.value||"";const V=F.getValue(N,{charLimit:this.data.maxLen}).charLimit;V&&X.length>V&&(X=X.slice(0,V));const J={userValue:X,formattedValue:null,valueOnFocus:""};this.data.multiLine?(E=document.createElement("textarea"),E.textContent=X,this.data.doNotScroll&&(E.style.overflowY="hidden")):(E=document.createElement("input"),E.type="text",E.setAttribute("value",X),this.data.doNotScroll&&(E.style.overflowX="hidden")),_.add(E),E.setAttribute("data-element-id",N),E.disabled=this.data.readOnly,E.name=this.data.fieldName,E.tabIndex=d,this._setRequired(E,this.data.required),V&&(E.maxLength=V),E.addEventListener("input",$=>{F.setValue(N,{value:$.target.value}),this.setPropertyOnSiblings(E,"value",$.target.value,"value")}),E.addEventListener("resetform",$=>{E.value=J.userValue=this.data.defaultFieldValue??"",J.formattedValue=null});let z=$=>{const{formattedValue:q}=J;null!=q&&($.target.value=q),$.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){E.addEventListener("focus",q=>{J.userValue&&(q.target.value=J.userValue),J.valueOnFocus=q.target.value}),E.addEventListener("updatefromsandbox",q=>{this._dispatchEventFromSandbox({value(M){J.userValue=M.detail.value??"",F.setValue(N,{value:J.userValue.toString()}),M.target.value=J.userValue},formattedValue(M){const{formattedValue:U}=M.detail;J.formattedValue=U,null!=U&&M.target!==document.activeElement&&(M.target.value=U),F.setValue(N,{formattedValue:U})},selRange(M){M.target.setSelectionRange(...M.detail.selRange)},charLimit:M=>{const{charLimit:U}=M.detail,{target:H}=M;if(0===U)return void H.removeAttribute("maxLength");H.setAttribute("maxLength",U);let W=J.userValue;W&&!(W.length<=U)&&(W=W.slice(0,U),H.value=J.userValue=W,F.setValue(N,{value:W}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N,name:"Keystroke",value:W,willCommit:!0,commitKey:1,selStart:H.selectionStart,selEnd:H.selectionEnd}}))}},q)}),E.addEventListener("keydown",q=>{let j=-1;if("Escape"===q.key?j=0:"Enter"===q.key?j=2:"Tab"===q.key&&(j=3),-1===j)return;const{value:M}=q.target;J.valueOnFocus!==M&&(J.userValue=M,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N,name:"Keystroke",value:M,willCommit:!0,commitKey:j,selStart:q.target.selectionStart,selEnd:q.target.selectionEnd}}))});const $=z;z=null,E.addEventListener("blur",q=>{const{value:j}=q.target;J.userValue=j,this._mouseState.isDown&&J.valueOnFocus!==j&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N,name:"Keystroke",value:j,willCommit:!0,commitKey:1,selStart:q.target.selectionStart,selEnd:q.target.selectionEnd}}),$(q)}),this.data.actions?.Keystroke&&E.addEventListener("beforeinput",q=>{const{data:j,target:M}=q,{value:U,selectionStart:H,selectionEnd:W}=M;let G=H,Y=W;switch(q.inputType){case"deleteWordBackward":{const tt=U.substring(0,H).match(/\w*[^\w]*$/);tt&&(G-=tt[0].length);break}case"deleteWordForward":{const tt=U.substring(H).match(/^[^\w]*\w*/);tt&&(Y+=tt[0].length);break}case"deleteContentBackward":H===W&&(G-=1);break;case"deleteContentForward":H===W&&(Y+=1)}q.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N,name:"Keystroke",value:U,change:j||"",willCommit:!1,selStart:G,selEnd:Y}})}),this._setEventListeners(E,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],q=>q.target.value)}if(z&&E.addEventListener("blur",z),this.data.comb){const $=(this.data.rect[2]-this.data.rect[0])/V;E.classList.add("comb"),E.style.letterSpacing=`calc(${$}px * var(--scale-factor) - 1ch)`}}else E=document.createElement("div"),E.textContent=this.data.fieldValue,E.style.verticalAlign="middle",E.style.display="table-cell";return this._setTextStyle(E),this._setBackgroundColor(E),this._setDefaultPropertiesFromJS(E),this.container.append(E),this.container}}class i extends k{constructor(F){super(F,{isRenderable:F.renderForms})}render(){const F=this.annotationStorage,N=this.data,E=N.id;let L=F.getValue(E,{value:N.exportValue===N.fieldValue}).value;"string"==typeof L&&(L="Off"!==L,F.setValue(E,{value:L})),this.container.className="buttonWidgetAnnotation checkBox";const X=document.createElement("input");return _.add(X),X.setAttribute("data-element-id",E),X.disabled=N.readOnly,this._setRequired(X,this.data.required),X.type="checkbox",X.name=N.fieldName,L&&X.setAttribute("checked",!0),X.setAttribute("exportValue",N.exportValue),X.tabIndex=d,X.addEventListener("change",V=>{const{name:J,checked:z}=V.target;for(const $ of this._getElementsByName(J,E)){const q=z&&$.exportValue===N.exportValue;$.domElement&&($.domElement.checked=q),F.setValue($.id,{value:q})}F.setValue(E,{value:z})}),X.addEventListener("resetform",V=>{V.target.checked=(N.defaultFieldValue||"Off")===N.exportValue}),this.enableScripting&&this.hasJSActions&&(X.addEventListener("updatefromsandbox",V=>{this._dispatchEventFromSandbox({value(z){z.target.checked="Off"!==z.detail.value,F.setValue(E,{value:z.target.checked})}},V)}),this._setEventListeners(X,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],V=>V.target.checked)),this._setBackgroundColor(X),this._setDefaultPropertiesFromJS(X),this.container.append(X),this.container}}class a extends k{constructor(F){super(F,{isRenderable:F.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const F=this.annotationStorage,N=this.data,E=N.id;let L=F.getValue(E,{value:N.fieldValue===N.buttonValue}).value;"string"==typeof L&&(L=L!==N.buttonValue,F.setValue(E,{value:L}));const X=document.createElement("input");if(_.add(X),X.setAttribute("data-element-id",E),X.disabled=N.readOnly,this._setRequired(X,this.data.required),X.type="radio",X.name=N.fieldName,L&&X.setAttribute("checked",!0),X.tabIndex=d,X.addEventListener("change",V=>{const{name:J,checked:z}=V.target;for(const $ of this._getElementsByName(J,E))F.setValue($.id,{value:!1});F.setValue(E,{value:z})}),X.addEventListener("resetform",V=>{const J=N.defaultFieldValue;V.target.checked=null!=J&&J===N.buttonValue}),this.enableScripting&&this.hasJSActions){const V=N.buttonValue;X.addEventListener("updatefromsandbox",J=>{this._dispatchEventFromSandbox({value:$=>{const q=V===$.detail.value;for(const j of this._getElementsByName($.target.name)){const M=q&&j.id===E;j.domElement&&(j.domElement.checked=M),F.setValue(j.id,{value:M})}}},J)}),this._setEventListeners(X,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],J=>J.target.checked)}return this._setBackgroundColor(X),this._setDefaultPropertiesFromJS(X),this.container.append(X),this.container}}class f extends I{constructor(F){super(F,{ignoreBorder:F.data.hasAppearance})}render(){const F=super.render();F.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(F.title=this.data.alternativeText);const N=F.lastChild;return this.enableScripting&&this.hasJSActions&&N&&(this._setDefaultPropertiesFromJS(N),N.addEventListener("updatefromsandbox",E=>{this._dispatchEventFromSandbox({},E)})),F}}class l extends k{constructor(F){super(F,{isRenderable:F.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const F=this.annotationStorage,N=this.data.id,E=F.getValue(N,{value:this.data.fieldValue}),L=document.createElement("select");_.add(L),L.setAttribute("data-element-id",N),L.disabled=this.data.readOnly,this._setRequired(L,this.data.required),L.name=this.data.fieldName,L.tabIndex=d;let X=this.data.combo&&this.data.options.length>0;this.data.combo||(L.size=this.data.options.length,this.data.multiSelect&&(L.multiple=!0)),L.addEventListener("resetform",$=>{const q=this.data.defaultFieldValue;for(const j of L.options)j.selected=j.value===q});for(const $ of this.data.options){const q=document.createElement("option");q.textContent=$.displayValue,q.value=$.exportValue,E.value.includes($.exportValue)&&(q.setAttribute("selected",!0),X=!1),L.append(q)}let V=null;if(X){const $=document.createElement("option");$.value=" ",$.setAttribute("hidden",!0),$.setAttribute("selected",!0),L.prepend($),V=()=>{$.remove(),L.removeEventListener("input",V),V=null},L.addEventListener("input",V)}const J=($,q)=>{const j=q?"value":"textContent",M=$.target.options;return $.target.multiple?Array.prototype.filter.call(M,U=>U.selected).map(U=>U[j]):-1===M.selectedIndex?null:M[M.selectedIndex][j]},z=$=>Array.prototype.map.call($.target.options,j=>({displayValue:j.textContent,exportValue:j.value}));return this.enableScripting&&this.hasJSActions?(L.addEventListener("updatefromsandbox",$=>{this._dispatchEventFromSandbox({value(j){V?.();const M=j.detail.value,U=new Set(Array.isArray(M)?M:[M]);for(const H of L.options)H.selected=U.has(H.value);F.setValue(N,{value:J(j,!0)})},multipleSelection(j){L.multiple=!0},remove(j){const M=L.options,U=j.detail.remove;M[U].selected=!1,L.remove(U),M.length>0&&-1===Array.prototype.findIndex.call(M,H=>H.selected)&&(M[0].selected=!0),F.setValue(N,{value:J(j,!0),items:z(j)})},clear(j){for(;0!==L.length;)L.remove(0);F.setValue(N,{value:null,items:[]})},insert(j){const{index:M,displayValue:U,exportValue:H}=j.detail.insert,W=L.children[M],G=document.createElement("option");G.textContent=U,G.value=H,W?W.before(G):L.append(G),F.setValue(N,{value:J(j,!0),items:z(j)})},items(j){const{items:M}=j.detail;for(;0!==L.length;)L.remove(0);for(const U of M){const{displayValue:H,exportValue:W}=U,G=document.createElement("option");G.textContent=H,G.value=W,L.append(G)}L.options.length>0&&(L.options[0].selected=!0),F.setValue(N,{value:J(j,!0),items:z(j)})},indices(j){const M=new Set(j.detail.indices);for(const U of j.target.options)U.selected=M.has(U.index);F.setValue(N,{value:J(j,!0)})},editable(j){j.target.disabled=!j.detail.editable}},$)}),L.addEventListener("input",$=>{const q=J($,!0),j=J($,!1);F.setValue(N,{value:q}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N,name:"Keystroke",value:j,changeEx:q,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(L,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],$=>$.target.checked)):L.addEventListener("input",function($){F.setValue(N,{value:J($,!0)})}),this.data.combo&&this._setTextStyle(L),this._setBackgroundColor(L),this._setDefaultPropertiesFromJS(L),this.container.append(L),this.container}}class n extends u{constructor(F){super(F,{isRenderable:!!(F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const N=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===N.length)return this.container;const E=new o({container:this.container,trigger:Array.from(N),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),L=this.page,X=rt.Util.normalizeRect([this.data.parentRect[0],L.view[3]-this.data.parentRect[1]+L.view[1],this.data.parentRect[2],L.view[3]-this.data.parentRect[3]+L.view[1]]),V=X[0]+this.data.parentRect[2]-this.data.parentRect[0],J=X[1],[z,$,q,j]=this.viewport.viewBox,U=j-$;return this.container.style.left=100*(V-z)/(q-z)+"%",this.container.style.top=100*(J-$)/U+"%",this.container.append(E.render()),this.container}}class o{constructor(F){this.container=F.container,this.trigger=F.trigger,this.color=F.color,this.titleObj=F.titleObj,this.modificationDate=F.modificationDate,this.contentsObj=F.contentsObj,this.richText=F.richText,this.hideWrapper=F.hideWrapper||!1,this.pinned=!1}render(){const F=document.createElement("div");F.className="popupWrapper",this.hideElement=this.hideWrapper?F:this.container,this.hideElement.hidden=!0;const N=document.createElement("div");N.className="popup";const E=this.color;E&&(N.style.backgroundColor=rt.Util.makeHexColor(0|.7*(255-E[0])+E[0],0|.7*(255-E[1])+E[1],0|.7*(255-E[2])+E[2]));const L=document.createElement("h1");L.dir=this.titleObj.dir,L.textContent=this.titleObj.str,N.append(L);const X=it.PDFDateString.toDateObject(this.modificationDate);if(X){const V=document.createElement("span");V.className="popupDate",V.textContent="{{date}}, {{time}}",V.dataset.l10nId="annotation_date_string",V.dataset.l10nArgs=JSON.stringify({date:X.toLocaleDateString(),time:X.toLocaleTimeString()}),N.append(V)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const V=this._formatContents(this.contentsObj);N.append(V)}else e.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:N}),N.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const V of this.trigger)V.addEventListener("click",this._toggle.bind(this)),V.addEventListener("mouseover",this._show.bind(this,!1)),V.addEventListener("mouseout",this._hide.bind(this,!1));return N.addEventListener("click",this._hide.bind(this,!0)),F.append(N),F}_formatContents({str:F,dir:N}){const E=document.createElement("p");E.className="popupContent",E.dir=N;const L=F.split(/(?:\r\n?|\n)/);for(let X=0,V=L.length;X<V;++X)E.append(document.createTextNode(L[X])),X<V-1&&E.append(document.createElement("br"));return E}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(F=!1){F&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(F=!0){F&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class D extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0}),this.textContent=F.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const F=document.createElement("div");F.className="annotationTextContent",F.setAttribute("role","comment");for(const N of this.textContent){const E=document.createElement("span");E.textContent=N,F.append(E)}this.container.append(F)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class m extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const F=this.data,{width:N,height:E}=S(F.rect),L=this.svgFactory.create(N,E,!0),X=this.svgFactory.createElement("svg:line");return X.setAttribute("x1",F.rect[2]-F.lineCoordinates[0]),X.setAttribute("y1",F.rect[3]-F.lineCoordinates[1]),X.setAttribute("x2",F.rect[2]-F.lineCoordinates[2]),X.setAttribute("y2",F.rect[3]-F.lineCoordinates[3]),X.setAttribute("stroke-width",F.borderStyle.width||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","transparent"),L.append(X),this.container.append(L),this._createPopup(X,F),this.container}}class O extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const F=this.data,{width:N,height:E}=S(F.rect),L=this.svgFactory.create(N,E,!0),X=F.borderStyle.width,V=this.svgFactory.createElement("svg:rect");return V.setAttribute("x",X/2),V.setAttribute("y",X/2),V.setAttribute("width",N-X),V.setAttribute("height",E-X),V.setAttribute("stroke-width",X||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),L.append(V),this.container.append(L),this._createPopup(V,F),this.container}}class B extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const F=this.data,{width:N,height:E}=S(F.rect),L=this.svgFactory.create(N,E,!0),X=F.borderStyle.width,V=this.svgFactory.createElement("svg:ellipse");return V.setAttribute("cx",N/2),V.setAttribute("cy",E/2),V.setAttribute("rx",N/2-X/2),V.setAttribute("ry",E/2-X/2),V.setAttribute("stroke-width",X||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),L.append(V),this.container.append(L),this._createPopup(V,F),this.container}}class h extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const F=this.data,{width:N,height:E}=S(F.rect),L=this.svgFactory.create(N,E,!0);let X=[];for(const J of F.vertices)X.push(J.x-F.rect[0]+","+(F.rect[3]-J.y));X=X.join(" ");const V=this.svgFactory.createElement(this.svgElementName);return V.setAttribute("points",X),V.setAttribute("stroke-width",F.borderStyle.width||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),L.append(V),this.container.append(L),this._createPopup(V,F),this.container}}class y extends h{constructor(F){super(F),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class g extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class r extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const F=this.data,{width:N,height:E}=S(F.rect),L=this.svgFactory.create(N,E,!0);for(const X of F.inkLists){let V=[];for(const z of X)V.push(`${z.x-F.rect[0]},${F.rect[3]-z.y}`);V=V.join(" ");const J=this.svgFactory.createElement(this.svgElementName);J.setAttribute("points",V),J.setAttribute("stroke-width",F.borderStyle.width||1),J.setAttribute("stroke","transparent"),J.setAttribute("fill","transparent"),this._createPopup(J,F),L.append(J)}return this.container.append(L),this.container}}class c extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class P extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class T extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class x extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class C extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class b extends u{constructor(F){super(F,{isRenderable:!0});const{filename:N,content:E}=this.data.file;this.filename=(0,it.getFilenameFromUrl)(N),this.content=E,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:N,content:E})}render(){this.container.className="fileAttachmentAnnotation";const F=document.createElement("div");return F.className="popupTriggerArea",F.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(F,this.data),this.container.append(F),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class A{static#t(F,N,E,L){const X=F.firstChild||F;X.id=`${it.AnnotationPrefix}${N}`,E.append(F),L?.moveElementInDOM(E,F,X,!1)}static render(F){const{annotations:N,div:E,viewport:L,accessibilityManager:X}=F;this.#e(E,L);let V=0;for(const J of N){if(J.annotationType!==rt.AnnotationType.POPUP){const{width:$,height:q}=S(J.rect);if($<=0||q<=0)continue}const z=t.create({data:J,layer:E,page:F.page,viewport:L,linkService:F.linkService,downloadManager:F.downloadManager,imageResourcesPath:F.imageResourcesPath||"",renderForms:!1!==F.renderForms,svgFactory:new it.DOMSVGFactory,annotationStorage:F.annotationStorage||new v.AnnotationStorage,enableScripting:F.enableScripting,hasJSActions:F.hasJSActions,fieldObjects:F.fieldObjects,mouseState:F.mouseState||{isDown:!1}});if(z.isRenderable){const $=z.render();if(J.hidden&&($.style.visibility="hidden"),Array.isArray($))for(const q of $)q.style.zIndex=V++,A.#t(q,J.id,E,X);else $.style.zIndex=V++,z instanceof n?E.prepend($):A.#t($,J.id,E,X)}}this.#n(E,F.annotationCanvasMap)}static update(F){const{annotationCanvasMap:N,div:E,viewport:L}=F;this.#e(E,L),this.#n(E,N),E.hidden=!1}static#e(F,{width:N,height:E,rotation:L}){const{style:X}=F,V=L%180!=0,J=Math.floor(N)+"px",z=Math.floor(E)+"px";X.width=V?z:J,X.height=V?J:z,F.setAttribute("data-main-rotation",L)}static#n(F,N){if(N){for(const[E,L]of N){const X=F.querySelector(`[data-annotation-id="${E}"]`);if(!X)continue;const{firstChild:V}=X;V?"CANVAS"===V.nodeName?V.replaceWith(L):V.before(L):X.append(L)}N.clear()}}}et.AnnotationLayer=A},(It,et)=>{function dt(rt){return Math.floor(255*Math.max(0,Math.min(1,rt))).toString(16).padStart(2,"0")}Object.defineProperty(et,"__esModule",{value:!0}),et.ColorConverters=void 0,et.ColorConverters=class{static CMYK_G([it,v,K,e]){return["G",1-Math.min(1,.3*it+.59*K+.11*v+e)]}static G_CMYK([it]){return["CMYK",0,0,0,1-it]}static G_RGB([it]){return["RGB",it,it,it]}static G_HTML([it]){const v=dt(it);return`#${v}${v}${v}`}static RGB_G([it,v,K]){return["G",.3*it+.59*v+.11*K]}static RGB_HTML([it,v,K]){return`#${dt(it)}${dt(v)}${dt(K)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([it,v,K,e]){return["RGB",1-Math.min(1,it+e),1-Math.min(1,K+e),1-Math.min(1,v+e)]}static CMYK_HTML(it){const v=this.CMYK_RGB(it).slice(1);return this.RGB_HTML(v)}static RGB_CMYK([it,v,K]){const e=1-it,d=1-v,_=1-K;return["CMYK",e,d,_,Math.min(e,d,_)]}}},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.XfaLayer=void 0;var rt=dt(20);et.XfaLayer=class{static setupStorage(v,K,e,d,_){const S=d.getValue(K,{value:null});switch(e.name){case"textarea":if(null!==S.value&&(v.textContent=S.value),"print"===_)break;v.addEventListener("input",t=>{d.setValue(K,{value:t.target.value})});break;case"input":if("radio"===e.attributes.type||"checkbox"===e.attributes.type){if(S.value===e.attributes.xfaOn?v.setAttribute("checked",!0):S.value===e.attributes.xfaOff&&v.removeAttribute("checked"),"print"===_)break;v.addEventListener("change",t=>{d.setValue(K,{value:t.target.getAttribute(t.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==S.value&&v.setAttribute("value",S.value),"print"===_)break;v.addEventListener("input",t=>{d.setValue(K,{value:t.target.value})})}break;case"select":if(null!==S.value)for(const t of e.children)t.attributes.value===S.value&&(t.attributes.selected=!0);v.addEventListener("input",t=>{const u=t.target.options;d.setValue(K,{value:-1===u.selectedIndex?"":u[u.selectedIndex].value})})}}static setAttributes({html:v,element:K,storage:e=null,intent:d,linkService:_}){const{attributes:S}=K,t=v instanceof HTMLAnchorElement;"radio"===S.type&&(S.name=`${S.name}-${d}`);for(const[u,I]of Object.entries(S))if(null!=I)switch(u){case"class":I.length&&v.setAttribute(u,I.join(" "));break;case"dataId":break;case"id":v.setAttribute("data-element-id",I);break;case"style":Object.assign(v.style,I);break;case"textContent":v.textContent=I;break;default:(!t||"href"!==u&&"newWindow"!==u)&&v.setAttribute(u,I)}t&&_.addLinkAttributes(v,S.href,S.newWindow),e&&S.dataId&&this.setupStorage(v,S.dataId,K,e)}static render(v){const K=v.annotationStorage,e=v.linkService,d=v.xfaHtml,_=v.intent||"display",S=document.createElement(d.name);d.attributes&&this.setAttributes({html:S,element:d,intent:_,linkService:e});const t=[[d,-1,S]],u=v.div;if(u.append(S),v.viewport){const w=`matrix(${v.viewport.transform.join(",")})`;u.style.transform=w}"richText"!==_&&u.setAttribute("class","xfaLayer xfaFont");const I=[];for(;t.length>0;){const[w,k,s]=t.at(-1);if(k+1===w.children.length){t.pop();continue}const i=w.children[++t.at(-1)[1]];if(null===i)continue;const{name:a}=i;if("#text"===a){const l=document.createTextNode(i.value);I.push(l),s.append(l);continue}let f;if(f=i?.attributes?.xmlns?document.createElementNS(i.attributes.xmlns,a):document.createElement(a),s.append(f),i.attributes&&this.setAttributes({html:f,element:i,storage:K,intent:_,linkService:e}),i.children&&i.children.length>0)t.push([i,-1,f]);else if(i.value){const l=document.createTextNode(i.value);rt.XfaText.shouldBuildText(a)&&I.push(l),f.append(l)}}for(const w of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:I}}static update(v){const K=`matrix(${v.viewport.transform.join(",")})`;v.div.style.transform=K,v.div.hidden=!1}}},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.TextLayerRenderTask=void 0,et.renderTextLayer=function(k){const s=new I({textContent:k.textContent,textContentStream:k.textContentStream,container:k.container,viewport:k.viewport,textDivs:k.textDivs,textContentItemsStr:k.textContentItemsStr,enhanceTextSelection:k.enhanceTextSelection});return s._render(k.timeout),s};var rt=dt(1),it=dt(8);const v=30,K=new Map,e=/^\s+$/g;function d(w,k,s,i){const a=document.createElement("span"),f=w._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==k.str,hasEOL:k.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:""!==k.str,hasEOL:k.hasEOL,fontSize:0};w._textDivs.push(a);const l=rt.Util.transform(w._viewport.transform,k.transform);let n=Math.atan2(l[1],l[0]);const o=s[k.fontName];o.vertical&&(n+=Math.PI/2);const D=Math.hypot(l[2],l[3]),m=D*function(g,r){const c=K.get(g);if(c)return c;r.save(),r.font=`30px ${g}`;const P=r.measureText("");let T=P.fontBoundingBoxAscent,x=Math.abs(P.fontBoundingBoxDescent);if(T){r.restore();const b=T/(T+x);return K.set(g,b),b}r.strokeStyle="red",r.clearRect(0,0,v,v),r.strokeText("g",0,0);let C=r.getImageData(0,0,v,v).data;x=0;for(let b=C.length-1-3;b>=0;b-=4)if(C[b]>0){x=Math.ceil(b/4/v);break}r.clearRect(0,0,v,v),r.strokeText("A",0,v),C=r.getImageData(0,0,v,v).data,T=0;for(let b=0,A=C.length;b<A;b+=4)if(C[b]>0){T=v-Math.floor(b/4/v);break}if(r.restore(),T){const b=T/(T+x);return K.set(g,b),b}return K.set(g,.8),.8}(o.fontFamily,i);let O,B;0===n?(O=l[4],B=l[5]-m):(O=l[4]+m*Math.sin(n),B=l[5]-m*Math.cos(n)),a.style.left=`${O}px`,a.style.top=`${B}px`,a.style.fontSize=`${D}px`,a.style.fontFamily=o.fontFamily,f.fontSize=D,a.setAttribute("role","presentation"),a.textContent=k.str,a.dir=k.dir,w._fontInspectorEnabled&&(a.dataset.fontName=k.fontName),0!==n&&(f.angle=n*(180/Math.PI));let h=!1;if(k.str.length>1||w._enhanceTextSelection&&e.test(k.str))h=!0;else if(" "!==k.str&&k.transform[0]!==k.transform[3]){const y=Math.abs(k.transform[0]),g=Math.abs(k.transform[3]);y!==g&&Math.max(y,g)/Math.min(y,g)>1.5&&(h=!0)}if(h&&(f.canvasWidth=o.vertical?k.height*w._viewport.scale:k.width*w._viewport.scale),w._textDivProperties.set(a,f),w._textContentStream&&w._layoutText(a),w._enhanceTextSelection&&f.hasText){let y=1,g=0;0!==n&&(y=Math.cos(n),g=Math.sin(n));const r=(o.vertical?k.height:k.width)*w._viewport.scale,c=D;let P,T;0!==n?(P=[y,g,-g,y,O,B],T=rt.Util.getAxialAlignedBoundingBox([0,0,r,c],P)):T=[O,B,O+r,B+c],w._bounds.push({left:T[0],top:T[1],right:T[2],bottom:T[3],div:a,size:[r,c],m:P})}}function _(w){if(w._canceled)return;const k=w._textDivs,s=w._capability,i=k.length;if(i>1e5)w._renderingDone=!0,s.resolve();else{if(!w._textContentStream)for(let a=0;a<i;a++)w._layoutText(k[a]);w._renderingDone=!0,s.resolve()}}function S(w,k,s){let i=0;for(let a=0;a<s;a++){const f=w[k++];f>0&&(i=i?Math.min(f,i):f)}return i}function u(w,k){k.sort(function(i,a){return i.x1-a.x1||i.index-a.index});const s=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const i of k){let a=0;for(;a<s.length&&s[a].end<=i.y1;)a++;let f,l,n=s.length-1;for(;n>=0&&s[n].start>=i.y2;)n--;let o,D,m=-1/0;for(o=a;o<=n;o++){let h;f=s[o],l=f.boundary,h=l.x2>i.x1?l.index>i.index?l.x1New:i.x1:void 0===l.x2New?(l.x2+i.x1)/2:l.x2New,h>m&&(m=h)}for(i.x1New=m,o=a;o<=n;o++)f=s[o],l=f.boundary,void 0===l.x2New?l.x2>i.x1?l.index>i.index&&(l.x2New=l.x2):l.x2New=m:l.x2New>m&&(l.x2New=Math.max(m,l.x2));const O=[];let B=null;for(o=a;o<=n;o++){f=s[o],l=f.boundary;const h=l.x2>i.x2?l:i;B===h?O.at(-1).end=f.end:(O.push({start:f.start,end:f.end,boundary:h}),B=h)}for(s[a].start<i.y1&&(O[0].start=i.y1,O.unshift({start:s[a].start,end:i.y1,boundary:s[a].boundary})),i.y2<s[n].end&&(O.at(-1).end=i.y2,O.push({start:i.y2,end:s[n].end,boundary:s[n].boundary})),o=a;o<=n;o++){if(f=s[o],l=f.boundary,void 0!==l.x2New)continue;let h=!1;for(D=a-1;!h&&D>=0&&s[D].start>=l.y1;D--)h=s[D].boundary===l;for(D=n+1;!h&&D<s.length&&s[D].end<=l.y2;D++)h=s[D].boundary===l;for(D=0;!h&&D<O.length;D++)h=O[D].boundary===l;h||(l.x2New=m)}Array.prototype.splice.apply(s,[a,n-a+1,...O])}for(const i of s){const a=i.boundary;void 0===a.x2New&&(a.x2New=Math.max(w,a.x2))}}class I{constructor({textContent:k,textContentStream:s,container:i,viewport:a,textDivs:f,textContentItemsStr:l,enhanceTextSelection:n}){n&&(0,it.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=k,this._textContentStream=s,this._container=i,this._document=i.ownerDocument,this._viewport=a,this._textDivs=f||[],this._textContentItemsStr=l||[],this._enhanceTextSelection=!!n,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,rt.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new rt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(k,s){for(let i=0,a=k.length;i<a;i++)if(void 0!==k[i].str)this._textContentItemsStr.push(k[i].str),d(this,k[i],s,this._layoutTextCtx);else if("beginMarkedContentProps"===k[i].type||"beginMarkedContent"===k[i].type){const f=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==k[i].id&&this._container.setAttribute("id",`${k[i].id}`),f.append(this._container)}else"endMarkedContent"===k[i].type&&(this._container=this._container.parentNode)}_layoutText(k){const s=this._textDivProperties.get(k);let i="";if(0!==s.canvasWidth&&s.hasText){const{fontFamily:a}=k.style,{fontSize:f}=s;(f!==this._layoutTextLastFontSize||a!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${f*this._devicePixelRatio}px ${a}`,this._layoutTextLastFontSize=f,this._layoutTextLastFontFamily=a);const{width:l}=this._layoutTextCtx.measureText(k.textContent);if(l>0){const n=this._devicePixelRatio*s.canvasWidth/l;this._enhanceTextSelection&&(s.scale=n),i=`scaleX(${n})`}}if(0!==s.angle&&(i=`rotate(${s.angle}deg) ${i}`),i.length>0&&(this._enhanceTextSelection&&(s.originalTransform=i),k.style.transform=i),s.hasText&&this._container.append(k),s.hasEOL){const a=document.createElement("br");a.setAttribute("role","presentation"),this._container.append(a)}}_render(k=0){const s=(0,rt.createPromiseCapability)();let i=Object.create(null);const a=this._document.createElement("canvas");if(a.height=a.width=v,this._layoutTextCtx=a.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),s.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const f=()=>{this._reader.read().then(({value:l,done:n})=>{n?s.resolve():(Object.assign(i,l.styles),this._processItems(l.items,i),f())},s.reject)};this._reader=this._textContentStream.getReader(),f()}}s.promise.then(()=>{i=null,k?this._renderTimer=setTimeout(()=>{_(this),this._renderTimer=null},k):_(this)},this._capability.reject)}expandTextDivs(k=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function t(w){const k=w._bounds,s=w._viewport,i=function(f,l,n){const o=n.map(function(m,O){return{x1:m.left,y1:m.top,x2:m.right,y2:m.bottom,index:O,x1New:void 0,x2New:void 0}});u(f,o);const D=new Array(n.length);for(const m of o)D[m.index]={left:m.x1New,top:0,right:m.x2New,bottom:0};n.map(function(m,O){const B=D[O],h=o[O];h.x1=m.top,h.y1=f-B.right,h.x2=m.bottom,h.y2=f-B.left,h.index=O,h.x1New=void 0,h.x2New=void 0}),u(l,o);for(const m of o){const O=m.index;D[O].top=m.x1New,D[O].bottom=m.x2New}return D}(s.width,s.height,k);for(let a=0;a<i.length;a++){const f=k[a].div,l=w._textDivProperties.get(f);if(0===l.angle){l.paddingLeft=k[a].left-i[a].left,l.paddingTop=k[a].top-i[a].top,l.paddingRight=i[a].right-k[a].right,l.paddingBottom=i[a].bottom-k[a].bottom,w._textDivProperties.set(f,l);continue}const n=i[a],o=k[a],D=o.m,m=D[0],O=D[1],B=[[0,0],[0,o.size[1]],[o.size[0],0],o.size],h=new Float64Array(64);for(let g=0,r=B.length;g<r;g++){const c=rt.Util.applyTransform(B[g],D);h[g+0]=m&&(n.left-c[0])/m,h[g+4]=O&&(n.top-c[1])/O,h[g+8]=m&&(n.right-c[0])/m,h[g+12]=O&&(n.bottom-c[1])/O,h[g+16]=O&&(n.left-c[0])/-O,h[g+20]=m&&(n.top-c[1])/m,h[g+24]=O&&(n.right-c[0])/-O,h[g+28]=m&&(n.bottom-c[1])/m,h[g+32]=m&&(n.left-c[0])/-m,h[g+36]=O&&(n.top-c[1])/-O,h[g+40]=m&&(n.right-c[0])/-m,h[g+44]=O&&(n.bottom-c[1])/-O,h[g+48]=O&&(n.left-c[0])/O,h[g+52]=m&&(n.top-c[1])/-m,h[g+56]=O&&(n.right-c[0])/O,h[g+60]=m&&(n.bottom-c[1])/-m}const y=1+Math.min(Math.abs(m),Math.abs(O));l.paddingLeft=S(h,32,16)/y,l.paddingTop=S(h,48,16)/y,l.paddingRight=S(h,0,16)/y,l.paddingBottom=S(h,16,16)/y,w._textDivProperties.set(f,l)}}(this),this._bounds=null);const s=[],i=[];for(let a=0,f=this._textDivs.length;a<f;a++){const l=this._textDivs[a],n=this._textDivProperties.get(l);n.hasText&&(k?(s.length=0,i.length=0,n.originalTransform&&s.push(n.originalTransform),n.paddingTop>0?(i.push(`${n.paddingTop}px`),s.push(`translateY(${-n.paddingTop}px)`)):i.push(0),i.push(n.paddingRight>0?n.paddingRight/n.scale+"px":0),i.push(n.paddingBottom>0?`${n.paddingBottom}px`:0),n.paddingLeft>0?(i.push(n.paddingLeft/n.scale+"px"),s.push(`translateX(${-n.paddingLeft/n.scale}px)`)):i.push(0),l.style.padding=i.join(" "),s.length&&(l.style.transform=s.join(" "))):(l.style.padding=null,l.style.transform=n.originalTransform))}}}et.TextLayerRenderTask=I},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.SVGGraphics=void 0;var rt=dt(8),it=dt(1),v=dt(3);let K=class{constructor(){(0,it.unreachable)("Not implemented: SVGGraphics")}};et.SVGGraphics=K;{let k=function(n){let o=[];const D=[];for(const m of n)"save"!==m.fn?"restore"===m.fn?o=D.pop():o.push(m):(o.push({fnId:92,fn:"group",items:[]}),D.push(o),o=o.at(-1).items);return o},s=function(n){if(Number.isInteger(n))return n.toString();const o=n.toFixed(10);let D=o.length-1;if("0"!==o[D])return o;do{D--}while("0"===o[D]);return o.substring(0,"."===o[D]?D:D+1)},i=function(n){if(0===n[4]&&0===n[5]){if(0===n[1]&&0===n[2])return 1===n[0]&&1===n[3]?"":`scale(${s(n[0])} ${s(n[3])})`;if(n[0]===n[3]&&n[1]===-n[2])return`rotate(${s(180*Math.acos(n[0])/Math.PI)})`}else if(1===n[0]&&0===n[1]&&0===n[2]&&1===n[3])return`translate(${s(n[4])} ${s(n[5])})`;return`matrix(${s(n[0])} ${s(n[1])} ${s(n[2])} ${s(n[3])} ${s(n[4])} ${s(n[5])})`};const e={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/1999/xlink",S=["butt","round","square"],t=["miter","round","bevel"],u=function(n,o="",D=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!D)return URL.createObjectURL(new Blob([n],{type:o}));const m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let O=`data:${o};base64,`;for(let B=0,h=n.length;B<h;B+=3){const y=255&n[B],g=255&n[B+1],r=255&n[B+2];O+=m[y>>2]+m[(3&y)<<4|g>>4]+m[B+1<h?(15&g)<<2|r>>6:64]+m[B+2<h?63&r:64]}return O},I=function(){const n=new Uint8Array([137,80,78,71,13,10,26,10]),o=new Int32Array(256);for(let B=0;B<256;B++){let h=B;for(let y=0;y<8;y++)h=1&h?3988292384^h>>1&2147483647:h>>1&2147483647;o[B]=h}function D(B,h,y,g){let r=g;const c=h.length;y[r]=c>>24&255,y[r+1]=c>>16&255,y[r+2]=c>>8&255,y[r+3]=255&c,r+=4,y[r]=255&B.charCodeAt(0),y[r+1]=255&B.charCodeAt(1),y[r+2]=255&B.charCodeAt(2),y[r+3]=255&B.charCodeAt(3),r+=4,y.set(h,r),r+=h.length;const P=function(x,C,b){let A=-1;for(let R=C;R<b;R++)A=A>>>8^o[255&(A^x[R])];return~A}(y,g+4,r);y[r]=P>>24&255,y[r+1]=P>>16&255,y[r+2]=P>>8&255,y[r+3]=255&P}function m(B){let h=B.length;const y=65535,g=Math.ceil(h/y),r=new Uint8Array(2+h+5*g+4);let c=0;r[c++]=120,r[c++]=156;let P=0;for(;h>y;)r[c++]=0,r[c++]=255,r[c++]=255,r[c++]=0,r[c++]=0,r.set(B.subarray(P,P+y),c),c+=y,P+=y,h-=y;r[c++]=1,r[c++]=255&h,r[c++]=h>>8&255,r[c++]=255&~h,r[c++]=(65535&~h)>>8&255,r.set(B.subarray(P),c),c+=B.length-P;const T=function(C,b,A){let R=1,F=0;for(let N=0;N<A;++N)R=(R+(255&C[N]))%65521,F=(F+R)%65521;return F<<16|R}(B,0,B.length);return r[c++]=T>>24&255,r[c++]=T>>16&255,r[c++]=T>>8&255,r[c++]=255&T,r}return function(h,y,g){return function O(B,h,y,g){const r=B.width,c=B.height;let P,T,x;const C=B.data;switch(h){case it.ImageKind.GRAYSCALE_1BPP:T=0,P=1,x=r+7>>3;break;case it.ImageKind.RGB_24BPP:T=2,P=8,x=3*r;break;case it.ImageKind.RGBA_32BPP:T=6,P=8,x=4*r;break;default:throw new Error("invalid format")}const b=new Uint8Array((1+x)*c);let A=0,R=0;for(let V=0;V<c;++V)b[A++]=0,b.set(C.subarray(R,R+x),A),R+=x,A+=x;if(h===it.ImageKind.GRAYSCALE_1BPP&&g){A=0;for(let V=0;V<c;V++){A++;for(let J=0;J<x;J++)b[A++]^=255}}const F=new Uint8Array([r>>24&255,r>>16&255,r>>8&255,255&r,c>>24&255,c>>16&255,c>>8&255,255&c,P,T,0,0,0]),N=function(J){if(!v.isNodeJS)return m(J);try{let z;z=parseInt(process.versions.node)>=8?J:Buffer.from(J);const $=require("zlib").deflateSync(z,{level:9});return $ instanceof Uint8Array?$:new Uint8Array($)}catch(z){(0,it.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+z)}return m(J)}(b),L=new Uint8Array(n.length+36+F.length+N.length);let X=0;return L.set(n,X),X+=n.length,D("IHDR",F,L,X),X+=12+F.length,D("IDATA",N,L,X),X+=12+N.length,D("IEND",new Uint8Array(0),L,X),u(L,"image/png",y)}(h,void 0===h.kind?it.ImageKind.GRAYSCALE_1BPP:h.kind,y,g)}}();class w{constructor(){this.fontSizeScale=1,this.fontWeight=e.fontWeight,this.fontSize=0,this.textMatrix=it.IDENTITY_MATRIX,this.fontMatrix=it.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=it.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=e.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(o,D){this.x=o,this.y=D}}let a=0,f=0,l=0;et.SVGGraphics=K=class{constructor(n,o,D=!1){(0,rt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new rt.DOMSVGFactory,this.current=new w,this.transformMatrix=it.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=n,this.objs=o,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!D,this._operatorIdMapping=[];for(const m in it.OPS)this._operatorIdMapping[it.OPS[m]]=m}save(){this.transformStack.push(this.transformMatrix);const n=this.current;this.extraStack.push(n),this.current=n.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(n){this.save(),this.executeOpTree(n),this.restore()}loadDependencies(n){const o=n.fnArray,D=n.argsArray;for(let m=0,O=o.length;m<O;m++)if(o[m]===it.OPS.dependency)for(const B of D[m]){const h=B.startsWith("g_")?this.commonObjs:this.objs,y=new Promise(g=>{h.get(B,g)});this.current.dependencies.push(y)}return Promise.all(this.current.dependencies)}transform(n,o,D,m,O,B){this.transformMatrix=it.Util.transform(this.transformMatrix,[n,o,D,m,O,B]),this.tgrp=null}getSVG(n,o){this.viewport=o;const D=this._initialize(o);return this.loadDependencies(n).then(()=>(this.transformMatrix=it.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(n)),D))}convertOpList(n){const o=this._operatorIdMapping,D=n.argsArray,m=n.fnArray,O=[];for(let B=0,h=m.length;B<h;B++){const y=m[B];O.push({fnId:y,fn:o[y],args:D[B]})}return k(O)}executeOpTree(n){for(const o of n){const D=o.fn,O=o.args;switch(0|o.fnId){case it.OPS.beginText:this.beginText();break;case it.OPS.dependency:break;case it.OPS.setLeading:this.setLeading(O);break;case it.OPS.setLeadingMoveText:this.setLeadingMoveText(O[0],O[1]);break;case it.OPS.setFont:this.setFont(O);break;case it.OPS.showText:case it.OPS.showSpacedText:this.showText(O[0]);break;case it.OPS.endText:this.endText();break;case it.OPS.moveText:this.moveText(O[0],O[1]);break;case it.OPS.setCharSpacing:this.setCharSpacing(O[0]);break;case it.OPS.setWordSpacing:this.setWordSpacing(O[0]);break;case it.OPS.setHScale:this.setHScale(O[0]);break;case it.OPS.setTextMatrix:this.setTextMatrix(O[0],O[1],O[2],O[3],O[4],O[5]);break;case it.OPS.setTextRise:this.setTextRise(O[0]);break;case it.OPS.setTextRenderingMode:this.setTextRenderingMode(O[0]);break;case it.OPS.setLineWidth:this.setLineWidth(O[0]);break;case it.OPS.setLineJoin:this.setLineJoin(O[0]);break;case it.OPS.setLineCap:this.setLineCap(O[0]);break;case it.OPS.setMiterLimit:this.setMiterLimit(O[0]);break;case it.OPS.setFillRGBColor:this.setFillRGBColor(O[0],O[1],O[2]);break;case it.OPS.setStrokeRGBColor:this.setStrokeRGBColor(O[0],O[1],O[2]);break;case it.OPS.setStrokeColorN:this.setStrokeColorN(O);break;case it.OPS.setFillColorN:this.setFillColorN(O);break;case it.OPS.shadingFill:this.shadingFill(O[0]);break;case it.OPS.setDash:this.setDash(O[0],O[1]);break;case it.OPS.setRenderingIntent:this.setRenderingIntent(O[0]);break;case it.OPS.setFlatness:this.setFlatness(O[0]);break;case it.OPS.setGState:this.setGState(O[0]);break;case it.OPS.fill:this.fill();break;case it.OPS.eoFill:this.eoFill();break;case it.OPS.stroke:this.stroke();break;case it.OPS.fillStroke:this.fillStroke();break;case it.OPS.eoFillStroke:this.eoFillStroke();break;case it.OPS.clip:this.clip("nonzero");break;case it.OPS.eoClip:this.clip("evenodd");break;case it.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case it.OPS.paintImageXObject:this.paintImageXObject(O[0]);break;case it.OPS.paintInlineImageXObject:this.paintInlineImageXObject(O[0]);break;case it.OPS.paintImageMaskXObject:this.paintImageMaskXObject(O[0]);break;case it.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(O[0],O[1]);break;case it.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case it.OPS.closePath:this.closePath();break;case it.OPS.closeStroke:this.closeStroke();break;case it.OPS.closeFillStroke:this.closeFillStroke();break;case it.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case it.OPS.nextLine:this.nextLine();break;case it.OPS.transform:this.transform(O[0],O[1],O[2],O[3],O[4],O[5]);break;case it.OPS.constructPath:this.constructPath(O[0],O[1]);break;case it.OPS.endPath:this.endPath();break;case 92:this.group(o.items);break;default:(0,it.warn)(`Unimplemented operator ${D}`)}}}setWordSpacing(n){this.current.wordSpacing=n}setCharSpacing(n){this.current.charSpacing=n}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(n,o,D,m,O,B){const h=this.current;h.textMatrix=h.lineMatrix=[n,o,D,m,O,B],h.textMatrixScale=Math.hypot(n,o),h.x=h.lineX=0,h.y=h.lineY=0,h.xcoords=[],h.ycoords=[],h.tspan=this.svgFactory.createElement("svg:tspan"),h.tspan.setAttributeNS(null,"font-family",h.fontFamily),h.tspan.setAttributeNS(null,"font-size",`${s(h.fontSize)}px`),h.tspan.setAttributeNS(null,"y",s(-h.y)),h.txtElement=this.svgFactory.createElement("svg:text"),h.txtElement.append(h.tspan)}beginText(){const n=this.current;n.x=n.lineX=0,n.y=n.lineY=0,n.textMatrix=it.IDENTITY_MATRIX,n.lineMatrix=it.IDENTITY_MATRIX,n.textMatrixScale=1,n.tspan=this.svgFactory.createElement("svg:tspan"),n.txtElement=this.svgFactory.createElement("svg:text"),n.txtgrp=this.svgFactory.createElement("svg:g"),n.xcoords=[],n.ycoords=[]}moveText(n,o){const D=this.current;D.x=D.lineX+=n,D.y=D.lineY+=o,D.xcoords=[],D.ycoords=[],D.tspan=this.svgFactory.createElement("svg:tspan"),D.tspan.setAttributeNS(null,"font-family",D.fontFamily),D.tspan.setAttributeNS(null,"font-size",`${s(D.fontSize)}px`),D.tspan.setAttributeNS(null,"y",s(-D.y))}showText(n){const o=this.current,D=o.font,m=o.fontSize;if(0===m)return;const O=o.fontSizeScale,B=o.charSpacing,h=o.wordSpacing,y=o.fontDirection,g=o.textHScale*y,r=D.vertical,c=r?1:-1,P=D.defaultVMetrics,T=m*o.fontMatrix[0];let x=0;for(const A of n){if(null===A){x+=y*h;continue}if("number"==typeof A){x+=c*A*m/1e3;continue}const R=(A.isSpace?h:0)+B,F=A.fontChar;let N,E,L,X=A.width;if(r){let V;const J=A.vmetric||P;V=A.vmetric?J[1]:.5*X,V=-V*T,X=J?-J[0]:X,N=V/O,E=(x+J[2]*T)/O}else N=x/O,E=0;(A.isInFont||D.missingFile)&&(o.xcoords.push(o.x+N),r&&o.ycoords.push(-o.y+E),o.tspan.textContent+=F),L=r?X*T-R*y:X*T+R*y,x+=L}o.tspan.setAttributeNS(null,"x",o.xcoords.map(s).join(" ")),o.tspan.setAttributeNS(null,"y",r?o.ycoords.map(s).join(" "):s(-o.y)),r?o.y-=x:o.x+=x*g,o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size",`${s(o.fontSize)}px`),o.fontStyle!==e.fontStyle&&o.tspan.setAttributeNS(null,"font-style",o.fontStyle),o.fontWeight!==e.fontWeight&&o.tspan.setAttributeNS(null,"font-weight",o.fontWeight);const C=o.textRenderingMode&it.TextRenderingMode.FILL_STROKE_MASK;C===it.TextRenderingMode.FILL||C===it.TextRenderingMode.FILL_STROKE?(o.fillColor!==e.fillColor&&o.tspan.setAttributeNS(null,"fill",o.fillColor),o.fillAlpha<1&&o.tspan.setAttributeNS(null,"fill-opacity",o.fillAlpha)):o.tspan.setAttributeNS(null,"fill",o.textRenderingMode===it.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(C===it.TextRenderingMode.STROKE||C===it.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(o.tspan,1/(o.textMatrixScale||1));let b=o.textMatrix;0!==o.textRise&&(b=b.slice(),b[5]+=o.textRise),o.txtElement.setAttributeNS(null,"transform",`${i(b)} scale(${s(g)}, -1)`),o.txtElement.setAttributeNS(d,"xml:space","preserve"),o.txtElement.append(o.tspan),o.txtgrp.append(o.txtElement),this._ensureTransformGroup().append(o.txtElement)}setLeadingMoveText(n,o){this.setLeading(-o),this.moveText(n,o)}addFontStyle(n){if(!n.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const o=u(n.data,n.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${n.loadedName}"; src: url(${o}); }\n`}setFont(n){const o=this.current,D=this.commonObjs.get(n[0]);let m=n[1];o.font=D,this.embedFonts&&!D.missingFile&&!this.embeddedFonts[D.loadedName]&&(this.addFontStyle(D),this.embeddedFonts[D.loadedName]=D),o.fontMatrix=D.fontMatrix||it.FONT_IDENTITY_MATRIX;let O="normal";D.black?O="900":D.bold&&(O="bold");const B=D.italic?"italic":"normal";m<0?(m=-m,o.fontDirection=-1):o.fontDirection=1,o.fontSize=m,o.fontFamily=D.loadedName,o.fontWeight=O,o.fontStyle=B,o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"y",s(-o.y)),o.xcoords=[],o.ycoords=[]}endText(){const n=this.current;n.textRenderingMode&it.TextRenderingMode.ADD_TO_PATH_FLAG&&n.txtElement?.hasChildNodes()&&(n.element=n.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(n){n>0&&(this.current.lineWidth=n)}setLineCap(n){this.current.lineCap=S[n]}setLineJoin(n){this.current.lineJoin=t[n]}setMiterLimit(n){this.current.miterLimit=n}setStrokeAlpha(n){this.current.strokeAlpha=n}setStrokeRGBColor(n,o,D){this.current.strokeColor=it.Util.makeHexColor(n,o,D)}setFillAlpha(n){this.current.fillAlpha=n}setFillRGBColor(n,o,D){this.current.fillColor=it.Util.makeHexColor(n,o,D),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(n){this.current.strokeColor=this._makeColorN_Pattern(n)}setFillColorN(n){this.current.fillColor=this._makeColorN_Pattern(n)}shadingFill(n){const o=this.viewport.width,D=this.viewport.height,m=it.Util.inverseTransform(this.transformMatrix),O=it.Util.applyTransform([0,0],m),B=it.Util.applyTransform([0,D],m),h=it.Util.applyTransform([o,0],m),y=it.Util.applyTransform([o,D],m),g=Math.min(O[0],B[0],h[0],y[0]),r=Math.min(O[1],B[1],h[1],y[1]),c=Math.max(O[0],B[0],h[0],y[0]),P=Math.max(O[1],B[1],h[1],y[1]),T=this.svgFactory.createElement("svg:rect");T.setAttributeNS(null,"x",g),T.setAttributeNS(null,"y",r),T.setAttributeNS(null,"width",c-g),T.setAttributeNS(null,"height",P-r),T.setAttributeNS(null,"fill",this._makeShadingPattern(n)),this.current.fillAlpha<1&&T.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(T)}_makeColorN_Pattern(n){return"TilingPattern"===n[0]?this._makeTilingPattern(n):this._makeShadingPattern(n)}_makeTilingPattern(n){const o=n[1],D=n[2],m=n[3]||it.IDENTITY_MATRIX,[O,B,h,y]=n[4],g=n[5],r=n[6],c=n[7],P="shading"+l++,[T,x,C,b]=it.Util.normalizeRect([...it.Util.applyTransform([O,B],m),...it.Util.applyTransform([h,y],m)]),[A,R]=it.Util.singularValueDecompose2dScale(m),F=g*A,N=r*R,E=this.svgFactory.createElement("svg:pattern");E.setAttributeNS(null,"id",P),E.setAttributeNS(null,"patternUnits","userSpaceOnUse"),E.setAttributeNS(null,"width",F),E.setAttributeNS(null,"height",N),E.setAttributeNS(null,"x",`${T}`),E.setAttributeNS(null,"y",`${x}`);const L=this.svg,X=this.transformMatrix,V=this.current.fillColor,J=this.current.strokeColor,z=this.svgFactory.create(C-T,b-x);if(this.svg=z,this.transformMatrix=m,2===c){const $=it.Util.makeHexColor(...o);this.current.fillColor=$,this.current.strokeColor=$}return this.executeOpTree(this.convertOpList(D)),this.svg=L,this.transformMatrix=X,this.current.fillColor=V,this.current.strokeColor=J,E.append(z.childNodes[0]),this.defs.append(E),`url(#${P})`}_makeShadingPattern(n){switch("string"==typeof n&&(n=this.objs.get(n)),n[0]){case"RadialAxial":const o="shading"+l++,D=n[3];let m;switch(n[1]){case"axial":const O=n[4],B=n[5];m=this.svgFactory.createElement("svg:linearGradient"),m.setAttributeNS(null,"id",o),m.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),m.setAttributeNS(null,"x1",O[0]),m.setAttributeNS(null,"y1",O[1]),m.setAttributeNS(null,"x2",B[0]),m.setAttributeNS(null,"y2",B[1]);break;case"radial":const h=n[4],y=n[5],g=n[6],r=n[7];m=this.svgFactory.createElement("svg:radialGradient"),m.setAttributeNS(null,"id",o),m.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),m.setAttributeNS(null,"cx",y[0]),m.setAttributeNS(null,"cy",y[1]),m.setAttributeNS(null,"r",r),m.setAttributeNS(null,"fx",h[0]),m.setAttributeNS(null,"fy",h[1]),m.setAttributeNS(null,"fr",g);break;default:throw new Error(`Unknown RadialAxial type: ${n[1]}`)}for(const O of D){const B=this.svgFactory.createElement("svg:stop");B.setAttributeNS(null,"offset",O[0]),B.setAttributeNS(null,"stop-color",O[1]),m.append(B)}return this.defs.append(m),`url(#${o})`;case"Mesh":return(0,it.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${n[0]}`)}}setDash(n,o){this.current.dashArray=n,this.current.dashPhase=o}constructPath(n,o){const D=this.current;let m=D.x,O=D.y,B=[],h=0;for(const y of n)switch(0|y){case it.OPS.rectangle:m=o[h++],O=o[h++];const g=m+o[h++],r=O+o[h++];B.push("M",s(m),s(O),"L",s(g),s(O),"L",s(g),s(r),"L",s(m),s(r),"Z");break;case it.OPS.moveTo:m=o[h++],O=o[h++],B.push("M",s(m),s(O));break;case it.OPS.lineTo:m=o[h++],O=o[h++],B.push("L",s(m),s(O));break;case it.OPS.curveTo:m=o[h+4],O=o[h+5],B.push("C",s(o[h]),s(o[h+1]),s(o[h+2]),s(o[h+3]),s(m),s(O)),h+=6;break;case it.OPS.curveTo2:B.push("C",s(m),s(O),s(o[h]),s(o[h+1]),s(o[h+2]),s(o[h+3])),m=o[h+2],O=o[h+3],h+=4;break;case it.OPS.curveTo3:m=o[h+2],O=o[h+3],B.push("C",s(o[h]),s(o[h+1]),s(m),s(O),s(m),s(O)),h+=4;break;case it.OPS.closePath:B.push("Z")}B=B.join(" "),D.path&&n.length>0&&n[0]!==it.OPS.rectangle&&n[0]!==it.OPS.moveTo?B=D.path.getAttributeNS(null,"d")+B:(D.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(D.path)),D.path.setAttributeNS(null,"d",B),D.path.setAttributeNS(null,"fill","none"),D.element=D.path,D.setCurrentPoint(m,O)}endPath(){const n=this.current;if(n.path=null,!this.pendingClip)return;if(!n.element)return void(this.pendingClip=null);const o="clippath"+a++,D=this.svgFactory.createElement("svg:clipPath");D.setAttributeNS(null,"id",o),D.setAttributeNS(null,"transform",i(this.transformMatrix));const m=n.element.cloneNode(!0);if(m.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,D.append(m),this.defs.append(D),n.activeClipUrl){n.clipGroup=null;for(const O of this.extraStack)O.clipGroup=null;D.setAttributeNS(null,"clip-path",n.activeClipUrl)}n.activeClipUrl=`url(#${o})`,this.tgrp=null}clip(n){this.pendingClip=n}closePath(){const n=this.current;if(n.path){const o=`${n.path.getAttributeNS(null,"d")}Z`;n.path.setAttributeNS(null,"d",o)}}setLeading(n){this.current.leading=-n}setTextRise(n){this.current.textRise=n}setTextRenderingMode(n){this.current.textRenderingMode=n}setHScale(n){this.current.textHScale=n/100}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[o,D]of n)switch(o){case"LW":this.setLineWidth(D);break;case"LC":this.setLineCap(D);break;case"LJ":this.setLineJoin(D);break;case"ML":this.setMiterLimit(D);break;case"D":this.setDash(D[0],D[1]);break;case"RI":this.setRenderingIntent(D);break;case"FL":this.setFlatness(D);break;case"Font":this.setFont(D);break;case"CA":this.setStrokeAlpha(D);break;case"ca":this.setFillAlpha(D);break;default:(0,it.warn)(`Unimplemented graphic state operator ${o}`)}}fill(){const n=this.current;n.element&&(n.element.setAttributeNS(null,"fill",n.fillColor),n.element.setAttributeNS(null,"fill-opacity",n.fillAlpha),this.endPath())}stroke(){const n=this.current;n.element&&(this._setStrokeAttributes(n.element),n.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(n,o=1){const D=this.current;let m=D.dashArray;1!==o&&m.length>0&&(m=m.map(function(O){return o*O})),n.setAttributeNS(null,"stroke",D.strokeColor),n.setAttributeNS(null,"stroke-opacity",D.strokeAlpha),n.setAttributeNS(null,"stroke-miterlimit",s(D.miterLimit)),n.setAttributeNS(null,"stroke-linecap",D.lineCap),n.setAttributeNS(null,"stroke-linejoin",D.lineJoin),n.setAttributeNS(null,"stroke-width",s(o*D.lineWidth)+"px"),n.setAttributeNS(null,"stroke-dasharray",m.map(s).join(" ")),n.setAttributeNS(null,"stroke-dashoffset",s(o*D.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width","1px"),n.setAttributeNS(null,"height","1px"),n.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(n)}paintImageXObject(n){const o=n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n);o?this.paintInlineImageXObject(o):(0,it.warn)(`Dependent image with object ID ${n} is not ready yet`)}paintInlineImageXObject(n,o){const D=n.width,m=n.height,O=I(n,this.forceDataSchema,!!o),B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x","0"),B.setAttributeNS(null,"y","0"),B.setAttributeNS(null,"width",s(D)),B.setAttributeNS(null,"height",s(m)),this.current.element=B,this.clip("nonzero");const h=this.svgFactory.createElement("svg:image");h.setAttributeNS(_,"xlink:href",O),h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y",s(-m)),h.setAttributeNS(null,"width",s(D)+"px"),h.setAttributeNS(null,"height",s(m)+"px"),h.setAttributeNS(null,"transform",`scale(${s(1/D)} ${s(-1/m)})`),o?o.append(h):this._ensureTransformGroup().append(h)}paintImageMaskXObject(n){const o=this.current,D=n.width,m=n.height,O=o.fillColor;o.maskId="mask"+f++;const B=this.svgFactory.createElement("svg:mask");B.setAttributeNS(null,"id",o.maskId);const h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y","0"),h.setAttributeNS(null,"width",s(D)),h.setAttributeNS(null,"height",s(m)),h.setAttributeNS(null,"fill",O),h.setAttributeNS(null,"mask",`url(#${o.maskId})`),this.defs.append(B),this._ensureTransformGroup().append(h),this.paintInlineImageXObject(n,B)}paintFormXObjectBegin(n,o){if(Array.isArray(n)&&6===n.length&&this.transform(n[0],n[1],n[2],n[3],n[4],n[5]),o){const D=o[2]-o[0],m=o[3]-o[1],O=this.svgFactory.createElement("svg:rect");O.setAttributeNS(null,"x",o[0]),O.setAttributeNS(null,"y",o[1]),O.setAttributeNS(null,"width",s(D)),O.setAttributeNS(null,"height",s(m)),this.current.element=O,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(n){const o=this.svgFactory.create(n.width,n.height),D=this.svgFactory.createElement("svg:defs");o.append(D),this.defs=D;const m=this.svgFactory.createElement("svg:g");return m.setAttributeNS(null,"transform",i(n.transform)),o.append(m),this.svg=m,o}_ensureClipGroup(){if(!this.current.clipGroup){const n=this.svgFactory.createElement("svg:g");n.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(n),this.current.clipGroup=n}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",i(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.PDFNodeStream=void 0;var rt=dt(1),it=dt(33);const v=require("fs"),K=require("http"),e=require("https"),d=require("url"),_=/^file:\/\/\/[a-zA-Z]:\//;et.PDFNodeStream=class{constructor(a){this.source=a,this.url=function(l){const n=d.parse(l);return"file:"===n.protocol||n.host?n:/^[a-z]:[/\\]/i.test(l)?d.parse(`file:///${l}`):(n.host||(n.protocol="file:"),n)}(a.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&a.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,rt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new k(this):new I(this),this._fullRequestReader}getRangeReader(a,f){if(f<=this._progressiveDataLength)return null;const l=this.isFsUrl?new s(this,a,f):new w(this,a,f);return this._rangeRequestReaders.push(l),l}cancelAllRequests(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);for(const f of this._rangeRequestReaders.slice(0))f.cancel(a)}};class S{constructor(a){this._url=a.url,this._done=!1,this._storedError=null,this.onProgress=null;const f=a.source;this._contentLength=f.length,this._loaded=0,this._filename=null,this._disableRange=f.disableRange||!1,this._rangeChunkSize=f.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!f.disableStream,this._isRangeSupported=!f.disableRange,this._readableStream=null,this._readCapability=(0,rt.createPromiseCapability)(),this._headersCapability=(0,rt.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const a=this._readableStream.read();return null===a?(this._readCapability=(0,rt.createPromiseCapability)(),this.read()):(this._loaded+=a.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(a).buffer,done:!1})}cancel(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}_error(a){this._storedError=a,this._readCapability.resolve()}_setReadableStream(a){this._readableStream=a,a.on("readable",()=>{this._readCapability.resolve()}),a.on("end",()=>{a.destroy(),this._done=!0,this._readCapability.resolve()}),a.on("error",f=>{this._error(f)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new rt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class t{constructor(a){this._url=a.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,rt.createPromiseCapability)(),this._isStreamingSupported=!a.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const a=this._readableStream.read();return null===a?(this._readCapability=(0,rt.createPromiseCapability)(),this.read()):(this._loaded+=a.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(a).buffer,done:!1})}cancel(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}_error(a){this._storedError=a,this._readCapability.resolve()}_setReadableStream(a){this._readableStream=a,a.on("readable",()=>{this._readCapability.resolve()}),a.on("end",()=>{a.destroy(),this._done=!0,this._readCapability.resolve()}),a.on("error",f=>{this._error(f)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function u(i,a){return{protocol:i.protocol,auth:i.auth,host:i.hostname,port:i.port,path:i.path,method:"GET",headers:a}}class I extends S{constructor(a){super(a);const f=l=>{if(404===l.statusCode){const m=new rt.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=m,void this._headersCapability.reject(m)}this._headersCapability.resolve(),this._setReadableStream(l);const n=m=>this._readableStream.headers[m.toLowerCase()],{allowRangeRequests:o,suggestedLength:D}=(0,it.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:a.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=D||this._contentLength,this._filename=(0,it.extractFilenameFromHeader)(n)};this._request=null,this._request="http:"===this._url.protocol?K.request(u(this._url,a.httpHeaders),f):e.request(u(this._url,a.httpHeaders),f),this._request.on("error",l=>{this._storedError=l,this._headersCapability.reject(l)}),this._request.end()}}class w extends t{constructor(a,f,l){super(a),this._httpHeaders={};for(const o in a.httpHeaders){const D=a.httpHeaders[o];void 0!==D&&(this._httpHeaders[o]=D)}this._httpHeaders.Range=`bytes=${f}-${l-1}`;const n=o=>{if(404!==o.statusCode)this._setReadableStream(o);else{const D=new rt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=D}};this._request=null,this._request="http:"===this._url.protocol?K.request(u(this._url,this._httpHeaders),n):e.request(u(this._url,this._httpHeaders),n),this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class k extends S{constructor(a){super(a);let f=decodeURIComponent(this._url.path);_.test(this._url.href)&&(f=f.replace(/^\//,"")),v.lstat(f,(l,n)=>{l?("ENOENT"===l.code&&(l=new rt.MissingPDFException(`Missing PDF "${f}".`)),this._storedError=l,this._headersCapability.reject(l)):(this._contentLength=n.size,this._setReadableStream(v.createReadStream(f)),this._headersCapability.resolve())})}}class s extends t{constructor(a,f,l){super(a);let n=decodeURIComponent(this._url.path);_.test(this._url.href)&&(n=n.replace(/^\//,"")),this._setReadableStream(v.createReadStream(n,{start:f,end:l-1}))}}},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.createResponseStatusError=function(e,d){return 404===e||0===e&&d.startsWith("file:")?new rt.MissingPDFException('Missing PDF "'+d+'".'):new rt.UnexpectedResponseException(`Unexpected server response (${e}) while retrieving PDF "${d}".`,e)},et.extractFilenameFromHeader=function(e){const d=e("Content-Disposition");if(d){let _=(0,it.getFilenameFromContentDispositionHeader)(d);if(_.includes("%"))try{_=decodeURIComponent(_)}catch{}if((0,v.isPdfFile)(_))return _}return null},et.validateRangeRequestCapabilities=function({getResponseHeader:e,isHttp:d,rangeChunkSize:_,disableRange:S}){const t={allowRangeRequests:!1,suggestedLength:void 0},u=parseInt(e("Content-Length"),10);return!Number.isInteger(u)||(t.suggestedLength=u,u<=2*_)||S||!d||"bytes"!==e("Accept-Ranges")||"identity"!==(e("Content-Encoding")||"identity")||(t.allowRangeRequests=!0),t},et.validateResponseStatus=function(e){return 200===e||206===e};var rt=dt(1),it=dt(34),v=dt(8)},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.getFilenameFromContentDispositionHeader=function(v){let K=!0,e=d("filename\\*","i").exec(v);if(e){e=e[1];let w=t(e);return w=unescape(w),w=u(w),w=I(w),S(w)}if(e=function(k){const s=[];let i;const a=d("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(i=a.exec(k));){let[,l,n,o]=i;if(l=parseInt(l,10),l in s){if(0===l)break}else s[l]=[n,o]}const f=[];for(let l=0;l<s.length&&l in s;++l){let[n,o]=s[l];o=t(o),n&&(o=unescape(o),0===l&&(o=u(o))),f.push(o)}return f.join("")}(v),e)return S(I(e));if(e=d("filename","i").exec(v),e){e=e[1];let w=t(e);return w=I(w),S(w)}function d(w,k){return new RegExp("(?:^|;)\\s*"+w+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',k)}function _(w,k){if(w){if(!/^[\x00-\xFF]+$/.test(k))return k;try{const s=new TextDecoder(w,{fatal:!0}),i=(0,rt.stringToBytes)(k);k=s.decode(i),K=!1}catch{}}return k}function S(w){return K&&/[\x80-\xff]/.test(w)&&(w=_("utf-8",w),K&&(w=_("iso-8859-1",w))),w}function t(w){if(w.startsWith('"')){const k=w.slice(1).split('\\"');for(let s=0;s<k.length;++s){const i=k[s].indexOf('"');-1!==i&&(k[s]=k[s].slice(0,i),k.length=s+1),k[s]=k[s].replace(/\\(.)/g,"$1")}w=k.join('"')}return w}function u(w){const k=w.indexOf("'");return-1===k?w:_(w.slice(0,k),w.slice(k+1).replace(/^[^']*'/,""))}function I(w){return!w.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(w)?w:w.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(k,s,i,a){if("q"===i||"Q"===i)return _(s,a=(a=a.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(f,l){return String.fromCharCode(parseInt(l,16))}));try{a=atob(a)}catch{}return _(s,a)})}return""};var rt=dt(1)},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.PDFNetworkStream=void 0;var rt=dt(1),it=dt(33);class v{constructor(_,S={}){this.url=_,this.isHttp=/^https?:/i.test(_),this.httpHeaders=this.isHttp&&S.httpHeaders||Object.create(null),this.withCredentials=S.withCredentials||!1,this.getXhr=S.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(_,S,t){const u={begin:_,end:S};for(const I in t)u[I]=t[I];return this.request(u)}requestFull(_){return this.request(_)}request(_){const S=this.getXhr(),t=this.currXhrId++,u=this.pendingRequests[t]={xhr:S};S.open("GET",this.url),S.withCredentials=this.withCredentials;for(const I in this.httpHeaders){const w=this.httpHeaders[I];void 0!==w&&S.setRequestHeader(I,w)}return this.isHttp&&"begin"in _&&"end"in _?(S.setRequestHeader("Range",`bytes=${_.begin}-${_.end-1}`),u.expectedStatus=206):u.expectedStatus=200,S.responseType="arraybuffer",_.onError&&(S.onerror=function(I){_.onError(S.status)}),S.onreadystatechange=this.onStateChange.bind(this,t),S.onprogress=this.onProgress.bind(this,t),u.onHeadersReceived=_.onHeadersReceived,u.onDone=_.onDone,u.onError=_.onError,u.onProgress=_.onProgress,S.send(null),t}onProgress(_,S){const t=this.pendingRequests[_];t&&t.onProgress?.(S)}onStateChange(_,S){const t=this.pendingRequests[_];if(!t)return;const u=t.xhr;if(u.readyState>=2&&t.onHeadersReceived&&(t.onHeadersReceived(),delete t.onHeadersReceived),4!==u.readyState||!(_ in this.pendingRequests))return;if(delete this.pendingRequests[_],0===u.status&&this.isHttp)return void t.onError?.(u.status);const I=u.status||200;if((200!==I||206!==t.expectedStatus)&&I!==t.expectedStatus)return void t.onError?.(u.status);const w=function(s){const i=s.response;return"string"!=typeof i?i:(0,rt.stringToBytes)(i).buffer}(u);if(206===I){const k=u.getResponseHeader("Content-Range"),s=/bytes (\d+)-(\d+)\/(\d+)/.exec(k);t.onDone({begin:parseInt(s[1],10),chunk:w})}else w?t.onDone({begin:0,chunk:w}):t.onError?.(u.status)}getRequestXhr(_){return this.pendingRequests[_].xhr}isPendingRequest(_){return _ in this.pendingRequests}abortRequest(_){const S=this.pendingRequests[_].xhr;delete this.pendingRequests[_],S.abort()}}et.PDFNetworkStream=class{constructor(_){this._source=_,this._manager=new v(_.url,{httpHeaders:_.httpHeaders,withCredentials:_.withCredentials}),this._rangeChunkSize=_.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(_){const S=this._rangeRequestReaders.indexOf(_);S>=0&&this._rangeRequestReaders.splice(S,1)}getFullReader(){return(0,rt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new K(this._manager,this._source),this._fullRequestReader}getRangeReader(_,S){const t=new e(this._manager,_,S);return t.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(t),t}cancelAllRequests(_){this._fullRequestReader?.cancel(_);for(const S of this._rangeRequestReaders.slice(0))S.cancel(_)}};class K{constructor(_,S){this._manager=_;const t={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=S.url,this._fullRequestId=_.requestFull(t),this._headersReceivedCapability=(0,rt.createPromiseCapability)(),this._disableRange=S.disableRange||!1,this._contentLength=S.length,this._rangeChunkSize=S.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const _=this._fullRequestId,S=this._manager.getRequestXhr(_),t=w=>S.getResponseHeader(w),{allowRangeRequests:u,suggestedLength:I}=(0,it.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});u&&(this._isRangeSupported=!0),this._contentLength=I||this._contentLength,this._filename=(0,it.extractFilenameFromHeader)(t),this._isRangeSupported&&this._manager.abortRequest(_),this._headersReceivedCapability.resolve()}_onDone(_){if(_&&(this._requests.length>0?this._requests.shift().resolve({value:_.chunk,done:!1}):this._cachedChunks.push(_.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(_){this._storedError=(0,it.createResponseStatusError)(_,this._url),this._headersReceivedCapability.reject(this._storedError);for(const S of this._requests)S.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(_){this.onProgress?.({loaded:_.loaded,total:_.lengthComputable?_.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _=(0,rt.createPromiseCapability)();return this._requests.push(_),_.promise}cancel(_){this._done=!0,this._headersReceivedCapability.reject(_);for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class e{constructor(_,S,t){this._manager=_;const u={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_.url,this._requestId=_.requestRange(S,t,u),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(_){const S=_.chunk;this._requests.length>0?this._requests.shift().resolve({value:S,done:!1}):this._queuedChunk=S,this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(_){this._storedError=(0,it.createResponseStatusError)(_,this._url);for(const S of this._requests)S.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(_){this.isStreamingSupported||this.onProgress?.({loaded:_.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const S=this._queuedChunk;return this._queuedChunk=null,{value:S,done:!1}}if(this._done)return{value:void 0,done:!0};const _=(0,rt.createPromiseCapability)();return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(It,et,dt)=>{Object.defineProperty(et,"__esModule",{value:!0}),et.PDFFetchStream=void 0;var rt=dt(1),it=dt(33);function v(_,S,t){return{method:"GET",headers:_,signal:t.signal,mode:"cors",credentials:S?"include":"same-origin",redirect:"follow"}}function K(_){const S=new Headers;for(const t in _){const u=_[t];void 0!==u&&S.append(t,u)}return S}et.PDFFetchStream=class{constructor(S){this.source=S,this.isHttp=/^https?:/i.test(S.url),this.httpHeaders=this.isHttp&&S.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,rt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new e(this),this._fullRequestReader}getRangeReader(S,t){if(t<=this._progressiveDataLength)return null;const u=new d(this,S,t);return this._rangeRequestReaders.push(u),u}cancelAllRequests(S){this._fullRequestReader&&this._fullRequestReader.cancel(S);for(const t of this._rangeRequestReaders.slice(0))t.cancel(S)}};class e{constructor(S){this._stream=S,this._reader=null,this._loaded=0,this._filename=null;const t=S.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=(0,rt.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=K(this._stream.httpHeaders);const u=t.url;fetch(u,v(this._headers,this._withCredentials,this._abortController)).then(I=>{if(!(0,it.validateResponseStatus)(I.status))throw(0,it.createResponseStatusError)(I.status,u);this._reader=I.body.getReader(),this._headersCapability.resolve();const w=i=>I.headers.get(i),{allowRangeRequests:k,suggestedLength:s}=(0,it.validateRangeRequestCapabilities)({getResponseHeader:w,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=k,this._contentLength=s||this._contentLength,this._filename=(0,it.extractFilenameFromHeader)(w),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new rt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:S,done:t}=await this._reader.read();return t?{value:S,done:t}:(this._loaded+=S.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(S).buffer,done:!1})}cancel(S){this._reader&&this._reader.cancel(S),this._abortController.abort()}}class d{constructor(S,t,u){this._stream=S,this._reader=null,this._loaded=0;const I=S.source;this._withCredentials=I.withCredentials||!1,this._readCapability=(0,rt.createPromiseCapability)(),this._isStreamingSupported=!I.disableStream,this._abortController=new AbortController,this._headers=K(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${u-1}`);const w=I.url;fetch(w,v(this._headers,this._withCredentials,this._abortController)).then(k=>{if(!(0,it.validateResponseStatus)(k.status))throw(0,it.createResponseStatusError)(k.status,w);this._readCapability.resolve(),this._reader=k.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:S,done:t}=await this._reader.read();return t?{value:S,done:t}:(this._loaded+=S.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(S).buffer,done:!1})}cancel(S){this._reader&&this._reader.cancel(S),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(It){var et=__webpack_module_cache__[It];if(void 0!==et)return et.exports;var dt=__webpack_module_cache__[It]={exports:{}};return __webpack_modules__[It](dt,dt.exports,__w_pdfjs_require__),dt.exports}var __webpack_exports__={};return(()=>{var It=__webpack_exports__;Object.defineProperty(It,"__esModule",{value:!0}),Object.defineProperty(It,"AnnotationEditorLayer",{enumerable:!0,get:function(){return it.AnnotationEditorLayer}}),Object.defineProperty(It,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return et.AnnotationEditorParamsType}}),Object.defineProperty(It,"AnnotationEditorType",{enumerable:!0,get:function(){return et.AnnotationEditorType}}),Object.defineProperty(It,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return v.AnnotationEditorUIManager}}),Object.defineProperty(It,"AnnotationLayer",{enumerable:!0,get:function(){return K.AnnotationLayer}}),Object.defineProperty(It,"AnnotationMode",{enumerable:!0,get:function(){return et.AnnotationMode}}),Object.defineProperty(It,"CMapCompressionType",{enumerable:!0,get:function(){return et.CMapCompressionType}}),Object.defineProperty(It,"GlobalWorkerOptions",{enumerable:!0,get:function(){return e.GlobalWorkerOptions}}),Object.defineProperty(It,"InvalidPDFException",{enumerable:!0,get:function(){return et.InvalidPDFException}}),Object.defineProperty(It,"LoopbackPort",{enumerable:!0,get:function(){return dt.LoopbackPort}}),Object.defineProperty(It,"MissingPDFException",{enumerable:!0,get:function(){return et.MissingPDFException}}),Object.defineProperty(It,"OPS",{enumerable:!0,get:function(){return et.OPS}}),Object.defineProperty(It,"PDFDataRangeTransport",{enumerable:!0,get:function(){return dt.PDFDataRangeTransport}}),Object.defineProperty(It,"PDFDateString",{enumerable:!0,get:function(){return rt.PDFDateString}}),Object.defineProperty(It,"PDFWorker",{enumerable:!0,get:function(){return dt.PDFWorker}}),Object.defineProperty(It,"PasswordResponses",{enumerable:!0,get:function(){return et.PasswordResponses}}),Object.defineProperty(It,"PermissionFlag",{enumerable:!0,get:function(){return et.PermissionFlag}}),Object.defineProperty(It,"PixelsPerInch",{enumerable:!0,get:function(){return rt.PixelsPerInch}}),Object.defineProperty(It,"RenderingCancelledException",{enumerable:!0,get:function(){return rt.RenderingCancelledException}}),Object.defineProperty(It,"SVGGraphics",{enumerable:!0,get:function(){return S.SVGGraphics}}),Object.defineProperty(It,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return et.UNSUPPORTED_FEATURES}}),Object.defineProperty(It,"UnexpectedResponseException",{enumerable:!0,get:function(){return et.UnexpectedResponseException}}),Object.defineProperty(It,"Util",{enumerable:!0,get:function(){return et.Util}}),Object.defineProperty(It,"VerbosityLevel",{enumerable:!0,get:function(){return et.VerbosityLevel}}),Object.defineProperty(It,"XfaLayer",{enumerable:!0,get:function(){return t.XfaLayer}}),Object.defineProperty(It,"build",{enumerable:!0,get:function(){return dt.build}}),Object.defineProperty(It,"createPromiseCapability",{enumerable:!0,get:function(){return et.createPromiseCapability}}),Object.defineProperty(It,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return et.createValidAbsoluteUrl}}),Object.defineProperty(It,"getDocument",{enumerable:!0,get:function(){return dt.getDocument}}),Object.defineProperty(It,"getFilenameFromUrl",{enumerable:!0,get:function(){return rt.getFilenameFromUrl}}),Object.defineProperty(It,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return rt.getPdfFilenameFromUrl}}),Object.defineProperty(It,"getXfaPageViewport",{enumerable:!0,get:function(){return rt.getXfaPageViewport}}),Object.defineProperty(It,"isPdfFile",{enumerable:!0,get:function(){return rt.isPdfFile}}),Object.defineProperty(It,"loadScript",{enumerable:!0,get:function(){return rt.loadScript}}),Object.defineProperty(It,"renderTextLayer",{enumerable:!0,get:function(){return _.renderTextLayer}}),Object.defineProperty(It,"shadow",{enumerable:!0,get:function(){return et.shadow}}),Object.defineProperty(It,"version",{enumerable:!0,get:function(){return dt.version}});var et=__w_pdfjs_require__(1),dt=__w_pdfjs_require__(4),rt=__w_pdfjs_require__(8),it=__w_pdfjs_require__(22),v=__w_pdfjs_require__(7),K=__w_pdfjs_require__(27),e=__w_pdfjs_require__(15),d=__w_pdfjs_require__(3),_=__w_pdfjs_require__(30),S=__w_pdfjs_require__(31),t=__w_pdfjs_require__(29);if(d.isNodeJS){const{PDFNodeStream:u}=__w_pdfjs_require__(32);(0,dt.setPDFNetworkStreamFactory)(I=>new u(I))}else{const{PDFNetworkStream:u}=__w_pdfjs_require__(35),{PDFFetchStream:I}=__w_pdfjs_require__(36);(0,dt.setPDFNetworkStreamFactory)(w=>(0,rt.isValidFetchUrl)(w.url)?new I(w):new u(w))}})(),__webpack_exports__})()),function It(et,dt){"object"==typeof exports&&"object"==typeof module?module.exports=dt():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf.worker",[],dt):"object"==typeof exports?exports["pdfjs-dist/build/pdf.worker"]=dt():et["pdfjs-dist/build/pdf.worker"]=et.pdfjsWorker=dt()}(globalThis,()=>(()=>{"use strict";var It=[,(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.WorkerTask=v.WorkerMessageHandler=void 0;var f,e=K(2),d=K(5),_=K(6),S=K(8),t=K(71),u=K(65),I=K(4),w=K(102),k=K(103);class s{constructor(f){this.name=f,this.terminated=!1,this._capability=(0,e.createPromiseCapability)()}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}v.WorkerTask=s;class i{static setup(f,l){let n=!1;f.on("test",function(D){n||(n=!0,f.send("test",D instanceof Uint8Array))}),f.on("configure",function(D){(0,e.setVerbosityLevel)(D.verbosity)}),f.on("GetDocRequest",function(D){return i.createDocumentHandler(D,l)})}static createDocumentHandler(f,l){let n,o=!1,D=null;const m=[],O=(0,e.getVerbosityLevel)(),B=f.apiVersion;if("2.16.105"!==B)throw new Error(`The API version "${B}" does not match the Worker version "2.16.105".`);const y=[];for(const R in[])y.push(R);if(y.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+y.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");if(typeof ReadableStream>"u"){const R="The browser/environment lacks native support for critical functionality used by the PDF.js library (e.g. `ReadableStream`); ";throw I.isNodeJS?new Error(R+"please use a `legacy`-build instead."):new Error(R+"please update to a supported browser.")}const g=f.docId,r=f.docBaseUrl,c=f.docId+"_worker";let P=new w.MessageHandler(c,g,l);function T(){if(o)throw new Error("Worker was terminated")}function x(R){m.push(R)}function C(R){R.finish();const F=m.indexOf(R);m.splice(F,1)}async function b(R){await n.ensureDoc("checkHeader"),await n.ensureDoc("parseStartXRef"),await n.ensureDoc("parse",[R]),await n.ensureDoc("checkFirstPage",[R]),await n.ensureDoc("checkLastPage",[R]);const F=await n.ensureDoc("isPureXfa");if(F){const L=new s("loadXfaFonts");x(L),await Promise.all([n.loadXfaFonts(P,L).catch(X=>{}).then(()=>C(L)),n.loadXfaImages()])}const[N,E]=await Promise.all([n.ensureDoc("numPages"),n.ensureDoc("fingerprints")]);return{numPages:N,fingerprints:E,htmlForXfa:F?await n.ensureDoc("htmlForXfa"):null}}return P.on("GetPage",function(F){return n.getPage(F.pageIndex).then(function(N){return Promise.all([n.ensure(N,"rotate"),n.ensure(N,"ref"),n.ensure(N,"userUnit"),n.ensure(N,"view")]).then(function([E,L,X,V]){return{rotate:E,ref:L,userUnit:X,view:V}})})}),P.on("GetPageIndex",function(F){const N=d.Ref.get(F.num,F.gen);return n.ensureCatalog("getPageIndex",[N])}),P.on("GetDestinations",function(F){return n.ensureCatalog("destinations")}),P.on("GetDestination",function(F){return n.ensureCatalog("getDestination",[F.id])}),P.on("GetPageLabels",function(F){return n.ensureCatalog("pageLabels")}),P.on("GetPageLayout",function(F){return n.ensureCatalog("pageLayout")}),P.on("GetPageMode",function(F){return n.ensureCatalog("pageMode")}),P.on("GetViewerPreferences",function(R){return n.ensureCatalog("viewerPreferences")}),P.on("GetOpenAction",function(R){return n.ensureCatalog("openAction")}),P.on("GetAttachments",function(F){return n.ensureCatalog("attachments")}),P.on("GetJavaScript",function(F){return n.ensureCatalog("javaScript")}),P.on("GetDocJSActions",function(F){return n.ensureCatalog("jsActions")}),P.on("GetPageJSActions",function({pageIndex:R}){return n.getPage(R).then(function(F){return n.ensure(F,"jsActions")})}),P.on("GetOutline",function(F){return n.ensureCatalog("documentOutline")}),P.on("GetOptionalContentConfig",function(R){return n.ensureCatalog("optionalContentConfig")}),P.on("GetPermissions",function(R){return n.ensureCatalog("permissions")}),P.on("GetMetadata",function(F){return Promise.all([n.ensureDoc("documentInfo"),n.ensureCatalog("metadata")])}),P.on("GetMarkInfo",function(F){return n.ensureCatalog("markInfo")}),P.on("GetData",function(F){return n.requestLoadedStream(),n.onLoadedStream().then(function(N){return N.bytes})}),P.on("GetAnnotations",function({pageIndex:R,intent:F}){return n.getPage(R).then(function(N){const E=new s(`GetAnnotations: page ${R}`);return x(E),N.getAnnotationsData(P,E,F).then(L=>(C(E),L),L=>{C(E)})})}),P.on("GetFieldObjects",function(R){return n.ensureDoc("fieldObjects")}),P.on("HasJSActions",function(R){return n.ensureDoc("hasJSActions")}),P.on("GetCalculationOrderIds",function(R){return n.ensureDoc("calculationOrderIds")}),P.on("SaveDocument",function({isPureXfa:R,numPages:F,annotationStorage:N,filename:E}){n.requestLoadedStream();const L=R?null:(0,_.getNewAnnotationsMap)(N),X=[n.onLoadedStream(),n.ensureCatalog("acroForm"),n.ensureCatalog("acroFormRef"),n.ensureDoc("xref"),n.ensureDoc("startXRef")];if(L)for(const[V,J]of L)X.push(n.getPage(V).then(z=>{const $=new s(`Save (editor): page ${V}`);return z.saveNewAnnotations(P,$,J).finally(function(){C($)})}));if(R)X.push(n.serializeXfaData(N));else for(let V=0;V<F;V++)X.push(n.getPage(V).then(function(J){const z=new s(`Save: page ${V}`);return J.save(P,z,N).finally(function(){C(z)})}));return Promise.all(X).then(function([V,J,z,$,q,...j]){let M=[],U=null;if(R){if(U=j[0],!U)return V.bytes}else if(M=j.flat(2),0===M.length)return V.bytes;const H=J instanceof d.Dict&&J.get("XFA")||null;let W=null,G=!1;if(Array.isArray(H)){for(let tt=0,Z=H.length;tt<Z;tt+=2)"datasets"===H[tt]&&(W=H[tt+1],z=null,G=!0);null===W&&(W=$.getNewRef())}else H&&(z=null,(0,e.warn)("Unsupported XFA type."));let Y=Object.create(null);if($.trailer){const tt=Object.create(null),Z=$.trailer.get("Info")||null;Z instanceof d.Dict&&Z.forEach((at,st)=>{"string"==typeof st&&(tt[at]=(0,e.stringToPDFString)(st))}),Y={rootRef:$.trailer.getRaw("Root")||null,encryptRef:$.trailer.getRaw("Encrypt")||null,newRef:$.getNewRef(),infoRef:$.trailer.getRaw("Info")||null,info:tt,fileIds:$.trailer.get("ID")||null,startXRef:q,filename:E}}return $.resetNewRef(),(0,u.incrementalUpdate)({originalData:V.bytes,xrefInfo:Y,newRefs:M,xref:$,hasXfa:!!H,xfaDatasetsRef:W,hasXfaDatasetsEntry:G,acroFormRef:z,acroForm:J,xfaData:U})})}),P.on("GetOperatorList",function(F,N){const E=F.pageIndex;n.getPage(E).then(function(L){const X=new s(`GetOperatorList: page ${E}`);x(X);const V=O>=e.VerbosityLevel.INFOS?Date.now():0;L.getOperatorList({handler:P,sink:N,task:X,intent:F.intent,cacheKey:F.cacheKey,annotationStorage:F.annotationStorage}).then(function(J){C(X),V&&(0,e.info)(`page=${E+1} - getOperatorList: time=${Date.now()-V}ms, len=${J.length}`),N.close()},function(J){C(X),X.terminated||(P.send("UnsupportedFeature",{featureId:e.UNSUPPORTED_FEATURES.errorOperatorList}),N.error(J))})})}),P.on("GetTextContent",function(F,N){const E=F.pageIndex;n.getPage(E).then(function(L){const X=new s("GetTextContent: page "+E);x(X);const V=O>=e.VerbosityLevel.INFOS?Date.now():0;L.extractTextContent({handler:P,task:X,sink:N,includeMarkedContent:F.includeMarkedContent,combineTextItems:F.combineTextItems}).then(function(){C(X),V&&(0,e.info)(`page=${E+1} - getTextContent: time=`+(Date.now()-V)+"ms"),N.close()},function(J){C(X),X.terminated||N.error(J)})})}),P.on("GetStructTree",function(F){return n.getPage(F.pageIndex).then(function(N){return n.ensure(N,"getStructTree")})}),P.on("FontFallback",function(R){return n.fontFallback(R.id,P)}),P.on("Cleanup",function(F){return n.cleanup(!0)}),P.on("Terminate",function(F){o=!0;const N=[];if(n){n.terminate(new e.AbortException("Worker was terminated."));const E=n.cleanup();N.push(E),n=null}else(0,t.clearGlobalCaches)();D&&D(new e.AbortException("Worker was terminated."));for(const E of m)N.push(E.finished),E.terminate();return Promise.all(N).then(function(){P.destroy(),P=null})}),P.on("Ready",function(F){(function(E){function L(J){T(),P.send("GetDoc",{pdfInfo:J})}function X(J){if(T(),J instanceof e.PasswordException){const z=new s(`PasswordException: response ${J.code}`);x(z),P.sendWithPromise("PasswordRequest",J).then(function({password:$}){C(z),n.updatePassword($),V()}).catch(function(){C(z),P.send("DocException",J)})}else P.send("DocException",J instanceof e.InvalidPDFException||J instanceof e.MissingPDFException||J instanceof e.UnexpectedResponseException||J instanceof e.UnknownErrorException?J:new e.UnknownErrorException(J.message,J.toString()))}function V(){T(),b(!1).then(L,function(J){T(),J instanceof _.XRefParseException?(n.requestLoadedStream(),n.onLoadedStream().then(function(){T(),b(!0).then(L,X)})):X(J)})}T(),function A(R,F,N){const E=(0,e.createPromiseCapability)();let L;const X=R.source;if(X.data){try{L=new S.LocalPdfManager(g,X.data,X.password,P,F,N,r),E.resolve(L)}catch(q){E.reject(q)}return E.promise}let V,J=[];try{V=new k.PDFWorkerStream(P)}catch(q){return E.reject(q),E.promise}const z=V.getFullReader();z.headersReady.then(function(){if(z.isRangeSupported){L=new S.NetworkPdfManager(g,V,{msgHandler:P,password:X.password,length:z.contentLength,disableAutoFetch:X.disableAutoFetch||z.isStreamingSupported,rangeChunkSize:X.rangeChunkSize},F,N,r);for(const j of J)L.sendProgressiveData(j);J=[],E.resolve(L),D=null}}).catch(function(q){E.reject(q),D=null});let $=0;return new Promise(function(q,j){const M=function({value:U,done:H}){try{if(T(),H)return L||function(){const W=(0,e.arraysToBytes)(J);X.length&&W.length!==X.length&&(0,e.warn)("reported HTTP length is different from actual");try{L=new S.LocalPdfManager(g,W,X.password,P,F,N,r),E.resolve(L)}catch(G){E.reject(G)}J=[]}(),void(D=null);$+=(0,e.arrayByteLength)(U),z.isStreamingSupported||P.send("DocProgress",{loaded:$,total:Math.max($,z.contentLength||0)}),L?L.sendProgressiveData(U):J.push(U),z.read().then(M,j)}catch(W){j(W)}};z.read().then(M,j)}).catch(function(q){E.reject(q),D=null}),D=function(q){V.cancelAllRequests(q)},E.promise}(E,{maxImageSize:E.maxImageSize,disableFontFace:E.disableFontFace,ignoreErrors:E.ignoreErrors,isEvalSupported:E.isEvalSupported,fontExtraProperties:E.fontExtraProperties,useSystemFonts:E.useSystemFonts,cMapUrl:E.cMapUrl,standardFontDataUrl:E.standardFontDataUrl},E.enableXfa).then(function(J){if(o)throw J.terminate(new e.AbortException("Worker was terminated.")),new Error("Worker was terminated");n=J,n.onLoadedStream().then(function(z){P.send("DataLoaded",{length:z.bytes.byteLength})})}).then(V,X)})(f),f=null}),c}static initializeFromPort(f){const l=new w.MessageHandler("worker","main",f);i.setup(l,f),l.send("ready",null)}}v.WorkerMessageHandler=i,typeof window>"u"&&!I.isNodeJS&&typeof self<"u"&&"function"==typeof(f=self).postMessage&&"onmessage"in f&&i.initializeFromPort(self)},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.VerbosityLevel=v.Util=v.UnknownErrorException=v.UnexpectedResponseException=v.UNSUPPORTED_FEATURES=v.TextRenderingMode=v.StreamType=v.RenderingIntentFlag=v.PermissionFlag=v.PasswordResponses=v.PasswordException=v.PageActionEventType=v.OPS=v.MissingPDFException=v.LINE_FACTOR=v.LINE_DESCENT_FACTOR=v.InvalidPDFException=v.ImageKind=v.IDENTITY_MATRIX=v.FormatError=v.FontType=v.FeatureTest=v.FONT_IDENTITY_MATRIX=v.DocumentActionEventType=v.CMapCompressionType=v.BaseException=v.AnnotationType=v.AnnotationStateModelType=v.AnnotationReviewState=v.AnnotationReplyType=v.AnnotationMode=v.AnnotationMarkedState=v.AnnotationFlag=v.AnnotationFieldFlag=v.AnnotationEditorType=v.AnnotationEditorPrefix=v.AnnotationEditorParamsType=v.AnnotationBorderStyleType=v.AnnotationActionEventType=v.AbortException=void 0,v.arrayByteLength=w,v.arraysToBytes=function(l){const n=l.length;if(1===n&&l[0]instanceof Uint8Array)return l[0];let o=0;for(let O=0;O<n;O++)o+=w(l[O]);let D=0;const m=new Uint8Array(o);for(let O=0;O<n;O++){let B=l[O];B instanceof Uint8Array||(B="string"==typeof B?I(B):new Uint8Array(B));const h=B.byteLength;m.set(B,D),D+=h}return m},v.assert=function(l,n){l||S(n)},v.bytesToString=function(l){"object"==typeof l&&null!==l&&void 0!==l.length||S("Invalid argument for bytesToString");const n=l.length,o=8192;if(n<o)return String.fromCharCode.apply(null,l);const D=[];for(let m=0;m<n;m+=o){const O=Math.min(m+o,n),B=l.subarray(m,O);D.push(String.fromCharCode.apply(null,B))}return D.join("")},v.createPromiseCapability=function(){const l=Object.create(null);let n=!1;return Object.defineProperty(l,"settled",{get:()=>n}),l.promise=new Promise(function(o,D){l.resolve=function(m){n=!0,o(m)},l.reject=function(m){n=!0,D(m)}}),l},v.createValidAbsoluteUrl=function(l,n=null,o=null){if(!l)return null;try{if(o&&"string"==typeof l){if(o.addDefaultProtocol&&l.startsWith("www.")){const m=l.match(/\./g);m&&m.length>=2&&(l=`http://${l}`)}if(o.tryConvertEncoding)try{l=a(l)}catch{}}const D=n?new URL(l,n):new URL(l);if(function(O){if(!O)return!1;switch(O.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(D))return D}catch{}return null},v.escapeString=function(l){return l.replace(/([()\\\n\r])/g,n=>"\n"===n?"\\n":"\r"===n?"\\r":`\\${n}`)},v.getModificationDate=function(l=new Date){return[l.getUTCFullYear().toString(),(l.getUTCMonth()+1).toString().padStart(2,"0"),l.getUTCDate().toString().padStart(2,"0"),l.getUTCHours().toString().padStart(2,"0"),l.getUTCMinutes().toString().padStart(2,"0"),l.getUTCSeconds().toString().padStart(2,"0")].join("")},v.getVerbosityLevel=function(){return d},v.info=function(l){d>=e.INFOS&&console.log(`Info: ${l}`)},v.isArrayBuffer=function(l){return"object"==typeof l&&null!==l&&void 0!==l.byteLength},v.isArrayEqual=function(l,n){if(l.length!==n.length)return!1;for(let o=0,D=l.length;o<D;o++)if(l[o]!==n[o])return!1;return!0},v.isAscii=function(l){return/^[\x00-\x7F]*$/.test(l)},v.objectFromMap=function(l){const n=Object.create(null);for(const[o,D]of l)n[o]=D;return n},v.objectSize=function(l){return Object.keys(l).length},v.setVerbosityLevel=function(l){Number.isInteger(l)&&(d=l)},v.shadow=t,v.string32=function(l){return String.fromCharCode(l>>24&255,l>>16&255,l>>8&255,255&l)},v.stringToBytes=I,v.stringToPDFString=function(l){if(l[0]>="\xef"){let o;if("\xfe"===l[0]&&"\xff"===l[1]?o="utf-16be":"\xff"===l[0]&&"\xfe"===l[1]?o="utf-16le":"\xef"===l[0]&&"\xbb"===l[1]&&"\xbf"===l[2]&&(o="utf-8"),o)try{const D=new TextDecoder(o,{fatal:!0}),m=I(l);return D.decode(m)}catch(D){_(`stringToPDFString: "${D}".`)}}const n=[];for(let o=0,D=l.length;o<D;o++){const m=i[l.charCodeAt(o)];n.push(m?String.fromCharCode(m):l.charAt(o))}return n.join("")},v.stringToUTF16BEString=function(l){const n=["\xfe\xff"];for(let o=0,D=l.length;o<D;o++){const m=l.charCodeAt(o);n.push(String.fromCharCode(m>>8&255),String.fromCharCode(255&m))}return n.join("")},v.stringToUTF8String=a,v.unreachable=S,v.utf8StringToString=function(l){return unescape(encodeURIComponent(l))},v.warn=_,K(3),v.IDENTITY_MATRIX=[1,0,0,1,0,0],v.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],v.LINE_FACTOR=1.35,v.LINE_DESCENT_FACTOR=.35,v.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},v.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},v.AnnotationEditorPrefix="pdfjs_internal_editor_",v.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},v.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},v.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},v.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},v.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},v.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},v.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},v.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},v.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},v.AnnotationReplyType={GROUP:"Group",REPLY:"R"},v.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},v.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},v.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},v.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},v.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},v.PageActionEventType={O:"PageOpen",C:"PageClose"},v.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},v.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const e={ERRORS:0,WARNINGS:1,INFOS:5};v.VerbosityLevel=e,v.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},v.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},v.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},v.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let d=e.WARNINGS;function _(f){d>=e.WARNINGS&&console.log(`Warning: ${f}`)}function S(f){throw new Error(f)}function t(f,l,n){return Object.defineProperty(f,l,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}const u=function(){function l(n,o){this.constructor===l&&S("Cannot initialize BaseException."),this.message=n,this.name=o}return l.prototype=new Error,l.constructor=l,l}();function I(f){"string"!=typeof f&&S("Invalid argument for stringToBytes");const l=f.length,n=new Uint8Array(l);for(let o=0;o<l;++o)n[o]=255&f.charCodeAt(o);return n}function w(f){return void 0!==f.length?f.length:void 0!==f.byteLength?f.byteLength:void S("Invalid argument for arrayByteLength")}v.BaseException=u,v.PasswordException=class extends u{constructor(l,n){super(l,"PasswordException"),this.code=n}},v.UnknownErrorException=class extends u{constructor(l,n){super(l,"UnknownErrorException"),this.details=n}},v.InvalidPDFException=class extends u{constructor(l){super(l,"InvalidPDFException")}},v.MissingPDFException=class extends u{constructor(l){super(l,"MissingPDFException")}},v.UnexpectedResponseException=class extends u{constructor(l,n){super(l,"UnexpectedResponseException"),this.status=n}},v.FormatError=class extends u{constructor(l){super(l,"FormatError")}},v.AbortException=class extends u{constructor(l){super(l,"AbortException")}},v.FeatureTest=class{static get isLittleEndian(){return t(this,"isLittleEndian",function(){const n=new Uint8Array(4);return n[0]=1,1===new Uint32Array(n.buffer,0,1)[0]}())}static get isEvalSupported(){return t(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return t(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const k=[...Array(256).keys()].map(f=>f.toString(16).padStart(2,"0"));class s{static makeHexColor(l,n,o){return`#${k[l]}${k[n]}${k[o]}`}static scaleMinMax(l,n){let o;l[0]?(l[0]<0&&(o=n[0],n[0]=n[1],n[1]=o),n[0]*=l[0],n[1]*=l[0],l[3]<0&&(o=n[2],n[2]=n[3],n[3]=o),n[2]*=l[3],n[3]*=l[3]):(o=n[0],n[0]=n[2],n[2]=o,o=n[1],n[1]=n[3],n[3]=o,l[1]<0&&(o=n[2],n[2]=n[3],n[3]=o),n[2]*=l[1],n[3]*=l[1],l[2]<0&&(o=n[0],n[0]=n[1],n[1]=o),n[0]*=l[2],n[1]*=l[2]),n[0]+=l[4],n[1]+=l[4],n[2]+=l[5],n[3]+=l[5]}static transform(l,n){return[l[0]*n[0]+l[2]*n[1],l[1]*n[0]+l[3]*n[1],l[0]*n[2]+l[2]*n[3],l[1]*n[2]+l[3]*n[3],l[0]*n[4]+l[2]*n[5]+l[4],l[1]*n[4]+l[3]*n[5]+l[5]]}static applyTransform(l,n){return[l[0]*n[0]+l[1]*n[2]+n[4],l[0]*n[1]+l[1]*n[3]+n[5]]}static applyInverseTransform(l,n){const o=n[0]*n[3]-n[1]*n[2];return[(l[0]*n[3]-l[1]*n[2]+n[2]*n[5]-n[4]*n[3])/o,(-l[0]*n[1]+l[1]*n[0]+n[4]*n[1]-n[5]*n[0])/o]}static getAxialAlignedBoundingBox(l,n){const o=s.applyTransform(l,n),D=s.applyTransform(l.slice(2,4),n),m=s.applyTransform([l[0],l[3]],n),O=s.applyTransform([l[2],l[1]],n);return[Math.min(o[0],D[0],m[0],O[0]),Math.min(o[1],D[1],m[1],O[1]),Math.max(o[0],D[0],m[0],O[0]),Math.max(o[1],D[1],m[1],O[1])]}static inverseTransform(l){const n=l[0]*l[3]-l[1]*l[2];return[l[3]/n,-l[1]/n,-l[2]/n,l[0]/n,(l[2]*l[5]-l[4]*l[3])/n,(l[4]*l[1]-l[5]*l[0])/n]}static apply3dTransform(l,n){return[l[0]*n[0]+l[1]*n[1]+l[2]*n[2],l[3]*n[0]+l[4]*n[1]+l[5]*n[2],l[6]*n[0]+l[7]*n[1]+l[8]*n[2]]}static singularValueDecompose2dScale(l){const n=[l[0],l[2],l[1],l[3]],o=l[0]*n[0]+l[1]*n[2],O=l[2]*n[1]+l[3]*n[3],B=(o+O)/2,h=Math.sqrt((o+O)**2-4*(o*O-(l[2]*n[0]+l[3]*n[2])*(l[0]*n[1]+l[1]*n[3])))/2,g=B-h||1;return[Math.sqrt(B+h||1),Math.sqrt(g)]}static normalizeRect(l){const n=l.slice(0);return l[0]>l[2]&&(n[0]=l[2],n[2]=l[0]),l[1]>l[3]&&(n[1]=l[3],n[3]=l[1]),n}static intersect(l,n){const o=Math.max(Math.min(l[0],l[2]),Math.min(n[0],n[2])),D=Math.min(Math.max(l[0],l[2]),Math.max(n[0],n[2]));if(o>D)return null;const m=Math.max(Math.min(l[1],l[3]),Math.min(n[1],n[3])),O=Math.min(Math.max(l[1],l[3]),Math.max(n[1],n[3]));return m>O?null:[o,m,D,O]}static bezierBoundingBox(l,n,o,D,m,O,B,h){const y=[],g=[[],[]];let r,c,P,T,x,C,b,A;for(let E=0;E<2;++E)if(0===E?(c=6*l-12*o+6*m,r=-3*l+9*o-9*m+3*B,P=3*o-3*l):(c=6*n-12*D+6*O,r=-3*n+9*D-9*O+3*h,P=3*D-3*n),Math.abs(r)<1e-12){if(Math.abs(c)<1e-12)continue;T=-P/c,0<T&&T<1&&y.push(T)}else b=c*c-4*P*r,A=Math.sqrt(b),b<0||(x=(-c+A)/(2*r),0<x&&x<1&&y.push(x),C=(-c-A)/(2*r),0<C&&C<1&&y.push(C));let R,F=y.length;const N=F;for(;F--;)T=y[F],R=1-T,g[0][F]=R*R*R*l+3*R*R*T*o+3*R*T*T*m+T*T*T*B,g[1][F]=R*R*R*n+3*R*R*T*D+3*R*T*T*O+T*T*T*h;return g[0][N]=l,g[1][N]=n,g[0][N+1]=B,g[1][N+1]=h,g[0].length=g[1].length=N+2,[Math.min(...g[0]),Math.min(...g[1]),Math.max(...g[0]),Math.max(...g[1])]}}v.Util=s;const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function a(f){return decodeURIComponent(escape(f))}},(it,v,K)=>{K(4)},(it,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.isNodeJS=void 0;const K=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);v.isNodeJS=K},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.RefSetCache=v.RefSet=v.Ref=v.Name=v.EOF=v.Dict=v.Cmd=v.CIRCULAR_REF=void 0,v.clearPrimitiveCaches=function(){t._clearCache(),S._clearCache(),w._clearCache()},v.isCmd=function(f,l){return f instanceof t&&(void 0===l||f.cmd===l)},v.isDict=function(f,l){return f instanceof I&&(void 0===l||i(f.get("Type"),l))},v.isName=i,v.isRefsEqual=function(f,l){return f.num===l.num&&f.gen===l.gen};var e=K(2);const d=Symbol("CIRCULAR_REF");v.CIRCULAR_REF=d;const _=Symbol("EOF");v.EOF=_;const S=function(){let f=Object.create(null);class l{constructor(o){this.name=o}static get(o){return f[o]||(f[o]=new l(o))}static _clearCache(){f=Object.create(null)}}return l}();v.Name=S;const t=function(){let f=Object.create(null);class l{constructor(o){this.cmd=o}static get(o){return f[o]||(f[o]=new l(o))}static _clearCache(){f=Object.create(null)}}return l}();v.Cmd=t;const u=function(){return u};class I{constructor(f=null){this._map=Object.create(null),this.xref=f,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=u}assignXref(f){this.xref=f}get size(){return Object.keys(this._map).length}get(f,l,n){let o=this._map[f];return void 0===o&&void 0!==l&&(o=this._map[l],void 0===o&&void 0!==n&&(o=this._map[n])),o instanceof w&&this.xref?this.xref.fetch(o,this.suppressEncryption):o}async getAsync(f,l,n){let o=this._map[f];return void 0===o&&void 0!==l&&(o=this._map[l],void 0===o&&void 0!==n&&(o=this._map[n])),o instanceof w&&this.xref?this.xref.fetchAsync(o,this.suppressEncryption):o}getArray(f,l,n){let o=this._map[f];if(void 0===o&&void 0!==l&&(o=this._map[l],void 0===o&&void 0!==n&&(o=this._map[n])),o instanceof w&&this.xref&&(o=this.xref.fetch(o,this.suppressEncryption)),Array.isArray(o)){o=o.slice();for(let D=0,m=o.length;D<m;D++)o[D]instanceof w&&this.xref&&(o[D]=this.xref.fetch(o[D],this.suppressEncryption))}return o}getRaw(f){return this._map[f]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(f,l){this._map[f]=l}has(f){return void 0!==this._map[f]}forEach(f){for(const l in this._map)f(l,this.get(l))}static get empty(){const f=new I(null);return f.set=(l,n)=>{(0,e.unreachable)("Should not call `set` on the empty dictionary.")},(0,e.shadow)(this,"empty",f)}static merge({xref:f,dictArray:l,mergeSubDicts:n=!1}){const o=new I(f),D=new Map;for(const m of l)if(m instanceof I)for(const[O,B]of Object.entries(m._map)){let h=D.get(O);if(void 0===h)h=[],D.set(O,h);else if(!(n&&B instanceof I))continue;h.push(B)}for(const[m,O]of D){if(1===O.length||!(O[0]instanceof I)){o._map[m]=O[0];continue}const B=new I(f);for(const h of O)for(const[y,g]of Object.entries(h._map))void 0===B._map[y]&&(B._map[y]=g);B.size>0&&(o._map[m]=B)}return D.clear(),o.size>0?o:I.empty}}v.Dict=I;const w=function(){let f=Object.create(null);class l{constructor(o,D){this.num=o,this.gen=D}toString(){return 0===this.gen?`${this.num}R`:`${this.num}R${this.gen}`}static get(o,D){const m=0===D?`${o}R`:`${o}R${D}`;return f[m]||(f[m]=new l(o,D))}static _clearCache(){f=Object.create(null)}}return l}();v.Ref=w;class k{constructor(f=null){this._set=new Set(f&&f._set)}has(f){return this._set.has(f.toString())}put(f){this._set.add(f.toString())}remove(f){this._set.delete(f.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}v.RefSet=k;class s{constructor(){this._map=new Map}get size(){return this._map.size}get(f){return this._map.get(f.toString())}has(f){return this._map.has(f.toString())}put(f,l){this._map.set(f.toString(),l)}putAlias(f,l){this._map.set(f.toString(),this.get(l))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}function i(a,f){return a instanceof S&&(void 0===f||a.name===f)}v.RefSetCache=s},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.XRefParseException=v.XRefEntryException=v.ParserEOFException=v.MissingDataException=v.DocStats=void 0,v.collectActions=function(f,l,n){const o=Object.create(null),D=w({dict:l,key:"AA",stopWhenFound:!1});if(D)for(let m=D.length-1;m>=0;m--){const O=D[m];if(O instanceof d.Dict)for(const B of O.getKeys()){const h=n[B];if(!h)continue;const r=[];s(O.getRaw(B),f,r,new d.RefSet),r.length>0&&(o[h]=r)}}if(l.has("A")){const B=[];s(l.get("A"),f,B,new d.RefSet),B.length>0&&(o.Action=B)}return(0,e.objectSize)(o)>0?o:null},v.encodeToXmlString=function(f){const l=[];let n=0;for(let o=0,D=f.length;o<D;o++){const m=f.codePointAt(o);if(32<=m&&m<=126){const O=i[m];O&&(n<o&&l.push(f.substring(n,o)),l.push(O),n=o+1)}else n<o&&l.push(f.substring(n,o)),l.push(`&#x${m.toString(16).toUpperCase()};`),m>55295&&(m<57344||m>65533)&&o++,n=o+1}return 0===l.length?f:(n<f.length&&l.push(f.substring(n,f.length)),l.join(""))},v.escapePDFName=function(f){const l=[];let n=0;for(let o=0,D=f.length;o<D;o++){const m=f.charCodeAt(o);(m<33||m>126||35===m||40===m||41===m||60===m||62===m||91===m||93===m||123===m||125===m||47===m||37===m)&&(n<o&&l.push(f.substring(n,o)),l.push(`#${m.toString(16)}`),n=o+1)}return 0===l.length?f:(n<f.length&&l.push(f.substring(n,f.length)),l.join(""))},v.getArrayLookupTableFactory=function(f){let l;return function(){if(f){let n=f();f=null,l=Object.create(null);for(let o=0,D=n.length;o<D;o+=2)l[n[o]]=n[o+1];n=null}return l}},v.getInheritableProperty=w,v.getLookupTableFactory=function(f){let l;return function(){return f&&(l=Object.create(null),f(l),f=null),l}},v.getNewAnnotationsMap=function(f){if(!f)return null;const l=new Map;for(const[n,o]of f){if(!n.startsWith(e.AnnotationEditorPrefix))continue;let D=l.get(o.pageIndex);D||(D=[],l.set(o.pageIndex,D)),D.push(o)}return l.size>0?l:null},v.isWhiteSpace=function(f){return 32===f||9===f||13===f||10===f},v.log2=function(f){return f<=0?0:Math.ceil(Math.log2(f))},v.numberToString=function(f){if(Number.isInteger(f))return f.toString();const l=Math.round(100*f);return l%100==0?(l/100).toString():f.toFixed(l%10==0?1:2)},v.parseXFAPath=function(f){const l=/(.+)\[(\d+)\]$/;return f.split(".").map(n=>{const o=n.match(l);return o?{name:o[1],pos:parseInt(o[2],10)}:{name:n,pos:0}})},v.readInt8=function(f,l){return f[l]<<24>>24},v.readUint16=function(f,l){return f[l]<<8|f[l+1]},v.readUint32=function(f,l){return(f[l]<<24|f[l+1]<<16|f[l+2]<<8|f[l+3])>>>0},v.recoverJsURL=function(f){const l=new RegExp("^\\s*("+["app.launchURL","window.open","xfa.host.gotoURL"].join("|").split(".").join("\\.")+")\\((?:'|\")([^'\"]*)(?:'|\")(?:,\\s*(\\w+)\\)|\\))","i").exec(f);if(l&&l[2]){let o=!1;return"true"===l[3]&&"app.launchURL"===l[1]&&(o=!0),{url:l[2],newWindow:o}}return null},v.toRomanNumerals=function(f,l=!1){(0,e.assert)(Number.isInteger(f)&&f>0,"The number should be a positive integer.");const n=[];let o;for(;f>=1e3;)f-=1e3,n.push("M");o=f/100|0,f%=100,n.push(k[o]),o=f/10|0,f%=10,n.push(k[10+o]),n.push(k[20+f]);const D=n.join("");return l?D.toLowerCase():D},v.validateCSSFont=function(f){const l=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:n,fontWeight:o,italicAngle:D}=f;if(/^".*"$/.test(n)){if(/[^\\]"/.test(n.slice(1,n.length-1)))return(0,e.warn)(`XFA - FontFamily contains some unescaped ": ${n}.`),!1}else if(/^'.*'$/.test(n)){if(/[^\\]'/.test(n.slice(1,n.length-1)))return(0,e.warn)(`XFA - FontFamily contains some unescaped ': ${n}.`),!1}else for(const B of n.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(B)||!/^[\w-\\]+$/.test(B))return(0,e.warn)(`XFA - FontFamily contains some invalid <custom-ident>: ${n}.`),!1;const m=o?o.toString():"";f.fontWeight=l.has(m)?m:"400";const O=parseFloat(D);return f.italicAngle=isNaN(O)||O<-90||O>90?"14":D.toString(),!0};var e=K(2),d=K(5),_=K(7);function w({dict:a,key:f,getArray:l=!1,stopWhenFound:n=!0}){let o;const D=new d.RefSet;for(;a instanceof d.Dict&&(!a.objId||!D.has(a.objId));){a.objId&&D.put(a.objId);const m=l?a.getArray(f):a.get(f);if(void 0!==m){if(n)return m;o||(o=[]),o.push(m)}a=a.get("Parent")}return o}v.MissingDataException=class S extends e.BaseException{constructor(f,l){super(`Missing data [${f}, ${l})`,"MissingDataException"),this.begin=f,this.end=l}},v.ParserEOFException=class t extends e.BaseException{constructor(f){super(f,"ParserEOFException")}},v.XRefEntryException=class u extends e.BaseException{constructor(f){super(f,"XRefEntryException")}},v.XRefParseException=class I extends e.BaseException{constructor(f){super(f,"XRefParseException")}},v.DocStats=class{constructor(f){this._handler=f,this._streamTypes=new Set,this._fontTypes=new Set}_send(){const f=Object.create(null),l=Object.create(null);for(const n of this._streamTypes)f[n]=!0;for(const n of this._fontTypes)l[n]=!0;this._handler.send("DocStats",{streamTypes:f,fontTypes:l})}addStreamType(f){this._streamTypes.has(f)||(this._streamTypes.add(f),this._send())}addFontType(f){this._fontTypes.has(f)||(this._fontTypes.add(f),this._send())}};const k=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function s(a,f,l,n){if(!a)return;let o=null;if(a instanceof d.Ref){if(n.has(a))return;o=a,n.put(o),a=f.fetch(a)}if(Array.isArray(a))for(const D of a)s(D,f,l,n);else if(a instanceof d.Dict){if((0,d.isName)(a.get("S"),"JavaScript")){const D=a.get("JS");let m;D instanceof _.BaseStream?m=D.getString():"string"==typeof D&&(m=D),m=m&&(0,e.stringToPDFString)(m).replace(/\u0000/g,""),m&&l.push(m)}s(a.getRaw("Next"),f,l,n)}o&&n.remove(o)}const i={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.BaseStream=void 0;var e=K(2);class d{constructor(){this.constructor===d&&(0,e.unreachable)("Cannot initialize BaseStream.")}get length(){(0,e.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,e.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,e.shadow)(this,"isDataLoaded",!0)}getByte(){(0,e.unreachable)("Abstract method `getByte` called")}getBytes(S){(0,e.unreachable)("Abstract method `getBytes` called")}peekByte(){const S=this.getByte();return-1!==S&&this.pos--,S}peekBytes(S){const t=this.getBytes(S);return this.pos-=t.length,t}getUint16(){const S=this.getByte(),t=this.getByte();return-1===S||-1===t?-1:(S<<8)+t}getInt32(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()}getByteRange(S,t){(0,e.unreachable)("Abstract method `getByteRange` called")}getString(S){return(0,e.bytesToString)(this.getBytes(S))}skip(S){this.pos+=S||1}reset(){(0,e.unreachable)("Abstract method `reset` called")}moveStart(){(0,e.unreachable)("Abstract method `moveStart` called")}makeSubStream(S,t,u=null){(0,e.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}v.BaseStream=d},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.NetworkPdfManager=v.LocalPdfManager=void 0;var e=K(2),d=K(9),_=K(6),S=K(11),t=K(10);function u(w){if(w){const k=(0,e.createValidAbsoluteUrl)(w);if(k)return k.href;(0,e.warn)(`Invalid absolute docBaseUrl: "${w}".`)}return null}class I{constructor(){this.constructor===I&&(0,e.unreachable)("Cannot initialize BasePdfManager.")}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return(0,e.shadow)(this,"docBaseUrl",this.pdfDocument.catalog.baseUrl||this._docBaseUrl)}onLoadedStream(){(0,e.unreachable)("Abstract method `onLoadedStream` called")}ensureDoc(k,s){return this.ensure(this.pdfDocument,k,s)}ensureXRef(k,s){return this.ensure(this.pdfDocument.xref,k,s)}ensureCatalog(k,s){return this.ensure(this.pdfDocument.catalog,k,s)}getPage(k){return this.pdfDocument.getPage(k)}fontFallback(k,s){return this.pdfDocument.fontFallback(k,s)}loadXfaFonts(k,s){return this.pdfDocument.loadXfaFonts(k,s)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(k){return this.pdfDocument.serializeXfaData(k)}cleanup(k=!1){return this.pdfDocument.cleanup(k)}async ensure(k,s,i){(0,e.unreachable)("Abstract method `ensure` called")}requestRange(k,s){(0,e.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(){(0,e.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(k){(0,e.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(k){this._password=k}terminate(k){(0,e.unreachable)("Abstract method `terminate` called")}}v.LocalPdfManager=class extends I{constructor(k,s,i,a,f,l,n){super(),this._docId=k,this._password=i,this._docBaseUrl=u(n),this.msgHandler=a,this.evaluatorOptions=f,this.enableXfa=l;const o=new t.Stream(s);this.pdfDocument=new S.PDFDocument(this,o),this._loadedStreamPromise=Promise.resolve(o)}async ensure(k,s,i){const a=k[s];return"function"==typeof a?a.apply(k,i):a}requestRange(k,s){return Promise.resolve()}requestLoadedStream(){}onLoadedStream(){return this._loadedStreamPromise}terminate(k){}},v.NetworkPdfManager=class extends I{constructor(k,s,i,a,f,l){super(),this._docId=k,this._password=i.password,this._docBaseUrl=u(l),this.msgHandler=i.msgHandler,this.evaluatorOptions=a,this.enableXfa=f,this.streamManager=new d.ChunkedStreamManager(s,{msgHandler:i.msgHandler,length:i.length,disableAutoFetch:i.disableAutoFetch,rangeChunkSize:i.rangeChunkSize}),this.pdfDocument=new S.PDFDocument(this,this.streamManager.getStream())}async ensure(k,s,i){try{const a=k[s];return"function"==typeof a?a.apply(k,i):a}catch(a){if(!(a instanceof _.MissingDataException))throw a;return await this.requestRange(a.begin,a.end),this.ensure(k,s,i)}}requestRange(k,s){return this.streamManager.requestRange(k,s)}requestLoadedStream(){this.streamManager.requestAllChunks()}sendProgressiveData(k){this.streamManager.onReceiveData({chunk:k})}onLoadedStream(){return this.streamManager.onLoadedStream()}terminate(k){this.streamManager.abort(k)}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ChunkedStreamManager=v.ChunkedStream=void 0;var e=K(2),d=K(6),_=K(10);class S extends _.Stream{constructor(u,I,w){super(new Uint8Array(u),0,u,null),this.chunkSize=I,this._loadedChunks=new Set,this.numChunks=Math.ceil(u/I),this.manager=w,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const u=[];for(let I=0,w=this.numChunks;I<w;++I)this._loadedChunks.has(I)||u.push(I);return u}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(u,I){const w=this.chunkSize;if(u%w!=0)throw new Error(`Bad begin offset: ${u}`);const k=u+I.byteLength;if(k%w!=0&&k!==this.bytes.length)throw new Error(`Bad end offset: ${k}`);this.bytes.set(new Uint8Array(I),u);const s=Math.floor(u/w),i=Math.floor((k-1)/w)+1;for(let a=s;a<i;++a)this._loadedChunks.add(a)}onReceiveProgressiveData(u){let I=this.progressiveDataLength;const w=Math.floor(I/this.chunkSize);this.bytes.set(new Uint8Array(u),I),I+=u.byteLength,this.progressiveDataLength=I;const k=I>=this.end?this.numChunks:Math.floor(I/this.chunkSize);for(let s=w;s<k;++s)this._loadedChunks.add(s)}ensureByte(u){if(u<this.progressiveDataLength)return;const I=Math.floor(u/this.chunkSize);if(!(I>this.numChunks)&&I!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(I))throw new d.MissingDataException(u,u+1);this.lastSuccessfulEnsureByteChunk=I}}ensureRange(u,I){if(u>=I||I<=this.progressiveDataLength)return;const w=Math.floor(u/this.chunkSize);if(w>this.numChunks)return;const k=Math.min(Math.floor((I-1)/this.chunkSize)+1,this.numChunks);for(let s=w;s<k;++s)if(!this._loadedChunks.has(s))throw new d.MissingDataException(u,I)}nextEmptyChunk(u){const I=this.numChunks;for(let w=0;w<I;++w){const k=(u+w)%I;if(!this._loadedChunks.has(k))return k}return null}hasChunk(u){return this._loadedChunks.has(u)}getByte(){const u=this.pos;return u>=this.end?-1:(u>=this.progressiveDataLength&&this.ensureByte(u),this.bytes[this.pos++])}getBytes(u){const I=this.bytes,w=this.pos,k=this.end;if(!u)return k>this.progressiveDataLength&&this.ensureRange(w,k),I.subarray(w,k);let s=w+u;return s>k&&(s=k),s>this.progressiveDataLength&&this.ensureRange(w,s),this.pos=s,I.subarray(w,s)}getByteRange(u,I){return u<0&&(u=0),I>this.end&&(I=this.end),I>this.progressiveDataLength&&this.ensureRange(u,I),this.bytes.subarray(u,I)}makeSubStream(u,I,w=null){function k(){}I?u+I>this.progressiveDataLength&&this.ensureRange(u,u+I):u>=this.progressiveDataLength&&this.ensureByte(u),(k.prototype=Object.create(this)).getMissingChunks=function(){const i=this.chunkSize,a=Math.floor(this.start/i),f=Math.floor((this.end-1)/i)+1,l=[];for(let n=a;n<f;++n)this._loadedChunks.has(n)||l.push(n);return l},Object.defineProperty(k.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks||0===this.getMissingChunks().length},configurable:!0});const s=new k;return s.pos=s.start=u,s.end=u+I||this.end,s.dict=w,s}getBaseStreams(){return[this]}}v.ChunkedStream=S,v.ChunkedStreamManager=class{constructor(u,I){this.length=I.length,this.chunkSize=I.rangeChunkSize,this.stream=new S(this.length,this.chunkSize,this),this.pdfNetworkStream=u,this.disableAutoFetch=I.disableAutoFetch,this.msgHandler=I.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=(0,e.createPromiseCapability)()}onLoadedStream(){return this._loadedStreamCapability.promise}sendRequest(u,I){const w=this.pdfNetworkStream.getRangeReader(u,I);w.isStreamingSupported||(w.onProgress=this.onProgress.bind(this));let k=[],s=0;return new Promise((i,a)=>{const f=l=>{try{if(!l.done){const o=l.value;return k.push(o),s+=(0,e.arrayByteLength)(o),w.isStreamingSupported&&this.onProgress({loaded:s}),void w.read().then(f,a)}const n=(0,e.arraysToBytes)(k);k=null,i(n)}catch(n){a(n)}};w.read().then(f,a)}).then(i=>{this.aborted||this.onReceiveData({chunk:i,begin:u})})}requestAllChunks(){const u=this.stream.getMissingChunks();return this._requestChunks(u),this._loadedStreamCapability.promise}_requestChunks(u){const I=this.currRequestId++,w=new Set;this._chunksNeededByRequest.set(I,w);for(const i of u)this.stream.hasChunk(i)||w.add(i);if(0===w.size)return Promise.resolve();const k=(0,e.createPromiseCapability)();this._promisesByRequest.set(I,k);const s=[];for(const i of w){let a=this._requestsByChunk.get(i);a||(a=[],this._requestsByChunk.set(i,a),s.push(i)),a.push(I)}if(s.length>0){const i=this.groupChunks(s);for(const a of i){const f=a.beginChunk*this.chunkSize,l=Math.min(a.endChunk*this.chunkSize,this.length);this.sendRequest(f,l).catch(k.reject)}}return k.promise.catch(i=>{if(!this.aborted)throw i})}getStream(){return this.stream}requestRange(u,I){I=Math.min(I,this.length);const w=this.getBeginChunk(u),k=this.getEndChunk(I),s=[];for(let i=w;i<k;++i)s.push(i);return this._requestChunks(s)}requestRanges(u=[]){const I=[];for(const w of u){const k=this.getBeginChunk(w.begin),s=this.getEndChunk(w.end);for(let i=k;i<s;++i)I.includes(i)||I.push(i)}return I.sort(function(w,k){return w-k}),this._requestChunks(I)}groupChunks(u){const I=[];let w=-1,k=-1;for(let s=0,i=u.length;s<i;++s){const a=u[s];w<0&&(w=a),k>=0&&k+1!==a&&(I.push({beginChunk:w,endChunk:k+1}),w=a),s+1===u.length&&I.push({beginChunk:w,endChunk:a+1}),k=a}return I}onProgress(u){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+u.loaded,total:this.length})}onReceiveData(u){const I=u.chunk,w=void 0===u.begin,k=w?this.progressiveDataLength:u.begin,s=k+I.byteLength,i=Math.floor(k/this.chunkSize),a=s<this.length?Math.floor(s/this.chunkSize):Math.ceil(s/this.chunkSize);w?(this.stream.onReceiveProgressiveData(I),this.progressiveDataLength=s):this.stream.onReceiveData(k,I),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const f=[];for(let l=i;l<a;++l){const n=this._requestsByChunk.get(l);if(n){this._requestsByChunk.delete(l);for(const o of n){const D=this._chunksNeededByRequest.get(o);D.has(l)&&D.delete(l),D.size>0||f.push(o)}}}if(!this.disableAutoFetch&&0===this._requestsByChunk.size){let l;if(1===this.stream.numChunksLoaded){const n=this.stream.numChunks-1;this.stream.hasChunk(n)||(l=n)}else l=this.stream.nextEmptyChunk(a);Number.isInteger(l)&&this._requestChunks([l])}for(const l of f){const n=this._promisesByRequest.get(l);this._promisesByRequest.delete(l),n.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(u){this._loadedStreamCapability.reject(u)}getBeginChunk(u){return Math.floor(u/this.chunkSize)}getEndChunk(u){return Math.floor((u-1)/this.chunkSize)+1}abort(u){this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(u);for(const I of this._promisesByRequest.values())I.reject(u)}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.StringStream=v.Stream=v.NullStream=void 0;var e=K(7),d=K(2);class _ extends e.BaseStream{constructor(t,u,I,w){super(),this.bytes=t instanceof Uint8Array?t:new Uint8Array(t),this.start=u||0,this.pos=this.start,this.end=u+I||this.bytes.length,this.dict=w}get length(){return this.end-this.start}get isEmpty(){return 0===this.length}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(t){const u=this.bytes,I=this.pos,w=this.end;if(!t)return u.subarray(I,w);let k=I+t;return k>w&&(k=w),this.pos=k,u.subarray(I,k)}getByteRange(t,u){return t<0&&(t=0),u>this.end&&(u=this.end),this.bytes.subarray(t,u)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(t,u,I=null){return new _(this.bytes.buffer,t,u,I)}}v.Stream=_,v.StringStream=class extends _{constructor(t){super((0,d.stringToBytes)(t))}},v.NullStream=class extends _{constructor(){super(new Uint8Array(0))}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Page=v.PDFDocument=void 0;var e=K(12),d=K(2),_=K(6),S=K(5),t=K(51),u=K(7),I=K(67),w=K(69),k=K(71),s=K(100),i=K(17),a=K(10),f=K(75),l=K(62),n=K(15),o=K(19),D=K(74),m=K(65),O=K(76),B=K(101);const h=[0,0,612,792];class y{constructor({pdfManager:C,xref:b,pageIndex:A,pageDict:R,ref:F,globalIdFactory:N,fontCache:E,builtInCMapCache:L,standardFontDataCache:X,globalImageCache:V,nonBlendModesSet:J,xfaFactory:z}){this.pdfManager=C,this.pageIndex=A,this.pageDict=R,this.xref=b,this.ref=F,this.fontCache=E,this.builtInCMapCache=L,this.standardFontDataCache=X,this.globalImageCache=V,this.nonBlendModesSet=J,this.evaluatorOptions=C.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=z;const $={obj:0};this._localIdFactory=class extends N{static createObjId(){return`p${A}_${++$.obj}`}static getPageObjId(){return`page${F.toString()}`}}}_getInheritableProperty(C,b=!1){const A=(0,_.getInheritableProperty)({dict:this.pageDict,key:C,getArray:b,stopWhenFound:!1});return Array.isArray(A)?1!==A.length&&A[0]instanceof S.Dict?S.Dict.merge({xref:this.xref,dictArray:A}):A[0]:A}get content(){return this.pageDict.getArray("Contents")}get resources(){const C=this._getInheritableProperty("Resources");return(0,d.shadow)(this,"resources",C instanceof S.Dict?C:S.Dict.empty)}_getBoundingBox(C){if(this.xfaData)return this.xfaData.bbox;const b=this._getInheritableProperty(C,!0);if(Array.isArray(b)&&4===b.length){if(b[2]-b[0]!=0&&b[3]-b[1]!=0)return b;(0,d.warn)(`Empty /${C} entry.`)}return null}get mediaBox(){return(0,d.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||h)}get cropBox(){return(0,d.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let C=this.pageDict.get("UserUnit");return("number"!=typeof C||C<=0)&&(C=1),(0,d.shadow)(this,"userUnit",C)}get view(){const{cropBox:C,mediaBox:b}=this;let A;if(C===b||(0,d.isArrayEqual)(C,b))A=b;else{const R=d.Util.intersect(C,b);R&&R[2]-R[0]!=0&&R[3]-R[1]!=0?A=R:(0,d.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,d.shadow)(this,"view",A||b)}get rotate(){let C=this._getInheritableProperty("Rotate")||0;return C%90!=0?C=0:C>=360?C%=360:C<0&&(C=(C%360+360)%360),(0,d.shadow)(this,"rotate",C)}_onSubStreamError(C,b,A){if(!this.evaluatorOptions.ignoreErrors)throw b;C.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.errorContentSubStream}),(0,d.warn)(`getContentStream - ignoring sub-stream (${A}): "${b}".`)}getContentStream(C){return this.pdfManager.ensure(this,"content").then(b=>b instanceof u.BaseStream?b:Array.isArray(b)?new o.StreamsSequenceStream(b,this._onSubStreamError.bind(this,C)):new a.NullStream)}get xfaData(){return(0,d.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(C,b,A){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const R=new n.PartialEvaluator({xref:this.xref,handler:C,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),F=this.pageDict,N=this.annotations.slice(),E=await e.AnnotationFactory.saveNewAnnotations(R,b,A);for(const{ref:z}of E.annotations)N.push(z);const L=F.get("Annots");F.set("Annots",N);const X=[];let V=null;this.xref.encrypt&&(V=this.xref.encrypt.createCipherTransform(this.ref.num,this.ref.gen)),(0,m.writeObject)(this.ref,F,X,V),L&&F.set("Annots",L);const J=E.dependencies;return J.push({ref:this.ref,data:X.join("")},...E.annotations),J}save(C,b,A){const R=new n.PartialEvaluator({xref:this.xref,handler:C,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(F){const N=[];for(const E of F)E.mustBePrinted(A)&&N.push(E.save(R,b,A).catch(function(L){return(0,d.warn)(`save - ignoring annotation data during "${b.name}" task: "${L}".`),null}));return Promise.all(N).then(function(E){return E.filter(L=>!!L)})})}loadResources(C){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new f.ObjectLoader(this.resources,C,this.xref).load())}getOperatorList({handler:C,sink:b,task:A,intent:R,cacheKey:F,annotationStorage:N=null}){const E=this.getContentStream(C),L=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),X=new n.PartialEvaluator({xref:this.xref,handler:C,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),V=this.xfaFactory?null:(0,_.getNewAnnotationsMap)(N);let J=Promise.resolve(null);if(V){const $=V.get(this.pageIndex);$&&(J=e.AnnotationFactory.printNewAnnotations(X,A,$))}const z=Promise.all([E,L]).then(([$])=>{const q=new l.OperatorList(R,b);return C.send("StartRenderPage",{transparency:X.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:F}),X.getOperatorList({stream:$,task:A,resources:this.resources,operatorList:q}).then(function(){return q})});return Promise.all([z,this._parsedAnnotations,J]).then(function([$,q,j]){if(j&&(q=q.concat(j)),0===q.length||R&d.RenderingIntentFlag.ANNOTATIONS_DISABLE)return $.flush(!0),{length:$.totalLength};const M=!!(R&d.RenderingIntentFlag.ANNOTATIONS_FORMS),U=!!(R&d.RenderingIntentFlag.ANY),H=!!(R&d.RenderingIntentFlag.DISPLAY),W=!!(R&d.RenderingIntentFlag.PRINT),G=[];for(const Y of q)(U||H&&Y.mustBeViewed(N)||W&&Y.mustBePrinted(N))&&G.push(Y.getOperatorList(X,A,R,M,N).catch(function(tt){return(0,d.warn)(`getOperatorList - ignoring annotation data during "${A.name}" task: "${tt}".`),null}));return Promise.all(G).then(function(Y){let tt=!1,Z=!1;for(const{opList:at,separateForm:st,separateCanvas:nt}of Y)$.addOpList(at),st&&(tt=st),nt&&(Z=nt);return $.flush(!0,{form:tt,canvas:Z}),{length:$.totalLength}})})}extractTextContent({handler:C,task:b,includeMarkedContent:A,sink:R,combineTextItems:F}){const N=this.getContentStream(C),E=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([N,E]).then(([L])=>new n.PartialEvaluator({xref:this.xref,handler:C,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}).getTextContent({stream:L,task:b,resources:this.resources,includeMarkedContent:A,combineTextItems:F,sink:R,viewBox:this.view}))}async getStructTree(){const C=await this.pdfManager.ensureCatalog("structTreeRoot");return C?(await this.pdfManager.ensure(this,"_parseStructTree",[C])).serializable:null}_parseStructTree(C){const b=new D.StructTreePage(C,this.pageDict);return b.parse(),b}async getAnnotationsData(C,b,A){const R=await this._parsedAnnotations;if(0===R.length)return[];const F=[],N=[];let E;const L=!!(A&d.RenderingIntentFlag.ANY),X=!!(A&d.RenderingIntentFlag.DISPLAY),V=!!(A&d.RenderingIntentFlag.PRINT);for(const J of R){const z=L||X&&J.viewable;(z||V&&J.printable)&&N.push(J.data),J.hasTextContent&&z&&(E||(E=new n.PartialEvaluator({xref:this.xref,handler:C,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions})),F.push(J.extractTextContent(E,b,this.view).catch(function($){(0,d.warn)(`getAnnotationsData - ignoring textContent during "${b.name}" task: "${$}".`)})))}return await Promise.all(F),N}get annotations(){const C=this._getInheritableProperty("Annots");return(0,d.shadow)(this,"annotations",Array.isArray(C)?C:[])}get _parsedAnnotations(){const C=this.pdfManager.ensure(this,"annotations").then(()=>{const b=[];for(const A of this.annotations)b.push(e.AnnotationFactory.create(this.xref,A,this.pdfManager,this._localIdFactory,!1).catch(function(R){return(0,d.warn)(`_parsedAnnotations: "${R}".`),null}));return Promise.all(b).then(function(A){if(0===A.length)return A;const R=[];let F;for(const N of A)N&&(N instanceof e.PopupAnnotation?(F||(F=[]),F.push(N)):R.push(N));return F&&R.push(...F),R})});return(0,d.shadow)(this,"_parsedAnnotations",C)}get jsActions(){const C=(0,_.collectActions)(this.xref,this.pageDict,d.PageActionEventType);return(0,d.shadow)(this,"jsActions",C)}}v.Page=y;const g=new Uint8Array([37,80,68,70,45]),r=new Uint8Array([115,116,97,114,116,120,114,101,102]),c=new Uint8Array([101,110,100,111,98,106]),P=/^[1-9]\.\d$/;function T(x,C,b=1024,A=!1){const R=C.length,F=x.peekBytes(b),N=F.length-R;if(N<=0)return!1;if(A){const E=R-1;let L=F.length-1;for(;L>=E;){let X=0;for(;X<R&&F[L-X]===C[E-X];)X++;if(X>=R)return x.pos+=L-E,!0;L--}}else{let E=0;for(;E<=N;){let L=0;for(;L<R&&F[E+L]===C[L];)L++;if(L>=R)return x.pos+=E,!0;E++}}return!1}v.PDFDocument=class{constructor(C,b){if(b.length<=0)throw new d.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=C,this.stream=b,this.xref=new B.XRef(b,C),this._pagePromises=new Map,this._version=null;const A={font:0};this._globalIdFactory=class{static getDocId(){return`g_${C.docId}`}static createFontId(){return"f"+ ++A.font}static createObjId(){(0,d.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,d.unreachable)("Abstract method `getPageObjId` called.")}}}parse(C){this.xref.parse(C),this.catalog=new w.Catalog(this.pdfManager,this.xref),this.catalog.version&&(this._version=this.catalog.version)}get linearization(){let C=null;try{C=i.Linearization.create(this.stream)}catch(b){if(b instanceof _.MissingDataException)throw b;(0,d.info)(b)}return(0,d.shadow)(this,"linearization",C)}get startXRef(){const C=this.stream;let b=0;if(this.linearization)C.reset(),T(C,c)&&(b=C.pos+6-C.start);else{const R=r.length;let F=!1,N=C.end;for(;!F&&N>0;)N-=1024-R,N<0&&(N=0),C.pos=N,F=T(C,r,1024,!0);if(F){let E;C.skip(9);do{E=C.getByte()}while((0,_.isWhiteSpace)(E));let L="";for(;E>=32&&E<=57;)L+=String.fromCharCode(E),E=C.getByte();b=parseInt(L,10),isNaN(b)&&(b=0)}}return(0,d.shadow)(this,"startXRef",b)}checkHeader(){const C=this.stream;if(C.reset(),!T(C,g))return;C.moveStart();let b,A="";for(;(b=C.getByte())>32&&!(A.length>=12);)A+=String.fromCharCode(b);this._version||(this._version=A.substring(5))}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let C=0;return C=this.catalog.hasActualNumPages?this.catalog.numPages:this.xfaFactory?this.xfaFactory.getNumPages():this.linearization?this.linearization.numPages:this.catalog.numPages,(0,d.shadow)(this,"numPages",C)}_hasOnlyDocumentSignatures(C,b=0){return!!Array.isArray(C)&&C.every(A=>{if(!((A=this.xref.fetchIfRef(A))instanceof S.Dict))return!1;if(A.has("Kids"))return++b>10?((0,d.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(A.get("Kids"),b);const R=(0,S.isName)(A.get("FT"),"Sig"),F=A.get("Rect"),N=Array.isArray(F)&&F.every(E=>0===E);return R&&N})}get _xfaStreams(){const C=this.catalog.acroForm;if(!C)return null;const b=C.get("XFA"),A={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(b instanceof u.BaseStream&&!b.isEmpty)return A["xdp:xdp"]=b,A;if(!Array.isArray(b)||0===b.length)return null;for(let R=0,F=b.length;R<F;R+=2){let N;if(N=0===R?"xdp:xdp":R===F-2?"/xdp:xdp":b[R],!A.hasOwnProperty(N))continue;const E=this.xref.fetchIfRef(b[R+1]);E instanceof u.BaseStream&&!E.isEmpty&&(A[N]=E)}return A}get xfaDatasets(){const C=this._xfaStreams;if(!C)return(0,d.shadow)(this,"xfaDatasets",null);for(const b of["datasets","xdp:xdp"]){const A=C[b];if(A)try{const R={[b]:(0,d.stringToUTF8String)(A.getString())};return(0,d.shadow)(this,"xfaDatasets",new s.DatasetReader(R))}catch{(0,d.warn)("XFA - Invalid utf-8 string.");break}}return(0,d.shadow)(this,"xfaDatasets",null)}get xfaData(){const C=this._xfaStreams;if(!C)return null;const b=Object.create(null);for(const[A,R]of Object.entries(C))if(R)try{b[A]=(0,d.stringToUTF8String)(R.getString())}catch{return(0,d.warn)("XFA - Invalid utf-8 string."),null}return b}get xfaFactory(){let C;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(C=this.xfaData),(0,d.shadow)(this,"xfaFactory",C?new O.XFAFactory(C):null)}get isPureXfa(){return!!this.xfaFactory&&this.xfaFactory.isValid()}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const C=await this.pdfManager.ensureCatalog("xfaImages");if(!C)return;const b=C.getKeys();await new f.ObjectLoader(C,b,this.xref).load();const R=new Map;for(const F of b){const N=C.get(F);N instanceof u.BaseStream&&R.set(F,N.getBytes())}this.xfaFactory.setImages(R)}async loadXfaFonts(C,b){const A=await this.pdfManager.ensureCatalog("acroForm");if(!A)return;const R=await A.getAsync("DR");if(!(R instanceof S.Dict))return;await new f.ObjectLoader(R,["Font"],this.xref).load();const N=R.get("Font");if(!(N instanceof S.Dict))return;const E=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);E.useSystemFonts=!1;const L=new n.PartialEvaluator({xref:this.xref,handler:C,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:E}),X=new l.OperatorList,V=[],J={get font(){return V.at(-1)},set font(M){V.push(M)},clone(){return this}},z=new Map;N.forEach((M,U)=>{z.set(M,U)});const $=[];for(const[M,U]of z){const H=U.get("FontDescriptor");if(!(H instanceof S.Dict))continue;let W=H.get("FontFamily");W=W.replace(/[ ]+(\d)/g,"$1");const G={fontFamily:W,fontWeight:H.get("FontWeight"),italicAngle:-H.get("ItalicAngle")};(0,_.validateCSSFont)(G)&&$.push(L.handleSetFont(R,[S.Name.get(M),1],null,X,b,J,null,G).catch(function(Y){return(0,d.warn)(`loadXfaFonts: "${Y}".`),null}))}await Promise.all($);const q=this.xfaFactory.setFonts(V);if(!q)return;E.ignoreErrors=!0,$.length=0,V.length=0;const j=new Set;for(const M of q)(0,t.getXfaFontName)(`${M}-Regular`)||j.add(M);j.size&&q.push("PdfJS-Fallback");for(const M of q)if(!j.has(M))for(const U of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const H=`${M}-${U.name}`,W=(0,t.getXfaFontDict)(H);$.push(L.handleSetFont(R,[S.Name.get(H),1],null,X,b,J,W,{fontFamily:M,fontWeight:U.fontWeight,italicAngle:U.italicAngle}).catch(function(G){return(0,d.warn)(`loadXfaFonts: "${G}".`),null}))}await Promise.all($),this.xfaFactory.appendFonts(V,j)}async serializeXfaData(C){return this.xfaFactory?this.xfaFactory.serializeData(C):null}get formInfo(){const C={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},b=this.catalog.acroForm;if(!b)return(0,d.shadow)(this,"formInfo",C);try{const A=b.get("Fields"),R=Array.isArray(A)&&A.length>0;C.hasFields=R;const F=b.get("XFA");C.hasXfa=Array.isArray(F)&&F.length>0||F instanceof u.BaseStream&&!F.isEmpty;const N=!!(1&b.get("SigFlags")),E=N&&this._hasOnlyDocumentSignatures(A);C.hasAcroForm=R&&!E,C.hasSignatures=N}catch(A){if(A instanceof _.MissingDataException)throw A;(0,d.warn)(`Cannot fetch form information: "${A}".`)}return(0,d.shadow)(this,"formInfo",C)}get documentInfo(){let C=this._version;("string"!=typeof C||!P.test(C))&&((0,d.warn)(`Invalid PDF header version number: ${C}`),C=null);const b={PDFFormatVersion:C,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let A;try{A=this.xref.trailer.get("Info")}catch(R){if(R instanceof _.MissingDataException)throw R;(0,d.info)("The document information dictionary is invalid.")}if(!(A instanceof S.Dict))return(0,d.shadow)(this,"documentInfo",b);for(const R of A.getKeys()){const F=A.get(R);switch(R){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if("string"==typeof F){b[R]=(0,d.stringToPDFString)(F);continue}break;case"Trapped":if(F instanceof S.Name){b[R]=F;continue}break;default:let N;switch(typeof F){case"string":N=(0,d.stringToPDFString)(F);break;case"number":case"boolean":N=F;break;default:F instanceof S.Name&&(N=F)}if(void 0===N){(0,d.warn)(`Bad value, for custom key "${R}", in Info: ${F}.`);continue}b.Custom||(b.Custom=Object.create(null)),b.Custom[R]=N;continue}(0,d.warn)(`Bad value, for key "${R}", in Info: ${F}.`)}return(0,d.shadow)(this,"documentInfo",b)}get fingerprints(){function C(N){return"string"==typeof N&&N.length>0&&"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"!==N}function b(N){const E=[];for(let L=0,X=N.length;L<X;L++){const V=N[L].toString(16);E.push(V.padStart(2,"0"))}return E.join("")}const A=this.xref.trailer.get("ID");let R,F;return Array.isArray(A)&&C(A[0])?(R=(0,d.stringToBytes)(A[0]),A[1]!==A[0]&&C(A[1])&&(F=(0,d.stringToBytes)(A[1]))):R=(0,I.calculateMD5)(this.stream.getByteRange(0,1024),0,1024),(0,d.shadow)(this,"fingerprints",[b(R),F?b(F):null])}async _getLinearizationPage(C){const{catalog:b,linearization:A,xref:R}=this,F=S.Ref.get(A.objectNumberFirst,0);try{const N=await R.fetchAsync(F);if(N instanceof S.Dict){let E=N.getRaw("Type");if(E instanceof S.Ref&&(E=await R.fetchAsync(E)),(0,S.isName)(E,"Page")||!N.has("Type")&&!N.has("Kids"))return b.pageKidsCountCache.has(F)||b.pageKidsCountCache.put(F,1),b.pageIndexCache.has(F)||b.pageIndexCache.put(F,0),[N,F]}throw new d.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(N){return(0,d.warn)(`_getLinearizationPage: "${N.message}".`),b.getPageDict(C)}}getPage(C){const b=this._pagePromises.get(C);if(b)return b;const{catalog:A,linearization:R,xfaFactory:F}=this;let N;return N=F?Promise.resolve([S.Dict.empty,null]):R&&R.pageFirst===C?this._getLinearizationPage(C):A.getPageDict(C),N=N.then(([E,L])=>new y({pdfManager:this.pdfManager,xref:this.xref,pageIndex:C,pageDict:E,ref:L,globalIdFactory:this._globalIdFactory,fontCache:A.fontCache,builtInCMapCache:A.builtInCMapCache,standardFontDataCache:A.standardFontDataCache,globalImageCache:A.globalImageCache,nonBlendModesSet:A.nonBlendModesSet,xfaFactory:F})),this._pagePromises.set(C,N),N}async checkFirstPage(C=!1){if(!C)try{await this.getPage(0)}catch(b){if(b instanceof _.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new _.XRefParseException}}async checkLastPage(C=!1){const{catalog:b,pdfManager:A}=this;let R;b.setActualNumPages();try{if(await Promise.all([A.ensureDoc("xfaFactory"),A.ensureDoc("linearization"),A.ensureCatalog("numPages")]),this.xfaFactory)return;if(R=this.linearization?this.linearization.numPages:b.numPages,!Number.isInteger(R))throw new d.FormatError("Page count is not an integer.");if(R<=1)return;await this.getPage(R-1)}catch(F){if(this._pagePromises.delete(R-1),await this.cleanup(),F instanceof _.XRefEntryException&&!C)throw new _.XRefParseException;let N;(0,d.warn)(`checkLastPage - invalid /Pages tree /Count: ${R}.`);try{N=await b.getAllPageDicts(C)}catch(E){if(E instanceof _.XRefEntryException&&!C)throw new _.XRefParseException;return void b.setActualNumPages(1)}for(const[E,[L,X]]of N){let V;L instanceof Error?(V=Promise.reject(L),V.catch(()=>{})):V=Promise.resolve(new y({pdfManager:A,xref:this.xref,pageIndex:E,pageDict:L,ref:X,globalIdFactory:this._globalIdFactory,fontCache:b.fontCache,builtInCMapCache:b.builtInCMapCache,standardFontDataCache:b.standardFontDataCache,globalImageCache:b.globalImageCache,nonBlendModesSet:b.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(E,V)}b.setActualNumPages(N.size)}}fontFallback(C,b){return this.catalog.fontFallback(C,b)}async cleanup(C=!1){return this.catalog?this.catalog.cleanup(C):(0,k.clearGlobalCaches)()}_collectFieldObjects(C,b,A){const R=this.xref.fetchIfRef(b);if(R.has("T")){const F=(0,d.stringToPDFString)(R.get("T"));C=""===C?F:`${C}.${F}`}if(A.has(C)||A.set(C,[]),A.get(C).push(e.AnnotationFactory.create(this.xref,b,this.pdfManager,this._localIdFactory,!0).then(F=>F&&F.getFieldObject()).catch(function(F){return(0,d.warn)(`_collectFieldObjects: "${F}".`),null})),R.has("Kids")){const F=R.get("Kids");for(const N of F)this._collectFieldObjects(C,N,A)}}get fieldObjects(){if(!this.formInfo.hasFields)return(0,d.shadow)(this,"fieldObjects",Promise.resolve(null));const C=Object.create(null),b=new Map;for(const R of this.catalog.acroForm.get("Fields"))this._collectFieldObjects("",R,b);const A=[];for(const[R,F]of b)A.push(Promise.all(F).then(N=>{(N=N.filter(E=>!!E)).length>0&&(C[R]=N)}));return(0,d.shadow)(this,"fieldObjects",Promise.all(A).then(()=>C))}get hasJSActions(){const C=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,d.shadow)(this,"hasJSActions",C)}async _parseHasJSActions(){const[C,b]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return!!C||!!b&&Object.values(b).some(A=>A.some(R=>null!==R.actions))}get calculationOrderIds(){const C=this.catalog.acroForm;if(!C||!C.has("CO"))return(0,d.shadow)(this,"calculationOrderIds",null);const b=C.get("CO");if(!Array.isArray(b)||0===b.length)return(0,d.shadow)(this,"calculationOrderIds",null);const A=[];for(const R of b)R instanceof S.Ref&&A.push(R.toString());return(0,d.shadow)(this,"calculationOrderIds",0===A.length?null:A)}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PopupAnnotation=v.MarkupAnnotation=v.AnnotationFactory=v.AnnotationBorderStyle=v.Annotation=void 0,v.getQuadPoints=o;var e=K(2),d=K(6),_=K(13),S=K(5),t=K(65),u=K(7),I=K(60),w=K(69),k=K(14),s=K(72),i=K(75),a=K(62),f=K(10),l=K(76);function n(j,M=new Uint8ClampedArray(3)){if(!Array.isArray(j))return M;const U=M||new Uint8ClampedArray(3);switch(j.length){case 0:return null;case 1:return k.ColorSpace.singletons.gray.getRgbItem(j,0,U,0),U;case 3:return k.ColorSpace.singletons.rgb.getRgbItem(j,0,U,0),U;case 4:return k.ColorSpace.singletons.cmyk.getRgbItem(j,0,U,0),U;default:return M}}function o(j,M){if(!j.has("QuadPoints"))return null;const U=j.getArray("QuadPoints");if(!Array.isArray(U)||0===U.length||U.length%8>0)return null;const H=[];for(let W=0,G=U.length/8;W<G;W++){H.push([]);for(let Y=8*W,tt=8*W+8;Y<tt;Y+=2){const Z=U[Y],at=U[Y+1];if(null!==M&&(Z<M[0]||Z>M[2]||at<M[1]||at>M[3]))return null;H[W].push({x:Z,y:at})}}return H.map(W=>{const[G,Y,tt,Z]=W.reduce(([at,st,nt,ot],ct)=>[Math.min(at,ct.x),Math.max(st,ct.x),Math.min(nt,ct.y),Math.max(ot,ct.y)],[Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE]);return[{x:G,y:Z},{x:Y,y:Z},{x:G,y:tt},{x:Y,y:tt}]})}function D(j,M,U){const[H,W,G,Y]=e.Util.getAxialAlignedBoundingBox(M,U);if(H===G||W===Y)return[1,0,0,1,j[0],j[1]];const tt=(j[2]-j[0])/(G-H),Z=(j[3]-j[1])/(Y-W);return[tt,0,0,Z,j[0]-H*tt,j[1]-W*Z]}v.AnnotationFactory=class{static create(M,U,H,W,G){return Promise.all([H.ensureCatalog("acroForm"),H.ensureCatalog("baseUrl"),H.ensureDoc("xfaDatasets"),G?this._getPageIndex(M,U,H):-1]).then(([Y,tt,Z,at])=>H.ensure(this,"_create",[M,U,H,W,Y,Z,G,at]))}static _create(M,U,H,W,G,Y,tt,Z=-1){const at=M.fetchIfRef(U);if(!(at instanceof S.Dict))return;const st=U instanceof S.Ref?U.toString():`annot_${W.createObjId()}`;let nt=at.get("Subtype");nt=nt instanceof S.Name?nt.name:null;const ot={xref:M,ref:U,dict:at,subtype:nt,id:st,pdfManager:H,acroForm:G instanceof S.Dict?G:S.Dict.empty,xfaDatasets:Y,collectFields:tt,pageIndex:Z};switch(nt){case"Link":return new T(ot);case"Text":return new P(ot);case"Widget":let ct=(0,d.getInheritableProperty)({dict:at,key:"FT"});switch(ct=ct instanceof S.Name?ct.name:null,ct){case"Tx":return new y(ot);case"Btn":return new g(ot);case"Ch":return new r(ot);case"Sig":return new c(ot)}return(0,e.warn)(`Unimplemented widget field type "${ct}", falling back to base field type.`),new h(ot);case"Popup":return new x(ot);case"FreeText":return new C(ot);case"Line":return new b(ot);case"Square":return new A(ot);case"Circle":return new R(ot);case"PolyLine":return new F(ot);case"Polygon":return new N(ot);case"Caret":return new E(ot);case"Ink":return new L(ot);case"Highlight":return new X(ot);case"Underline":return new V(ot);case"Squiggly":return new J(ot);case"StrikeOut":return new z(ot);case"Stamp":return new $(ot);case"FileAttachment":return new q(ot);default:return tt||(0,e.warn)(nt?`Unimplemented annotation type "${nt}", falling back to base annotation.`:"Annotation is missing the required /Subtype."),new m(ot)}}static async _getPageIndex(M,U,H){try{const W=await M.fetchIfRefAsync(U);if(!(W instanceof S.Dict))return-1;const G=W.getRaw("P");return G instanceof S.Ref?await H.ensureCatalog("getPageIndex",[G]):-1}catch(W){return(0,e.warn)(`_getPageIndex: "${W}".`),-1}}static async saveNewAnnotations(M,U,H){const W=M.xref;let G;const Y=[],tt=[];for(const Z of H)switch(Z.annotationType){case e.AnnotationEditorType.FREETEXT:if(!G){const at=new S.Dict(W);at.set("BaseFont",S.Name.get("Helvetica")),at.set("Type",S.Name.get("Font")),at.set("Subtype",S.Name.get("Type1")),at.set("Encoding",S.Name.get("WinAnsiEncoding"));const st=[];G=W.getNewRef(),(0,t.writeObject)(G,at,st,null),Y.push({ref:G,data:st.join("")})}tt.push(C.createNewAnnotation(W,Z,Y,{evaluator:M,task:U,baseFontRef:G}));break;case e.AnnotationEditorType.INK:tt.push(L.createNewAnnotation(W,Z,Y))}return{annotations:await Promise.all(tt),dependencies:Y}}static async printNewAnnotations(M,U,H){if(!H)return null;const W=M.xref,G=[];for(const Y of H)switch(Y.annotationType){case e.AnnotationEditorType.FREETEXT:G.push(C.createNewPrintAnnotation(W,Y,{evaluator:M,task:U}));break;case e.AnnotationEditorType.INK:G.push(L.createNewPrintAnnotation(W,Y))}return Promise.all(G)}};class m{constructor(M){const U=M.dict;this.setTitle(U.get("T")),this.setContents(U.get("Contents")),this.setModificationDate(U.get("M")),this.setFlags(U.get("F")),this.setRectangle(U.getArray("Rect")),this.setColor(U.getArray("C")),this.setBorderStyle(U),this.setAppearance(U),this.setOptionalContent(U);const H=U.get("MK");if(this.setBorderAndBackgroundColors(H),this.setRotation(H),this._streams=[],this.appearance&&this._streams.push(this.appearance),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:M.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:M.subtype,hasOwnCanvas:!1},M.collectFields){const W=U.get("Kids");if(Array.isArray(W)){const G=[];for(const Y of W)Y instanceof S.Ref&&G.push(Y.toString());0!==G.length&&(this.data.kidIds=G)}this.data.actions=(0,d.collectActions)(M.xref,U,e.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(U),this.data.pageIndex=M.pageIndex}this._fallbackFontDict=null}_hasFlag(M,U){return!!(M&U)}_isViewable(M){return!this._hasFlag(M,e.AnnotationFlag.INVISIBLE)&&!this._hasFlag(M,e.AnnotationFlag.NOVIEW)}_isPrintable(M){return this._hasFlag(M,e.AnnotationFlag.PRINT)&&!this._hasFlag(M,e.AnnotationFlag.INVISIBLE)}mustBeViewed(M){const U=M&&M.get(this.data.id);return U&&void 0!==U.hidden?!U.hidden:this.viewable&&!this._hasFlag(this.flags,e.AnnotationFlag.HIDDEN)}mustBePrinted(M){const U=M&&M.get(this.data.id);return U&&void 0!==U.print?U.print:this.printable}get viewable(){return null!==this.data.quadPoints&&(0===this.flags||this._isViewable(this.flags))}get printable(){return null!==this.data.quadPoints&&0!==this.flags&&this._isPrintable(this.flags)}_parseStringHelper(M){const U="string"==typeof M?(0,e.stringToPDFString)(M):"";return{str:U,dir:U&&"rtl"===(0,I.bidi)(U).dir?"rtl":"ltr"}}setTitle(M){this._title=this._parseStringHelper(M)}setContents(M){this._contents=this._parseStringHelper(M)}setModificationDate(M){this.modificationDate="string"==typeof M?M:null}setFlags(M){this.flags=Number.isInteger(M)&&M>0?M:0}hasFlag(M){return this._hasFlag(this.flags,M)}setRectangle(M){this.rectangle=Array.isArray(M)&&4===M.length?e.Util.normalizeRect(M):[0,0,0,0]}setColor(M){this.color=n(M)}setLineEndings(M){if(this.lineEndings=["None","None"],Array.isArray(M)&&2===M.length)for(let U=0;U<2;U++){const H=M[U];if(H instanceof S.Name)switch(H.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[U]=H.name;continue}(0,e.warn)(`Ignoring invalid lineEnding: ${H}`)}}setRotation(M){if(this.rotation=0,M instanceof S.Dict){let U=M.get("R")||0;Number.isInteger(U)&&0!==U&&(U%=360,U<0&&(U+=360),U%90==0&&(this.rotation=U))}}setBorderAndBackgroundColors(M){M instanceof S.Dict?(this.borderColor=n(M.getArray("BC"),null),this.backgroundColor=n(M.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(M){if(this.borderStyle=new O,M instanceof S.Dict)if(M.has("BS")){const U=M.get("BS"),H=U.get("Type");(!H||(0,S.isName)(H,"Border"))&&(this.borderStyle.setWidth(U.get("W"),this.rectangle),this.borderStyle.setStyle(U.get("S")),this.borderStyle.setDashArray(U.getArray("D")))}else if(M.has("Border")){const U=M.getArray("Border");Array.isArray(U)&&U.length>=3&&(this.borderStyle.setHorizontalCornerRadius(U[0]),this.borderStyle.setVerticalCornerRadius(U[1]),this.borderStyle.setWidth(U[2],this.rectangle),4===U.length&&this.borderStyle.setDashArray(U[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(M){this.appearance=null;const U=M.get("AP");if(!(U instanceof S.Dict))return;const H=U.get("N");if(H instanceof u.BaseStream)return void(this.appearance=H);if(!(H instanceof S.Dict))return;const W=M.get("AS");W instanceof S.Name&&H.has(W.name)&&(this.appearance=H.get(W.name))}setOptionalContent(M){this.oc=null;const U=M.get("OC");U instanceof S.Name?(0,e.warn)("setOptionalContent: Support for /Name-entry is not implemented."):U instanceof S.Dict&&(this.oc=U)}loadResources(M,U){return U.dict.getAsync("Resources").then(H=>{if(H)return new i.ObjectLoader(H,M,H.xref).load().then(function(){return H})})}async getOperatorList(M,U,H,W,G){const Y=this.data;let tt=this.appearance;const Z=!!(this.data.hasOwnCanvas&&H&e.RenderingIntentFlag.DISPLAY);if(!tt){if(!Z)return{opList:new a.OperatorList,separateForm:!1,separateCanvas:!1};tt=new f.StringStream(""),tt.dict=new S.Dict}const at=tt.dict,st=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],tt),nt=at.getArray("BBox")||[0,0,1,1],ot=at.getArray("Matrix")||[1,0,0,1,0,0],ct=D(Y.rect,nt,ot),ht=new a.OperatorList;let ft;return this.oc&&(ft=await M.parseMarkedContentProps(this.oc,null)),void 0!==ft&&ht.addOp(e.OPS.beginMarkedContentProps,["OC",ft]),ht.addOp(e.OPS.beginAnnotation,[Y.id,Y.rect,ct,ot,Z]),await M.getOperatorList({stream:tt,task:U,resources:st,operatorList:ht,fallbackFontDict:this._fallbackFontDict}),ht.addOp(e.OPS.endAnnotation,[]),void 0!==ft&&ht.addOp(e.OPS.endMarkedContent,[]),this.reset(),{opList:ht,separateForm:!1,separateCanvas:Z}}async save(M,U,H){return null}get hasTextContent(){return!1}async extractTextContent(M,U,H){if(!this.appearance)return;const W=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),G=[],Y=[],tt={desiredSize:Math.Infinity,ready:!0,enqueue(Z,at){for(const st of Z.items)Y.push(st.str),st.hasEOL&&(G.push(Y.join("")),Y.length=0)}};await M.getTextContent({stream:this.appearance,task:U,resources:W,includeMarkedContent:!0,combineTextItems:!0,sink:tt,viewBox:H}),this.reset(),Y.length&&G.push(Y.join("")),G.length>0&&(this.data.textContent=G)}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const M of this._streams)M.reset()}_constructFieldName(M){if(!M.has("T")&&!M.has("Parent"))return(0,e.warn)("Unknown field name, falling back to empty field name."),"";if(!M.has("Parent"))return(0,e.stringToPDFString)(M.get("T"));const U=[];M.has("T")&&U.unshift((0,e.stringToPDFString)(M.get("T")));let H=M;const W=new S.RefSet;for(M.objId&&W.put(M.objId);H.has("Parent")&&(H=H.get("Parent"),H instanceof S.Dict&&(!H.objId||!W.has(H.objId)));)H.objId&&W.put(H.objId),H.has("T")&&U.unshift((0,e.stringToPDFString)(H.get("T")));return U.join(".")}}v.Annotation=m;class O{constructor(){this.width=1,this.style=e.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(M,U=[0,0,0,0]){if(M instanceof S.Name)this.width=0;else if("number"==typeof M){if(M>0){const H=(U[2]-U[0])/2,W=(U[3]-U[1])/2;H>0&&W>0&&(M>H||M>W)&&((0,e.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${M}`),M=1)}this.width=M}}setStyle(M){if(M instanceof S.Name)switch(M.name){case"S":this.style=e.AnnotationBorderStyleType.SOLID;break;case"D":this.style=e.AnnotationBorderStyleType.DASHED;break;case"B":this.style=e.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=e.AnnotationBorderStyleType.INSET;break;case"U":this.style=e.AnnotationBorderStyleType.UNDERLINE}}setDashArray(M,U=!1){if(Array.isArray(M)&&M.length>0){let H=!0,W=!0;for(const G of M){if(!(+G>=0)){H=!1;break}G>0&&(W=!1)}H&&!W?(this.dashArray=M,U&&this.setStyle(S.Name.get("D"))):this.width=0}else M&&(this.width=0)}setHorizontalCornerRadius(M){Number.isInteger(M)&&(this.horizontalCornerRadius=M)}setVerticalCornerRadius(M){Number.isInteger(M)&&(this.verticalCornerRadius=M)}}v.AnnotationBorderStyle=O;class B extends m{constructor(M){super(M);const U=M.dict;if(U.has("IRT")){const H=U.getRaw("IRT");this.data.inReplyTo=H instanceof S.Ref?H.toString():null;const W=U.get("RT");this.data.replyType=W instanceof S.Name?W.name:e.AnnotationReplyType.REPLY}if(this.data.replyType===e.AnnotationReplyType.GROUP){const H=U.get("IRT");this.setTitle(H.get("T")),this.data.titleObj=this._title,this.setContents(H.get("Contents")),this.data.contentsObj=this._contents,H.has("CreationDate")?(this.setCreationDate(H.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,H.has("M")?(this.setModificationDate(H.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,this.data.hasPopup=H.has("Popup"),H.has("C")?(this.setColor(H.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(U.get("CreationDate")),this.data.creationDate=this.creationDate,this.data.hasPopup=U.has("Popup"),U.has("C")||(this.data.color=null);U.has("RC")&&(this.data.richText=l.XFAFactory.getRichTextAsHtml(U.get("RC")))}setCreationDate(M){this.creationDate="string"==typeof M?M:null}_setDefaultAppearance({xref:M,extra:U,strokeColor:H,fillColor:W,blendMode:G,strokeAlpha:Y,fillAlpha:tt,pointsCallback:Z}){let at=Number.MAX_VALUE,st=Number.MAX_VALUE,nt=Number.MIN_VALUE,ot=Number.MIN_VALUE;const ct=["q"];U&&ct.push(U),H&&ct.push(`${H[0]} ${H[1]} ${H[2]} RG`),W&&ct.push(`${W[0]} ${W[1]} ${W[2]} rg`);let ht=this.data.quadPoints;ht||(ht=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const Nt of ht){const[Ht,Vt,ae,Zt]=Z(ct,Nt);at=Math.min(at,Ht),nt=Math.max(nt,Vt),st=Math.min(st,ae),ot=Math.max(ot,Zt)}ct.push("Q");const ft=new S.Dict(M),mt=new S.Dict(M);mt.set("Subtype",S.Name.get("Form"));const Ct=new f.StringStream(ct.join(" "));Ct.dict=mt,ft.set("Fm0",Ct);const At=new S.Dict(M);G&&At.set("BM",S.Name.get(G)),"number"==typeof Y&&At.set("CA",Y),"number"==typeof tt&&At.set("ca",tt);const Ft=new S.Dict(M);Ft.set("GS0",At);const gt=new S.Dict(M);gt.set("ExtGState",Ft),gt.set("XObject",ft);const Bt=new S.Dict(M);Bt.set("Resources",gt);const qt=this.data.rect=[at,st,nt,ot];Bt.set("BBox",qt),this.appearance=new f.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=Bt,this._streams.push(this.appearance,Ct)}static async createNewAnnotation(M,U,H,W){const G=M.getNewRef(),Y=M.getNewRef(),tt=this.createNewDict(U,M,{apRef:Y}),Z=await this.createNewAppearanceStream(U,M,W),at=[];let st=M.encrypt?M.encrypt.createCipherTransform(Y.num,Y.gen):null;return(0,t.writeObject)(Y,Z,at,st),H.push({ref:Y,data:at.join("")}),at.length=0,st=M.encrypt?M.encrypt.createCipherTransform(G.num,G.gen):null,(0,t.writeObject)(G,tt,at,st),{ref:G,data:at.join("")}}static async createNewPrintAnnotation(M,U,H){const W=await this.createNewAppearanceStream(U,M,H),G=this.createNewDict(U,M,{ap:W});return new this.prototype.constructor({dict:G,xref:M})}}v.MarkupAnnotation=B;class h extends m{constructor(M){super(M);const U=M.dict,H=this.data;this.ref=M.ref,H.annotationType=e.AnnotationType.WIDGET,void 0===H.fieldName&&(H.fieldName=this._constructFieldName(U)),void 0===H.actions&&(H.actions=(0,d.collectActions)(M.xref,U,e.AnnotationActionEventType));let W=(0,d.getInheritableProperty)({dict:U,key:"V",getArray:!0});H.fieldValue=this._decodeFormValue(W);const G=(0,d.getInheritableProperty)({dict:U,key:"DV",getArray:!0});if(H.defaultFieldValue=this._decodeFormValue(G),void 0===W&&M.xfaDatasets){const nt=this._title.str;nt&&(this._hasValueFromXFA=!0,H.fieldValue=W=M.xfaDatasets.getValue(nt))}void 0===W&&null!==H.defaultFieldValue&&(H.fieldValue=H.defaultFieldValue),H.alternativeText=(0,e.stringToPDFString)(U.get("TU")||"");const Y=(0,d.getInheritableProperty)({dict:U,key:"DA"})||M.acroForm.get("DA");this._defaultAppearance="string"==typeof Y?Y:"",H.defaultAppearanceData=(0,_.parseDefaultAppearance)(this._defaultAppearance);const tt=(0,d.getInheritableProperty)({dict:U,key:"FT"});H.fieldType=tt instanceof S.Name?tt.name:null;const Z=(0,d.getInheritableProperty)({dict:U,key:"DR"}),at=M.acroForm.get("DR"),st=this.appearance&&this.appearance.dict.get("Resources");this._fieldResources={localResources:Z,acroFormResources:at,appearanceResources:st,mergedResources:S.Dict.merge({xref:M.xref,dictArray:[Z,st,at],mergeSubDicts:!0})},H.fieldFlags=(0,d.getInheritableProperty)({dict:U,key:"Ff"}),(!Number.isInteger(H.fieldFlags)||H.fieldFlags<0)&&(H.fieldFlags=0),H.readOnly=this.hasFieldFlag(e.AnnotationFieldFlag.READONLY),H.required=this.hasFieldFlag(e.AnnotationFieldFlag.REQUIRED),H.hidden=this._hasFlag(H.annotationFlags,e.AnnotationFlag.HIDDEN)}_decodeFormValue(M){return Array.isArray(M)?M.filter(U=>"string"==typeof U).map(U=>(0,e.stringToPDFString)(U)):M instanceof S.Name?(0,e.stringToPDFString)(M.name):"string"==typeof M?(0,e.stringToPDFString)(M):null}hasFieldFlag(M){return!!(this.data.fieldFlags&M)}static _getRotationMatrix(M,U,H){switch(M){case 90:return[0,1,-1,0,U,0];case 180:return[-1,0,0,-1,U,H];case 270:return[0,-1,1,0,0,H];default:throw new Error("Invalid rotation")}}getRotationMatrix(M){const U=M?M.get(this.data.id):void 0;let H=U&&U.rotation;return void 0===H&&(H=this.rotation),0===H?e.IDENTITY_MATRIX:h._getRotationMatrix(H,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1])}getBorderAndBackgroundAppearances(M){const U=M?M.get(this.data.id):void 0;let H=U&&U.rotation;if(void 0===H&&(H=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const W=this.data.rect[2]-this.data.rect[0],G=this.data.rect[3]-this.data.rect[1],Y=0===H||180===H?`0 0 ${W} ${G} re`:`0 0 ${G} ${W} re`;let tt="";return this.backgroundColor&&(tt=`${(0,_.getPdfColor)(this.backgroundColor,!0)} ${Y} f `),this.borderColor&&(tt+=`${this.borderStyle.width||1} w ${(0,_.getPdfColor)(this.borderColor,!1)} ${Y} S `),tt}async getOperatorList(M,U,H,W,G){if(W&&!(this instanceof c))return{opList:new a.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(M,U,H,W,G);const Y=await this._getAppearance(M,U,G);if(this.appearance&&null===Y)return super.getOperatorList(M,U,H,W,G);const tt=new a.OperatorList;if(!this._defaultAppearance||null===Y)return{opList:tt,separateForm:!1,separateCanvas:!1};const at=D(this.data.rect,[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],[1,0,0,1,0,0]);let st;this.oc&&(st=await M.parseMarkedContentProps(this.oc,null)),void 0!==st&&tt.addOp(e.OPS.beginMarkedContentProps,["OC",st]),tt.addOp(e.OPS.beginAnnotation,[this.data.id,this.data.rect,at,this.getRotationMatrix(G),!1]);const nt=new f.StringStream(Y);return await M.getOperatorList({stream:nt,task:U,resources:this._fieldResources.mergedResources,operatorList:tt}),tt.addOp(e.OPS.endAnnotation,[]),void 0!==st&&tt.addOp(e.OPS.endMarkedContent,[]),{opList:tt,separateForm:!1,separateCanvas:!1}}_getMKDict(M){const U=new S.Dict(null);return M&&U.set("R",M),this.borderColor&&U.set("BC",Array.from(this.borderColor).map(H=>H/255)),this.backgroundColor&&U.set("BG",Array.from(this.backgroundColor).map(H=>H/255)),U.size>0?U:null}async save(M,U,H){const W=H?H.get(this.data.id):void 0;let G=W&&W.value,Y=W&&W.rotation;if(G===this.data.fieldValue||void 0===G){if(!this._hasValueFromXFA&&void 0===Y)return null;G=G||this.data.fieldValue}if(void 0===Y&&!this._hasValueFromXFA&&Array.isArray(G)&&Array.isArray(this.data.fieldValue)&&G.length===this.data.fieldValue.length&&G.every((Nt,Ht)=>Nt===this.data.fieldValue[Ht]))return null;void 0===Y&&(Y=this.rotation);let tt=await this._getAppearance(M,U,H);if(null===tt)return null;const{xref:Z}=M,at=Z.fetchIfRef(this.ref);if(!(at instanceof S.Dict))return null;const st=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],nt={path:(0,e.stringToPDFString)(at.get("T")||""),value:G},ot=Z.getNewRef(),ct=new S.Dict(Z);ct.set("N",ot);const ht=Z.encrypt;let ft=null,mt=null;ht&&(ft=ht.createCipherTransform(this.ref.num,this.ref.gen),mt=ht.createCipherTransform(ot.num,ot.gen),tt=mt.encryptString(tt));const Ct=Nt=>(0,e.isAscii)(Nt)?Nt:(0,e.stringToUTF16BEString)(Nt);at.set("V",Array.isArray(G)?G.map(Ct):Ct(G)),at.set("AP",ct),at.set("M",`D:${(0,e.getModificationDate)()}`);const At=this._getMKDict(Y);At&&at.set("MK",At);const Ft=new S.Dict(Z);Ft.set("Length",tt.length),Ft.set("Subtype",S.Name.get("Form")),Ft.set("Resources",this._getSaveFieldResources(Z)),Ft.set("BBox",st);const gt=this.getRotationMatrix(H);gt!==e.IDENTITY_MATRIX&&Ft.set("Matrix",gt);const Bt=[`${this.ref.num} ${this.ref.gen} obj\n`];(0,t.writeDict)(at,Bt,ft),Bt.push("\nendobj\n");const qt=[`${ot.num} ${ot.gen} obj\n`];return(0,t.writeDict)(Ft,qt,mt),qt.push(" stream\n",tt,"\nendstream\nendobj\n"),[{ref:this.ref,data:Bt.join(""),xfa:nt},{ref:ot,data:qt.join(""),xfa:null}]}async _getAppearance(M,U,H){if(this.hasFieldFlag(e.AnnotationFieldFlag.PASSWORD))return null;const W=H?H.get(this.data.id):void 0;let G,Y;if(W&&(G=W.formattedValue||W.value,Y=W.rotation),void 0===Y&&void 0===G&&(!this._hasValueFromXFA||this.appearance))return null;if(void 0===G&&(G=this.data.fieldValue,!G)||(Array.isArray(G)&&1===G.length&&(G=G[0]),(0,e.assert)("string"==typeof G,"Expected `value` to be a string."),G=G.trim(),""===G))return"";void 0===Y&&(Y=this.rotation);let tt=-1;this.data.multiLine&&(tt=G.split(/\r\n|\r|\n/).length);let Z=this.data.rect[3]-this.data.rect[1],at=this.data.rect[2]-this.data.rect[0];90!==Y&&270!==Y||([at,Z]=[Z,at]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,_.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const st=await h._getFontData(M,U,this.data.defaultAppearanceData,this._fieldResources.mergedResources),[nt,ot]=this._computeFontSize(Z-2,at-4,G,st,tt);let ct=st.descent;isNaN(ct)&&(ct=0);const ht=Math.min(Math.floor((Z-ot)/2),2)+Math.abs(ct)*ot,ft=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(nt,G,st,ot,at,Z,ft,2,ht,H);const mt=st.encodeString(G).join("");if(this.data.comb)return this._getCombAppearance(nt,st,mt,at,2,ht,H);const Ct=this.getBorderAndBackgroundAppearances(H);return 0===ft||ft>2?`/Tx BMC q ${Ct}BT `+nt+` 1 0 0 1 2 ${ht} Tm (${(0,e.escapeString)(mt)}) Tj ET Q EMC`:`/Tx BMC q ${Ct}BT `+nt+` 1 0 0 1 0 0 Tm ${this._renderText(mt,st,ot,at,ft,2,ht)} ET Q EMC`}static async _getFontData(M,U,H,W){const G=new a.OperatorList,Y={font:null,clone(){return this}},{fontName:tt,fontSize:Z}=H;return await M.handleSetFont(W,[tt&&S.Name.get(tt),Z],null,G,U,Y,null),Y.font}_getTextWidth(M,U){return U.charsToGlyphs(M).reduce((H,W)=>H+W.width,0)/1e3}_computeFontSize(M,U,H,W,G){let{fontSize:Y}=this.data.defaultAppearanceData;if(!Y){const tt=st=>Math.floor(100*st)/100;if(-1===G){const st=this._getTextWidth(H,W);Y=tt(Math.min(M/e.LINE_FACTOR,U/st))}else{const st=H.split(/\r\n?|\n/),nt=[];for(const ft of st){const mt=W.encodeString(ft).join(""),Ct=W.charsToGlyphs(mt),At=W.getCharPositions(mt);nt.push({line:mt,glyphs:Ct,positions:At})}const ot=ft=>{let mt=0;for(const Ct of nt)if(mt+=this._splitLine(null,W,ft,U,Ct).length*ft,mt>M)return!0;return!1};Y=12;let ct=Y*e.LINE_FACTOR,ht=Math.round(M/ct);for(ht=Math.max(ht,G);ct=M/ht,Y=tt(ct/e.LINE_FACTOR),ot(Y);)ht++}const{fontName:Z,fontColor:at}=this.data.defaultAppearanceData;this._defaultAppearance=(0,_.createDefaultAppearance)({fontSize:Y,fontName:Z,fontColor:at})}return[this._defaultAppearance,Y]}_renderText(M,U,H,W,G,Y,tt){let Z;return Z=1===G?(W-this._getTextWidth(M,U)*H)/2:2===G?W-this._getTextWidth(M,U)*H-Y:Y,Z=(0,d.numberToString)(Z),`${Z} ${tt=(0,d.numberToString)(tt)} Td (${(0,e.escapeString)(M)}) Tj`}_getSaveFieldResources(M){const{localResources:U,appearanceResources:H,acroFormResources:W}=this._fieldResources,G=this.data.defaultAppearanceData&&this.data.defaultAppearanceData.fontName;if(!G)return U||S.Dict.empty;for(const Y of[U,H])if(Y instanceof S.Dict){const tt=Y.get("Font");if(tt instanceof S.Dict&&tt.has(G))return Y}if(W instanceof S.Dict){const Y=W.get("Font");if(Y instanceof S.Dict&&Y.has(G)){const tt=new S.Dict(M);tt.set(G,Y.getRaw(G));const Z=new S.Dict(M);return Z.set("Font",tt),S.Dict.merge({xref:M,dictArray:[Z,U],mergeSubDicts:!0})}}return U||S.Dict.empty}getFieldObject(){return null}}class y extends h{constructor(M){super(M),this._hasText=!0;const U=M.dict;"string"!=typeof this.data.fieldValue&&(this.data.fieldValue="");let H=(0,d.getInheritableProperty)({dict:U,key:"Q"});(!Number.isInteger(H)||H<0||H>2)&&(H=null),this.data.textAlignment=H;let W=(0,d.getInheritableProperty)({dict:U,key:"MaxLen"});(!Number.isInteger(W)||W<0)&&(W=0),this.data.maxLen=W,this.data.multiLine=this.hasFieldFlag(e.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(e.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(e.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(e.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(e.AnnotationFieldFlag.FILESELECT)&&0!==this.data.maxLen,this.data.doNotScroll=this.hasFieldFlag(e.AnnotationFieldFlag.DONOTSCROLL)}_getCombAppearance(M,U,H,W,G,Y,tt){const Z=(0,d.numberToString)(W/this.data.maxLen),at=[],st=U.getCharPositions(H);for(const[nt,ot]of st)at.push(`(${(0,e.escapeString)(H.substring(nt,ot))}) Tj`);return`/Tx BMC q ${this.getBorderAndBackgroundAppearances(tt)}BT `+M+` 1 0 0 1 ${G} ${Y} Tm ${at.join(` ${Z} 0 Td `)} ET Q EMC`}_getMultilineAppearance(M,U,H,W,G,Y,tt,Z,at,st){const nt=U.split(/\r\n?|\n/),ot=[],ct=G-2*Z;for(const ft of nt){const mt=this._splitLine(ft,H,W,ct);for(const Ct of mt)ot.push(this._renderText(Ct,H,W,G,tt,0===ot.length?Z:0,-W))}const ht=ot.join("\n");return`/Tx BMC q ${this.getBorderAndBackgroundAppearances(st)}BT `+M+` 1 0 0 1 0 ${Y} Tm ${ht} ET Q EMC`}_splitLine(M,U,H,W,G={}){M=G.line||U.encodeString(M).join("");const Y=G.glyphs||U.charsToGlyphs(M);if(Y.length<=1)return[M];const tt=G.positions||U.getCharPositions(M),Z=H/1e3,at=[];let st=-1,nt=-1,ot=-1,ct=0,ht=0;for(let ft=0,mt=Y.length;ft<mt;ft++){const[Ct,At]=tt[ft],Ft=Y[ft],gt=Ft.width*Z;" "===Ft.unicode?ht+gt>W?(at.push(M.substring(ct,Ct)),ct=Ct,ht=gt,st=-1,ot=-1):(ht+=gt,st=Ct,nt=At,ot=ft):ht+gt>W?-1!==st?(at.push(M.substring(ct,nt)),ct=nt,ft=ot+1,st=-1,ht=0):(at.push(M.substring(ct,Ct)),ct=Ct,ht=gt):ht+=gt}return ct<M.length&&at.push(M.substring(ct,M.length)),at}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(e.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class g extends h{constructor(M){super(M),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(e.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(e.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(e.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(e.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(e.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(M):this.data.radioButton?this._processRadioButton(M):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(M)):(0,e.warn)("Invalid field flags for button widget annotation")}async getOperatorList(M,U,H,W,G){if(this.data.pushButton)return super.getOperatorList(M,U,H,!1,G);let Y=null,tt=null;if(G){const at=G.get(this.data.id);Y=at?at.value:null,tt=at?at.rotation:null}if(null===Y&&this.appearance)return super.getOperatorList(M,U,H,W,G);null==Y&&(Y=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const Z=Y?this.checkedAppearance:this.uncheckedAppearance;if(Z){const at=this.appearance,st=Z.dict.getArray("Matrix")||e.IDENTITY_MATRIX;tt&&Z.dict.set("Matrix",this.getRotationMatrix(G)),this.appearance=Z;const nt=super.getOperatorList(M,U,H,W,G);return this.appearance=at,Z.dict.set("Matrix",st),nt}return{opList:new a.OperatorList,separateForm:!1,separateCanvas:!1}}async save(M,U,H){return this.data.checkBox?this._saveCheckbox(M,U,H):this.data.radioButton?this._saveRadioButton(M,U,H):null}async _saveCheckbox(M,U,H){if(!H)return null;const W=H.get(this.data.id);let G=W&&W.rotation,Y=W&&W.value;if(void 0===G&&(void 0===Y||this.data.fieldValue===this.data.exportValue===Y))return null;const tt=M.xref.fetchIfRef(this.ref);if(!(tt instanceof S.Dict))return null;void 0===G&&(G=this.rotation),void 0===Y&&(Y=this.data.fieldValue===this.data.exportValue);const Z={path:(0,e.stringToPDFString)(tt.get("T")||""),value:Y?this.data.exportValue:""},at=S.Name.get(Y?this.data.exportValue:"Off");tt.set("V",at),tt.set("AS",at),tt.set("M",`D:${(0,e.getModificationDate)()}`);const st=this._getMKDict(G);st&&tt.set("MK",st);const nt=M.xref.encrypt;let ot=null;nt&&(ot=nt.createCipherTransform(this.ref.num,this.ref.gen));const ct=[`${this.ref.num} ${this.ref.gen} obj\n`];return(0,t.writeDict)(tt,ct,ot),ct.push("\nendobj\n"),[{ref:this.ref,data:ct.join(""),xfa:Z}]}async _saveRadioButton(M,U,H){if(!H)return null;const W=H.get(this.data.id);let G=W&&W.rotation,Y=W&&W.value;if(void 0===G&&(void 0===Y||this.data.fieldValue===this.data.buttonValue===Y))return null;const tt=M.xref.fetchIfRef(this.ref);if(!(tt instanceof S.Dict))return null;void 0===Y&&(Y=this.data.fieldValue===this.data.buttonValue),void 0===G&&(G=this.rotation);const Z={path:(0,e.stringToPDFString)(tt.get("T")||""),value:Y?this.data.buttonValue:""},at=S.Name.get(Y?this.data.buttonValue:"Off");let st=null;const nt=M.xref.encrypt;if(Y)if(this.parent instanceof S.Ref){const mt=M.xref.fetch(this.parent);let Ct=null;nt&&(Ct=nt.createCipherTransform(this.parent.num,this.parent.gen)),mt.set("V",at),st=[`${this.parent.num} ${this.parent.gen} obj\n`],(0,t.writeDict)(mt,st,Ct),st.push("\nendobj\n")}else this.parent instanceof S.Dict&&this.parent.set("V",at);tt.set("AS",at),tt.set("M",`D:${(0,e.getModificationDate)()}`);const ot=this._getMKDict(G);ot&&tt.set("MK",ot);let ct=null;nt&&(ct=nt.createCipherTransform(this.ref.num,this.ref.gen));const ht=[`${this.ref.num} ${this.ref.gen} obj\n`];(0,t.writeDict)(tt,ht,ct),ht.push("\nendobj\n");const ft=[{ref:this.ref,data:ht.join(""),xfa:Z}];return null!==st&&ft.push({ref:this.parent,data:st.join(""),xfa:null}),ft}_getDefaultCheckedAppearance(M,U){const H=this.data.rect[2]-this.data.rect[0],W=this.data.rect[3]-this.data.rect[1],G=[0,0,H,W],Y=.8*Math.min(H,W);let tt,Z;"check"===U?(tt={width:.755*Y,height:.705*Y},Z="3"):"disc"===U?(tt={width:.791*Y,height:.705*Y},Z="l"):(0,e.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${U}`);const at=`q BT /PdfJsZaDb ${Y} Tf 0 g ${(0,d.numberToString)((H-tt.width)/2)} ${(0,d.numberToString)((W-tt.height)/2)} Td (${Z}) Tj ET Q`,st=new S.Dict(M.xref);st.set("FormType",1),st.set("Subtype",S.Name.get("Form")),st.set("Type",S.Name.get("XObject")),st.set("BBox",G),st.set("Matrix",[1,0,0,1,0,0]),st.set("Length",at.length);const nt=new S.Dict(M.xref),ot=new S.Dict(M.xref);ot.set("PdfJsZaDb",this.fallbackFontDict),nt.set("Font",ot),st.set("Resources",nt),this.checkedAppearance=new f.StringStream(at),this.checkedAppearance.dict=st,this._streams.push(this.checkedAppearance)}_processCheckBox(M){const U=M.dict.get("AP");if(!(U instanceof S.Dict))return;const H=U.get("N");if(!(H instanceof S.Dict))return;const W=this._decodeFormValue(M.dict.get("AS"));"string"==typeof W&&(this.data.fieldValue=W);const G=null!==this.data.fieldValue&&"Off"!==this.data.fieldValue?this.data.fieldValue:"Yes",Y=H.getKeys();if(0===Y.length)Y.push("Off",G);else if(1===Y.length)"Off"===Y[0]?Y.push(G):Y.unshift("Off");else if(Y.includes(G))Y.length=0,Y.push("Off",G);else{const tt=Y.find(Z=>"Off"!==Z);Y.length=0,Y.push("Off",tt)}Y.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=Y[1],this.checkedAppearance=H.get(this.data.exportValue)||null,this.uncheckedAppearance=H.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(M,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}_processRadioButton(M){this.data.fieldValue=this.data.buttonValue=null;const U=M.dict.get("Parent");if(U instanceof S.Dict){this.parent=M.dict.getRaw("Parent");const G=U.get("V");G instanceof S.Name&&(this.data.fieldValue=this._decodeFormValue(G))}const H=M.dict.get("AP");if(!(H instanceof S.Dict))return;const W=H.get("N");if(W instanceof S.Dict){for(const G of W.getKeys())if("Off"!==G){this.data.buttonValue=this._decodeFormValue(G);break}this.checkedAppearance=W.get(this.data.buttonValue)||null,this.uncheckedAppearance=W.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(M,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}}_processPushButton(M){M.dict.has("A")||M.dict.has("AA")||this.data.alternativeText?(this.data.isTooltipOnly=!M.dict.has("A")&&!M.dict.has("AA"),w.Catalog.parseDestDictionary({destDict:M.dict,resultObj:this.data,docBaseUrl:M.pdfManager.docBaseUrl})):(0,e.warn)("Push buttons without action dictionaries are not supported")}getFieldObject(){let M,U="button";return this.data.checkBox?(U="checkbox",M=this.data.exportValue):this.data.radioButton&&(U="radiobutton",M=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:M,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:U}}get fallbackFontDict(){const M=new S.Dict;return M.set("BaseFont",S.Name.get("ZapfDingbats")),M.set("Type",S.Name.get("FallbackType")),M.set("Subtype",S.Name.get("FallbackType")),M.set("Encoding",S.Name.get("ZapfDingbatsEncoding")),(0,e.shadow)(this,"fallbackFontDict",M)}}class r extends h{constructor(M){super(M),this.data.options=[];const U=(0,d.getInheritableProperty)({dict:M.dict,key:"Opt"});if(Array.isArray(U)){const H=M.xref;for(let W=0,G=U.length;W<G;W++){const Y=H.fetchIfRef(U[W]),tt=Array.isArray(Y);this.data.options[W]={exportValue:this._decodeFormValue(tt?H.fetchIfRef(Y[0]):Y),displayValue:this._decodeFormValue(tt?H.fetchIfRef(Y[1]):Y)}}}"string"==typeof this.data.fieldValue?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]),this.data.combo=this.hasFieldFlag(e.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(e.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue.length>0?this.data.fieldValue[0]:null,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:this.data.combo?"combobox":"listbox"}}async _getAppearance(M,U,H){if(this.data.combo)return super._getAppearance(M,U,H);if(!H)return null;const W=H.get(this.data.id);if(!W)return null;const G=W.rotation;let Y=W.value;if(void 0===G&&void 0===Y)return null;void 0===Y?Y=this.data.fieldValue:Array.isArray(Y)||(Y=[Y]);let tt=this.data.rect[3]-this.data.rect[1],Z=this.data.rect[2]-this.data.rect[0];90!==G&&270!==G||([Z,tt]=[tt,Z]);const at=this.data.options.length,st=[];for(let gt=0;gt<at;gt++){const{exportValue:Bt}=this.data.options[gt];Y.includes(Bt)&&st.push(gt)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,_.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const nt=await h._getFontData(M,U,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let ot,{fontSize:ct}=this.data.defaultAppearanceData;if(ct)ot=this._defaultAppearance;else{const gt=(tt-2)/at;let Bt,qt=-1;for(const{displayValue:Nt}of this.data.options){const Ht=this._getTextWidth(Nt,nt);Ht>qt&&(qt=Ht,Bt=Nt)}[ot,ct]=this._computeFontSize(gt,Z-4,Bt,nt,-1)}const ht=ct*e.LINE_FACTOR,ft=(ht-ct)/2,mt=Math.floor(tt/ht);let Ct;if(1===st.length){const gt=st[0];Ct=gt-gt%mt}else Ct=st.length?st[0]:0;const At=Math.min(Ct+mt+1,at),Ft=["/Tx BMC q",`1 1 ${Z} ${tt} re W n`];if(st.length){Ft.push("0.600006 0.756866 0.854904 rg");for(const gt of st)Ct<=gt&&gt<At&&Ft.push(`1 ${tt-(gt-Ct+1)*ht} ${Z} ${ht} re f`)}Ft.push("BT",ot,`1 0 0 1 0 ${tt} Tm`);for(let gt=Ct;gt<At;gt++){const{displayValue:Bt}=this.data.options[gt];Ft.push(this._renderText(Bt,nt,ct,Z,0,gt===Ct?2:0,-ht+(gt===Ct?ft:0)))}return Ft.push("ET Q EMC"),Ft.join("\n")}}class c extends h{constructor(M){super(M),this.data.fieldValue=null}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class P extends B{constructor(M){super(M);const U=M.dict;this.data.annotationType=e.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=U.has("Name")?U.get("Name").name:"Note"),U.has("State")?(this.data.state=U.get("State")||null,this.data.stateModel=U.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class T extends m{constructor(M){super(M),this.data.annotationType=e.AnnotationType.LINK;const U=o(M.dict,this.rectangle);U&&(this.data.quadPoints=U),this.data.borderColor=this.data.borderColor||this.data.color,w.Catalog.parseDestDictionary({destDict:M.dict,resultObj:this.data,docBaseUrl:M.pdfManager.docBaseUrl})}}class x extends m{constructor(M){super(M),this.data.annotationType=e.AnnotationType.POPUP;let U=M.dict.get("Parent");if(!U)return void(0,e.warn)("Popup annotation has a missing or invalid parent annotation.");const H=U.get("Subtype");this.data.parentType=H instanceof S.Name?H.name:null;const W=M.dict.getRaw("Parent");this.data.parentId=W instanceof S.Ref?W.toString():null;const G=U.getArray("Rect");this.data.parentRect=Array.isArray(G)&&4===G.length?e.Util.normalizeRect(G):[0,0,0,0];const Y=U.get("RT");if((0,S.isName)(Y,e.AnnotationReplyType.GROUP)&&(U=U.get("IRT")),U.has("M")?(this.setModificationDate(U.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,U.has("C")?(this.setColor(U.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const tt=U.get("F");this._isViewable(tt)&&this.setFlags(tt)}this.setTitle(U.get("T")),this.data.titleObj=this._title,this.setContents(U.get("Contents")),this.data.contentsObj=this._contents,U.has("RC")&&(this.data.richText=l.XFAFactory.getRichTextAsHtml(U.get("RC")))}}v.PopupAnnotation=x;class C extends B{constructor(M){super(M),this.data.annotationType=e.AnnotationType.FREETEXT}get hasTextContent(){return!!this.appearance}static createNewDict(M,U,{apRef:H,ap:W}){const{color:G,fontSize:Y,rect:tt,rotation:Z,user:at,value:st}=M,nt=new S.Dict(U);nt.set("Type",S.Name.get("Annot")),nt.set("Subtype",S.Name.get("FreeText")),nt.set("CreationDate",`D:${(0,e.getModificationDate)()}`),nt.set("Rect",tt);const ot=`/Helv ${Y} Tf ${(0,_.getPdfColor)(G,!0)}`;nt.set("DA",ot),nt.set("Contents",st),nt.set("F",4),nt.set("Border",[0,0,0]),nt.set("Rotate",Z),at&&nt.set("T",(0,e.stringToUTF8String)(at));const ct=new S.Dict(U);return nt.set("AP",ct),ct.set("N",H||W),nt}static async createNewAppearanceStream(M,U,H){const{baseFontRef:W,evaluator:G,task:Y}=H,{color:tt,fontSize:Z,rect:at,rotation:st,value:nt}=M,ot=new S.Dict(U),ct=new S.Dict(U);if(W)ct.set("Helv",W);else{const pt=new S.Dict(U);pt.set("BaseFont",S.Name.get("Helvetica")),pt.set("Type",S.Name.get("Font")),pt.set("Subtype",S.Name.get("Type1")),pt.set("Encoding",S.Name.get("WinAnsiEncoding")),ct.set("Helv",pt)}ot.set("Font",ct);const ht=await h._getFontData(G,Y,{fontName:"Helvetica",fontSize:Z},ot),[ft,mt,Ct,At]=at;let Ft=Ct-ft,gt=At-mt;st%180!=0&&([Ft,gt]=[gt,Ft]);const Bt=nt.split("\n"),qt=Z/1e3;let Nt=-1/0;const Ht=[];for(let pt of Bt){pt=ht.encodeString(pt).join(""),Ht.push(pt);let kt=0;const vt=ht.charsToGlyphs(pt);for(const Ot of vt)kt+=Ot.width*qt;Nt=Math.max(Nt,kt)}let Vt=1;Nt>Ft&&(Vt=Ft/Nt);let ae=1;const Zt=e.LINE_FACTOR*Z,Rt=e.LINE_DESCENT_FACTOR*Z,_t=Zt*Bt.length;_t>gt&&(ae=gt/_t);const Mt=Z*Math.min(Vt,ae),Pt=["q",`0 0 ${(0,d.numberToString)(Ft)} ${(0,d.numberToString)(gt)} re W n`,"BT",`1 0 0 1 0 ${(0,d.numberToString)(gt+Rt)} Tm 0 Tc ${(0,_.getPdfColor)(tt,!0)}`,`/Helv ${(0,d.numberToString)(Mt)} Tf`],Dt=(0,d.numberToString)(Zt);for(const pt of Ht)Pt.push(`0 -${Dt} Td (${(0,e.escapeString)(pt)}) Tj`);Pt.push("ET","Q");const Tt=Pt.join("\n"),yt=new S.Dict(U);if(yt.set("FormType",1),yt.set("Subtype",S.Name.get("Form")),yt.set("Type",S.Name.get("XObject")),yt.set("BBox",[0,0,Ft,gt]),yt.set("Length",Tt.length),yt.set("Resources",ot),st){const pt=h._getRotationMatrix(st,Ft,gt);yt.set("Matrix",pt)}const wt=new f.StringStream(Tt);return wt.dict=yt,wt}}class b extends B{constructor(M){super(M);const{dict:U}=M;this.data.annotationType=e.AnnotationType.LINE;const H=U.getArray("L");if(this.data.lineCoordinates=e.Util.normalizeRect(H),this.setLineEndings(U.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const W=this.color?Array.from(this.color).map(ot=>ot/255):[0,0,0],G=U.get("CA");let Y=null,tt=U.getArray("IC");tt&&(tt=n(tt,null),Y=tt?Array.from(tt).map(ot=>ot/255):null);const Z=Y?G:null,at=this.borderStyle.width||1,st=2*at,nt=[this.data.lineCoordinates[0]-st,this.data.lineCoordinates[1]-st,this.data.lineCoordinates[2]+st,this.data.lineCoordinates[3]+st];e.Util.intersect(this.rectangle,nt)||(this.rectangle=nt),this._setDefaultAppearance({xref:M.xref,extra:`${at} w`,strokeColor:W,fillColor:Y,strokeAlpha:G,fillAlpha:Z,pointsCallback:(ot,ct)=>(ot.push(`${H[0]} ${H[1]} m`,`${H[2]} ${H[3]} l`,"S"),[ct[0].x-at,ct[1].x+at,ct[3].y-at,ct[1].y+at])})}}}class A extends B{constructor(M){if(super(M),this.data.annotationType=e.AnnotationType.SQUARE,!this.appearance){const U=this.color?Array.from(this.color).map(tt=>tt/255):[0,0,0],H=M.dict.get("CA");let W=null,G=M.dict.getArray("IC");if(G&&(G=n(G,null),W=G?Array.from(G).map(tt=>tt/255):null),0===this.borderStyle.width&&!W)return;this._setDefaultAppearance({xref:M.xref,extra:`${this.borderStyle.width} w`,strokeColor:U,fillColor:W,strokeAlpha:H,fillAlpha:W?H:null,pointsCallback:(tt,Z)=>(tt.push(`${Z[2].x+this.borderStyle.width/2} ${Z[2].y+this.borderStyle.width/2} ${Z[3].x-Z[2].x-this.borderStyle.width} ${Z[1].y-Z[3].y-this.borderStyle.width} re`),tt.push(W?"B":"S"),[Z[0].x,Z[1].x,Z[3].y,Z[1].y])})}}}class R extends B{constructor(M){if(super(M),this.data.annotationType=e.AnnotationType.CIRCLE,!this.appearance){const U=this.color?Array.from(this.color).map(Z=>Z/255):[0,0,0],H=M.dict.get("CA");let W=null,G=M.dict.getArray("IC");G&&(G=n(G,null),W=G?Array.from(G).map(Z=>Z/255):null);const Y=W?H:null;if(0===this.borderStyle.width&&!W)return;const tt=4/3*Math.tan(Math.PI/8);this._setDefaultAppearance({xref:M.xref,extra:`${this.borderStyle.width} w`,strokeColor:U,fillColor:W,strokeAlpha:H,fillAlpha:Y,pointsCallback:(Z,at)=>{const st=at[0].x+this.borderStyle.width/2,nt=at[0].y-this.borderStyle.width/2,ot=at[3].x-this.borderStyle.width/2,ct=at[3].y+this.borderStyle.width/2,ht=st+(ot-st)/2,ft=nt+(ct-nt)/2,mt=(ot-st)/2*tt,Ct=(ct-nt)/2*tt;return Z.push(`${ht} ${ct} m`,`${ht+mt} ${ct} ${ot} ${ft+Ct} ${ot} ${ft} c`,`${ot} ${ft-Ct} ${ht+mt} ${nt} ${ht} ${nt} c`,`${ht-mt} ${nt} ${st} ${ft-Ct} ${st} ${ft} c`,`${st} ${ft+Ct} ${ht-mt} ${ct} ${ht} ${ct} c`,"h"),Z.push(W?"B":"S"),[at[0].x,at[1].x,at[3].y,at[1].y]}})}}}class F extends B{constructor(M){super(M);const{dict:U}=M;this.data.annotationType=e.AnnotationType.POLYLINE,this.data.vertices=[],this instanceof N||(this.setLineEndings(U.getArray("LE")),this.data.lineEndings=this.lineEndings);const H=U.getArray("Vertices");if(Array.isArray(H)){for(let W=0,G=H.length;W<G;W+=2)this.data.vertices.push({x:H[W],y:H[W+1]});if(!this.appearance){const W=this.color?Array.from(this.color).map(at=>at/255):[0,0,0],G=U.get("CA"),Y=this.borderStyle.width||1,tt=2*Y,Z=[1/0,1/0,-1/0,-1/0];for(const at of this.data.vertices)Z[0]=Math.min(Z[0],at.x-tt),Z[1]=Math.min(Z[1],at.y-tt),Z[2]=Math.max(Z[2],at.x+tt),Z[3]=Math.max(Z[3],at.y+tt);e.Util.intersect(this.rectangle,Z)||(this.rectangle=Z),this._setDefaultAppearance({xref:M.xref,extra:`${Y} w`,strokeColor:W,strokeAlpha:G,pointsCallback:(at,st)=>{const nt=this.data.vertices;for(let ot=0,ct=nt.length;ot<ct;ot++)at.push(`${nt[ot].x} ${nt[ot].y} ${0===ot?"m":"l"}`);return at.push("S"),[st[0].x,st[1].x,st[3].y,st[1].y]}})}}}}class N extends F{constructor(M){super(M),this.data.annotationType=e.AnnotationType.POLYGON}}class E extends B{constructor(M){super(M),this.data.annotationType=e.AnnotationType.CARET}}class L extends B{constructor(M){super(M),this.data.annotationType=e.AnnotationType.INK,this.data.inkLists=[];const U=M.dict.getArray("InkList");if(!Array.isArray(U))return;const H=M.xref;for(let W=0,G=U.length;W<G;++W){this.data.inkLists.push([]);for(let Y=0,tt=U[W].length;Y<tt;Y+=2)this.data.inkLists[W].push({x:H.fetchIfRef(U[W][Y]),y:H.fetchIfRef(U[W][Y+1])})}if(!this.appearance){const W=this.color?Array.from(this.color).map(at=>at/255):[0,0,0],G=M.dict.get("CA"),Y=this.borderStyle.width||1,tt=2*Y,Z=[1/0,1/0,-1/0,-1/0];for(const at of this.data.inkLists)for(const st of at)Z[0]=Math.min(Z[0],st.x-tt),Z[1]=Math.min(Z[1],st.y-tt),Z[2]=Math.max(Z[2],st.x+tt),Z[3]=Math.max(Z[3],st.y+tt);e.Util.intersect(this.rectangle,Z)||(this.rectangle=Z),this._setDefaultAppearance({xref:M.xref,extra:`${Y} w`,strokeColor:W,strokeAlpha:G,pointsCallback:(at,st)=>{for(const nt of this.data.inkLists){for(let ot=0,ct=nt.length;ot<ct;ot++)at.push(`${nt[ot].x} ${nt[ot].y} ${0===ot?"m":"l"}`);at.push("S")}return[st[0].x,st[1].x,st[3].y,st[1].y]}})}}static createNewDict(M,U,{apRef:H,ap:W}){const{paths:G,rect:Y,rotation:tt}=M,Z=new S.Dict(U);Z.set("Type",S.Name.get("Annot")),Z.set("Subtype",S.Name.get("Ink")),Z.set("CreationDate",`D:${(0,e.getModificationDate)()}`),Z.set("Rect",Y),Z.set("InkList",G.map(st=>st.points)),Z.set("F",4),Z.set("Border",[0,0,0]),Z.set("Rotate",tt);const at=new S.Dict(U);return Z.set("AP",at),at.set("N",H||W),Z}static async createNewAppearanceStream(M,U,H){const{color:W,rect:G,rotation:Y,paths:tt,thickness:Z,opacity:at}=M,[st,nt,ot,ct]=G;let ht=ot-st,ft=ct-nt;Y%180!=0&&([ht,ft]=[ft,ht]);const mt=[`${Z} w 1 J 1 j`,`${(0,_.getPdfColor)(W,!1)}`];1!==at&&mt.push("/R0 gs");const Ct=[];for(const{bezier:Bt}of tt){Ct.length=0,Ct.push(`${(0,d.numberToString)(Bt[0])} ${(0,d.numberToString)(Bt[1])} m`);for(let qt=2,Nt=Bt.length;qt<Nt;qt+=6){const Ht=Bt.slice(qt,qt+6).map(d.numberToString).join(" ");Ct.push(`${Ht} c`)}Ct.push("S"),mt.push(Ct.join("\n"))}const At=mt.join("\n"),Ft=new S.Dict(U);if(Ft.set("FormType",1),Ft.set("Subtype",S.Name.get("Form")),Ft.set("Type",S.Name.get("XObject")),Ft.set("BBox",[0,0,ht,ft]),Ft.set("Length",At.length),Y){const Bt=h._getRotationMatrix(Y,ht,ft);Ft.set("Matrix",Bt)}if(1!==at){const Bt=new S.Dict(U),qt=new S.Dict(U),Nt=new S.Dict(U);Nt.set("CA",at),Nt.set("Type",S.Name.get("ExtGState")),qt.set("R0",Nt),Bt.set("ExtGState",qt),Ft.set("Resources",Bt)}const gt=new f.StringStream(At);return gt.dict=Ft,gt}}class X extends B{constructor(M){if(super(M),this.data.annotationType=e.AnnotationType.HIGHLIGHT,this.data.quadPoints=o(M.dict,null)){const U=this.appearance&&this.appearance.dict.get("Resources");if(!this.appearance||!U||!U.has("ExtGState")){this.appearance&&(0,e.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const H=this.color?Array.from(this.color).map(G=>G/255):[1,1,0],W=M.dict.get("CA");this._setDefaultAppearance({xref:M.xref,fillColor:H,blendMode:"Multiply",fillAlpha:W,pointsCallback:(G,Y)=>(G.push(`${Y[0].x} ${Y[0].y} m`,`${Y[1].x} ${Y[1].y} l`,`${Y[3].x} ${Y[3].y} l`,`${Y[2].x} ${Y[2].y} l`,"f"),[Y[0].x,Y[1].x,Y[3].y,Y[1].y])})}}else this.data.hasPopup=!1}}class V extends B{constructor(M){if(super(M),this.data.annotationType=e.AnnotationType.UNDERLINE,this.data.quadPoints=o(M.dict,null)){if(!this.appearance){const U=this.color?Array.from(this.color).map(W=>W/255):[0,0,0],H=M.dict.get("CA");this._setDefaultAppearance({xref:M.xref,extra:"[] 0 d 1 w",strokeColor:U,strokeAlpha:H,pointsCallback:(W,G)=>(W.push(`${G[2].x} ${G[2].y} m`,`${G[3].x} ${G[3].y} l`,"S"),[G[0].x,G[1].x,G[3].y,G[1].y])})}}else this.data.hasPopup=!1}}class J extends B{constructor(M){if(super(M),this.data.annotationType=e.AnnotationType.SQUIGGLY,this.data.quadPoints=o(M.dict,null)){if(!this.appearance){const U=this.color?Array.from(this.color).map(W=>W/255):[0,0,0],H=M.dict.get("CA");this._setDefaultAppearance({xref:M.xref,extra:"[] 0 d 1 w",strokeColor:U,strokeAlpha:H,pointsCallback:(W,G)=>{const Y=(G[0].y-G[2].y)/6;let tt=Y,Z=G[2].x;const at=G[2].y,st=G[3].x;W.push(`${Z} ${at+tt} m`);do{Z+=2,tt=0===tt?Y:0,W.push(`${Z} ${at+tt} l`)}while(Z<st);return W.push("S"),[G[2].x,st,at-2*Y,at+2*Y]}})}}else this.data.hasPopup=!1}}class z extends B{constructor(M){if(super(M),this.data.annotationType=e.AnnotationType.STRIKEOUT,this.data.quadPoints=o(M.dict,null)){if(!this.appearance){const U=this.color?Array.from(this.color).map(W=>W/255):[0,0,0],H=M.dict.get("CA");this._setDefaultAppearance({xref:M.xref,extra:"[] 0 d 1 w",strokeColor:U,strokeAlpha:H,pointsCallback:(W,G)=>(W.push((G[0].x+G[2].x)/2+" "+(G[0].y+G[2].y)/2+" m",(G[1].x+G[3].x)/2+" "+(G[1].y+G[3].y)/2+" l","S"),[G[0].x,G[1].x,G[3].y,G[1].y])})}}else this.data.hasPopup=!1}}class $ extends B{constructor(M){super(M),this.data.annotationType=e.AnnotationType.STAMP}}class q extends B{constructor(M){super(M);const U=new s.FileSpec(M.dict.get("FS"),M.xref);this.data.annotationType=e.AnnotationType.FILEATTACHMENT,this.data.file=U.serializable}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.createDefaultAppearance=function({fontSize:s,fontName:i,fontColor:a}){return`/${(0,e.escapePDFName)(i)} ${s} Tf ${w(a,!0)}`},v.getPdfColor=w,v.parseDefaultAppearance=function(s){return new I(s).parse()};var e=K(6),d=K(2),_=K(14),S=K(15),t=K(5),u=K(10);class I extends S.EvaluatorPreprocessor{constructor(s){super(new u.StringStream(s))}parse(){const s={fn:0,args:[]},i={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;s.args.length=0,this.read(s);){if(0!==this.savedStatesDepth)continue;const{fn:a,args:f}=s;switch(0|a){case d.OPS.setFont:const[l,n]=f;l instanceof t.Name&&(i.fontName=l.name),"number"==typeof n&&n>0&&(i.fontSize=n);break;case d.OPS.setFillRGBColor:_.ColorSpace.singletons.rgb.getRgbItem(f,0,i.fontColor,0);break;case d.OPS.setFillGray:_.ColorSpace.singletons.gray.getRgbItem(f,0,i.fontColor,0);break;case d.OPS.setFillColorSpace:_.ColorSpace.singletons.cmyk.getRgbItem(f,0,i.fontColor,0)}}}catch(a){(0,d.warn)(`parseDefaultAppearance - ignoring errors: "${a}".`)}return i}}function w(k,s){return k[0]===k[1]&&k[1]===k[2]?`${(0,e.numberToString)(k[0]/255)} ${s?"g":"G"}`:Array.from(k).map(i=>(0,e.numberToString)(i/255)).join(" ")+" "+(s?"rg":"RG")}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ColorSpace=void 0;var e=K(2),d=K(5),_=K(7),S=K(6);class t{constructor(o,D){this.constructor===t&&(0,e.unreachable)("Cannot initialize ColorSpace."),this.name=o,this.numComps=D}getRgb(o,D){const m=new Uint8ClampedArray(3);return this.getRgbItem(o,D,m,0),m}getRgbItem(o,D,m,O){(0,e.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(o,D,m,O,B,h,y){(0,e.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(o,D){(0,e.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(o){return!1}isDefaultDecode(o,D){return t.isDefaultDecode(o,this.numComps)}fillRgb(o,D,m,O,B,h,y,g,r){const c=D*m;let P=null;const T=1<<y,x=m!==B||D!==O;if(this.isPassthrough(y))P=g;else if(1===this.numComps&&c>T&&"DeviceGray"!==this.name&&"DeviceRGB"!==this.name){const C=y<=8?new Uint8Array(T):new Uint16Array(T);for(let A=0;A<T;A++)C[A]=A;const b=new Uint8ClampedArray(3*T);if(this.getRgbBuffer(C,0,T,b,0,y,0),x){P=new Uint8Array(3*c);let A=0;for(let R=0;R<c;++R){const F=3*g[R];P[A++]=b[F],P[A++]=b[F+1],P[A++]=b[F+2]}}else{let A=0;for(let R=0;R<c;++R){const F=3*g[R];o[A++]=b[F],o[A++]=b[F+1],o[A++]=b[F+2],A+=r}}}else x?(P=new Uint8ClampedArray(3*c),this.getRgbBuffer(g,0,c,P,0,y,0)):this.getRgbBuffer(g,0,O*h,o,0,y,r);if(P)if(x)!function(b,A,R,F,N,E,L){L=1!==L?0:L;const X=R/N,V=F/E;let J,z=0;const $=new Uint16Array(N),q=3*R;for(let j=0;j<N;j++)$[j]=3*Math.floor(j*X);for(let j=0;j<E;j++){const M=Math.floor(j*V)*q;for(let U=0;U<N;U++)J=M+$[U],A[z++]=b[J++],A[z++]=b[J++],A[z++]=b[J++],z+=L}}(P,o,D,m,O,B,r);else{let C=0,b=0;for(let A=0,R=O*h;A<R;A++)o[C++]=P[b++],o[C++]=P[b++],o[C++]=P[b++],C+=r}}get usesZeroToOneRange(){return(0,e.shadow)(this,"usesZeroToOneRange",!0)}static _cache(o,D,m,O){if(!m)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!O)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let B,h;o instanceof d.Ref&&(h=o,o=D.fetch(o)),o instanceof d.Name&&(B=o.name),(B||h)&&m.set(B,h,O)}static getCached(o,D,m){if(!m)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(o instanceof d.Ref){const O=m.getByRef(o);if(O)return O;try{o=D.fetch(o)}catch(B){if(B instanceof S.MissingDataException)throw B}}if(o instanceof d.Name){const O=m.getByName(o.name);if(O)return O}return null}static async parseAsync({cs:o,xref:D,resources:m=null,pdfFunctionFactory:O,localColorSpaceCache:B}){const h=this._parse(o,D,m,O);return this._cache(o,D,B,h),h}static parse({cs:o,xref:D,resources:m=null,pdfFunctionFactory:O,localColorSpaceCache:B}){const h=this.getCached(o,D,B);if(h)return h;const y=this._parse(o,D,m,O);return this._cache(o,D,B,y),y}static _parse(o,D,m=null,O){if((o=D.fetchIfRef(o))instanceof d.Name)switch(o.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new I(null);default:if(m instanceof d.Dict){const B=m.get("ColorSpace");if(B instanceof d.Dict){const h=B.get(o.name);if(h){if(h instanceof d.Name)return this._parse(h,D,m,O);o=h;break}}}throw new e.FormatError(`Unrecognized ColorSpace: ${o.name}`)}if(Array.isArray(o)){const B=D.fetchIfRef(o[0]).name;let h,y,g,r,c,P;switch(B){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return h=D.fetchIfRef(o[1]),r=h.getArray("WhitePoint"),c=h.getArray("BlackPoint"),P=h.get("Gamma"),new a(r,c,P);case"CalRGB":h=D.fetchIfRef(o[1]),r=h.getArray("WhitePoint"),c=h.getArray("BlackPoint"),P=h.getArray("Gamma");const T=h.getArray("Matrix");return new f(r,c,P,T);case"ICCBased":const x=D.fetchIfRef(o[1]).dict;y=x.get("N");const C=x.get("Alternate");if(C){const E=this._parse(C,D,m,O);if(E.numComps===y)return E;(0,e.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(1===y)return this.singletons.gray;if(3===y)return this.singletons.rgb;if(4===y)return this.singletons.cmyk;break;case"Pattern":return g=o[1]||null,g&&(g=this._parse(g,D,m,O)),new I(g);case"I":case"Indexed":g=this._parse(o[1],D,m,O);const b=D.fetchIfRef(o[2])+1,A=D.fetchIfRef(o[3]);return new w(g,b,A);case"Separation":case"DeviceN":const R=D.fetchIfRef(o[1]);y=Array.isArray(R)?R.length:1,g=this._parse(o[2],D,m,O);const F=O.create(o[3]);return new u(y,g,F);case"Lab":h=D.fetchIfRef(o[1]),r=h.getArray("WhitePoint"),c=h.getArray("BlackPoint");const N=h.getArray("Range");return new l(r,c,N);default:throw new e.FormatError(`Unimplemented ColorSpace object: ${B}`)}}throw new e.FormatError(`Unrecognized ColorSpace object: ${o}`)}static isDefaultDecode(o,D){if(!Array.isArray(o))return!0;if(2*D!==o.length)return(0,e.warn)("The decode map is not the correct length"),!0;for(let m=0,O=o.length;m<O;m+=2)if(0!==o[m]||1!==o[m+1])return!1;return!0}static get singletons(){return(0,e.shadow)(this,"singletons",{get gray(){return(0,e.shadow)(this,"gray",new k)},get rgb(){return(0,e.shadow)(this,"rgb",new s)},get cmyk(){return(0,e.shadow)(this,"cmyk",new i)}})}}v.ColorSpace=t;class u extends t{constructor(o,D,m){super("Alternate",o),this.base=D,this.tintFn=m,this.tmpBuf=new Float32Array(D.numComps)}getRgbItem(o,D,m,O){const B=this.tmpBuf;this.tintFn(o,D,B,0),this.base.getRgbItem(B,0,m,O)}getRgbBuffer(o,D,m,O,B,h,y){const g=this.tintFn,r=this.base,c=1/((1<<h)-1),P=r.numComps,T=r.usesZeroToOneRange,x=(r.isPassthrough(8)||!T)&&0===y;let C=x?B:0;const b=x?O:new Uint8ClampedArray(P*m),A=this.numComps,R=new Float32Array(A),F=new Float32Array(P);let N,E;for(N=0;N<m;N++){for(E=0;E<A;E++)R[E]=o[D++]*c;if(g(R,0,F,0),T)for(E=0;E<P;E++)b[C++]=255*F[E];else r.getRgbItem(F,0,b,C),C+=P}x||r.getRgbBuffer(b,0,m,O,B,8,y)}getOutputLength(o,D){return this.base.getOutputLength(o*this.base.numComps/this.numComps,D)}}class I extends t{constructor(o){super("Pattern",null),this.base=o}isDefaultDecode(o,D){(0,e.unreachable)("Should not call PatternCS.isDefaultDecode")}}class w extends t{constructor(o,D,m){super("Indexed",1),this.base=o,this.highVal=D;const O=o.numComps*D;if(this.lookup=new Uint8Array(O),m instanceof _.BaseStream){const B=m.getBytes(O);this.lookup.set(B)}else{if("string"!=typeof m)throw new e.FormatError(`IndexedCS - unrecognized lookup table: ${m}`);for(let B=0;B<O;++B)this.lookup[B]=255&m.charCodeAt(B)}}getRgbItem(o,D,m,O){this.base.getRgbBuffer(this.lookup,o[D]*this.base.numComps,1,m,O,8,0)}getRgbBuffer(o,D,m,O,B,h,y){const g=this.base,r=g.numComps,c=g.getOutputLength(r,y),P=this.lookup;for(let T=0;T<m;++T){const x=o[D++]*r;g.getRgbBuffer(P,x,1,O,B,8,y),B+=c}}getOutputLength(o,D){return this.base.getOutputLength(o*this.base.numComps,D)}isDefaultDecode(o,D){return!Array.isArray(o)||(2!==o.length?((0,e.warn)("Decode map length is not correct"),!0):!Number.isInteger(D)||D<1?((0,e.warn)("Bits per component is not correct"),!0):0===o[0]&&o[1]===(1<<D)-1)}}class k extends t{constructor(){super("DeviceGray",1)}getRgbItem(o,D,m,O){m[O]=m[O+1]=m[O+2]=255*o[D]}getRgbBuffer(o,D,m,O,B,h,y){const g=255/((1<<h)-1);let r=D,c=B;for(let P=0;P<m;++P){const T=g*o[r++];O[c++]=T,O[c++]=T,O[c++]=T,c+=y}}getOutputLength(o,D){return o*(3+D)}}class s extends t{constructor(){super("DeviceRGB",3)}getRgbItem(o,D,m,O){m[O]=255*o[D],m[O+1]=255*o[D+1],m[O+2]=255*o[D+2]}getRgbBuffer(o,D,m,O,B,h,y){if(8===h&&0===y)return void O.set(o.subarray(D,D+3*m),B);const g=255/((1<<h)-1);let r=D,c=B;for(let P=0;P<m;++P)O[c++]=g*o[r++],O[c++]=g*o[r++],O[c++]=g*o[r++],c+=y}getOutputLength(o,D){return o*(3+D)/3|0}isPassthrough(o){return 8===o}}const i=function(){function o(D,m,O,B,h){const y=D[m]*O,g=D[m+1]*O,r=D[m+2]*O,c=D[m+3]*O;B[h]=255+y*(-4.387332384609988*y+54.48615194189176*g+18.82290502165302*r+212.25662451639585*c-285.2331026137004)+g*(1.7149763477362134*g-5.6096736904047315*r+-17.873870861415444*c-5.497006427196366)+r*(-2.5217340131683033*r-21.248923337353073*c+17.5119270841813)+c*(-21.86122147463605*c-189.48180835922747),B[h+1]=255+y*(8.841041422036149*y+60.118027045597366*g+6.871425592049007*r+31.159100130055922*c-79.2970844816548)+g*(-15.310361306967817*g+17.575251261109482*r+131.35250912493976*c-190.9453302588951)+r*(4.444339102852739*r+9.8632861493405*c-24.86741582555878)+c*(-20.737325471181034*c-187.80453709719578),B[h+2]=255+y*(.8842522430003296*y+8.078677503112928*g+30.89978309703729*r-.23883238689178934*c-14.183576799673286)+g*(10.49593273432072*g+63.02378494754052*r+50.606957656360734*c-112.23884253719248)+r*(.03296041114873217*r+115.60384449646641*c-193.58209356861505)+c*(-22.33816807309886*c-180.12613974708367)}return class extends t{constructor(){super("DeviceCMYK",4)}getRgbItem(m,O,B,h){o(m,O,1,B,h)}getRgbBuffer(m,O,B,h,y,g,r){const c=1/((1<<g)-1);for(let P=0;P<B;P++)o(m,O,c,h,y),O+=4,y+=3+r}getOutputLength(m,O){return m/4*(3+O)|0}}}(),a=function(){function o(D,m,O,B,h,y){const c=Math.max(295.8*(D.YW*(m[O]*y)**D.G)**.3333333333333333-40.8,0);B[h]=c,B[h+1]=c,B[h+2]=c}return class extends t{constructor(m,O,B){if(super("CalGray",1),!m)throw new e.FormatError("WhitePoint missing - required for color space CalGray");if(O=O||[0,0,0],B=B||1,this.XW=m[0],this.YW=m[1],this.ZW=m[2],this.XB=O[0],this.YB=O[1],this.ZB=O[2],this.G=B,this.XW<0||this.ZW<0||1!==this.YW)throw new e.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,e.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),0===this.XB&&0===this.YB&&0===this.ZB||(0,e.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,e.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(m,O,B,h){o(this,m,O,B,h,1)}getRgbBuffer(m,O,B,h,y,g,r){const c=1/((1<<g)-1);for(let P=0;P<B;++P)o(this,m,O,h,y,c),O+=1,y+=3+r}getOutputLength(m,O){return m*(3+O)}}}(),f=function(){const o=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),D=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),m=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),O=new Float32Array([1,1,1]),B=new Float32Array(3),h=new Float32Array(3),y=new Float32Array(3);function g(x,C,b){b[0]=x[0]*C[0]+x[1]*C[1]+x[2]*C[2],b[1]=x[3]*C[0]+x[4]*C[1]+x[5]*C[2],b[2]=x[6]*C[0]+x[7]*C[1]+x[8]*C[2]}function r(x){return x<=.0031308?c(0,1,12.92*x):x>=.99554525?1:c(0,1,1.055*x**(1/2.4)-.055)}function c(x,C,b){return Math.max(x,Math.min(C,b))}function P(x){return x<0?-P(-x):x>8?((x+16)/116)**3:.0011070564598794539*x}function T(x,C,b,A,R,F){const N=c(0,1,C[b]*F),E=c(0,1,C[b+1]*F),L=c(0,1,C[b+2]*F),X=1===N?1:N**x.GR,V=1===E?1:E**x.GG,J=1===L?1:L**x.GB,$=x.MYA*X+x.MYB*V+x.MYC*J,q=x.MZA*X+x.MZB*V+x.MZC*J,j=h;j[0]=x.MXA*X+x.MXB*V+x.MXC*J,j[1]=$,j[2]=q;const M=y;!function(Y,tt,Z){if(1===Y[0]&&1===Y[2])return Z[0]=tt[0],Z[1]=tt[1],void(Z[2]=tt[2]);const at=Z;g(o,tt,at);const st=B;var ot,ct,ht;(ht=st)[0]=1*(ct=at)[0]/(ot=Y)[0],ht[1]=1*ct[1]/ot[1],ht[2]=1*ct[2]/ot[2],g(D,st,Z)}(x.whitePoint,j,M);const U=h;!function(Y,tt,Z){if(0===Y[0]&&0===Y[1]&&0===Y[2])return Z[0]=tt[0],Z[1]=tt[1],void(Z[2]=tt[2]);const at=P(0),st=(1-at)/(1-P(Y[0])),nt=1-st,ot=(1-at)/(1-P(Y[1])),ct=1-ot,ht=(1-at)/(1-P(Y[2])),ft=1-ht;Z[0]=tt[0]*st+nt,Z[1]=tt[1]*ot+ct,Z[2]=tt[2]*ht+ft}(x.blackPoint,M,U);const H=y;!function(Y,tt,Z){const at=Z;g(o,tt,at);const st=B;var ot,ct,ht;(ht=st)[0]=.95047*(ct=at)[0]/(ot=Y)[0],ht[1]=1*ct[1]/ot[1],ht[2]=1.08883*ct[2]/ot[2],g(D,st,Z)}(O,U,H);const W=h;g(m,H,W),A[R]=255*r(W[0]),A[R+1]=255*r(W[1]),A[R+2]=255*r(W[2])}return class extends t{constructor(C,b,A,R){if(super("CalRGB",3),!C)throw new e.FormatError("WhitePoint missing - required for color space CalRGB");b=b||new Float32Array(3),A=A||new Float32Array([1,1,1]),R=R||new Float32Array([1,0,0,0,1,0,0,0,1]);const F=C[0],N=C[1],E=C[2];this.whitePoint=C;const L=b[0],X=b[1],V=b[2];if(this.blackPoint=b,this.GR=A[0],this.GG=A[1],this.GB=A[2],this.MXA=R[0],this.MYA=R[1],this.MZA=R[2],this.MXB=R[3],this.MYB=R[4],this.MZB=R[5],this.MXC=R[6],this.MYC=R[7],this.MZC=R[8],F<0||E<0||1!==N)throw new e.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(L<0||X<0||V<0)&&((0,e.info)(`Invalid BlackPoint for ${this.name} [${L}, ${X}, ${V}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,e.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(C,b,A,R){T(this,C,b,A,R,1)}getRgbBuffer(C,b,A,R,F,N,E){const L=1/((1<<N)-1);for(let X=0;X<A;++X)T(this,C,b,R,F,L),b+=3,F+=3+E}getOutputLength(C,b){return C*(3+b)/3|0}}}(),l=function(){function o(O){let B;return B=O>=6/29?O**3:108/841*(O-4/29),B}function D(O,B,h,y){return h+O*(y-h)/B}function m(O,B,h,y,g,r){let c=B[h],P=B[h+1],T=B[h+2];!1!==y&&(c=D(c,y,0,100),P=D(P,y,O.amin,O.amax),T=D(T,y,O.bmin,O.bmax)),P>O.amax?P=O.amax:P<O.amin&&(P=O.amin),T>O.bmax?T=O.bmax:T<O.bmin&&(T=O.bmin);const x=(c+16)/116,b=x-T/200,A=O.XW*o(x+P/500),R=O.YW*o(x),F=O.ZW*o(b);let N,E,L;O.ZW<1?(N=3.1339*A+-1.617*R+-.4906*F,E=-.9785*A+1.916*R+.0333*F,L=.072*A+-.229*R+1.4057*F):(N=3.2406*A+-1.5372*R+-.4986*F,E=-.9689*A+1.8758*R+.0415*F,L=.0557*A+-.204*R+1.057*F),g[r]=255*Math.sqrt(N),g[r+1]=255*Math.sqrt(E),g[r+2]=255*Math.sqrt(L)}return class extends t{constructor(B,h,y){if(super("Lab",3),!B)throw new e.FormatError("WhitePoint missing - required for color space Lab");if(h=h||[0,0,0],y=y||[-100,100,-100,100],this.XW=B[0],this.YW=B[1],this.ZW=B[2],this.amin=y[0],this.amax=y[1],this.bmin=y[2],this.bmax=y[3],this.XB=h[0],this.YB=h[1],this.ZB=h[2],this.XW<0||this.ZW<0||1!==this.YW)throw new e.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,e.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,e.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(B,h,y,g){m(this,B,h,!1,y,g)}getRgbBuffer(B,h,y,g,r,c,P){const T=(1<<c)-1;for(let x=0;x<y;x++)m(this,B,h,T,g,r),h+=3,r+=3+P}getOutputLength(B,h){return B*(3+h)/3|0}isDefaultDecode(B,h){return!0}get usesZeroToOneRange(){return(0,e.shadow)(this,"usesZeroToOneRange",!1)}}}()},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PartialEvaluator=v.EvaluatorPreprocessor=void 0;var e=K(2),d=K(16),_=K(5),S=K(34),t=K(38),u=K(37),I=K(41),w=K(40),k=K(50),s=K(51),i=K(42),a=K(57),f=K(17),l=K(59),n=K(10),o=K(7),D=K(60),m=K(14),O=K(19),B=K(39),h=K(6),y=K(45),g=K(61),r=K(62),c=K(63);const P=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),C=Promise.resolve();function b(J,z=!1){if(Array.isArray(J)){for(let $=0,q=J.length;$<q;$++){const j=b(J[$],!0);if(j)return j}return(0,e.warn)(`Unsupported blend mode Array: ${J}`),"source-over"}if(!(J instanceof _.Name))return z?null:"source-over";switch(J.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return z?null:((0,e.warn)(`Unsupported blend mode: ${J.name}`),"source-over")}function A(J){J.fn===e.OPS.paintImageMaskXObject&&J.args[0]&&J.args[0].count>0&&J.args[0].count++}class R{static get TIME_SLOT_DURATION_MS(){return(0,e.shadow)(this,"TIME_SLOT_DURATION_MS",20)}static get CHECK_TIME_EVERY(){return(0,e.shadow)(this,"CHECK_TIME_EVERY",100)}constructor(){this.reset()}check(){return!(++this.checked<R.CHECK_TIME_EVERY)&&(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+R.TIME_SLOT_DURATION_MS,this.checked=0}}class F{constructor({xref:z,handler:$,pageIndex:q,idFactory:j,fontCache:M,builtInCMapCache:U,standardFontDataCache:H,globalImageCache:W,options:G=null}){this.xref=z,this.handler=$,this.pageIndex=q,this.idFactory=j,this.fontCache=M,this.builtInCMapCache=U,this.standardFontDataCache=H,this.globalImageCache=W,this.options=G||P,this.parsingType3Font=!1,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this)}get _pdfFunctionFactory(){const z=new a.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,e.shadow)(this,"_pdfFunctionFactory",z)}clone(z=null){const $=Object.create(this);return $.options=Object.assign(Object.create(null),this.options,z),$}hasBlendModes(z,$){if(!(z instanceof _.Dict)||z.objId&&$.has(z.objId))return!1;const q=new _.RefSet($);z.objId&&q.put(z.objId);const j=[z],M=this.xref;for(;j.length;){const U=j.shift(),H=U.get("ExtGState");if(H instanceof _.Dict)for(let G of H.getRawValues()){if(G instanceof _.Ref){if(q.has(G))continue;try{G=M.fetch(G)}catch(tt){q.put(G),(0,e.info)(`hasBlendModes - ignoring ExtGState: "${tt}".`);continue}}if(!(G instanceof _.Dict))continue;G.objId&&q.put(G.objId);const Y=G.get("BM");if(Y instanceof _.Name){if("Normal"!==Y.name)return!0}else if(void 0!==Y&&Array.isArray(Y))for(const tt of Y)if(tt instanceof _.Name&&"Normal"!==tt.name)return!0}const W=U.get("XObject");if(W instanceof _.Dict)for(let G of W.getRawValues()){if(G instanceof _.Ref){if(q.has(G))continue;try{G=M.fetch(G)}catch(tt){q.put(G),(0,e.info)(`hasBlendModes - ignoring XObject: "${tt}".`);continue}}if(!(G instanceof o.BaseStream))continue;G.dict.objId&&q.put(G.dict.objId);const Y=G.dict.get("Resources");Y instanceof _.Dict&&(!Y.objId||!q.has(Y.objId))&&(j.push(Y),Y.objId&&q.put(Y.objId))}}for(const U of q)$.put(U);return!1}async fetchBuiltInCMap(z){const $=this.builtInCMapCache.get(z);if($)return $;let q;if(null!==this.options.cMapUrl){const j=`${this.options.cMapUrl}${z}.bcmap`,M=await fetch(j);if(!M.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${j}" with "${M.statusText}".`);q={cMapData:new Uint8Array(await M.arrayBuffer()),compressionType:e.CMapCompressionType.BINARY}}else q=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:z});return q.compressionType!==e.CMapCompressionType.NONE&&this.builtInCMapCache.set(z,q),q}async fetchStandardFontData(z){const $=this.standardFontDataCache.get(z);if($)return new n.Stream($);if(this.options.useSystemFonts&&"Symbol"!==z&&"ZapfDingbats"!==z)return null;const q=(0,I.getFontNameToFileMap)()[z];let j;if(null!==this.options.standardFontDataUrl){const M=`${this.options.standardFontDataUrl}${q}`,U=await fetch(M);U.ok?j=await U.arrayBuffer():(0,e.warn)(`fetchStandardFontData: failed to fetch file "${M}" with "${U.statusText}".`)}else try{j=await this.handler.sendWithPromise("FetchStandardFontData",{filename:q})}catch(M){(0,e.warn)(`fetchStandardFontData: failed to fetch file "${q}" with "${M}".`)}return j?(this.standardFontDataCache.set(z,j),new n.Stream(j)):null}async buildFormXObject(z,$,q,j,M,U,H){const W=$.dict,G=W.getArray("Matrix");let Y,tt,Z=W.getArray("BBox");Z=Array.isArray(Z)&&4===Z.length?e.Util.normalizeRect(Z):null,W.has("OC")&&(Y=await this.parseMarkedContentProps(W.get("OC"),z)),void 0!==Y&&j.addOp(e.OPS.beginMarkedContentProps,["OC",Y]);const at=W.get("Group");if(at){tt={matrix:G,bbox:Z,smask:q,isolated:!1,knockout:!1};const nt=at.get("S");let ot=null;if((0,_.isName)(nt,"Transparency")&&(tt.isolated=at.get("I")||!1,tt.knockout=at.get("K")||!1,at.has("CS"))){const ct=at.getRaw("CS");ot=m.ColorSpace.getCached(ct,this.xref,H)||await this.parseColorSpace({cs:ct,resources:z,localColorSpaceCache:H})}q&&q.backdrop&&(ot=ot||m.ColorSpace.singletons.rgb,q.backdrop=ot.getRgb(q.backdrop,0)),j.addOp(e.OPS.beginGroup,[tt])}return j.addOp(e.OPS.paintFormXObjectBegin,at?[G,null]:[G,Z]),this.getOperatorList({stream:$,task:M,resources:W.get("Resources")||z,operatorList:j,initialState:U}).then(function(){j.addOp(e.OPS.paintFormXObjectEnd,[]),at&&j.addOp(e.OPS.endGroup,[tt]),void 0!==Y&&j.addOp(e.OPS.endMarkedContent,[])})}_sendImgData(z,$,q=!1){const j=$?[$.bitmap||$.data.buffer]:null;return this.parsingType3Font||q?this.handler.send("commonobj",[z,"Image",$],j):this.handler.send("obj",[z,this.pageIndex,"Image",$],j)}async buildPaintImageXObject({resources:z,image:$,isInline:q=!1,operatorList:j,cacheKey:M,localImageCache:U,localColorSpaceCache:H}){const W=$.dict,G=W.objId,Y=W.get("W","Width"),tt=W.get("H","Height");if(!Y||"number"!=typeof Y||!tt||"number"!=typeof tt)return void(0,e.warn)("Image dimensions are missing, or not numbers.");const Z=this.options.maxImageSize;if(-1!==Z&&Y*tt>Z){const mt="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors)return void(0,e.warn)(mt);throw new Error(mt)}let at,st,nt;if(W.has("OC")&&(at=await this.parseMarkedContentProps(W.get("OC"),z)),W.get("IM","ImageMask")){const mt=W.get("I","Interpolate"),At=$.getBytes((Y+7>>3)*tt),Ft=W.getArray("D","Decode");if(this.parsingType3Font)return st=c.PDFImage.createRawMask({imgArray:At,width:Y,height:tt,imageIsFromDecodeStream:$ instanceof O.DecodeStream,inverseDecode:!!Ft&&Ft[0]>0,interpolate:mt}),st.cached=!!M,nt=[st],j.addImageOps(e.OPS.paintImageMaskXObject,nt,at),void(M&&U.set(M,G,{fn:e.OPS.paintImageMaskXObject,args:nt,optionalContent:at}));if(st=c.PDFImage.createMask({imgArray:At,width:Y,height:tt,imageIsFromDecodeStream:$ instanceof O.DecodeStream,inverseDecode:!!Ft&&Ft[0]>0,interpolate:mt}),st.isSingleOpaquePixel)return j.addImageOps(e.OPS.paintSolidColorImageMask,[],at),void(M&&U.set(M,G,{fn:e.OPS.paintSolidColorImageMask,args:[],optionalContent:at}));const gt=`mask_${this.idFactory.createObjId()}`;return j.addDependency(gt),this._sendImgData(gt,st),nt=[{data:gt,width:st.width,height:st.height,interpolate:st.interpolate,count:1}],j.addImageOps(e.OPS.paintImageMaskXObject,nt,at),void(M&&U.set(M,G,{fn:e.OPS.paintImageMaskXObject,args:nt,optionalContent:at}))}const ot=W.get("SM","SMask")||!1,ct=W.get("Mask")||!1;if(q&&!ot&&!ct&&Y+tt<200)return st=new c.PDFImage({xref:this.xref,res:z,image:$,isInline:q,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:H}).createImageData(!0),void j.addImageOps(e.OPS.paintInlineImageXObject,[st],at);let ht=`img_${this.idFactory.createObjId()}`,ft=!1;this.parsingType3Font?ht=`${this.idFactory.getDocId()}_type3_${ht}`:G&&(ft=this.globalImageCache.shouldCache(G,this.pageIndex),ft&&(ht=`${this.idFactory.getDocId()}_${ht}`)),j.addDependency(ht),nt=[ht,Y,tt],c.PDFImage.buildImage({xref:this.xref,res:z,image:$,isInline:q,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:H}).then(mt=>(st=mt.createImageData(!1),M&&G&&ft&&this.globalImageCache.addByteSize(G,st.data.length),this._sendImgData(ht,st,ft))).catch(mt=>((0,e.warn)(`Unable to decode image "${ht}": "${mt}".`),this._sendImgData(ht,null,ft))),j.addImageOps(e.OPS.paintImageXObject,nt,at),M&&(U.set(M,G,{fn:e.OPS.paintImageXObject,args:nt,optionalContent:at}),G&&((0,e.assert)(!q,"Cannot cache an inline image globally."),this.globalImageCache.addPageIndex(G,this.pageIndex),ft&&this.globalImageCache.setData(G,{objId:ht,fn:e.OPS.paintImageXObject,args:nt,optionalContent:at,byteSize:0})))}handleSMask(z,$,q,j,M,U){const H=z.get("G"),W={subtype:z.get("S").name,backdrop:z.get("BC")},G=z.get("TR");if((0,a.isPDFFunction)(G)){const Y=this._pdfFunctionFactory.create(G),tt=new Uint8Array(256),Z=new Float32Array(1);for(let at=0;at<256;at++)Z[0]=at/255,Y(Z,0,Z,0),tt[at]=255*Z[0]|0;W.transferMap=tt}return this.buildFormXObject($,H,W,q,j,M.state.clone(),U)}handleTransferFunction(z){let $;if(Array.isArray(z))$=z;else{if(!(0,a.isPDFFunction)(z))return null;$=[z]}const q=[];let j=0,M=0;for(const U of $){const H=this.xref.fetchIfRef(U);if(j++,(0,_.isName)(H,"Identity")){q.push(null);continue}if(!(0,a.isPDFFunction)(H))return null;const W=this._pdfFunctionFactory.create(H),G=new Uint8Array(256),Y=new Float32Array(1);for(let tt=0;tt<256;tt++)Y[0]=tt/255,W(Y,0,Y,0),G[tt]=255*Y[0]|0;q.push(G),M++}return 1!==j&&4!==j||0===M?null:q}handleTilingType(z,$,q,j,M,U,H,W){const G=new r.OperatorList,Y=_.Dict.merge({xref:this.xref,dictArray:[M.get("Resources"),q]});return this.getOperatorList({stream:j,task:H,resources:Y,operatorList:G}).then(function(){const tt=G.getIR(),Z=(0,k.getTilingPatternIR)(tt,M,$);U.addDependencies(G.dependencies),U.addOp(z,Z),M.objId&&W.set(null,M.objId,{operatorListIR:tt,dict:M})}).catch(tt=>{if(!(tt instanceof e.AbortException)){if(!this.options.ignoreErrors)throw tt;this.handler.send("UnsupportedFeature",{featureId:e.UNSUPPORTED_FEATURES.errorTilingPattern}),(0,e.warn)(`handleTilingType - ignoring pattern: "${tt}".`)}})}handleSetFont(z,$,q,j,M,U,H=null,W=null){return this.loadFont($&&$[0]instanceof _.Name?$[0].name:null,q,z,H,W).then(Y=>Y.font.isType3Font?Y.loadType3Data(this,z,M).then(function(){return j.addDependencies(Y.type3Dependencies),Y}).catch(tt=>(this.handler.send("UnsupportedFeature",{featureId:e.UNSUPPORTED_FEATURES.errorFontLoadType3}),new N({loadedName:"g_font_error",font:new S.ErrorFont(`Type3 font load error: ${tt}`),dict:Y.font,evaluatorOptions:this.options}))):Y).then(Y=>(U.font=Y.font,Y.send(this.handler),Y.loadedName))}handleText(z,$){const q=$.font,j=q.charsToGlyphs(z);return q.data&&($.textRenderingMode&e.TextRenderingMode.ADD_TO_PATH_FLAG||"Pattern"===$.fillColorSpace.name||q.disableFontFace||this.options.disableFontFace)&&F.buildFontPaths(q,j,this.handler,this.options),j}ensureStateFont(z){if(z.font)return;const $=new e.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(!this.options.ignoreErrors)throw $;this.handler.send("UnsupportedFeature",{featureId:e.UNSUPPORTED_FEATURES.errorFontState}),(0,e.warn)(`ensureStateFont: "${$}".`)}async setGState({resources:z,gState:$,operatorList:q,cacheKey:j,task:M,stateManager:U,localGStateCache:H,localColorSpaceCache:W}){const G=$.objId;let Y=!0;const tt=[],Z=$.getKeys();let at=Promise.resolve();for(let st=0,nt=Z.length;st<nt;st++){const ot=Z[st],ct=$.get(ot);switch(ot){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":tt.push([ot,ct]);break;case"Font":Y=!1,at=at.then(()=>this.handleSetFont(z,null,ct[0],q,M,U.state).then(function(ft){q.addDependency(ft),tt.push([ot,[ft,ct[1]]])}));break;case"BM":tt.push([ot,b(ct)]);break;case"SMask":if((0,_.isName)(ct,"None")){tt.push([ot,!1]);break}ct instanceof _.Dict?(Y=!1,at=at.then(()=>this.handleSMask(ct,z,q,M,U,W)),tt.push([ot,!0])):(0,e.warn)("Unsupported SMask type");break;case"TR":const ht=this.handleTransferFunction(ct);tt.push([ot,ht]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,e.info)("graphic state operator "+ot);break;default:(0,e.info)("Unknown graphic state operator "+ot)}}return at.then(function(){tt.length>0&&q.addOp(e.OPS.setGState,[tt]),Y&&H.set(j,G,tt)})}loadFont(z,$,q,j=null,M=null){const U=async()=>new N({loadedName:"g_font_error",font:new S.ErrorFont(`Font "${z}" is not available.`),dict:$,evaluatorOptions:this.options}),H=this.xref;let W;if($)$ instanceof _.Ref&&(W=$);else{const nt=q.get("Font");nt&&(W=nt.getRaw(z))}if(!W){const nt=`Font "${z||$&&$.toString()}" is not available`;if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,e.warn)(`${nt}.`),U();this.handler.send("UnsupportedFeature",{featureId:e.UNSUPPORTED_FEATURES.errorFontMissing}),(0,e.warn)(`${nt} -- attempting to fallback to a default font.`),W=j||F.fallbackFontDict}if(this.parsingType3Font&&this.type3FontRefs.has(W))return U();if(this.fontCache.has(W))return this.fontCache.get(W);if(!(($=H.fetchIfRef(W))instanceof _.Dict))return U();if($.cacheKey&&this.fontCache.has($.cacheKey))return this.fontCache.get($.cacheKey);const G=(0,e.createPromiseCapability)();let Y;try{Y=this.preEvaluateFont($),Y.cssFontInfo=M}catch(nt){return(0,e.warn)(`loadFont - preEvaluateFont failed: "${nt}".`),U()}const{descriptor:tt,hash:Z}=Y,at=W instanceof _.Ref;let st;if(at&&(st=`f${W.toString()}`),Z&&tt instanceof _.Dict){tt.fontAliases||(tt.fontAliases=Object.create(null));const nt=tt.fontAliases;if(nt[Z]){const ot=nt[Z].aliasRef;if(at&&ot&&this.fontCache.has(ot))return this.fontCache.putAlias(W,ot),this.fontCache.get(W)}else nt[Z]={fontID:this.idFactory.createFontId()};at&&(nt[Z].aliasRef=W),st=nt[Z].fontID}return at?this.fontCache.put(W,G.promise):(st||(st=this.idFactory.createFontId()),$.cacheKey=`cacheKey_${st}`,this.fontCache.put($.cacheKey,G.promise)),(0,e.assert)(st&&st.startsWith("f"),'The "fontID" must be (correctly) defined.'),$.loadedName=`${this.idFactory.getDocId()}_${st}`,this.translateFont(Y).then(nt=>{void 0!==nt.fontType&&H.stats.addFontType(nt.fontType),G.resolve(new N({loadedName:$.loadedName,font:nt,dict:$,evaluatorOptions:this.options}))}).catch(nt=>{this.handler.send("UnsupportedFeature",{featureId:e.UNSUPPORTED_FEATURES.errorFontTranslate}),(0,e.warn)(`loadFont - translateFont failed: "${nt}".`);try{const ot=tt&&tt.get("FontFile3"),ct=ot&&ot.get("Subtype"),ht=(0,t.getFontType)(Y.type,ct&&ct.name);void 0!==ht&&H.stats.addFontType(ht)}catch{}G.resolve(new N({loadedName:$.loadedName,font:new S.ErrorFont(nt instanceof Error?nt.message:nt),dict:$,evaluatorOptions:this.options}))}),G.promise}buildPath(z,$,q,j=!1){const M=z.length-1;let U;if(q||(q=[]),M<0||z.fnArray[M]!==e.OPS.constructPath)j&&((0,e.warn)(`Encountered path operator "${$}" inside of a text object.`),z.addOp(e.OPS.save,null)),U=[1/0,-1/0,1/0,-1/0],z.addOp(e.OPS.constructPath,[[$],q,U]),j&&z.addOp(e.OPS.restore,null);else{const H=z.argsArray[M];H[0].push($),Array.prototype.push.apply(H[1],q),U=H[2]}switch($){case e.OPS.rectangle:U[0]=Math.min(U[0],q[0],q[0]+q[2]),U[1]=Math.max(U[1],q[0],q[0]+q[2]),U[2]=Math.min(U[2],q[1],q[1]+q[3]),U[3]=Math.max(U[3],q[1],q[1]+q[3]);break;case e.OPS.moveTo:case e.OPS.lineTo:U[0]=Math.min(U[0],q[0]),U[1]=Math.max(U[1],q[0]),U[2]=Math.min(U[2],q[1]),U[3]=Math.max(U[3],q[1])}}parseColorSpace({cs:z,resources:$,localColorSpaceCache:q}){return m.ColorSpace.parseAsync({cs:z,xref:this.xref,resources:$,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:q}).catch(j=>{if(j instanceof e.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:e.UNSUPPORTED_FEATURES.errorColorSpace}),(0,e.warn)(`parseColorSpace - ignoring ColorSpace: "${j}".`),null;throw j})}parseShading({shading:z,resources:$,localColorSpaceCache:q,localShadingPatternCache:j}){let M=j.get(z);if(!M){const U=k.Pattern.parseShading(z,this.xref,$,this.handler,this._pdfFunctionFactory,q).getIR();M=`pattern_${this.idFactory.createObjId()}`,j.set(z,M),this.handler.send("obj",[M,this.pageIndex,"Pattern",U])}return M}handleColorN(z,$,q,j,M,U,H,W,G,Y){const tt=q.pop();if(tt instanceof _.Name){const Z=M.getRaw(tt.name),at=Z instanceof _.Ref&&G.getByRef(Z);if(at)try{const nt=j.base?j.base.getRgb(q,0):null,ot=(0,k.getTilingPatternIR)(at.operatorListIR,at.dict,nt);return void z.addOp($,ot)}catch{}const st=this.xref.fetchIfRef(Z);if(st){const nt=st instanceof o.BaseStream?st.dict:st,ot=nt.get("PatternType");if(1===ot){const ct=j.base?j.base.getRgb(q,0):null;return this.handleTilingType($,ct,U,st,nt,z,H,G)}if(2===ot){const ct=nt.get("Shading"),ht=nt.getArray("Matrix"),ft=this.parseShading({shading:ct,resources:U,localColorSpaceCache:W,localShadingPatternCache:Y});return void z.addOp($,["Shading",ft,ht])}throw new e.FormatError(`Unknown PatternType: ${ot}`)}}throw new e.FormatError(`Unknown PatternName: ${tt}`)}_parseVisibilityExpression(z,$,q){if(++$>10)return void(0,e.warn)("Visibility expression is too deeply nested");const j=z.length,M=this.xref.fetchIfRef(z[0]);if(!(j<2)&&M instanceof _.Name){switch(M.name){case"And":case"Or":case"Not":q.push(M.name);break;default:return void(0,e.warn)(`Invalid operator ${M.name} in visibility expression`)}for(let U=1;U<j;U++){const H=z[U],W=this.xref.fetchIfRef(H);if(Array.isArray(W)){const G=[];q.push(G),this._parseVisibilityExpression(W,$,G)}else H instanceof _.Ref&&q.push(H.toString())}}else(0,e.warn)("Invalid visibility expression")}async parseMarkedContentProps(z,$){let q;if(z instanceof _.Name)q=$.get("Properties").get(z.name);else{if(!(z instanceof _.Dict))throw new e.FormatError("Optional content properties malformed.");q=z}const j=q.get("Type").name;if("OCG"===j)return{type:j,id:q.objId};if("OCMD"===j){const M=q.get("VE");if(Array.isArray(M)){const H=[];if(this._parseVisibilityExpression(M,0,H),H.length>0)return{type:"OCMD",expression:H}}const U=q.get("OCGs");if(Array.isArray(U)||U instanceof _.Dict){const H=[];if(Array.isArray(U))for(const W of U)H.push(W.toString());else H.push(U.objId);return{type:j,ids:H,policy:q.get("P")instanceof _.Name?q.get("P").name:null,expression:null}}if(U instanceof _.Ref)return{type:j,id:U.toString()}}return null}getOperatorList({stream:z,task:$,resources:q,operatorList:j,initialState:M=null,fallbackFontDict:U=null}){if(q=q||_.Dict.empty,M=M||new X,!j)throw new Error('getOperatorList: missing "operatorList" parameter');const H=this,W=this.xref;let G=!1;const Y=new l.LocalImageCache,tt=new l.LocalColorSpaceCache,Z=new l.LocalGStateCache,at=new l.LocalTilingPatternCache,st=new Map,nt=q.get("XObject")||_.Dict.empty,ot=q.get("Pattern")||_.Dict.empty,ct=new E(M),ht=new V(z,W,ct),ft=new R;function mt(Ct){for(let At=0,Ft=ht.savedStatesDepth;At<Ft;At++)j.addOp(e.OPS.restore,[])}return new Promise(function Ct(At,Ft){const gt=function(pt){Promise.all([pt,j.ready]).then(function(){try{Ct(At,Ft)}catch(kt){Ft(kt)}},Ft)};$.ensureNotTerminated(),ft.reset();const Bt={};let qt,Nt,Ht,Vt,ae,Zt;for(;!(qt=ft.check())&&(Bt.args=null,ht.read(Bt));){let pt=Bt.args,kt=Bt.fn;switch(0|kt){case e.OPS.paintXObject:if(Zt=pt[0]instanceof _.Name,ae=pt[0].name,Zt){const vt=Y.getByName(ae);if(vt){j.addImageOps(vt.fn,vt.args,vt.optionalContent),A(vt),pt=null;continue}}return void gt(new Promise(function(vt,Ot){if(!Zt)throw new e.FormatError("XObject must be referred to by name.");let Xt=nt.getRaw(ae);if(Xt instanceof _.Ref){const Qt=Y.getByRef(Xt);if(Qt)return j.addImageOps(Qt.fn,Qt.args,Qt.optionalContent),A(Qt),void vt();const Ut=H.globalImageCache.getData(Xt,H.pageIndex);if(Ut)return j.addDependency(Ut.objId),j.addImageOps(Ut.fn,Ut.args,Ut.optionalContent),void vt();Xt=W.fetch(Xt)}if(!(Xt instanceof o.BaseStream))throw new e.FormatError("XObject should be a stream");const Yt=Xt.dict.get("Subtype");if(!(Yt instanceof _.Name))throw new e.FormatError("XObject should have a Name subtype");if("Form"!==Yt.name)if("Image"!==Yt.name){if("PS"!==Yt.name)throw new e.FormatError(`Unhandled XObject subtype ${Yt.name}`);(0,e.info)("Ignored XObject subtype PS"),vt()}else H.buildPaintImageXObject({resources:q,image:Xt,operatorList:j,cacheKey:ae,localImageCache:Y,localColorSpaceCache:tt}).then(vt,Ot);else ct.save(),H.buildFormXObject(q,Xt,null,j,$,ct.state.clone(),tt).then(function(){ct.restore(),vt()},Ot)}).catch(function(vt){if(!(vt instanceof e.AbortException)){if(!H.options.ignoreErrors)throw vt;H.handler.send("UnsupportedFeature",{featureId:e.UNSUPPORTED_FEATURES.errorXObject}),(0,e.warn)(`getOperatorList - ignoring XObject: "${vt}".`)}}));case e.OPS.setFont:var Rt=pt[1];return void gt(H.handleSetFont(q,pt,null,j,$,ct.state,U).then(function(vt){j.addDependency(vt),j.addOp(e.OPS.setFont,[vt,Rt])}));case e.OPS.beginText:G=!0;break;case e.OPS.endText:G=!1;break;case e.OPS.endInlineImage:var _t=pt[0].cacheKey;if(_t){const vt=Y.getByName(_t);if(vt){j.addImageOps(vt.fn,vt.args,vt.optionalContent),A(vt),pt=null;continue}}return void gt(H.buildPaintImageXObject({resources:q,image:pt[0],isInline:!0,operatorList:j,cacheKey:_t,localImageCache:Y,localColorSpaceCache:tt}));case e.OPS.showText:if(!ct.state.font){H.ensureStateFont(ct.state);continue}pt[0]=H.handleText(pt[0],ct.state);break;case e.OPS.showSpacedText:if(!ct.state.font){H.ensureStateFont(ct.state);continue}var Mt=pt[0],Pt=[],Dt=Mt.length,Tt=ct.state;for(Nt=0;Nt<Dt;++Nt){const vt=Mt[Nt];"string"==typeof vt?Array.prototype.push.apply(Pt,H.handleText(vt,Tt)):"number"==typeof vt&&Pt.push(vt)}pt[0]=Pt,kt=e.OPS.showText;break;case e.OPS.nextLineShowText:if(!ct.state.font){H.ensureStateFont(ct.state);continue}j.addOp(e.OPS.nextLine),pt[0]=H.handleText(pt[0],ct.state),kt=e.OPS.showText;break;case e.OPS.nextLineSetSpacingShowText:if(!ct.state.font){H.ensureStateFont(ct.state);continue}j.addOp(e.OPS.nextLine),j.addOp(e.OPS.setWordSpacing,[pt.shift()]),j.addOp(e.OPS.setCharSpacing,[pt.shift()]),pt[0]=H.handleText(pt[0],ct.state),kt=e.OPS.showText;break;case e.OPS.setTextRenderingMode:ct.state.textRenderingMode=pt[0];break;case e.OPS.setFillColorSpace:{const vt=m.ColorSpace.getCached(pt[0],W,tt);if(vt){ct.state.fillColorSpace=vt;continue}return void gt(H.parseColorSpace({cs:pt[0],resources:q,localColorSpaceCache:tt}).then(function(Ot){Ot&&(ct.state.fillColorSpace=Ot)}))}case e.OPS.setStrokeColorSpace:{const vt=m.ColorSpace.getCached(pt[0],W,tt);if(vt){ct.state.strokeColorSpace=vt;continue}return void gt(H.parseColorSpace({cs:pt[0],resources:q,localColorSpaceCache:tt}).then(function(Ot){Ot&&(ct.state.strokeColorSpace=Ot)}))}case e.OPS.setFillColor:Vt=ct.state.fillColorSpace,pt=Vt.getRgb(pt,0),kt=e.OPS.setFillRGBColor;break;case e.OPS.setStrokeColor:Vt=ct.state.strokeColorSpace,pt=Vt.getRgb(pt,0),kt=e.OPS.setStrokeRGBColor;break;case e.OPS.setFillGray:ct.state.fillColorSpace=m.ColorSpace.singletons.gray,pt=m.ColorSpace.singletons.gray.getRgb(pt,0),kt=e.OPS.setFillRGBColor;break;case e.OPS.setStrokeGray:ct.state.strokeColorSpace=m.ColorSpace.singletons.gray,pt=m.ColorSpace.singletons.gray.getRgb(pt,0),kt=e.OPS.setStrokeRGBColor;break;case e.OPS.setFillCMYKColor:ct.state.fillColorSpace=m.ColorSpace.singletons.cmyk,pt=m.ColorSpace.singletons.cmyk.getRgb(pt,0),kt=e.OPS.setFillRGBColor;break;case e.OPS.setStrokeCMYKColor:ct.state.strokeColorSpace=m.ColorSpace.singletons.cmyk,pt=m.ColorSpace.singletons.cmyk.getRgb(pt,0),kt=e.OPS.setStrokeRGBColor;break;case e.OPS.setFillRGBColor:ct.state.fillColorSpace=m.ColorSpace.singletons.rgb,pt=m.ColorSpace.singletons.rgb.getRgb(pt,0);break;case e.OPS.setStrokeRGBColor:ct.state.strokeColorSpace=m.ColorSpace.singletons.rgb,pt=m.ColorSpace.singletons.rgb.getRgb(pt,0);break;case e.OPS.setFillColorN:if(Vt=ct.state.fillColorSpace,"Pattern"===Vt.name)return void gt(H.handleColorN(j,e.OPS.setFillColorN,pt,Vt,ot,q,$,tt,at,st));pt=Vt.getRgb(pt,0),kt=e.OPS.setFillRGBColor;break;case e.OPS.setStrokeColorN:if(Vt=ct.state.strokeColorSpace,"Pattern"===Vt.name)return void gt(H.handleColorN(j,e.OPS.setStrokeColorN,pt,Vt,ot,q,$,tt,at,st));pt=Vt.getRgb(pt,0),kt=e.OPS.setStrokeRGBColor;break;case e.OPS.shadingFill:var yt=q.get("Shading");if(!yt)throw new e.FormatError("No shading resource found");var wt=yt.get(pt[0].name);if(!wt)throw new e.FormatError("No shading object found");pt=[H.parseShading({shading:wt,resources:q,localColorSpaceCache:tt,localShadingPatternCache:st})],kt=e.OPS.shadingFill;break;case e.OPS.setGState:if(Zt=pt[0]instanceof _.Name,ae=pt[0].name,Zt){const vt=Z.getByName(ae);if(vt){vt.length>0&&j.addOp(e.OPS.setGState,[vt]),pt=null;continue}}return void gt(new Promise(function(vt,Ot){if(!Zt)throw new e.FormatError("GState must be referred to by name.");const Xt=q.get("ExtGState");if(!(Xt instanceof _.Dict))throw new e.FormatError("ExtGState should be a dictionary.");const Yt=Xt.get(ae);if(!(Yt instanceof _.Dict))throw new e.FormatError("GState should be a dictionary.");H.setGState({resources:q,gState:Yt,operatorList:j,cacheKey:ae,task:$,stateManager:ct,localGStateCache:Z,localColorSpaceCache:tt}).then(vt,Ot)}).catch(function(vt){if(!(vt instanceof e.AbortException)){if(!H.options.ignoreErrors)throw vt;H.handler.send("UnsupportedFeature",{featureId:e.UNSUPPORTED_FEATURES.errorExtGState}),(0,e.warn)(`getOperatorList - ignoring ExtGState: "${vt}".`)}}));case e.OPS.moveTo:case e.OPS.lineTo:case e.OPS.curveTo:case e.OPS.curveTo2:case e.OPS.curveTo3:case e.OPS.closePath:case e.OPS.rectangle:H.buildPath(j,kt,pt,G);continue;case e.OPS.markPoint:case e.OPS.markPointProps:case e.OPS.beginCompat:case e.OPS.endCompat:continue;case e.OPS.beginMarkedContentProps:if(!(pt[0]instanceof _.Name)){(0,e.warn)(`Expected name for beginMarkedContentProps arg0=${pt[0]}`);continue}if("OC"===pt[0].name)return void gt(H.parseMarkedContentProps(pt[1],q).then(vt=>{j.addOp(e.OPS.beginMarkedContentProps,["OC",vt])}).catch(vt=>{if(!(vt instanceof e.AbortException)){if(!H.options.ignoreErrors)throw vt;H.handler.send("UnsupportedFeature",{featureId:e.UNSUPPORTED_FEATURES.errorMarkedContent}),(0,e.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${vt}".`)}}));pt=[pt[0].name,pt[1]instanceof _.Dict?pt[1].get("MCID"):null];break;default:if(null!==pt){for(Nt=0,Ht=pt.length;Nt<Ht&&!(pt[Nt]instanceof _.Dict);Nt++);if(Nt<Ht){(0,e.warn)("getOperatorList - ignoring operator: "+kt);continue}}}j.addOp(kt,pt)}qt?gt(C):(mt(),At())}).catch(Ct=>{if(!(Ct instanceof e.AbortException)){if(!this.options.ignoreErrors)throw Ct;this.handler.send("UnsupportedFeature",{featureId:e.UNSUPPORTED_FEATURES.errorOperatorList}),(0,e.warn)(`getOperatorList - ignoring errors during "${$.name}" task: "${Ct}".`),mt()}})}getTextContent({stream:z,task:$,resources:q,stateManager:j=null,combineTextItems:M=!1,includeMarkedContent:U=!1,sink:H,seenStyles:W=new Set,viewBox:G}){q=q||_.Dict.empty,j=j||new E(new L);const Y=(0,w.getNormalizedUnicodes)(),tt={items:[],styles:Object.create(null)},Z={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},at=[" "," "];let st=0;function nt(Tt){const yt=(st+1)%2,wt=" "!==at[st]&&" "===at[yt];return at[st]=Tt,st=yt,wt}function ot(){at[0]=at[1]=" ",st=0}const ct=this,ht=this.xref,ft=[];let mt=null;const Ct=new l.LocalImageCache,At=new l.LocalGStateCache,Ft=new V(z,ht,j);let gt;function Bt(){const Tt=gt.font,yt=[gt.fontSize*gt.textHScale,0,0,gt.fontSize,0,gt.textRise];if(Tt.isType3Font&&(gt.fontSize<=1||Tt.isCharBBox)&&!(0,e.isArrayEqual)(gt.fontMatrix,e.FONT_IDENTITY_MATRIX)){const wt=Tt.bbox[3]-Tt.bbox[1];wt>0&&(yt[3]*=wt*gt.fontMatrix[3])}return e.Util.transform(gt.ctm,e.Util.transform(gt.textMatrix,yt))}function qt(){if(Z.initialized)return Z;const Tt=gt.font,yt=Tt.loadedName;W.has(yt)||(W.add(yt),tt.styles[yt]={fontFamily:Tt.fallbackName,ascent:Tt.ascent,descent:Tt.descent,vertical:Tt.vertical}),Z.fontName=yt;const wt=Z.transform=Bt();Tt.vertical?(Z.width=Z.totalWidth=Math.hypot(wt[0],wt[1]),Z.height=Z.totalHeight=0,Z.vertical=!0):(Z.width=Z.totalWidth=0,Z.height=Z.totalHeight=Math.hypot(wt[2],wt[3]),Z.vertical=!1);const pt=Math.hypot(gt.textLineMatrix[0],gt.textLineMatrix[1]),kt=Math.hypot(gt.ctm[0],gt.ctm[1]);return Z.textAdvanceScale=kt*pt,Z.trackingSpaceMin=.1*gt.fontSize,Z.notASpace=.03*gt.fontSize,Z.negativeSpaceMax=-.2*gt.fontSize,Z.spaceInFlowMin=.1*gt.fontSize,Z.spaceInFlowMax=.6*gt.fontSize,Z.hasEOL=!1,Z.initialized=!0,Z}function Nt(){if(!Z.initialized)return;const Tt=Math.hypot(gt.textLineMatrix[0],gt.textLineMatrix[1]),yt=Math.hypot(gt.ctm[0],gt.ctm[1])*Tt;yt!==Z.textAdvanceScale&&(Z.vertical?(Z.totalHeight+=Z.height*Z.textAdvanceScale,Z.height=0):(Z.totalWidth+=Z.width*Z.textAdvanceScale,Z.width=0),Z.textAdvanceScale=yt)}function Ht(Tt,yt){return ct.loadFont(Tt,yt,q).then(function(wt){return wt.font.isType3Font?wt.loadType3Data(ct,q,$).catch(function(){}).then(function(){return wt}):wt}).then(function(wt){gt.font=wt.font,gt.fontMatrix=wt.font.fontMatrix||e.FONT_IDENTITY_MATRIX})}function Vt(Tt,yt,wt){const pt=Math.hypot(wt[0],wt[1]);return[(wt[0]*Tt+wt[1]*yt)/pt,(wt[2]*Tt+wt[3]*yt)/pt]}function ae(){const Tt=Bt();let yt=Tt[4],wt=Tt[5];const pt=yt-G[0],kt=wt-G[1];if(pt<0||pt>G[2]||kt<0||kt>G[3])return!1;if(!M||!gt.font||!Z.prevTransform)return!0;let vt=Z.prevTransform[4],Ot=Z.prevTransform[5];if(vt===yt&&Ot===wt)return!0;let Xt=-1;switch(Tt[0]&&0===Tt[1]&&0===Tt[2]?Xt=Tt[0]>0?0:180:Tt[1]&&0===Tt[0]&&0===Tt[3]&&(Xt=Tt[1]>0?90:270),Xt){case 0:break;case 90:[yt,wt]=[wt,yt],[vt,Ot]=[Ot,vt];break;case 180:[yt,wt,vt,Ot]=[-yt,-wt,-vt,-Ot];break;case 270:[yt,wt]=[-wt,-yt],[vt,Ot]=[-Ot,-vt];break;default:[yt,wt]=Vt(yt,wt,Tt),[vt,Ot]=Vt(vt,Ot,Z.prevTransform)}if(gt.font.vertical){const te=(Ot-wt)/Z.textAdvanceScale,ne=yt-vt,pe=Math.sign(Z.height);return te<pe*Z.negativeSpaceMax?Math.abs(ne)>.5*Z.width?(Rt(),!0):(ot(),Mt(),!0):Math.abs(ne)>Z.width?(Rt(),!0):(te<=pe*Z.notASpace&&ot(),te<=pe*Z.trackingSpaceMin?Z.height+=te:_t(te,Z.prevTransform,pe)||(0===Z.str.length?(ot(),tt.items.push({str:" ",dir:"ltr",width:0,height:Math.abs(te),transform:Z.prevTransform,fontName:Z.fontName,hasEOL:!1})):Z.height+=te),!0)}const Yt=(yt-vt)/Z.textAdvanceScale,Qt=wt-Ot,Ut=Math.sign(Z.width);return Yt<Ut*Z.negativeSpaceMax?Math.abs(Qt)>.5*Z.height?(Rt(),!0):(ot(),Mt(),!0):Math.abs(Qt)>Z.height?(Rt(),!0):(Yt<=Ut*Z.notASpace&&ot(),Yt<=Ut*Z.trackingSpaceMin?Z.width+=Yt:_t(Yt,Z.prevTransform,Ut)||(0===Z.str.length?(ot(),tt.items.push({str:" ",dir:"ltr",width:Math.abs(Yt),height:0,transform:Z.prevTransform,fontName:Z.fontName,hasEOL:!1})):Z.width+=Yt),!0)}function Zt({chars:Tt,extraSpacing:yt}){const wt=gt.font;if(!Tt){const vt=gt.charSpacing+yt;return void(vt&&(wt.vertical?gt.translateTextMatrix(0,-vt):gt.translateTextMatrix(vt*gt.textHScale,0)))}const pt=wt.charsToGlyphs(Tt),kt=gt.fontMatrix[0]*gt.fontSize;for(let vt=0,Ot=pt.length;vt<Ot;vt++){const Xt=pt[vt];if(Xt.isInvisibleFormatMark)continue;let Yt=gt.charSpacing+(vt+1===Ot?yt:0),Qt=Xt.width;wt.vertical&&(Qt=Xt.vmetric?Xt.vmetric[0]:-Qt);let Ut=Qt*kt;if(Xt.isWhitespace){wt.vertical?(Yt+=-Ut+gt.wordSpacing,gt.translateTextMatrix(0,-Yt)):(Yt+=Ut+gt.wordSpacing,gt.translateTextMatrix(Yt*gt.textHScale,0)),nt(" ");continue}if(!ae())continue;const te=qt();Xt.isZeroWidthDiacritic&&(Ut=0),wt.vertical?(gt.translateTextMatrix(0,Ut),Ut=Math.abs(Ut),te.height+=Ut):(Ut*=gt.textHScale,gt.translateTextMatrix(Ut,0),te.width+=Ut),Ut&&(te.prevTransform=Bt());let ne=Xt.unicode;ne=Y[ne]||ne,ne=(0,w.reverseIfRtl)(ne),nt(ne)&&te.str.push(" "),te.str.push(ne),Yt&&(wt.vertical?gt.translateTextMatrix(0,-Yt):gt.translateTextMatrix(Yt*gt.textHScale,0))}}function Rt(){ot(),Z.initialized?(Z.hasEOL=!0,Mt()):tt.items.push({str:"",dir:"ltr",width:0,height:0,transform:Bt(),fontName:gt.font.loadedName,hasEOL:!0})}function _t(Tt,yt,wt){if(wt*Z.spaceInFlowMin<=Tt&&Tt<=wt*Z.spaceInFlowMax)return Z.initialized&&(ot(),Z.str.push(" ")),!1;const pt=Z.fontName;let kt=0;return Z.vertical&&(kt=Tt,Tt=0),Mt(),ot(),tt.items.push({str:" ",dir:"ltr",width:Math.abs(Tt),height:Math.abs(kt),transform:yt||Bt(),fontName:pt,hasEOL:!1}),!0}function Mt(){Z.initialized&&Z.str&&(Z.vertical?Z.totalHeight+=Z.height*Z.textAdvanceScale:Z.totalWidth+=Z.width*Z.textAdvanceScale,tt.items.push(function(yt){const wt=yt.str.join(""),pt=(0,D.bidi)(wt,-1,yt.vertical);return{str:pt.str,dir:pt.dir,width:Math.abs(yt.totalWidth),height:Math.abs(yt.totalHeight),transform:yt.transform,fontName:yt.fontName,hasEOL:yt.hasEOL}}(Z)),Z.initialized=!1,Z.str.length=0)}function Pt(Tt=!1){const yt=tt.items.length;0!==yt&&!(Tt&&yt<10)&&(H.enqueue(tt,yt),tt.items=[],tt.styles=Object.create(null))}const Dt=new R;return new Promise(function Tt(yt,wt){const pt=function(te){Pt(!0),Promise.all([te,H.ready]).then(function(){try{Tt(yt,wt)}catch(ne){wt(ne)}},wt)};$.ensureNotTerminated(),Dt.reset();const kt={};let vt,Ot=[];for(;!(vt=Dt.check())&&(Ot.length=0,kt.args=Ot,Ft.read(kt));){switch(gt=j.state,Ot=kt.args,0|kt.fn){case e.OPS.setFont:var Xt=Ot[0].name,Yt=Ot[1];if(gt.font&&Xt===gt.fontName&&Yt===gt.fontSize)break;return Mt(),gt.fontName=Xt,gt.fontSize=Yt,void pt(Ht(Xt,null));case e.OPS.setTextRise:gt.textRise=Ot[0];break;case e.OPS.setHScale:gt.textHScale=Ot[0]/100;break;case e.OPS.setLeading:gt.leading=Ot[0];break;case e.OPS.moveText:gt.translateTextLineMatrix(Ot[0],Ot[1]),gt.textMatrix=gt.textLineMatrix.slice();break;case e.OPS.setLeadingMoveText:gt.leading=-Ot[1],gt.translateTextLineMatrix(Ot[0],Ot[1]),gt.textMatrix=gt.textLineMatrix.slice();break;case e.OPS.nextLine:gt.carriageReturn();break;case e.OPS.setTextMatrix:gt.setTextMatrix(Ot[0],Ot[1],Ot[2],Ot[3],Ot[4],Ot[5]),gt.setTextLineMatrix(Ot[0],Ot[1],Ot[2],Ot[3],Ot[4],Ot[5]),Nt();break;case e.OPS.setCharSpacing:gt.charSpacing=Ot[0];break;case e.OPS.setWordSpacing:gt.wordSpacing=Ot[0];break;case e.OPS.beginText:gt.textMatrix=e.IDENTITY_MATRIX.slice(),gt.textLineMatrix=e.IDENTITY_MATRIX.slice();break;case e.OPS.showSpacedText:if(!j.state.font){ct.ensureStateFont(j.state);continue}const ne=(gt.font.vertical?1:-1)*gt.fontSize/1e3,pe=Ot[0];for(let jt=0,re=pe.length;jt<re-1;jt++){const Wt=pe[jt];if("string"==typeof Wt)ft.push(Wt);else if("number"==typeof Wt&&0!==Wt){const ee=ft.join("");ft.length=0,Zt({chars:ee,extraSpacing:Wt*ne})}}const oe=pe.at(-1);if("string"==typeof oe&&ft.push(oe),ft.length>0){const jt=ft.join("");ft.length=0,Zt({chars:jt,extraSpacing:0})}break;case e.OPS.showText:if(!j.state.font){ct.ensureStateFont(j.state);continue}Zt({chars:Ot[0],extraSpacing:0});break;case e.OPS.nextLineShowText:if(!j.state.font){ct.ensureStateFont(j.state);continue}gt.carriageReturn(),Zt({chars:Ot[0],extraSpacing:0});break;case e.OPS.nextLineSetSpacingShowText:if(!j.state.font){ct.ensureStateFont(j.state);continue}gt.wordSpacing=Ot[0],gt.charSpacing=Ot[1],gt.carriageReturn(),Zt({chars:Ot[2],extraSpacing:0});break;case e.OPS.paintXObject:Mt(),mt||(mt=q.get("XObject")||_.Dict.empty);var Qt=Ot[0]instanceof _.Name,Ut=Ot[0].name;if(Qt&&Ct.getByName(Ut))break;return void pt(new Promise(function(jt,re){if(!Qt)throw new e.FormatError("XObject must be referred to by name.");let Wt=mt.getRaw(Ut);if(Wt instanceof _.Ref){if(Ct.getByRef(Wt))return void jt();if(ct.globalImageCache.getData(Wt,ct.pageIndex))return void jt();Wt=ht.fetch(Wt)}if(!(Wt instanceof o.BaseStream))throw new e.FormatError("XObject should be a stream");const ee=Wt.dict.get("Subtype");if(!(ee instanceof _.Name))throw new e.FormatError("XObject should have a Name subtype");if("Form"!==ee.name)return Ct.set(Ut,Wt.dict.objId,!0),void jt();const zt=j.state.clone(),ie=new E(zt),se=Wt.dict.getArray("Matrix");Array.isArray(se)&&6===se.length&&ie.transform(se),Pt();const we={enqueueInvoked:!1,enqueue(ve,bt){this.enqueueInvoked=!0,H.enqueue(ve,bt)},get desiredSize(){return H.desiredSize},get ready(){return H.ready}};ct.getTextContent({stream:Wt,task:$,resources:Wt.dict.get("Resources")||q,stateManager:ie,combineTextItems:M,includeMarkedContent:U,sink:we,seenStyles:W,viewBox:G}).then(function(){we.enqueueInvoked||Ct.set(Ut,Wt.dict.objId,!0),jt()},re)}).catch(function(jt){if(!(jt instanceof e.AbortException)){if(!ct.options.ignoreErrors)throw jt;(0,e.warn)(`getTextContent - ignoring XObject: "${jt}".`)}}));case e.OPS.setGState:if(Ut=Ot[0].name,(Qt=Ot[0]instanceof _.Name)&&At.getByName(Ut))break;return void pt(new Promise(function(jt,re){if(!Qt)throw new e.FormatError("GState must be referred to by name.");const Wt=q.get("ExtGState");if(!(Wt instanceof _.Dict))throw new e.FormatError("ExtGState should be a dictionary.");const ee=Wt.get(Ut);if(!(ee instanceof _.Dict))throw new e.FormatError("GState should be a dictionary.");const zt=ee.get("Font");zt?(Mt(),gt.fontName=null,gt.fontSize=zt[1],Ht(null,zt[0]).then(jt,re)):(At.set(Ut,ee.objId,!0),jt())}).catch(function(jt){if(!(jt instanceof e.AbortException)){if(!ct.options.ignoreErrors)throw jt;(0,e.warn)(`getTextContent - ignoring ExtGState: "${jt}".`)}}));case e.OPS.beginMarkedContent:Mt(),U&&tt.items.push({type:"beginMarkedContent",tag:Ot[0]instanceof _.Name?Ot[0].name:null});break;case e.OPS.beginMarkedContentProps:if(Mt(),U){let jt=null;Ot[1]instanceof _.Dict&&(jt=Ot[1].get("MCID")),tt.items.push({type:"beginMarkedContentProps",id:Number.isInteger(jt)?`${ct.idFactory.getPageObjId()}_mcid${jt}`:null,tag:Ot[0]instanceof _.Name?Ot[0].name:null})}break;case e.OPS.endMarkedContent:Mt(),U&&tt.items.push({type:"endMarkedContent"})}if(tt.items.length>=H.desiredSize){vt=!0;break}}vt?pt(C):(Mt(),Pt(),yt())}).catch(Tt=>{if(!(Tt instanceof e.AbortException)){if(!this.options.ignoreErrors)throw Tt;(0,e.warn)(`getTextContent - ignoring errors during "${$.name}" task: "${Tt}".`),Mt(),Pt()}})}extractDataStructures(z,$,q){const j=this.xref;let M;const U=this.readToUnicode(q.toUnicode||z.get("ToUnicode")||$.get("ToUnicode"));if(q.composite){const Y=z.get("CIDSystemInfo");Y instanceof _.Dict&&(q.cidSystemInfo={registry:(0,e.stringToPDFString)(Y.get("Registry")),ordering:(0,e.stringToPDFString)(Y.get("Ordering")),supplement:Y.get("Supplement")});try{const tt=z.get("CIDToGIDMap");tt instanceof o.BaseStream&&(M=tt.getBytes())}catch(tt){if(!this.options.ignoreErrors)throw tt;(0,e.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${tt}".`)}}const H=[];let W,G=null;if(z.has("Encoding")){if(W=z.get("Encoding"),W instanceof _.Dict){if(G=W.get("BaseEncoding"),G=G instanceof _.Name?G.name:null,W.has("Differences")){const Y=W.get("Differences");let tt=0;for(let Z=0,at=Y.length;Z<at;Z++){const st=j.fetchIfRef(Y[Z]);if("number"==typeof st)tt=st;else{if(!(st instanceof _.Name))throw new e.FormatError(`Invalid entry in 'Differences' array: ${st}`);H[tt++]=st.name}}}}else if(W instanceof _.Name)G=W.name;else{const Y="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new e.FormatError(Y);(0,e.warn)(Y)}"MacRomanEncoding"!==G&&"MacExpertEncoding"!==G&&"WinAnsiEncoding"!==G&&(G=null)}return G?q.defaultEncoding=(0,u.getEncoding)(G):(W=u.StandardEncoding,"TrueType"!==q.type||!!(q.flags&t.FontFlags.Nonsymbolic)||(W=u.WinAnsiEncoding),!!(q.flags&t.FontFlags.Symbolic)&&(W=u.MacRomanEncoding,q.file&&!q.isInternalFont||(/Symbol/i.test(q.name)?W=u.SymbolSetEncoding:/Dingbats|Wingdings/i.test(q.name)&&(W=u.ZapfDingbatsEncoding))),q.defaultEncoding=W),q.differences=H,q.baseEncodingName=G,q.hasEncoding=!!G||H.length>0,q.dict=z,U.then(Y=>(q.toUnicode=Y,this.buildToUnicode(q))).then(Y=>(q.toUnicode=Y,M&&(q.cidToGidMap=this.readCidToGidMap(M,Y)),q))}_simpleFontToUnicode(z,$=!1){(0,e.assert)(!z.composite,"Must be a simple font.");const q=[],j=z.defaultEncoding.slice(),M=z.baseEncodingName,U=z.differences;for(const W in U){const G=U[W];".notdef"!==G&&(j[W]=G)}const H=(0,B.getGlyphsUnicode)();for(const W in j){let G=j[W];if(""!==G)if(void 0!==H[G])q[W]=String.fromCharCode(H[G]);else{let Y=0;switch(G[0]){case"G":3===G.length&&(Y=parseInt(G.substring(1),16));break;case"g":5===G.length&&(Y=parseInt(G.substring(1),16));break;case"C":case"c":if(G.length>=3&&G.length<=4){const Z=G.substring(1);if($){Y=parseInt(Z,16);break}if(Y=+Z,Number.isNaN(Y)&&Number.isInteger(parseInt(Z,16)))return this._simpleFontToUnicode(z,!0)}break;default:const tt=(0,w.getUnicodeForGlyph)(G,H);-1!==tt&&(Y=tt)}if(Y>0&&Y<=1114111&&Number.isInteger(Y)){if(M&&Y===+W){const tt=(0,u.getEncoding)(M);if(tt&&(G=tt[W])){q[W]=String.fromCharCode(H[G]);continue}}q[W]=String.fromCodePoint(Y)}}}return q}async buildToUnicode(z){if(z.hasIncludedToUnicodeMap=!!z.toUnicode&&z.toUnicode.length>0,z.hasIncludedToUnicodeMap)return!z.composite&&z.hasEncoding&&(z.fallbackToUnicode=this._simpleFontToUnicode(z)),z.toUnicode;if(!z.composite)return new i.ToUnicodeMap(this._simpleFontToUnicode(z));if(z.composite&&(z.cMap.builtInCMap&&!(z.cMap instanceof d.IdentityCMap)||"Adobe"===z.cidSystemInfo.registry&&("GB1"===z.cidSystemInfo.ordering||"CNS1"===z.cidSystemInfo.ordering||"Japan1"===z.cidSystemInfo.ordering||"Korea1"===z.cidSystemInfo.ordering))){const{registry:$,ordering:q}=z.cidSystemInfo,j=_.Name.get(`${$}-${q}-UCS2`),M=await d.CMapFactory.create({encoding:j,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),U=[];return z.cMap.forEach(function(H,W){if(W>65535)throw new e.FormatError("Max size of CID is 65,535");const G=M.lookup(W);G&&(U[H]=String.fromCharCode((G.charCodeAt(0)<<8)+G.charCodeAt(1)))}),new i.ToUnicodeMap(U)}return new i.IdentityToUnicodeMap(z.firstChar,z.lastChar)}readToUnicode(z){return z?z instanceof _.Name?d.CMapFactory.create({encoding:z,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function($){return $ instanceof d.IdentityCMap?new i.IdentityToUnicodeMap(0,65535):new i.ToUnicodeMap($.getMap())}):z instanceof o.BaseStream?d.CMapFactory.create({encoding:z,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function($){if($ instanceof d.IdentityCMap)return new i.IdentityToUnicodeMap(0,65535);const q=new Array($.length);return $.forEach(function(j,M){if("number"==typeof M)return void(q[j]=String.fromCodePoint(M));const U=[];for(let H=0;H<M.length;H+=2){const W=M.charCodeAt(H)<<8|M.charCodeAt(H+1);if(55296!=(63488&W)){U.push(W);continue}H+=2;const G=M.charCodeAt(H)<<8|M.charCodeAt(H+1);U.push(((1023&W)<<10)+(1023&G)+65536)}q[j]=String.fromCodePoint(...U)}),new i.ToUnicodeMap(q)},$=>{if($ instanceof e.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:e.UNSUPPORTED_FEATURES.errorFontToUnicode}),(0,e.warn)(`readToUnicode - ignoring ToUnicode data: "${$}".`),null;throw $}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(z,$){const q=[];for(let j=0,M=z.length;j<M;j++){const U=z[j++]<<8|z[j],H=j>>1;(0!==U||$.has(H))&&(q[H]=U)}return q}extractWidths(z,$,q){const j=this.xref;let M=[],U=0;const H=[];let W,G,Y,tt,Z,at,st,nt;if(q.composite){if(U=z.has("DW")?z.get("DW"):1e3,nt=z.get("W"),nt)for(G=0,Y=nt.length;G<Y;G++)if(at=j.fetchIfRef(nt[G++]),st=j.fetchIfRef(nt[G]),Array.isArray(st))for(tt=0,Z=st.length;tt<Z;tt++)M[at++]=j.fetchIfRef(st[tt]);else{const ht=j.fetchIfRef(nt[++G]);for(tt=at;tt<=st;tt++)M[tt]=ht}if(q.vertical){let ht=z.getArray("DW2")||[880,-1e3];if(W=[ht[1],.5*U,ht[0]],ht=z.get("W2"),ht)for(G=0,Y=ht.length;G<Y;G++)if(at=j.fetchIfRef(ht[G++]),st=j.fetchIfRef(ht[G]),Array.isArray(st))for(tt=0,Z=st.length;tt<Z;tt++)H[at++]=[j.fetchIfRef(st[tt++]),j.fetchIfRef(st[tt++]),j.fetchIfRef(st[tt])];else{const ft=[j.fetchIfRef(ht[++G]),j.fetchIfRef(ht[++G]),j.fetchIfRef(ht[++G])];for(tt=at;tt<=st;tt++)H[tt]=ft}}}else{const ht=q.firstChar;if(nt=z.get("Widths"),nt){for(tt=ht,G=0,Y=nt.length;G<Y;G++)M[tt++]=j.fetchIfRef(nt[G]);U=parseFloat($.get("MissingWidth"))||0}else{const ft=z.get("BaseFont");if(ft instanceof _.Name){const mt=this.getBaseFontMetrics(ft.name);M=this.buildCharCodeToWidth(mt.widths,q),U=mt.defaultWidth}}}let ot=!0,ct=U;for(const ht in M){const ft=M[ht];if(ft)if(ct){if(ct!==ft){ot=!1;break}}else ct=ft}ot&&(q.flags|=t.FontFlags.FixedPitch),q.defaultWidth=U,q.widths=M,q.defaultVMetrics=W,q.vmetrics=H}isSerifFont(z){const $=z.split("-")[0];return $ in(0,I.getSerifFonts)()||-1!==$.search(/serif/gi)}getBaseFontMetrics(z){let $=0,q=Object.create(null),j=!1,M=(0,I.getStdFontMap)()[z]||z;const U=(0,y.getMetrics)();M in U||(M=this.isSerifFont(z)?"Times-Roman":"Helvetica");const H=U[M];return"number"==typeof H?($=H,j=!0):q=H(),{defaultWidth:$,monospace:j,widths:q}}buildCharCodeToWidth(z,$){const q=Object.create(null),j=$.differences,M=$.defaultEncoding;for(let U=0;U<256;U++)U in j&&z[j[U]]?q[U]=z[j[U]]:U in M&&z[M[U]]&&(q[U]=z[M[U]]);return q}preEvaluateFont(z){const $=z;let q=z.get("Subtype");if(!(q instanceof _.Name))throw new e.FormatError("invalid font Subtype");let j,M,U=!1;if("Type0"===q.name){const Y=z.get("DescendantFonts");if(!Y)throw new e.FormatError("Descendant fonts are not specified");if(!((z=Array.isArray(Y)?this.xref.fetchIfRef(Y[0]):Y)instanceof _.Dict))throw new e.FormatError("Descendant font is not a dictionary.");if(q=z.get("Subtype"),!(q instanceof _.Name))throw new e.FormatError("invalid font Subtype");U=!0}const H=z.get("FirstChar")||0,W=z.get("LastChar")||(U?65535:255),G=z.get("FontDescriptor");if(G){j=new g.MurmurHash3_64;const Y=$.getRaw("Encoding");if(Y instanceof _.Name)j.update(Y.name);else if(Y instanceof _.Ref)j.update(Y.toString());else if(Y instanceof _.Dict)for(const Z of Y.getRawValues())if(Z instanceof _.Name)j.update(Z.name);else if(Z instanceof _.Ref)j.update(Z.toString());else if(Array.isArray(Z)){const at=Z.length,st=new Array(at);for(let nt=0;nt<at;nt++){const ot=Z[nt];ot instanceof _.Name?st[nt]=ot.name:("number"==typeof ot||ot instanceof _.Ref)&&(st[nt]=ot.toString())}j.update(st.join())}if(j.update(`${H}-${W}`),M=z.get("ToUnicode")||$.get("ToUnicode"),M instanceof o.BaseStream){const Z=M.str||M,at=Z.buffer?new Uint8Array(Z.buffer.buffer,0,Z.bufferLength):new Uint8Array(Z.bytes.buffer,Z.start,Z.end-Z.start);j.update(at)}else M instanceof _.Name&&j.update(M.name);const tt=z.get("Widths")||$.get("Widths");if(Array.isArray(tt)){const Z=[];for(const at of tt)("number"==typeof at||at instanceof _.Ref)&&Z.push(at.toString());j.update(Z.join())}if(U){j.update("compositeFont");const Z=z.get("W")||$.get("W");if(Array.isArray(Z)){const st=[];for(const nt of Z)if("number"==typeof nt||nt instanceof _.Ref)st.push(nt.toString());else if(Array.isArray(nt)){const ot=[];for(const ct of nt)("number"==typeof ct||ct instanceof _.Ref)&&ot.push(ct.toString());st.push(`[${ot.join()}]`)}j.update(st.join())}const at=z.getRaw("CIDToGIDMap")||$.getRaw("CIDToGIDMap");at instanceof _.Name?j.update(at.name):at instanceof _.Ref?j.update(at.toString()):at instanceof o.BaseStream&&j.update(at.peekBytes())}}return{descriptor:G,dict:z,baseDict:$,composite:U,type:q.name,firstChar:H,lastChar:W,toUnicode:M,hash:j?j.hexdigest():""}}async translateFont({descriptor:z,dict:$,baseDict:q,composite:j,type:M,firstChar:U,lastChar:H,toUnicode:W,cssFontInfo:G}){const Y="Type3"===M;let tt;if(!z){if(!Y){let At=$.get("BaseFont");if(!(At instanceof _.Name))throw new e.FormatError("Base font is not specified");At=At.name.replace(/[,_]/g,"-");const Ft=this.getBaseFontMetrics(At),gt=At.split("-")[0],Bt=(this.isSerifFont(gt)?t.FontFlags.Serif:0)|(Ft.monospace?t.FontFlags.FixedPitch:0)|((0,I.getSymbolsFonts)()[gt]?t.FontFlags.Symbolic:t.FontFlags.Nonsymbolic);tt={type:M,name:At,loadedName:q.loadedName,widths:Ft.widths,defaultWidth:Ft.defaultWidth,isSimulatedFlags:!0,flags:Bt,firstChar:U,lastChar:H,toUnicode:W,xHeight:0,capHeight:0,italicAngle:0,isType3Font:Y};const qt=$.get("Widths"),Nt=(0,I.getStandardFontName)(At);let Ht=null;return Nt&&(tt.isStandardFont=!0,Ht=await this.fetchStandardFontData(Nt),tt.isInternalFont=!!Ht),this.extractDataStructures($,$,tt).then(Vt=>{if(qt){const ae=[];let Zt=U;for(let Rt=0,_t=qt.length;Rt<_t;Rt++)ae[Zt++]=this.xref.fetchIfRef(qt[Rt]);Vt.widths=ae}else Vt.widths=this.buildCharCodeToWidth(Ft.widths,Vt);return new S.Font(At,Ht,Vt)})}(z=new _.Dict(null)).set("FontName",_.Name.get(M)),z.set("FontBBox",$.getArray("FontBBox")||[0,0,0,0])}let Z,at,st,nt,ot,ct=z.get("FontName"),ht=$.get("BaseFont");if("string"==typeof ct&&(ct=_.Name.get(ct)),"string"==typeof ht&&(ht=_.Name.get(ht)),!Y){const At=ct&&ct.name,Ft=ht&&ht.name;At!==Ft&&((0,e.info)(`The FontDescriptor's FontName is "${At}" but should be the same as the Font's BaseFont "${Ft}".`),At&&Ft&&Ft.startsWith(At)&&(ct=ht))}if(ct=ct||ht,!(ct instanceof _.Name))throw new e.FormatError("invalid font name");try{Z=z.get("FontFile","FontFile2","FontFile3")}catch(At){if(!this.options.ignoreErrors)throw At;(0,e.warn)(`translateFont - fetching "${ct.name}" font file: "${At}".`),Z=new n.NullStream}let ft=!1,mt=!1,Ct=null;if(Z){if(Z.dict){const At=Z.dict.get("Subtype");At instanceof _.Name&&(at=At.name),st=Z.dict.get("Length1"),nt=Z.dict.get("Length2"),ot=Z.dict.get("Length3")}}else if(G){const At=(0,s.getXfaFontName)(ct.name);At&&(G.fontFamily=`${G.fontFamily}-PdfJS-XFA`,G.metrics=At.metrics||null,Ct=At.factors||null,Z=await this.fetchStandardFontData(At.name),mt=!!Z,q=$=(0,s.getXfaFontDict)(ct.name),j=!0)}else if(!Y){const At=(0,I.getStandardFontName)(ct.name);At&&(ft=!0,Z=await this.fetchStandardFontData(At),mt=!!Z)}if(tt={type:M,name:ct.name,subtype:at,file:Z,length1:st,length2:nt,length3:ot,isStandardFont:ft,isInternalFont:mt,loadedName:q.loadedName,composite:j,fixedPitch:!1,fontMatrix:$.getArray("FontMatrix")||e.FONT_IDENTITY_MATRIX,firstChar:U,lastChar:H,toUnicode:W,bbox:z.getArray("FontBBox")||$.getArray("FontBBox"),ascent:z.get("Ascent"),descent:z.get("Descent"),xHeight:z.get("XHeight")||0,capHeight:z.get("CapHeight")||0,flags:z.get("Flags"),italicAngle:z.get("ItalicAngle")||0,isType3Font:Y,cssFontInfo:G,scaleFactors:Ct},j){const At=q.get("Encoding");At instanceof _.Name&&(tt.cidEncoding=At.name);const Ft=await d.CMapFactory.create({encoding:At,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});tt.cMap=Ft,tt.vertical=tt.cMap.vertical}return this.extractDataStructures($,q,tt).then(At=>(this.extractWidths($,z,At),new S.Font(ct.name,Z,At)))}static buildFontPaths(z,$,q,j){function M(U){const H=`${z.loadedName}_path_${U}`;try{if(z.renderer.hasBuiltPath(U))return;q.send("commonobj",[H,"FontPath",z.renderer.getPathJs(U)])}catch(W){if(j.ignoreErrors)return q.send("UnsupportedFeature",{featureId:e.UNSUPPORTED_FEATURES.errorFontBuildPath}),void(0,e.warn)(`buildFontPaths - ignoring ${H} glyph: "${W}".`);throw W}}for(const U of $){M(U.fontChar);const H=U.accent;H&&H.fontChar&&M(H.fontChar)}}static get fallbackFontDict(){const z=new _.Dict;return z.set("BaseFont",_.Name.get("PDFJS-FallbackFont")),z.set("Type",_.Name.get("FallbackType")),z.set("Subtype",_.Name.get("FallbackType")),z.set("Encoding",_.Name.get("WinAnsiEncoding")),(0,e.shadow)(this,"fallbackFontDict",z)}}v.PartialEvaluator=F;class N{constructor({loadedName:z,font:$,dict:q,evaluatorOptions:j}){this.loadedName=z,this.font=$,this.dict=q,this._evaluatorOptions=j||P,this.type3Loaded=null,this.type3Dependencies=$.isType3Font?new Set:null,this.sent=!1}send(z){this.sent||(this.sent=!0,z.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(z){this.font.data&&(this.font.disableFontFace=!0,F.buildFontPaths(this.font,this.font.glyphCacheValues,z,this._evaluatorOptions))}loadType3Data(z,$,q){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const j=z.clone({ignoreErrors:!1});j.parsingType3Font=!0;const M=new _.RefSet(z.type3FontRefs);this.dict.objId&&!M.has(this.dict.objId)&&M.put(this.dict.objId),j.type3FontRefs=M;const U=this.font,H=this.type3Dependencies;let W=Promise.resolve();const G=this.dict.get("CharProcs"),Y=this.dict.get("Resources")||$,tt=Object.create(null),Z=e.Util.normalizeRect(U.bbox||[0,0,0,0]),nt=Math.hypot(Z[2]-Z[0],Z[3]-Z[1]);for(const ot of G.getKeys())W=W.then(()=>{const ct=G.get(ot),ht=new r.OperatorList;return j.getOperatorList({stream:ct,task:q,resources:Y,operatorList:ht}).then(()=>{ht.fnArray[0]===e.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(ht,nt),tt[ot]=ht.getIR();for(const ft of ht.dependencies)H.add(ft)}).catch(function(ft){(0,e.warn)(`Type3 font resource "${ot}" is not available.`);const mt=new r.OperatorList;tt[ot]=mt.getIR()})});return this.type3Loaded=W.then(()=>{U.charProcOperatorList=tt,this._bbox&&(U.isCharBBox=!0,U.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(z,$=NaN){const q=e.Util.normalizeRect(z.argsArray[0].slice(2)),j=q[2]-q[0],M=q[3]-q[1],U=Math.hypot(j,M);0===j||0===M?(z.fnArray.splice(0,1),z.argsArray.splice(0,1)):(0===$||Math.round(U/$)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],q[0]),this._bbox[1]=Math.min(this._bbox[1],q[1]),this._bbox[2]=Math.max(this._bbox[2],q[2]),this._bbox[3]=Math.max(this._bbox[3],q[3]));let H=0,W=z.length;for(;H<W;){switch(z.fnArray[H]){case e.OPS.setCharWidthAndBounds:break;case e.OPS.setStrokeColorSpace:case e.OPS.setFillColorSpace:case e.OPS.setStrokeColor:case e.OPS.setStrokeColorN:case e.OPS.setFillColor:case e.OPS.setFillColorN:case e.OPS.setStrokeGray:case e.OPS.setFillGray:case e.OPS.setStrokeRGBColor:case e.OPS.setFillRGBColor:case e.OPS.setStrokeCMYKColor:case e.OPS.setFillCMYKColor:case e.OPS.shadingFill:case e.OPS.setRenderingIntent:z.fnArray.splice(H,1),z.argsArray.splice(H,1),W--;continue;case e.OPS.setGState:const[G]=z.argsArray[H];let Y=0,tt=G.length;for(;Y<tt;){const[Z]=G[Y];switch(Z){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":G.splice(Y,1),tt--;continue}Y++}}H++}}}class E{constructor(z=new X){this.state=z,this.stateStack=[]}save(){const z=this.state;this.stateStack.push(this.state),this.state=z.clone()}restore(){const z=this.stateStack.pop();z&&(this.state=z)}transform(z){this.state.ctm=e.Util.transform(this.state.ctm,z)}}class L{constructor(){this.ctm=new Float32Array(e.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.font=null,this.fontMatrix=e.FONT_IDENTITY_MATRIX,this.textMatrix=e.IDENTITY_MATRIX.slice(),this.textLineMatrix=e.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(z,$,q,j,M,U){const H=this.textMatrix;H[0]=z,H[1]=$,H[2]=q,H[3]=j,H[4]=M,H[5]=U}setTextLineMatrix(z,$,q,j,M,U){const H=this.textLineMatrix;H[0]=z,H[1]=$,H[2]=q,H[3]=j,H[4]=M,H[5]=U}translateTextMatrix(z,$){const q=this.textMatrix;q[4]=q[0]*z+q[2]*$+q[4],q[5]=q[1]*z+q[3]*$+q[5]}translateTextLineMatrix(z,$){const q=this.textLineMatrix;q[4]=q[0]*z+q[2]*$+q[4],q[5]=q[1]*z+q[3]*$+q[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const z=Object.create(this);return z.textMatrix=this.textMatrix.slice(),z.textLineMatrix=this.textLineMatrix.slice(),z.fontMatrix=this.fontMatrix.slice(),z}}class X{constructor(){this.ctm=new Float32Array(e.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=e.TextRenderingMode.FILL,this.fillColorSpace=m.ColorSpace.singletons.gray,this.strokeColorSpace=m.ColorSpace.singletons.gray}clone(){return Object.create(this)}}class V{static get opMap(){const z=(0,h.getLookupTableFactory)(function($){$.w={id:e.OPS.setLineWidth,numArgs:1,variableArgs:!1},$.J={id:e.OPS.setLineCap,numArgs:1,variableArgs:!1},$.j={id:e.OPS.setLineJoin,numArgs:1,variableArgs:!1},$.M={id:e.OPS.setMiterLimit,numArgs:1,variableArgs:!1},$.d={id:e.OPS.setDash,numArgs:2,variableArgs:!1},$.ri={id:e.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},$.i={id:e.OPS.setFlatness,numArgs:1,variableArgs:!1},$.gs={id:e.OPS.setGState,numArgs:1,variableArgs:!1},$.q={id:e.OPS.save,numArgs:0,variableArgs:!1},$.Q={id:e.OPS.restore,numArgs:0,variableArgs:!1},$.cm={id:e.OPS.transform,numArgs:6,variableArgs:!1},$.m={id:e.OPS.moveTo,numArgs:2,variableArgs:!1},$.l={id:e.OPS.lineTo,numArgs:2,variableArgs:!1},$.c={id:e.OPS.curveTo,numArgs:6,variableArgs:!1},$.v={id:e.OPS.curveTo2,numArgs:4,variableArgs:!1},$.y={id:e.OPS.curveTo3,numArgs:4,variableArgs:!1},$.h={id:e.OPS.closePath,numArgs:0,variableArgs:!1},$.re={id:e.OPS.rectangle,numArgs:4,variableArgs:!1},$.S={id:e.OPS.stroke,numArgs:0,variableArgs:!1},$.s={id:e.OPS.closeStroke,numArgs:0,variableArgs:!1},$.f={id:e.OPS.fill,numArgs:0,variableArgs:!1},$.F={id:e.OPS.fill,numArgs:0,variableArgs:!1},$["f*"]={id:e.OPS.eoFill,numArgs:0,variableArgs:!1},$.B={id:e.OPS.fillStroke,numArgs:0,variableArgs:!1},$["B*"]={id:e.OPS.eoFillStroke,numArgs:0,variableArgs:!1},$.b={id:e.OPS.closeFillStroke,numArgs:0,variableArgs:!1},$["b*"]={id:e.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},$.n={id:e.OPS.endPath,numArgs:0,variableArgs:!1},$.W={id:e.OPS.clip,numArgs:0,variableArgs:!1},$["W*"]={id:e.OPS.eoClip,numArgs:0,variableArgs:!1},$.BT={id:e.OPS.beginText,numArgs:0,variableArgs:!1},$.ET={id:e.OPS.endText,numArgs:0,variableArgs:!1},$.Tc={id:e.OPS.setCharSpacing,numArgs:1,variableArgs:!1},$.Tw={id:e.OPS.setWordSpacing,numArgs:1,variableArgs:!1},$.Tz={id:e.OPS.setHScale,numArgs:1,variableArgs:!1},$.TL={id:e.OPS.setLeading,numArgs:1,variableArgs:!1},$.Tf={id:e.OPS.setFont,numArgs:2,variableArgs:!1},$.Tr={id:e.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},$.Ts={id:e.OPS.setTextRise,numArgs:1,variableArgs:!1},$.Td={id:e.OPS.moveText,numArgs:2,variableArgs:!1},$.TD={id:e.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},$.Tm={id:e.OPS.setTextMatrix,numArgs:6,variableArgs:!1},$["T*"]={id:e.OPS.nextLine,numArgs:0,variableArgs:!1},$.Tj={id:e.OPS.showText,numArgs:1,variableArgs:!1},$.TJ={id:e.OPS.showSpacedText,numArgs:1,variableArgs:!1},$["'"]={id:e.OPS.nextLineShowText,numArgs:1,variableArgs:!1},$['"']={id:e.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},$.d0={id:e.OPS.setCharWidth,numArgs:2,variableArgs:!1},$.d1={id:e.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},$.CS={id:e.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},$.cs={id:e.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},$.SC={id:e.OPS.setStrokeColor,numArgs:4,variableArgs:!0},$.SCN={id:e.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},$.sc={id:e.OPS.setFillColor,numArgs:4,variableArgs:!0},$.scn={id:e.OPS.setFillColorN,numArgs:33,variableArgs:!0},$.G={id:e.OPS.setStrokeGray,numArgs:1,variableArgs:!1},$.g={id:e.OPS.setFillGray,numArgs:1,variableArgs:!1},$.RG={id:e.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},$.rg={id:e.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},$.K={id:e.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},$.k={id:e.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},$.sh={id:e.OPS.shadingFill,numArgs:1,variableArgs:!1},$.BI={id:e.OPS.beginInlineImage,numArgs:0,variableArgs:!1},$.ID={id:e.OPS.beginImageData,numArgs:0,variableArgs:!1},$.EI={id:e.OPS.endInlineImage,numArgs:1,variableArgs:!1},$.Do={id:e.OPS.paintXObject,numArgs:1,variableArgs:!1},$.MP={id:e.OPS.markPoint,numArgs:1,variableArgs:!1},$.DP={id:e.OPS.markPointProps,numArgs:2,variableArgs:!1},$.BMC={id:e.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},$.BDC={id:e.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},$.EMC={id:e.OPS.endMarkedContent,numArgs:0,variableArgs:!1},$.BX={id:e.OPS.beginCompat,numArgs:0,variableArgs:!1},$.EX={id:e.OPS.endCompat,numArgs:0,variableArgs:!1},$.BM=null,$.BD=null,$.true=null,$.fa=null,$.fal=null,$.fals=null,$.false=null,$.nu=null,$.nul=null,$.null=null});return(0,e.shadow)(this,"opMap",z())}static get MAX_INVALID_PATH_OPS(){return(0,e.shadow)(this,"MAX_INVALID_PATH_OPS",10)}constructor(z,$,q=new E){this.parser=new f.Parser({lexer:new f.Lexer(z,V.opMap),xref:$}),this.stateManager=q,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(z){let $=z.args;for(;;){const q=this.parser.getObj();if(q instanceof _.Cmd){const j=q.cmd,M=V.opMap[j];if(!M){(0,e.warn)(`Unknown command "${j}".`);continue}const U=M.id,H=M.numArgs;let W=null!==$?$.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=U>=e.OPS.moveTo&&U<=e.OPS.endPath,M.variableArgs)W>H&&(0,e.info)(`Command ${j}: expected [0, ${H}] args, but received ${W} args.`);else{if(W!==H){const G=this.nonProcessedArgs;for(;W>H;)G.push($.shift()),W--;for(;W<H&&0!==G.length;)null===$&&($=[]),$.unshift(G.pop()),W++}if(W<H){const G=`command ${j}: expected ${H} args, but received ${W} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>V.MAX_INVALID_PATH_OPS)throw new e.FormatError(`Invalid ${G}`);(0,e.warn)(`Skipping ${G}`),null!==$&&($.length=0);continue}}return this.preprocessCommand(U,$),z.fn=U,z.args=$,!0}if(q===_.EOF)return!1;if(null!==q&&(null===$&&($=[]),$.push(q),$.length>33))throw new e.FormatError("Too many arguments")}}preprocessCommand(z,$){switch(0|z){case e.OPS.save:this.stateManager.save();break;case e.OPS.restore:this.stateManager.restore();break;case e.OPS.transform:this.stateManager.transform($)}}}v.EvaluatorPreprocessor=V},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.IdentityCMap=v.CMapFactory=v.CMap=void 0;var e=K(2),d=K(5),_=K(7),S=K(17),t=K(6),u=K(10);const I=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],w=2**24-1;class k{constructor(l=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=l}addCodespaceRange(l,n,o){this.codespaceRanges[l-1].push(n,o),this.numCodespaceRanges++}mapCidRange(l,n,o){if(n-l>w)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;l<=n;)this._map[l++]=o++}mapBfRange(l,n,o){if(n-l>w)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const D=o.length-1;for(;l<=n;){this._map[l++]=o;const m=o.charCodeAt(D)+1;o=m>255?o.substring(0,D-1)+String.fromCharCode(o.charCodeAt(D-1)+1)+"\0":o.substring(0,D)+String.fromCharCode(m)}}mapBfRangeToArray(l,n,o){if(n-l>w)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const D=o.length;let m=0;for(;l<=n&&m<D;)this._map[l]=o[m++],++l}mapOne(l,n){this._map[l]=n}lookup(l){return this._map[l]}contains(l){return void 0!==this._map[l]}forEach(l){const n=this._map,o=n.length;if(o<=65536)for(let D=0;D<o;D++)void 0!==n[D]&&l(D,n[D]);else for(const D in n)l(D,n[D])}charCodeOf(l){const n=this._map;if(n.length<=65536)return n.indexOf(l);for(const o in n)if(n[o]===l)return 0|o;return-1}getMap(){return this._map}readCharCode(l,n,o){let D=0;const m=this.codespaceRanges;for(let O=0,B=m.length;O<B;O++){D=(D<<8|l.charCodeAt(n+O))>>>0;const h=m[O];for(let y=0,g=h.length;y<g;){const r=h[y++],c=h[y++];if(D>=r&&D<=c)return o.charcode=D,void(o.length=O+1)}}o.charcode=0,o.length=1}getCharCodeLength(l){const n=this.codespaceRanges;for(let o=0,D=n.length;o<D;o++){const m=n[o];for(let O=0,B=m.length;O<B;){const h=m[O++],y=m[O++];if(l>=h&&l<=y)return o+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if("Identity-H"!==this.name&&"Identity-V"!==this.name||65536!==this._map.length)return!1;for(let l=0;l<65536;l++)if(this._map[l]!==l)return!1;return!0}}v.CMap=k;class s extends k{constructor(l,n){super(),this.vertical=l,this.addCodespaceRange(n,0,65535)}mapCidRange(l,n,o){(0,e.unreachable)("should not call mapCidRange")}mapBfRange(l,n,o){(0,e.unreachable)("should not call mapBfRange")}mapBfRangeToArray(l,n,o){(0,e.unreachable)("should not call mapBfRangeToArray")}mapOne(l,n){(0,e.unreachable)("should not call mapCidOne")}lookup(l){return Number.isInteger(l)&&l<=65535?l:void 0}contains(l){return Number.isInteger(l)&&l<=65535}forEach(l){for(let n=0;n<=65535;n++)l(n,n)}charCodeOf(l){return Number.isInteger(l)&&l<=65535?l:-1}getMap(){const l=new Array(65536);for(let n=0;n<=65535;n++)l[n]=n;return l}get length(){return 65536}get isIdentityCMap(){(0,e.unreachable)("should not access .isIdentityCMap")}}v.IdentityCMap=s;const i=function(){function l(B,h){let y=0;for(let g=0;g<=h;g++)y=y<<8|B[g];return y>>>0}function n(B,h){return 1===h?String.fromCharCode(B[0],B[1]):3===h?String.fromCharCode(B[0],B[1],B[2],B[3]):String.fromCharCode.apply(null,B.subarray(0,h+1))}function o(B,h,y){let g=0;for(let r=y;r>=0;r--)g+=B[r]+h[r],B[r]=255&g,g>>=8}function D(B,h){let y=1;for(let g=h;g>=0&&y>0;g--)y+=B[g],B[g]=255&y,y>>=8}const m=16;class O{constructor(h){this.buffer=h,this.pos=0,this.end=h.length,this.tmpBuf=new Uint8Array(19)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let h,y=0;do{const g=this.readByte();if(g<0)throw new e.FormatError("unexpected EOF in bcmap");h=!(128&g),y=y<<7|127&g}while(!h);return y}readSigned(){const h=this.readNumber();return 1&h?~(h>>>1):h>>>1}readHex(h,y){h.set(this.buffer.subarray(this.pos,this.pos+y+1)),this.pos+=y+1}readHexNumber(h,y){let g;const r=this.tmpBuf;let c=0;do{const C=this.readByte();if(C<0)throw new e.FormatError("unexpected EOF in bcmap");g=!(128&C),r[c++]=127&C}while(!g);let P=y,T=0,x=0;for(;P>=0;){for(;x<8&&r.length>0;)T|=r[--c]<<x,x+=7;h[P]=255&T,P--,T>>=8,x-=8}}readHexSigned(h,y){this.readHexNumber(h,y);const g=1&h[y]?255:0;let r=0;for(let c=0;c<=y;c++)r=(1&r)<<8|h[c],h[c]=r>>1^g}readString(){const h=this.readNumber();let y="";for(let g=0;g<h;g++)y+=String.fromCharCode(this.readNumber());return y}}return class{async process(h,y,g){const r=new O(h),c=r.readByte();y.vertical=!!(1&c);let P=null;const T=new Uint8Array(m),x=new Uint8Array(m),C=new Uint8Array(m),b=new Uint8Array(m),A=new Uint8Array(m);let R,F;for(;(F=r.readByte())>=0;){const N=F>>5;if(7===N){switch(31&F){case 0:r.readString();break;case 1:P=r.readString()}continue}const E=!!(16&F),L=15&F;if(L+1>m)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const X=1,V=r.readNumber();switch(N){case 0:r.readHex(T,L),r.readHexNumber(x,L),o(x,T,L),y.addCodespaceRange(L+1,l(T,L),l(x,L));for(let J=1;J<V;J++)D(x,L),r.readHexNumber(T,L),o(T,x,L),r.readHexNumber(x,L),o(x,T,L),y.addCodespaceRange(L+1,l(T,L),l(x,L));break;case 1:r.readHex(T,L),r.readHexNumber(x,L),o(x,T,L),r.readNumber();for(let J=1;J<V;J++)D(x,L),r.readHexNumber(T,L),o(T,x,L),r.readHexNumber(x,L),o(x,T,L),r.readNumber();break;case 2:r.readHex(C,L),R=r.readNumber(),y.mapOne(l(C,L),R);for(let J=1;J<V;J++)D(C,L),E||(r.readHexNumber(A,L),o(C,A,L)),R=r.readSigned()+(R+1),y.mapOne(l(C,L),R);break;case 3:r.readHex(T,L),r.readHexNumber(x,L),o(x,T,L),R=r.readNumber(),y.mapCidRange(l(T,L),l(x,L),R);for(let J=1;J<V;J++)D(x,L),E?T.set(x):(r.readHexNumber(T,L),o(T,x,L)),r.readHexNumber(x,L),o(x,T,L),R=r.readNumber(),y.mapCidRange(l(T,L),l(x,L),R);break;case 4:r.readHex(C,X),r.readHex(b,L),y.mapOne(l(C,X),n(b,L));for(let J=1;J<V;J++)D(C,X),E||(r.readHexNumber(A,X),o(C,A,X)),D(b,L),r.readHexSigned(A,L),o(b,A,L),y.mapOne(l(C,X),n(b,L));break;case 5:r.readHex(T,X),r.readHexNumber(x,X),o(x,T,X),r.readHex(b,L),y.mapBfRange(l(T,X),l(x,X),n(b,L));for(let J=1;J<V;J++)D(x,X),E?T.set(x):(r.readHexNumber(T,X),o(T,x,X)),r.readHexNumber(x,X),o(x,T,X),r.readHex(b,L),y.mapBfRange(l(T,X),l(x,X),n(b,L));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${N}`)}}return P?g(P):y}}}();v.CMapFactory=function(){function l(T){let x=0;for(let C=0;C<T.length;C++)x=x<<8|T.charCodeAt(C);return x>>>0}function n(T){if("string"!=typeof T)throw new e.FormatError("Malformed CMap: expected string.")}function o(T){if(!Number.isInteger(T))throw new e.FormatError("Malformed CMap: expected int.")}function D(T,x){for(;;){let C=x.getObj();if(C===d.EOF)break;if((0,d.isCmd)(C,"endbfchar"))return;n(C);const b=l(C);C=x.getObj(),n(C),T.mapOne(b,C)}}function m(T,x){for(;;){let C=x.getObj();if(C===d.EOF)break;if((0,d.isCmd)(C,"endbfrange"))return;n(C);const b=l(C);C=x.getObj(),n(C);const A=l(C);if(C=x.getObj(),Number.isInteger(C)||"string"==typeof C){const R=Number.isInteger(C)?String.fromCharCode(C):C;T.mapBfRange(b,A,R)}else{if(!(0,d.isCmd)(C,"["))break;{C=x.getObj();const R=[];for(;!(0,d.isCmd)(C,"]")&&C!==d.EOF;)R.push(C),C=x.getObj();T.mapBfRangeToArray(b,A,R)}}}throw new e.FormatError("Invalid bf range.")}function O(T,x){for(;;){let C=x.getObj();if(C===d.EOF)break;if((0,d.isCmd)(C,"endcidchar"))return;n(C);const b=l(C);C=x.getObj(),o(C),T.mapOne(b,C)}}function B(T,x){for(;;){let C=x.getObj();if(C===d.EOF)break;if((0,d.isCmd)(C,"endcidrange"))return;n(C);const b=l(C);C=x.getObj(),n(C);const A=l(C);C=x.getObj(),o(C),T.mapCidRange(b,A,C)}}function h(T,x){for(;;){let C=x.getObj();if(C===d.EOF)break;if((0,d.isCmd)(C,"endcodespacerange"))return;if("string"!=typeof C)break;const b=l(C);if(C=x.getObj(),"string"!=typeof C)break;const A=l(C);T.addCodespaceRange(C.length,b,A)}throw new e.FormatError("Invalid codespace range.")}function y(T,x){const C=x.getObj();Number.isInteger(C)&&(T.vertical=!!C)}function g(T,x){const C=x.getObj();C instanceof d.Name&&(T.name=C.name)}async function r(T,x,C,b){let A,R;t:for(;;)try{const F=x.getObj();if(F===d.EOF)break;if(F instanceof d.Name)"WMode"===F.name?y(T,x):"CMapName"===F.name&&g(T,x),A=F;else if(F instanceof d.Cmd)switch(F.cmd){case"endcmap":break t;case"usecmap":A instanceof d.Name&&(R=A.name);break;case"begincodespacerange":h(T,x);break;case"beginbfchar":D(T,x);break;case"begincidchar":O(T,x);break;case"beginbfrange":m(T,x);break;case"begincidrange":B(T,x)}}catch(F){if(F instanceof t.MissingDataException)throw F;(0,e.warn)("Invalid cMap data: "+F);continue}return!b&&R&&(b=R),b?c(T,C,b):T}async function c(T,x,C){if(T.useCMap=await P(C,x),0===T.numCodespaceRanges){const b=T.useCMap.codespaceRanges;for(let A=0;A<b.length;A++)T.codespaceRanges[A]=b[A].slice();T.numCodespaceRanges=T.useCMap.numCodespaceRanges}return T.useCMap.forEach(function(b,A){T.contains(b)||T.mapOne(b,T.useCMap.lookup(b))}),T}async function P(T,x){if("Identity-H"===T)return new s(!1,2);if("Identity-V"===T)return new s(!0,2);if(!I.includes(T))throw new Error("Unknown CMap name: "+T);if(!x)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:C,compressionType:b}=await x(T),A=new k(!0);if(b===e.CMapCompressionType.BINARY)return(new i).process(C,A,R=>c(A,x,R));if(b===e.CMapCompressionType.NONE){const R=new S.Lexer(new u.Stream(C));return r(A,R,x,null)}throw new Error("TODO: Only BINARY/NONE CMap compression is currently supported.")}return{async create(T){const x=T.encoding,C=T.fetchBuiltInCMap,b=T.useCMap;if(x instanceof d.Name)return P(x.name,C);if(x instanceof _.BaseStream){const A=await r(new k,new S.Lexer(x),C,b);return A.isIdentityCMap?P(A.name,C):A}throw new Error("Encoding required.")}}}()},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Parser=v.Linearization=v.Lexer=void 0;var e=K(2),d=K(5),_=K(6),S=K(18),t=K(20),u=K(21),I=K(23),w=K(24),k=K(27),s=K(29),i=K(31),a=K(10),f=K(32),l=K(33);function n(B){const h=B.length;let y=1,g=0;for(let r=0;r<h;++r)y+=255&B[r],g+=y;return g%65521<<16|y%65521}class o{constructor({lexer:h,xref:y,allowStreams:g=!1,recoveryMode:r=!1}){this.lexer=h,this.xref=y,this.allowStreams=g,this.recoveryMode=r,this.imageCache=Object.create(null),this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof d.Cmd&&"ID"===this.buf2.cmd?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(h){if(h instanceof _.MissingDataException)throw h;return!1}}getObj(h=null){const y=this.buf1;if(this.shift(),y instanceof d.Cmd)switch(y.cmd){case"BI":return this.makeInlineImage(h);case"[":const g=[];for(;!(0,d.isCmd)(this.buf1,"]")&&this.buf1!==d.EOF;)g.push(this.getObj(h));if(this.buf1===d.EOF){if(this.recoveryMode)return g;throw new _.ParserEOFException("End of file inside array.")}return this.shift(),g;case"<<":const r=new d.Dict(this.xref);for(;!(0,d.isCmd)(this.buf1,">>")&&this.buf1!==d.EOF;){if(!(this.buf1 instanceof d.Name)){(0,e.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const c=this.buf1.name;if(this.shift(),this.buf1===d.EOF)break;r.set(c,this.getObj(h))}if(this.buf1===d.EOF){if(this.recoveryMode)return r;throw new _.ParserEOFException("End of file inside dictionary.")}return(0,d.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(r,h):r:(this.shift(),r);default:return y}if(Number.isInteger(y)){if(Number.isInteger(this.buf1)&&(0,d.isCmd)(this.buf2,"R")){const g=d.Ref.get(y,this.buf1);return this.shift(),this.shift(),g}return y}return"string"==typeof y&&h?h.decryptString(y):y}findDefaultInlineStreamEnd(h){const y=this.lexer,g=h.pos;let r,c,P=0;for(;-1!==(r=h.getByte());)if(0===P)P=69===r?1:0;else if(1===P)P=73===r?2:0;else if((0,e.assert)(2===P,"findDefaultInlineStreamEnd - invalid state."),32===r||10===r||13===r){c=h.pos;const x=h.peekBytes(10);for(let C=0,b=x.length;C<b;C++)if(r=x[C],(0!==r||0===x[C+1])&&10!==r&&13!==r&&(r<32||r>127)){P=0;break}if(2!==P)continue;if(y.knownCommands){const C=y.peekObj();C instanceof d.Cmd&&!y.knownCommands[C.cmd]&&(P=0)}else(0,e.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");if(2===P)break}else P=0;-1===r&&((0,e.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),c&&((0,e.warn)('... trying to recover by using the last "EI" occurrence.'),h.skip(-(h.pos-c))));let T=4;return h.skip(-T),r=h.peekByte(),h.skip(T),(0,_.isWhiteSpace)(r)||T--,h.pos-T-g}findDCTDecodeInlineStreamEnd(h){const y=h.pos;let g,r,c=!1;for(;-1!==(g=h.getByte());)if(255===g){switch(h.getByte()){case 0:break;case 255:h.skip(-1);break;case 217:c=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:r=h.getUint16(),h.skip(r>2?r-2:-2)}if(c)break}const P=h.pos-y;return-1===g?((0,e.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),h.skip(-P),this.findDefaultInlineStreamEnd(h)):(this.inlineStreamSkipEI(h),P)}findASCII85DecodeInlineStreamEnd(h){const y=h.pos;let g;for(;-1!==(g=h.getByte());)if(126===g){const c=h.pos;for(g=h.peekByte();(0,_.isWhiteSpace)(g);)h.skip(),g=h.peekByte();if(62===g){h.skip();break}if(h.pos>c){const P=h.peekBytes(2);if(69===P[0]&&73===P[1])break}}const r=h.pos-y;return-1===g?((0,e.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),h.skip(-r),this.findDefaultInlineStreamEnd(h)):(this.inlineStreamSkipEI(h),r)}findASCIIHexDecodeInlineStreamEnd(h){const y=h.pos;let g;for(;-1!==(g=h.getByte())&&62!==g;);const r=h.pos-y;return-1===g?((0,e.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),h.skip(-r),this.findDefaultInlineStreamEnd(h)):(this.inlineStreamSkipEI(h),r)}inlineStreamSkipEI(h){let y,g=0;for(;-1!==(y=h.getByte());)if(0===g)g=69===y?1:0;else if(1===g)g=73===y?2:0;else if(2===g)break}makeInlineImage(h){const y=this.lexer,g=y.stream,r=new d.Dict(this.xref);let c;for(;!(0,d.isCmd)(this.buf1,"ID")&&this.buf1!==d.EOF;){if(!(this.buf1 instanceof d.Name))throw new e.FormatError("Dictionary key must be a name object");const R=this.buf1.name;if(this.shift(),this.buf1===d.EOF)break;r.set(R,this.getObj(h))}-1!==y.beginInlineImagePos&&(c=g.pos-y.beginInlineImagePos);const P=r.get("F","Filter");let T;if(P instanceof d.Name)T=P.name;else if(Array.isArray(P)){const R=this.xref.fetchIfRef(P[0]);R instanceof d.Name&&(T=R.name)}const x=g.pos;let C;switch(T){case"DCT":case"DCTDecode":C=this.findDCTDecodeInlineStreamEnd(g);break;case"A85":case"ASCII85Decode":C=this.findASCII85DecodeInlineStreamEnd(g);break;case"AHx":case"ASCIIHexDecode":C=this.findASCIIHexDecodeInlineStreamEnd(g);break;default:C=this.findDefaultInlineStreamEnd(g)}let b,A=g.makeSubStream(x,C,r);if(C<1e3&&c<5552){const R=A.getBytes();A.reset();const F=g.pos;g.pos=y.beginInlineImagePos;const N=g.getBytes(c);g.pos=F,b=n(R)+"_"+n(N);const E=this.imageCache[b];if(void 0!==E)return this.buf2=d.Cmd.get("EI"),this.shift(),E.reset(),E}return h&&(A=h.createStream(A,C)),A=this.filter(A,r,C),A.dict=r,void 0!==b&&(A.cacheKey=`inline_${C}_${b}`,this.imageCache[b]=A),this.buf2=d.Cmd.get("EI"),this.shift(),A}_findStreamLength(h,y){const{stream:g}=this.lexer;g.pos=h;const r=y.length;for(;g.pos<g.end;){const c=g.peekBytes(2048),P=c.length-r;if(P<=0)break;let T=0;for(;T<P;){let x=0;for(;x<r&&c[T+x]===y[x];)x++;if(x>=r)return g.pos+=T,g.pos-h;T++}g.pos+=P}return-1}makeStream(h,y){const g=this.lexer;let r=g.stream;g.skipToNextLine();const c=r.pos-1;let P=h.get("Length");if(Number.isInteger(P)||((0,e.info)(`Bad length "${P&&P.toString()}" in stream.`),P=0),r.pos=c+P,g.nextChar(),this.tryShift()&&(0,d.isCmd)(this.buf2,"endstream"))this.shift();else{const T=new Uint8Array([101,110,100,115,116,114,101,97,109]);let x=this._findStreamLength(c,T);if(x<0){for(let b=1;b<=1;b++){const A=T.length-b,R=T.slice(0,A),F=this._findStreamLength(c,R);if(F>=0){const N=r.peekBytes(A+1)[A];if(!(0,_.isWhiteSpace)(N))break;(0,e.info)(`Found "${(0,e.bytesToString)(R)}" when searching for endstream command.`),x=F;break}}if(x<0)throw new e.FormatError("Missing endstream command.")}P=x,g.nextChar(),this.shift(),this.shift()}return this.shift(),r=r.makeSubStream(c,P,h),y&&(r=y.createStream(r,P)),r=this.filter(r,h,P),r.dict=h,r}filter(h,y,g){let r=y.get("F","Filter"),c=y.get("DP","DecodeParms");if(r instanceof d.Name)return Array.isArray(c)&&(0,e.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(h,r.name,g,c);let P=g;if(Array.isArray(r)){const T=r,x=c;for(let C=0,b=T.length;C<b;++C){if(r=this.xref.fetchIfRef(T[C]),!(r instanceof d.Name))throw new e.FormatError(`Bad filter name "${r}"`);c=null,Array.isArray(x)&&C in x&&(c=this.xref.fetchIfRef(x[C])),h=this.makeFilter(h,r.name,P,c),P=null}}return h}makeFilter(h,y,g,r){if(0===g)return(0,e.warn)(`Empty "${y}" stream.`),new a.NullStream;const c=this.xref.stats;try{switch(y){case"Fl":case"FlateDecode":return c.addStreamType(e.StreamType.FLATE),r?new f.PredictorStream(new I.FlateStream(h,g),g,r):new I.FlateStream(h,g);case"LZW":case"LZWDecode":c.addStreamType(e.StreamType.LZW);let P=1;return r?(r.has("EarlyChange")&&(P=r.get("EarlyChange")),new f.PredictorStream(new i.LZWStream(h,g,P),g,r)):new i.LZWStream(h,g,P);case"DCT":case"DCTDecode":return c.addStreamType(e.StreamType.DCT),new k.JpegStream(h,g,r);case"JPX":case"JPXDecode":return c.addStreamType(e.StreamType.JPX),new s.JpxStream(h,g,r);case"A85":case"ASCII85Decode":return c.addStreamType(e.StreamType.A85),new S.Ascii85Stream(h,g);case"AHx":case"ASCIIHexDecode":return c.addStreamType(e.StreamType.AHX),new t.AsciiHexStream(h,g);case"CCF":case"CCITTFaxDecode":return c.addStreamType(e.StreamType.CCF),new u.CCITTFaxStream(h,g,r);case"RL":case"RunLengthDecode":return c.addStreamType(e.StreamType.RLX),new l.RunLengthStream(h,g);case"JBIG2Decode":return c.addStreamType(e.StreamType.JBIG),new w.Jbig2Stream(h,g,r)}return(0,e.warn)(`Filter "${y}" is not supported.`),h}catch(P){if(P instanceof _.MissingDataException)throw P;return(0,e.warn)(`Invalid stream: "${P}"`),new a.NullStream}}}v.Parser=o;const D=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function m(B){return B>=48&&B<=57?15&B:B>=65&&B<=70||B>=97&&B<=102?9+(15&B):-1}class O{constructor(h,y=null){this.stream=h,this.nextChar(),this.strBuf=[],this.knownCommands=y,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let h=this.currentChar,y=!1,g=0,r=0;if(45===h?(r=-1,h=this.nextChar(),45===h&&(h=this.nextChar())):43===h&&(r=1,h=this.nextChar()),10===h||13===h)do{h=this.nextChar()}while(10===h||13===h);if(46===h&&(g=10,h=this.nextChar()),h<48||h>57){if((0,_.isWhiteSpace)(h)||-1===h){if(10===g&&0===r)return(0,e.warn)("Lexer.getNumber - treating a single decimal point as zero."),0;if(0===g&&-1===r)return(0,e.warn)("Lexer.getNumber - treating a single minus sign as zero."),0}throw new e.FormatError(`Invalid number: ${String.fromCharCode(h)} (charCode ${h})`)}r=r||1;let c=h-48,P=0,T=1;for(;(h=this.nextChar())>=0;)if(h>=48&&h<=57){const x=h-48;y?P=10*P+x:(0!==g&&(g*=10),c=10*c+x)}else if(46===h){if(0!==g)break;g=1}else if(45===h)(0,e.warn)("Badly formatted number: minus sign in the middle");else{if(69!==h&&101!==h)break;if(h=this.peekChar(),43===h||45===h)T=45===h?-1:1,this.nextChar();else if(h<48||h>57)break;y=!0}return 0!==g&&(c/=g),y&&(c*=10**(T*P)),r*c}getString(){let h=1,y=!1;const g=this.strBuf;g.length=0;let r=this.nextChar();for(;;){let c=!1;switch(0|r){case-1:(0,e.warn)("Unterminated string"),y=!0;break;case 40:++h,g.push("(");break;case 41:0==--h?(this.nextChar(),y=!0):g.push(")");break;case 92:switch(r=this.nextChar(),r){case-1:(0,e.warn)("Unterminated string"),y=!0;break;case 110:g.push("\n");break;case 114:g.push("\r");break;case 116:g.push("\t");break;case 98:g.push("\b");break;case 102:g.push("\f");break;case 92:case 40:case 41:g.push(String.fromCharCode(r));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let P=15&r;r=this.nextChar(),c=!0,r>=48&&r<=55&&(P=(P<<3)+(15&r),r=this.nextChar(),r>=48&&r<=55&&(c=!1,P=(P<<3)+(15&r))),g.push(String.fromCharCode(P));break;case 13:10===this.peekChar()&&this.nextChar();break;case 10:break;default:g.push(String.fromCharCode(r))}break;default:g.push(String.fromCharCode(r))}if(y)break;c||(r=this.nextChar())}return g.join("")}getName(){let h,y;const g=this.strBuf;for(g.length=0;(h=this.nextChar())>=0&&!D[h];)if(35===h){if(h=this.nextChar(),D[h]){(0,e.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),g.push("#");break}const r=m(h);if(-1!==r){y=h,h=this.nextChar();const c=m(h);if(-1===c){if((0,e.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(h)}) in hexadecimal number.`),g.push("#",String.fromCharCode(y)),D[h])break;g.push(String.fromCharCode(h));continue}g.push(String.fromCharCode(r<<4|c))}else g.push("#",String.fromCharCode(h))}else g.push(String.fromCharCode(h));return g.length>127&&(0,e.warn)(`Name token is longer than allowed by the spec: ${g.length}`),d.Name.get(g.join(""))}_hexStringWarn(h){5!=this._hexStringNumWarn++?this._hexStringNumWarn>5||(0,e.warn)(`getHexString - ignoring invalid character: ${h}`):(0,e.warn)("getHexString - ignoring additional invalid characters.")}getHexString(){const h=this.strBuf;h.length=0;let y,g,r=this.currentChar,c=!0;for(this._hexStringNumWarn=0;;){if(r<0){(0,e.warn)("Unterminated hex string");break}if(62===r){this.nextChar();break}if(1!==D[r]){if(c){if(y=m(r),-1===y){this._hexStringWarn(r),r=this.nextChar();continue}}else{if(g=m(r),-1===g){this._hexStringWarn(r),r=this.nextChar();continue}h.push(String.fromCharCode(y<<4|g))}c=!c,r=this.nextChar()}else r=this.nextChar()}return h.join("")}getObj(){let h=!1,y=this.currentChar;for(;;){if(y<0)return d.EOF;if(h)10!==y&&13!==y||(h=!1);else if(37===y)h=!0;else if(1!==D[y])break;y=this.nextChar()}switch(0|y){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),d.Cmd.get("[");case 93:return this.nextChar(),d.Cmd.get("]");case 60:return y=this.nextChar(),60===y?(this.nextChar(),d.Cmd.get("<<")):this.getHexString();case 62:return y=this.nextChar(),62===y?(this.nextChar(),d.Cmd.get(">>")):d.Cmd.get(">");case 123:return this.nextChar(),d.Cmd.get("{");case 125:return this.nextChar(),d.Cmd.get("}");case 41:throw this.nextChar(),new e.FormatError(`Illegal character: ${y}`)}let g=String.fromCharCode(y);if(y<32||y>127){const P=this.peekChar();if(P>=32&&P<=127)return this.nextChar(),d.Cmd.get(g)}const r=this.knownCommands;let c=r&&void 0!==r[g];for(;(y=this.nextChar())>=0&&!D[y];){const P=g+String.fromCharCode(y);if(c&&void 0===r[P])break;if(128===g.length)throw new e.FormatError(`Command token too long: ${g.length}`);g=P,c=r&&void 0!==r[g]}return"true"===g||"false"!==g&&("null"===g?null:("BI"===g&&(this.beginInlineImagePos=this.stream.pos),d.Cmd.get(g)))}peekObj(){const h=this.stream.pos,y=this.currentChar,g=this.beginInlineImagePos;let r;try{r=this.getObj()}catch(c){if(c instanceof _.MissingDataException)throw c;(0,e.warn)(`peekObj: ${c}`)}return this.stream.pos=h,this.currentChar=y,this.beginInlineImagePos=g,r}skipToNextLine(){let h=this.currentChar;for(;h>=0;){if(13===h){h=this.nextChar(),10===h&&this.nextChar();break}if(10===h){this.nextChar();break}h=this.nextChar()}}}v.Lexer=O,v.Linearization=class{static create(h){function y(b,A,R=!1){const F=b.get(A);if(Number.isInteger(F)&&(R?F>=0:F>0))return F;throw new Error(`The "${A}" parameter in the linearization dictionary is invalid.`)}const g=new o({lexer:new O(h),xref:null}),r=g.getObj(),c=g.getObj(),P=g.getObj(),T=g.getObj();let x,C;if(!(Number.isInteger(r)&&Number.isInteger(c)&&(0,d.isCmd)(P,"obj")&&T instanceof d.Dict&&"number"==typeof(x=T.get("Linearized"))&&x>0))return null;if((C=y(T,"L"))!==h.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.');return{length:C,hints:function(A){const R=A.get("H");let F;if(Array.isArray(R)&&(2===(F=R.length)||4===F)){for(let N=0;N<F;N++){const E=R[N];if(!(Number.isInteger(E)&&E>0))throw new Error(`Hint (${N}) in the linearization dictionary is invalid.`)}return R}throw new Error("Hint array in the linearization dictionary is invalid.")}(T),objectNumberFirst:y(T,"O"),endFirst:y(T,"E"),numPages:y(T,"N"),mainXRefEntriesOffset:y(T,"T"),pageFirst:T.has("P")?y(T,"P",!0):0}}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Ascii85Stream=void 0;var e=K(19),d=K(6);v.Ascii85Stream=class _ extends e.DecodeStream{constructor(t,u){u&&(u*=.8),super(u),this.str=t,this.dict=t.dict,this.input=new Uint8Array(5)}readBlock(){const t=this.str;let u=t.getByte();for(;(0,d.isWhiteSpace)(u);)u=t.getByte();if(-1===u||126===u)return void(this.eof=!0);const I=this.bufferLength;let w,k;if(122===u){for(w=this.ensureBuffer(I+4),k=0;k<4;++k)w[I+k]=0;this.bufferLength+=4}else{const s=this.input;for(s[0]=u,k=1;k<5;++k){for(u=t.getByte();(0,d.isWhiteSpace)(u);)u=t.getByte();if(s[k]=u,-1===u||126===u)break}if(w=this.ensureBuffer(I+k-1),this.bufferLength+=k-1,k<5){for(;k<5;++k)s[k]=117;this.eof=!0}let i=0;for(k=0;k<5;++k)i=85*i+(s[k]-33);for(k=3;k>=0;--k)w[I+k]=255&i,i>>=8}}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.StreamsSequenceStream=v.DecodeStream=void 0;var e=K(7),d=K(10);const _=new Uint8Array(0);class S extends e.BaseStream{constructor(u){if(super(),this._rawMinBufferLength=u||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=_,this.minBufferLength=512,u)for(;this.minBufferLength<u;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength}ensureBuffer(u){const I=this.buffer;if(u<=I.byteLength)return I;let w=this.minBufferLength;for(;w<u;)w*=2;const k=new Uint8Array(w);return k.set(I),this.buffer=k}getByte(){const u=this.pos;for(;this.bufferLength<=u;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(u){const I=this.pos;let w;if(u){for(this.ensureBuffer(I+u),w=I+u;!this.eof&&this.bufferLength<w;)this.readBlock();const k=this.bufferLength;w>k&&(w=k)}else{for(;!this.eof;)this.readBlock();w=this.bufferLength}return this.pos=w,this.buffer.subarray(I,w)}reset(){this.pos=0}makeSubStream(u,I,w=null){if(void 0===I)for(;!this.eof;)this.readBlock();else{const k=u+I;for(;this.bufferLength<=k&&!this.eof;)this.readBlock()}return new d.Stream(this.buffer,u,I,w)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}v.DecodeStream=S,v.StreamsSequenceStream=class extends S{constructor(u,I=null){let w=0;for(const k of u)w+=k instanceof S?k._rawMinBufferLength:k.length;super(w),this.streams=u,this._onError=I}readBlock(){const u=this.streams;if(0===u.length)return void(this.eof=!0);const I=u.shift();let w;try{w=I.getBytes()}catch(i){if(this._onError)return void this._onError(i,I.dict&&I.dict.objId);throw i}const k=this.bufferLength,s=k+w.length;this.ensureBuffer(s).set(w,k),this.bufferLength=s}getBaseStreams(){const u=[];for(const I of this.streams){const w=I.getBaseStreams();w&&u.push(...w)}return u.length>0?u:null}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.AsciiHexStream=void 0;var e=K(19);v.AsciiHexStream=class d extends e.DecodeStream{constructor(S,t){t&&(t*=.5),super(t),this.str=S,this.dict=S.dict,this.firstDigit=-1}readBlock(){const S=this.str.getBytes(8e3);if(!S.length)return void(this.eof=!0);const u=this.ensureBuffer(this.bufferLength+(S.length+1>>1));let I=this.bufferLength,w=this.firstDigit;for(const k of S){let s;if(k>=48&&k<=57)s=15&k;else{if(!(k>=65&&k<=70||k>=97&&k<=102)){if(62===k){this.eof=!0;break}continue}s=9+(15&k)}w<0?w=s:(u[I++]=w<<4|s,w=-1)}w>=0&&this.eof&&(u[I++]=w<<4,w=-1),this.firstDigit=w,this.bufferLength=I}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CCITTFaxStream=void 0;var e=K(22),d=K(19),_=K(5);v.CCITTFaxStream=class S extends d.DecodeStream{constructor(u,I,w){super(I),this.str=u,this.dict=u.dict,w instanceof _.Dict||(w=_.Dict.empty),this.ccittFaxDecoder=new e.CCITTFaxDecoder({next:()=>u.getByte()},{K:w.get("K"),EndOfLine:w.get("EndOfLine"),EncodedByteAlign:w.get("EncodedByteAlign"),Columns:w.get("Columns"),Rows:w.get("Rows"),EndOfBlock:w.get("EndOfBlock"),BlackIs1:w.get("BlackIs1")})}readBlock(){for(;!this.eof;){const u=this.ccittFaxDecoder.readNextChar();if(-1===u)return void(this.eof=!0);this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=u}}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CCITTFaxDecoder=void 0;var e=K(2);const d=-1,_=[[-1,-1],[-1,-1],[7,8],[7,7],[6,6],[6,6],[6,5],[6,5],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2]],S=[[-1,-1],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],t=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],u=[[-1,-1],[-1,-1],[12,-2],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],I=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],w=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];v.CCITTFaxDecoder=class{constructor(s,i={}){if(!s||"function"!=typeof s.next)throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=s,this.eof=!1,this.encoding=i.K||0,this.eoline=i.EndOfLine||!1,this.byteAlign=i.EncodedByteAlign||!1,this.columns=i.Columns||1728,this.rows=i.Rows||0;let a,f=i.EndOfBlock;for(null==f&&(f=!0),this.eoblock=f,this.black=i.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;0===(a=this._lookBits(12));)this._eatBits(1);1===a&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const s=this.refLine,i=this.codingLine,a=this.columns;let f,l,n,o,D;if(0===this.outputBits){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;let m,O,B;if(this.err=!1,this.nextLine2D){for(o=0;i[o]<a;++o)s[o]=i[o];for(s[o++]=a,s[o]=a,i[0]=0,this.codingPos=0,f=0,l=0;i[this.codingPos]<a;)switch(m=this._getTwoDimCode(),m){case 0:this._addPixels(s[f+1],l),s[f+1]<a&&(f+=2);break;case 1:if(m=O=0,l){do{m+=B=this._getBlackCode()}while(B>=64);do{O+=B=this._getWhiteCode()}while(B>=64)}else{do{m+=B=this._getWhiteCode()}while(B>=64);do{O+=B=this._getBlackCode()}while(B>=64)}for(this._addPixels(i[this.codingPos]+m,l),i[this.codingPos]<a&&this._addPixels(i[this.codingPos]+O,1^l);s[f]<=i[this.codingPos]&&s[f]<a;)f+=2;break;case 7:if(this._addPixels(s[f]+3,l),l^=1,i[this.codingPos]<a)for(++f;s[f]<=i[this.codingPos]&&s[f]<a;)f+=2;break;case 5:if(this._addPixels(s[f]+2,l),l^=1,i[this.codingPos]<a)for(++f;s[f]<=i[this.codingPos]&&s[f]<a;)f+=2;break;case 3:if(this._addPixels(s[f]+1,l),l^=1,i[this.codingPos]<a)for(++f;s[f]<=i[this.codingPos]&&s[f]<a;)f+=2;break;case 2:if(this._addPixels(s[f],l),l^=1,i[this.codingPos]<a)for(++f;s[f]<=i[this.codingPos]&&s[f]<a;)f+=2;break;case 8:if(this._addPixelsNeg(s[f]-3,l),l^=1,i[this.codingPos]<a)for(f>0?--f:++f;s[f]<=i[this.codingPos]&&s[f]<a;)f+=2;break;case 6:if(this._addPixelsNeg(s[f]-2,l),l^=1,i[this.codingPos]<a)for(f>0?--f:++f;s[f]<=i[this.codingPos]&&s[f]<a;)f+=2;break;case 4:if(this._addPixelsNeg(s[f]-1,l),l^=1,i[this.codingPos]<a)for(f>0?--f:++f;s[f]<=i[this.codingPos]&&s[f]<a;)f+=2;break;case d:this._addPixels(a,0),this.eof=!0;break;default:(0,e.info)("bad 2d code"),this._addPixels(a,0),this.err=!0}}else for(i[0]=0,this.codingPos=0,l=0;i[this.codingPos]<a;){if(m=0,l)do{m+=B=this._getBlackCode()}while(B>=64);else do{m+=B=this._getWhiteCode()}while(B>=64);this._addPixels(i[this.codingPos]+m,l),l^=1}let h=!1;if(this.byteAlign&&(this.inputBits&=-8),this.eoblock||this.row!==this.rows-1){if(m=this._lookBits(12),this.eoline)for(;m!==d&&1!==m;)this._eatBits(1),m=this._lookBits(12);else for(;0===m;)this._eatBits(1),m=this._lookBits(12);1===m?(this._eatBits(12),h=!0):m===d&&(this.eof=!0)}else this.rowsDone=!0;if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&h&&this.byteAlign){if(m=this._lookBits(12),1===m){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(o=0;o<4;++o)m=this._lookBits(12),1!==m&&(0,e.info)("bad rtc code: "+m),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(m=this._lookBits(13),m===d)return this.eof=!0,-1;if(m>>1==1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(1&m))}this.outputBits=i[0]>0?i[this.codingPos=0]:i[this.codingPos=1],this.row++}if(this.outputBits>=8)D=1&this.codingPos?0:255,this.outputBits-=8,0===this.outputBits&&i[this.codingPos]<a&&(this.codingPos++,this.outputBits=i[this.codingPos]-i[this.codingPos-1]);else{n=8,D=0;do{if("number"!=typeof this.outputBits)throw new e.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>n?(D<<=n,1&this.codingPos||(D|=255>>8-n),this.outputBits-=n,n=0):(D<<=this.outputBits,1&this.codingPos||(D|=255>>8-this.outputBits),n-=this.outputBits,this.outputBits=0,i[this.codingPos]<a?(this.codingPos++,this.outputBits=i[this.codingPos]-i[this.codingPos-1]):n>0&&(D<<=n,n=0))}while(n)}return this.black&&(D^=255),D}_addPixels(s,i){const a=this.codingLine;let f=this.codingPos;s>a[f]&&(s>this.columns&&((0,e.info)("row is wrong length"),this.err=!0,s=this.columns),1&f^i&&++f,a[f]=s),this.codingPos=f}_addPixelsNeg(s,i){const a=this.codingLine;let f=this.codingPos;if(s>a[f])s>this.columns&&((0,e.info)("row is wrong length"),this.err=!0,s=this.columns),1&f^i&&++f,a[f]=s;else if(s<a[f]){for(s<0&&((0,e.info)("invalid code"),this.err=!0,s=0);f>0&&s<a[f-1];)--f;a[f]=s}this.codingPos=f}_findTableCode(s,i,a,f){const l=f||0;for(let n=s;n<=i;++n){let o=this._lookBits(n);if(o===d)return[!0,1,!1];if(n<i&&(o<<=i-n),!l||o>=l){const D=a[o-l];if(D[0]===n)return this._eatBits(n),[!0,D[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let s,i=0;if(this.eoblock){if(i=this._lookBits(7),s=_[i],s&&s[0]>0)return this._eatBits(s[0]),s[1]}else{const a=this._findTableCode(1,7,_);if(a[0]&&a[2])return a[1]}return(0,e.info)("Bad two dim code"),d}_getWhiteCode(){let s,i=0;if(this.eoblock){if(i=this._lookBits(12),i===d)return 1;if(s=i>>5?t[i>>3]:S[i],s[0]>0)return this._eatBits(s[0]),s[1]}else{let a=this._findTableCode(1,9,t);if(a[0]||(a=this._findTableCode(11,12,S),a[0]))return a[1]}return(0,e.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let s,i;if(this.eoblock){if(s=this._lookBits(13),s===d)return 1;if(i=s>>7?!(s>>9)&&s>>7?I[(s>>1)-64]:w[s>>7]:u[s],i[0]>0)return this._eatBits(i[0]),i[1]}else{let a=this._findTableCode(2,6,w);if(a[0]||(a=this._findTableCode(7,12,I,64),a[0])||(a=this._findTableCode(10,13,u),a[0]))return a[1]}return(0,e.info)("bad black code"),this._eatBits(1),1}_lookBits(s){let i;for(;this.inputBits<s;){if(-1===(i=this.source.next()))return 0===this.inputBits?d:this.inputBuf<<s-this.inputBits&65535>>16-s;this.inputBuf=this.inputBuf<<8|i,this.inputBits+=8}return this.inputBuf>>this.inputBits-s&65535>>16-s}_eatBits(s){(this.inputBits-=s)<0&&(this.inputBits=0)}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.FlateStream=void 0;var e=K(19),d=K(2);const _=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),S=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),t=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),u=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],I=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];v.FlateStream=class w extends e.DecodeStream{constructor(s,i){super(i),this.str=s,this.dict=s.dict;const a=s.getByte(),f=s.getByte();if(-1===a||-1===f)throw new d.FormatError(`Invalid header in flate stream: ${a}, ${f}`);if(8!=(15&a))throw new d.FormatError(`Unknown compression method in flate stream: ${a}, ${f}`);if(((a<<8)+f)%31!=0)throw new d.FormatError(`Bad FCHECK in flate stream: ${a}, ${f}`);if(32&f)throw new d.FormatError(`FDICT bit set in flate stream: ${a}, ${f}`);this.codeSize=0,this.codeBuf=0}getBits(s){const i=this.str;let a,f=this.codeSize,l=this.codeBuf;for(;f<s;){if(-1===(a=i.getByte()))throw new d.FormatError("Bad encoding in flate stream");l|=a<<f,f+=8}return a=l&(1<<s)-1,this.codeBuf=l>>s,this.codeSize=f-=s,a}getCode(s){const i=this.str,a=s[0],f=s[1];let l,n=this.codeSize,o=this.codeBuf;for(;n<f&&-1!==(l=i.getByte());)o|=l<<n,n+=8;const D=a[o&(1<<f)-1],m=D>>16,O=65535&D;if(m<1||n<m)throw new d.FormatError("Bad encoding in flate stream");return this.codeBuf=o>>m,this.codeSize=n-m,O}generateHuffmanTable(s){const i=s.length;let a,f=0;for(a=0;a<i;++a)s[a]>f&&(f=s[a]);const l=1<<f,n=new Int32Array(l);for(let o=1,D=0,m=2;o<=f;++o,D<<=1,m<<=1)for(let O=0;O<i;++O)if(s[O]===o){let B=0,h=D;for(a=0;a<o;++a)B=B<<1|1&h,h>>=1;for(a=B;a<l;a+=m)n[a]=o<<16|O;++D}return[n,f]}readBlock(){let s,i;const a=this.str;let f,l,n=this.getBits(3);if(1&n&&(this.eof=!0),n>>=1,0===n){let m;if(-1===(m=a.getByte()))throw new d.FormatError("Bad block header in flate stream");let O=m;if(-1===(m=a.getByte()))throw new d.FormatError("Bad block header in flate stream");if(O|=m<<8,-1===(m=a.getByte()))throw new d.FormatError("Bad block header in flate stream");let B=m;if(-1===(m=a.getByte()))throw new d.FormatError("Bad block header in flate stream");if(B|=m<<8,B!==(65535&~O)&&(0!==O||0!==B))throw new d.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const h=this.bufferLength,y=h+O;if(s=this.ensureBuffer(y),this.bufferLength=y,0===O)-1===a.peekByte()&&(this.eof=!0);else{const g=a.getBytes(O);s.set(g,h),g.length<O&&(this.eof=!0)}return}if(1===n)f=u,l=I;else{if(2!==n)throw new d.FormatError("Unknown block type in flate stream");{const m=this.getBits(5)+257,O=this.getBits(5)+1,B=this.getBits(4)+4,h=new Uint8Array(_.length);let y;for(y=0;y<B;++y)h[_[y]]=this.getBits(3);const g=this.generateHuffmanTable(h);i=0,y=0;const r=m+O,c=new Uint8Array(r);let P,T,x;for(;y<r;){const C=this.getCode(g);if(16===C)P=2,T=3,x=i;else if(17===C)P=3,T=3,x=i=0;else{if(18!==C){c[y++]=i=C;continue}P=7,T=11,x=i=0}let b=this.getBits(P)+T;for(;b-- >0;)c[y++]=x}f=this.generateHuffmanTable(c.subarray(0,m)),l=this.generateHuffmanTable(c.subarray(m,r))}}s=this.buffer;let o=s?s.length:0,D=this.bufferLength;for(;;){let m=this.getCode(f);if(m<256){D+1>=o&&(s=this.ensureBuffer(D+1),o=s.length),s[D++]=m;continue}if(256===m)return void(this.bufferLength=D);m-=257,m=S[m];let O=m>>16;O>0&&(O=this.getBits(O)),i=(65535&m)+O,m=this.getCode(l),m=t[m],O=m>>16,O>0&&(O=this.getBits(O));const B=(65535&m)+O;D+i>=o&&(s=this.ensureBuffer(D+i),o=s.length);for(let h=0;h<i;++h,++D)s[D]=s[D-B]}}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Jbig2Stream=void 0;var e=K(7),d=K(19),_=K(5),S=K(25),t=K(2);v.Jbig2Stream=class u extends d.DecodeStream{constructor(w,k,s){super(k),this.stream=w,this.dict=w.dict,this.maybeLength=k,this.params=s}get bytes(){return(0,t.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(w){}readBlock(){if(this.eof)return;const w=new S.Jbig2Image,k=[];if(this.params instanceof _.Dict){const a=this.params.get("JBIG2Globals");if(a instanceof e.BaseStream){const f=a.getBytes();k.push({data:f,start:0,end:f.length})}}k.push({data:this.bytes,start:0,end:this.bytes.length});const s=w.parseChunks(k),i=s.length;for(let a=0;a<i;a++)s[a]^=255;this.buffer=s,this.bufferLength=i,this.eof=!0}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Jbig2Image=void 0;var e=K(2),d=K(6),_=K(26),S=K(22);class t extends e.BaseException{constructor(E){super(`JBIG2 error: ${E}`,"Jbig2Error")}}class u{getContexts(E){return E in this?this[E]:this[E]=new Int8Array(65536)}}class I{constructor(E,L,X){this.data=E,this.start=L,this.end=X}get decoder(){const E=new _.ArithmeticDecoder(this.data,this.start,this.end);return(0,e.shadow)(this,"decoder",E)}get contextCache(){const E=new u;return(0,e.shadow)(this,"contextCache",E)}}function w(N,E,L){const X=N.getContexts(E);let V=1;function J(q){let j=0;for(let M=0;M<q;M++){const U=L.readBit(X,V);V=V<256?V<<1|U:511&(V<<1|U)|256,j=j<<1|U}return j>>>0}const z=J(1),$=J(1)?J(1)?J(1)?J(1)?J(1)?J(32)+4436:J(12)+340:J(8)+84:J(6)+20:J(4)+4:J(2);return 0===z?$:$>0?-$:null}function k(N,E,L){const X=N.getContexts("IAID");let V=1;for(let J=0;J<L;J++)V=V<<1|E.readBit(X,V);return L<31?V&(1<<L)-1:2147483647&V}const s=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],i=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],a=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],f=[39717,1941,229,405],l=[32,8];function n(N,E,L,X,V,J,z,$){if(N)return F(new b($.data,$.start,$.end),E,L,!1);if(0===X&&!J&&!V&&4===z.length&&3===z[0].x&&-1===z[0].y&&-3===z[1].x&&-1===z[1].y&&2===z[2].x&&-2===z[2].y&&-2===z[3].x&&-2===z[3].y)return function(Pt,Dt,Tt){const yt=Tt.decoder,wt=Tt.contextCache.getContexts("GB"),pt=[];let kt,vt,Ot,Xt,Yt,Qt,Ut;for(vt=0;vt<Dt;vt++)for(Yt=pt[vt]=new Uint8Array(Pt),Qt=vt<1?Yt:pt[vt-1],Ut=vt<2?Yt:pt[vt-2],kt=Ut[0]<<13|Ut[1]<<12|Ut[2]<<11|Qt[0]<<7|Qt[1]<<6|Qt[2]<<5|Qt[3]<<4,Ot=0;Ot<Pt;Ot++)Yt[Ot]=Xt=yt.readBit(wt,kt),kt=(31735&kt)<<1|(Ot+3<Pt?Ut[Ot+3]<<11:0)|(Ot+4<Pt?Qt[Ot+4]<<4:0)|Xt;return pt}(E,L,$);const q=!!J,j=i[X].concat(z);j.sort(function(Mt,Pt){return Mt.y-Pt.y||Mt.x-Pt.x});const M=j.length,U=new Int8Array(M),H=new Int8Array(M),W=[];let G,Y,tt=0,Z=0,at=0,st=0;for(Y=0;Y<M;Y++)U[Y]=j[Y].x,H[Y]=j[Y].y,Z=Math.min(Z,j[Y].x),at=Math.max(at,j[Y].x),st=Math.min(st,j[Y].y),Y<M-1&&j[Y].y===j[Y+1].y&&j[Y].x===j[Y+1].x-1?tt|=1<<M-1-Y:W.push(Y);const nt=W.length,ot=new Int8Array(nt),ct=new Int8Array(nt),ht=new Uint16Array(nt);for(G=0;G<nt;G++)Y=W[G],ot[G]=j[Y].x,ct[G]=j[Y].y,ht[G]=1<<M-1-Y;const ft=-Z,mt=-st,Ct=E-at,At=f[X];let Ft=new Uint8Array(E);const gt=[],Bt=$.decoder,qt=$.contextCache.getContexts("GB");let Nt,Ht,Vt,ae,Zt,Rt=0,_t=0;for(let Mt=0;Mt<L;Mt++)if(V&&(Rt^=Bt.readBit(qt,At),Rt))gt.push(Ft);else for(Ft=new Uint8Array(Ft),gt.push(Ft),Nt=0;Nt<E;Nt++){if(q&&J[Mt][Nt]){Ft[Nt]=0;continue}if(Nt>=ft&&Nt<Ct&&Mt>=mt)for(_t=_t<<1&tt,Y=0;Y<nt;Y++)Ht=Mt+ct[Y],Vt=Nt+ot[Y],ae=gt[Ht][Vt],ae&&(ae=ht[Y],_t|=ae);else for(_t=0,Zt=M-1,Y=0;Y<M;Y++,Zt--)Vt=Nt+U[Y],Vt>=0&&Vt<E&&(Ht=Mt+H[Y],Ht>=0&&(ae=gt[Ht][Vt],ae&&(_t|=ae<<Zt)));const Pt=Bt.readBit(qt,_t);Ft[Nt]=Pt}return gt}function o(N,E,L,X,V,J,z,$,q){let j=a[L].coding;0===L&&(j=j.concat([$[0]]));const M=j.length,U=new Int32Array(M),H=new Int32Array(M);let W;for(W=0;W<M;W++)U[W]=j[W].x,H[W]=j[W].y;let G=a[L].reference;0===L&&(G=G.concat([$[1]]));const Y=G.length,tt=new Int32Array(Y),Z=new Int32Array(Y);for(W=0;W<Y;W++)tt[W]=G[W].x,Z[W]=G[W].y;const at=X[0].length,st=X.length,nt=l[L],ot=[],ct=q.decoder,ht=q.contextCache.getContexts("GR");let ft=0;for(let mt=0;mt<E;mt++){if(z&&(ft^=ct.readBit(ht,nt),ft))throw new t("prediction is not supported");const Ct=new Uint8Array(N);ot.push(Ct);for(let At=0;At<N;At++){let Ft,gt,Bt=0;for(W=0;W<M;W++)Ft=mt+H[W],gt=At+U[W],Ft<0||gt<0||gt>=N?Bt<<=1:Bt=Bt<<1|ot[Ft][gt];for(W=0;W<Y;W++)Ft=mt+Z[W]-J,gt=At+tt[W]-V,Ft<0||Ft>=st||gt<0||gt>=at?Bt<<=1:Bt=Bt<<1|X[Ft][gt];const qt=ct.readBit(ht,Bt);Ct[At]=qt}}return ot}function D(N,E,L,X,V,J,z,$,q,j,M,U,H,W,G,Y,tt,Z,at){if(N&&E)throw new t("refinement with Huffman is not supported");const st=[];let nt,ot;for(nt=0;nt<X;nt++){if(ot=new Uint8Array(L),V)for(let Ct=0;Ct<L;Ct++)ot[Ct]=V;st.push(ot)}const ct=tt.decoder,ht=tt.contextCache;let ft=N?-W.tableDeltaT.decode(at):-w(ht,"IADT",ct),mt=0;for(nt=0;nt<J;){ft+=N?W.tableDeltaT.decode(at):w(ht,"IADT",ct),mt+=N?W.tableFirstS.decode(at):w(ht,"IAFS",ct);let Ct=mt;for(;;){let At=0;z>1&&(At=N?at.readBits(Z):w(ht,"IAIT",ct));const Ft=z*ft+At,gt=N?W.symbolIDTable.decode(at):k(ht,ct,q),Bt=E&&(N?at.readBit():w(ht,"IARI",ct));let qt=$[gt],Nt=qt[0].length,Ht=qt.length;if(Bt){const Pt=w(ht,"IARDW",ct),Dt=w(ht,"IARDH",ct);Nt+=Pt,Ht+=Dt,qt=o(Nt,Ht,G,qt,(Pt>>1)+w(ht,"IARDX",ct),(Dt>>1)+w(ht,"IARDY",ct),!1,Y,tt)}const Vt=Ft-(1&U?0:Ht-1),ae=Ct-(2&U?Nt-1:0);let Zt,Rt,_t;if(j){for(Zt=0;Zt<Ht;Zt++){if(ot=st[ae+Zt],!ot)continue;_t=qt[Zt];const Pt=Math.min(L-Vt,Nt);switch(H){case 0:for(Rt=0;Rt<Pt;Rt++)ot[Vt+Rt]|=_t[Rt];break;case 2:for(Rt=0;Rt<Pt;Rt++)ot[Vt+Rt]^=_t[Rt];break;default:throw new t(`operator ${H} is not supported`)}}Ct+=Ht-1}else{for(Rt=0;Rt<Ht;Rt++)if(ot=st[Vt+Rt],ot)switch(_t=qt[Rt],H){case 0:for(Zt=0;Zt<Nt;Zt++)ot[ae+Zt]|=_t[Zt];break;case 2:for(Zt=0;Zt<Nt;Zt++)ot[ae+Zt]^=_t[Zt];break;default:throw new t(`operator ${H} is not supported`)}Ct+=Nt-1}nt++;const Mt=N?W.tableDeltaS.decode(at):w(ht,"IADS",ct);if(null===Mt)break;Ct+=Mt+M}}return st}function m(N,E){const L={};L.number=(0,d.readUint32)(N,E);const X=N[E+4],V=63&X;if(!s[V])throw new t("invalid segment type: "+V);L.type=V,L.typeName=s[V],L.deferredNonRetain=!!(128&X);const J=!!(64&X),z=N[E+5];let $=z>>5&7;const q=[31&z];let j=E+6;if(7===z){$=536870911&(0,d.readUint32)(N,j-1),j+=3;let G=$+7>>3;for(q[0]=N[j++];--G>0;)q.push(N[j++])}else if(5===z||6===z)throw new t("invalid referred-to flags");L.retainBits=q;let M=4;L.number<=256?M=1:L.number<=65536&&(M=2);const U=[];let H,W;for(H=0;H<$;H++){let G;G=1===M?N[j]:2===M?(0,d.readUint16)(N,j):(0,d.readUint32)(N,j),U.push(G),j+=M}if(L.referredTo=U,J?(L.pageAssociation=(0,d.readUint32)(N,j),j+=4):L.pageAssociation=N[j++],L.length=(0,d.readUint32)(N,j),j+=4,4294967295===L.length){if(38!==V)throw new t("invalid unknown segment length");{const G=B(N,j),Y=!!(1&N[j+h]),tt=6,Z=new Uint8Array(tt);for(Y||(Z[0]=255,Z[1]=172),Z[2]=G.height>>>24&255,Z[3]=G.height>>16&255,Z[4]=G.height>>8&255,Z[5]=255&G.height,H=j,W=N.length;H<W;H++){let at=0;for(;at<tt&&Z[at]===N[H+at];)at++;if(at===tt){L.length=H+tt;break}}if(4294967295===L.length)throw new t("segment end was not found")}}return L.headerEnd=j,L}function O(N,E,L,X){const V=[];let J=L;for(;J<X;){const z=m(E,J);J=z.headerEnd;const $={header:z,data:E};if(N.randomAccess||($.start=J,J+=z.length,$.end=J),V.push($),51===z.type)break}if(N.randomAccess)for(let z=0,$=V.length;z<$;z++)V[z].start=J,J+=V[z].header.length,V[z].end=J;return V}function B(N,E){return{width:(0,d.readUint32)(N,E),height:(0,d.readUint32)(N,E+4),x:(0,d.readUint32)(N,E+8),y:(0,d.readUint32)(N,E+12),combinationOperator:7&N[E+16]}}const h=17;function y(N,E){const L=N.header,X=N.data,V=N.end;let J,z,$,q,j=N.start;switch(L.type){case 0:const U={},H=(0,d.readUint16)(X,j);if(U.huffman=!!(1&H),U.refinement=!!(2&H),U.huffmanDHSelector=H>>2&3,U.huffmanDWSelector=H>>4&3,U.bitmapSizeSelector=H>>6&1,U.aggregationInstancesSelector=H>>7&1,U.bitmapCodingContextUsed=!!(256&H),U.bitmapCodingContextRetained=!!(512&H),U.template=H>>10&3,U.refinementTemplate=H>>12&1,j+=2,!U.huffman){for(q=0===U.template?4:1,z=[],$=0;$<q;$++)z.push({x:(0,d.readInt8)(X,j),y:(0,d.readInt8)(X,j+1)}),j+=2;U.at=z}if(U.refinement&&!U.refinementTemplate){for(z=[],$=0;$<2;$++)z.push({x:(0,d.readInt8)(X,j),y:(0,d.readInt8)(X,j+1)}),j+=2;U.refinementAt=z}U.numberOfExportedSymbols=(0,d.readUint32)(X,j),j+=4,U.numberOfNewSymbols=(0,d.readUint32)(X,j),j+=4,J=[U,L.number,L.referredTo,X,j,V];break;case 6:case 7:const W={};W.info=B(X,j),j+=h;const G=(0,d.readUint16)(X,j);if(j+=2,W.huffman=!!(1&G),W.refinement=!!(2&G),W.logStripSize=G>>2&3,W.stripSize=1<<W.logStripSize,W.referenceCorner=G>>4&3,W.transposed=!!(64&G),W.combinationOperator=G>>7&3,W.defaultPixelValue=G>>9&1,W.dsOffset=G<<17>>27,W.refinementTemplate=G>>15&1,W.huffman){const ht=(0,d.readUint16)(X,j);j+=2,W.huffmanFS=3&ht,W.huffmanDS=ht>>2&3,W.huffmanDT=ht>>4&3,W.huffmanRefinementDW=ht>>6&3,W.huffmanRefinementDH=ht>>8&3,W.huffmanRefinementDX=ht>>10&3,W.huffmanRefinementDY=ht>>12&3,W.huffmanRefinementSizeSelector=!!(16384&ht)}if(W.refinement&&!W.refinementTemplate){for(z=[],$=0;$<2;$++)z.push({x:(0,d.readInt8)(X,j),y:(0,d.readInt8)(X,j+1)}),j+=2;W.refinementAt=z}W.numberOfSymbolInstances=(0,d.readUint32)(X,j),j+=4,J=[W,L.referredTo,X,j,V];break;case 16:const Y={},tt=X[j++];Y.mmr=!!(1&tt),Y.template=tt>>1&3,Y.patternWidth=X[j++],Y.patternHeight=X[j++],Y.maxPatternIndex=(0,d.readUint32)(X,j),j+=4,J=[Y,L.number,X,j,V];break;case 22:case 23:const Z={};Z.info=B(X,j),j+=h;const at=X[j++];Z.mmr=!!(1&at),Z.template=at>>1&3,Z.enableSkip=!!(8&at),Z.combinationOperator=at>>4&7,Z.defaultPixelValue=at>>7&1,Z.gridWidth=(0,d.readUint32)(X,j),j+=4,Z.gridHeight=(0,d.readUint32)(X,j),j+=4,Z.gridOffsetX=4294967295&(0,d.readUint32)(X,j),j+=4,Z.gridOffsetY=4294967295&(0,d.readUint32)(X,j),j+=4,Z.gridVectorX=(0,d.readUint16)(X,j),j+=2,Z.gridVectorY=(0,d.readUint16)(X,j),j+=2,J=[Z,L.referredTo,X,j,V];break;case 38:case 39:const st={};st.info=B(X,j),j+=h;const nt=X[j++];if(st.mmr=!!(1&nt),st.template=nt>>1&3,st.prediction=!!(8&nt),!st.mmr){for(q=0===st.template?4:1,z=[],$=0;$<q;$++)z.push({x:(0,d.readInt8)(X,j),y:(0,d.readInt8)(X,j+1)}),j+=2;st.at=z}J=[st,X,j,V];break;case 48:const ot={width:(0,d.readUint32)(X,j),height:(0,d.readUint32)(X,j+4),resolutionX:(0,d.readUint32)(X,j+8),resolutionY:(0,d.readUint32)(X,j+12)};4294967295===ot.height&&delete ot.height;const ct=X[j+16];(0,d.readUint16)(X,j+17),ot.lossless=!!(1&ct),ot.refinement=!!(2&ct),ot.defaultPixelValue=ct>>2&1,ot.combinationOperator=ct>>3&3,ot.requiresBuffer=!!(32&ct),ot.combinationOperatorOverride=!!(64&ct),J=[ot];break;case 49:case 50:case 51:case 62:break;case 53:J=[L.number,X,j,V];break;default:throw new t(`segment type ${L.typeName}(${L.type}) is not implemented`)}const M="on"+L.typeName;M in E&&E[M].apply(E,J)}function g(N,E){for(let L=0,X=N.length;L<X;L++)y(N[L],E)}class r{onPageInformation(E){this.currentPageInfo=E;const X=new Uint8ClampedArray((E.width+7>>3)*E.height);E.defaultPixelValue&&X.fill(255),this.buffer=X}drawBitmap(E,L){const X=this.currentPageInfo,V=E.width,J=E.height,z=X.width+7>>3,$=X.combinationOperatorOverride?E.combinationOperator:X.combinationOperator,q=this.buffer,j=128>>(7&E.x);let M,U,H,W,G=E.y*z+(E.x>>3);switch($){case 0:for(M=0;M<J;M++){for(H=j,W=G,U=0;U<V;U++)L[M][U]&&(q[W]|=H),H>>=1,H||(H=128,W++);G+=z}break;case 2:for(M=0;M<J;M++){for(H=j,W=G,U=0;U<V;U++)L[M][U]&&(q[W]^=H),H>>=1,H||(H=128,W++);G+=z}break;default:throw new t(`operator ${$} is not supported`)}}onImmediateGenericRegion(E,L,X,V){const J=E.info,z=new I(L,X,V),$=n(E.mmr,J.width,J.height,E.template,E.prediction,null,E.at,z);this.drawBitmap(J,$)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(E,L,X,V,J,z){let $,q;E.huffman&&($=function(W,G,Y){let tt,Z,at,st,nt=0;switch(W.huffmanDHSelector){case 0:case 1:tt=C(W.huffmanDHSelector+4);break;case 3:tt=A(nt,G,Y),nt++;break;default:throw new t("invalid Huffman DH selector")}switch(W.huffmanDWSelector){case 0:case 1:Z=C(W.huffmanDWSelector+2);break;case 3:Z=A(nt,G,Y),nt++;break;default:throw new t("invalid Huffman DW selector")}return W.bitmapSizeSelector?(at=A(nt,G,Y),nt++):at=C(1),st=W.aggregationInstancesSelector?A(nt,G,Y):C(1),{tableDeltaHeight:tt,tableDeltaWidth:Z,tableBitmapSize:at,tableAggregateInstances:st}}(E,X,this.customTables),q=new b(V,J,z));let j=this.symbols;j||(this.symbols=j={});const M=[];for(const H of X){const W=j[H];W&&M.push(...W)}const U=new I(V,J,z);j[L]=function(W,G,Y,tt,Z,at,st,nt,ot,ct,ht,ft){if(W&&G)throw new t("symbol refinement with Huffman is not supported");const mt=[];let Ct=0,At=(0,d.log2)(Y.length+tt);const Ft=ht.decoder,gt=ht.contextCache;let Bt,qt;for(W&&(Bt=C(1),qt=[],At=Math.max(At,1));mt.length<tt;){Ct+=W?at.tableDeltaHeight.decode(ft):w(gt,"IADH",Ft);let _t=0,Mt=0;const Pt=W?qt.length:0;for(;;){const Dt=W?at.tableDeltaWidth.decode(ft):w(gt,"IADW",Ft);if(null===Dt)break;let Tt;if(_t+=Dt,Mt+=_t,G){const yt=w(gt,"IAAI",Ft);if(yt>1)Tt=D(W,G,_t,Ct,0,yt,1,Y.concat(mt),At,0,0,1,0,at,ot,ct,ht,0,ft);else{const wt=k(gt,Ft,At),pt=w(gt,"IARDX",Ft),kt=w(gt,"IARDY",Ft);Tt=o(_t,Ct,ot,wt<Y.length?Y[wt]:mt[wt-Y.length],pt,kt,!1,ct,ht)}mt.push(Tt)}else W?qt.push(_t):(Tt=n(!1,_t,Ct,st,!1,null,nt,ht),mt.push(Tt))}if(W&&!G){const Dt=at.tableBitmapSize.decode(ft);let Tt;if(ft.byteAlign(),0===Dt)Tt=R(ft,Mt,Ct);else{const wt=ft.end,pt=ft.position+Dt;ft.end=pt,Tt=F(ft,Mt,Ct,!1),ft.end=wt,ft.position=pt}const yt=qt.length;if(Pt===yt-1)mt.push(Tt);else{let wt,pt,kt,vt,Ot,Xt=0;for(wt=Pt;wt<yt;wt++){for(vt=qt[wt],kt=Xt+vt,Ot=[],pt=0;pt<Ct;pt++)Ot.push(Tt[pt].subarray(Xt,kt));mt.push(Ot),Xt=kt}}}}const Nt=[],Ht=[];let Vt,ae,Zt=!1;const Rt=Y.length+tt;for(;Ht.length<Rt;){let _t=W?Bt.decode(ft):w(gt,"IAEX",Ft);for(;_t--;)Ht.push(Zt);Zt=!Zt}for(Vt=0,ae=Y.length;Vt<ae;Vt++)Ht[Vt]&&Nt.push(Y[Vt]);for(let _t=0;_t<tt;Vt++,_t++)Ht[Vt]&&Nt.push(mt[_t]);return Nt}(E.huffman,E.refinement,M,E.numberOfNewSymbols,0,$,E.template,E.at,E.refinementTemplate,E.refinementAt,U,q)}onImmediateTextRegion(E,L,X,V,J){const z=E.info;let $,q;const j=this.symbols,M=[];for(const G of L){const Y=j[G];Y&&M.push(...Y)}const U=(0,d.log2)(M.length);E.huffman&&(q=new b(X,V,J),$=function(Y,tt,Z,at,st){const nt=[];for(let At=0;At<=34;At++){const Ft=st.readBits(4);nt.push(new c([At,Ft,0,0]))}const ot=new T(nt,!1);nt.length=0;for(let At=0;At<at;){const Ft=ot.decode(st);if(Ft>=32){let gt,Bt,qt;switch(Ft){case 32:if(0===At)throw new t("no previous value in symbol ID table");Bt=st.readBits(2)+3,gt=nt[At-1].prefixLength;break;case 33:Bt=st.readBits(3)+3,gt=0;break;case 34:Bt=st.readBits(7)+11,gt=0;break;default:throw new t("invalid code length in symbol ID table")}for(qt=0;qt<Bt;qt++)nt.push(new c([At,gt,0,0])),At++}else nt.push(new c([At,Ft,0,0])),At++}st.byteAlign();const ct=new T(nt,!1);let ht,ft,mt,Ct=0;switch(Y.huffmanFS){case 0:case 1:ht=C(Y.huffmanFS+6);break;case 3:ht=A(Ct,tt,Z),Ct++;break;default:throw new t("invalid Huffman FS selector")}switch(Y.huffmanDS){case 0:case 1:case 2:ft=C(Y.huffmanDS+8);break;case 3:ft=A(Ct,tt,Z),Ct++;break;default:throw new t("invalid Huffman DS selector")}switch(Y.huffmanDT){case 0:case 1:case 2:mt=C(Y.huffmanDT+11);break;case 3:mt=A(Ct,tt,Z),Ct++;break;default:throw new t("invalid Huffman DT selector")}if(Y.refinement)throw new t("refinement with Huffman is not supported");return{symbolIDTable:ct,tableFirstS:ht,tableDeltaS:ft,tableDeltaT:mt}}(E,L,this.customTables,M.length,q));const H=new I(X,V,J),W=D(E.huffman,E.refinement,z.width,z.height,E.defaultPixelValue,E.numberOfSymbolInstances,E.stripSize,M,U,E.transposed,E.dsOffset,E.referenceCorner,E.combinationOperator,$,E.refinementTemplate,E.refinementAt,H,E.logStripSize,q);this.drawBitmap(z,W)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(E,L,X,V,J){let z=this.patterns;z||(this.patterns=z={});const $=new I(X,V,J);z[L]=function(j,M,U,H,W,G){const Y=[];j||(Y.push({x:-M,y:0}),0===W&&Y.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const tt=n(j,(H+1)*M,U,W,!1,null,Y,G),Z=[];for(let at=0;at<=H;at++){const st=[],nt=M*at,ot=nt+M;for(let ct=0;ct<U;ct++)st.push(tt[ct].subarray(nt,ot));Z.push(st)}return Z}(E.mmr,E.patternWidth,E.patternHeight,E.maxPatternIndex,E.template,$)}onImmediateHalftoneRegion(E,L,X,V,J){const z=this.patterns[L[0]],$=E.info,q=new I(X,V,J),j=function(U,H,W,G,Y,tt,Z,at,st,nt,ot,ct,ht,ft,mt){if(Z)throw new t("skip is not supported");if(0!==at)throw new t(`operator "${at}" is not supported in halftone region`);const Ct=[];let At,Ft,gt;for(At=0;At<Y;At++){if(gt=new Uint8Array(G),tt)for(Ft=0;Ft<G;Ft++)gt[Ft]=tt;Ct.push(gt)}const qt=H[0],Nt=qt[0].length,Ht=qt.length,Vt=(0,d.log2)(H.length),ae=[];U||(ae.push({x:W<=1?3:2,y:-1}),0===W&&ae.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Zt=[];let Rt,_t,Mt,Pt,Dt,Tt,yt,wt,pt,kt,vt;for(U&&(Rt=new b(mt.data,mt.start,mt.end)),At=Vt-1;At>=0;At--)_t=U?F(Rt,st,nt,!0):n(!1,st,nt,W,!1,null,ae,mt),Zt[At]=_t;for(Mt=0;Mt<nt;Mt++)for(Pt=0;Pt<st;Pt++){for(Dt=0,Tt=0,Ft=Vt-1;Ft>=0;Ft--)Dt^=Zt[Ft][Mt][Pt],Tt|=Dt<<Ft;if(yt=H[Tt],wt=ot+Mt*ft+Pt*ht>>8,pt=ct+Mt*ht-Pt*ft>>8,wt>=0&&wt+Nt<=G&&pt>=0&&pt+Ht<=Y)for(At=0;At<Ht;At++)for(vt=Ct[pt+At],kt=yt[At],Ft=0;Ft<Nt;Ft++)vt[wt+Ft]|=kt[Ft];else{let Ot,Xt;for(At=0;At<Ht;At++)if(Xt=pt+At,!(Xt<0||Xt>=Y))for(vt=Ct[Xt],kt=yt[At],Ft=0;Ft<Nt;Ft++)Ot=wt+Ft,Ot>=0&&Ot<G&&(vt[Ot]|=kt[Ft])}}return Ct}(E.mmr,z,E.template,$.width,$.height,E.defaultPixelValue,E.enableSkip,E.combinationOperator,E.gridWidth,E.gridHeight,E.gridOffsetX,E.gridOffsetY,E.gridVectorX,E.gridVectorY,q);this.drawBitmap($,j)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(E,L,X,V){let J=this.customTables;J||(this.customTables=J={}),J[E]=function($,q,j){const M=$[q],U=4294967295&(0,d.readUint32)($,q+1),H=4294967295&(0,d.readUint32)($,q+5),W=new b($,q+9,j),G=1+(M>>1&7),Y=1+(M>>4&7),tt=[];let Z,at,st=U;do{Z=W.readBits(G),at=W.readBits(Y),tt.push(new c([st,Z,at,0])),st+=1<<at}while(st<H);return Z=W.readBits(G),tt.push(new c([U-1,Z,32,0,"lower"])),Z=W.readBits(G),tt.push(new c([H,Z,32,0])),1&M&&(Z=W.readBits(G),tt.push(new c([Z,0]))),new T(tt,!1)}(L,X,V)}}class c{constructor(E){2===E.length?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=E[0],this.rangeLength=0,this.prefixCode=E[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=E[0],this.prefixLength=E[1],this.rangeLength=E[2],this.prefixCode=E[3],this.isLowerRange="lower"===E[4])}}class P{constructor(E){this.children=[],E?(this.isLeaf=!0,this.rangeLength=E.rangeLength,this.rangeLow=E.rangeLow,this.isLowerRange=E.isLowerRange,this.isOOB=E.isOOB):this.isLeaf=!1}buildTree(E,L){const X=E.prefixCode>>L&1;if(L<=0)this.children[X]=new P(E);else{let V=this.children[X];V||(this.children[X]=V=new P(null)),V.buildTree(E,L-1)}}decodeNode(E){if(this.isLeaf){if(this.isOOB)return null;const X=E.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-X:X)}const L=this.children[E.readBit()];if(!L)throw new t("invalid Huffman data");return L.decodeNode(E)}}class T{constructor(E,L){L||this.assignPrefixCodes(E),this.rootNode=new P(null);for(let X=0,V=E.length;X<V;X++){const J=E[X];J.prefixLength>0&&this.rootNode.buildTree(J,J.prefixLength-1)}}decode(E){return this.rootNode.decodeNode(E)}assignPrefixCodes(E){const L=E.length;let X=0;for(let M=0;M<L;M++)X=Math.max(X,E[M].prefixLength);const V=new Uint32Array(X+1);for(let M=0;M<L;M++)V[E[M].prefixLength]++;let J,z,$,q=1,j=0;for(V[0]=0;q<=X;){for(j=j+V[q-1]<<1,J=j,z=0;z<L;)$=E[z],$.prefixLength===q&&($.prefixCode=J,J++),z++;q++}}}const x={};function C(N){let E,L=x[N];if(L)return L;switch(N){case 1:E=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:E=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:E=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:E=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:E=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:E=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:E=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:E=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:E=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:E=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:E=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:E=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:E=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:E=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:E=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new t(`standard table B.${N} does not exist`)}for(let X=0,V=E.length;X<V;X++)E[X]=new c(E[X]);return L=new T(E,!0),x[N]=L,L}class b{constructor(E,L,X){this.data=E,this.start=L,this.end=X,this.position=L,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new t("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const E=this.currentByte>>this.shift&1;return this.shift--,E}readBits(E){let L,X=0;for(L=E-1;L>=0;L--)X|=this.readBit()<<L;return X}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function A(N,E,L){let X=0;for(let V=0,J=E.length;V<J;V++){const z=L[E[V]];if(z){if(N===X)return z;X++}}throw new t("can't find custom Huffman table")}function R(N,E,L){const X=[];for(let V=0;V<L;V++){const J=new Uint8Array(E);X.push(J);for(let z=0;z<E;z++)J[z]=N.readBit();N.byteAlign()}return X}function F(N,E,L,X){const J=new S.CCITTFaxDecoder(N,{K:-1,Columns:E,Rows:L,BlackIs1:!0,EndOfBlock:X}),z=[];let $,q=!1;for(let j=0;j<L;j++){const M=new Uint8Array(E);z.push(M);let U=-1;for(let H=0;H<E;H++)U<0&&($=J.readNextChar(),-1===$&&($=0,q=!0),U=7),M[H]=$>>U&1,U--}if(X&&!q)for(let M=0;M<5&&-1!==J.readNextChar();M++);return z}v.Jbig2Image=class{parseChunks(E){return function(X){const V=new r;for(let J=0,z=X.length;J<z;J++){const $=X[J];g(O({},$.data,$.start,$.end),V)}return V.buffer}(E)}parse(E){throw new Error("Not implemented: Jbig2Image.parse")}}},(it,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ArithmeticDecoder=void 0;const K=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];v.ArithmeticDecoder=class{constructor(d,_,S){this.data=d,this.bp=_,this.dataEnd=S,this.chigh=d[_],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const d=this.data;let _=this.bp;255===d[_]?d[_+1]>143?(this.clow+=65280,this.ct=8):(_++,this.clow+=d[_]<<9,this.ct=7,this.bp=_):(_++,this.clow+=_<this.dataEnd?d[_]<<8:65280,this.ct=8,this.bp=_),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(d,_){let S=d[_]>>1,t=1&d[_];const u=K[S],I=u.qe;let w,k=this.a-I;if(this.chigh<I)k<I?(k=I,w=t,S=u.nmps):(k=I,w=1^t,1===u.switchFlag&&(t=w),S=u.nlps);else{if(this.chigh-=I,32768&k)return this.a=k,t;k<I?(w=1^t,1===u.switchFlag&&(t=w),S=u.nlps):(w=t,S=u.nmps)}do{0===this.ct&&this.byteIn(),k<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--}while(!(32768&k));return this.a=k,d[_]=S<<1|t,w}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.JpegStream=void 0;var e=K(19),d=K(5),_=K(28),S=K(2);v.JpegStream=class t extends e.DecodeStream{constructor(I,w,k){let s;for(;-1!==(s=I.getByte());)if(255===s){I.skip(-1);break}super(w),this.stream=I,this.dict=I.dict,this.maybeLength=w,this.params=k}get bytes(){return(0,S.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(I){}readBlock(){if(this.eof)return;const I={decodeTransform:void 0,colorTransform:void 0},w=this.dict.getArray("D","Decode");if(this.forceRGB&&Array.isArray(w)){const i=this.dict.get("BPC","BitsPerComponent")||8,a=w.length,f=new Int32Array(a);let l=!1;const n=(1<<i)-1;for(let o=0;o<a;o+=2)f[o]=256*(w[o+1]-w[o])|0,f[o+1]=w[o]*n|0,256===f[o]&&0===f[o+1]||(l=!0);l&&(I.decodeTransform=f)}if(this.params instanceof d.Dict){const i=this.params.get("ColorTransform");Number.isInteger(i)&&(I.colorTransform=i)}const k=new _.JpegImage(I);k.parse(this.bytes);const s=k.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=s,this.bufferLength=s.length,this.eof=!0}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.JpegImage=void 0;var e=K(2),d=K(6);class _ extends e.BaseException{constructor(y){super(`JPEG error: ${y}`,"JpegError")}}class S extends e.BaseException{constructor(y,g){super(y,"DNLMarkerError"),this.scanLines=g}}class t extends e.BaseException{constructor(y){super(y,"EOIMarkerError")}}const u=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),I=4017,w=799,k=3406,s=2276,i=1567,a=3784,f=5793,l=2896;function n(h,y){let g,r,c=0,P=16;for(;P>0&&!h[P-1];)P--;const T=[{children:[],index:0}];let x,C=T[0];for(g=0;g<P;g++){for(r=0;r<h[g];r++){for(C=T.pop(),C.children[C.index]=y[c];C.index>0;)C=T.pop();for(C.index++,T.push(C);T.length<=g;)T.push(x={children:[],index:0}),C.children[C.index]=x.children,C=x;c++}g+1<P&&(T.push(x={children:[],index:0}),C.children[C.index]=x.children,C=x)}return T[0].children}function o(h,y,g){return 64*((h.blocksPerLine+1)*y+g)}function D(h,y,g,r,c,P,T,x,C,b=!1){const A=g.mcusPerLine,F=y;let N=0,E=0;function L(){if(E>0)return E--,N>>E&1;if(N=h[y++],255===N){const ft=h[y++];if(ft){if(220===ft&&b){const mt=(0,d.readUint16)(h,y+=2);if(y+=2,mt>0&&mt!==g.scanLines)throw new S("Found DNL marker (0xFFDC) while parsing scan data",mt)}else if(217===ft){if(b){const mt=j*(8===g.precision?8:0);if(mt>0&&Math.round(g.scanLines/mt)>=10)throw new S("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",mt)}throw new t("Found EOI marker (0xFFD9) while parsing scan data")}throw new _(`unexpected marker ${(N<<8|ft).toString(16)}`)}}return E=7,N>>>7}function X(ft){let mt=ft;for(;;){switch(mt=mt[L()],typeof mt){case"number":return mt;case"object":continue}throw new _("invalid huffman sequence")}}function V(ft){let mt=0;for(;ft>0;)mt=mt<<1|L(),ft--;return mt}function J(ft){if(1===ft)return 1===L()?1:-1;const mt=V(ft);return mt>=1<<ft-1?mt:mt+(-1<<ft)+1}let $,z=0,q=0,j=0;function M(ft,mt,Ct,At,Ft){j=(Ct/A|0)*ft.v+At,mt(ft,o(ft,j,Ct%A*ft.h+Ft))}function U(ft,mt,Ct){j=Ct/ft.blocksPerLine|0,mt(ft,o(ft,j,Ct%ft.blocksPerLine))}const H=r.length;let W,G,Y,tt,Z,at;at=g.progressive?0===P?0===x?function(mt,Ct){const At=X(mt.huffmanTableDC),Ft=0===At?0:J(At)<<C;mt.blockData[Ct]=mt.pred+=Ft}:function(mt,Ct){mt.blockData[Ct]|=L()<<C}:0===x?function(mt,Ct){if(z>0)return void z--;let At=P;const Ft=T;for(;At<=Ft;){const gt=X(mt.huffmanTableAC),Bt=15&gt,qt=gt>>4;if(0!==Bt)At+=qt,mt.blockData[Ct+u[At]]=J(Bt)*(1<<C),At++;else{if(qt<15){z=V(qt)+(1<<qt)-1;break}At+=16}}}:function(mt,Ct){let At=P;const Ft=T;let gt,Bt,qt=0;for(;At<=Ft;){const Nt=Ct+u[At],Ht=mt.blockData[Nt]<0?-1:1;switch(q){case 0:if(Bt=X(mt.huffmanTableAC),gt=15&Bt,qt=Bt>>4,0===gt)qt<15?(z=V(qt)+(1<<qt),q=4):(qt=16,q=1);else{if(1!==gt)throw new _("invalid ACn encoding");$=J(gt),q=qt?2:3}continue;case 1:case 2:mt.blockData[Nt]?mt.blockData[Nt]+=Ht*(L()<<C):(qt--,0===qt&&(q=2===q?3:0));break;case 3:mt.blockData[Nt]?mt.blockData[Nt]+=Ht*(L()<<C):(mt.blockData[Nt]=$<<C,q=0);break;case 4:mt.blockData[Nt]&&(mt.blockData[Nt]+=Ht*(L()<<C))}At++}4===q&&(z--,0===z&&(q=0))}:function(mt,Ct){const At=X(mt.huffmanTableDC),Ft=0===At?0:J(At);mt.blockData[Ct]=mt.pred+=Ft;let gt=1;for(;gt<64;){const Bt=X(mt.huffmanTableAC),qt=15&Bt,Nt=Bt>>4;if(0!==qt)gt+=Nt,mt.blockData[Ct+u[gt]]=J(qt),gt++;else{if(Nt<15)break;gt+=16}}};let st,nt,ot,ct,ht=0;for(nt=1===H?r[0].blocksPerLine*r[0].blocksPerColumn:A*g.mcusPerColumn;ht<=nt;){const ft=c?Math.min(nt-ht,c):nt;if(ft>0){for(G=0;G<H;G++)r[G].pred=0;if(z=0,1===H)for(W=r[0],Z=0;Z<ft;Z++)U(W,at,ht),ht++;else for(Z=0;Z<ft;Z++){for(G=0;G<H;G++)for(W=r[G],ot=W.h,ct=W.v,Y=0;Y<ct;Y++)for(tt=0;tt<ot;tt++)M(W,at,ht,Y,tt);ht++}}if(E=0,st=B(h,y),!st)break;if(st.invalid&&((0,e.warn)(`decodeScan - ${ft>0?"unexpected":"excessive"} MCU data, current marker is: ${st.invalid}`),y=st.offset),!(st.marker>=65488&&st.marker<=65495))break;y+=2}return y-F}function m(h,y,g){const r=h.quantizationTable,c=h.blockData;let P,T,x,C,b,A,R,F,N,E,L,X,V,J,z,$,q;if(!r)throw new _("missing required Quantization Table.");for(let j=0;j<64;j+=8)N=c[y+j],E=c[y+j+1],L=c[y+j+2],X=c[y+j+3],V=c[y+j+4],J=c[y+j+5],z=c[y+j+6],$=c[y+j+7],N*=r[j],E|L|X|V|J|z|$?(E*=r[j+1],L*=r[j+2],X*=r[j+3],V*=r[j+4],J*=r[j+5],z*=r[j+6],$*=r[j+7],P=f*N+128>>8,T=f*V+128>>8,x=L,C=z,b=l*(E-$)+128>>8,F=l*(E+$)+128>>8,A=X<<4,R=J<<4,P=P+T+1>>1,T=P-T,q=x*a+C*i+128>>8,x=x*i-C*a+128>>8,C=q,b=b+R+1>>1,R=b-R,F=F+A+1>>1,A=F-A,P=P+C+1>>1,C=P-C,T=T+x+1>>1,x=T-x,q=b*s+F*k+2048>>12,b=b*k-F*s+2048>>12,F=q,q=A*w+R*I+2048>>12,A=A*I-R*w+2048>>12,R=q,g[j]=P+F,g[j+7]=P-F,g[j+1]=T+R,g[j+6]=T-R,g[j+2]=x+A,g[j+5]=x-A,g[j+3]=C+b,g[j+4]=C-b):(q=f*N+512>>10,g[j]=q,g[j+1]=q,g[j+2]=q,g[j+3]=q,g[j+4]=q,g[j+5]=q,g[j+6]=q,g[j+7]=q);for(let j=0;j<8;++j)N=g[j],E=g[j+8],L=g[j+16],X=g[j+24],V=g[j+32],J=g[j+40],z=g[j+48],$=g[j+56],E|L|X|V|J|z|$?(P=f*N+2048>>12,T=f*V+2048>>12,x=L,C=z,b=l*(E-$)+2048>>12,F=l*(E+$)+2048>>12,A=X,R=J,P=4112+(P+T+1>>1),T=P-T,q=x*a+C*i+2048>>12,x=x*i-C*a+2048>>12,C=q,b=b+R+1>>1,R=b-R,F=F+A+1>>1,A=F-A,P=P+C+1>>1,C=P-C,T=T+x+1>>1,x=T-x,q=b*s+F*k+2048>>12,b=b*k-F*s+2048>>12,F=q,q=A*w+R*I+2048>>12,A=A*I-R*w+2048>>12,R=q,N=P+F,$=P-F,E=T+R,z=T-R,L=x+A,J=x-A,X=C+b,V=C-b,N<16?N=0:N>=4080?N=255:N>>=4,E<16?E=0:E>=4080?E=255:E>>=4,L<16?L=0:L>=4080?L=255:L>>=4,X<16?X=0:X>=4080?X=255:X>>=4,V<16?V=0:V>=4080?V=255:V>>=4,J<16?J=0:J>=4080?J=255:J>>=4,z<16?z=0:z>=4080?z=255:z>>=4,$<16?$=0:$>=4080?$=255:$>>=4,c[y+j]=N,c[y+j+8]=E,c[y+j+16]=L,c[y+j+24]=X,c[y+j+32]=V,c[y+j+40]=J,c[y+j+48]=z,c[y+j+56]=$):(q=f*N+8192>>14,q=q<-2040?0:q>=2024?255:q+2056>>4,c[y+j]=q,c[y+j+8]=q,c[y+j+16]=q,c[y+j+24]=q,c[y+j+32]=q,c[y+j+40]=q,c[y+j+48]=q,c[y+j+56]=q)}function O(h,y){const g=y.blocksPerLine,r=y.blocksPerColumn,c=new Int16Array(64);for(let P=0;P<r;P++)for(let T=0;T<g;T++)m(y,o(y,P,T),c);return y.blockData}function B(h,y,g=y){const r=h.length-1;let c=g<y?g:y;if(y>=r)return null;const P=(0,d.readUint16)(h,y);if(P>=65472&&P<=65534)return{invalid:null,marker:P,offset:y};let T=(0,d.readUint16)(h,c);for(;!(T>=65472&&T<=65534);){if(++c>=r)return null;T=(0,d.readUint16)(h,c)}return{invalid:P.toString(16),marker:T,offset:c}}v.JpegImage=class{constructor({decodeTransform:y=null,colorTransform:g=-1}={}){this._decodeTransform=y,this._colorTransform=g}parse(y,{dnlScanLines:g=null}={}){function r(){const L=(0,d.readUint16)(y,x);x+=2;let X=x+L-2;const V=B(y,X,x);V&&V.invalid&&((0,e.warn)("readDataBlock - incorrect length, current marker is: "+V.invalid),X=V.offset);const J=y.subarray(x,X);return x+=J.length,J}function c(L){const X=Math.ceil(L.samplesPerLine/8/L.maxH),V=Math.ceil(L.scanLines/8/L.maxV);for(let J=0,z=L.components.length;J<z;J++){const $=L.components[J],q=Math.ceil(Math.ceil(L.samplesPerLine/8)*$.h/L.maxH),j=Math.ceil(Math.ceil(L.scanLines/8)*$.v/L.maxV);$.blockData=new Int16Array(V*$.v*64*(X*$.h+1)),$.blocksPerLine=q,$.blocksPerColumn=j}L.mcusPerLine=X,L.mcusPerColumn=V}let P,T,x=0,C=null,b=null,A=0;const R=[],F=[],N=[];let E=(0,d.readUint16)(y,x);if(x+=2,65496!==E)throw new _("SOI not found");E=(0,d.readUint16)(y,x),x+=2;t:for(;65497!==E;){let L,X,V;switch(E){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const J=r();65504===E&&74===J[0]&&70===J[1]&&73===J[2]&&70===J[3]&&0===J[4]&&(C={version:{major:J[5],minor:J[6]},densityUnits:J[7],xDensity:J[8]<<8|J[9],yDensity:J[10]<<8|J[11],thumbWidth:J[12],thumbHeight:J[13],thumbData:J.subarray(14,14+3*J[12]*J[13])}),65518===E&&65===J[0]&&100===J[1]&&111===J[2]&&98===J[3]&&101===J[4]&&(b={version:J[5]<<8|J[6],flags0:J[7]<<8|J[8],flags1:J[9]<<8|J[10],transformCode:J[11]});break;case 65499:const z=(0,d.readUint16)(y,x);x+=2;const $=z+x-2;let q;for(;x<$;){const ot=y[x++],ct=new Uint16Array(64);if(ot>>4){if(ot>>4!=1)throw new _("DQT - invalid table spec");for(X=0;X<64;X++)q=u[X],ct[q]=(0,d.readUint16)(y,x),x+=2}else for(X=0;X<64;X++)q=u[X],ct[q]=y[x++];R[15&ot]=ct}break;case 65472:case 65473:case 65474:if(P)throw new _("Only single frame JPEGs supported");x+=2,P={},P.extended=65473===E,P.progressive=65474===E,P.precision=y[x++];const j=(0,d.readUint16)(y,x);x+=2,P.scanLines=g||j,P.samplesPerLine=(0,d.readUint16)(y,x),x+=2,P.components=[],P.componentIds={};const M=y[x++];let U=0,H=0;for(L=0;L<M;L++){const ot=y[x],ct=y[x+1]>>4,ht=15&y[x+1];U<ct&&(U=ct),H<ht&&(H=ht),V=P.components.push({h:ct,v:ht,quantizationId:y[x+2],quantizationTable:null}),P.componentIds[ot]=V-1,x+=3}P.maxH=U,P.maxV=H,c(P);break;case 65476:const W=(0,d.readUint16)(y,x);for(x+=2,L=2;L<W;){const ot=y[x++],ct=new Uint8Array(16);let ht=0;for(X=0;X<16;X++,x++)ht+=ct[X]=y[x];const ft=new Uint8Array(ht);for(X=0;X<ht;X++,x++)ft[X]=y[x];L+=17+ht,(ot>>4?F:N)[15&ot]=n(ct,ft)}break;case 65501:x+=2,T=(0,d.readUint16)(y,x),x+=2;break;case 65498:const G=1==++A&&!g;x+=2;const Y=y[x++],tt=[];for(L=0;L<Y;L++){const ot=y[x++],ht=P.components[P.componentIds[ot]];ht.index=ot;const ft=y[x++];ht.huffmanTableDC=N[ft>>4],ht.huffmanTableAC=F[15&ft],tt.push(ht)}const Z=y[x++],at=y[x++],st=y[x++];try{const ot=D(y,x,P,tt,T,Z,at,st>>4,15&st,G);x+=ot}catch(ot){if(ot instanceof S)return(0,e.warn)(`${ot.message} -- attempting to re-parse the JPEG image.`),this.parse(y,{dnlScanLines:ot.scanLines});if(ot instanceof t){(0,e.warn)(`${ot.message} -- ignoring the rest of the image data.`);break t}throw ot}break;case 65500:x+=4;break;case 65535:255!==y[x]&&x--;break;default:const nt=B(y,x-2,x-3);if(nt&&nt.invalid){(0,e.warn)("JpegImage.parse - unexpected data, current marker is: "+nt.invalid),x=nt.offset;break}if(!nt||x>=y.length-1){(0,e.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break t}throw new _("JpegImage.parse - unknown marker: "+E.toString(16))}E=(0,d.readUint16)(y,x),x+=2}this.width=P.samplesPerLine,this.height=P.scanLines,this.jfif=C,this.adobe=b,this.components=[];for(let L=0,X=P.components.length;L<X;L++){const V=P.components[L],J=R[V.quantizationId];J&&(V.quantizationTable=J),this.components.push({index:V.index,output:O(0,V),scaleX:V.h/P.maxH,scaleY:V.v/P.maxV,blocksPerLine:V.blocksPerLine,blocksPerColumn:V.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(y,g,r=!1){const c=this.width/y,P=this.height/g;let T,x,C,b,A,R,F,N,E,L,X,V=0;const J=this.components.length,z=y*g*J,$=new Uint8ClampedArray(z),q=new Uint32Array(y),j=4294967288;let M;for(F=0;F<J;F++){if(T=this.components[F],x=T.scaleX*c,C=T.scaleY*P,V=F,X=T.output,b=T.blocksPerLine+1<<3,x!==M){for(A=0;A<y;A++)N=0|A*x,q[A]=(N&j)<<3|7&N;M=x}for(R=0;R<g;R++)for(N=0|R*C,L=b*(N&j)|(7&N)<<3,A=0;A<y;A++)$[V]=X[L+q[A]],V+=J}let U=this._decodeTransform;if(r||4!==J||U||(U=new Int32Array([-256,255,-256,255,-256,255,-256,255])),U)for(F=0;F<z;)for(N=0,E=0;N<J;N++,F++,E+=2)$[F]=($[F]*U[E]>>8)+U[E+1];return $}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this._colorTransform&&(82!==this.components[0].index||71!==this.components[1].index||66!==this.components[2].index):1===this._colorTransform}_convertYccToRgb(y){let g,r,c;for(let P=0,T=y.length;P<T;P+=3)g=y[P],r=y[P+1],c=y[P+2],y[P]=g-179.456+1.402*c,y[P+1]=g+135.459-.344*r-.714*c,y[P+2]=g-226.816+1.772*r;return y}_convertYcckToRgb(y){let g,r,c,P,T=0;for(let x=0,C=y.length;x<C;x+=4)g=y[x],r=y[x+1],c=y[x+2],P=y[x+3],y[T++]=r*(-660635669420364e-19*r+.000437130475926232*c-54080610064599e-18*g+.00048449797120281*P-.154362151871126)-122.67195406894+c*(-.000957964378445773*c+.000817076911346625*g-.00477271405408747*P+1.53380253221734)+g*(.000961250184130688*g-.00266257332283933*P+.48357088451265)+P*(-.000336197177618394*P+.484791561490776),y[T++]=107.268039397724+r*(219927104525741e-19*r-.000640992018297945*c+.000659397001245577*g+.000426105652938837*P-.176491792462875)+c*(-.000778269941513683*c+.00130872261408275*g+.000770482631801132*P-.151051492775562)+g*(.00126935368114843*g-.00265090189010898*P+.25802910206845)+P*(-.000318913117588328*P-.213742400323665),y[T++]=r*(-.000570115196973677*r-263409051004589e-19*c+.0020741088115012*g-.00288260236853442*P+.814272968359295)-20.810012546947+c*(-153496057440975e-19*c-.000132689043961446*g+.000560833691242812*P-.195152027534049)+g*(.00174418132927582*g-.00255243321439347*P+.116935020465145)+P*(-.000343531996510555*P+.24165260232407);return y.subarray(0,T)}_convertYcckToCmyk(y){let g,r,c;for(let P=0,T=y.length;P<T;P+=4)g=y[P],r=y[P+1],c=y[P+2],y[P]=434.456-g-1.402*c,y[P+1]=119.541-g+.344*r+.714*c,y[P+2]=481.816-g-1.772*r;return y}_convertCmykToRgb(y){let g,r,c,P,T=0;for(let x=0,C=y.length;x<C;x+=4)g=y[x],r=y[x+1],c=y[x+2],P=y[x+3],y[T++]=255+g*(-6747147073602441e-20*g+.0008379262121013727*r+.0002894718188643294*c+.003264231057537806*P-1.1185611867203937)+r*(26374107616089405e-21*r-8626949158638572e-20*c-.0002748769067499491*P-.02155688794978967)+c*(-3878099212869363e-20*c-.0003267808279485286*P+.0686742238595345)-P*(.0003361971776183937*P+.7430659151342254),y[T++]=255+g*(.00013596372813588848*g+.000924537132573585*r+.00010567359618683593*c+.0004791864687436512*P-.3109689587515875)+r*(-.00023545346108370344*r+.0002702845253534714*c+.0020200308977307156*P-.7488052167015494)+c*(6834815998235662e-20*c+.00015168452363460973*P-.09751927774728933)-P*(.0003189131175883281*P+.7364883807733168),y[T++]=255+g*(13598650411385307e-21*g+.00012423956175490851*r+.0004751985097583589*c-36729317476630422e-22*P-.05562186980264034)+r*(.00016141380598724676*r+.0009692239130725186*c+.0007782692450036253*P-.44015232367526463)+c*(5.068882914068769e-7*c+.0017778369011375071*P-.7591454649749609)-P*(.0003435319965105553*P+.7063770186160144);return y.subarray(0,T)}getData({width:y,height:g,forceRGB:r=!1,isSourcePDF:c=!1}){if(this.numComponents>4)throw new _("Unsupported color mode");const P=this._getLinearizedBlockData(y,g,c);if(1===this.numComponents&&r){const T=P.length,x=new Uint8ClampedArray(3*T);let C=0;for(let b=0;b<T;b++){const A=P[b];x[C++]=A,x[C++]=A,x[C++]=A}return x}if(3===this.numComponents&&this._isColorConversionNeeded)return this._convertYccToRgb(P);if(4===this.numComponents){if(this._isColorConversionNeeded)return r?this._convertYcckToRgb(P):this._convertYcckToCmyk(P);if(r)return this._convertCmykToRgb(P)}return P}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.JpxStream=void 0;var e=K(19),d=K(30),_=K(2);v.JpxStream=class S extends e.DecodeStream{constructor(u,I,w){super(I),this.stream=u,this.dict=u.dict,this.maybeLength=I,this.params=w}get bytes(){return(0,_.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(u){}readBlock(){if(this.eof)return;const u=new d.JpxImage;u.parse(this.bytes);const I=u.width,w=u.height,k=u.componentsCount,s=u.tiles.length;if(1===s)this.buffer=u.tiles[0].items;else{const i=new Uint8ClampedArray(I*w*k);for(let a=0;a<s;a++){const f=u.tiles[a],n=f.height,m=f.items;let O=0,B=(I*f.top+f.left)*k;const h=I*k,y=f.width*k;for(let g=0;g<n;g++){const r=m.subarray(O,O+y);i.set(r,B),O+=y,B+=h}}this.buffer=i}this.bufferLength=this.buffer.length,this.eof=!0}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.JpxImage=void 0;var e=K(2),d=K(6),_=K(26);class S extends e.BaseException{constructor(A){super(`JPX error: ${A}`,"JpxError")}}const t={LL:0,LH:1,HL:1,HH:2};function u(b,A){b.x0=Math.ceil(A.XOsiz/b.XRsiz),b.x1=Math.ceil(A.Xsiz/b.XRsiz),b.y0=Math.ceil(A.YOsiz/b.YRsiz),b.y1=Math.ceil(A.Ysiz/b.YRsiz),b.width=b.x1-b.x0,b.height=b.y1-b.y0}function I(b,A){const R=b.SIZ,F=[];let N;const E=Math.ceil((R.Xsiz-R.XTOsiz)/R.XTsiz),L=Math.ceil((R.Ysiz-R.YTOsiz)/R.YTsiz);for(let X=0;X<L;X++)for(let V=0;V<E;V++)N={},N.tx0=Math.max(R.XTOsiz+V*R.XTsiz,R.XOsiz),N.ty0=Math.max(R.YTOsiz+X*R.YTsiz,R.YOsiz),N.tx1=Math.min(R.XTOsiz+(V+1)*R.XTsiz,R.Xsiz),N.ty1=Math.min(R.YTOsiz+(X+1)*R.YTsiz,R.Ysiz),N.width=N.tx1-N.tx0,N.height=N.ty1-N.ty0,N.components=[],F.push(N);b.tiles=F;for(let X=0,V=R.Csiz;X<V;X++){const J=A[X];for(let z=0,$=F.length;z<$;z++){const q={};N=F[z],q.tcx0=Math.ceil(N.tx0/J.XRsiz),q.tcy0=Math.ceil(N.ty0/J.YRsiz),q.tcx1=Math.ceil(N.tx1/J.XRsiz),q.tcy1=Math.ceil(N.ty1/J.YRsiz),q.width=q.tcx1-q.tcx0,q.height=q.tcy1-q.tcy0,N.components[X]=q}}}function w(b,A,R){const F=A.codingStyleParameters,N={};return F.entropyCoderWithCustomPrecincts?(N.PPx=F.precinctsSizes[R].PPx,N.PPy=F.precinctsSizes[R].PPy):(N.PPx=15,N.PPy=15),N.xcb_=R>0?Math.min(F.xcb,N.PPx-1):Math.min(F.xcb,N.PPx),N.ycb_=R>0?Math.min(F.ycb,N.PPy-1):Math.min(F.ycb,N.PPy),N}function k(b,A,R){const F=1<<R.PPx,N=1<<R.PPy,E=0===A.resLevel,L=1<<R.PPx+(E?0:-1),X=1<<R.PPy+(E?0:-1),V=A.trx1>A.trx0?Math.ceil(A.trx1/F)-Math.floor(A.trx0/F):0,J=A.try1>A.try0?Math.ceil(A.try1/N)-Math.floor(A.try0/N):0;A.precinctParameters={precinctWidth:F,precinctHeight:N,numprecinctswide:V,numprecinctshigh:J,numprecincts:V*J,precinctWidthInSubband:L,precinctHeightInSubband:X}}function s(b,A,R){const F=R.xcb_,N=R.ycb_,E=1<<F,L=1<<N,X=A.tbx0>>F,V=A.tby0>>N,J=A.tbx1+E-1>>F,z=A.tby1+L-1>>N,$=A.resolution.precinctParameters,q=[],j=[];let M,U,H,W;for(U=V;U<z;U++)for(M=X;M<J;M++){if(H={cbx:M,cby:U,tbx0:E*M,tby0:L*U,tbx1:E*(M+1),tby1:L*(U+1)},H.tbx0_=Math.max(A.tbx0,H.tbx0),H.tby0_=Math.max(A.tby0,H.tby0),H.tbx1_=Math.min(A.tbx1,H.tbx1),H.tby1_=Math.min(A.tby1,H.tby1),W=Math.floor((H.tbx0_-A.tbx0)/$.precinctWidthInSubband)+Math.floor((H.tby0_-A.tby0)/$.precinctHeightInSubband)*$.numprecinctswide,H.precinctNumber=W,H.subbandType=A.type,H.Lblock=3,H.tbx1_<=H.tbx0_||H.tby1_<=H.tby0_)continue;q.push(H);let G=j[W];void 0!==G?(M<G.cbxMin?G.cbxMin=M:M>G.cbxMax&&(G.cbxMax=M),U<G.cbyMin?G.cbxMin=U:U>G.cbyMax&&(G.cbyMax=U)):j[W]=G={cbxMin:M,cbyMin:U,cbxMax:M,cbyMax:U},H.precinct=G}A.codeblockParameters={codeblockWidth:F,codeblockHeight:N,numcodeblockwide:J-X+1,numcodeblockhigh:z-V+1},A.codeblocks=q,A.precincts=j}function i(b,A,R){const F=[],N=b.subbands;for(let E=0,L=N.length;E<L;E++){const X=N[E].codeblocks;for(let V=0,J=X.length;V<J;V++){const z=X[V];z.precinctNumber===A&&F.push(z)}}return{layerNumber:R,codeblocks:F}}function a(b){const F=b.tiles[b.currentTile.index],N=F.codingStyleDefaultParameters.layersCount,E=b.SIZ.Csiz;let L=0;for(let $=0;$<E;$++)L=Math.max(L,F.components[$].codingStyleParameters.decompositionLevelsCount);let X=0,V=0,J=0,z=0;this.nextPacket=function(){for(;X<N;X++){for(;V<=L;V++){for(;J<E;J++){const q=F.components[J];if(V>q.codingStyleParameters.decompositionLevelsCount)continue;const j=q.resolutions[V],M=j.precinctParameters.numprecincts;for(;z<M;){const U=i(j,z,X);return z++,U}z=0}J=0}V=0}throw new S("Out of packets")}}function f(b){const F=b.tiles[b.currentTile.index],N=F.codingStyleDefaultParameters.layersCount,E=b.SIZ.Csiz;let L=0;for(let $=0;$<E;$++)L=Math.max(L,F.components[$].codingStyleParameters.decompositionLevelsCount);let X=0,V=0,J=0,z=0;this.nextPacket=function(){for(;X<=L;X++){for(;V<N;V++){for(;J<E;J++){const q=F.components[J];if(X>q.codingStyleParameters.decompositionLevelsCount)continue;const j=q.resolutions[X],M=j.precinctParameters.numprecincts;for(;z<M;){const U=i(j,z,V);return z++,U}z=0}J=0}V=0}throw new S("Out of packets")}}function l(b){const F=b.tiles[b.currentTile.index],N=F.codingStyleDefaultParameters.layersCount,E=b.SIZ.Csiz;let L,X,V,J,z=0;for(V=0;V<E;V++)z=Math.max(z,F.components[V].codingStyleParameters.decompositionLevelsCount);const $=new Int32Array(z+1);for(X=0;X<=z;++X){let q=0;for(V=0;V<E;++V){const j=F.components[V].resolutions;X<j.length&&(q=Math.max(q,j[X].precinctParameters.numprecincts))}$[X]=q}L=0,X=0,V=0,J=0,this.nextPacket=function(){for(;X<=z;X++){for(;J<$[X];J++){for(;V<E;V++){const j=F.components[V];if(X>j.codingStyleParameters.decompositionLevelsCount)continue;const M=j.resolutions[X];if(!(J>=M.precinctParameters.numprecincts)){for(;L<N;){const H=i(M,J,L);return L++,H}L=0}}V=0}J=0}throw new S("Out of packets")}}function n(b){const F=b.tiles[b.currentTile.index],N=F.codingStyleDefaultParameters.layersCount,E=b.SIZ.Csiz,L=m(F),X=L;let V=0,J=0,z=0,$=0,q=0;this.nextPacket=function(){for(;q<X.maxNumHigh;q++){for(;$<X.maxNumWide;$++){for(;z<E;z++){const M=F.components[z],U=M.codingStyleParameters.decompositionLevelsCount;for(;J<=U;J++){const H=M.resolutions[J],G=D($,q,L.components[z].resolutions[J],X,H);if(null!==G){for(;V<N;){const Y=i(H,G,V);return V++,Y}V=0}}J=0}z=0}$=0}throw new S("Out of packets")}}function o(b){const F=b.tiles[b.currentTile.index],N=F.codingStyleDefaultParameters.layersCount,E=b.SIZ.Csiz,L=m(F);let X=0,V=0,J=0,z=0,$=0;this.nextPacket=function(){for(;J<E;++J){const j=F.components[J],M=L.components[J],U=j.codingStyleParameters.decompositionLevelsCount;for(;$<M.maxNumHigh;$++){for(;z<M.maxNumWide;z++){for(;V<=U;V++){const H=j.resolutions[V],G=D(z,$,M.resolutions[V],M,H);if(null!==G){for(;X<N;){const Y=i(H,G,X);return X++,Y}X=0}}V=0}z=0}$=0}throw new S("Out of packets")}}function D(b,A,R,F,N){const E=b*F.minWidth,L=A*F.minHeight;return E%R.width!=0||L%R.height!=0?null:E/R.height+L/R.width*N.precinctParameters.numprecinctswide}function m(b){const A=b.components.length;let R=Number.MAX_VALUE,F=Number.MAX_VALUE,N=0,E=0;const L=new Array(A);for(let X=0;X<A;X++){const V=b.components[X],J=V.codingStyleParameters.decompositionLevelsCount,z=new Array(J+1);let $=Number.MAX_VALUE,q=Number.MAX_VALUE,j=0,M=0,U=1;for(let H=J;H>=0;--H){const W=V.resolutions[H],G=U*W.precinctParameters.precinctWidth,Y=U*W.precinctParameters.precinctHeight;$=Math.min($,G),q=Math.min(q,Y),j=Math.max(j,W.precinctParameters.numprecinctswide),M=Math.max(M,W.precinctParameters.numprecinctshigh),z[H]={width:G,height:Y},U<<=1}R=Math.min(R,$),F=Math.min(F,q),N=Math.max(N,j),E=Math.max(E,M),L[X]={resolutions:z,minWidth:$,minHeight:q,maxNumWide:j,maxNumHigh:M}}return{components:L,minWidth:R,minHeight:F,maxNumWide:N,maxNumHigh:E}}function O(b){const F=b.tiles[b.currentTile.index],N=b.SIZ.Csiz;for(let L=0;L<N;L++){const X=F.components[L],V=X.codingStyleParameters.decompositionLevelsCount,J=[],z=[];for(let $=0;$<=V;$++){const q=w(0,X,$),j={},M=1<<V-$;let U;if(j.trx0=Math.ceil(X.tcx0/M),j.try0=Math.ceil(X.tcy0/M),j.trx1=Math.ceil(X.tcx1/M),j.try1=Math.ceil(X.tcy1/M),j.resLevel=$,k(0,j,q),J.push(j),0===$)U={},U.type="LL",U.tbx0=Math.ceil(X.tcx0/M),U.tby0=Math.ceil(X.tcy0/M),U.tbx1=Math.ceil(X.tcx1/M),U.tby1=Math.ceil(X.tcy1/M),U.resolution=j,s(0,U,q),z.push(U),j.subbands=[U];else{const H=1<<V-$+1,W=[];U={},U.type="HL",U.tbx0=Math.ceil(X.tcx0/H-.5),U.tby0=Math.ceil(X.tcy0/H),U.tbx1=Math.ceil(X.tcx1/H-.5),U.tby1=Math.ceil(X.tcy1/H),U.resolution=j,s(0,U,q),z.push(U),W.push(U),U={},U.type="LH",U.tbx0=Math.ceil(X.tcx0/H),U.tby0=Math.ceil(X.tcy0/H-.5),U.tbx1=Math.ceil(X.tcx1/H),U.tby1=Math.ceil(X.tcy1/H-.5),U.resolution=j,s(0,U,q),z.push(U),W.push(U),U={},U.type="HH",U.tbx0=Math.ceil(X.tcx0/H-.5),U.tby0=Math.ceil(X.tcy0/H-.5),U.tbx1=Math.ceil(X.tcx1/H-.5),U.tby1=Math.ceil(X.tcy1/H-.5),U.resolution=j,s(0,U,q),z.push(U),W.push(U),j.subbands=W}}X.resolutions=J,X.subbands=z}const E=F.codingStyleDefaultParameters.progressionOrder;switch(E){case 0:F.packetsIterator=new a(b);break;case 1:F.packetsIterator=new f(b);break;case 2:F.packetsIterator=new l(b);break;case 3:F.packetsIterator=new n(b);break;case 4:F.packetsIterator=new o(b);break;default:throw new S(`Unsupported progression order ${E}`)}}function B(b,A,R,F){let N,E=0,L=0,X=!1;function V(G){for(;L<G;){const Y=A[R+E];E++,X?(N=N<<7|Y,L+=7,X=!1):(N=N<<8|Y,L+=8),255===Y&&(X=!0)}return L-=G,N>>>L&(1<<G)-1}function J(G){return 255===A[R+E-1]&&A[R+E]===G?(z(1),!0):255===A[R+E]&&A[R+E+1]===G&&(z(2),!0)}function z(G){E+=G}function $(){L=0,X&&(E++,X=!1)}function q(){if(0===V(1))return 1;if(0===V(1))return 2;let G=V(2);return G<3?G+3:(G=V(5),G<31?G+6:(G=V(7),G+37))}const U=b.COD.sopMarkerUsed,H=b.COD.ephMarkerUsed,W=b.tiles[b.currentTile.index].packetsIterator;for(;E<F;){$(),U&&J(145)&&z(4);const G=W.nextPacket();if(!V(1))continue;const Y=G.layerNumber,tt=[];let Z;for(let at=0,st=G.codeblocks.length;at<st;at++){Z=G.codeblocks[at];let nt=Z.precinct;const ot=Z.cbx-nt.cbxMin,ct=Z.cby-nt.cbyMin;let ht,ft,mt=!1,Ct=!1;if(void 0!==Z.included)mt=!!V(1);else{let Bt;if(nt=Z.precinct,void 0!==nt.inclusionTree)Bt=nt.inclusionTree;else{const qt=nt.cbxMax-nt.cbxMin+1,Nt=nt.cbyMax-nt.cbyMin+1;Bt=new c(qt,Nt,Y),ft=new r(qt,Nt),nt.inclusionTree=Bt,nt.zeroBitPlanesTree=ft;for(let Ht=0;Ht<Y;Ht++)if(0!==V(1))throw new S("Invalid tag tree")}if(Bt.reset(ot,ct,Y))for(;;){if(!V(1)){Bt.incrementValue(Y);break}if(ht=!Bt.nextLevel(),ht){Z.included=!0,mt=Ct=!0;break}}}if(!mt)continue;if(Ct){for(ft=nt.zeroBitPlanesTree,ft.reset(ot,ct);;)if(V(1)){if(ht=!ft.nextLevel(),ht)break}else ft.incrementValue();Z.zeroBitPlanes=ft.value}const At=q();for(;V(1);)Z.Lblock++;const Ft=(0,d.log2)(At),gt=V((At<1<<Ft?Ft-1:Ft)+Z.Lblock);tt.push({codeblock:Z,codingpasses:At,dataLength:gt})}for($(),H&&J(146);tt.length>0;){const at=tt.shift();Z=at.codeblock,void 0===Z.data&&(Z.data=[]),Z.data.push({data:A,start:R+E,end:R+E+at.dataLength,codingpasses:at.codingpasses}),E+=at.dataLength}}return E}function h(b,A,R,F,N,E,L,X,V){const J=F.tbx0,z=F.tby0,$=F.tbx1-F.tbx0,q=F.codeblocks,j="H"===F.type.charAt(0)?1:0,M="H"===F.type.charAt(1)?A:0;for(let U=0,H=q.length;U<H;++U){const W=q[U],G=W.tbx1_-W.tbx0_,Y=W.tby1_-W.tby0_;if(0===G||0===Y||void 0===W.data)continue;const tt=new P(G,Y,W.subbandType,W.zeroBitPlanes,E);let Z=2;const at=W.data;let st,nt,ot,ct=0,ht=0;for(st=0,nt=at.length;st<nt;st++)ot=at[st],ct+=ot.end-ot.start,ht+=ot.codingpasses;const ft=new Uint8Array(ct);let mt=0;for(st=0,nt=at.length;st<nt;st++){ot=at[st];const Zt=ot.data.subarray(ot.start,ot.end);ft.set(Zt,mt),mt+=Zt.length}const Ct=new _.ArithmeticDecoder(ft,0,ct);for(tt.setDecoder(Ct),st=0;st<ht;st++){switch(Z){case 0:tt.runSignificancePropagationPass();break;case 1:tt.runMagnitudeRefinementPass();break;case 2:tt.runCleanupPass(),X&&tt.checkSegmentationSymbol()}V&&tt.reset(),Z=(Z+1)%3}let At=W.tbx0_-J+(W.tby0_-z)*$;const Ft=tt.coefficentsSign,gt=tt.coefficentsMagnitude,Bt=tt.bitsDecoded,qt=L?0:.5;let Nt,Ht,Vt;mt=0;const ae="LL"!==F.type;for(st=0;st<Y;st++){const Zt=2*(At/$|0)*(A-$)+j+M;for(Nt=0;Nt<G;Nt++)Ht=gt[mt],0!==Ht&&(Ht=(Ht+qt)*N,0!==Ft[mt]&&(Ht=-Ht),Vt=Bt[mt],b[ae?Zt+(At<<1):At]=L&&Vt>=E?Ht:Ht*(1<<E-Vt)),At++,mt++;At+=$-G}}}function y(b,A,R){const F=A.components[R],N=F.codingStyleParameters,E=F.quantizationParameters,L=N.decompositionLevelsCount,X=E.SPqcds,V=E.scalarExpounded,J=E.guardBits,z=N.segmentationSymbolUsed,$=N.resetContextProbabilities,q=b.components[R].precision,j=N.reversibleTransformation,M=j?new C:new x,U=[];let H=0;for(let G=0;G<=L;G++){const Y=F.resolutions[G],tt=Y.trx1-Y.trx0,Z=Y.try1-Y.try0,at=new Float32Array(tt*Z);for(let st=0,nt=Y.subbands.length;st<nt;st++){let ot,ct;V?(ot=X[H].mu,ct=X[H].epsilon,H++):(ot=X[0].mu,ct=X[0].epsilon+(G>0?1-G:0));const ht=Y.subbands[st];h(at,tt,0,ht,j?1:2**(q+t[ht.type]-ct)*(1+ot/2048),J+ct-1,j,z,$)}U.push({width:tt,height:Z,items:at})}const W=M.calculate(U,F.tcx0,F.tcy0);return{left:F.tcx0,top:F.tcy0,width:W.width,height:W.height,items:W.items}}function g(b,A){const R=b.SIZ.Csiz,F=b.tiles[A];for(let N=0;N<R;N++){const E=F.components[N];E.quantizationParameters=void 0!==b.currentTile.QCC[N]?b.currentTile.QCC[N]:b.currentTile.QCD,E.codingStyleParameters=void 0!==b.currentTile.COC[N]?b.currentTile.COC[N]:b.currentTile.COD}F.codingStyleDefaultParameters=b.currentTile.COD}v.JpxImage=class{constructor(){this.failOnCorruptedImage=!1}parse(A){if(65359===(0,d.readUint16)(A,0))return void this.parseCodestream(A,0,A.length);const R=A.length;let F=0;for(;F<R;){let N=8,E=(0,d.readUint32)(A,F);const L=(0,d.readUint32)(A,F+4);if(F+=N,1===E&&(E=4294967296*(0,d.readUint32)(A,F)+(0,d.readUint32)(A,F+4),F+=8,N+=8),0===E&&(E=R-F+N),E<N)throw new S("Invalid box field size");const X=E-N;let V=!0;switch(L){case 1785737832:V=!1;break;case 1668246642:const J=A[F];if(1===J){const $=(0,d.readUint32)(A,F+3);switch($){case 16:case 17:case 18:break;default:(0,e.warn)("Unknown colorspace "+$)}}else 2===J&&(0,e.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(A,F,F+X);break;case 1783636e3:218793738!==(0,d.readUint32)(A,F)&&(0,e.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const z=String.fromCharCode(L>>24&255,L>>16&255,L>>8&255,255&L);(0,e.warn)(`Unsupported header type ${L} (${z}).`)}V&&(F+=X)}}parseImageProperties(A){let R=A.getByte();for(;R>=0;){const F=R;if(R=A.getByte(),65361==(F<<8|R)){A.skip(4);const N=A.getInt32()>>>0,E=A.getInt32()>>>0,L=A.getInt32()>>>0,X=A.getInt32()>>>0;A.skip(16);const V=A.getUint16();return this.width=N-L,this.height=E-X,this.componentsCount=V,void(this.bitsPerComponent=8)}}throw new S("No size marker found in JPX stream")}parseCodestream(A,R,F){const N={};let E=!1;try{let L=R;for(;L+1<F;){const X=(0,d.readUint16)(A,L);L+=2;let V,J,z,$,q,j,M=0;switch(X){case 65359:N.mainHeader=!0;break;case 65497:break;case 65361:M=(0,d.readUint16)(A,L);const U={};U.Xsiz=(0,d.readUint32)(A,L+4),U.Ysiz=(0,d.readUint32)(A,L+8),U.XOsiz=(0,d.readUint32)(A,L+12),U.YOsiz=(0,d.readUint32)(A,L+16),U.XTsiz=(0,d.readUint32)(A,L+20),U.YTsiz=(0,d.readUint32)(A,L+24),U.XTOsiz=(0,d.readUint32)(A,L+28),U.YTOsiz=(0,d.readUint32)(A,L+32);const H=(0,d.readUint16)(A,L+36);U.Csiz=H;const W=[];V=L+38;for(let ot=0;ot<H;ot++){const ct={precision:1+(127&A[V]),isSigned:!!(128&A[V]),XRsiz:A[V+1],YRsiz:A[V+2]};V+=3,u(ct,U),W.push(ct)}N.SIZ=U,N.components=W,I(N,W),N.QCC=[],N.COC=[];break;case 65372:M=(0,d.readUint16)(A,L);const G={};switch(V=L+2,J=A[V++],31&J){case 0:$=8,q=!0;break;case 1:$=16,q=!1;break;case 2:$=16,q=!0;break;default:throw new Error("Invalid SQcd value "+J)}for(G.noQuantization=8===$,G.scalarExpounded=q,G.guardBits=J>>5,z=[];V<M+L;){const ot={};8===$?(ot.epsilon=A[V++]>>3,ot.mu=0):(ot.epsilon=A[V]>>3,ot.mu=(7&A[V])<<8|A[V+1],V+=2),z.push(ot)}G.SPqcds=z,N.mainHeader?N.QCD=G:(N.currentTile.QCD=G,N.currentTile.QCC=[]);break;case 65373:M=(0,d.readUint16)(A,L);const Y={};let tt;switch(V=L+2,N.SIZ.Csiz<257?tt=A[V++]:(tt=(0,d.readUint16)(A,V),V+=2),J=A[V++],31&J){case 0:$=8,q=!0;break;case 1:$=16,q=!1;break;case 2:$=16,q=!0;break;default:throw new Error("Invalid SQcd value "+J)}for(Y.noQuantization=8===$,Y.scalarExpounded=q,Y.guardBits=J>>5,z=[];V<M+L;){const ot={};8===$?(ot.epsilon=A[V++]>>3,ot.mu=0):(ot.epsilon=A[V]>>3,ot.mu=(7&A[V])<<8|A[V+1],V+=2),z.push(ot)}Y.SPqcds=z,N.mainHeader?N.QCC[tt]=Y:N.currentTile.QCC[tt]=Y;break;case 65362:M=(0,d.readUint16)(A,L);const Z={};V=L+2;const at=A[V++];Z.entropyCoderWithCustomPrecincts=!!(1&at),Z.sopMarkerUsed=!!(2&at),Z.ephMarkerUsed=!!(4&at),Z.progressionOrder=A[V++],Z.layersCount=(0,d.readUint16)(A,V),V+=2,Z.multipleComponentTransform=A[V++],Z.decompositionLevelsCount=A[V++],Z.xcb=2+(15&A[V++]),Z.ycb=2+(15&A[V++]);const st=A[V++];if(Z.selectiveArithmeticCodingBypass=!!(1&st),Z.resetContextProbabilities=!!(2&st),Z.terminationOnEachCodingPass=!!(4&st),Z.verticallyStripe=!!(8&st),Z.predictableTermination=!!(16&st),Z.segmentationSymbolUsed=!!(32&st),Z.reversibleTransformation=A[V++],Z.entropyCoderWithCustomPrecincts){const ot=[];for(;V<M+L;){const ct=A[V++];ot.push({PPx:15&ct,PPy:ct>>4})}Z.precinctsSizes=ot}const nt=[];Z.selectiveArithmeticCodingBypass&&nt.push("selectiveArithmeticCodingBypass"),Z.terminationOnEachCodingPass&&nt.push("terminationOnEachCodingPass"),Z.verticallyStripe&&nt.push("verticallyStripe"),Z.predictableTermination&&nt.push("predictableTermination"),nt.length>0&&(E=!0,(0,e.warn)(`JPX: Unsupported COD options (${nt.join(", ")}).`)),N.mainHeader?N.COD=Z:(N.currentTile.COD=Z,N.currentTile.COC=[]);break;case 65424:M=(0,d.readUint16)(A,L),j={},j.index=(0,d.readUint16)(A,L+2),j.length=(0,d.readUint32)(A,L+4),j.dataEnd=j.length+L-2,j.partIndex=A[L+8],j.partsCount=A[L+9],N.mainHeader=!1,0===j.partIndex&&(j.COD=N.COD,j.COC=N.COC.slice(0),j.QCD=N.QCD,j.QCC=N.QCC.slice(0)),N.currentTile=j;break;case 65427:j=N.currentTile,0===j.partIndex&&(g(N,j.index),O(N)),M=j.dataEnd-L,B(N,A,L,M);break;case 65363:(0,e.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:M=(0,d.readUint16)(A,L);break;default:throw new Error("Unknown codestream code: "+X.toString(16))}L+=M}}catch(L){if(E||this.failOnCorruptedImage)throw new S(L.message);(0,e.warn)(`JPX: Trying to recover from: "${L.message}".`)}this.tiles=function(X){const J=X.components,z=X.SIZ.Csiz,$=[];for(let q=0,j=X.tiles.length;q<j;q++){const M=X.tiles[q],U=[];for(let ht=0;ht<z;ht++)U[ht]=y(X,M,ht);const H=U[0],W=new Uint8ClampedArray(H.items.length*z),G={left:H.left,top:H.top,width:H.width,height:H.height,items:W};let Y,tt,Z,at,st,nt,ot,ct=0;if(M.codingStyleDefaultParameters.multipleComponentTransform){const ht=4===z,ft=U[0].items,mt=U[1].items,Ct=U[2].items,At=ht?U[3].items:null;Y=J[0].precision-8,tt=.5+(128<<Y);const gt=z-3;if(at=ft.length,M.components[0].codingStyleParameters.reversibleTransformation)for(Z=0;Z<at;Z++,ct+=gt){st=ft[Z]+tt,nt=mt[Z],ot=Ct[Z];const Bt=st-(ot+nt>>2);W[ct++]=Bt+ot>>Y,W[ct++]=Bt>>Y,W[ct++]=Bt+nt>>Y}else for(Z=0;Z<at;Z++,ct+=gt)st=ft[Z]+tt,nt=mt[Z],ot=Ct[Z],W[ct++]=st+1.402*ot>>Y,W[ct++]=st-.34413*nt-.71414*ot>>Y,W[ct++]=st+1.772*nt>>Y;if(ht)for(Z=0,ct=3;Z<at;Z++,ct+=4)W[ct]=At[Z]+tt>>Y}else for(let ht=0;ht<z;ht++){const ft=U[ht].items;for(Y=J[ht].precision-8,tt=.5+(128<<Y),ct=ht,Z=0,at=ft.length;Z<at;Z++)W[ct]=ft[Z]+tt>>Y,ct+=z}$.push(G)}return $}(N),this.width=N.SIZ.Xsiz-N.SIZ.XOsiz,this.height=N.SIZ.Ysiz-N.SIZ.YOsiz,this.componentsCount=N.SIZ.Csiz}};class r{constructor(A,R){const F=(0,d.log2)(Math.max(A,R))+1;this.levels=[];for(let N=0;N<F;N++)this.levels.push({width:A,height:R,items:[]}),A=Math.ceil(A/2),R=Math.ceil(R/2)}reset(A,R){let F,N=0,E=0;for(;N<this.levels.length;){F=this.levels[N];const L=A+R*F.width;if(void 0!==F.items[L]){E=F.items[L];break}F.index=L,A>>=1,R>>=1,N++}N--,F=this.levels[N],F.items[F.index]=E,this.currentLevel=N,delete this.value}incrementValue(){const A=this.levels[this.currentLevel];A.items[A.index]++}nextLevel(){let A=this.currentLevel,R=this.levels[A];const F=R.items[R.index];return A--,A<0?(this.value=F,!1):(this.currentLevel=A,R=this.levels[A],R.items[R.index]=F,!0)}}class c{constructor(A,R,F){const N=(0,d.log2)(Math.max(A,R))+1;this.levels=[];for(let E=0;E<N;E++){const L=new Uint8Array(A*R);for(let V=0,J=L.length;V<J;V++)L[V]=F;this.levels.push({width:A,height:R,items:L}),A=Math.ceil(A/2),R=Math.ceil(R/2)}}reset(A,R,F){let N=0;for(;N<this.levels.length;){const E=this.levels[N],L=A+R*E.width;E.index=L;const X=E.items[L];if(255===X)break;if(X>F)return this.currentLevel=N,this.propagateValues(),!1;A>>=1,R>>=1,N++}return this.currentLevel=N-1,!0}incrementValue(A){const R=this.levels[this.currentLevel];R.items[R.index]=A+1,this.propagateValues()}propagateValues(){let A=this.currentLevel,R=this.levels[A];const F=R.items[R.index];for(;--A>=0;)R=this.levels[A],R.items[R.index]=F}nextLevel(){let A=this.currentLevel,R=this.levels[A];const F=R.items[R.index];return R.items[R.index]=255,A--,!(A<0||(this.currentLevel=A,R=this.levels[A],R.items[R.index]=F,0))}}const P=function(){const R=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),F=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),N=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);return class{constructor(L,X,V,J,z){let $;this.width=L,this.height=X,$="HH"===V?N:"HL"===V?F:R,this.contextLabelTable=$;const q=L*X;let j;this.neighborsSignificance=new Uint8Array(q),this.coefficentsSign=new Uint8Array(q),j=z>14?new Uint32Array(q):z>6?new Uint16Array(q):new Uint8Array(q),this.coefficentsMagnitude=j,this.processingFlags=new Uint8Array(q);const M=new Uint8Array(q);if(0!==J)for(let U=0;U<q;U++)M[U]=J;this.bitsDecoded=M,this.reset()}setDecoder(L){this.decoder=L}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6}setNeighborsSignificance(L,X,V){const J=this.neighborsSignificance,z=this.width,$=this.height,q=X>0,j=X+1<z;let M;L>0&&(M=V-z,q&&(J[M-1]+=16),j&&(J[M+1]+=16),J[M]+=4),L+1<$&&(M=V+z,q&&(J[M-1]+=16),j&&(J[M+1]+=16),J[M]+=4),q&&(J[V-1]+=1),j&&(J[V+1]+=1),J[V]|=128}runSignificancePropagationPass(){const L=this.decoder,X=this.width,V=this.height,J=this.coefficentsMagnitude,z=this.coefficentsSign,$=this.neighborsSignificance,q=this.processingFlags,j=this.contexts,M=this.contextLabelTable,U=this.bitsDecoded;for(let H=0;H<V;H+=4)for(let W=0;W<X;W++){let G=H*X+W;for(let Y=0;Y<4;Y++,G+=X){const tt=H+Y;if(tt>=V)break;if(q[G]&=-2,!J[G]&&$[G]){if(L.readBit(j,M[$[G]])){const at=this.decodeSignBit(tt,W,G);z[G]=at,J[G]=1,this.setNeighborsSignificance(tt,W,G),q[G]|=2}U[G]++,q[G]|=1}}}}decodeSignBit(L,X,V){const J=this.width,$=this.coefficentsMagnitude,q=this.coefficentsSign;let j,M,U,H,W,G;H=X>0&&0!==$[V-1],X+1<J&&0!==$[V+1]?(U=q[V+1],H?(M=q[V-1],j=1-U-M):j=1-U-U):H?(M=q[V-1],j=1-M-M):j=0;const Y=3*j;return H=L>0&&0!==$[V-J],L+1<this.height&&0!==$[V+J]?(U=q[V+J],H?(M=q[V-J],j=1-U-M+Y):j=1-U-U+Y):H?(M=q[V-J],j=1-M-M+Y):j=Y,j>=0?(W=9+j,G=this.decoder.readBit(this.contexts,W)):(W=9-j,G=1^this.decoder.readBit(this.contexts,W)),G}runMagnitudeRefinementPass(){const L=this.decoder,X=this.width,J=this.coefficentsMagnitude,z=this.neighborsSignificance,$=this.contexts,q=this.bitsDecoded,j=this.processingFlags,M=X*this.height,U=4*X;for(let H,W=0;W<M;W=H){H=Math.min(M,W+U);for(let G=0;G<X;G++)for(let Y=W+G;Y<H;Y+=X){if(!J[Y]||1&j[Y])continue;let tt=16;2&j[Y]&&(j[Y]^=2,tt=127&z[Y]?14:15);const Z=L.readBit($,tt);J[Y]=J[Y]<<1|Z,q[Y]++,j[Y]|=1}}}runCleanupPass(){const L=this.decoder,X=this.width,V=this.height,J=this.neighborsSignificance,z=this.coefficentsMagnitude,$=this.coefficentsSign,q=this.contexts,j=this.contextLabelTable,M=this.bitsDecoded,U=this.processingFlags,H=X,W=2*X,G=3*X;let Y;for(let tt=0;tt<V;tt=Y){Y=Math.min(tt+4,V);const Z=tt*X,at=tt+3<V;for(let st=0;st<X;st++){const nt=Z+st;let ot,ct=0,ht=nt,ft=tt;if(at&&0===U[nt]&&0===U[nt+H]&&0===U[nt+W]&&0===U[nt+G]&&0===J[nt]&&0===J[nt+H]&&0===J[nt+W]&&0===J[nt+G]){if(!L.readBit(q,18)){M[nt]++,M[nt+H]++,M[nt+W]++,M[nt+G]++;continue}ct=L.readBit(q,17)<<1|L.readBit(q,17),0!==ct&&(ft=tt+ct,ht+=ct*X),ot=this.decodeSignBit(ft,st,ht),$[ht]=ot,z[ht]=1,this.setNeighborsSignificance(ft,st,ht),U[ht]|=2,ht=nt;for(let mt=tt;mt<=ft;mt++,ht+=X)M[ht]++;ct++}for(ft=tt+ct;ft<Y;ft++,ht+=X)z[ht]||1&U[ht]||(1===L.readBit(q,j[J[ht]])&&(ot=this.decodeSignBit(ft,st,ht),$[ht]=ot,z[ht]=1,this.setNeighborsSignificance(ft,st,ht),U[ht]|=2),M[ht]++)}}}checkSegmentationSymbol(){const L=this.decoder,X=this.contexts;if(10!=(L.readBit(X,17)<<3|L.readBit(X,17)<<2|L.readBit(X,17)<<1|L.readBit(X,17)))throw new S("Invalid segmentation symbol")}}}();class T{constructor(){this.constructor===T&&(0,e.unreachable)("Cannot initialize Transform.")}calculate(A,R,F){let N=A[0];for(let E=1,L=A.length;E<L;E++)N=this.iterate(N,A[E],R,F);return N}extend(A,R,F){let N=R-1,E=R+1,L=R+F-2,X=R+F;A[N--]=A[E++],A[X++]=A[L--],A[N--]=A[E++],A[X++]=A[L--],A[N--]=A[E++],A[X++]=A[L--],A[N]=A[E],A[X]=A[L]}filter(A,R,F){(0,e.unreachable)("Abstract method `filter` called")}iterate(A,R,F,N){const E=A.width,L=A.height;let X=A.items;const V=R.width,J=R.height,z=R.items;let $,q,j,M,U,H;for(j=0,$=0;$<L;$++)for(M=2*$*V,q=0;q<E;q++,j++,M+=2)z[M]=X[j];X=A.items=null;const W=new Float32Array(V+8);if(1===V){if(1&F)for(H=0,j=0;H<J;H++,j+=V)z[j]*=.5}else for(H=0,j=0;H<J;H++,j+=V)W.set(z.subarray(j,j+V),4),this.extend(W,4,V),this.filter(W,4,V),z.set(W.subarray(4,4+V),j);let G=16;const Y=[];for($=0;$<G;$++)Y.push(new Float32Array(J+8));let tt,Z=0;if(A=4+J,1===J){if(1&N)for(U=0;U<V;U++)z[U]*=.5}else for(U=0;U<V;U++){if(0===Z){for(G=Math.min(V-U,G),j=U,M=4;M<A;j+=V,M++)for(tt=0;tt<G;tt++)Y[tt][M]=z[j+tt];Z=G}Z--;const at=Y[Z];if(this.extend(at,4,J),this.filter(at,4,J),0===Z)for(j=U-G+1,M=4;M<A;j+=V,M++)for(tt=0;tt<G;tt++)z[j+tt]=Y[tt][M]}return{width:V,height:J,items:z}}}class x extends T{filter(A,R,F){const N=F>>1;let E,L,X,V;const J=-1.586134342059924,z=-.052980118572961,$=.882911075530934,q=.443506852043971,j=1.230174104914001;for(E=(R|=0)-3,L=N+4;L--;E+=2)A[E]*=.8128930661159609;for(E=R-2,X=q*A[E-1],L=N+3;L--&&(V=q*A[E+1],A[E]=j*A[E]-X-V,L--);E+=2)E+=2,X=q*A[E+1],A[E]=j*A[E]-X-V;for(E=R-1,X=$*A[E-1],L=N+2;L--&&(V=$*A[E+1],A[E]-=X+V,L--);E+=2)E+=2,X=$*A[E+1],A[E]-=X+V;for(E=R,X=z*A[E-1],L=N+1;L--&&(V=z*A[E+1],A[E]-=X+V,L--);E+=2)E+=2,X=z*A[E+1],A[E]-=X+V;if(0!==N)for(E=R+1,X=J*A[E-1],L=N;L--&&(V=J*A[E+1],A[E]-=X+V,L--);E+=2)E+=2,X=J*A[E+1],A[E]-=X+V}}class C extends T{filter(A,R,F){const N=F>>1;let E,L;for(E=R|=0,L=N+1;L--;E+=2)A[E]-=A[E-1]+A[E+1]+2>>2;for(E=R+1,L=N;L--;E+=2)A[E]+=A[E-1]+A[E+1]>>1}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.LZWStream=void 0;var e=K(19);v.LZWStream=class d extends e.DecodeStream{constructor(S,t,u){super(t),this.str=S,this.dict=S.dict,this.cachedData=0,this.bitsCached=0;const I=4096,w={earlyChange:u,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(I),dictionaryLengths:new Uint16Array(I),dictionaryPrevCodes:new Uint16Array(I),currentSequence:new Uint8Array(I),currentSequenceLength:0};for(let k=0;k<256;++k)w.dictionaryValues[k]=k,w.dictionaryLengths[k]=1;this.lzwState=w}readBits(S){let t=this.bitsCached,u=this.cachedData;for(;t<S;){const I=this.str.getByte();if(-1===I)return this.eof=!0,null;u=u<<8|I,t+=8}return this.bitsCached=t-=S,this.cachedData=u,this.lastCode=null,u>>>t&(1<<S)-1}readBlock(){let S,t,u,I=1024;const w=this.lzwState;if(!w)return;const k=w.earlyChange;let s=w.nextCode;const i=w.dictionaryValues,a=w.dictionaryLengths,f=w.dictionaryPrevCodes;let l=w.codeLength,n=w.prevCode;const o=w.currentSequence;let D=w.currentSequenceLength,m=0,O=this.bufferLength,B=this.ensureBuffer(this.bufferLength+I);for(S=0;S<512;S++){const h=this.readBits(l),y=D>0;if(h<256)o[0]=h,D=1;else{if(!(h>=258)){if(256===h){l=9,s=258,D=0;continue}this.eof=!0,delete this.lzwState;break}if(h<s)for(D=a[h],t=D-1,u=h;t>=0;t--)o[t]=i[u],u=f[u];else o[D++]=o[0]}if(y&&(f[s]=n,a[s]=a[n]+1,i[s]=o[0],s++,l=s+k&s+k-1?l:0|Math.min(Math.log(s+k)/.6931471805599453+1,12)),n=h,m+=D,I<m){do{I+=512}while(I<m);B=this.ensureBuffer(this.bufferLength+I)}for(t=0;t<D;t++)B[O++]=o[t]}w.nextCode=s,w.codeLength=l,w.prevCode=n,w.currentSequenceLength=D,this.bufferLength=O}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PredictorStream=void 0;var e=K(19),d=K(5),_=K(2);v.PredictorStream=class S extends e.DecodeStream{constructor(u,I,w){if(super(I),!(w instanceof d.Dict))return u;const k=this.predictor=w.get("Predictor")||1;if(k<=1)return u;if(2!==k&&(k<10||k>15))throw new _.FormatError(`Unsupported predictor: ${k}`);this.readBlock=2===k?this.readBlockTiff:this.readBlockPng,this.str=u,this.dict=u.dict;const s=this.colors=w.get("Colors")||1,i=this.bits=w.get("BPC","BitsPerComponent")||8,a=this.columns=w.get("Columns")||1;return this.pixBytes=s*i+7>>3,this.rowBytes=a*s*i+7>>3,this}readBlockTiff(){const u=this.rowBytes,I=this.bufferLength,w=this.ensureBuffer(I+u),k=this.bits,s=this.colors,i=this.str.getBytes(u);if(this.eof=!i.length,this.eof)return;let a,f=0,l=0,n=0,o=0,D=I;if(1===k&&1===s)for(a=0;a<u;++a){let m=i[a]^f;m^=m>>1,m^=m>>2,m^=m>>4,f=(1&m)<<7,w[D++]=m}else if(8===k){for(a=0;a<s;++a)w[D++]=i[a];for(;a<u;++a)w[D]=w[D-s]+i[a],D++}else if(16===k){const m=2*s;for(a=0;a<m;++a)w[D++]=i[a];for(;a<u;a+=2){const O=((255&i[a])<<8)+(255&i[a+1])+((255&w[D-m])<<8)+(255&w[D-m+1]);w[D++]=O>>8&255,w[D++]=255&O}}else{const m=new Uint8Array(s+1),O=(1<<k)-1;let B=0,h=I;const y=this.columns;for(a=0;a<y;++a)for(let g=0;g<s;++g)n<k&&(f=f<<8|255&i[B++],n+=8),m[g]=m[g]+(f>>n-k)&O,n-=k,l=l<<k|m[g],o+=k,o>=8&&(w[h++]=l>>o-8&255,o-=8);o>0&&(w[h++]=(l<<8-o)+(f&(1<<8-o)-1))}this.bufferLength+=u}readBlockPng(){const u=this.rowBytes,I=this.pixBytes,w=this.str.getByte(),k=this.str.getBytes(u);if(this.eof=!k.length,this.eof)return;const s=this.bufferLength,i=this.ensureBuffer(s+u);let a=i.subarray(s-u,s);0===a.length&&(a=new Uint8Array(u));let f,l,n,o=s;switch(w){case 0:for(f=0;f<u;++f)i[o++]=k[f];break;case 1:for(f=0;f<I;++f)i[o++]=k[f];for(;f<u;++f)i[o]=i[o-I]+k[f]&255,o++;break;case 2:for(f=0;f<u;++f)i[o++]=a[f]+k[f]&255;break;case 3:for(f=0;f<I;++f)i[o++]=(a[f]>>1)+k[f];for(;f<u;++f)i[o]=(a[f]+i[o-I]>>1)+k[f]&255,o++;break;case 4:for(f=0;f<I;++f)l=a[f],n=k[f],i[o++]=l+n;for(;f<u;++f){l=a[f];const D=a[f-I],m=i[o-I],O=m+l-D;let B=O-m;B<0&&(B=-B);let h=O-l;h<0&&(h=-h);let y=O-D;y<0&&(y=-y),n=k[f],i[o++]=B<=h&&B<=y?m+n:h<=y?l+n:D+n}break;default:throw new _.FormatError(`Unsupported predictor: ${w}`)}this.bufferLength+=u}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.RunLengthStream=void 0;var e=K(19);v.RunLengthStream=class d extends e.DecodeStream{constructor(S,t){super(t),this.str=S,this.dict=S.dict}readBlock(){const S=this.str.getBytes(2);if(!S||S.length<2||128===S[0])return void(this.eof=!0);let t,u=this.bufferLength,I=S[0];if(I<128){if(t=this.ensureBuffer(u+I+1),t[u++]=S[1],I>0){const w=this.str.getBytes(I);t.set(w,u),u+=I}}else{I=257-I;const w=S[1];t=this.ensureBuffer(u+I+1);for(let k=0;k<I;k++)t[u++]=w}this.bufferLength=u}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Font=v.ErrorFont=void 0;var e=K(2),d=K(35),_=K(38),S=K(40),t=K(39),u=K(37),I=K(41),w=K(42),k=K(43),s=K(44),i=K(45),a=K(46),f=K(16),l=K(47),n=K(6),o=K(10),D=K(48);const m=[[57344,63743],[1048576,1114109]],O=1e3,B=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","fontType","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","type","vertical"],h=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function y($){if(!$.fontMatrix||$.fontMatrix[0]===e.FONT_IDENTITY_MATRIX[0])return;const q=.001/$.fontMatrix[0],j=$.widths;for(const M in j)j[M]*=q;$.defaultWidth*=q}function g($){if(!$.fallbackToUnicode||$.toUnicode instanceof w.IdentityToUnicodeMap)return;const q=[];for(const j in $.fallbackToUnicode)$.toUnicode.has(j)||(q[j]=$.fallbackToUnicode[j]);q.length>0&&$.toUnicode.amend(q)}class r{constructor(q,j,M,U,H,W,G,Y,tt){this.originalCharCode=q,this.fontChar=j,this.unicode=M,this.accent=U,this.width=H,this.vmetric=W,this.operatorListId=G,this.isSpace=Y,this.isInFont=tt;const Z=(0,S.getCharUnicodeCategory)(M);this.isWhitespace=Z.isWhitespace,this.isZeroWidthDiacritic=Z.isZeroWidthDiacritic,this.isInvisibleFormatMark=Z.isInvisibleFormatMark}matchesForCache(q,j,M,U,H,W,G,Y,tt){return this.originalCharCode===q&&this.fontChar===j&&this.unicode===M&&this.accent===U&&this.width===H&&this.vmetric===W&&this.operatorListId===G&&this.isSpace===Y&&this.isInFont===tt}}function c($,q){return($<<8)+q}function P($,q,j){$[q+1]=j,$[q]=j>>>8}function T($,q){const j=($<<8)+q;return 32768&j?j-65536:j}function x($){return String.fromCharCode($>>8&255,255&$)}function C($){return $>32767?$=32767:$<-32768&&($=-32768),String.fromCharCode($>>8&255,255&$)}function b($){const q=$.peekBytes(4);return"ttcf"===(0,e.bytesToString)(q)}function R($,q){for(const j in q)$[+j]=q[j]}function F($,q,j){const M=[];let U;for(let H=0,W=$.length;H<W;H++)U=(0,S.getUnicodeForGlyph)($[H],q),-1!==U&&(M[H]=U);for(const H in j)U=(0,S.getUnicodeForGlyph)(j[H],q),-1!==U&&(M[+H]=U);return M}function N($,q,j=!1){switch(q.length){case 1:return q.charCodeAt(0);case 2:return q.charCodeAt(0)<<8|q.charCodeAt(1)}const M=`Unsupported CID string (charCode ${$}): "${q}".`;if(j)throw new e.FormatError(M);return(0,e.warn)(M),q}function E($,q,j,M){const U=Object.create(null),H=new Map,W=[],G=new Set;let Y=0;const tt=m[Y][0];let Z=tt,at=m[Y][1];for(let st in $){st|=0;let nt=$[st];if(!q(nt))continue;if(Z>at){if(Y++,Y>=m.length){(0,e.warn)("Ran out of space in font private use area.");break}Z=m[Y][0],at=m[Y][1]}const ot=Z++;0===nt&&(nt=j);let ct=M.get(st);"string"==typeof ct&&(ct=ct.codePointAt(0)),ct&&ct<tt&&!G.has(nt)&&(H.set(ct,nt),G.add(nt)),U[ot]=nt,W[st]=ot}return{toFontChar:W,charCodeToGlyphId:U,toUnicodeExtraMap:H,nextAvailableFontCharCode:Z}}function L($,q,j){const M=function(ae,Zt,Rt){const _t=[];for(const Dt in ae)ae[Dt]>=Rt||_t.push({fontCharCode:0|Dt,glyphId:ae[Dt]});if(Zt)for(const[Dt,Tt]of Zt)Tt>=Rt||_t.push({fontCharCode:Dt,glyphId:Tt});0===_t.length&&_t.push({fontCharCode:0,glyphId:0}),_t.sort(function(Tt,yt){return Tt.fontCharCode-yt.fontCharCode});const Mt=[],Pt=_t.length;for(let Dt=0;Dt<Pt;){const Tt=_t[Dt].fontCharCode,yt=[_t[Dt].glyphId];++Dt;let wt=Tt;for(;Dt<Pt&&wt+1===_t[Dt].fontCharCode&&(yt.push(_t[Dt].glyphId),++wt,++Dt,65535!==wt););Mt.push([Tt,wt,yt])}return Mt}($,q,j),U=M.at(-1)[1]>65535?2:1;let H,W,G,Y,tt="\0\0"+x(U)+"\0\x03\0\x01"+(0,e.string32)(4+8*U);for(H=M.length-1;H>=0&&!(M[H][0]<=65535);--H);const Z=H+1;M[H][0]<65535&&65535===M[H][1]&&(M[H][1]=65534);const at=M[H][1]<65535?1:0,st=Z+at,nt=l.OpenTypeFileBuilder.getSearchParams(st,2);let ot,ct,ht,ft,mt="",Ct="",At="",Ft="",gt="",Bt=0;for(H=0,W=Z;H<W;H++){ot=M[H],ct=ot[0],ht=ot[1],mt+=x(ct),Ct+=x(ht),ft=ot[2];let Vt=!0;for(G=1,Y=ft.length;G<Y;++G)if(ft[G]!==ft[G-1]+1){Vt=!1;break}if(Vt)At+=x(ft[0]-ct&65535),Ft+=x(0);else{const ae=2*(st-H)+2*Bt;for(Bt+=ht-ct+1,At+=x(0),Ft+=x(ae),G=0,Y=ft.length;G<Y;++G)gt+=x(ft[G])}}at>0&&(Ct+="\xff\xff",mt+="\xff\xff",At+="\0\x01",Ft+="\0\0");const qt="\0\0"+x(2*st)+x(nt.range)+x(nt.entry)+x(nt.rangeShift)+Ct+"\0\0"+mt+At+Ft+gt;let Nt="",Ht="";if(U>1){for(tt+="\0\x03\0\n"+(0,e.string32)(4+8*U+4+qt.length),Nt="",H=0,W=M.length;H<W;H++){ot=M[H],ct=ot[0],ft=ot[2];let Vt=ft[0];for(G=1,Y=ft.length;G<Y;++G)ft[G]!==ft[G-1]+1&&(ht=ot[0]+G-1,Nt+=(0,e.string32)(ct)+(0,e.string32)(ht)+(0,e.string32)(Vt),ct=ht+1,Vt=ft[G]);Nt+=(0,e.string32)(ct)+(0,e.string32)(ot[1])+(0,e.string32)(Vt)}Ht="\0\f\0\0"+(0,e.string32)(Nt.length+16)+"\0\0\0\0"+(0,e.string32)(Nt.length/12)}return tt+"\0\x04"+x(qt.length+4)+qt+Ht+Nt}function X($,q,j){j=j||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let M=0,U=0,H=0,W=0,G=null,Y=0;if(q){for(let ht in q){ht|=0,(G>ht||!G)&&(G=ht),Y<ht&&(Y=ht);const ft=(0,S.getUnicodeRangeFor)(ht);if(ft<32)M|=1<<ft;else if(ft<64)U|=1<<ft-32;else if(ft<96)H|=1<<ft-64;else{if(!(ft<123))throw new e.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");W|=1<<ft-96}}Y>65535&&(Y=65535)}else G=0,Y=255;const tt=$.bbox||[0,0,0,0],at=$.ascentScaled?1:(j.unitsPerEm||1/($.fontMatrix||e.FONT_IDENTITY_MATRIX)[0])/O,st=j.ascent||Math.round(at*($.ascent||tt[3]));let nt=j.descent||Math.round(at*($.descent||tt[1]));nt>0&&$.descent>0&&tt[1]<0&&(nt=-nt);const ot=j.yMax||st,ct=-j.yMin||-nt;return"\0\x03\x02$\x01\xf4\0\x05\0\0\x02\x8a\x02\xbb\0\0\0\x8c\x02\x8a\x02\xbb\0\0\x01\xdf\x001\x01\x02\0\0\0\0\x06"+String.fromCharCode($.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,e.string32)(M)+(0,e.string32)(U)+(0,e.string32)(H)+(0,e.string32)(W)+"*21*"+x($.italicAngle?1:0)+x(G||$.firstChar)+x(Y||$.lastChar)+x(st)+x(nt)+"\0d"+x(ot)+x(ct)+"\0\0\0\0\0\0\0\0"+x($.xHeight)+x($.capHeight)+x(0)+x(G||$.firstChar)+"\0\x03"}function V($){const q=Math.floor(65536*$.italicAngle);return"\0\x03\0\0"+(0,e.string32)(q)+"\0\0\0\0"+(0,e.string32)($.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function J($){return $.replace(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function z($,q){q||(q=[[],[]]);const j=[q[0][0]||"Original licence",q[0][1]||$,q[0][2]||"Unknown",q[0][3]||"uniqueID",q[0][4]||$,q[0][5]||"Version 0.11",q[0][6]||J($),q[0][7]||"Unknown",q[0][8]||"Unknown",q[0][9]||"Unknown"],M=[];let U,H,W,G,Y;for(U=0,H=j.length;U<H;U++){Y=q[1][U]||j[U];const ht=[];for(W=0,G=Y.length;W<G;W++)ht.push(x(Y.charCodeAt(W)));M.push(ht.join(""))}const tt=[j,M],Z=["\0\x01","\0\x03"],at=["\0\0","\0\x01"],st=["\0\0","\x04\t"],nt=j.length*Z.length;let ot="\0\0"+x(nt)+x(12*nt+6),ct=0;for(U=0,H=Z.length;U<H;U++){const ht=tt[U];for(W=0,G=ht.length;W<G;W++)Y=ht[W],ot+=Z[U]+at[U]+st[U]+x(W)+x(Y.length)+x(ct),ct+=Y.length}return ot+=j.join("")+M.join(""),ot}v.Font=class{constructor(q,j,M){this.name=q,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=M.loadedName,this.isType3Font=M.isType3Font,this.missingFile=!1,this.cssFontInfo=M.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let U=!!(M.flags&_.FontFlags.Serif);if(!U&&!M.isSimulatedFlags){const tt=q.replace(/[,_]/g,"-").split("-")[0],Z=(0,I.getSerifFonts)();for(const at of tt.split("+"))if(Z[at]){U=!0;break}}this.isSerifFont=U,this.isSymbolicFont=!!(M.flags&_.FontFlags.Symbolic),this.isMonospace=!!(M.flags&_.FontFlags.FixedPitch);let H=M.type,W=M.subtype;this.type=H,this.subtype=W;let G,Y="sans-serif";if(this.isMonospace?Y="monospace":this.isSerifFont&&(Y="serif"),this.fallbackName=Y,this.differences=M.differences,this.widths=M.widths,this.defaultWidth=M.defaultWidth,this.composite=M.composite,this.cMap=M.cMap,this.capHeight=M.capHeight/O,this.ascent=M.ascent/O,this.descent=M.descent/O,this.lineHeight=this.ascent-this.descent,this.fontMatrix=M.fontMatrix,this.bbox=M.bbox,this.defaultEncoding=M.defaultEncoding,this.toUnicode=M.toUnicode,this.toFontChar=[],"Type3"!==M.type)if(this.cidEncoding=M.cidEncoding||"",this.vertical=!!M.vertical,this.vertical&&(this.vmetrics=M.vmetrics,this.defaultVMetrics=M.defaultVMetrics),j&&!j.isEmpty){[H,W]=function A($,{type:q,subtype:j,composite:M}){let U,H;return function(G){const Y=G.peekBytes(4);return 65536===(0,n.readUint32)(Y,0)||"true"===(0,e.bytesToString)(Y)}($)||b($)?U=M?"CIDFontType2":"TrueType":function(G){const Y=G.peekBytes(4);return"OTTO"===(0,e.bytesToString)(Y)}($)?U=M?"CIDFontType2":"OpenType":function(G){const Y=G.peekBytes(2);return 37===Y[0]&&33===Y[1]||128===Y[0]&&1===Y[1]}($)?U=M?"CIDFontType0":"MMType1"===q?"MMType1":"Type1":function(G){const Y=G.peekBytes(4);return Y[0]>=1&&Y[3]>=1&&Y[3]<=4}($)?M?(U="CIDFontType0",H="CIDFontType0C"):(U="MMType1"===q?"MMType1":"Type1",H="Type1C"):((0,e.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),U=q,H=j),[U,H]}(j,M),H===this.type&&W===this.subtype||(0,e.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${H}/${W}.`);try{switch(H){case"MMType1":(0,e.info)("MMType1 font ("+q+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const tt="Type1C"===W||"CIDFontType0C"===W?new k.CFFFont(j,M):new D.Type1Font(q,j,M);y(M),G=this.convert(q,tt,M);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",G=this.checkAndRepair(q,j,M),this.isOpenType&&(y(M),H="OpenType");break;default:throw new e.FormatError(`Font ${H} is not supported`)}}catch(tt){return(0,e.warn)(tt),void this.fallbackToSystemFont(M)}g(M),this.data=G,this.fontType=(0,_.getFontType)(H,W,M.isStandardFont),this.fontMatrix=M.fontMatrix,this.widths=M.widths,this.defaultWidth=M.defaultWidth,this.toUnicode=M.toUnicode,this.seacMap=M.seacMap}else j&&(0,e.warn)('Font file is empty in "'+q+'" ('+this.loadedName+")"),this.fallbackToSystemFont(M);else{for(let tt=0;tt<256;tt++)this.toFontChar[tt]=this.differences[tt]||M.defaultEncoding[tt];this.fontType=e.FontType.TYPE3}}get renderer(){const q=s.FontRendererFactory.create(this,_.SEAC_ANALYSIS_ENABLED);return(0,e.shadow)(this,"renderer",q)}exportData(q=!1){const j=q?[...B,...h]:B,M=Object.create(null);let U,H;for(U of j)H=this[U],void 0!==H&&(M[U]=H);return M}fallbackToSystemFont(q){this.missingFile=!0;const j=this.name,M=this.type,U=this.subtype;let H=(0,_.normalizeFontName)(j);const W=(0,I.getStdFontMap)(),G=(0,I.getNonStdFontMap)(),Y=!!W[H],tt=!(!G[H]||!W[G[H]]);H=W[H]||G[H]||H;const Z=(0,i.getFontBasicMetrics)()[H];Z&&(isNaN(this.ascent)&&(this.ascent=Z.ascent/O),isNaN(this.descent)&&(this.descent=Z.descent/O),isNaN(this.capHeight)&&(this.capHeight=Z.capHeight/O)),this.bold=-1!==H.search(/bold/gi),this.italic=-1!==H.search(/oblique/gi)||-1!==H.search(/italic/gi),this.black=-1!==j.search(/Black/g);const at=-1!==j.search(/Narrow/g);if(this.remeasure=(!Y||at)&&Object.keys(this.widths).length>0,(Y||tt)&&"CIDFontType2"===M&&this.cidEncoding.startsWith("Identity-")){const st=q.cidToGidMap,nt=[];if(R(nt,(0,I.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(j)?R(nt,(0,I.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(j)&&R(nt,(0,I.getSupplementalGlyphMapForCalibri)()),st){for(const ot in nt){const ct=nt[ot];void 0!==st[ct]&&(nt[+ot]=st[ct])}st.length!==this.toUnicode.length&&q.hasIncludedToUnicodeMap&&this.toUnicode instanceof w.IdentityToUnicodeMap&&this.toUnicode.forEach(function(ot,ct){void 0===st[nt[ot]]&&(nt[+ot]=ct)})}this.toUnicode instanceof w.IdentityToUnicodeMap||this.toUnicode.forEach(function(ot,ct){nt[+ot]=ct}),this.toFontChar=nt,this.toUnicode=new w.ToUnicodeMap(nt)}else if(/Symbol/i.test(H))this.toFontChar=F(u.SymbolSetEncoding,(0,t.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(H))/Wingdings/i.test(j)&&(0,e.warn)("Non-embedded Wingdings font, falling back to ZapfDingbats."),this.toFontChar=F(u.ZapfDingbatsEncoding,(0,t.getDingbatsGlyphsUnicode)(),this.differences);else if(Y){const st=F(this.defaultEncoding,(0,t.getGlyphsUnicode)(),this.differences);"CIDFontType2"!==M||this.cidEncoding.startsWith("Identity-")||this.toUnicode instanceof w.IdentityToUnicodeMap||this.toUnicode.forEach(function(nt,ot){st[+nt]=ot}),this.toFontChar=st}else{const st=(0,t.getGlyphsUnicode)(),nt=[];this.toUnicode.forEach((ot,ct)=>{if(!this.composite){const ft=(0,S.getUnicodeForGlyph)(this.differences[ot]||this.defaultEncoding[ot],st);-1!==ft&&(ct=ft)}nt[+ot]=ct}),this.composite&&this.toUnicode instanceof w.IdentityToUnicodeMap&&/Verdana/i.test(j)&&R(nt,(0,I.getGlyphMapForStandardFonts)()),this.toFontChar=nt}g(q),this.loadedName=H.split("-")[0],this.fontType=(0,_.getFontType)(M,U,q.isStandardFont)}checkAndRepair(q,j,M){const U=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function H(Rt,_t){const Mt=Object.create(null);Mt["OS/2"]=null,Mt.cmap=null,Mt.head=null,Mt.hhea=null,Mt.hmtx=null,Mt.maxp=null,Mt.name=null,Mt.post=null;for(let Pt=0;Pt<_t;Pt++){const Dt=W(Rt);U.includes(Dt.tag)&&0!==Dt.length&&(Mt[Dt.tag]=Dt)}return Mt}function W(Rt){const _t=Rt.getString(4),Mt=Rt.getInt32()>>>0,Pt=Rt.getInt32()>>>0,Dt=Rt.getInt32()>>>0,Tt=Rt.pos;Rt.pos=Rt.start||0,Rt.skip(Pt);const yt=Rt.getBytes(Dt);return Rt.pos=Tt,"head"===_t&&(yt[8]=yt[9]=yt[10]=yt[11]=0,yt[17]|=32),{tag:_t,checksum:Mt,length:Dt,offset:Pt,data:yt}}function G(Rt){return{version:Rt.getString(4),numTables:Rt.getUint16(),searchRange:Rt.getUint16(),entrySelector:Rt.getUint16(),rangeShift:Rt.getUint16()}}function Y(Rt,_t,Mt,Pt,Dt,Tt){const yt={length:0,sizeOfInstructions:0};if(Mt-_t<=12)return yt;const wt=Rt.subarray(_t,Mt);let pt=T(wt[0],wt[1]);if(pt<0)return pt=-1,P(wt,0,pt),Pt.set(wt,Dt),yt.length=wt.length,yt;let kt,vt=10,Ot=0;for(kt=0;kt<pt;kt++)Ot=1+(wt[vt]<<8|wt[vt+1]),vt+=2;const Xt=vt,Yt=wt[vt]<<8|wt[vt+1];yt.sizeOfInstructions=Yt,vt+=2+Yt;const Qt=vt;let Ut=0;for(kt=0;kt<Ot;kt++){const ne=wt[vt++];192&ne&&(wt[vt-1]=63&ne);let pe=2;2&ne?pe=1:16&ne&&(pe=0);let oe=2;4&ne?oe=1:32&ne&&(oe=0);const jt=pe+oe;if(Ut+=jt,8&ne){const re=wt[vt++];kt+=re,Ut+=re*jt}}if(0===Ut)return yt;let te=vt+Ut;return te>wt.length?yt:!Tt&&Yt>0?(Pt.set(wt.subarray(0,Xt),Dt),Pt.set([0,0],Dt+Xt),Pt.set(wt.subarray(Qt,te),Dt+Xt+2),te-=Yt,wt.length-te>3&&(te=te+3&-4),yt.length=te,yt):wt.length-te>3?(te=te+3&-4,Pt.set(wt.subarray(0,te),Dt),yt.length=te,yt):(Pt.set(wt,Dt),yt.length=wt.length,yt)}function tt(Rt){const _t=(j.start||0)+Rt.offset;j.pos=_t;const Mt=[[],[]],Pt=Rt.length,Dt=_t+Pt;if(0!==j.getUint16()||Pt<6)return Mt;const Tt=j.getUint16(),yt=j.getUint16(),wt=[];let pt,kt;for(pt=0;pt<Tt&&j.pos+12<=Dt;pt++){const vt={platform:j.getUint16(),encoding:j.getUint16(),language:j.getUint16(),name:j.getUint16(),length:j.getUint16(),offset:j.getUint16()};(1===vt.platform&&0===vt.encoding&&0===vt.language||3===vt.platform&&1===vt.encoding&&1033===vt.language)&&wt.push(vt)}for(pt=0,kt=wt.length;pt<kt;pt++){const vt=wt[pt];if(vt.length<=0)continue;const Ot=_t+yt+vt.offset;if(Ot+vt.length>Dt)continue;j.pos=Ot;const Xt=vt.name;if(vt.encoding){let Yt="";for(let Qt=0,Ut=vt.length;Qt<Ut;Qt+=2)Yt+=String.fromCharCode(j.getUint16());Mt[1][Xt]=Yt}else Mt[0][Xt]=j.getString(vt.length)}return Mt}const Z=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function at(Rt,_t){let Mt,Pt,Dt,Tt,yt,wt=Rt.data,pt=0,kt=0,vt=0;const Ot=[],Xt=[],Yt=[];let Qt=_t.tooComplexToFollowFunctions,Ut=!1,te=0,ne=0;for(let oe=wt.length;pt<oe;){const jt=wt[pt++];if(64===jt)if(Pt=wt[pt++],Ut||ne)pt+=Pt;else for(Mt=0;Mt<Pt;Mt++)Ot.push(wt[pt++]);else if(65===jt)if(Pt=wt[pt++],Ut||ne)pt+=2*Pt;else for(Mt=0;Mt<Pt;Mt++)Dt=wt[pt++],Ot.push(Dt<<8|wt[pt++]);else if(176==(248&jt))if(Pt=jt-176+1,Ut||ne)pt+=Pt;else for(Mt=0;Mt<Pt;Mt++)Ot.push(wt[pt++]);else if(184==(248&jt))if(Pt=jt-184+1,Ut||ne)pt+=2*Pt;else for(Mt=0;Mt<Pt;Mt++)Dt=wt[pt++],Ot.push(Dt<<8|wt[pt++]);else if(43!==jt||Qt)if(44!==jt||Qt){if(45===jt)if(Ut)Ut=!1,kt=pt;else{if(yt=Xt.pop(),!yt)return(0,e.warn)("TT: ENDF bad stack"),void(_t.hintsValid=!1);Tt=Yt.pop(),wt=yt.data,pt=yt.i,_t.functionsStackDeltas[Tt]=Ot.length-yt.stackTop}else if(137===jt)(Ut||ne)&&((0,e.warn)("TT: nested IDEFs not allowed"),Qt=!0),Ut=!0,vt=pt;else if(88===jt)++te;else if(27===jt)ne=te;else if(89===jt)ne===te&&(ne=0),--te;else if(28===jt&&!Ut&&!ne){const re=Ot.at(-1);re>0&&(pt+=re-1)}}else(Ut||ne)&&((0,e.warn)("TT: nested FDEFs not allowed"),Qt=!0),Ut=!0,vt=pt,Tt=Ot.pop(),_t.functionsDefined[Tt]={data:wt,i:pt};else if(!Ut&&!ne)if(Tt=Ot.at(-1),isNaN(Tt))(0,e.info)("TT: CALL empty stack (or invalid entry).");else if(_t.functionsUsed[Tt]=!0,Tt in _t.functionsStackDeltas){const re=Ot.length+_t.functionsStackDeltas[Tt];if(re<0)return(0,e.warn)("TT: CALL invalid functions stack delta."),void(_t.hintsValid=!1);Ot.length=re}else if(Tt in _t.functionsDefined&&!Yt.includes(Tt)){if(Xt.push({data:wt,i:pt,stackTop:Ot.length-1}),Yt.push(Tt),yt=_t.functionsDefined[Tt],!yt)return(0,e.warn)("TT: CALL non-existent function"),void(_t.hintsValid=!1);wt=yt.data,pt=yt.i}if(!Ut&&!ne){let re=0;for(jt<=142?re=Z[jt]:jt>=192&&jt<=223?re=-1:jt>=224&&(re=-2),jt>=113&&jt<=117&&(Pt=Ot.pop(),isNaN(Pt)||(re=2*-Pt));re<0&&Ot.length>0;)Ot.pop(),re++;for(;re>0;)Ot.push(NaN),re--}}_t.tooComplexToFollowFunctions=Qt;const pe=[wt];pt>wt.length&&pe.push(new Uint8Array(pt-wt.length)),vt>kt&&((0,e.warn)("TT: complementing a missing function tail"),pe.push(new Uint8Array([34,45]))),function(jt,re){if(re.length>1){let Wt,ee,zt=0;for(Wt=0,ee=re.length;Wt<ee;Wt++)zt+=re[Wt].length;zt=zt+3&-4;const ie=new Uint8Array(zt);let se=0;for(Wt=0,ee=re.length;Wt<ee;Wt++)ie.set(re[Wt],se),se+=re[Wt].length;jt.data=ie,jt.length=zt}}(Rt,pe)}let st,nt,ot,ct;if(b(j=new o.Stream(new Uint8Array(j.getBytes())))){const Rt=function(Mt,Pt){const{numFonts:Dt,offsetTable:Tt}=function(kt){const vt=kt.getString(4);(0,e.assert)("ttcf"===vt,"Must be a TrueType Collection font.");const Ot=kt.getUint16(),Xt=kt.getUint16(),Yt=kt.getInt32()>>>0,Qt=[];for(let te=0;te<Yt;te++)Qt.push(kt.getInt32()>>>0);const Ut={ttcTag:vt,majorVersion:Ot,minorVersion:Xt,numFonts:Yt,offsetTable:Qt};switch(Ot){case 1:return Ut;case 2:return Ut.dsigTag=kt.getInt32()>>>0,Ut.dsigLength=kt.getInt32()>>>0,Ut.dsigOffset=kt.getInt32()>>>0,Ut}throw new e.FormatError(`Invalid TrueType Collection majorVersion: ${Ot}.`)}(Mt),yt=Pt.split("+");let wt;for(let pt=0;pt<Dt;pt++){Mt.pos=(Mt.start||0)+Tt[pt];const kt=G(Mt),vt=H(Mt,kt.numTables);if(!vt.name)throw new e.FormatError('TrueType Collection font must contain a "name" table.');const Ot=tt(vt.name);for(let Xt=0,Yt=Ot.length;Xt<Yt;Xt++)for(let Qt=0,Ut=Ot[Xt].length;Qt<Ut;Qt++){const te=Ot[Xt][Qt]&&Ot[Xt][Qt].replace(/\s/g,"");if(te){if(te===Pt)return{header:kt,tables:vt};if(!(yt.length<2))for(const ne of yt)te===ne&&(wt={name:ne,header:kt,tables:vt})}}}if(wt)return(0,e.warn)(`TrueType Collection does not contain "${Pt}" font, falling back to "${wt.name}" font instead.`),{header:wt.header,tables:wt.tables};throw new e.FormatError(`TrueType Collection does not contain "${Pt}" font.`)}(j,this.name);st=Rt.header,nt=Rt.tables}else st=G(j),nt=H(j,st.numTables);const ht=!nt["CFF "];if(ht){if(!nt.loca)throw new e.FormatError('Required "loca" table is not found');nt.glyf||((0,e.warn)('Required "glyf" table is not found -- trying to recover.'),nt.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{if("OTTO"===st.version&&(!M.composite||!((M.cidToGidMap||[]).length>0)&&M.cMap instanceof f.IdentityCMap)||!nt.head||!nt.hhea||!nt.maxp||!nt.post)return ct=new o.Stream(nt["CFF "].data),ot=new k.CFFFont(ct,M),y(M),this.convert(q,ot,M);delete nt.glyf,delete nt.loca,delete nt.fpgm,delete nt.prep,delete nt["cvt "],this.isOpenType=!0}if(!nt.maxp)throw new e.FormatError('Required "maxp" table is not found');j.pos=(j.start||0)+nt.maxp.offset;const ft=j.getInt32(),mt=j.getUint16();if(M.scaleFactors&&M.scaleFactors.length===mt&&ht){const{scaleFactors:Rt}=M,_t=c(nt.head.data[50],nt.head.data[51]),Mt=new a.GlyfTable({glyfTable:nt.glyf.data,isGlyphLocationsLong:_t,locaTable:nt.loca.data,numGlyphs:mt});Mt.scale(Rt);const{glyf:Pt,loca:Dt,isLocationLong:Tt}=Mt.write();nt.glyf.data=Pt,nt.loca.data=Dt,Tt!==!!_t&&(nt.head.data[50]=0,nt.head.data[51]=Tt?1:0);const yt=nt.hmtx.data;for(let wt=0;wt<mt;wt++){const pt=4*wt,kt=Math.round(Rt[wt]*c(yt[pt],yt[pt+1]));yt[pt]=kt>>8&255,yt[pt+1]=255&kt,P(yt,pt+2,Math.round(Rt[wt]*T(yt[pt+2],yt[pt+3])))}}let Ct=mt+1,At=!0;Ct>65535&&(At=!1,Ct=mt,(0,e.warn)("Not enough space in glyfs to duplicate first glyph."));let Ft=0,gt=0;ft>=65536&&nt.maxp.length>=22&&(j.pos+=8,j.getUint16()>2&&(nt.maxp.data[14]=0,nt.maxp.data[15]=2),j.pos+=4,Ft=j.getUint16(),j.pos+=4,gt=j.getUint16()),nt.maxp.data[4]=Ct>>8,nt.maxp.data[5]=255&Ct;const Bt=function(_t,Mt,Pt,Dt){const Tt={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(_t&&at(_t,Tt),Mt&&at(Mt,Tt),_t&&function(wt,pt){if(!wt.tooComplexToFollowFunctions)if(wt.functionsDefined.length>pt)(0,e.warn)("TT: more functions defined than expected"),wt.hintsValid=!1;else for(let kt=0,vt=wt.functionsUsed.length;kt<vt;kt++){if(kt>pt)return(0,e.warn)("TT: invalid function id: "+kt),void(wt.hintsValid=!1);if(wt.functionsUsed[kt]&&!wt.functionsDefined[kt])return(0,e.warn)("TT: undefined function: "+kt),void(wt.hintsValid=!1)}}(Tt,Dt),Pt&&1&Pt.length){const yt=new Uint8Array(Pt.length+1);yt.set(Pt.data),Pt.data=yt}return Tt.hintsValid}(nt.fpgm,nt.prep,nt["cvt "],Ft);if(Bt||(delete nt.fpgm,delete nt.prep,delete nt["cvt "]),function(_t,Mt,Pt,Dt,Tt,yt){if(!Mt)return void(Pt&&(Pt.data=null));_t.pos=(_t.start||0)+Mt.offset,_t.pos+=4,_t.pos+=2,_t.pos+=2,_t.pos+=2,_t.pos+=2,_t.pos+=2,_t.pos+=2,_t.pos+=2,_t.pos+=2,_t.pos+=2;const wt=_t.getUint16();_t.pos+=8,_t.pos+=2;let pt=_t.getUint16();0!==wt&&(2&c(Dt.data[44],Dt.data[45])||(Mt.data[22]=0,Mt.data[23]=0)),pt>Tt&&((0,e.info)(`The numOfMetrics (${pt}) should not be greater than the numGlyphs (${Tt}).`),pt=Tt,Mt.data[34]=(65280&pt)>>8,Mt.data[35]=255&pt);const kt=Tt-pt-(Pt.length-4*pt>>1);if(kt>0){const vt=new Uint8Array(Pt.length+2*kt);vt.set(Pt.data),yt&&(vt[Pt.length]=Pt.data[2],vt[Pt.length+1]=Pt.data[3]),Pt.data=vt}}(j,nt.hhea,nt.hmtx,nt.head,Ct,At),!nt.head)throw new e.FormatError('Required "head" table is not found');!function(_t,Mt,Pt){const Dt=_t.data,Tt=(Dt[0]<<24)+(Dt[1]<<16)+(Dt[2]<<8)+Dt[3];Tt>>16!=1&&((0,e.info)("Attempting to fix invalid version in head table: "+Tt),Dt[0]=0,Dt[1]=1,Dt[2]=0,Dt[3]=0);const yt=c(Dt[50],Dt[51]);if(yt<0||yt>1){(0,e.info)("Attempting to fix invalid indexToLocFormat in head table: "+yt);const wt=Mt+1;if(Pt===wt<<1)Dt[50]=0,Dt[51]=0;else{if(Pt!==wt<<2)throw new e.FormatError("Could not fix indexToLocFormat: "+yt);Dt[50]=0,Dt[51]=1}}}(nt.head,mt,ht?nt.loca.length:0);let qt=Object.create(null);if(ht){const Rt=c(nt.head.data[50],nt.head.data[51]),_t=function(Pt,Dt,Tt,yt,wt,pt,kt){let vt,Ot,Xt;yt?(vt=4,Ot=function(ie,se){return ie[se]<<24|ie[se+1]<<16|ie[se+2]<<8|ie[se+3]},Xt=function(ie,se,we){ie[se]=we>>>24&255,ie[se+1]=we>>16&255,ie[se+2]=we>>8&255,ie[se+3]=255&we}):(vt=2,Ot=function(ie,se){return ie[se]<<9|ie[se+1]<<1},Xt=function(ie,se,we){ie[se]=we>>9&255,ie[se+1]=we>>1&255});const Yt=pt?Tt+1:Tt,Qt=vt*(1+Yt),Ut=new Uint8Array(Qt);Ut.set(Pt.data.subarray(0,Qt)),Pt.data=Ut;const te=Dt.data,ne=te.length,pe=new Uint8Array(ne);let oe,jt;const re=[];for(oe=0,jt=0;oe<Tt+1;oe++,jt+=vt){let zt=Ot(Ut,jt);zt>ne&&(zt=ne),re.push({index:oe,offset:zt,endOffset:0})}for(re.sort((zt,ie)=>zt.offset-ie.offset),oe=0;oe<Tt;oe++)re[oe].endOffset=re[oe+1].offset;for(re.sort((zt,ie)=>zt.index-ie.index),oe=0;oe<Tt;oe++){const{offset:zt,endOffset:ie}=re[oe];if(0!==zt||0!==ie)break;const se=re[oe+1].offset;if(0!==se){re[oe].endOffset=se;break}}const Wt=Object.create(null);let ee=0;for(Xt(Ut,0,ee),oe=0,jt=vt;oe<Tt;oe++,jt+=vt){const zt=Y(te,re[oe].offset,re[oe].endOffset,pe,ee,wt),ie=zt.length;0===ie&&(Wt[oe]=!0),zt.sizeOfInstructions>kt&&(kt=zt.sizeOfInstructions),ee+=ie,Xt(Ut,jt,ee)}if(0===ee){const zt=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(oe=0,jt=vt;oe<Yt;oe++,jt+=vt)Xt(Ut,jt,zt.length);Dt.data=zt}else if(pt){const zt=Ot(Ut,vt);pe.length>zt+ee?Dt.data=pe.subarray(0,zt+ee):(Dt.data=new Uint8Array(zt+ee),Dt.data.set(pe.subarray(0,ee))),Dt.data.set(pe.subarray(0,zt),ee),Xt(Pt.data,Ut.length-vt,ee+zt)}else Dt.data=pe.subarray(0,ee);return{missingGlyphs:Wt,maxSizeOfInstructions:kt}}(nt.loca,nt.glyf,mt,Rt,Bt,At,gt);qt=_t.missingGlyphs,ft>=65536&&nt.maxp.length>=22&&(nt.maxp.data[26]=_t.maxSizeOfInstructions>>8,nt.maxp.data[27]=255&_t.maxSizeOfInstructions)}if(!nt.hhea)throw new e.FormatError('Required "hhea" table is not found');0===nt.hhea.data[10]&&0===nt.hhea.data[11]&&(nt.hhea.data[10]=255,nt.hhea.data[11]=255);const Nt={unitsPerEm:c(nt.head.data[18],nt.head.data[19]),yMax:c(nt.head.data[42],nt.head.data[43]),yMin:T(nt.head.data[38],nt.head.data[39]),ascent:T(nt.hhea.data[4],nt.hhea.data[5]),descent:T(nt.hhea.data[6],nt.hhea.data[7]),lineGap:T(nt.hhea.data[8],nt.hhea.data[9])};this.ascent=Nt.ascent/Nt.unitsPerEm,this.descent=Nt.descent/Nt.unitsPerEm,this.lineGap=Nt.lineGap/Nt.unitsPerEm,this.cssFontInfo&&this.cssFontInfo.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,nt.post&&function(_t,Mt,Pt){const Dt=(j.start||0)+_t.offset;j.pos=Dt;const Tt=Dt+_t.length,yt=j.getInt32();j.skip(28);let wt,pt,kt=!0;switch(yt){case 65536:wt=_.MacStandardGlyphOrdering;break;case 131072:const vt=j.getUint16();if(vt!==Pt){kt=!1;break}const Ot=[];for(pt=0;pt<vt;++pt){const Qt=j.getUint16();if(Qt>=32768){kt=!1;break}Ot.push(Qt)}if(!kt)break;const Xt=[],Yt=[];for(;j.pos<Tt;){const Qt=j.getByte();for(Yt.length=Qt,pt=0;pt<Qt;++pt)Yt[pt]=String.fromCharCode(j.getByte());Xt.push(Yt.join(""))}for(wt=[],pt=0;pt<vt;++pt){const Qt=Ot[pt];wt.push(Qt<258?_.MacStandardGlyphOrdering[Qt]:Xt[Qt-258])}break;case 196608:break;default:(0,e.warn)("Unknown/unsupported post table version "+yt),kt=!1,Mt.defaultEncoding&&(wt=Mt.defaultEncoding)}Mt.glyphNames=wt}(nt.post,M,mt),nt.post={tag:"post",data:V(M)};const Ht=[];function Vt(Rt){return!qt[Rt]}if(M.composite){const Rt=M.cidToGidMap||[],_t=0===Rt.length;M.cMap.forEach(function(Mt,Pt){if("string"==typeof Pt&&(Pt=N(Mt,Pt,!0)),Pt>65535)throw new e.FormatError("Max size of CID is 65,535");let Dt=-1;_t?Dt=Pt:void 0!==Rt[Pt]&&(Dt=Rt[Pt]),Dt>=0&&Dt<mt&&Vt(Dt)&&(Ht[Mt]=Dt)})}else{const Rt=function(pt,kt,vt,Ot){if(!pt)return(0,e.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let Xt,Yt=(kt.start||0)+pt.offset;kt.pos=Yt,kt.skip(2);const Qt=kt.getUint16();let Ut,te=!1;for(let Wt=0;Wt<Qt;Wt++){const ee=kt.getUint16(),zt=kt.getUint16(),ie=kt.getInt32()>>>0;let se=!1;if(!Ut||Ut.platformId!==ee||Ut.encodingId!==zt){if(0!==ee||0!==zt&&1!==zt&&3!==zt)if(1===ee&&0===zt)se=!0;else if(3!==ee||1!==zt||!Ot&&Ut){if(vt&&3===ee&&0===zt){se=!0;let we=!0;if(Wt<Qt-1){const ve=kt.peekBytes(2);c(ve[0],ve[1])<ee&&(we=!1)}we&&(te=!0)}}else se=!0,vt||(te=!0);else se=!0;if(se&&(Ut={platformId:ee,encodingId:zt,offset:ie}),te)break}}if(Ut&&(kt.pos=Yt+Ut.offset),!Ut||-1===kt.peekByte())return(0,e.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const ne=kt.getUint16();let pe=!1;const oe=[];let jt,re;if(0===ne){for(kt.skip(4),jt=0;jt<256;jt++){const Wt=kt.getByte();Wt&&oe.push({charCode:jt,glyphId:Wt})}pe=!0}else if(2===ne){kt.skip(4);const Wt=[];let ee=0;for(let ie=0;ie<256;ie++){const se=kt.getUint16()>>3;Wt.push(se),ee=Math.max(se,ee)}const zt=[];for(let ie=0;ie<=ee;ie++)zt.push({firstCode:kt.getUint16(),entryCount:kt.getUint16(),idDelta:T(kt.getByte(),kt.getByte()),idRangePos:kt.pos+kt.getUint16()});for(let ie=0;ie<256;ie++)if(0===Wt[ie])kt.pos=zt[0].idRangePos+2*ie,re=kt.getUint16(),oe.push({charCode:ie,glyphId:re});else{const se=zt[Wt[ie]];for(jt=0;jt<se.entryCount;jt++){const we=(ie<<8)+jt+se.firstCode;kt.pos=se.idRangePos+2*jt,re=kt.getUint16(),0!==re&&(re=(re+se.idDelta)%65536),oe.push({charCode:we,glyphId:re})}}}else if(4===ne){kt.skip(4);const Wt=kt.getUint16()>>1;kt.skip(6);const ee=[];let zt;for(zt=0;zt<Wt;zt++)ee.push({end:kt.getUint16()});for(kt.skip(2),zt=0;zt<Wt;zt++)ee[zt].start=kt.getUint16();for(zt=0;zt<Wt;zt++)ee[zt].delta=kt.getUint16();let ie,se=0;for(zt=0;zt<Wt;zt++){Xt=ee[zt];const ve=kt.getUint16();ve?(ie=(ve>>1)-(Wt-zt),Xt.offsetIndex=ie,se=Math.max(se,ie+Xt.end-Xt.start+1)):Xt.offsetIndex=-1}const we=[];for(jt=0;jt<se;jt++)we.push(kt.getUint16());for(zt=0;zt<Wt;zt++){Xt=ee[zt],Yt=Xt.start;const ve=Xt.end,bt=Xt.delta;for(ie=Xt.offsetIndex,jt=Yt;jt<=ve;jt++)65535!==jt&&(re=ie<0?jt:we[ie+jt-Yt],re=re+bt&65535,oe.push({charCode:jt,glyphId:re}))}}else if(6===ne){kt.skip(4);const Wt=kt.getUint16(),ee=kt.getUint16();for(jt=0;jt<ee;jt++)re=kt.getUint16(),oe.push({charCode:Wt+jt,glyphId:re})}else{if(12!==ne)return(0,e.warn)("cmap table has unsupported format: "+ne),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};{kt.skip(10);const Wt=kt.getInt32()>>>0;for(jt=0;jt<Wt;jt++){const ee=kt.getInt32()>>>0,zt=kt.getInt32()>>>0;let ie=kt.getInt32()>>>0;for(let se=ee;se<=zt;se++)oe.push({charCode:se,glyphId:ie++})}}}oe.sort(function(Wt,ee){return Wt.charCode-ee.charCode});for(let Wt=1;Wt<oe.length;Wt++)oe[Wt-1].charCode===oe[Wt].charCode&&(oe.splice(Wt,1),Wt--);return{platformId:Ut.platformId,encodingId:Ut.encodingId,mappings:oe,hasShortCmap:pe}}(nt.cmap,j,this.isSymbolicFont,M.hasEncoding),_t=Rt.platformId,Mt=Rt.encodingId,Pt=Rt.mappings,Dt=Pt.length;let Tt=[],yt=!1;if(!M.hasEncoding||"MacRomanEncoding"!==M.baseEncodingName&&"WinAnsiEncoding"!==M.baseEncodingName||(Tt=(0,u.getEncoding)(M.baseEncodingName)),M.hasEncoding&&!this.isSymbolicFont&&(3===_t&&1===Mt||1===_t&&0===Mt)){const wt=(0,t.getGlyphsUnicode)();for(let pt=0;pt<256;pt++){let kt;if(kt=void 0!==this.differences[pt]?this.differences[pt]:Tt.length&&""!==Tt[pt]?Tt[pt]:u.StandardEncoding[pt],!kt)continue;const vt=(0,_.recoverGlyphName)(kt,wt);let Ot;if(3===_t&&1===Mt?Ot=wt[vt]:1===_t&&0===Mt&&(Ot=u.MacRomanEncoding.indexOf(vt)),void 0===Ot){if(!M.glyphNames&&M.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof w.IdentityToUnicodeMap)){const Xt=this.toUnicode.get(pt);Xt&&(Ot=Xt.codePointAt(0))}if(void 0===Ot)continue}for(let Xt=0;Xt<Dt;++Xt)if(Pt[Xt].charCode===Ot){Ht[pt]=Pt[Xt].glyphId;break}}}else if(0===_t){for(let wt=0;wt<Dt;++wt)Ht[Pt[wt].charCode]=Pt[wt].glyphId;yt=!0}else for(let wt=0;wt<Dt;++wt){let pt=Pt[wt].charCode;3===_t&&pt>=61440&&pt<=61695&&(pt&=255),Ht[pt]=Pt[wt].glyphId}if(M.glyphNames&&(Tt.length||this.differences.length))for(let wt=0;wt<256;++wt){if(!yt&&void 0!==Ht[wt])continue;const pt=this.differences[wt]||Tt[wt];if(!pt)continue;const kt=M.glyphNames.indexOf(pt);kt>0&&Vt(kt)&&(Ht[wt]=kt)}}0===Ht.length&&(Ht[0]=0);let ae=Ct-1;if(At||(ae=0),!M.cssFontInfo){const Rt=E(Ht,Vt,ae,this.toUnicode);this.toFontChar=Rt.toFontChar,nt.cmap={tag:"cmap",data:L(Rt.charCodeToGlyphId,Rt.toUnicodeExtraMap,Ct)},nt["OS/2"]&&function(Mt,Pt){Pt.pos=(Pt.start||0)+Mt.offset;const Dt=Pt.getUint16();Pt.skip(60);const Tt=Pt.getUint16();return!(Dt<4&&768&Tt||Pt.getUint16()>Pt.getUint16()||(Pt.skip(6),0===Pt.getUint16())||(Mt.data[8]=Mt.data[9]=0,0))}(nt["OS/2"],j)||(nt["OS/2"]={tag:"OS/2",data:X(M,Rt.charCodeToGlyphId,Nt)})}if(!ht)try{ct=new o.Stream(nt["CFF "].data),ot=new d.CFFParser(ct,M,_.SEAC_ANALYSIS_ENABLED).parse(),ot.duplicateFirstGlyph();const Rt=new d.CFFCompiler(ot);nt["CFF "].data=Rt.compile()}catch{(0,e.warn)("Failed to compile font "+M.loadedName)}if(nt.name){const Rt=tt(nt.name);nt.name.data=z(q,Rt),this.psName=Rt[0][6]||null}else nt.name={tag:"name",data:z(this.name)};const Zt=new l.OpenTypeFileBuilder(st.version);for(const Rt in nt)Zt.addTable(Rt,nt[Rt].data);return Zt.toArray()}convert(q,j,M){M.fixedPitch=!1,M.builtInEncoding&&function(ht,ft){if(ht.isInternalFont||ft===ht.defaultEncoding||ht.toUnicode instanceof w.IdentityToUnicodeMap)return;const mt=[],Ct=(0,t.getGlyphsUnicode)();for(const At in ft){if(ht.hasIncludedToUnicodeMap){if(ht.toUnicode.has(At))continue}else if(ht.hasEncoding&&(0===ht.differences.length||void 0!==ht.differences[At]))continue;const gt=(0,S.getUnicodeForGlyph)(ft[At],Ct);-1!==gt&&(mt[At]=String.fromCharCode(gt))}mt.length>0&&ht.toUnicode.amend(mt)}(M,M.builtInEncoding);let U=1;j instanceof k.CFFFont&&(U=j.numGlyphs-1);const H=j.getGlyphMapping(M);let W=null,G=H,Y=null;M.cssFontInfo||(W=E(H,j.hasGlyphId.bind(j),U,this.toUnicode),this.toFontChar=W.toFontChar,G=W.charCodeToGlyphId,Y=W.toUnicodeExtraMap);const tt=j.numGlyphs;function Z(ct,ht){let ft=null;for(const mt in ct)ht===ct[mt]&&(ft||(ft=[]),ft.push(0|mt));return ft}function at(ct,ht){for(const ft in ct)if(ht===ct[ft])return 0|ft;return W.charCodeToGlyphId[W.nextAvailableFontCharCode]=ht,W.nextAvailableFontCharCode++}const st=j.seacs;if(W&&_.SEAC_ANALYSIS_ENABLED&&st&&st.length){const ct=M.fontMatrix||e.FONT_IDENTITY_MATRIX,ht=j.getCharset(),ft=Object.create(null);for(let mt in st){mt|=0;const Ct=st[mt],Ft=u.StandardEncoding[Ct[3]],gt=ht.indexOf(u.StandardEncoding[Ct[2]]),Bt=ht.indexOf(Ft);if(gt<0||Bt<0)continue;const qt={x:Ct[0]*ct[0]+Ct[1]*ct[2]+ct[4],y:Ct[0]*ct[1]+Ct[1]*ct[3]+ct[5]},Nt=Z(H,mt);if(Nt)for(let Ht=0,Vt=Nt.length;Ht<Vt;Ht++){const ae=Nt[Ht],Zt=W.charCodeToGlyphId,Rt=at(Zt,gt),_t=at(Zt,Bt);ft[ae]={baseFontCharCode:Rt,accentFontCharCode:_t,accentOffset:qt}}}M.seacMap=ft}const nt=1/(M.fontMatrix||e.FONT_IDENTITY_MATRIX)[0],ot=new l.OpenTypeFileBuilder("OTTO");return ot.addTable("CFF ",j.data),ot.addTable("OS/2",X(M,G)),ot.addTable("cmap",L(G,Y,tt)),ot.addTable("head","\0\x01\0\0\0\0\x10\0\0\0\0\0_\x0f<\xf5\0\0"+C(nt)+"\0\0\0\0\x9e\v~'\0\0\0\0\x9e\v~'\0\0"+C(M.descent)+"\x0f\xff"+C(M.ascent)+x(M.italicAngle?2:0)+"\0\x11\0\0\0\0\0\0"),ot.addTable("hhea","\0\x01\0\0"+C(M.ascent)+C(M.descent)+"\0\0\xff\xff\0\0\0\0\0\0"+C(M.capHeight)+C(Math.tan(M.italicAngle)*M.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+x(tt)),ot.addTable("hmtx",function(){const ht=j.charstrings,ft=j.cff?j.cff.widths:null;let mt="\0\0\0\0";for(let Ct=1,At=tt;Ct<At;Ct++){let Ft=0;if(ht){const gt=ht[Ct-1];Ft="width"in gt?gt.width:0}else ft&&(Ft=Math.ceil(ft[Ct]||0));mt+=x(Ft)+x(0)}return mt}()),ot.addTable("maxp","\0\0P\0"+x(tt)),ot.addTable("name",z(q)),ot.addTable("post",V(M)),ot.toArray()}get spaceWidth(){const q=["space","minus","one","i","I"];let j;for(let M=0,U=q.length;M<U;M++){const H=q[M];if(H in this.widths){j=this.widths[H];break}const W=(0,t.getGlyphsUnicode)()[H];let G=0;if(this.composite&&this.cMap.contains(W)&&(G=this.cMap.lookup(W),"string"==typeof G&&(G=N(W,G))),!G&&this.toUnicode&&(G=this.toUnicode.charCodeOf(W)),G<=0&&(G=W),j=this.widths[G],j)break}return j=j||this.defaultWidth,(0,e.shadow)(this,"spaceWidth",j)}_charToGlyph(q,j=!1){let M,U,H,W=q;this.cMap&&this.cMap.contains(q)&&(W=this.cMap.lookup(q),"string"==typeof W&&(W=N(q,W))),U=this.widths[W],"number"!=typeof U&&(U=this.defaultWidth);const G=this.vmetrics&&this.vmetrics[W];let Y=this.toUnicode.get(q)||q;"number"==typeof Y&&(Y=String.fromCharCode(Y));let tt=void 0!==this.toFontChar[q];if(M=this.toFontChar[q]||q,this.missingFile){const nt=this.differences[q]||this.defaultEncoding[q];".notdef"!==nt&&""!==nt||"Type1"!==this.type||(M=32),M=(0,S.mapSpecialUnicodeValues)(M)}this.isType3Font&&(H=M);let Z=null;if(this.seacMap&&this.seacMap[q]){tt=!0;const nt=this.seacMap[q];M=nt.baseFontCharCode,Z={fontChar:String.fromCodePoint(nt.accentFontCharCode),offset:nt.accentOffset}}let at="";"number"==typeof M&&(M<=1114111?at=String.fromCodePoint(M):(0,e.warn)(`charToGlyph - invalid fontCharCode: ${M}`));let st=this._glyphCache[q];return(!st||!st.matchesForCache(q,at,Y,Z,U,G,H,j,tt))&&(st=new r(q,at,Y,Z,U,G,H,j,tt),this._glyphCache[q]=st),st}charsToGlyphs(q){let j=this._charsCache[q];if(j)return j;if(j=[],this.cMap){const M=Object.create(null),U=q.length;let H=0;for(;H<U;){this.cMap.readCharCode(q,H,M);const{charcode:W,length:G}=M;H+=G;const Y=this._charToGlyph(W,1===G&&32===q.charCodeAt(H-1));j.push(Y)}}else for(let M=0,U=q.length;M<U;++M){const H=q.charCodeAt(M),W=this._charToGlyph(H,32===H);j.push(W)}return this._charsCache[q]=j}getCharPositions(q){const j=[];if(this.cMap){const M=Object.create(null);let U=0;for(;U<q.length;){this.cMap.readCharCode(q,U,M);const H=M.length;j.push([U,U+H]),U+=H}}else for(let M=0,U=q.length;M<U;++M)j.push([M,M+1]);return j}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(q){const j=[],M=[],U=()=>j.length%2==1,H=this.toUnicode instanceof w.IdentityToUnicodeMap?W=>this.toUnicode.charCodeOf(W):W=>this.toUnicode.charCodeOf(String.fromCodePoint(W));for(let W=0,G=q.length;W<G;W++){const Y=q.codePointAt(W);if(Y>55295&&(Y<57344||Y>65533)&&W++,this.toUnicode){const tt=H(Y);if(-1!==tt){U()&&(j.push(M.join("")),M.length=0);for(let Z=(this.cMap?this.cMap.getCharCodeLength(tt):1)-1;Z>=0;Z--)M.push(String.fromCharCode(tt>>8*Z&255));continue}}U()||(j.push(M.join("")),M.length=0),M.push(String.fromCodePoint(Y))}return j.push(M.join("")),j}},v.ErrorFont=class{constructor(q){this.error=q,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(q){return[q]}exportData(q=!1){return{error:this.error}}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CFFTopDict=v.CFFStrings=v.CFFStandardStrings=v.CFFPrivateDict=v.CFFParser=v.CFFIndex=v.CFFHeader=v.CFFFDSelect=v.CFFCompiler=v.CFFCharset=v.CFF=void 0;var e=K(2),d=K(36),_=K(37);const S=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];v.CFFStandardStrings=S;const u=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],I=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(g,r){g[r-2]=g[r-2]+g[r-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(g,r){g[r-2]=g[r-2]-g[r-1]}},{id:"div",min:2,stackDelta:-1,stackFn(g,r){g[r-2]=g[r-2]/g[r-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(g,r){g[r-1]=-g[r-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(g,r){g[r-2]=g[r-2]*g[r-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];v.CFFParser=class{constructor(r,c,P){this.bytes=r.getBytes(),this.properties=c,this.seacAnalysisEnabled=!!P}parse(){const r=this.properties,c=new w;this.cff=c;const P=this.parseHeader(),T=this.parseIndex(P.endPos),x=this.parseIndex(T.endPos),C=this.parseIndex(x.endPos),b=this.parseIndex(C.endPos),A=this.parseDict(x.obj.get(0)),R=this.createDict(l,A,c.strings);c.header=P.obj,c.names=this.parseNameIndex(T.obj),c.strings=this.parseStringIndex(C.obj),c.topDict=R,c.globalSubrIndex=b.obj,this.parsePrivateDict(c.topDict),c.isCIDFont=R.hasName("ROS");const F=R.getByName("CharStrings"),N=this.parseIndex(F).obj,E=R.getByName("FontMatrix");E&&(r.fontMatrix=E);const L=R.getByName("FontBBox");let X,V;if(L&&(r.ascent=Math.max(L[3],L[1]),r.descent=Math.min(L[1],L[3]),r.ascentScaled=!0),c.isCIDFont){const z=this.parseIndex(R.getByName("FDArray")).obj;for(let $=0,q=z.count;$<q;++$){const j=z.get($),M=this.createDict(l,this.parseDict(j),c.strings);this.parsePrivateDict(M),c.fdArray.push(M)}V=null,X=this.parseCharsets(R.getByName("charset"),N.count,c.strings,!0),c.fdSelect=this.parseFDSelect(R.getByName("FDSelect"),N.count)}else X=this.parseCharsets(R.getByName("charset"),N.count,c.strings,!1),V=this.parseEncoding(R.getByName("Encoding"),r,c.strings,X.charset);c.charset=X,c.encoding=V;const J=this.parseCharStrings({charStrings:N,localSubrIndex:R.privateDict.subrsIndex,globalSubrIndex:b.obj,fdSelect:c.fdSelect,fdArray:c.fdArray,privateDict:R.privateDict});return c.charStrings=J.charStrings,c.seacs=J.seacs,c.widths=J.widths,c}parseHeader(){let r=this.bytes;const c=r.length;let P=0;for(;P<c&&1!==r[P];)++P;if(P>=c)throw new e.FormatError("Invalid CFF header");0!==P&&((0,e.info)("cff data is shifted"),r=r.subarray(P),this.bytes=r);const C=r[2];return{obj:new k(r[0],r[1],C,r[3]),endPos:C}}parseDict(r){let c=0;function P(){let b=r[c++];return 30===b?function(){let R="";const N=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],E=r.length;for(;c<E;){const L=r[c++],X=L>>4,V=15&L;if(15===X||(R+=N[X],15===V))break;R+=N[V]}return parseFloat(R)}():28===b?(b=r[c++],b=(b<<24|r[c++]<<16)>>16,b):29===b?(b=r[c++],b=b<<8|r[c++],b=b<<8|r[c++],b=b<<8|r[c++],b):b>=32&&b<=246?b-139:b>=247&&b<=250?256*(b-247)+r[c++]+108:b>=251&&b<=254?-256*(b-251)-r[c++]-108:((0,e.warn)('CFFParser_parseDict: "'+b+'" is a reserved command.'),NaN)}let T=[];const x=[];c=0;const C=r.length;for(;c<C;){let b=r[c];b<=21?(12===b&&(b=b<<8|r[++c]),x.push([b,T]),T=[],++c):T.push(P())}return x}parseIndex(r){const c=new i,P=this.bytes,T=P[r++]<<8|P[r++],x=[];let C,b,A=r;if(0!==T){const R=P[r++],F=r+(T+1)*R-1;for(C=0,b=T+1;C<b;++C){let N=0;for(let E=0;E<R;++E)N<<=8,N+=P[r++];x.push(F+N)}A=x[T]}for(C=0,b=x.length-1;C<b;++C)c.add(P.subarray(x[C],x[C+1]));return{obj:c,endPos:A}}parseNameIndex(r){const c=[];for(let P=0,T=r.count;P<T;++P){const x=r.get(P);c.push((0,e.bytesToString)(x))}return c}parseStringIndex(r){const c=new s;for(let P=0,T=r.count;P<T;++P){const x=r.get(P);c.add((0,e.bytesToString)(x))}return c}createDict(r,c,P){const T=new r(P);for(let x=0,C=c.length;x<C;++x){const b=c[x];T.setByKey(b[0],b[1])}return T}parseCharString(r,c,P,T){if(!c||r.callDepth>10)return!1;let x=r.stackSize;const C=r.stack,b=c.length;for(let A=0;A<b;){const R=c[A++];let F=null;if(12===R){const N=c[A++];0===N?(c[A-2]=139,c[A-1]=22,x=0):F=I[N]}else if(28===R)C[x]=(c[A]<<24|c[A+1]<<16)>>16,A+=2,x++;else if(14===R){if(x>=4&&(x-=4,this.seacAnalysisEnabled))return r.seac=C.slice(x,x+4),!1;F=u[R]}else if(R>=32&&R<=246)C[x]=R-139,x++;else if(R>=247&&R<=254)C[x]=R<251?(R-247<<8)+c[A]+108:-(R-251<<8)-c[A]-108,A++,x++;else if(255===R)C[x]=(c[A]<<24|c[A+1]<<16|c[A+2]<<8|c[A+3])/65536,A+=4,x++;else if(19===R||20===R)r.hints+=x>>1,A+=r.hints+7>>3,x%=2,F=u[R];else{if(10===R||29===R){let N;if(N=10===R?P:T,!N)return F=u[R],(0,e.warn)("Missing subrsIndex for "+F.id),!1;let E=32768;N.count<1240?E=107:N.count<33900&&(E=1131);const L=C[--x]+E;if(L<0||L>=N.count||isNaN(L))return F=u[R],(0,e.warn)("Out of bounds subrIndex for "+F.id),!1;if(r.stackSize=x,r.callDepth++,!this.parseCharString(r,N.get(L),P,T))return!1;r.callDepth--,x=r.stackSize;continue}if(11===R)return r.stackSize=x,!0;0===R&&A===c.length?(c[A-1]=14,F=u[14]):F=u[R]}if(F){if(F.stem&&(r.hints+=x>>1,3===R||23===R?r.hasVStems=!0:r.hasVStems&&(1===R||18===R)&&((0,e.warn)("CFF stem hints are in wrong order"),c[A-1]=1===R?3:23)),"min"in F&&!r.undefStack&&x<F.min)return(0,e.warn)("Not enough parameters for "+F.id+"; actual: "+x+", expected: "+F.min),0===x&&(c[A-1]=14,!0);r.firstStackClearing&&F.stackClearing&&(r.firstStackClearing=!1,x-=F.min,x>=2&&F.stem?x%=2:x>1&&(0,e.warn)("Found too many parameters for stack-clearing command"),x>0&&(r.width=C[x-1])),"stackDelta"in F?("stackFn"in F&&F.stackFn(C,x),x+=F.stackDelta):F.stackClearing?x=0:F.resetStack?(x=0,r.undefStack=!1):F.undefStack&&(x=0,r.undefStack=!0,r.firstStackClearing=!1)}}return r.stackSize=x,!0}parseCharStrings({charStrings:r,localSubrIndex:c,globalSubrIndex:P,fdSelect:T,fdArray:x,privateDict:C}){const b=[],A=[],R=r.count;for(let F=0;F<R;F++){const N=r.get(F),E={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let L=!0,X=null,V=C;if(T&&x.length){const J=T.getFDIndex(F);-1===J&&((0,e.warn)("Glyph index is not in fd select."),L=!1),J>=x.length&&((0,e.warn)("Invalid fd index for glyph index."),L=!1),L&&(V=x[J].privateDict,X=V.subrsIndex)}else c&&(X=c);if(L&&(L=this.parseCharString(E,N,X,P)),null!==E.width){const J=V.getByName("nominalWidthX");A[F]=J+E.width}else{const J=V.getByName("defaultWidthX");A[F]=J}null!==E.seac&&(b[F]=E.seac),L||r.set(F,new Uint8Array([14]))}return{charStrings:r,seacs:b,widths:A}}emptyPrivateDictionary(r){const c=this.createDict(o,[],r.strings);r.setByKey(18,[0,0]),r.privateDict=c}parsePrivateDict(r){if(!r.hasName("Private"))return void this.emptyPrivateDictionary(r);const c=r.getByName("Private");if(!Array.isArray(c)||2!==c.length)return void r.removeByName("Private");const P=c[0],T=c[1];if(0===P||T>=this.bytes.length)return void this.emptyPrivateDictionary(r);const C=this.bytes.subarray(T,T+P),b=this.parseDict(C),A=this.createDict(o,b,r.strings);if(r.privateDict=A,!A.getByName("Subrs"))return;const R=A.getByName("Subrs"),F=T+R;if(0===R||F>=this.bytes.length)return void this.emptyPrivateDictionary(r);const N=this.parseIndex(F);A.subrsIndex=N.obj}parseCharsets(r,c,P,T){if(0===r)return new m(!0,D.ISO_ADOBE,d.ISOAdobeCharset);if(1===r)return new m(!0,D.EXPERT,d.ExpertCharset);if(2===r)return new m(!0,D.EXPERT_SUBSET,d.ExpertSubsetCharset);const x=this.bytes,C=r,b=x[r++],A=[T?0:".notdef"];let R,F,N;switch(c-=1,b){case 0:for(N=0;N<c;N++)R=x[r++]<<8|x[r++],A.push(T?R:P.get(R));break;case 1:for(;A.length<=c;)for(R=x[r++]<<8|x[r++],F=x[r++],N=0;N<=F;N++)A.push(T?R++:P.get(R++));break;case 2:for(;A.length<=c;)for(R=x[r++]<<8|x[r++],F=x[r++]<<8|x[r++],N=0;N<=F;N++)A.push(T?R++:P.get(R++));break;default:throw new e.FormatError("Unknown charset format")}const L=x.subarray(C,r);return new m(!1,b,A,L)}parseEncoding(r,c,P,T){const x=Object.create(null),C=this.bytes;let b,A,R,F=!1,N=null;if(0===r||1===r){F=!0,b=r;const E=r?_.ExpertEncoding:_.StandardEncoding;for(A=0,R=T.length;A<R;A++){const L=E.indexOf(T[A]);-1!==L&&(x[L]=A)}}else{const E=r;switch(b=C[r++],127&b){case 0:const X=C[r++];for(A=1;A<=X;A++)x[C[r++]]=A;break;case 1:const V=C[r++];let J=1;for(A=0;A<V;A++){const z=C[r++],$=C[r++];for(let q=z;q<=z+$;q++)x[q]=J++}break;default:throw new e.FormatError(`Unknown encoding format: ${b} in CFF`)}const L=r;128&b&&(C[E]&=127,function(){const V=C[r++];for(A=0;A<V;A++){const J=C[r++],z=(C[r++]<<8)+(255&C[r++]);x[J]=T.indexOf(P.get(z))}}()),N=C.subarray(E,L)}return b&=127,new O(F,b,x,N)}parseFDSelect(r,c){const P=this.bytes,T=P[r++],x=[];let C;switch(T){case 0:for(C=0;C<c;++C){const A=P[r++];x.push(A)}break;case 3:const b=P[r++]<<8|P[r++];for(C=0;C<b;++C){let A=P[r++]<<8|P[r++];0===C&&0!==A&&((0,e.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),A=0);const R=P[r++],F=P[r]<<8|P[r+1];for(let N=A;N<F;++N)x.push(R)}r+=2;break;default:throw new e.FormatError(`parseFDSelect: Unknown format "${T}".`)}if(x.length!==c)throw new e.FormatError("parseFDSelect: Invalid font data.");return new B(T,x)}};class w{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new s,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535)return void(0,e.warn)("Not enough space in charstrings to duplicate first glyph.");const r=this.charStrings.get(0);this.charStrings.add(r),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(r){return!(r<0||r>=this.charStrings.count)&&this.charStrings.get(r).length>0}}v.CFF=w;class k{constructor(r,c,P,T){this.major=r,this.minor=c,this.hdrSize=P,this.offSize=T}}v.CFFHeader=k;class s{constructor(){this.strings=[]}get(r){return r>=0&&r<=390?S[r]:r-391<=this.strings.length?this.strings[r-391]:S[0]}getSID(r){let c=S.indexOf(r);return-1!==c?c:(c=this.strings.indexOf(r),-1!==c?c+391:-1)}add(r){this.strings.push(r)}get count(){return this.strings.length}}v.CFFStrings=s;class i{constructor(){this.objects=[],this.length=0}add(r){this.length+=r.length,this.objects.push(r)}set(r,c){this.length+=c.length-this.objects[r].length,this.objects[r]=c}get(r){return this.objects[r]}get count(){return this.objects.length}}v.CFFIndex=i;class a{constructor(r,c){this.keyToNameMap=r.keyToNameMap,this.nameToKeyMap=r.nameToKeyMap,this.defaults=r.defaults,this.types=r.types,this.opcodes=r.opcodes,this.order=r.order,this.strings=c,this.values=Object.create(null)}setByKey(r,c){if(!(r in this.keyToNameMap))return!1;const P=c.length;if(0===P)return!0;for(let x=0;x<P;x++)if(isNaN(c[x]))return(0,e.warn)('Invalid CFFDict value: "'+c+'" for key "'+r+'".'),!0;const T=this.types[r];return"num"!==T&&"sid"!==T&&"offset"!==T||(c=c[0]),this.values[r]=c,!0}setByName(r,c){if(!(r in this.nameToKeyMap))throw new e.FormatError(`Invalid dictionary name "${r}"`);this.values[this.nameToKeyMap[r]]=c}hasName(r){return this.nameToKeyMap[r]in this.values}getByName(r){if(!(r in this.nameToKeyMap))throw new e.FormatError(`Invalid dictionary name ${r}"`);const c=this.nameToKeyMap[r];return c in this.values?this.values[c]:this.defaults[c]}removeByName(r){delete this.values[this.nameToKeyMap[r]]}static createTables(r){const c={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(let P=0,T=r.length;P<T;++P){const x=r[P],C=Array.isArray(x[0])?(x[0][0]<<8)+x[0][1]:x[0];c.keyToNameMap[C]=x[1],c.nameToKeyMap[x[1]]=C,c.types[C]=x[2],c.defaults[C]=x[3],c.opcodes[C]=Array.isArray(x[0])?x[0]:[x[0]],c.order.push(C)}return c}}const f=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class l extends a{static get tables(){return(0,e.shadow)(this,"tables",this.createTables(f))}constructor(r){super(l.tables,r),this.privateDict=null}}v.CFFTopDict=l;const n=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class o extends a{static get tables(){return(0,e.shadow)(this,"tables",this.createTables(n))}constructor(r){super(o.tables,r),this.subrsIndex=null}}v.CFFPrivateDict=o;const D={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class m{constructor(r,c,P,T){this.predefined=r,this.format=c,this.charset=P,this.raw=T}}v.CFFCharset=m;class O{constructor(r,c,P,T){this.predefined=r,this.format=c,this.encoding=P,this.raw=T}}class B{constructor(r,c){this.format=r,this.fdSelect=c}getFDIndex(r){return r<0||r>=this.fdSelect.length?-1:this.fdSelect[r]}}v.CFFFDSelect=B;class h{constructor(){this.offsets=Object.create(null)}isTracking(r){return r in this.offsets}track(r,c){if(r in this.offsets)throw new e.FormatError(`Already tracking location of ${r}`);this.offsets[r]=c}offset(r){for(const c in this.offsets)this.offsets[c]+=r}setEntryLocation(r,c,P){if(!(r in this.offsets))throw new e.FormatError(`Not tracking location of ${r}`);const T=P.data,x=this.offsets[r];for(let C=0,b=c.length;C<b;++C){const A=5*C+x,R=A+1,F=A+2,N=A+3,E=A+4;if(29!==T[A]||0!==T[R]||0!==T[F]||0!==T[N]||0!==T[E])throw new e.FormatError("writing to an offset that is not empty");const L=c[C];T[A]=29,T[R]=L>>24&255,T[F]=L>>16&255,T[N]=L>>8&255,T[E]=255&L}}}class y{constructor(r){this.cff=r}compile(){const r=this.cff,c={data:[],length:0,add(E){this.data=this.data.concat(E),this.length=this.data.length}},P=this.compileHeader(r.header);c.add(P);const T=this.compileNameIndex(r.names);if(c.add(T),r.isCIDFont&&r.topDict.hasName("FontMatrix")){const E=r.topDict.getByName("FontMatrix");r.topDict.removeByName("FontMatrix");for(let L=0,X=r.fdArray.length;L<X;L++){const V=r.fdArray[L];let J=E.slice(0);V.hasName("FontMatrix")&&(J=e.Util.transform(J,V.getByName("FontMatrix"))),V.setByName("FontMatrix",J)}}const x=r.topDict.getByName("XUID");x&&x.length>16&&r.topDict.removeByName("XUID"),r.topDict.setByName("charset",0);let C=this.compileTopDicts([r.topDict],c.length,r.isCIDFont);c.add(C.output);const b=C.trackers[0],A=this.compileStringIndex(r.strings.strings);c.add(A);const R=this.compileIndex(r.globalSubrIndex);if(c.add(R),r.encoding&&r.topDict.hasName("Encoding"))if(r.encoding.predefined)b.setEntryLocation("Encoding",[r.encoding.format],c);else{const E=this.compileEncoding(r.encoding);b.setEntryLocation("Encoding",[c.length],c),c.add(E)}const F=this.compileCharset(r.charset,r.charStrings.count,r.strings,r.isCIDFont);b.setEntryLocation("charset",[c.length],c),c.add(F);const N=this.compileCharStrings(r.charStrings);if(b.setEntryLocation("CharStrings",[c.length],c),c.add(N),r.isCIDFont){b.setEntryLocation("FDSelect",[c.length],c);const E=this.compileFDSelect(r.fdSelect);c.add(E),C=this.compileTopDicts(r.fdArray,c.length,!0),b.setEntryLocation("FDArray",[c.length],c),c.add(C.output),this.compilePrivateDicts(r.fdArray,C.trackers,c)}return this.compilePrivateDicts([r.topDict],[b],c),c.add([0]),c.data}encodeNumber(r){return Number.isInteger(r)?this.encodeInteger(r):this.encodeFloat(r)}static get EncodeFloatRegExp(){return(0,e.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(r){let c=r.toString();const P=y.EncodeFloatRegExp.exec(c);if(P){const A=parseFloat("1e"+((P[2]?+P[2]:0)+P[1].length));c=(Math.round(r*A)/A).toString()}let T,x,C="";for(T=0,x=c.length;T<x;++T){const A=c[T];C+="e"===A?"-"===c[++T]?"c":"b":"."===A?"a":"-"===A?"e":A}C+=1&C.length?"f":"ff";const b=[30];for(T=0,x=C.length;T<x;T+=2)b.push(parseInt(C.substring(T,T+2),16));return b}encodeInteger(r){let c;return c=r>=-107&&r<=107?[r+139]:r>=108&&r<=1131?[247+((r-=108)>>8),255&r]:r>=-1131&&r<=-108?[251+((r=-r-108)>>8),255&r]:r>=-32768&&r<=32767?[28,r>>8&255,255&r]:[29,r>>24&255,r>>16&255,r>>8&255,255&r],c}compileHeader(r){return[r.major,r.minor,4,r.offSize]}compileNameIndex(r){const c=new i;for(let P=0,T=r.length;P<T;++P){const x=r[P],C=Math.min(x.length,127);let b=new Array(C);for(let A=0;A<C;A++){let R=x[A];(R<"!"||R>"~"||"["===R||"]"===R||"("===R||")"===R||"{"===R||"}"===R||"<"===R||">"===R||"/"===R||"%"===R)&&(R="_"),b[A]=R}b=b.join(""),""===b&&(b="Bad_Font_Name"),c.add((0,e.stringToBytes)(b))}return this.compileIndex(c)}compileTopDicts(r,c,P){const T=[];let x=new i;for(let C=0,b=r.length;C<b;++C){const A=r[C];P&&(A.removeByName("CIDFontVersion"),A.removeByName("CIDFontRevision"),A.removeByName("CIDFontType"),A.removeByName("CIDCount"),A.removeByName("UIDBase"));const R=new h,F=this.compileDict(A,R);T.push(R),x.add(F),R.offset(c)}return x=this.compileIndex(x,T),{trackers:T,output:x}}compilePrivateDicts(r,c,P){for(let T=0,x=r.length;T<x;++T){const C=r[T],b=C.privateDict;if(!b||!C.hasName("Private"))throw new e.FormatError("There must be a private dictionary.");const A=new h,R=this.compileDict(b,A);let F=P.length;if(A.offset(F),R.length||(F=0),c[T].setEntryLocation("Private",[R.length,F],P),P.add(R),b.subrsIndex&&b.hasName("Subrs")){const N=this.compileIndex(b.subrsIndex);A.setEntryLocation("Subrs",[R.length],P),P.add(N)}}}compileDict(r,c){const P=[];for(const T of r.order){if(!(T in r.values))continue;let x=r.values[T],C=r.types[T];if(Array.isArray(C)||(C=[C]),Array.isArray(x)||(x=[x]),0!==x.length){for(let b=0,A=C.length;b<A;++b){const R=C[b],F=x[b];switch(R){case"num":case"sid":P.push(...this.encodeNumber(F));break;case"offset":const N=r.keyToNameMap[T];c.isTracking(N)||c.track(N,P.length),P.push(29,0,0,0,0);break;case"array":case"delta":P.push(...this.encodeNumber(F));for(let E=1,L=x.length;E<L;++E)P.push(...this.encodeNumber(x[E]));break;default:throw new e.FormatError(`Unknown data type of ${R}`)}}P.push(...r.opcodes[T])}}return P}compileStringIndex(r){const c=new i;for(let P=0,T=r.length;P<T;++P)c.add((0,e.stringToBytes)(r[P]));return this.compileIndex(c)}compileGlobalSubrIndex(){this.out.writeByteArray(this.compileIndex(this.cff.globalSubrIndex))}compileCharStrings(r){const c=new i;for(let P=0;P<r.count;P++){const T=r.get(P);c.add(0!==T.length?T:new Uint8Array([139,14]))}return this.compileIndex(c)}compileCharset(r,c,P,T){let x;const C=c-1;if(T)x=new Uint8Array([2,0,0,C>>8&255,255&C]);else{x=new Uint8Array(1+2*C),x[0]=0;let b=0;const A=r.charset.length;let R=!1;for(let F=1;F<x.length;F+=2){let N=0;if(b<A){const E=r.charset[b++];N=P.getSID(E),-1===N&&(N=0,R||(R=!0,(0,e.warn)(`Couldn't find ${E} in CFF strings`)))}x[F]=N>>8&255,x[F+1]=255&N}}return this.compileTypedArray(x)}compileEncoding(r){return this.compileTypedArray(r.raw)}compileFDSelect(r){const c=r.format;let P,T;switch(c){case 0:for(P=new Uint8Array(1+r.fdSelect.length),P[0]=c,T=0;T<r.fdSelect.length;T++)P[T+1]=r.fdSelect[T];break;case 3:const x=0;let C=r.fdSelect[0];const b=[c,0,0,x>>8&255,255&x,C];for(T=1;T<r.fdSelect.length;T++){const R=r.fdSelect[T];R!==C&&(b.push(T>>8&255,255&T,R),C=R)}const A=(b.length-3)/3;b[1]=A>>8&255,b[2]=255&A,b.push(T>>8&255,255&T),P=new Uint8Array(b)}return this.compileTypedArray(P)}compileTypedArray(r){const c=[];for(let P=0,T=r.length;P<T;++P)c[P]=r[P];return c}compileIndex(r,c=[]){const P=r.objects,T=P.length;if(0===T)return[0,0];const x=[T>>8&255,255&T];let C,b,A=1;for(C=0;C<T;++C)A+=P[C].length;b=A<256?1:A<65536?2:A<16777216?3:4,x.push(b);let R=1;for(C=0;C<T+1;C++)1===b?x.push(255&R):2===b?x.push(R>>8&255,255&R):3===b?x.push(R>>16&255,R>>8&255,255&R):x.push(R>>>24&255,R>>16&255,R>>8&255,255&R),P[C]&&(R+=P[C].length);for(C=0;C<T;C++){c[C]&&c[C].offset(x.length);for(let F=0,N=P[C].length;F<N;F++)x.push(P[C][F])}return x}}v.CFFCompiler=y},(it,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ISOAdobeCharset=v.ExpertSubsetCharset=v.ExpertCharset=void 0,v.ISOAdobeCharset=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],v.ExpertCharset=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],v.ExpertSubsetCharset=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"]},(it,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ZapfDingbatsEncoding=v.WinAnsiEncoding=v.SymbolSetEncoding=v.StandardEncoding=v.MacRomanEncoding=v.ExpertEncoding=void 0,v.getEncoding=function(w){switch(w){case"WinAnsiEncoding":return S;case"StandardEncoding":return _;case"MacRomanEncoding":return d;case"SymbolSetEncoding":return t;case"ZapfDingbatsEncoding":return u;case"ExpertEncoding":return K;case"MacExpertEncoding":return e;default:return null}};const K=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];v.ExpertEncoding=K;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],d=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];v.MacRomanEncoding=d;const _=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];v.StandardEncoding=_;const S=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];v.WinAnsiEncoding=S;const t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];v.SymbolSetEncoding=t;const u=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];v.ZapfDingbatsEncoding=u},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.SEAC_ANALYSIS_ENABLED=v.MacStandardGlyphOrdering=v.FontFlags=void 0,v.getFontType=function(w,k,s=!1){switch(w){case"Type1":return s?e.FontType.TYPE1STANDARD:"Type1C"===k?e.FontType.TYPE1C:e.FontType.TYPE1;case"CIDFontType0":return"CIDFontType0C"===k?e.FontType.CIDFONTTYPE0C:e.FontType.CIDFONTTYPE0;case"OpenType":return e.FontType.OPENTYPE;case"TrueType":return e.FontType.TRUETYPE;case"CIDFontType2":return e.FontType.CIDFONTTYPE2;case"MMType1":return e.FontType.MMTYPE1;case"Type0":return e.FontType.TYPE0;default:return e.FontType.UNKNOWN}},v.normalizeFontName=function(w){return w.replace(/[,_]/g,"-").replace(/\s/g,"")},v.recoverGlyphName=u,v.type1FontGlyphMapping=function(w,k,s){const i=Object.create(null);let a,f,l;const n=!!(w.flags&t.Symbolic);if(w.isInternalFont)for(l=k,f=0;f<l.length;f++)a=s.indexOf(l[f]),i[f]=a>=0?a:0;else if(w.baseEncodingName)for(l=(0,d.getEncoding)(w.baseEncodingName),f=0;f<l.length;f++)a=s.indexOf(l[f]),i[f]=a>=0?a:0;else if(n)for(f in k)i[f]=k[f];else for(l=d.StandardEncoding,f=0;f<l.length;f++)a=s.indexOf(l[f]),i[f]=a>=0?a:0;const o=w.differences;let D;if(o)for(f in o){const m=o[f];if(a=s.indexOf(m),-1===a){D||(D=(0,_.getGlyphsUnicode)());const O=u(m,D);O!==m&&(a=s.indexOf(O))}i[f]=a>=0?a:0}return i};var e=K(2),d=K(37),_=K(39),S=K(40);v.SEAC_ANALYSIS_ENABLED=!0;const t={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};function u(I,w){if(void 0!==w[I])return I;const k=(0,S.getUnicodeForGlyph)(I,w);if(-1!==k)for(const s in w)if(w[s]===k)return s;return(0,e.info)("Unable to recover a standard glyph name for: "+I),I}v.FontFlags=t,v.MacStandardGlyphOrdering=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"]},(it,v,K)=>{K.r(v),K.d(v,{getDingbatsGlyphsUnicode:()=>_,getGlyphsUnicode:()=>d});var e=K(6);const d=(0,e.getArrayLookupTableFactory)(function(){return["A",65,"AE",198,"AEacute",508,"AEmacron",482,"AEsmall",63462,"Aacute",193,"Aacutesmall",63457,"Abreve",258,"Abreveacute",7854,"Abrevecyrillic",1232,"Abrevedotbelow",7862,"Abrevegrave",7856,"Abrevehookabove",7858,"Abrevetilde",7860,"Acaron",461,"Acircle",9398,"Acircumflex",194,"Acircumflexacute",7844,"Acircumflexdotbelow",7852,"Acircumflexgrave",7846,"Acircumflexhookabove",7848,"Acircumflexsmall",63458,"Acircumflextilde",7850,"Acute",63177,"Acutesmall",63412,"Acyrillic",1040,"Adblgrave",512,"Adieresis",196,"Adieresiscyrillic",1234,"Adieresismacron",478,"Adieresissmall",63460,"Adotbelow",7840,"Adotmacron",480,"Agrave",192,"Agravesmall",63456,"Ahookabove",7842,"Aiecyrillic",1236,"Ainvertedbreve",514,"Alpha",913,"Alphatonos",902,"Amacron",256,"Amonospace",65313,"Aogonek",260,"Aring",197,"Aringacute",506,"Aringbelow",7680,"Aringsmall",63461,"Asmall",63329,"Atilde",195,"Atildesmall",63459,"Aybarmenian",1329,"B",66,"Bcircle",9399,"Bdotaccent",7682,"Bdotbelow",7684,"Becyrillic",1041,"Benarmenian",1330,"Beta",914,"Bhook",385,"Blinebelow",7686,"Bmonospace",65314,"Brevesmall",63220,"Bsmall",63330,"Btopbar",386,"C",67,"Caarmenian",1342,"Cacute",262,"Caron",63178,"Caronsmall",63221,"Ccaron",268,"Ccedilla",199,"Ccedillaacute",7688,"Ccedillasmall",63463,"Ccircle",9400,"Ccircumflex",264,"Cdot",266,"Cdotaccent",266,"Cedillasmall",63416,"Chaarmenian",1353,"Cheabkhasiancyrillic",1212,"Checyrillic",1063,"Chedescenderabkhasiancyrillic",1214,"Chedescendercyrillic",1206,"Chedieresiscyrillic",1268,"Cheharmenian",1347,"Chekhakassiancyrillic",1227,"Cheverticalstrokecyrillic",1208,"Chi",935,"Chook",391,"Circumflexsmall",63222,"Cmonospace",65315,"Coarmenian",1361,"Csmall",63331,"D",68,"DZ",497,"DZcaron",452,"Daarmenian",1332,"Dafrican",393,"Dcaron",270,"Dcedilla",7696,"Dcircle",9401,"Dcircumflexbelow",7698,"Dcroat",272,"Ddotaccent",7690,"Ddotbelow",7692,"Decyrillic",1044,"Deicoptic",1006,"Delta",8710,"Deltagreek",916,"Dhook",394,"Dieresis",63179,"DieresisAcute",63180,"DieresisGrave",63181,"Dieresissmall",63400,"Digammagreek",988,"Djecyrillic",1026,"Dlinebelow",7694,"Dmonospace",65316,"Dotaccentsmall",63223,"Dslash",272,"Dsmall",63332,"Dtopbar",395,"Dz",498,"Dzcaron",453,"Dzeabkhasiancyrillic",1248,"Dzecyrillic",1029,"Dzhecyrillic",1039,"E",69,"Eacute",201,"Eacutesmall",63465,"Ebreve",276,"Ecaron",282,"Ecedillabreve",7708,"Echarmenian",1333,"Ecircle",9402,"Ecircumflex",202,"Ecircumflexacute",7870,"Ecircumflexbelow",7704,"Ecircumflexdotbelow",7878,"Ecircumflexgrave",7872,"Ecircumflexhookabove",7874,"Ecircumflexsmall",63466,"Ecircumflextilde",7876,"Ecyrillic",1028,"Edblgrave",516,"Edieresis",203,"Edieresissmall",63467,"Edot",278,"Edotaccent",278,"Edotbelow",7864,"Efcyrillic",1060,"Egrave",200,"Egravesmall",63464,"Eharmenian",1335,"Ehookabove",7866,"Eightroman",8551,"Einvertedbreve",518,"Eiotifiedcyrillic",1124,"Elcyrillic",1051,"Elevenroman",8554,"Emacron",274,"Emacronacute",7702,"Emacrongrave",7700,"Emcyrillic",1052,"Emonospace",65317,"Encyrillic",1053,"Endescendercyrillic",1186,"Eng",330,"Enghecyrillic",1188,"Enhookcyrillic",1223,"Eogonek",280,"Eopen",400,"Epsilon",917,"Epsilontonos",904,"Ercyrillic",1056,"Ereversed",398,"Ereversedcyrillic",1069,"Escyrillic",1057,"Esdescendercyrillic",1194,"Esh",425,"Esmall",63333,"Eta",919,"Etarmenian",1336,"Etatonos",905,"Eth",208,"Ethsmall",63472,"Etilde",7868,"Etildebelow",7706,"Euro",8364,"Ezh",439,"Ezhcaron",494,"Ezhreversed",440,"F",70,"Fcircle",9403,"Fdotaccent",7710,"Feharmenian",1366,"Feicoptic",996,"Fhook",401,"Fitacyrillic",1138,"Fiveroman",8548,"Fmonospace",65318,"Fourroman",8547,"Fsmall",63334,"G",71,"GBsquare",13191,"Gacute",500,"Gamma",915,"Gammaafrican",404,"Gangiacoptic",1002,"Gbreve",286,"Gcaron",486,"Gcedilla",290,"Gcircle",9404,"Gcircumflex",284,"Gcommaaccent",290,"Gdot",288,"Gdotaccent",288,"Gecyrillic",1043,"Ghadarmenian",1346,"Ghemiddlehookcyrillic",1172,"Ghestrokecyrillic",1170,"Gheupturncyrillic",1168,"Ghook",403,"Gimarmenian",1331,"Gjecyrillic",1027,"Gmacron",7712,"Gmonospace",65319,"Grave",63182,"Gravesmall",63328,"Gsmall",63335,"Gsmallhook",667,"Gstroke",484,"H",72,"H18533",9679,"H18543",9642,"H18551",9643,"H22073",9633,"HPsquare",13259,"Haabkhasiancyrillic",1192,"Hadescendercyrillic",1202,"Hardsigncyrillic",1066,"Hbar",294,"Hbrevebelow",7722,"Hcedilla",7720,"Hcircle",9405,"Hcircumflex",292,"Hdieresis",7718,"Hdotaccent",7714,"Hdotbelow",7716,"Hmonospace",65320,"Hoarmenian",1344,"Horicoptic",1e3,"Hsmall",63336,"Hungarumlaut",63183,"Hungarumlautsmall",63224,"Hzsquare",13200,"I",73,"IAcyrillic",1071,"IJ",306,"IUcyrillic",1070,"Iacute",205,"Iacutesmall",63469,"Ibreve",300,"Icaron",463,"Icircle",9406,"Icircumflex",206,"Icircumflexsmall",63470,"Icyrillic",1030,"Idblgrave",520,"Idieresis",207,"Idieresisacute",7726,"Idieresiscyrillic",1252,"Idieresissmall",63471,"Idot",304,"Idotaccent",304,"Idotbelow",7882,"Iebrevecyrillic",1238,"Iecyrillic",1045,"Ifraktur",8465,"Igrave",204,"Igravesmall",63468,"Ihookabove",7880,"Iicyrillic",1048,"Iinvertedbreve",522,"Iishortcyrillic",1049,"Imacron",298,"Imacroncyrillic",1250,"Imonospace",65321,"Iniarmenian",1339,"Iocyrillic",1025,"Iogonek",302,"Iota",921,"Iotaafrican",406,"Iotadieresis",938,"Iotatonos",906,"Ismall",63337,"Istroke",407,"Itilde",296,"Itildebelow",7724,"Izhitsacyrillic",1140,"Izhitsadblgravecyrillic",1142,"J",74,"Jaarmenian",1345,"Jcircle",9407,"Jcircumflex",308,"Jecyrillic",1032,"Jheharmenian",1355,"Jmonospace",65322,"Jsmall",63338,"K",75,"KBsquare",13189,"KKsquare",13261,"Kabashkircyrillic",1184,"Kacute",7728,"Kacyrillic",1050,"Kadescendercyrillic",1178,"Kahookcyrillic",1219,"Kappa",922,"Kastrokecyrillic",1182,"Kaverticalstrokecyrillic",1180,"Kcaron",488,"Kcedilla",310,"Kcircle",9408,"Kcommaaccent",310,"Kdotbelow",7730,"Keharmenian",1364,"Kenarmenian",1343,"Khacyrillic",1061,"Kheicoptic",998,"Khook",408,"Kjecyrillic",1036,"Klinebelow",7732,"Kmonospace",65323,"Koppacyrillic",1152,"Koppagreek",990,"Ksicyrillic",1134,"Ksmall",63339,"L",76,"LJ",455,"LL",63167,"Lacute",313,"Lambda",923,"Lcaron",317,"Lcedilla",315,"Lcircle",9409,"Lcircumflexbelow",7740,"Lcommaaccent",315,"Ldot",319,"Ldotaccent",319,"Ldotbelow",7734,"Ldotbelowmacron",7736,"Liwnarmenian",1340,"Lj",456,"Ljecyrillic",1033,"Llinebelow",7738,"Lmonospace",65324,"Lslash",321,"Lslashsmall",63225,"Lsmall",63340,"M",77,"MBsquare",13190,"Macron",63184,"Macronsmall",63407,"Macute",7742,"Mcircle",9410,"Mdotaccent",7744,"Mdotbelow",7746,"Menarmenian",1348,"Mmonospace",65325,"Msmall",63341,"Mturned",412,"Mu",924,"N",78,"NJ",458,"Nacute",323,"Ncaron",327,"Ncedilla",325,"Ncircle",9411,"Ncircumflexbelow",7754,"Ncommaaccent",325,"Ndotaccent",7748,"Ndotbelow",7750,"Nhookleft",413,"Nineroman",8552,"Nj",459,"Njecyrillic",1034,"Nlinebelow",7752,"Nmonospace",65326,"Nowarmenian",1350,"Nsmall",63342,"Ntilde",209,"Ntildesmall",63473,"Nu",925,"O",79,"OE",338,"OEsmall",63226,"Oacute",211,"Oacutesmall",63475,"Obarredcyrillic",1256,"Obarreddieresiscyrillic",1258,"Obreve",334,"Ocaron",465,"Ocenteredtilde",415,"Ocircle",9412,"Ocircumflex",212,"Ocircumflexacute",7888,"Ocircumflexdotbelow",7896,"Ocircumflexgrave",7890,"Ocircumflexhookabove",7892,"Ocircumflexsmall",63476,"Ocircumflextilde",7894,"Ocyrillic",1054,"Odblacute",336,"Odblgrave",524,"Odieresis",214,"Odieresiscyrillic",1254,"Odieresissmall",63478,"Odotbelow",7884,"Ogoneksmall",63227,"Ograve",210,"Ogravesmall",63474,"Oharmenian",1365,"Ohm",8486,"Ohookabove",7886,"Ohorn",416,"Ohornacute",7898,"Ohorndotbelow",7906,"Ohorngrave",7900,"Ohornhookabove",7902,"Ohorntilde",7904,"Ohungarumlaut",336,"Oi",418,"Oinvertedbreve",526,"Omacron",332,"Omacronacute",7762,"Omacrongrave",7760,"Omega",8486,"Omegacyrillic",1120,"Omegagreek",937,"Omegaroundcyrillic",1146,"Omegatitlocyrillic",1148,"Omegatonos",911,"Omicron",927,"Omicrontonos",908,"Omonospace",65327,"Oneroman",8544,"Oogonek",490,"Oogonekmacron",492,"Oopen",390,"Oslash",216,"Oslashacute",510,"Oslashsmall",63480,"Osmall",63343,"Ostrokeacute",510,"Otcyrillic",1150,"Otilde",213,"Otildeacute",7756,"Otildedieresis",7758,"Otildesmall",63477,"P",80,"Pacute",7764,"Pcircle",9413,"Pdotaccent",7766,"Pecyrillic",1055,"Peharmenian",1354,"Pemiddlehookcyrillic",1190,"Phi",934,"Phook",420,"Pi",928,"Piwrarmenian",1363,"Pmonospace",65328,"Psi",936,"Psicyrillic",1136,"Psmall",63344,"Q",81,"Qcircle",9414,"Qmonospace",65329,"Qsmall",63345,"R",82,"Raarmenian",1356,"Racute",340,"Rcaron",344,"Rcedilla",342,"Rcircle",9415,"Rcommaaccent",342,"Rdblgrave",528,"Rdotaccent",7768,"Rdotbelow",7770,"Rdotbelowmacron",7772,"Reharmenian",1360,"Rfraktur",8476,"Rho",929,"Ringsmall",63228,"Rinvertedbreve",530,"Rlinebelow",7774,"Rmonospace",65330,"Rsmall",63346,"Rsmallinverted",641,"Rsmallinvertedsuperior",694,"S",83,"SF010000",9484,"SF020000",9492,"SF030000",9488,"SF040000",9496,"SF050000",9532,"SF060000",9516,"SF070000",9524,"SF080000",9500,"SF090000",9508,"SF100000",9472,"SF110000",9474,"SF190000",9569,"SF200000",9570,"SF210000",9558,"SF220000",9557,"SF230000",9571,"SF240000",9553,"SF250000",9559,"SF260000",9565,"SF270000",9564,"SF280000",9563,"SF360000",9566,"SF370000",9567,"SF380000",9562,"SF390000",9556,"SF400000",9577,"SF410000",9574,"SF420000",9568,"SF430000",9552,"SF440000",9580,"SF450000",9575,"SF460000",9576,"SF470000",9572,"SF480000",9573,"SF490000",9561,"SF500000",9560,"SF510000",9554,"SF520000",9555,"SF530000",9579,"SF540000",9578,"Sacute",346,"Sacutedotaccent",7780,"Sampigreek",992,"Scaron",352,"Scarondotaccent",7782,"Scaronsmall",63229,"Scedilla",350,"Schwa",399,"Schwacyrillic",1240,"Schwadieresiscyrillic",1242,"Scircle",9416,"Scircumflex",348,"Scommaaccent",536,"Sdotaccent",7776,"Sdotbelow",7778,"Sdotbelowdotaccent",7784,"Seharmenian",1357,"Sevenroman",8550,"Shaarmenian",1351,"Shacyrillic",1064,"Shchacyrillic",1065,"Sheicoptic",994,"Shhacyrillic",1210,"Shimacoptic",1004,"Sigma",931,"Sixroman",8549,"Smonospace",65331,"Softsigncyrillic",1068,"Ssmall",63347,"Stigmagreek",986,"T",84,"Tau",932,"Tbar",358,"Tcaron",356,"Tcedilla",354,"Tcircle",9417,"Tcircumflexbelow",7792,"Tcommaaccent",354,"Tdotaccent",7786,"Tdotbelow",7788,"Tecyrillic",1058,"Tedescendercyrillic",1196,"Tenroman",8553,"Tetsecyrillic",1204,"Theta",920,"Thook",428,"Thorn",222,"Thornsmall",63486,"Threeroman",8546,"Tildesmall",63230,"Tiwnarmenian",1359,"Tlinebelow",7790,"Tmonospace",65332,"Toarmenian",1337,"Tonefive",444,"Tonesix",388,"Tonetwo",423,"Tretroflexhook",430,"Tsecyrillic",1062,"Tshecyrillic",1035,"Tsmall",63348,"Twelveroman",8555,"Tworoman",8545,"U",85,"Uacute",218,"Uacutesmall",63482,"Ubreve",364,"Ucaron",467,"Ucircle",9418,"Ucircumflex",219,"Ucircumflexbelow",7798,"Ucircumflexsmall",63483,"Ucyrillic",1059,"Udblacute",368,"Udblgrave",532,"Udieresis",220,"Udieresisacute",471,"Udieresisbelow",7794,"Udieresiscaron",473,"Udieresiscyrillic",1264,"Udieresisgrave",475,"Udieresismacron",469,"Udieresissmall",63484,"Udotbelow",7908,"Ugrave",217,"Ugravesmall",63481,"Uhookabove",7910,"Uhorn",431,"Uhornacute",7912,"Uhorndotbelow",7920,"Uhorngrave",7914,"Uhornhookabove",7916,"Uhorntilde",7918,"Uhungarumlaut",368,"Uhungarumlautcyrillic",1266,"Uinvertedbreve",534,"Ukcyrillic",1144,"Umacron",362,"Umacroncyrillic",1262,"Umacrondieresis",7802,"Umonospace",65333,"Uogonek",370,"Upsilon",933,"Upsilon1",978,"Upsilonacutehooksymbolgreek",979,"Upsilonafrican",433,"Upsilondieresis",939,"Upsilondieresishooksymbolgreek",980,"Upsilonhooksymbol",978,"Upsilontonos",910,"Uring",366,"Ushortcyrillic",1038,"Usmall",63349,"Ustraightcyrillic",1198,"Ustraightstrokecyrillic",1200,"Utilde",360,"Utildeacute",7800,"Utildebelow",7796,"V",86,"Vcircle",9419,"Vdotbelow",7806,"Vecyrillic",1042,"Vewarmenian",1358,"Vhook",434,"Vmonospace",65334,"Voarmenian",1352,"Vsmall",63350,"Vtilde",7804,"W",87,"Wacute",7810,"Wcircle",9420,"Wcircumflex",372,"Wdieresis",7812,"Wdotaccent",7814,"Wdotbelow",7816,"Wgrave",7808,"Wmonospace",65335,"Wsmall",63351,"X",88,"Xcircle",9421,"Xdieresis",7820,"Xdotaccent",7818,"Xeharmenian",1341,"Xi",926,"Xmonospace",65336,"Xsmall",63352,"Y",89,"Yacute",221,"Yacutesmall",63485,"Yatcyrillic",1122,"Ycircle",9422,"Ycircumflex",374,"Ydieresis",376,"Ydieresissmall",63487,"Ydotaccent",7822,"Ydotbelow",7924,"Yericyrillic",1067,"Yerudieresiscyrillic",1272,"Ygrave",7922,"Yhook",435,"Yhookabove",7926,"Yiarmenian",1349,"Yicyrillic",1031,"Yiwnarmenian",1362,"Ymonospace",65337,"Ysmall",63353,"Ytilde",7928,"Yusbigcyrillic",1130,"Yusbigiotifiedcyrillic",1132,"Yuslittlecyrillic",1126,"Yuslittleiotifiedcyrillic",1128,"Z",90,"Zaarmenian",1334,"Zacute",377,"Zcaron",381,"Zcaronsmall",63231,"Zcircle",9423,"Zcircumflex",7824,"Zdot",379,"Zdotaccent",379,"Zdotbelow",7826,"Zecyrillic",1047,"Zedescendercyrillic",1176,"Zedieresiscyrillic",1246,"Zeta",918,"Zhearmenian",1338,"Zhebrevecyrillic",1217,"Zhecyrillic",1046,"Zhedescendercyrillic",1174,"Zhedieresiscyrillic",1244,"Zlinebelow",7828,"Zmonospace",65338,"Zsmall",63354,"Zstroke",437,"a",97,"aabengali",2438,"aacute",225,"aadeva",2310,"aagujarati",2694,"aagurmukhi",2566,"aamatragurmukhi",2622,"aarusquare",13059,"aavowelsignbengali",2494,"aavowelsigndeva",2366,"aavowelsigngujarati",2750,"abbreviationmarkarmenian",1375,"abbreviationsigndeva",2416,"abengali",2437,"abopomofo",12570,"abreve",259,"abreveacute",7855,"abrevecyrillic",1233,"abrevedotbelow",7863,"abrevegrave",7857,"abrevehookabove",7859,"abrevetilde",7861,"acaron",462,"acircle",9424,"acircumflex",226,"acircumflexacute",7845,"acircumflexdotbelow",7853,"acircumflexgrave",7847,"acircumflexhookabove",7849,"acircumflextilde",7851,"acute",180,"acutebelowcmb",791,"acutecmb",769,"acutecomb",769,"acutedeva",2388,"acutelowmod",719,"acutetonecmb",833,"acyrillic",1072,"adblgrave",513,"addakgurmukhi",2673,"adeva",2309,"adieresis",228,"adieresiscyrillic",1235,"adieresismacron",479,"adotbelow",7841,"adotmacron",481,"ae",230,"aeacute",509,"aekorean",12624,"aemacron",483,"afii00208",8213,"afii08941",8356,"afii10017",1040,"afii10018",1041,"afii10019",1042,"afii10020",1043,"afii10021",1044,"afii10022",1045,"afii10023",1025,"afii10024",1046,"afii10025",1047,"afii10026",1048,"afii10027",1049,"afii10028",1050,"afii10029",1051,"afii10030",1052,"afii10031",1053,"afii10032",1054,"afii10033",1055,"afii10034",1056,"afii10035",1057,"afii10036",1058,"afii10037",1059,"afii10038",1060,"afii10039",1061,"afii10040",1062,"afii10041",1063,"afii10042",1064,"afii10043",1065,"afii10044",1066,"afii10045",1067,"afii10046",1068,"afii10047",1069,"afii10048",1070,"afii10049",1071,"afii10050",1168,"afii10051",1026,"afii10052",1027,"afii10053",1028,"afii10054",1029,"afii10055",1030,"afii10056",1031,"afii10057",1032,"afii10058",1033,"afii10059",1034,"afii10060",1035,"afii10061",1036,"afii10062",1038,"afii10063",63172,"afii10064",63173,"afii10065",1072,"afii10066",1073,"afii10067",1074,"afii10068",1075,"afii10069",1076,"afii10070",1077,"afii10071",1105,"afii10072",1078,"afii10073",1079,"afii10074",1080,"afii10075",1081,"afii10076",1082,"afii10077",1083,"afii10078",1084,"afii10079",1085,"afii10080",1086,"afii10081",1087,"afii10082",1088,"afii10083",1089,"afii10084",1090,"afii10085",1091,"afii10086",1092,"afii10087",1093,"afii10088",1094,"afii10089",1095,"afii10090",1096,"afii10091",1097,"afii10092",1098,"afii10093",1099,"afii10094",1100,"afii10095",1101,"afii10096",1102,"afii10097",1103,"afii10098",1169,"afii10099",1106,"afii10100",1107,"afii10101",1108,"afii10102",1109,"afii10103",1110,"afii10104",1111,"afii10105",1112,"afii10106",1113,"afii10107",1114,"afii10108",1115,"afii10109",1116,"afii10110",1118,"afii10145",1039,"afii10146",1122,"afii10147",1138,"afii10148",1140,"afii10192",63174,"afii10193",1119,"afii10194",1123,"afii10195",1139,"afii10196",1141,"afii10831",63175,"afii10832",63176,"afii10846",1241,"afii299",8206,"afii300",8207,"afii301",8205,"afii57381",1642,"afii57388",1548,"afii57392",1632,"afii57393",1633,"afii57394",1634,"afii57395",1635,"afii57396",1636,"afii57397",1637,"afii57398",1638,"afii57399",1639,"afii57400",1640,"afii57401",1641,"afii57403",1563,"afii57407",1567,"afii57409",1569,"afii57410",1570,"afii57411",1571,"afii57412",1572,"afii57413",1573,"afii57414",1574,"afii57415",1575,"afii57416",1576,"afii57417",1577,"afii57418",1578,"afii57419",1579,"afii57420",1580,"afii57421",1581,"afii57422",1582,"afii57423",1583,"afii57424",1584,"afii57425",1585,"afii57426",1586,"afii57427",1587,"afii57428",1588,"afii57429",1589,"afii57430",1590,"afii57431",1591,"afii57432",1592,"afii57433",1593,"afii57434",1594,"afii57440",1600,"afii57441",1601,"afii57442",1602,"afii57443",1603,"afii57444",1604,"afii57445",1605,"afii57446",1606,"afii57448",1608,"afii57449",1609,"afii57450",1610,"afii57451",1611,"afii57452",1612,"afii57453",1613,"afii57454",1614,"afii57455",1615,"afii57456",1616,"afii57457",1617,"afii57458",1618,"afii57470",1607,"afii57505",1700,"afii57506",1662,"afii57507",1670,"afii57508",1688,"afii57509",1711,"afii57511",1657,"afii57512",1672,"afii57513",1681,"afii57514",1722,"afii57519",1746,"afii57534",1749,"afii57636",8362,"afii57645",1470,"afii57658",1475,"afii57664",1488,"afii57665",1489,"afii57666",1490,"afii57667",1491,"afii57668",1492,"afii57669",1493,"afii57670",1494,"afii57671",1495,"afii57672",1496,"afii57673",1497,"afii57674",1498,"afii57675",1499,"afii57676",1500,"afii57677",1501,"afii57678",1502,"afii57679",1503,"afii57680",1504,"afii57681",1505,"afii57682",1506,"afii57683",1507,"afii57684",1508,"afii57685",1509,"afii57686",1510,"afii57687",1511,"afii57688",1512,"afii57689",1513,"afii57690",1514,"afii57694",64298,"afii57695",64299,"afii57700",64331,"afii57705",64287,"afii57716",1520,"afii57717",1521,"afii57718",1522,"afii57723",64309,"afii57793",1460,"afii57794",1461,"afii57795",1462,"afii57796",1467,"afii57797",1464,"afii57798",1463,"afii57799",1456,"afii57800",1458,"afii57801",1457,"afii57802",1459,"afii57803",1474,"afii57804",1473,"afii57806",1465,"afii57807",1468,"afii57839",1469,"afii57841",1471,"afii57842",1472,"afii57929",700,"afii61248",8453,"afii61289",8467,"afii61352",8470,"afii61573",8236,"afii61574",8237,"afii61575",8238,"afii61664",8204,"afii63167",1645,"afii64937",701,"agrave",224,"agujarati",2693,"agurmukhi",2565,"ahiragana",12354,"ahookabove",7843,"aibengali",2448,"aibopomofo",12574,"aideva",2320,"aiecyrillic",1237,"aigujarati",2704,"aigurmukhi",2576,"aimatragurmukhi",2632,"ainarabic",1593,"ainfinalarabic",65226,"aininitialarabic",65227,"ainmedialarabic",65228,"ainvertedbreve",515,"aivowelsignbengali",2504,"aivowelsigndeva",2376,"aivowelsigngujarati",2760,"akatakana",12450,"akatakanahalfwidth",65393,"akorean",12623,"alef",1488,"alefarabic",1575,"alefdageshhebrew",64304,"aleffinalarabic",65166,"alefhamzaabovearabic",1571,"alefhamzaabovefinalarabic",65156,"alefhamzabelowarabic",1573,"alefhamzabelowfinalarabic",65160,"alefhebrew",1488,"aleflamedhebrew",64335,"alefmaddaabovearabic",1570,"alefmaddaabovefinalarabic",65154,"alefmaksuraarabic",1609,"alefmaksurafinalarabic",65264,"alefmaksurainitialarabic",65267,"alefmaksuramedialarabic",65268,"alefpatahhebrew",64302,"alefqamatshebrew",64303,"aleph",8501,"allequal",8780,"alpha",945,"alphatonos",940,"amacron",257,"amonospace",65345,"ampersand",38,"ampersandmonospace",65286,"ampersandsmall",63270,"amsquare",13250,"anbopomofo",12578,"angbopomofo",12580,"angbracketleft",12296,"angbracketright",12297,"angkhankhuthai",3674,"angle",8736,"anglebracketleft",12296,"anglebracketleftvertical",65087,"anglebracketright",12297,"anglebracketrightvertical",65088,"angleleft",9001,"angleright",9002,"angstrom",8491,"anoteleia",903,"anudattadeva",2386,"anusvarabengali",2434,"anusvaradeva",2306,"anusvaragujarati",2690,"aogonek",261,"apaatosquare",13056,"aparen",9372,"apostrophearmenian",1370,"apostrophemod",700,"apple",63743,"approaches",8784,"approxequal",8776,"approxequalorimage",8786,"approximatelyequal",8773,"araeaekorean",12686,"araeakorean",12685,"arc",8978,"arighthalfring",7834,"aring",229,"aringacute",507,"aringbelow",7681,"arrowboth",8596,"arrowdashdown",8675,"arrowdashleft",8672,"arrowdashright",8674,"arrowdashup",8673,"arrowdblboth",8660,"arrowdbldown",8659,"arrowdblleft",8656,"arrowdblright",8658,"arrowdblup",8657,"arrowdown",8595,"arrowdownleft",8601,"arrowdownright",8600,"arrowdownwhite",8681,"arrowheaddownmod",709,"arrowheadleftmod",706,"arrowheadrightmod",707,"arrowheadupmod",708,"arrowhorizex",63719,"arrowleft",8592,"arrowleftdbl",8656,"arrowleftdblstroke",8653,"arrowleftoverright",8646,"arrowleftwhite",8678,"arrowright",8594,"arrowrightdblstroke",8655,"arrowrightheavy",10142,"arrowrightoverleft",8644,"arrowrightwhite",8680,"arrowtableft",8676,"arrowtabright",8677,"arrowup",8593,"arrowupdn",8597,"arrowupdnbse",8616,"arrowupdownbase",8616,"arrowupleft",8598,"arrowupleftofdown",8645,"arrowupright",8599,"arrowupwhite",8679,"arrowvertex",63718,"asciicircum",94,"asciicircummonospace",65342,"asciitilde",126,"asciitildemonospace",65374,"ascript",593,"ascriptturned",594,"asmallhiragana",12353,"asmallkatakana",12449,"asmallkatakanahalfwidth",65383,"asterisk",42,"asteriskaltonearabic",1645,"asteriskarabic",1645,"asteriskmath",8727,"asteriskmonospace",65290,"asterisksmall",65121,"asterism",8258,"asuperior",63209,"asymptoticallyequal",8771,"at",64,"atilde",227,"atmonospace",65312,"atsmall",65131,"aturned",592,"aubengali",2452,"aubopomofo",12576,"audeva",2324,"augujarati",2708,"augurmukhi",2580,"aulengthmarkbengali",2519,"aumatragurmukhi",2636,"auvowelsignbengali",2508,"auvowelsigndeva",2380,"auvowelsigngujarati",2764,"avagrahadeva",2365,"aybarmenian",1377,"ayin",1506,"ayinaltonehebrew",64288,"ayinhebrew",1506,"b",98,"babengali",2476,"backslash",92,"backslashmonospace",65340,"badeva",2348,"bagujarati",2732,"bagurmukhi",2604,"bahiragana",12400,"bahtthai",3647,"bakatakana",12496,"bar",124,"barmonospace",65372,"bbopomofo",12549,"bcircle",9425,"bdotaccent",7683,"bdotbelow",7685,"beamedsixteenthnotes",9836,"because",8757,"becyrillic",1073,"beharabic",1576,"behfinalarabic",65168,"behinitialarabic",65169,"behiragana",12409,"behmedialarabic",65170,"behmeeminitialarabic",64671,"behmeemisolatedarabic",64520,"behnoonfinalarabic",64621,"bekatakana",12505,"benarmenian",1378,"bet",1489,"beta",946,"betasymbolgreek",976,"betdagesh",64305,"betdageshhebrew",64305,"bethebrew",1489,"betrafehebrew",64332,"bhabengali",2477,"bhadeva",2349,"bhagujarati",2733,"bhagurmukhi",2605,"bhook",595,"bihiragana",12403,"bikatakana",12499,"bilabialclick",664,"bindigurmukhi",2562,"birusquare",13105,"blackcircle",9679,"blackdiamond",9670,"blackdownpointingtriangle",9660,"blackleftpointingpointer",9668,"blackleftpointingtriangle",9664,"blacklenticularbracketleft",12304,"blacklenticularbracketleftvertical",65083,"blacklenticularbracketright",12305,"blacklenticularbracketrightvertical",65084,"blacklowerlefttriangle",9699,"blacklowerrighttriangle",9698,"blackrectangle",9644,"blackrightpointingpointer",9658,"blackrightpointingtriangle",9654,"blacksmallsquare",9642,"blacksmilingface",9787,"blacksquare",9632,"blackstar",9733,"blackupperlefttriangle",9700,"blackupperrighttriangle",9701,"blackuppointingsmalltriangle",9652,"blackuppointingtriangle",9650,"blank",9251,"blinebelow",7687,"block",9608,"bmonospace",65346,"bobaimaithai",3610,"bohiragana",12412,"bokatakana",12508,"bparen",9373,"bqsquare",13251,"braceex",63732,"braceleft",123,"braceleftbt",63731,"braceleftmid",63730,"braceleftmonospace",65371,"braceleftsmall",65115,"bracelefttp",63729,"braceleftvertical",65079,"braceright",125,"bracerightbt",63742,"bracerightmid",63741,"bracerightmonospace",65373,"bracerightsmall",65116,"bracerighttp",63740,"bracerightvertical",65080,"bracketleft",91,"bracketleftbt",63728,"bracketleftex",63727,"bracketleftmonospace",65339,"bracketlefttp",63726,"bracketright",93,"bracketrightbt",63739,"bracketrightex",63738,"bracketrightmonospace",65341,"bracketrighttp",63737,"breve",728,"brevebelowcmb",814,"brevecmb",774,"breveinvertedbelowcmb",815,"breveinvertedcmb",785,"breveinverteddoublecmb",865,"bridgebelowcmb",810,"bridgeinvertedbelowcmb",826,"brokenbar",166,"bstroke",384,"bsuperior",63210,"btopbar",387,"buhiragana",12406,"bukatakana",12502,"bullet",8226,"bulletinverse",9688,"bulletoperator",8729,"bullseye",9678,"c",99,"caarmenian",1390,"cabengali",2458,"cacute",263,"cadeva",2330,"cagujarati",2714,"cagurmukhi",2586,"calsquare",13192,"candrabindubengali",2433,"candrabinducmb",784,"candrabindudeva",2305,"candrabindugujarati",2689,"capslock",8682,"careof",8453,"caron",711,"caronbelowcmb",812,"caroncmb",780,"carriagereturn",8629,"cbopomofo",12568,"ccaron",269,"ccedilla",231,"ccedillaacute",7689,"ccircle",9426,"ccircumflex",265,"ccurl",597,"cdot",267,"cdotaccent",267,"cdsquare",13253,"cedilla",184,"cedillacmb",807,"cent",162,"centigrade",8451,"centinferior",63199,"centmonospace",65504,"centoldstyle",63394,"centsuperior",63200,"chaarmenian",1401,"chabengali",2459,"chadeva",2331,"chagujarati",2715,"chagurmukhi",2587,"chbopomofo",12564,"cheabkhasiancyrillic",1213,"checkmark",10003,"checyrillic",1095,"chedescenderabkhasiancyrillic",1215,"chedescendercyrillic",1207,"chedieresiscyrillic",1269,"cheharmenian",1395,"chekhakassiancyrillic",1228,"cheverticalstrokecyrillic",1209,"chi",967,"chieuchacirclekorean",12919,"chieuchaparenkorean",12823,"chieuchcirclekorean",12905,"chieuchkorean",12618,"chieuchparenkorean",12809,"chochangthai",3594,"chochanthai",3592,"chochingthai",3593,"chochoethai",3596,"chook",392,"cieucacirclekorean",12918,"cieucaparenkorean",12822,"cieuccirclekorean",12904,"cieuckorean",12616,"cieucparenkorean",12808,"cieucuparenkorean",12828,"circle",9675,"circlecopyrt",169,"circlemultiply",8855,"circleot",8857,"circleplus",8853,"circlepostalmark",12342,"circlewithlefthalfblack",9680,"circlewithrighthalfblack",9681,"circumflex",710,"circumflexbelowcmb",813,"circumflexcmb",770,"clear",8999,"clickalveolar",450,"clickdental",448,"clicklateral",449,"clickretroflex",451,"club",9827,"clubsuitblack",9827,"clubsuitwhite",9831,"cmcubedsquare",13220,"cmonospace",65347,"cmsquaredsquare",13216,"coarmenian",1409,"colon",58,"colonmonetary",8353,"colonmonospace",65306,"colonsign",8353,"colonsmall",65109,"colontriangularhalfmod",721,"colontriangularmod",720,"comma",44,"commaabovecmb",787,"commaaboverightcmb",789,"commaaccent",63171,"commaarabic",1548,"commaarmenian",1373,"commainferior",63201,"commamonospace",65292,"commareversedabovecmb",788,"commareversedmod",701,"commasmall",65104,"commasuperior",63202,"commaturnedabovecmb",786,"commaturnedmod",699,"compass",9788,"congruent",8773,"contourintegral",8750,"control",8963,"controlACK",6,"controlBEL",7,"controlBS",8,"controlCAN",24,"controlCR",13,"controlDC1",17,"controlDC2",18,"controlDC3",19,"controlDC4",20,"controlDEL",127,"controlDLE",16,"controlEM",25,"controlENQ",5,"controlEOT",4,"controlESC",27,"controlETB",23,"controlETX",3,"controlFF",12,"controlFS",28,"controlGS",29,"controlHT",9,"controlLF",10,"controlNAK",21,"controlNULL",0,"controlRS",30,"controlSI",15,"controlSO",14,"controlSOT",2,"controlSTX",1,"controlSUB",26,"controlSYN",22,"controlUS",31,"controlVT",11,"copyright",169,"copyrightsans",63721,"copyrightserif",63193,"cornerbracketleft",12300,"cornerbracketlefthalfwidth",65378,"cornerbracketleftvertical",65089,"cornerbracketright",12301,"cornerbracketrighthalfwidth",65379,"cornerbracketrightvertical",65090,"corporationsquare",13183,"cosquare",13255,"coverkgsquare",13254,"cparen",9374,"cruzeiro",8354,"cstretched",663,"curlyand",8911,"curlyor",8910,"currency",164,"cyrBreve",63185,"cyrFlex",63186,"cyrbreve",63188,"cyrflex",63189,"d",100,"daarmenian",1380,"dabengali",2470,"dadarabic",1590,"dadeva",2342,"dadfinalarabic",65214,"dadinitialarabic",65215,"dadmedialarabic",65216,"dagesh",1468,"dageshhebrew",1468,"dagger",8224,"daggerdbl",8225,"dagujarati",2726,"dagurmukhi",2598,"dahiragana",12384,"dakatakana",12480,"dalarabic",1583,"dalet",1491,"daletdagesh",64307,"daletdageshhebrew",64307,"dalethebrew",1491,"dalfinalarabic",65194,"dammaarabic",1615,"dammalowarabic",1615,"dammatanaltonearabic",1612,"dammatanarabic",1612,"danda",2404,"dargahebrew",1447,"dargalefthebrew",1447,"dasiapneumatacyrilliccmb",1157,"dblGrave",63187,"dblanglebracketleft",12298,"dblanglebracketleftvertical",65085,"dblanglebracketright",12299,"dblanglebracketrightvertical",65086,"dblarchinvertedbelowcmb",811,"dblarrowleft",8660,"dblarrowright",8658,"dbldanda",2405,"dblgrave",63190,"dblgravecmb",783,"dblintegral",8748,"dbllowline",8215,"dbllowlinecmb",819,"dbloverlinecmb",831,"dblprimemod",698,"dblverticalbar",8214,"dblverticallineabovecmb",782,"dbopomofo",12553,"dbsquare",13256,"dcaron",271,"dcedilla",7697,"dcircle",9427,"dcircumflexbelow",7699,"dcroat",273,"ddabengali",2465,"ddadeva",2337,"ddagujarati",2721,"ddagurmukhi",2593,"ddalarabic",1672,"ddalfinalarabic",64393,"dddhadeva",2396,"ddhabengali",2466,"ddhadeva",2338,"ddhagujarati",2722,"ddhagurmukhi",2594,"ddotaccent",7691,"ddotbelow",7693,"decimalseparatorarabic",1643,"decimalseparatorpersian",1643,"decyrillic",1076,"degree",176,"dehihebrew",1453,"dehiragana",12391,"deicoptic",1007,"dekatakana",12487,"deleteleft",9003,"deleteright",8998,"delta",948,"deltaturned",397,"denominatorminusonenumeratorbengali",2552,"dezh",676,"dhabengali",2471,"dhadeva",2343,"dhagujarati",2727,"dhagurmukhi",2599,"dhook",599,"dialytikatonos",901,"dialytikatonoscmb",836,"diamond",9830,"diamondsuitwhite",9826,"dieresis",168,"dieresisacute",63191,"dieresisbelowcmb",804,"dieresiscmb",776,"dieresisgrave",63192,"dieresistonos",901,"dihiragana",12386,"dikatakana",12482,"dittomark",12291,"divide",247,"divides",8739,"divisionslash",8725,"djecyrillic",1106,"dkshade",9619,"dlinebelow",7695,"dlsquare",13207,"dmacron",273,"dmonospace",65348,"dnblock",9604,"dochadathai",3598,"dodekthai",3604,"dohiragana",12393,"dokatakana",12489,"dollar",36,"dollarinferior",63203,"dollarmonospace",65284,"dollaroldstyle",63268,"dollarsmall",65129,"dollarsuperior",63204,"dong",8363,"dorusquare",13094,"dotaccent",729,"dotaccentcmb",775,"dotbelowcmb",803,"dotbelowcomb",803,"dotkatakana",12539,"dotlessi",305,"dotlessj",63166,"dotlessjstrokehook",644,"dotmath",8901,"dottedcircle",9676,"doubleyodpatah",64287,"doubleyodpatahhebrew",64287,"downtackbelowcmb",798,"downtackmod",725,"dparen",9375,"dsuperior",63211,"dtail",598,"dtopbar",396,"duhiragana",12389,"dukatakana",12485,"dz",499,"dzaltone",675,"dzcaron",454,"dzcurl",677,"dzeabkhasiancyrillic",1249,"dzecyrillic",1109,"dzhecyrillic",1119,"e",101,"eacute",233,"earth",9793,"ebengali",2447,"ebopomofo",12572,"ebreve",277,"ecandradeva",2317,"ecandragujarati",2701,"ecandravowelsigndeva",2373,"ecandravowelsigngujarati",2757,"ecaron",283,"ecedillabreve",7709,"echarmenian",1381,"echyiwnarmenian",1415,"ecircle",9428,"ecircumflex",234,"ecircumflexacute",7871,"ecircumflexbelow",7705,"ecircumflexdotbelow",7879,"ecircumflexgrave",7873,"ecircumflexhookabove",7875,"ecircumflextilde",7877,"ecyrillic",1108,"edblgrave",517,"edeva",2319,"edieresis",235,"edot",279,"edotaccent",279,"edotbelow",7865,"eegurmukhi",2575,"eematragurmukhi",2631,"efcyrillic",1092,"egrave",232,"egujarati",2703,"eharmenian",1383,"ehbopomofo",12573,"ehiragana",12360,"ehookabove",7867,"eibopomofo",12575,"eight",56,"eightarabic",1640,"eightbengali",2542,"eightcircle",9319,"eightcircleinversesansserif",10129,"eightdeva",2414,"eighteencircle",9329,"eighteenparen",9349,"eighteenperiod",9369,"eightgujarati",2798,"eightgurmukhi",2670,"eighthackarabic",1640,"eighthangzhou",12328,"eighthnotebeamed",9835,"eightideographicparen",12839,"eightinferior",8328,"eightmonospace",65304,"eightoldstyle",63288,"eightparen",9339,"eightperiod",9359,"eightpersian",1784,"eightroman",8567,"eightsuperior",8312,"eightthai",3672,"einvertedbreve",519,"eiotifiedcyrillic",1125,"ekatakana",12456,"ekatakanahalfwidth",65396,"ekonkargurmukhi",2676,"ekorean",12628,"elcyrillic",1083,"element",8712,"elevencircle",9322,"elevenparen",9342,"elevenperiod",9362,"elevenroman",8570,"ellipsis",8230,"ellipsisvertical",8942,"emacron",275,"emacronacute",7703,"emacrongrave",7701,"emcyrillic",1084,"emdash",8212,"emdashvertical",65073,"emonospace",65349,"emphasismarkarmenian",1371,"emptyset",8709,"enbopomofo",12579,"encyrillic",1085,"endash",8211,"endashvertical",65074,"endescendercyrillic",1187,"eng",331,"engbopomofo",12581,"enghecyrillic",1189,"enhookcyrillic",1224,"enspace",8194,"eogonek",281,"eokorean",12627,"eopen",603,"eopenclosed",666,"eopenreversed",604,"eopenreversedclosed",606,"eopenreversedhook",605,"eparen",9376,"epsilon",949,"epsilontonos",941,"equal",61,"equalmonospace",65309,"equalsmall",65126,"equalsuperior",8316,"equivalence",8801,"erbopomofo",12582,"ercyrillic",1088,"ereversed",600,"ereversedcyrillic",1101,"escyrillic",1089,"esdescendercyrillic",1195,"esh",643,"eshcurl",646,"eshortdeva",2318,"eshortvowelsigndeva",2374,"eshreversedloop",426,"eshsquatreversed",645,"esmallhiragana",12359,"esmallkatakana",12455,"esmallkatakanahalfwidth",65386,"estimated",8494,"esuperior",63212,"eta",951,"etarmenian",1384,"etatonos",942,"eth",240,"etilde",7869,"etildebelow",7707,"etnahtafoukhhebrew",1425,"etnahtafoukhlefthebrew",1425,"etnahtahebrew",1425,"etnahtalefthebrew",1425,"eturned",477,"eukorean",12641,"euro",8364,"evowelsignbengali",2503,"evowelsigndeva",2375,"evowelsigngujarati",2759,"exclam",33,"exclamarmenian",1372,"exclamdbl",8252,"exclamdown",161,"exclamdownsmall",63393,"exclammonospace",65281,"exclamsmall",63265,"existential",8707,"ezh",658,"ezhcaron",495,"ezhcurl",659,"ezhreversed",441,"ezhtail",442,"f",102,"fadeva",2398,"fagurmukhi",2654,"fahrenheit",8457,"fathaarabic",1614,"fathalowarabic",1614,"fathatanarabic",1611,"fbopomofo",12552,"fcircle",9429,"fdotaccent",7711,"feharabic",1601,"feharmenian",1414,"fehfinalarabic",65234,"fehinitialarabic",65235,"fehmedialarabic",65236,"feicoptic",997,"female",9792,"ff",64256,"f_f",64256,"ffi",64259,"ffl",64260,"fi",64257,"fifteencircle",9326,"fifteenparen",9346,"fifteenperiod",9366,"figuredash",8210,"filledbox",9632,"filledrect",9644,"finalkaf",1498,"finalkafdagesh",64314,"finalkafdageshhebrew",64314,"finalkafhebrew",1498,"finalmem",1501,"finalmemhebrew",1501,"finalnun",1503,"finalnunhebrew",1503,"finalpe",1507,"finalpehebrew",1507,"finaltsadi",1509,"finaltsadihebrew",1509,"firsttonechinese",713,"fisheye",9673,"fitacyrillic",1139,"five",53,"fivearabic",1637,"fivebengali",2539,"fivecircle",9316,"fivecircleinversesansserif",10126,"fivedeva",2411,"fiveeighths",8541,"fivegujarati",2795,"fivegurmukhi",2667,"fivehackarabic",1637,"fivehangzhou",12325,"fiveideographicparen",12836,"fiveinferior",8325,"fivemonospace",65301,"fiveoldstyle",63285,"fiveparen",9336,"fiveperiod",9356,"fivepersian",1781,"fiveroman",8564,"fivesuperior",8309,"fivethai",3669,"fl",64258,"florin",402,"fmonospace",65350,"fmsquare",13209,"fofanthai",3615,"fofathai",3613,"fongmanthai",3663,"forall",8704,"four",52,"fourarabic",1636,"fourbengali",2538,"fourcircle",9315,"fourcircleinversesansserif",10125,"fourdeva",2410,"fourgujarati",2794,"fourgurmukhi",2666,"fourhackarabic",1636,"fourhangzhou",12324,"fourideographicparen",12835,"fourinferior",8324,"fourmonospace",65300,"fournumeratorbengali",2551,"fouroldstyle",63284,"fourparen",9335,"fourperiod",9355,"fourpersian",1780,"fourroman",8563,"foursuperior",8308,"fourteencircle",9325,"fourteenparen",9345,"fourteenperiod",9365,"fourthai",3668,"fourthtonechinese",715,"fparen",9377,"fraction",8260,"franc",8355,"g",103,"gabengali",2455,"gacute",501,"gadeva",2327,"gafarabic",1711,"gaffinalarabic",64403,"gafinitialarabic",64404,"gafmedialarabic",64405,"gagujarati",2711,"gagurmukhi",2583,"gahiragana",12364,"gakatakana",12460,"gamma",947,"gammalatinsmall",611,"gammasuperior",736,"gangiacoptic",1003,"gbopomofo",12557,"gbreve",287,"gcaron",487,"gcedilla",291,"gcircle",9430,"gcircumflex",285,"gcommaaccent",291,"gdot",289,"gdotaccent",289,"gecyrillic",1075,"gehiragana",12370,"gekatakana",12466,"geometricallyequal",8785,"gereshaccenthebrew",1436,"gereshhebrew",1523,"gereshmuqdamhebrew",1437,"germandbls",223,"gershayimaccenthebrew",1438,"gershayimhebrew",1524,"getamark",12307,"ghabengali",2456,"ghadarmenian",1394,"ghadeva",2328,"ghagujarati",2712,"ghagurmukhi",2584,"ghainarabic",1594,"ghainfinalarabic",65230,"ghaininitialarabic",65231,"ghainmedialarabic",65232,"ghemiddlehookcyrillic",1173,"ghestrokecyrillic",1171,"gheupturncyrillic",1169,"ghhadeva",2394,"ghhagurmukhi",2650,"ghook",608,"ghzsquare",13203,"gihiragana",12366,"gikatakana",12462,"gimarmenian",1379,"gimel",1490,"gimeldagesh",64306,"gimeldageshhebrew",64306,"gimelhebrew",1490,"gjecyrillic",1107,"glottalinvertedstroke",446,"glottalstop",660,"glottalstopinverted",662,"glottalstopmod",704,"glottalstopreversed",661,"glottalstopreversedmod",705,"glottalstopreversedsuperior",740,"glottalstopstroke",673,"glottalstopstrokereversed",674,"gmacron",7713,"gmonospace",65351,"gohiragana",12372,"gokatakana",12468,"gparen",9378,"gpasquare",13228,"gradient",8711,"grave",96,"gravebelowcmb",790,"gravecmb",768,"gravecomb",768,"gravedeva",2387,"gravelowmod",718,"gravemonospace",65344,"gravetonecmb",832,"greater",62,"greaterequal",8805,"greaterequalorless",8923,"greatermonospace",65310,"greaterorequivalent",8819,"greaterorless",8823,"greateroverequal",8807,"greatersmall",65125,"gscript",609,"gstroke",485,"guhiragana",12368,"guillemotleft",171,"guillemotright",187,"guilsinglleft",8249,"guilsinglright",8250,"gukatakana",12464,"guramusquare",13080,"gysquare",13257,"h",104,"haabkhasiancyrillic",1193,"haaltonearabic",1729,"habengali",2489,"hadescendercyrillic",1203,"hadeva",2361,"hagujarati",2745,"hagurmukhi",2617,"haharabic",1581,"hahfinalarabic",65186,"hahinitialarabic",65187,"hahiragana",12399,"hahmedialarabic",65188,"haitusquare",13098,"hakatakana",12495,"hakatakanahalfwidth",65418,"halantgurmukhi",2637,"hamzaarabic",1569,"hamzalowarabic",1569,"hangulfiller",12644,"hardsigncyrillic",1098,"harpoonleftbarbup",8636,"harpoonrightbarbup",8640,"hasquare",13258,"hatafpatah",1458,"hatafpatah16",1458,"hatafpatah23",1458,"hatafpatah2f",1458,"hatafpatahhebrew",1458,"hatafpatahnarrowhebrew",1458,"hatafpatahquarterhebrew",1458,"hatafpatahwidehebrew",1458,"hatafqamats",1459,"hatafqamats1b",1459,"hatafqamats28",1459,"hatafqamats34",1459,"hatafqamatshebrew",1459,"hatafqamatsnarrowhebrew",1459,"hatafqamatsquarterhebrew",1459,"hatafqamatswidehebrew",1459,"hatafsegol",1457,"hatafsegol17",1457,"hatafsegol24",1457,"hatafsegol30",1457,"hatafsegolhebrew",1457,"hatafsegolnarrowhebrew",1457,"hatafsegolquarterhebrew",1457,"hatafsegolwidehebrew",1457,"hbar",295,"hbopomofo",12559,"hbrevebelow",7723,"hcedilla",7721,"hcircle",9431,"hcircumflex",293,"hdieresis",7719,"hdotaccent",7715,"hdotbelow",7717,"he",1492,"heart",9829,"heartsuitblack",9829,"heartsuitwhite",9825,"hedagesh",64308,"hedageshhebrew",64308,"hehaltonearabic",1729,"heharabic",1607,"hehebrew",1492,"hehfinalaltonearabic",64423,"hehfinalalttwoarabic",65258,"hehfinalarabic",65258,"hehhamzaabovefinalarabic",64421,"hehhamzaaboveisolatedarabic",64420,"hehinitialaltonearabic",64424,"hehinitialarabic",65259,"hehiragana",12408,"hehmedialaltonearabic",64425,"hehmedialarabic",65260,"heiseierasquare",13179,"hekatakana",12504,"hekatakanahalfwidth",65421,"hekutaarusquare",13110,"henghook",615,"herutusquare",13113,"het",1495,"hethebrew",1495,"hhook",614,"hhooksuperior",689,"hieuhacirclekorean",12923,"hieuhaparenkorean",12827,"hieuhcirclekorean",12909,"hieuhkorean",12622,"hieuhparenkorean",12813,"hihiragana",12402,"hikatakana",12498,"hikatakanahalfwidth",65419,"hiriq",1460,"hiriq14",1460,"hiriq21",1460,"hiriq2d",1460,"hiriqhebrew",1460,"hiriqnarrowhebrew",1460,"hiriqquarterhebrew",1460,"hiriqwidehebrew",1460,"hlinebelow",7830,"hmonospace",65352,"hoarmenian",1392,"hohipthai",3627,"hohiragana",12411,"hokatakana",12507,"hokatakanahalfwidth",65422,"holam",1465,"holam19",1465,"holam26",1465,"holam32",1465,"holamhebrew",1465,"holamnarrowhebrew",1465,"holamquarterhebrew",1465,"holamwidehebrew",1465,"honokhukthai",3630,"hookabovecomb",777,"hookcmb",777,"hookpalatalizedbelowcmb",801,"hookretroflexbelowcmb",802,"hoonsquare",13122,"horicoptic",1001,"horizontalbar",8213,"horncmb",795,"hotsprings",9832,"house",8962,"hparen",9379,"hsuperior",688,"hturned",613,"huhiragana",12405,"huiitosquare",13107,"hukatakana",12501,"hukatakanahalfwidth",65420,"hungarumlaut",733,"hungarumlautcmb",779,"hv",405,"hyphen",45,"hypheninferior",63205,"hyphenmonospace",65293,"hyphensmall",65123,"hyphensuperior",63206,"hyphentwo",8208,"i",105,"iacute",237,"iacyrillic",1103,"ibengali",2439,"ibopomofo",12583,"ibreve",301,"icaron",464,"icircle",9432,"icircumflex",238,"icyrillic",1110,"idblgrave",521,"ideographearthcircle",12943,"ideographfirecircle",12939,"ideographicallianceparen",12863,"ideographiccallparen",12858,"ideographiccentrecircle",12965,"ideographicclose",12294,"ideographiccomma",12289,"ideographiccommaleft",65380,"ideographiccongratulationparen",12855,"ideographiccorrectcircle",12963,"ideographicearthparen",12847,"ideographicenterpriseparen",12861,"ideographicexcellentcircle",12957,"ideographicfestivalparen",12864,"ideographicfinancialcircle",12950,"ideographicfinancialparen",12854,"ideographicfireparen",12843,"ideographichaveparen",12850,"ideographichighcircle",12964,"ideographiciterationmark",12293,"ideographiclaborcircle",12952,"ideographiclaborparen",12856,"ideographicleftcircle",12967,"ideographiclowcircle",12966,"ideographicmedicinecircle",12969,"ideographicmetalparen",12846,"ideographicmoonparen",12842,"ideographicnameparen",12852,"ideographicperiod",12290,"ideographicprintcircle",12958,"ideographicreachparen",12867,"ideographicrepresentparen",12857,"ideographicresourceparen",12862,"ideographicrightcircle",12968,"ideographicsecretcircle",12953,"ideographicselfparen",12866,"ideographicsocietyparen",12851,"ideographicspace",12288,"ideographicspecialparen",12853,"ideographicstockparen",12849,"ideographicstudyparen",12859,"ideographicsunparen",12848,"ideographicsuperviseparen",12860,"ideographicwaterparen",12844,"ideographicwoodparen",12845,"ideographiczero",12295,"ideographmetalcircle",12942,"ideographmooncircle",12938,"ideographnamecircle",12948,"ideographsuncircle",12944,"ideographwatercircle",12940,"ideographwoodcircle",12941,"ideva",2311,"idieresis",239,"idieresisacute",7727,"idieresiscyrillic",1253,"idotbelow",7883,"iebrevecyrillic",1239,"iecyrillic",1077,"ieungacirclekorean",12917,"ieungaparenkorean",12821,"ieungcirclekorean",12903,"ieungkorean",12615,"ieungparenkorean",12807,"igrave",236,"igujarati",2695,"igurmukhi",2567,"ihiragana",12356,"ihookabove",7881,"iibengali",2440,"iicyrillic",1080,"iideva",2312,"iigujarati",2696,"iigurmukhi",2568,"iimatragurmukhi",2624,"iinvertedbreve",523,"iishortcyrillic",1081,"iivowelsignbengali",2496,"iivowelsigndeva",2368,"iivowelsigngujarati",2752,"ij",307,"ikatakana",12452,"ikatakanahalfwidth",65394,"ikorean",12643,"ilde",732,"iluyhebrew",1452,"imacron",299,"imacroncyrillic",1251,"imageorapproximatelyequal",8787,"imatragurmukhi",2623,"imonospace",65353,"increment",8710,"infinity",8734,"iniarmenian",1387,"integral",8747,"integralbottom",8993,"integralbt",8993,"integralex",63733,"integraltop",8992,"integraltp",8992,"intersection",8745,"intisquare",13061,"invbullet",9688,"invcircle",9689,"invsmileface",9787,"iocyrillic",1105,"iogonek",303,"iota",953,"iotadieresis",970,"iotadieresistonos",912,"iotalatin",617,"iotatonos",943,"iparen",9380,"irigurmukhi",2674,"ismallhiragana",12355,"ismallkatakana",12451,"ismallkatakanahalfwidth",65384,"issharbengali",2554,"istroke",616,"isuperior",63213,"iterationhiragana",12445,"iterationkatakana",12541,"itilde",297,"itildebelow",7725,"iubopomofo",12585,"iucyrillic",1102,"ivowelsignbengali",2495,"ivowelsigndeva",2367,"ivowelsigngujarati",2751,"izhitsacyrillic",1141,"izhitsadblgravecyrillic",1143,"j",106,"jaarmenian",1393,"jabengali",2460,"jadeva",2332,"jagujarati",2716,"jagurmukhi",2588,"jbopomofo",12560,"jcaron",496,"jcircle",9433,"jcircumflex",309,"jcrossedtail",669,"jdotlessstroke",607,"jecyrillic",1112,"jeemarabic",1580,"jeemfinalarabic",65182,"jeeminitialarabic",65183,"jeemmedialarabic",65184,"jeharabic",1688,"jehfinalarabic",64395,"jhabengali",2461,"jhadeva",2333,"jhagujarati",2717,"jhagurmukhi",2589,"jheharmenian",1403,"jis",12292,"jmonospace",65354,"jparen",9381,"jsuperior",690,"k",107,"kabashkircyrillic",1185,"kabengali",2453,"kacute",7729,"kacyrillic",1082,"kadescendercyrillic",1179,"kadeva",2325,"kaf",1499,"kafarabic",1603,"kafdagesh",64315,"kafdageshhebrew",64315,"kaffinalarabic",65242,"kafhebrew",1499,"kafinitialarabic",65243,"kafmedialarabic",65244,"kafrafehebrew",64333,"kagujarati",2709,"kagurmukhi",2581,"kahiragana",12363,"kahookcyrillic",1220,"kakatakana",12459,"kakatakanahalfwidth",65398,"kappa",954,"kappasymbolgreek",1008,"kapyeounmieumkorean",12657,"kapyeounphieuphkorean",12676,"kapyeounpieupkorean",12664,"kapyeounssangpieupkorean",12665,"karoriisquare",13069,"kashidaautoarabic",1600,"kashidaautonosidebearingarabic",1600,"kasmallkatakana",12533,"kasquare",13188,"kasraarabic",1616,"kasratanarabic",1613,"kastrokecyrillic",1183,"katahiraprolongmarkhalfwidth",65392,"kaverticalstrokecyrillic",1181,"kbopomofo",12558,"kcalsquare",13193,"kcaron",489,"kcedilla",311,"kcircle",9434,"kcommaaccent",311,"kdotbelow",7731,"keharmenian",1412,"kehiragana",12369,"kekatakana",12465,"kekatakanahalfwidth",65401,"kenarmenian",1391,"kesmallkatakana",12534,"kgreenlandic",312,"khabengali",2454,"khacyrillic",1093,"khadeva",2326,"khagujarati",2710,"khagurmukhi",2582,"khaharabic",1582,"khahfinalarabic",65190,"khahinitialarabic",65191,"khahmedialarabic",65192,"kheicoptic",999,"khhadeva",2393,"khhagurmukhi",2649,"khieukhacirclekorean",12920,"khieukhaparenkorean",12824,"khieukhcirclekorean",12906,"khieukhkorean",12619,"khieukhparenkorean",12810,"khokhaithai",3586,"khokhonthai",3589,"khokhuatthai",3587,"khokhwaithai",3588,"khomutthai",3675,"khook",409,"khorakhangthai",3590,"khzsquare",13201,"kihiragana",12365,"kikatakana",12461,"kikatakanahalfwidth",65399,"kiroguramusquare",13077,"kiromeetorusquare",13078,"kirosquare",13076,"kiyeokacirclekorean",12910,"kiyeokaparenkorean",12814,"kiyeokcirclekorean",12896,"kiyeokkorean",12593,"kiyeokparenkorean",12800,"kiyeoksioskorean",12595,"kjecyrillic",1116,"klinebelow",7733,"klsquare",13208,"kmcubedsquare",13222,"kmonospace",65355,"kmsquaredsquare",13218,"kohiragana",12371,"kohmsquare",13248,"kokaithai",3585,"kokatakana",12467,"kokatakanahalfwidth",65402,"kooposquare",13086,"koppacyrillic",1153,"koreanstandardsymbol",12927,"koroniscmb",835,"kparen",9382,"kpasquare",13226,"ksicyrillic",1135,"ktsquare",13263,"kturned",670,"kuhiragana",12367,"kukatakana",12463,"kukatakanahalfwidth",65400,"kvsquare",13240,"kwsquare",13246,"l",108,"labengali",2482,"lacute",314,"ladeva",2354,"lagujarati",2738,"lagurmukhi",2610,"lakkhangyaothai",3653,"lamaleffinalarabic",65276,"lamalefhamzaabovefinalarabic",65272,"lamalefhamzaaboveisolatedarabic",65271,"lamalefhamzabelowfinalarabic",65274,"lamalefhamzabelowisolatedarabic",65273,"lamalefisolatedarabic",65275,"lamalefmaddaabovefinalarabic",65270,"lamalefmaddaaboveisolatedarabic",65269,"lamarabic",1604,"lambda",955,"lambdastroke",411,"lamed",1500,"lameddagesh",64316,"lameddageshhebrew",64316,"lamedhebrew",1500,"lamfinalarabic",65246,"lamhahinitialarabic",64714,"laminitialarabic",65247,"lamjeeminitialarabic",64713,"lamkhahinitialarabic",64715,"lamlamhehisolatedarabic",65010,"lammedialarabic",65248,"lammeemhahinitialarabic",64904,"lammeeminitialarabic",64716,"largecircle",9711,"lbar",410,"lbelt",620,"lbopomofo",12556,"lcaron",318,"lcedilla",316,"lcircle",9435,"lcircumflexbelow",7741,"lcommaaccent",316,"ldot",320,"ldotaccent",320,"ldotbelow",7735,"ldotbelowmacron",7737,"leftangleabovecmb",794,"lefttackbelowcmb",792,"less",60,"lessequal",8804,"lessequalorgreater",8922,"lessmonospace",65308,"lessorequivalent",8818,"lessorgreater",8822,"lessoverequal",8806,"lesssmall",65124,"lezh",622,"lfblock",9612,"lhookretroflex",621,"lira",8356,"liwnarmenian",1388,"lj",457,"ljecyrillic",1113,"ll",63168,"lladeva",2355,"llagujarati",2739,"llinebelow",7739,"llladeva",2356,"llvocalicbengali",2529,"llvocalicdeva",2401,"llvocalicvowelsignbengali",2531,"llvocalicvowelsigndeva",2403,"lmiddletilde",619,"lmonospace",65356,"lmsquare",13264,"lochulathai",3628,"logicaland",8743,"logicalnot",172,"logicalnotreversed",8976,"logicalor",8744,"lolingthai",3621,"longs",383,"lowlinecenterline",65102,"lowlinecmb",818,"lowlinedashed",65101,"lozenge",9674,"lparen",9383,"lslash",322,"lsquare",8467,"lsuperior",63214,"ltshade",9617,"luthai",3622,"lvocalicbengali",2444,"lvocalicdeva",2316,"lvocalicvowelsignbengali",2530,"lvocalicvowelsigndeva",2402,"lxsquare",13267,"m",109,"mabengali",2478,"macron",175,"macronbelowcmb",817,"macroncmb",772,"macronlowmod",717,"macronmonospace",65507,"macute",7743,"madeva",2350,"magujarati",2734,"magurmukhi",2606,"mahapakhhebrew",1444,"mahapakhlefthebrew",1444,"mahiragana",12414,"maichattawalowleftthai",63637,"maichattawalowrightthai",63636,"maichattawathai",3659,"maichattawaupperleftthai",63635,"maieklowleftthai",63628,"maieklowrightthai",63627,"maiekthai",3656,"maiekupperleftthai",63626,"maihanakatleftthai",63620,"maihanakatthai",3633,"maitaikhuleftthai",63625,"maitaikhuthai",3655,"maitholowleftthai",63631,"maitholowrightthai",63630,"maithothai",3657,"maithoupperleftthai",63629,"maitrilowleftthai",63634,"maitrilowrightthai",63633,"maitrithai",3658,"maitriupperleftthai",63632,"maiyamokthai",3654,"makatakana",12510,"makatakanahalfwidth",65423,"male",9794,"mansyonsquare",13127,"maqafhebrew",1470,"mars",9794,"masoracirclehebrew",1455,"masquare",13187,"mbopomofo",12551,"mbsquare",13268,"mcircle",9436,"mcubedsquare",13221,"mdotaccent",7745,"mdotbelow",7747,"meemarabic",1605,"meemfinalarabic",65250,"meeminitialarabic",65251,"meemmedialarabic",65252,"meemmeeminitialarabic",64721,"meemmeemisolatedarabic",64584,"meetorusquare",13133,"mehiragana",12417,"meizierasquare",13182,"mekatakana",12513,"mekatakanahalfwidth",65426,"mem",1502,"memdagesh",64318,"memdageshhebrew",64318,"memhebrew",1502,"menarmenian",1396,"merkhahebrew",1445,"merkhakefulahebrew",1446,"merkhakefulalefthebrew",1446,"merkhalefthebrew",1445,"mhook",625,"mhzsquare",13202,"middledotkatakanahalfwidth",65381,"middot",183,"mieumacirclekorean",12914,"mieumaparenkorean",12818,"mieumcirclekorean",12900,"mieumkorean",12609,"mieumpansioskorean",12656,"mieumparenkorean",12804,"mieumpieupkorean",12654,"mieumsioskorean",12655,"mihiragana",12415,"mikatakana",12511,"mikatakanahalfwidth",65424,"minus",8722,"minusbelowcmb",800,"minuscircle",8854,"minusmod",727,"minusplus",8723,"minute",8242,"miribaarusquare",13130,"mirisquare",13129,"mlonglegturned",624,"mlsquare",13206,"mmcubedsquare",13219,"mmonospace",65357,"mmsquaredsquare",13215,"mohiragana",12418,"mohmsquare",13249,"mokatakana",12514,"mokatakanahalfwidth",65427,"molsquare",13270,"momathai",3617,"moverssquare",13223,"moverssquaredsquare",13224,"mparen",9384,"mpasquare",13227,"mssquare",13235,"msuperior",63215,"mturned",623,"mu",181,"mu1",181,"muasquare",13186,"muchgreater",8811,"muchless",8810,"mufsquare",13196,"mugreek",956,"mugsquare",13197,"muhiragana",12416,"mukatakana",12512,"mukatakanahalfwidth",65425,"mulsquare",13205,"multiply",215,"mumsquare",13211,"munahhebrew",1443,"munahlefthebrew",1443,"musicalnote",9834,"musicalnotedbl",9835,"musicflatsign",9837,"musicsharpsign",9839,"mussquare",13234,"muvsquare",13238,"muwsquare",13244,"mvmegasquare",13241,"mvsquare",13239,"mwmegasquare",13247,"mwsquare",13245,"n",110,"nabengali",2472,"nabla",8711,"nacute",324,"nadeva",2344,"nagujarati",2728,"nagurmukhi",2600,"nahiragana",12394,"nakatakana",12490,"nakatakanahalfwidth",65413,"napostrophe",329,"nasquare",13185,"nbopomofo",12555,"nbspace",160,"ncaron",328,"ncedilla",326,"ncircle",9437,"ncircumflexbelow",7755,"ncommaaccent",326,"ndotaccent",7749,"ndotbelow",7751,"nehiragana",12397,"nekatakana",12493,"nekatakanahalfwidth",65416,"newsheqelsign",8362,"nfsquare",13195,"ngabengali",2457,"ngadeva",2329,"ngagujarati",2713,"ngagurmukhi",2585,"ngonguthai",3591,"nhiragana",12435,"nhookleft",626,"nhookretroflex",627,"nieunacirclekorean",12911,"nieunaparenkorean",12815,"nieuncieuckorean",12597,"nieuncirclekorean",12897,"nieunhieuhkorean",12598,"nieunkorean",12596,"nieunpansioskorean",12648,"nieunparenkorean",12801,"nieunsioskorean",12647,"nieuntikeutkorean",12646,"nihiragana",12395,"nikatakana",12491,"nikatakanahalfwidth",65414,"nikhahitleftthai",63641,"nikhahitthai",3661,"nine",57,"ninearabic",1641,"ninebengali",2543,"ninecircle",9320,"ninecircleinversesansserif",10130,"ninedeva",2415,"ninegujarati",2799,"ninegurmukhi",2671,"ninehackarabic",1641,"ninehangzhou",12329,"nineideographicparen",12840,"nineinferior",8329,"ninemonospace",65305,"nineoldstyle",63289,"nineparen",9340,"nineperiod",9360,"ninepersian",1785,"nineroman",8568,"ninesuperior",8313,"nineteencircle",9330,"nineteenparen",9350,"nineteenperiod",9370,"ninethai",3673,"nj",460,"njecyrillic",1114,"nkatakana",12531,"nkatakanahalfwidth",65437,"nlegrightlong",414,"nlinebelow",7753,"nmonospace",65358,"nmsquare",13210,"nnabengali",2467,"nnadeva",2339,"nnagujarati",2723,"nnagurmukhi",2595,"nnnadeva",2345,"nohiragana",12398,"nokatakana",12494,"nokatakanahalfwidth",65417,"nonbreakingspace",160,"nonenthai",3603,"nonuthai",3609,"noonarabic",1606,"noonfinalarabic",65254,"noonghunnaarabic",1722,"noonghunnafinalarabic",64415,"nooninitialarabic",65255,"noonjeeminitialarabic",64722,"noonjeemisolatedarabic",64587,"noonmedialarabic",65256,"noonmeeminitialarabic",64725,"noonmeemisolatedarabic",64590,"noonnoonfinalarabic",64653,"notcontains",8716,"notelement",8713,"notelementof",8713,"notequal",8800,"notgreater",8815,"notgreaternorequal",8817,"notgreaternorless",8825,"notidentical",8802,"notless",8814,"notlessnorequal",8816,"notparallel",8742,"notprecedes",8832,"notsubset",8836,"notsucceeds",8833,"notsuperset",8837,"nowarmenian",1398,"nparen",9385,"nssquare",13233,"nsuperior",8319,"ntilde",241,"nu",957,"nuhiragana",12396,"nukatakana",12492,"nukatakanahalfwidth",65415,"nuktabengali",2492,"nuktadeva",2364,"nuktagujarati",2748,"nuktagurmukhi",2620,"numbersign",35,"numbersignmonospace",65283,"numbersignsmall",65119,"numeralsigngreek",884,"numeralsignlowergreek",885,"numero",8470,"nun",1504,"nundagesh",64320,"nundageshhebrew",64320,"nunhebrew",1504,"nvsquare",13237,"nwsquare",13243,"nyabengali",2462,"nyadeva",2334,"nyagujarati",2718,"nyagurmukhi",2590,"o",111,"oacute",243,"oangthai",3629,"obarred",629,"obarredcyrillic",1257,"obarreddieresiscyrillic",1259,"obengali",2451,"obopomofo",12571,"obreve",335,"ocandradeva",2321,"ocandragujarati",2705,"ocandravowelsigndeva",2377,"ocandravowelsigngujarati",2761,"ocaron",466,"ocircle",9438,"ocircumflex",244,"ocircumflexacute",7889,"ocircumflexdotbelow",7897,"ocircumflexgrave",7891,"ocircumflexhookabove",7893,"ocircumflextilde",7895,"ocyrillic",1086,"odblacute",337,"odblgrave",525,"odeva",2323,"odieresis",246,"odieresiscyrillic",1255,"odotbelow",7885,"oe",339,"oekorean",12634,"ogonek",731,"ogonekcmb",808,"ograve",242,"ogujarati",2707,"oharmenian",1413,"ohiragana",12362,"ohookabove",7887,"ohorn",417,"ohornacute",7899,"ohorndotbelow",7907,"ohorngrave",7901,"ohornhookabove",7903,"ohorntilde",7905,"ohungarumlaut",337,"oi",419,"oinvertedbreve",527,"okatakana",12458,"okatakanahalfwidth",65397,"okorean",12631,"olehebrew",1451,"omacron",333,"omacronacute",7763,"omacrongrave",7761,"omdeva",2384,"omega",969,"omega1",982,"omegacyrillic",1121,"omegalatinclosed",631,"omegaroundcyrillic",1147,"omegatitlocyrillic",1149,"omegatonos",974,"omgujarati",2768,"omicron",959,"omicrontonos",972,"omonospace",65359,"one",49,"onearabic",1633,"onebengali",2535,"onecircle",9312,"onecircleinversesansserif",10122,"onedeva",2407,"onedotenleader",8228,"oneeighth",8539,"onefitted",63196,"onegujarati",2791,"onegurmukhi",2663,"onehackarabic",1633,"onehalf",189,"onehangzhou",12321,"oneideographicparen",12832,"oneinferior",8321,"onemonospace",65297,"onenumeratorbengali",2548,"oneoldstyle",63281,"oneparen",9332,"oneperiod",9352,"onepersian",1777,"onequarter",188,"oneroman",8560,"onesuperior",185,"onethai",3665,"onethird",8531,"oogonek",491,"oogonekmacron",493,"oogurmukhi",2579,"oomatragurmukhi",2635,"oopen",596,"oparen",9386,"openbullet",9702,"option",8997,"ordfeminine",170,"ordmasculine",186,"orthogonal",8735,"oshortdeva",2322,"oshortvowelsigndeva",2378,"oslash",248,"oslashacute",511,"osmallhiragana",12361,"osmallkatakana",12457,"osmallkatakanahalfwidth",65387,"ostrokeacute",511,"osuperior",63216,"otcyrillic",1151,"otilde",245,"otildeacute",7757,"otildedieresis",7759,"oubopomofo",12577,"overline",8254,"overlinecenterline",65098,"overlinecmb",773,"overlinedashed",65097,"overlinedblwavy",65100,"overlinewavy",65099,"overscore",175,"ovowelsignbengali",2507,"ovowelsigndeva",2379,"ovowelsigngujarati",2763,"p",112,"paampssquare",13184,"paasentosquare",13099,"pabengali",2474,"pacute",7765,"padeva",2346,"pagedown",8671,"pageup",8670,"pagujarati",2730,"pagurmukhi",2602,"pahiragana",12401,"paiyannoithai",3631,"pakatakana",12497,"palatalizationcyrilliccmb",1156,"palochkacyrillic",1216,"pansioskorean",12671,"paragraph",182,"parallel",8741,"parenleft",40,"parenleftaltonearabic",64830,"parenleftbt",63725,"parenleftex",63724,"parenleftinferior",8333,"parenleftmonospace",65288,"parenleftsmall",65113,"parenleftsuperior",8317,"parenlefttp",63723,"parenleftvertical",65077,"parenright",41,"parenrightaltonearabic",64831,"parenrightbt",63736,"parenrightex",63735,"parenrightinferior",8334,"parenrightmonospace",65289,"parenrightsmall",65114,"parenrightsuperior",8318,"parenrighttp",63734,"parenrightvertical",65078,"partialdiff",8706,"paseqhebrew",1472,"pashtahebrew",1433,"pasquare",13225,"patah",1463,"patah11",1463,"patah1d",1463,"patah2a",1463,"patahhebrew",1463,"patahnarrowhebrew",1463,"patahquarterhebrew",1463,"patahwidehebrew",1463,"pazerhebrew",1441,"pbopomofo",12550,"pcircle",9439,"pdotaccent",7767,"pe",1508,"pecyrillic",1087,"pedagesh",64324,"pedageshhebrew",64324,"peezisquare",13115,"pefinaldageshhebrew",64323,"peharabic",1662,"peharmenian",1402,"pehebrew",1508,"pehfinalarabic",64343,"pehinitialarabic",64344,"pehiragana",12410,"pehmedialarabic",64345,"pekatakana",12506,"pemiddlehookcyrillic",1191,"perafehebrew",64334,"percent",37,"percentarabic",1642,"percentmonospace",65285,"percentsmall",65130,"period",46,"periodarmenian",1417,"periodcentered",183,"periodhalfwidth",65377,"periodinferior",63207,"periodmonospace",65294,"periodsmall",65106,"periodsuperior",63208,"perispomenigreekcmb",834,"perpendicular",8869,"perthousand",8240,"peseta",8359,"pfsquare",13194,"phabengali",2475,"phadeva",2347,"phagujarati",2731,"phagurmukhi",2603,"phi",966,"phi1",981,"phieuphacirclekorean",12922,"phieuphaparenkorean",12826,"phieuphcirclekorean",12908,"phieuphkorean",12621,"phieuphparenkorean",12812,"philatin",632,"phinthuthai",3642,"phisymbolgreek",981,"phook",421,"phophanthai",3614,"phophungthai",3612,"phosamphaothai",3616,"pi",960,"pieupacirclekorean",12915,"pieupaparenkorean",12819,"pieupcieuckorean",12662,"pieupcirclekorean",12901,"pieupkiyeokkorean",12658,"pieupkorean",12610,"pieupparenkorean",12805,"pieupsioskiyeokkorean",12660,"pieupsioskorean",12612,"pieupsiostikeutkorean",12661,"pieupthieuthkorean",12663,"pieuptikeutkorean",12659,"pihiragana",12404,"pikatakana",12500,"pisymbolgreek",982,"piwrarmenian",1411,"plus",43,"plusbelowcmb",799,"pluscircle",8853,"plusminus",177,"plusmod",726,"plusmonospace",65291,"plussmall",65122,"plussuperior",8314,"pmonospace",65360,"pmsquare",13272,"pohiragana",12413,"pointingindexdownwhite",9759,"pointingindexleftwhite",9756,"pointingindexrightwhite",9758,"pointingindexupwhite",9757,"pokatakana",12509,"poplathai",3611,"postalmark",12306,"postalmarkface",12320,"pparen",9387,"precedes",8826,"prescription",8478,"primemod",697,"primereversed",8245,"product",8719,"projective",8965,"prolongedkana",12540,"propellor",8984,"propersubset",8834,"propersuperset",8835,"proportion",8759,"proportional",8733,"psi",968,"psicyrillic",1137,"psilipneumatacyrilliccmb",1158,"pssquare",13232,"puhiragana",12407,"pukatakana",12503,"pvsquare",13236,"pwsquare",13242,"q",113,"qadeva",2392,"qadmahebrew",1448,"qafarabic",1602,"qaffinalarabic",65238,"qafinitialarabic",65239,"qafmedialarabic",65240,"qamats",1464,"qamats10",1464,"qamats1a",1464,"qamats1c",1464,"qamats27",1464,"qamats29",1464,"qamats33",1464,"qamatsde",1464,"qamatshebrew",1464,"qamatsnarrowhebrew",1464,"qamatsqatanhebrew",1464,"qamatsqatannarrowhebrew",1464,"qamatsqatanquarterhebrew",1464,"qamatsqatanwidehebrew",1464,"qamatsquarterhebrew",1464,"qamatswidehebrew",1464,"qarneyparahebrew",1439,"qbopomofo",12561,"qcircle",9440,"qhook",672,"qmonospace",65361,"qof",1511,"qofdagesh",64327,"qofdageshhebrew",64327,"qofhebrew",1511,"qparen",9388,"quarternote",9833,"qubuts",1467,"qubuts18",1467,"qubuts25",1467,"qubuts31",1467,"qubutshebrew",1467,"qubutsnarrowhebrew",1467,"qubutsquarterhebrew",1467,"qubutswidehebrew",1467,"question",63,"questionarabic",1567,"questionarmenian",1374,"questiondown",191,"questiondownsmall",63423,"questiongreek",894,"questionmonospace",65311,"questionsmall",63295,"quotedbl",34,"quotedblbase",8222,"quotedblleft",8220,"quotedblmonospace",65282,"quotedblprime",12318,"quotedblprimereversed",12317,"quotedblright",8221,"quoteleft",8216,"quoteleftreversed",8219,"quotereversed",8219,"quoteright",8217,"quoterightn",329,"quotesinglbase",8218,"quotesingle",39,"quotesinglemonospace",65287,"r",114,"raarmenian",1404,"rabengali",2480,"racute",341,"radeva",2352,"radical",8730,"radicalex",63717,"radoverssquare",13230,"radoverssquaredsquare",13231,"radsquare",13229,"rafe",1471,"rafehebrew",1471,"ragujarati",2736,"ragurmukhi",2608,"rahiragana",12425,"rakatakana",12521,"rakatakanahalfwidth",65431,"ralowerdiagonalbengali",2545,"ramiddlediagonalbengali",2544,"ramshorn",612,"ratio",8758,"rbopomofo",12566,"rcaron",345,"rcedilla",343,"rcircle",9441,"rcommaaccent",343,"rdblgrave",529,"rdotaccent",7769,"rdotbelow",7771,"rdotbelowmacron",7773,"referencemark",8251,"reflexsubset",8838,"reflexsuperset",8839,"registered",174,"registersans",63720,"registerserif",63194,"reharabic",1585,"reharmenian",1408,"rehfinalarabic",65198,"rehiragana",12428,"rekatakana",12524,"rekatakanahalfwidth",65434,"resh",1512,"reshdageshhebrew",64328,"reshhebrew",1512,"reversedtilde",8765,"reviahebrew",1431,"reviamugrashhebrew",1431,"revlogicalnot",8976,"rfishhook",638,"rfishhookreversed",639,"rhabengali",2525,"rhadeva",2397,"rho",961,"rhook",637,"rhookturned",635,"rhookturnedsuperior",693,"rhosymbolgreek",1009,"rhotichookmod",734,"rieulacirclekorean",12913,"rieulaparenkorean",12817,"rieulcirclekorean",12899,"rieulhieuhkorean",12608,"rieulkiyeokkorean",12602,"rieulkiyeoksioskorean",12649,"rieulkorean",12601,"rieulmieumkorean",12603,"rieulpansioskorean",12652,"rieulparenkorean",12803,"rieulphieuphkorean",12607,"rieulpieupkorean",12604,"rieulpieupsioskorean",12651,"rieulsioskorean",12605,"rieulthieuthkorean",12606,"rieultikeutkorean",12650,"rieulyeorinhieuhkorean",12653,"rightangle",8735,"righttackbelowcmb",793,"righttriangle",8895,"rihiragana",12426,"rikatakana",12522,"rikatakanahalfwidth",65432,"ring",730,"ringbelowcmb",805,"ringcmb",778,"ringhalfleft",703,"ringhalfleftarmenian",1369,"ringhalfleftbelowcmb",796,"ringhalfleftcentered",723,"ringhalfright",702,"ringhalfrightbelowcmb",825,"ringhalfrightcentered",722,"rinvertedbreve",531,"rittorusquare",13137,"rlinebelow",7775,"rlongleg",636,"rlonglegturned",634,"rmonospace",65362,"rohiragana",12429,"rokatakana",12525,"rokatakanahalfwidth",65435,"roruathai",3619,"rparen",9389,"rrabengali",2524,"rradeva",2353,"rragurmukhi",2652,"rreharabic",1681,"rrehfinalarabic",64397,"rrvocalicbengali",2528,"rrvocalicdeva",2400,"rrvocalicgujarati",2784,"rrvocalicvowelsignbengali",2500,"rrvocalicvowelsigndeva",2372,"rrvocalicvowelsigngujarati",2756,"rsuperior",63217,"rtblock",9616,"rturned",633,"rturnedsuperior",692,"ruhiragana",12427,"rukatakana",12523,"rukatakanahalfwidth",65433,"rupeemarkbengali",2546,"rupeesignbengali",2547,"rupiah",63197,"ruthai",3620,"rvocalicbengali",2443,"rvocalicdeva",2315,"rvocalicgujarati",2699,"rvocalicvowelsignbengali",2499,"rvocalicvowelsigndeva",2371,"rvocalicvowelsigngujarati",2755,"s",115,"sabengali",2488,"sacute",347,"sacutedotaccent",7781,"sadarabic",1589,"sadeva",2360,"sadfinalarabic",65210,"sadinitialarabic",65211,"sadmedialarabic",65212,"sagujarati",2744,"sagurmukhi",2616,"sahiragana",12373,"sakatakana",12469,"sakatakanahalfwidth",65403,"sallallahoualayhewasallamarabic",65018,"samekh",1505,"samekhdagesh",64321,"samekhdageshhebrew",64321,"samekhhebrew",1505,"saraaathai",3634,"saraaethai",3649,"saraaimaimalaithai",3652,"saraaimaimuanthai",3651,"saraamthai",3635,"saraathai",3632,"saraethai",3648,"saraiileftthai",63622,"saraiithai",3637,"saraileftthai",63621,"saraithai",3636,"saraothai",3650,"saraueeleftthai",63624,"saraueethai",3639,"saraueleftthai",63623,"sarauethai",3638,"sarauthai",3640,"sarauuthai",3641,"sbopomofo",12569,"scaron",353,"scarondotaccent",7783,"scedilla",351,"schwa",601,"schwacyrillic",1241,"schwadieresiscyrillic",1243,"schwahook",602,"scircle",9442,"scircumflex",349,"scommaaccent",537,"sdotaccent",7777,"sdotbelow",7779,"sdotbelowdotaccent",7785,"seagullbelowcmb",828,"second",8243,"secondtonechinese",714,"section",167,"seenarabic",1587,"seenfinalarabic",65202,"seeninitialarabic",65203,"seenmedialarabic",65204,"segol",1462,"segol13",1462,"segol1f",1462,"segol2c",1462,"segolhebrew",1462,"segolnarrowhebrew",1462,"segolquarterhebrew",1462,"segoltahebrew",1426,"segolwidehebrew",1462,"seharmenian",1405,"sehiragana",12379,"sekatakana",12475,"sekatakanahalfwidth",65406,"semicolon",59,"semicolonarabic",1563,"semicolonmonospace",65307,"semicolonsmall",65108,"semivoicedmarkkana",12444,"semivoicedmarkkanahalfwidth",65439,"sentisquare",13090,"sentosquare",13091,"seven",55,"sevenarabic",1639,"sevenbengali",2541,"sevencircle",9318,"sevencircleinversesansserif",10128,"sevendeva",2413,"seveneighths",8542,"sevengujarati",2797,"sevengurmukhi",2669,"sevenhackarabic",1639,"sevenhangzhou",12327,"sevenideographicparen",12838,"seveninferior",8327,"sevenmonospace",65303,"sevenoldstyle",63287,"sevenparen",9338,"sevenperiod",9358,"sevenpersian",1783,"sevenroman",8566,"sevensuperior",8311,"seventeencircle",9328,"seventeenparen",9348,"seventeenperiod",9368,"seventhai",3671,"sfthyphen",173,"shaarmenian",1399,"shabengali",2486,"shacyrillic",1096,"shaddaarabic",1617,"shaddadammaarabic",64609,"shaddadammatanarabic",64606,"shaddafathaarabic",64608,"shaddakasraarabic",64610,"shaddakasratanarabic",64607,"shade",9618,"shadedark",9619,"shadelight",9617,"shademedium",9618,"shadeva",2358,"shagujarati",2742,"shagurmukhi",2614,"shalshelethebrew",1427,"shbopomofo",12565,"shchacyrillic",1097,"sheenarabic",1588,"sheenfinalarabic",65206,"sheeninitialarabic",65207,"sheenmedialarabic",65208,"sheicoptic",995,"sheqel",8362,"sheqelhebrew",8362,"sheva",1456,"sheva115",1456,"sheva15",1456,"sheva22",1456,"sheva2e",1456,"shevahebrew",1456,"shevanarrowhebrew",1456,"shevaquarterhebrew",1456,"shevawidehebrew",1456,"shhacyrillic",1211,"shimacoptic",1005,"shin",1513,"shindagesh",64329,"shindageshhebrew",64329,"shindageshshindot",64300,"shindageshshindothebrew",64300,"shindageshsindot",64301,"shindageshsindothebrew",64301,"shindothebrew",1473,"shinhebrew",1513,"shinshindot",64298,"shinshindothebrew",64298,"shinsindot",64299,"shinsindothebrew",64299,"shook",642,"sigma",963,"sigma1",962,"sigmafinal",962,"sigmalunatesymbolgreek",1010,"sihiragana",12375,"sikatakana",12471,"sikatakanahalfwidth",65404,"siluqhebrew",1469,"siluqlefthebrew",1469,"similar",8764,"sindothebrew",1474,"siosacirclekorean",12916,"siosaparenkorean",12820,"sioscieuckorean",12670,"sioscirclekorean",12902,"sioskiyeokkorean",12666,"sioskorean",12613,"siosnieunkorean",12667,"siosparenkorean",12806,"siospieupkorean",12669,"siostikeutkorean",12668,"six",54,"sixarabic",1638,"sixbengali",2540,"sixcircle",9317,"sixcircleinversesansserif",10127,"sixdeva",2412,"sixgujarati",2796,"sixgurmukhi",2668,"sixhackarabic",1638,"sixhangzhou",12326,"sixideographicparen",12837,"sixinferior",8326,"sixmonospace",65302,"sixoldstyle",63286,"sixparen",9337,"sixperiod",9357,"sixpersian",1782,"sixroman",8565,"sixsuperior",8310,"sixteencircle",9327,"sixteencurrencydenominatorbengali",2553,"sixteenparen",9347,"sixteenperiod",9367,"sixthai",3670,"slash",47,"slashmonospace",65295,"slong",383,"slongdotaccent",7835,"smileface",9786,"smonospace",65363,"sofpasuqhebrew",1475,"softhyphen",173,"softsigncyrillic",1100,"sohiragana",12381,"sokatakana",12477,"sokatakanahalfwidth",65407,"soliduslongoverlaycmb",824,"solidusshortoverlaycmb",823,"sorusithai",3625,"sosalathai",3624,"sosothai",3595,"sosuathai",3626,"space",32,"spacehackarabic",32,"spade",9824,"spadesuitblack",9824,"spadesuitwhite",9828,"sparen",9390,"squarebelowcmb",827,"squarecc",13252,"squarecm",13213,"squarediagonalcrosshatchfill",9641,"squarehorizontalfill",9636,"squarekg",13199,"squarekm",13214,"squarekmcapital",13262,"squareln",13265,"squarelog",13266,"squaremg",13198,"squaremil",13269,"squaremm",13212,"squaremsquared",13217,"squareorthogonalcrosshatchfill",9638,"squareupperlefttolowerrightfill",9639,"squareupperrighttolowerleftfill",9640,"squareverticalfill",9637,"squarewhitewithsmallblack",9635,"srsquare",13275,"ssabengali",2487,"ssadeva",2359,"ssagujarati",2743,"ssangcieuckorean",12617,"ssanghieuhkorean",12677,"ssangieungkorean",12672,"ssangkiyeokkorean",12594,"ssangnieunkorean",12645,"ssangpieupkorean",12611,"ssangsioskorean",12614,"ssangtikeutkorean",12600,"ssuperior",63218,"sterling",163,"sterlingmonospace",65505,"strokelongoverlaycmb",822,"strokeshortoverlaycmb",821,"subset",8834,"subsetnotequal",8842,"subsetorequal",8838,"succeeds",8827,"suchthat",8715,"suhiragana",12377,"sukatakana",12473,"sukatakanahalfwidth",65405,"sukunarabic",1618,"summation",8721,"sun",9788,"superset",8835,"supersetnotequal",8843,"supersetorequal",8839,"svsquare",13276,"syouwaerasquare",13180,"t",116,"tabengali",2468,"tackdown",8868,"tackleft",8867,"tadeva",2340,"tagujarati",2724,"tagurmukhi",2596,"taharabic",1591,"tahfinalarabic",65218,"tahinitialarabic",65219,"tahiragana",12383,"tahmedialarabic",65220,"taisyouerasquare",13181,"takatakana",12479,"takatakanahalfwidth",65408,"tatweelarabic",1600,"tau",964,"tav",1514,"tavdages",64330,"tavdagesh",64330,"tavdageshhebrew",64330,"tavhebrew",1514,"tbar",359,"tbopomofo",12554,"tcaron",357,"tccurl",680,"tcedilla",355,"tcheharabic",1670,"tchehfinalarabic",64379,"tchehinitialarabic",64380,"tchehmedialarabic",64381,"tcircle",9443,"tcircumflexbelow",7793,"tcommaaccent",355,"tdieresis",7831,"tdotaccent",7787,"tdotbelow",7789,"tecyrillic",1090,"tedescendercyrillic",1197,"teharabic",1578,"tehfinalarabic",65174,"tehhahinitialarabic",64674,"tehhahisolatedarabic",64524,"tehinitialarabic",65175,"tehiragana",12390,"tehjeeminitialarabic",64673,"tehjeemisolatedarabic",64523,"tehmarbutaarabic",1577,"tehmarbutafinalarabic",65172,"tehmedialarabic",65176,"tehmeeminitialarabic",64676,"tehmeemisolatedarabic",64526,"tehnoonfinalarabic",64627,"tekatakana",12486,"tekatakanahalfwidth",65411,"telephone",8481,"telephoneblack",9742,"telishagedolahebrew",1440,"telishaqetanahebrew",1449,"tencircle",9321,"tenideographicparen",12841,"tenparen",9341,"tenperiod",9361,"tenroman",8569,"tesh",679,"tet",1496,"tetdagesh",64312,"tetdageshhebrew",64312,"tethebrew",1496,"tetsecyrillic",1205,"tevirhebrew",1435,"tevirlefthebrew",1435,"thabengali",2469,"thadeva",2341,"thagujarati",2725,"thagurmukhi",2597,"thalarabic",1584,"thalfinalarabic",65196,"thanthakhatlowleftthai",63640,"thanthakhatlowrightthai",63639,"thanthakhatthai",3660,"thanthakhatupperleftthai",63638,"theharabic",1579,"thehfinalarabic",65178,"thehinitialarabic",65179,"thehmedialarabic",65180,"thereexists",8707,"therefore",8756,"theta",952,"theta1",977,"thetasymbolgreek",977,"thieuthacirclekorean",12921,"thieuthaparenkorean",12825,"thieuthcirclekorean",12907,"thieuthkorean",12620,"thieuthparenkorean",12811,"thirteencircle",9324,"thirteenparen",9344,"thirteenperiod",9364,"thonangmonthothai",3601,"thook",429,"thophuthaothai",3602,"thorn",254,"thothahanthai",3607,"thothanthai",3600,"thothongthai",3608,"thothungthai",3606,"thousandcyrillic",1154,"thousandsseparatorarabic",1644,"thousandsseparatorpersian",1644,"three",51,"threearabic",1635,"threebengali",2537,"threecircle",9314,"threecircleinversesansserif",10124,"threedeva",2409,"threeeighths",8540,"threegujarati",2793,"threegurmukhi",2665,"threehackarabic",1635,"threehangzhou",12323,"threeideographicparen",12834,"threeinferior",8323,"threemonospace",65299,"threenumeratorbengali",2550,"threeoldstyle",63283,"threeparen",9334,"threeperiod",9354,"threepersian",1779,"threequarters",190,"threequartersemdash",63198,"threeroman",8562,"threesuperior",179,"threethai",3667,"thzsquare",13204,"tihiragana",12385,"tikatakana",12481,"tikatakanahalfwidth",65409,"tikeutacirclekorean",12912,"tikeutaparenkorean",12816,"tikeutcirclekorean",12898,"tikeutkorean",12599,"tikeutparenkorean",12802,"tilde",732,"tildebelowcmb",816,"tildecmb",771,"tildecomb",771,"tildedoublecmb",864,"tildeoperator",8764,"tildeoverlaycmb",820,"tildeverticalcmb",830,"timescircle",8855,"tipehahebrew",1430,"tipehalefthebrew",1430,"tippigurmukhi",2672,"titlocyrilliccmb",1155,"tiwnarmenian",1407,"tlinebelow",7791,"tmonospace",65364,"toarmenian",1385,"tohiragana",12392,"tokatakana",12488,"tokatakanahalfwidth",65412,"tonebarextrahighmod",741,"tonebarextralowmod",745,"tonebarhighmod",742,"tonebarlowmod",744,"tonebarmidmod",743,"tonefive",445,"tonesix",389,"tonetwo",424,"tonos",900,"tonsquare",13095,"topatakthai",3599,"tortoiseshellbracketleft",12308,"tortoiseshellbracketleftsmall",65117,"tortoiseshellbracketleftvertical",65081,"tortoiseshellbracketright",12309,"tortoiseshellbracketrightsmall",65118,"tortoiseshellbracketrightvertical",65082,"totaothai",3605,"tpalatalhook",427,"tparen",9391,"trademark",8482,"trademarksans",63722,"trademarkserif",63195,"tretroflexhook",648,"triagdn",9660,"triaglf",9668,"triagrt",9658,"triagup",9650,"ts",678,"tsadi",1510,"tsadidagesh",64326,"tsadidageshhebrew",64326,"tsadihebrew",1510,"tsecyrillic",1094,"tsere",1461,"tsere12",1461,"tsere1e",1461,"tsere2b",1461,"tserehebrew",1461,"tserenarrowhebrew",1461,"tserequarterhebrew",1461,"tserewidehebrew",1461,"tshecyrillic",1115,"tsuperior",63219,"ttabengali",2463,"ttadeva",2335,"ttagujarati",2719,"ttagurmukhi",2591,"tteharabic",1657,"ttehfinalarabic",64359,"ttehinitialarabic",64360,"ttehmedialarabic",64361,"tthabengali",2464,"tthadeva",2336,"tthagujarati",2720,"tthagurmukhi",2592,"tturned",647,"tuhiragana",12388,"tukatakana",12484,"tukatakanahalfwidth",65410,"tusmallhiragana",12387,"tusmallkatakana",12483,"tusmallkatakanahalfwidth",65391,"twelvecircle",9323,"twelveparen",9343,"twelveperiod",9363,"twelveroman",8571,"twentycircle",9331,"twentyhangzhou",21316,"twentyparen",9351,"twentyperiod",9371,"two",50,"twoarabic",1634,"twobengali",2536,"twocircle",9313,"twocircleinversesansserif",10123,"twodeva",2408,"twodotenleader",8229,"twodotleader",8229,"twodotleadervertical",65072,"twogujarati",2792,"twogurmukhi",2664,"twohackarabic",1634,"twohangzhou",12322,"twoideographicparen",12833,"twoinferior",8322,"twomonospace",65298,"twonumeratorbengali",2549,"twooldstyle",63282,"twoparen",9333,"twoperiod",9353,"twopersian",1778,"tworoman",8561,"twostroke",443,"twosuperior",178,"twothai",3666,"twothirds",8532,"u",117,"uacute",250,"ubar",649,"ubengali",2441,"ubopomofo",12584,"ubreve",365,"ucaron",468,"ucircle",9444,"ucircumflex",251,"ucircumflexbelow",7799,"ucyrillic",1091,"udattadeva",2385,"udblacute",369,"udblgrave",533,"udeva",2313,"udieresis",252,"udieresisacute",472,"udieresisbelow",7795,"udieresiscaron",474,"udieresiscyrillic",1265,"udieresisgrave",476,"udieresismacron",470,"udotbelow",7909,"ugrave",249,"ugujarati",2697,"ugurmukhi",2569,"uhiragana",12358,"uhookabove",7911,"uhorn",432,"uhornacute",7913,"uhorndotbelow",7921,"uhorngrave",7915,"uhornhookabove",7917,"uhorntilde",7919,"uhungarumlaut",369,"uhungarumlautcyrillic",1267,"uinvertedbreve",535,"ukatakana",12454,"ukatakanahalfwidth",65395,"ukcyrillic",1145,"ukorean",12636,"umacron",363,"umacroncyrillic",1263,"umacrondieresis",7803,"umatragurmukhi",2625,"umonospace",65365,"underscore",95,"underscoredbl",8215,"underscoremonospace",65343,"underscorevertical",65075,"underscorewavy",65103,"union",8746,"universal",8704,"uogonek",371,"uparen",9392,"upblock",9600,"upperdothebrew",1476,"upsilon",965,"upsilondieresis",971,"upsilondieresistonos",944,"upsilonlatin",650,"upsilontonos",973,"uptackbelowcmb",797,"uptackmod",724,"uragurmukhi",2675,"uring",367,"ushortcyrillic",1118,"usmallhiragana",12357,"usmallkatakana",12453,"usmallkatakanahalfwidth",65385,"ustraightcyrillic",1199,"ustraightstrokecyrillic",1201,"utilde",361,"utildeacute",7801,"utildebelow",7797,"uubengali",2442,"uudeva",2314,"uugujarati",2698,"uugurmukhi",2570,"uumatragurmukhi",2626,"uuvowelsignbengali",2498,"uuvowelsigndeva",2370,"uuvowelsigngujarati",2754,"uvowelsignbengali",2497,"uvowelsigndeva",2369,"uvowelsigngujarati",2753,"v",118,"vadeva",2357,"vagujarati",2741,"vagurmukhi",2613,"vakatakana",12535,"vav",1493,"vavdagesh",64309,"vavdagesh65",64309,"vavdageshhebrew",64309,"vavhebrew",1493,"vavholam",64331,"vavholamhebrew",64331,"vavvavhebrew",1520,"vavyodhebrew",1521,"vcircle",9445,"vdotbelow",7807,"vecyrillic",1074,"veharabic",1700,"vehfinalarabic",64363,"vehinitialarabic",64364,"vehmedialarabic",64365,"vekatakana",12537,"venus",9792,"verticalbar",124,"verticallineabovecmb",781,"verticallinebelowcmb",809,"verticallinelowmod",716,"verticallinemod",712,"vewarmenian",1406,"vhook",651,"vikatakana",12536,"viramabengali",2509,"viramadeva",2381,"viramagujarati",2765,"visargabengali",2435,"visargadeva",2307,"visargagujarati",2691,"vmonospace",65366,"voarmenian",1400,"voicediterationhiragana",12446,"voicediterationkatakana",12542,"voicedmarkkana",12443,"voicedmarkkanahalfwidth",65438,"vokatakana",12538,"vparen",9393,"vtilde",7805,"vturned",652,"vuhiragana",12436,"vukatakana",12532,"w",119,"wacute",7811,"waekorean",12633,"wahiragana",12431,"wakatakana",12527,"wakatakanahalfwidth",65436,"wakorean",12632,"wasmallhiragana",12430,"wasmallkatakana",12526,"wattosquare",13143,"wavedash",12316,"wavyunderscorevertical",65076,"wawarabic",1608,"wawfinalarabic",65262,"wawhamzaabovearabic",1572,"wawhamzaabovefinalarabic",65158,"wbsquare",13277,"wcircle",9446,"wcircumflex",373,"wdieresis",7813,"wdotaccent",7815,"wdotbelow",7817,"wehiragana",12433,"weierstrass",8472,"wekatakana",12529,"wekorean",12638,"weokorean",12637,"wgrave",7809,"whitebullet",9702,"whitecircle",9675,"whitecircleinverse",9689,"whitecornerbracketleft",12302,"whitecornerbracketleftvertical",65091,"whitecornerbracketright",12303,"whitecornerbracketrightvertical",65092,"whitediamond",9671,"whitediamondcontainingblacksmalldiamond",9672,"whitedownpointingsmalltriangle",9663,"whitedownpointingtriangle",9661,"whiteleftpointingsmalltriangle",9667,"whiteleftpointingtriangle",9665,"whitelenticularbracketleft",12310,"whitelenticularbracketright",12311,"whiterightpointingsmalltriangle",9657,"whiterightpointingtriangle",9655,"whitesmallsquare",9643,"whitesmilingface",9786,"whitesquare",9633,"whitestar",9734,"whitetelephone",9743,"whitetortoiseshellbracketleft",12312,"whitetortoiseshellbracketright",12313,"whiteuppointingsmalltriangle",9653,"whiteuppointingtriangle",9651,"wihiragana",12432,"wikatakana",12528,"wikorean",12639,"wmonospace",65367,"wohiragana",12434,"wokatakana",12530,"wokatakanahalfwidth",65382,"won",8361,"wonmonospace",65510,"wowaenthai",3623,"wparen",9394,"wring",7832,"wsuperior",695,"wturned",653,"wynn",447,"x",120,"xabovecmb",829,"xbopomofo",12562,"xcircle",9447,"xdieresis",7821,"xdotaccent",7819,"xeharmenian",1389,"xi",958,"xmonospace",65368,"xparen",9395,"xsuperior",739,"y",121,"yaadosquare",13134,"yabengali",2479,"yacute",253,"yadeva",2351,"yaekorean",12626,"yagujarati",2735,"yagurmukhi",2607,"yahiragana",12420,"yakatakana",12516,"yakatakanahalfwidth",65428,"yakorean",12625,"yamakkanthai",3662,"yasmallhiragana",12419,"yasmallkatakana",12515,"yasmallkatakanahalfwidth",65388,"yatcyrillic",1123,"ycircle",9448,"ycircumflex",375,"ydieresis",255,"ydotaccent",7823,"ydotbelow",7925,"yeharabic",1610,"yehbarreearabic",1746,"yehbarreefinalarabic",64431,"yehfinalarabic",65266,"yehhamzaabovearabic",1574,"yehhamzaabovefinalarabic",65162,"yehhamzaaboveinitialarabic",65163,"yehhamzaabovemedialarabic",65164,"yehinitialarabic",65267,"yehmedialarabic",65268,"yehmeeminitialarabic",64733,"yehmeemisolatedarabic",64600,"yehnoonfinalarabic",64660,"yehthreedotsbelowarabic",1745,"yekorean",12630,"yen",165,"yenmonospace",65509,"yeokorean",12629,"yeorinhieuhkorean",12678,"yerahbenyomohebrew",1450,"yerahbenyomolefthebrew",1450,"yericyrillic",1099,"yerudieresiscyrillic",1273,"yesieungkorean",12673,"yesieungpansioskorean",12675,"yesieungsioskorean",12674,"yetivhebrew",1434,"ygrave",7923,"yhook",436,"yhookabove",7927,"yiarmenian",1397,"yicyrillic",1111,"yikorean",12642,"yinyang",9775,"yiwnarmenian",1410,"ymonospace",65369,"yod",1497,"yoddagesh",64313,"yoddageshhebrew",64313,"yodhebrew",1497,"yodyodhebrew",1522,"yodyodpatahhebrew",64287,"yohiragana",12424,"yoikorean",12681,"yokatakana",12520,"yokatakanahalfwidth",65430,"yokorean",12635,"yosmallhiragana",12423,"yosmallkatakana",12519,"yosmallkatakanahalfwidth",65390,"yotgreek",1011,"yoyaekorean",12680,"yoyakorean",12679,"yoyakthai",3618,"yoyingthai",3597,"yparen",9396,"ypogegrammeni",890,"ypogegrammenigreekcmb",837,"yr",422,"yring",7833,"ysuperior",696,"ytilde",7929,"yturned",654,"yuhiragana",12422,"yuikorean",12684,"yukatakana",12518,"yukatakanahalfwidth",65429,"yukorean",12640,"yusbigcyrillic",1131,"yusbigiotifiedcyrillic",1133,"yuslittlecyrillic",1127,"yuslittleiotifiedcyrillic",1129,"yusmallhiragana",12421,"yusmallkatakana",12517,"yusmallkatakanahalfwidth",65389,"yuyekorean",12683,"yuyeokorean",12682,"yyabengali",2527,"yyadeva",2399,"z",122,"zaarmenian",1382,"zacute",378,"zadeva",2395,"zagurmukhi",2651,"zaharabic",1592,"zahfinalarabic",65222,"zahinitialarabic",65223,"zahiragana",12374,"zahmedialarabic",65224,"zainarabic",1586,"zainfinalarabic",65200,"zakatakana",12470,"zaqefgadolhebrew",1429,"zaqefqatanhebrew",1428,"zarqahebrew",1432,"zayin",1494,"zayindagesh",64310,"zayindageshhebrew",64310,"zayinhebrew",1494,"zbopomofo",12567,"zcaron",382,"zcircle",9449,"zcircumflex",7825,"zcurl",657,"zdot",380,"zdotaccent",380,"zdotbelow",7827,"zecyrillic",1079,"zedescendercyrillic",1177,"zedieresiscyrillic",1247,"zehiragana",12380,"zekatakana",12476,"zero",48,"zeroarabic",1632,"zerobengali",2534,"zerodeva",2406,"zerogujarati",2790,"zerogurmukhi",2662,"zerohackarabic",1632,"zeroinferior",8320,"zeromonospace",65296,"zerooldstyle",63280,"zeropersian",1776,"zerosuperior",8304,"zerothai",3664,"zerowidthjoiner",65279,"zerowidthnonjoiner",8204,"zerowidthspace",8203,"zeta",950,"zhbopomofo",12563,"zhearmenian",1386,"zhebrevecyrillic",1218,"zhecyrillic",1078,"zhedescendercyrillic",1175,"zhedieresiscyrillic",1245,"zihiragana",12376,"zikatakana",12472,"zinorhebrew",1454,"zlinebelow",7829,"zmonospace",65370,"zohiragana",12382,"zokatakana",12478,"zparen",9397,"zretroflexhook",656,"zstroke",438,"zuhiragana",12378,"zukatakana",12474,".notdef",0,"angbracketleftbig",9001,"angbracketleftBig",9001,"angbracketleftbigg",9001,"angbracketleftBigg",9001,"angbracketrightBig",9002,"angbracketrightbig",9002,"angbracketrightBigg",9002,"angbracketrightbigg",9002,"arrowhookleft",8618,"arrowhookright",8617,"arrowlefttophalf",8636,"arrowleftbothalf",8637,"arrownortheast",8599,"arrownorthwest",8598,"arrowrighttophalf",8640,"arrowrightbothalf",8641,"arrowsoutheast",8600,"arrowsouthwest",8601,"backslashbig",8726,"backslashBig",8726,"backslashBigg",8726,"backslashbigg",8726,"bardbl",8214,"bracehtipdownleft",65079,"bracehtipdownright",65079,"bracehtipupleft",65080,"bracehtipupright",65080,"braceleftBig",123,"braceleftbig",123,"braceleftbigg",123,"braceleftBigg",123,"bracerightBig",125,"bracerightbig",125,"bracerightbigg",125,"bracerightBigg",125,"bracketleftbig",91,"bracketleftBig",91,"bracketleftbigg",91,"bracketleftBigg",91,"bracketrightBig",93,"bracketrightbig",93,"bracketrightbigg",93,"bracketrightBigg",93,"ceilingleftbig",8968,"ceilingleftBig",8968,"ceilingleftBigg",8968,"ceilingleftbigg",8968,"ceilingrightbig",8969,"ceilingrightBig",8969,"ceilingrightbigg",8969,"ceilingrightBigg",8969,"circledotdisplay",8857,"circledottext",8857,"circlemultiplydisplay",8855,"circlemultiplytext",8855,"circleplusdisplay",8853,"circleplustext",8853,"contintegraldisplay",8750,"contintegraltext",8750,"coproductdisplay",8720,"coproducttext",8720,"floorleftBig",8970,"floorleftbig",8970,"floorleftbigg",8970,"floorleftBigg",8970,"floorrightbig",8971,"floorrightBig",8971,"floorrightBigg",8971,"floorrightbigg",8971,"hatwide",770,"hatwider",770,"hatwidest",770,"intercal",7488,"integraldisplay",8747,"integraltext",8747,"intersectiondisplay",8898,"intersectiontext",8898,"logicalanddisplay",8743,"logicalandtext",8743,"logicalordisplay",8744,"logicalortext",8744,"parenleftBig",40,"parenleftbig",40,"parenleftBigg",40,"parenleftbigg",40,"parenrightBig",41,"parenrightbig",41,"parenrightBigg",41,"parenrightbigg",41,"prime",8242,"productdisplay",8719,"producttext",8719,"radicalbig",8730,"radicalBig",8730,"radicalBigg",8730,"radicalbigg",8730,"radicalbt",8730,"radicaltp",8730,"radicalvertex",8730,"slashbig",47,"slashBig",47,"slashBigg",47,"slashbigg",47,"summationdisplay",8721,"summationtext",8721,"tildewide",732,"tildewider",732,"tildewidest",732,"uniondisplay",8899,"unionmultidisplay",8846,"unionmultitext",8846,"unionsqdisplay",8852,"unionsqtext",8852,"uniontext",8899,"vextenddouble",8741,"vextendsingle",8739]}),_=(0,e.getArrayLookupTableFactory)(function(){return["space",32,"a1",9985,"a2",9986,"a202",9987,"a3",9988,"a4",9742,"a5",9990,"a119",9991,"a118",9992,"a117",9993,"a11",9755,"a12",9758,"a13",9996,"a14",9997,"a15",9998,"a16",9999,"a105",1e4,"a17",10001,"a18",10002,"a19",10003,"a20",10004,"a21",10005,"a22",10006,"a23",10007,"a24",10008,"a25",10009,"a26",10010,"a27",10011,"a28",10012,"a6",10013,"a7",10014,"a8",10015,"a9",10016,"a10",10017,"a29",10018,"a30",10019,"a31",10020,"a32",10021,"a33",10022,"a34",10023,"a35",9733,"a36",10025,"a37",10026,"a38",10027,"a39",10028,"a40",10029,"a41",10030,"a42",10031,"a43",10032,"a44",10033,"a45",10034,"a46",10035,"a47",10036,"a48",10037,"a49",10038,"a50",10039,"a51",10040,"a52",10041,"a53",10042,"a54",10043,"a55",10044,"a56",10045,"a57",10046,"a58",10047,"a59",10048,"a60",10049,"a61",10050,"a62",10051,"a63",10052,"a64",10053,"a65",10054,"a66",10055,"a67",10056,"a68",10057,"a69",10058,"a70",10059,"a71",9679,"a72",10061,"a73",9632,"a74",10063,"a203",10064,"a75",10065,"a204",10066,"a76",9650,"a77",9660,"a78",9670,"a79",10070,"a81",9687,"a82",10072,"a83",10073,"a84",10074,"a97",10075,"a98",10076,"a99",10077,"a100",10078,"a101",10081,"a102",10082,"a103",10083,"a104",10084,"a106",10085,"a107",10086,"a108",10087,"a112",9827,"a111",9830,"a110",9829,"a109",9824,"a120",9312,"a121",9313,"a122",9314,"a123",9315,"a124",9316,"a125",9317,"a126",9318,"a127",9319,"a128",9320,"a129",9321,"a130",10102,"a131",10103,"a132",10104,"a133",10105,"a134",10106,"a135",10107,"a136",10108,"a137",10109,"a138",10110,"a139",10111,"a140",10112,"a141",10113,"a142",10114,"a143",10115,"a144",10116,"a145",10117,"a146",10118,"a147",10119,"a148",10120,"a149",10121,"a150",10122,"a151",10123,"a152",10124,"a153",10125,"a154",10126,"a155",10127,"a156",10128,"a157",10129,"a158",10130,"a159",10131,"a160",10132,"a161",8594,"a163",8596,"a164",8597,"a196",10136,"a165",10137,"a192",10138,"a166",10139,"a167",10140,"a168",10141,"a169",10142,"a170",10143,"a171",10144,"a172",10145,"a173",10146,"a162",10147,"a174",10148,"a175",10149,"a176",10150,"a177",10151,"a178",10152,"a179",10153,"a193",10154,"a180",10155,"a199",10156,"a181",10157,"a200",10158,"a182",10159,"a201",10161,"a183",10162,"a184",10163,"a197",10164,"a185",10165,"a194",10166,"a198",10167,"a186",10168,"a195",10169,"a187",10170,"a188",10171,"a189",10172,"a190",10173,"a191",10174,"a89",10088,"a90",10089,"a93",10090,"a94",10091,"a91",10092,"a92",10093,"a205",10094,"a85",10095,"a206",10096,"a86",10097,"a87",10098,"a88",10099,"a95",10100,"a96",10101,".notdef",0]})},(it,v,K)=>{K.r(v),K.d(v,{clearUnicodeCaches:()=>a,getCharUnicodeCategory:()=>i,getNormalizedUnicodes:()=>I,getUnicodeForGlyph:()=>S,getUnicodeRangeFor:()=>u,mapSpecialUnicodeValues:()=>_,reverseIfRtl:()=>w});var e=K(6);const d=(0,e.getLookupTableFactory)(function(f){f[63721]=169,f[63193]=169,f[63720]=174,f[63194]=174,f[63722]=8482,f[63195]=8482,f[63729]=9127,f[63730]=9128,f[63731]=9129,f[63740]=9131,f[63741]=9132,f[63742]=9133,f[63726]=9121,f[63727]=9122,f[63728]=9123,f[63737]=9124,f[63738]=9125,f[63739]=9126,f[63723]=9115,f[63724]=9116,f[63725]=9117,f[63734]=9118,f[63735]=9119,f[63736]=9120});function _(f){return f>=65520&&f<=65535?0:f>=62976&&f<=63743?d()[f]||f:173===f?45:f}function S(f,l){let n=l[f];if(void 0!==n)return n;if(!f)return-1;if("u"===f[0]){const o=f.length;let D;if(7===o&&"n"===f[1]&&"i"===f[2])D=f.substring(3);else{if(!(o>=5&&o<=7))return-1;D=f.substring(1)}if(D===D.toUpperCase()&&(n=parseInt(D,16),n>=0))return n}return-1}const t=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function u(f){for(let l=0,n=t.length;l<n;l++){const o=t[l];if(f>=o.begin&&f<o.end)return l}return-1}const I=(0,e.getArrayLookupTableFactory)(function(){return["\xa8"," \u0308","\xaf"," \u0304","\xb4"," \u0301","\xb5","\u03bc","\xb8"," \u0327","\u0132","IJ","\u0133","ij","\u013f","L\xb7","\u0140","l\xb7","\u0149","\u02bcn","\u017f","s","\u01c4","D\u017d","\u01c5","D\u017e","\u01c6","d\u017e","\u01c7","LJ","\u01c8","Lj","\u01c9","lj","\u01ca","NJ","\u01cb","Nj","\u01cc","nj","\u01f1","DZ","\u01f2","Dz","\u01f3","dz","\u02d8"," \u0306","\u02d9"," \u0307","\u02da"," \u030a","\u02db"," \u0328","\u02dc"," \u0303","\u02dd"," \u030b","\u037a"," \u0345","\u0384"," \u0301","\u03d0","\u03b2","\u03d1","\u03b8","\u03d2","\u03a5","\u03d5","\u03c6","\u03d6","\u03c0","\u03f0","\u03ba","\u03f1","\u03c1","\u03f2","\u03c2","\u03f4","\u0398","\u03f5","\u03b5","\u03f9","\u03a3","\u0587","\u0565\u0582","\u0675","\u0627\u0674","\u0676","\u0648\u0674","\u0677","\u06c7\u0674","\u0678","\u064a\u0674","\u0e33","\u0e4d\u0e32","\u0eb3","\u0ecd\u0eb2","\u0edc","\u0eab\u0e99","\u0edd","\u0eab\u0ea1","\u0f77","\u0fb2\u0f81","\u0f79","\u0fb3\u0f81","\u1e9a","a\u02be","\u1fbd"," \u0313","\u1fbf"," \u0313","\u1fc0"," \u0342","\u1ffe"," \u0314","\u2002"," ","\u2003"," ","\u2004"," ","\u2005"," ","\u2006"," ","\u2008"," ","\u2009"," ","\u200a"," ","\u2017"," \u0333","\u2024",".","\u2025","..","\u2026","...","\u2033","\u2032\u2032","\u2034","\u2032\u2032\u2032","\u2036","\u2035\u2035","\u2037","\u2035\u2035\u2035","\u203c","!!","\u203e"," \u0305","\u2047","??","\u2048","?!","\u2049","!?","\u2057","\u2032\u2032\u2032\u2032","\u205f"," ","\u20a8","Rs","\u2100","a/c","\u2101","a/s","\u2103","\xb0C","\u2105","c/o","\u2106","c/u","\u2107","\u0190","\u2109","\xb0F","\u2116","No","\u2121","TEL","\u2135","\u05d0","\u2136","\u05d1","\u2137","\u05d2","\u2138","\u05d3","\u213b","FAX","\u2160","I","\u2161","II","\u2162","III","\u2163","IV","\u2164","V","\u2165","VI","\u2166","VII","\u2167","VIII","\u2168","IX","\u2169","X","\u216a","XI","\u216b","XII","\u216c","L","\u216d","C","\u216e","D","\u216f","M","\u2170","i","\u2171","ii","\u2172","iii","\u2173","iv","\u2174","v","\u2175","vi","\u2176","vii","\u2177","viii","\u2178","ix","\u2179","x","\u217a","xi","\u217b","xii","\u217c","l","\u217d","c","\u217e","d","\u217f","m","\u222c","\u222b\u222b","\u222d","\u222b\u222b\u222b","\u222f","\u222e\u222e","\u2230","\u222e\u222e\u222e","\u2474","(1)","\u2475","(2)","\u2476","(3)","\u2477","(4)","\u2478","(5)","\u2479","(6)","\u247a","(7)","\u247b","(8)","\u247c","(9)","\u247d","(10)","\u247e","(11)","\u247f","(12)","\u2480","(13)","\u2481","(14)","\u2482","(15)","\u2483","(16)","\u2484","(17)","\u2485","(18)","\u2486","(19)","\u2487","(20)","\u2488","1.","\u2489","2.","\u248a","3.","\u248b","4.","\u248c","5.","\u248d","6.","\u248e","7.","\u248f","8.","\u2490","9.","\u2491","10.","\u2492","11.","\u2493","12.","\u2494","13.","\u2495","14.","\u2496","15.","\u2497","16.","\u2498","17.","\u2499","18.","\u249a","19.","\u249b","20.","\u249c","(a)","\u249d","(b)","\u249e","(c)","\u249f","(d)","\u24a0","(e)","\u24a1","(f)","\u24a2","(g)","\u24a3","(h)","\u24a4","(i)","\u24a5","(j)","\u24a6","(k)","\u24a7","(l)","\u24a8","(m)","\u24a9","(n)","\u24aa","(o)","\u24ab","(p)","\u24ac","(q)","\u24ad","(r)","\u24ae","(s)","\u24af","(t)","\u24b0","(u)","\u24b1","(v)","\u24b2","(w)","\u24b3","(x)","\u24b4","(y)","\u24b5","(z)","\u2a0c","\u222b\u222b\u222b\u222b","\u2a74","::=","\u2a75","==","\u2a76","===","\u2e9f","\u6bcd","\u2ef3","\u9f9f","\u2f00","\u4e00","\u2f01","\u4e28","\u2f02","\u4e36","\u2f03","\u4e3f","\u2f04","\u4e59","\u2f05","\u4e85","\u2f06","\u4e8c","\u2f07","\u4ea0","\u2f08","\u4eba","\u2f09","\u513f","\u2f0a","\u5165","\u2f0b","\u516b","\u2f0c","\u5182","\u2f0d","\u5196","\u2f0e","\u51ab","\u2f0f","\u51e0","\u2f10","\u51f5","\u2f11","\u5200","\u2f12","\u529b","\u2f13","\u52f9","\u2f14","\u5315","\u2f15","\u531a","\u2f16","\u5338","\u2f17","\u5341","\u2f18","\u535c","\u2f19","\u5369","\u2f1a","\u5382","\u2f1b","\u53b6","\u2f1c","\u53c8","\u2f1d","\u53e3","\u2f1e","\u56d7","\u2f1f","\u571f","\u2f20","\u58eb","\u2f21","\u5902","\u2f22","\u590a","\u2f23","\u5915","\u2f24","\u5927","\u2f25","\u5973","\u2f26","\u5b50","\u2f27","\u5b80","\u2f28","\u5bf8","\u2f29","\u5c0f","\u2f2a","\u5c22","\u2f2b","\u5c38","\u2f2c","\u5c6e","\u2f2d","\u5c71","\u2f2e","\u5ddb","\u2f2f","\u5de5","\u2f30","\u5df1","\u2f31","\u5dfe","\u2f32","\u5e72","\u2f33","\u5e7a","\u2f34","\u5e7f","\u2f35","\u5ef4","\u2f36","\u5efe","\u2f37","\u5f0b","\u2f38","\u5f13","\u2f39","\u5f50","\u2f3a","\u5f61","\u2f3b","\u5f73","\u2f3c","\u5fc3","\u2f3d","\u6208","\u2f3e","\u6236","\u2f3f","\u624b","\u2f40","\u652f","\u2f41","\u6534","\u2f42","\u6587","\u2f43","\u6597","\u2f44","\u65a4","\u2f45","\u65b9","\u2f46","\u65e0","\u2f47","\u65e5","\u2f48","\u66f0","\u2f49","\u6708","\u2f4a","\u6728","\u2f4b","\u6b20","\u2f4c","\u6b62","\u2f4d","\u6b79","\u2f4e","\u6bb3","\u2f4f","\u6bcb","\u2f50","\u6bd4","\u2f51","\u6bdb","\u2f52","\u6c0f","\u2f53","\u6c14","\u2f54","\u6c34","\u2f55","\u706b","\u2f56","\u722a","\u2f57","\u7236","\u2f58","\u723b","\u2f59","\u723f","\u2f5a","\u7247","\u2f5b","\u7259","\u2f5c","\u725b","\u2f5d","\u72ac","\u2f5e","\u7384","\u2f5f","\u7389","\u2f60","\u74dc","\u2f61","\u74e6","\u2f62","\u7518","\u2f63","\u751f","\u2f64","\u7528","\u2f65","\u7530","\u2f66","\u758b","\u2f67","\u7592","\u2f68","\u7676","\u2f69","\u767d","\u2f6a","\u76ae","\u2f6b","\u76bf","\u2f6c","\u76ee","\u2f6d","\u77db","\u2f6e","\u77e2","\u2f6f","\u77f3","\u2f70","\u793a","\u2f71","\u79b8","\u2f72","\u79be","\u2f73","\u7a74","\u2f74","\u7acb","\u2f75","\u7af9","\u2f76","\u7c73","\u2f77","\u7cf8","\u2f78","\u7f36","\u2f79","\u7f51","\u2f7a","\u7f8a","\u2f7b","\u7fbd","\u2f7c","\u8001","\u2f7d","\u800c","\u2f7e","\u8012","\u2f7f","\u8033","\u2f80","\u807f","\u2f81","\u8089","\u2f82","\u81e3","\u2f83","\u81ea","\u2f84","\u81f3","\u2f85","\u81fc","\u2f86","\u820c","\u2f87","\u821b","\u2f88","\u821f","\u2f89","\u826e","\u2f8a","\u8272","\u2f8b","\u8278","\u2f8c","\u864d","\u2f8d","\u866b","\u2f8e","\u8840","\u2f8f","\u884c","\u2f90","\u8863","\u2f91","\u897e","\u2f92","\u898b","\u2f93","\u89d2","\u2f94","\u8a00","\u2f95","\u8c37","\u2f96","\u8c46","\u2f97","\u8c55","\u2f98","\u8c78","\u2f99","\u8c9d","\u2f9a","\u8d64","\u2f9b","\u8d70","\u2f9c","\u8db3","\u2f9d","\u8eab","\u2f9e","\u8eca","\u2f9f","\u8f9b","\u2fa0","\u8fb0","\u2fa1","\u8fb5","\u2fa2","\u9091","\u2fa3","\u9149","\u2fa4","\u91c6","\u2fa5","\u91cc","\u2fa6","\u91d1","\u2fa7","\u9577","\u2fa8","\u9580","\u2fa9","\u961c","\u2faa","\u96b6","\u2fab","\u96b9","\u2fac","\u96e8","\u2fad","\u9751","\u2fae","\u975e","\u2faf","\u9762","\u2fb0","\u9769","\u2fb1","\u97cb","\u2fb2","\u97ed","\u2fb3","\u97f3","\u2fb4","\u9801","\u2fb5","\u98a8","\u2fb6","\u98db","\u2fb7","\u98df","\u2fb8","\u9996","\u2fb9","\u9999","\u2fba","\u99ac","\u2fbb","\u9aa8","\u2fbc","\u9ad8","\u2fbd","\u9adf","\u2fbe","\u9b25","\u2fbf","\u9b2f","\u2fc0","\u9b32","\u2fc1","\u9b3c","\u2fc2","\u9b5a","\u2fc3","\u9ce5","\u2fc4","\u9e75","\u2fc5","\u9e7f","\u2fc6","\u9ea5","\u2fc7","\u9ebb","\u2fc8","\u9ec3","\u2fc9","\u9ecd","\u2fca","\u9ed1","\u2fcb","\u9ef9","\u2fcc","\u9efd","\u2fcd","\u9f0e","\u2fce","\u9f13","\u2fcf","\u9f20","\u2fd0","\u9f3b","\u2fd1","\u9f4a","\u2fd2","\u9f52","\u2fd3","\u9f8d","\u2fd4","\u9f9c","\u2fd5","\u9fa0","\u3036","\u3012","\u3038","\u5341","\u3039","\u5344","\u303a","\u5345","\u309b"," \u3099","\u309c"," \u309a","\u3131","\u1100","\u3132","\u1101","\u3133","\u11aa","\u3134","\u1102","\u3135","\u11ac","\u3136","\u11ad","\u3137","\u1103","\u3138","\u1104","\u3139","\u1105","\u313a","\u11b0","\u313b","\u11b1","\u313c","\u11b2","\u313d","\u11b3","\u313e","\u11b4","\u313f","\u11b5","\u3140","\u111a","\u3141","\u1106","\u3142","\u1107","\u3143","\u1108","\u3144","\u1121","\u3145","\u1109","\u3146","\u110a","\u3147","\u110b","\u3148","\u110c","\u3149","\u110d","\u314a","\u110e","\u314b","\u110f","\u314c","\u1110","\u314d","\u1111","\u314e","\u1112","\u314f","\u1161","\u3150","\u1162","\u3151","\u1163","\u3152","\u1164","\u3153","\u1165","\u3154","\u1166","\u3155","\u1167","\u3156","\u1168","\u3157","\u1169","\u3158","\u116a","\u3159","\u116b","\u315a","\u116c","\u315b","\u116d","\u315c","\u116e","\u315d","\u116f","\u315e","\u1170","\u315f","\u1171","\u3160","\u1172","\u3161","\u1173","\u3162","\u1174","\u3163","\u1175","\u3164","\u1160","\u3165","\u1114","\u3166","\u1115","\u3167","\u11c7","\u3168","\u11c8","\u3169","\u11cc","\u316a","\u11ce","\u316b","\u11d3","\u316c","\u11d7","\u316d","\u11d9","\u316e","\u111c","\u316f","\u11dd","\u3170","\u11df","\u3171","\u111d","\u3172","\u111e","\u3173","\u1120","\u3174","\u1122","\u3175","\u1123","\u3176","\u1127","\u3177","\u1129","\u3178","\u112b","\u3179","\u112c","\u317a","\u112d","\u317b","\u112e","\u317c","\u112f","\u317d","\u1132","\u317e","\u1136","\u317f","\u1140","\u3180","\u1147","\u3181","\u114c","\u3182","\u11f1","\u3183","\u11f2","\u3184","\u1157","\u3185","\u1158","\u3186","\u1159","\u3187","\u1184","\u3188","\u1185","\u3189","\u1188","\u318a","\u1191","\u318b","\u1192","\u318c","\u1194","\u318d","\u119e","\u318e","\u11a1","\u3200","(\u1100)","\u3201","(\u1102)","\u3202","(\u1103)","\u3203","(\u1105)","\u3204","(\u1106)","\u3205","(\u1107)","\u3206","(\u1109)","\u3207","(\u110b)","\u3208","(\u110c)","\u3209","(\u110e)","\u320a","(\u110f)","\u320b","(\u1110)","\u320c","(\u1111)","\u320d","(\u1112)","\u320e","(\u1100\u1161)","\u320f","(\u1102\u1161)","\u3210","(\u1103\u1161)","\u3211","(\u1105\u1161)","\u3212","(\u1106\u1161)","\u3213","(\u1107\u1161)","\u3214","(\u1109\u1161)","\u3215","(\u110b\u1161)","\u3216","(\u110c\u1161)","\u3217","(\u110e\u1161)","\u3218","(\u110f\u1161)","\u3219","(\u1110\u1161)","\u321a","(\u1111\u1161)","\u321b","(\u1112\u1161)","\u321c","(\u110c\u116e)","\u321d","(\u110b\u1169\u110c\u1165\u11ab)","\u321e","(\u110b\u1169\u1112\u116e)","\u3220","(\u4e00)","\u3221","(\u4e8c)","\u3222","(\u4e09)","\u3223","(\u56db)","\u3224","(\u4e94)","\u3225","(\u516d)","\u3226","(\u4e03)","\u3227","(\u516b)","\u3228","(\u4e5d)","\u3229","(\u5341)","\u322a","(\u6708)","\u322b","(\u706b)","\u322c","(\u6c34)","\u322d","(\u6728)","\u322e","(\u91d1)","\u322f","(\u571f)","\u3230","(\u65e5)","\u3231","(\u682a)","\u3232","(\u6709)","\u3233","(\u793e)","\u3234","(\u540d)","\u3235","(\u7279)","\u3236","(\u8ca1)","\u3237","(\u795d)","\u3238","(\u52b4)","\u3239","(\u4ee3)","\u323a","(\u547c)","\u323b","(\u5b66)","\u323c","(\u76e3)","\u323d","(\u4f01)","\u323e","(\u8cc7)","\u323f","(\u5354)","\u3240","(\u796d)","\u3241","(\u4f11)","\u3242","(\u81ea)","\u3243","(\u81f3)","\u32c0","1\u6708","\u32c1","2\u6708","\u32c2","3\u6708","\u32c3","4\u6708","\u32c4","5\u6708","\u32c5","6\u6708","\u32c6","7\u6708","\u32c7","8\u6708","\u32c8","9\u6708","\u32c9","10\u6708","\u32ca","11\u6708","\u32cb","12\u6708","\u3358","0\u70b9","\u3359","1\u70b9","\u335a","2\u70b9","\u335b","3\u70b9","\u335c","4\u70b9","\u335d","5\u70b9","\u335e","6\u70b9","\u335f","7\u70b9","\u3360","8\u70b9","\u3361","9\u70b9","\u3362","10\u70b9","\u3363","11\u70b9","\u3364","12\u70b9","\u3365","13\u70b9","\u3366","14\u70b9","\u3367","15\u70b9","\u3368","16\u70b9","\u3369","17\u70b9","\u336a","18\u70b9","\u336b","19\u70b9","\u336c","20\u70b9","\u336d","21\u70b9","\u336e","22\u70b9","\u336f","23\u70b9","\u3370","24\u70b9","\u33e0","1\u65e5","\u33e1","2\u65e5","\u33e2","3\u65e5","\u33e3","4\u65e5","\u33e4","5\u65e5","\u33e5","6\u65e5","\u33e6","7\u65e5","\u33e7","8\u65e5","\u33e8","9\u65e5","\u33e9","10\u65e5","\u33ea","11\u65e5","\u33eb","12\u65e5","\u33ec","13\u65e5","\u33ed","14\u65e5","\u33ee","15\u65e5","\u33ef","16\u65e5","\u33f0","17\u65e5","\u33f1","18\u65e5","\u33f2","19\u65e5","\u33f3","20\u65e5","\u33f4","21\u65e5","\u33f5","22\u65e5","\u33f6","23\u65e5","\u33f7","24\u65e5","\u33f8","25\u65e5","\u33f9","26\u65e5","\u33fa","27\u65e5","\u33fb","28\u65e5","\u33fc","29\u65e5","\u33fd","30\u65e5","\u33fe","31\u65e5","\ufb00","ff","\ufb01","fi","\ufb02","fl","\ufb03","ffi","\ufb04","ffl","\ufb05","\u017ft","\ufb06","st","\ufb13","\u0574\u0576","\ufb14","\u0574\u0565","\ufb15","\u0574\u056b","\ufb16","\u057e\u0576","\ufb17","\u0574\u056d","\ufb4f","\u05d0\u05dc","\ufb50","\u0671","\ufb51","\u0671","\ufb52","\u067b","\ufb53","\u067b","\ufb54","\u067b","\ufb55","\u067b","\ufb56","\u067e","\ufb57","\u067e","\ufb58","\u067e","\ufb59","\u067e","\ufb5a","\u0680","\ufb5b","\u0680","\ufb5c","\u0680","\ufb5d","\u0680","\ufb5e","\u067a","\ufb5f","\u067a","\ufb60","\u067a","\ufb61","\u067a","\ufb62","\u067f","\ufb63","\u067f","\ufb64","\u067f","\ufb65","\u067f","\ufb66","\u0679","\ufb67","\u0679","\ufb68","\u0679","\ufb69","\u0679","\ufb6a","\u06a4","\ufb6b","\u06a4","\ufb6c","\u06a4","\ufb6d","\u06a4","\ufb6e","\u06a6","\ufb6f","\u06a6","\ufb70","\u06a6","\ufb71","\u06a6","\ufb72","\u0684","\ufb73","\u0684","\ufb74","\u0684","\ufb75","\u0684","\ufb76","\u0683","\ufb77","\u0683","\ufb78","\u0683","\ufb79","\u0683","\ufb7a","\u0686","\ufb7b","\u0686","\ufb7c","\u0686","\ufb7d","\u0686","\ufb7e","\u0687","\ufb7f","\u0687","\ufb80","\u0687","\ufb81","\u0687","\ufb82","\u068d","\ufb83","\u068d","\ufb84","\u068c","\ufb85","\u068c","\ufb86","\u068e","\ufb87","\u068e","\ufb88","\u0688","\ufb89","\u0688","\ufb8a","\u0698","\ufb8b","\u0698","\ufb8c","\u0691","\ufb8d","\u0691","\ufb8e","\u06a9","\ufb8f","\u06a9","\ufb90","\u06a9","\ufb91","\u06a9","\ufb92","\u06af","\ufb93","\u06af","\ufb94","\u06af","\ufb95","\u06af","\ufb96","\u06b3","\ufb97","\u06b3","\ufb98","\u06b3","\ufb99","\u06b3","\ufb9a","\u06b1","\ufb9b","\u06b1","\ufb9c","\u06b1","\ufb9d","\u06b1","\ufb9e","\u06ba","\ufb9f","\u06ba","\ufba0","\u06bb","\ufba1","\u06bb","\ufba2","\u06bb","\ufba3","\u06bb","\ufba4","\u06c0","\ufba5","\u06c0","\ufba6","\u06c1","\ufba7","\u06c1","\ufba8","\u06c1","\ufba9","\u06c1","\ufbaa","\u06be","\ufbab","\u06be","\ufbac","\u06be","\ufbad","\u06be","\ufbae","\u06d2","\ufbaf","\u06d2","\ufbb0","\u06d3","\ufbb1","\u06d3","\ufbd3","\u06ad","\ufbd4","\u06ad","\ufbd5","\u06ad","\ufbd6","\u06ad","\ufbd7","\u06c7","\ufbd8","\u06c7","\ufbd9","\u06c6","\ufbda","\u06c6","\ufbdb","\u06c8","\ufbdc","\u06c8","\ufbdd","\u0677","\ufbde","\u06cb","\ufbdf","\u06cb","\ufbe0","\u06c5","\ufbe1","\u06c5","\ufbe2","\u06c9","\ufbe3","\u06c9","\ufbe4","\u06d0","\ufbe5","\u06d0","\ufbe6","\u06d0","\ufbe7","\u06d0","\ufbe8","\u0649","\ufbe9","\u0649","\ufbea","\u0626\u0627","\ufbeb","\u0626\u0627","\ufbec","\u0626\u06d5","\ufbed","\u0626\u06d5","\ufbee","\u0626\u0648","\ufbef","\u0626\u0648","\ufbf0","\u0626\u06c7","\ufbf1","\u0626\u06c7","\ufbf2","\u0626\u06c6","\ufbf3","\u0626\u06c6","\ufbf4","\u0626\u06c8","\ufbf5","\u0626\u06c8","\ufbf6","\u0626\u06d0","\ufbf7","\u0626\u06d0","\ufbf8","\u0626\u06d0","\ufbf9","\u0626\u0649","\ufbfa","\u0626\u0649","\ufbfb","\u0626\u0649","\ufbfc","\u06cc","\ufbfd","\u06cc","\ufbfe","\u06cc","\ufbff","\u06cc","\ufc00","\u0626\u062c","\ufc01","\u0626\u062d","\ufc02","\u0626\u0645","\ufc03","\u0626\u0649","\ufc04","\u0626\u064a","\ufc05","\u0628\u062c","\ufc06","\u0628\u062d","\ufc07","\u0628\u062e","\ufc08","\u0628\u0645","\ufc09","\u0628\u0649","\ufc0a","\u0628\u064a","\ufc0b","\u062a\u062c","\ufc0c","\u062a\u062d","\ufc0d","\u062a\u062e","\ufc0e","\u062a\u0645","\ufc0f","\u062a\u0649","\ufc10","\u062a\u064a","\ufc11","\u062b\u062c","\ufc12","\u062b\u0645","\ufc13","\u062b\u0649","\ufc14","\u062b\u064a","\ufc15","\u062c\u062d","\ufc16","\u062c\u0645","\ufc17","\u062d\u062c","\ufc18","\u062d\u0645","\ufc19","\u062e\u062c","\ufc1a","\u062e\u062d","\ufc1b","\u062e\u0645","\ufc1c","\u0633\u062c","\ufc1d","\u0633\u062d","\ufc1e","\u0633\u062e","\ufc1f","\u0633\u0645","\ufc20","\u0635\u062d","\ufc21","\u0635\u0645","\ufc22","\u0636\u062c","\ufc23","\u0636\u062d","\ufc24","\u0636\u062e","\ufc25","\u0636\u0645","\ufc26","\u0637\u062d","\ufc27","\u0637\u0645","\ufc28","\u0638\u0645","\ufc29","\u0639\u062c","\ufc2a","\u0639\u0645","\ufc2b","\u063a\u062c","\ufc2c","\u063a\u0645","\ufc2d","\u0641\u062c","\ufc2e","\u0641\u062d","\ufc2f","\u0641\u062e","\ufc30","\u0641\u0645","\ufc31","\u0641\u0649","\ufc32","\u0641\u064a","\ufc33","\u0642\u062d","\ufc34","\u0642\u0645","\ufc35","\u0642\u0649","\ufc36","\u0642\u064a","\ufc37","\u0643\u0627","\ufc38","\u0643\u062c","\ufc39","\u0643\u062d","\ufc3a","\u0643\u062e","\ufc3b","\u0643\u0644","\ufc3c","\u0643\u0645","\ufc3d","\u0643\u0649","\ufc3e","\u0643\u064a","\ufc3f","\u0644\u062c","\ufc40","\u0644\u062d","\ufc41","\u0644\u062e","\ufc42","\u0644\u0645","\ufc43","\u0644\u0649","\ufc44","\u0644\u064a","\ufc45","\u0645\u062c","\ufc46","\u0645\u062d","\ufc47","\u0645\u062e","\ufc48","\u0645\u0645","\ufc49","\u0645\u0649","\ufc4a","\u0645\u064a","\ufc4b","\u0646\u062c","\ufc4c","\u0646\u062d","\ufc4d","\u0646\u062e","\ufc4e","\u0646\u0645","\ufc4f","\u0646\u0649","\ufc50","\u0646\u064a","\ufc51","\u0647\u062c","\ufc52","\u0647\u0645","\ufc53","\u0647\u0649","\ufc54","\u0647\u064a","\ufc55","\u064a\u062c","\ufc56","\u064a\u062d","\ufc57","\u064a\u062e","\ufc58","\u064a\u0645","\ufc59","\u064a\u0649","\ufc5a","\u064a\u064a","\ufc5b","\u0630\u0670","\ufc5c","\u0631\u0670","\ufc5d","\u0649\u0670","\ufc5e"," \u064c\u0651","\ufc5f"," \u064d\u0651","\ufc60"," \u064e\u0651","\ufc61"," \u064f\u0651","\ufc62"," \u0650\u0651","\ufc63"," \u0651\u0670","\ufc64","\u0626\u0631","\ufc65","\u0626\u0632","\ufc66","\u0626\u0645","\ufc67","\u0626\u0646","\ufc68","\u0626\u0649","\ufc69","\u0626\u064a","\ufc6a","\u0628\u0631","\ufc6b","\u0628\u0632","\ufc6c","\u0628\u0645","\ufc6d","\u0628\u0646","\ufc6e","\u0628\u0649","\ufc6f","\u0628\u064a","\ufc70","\u062a\u0631","\ufc71","\u062a\u0632","\ufc72","\u062a\u0645","\ufc73","\u062a\u0646","\ufc74","\u062a\u0649","\ufc75","\u062a\u064a","\ufc76","\u062b\u0631","\ufc77","\u062b\u0632","\ufc78","\u062b\u0645","\ufc79","\u062b\u0646","\ufc7a","\u062b\u0649","\ufc7b","\u062b\u064a","\ufc7c","\u0641\u0649","\ufc7d","\u0641\u064a","\ufc7e","\u0642\u0649","\ufc7f","\u0642\u064a","\ufc80","\u0643\u0627","\ufc81","\u0643\u0644","\ufc82","\u0643\u0645","\ufc83","\u0643\u0649","\ufc84","\u0643\u064a","\ufc85","\u0644\u0645","\ufc86","\u0644\u0649","\ufc87","\u0644\u064a","\ufc88","\u0645\u0627","\ufc89","\u0645\u0645","\ufc8a","\u0646\u0631","\ufc8b","\u0646\u0632","\ufc8c","\u0646\u0645","\ufc8d","\u0646\u0646","\ufc8e","\u0646\u0649","\ufc8f","\u0646\u064a","\ufc90","\u0649\u0670","\ufc91","\u064a\u0631","\ufc92","\u064a\u0632","\ufc93","\u064a\u0645","\ufc94","\u064a\u0646","\ufc95","\u064a\u0649","\ufc96","\u064a\u064a","\ufc97","\u0626\u062c","\ufc98","\u0626\u062d","\ufc99","\u0626\u062e","\ufc9a","\u0626\u0645","\ufc9b","\u0626\u0647","\ufc9c","\u0628\u062c","\ufc9d","\u0628\u062d","\ufc9e","\u0628\u062e","\ufc9f","\u0628\u0645","\ufca0","\u0628\u0647","\ufca1","\u062a\u062c","\ufca2","\u062a\u062d","\ufca3","\u062a\u062e","\ufca4","\u062a\u0645","\ufca5","\u062a\u0647","\ufca6","\u062b\u0645","\ufca7","\u062c\u062d","\ufca8","\u062c\u0645","\ufca9","\u062d\u062c","\ufcaa","\u062d\u0645","\ufcab","\u062e\u062c","\ufcac","\u062e\u0645","\ufcad","\u0633\u062c","\ufcae","\u0633\u062d","\ufcaf","\u0633\u062e","\ufcb0","\u0633\u0645","\ufcb1","\u0635\u062d","\ufcb2","\u0635\u062e","\ufcb3","\u0635\u0645","\ufcb4","\u0636\u062c","\ufcb5","\u0636\u062d","\ufcb6","\u0636\u062e","\ufcb7","\u0636\u0645","\ufcb8","\u0637\u062d","\ufcb9","\u0638\u0645","\ufcba","\u0639\u062c","\ufcbb","\u0639\u0645","\ufcbc","\u063a\u062c","\ufcbd","\u063a\u0645","\ufcbe","\u0641\u062c","\ufcbf","\u0641\u062d","\ufcc0","\u0641\u062e","\ufcc1","\u0641\u0645","\ufcc2","\u0642\u062d","\ufcc3","\u0642\u0645","\ufcc4","\u0643\u062c","\ufcc5","\u0643\u062d","\ufcc6","\u0643\u062e","\ufcc7","\u0643\u0644","\ufcc8","\u0643\u0645","\ufcc9","\u0644\u062c","\ufcca","\u0644\u062d","\ufccb","\u0644\u062e","\ufccc","\u0644\u0645","\ufccd","\u0644\u0647","\ufcce","\u0645\u062c","\ufccf","\u0645\u062d","\ufcd0","\u0645\u062e","\ufcd1","\u0645\u0645","\ufcd2","\u0646\u062c","\ufcd3","\u0646\u062d","\ufcd4","\u0646\u062e","\ufcd5","\u0646\u0645","\ufcd6","\u0646\u0647","\ufcd7","\u0647\u062c","\ufcd8","\u0647\u0645","\ufcd9","\u0647\u0670","\ufcda","\u064a\u062c","\ufcdb","\u064a\u062d","\ufcdc","\u064a\u062e","\ufcdd","\u064a\u0645","\ufcde","\u064a\u0647","\ufcdf","\u0626\u0645","\ufce0","\u0626\u0647","\ufce1","\u0628\u0645","\ufce2","\u0628\u0647","\ufce3","\u062a\u0645","\ufce4","\u062a\u0647","\ufce5","\u062b\u0645","\ufce6","\u062b\u0647","\ufce7","\u0633\u0645","\ufce8","\u0633\u0647","\ufce9","\u0634\u0645","\ufcea","\u0634\u0647","\ufceb","\u0643\u0644","\ufcec","\u0643\u0645","\ufced","\u0644\u0645","\ufcee","\u0646\u0645","\ufcef","\u0646\u0647","\ufcf0","\u064a\u0645","\ufcf1","\u064a\u0647","\ufcf2","\u0640\u064e\u0651","\ufcf3","\u0640\u064f\u0651","\ufcf4","\u0640\u0650\u0651","\ufcf5","\u0637\u0649","\ufcf6","\u0637\u064a","\ufcf7","\u0639\u0649","\ufcf8","\u0639\u064a","\ufcf9","\u063a\u0649","\ufcfa","\u063a\u064a","\ufcfb","\u0633\u0649","\ufcfc","\u0633\u064a","\ufcfd","\u0634\u0649","\ufcfe","\u0634\u064a","\ufcff","\u062d\u0649","\ufd00","\u062d\u064a","\ufd01","\u062c\u0649","\ufd02","\u062c\u064a","\ufd03","\u062e\u0649","\ufd04","\u062e\u064a","\ufd05","\u0635\u0649","\ufd06","\u0635\u064a","\ufd07","\u0636\u0649","\ufd08","\u0636\u064a","\ufd09","\u0634\u062c","\ufd0a","\u0634\u062d","\ufd0b","\u0634\u062e","\ufd0c","\u0634\u0645","\ufd0d","\u0634\u0631","\ufd0e","\u0633\u0631","\ufd0f","\u0635\u0631","\ufd10","\u0636\u0631","\ufd11","\u0637\u0649","\ufd12","\u0637\u064a","\ufd13","\u0639\u0649","\ufd14","\u0639\u064a","\ufd15","\u063a\u0649","\ufd16","\u063a\u064a","\ufd17","\u0633\u0649","\ufd18","\u0633\u064a","\ufd19","\u0634\u0649","\ufd1a","\u0634\u064a","\ufd1b","\u062d\u0649","\ufd1c","\u062d\u064a","\ufd1d","\u062c\u0649","\ufd1e","\u062c\u064a","\ufd1f","\u062e\u0649","\ufd20","\u062e\u064a","\ufd21","\u0635\u0649","\ufd22","\u0635\u064a","\ufd23","\u0636\u0649","\ufd24","\u0636\u064a","\ufd25","\u0634\u062c","\ufd26","\u0634\u062d","\ufd27","\u0634\u062e","\ufd28","\u0634\u0645","\ufd29","\u0634\u0631","\ufd2a","\u0633\u0631","\ufd2b","\u0635\u0631","\ufd2c","\u0636\u0631","\ufd2d","\u0634\u062c","\ufd2e","\u0634\u062d","\ufd2f","\u0634\u062e","\ufd30","\u0634\u0645","\ufd31","\u0633\u0647","\ufd32","\u0634\u0647","\ufd33","\u0637\u0645","\ufd34","\u0633\u062c","\ufd35","\u0633\u062d","\ufd36","\u0633\u062e","\ufd37","\u0634\u062c","\ufd38","\u0634\u062d","\ufd39","\u0634\u062e","\ufd3a","\u0637\u0645","\ufd3b","\u0638\u0645","\ufd3c","\u0627\u064b","\ufd3d","\u0627\u064b","\ufd50","\u062a\u062c\u0645","\ufd51","\u062a\u062d\u062c","\ufd52","\u062a\u062d\u062c","\ufd53","\u062a\u062d\u0645","\ufd54","\u062a\u062e\u0645","\ufd55","\u062a\u0645\u062c","\ufd56","\u062a\u0645\u062d","\ufd57","\u062a\u0645\u062e","\ufd58","\u062c\u0645\u062d","\ufd59","\u062c\u0645\u062d","\ufd5a","\u062d\u0645\u064a","\ufd5b","\u062d\u0645\u0649","\ufd5c","\u0633\u062d\u062c","\ufd5d","\u0633\u062c\u062d","\ufd5e","\u0633\u062c\u0649","\ufd5f","\u0633\u0645\u062d","\ufd60","\u0633\u0645\u062d","\ufd61","\u0633\u0645\u062c","\ufd62","\u0633\u0645\u0645","\ufd63","\u0633\u0645\u0645","\ufd64","\u0635\u062d\u062d","\ufd65","\u0635\u062d\u062d","\ufd66","\u0635\u0645\u0645","\ufd67","\u0634\u062d\u0645","\ufd68","\u0634\u062d\u0645","\ufd69","\u0634\u062c\u064a","\ufd6a","\u0634\u0645\u062e","\ufd6b","\u0634\u0645\u062e","\ufd6c","\u0634\u0645\u0645","\ufd6d","\u0634\u0645\u0645","\ufd6e","\u0636\u062d\u0649","\ufd6f","\u0636\u062e\u0645","\ufd70","\u0636\u062e\u0645","\ufd71","\u0637\u0645\u062d","\ufd72","\u0637\u0645\u062d","\ufd73","\u0637\u0645\u0645","\ufd74","\u0637\u0645\u064a","\ufd75","\u0639\u062c\u0645","\ufd76","\u0639\u0645\u0645","\ufd77","\u0639\u0645\u0645","\ufd78","\u0639\u0645\u0649","\ufd79","\u063a\u0645\u0645","\ufd7a","\u063a\u0645\u064a","\ufd7b","\u063a\u0645\u0649","\ufd7c","\u0641\u062e\u0645","\ufd7d","\u0641\u062e\u0645","\ufd7e","\u0642\u0645\u062d","\ufd7f","\u0642\u0645\u0645","\ufd80","\u0644\u062d\u0645","\ufd81","\u0644\u062d\u064a","\ufd82","\u0644\u062d\u0649","\ufd83","\u0644\u062c\u062c","\ufd84","\u0644\u062c\u062c","\ufd85","\u0644\u062e\u0645","\ufd86","\u0644\u062e\u0645","\ufd87","\u0644\u0645\u062d","\ufd88","\u0644\u0645\u062d","\ufd89","\u0645\u062d\u062c","\ufd8a","\u0645\u062d\u0645","\ufd8b","\u0645\u062d\u064a","\ufd8c","\u0645\u062c\u062d","\ufd8d","\u0645\u062c\u0645","\ufd8e","\u0645\u062e\u062c","\ufd8f","\u0645\u062e\u0645","\ufd92","\u0645\u062c\u062e","\ufd93","\u0647\u0645\u062c","\ufd94","\u0647\u0645\u0645","\ufd95","\u0646\u062d\u0645","\ufd96","\u0646\u062d\u0649","\ufd97","\u0646\u062c\u0645","\ufd98","\u0646\u062c\u0645","\ufd99","\u0646\u062c\u0649","\ufd9a","\u0646\u0645\u064a","\ufd9b","\u0646\u0645\u0649","\ufd9c","\u064a\u0645\u0645","\ufd9d","\u064a\u0645\u0645","\ufd9e","\u0628\u062e\u064a","\ufd9f","\u062a\u062c\u064a","\ufda0","\u062a\u062c\u0649","\ufda1","\u062a\u062e\u064a","\ufda2","\u062a\u062e\u0649","\ufda3","\u062a\u0645\u064a","\ufda4","\u062a\u0645\u0649","\ufda5","\u062c\u0645\u064a","\ufda6","\u062c\u062d\u0649","\ufda7","\u062c\u0645\u0649","\ufda8","\u0633\u062e\u0649","\ufda9","\u0635\u062d\u064a","\ufdaa","\u0634\u062d\u064a","\ufdab","\u0636\u062d\u064a","\ufdac","\u0644\u062c\u064a","\ufdad","\u0644\u0645\u064a","\ufdae","\u064a\u062d\u064a","\ufdaf","\u064a\u062c\u064a","\ufdb0","\u064a\u0645\u064a","\ufdb1","\u0645\u0645\u064a","\ufdb2","\u0642\u0645\u064a","\ufdb3","\u0646\u062d\u064a","\ufdb4","\u0642\u0645\u062d","\ufdb5","\u0644\u062d\u0645","\ufdb6","\u0639\u0645\u064a","\ufdb7","\u0643\u0645\u064a","\ufdb8","\u0646\u062c\u062d","\ufdb9","\u0645\u062e\u064a","\ufdba","\u0644\u062c\u0645","\ufdbb","\u0643\u0645\u0645","\ufdbc","\u0644\u062c\u0645","\ufdbd","\u0646\u062c\u062d","\ufdbe","\u062c\u062d\u064a","\ufdbf","\u062d\u062c\u064a","\ufdc0","\u0645\u062c\u064a","\ufdc1","\u0641\u0645\u064a","\ufdc2","\u0628\u062d\u064a","\ufdc3","\u0643\u0645\u0645","\ufdc4","\u0639\u062c\u0645","\ufdc5","\u0635\u0645\u0645","\ufdc6","\u0633\u062e\u064a","\ufdc7","\u0646\u062c\u064a","\ufe49","\u203e","\ufe4a","\u203e","\ufe4b","\u203e","\ufe4c","\u203e","\ufe4d","_","\ufe4e","_","\ufe4f","_","\ufe80","\u0621","\ufe81","\u0622","\ufe82","\u0622","\ufe83","\u0623","\ufe84","\u0623","\ufe85","\u0624","\ufe86","\u0624","\ufe87","\u0625","\ufe88","\u0625","\ufe89","\u0626","\ufe8a","\u0626","\ufe8b","\u0626","\ufe8c","\u0626","\ufe8d","\u0627","\ufe8e","\u0627","\ufe8f","\u0628","\ufe90","\u0628","\ufe91","\u0628","\ufe92","\u0628","\ufe93","\u0629","\ufe94","\u0629","\ufe95","\u062a","\ufe96","\u062a","\ufe97","\u062a","\ufe98","\u062a","\ufe99","\u062b","\ufe9a","\u062b","\ufe9b","\u062b","\ufe9c","\u062b","\ufe9d","\u062c","\ufe9e","\u062c","\ufe9f","\u062c","\ufea0","\u062c","\ufea1","\u062d","\ufea2","\u062d","\ufea3","\u062d","\ufea4","\u062d","\ufea5","\u062e","\ufea6","\u062e","\ufea7","\u062e","\ufea8","\u062e","\ufea9","\u062f","\ufeaa","\u062f","\ufeab","\u0630","\ufeac","\u0630","\ufead","\u0631","\ufeae","\u0631","\ufeaf","\u0632","\ufeb0","\u0632","\ufeb1","\u0633","\ufeb2","\u0633","\ufeb3","\u0633","\ufeb4","\u0633","\ufeb5","\u0634","\ufeb6","\u0634","\ufeb7","\u0634","\ufeb8","\u0634","\ufeb9","\u0635","\ufeba","\u0635","\ufebb","\u0635","\ufebc","\u0635","\ufebd","\u0636","\ufebe","\u0636","\ufebf","\u0636","\ufec0","\u0636","\ufec1","\u0637","\ufec2","\u0637","\ufec3","\u0637","\ufec4","\u0637","\ufec5","\u0638","\ufec6","\u0638","\ufec7","\u0638","\ufec8","\u0638","\ufec9","\u0639","\ufeca","\u0639","\ufecb","\u0639","\ufecc","\u0639","\ufecd","\u063a","\ufece","\u063a","\ufecf","\u063a","\ufed0","\u063a","\ufed1","\u0641","\ufed2","\u0641","\ufed3","\u0641","\ufed4","\u0641","\ufed5","\u0642","\ufed6","\u0642","\ufed7","\u0642","\ufed8","\u0642","\ufed9","\u0643","\ufeda","\u0643","\ufedb","\u0643","\ufedc","\u0643","\ufedd","\u0644","\ufede","\u0644","\ufedf","\u0644","\ufee0","\u0644","\ufee1","\u0645","\ufee2","\u0645","\ufee3","\u0645","\ufee4","\u0645","\ufee5","\u0646","\ufee6","\u0646","\ufee7","\u0646","\ufee8","\u0646","\ufee9","\u0647","\ufeea","\u0647","\ufeeb","\u0647","\ufeec","\u0647","\ufeed","\u0648","\ufeee","\u0648","\ufeef","\u0649","\ufef0","\u0649","\ufef1","\u064a","\ufef2","\u064a","\ufef3","\u064a","\ufef4","\u064a","\ufef5","\u0644\u0622","\ufef6","\u0644\u0622","\ufef7","\u0644\u0623","\ufef8","\u0644\u0623","\ufef9","\u0644\u0625","\ufefa","\u0644\u0625","\ufefb","\u0644\u0627","\ufefc","\u0644\u0627"]});function w(f){const l=f.length;if(l<=1||!function(D){let m=t[13];return D>=m.begin&&D<m.end||(m=t[11],D>=m.begin&&D<m.end)}(f.charCodeAt(0)))return f;const n=[];for(let o=l-1;o>=0;o--)n.push(f[o]);return n.join("")}const k=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),s=new Map;function i(f){const l=s.get(f);if(l)return l;const n=f.match(k),o={isWhitespace:!(!n||!n[1]),isZeroWidthDiacritic:!(!n||!n[2]),isInvisibleFormatMark:!(!n||!n[3])};return s.set(f,o),o}function a(){s.clear()}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.getSerifFonts=v.getNonStdFontMap=v.getGlyphMapForStandardFonts=v.getFontNameToFileMap=void 0,v.getStandardFontName=function(a){const f=(0,d.normalizeFontName)(a);return _()[f]},v.getSymbolsFonts=v.getSupplementalGlyphMapForCalibri=v.getSupplementalGlyphMapForArialBlack=v.getStdFontMap=void 0;var e=K(6),d=K(38);const _=(0,e.getLookupTableFactory)(function(i){i["Times-Roman"]="Times-Roman",i.Helvetica="Helvetica",i.Courier="Courier",i.Symbol="Symbol",i["Times-Bold"]="Times-Bold",i["Helvetica-Bold"]="Helvetica-Bold",i["Courier-Bold"]="Courier-Bold",i.ZapfDingbats="ZapfDingbats",i["Times-Italic"]="Times-Italic",i["Helvetica-Oblique"]="Helvetica-Oblique",i["Courier-Oblique"]="Courier-Oblique",i["Times-BoldItalic"]="Times-BoldItalic",i["Helvetica-BoldOblique"]="Helvetica-BoldOblique",i["Courier-BoldOblique"]="Courier-BoldOblique",i.ArialNarrow="Helvetica",i["ArialNarrow-Bold"]="Helvetica-Bold",i["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",i["ArialNarrow-Italic"]="Helvetica-Oblique",i.ArialBlack="Helvetica",i["ArialBlack-Bold"]="Helvetica-Bold",i["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",i["ArialBlack-Italic"]="Helvetica-Oblique",i["Arial-Black"]="Helvetica",i["Arial-Black-Bold"]="Helvetica-Bold",i["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",i["Arial-Black-Italic"]="Helvetica-Oblique",i.Arial="Helvetica",i["Arial-Bold"]="Helvetica-Bold",i["Arial-BoldItalic"]="Helvetica-BoldOblique",i["Arial-Italic"]="Helvetica-Oblique",i.ArialMT="Helvetica",i["Arial-BoldItalicMT"]="Helvetica-BoldOblique",i["Arial-BoldMT"]="Helvetica-Bold",i["Arial-ItalicMT"]="Helvetica-Oblique",i.ArialUnicodeMS="Helvetica",i["ArialUnicodeMS-Bold"]="Helvetica-Bold",i["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",i["ArialUnicodeMS-Italic"]="Helvetica-Oblique",i["Courier-BoldItalic"]="Courier-BoldOblique",i["Courier-Italic"]="Courier-Oblique",i.CourierNew="Courier",i["CourierNew-Bold"]="Courier-Bold",i["CourierNew-BoldItalic"]="Courier-BoldOblique",i["CourierNew-Italic"]="Courier-Oblique",i["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",i["CourierNewPS-BoldMT"]="Courier-Bold",i["CourierNewPS-ItalicMT"]="Courier-Oblique",i.CourierNewPSMT="Courier",i["Helvetica-BoldItalic"]="Helvetica-BoldOblique",i["Helvetica-Italic"]="Helvetica-Oblique",i["Symbol-Bold"]="Symbol",i["Symbol-BoldItalic"]="Symbol",i["Symbol-Italic"]="Symbol",i.TimesNewRoman="Times-Roman",i["TimesNewRoman-Bold"]="Times-Bold",i["TimesNewRoman-BoldItalic"]="Times-BoldItalic",i["TimesNewRoman-Italic"]="Times-Italic",i.TimesNewRomanPS="Times-Roman",i["TimesNewRomanPS-Bold"]="Times-Bold",i["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",i["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",i["TimesNewRomanPS-BoldMT"]="Times-Bold",i["TimesNewRomanPS-Italic"]="Times-Italic",i["TimesNewRomanPS-ItalicMT"]="Times-Italic",i.TimesNewRomanPSMT="Times-Roman",i["TimesNewRomanPSMT-Bold"]="Times-Bold",i["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",i["TimesNewRomanPSMT-Italic"]="Times-Italic"});v.getStdFontMap=_;const S=(0,e.getLookupTableFactory)(function(i){i.Courier="FoxitFixed.pfb",i["Courier-Bold"]="FoxitFixedBold.pfb",i["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",i["Courier-Oblique"]="FoxitFixedItalic.pfb",i.Helvetica="FoxitSans.pfb",i["Helvetica-Bold"]="FoxitSansBold.pfb",i["Helvetica-BoldOblique"]="FoxitSansBoldItalic.pfb",i["Helvetica-Oblique"]="FoxitSansItalic.pfb",i["Times-Roman"]="FoxitSerif.pfb",i["Times-Bold"]="FoxitSerifBold.pfb",i["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",i["Times-Italic"]="FoxitSerifItalic.pfb",i.Symbol="FoxitSymbol.pfb",i.ZapfDingbats="FoxitDingbats.pfb",i["LiberationSans-Regular"]="LiberationSans-Regular.ttf",i["LiberationSans-Bold"]="LiberationSans-Bold.ttf",i["LiberationSans-Italic"]="LiberationSans-Italic.ttf",i["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});v.getFontNameToFileMap=S;const t=(0,e.getLookupTableFactory)(function(i){i.Calibri="Helvetica",i["Calibri-Bold"]="Helvetica-Bold",i["Calibri-BoldItalic"]="Helvetica-BoldOblique",i["Calibri-Italic"]="Helvetica-Oblique",i.CenturyGothic="Helvetica",i["CenturyGothic-Bold"]="Helvetica-Bold",i["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",i["CenturyGothic-Italic"]="Helvetica-Oblique",i.ComicSansMS="Comic Sans MS",i["ComicSansMS-Bold"]="Comic Sans MS-Bold",i["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",i["ComicSansMS-Italic"]="Comic Sans MS-Italic",i["ItcSymbol-Bold"]="Helvetica-Bold",i["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",i["ItcSymbol-Book"]="Helvetica",i["ItcSymbol-BookItalic"]="Helvetica-Oblique",i["ItcSymbol-Medium"]="Helvetica",i["ItcSymbol-MediumItalic"]="Helvetica-Oblique",i.LucidaConsole="Courier",i["LucidaConsole-Bold"]="Courier-Bold",i["LucidaConsole-BoldItalic"]="Courier-BoldOblique",i["LucidaConsole-Italic"]="Courier-Oblique",i["LucidaSans-Demi"]="Helvetica-Bold",i["MS-Gothic"]="MS Gothic",i["MS-Gothic-Bold"]="MS Gothic-Bold",i["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",i["MS-Gothic-Italic"]="MS Gothic-Italic",i["MS-Mincho"]="MS Mincho",i["MS-Mincho-Bold"]="MS Mincho-Bold",i["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",i["MS-Mincho-Italic"]="MS Mincho-Italic",i["MS-PGothic"]="MS PGothic",i["MS-PGothic-Bold"]="MS PGothic-Bold",i["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",i["MS-PGothic-Italic"]="MS PGothic-Italic",i["MS-PMincho"]="MS PMincho",i["MS-PMincho-Bold"]="MS PMincho-Bold",i["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",i["MS-PMincho-Italic"]="MS PMincho-Italic",i.NuptialScript="Times-Italic",i.SegoeUISymbol="Helvetica",i.Wingdings="ZapfDingbats",i["Wingdings-Regular"]="ZapfDingbats"});v.getNonStdFontMap=t;const u=(0,e.getLookupTableFactory)(function(i){i["Adobe Jenson"]=!0,i["Adobe Text"]=!0,i.Albertus=!0,i.Aldus=!0,i.Alexandria=!0,i.Algerian=!0,i["American Typewriter"]=!0,i.Antiqua=!0,i.Apex=!0,i.Arno=!0,i.Aster=!0,i.Aurora=!0,i.Baskerville=!0,i.Bell=!0,i.Bembo=!0,i["Bembo Schoolbook"]=!0,i.Benguiat=!0,i["Berkeley Old Style"]=!0,i["Bernhard Modern"]=!0,i["Berthold City"]=!0,i.Bodoni=!0,i["Bauer Bodoni"]=!0,i["Book Antiqua"]=!0,i.Bookman=!0,i["Bordeaux Roman"]=!0,i["Californian FB"]=!0,i.Calisto=!0,i.Calvert=!0,i.Capitals=!0,i.Cambria=!0,i.Cartier=!0,i.Caslon=!0,i.Catull=!0,i.Centaur=!0,i["Century Old Style"]=!0,i["Century Schoolbook"]=!0,i.Chaparral=!0,i["Charis SIL"]=!0,i.Cheltenham=!0,i["Cholla Slab"]=!0,i.Clarendon=!0,i.Clearface=!0,i.Cochin=!0,i.Colonna=!0,i["Computer Modern"]=!0,i["Concrete Roman"]=!0,i.Constantia=!0,i["Cooper Black"]=!0,i.Corona=!0,i.Ecotype=!0,i.Egyptienne=!0,i.Elephant=!0,i.Excelsior=!0,i.Fairfield=!0,i["FF Scala"]=!0,i.Folkard=!0,i.Footlight=!0,i.FreeSerif=!0,i["Friz Quadrata"]=!0,i.Garamond=!0,i.Gentium=!0,i.Georgia=!0,i.Gloucester=!0,i["Goudy Old Style"]=!0,i["Goudy Schoolbook"]=!0,i["Goudy Pro Font"]=!0,i.Granjon=!0,i["Guardian Egyptian"]=!0,i.Heather=!0,i.Hercules=!0,i["High Tower Text"]=!0,i.Hiroshige=!0,i["Hoefler Text"]=!0,i["Humana Serif"]=!0,i.Imprint=!0,i["Ionic No. 5"]=!0,i.Janson=!0,i.Joanna=!0,i.Korinna=!0,i.Lexicon=!0,i.LiberationSerif=!0,i["Liberation Serif"]=!0,i["Linux Libertine"]=!0,i.Literaturnaya=!0,i.Lucida=!0,i["Lucida Bright"]=!0,i.Melior=!0,i.Memphis=!0,i.Miller=!0,i.Minion=!0,i.Modern=!0,i["Mona Lisa"]=!0,i["Mrs Eaves"]=!0,i["MS Serif"]=!0,i["Museo Slab"]=!0,i["New York"]=!0,i["Nimbus Roman"]=!0,i["NPS Rawlinson Roadway"]=!0,i.NuptialScript=!0,i.Palatino=!0,i.Perpetua=!0,i.Plantin=!0,i["Plantin Schoolbook"]=!0,i.Playbill=!0,i["Poor Richard"]=!0,i["Rawlinson Roadway"]=!0,i.Renault=!0,i.Requiem=!0,i.Rockwell=!0,i.Roman=!0,i["Rotis Serif"]=!0,i.Sabon=!0,i.Scala=!0,i.Seagull=!0,i.Sistina=!0,i.Souvenir=!0,i.STIX=!0,i["Stone Informal"]=!0,i["Stone Serif"]=!0,i.Sylfaen=!0,i.Times=!0,i.Trajan=!0,i.Trinit\u00e9=!0,i["Trump Mediaeval"]=!0,i.Utopia=!0,i["Vale Type"]=!0,i["Bitstream Vera"]=!0,i["Vera Serif"]=!0,i.Versailles=!0,i.Wanted=!0,i.Weiss=!0,i["Wide Latin"]=!0,i.Windsor=!0,i.XITS=!0});v.getSerifFonts=u;const I=(0,e.getLookupTableFactory)(function(i){i.Dingbats=!0,i.Symbol=!0,i.ZapfDingbats=!0});v.getSymbolsFonts=I;const w=(0,e.getLookupTableFactory)(function(i){i[2]=10,i[3]=32,i[4]=33,i[5]=34,i[6]=35,i[7]=36,i[8]=37,i[9]=38,i[10]=39,i[11]=40,i[12]=41,i[13]=42,i[14]=43,i[15]=44,i[16]=45,i[17]=46,i[18]=47,i[19]=48,i[20]=49,i[21]=50,i[22]=51,i[23]=52,i[24]=53,i[25]=54,i[26]=55,i[27]=56,i[28]=57,i[29]=58,i[30]=894,i[31]=60,i[32]=61,i[33]=62,i[34]=63,i[35]=64,i[36]=65,i[37]=66,i[38]=67,i[39]=68,i[40]=69,i[41]=70,i[42]=71,i[43]=72,i[44]=73,i[45]=74,i[46]=75,i[47]=76,i[48]=77,i[49]=78,i[50]=79,i[51]=80,i[52]=81,i[53]=82,i[54]=83,i[55]=84,i[56]=85,i[57]=86,i[58]=87,i[59]=88,i[60]=89,i[61]=90,i[62]=91,i[63]=92,i[64]=93,i[65]=94,i[66]=95,i[67]=96,i[68]=97,i[69]=98,i[70]=99,i[71]=100,i[72]=101,i[73]=102,i[74]=103,i[75]=104,i[76]=105,i[77]=106,i[78]=107,i[79]=108,i[80]=109,i[81]=110,i[82]=111,i[83]=112,i[84]=113,i[85]=114,i[86]=115,i[87]=116,i[88]=117,i[89]=118,i[90]=119,i[91]=120,i[92]=121,i[93]=122,i[94]=123,i[95]=124,i[96]=125,i[97]=126,i[98]=196,i[99]=197,i[100]=199,i[101]=201,i[102]=209,i[103]=214,i[104]=220,i[105]=225,i[106]=224,i[107]=226,i[108]=228,i[109]=227,i[110]=229,i[111]=231,i[112]=233,i[113]=232,i[114]=234,i[115]=235,i[116]=237,i[117]=236,i[118]=238,i[119]=239,i[120]=241,i[121]=243,i[122]=242,i[123]=244,i[124]=246,i[125]=245,i[126]=250,i[127]=249,i[128]=251,i[129]=252,i[130]=8224,i[131]=176,i[132]=162,i[133]=163,i[134]=167,i[135]=8226,i[136]=182,i[137]=223,i[138]=174,i[139]=169,i[140]=8482,i[141]=180,i[142]=168,i[143]=8800,i[144]=198,i[145]=216,i[146]=8734,i[147]=177,i[148]=8804,i[149]=8805,i[150]=165,i[151]=181,i[152]=8706,i[153]=8721,i[154]=8719,i[156]=8747,i[157]=170,i[158]=186,i[159]=8486,i[160]=230,i[161]=248,i[162]=191,i[163]=161,i[164]=172,i[165]=8730,i[166]=402,i[167]=8776,i[168]=8710,i[169]=171,i[170]=187,i[171]=8230,i[200]=193,i[203]=205,i[210]=218,i[223]=711,i[224]=321,i[225]=322,i[226]=352,i[227]=353,i[228]=381,i[229]=382,i[233]=221,i[234]=253,i[252]=263,i[253]=268,i[254]=269,i[258]=258,i[260]=260,i[261]=261,i[265]=280,i[266]=281,i[267]=282,i[268]=283,i[269]=313,i[275]=323,i[276]=324,i[278]=328,i[283]=344,i[284]=345,i[285]=346,i[286]=347,i[292]=367,i[295]=377,i[296]=378,i[298]=380,i[305]=963,i[306]=964,i[307]=966,i[308]=8215,i[309]=8252,i[310]=8319,i[311]=8359,i[312]=8592,i[313]=8593,i[337]=9552,i[493]=1039,i[494]=1040,i[672]=1488,i[673]=1489,i[674]=1490,i[675]=1491,i[676]=1492,i[677]=1493,i[678]=1494,i[679]=1495,i[680]=1496,i[681]=1497,i[682]=1498,i[683]=1499,i[684]=1500,i[685]=1501,i[686]=1502,i[687]=1503,i[688]=1504,i[689]=1505,i[690]=1506,i[691]=1507,i[692]=1508,i[693]=1509,i[694]=1510,i[695]=1511,i[696]=1512,i[697]=1513,i[698]=1514,i[705]=1524,i[706]=8362,i[710]=64288,i[711]=64298,i[759]=1617,i[761]=1776,i[763]=1778,i[775]=1652,i[777]=1764,i[778]=1780,i[779]=1781,i[780]=1782,i[782]=771,i[783]=64726,i[786]=8363,i[788]=8532,i[790]=768,i[791]=769,i[792]=768,i[795]=803,i[797]=64336,i[798]=64337,i[799]=64342,i[800]=64343,i[801]=64344,i[802]=64345,i[803]=64362,i[804]=64363,i[805]=64364,i[2424]=7821,i[2425]=7822,i[2426]=7823,i[2427]=7824,i[2428]=7825,i[2429]=7826,i[2430]=7827,i[2433]=7682,i[2678]=8045,i[2679]=8046,i[2830]=1552,i[2838]=686,i[2840]=751,i[2842]=753,i[2843]=754,i[2844]=755,i[2846]=757,i[2856]=767,i[2857]=848,i[2858]=849,i[2862]=853,i[2863]=854,i[2864]=855,i[2865]=861,i[2866]=862,i[2906]=7460,i[2908]=7462,i[2909]=7463,i[2910]=7464,i[2912]=7466,i[2913]=7467,i[2914]=7468,i[2916]=7470,i[2917]=7471,i[2918]=7472,i[2920]=7474,i[2921]=7475,i[2922]=7476,i[2924]=7478,i[2925]=7479,i[2926]=7480,i[2928]=7482,i[2929]=7483,i[2930]=7484,i[2932]=7486,i[2933]=7487,i[2934]=7488,i[2936]=7490,i[2937]=7491,i[2938]=7492,i[2940]=7494,i[2941]=7495,i[2942]=7496,i[2944]=7498,i[2946]=7500,i[2948]=7502,i[2950]=7504,i[2951]=7505,i[2952]=7506,i[2954]=7508,i[2955]=7509,i[2956]=7510,i[2958]=7512,i[2959]=7513,i[2960]=7514,i[2962]=7516,i[2963]=7517,i[2964]=7518,i[2966]=7520,i[2967]=7521,i[2968]=7522,i[2970]=7524,i[2971]=7525,i[2972]=7526,i[2974]=7528,i[2975]=7529,i[2976]=7530,i[2978]=1537,i[2979]=1538,i[2980]=1539,i[2982]=1549,i[2983]=1551,i[2984]=1552,i[2986]=1554,i[2987]=1555,i[2988]=1556,i[2990]=1623,i[2991]=1624,i[2995]=1775,i[2999]=1791,i[3002]=64290,i[3003]=64291,i[3004]=64292,i[3006]=64294,i[3007]=64295,i[3008]=64296,i[3011]=1900,i[3014]=8223,i[3015]=8244,i[3017]=7532,i[3018]=7533,i[3019]=7534,i[3075]=7590,i[3076]=7591,i[3079]=7594,i[3080]=7595,i[3083]=7598,i[3084]=7599,i[3087]=7602,i[3088]=7603,i[3091]=7606,i[3092]=7607,i[3095]=7610,i[3096]=7611,i[3099]=7614,i[3100]=7615,i[3103]=7618,i[3104]=7619,i[3107]=8337,i[3108]=8338,i[3116]=1884,i[3119]=1885,i[3120]=1885,i[3123]=1886,i[3124]=1886,i[3127]=1887,i[3128]=1887,i[3131]=1888,i[3132]=1888,i[3135]=1889,i[3136]=1889,i[3139]=1890,i[3140]=1890,i[3143]=1891,i[3144]=1891,i[3147]=1892,i[3148]=1892,i[3153]=580,i[3154]=581,i[3157]=584,i[3158]=585,i[3161]=588,i[3162]=589,i[3165]=891,i[3166]=892,i[3169]=1274,i[3170]=1275,i[3173]=1278,i[3174]=1279,i[3181]=7622,i[3182]=7623,i[3282]=11799,i[3316]=578,i[3379]=42785,i[3393]=1159,i[3416]=8377});v.getGlyphMapForStandardFonts=w;const k=(0,e.getLookupTableFactory)(function(i){i[227]=322,i[264]=261,i[291]=346});v.getSupplementalGlyphMapForArialBlack=k;const s=(0,e.getLookupTableFactory)(function(i){i[1]=32,i[4]=65,i[6]=193,i[17]=66,i[18]=67,i[21]=268,i[24]=68,i[28]=69,i[30]=201,i[32]=282,i[38]=70,i[39]=71,i[44]=72,i[47]=73,i[49]=205,i[58]=74,i[60]=75,i[62]=76,i[68]=77,i[69]=78,i[75]=79,i[87]=80,i[89]=81,i[90]=82,i[92]=344,i[94]=83,i[97]=352,i[100]=84,i[104]=85,i[115]=86,i[116]=87,i[121]=88,i[122]=89,i[124]=221,i[127]=90,i[129]=381,i[258]=97,i[260]=225,i[268]=261,i[271]=98,i[272]=99,i[273]=263,i[275]=269,i[282]=100,i[286]=101,i[288]=233,i[290]=283,i[295]=281,i[296]=102,i[336]=103,i[346]=104,i[349]=105,i[351]=237,i[361]=106,i[364]=107,i[367]=108,i[371]=322,i[373]=109,i[374]=110,i[381]=111,i[383]=243,i[393]=112,i[395]=113,i[396]=114,i[398]=345,i[400]=115,i[401]=347,i[403]=353,i[410]=116,i[437]=117,i[448]=118,i[449]=119,i[454]=120,i[455]=121,i[457]=253,i[460]=122,i[462]=382,i[463]=380,i[853]=44,i[855]=58,i[856]=46,i[876]=47,i[878]=45,i[882]=45,i[894]=40,i[895]=41,i[896]=91,i[897]=93,i[923]=64,i[1004]=48,i[1005]=49,i[1006]=50,i[1007]=51,i[1008]=52,i[1009]=53,i[1010]=54,i[1011]=55,i[1012]=56,i[1013]=57,i[1081]=37,i[1085]=43,i[1086]=45});v.getSupplementalGlyphMapForCalibri=s},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ToUnicodeMap=v.IdentityToUnicodeMap=void 0;var e=K(2);v.ToUnicodeMap=class{constructor(_=[]){this._map=_}get length(){return this._map.length}forEach(_){for(const S in this._map)_(S,this._map[S].charCodeAt(0))}has(_){return void 0!==this._map[_]}get(_){return this._map[_]}charCodeOf(_){const S=this._map;if(S.length<=65536)return S.indexOf(_);for(const t in S)if(S[t]===_)return 0|t;return-1}amend(_){for(const S in _)this._map[S]=_[S]}},v.IdentityToUnicodeMap=class{constructor(_,S){this.firstChar=_,this.lastChar=S}get length(){return this.lastChar+1-this.firstChar}forEach(_){for(let S=this.firstChar,t=this.lastChar;S<=t;S++)_(S,S)}has(_){return this.firstChar<=_&&_<=this.lastChar}get(_){if(this.firstChar<=_&&_<=this.lastChar)return String.fromCharCode(_)}charCodeOf(_){return Number.isInteger(_)&&_>=this.firstChar&&_<=this.lastChar?_:-1}amend(_){(0,e.unreachable)("Should not call amend()")}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CFFFont=void 0;var e=K(35),d=K(38),_=K(2);v.CFFFont=class{constructor(t,u){this.properties=u;const I=new e.CFFParser(t,u,d.SEAC_ANALYSIS_ENABLED);this.cff=I.parse(),this.cff.duplicateFirstGlyph();const w=new e.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=w.compile()}catch{(0,_.warn)("Failed to compile font "+u.loadedName),this.data=t}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const t=this.cff,u=this.properties,I=t.charset.charset;let w,k;if(u.composite){let i;if(w=Object.create(null),t.isCIDFont)for(k=0;k<I.length;k++)i=u.cMap.charCodeOf(I[k]),w[i]=k;else for(k=0;k<t.charStrings.count;k++)i=u.cMap.charCodeOf(k),w[i]=k;return w}let s=t.encoding?t.encoding.encoding:null;return u.isInternalFont&&(s=u.defaultEncoding),w=(0,d.type1FontGlyphMapping)(u,s,I),w}hasGlyphId(t){return this.cff.hasGlyphId(t)}_createBuiltInEncoding(){const{charset:t,encoding:u}=this.cff;if(!t||!u)return;const I=t.charset,w=u.encoding,k=[];for(const s in w){const i=w[s];if(i>=0){const a=I[i];a&&(k[s]=a)}}k.length>0&&(this.properties.builtInEncoding=k)}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.FontRendererFactory=void 0;var e=K(2),d=K(35),_=K(39),S=K(37),t=K(10);function u(h,y){return(h[y]<<24|h[y+1]<<16|h[y+2]<<8|h[y+3])>>>0}function I(h,y){return h[y]<<8|h[y+1]}function w(h,y){return(h[y]<<24|h[y+1]<<16)>>16}function k(h,y){return h[y]<<24>>24}function s(h,y){return w(h,y)/16384}function i(h){const y=h.length;let g=32768;return y<1240?g=107:y<33900&&(g=1131),g}function a(h,y,g){const r=1===I(h,y+2)?u(h,y+8):u(h,y+16),c=I(h,y+r);let P,T,x;if(4===c){I(h,y+r+2);const C=I(h,y+r+6)>>1;for(T=y+r+14,P=[],x=0;x<C;x++,T+=2)P[x]={end:I(h,T)};for(T+=2,x=0;x<C;x++,T+=2)P[x].start=I(h,T);for(x=0;x<C;x++,T+=2)P[x].idDelta=I(h,T);for(x=0;x<C;x++,T+=2){let b=I(h,T);if(0!==b){P[x].ids=[];for(let A=0,R=P[x].end-P[x].start+1;A<R;A++)P[x].ids[A]=I(h,T+b),b+=2}}return P}if(12===c){const C=u(h,y+r+12);for(T=y+r+16,P=[],x=0;x<C;x++)y=u(h,T),P.push({start:y,end:u(h,T+4),idDelta:u(h,T+8)-y}),T+=12;return P}throw new e.FormatError(`unsupported cmap: ${c}`)}function f(h,y,g,r){const c=new d.CFFParser(new t.Stream(h,y,g-y),{},r).parse();return{glyphs:c.charStrings.objects,subrs:c.topDict.privateDict&&c.topDict.privateDict.subrsIndex&&c.topDict.privateDict.subrsIndex.objects,gsubrs:c.globalSubrIndex&&c.globalSubrIndex.objects,isCFFCIDFont:c.isCIDFont,fdSelect:c.fdSelect,fdArray:c.fdArray}}function l(h,y){const g=y.codePointAt(0);let r=0,c=0,P=h.length-1;for(;c<P;){const T=c+P+1>>1;g<h[T].start?P=T-1:c=T}return h[c].start<=g&&g<=h[c].end&&(r=h[c].idDelta+(h[c].ids?h[c].ids[g-h[c].start]:g)&65535),{charCode:g,glyphId:r}}function n(h,y,g){function r(R,F){y.push({cmd:"moveTo",args:[R,F]})}function c(R,F){y.push({cmd:"lineTo",args:[R,F]})}function P(R,F,N,E){y.push({cmd:"quadraticCurveTo",args:[R,F,N,E]})}let T=0;const x=w(h,T);let C,b=0,A=0;if(T+=10,x<0)do{C=I(h,T);const R=I(h,T+2);let F,N;T+=4,1&C?(2&C?(F=w(h,T),N=w(h,T+2)):(F=I(h,T),N=I(h,T+2)),T+=4):2&C?(F=k(h,T++),N=k(h,T++)):(F=h[T++],N=h[T++]),2&C?(b=F,A=N):(b=0,A=0);let E=1,L=1,X=0,V=0;8&C?(E=L=s(h,T),T+=2):64&C?(E=s(h,T),L=s(h,T+2),T+=4):128&C&&(E=s(h,T),X=s(h,T+2),V=s(h,T+4),L=s(h,T+6),T+=8);const J=g.glyphs[R];J&&(y.push({cmd:"save"},{cmd:"transform",args:[E,X,V,L,b,A]}),n(J,y,g),y.push({cmd:"restore"}))}while(32&C);else{const R=[];let F,N;for(F=0;F<x;F++)R.push(I(h,T)),T+=2;T+=2+I(h,T);const E=R.at(-1)+1,L=[];for(;L.length<E;){C=h[T++];let V=1;for(8&C&&(V+=h[T++]);V-- >0;)L.push({flags:C})}for(F=0;F<E;F++){switch(18&L[F].flags){case 0:b+=w(h,T),T+=2;break;case 2:b-=h[T++];break;case 18:b+=h[T++]}L[F].x=b}for(F=0;F<E;F++){switch(36&L[F].flags){case 0:A+=w(h,T),T+=2;break;case 4:A-=h[T++];break;case 36:A+=h[T++]}L[F].y=A}let X=0;for(T=0;T<x;T++){const V=R[T],J=L.slice(X,V+1);if(1&J[0].flags)J.push(J[0]);else if(1&J.at(-1).flags)J.unshift(J.at(-1));else{const z={flags:1,x:(J[0].x+J.at(-1).x)/2,y:(J[0].y+J.at(-1).y)/2};J.unshift(z),J.push(z)}for(r(J[0].x,J[0].y),F=1,N=J.length;F<N;F++)1&J[F].flags?c(J[F].x,J[F].y):1&J[F+1].flags?(P(J[F].x,J[F].y,J[F+1].x,J[F+1].y),F++):P(J[F].x,J[F].y,(J[F].x+J[F+1].x)/2,(J[F].y+J[F+1].y)/2);X=V+1}}}function o(h,y,g,r){function c(R,F){y.push({cmd:"moveTo",args:[R,F]})}function P(R,F){y.push({cmd:"lineTo",args:[R,F]})}function T(R,F,N,E,L,X){y.push({cmd:"bezierCurveTo",args:[R,F,N,E,L,X]})}const x=[];let C=0,b=0,A=0;!function R(F){let N=0;for(;N<F.length;){let E,L,X,V,J,z,$,q,j,M=!1,U=F[N++];switch(U){case 1:case 3:case 18:case 23:A+=x.length>>1,M=!0;break;case 4:b+=x.pop(),c(C,b),M=!0;break;case 5:for(;x.length>0;)C+=x.shift(),b+=x.shift(),P(C,b);break;case 6:for(;x.length>0&&(C+=x.shift(),P(C,b),0!==x.length);)b+=x.shift(),P(C,b);break;case 7:for(;x.length>0&&(b+=x.shift(),P(C,b),0!==x.length);)C+=x.shift(),P(C,b);break;case 8:for(;x.length>0;)E=C+x.shift(),X=b+x.shift(),L=E+x.shift(),V=X+x.shift(),C=L+x.shift(),b=V+x.shift(),T(E,X,L,V,C,b);break;case 10:if(q=x.pop(),j=null,g.isCFFCIDFont){const H=g.fdSelect.getFDIndex(r);if(H>=0&&H<g.fdArray.length){const W=g.fdArray[H];let G;W.privateDict&&W.privateDict.subrsIndex&&(G=W.privateDict.subrsIndex.objects),G&&(q+=i(G),j=G[q])}else(0,e.warn)("Invalid fd index for glyph index.")}else j=g.subrs[q+g.subrsBias];j&&R(j);break;case 11:return;case 12:switch(U=F[N++],U){case 34:E=C+x.shift(),L=E+x.shift(),J=b+x.shift(),C=L+x.shift(),T(E,b,L,J,C,J),E=C+x.shift(),L=E+x.shift(),C=L+x.shift(),T(E,J,L,b,C,b);break;case 35:E=C+x.shift(),X=b+x.shift(),L=E+x.shift(),V=X+x.shift(),C=L+x.shift(),b=V+x.shift(),T(E,X,L,V,C,b),E=C+x.shift(),X=b+x.shift(),L=E+x.shift(),V=X+x.shift(),C=L+x.shift(),b=V+x.shift(),T(E,X,L,V,C,b),x.pop();break;case 36:E=C+x.shift(),J=b+x.shift(),L=E+x.shift(),z=J+x.shift(),C=L+x.shift(),T(E,J,L,z,C,z),E=C+x.shift(),L=E+x.shift(),$=z+x.shift(),C=L+x.shift(),T(E,z,L,$,C,b);break;case 37:const H=C,W=b;E=C+x.shift(),X=b+x.shift(),L=E+x.shift(),V=X+x.shift(),C=L+x.shift(),b=V+x.shift(),T(E,X,L,V,C,b),E=C+x.shift(),X=b+x.shift(),L=E+x.shift(),V=X+x.shift(),C=L,b=V,Math.abs(C-H)>Math.abs(b-W)?C+=x.shift():b+=x.shift(),T(E,X,L,V,C,b);break;default:throw new e.FormatError(`unknown operator: 12 ${U}`)}break;case 14:if(x.length>=4){const H=x.pop(),W=x.pop();b=x.pop(),C=x.pop(),y.push({cmd:"save"},{cmd:"translate",args:[C,b]});let G=l(g.cmap,String.fromCharCode(g.glyphNameMap[S.StandardEncoding[H]]));o(g.glyphs[G.glyphId],y,g,G.glyphId),y.push({cmd:"restore"}),G=l(g.cmap,String.fromCharCode(g.glyphNameMap[S.StandardEncoding[W]])),o(g.glyphs[G.glyphId],y,g,G.glyphId)}return;case 19:case 20:A+=x.length>>1,N+=A+7>>3,M=!0;break;case 21:b+=x.pop(),C+=x.pop(),c(C,b),M=!0;break;case 22:C+=x.pop(),c(C,b),M=!0;break;case 24:for(;x.length>2;)E=C+x.shift(),X=b+x.shift(),L=E+x.shift(),V=X+x.shift(),C=L+x.shift(),b=V+x.shift(),T(E,X,L,V,C,b);C+=x.shift(),b+=x.shift(),P(C,b);break;case 25:for(;x.length>6;)C+=x.shift(),b+=x.shift(),P(C,b);E=C+x.shift(),X=b+x.shift(),L=E+x.shift(),V=X+x.shift(),C=L+x.shift(),b=V+x.shift(),T(E,X,L,V,C,b);break;case 26:for(x.length%2&&(C+=x.shift());x.length>0;)E=C,X=b+x.shift(),L=E+x.shift(),V=X+x.shift(),C=L,b=V+x.shift(),T(E,X,L,V,C,b);break;case 27:for(x.length%2&&(b+=x.shift());x.length>0;)E=C+x.shift(),X=b,L=E+x.shift(),V=X+x.shift(),C=L+x.shift(),b=V,T(E,X,L,V,C,b);break;case 28:x.push((F[N]<<24|F[N+1]<<16)>>16),N+=2;break;case 29:q=x.pop()+g.gsubrsBias,j=g.gsubrs[q],j&&R(j);break;case 30:for(;x.length>0&&(E=C,X=b+x.shift(),L=E+x.shift(),V=X+x.shift(),C=L+x.shift(),b=V+(1===x.length?x.shift():0),T(E,X,L,V,C,b),0!==x.length);)E=C+x.shift(),X=b,L=E+x.shift(),V=X+x.shift(),b=V+x.shift(),C=L+(1===x.length?x.shift():0),T(E,X,L,V,C,b);break;case 31:for(;x.length>0&&(E=C+x.shift(),X=b,L=E+x.shift(),V=X+x.shift(),b=V+x.shift(),C=L+(1===x.length?x.shift():0),T(E,X,L,V,C,b),0!==x.length);)E=C,X=b+x.shift(),L=E+x.shift(),V=X+x.shift(),C=L+x.shift(),b=V+(1===x.length?x.shift():0),T(E,X,L,V,C,b);break;default:if(U<32)throw new e.FormatError(`unknown operator: ${U}`);U<247?x.push(U-139):U<251?x.push(256*(U-247)+F[N++]+108):U<255?x.push(256*-(U-251)-F[N++]-108):(x.push((F[N]<<24|F[N+1]<<16|F[N+2]<<8|F[N+3])/65536),N+=4)}M&&(x.length=0)}}(h)}const D=[];class m{constructor(y){this.constructor===m&&(0,e.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=y,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(y){const{charCode:g,glyphId:r}=l(this.cmap,y);let c=this.compiledGlyphs[r];if(!c)try{c=this.compileGlyph(this.glyphs[r],r),this.compiledGlyphs[r]=c}catch(P){throw this.compiledGlyphs[r]=D,void 0===this.compiledCharCodeToGlyphId[g]&&(this.compiledCharCodeToGlyphId[g]=r),P}return void 0===this.compiledCharCodeToGlyphId[g]&&(this.compiledCharCodeToGlyphId[g]=r),c}compileGlyph(y,g){if(!y||0===y.length||14===y[0])return D;let r=this.fontMatrix;if(this.isCFFCIDFont){const P=this.fdSelect.getFDIndex(g);P>=0&&P<this.fdArray.length?r=this.fdArray[P].getByName("FontMatrix")||e.FONT_IDENTITY_MATRIX:(0,e.warn)("Invalid fd index for glyph index.")}const c=[{cmd:"save"},{cmd:"transform",args:r.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(y,c,g),c.push({cmd:"restore"}),c}compileGlyphImpl(){(0,e.unreachable)("Children classes should implement this.")}hasBuiltPath(y){const{charCode:g,glyphId:r}=l(this.cmap,y);return void 0!==this.compiledGlyphs[r]&&void 0!==this.compiledCharCodeToGlyphId[g]}}class O extends m{constructor(y,g,r){super(r||[488e-6,0,0,488e-6,0,0]),this.glyphs=y,this.cmap=g}compileGlyphImpl(y,g){n(y,g,this)}}class B extends m{constructor(y,g,r,c){super(r||[.001,0,0,.001,0,0]),this.glyphs=y.glyphs,this.gsubrs=y.gsubrs||[],this.subrs=y.subrs||[],this.cmap=g,this.glyphNameMap=c||(0,_.getGlyphsUnicode)(),this.gsubrsBias=i(this.gsubrs),this.subrsBias=i(this.subrs),this.isCFFCIDFont=y.isCFFCIDFont,this.fdSelect=y.fdSelect,this.fdArray=y.fdArray}compileGlyphImpl(y,g,r){o(y,g,this,r)}}v.FontRendererFactory=class{static create(y,g){const r=new Uint8Array(y.data);let c,P,T,x,C,b;const A=I(r,4);for(let R=0,F=12;R<A;R++,F+=16){const N=(0,e.bytesToString)(r.subarray(F,F+4)),E=u(r,F+8),L=u(r,F+12);switch(N){case"cmap":c=a(r,E);break;case"glyf":P=r.subarray(E,E+L);break;case"loca":T=r.subarray(E,E+L);break;case"head":b=I(r,E+18),C=I(r,E+50);break;case"CFF ":x=f(r,E,E+L,g)}}if(P){const R=b?[1/b,0,0,1/b,0,0]:y.fontMatrix;return new O(function(N,E,L){let X,V;L?(X=4,V=u):(X=2,V=($,q)=>2*I($,q));const J=[];let z=V(E,0);for(let $=X;$<E.length;$+=X){const q=V(E,$);J.push(N.subarray(z,q)),z=q}return J}(P,T,C),c,R)}return new B(x,c,y.fontMatrix,y.glyphNameMap)}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.getMetrics=v.getFontBasicMetrics=void 0;var e=K(6);const d=(0,e.getLookupTableFactory)(function(S){S.Courier=600,S["Courier-Bold"]=600,S["Courier-BoldOblique"]=600,S["Courier-Oblique"]=600,S.Helvetica=(0,e.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),S["Helvetica-Bold"]=(0,e.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),S["Helvetica-BoldOblique"]=(0,e.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),S["Helvetica-Oblique"]=(0,e.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),S.Symbol=(0,e.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.universal=713,t.numbersign=500,t.existential=549,t.percent=833,t.ampersand=778,t.suchthat=439,t.parenleft=333,t.parenright=333,t.asteriskmath=500,t.plus=549,t.comma=250,t.minus=549,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=549,t.equal=549,t.greater=549,t.question=444,t.congruent=549,t.Alpha=722,t.Beta=667,t.Chi=722,t.Delta=612,t.Epsilon=611,t.Phi=763,t.Gamma=603,t.Eta=722,t.Iota=333,t.theta1=631,t.Kappa=722,t.Lambda=686,t.Mu=889,t.Nu=722,t.Omicron=722,t.Pi=768,t.Theta=741,t.Rho=556,t.Sigma=592,t.Tau=611,t.Upsilon=690,t.sigma1=439,t.Omega=768,t.Xi=645,t.Psi=795,t.Zeta=611,t.bracketleft=333,t.therefore=863,t.bracketright=333,t.perpendicular=658,t.underscore=500,t.radicalex=500,t.alpha=631,t.beta=549,t.chi=549,t.delta=494,t.epsilon=439,t.phi=521,t.gamma=411,t.eta=603,t.iota=329,t.phi1=603,t.kappa=549,t.lambda=549,t.mu=576,t.nu=521,t.omicron=549,t.pi=549,t.theta=521,t.rho=549,t.sigma=603,t.tau=439,t.upsilon=576,t.omega1=713,t.omega=686,t.xi=493,t.psi=686,t.zeta=494,t.braceleft=480,t.bar=200,t.braceright=480,t.similar=549,t.Euro=750,t.Upsilon1=620,t.minute=247,t.lessequal=549,t.fraction=167,t.infinity=713,t.florin=500,t.club=753,t.diamond=753,t.heart=753,t.spade=753,t.arrowboth=1042,t.arrowleft=987,t.arrowup=603,t.arrowright=987,t.arrowdown=603,t.degree=400,t.plusminus=549,t.second=411,t.greaterequal=549,t.multiply=549,t.proportional=713,t.partialdiff=494,t.bullet=460,t.divide=549,t.notequal=549,t.equivalence=549,t.approxequal=549,t.ellipsis=1e3,t.arrowvertex=603,t.arrowhorizex=1e3,t.carriagereturn=658,t.aleph=823,t.Ifraktur=686,t.Rfraktur=795,t.weierstrass=987,t.circlemultiply=768,t.circleplus=768,t.emptyset=823,t.intersection=768,t.union=768,t.propersuperset=713,t.reflexsuperset=713,t.notsubset=713,t.propersubset=713,t.reflexsubset=713,t.element=713,t.notelement=713,t.angle=768,t.gradient=713,t.registerserif=790,t.copyrightserif=790,t.trademarkserif=890,t.product=823,t.radical=549,t.dotmath=250,t.logicalnot=713,t.logicaland=603,t.logicalor=603,t.arrowdblboth=1042,t.arrowdblleft=987,t.arrowdblup=603,t.arrowdblright=987,t.arrowdbldown=603,t.lozenge=494,t.angleleft=329,t.registersans=790,t.copyrightsans=790,t.trademarksans=786,t.summation=713,t.parenlefttp=384,t.parenleftex=384,t.parenleftbt=384,t.bracketlefttp=384,t.bracketleftex=384,t.bracketleftbt=384,t.bracelefttp=494,t.braceleftmid=494,t.braceleftbt=494,t.braceex=494,t.angleright=329,t.integral=274,t.integraltp=686,t.integralex=686,t.integralbt=686,t.parenrighttp=384,t.parenrightex=384,t.parenrightbt=384,t.bracketrighttp=384,t.bracketrightex=384,t.bracketrightbt=384,t.bracerighttp=494,t.bracerightmid=494,t.bracerightbt=494,t.apple=790}),S["Times-Roman"]=(0,e.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=408,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=564,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=564,t.equal=564,t.greater=564,t.question=444,t.at=921,t.A=722,t.B=667,t.C=667,t.D=722,t.E=611,t.F=556,t.G=722,t.H=722,t.I=333,t.J=389,t.K=722,t.L=611,t.M=889,t.N=722,t.O=722,t.P=556,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=722,t.W=944,t.X=722,t.Y=722,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=469,t.underscore=500,t.quoteleft=333,t.a=444,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=500,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=500,t.o=500,t.p=500,t.q=500,t.r=333,t.s=389,t.t=278,t.u=500,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=480,t.bar=200,t.braceright=480,t.asciitilde=541,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=180,t.quotedblleft=444,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=453,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=444,t.quotedblright=444,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=444,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=889,t.ordfeminine=276,t.Lslash=611,t.Oslash=722,t.OE=889,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=444,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=722,t.divide=564,t.Yacute=722,t.Acircumflex=722,t.aacute=444,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=444,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=444,t.Ncommaaccent=722,t.lacute=278,t.agrave=444,t.Tcommaaccent=611,t.Cacute=667,t.atilde=444,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=444,t.Amacron=722,t.rcaron=333,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=556,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=588,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=722,t.Abreve=722,t.multiply=564,t.uacute=500,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=444,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=722,t.Iacute=333,t.plusminus=564,t.brokenbar=200,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=333,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=326,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=444,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=344,t.Kcommaaccent=722,t.Lacute=611,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=722,t.zdotaccent=444,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=500,t.minus=564,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=564,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),S["Times-Bold"]=(0,e.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=1e3,t.ampersand=833,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=930,t.A=722,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=778,t.I=389,t.J=500,t.K=778,t.L=667,t.M=944,t.N=722,t.O=778,t.P=611,t.Q=778,t.R=722,t.S=556,t.T=667,t.U=722,t.V=722,t.W=1e3,t.X=722,t.Y=722,t.Z=667,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=581,t.underscore=500,t.quoteleft=333,t.a=500,t.b=556,t.c=444,t.d=556,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=333,t.k=556,t.l=278,t.m=833,t.n=556,t.o=500,t.p=556,t.q=556,t.r=444,t.s=389,t.t=333,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=394,t.bar=220,t.braceright=394,t.asciitilde=520,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=540,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=300,t.Lslash=667,t.Oslash=778,t.OE=1e3,t.ordmasculine=330,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=556,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=722,t.divide=570,t.Yacute=722,t.Acircumflex=722,t.aacute=500,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=667,t.Cacute=722,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=500,t.Amacron=722,t.rcaron=444,t.ccedilla=444,t.Zdotaccent=667,t.Thorn=611,t.Omacron=778,t.Racute=722,t.Sacute=556,t.dcaron=672,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=570,t.uacute=556,t.Tcaron=667,t.partialdiff=494,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=778,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=444,t.omacron=500,t.Zacute=667,t.Zcaron=667,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=416,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=778,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=300,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=556,t.threequarters=750,t.Scedilla=556,t.lcaron=394,t.Kcommaaccent=778,t.Lacute=667,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=667,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=778,t.degree=400,t.ograve=500,t.Ccaron=722,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=444,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=722,t.Lcommaaccent=667,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=444,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=556,t.minus=570,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=333,t.logicalnot=570,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),S["Times-BoldItalic"]=(0,e.getLookupTableFactory)(function(t){t.space=250,t.exclam=389,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=832,t.A=667,t.B=667,t.C=667,t.D=722,t.E=667,t.F=667,t.G=722,t.H=778,t.I=389,t.J=500,t.K=667,t.L=611,t.M=889,t.N=722,t.O=722,t.P=611,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=667,t.W=889,t.X=667,t.Y=611,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=570,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=556,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=556,t.v=444,t.w=667,t.x=500,t.y=444,t.z=389,t.braceleft=348,t.bar=220,t.braceright=348,t.asciitilde=570,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=500,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=944,t.ordfeminine=266,t.Lslash=611,t.Oslash=722,t.OE=944,t.ordmasculine=300,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=611,t.divide=570,t.Yacute=611,t.Acircumflex=667,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=611,t.Cacute=667,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=556,t.acircumflex=500,t.Amacron=667,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=611,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=608,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=722,t.Agrave=667,t.Abreve=667,t.multiply=570,t.uacute=556,t.Tcaron=611,t.partialdiff=494,t.ydieresis=444,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=722,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=366,t.eogonek=444,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=576,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=382,t.Kcommaaccent=667,t.Lacute=611,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=722,t.zdotaccent=389,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=500,t.minus=606,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=606,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),S["Times-Italic"]=(0,e.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=420,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=675,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=675,t.equal=675,t.greater=675,t.question=500,t.at=920,t.A=611,t.B=611,t.C=667,t.D=722,t.E=611,t.F=611,t.G=722,t.H=722,t.I=333,t.J=444,t.K=667,t.L=556,t.M=833,t.N=667,t.O=722,t.P=611,t.Q=722,t.R=611,t.S=500,t.T=556,t.U=722,t.V=611,t.W=833,t.X=611,t.Y=556,t.Z=556,t.bracketleft=389,t.backslash=278,t.bracketright=389,t.asciicircum=422,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=278,t.g=500,t.h=500,t.i=278,t.j=278,t.k=444,t.l=278,t.m=722,t.n=500,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=500,t.v=444,t.w=667,t.x=444,t.y=444,t.z=389,t.braceleft=400,t.bar=275,t.braceright=400,t.asciitilde=541,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=214,t.quotedblleft=556,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=523,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=556,t.quotedblright=556,t.guillemotright=500,t.ellipsis=889,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=889,t.AE=889,t.ordfeminine=276,t.Lslash=556,t.Oslash=722,t.OE=944,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=667,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=500,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=556,t.divide=675,t.Yacute=556,t.Acircumflex=611,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=500,t.Ncommaaccent=667,t.lacute=278,t.agrave=500,t.Tcommaaccent=556,t.Cacute=667,t.atilde=500,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=611,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=500,t.Amacron=611,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=556,t.Thorn=611,t.Omacron=722,t.Racute=611,t.Sacute=500,t.dcaron=544,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=611,t.Abreve=611,t.multiply=675,t.uacute=500,t.Tcaron=556,t.partialdiff=476,t.ydieresis=444,t.Nacute=667,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=667,t.Iacute=333,t.plusminus=675,t.brokenbar=275,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=389,t.omacron=500,t.Zacute=556,t.Zcaron=556,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=300,t.eogonek=444,t.Uogonek=722,t.Aacute=611,t.Adieresis=611,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=500,t.lcaron=300,t.Kcommaaccent=667,t.Lacute=556,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=500,t.Scommaaccent=500,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=667,t.otilde=500,t.Rcommaaccent=611,t.Lcommaaccent=556,t.Atilde=611,t.Aogonek=611,t.Aring=611,t.Otilde=722,t.zdotaccent=389,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=444,t.minus=675,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=675,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),S.ZapfDingbats=(0,e.getLookupTableFactory)(function(t){t.space=278,t.a1=974,t.a2=961,t.a202=974,t.a3=980,t.a4=719,t.a5=789,t.a119=790,t.a118=791,t.a117=690,t.a11=960,t.a12=939,t.a13=549,t.a14=855,t.a15=911,t.a16=933,t.a105=911,t.a17=945,t.a18=974,t.a19=755,t.a20=846,t.a21=762,t.a22=761,t.a23=571,t.a24=677,t.a25=763,t.a26=760,t.a27=759,t.a28=754,t.a6=494,t.a7=552,t.a8=537,t.a9=577,t.a10=692,t.a29=786,t.a30=788,t.a31=788,t.a32=790,t.a33=793,t.a34=794,t.a35=816,t.a36=823,t.a37=789,t.a38=841,t.a39=823,t.a40=833,t.a41=816,t.a42=831,t.a43=923,t.a44=744,t.a45=723,t.a46=749,t.a47=790,t.a48=792,t.a49=695,t.a50=776,t.a51=768,t.a52=792,t.a53=759,t.a54=707,t.a55=708,t.a56=682,t.a57=701,t.a58=826,t.a59=815,t.a60=789,t.a61=789,t.a62=707,t.a63=687,t.a64=696,t.a65=689,t.a66=786,t.a67=787,t.a68=713,t.a69=791,t.a70=785,t.a71=791,t.a72=873,t.a73=761,t.a74=762,t.a203=762,t.a75=759,t.a204=759,t.a76=892,t.a77=892,t.a78=788,t.a79=784,t.a81=438,t.a82=138,t.a83=277,t.a84=415,t.a97=392,t.a98=392,t.a99=668,t.a100=668,t.a89=390,t.a90=390,t.a93=317,t.a94=317,t.a91=276,t.a92=276,t.a205=509,t.a85=509,t.a206=410,t.a86=410,t.a87=234,t.a88=234,t.a95=334,t.a96=334,t.a101=732,t.a102=544,t.a103=544,t.a104=910,t.a106=667,t.a107=760,t.a108=760,t.a112=776,t.a111=595,t.a110=694,t.a109=626,t.a120=788,t.a121=788,t.a122=788,t.a123=788,t.a124=788,t.a125=788,t.a126=788,t.a127=788,t.a128=788,t.a129=788,t.a130=788,t.a131=788,t.a132=788,t.a133=788,t.a134=788,t.a135=788,t.a136=788,t.a137=788,t.a138=788,t.a139=788,t.a140=788,t.a141=788,t.a142=788,t.a143=788,t.a144=788,t.a145=788,t.a146=788,t.a147=788,t.a148=788,t.a149=788,t.a150=788,t.a151=788,t.a152=788,t.a153=788,t.a154=788,t.a155=788,t.a156=788,t.a157=788,t.a158=788,t.a159=788,t.a160=894,t.a161=838,t.a163=1016,t.a164=458,t.a196=748,t.a165=924,t.a192=748,t.a166=918,t.a167=927,t.a168=928,t.a169=928,t.a170=834,t.a171=873,t.a172=828,t.a173=924,t.a162=924,t.a174=917,t.a175=930,t.a176=931,t.a177=463,t.a178=883,t.a179=836,t.a193=836,t.a180=867,t.a199=867,t.a181=696,t.a200=696,t.a182=874,t.a201=874,t.a183=760,t.a184=946,t.a197=771,t.a185=865,t.a194=771,t.a198=888,t.a186=967,t.a195=888,t.a187=831,t.a188=873,t.a189=927,t.a190=970,t.a191=918})});v.getMetrics=d;const _=(0,e.getLookupTableFactory)(function(S){S.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},S["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},S["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},S["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},S.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},S["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},S["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},S["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},S["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},S["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},S["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},S["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},S.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},S.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});v.getFontBasicMetrics=_},(it,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.GlyfTable=void 0,v.GlyfTable=class{constructor({glyfTable:u,isGlyphLocationsLong:I,locaTable:w,numGlyphs:k}){this.glyphs=[];const s=new DataView(w.buffer,w.byteOffset,w.byteLength),i=new DataView(u.buffer,u.byteOffset,u.byteLength),a=I?4:2;let f=I?s.getUint32(0):2*s.getUint16(0),l=0;for(let n=0;n<k;n++){l+=a;const o=I?s.getUint32(l):2*s.getUint16(l);if(o===f){this.glyphs.push(new K({}));continue}const D=K.parse(f,i);this.glyphs.push(D),f=o}}getSize(){return this.glyphs.reduce((u,I)=>u+(I.getSize()+3&-4),0)}write(){const u=this.getSize(),I=new DataView(new ArrayBuffer(u)),w=u>131070,k=w?4:2,s=new DataView(new ArrayBuffer((this.glyphs.length+1)*k));w?s.setUint32(0,0):s.setUint16(0,0);let i=0,a=0;for(const f of this.glyphs)i+=f.write(i,I),i=i+3&-4,a+=k,w?s.setUint32(a,i):s.setUint16(a,i>>1);return{isLocationLong:w,loca:new Uint8Array(s.buffer),glyf:new Uint8Array(I.buffer)}}scale(u){for(let I=0,w=this.glyphs.length;I<w;I++)this.glyphs[I].scale(u[I])}};class K{constructor({header:u=null,simple:I=null,composites:w=null}){this.header=u,this.simple=I,this.composites=w}static parse(u,I){const[w,k]=e.parse(u,I);if(u+=w,k.numberOfContours<0){const i=[];for(;;){const[a,f]=S.parse(u,I);if(u+=a,i.push(f),!(32&f.flags))break}return new K({header:k,composites:i})}const s=_.parse(u,I,k.numberOfContours);return new K({header:k,simple:s})}getSize(){if(!this.header)return 0;const u=this.simple?this.simple.getSize():this.composites.reduce((I,w)=>I+w.getSize(),0);return this.header.getSize()+u}write(u,I){if(!this.header)return 0;const w=u;if(u+=this.header.write(u,I),this.simple)u+=this.simple.write(u,I);else for(const k of this.composites)u+=k.write(u,I);return u-w}scale(u){if(!this.header)return;const I=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(I,u),this.simple)this.simple.scale(I,u);else for(const w of this.composites)w.scale(I,u)}}class e{constructor({numberOfContours:u,xMin:I,yMin:w,xMax:k,yMax:s}){this.numberOfContours=u,this.xMin=I,this.yMin=w,this.xMax=k,this.yMax=s}static parse(u,I){return[10,new e({numberOfContours:I.getInt16(u),xMin:I.getInt16(u+2),yMin:I.getInt16(u+4),xMax:I.getInt16(u+6),yMax:I.getInt16(u+8)})]}getSize(){return 10}write(u,I){return I.setInt16(u,this.numberOfContours),I.setInt16(u+2,this.xMin),I.setInt16(u+4,this.yMin),I.setInt16(u+6,this.xMax),I.setInt16(u+8,this.yMax),10}scale(u,I){this.xMin=Math.round(u+(this.xMin-u)*I),this.xMax=Math.round(u+(this.xMax-u)*I)}}class d{constructor({flags:u,xCoordinates:I,yCoordinates:w}){this.xCoordinates=I,this.yCoordinates=w,this.flags=u}}class _{constructor({contours:u,instructions:I}){this.contours=u,this.instructions=I}static parse(u,I,w){const k=[];for(let h=0;h<w;h++){const y=I.getUint16(u);u+=2,k.push(y)}const s=k[w-1]+1,i=I.getUint16(u);u+=2;const a=new Uint8Array(I).slice(u,u+i);u+=i;const f=[];for(let h=0;h<s;u++,h++){let y=I.getUint8(u);if(f.push(y),8&y){const g=I.getUint8(++u);y^=8;for(let r=0;r<g;r++)f.push(y);h+=g}}const l=[];let n=[],o=[],D=[];const m=[];let O=0,B=0;for(let h=0;h<s;h++){const y=f[h];if(2&y){const g=I.getUint8(u++);B+=16&y?g:-g,n.push(B)}else 16&y||(B+=I.getInt16(u),u+=2),n.push(B);k[O]===h&&(O++,l.push(n),n=[])}B=0,O=0;for(let h=0;h<s;h++){const y=f[h];if(4&y){const g=I.getUint8(u++);B+=32&y?g:-g,o.push(B)}else 32&y||(B+=I.getInt16(u),u+=2),o.push(B);D.push(1&y|64&y),k[O]===h&&(n=l[O],O++,m.push(new d({flags:D,xCoordinates:n,yCoordinates:o})),o=[],D=[])}return new _({contours:m,instructions:a})}getSize(){let u=2*this.contours.length+2+this.instructions.length,I=0,w=0;for(const k of this.contours){u+=k.flags.length;for(let s=0,i=k.xCoordinates.length;s<i;s++){const a=k.xCoordinates[s],f=k.yCoordinates[s];let l=Math.abs(a-I);l>255?u+=2:l>0&&(u+=1),I=a,l=Math.abs(f-w),l>255?u+=2:l>0&&(u+=1),w=f}}return u}write(u,I){const w=u,k=[],s=[],i=[];let a=0,f=0;for(const l of this.contours){for(let n=0,o=l.xCoordinates.length;n<o;n++){let D=l.flags[n];const m=l.xCoordinates[n];let O=m-a;if(0===O)D|=16,k.push(0);else{const h=Math.abs(O);h<=255?(D|=O>=0?18:2,k.push(h)):k.push(O)}a=m;const B=l.yCoordinates[n];if(O=B-f,0===O)D|=32,s.push(0);else{const h=Math.abs(O);h<=255?(D|=O>=0?36:4,s.push(h)):s.push(O)}f=B,i.push(D)}I.setUint16(u,k.length-1),u+=2}I.setUint16(u,this.instructions.length),u+=2,this.instructions.length&&(new Uint8Array(I.buffer,0,I.buffer.byteLength).set(this.instructions,u),u+=this.instructions.length);for(const l of i)I.setUint8(u++,l);for(let l=0,n=k.length;l<n;l++){const o=k[l],D=i[l];2&D?I.setUint8(u++,o):16&D||(I.setInt16(u,o),u+=2)}for(let l=0,n=s.length;l<n;l++){const o=s[l],D=i[l];4&D?I.setUint8(u++,o):32&D||(I.setInt16(u,o),u+=2)}return u-w}scale(u,I){for(const w of this.contours)if(0!==w.xCoordinates.length)for(let k=0,s=w.xCoordinates.length;k<s;k++)w.xCoordinates[k]=Math.round(u+(w.xCoordinates[k]-u)*I)}}class S{constructor({flags:u,glyphIndex:I,argument1:w,argument2:k,transf:s,instructions:i}){this.flags=u,this.glyphIndex=I,this.argument1=w,this.argument2=k,this.transf=s,this.instructions=i}static parse(u,I){const w=u,k=[];let s=I.getUint16(u);const i=I.getUint16(u+2);let a,f;u+=4,1&s?(2&s?(a=I.getInt16(u),f=I.getInt16(u+2)):(a=I.getUint16(u),f=I.getUint16(u+2)),u+=4,s^=1):(2&s?(a=I.getInt8(u),f=I.getInt8(u+1)):(a=I.getUint8(u),f=I.getUint8(u+1)),u+=2),8&s?(k.push(I.getUint16(u)),u+=2):64&s?(k.push(I.getUint16(u),I.getUint16(u+2)),u+=4):128&s&&(k.push(I.getUint16(u),I.getUint16(u+2),I.getUint16(u+4),I.getUint16(u+6)),u+=8);let l=null;if(256&s){const n=I.getUint16(u);u+=2,l=new Uint8Array(I).slice(u,u+n),u+=n}return[u-w,new S({flags:s,glyphIndex:i,argument1:a,argument2:f,transf:k,instructions:l})]}getSize(){let u=4+2*this.transf.length;return 256&this.flags&&(u+=2+this.instructions.length),u+=2,2&this.flags?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(u+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(u+=2),u}write(u,I){const w=u;return 2&this.flags?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=1):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=1),I.setUint16(u,this.flags),I.setUint16(u+2,this.glyphIndex),u+=4,1&this.flags?(2&this.flags?(I.setInt16(u,this.argument1),I.setInt16(u+2,this.argument2)):(I.setUint16(u,this.argument1),I.setUint16(u+2,this.argument2)),u+=4):(I.setUint8(u,this.argument1),I.setUint8(u+1,this.argument2),u+=2),256&this.flags&&(I.setUint16(u,this.instructions.length),u+=2,this.instructions.length&&(new Uint8Array(I.buffer,0,I.buffer.byteLength).set(this.instructions,u),u+=this.instructions.length)),u-w}scale(u,I){}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.OpenTypeFileBuilder=void 0;var e=K(6),d=K(2);function _(I,w,k){I[w]=k>>8&255,I[w+1]=255&k}function S(I,w,k){I[w]=k>>24&255,I[w+1]=k>>16&255,I[w+2]=k>>8&255,I[w+3]=255&k}function t(I,w,k){if(k instanceof Uint8Array)I.set(k,w);else if("string"==typeof k)for(let s=0,i=k.length;s<i;s++)I[w++]=255&k.charCodeAt(s);else for(let s=0,i=k.length;s<i;s++)I[w++]=255&k[s]}class u{constructor(w){this.sfnt=w,this.tables=Object.create(null)}static getSearchParams(w,k){let s=1,i=0;for(;(s^w)>s;)s<<=1,i++;const a=s*k;return{range:a,entry:i,rangeShift:k*w-a}}toArray(){let w=this.sfnt;const k=this.tables,s=Object.keys(k);s.sort();const i=s.length;let a,f,l,n,o,D=12+16*i;const m=[D];for(a=0;a<i;a++)n=k[s[a]],D+=(n.length+3&-4)>>>0,m.push(D);const O=new Uint8Array(D);for(a=0;a<i;a++)n=k[s[a]],t(O,m[a],n);"true"===w&&(w=(0,d.string32)(65536)),O[0]=255&w.charCodeAt(0),O[1]=255&w.charCodeAt(1),O[2]=255&w.charCodeAt(2),O[3]=255&w.charCodeAt(3),_(O,4,i);const B=u.getSearchParams(i,16);for(_(O,6,B.range),_(O,8,B.entry),_(O,10,B.rangeShift),D=12,a=0;a<i;a++){o=s[a],O[D]=255&o.charCodeAt(0),O[D+1]=255&o.charCodeAt(1),O[D+2]=255&o.charCodeAt(2),O[D+3]=255&o.charCodeAt(3);let h=0;for(f=m[a],l=m[a+1];f<l;f+=4)h=h+(0,e.readUint32)(O,f)>>>0;S(O,D+4,h),S(O,D+8,m[a]),S(O,D+12,k[o].length),D+=16}return O}addTable(w,k){if(w in this.tables)throw new Error("Table "+w+" already exists");this.tables[w]=k}}v.OpenTypeFileBuilder=u},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Type1Font=void 0;var e=K(35),d=K(38),_=K(6),S=K(10),t=K(49),u=K(2);function I(w,k,s){const i=w.length,a=k.length,f=i-a;let l=s,n=!1;for(;l<f;){let o=0;for(;o<a&&w[l+o]===k[o];)o++;if(o>=a){for(l+=o;l<i&&(0,_.isWhiteSpace)(w[l]);)l++;n=!0;break}l++}return{found:n,length:l}}v.Type1Font=class{constructor(k,s,i){let a=i.length1,f=i.length2,l=s.peekBytes(6);const n=128===l[0]&&1===l[1];n&&(s.skip(6),a=l[5]<<24|l[4]<<16|l[3]<<8|l[2]);const o=function(g,r){const c=[101,101,120,101,99],P=g.pos;let T,x,C,b;try{T=g.getBytes(r),x=T.length}catch{}if(x===r&&(C=I(T,c,r-2*c.length),C.found&&C.length===r))return{stream:new S.Stream(T),length:r};for((0,u.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),g.pos=P;C=I(g.peekBytes(2048),c,0),0!==C.length;)if(g.pos+=C.length,C.found){b=g.pos-P;break}return g.pos=P,b?{stream:new S.Stream(g.getBytes(b)),length:b}:((0,u.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new S.Stream(g.getBytes(r)),length:r})}(s,a);new t.Type1Parser(o.stream,!1,d.SEAC_ANALYSIS_ENABLED).extractFontHeader(i),n&&(l=s.getBytes(6),f=l[5]<<24|l[4]<<16|l[3]<<8|l[2]);const D=function(g,r){const c=g.getBytes();return{stream:new S.Stream(c),length:c.length}}(s),m=new t.Type1Parser(D.stream,!0,d.SEAC_ANALYSIS_ENABLED).extractFontProgram(i);for(const y in m.properties)i[y]=m.properties[y];const O=m.charstrings,B=this.getType2Charstrings(O),h=this.getType2Subrs(m.subrs);this.charstrings=O,this.data=this.wrap(k,B,this.charstrings,h,i),this.seacs=this.getSeacs(m.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const k=[".notdef"];for(const{glyphName:s}of this.charstrings)k.push(s);return k}getGlyphMapping(k){const s=this.charstrings;if(k.composite){const n=Object.create(null);for(let o=0,D=s.length;o<D;o++)n[k.cMap.charCodeOf(o)]=o+1;return n}const i=[".notdef"];let a,f;for(f=0;f<s.length;f++)i.push(s[f].glyphName);const l=k.builtInEncoding;if(l){a=Object.create(null);for(const n in l)f=i.indexOf(l[n]),f>=0&&(a[n]=f)}return(0,d.type1FontGlyphMapping)(k,a,i)}hasGlyphId(k){return!(k<0||k>=this.numGlyphs)&&(0===k||this.charstrings[k-1].charstring.length>0)}getSeacs(k){const s=[];for(let i=0,a=k.length;i<a;i++){const f=k[i];f.seac&&(s[i+1]=f.seac)}return s}getType2Charstrings(k){const s=[];for(let i=0,a=k.length;i<a;i++)s.push(k[i].charstring);return s}getType2Subrs(k){let s=0;const i=k.length;s=i<1133?107:i<33769?1131:32768;const a=[];let f;for(f=0;f<s;f++)a.push([11]);for(f=0;f<i;f++)a.push(k[f]);return a}wrap(k,s,i,a,f){const l=new e.CFF;l.header=new e.CFFHeader(1,0,4,4),l.names=[k];const n=new e.CFFTopDict;n.setByName("version",391),n.setByName("Notice",392),n.setByName("FullName",393),n.setByName("FamilyName",394),n.setByName("Weight",395),n.setByName("Encoding",null),n.setByName("FontMatrix",f.fontMatrix),n.setByName("FontBBox",f.bbox),n.setByName("charset",null),n.setByName("CharStrings",null),n.setByName("Private",null),l.topDict=n;const o=new e.CFFStrings;o.add("Version 0.11"),o.add("See original notice"),o.add(k),o.add(k),o.add("Medium"),l.strings=o,l.globalSubrIndex=new e.CFFIndex;const D=s.length,m=[".notdef"];let O,B;for(O=0;O<D;O++){const c=i[O].glyphName;-1===e.CFFStandardStrings.indexOf(c)&&o.add(c),m.push(c)}l.charset=new e.CFFCharset(!1,0,m);const h=new e.CFFIndex;for(h.add([139,14]),O=0;O<D;O++)h.add(s[O]);l.charStrings=h;const y=new e.CFFPrivateDict;y.setByName("Subrs",null);const g=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(O=0,B=g.length;O<B;O++){const c=g[O];if(!(c in f.privateData))continue;const P=f.privateData[c];if(Array.isArray(P))for(let T=P.length-1;T>0;T--)P[T]-=P[T-1];y.setByName(c,P)}l.topDict.privateDict=y;const r=new e.CFFIndex;for(O=0,B=a.length;O<B;O++)r.add(a[O]);return y.subrsIndex=r,new e.CFFCompiler(l).compile()}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Type1Parser=void 0;var e=K(37),d=K(6),_=K(10),S=K(2);const t=[4],u=[5],I=[6],w=[7],k=[8],s=[12,35],i=[14],a=[21],f=[22],l=[30],n=[31];class o{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(h,y,g){const r=h.length;let c,P,T,x=!1;for(let C=0;C<r;C++){let b=h[C];if(b<32){switch(12===b&&(b=(b<<8)+h[++C]),b){case 1:case 3:case 9:case 3072:case 3073:case 3074:case 3105:this.stack=[];break;case 4:if(this.flexing){if(this.stack.length<1){x=!0;break}const E=this.stack.pop();this.stack.push(0,E);break}x=this.executeCommand(1,t);break;case 5:x=this.executeCommand(2,u);break;case 6:x=this.executeCommand(1,I);break;case 7:x=this.executeCommand(1,w);break;case 8:x=this.executeCommand(6,k);break;case 10:if(this.stack.length<1){x=!0;break}if(T=this.stack.pop(),!y[T]){x=!0;break}x=this.convert(y[T],y,g);break;case 11:return x;case 13:if(this.stack.length<2){x=!0;break}c=this.stack.pop(),P=this.stack.pop(),this.lsb=P,this.width=c,this.stack.push(c,P),x=this.executeCommand(2,f);break;case 14:this.output.push(i[0]);break;case 21:if(this.flexing)break;x=this.executeCommand(2,a);break;case 22:if(this.flexing){this.stack.push(0);break}x=this.executeCommand(1,f);break;case 30:x=this.executeCommand(4,l);break;case 31:x=this.executeCommand(4,n);break;case 3078:if(g){const E=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-E,x=this.executeCommand(0,i)}else x=this.executeCommand(4,i);break;case 3079:if(this.stack.length<4){x=!0;break}this.stack.pop(),c=this.stack.pop();const A=this.stack.pop();P=this.stack.pop(),this.lsb=P,this.width=c,this.stack.push(c,P,A),x=this.executeCommand(3,a);break;case 3084:if(this.stack.length<2){x=!0;break}const R=this.stack.pop(),F=this.stack.pop();this.stack.push(F/R);break;case 3088:if(this.stack.length<2){x=!0;break}T=this.stack.pop();const N=this.stack.pop();if(0===T&&3===N){const E=this.stack.splice(this.stack.length-17,17);this.stack.push(E[2]+E[0],E[3]+E[1],E[4],E[5],E[6],E[7],E[8],E[9],E[10],E[11],E[12],E[13],E[14]),x=this.executeCommand(13,s,!0),this.flexing=!1,this.stack.push(E[15],E[16])}else 1===T&&0===N&&(this.flexing=!0);break;case 3089:break;default:(0,S.warn)('Unknown type 1 charstring command of "'+b+'"')}if(x)break}else b<=246?b-=139:b=b<=250?256*(b-247)+h[++C]+108:b<=254?-256*(b-251)-h[++C]-108:(255&h[++C])<<24|(255&h[++C])<<16|(255&h[++C])<<8|255&h[++C],this.stack.push(b)}return x}executeCommand(h,y,g){const r=this.stack.length;if(h>r)return!0;const c=r-h;for(let P=c;P<r;P++){let T=this.stack[P];Number.isInteger(T)?this.output.push(28,T>>8&255,255&T):(T=65536*T|0,this.output.push(255,T>>24&255,T>>16&255,T>>8&255,255&T))}return this.output.push(...y),g?this.stack.splice(c,h):this.stack.length=0,!1}}function D(B){return B>=48&&B<=57||B>=65&&B<=70||B>=97&&B<=102}function m(B,h,y){if(y>=B.length)return new Uint8Array(0);let g,r,c=0|h;for(g=0;g<y;g++)c=52845*(B[g]+c)+22719&65535;const P=B.length-y,T=new Uint8Array(P);for(g=y,r=0;r<P;g++,r++){const x=B[g];T[r]=x^c>>8,c=52845*(x+c)+22719&65535}return T}function O(B){return 47===B||91===B||93===B||123===B||125===B||40===B||41===B}v.Type1Parser=class{constructor(h,y,g){if(y){const r=h.getBytes(),c=!((D(r[0])||(0,d.isWhiteSpace)(r[0]))&&D(r[1])&&D(r[2])&&D(r[3])&&D(r[4])&&D(r[5])&&D(r[6])&&D(r[7]));h=new _.Stream(c?m(r,55665,4):function(T,x,C){let b=55665;const A=T.length,R=new Uint8Array(A>>>1);let F,N;for(F=0,N=0;F<A;F++){const E=T[F];if(!D(E))continue;let L;for(F++;F<A&&!D(L=T[F]);)F++;if(F<A){const X=parseInt(String.fromCharCode(E,L),16);R[N++]=X^b>>8,b=52845*(X+b)+22719&65535}}return R.slice(4,N)}(r))}this.seacAnalysisEnabled=!!g,this.stream=h,this.nextChar()}readNumberArray(){this.getToken();const h=[];for(;;){const y=this.getToken();if(null===y||"]"===y||"}"===y)break;h.push(parseFloat(y||0))}return h}readNumber(){const h=this.getToken();return parseFloat(h||0)}readInt(){const h=this.getToken();return 0|parseInt(h||0,10)}readBoolean(){return"true"===this.getToken()?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let h=!1,y=this.currentChar;for(;;){if(-1===y)return null;if(h)10!==y&&13!==y||(h=!1);else if(37===y)h=!0;else if(!(0,d.isWhiteSpace)(y))break;y=this.nextChar()}if(O(y))return this.nextChar(),String.fromCharCode(y);let g="";do{g+=String.fromCharCode(y),y=this.nextChar()}while(y>=0&&!(0,d.isWhiteSpace)(y)&&!O(y));return g}readCharStrings(h,y){return-1===y?h:m(h,4330,y)}extractFontProgram(h){const y=this.stream,g=[],r=[],c=Object.create(null);c.lenIV=4;const P={subrs:[],charstrings:[],properties:{privateData:c}};let T,x,C,b;for(;null!==(T=this.getToken());)if("/"===T)switch(T=this.getToken(),T){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();T=this.getToken(),null!==T&&"end"!==T;){if("/"!==T)continue;const R=this.getToken();x=this.readInt(),this.getToken(),C=x>0?y.getBytes(x):new Uint8Array(0),b=P.properties.privateData.lenIV;const F=this.readCharStrings(C,b);this.nextChar(),T=this.getToken(),"noaccess"===T?this.getToken():"/"===T&&this.prevChar(),r.push({glyph:R,encoded:F})}break;case"Subrs":for(this.readInt(),this.getToken();"dup"===this.getToken();){const R=this.readInt();x=this.readInt(),this.getToken(),C=x>0?y.getBytes(x):new Uint8Array(0),b=P.properties.privateData.lenIV;const F=this.readCharStrings(C,b);this.nextChar(),T=this.getToken(),"noaccess"===T&&this.getToken(),g[R]=F}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":this.readNumberArray();break;case"StemSnapH":case"StemSnapV":P.properties.privateData[T]=this.readNumberArray();break;case"StdHW":case"StdVW":P.properties.privateData[T]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":P.properties.privateData[T]=this.readNumber();break;case"ForceBold":P.properties.privateData[T]=this.readBoolean()}for(const{encoded:A,glyph:R}of r){const F=new o,N=F.convert(A,g,this.seacAnalysisEnabled);let E=F.output;N&&(E=[14]);const L={glyphName:R,charstring:E,width:F.width,lsb:F.lsb,seac:F.seac};if(".notdef"===R?P.charstrings.unshift(L):P.charstrings.push(L),h.builtInEncoding){const X=h.builtInEncoding.indexOf(R);X>-1&&void 0===h.widths[X]&&X>=h.firstChar&&X<=h.lastChar&&(h.widths[X]=F.width)}}return P}extractFontHeader(h){let y;for(;null!==(y=this.getToken());)if("/"===y)switch(y=this.getToken(),y){case"FontMatrix":const g=this.readNumberArray();h.fontMatrix=g;break;case"Encoding":const r=this.getToken();let c;if(/^\d+$/.test(r)){c=[];const T=0|parseInt(r,10);this.getToken();for(let x=0;x<T;x++){for(y=this.getToken();"dup"!==y&&"def"!==y;)if(y=this.getToken(),null===y)return;if("def"===y)break;const C=this.readInt();this.getToken();const b=this.getToken();c[C]=b,this.getToken()}}else c=(0,e.getEncoding)(r);h.builtInEncoding=c;break;case"FontBBox":const P=this.readNumberArray();h.ascent=Math.max(P[3],P[1]),h.descent=Math.min(P[1],P[3]),h.ascentScaled=!0}}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Pattern=void 0,v.getTilingPatternIR=function(m,O,B){const h=O.getArray("Matrix"),y=e.Util.normalizeRect(O.getArray("BBox")),g=O.get("XStep"),r=O.get("YStep"),c=O.get("PaintType"),P=O.get("TilingType");if(y[2]-y[0]==0||y[3]-y[1]==0)throw new e.FormatError(`Invalid getTilingPatternIR /BBox array: [${y}].`);return["TilingPattern",B,m,h,y,g,r,c,P]};var e=K(2),d=K(7),_=K(14),S=K(6);v.Pattern=class{constructor(){(0,e.unreachable)("Cannot initialize Pattern.")}static parseShading(m,O,B,h,y,g){const r=m instanceof d.BaseStream?m.dict:m,c=r.get("ShadingType");try{switch(c){case 2:case 3:return new a(r,O,B,y,g);case 4:case 5:case 6:case 7:return new n(m,O,B,y,g);default:throw new e.FormatError("Unsupported ShadingType: "+c)}}catch(P){if(P instanceof S.MissingDataException)throw P;return h.send("UnsupportedFeature",{featureId:e.UNSUPPORTED_FEATURES.shadingPattern}),(0,e.warn)(P),new o}}};class i{static get SMALL_NUMBER(){return(0,e.shadow)(this,"SMALL_NUMBER",1e-6)}constructor(){this.constructor===i&&(0,e.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,e.unreachable)("Abstract method `getIR` called.")}}class a extends i{constructor(m,O,B,h,y){super(),this.coordsArr=m.getArray("Coords"),this.shadingType=m.get("ShadingType");const g=_.ColorSpace.parse({cs:m.getRaw("CS")||m.getRaw("ColorSpace"),xref:O,resources:B,pdfFunctionFactory:h,localColorSpaceCache:y}),r=m.getArray("BBox");this.bbox=Array.isArray(r)&&4===r.length?e.Util.normalizeRect(r):null;let c=0,P=1;if(m.has("Domain")){const X=m.getArray("Domain");c=X[0],P=X[1]}let T=!1,x=!1;if(m.has("Extend")){const X=m.getArray("Extend");T=X[0],x=X[1]}if(!(3!==this.shadingType||T&&x)){const[X,V,J,z,$,q]=this.coordsArr,j=Math.hypot(X-z,V-$);J<=q+j&&q<=J+j&&(0,e.warn)("Unsupported radial gradient.")}this.extendStart=T,this.extendEnd=x;const C=m.getRaw("Function"),b=h.createFromArray(C),A=(P-c)/10,R=this.colorStops=[];if(c>=P||A<=0)return void(0,e.info)("Bad shading domain.");const F=new Float32Array(g.numComps),N=new Float32Array(1);let E;for(let X=0;X<=10;X++){N[0]=c+X*A,b(N,0,F,0),E=g.getRgb(F,0);const V=e.Util.makeHexColor(E[0],E[1],E[2]);R.push([X/10,V])}let L="transparent";m.has("Background")&&(E=g.getRgb(m.get("Background"),0),L=e.Util.makeHexColor(E[0],E[1],E[2])),T||(R.unshift([0,L]),R[1][0]+=i.SMALL_NUMBER),x||(R.at(-1)[0]-=i.SMALL_NUMBER,R.push([1,L])),this.colorStops=R}getIR(){const m=this.coordsArr,O=this.shadingType;let B,h,y,g,r;return 2===O?(h=[m[0],m[1]],y=[m[2],m[3]],g=null,r=null,B="axial"):3===O?(h=[m[0],m[1]],y=[m[3],m[4]],g=m[2],r=m[5],B="radial"):(0,e.unreachable)(`getPattern type unknown: ${O}`),["RadialAxial",B,this.bbox,this.colorStops,h,y,g,r]}}class f{constructor(m,O){this.stream=m,this.context=O,this.buffer=0,this.bufferLength=0,this.tmpCompsBuf=new Float32Array(O.numComps),this.tmpCsCompsBuf=O.colorFn?new Float32Array(O.colorSpace.numComps):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const m=this.stream.getByte();return!(m<0||(this.buffer=m,this.bufferLength=8,0))}readBits(m){let O=this.buffer,B=this.bufferLength;if(32===m){if(0===B)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;O=O<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const h=this.stream.getByte();return this.buffer=h&(1<<B)-1,(O<<8-B|(255&h)>>B)>>>0}if(8===m&&0===B)return this.stream.getByte();for(;B<m;)O=O<<8|this.stream.getByte(),B+=8;return B-=m,this.bufferLength=B,this.buffer=O&(1<<B)-1,O>>B}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const m=this.context.bitsPerCoordinate,O=this.readBits(m),B=this.readBits(m),h=this.context.decode,y=m<32?1/((1<<m)-1):2.3283064365386963e-10;return[O*y*(h[1]-h[0])+h[0],B*y*(h[3]-h[2])+h[2]]}readComponents(){const m=this.context.numComps,O=this.context.bitsPerComponent,B=O<32?1/((1<<O)-1):2.3283064365386963e-10,h=this.context.decode,y=this.tmpCompsBuf;for(let r=0,c=4;r<m;r++,c+=2){const P=this.readBits(O);y[r]=P*B*(h[c+1]-h[c])+h[c]}const g=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(y,0,g,0),this.context.colorSpace.getRgb(g,0)}}const l=function(){const m=[];return function(O){return m[O]||(m[O]=function(h){const y=[];for(let g=0;g<=h;g++){const r=g/h,c=1-r;y.push(new Float32Array([c*c*c,3*r*c*c,3*r*r*c,r*r*r]))}return y}(O)),m[O]}}();class n extends i{static get MIN_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,e.shadow)(this,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3)}static get MAX_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,e.shadow)(this,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20)}static get TRIANGLE_DENSITY(){return(0,e.shadow)(this,"TRIANGLE_DENSITY",20)}constructor(m,O,B,h,y){if(super(),!(m instanceof d.BaseStream))throw new e.FormatError("Mesh data is not a stream");const g=m.dict;this.shadingType=g.get("ShadingType");const r=g.getArray("BBox");this.bbox=Array.isArray(r)&&4===r.length?e.Util.normalizeRect(r):null;const c=_.ColorSpace.parse({cs:g.getRaw("CS")||g.getRaw("ColorSpace"),xref:O,resources:B,pdfFunctionFactory:h,localColorSpaceCache:y});this.background=g.has("Background")?c.getRgb(g.get("Background"),0):null;const P=g.getRaw("Function"),T=P?h.createFromArray(P):null;this.coords=[],this.colors=[],this.figures=[];const x={bitsPerCoordinate:g.get("BitsPerCoordinate"),bitsPerComponent:g.get("BitsPerComponent"),bitsPerFlag:g.get("BitsPerFlag"),decode:g.getArray("Decode"),colorFn:T,colorSpace:c,numComps:T?1:c.numComps},C=new f(m,x);let b=!1;switch(this.shadingType){case 4:this._decodeType4Shading(C);break;case 5:const A=0|g.get("VerticesPerRow");if(A<2)throw new e.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(C,A);break;case 6:this._decodeType6Shading(C),b=!0;break;case 7:this._decodeType7Shading(C),b=!0;break;default:(0,e.unreachable)("Unsupported mesh type.")}if(b){this._updateBounds();for(let A=0,R=this.figures.length;A<R;A++)this._buildFigureFromPatch(A)}this._updateBounds(),this._packData()}_decodeType4Shading(m){const O=this.coords,B=this.colors,h=[],y=[];let g=0;for(;m.hasData;){const r=m.readFlag(),c=m.readCoordinate(),P=m.readComponents();if(0===g){if(!(0<=r&&r<=2))throw new e.FormatError("Unknown type4 flag");switch(r){case 0:g=3;break;case 1:y.push(y.at(-2),y.at(-1)),g=1;break;case 2:y.push(y.at(-3),y.at(-1)),g=1}h.push(r)}y.push(O.length),O.push(c),B.push(P),g--,m.align()}this.figures.push({type:"triangles",coords:new Int32Array(y),colors:new Int32Array(y)})}_decodeType5Shading(m,O){const B=this.coords,h=this.colors,y=[];for(;m.hasData;){const g=m.readCoordinate(),r=m.readComponents();y.push(B.length),B.push(g),h.push(r)}this.figures.push({type:"lattice",coords:new Int32Array(y),colors:new Int32Array(y),verticesPerRow:O})}_decodeType6Shading(m){const O=this.coords,B=this.colors,h=new Int32Array(16),y=new Int32Array(4);for(;m.hasData;){const g=m.readFlag();if(!(0<=g&&g<=3))throw new e.FormatError("Unknown type6 flag");const r=O.length;for(let b=0,A=0!==g?8:12;b<A;b++)O.push(m.readCoordinate());const c=B.length;for(let b=0,A=0!==g?2:4;b<A;b++)B.push(m.readComponents());let P,T,x,C;switch(g){case 0:h[12]=r+3,h[13]=r+4,h[14]=r+5,h[15]=r+6,h[8]=r+2,h[11]=r+7,h[4]=r+1,h[7]=r+8,h[0]=r,h[1]=r+11,h[2]=r+10,h[3]=r+9,y[2]=c+1,y[3]=c+2,y[0]=c,y[1]=c+3;break;case 1:P=h[12],T=h[13],x=h[14],C=h[15],h[12]=C,h[13]=r+0,h[14]=r+1,h[15]=r+2,h[8]=x,h[11]=r+3,h[4]=T,h[7]=r+4,h[0]=P,h[1]=r+7,h[2]=r+6,h[3]=r+5,P=y[2],T=y[3],y[2]=T,y[3]=c,y[0]=P,y[1]=c+1;break;case 2:P=h[15],T=h[11],h[12]=h[3],h[13]=r+0,h[14]=r+1,h[15]=r+2,h[8]=h[7],h[11]=r+3,h[4]=T,h[7]=r+4,h[0]=P,h[1]=r+7,h[2]=r+6,h[3]=r+5,P=y[3],y[2]=y[1],y[3]=c,y[0]=P,y[1]=c+1;break;case 3:h[12]=h[0],h[13]=r+0,h[14]=r+1,h[15]=r+2,h[8]=h[1],h[11]=r+3,h[4]=h[2],h[7]=r+4,h[0]=h[3],h[1]=r+7,h[2]=r+6,h[3]=r+5,y[2]=y[0],y[3]=c,y[0]=y[1],y[1]=c+1}h[5]=O.length,O.push([(-4*O[h[0]][0]-O[h[15]][0]+6*(O[h[4]][0]+O[h[1]][0])-2*(O[h[12]][0]+O[h[3]][0])+3*(O[h[13]][0]+O[h[7]][0]))/9,(-4*O[h[0]][1]-O[h[15]][1]+6*(O[h[4]][1]+O[h[1]][1])-2*(O[h[12]][1]+O[h[3]][1])+3*(O[h[13]][1]+O[h[7]][1]))/9]),h[6]=O.length,O.push([(-4*O[h[3]][0]-O[h[12]][0]+6*(O[h[2]][0]+O[h[7]][0])-2*(O[h[0]][0]+O[h[15]][0])+3*(O[h[4]][0]+O[h[14]][0]))/9,(-4*O[h[3]][1]-O[h[12]][1]+6*(O[h[2]][1]+O[h[7]][1])-2*(O[h[0]][1]+O[h[15]][1])+3*(O[h[4]][1]+O[h[14]][1]))/9]),h[9]=O.length,O.push([(-4*O[h[12]][0]-O[h[3]][0]+6*(O[h[8]][0]+O[h[13]][0])-2*(O[h[0]][0]+O[h[15]][0])+3*(O[h[11]][0]+O[h[1]][0]))/9,(-4*O[h[12]][1]-O[h[3]][1]+6*(O[h[8]][1]+O[h[13]][1])-2*(O[h[0]][1]+O[h[15]][1])+3*(O[h[11]][1]+O[h[1]][1]))/9]),h[10]=O.length,O.push([(-4*O[h[15]][0]-O[h[0]][0]+6*(O[h[11]][0]+O[h[14]][0])-2*(O[h[12]][0]+O[h[3]][0])+3*(O[h[2]][0]+O[h[8]][0]))/9,(-4*O[h[15]][1]-O[h[0]][1]+6*(O[h[11]][1]+O[h[14]][1])-2*(O[h[12]][1]+O[h[3]][1])+3*(O[h[2]][1]+O[h[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(h),colors:new Int32Array(y)})}}_decodeType7Shading(m){const O=this.coords,B=this.colors,h=new Int32Array(16),y=new Int32Array(4);for(;m.hasData;){const g=m.readFlag();if(!(0<=g&&g<=3))throw new e.FormatError("Unknown type7 flag");const r=O.length;for(let b=0,A=0!==g?12:16;b<A;b++)O.push(m.readCoordinate());const c=B.length;for(let b=0,A=0!==g?2:4;b<A;b++)B.push(m.readComponents());let P,T,x,C;switch(g){case 0:h[12]=r+3,h[13]=r+4,h[14]=r+5,h[15]=r+6,h[8]=r+2,h[9]=r+13,h[10]=r+14,h[11]=r+7,h[4]=r+1,h[5]=r+12,h[6]=r+15,h[7]=r+8,h[0]=r,h[1]=r+11,h[2]=r+10,h[3]=r+9,y[2]=c+1,y[3]=c+2,y[0]=c,y[1]=c+3;break;case 1:P=h[12],T=h[13],x=h[14],C=h[15],h[12]=C,h[13]=r+0,h[14]=r+1,h[15]=r+2,h[8]=x,h[9]=r+9,h[10]=r+10,h[11]=r+3,h[4]=T,h[5]=r+8,h[6]=r+11,h[7]=r+4,h[0]=P,h[1]=r+7,h[2]=r+6,h[3]=r+5,P=y[2],T=y[3],y[2]=T,y[3]=c,y[0]=P,y[1]=c+1;break;case 2:P=h[15],T=h[11],h[12]=h[3],h[13]=r+0,h[14]=r+1,h[15]=r+2,h[8]=h[7],h[9]=r+9,h[10]=r+10,h[11]=r+3,h[4]=T,h[5]=r+8,h[6]=r+11,h[7]=r+4,h[0]=P,h[1]=r+7,h[2]=r+6,h[3]=r+5,P=y[3],y[2]=y[1],y[3]=c,y[0]=P,y[1]=c+1;break;case 3:h[12]=h[0],h[13]=r+0,h[14]=r+1,h[15]=r+2,h[8]=h[1],h[9]=r+9,h[10]=r+10,h[11]=r+3,h[4]=h[2],h[5]=r+8,h[6]=r+11,h[7]=r+4,h[0]=h[3],h[1]=r+7,h[2]=r+6,h[3]=r+5,y[2]=y[0],y[3]=c,y[0]=y[1],y[1]=c+1}this.figures.push({type:"patch",coords:new Int32Array(h),colors:new Int32Array(y)})}}_buildFigureFromPatch(m){const O=this.figures[m];(0,e.assert)("patch"===O.type,"Unexpected patch mesh figure");const B=this.coords,h=this.colors,y=O.coords,g=O.colors,r=Math.min(B[y[0]][0],B[y[3]][0],B[y[12]][0],B[y[15]][0]),c=Math.min(B[y[0]][1],B[y[3]][1],B[y[12]][1],B[y[15]][1]),P=Math.max(B[y[0]][0],B[y[3]][0],B[y[12]][0],B[y[15]][0]),T=Math.max(B[y[0]][1],B[y[3]][1],B[y[12]][1],B[y[15]][1]);let x=Math.ceil((P-r)*n.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));x=Math.max(n.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(n.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,x));let C=Math.ceil((T-c)*n.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));C=Math.max(n.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(n.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,C));const b=x+1,A=new Int32Array((C+1)*b),R=new Int32Array((C+1)*b);let F=0;const N=new Uint8Array(3),E=new Uint8Array(3),L=h[g[0]],X=h[g[1]],V=h[g[2]],J=h[g[3]],z=l(C),$=l(x);for(let q=0;q<=C;q++){N[0]=(L[0]*(C-q)+V[0]*q)/C|0,N[1]=(L[1]*(C-q)+V[1]*q)/C|0,N[2]=(L[2]*(C-q)+V[2]*q)/C|0,E[0]=(X[0]*(C-q)+J[0]*q)/C|0,E[1]=(X[1]*(C-q)+J[1]*q)/C|0,E[2]=(X[2]*(C-q)+J[2]*q)/C|0;for(let j=0;j<=x;j++,F++){if(!(0!==q&&q!==C||0!==j&&j!==x))continue;let M=0,U=0,H=0;for(let G=0;G<=3;G++)for(let Y=0;Y<=3;Y++,H++){const tt=z[q][G]*$[j][Y];M+=B[y[H]][0]*tt,U+=B[y[H]][1]*tt}A[F]=B.length,B.push([M,U]),R[F]=h.length;const W=new Uint8Array(3);W[0]=(N[0]*(x-j)+E[0]*j)/x|0,W[1]=(N[1]*(x-j)+E[1]*j)/x|0,W[2]=(N[2]*(x-j)+E[2]*j)/x|0,h.push(W)}}A[0]=y[0],R[0]=g[0],A[x]=y[3],R[x]=g[1],A[b*C]=y[12],R[b*C]=g[2],A[b*C+x]=y[15],R[b*C+x]=g[3],this.figures[m]={type:"lattice",coords:A,colors:R,verticesPerRow:b}}_updateBounds(){let m=this.coords[0][0],O=this.coords[0][1],B=m,h=O;for(let y=1,g=this.coords.length;y<g;y++){const r=this.coords[y][0],c=this.coords[y][1];m=m>r?r:m,O=O>c?c:O,B=B<r?r:B,h=h<c?c:h}this.bounds=[m,O,B,h]}_packData(){let m,O,B,h;const y=this.coords,g=new Float32Array(2*y.length);for(m=0,B=0,O=y.length;m<O;m++){const T=y[m];g[B++]=T[0],g[B++]=T[1]}this.coords=g;const r=this.colors,c=new Uint8Array(3*r.length);for(m=0,B=0,O=r.length;m<O;m++){const T=r[m];c[B++]=T[0],c[B++]=T[1],c[B++]=T[2]}this.colors=c;const P=this.figures;for(m=0,O=P.length;m<O;m++){const T=P[m],x=T.coords,C=T.colors;for(B=0,h=x.length;B<h;B++)x[B]*=2,C[B]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class o extends i{getIR(){return["Dummy"]}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.getXfaFontDict=function(a){const f=function(m){const O=s(m);if(!O)return null;const{baseWidths:B,baseMapping:h,factors:y}=O;let g;g=y?B.map((T,x)=>T*y[x]):B;let r,c=-2;const P=[];for(const[T,x]of h.map((C,b)=>[C,b]).sort(([C],[b])=>C-b))-1!==T&&(T===c+1?(r.push(g[x]),c+=1):(c=T,r=[g[x]],P.push(T,r)));return P}(a),l=new d.Dict(null);l.set("BaseFont",d.Name.get(a)),l.set("Type",d.Name.get("Font")),l.set("Subtype",d.Name.get("CIDFontType2")),l.set("Encoding",d.Name.get("Identity-H")),l.set("CIDToGIDMap",d.Name.get("Identity")),l.set("W",f),l.set("FirstChar",f[0]),l.set("LastChar",f.at(-2)+f.at(-1).length-1);const n=new d.Dict(null);l.set("FontDescriptor",n);const o=new d.Dict(null);return o.set("Ordering","Identity"),o.set("Registry","Adobe"),o.set("Supplement",0),l.set("CIDSystemInfo",o),l},v.getXfaFontName=s;var e=K(52),d=K(5),_=K(53),S=K(54),t=K(55),u=K(56),I=K(6),w=K(38);const k=(0,I.getLookupTableFactory)(function(i){i["MyriadPro-Regular"]=i["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:t.MyriadProRegularFactors,baseWidths:S.LiberationSansRegularWidths,baseMapping:S.LiberationSansRegularMapping,metrics:t.MyriadProRegularMetrics},i["MyriadPro-Bold"]=i["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:t.MyriadProBoldFactors,baseWidths:S.LiberationSansBoldWidths,baseMapping:S.LiberationSansBoldMapping,metrics:t.MyriadProBoldMetrics},i["MyriadPro-It"]=i["MyriadPro-Italic"]=i["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:t.MyriadProItalicFactors,baseWidths:S.LiberationSansItalicWidths,baseMapping:S.LiberationSansItalicMapping,metrics:t.MyriadProItalicMetrics},i["MyriadPro-BoldIt"]=i["MyriadPro-BoldItalic"]=i["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:t.MyriadProBoldItalicFactors,baseWidths:S.LiberationSansBoldItalicWidths,baseMapping:S.LiberationSansBoldItalicMapping,metrics:t.MyriadProBoldItalicMetrics},i.ArialMT=i.Arial=i["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:S.LiberationSansRegularWidths,baseMapping:S.LiberationSansRegularMapping},i["Arial-BoldMT"]=i["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:S.LiberationSansBoldWidths,baseMapping:S.LiberationSansBoldMapping},i["Arial-ItalicMT"]=i["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:S.LiberationSansItalicWidths,baseMapping:S.LiberationSansItalicMapping},i["Arial-BoldItalicMT"]=i["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:S.LiberationSansBoldItalicWidths,baseMapping:S.LiberationSansBoldItalicMapping},i["Calibri-Regular"]={name:"LiberationSans-Regular",factors:e.CalibriRegularFactors,baseWidths:S.LiberationSansRegularWidths,baseMapping:S.LiberationSansRegularMapping,metrics:e.CalibriRegularMetrics},i["Calibri-Bold"]={name:"LiberationSans-Bold",factors:e.CalibriBoldFactors,baseWidths:S.LiberationSansBoldWidths,baseMapping:S.LiberationSansBoldMapping,metrics:e.CalibriBoldMetrics},i["Calibri-Italic"]={name:"LiberationSans-Italic",factors:e.CalibriItalicFactors,baseWidths:S.LiberationSansItalicWidths,baseMapping:S.LiberationSansItalicMapping,metrics:e.CalibriItalicMetrics},i["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:e.CalibriBoldItalicFactors,baseWidths:S.LiberationSansBoldItalicWidths,baseMapping:S.LiberationSansBoldItalicMapping,metrics:e.CalibriBoldItalicMetrics},i["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:u.SegoeuiRegularFactors,baseWidths:S.LiberationSansRegularWidths,baseMapping:S.LiberationSansRegularMapping,metrics:u.SegoeuiRegularMetrics},i["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:u.SegoeuiBoldFactors,baseWidths:S.LiberationSansBoldWidths,baseMapping:S.LiberationSansBoldMapping,metrics:u.SegoeuiBoldMetrics},i["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:u.SegoeuiItalicFactors,baseWidths:S.LiberationSansItalicWidths,baseMapping:S.LiberationSansItalicMapping,metrics:u.SegoeuiItalicMetrics},i["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:u.SegoeuiBoldItalicFactors,baseWidths:S.LiberationSansBoldItalicWidths,baseMapping:S.LiberationSansBoldItalicMapping,metrics:u.SegoeuiBoldItalicMetrics},i["Helvetica-Regular"]=i.Helvetica={name:"LiberationSans-Regular",factors:_.HelveticaRegularFactors,baseWidths:S.LiberationSansRegularWidths,baseMapping:S.LiberationSansRegularMapping,metrics:_.HelveticaRegularMetrics},i["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:_.HelveticaBoldFactors,baseWidths:S.LiberationSansBoldWidths,baseMapping:S.LiberationSansBoldMapping,metrics:_.HelveticaBoldMetrics},i["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:_.HelveticaItalicFactors,baseWidths:S.LiberationSansItalicWidths,baseMapping:S.LiberationSansItalicMapping,metrics:_.HelveticaItalicMetrics},i["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:_.HelveticaBoldItalicFactors,baseWidths:S.LiberationSansBoldItalicWidths,baseMapping:S.LiberationSansBoldItalicMapping,metrics:_.HelveticaBoldItalicMetrics}});function s(i){const a=(0,w.normalizeFontName)(i);return k()[a]}},(it,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CalibriRegularMetrics=v.CalibriRegularFactors=v.CalibriItalicMetrics=v.CalibriItalicFactors=v.CalibriBoldMetrics=v.CalibriBoldItalicMetrics=v.CalibriBoldItalicFactors=v.CalibriBoldFactors=void 0,v.CalibriBoldFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],v.CalibriBoldMetrics={lineHeight:1.2207,lineGap:.2207},v.CalibriBoldItalicFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],v.CalibriBoldItalicMetrics={lineHeight:1.2207,lineGap:.2207},v.CalibriItalicFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],v.CalibriItalicMetrics={lineHeight:1.2207,lineGap:.2207},v.CalibriRegularFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1],v.CalibriRegularMetrics={lineHeight:1.2207,lineGap:.2207}},(it,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.HelveticaRegularMetrics=v.HelveticaRegularFactors=v.HelveticaItalicMetrics=v.HelveticaItalicFactors=v.HelveticaBoldMetrics=v.HelveticaBoldItalicMetrics=v.HelveticaBoldItalicFactors=v.HelveticaBoldFactors=void 0,v.HelveticaBoldFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],v.HelveticaBoldMetrics={lineHeight:1.2,lineGap:.2},v.HelveticaBoldItalicFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],v.HelveticaBoldItalicMetrics={lineHeight:1.35,lineGap:.2},v.HelveticaItalicFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],v.HelveticaItalicMetrics={lineHeight:1.35,lineGap:.2},v.HelveticaRegularFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],v.HelveticaRegularMetrics={lineHeight:1.2,lineGap:.2}},(it,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.LiberationSansRegularWidths=v.LiberationSansRegularMapping=v.LiberationSansItalicWidths=v.LiberationSansItalicMapping=v.LiberationSansBoldWidths=v.LiberationSansBoldMapping=v.LiberationSansBoldItalicWidths=v.LiberationSansBoldItalicMapping=void 0,v.LiberationSansBoldWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],v.LiberationSansBoldMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],v.LiberationSansBoldItalicWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],v.LiberationSansBoldItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],v.LiberationSansItalicWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],v.LiberationSansItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],v.LiberationSansRegularWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],v.LiberationSansRegularMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]},(it,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.MyriadProRegularMetrics=v.MyriadProRegularFactors=v.MyriadProItalicMetrics=v.MyriadProItalicFactors=v.MyriadProBoldMetrics=v.MyriadProBoldItalicMetrics=v.MyriadProBoldItalicFactors=v.MyriadProBoldFactors=void 0,v.MyriadProBoldFactors=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],v.MyriadProBoldMetrics={lineHeight:1.2,lineGap:.2},v.MyriadProBoldItalicFactors=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],v.MyriadProBoldItalicMetrics={lineHeight:1.2,lineGap:.2},v.MyriadProItalicFactors=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],v.MyriadProItalicMetrics={lineHeight:1.2,lineGap:.2},v.MyriadProRegularFactors=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],v.MyriadProRegularMetrics={lineHeight:1.2,lineGap:.2}},(it,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.SegoeuiRegularMetrics=v.SegoeuiRegularFactors=v.SegoeuiItalicMetrics=v.SegoeuiItalicFactors=v.SegoeuiBoldMetrics=v.SegoeuiBoldItalicMetrics=v.SegoeuiBoldItalicFactors=v.SegoeuiBoldFactors=void 0,v.SegoeuiBoldFactors=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],v.SegoeuiBoldMetrics={lineHeight:1.33008,lineGap:0},v.SegoeuiBoldItalicFactors=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],v.SegoeuiBoldItalicMetrics={lineHeight:1.33008,lineGap:0},v.SegoeuiItalicFactors=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],v.SegoeuiItalicMetrics={lineHeight:1.33008,lineGap:0},v.SegoeuiRegularFactors=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1],v.SegoeuiRegularMetrics={lineHeight:1.33008,lineGap:0}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PostScriptEvaluator=v.PostScriptCompiler=v.PDFFunctionFactory=void 0,v.isPDFFunction=function(r){let c;if("object"!=typeof r)return!1;if(r instanceof e.Dict)c=r;else{if(!(r instanceof S.BaseStream))return!1;c=r.dict}return c.has("FunctionType")};var e=K(5),d=K(2),_=K(58),S=K(7),t=K(59);function u(g){if(!Array.isArray(g))return null;const r=g.length;for(let c=0;c<r;c++)if("number"!=typeof g[c]){const P=new Array(r);for(let T=0;T<r;T++)P[T]=+g[T];return P}return g}v.PDFFunctionFactory=class{constructor({xref:r,isEvalSupported:c=!0}){this.xref=r,this.isEvalSupported=!1!==c}create(r){const c=this.getCached(r);if(c)return c;const P=I.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:r instanceof e.Ref?this.xref.fetch(r):r});return this._cache(r,P),P}createFromArray(r){const c=this.getCached(r);if(c)return c;const P=I.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:r instanceof e.Ref?this.xref.fetch(r):r});return this._cache(r,P),P}getCached(r){let c;if(r instanceof e.Ref?c=r:r instanceof e.Dict?c=r.objId:r instanceof S.BaseStream&&(c=r.dict&&r.dict.objId),c){const P=this._localFunctionCache.getByRef(c);if(P)return P}return null}_cache(r,c){if(!c)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let P;r instanceof e.Ref?P=r:r instanceof e.Dict?P=r.objId:r instanceof S.BaseStream&&(P=r.dict&&r.dict.objId),P&&this._localFunctionCache.set(null,P,c)}get _localFunctionCache(){return(0,d.shadow)(this,"_localFunctionCache",new t.LocalFunctionCache)}};class I{static getSampleArray(r,c,P,T){let x,C,b=1;for(x=0,C=r.length;x<C;x++)b*=r[x];b*=c;const A=new Array(b);let R=0,F=0;const N=1/(2**P-1),E=T.getBytes((b*P+7)/8);let L=0;for(x=0;x<b;x++){for(;R<P;)F<<=8,F|=E[L++],R+=8;R-=P,A[x]=(F>>R)*N,F&=(1<<R)-1}return A}static parse({xref:r,isEvalSupported:c,fn:P}){const T=P.dict||P;switch(T.get("FunctionType")){case 0:return this.constructSampled({xref:r,isEvalSupported:c,fn:P,dict:T});case 1:break;case 2:return this.constructInterpolated({xref:r,isEvalSupported:c,dict:T});case 3:return this.constructStiched({xref:r,isEvalSupported:c,dict:T});case 4:return this.constructPostScript({xref:r,isEvalSupported:c,fn:P,dict:T})}throw new d.FormatError("Unknown type of function")}static parseArray({xref:r,isEvalSupported:c,fnObj:P}){if(!Array.isArray(P))return this.parse({xref:r,isEvalSupported:c,fn:P});const T=[];for(let x=0,C=P.length;x<C;x++)T.push(this.parse({xref:r,isEvalSupported:c,fn:r.fetchIfRef(P[x])}));return function(x,C,b,A){for(let R=0,F=T.length;R<F;R++)T[R](x,C,b,A+R)}}static constructSampled({fn:P,dict:T}){function x(z){const $=z.length,q=[];let j=0;for(let M=0;M<$;M+=2)q[j++]=[z[M],z[M+1]];return q}function C(z,$,q,j,M){return j+(M-j)/(q-$)*(z-$)}let b=u(T.getArray("Domain")),A=u(T.getArray("Range"));if(!b||!A)throw new d.FormatError("No domain or range");const R=b.length/2,F=A.length/2;b=x(b),A=x(A);const N=u(T.getArray("Size")),E=T.get("BitsPerSample"),L=T.get("Order")||1;1!==L&&(0,d.info)("No support for cubic spline interpolation: "+L);let X=u(T.getArray("Encode"));if(X)X=x(X);else{X=[];for(let z=0;z<R;++z)X.push([0,N[z]-1])}let V=u(T.getArray("Decode"));V=V?x(V):A;const J=this.getSampleArray(N,F,E,P);return function($,q,j,M){const U=1<<R,H=new Float64Array(U),W=new Uint32Array(U);let G,Y;for(Y=0;Y<U;Y++)H[Y]=1;let tt=F,Z=1;for(G=0;G<R;++G){const at=b[G][0],st=b[G][1];let nt=C(Math.min(Math.max($[q+G],at),st),at,st,X[G][0],X[G][1]);const ot=N[G];nt=Math.min(Math.max(nt,0),ot-1);const ct=nt<ot-1?Math.floor(nt):nt-1,ht=ct+1-nt,ft=nt-ct,mt=ct*tt,Ct=mt+tt;for(Y=0;Y<U;Y++)Y&Z?(H[Y]*=ft,W[Y]+=Ct):(H[Y]*=ht,W[Y]+=mt);tt*=ot,Z<<=1}for(Y=0;Y<F;++Y){let at=0;for(G=0;G<U;G++)at+=J[W[G]+Y]*H[G];at=C(at,0,1,V[Y][0],V[Y][1]),j[M+Y]=Math.min(Math.max(at,A[Y][0]),A[Y][1])}}}static constructInterpolated({dict:P}){const T=u(P.getArray("C0"))||[0],x=u(P.getArray("C1"))||[1],C=P.get("N"),b=[];for(let R=0,F=T.length;R<F;++R)b.push(x[R]-T[R]);const A=b.length;return function(F,N,E,L){const X=1===C?F[N]:F[N]**C;for(let V=0;V<A;++V)E[L+V]=T[V]+X*b[V]}}static constructStiched({xref:r,isEvalSupported:c,dict:P}){const T=u(P.getArray("Domain"));if(!T)throw new d.FormatError("No domain");if(T.length/2!=1)throw new d.FormatError("Bad domain for stiched function");const x=P.get("Functions"),C=[];for(let F=0,N=x.length;F<N;++F)C.push(this.parse({xref:r,isEvalSupported:c,fn:r.fetchIfRef(x[F])}));const b=u(P.getArray("Bounds")),A=u(P.getArray("Encode")),R=new Float32Array(1);return function(N,E,L,X){const V=(W=T[0],(H=N[E])>(G=T[1])?H=G:H<W&&(H=W),H),J=b.length;var H,W,G;let z;for(z=0;z<J&&!(V<b[z]);++z);let $=T[0];z>0&&($=b[z-1]);let q=T[1];z<b.length&&(q=b[z]);const j=A[2*z];R[0]=$===q?j:j+(V-$)*(A[2*z+1]-j)/(q-$),C[z](R,0,L,X)}}static constructPostScript({isEvalSupported:c,fn:P,dict:T}){const x=u(T.getArray("Domain")),C=u(T.getArray("Range"));if(!x)throw new d.FormatError("No domain.");if(!C)throw new d.FormatError("No range.");const b=new _.PostScriptLexer(P),A=new _.PostScriptParser(b).parse();if(c&&d.FeatureTest.isEvalSupported){const V=(new y).compile(A,x,C);if(V)return new Function("src","srcOffset","dest","destOffset",V)}(0,d.info)("Unable to compile PS function");const R=C.length>>1,F=x.length>>1,N=new k(A),E=Object.create(null);let L=8192;const X=new Float32Array(F);return function(J,z,$,q){let j,M,U="";const H=X;for(j=0;j<F;j++)M=J[z+j],H[j]=M,U+=M+"_";const W=E[U];if(void 0!==W)return void $.set(W,q);const G=new Float32Array(R),Y=N.execute(H),tt=Y.length-R;for(j=0;j<R;j++){M=Y[tt+j];let Z=C[2*j];M<Z?M=Z:(Z=C[2*j+1],M>Z&&(M=Z)),G[j]=M}L>0&&(L--,E[U]=G),$.set(G,q)}}}class w{static get MAX_STACK_SIZE(){return(0,d.shadow)(this,"MAX_STACK_SIZE",100)}constructor(r){this.stack=r?Array.prototype.slice.call(r,0):[]}push(r){if(this.stack.length>=w.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(r)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(r){if(this.stack.length+r>=w.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const c=this.stack;for(let P=c.length-r,T=r-1;T>=0;T--,P++)c.push(c[P])}index(r){this.push(this.stack[this.stack.length-r-1])}roll(r,c){const P=this.stack,T=P.length-r,x=P.length-1,C=T+(c-Math.floor(c/r)*r);for(let b=T,A=x;b<A;b++,A--){const R=P[b];P[b]=P[A],P[A]=R}for(let b=T,A=C-1;b<A;b++,A--){const R=P[b];P[b]=P[A],P[A]=R}for(let b=C,A=x;b<A;b++,A--){const R=P[b];P[b]=P[A],P[A]=R}}}class k{constructor(r){this.operators=r}execute(r){const c=new w(r);let P=0;const T=this.operators,x=T.length;let C,b,A;for(;P<x;)if(C=T[P++],"number"!=typeof C)switch(C){case"jz":A=c.pop(),b=c.pop(),b||(P=A);break;case"j":b=c.pop(),P=b;break;case"abs":b=c.pop(),c.push(Math.abs(b));break;case"add":A=c.pop(),b=c.pop(),c.push(b+A);break;case"and":A=c.pop(),b=c.pop(),c.push("boolean"==typeof b&&"boolean"==typeof A?b&&A:b&A);break;case"atan":b=c.pop(),c.push(Math.atan(b));break;case"bitshift":A=c.pop(),b=c.pop(),c.push(b>0?b<<A:b>>A);break;case"ceiling":b=c.pop(),c.push(Math.ceil(b));break;case"copy":b=c.pop(),c.copy(b);break;case"cos":b=c.pop(),c.push(Math.cos(b));break;case"cvi":b=0|c.pop(),c.push(b);break;case"cvr":break;case"div":A=c.pop(),b=c.pop(),c.push(b/A);break;case"dup":c.copy(1);break;case"eq":A=c.pop(),b=c.pop(),c.push(b===A);break;case"exch":c.roll(2,1);break;case"exp":A=c.pop(),b=c.pop(),c.push(b**A);break;case"false":c.push(!1);break;case"floor":b=c.pop(),c.push(Math.floor(b));break;case"ge":A=c.pop(),b=c.pop(),c.push(b>=A);break;case"gt":A=c.pop(),b=c.pop(),c.push(b>A);break;case"idiv":A=c.pop(),b=c.pop(),c.push(b/A|0);break;case"index":b=c.pop(),c.index(b);break;case"le":A=c.pop(),b=c.pop(),c.push(b<=A);break;case"ln":b=c.pop(),c.push(Math.log(b));break;case"log":b=c.pop(),c.push(Math.log(b)/Math.LN10);break;case"lt":A=c.pop(),b=c.pop(),c.push(b<A);break;case"mod":A=c.pop(),b=c.pop(),c.push(b%A);break;case"mul":A=c.pop(),b=c.pop(),c.push(b*A);break;case"ne":A=c.pop(),b=c.pop(),c.push(b!==A);break;case"neg":b=c.pop(),c.push(-b);break;case"not":b=c.pop(),c.push("boolean"==typeof b?!b:~b);break;case"or":A=c.pop(),b=c.pop(),c.push("boolean"==typeof b&&"boolean"==typeof A?b||A:b|A);break;case"pop":c.pop();break;case"roll":A=c.pop(),b=c.pop(),c.roll(b,A);break;case"round":b=c.pop(),c.push(Math.round(b));break;case"sin":b=c.pop(),c.push(Math.sin(b));break;case"sqrt":b=c.pop(),c.push(Math.sqrt(b));break;case"sub":A=c.pop(),b=c.pop(),c.push(b-A);break;case"true":c.push(!0);break;case"truncate":b=c.pop(),b=b<0?Math.ceil(b):Math.floor(b),c.push(b);break;case"xor":A=c.pop(),b=c.pop(),c.push("boolean"==typeof b&&"boolean"==typeof A?b!==A:b^A);break;default:throw new d.FormatError(`Unknown operator ${C}`)}else c.push(C);return c.stack}}v.PostScriptEvaluator=k;class s{constructor(r){this.type=r}visit(r){(0,d.unreachable)("abstract method")}}class i extends s{constructor(r,c,P){super("args"),this.index=r,this.min=c,this.max=P}visit(r){r.visitArgument(this)}}class a extends s{constructor(r){super("literal"),this.number=r,this.min=r,this.max=r}visit(r){r.visitLiteral(this)}}class f extends s{constructor(r,c,P,T,x){super("binary"),this.op=r,this.arg1=c,this.arg2=P,this.min=T,this.max=x}visit(r){r.visitBinaryOperation(this)}}class l extends s{constructor(r,c){super("max"),this.arg=r,this.min=r.min,this.max=c}visit(r){r.visitMin(this)}}class n extends s{constructor(r,c,P){super("var"),this.index=r,this.min=c,this.max=P}visit(r){r.visitVariable(this)}}class o extends s{constructor(r,c){super("definition"),this.variable=r,this.arg=c}visit(r){r.visitVariableDefinition(this)}}class D{constructor(){this.parts=[]}visitArgument(r){this.parts.push("Math.max(",r.min,", Math.min(",r.max,", src[srcOffset + ",r.index,"]))")}visitVariable(r){this.parts.push("v",r.index)}visitLiteral(r){this.parts.push(r.number)}visitBinaryOperation(r){this.parts.push("("),r.arg1.visit(this),this.parts.push(" ",r.op," "),r.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(r){this.parts.push("var "),r.variable.visit(this),this.parts.push(" = "),r.arg.visit(this),this.parts.push(";")}visitMin(r){this.parts.push("Math.min("),r.arg.visit(this),this.parts.push(", ",r.max,")")}toString(){return this.parts.join("")}}function m(g,r){return"literal"===r.type&&0===r.number?g:"literal"===g.type&&0===g.number?r:"literal"===r.type&&"literal"===g.type?new a(g.number+r.number):new f("+",g,r,g.min+r.min,g.max+r.max)}function O(g,r){if("literal"===r.type){if(0===r.number)return new a(0);if(1===r.number)return g;if("literal"===g.type)return new a(g.number*r.number)}if("literal"===g.type){if(0===g.number)return new a(0);if(1===g.number)return r}const c=Math.min(g.min*r.min,g.min*r.max,g.max*r.min,g.max*r.max),P=Math.max(g.min*r.min,g.min*r.max,g.max*r.min,g.max*r.max);return new f("*",g,r,c,P)}function B(g,r){if("literal"===r.type){if(0===r.number)return g;if("literal"===g.type)return new a(g.number-r.number)}return"binary"===r.type&&"-"===r.op&&"literal"===g.type&&1===g.number&&"literal"===r.arg1.type&&1===r.arg1.number?r.arg2:new f("-",g,r,g.min-r.max,g.max-r.min)}function h(g,r){return g.min>=r?new a(r):g.max<=r?g:new l(g,r)}class y{compile(r,c,P){const T=[],x=[],C=c.length>>1,b=P.length>>1;let A,R,F,N,E,L,X,V,J=0;for(let $=0;$<C;$++)T.push(new i($,c[2*$],c[2*$+1]));for(let $=0,q=r.length;$<q;$++)if(V=r[$],"number"!=typeof V)switch(V){case"add":if(T.length<2)return null;N=T.pop(),F=T.pop(),T.push(m(F,N));break;case"cvr":if(T.length<1)return null;break;case"mul":if(T.length<2)return null;N=T.pop(),F=T.pop(),T.push(O(F,N));break;case"sub":if(T.length<2)return null;N=T.pop(),F=T.pop(),T.push(B(F,N));break;case"exch":if(T.length<2)return null;E=T.pop(),L=T.pop(),T.push(E,L);break;case"pop":if(T.length<1)return null;T.pop();break;case"index":if(T.length<1||(F=T.pop(),"literal"!==F.type)||(A=F.number,A<0||!Number.isInteger(A)||T.length<A))return null;if(E=T[T.length-A-1],"literal"===E.type||"var"===E.type){T.push(E);break}X=new n(J++,E.min,E.max),T[T.length-A-1]=X,T.push(X),x.push(new o(X,E));break;case"dup":if(T.length<1)return null;if("number"==typeof r[$+1]&&"gt"===r[$+2]&&r[$+3]===$+7&&"jz"===r[$+4]&&"pop"===r[$+5]&&r[$+6]===r[$+1]){F=T.pop(),T.push(h(F,r[$+1])),$+=6;break}if(E=T.at(-1),"literal"===E.type||"var"===E.type){T.push(E);break}X=new n(J++,E.min,E.max),T[T.length-1]=X,T.push(X),x.push(new o(X,E));break;case"roll":if(T.length<2||(N=T.pop(),F=T.pop(),"literal"!==N.type||"literal"!==F.type)||(R=N.number,A=F.number,A<=0||!Number.isInteger(A)||!Number.isInteger(R)||T.length<A))return null;if(R=(R%A+A)%A,0===R)break;Array.prototype.push.apply(T,T.splice(T.length-A,A-R));break;default:return null}else T.push(new a(V));if(T.length!==b)return null;const z=[];for(const $ of x){const q=new D;$.visit(q),z.push(q.toString())}for(let $=0,q=T.length;$<q;$++){const j=T[$],M=new D;j.visit(M);const U=P[2*$],H=P[2*$+1],W=[M.toString()];U>j.min&&(W.unshift("Math.max(",U,", "),W.push(")")),H<j.max&&(W.unshift("Math.min(",H,", "),W.push(")")),W.unshift("dest[destOffset + ",$,"] = "),W.push(";"),z.push(W.join(""))}return z.join("\n")}}v.PostScriptCompiler=y},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PostScriptParser=v.PostScriptLexer=void 0;var e=K(2),d=K(5),_=K(6);v.PostScriptParser=class{constructor(I){this.lexer=I,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(I){return this.token.type===I&&(this.nextToken(),!0)}expect(I){if(this.accept(I))return!0;throw new e.FormatError(`Unexpected symbol: found ${this.token.type} expected ${I}.`)}parse(){return this.nextToken(),this.expect(S.LBRACE),this.parseBlock(),this.expect(S.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(S.NUMBER))this.operators.push(this.prev.value);else if(this.accept(S.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept(S.LBRACE))return;this.parseCondition()}}parseCondition(){const I=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(S.RBRACE),this.accept(S.IF))this.operators[I]=this.operators.length,this.operators[I+1]="jz";else{if(!this.accept(S.LBRACE))throw new e.FormatError("PS Function: error parsing conditional.");{const w=this.operators.length;this.operators.push(null,null);const k=this.operators.length;this.parseBlock(),this.expect(S.RBRACE),this.expect(S.IFELSE),this.operators[w]=this.operators.length,this.operators[w+1]="j",this.operators[I]=k,this.operators[I+1]="jz"}}}};const S={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class t{static get opCache(){return(0,e.shadow)(this,"opCache",Object.create(null))}constructor(I,w){this.type=I,this.value=w}static getOperator(I){return t.opCache[I]||(t.opCache[I]=new t(S.OPERATOR,I))}static get LBRACE(){return(0,e.shadow)(this,"LBRACE",new t(S.LBRACE,"{"))}static get RBRACE(){return(0,e.shadow)(this,"RBRACE",new t(S.RBRACE,"}"))}static get IF(){return(0,e.shadow)(this,"IF",new t(S.IF,"IF"))}static get IFELSE(){return(0,e.shadow)(this,"IFELSE",new t(S.IFELSE,"IFELSE"))}}v.PostScriptLexer=class{constructor(I){this.stream=I,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let I=!1,w=this.currentChar;for(;;){if(w<0)return d.EOF;if(I)10!==w&&13!==w||(I=!1);else if(37===w)I=!0;else if(!(0,_.isWhiteSpace)(w))break;w=this.nextChar()}switch(0|w){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new t(S.NUMBER,this.getNumber());case 123:return this.nextChar(),t.LBRACE;case 125:return this.nextChar(),t.RBRACE}const k=this.strBuf;for(k.length=0,k[0]=String.fromCharCode(w);(w=this.nextChar())>=0&&(w>=65&&w<=90||w>=97&&w<=122);)k.push(String.fromCharCode(w));const s=k.join("");switch(s.toLowerCase()){case"if":return t.IF;case"ifelse":return t.IFELSE;default:return t.getOperator(s)}}getNumber(){let I=this.currentChar;const w=this.strBuf;for(w.length=0,w[0]=String.fromCharCode(I);(I=this.nextChar())>=0&&(I>=48&&I<=57||45===I||46===I);)w.push(String.fromCharCode(I));const k=parseFloat(w.join(""));if(isNaN(k))throw new e.FormatError(`Invalid floating point number: ${k}`);return k}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.LocalTilingPatternCache=v.LocalImageCache=v.LocalGStateCache=v.LocalFunctionCache=v.LocalColorSpaceCache=v.GlobalImageCache=void 0;var e=K(2),d=K(5);class _{constructor(u){this.constructor===_&&(0,e.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=!0===(u&&u.onlyRefs),this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new d.RefSetCache}getByName(u){this._onlyRefs&&(0,e.unreachable)("Should not call `getByName` method.");const I=this._nameRefMap.get(u);return I?this.getByRef(I):this._imageMap.get(u)||null}getByRef(u){return this._imageCache.get(u)||null}set(u,I,w){(0,e.unreachable)("Abstract method `set` called.")}}v.LocalImageCache=class extends _{set(u,I=null,w){if("string"!=typeof u)throw new Error('LocalImageCache.set - expected "name" argument.');if(I){if(this._imageCache.has(I))return;this._nameRefMap.set(u,I),this._imageCache.put(I,w)}else this._imageMap.has(u)||this._imageMap.set(u,w)}},v.LocalColorSpaceCache=class extends _{set(u=null,I=null,w){if("string"!=typeof u&&!I)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(I){if(this._imageCache.has(I))return;null!==u&&this._nameRefMap.set(u,I),this._imageCache.put(I,w)}else this._imageMap.has(u)||this._imageMap.set(u,w)}},v.LocalFunctionCache=class extends _{constructor(u){super({onlyRefs:!0})}set(u=null,I,w){if(!I)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(I)||this._imageCache.put(I,w)}},v.LocalGStateCache=class extends _{set(u,I=null,w){if("string"!=typeof u)throw new Error('LocalGStateCache.set - expected "name" argument.');if(I){if(this._imageCache.has(I))return;this._nameRefMap.set(u,I),this._imageCache.put(I,w)}else this._imageMap.has(u)||this._imageMap.set(u,w)}},v.LocalTilingPatternCache=class extends _{constructor(u){super({onlyRefs:!0})}set(u=null,I,w){if(!I)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(I)||this._imageCache.put(I,w)}};class S{static get NUM_PAGES_THRESHOLD(){return(0,e.shadow)(this,"NUM_PAGES_THRESHOLD",2)}static get MIN_IMAGES_TO_CACHE(){return(0,e.shadow)(this,"MIN_IMAGES_TO_CACHE",10)}static get MAX_BYTE_SIZE(){return(0,e.shadow)(this,"MAX_BYTE_SIZE",4e7)}constructor(){this._refCache=new d.RefSetCache,this._imageCache=new d.RefSetCache}get _byteSize(){let u=0;for(const I of this._imageCache)u+=I.byteSize;return u}get _cacheLimitReached(){return!(this._imageCache.size<S.MIN_IMAGES_TO_CACHE||this._byteSize<S.MAX_BYTE_SIZE)}shouldCache(u,I){const w=this._refCache.get(u);return!((w?w.size+(w.has(I)?0:1):1)<S.NUM_PAGES_THRESHOLD||!this._imageCache.has(u)&&this._cacheLimitReached)}addPageIndex(u,I){let w=this._refCache.get(u);w||(w=new Set,this._refCache.put(u,w)),w.add(I)}addByteSize(u,I){const w=this._imageCache.get(u);w&&(w.byteSize||(w.byteSize=I))}getData(u,I){const w=this._refCache.get(u);if(!w||w.size<S.NUM_PAGES_THRESHOLD)return null;const k=this._imageCache.get(u);return k?(w.add(I),k):null}setData(u,I){if(!this._refCache.has(u))throw new Error('GlobalImageCache.setData - expected "addPageIndex" to have been called.');this._imageCache.has(u)||(this._cacheLimitReached?(0,e.warn)("GlobalImageCache.setData - cache limit reached."):this._imageCache.put(u,I))}clear(u=!1){u||this._refCache.clear(),this._imageCache.clear()}}v.GlobalImageCache=S},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.bidi=function(f,l=-1,n=!1){let o=!0;const D=f.length;if(0===D||n)return k(f,o,n);s.length=D,i.length=D;let m,O,B=0;for(m=0;m<D;++m){s[m]=f.charAt(m);const b=f.charCodeAt(m);let A="L";b<=255?A=d[b]:1424<=b&&b<=1524?A="R":1536<=b&&b<=1791?(A=_[255&b],A||(0,e.warn)("Bidi: invalid Unicode character "+b.toString(16))):1792<=b&&b<=2220&&(A="AL"),"R"!==A&&"AL"!==A&&"AN"!==A||B++,i[m]=A}if(0===B)return o=!0,k(f,o);-1===l&&(B/D<.3&&D>4?(o=!0,l=0):(o=!1,l=1));const h=[];for(m=0;m<D;++m)h[m]=l;const y=S(l)?"R":"L",g=y,r=g;let c,P=g;for(m=0;m<D;++m)"NSM"===i[m]?i[m]=P:P=i[m];for(P=g,m=0;m<D;++m)c=i[m],"EN"===c?i[m]="AL"===P?"AN":"EN":"R"!==c&&"L"!==c&&"AL"!==c||(P=c);for(m=0;m<D;++m)c=i[m],"AL"===c&&(i[m]="R");for(m=1;m<D-1;++m)"ES"===i[m]&&"EN"===i[m-1]&&"EN"===i[m+1]&&(i[m]="EN"),"CS"!==i[m]||"EN"!==i[m-1]&&"AN"!==i[m-1]||i[m+1]!==i[m-1]||(i[m]=i[m-1]);for(m=0;m<D;++m)if("EN"===i[m]){for(let b=m-1;b>=0&&"ET"===i[b];--b)i[b]="EN";for(let b=m+1;b<D&&"ET"===i[b];++b)i[b]="EN"}for(m=0;m<D;++m)c=i[m],"WS"!==c&&"ES"!==c&&"ET"!==c&&"CS"!==c||(i[m]="ON");for(P=g,m=0;m<D;++m)c=i[m],"EN"===c?i[m]="L"===P?"L":"EN":"R"!==c&&"L"!==c||(P=c);for(m=0;m<D;++m)if("ON"===i[m]){const b=u(i,m+1,"ON");let A=g;m>0&&(A=i[m-1]);let R=r;b+1<D&&(R=i[b+1]),"L"!==A&&(A="R"),"L"!==R&&(R="R"),A===R&&I(i,m,b,A),m=b-1}for(m=0;m<D;++m)"ON"===i[m]&&(i[m]=y);for(m=0;m<D;++m)c=i[m],1&h[m]?"L"!==c&&"AN"!==c&&"EN"!==c||(h[m]+=1):"R"===c?h[m]+=1:"AN"!==c&&"EN"!==c||(h[m]+=2);let T,x=-1,C=99;for(m=0,O=h.length;m<O;++m)T=h[m],x<T&&(x=T),C>T&&S(T)&&(C=T);for(T=x;T>=C;--T){let b=-1;for(m=0,O=h.length;m<O;++m)h[m]<T?b>=0&&(w(s,b,m),b=-1):b<0&&(b=m);b>=0&&w(s,b,h.length)}for(m=0,O=s.length;m<O;++m){const b=s[m];"<"!==b&&">"!==b||(s[m]="")}return k(s.join(""),o)};var e=K(2);const d=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],_=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function S(a){return!!(1&a)}function u(a,f,l){let n,o;for(n=f,o=a.length;n<o;++n)if(a[n]!==l)return n;return n}function I(a,f,l,n){for(let o=f;o<l;++o)a[o]=n}function w(a,f,l){for(let n=f,o=l-1;n<o;++n,--o){const D=a[n];a[n]=a[o],a[o]=D}}function k(a,f,l=!1){let n="ltr";return l?n="ttb":f||(n="rtl"),{str:a,dir:n}}const s=[],i=[]},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.MurmurHash3_64=void 0;var e=K(2);const d=3285377520,_=4294901760,S=65535;v.MurmurHash3_64=class{constructor(u){this.h1=u?4294967295&u:d,this.h2=u?4294967295&u:d}update(u){let I,w;if("string"==typeof u){I=new Uint8Array(2*u.length),w=0;for(let B=0,h=u.length;B<h;B++){const y=u.charCodeAt(B);y<=255?I[w++]=y:(I[w++]=y>>>8,I[w++]=255&y)}}else{if(!(0,e.isArrayBuffer)(u))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");I=u.slice(),w=I.byteLength}const k=w>>2,s=w-4*k,i=new Uint32Array(I.buffer,0,k);let a=0,f=0,l=this.h1,n=this.h2;const o=3432918353,D=461845907,m=11601,O=13715;for(let B=0;B<k;B++)1&B?(a=i[B],a=a*o&_|a*m&S,a=a<<15|a>>>17,a=a*D&_|a*O&S,l^=a,l=l<<13|l>>>19,l=5*l+3864292196):(f=i[B],f=f*o&_|f*m&S,f=f<<15|f>>>17,f=f*D&_|f*O&S,n^=f,n=n<<13|n>>>19,n=5*n+3864292196);switch(a=0,s){case 3:a^=I[4*k+2]<<16;case 2:a^=I[4*k+1]<<8;case 1:a^=I[4*k],a=a*o&_|a*m&S,a=a<<15|a>>>17,a=a*D&_|a*O&S,1&k?l^=a:n^=a}this.h1=l,this.h2=n}hexdigest(){let u=this.h1,I=this.h2;u^=I>>>1,u=3981806797*u&_|36045*u&S,I=4283543511*I&_|(2950163797*(I<<16|u>>>16)&_)>>>16,u^=I>>>1,u=444984403*u&_|60499*u&S,I=3301882366*I&_|(3120437893*(I<<16|u>>>16)&_)>>>16,u^=I>>>1;const w=(u>>>0).toString(16),k=(I>>>0).toString(16);return w.padStart(8,"0")+k.padStart(8,"0")}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.OperatorList=void 0;var e=K(2);function d(I,w,k,s,i){let a=I;for(let f=0,l=w.length-1;f<l;f++){const n=w[f];a=a[n]||(a[n]=[])}a[w.at(-1)]={checkFn:k,iterateFn:s,processFn:i}}const _=[];d(_,[e.OPS.save,e.OPS.transform,e.OPS.paintInlineImageXObject,e.OPS.restore],null,function(w,k){const s=w.fnArray,i=(k-(w.iCurr-3))%4;switch(i){case 0:return s[k]===e.OPS.save;case 1:return s[k]===e.OPS.transform;case 2:return s[k]===e.OPS.paintInlineImageXObject;case 3:return s[k]===e.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${i}`)},function(w,k){const s=w.fnArray,i=w.argsArray,a=w.iCurr,f=a-3,l=a-2,n=a-1,o=Math.min(Math.floor((k-f)/4),200);if(o<10)return k-(k-f)%4;let D=0;const m=[];let O=0,B=1,h=1;for(let P=0;P<o;P++){const T=i[l+(P<<2)],x=i[n+(P<<2)][0];B+x.width>1e3&&(D=Math.max(D,B),h+=O+2,B=0,O=0),m.push({transform:T,x:B,y:h,w:x.width,h:x.height}),B+=x.width+2,O=Math.max(O,x.height)}const y=Math.max(D,B)+1,g=h+O+1,r=new Uint8Array(y*g*4),c=y<<2;for(let P=0;P<o;P++){const T=i[n+(P<<2)][0].data,x=m[P].w<<2;let C=0,b=m[P].x+m[P].y*y<<2;r.set(T.subarray(0,x),b-c);for(let A=0,R=m[P].h;A<R;A++)r.set(T.subarray(C,C+x),b),C+=x,b+=c;for(r.set(T.subarray(C-x,C),b);b>=0;)T[b-4]=T[b],T[b-3]=T[b+1],T[b-2]=T[b+2],T[b-1]=T[b+3],T[b+x]=T[b+x-4],T[b+x+1]=T[b+x-3],T[b+x+2]=T[b+x-2],T[b+x+3]=T[b+x-1],b-=c}return s.splice(f,4*o,e.OPS.paintInlineImageXObjectGroup),i.splice(f,4*o,[{width:y,height:g,kind:e.ImageKind.RGBA_32BPP,data:r},m]),f+1}),d(_,[e.OPS.save,e.OPS.transform,e.OPS.paintImageMaskXObject,e.OPS.restore],null,function(w,k){const s=w.fnArray,i=(k-(w.iCurr-3))%4;switch(i){case 0:return s[k]===e.OPS.save;case 1:return s[k]===e.OPS.transform;case 2:return s[k]===e.OPS.paintImageMaskXObject;case 3:return s[k]===e.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${i}`)},function(w,k){const s=w.fnArray,i=w.argsArray,a=w.iCurr,f=a-3,l=a-2,n=a-1;let o=Math.floor((k-f)/4);if(o<10)return k-(k-f)%4;let D,m,O=!1;const B=i[n][0],h=i[l][0],y=i[l][1],g=i[l][2],r=i[l][3];if(y===g){O=!0,D=l+4;let c=n+4;for(let P=1;P<o;P++,D+=4,c+=4)if(m=i[D],i[c][0]!==B||m[0]!==h||m[1]!==y||m[2]!==g||m[3]!==r){P<10?O=!1:o=P;break}}if(O){o=Math.min(o,1e3);const c=new Float32Array(2*o);D=l;for(let P=0;P<o;P++,D+=4)m=i[D],c[P<<1]=m[4],c[1+(P<<1)]=m[5];s.splice(f,4*o,e.OPS.paintImageMaskXObjectRepeat),i.splice(f,4*o,[B,h,y,g,r,c])}else{o=Math.min(o,100);const c=[];for(let P=0;P<o;P++){m=i[l+(P<<2)];const T=i[n+(P<<2)][0];c.push({data:T.data,width:T.width,height:T.height,interpolate:T.interpolate,count:T.count,transform:m})}s.splice(f,4*o,e.OPS.paintImageMaskXObjectGroup),i.splice(f,4*o,[c])}return f+1}),d(_,[e.OPS.save,e.OPS.transform,e.OPS.paintImageXObject,e.OPS.restore],function(I){const w=I.argsArray,k=I.iCurr-2;return 0===w[k][1]&&0===w[k][2]},function(w,k){const s=w.fnArray,i=w.argsArray,a=(k-(w.iCurr-3))%4;switch(a){case 0:return s[k]===e.OPS.save;case 1:if(s[k]!==e.OPS.transform)return!1;const f=w.iCurr-2;return i[k][0]===i[f][0]&&0===i[k][1]&&0===i[k][2]&&i[k][3]===i[f][3];case 2:return s[k]===e.OPS.paintImageXObject&&i[k][0]===i[w.iCurr-1][0];case 3:return s[k]===e.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${a}`)},function(I,w){const k=I.fnArray,s=I.argsArray,i=I.iCurr,a=i-3,f=i-2,l=s[i-1][0],n=s[f][0],o=s[f][3],D=Math.min(Math.floor((w-a)/4),1e3);if(D<3)return w-(w-a)%4;const m=new Float32Array(2*D);let O=f;for(let h=0;h<D;h++,O+=4){const y=s[O];m[h<<1]=y[4],m[1+(h<<1)]=y[5]}const B=[l,n,o,m];return k.splice(a,4*D,e.OPS.paintImageXObjectRepeat),s.splice(a,4*D,B),a+1}),d(_,[e.OPS.beginText,e.OPS.setFont,e.OPS.setTextMatrix,e.OPS.showText,e.OPS.endText],null,function(w,k){const s=w.fnArray,i=w.argsArray,a=(k-(w.iCurr-4))%5;switch(a){case 0:return s[k]===e.OPS.beginText;case 1:return s[k]===e.OPS.setFont;case 2:return s[k]===e.OPS.setTextMatrix;case 3:if(s[k]!==e.OPS.showText)return!1;const f=w.iCurr-3;return i[k][0]===i[f][0]&&i[k][1]===i[f][1];case 4:return s[k]===e.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${a}`)},function(I,w){const k=I.fnArray,s=I.argsArray,i=I.iCurr,a=i-4,f=i-3,l=i-2,n=i-1,o=i,D=s[f][0],m=s[f][1];let O=Math.min(Math.floor((w-a)/5),1e3);if(O<3)return w-(w-a)%5;let B=a;a>=4&&k[a-4]===k[f]&&k[a-3]===k[l]&&k[a-2]===k[n]&&k[a-1]===k[o]&&s[a-4][0]===D&&s[a-4][1]===m&&(O++,B-=5);let h=B+4;for(let y=1;y<O;y++)k.splice(h,3),s.splice(h,3),h+=2;return h+1});class S{constructor(w){this.queue=w}_optimize(){}push(w,k){this.queue.fnArray.push(w),this.queue.argsArray.push(k),this._optimize()}flush(){}reset(){}}class t extends S{constructor(w){super(w),this.state=null,this.context={iCurr:0,fnArray:w.fnArray,argsArray:w.argsArray},this.match=null,this.lastProcessed=0}_optimize(){const w=this.queue.fnArray;let k=this.lastProcessed,s=w.length,i=this.state,a=this.match;if(!i&&!a&&k+1===s&&!_[w[k]])return void(this.lastProcessed=s);const f=this.context;for(;k<s;){if(a){if((0,a.iterateFn)(f,k)){k++;continue}if(k=(0,a.processFn)(f,k+1),s=w.length,a=null,i=null,k>=s)break}i=(i||_)[w[k]],i&&!Array.isArray(i)?(f.iCurr=k,k++,(!i.checkFn||(0,i.checkFn)(f))&&(a=i),i=null):k++}this.state=i,this.match=a,this.lastProcessed=k}flush(){for(;this.match;)this.lastProcessed=(0,this.match.processFn)(this.context,this.queue.fnArray.length),this.match=null,this.state=null,this._optimize()}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class u{static get CHUNK_SIZE(){return(0,e.shadow)(this,"CHUNK_SIZE",1e3)}static get CHUNK_SIZE_ABOUT(){return(0,e.shadow)(this,"CHUNK_SIZE_ABOUT",this.CHUNK_SIZE-5)}constructor(w=0,k){this._streamSink=k,this.fnArray=[],this.argsArray=[],this.optimizer=!k||w&e.RenderingIntentFlag.OPLIST?new S(this):new t(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=k?null:Promise.resolve()}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(w,k){this.optimizer.push(w,k),this.weight++,this._streamSink&&(this.weight>=u.CHUNK_SIZE||this.weight>=u.CHUNK_SIZE_ABOUT&&(w===e.OPS.restore||w===e.OPS.endText))&&this.flush()}addImageOps(w,k,s){void 0!==s&&this.addOp(e.OPS.beginMarkedContentProps,["OC",s]),this.addOp(w,k),void 0!==s&&this.addOp(e.OPS.endMarkedContent,[])}addDependency(w){this.dependencies.has(w)||(this.dependencies.add(w),this.addOp(e.OPS.dependency,[w]))}addDependencies(w){for(const k of w)this.addDependency(k)}addOpList(w){if(w instanceof u){for(const k of w.dependencies)this.dependencies.add(k);for(let k=0,s=w.length;k<s;k++)this.addOp(w.fnArray[k],w.argsArray[k])}else(0,e.warn)('addOpList - ignoring invalid "opList" parameter.')}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const w=[],{fnArray:k,argsArray:s,length:i}=this;for(let a=0;a<i;a++)switch(k[a]){case e.OPS.paintInlineImageXObject:case e.OPS.paintInlineImageXObjectGroup:case e.OPS.paintImageMaskXObject:const f=s[a][0];!f.cached&&f.data&&f.data.buffer instanceof ArrayBuffer&&w.push(f.data.buffer)}return w}flush(w=!1,k=null){this.optimizer.flush();const s=this.length;this._totalLength+=s,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:w,separateAnnots:k,length:s},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}v.OperatorList=u},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PDFImage=void 0;var e=K(2),d=K(64),_=K(7),S=K(14),t=K(19),u=K(27),I=K(30),w=K(5);function k(a,f,l,n){return(a=f+a*l)<0?a=0:a>n&&(a=n),a}function s(a,f,l,n,o,D){const m=o*D;let O;O=f<=8?new Uint8Array(m):f<=16?new Uint16Array(m):new Uint32Array(m);const B=l/o,h=n/D;let y,g,r,c,P=0;const T=new Uint16Array(o),x=l;for(y=0;y<o;y++)T[y]=Math.floor(y*B);for(y=0;y<D;y++)for(r=Math.floor(y*h)*x,g=0;g<o;g++)c=r+T[g],O[P++]=a[c];return O}class i{constructor({xref:f,res:l,image:n,isInline:o=!1,smask:D=null,mask:m=null,isMask:O=!1,pdfFunctionFactory:B,localColorSpaceCache:h}){this.image=n;const y=n.dict,g=y.get("F","Filter");let r;if(g instanceof w.Name)r=g.name;else if(Array.isArray(g)){const x=f.fetchIfRef(g[0]);x instanceof w.Name&&(r=x.name)}switch(r){case"JPXDecode":const x=new I.JpxImage;x.parseImageProperties(n.stream),n.stream.reset(),n.width=x.width,n.height=x.height,n.bitsPerComponent=x.bitsPerComponent,n.numComps=x.componentsCount;break;case"JBIG2Decode":n.bitsPerComponent=1,n.numComps=1}let c=y.get("W","Width"),P=y.get("H","Height");if(Number.isInteger(n.width)&&n.width>0&&Number.isInteger(n.height)&&n.height>0&&(n.width!==c||n.height!==P)&&((0,e.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),c=n.width,P=n.height),c<1||P<1)throw new e.FormatError(`Invalid image width: ${c} or height: ${P}`);this.width=c,this.height=P,this.interpolate=y.get("I","Interpolate"),this.imageMask=y.get("IM","ImageMask")||!1,this.matte=y.get("Matte")||!1;let T=n.bitsPerComponent;if(!T&&(T=y.get("BPC","BitsPerComponent"),!T)){if(!this.imageMask)throw new e.FormatError(`Bits per component missing in image: ${this.imageMask}`);T=1}if(this.bpc=T,!this.imageMask){let x=y.getRaw("CS")||y.getRaw("ColorSpace");if(!x)switch((0,e.info)("JPX images (which do not require color spaces)"),n.numComps){case 1:x=w.Name.get("DeviceGray");break;case 3:x=w.Name.get("DeviceRGB");break;case 4:x=w.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${n.numComps} color components not supported.`)}this.colorSpace=S.ColorSpace.parse({cs:x,xref:f,resources:o?l:null,pdfFunctionFactory:B,localColorSpaceCache:h}),this.numComps=this.colorSpace.numComps}if(this.decode=y.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,T)||O&&!S.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const x=(1<<T)-1;this.decodeCoefficients=[],this.decodeAddends=[];const C=this.colorSpace&&"Indexed"===this.colorSpace.name;for(let b=0,A=0;b<this.decode.length;b+=2,++A){const R=this.decode[b],F=this.decode[b+1];this.decodeCoefficients[A]=C?(F-R)/x:F-R,this.decodeAddends[A]=C?R:x*R}}D?this.smask=new i({xref:f,res:l,image:D,isInline:o,pdfFunctionFactory:B,localColorSpaceCache:h}):m&&(m instanceof _.BaseStream?m.dict.get("IM","ImageMask")?this.mask=new i({xref:f,res:l,image:m,isInline:o,isMask:!0,pdfFunctionFactory:B,localColorSpaceCache:h}):(0,e.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=m)}static async buildImage({xref:f,res:l,image:n,isInline:o=!1,pdfFunctionFactory:D,localColorSpaceCache:m}){const O=n;let B=null,h=null;const y=n.dict.get("SMask"),g=n.dict.get("Mask");return y?y instanceof _.BaseStream?B=y:(0,e.warn)("Unsupported /SMask format."):g&&(g instanceof _.BaseStream||Array.isArray(g)?h=g:(0,e.warn)("Unsupported /Mask format.")),new i({xref:f,res:l,image:O,isInline:o,smask:B,mask:h,pdfFunctionFactory:D,localColorSpaceCache:m})}static createRawMask({imgArray:f,width:l,height:n,imageIsFromDecodeStream:o,inverseDecode:D,interpolate:m}){const O=(l+7>>3)*n,B=f.byteLength;let h,y;if(!o||D&&O!==B?D?(h=new Uint8Array(O),h.set(f),h.fill(255,B)):h=new Uint8Array(f):h=f,D)for(y=0;y<B;y++)h[y]^=255;return{data:h,width:l,height:n,interpolate:m}}static createMask({imgArray:f,width:l,height:n,imageIsFromDecodeStream:o,inverseDecode:D,interpolate:m}){const O=1===l&&1===n&&D===(0===f.length||!!(128&f[0]));if(O)return{isSingleOpaquePixel:O};if(e.FeatureTest.isOffscreenCanvasSupported){const B=new OffscreenCanvas(l,n),h=B.getContext("2d"),y=h.createImageData(l,n);return(0,d.applyMaskImageData)({src:f,dest:y.data,width:l,height:n,inverseDecode:D}),h.putImageData(y,0,0),{data:null,width:l,height:n,interpolate:m,bitmap:B.transferToImageBitmap()}}return this.createRawMask({imgArray:f,width:l,height:n,inverseDecode:D,imageIsFromDecodeStream:o,interpolate:m})}get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)}get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)}decodeBuffer(f){const l=this.bpc,n=this.numComps,o=this.decodeAddends,D=this.decodeCoefficients,m=(1<<l)-1;let O,B;if(1===l){for(O=0,B=f.length;O<B;O++)f[O]=+!f[O];return}let h=0;for(O=0,B=this.width*this.height;O<B;O++)for(let y=0;y<n;y++)f[h]=k(f[h],o[y],D[y],m),h++}getComponents(f){const l=this.bpc;if(8===l)return f;const n=this.width,o=this.height,D=this.numComps,m=n*o*D;let O,B=0;O=l<=8?new Uint8Array(m):l<=16?new Uint16Array(m):new Uint32Array(m);const h=n*D,y=(1<<l)-1;let g,r,c=0;if(1===l){let P,T,x;for(let C=0;C<o;C++){for(T=c+(-8&h),x=c+h;c<T;)r=f[B++],O[c]=r>>7&1,O[c+1]=r>>6&1,O[c+2]=r>>5&1,O[c+3]=r>>4&1,O[c+4]=r>>3&1,O[c+5]=r>>2&1,O[c+6]=r>>1&1,O[c+7]=1&r,c+=8;if(c<x)for(r=f[B++],P=128;c<x;)O[c++]=+!!(r&P),P>>=1}}else{let P=0;for(r=0,c=0,g=m;c<g;++c){for(c%h==0&&(r=0,P=0);P<l;)r=r<<8|f[B++],P+=8;const T=P-l;let x=r>>T;x<0?x=0:x>y&&(x=y),O[c]=x,r&=(1<<T)-1,P=T}}return O}fillOpacity(f,l,n,o,D){const m=this.smask,O=this.mask;let B,h,y,g,r,c;if(m)h=m.width,y=m.height,B=new Uint8ClampedArray(h*y),m.fillGrayBuffer(B),h===l&&y===n||(B=s(B,m.bpc,h,y,l,n));else if(O)if(O instanceof i){for(h=O.width,y=O.height,B=new Uint8ClampedArray(h*y),O.numComps=1,O.fillGrayBuffer(B),g=0,r=h*y;g<r;++g)B[g]=255-B[g];h===l&&y===n||(B=s(B,O.bpc,h,y,l,n))}else{if(!Array.isArray(O))throw new e.FormatError("Unknown mask format.");{B=new Uint8ClampedArray(l*n);const P=this.numComps;for(g=0,r=l*n;g<r;++g){let T=0;const x=g*P;for(c=0;c<P;++c){const C=D[x+c],b=2*c;if(C<O[b]||C>O[b+1]){T=255;break}}B[g]=T}}}if(B)for(g=0,c=3,r=l*o;g<r;++g,c+=4)f[c]=B[g];else for(g=0,c=3,r=l*o;g<r;++g,c+=4)f[c]=255}undoPreblend(f,l,n){const o=this.smask&&this.smask.matte;if(!o)return;const D=this.colorSpace.getRgb(o,0),m=D[0],O=D[1],B=D[2],h=l*n*4;for(let y=0;y<h;y+=4){const g=f[y+3];if(0===g){f[y]=255,f[y+1]=255,f[y+2]=255;continue}const r=255/g;f[y]=(f[y]-m)*r+m,f[y+1]=(f[y+1]-O)*r+O,f[y+2]=(f[y+2]-B)*r+B}}createImageData(f=!1){const l=this.drawWidth,n=this.drawHeight,o={width:l,height:n,interpolate:this.interpolate,kind:0,data:null},m=this.width,O=this.height,B=this.bpc,h=m*this.numComps*B+7>>3;if(!f){let T;if("DeviceGray"===this.colorSpace.name&&1===B?T=e.ImageKind.GRAYSCALE_1BPP:"DeviceRGB"!==this.colorSpace.name||8!==B||this.needsDecode||(T=e.ImageKind.RGB_24BPP),T&&!this.smask&&!this.mask&&l===m&&n===O){if(o.kind=T,o.data=this.getImageBytes(O*h,{}),this.needsDecode){(0,e.assert)(T===e.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const x=o.data;for(let C=0,b=x.length;C<b;C++)x[C]^=255}return o}if(this.image instanceof u.JpegStream&&!this.smask&&!this.mask){let x=O*h;switch(this.colorSpace.name){case"DeviceGray":x*=3;case"DeviceRGB":case"DeviceCMYK":return o.kind=e.ImageKind.RGB_24BPP,o.data=this.getImageBytes(x,{drawWidth:l,drawHeight:n,forceRGB:!0}),o}}}const y=this.getImageBytes(O*h,{internal:!0}),g=0|y.length/h*n/O,r=this.getComponents(y);let c,P;return f||this.smask||this.mask?(o.kind=e.ImageKind.RGBA_32BPP,o.data=new Uint8ClampedArray(l*n*4),c=1,P=!0,this.fillOpacity(o.data,l,n,g,r)):(o.kind=e.ImageKind.RGB_24BPP,o.data=new Uint8ClampedArray(l*n*3),c=0,P=!1),this.needsDecode&&this.decodeBuffer(r),this.colorSpace.fillRgb(o.data,m,O,l,n,g,B,r,c),P&&this.undoPreblend(o.data,l,g),o}fillGrayBuffer(f){const l=this.numComps;if(1!==l)throw new e.FormatError(`Reading gray scale from a color image: ${l}`);const n=this.width,o=this.height,D=this.bpc,O=this.getImageBytes(o*(n*l*D+7>>3),{internal:!0}),B=this.getComponents(O);let h,y;if(1===D){if(y=n*o,this.needsDecode)for(h=0;h<y;++h)f[h]=B[h]-1&255;else for(h=0;h<y;++h)f[h]=255&-B[h];return}this.needsDecode&&this.decodeBuffer(B),y=n*o;const g=255/((1<<D)-1);for(h=0;h<y;++h)f[h]=g*B[h]}getImageBytes(f,{drawWidth:l,drawHeight:n,forceRGB:o=!1,internal:D=!1}){this.image.reset(),this.image.drawWidth=l||this.width,this.image.drawHeight=n||this.height,this.image.forceRGB=!!o;const m=this.image.getBytes(f);return D||this.image instanceof t.DecodeStream?m:((0,e.assert)(m instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(m))}}v.PDFImage=i},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.applyMaskImageData=function({src:_,srcPos:S=0,dest:t,destPos:u=0,width:I,height:w,inverseDecode:k=!1}){const s=e.FeatureTest.isLittleEndian?4278190080:255,[i,a]=k?[0,s]:[s,0],f=I>>3,l=7&I,n=_.length;t=new Uint32Array(t.buffer);for(let o=0;o<w;o++){for(const m=S+f;S<m;S++){const O=S<n?_[S]:255;t[u++]=128&O?a:i,t[u++]=64&O?a:i,t[u++]=32&O?a:i,t[u++]=16&O?a:i,t[u++]=8&O?a:i,t[u++]=4&O?a:i,t[u++]=2&O?a:i,t[u++]=1&O?a:i}if(0===l)continue;const D=S<n?_[S++]:255;for(let m=0;m<l;m++)t[u++]=D&1<<7-m?a:i}return{srcPos:S,destPos:u}};var e=K(2)},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.incrementalUpdate=function({originalData:f,xrefInfo:l,newRefs:n,xref:o=null,hasXfa:D=!1,xfaDatasetsRef:m=null,hasXfaDatasetsEntry:O=!1,acroFormRef:B=null,acroForm:h=null,xfaData:y=null}){D&&function({xfaData:V,xfaDatasetsRef:J,hasXfaDatasetsEntry:z,acroFormRef:$,acroForm:q,newRefs:j,xref:M}){if(null===M)return;if(!z){if(!$)return void(0,e.warn)("XFA - Cannot save it");const G=q.get("XFA"),Y=G.slice();Y.splice(2,0,"datasets"),Y.splice(3,0,J),q.set("XFA",Y);const tt=M.encrypt;let Z=null;tt&&(Z=tt.createCipherTransform($.num,$.gen));const at=[`${$.num} ${$.gen} obj\n`];I(q,at,Z),at.push("\n"),q.set("XFA",G),j.push({ref:$,data:at.join("")})}null===V&&(V=function(Y,tt){const Z=new S.SimpleXMLParser({hasAttributes:!0}).parseFromString(Y);for(const{xfa:st}of tt){if(!st)continue;const{path:nt,value:ot}=st;if(!nt)continue;const ct=Z.documentElement.searchNode((0,_.parseXFAPath)(nt),0);ct?ct.childNodes=Array.isArray(ot)?ot.map(ht=>new S.SimpleDOMNode("value",ht)):[new S.SimpleDOMNode("#text",ot)]:(0,e.warn)(`Node not found for path: ${nt}`)}const at=[];return Z.documentElement.dump(at),at.join("")}(M.fetchIfRef(J).getString(),j));const H=M.encrypt;H&&(V=H.createCipherTransform(J.num,J.gen).encryptString(V)),j.push({ref:J,data:`${J.num} ${J.gen} obj\n<< /Type /EmbeddedFile /Length ${V.length}>>\nstream\n`+V+"\nendstream\nendobj\n"})}({xfaData:y,xfaDatasetsRef:m,hasXfaDatasetsEntry:O,acroFormRef:B,acroForm:h,newRefs:n,xref:o,xrefInfo:l});const g=new d.Dict(null),r=l.newRef;let c,P;const T=f.at(-1);10===T||13===T?(c=[],P=f.length):(c=["\n"],P=f.length+1),g.set("Size",r.num+1),g.set("Prev",l.startXRef),g.set("Type",d.Name.get("XRef")),null!==l.rootRef&&g.set("Root",l.rootRef),null!==l.infoRef&&g.set("Info",l.infoRef),null!==l.encryptRef&&g.set("Encrypt",l.encryptRef),n.push({ref:r,data:""}),n=n.sort((X,V)=>X.ref.num-V.ref.num);const x=[[0,1,65535]],C=[0,1];let b=0;for(const{ref:X,data:V}of n)b=Math.max(b,P),x.push([1,P,Math.min(X.gen,65535)]),P+=V.length,C.push(X.num,1),c.push(V);if(g.set("Index",C),Array.isArray(l.fileIds)&&l.fileIds.length>0){const X=function(J,z){const $=Math.floor(Date.now()/1e3),q=z.filename||"",j=[$.toString(),q,J.toString()];let M=j.reduce((W,G)=>W+G.length,0);for(const W of Object.values(z.info))j.push(W),M+=W.length;const U=new Uint8Array(M);let H=0;for(const W of j)i(W,H,U),H+=W.length;return(0,e.bytesToString)((0,u.calculateMD5)(U))}(P,l);g.set("ID",[l.fileIds[0],X])}const A=[1,Math.ceil(Math.log2(b)/8),2],R=(A[0]+A[1]+A[2])*x.length;g.set("W",A),g.set("Length",R),c.push(`${r.num} ${r.gen} obj\n`),I(g,c,null),c.push(" stream\n");const F=c.reduce((X,V)=>X+V.length,0),N=`\nendstream\nendobj\nstartxref\n${P}\n%%EOF\n`,E=new Uint8Array(f.length+F+R+N.length);E.set(f);let L=f.length;for(const X of c)i(X,L,E),L+=X.length;for(const[X,V,J]of x)L=s(X,A[0],L,E),L=s(V,A[1],L,E),L=s(J,A[2],L,E);return i(N,L,E),E},v.writeDict=I,v.writeObject=function(f,l,n,o){n.push(`${f.num} ${f.gen} obj\n`),l instanceof d.Dict?I(l,n,o):l instanceof t.BaseStream&&w(l,n,o),n.push("\nendobj\n")};var e=K(2),d=K(5),_=K(6),S=K(66),t=K(7),u=K(67);function I(a,f,l){f.push("<<");for(const n of a.getKeys())f.push(` /${(0,_.escapePDFName)(n)} `),k(a.getRaw(n),f,l);f.push(">>")}function w(a,f,l){I(a.dict,f,l),f.push(" stream\n");let n=a.getString();null!==l&&(n=l.encryptString(n)),f.push(n,"\nendstream\n")}function k(a,f,l){a instanceof d.Name?f.push(`/${(0,_.escapePDFName)(a.name)}`):a instanceof d.Ref?f.push(`${a.num} ${a.gen} R`):Array.isArray(a)?function(o,D,m){D.push("[");let O=!0;for(const B of o)O?O=!1:D.push(" "),k(B,D,m);D.push("]")}(a,f,l):"string"==typeof a?(null!==l&&(a=l.encryptString(a)),f.push(`(${(0,e.escapeString)(a)})`)):"number"==typeof a?f.push((0,_.numberToString)(a)):"boolean"==typeof a?f.push(a.toString()):a instanceof d.Dict?I(a,f,l):a instanceof t.BaseStream?w(a,f,l):null===a?f.push("null"):(0,e.warn)(`Unhandled value in writer: ${typeof a}, please file a bug.`)}function s(a,f,l,n){for(let o=f+l-1;o>l-1;o--)n[o]=255&a,a>>=8;return l+f}function i(a,f,l){for(let n=0,o=a.length;n<o;n++)l[f+n]=255&a.charCodeAt(n)}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.XMLParserErrorCode=v.XMLParserBase=v.SimpleXMLParser=v.SimpleDOMNode=void 0;var e=K(6);const d={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function _(u,I){const w=u[I];return" "===w||"\n"===w||"\r"===w||"\t"===w}v.XMLParserErrorCode=d;class S{_resolveEntities(I){return I.replace(/&([^;]+);/g,(w,k)=>{if("#x"===k.substring(0,2))return String.fromCodePoint(parseInt(k.substring(2),16));if("#"===k.substring(0,1))return String.fromCodePoint(parseInt(k.substring(1),10));switch(k){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(k)})}_parseContent(I,w){const k=[];let s=w;function i(){for(;s<I.length&&_(I,s);)++s}for(;s<I.length&&!_(I,s)&&">"!==I[s]&&"/"!==I[s];)++s;const a=I.substring(w,s);for(i();s<I.length&&">"!==I[s]&&"/"!==I[s]&&"?"!==I[s];){i();let f="",l="";for(;s<I.length&&!_(I,s)&&"="!==I[s];)f+=I[s],++s;if(i(),"="!==I[s])return null;++s,i();const n=I[s];if('"'!==n&&"'"!==n)return null;const o=I.indexOf(n,++s);if(o<0)return null;l=I.substring(s,o),k.push({name:f,value:this._resolveEntities(l)}),s=o+1,i()}return{name:a,attributes:k,parsed:s-w}}_parseProcessingInstruction(I,w){let k=w;for(;k<I.length&&!_(I,k)&&">"!==I[k]&&"?"!==I[k]&&"/"!==I[k];)++k;const s=I.substring(w,k);!function(){for(;k<I.length&&_(I,k);)++k}();const i=k;for(;k<I.length&&("?"!==I[k]||">"!==I[k+1]);)++k;return{name:s,value:I.substring(i,k),parsed:k-w}}parseXml(I){let w=0;for(;w<I.length;){let k=w;if("<"===I[w]){let s;switch(++k,I[k]){case"/":if(++k,s=I.indexOf(">",k),s<0)return void this.onError(d.UnterminatedElement);this.onEndElement(I.substring(k,s)),k=s+1;break;case"?":++k;const i=this._parseProcessingInstruction(I,k);if("?>"!==I.substring(k+i.parsed,k+i.parsed+2))return void this.onError(d.UnterminatedXmlDeclaration);this.onPi(i.name,i.value),k+=i.parsed+2;break;case"!":if("--"===I.substring(k+1,k+3)){if(s=I.indexOf("--\x3e",k+3),s<0)return void this.onError(d.UnterminatedComment);this.onComment(I.substring(k+3,s)),k=s+3}else if("[CDATA["===I.substring(k+1,k+8)){if(s=I.indexOf("]]>",k+8),s<0)return void this.onError(d.UnterminatedCdat);this.onCdata(I.substring(k+8,s)),k=s+3}else{if("DOCTYPE"!==I.substring(k+1,k+8))return void this.onError(d.MalformedElement);{const l=I.indexOf("[",k+8);let n=!1;if(s=I.indexOf(">",k+8),s<0)return void this.onError(d.UnterminatedDoctypeDeclaration);if(l>0&&s>l){if(s=I.indexOf("]>",k+8),s<0)return void this.onError(d.UnterminatedDoctypeDeclaration);n=!0}const o=I.substring(k+8,s+(n?1:0));this.onDoctype(o),k=s+(n?2:1)}}break;default:const a=this._parseContent(I,k);if(null===a)return void this.onError(d.MalformedElement);let f=!1;if("/>"===I.substring(k+a.parsed,k+a.parsed+2))f=!0;else if(">"!==I.substring(k+a.parsed,k+a.parsed+1))return void this.onError(d.UnterminatedElement);this.onBeginElement(a.name,a.attributes,f),k+=a.parsed+(f?2:1)}}else{for(;k<I.length&&"<"!==I[k];)k++;const s=I.substring(w,k);this.onText(this._resolveEntities(s))}w=k}}onResolveEntity(I){return`&${I};`}onPi(I,w){}onComment(I){}onCdata(I){}onDoctype(I){}onText(I){}onBeginElement(I,w,k){}onEndElement(I){}onError(I){}}v.XMLParserBase=S;class t{constructor(I,w){this.nodeName=I,this.nodeValue=w,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const I=this.parentNode.childNodes;if(!I)return;const w=I.indexOf(this);return-1!==w?I[w+1]:void 0}get textContent(){return this.childNodes?this.childNodes.map(function(I){return I.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}searchNode(I,w){if(w>=I.length)return this;const k=I[w],s=[];let i=this;for(;;){if(k.name===i.nodeName){if(0!==k.pos){if(0===s.length)return null;{const[a]=s.pop();let f=0;for(const l of a.childNodes)if(k.name===l.nodeName){if(f===k.pos)return l.searchNode(I,w+1);f++}return i.searchNode(I,w+1)}}{const a=i.searchNode(I,w+1);if(null!==a)return a}}if(i.childNodes&&0!==i.childNodes.length)s.push([i,0]),i=i.childNodes[0];else{if(0===s.length)return null;for(;0!==s.length;){const[a,f]=s.pop(),l=f+1;if(l<a.childNodes.length){s.push([a,l]),i=a.childNodes[l];break}}if(0===s.length)return null}}}dump(I){if("#text"!==this.nodeName){if(I.push(`<${this.nodeName}`),this.attributes)for(const w of this.attributes)I.push(` ${w.name}="${(0,e.encodeToXmlString)(w.value)}"`);if(this.hasChildNodes()){I.push(">");for(const w of this.childNodes)w.dump(I);I.push(`</${this.nodeName}>`)}else I.push(this.nodeValue?`>${(0,e.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`:"/>")}else I.push((0,e.encodeToXmlString)(this.nodeValue))}}v.SimpleDOMNode=t,v.SimpleXMLParser=class extends S{constructor({hasAttributes:I=!1,lowerCaseName:w=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=d.NoError,this._hasAttributes=I,this._lowerCaseName=w}parseFromString(I){if(this._currentFragment=[],this._stack=[],this._errorCode=d.NoError,this.parseXml(I),this._errorCode!==d.NoError)return;const[w]=this._currentFragment;return w?{documentElement:w}:void 0}onText(I){if(function(s){for(let i=0,a=s.length;i<a;i++)if(!_(s,i))return!1;return!0}(I))return;const w=new t("#text",I);this._currentFragment.push(w)}onCdata(I){const w=new t("#text",I);this._currentFragment.push(w)}onBeginElement(I,w,k){this._lowerCaseName&&(I=I.toLowerCase());const s=new t(I);s.childNodes=[],this._hasAttributes&&(s.attributes=w),this._currentFragment.push(s),k||(this._stack.push(this._currentFragment),this._currentFragment=s.childNodes)}onEndElement(I){this._currentFragment=this._stack.pop()||[];const w=this._currentFragment.at(-1);if(!w)return null;for(let k=0,s=w.childNodes.length;k<s;k++)w.childNodes[k].parentNode=w;return w}onError(I){this._errorCode=I}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.calculateSHA256=v.calculateMD5=v.PDF20=v.PDF17=v.CipherTransformFactory=v.ARCFourCipher=v.AES256Cipher=v.AES128Cipher=void 0,v.calculateSHA384=k,v.calculateSHA512=void 0;var e=K(2),d=K(5),_=K(68);class S{constructor(O){this.a=0,this.b=0;const B=new Uint8Array(256),h=O.length;for(let y=0;y<256;++y)B[y]=y;for(let y=0,g=0;y<256;++y){const r=B[y];g=g+r+O[y%h]&255,B[y]=B[g],B[g]=r}this.s=B}encryptBlock(O){let B=this.a,h=this.b;const y=this.s,g=O.length,r=new Uint8Array(g);for(let c=0;c<g;++c){B=B+1&255;const P=y[B];h=h+P&255;const T=y[h];y[B]=T,y[h]=P,r[c]=O[c]^y[P+T&255]}return this.a=B,this.b=h,r}decryptBlock(O){return this.encryptBlock(O)}encrypt(O){return this.encryptBlock(O)}}v.ARCFourCipher=S;const t=function(){const O=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),B=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);return function(y,g,r){let c=1732584193,P=-271733879,T=-1732584194,x=271733878;const C=r+72&-64,b=new Uint8Array(C);let A,R;for(A=0;A<r;++A)b[A]=y[g++];b[A++]=128;const F=C-8;for(;A<F;)b[A++]=0;b[A++]=r<<3&255,b[A++]=r>>5&255,b[A++]=r>>13&255,b[A++]=r>>21&255,b[A++]=r>>>29&255,b[A++]=0,b[A++]=0,b[A++]=0;const N=new Int32Array(16);for(A=0;A<C;){for(R=0;R<16;++R,A+=4)N[R]=b[A]|b[A+1]<<8|b[A+2]<<16|b[A+3]<<24;let E,L,X=c,V=P,J=T,z=x;for(R=0;R<64;++R){R<16?(E=V&J|~V&z,L=R):R<32?(E=z&V|~z&J,L=5*R+1&15):R<48?(E=V^J^z,L=3*R+5&15):(E=J^(V|~z),L=7*R&15);const $=z,q=X+E+B[R]+N[L]|0,j=O[R];z=J,J=V,V=V+(q<<j|q>>>32-j)|0,X=$}c=c+X|0,P=P+V|0,T=T+J|0,x=x+z|0}return new Uint8Array([255&c,c>>8&255,c>>16&255,c>>>24&255,255&P,P>>8&255,P>>16&255,P>>>24&255,255&T,T>>8&255,T>>16&255,T>>>24&255,255&x,x>>8&255,x>>16&255,x>>>24&255])}}();v.calculateMD5=t;class u{constructor(O,B){this.high=0|O,this.low=0|B}and(O){this.high&=O.high,this.low&=O.low}xor(O){this.high^=O.high,this.low^=O.low}or(O){this.high|=O.high,this.low|=O.low}shiftRight(O){O>=32?(this.low=this.high>>>O-32|0,this.high=0):(this.low=this.low>>>O|this.high<<32-O,this.high=this.high>>>O|0)}shiftLeft(O){O>=32?(this.high=this.low<<O-32,this.low=0):(this.high=this.high<<O|this.low>>>32-O,this.low<<=O)}rotateRight(O){let B,h;32&O?(h=this.low,B=this.high):(B=this.low,h=this.high),this.low=B>>>(O&=31)|h<<32-O,this.high=h>>>O|B<<32-O}not(){this.high=~this.high,this.low=~this.low}add(O){const B=(this.low>>>0)+(O.low>>>0);let h=(this.high>>>0)+(O.high>>>0);B>4294967295&&(h+=1),this.low=0|B,this.high=0|h}copyTo(O,B){O[B]=this.high>>>24&255,O[B+1]=this.high>>16&255,O[B+2]=this.high>>8&255,O[B+3]=255&this.high,O[B+4]=this.low>>>24&255,O[B+5]=this.low>>16&255,O[B+6]=this.low>>8&255,O[B+7]=255&this.low}assign(O){this.high=O.high,this.low=O.low}}const I=function(){function O(P,T){return P>>>T|P<<32-T}function B(P,T,x){return P&T^~P&x}function h(P,T,x){return P&T^P&x^T&x}function y(P){return O(P,2)^O(P,13)^O(P,22)}function g(P){return O(P,6)^O(P,11)^O(P,25)}const c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];return function(T,x,C){let b=1779033703,A=3144134277,R=1013904242,F=2773480762,N=1359893119,E=2600822924,L=528734635,X=1541459225;const V=64*Math.ceil((C+9)/64),J=new Uint8Array(V);let z,$;for(z=0;z<C;++z)J[z]=T[x++];J[z++]=128;const q=V-8;for(;z<q;)J[z++]=0;J[z++]=0,J[z++]=0,J[z++]=0,J[z++]=C>>>29&255,J[z++]=C>>21&255,J[z++]=C>>13&255,J[z++]=C>>5&255,J[z++]=C<<3&255;const j=new Uint32Array(64);for(z=0;z<V;){for($=0;$<16;++$)j[$]=J[z]<<24|J[z+1]<<16|J[z+2]<<8|J[z+3],z+=4;for($=16;$<64;++$)j[$]=(O(M=j[$-2],17)^O(M,19)^M>>>10)+j[$-7]+(O(P=j[$-15],7)^O(P,18)^P>>>3)+j[$-16]|0;let U,H,W=b,G=A,Y=R,tt=F,Z=N,at=E,st=L,nt=X;for($=0;$<64;++$)U=nt+g(Z)+B(Z,at,st)+c[$]+j[$],H=y(W)+h(W,G,Y),nt=st,st=at,at=Z,Z=tt+U|0,tt=Y,Y=G,G=W,W=U+H|0;b=b+W|0,A=A+G|0,R=R+Y|0,F=F+tt|0,N=N+Z|0,E=E+at|0,L=L+st|0,X=X+nt|0}var P,M;return new Uint8Array([b>>24&255,b>>16&255,b>>8&255,255&b,A>>24&255,A>>16&255,A>>8&255,255&A,R>>24&255,R>>16&255,R>>8&255,255&R,F>>24&255,F>>16&255,F>>8&255,255&F,N>>24&255,N>>16&255,N>>8&255,255&N,E>>24&255,E>>16&255,E>>8&255,255&E,L>>24&255,L>>16&255,L>>8&255,255&L,X>>24&255,X>>16&255,X>>8&255,255&X])}}();v.calculateSHA256=I;const w=function(){function O(P,T,x,C,b){P.assign(T),P.and(x),b.assign(T),b.not(),b.and(C),P.xor(b)}function B(P,T,x,C,b){P.assign(T),P.and(x),b.assign(T),b.and(C),P.xor(b),b.assign(x),b.and(C),P.xor(b)}function h(P,T,x){P.assign(T),P.rotateRight(28),x.assign(T),x.rotateRight(34),P.xor(x),x.assign(T),x.rotateRight(39),P.xor(x)}function y(P,T,x){P.assign(T),P.rotateRight(14),x.assign(T),x.rotateRight(18),P.xor(x),x.assign(T),x.rotateRight(41),P.xor(x)}function g(P,T,x){P.assign(T),P.rotateRight(1),x.assign(T),x.rotateRight(8),P.xor(x),x.assign(T),x.shiftRight(7),P.xor(x)}function r(P,T,x){P.assign(T),P.rotateRight(19),x.assign(T),x.rotateRight(61),P.xor(x),x.assign(T),x.shiftRight(6),P.xor(x)}const c=[new u(1116352408,3609767458),new u(1899447441,602891725),new u(3049323471,3964484399),new u(3921009573,2173295548),new u(961987163,4081628472),new u(1508970993,3053834265),new u(2453635748,2937671579),new u(2870763221,3664609560),new u(3624381080,2734883394),new u(310598401,1164996542),new u(607225278,1323610764),new u(1426881987,3590304994),new u(1925078388,4068182383),new u(2162078206,991336113),new u(2614888103,633803317),new u(3248222580,3479774868),new u(3835390401,2666613458),new u(4022224774,944711139),new u(264347078,2341262773),new u(604807628,2007800933),new u(770255983,1495990901),new u(1249150122,1856431235),new u(1555081692,3175218132),new u(1996064986,2198950837),new u(2554220882,3999719339),new u(2821834349,766784016),new u(2952996808,2566594879),new u(3210313671,3203337956),new u(3336571891,1034457026),new u(3584528711,2466948901),new u(113926993,3758326383),new u(338241895,168717936),new u(666307205,1188179964),new u(773529912,1546045734),new u(1294757372,1522805485),new u(1396182291,2643833823),new u(1695183700,2343527390),new u(1986661051,1014477480),new u(2177026350,1206759142),new u(2456956037,344077627),new u(2730485921,1290863460),new u(2820302411,3158454273),new u(3259730800,3505952657),new u(3345764771,106217008),new u(3516065817,3606008344),new u(3600352804,1432725776),new u(4094571909,1467031594),new u(275423344,851169720),new u(430227734,3100823752),new u(506948616,1363258195),new u(659060556,3750685593),new u(883997877,3785050280),new u(958139571,3318307427),new u(1322822218,3812723403),new u(1537002063,2003034995),new u(1747873779,3602036899),new u(1955562222,1575990012),new u(2024104815,1125592928),new u(2227730452,2716904306),new u(2361852424,442776044),new u(2428436474,593698344),new u(2756734187,3733110249),new u(3204031479,2999351573),new u(3329325298,3815920427),new u(3391569614,3928383900),new u(3515267271,566280711),new u(3940187606,3454069534),new u(4118630271,4000239992),new u(116418474,1914138554),new u(174292421,2731055270),new u(289380356,3203993006),new u(460393269,320620315),new u(685471733,587496836),new u(852142971,1086792851),new u(1017036298,365543100),new u(1126000580,2618297676),new u(1288033470,3409855158),new u(1501505948,4234509866),new u(1607167915,987167468),new u(1816402316,1246189591)];return function(T,x,C,b=!1){let A,R,F,N,E,L,X,V;b?(A=new u(3418070365,3238371032),R=new u(1654270250,914150663),F=new u(2438529370,812702999),N=new u(355462360,4144912697),E=new u(1731405415,4290775857),L=new u(2394180231,1750603025),X=new u(3675008525,1694076839),V=new u(1203062813,3204075428)):(A=new u(1779033703,4089235720),R=new u(3144134277,2227873595),F=new u(1013904242,4271175723),N=new u(2773480762,1595750129),E=new u(1359893119,2917565137),L=new u(2600822924,725511199),X=new u(528734635,4215389547),V=new u(1541459225,327033209));const J=128*Math.ceil((C+17)/128),z=new Uint8Array(J);let $,q;for($=0;$<C;++$)z[$]=T[x++];z[$++]=128;const j=J-16;for(;$<j;)z[$++]=0;z[$++]=0,z[$++]=0,z[$++]=0,z[$++]=0,z[$++]=0,z[$++]=0,z[$++]=0,z[$++]=0,z[$++]=0,z[$++]=0,z[$++]=0,z[$++]=C>>>29&255,z[$++]=C>>21&255,z[$++]=C>>13&255,z[$++]=C>>5&255,z[$++]=C<<3&255;const M=new Array(80);for($=0;$<80;$++)M[$]=new u(0,0);let U=new u(0,0),H=new u(0,0),W=new u(0,0),G=new u(0,0),Y=new u(0,0),tt=new u(0,0),Z=new u(0,0),at=new u(0,0);const st=new u(0,0),nt=new u(0,0),ot=new u(0,0),ct=new u(0,0);let ht,ft;for($=0;$<J;){for(q=0;q<16;++q)M[q].high=z[$]<<24|z[$+1]<<16|z[$+2]<<8|z[$+3],M[q].low=z[$+4]<<24|z[$+5]<<16|z[$+6]<<8|z[$+7],$+=8;for(q=16;q<80;++q)ht=M[q],r(ht,M[q-2],ct),ht.add(M[q-7]),g(ot,M[q-15],ct),ht.add(ot),ht.add(M[q-16]);for(U.assign(A),H.assign(R),W.assign(F),G.assign(N),Y.assign(E),tt.assign(L),Z.assign(X),at.assign(V),q=0;q<80;++q)st.assign(at),y(ot,Y,ct),st.add(ot),O(ot,Y,tt,Z,ct),st.add(ot),st.add(c[q]),st.add(M[q]),h(nt,U,ct),B(ot,U,H,W,ct),nt.add(ot),ht=at,at=Z,Z=tt,tt=Y,G.add(st),Y=G,G=W,W=H,H=U,ht.assign(st),ht.add(nt),U=ht;A.add(U),R.add(H),F.add(W),N.add(G),E.add(Y),L.add(tt),X.add(Z),V.add(at)}return b?(ft=new Uint8Array(48),A.copyTo(ft,0),R.copyTo(ft,8),F.copyTo(ft,16),N.copyTo(ft,24),E.copyTo(ft,32),L.copyTo(ft,40)):(ft=new Uint8Array(64),A.copyTo(ft,0),R.copyTo(ft,8),F.copyTo(ft,16),N.copyTo(ft,24),E.copyTo(ft,32),L.copyTo(ft,40),X.copyTo(ft,48),V.copyTo(ft,56)),ft}}();function k(m,O,B){return w(m,O,B,!0)}v.calculateSHA512=w;class s{decryptBlock(O){return O}encrypt(O){return O}}class i{constructor(){this.constructor===i&&(0,e.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let O=0;O<256;O++)this._mixCol[O]=O<128?O<<1:O<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(O){(0,e.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(O,B){let h,y,g;const r=new Uint8Array(16);r.set(O);for(let c=0,P=this._keySize;c<16;++c,++P)r[c]^=B[P];for(let c=this._cyclesOfRepetition-1;c>=1;--c){h=r[13],r[13]=r[9],r[9]=r[5],r[5]=r[1],r[1]=h,h=r[14],y=r[10],r[14]=r[6],r[10]=r[2],r[6]=h,r[2]=y,h=r[15],y=r[11],g=r[7],r[15]=r[3],r[11]=h,r[7]=y,r[3]=g;for(let P=0;P<16;++P)r[P]=this._inv_s[r[P]];for(let P=0,T=16*c;P<16;++P,++T)r[P]^=B[T];for(let P=0;P<16;P+=4){const x=this._mix[r[P+1]],C=this._mix[r[P+2]],b=this._mix[r[P+3]];h=this._mix[r[P]]^x>>>8^x<<24^C>>>16^C<<16^b>>>24^b<<8,r[P]=h>>>24&255,r[P+1]=h>>16&255,r[P+2]=h>>8&255,r[P+3]=255&h}}h=r[13],r[13]=r[9],r[9]=r[5],r[5]=r[1],r[1]=h,h=r[14],y=r[10],r[14]=r[6],r[10]=r[2],r[6]=h,r[2]=y,h=r[15],y=r[11],g=r[7],r[15]=r[3],r[11]=h,r[7]=y,r[3]=g;for(let c=0;c<16;++c)r[c]=this._inv_s[r[c]],r[c]^=B[c];return r}_encrypt(O,B){const h=this._s;let y,g,r;const c=new Uint8Array(16);c.set(O);for(let P=0;P<16;++P)c[P]^=B[P];for(let P=1;P<this._cyclesOfRepetition;P++){for(let T=0;T<16;++T)c[T]=h[c[T]];r=c[1],c[1]=c[5],c[5]=c[9],c[9]=c[13],c[13]=r,r=c[2],g=c[6],c[2]=c[10],c[6]=c[14],c[10]=r,c[14]=g,r=c[3],g=c[7],y=c[11],c[3]=c[15],c[7]=r,c[11]=g,c[15]=y;for(let T=0;T<16;T+=4){const x=c[T+0],C=c[T+1],b=c[T+2],A=c[T+3];y=x^C^b^A,c[T+0]^=y^this._mixCol[x^C],c[T+1]^=y^this._mixCol[C^b],c[T+2]^=y^this._mixCol[b^A],c[T+3]^=y^this._mixCol[A^x]}for(let T=0,x=16*P;T<16;++T,++x)c[T]^=B[x]}for(let P=0;P<16;++P)c[P]=h[c[P]];r=c[1],c[1]=c[5],c[5]=c[9],c[9]=c[13],c[13]=r,r=c[2],g=c[6],c[2]=c[10],c[6]=c[14],c[10]=r,c[14]=g,r=c[3],g=c[7],y=c[11],c[3]=c[15],c[7]=r,c[11]=g,c[15]=y;for(let P=0,T=this._keySize;P<16;++P,++T)c[P]^=B[T];return c}_decryptBlock2(O,B){const h=O.length;let y=this.buffer,g=this.bufferPosition;const r=[];let c=this.iv;for(let x=0;x<h;++x){if(y[g]=O[x],++g,g<16)continue;const C=this._decrypt(y,this._key);for(let b=0;b<16;++b)C[b]^=c[b];c=y,r.push(C),y=new Uint8Array(16),g=0}if(this.buffer=y,this.bufferLength=g,this.iv=c,0===r.length)return new Uint8Array(0);let P=16*r.length;if(B){const x=r.at(-1);let C=x[15];if(C<=16){for(let b=15,A=16-C;b>=A;--b)if(x[b]!==C){C=0;break}P-=C,r[r.length-1]=x.subarray(0,16-C)}}const T=new Uint8Array(P);for(let x=0,C=0,b=r.length;x<b;++x,C+=16)T.set(r[x],C);return T}decryptBlock(O,B,h=null){const y=O.length,g=this.buffer;let r=this.bufferPosition;if(h)this.iv=h;else{for(let c=0;r<16&&c<y;++c,++r)g[r]=O[c];if(r<16)return this.bufferLength=r,new Uint8Array(0);this.iv=g,O=O.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(O,B)}encrypt(O,B){const h=O.length;let y=this.buffer,g=this.bufferPosition;const r=[];B||(B=new Uint8Array(16));for(let T=0;T<h;++T){if(y[g]=O[T],++g,g<16)continue;for(let C=0;C<16;++C)y[C]^=B[C];const x=this._encrypt(y,this._key);B=x,r.push(x),y=new Uint8Array(16),g=0}if(this.buffer=y,this.bufferLength=g,this.iv=B,0===r.length)return new Uint8Array(0);const P=new Uint8Array(16*r.length);for(let T=0,x=0,C=r.length;T<C;++T,x+=16)P.set(r[T],x);return P}}class a extends i{constructor(O){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(O)}_expandKey(O){const B=this._s,h=this._rcon,y=new Uint8Array(176);y.set(O);for(let g=16,r=1;g<176;++r){let c=y[g-3],P=y[g-2],T=y[g-1],x=y[g-4];c=B[c],P=B[P],T=B[T],x=B[x],c^=h[r];for(let C=0;C<4;++C)y[g]=c^=y[g-16],g++,y[g]=P^=y[g-16],g++,y[g]=T^=y[g-16],g++,y[g]=x^=y[g-16],g++}return y}}v.AES128Cipher=a;class f extends i{constructor(O){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(O)}_expandKey(O){const B=this._s,h=new Uint8Array(240);h.set(O);let y,g,r,c,P=1;for(let T=32,x=1;T<240;++x){T%32==16?(y=B[y],g=B[g],r=B[r],c=B[c]):T%32==0&&(y=h[T-3],g=h[T-2],r=h[T-1],c=h[T-4],y=B[y],g=B[g],r=B[r],c=B[c],y^=P,(P<<=1)>=256&&(P=255&(27^P)));for(let C=0;C<4;++C)h[T]=y^=h[T-32],T++,h[T]=g^=h[T-32],T++,h[T]=r^=h[T-32],T++,h[T]=c^=h[T-32],T++}return h}}v.AES256Cipher=f;class l{checkOwnerPassword(O,B,h,y){const g=new Uint8Array(O.length+56);g.set(O,0),g.set(B,O.length),g.set(h,O.length+B.length);const r=I(g,0,g.length);return(0,e.isArrayEqual)(r,y)}checkUserPassword(O,B,h){const y=new Uint8Array(O.length+8);y.set(O,0),y.set(B,O.length);const g=I(y,0,y.length);return(0,e.isArrayEqual)(g,h)}getOwnerKey(O,B,h,y){const g=new Uint8Array(O.length+56);g.set(O,0),g.set(B,O.length),g.set(h,O.length+B.length);const r=I(g,0,g.length);return new f(r).decryptBlock(y,!1,new Uint8Array(16))}getUserKey(O,B,h){const y=new Uint8Array(O.length+8);y.set(O,0),y.set(B,O.length);const g=I(y,0,y.length);return new f(g).decryptBlock(h,!1,new Uint8Array(16))}}v.PDF17=l;const n=function(){function O(B,h,y){let g=I(h,0,h.length).subarray(0,32),r=[0],c=0;for(;c<64||r.at(-1)>c-32;){const P=B.length+g.length+y.length,T=new Uint8Array(P);let x=0;T.set(B,x),x+=B.length,T.set(g,x),x+=g.length,T.set(y,x);const C=new Uint8Array(64*P);for(let A=0,R=0;A<64;A++,R+=P)C.set(T,R);r=new a(g.subarray(0,16)).encrypt(C,g.subarray(16,32));let b=0;for(let A=0;A<16;A++)b*=1,b%=3,b+=(r[A]>>>0)%3,b%=3;0===b?g=I(r,0,r.length):1===b?g=k(r,0,r.length):2===b&&(g=w(r,0,r.length)),c++}return g.subarray(0,32)}return class{hash(h,y,g){return O(h,y,g)}checkOwnerPassword(h,y,g,r){const c=new Uint8Array(h.length+56);c.set(h,0),c.set(y,h.length),c.set(g,h.length+y.length);const P=O(h,c,g);return(0,e.isArrayEqual)(P,r)}checkUserPassword(h,y,g){const r=new Uint8Array(h.length+8);r.set(h,0),r.set(y,h.length);const c=O(h,r,[]);return(0,e.isArrayEqual)(c,g)}getOwnerKey(h,y,g,r){const c=new Uint8Array(h.length+56);c.set(h,0),c.set(y,h.length),c.set(g,h.length+y.length);const P=O(h,c,g);return new f(P).decryptBlock(r,!1,new Uint8Array(16))}getUserKey(h,y,g){const r=new Uint8Array(h.length+8);r.set(h,0),r.set(y,h.length);const c=O(h,r,[]);return new f(c).decryptBlock(g,!1,new Uint8Array(16))}}}();v.PDF20=n;class o{constructor(O,B){this.StringCipherConstructor=O,this.StreamCipherConstructor=B}createStream(O,B){const h=new this.StreamCipherConstructor;return new _.DecryptStream(O,B,function(g,r){return h.decryptBlock(g,r)})}decryptString(O){const B=new this.StringCipherConstructor;let h=(0,e.stringToBytes)(O);return h=B.decryptBlock(h,!0),(0,e.bytesToString)(h)}encryptString(O){const B=new this.StringCipherConstructor;if(B instanceof i){const y=16-O.length%16;O+=String.fromCharCode(y).repeat(y);const g=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(g);else for(let P=0;P<16;P++)g[P]=Math.floor(256*Math.random());let r=(0,e.stringToBytes)(O);r=B.encrypt(r,g);const c=new Uint8Array(16+r.length);return c.set(g),c.set(r,16),(0,e.bytesToString)(c)}let h=(0,e.stringToBytes)(O);return h=B.encrypt(h),(0,e.bytesToString)(h)}}const D=function(){const O=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function B(r,c,P,T,x,C,b,A){const F=new Uint8Array(40+P.length+r.length);let N,E,L=0;if(c)for(E=Math.min(32,c.length);L<E;++L)F[L]=c[L];for(N=0;L<32;)F[L++]=O[N++];for(N=0,E=P.length;N<E;++N)F[L++]=P[N];for(F[L++]=255&x,F[L++]=x>>8&255,F[L++]=x>>16&255,F[L++]=x>>>24&255,N=0,E=r.length;N<E;++N)F[L++]=r[N];C>=4&&!A&&(F[L++]=255,F[L++]=255,F[L++]=255,F[L++]=255);let X=t(F,0,L);const V=b>>3;if(C>=3)for(N=0;N<50;++N)X=t(X,0,V);const J=X.subarray(0,V);let z,$;if(C>=3){for(L=0;L<32;++L)F[L]=O[L];for(N=0,E=r.length;N<E;++N)F[L++]=r[N];z=new S(J),$=z.encryptBlock(t(F,0,L)),E=J.length;const q=new Uint8Array(E);for(N=1;N<=19;++N){for(let j=0;j<E;++j)q[j]=J[j]^N;z=new S(q),$=z.encryptBlock($)}for(N=0,E=$.length;N<E;++N)if(T[N]!==$[N])return null}else for(z=new S(J),$=z.encryptBlock(O),N=0,E=$.length;N<E;++N)if(T[N]!==$[N])return null;return J}const h=d.Name.get("Identity");function y(r,c,P,T=!1){const x=new Uint8Array(P.length+9),C=P.length;let b;for(b=0;b<C;++b)x[b]=P[b];return x[b++]=255&r,x[b++]=r>>8&255,x[b++]=r>>16&255,x[b++]=255&c,x[b++]=c>>8&255,T&&(x[b++]=115,x[b++]=65,x[b++]=108,x[b++]=84),t(x,0,b).subarray(0,Math.min(P.length+5,16))}function g(r,c,P,T,x){if(!(c instanceof d.Name))throw new e.FormatError("Invalid crypt filter name.");const C=r.get(c.name);let b;if(null!=C&&(b=C.get("CFM")),!b||"None"===b.name)return function(){return new s};if("V2"===b.name)return function(){return new S(y(P,T,x,!1))};if("AESV2"===b.name)return function(){return new a(y(P,T,x,!0))};if("AESV3"===b.name)return function(){return new f(x)};throw new e.FormatError("Unknown crypto method")}return class{constructor(c,P,T){const x=c.get("Filter");if(!(0,d.isName)(x,"Standard"))throw new e.FormatError("unknown encryption method");this.filterName=x.name,this.dict=c;const C=c.get("V");if(!Number.isInteger(C)||1!==C&&2!==C&&4!==C&&5!==C)throw new e.FormatError("unsupported encryption algorithm");this.algorithm=C;let b=c.get("Length");if(!b)if(C<=3)b=40;else{const J=c.get("CF"),z=c.get("StmF");if(J instanceof d.Dict&&z instanceof d.Name){J.suppressEncryption=!0;const $=J.get(z.name);b=$&&$.get("Length")||128,b<40&&(b<<=3)}}if(!Number.isInteger(b)||b<40||b%8!=0)throw new e.FormatError("invalid key length");const A=(0,e.stringToBytes)(c.get("O")).subarray(0,32),R=(0,e.stringToBytes)(c.get("U")).subarray(0,32),F=c.get("P"),N=c.get("R"),E=(4===C||5===C)&&!1!==c.get("EncryptMetadata");this.encryptMetadata=E;const L=(0,e.stringToBytes)(P);let X,V;if(T){if(6===N)try{T=(0,e.utf8StringToString)(T)}catch{(0,e.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}X=(0,e.stringToBytes)(T)}if(5!==C)V=B(L,X,A,R,F,N,b,E);else{const J=(0,e.stringToBytes)(c.get("O")).subarray(32,40),z=(0,e.stringToBytes)(c.get("O")).subarray(40,48),$=(0,e.stringToBytes)(c.get("U")).subarray(0,48),q=(0,e.stringToBytes)(c.get("U")).subarray(32,40),j=(0,e.stringToBytes)(c.get("U")).subarray(40,48),M=(0,e.stringToBytes)(c.get("OE")),U=(0,e.stringToBytes)(c.get("UE"));(0,e.stringToBytes)(c.get("Perms")),V=function(W,G,Y,tt,Z,at,st,nt,ot,ct,ht,ft){if(G){const Ct=Math.min(127,G.length);G=G.subarray(0,Ct)}else G=[];let mt;return mt=6===W?new n:new l,mt.checkUserPassword(G,nt,st)?mt.getUserKey(G,ot,ht):G.length&&mt.checkOwnerPassword(G,tt,at,Y)?mt.getOwnerKey(G,Z,at,ct):null}(N,X,A,J,z,$,R,q,j,M,U)}if(!V&&!T)throw new e.PasswordException("No password given",e.PasswordResponses.NEED_PASSWORD);if(!V&&T&&(V=B(L,function($,q,j,M){const U=new Uint8Array(32);let H=0;const W=Math.min(32,$.length);for(;H<W;++H)U[H]=$[H];let G=0;for(;H<32;)U[H++]=O[G++];let Y=t(U,0,H);const tt=M>>3;if(j>=3)for(G=0;G<50;++G)Y=t(Y,0,Y.length);let Z,at;if(j>=3){at=q;const st=new Uint8Array(tt);for(G=19;G>=0;G--){for(let nt=0;nt<tt;++nt)st[nt]=Y[nt]^G;Z=new S(st),at=Z.encryptBlock(at)}}else Z=new S(Y.subarray(0,tt)),at=Z.encryptBlock(q);return at}(X,A,N,b),A,R,F,N,b,E)),!V)throw new e.PasswordException("Incorrect Password",e.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=V,C>=4){const J=c.get("CF");J instanceof d.Dict&&(J.suppressEncryption=!0),this.cf=J,this.stmf=c.get("StmF")||h,this.strf=c.get("StrF")||h,this.eff=c.get("EFF")||this.stmf}}createCipherTransform(c,P){if(4===this.algorithm||5===this.algorithm)return new o(g(this.cf,this.strf,c,P,this.encryptionKey),g(this.cf,this.stmf,c,P,this.encryptionKey));const T=y(c,P,this.encryptionKey,!1),x=function(){return new S(T)};return new o(x,x)}}}();v.CipherTransformFactory=D},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.DecryptStream=void 0;var e=K(19);v.DecryptStream=class d extends e.DecodeStream{constructor(S,t,u){super(t),this.str=S,this.dict=S.dict,this.decrypt=u,this.nextChunk=null,this.initialized=!1}readBlock(){let S;if(this.initialized?S=this.nextChunk:(S=this.str.getBytes(512),this.initialized=!0),!S||0===S.length)return void(this.eof=!0);this.nextChunk=this.str.getBytes(512),S=(0,this.decrypt)(S,!(this.nextChunk&&this.nextChunk.length>0));let u=this.bufferLength;const I=S.length,w=this.ensureBuffer(u+I);for(let k=0;k<I;k++)w[u++]=S[k];this.bufferLength=u}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Catalog=void 0;var e=K(6),d=K(2),_=K(5),S=K(70),t=K(7),u=K(71),I=K(14),w=K(72),k=K(59),s=K(73),i=K(74);function a(l){return l instanceof _.Dict&&(l=l.get("D")),Array.isArray(l)?l:null}class f{constructor(n,o){if(this.pdfManager=n,this.xref=o,this._catDict=o.getCatalogObj(),!(this._catDict instanceof _.Dict))throw new d.FormatError("Catalog object is not a dictionary.");this._actualNumPages=null,this.fontCache=new _.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new k.GlobalImageCache,this.pageKidsCountCache=new _.RefSetCache,this.pageIndexCache=new _.RefSetCache,this.nonBlendModesSet=new _.RefSet}get version(){const n=this._catDict.get("Version");return(0,d.shadow)(this,"version",n instanceof _.Name?n.name:null)}get lang(){const n=this._catDict.get("Lang");return(0,d.shadow)(this,"lang","string"==typeof n?(0,d.stringToPDFString)(n):null)}get needsRendering(){const n=this._catDict.get("NeedsRendering");return(0,d.shadow)(this,"needsRendering","boolean"==typeof n&&n)}get collection(){let n=null;try{const o=this._catDict.get("Collection");o instanceof _.Dict&&o.size>0&&(n=o)}catch(o){if(o instanceof e.MissingDataException)throw o;(0,d.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,d.shadow)(this,"collection",n)}get acroForm(){let n=null;try{const o=this._catDict.get("AcroForm");o instanceof _.Dict&&o.size>0&&(n=o)}catch(o){if(o instanceof e.MissingDataException)throw o;(0,d.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,d.shadow)(this,"acroForm",n)}get acroFormRef(){const n=this._catDict.getRaw("AcroForm");return(0,d.shadow)(this,"acroFormRef",n instanceof _.Ref?n:null)}get metadata(){const n=this._catDict.getRaw("Metadata");if(!(n instanceof _.Ref))return(0,d.shadow)(this,"metadata",null);let o=null;try{const m=this.xref.fetch(n,!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata));if(m instanceof t.BaseStream&&m.dict instanceof _.Dict){const O=m.dict.get("Type"),B=m.dict.get("Subtype");if((0,_.isName)(O,"Metadata")&&(0,_.isName)(B,"XML")){const h=(0,d.stringToUTF8String)(m.getString());h&&(o=new s.MetadataParser(h).serializable)}}}catch(D){if(D instanceof e.MissingDataException)throw D;(0,d.info)(`Skipping invalid Metadata: "${D}".`)}return(0,d.shadow)(this,"metadata",o)}get markInfo(){let n=null;try{n=this._readMarkInfo()}catch(o){if(o instanceof e.MissingDataException)throw o;(0,d.warn)("Unable to read mark info.")}return(0,d.shadow)(this,"markInfo",n)}_readMarkInfo(){const n=this._catDict.get("MarkInfo");if(!(n instanceof _.Dict))return null;const o={Marked:!1,UserProperties:!1,Suspects:!1};for(const D in o){const m=n.get(D);"boolean"==typeof m&&(o[D]=m)}return o}get structTreeRoot(){let n=null;try{n=this._readStructTreeRoot()}catch(o){if(o instanceof e.MissingDataException)throw o;(0,d.warn)("Unable read to structTreeRoot info.")}return(0,d.shadow)(this,"structTreeRoot",n)}_readStructTreeRoot(){const n=this._catDict.get("StructTreeRoot");if(!(n instanceof _.Dict))return null;const o=new i.StructTreeRoot(n);return o.init(),o}get toplevelPagesDict(){const n=this._catDict.get("Pages");if(!(n instanceof _.Dict))throw new d.FormatError("Invalid top-level pages dictionary.");return(0,d.shadow)(this,"toplevelPagesDict",n)}get documentOutline(){let n=null;try{n=this._readDocumentOutline()}catch(o){if(o instanceof e.MissingDataException)throw o;(0,d.warn)("Unable to read document outline.")}return(0,d.shadow)(this,"documentOutline",n)}_readDocumentOutline(){let n=this._catDict.get("Outlines");if(!(n instanceof _.Dict&&(n=n.getRaw("First"),n instanceof _.Ref)))return null;const o={items:[]},D=[{obj:n,parent:o}],m=new _.RefSet;m.put(n);const O=this.xref,B=new Uint8ClampedArray(3);for(;D.length>0;){const h=D.shift(),y=O.fetchIfRef(h.obj);if(null===y)continue;if(!y.has("Title"))throw new d.FormatError("Invalid outline item encountered.");const g={url:null,dest:null};f.parseDestDictionary({destDict:y,resultObj:g,docBaseUrl:this.pdfManager.docBaseUrl});const r=y.get("Title"),c=y.get("F")||0,P=y.getArray("C"),T=y.get("Count");let x=B;!Array.isArray(P)||3!==P.length||0===P[0]&&0===P[1]&&0===P[2]||(x=I.ColorSpace.singletons.rgb.getRgb(P,0));const C={dest:g.dest,url:g.url,unsafeUrl:g.unsafeUrl,newWindow:g.newWindow,title:(0,d.stringToPDFString)(r),color:x,count:Number.isInteger(T)?T:void 0,bold:!!(2&c),italic:!!(1&c),items:[]};h.parent.items.push(C),n=y.getRaw("First"),n instanceof _.Ref&&!m.has(n)&&(D.push({obj:n,parent:C}),m.put(n)),n=y.getRaw("Next"),n instanceof _.Ref&&!m.has(n)&&(D.push({obj:n,parent:h.parent}),m.put(n))}return o.items.length>0?o.items:null}get permissions(){let n=null;try{n=this._readPermissions()}catch(o){if(o instanceof e.MissingDataException)throw o;(0,d.warn)("Unable to read permissions.")}return(0,d.shadow)(this,"permissions",n)}_readPermissions(){const n=this.xref.trailer.get("Encrypt");if(!(n instanceof _.Dict))return null;let o=n.get("P");if("number"!=typeof o)return null;o+=4294967296;const D=[];for(const m in d.PermissionFlag){const O=d.PermissionFlag[m];o&O&&D.push(O)}return D}get optionalContentConfig(){let n=null;try{const o=this._catDict.get("OCProperties");if(!o)return(0,d.shadow)(this,"optionalContentConfig",null);const D=o.get("D");if(!D)return(0,d.shadow)(this,"optionalContentConfig",null);const m=o.get("OCGs");if(!Array.isArray(m))return(0,d.shadow)(this,"optionalContentConfig",null);const O=[],B=[];for(const h of m){if(!(h instanceof _.Ref))continue;B.push(h);const y=this.xref.fetchIfRef(h);O.push({id:h.toString(),name:"string"==typeof y.get("Name")?(0,d.stringToPDFString)(y.get("Name")):null,intent:"string"==typeof y.get("Intent")?(0,d.stringToPDFString)(y.get("Intent")):null})}n=this._readOptionalContentConfig(D,B),n.groups=O}catch(o){if(o instanceof e.MissingDataException)throw o;(0,d.warn)(`Unable to read optional content config: ${o}`)}return(0,d.shadow)(this,"optionalContentConfig",n)}_readOptionalContentConfig(n,o){function D(g){const r=[];if(Array.isArray(g))for(const c of g)c instanceof _.Ref&&o.includes(c)&&r.push(c.toString());return r}function m(g,r=0){if(!Array.isArray(g))return null;const c=[];for(const T of g){if(T instanceof _.Ref&&o.includes(T)){h.put(T),c.push(T.toString());continue}const x=O(T,r);x&&c.push(x)}if(r>0)return c;const P=[];for(const T of o)h.has(T)||P.push(T.toString());return P.length&&c.push({name:null,order:P}),c}function O(g,r){if(++r>y)return(0,d.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const c=B.fetchIfRef(g);if(!Array.isArray(c))return null;const P=B.fetchIfRef(c[0]);if("string"!=typeof P)return null;const T=m(c.slice(1),r);return T&&T.length?{name:(0,d.stringToPDFString)(P),order:T}:null}const B=this.xref,h=new _.RefSet,y=10;return{name:"string"==typeof n.get("Name")?(0,d.stringToPDFString)(n.get("Name")):null,creator:"string"==typeof n.get("Creator")?(0,d.stringToPDFString)(n.get("Creator")):null,baseState:n.get("BaseState")instanceof _.Name?n.get("BaseState").name:null,on:D(n.get("ON")),off:D(n.get("OFF")),order:m(n.get("Order")),groups:null}}setActualNumPages(n=null){this._actualNumPages=n}get hasActualNumPages(){return null!==this._actualNumPages}get _pagesCount(){const n=this.toplevelPagesDict.get("Count");if(!Number.isInteger(n))throw new d.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,d.shadow)(this,"_pagesCount",n)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const n=this._readDests(),o=Object.create(null);if(n instanceof S.NameTree)for(const[D,m]of n.getAll()){const O=a(m);O&&(o[(0,d.stringToPDFString)(D)]=O)}else n instanceof _.Dict&&n.forEach(function(D,m){const O=a(m);O&&(o[D]=O)});return(0,d.shadow)(this,"destinations",o)}getDestination(n){const o=this._readDests();if(o instanceof S.NameTree){const D=a(o.get(n));if(D)return D;const m=this.destinations[n];if(m)return(0,d.warn)(`Found "${n}" at an incorrect position in the NameTree.`),m}else if(o instanceof _.Dict){const D=a(o.get(n));if(D)return D}return null}_readDests(){const n=this._catDict.get("Names");return n&&n.has("Dests")?new S.NameTree(n.getRaw("Dests"),this.xref):this._catDict.has("Dests")?this._catDict.get("Dests"):void 0}get pageLabels(){let n=null;try{n=this._readPageLabels()}catch(o){if(o instanceof e.MissingDataException)throw o;(0,d.warn)("Unable to read page labels.")}return(0,d.shadow)(this,"pageLabels",n)}_readPageLabels(){const n=this._catDict.getRaw("PageLabels");if(!n)return null;const o=new Array(this.numPages);let D=null,m="";const O=new S.NumberTree(n,this.xref).getAll();let B="",h=1;for(let y=0,g=this.numPages;y<g;y++){const r=O.get(y);if(void 0!==r){if(!(r instanceof _.Dict))throw new d.FormatError("PageLabel is not a dictionary.");if(r.has("Type")&&!(0,_.isName)(r.get("Type"),"PageLabel"))throw new d.FormatError("Invalid type in PageLabel dictionary.");if(r.has("S")){const c=r.get("S");if(!(c instanceof _.Name))throw new d.FormatError("Invalid style in PageLabel dictionary.");D=c.name}else D=null;if(r.has("P")){const c=r.get("P");if("string"!=typeof c)throw new d.FormatError("Invalid prefix in PageLabel dictionary.");m=(0,d.stringToPDFString)(c)}else m="";if(r.has("St")){const c=r.get("St");if(!(Number.isInteger(c)&&c>=1))throw new d.FormatError("Invalid start in PageLabel dictionary.");h=c}else h=1}switch(D){case"D":B=h;break;case"R":case"r":B=(0,e.toRomanNumerals)(h,"r"===D);break;case"A":case"a":const c=26,C=h-1;B=String.fromCharCode(("a"===D?97:65)+C%c).repeat(Math.floor(C/c)+1);break;default:if(D)throw new d.FormatError(`Invalid style "${D}" in PageLabel dictionary.`);B=""}o[y]=m+B,h++}return o}get pageLayout(){const n=this._catDict.get("PageLayout");let o="";if(n instanceof _.Name)switch(n.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":o=n.name}return(0,d.shadow)(this,"pageLayout",o)}get pageMode(){const n=this._catDict.get("PageMode");let o="UseNone";if(n instanceof _.Name)switch(n.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":o=n.name}return(0,d.shadow)(this,"pageMode",o)}get viewerPreferences(){const n=this._catDict.get("ViewerPreferences");if(!(n instanceof _.Dict))return(0,d.shadow)(this,"viewerPreferences",null);let o=null;for(const D of n.getKeys()){const m=n.get(D);let O;switch(D){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":"boolean"==typeof m&&(O=m);break;case"NonFullScreenPageMode":if(m instanceof _.Name)switch(m.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":O=m.name;break;default:O="UseNone"}break;case"Direction":if(m instanceof _.Name)switch(m.name){case"L2R":case"R2L":O=m.name;break;default:O="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(m instanceof _.Name)switch(m.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":O=m.name;break;default:O="CropBox"}break;case"PrintScaling":if(m instanceof _.Name)switch(m.name){case"None":case"AppDefault":O=m.name;break;default:O="AppDefault"}break;case"Duplex":if(m instanceof _.Name)switch(m.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":O=m.name;break;default:O="None"}break;case"PrintPageRange":Array.isArray(m)&&m.length%2==0&&m.every((B,h,y)=>Number.isInteger(B)&&B>0&&(0===h||B>=y[h-1])&&B<=this.numPages)&&(O=m);break;case"NumCopies":Number.isInteger(m)&&m>0&&(O=m);break;default:(0,d.warn)(`Ignoring non-standard key in ViewerPreferences: ${D}.`);continue}void 0!==O?(o||(o=Object.create(null)),o[D]=O):(0,d.warn)(`Bad value, for key "${D}", in ViewerPreferences: ${m}.`)}return(0,d.shadow)(this,"viewerPreferences",o)}get openAction(){const n=this._catDict.get("OpenAction"),o=Object.create(null);if(n instanceof _.Dict){const D=new _.Dict(this.xref);D.set("A",n);const m={url:null,dest:null,action:null};f.parseDestDictionary({destDict:D,resultObj:m}),Array.isArray(m.dest)?o.dest=m.dest:m.action&&(o.action=m.action)}else Array.isArray(n)&&(o.dest=n);return(0,d.shadow)(this,"openAction",(0,d.objectSize)(o)>0?o:null)}get attachments(){const n=this._catDict.get("Names");let o=null;if(n instanceof _.Dict&&n.has("EmbeddedFiles")){const D=new S.NameTree(n.getRaw("EmbeddedFiles"),this.xref);for(const[m,O]of D.getAll()){const B=new w.FileSpec(O,this.xref);o||(o=Object.create(null)),o[(0,d.stringToPDFString)(m)]=B.serializable}}return(0,d.shadow)(this,"attachments",o)}get xfaImages(){const n=this._catDict.get("Names");let o=null;if(n instanceof _.Dict&&n.has("XFAImages")){const D=new S.NameTree(n.getRaw("XFAImages"),this.xref);for(const[m,O]of D.getAll())o||(o=new _.Dict(this.xref)),o.set((0,d.stringToPDFString)(m),O)}return(0,d.shadow)(this,"xfaImages",o)}_collectJavaScript(){const n=this._catDict.get("Names");let o=null;function D(O,B){if(!(B instanceof _.Dict&&(0,_.isName)(B.get("S"),"JavaScript")))return;let h=B.get("JS");if(h instanceof t.BaseStream)h=h.getString();else if("string"!=typeof h)return;null===o&&(o=new Map),h=(0,d.stringToPDFString)(h).replace(/\u0000/g,""),o.set(O,h)}if(n instanceof _.Dict&&n.has("JavaScript")){const O=new S.NameTree(n.getRaw("JavaScript"),this.xref);for(const[B,h]of O.getAll())D((0,d.stringToPDFString)(B),h)}const m=this._catDict.get("OpenAction");return m&&D("OpenAction",m),o}get javaScript(){const n=this._collectJavaScript();return(0,d.shadow)(this,"javaScript",n?[...n.values()]:null)}get jsActions(){const n=this._collectJavaScript();let o=(0,e.collectActions)(this.xref,this._catDict,d.DocumentActionEventType);if(n){o||(o=Object.create(null));for(const[D,m]of n)D in o?o[D].push(m):o[D]=[m]}return(0,d.shadow)(this,"jsActions",o)}async fontFallback(n,o){const D=await Promise.all(this.fontCache);for(const m of D)if(m.loadedName===n)return void m.fallback(o)}async cleanup(n=!1){(0,u.clearGlobalCaches)(),this.globalImageCache.clear(n),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const o=await Promise.all(this.fontCache);for(const{dict:D}of o)delete D.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear()}async getPageDict(n){const o=[this.toplevelPagesDict],D=new _.RefSet,m=this._catDict.getRaw("Pages");m instanceof _.Ref&&D.put(m);const O=this.xref,B=this.pageKidsCountCache,h=this.pageIndexCache;let y=0;for(;o.length;){const g=o.pop();if(g instanceof _.Ref){const T=B.get(g);if(T>=0&&y+T<=n){y+=T;continue}if(D.has(g))throw new d.FormatError("Pages tree contains circular reference.");D.put(g);const x=await O.fetchAsync(g);if(x instanceof _.Dict){let C=x.getRaw("Type");if(C instanceof _.Ref&&(C=await O.fetchAsync(C)),(0,_.isName)(C,"Page")||!x.has("Kids")){if(B.has(g)||B.put(g,1),h.has(g)||h.put(g,y),y===n)return[x,g];y++;continue}}o.push(x);continue}if(!(g instanceof _.Dict))throw new d.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:r}=g;let c=g.getRaw("Count");if(c instanceof _.Ref&&(c=await O.fetchAsync(c)),Number.isInteger(c)&&c>=0&&(r&&!B.has(r)&&B.put(r,c),y+c<=n)){y+=c;continue}let P=g.getRaw("Kids");if(P instanceof _.Ref&&(P=await O.fetchAsync(P)),!Array.isArray(P)){let T=g.getRaw("Type");if(T instanceof _.Ref&&(T=await O.fetchAsync(T)),(0,_.isName)(T,"Page")||!g.has("Kids")){if(y===n)return[g,null];y++;continue}throw new d.FormatError("Page dictionary kids object is not an array.")}for(let T=P.length-1;T>=0;T--)o.push(P[T])}throw new Error(`Page index ${n} not found.`)}async getAllPageDicts(n=!1){const o=[{currentNode:this.toplevelPagesDict,posInKids:0}],D=new _.RefSet,m=this._catDict.getRaw("Pages");m instanceof _.Ref&&D.put(m);const O=new Map,B=this.xref,h=this.pageIndexCache;let y=0;function g(c,P){P&&!h.has(P)&&h.put(P,y),O.set(y++,[c,P])}function r(c){if(c instanceof e.XRefEntryException&&!n)throw c;O.set(y++,[c,null])}for(;o.length>0;){const c=o.at(-1),{currentNode:P,posInKids:T}=c;let x=P.getRaw("Kids");if(x instanceof _.Ref)try{x=await B.fetchAsync(x)}catch(R){r(R);break}if(!Array.isArray(x)){r(new d.FormatError("Page dictionary kids object is not an array."));break}if(T>=x.length){o.pop();continue}const C=x[T];let b;if(C instanceof _.Ref){if(D.has(C)){r(new d.FormatError("Pages tree contains circular reference."));break}D.put(C);try{b=await B.fetchAsync(C)}catch(R){r(R);break}}else b=C;if(!(b instanceof _.Dict)){r(new d.FormatError("Page dictionary kid reference points to wrong type of object."));break}let A=b.getRaw("Type");if(A instanceof _.Ref)try{A=await B.fetchAsync(A)}catch(R){r(R);break}(0,_.isName)(A,"Page")||!b.has("Kids")?g(b,C instanceof _.Ref?C:null):o.push({currentNode:b,posInKids:0}),c.posInKids++}return O}getPageIndex(n){const o=this.pageIndexCache.get(n);if(void 0!==o)return Promise.resolve(o);const D=this.xref;let m=0;const O=B=>function(y){let g,r=0;return D.fetchAsync(y).then(function(c){if((0,_.isRefsEqual)(y,n)&&!(0,_.isDict)(c,"Page")&&!(c instanceof _.Dict&&!c.has("Type")&&c.has("Contents")))throw new d.FormatError("The reference does not point to a /Page dictionary.");if(!c)return null;if(!(c instanceof _.Dict))throw new d.FormatError("Node must be a dictionary.");return g=c.getRaw("Parent"),c.getAsync("Parent")}).then(function(c){if(!c)return null;if(!(c instanceof _.Dict))throw new d.FormatError("Parent must be a dictionary.");return c.getAsync("Kids")}).then(function(c){if(!c)return null;const P=[];let T=!1;for(let x=0,C=c.length;x<C;x++){const b=c[x];if(!(b instanceof _.Ref))throw new d.FormatError("Kid must be a reference.");if((0,_.isRefsEqual)(b,y)){T=!0;break}P.push(D.fetchAsync(b).then(function(A){if(!(A instanceof _.Dict))throw new d.FormatError("Kid node must be a dictionary.");A.has("Count")?r+=A.get("Count"):r++}))}if(!T)throw new d.FormatError("Kid reference not found in parent's kids.");return Promise.all(P).then(function(){return[r,g]})})}(B).then(h=>{if(!h)return this.pageIndexCache.put(n,m),m;const[y,g]=h;return m+=y,O(g)});return O(n)}get baseUrl(){const n=this._catDict.get("URI");if(n instanceof _.Dict){const o=n.get("Base");if("string"==typeof o){const D=(0,d.createValidAbsoluteUrl)(o,null,{tryConvertEncoding:!0});if(D)return(0,d.shadow)(this,"baseUrl",D.href)}}return(0,d.shadow)(this,"baseUrl",null)}static parseDestDictionary(n){const o=n.destDict;if(!(o instanceof _.Dict))return void(0,d.warn)("parseDestDictionary: `destDict` must be a dictionary.");const D=n.resultObj;if("object"!=typeof D)return void(0,d.warn)("parseDestDictionary: `resultObj` must be an object.");const m=n.docBaseUrl||null;let O,B,h=o.get("A");if(h instanceof _.Dict||(o.has("Dest")?h=o.get("Dest"):(h=o.get("AA"),h instanceof _.Dict&&(h.has("D")?h=h.get("D"):h.has("U")&&(h=h.get("U"))))),h instanceof _.Dict){const y=h.get("S");if(!(y instanceof _.Name))return void(0,d.warn)("parseDestDictionary: Invalid type in Action dictionary.");const g=y.name;switch(g){case"ResetForm":const r=h.get("Flags"),c=!(1&("number"==typeof r?r:0)),P=[],T=[];for(const E of h.get("Fields")||[])E instanceof _.Ref?T.push(E.toString()):"string"==typeof E&&P.push((0,d.stringToPDFString)(E));D.resetForm={fields:P,refs:T,include:c};break;case"URI":O=h.get("URI"),O instanceof _.Name&&(O="/"+O.name);break;case"GoTo":B=h.get("D");break;case"Launch":case"GoToR":const x=h.get("F");x instanceof _.Dict?O=x.get("F")||null:"string"==typeof x&&(O=x);let C=h.get("D");if(C&&(C instanceof _.Name&&(C=C.name),"string"==typeof O)){const E=O.split("#")[0];"string"==typeof C?O=E+"#"+C:Array.isArray(C)&&(O=E+"#"+JSON.stringify(C))}const b=h.get("NewWindow");"boolean"==typeof b&&(D.newWindow=b);break;case"Named":const A=h.get("N");A instanceof _.Name&&(D.action=A.name);break;case"JavaScript":const R=h.get("JS");let F;R instanceof t.BaseStream?F=R.getString():"string"==typeof R&&(F=R);const N=F&&(0,e.recoverJsURL)((0,d.stringToPDFString)(F));if(N){O=N.url,D.newWindow=N.newWindow;break}default:if("JavaScript"===g||"SubmitForm"===g)break;(0,d.warn)(`parseDestDictionary - unsupported action: "${g}".`)}}else o.has("Dest")&&(B=o.get("Dest"));if("string"==typeof O){const y=(0,d.createValidAbsoluteUrl)(O,m,{addDefaultProtocol:!0,tryConvertEncoding:!0});y&&(D.url=y.href),D.unsafeUrl=O}B&&(B instanceof _.Name&&(B=B.name),"string"==typeof B?D.dest=(0,d.stringToPDFString)(B):Array.isArray(B)&&(D.dest=B))}}v.Catalog=f},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.NumberTree=v.NameTree=void 0;var e=K(5),d=K(2);class _{constructor(t,u,I){this.constructor===_&&(0,d.unreachable)("Cannot initialize NameOrNumberTree."),this.root=t,this.xref=u,this._type=I}getAll(){const t=new Map;if(!this.root)return t;const u=this.xref,I=new e.RefSet;I.put(this.root);const w=[this.root];for(;w.length>0;){const k=u.fetchIfRef(w.shift());if(!(k instanceof e.Dict))continue;if(k.has("Kids")){const i=k.get("Kids");if(!Array.isArray(i))continue;for(const a of i){if(I.has(a))throw new d.FormatError(`Duplicate entry in "${this._type}" tree.`);w.push(a),I.put(a)}continue}const s=k.get(this._type);if(Array.isArray(s))for(let i=0,a=s.length;i<a;i+=2)t.set(u.fetchIfRef(s[i]),u.fetchIfRef(s[i+1]))}return t}get(t){if(!this.root)return null;const u=this.xref;let I=u.fetchIfRef(this.root),w=0;for(;I.has("Kids");){if(++w>10)return(0,d.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const s=I.get("Kids");if(!Array.isArray(s))return null;let i=0,a=s.length-1;for(;i<=a;){const f=i+a>>1,l=u.fetchIfRef(s[f]),n=l.get("Limits");if(t<u.fetchIfRef(n[0]))a=f-1;else{if(!(t>u.fetchIfRef(n[1]))){I=l;break}i=f+1}}if(i>a)return null}const k=I.get(this._type);if(Array.isArray(k)){let s=0,i=k.length-2;for(;s<=i;){const a=s+i>>1,f=a+(1&a),l=u.fetchIfRef(k[f]);if(t<l)i=f-2;else{if(!(t>l))return u.fetchIfRef(k[f+1]);s=f+2}}}return null}}v.NameTree=class extends _{constructor(t,u){super(t,u,"Names")}},v.NumberTree=class extends _{constructor(t,u){super(t,u,"Nums")}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.clearGlobalCaches=function(){(0,e.clearPrimitiveCaches)(),(0,d.clearUnicodeCaches)()};var e=K(5),d=K(40)},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.FileSpec=void 0;var e=K(2),d=K(7),_=K(5);function S(t){return t.has("UF")?t.get("UF"):t.has("F")?t.get("F"):t.has("Unix")?t.get("Unix"):t.has("Mac")?t.get("Mac"):t.has("DOS")?t.get("DOS"):null}v.FileSpec=class{constructor(u,I){u instanceof _.Dict&&(this.xref=I,this.root=u,u.has("FS")&&(this.fs=u.get("FS")),this.description=u.has("Desc")?(0,e.stringToPDFString)(u.get("Desc")):"",u.has("RF")&&(0,e.warn)("Related file specifications are not supported"),this.contentAvailable=!0,u.has("EF")||(this.contentAvailable=!1,(0,e.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const u=S(this.root)||"unnamed";this._filename=(0,e.stringToPDFString)(u).replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\/g,"/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=S(this.root.get("EF")));let u=null;if(this.contentRef){const I=this.xref.fetchIfRef(this.contentRef);I instanceof d.BaseStream?u=I.getBytes():(0,e.warn)("Embedded file specification points to non-existing/invalid content")}else(0,e.warn)("Embedded file specification does not have a content");return u}get serializable(){return{filename:this.filename,content:this.content}}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.MetadataParser=void 0;var e=K(66);v.MetadataParser=class{constructor(_){_=this._repair(_);const S=new e.SimpleXMLParser({lowerCaseName:!0}).parseFromString(_);this._metadataMap=new Map,this._data=_,S&&this._parse(S)}_repair(_){return _.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(S,t){const u=t.replace(/\\([0-3])([0-7])([0-7])/g,function(w,k,s,i){return String.fromCharCode(64*k+8*s+1*i)}).replace(/&(amp|apos|gt|lt|quot);/g,function(w,k){switch(k){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${k} isn't defined.`)}),I=[];for(let w=0,k=u.length;w<k;w+=2){const s=256*u.charCodeAt(w)+u.charCodeAt(w+1);I.push(s>=32&&s<127&&60!==s&&62!==s&&38!==s?String.fromCharCode(s):"&#x"+(65536+s).toString(16).substring(1)+";")}return">"+I.join("")})}_getSequence(_){const S=_.nodeName;return"rdf:bag"!==S&&"rdf:seq"!==S&&"rdf:alt"!==S?null:_.childNodes.filter(t=>"rdf:li"===t.nodeName)}_parseArray(_){if(!_.hasChildNodes())return;const[S]=_.childNodes,t=this._getSequence(S)||[];this._metadataMap.set(_.nodeName,t.map(u=>u.textContent.trim()))}_parse(_){let S=_.documentElement;if("rdf:rdf"!==S.nodeName)for(S=S.firstChild;S&&"rdf:rdf"!==S.nodeName;)S=S.nextSibling;if(S&&"rdf:rdf"===S.nodeName&&S.hasChildNodes())for(const t of S.childNodes)if("rdf:description"===t.nodeName)for(const u of t.childNodes){const I=u.nodeName;switch(I){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(u);continue}this._metadataMap.set(I,u.textContent.trim())}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.StructTreeRoot=v.StructTreePage=void 0;var e=K(5),d=K(2),_=K(70);const S="PAGE_CONTENT",t="STREAM_CONTENT",u="OBJECT",I="ELEMENT";v.StructTreeRoot=class{constructor(i){this.dict=i,this.roleMap=new Map}init(){this.readRoleMap()}readRoleMap(){const i=this.dict.get("RoleMap");i instanceof e.Dict&&i.forEach((a,f)=>{f instanceof e.Name&&this.roleMap.set(a,f.name)})}};class w{constructor(i,a){this.tree=i,this.dict=a,this.kids=[],this.parseKids()}get role(){const i=this.dict.get("S"),a=i instanceof e.Name?i.name:"",{root:f}=this.tree;return f.roleMap.has(a)?f.roleMap.get(a):a}parseKids(){let i=null;const a=this.dict.getRaw("Pg");a instanceof e.Ref&&(i=a.toString());const f=this.dict.get("K");if(Array.isArray(f))for(const l of f){const n=this.parseKid(i,l);n&&this.kids.push(n)}else{const l=this.parseKid(i,f);l&&this.kids.push(l)}}parseKid(i,a){if(Number.isInteger(a))return this.tree.pageDict.objId!==i?null:new k({type:S,mcid:a,pageObjId:i});let f=null;if(a instanceof e.Ref?f=this.dict.xref.fetch(a):a instanceof e.Dict&&(f=a),!f)return null;const l=f.getRaw("Pg");l instanceof e.Ref&&(i=l.toString());const n=f.get("Type")instanceof e.Name?f.get("Type").name:null;return"MCR"===n?this.tree.pageDict.objId!==i?null:new k({type:t,refObjId:f.getRaw("Stm")instanceof e.Ref?f.getRaw("Stm").toString():null,pageObjId:i,mcid:f.get("MCID")}):"OBJR"===n?this.tree.pageDict.objId!==i?null:new k({type:u,refObjId:f.getRaw("Obj")instanceof e.Ref?f.getRaw("Obj").toString():null,pageObjId:i}):new k({type:I,dict:f})}}class k{constructor({type:i,dict:a=null,mcid:f=null,pageObjId:l=null,refObjId:n=null}){this.type=i,this.dict=a,this.mcid=f,this.pageObjId=l,this.refObjId=n,this.parentNode=null}}v.StructTreePage=class{constructor(i,a){this.root=i,this.rootDict=i?i.dict:null,this.pageDict=a,this.nodes=[]}parse(){if(!this.root||!this.rootDict)return;const i=this.rootDict.get("ParentTree");if(!i)return;const a=this.pageDict.get("StructParents");if(!Number.isInteger(a))return;const f=new _.NumberTree(i,this.rootDict.xref).get(a);if(!Array.isArray(f))return;const l=new Map;for(const n of f)n instanceof e.Ref&&this.addNode(this.rootDict.xref.fetch(n),l)}addNode(i,a,f=0){if(f>40)return(0,d.warn)("StructTree MAX_DEPTH reached."),null;if(a.has(i))return a.get(i);const l=new w(this,i);a.set(i,l);const n=i.get("P");if(!n||(0,e.isName)(n.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(i,l)||a.delete(i),l;const o=this.addNode(n,a,f+1);if(!o)return l;let D=!1;for(const m of o.kids)m.type===I&&m.dict===i&&(m.parentNode=l,D=!0);return D||a.delete(i),l}addTopLevelNode(i,a){const f=this.rootDict.get("K");if(!f)return!1;if(f instanceof e.Dict)return f.objId===i.objId&&(this.nodes[0]=a,!0);if(!Array.isArray(f))return!0;let l=!1;for(let n=0;n<f.length;n++){const o=f[n];o&&o.toString()===i.objId&&(this.nodes[n]=a,l=!0)}return l}get serializable(){function i(f,l,n=0){if(n>40)return void(0,d.warn)("StructTree too deep to be fully serialized.");const o=Object.create(null);o.role=f.role,o.children=[],l.children.push(o);const D=f.dict.get("Alt");"string"==typeof D&&(o.alt=(0,d.stringToPDFString)(D));const m=f.dict.get("Lang");"string"==typeof m&&(o.lang=(0,d.stringToPDFString)(m));for(const O of f.kids){const B=O.type===I?O.parentNode:null;B?i(B,o,n+1):O.type===S||O.type===t?o.children.push({type:"content",id:`page${O.pageObjId}_mcid${O.mcid}`}):O.type===u&&o.children.push({type:"object",id:O.refObjId})}}const a=Object.create(null);a.children=[],a.role="Root";for(const f of this.nodes)f&&i(f,a);return a}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ObjectLoader=void 0;var e=K(5),d=K(7),_=K(6),S=K(2);function t(u,I){if(u instanceof e.Dict)u=u.getRawValues();else if(u instanceof d.BaseStream)u=u.dict.getRawValues();else if(!Array.isArray(u))return;for(const k of u)((w=k)instanceof e.Ref||w instanceof e.Dict||w instanceof d.BaseStream||Array.isArray(w))&&I.push(k);var w}v.ObjectLoader=class{constructor(I,w,k){this.dict=I,this.keys=w,this.xref=k,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:I,dict:w}=this;this.refSet=new e.RefSet;const k=[];for(let s=0,i=I.length;s<i;s++){const a=w.getRaw(I[s]);void 0!==a&&k.push(a)}return this._walk(k)}async _walk(I){const w=[],k=[];for(;I.length;){let s=I.pop();if(s instanceof e.Ref){if(this.refSet.has(s))continue;try{this.refSet.put(s),s=this.xref.fetch(s)}catch(i){if(!(i instanceof _.MissingDataException)){(0,S.warn)(`ObjectLoader._walk - requesting all data: "${i}".`),this.refSet=null;const{manager:a}=this.xref.stream;return a.requestAllChunks()}w.push(s),k.push({begin:i.begin,end:i.end})}}if(s instanceof d.BaseStream){const i=s.getBaseStreams();if(i){let a=!1;for(const f of i)f.isDataLoaded||(a=!0,k.push({begin:f.start,end:f.end}));a&&w.push(s)}}t(s,I)}if(k.length){await this.xref.stream.manager.requestRanges(k);for(const s of w)s instanceof e.Ref&&this.refSet.remove(s);return this._walk(w)}this.refSet=null}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.XFAFactory=void 0;var e=K(77),d=K(81),_=K(87),S=K(85),t=K(78),u=K(2),I=K(88),w=K(98);class k{constructor(i){try{this.root=(new I.XFAParser).parse(k._createDocument(i));const a=new d.Binder(this.root);this.form=a.bind(),this.dataHandler=new _.DataHandler(this.root,a.getData()),this.form[e.$globalData].template=this.form}catch(a){(0,u.warn)(`XFA - an error occurred during parsing and binding: ${a}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const i=this.form[e.$toPages]();return new Promise((a,f)=>{const l=()=>{try{const n=i.next();n.done?a(n.value):setTimeout(l,0)}catch(n){f(n)}};setTimeout(l,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(i=>{const{width:a,height:f}=i.attributes.style;return[0,0,parseInt(a),parseInt(f)]})}catch(i){(0,u.warn)(`XFA - an error occurred during layout: ${i}`)}}getBoundingBox(i){return this.dims[i]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(i){this.form[e.$globalData].images=i}setFonts(i){this.form[e.$globalData].fontFinder=new S.FontFinder(i);const a=[];for(let f of this.form[e.$globalData].usedTypefaces)f=(0,t.stripQuotes)(f),this.form[e.$globalData].fontFinder.find(f)||a.push(f);return a.length>0?a:null}appendFonts(i,a){this.form[e.$globalData].fontFinder.add(i,a)}async getPages(){this.pages||await this._createPages();const i=this.pages;return this.pages=null,i}serializeData(i){return this.dataHandler.serialize(i)}static _createDocument(i){return i["/xdp:xdp"]?Object.values(i).join(""):i["xdp:xdp"]}static getRichTextAsHtml(i){if(!i||"string"!=typeof i)return null;try{let a=new I.XFAParser(w.XhtmlNamespace,!0).parse(i);if(!["body","xhtml"].includes(a[e.$nodeName])){const o=w.XhtmlNamespace.body({});o[e.$appendChild](a),a=o}const f=a[e.$toHTML]();if(!f.success)return null;const{html:l}=f,{attributes:n}=l;return n&&(n.class&&(n.class=n.class.filter(o=>!o.startsWith("xfa"))),n.dir="auto"),{html:l,str:a[e.$text]()}}catch(a){(0,u.warn)(`XFA - an error occurred during parsing of rich text: ${a}`)}return null}}v.XFAFactory=k},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.XmlObject=v.XFAObjectArray=v.XFAObject=v.XFAAttribute=v.StringObject=v.OptionObject=v.Option10=v.Option01=v.IntegerObject=v.ContentObject=v.$uid=v.$toStyle=v.$toString=v.$toPages=v.$toHTML=v.$text=v.$tabIndex=v.$setValue=v.$setSetAttributes=v.$setId=v.$searchNode=v.$root=v.$resolvePrototypes=v.$removeChild=v.$pushPara=v.$pushGlyphs=v.$popPara=v.$onText=v.$onChildCheck=v.$onChild=v.$nsAttributes=v.$nodeName=v.$namespaceId=v.$isUsable=v.$isTransparent=v.$isThereMoreWidth=v.$isSplittable=v.$isNsAgnostic=v.$isDescendent=v.$isDataValue=v.$isCDATAXml=v.$isBindable=v.$insertAt=v.$indexOf=v.$ids=v.$hasSettableValue=v.$globalData=v.$getTemplateRoot=v.$getSubformParent=v.$getRealChildrenByNameIt=v.$getParent=v.$getNextPage=v.$getExtra=v.$getDataValue=v.$getContainedChildren=v.$getChildrenByNameIt=v.$getChildrenByName=v.$getChildrenByClass=v.$getChildren=v.$getAvailableSpace=v.$getAttributes=v.$getAttributeIt=v.$flushHTML=v.$finalize=v.$extra=v.$dump=v.$data=v.$content=v.$consumed=v.$clone=v.$cleanup=v.$cleanPage=v.$clean=v.$childrenToHTML=v.$appendChild=v.$addHTML=v.$acceptWhitespace=void 0;var e=K(78),d=K(2),_=K(6),S=K(79),t=K(80);const u=Symbol();v.$acceptWhitespace=u;const I=Symbol();v.$addHTML=I;const w=Symbol();v.$appendChild=w;const k=Symbol();v.$childrenToHTML=k;const s=Symbol();v.$clean=s;const i=Symbol();v.$cleanPage=i;const a=Symbol();v.$cleanup=a;const f=Symbol();v.$clone=f;const l=Symbol();v.$consumed=l;const n=Symbol("content");v.$content=n;const o=Symbol("data");v.$data=o;const D=Symbol();v.$dump=D;const m=Symbol("extra");v.$extra=m;const O=Symbol();v.$finalize=O;const B=Symbol();v.$flushHTML=B;const h=Symbol();v.$getAttributeIt=h;const y=Symbol();v.$getAttributes=y;const g=Symbol();v.$getAvailableSpace=g;const r=Symbol();v.$getChildrenByClass=r;const c=Symbol();v.$getChildrenByName=c;const P=Symbol();v.$getChildrenByNameIt=P;const T=Symbol();v.$getDataValue=T;const x=Symbol();v.$getExtra=x;const C=Symbol();v.$getRealChildrenByNameIt=C;const b=Symbol();v.$getChildren=b;const A=Symbol();v.$getContainedChildren=A;const R=Symbol();v.$getNextPage=R;const F=Symbol();v.$getSubformParent=F;const N=Symbol();v.$getParent=N;const E=Symbol();v.$getTemplateRoot=E;const L=Symbol();v.$globalData=L;const X=Symbol();v.$hasSettableValue=X;const V=Symbol();v.$ids=V;const J=Symbol();v.$indexOf=J;const z=Symbol();v.$insertAt=z;const $=Symbol();v.$isCDATAXml=$;const q=Symbol();v.$isBindable=q;const j=Symbol();v.$isDataValue=j;const M=Symbol();v.$isDescendent=M;const U=Symbol();v.$isNsAgnostic=U;const H=Symbol();v.$isSplittable=H;const W=Symbol();v.$isThereMoreWidth=W;const G=Symbol();v.$isTransparent=G;const Y=Symbol();v.$isUsable=Y;const tt=Symbol(),Z=Symbol("namespaceId");v.$namespaceId=Z;const at=Symbol("nodeName");v.$nodeName=at;const st=Symbol();v.$nsAttributes=st;const nt=Symbol();v.$onChild=nt;const ot=Symbol();v.$onChildCheck=ot;const ct=Symbol();v.$onText=ct;const ht=Symbol();v.$pushGlyphs=ht;const ft=Symbol();v.$popPara=ft;const mt=Symbol();v.$pushPara=mt;const Ct=Symbol();v.$removeChild=Ct;const At=Symbol("root");v.$root=At;const Ft=Symbol();v.$resolvePrototypes=Ft;const gt=Symbol();v.$searchNode=gt;const Bt=Symbol();v.$setId=Bt;const qt=Symbol();v.$setSetAttributes=qt;const Nt=Symbol();v.$setValue=Nt;const Ht=Symbol();v.$tabIndex=Ht;const Vt=Symbol();v.$text=Vt;const ae=Symbol();v.$toPages=ae;const Zt=Symbol();v.$toHTML=Zt;const Rt=Symbol();v.$toString=Rt;const _t=Symbol();v.$toStyle=_t;const Mt=Symbol("uid");v.$uid=Mt;const Pt=Symbol(),Dt=Symbol(),Tt=Symbol(),yt=Symbol("_children"),wt=Symbol(),pt=Symbol(),kt=Symbol(),vt=Symbol(),Ot=Symbol(),Xt=Symbol(),Yt=Symbol(),Qt=Symbol(),Ut=Symbol(),te=Symbol("parent"),ne=Symbol(),pe=Symbol(),oe=Symbol();let jt=0;const re=S.NamespaceIds.datasets.id;class Wt{constructor(bt,Et,$t=!1){this[Z]=bt,this[at]=Et,this[Yt]=$t,this[te]=null,this[yt]=[],this[Mt]=`${Et}${jt++}`,this[L]=null}[nt](bt){if(!this[Yt]||!this[ot](bt))return!1;const Et=bt[at],$t=this[Et];if(!($t instanceof ee))return null!==$t&&this[Ct]($t),this[Et]=bt,this[w](bt),!0;if($t.push(bt))return this[w](bt),!0;let Gt="";return this.id?Gt=` (id: ${this.id})`:this.name&&(Gt=` (name: ${this.name} ${this.h.value})`),(0,d.warn)(`XFA - node "${this[at]}"${Gt} has already enough "${Et}"!`),!1}[ot](bt){return this.hasOwnProperty(bt[at])&&bt[Z]===this[Z]}[U](){return!1}[u](){return!1}[$](){return!1}[q](){return!1}[ft](){this.para&&this[E]()[m].paraStack.pop()}[mt](){this[E]()[m].paraStack.push(this.para)}[Bt](bt){this.id&&this[Z]===S.NamespaceIds.template.id&&bt.set(this.id,this)}[E](){return this[L].template}[H](){return!1}[W](){return!1}[w](bt){bt[te]=this,this[yt].push(bt),!bt[L]&&this[L]&&(bt[L]=this[L])}[Ct](bt){const Et=this[yt].indexOf(bt);this[yt].splice(Et,1)}[X](){return this.hasOwnProperty("value")}[Nt](bt){}[ct](bt){}[O](){}[s](bt){delete this[Yt],this[a]&&(bt.clean(this[a]),delete this[a])}[J](bt){return this[yt].indexOf(bt)}[z](bt,Et){Et[te]=this,this[yt].splice(bt,0,Et),!Et[L]&&this[L]&&(Et[L]=this[L])}[G](){return!this.name}[tt](){return""}[Vt](){return 0===this[yt].length?this[n]:this[yt].map(bt=>bt[Vt]()).join("")}get[Tt](){const bt=Object.getPrototypeOf(this);if(!bt._attributes){const Et=bt._attributes=new Set;for(const $t of Object.getOwnPropertyNames(this)){if(null===this[$t]||this[$t]instanceof Wt||this[$t]instanceof ee)break;Et.add($t)}}return(0,d.shadow)(this,Tt,bt._attributes)}[M](bt){let Et=this;for(;Et;){if(Et===bt)return!0;Et=Et[N]()}return!1}[N](){return this[te]}[F](){return this[N]()}[b](bt=null){return bt?this[bt]:this[yt]}[D](){const bt=Object.create(null);this[n]&&(bt.$content=this[n]);for(const Et of Object.getOwnPropertyNames(this)){const $t=this[Et];null!==$t&&($t instanceof Wt?bt[Et]=$t[D]():$t instanceof ee?$t.isEmpty()||(bt[Et]=$t.dump()):bt[Et]=$t)}return bt}[_t](){return null}[Zt](){return e.HTMLResult.EMPTY}*[A](){for(const bt of this[b]())yield bt}*[vt](bt,Et){for(const $t of this[A]())if(!bt||Et===bt.has($t[at])){const Gt=this[g](),le=$t[Zt](Gt);le.success||(this[m].failingNode=$t),yield le}}[B](){return null}[I](bt,Et){this[m].children.push(bt)}[g](){}[k]({filter:bt=null,include:Et=!0}){if(this[m].generator){const $t=this[g](),Gt=this[m].failingNode[Zt]($t);if(!Gt.success)return Gt;Gt.html&&this[I](Gt.html,Gt.bbox),delete this[m].failingNode}else this[m].generator=this[vt](bt,Et);for(;;){const $t=this[m].generator.next();if($t.done)break;const Gt=$t.value;if(!Gt.success)return Gt;Gt.html&&this[I](Gt.html,Gt.bbox)}return this[m].generator=null,e.HTMLResult.EMPTY}[qt](bt){this[pe]=new Set(Object.keys(bt))}[Xt](bt){const Et=this[Tt],$t=this[pe];return[...bt].filter(Gt=>Et.has(Gt)&&!$t.has(Gt))}[Ft](bt,Et=new Set){for(const $t of this[yt])$t[ne](bt,Et)}[ne](bt,Et){const $t=this[Ot](bt,Et);$t?this[Pt]($t,bt,Et):this[Ft](bt,Et)}[Ot](bt,Et){const{use:$t,usehref:Gt}=this;if(!$t&&!Gt)return null;let le=null,xe=null,Ae=null,Pe=$t;if(Gt?(Pe=Gt,Gt.startsWith("#som(")&&Gt.endsWith(")")?xe=Gt.slice(5,Gt.length-1):Gt.startsWith(".#som(")&&Gt.endsWith(")")?xe=Gt.slice(6,Gt.length-1):Gt.startsWith("#")?Ae=Gt.slice(1):Gt.startsWith(".#")&&(Ae=Gt.slice(2))):$t.startsWith("#")?Ae=$t.slice(1):xe=$t,this.use=this.usehref="",Ae?le=bt.get(Ae):(le=(0,t.searchNode)(bt.get(At),this,xe,!0,!1),le&&(le=le[0])),!le)return(0,d.warn)(`XFA - Invalid prototype reference: ${Pe}.`),null;if(le[at]!==this[at])return(0,d.warn)(`XFA - Incompatible prototype: ${le[at]} !== ${this[at]}.`),null;if(Et.has(le))return(0,d.warn)("XFA - Cycle detected in prototypes use."),null;Et.add(le);const Te=le[Ot](bt,Et);return Te&&le[Pt](Te,bt,Et),le[Ft](bt,Et),Et.delete(le),le}[Pt](bt,Et,$t){if($t.has(bt))(0,d.warn)("XFA - Cycle detected in prototypes use.");else{!this[n]&&bt[n]&&(this[n]=bt[n]),new Set($t).add(bt);for(const Gt of this[Xt](bt[pe]))this[Gt]=bt[Gt],this[pe]&&this[pe].add(Gt);for(const Gt of Object.getOwnPropertyNames(this)){if(this[Tt].has(Gt))continue;const le=this[Gt],xe=bt[Gt];if(le instanceof ee){for(const Ae of le[yt])Ae[ne](Et,$t);for(let Ae=le[yt].length,Pe=xe[yt].length;Ae<Pe;Ae++){const Te=bt[yt][Ae][f]();if(!le.push(Te))break;Te[te]=this,this[yt].push(Te),Te[ne](Et,$t)}}else if(null===le){if(null!==xe){const Ae=xe[f]();Ae[te]=this,this[Gt]=Ae,this[yt].push(Ae),Ae[ne](Et,$t)}}else le[Ft](Et,$t),xe&&le[Pt](xe,Et,$t)}}}static[wt](bt){return Array.isArray(bt)?bt.map(Et=>Wt[wt](Et)):"object"==typeof bt&&null!==bt?Object.assign({},bt):bt}[f](){const bt=Object.create(Object.getPrototypeOf(this));for(const Et of Object.getOwnPropertySymbols(this))try{bt[Et]=this[Et]}catch{(0,d.shadow)(bt,Et,this[Et])}bt[Mt]=`${bt[at]}${jt++}`,bt[yt]=[];for(const Et of Object.getOwnPropertyNames(this)){if(this[Tt].has(Et)){bt[Et]=Wt[wt](this[Et]);continue}const $t=this[Et];bt[Et]=$t instanceof ee?new ee($t[Qt]):null}for(const Et of this[yt]){const $t=Et[at],Gt=Et[f]();bt[yt].push(Gt),Gt[te]=bt,null===bt[$t]?bt[$t]=Gt:bt[$t][yt].push(Gt)}return bt}[b](bt=null){return bt?this[yt].filter(Et=>Et[at]===bt):this[yt]}[r](bt){return this[bt]}[c](bt,Et,$t=!0){return Array.from(this[P](bt,Et,$t))}*[P](bt,Et,$t=!0){if("parent"!==bt){for(const Gt of this[yt])Gt[at]===bt&&(yield Gt),Gt.name===bt&&(yield Gt),(Et||Gt[G]())&&(yield*Gt[P](bt,Et,!1));$t&&this[Tt].has(bt)&&(yield new zt(this,bt,this[bt]))}else yield this[te]}}v.XFAObject=Wt;class ee{constructor(bt=1/0){this[Qt]=bt,this[yt]=[]}push(bt){return this[yt].length<=this[Qt]?(this[yt].push(bt),!0):((0,d.warn)(`XFA - node "${bt[at]}" accepts no more than ${this[Qt]} children`),!1)}isEmpty(){return 0===this[yt].length}dump(){return 1===this[yt].length?this[yt][0][D]():this[yt].map(bt=>bt[D]())}[f](){const bt=new ee(this[Qt]);return bt[yt]=this[yt].map(Et=>Et[f]()),bt}get children(){return this[yt]}clear(){this[yt].length=0}}v.XFAObjectArray=ee;class zt{constructor(bt,Et,$t){this[te]=bt,this[at]=Et,this[n]=$t,this[l]=!1,this[Mt]="attribute"+jt++}[N](){return this[te]}[j](){return!0}[T](){return this[n].trim()}[Nt](bt){this[n]=(bt=bt.value||"").toString()}[Vt](){return this[n]}[M](bt){return this[te]===bt||this[te][M](bt)}}v.XFAAttribute=zt;class ie extends Wt{constructor(bt,Et,$t={}){if(super(bt,Et),this[n]="",this[pt]=null,"#text"!==Et){const Gt=new Map;this[Dt]=Gt;for(const[le,xe]of Object.entries($t))Gt.set(le,new zt(this,le,xe));if($t.hasOwnProperty(st)){const le=$t[st].xfa.dataNode;void 0!==le&&("dataGroup"===le?this[pt]=!1:"dataValue"===le&&(this[pt]=!0))}}this[l]=!1}[Rt](bt){const Et=this[at];if("#text"===Et)return void bt.push((0,_.encodeToXmlString)(this[n]));const $t=(0,d.utf8StringToString)(Et),Gt=this[Z]===re?"xfa:":"";bt.push(`<${Gt}${$t}`);for(const[le,xe]of this[Dt].entries()){const Ae=(0,d.utf8StringToString)(le);bt.push(` ${Ae}="${(0,_.encodeToXmlString)(xe[n])}"`)}if(null!==this[pt]&&bt.push(this[pt]?' xfa:dataNode="dataValue"':' xfa:dataNode="dataGroup"'),this[n]||0!==this[yt].length){if(bt.push(">"),this[n])"string"==typeof this[n]?bt.push((0,_.encodeToXmlString)(this[n])):this[n][Rt](bt);else for(const le of this[yt])le[Rt](bt);bt.push(`</${Gt}${$t}>`)}else bt.push("/>")}[nt](bt){if(this[n]){const Et=new ie(this[Z],"#text");this[w](Et),Et[n]=this[n],this[n]=""}return this[w](bt),!0}[ct](bt){this[n]+=bt}[O](){if(this[n]&&this[yt].length>0){const bt=new ie(this[Z],"#text");this[w](bt),bt[n]=this[n],delete this[n]}}[Zt](){return"#text"===this[at]?e.HTMLResult.success({name:"#text",value:this[n]}):e.HTMLResult.EMPTY}[b](bt=null){return bt?this[yt].filter(Et=>Et[at]===bt):this[yt]}[y](){return this[Dt]}[r](bt){const Et=this[Dt].get(bt);return void 0!==Et?Et:this[b](bt)}*[P](bt,Et){const $t=this[Dt].get(bt);$t&&(yield $t);for(const Gt of this[yt])Gt[at]===bt&&(yield Gt),Et&&(yield*Gt[P](bt,Et))}*[h](bt,Et){const $t=this[Dt].get(bt);!$t||Et&&$t[l]||(yield $t);for(const Gt of this[yt])yield*Gt[h](bt,Et)}*[C](bt,Et,$t){for(const Gt of this[yt])Gt[at]!==bt||$t&&Gt[l]||(yield Gt),Et&&(yield*Gt[C](bt,Et,$t))}[j](){return null===this[pt]?0===this[yt].length||this[yt][0][Z]===S.NamespaceIds.xhtml.id:this[pt]}[T](){return null===this[pt]?0===this[yt].length?this[n].trim():this[yt][0][Z]===S.NamespaceIds.xhtml.id?this[yt][0][Vt]().trim():null:this[n].trim()}[Nt](bt){this[n]=(bt=bt.value||"").toString()}[D](bt=!1){const Et=Object.create(null);bt&&(Et.$ns=this[Z]),this[n]&&(Et.$content=this[n]),Et.$name=this[at],Et.children=[];for(const $t of this[yt])Et.children.push($t[D](bt));Et.attributes=Object.create(null);for(const[$t,Gt]of this[Dt])Et.attributes[$t]=Gt[n];return Et}}v.XmlObject=ie;class se extends Wt{constructor(bt,Et){super(bt,Et),this[n]=""}[ct](bt){this[n]+=bt}[O](){}}v.ContentObject=se,v.OptionObject=class extends se{constructor(bt,Et,$t){super(bt,Et),this[Ut]=$t}[O](){this[n]=(0,e.getKeyword)({data:this[n],defaultValue:this[Ut][0],validate:bt=>this[Ut].includes(bt)})}[s](bt){super[s](bt),delete this[Ut]}},v.StringObject=class extends se{[O](){this[n]=this[n].trim()}};class we extends se{constructor(bt,Et,$t,Gt){super(bt,Et),this[kt]=$t,this[oe]=Gt}[O](){this[n]=(0,e.getInteger)({data:this[n],defaultValue:this[kt],validate:this[oe]})}[s](bt){super[s](bt),delete this[kt],delete this[oe]}}v.IntegerObject=we,v.Option01=class extends we{constructor(bt,Et){super(bt,Et,0,$t=>1===$t)}},v.Option10=class extends we{constructor(bt,Et){super(bt,Et,1,$t=>0===$t)}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.HTMLResult=void 0,v.getBBox=function(w){if(!w)return{x:-1,y:-1,width:-1,height:-1};const s=w.trim().split(/\s*,\s*/).map(n=>t(n,"-1"));if(s.length<4||s[2]<0||s[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[i,a,f,l]=s;return{x:i,y:a,width:f,height:l}},v.getColor=function(w,k=[0,0,0]){let[s,i,a]=k;if(!w)return{r:s,g:i,b:a};const f=w.trim().split(/\s*,\s*/).map(l=>Math.min(Math.max(0,parseInt(l.trim(),10)),255)).map(l=>isNaN(l)?0:l);return f.length<3||([s,i,a]=f),{r:s,g:i,b:a}},v.getFloat=function({data:w,defaultValue:k,validate:s}){if(!w)return k;w=w.trim();const i=parseFloat(w);return!isNaN(i)&&s(i)?i:k},v.getInteger=function({data:w,defaultValue:k,validate:s}){if(!w)return k;w=w.trim();const i=parseInt(w,10);return!isNaN(i)&&s(i)?i:k},v.getKeyword=S,v.getMeasurement=t,v.getRatio=function(w){if(!w)return{num:1,den:1};const k=w.trim().split(/\s*:\s*/).map(a=>parseFloat(a)).filter(a=>!isNaN(a));if(1===k.length&&k.push(1),0===k.length)return{num:1,den:1};const[s,i]=k;return{num:s,den:i}},v.getRelevant=function(w){return w?w.trim().split(/\s+/).map(k=>({excluded:"-"===k[0],viewname:k.substring(1)})):[]},v.getStringOption=function(w,k){return S({data:w,defaultValue:k[0],validate:s=>k.includes(s)})},v.stripQuotes=function(w){return w.startsWith("'")||w.startsWith('"')?w.slice(1,w.length-1):w};var e=K(2);const d={pt:I=>I,cm:I=>I/2.54*72,mm:I=>I/25.4*72,in:I=>72*I,px:I=>I},_=/([+-]?\d+\.?\d*)(.*)/;function S({data:I,defaultValue:w,validate:k}){return I&&k(I=I.trim())?I:w}function t(I,w="0"){if(w=w||"0",!I)return t(w);const k=I.trim().match(_);if(!k)return t(w);const[,s,i]=k,a=parseFloat(s);if(isNaN(a))return t(w);if(0===a)return 0;const f=d[i];return f?f(a):a}class u{static get FAILURE(){return(0,e.shadow)(this,"FAILURE",new u(!1,null,null,null))}static get EMPTY(){return(0,e.shadow)(this,"EMPTY",new u(!0,null,null,null))}constructor(w,k,s,i){this.success=w,this.html=k,this.bbox=s,this.breakNode=i}isBreak(){return!!this.breakNode}static breakNode(w){return new u(!1,null,null,w)}static success(w,k=null){return new u(!0,w,k,null)}}v.HTMLResult=u},(it,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.NamespaceIds=v.$buildXFAObject=void 0;const K=Symbol();v.$buildXFAObject=K,v.NamespaceIds={config:{id:0,check:e=>e.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:e=>e.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:e=>e.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:e=>e.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:e=>e.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:e=>"http://ns.adobe.com/xdp/pdf/"===e},signature:{id:6,check:e=>"http://www.w3.org/2000/09/xmldsig#"===e},sourceSet:{id:7,check:e=>e.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:e=>"http://www.w3.org/1999/XSL/Transform"===e},template:{id:9,check:e=>e.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:e=>e.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:e=>"http://ns.adobe.com/xdp/"===e},xfdf:{id:12,check:e=>"http://ns.adobe.com/xfdf/"===e},xhtml:{id:13,check:e=>"http://www.w3.org/1999/xhtml"===e},xmpmeta:{id:14,check:e=>"http://ns.adobe.com/xmpmeta/"===e}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.createDataNode=function(D,m,O){const B=l(O);if(!B||B.some(g=>g.operator===I))return null;const h=i.get(B[0].name);let y=0;h?(D=h(D,m),y=1):D=m||D;for(let g=B.length;y<g;y++){const{name:r,operator:c,index:P}=B[y];if(!isFinite(P))return B[y].index=0,n(D,B.slice(y));let T;switch(c){case u:T=D[e.$getChildrenByName](r,!1);break;case I:T=D[e.$getChildrenByName](r,!0);break;case w:T=D[e.$getChildrenByClass](r),T=T instanceof e.XFAObjectArray?T.children:[T]}if(0===T.length)return n(D,B.slice(y));if(!(P<T.length))return B[y].index=P-T.length,n(D,B.slice(y));{const x=T[P];if(!(x instanceof e.XFAObject))return(0,_.warn)("XFA - Cannot create a node."),null;D=x}}return null},v.searchNode=function(D,m,O,B=!0,h=!0){const y=l(O,B);if(!y)return null;const g=i.get(y[0].name);let r,c=0;g?(r=!0,D=[g(D,m)],c=1):(r=null===m,D=[m||D]);for(let P=y.length;c<P;c++){const{name:T,cacheName:x,operator:C,index:b}=y[c],A=[];for(const R of D){if(!(R instanceof e.XFAObject))continue;let F,N;if(h&&(N=a.get(R),N||(N=new Map,a.set(R,N)),F=N.get(x)),!F){switch(C){case u:F=R[e.$getChildrenByName](T,!1);break;case I:F=R[e.$getChildrenByName](T,!0);break;case w:F=R[e.$getChildrenByClass](T),F=F instanceof e.XFAObjectArray?F.children:[F]}h&&N.set(x,F)}F.length>0&&A.push(F)}if(0!==A.length||r||0!==c)D=isFinite(b)?A.filter(R=>b<R.length).map(R=>R[b]):A.flat();else{if(!(m=m[e.$getParent]()))return null;c=-1,D=[m]}}return 0===D.length?null:D};var e=K(77),d=K(79),_=K(2);const S=/^[^.[]+/,t=/^[^\]]+/,u=0,I=1,w=2,k=3,s=4,i=new Map([["$data",(o,D)=>o.datasets?o.datasets.data:o],["$record",(o,D)=>(o.datasets?o.datasets.data:o)[e.$getChildren]()[0]],["$template",(o,D)=>o.template],["$connectionSet",(o,D)=>o.connectionSet],["$form",(o,D)=>o.form],["$layout",(o,D)=>o.layout],["$host",(o,D)=>o.host],["$dataWindow",(o,D)=>o.dataWindow],["$event",(o,D)=>o.event],["!",(o,D)=>o.datasets],["$xfa",(o,D)=>o],["xfa",(o,D)=>o],["$",(o,D)=>D]]),a=new WeakMap,f=d.NamespaceIds.datasets.id;function l(o,D,m=!0){let O=o.match(S);if(!O)return null;let[B]=O;const h=[{name:B,cacheName:"."+B,index:0,js:null,formCalc:null,operator:u}];let y=B.length;for(;y<o.length;){const r=y;if("["===o.charAt(y++)){if(O=o.slice(y).match(t),!O)return(0,_.warn)("XFA - Invalid index in SOM expression"),null;h.at(-1).index="*"===(g=(g=O[0]).trim())?1/0:parseInt(g,10)||0,y+=O[0].length+1;continue}let c;switch(o.charAt(y)){case".":if(!D)return null;y++,c=I;break;case"#":y++,c=w;break;case"[":if(m)return(0,_.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;c=k;break;case"(":if(m)return(0,_.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;c=s;break;default:c=u}if(O=o.slice(y).match(S),!O)break;[B]=O,y+=B.length,h.push({name:B,cacheName:o.slice(r,y),operator:c,index:0,js:null,formCalc:null})}var g;return h}function n(o,D){let m=null;for(const{name:O,index:B}of D){for(let h=0,y=isFinite(B)?B:0;h<=y;h++)m=new e.XmlObject(o[e.$namespaceId]===f?-1:o[e.$namespaceId],O),o[e.$appendChild](m);o=m}return m}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Binder=void 0;var e=K(77),d=K(82),_=K(80),S=K(79),t=K(2);const u=S.NamespaceIds.datasets.id;function I(w){const k=new d.Text({});return k[e.$content]=w,k}v.Binder=class{constructor(k){this.root=k,this.datasets=k.datasets,this.data=k.datasets&&k.datasets.data?k.datasets.data:new e.XmlObject(S.NamespaceIds.datasets.id,"data"),this.emptyMerge=0===this.data[e.$getChildren]().length,this.root.form=this.form=k.template[e.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(k,s,i){if(k[e.$data]=s,k[e.$hasSettableValue]())if(s[e.$isDataValue]()){const a=s[e.$getDataValue]();k[e.$setValue](I(a))}else if(k instanceof d.Field&&k.ui&&k.ui.choiceList&&"multiSelect"===k.ui.choiceList.open){const a=s[e.$getChildren]().map(f=>f[e.$content].trim()).join("\n");k[e.$setValue](I(a))}else this._isConsumeData()&&(0,t.warn)("XFA - Nodes haven't the same type.");else!s[e.$isDataValue]()||this._isMatchTemplate()?this._bindElement(k,s):(0,t.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(k,s,i,a){if(!k)return null;let f,l;for(let n=0;n<3;n++){for(f=i[e.$getRealChildrenByNameIt](k,!1,!0);l=f.next().value,l;)if(s===l[e.$isDataValue]())return l;if(i[e.$namespaceId]===S.NamespaceIds.datasets.id&&"data"===i[e.$nodeName])break;i=i[e.$getParent]()}return a?(f=this.data[e.$getRealChildrenByNameIt](k,!0,!1),l=f.next().value,l||(f=this.data[e.$getAttributeIt](k,!0),l=f.next().value,l&&l[e.$isDataValue]()?l:null)):null}_setProperties(k,s){if(k.hasOwnProperty("setProperty"))for(const{ref:i,target:a,connection:f}of k.setProperty.children){if(f||!i)continue;const l=(0,_.searchNode)(this.root,s,i,!1,!1);if(!l){(0,t.warn)(`XFA - Invalid reference: ${i}.`);continue}const[n]=l;if(!n[e.$isDescendent](this.data)){(0,t.warn)("XFA - Invalid node: must be a data node.");continue}const o=(0,_.searchNode)(this.root,k,a,!1,!1);if(!o){(0,t.warn)(`XFA - Invalid target: ${a}.`);continue}const[D]=o;if(!D[e.$isDescendent](k)){(0,t.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const m=D[e.$getParent]();if(D instanceof d.SetProperty||m instanceof d.SetProperty){(0,t.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(D instanceof d.BindItems||m instanceof d.BindItems){(0,t.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const O=n[e.$text](),B=D[e.$nodeName];if(D instanceof e.XFAAttribute){const h=Object.create(null);h[B]=O;const y=Reflect.construct(Object.getPrototypeOf(m).constructor,[h]);m[B]=y[B]}else D.hasOwnProperty(e.$content)?(D[e.$data]=n,D[e.$content]=O,D[e.$finalize]()):(0,t.warn)("XFA - Invalid node to use in setProperty")}}_bindItems(k,s){if(!k.hasOwnProperty("items")||!k.hasOwnProperty("bindItems")||k.bindItems.isEmpty())return;for(const f of k.items.children)k[e.$removeChild](f);k.items.clear();const i=new d.Items({}),a=new d.Items({});k[e.$appendChild](i),k.items.push(i),k[e.$appendChild](a),k.items.push(a);for(const{ref:f,labelRef:l,valueRef:n,connection:o}of k.bindItems.children){if(o||!f)continue;const D=(0,_.searchNode)(this.root,s,f,!1,!1);if(D)for(const m of D){if(!m[e.$isDescendent](this.datasets)){(0,t.warn)(`XFA - Invalid ref (${f}): must be a datasets child.`);continue}const O=(0,_.searchNode)(this.root,m,l,!0,!1);if(!O){(0,t.warn)(`XFA - Invalid label: ${l}.`);continue}const[B]=O;if(!B[e.$isDescendent](this.datasets)){(0,t.warn)("XFA - Invalid label: must be a datasets child.");continue}const h=(0,_.searchNode)(this.root,m,n,!0,!1);if(!h){(0,t.warn)(`XFA - Invalid value: ${n}.`);continue}const[y]=h;if(!y[e.$isDescendent](this.datasets)){(0,t.warn)("XFA - Invalid value: must be a datasets child.");continue}const g=I(B[e.$text]()),r=I(y[e.$text]());i[e.$appendChild](g),i.text.push(g),a[e.$appendChild](r),a.text.push(r)}else(0,t.warn)(`XFA - Invalid reference: ${f}.`)}}_bindOccurrences(k,s,i){let a;if(s.length>1&&(a=k[e.$clone](),a[e.$removeChild](a.occur),a.occur=null),this._bindValue(k,s[0],i),this._setProperties(k,s[0]),this._bindItems(k,s[0]),1===s.length)return;const f=k[e.$getParent](),l=k[e.$nodeName],n=f[e.$indexOf](k);for(let o=1,D=s.length;o<D;o++){const m=s[o],O=a[e.$clone]();f[l].push(O),f[e.$insertAt](n+o,O),this._bindValue(O,m,i),this._setProperties(O,m),this._bindItems(O,m)}}_createOccurrences(k){if(!this.emptyMerge)return;const{occur:s}=k;if(!s||s.initial<=1)return;const i=k[e.$getParent](),a=k[e.$nodeName];if(!(i[a]instanceof e.XFAObjectArray))return;let f;f=k.name?i[a].children.filter(o=>o.name===k.name).length:i[a].children.length;const l=i[e.$indexOf](k)+1,n=s.initial-f;if(n){const o=k[e.$clone]();o[e.$removeChild](o.occur),o.occur=null,i[a].push(o),i[e.$insertAt](l,o);for(let D=1;D<n;D++){const m=o[e.$clone]();i[a].push(m),i[e.$insertAt](l+D,m)}}}_getOccurInfo(k){const{name:s,occur:i}=k;return i&&s?[i.min,-1===i.max?1/0:i.max]:[1,1]}_setAndBind(k,s){this._setProperties(k,s),this._bindItems(k,s),this._bindElement(k,s)}_bindElement(k,s){const i=[];this._createOccurrences(k);for(const a of k[e.$getChildren]()){if(a[e.$data])continue;if(void 0===this._mergeMode&&"subform"===a[e.$nodeName]){this._mergeMode="consumeData"===a.mergeMode;const O=s[e.$getChildren]();if(O.length>0)this._bindOccurrences(a,[O[0]],null);else if(this.emptyMerge){const h=a[e.$data]=new e.XmlObject(s[e.$namespaceId]===u?-1:s[e.$namespaceId],a.name||"root");s[e.$appendChild](h),this._bindElement(a,h)}continue}if(!a[e.$isBindable]())continue;let f=!1,l=null,n=null,o=null;if(a.bind){switch(a.bind.match){case"none":this._setAndBind(a,s);continue;case"global":f=!0;break;case"dataRef":if(!a.bind.ref){(0,t.warn)(`XFA - ref is empty in node ${a[e.$nodeName]}.`),this._setAndBind(a,s);continue}n=a.bind.ref}a.bind.picture&&(l=a.bind.picture[e.$content])}const[D,m]=this._getOccurInfo(a);if(n){if(o=(0,_.searchNode)(this.root,s,n,!0,!1),null===o){if(o=(0,_.createDataNode)(this.data,s,n),!o)continue;this._isConsumeData()&&(o[e.$consumed]=!0),this._setAndBind(a,o);continue}this._isConsumeData()&&(o=o.filter(O=>!O[e.$consumed])),o.length>m?o=o.slice(0,m):0===o.length&&(o=null),o&&this._isConsumeData()&&o.forEach(O=>{O[e.$consumed]=!0})}else{if(!a.name){this._setAndBind(a,s);continue}if(this._isConsumeData()){const O=[];for(;O.length<m;){const B=this._findDataByNameToConsume(a.name,a[e.$hasSettableValue](),s,f);if(!B)break;B[e.$consumed]=!0,O.push(B)}o=O.length>0?O:null}else{if(o=s[e.$getRealChildrenByNameIt](a.name,!1,this.emptyMerge).next().value,!o){if(0===D){i.push(a);continue}o=a[e.$data]=new e.XmlObject(s[e.$namespaceId]===u?-1:s[e.$namespaceId],a.name),this.emptyMerge&&(o[e.$consumed]=!0),s[e.$appendChild](o),this._setAndBind(a,o);continue}this.emptyMerge&&(o[e.$consumed]=!0),o=[o]}}o?this._bindOccurrences(a,o,l):D>0?this._setAndBind(a,s):i.push(a)}i.forEach(a=>a[e.$getParent]()[e.$removeChild](a))}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Value=v.Text=v.TemplateNamespace=v.Template=v.SetProperty=v.Items=v.Field=v.BindItems=void 0;var e=K(77),d=K(79),_=K(83),S=K(84),t=K(78),u=K(2),I=K(85),w=K(6),k=K(80);const s=d.NamespaceIds.template.id,i="http://www.w3.org/2000/svg",a=/^H(\d+)$/,f=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),l=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function n(xt){if(!xt||!xt.border)return{w:0,h:0};const p=xt.border[e.$getExtra]();return p?{w:p.widths[0]+p.widths[2]+p.insets[0]+p.insets[2],h:p.widths[1]+p.widths[3]+p.insets[1]+p.insets[3]}:{w:0,h:0}}function o(xt){return xt.margin&&(xt.margin.topInset||xt.margin.rightInset||xt.margin.bottomInset||xt.margin.leftInset)}function D(xt,p){if(!xt.value){const lt=new _e({});xt[e.$appendChild](lt),xt.value=lt}xt.value[e.$setValue](p)}function*m(xt){for(const p of xt[e.$getChildren]())p instanceof De?yield*p[e.$getContainedChildren]():yield p}function O(xt){return xt.validate&&"error"===xt.validate.nullTest}function B(xt){for(;xt;){if(!xt.traversal)return void(xt[e.$tabIndex]=xt[e.$getParent]()[e.$tabIndex]);if(xt[e.$tabIndex])return;let p=null;for(const ut of xt.traversal[e.$getChildren]())if("next"===ut.operation){p=ut;break}if(!p||!p.ref)return void(xt[e.$tabIndex]=xt[e.$getParent]()[e.$tabIndex]);const lt=xt[e.$getTemplateRoot]();xt[e.$tabIndex]=++lt[e.$tabIndex];const St=lt[e.$searchNode](p.ref,xt);if(!St)return;xt=St[0]}}function h(xt,p){const lt=xt.assist;if(lt){const St=lt[e.$toHTML]();St&&(p.title=St);const ut=lt.role.match(a);if(ut){const Lt=ut[1];p.role="heading",p["aria-level"]=Lt}}if("table"===xt.layout)p.role="table";else if("row"===xt.layout)p.role="row";else{const St=xt[e.$getParent]();"row"===St.layout&&(p.role=St.assist&&"TH"===St.assist.role?"columnheader":"cell")}}function y(xt){if(!xt.assist)return null;const p=xt.assist;return p.speak&&""!==p.speak[e.$content]?p.speak[e.$content]:p.toolTip?p.toolTip[e.$content]:null}function g(xt){return t.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:xt}]})}function r(xt){const p=xt[e.$getTemplateRoot]();null===p[e.$extra].firstUnsplittable&&(p[e.$extra].firstUnsplittable=xt,p[e.$extra].noLayoutFailure=!0)}function c(xt){const p=xt[e.$getTemplateRoot]();p[e.$extra].firstUnsplittable===xt&&(p[e.$extra].noLayoutFailure=!1)}function P(xt){if(xt[e.$extra]||(xt[e.$extra]=Object.create(null),"auto"===xt.targetType))return!1;const p=xt[e.$getTemplateRoot]();let lt=null;if(xt.target){if(lt=p[e.$searchNode](xt.target,xt[e.$getParent]()),!lt)return!1;lt=lt[0]}const{currentPageArea:St,currentContentArea:ut}=p[e.$extra];if("pageArea"===xt.targetType)return lt instanceof le||(lt=null),xt.startNew?(xt[e.$extra].target=lt||St,!0):!(!lt||lt===St||(xt[e.$extra].target=lt,0));lt instanceof Z||(lt=null);const Q=lt&&lt[e.$getParent]();let Lt,Kt=Q;if(xt.startNew)if(lt){const Jt=Q.contentArea.children,ce=Jt.indexOf(ut),ue=Jt.indexOf(lt);-1!==ce&&ce<ue&&(Kt=null),Lt=ue-1}else Lt=St.contentArea.children.indexOf(ut);else{if(!lt||lt===ut)return!1;Lt=Q.contentArea.children.indexOf(lt)-1,Kt=Q===St?null:Q}return xt[e.$extra].target=Kt,xt[e.$extra].index=Lt,!0}function T(xt,p,lt){const St=xt[e.$getTemplateRoot](),ut=St[e.$extra].noLayoutFailure,Q=p[e.$getSubformParent];p[e.$getSubformParent]=()=>xt,St[e.$extra].noLayoutFailure=!0;const Lt=p[e.$toHTML](lt);xt[e.$addHTML](Lt.html,Lt.bbox),St[e.$extra].noLayoutFailure=ut,p[e.$getSubformParent]=Q}class x extends e.StringObject{constructor(p){super(s,"appearanceFilter"),this.id=p.id||"",this.type=(0,t.getStringOption)(p.type,["optional","required"]),this.use=p.use||"",this.usehref=p.usehref||""}}class C extends e.XFAObject{constructor(p){super(s,"arc",!0),this.circular=(0,t.getInteger)({data:p.circular,defaultValue:0,validate:lt=>1===lt}),this.hand=(0,t.getStringOption)(p.hand,["even","left","right"]),this.id=p.id||"",this.startAngle=(0,t.getFloat)({data:p.startAngle,defaultValue:0,validate:lt=>!0}),this.sweepAngle=(0,t.getFloat)({data:p.sweepAngle,defaultValue:360,validate:lt=>!0}),this.use=p.use||"",this.usehref=p.usehref||"",this.edge=null,this.fill=null}[e.$toHTML](){const p=this.edge||new Ft({}),lt=p[e.$toStyle](),St=Object.create(null);let ut;this.fill&&"visible"===this.fill.presence?Object.assign(St,this.fill[e.$toStyle]()):St.fill="transparent",St.strokeWidth=(0,S.measureToString)("visible"===p.presence?p.thickness:0),St.stroke=lt.color;const Q={xmlns:i,style:{width:"100%",height:"100%",overflow:"visible"}};if(360===this.sweepAngle)ut={name:"ellipse",attributes:{xmlns:i,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:St}};else{const Kt=this.startAngle*Math.PI/180,Jt=this.sweepAngle*Math.PI/180,ce=this.sweepAngle>180?1:0,[ue,ge,be,Se]=[50*(1+Math.cos(Kt)),50*(1-Math.sin(Kt)),50*(1+Math.cos(Kt+Jt)),50*(1-Math.sin(Kt+Jt))];ut={name:"path",attributes:{xmlns:i,d:`M ${ue} ${ge} A 50 50 0 ${ce} 0 ${be} ${Se}`,vectorEffect:"non-scaling-stroke",style:St}},Object.assign(Q,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const Lt={name:"svg",children:[ut],attributes:Q};return o(this[e.$getParent]()[e.$getParent]())?t.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Lt]}):(Lt.attributes.style.position="absolute",t.HTMLResult.success(Lt))}}class b extends e.XFAObject{constructor(p){super(s,"area",!0),this.colSpan=(0,t.getInteger)({data:p.colSpan,defaultValue:1,validate:lt=>lt>=1||-1===lt}),this.id=p.id||"",this.name=p.name||"",this.relevant=(0,t.getRelevant)(p.relevant),this.use=p.use||"",this.usehref=p.usehref||"",this.x=(0,t.getMeasurement)(p.x,"0pt"),this.y=(0,t.getMeasurement)(p.y,"0pt"),this.desc=null,this.extras=null,this.area=new e.XFAObjectArray,this.draw=new e.XFAObjectArray,this.exObject=new e.XFAObjectArray,this.exclGroup=new e.XFAObjectArray,this.field=new e.XFAObjectArray,this.subform=new e.XFAObjectArray,this.subformSet=new e.XFAObjectArray}*[e.$getContainedChildren](){yield*m(this)}[e.$isTransparent](){return!0}[e.$isBindable](){return!0}[e.$addHTML](p,lt){const[St,ut,Q,Lt]=lt;this[e.$extra].width=Math.max(this[e.$extra].width,St+Q),this[e.$extra].height=Math.max(this[e.$extra].height,ut+Lt),this[e.$extra].children.push(p)}[e.$getAvailableSpace](){return this[e.$extra].availableSpace}[e.$toHTML](p){const lt=(0,S.toStyle)(this,"position"),St={style:lt,id:this[e.$uid],class:["xfaArea"]};(0,S.isPrintOnly)(this)&&St.class.push("xfaPrintOnly"),this.name&&(St.xfaName=this.name);const ut=[];this[e.$extra]={children:ut,width:0,height:0,availableSpace:p};const Q=this[e.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!Q.success)return Q.isBreak()?Q:(delete this[e.$extra],t.HTMLResult.FAILURE);lt.width=(0,S.measureToString)(this[e.$extra].width),lt.height=(0,S.measureToString)(this[e.$extra].height);const Lt={name:"div",attributes:St,children:ut},Kt=[this.x,this.y,this[e.$extra].width,this[e.$extra].height];return delete this[e.$extra],t.HTMLResult.success(Lt,Kt)}}class A extends e.XFAObject{constructor(p){super(s,"assist",!0),this.id=p.id||"",this.role=p.role||"",this.use=p.use||"",this.usehref=p.usehref||"",this.speak=null,this.toolTip=null}[e.$toHTML](){return this.toolTip&&this.toolTip[e.$content]?this.toolTip[e.$content]:null}}class R extends e.XFAObject{constructor(p){super(s,"barcode",!0),this.charEncoding=(0,t.getKeyword)({data:p.charEncoding?p.charEncoding.toLowerCase():"",defaultValue:"",validate:lt=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(lt)||lt.match(/iso-8859-\d{2}/)}),this.checksum=(0,t.getStringOption)(p.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,t.getInteger)({data:p.dataColumnCount,defaultValue:-1,validate:lt=>lt>=0}),this.dataLength=(0,t.getInteger)({data:p.dataLength,defaultValue:-1,validate:lt=>lt>=0}),this.dataPrep=(0,t.getStringOption)(p.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,t.getInteger)({data:p.dataRowCount,defaultValue:-1,validate:lt=>lt>=0}),this.endChar=p.endChar||"",this.errorCorrectionLevel=(0,t.getInteger)({data:p.errorCorrectionLevel,defaultValue:-1,validate:lt=>lt>=0&&lt<=8}),this.id=p.id||"",this.moduleHeight=(0,t.getMeasurement)(p.moduleHeight,"5mm"),this.moduleWidth=(0,t.getMeasurement)(p.moduleWidth,"0.25mm"),this.printCheckDigit=(0,t.getInteger)({data:p.printCheckDigit,defaultValue:0,validate:lt=>1===lt}),this.rowColumnRatio=(0,t.getRatio)(p.rowColumnRatio),this.startChar=p.startChar||"",this.textLocation=(0,t.getStringOption)(p.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,t.getInteger)({data:p.truncate,defaultValue:0,validate:lt=>1===lt}),this.type=(0,t.getStringOption)(p.type?p.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,t.getStringOption)(p.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=p.use||"",this.usehref=p.usehref||"",this.wideNarrowRatio=(0,t.getRatio)(p.wideNarrowRatio),this.encrypt=null,this.extras=null}}class F extends e.XFAObject{constructor(p){super(s,"bind",!0),this.match=(0,t.getStringOption)(p.match,["once","dataRef","global","none"]),this.ref=p.ref||"",this.picture=null}}class N extends e.XFAObject{constructor(p){super(s,"bindItems"),this.connection=p.connection||"",this.labelRef=p.labelRef||"",this.ref=p.ref||"",this.valueRef=p.valueRef||""}}v.BindItems=N;class E extends e.XFAObject{constructor(p){super(s,"bookend"),this.id=p.id||"",this.leader=p.leader||"",this.trailer=p.trailer||"",this.use=p.use||"",this.usehref=p.usehref||""}}class L extends e.Option01{constructor(p){super(s,"boolean"),this.id=p.id||"",this.name=p.name||"",this.use=p.use||"",this.usehref=p.usehref||""}[e.$toHTML](p){return g(1===this[e.$content]?"1":"0")}}class X extends e.XFAObject{constructor(p){super(s,"border",!0),this.break=(0,t.getStringOption)(p.break,["close","open"]),this.hand=(0,t.getStringOption)(p.hand,["even","left","right"]),this.id=p.id||"",this.presence=(0,t.getStringOption)(p.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,t.getRelevant)(p.relevant),this.use=p.use||"",this.usehref=p.usehref||"",this.corner=new e.XFAObjectArray(4),this.edge=new e.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[e.$getExtra](){if(!this[e.$extra]){const p=this.edge.children.slice();if(p.length<4){const ut=p.at(-1)||new Ft({});for(let Q=p.length;Q<4;Q++)p.push(ut)}const lt=p.map(ut=>ut.thickness),St=[0,0,0,0];this.margin&&(St[0]=this.margin.topInset,St[1]=this.margin.rightInset,St[2]=this.margin.bottomInset,St[3]=this.margin.leftInset),this[e.$extra]={widths:lt,insets:St,edges:p}}return this[e.$extra]}[e.$toStyle](){const{edges:p}=this[e.$getExtra](),lt=p.map(ut=>{const Q=ut[e.$toStyle]();return Q.color=Q.color||"#000000",Q}),St=Object.create(null);if(this.margin&&Object.assign(St,this.margin[e.$toStyle]()),this.fill&&"visible"===this.fill.presence&&Object.assign(St,this.fill[e.$toStyle]()),this.corner.children.some(ut=>0!==ut.radius)){const ut=this.corner.children.map(Q=>Q[e.$toStyle]());if(2===ut.length||3===ut.length){const Q=ut.at(-1);for(let Lt=ut.length;Lt<4;Lt++)ut.push(Q)}St.borderRadius=ut.map(Q=>Q.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":St.borderStyle="";break;case"inactive":St.borderStyle="none";break;default:St.borderStyle=lt.map(ut=>ut.style).join(" ")}return St.borderWidth=lt.map(ut=>ut.width).join(" "),St.borderColor=lt.map(ut=>ut.color).join(" "),St}}class V extends e.XFAObject{constructor(p){super(s,"break",!0),this.after=(0,t.getStringOption)(p.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=p.afterTarget||"",this.before=(0,t.getStringOption)(p.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=p.beforeTarget||"",this.bookendLeader=p.bookendLeader||"",this.bookendTrailer=p.bookendTrailer||"",this.id=p.id||"",this.overflowLeader=p.overflowLeader||"",this.overflowTarget=p.overflowTarget||"",this.overflowTrailer=p.overflowTrailer||"",this.startNew=(0,t.getInteger)({data:p.startNew,defaultValue:0,validate:lt=>1===lt}),this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null}}class J extends e.XFAObject{constructor(p){super(s,"breakAfter",!0),this.id=p.id||"",this.leader=p.leader||"",this.startNew=(0,t.getInteger)({data:p.startNew,defaultValue:0,validate:lt=>1===lt}),this.target=p.target||"",this.targetType=(0,t.getStringOption)(p.targetType,["auto","contentArea","pageArea"]),this.trailer=p.trailer||"",this.use=p.use||"",this.usehref=p.usehref||"",this.script=null}}class z extends e.XFAObject{constructor(p){super(s,"breakBefore",!0),this.id=p.id||"",this.leader=p.leader||"",this.startNew=(0,t.getInteger)({data:p.startNew,defaultValue:0,validate:lt=>1===lt}),this.target=p.target||"",this.targetType=(0,t.getStringOption)(p.targetType,["auto","contentArea","pageArea"]),this.trailer=p.trailer||"",this.use=p.use||"",this.usehref=p.usehref||"",this.script=null}[e.$toHTML](p){return this[e.$extra]={},t.HTMLResult.FAILURE}}class $ extends e.XFAObject{constructor(p){super(s,"button",!0),this.highlight=(0,t.getStringOption)(p.highlight,["inverted","none","outline","push"]),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null}[e.$toHTML](p){const lt=this[e.$getParent]()[e.$getParent](),St={name:"button",attributes:{id:this[e.$uid],class:["xfaButton"],style:{}},children:[]};for(const ut of lt.event.children){if("click"!==ut.activity||!ut.script)continue;const Q=(0,w.recoverJsURL)(ut.script[e.$content]);if(!Q)continue;const Lt=(0,S.fixURL)(Q.url);Lt&&St.children.push({name:"a",attributes:{id:"link"+this[e.$uid],href:Lt,newWindow:Q.newWindow,class:["xfaLink"],style:{}},children:[]})}return t.HTMLResult.success(St)}}class q extends e.XFAObject{constructor(p){super(s,"calculate",!0),this.id=p.id||"",this.override=(0,t.getStringOption)(p.override,["disabled","error","ignore","warning"]),this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null,this.message=null,this.script=null}}class j extends e.XFAObject{constructor(p){super(s,"caption",!0),this.id=p.id||"",this.placement=(0,t.getStringOption)(p.placement,["left","bottom","inline","right","top"]),this.presence=(0,t.getStringOption)(p.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,t.getMeasurement)(p.reserve)),this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[e.$setValue](p){D(this,p)}[e.$getExtra](p){if(!this[e.$extra]){let{width:lt,height:St}=p;switch(this.placement){case"left":case"right":case"inline":lt=this.reserve<=0?lt:this.reserve;break;case"top":case"bottom":St=this.reserve<=0?St:this.reserve}this[e.$extra]=(0,S.layoutNode)(this,{width:lt,height:St})}return this[e.$extra]}[e.$toHTML](p){if(!this.value)return t.HTMLResult.EMPTY;this[e.$pushPara]();const lt=this.value[e.$toHTML](p).html;if(!lt)return this[e.$popPara](),t.HTMLResult.EMPTY;const St=this.reserve;if(this.reserve<=0){const{w:Lt,h:Kt}=this[e.$getExtra](p);switch(this.placement){case"left":case"right":case"inline":this.reserve=Lt;break;case"top":case"bottom":this.reserve=Kt}}const ut=[];ut.push("string"==typeof lt?{name:"#text",value:lt}:lt);const Q=(0,S.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(Q.width=(0,S.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(Q.height=(0,S.measureToString)(this.reserve))}return(0,S.setPara)(this,null,lt),this[e.$popPara](),this.reserve=St,t.HTMLResult.success({name:"div",attributes:{style:Q,class:["xfaCaption"]},children:ut})}}class M extends e.StringObject{constructor(p){super(s,"certificate"),this.id=p.id||"",this.name=p.name||"",this.use=p.use||"",this.usehref=p.usehref||""}}class U extends e.XFAObject{constructor(p){super(s,"certificates",!0),this.credentialServerPolicy=(0,t.getStringOption)(p.credentialServerPolicy,["optional","required"]),this.id=p.id||"",this.url=p.url||"",this.urlPolicy=p.urlPolicy||"",this.use=p.use||"",this.usehref=p.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class H extends e.XFAObject{constructor(p){super(s,"checkButton",!0),this.id=p.id||"",this.mark=(0,t.getStringOption)(p.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,t.getStringOption)(p.shape,["square","round"]),this.size=(0,t.getMeasurement)(p.size,"10pt"),this.use=p.use||"",this.usehref=p.usehref||"",this.border=null,this.extras=null,this.margin=null}[e.$toHTML](p){const lt=(0,S.toStyle)("margin"),St=(0,S.measureToString)(this.size);let ut,Q,Lt;lt.width=lt.height=St;const Kt=this[e.$getParent]()[e.$getParent](),Jt=Kt.items.children.length&&Kt.items.children[0][e.$toHTML]().html||[],ce={on:(void 0!==Jt[0]?Jt[0]:"on").toString(),off:(void 0!==Jt[1]?Jt[1]:"off").toString()},ue=(Kt.value&&Kt.value[e.$text]()||"off")===ce.on||void 0,ge=Kt[e.$getSubformParent]();let Se;ge instanceof Mt?(Lt=ge[e.$uid],ut="radio",Q="xfaRadio",Se=ge[e.$data]&&ge[e.$data][e.$uid]||ge[e.$uid]):(ut="checkbox",Q="xfaCheckbox",Se=Kt[e.$data]&&Kt[e.$data][e.$uid]||Kt[e.$uid]);const ye={name:"input",attributes:{class:[Q],style:lt,fieldId:Kt[e.$uid],dataId:Se,type:ut,checked:ue,xfaOn:ce.on,xfaOff:ce.off,"aria-label":y(Kt),"aria-required":!1}};return Lt&&(ye.attributes.name=Lt),O(Kt)&&(ye.attributes["aria-required"]=!0,ye.attributes.required=!0),t.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[ye]})}}class W extends e.XFAObject{constructor(p){super(s,"choiceList",!0),this.commitOn=(0,t.getStringOption)(p.commitOn,["select","exit"]),this.id=p.id||"",this.open=(0,t.getStringOption)(p.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,t.getInteger)({data:p.textEntry,defaultValue:0,validate:lt=>1===lt}),this.use=p.use||"",this.usehref=p.usehref||"",this.border=null,this.extras=null,this.margin=null}[e.$toHTML](p){const lt=(0,S.toStyle)(this,"border","margin"),St=this[e.$getParent]()[e.$getParent](),ut={fontSize:`calc(${St.font&&St.font.size||10}px * var(--scale-factor))`},Q=[];if(St.items.children.length>0){const Kt=St.items;let Jt=0,ce=0;2===Kt.children.length&&(Jt=Kt.children[0].save,ce=1-Jt);const ue=Kt.children[Jt][e.$toHTML]().html,ge=Kt.children[ce][e.$toHTML]().html;let be=!1;const Se=St.value&&St.value[e.$text]()||"";for(let ye=0,fe=ue.length;ye<fe;ye++){const Ce={name:"option",attributes:{value:ge[ye]||ue[ye],style:ut},value:ue[ye]};ge[ye]===Se&&(Ce.attributes.selected=be=!0),Q.push(Ce)}be||Q.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const Lt={class:["xfaSelect"],fieldId:St[e.$uid],dataId:St[e.$data]&&St[e.$data][e.$uid]||St[e.$uid],style:lt,"aria-label":y(St),"aria-required":!1};return O(St)&&(Lt["aria-required"]=!0,Lt.required=!0),"multiSelect"===this.open&&(Lt.multiple=!0),t.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:Q,attributes:Lt}]})}}class G extends e.XFAObject{constructor(p){super(s,"color",!0),this.cSpace=(0,t.getStringOption)(p.cSpace,["SRGB"]),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||"",this.value=p.value?(0,t.getColor)(p.value):"",this.extras=null}[e.$hasSettableValue](){return!1}[e.$toStyle](){return this.value?u.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class Y extends e.XFAObject{constructor(p){super(s,"comb"),this.id=p.id||"",this.numberOfCells=(0,t.getInteger)({data:p.numberOfCells,defaultValue:0,validate:lt=>lt>=0}),this.use=p.use||"",this.usehref=p.usehref||""}}class tt extends e.XFAObject{constructor(p){super(s,"connect",!0),this.connection=p.connection||"",this.id=p.id||"",this.ref=p.ref||"",this.usage=(0,t.getStringOption)(p.usage,["exportAndImport","exportOnly","importOnly"]),this.use=p.use||"",this.usehref=p.usehref||"",this.picture=null}}class Z extends e.XFAObject{constructor(p){super(s,"contentArea",!0),this.h=(0,t.getMeasurement)(p.h),this.id=p.id||"",this.name=p.name||"",this.relevant=(0,t.getRelevant)(p.relevant),this.use=p.use||"",this.usehref=p.usehref||"",this.w=(0,t.getMeasurement)(p.w),this.x=(0,t.getMeasurement)(p.x,"0pt"),this.y=(0,t.getMeasurement)(p.y,"0pt"),this.desc=null,this.extras=null}[e.$toHTML](p){const lt={left:(0,S.measureToString)(this.x),top:(0,S.measureToString)(this.y),width:(0,S.measureToString)(this.w),height:(0,S.measureToString)(this.h)},St=["xfaContentarea"];return(0,S.isPrintOnly)(this)&&St.push("xfaPrintOnly"),t.HTMLResult.success({name:"div",children:[],attributes:{style:lt,class:St,id:this[e.$uid]}})}}class at extends e.XFAObject{constructor(p){super(s,"corner",!0),this.id=p.id||"",this.inverted=(0,t.getInteger)({data:p.inverted,defaultValue:0,validate:lt=>1===lt}),this.join=(0,t.getStringOption)(p.join,["square","round"]),this.presence=(0,t.getStringOption)(p.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,t.getMeasurement)(p.radius),this.stroke=(0,t.getStringOption)(p.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,t.getMeasurement)(p.thickness,"0.5pt"),this.use=p.use||"",this.usehref=p.usehref||"",this.color=null,this.extras=null}[e.$toStyle](){const p=(0,S.toStyle)(this,"visibility");return p.radius=(0,S.measureToString)("square"===this.join?0:this.radius),p}}class st extends e.ContentObject{constructor(p){super(s,"date"),this.id=p.id||"",this.name=p.name||"",this.use=p.use||"",this.usehref=p.usehref||""}[e.$finalize](){const p=this[e.$content].trim();this[e.$content]=p?new Date(p):null}[e.$toHTML](p){return g(this[e.$content]?this[e.$content].toString():"")}}class nt extends e.ContentObject{constructor(p){super(s,"dateTime"),this.id=p.id||"",this.name=p.name||"",this.use=p.use||"",this.usehref=p.usehref||""}[e.$finalize](){const p=this[e.$content].trim();this[e.$content]=p?new Date(p):null}[e.$toHTML](p){return g(this[e.$content]?this[e.$content].toString():"")}}class ot extends e.XFAObject{constructor(p){super(s,"dateTimeEdit",!0),this.hScrollPolicy=(0,t.getStringOption)(p.hScrollPolicy,["auto","off","on"]),this.id=p.id||"",this.picker=(0,t.getStringOption)(p.picker,["host","none"]),this.use=p.use||"",this.usehref=p.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[e.$toHTML](p){const lt=(0,S.toStyle)(this,"border","font","margin"),St=this[e.$getParent]()[e.$getParent](),ut={name:"input",attributes:{type:"text",fieldId:St[e.$uid],dataId:St[e.$data]&&St[e.$data][e.$uid]||St[e.$uid],class:["xfaTextfield"],style:lt,"aria-label":y(St),"aria-required":!1}};return O(St)&&(ut.attributes["aria-required"]=!0,ut.attributes.required=!0),t.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[ut]})}}class ct extends e.ContentObject{constructor(p){super(s,"decimal"),this.fracDigits=(0,t.getInteger)({data:p.fracDigits,defaultValue:2,validate:lt=>!0}),this.id=p.id||"",this.leadDigits=(0,t.getInteger)({data:p.leadDigits,defaultValue:-1,validate:lt=>!0}),this.name=p.name||"",this.use=p.use||"",this.usehref=p.usehref||""}[e.$finalize](){const p=parseFloat(this[e.$content].trim());this[e.$content]=isNaN(p)?null:p}[e.$toHTML](p){return g(null!==this[e.$content]?this[e.$content].toString():"")}}class ht extends e.XFAObject{constructor(p){super(s,"defaultUi",!0),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null}}class ft extends e.XFAObject{constructor(p){super(s,"desc",!0),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||"",this.boolean=new e.XFAObjectArray,this.date=new e.XFAObjectArray,this.dateTime=new e.XFAObjectArray,this.decimal=new e.XFAObjectArray,this.exData=new e.XFAObjectArray,this.float=new e.XFAObjectArray,this.image=new e.XFAObjectArray,this.integer=new e.XFAObjectArray,this.text=new e.XFAObjectArray,this.time=new e.XFAObjectArray}}class mt extends e.OptionObject{constructor(p){super(s,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||""}}class Ct extends e.XFAObject{constructor(p){super(s,"digestMethods",!0),this.id=p.id||"",this.type=(0,t.getStringOption)(p.type,["optional","required"]),this.use=p.use||"",this.usehref=p.usehref||"",this.digestMethod=new e.XFAObjectArray}}class At extends e.XFAObject{constructor(p){super(s,"draw",!0),this.anchorType=(0,t.getStringOption)(p.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,t.getInteger)({data:p.colSpan,defaultValue:1,validate:lt=>lt>=1||-1===lt}),this.h=p.h?(0,t.getMeasurement)(p.h):"",this.hAlign=(0,t.getStringOption)(p.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=p.id||"",this.locale=p.locale||"",this.maxH=(0,t.getMeasurement)(p.maxH,"0pt"),this.maxW=(0,t.getMeasurement)(p.maxW,"0pt"),this.minH=(0,t.getMeasurement)(p.minH,"0pt"),this.minW=(0,t.getMeasurement)(p.minW,"0pt"),this.name=p.name||"",this.presence=(0,t.getStringOption)(p.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,t.getRelevant)(p.relevant),this.rotate=(0,t.getInteger)({data:p.rotate,defaultValue:0,validate:lt=>lt%90==0}),this.use=p.use||"",this.usehref=p.usehref||"",this.w=p.w?(0,t.getMeasurement)(p.w):"",this.x=(0,t.getMeasurement)(p.x,"0pt"),this.y=(0,t.getMeasurement)(p.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new e.XFAObjectArray}[e.$setValue](p){D(this,p)}[e.$toHTML](p){if(B(this),"hidden"===this.presence||"inactive"===this.presence)return t.HTMLResult.EMPTY;(0,S.fixDimensions)(this),this[e.$pushPara]();const lt=this.w,St=this.h,{w:ut,h:Q,isBroken:Lt}=(0,S.layoutNode)(this,p);if(ut&&""===this.w){if(Lt&&this[e.$getSubformParent]()[e.$isThereMoreWidth]())return this[e.$popPara](),t.HTMLResult.FAILURE;this.w=ut}if(Q&&""===this.h&&(this.h=Q),r(this),!(0,_.checkDimensions)(this,p))return this.w=lt,this.h=St,this[e.$popPara](),t.HTMLResult.FAILURE;c(this);const Kt=(0,S.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,S.setMinMaxDimensions)(this,Kt),Kt.margin&&(Kt.padding=Kt.margin,delete Kt.margin);const Jt=["xfaDraw"];this.font&&Jt.push("xfaFont"),(0,S.isPrintOnly)(this)&&Jt.push("xfaPrintOnly");const ce={style:Kt,id:this[e.$uid],class:Jt};this.name&&(ce.xfaName=this.name);const ue={name:"div",attributes:ce,children:[]};h(this,ce);const ge=(0,S.computeBbox)(this,ue,p),be=this.value?this.value[e.$toHTML](p).html:null;return null===be?(this.w=lt,this.h=St,this[e.$popPara](),t.HTMLResult.success((0,S.createWrapper)(this,ue),ge)):(ue.children.push(be),(0,S.setPara)(this,Kt,be),this.w=lt,this.h=St,this[e.$popPara](),t.HTMLResult.success((0,S.createWrapper)(this,ue),ge))}}class Ft extends e.XFAObject{constructor(p){super(s,"edge",!0),this.cap=(0,t.getStringOption)(p.cap,["square","butt","round"]),this.id=p.id||"",this.presence=(0,t.getStringOption)(p.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,t.getStringOption)(p.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,t.getMeasurement)(p.thickness,"0.5pt"),this.use=p.use||"",this.usehref=p.usehref||"",this.color=null,this.extras=null}[e.$toStyle](){const p=(0,S.toStyle)(this,"visibility");if(Object.assign(p,{linecap:this.cap,width:(0,S.measureToString)(this.thickness),color:this.color?this.color[e.$toStyle]():"#000000",style:""}),"visible"!==this.presence)p.style="none";else switch(this.stroke){case"solid":p.style="solid";break;case"dashDot":case"dashDotDot":case"dashed":p.style="dashed";break;case"dotted":p.style="dotted";break;case"embossed":p.style="ridge";break;case"etched":p.style="groove";break;case"lowered":p.style="inset";break;case"raised":p.style="outset"}return p}}class gt extends e.OptionObject{constructor(p){super(s,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||""}}class Bt extends e.XFAObject{constructor(p){super(s,"encodings",!0),this.id=p.id||"",this.type=(0,t.getStringOption)(p.type,["optional","required"]),this.use=p.use||"",this.usehref=p.usehref||"",this.encoding=new e.XFAObjectArray}}class qt extends e.XFAObject{constructor(p){super(s,"encrypt",!0),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||"",this.certificate=null}}class Nt extends e.XFAObject{constructor(p){super(s,"encryptData",!0),this.id=p.id||"",this.operation=(0,t.getStringOption)(p.operation,["encrypt","decrypt"]),this.target=p.target||"",this.use=p.use||"",this.usehref=p.usehref||"",this.filter=null,this.manifest=null}}class Ht extends e.XFAObject{constructor(p){super(s,"encryption",!0),this.id=p.id||"",this.type=(0,t.getStringOption)(p.type,["optional","required"]),this.use=p.use||"",this.usehref=p.usehref||"",this.certificate=new e.XFAObjectArray}}class Vt extends e.OptionObject{constructor(p){super(s,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||""}}class ae extends e.XFAObject{constructor(p){super(s,"encryptionMethods",!0),this.id=p.id||"",this.type=(0,t.getStringOption)(p.type,["optional","required"]),this.use=p.use||"",this.usehref=p.usehref||"",this.encryptionMethod=new e.XFAObjectArray}}class Zt extends e.XFAObject{constructor(p){super(s,"event",!0),this.activity=(0,t.getStringOption)(p.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=p.id||"",this.listen=(0,t.getStringOption)(p.listen,["refOnly","refAndDescendents"]),this.name=p.name||"",this.ref=p.ref||"",this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class Rt extends e.ContentObject{constructor(p){super(s,"exData"),this.contentType=p.contentType||"",this.href=p.href||"",this.id=p.id||"",this.maxLength=(0,t.getInteger)({data:p.maxLength,defaultValue:-1,validate:lt=>lt>=-1}),this.name=p.name||"",this.rid=p.rid||"",this.transferEncoding=(0,t.getStringOption)(p.transferEncoding,["none","base64","package"]),this.use=p.use||"",this.usehref=p.usehref||""}[e.$isCDATAXml](){return"text/html"===this.contentType}[e.$onChild](p){return("text/html"===this.contentType&&p[e.$namespaceId]===d.NamespaceIds.xhtml.id||"text/xml"===this.contentType)&&(this[e.$content]=p,!0)}[e.$toHTML](p){return"text/html"===this.contentType&&this[e.$content]?this[e.$content][e.$toHTML](p):t.HTMLResult.EMPTY}}class _t extends e.XFAObject{constructor(p){super(s,"exObject",!0),this.archive=p.archive||"",this.classId=p.classId||"",this.codeBase=p.codeBase||"",this.codeType=p.codeType||"",this.id=p.id||"",this.name=p.name||"",this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null,this.boolean=new e.XFAObjectArray,this.date=new e.XFAObjectArray,this.dateTime=new e.XFAObjectArray,this.decimal=new e.XFAObjectArray,this.exData=new e.XFAObjectArray,this.exObject=new e.XFAObjectArray,this.float=new e.XFAObjectArray,this.image=new e.XFAObjectArray,this.integer=new e.XFAObjectArray,this.text=new e.XFAObjectArray,this.time=new e.XFAObjectArray}}class Mt extends e.XFAObject{constructor(p){super(s,"exclGroup",!0),this.access=(0,t.getStringOption)(p.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=p.accessKey||"",this.anchorType=(0,t.getStringOption)(p.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,t.getInteger)({data:p.colSpan,defaultValue:1,validate:lt=>lt>=1||-1===lt}),this.h=p.h?(0,t.getMeasurement)(p.h):"",this.hAlign=(0,t.getStringOption)(p.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=p.id||"",this.layout=(0,t.getStringOption)(p.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,t.getMeasurement)(p.maxH,"0pt"),this.maxW=(0,t.getMeasurement)(p.maxW,"0pt"),this.minH=(0,t.getMeasurement)(p.minH,"0pt"),this.minW=(0,t.getMeasurement)(p.minW,"0pt"),this.name=p.name||"",this.presence=(0,t.getStringOption)(p.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,t.getRelevant)(p.relevant),this.use=p.use||"",this.usehref=p.usehref||"",this.w=p.w?(0,t.getMeasurement)(p.w):"",this.x=(0,t.getMeasurement)(p.x,"0pt"),this.y=(0,t.getMeasurement)(p.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new e.XFAObjectArray,this.event=new e.XFAObjectArray,this.field=new e.XFAObjectArray,this.setProperty=new e.XFAObjectArray}[e.$isBindable](){return!0}[e.$hasSettableValue](){return!0}[e.$setValue](p){for(const lt of this.field.children){if(!lt.value){const St=new _e({});lt[e.$appendChild](St),lt.value=St}lt.value[e.$setValue](p)}}[e.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&0===this[e.$extra].attempt&&this[e.$extra].numberInLine>0||this[e.$getParent]()[e.$isThereMoreWidth]()}[e.$isSplittable](){const p=this[e.$getSubformParent]();return!!p[e.$isSplittable]()&&(void 0!==this[e.$extra]._isSplittable?this[e.$extra]._isSplittable:"position"===this.layout||this.layout.includes("row")?(this[e.$extra]._isSplittable=!1,!1):!(p.layout&&p.layout.endsWith("-tb")&&0!==p[e.$extra].numberInLine||(this[e.$extra]._isSplittable=!0,0)))}[e.$flushHTML](){return(0,_.flushHTML)(this)}[e.$addHTML](p,lt){(0,_.addHTML)(this,p,lt)}[e.$getAvailableSpace](){return(0,_.getAvailableSpace)(this)}[e.$toHTML](p){if(B(this),"hidden"===this.presence||"inactive"===this.presence||0===this.h||0===this.w)return t.HTMLResult.EMPTY;(0,S.fixDimensions)(this);const lt=[],St={id:this[e.$uid],class:[]};(0,S.setAccess)(this,St.class),this[e.$extra]||(this[e.$extra]=Object.create(null)),Object.assign(this[e.$extra],{children:lt,attributes:St,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,p.width),height:Math.min(this.h||1/0,p.height)},width:0,height:0,prevHeight:0,currentWidth:0});const ut=this[e.$isSplittable]();if(ut||r(this),!(0,_.checkDimensions)(this,p))return t.HTMLResult.FAILURE;const Q=new Set(["field"]);if(this.layout.includes("row")){const he=this[e.$getSubformParent]().columnWidths;Array.isArray(he)&&he.length>0&&(this[e.$extra].columnWidths=he,this[e.$extra].currentColumn=0)}const Lt=(0,S.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),Kt=["xfaExclgroup"],Jt=(0,S.layoutClass)(this);Jt&&Kt.push(Jt),(0,S.isPrintOnly)(this)&&Kt.push("xfaPrintOnly"),St.style=Lt,St.class=Kt,this.name&&(St.xfaName=this.name),this[e.$pushPara]();const ce="lr-tb"===this.layout||"rl-tb"===this.layout,ue=ce?2:1;for(;this[e.$extra].attempt<ue;this[e.$extra].attempt++){ce&&1===this[e.$extra].attempt&&(this[e.$extra].numberInLine=0);const he=this[e.$childrenToHTML]({filter:Q,include:!0});if(he.success)break;if(he.isBreak())return this[e.$popPara](),he;if(ce&&0===this[e.$extra].attempt&&0===this[e.$extra].numberInLine&&!this[e.$getTemplateRoot]()[e.$extra].noLayoutFailure){this[e.$extra].attempt=ue;break}}if(this[e.$popPara](),ut||c(this),this[e.$extra].attempt===ue)return ut||delete this[e.$extra],t.HTMLResult.FAILURE;let ge=0,be=0;this.margin&&(ge=this.margin.leftInset+this.margin.rightInset,be=this.margin.topInset+this.margin.bottomInset);const Se=Math.max(this[e.$extra].width+ge,this.w||0),ye=Math.max(this[e.$extra].height+be,this.h||0),fe=[this.x,this.y,Se,ye];""===this.w&&(Lt.width=(0,S.measureToString)(Se)),""===this.h&&(Lt.height=(0,S.measureToString)(ye));const Ce={name:"div",attributes:St,children:lt};return h(this,St),delete this[e.$extra],t.HTMLResult.success((0,S.createWrapper)(this,Ce),fe)}}class Pt extends e.XFAObject{constructor(p){super(s,"execute"),this.connection=p.connection||"",this.executeType=(0,t.getStringOption)(p.executeType,["import","remerge"]),this.id=p.id||"",this.runAt=(0,t.getStringOption)(p.runAt,["client","both","server"]),this.use=p.use||"",this.usehref=p.usehref||""}}class Dt extends e.XFAObject{constructor(p){super(s,"extras",!0),this.id=p.id||"",this.name=p.name||"",this.use=p.use||"",this.usehref=p.usehref||"",this.boolean=new e.XFAObjectArray,this.date=new e.XFAObjectArray,this.dateTime=new e.XFAObjectArray,this.decimal=new e.XFAObjectArray,this.exData=new e.XFAObjectArray,this.extras=new e.XFAObjectArray,this.float=new e.XFAObjectArray,this.image=new e.XFAObjectArray,this.integer=new e.XFAObjectArray,this.text=new e.XFAObjectArray,this.time=new e.XFAObjectArray}}class Tt extends e.XFAObject{constructor(p){super(s,"field",!0),this.access=(0,t.getStringOption)(p.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=p.accessKey||"",this.anchorType=(0,t.getStringOption)(p.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,t.getInteger)({data:p.colSpan,defaultValue:1,validate:lt=>lt>=1||-1===lt}),this.h=p.h?(0,t.getMeasurement)(p.h):"",this.hAlign=(0,t.getStringOption)(p.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=p.id||"",this.locale=p.locale||"",this.maxH=(0,t.getMeasurement)(p.maxH,"0pt"),this.maxW=(0,t.getMeasurement)(p.maxW,"0pt"),this.minH=(0,t.getMeasurement)(p.minH,"0pt"),this.minW=(0,t.getMeasurement)(p.minW,"0pt"),this.name=p.name||"",this.presence=(0,t.getStringOption)(p.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,t.getRelevant)(p.relevant),this.rotate=(0,t.getInteger)({data:p.rotate,defaultValue:0,validate:lt=>lt%90==0}),this.use=p.use||"",this.usehref=p.usehref||"",this.w=p.w?(0,t.getMeasurement)(p.w):"",this.x=(0,t.getMeasurement)(p.x,"0pt"),this.y=(0,t.getMeasurement)(p.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new e.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new e.XFAObjectArray,this.connect=new e.XFAObjectArray,this.event=new e.XFAObjectArray,this.setProperty=new e.XFAObjectArray}[e.$isBindable](){return!0}[e.$setValue](p){D(this,p)}[e.$toHTML](p){if(B(this),!this.ui){let he;switch(this.ui=new Ne({}),this.ui[e.$globalData]=this[e.$globalData],this[e.$appendChild](this.ui),this.items.children.length){case 0:he=new Xe({}),this.ui.textEdit=he;break;case 1:he=new H({}),this.ui.checkButton=he;break;case 2:he=new W({}),this.ui.choiceList=he}this.ui[e.$appendChild](he)}if(!this.ui||"hidden"===this.presence||"inactive"===this.presence||0===this.h||0===this.w)return t.HTMLResult.EMPTY;this.caption&&delete this.caption[e.$extra],this[e.$pushPara]();const lt=this.caption?this.caption[e.$toHTML](p).html:null,St=this.w,ut=this.h;let Q=0,Lt=0;this.margin&&(Q=this.margin.leftInset+this.margin.rightInset,Lt=this.margin.topInset+this.margin.bottomInset);let Kt=null;if(""===this.w||""===this.h){let he=null,me=null,Fe=0,de=0;if(this.ui.checkButton)Fe=de=this.ui.checkButton.size;else{const{w:Ie,h:Oe}=(0,S.layoutNode)(this,p);null!==Ie?(Fe=Ie,de=Oe):de=(0,I.getMetrics)(this.font,!0).lineNoGap}if(Kt=n(this.ui[e.$getExtra]()),Fe+=Kt.w,de+=Kt.h,this.caption){const{w:Ie,h:Oe,isBroken:ke}=this.caption[e.$getExtra](p);if(ke&&this[e.$getSubformParent]()[e.$isThereMoreWidth]())return this[e.$popPara](),t.HTMLResult.FAILURE;switch(he=Ie,me=Oe,this.caption.placement){case"left":case"right":case"inline":he+=Fe;break;case"top":case"bottom":me+=de}}else he=Fe,me=de;he&&""===this.w&&(he+=Q,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<he?he:this.minW)),me&&""===this.h&&(me+=Lt,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<me?me:this.minH))}if(this[e.$popPara](),(0,S.fixDimensions)(this),r(this),!(0,_.checkDimensions)(this,p))return this.w=St,this.h=ut,this[e.$popPara](),t.HTMLResult.FAILURE;c(this);const Jt=(0,S.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,S.setMinMaxDimensions)(this,Jt);const ce=["xfaField"];this.font&&ce.push("xfaFont"),(0,S.isPrintOnly)(this)&&ce.push("xfaPrintOnly");const ue={style:Jt,id:this[e.$uid],class:ce};Jt.margin&&(Jt.padding=Jt.margin,delete Jt.margin),(0,S.setAccess)(this,ce),this.name&&(ue.xfaName=this.name);const ge=[],be={name:"div",attributes:ue,children:ge};h(this,ue);const Se=this.border?this.border[e.$toStyle]():null,ye=(0,S.computeBbox)(this,be,p),fe=this.ui[e.$toHTML]().html;if(!fe)return Object.assign(Jt,Se),t.HTMLResult.success((0,S.createWrapper)(this,be),ye);this[e.$tabIndex]&&(fe.children&&fe.children[0]?fe.children[0].attributes.tabindex=this[e.$tabIndex]:fe.attributes.tabindex=this[e.$tabIndex]),fe.attributes.style||(fe.attributes.style=Object.create(null));let Ce=null;if(this.ui.button?(1===fe.children.length&&([Ce]=fe.children.splice(0,1)),Object.assign(fe.attributes.style,Se)):Object.assign(Jt,Se),ge.push(fe),this.value)if(this.ui.imageEdit)fe.children.push(this.value[e.$toHTML]().html);else if(!this.ui.button){let he="";if(this.value.exData)he=this.value.exData[e.$text]();else if(this.value.text)he=this.value.text[e.$getExtra]();else{const me=this.value[e.$toHTML]().html;null!==me&&(he=me.children[0].value)}this.ui.textEdit&&this.value.text&&this.value.text.maxChars&&(fe.children[0].attributes.maxLength=this.value.text.maxChars),he&&(this.ui.numericEdit&&(he=parseFloat(he),he=isNaN(he)?"":he.toString()),"textarea"===fe.children[0].name?fe.children[0].attributes.textContent=he:fe.children[0].attributes.value=he)}if(!this.ui.imageEdit&&fe.children&&fe.children[0]&&this.h){Kt=Kt||n(this.ui[e.$getExtra]());let he=0;this.caption&&["top","bottom"].includes(this.caption.placement)?(he=this.caption.reserve,he<=0&&(he=this.caption[e.$getExtra](p).h),fe.children[0].attributes.style.height=(0,S.measureToString)(this.h-he-Lt-Kt.h)):fe.children[0].attributes.style.height="100%"}if(Ce&&fe.children.push(Ce),!lt)return fe.attributes.class&&fe.attributes.class.push("xfaLeft"),this.w=St,this.h=ut,t.HTMLResult.success((0,S.createWrapper)(this,be),ye);if(this.ui.button)return Jt.padding&&delete Jt.padding,"div"===lt.name&&(lt.name="span"),fe.children.push(lt),t.HTMLResult.success(be,ye);switch(this.ui.checkButton&&(lt.attributes.class[0]="xfaCaptionForCheckButton"),fe.attributes.class||(fe.attributes.class=[]),fe.children.splice(0,0,lt),this.caption.placement){case"left":case"inline":fe.attributes.class.push("xfaLeft");break;case"right":fe.attributes.class.push("xfaRight");break;case"top":fe.attributes.class.push("xfaTop");break;case"bottom":fe.attributes.class.push("xfaBottom")}return this.w=St,this.h=ut,t.HTMLResult.success((0,S.createWrapper)(this,be),ye)}}v.Field=Tt;class yt extends e.XFAObject{constructor(p){super(s,"fill",!0),this.id=p.id||"",this.presence=(0,t.getStringOption)(p.presence,["visible","hidden","inactive","invisible"]),this.use=p.use||"",this.usehref=p.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[e.$toStyle](){const p=this[e.$getParent](),lt=p[e.$getParent]()[e.$getParent](),St=Object.create(null);let ut="color",Q=ut;p instanceof X&&(ut="background-color",Q="background",lt instanceof Ne&&(St.backgroundColor="white")),(p instanceof Be||p instanceof C)&&(ut=Q="fill",St.fill="white");for(const Lt of Object.getOwnPropertyNames(this)){if("extras"===Lt||"color"===Lt)continue;const Kt=this[Lt];if(!(Kt instanceof e.XFAObject))continue;const Jt=Kt[e.$toStyle](this.color);return Jt&&(St[Jt.startsWith("#")?ut:Q]=Jt),St}if(this.color&&this.color.value){const Lt=this.color[e.$toStyle]();St[Lt.startsWith("#")?ut:Q]=Lt}return St}}class wt extends e.XFAObject{constructor(p){super(s,"filter",!0),this.addRevocationInfo=(0,t.getStringOption)(p.addRevocationInfo,["","required","optional","none"]),this.id=p.id||"",this.name=p.name||"",this.use=p.use||"",this.usehref=p.usehref||"",this.version=(0,t.getInteger)({data:this.version,defaultValue:5,validate:lt=>lt>=1&&lt<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class pt extends e.ContentObject{constructor(p){super(s,"float"),this.id=p.id||"",this.name=p.name||"",this.use=p.use||"",this.usehref=p.usehref||""}[e.$finalize](){const p=parseFloat(this[e.$content].trim());this[e.$content]=isNaN(p)?null:p}[e.$toHTML](p){return g(null!==this[e.$content]?this[e.$content].toString():"")}}class kt extends e.XFAObject{constructor(p){super(s,"font",!0),this.baselineShift=(0,t.getMeasurement)(p.baselineShift),this.fontHorizontalScale=(0,t.getFloat)({data:p.fontHorizontalScale,defaultValue:100,validate:lt=>lt>=0}),this.fontVerticalScale=(0,t.getFloat)({data:p.fontVerticalScale,defaultValue:100,validate:lt=>lt>=0}),this.id=p.id||"",this.kerningMode=(0,t.getStringOption)(p.kerningMode,["none","pair"]),this.letterSpacing=(0,t.getMeasurement)(p.letterSpacing,"0"),this.lineThrough=(0,t.getInteger)({data:p.lineThrough,defaultValue:0,validate:lt=>1===lt||2===lt}),this.lineThroughPeriod=(0,t.getStringOption)(p.lineThroughPeriod,["all","word"]),this.overline=(0,t.getInteger)({data:p.overline,defaultValue:0,validate:lt=>1===lt||2===lt}),this.overlinePeriod=(0,t.getStringOption)(p.overlinePeriod,["all","word"]),this.posture=(0,t.getStringOption)(p.posture,["normal","italic"]),this.size=(0,t.getMeasurement)(p.size,"10pt"),this.typeface=p.typeface||"Courier",this.underline=(0,t.getInteger)({data:p.underline,defaultValue:0,validate:lt=>1===lt||2===lt}),this.underlinePeriod=(0,t.getStringOption)(p.underlinePeriod,["all","word"]),this.use=p.use||"",this.usehref=p.usehref||"",this.weight=(0,t.getStringOption)(p.weight,["normal","bold"]),this.extras=null,this.fill=null}[e.$clean](p){super[e.$clean](p),this[e.$globalData].usedTypefaces.add(this.typeface)}[e.$toStyle](){const p=(0,S.toStyle)(this,"fill"),lt=p.color;return lt&&("#000000"===lt?delete p.color:lt.startsWith("#")||(p.background=lt,p.backgroundClip="text",p.color="transparent")),this.baselineShift&&(p.verticalAlign=(0,S.measureToString)(this.baselineShift)),p.fontKerning="none"===this.kerningMode?"none":"normal",p.letterSpacing=(0,S.measureToString)(this.letterSpacing),0!==this.lineThrough&&(p.textDecoration="line-through",2===this.lineThrough&&(p.textDecorationStyle="double")),0!==this.overline&&(p.textDecoration="overline",2===this.overline&&(p.textDecorationStyle="double")),p.fontStyle=this.posture,p.fontSize=(0,S.measureToString)(.99*this.size),(0,S.setFontFamily)(this,this,this[e.$globalData].fontFinder,p),0!==this.underline&&(p.textDecoration="underline",2===this.underline&&(p.textDecorationStyle="double")),p.fontWeight=this.weight,p}}class vt extends e.XFAObject{constructor(p){super(s,"format",!0),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null,this.picture=null}}class Ot extends e.StringObject{constructor(p){super(s,"handler"),this.id=p.id||"",this.type=(0,t.getStringOption)(p.type,["optional","required"]),this.use=p.use||"",this.usehref=p.usehref||""}}class Xt extends e.XFAObject{constructor(p){super(s,"hyphenation"),this.excludeAllCaps=(0,t.getInteger)({data:p.excludeAllCaps,defaultValue:0,validate:lt=>1===lt}),this.excludeInitialCap=(0,t.getInteger)({data:p.excludeInitialCap,defaultValue:0,validate:lt=>1===lt}),this.hyphenate=(0,t.getInteger)({data:p.hyphenate,defaultValue:0,validate:lt=>1===lt}),this.id=p.id||"",this.pushCharacterCount=(0,t.getInteger)({data:p.pushCharacterCount,defaultValue:3,validate:lt=>lt>=0}),this.remainCharacterCount=(0,t.getInteger)({data:p.remainCharacterCount,defaultValue:3,validate:lt=>lt>=0}),this.use=p.use||"",this.usehref=p.usehref||"",this.wordCharacterCount=(0,t.getInteger)({data:p.wordCharacterCount,defaultValue:7,validate:lt=>lt>=0})}}class Yt extends e.StringObject{constructor(p){super(s,"image"),this.aspect=(0,t.getStringOption)(p.aspect,["fit","actual","height","none","width"]),this.contentType=p.contentType||"",this.href=p.href||"",this.id=p.id||"",this.name=p.name||"",this.transferEncoding=(0,t.getStringOption)(p.transferEncoding,["base64","none","package"]),this.use=p.use||"",this.usehref=p.usehref||""}[e.$toHTML](){if(this.contentType&&!f.has(this.contentType.toLowerCase()))return t.HTMLResult.EMPTY;let p=this[e.$globalData].images&&this[e.$globalData].images.get(this.href);if(!p&&(this.href||!this[e.$content])||(p||"base64"!==this.transferEncoding||(p=(0,u.stringToBytes)(atob(this[e.$content]))),!p))return t.HTMLResult.EMPTY;if(!this.contentType){for(const[Q,Lt]of l)if(p.length>Q.length&&Q.every((Kt,Jt)=>Kt===p[Jt])){this.contentType=Lt;break}if(!this.contentType)return t.HTMLResult.EMPTY}const lt=new Blob([p],{type:this.contentType});let St;switch(this.aspect){case"fit":case"actual":break;case"height":St={height:"100%",objectFit:"fill"};break;case"none":St={width:"100%",height:"100%",objectFit:"fill"};break;case"width":St={width:"100%",objectFit:"fill"}}const ut=this[e.$getParent]();return t.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:St,src:URL.createObjectURL(lt),alt:ut?y(ut[e.$getParent]()):null}})}}class Qt extends e.XFAObject{constructor(p){super(s,"imageEdit",!0),this.data=(0,t.getStringOption)(p.data,["link","embed"]),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||"",this.border=null,this.extras=null,this.margin=null}[e.$toHTML](p){return"embed"===this.data?t.HTMLResult.success({name:"div",children:[],attributes:{}}):t.HTMLResult.EMPTY}}class Ut extends e.ContentObject{constructor(p){super(s,"integer"),this.id=p.id||"",this.name=p.name||"",this.use=p.use||"",this.usehref=p.usehref||""}[e.$finalize](){const p=parseInt(this[e.$content].trim(),10);this[e.$content]=isNaN(p)?null:p}[e.$toHTML](p){return g(null!==this[e.$content]?this[e.$content].toString():"")}}class te extends e.XFAObject{constructor(p){super(s,"issuers",!0),this.id=p.id||"",this.type=(0,t.getStringOption)(p.type,["optional","required"]),this.use=p.use||"",this.usehref=p.usehref||"",this.certificate=new e.XFAObjectArray}}class ne extends e.XFAObject{constructor(p){super(s,"items",!0),this.id=p.id||"",this.name=p.name||"",this.presence=(0,t.getStringOption)(p.presence,["visible","hidden","inactive","invisible"]),this.ref=p.ref||"",this.save=(0,t.getInteger)({data:p.save,defaultValue:0,validate:lt=>1===lt}),this.use=p.use||"",this.usehref=p.usehref||"",this.boolean=new e.XFAObjectArray,this.date=new e.XFAObjectArray,this.dateTime=new e.XFAObjectArray,this.decimal=new e.XFAObjectArray,this.exData=new e.XFAObjectArray,this.float=new e.XFAObjectArray,this.image=new e.XFAObjectArray,this.integer=new e.XFAObjectArray,this.text=new e.XFAObjectArray,this.time=new e.XFAObjectArray}[e.$toHTML](){const p=[];for(const lt of this[e.$getChildren]())p.push(lt[e.$text]());return t.HTMLResult.success(p)}}v.Items=ne;class pe extends e.XFAObject{constructor(p){super(s,"keep",!0),this.id=p.id||"";const lt=["none","contentArea","pageArea"];this.intact=(0,t.getStringOption)(p.intact,lt),this.next=(0,t.getStringOption)(p.next,lt),this.previous=(0,t.getStringOption)(p.previous,lt),this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null}}class oe extends e.XFAObject{constructor(p){super(s,"keyUsage");const lt=["","yes","no"];this.crlSign=(0,t.getStringOption)(p.crlSign,lt),this.dataEncipherment=(0,t.getStringOption)(p.dataEncipherment,lt),this.decipherOnly=(0,t.getStringOption)(p.decipherOnly,lt),this.digitalSignature=(0,t.getStringOption)(p.digitalSignature,lt),this.encipherOnly=(0,t.getStringOption)(p.encipherOnly,lt),this.id=p.id||"",this.keyAgreement=(0,t.getStringOption)(p.keyAgreement,lt),this.keyCertSign=(0,t.getStringOption)(p.keyCertSign,lt),this.keyEncipherment=(0,t.getStringOption)(p.keyEncipherment,lt),this.nonRepudiation=(0,t.getStringOption)(p.nonRepudiation,lt),this.type=(0,t.getStringOption)(p.type,["optional","required"]),this.use=p.use||"",this.usehref=p.usehref||""}}class jt extends e.XFAObject{constructor(p){super(s,"line",!0),this.hand=(0,t.getStringOption)(p.hand,["even","left","right"]),this.id=p.id||"",this.slope=(0,t.getStringOption)(p.slope,["\\","/"]),this.use=p.use||"",this.usehref=p.usehref||"",this.edge=null}[e.$toHTML](){const p=this[e.$getParent]()[e.$getParent](),lt=this.edge||new Ft({}),St=lt[e.$toStyle](),ut=Object.create(null),Q="visible"===lt.presence?lt.thickness:0;ut.strokeWidth=(0,S.measureToString)(Q),ut.stroke=St.color;let Lt,Kt,Jt,ce,ue="100%",ge="100%";p.w<=Q?([Lt,Kt,Jt,ce]=["50%",0,"50%","100%"],ue=ut.strokeWidth):p.h<=Q?([Lt,Kt,Jt,ce]=[0,"50%","100%","50%"],ge=ut.strokeWidth):[Lt,Kt,Jt,ce]="\\"===this.slope?[0,0,"100%","100%"]:[0,"100%","100%",0];const be={name:"svg",children:[{name:"line",attributes:{xmlns:i,x1:Lt,y1:Kt,x2:Jt,y2:ce,style:ut}}],attributes:{xmlns:i,width:ue,height:ge,style:{overflow:"visible"}}};return o(p)?t.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[be]}):(be.attributes.style.position="absolute",t.HTMLResult.success(be))}}class re extends e.XFAObject{constructor(p){super(s,"linear",!0),this.id=p.id||"",this.type=(0,t.getStringOption)(p.type,["toRight","toBottom","toLeft","toTop"]),this.use=p.use||"",this.usehref=p.usehref||"",this.color=null,this.extras=null}[e.$toStyle](p){return p=p?p[e.$toStyle]():"#FFFFFF",`linear-gradient(${this.type.replace(/([RBLT])/," $1").toLowerCase()}, ${p}, ${this.color?this.color[e.$toStyle]():"#000000"})`}}class Wt extends e.ContentObject{constructor(p){super(s,"lockDocument"),this.id=p.id||"",this.type=(0,t.getStringOption)(p.type,["optional","required"]),this.use=p.use||"",this.usehref=p.usehref||""}[e.$finalize](){this[e.$content]=(0,t.getStringOption)(this[e.$content],["auto","0","1"])}}class ee extends e.XFAObject{constructor(p){super(s,"manifest",!0),this.action=(0,t.getStringOption)(p.action,["include","all","exclude"]),this.id=p.id||"",this.name=p.name||"",this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null,this.ref=new e.XFAObjectArray}}class zt extends e.XFAObject{constructor(p){super(s,"margin",!0),this.bottomInset=(0,t.getMeasurement)(p.bottomInset,"0"),this.id=p.id||"",this.leftInset=(0,t.getMeasurement)(p.leftInset,"0"),this.rightInset=(0,t.getMeasurement)(p.rightInset,"0"),this.topInset=(0,t.getMeasurement)(p.topInset,"0"),this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null}[e.$toStyle](){return{margin:(0,S.measureToString)(this.topInset)+" "+(0,S.measureToString)(this.rightInset)+" "+(0,S.measureToString)(this.bottomInset)+" "+(0,S.measureToString)(this.leftInset)}}}class ie extends e.XFAObject{constructor(p){super(s,"mdp"),this.id=p.id||"",this.permissions=(0,t.getInteger)({data:p.permissions,defaultValue:2,validate:lt=>1===lt||3===lt}),this.signatureType=(0,t.getStringOption)(p.signatureType,["filler","author"]),this.use=p.use||"",this.usehref=p.usehref||""}}class se extends e.XFAObject{constructor(p){super(s,"medium"),this.id=p.id||"",this.imagingBBox=(0,t.getBBox)(p.imagingBBox),this.long=(0,t.getMeasurement)(p.long),this.orientation=(0,t.getStringOption)(p.orientation,["portrait","landscape"]),this.short=(0,t.getMeasurement)(p.short),this.stock=p.stock||"",this.trayIn=(0,t.getStringOption)(p.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,t.getStringOption)(p.trayOut,["auto","delegate"]),this.use=p.use||"",this.usehref=p.usehref||""}}class we extends e.XFAObject{constructor(p){super(s,"message",!0),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||"",this.text=new e.XFAObjectArray}}class ve extends e.XFAObject{constructor(p){super(s,"numericEdit",!0),this.hScrollPolicy=(0,t.getStringOption)(p.hScrollPolicy,["auto","off","on"]),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[e.$toHTML](p){const lt=(0,S.toStyle)(this,"border","font","margin"),St=this[e.$getParent]()[e.$getParent](),ut={name:"input",attributes:{type:"text",fieldId:St[e.$uid],dataId:St[e.$data]&&St[e.$data][e.$uid]||St[e.$uid],class:["xfaTextfield"],style:lt,"aria-label":y(St),"aria-required":!1}};return O(St)&&(ut.attributes["aria-required"]=!0,ut.attributes.required=!0),t.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[ut]})}}class bt extends e.XFAObject{constructor(p){super(s,"occur",!0),this.id=p.id||"",this.initial=""!==p.initial?(0,t.getInteger)({data:p.initial,defaultValue:"",validate:lt=>!0}):"",this.max=""!==p.max?(0,t.getInteger)({data:p.max,defaultValue:1,validate:lt=>!0}):"",this.min=""!==p.min?(0,t.getInteger)({data:p.min,defaultValue:1,validate:lt=>!0}):"",this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null}[e.$clean](){const p=this[e.$getParent](),lt=this.min;""===this.min&&(this.min=p instanceof le||p instanceof xe?0:1),""===this.max&&(this.max=""===lt?p instanceof le||p instanceof xe?-1:1:this.min),-1!==this.max&&this.max<this.min&&(this.max=this.min),""===this.initial&&(this.initial=p instanceof Re?1:this.min)}}class Et extends e.StringObject{constructor(p){super(s,"oid"),this.id=p.id||"",this.name=p.name||"",this.use=p.use||"",this.usehref=p.usehref||""}}class $t extends e.XFAObject{constructor(p){super(s,"oids",!0),this.id=p.id||"",this.type=(0,t.getStringOption)(p.type,["optional","required"]),this.use=p.use||"",this.usehref=p.usehref||"",this.oid=new e.XFAObjectArray}}class Gt extends e.XFAObject{constructor(p){super(s,"overflow"),this.id=p.id||"",this.leader=p.leader||"",this.target=p.target||"",this.trailer=p.trailer||"",this.use=p.use||"",this.usehref=p.usehref||""}[e.$getExtra](){if(!this[e.$extra]){const p=this[e.$getParent](),lt=this[e.$getTemplateRoot](),St=lt[e.$searchNode](this.target,p),ut=lt[e.$searchNode](this.leader,p),Q=lt[e.$searchNode](this.trailer,p);this[e.$extra]={target:St&&St[0]||null,leader:ut&&ut[0]||null,trailer:Q&&Q[0]||null,addLeader:!1,addTrailer:!1}}return this[e.$extra]}}class le extends e.XFAObject{constructor(p){super(s,"pageArea",!0),this.blankOrNotBlank=(0,t.getStringOption)(p.blankOrNotBlank,["any","blank","notBlank"]),this.id=p.id||"",this.initialNumber=(0,t.getInteger)({data:p.initialNumber,defaultValue:1,validate:lt=>!0}),this.name=p.name||"",this.numbered=(0,t.getInteger)({data:p.numbered,defaultValue:1,validate:lt=>!0}),this.oddOrEven=(0,t.getStringOption)(p.oddOrEven,["any","even","odd"]),this.pagePosition=(0,t.getStringOption)(p.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,t.getRelevant)(p.relevant),this.use=p.use||"",this.usehref=p.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new e.XFAObjectArray,this.contentArea=new e.XFAObjectArray,this.draw=new e.XFAObjectArray,this.exclGroup=new e.XFAObjectArray,this.field=new e.XFAObjectArray,this.subform=new e.XFAObjectArray}[e.$isUsable](){return this[e.$extra]?!this.occur||-1===this.occur.max||this[e.$extra].numberOfUse<this.occur.max:(this[e.$extra]={numberOfUse:0},!0)}[e.$cleanPage](){delete this[e.$extra]}[e.$getNextPage](){this[e.$extra]||(this[e.$extra]={numberOfUse:0});const p=this[e.$getParent]();return"orderedOccurrence"===p.relation&&this[e.$isUsable]()?(this[e.$extra].numberOfUse+=1,this):p[e.$getNextPage]()}[e.$getAvailableSpace](){return this[e.$extra].space||{width:0,height:0}}[e.$toHTML](){this[e.$extra]||(this[e.$extra]={numberOfUse:1});const p=[];this[e.$extra].children=p;const lt=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(lt.width=(0,S.measureToString)(this.medium.short),lt.height=(0,S.measureToString)(this.medium.long),this[e.$extra].space={width:this.medium.short,height:this.medium.long},"landscape"===this.medium.orientation){const St=lt.width;lt.width=lt.height,lt.height=St,this[e.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,u.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[e.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[e.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),t.HTMLResult.success({name:"div",children:p,attributes:{class:["xfaPage"],id:this[e.$uid],style:lt,xfaName:this.name}})}}class xe extends e.XFAObject{constructor(p){super(s,"pageSet",!0),this.duplexImposition=(0,t.getStringOption)(p.duplexImposition,["longEdge","shortEdge"]),this.id=p.id||"",this.name=p.name||"",this.relation=(0,t.getStringOption)(p.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,t.getRelevant)(p.relevant),this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null,this.occur=null,this.pageArea=new e.XFAObjectArray,this.pageSet=new e.XFAObjectArray}[e.$cleanPage](){for(const p of this.pageArea.children)p[e.$cleanPage]();for(const p of this.pageSet.children)p[e.$cleanPage]()}[e.$isUsable](){return!this.occur||-1===this.occur.max||this[e.$extra].numberOfUse<this.occur.max}[e.$getNextPage](){if(this[e.$extra]||(this[e.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),"orderedOccurrence"===this.relation){if(this[e.$extra].pageIndex+1<this.pageArea.children.length)return this[e.$extra].pageIndex+=1,this.pageArea.children[this[e.$extra].pageIndex][e.$getNextPage]();if(this[e.$extra].pageSetIndex+1<this.pageSet.children.length)return this[e.$extra].pageSetIndex+=1,this.pageSet.children[this[e.$extra].pageSetIndex][e.$getNextPage]();if(this[e.$isUsable]())return this[e.$extra].numberOfUse+=1,this[e.$extra].pageIndex=-1,this[e.$extra].pageSetIndex=-1,this[e.$getNextPage]();const Q=this[e.$getParent]();return Q instanceof xe?Q[e.$getNextPage]():(this[e.$cleanPage](),this[e.$getNextPage]())}const p=this[e.$getTemplateRoot]()[e.$extra].pageNumber,lt=p%2==0?"even":"odd",St=0===p?"first":"rest";let ut=this.pageArea.children.find(Q=>Q.oddOrEven===lt&&Q.pagePosition===St);return ut||(ut=this.pageArea.children.find(Q=>"any"===Q.oddOrEven&&Q.pagePosition===St),ut)?ut:(ut=this.pageArea.children.find(Q=>"any"===Q.oddOrEven&&"any"===Q.pagePosition),ut||this.pageArea.children[0])}}class Ae extends e.XFAObject{constructor(p){super(s,"para",!0),this.hAlign=(0,t.getStringOption)(p.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=p.id||"",this.lineHeight=p.lineHeight?(0,t.getMeasurement)(p.lineHeight,"0pt"):"",this.marginLeft=p.marginLeft?(0,t.getMeasurement)(p.marginLeft,"0pt"):"",this.marginRight=p.marginRight?(0,t.getMeasurement)(p.marginRight,"0pt"):"",this.orphans=(0,t.getInteger)({data:p.orphans,defaultValue:0,validate:lt=>lt>=0}),this.preserve=p.preserve||"",this.radixOffset=p.radixOffset?(0,t.getMeasurement)(p.radixOffset,"0pt"):"",this.spaceAbove=p.spaceAbove?(0,t.getMeasurement)(p.spaceAbove,"0pt"):"",this.spaceBelow=p.spaceBelow?(0,t.getMeasurement)(p.spaceBelow,"0pt"):"",this.tabDefault=p.tabDefault?(0,t.getMeasurement)(this.tabDefault):"",this.tabStops=(p.tabStops||"").trim().split(/\s+/).map((lt,St)=>St%2==1?(0,t.getMeasurement)(lt):lt),this.textIndent=p.textIndent?(0,t.getMeasurement)(p.textIndent,"0pt"):"",this.use=p.use||"",this.usehref=p.usehref||"",this.vAlign=(0,t.getStringOption)(p.vAlign,["top","bottom","middle"]),this.widows=(0,t.getInteger)({data:p.widows,defaultValue:0,validate:lt=>lt>=0}),this.hyphenation=null}[e.$toStyle](){const p=(0,S.toStyle)(this,"hAlign");return""!==this.marginLeft&&(p.paddingLeft=(0,S.measureToString)(this.marginLeft)),""!==this.marginRight&&(p.paddingight=(0,S.measureToString)(this.marginRight)),""!==this.spaceAbove&&(p.paddingTop=(0,S.measureToString)(this.spaceAbove)),""!==this.spaceBelow&&(p.paddingBottom=(0,S.measureToString)(this.spaceBelow)),""!==this.textIndent&&(p.textIndent=(0,S.measureToString)(this.textIndent),(0,S.fixTextIndent)(p)),this.lineHeight>0&&(p.lineHeight=(0,S.measureToString)(this.lineHeight)),""!==this.tabDefault&&(p.tabSize=(0,S.measureToString)(this.tabDefault)),this.hyphenatation&&Object.assign(p,this.hyphenatation[e.$toStyle]()),p}}class Pe extends e.XFAObject{constructor(p){super(s,"passwordEdit",!0),this.hScrollPolicy=(0,t.getStringOption)(p.hScrollPolicy,["auto","off","on"]),this.id=p.id||"",this.passwordChar=p.passwordChar||"*",this.use=p.use||"",this.usehref=p.usehref||"",this.border=null,this.extras=null,this.margin=null}}class Te extends e.XFAObject{constructor(p){super(s,"pattern",!0),this.id=p.id||"",this.type=(0,t.getStringOption)(p.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=p.use||"",this.usehref=p.usehref||"",this.color=null,this.extras=null}[e.$toStyle](p){p=p?p[e.$toStyle]():"#FFFFFF";const lt=this.color?this.color[e.$toStyle]():"#000000",St="repeating-linear-gradient",ut=`${p},${p} 5px,${lt} 5px,${lt} 10px`;switch(this.type){case"crossHatch":return`${St}(to top,${ut}) ${St}(to right,${ut})`;case"crossDiagonal":return`${St}(45deg,${ut}) ${St}(-45deg,${ut})`;case"diagonalLeft":return`${St}(45deg,${ut})`;case"diagonalRight":return`${St}(-45deg,${ut})`;case"horizontal":return`${St}(to top,${ut})`;case"vertical":return`${St}(to right,${ut})`}return""}}class He extends e.StringObject{constructor(p){super(s,"picture"),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||""}}class ze extends e.XFAObject{constructor(p){super(s,"proto",!0),this.appearanceFilter=new e.XFAObjectArray,this.arc=new e.XFAObjectArray,this.area=new e.XFAObjectArray,this.assist=new e.XFAObjectArray,this.barcode=new e.XFAObjectArray,this.bindItems=new e.XFAObjectArray,this.bookend=new e.XFAObjectArray,this.boolean=new e.XFAObjectArray,this.border=new e.XFAObjectArray,this.break=new e.XFAObjectArray,this.breakAfter=new e.XFAObjectArray,this.breakBefore=new e.XFAObjectArray,this.button=new e.XFAObjectArray,this.calculate=new e.XFAObjectArray,this.caption=new e.XFAObjectArray,this.certificate=new e.XFAObjectArray,this.certificates=new e.XFAObjectArray,this.checkButton=new e.XFAObjectArray,this.choiceList=new e.XFAObjectArray,this.color=new e.XFAObjectArray,this.comb=new e.XFAObjectArray,this.connect=new e.XFAObjectArray,this.contentArea=new e.XFAObjectArray,this.corner=new e.XFAObjectArray,this.date=new e.XFAObjectArray,this.dateTime=new e.XFAObjectArray,this.dateTimeEdit=new e.XFAObjectArray,this.decimal=new e.XFAObjectArray,this.defaultUi=new e.XFAObjectArray,this.desc=new e.XFAObjectArray,this.digestMethod=new e.XFAObjectArray,this.digestMethods=new e.XFAObjectArray,this.draw=new e.XFAObjectArray,this.edge=new e.XFAObjectArray,this.encoding=new e.XFAObjectArray,this.encodings=new e.XFAObjectArray,this.encrypt=new e.XFAObjectArray,this.encryptData=new e.XFAObjectArray,this.encryption=new e.XFAObjectArray,this.encryptionMethod=new e.XFAObjectArray,this.encryptionMethods=new e.XFAObjectArray,this.event=new e.XFAObjectArray,this.exData=new e.XFAObjectArray,this.exObject=new e.XFAObjectArray,this.exclGroup=new e.XFAObjectArray,this.execute=new e.XFAObjectArray,this.extras=new e.XFAObjectArray,this.field=new e.XFAObjectArray,this.fill=new e.XFAObjectArray,this.filter=new e.XFAObjectArray,this.float=new e.XFAObjectArray,this.font=new e.XFAObjectArray,this.format=new e.XFAObjectArray,this.handler=new e.XFAObjectArray,this.hyphenation=new e.XFAObjectArray,this.image=new e.XFAObjectArray,this.imageEdit=new e.XFAObjectArray,this.integer=new e.XFAObjectArray,this.issuers=new e.XFAObjectArray,this.items=new e.XFAObjectArray,this.keep=new e.XFAObjectArray,this.keyUsage=new e.XFAObjectArray,this.line=new e.XFAObjectArray,this.linear=new e.XFAObjectArray,this.lockDocument=new e.XFAObjectArray,this.manifest=new e.XFAObjectArray,this.margin=new e.XFAObjectArray,this.mdp=new e.XFAObjectArray,this.medium=new e.XFAObjectArray,this.message=new e.XFAObjectArray,this.numericEdit=new e.XFAObjectArray,this.occur=new e.XFAObjectArray,this.oid=new e.XFAObjectArray,this.oids=new e.XFAObjectArray,this.overflow=new e.XFAObjectArray,this.pageArea=new e.XFAObjectArray,this.pageSet=new e.XFAObjectArray,this.para=new e.XFAObjectArray,this.passwordEdit=new e.XFAObjectArray,this.pattern=new e.XFAObjectArray,this.picture=new e.XFAObjectArray,this.radial=new e.XFAObjectArray,this.reason=new e.XFAObjectArray,this.reasons=new e.XFAObjectArray,this.rectangle=new e.XFAObjectArray,this.ref=new e.XFAObjectArray,this.script=new e.XFAObjectArray,this.setProperty=new e.XFAObjectArray,this.signData=new e.XFAObjectArray,this.signature=new e.XFAObjectArray,this.signing=new e.XFAObjectArray,this.solid=new e.XFAObjectArray,this.speak=new e.XFAObjectArray,this.stipple=new e.XFAObjectArray,this.subform=new e.XFAObjectArray,this.subformSet=new e.XFAObjectArray,this.subjectDN=new e.XFAObjectArray,this.subjectDNs=new e.XFAObjectArray,this.submit=new e.XFAObjectArray,this.text=new e.XFAObjectArray,this.textEdit=new e.XFAObjectArray,this.time=new e.XFAObjectArray,this.timeStamp=new e.XFAObjectArray,this.toolTip=new e.XFAObjectArray,this.traversal=new e.XFAObjectArray,this.traverse=new e.XFAObjectArray,this.ui=new e.XFAObjectArray,this.validate=new e.XFAObjectArray,this.value=new e.XFAObjectArray,this.variables=new e.XFAObjectArray}}class Ge extends e.XFAObject{constructor(p){super(s,"radial",!0),this.id=p.id||"",this.type=(0,t.getStringOption)(p.type,["toEdge","toCenter"]),this.use=p.use||"",this.usehref=p.usehref||"",this.color=null,this.extras=null}[e.$toStyle](p){p=p?p[e.$toStyle]():"#FFFFFF";const lt=this.color?this.color[e.$toStyle]():"#000000";return`radial-gradient(circle at center, ${"toEdge"===this.type?`${p},${lt}`:`${lt},${p}`})`}}class We extends e.StringObject{constructor(p){super(s,"reason"),this.id=p.id||"",this.name=p.name||"",this.use=p.use||"",this.usehref=p.usehref||""}}class Ve extends e.XFAObject{constructor(p){super(s,"reasons",!0),this.id=p.id||"",this.type=(0,t.getStringOption)(p.type,["optional","required"]),this.use=p.use||"",this.usehref=p.usehref||"",this.reason=new e.XFAObjectArray}}class Be extends e.XFAObject{constructor(p){super(s,"rectangle",!0),this.hand=(0,t.getStringOption)(p.hand,["even","left","right"]),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||"",this.corner=new e.XFAObjectArray(4),this.edge=new e.XFAObjectArray(4),this.fill=null}[e.$toHTML](){const p=this.edge.children.length?this.edge.children[0]:new Ft({}),lt=p[e.$toStyle](),St=Object.create(null);this.fill&&"visible"===this.fill.presence?Object.assign(St,this.fill[e.$toStyle]()):St.fill="transparent",St.strokeWidth=(0,S.measureToString)("visible"===p.presence?p.thickness:0),St.stroke=lt.color;const ut=(this.corner.children.length?this.corner.children[0]:new at({}))[e.$toStyle](),Q={name:"svg",children:[{name:"rect",attributes:{xmlns:i,width:"100%",height:"100%",x:0,y:0,rx:ut.radius,ry:ut.radius,style:St}}],attributes:{xmlns:i,style:{overflow:"visible"},width:"100%",height:"100%"}};return o(this[e.$getParent]()[e.$getParent]())?t.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Q]}):(Q.attributes.style.position="absolute",t.HTMLResult.success(Q))}}class Ke extends e.StringObject{constructor(p){super(s,"ref"),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||""}}class Ye extends e.StringObject{constructor(p){super(s,"script"),this.binding=p.binding||"",this.contentType=p.contentType||"",this.id=p.id||"",this.name=p.name||"",this.runAt=(0,t.getStringOption)(p.runAt,["client","both","server"]),this.use=p.use||"",this.usehref=p.usehref||""}}class je extends e.XFAObject{constructor(p){super(s,"setProperty"),this.connection=p.connection||"",this.ref=p.ref||"",this.target=p.target||""}}v.SetProperty=je;class Je extends e.XFAObject{constructor(p){super(s,"signData",!0),this.id=p.id||"",this.operation=(0,t.getStringOption)(p.operation,["sign","clear","verify"]),this.ref=p.ref||"",this.target=p.target||"",this.use=p.use||"",this.usehref=p.usehref||"",this.filter=null,this.manifest=null}}class Ze extends e.XFAObject{constructor(p){super(s,"signature",!0),this.id=p.id||"",this.type=(0,t.getStringOption)(p.type,["PDF1.3","PDF1.6"]),this.use=p.use||"",this.usehref=p.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Qe extends e.XFAObject{constructor(p){super(s,"signing",!0),this.id=p.id||"",this.type=(0,t.getStringOption)(p.type,["optional","required"]),this.use=p.use||"",this.usehref=p.usehref||"",this.certificate=new e.XFAObjectArray}}class ti extends e.XFAObject{constructor(p){super(s,"solid",!0),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null}[e.$toStyle](p){return p?p[e.$toStyle]():"#FFFFFF"}}class ei extends e.StringObject{constructor(p){super(s,"speak"),this.disable=(0,t.getInteger)({data:p.disable,defaultValue:0,validate:lt=>1===lt}),this.id=p.id||"",this.priority=(0,t.getStringOption)(p.priority,["custom","caption","name","toolTip"]),this.rid=p.rid||"",this.use=p.use||"",this.usehref=p.usehref||""}}class ii extends e.XFAObject{constructor(p){super(s,"stipple",!0),this.id=p.id||"",this.rate=(0,t.getInteger)({data:p.rate,defaultValue:50,validate:lt=>lt>=0&&lt<=100}),this.use=p.use||"",this.usehref=p.usehref||"",this.color=null,this.extras=null}[e.$toStyle](p){const lt=this.rate/100;return u.Util.makeHexColor(Math.round(p.value.r*(1-lt)+this.value.r*lt),Math.round(p.value.g*(1-lt)+this.value.g*lt),Math.round(p.value.b*(1-lt)+this.value.b*lt))}}class $e extends e.XFAObject{constructor(p){super(s,"subform",!0),this.access=(0,t.getStringOption)(p.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,t.getInteger)({data:p.allowMacro,defaultValue:0,validate:lt=>1===lt}),this.anchorType=(0,t.getStringOption)(p.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,t.getInteger)({data:p.colSpan,defaultValue:1,validate:lt=>lt>=1||-1===lt}),this.columnWidths=(p.columnWidths||"").trim().split(/\s+/).map(lt=>"-1"===lt?-1:(0,t.getMeasurement)(lt)),this.h=p.h?(0,t.getMeasurement)(p.h):"",this.hAlign=(0,t.getStringOption)(p.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=p.id||"",this.layout=(0,t.getStringOption)(p.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=p.locale||"",this.maxH=(0,t.getMeasurement)(p.maxH,"0pt"),this.maxW=(0,t.getMeasurement)(p.maxW,"0pt"),this.mergeMode=(0,t.getStringOption)(p.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,t.getMeasurement)(p.minH,"0pt"),this.minW=(0,t.getMeasurement)(p.minW,"0pt"),this.name=p.name||"",this.presence=(0,t.getStringOption)(p.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,t.getRelevant)(p.relevant),this.restoreState=(0,t.getStringOption)(p.restoreState,["manual","auto"]),this.scope=(0,t.getStringOption)(p.scope,["name","none"]),this.use=p.use||"",this.usehref=p.usehref||"",this.w=p.w?(0,t.getMeasurement)(p.w):"",this.x=(0,t.getMeasurement)(p.x,"0pt"),this.y=(0,t.getMeasurement)(p.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new e.XFAObjectArray,this.breakAfter=new e.XFAObjectArray,this.breakBefore=new e.XFAObjectArray,this.connect=new e.XFAObjectArray,this.draw=new e.XFAObjectArray,this.event=new e.XFAObjectArray,this.exObject=new e.XFAObjectArray,this.exclGroup=new e.XFAObjectArray,this.field=new e.XFAObjectArray,this.proto=new e.XFAObjectArray,this.setProperty=new e.XFAObjectArray,this.subform=new e.XFAObjectArray,this.subformSet=new e.XFAObjectArray}[e.$getSubformParent](){const p=this[e.$getParent]();return p instanceof De?p[e.$getSubformParent]():p}[e.$isBindable](){return!0}[e.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&0===this[e.$extra].attempt&&this[e.$extra].numberInLine>0||this[e.$getParent]()[e.$isThereMoreWidth]()}*[e.$getContainedChildren](){yield*m(this)}[e.$flushHTML](){return(0,_.flushHTML)(this)}[e.$addHTML](p,lt){(0,_.addHTML)(this,p,lt)}[e.$getAvailableSpace](){return(0,_.getAvailableSpace)(this)}[e.$isSplittable](){const p=this[e.$getSubformParent]();return!!p[e.$isSplittable]()&&(void 0!==this[e.$extra]._isSplittable?this[e.$extra]._isSplittable:"position"===this.layout||this.layout.includes("row")||this.keep&&"none"!==this.keep.intact?(this[e.$extra]._isSplittable=!1,!1):!(p.layout&&p.layout.endsWith("-tb")&&0!==p[e.$extra].numberInLine||(this[e.$extra]._isSplittable=!0,0)))}[e.$toHTML](p){if(B(this),this.break){if("auto"!==this.break.after||""!==this.break.afterTarget){const de=new J({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});de[e.$globalData]=this[e.$globalData],this[e.$appendChild](de),this.breakAfter.push(de)}if("auto"!==this.break.before||""!==this.break.beforeTarget){const de=new z({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});de[e.$globalData]=this[e.$globalData],this[e.$appendChild](de),this.breakBefore.push(de)}if(""!==this.break.overflowTarget){const de=new Gt({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});de[e.$globalData]=this[e.$globalData],this[e.$appendChild](de),this.overflow.push(de)}this[e.$removeChild](this.break),this.break=null}if("hidden"===this.presence||"inactive"===this.presence)return t.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,u.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const de=this.breakBefore.children[0];if(P(de))return t.HTMLResult.breakNode(de)}if(this[e.$extra]&&this[e.$extra].afterBreakAfter)return t.HTMLResult.EMPTY;(0,S.fixDimensions)(this);const lt=[],St={id:this[e.$uid],class:[]};(0,S.setAccess)(this,St.class),this[e.$extra]||(this[e.$extra]=Object.create(null)),Object.assign(this[e.$extra],{children:lt,line:null,attributes:St,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,p.width),height:Math.min(this.h||1/0,p.height)},width:0,height:0,prevHeight:0,currentWidth:0});const ut=this[e.$getTemplateRoot](),Q=ut[e.$extra].noLayoutFailure,Lt=this[e.$isSplittable]();if(Lt||r(this),!(0,_.checkDimensions)(this,p))return t.HTMLResult.FAILURE;const Kt=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const de=this[e.$getSubformParent]().columnWidths;Array.isArray(de)&&de.length>0&&(this[e.$extra].columnWidths=de,this[e.$extra].currentColumn=0)}const Jt=(0,S.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),ce=["xfaSubform"],ue=(0,S.layoutClass)(this);if(ue&&ce.push(ue),St.style=Jt,St.class=ce,this.name&&(St.xfaName=this.name),this.overflow){const de=this.overflow[e.$getExtra]();de.addLeader&&(de.addLeader=!1,T(this,de.leader,p))}this[e.$pushPara]();const ge="lr-tb"===this.layout||"rl-tb"===this.layout,be=ge?2:1;for(;this[e.$extra].attempt<be;this[e.$extra].attempt++){ge&&1===this[e.$extra].attempt&&(this[e.$extra].numberInLine=0);const de=this[e.$childrenToHTML]({filter:Kt,include:!0});if(de.success)break;if(de.isBreak())return this[e.$popPara](),de;if(ge&&0===this[e.$extra].attempt&&0===this[e.$extra].numberInLine&&!ut[e.$extra].noLayoutFailure){this[e.$extra].attempt=be;break}}if(this[e.$popPara](),Lt||c(this),ut[e.$extra].noLayoutFailure=Q,this[e.$extra].attempt===be)return this.overflow&&(this[e.$getTemplateRoot]()[e.$extra].overflowNode=this.overflow),Lt||delete this[e.$extra],t.HTMLResult.FAILURE;if(this.overflow){const de=this.overflow[e.$getExtra]();de.addTrailer&&(de.addTrailer=!1,T(this,de.trailer,p))}let Se=0,ye=0;this.margin&&(Se=this.margin.leftInset+this.margin.rightInset,ye=this.margin.topInset+this.margin.bottomInset);const fe=Math.max(this[e.$extra].width+Se,this.w||0),Ce=Math.max(this[e.$extra].height+ye,this.h||0),he=[this.x,this.y,fe,Ce];if(""===this.w&&(Jt.width=(0,S.measureToString)(fe)),""===this.h&&(Jt.height=(0,S.measureToString)(Ce)),("0px"===Jt.width||"0px"===Jt.height)&&0===lt.length)return t.HTMLResult.EMPTY;const me={name:"div",attributes:St,children:lt};h(this,St);const Fe=t.HTMLResult.success((0,S.createWrapper)(this,me),he);if(this.breakAfter.children.length>=1){const de=this.breakAfter.children[0];if(P(de))return this[e.$extra].afterBreakAfter=Fe,t.HTMLResult.breakNode(de)}return delete this[e.$extra],Fe}}class De extends e.XFAObject{constructor(p){super(s,"subformSet",!0),this.id=p.id||"",this.name=p.name||"",this.relation=(0,t.getStringOption)(p.relation,["ordered","choice","unordered"]),this.relevant=(0,t.getRelevant)(p.relevant),this.use=p.use||"",this.usehref=p.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new e.XFAObjectArray,this.breakBefore=new e.XFAObjectArray,this.subform=new e.XFAObjectArray,this.subformSet=new e.XFAObjectArray}*[e.$getContainedChildren](){yield*m(this)}[e.$getSubformParent](){let p=this[e.$getParent]();for(;!(p instanceof $e);)p=p[e.$getParent]();return p}[e.$isBindable](){return!0}}class ri extends e.ContentObject{constructor(p){super(s,"subjectDN"),this.delimiter=p.delimiter||",",this.id=p.id||"",this.name=p.name||"",this.use=p.use||"",this.usehref=p.usehref||""}[e.$finalize](){this[e.$content]=new Map(this[e.$content].split(this.delimiter).map(p=>((p=p.split("=",2))[0]=p[0].trim(),p)))}}class ni extends e.XFAObject{constructor(p){super(s,"subjectDNs",!0),this.id=p.id||"",this.type=(0,t.getStringOption)(p.type,["optional","required"]),this.use=p.use||"",this.usehref=p.usehref||"",this.subjectDN=new e.XFAObjectArray}}class ai extends e.XFAObject{constructor(p){super(s,"submit",!0),this.embedPDF=(0,t.getInteger)({data:p.embedPDF,defaultValue:0,validate:lt=>1===lt}),this.format=(0,t.getStringOption)(p.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=p.id||"",this.target=p.target||"",this.textEncoding=(0,t.getKeyword)({data:p.textEncoding?p.textEncoding.toLowerCase():"",defaultValue:"",validate:lt=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(lt)||lt.match(/iso-8859-\d{2}/)}),this.use=p.use||"",this.usehref=p.usehref||"",this.xdpContent=p.xdpContent||"",this.encrypt=null,this.encryptData=new e.XFAObjectArray,this.signData=new e.XFAObjectArray}}class Re extends e.XFAObject{constructor(p){super(s,"template",!0),this.baseProfile=(0,t.getStringOption)(p.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new e.XFAObjectArray}[e.$finalize](){0===this.subform.children.length&&(0,u.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,u.warn)("XFA - Several subforms in template node: please file a bug."),this[e.$tabIndex]=5e3}[e.$isSplittable](){return!0}[e.$searchNode](p,lt){return p.startsWith("#")?[this[e.$ids].get(p.slice(1))]:(0,k.searchNode)(this,lt,p,!0,!0)}*[e.$toPages](){if(!this.subform.children.length)return t.HTMLResult.success({name:"div",children:[]});this[e.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const p=this.subform.children[0];p.pageSet[e.$cleanPage]();const lt=p.pageSet.pageArea.children,St={name:"div",children:[]};let ut=null,Q=null,Lt=null;if(p.breakBefore.children.length>=1?(Q=p.breakBefore.children[0],Lt=Q.target):p.subform.children.length>=1&&p.subform.children[0].breakBefore.children.length>=1?(Q=p.subform.children[0].breakBefore.children[0],Lt=Q.target):p.break&&p.break.beforeTarget?(Q=p.break,Lt=Q.beforeTarget):p.subform.children.length>=1&&p.subform.children[0].break&&p.subform.children[0].break.beforeTarget&&(Q=p.subform.children[0].break,Lt=Q.beforeTarget),Q){const ye=this[e.$searchNode](Lt,Q[e.$getParent]());ye instanceof le&&(ut=ye,Q[e.$extra]={})}ut||(ut=lt[0]),ut[e.$extra]={numberOfUse:1};const Kt=ut[e.$getParent]();Kt[e.$extra]={numberOfUse:1,pageIndex:Kt.pageArea.children.indexOf(ut),pageSetIndex:0};let Jt,ce=null,ue=null,ge=!0,be=0,Se=0;for(;;){if(ge)be=0;else if(St.children.pop(),3==++be)return(0,u.warn)("XFA - Something goes wrong: please file a bug."),St;Jt=null,this[e.$extra].currentPageArea=ut;const ye=ut[e.$toHTML]().html;St.children.push(ye),ce&&(this[e.$extra].noLayoutFailure=!0,ye.children.push(ce[e.$toHTML](ut[e.$extra].space).html),ce=null),ue&&(this[e.$extra].noLayoutFailure=!0,ye.children.push(ue[e.$toHTML](ut[e.$extra].space).html),ue=null);const fe=ut.contentArea.children,Ce=ye.children.filter(me=>me.attributes.class.includes("xfaContentarea"));ge=!1,this[e.$extra].firstUnsplittable=null,this[e.$extra].noLayoutFailure=!1;const he=me=>{const Fe=p[e.$flushHTML]();Fe&&(ge=ge||Fe.children&&0!==Fe.children.length,Ce[me].children.push(Fe))};for(let me=Se,Fe=fe.length;me<Fe;me++){const de=this[e.$extra].currentContentArea=fe[me],Ie={width:de.w,height:de.h};Se=0,ce&&(Ce[me].children.push(ce[e.$toHTML](Ie).html),ce=null),ue&&(Ce[me].children.push(ue[e.$toHTML](Ie).html),ue=null);const Oe=p[e.$toHTML](Ie);if(Oe.success)return Oe.html?(ge=ge||Oe.html.children&&0!==Oe.html.children.length,Ce[me].children.push(Oe.html)):!ge&&St.children.length>1&&St.children.pop(),St;if(Oe.isBreak()){const ke=Oe.breakNode;if(he(me),"auto"===ke.targetType)continue;ke.leader&&(ce=this[e.$searchNode](ke.leader,ke[e.$getParent]()),ce=ce?ce[0]:null),ke.trailer&&(ue=this[e.$searchNode](ke.trailer,ke[e.$getParent]()),ue=ue?ue[0]:null),"pageArea"===ke.targetType?(Jt=ke[e.$extra].target,me=1/0):ke[e.$extra].target?(Jt=ke[e.$extra].target,Se=ke[e.$extra].index+1,me=1/0):me=ke[e.$extra].index}else if(this[e.$extra].overflowNode){const ke=this[e.$extra].overflowNode;this[e.$extra].overflowNode=null;const Le=ke[e.$getExtra](),Ee=Le.target;Le.addLeader=null!==Le.leader,Le.addTrailer=null!==Le.trailer,he(me);const fi=me;if(me=1/0,Ee instanceof le)Jt=Ee;else if(Ee instanceof Z){const qe=fe.indexOf(Ee);-1!==qe?qe>fi?me=qe-1:Se=qe:(Jt=Ee[e.$getParent](),Se=Jt.contentArea.children.indexOf(Ee))}}else he(me)}this[e.$extra].pageNumber+=1,Jt&&(Jt[e.$isUsable]()?Jt[e.$extra].numberOfUse+=1:Jt=null),ut=Jt||ut[e.$getNextPage](),yield null}}}v.Template=Re;class Ue extends e.ContentObject{constructor(p){super(s,"text"),this.id=p.id||"",this.maxChars=(0,t.getInteger)({data:p.maxChars,defaultValue:0,validate:lt=>lt>=0}),this.name=p.name||"",this.rid=p.rid||"",this.use=p.use||"",this.usehref=p.usehref||""}[e.$acceptWhitespace](){return!0}[e.$onChild](p){return p[e.$namespaceId]===d.NamespaceIds.xhtml.id?(this[e.$content]=p,!0):((0,u.warn)(`XFA - Invalid content in Text: ${p[e.$nodeName]}.`),!1)}[e.$onText](p){this[e.$content]instanceof e.XFAObject||super[e.$onText](p)}[e.$finalize](){"string"==typeof this[e.$content]&&(this[e.$content]=this[e.$content].replace(/\r\n/g,"\n"))}[e.$getExtra](){return"string"==typeof this[e.$content]?this[e.$content].split(/[\u2029\u2028\n]/).reduce((p,lt)=>(lt&&p.push(lt),p),[]).join("\n"):this[e.$content][e.$text]()}[e.$toHTML](p){if("string"==typeof this[e.$content]){const lt=g(this[e.$content]).html;return this[e.$content].includes("\u2029")?(lt.name="div",lt.children=[],this[e.$content].split("\u2029").map(St=>St.split(/[\u2028\n]/).reduce((ut,Q)=>(ut.push({name:"span",value:Q},{name:"br"}),ut),[])).forEach(St=>{lt.children.push({name:"p",children:St})})):/[\u2028\n]/.test(this[e.$content])&&(lt.name="div",lt.children=[],this[e.$content].split(/[\u2028\n]/).forEach(St=>{lt.children.push({name:"span",value:St},{name:"br"})})),t.HTMLResult.success(lt)}return this[e.$content][e.$toHTML](p)}}v.Text=Ue;class Xe extends e.XFAObject{constructor(p){super(s,"textEdit",!0),this.allowRichText=(0,t.getInteger)({data:p.allowRichText,defaultValue:0,validate:lt=>1===lt}),this.hScrollPolicy=(0,t.getStringOption)(p.hScrollPolicy,["auto","off","on"]),this.id=p.id||"",this.multiLine=(0,t.getInteger)({data:p.multiLine,defaultValue:"",validate:lt=>0===lt||1===lt}),this.use=p.use||"",this.usehref=p.usehref||"",this.vScrollPolicy=(0,t.getStringOption)(p.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[e.$toHTML](p){const lt=(0,S.toStyle)(this,"border","font","margin");let St;const ut=this[e.$getParent]()[e.$getParent]();return""===this.multiLine&&(this.multiLine=ut instanceof At?1:0),St=1===this.multiLine?{name:"textarea",attributes:{dataId:ut[e.$data]&&ut[e.$data][e.$uid]||ut[e.$uid],fieldId:ut[e.$uid],class:["xfaTextfield"],style:lt,"aria-label":y(ut),"aria-required":!1}}:{name:"input",attributes:{type:"text",dataId:ut[e.$data]&&ut[e.$data][e.$uid]||ut[e.$uid],fieldId:ut[e.$uid],class:["xfaTextfield"],style:lt,"aria-label":y(ut),"aria-required":!1}},O(ut)&&(St.attributes["aria-required"]=!0,St.attributes.required=!0),t.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[St]})}}class si extends e.StringObject{constructor(p){super(s,"time"),this.id=p.id||"",this.name=p.name||"",this.use=p.use||"",this.usehref=p.usehref||""}[e.$finalize](){const p=this[e.$content].trim();this[e.$content]=p?new Date(p):null}[e.$toHTML](p){return g(this[e.$content]?this[e.$content].toString():"")}}class oi extends e.XFAObject{constructor(p){super(s,"timeStamp"),this.id=p.id||"",this.server=p.server||"",this.type=(0,t.getStringOption)(p.type,["optional","required"]),this.use=p.use||"",this.usehref=p.usehref||""}}class ci extends e.StringObject{constructor(p){super(s,"toolTip"),this.id=p.id||"",this.rid=p.rid||"",this.use=p.use||"",this.usehref=p.usehref||""}}class li extends e.XFAObject{constructor(p){super(s,"traversal",!0),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null,this.traverse=new e.XFAObjectArray}}class hi extends e.XFAObject{constructor(p){super(s,"traverse",!0),this.id=p.id||"",this.operation=(0,t.getStringOption)(p.operation,["next","back","down","first","left","right","up"]),this.ref=p.ref||"",this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[e.$isTransparent](){return!1}}class Ne extends e.XFAObject{constructor(p){super(s,"ui",!0),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[e.$getExtra](){if(void 0===this[e.$extra]){for(const p of Object.getOwnPropertyNames(this)){if("extras"===p||"picture"===p)continue;const lt=this[p];if(lt instanceof e.XFAObject)return this[e.$extra]=lt,lt}this[e.$extra]=null}return this[e.$extra]}[e.$toHTML](p){const lt=this[e.$getExtra]();return lt?lt[e.$toHTML](p):t.HTMLResult.EMPTY}}class ui extends e.XFAObject{constructor(p){super(s,"validate",!0),this.formatTest=(0,t.getStringOption)(p.formatTest,["warning","disabled","error"]),this.id=p.id||"",this.nullTest=(0,t.getStringOption)(p.nullTest,["disabled","error","warning"]),this.scriptTest=(0,t.getStringOption)(p.scriptTest,["error","disabled","warning"]),this.use=p.use||"",this.usehref=p.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class _e extends e.XFAObject{constructor(p){super(s,"value",!0),this.id=p.id||"",this.override=(0,t.getInteger)({data:p.override,defaultValue:0,validate:lt=>1===lt}),this.relevant=(0,t.getRelevant)(p.relevant),this.use=p.use||"",this.usehref=p.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[e.$setValue](p){const lt=this[e.$getParent]();if(lt instanceof Tt&&lt.ui&&lt.ui.imageEdit)return this.image||(this.image=new Yt({}),this[e.$appendChild](this.image)),void(this.image[e.$content]=p[e.$content]);const St=p[e.$nodeName];if(null===this[St]){for(const ut of Object.getOwnPropertyNames(this)){const Q=this[ut];Q instanceof e.XFAObject&&(this[ut]=null,this[e.$removeChild](Q))}this[p[e.$nodeName]]=p,this[e.$appendChild](p)}else this[St][e.$content]=p[e.$content]}[e.$text](){if(this.exData)return"string"==typeof this.exData[e.$content]?this.exData[e.$content].trim():this.exData[e.$content][e.$text]().trim();for(const p of Object.getOwnPropertyNames(this)){if("image"===p)continue;const lt=this[p];if(lt instanceof e.XFAObject)return(lt[e.$content]||"").toString().trim()}return null}[e.$toHTML](p){for(const lt of Object.getOwnPropertyNames(this)){const St=this[lt];if(St instanceof e.XFAObject)return St[e.$toHTML](p)}return t.HTMLResult.EMPTY}}v.Value=_e;class di extends e.XFAObject{constructor(p){super(s,"variables",!0),this.id=p.id||"",this.use=p.use||"",this.usehref=p.usehref||"",this.boolean=new e.XFAObjectArray,this.date=new e.XFAObjectArray,this.dateTime=new e.XFAObjectArray,this.decimal=new e.XFAObjectArray,this.exData=new e.XFAObjectArray,this.float=new e.XFAObjectArray,this.image=new e.XFAObjectArray,this.integer=new e.XFAObjectArray,this.manifest=new e.XFAObjectArray,this.script=new e.XFAObjectArray,this.text=new e.XFAObjectArray,this.time=new e.XFAObjectArray}[e.$isTransparent](){return!0}}class Me{static[d.$buildXFAObject](p,lt){if(Me.hasOwnProperty(p)){const St=Me[p](lt);return St[e.$setSetAttributes](lt),St}}static appearanceFilter(p){return new x(p)}static arc(p){return new C(p)}static area(p){return new b(p)}static assist(p){return new A(p)}static barcode(p){return new R(p)}static bind(p){return new F(p)}static bindItems(p){return new N(p)}static bookend(p){return new E(p)}static boolean(p){return new L(p)}static border(p){return new X(p)}static break(p){return new V(p)}static breakAfter(p){return new J(p)}static breakBefore(p){return new z(p)}static button(p){return new $(p)}static calculate(p){return new q(p)}static caption(p){return new j(p)}static certificate(p){return new M(p)}static certificates(p){return new U(p)}static checkButton(p){return new H(p)}static choiceList(p){return new W(p)}static color(p){return new G(p)}static comb(p){return new Y(p)}static connect(p){return new tt(p)}static contentArea(p){return new Z(p)}static corner(p){return new at(p)}static date(p){return new st(p)}static dateTime(p){return new nt(p)}static dateTimeEdit(p){return new ot(p)}static decimal(p){return new ct(p)}static defaultUi(p){return new ht(p)}static desc(p){return new ft(p)}static digestMethod(p){return new mt(p)}static digestMethods(p){return new Ct(p)}static draw(p){return new At(p)}static edge(p){return new Ft(p)}static encoding(p){return new gt(p)}static encodings(p){return new Bt(p)}static encrypt(p){return new qt(p)}static encryptData(p){return new Nt(p)}static encryption(p){return new Ht(p)}static encryptionMethod(p){return new Vt(p)}static encryptionMethods(p){return new ae(p)}static event(p){return new Zt(p)}static exData(p){return new Rt(p)}static exObject(p){return new _t(p)}static exclGroup(p){return new Mt(p)}static execute(p){return new Pt(p)}static extras(p){return new Dt(p)}static field(p){return new Tt(p)}static fill(p){return new yt(p)}static filter(p){return new wt(p)}static float(p){return new pt(p)}static font(p){return new kt(p)}static format(p){return new vt(p)}static handler(p){return new Ot(p)}static hyphenation(p){return new Xt(p)}static image(p){return new Yt(p)}static imageEdit(p){return new Qt(p)}static integer(p){return new Ut(p)}static issuers(p){return new te(p)}static items(p){return new ne(p)}static keep(p){return new pe(p)}static keyUsage(p){return new oe(p)}static line(p){return new jt(p)}static linear(p){return new re(p)}static lockDocument(p){return new Wt(p)}static manifest(p){return new ee(p)}static margin(p){return new zt(p)}static mdp(p){return new ie(p)}static medium(p){return new se(p)}static message(p){return new we(p)}static numericEdit(p){return new ve(p)}static occur(p){return new bt(p)}static oid(p){return new Et(p)}static oids(p){return new $t(p)}static overflow(p){return new Gt(p)}static pageArea(p){return new le(p)}static pageSet(p){return new xe(p)}static para(p){return new Ae(p)}static passwordEdit(p){return new Pe(p)}static pattern(p){return new Te(p)}static picture(p){return new He(p)}static proto(p){return new ze(p)}static radial(p){return new Ge(p)}static reason(p){return new We(p)}static reasons(p){return new Ve(p)}static rectangle(p){return new Be(p)}static ref(p){return new Ke(p)}static script(p){return new Ye(p)}static setProperty(p){return new je(p)}static signData(p){return new Je(p)}static signature(p){return new Ze(p)}static signing(p){return new Qe(p)}static solid(p){return new ti(p)}static speak(p){return new ei(p)}static stipple(p){return new ii(p)}static subform(p){return new $e(p)}static subformSet(p){return new De(p)}static subjectDN(p){return new ri(p)}static subjectDNs(p){return new ni(p)}static submit(p){return new ai(p)}static template(p){return new Re(p)}static text(p){return new Ue(p)}static textEdit(p){return new Xe(p)}static time(p){return new si(p)}static timeStamp(p){return new oi(p)}static toolTip(p){return new ci(p)}static traversal(p){return new li(p)}static traverse(p){return new hi(p)}static ui(p){return new Ne(p)}static validate(p){return new ui(p)}static value(p){return new _e(p)}static variables(p){return new di(p)}}v.TemplateNamespace=Me},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.addHTML=function(t,u,I){const w=t[e.$extra],k=w.availableSpace,[s,i,a,f]=I;switch(t.layout){case"position":w.width=Math.max(w.width,s+a),w.height=Math.max(w.height,i+f),w.children.push(u);break;case"lr-tb":case"rl-tb":(!w.line||1===w.attempt)&&(w.line=_(t,[]),w.children.push(w.line),w.numberInLine=0),w.numberInLine+=1,w.line.children.push(u),0===w.attempt?(w.currentWidth+=a,w.height=Math.max(w.height,w.prevHeight+f)):(w.currentWidth=a,w.prevHeight=w.height,w.height+=f,w.attempt=0),w.width=Math.max(w.width,w.currentWidth);break;case"rl-row":case"row":{w.children.push(u),w.width+=a,w.height=Math.max(w.height,f);const l=(0,d.measureToString)(w.height);for(const n of w.children)n.attributes.style.height=l;break}case"table":case"tb":w.width=Math.min(k.width,Math.max(w.width,a)),w.height+=f,w.children.push(u)}},v.checkDimensions=function(t,u){if(null===t[e.$getTemplateRoot]()[e.$extra].firstUnsplittable||0===t.w||0===t.h)return!0;const I=t[e.$getSubformParent](),w=I[e.$extra]&&I[e.$extra].attempt||0,[,k,s,i]=function(f){let l,n,o=""===f.w?NaN:f.w,D=""===f.h?NaN:f.h,[m,O]=[0,0];switch(f.anchorType||""){case"bottomCenter":[m,O]=[o/2,D];break;case"bottomLeft":[m,O]=[0,D];break;case"bottomRight":[m,O]=[o,D];break;case"middleCenter":[m,O]=[o/2,D/2];break;case"middleLeft":[m,O]=[0,D/2];break;case"middleRight":[m,O]=[o,D/2];break;case"topCenter":[m,O]=[o/2,0];break;case"topRight":[m,O]=[o,0]}switch(f.rotate||0){case 0:[l,n]=[-m,-O];break;case 90:[l,n]=[-O,m],[o,D]=[D,-o];break;case 180:[l,n]=[m,O],[o,D]=[-o,-D];break;case 270:[l,n]=[O,-m],[o,D]=[-D,o]}return[f.x+l+Math.min(0,o),f.y+n+Math.min(0,D),Math.abs(o),Math.abs(D)]}(t);switch(I.layout){case"lr-tb":case"rl-tb":return 0===w?t[e.$getTemplateRoot]()[e.$extra].noLayoutFailure?""!==t.w?Math.round(s-u.width)<=2:u.width>2:!(""!==t.h&&Math.round(i-u.height)>2)&&(""!==t.w?Math.round(s-u.width)<=2||0===I[e.$extra].numberInLine&&u.height>2:u.width>2):!!t[e.$getTemplateRoot]()[e.$extra].noLayoutFailure||!(""!==t.h&&Math.round(i-u.height)>2)&&(""===t.w||Math.round(s-u.width)<=2||!I[e.$isThereMoreWidth]())&&u.height>2;case"table":case"tb":return!!t[e.$getTemplateRoot]()[e.$extra].noLayoutFailure||(""===t.h||t[e.$isSplittable]()?(""===t.w||Math.round(s-u.width)<=2||!I[e.$isThereMoreWidth]())&&u.height>2:Math.round(i-u.height)<=2);case"position":return!!(t[e.$getTemplateRoot]()[e.$extra].noLayoutFailure||""===t.h||Math.round(i+k-u.height)<=2)||i+k>t[e.$getTemplateRoot]()[e.$extra].currentContentArea.h;case"rl-row":case"row":return!!t[e.$getTemplateRoot]()[e.$extra].noLayoutFailure||""===t.h||Math.round(i-u.height)<=2;default:return!0}},v.flushHTML=function(t){if(!t[e.$extra])return null;const u={name:"div",attributes:t[e.$extra].attributes,children:t[e.$extra].children};if(t[e.$extra].failingNode){const I=t[e.$extra].failingNode[e.$flushHTML]();I&&(t.layout.endsWith("-tb")?u.children.push(_(t,[I])):u.children.push(I))}return 0===u.children.length?null:u},v.getAvailableSpace=function(t){const u=t[e.$extra].availableSpace,I=t.margin?t.margin.topInset+t.margin.bottomInset:0,w=t.margin?t.margin.leftInset+t.margin.rightInset:0;switch(t.layout){case"lr-tb":case"rl-tb":return 0===t[e.$extra].attempt?{width:u.width-w-t[e.$extra].currentWidth,height:u.height-I-t[e.$extra].prevHeight}:{width:u.width-w,height:u.height-I-t[e.$extra].height};case"rl-row":case"row":return{width:t[e.$extra].columnWidths.slice(t[e.$extra].currentColumn).reduce((k,s)=>k+s),height:u.height-w};case"table":case"tb":return{width:u.width-w,height:u.height-I-t[e.$extra].height};default:return u}};var e=K(77),d=K(84);function _(S,t){return{name:"div",attributes:{class:["lr-tb"===S.layout?"xfaLr":"xfaRl"]},children:t}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.computeBbox=function(a,f,l){let n;if(""!==a.w&&""!==a.h)n=[a.x,a.y,a.w,a.h];else{if(!l)return null;let o=a.w;if(""===o){if(0===a.maxW){const m=a[e.$getSubformParent]();o="position"===m.layout&&""!==m.w?0:a.minW}else o=Math.min(a.maxW,l.width);f.attributes.style.width=u(o)}let D=a.h;if(""===D){if(0===a.maxH){const m=a[e.$getSubformParent]();D="position"===m.layout&&""!==m.h?0:a.minH}else D=Math.min(a.maxH,l.height);f.attributes.style.height=u(D)}n=[a.x,a.y,o,D]}return n},v.createWrapper=function(a,f){const{attributes:l}=f,{style:n}=l,o={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(l.class.push("xfaWrapped"),a.border){const{widths:D,insets:m}=a.border[e.$extra];let O,B,h=m[0],y=m[3];const g=m[0]+m[2],r=m[1]+m[3];switch(a.border.hand){case"even":h-=D[0]/2,y-=D[3]/2,O=`calc(100% + ${(D[1]+D[3])/2-r}px)`,B=`calc(100% + ${(D[0]+D[2])/2-g}px)`;break;case"left":h-=D[0],y-=D[3],O=`calc(100% + ${D[1]+D[3]-r}px)`,B=`calc(100% + ${D[0]+D[2]-g}px)`;break;case"right":O=r?`calc(100% - ${r}px)`:"100%",B=g?`calc(100% - ${g}px)`:"100%"}const c=["xfaBorder"];k(a.border)&&c.push("xfaPrintOnly");const P={name:"div",attributes:{class:c,style:{top:`${h}px`,left:`${y}px`,width:O,height:B}},children:[]};for(const T of["border","borderWidth","borderColor","borderRadius","borderStyle"])void 0!==n[T]&&(P.attributes.style[T]=n[T],delete n[T]);o.children.push(P,f)}else o.children.push(f);for(const D of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])void 0!==n[D]&&(o.attributes.style[D]=n[D],delete n[D]);return o.attributes.style.position="absolute"===n.position?"absolute":"relative",delete n.position,n.alignSelf&&(o.attributes.style.alignSelf=n.alignSelf,delete n.alignSelf),o},v.fixDimensions=function(a){const f=a[e.$getSubformParent]();if(f.layout&&f.layout.includes("row")){const l=f[e.$extra],n=a.colSpan;let o;o=-1===n?l.columnWidths.slice(l.currentColumn).reduce((D,m)=>D+m,0):l.columnWidths.slice(l.currentColumn,l.currentColumn+n).reduce((D,m)=>D+m,0),isNaN(o)||(a.w=o)}f.layout&&"position"!==f.layout&&(a.x=a.y=0),"table"===a.layout&&""===a.w&&Array.isArray(a.columnWidths)&&(a.w=a.columnWidths.reduce((l,n)=>l+n,0))},v.fixTextIndent=function(a){const f=(0,_.getMeasurement)(a.textIndent,"0px");if(f>=0)return;const l="padding"+("left"==("right"===a.textAlign?"right":"left")?"Left":"Right"),n=(0,_.getMeasurement)(a[l],"0px");a[l]=n-f+"px"},v.fixURL=function(a){const f=(0,d.createValidAbsoluteUrl)(a,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return f?f.href:null},v.isPrintOnly=k,v.layoutClass=function(a){switch(a.layout){case"position":default:return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb"}},v.layoutNode=function(a,f){let l=null,n=null,o=!1;if((!a.w||!a.h)&&a.value){let D=0,m=0;a.margin&&(D=a.margin.leftInset+a.margin.rightInset,m=a.margin.topInset+a.margin.bottomInset);let O=null,B=null;a.para&&(B=Object.create(null),O=""===a.para.lineHeight?null:a.para.lineHeight,B.top=""===a.para.spaceAbove?0:a.para.spaceAbove,B.bottom=""===a.para.spaceBelow?0:a.para.spaceBelow,B.left=""===a.para.marginLeft?0:a.para.marginLeft,B.right=""===a.para.marginRight?0:a.para.marginRight);let h=a.font;if(!h){const r=a[e.$getTemplateRoot]();let c=a[e.$getParent]();for(;c&&c!==r;){if(c.font){h=c.font;break}c=c[e.$getParent]()}}const y=(a.w||f.width)-D,g=a[e.$globalData].fontFinder;if(a.value.exData&&a.value.exData[e.$content]&&"text/html"===a.value.exData.contentType){const r=w(a.value.exData[e.$content],h,B,O,g,y);n=r.width,l=r.height,o=r.isBroken}else{const r=a.value[e.$text]();if(r){const c=w(r,h,B,O,g,y);n=c.width,l=c.height,o=c.isBroken}}null===n||a.w||(n+=D),null===l||a.h||(l+=m)}return{w:n,h:l,isBroken:o}},v.measureToString=u,v.setAccess=function(a,f){switch(a.access){case"nonInteractive":f.push("xfaNonInteractive");break;case"readOnly":f.push("xfaReadOnly");break;case"protected":f.push("xfaDisabled")}},v.setFontFamily=function(a,f,l,n){if(!l)return void delete n.fontFamily;const o=(0,_.stripQuotes)(a.typeface);n.fontFamily=`"${o}"`;const D=l.find(o);if(D){const{fontFamily:m}=D.regular.cssFontInfo;m!==o&&(n.fontFamily=`"${m}"`);const O=s(f);if(O&&""!==O.lineHeight||n.lineHeight)return;const B=(0,S.selectFont)(a,D);B&&(n.lineHeight=Math.max(1.2,B.lineHeight))}},v.setMinMaxDimensions=function(a,f){"position"===a[e.$getSubformParent]().layout&&(a.minW>0&&(f.minWidth=u(a.minW)),a.maxW>0&&(f.maxWidth=u(a.maxW)),a.minH>0&&(f.minHeight=u(a.minH)),a.maxH>0&&(f.maxHeight=u(a.maxH)))},v.setPara=function(a,f,l){if(l.attributes.class&&l.attributes.class.includes("xfaRich")){f&&(""===a.h&&(f.height="auto"),""===a.w&&(f.width="auto"));const n=s(a);if(n){const o=l.attributes.style;switch(o.display="flex",o.flexDirection="column",n.vAlign){case"top":o.justifyContent="start";break;case"bottom":o.justifyContent="end";break;case"middle":o.justifyContent="center"}const D=n[e.$toStyle]();for(const[m,O]of Object.entries(D))m in o||(o[m]=O)}}},v.toStyle=function(a,...f){const l=Object.create(null);for(const n of f){const o=a[n];if(null!==o)if(I.hasOwnProperty(n))I[n](a,l);else if(o instanceof e.XFAObject){const D=o[e.$toStyle]();D?Object.assign(l,D):(0,d.warn)(`(DEBUG) - XFA - style for ${n} not implemented yet`)}}return l};var e=K(77),d=K(2),_=K(78),S=K(85),t=K(86);function u(i){return"string"==typeof i?"0px":Number.isInteger(i)?`${i}px`:`${i.toFixed(2)}px`}const I={anchorType(i,a){const f=i[e.$getSubformParent]();if(f&&(!f.layout||"position"===f.layout))switch("transform"in a||(a.transform=""),i.anchorType){case"bottomCenter":a.transform+="translate(-50%, -100%)";break;case"bottomLeft":a.transform+="translate(0,-100%)";break;case"bottomRight":a.transform+="translate(-100%,-100%)";break;case"middleCenter":a.transform+="translate(-50%,-50%)";break;case"middleLeft":a.transform+="translate(0,-50%)";break;case"middleRight":a.transform+="translate(-100%,-50%)";break;case"topCenter":a.transform+="translate(-50%,0)";break;case"topRight":a.transform+="translate(-100%,0)"}},dimensions(i,a){const f=i[e.$getSubformParent]();let l=i.w;const n=i.h;if(f.layout&&f.layout.includes("row")){const o=f[e.$extra],D=i.colSpan;let m;-1===D?(m=o.columnWidths.slice(o.currentColumn).reduce((O,B)=>O+B,0),o.currentColumn=0):(m=o.columnWidths.slice(o.currentColumn,o.currentColumn+D).reduce((O,B)=>O+B,0),o.currentColumn=(o.currentColumn+i.colSpan)%o.columnWidths.length),isNaN(m)||(l=i.w=m)}a.width=""!==l?u(l):"auto",a.height=""!==n?u(n):"auto"},position(i,a){const f=i[e.$getSubformParent]();(!f||!f.layout||"position"===f.layout)&&(a.position="absolute",a.left=u(i.x),a.top=u(i.y))},rotate(i,a){i.rotate&&("transform"in a||(a.transform=""),a.transform+=`rotate(-${i.rotate}deg)`,a.transformOrigin="top left")},presence(i,a){switch(i.presence){case"invisible":a.visibility="hidden";break;case"hidden":case"inactive":a.display="none"}},hAlign(i,a){if("para"===i[e.$nodeName])switch(i.hAlign){case"justifyAll":a.textAlign="justify-all";break;case"radix":a.textAlign="left";break;default:a.textAlign=i.hAlign}else switch(i.hAlign){case"left":a.alignSelf="start";break;case"center":a.alignSelf="center";break;case"right":a.alignSelf="end"}},margin(i,a){i.margin&&(a.margin=i.margin[e.$toStyle]().margin)}};function w(i,a,f,l,n,o){const D=new t.TextMeasure(a,f,l,n);return"string"==typeof i?D.addString(i):i[e.$pushGlyphs](D),D.compute(o)}function k(i){return i.relevant.length>0&&!i.relevant[0].excluded&&"print"===i.relevant[0].viewname}function s(i){const a=i[e.$getTemplateRoot]()[e.$extra].paraStack;return a.length?a.at(-1):null}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.FontFinder=void 0,v.getMetrics=function(u,I=!1){let w=null;if(u){const a=(0,d.stripQuotes)(u.typeface),f=u[e.$globalData].fontFinder.find(a);w=S(u,f)}if(!w)return{lineHeight:12,lineGap:2,lineNoGap:10};const k=u.size||10,s=w.lineHeight?Math.max(I?0:1.2,w.lineHeight):1.2,i=void 0===w.lineGap?.2:w.lineGap;return{lineHeight:s*k,lineGap:i*k,lineNoGap:Math.max(1,s-i)*k}},v.selectFont=S;var e=K(77),d=K(78),_=K(2);function S(t,u){return"italic"===t.posture?"bold"===t.weight?u.bolditalic:u.italic:"bold"===t.weight?u.bold:u.regular}v.FontFinder=class{constructor(u){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(u)}add(u,I=null){for(const k of u)this.addPdfFont(k);for(const k of this.fonts.values())k.regular||(k.regular=k.italic||k.bold||k.bolditalic);if(!I||0===I.size)return;const w=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const k of I)this.fonts.set(k,w)}addPdfFont(u){const I=u.cssFontInfo,w=I.fontFamily;let k=this.fonts.get(w);k||(k=Object.create(null),this.fonts.set(w,k),this.defaultFont||(this.defaultFont=k));let s="";const i=parseFloat(I.fontWeight);0!==parseFloat(I.italicAngle)?s=i>=700?"bolditalic":"italic":i>=700&&(s="bold"),s||((u.name.includes("Bold")||u.psName&&u.psName.includes("Bold"))&&(s="bold"),(u.name.includes("Italic")||u.name.endsWith("It")||u.psName&&(u.psName.includes("Italic")||u.psName.endsWith("It")))&&(s+="italic")),s||(s="regular"),k[s]=u}getDefault(){return this.defaultFont}find(u,I=!0){let w=this.fonts.get(u)||this.cache.get(u);if(w)return w;const k=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let s=u.replace(k,"");if(w=this.fonts.get(s),w)return this.cache.set(u,w),w;s=s.toLowerCase();const i=[];for(const[a,f]of this.fonts.entries())a.replace(k,"").toLowerCase().startsWith(s)&&i.push(f);if(0===i.length)for(const[,a]of this.fonts.entries())a.regular.name&&a.regular.name.replace(k,"").toLowerCase().startsWith(s)&&i.push(a);if(0===i.length){s=s.replace(/psmt|mt/gi,"");for(const[a,f]of this.fonts.entries())a.replace(k,"").toLowerCase().startsWith(s)&&i.push(f)}if(0===i.length)for(const a of this.fonts.values())a.regular.name&&a.regular.name.replace(k,"").toLowerCase().startsWith(s)&&i.push(a);return i.length>=1?(1!==i.length&&I&&(0,_.warn)(`XFA - Too many choices to guess the correct font: ${u}`),this.cache.set(u,i[0]),i[0]):(I&&!this.warned.has(u)&&(this.warned.add(u),(0,_.warn)(`XFA - Cannot find the font: ${u}`)),null)}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.TextMeasure=void 0;var e=K(85);class d{constructor(t,u,I,w){if(this.lineHeight=I,this.paraMargin=u||{top:0,bottom:0,left:0,right:0},!t)return void([this.pdfFont,this.xfaFont]=this.defaultFont(w));this.xfaFont={typeface:t.typeface,posture:t.posture,weight:t.weight,size:t.size,letterSpacing:t.letterSpacing};const k=w.find(t.typeface);k?(this.pdfFont=(0,e.selectFont)(t,k),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(w))):[this.pdfFont,this.xfaFont]=this.defaultFont(w)}defaultFont(t){const u=t.find("Helvetica",!1)||t.find("Myriad Pro",!1)||t.find("Arial",!1)||t.getDefault();if(u&&u.regular){const I=u.regular;return[I,{typeface:I.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0}]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class _{constructor(t,u,I,w){this.fontFinder=w,this.stack=[new d(t,u,I,w)]}pushData(t,u,I){const w=this.stack.at(-1);for(const s of["typeface","posture","weight","size","letterSpacing"])t[s]||(t[s]=w.xfaFont[s]);for(const s of["top","bottom","left","right"])isNaN(u[s])&&(u[s]=w.paraMargin[s]);const k=new d(t,u,I||w.lineHeight,this.fontFinder);k.pdfFont||(k.pdfFont=w.pdfFont),this.stack.push(k)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}v.TextMeasure=class{constructor(t,u,I,w){this.glyphs=[],this.fontSelector=new _(t,u,I,w),this.extraHeight=0}pushData(t,u,I){this.fontSelector.pushData(t,u,I)}popFont(t){return this.fontSelector.popFont()}addPara(){const t=this.fontSelector.topFont();this.extraHeight+=t.paraMargin.top+t.paraMargin.bottom}addString(t){if(!t)return;const u=this.fontSelector.topFont(),I=u.xfaFont.size;if(u.pdfFont){const w=u.xfaFont.letterSpacing,k=u.pdfFont,s=k.lineHeight||1.2,i=u.lineHeight||Math.max(1.2,s)*I,f=Math.max(1,s-(void 0===k.lineGap?.2:k.lineGap))*I,l=I/1e3,n=k.defaultWidth||k.charsToGlyphs(" ")[0].width;for(const o of t.split(/[\u2029\n]/)){const D=k.encodeString(o).join(""),m=k.charsToGlyphs(D);for(const O of m)this.glyphs.push([(O.width||n)*l+w,i,f,O.unicode,!1]);this.glyphs.push([0,0,0,"\n",!0])}this.glyphs.pop()}else{for(const w of t.split(/[\u2029\n]/)){for(const k of w.split(""))this.glyphs.push([I,1.2*I,I,k,!1]);this.glyphs.push([0,0,0,"\n",!0])}this.glyphs.pop()}}compute(t){let u=-1,I=0,w=0,k=0,s=0,i=0,a=!1,f=!0;for(let l=0,n=this.glyphs.length;l<n;l++){const[o,D,m,O,B]=this.glyphs[l],h=" "===O,y=f?m:D;B?(w=Math.max(w,s),s=0,k+=i,i=y,u=-1,I=0,f=!1):h?s+o>t?(w=Math.max(w,s),s=0,k+=i,i=y,u=-1,I=0,a=!0,f=!1):(i=Math.max(y,i),I=s,s+=o,u=l):s+o>t?(k+=i,i=y,-1!==u?(l=u,w=Math.max(w,I),s=0,u=-1,I=0):(w=Math.max(w,s),s=o),a=!0,f=!1):(s+=o,i=Math.max(y,i))}return w=Math.max(w,s),k+=i+this.extraHeight,{width:1.02*w,height:k,isBroken:a}}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.DataHandler=void 0;var e=K(77);v.DataHandler=class{constructor(_,S){this.data=S,this.dataset=_.datasets||null}serialize(_){const S=[[-1,this.data[e.$getChildren]()]];for(;S.length>0;){const u=S.at(-1),[I,w]=u;if(I+1===w.length){S.pop();continue}const k=w[++u[0]],s=_.get(k[e.$uid]);if(s)k[e.$setValue](s);else{const a=k[e.$getAttributes]();for(const f of a.values()){const l=_.get(f[e.$uid]);if(l){f[e.$setValue](l);break}}}const i=k[e.$getChildren]();i.length>0&&S.push([-1,i])}const t=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const u of this.dataset[e.$getChildren]())"data"!==u[e.$nodeName]&&u[e.$toString](t);return this.data[e.$toString](t),t.push("</xfa:datasets>"),t.join("")}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.XFAParser=void 0;var e=K(77),d=K(66),_=K(89),S=K(2);class t extends d.XMLParserBase{constructor(I=null,w=!1){super(),this._builder=new _.Builder(I),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=d.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=w}parse(I){if(this.parseXml(I),this._errorCode===d.XMLParserErrorCode.NoError)return this._current[e.$finalize](),this._current.element}onText(I){I=I.replace(this._nbsps,w=>w.slice(1)+" "),this._richText||this._current[e.$acceptWhitespace]()?this._current[e.$onText](I,this._richText):this._whiteRegex.test(I)||this._current[e.$onText](I.trim())}onCdata(I){this._current[e.$onText](I)}_mkAttributes(I,w){let k=null,s=null;const i=Object.create({});for(const{name:a,value:f}of I)if("xmlns"===a)k?(0,S.warn)(`XFA - multiple namespace definition in <${w}>`):k=f;else if(a.startsWith("xmlns:")){const l=a.substring(6);s||(s=[]),s.push({prefix:l,value:f})}else{const l=a.indexOf(":");if(-1===l)i[a]=f;else{let n=i[e.$nsAttributes];n||(n=i[e.$nsAttributes]=Object.create(null));const[o,D]=[a.slice(0,l),a.slice(l+1)];let m=n[o];m||(m=n[o]=Object.create(null)),m[D]=f}}return[k,s,i]}_getNameAndPrefix(I,w){const k=I.indexOf(":");return-1===k?[I,null]:[I.substring(k+1),w?"":I.substring(0,k)]}onBeginElement(I,w,k){const[s,i,a]=this._mkAttributes(w,I),[f,l]=this._getNameAndPrefix(I,this._builder.isNsAgnostic()),n=this._builder.build({nsPrefix:l,name:f,attributes:a,namespace:s,prefixes:i});n[e.$globalData]=this._globalData,k?(n[e.$finalize](),this._current[e.$onChild](n)&&n[e.$setId](this._ids),n[e.$clean](this._builder)):(this._stack.push(this._current),this._current=n)}onEndElement(I){const w=this._current;if(w[e.$isCDATAXml]()&&"string"==typeof w[e.$content]){const k=new t;k._globalData=this._globalData;const s=k.parse(w[e.$content]);w[e.$content]=null,w[e.$onChild](s)}w[e.$finalize](),this._current=this._stack.pop(),this._current[e.$onChild](w)&&w[e.$setId](this._ids),w[e.$clean](this._builder)}onError(I){this._errorCode=I}}v.XFAParser=t},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Builder=void 0;var e=K(79),d=K(77),_=K(90),S=K(82),t=K(99),u=K(2);class I extends d.XFAObject{constructor(s){super(-1,"root",Object.create(null)),this.element=null,this[d.$ids]=s}[d.$onChild](s){return this.element=s,!0}[d.$finalize](){super[d.$finalize](),this.element.template instanceof S.Template&&(this[d.$ids].set(d.$root,this.element),this.element.template[d.$resolvePrototypes](this[d.$ids]),this.element.template[d.$ids]=this[d.$ids])}}class w extends d.XFAObject{constructor(){super(-1,"",Object.create(null))}[d.$onChild](s){return!1}}v.Builder=class{constructor(s=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(e.NamespaceIds).map(({id:i})=>i)),this._currentNamespace=s||new t.UnknownNamespace(++this._nextNsId)}buildRoot(s){return new I(s)}build({nsPrefix:s,name:i,attributes:a,namespace:f,prefixes:l}){const n=null!==f;if(n&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(f)),l&&this._addNamespacePrefix(l),a.hasOwnProperty(d.$nsAttributes)){const m=_.NamespaceSetUp.datasets,O=a[d.$nsAttributes];let B=null;for(const[h,y]of Object.entries(O))if(this._getNamespaceToUse(h)===m){B={xfa:y};break}B?a[d.$nsAttributes]=B:delete a[d.$nsAttributes]}const o=this._getNamespaceToUse(s),D=o&&o[e.$buildXFAObject](i,a)||new w;return D[d.$isNsAgnostic]()&&this._nsAgnosticLevel++,(n||l||D[d.$isNsAgnostic]())&&(D[d.$cleanup]={hasNamespace:n,prefixes:l,nsAgnostic:D[d.$isNsAgnostic]()}),D}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(s){let i=this._namespaces.get(s);if(i)return i;for(const[a,{check:f}]of Object.entries(e.NamespaceIds))if(f(s)){if(i=_.NamespaceSetUp[a],i)return this._namespaces.set(s,i),i;break}return i=new t.UnknownNamespace(++this._nextNsId),this._namespaces.set(s,i),i}_addNamespacePrefix(s){for(const{prefix:i,value:a}of s){const f=this._searchNamespace(a);let l=this._namespacePrefixes.get(i);l||(l=[],this._namespacePrefixes.set(i,l)),l.push(f)}}_getNamespaceToUse(s){if(!s)return this._currentNamespace;const i=this._namespacePrefixes.get(s);return i&&i.length>0?i.at(-1):((0,u.warn)(`Unknown namespace prefix: ${s}.`),null)}clean(s){const{hasNamespace:i,prefixes:a,nsAgnostic:f}=s;i&&(this._currentNamespace=this._namespaceStack.pop()),a&&a.forEach(({prefix:l})=>{this._namespacePrefixes.get(l).pop()}),f&&this._nsAgnosticLevel--}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.NamespaceSetUp=void 0;var e=K(91),d=K(92),_=K(93),S=K(94),t=K(95),u=K(96),I=K(82),w=K(97),k=K(98);v.NamespaceSetUp={config:e.ConfigNamespace,connection:d.ConnectionSetNamespace,datasets:_.DatasetsNamespace,localeSet:S.LocaleSetNamespace,signature:t.SignatureNamespace,stylesheet:u.StylesheetNamespace,template:I.TemplateNamespace,xdp:w.XdpNamespace,xhtml:k.XhtmlNamespace}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ConfigNamespace=void 0;var e=K(79),d=K(77),_=K(78),S=K(2);const t=e.NamespaceIds.config.id;class u extends d.XFAObject{constructor(Q){super(t,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new d.XFAObjectArray}}class I extends d.XFAObject{constructor(Q){super(t,"acrobat7",!0),this.dynamicRender=null}}class w extends d.OptionObject{constructor(Q){super(t,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class k extends d.OptionObject{constructor(Q){super(t,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class s extends d.Option01{constructor(Q){super(t,"addSilentPrint")}}class i extends d.Option01{constructor(Q){super(t,"addViewerPreferences")}}class a extends d.Option10{constructor(Q){super(t,"adjustData")}}class f extends d.IntegerObject{constructor(Q){super(t,"adobeExtensionLevel",0,Lt=>Lt>=1&&Lt<=8)}}class l extends d.XFAObject{constructor(Q){super(t,"agent",!0),this.name=Q.name?Q.name.trim():"",this.common=new d.XFAObjectArray}}class n extends d.ContentObject{constructor(Q){super(t,"alwaysEmbed")}}class o extends d.StringObject{constructor(Q){super(t,"amd")}}class D extends d.XFAObject{constructor(Q){super(t,"area"),this.level=(0,_.getInteger)({data:Q.level,defaultValue:0,validate:Lt=>Lt>=1&&Lt<=3}),this.name=(0,_.getStringOption)(Q.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class m extends d.OptionObject{constructor(Q){super(t,"attributes",["preserve","delegate","ignore"])}}class O extends d.OptionObject{constructor(Q){super(t,"autoSave",["disabled","enabled"])}}class B extends d.StringObject{constructor(Q){super(t,"base")}}class h extends d.XFAObject{constructor(Q){super(t,"batchOutput"),this.format=(0,_.getStringOption)(Q.format,["none","concat","zip","zipCompress"])}}class y extends d.ContentObject{constructor(Q){super(t,"behaviorOverride")}[d.$finalize](){this[d.$content]=new Map(this[d.$content].trim().split(/\s+/).filter(Q=>Q.includes(":")).map(Q=>Q.split(":",2)))}}class g extends d.XFAObject{constructor(Q){super(t,"cache",!0),this.templateCache=null}}class r extends d.Option01{constructor(Q){super(t,"change")}}class c extends d.XFAObject{constructor(Q){super(t,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new d.XFAObjectArray}}class P extends d.XFAObject{constructor(Q){super(t,"compress"),this.scope=(0,_.getStringOption)(Q.scope,["imageOnly","document"])}}class T extends d.Option01{constructor(Q){super(t,"compressLogicalStructure")}}class x extends d.Option10{constructor(Q){super(t,"compressObjectStream")}}class C extends d.XFAObject{constructor(Q){super(t,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class b extends d.XFAObject{constructor(Q){super(t,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new d.XFAObjectArray}}class A extends d.OptionObject{constructor(Q){super(t,"conformance",["A","B"])}}class R extends d.Option01{constructor(Q){super(t,"contentCopy")}}class F extends d.IntegerObject{constructor(Q){super(t,"copies",1,Lt=>Lt>=1)}}class N extends d.StringObject{constructor(Q){super(t,"creator")}}class E extends d.IntegerObject{constructor(Q){super(t,"currentPage",0,Lt=>Lt>=0)}}class L extends d.XFAObject{constructor(Q){super(t,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new d.XFAObjectArray,this.transform=new d.XFAObjectArray}}class X extends d.XFAObject{constructor(Q){super(t,"debug",!0),this.uri=null}}class V extends d.ContentObject{constructor(Q){super(t,"defaultTypeface"),this.writingScript=(0,_.getStringOption)(Q.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class J extends d.OptionObject{constructor(Q){super(t,"destination",["pdf","pcl","ps","webClient","zpl"])}}class z extends d.Option01{constructor(Q){super(t,"documentAssembly")}}class $ extends d.XFAObject{constructor(Q){super(t,"driver",!0),this.name=Q.name?Q.name.trim():"",this.fontInfo=null,this.xdc=null}}class q extends d.OptionObject{constructor(Q){super(t,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class j extends d.OptionObject{constructor(Q){super(t,"dynamicRender",["forbidden","required"])}}class M extends d.Option01{constructor(Q){super(t,"embed")}}class U extends d.Option01{constructor(Q){super(t,"encrypt")}}class H extends d.XFAObject{constructor(Q){super(t,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class W extends d.OptionObject{constructor(Q){super(t,"encryptionLevel",["40bit","128bit"])}}class G extends d.StringObject{constructor(Q){super(t,"enforce")}}class Y extends d.XFAObject{constructor(Q){super(t,"equate"),this.force=(0,_.getInteger)({data:Q.force,defaultValue:1,validate:Lt=>0===Lt}),this.from=Q.from||"",this.to=Q.to||""}}class tt extends d.XFAObject{constructor(Q){super(t,"equateRange"),this.from=Q.from||"",this.to=Q.to||"",this._unicodeRange=Q.unicodeRange||""}get unicodeRange(){const Q=[],Lt=/U\+([0-9a-fA-F]+)/,Kt=this._unicodeRange;for(let Jt of Kt.split(",").map(ce=>ce.trim()).filter(ce=>!!ce))Jt=Jt.split("-",2).map(ce=>{const ue=ce.match(Lt);return ue?parseInt(ue[1],16):0}),1===Jt.length&&Jt.push(Jt[0]),Q.push(Jt);return(0,S.shadow)(this,"unicodeRange",Q)}}class Z extends d.ContentObject{constructor(Q){super(t,"exclude")}[d.$finalize](){this[d.$content]=this[d.$content].trim().split(/\s+/).filter(Q=>Q&&["calculate","close","enter","exit","initialize","ready","validate"].includes(Q))}}class at extends d.StringObject{constructor(Q){super(t,"excludeNS")}}class st extends d.OptionObject{constructor(Q){super(t,"flipLabel",["usePrinterSetting","on","off"])}}class nt extends d.XFAObject{constructor(Q){super(t,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new d.XFAObjectArray,this.defaultTypeface=new d.XFAObjectArray,this.neverEmbed=new d.XFAObjectArray}}class ot extends d.Option01{constructor(Q){super(t,"formFieldFilling")}}class ct extends d.StringObject{constructor(Q){super(t,"groupParent")}}class ht extends d.OptionObject{constructor(Q){super(t,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class ft extends d.StringObject{constructor(Q){super(t,"includeXDPContent")}}class mt extends d.OptionObject{constructor(Q){super(t,"incrementalLoad",["none","forwardOnly"])}}class Ct extends d.Option01{constructor(Q){super(t,"incrementalMerge")}}class At extends d.Option01{constructor(Q){super(t,"interactive")}}class Ft extends d.OptionObject{constructor(Q){super(t,"jog",["usePrinterSetting","none","pageSet"])}}class gt extends d.XFAObject{constructor(Q){super(t,"labelPrinter",!0),this.name=(0,_.getStringOption)(Q.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Bt extends d.OptionObject{constructor(Q){super(t,"layout",["paginate","panel"])}}class qt extends d.IntegerObject{constructor(Q){super(t,"level",0,Lt=>Lt>0)}}class Nt extends d.Option01{constructor(Q){super(t,"linearized")}}class Ht extends d.StringObject{constructor(Q){super(t,"locale")}}class Vt extends d.StringObject{constructor(Q){super(t,"localeSet")}}class ae extends d.XFAObject{constructor(Q){super(t,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class Zt extends d.XFAObject{constructor(Q){super(t,"map",!0),this.equate=new d.XFAObjectArray,this.equateRange=new d.XFAObjectArray}}class Rt extends d.XFAObject{constructor(Q){super(t,"mediumInfo",!0),this.map=null}}class _t extends d.XFAObject{constructor(Q){super(t,"message",!0),this.msgId=null,this.severity=null}}class Mt extends d.XFAObject{constructor(Q){super(t,"messaging",!0),this.message=new d.XFAObjectArray}}class Pt extends d.OptionObject{constructor(Q){super(t,"mode",["append","overwrite"])}}class Dt extends d.Option01{constructor(Q){super(t,"modifyAnnots")}}class Tt extends d.IntegerObject{constructor(Q){super(t,"msgId",1,Lt=>Lt>=1)}}class yt extends d.StringObject{constructor(Q){super(t,"nameAttr")}}class wt extends d.ContentObject{constructor(Q){super(t,"neverEmbed")}}class pt extends d.IntegerObject{constructor(Q){super(t,"numberOfCopies",null,Lt=>Lt>=2&&Lt<=5)}}class kt extends d.XFAObject{constructor(Q){super(t,"openAction",!0),this.destination=null}}class vt extends d.XFAObject{constructor(Q){super(t,"output",!0),this.to=null,this.type=null,this.uri=null}}class Ot extends d.StringObject{constructor(Q){super(t,"outputBin")}}class Xt extends d.XFAObject{constructor(Q){super(t,"outputXSL",!0),this.uri=null}}class Yt extends d.OptionObject{constructor(Q){super(t,"overprint",["none","both","draw","field"])}}class Qt extends d.StringObject{constructor(Q){super(t,"packets")}[d.$finalize](){"*"!==this[d.$content]&&(this[d.$content]=this[d.$content].trim().split(/\s+/).filter(Q=>["config","datasets","template","xfdf","xslt"].includes(Q)))}}class Ut extends d.XFAObject{constructor(Q){super(t,"pageOffset"),this.x=(0,_.getInteger)({data:Q.x,defaultValue:"useXDCSetting",validate:Lt=>!0}),this.y=(0,_.getInteger)({data:Q.y,defaultValue:"useXDCSetting",validate:Lt=>!0})}}class te extends d.StringObject{constructor(Q){super(t,"pageRange")}[d.$finalize](){const Q=this[d.$content].trim().split(/\s+/).map(Kt=>parseInt(Kt,10)),Lt=[];for(let Kt=0,Jt=Q.length;Kt<Jt;Kt+=2)Lt.push(Q.slice(Kt,Kt+2));this[d.$content]=Lt}}class ne extends d.OptionObject{constructor(Q){super(t,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class pe extends d.OptionObject{constructor(Q){super(t,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class oe extends d.IntegerObject{constructor(Q){super(t,"part",1,Lt=>!1)}}class jt extends d.XFAObject{constructor(Q){super(t,"pcl",!0),this.name=Q.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class re extends d.XFAObject{constructor(Q){super(t,"pdf",!0),this.name=Q.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class Wt extends d.XFAObject{constructor(Q){super(t,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class ee extends d.XFAObject{constructor(Q){super(t,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class zt extends d.Option01{constructor(Q){super(t,"pickTrayByPDFSize")}}class ie extends d.StringObject{constructor(Q){super(t,"picture")}}class se extends d.Option01{constructor(Q){super(t,"plaintextMetadata")}}class we extends d.OptionObject{constructor(Q){super(t,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class ve extends d.XFAObject{constructor(Q){super(t,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new d.XFAObjectArray,this.labelPrinter=new d.XFAObjectArray,this.pcl=new d.XFAObjectArray,this.pdf=new d.XFAObjectArray,this.ps=new d.XFAObjectArray,this.submitUrl=new d.XFAObjectArray,this.webClient=new d.XFAObjectArray,this.zpl=new d.XFAObjectArray}}class bt extends d.Option01{constructor(Q){super(t,"print")}}class Et extends d.Option01{constructor(Q){super(t,"printHighQuality")}}class $t extends d.OptionObject{constructor(Q){super(t,"printScaling",["appdefault","noScaling"])}}class Gt extends d.StringObject{constructor(Q){super(t,"printerName")}}class le extends d.StringObject{constructor(Q){super(t,"producer")}}class xe extends d.XFAObject{constructor(Q){super(t,"ps",!0),this.name=Q.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class Ae extends d.ContentObject{constructor(Q){super(t,"range")}[d.$finalize](){this[d.$content]=this[d.$content].trim().split(/\s*,\s*/,2).map(Q=>Q.split("-").map(Lt=>parseInt(Lt.trim(),10))).filter(Q=>Q.every(Lt=>!isNaN(Lt))).map(Q=>(1===Q.length&&Q.push(Q[0]),Q))}}class Pe extends d.ContentObject{constructor(Q){super(t,"record")}[d.$finalize](){this[d.$content]=this[d.$content].trim();const Q=parseInt(this[d.$content],10);!isNaN(Q)&&Q>=0&&(this[d.$content]=Q)}}class Te extends d.ContentObject{constructor(Q){super(t,"relevant")}[d.$finalize](){this[d.$content]=this[d.$content].trim().split(/\s+/)}}class He extends d.ContentObject{constructor(Q){super(t,"rename")}[d.$finalize](){this[d.$content]=this[d.$content].trim(),(this[d.$content].toLowerCase().startsWith("xml")||this[d.$content].match(new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u")))&&(0,S.warn)("XFA - Rename: invalid XFA name")}}class ze extends d.OptionObject{constructor(Q){super(t,"renderPolicy",["server","client"])}}class Ge extends d.OptionObject{constructor(Q){super(t,"runScripts",["both","client","none","server"])}}class We extends d.XFAObject{constructor(Q){super(t,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class Ve extends d.OptionObject{constructor(Q){super(t,"scriptModel",["XFA","none"])}}class Be extends d.OptionObject{constructor(Q){super(t,"severity",["ignore","error","information","trace","warning"])}}class Ke extends d.XFAObject{constructor(Q){super(t,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class Ye extends d.XFAObject{constructor(Q){super(t,"staple"),this.mode=(0,_.getStringOption)(Q.mode,["usePrinterSetting","on","off"])}}class je extends d.StringObject{constructor(Q){super(t,"startNode")}}class Je extends d.IntegerObject{constructor(Q){super(t,"startPage",0,Lt=>!0)}}class Ze extends d.OptionObject{constructor(Q){super(t,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class Qe extends d.StringObject{constructor(Q){super(t,"submitUrl")}}class ti extends d.IntegerObject{constructor(Q){super(t,"subsetBelow",100,Lt=>Lt>=0&&Lt<=100)}}class ei extends d.Option01{constructor(Q){super(t,"suppressBanner")}}class ii extends d.Option01{constructor(Q){super(t,"tagged")}}class $e extends d.XFAObject{constructor(Q){super(t,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class De extends d.OptionObject{constructor(Q){super(t,"threshold",["trace","error","information","warning"])}}class ri extends d.OptionObject{constructor(Q){super(t,"to",["null","memory","stderr","stdout","system","uri"])}}class ni extends d.XFAObject{constructor(Q){super(t,"templateCache"),this.maxEntries=(0,_.getInteger)({data:Q.maxEntries,defaultValue:5,validate:Lt=>Lt>=0})}}class ai extends d.XFAObject{constructor(Q){super(t,"trace",!0),this.area=new d.XFAObjectArray}}class Re extends d.XFAObject{constructor(Q){super(t,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class Ue extends d.OptionObject{constructor(Q){super(t,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class Xe extends d.StringObject{constructor(Q){super(t,"uri")}}class si extends d.OptionObject{constructor(Q){super(t,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class oi extends d.ContentObject{constructor(Q){super(t,"validateApprovalSignatures")}[d.$finalize](){this[d.$content]=this[d.$content].trim().split(/\s+/).filter(Q=>["docReady","postSign"].includes(Q))}}class ci extends d.OptionObject{constructor(Q){super(t,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class li extends d.OptionObject{constructor(Q){super(t,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class hi extends d.XFAObject{constructor(Q){super(t,"VersionControl"),this.outputBelow=(0,_.getStringOption)(Q.outputBelow,["warn","error","update"]),this.sourceAbove=(0,_.getStringOption)(Q.sourceAbove,["warn","error"]),this.sourceBelow=(0,_.getStringOption)(Q.sourceBelow,["update","maintain"])}}class Ne extends d.XFAObject{constructor(Q){super(t,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class ui extends d.XFAObject{constructor(Q){super(t,"webClient",!0),this.name=Q.name?Q.name.trim():"",this.fontInfo=null,this.xdc=null}}class _e extends d.OptionObject{constructor(Q){super(t,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class di extends d.ContentObject{constructor(Q){super(t,"window")}[d.$finalize](){const Q=this[d.$content].trim().split(/\s*,\s*/,2).map(Lt=>parseInt(Lt,10));Q.some(Lt=>isNaN(Lt))?this[d.$content]=[0,0]:(1===Q.length&&Q.push(Q[0]),this[d.$content]=Q)}}class Me extends d.XFAObject{constructor(Q){super(t,"xdc",!0),this.uri=new d.XFAObjectArray,this.xsl=new d.XFAObjectArray}}class xt extends d.XFAObject{constructor(Q){super(t,"xdp",!0),this.packets=null}}class p extends d.XFAObject{constructor(Q){super(t,"xsl",!0),this.debug=null,this.uri=null}}class lt extends d.XFAObject{constructor(Q){super(t,"zpl",!0),this.name=Q.name?Q.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class St{static[e.$buildXFAObject](Q,Lt){if(St.hasOwnProperty(Q))return St[Q](Lt)}static acrobat(Q){return new u(Q)}static acrobat7(Q){return new I(Q)}static ADBE_JSConsole(Q){return new w(Q)}static ADBE_JSDebugger(Q){return new k(Q)}static addSilentPrint(Q){return new s(Q)}static addViewerPreferences(Q){return new i(Q)}static adjustData(Q){return new a(Q)}static adobeExtensionLevel(Q){return new f(Q)}static agent(Q){return new l(Q)}static alwaysEmbed(Q){return new n(Q)}static amd(Q){return new o(Q)}static area(Q){return new D(Q)}static attributes(Q){return new m(Q)}static autoSave(Q){return new O(Q)}static base(Q){return new B(Q)}static batchOutput(Q){return new h(Q)}static behaviorOverride(Q){return new y(Q)}static cache(Q){return new g(Q)}static change(Q){return new r(Q)}static common(Q){return new c(Q)}static compress(Q){return new P(Q)}static compressLogicalStructure(Q){return new T(Q)}static compressObjectStream(Q){return new x(Q)}static compression(Q){return new C(Q)}static config(Q){return new b(Q)}static conformance(Q){return new A(Q)}static contentCopy(Q){return new R(Q)}static copies(Q){return new F(Q)}static creator(Q){return new N(Q)}static currentPage(Q){return new E(Q)}static data(Q){return new L(Q)}static debug(Q){return new X(Q)}static defaultTypeface(Q){return new V(Q)}static destination(Q){return new J(Q)}static documentAssembly(Q){return new z(Q)}static driver(Q){return new $(Q)}static duplexOption(Q){return new q(Q)}static dynamicRender(Q){return new j(Q)}static embed(Q){return new M(Q)}static encrypt(Q){return new U(Q)}static encryption(Q){return new H(Q)}static encryptionLevel(Q){return new W(Q)}static enforce(Q){return new G(Q)}static equate(Q){return new Y(Q)}static equateRange(Q){return new tt(Q)}static exclude(Q){return new Z(Q)}static excludeNS(Q){return new at(Q)}static flipLabel(Q){return new st(Q)}static fontInfo(Q){return new nt(Q)}static formFieldFilling(Q){return new ot(Q)}static groupParent(Q){return new ct(Q)}static ifEmpty(Q){return new ht(Q)}static includeXDPContent(Q){return new ft(Q)}static incrementalLoad(Q){return new mt(Q)}static incrementalMerge(Q){return new Ct(Q)}static interactive(Q){return new At(Q)}static jog(Q){return new Ft(Q)}static labelPrinter(Q){return new gt(Q)}static layout(Q){return new Bt(Q)}static level(Q){return new qt(Q)}static linearized(Q){return new Nt(Q)}static locale(Q){return new Ht(Q)}static localeSet(Q){return new Vt(Q)}static log(Q){return new ae(Q)}static map(Q){return new Zt(Q)}static mediumInfo(Q){return new Rt(Q)}static message(Q){return new _t(Q)}static messaging(Q){return new Mt(Q)}static mode(Q){return new Pt(Q)}static modifyAnnots(Q){return new Dt(Q)}static msgId(Q){return new Tt(Q)}static nameAttr(Q){return new yt(Q)}static neverEmbed(Q){return new wt(Q)}static numberOfCopies(Q){return new pt(Q)}static openAction(Q){return new kt(Q)}static output(Q){return new vt(Q)}static outputBin(Q){return new Ot(Q)}static outputXSL(Q){return new Xt(Q)}static overprint(Q){return new Yt(Q)}static packets(Q){return new Qt(Q)}static pageOffset(Q){return new Ut(Q)}static pageRange(Q){return new te(Q)}static pagination(Q){return new ne(Q)}static paginationOverride(Q){return new pe(Q)}static part(Q){return new oe(Q)}static pcl(Q){return new jt(Q)}static pdf(Q){return new re(Q)}static pdfa(Q){return new Wt(Q)}static permissions(Q){return new ee(Q)}static pickTrayByPDFSize(Q){return new zt(Q)}static picture(Q){return new ie(Q)}static plaintextMetadata(Q){return new se(Q)}static presence(Q){return new we(Q)}static present(Q){return new ve(Q)}static print(Q){return new bt(Q)}static printHighQuality(Q){return new Et(Q)}static printScaling(Q){return new $t(Q)}static printerName(Q){return new Gt(Q)}static producer(Q){return new le(Q)}static ps(Q){return new xe(Q)}static range(Q){return new Ae(Q)}static record(Q){return new Pe(Q)}static relevant(Q){return new Te(Q)}static rename(Q){return new He(Q)}static renderPolicy(Q){return new ze(Q)}static runScripts(Q){return new Ge(Q)}static script(Q){return new We(Q)}static scriptModel(Q){return new Ve(Q)}static severity(Q){return new Be(Q)}static silentPrint(Q){return new Ke(Q)}static staple(Q){return new Ye(Q)}static startNode(Q){return new je(Q)}static startPage(Q){return new Je(Q)}static submitFormat(Q){return new Ze(Q)}static submitUrl(Q){return new Qe(Q)}static subsetBelow(Q){return new ti(Q)}static suppressBanner(Q){return new ei(Q)}static tagged(Q){return new ii(Q)}static template(Q){return new $e(Q)}static templateCache(Q){return new ni(Q)}static threshold(Q){return new De(Q)}static to(Q){return new ri(Q)}static trace(Q){return new ai(Q)}static transform(Q){return new Re(Q)}static type(Q){return new Ue(Q)}static uri(Q){return new Xe(Q)}static validate(Q){return new si(Q)}static validateApprovalSignatures(Q){return new oi(Q)}static validationMessaging(Q){return new ci(Q)}static version(Q){return new li(Q)}static versionControl(Q){return new hi(Q)}static viewerPreferences(Q){return new Ne(Q)}static webClient(Q){return new ui(Q)}static whitespace(Q){return new _e(Q)}static window(Q){return new di(Q)}static xdc(Q){return new Me(Q)}static xdp(Q){return new xt(Q)}static xsl(Q){return new p(Q)}static zpl(Q){return new lt(Q)}}v.ConfigNamespace=St},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ConnectionSetNamespace=void 0;var e=K(79),d=K(77);const _=e.NamespaceIds.connectionSet.id;class S extends d.XFAObject{constructor(m){super(_,"connectionSet",!0),this.wsdlConnection=new d.XFAObjectArray,this.xmlConnection=new d.XFAObjectArray,this.xsdConnection=new d.XFAObjectArray}}class t extends d.XFAObject{constructor(m){super(_,"effectiveInputPolicy"),this.id=m.id||"",this.name=m.name||"",this.use=m.use||"",this.usehref=m.usehref||""}}class u extends d.XFAObject{constructor(m){super(_,"effectiveOutputPolicy"),this.id=m.id||"",this.name=m.name||"",this.use=m.use||"",this.usehref=m.usehref||""}}class I extends d.StringObject{constructor(m){super(_,"operation"),this.id=m.id||"",this.input=m.input||"",this.name=m.name||"",this.output=m.output||"",this.use=m.use||"",this.usehref=m.usehref||""}}class w extends d.StringObject{constructor(m){super(_,"rootElement"),this.id=m.id||"",this.name=m.name||"",this.use=m.use||"",this.usehref=m.usehref||""}}class k extends d.StringObject{constructor(m){super(_,"soapAction"),this.id=m.id||"",this.name=m.name||"",this.use=m.use||"",this.usehref=m.usehref||""}}class s extends d.StringObject{constructor(m){super(_,"soapAddress"),this.id=m.id||"",this.name=m.name||"",this.use=m.use||"",this.usehref=m.usehref||""}}class i extends d.StringObject{constructor(m){super(_,"uri"),this.id=m.id||"",this.name=m.name||"",this.use=m.use||"",this.usehref=m.usehref||""}}class a extends d.StringObject{constructor(m){super(_,"wsdlAddress"),this.id=m.id||"",this.name=m.name||"",this.use=m.use||"",this.usehref=m.usehref||""}}class f extends d.XFAObject{constructor(m){super(_,"wsdlConnection",!0),this.dataDescription=m.dataDescription||"",this.name=m.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class l extends d.XFAObject{constructor(m){super(_,"xmlConnection",!0),this.dataDescription=m.dataDescription||"",this.name=m.name||"",this.uri=null}}class n extends d.XFAObject{constructor(m){super(_,"xsdConnection",!0),this.dataDescription=m.dataDescription||"",this.name=m.name||"",this.rootElement=null,this.uri=null}}class o{static[e.$buildXFAObject](m,O){if(o.hasOwnProperty(m))return o[m](O)}static connectionSet(m){return new S(m)}static effectiveInputPolicy(m){return new t(m)}static effectiveOutputPolicy(m){return new u(m)}static operation(m){return new I(m)}static rootElement(m){return new w(m)}static soapAction(m){return new k(m)}static soapAddress(m){return new s(m)}static uri(m){return new i(m)}static wsdlAddress(m){return new a(m)}static wsdlConnection(m){return new f(m)}static xmlConnection(m){return new l(m)}static xsdConnection(m){return new n(m)}}v.ConnectionSetNamespace=o},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.DatasetsNamespace=void 0;var e=K(77),d=K(79);const _=d.NamespaceIds.datasets.id;class S extends e.XmlObject{constructor(w){super(_,"data",w)}[e.$isNsAgnostic](){return!0}}class t extends e.XFAObject{constructor(w){super(_,"datasets",!0),this.data=null,this.Signature=null}[e.$onChild](w){const k=w[e.$nodeName];("data"===k&&w[e.$namespaceId]===_||"Signature"===k&&w[e.$namespaceId]===d.NamespaceIds.signature.id)&&(this[k]=w),this[e.$appendChild](w)}}class u{static[d.$buildXFAObject](w,k){if(u.hasOwnProperty(w))return u[w](k)}static datasets(w){return new t(w)}static data(w){return new S(w)}}v.DatasetsNamespace=u},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.LocaleSetNamespace=void 0;var e=K(79),d=K(77),_=K(78);const S=e.NamespaceIds.localeSet.id;class t extends d.XFAObject{constructor(A){super(S,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new d.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new d.XFAObjectArray(2)}}class u extends d.StringObject{constructor(A){super(S,"currencySymbol"),this.name=(0,_.getStringOption)(A.name,["symbol","isoname","decimal"])}}class I extends d.XFAObject{constructor(A){super(S,"currencySymbols",!0),this.currencySymbol=new d.XFAObjectArray(3)}}class w extends d.StringObject{constructor(A){super(S,"datePattern"),this.name=(0,_.getStringOption)(A.name,["full","long","med","short"])}}class k extends d.XFAObject{constructor(A){super(S,"datePatterns",!0),this.datePattern=new d.XFAObjectArray(4)}}class s extends d.ContentObject{constructor(A){super(S,"dateTimeSymbols")}}class i extends d.StringObject{constructor(A){super(S,"day")}}class a extends d.XFAObject{constructor(A){super(S,"dayNames",!0),this.abbr=(0,_.getInteger)({data:A.abbr,defaultValue:0,validate:R=>1===R}),this.day=new d.XFAObjectArray(7)}}class f extends d.StringObject{constructor(A){super(S,"era")}}class l extends d.XFAObject{constructor(A){super(S,"eraNames",!0),this.era=new d.XFAObjectArray(2)}}class n extends d.XFAObject{constructor(A){super(S,"locale",!0),this.desc=A.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class o extends d.XFAObject{constructor(A){super(S,"localeSet",!0),this.locale=new d.XFAObjectArray}}class D extends d.StringObject{constructor(A){super(S,"meridiem")}}class m extends d.XFAObject{constructor(A){super(S,"meridiemNames",!0),this.meridiem=new d.XFAObjectArray(2)}}class O extends d.StringObject{constructor(A){super(S,"month")}}class B extends d.XFAObject{constructor(A){super(S,"monthNames",!0),this.abbr=(0,_.getInteger)({data:A.abbr,defaultValue:0,validate:R=>1===R}),this.month=new d.XFAObjectArray(12)}}class h extends d.StringObject{constructor(A){super(S,"numberPattern"),this.name=(0,_.getStringOption)(A.name,["full","long","med","short"])}}class y extends d.XFAObject{constructor(A){super(S,"numberPatterns",!0),this.numberPattern=new d.XFAObjectArray(4)}}class g extends d.StringObject{constructor(A){super(S,"numberSymbol"),this.name=(0,_.getStringOption)(A.name,["decimal","grouping","percent","minus","zero"])}}class r extends d.XFAObject{constructor(A){super(S,"numberSymbols",!0),this.numberSymbol=new d.XFAObjectArray(5)}}class c extends d.StringObject{constructor(A){super(S,"timePattern"),this.name=(0,_.getStringOption)(A.name,["full","long","med","short"])}}class P extends d.XFAObject{constructor(A){super(S,"timePatterns",!0),this.timePattern=new d.XFAObjectArray(4)}}class T extends d.XFAObject{constructor(A){super(S,"typeFace",!0),this.name=""|A.name}}class x extends d.XFAObject{constructor(A){super(S,"typeFaces",!0),this.typeFace=new d.XFAObjectArray}}class C{static[e.$buildXFAObject](A,R){if(C.hasOwnProperty(A))return C[A](R)}static calendarSymbols(A){return new t(A)}static currencySymbol(A){return new u(A)}static currencySymbols(A){return new I(A)}static datePattern(A){return new w(A)}static datePatterns(A){return new k(A)}static dateTimeSymbols(A){return new s(A)}static day(A){return new i(A)}static dayNames(A){return new a(A)}static era(A){return new f(A)}static eraNames(A){return new l(A)}static locale(A){return new n(A)}static localeSet(A){return new o(A)}static meridiem(A){return new D(A)}static meridiemNames(A){return new m(A)}static month(A){return new O(A)}static monthNames(A){return new B(A)}static numberPattern(A){return new h(A)}static numberPatterns(A){return new y(A)}static numberSymbol(A){return new g(A)}static numberSymbols(A){return new r(A)}static timePattern(A){return new c(A)}static timePatterns(A){return new P(A)}static typeFace(A){return new T(A)}static typeFaces(A){return new x(A)}}v.LocaleSetNamespace=C},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.SignatureNamespace=void 0;var e=K(79),d=K(77);const _=e.NamespaceIds.signature.id;class S extends d.XFAObject{constructor(I){super(_,"signature",!0)}}class t{static[e.$buildXFAObject](I,w){if(t.hasOwnProperty(I))return t[I](w)}static signature(I){return new S(I)}}v.SignatureNamespace=t},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.StylesheetNamespace=void 0;var e=K(79),d=K(77);const _=e.NamespaceIds.stylesheet.id;class S extends d.XFAObject{constructor(I){super(_,"stylesheet",!0)}}class t{static[e.$buildXFAObject](I,w){if(t.hasOwnProperty(I))return t[I](w)}static stylesheet(I){return new S(I)}}v.StylesheetNamespace=t},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.XdpNamespace=void 0;var e=K(79),d=K(77);const _=e.NamespaceIds.xdp.id;class S extends d.XFAObject{constructor(I){super(_,"xdp",!0),this.uuid=I.uuid||"",this.timeStamp=I.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new d.XFAObjectArray,this.template=null}[d.$onChildCheck](I){const w=e.NamespaceIds[I[d.$nodeName]];return w&&I[d.$namespaceId]===w.id}}class t{static[e.$buildXFAObject](I,w){if(t.hasOwnProperty(I))return t[I](w)}static xdp(I){return new S(I)}}v.XdpNamespace=t},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.XhtmlNamespace=void 0;var e=K(77),d=K(79),_=K(84),S=K(78);const t=d.NamespaceIds.xhtml.id,u=Symbol(),I=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),w=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",C=>"none"===C?"none":"normal"],["xfa-font-horizontal-scale",C=>`scaleX(${Math.max(0,Math.min(parseInt(C)/100)).toFixed(2)})`],["xfa-font-vertical-scale",C=>`scaleY(${Math.max(0,Math.min(parseInt(C)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(C,b)=>(C=b.fontSize=(0,S.getMeasurement)(C),(0,_.measureToString)(.99*C))],["letter-spacing",C=>(0,_.measureToString)((0,S.getMeasurement)(C))],["line-height",C=>(0,_.measureToString)((0,S.getMeasurement)(C))],["margin",C=>(0,_.measureToString)((0,S.getMeasurement)(C))],["margin-bottom",C=>(0,_.measureToString)((0,S.getMeasurement)(C))],["margin-left",C=>(0,_.measureToString)((0,S.getMeasurement)(C))],["margin-right",C=>(0,_.measureToString)((0,S.getMeasurement)(C))],["margin-top",C=>(0,_.measureToString)((0,S.getMeasurement)(C))],["text-indent",C=>(0,_.measureToString)((0,S.getMeasurement)(C))],["font-family",C=>C],["vertical-align",C=>(0,_.measureToString)((0,S.getMeasurement)(C))]]),k=/\s+/g,s=/[\r\n]+/g,i=/\r\n?/g;function a(C,b,A){const R=Object.create(null);if(!C)return R;const F=Object.create(null);for(const[N,E]of C.split(";").map(L=>L.split(":",2))){const L=w.get(N);if(""===L)continue;let X=E;L&&(X="string"==typeof L?L:L(E,F)),N.endsWith("scale")?R.transform=R.transform?`${R[N]} ${X}`:X:R[N.replaceAll(/-([a-zA-Z])/g,(V,J)=>J.toUpperCase())]=X}if(R.fontFamily&&(0,_.setFontFamily)({typeface:R.fontFamily,weight:R.fontWeight||"normal",posture:R.fontStyle||"normal",size:F.fontSize||0},b,b[e.$globalData].fontFinder,R),A&&R.verticalAlign&&"0px"!==R.verticalAlign&&R.fontSize){const L=(0,S.getMeasurement)(R.fontSize);R.fontSize=(0,_.measureToString)(.583*L),R.verticalAlign=(0,_.measureToString)(Math.sign((0,S.getMeasurement)(R.verticalAlign))*L*.333)}return A&&R.fontSize&&(R.fontSize=`calc(${R.fontSize} * var(--scale-factor))`),(0,_.fixTextIndent)(R),R}const f=new Set(["body","html"]);class l extends e.XmlObject{constructor(b,A){super(t,A),this[u]=!1,this.style=b.style||""}[e.$clean](b){var R;super[e.$clean](b),this.style=(R=this).style?R.style.trim().split(/\s*;\s*/).filter(F=>!!F).map(F=>F.split(/\s*:\s*/,2)).filter(([F,N])=>("font-family"===F&&R[e.$globalData].usedTypefaces.add(N),I.has(F))).map(F=>F.join(":")).join(";"):""}[e.$acceptWhitespace](){return!f.has(this[e.$nodeName])}[e.$onText](b,A=!1){A?this[u]=!0:(b=b.replace(s,""),this.style.includes("xfa-spacerun:yes")||(b=b.replace(k," "))),b&&(this[e.$content]+=b)}[e.$pushGlyphs](b,A=!0){const R=Object.create(null),F={top:NaN,bottom:NaN,left:NaN,right:NaN};let N=null;for(const[E,L]of this.style.split(";").map(X=>X.split(":",2)))switch(E){case"font-family":R.typeface=(0,S.stripQuotes)(L);break;case"font-size":R.size=(0,S.getMeasurement)(L);break;case"font-weight":R.weight=L;break;case"font-style":R.posture=L;break;case"letter-spacing":R.letterSpacing=(0,S.getMeasurement)(L);break;case"margin":const X=L.split(/ \t/).map(V=>(0,S.getMeasurement)(V));switch(X.length){case 1:F.top=F.bottom=F.left=F.right=X[0];break;case 2:F.top=F.bottom=X[0],F.left=F.right=X[1];break;case 3:F.top=X[0],F.bottom=X[2],F.left=F.right=X[1];break;case 4:F.top=X[0],F.left=X[1],F.bottom=X[2],F.right=X[3]}break;case"margin-top":F.top=(0,S.getMeasurement)(L);break;case"margin-bottom":F.bottom=(0,S.getMeasurement)(L);break;case"margin-left":F.left=(0,S.getMeasurement)(L);break;case"margin-right":F.right=(0,S.getMeasurement)(L);break;case"line-height":N=(0,S.getMeasurement)(L)}if(b.pushData(R,F,N),this[e.$content])b.addString(this[e.$content]);else for(const E of this[e.$getChildren]())"#text"!==E[e.$nodeName]?E[e.$pushGlyphs](b):b.addString(E[e.$content]);A&&b.popFont()}[e.$toHTML](b){const A=[];if(this[e.$extra]={children:A},this[e.$childrenToHTML]({}),0===A.length&&!this[e.$content])return S.HTMLResult.EMPTY;let R;return R=this[u]?this[e.$content]?this[e.$content].replace(i,"\n"):void 0:this[e.$content]||void 0,S.HTMLResult.success({name:this[e.$nodeName],attributes:{href:this.href,style:a(this.style,this,this[u])},children:A,value:R})}}class n extends l{constructor(b){super(b,"a"),this.href=(0,_.fixURL)(b.href)||""}}class o extends l{constructor(b){super(b,"b")}[e.$pushGlyphs](b){b.pushFont({weight:"bold"}),super[e.$pushGlyphs](b),b.popFont()}}class D extends l{constructor(b){super(b,"body")}[e.$toHTML](b){const A=super[e.$toHTML](b),{html:R}=A;return R?(R.name="div",R.attributes.class=["xfaRich"],A):S.HTMLResult.EMPTY}}class m extends l{constructor(b){super(b,"br")}[e.$text](){return"\n"}[e.$pushGlyphs](b){b.addString("\n")}[e.$toHTML](b){return S.HTMLResult.success({name:"br"})}}class O extends l{constructor(b){super(b,"html")}[e.$toHTML](b){const A=[];if(this[e.$extra]={children:A},this[e.$childrenToHTML]({}),0===A.length)return S.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[e.$content]||""});if(1===A.length){const R=A[0];if(R.attributes&&R.attributes.class.includes("xfaRich"))return S.HTMLResult.success(R)}return S.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:A})}}class B extends l{constructor(b){super(b,"i")}[e.$pushGlyphs](b){b.pushFont({posture:"italic"}),super[e.$pushGlyphs](b),b.popFont()}}class h extends l{constructor(b){super(b,"li")}}class y extends l{constructor(b){super(b,"ol")}}class g extends l{constructor(b){super(b,"p")}[e.$pushGlyphs](b){super[e.$pushGlyphs](b,!1),b.addString("\n"),b.addPara(),b.popFont()}[e.$text](){return this[e.$getParent]()[e.$getChildren]().at(-1)===this?super[e.$text]():super[e.$text]()+"\n"}}class r extends l{constructor(b){super(b,"span")}}class c extends l{constructor(b){super(b,"sub")}}class P extends l{constructor(b){super(b,"sup")}}class T extends l{constructor(b){super(b,"ul")}}class x{static[d.$buildXFAObject](b,A){if(x.hasOwnProperty(b))return x[b](A)}static a(b){return new n(b)}static b(b){return new o(b)}static body(b){return new D(b)}static br(b){return new m(b)}static html(b){return new O(b)}static i(b){return new B(b)}static li(b){return new h(b)}static ol(b){return new y(b)}static p(b){return new g(b)}static span(b){return new r(b)}static sub(b){return new c(b)}static sup(b){return new P(b)}static ul(b){return new T(b)}}v.XhtmlNamespace=x},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.UnknownNamespace=void 0;var e=K(79),d=K(77);v.UnknownNamespace=class _{constructor(t){this.namespaceId=t}[e.$buildXFAObject](t,u){return new d.XmlObject(this.namespaceId,t,u)}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.DatasetReader=void 0;var e=K(2),d=K(6),_=K(66);function S(u){try{return(0,e.stringToUTF8String)(u)}catch(I){return(0,e.warn)(`UTF-8 decoding failed: "${I}".`),u}}class t extends _.SimpleXMLParser{constructor(I){super(I),this.node=null}onEndElement(I){const w=super.onEndElement(I);if(w&&"xfa:datasets"===I)throw this.node=w,new Error("Aborting DatasetXMLParser.")}}v.DatasetReader=class{constructor(I){if(I.datasets)this.node=new _.SimpleXMLParser({hasAttributes:!0}).parseFromString(I.datasets).documentElement;else{const w=new t({hasAttributes:!0});try{w.parseFromString(I["xdp:xdp"])}catch{}this.node=w.node}}getValue(I){if(!this.node||!I)return"";const w=this.node.searchNode((0,d.parseXFAPath)(I),0);if(!w)return"";const k=w.firstChild;return k&&"value"===k.nodeName?w.children.map(s=>S(s.textContent)):S(w.textContent)}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.XRef=void 0;var e=K(2),d=K(5),_=K(6),S=K(17),t=K(7),u=K(67);v.XRef=class{constructor(w,k){this.stream=w,this.pdfManager=k,this.entries=[],this.xrefstms=Object.create(null),this._cacheMap=new Map,this._pendingRefs=new d.RefSet,this.stats=new _.DocStats(k.msgHandler),this._newRefNum=null}getNewRef(){return null===this._newRefNum&&(this._newRefNum=this.entries.length||1),d.Ref.get(this._newRefNum++,0)}resetNewRef(){this._newRefNum=null}setStartXRef(w){this.startXRefQueue=[w]}parse(w=!1){let k,s,i;w?((0,e.warn)("Indexing all PDF objects"),k=this.indexObjects()):k=this.readXRef(),k.assignXref(this),this.trailer=k;try{s=k.get("Encrypt")}catch(a){if(a instanceof _.MissingDataException)throw a;(0,e.warn)(`XRef.parse - Invalid "Encrypt" reference: "${a}".`)}if(s instanceof d.Dict){const a=k.get("ID"),f=a&&a.length?a[0]:"";s.suppressEncryption=!0,this.encrypt=new u.CipherTransformFactory(s,f,this.pdfManager.password)}try{i=k.get("Root")}catch(a){if(a instanceof _.MissingDataException)throw a;(0,e.warn)(`XRef.parse - Invalid "Root" reference: "${a}".`)}if(i instanceof d.Dict)try{if(i.get("Pages")instanceof d.Dict)return void(this.root=i)}catch(a){if(a instanceof _.MissingDataException)throw a;(0,e.warn)(`XRef.parse - Invalid "Pages" reference: "${a}".`)}throw w?new e.InvalidPDFException("Invalid Root reference."):new _.XRefParseException}processXRefTable(w){"tableState"in this||(this.tableState={entryNum:0,streamPos:w.lexer.stream.pos,parserBuf1:w.buf1,parserBuf2:w.buf2});const k=this.readXRefTable(w);if(!(0,d.isCmd)(k,"trailer"))throw new e.FormatError("Invalid XRef table: could not find trailer dictionary");let s=w.getObj();if(s instanceof d.Dict||!s.dict||(s=s.dict),!(s instanceof d.Dict))throw new e.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,s}readXRefTable(w){const k=w.lexer.stream,s=this.tableState;let i;for(k.pos=s.streamPos,w.buf1=s.parserBuf1,w.buf2=s.parserBuf2;;){if(!("firstEntryNum"in s)||!("entryCount"in s)){if((0,d.isCmd)(i=w.getObj(),"trailer"))break;s.firstEntryNum=i,s.entryCount=w.getObj()}let a=s.firstEntryNum;const f=s.entryCount;if(!Number.isInteger(a)||!Number.isInteger(f))throw new e.FormatError("Invalid XRef table: wrong types in subsection header");for(let l=s.entryNum;l<f;l++){s.streamPos=k.pos,s.entryNum=l,s.parserBuf1=w.buf1,s.parserBuf2=w.buf2;const n={};n.offset=w.getObj(),n.gen=w.getObj();const o=w.getObj();if(o instanceof d.Cmd)switch(o.cmd){case"f":n.free=!0;break;case"n":n.uncompressed=!0}if(!Number.isInteger(n.offset)||!Number.isInteger(n.gen)||!n.free&&!n.uncompressed)throw new e.FormatError(`Invalid entry in XRef subsection: ${a}, ${f}`);0===l&&n.free&&1===a&&(a=0),this.entries[l+a]||(this.entries[l+a]=n)}s.entryNum=0,s.streamPos=k.pos,s.parserBuf1=w.buf1,s.parserBuf2=w.buf2,delete s.firstEntryNum,delete s.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new e.FormatError("Invalid XRef table: unexpected first object");return i}processXRefStream(w){if(!("streamState"in this)){const k=w.dict,s=k.get("W");let i=k.get("Index");i||(i=[0,k.get("Size")]),this.streamState={entryRanges:i,byteWidths:s,entryNum:0,streamPos:w.pos}}return this.readXRefStream(w),delete this.streamState,w.dict}readXRefStream(w){const k=this.streamState;w.pos=k.streamPos;const[s,i,a]=k.byteWidths,f=k.entryRanges;for(;f.length>0;){const[l,n]=f;if(!Number.isInteger(l)||!Number.isInteger(n))throw new e.FormatError(`Invalid XRef range fields: ${l}, ${n}`);if(!Number.isInteger(s)||!Number.isInteger(i)||!Number.isInteger(a))throw new e.FormatError(`Invalid XRef entry fields length: ${l}, ${n}`);for(let o=k.entryNum;o<n;++o){k.entryNum=o,k.streamPos=w.pos;let D=0,m=0,O=0;for(let h=0;h<s;++h){const y=w.getByte();if(-1===y)throw new e.FormatError("Invalid XRef byteWidths 'type'.");D=D<<8|y}0===s&&(D=1);for(let h=0;h<i;++h){const y=w.getByte();if(-1===y)throw new e.FormatError("Invalid XRef byteWidths 'offset'.");m=m<<8|y}for(let h=0;h<a;++h){const y=w.getByte();if(-1===y)throw new e.FormatError("Invalid XRef byteWidths 'generation'.");O=O<<8|y}const B={};switch(B.offset=m,B.gen=O,D){case 0:B.free=!0;break;case 1:B.uncompressed=!0;break;case 2:break;default:throw new e.FormatError(`Invalid XRef entry type: ${D}`)}this.entries[l+o]||(this.entries[l+o]=B)}k.entryNum=0,k.streamPos=w.pos,f.splice(0,2)}}indexObjects(){function w(r,c){let P="",T=r[c];for(;10!==T&&13!==T&&60!==T&&!(++c>=r.length);)P+=String.fromCharCode(T),T=r[c];return P}function k(r,c,P){const T=P.length,x=r.length;let C=0;for(;c<x;){let b=0;for(;b<T&&r[c+b]===P[b];)++b;if(b>=T)break;c++,C++}return C}const s=/^(\d+)\s+(\d+)\s+obj\b/,i=/\bendobj[\b\s]$/,a=/\s+(\d+\s+\d+\s+obj[\b\s<])$/,f=new Uint8Array([116,114,97,105,108,101,114]),l=new Uint8Array([115,116,97,114,116,120,114,101,102]),n=new Uint8Array([111,98,106]),o=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const D=this.stream;D.pos=0;const m=D.getBytes(),O=m.length;let B=D.start;const h=[],y=[];for(;B<O;){let r=m[B];if(9===r||10===r||13===r||32===r){++B;continue}if(37===r){do{if(++B,B>=O)break;r=m[B]}while(10!==r&&13!==r);continue}const c=w(m,B);let P;if(c.startsWith("xref")&&(4===c.length||/\s/.test(c[4])))B+=k(m,B,f),h.push(B),B+=k(m,B,l);else if(P=s.exec(c)){const T=0|P[1],x=0|P[2];let C,b=B+c.length,A=!1;if(this.entries[T]){if(this.entries[T].gen===x)try{new S.Parser({lexer:new S.Lexer(D.makeSubStream(b))}).getObj(),A=!0}catch(N){N instanceof _.ParserEOFException?(0,e.warn)(`indexObjects -- checking object (${c}): "${N}".`):A=!0}}else A=!0;for(A&&(this.entries[T]={offset:B-D.start,gen:x,uncompressed:!0});b<m.length;){const N=b+k(m,b,n)+4;C=N-B;const E=Math.max(N-25,b),L=(0,e.bytesToString)(m.subarray(E,N));if(i.test(L))break;{const X=a.exec(L);if(X&&X[1]){(0,e.warn)('indexObjects: Found new "obj" inside of another "obj", caused by missing "endobj" -- trying to recover.'),C-=X[1].length;break}}b=N}const R=m.subarray(B,B+C),F=k(R,0,o);F<C&&R[F+5]<64&&(y.push(B-D.start),this.xrefstms[B-D.start]=1),B+=C}else c.startsWith("trailer")&&(7===c.length||/\s/.test(c[7]))?(h.push(B),B+=k(m,B,l)):B+=c.length+1}for(let r=0,c=y.length;r<c;++r)this.startXRefQueue.push(y[r]),this.readXRef(!0);let g;for(let r=0,c=h.length;r<c;++r){D.pos=h[r];const P=new S.Parser({lexer:new S.Lexer(D),xref:this,allowStreams:!0,recoveryMode:!0}),T=P.getObj();if(!(0,d.isCmd)(T,"trailer"))continue;const x=P.getObj();if(x instanceof d.Dict){try{const C=x.get("Root");if(!(C instanceof d.Dict))continue;const b=C.get("Pages");if(!(b instanceof d.Dict))continue;const A=b.get("Count");if(!Number.isInteger(A))continue}catch{continue}if(x.has("ID"))return x;g=x}}if(g)return g;if(this.topDict)return this.topDict;throw new e.InvalidPDFException("Invalid PDF structure.")}readXRef(w=!1){const k=this.stream,s=new Set;try{for(;this.startXRefQueue.length;){const i=this.startXRefQueue[0];if(s.has(i)){(0,e.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}s.add(i),k.pos=i+k.start;const a=new S.Parser({lexer:new S.Lexer(k),xref:this,allowStreams:!0});let f,l=a.getObj();if((0,d.isCmd)(l,"xref")){if(f=this.processXRefTable(a),this.topDict||(this.topDict=f),l=f.get("XRefStm"),Number.isInteger(l)){const n=l;n in this.xrefstms||(this.xrefstms[n]=1,this.startXRefQueue.push(n))}}else{if(!Number.isInteger(l))throw new e.FormatError("Invalid XRef stream header");if(!(Number.isInteger(a.getObj())&&(0,d.isCmd)(a.getObj(),"obj")&&(l=a.getObj())instanceof t.BaseStream))throw new e.FormatError("Invalid XRef stream");if(f=this.processXRefStream(l),this.topDict||(this.topDict=f),!f)throw new e.FormatError("Failed to read XRef stream")}l=f.get("Prev"),Number.isInteger(l)?this.startXRefQueue.push(l):l instanceof d.Ref&&this.startXRefQueue.push(l.num),this.startXRefQueue.shift()}return this.topDict}catch(i){if(i instanceof _.MissingDataException)throw i;(0,e.info)("(while reading XRef): "+i),this.startXRefQueue.shift()}if(!w)throw new _.XRefParseException}getEntry(w){const k=this.entries[w];return k&&!k.free&&k.offset?k:null}fetchIfRef(w,k=!1){return w instanceof d.Ref?this.fetch(w,k):w}fetch(w,k=!1){if(!(w instanceof d.Ref))throw new Error("ref object is not a reference");const s=w.num,i=this._cacheMap.get(s);if(void 0!==i)return i instanceof d.Dict&&!i.objId&&(i.objId=w.toString()),i;let a=this.getEntry(s);if(null===a)return this._cacheMap.set(s,a),a;if(this._pendingRefs.has(w))return this._pendingRefs.remove(w),(0,e.warn)(`Ignoring circular reference: ${w}.`),d.CIRCULAR_REF;this._pendingRefs.put(w);try{a=a.uncompressed?this.fetchUncompressed(w,a,k):this.fetchCompressed(w,a,k),this._pendingRefs.remove(w)}catch(f){throw this._pendingRefs.remove(w),f}return a instanceof d.Dict?a.objId=w.toString():a instanceof t.BaseStream&&(a.dict.objId=w.toString()),a}fetchUncompressed(w,k,s=!1){const i=w.gen;let a=w.num;if(k.gen!==i)throw new _.XRefEntryException(`Inconsistent generation in XRef: ${w}`);const f=this.stream.makeSubStream(k.offset+this.stream.start),l=new S.Parser({lexer:new S.Lexer(f),xref:this,allowStreams:!0}),n=l.getObj(),o=l.getObj(),D=l.getObj();if(n!==a||o!==i||!(D instanceof d.Cmd))throw new _.XRefEntryException(`Bad (uncompressed) XRef entry: ${w}`);if("obj"!==D.cmd){if(D.cmd.startsWith("obj")&&(a=parseInt(D.cmd.substring(3),10),!Number.isNaN(a)))return a;throw new _.XRefEntryException(`Bad (uncompressed) XRef entry: ${w}`)}return(k=this.encrypt&&!s?l.getObj(this.encrypt.createCipherTransform(a,i)):l.getObj())instanceof t.BaseStream||this._cacheMap.set(a,k),k}fetchCompressed(w,k,s=!1){const i=k.offset,a=this.fetch(d.Ref.get(i,0));if(!(a instanceof t.BaseStream))throw new e.FormatError("bad ObjStm stream");const f=a.dict.get("First"),l=a.dict.get("N");if(!Number.isInteger(f)||!Number.isInteger(l))throw new e.FormatError("invalid first and n parameters for ObjStm stream");let n=new S.Parser({lexer:new S.Lexer(a),xref:this,allowStreams:!0});const o=new Array(l),D=new Array(l);for(let B=0;B<l;++B){const h=n.getObj();if(!Number.isInteger(h))throw new e.FormatError(`invalid object number in the ObjStm stream: ${h}`);const y=n.getObj();if(!Number.isInteger(y))throw new e.FormatError(`invalid object offset in the ObjStm stream: ${y}`);o[B]=h,D[B]=y}const m=(a.start||0)+f,O=new Array(l);for(let B=0;B<l;++B){const h=B<l-1?D[B+1]-D[B]:void 0;if(h<0)throw new e.FormatError("Invalid offset in the ObjStm stream.");n=new S.Parser({lexer:new S.Lexer(a.makeSubStream(m+D[B],h,a.dict)),xref:this,allowStreams:!0});const y=n.getObj();if(O[B]=y,y instanceof t.BaseStream)continue;const g=o[B],r=this.entries[g];r&&r.offset===i&&r.gen===B&&this._cacheMap.set(g,y)}if(void 0===(k=O[k.gen]))throw new _.XRefEntryException(`Bad (compressed) XRef entry: ${w}`);return k}async fetchIfRefAsync(w,k){return w instanceof d.Ref?this.fetchAsync(w,k):w}async fetchAsync(w,k){try{return this.fetch(w,k)}catch(s){if(!(s instanceof _.MissingDataException))throw s;return await this.pdfManager.requestRange(s.begin,s.end),this.fetchAsync(w,k)}}getCatalogObj(){return this.root}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.MessageHandler=void 0;var e=K(2);function a(f){switch(f instanceof Error||"object"==typeof f&&null!==f||(0,e.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),f.name){case"AbortException":return new e.AbortException(f.message);case"MissingPDFException":return new e.MissingPDFException(f.message);case"PasswordException":return new e.PasswordException(f.message,f.code);case"UnexpectedResponseException":return new e.UnexpectedResponseException(f.message,f.status);case"UnknownErrorException":return new e.UnknownErrorException(f.message,f.details);default:return new e.UnknownErrorException(f.message,f.toString())}}v.MessageHandler=class{constructor(l,n,o){this.sourceName=l,this.targetName=n,this.comObj=o,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=D=>{const m=D.data;if(m.targetName!==this.sourceName)return;if(m.stream)return void this._processStreamMessage(m);if(m.callback){const B=m.callbackId,h=this.callbackCapabilities[B];if(!h)throw new Error(`Cannot resolve callback ${B}`);if(delete this.callbackCapabilities[B],1===m.callback)h.resolve(m.data);else{if(2!==m.callback)throw new Error("Unexpected callback case");h.reject(a(m.reason))}return}const O=this.actionHandler[m.action];if(!O)throw new Error(`Unknown action from worker: ${m.action}`);if(m.callbackId){const B=this.sourceName,h=m.sourceName;new Promise(function(y){y(O(m.data))}).then(function(y){o.postMessage({sourceName:B,targetName:h,callback:1,callbackId:m.callbackId,data:y})},function(y){o.postMessage({sourceName:B,targetName:h,callback:2,callbackId:m.callbackId,reason:a(y)})})}else m.streamId?this._createStreamSink(m):O(m.data)},o.addEventListener("message",this._onComObjOnMessage)}on(l,n){const o=this.actionHandler;if(o[l])throw new Error(`There is already an actionName called "${l}"`);o[l]=n}send(l,n,o){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:l,data:n},o)}sendWithPromise(l,n,o){const D=this.callbackId++,m=(0,e.createPromiseCapability)();this.callbackCapabilities[D]=m;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:l,callbackId:D,data:n},o)}catch(O){m.reject(O)}return m.promise}sendWithStream(l,n,o,D){const m=this.streamId++,O=this.sourceName,B=this.targetName,h=this.comObj;return new ReadableStream({start:y=>{const g=(0,e.createPromiseCapability)();return this.streamControllers[m]={controller:y,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:O,targetName:B,action:l,streamId:m,data:n,desiredSize:y.desiredSize},D),g.promise},pull:y=>{const g=(0,e.createPromiseCapability)();return this.streamControllers[m].pullCall=g,h.postMessage({sourceName:O,targetName:B,stream:6,streamId:m,desiredSize:y.desiredSize}),g.promise},cancel:y=>{(0,e.assert)(y instanceof Error,"cancel must have a valid reason");const g=(0,e.createPromiseCapability)();return this.streamControllers[m].cancelCall=g,this.streamControllers[m].isClosed=!0,h.postMessage({sourceName:O,targetName:B,stream:1,streamId:m,reason:a(y)}),g.promise}},o)}_createStreamSink(l){const n=l.streamId,o=this.sourceName,D=l.sourceName,m=this.comObj,O=this,B=this.actionHandler[l.action],h={enqueue(y,g=1,r){if(this.isCancelled)return;const c=this.desiredSize;this.desiredSize-=g,c>0&&this.desiredSize<=0&&(this.sinkCapability=(0,e.createPromiseCapability)(),this.ready=this.sinkCapability.promise),m.postMessage({sourceName:o,targetName:D,stream:4,streamId:n,chunk:y},r)},close(){this.isCancelled||(this.isCancelled=!0,m.postMessage({sourceName:o,targetName:D,stream:3,streamId:n}),delete O.streamSinks[n])},error(y){(0,e.assert)(y instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,m.postMessage({sourceName:o,targetName:D,stream:5,streamId:n,reason:a(y)}))},sinkCapability:(0,e.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:l.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[n]=h,new Promise(function(y){y(B(l.data,h))}).then(function(){m.postMessage({sourceName:o,targetName:D,stream:8,streamId:n,success:!0})},function(y){m.postMessage({sourceName:o,targetName:D,stream:8,streamId:n,reason:a(y)})})}_processStreamMessage(l){const n=l.streamId,o=this.sourceName,D=l.sourceName,m=this.comObj,O=this.streamControllers[n],B=this.streamSinks[n];switch(l.stream){case 8:l.success?O.startCall.resolve():O.startCall.reject(a(l.reason));break;case 7:l.success?O.pullCall.resolve():O.pullCall.reject(a(l.reason));break;case 6:if(!B){m.postMessage({sourceName:o,targetName:D,stream:7,streamId:n,success:!0});break}B.desiredSize<=0&&l.desiredSize>0&&B.sinkCapability.resolve(),B.desiredSize=l.desiredSize,new Promise(function(h){h(B.onPull&&B.onPull())}).then(function(){m.postMessage({sourceName:o,targetName:D,stream:7,streamId:n,success:!0})},function(h){m.postMessage({sourceName:o,targetName:D,stream:7,streamId:n,reason:a(h)})});break;case 4:if((0,e.assert)(O,"enqueue should have stream controller"),O.isClosed)break;O.controller.enqueue(l.chunk);break;case 3:if((0,e.assert)(O,"close should have stream controller"),O.isClosed)break;O.isClosed=!0,O.controller.close(),this._deleteStreamController(O,n);break;case 5:(0,e.assert)(O,"error should have stream controller"),O.controller.error(a(l.reason)),this._deleteStreamController(O,n);break;case 2:l.success?O.cancelCall.resolve():O.cancelCall.reject(a(l.reason)),this._deleteStreamController(O,n);break;case 1:if(!B)break;new Promise(function(h){h(B.onCancel&&B.onCancel(a(l.reason)))}).then(function(){m.postMessage({sourceName:o,targetName:D,stream:2,streamId:n,success:!0})},function(h){m.postMessage({sourceName:o,targetName:D,stream:2,streamId:n,reason:a(h)})}),B.sinkCapability.reject(a(l.reason)),B.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(l,n){await Promise.allSettled([l.startCall&&l.startCall.promise,l.pullCall&&l.pullCall.promise,l.cancelCall&&l.cancelCall.promise]),delete this.streamControllers[n]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(it,v,K)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PDFWorkerStream=void 0;var e=K(2);v.PDFWorkerStream=class{constructor(t){this._msgHandler=t,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,e.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new d(this._msgHandler),this._fullRequestReader}getRangeReader(t,u){const I=new _(t,u,this._msgHandler);return this._rangeRequestReaders.push(I),I}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const u of this._rangeRequestReaders.slice(0))u.cancel(t)}};class d{constructor(t){this._msgHandler=t,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const u=this._msgHandler.sendWithStream("GetReader");this._reader=u.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(I=>{this._isStreamingSupported=I.isStreamingSupported,this._isRangeSupported=I.isRangeSupported,this._contentLength=I.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:t,done:u}=await this._reader.read();return u?{value:void 0,done:!0}:{value:t.buffer,done:!1}}cancel(t){this._reader.cancel(t)}}class _{constructor(t,u,I){this._msgHandler=I,this.onProgress=null;const w=this._msgHandler.sendWithStream("GetRangeReader",{begin:t,end:u});this._reader=w.getReader()}get isStreamingSupported(){return!1}async read(){const{value:t,done:u}=await this._reader.read();return u?{value:void 0,done:!0}:{value:t.buffer,done:!1}}cancel(t){this._reader.cancel(t)}}}],et={};function dt(it){var v=et[it];if(void 0!==v)return v.exports;var K=et[it]={exports:{}};return It[it](K,K.exports,dt),K.exports}dt.d=(it,v)=>{for(var K in v)dt.o(v,K)&&!dt.o(it,K)&&Object.defineProperty(it,K,{enumerable:!0,get:v[K]})},dt.o=(it,v)=>Object.prototype.hasOwnProperty.call(it,v),dt.r=it=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(it,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(it,"__esModule",{value:!0})};var rt={};return(()=>{var it=rt;Object.defineProperty(it,"__esModule",{value:!0}),Object.defineProperty(it,"WorkerMessageHandler",{enumerable:!0,get:function(){return v.WorkerMessageHandler}});var v=dt(1)})(),rt})());